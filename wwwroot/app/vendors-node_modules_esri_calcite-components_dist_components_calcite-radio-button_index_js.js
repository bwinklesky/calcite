export const __webpack_id__ = "vendors-node_modules_esri_calcite-components_dist_components_calcite-radio-button_index_js";
export const __webpack_ids__ = ["vendors-node_modules_esri_calcite-components_dist_components_calcite-radio-button_index_js"];
export const __webpack_modules__ = {

/***/ "./node_modules/@esri/calcite-components/dist/chunks/InternalLabel.js":
/*!****************************************************************************!*\
  !*** ./node_modules/@esri/calcite-components/dist/chunks/InternalLabel.js ***!
  \****************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   I: () => (/* binding */ InternalLabel)
/* harmony export */ });
/* harmony import */ var lit_html__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lit-html */ "./node_modules/lit-html/development/lit-html.js");
/* harmony import */ var _arcgis_lumina__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @arcgis/lumina */ "./node_modules/@arcgis/lumina/dist/index.js");
/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
v3.3.3 */


const CSS = {
  alignmentCenter: "internal-label-alignment--center",
  alignmentEnd: "internal-label-alignment--end",
  container: "internal-label--container",
  requiredIndicator: "internal-label-required--indicator",
  spacingBottom: "internal-label-spacing--bottom",
  spacingInlineEnd: "internal-label-spacing-inline--end",
  spacingInlineStart: "internal-label-spacing-inline--start",
  text: "internal-label--text"
};
const InternalLabel = ({ alignmentCenter, bottomSpacingDisabled, labelText, onClick, required, spacingInlineEnd, spacingInlineStart, tooltipText }) => (0,lit_html__WEBPACK_IMPORTED_MODULE_0__.html)`<div class=${(0,_arcgis_lumina__WEBPACK_IMPORTED_MODULE_1__.safeClassMap)({
  [CSS.alignmentCenter]: alignmentCenter,
  [CSS.alignmentEnd]: !alignmentCenter,
  [CSS.container]: true,
  [CSS.spacingBottom]: !bottomSpacingDisabled,
  [CSS.spacingInlineEnd]: spacingInlineEnd,
  [CSS.spacingInlineStart]: spacingInlineStart
})} @click=${onClick}><div class=${(0,_arcgis_lumina__WEBPACK_IMPORTED_MODULE_1__.safeClassMap)(CSS.text)}>${labelText}${required && (0,lit_html__WEBPACK_IMPORTED_MODULE_0__.html)`<span aria-hidden=true class=${(0,_arcgis_lumina__WEBPACK_IMPORTED_MODULE_1__.safeClassMap)(CSS.requiredIndicator)} title=${tooltipText ?? lit_html__WEBPACK_IMPORTED_MODULE_0__.nothing}>*</span>` || ""}</div><slot name=label-content></slot></div>`;



/***/ }),

/***/ "./node_modules/@esri/calcite-components/dist/chunks/array.js":
/*!********************************************************************!*\
  !*** ./node_modules/@esri/calcite-components/dist/chunks/array.js ***!
  \********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   g: () => (/* binding */ getRoundRobinIndex)
/* harmony export */ });
/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
v3.3.3 */
function getRoundRobinIndex(index, total) {
  return (index + total) % total;
}



/***/ }),

/***/ "./node_modules/@esri/calcite-components/dist/chunks/label.js":
/*!********************************************************************!*\
  !*** ./node_modules/@esri/calcite-components/dist/chunks/label.js ***!
  \********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   a: () => (/* binding */ associateExplicitLabelToUnlabeledComponent),
/* harmony export */   b: () => (/* binding */ labelDisconnectedEvent),
/* harmony export */   c: () => (/* binding */ connectLabel),
/* harmony export */   d: () => (/* binding */ disconnectLabel),
/* harmony export */   g: () => (/* binding */ getLabelText),
/* harmony export */   l: () => (/* binding */ labelConnectedEvent)
/* harmony export */ });
/* harmony import */ var _dom_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./dom.js */ "./node_modules/@esri/calcite-components/dist/chunks/dom.js");
/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
v3.3.3 */

const labelClickEvent = "calciteInternalLabelClick";
const labelConnectedEvent = "calciteInternalLabelConnected";
const labelDisconnectedEvent = "calciteInternalLabelDisconnected";
const labelTagName = "calcite-label";
const labelToLabelables = /* @__PURE__ */ new WeakMap();
const onLabelClickMap = /* @__PURE__ */ new WeakMap();
const onLabelConnectedMap = /* @__PURE__ */ new WeakMap();
const onLabelDisconnectedMap = /* @__PURE__ */ new WeakMap();
const unlabeledComponents = /* @__PURE__ */ new Set();
const findLabelForComponent = (componentEl) => {
  const { id } = componentEl;
  const forLabel = id && (0,_dom_js__WEBPACK_IMPORTED_MODULE_0__.q)(componentEl, { selector: `${labelTagName}[for="${id}"]` });
  if (forLabel) {
    return forLabel;
  }
  const parentLabel = (0,_dom_js__WEBPACK_IMPORTED_MODULE_0__.l)(componentEl, labelTagName);
  if (!parentLabel || // labelable components within other custom elements are not considered labelable
  hasAncestorCustomElements(parentLabel, componentEl)) {
    return null;
  }
  return parentLabel;
};
function hasAncestorCustomElements(label, componentEl) {
  let traversedElements;
  const customElementAncestorCheckEventType = "custom-element-ancestor-check";
  const listener = (event) => {
    event.stopImmediatePropagation();
    const composedPath = event.composedPath();
    traversedElements = composedPath.slice(composedPath.indexOf(componentEl), composedPath.indexOf(label));
  };
  label.addEventListener(customElementAncestorCheckEventType, listener, { once: true });
  componentEl.dispatchEvent(new CustomEvent(customElementAncestorCheckEventType, { composed: true, bubbles: true }));
  label.removeEventListener(customElementAncestorCheckEventType, listener);
  const ancestorCustomElements = traversedElements.filter((el) => el !== componentEl && el !== label).filter((el) => el.tagName?.includes("-"));
  return ancestorCustomElements.length > 0;
}
function connectLabel(component) {
  if (!component) {
    return;
  }
  const labelEl = findLabelForComponent(component.el);
  if (onLabelClickMap.has(labelEl) && labelEl === component.labelEl || !labelEl && unlabeledComponents.has(component)) {
    return;
  }
  const boundOnLabelDisconnected = onLabelDisconnected.bind(component);
  if (labelEl) {
    component.labelEl = labelEl;
    const labelables = labelToLabelables.get(labelEl) || [];
    labelables.push(component);
    labelToLabelables.set(labelEl, labelables.sort(sortByDOMOrder));
    if (!onLabelClickMap.has(component.labelEl)) {
      onLabelClickMap.set(component.labelEl, onLabelClick);
      component.labelEl.addEventListener(labelClickEvent, onLabelClick);
    }
    unlabeledComponents.delete(component);
    document.removeEventListener(labelConnectedEvent, onLabelConnectedMap.get(component));
    onLabelDisconnectedMap.set(component, boundOnLabelDisconnected);
    document.addEventListener(labelDisconnectedEvent, boundOnLabelDisconnected);
  } else if (!unlabeledComponents.has(component)) {
    boundOnLabelDisconnected();
    document.removeEventListener(labelDisconnectedEvent, onLabelDisconnectedMap.get(component));
  }
}
function disconnectLabel(component) {
  if (!component) {
    return;
  }
  unlabeledComponents.delete(component);
  document.removeEventListener(labelConnectedEvent, onLabelConnectedMap.get(component));
  document.removeEventListener(labelDisconnectedEvent, onLabelDisconnectedMap.get(component));
  onLabelConnectedMap.delete(component);
  onLabelDisconnectedMap.delete(component);
  if (!component.labelEl) {
    return;
  }
  const labelables = labelToLabelables.get(component.labelEl);
  if (labelables.length === 1) {
    component.labelEl.removeEventListener(labelClickEvent, onLabelClickMap.get(component.labelEl));
    onLabelClickMap.delete(component.labelEl);
  }
  labelToLabelables.set(
    component.labelEl,
    labelables.filter((labelable) => labelable !== component).sort(sortByDOMOrder)
  );
  component.labelEl = null;
}
function sortByDOMOrder(a, b) {
  return (0,_dom_js__WEBPACK_IMPORTED_MODULE_0__.m)(a.el, b.el) ? -1 : 1;
}
function getLabelText(component) {
  return component.label || component.labelEl?.textContent?.trim() || "";
}
function onLabelClick(event) {
  const labelClickTarget = event.detail.sourceEvent.target;
  const labelables = labelToLabelables.get(this);
  const clickedLabelable = labelables.find((labelable) => labelable.el === labelClickTarget);
  const labelableChildClicked = labelables.includes(clickedLabelable);
  if (labelableChildClicked) {
    return;
  }
  const firstLabelable = labelables[0];
  if (firstLabelable.disabled) {
    return;
  }
  firstLabelable.onLabelClick(event);
}
function onLabelConnected() {
  if (unlabeledComponents.has(this)) {
    connectLabel(this);
  }
}
function onLabelDisconnected() {
  unlabeledComponents.add(this);
  const boundOnLabelConnected = onLabelConnectedMap.get(this) || onLabelConnected.bind(this);
  onLabelConnectedMap.set(this, boundOnLabelConnected);
  document.addEventListener(labelConnectedEvent, boundOnLabelConnected);
}
async function associateExplicitLabelToUnlabeledComponent(label) {
  await label.componentOnReady();
  const alreadyLabeled = labelToLabelables.has(label);
  if (alreadyLabeled) {
    return;
  }
  const forComponentEl = label.ownerDocument?.getElementById(label.for);
  if (!forComponentEl) {
    return;
  }
  requestAnimationFrame(() => {
    for (const labelable of unlabeledComponents) {
      if (labelable.el === forComponentEl) {
        connectLabel(labelable);
        break;
      }
    }
  });
}



/***/ }),

/***/ "./node_modules/@esri/calcite-components/dist/components/calcite-radio-button/customElement.js":
/*!*****************************************************************************************************!*\
  !*** ./node_modules/@esri/calcite-components/dist/components/calcite-radio-button/customElement.js ***!
  \*****************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   RadioButton: () => (/* binding */ RadioButton)
/* harmony export */ });
/* harmony import */ var _chunks_runtime_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../chunks/runtime.js */ "./node_modules/@esri/calcite-components/dist/chunks/runtime.js");
/* harmony import */ var lit__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lit */ "./node_modules/lit/index.js");
/* harmony import */ var _arcgis_lumina__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @arcgis/lumina */ "./node_modules/@arcgis/lumina/dist/index.js");
/* harmony import */ var lit_html_directives_ref_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lit-html/directives/ref.js */ "./node_modules/lit-html/development/directives/ref.js");
/* harmony import */ var _chunks_array_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../chunks/array.js */ "./node_modules/@esri/calcite-components/dist/chunks/array.js");
/* harmony import */ var _chunks_dom_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../chunks/dom.js */ "./node_modules/@esri/calcite-components/dist/chunks/dom.js");
/* harmony import */ var _chunks_form_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../chunks/form.js */ "./node_modules/@esri/calcite-components/dist/chunks/form.js");
/* harmony import */ var _chunks_interactive_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../chunks/interactive.js */ "./node_modules/@esri/calcite-components/dist/chunks/interactive.js");
/* harmony import */ var _chunks_label_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../chunks/label.js */ "./node_modules/@esri/calcite-components/dist/chunks/label.js");
/* harmony import */ var _chunks_InternalLabel_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../chunks/InternalLabel.js */ "./node_modules/@esri/calcite-components/dist/chunks/InternalLabel.js");
/* harmony import */ var _chunks_useSetFocus_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../chunks/useSetFocus.js */ "./node_modules/@esri/calcite-components/dist/chunks/useSetFocus.js");
/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
v3.3.3 */











const CSS = {
  container: "container",
  radio: "radio"
};
const styles = (0,lit__WEBPACK_IMPORTED_MODULE_1__.css)`:host{--calcite-internal-color-focus: var( --calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)) )}:host([disabled]){cursor:default;-webkit-user-select:none;user-select:none;opacity:var(--calcite-opacity-disabled)}:host([disabled]) *,:host([disabled]) ::slotted(*){pointer-events:none}:host{display:block;cursor:pointer}:host .container{position:relative;outline:2px solid transparent;outline-offset:2px;display:flex}:host .radio{cursor:pointer;transition-property:background-color,block-size,border-color,box-shadow,color,inset-block-end,inset-block-start,inset-inline-end,inset-inline-start,inset-size,opacity,outline-color,transform;transition-duration:var(--calcite-animation-timing);transition-timing-function:ease-in-out;outline-color:transparent;border-radius:var(--calcite-radio-button-corner-radius, var(--calcite-corner-radius-pill));background-color:var(--calcite-radio-button-background-color, var(--calcite-color-foreground-1));box-shadow:inset 0 0 0 var(--calcite-border-width-sm) var(--calcite-radio-button-border-color, var(--calcite-color-border-input))}:host([hovered]) .radio,:host(:not([checked])[focused]:not([disabled])) .radio{box-shadow:inset 0 0 0 var(--calcite-border-width-md) var(--calcite-radio-button-border-color, var(--calcite-color-brand-hover))}:host([hovered]) .radio:active,:host(:not([checked])[focused]:not([disabled])) .radio:active{box-shadow:inset 0 0 0 var(--calcite-border-width-md) var(--calcite-color-brand-press)}:host([focused]) .radio{outline:var(--calcite-border-width-md) solid var(--calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)));outline:var(--calcite-border-width-md) solid var(--calcite-internal-color-focus);outline-offset:calc(var(--calcite-spacing-base) * calc(1 - (2*clamp(0,var(--calcite-offset-invert-focus),1))))}:host([disabled]) .radio{cursor:default;opacity:var(--calcite-opacity-disabled)}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}.interaction-container{display:contents}:host([hovered][disabled]) .radio{box-shadow:inset 0 0 0 var(--calcite-border-width-sm) var(--calcite-radio-button-border-color, var(--calcite-color-border-input))}:host([scale=s]){--calcite-internal-radio-size: var( --calcite-radio-button-size, var(--calcite-radio-size, var(--calcite-size-fixed-md)) )}:host([scale=m]){--calcite-internal-radio-size: var( --calcite-radio-button-size, var(--calcite-radio-size, var(--calcite-size-fixed-md-plus)) )}:host([scale=l]){--calcite-internal-radio-size: var( --calcite-radio-button-size, var(--calcite-radio-size, var(--calcite-size-fixed-lg)) )}.radio{block-size:var(--calcite-internal-radio-size);inline-size:var(--calcite-internal-radio-size);size:var(--calcite-internal-radio-size)}:host([scale=s][checked]) .radio,:host([hovered][scale=s][checked][disabled]) .radio{box-shadow:inset 0 0 0 var(--calcite-border-width-lg) var(--calcite-radio-button-border-color, var(--calcite-color-brand))}:host([scale=s][focused][checked]:not([disabled])) .radio{box-shadow:inset 0 0 0 var(--calcite-border-width-lg) var(--calcite-radio-button-border-color, var(--calcite-color-brand)),0 0 0 2px var(--calcite-radio-button-background-color, var(--calcite-color-foreground-1))}:host([scale=m][checked]) .radio,:host([hovered][scale=m][checked][disabled]) .radio{box-shadow:inset 0 0 0 5px var(--calcite-radio-button-border-color, var(--calcite-color-brand))}:host([scale=m][focused][checked]:not([disabled])) .radio{box-shadow:inset 0 0 0 5px var(--calcite-radio-button-border-color, var(--calcite-color-brand)),0 0 0 2px var(--calcite-radio-button-background-color, var(--calcite-color-foreground-1))}:host([scale=l][checked]) .radio,:host([hovered][scale=l][checked][disabled]) .radio{box-shadow:inset 0 0 0 6px var(--calcite-radio-button-border-color, var(--calcite-color-brand))}:host([scale=l][focused][checked]:not([disabled])) .radio{box-shadow:inset 0 0 0 6px var(--calcite-radio-button-border-color, var(--calcite-color-brand)),0 0 0 2px var(--calcite-radio-button-background-color, var(--calcite-color-foreground-1))}@media (forced-colors: active){:host([checked]) .radio:after,:host([checked][disabled]) .radio:after{content:"";inline-size:var(--calcite-internal-radio-size);block-size:var(--calcite-internal-radio-size);background-color:CanvasText;display:block}}.internal-label-alignment--center{align-items:center}.internal-label-alignment--end{align-items:end}.internal-label--container{display:flex;justify-content:space-between;color:var(--calcite-color-text-1)}.internal-label-required--indicator{font-weight:var(--calcite-font-weight-medium);color:var(--calcite-color-status-danger);padding-inline:var(--calcite-spacing-base)}.internal-label-required--indicator:hover{cursor:help}.internal-label--text{line-height:1}:host([scale=s]) .internal-label-spacing--bottom{margin-block-end:var(--calcite-spacing-xxs)}:host([scale=s]) .internal-label-spacing-inline--end{margin-inline-end:var(--calcite-spacing-sm)}:host([scale=s]) .internal-label-spacing-inline--start{margin-inline-start:var(--calcite-spacing-sm)}:host([scale=s]) .internal-label--text{font-size:var(--calcite-font-size--2)}:host([scale=m]) .internal-label-spacing--bottom{margin-block-end:var(--calcite-spacing-sm)}:host([scale=m]) .internal-label-spacing-inline--end{margin-inline-end:var(--calcite-spacing-sm)}:host([scale=m]) .internal-label-spacing-inline--start{margin-inline-start:var(--calcite-spacing-sm)}:host([scale=m]) .internal-label--text{font-size:var(--calcite-font-size--1)}:host([scale=l]) .internal-label-spacing--bottom{margin-block-end:var(--calcite-spacing-sm)}:host([scale=l]) .internal-label-spacing-inline--end{margin-inline-end:var(--calcite-spacing-md)}:host([scale=l]) .internal-label-spacing-inline--start{margin-inline-start:var(--calcite-spacing-md)}:host([scale=l]) .internal-label--text{font-size:var(--calcite-font-size-0)}::slotted(input[slot=hidden-form-input]){margin:0!important;opacity:0!important;outline:none!important;padding:0!important;position:absolute!important;inset:0!important;transform:none!important;-webkit-appearance:none!important;z-index:-1!important}:host([hidden]){display:none}[hidden]{display:none}`;
class RadioButton extends _arcgis_lumina__WEBPACK_IMPORTED_MODULE_2__.LitElement {
  constructor() {
    super();
    this.containerRef = (0,lit_html_directives_ref_js__WEBPACK_IMPORTED_MODULE_3__.createRef)();
    this.focusSetter = (0,_chunks_useSetFocus_js__WEBPACK_IMPORTED_MODULE_10__.u)()(this);
    this.checked = false;
    this.disabled = false;
    this.focused = false;
    this.hovered = false;
    this.required = false;
    this.scale = "m";
    this.calciteInternalRadioButtonBlur = (0,_arcgis_lumina__WEBPACK_IMPORTED_MODULE_2__.createEvent)({ cancelable: false });
    this.calciteInternalRadioButtonCheckedChange = (0,_arcgis_lumina__WEBPACK_IMPORTED_MODULE_2__.createEvent)({ cancelable: false });
    this.calciteInternalRadioButtonFocus = (0,_arcgis_lumina__WEBPACK_IMPORTED_MODULE_2__.createEvent)({ cancelable: false });
    this.calciteRadioButtonChange = (0,_arcgis_lumina__WEBPACK_IMPORTED_MODULE_2__.createEvent)({ cancelable: false });
    this.listen("pointerenter", this.pointerEnterHandler);
    this.listen("pointerleave", this.pointerLeaveHandler);
    this.listen("click", this.clickHandler);
    this.listen("keydown", this.handleKeyDown);
  }
  static {
    this.properties = { checked: [7, {}, { reflect: true, type: Boolean }], disabled: [7, {}, { reflect: true, type: Boolean }], focused: [7, {}, { reflect: true, type: Boolean }], form: [3, {}, { reflect: true }], hovered: [7, {}, { reflect: true, type: Boolean }], label: 1, labelText: 1, name: [3, {}, { reflect: true }], required: [7, {}, { reflect: true, type: Boolean }], scale: [3, {}, { reflect: true }], value: 1 };
  }
  static {
    this.styles = styles;
  }
  async emitCheckedChange() {
    this.calciteInternalRadioButtonCheckedChange.emit();
  }
  async setFocus(options) {
    return this.focusSetter(() => this.containerRef.value, options);
  }
  connectedCallback() {
    this.rootNode = this.el.getRootNode();
    if (this.name) {
      this.checkLastRadioButton();
    }
    (0,_chunks_label_js__WEBPACK_IMPORTED_MODULE_8__.c)(this);
    (0,_chunks_form_js__WEBPACK_IMPORTED_MODULE_6__.c)(this);
    this.updateTabIndexOfOtherRadioButtonsInGroup();
    super.connectedCallback();
  }
  willUpdate(changes) {
    if (this.hasUpdated && changes.has("checked")) {
      this.checkedChanged(this.checked);
    }
    if (changes.has("disabled") && (this.hasUpdated || this.disabled !== false)) {
      this.updateTabIndexOfOtherRadioButtonsInGroup();
    }
    if (changes.has("name")) {
      this.checkLastRadioButton();
    }
  }
  updated() {
    (0,_chunks_interactive_js__WEBPACK_IMPORTED_MODULE_7__.u)(this);
  }
  loaded() {
    if (this.focused && !this.disabled) {
      this.setFocus();
    }
  }
  disconnectedCallback() {
    super.disconnectedCallback();
    (0,_chunks_label_js__WEBPACK_IMPORTED_MODULE_8__.d)(this);
    (0,_chunks_form_js__WEBPACK_IMPORTED_MODULE_6__.d)(this);
    this.updateTabIndexOfOtherRadioButtonsInGroup();
  }
  checkedChanged(newChecked) {
    if (newChecked) {
      this.uncheckOtherRadioButtonsInGroup();
    }
    this.calciteInternalRadioButtonCheckedChange.emit();
  }
  syncHiddenFormInput(input) {
    input.type = "radio";
  }
  selectItem(items, selectedIndex) {
    items[selectedIndex].click();
  }
  queryButtons() {
    return Array.from(this.rootNode.querySelectorAll("calcite-radio-button:not([hidden])")).filter((radioButton) => radioButton.name === this.name);
  }
  isFocusable() {
    const radioButtons = this.queryButtons();
    const firstFocusable = radioButtons.find((radioButton) => !radioButton.disabled);
    const checked = radioButtons.find((radioButton) => radioButton.checked);
    return firstFocusable === this.el && !checked;
  }
  check() {
    if (this.disabled) {
      return;
    }
    this.focused = true;
    this.setFocus();
    if (this.checked) {
      return;
    }
    this.uncheckAllRadioButtonsInGroup();
    this.checked = true;
    this.calciteRadioButtonChange.emit();
  }
  clickHandler() {
    if (this.disabled) {
      return;
    }
    this.check();
  }
  onLabelClick(event) {
    if (this.disabled || this.el.hidden) {
      return;
    }
    const label = event.currentTarget;
    const radioButton = label.for ? this.rootNode.querySelector(`calcite-radio-button[id="${label.for}"]`) : label.querySelector(`calcite-radio-button[name="${this.name}"]`);
    if (!radioButton) {
      return;
    }
    radioButton.focused = true;
    this.setFocus();
    if (radioButton.checked) {
      return;
    }
    this.uncheckOtherRadioButtonsInGroup();
    radioButton.checked = true;
    this.calciteRadioButtonChange.emit();
  }
  checkLastRadioButton() {
    const radioButtons = this.queryButtons();
    const checkedRadioButtons = radioButtons.filter((radioButton) => radioButton.checked);
    if (checkedRadioButtons?.length > 1) {
      const lastCheckedRadioButton = checkedRadioButtons[checkedRadioButtons.length - 1];
      checkedRadioButtons.filter((checkedRadioButton) => checkedRadioButton !== lastCheckedRadioButton).forEach((checkedRadioButton) => {
        checkedRadioButton.checked = false;
        checkedRadioButton.emitCheckedChange();
      });
    }
  }
  uncheckAllRadioButtonsInGroup() {
    const radioButtons = this.queryButtons();
    radioButtons.forEach((radioButton) => {
      if (radioButton.checked) {
        radioButton.checked = false;
        radioButton.focused = false;
      }
    });
  }
  uncheckOtherRadioButtonsInGroup() {
    const radioButtons = this.queryButtons();
    const otherRadioButtons = radioButtons.filter((radioButton) => radioButton !== this.el);
    otherRadioButtons.forEach((otherRadioButton) => {
      if (otherRadioButton.checked) {
        otherRadioButton.checked = false;
        otherRadioButton.focused = false;
      }
    });
  }
  updateTabIndexOfOtherRadioButtonsInGroup() {
    const radioButtons = this.queryButtons();
    const otherFocusableRadioButtons = radioButtons.filter((radioButton) => radioButton !== this.el && !radioButton.disabled);
    otherFocusableRadioButtons.forEach((radioButton) => {
      radioButton.manager?.component.requestUpdate();
    });
  }
  getTabIndex() {
    if (this.disabled) {
      return void 0;
    }
    return this.checked || this.isFocusable() ? 0 : -1;
  }
  pointerEnterHandler() {
    if (this.disabled) {
      return;
    }
    this.hovered = true;
  }
  pointerLeaveHandler() {
    if (this.disabled) {
      return;
    }
    this.hovered = false;
  }
  handleKeyDown(event) {
    const keys = ["ArrowLeft", "ArrowUp", "ArrowRight", "ArrowDown", " "];
    const { key } = event;
    const { el } = this;
    if (keys.indexOf(key) === -1) {
      return;
    }
    if (key === " ") {
      this.check();
      event.preventDefault();
      return;
    }
    let adjustedKey = key;
    if ((0,_chunks_dom_js__WEBPACK_IMPORTED_MODULE_5__.g)(el) === "rtl") {
      if (key === "ArrowRight") {
        adjustedKey = "ArrowLeft";
      }
      if (key === "ArrowLeft") {
        adjustedKey = "ArrowRight";
      }
    }
    const radioButtons = Array.from(this.rootNode.querySelectorAll("calcite-radio-button:not([hidden])")).filter((radioButton) => radioButton.name === this.name);
    let currentIndex = 0;
    radioButtons.some((item, index) => {
      if (item.checked) {
        currentIndex = index;
        return true;
      }
    });
    switch (adjustedKey) {
      case "ArrowLeft":
      case "ArrowUp":
        event.preventDefault();
        this.selectItem(radioButtons, this.getNextNonDisabledIndex(radioButtons, currentIndex, "left"));
        return;
      case "ArrowRight":
      case "ArrowDown":
        event.preventDefault();
        this.selectItem(radioButtons, this.getNextNonDisabledIndex(radioButtons, currentIndex, "right"));
        return;
      default:
        return;
    }
  }
  getNextNonDisabledIndex(radioButtons, startIndex, dir) {
    const totalButtons = radioButtons.length;
    const offset = dir === "left" ? -1 : 1;
    let selectIndex = (0,_chunks_array_js__WEBPACK_IMPORTED_MODULE_4__.g)(startIndex + offset, totalButtons);
    while (radioButtons[selectIndex].disabled) {
      selectIndex = (0,_chunks_array_js__WEBPACK_IMPORTED_MODULE_4__.g)(selectIndex + offset, totalButtons);
    }
    return selectIndex;
  }
  onContainerBlur() {
    this.focused = false;
    this.calciteInternalRadioButtonBlur.emit();
  }
  onContainerFocus() {
    if (!this.disabled) {
      this.focused = true;
      this.calciteInternalRadioButtonFocus.emit();
    }
  }
  render() {
    const tabIndex = this.getTabIndex();
    return (0,_chunks_interactive_js__WEBPACK_IMPORTED_MODULE_7__.I)({ disabled: this.disabled, children: (0,lit__WEBPACK_IMPORTED_MODULE_1__.html)`<div .ariaChecked=${this.checked} .ariaLabel=${(0,_chunks_label_js__WEBPACK_IMPORTED_MODULE_8__.g)(this)} class=${(0,_arcgis_lumina__WEBPACK_IMPORTED_MODULE_2__.safeClassMap)(CSS.container)} @blur=${this.onContainerBlur} @focus=${this.onContainerFocus} role=radio tabindex=${tabIndex ?? lit__WEBPACK_IMPORTED_MODULE_1__.nothing} ${(0,lit_html_directives_ref_js__WEBPACK_IMPORTED_MODULE_3__.ref)(this.containerRef)}><div class=${(0,_arcgis_lumina__WEBPACK_IMPORTED_MODULE_2__.safeClassMap)(CSS.radio)}></div>${this.labelText && (0,_chunks_InternalLabel_js__WEBPACK_IMPORTED_MODULE_9__.I)({ labelText: this.labelText, spacingInlineStart: true }) || ""}</div>${(0,_chunks_form_js__WEBPACK_IMPORTED_MODULE_6__.H)({ component: this })}` });
  }
}
(0,_chunks_runtime_js__WEBPACK_IMPORTED_MODULE_0__.c)("calcite-radio-button", RadioButton);



/***/ }),

/***/ "./node_modules/@esri/calcite-components/dist/components/calcite-radio-button/index.js":
/*!*********************************************************************************************!*\
  !*** ./node_modules/@esri/calcite-components/dist/components/calcite-radio-button/index.js ***!
  \*********************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   RadioButton: () => (/* reexport safe */ _customElement_js__WEBPACK_IMPORTED_MODULE_0__.RadioButton)
/* harmony export */ });
/* harmony import */ var _customElement_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./customElement.js */ "./node_modules/@esri/calcite-components/dist/components/calcite-radio-button/customElement.js");


/***/ })

};

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmVuZG9ycy1ub2RlX21vZHVsZXNfZXNyaV9jYWxjaXRlLWNvbXBvbmVudHNfZGlzdF9jb21wb25lbnRzX2NhbGNpdGUtcmFkaW8tYnV0dG9uX2luZGV4X2pzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDeUM7QUFDSztBQUM5QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5Qix5SEFBeUgsS0FBSyw4Q0FBSSxjQUFjLDREQUFZO0FBQ3JMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsR0FBRyxTQUFTLFFBQVEsY0FBYyw0REFBWSxXQUFXLEdBQUcsVUFBVSxFQUFFLFlBQVksOENBQUksZ0NBQWdDLDREQUFZLHlCQUF5QixRQUFRLGVBQWUsNkNBQU8sQ0FBQyxpQkFBaUI7QUFHNU07Ozs7Ozs7Ozs7Ozs7OztBQ3pCRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHRTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDUkY7QUFDQTtBQUNBO0FBQ3lHO0FBQ3pHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVSxLQUFLO0FBQ2YseUJBQXlCLDBDQUFpQixnQkFBZ0IsYUFBYSxhQUFhLFFBQVEsR0FBRyxLQUFLO0FBQ3BHO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQiwwQ0FBaUM7QUFDdkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBFQUEwRSxZQUFZO0FBQ3RGLG1GQUFtRiwrQkFBK0I7QUFDbEg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNB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Q0E7QUFDQTtBQUNBLFlBQVksTUFBTTtBQUNsQixZQUFZLEtBQUs7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSxpREFBYTtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQixtREFBa0I7QUFDeEM7QUFDQSxvQkFBb0IsbURBQWtCO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcseURBQW9CLEdBQUcsbUNBQW1DLHlDQUFJLHFCQUFxQixjQUFjLGFBQWEsbURBQVksUUFBUSxRQUFRLDREQUFZLGlCQUFpQixRQUFRLHNCQUFzQixTQUFTLHVCQUF1QixzQkFBc0IsWUFBWSx3Q0FBTyxFQUFFLEVBQUUsK0RBQUcsb0JBQW9CLGNBQWMsNERBQVksWUFBWSxTQUFTLGtCQUFrQiwyREFBYSxHQUFHLHFEQUFxRCxRQUFRLFFBQVEsa0RBQW1CLEdBQUcsaUJBQWlCLEVBQUUsR0FBRztBQUN0ZjtBQUNBO0FBQ0EscURBQWE7QUFHWCIsInNvdXJjZXMiOlsid2VicGFjazovL3ByZWNpc2lvbmZhcm1zLy4vbm9kZV9tb2R1bGVzL0Blc3JpL2NhbGNpdGUtY29tcG9uZW50cy9kaXN0L2NodW5rcy9JbnRlcm5hbExhYmVsLmpzIiwid2VicGFjazovL3ByZWNpc2lvbmZhcm1zLy4vbm9kZV9tb2R1bGVzL0Blc3JpL2NhbGNpdGUtY29tcG9uZW50cy9kaXN0L2NodW5rcy9hcnJheS5qcyIsIndlYnBhY2s6Ly9wcmVjaXNpb25mYXJtcy8uL25vZGVfbW9kdWxlcy9AZXNyaS9jYWxjaXRlLWNvbXBvbmVudHMvZGlzdC9jaHVua3MvbGFiZWwuanMiLCJ3ZWJwYWNrOi8vcHJlY2lzaW9uZmFybXMvLi9ub2RlX21vZHVsZXMvQGVzcmkvY2FsY2l0ZS1jb21wb25lbnRzL2Rpc3QvY29tcG9uZW50cy9jYWxjaXRlLXJhZGlvLWJ1dHRvbi9jdXN0b21FbGVtZW50LmpzIiwid2VicGFjazovL3ByZWNpc2lvbmZhcm1zLy4vbm9kZV9tb2R1bGVzL0Blc3JpL2NhbGNpdGUtY29tcG9uZW50cy9kaXN0L2NvbXBvbmVudHMvY2FsY2l0ZS1yYWRpby1idXR0b24vaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiLyohIEFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9naXRodWIuY29tL0VzcmkvY2FsY2l0ZS1kZXNpZ24tc3lzdGVtL2Jsb2IvZGV2L0xJQ0VOU0UubWQgZm9yIGRldGFpbHMuXG52My4zLjMgKi9cbmltcG9ydCB7IG5vdGhpbmcsIGh0bWwgfSBmcm9tIFwibGl0LWh0bWxcIjtcbmltcG9ydCB7IHNhZmVDbGFzc01hcCB9IGZyb20gXCJAYXJjZ2lzL2x1bWluYVwiO1xuY29uc3QgQ1NTID0ge1xuICBhbGlnbm1lbnRDZW50ZXI6IFwiaW50ZXJuYWwtbGFiZWwtYWxpZ25tZW50LS1jZW50ZXJcIixcbiAgYWxpZ25tZW50RW5kOiBcImludGVybmFsLWxhYmVsLWFsaWdubWVudC0tZW5kXCIsXG4gIGNvbnRhaW5lcjogXCJpbnRlcm5hbC1sYWJlbC0tY29udGFpbmVyXCIsXG4gIHJlcXVpcmVkSW5kaWNhdG9yOiBcImludGVybmFsLWxhYmVsLXJlcXVpcmVkLS1pbmRpY2F0b3JcIixcbiAgc3BhY2luZ0JvdHRvbTogXCJpbnRlcm5hbC1sYWJlbC1zcGFjaW5nLS1ib3R0b21cIixcbiAgc3BhY2luZ0lubGluZUVuZDogXCJpbnRlcm5hbC1sYWJlbC1zcGFjaW5nLWlubGluZS0tZW5kXCIsXG4gIHNwYWNpbmdJbmxpbmVTdGFydDogXCJpbnRlcm5hbC1sYWJlbC1zcGFjaW5nLWlubGluZS0tc3RhcnRcIixcbiAgdGV4dDogXCJpbnRlcm5hbC1sYWJlbC0tdGV4dFwiXG59O1xuY29uc3QgSW50ZXJuYWxMYWJlbCA9ICh7IGFsaWdubWVudENlbnRlciwgYm90dG9tU3BhY2luZ0Rpc2FibGVkLCBsYWJlbFRleHQsIG9uQ2xpY2ssIHJlcXVpcmVkLCBzcGFjaW5nSW5saW5lRW5kLCBzcGFjaW5nSW5saW5lU3RhcnQsIHRvb2x0aXBUZXh0IH0pID0+IGh0bWxgPGRpdiBjbGFzcz0ke3NhZmVDbGFzc01hcCh7XG4gIFtDU1MuYWxpZ25tZW50Q2VudGVyXTogYWxpZ25tZW50Q2VudGVyLFxuICBbQ1NTLmFsaWdubWVudEVuZF06ICFhbGlnbm1lbnRDZW50ZXIsXG4gIFtDU1MuY29udGFpbmVyXTogdHJ1ZSxcbiAgW0NTUy5zcGFjaW5nQm90dG9tXTogIWJvdHRvbVNwYWNpbmdEaXNhYmxlZCxcbiAgW0NTUy5zcGFjaW5nSW5saW5lRW5kXTogc3BhY2luZ0lubGluZUVuZCxcbiAgW0NTUy5zcGFjaW5nSW5saW5lU3RhcnRdOiBzcGFjaW5nSW5saW5lU3RhcnRcbn0pfSBAY2xpY2s9JHtvbkNsaWNrfT48ZGl2IGNsYXNzPSR7c2FmZUNsYXNzTWFwKENTUy50ZXh0KX0+JHtsYWJlbFRleHR9JHtyZXF1aXJlZCAmJiBodG1sYDxzcGFuIGFyaWEtaGlkZGVuPXRydWUgY2xhc3M9JHtzYWZlQ2xhc3NNYXAoQ1NTLnJlcXVpcmVkSW5kaWNhdG9yKX0gdGl0bGU9JHt0b29sdGlwVGV4dCA/PyBub3RoaW5nfT4qPC9zcGFuPmAgfHwgXCJcIn08L2Rpdj48c2xvdCBuYW1lPWxhYmVsLWNvbnRlbnQ+PC9zbG90PjwvZGl2PmA7XG5leHBvcnQge1xuICBJbnRlcm5hbExhYmVsIGFzIElcbn07XG4iLCIvKiEgQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2dpdGh1Yi5jb20vRXNyaS9jYWxjaXRlLWRlc2lnbi1zeXN0ZW0vYmxvYi9kZXYvTElDRU5TRS5tZCBmb3IgZGV0YWlscy5cbnYzLjMuMyAqL1xuZnVuY3Rpb24gZ2V0Um91bmRSb2JpbkluZGV4KGluZGV4LCB0b3RhbCkge1xuICByZXR1cm4gKGluZGV4ICsgdG90YWwpICUgdG90YWw7XG59XG5leHBvcnQge1xuICBnZXRSb3VuZFJvYmluSW5kZXggYXMgZ1xufTtcbiIsIi8qISBBbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9Fc3JpL2NhbGNpdGUtZGVzaWduLXN5c3RlbS9ibG9iL2Rldi9MSUNFTlNFLm1kIGZvciBkZXRhaWxzLlxudjMuMy4zICovXG5pbXBvcnQgeyBxIGFzIHF1ZXJ5RWxlbWVudFJvb3RzLCBsIGFzIGNsb3Nlc3RFbGVtZW50Q3Jvc3NTaGFkb3dCb3VuZGFyeSwgbSBhcyBpc0JlZm9yZSB9IGZyb20gXCIuL2RvbS5qc1wiO1xuY29uc3QgbGFiZWxDbGlja0V2ZW50ID0gXCJjYWxjaXRlSW50ZXJuYWxMYWJlbENsaWNrXCI7XG5jb25zdCBsYWJlbENvbm5lY3RlZEV2ZW50ID0gXCJjYWxjaXRlSW50ZXJuYWxMYWJlbENvbm5lY3RlZFwiO1xuY29uc3QgbGFiZWxEaXNjb25uZWN0ZWRFdmVudCA9IFwiY2FsY2l0ZUludGVybmFsTGFiZWxEaXNjb25uZWN0ZWRcIjtcbmNvbnN0IGxhYmVsVGFnTmFtZSA9IFwiY2FsY2l0ZS1sYWJlbFwiO1xuY29uc3QgbGFiZWxUb0xhYmVsYWJsZXMgPSAvKiBAX19QVVJFX18gKi8gbmV3IFdlYWtNYXAoKTtcbmNvbnN0IG9uTGFiZWxDbGlja01hcCA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgV2Vha01hcCgpO1xuY29uc3Qgb25MYWJlbENvbm5lY3RlZE1hcCA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgV2Vha01hcCgpO1xuY29uc3Qgb25MYWJlbERpc2Nvbm5lY3RlZE1hcCA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgV2Vha01hcCgpO1xuY29uc3QgdW5sYWJlbGVkQ29tcG9uZW50cyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgU2V0KCk7XG5jb25zdCBmaW5kTGFiZWxGb3JDb21wb25lbnQgPSAoY29tcG9uZW50RWwpID0+IHtcbiAgY29uc3QgeyBpZCB9ID0gY29tcG9uZW50RWw7XG4gIGNvbnN0IGZvckxhYmVsID0gaWQgJiYgcXVlcnlFbGVtZW50Um9vdHMoY29tcG9uZW50RWwsIHsgc2VsZWN0b3I6IGAke2xhYmVsVGFnTmFtZX1bZm9yPVwiJHtpZH1cIl1gIH0pO1xuICBpZiAoZm9yTGFiZWwpIHtcbiAgICByZXR1cm4gZm9yTGFiZWw7XG4gIH1cbiAgY29uc3QgcGFyZW50TGFiZWwgPSBjbG9zZXN0RWxlbWVudENyb3NzU2hhZG93Qm91bmRhcnkoY29tcG9uZW50RWwsIGxhYmVsVGFnTmFtZSk7XG4gIGlmICghcGFyZW50TGFiZWwgfHwgLy8gbGFiZWxhYmxlIGNvbXBvbmVudHMgd2l0aGluIG90aGVyIGN1c3RvbSBlbGVtZW50cyBhcmUgbm90IGNvbnNpZGVyZWQgbGFiZWxhYmxlXG4gIGhhc0FuY2VzdG9yQ3VzdG9tRWxlbWVudHMocGFyZW50TGFiZWwsIGNvbXBvbmVudEVsKSkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIHJldHVybiBwYXJlbnRMYWJlbDtcbn07XG5mdW5jdGlvbiBoYXNBbmNlc3RvckN1c3RvbUVsZW1lbnRzKGxhYmVsLCBjb21wb25lbnRFbCkge1xuICBsZXQgdHJhdmVyc2VkRWxlbWVudHM7XG4gIGNvbnN0IGN1c3RvbUVsZW1lbnRBbmNlc3RvckNoZWNrRXZlbnRUeXBlID0gXCJjdXN0b20tZWxlbWVudC1hbmNlc3Rvci1jaGVja1wiO1xuICBjb25zdCBsaXN0ZW5lciA9IChldmVudCkgPT4ge1xuICAgIGV2ZW50LnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpO1xuICAgIGNvbnN0IGNvbXBvc2VkUGF0aCA9IGV2ZW50LmNvbXBvc2VkUGF0aCgpO1xuICAgIHRyYXZlcnNlZEVsZW1lbnRzID0gY29tcG9zZWRQYXRoLnNsaWNlKGNvbXBvc2VkUGF0aC5pbmRleE9mKGNvbXBvbmVudEVsKSwgY29tcG9zZWRQYXRoLmluZGV4T2YobGFiZWwpKTtcbiAgfTtcbiAgbGFiZWwuYWRkRXZlbnRMaXN0ZW5lcihjdXN0b21FbGVtZW50QW5jZXN0b3JDaGVja0V2ZW50VHlwZSwgbGlzdGVuZXIsIHsgb25jZTogdHJ1ZSB9KTtcbiAgY29tcG9uZW50RWwuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoY3VzdG9tRWxlbWVudEFuY2VzdG9yQ2hlY2tFdmVudFR5cGUsIHsgY29tcG9zZWQ6IHRydWUsIGJ1YmJsZXM6IHRydWUgfSkpO1xuICBsYWJlbC5yZW1vdmVFdmVudExpc3RlbmVyKGN1c3RvbUVsZW1lbnRBbmNlc3RvckNoZWNrRXZlbnRUeXBlLCBsaXN0ZW5lcik7XG4gIGNvbnN0IGFuY2VzdG9yQ3VzdG9tRWxlbWVudHMgPSB0cmF2ZXJzZWRFbGVtZW50cy5maWx0ZXIoKGVsKSA9PiBlbCAhPT0gY29tcG9uZW50RWwgJiYgZWwgIT09IGxhYmVsKS5maWx0ZXIoKGVsKSA9PiBlbC50YWdOYW1lPy5pbmNsdWRlcyhcIi1cIikpO1xuICByZXR1cm4gYW5jZXN0b3JDdXN0b21FbGVtZW50cy5sZW5ndGggPiAwO1xufVxuZnVuY3Rpb24gY29ubmVjdExhYmVsKGNvbXBvbmVudCkge1xuICBpZiAoIWNvbXBvbmVudCkge1xuICAgIHJldHVybjtcbiAgfVxuICBjb25zdCBsYWJlbEVsID0gZmluZExhYmVsRm9yQ29tcG9uZW50KGNvbXBvbmVudC5lbCk7XG4gIGlmIChvbkxhYmVsQ2xpY2tNYXAuaGFzKGxhYmVsRWwpICYmIGxhYmVsRWwgPT09IGNvbXBvbmVudC5sYWJlbEVsIHx8ICFsYWJlbEVsICYmIHVubGFiZWxlZENvbXBvbmVudHMuaGFzKGNvbXBvbmVudCkpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgY29uc3QgYm91bmRPbkxhYmVsRGlzY29ubmVjdGVkID0gb25MYWJlbERpc2Nvbm5lY3RlZC5iaW5kKGNvbXBvbmVudCk7XG4gIGlmIChsYWJlbEVsKSB7XG4gICAgY29tcG9uZW50LmxhYmVsRWwgPSBsYWJlbEVsO1xuICAgIGNvbnN0IGxhYmVsYWJsZXMgPSBsYWJlbFRvTGFiZWxhYmxlcy5nZXQobGFiZWxFbCkgfHwgW107XG4gICAgbGFiZWxhYmxlcy5wdXNoKGNvbXBvbmVudCk7XG4gICAgbGFiZWxUb0xhYmVsYWJsZXMuc2V0KGxhYmVsRWwsIGxhYmVsYWJsZXMuc29ydChzb3J0QnlET01PcmRlcikpO1xuICAgIGlmICghb25MYWJlbENsaWNrTWFwLmhhcyhjb21wb25lbnQubGFiZWxFbCkpIHtcbiAgICAgIG9uTGFiZWxDbGlja01hcC5zZXQoY29tcG9uZW50LmxhYmVsRWwsIG9uTGFiZWxDbGljayk7XG4gICAgICBjb21wb25lbnQubGFiZWxFbC5hZGRFdmVudExpc3RlbmVyKGxhYmVsQ2xpY2tFdmVudCwgb25MYWJlbENsaWNrKTtcbiAgICB9XG4gICAgdW5sYWJlbGVkQ29tcG9uZW50cy5kZWxldGUoY29tcG9uZW50KTtcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKGxhYmVsQ29ubmVjdGVkRXZlbnQsIG9uTGFiZWxDb25uZWN0ZWRNYXAuZ2V0KGNvbXBvbmVudCkpO1xuICAgIG9uTGFiZWxEaXNjb25uZWN0ZWRNYXAuc2V0KGNvbXBvbmVudCwgYm91bmRPbkxhYmVsRGlzY29ubmVjdGVkKTtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKGxhYmVsRGlzY29ubmVjdGVkRXZlbnQsIGJvdW5kT25MYWJlbERpc2Nvbm5lY3RlZCk7XG4gIH0gZWxzZSBpZiAoIXVubGFiZWxlZENvbXBvbmVudHMuaGFzKGNvbXBvbmVudCkpIHtcbiAgICBib3VuZE9uTGFiZWxEaXNjb25uZWN0ZWQoKTtcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKGxhYmVsRGlzY29ubmVjdGVkRXZlbnQsIG9uTGFiZWxEaXNjb25uZWN0ZWRNYXAuZ2V0KGNvbXBvbmVudCkpO1xuICB9XG59XG5mdW5jdGlvbiBkaXNjb25uZWN0TGFiZWwoY29tcG9uZW50KSB7XG4gIGlmICghY29tcG9uZW50KSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIHVubGFiZWxlZENvbXBvbmVudHMuZGVsZXRlKGNvbXBvbmVudCk7XG4gIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIobGFiZWxDb25uZWN0ZWRFdmVudCwgb25MYWJlbENvbm5lY3RlZE1hcC5nZXQoY29tcG9uZW50KSk7XG4gIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIobGFiZWxEaXNjb25uZWN0ZWRFdmVudCwgb25MYWJlbERpc2Nvbm5lY3RlZE1hcC5nZXQoY29tcG9uZW50KSk7XG4gIG9uTGFiZWxDb25uZWN0ZWRNYXAuZGVsZXRlKGNvbXBvbmVudCk7XG4gIG9uTGFiZWxEaXNjb25uZWN0ZWRNYXAuZGVsZXRlKGNvbXBvbmVudCk7XG4gIGlmICghY29tcG9uZW50LmxhYmVsRWwpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgY29uc3QgbGFiZWxhYmxlcyA9IGxhYmVsVG9MYWJlbGFibGVzLmdldChjb21wb25lbnQubGFiZWxFbCk7XG4gIGlmIChsYWJlbGFibGVzLmxlbmd0aCA9PT0gMSkge1xuICAgIGNvbXBvbmVudC5sYWJlbEVsLnJlbW92ZUV2ZW50TGlzdGVuZXIobGFiZWxDbGlja0V2ZW50LCBvbkxhYmVsQ2xpY2tNYXAuZ2V0KGNvbXBvbmVudC5sYWJlbEVsKSk7XG4gICAgb25MYWJlbENsaWNrTWFwLmRlbGV0ZShjb21wb25lbnQubGFiZWxFbCk7XG4gIH1cbiAgbGFiZWxUb0xhYmVsYWJsZXMuc2V0KFxuICAgIGNvbXBvbmVudC5sYWJlbEVsLFxuICAgIGxhYmVsYWJsZXMuZmlsdGVyKChsYWJlbGFibGUpID0+IGxhYmVsYWJsZSAhPT0gY29tcG9uZW50KS5zb3J0KHNvcnRCeURPTU9yZGVyKVxuICApO1xuICBjb21wb25lbnQubGFiZWxFbCA9IG51bGw7XG59XG5mdW5jdGlvbiBzb3J0QnlET01PcmRlcihhLCBiKSB7XG4gIHJldHVybiBpc0JlZm9yZShhLmVsLCBiLmVsKSA/IC0xIDogMTtcbn1cbmZ1bmN0aW9uIGdldExhYmVsVGV4dChjb21wb25lbnQpIHtcbiAgcmV0dXJuIGNvbXBvbmVudC5sYWJlbCB8fCBjb21wb25lbnQubGFiZWxFbD8udGV4dENvbnRlbnQ/LnRyaW0oKSB8fCBcIlwiO1xufVxuZnVuY3Rpb24gb25MYWJlbENsaWNrKGV2ZW50KSB7XG4gIGNvbnN0IGxhYmVsQ2xpY2tUYXJnZXQgPSBldmVudC5kZXRhaWwuc291cmNlRXZlbnQudGFyZ2V0O1xuICBjb25zdCBsYWJlbGFibGVzID0gbGFiZWxUb0xhYmVsYWJsZXMuZ2V0KHRoaXMpO1xuICBjb25zdCBjbGlja2VkTGFiZWxhYmxlID0gbGFiZWxhYmxlcy5maW5kKChsYWJlbGFibGUpID0+IGxhYmVsYWJsZS5lbCA9PT0gbGFiZWxDbGlja1RhcmdldCk7XG4gIGNvbnN0IGxhYmVsYWJsZUNoaWxkQ2xpY2tlZCA9IGxhYmVsYWJsZXMuaW5jbHVkZXMoY2xpY2tlZExhYmVsYWJsZSk7XG4gIGlmIChsYWJlbGFibGVDaGlsZENsaWNrZWQpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgY29uc3QgZmlyc3RMYWJlbGFibGUgPSBsYWJlbGFibGVzWzBdO1xuICBpZiAoZmlyc3RMYWJlbGFibGUuZGlzYWJsZWQpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgZmlyc3RMYWJlbGFibGUub25MYWJlbENsaWNrKGV2ZW50KTtcbn1cbmZ1bmN0aW9uIG9uTGFiZWxDb25uZWN0ZWQoKSB7XG4gIGlmICh1bmxhYmVsZWRDb21wb25lbnRzLmhhcyh0aGlzKSkge1xuICAgIGNvbm5lY3RMYWJlbCh0aGlzKTtcbiAgfVxufVxuZnVuY3Rpb24gb25MYWJlbERpc2Nvbm5lY3RlZCgpIHtcbiAgdW5sYWJlbGVkQ29tcG9uZW50cy5hZGQodGhpcyk7XG4gIGNvbnN0IGJvdW5kT25MYWJlbENvbm5lY3RlZCA9IG9uTGFiZWxDb25uZWN0ZWRNYXAuZ2V0KHRoaXMpIHx8IG9uTGFiZWxDb25uZWN0ZWQuYmluZCh0aGlzKTtcbiAgb25MYWJlbENvbm5lY3RlZE1hcC5zZXQodGhpcywgYm91bmRPbkxhYmVsQ29ubmVjdGVkKTtcbiAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihsYWJlbENvbm5lY3RlZEV2ZW50LCBib3VuZE9uTGFiZWxDb25uZWN0ZWQpO1xufVxuYXN5bmMgZnVuY3Rpb24gYXNzb2NpYXRlRXhwbGljaXRMYWJlbFRvVW5sYWJlbGVkQ29tcG9uZW50KGxhYmVsKSB7XG4gIGF3YWl0IGxhYmVsLmNvbXBvbmVudE9uUmVhZHkoKTtcbiAgY29uc3QgYWxyZWFkeUxhYmVsZWQgPSBsYWJlbFRvTGFiZWxhYmxlcy5oYXMobGFiZWwpO1xuICBpZiAoYWxyZWFkeUxhYmVsZWQpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgY29uc3QgZm9yQ29tcG9uZW50RWwgPSBsYWJlbC5vd25lckRvY3VtZW50Py5nZXRFbGVtZW50QnlJZChsYWJlbC5mb3IpO1xuICBpZiAoIWZvckNvbXBvbmVudEVsKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XG4gICAgZm9yIChjb25zdCBsYWJlbGFibGUgb2YgdW5sYWJlbGVkQ29tcG9uZW50cykge1xuICAgICAgaWYgKGxhYmVsYWJsZS5lbCA9PT0gZm9yQ29tcG9uZW50RWwpIHtcbiAgICAgICAgY29ubmVjdExhYmVsKGxhYmVsYWJsZSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG59XG5leHBvcnQge1xuICBhc3NvY2lhdGVFeHBsaWNpdExhYmVsVG9VbmxhYmVsZWRDb21wb25lbnQgYXMgYSxcbiAgbGFiZWxEaXNjb25uZWN0ZWRFdmVudCBhcyBiLFxuICBjb25uZWN0TGFiZWwgYXMgYyxcbiAgZGlzY29ubmVjdExhYmVsIGFzIGQsXG4gIGdldExhYmVsVGV4dCBhcyBnLFxuICBsYWJlbENvbm5lY3RlZEV2ZW50IGFzIGxcbn07XG4iLCIvKiEgQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2dpdGh1Yi5jb20vRXNyaS9jYWxjaXRlLWRlc2lnbi1zeXN0ZW0vYmxvYi9kZXYvTElDRU5TRS5tZCBmb3IgZGV0YWlscy5cbnYzLjMuMyAqL1xuaW1wb3J0IHsgYyBhcyBjdXN0b21FbGVtZW50IH0gZnJvbSBcIi4uLy4uL2NodW5rcy9ydW50aW1lLmpzXCI7XG5pbXBvcnQgeyBjc3MsIG5vdGhpbmcsIGh0bWwgfSBmcm9tIFwibGl0XCI7XG5pbXBvcnQgeyBMaXRFbGVtZW50LCBjcmVhdGVFdmVudCwgc2FmZUNsYXNzTWFwIH0gZnJvbSBcIkBhcmNnaXMvbHVtaW5hXCI7XG5pbXBvcnQgeyBjcmVhdGVSZWYsIHJlZiB9IGZyb20gXCJsaXQtaHRtbC9kaXJlY3RpdmVzL3JlZi5qc1wiO1xuaW1wb3J0IHsgZyBhcyBnZXRSb3VuZFJvYmluSW5kZXggfSBmcm9tIFwiLi4vLi4vY2h1bmtzL2FycmF5LmpzXCI7XG5pbXBvcnQgeyBnIGFzIGdldEVsZW1lbnREaXIgfSBmcm9tIFwiLi4vLi4vY2h1bmtzL2RvbS5qc1wiO1xuaW1wb3J0IHsgYyBhcyBjb25uZWN0Rm9ybSwgZCBhcyBkaXNjb25uZWN0Rm9ybSwgSCBhcyBIaWRkZW5Gb3JtSW5wdXRTbG90IH0gZnJvbSBcIi4uLy4uL2NodW5rcy9mb3JtLmpzXCI7XG5pbXBvcnQgeyB1IGFzIHVwZGF0ZUhvc3RJbnRlcmFjdGlvbiwgSSBhcyBJbnRlcmFjdGl2ZUNvbnRhaW5lciB9IGZyb20gXCIuLi8uLi9jaHVua3MvaW50ZXJhY3RpdmUuanNcIjtcbmltcG9ydCB7IGMgYXMgY29ubmVjdExhYmVsLCBkIGFzIGRpc2Nvbm5lY3RMYWJlbCwgZyBhcyBnZXRMYWJlbFRleHQgfSBmcm9tIFwiLi4vLi4vY2h1bmtzL2xhYmVsLmpzXCI7XG5pbXBvcnQgeyBJIGFzIEludGVybmFsTGFiZWwgfSBmcm9tIFwiLi4vLi4vY2h1bmtzL0ludGVybmFsTGFiZWwuanNcIjtcbmltcG9ydCB7IHUgYXMgdXNlU2V0Rm9jdXMgfSBmcm9tIFwiLi4vLi4vY2h1bmtzL3VzZVNldEZvY3VzLmpzXCI7XG5jb25zdCBDU1MgPSB7XG4gIGNvbnRhaW5lcjogXCJjb250YWluZXJcIixcbiAgcmFkaW86IFwicmFkaW9cIlxufTtcbmNvbnN0IHN0eWxlcyA9IGNzc2A6aG9zdHstLWNhbGNpdGUtaW50ZXJuYWwtY29sb3ItZm9jdXM6IHZhciggLS1jYWxjaXRlLWNvbG9yLWZvY3VzLCB2YXIoLS1jYWxjaXRlLXVpLWZvY3VzLWNvbG9yLCB2YXIoLS1jYWxjaXRlLWNvbG9yLWJyYW5kKSkgKX06aG9zdChbZGlzYWJsZWRdKXtjdXJzb3I6ZGVmYXVsdDstd2Via2l0LXVzZXItc2VsZWN0Om5vbmU7dXNlci1zZWxlY3Q6bm9uZTtvcGFjaXR5OnZhcigtLWNhbGNpdGUtb3BhY2l0eS1kaXNhYmxlZCl9Omhvc3QoW2Rpc2FibGVkXSkgKiw6aG9zdChbZGlzYWJsZWRdKSA6OnNsb3R0ZWQoKil7cG9pbnRlci1ldmVudHM6bm9uZX06aG9zdHtkaXNwbGF5OmJsb2NrO2N1cnNvcjpwb2ludGVyfTpob3N0IC5jb250YWluZXJ7cG9zaXRpb246cmVsYXRpdmU7b3V0bGluZToycHggc29saWQgdHJhbnNwYXJlbnQ7b3V0bGluZS1vZmZzZXQ6MnB4O2Rpc3BsYXk6ZmxleH06aG9zdCAucmFkaW97Y3Vyc29yOnBvaW50ZXI7dHJhbnNpdGlvbi1wcm9wZXJ0eTpiYWNrZ3JvdW5kLWNvbG9yLGJsb2NrLXNpemUsYm9yZGVyLWNvbG9yLGJveC1zaGFkb3csY29sb3IsaW5zZXQtYmxvY2stZW5kLGluc2V0LWJsb2NrLXN0YXJ0LGluc2V0LWlubGluZS1lbmQsaW5zZXQtaW5saW5lLXN0YXJ0LGluc2V0LXNpemUsb3BhY2l0eSxvdXRsaW5lLWNvbG9yLHRyYW5zZm9ybTt0cmFuc2l0aW9uLWR1cmF0aW9uOnZhcigtLWNhbGNpdGUtYW5pbWF0aW9uLXRpbWluZyk7dHJhbnNpdGlvbi10aW1pbmctZnVuY3Rpb246ZWFzZS1pbi1vdXQ7b3V0bGluZS1jb2xvcjp0cmFuc3BhcmVudDtib3JkZXItcmFkaXVzOnZhcigtLWNhbGNpdGUtcmFkaW8tYnV0dG9uLWNvcm5lci1yYWRpdXMsIHZhcigtLWNhbGNpdGUtY29ybmVyLXJhZGl1cy1waWxsKSk7YmFja2dyb3VuZC1jb2xvcjp2YXIoLS1jYWxjaXRlLXJhZGlvLWJ1dHRvbi1iYWNrZ3JvdW5kLWNvbG9yLCB2YXIoLS1jYWxjaXRlLWNvbG9yLWZvcmVncm91bmQtMSkpO2JveC1zaGFkb3c6aW5zZXQgMCAwIDAgdmFyKC0tY2FsY2l0ZS1ib3JkZXItd2lkdGgtc20pIHZhcigtLWNhbGNpdGUtcmFkaW8tYnV0dG9uLWJvcmRlci1jb2xvciwgdmFyKC0tY2FsY2l0ZS1jb2xvci1ib3JkZXItaW5wdXQpKX06aG9zdChbaG92ZXJlZF0pIC5yYWRpbyw6aG9zdCg6bm90KFtjaGVja2VkXSlbZm9jdXNlZF06bm90KFtkaXNhYmxlZF0pKSAucmFkaW97Ym94LXNoYWRvdzppbnNldCAwIDAgMCB2YXIoLS1jYWxjaXRlLWJvcmRlci13aWR0aC1tZCkgdmFyKC0tY2FsY2l0ZS1yYWRpby1idXR0b24tYm9yZGVyLWNvbG9yLCB2YXIoLS1jYWxjaXRlLWNvbG9yLWJyYW5kLWhvdmVyKSl9Omhvc3QoW2hvdmVyZWRdKSAucmFkaW86YWN0aXZlLDpob3N0KDpub3QoW2NoZWNrZWRdKVtmb2N1c2VkXTpub3QoW2Rpc2FibGVkXSkpIC5yYWRpbzphY3RpdmV7Ym94LXNoYWRvdzppbnNldCAwIDAgMCB2YXIoLS1jYWxjaXRlLWJvcmRlci13aWR0aC1tZCkgdmFyKC0tY2FsY2l0ZS1jb2xvci1icmFuZC1wcmVzcyl9Omhvc3QoW2ZvY3VzZWRdKSAucmFkaW97b3V0bGluZTp2YXIoLS1jYWxjaXRlLWJvcmRlci13aWR0aC1tZCkgc29saWQgdmFyKC0tY2FsY2l0ZS1jb2xvci1mb2N1cywgdmFyKC0tY2FsY2l0ZS11aS1mb2N1cy1jb2xvciwgdmFyKC0tY2FsY2l0ZS1jb2xvci1icmFuZCkpKTtvdXRsaW5lOnZhcigtLWNhbGNpdGUtYm9yZGVyLXdpZHRoLW1kKSBzb2xpZCB2YXIoLS1jYWxjaXRlLWludGVybmFsLWNvbG9yLWZvY3VzKTtvdXRsaW5lLW9mZnNldDpjYWxjKHZhcigtLWNhbGNpdGUtc3BhY2luZy1iYXNlKSAqIGNhbGMoMSAtICgyKmNsYW1wKDAsdmFyKC0tY2FsY2l0ZS1vZmZzZXQtaW52ZXJ0LWZvY3VzKSwxKSkpKX06aG9zdChbZGlzYWJsZWRdKSAucmFkaW97Y3Vyc29yOmRlZmF1bHQ7b3BhY2l0eTp2YXIoLS1jYWxjaXRlLW9wYWNpdHktZGlzYWJsZWQpfTpob3N0KFtkaXNhYmxlZF0pIDo6c2xvdHRlZChbY2FsY2l0ZS1oeWRyYXRlZF1bZGlzYWJsZWRdKSw6aG9zdChbZGlzYWJsZWRdKSBbY2FsY2l0ZS1oeWRyYXRlZF1bZGlzYWJsZWRde29wYWNpdHk6MX0uaW50ZXJhY3Rpb24tY29udGFpbmVye2Rpc3BsYXk6Y29udGVudHN9Omhvc3QoW2hvdmVyZWRdW2Rpc2FibGVkXSkgLnJhZGlve2JveC1zaGFkb3c6aW5zZXQgMCAwIDAgdmFyKC0tY2FsY2l0ZS1ib3JkZXItd2lkdGgtc20pIHZhcigtLWNhbGNpdGUtcmFkaW8tYnV0dG9uLWJvcmRlci1jb2xvciwgdmFyKC0tY2FsY2l0ZS1jb2xvci1ib3JkZXItaW5wdXQpKX06aG9zdChbc2NhbGU9c10pey0tY2FsY2l0ZS1pbnRlcm5hbC1yYWRpby1zaXplOiB2YXIoIC0tY2FsY2l0ZS1yYWRpby1idXR0b24tc2l6ZSwgdmFyKC0tY2FsY2l0ZS1yYWRpby1zaXplLCB2YXIoLS1jYWxjaXRlLXNpemUtZml4ZWQtbWQpKSApfTpob3N0KFtzY2FsZT1tXSl7LS1jYWxjaXRlLWludGVybmFsLXJhZGlvLXNpemU6IHZhciggLS1jYWxjaXRlLXJhZGlvLWJ1dHRvbi1zaXplLCB2YXIoLS1jYWxjaXRlLXJhZGlvLXNpemUsIHZhcigtLWNhbGNpdGUtc2l6ZS1maXhlZC1tZC1wbHVzKSkgKX06aG9zdChbc2NhbGU9bF0pey0tY2FsY2l0ZS1pbnRlcm5hbC1yYWRpby1zaXplOiB2YXIoIC0tY2FsY2l0ZS1yYWRpby1idXR0b24tc2l6ZSwgdmFyKC0tY2FsY2l0ZS1yYWRpby1zaXplLCB2YXIoLS1jYWxjaXRlLXNpemUtZml4ZWQtbGcpKSApfS5yYWRpb3tibG9jay1zaXplOnZhcigtLWNhbGNpdGUtaW50ZXJuYWwtcmFkaW8tc2l6ZSk7aW5saW5lLXNpemU6dmFyKC0tY2FsY2l0ZS1pbnRlcm5hbC1yYWRpby1zaXplKTtzaXplOnZhcigtLWNhbGNpdGUtaW50ZXJuYWwtcmFkaW8tc2l6ZSl9Omhvc3QoW3NjYWxlPXNdW2NoZWNrZWRdKSAucmFkaW8sOmhvc3QoW2hvdmVyZWRdW3NjYWxlPXNdW2NoZWNrZWRdW2Rpc2FibGVkXSkgLnJhZGlve2JveC1zaGFkb3c6aW5zZXQgMCAwIDAgdmFyKC0tY2FsY2l0ZS1ib3JkZXItd2lkdGgtbGcpIHZhcigtLWNhbGNpdGUtcmFkaW8tYnV0dG9uLWJvcmRlci1jb2xvciwgdmFyKC0tY2FsY2l0ZS1jb2xvci1icmFuZCkpfTpob3N0KFtzY2FsZT1zXVtmb2N1c2VkXVtjaGVja2VkXTpub3QoW2Rpc2FibGVkXSkpIC5yYWRpb3tib3gtc2hhZG93Omluc2V0IDAgMCAwIHZhcigtLWNhbGNpdGUtYm9yZGVyLXdpZHRoLWxnKSB2YXIoLS1jYWxjaXRlLXJhZGlvLWJ1dHRvbi1ib3JkZXItY29sb3IsIHZhcigtLWNhbGNpdGUtY29sb3ItYnJhbmQpKSwwIDAgMCAycHggdmFyKC0tY2FsY2l0ZS1yYWRpby1idXR0b24tYmFja2dyb3VuZC1jb2xvciwgdmFyKC0tY2FsY2l0ZS1jb2xvci1mb3JlZ3JvdW5kLTEpKX06aG9zdChbc2NhbGU9bV1bY2hlY2tlZF0pIC5yYWRpbyw6aG9zdChbaG92ZXJlZF1bc2NhbGU9bV1bY2hlY2tlZF1bZGlzYWJsZWRdKSAucmFkaW97Ym94LXNoYWRvdzppbnNldCAwIDAgMCA1cHggdmFyKC0tY2FsY2l0ZS1yYWRpby1idXR0b24tYm9yZGVyLWNvbG9yLCB2YXIoLS1jYWxjaXRlLWNvbG9yLWJyYW5kKSl9Omhvc3QoW3NjYWxlPW1dW2ZvY3VzZWRdW2NoZWNrZWRdOm5vdChbZGlzYWJsZWRdKSkgLnJhZGlve2JveC1zaGFkb3c6aW5zZXQgMCAwIDAgNXB4IHZhcigtLWNhbGNpdGUtcmFkaW8tYnV0dG9uLWJvcmRlci1jb2xvciwgdmFyKC0tY2FsY2l0ZS1jb2xvci1icmFuZCkpLDAgMCAwIDJweCB2YXIoLS1jYWxjaXRlLXJhZGlvLWJ1dHRvbi1iYWNrZ3JvdW5kLWNvbG9yLCB2YXIoLS1jYWxjaXRlLWNvbG9yLWZvcmVncm91bmQtMSkpfTpob3N0KFtzY2FsZT1sXVtjaGVja2VkXSkgLnJhZGlvLDpob3N0KFtob3ZlcmVkXVtzY2FsZT1sXVtjaGVja2VkXVtkaXNhYmxlZF0pIC5yYWRpb3tib3gtc2hhZG93Omluc2V0IDAgMCAwIDZweCB2YXIoLS1jYWxjaXRlLXJhZGlvLWJ1dHRvbi1ib3JkZXItY29sb3IsIHZhcigtLWNhbGNpdGUtY29sb3ItYnJhbmQpKX06aG9zdChbc2NhbGU9bF1bZm9jdXNlZF1bY2hlY2tlZF06bm90KFtkaXNhYmxlZF0pKSAucmFkaW97Ym94LXNoYWRvdzppbnNldCAwIDAgMCA2cHggdmFyKC0tY2FsY2l0ZS1yYWRpby1idXR0b24tYm9yZGVyLWNvbG9yLCB2YXIoLS1jYWxjaXRlLWNvbG9yLWJyYW5kKSksMCAwIDAgMnB4IHZhcigtLWNhbGNpdGUtcmFkaW8tYnV0dG9uLWJhY2tncm91bmQtY29sb3IsIHZhcigtLWNhbGNpdGUtY29sb3ItZm9yZWdyb3VuZC0xKSl9QG1lZGlhIChmb3JjZWQtY29sb3JzOiBhY3RpdmUpezpob3N0KFtjaGVja2VkXSkgLnJhZGlvOmFmdGVyLDpob3N0KFtjaGVja2VkXVtkaXNhYmxlZF0pIC5yYWRpbzphZnRlcntjb250ZW50OlwiXCI7aW5saW5lLXNpemU6dmFyKC0tY2FsY2l0ZS1pbnRlcm5hbC1yYWRpby1zaXplKTtibG9jay1zaXplOnZhcigtLWNhbGNpdGUtaW50ZXJuYWwtcmFkaW8tc2l6ZSk7YmFja2dyb3VuZC1jb2xvcjpDYW52YXNUZXh0O2Rpc3BsYXk6YmxvY2t9fS5pbnRlcm5hbC1sYWJlbC1hbGlnbm1lbnQtLWNlbnRlcnthbGlnbi1pdGVtczpjZW50ZXJ9LmludGVybmFsLWxhYmVsLWFsaWdubWVudC0tZW5ke2FsaWduLWl0ZW1zOmVuZH0uaW50ZXJuYWwtbGFiZWwtLWNvbnRhaW5lcntkaXNwbGF5OmZsZXg7anVzdGlmeS1jb250ZW50OnNwYWNlLWJldHdlZW47Y29sb3I6dmFyKC0tY2FsY2l0ZS1jb2xvci10ZXh0LTEpfS5pbnRlcm5hbC1sYWJlbC1yZXF1aXJlZC0taW5kaWNhdG9ye2ZvbnQtd2VpZ2h0OnZhcigtLWNhbGNpdGUtZm9udC13ZWlnaHQtbWVkaXVtKTtjb2xvcjp2YXIoLS1jYWxjaXRlLWNvbG9yLXN0YXR1cy1kYW5nZXIpO3BhZGRpbmctaW5saW5lOnZhcigtLWNhbGNpdGUtc3BhY2luZy1iYXNlKX0uaW50ZXJuYWwtbGFiZWwtcmVxdWlyZWQtLWluZGljYXRvcjpob3ZlcntjdXJzb3I6aGVscH0uaW50ZXJuYWwtbGFiZWwtLXRleHR7bGluZS1oZWlnaHQ6MX06aG9zdChbc2NhbGU9c10pIC5pbnRlcm5hbC1sYWJlbC1zcGFjaW5nLS1ib3R0b217bWFyZ2luLWJsb2NrLWVuZDp2YXIoLS1jYWxjaXRlLXNwYWNpbmcteHhzKX06aG9zdChbc2NhbGU9c10pIC5pbnRlcm5hbC1sYWJlbC1zcGFjaW5nLWlubGluZS0tZW5ke21hcmdpbi1pbmxpbmUtZW5kOnZhcigtLWNhbGNpdGUtc3BhY2luZy1zbSl9Omhvc3QoW3NjYWxlPXNdKSAuaW50ZXJuYWwtbGFiZWwtc3BhY2luZy1pbmxpbmUtLXN0YXJ0e21hcmdpbi1pbmxpbmUtc3RhcnQ6dmFyKC0tY2FsY2l0ZS1zcGFjaW5nLXNtKX06aG9zdChbc2NhbGU9c10pIC5pbnRlcm5hbC1sYWJlbC0tdGV4dHtmb250LXNpemU6dmFyKC0tY2FsY2l0ZS1mb250LXNpemUtLTIpfTpob3N0KFtzY2FsZT1tXSkgLmludGVybmFsLWxhYmVsLXNwYWNpbmctLWJvdHRvbXttYXJnaW4tYmxvY2stZW5kOnZhcigtLWNhbGNpdGUtc3BhY2luZy1zbSl9Omhvc3QoW3NjYWxlPW1dKSAuaW50ZXJuYWwtbGFiZWwtc3BhY2luZy1pbmxpbmUtLWVuZHttYXJnaW4taW5saW5lLWVuZDp2YXIoLS1jYWxjaXRlLXNwYWNpbmctc20pfTpob3N0KFtzY2FsZT1tXSkgLmludGVybmFsLWxhYmVsLXNwYWNpbmctaW5saW5lLS1zdGFydHttYXJnaW4taW5saW5lLXN0YXJ0OnZhcigtLWNhbGNpdGUtc3BhY2luZy1zbSl9Omhvc3QoW3NjYWxlPW1dKSAuaW50ZXJuYWwtbGFiZWwtLXRleHR7Zm9udC1zaXplOnZhcigtLWNhbGNpdGUtZm9udC1zaXplLS0xKX06aG9zdChbc2NhbGU9bF0pIC5pbnRlcm5hbC1sYWJlbC1zcGFjaW5nLS1ib3R0b217bWFyZ2luLWJsb2NrLWVuZDp2YXIoLS1jYWxjaXRlLXNwYWNpbmctc20pfTpob3N0KFtzY2FsZT1sXSkgLmludGVybmFsLWxhYmVsLXNwYWNpbmctaW5saW5lLS1lbmR7bWFyZ2luLWlubGluZS1lbmQ6dmFyKC0tY2FsY2l0ZS1zcGFjaW5nLW1kKX06aG9zdChbc2NhbGU9bF0pIC5pbnRlcm5hbC1sYWJlbC1zcGFjaW5nLWlubGluZS0tc3RhcnR7bWFyZ2luLWlubGluZS1zdGFydDp2YXIoLS1jYWxjaXRlLXNwYWNpbmctbWQpfTpob3N0KFtzY2FsZT1sXSkgLmludGVybmFsLWxhYmVsLS10ZXh0e2ZvbnQtc2l6ZTp2YXIoLS1jYWxjaXRlLWZvbnQtc2l6ZS0wKX06OnNsb3R0ZWQoaW5wdXRbc2xvdD1oaWRkZW4tZm9ybS1pbnB1dF0pe21hcmdpbjowIWltcG9ydGFudDtvcGFjaXR5OjAhaW1wb3J0YW50O291dGxpbmU6bm9uZSFpbXBvcnRhbnQ7cGFkZGluZzowIWltcG9ydGFudDtwb3NpdGlvbjphYnNvbHV0ZSFpbXBvcnRhbnQ7aW5zZXQ6MCFpbXBvcnRhbnQ7dHJhbnNmb3JtOm5vbmUhaW1wb3J0YW50Oy13ZWJraXQtYXBwZWFyYW5jZTpub25lIWltcG9ydGFudDt6LWluZGV4Oi0xIWltcG9ydGFudH06aG9zdChbaGlkZGVuXSl7ZGlzcGxheTpub25lfVtoaWRkZW5de2Rpc3BsYXk6bm9uZX1gO1xuY2xhc3MgUmFkaW9CdXR0b24gZXh0ZW5kcyBMaXRFbGVtZW50IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLmNvbnRhaW5lclJlZiA9IGNyZWF0ZVJlZigpO1xuICAgIHRoaXMuZm9jdXNTZXR0ZXIgPSB1c2VTZXRGb2N1cygpKHRoaXMpO1xuICAgIHRoaXMuY2hlY2tlZCA9IGZhbHNlO1xuICAgIHRoaXMuZGlzYWJsZWQgPSBmYWxzZTtcbiAgICB0aGlzLmZvY3VzZWQgPSBmYWxzZTtcbiAgICB0aGlzLmhvdmVyZWQgPSBmYWxzZTtcbiAgICB0aGlzLnJlcXVpcmVkID0gZmFsc2U7XG4gICAgdGhpcy5zY2FsZSA9IFwibVwiO1xuICAgIHRoaXMuY2FsY2l0ZUludGVybmFsUmFkaW9CdXR0b25CbHVyID0gY3JlYXRlRXZlbnQoeyBjYW5jZWxhYmxlOiBmYWxzZSB9KTtcbiAgICB0aGlzLmNhbGNpdGVJbnRlcm5hbFJhZGlvQnV0dG9uQ2hlY2tlZENoYW5nZSA9IGNyZWF0ZUV2ZW50KHsgY2FuY2VsYWJsZTogZmFsc2UgfSk7XG4gICAgdGhpcy5jYWxjaXRlSW50ZXJuYWxSYWRpb0J1dHRvbkZvY3VzID0gY3JlYXRlRXZlbnQoeyBjYW5jZWxhYmxlOiBmYWxzZSB9KTtcbiAgICB0aGlzLmNhbGNpdGVSYWRpb0J1dHRvbkNoYW5nZSA9IGNyZWF0ZUV2ZW50KHsgY2FuY2VsYWJsZTogZmFsc2UgfSk7XG4gICAgdGhpcy5saXN0ZW4oXCJwb2ludGVyZW50ZXJcIiwgdGhpcy5wb2ludGVyRW50ZXJIYW5kbGVyKTtcbiAgICB0aGlzLmxpc3RlbihcInBvaW50ZXJsZWF2ZVwiLCB0aGlzLnBvaW50ZXJMZWF2ZUhhbmRsZXIpO1xuICAgIHRoaXMubGlzdGVuKFwiY2xpY2tcIiwgdGhpcy5jbGlja0hhbmRsZXIpO1xuICAgIHRoaXMubGlzdGVuKFwia2V5ZG93blwiLCB0aGlzLmhhbmRsZUtleURvd24pO1xuICB9XG4gIHN0YXRpYyB7XG4gICAgdGhpcy5wcm9wZXJ0aWVzID0geyBjaGVja2VkOiBbNywge30sIHsgcmVmbGVjdDogdHJ1ZSwgdHlwZTogQm9vbGVhbiB9XSwgZGlzYWJsZWQ6IFs3LCB7fSwgeyByZWZsZWN0OiB0cnVlLCB0eXBlOiBCb29sZWFuIH1dLCBmb2N1c2VkOiBbNywge30sIHsgcmVmbGVjdDogdHJ1ZSwgdHlwZTogQm9vbGVhbiB9XSwgZm9ybTogWzMsIHt9LCB7IHJlZmxlY3Q6IHRydWUgfV0sIGhvdmVyZWQ6IFs3LCB7fSwgeyByZWZsZWN0OiB0cnVlLCB0eXBlOiBCb29sZWFuIH1dLCBsYWJlbDogMSwgbGFiZWxUZXh0OiAxLCBuYW1lOiBbMywge30sIHsgcmVmbGVjdDogdHJ1ZSB9XSwgcmVxdWlyZWQ6IFs3LCB7fSwgeyByZWZsZWN0OiB0cnVlLCB0eXBlOiBCb29sZWFuIH1dLCBzY2FsZTogWzMsIHt9LCB7IHJlZmxlY3Q6IHRydWUgfV0sIHZhbHVlOiAxIH07XG4gIH1cbiAgc3RhdGljIHtcbiAgICB0aGlzLnN0eWxlcyA9IHN0eWxlcztcbiAgfVxuICBhc3luYyBlbWl0Q2hlY2tlZENoYW5nZSgpIHtcbiAgICB0aGlzLmNhbGNpdGVJbnRlcm5hbFJhZGlvQnV0dG9uQ2hlY2tlZENoYW5nZS5lbWl0KCk7XG4gIH1cbiAgYXN5bmMgc2V0Rm9jdXMob3B0aW9ucykge1xuICAgIHJldHVybiB0aGlzLmZvY3VzU2V0dGVyKCgpID0+IHRoaXMuY29udGFpbmVyUmVmLnZhbHVlLCBvcHRpb25zKTtcbiAgfVxuICBjb25uZWN0ZWRDYWxsYmFjaygpIHtcbiAgICB0aGlzLnJvb3ROb2RlID0gdGhpcy5lbC5nZXRSb290Tm9kZSgpO1xuICAgIGlmICh0aGlzLm5hbWUpIHtcbiAgICAgIHRoaXMuY2hlY2tMYXN0UmFkaW9CdXR0b24oKTtcbiAgICB9XG4gICAgY29ubmVjdExhYmVsKHRoaXMpO1xuICAgIGNvbm5lY3RGb3JtKHRoaXMpO1xuICAgIHRoaXMudXBkYXRlVGFiSW5kZXhPZk90aGVyUmFkaW9CdXR0b25zSW5Hcm91cCgpO1xuICAgIHN1cGVyLmNvbm5lY3RlZENhbGxiYWNrKCk7XG4gIH1cbiAgd2lsbFVwZGF0ZShjaGFuZ2VzKSB7XG4gICAgaWYgKHRoaXMuaGFzVXBkYXRlZCAmJiBjaGFuZ2VzLmhhcyhcImNoZWNrZWRcIikpIHtcbiAgICAgIHRoaXMuY2hlY2tlZENoYW5nZWQodGhpcy5jaGVja2VkKTtcbiAgICB9XG4gICAgaWYgKGNoYW5nZXMuaGFzKFwiZGlzYWJsZWRcIikgJiYgKHRoaXMuaGFzVXBkYXRlZCB8fCB0aGlzLmRpc2FibGVkICE9PSBmYWxzZSkpIHtcbiAgICAgIHRoaXMudXBkYXRlVGFiSW5kZXhPZk90aGVyUmFkaW9CdXR0b25zSW5Hcm91cCgpO1xuICAgIH1cbiAgICBpZiAoY2hhbmdlcy5oYXMoXCJuYW1lXCIpKSB7XG4gICAgICB0aGlzLmNoZWNrTGFzdFJhZGlvQnV0dG9uKCk7XG4gICAgfVxuICB9XG4gIHVwZGF0ZWQoKSB7XG4gICAgdXBkYXRlSG9zdEludGVyYWN0aW9uKHRoaXMpO1xuICB9XG4gIGxvYWRlZCgpIHtcbiAgICBpZiAodGhpcy5mb2N1c2VkICYmICF0aGlzLmRpc2FibGVkKSB7XG4gICAgICB0aGlzLnNldEZvY3VzKCk7XG4gICAgfVxuICB9XG4gIGRpc2Nvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgIHN1cGVyLmRpc2Nvbm5lY3RlZENhbGxiYWNrKCk7XG4gICAgZGlzY29ubmVjdExhYmVsKHRoaXMpO1xuICAgIGRpc2Nvbm5lY3RGb3JtKHRoaXMpO1xuICAgIHRoaXMudXBkYXRlVGFiSW5kZXhPZk90aGVyUmFkaW9CdXR0b25zSW5Hcm91cCgpO1xuICB9XG4gIGNoZWNrZWRDaGFuZ2VkKG5ld0NoZWNrZWQpIHtcbiAgICBpZiAobmV3Q2hlY2tlZCkge1xuICAgICAgdGhpcy51bmNoZWNrT3RoZXJSYWRpb0J1dHRvbnNJbkdyb3VwKCk7XG4gICAgfVxuICAgIHRoaXMuY2FsY2l0ZUludGVybmFsUmFkaW9CdXR0b25DaGVja2VkQ2hhbmdlLmVtaXQoKTtcbiAgfVxuICBzeW5jSGlkZGVuRm9ybUlucHV0KGlucHV0KSB7XG4gICAgaW5wdXQudHlwZSA9IFwicmFkaW9cIjtcbiAgfVxuICBzZWxlY3RJdGVtKGl0ZW1zLCBzZWxlY3RlZEluZGV4KSB7XG4gICAgaXRlbXNbc2VsZWN0ZWRJbmRleF0uY2xpY2soKTtcbiAgfVxuICBxdWVyeUJ1dHRvbnMoKSB7XG4gICAgcmV0dXJuIEFycmF5LmZyb20odGhpcy5yb290Tm9kZS5xdWVyeVNlbGVjdG9yQWxsKFwiY2FsY2l0ZS1yYWRpby1idXR0b246bm90KFtoaWRkZW5dKVwiKSkuZmlsdGVyKChyYWRpb0J1dHRvbikgPT4gcmFkaW9CdXR0b24ubmFtZSA9PT0gdGhpcy5uYW1lKTtcbiAgfVxuICBpc0ZvY3VzYWJsZSgpIHtcbiAgICBjb25zdCByYWRpb0J1dHRvbnMgPSB0aGlzLnF1ZXJ5QnV0dG9ucygpO1xuICAgIGNvbnN0IGZpcnN0Rm9jdXNhYmxlID0gcmFkaW9CdXR0b25zLmZpbmQoKHJhZGlvQnV0dG9uKSA9PiAhcmFkaW9CdXR0b24uZGlzYWJsZWQpO1xuICAgIGNvbnN0IGNoZWNrZWQgPSByYWRpb0J1dHRvbnMuZmluZCgocmFkaW9CdXR0b24pID0+IHJhZGlvQnV0dG9uLmNoZWNrZWQpO1xuICAgIHJldHVybiBmaXJzdEZvY3VzYWJsZSA9PT0gdGhpcy5lbCAmJiAhY2hlY2tlZDtcbiAgfVxuICBjaGVjaygpIHtcbiAgICBpZiAodGhpcy5kaXNhYmxlZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLmZvY3VzZWQgPSB0cnVlO1xuICAgIHRoaXMuc2V0Rm9jdXMoKTtcbiAgICBpZiAodGhpcy5jaGVja2VkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMudW5jaGVja0FsbFJhZGlvQnV0dG9uc0luR3JvdXAoKTtcbiAgICB0aGlzLmNoZWNrZWQgPSB0cnVlO1xuICAgIHRoaXMuY2FsY2l0ZVJhZGlvQnV0dG9uQ2hhbmdlLmVtaXQoKTtcbiAgfVxuICBjbGlja0hhbmRsZXIoKSB7XG4gICAgaWYgKHRoaXMuZGlzYWJsZWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5jaGVjaygpO1xuICB9XG4gIG9uTGFiZWxDbGljayhldmVudCkge1xuICAgIGlmICh0aGlzLmRpc2FibGVkIHx8IHRoaXMuZWwuaGlkZGVuKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGxhYmVsID0gZXZlbnQuY3VycmVudFRhcmdldDtcbiAgICBjb25zdCByYWRpb0J1dHRvbiA9IGxhYmVsLmZvciA/IHRoaXMucm9vdE5vZGUucXVlcnlTZWxlY3RvcihgY2FsY2l0ZS1yYWRpby1idXR0b25baWQ9XCIke2xhYmVsLmZvcn1cIl1gKSA6IGxhYmVsLnF1ZXJ5U2VsZWN0b3IoYGNhbGNpdGUtcmFkaW8tYnV0dG9uW25hbWU9XCIke3RoaXMubmFtZX1cIl1gKTtcbiAgICBpZiAoIXJhZGlvQnV0dG9uKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHJhZGlvQnV0dG9uLmZvY3VzZWQgPSB0cnVlO1xuICAgIHRoaXMuc2V0Rm9jdXMoKTtcbiAgICBpZiAocmFkaW9CdXR0b24uY2hlY2tlZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLnVuY2hlY2tPdGhlclJhZGlvQnV0dG9uc0luR3JvdXAoKTtcbiAgICByYWRpb0J1dHRvbi5jaGVja2VkID0gdHJ1ZTtcbiAgICB0aGlzLmNhbGNpdGVSYWRpb0J1dHRvbkNoYW5nZS5lbWl0KCk7XG4gIH1cbiAgY2hlY2tMYXN0UmFkaW9CdXR0b24oKSB7XG4gICAgY29uc3QgcmFkaW9CdXR0b25zID0gdGhpcy5xdWVyeUJ1dHRvbnMoKTtcbiAgICBjb25zdCBjaGVja2VkUmFkaW9CdXR0b25zID0gcmFkaW9CdXR0b25zLmZpbHRlcigocmFkaW9CdXR0b24pID0+IHJhZGlvQnV0dG9uLmNoZWNrZWQpO1xuICAgIGlmIChjaGVja2VkUmFkaW9CdXR0b25zPy5sZW5ndGggPiAxKSB7XG4gICAgICBjb25zdCBsYXN0Q2hlY2tlZFJhZGlvQnV0dG9uID0gY2hlY2tlZFJhZGlvQnV0dG9uc1tjaGVja2VkUmFkaW9CdXR0b25zLmxlbmd0aCAtIDFdO1xuICAgICAgY2hlY2tlZFJhZGlvQnV0dG9ucy5maWx0ZXIoKGNoZWNrZWRSYWRpb0J1dHRvbikgPT4gY2hlY2tlZFJhZGlvQnV0dG9uICE9PSBsYXN0Q2hlY2tlZFJhZGlvQnV0dG9uKS5mb3JFYWNoKChjaGVja2VkUmFkaW9CdXR0b24pID0+IHtcbiAgICAgICAgY2hlY2tlZFJhZGlvQnV0dG9uLmNoZWNrZWQgPSBmYWxzZTtcbiAgICAgICAgY2hlY2tlZFJhZGlvQnV0dG9uLmVtaXRDaGVja2VkQ2hhbmdlKCk7XG4gICAgICB9KTtcbiAgICB9XG4gIH1cbiAgdW5jaGVja0FsbFJhZGlvQnV0dG9uc0luR3JvdXAoKSB7XG4gICAgY29uc3QgcmFkaW9CdXR0b25zID0gdGhpcy5xdWVyeUJ1dHRvbnMoKTtcbiAgICByYWRpb0J1dHRvbnMuZm9yRWFjaCgocmFkaW9CdXR0b24pID0+IHtcbiAgICAgIGlmIChyYWRpb0J1dHRvbi5jaGVja2VkKSB7XG4gICAgICAgIHJhZGlvQnV0dG9uLmNoZWNrZWQgPSBmYWxzZTtcbiAgICAgICAgcmFkaW9CdXR0b24uZm9jdXNlZCA9IGZhbHNlO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG4gIHVuY2hlY2tPdGhlclJhZGlvQnV0dG9uc0luR3JvdXAoKSB7XG4gICAgY29uc3QgcmFkaW9CdXR0b25zID0gdGhpcy5xdWVyeUJ1dHRvbnMoKTtcbiAgICBjb25zdCBvdGhlclJhZGlvQnV0dG9ucyA9IHJhZGlvQnV0dG9ucy5maWx0ZXIoKHJhZGlvQnV0dG9uKSA9PiByYWRpb0J1dHRvbiAhPT0gdGhpcy5lbCk7XG4gICAgb3RoZXJSYWRpb0J1dHRvbnMuZm9yRWFjaCgob3RoZXJSYWRpb0J1dHRvbikgPT4ge1xuICAgICAgaWYgKG90aGVyUmFkaW9CdXR0b24uY2hlY2tlZCkge1xuICAgICAgICBvdGhlclJhZGlvQnV0dG9uLmNoZWNrZWQgPSBmYWxzZTtcbiAgICAgICAgb3RoZXJSYWRpb0J1dHRvbi5mb2N1c2VkID0gZmFsc2U7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbiAgdXBkYXRlVGFiSW5kZXhPZk90aGVyUmFkaW9CdXR0b25zSW5Hcm91cCgpIHtcbiAgICBjb25zdCByYWRpb0J1dHRvbnMgPSB0aGlzLnF1ZXJ5QnV0dG9ucygpO1xuICAgIGNvbnN0IG90aGVyRm9jdXNhYmxlUmFkaW9CdXR0b25zID0gcmFkaW9CdXR0b25zLmZpbHRlcigocmFkaW9CdXR0b24pID0+IHJhZGlvQnV0dG9uICE9PSB0aGlzLmVsICYmICFyYWRpb0J1dHRvbi5kaXNhYmxlZCk7XG4gICAgb3RoZXJGb2N1c2FibGVSYWRpb0J1dHRvbnMuZm9yRWFjaCgocmFkaW9CdXR0b24pID0+IHtcbiAgICAgIHJhZGlvQnV0dG9uLm1hbmFnZXI/LmNvbXBvbmVudC5yZXF1ZXN0VXBkYXRlKCk7XG4gICAgfSk7XG4gIH1cbiAgZ2V0VGFiSW5kZXgoKSB7XG4gICAgaWYgKHRoaXMuZGlzYWJsZWQpIHtcbiAgICAgIHJldHVybiB2b2lkIDA7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLmNoZWNrZWQgfHwgdGhpcy5pc0ZvY3VzYWJsZSgpID8gMCA6IC0xO1xuICB9XG4gIHBvaW50ZXJFbnRlckhhbmRsZXIoKSB7XG4gICAgaWYgKHRoaXMuZGlzYWJsZWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5ob3ZlcmVkID0gdHJ1ZTtcbiAgfVxuICBwb2ludGVyTGVhdmVIYW5kbGVyKCkge1xuICAgIGlmICh0aGlzLmRpc2FibGVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuaG92ZXJlZCA9IGZhbHNlO1xuICB9XG4gIGhhbmRsZUtleURvd24oZXZlbnQpIHtcbiAgICBjb25zdCBrZXlzID0gW1wiQXJyb3dMZWZ0XCIsIFwiQXJyb3dVcFwiLCBcIkFycm93UmlnaHRcIiwgXCJBcnJvd0Rvd25cIiwgXCIgXCJdO1xuICAgIGNvbnN0IHsga2V5IH0gPSBldmVudDtcbiAgICBjb25zdCB7IGVsIH0gPSB0aGlzO1xuICAgIGlmIChrZXlzLmluZGV4T2Yoa2V5KSA9PT0gLTEpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKGtleSA9PT0gXCIgXCIpIHtcbiAgICAgIHRoaXMuY2hlY2soKTtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGxldCBhZGp1c3RlZEtleSA9IGtleTtcbiAgICBpZiAoZ2V0RWxlbWVudERpcihlbCkgPT09IFwicnRsXCIpIHtcbiAgICAgIGlmIChrZXkgPT09IFwiQXJyb3dSaWdodFwiKSB7XG4gICAgICAgIGFkanVzdGVkS2V5ID0gXCJBcnJvd0xlZnRcIjtcbiAgICAgIH1cbiAgICAgIGlmIChrZXkgPT09IFwiQXJyb3dMZWZ0XCIpIHtcbiAgICAgICAgYWRqdXN0ZWRLZXkgPSBcIkFycm93UmlnaHRcIjtcbiAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgcmFkaW9CdXR0b25zID0gQXJyYXkuZnJvbSh0aGlzLnJvb3ROb2RlLnF1ZXJ5U2VsZWN0b3JBbGwoXCJjYWxjaXRlLXJhZGlvLWJ1dHRvbjpub3QoW2hpZGRlbl0pXCIpKS5maWx0ZXIoKHJhZGlvQnV0dG9uKSA9PiByYWRpb0J1dHRvbi5uYW1lID09PSB0aGlzLm5hbWUpO1xuICAgIGxldCBjdXJyZW50SW5kZXggPSAwO1xuICAgIHJhZGlvQnV0dG9ucy5zb21lKChpdGVtLCBpbmRleCkgPT4ge1xuICAgICAgaWYgKGl0ZW0uY2hlY2tlZCkge1xuICAgICAgICBjdXJyZW50SW5kZXggPSBpbmRleDtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfSk7XG4gICAgc3dpdGNoIChhZGp1c3RlZEtleSkge1xuICAgICAgY2FzZSBcIkFycm93TGVmdFwiOlxuICAgICAgY2FzZSBcIkFycm93VXBcIjpcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgdGhpcy5zZWxlY3RJdGVtKHJhZGlvQnV0dG9ucywgdGhpcy5nZXROZXh0Tm9uRGlzYWJsZWRJbmRleChyYWRpb0J1dHRvbnMsIGN1cnJlbnRJbmRleCwgXCJsZWZ0XCIpKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgY2FzZSBcIkFycm93UmlnaHRcIjpcbiAgICAgIGNhc2UgXCJBcnJvd0Rvd25cIjpcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgdGhpcy5zZWxlY3RJdGVtKHJhZGlvQnV0dG9ucywgdGhpcy5nZXROZXh0Tm9uRGlzYWJsZWRJbmRleChyYWRpb0J1dHRvbnMsIGN1cnJlbnRJbmRleCwgXCJyaWdodFwiKSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gIH1cbiAgZ2V0TmV4dE5vbkRpc2FibGVkSW5kZXgocmFkaW9CdXR0b25zLCBzdGFydEluZGV4LCBkaXIpIHtcbiAgICBjb25zdCB0b3RhbEJ1dHRvbnMgPSByYWRpb0J1dHRvbnMubGVuZ3RoO1xuICAgIGNvbnN0IG9mZnNldCA9IGRpciA9PT0gXCJsZWZ0XCIgPyAtMSA6IDE7XG4gICAgbGV0IHNlbGVjdEluZGV4ID0gZ2V0Um91bmRSb2JpbkluZGV4KHN0YXJ0SW5kZXggKyBvZmZzZXQsIHRvdGFsQnV0dG9ucyk7XG4gICAgd2hpbGUgKHJhZGlvQnV0dG9uc1tzZWxlY3RJbmRleF0uZGlzYWJsZWQpIHtcbiAgICAgIHNlbGVjdEluZGV4ID0gZ2V0Um91bmRSb2JpbkluZGV4KHNlbGVjdEluZGV4ICsgb2Zmc2V0LCB0b3RhbEJ1dHRvbnMpO1xuICAgIH1cbiAgICByZXR1cm4gc2VsZWN0SW5kZXg7XG4gIH1cbiAgb25Db250YWluZXJCbHVyKCkge1xuICAgIHRoaXMuZm9jdXNlZCA9IGZhbHNlO1xuICAgIHRoaXMuY2FsY2l0ZUludGVybmFsUmFkaW9CdXR0b25CbHVyLmVtaXQoKTtcbiAgfVxuICBvbkNvbnRhaW5lckZvY3VzKCkge1xuICAgIGlmICghdGhpcy5kaXNhYmxlZCkge1xuICAgICAgdGhpcy5mb2N1c2VkID0gdHJ1ZTtcbiAgICAgIHRoaXMuY2FsY2l0ZUludGVybmFsUmFkaW9CdXR0b25Gb2N1cy5lbWl0KCk7XG4gICAgfVxuICB9XG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB0YWJJbmRleCA9IHRoaXMuZ2V0VGFiSW5kZXgoKTtcbiAgICByZXR1cm4gSW50ZXJhY3RpdmVDb250YWluZXIoeyBkaXNhYmxlZDogdGhpcy5kaXNhYmxlZCwgY2hpbGRyZW46IGh0bWxgPGRpdiAuYXJpYUNoZWNrZWQ9JHt0aGlzLmNoZWNrZWR9IC5hcmlhTGFiZWw9JHtnZXRMYWJlbFRleHQodGhpcyl9IGNsYXNzPSR7c2FmZUNsYXNzTWFwKENTUy5jb250YWluZXIpfSBAYmx1cj0ke3RoaXMub25Db250YWluZXJCbHVyfSBAZm9jdXM9JHt0aGlzLm9uQ29udGFpbmVyRm9jdXN9IHJvbGU9cmFkaW8gdGFiaW5kZXg9JHt0YWJJbmRleCA/PyBub3RoaW5nfSAke3JlZih0aGlzLmNvbnRhaW5lclJlZil9PjxkaXYgY2xhc3M9JHtzYWZlQ2xhc3NNYXAoQ1NTLnJhZGlvKX0+PC9kaXY+JHt0aGlzLmxhYmVsVGV4dCAmJiBJbnRlcm5hbExhYmVsKHsgbGFiZWxUZXh0OiB0aGlzLmxhYmVsVGV4dCwgc3BhY2luZ0lubGluZVN0YXJ0OiB0cnVlIH0pIHx8IFwiXCJ9PC9kaXY+JHtIaWRkZW5Gb3JtSW5wdXRTbG90KHsgY29tcG9uZW50OiB0aGlzIH0pfWAgfSk7XG4gIH1cbn1cbmN1c3RvbUVsZW1lbnQoXCJjYWxjaXRlLXJhZGlvLWJ1dHRvblwiLCBSYWRpb0J1dHRvbik7XG5leHBvcnQge1xuICBSYWRpb0J1dHRvblxufTtcbiIsImV4cG9ydCAqIGZyb20gXCIuL2N1c3RvbUVsZW1lbnQuanNcIjsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=