export const __webpack_id__ = "vendors-node_modules_arcgis_core_chunks_ProjectionTransformation_js";
export const __webpack_ids__ = ["vendors-node_modules_arcgis_core_chunks_ProjectionTransformation_js"];
export const __webpack_modules__ = {

/***/ "./node_modules/@arcgis/core/chunks/Envelope.js":
/*!******************************************************!*\
  !*** ./node_modules/@arcgis/core/chunks/Envelope.js ***!
  \******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   $: () => (/* binding */ Ut),
/* harmony export */   A: () => (/* binding */ st),
/* harmony export */   B: () => (/* binding */ ot),
/* harmony export */   C: () => (/* binding */ Et),
/* harmony export */   D: () => (/* binding */ $),
/* harmony export */   E: () => (/* binding */ re),
/* harmony export */   F: () => (/* binding */ Wt),
/* harmony export */   G: () => (/* binding */ Qt),
/* harmony export */   H: () => (/* binding */ Rt),
/* harmony export */   I: () => (/* binding */ Ct),
/* harmony export */   J: () => (/* binding */ Tt),
/* harmony export */   K: () => (/* binding */ Q),
/* harmony export */   L: () => (/* binding */ Lt),
/* harmony export */   M: () => (/* binding */ Yt),
/* harmony export */   N: () => (/* binding */ pt),
/* harmony export */   O: () => (/* binding */ w),
/* harmony export */   P: () => (/* binding */ ee),
/* harmony export */   Q: () => (/* binding */ Pt),
/* harmony export */   R: () => (/* binding */ wt),
/* harmony export */   S: () => (/* binding */ at),
/* harmony export */   T: () => (/* binding */ ct),
/* harmony export */   U: () => (/* binding */ et),
/* harmony export */   V: () => (/* binding */ z),
/* harmony export */   W: () => (/* binding */ Mt),
/* harmony export */   X: () => (/* binding */ Ht),
/* harmony export */   Y: () => (/* binding */ qt),
/* harmony export */   Z: () => (/* binding */ Jt),
/* harmony export */   _: () => (/* binding */ Xt),
/* harmony export */   a: () => (/* binding */ zt),
/* harmony export */   a0: () => (/* binding */ Zt),
/* harmony export */   a1: () => (/* binding */ Gt),
/* harmony export */   a2: () => (/* binding */ yt),
/* harmony export */   a3: () => (/* binding */ dt),
/* harmony export */   a4: () => (/* binding */ bt),
/* harmony export */   a5: () => (/* binding */ $t),
/* harmony export */   a6: () => (/* binding */ U),
/* harmony export */   a7: () => (/* binding */ he),
/* harmony export */   b: () => (/* binding */ Bt),
/* harmony export */   c: () => (/* binding */ At),
/* harmony export */   d: () => (/* binding */ X),
/* harmony export */   e: () => (/* binding */ Ft),
/* harmony export */   f: () => (/* binding */ Dt),
/* harmony export */   g: () => (/* binding */ It),
/* harmony export */   h: () => (/* binding */ Vt),
/* harmony export */   i: () => (/* binding */ Ot),
/* harmony export */   j: () => (/* binding */ M),
/* harmony export */   k: () => (/* binding */ ne),
/* harmony export */   l: () => (/* binding */ H),
/* harmony export */   m: () => (/* binding */ V),
/* harmony export */   n: () => (/* binding */ G),
/* harmony export */   o: () => (/* binding */ B),
/* harmony export */   p: () => (/* binding */ S),
/* harmony export */   q: () => (/* binding */ Y),
/* harmony export */   r: () => (/* binding */ k),
/* harmony export */   s: () => (/* binding */ kt),
/* harmony export */   t: () => (/* binding */ j),
/* harmony export */   u: () => (/* binding */ W),
/* harmony export */   v: () => (/* binding */ Nt),
/* harmony export */   w: () => (/* binding */ O),
/* harmony export */   x: () => (/* binding */ nt),
/* harmony export */   y: () => (/* binding */ J),
/* harmony export */   z: () => (/* binding */ K)
/* harmony export */ });
/* harmony import */ var _Point2D_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Point2D.js */ "./node_modules/@arcgis/core/chunks/Point2D.js");
/* harmony import */ var _Envelope2D_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Envelope2D.js */ "./node_modules/@arcgis/core/chunks/Envelope2D.js");
/* harmony import */ var _Geometry_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Geometry.js */ "./node_modules/@arcgis/core/chunks/Geometry.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
const C=[0,0,Number.NaN,0,0,0,0,0,-1,-1,0,0,0,0],T=[2,1,1,1,3,1,2,3,2,4,1,1,2,1],R=[1,1,1,0,2,1,1,1,0,0,0,0,0,1],A=[1,1,1,2,0,0,0,0,2,2,4,2,2,1],q=[4,8,4,8,1],w=25;function B(){return (0,_Point2D_js__WEBPACK_IMPORTED_MODULE_0__.d)(w,Number.NaN)}let z=class s{getAttributeCount(){return this.m_attributeCount}getSemantics(t){return this.m_indexToSemantics[t]}getSemanticsBitArray(){return this.m_semanticsBitArray}getAttributeIndex(t){return this.m_semanticsToIndexMap[t]}static getInterpolation(t){return R[t]}static getPersistence(t){return A[t]}static getPersistenceSize(t){return q[t]}static getPersistenceSizeFromSemantics(t){return s.getPersistenceSize(s.getPersistence(t))*s.getComponentCount(t)}static getComponentCount(t){return T[t]}static maxComponentCount(){return 4}static isInteger(t){return 2===t||3===t||4===t}static isIntegerSemantics(t){return s.isInteger(s.getPersistence(t))}static isTexture(t){return 5===t||6===t||7===t}hasAttribute(t){return!!(this.m_semanticsBitArray&1<<t)}hasAttributesFrom(t){return(this.m_semanticsBitArray&t.m_semanticsBitArray)===t.m_semanticsBitArray}hasZ(){return this.hasAttribute(1)}hasM(){return this.hasAttribute(2)}hasID(){return this.hasAttribute(3)}getTotalComponentCount(){return this.m_totalComponentCount}static getDefaultValue(t){return C[t]}static isDefaultValue(e,s){return (0,_Point2D_js__WEBPACK_IMPORTED_MODULE_0__.Q)(C[e],s)}equals(t){return this===t}getDefaultPointAttributes(){return this.m_defaultPointAttributes}getPointAttributeOffset(t){return this.m_pointAttributeOffsets[t]}constructor(t){this.m_semanticsBitArray=t,this.m_attributeCount=0,this.m_totalComponentCount=0,this.m_semanticsToIndexMap=new Int32Array(14),this.m_indexToSemantics=new Int32Array(14),this.m_pointAttributeOffsets=new Int32Array(14),this.m_defaultPointAttributes=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_0__.d)(w,Number.NaN),this.m_semanticsToIndexMap.fill(-1),this.m_indexToSemantics.fill(-1);let i=0,n=1,r=14;for(;i<r;i++)t&n&&(this.m_semanticsToIndexMap[i]=this.m_attributeCount,this.m_indexToSemantics[this.m_attributeCount]=i,this.m_attributeCount++,this.m_totalComponentCount+=s.getComponentCount(i)),n<<=1;let h=0;for(i=0,r=this.getAttributeCount();i<r;i++){const t=this.getSemantics(i),e=s.getComponentCount(t),n=s.getDefaultValue(t);this.m_pointAttributeOffsets[i]=h;for(let s=0;s<e;s++)this.m_defaultPointAttributes[h]=n,h++}}};var L=z;function S(){return (0,_Point2D_js__WEBPACK_IMPORTED_MODULE_0__.d)(14,0)}class F{static getInstance(){return F.s_thisInstance}constructor(){this.m_map=new Map,this.m_vd2D=new L(1),this.m_map.set(1,this.m_vd2D),this.m_vd3D=new L(3),this.m_map.set(3,this.m_vd2D)}GetVD2D(){return this.m_vd2D}GetVD3D(){return this.m_vd3D}FindOrAdd(t){if(1===t)return this.GetVD2D();if(3===t)return this.GetVD3D();const e=this.m_map.get(t);if(e)return e;const s=new L(t);return this.m_map.set(t,s),s}}function P(t){return F.getInstance().FindOrAdd(t)}function H(t,e){if(!t||!e)return e||t;const s=t.getSemanticsBitArray()|e.getSemanticsBitArray();return(s&t.getSemanticsBitArray())===s?t:(s&e.getSemanticsBitArray())===s?e:P(s)}function V(t,e){const s=t.getSemanticsBitArray()|1<<e;return(s&t.getSemanticsBitArray())===s?t:P(s)}function k(t,e){const s=(t.getSemanticsBitArray()|1<<e)-(1<<e);return s===t.getSemanticsBitArray()?t:P(s)}function M(){return F.getInstance().GetVD2D()}function O(){return F.getInstance().GetVD3D()}function Y(t,e,s){if(s.fill(-1),null!==t&&null!==e)for(let i=0,n=t.getAttributeCount();i<n;i++)s[i]=e.getAttributeIndex(t.getSemantics(i))}F.s_thisInstance=new F;class X{static construct(t,e,s){return new X(t,e,s)}constructor(t,e,s){void 0!==t?(this.x=t,this.y=e,this.z=s):this.x=this.y=this.z=Number.NaN}get 0(){return this.x}get 1(){return this.y}get 2(){return this.z}set 0(t){this.x=t}set 1(t){this.y=t}set 2(t){this.z=t}clone(){return new X(this.x,this.y,this.z)}assign(t){return this.x=t.x,this.y=t.y,this.z=t.z,this}setCoords(t,e,s){return this.x=t,this.y=e,this.z=s,this}setCoordsPoint2DZ(t,e){return this.setCoords(t.x,t.y,e)}setCoordsPoint3D(t){this.x=t.x,this.y=t.y,this.z=t.z}setZero(){this.x=0,this.y=0,this.z=0}setNormalized(t){this.assign(t),this.normalizeThis()}normalizeThis(){const t=this.length();return t?(this.x/=t,this.y/=t,this.z/=t):(this.x=1,this.y=0,this.z=0),this}getUnitVector(){const t=new X;return t.setNormalized(this),t}sqrLength(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}lengthXY(){return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_2__.g)(0),0}static sqrDistance(t,e){return (0,_Point2D_js__WEBPACK_IMPORTED_MODULE_0__.a)(t.x-e.x)+(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_0__.a)(t.y-e.y)+(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_0__.a)(t.z-e.z)}static sqrDistanceCoords(t,e,i,n,r,h){return (0,_Point2D_js__WEBPACK_IMPORTED_MODULE_0__.a)(t-n)+(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_0__.a)(e-r)+(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_0__.a)(i-h)}static distance(t,e){return Math.sqrt(X.sqrDistance(t,e))}isEqual(t,e){return void 0===e&&(e=0),Math.abs(this.x-t.x)<=e&&Math.abs(this.y-t.y)<=e&&(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_0__.G)(this.z,t.z,e)}static compareByLength(t,e,s,i){return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_2__.g)(0),0}isEqualCoords(t,e,s,i){return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_2__.g)(0),this.x===t&&this.y===e&&this.z===s}isEqualsTols(t,e,s){return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_2__.g)(0),!1}isEqualCoordsTols(t,e,s,i,n){return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_2__.g)(0),!1}static st_isEqual(t,e,s,i){return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_2__.g)(0),!1}equals(t,e){return this.isEqual(t,e)}equalsTols(t,e,s){return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_2__.g)(0),!1}divThis(t){return this.x/=t,this.y/=t,this.z/=t,this}subThis(t){return this.x-=t.x,this.y-=t.y,this.z-=t.z,this}setSub(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this}sub(t){return X.construct(this.x-t.x,this.y-t.y,this.z-t.z)}addThis(t){return this.x+=t.x,this.y+=t.y,this.z+=t.z,this}add(t){return this.clone().addThis(t)}setAdd(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this}mul(t){return X.construct(this.x*t,this.y*t,this.z*t)}dotProduct(t){return this.x*t.x+this.y*t.y+this.z*t.z}crossProductVector(t){const e=this.y*t.z-t.y*this.z,s=t.x*this.z-this.x*t.z,i=this.x*t.y-t.x*this.y;return new X(e,s,i)}setCrossProductVector(t,e){const s=t.y*e.z-e.y*t.z,i=e.x*t.z-t.x*e.z,n=t.x*e.y-e.x*t.y;return this.x=s,this.y=i,this.z=n,this}setScaled(t,e){return this.x=t*e.x,this.y=t*e.y,this.z=t*e.z,this}scaleThis(t){return this.x*=t,this.y*=t,this.z*=t,this}scaleZThis(t){return this.z*=t,this}setNAN(){return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_2__.g)(0),this}isNAN(){return Number.isNaN(this.x)||Number.isNaN(this.y)||Number.isNaN(this.z)}static getNAN(){return X.construct(Number.NaN,Number.NaN,Number.NaN)}isFinite(){return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_2__.g)(0),!1}isZero(){return 0===this.x&&0===this.y&&0===this.z}norm(t){return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_2__.g)(0),0}sqrDistanceFromCenterToSpheroidSurface(t,e){return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_2__.g)(0),0}distanceFromCenterToSpheroidSurface(t,e){return Math.sqrt(this.sqrDistanceFromCenterToSpheroidSurface(t,e))}static getClosestCoordinate(t,e,s,i=!1){return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_2__.g)(0),0}compare(t){return this.y<t.y?-1:this.y>t.y?1:this.x<t.x?-1:this.x>t.x?1:this.z<t.z?-1:this.z>t.z?1:0}compareXYZ(t){return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_2__.g)(0),0}negateThis(){this.x=-this.x,this.y=-this.y,this.z=-this.z}static averageFast(t,e){return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_2__.g)(0),{}}static average(t,e){return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_2__.g)(0),{}}static size(){return X.dimensions}static lerp(t,e,s){const i=new X;return (0,_Point2D_js__WEBPACK_IMPORTED_MODULE_0__.x)(t,e,s,i),i}static slerp(t,e,s){return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_2__.g)(0),{}}static compareVectors(t,e){return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_2__.g)(0),0}static selectRightHandedBasisFromNormal(t,e,s){const i=t.getUnitVector(),n=i.createAPerpendicular(),r=new X;r.setCrossProductVector(i,n),r.normalizeThis(),e.setCoordsPoint3D(n),s.setCoordsPoint3D(r)}createAPerpendicular(){const t=[this.crossProductVector(new X(0,0,1)),this.crossProductVector(new X(1,0,0)),this.crossProductVector(new X(0,1,0))],e=[t[0].sqrLength(),t[1].sqrLength(),t[2].sqrLength()],s=t[e.reduce(((t,s,i)=>e[t]>e[i]?t:i),0)];return s.normalizeThis(),s}calculateAngle(t){return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_2__.g)(0),0}static crossDotSign(t,e,s){return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_2__.g)(0),0}static isBisectorRobust(t,e,s){return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_2__.g)(0),0}static compareZOrder(t,e){return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_2__.g)(0),!1}}X.dimensions=3;class G{static constructEmpty(){return new G(Number.NaN,Number.NaN,Number.NaN,Number.NaN,Number.NaN,Number.NaN)}constructor(t,e,s,i,n,r){this.m_EnvelopeType=3,this.xmin=t,this.ymin=e,this.zmin=s,this.xmax=i,this.ymax=n,this.zmax=r,this.normalize()}inflate(t){this.inflateCoords(t,t,t)}inflateCoords(t,e,s){(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_2__.g)(0)}getEnvelope2D(){return new _Envelope2D_js__WEBPACK_IMPORTED_MODULE_1__.Envelope2D(this.xmin,this.ymin,this.xmax,this.ymax)}getEnvelopeZs(){return new _Point2D_js__WEBPACK_IMPORTED_MODULE_0__.E(this.zmin,this.zmax)}setEmptyZ(){this.zmin=Number.NaN,this.zmax=Number.NaN}normalize(){let t=!1;this.xmin<=this.xmax||(this.xmax=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_0__.c)(this.xmin,this.xmin=this.xmax),t=!0),this.ymin<=this.ymax||(this.ymax=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_0__.c)(this.ymin,this.ymin=this.ymax),t=!0),!t||this.xmin<=this.xmax&&this.ymin<=this.ymax?this.zmin<=this.zmax||(this.zmax=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_0__.c)(this.zmin,this.zmin=this.zmax),this.zmin<=this.zmax||this.setEmptyZ()):this.setEmpty()}isEmpty(){return Number.isNaN(this.xmin)||Number.isNaN(this.ymin)||Number.isNaN(this.xmax)||Number.isNaN(this.ymax)}isEmptyZ(){return Number.isNaN(this.zmin)||Number.isNaN(this.zmax)}setEmpty(){this.xmin=Number.NaN,this.ymin=Number.NaN,this.zmin=Number.NaN,this.xmax=Number.NaN,this.ymax=Number.NaN,this.zmax=Number.NaN}mergeEnv3D(t){t.isEmpty()||(this.mergeCoords(t.xmin,t.ymin,t.zmin),this.mergeCoords(t.xmax,t.ymax,t.zmax))}mergeNe(t){this.mergeNeCoords(t.x,t.y,t.z)}mergeNeCoords(t,e,s){this.xmin>t?this.xmin=t:this.xmax<t&&(this.xmax=t),this.ymin>e?this.ymin=e:this.ymax<e&&(this.ymax=e),this.zmin>s?this.zmin=s:this.zmax<s&&(this.zmax=s)}mergeCoords(t,e,s){this.isEmpty()?(this.xmin=t,this.xmax=t,this.ymin=e,this.ymax=e,this.zmin=s,this.zmax=s):(this.isEmptyZ()&&(this.zmin=s,this.zmax=s),this.mergeNeCoords(t,e,s))}setCoords(t,e,s,i,n,r){this.xmin=t,this.ymin=e,this.zmin=s,this.xmax=i,this.ymax=n,this.zmax=r,this.normalize()}sqrDistanceEnvelope3DAndPoints(t,e,s,i=1){return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_2__.g)(0),0}sqrMaxDistance(t,e=1){return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_2__.g)(0),0}}const U=-559038737;var Z=z;function Q(t,e,s){switch(t){case 0:return new it(e,s);case 1:return new nt(e,s);case 2:return new st(e,s);case 3:throw new Error("64 bit int attribute stream not implemented");case 4:return new et(e,s);default:(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_2__.a)("")}}function j(t,e){const s=Z.getComponentCount(t);return Q(Z.getPersistence(t),e*s,Z.getDefaultValue(t))}function W(t,e){const s=Z.getComponentCount(t);return Q(Z.getPersistence(t),e*s)}function J(t,e){return new st(t,e)}function K(t,e){return new et(t,e)}function $(t,e){return new nt(t,e)}class tt{size(){return this.m_size}checkResize(t,e){t>this.m_size&&this.resize(t,e)}resize(t,e){if((t=Math.trunc(t))===this.m_size)return;const s=!!e||Number.isNaN(e);if(t<this.m_a.length)this.m_a.length>tt.s_resizeMin&&1.25*t<this.m_a.length&&(this.m_a=this.m_a.slice(0,t)),s&&t>this.m_size&&this.m_a.fill(e,this.m_size,t);else if(t>=this.m_a.length){const i=1.25*t,n=new this.m_a.constructor(i);n.set(this.m_a),this.m_a=n,s&&this.m_a.fill(e,this.m_size,t)}this.m_size=t}resizeRounded(t,e){return this.resize(t,e)}reserve(t){}read(t){return this.m_a[t]}readAsDbl(t){return this.read(t)}write(t,e){this.m_a[t]=e}writeAsDbl(t,e){this.write(t,e)}setRange(t,e,s){(e<0||s<0||s+e>this.size())&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_2__.a)(),this.m_a.fill(t,e,e+s)}add(t){this.resize(this.m_size+1),this.m_a[this.m_size-1]=t}addArray(t,e){const s=this.m_size;void 0===e?(this.resize(this.m_size+t.length),this.m_a.set(t,s)):(this.resize(this.m_size+e),this.m_a.set(t.slice(0,e),s))}equals(t,e,s,i){if(this.getPersistence()!==t.getPersistence())return!1;return rt(this,t,e,s,i)}insertRange(t,e,s,i){const n=this.m_size;this.checkResize(Math.max(0,i)+s),this.m_a.copyWithin(t+s,t,i>=0?i:n),this.m_a.fill(e,t,t+s)}readRange(t,e){return this.m_a.slice(t,t+e)}insertRangeFromStream(t,e,s,i,n,r,h){(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_2__.g)(this.getPersistence()===e.getPersistence());const o=e,a=this.m_size;i&&this.checkResize(Math.max(0,h)+i),this.m_a.copyWithin(t+i,t,h>=0?h:a),this.m_a.set(o.readRange(s,i),t),n||this.reverseRange(t,i,r)}writeRange(t,e,s,i,n,r){(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_2__.g)(this.getPersistence()===s.getPersistence());const h=s;if((t<0||e<0||i<0)&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_2__.a)(),h.size()<i+e&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_2__.a)(),0===e)return;this.size()<e+t&&this.resize(e+t);const o=h.m_a.subarray(i,i+e);ht(this.m_a,t,e,o)}insertAttributes(t,e,s,i){const n=Z.getComponentCount(s);this.m_a.copyWithin(t+n,t,i>=0?i:this.m_size);for(let r=0;r<n;r++)this.m_a[t+r]=e.getAttributeAsDbl(s,r)}insertAttributesFromPoints(t,e,s,i,n){(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_2__.g)(Z.getPersistence(i)===this.getPersistence());const r=Z.getComponentCount(i),h=this.m_size;if(this.checkResize(Math.max(0,n)+r*s),this.m_a.copyWithin(t+r*s,t,n>=0?n:h),0===i){const i=new _Point2D_js__WEBPACK_IMPORTED_MODULE_0__.P;for(let n=t,r=0;r<s;r++,n+=2)e[r].queryXY(i),this.m_a[n]=i.x,this.m_a[n+1]=i.y}else if(1===r)for(let o=t,a=0;a<s;a++,o++)this.m_a[o]=e[a].getAttributeAsDbl(i,0);else for(let o=t,a=0;a<s;a++,o+=r)for(let t=0;t<r;t++)this.m_a[o+t]=e[a].getAttributeAsDbl(i,t)}eraseRange(t,e,s){this.m_size<t+e&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_2__.a)(),this.m_a.copyWithin(t,t+e),this.m_size-=e}reverseRange(t,e,s){if((s<1||e%s!==0)&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_2__.a)(),this.m_a.subarray(t,t+e).reverse(),s>1)for(let i=t,n=t+e;i<n;i+=s){let t=i,e=i+s-1;for(;t<e;){const s=this.m_a[t];this.m_a[t]=this.m_a[e],this.m_a[e]=s,t++,e--}}}rotate(t,e,s){(e<t||e>s||t>s)&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_2__.q)("rotate"),e!==t&&e!==s&&(this.reverseRange(t,e-t,1),this.reverseRange(e,s-e,1),this.reverseRange(t,s-t,1))}sort(t,e,s){this.m_a.subarray(t,e).sort(s)}constructor(t){if(t.move)this.m_a=t.move.m_a,this.m_size=t.move.m_size,t.move.m_a=t.move.m_a.slice(0,0),t.move.m_size=0;else if(t.copy)this.m_size=t.copy.m_size,t.maxSize&&(this.m_size=Math.min(t.maxSize,this.m_size)),this.m_a=t.copy.m_a.slice(0,this.m_size);else{const e=Math.max(t.size,tt.s_constructMin);this.m_a=new t.ctor(e),(t.defaultValue||Number.isNaN(t.defaultValue))&&this.m_a.fill(t.defaultValue),this.m_size=t.size}}}tt.s_constructMin=2,tt.s_resizeMin=30;class et extends tt{setBits(t,e){this.m_a[t]|=e}clearBits(t,e){this.m_a[t]&=~e}getPersistence(){return 4}clone(){return new et({ctor:Int8Array,copy:this})}restrictedClone(t){return new et({ctor:Int8Array,copy:this,maxSize:t})}constructor(t,e){super("number"==typeof t?{ctor:Int8Array,size:t,defaultValue:e}:t)}}class st extends tt{getPersistence(){return 2}clone(){return new st({ctor:Int32Array,copy:this})}restrictedClone(t){return new st({ctor:Int32Array,copy:this,maxSize:t})}write(t,e){(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_2__.g)(e<=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_0__.i)()),super.write(t,e)}constructor(t,e){super("number"==typeof t?{ctor:Int32Array,size:t,defaultValue:e}:t)}}class it extends tt{getPersistence(){return 0}clone(){return new it({ctor:Float32Array,copy:this})}restrictedClone(t){return new it({ctor:Float32Array,copy:this,maxSize:t})}constructor(t,e){super("number"==typeof t?{ctor:Float32Array,size:t,defaultValue:e}:t)}}class nt extends tt{getPersistence(){return 1}getArray(){return this.m_a}applyTransformation(t,e,s){(1&e||e+2*s>this.size())&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_2__.a)();const i=0===e?this.m_a:this.m_a.subarray(e);t.transformInterleavedPoints(i,s,i)}readPoint2D(t){const e=this.m_a[t],s=this.m_a[t+1];return new _Point2D_js__WEBPACK_IMPORTED_MODULE_0__.P(e,s)}queryPoint2D(t,e){return e.x=this.m_a[t],e.y=this.m_a[t+1],e}writePoint2D(t,e){this.write(t,e.x),this.write(t+1,e.y)}insert(t,e,s){this.checkResize(s+2),this.m_a.copyWithin(t+2,t,s),this.m_a[t]=e.x,this.m_a[t+1]=e.y}insertRangeFromPoints(t,e,s,i,n,r){const h=this.m_size;if(this.checkResize(Math.max(r,0)+2*i),this.m_a.copyWithin(t+2*i,t,r>=0?r:h),n)for(let o=s,a=t,m=0;m<i;++m,++o){const t=e[o];this.m_a[a++]=t.x,this.m_a[a++]=t.y}else for(let o=s+i-1,a=t,m=0;m<i;++m,--o){const t=e[o];this.m_a[a++]=t.x,this.m_a[a++]=t.y}}queryRange(t,e,s,i,n){if((t<0||e<0)&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_2__.a)(),!i&&(n<=0||e%n!==0)&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_2__.a)(),0===e)return;if(1===e)return void(s[0]=this.m_a[t]);const r=this.m_a.subarray(t,t+e);s.set(r)}writeRangeFromArray(t,e,s,i,n){if((t<0||e<0)&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_2__.a)(),0===e)return;if(1===e)return void(this.m_a[t]=s[0]);let r=s;e<s.length&&(r=s.subarray(0,e)),this.m_a.set(r,t)}clone(){return new nt({ctor:Float64Array,copy:this})}restrictedClone(t){return new nt({ctor:Float64Array,copy:this,maxSize:t})}constructor(t,e){super("number"==typeof t?{ctor:Float64Array,size:t,defaultValue:e}:t)}}function rt(t,e,s,n,r){if(t.getPersistence()!==e.getPersistence())return!1;const h=t.getPersistence()<=1,o=t.size(),a=e.size();if(n>o||n>a)return!1;if(r)if(h){for(let m=s;m<n;m++)if(!(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_0__.G)(t.read(m),e.read(m),r))return!1}else for(let i=s;i<n;i++){let s=t.read(i)-e.read(i);if(s<0&&(s=-s),s>r)return!1}else for(let i=s;i<n;i++){const s=t.read(i),n=e.read(i);if(s!==n){if(h&&Number.isNaN(s)&&Number.isNaN(n))continue;return!1}}return!0}function ht(t,e,s,i,n,r){if((e<0||s<0)&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_2__.a)(),0===s)return;if(1===s)return void(t[e]=i[0]);let h=i;s<i.length&&(h=i.subarray(0,s)),t.set(h,e)}class ot{constructor(){this.m_minValue=-1,this.m_maxValue=-1,this.m_dy=Number.NaN,this.m_buckets=new st(0),this.m_bucketedIndices=new st(0)}static sortEx(t,e,s,i,n=32){if(s-e<=n)return void i.userSort(e,s,t);(new ot).sort(t,e,s,i,n)}sort(t,e,s,i,n=32){if(s-e<=n)return void i.userSort(e,s,t);let r=!0,h=Number.POSITIVE_INFINITY,o=Number.NEGATIVE_INFINITY;for(let m=e;m<s;m++){const e=i.getValue(t.read(m));e<h&&(h=e),e>o&&(o=e)}if(this.reset(s-e,h,o,s-e)){for(let r=e;r<s;r++){const s=t.read(r),n=i.getValue(s),h=this.getBucket(n);this.m_buckets.write(h,this.m_buckets.read(h)+1),this.m_bucketedIndices.write(r-e,s)}let n=this.m_buckets.read(0);this.m_buckets.write(0,0);for(let t=1,e=this.m_buckets.size();t<e;t++){const e=this.m_buckets.read(t);this.m_buckets.write(t,n),n+=e}for(let r=e;r<s;r++){const s=this.m_bucketedIndices.read(r-e),n=i.getValue(s),h=this.getBucket(n),o=this.m_buckets.read(h);t.write(o+e,s),this.m_buckets.write(h,o+1)}r=!1}if(r)return void i.userSort(e,s,t);let a=0;for(let m=0,_=this.m_buckets.size();m<_;m++){const s=a;a=this.m_buckets.read(m),a>s&&i.userSort(e+s,e+a,t)}this.m_buckets.size()>100&&(this.m_buckets.resize(0),this.m_bucketedIndices.resize(0))}reset(t,e,s,i){if(t<2||s===e)return!1;const n=Math.min(ot.c_maxBuckets,t);return this.m_buckets.resize(n),this.m_buckets.setRange(0,0,this.m_buckets.size()),this.m_minValue=e,this.m_maxValue=s,this.m_bucketedIndices.resize(i),this.m_dy=(s-e)/(n-1),!0}getBucket(t){return Math.trunc((t-this.m_minValue)/this.m_dy)}getBucketCount(){return this.m_buckets.size()}}ot.c_maxBuckets=65536;class at{capacity(){return this.capacity_}constructor(t){this.m_buffer=new Int32Array(0),this.m_firstFree=-1,this.m_last=0,this.size_=0,this.capacity_=0,this.stride=t}size(){return this.size_}deleteElement(t){t<this.m_last?(this.m_buffer[t*this.stride]=this.m_firstFree,this.m_firstFree=t):this.m_last--,this.size_--}getField(t,e){return this.m_buffer[t*this.stride+e]}setField(t,e,s){this.m_buffer[t*this.stride+e]=s}elementToIndex(t){return t}newElement(){let t=this.m_firstFree;if(-1===t){if(this.m_last===this.capacity_){let t=0!==this.capacity_?Math.trunc(3*(this.capacity_+1)/2):1;if(t>Number.MAX_SAFE_INTEGER&&(t=Number.MAX_SAFE_INTEGER),t===this.capacity_)throw new Error("index out of bounds");this.grow_(t)}t=this.m_last,this.m_last++}else this.m_firstFree=this.m_buffer[t*this.stride];this.size_++;for(let e=t*this.stride;e<t*this.stride+this.stride;e++)this.m_buffer[e]=-1;return t}newElementPset(t){let e=this.m_firstFree;if(-1===e){if(this.m_last===this.capacity_){let t=0!==this.capacity_?Math.trunc(3*(this.capacity_+1)/2):1;if(t>Number.MAX_SAFE_INTEGER&&(t=Number.MAX_SAFE_INTEGER),t===this.capacity_)throw new Error("index out of bounds");this.grow_(t)}e=this.m_last,this.m_last++}else this.m_firstFree=this.m_buffer[e*this.stride];this.size_++;const s=e*this.stride;for(let i=0;i<t.length;i++)this.m_buffer[s+i]=t[i];return e}deleteAll(t){this.m_firstFree=-1,this.m_last=0,this.size_=0,t&&(this.m_buffer=new Int32Array(0),this.capacity_=0)}setCapacity(t){t>this.capacity_&&this.grow_(t)}swap(t,e){const s=t*this.stride,i=e*this.stride;for(let n=0;n<this.stride;n++){const t=this.m_buffer[i+n];this.m_buffer[i+n]=this.m_buffer[s+n],this.m_buffer[s+n]=t}}swapField(t,e,s){const i=this.m_buffer[this.stride*e+s];this.m_buffer[this.stride*e+s]=this.m_buffer[this.stride*t+s],this.m_buffer[this.stride*t+s]=i}static impossibleIndex2(){return-2}static impossibleIndex3(){return-3}static isValidElement(t){return t>=0}grow_(t){null==this.m_buffer&&(this.m_buffer=new Int32Array(0));const e=this.stride*t,s=new Int32Array(e);s.set(this.m_buffer,0),this.m_buffer=s,this.capacity_=t}}function mt(t,e){return{element:t,box:e.clone()}}class _t{constructor(t,e,s){this.m_extent=new _Envelope2D_js__WEBPACK_IMPORTED_MODULE_1__.Envelope2D,this.m_dataExtent=new _Envelope2D_js__WEBPACK_IMPORTED_MODULE_1__.Envelope2D,this.m_childExtents=[new _Envelope2D_js__WEBPACK_IMPORTED_MODULE_1__.Envelope2D,new _Envelope2D_js__WEBPACK_IMPORTED_MODULE_1__.Envelope2D,new _Envelope2D_js__WEBPACK_IMPORTED_MODULE_1__.Envelope2D,new _Envelope2D_js__WEBPACK_IMPORTED_MODULE_1__.Envelope2D],this.m_elementNodes=new at(4),this.m_data=[],this.m_freeData=[],this.m_root=-1,this.m_height=8,void 0===s&&(s=!1),this.m_quadTreeNodes=new at(s?11:10),this.m_bStoreDuplicates=s,this.reset_(t,e)}reset(t,e){this.m_quadTreeNodes.deleteAll(!1),this.m_elementNodes.deleteAll(!1),this.m_data.length=0,this.m_freeData.length=0,this.reset_(t,e)}insert(t,e){if(-1===this.m_root&&this.createRoot_(),this.m_bStoreDuplicates){const s=this.insertDuplicates_(t,e,0,this.m_extent,this.m_root,!1,-1);return-1!==s&&(this.m_dataExtent.isEmpty()?this.m_dataExtent.setCoords({env2D:e}):this.m_dataExtent.mergeEnvelope2D(e)),s}const s=this.insert_(t,e,0,this.m_extent,this.m_root,!1,-1);return-1!==s&&(this.m_dataExtent.isEmpty()?this.m_dataExtent.setCoords({env2D:e}):this.m_dataExtent.mergeEnvelope2D(e)),s}insertEx(t,e,s){if(-1===this.m_root&&this.createRoot_(),this.m_bStoreDuplicates){const s=this.insertDuplicates_(t,e,0,this.m_extent,this.m_root,!1,-1);return-1!==s&&(this.m_dataExtent.isEmpty()?this.m_dataExtent.setCoords({env2D:e}):this.m_dataExtent.mergeEnvelope2D(e)),s}let i;i=-1===s?this.m_root:this.getQuad_(s);const n=this.getHeight(i),r=this.getExtent(i),h=this.insert_(t,e,n,r,i,!1,-1);return-1!==h&&(this.m_dataExtent.isEmpty()?this.m_dataExtent.setCoords({env2D:e}):this.m_dataExtent.mergeEnvelope2D(e)),h}removeElement(t){(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_2__.g)(0)}getElement(t){return this.getElementValue_(this.getData_(t))}getElementAtIndex(t){return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_2__.g)(0),0}getElementExtent(t){const e=this.getData_(t);return this.getBoundingBoxValue_(e).clone()}getElementExtentAtIndex(t){return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_2__.g)(0),{}}getDataExtent(){return this.m_dataExtent.clone()}getQuadTreeExtent(){return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_2__.g)(0),{}}getHeight(t){return this.m_quadTreeNodes.getField(t,6)>>_t.m_heightBitShift}getMaxHeight(){return this.m_height}getExtent(t){const e=new _Envelope2D_js__WEBPACK_IMPORTED_MODULE_1__.Envelope2D;if(e.setCoords({env2D:this.m_extent}),t===this.m_root)return e;const s=[];let i=t;do{s.push(this.getQuadrant_(i)),i=this.getParent_(i)}while(i!==this.m_root);const n=s.length;for(let r=0;r<n;r++){const t=s.at(-1);s.pop(),0===t?(e.xmin=.5*(e.xmin+e.xmax),e.ymin=.5*(e.ymin+e.ymax)):1===t?(e.xmax=.5*(e.xmin+e.xmax),e.ymin=.5*(e.ymin+e.ymax)):2===t?(e.xmax=.5*(e.xmin+e.xmax),e.ymax=.5*(e.ymin+e.ymax)):(e.xmin=.5*(e.xmin+e.xmax),e.ymax=.5*(e.ymin+e.ymax))}return e}getQuad(t){return this.getQuad_(t)}getElementCount(){return-1===this.m_root?0:this.getSubTreeElementCount_(this.m_root)}getSubTreeElementCount(t){return this.getSubTreeElementCount_(t)}getContainedSubTreeElementCount(t){return this.m_bStoreDuplicates?this.getContainedSubTreeElementCount_(t):this.getSubTreeElementCount_(t)}getIntersectionCount(t,e,s){if(-1===this.m_root)return 0;const i=new _Envelope2D_js__WEBPACK_IMPORTED_MODULE_1__.Envelope2D;i.setCoords({env2D:t}),i.inflateCoords(e,e);const n=[],r=[];n.push(this.m_root),r.push(this.m_extent.clone());const h=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_0__.m)(_Envelope2D_js__WEBPACK_IMPORTED_MODULE_1__.Envelope2D,4);let o=0;for(;n.length>0;){let t=!1;const e=n.at(-1),a=r.at(-1);if(n.pop(),r.pop(),i.containsEnvelope(a)){if(o+=this.getSubTreeElementCount(e),s>0&&o>=s)return s}else if(i.isIntersecting(a)){for(let t=this.getFirstElement_(e);-1!==t;t=this.getNextElement_(t)){const e=this.getData_(t);if(this.getBoundingBoxValue_(e).isIntersecting(i)&&(o++,s>0&&o>=s))return s}t=this.getHeight(e)+1<=this.m_height}if(t){_t.setChildExtents_(a,h);for(let t=0;t<4;t++){const s=this.getChild_(e,t);if(-1!==s&&this.getSubTreeElementCount_(s)>0){i.isIntersecting(h[t])&&(n.push(s),r.push(h[t].clone()))}}}}return o}hasData(t,e){return this.getIntersectionCount(t,e,1)>=1}getIterator(t,e){return new lt(this,t,e)}getIteratorForQT(){return new lt(this)}getSortedIterator(t,e){return new ut(this.getIterator(t,e))}getSortedIteratorForQT(){return new ut(this.getIteratorForQT())}visitLeavesNearest(t,e,s,i){(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_2__.g)(0)}reset_(t,e){(e<0||e>127)&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_2__.a)("invalid height"),this.m_height=e,this.m_extent.setCoords({env2D:t}),this.m_dataExtent.setEmpty(),this.m_root=-1}insert_(t,e,s,i,n,r,h){if(!i.containsEnvelope(e))return 0===s?-1:this.insert_(t,e,0,this.m_extent,this.m_root,r,h);if(!r)for(let _=n;-1!==_;_=this.getParent_(_))this.setSubTreeElementCount_(_,this.getSubTreeElementCount_(_)+1);const o=new _Envelope2D_js__WEBPACK_IMPORTED_MODULE_1__.Envelope2D;o.setCoords({env2D:i});let a,m=n;for(a=s;a<this.m_height&&this.canPushDown_(m);a++){_t.setChildExtents_(o,this.m_childExtents);let t=!1;for(let s=0;s<4;s++)if(this.m_childExtents[s].containsEnvelope(e)){t=!0;let e=this.getChild_(m,s);-1===e&&(e=this.createChild_(m,s)),this.setSubTreeElementCount_(e,this.getSubTreeElementCount_(e)+1),m=e,o.setCoords({env2D:this.m_childExtents[s]});break}if(!t)break}return this.insertAtQuad_(t,e,a,o,m,r,n,h,-1)}insertDuplicates_(t,e,s,i,n,r,h){if(!r){if(!i.containsEnvelope(e))return-1;this.setSubTreeElementCount_(n,this.getSubTreeElementCount_(n)+1),this.setContainedSubTreeElementCount_(n,this.getContainedSubTreeElementCount_(n)+1)}const o=Math.max(e.width(),e.height());let a=-1;const m=[],_=[],l=[];m.push(n),_.push(i.clone()),l.push(s);const u=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_0__.m)(_Envelope2D_js__WEBPACK_IMPORTED_MODULE_1__.Envelope2D,4);for(;m.length>0;){let s=!1;const i=m.at(-1),d=_.at(-1),c=l.at(-1);if(m.pop(),_.pop(),l.pop(),c+1<this.m_height&&this.canPushDown_(i)){o<=Math.max(d.width(),d.height())/2&&(s=!0)}if(s){_t.setChildExtents_(d,u);let t=!1;for(let s=0;s<4;s++)if(t=u[s].containsEnvelope(e),t){let t=this.getChild_(i,s);-1===t&&(t=this.createChild_(i,s)),m.push(t),_.push(u[s].clone()),l.push(c+1),this.setSubTreeElementCount_(t,this.getSubTreeElementCount_(t)+1),this.setContainedSubTreeElementCount_(t,this.getContainedSubTreeElementCount_(t)+1);break}if(!t)for(let s=0;s<4;s++){if(u[s].isIntersecting(e)){let t=this.getChild_(i,s);-1===t&&(t=this.createChild_(i,s)),m.push(t),_.push(u[s].clone()),l.push(c+1),this.setSubTreeElementCount_(t,this.getSubTreeElementCount_(t)+1)}}}else a=this.insertAtQuad_(t,e,c,d,i,r,n,h,a),r=!1}return 0}insertAtQuad_(t,e,s,i,n,r,h,o,a){this.getFirstElement_(n);const m=this.getLastElement_(n);let _=-1;if(r){if(n===h)return o;this.disconnectElementHandle_(o),_=o}else-1===a?(_=this.createElement_(),this.setDataValues_(this.getData_(_),t,e)):_=this.createElementFromDuplicate_(a);return this.setQuad_(_,n),-1!==m?(this.setPrevElement_(_,m),this.setNextElement_(m,_)):this.setFirstElement_(n,_),this.setLastElement_(n,_),this.setLocalElementCount_(n,this.getLocalElementCount_(n)+1),this.canFlush_(n)&&this.flush_(s,i,n),_}static setChildExtents_(t,e){const s=.5*(t.xmin+t.xmax),i=.5*(t.ymin+t.ymax);e[0].setCoords({xmin:s,ymin:i,xmax:t.xmax,ymax:t.ymax}),e[1].setCoords({xmin:t.xmin,ymin:i,xmax:s,ymax:t.ymax}),e[2].setCoords({xmin:t.xmin,ymin:t.ymin,xmax:s,ymax:i}),e[3].setCoords({xmin:s,ymin:t.ymin,xmax:t.xmax,ymax:i})}disconnectElementHandle_(t){const e=this.getQuad_(t),s=this.getFirstElement_(e),i=this.getLastElement_(e),n=this.getPrevElement_(t),r=this.getNextElement_(t);s===t?(-1!==r?this.setPrevElement_(r,-1):this.setLastElement_(e,-1),this.setFirstElement_(e,r)):i===t?(this.setNextElement_(n,-1),this.setLastElement_(e,n)):(this.setPrevElement_(r,n),this.setNextElement_(n,r)),this.setPrevElement_(t,-1),this.setNextElement_(t,-1),this.setLocalElementCount_(e,this.getLocalElementCount_(e)-1)}canFlush_(t){return this.getLocalElementCount_(t)===_t.m_flushingCount&&!this.hasChildren_(t)}flush_(t,e,s){let i;const n=new _Envelope2D_js__WEBPACK_IMPORTED_MODULE_1__.Envelope2D;let r=this.getFirstElement_(s),h=-1,o=-1;do{o=this.getData_(r),i=this.getElementValue_(o),n.setCoords({env2D:this.getBoundingBoxValue_(o)}),h=this.getNextElement_(r),this.m_bStoreDuplicates?this.insertDuplicates_(i,n,t,e,s,!0,r):this.insert_(i,n,t,e,s,!0,r),r=h}while(-1!==r)}canPushDown_(t){return this.getLocalElementCount_(t)>=_t.m_flushingCount||this.hasChildren_(t)}hasChildren_(t){return-1!==this.getChild_(t,0)||-1!==this.getChild_(t,1)||-1!==this.getChild_(t,2)||-1!==this.getChild_(t,3)}createChild_(t,e){const s=this.m_quadTreeNodes.newElement();return this.setChild_(t,e,s),this.setSubTreeElementCount_(s,0),this.setLocalElementCount_(s,0),this.setParent_(s,t),this.setHeightAndQuadrant_(s,this.getHeight_(t)+1,e),this.m_bStoreDuplicates&&this.setContainedSubTreeElementCount_(s,0),s}createRoot_(){this.m_root=this.m_quadTreeNodes.newElement(),this.setSubTreeElementCount_(this.m_root,0),this.setLocalElementCount_(this.m_root,0),this.setHeightAndQuadrant_(this.m_root,0,0),this.m_bStoreDuplicates&&this.setContainedSubTreeElementCount_(this.m_root,0)}createElement_(){const t=this.m_elementNodes.newElement();let e;return this.m_freeData.length>0?(e=this.m_freeData.at(-1),this.m_freeData.pop()):(e=this.m_data.length,this.m_data.length=e+1),this.setData_(t,e),t}createElementFromDuplicate_(t){const e=this.m_elementNodes.newElement(),s=this.getData_(t);return this.setData_(e,s),e}freeElementAndBoxNode_(t){(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_2__.g)(0)}getChild_(t,e){return this.m_quadTreeNodes.getField(t,e)}setChild_(t,e,s){this.m_quadTreeNodes.setField(t,e,s)}getFirstElement_(t){return this.m_quadTreeNodes.getField(t,4)}setFirstElement_(t,e){this.m_quadTreeNodes.setField(t,4,e)}getLastElement_(t){return this.m_quadTreeNodes.getField(t,5)}setLastElement_(t,e){this.m_quadTreeNodes.setField(t,5,e)}getQuadrant_(t){return this.m_quadTreeNodes.getField(t,6)&_t.m_quadrantMask}getHeight_(t){return this.m_quadTreeNodes.getField(t,6)>>_t.m_heightBitShift}setHeightAndQuadrant_(t,e,s){const i=e<<_t.m_heightBitShift|s;this.m_quadTreeNodes.setField(t,6,i)}getLocalElementCount_(t){return this.m_quadTreeNodes.getField(t,7)}setLocalElementCount_(t,e){this.m_quadTreeNodes.setField(t,7,e)}getSubTreeElementCount_(t){return this.m_quadTreeNodes.getField(t,8)}setSubTreeElementCount_(t,e){this.m_quadTreeNodes.setField(t,8,e)}getParent_(t){return this.m_quadTreeNodes.getField(t,9)}setParent_(t,e){this.m_quadTreeNodes.setField(t,9,e)}getContainedSubTreeElementCount_(t){return this.m_quadTreeNodes.getField(t,10)}setContainedSubTreeElementCount_(t,e){this.m_quadTreeNodes.setField(t,10,e)}getData_(t){return this.m_elementNodes.getField(t,0)}setData_(t,e){this.m_elementNodes.setField(t,0,e)}getPrevElement_(t){return this.m_elementNodes.getField(t,1)}getNextElement_(t){return this.m_elementNodes.getField(t,2)}setPrevElement_(t,e){this.m_elementNodes.setField(t,1,e)}setNextElement_(t,e){this.m_elementNodes.setField(t,2,e)}getQuad_(t){return this.m_elementNodes.getField(t,3)}setQuad_(t,e){this.m_elementNodes.setField(t,3,e)}getElementValue_(t){return this.m_data[t].element}getBoundingBoxValue_(t){return this.m_data[t].box}setDataValues_(t,e,s){this.m_data[t]=mt(e,s)}}_t.m_quadrantMask=3,_t.m_heightBitShift=2,_t.m_flushingCount=5;class lt{constructor(t,e,s){this.m_bLinear=!1,this.m_queryStart=new _Point2D_js__WEBPACK_IMPORTED_MODULE_0__.P,this.m_queryEnd=new _Point2D_js__WEBPACK_IMPORTED_MODULE_0__.P,this.m_queryBox=new _Envelope2D_js__WEBPACK_IMPORTED_MODULE_1__.Envelope2D,this.m_tolerance=0,this.m_currentElementHandle=-1,this.m_nextElementHandle=-1,this.m_quadsStack=[],this.m_extentsStack=[],this.m_childExtents=[new _Envelope2D_js__WEBPACK_IMPORTED_MODULE_1__.Envelope2D,new _Envelope2D_js__WEBPACK_IMPORTED_MODULE_1__.Envelope2D,new _Envelope2D_js__WEBPACK_IMPORTED_MODULE_1__.Envelope2D,new _Envelope2D_js__WEBPACK_IMPORTED_MODULE_1__.Envelope2D],this.m_quadTree=t,e&&this.resetIterator(e,s)}resetIterator(t,e){if(void 0===e&&(e=0),t instanceof _Envelope2D_js__WEBPACK_IMPORTED_MODULE_1__.Envelope2D)return this.m_quadsStack.length=0,this.m_extentsStack.length=0,this.m_currentElementHandle=-1,this.m_queryBox.setCoords({env2D:t}),this.m_queryBox.inflateCoords(e,e),this.m_tolerance=Number.NaN,void(-1!==this.m_quadTree.m_root&&this.m_queryBox.isIntersecting(this.m_quadTree.m_extent)?(this.m_quadsStack.push(this.m_quadTree.m_root),this.m_extentsStack.push(this.m_quadTree.m_extent.clone()),this.m_nextElementHandle=this.m_quadTree.getFirstElement_(this.m_quadTree.m_root),this.m_bLinear=!1):this.m_nextElementHandle=-1);if(this.m_quadsStack.length=0,this.m_extentsStack.length=0,this.m_currentElementHandle=-1,t.queryLooseEnvelope(this.m_queryBox),this.m_queryBox.inflateCoords(e,e),-1!==this.m_quadTree.m_root&&this.m_queryBox.isIntersecting(this.m_quadTree.m_extent)){const s=t.getGeometryType();if(this.m_bLinear=s===_Geometry_js__WEBPACK_IMPORTED_MODULE_2__.G.enumLine,this.m_bLinear){const s=t;this.m_queryStart.assign(s.getStartXY()),this.m_queryEnd.assign(s.getEndXY()),this.m_tolerance=e}else this.m_tolerance=Number.NaN;this.m_quadsStack.push(this.m_quadTree.m_root),this.m_extentsStack.push(this.m_quadTree.m_extent.clone()),this.m_nextElementHandle=this.m_quadTree.getFirstElement_(this.m_quadTree.m_root)}else this.m_nextElementHandle=-1}next(){if(0===this.m_quadsStack.length)return-1;this.m_currentElementHandle=this.m_nextElementHandle;const t=new _Point2D_js__WEBPACK_IMPORTED_MODULE_0__.P,e=new _Point2D_js__WEBPACK_IMPORTED_MODULE_0__.P,s=new _Envelope2D_js__WEBPACK_IMPORTED_MODULE_1__.Envelope2D;let i=!1;for(;!i;){for(;-1!==this.m_currentElementHandle;){const n=this.m_quadTree.getData_(this.m_currentElementHandle);if(s.setCoords({env2D:this.m_quadTree.getBoundingBoxValue_(n)}),s.isIntersecting(this.m_queryBox)){if(!this.m_bLinear){i=!0;break}if(t.setCoordsPoint2D(this.m_queryStart),e.setCoordsPoint2D(this.m_queryEnd),s.inflateCoords(this.m_tolerance,this.m_tolerance),s.clipLine(t,e)>0){i=!0;break}}this.m_currentElementHandle=this.m_quadTree.getNextElement_(this.m_currentElementHandle)}if(-1===this.m_currentElementHandle){const s=this.m_quadsStack.at(-1),i=this.m_extentsStack.at(-1);_t.setChildExtents_(i,this.m_childExtents),this.m_quadsStack.pop(),this.m_extentsStack.pop();for(let n=0;n<4;n++){const i=this.m_quadTree.getChild_(s,n);if(-1!==i&&this.m_quadTree.getSubTreeElementCount(i)>0&&this.m_childExtents[n].isIntersecting(this.m_queryBox))if(this.m_bLinear){t.setCoordsPoint2D(this.m_queryStart),e.setCoordsPoint2D(this.m_queryEnd);const s=new _Envelope2D_js__WEBPACK_IMPORTED_MODULE_1__.Envelope2D;s.setCoords({env2D:this.m_childExtents[n]}),s.inflateCoords(this.m_tolerance,this.m_tolerance),s.clipLine(t,e)>0&&(this.m_quadsStack.push(i),this.m_extentsStack.push(this.m_childExtents[n].clone()))}else this.m_quadsStack.push(i),this.m_extentsStack.push(this.m_childExtents[n].clone())}if(0===this.m_quadsStack.length)return-1;this.m_currentElementHandle=this.m_quadTree.getFirstElement_(this.m_quadsStack.at(-1))}}return this.m_nextElementHandle=this.m_quadTree.getNextElement_(this.m_currentElementHandle),this.m_currentElementHandle}clone(){return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_2__.g)(0),{}}}class ut{constructor(t){this.m_bucketSort=new ot,this.m_sortedHandles=new st(0),this.m_index=-1,this.m_quadTreeIteratorImpl=t}resetIterator(t,e){this.m_quadTreeIteratorImpl.resetIterator(t,e),this.m_sortedHandles.resize(0),this.m_index=-1}next(){if(-1===this.m_index){let t=-1;for(;-1!==(t=this.m_quadTreeIteratorImpl.next());)this.m_sortedHandles.add(t);const e=this,s={userSort(t,s,i){i.sort(t,s,((t,s)=>e.m_quadTreeIteratorImpl.m_quadTree.getElement(t)-e.m_quadTreeIteratorImpl.m_quadTree.getElement(s)))},getValue:t=>e.m_quadTreeIteratorImpl.m_quadTree.getElement(t)};this.m_bucketSort.sort(this.m_sortedHandles,0,this.m_sortedHandles.size(),s)}return this.m_index===this.m_sortedHandles.size()-1?-1:(this.m_index++,this.m_sortedHandles.read(this.m_index))}clone(){return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_2__.g)(0),{}}}class dt{constructor(t=!1){this.m_bNotifyOnActions=t}onDelete(t){}onSet(t){}onEndSearch(t){}onAddUniqueElementFailed(t){}onDeleteImpl(t,e){this.m_bNotifyOnActions&&this.onDelete(t.getElement(e))}onSetImpl(t,e){this.m_bNotifyOnActions&&this.onSet(t.getElement(e))}onAddUniqueElementFailedImpl(t){this.m_bNotifyOnActions&&this.onAddUniqueElementFailed(t)}onEndSearchImpl(t){this.m_bNotifyOnActions&&this.onEndSearch(t)}}class ct{static st_nullNode(){return-1}constructor(){this.m_defaultTreap=-1,this.m_random=124234251,this.m_comparator=null,this.m_treapData=new at(7),this.m_treapCount=0,this.m_maxDepthEver=0,this.m_bBalancing=!0}setComparator(t){this.m_comparator=t}getComparator(){return this.m_comparator}disableBalancing(){this.m_bBalancing=!1}enableBalancing(){this.m_bBalancing||((0,_Geometry_js__WEBPACK_IMPORTED_MODULE_2__.g)(this.m_treapCount<=1),this.rebalance(-1),this.m_bBalancing=!0)}isAutoBalancing(){return this.m_bBalancing}rebalance(t){if(this.m_bBalancing)return;if(-1===t&&(t=this.m_defaultTreap),0===this.size(t))return;const e=[];for(let s=this.getFirst(t);-1!==s;s=this.getNext(s))e.push(s),this.setParent_(s,-1),this.setRight_(s,-1),this.setLeft_(s,-1);this.setRoot_(-1,t),this.setFirst_(-1,t),this.setLast_(-1,t),this.setSize_(0,t),this.m_bBalancing=!0;for(const s of e)this.addBiggestElement_(s,t);this.m_bBalancing=!1}setCapacity(t){this.m_treapData.setCapacity(t)}createTreap(t){const e=this.m_treapData.newElement();return this.setSize_(0,e),this.setTreapData_(t,e),this.m_treapCount++,e}deleteTreap(t){this.m_treapData.deleteElement(t),this.m_treapCount--}addElement(t,e=-1){return-1===e&&(this.m_defaultTreap===ct.st_nullNode()&&(this.m_defaultTreap=this.createTreap(-1)),e=this.m_defaultTreap),this.addElement_(t,0,e)}addUniqueElement(t,e=-1){return-1===e&&(this.m_defaultTreap===ct.st_nullNode()&&(this.m_defaultTreap=this.createTreap(-1)),e=this.m_defaultTreap),this.addElement_(t,1,e)}addBiggestElement(t,e=-1){-1===e&&(this.m_defaultTreap===ct.st_nullNode()&&(this.m_defaultTreap=this.createTreap(-1)),e=this.m_defaultTreap);const s=this.newNode_(t);return this.addBiggestElement_(s,e),s}addElementAtPosition(t,e,s,i,n,r=-1){if(-1===r&&(this.m_defaultTreap===ct.st_nullNode()&&(this.m_defaultTreap=this.createTreap(-1)),r=this.m_defaultTreap),this.getRoot_(r)===ct.st_nullNode()){const t=this.newNode_(s);return this.setRoot_(t,r),this.addToList_(-1,t,r),t}let h,o,a,m,_;if(n?(h=e!==ct.st_nullNode()?this.m_comparator.compare(this,s,e):-1,o=t!==ct.st_nullNode()?this.m_comparator.compare(this,s,t):1):(h=-1,o=1),i&&(0===h||0===o)){this.m_comparator.onAddUniqueElementFailedImpl(s);const i=0===h?e:t;return this.setDuplicateElement_(i,r),-1}_=e!==ct.st_nullNode()&&t!==ct.st_nullNode()?this.m_random>(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_0__.B)(this.m_random)>>1:e!==ct.st_nullNode(),_?(m=h,a=e):(m=o,a=t);let u=-1,d=-1,c=!0;for(;;){if(m<0){const t=this.getLeft(a);if(t===ct.st_nullNode()){d=a,u=this.newNode_(s),this.setLeft_(a,u),this.setParent_(u,a);break}a=t}else{const t=this.getRight(a);if(t===ct.st_nullNode()){d=this.getNext(a),u=this.newNode_(s),this.setRight_(a,u),this.setParent_(u,a);break}a=t}c&&(m*=-1,c=!1)}return this.bubbleUp_(u),this.getParent(u)===ct.st_nullNode()&&this.setRoot_(u,r),this.addToList_(d,u,r),u}replaceElementAtPosition(t,e,s,i,n=-1){if(i){const i=this.getNext(t);let r=-1;i!==ct.st_nullNode()&&(r=this.m_comparator.compare(this,e,i));const h=this.getPrev(t);let o=-1;if(h!==ct.st_nullNode()&&(o=this.m_comparator.compare(this,e,h)),s&&(0===r||0===o)){this.m_comparator.onAddUniqueElementFailedImpl(e);const t=0===r?i:h;return n===ct.st_nullNode()&&(this.m_defaultTreap===ct.st_nullNode()&&(this.m_defaultTreap=this.createTreap(-1)),n=this.m_defaultTreap),this.setDuplicateElement_(t,n),-1}}return this.setElement_(t,e),t}getDuplicateElement(t=-1){return-1===t?this.getDuplicateElement_(this.m_defaultTreap):this.getDuplicateElement_(t)}deleteNode(t,e=-1){this.m_comparator&&this.m_comparator.onDeleteImpl(this,t),-1===e&&(e=this.m_defaultTreap),this.m_bBalancing?this.deleteNode_(t,e):this.unbalancedDelete_(t,e)}search(t,e=-1){let s=this.getRoot(e);for(;s!==ct.st_nullNode();){const e=this.m_comparator.compare(this,t,s);if(!e)return s;s=e<0?this.getLeft(s):this.getRight(s)}return this.m_comparator.onEndSearchImpl(t),ct.st_nullNode()}searchLowerBound(t,e=-1){let s=this.getRoot(e),i=-1;for(;s!==ct.st_nullNode();){const e=t.compare(this,s);if(!e)return s;e<0?s=this.getLeft(s):(i=s,s=this.getRight(s))}return i}searchUpperBound(t,e=-1){let s=this.getRoot(e),i=-1;for(;s!==ct.st_nullNode();){const e=t.compare(this,s);if(!e)return s;e<0?(i=s,s=this.getLeft(s)):s=this.getRight(s)}return i}getElement(t){return this.m_treapData.getField(t,3)}getLeft(t){return this.m_treapData.getField(t,0)}getRight(t){return this.m_treapData.getField(t,1)}getParent(t){return this.m_treapData.getField(t,2)}getNext(t){return this.m_treapData.getField(t,6)}getPrev(t){return this.m_treapData.getField(t,5)}getFirst(t=-1){return-1===t?this.getFirst_(this.m_defaultTreap):this.getFirst_(t)}getLast(t=-1){return-1===t?this.getLast_(this.m_defaultTreap):this.getLast_(t)}getTreapData(t=-1){return-1===t?this.getTreapData_(this.m_defaultTreap):this.getTreapData_(t)}setElement(t,e){null!==this.m_comparator&&this.m_comparator.onSetImpl(this,t),this.setElement_(t,e)}getRoot(t=-1){return-1===t?this.getRoot_(this.m_defaultTreap):this.getRoot_(t)}clear(){this.m_treapData.deleteAll(!1),this.m_defaultTreap=ct.st_nullNode(),this.m_treapCount=0,this.m_maxDepthEver=0}addToList_(t,e,s){let i;-1!==t?(i=this.getPrev(t),this.setPrev_(t,e)):i=this.getLast_(s),this.setPrev_(e,i),-1!==i&&this.setNext_(i,e),this.setNext_(e,t),t===this.getFirst_(s)&&this.setFirst_(e,s),-1===t&&this.setLast_(e,s),this.setSize_(this.getSize_(s)+1,s)}size(t=-1){return-1===t?this.getSize_(this.m_defaultTreap):this.getSize_(t)}getMaxDepth(t=-1){return this.getMaxDepthHelper_(this.getRoot(t))}getMaxDepthEver(){return this.m_maxDepthEver}static st_isValidNode(t){return at.isValidElement(t)}dbgCheck_(t){}getPriority_(t){return this.m_treapData.getField(t,4)}bubbleDown_(t){let e=this.getLeft(t),s=this.getRight(t);const i=this.getPriority_(t);for(;e!==ct.st_nullNode()||s!==ct.st_nullNode();){const n=e!==ct.st_nullNode()?this.getPriority_(e):(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_0__.j)(),r=s!==ct.st_nullNode()?this.getPriority_(s):(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_0__.j)();if(i<=Math.min(n,r))return;n<=r?this.rotateRight_(e):this.rotateLeft_(t),e=this.getLeft(t),s=this.getRight(t)}}bubbleUp_(t){if(!this.m_bBalancing)return;const e=this.getPriority_(t);let s=this.getParent(t);for(;s!==ct.st_nullNode()&&this.getPriority_(s)>e;)this.getLeft(s)===t?this.rotateRight_(t):this.rotateLeft_(s),s=this.getParent(t)}rotateLeft_(t){const e=t,s=this.getRight(t);let i;this.setParent_(s,this.getParent(e)),this.setParent_(e,s),i=this.getLeft(s),this.setRight_(e,i),i!==ct.st_nullNode()&&this.setParent_(i,e),this.setLeft_(s,e),i=this.getParent(s),i!==ct.st_nullNode()&&(this.getLeft(i)===e?this.setLeft_(i,s):this.setRight_(i,s))}rotateRight_(t){const e=this.getParent(t),s=t;let i;this.setParent_(s,this.getParent(e)),this.setParent_(e,s),i=this.getRight(s),this.setLeft_(e,i),i!==ct.st_nullNode()&&this.setParent_(i,e),this.setRight_(s,e),i=this.getParent(s),i!==ct.st_nullNode()&&(this.getLeft(i)===e?this.setLeft_(i,s):this.setRight_(i,s))}setParent_(t,e){this.m_treapData.setField(t,2,e)}setLeft_(t,e){this.m_treapData.setField(t,0,e)}setRight_(t,e){this.m_treapData.setField(t,1,e)}setPriority_(t,e){this.m_treapData.setField(t,4,e)}setPrev_(t,e){this.m_treapData.setField(t,5,e)}setNext_(t,e){this.m_treapData.setField(t,6,e)}setRoot_(t,e){this.m_treapData.setField(e,0,t)}setFirst_(t,e){this.m_treapData.setField(e,1,t)}setLast_(t,e){this.m_treapData.setField(e,2,t)}setDuplicateElement_(t,e){this.m_treapData.setField(e,3,t)}setSize_(t,e){this.m_treapData.setField(e,4,t)}setTreapData_(t,e){this.m_treapData.setField(e,5,t)}getRoot_(t){return-1===t?ct.st_nullNode():this.m_treapData.getField(t,0)}getFirst_(t){return-1===t?ct.st_nullNode():this.m_treapData.getField(t,1)}getLast_(t){return-1===t?ct.st_nullNode():this.m_treapData.getField(t,2)}getDuplicateElement_(t){return-1===t?ct.st_nullNode():this.m_treapData.getField(t,3)}getSize_(t){return-1===t?0:this.m_treapData.getField(t,4)}getTreapData_(t){return this.m_treapData.getField(t,5)}newNode_(t){const e=this.m_treapData.newElement();return this.setPriority_(e,this.generatePriority_()),this.setElement_(e,t),e}freeNode_(t,e){t!==ct.st_nullNode()&&this.m_treapData.deleteElement(t)}generatePriority_(){return this.m_random=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_0__.B)(this.m_random),this.m_random&(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_0__.j)()>>1}maxPriority(){return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_2__.g)(0),0}getMaxDepthHelper_(t){return t===ct.st_nullNode()?0:1+Math.max(this.getMaxDepthHelper_(this.getLeft(t)),this.getMaxDepthHelper_(this.getRight(t)))}addElement_(t,e,s){if(this.getRoot(s)===ct.st_nullNode()){const e=this.newNode_(t);return this.setRoot_(e,s),this.addToList_(-1,e,s),this.m_maxDepthEver=Math.max(this.m_maxDepthEver,1),e}let i=this.getRoot_(s),n=-1,r=-1,h=1;for(;;){const o=-1===e?1:this.m_comparator.compare(this,t,i);if(o<0){const e=this.getLeft(i);if(e===ct.st_nullNode()){r=i,n=this.newNode_(t),this.setLeft_(i,n),this.setParent_(n,i);break}i=e}else{if(1===e&&0===o)return this.m_comparator.onAddUniqueElementFailedImpl(t),this.setDuplicateElement_(i,s),-1;const h=this.getRight(i);if(h===ct.st_nullNode()){r=this.getNext(i),n=this.newNode_(t),this.setRight_(i,n),this.setParent_(n,i);break}i=h}h++}return this.bubbleUp_(n),this.getParent(n)===ct.st_nullNode()&&this.setRoot_(n,s),this.addToList_(r,n,s),this.m_maxDepthEver=Math.max(h,this.m_maxDepthEver),n}removeFromList_(t,e){const s=this.getPrev(t),i=this.getNext(t);-1!==s?this.setNext_(s,i):this.setFirst_(i,e),-1!==i?this.setPrev_(i,s):this.setLast_(s,e),this.setSize_(this.getSize_(e)-1,e)}unbalancedDelete_(t,e){this.removeFromList_(t,e);let s=this.getLeft(t),i=this.getRight(t),n=this.getParent(t),r=t;if(-1!==s&&-1!==i){let h;this.m_random=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_0__.B)(this.m_random),h=this.m_random>(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_0__.j)()>>1?this.getNext(t):this.getPrev(t);const o=this.getParent(h)===t;this.m_treapData.swapField(t,h,0),this.m_treapData.swapField(t,h,1),this.m_treapData.swapField(t,h,2),-1!==n?this.getLeft(n)===t?this.setLeft_(n,h):this.setRight_(n,h):this.setRoot_(h,e),o?(s===h?(this.setLeft_(h,t),this.setParent_(i,h)):i===h&&(this.setRight_(h,t),this.setParent_(s,h)),this.setParent_(t,h),n=h):(this.setParent_(s,h),this.setParent_(i,h),n=this.getParent(t),r=h),s=this.getLeft(t),i=this.getRight(t),-1!==s&&this.setParent_(s,t),-1!==i&&this.setParent_(i,t)}const h=-1!==s?s:i;-1===n?this.setRoot_(h,e):this.getLeft(n)===r?this.setLeft_(n,h):this.setRight_(n,h),-1!==h&&this.setParent_(h,n),this.freeNode_(t,e)}deleteNode_(t,e){this.setPriority_(t,(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_0__.j)());let s=ct.st_nullNode(),i=ct.st_nullNode();const n=this.getRoot_(e),r=n===t;if(r&&(s=this.getLeft(n),i=this.getRight(n),s===ct.st_nullNode()&&i===ct.st_nullNode()))return this.removeFromList_(n,e),this.freeNode_(n,e),void this.setRoot_(ct.st_nullNode(),e);this.bubbleDown_(t);const h=this.getParent(t);h!==ct.st_nullNode()&&(this.getLeft(h)===t?this.setLeft_(h,ct.st_nullNode()):this.setRight_(h,ct.st_nullNode())),this.removeFromList_(t,e),this.freeNode_(t,e),r&&this.setRoot_(s===ct.st_nullNode()||this.getParent(s)!==ct.st_nullNode()?i:s,e)}setElement_(t,e){this.m_treapData.setField(t,3,e)}addBiggestElement_(t,e){if(this.getRoot_(e)===ct.st_nullNode())return this.setRoot_(t,e),void this.addToList_(-1,t,e);const s=this.getLast_(e);this.setRight_(s,t),this.setParent_(t,s),this.bubbleUp_(t),this.getParent(t)===ct.st_nullNode()&&this.setRoot_(t,e),this.addToList_(-1,t,e)}}class pt{constructor(t){this.m_lists=new at(6),this.m_listOfLists=pt.st_nullNode(),void 0===t?(this.m_listNodes=new at(3),this.m_bStoreListIndexWithNode=!1):(this.m_listNodes=new at(t?4:3),this.m_bStoreListIndexWithNode=t)}freeNode_(t){this.m_listNodes.deleteElement(t)}newNode_(){return this.m_listNodes.newElement()}freeList_(t){(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_2__.g)(0)}newList_(){return this.m_lists.newElement()}setPrev_(t,e){this.m_listNodes.setField(t,1,e)}setNext_(t,e){this.m_listNodes.setField(t,2,e)}setData_(t,e){(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_2__.g)(0)}setList_(t,e){return this.m_listNodes.setField(t,3,e)}setListSize_(t,e){this.m_lists.setField(t,4,e)}setNextList_(t,e){(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_2__.g)(0)}setPrevList_(t,e){this.m_lists.setField(t,2,e)}createList(t){const e=this.newList_();return this.m_lists.setField(e,3,this.m_listOfLists),this.m_lists.setField(e,4,0),this.m_lists.setField(e,5,t),this.m_listOfLists!==pt.st_nullNode()&&this.setPrevList_(this.m_listOfLists,e),this.m_listOfLists=e,e}deleteList(t){this.clear(t);const e=this.m_lists.getField(t,2),s=this.m_lists.getField(t,3);return e!==pt.st_nullNode()?this.setNextList_(e,s):this.m_listOfLists=s,s!==pt.st_nullNode()&&this.setPrevList_(s,e),this.freeList_(t),s}reserveLists(t){(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_2__.g)(0)}getListData(t){return this.m_lists.getField(t,5)}getList(t){return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_2__.g)(0),0}setListData(t,e){this.m_lists.setField(t,5,e)}addElement(t,e){return this.insertElement(t,-1,e)}insertElement(t,e,s){const i=this.newNode_();let n=-1;e!==pt.st_nullNode()&&(n=this.getPrev(e),this.setPrev_(e,i)),this.setNext_(i,e),n!==pt.st_nullNode()&&this.setNext_(n,i);if(e===this.m_lists.getField(t,0)&&this.m_lists.setField(t,0,i),e===pt.st_nullNode()){const e=this.m_lists.getField(t,1);this.setPrev_(i,e),-1!==e&&this.setNext_(e,i),this.m_lists.setField(t,1,i)}return this.setData(i,s),this.setListSize_(t,this.getListSize(t)+1),this.m_bStoreListIndexWithNode&&this.setList_(i,t),i}deleteElement(t,e){const s=this.getPrev(e),i=this.getNext(e);return s!==pt.st_nullNode()?this.setNext_(s,i):this.m_lists.setField(t,0,i),i!==pt.st_nullNode()?this.setPrev_(i,s):this.m_lists.setField(t,1,s),this.freeNode_(e),this.setListSize_(t,this.getListSize(t)-1),i}reserveNodes(t){this.m_listNodes.setCapacity(t)}getData(t){return this.m_listNodes.getField(t,0)}getElement(t){return this.getData(t)}setData(t,e){this.m_listNodes.setField(t,0,e)}getNext(t){return this.m_listNodes.getField(t,2)}getPrev(t){return this.m_listNodes.getField(t,1)}getFirst(t){return this.m_lists.getField(t,0)}getLast(t){return this.m_lists.getField(t,1)}static st_nullNode(){return-1}clear(t){if(void 0!==t){let e=this.getLast(t);for(;e!==pt.st_nullNode();){const t=e;e=this.getPrev(t),this.freeNode_(t)}return this.m_lists.setField(t,0,-1),this.m_lists.setField(t,1,-1),void this.setListSize_(t,0)}for(let e=this.getFirstList();-1!==e;)e=this.deleteList(e)}isEmpty(t){return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_2__.g)(0),!1}getNodeCount(){return this.m_listNodes.size()}getListCount(){return this.m_lists.size()}getListSize(t){return this.m_lists.getField(t,4)}getFirstList(){return this.m_listOfLists}getNextList(t){return this.m_lists.getField(t,3)}}class gt extends dt{constructor(t){super(),this.m_intervalTree=t}compare(t,e,s){const i=t.getElement(s),n=this.m_intervalTree.getValue_(e),r=this.m_intervalTree.getValue_(i);return n<r?-1:n===r?ft.isLeft_(e)&&ft.isRight_(i)?-1:ft.isLeft_(i)&&ft.isRight_(e)?1:0:1}}class ft{constructor(t){this.m_bEnvelopesRef=!1,this.m_intervals=[],this.m_envelopesRef=null,this.m_intervalNodes=new at(3),this.m_intervalHandles=[],this.m_endIndicesUnique=[],this.m_cCount=-1,this.m_root=-1,this.m_bSortIntervals=!1,this.m_bConstructing=!1,this.m_bConstructionEnded=!1,this.m_bOfflineDynamic=t,this.m_tertiaryNodes=new at(this.m_bOfflineDynamic?5:4),this.m_secondaryTreaps=new ct,this.m_secondaryTreaps.setComparator(new gt(this)),this.m_secondaryLists=new pt}addEnvelopesRef(t){this.reset_(!0,!0),this.m_bEnvelopesRef=!0,this.m_envelopesRef=t,this.m_bConstructing=!1,this.m_bConstructionEnded=!0,this.m_bOfflineDynamic||(this.insertIntervalsStatic_(),this.m_cCount=this.m_envelopesRef.length)}startConstruction(){this.reset_(!0,!1)}addInterval(t){this.m_bConstructing||(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_2__.p)(""),this.m_intervals.push(t.clone())}addIntervalCoords(t,e){(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_2__.g)(0)}endConstruction(){this.m_bConstructing||(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_2__.p)(""),this.m_bConstructing=!1,this.m_bConstructionEnded=!0,this.m_bOfflineDynamic||(this.insertIntervalsStatic_(),this.m_cCount=this.m_intervals.length)}insert(t){if(this.m_bOfflineDynamic&&this.m_bConstructionEnded||(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_2__.p)(""),-1===this.m_root){const t=this.m_bEnvelopesRef?this.m_envelopesRef.length:this.m_intervals.length;if(this.m_bSortIntervals){const e=new st(0);this.querySortedEndPointIndices_(e),this.m_endIndicesUnique.length=0,this.querySortedDuplicatesRemoved_(e),this.m_intervalHandles.length=t,this.m_intervalHandles.fill(-1),this.m_bSortIntervals=!1}else this.m_intervalHandles.fill(-1,0,t);this.m_root=this.createRoot_()}const e=this.insertIntervalEnd_(t<<1,this.m_root),s=this.getSecondaryFromInterval_(e),i=this.m_secondaryTreaps.addElement(1+(t<<1),s);this.setRightEnd_(e,i),this.m_intervalHandles[t]=e,this.m_cCount++}remove(t){this.m_bOfflineDynamic&&this.m_bConstructionEnded||(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_2__.p)("");const e=this.m_intervalHandles[t];let s;-1===e&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_2__.a)("the interval does not exist in the interval tree"),this.m_intervalHandles[t]=-1,this.m_cCount--;let i=this.getSecondaryFromInterval_(e),n=-1;n=this.m_secondaryTreaps.getTreapData(i),this.m_secondaryTreaps.deleteNode(this.getLeftEnd_(e),i),this.m_secondaryTreaps.deleteNode(this.getRightEnd_(e),i),s=this.m_secondaryTreaps.size(i),0===s&&(this.m_secondaryTreaps.deleteTreap(i),this.setSecondaryToTertiary_(n,-1)),this.m_intervalNodes.deleteElement(e);let r=this.getPptr_(n),h=this.getLptr_(n),o=this.getRptr_(n);for(;!(s>0||n===this.m_root||-1!==h&&-1!==o);)n===this.getLptr_(r)?-1!==h?(this.setLptr_(r,h),this.setPptr_(h,r),this.setLptr_(n,-1),this.setPptr_(n,-1)):-1!==o?(this.setLptr_(r,o),this.setPptr_(o,r),this.setRptr_(n,-1),this.setPptr_(n,-1)):(this.setLptr_(r,-1),this.setPptr_(n,-1)):-1!==h?(this.setRptr_(r,h),this.setPptr_(h,r),this.setLptr_(n,-1),this.setPptr_(n,-1)):-1!==o?(this.setRptr_(r,o),this.setPptr_(o,r),this.setRptr_(n,-1),this.setPptr_(n,-1)):(this.setRptr_(r,-1),this.setPptr_(n,-1)),this.m_tertiaryNodes.deleteElement(n),n=r,i=this.getSecondaryFromTertiary_(n),s=-1!==i?this.m_secondaryTreaps.size(i):0,h=this.getLptr_(n),o=this.getRptr_(n),r=this.getPptr_(n)}size(){return this.m_cCount}getIteratorQuery(t,e){return t instanceof _Point2D_js__WEBPACK_IMPORTED_MODULE_0__.E?new vt(this,t,e):((0,_Geometry_js__WEBPACK_IMPORTED_MODULE_2__.g)(0),{})}getIterator(){return new vt(this)}querySortedEndPointIndices_(t){const e=this.m_bEnvelopesRef?this.m_envelopesRef.length:this.m_intervals.length;for(let s=0;s<2*e;s++)t.add(s);this.sortEndIndices_(t,0,2*e)}querySortedDuplicatesRemoved_(t){let e=Number.NaN;for(let s=0;s<t.size();s++){const i=t.read(s),n=this.getValue_(i);n!==e&&(this.m_endIndicesUnique.push(i),e=n)}}insertIntervalsStatic_(){const t=this.m_bEnvelopesRef?this.m_envelopesRef.length:this.m_intervals.length,s=new st(0);this.querySortedEndPointIndices_(s),this.m_endIndicesUnique.length=0,this.querySortedDuplicatesRemoved_(s),this.m_intervalNodes.setCapacity(t),this.m_secondaryLists.reserveNodes(2*t);const i=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_0__.d)(t,-1);this.m_root=this.createRoot_();for(let e=0;e<s.size();e++){const t=s.read(e);let n=i[t>>1];if(-1!==n){const e=this.getSecondaryFromInterval_(n);this.setRightEnd_(n,this.m_secondaryLists.addElement(e,t))}else n=this.insertIntervalEnd_(t,this.m_root),i[t>>1]=n}}createRoot_(){const t=this.calculateDiscriminantIndex1_(0,this.m_endIndicesUnique.length-1);return this.createTertiaryNode_(t)}insertIntervalEnd_(t,e){let s=-1,i=e,n=-1,r=-1,h=0,o=this.m_endIndicesUnique.length-1,a=0;const m=t>>1;let _=Number.NaN,l=Number.NaN,u=!0;const d=this.getMin_(m),c=this.getMax_(m);let p=-1;for(;u;){a=h+(o-h>>1),p=this.calculateDiscriminantIndex1_(h,o);const e=this.getDiscriminantFromIndex1_(p);if(c<e){if(-1!==i)if(p===this.getDiscriminantIndex1_(i))s=i,_=e,i=this.getLptr_(i),l=-1!==i?this.getDiscriminant_(i):Number.NaN;else if(l>e){const t=this.createTertiaryNode_(p);e<_?this.setLptr_(s,t):this.setRptr_(s,t),this.setRptr_(t,i),this.m_bOfflineDynamic&&(this.setPptr_(t,s),this.setPptr_(i,t)),s=t,_=e,i=-1,l=Number.NaN}o=a;continue}if(d>e){if(-1!==i)if(p===this.getDiscriminantIndex1_(i))s=i,_=e,i=this.getRptr_(i),l=-1!==i?this.getDiscriminant_(i):Number.NaN;else if(l<e){const t=this.createTertiaryNode_(p);e<_?this.setLptr_(s,t):this.setRptr_(s,t),this.setLptr_(t,i),this.m_bOfflineDynamic&&(this.setPptr_(t,s),this.setPptr_(i,t)),s=t,_=e,i=-1,l=Number.NaN}h=a+1;continue}let m=-1;m=-1===i||p!==this.getDiscriminantIndex1_(i)?this.createTertiaryNode_(p):i,n=this.getSecondaryFromTertiary_(m),-1===n&&(n=this.createSecondary_(m),this.setSecondaryToTertiary_(m,n));const g=this.addEndIndex_(n,t);r=this.createIntervalNode_(),this.setSecondaryToInterval_(r,n),this.setLeftEnd_(r,g),-1!==i&&p===this.getDiscriminantIndex1_(i)||(e<_?this.setLptr_(s,m):this.setRptr_(s,m),this.m_bOfflineDynamic&&this.setPptr_(m,s),-1!==i&&(l<e?this.setLptr_(m,i):this.setRptr_(m,i),this.m_bOfflineDynamic&&this.setPptr_(i,m))),u=!1;break}return r}createTertiaryNode_(t){const e=this.m_tertiaryNodes.newElement();return this.setDiscriminantIndex1_(e,t),e}createSecondary_(t){return this.m_bOfflineDynamic?this.m_secondaryTreaps.createTreap(t):this.m_secondaryLists.createList(t)}createIntervalNode_(){return this.m_intervalNodes.newElement()}reset(){this.m_bOfflineDynamic&&this.m_bConstructionEnded||(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_2__.p)(""),this.reset_(!1,this.m_bEnvelopesRef)}reset_(t,e){t?(this.m_bEnvelopesRef=!1,this.m_envelopesRef=null,this.m_bSortIntervals=!0,this.m_bConstructing=!0,this.m_bConstructionEnded=!1,this.m_endIndicesUnique.length=0,e?(this.m_intervals.length=0,this.m_bEnvelopesRef=!0):this.m_intervals.length=0):this.m_bSortIntervals=!1,this.m_bOfflineDynamic?this.m_secondaryTreaps.clear():this.m_secondaryLists.clear(),this.m_intervalNodes.deleteAll(!1),this.m_tertiaryNodes.deleteAll(!1),this.m_root=-1,this.m_cCount=0}getDiscriminant_(t){const e=this.getDiscriminantIndex1_(t);return this.getDiscriminantFromIndex1_(e)}getDiscriminantFromIndex1_(t){if(-1===t)return Number.NaN;if(t>0){const e=t-2,s=this.m_endIndicesUnique[e],i=this.m_endIndicesUnique[e+1];return.5*(this.getValue_(s)+this.getValue_(i))}const e=-t-2,s=this.m_endIndicesUnique[e];return this.getValue_(s)}calculateDiscriminantIndex1_(t,e){let s;if(t<e){s=t+(e-t>>1)+2}else s=-(t+2);return s}setDiscriminantIndex1_(t,e){this.m_tertiaryNodes.setField(t,0,e)}setSecondaryToTertiary_(t,e){this.m_tertiaryNodes.setField(t,1,e)}setLptr_(t,e){this.m_tertiaryNodes.setField(t,2,e)}setRptr_(t,e){this.m_tertiaryNodes.setField(t,3,e)}setPptr_(t,e){this.m_tertiaryNodes.setField(t,4,e)}setSecondaryToInterval_(t,e){this.m_intervalNodes.setField(t,0,e)}addEndIndex_(t,e){let s=-1;return s=this.m_bOfflineDynamic?this.m_secondaryTreaps.addElement(e,t):this.m_secondaryLists.addElement(t,e),s}setLeftEnd_(t,e){this.m_intervalNodes.setField(t,1,e)}setRightEnd_(t,e){this.m_intervalNodes.setField(t,2,e)}getFirst_(t){return this.m_bOfflineDynamic?this.m_secondaryTreaps.getFirst(t):this.m_secondaryLists.getFirst(t)}getLast_(t){return this.m_bOfflineDynamic?this.m_secondaryTreaps.getLast(t):this.m_secondaryLists.getLast(t)}static isLeft_(t){return!(1&t)}static isRight_(t){return!(1&~t)}getDiscriminantIndex1_(t){return this.m_tertiaryNodes.getField(t,0)}getSecondaryFromTertiary_(t){return this.m_tertiaryNodes.getField(t,1)}getLptr_(t){return this.m_tertiaryNodes.getField(t,2)}getRptr_(t){return this.m_tertiaryNodes.getField(t,3)}getPptr_(t){return this.m_tertiaryNodes.getField(t,4)}getSecondaryFromInterval_(t){return this.m_intervalNodes.getField(t,0)}getLeftEnd_(t){return this.m_intervalNodes.getField(t,1)}getRightEnd_(t){return this.m_intervalNodes.getField(t,2)}getMin_(t){return this.m_bEnvelopesRef?this.m_envelopesRef[t].xmin:this.m_intervals[t].vmin}getMax_(t){return this.m_bEnvelopesRef?this.m_envelopesRef[t].xmax:this.m_intervals[t].vmax}sortEndIndices_(t,e,s){const i=this,n={userSort(t,e,s){i.sortEndIndicesHelper_(s,t,e)},getValue:t=>i.getValue_(t)};(new ot).sort(t,e,s,n)}sortEndIndicesHelper_(t,e,s){t.sort(e,s,((t,e)=>{const s=this.getValue_(t),i=this.getValue_(e);return s<i||s===i&&ft.isLeft_(t)&&ft.isRight_(e)?-1:1}))}getValue_(t){if(!this.m_bEnvelopesRef){const e=this.m_intervals[t>>1];return ft.isLeft_(t)?e.vmin:e.vmax}const e=this.m_envelopesRef[t>>1];return ft.isLeft_(t)?e.xmin:e.xmax}}class vt{constructor(t,e,s){this.m_query=_Point2D_js__WEBPACK_IMPORTED_MODULE_0__.E.constructEmpty(),this.m_tertiaryHandle=-1,this.m_nextTertiaryHandle=-1,this.m_forkedHandle=-1,this.m_currentEndHandle=-1,this.m_nextEndHandle=-1,this.m_tertiaryStack=[],this.m_functionIndex=0,this.m_intervalTree=t,this.m_functionStack=new Array(2),this.m_functionStack[0]=this.nullFunc_,this.m_functionStack[1]=this.nullFunc_,void 0!==e&&this.resetIterator(e,s)}nullFunc_(){return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_2__.d)("should not be called"),!1}resetIterator(t,e){if("number"==typeof t){const s=new _Point2D_js__WEBPACK_IMPORTED_MODULE_0__.E;s.setCoords(t,t),this.resetIterator(s,e)}else void 0===e&&(e=0),this.m_query.vmin=t.vmin-e,this.m_query.vmax=t.vmax+e,this.m_tertiaryStack.length=0,this.m_functionIndex=0,this.m_functionStack[0]=this.initialize_}next(){if(this.m_intervalTree.m_bConstructionEnded||(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_2__.p)(""),this.m_functionIndex<0)return-1;for(;this.m_fi=this.m_functionStack[this.m_functionIndex],this.m_fi(););return-1!==this.m_currentEndHandle?this.getCurrentEndIndex_()>>1:-1}initialize_(){return this.m_tertiaryHandle=-1,this.m_nextTertiaryHandle=-1,this.m_forkedHandle=-1,this.m_currentEndHandle=-1,this.m_intervalTree.m_tertiaryNodes.size()>0?(this.m_functionStack[0]=this.pIn_,this.m_nextTertiaryHandle=this.m_intervalTree.m_root,!0):(this.m_functionIndex=-1,!1)}pIn_(){if(this.m_tertiaryHandle=this.m_nextTertiaryHandle,-1===this.m_tertiaryHandle)return this.m_functionIndex=-1,this.m_currentEndHandle=-1,!1;const t=this.m_intervalTree.getDiscriminant_(this.m_tertiaryHandle);if(this.m_query.vmax<t){const t=this.m_intervalTree.getSecondaryFromTertiary_(this.m_tertiaryHandle);return this.m_nextTertiaryHandle=this.m_intervalTree.getLptr_(this.m_tertiaryHandle),-1!==t&&(this.m_nextEndHandle=this.m_intervalTree.getFirst_(t),this.m_functionStack[++this.m_functionIndex]=this.left_),!0}if(t<this.m_query.vmin){const t=this.m_intervalTree.getSecondaryFromTertiary_(this.m_tertiaryHandle);return this.m_nextTertiaryHandle=this.m_intervalTree.getRptr_(this.m_tertiaryHandle),-1!==t&&(this.m_nextEndHandle=this.m_intervalTree.getLast_(t),this.m_functionStack[++this.m_functionIndex]=this.right_),!0}this.m_functionStack[this.m_functionIndex]=this.pL_,this.m_forkedHandle=this.m_tertiaryHandle;const e=this.m_intervalTree.getSecondaryFromTertiary_(this.m_tertiaryHandle);return this.m_nextTertiaryHandle=this.m_intervalTree.getLptr_(this.m_tertiaryHandle),-1!==e&&(this.m_nextEndHandle=this.m_intervalTree.getFirst_(e),this.m_functionStack[++this.m_functionIndex]=this.all_),!0}pL_(){if(this.m_tertiaryHandle=this.m_nextTertiaryHandle,-1===this.m_tertiaryHandle)return this.m_functionStack[this.m_functionIndex]=this.pR_,this.m_nextTertiaryHandle=this.m_intervalTree.getRptr_(this.m_forkedHandle),!0;if(this.m_intervalTree.getDiscriminant_(this.m_tertiaryHandle)<this.m_query.vmin){const t=this.m_intervalTree.getSecondaryFromTertiary_(this.m_tertiaryHandle);return this.m_nextTertiaryHandle=this.m_intervalTree.getRptr_(this.m_tertiaryHandle),-1!==t&&(this.m_nextEndHandle=this.m_intervalTree.getLast_(t),this.m_functionStack[++this.m_functionIndex]=this.right_),!0}const t=this.m_intervalTree.getSecondaryFromTertiary_(this.m_tertiaryHandle);this.m_nextTertiaryHandle=this.m_intervalTree.getLptr_(this.m_tertiaryHandle),-1!==t&&(this.m_nextEndHandle=this.m_intervalTree.getFirst_(t),this.m_functionStack[++this.m_functionIndex]=this.all_);const e=this.m_intervalTree.getRptr_(this.m_tertiaryHandle);return-1!==e&&this.m_tertiaryStack.push(e),!0}pR_(){if(this.m_tertiaryHandle=this.m_nextTertiaryHandle,-1===this.m_tertiaryHandle)return this.m_functionStack[this.m_functionIndex]=this.pT_,!0;const t=this.m_intervalTree.getDiscriminant_(this.m_tertiaryHandle);if(this.m_query.vmax<t){const t=this.m_intervalTree.getSecondaryFromTertiary_(this.m_tertiaryHandle);return this.m_nextTertiaryHandle=this.m_intervalTree.getLptr_(this.m_tertiaryHandle),-1!==t&&(this.m_nextEndHandle=this.m_intervalTree.getFirst_(t),this.m_functionStack[++this.m_functionIndex]=this.left_),!0}const e=this.m_intervalTree.getSecondaryFromTertiary_(this.m_tertiaryHandle);this.m_nextTertiaryHandle=this.m_intervalTree.getRptr_(this.m_tertiaryHandle),-1!==e&&(this.m_nextEndHandle=this.m_intervalTree.getFirst_(e),this.m_functionStack[++this.m_functionIndex]=this.all_);const s=this.m_intervalTree.getLptr_(this.m_tertiaryHandle);return-1!==s&&this.m_tertiaryStack.push(s),!0}pT_(){if(0===this.m_tertiaryStack.length)return this.m_functionIndex=-1,this.m_currentEndHandle=-1,!1;this.m_tertiaryHandle=this.m_tertiaryStack.at(-1),this.m_tertiaryStack.pop();const t=this.m_intervalTree.getSecondaryFromTertiary_(this.m_tertiaryHandle);return-1!==t&&(this.m_nextEndHandle=this.m_intervalTree.getFirst_(t),this.m_functionStack[++this.m_functionIndex]=this.all_),-1!==this.m_intervalTree.getLptr_(this.m_tertiaryHandle)&&this.m_tertiaryStack.push(this.m_intervalTree.getLptr_(this.m_tertiaryHandle)),-1!==this.m_intervalTree.getRptr_(this.m_tertiaryHandle)&&this.m_tertiaryStack.push(this.m_intervalTree.getRptr_(this.m_tertiaryHandle)),!0}left_(){return this.m_currentEndHandle=this.m_nextEndHandle,-1!==this.m_currentEndHandle&&ft.isLeft_(this.getCurrentEndIndex_())&&this.m_intervalTree.getValue_(this.getCurrentEndIndex_())<=this.m_query.vmax?(this.m_nextEndHandle=this.getNext_(),!1):(this.m_functionIndex--,!0)}right_(){return this.m_currentEndHandle=this.m_nextEndHandle,-1!==this.m_currentEndHandle&&ft.isRight_(this.getCurrentEndIndex_())&&this.m_intervalTree.getValue_(this.getCurrentEndIndex_())>=this.m_query.vmin?(this.m_nextEndHandle=this.getPrev_(),!1):(this.m_functionIndex--,!0)}all_(){return this.m_currentEndHandle=this.m_nextEndHandle,-1!==this.m_currentEndHandle&&ft.isLeft_(this.getCurrentEndIndex_())?(this.m_nextEndHandle=this.getNext_(),!1):(this.m_functionIndex--,!0)}getNext_(){return this.m_intervalTree.m_bOfflineDynamic?this.m_intervalTree.m_secondaryTreaps.getNext(this.m_currentEndHandle):this.m_intervalTree.m_secondaryLists.getNext(this.m_currentEndHandle)}getPrev_(){return this.m_intervalTree.m_bOfflineDynamic?this.m_intervalTree.m_secondaryTreaps.getPrev(this.m_currentEndHandle):this.m_intervalTree.m_secondaryLists.getPrev(this.m_currentEndHandle)}getCurrentEndIndex_(){return this.m_intervalTree.m_bOfflineDynamic?this.m_intervalTree.m_secondaryTreaps.getElement(this.m_currentEndHandle):this.m_intervalTree.m_secondaryLists.getData(this.m_currentEndHandle)}}class yt{constructor(){this.m_tolerance=0,this.m_sweepIndexRed=-1,this.m_sweepIndexBlue=-1,this.m_envelopeHandleA=-1,this.m_envelopeHandleB=-1,this.m_intervalTreeRed=null,this.m_intervalTreeBlue=null,this.m_iteratorRed=null,this.m_iteratorBlue=null,this.m_envelopesRed=[],this.m_envelopesBlue=[],this.m_elementsRed=[],this.m_elementsBlue=[],this.m_sortedEndIndicesRed=new st(0),this.m_sortedEndIndicesBlue=new st(0),this.m_queuedListRed=-1,this.m_queuedListBlue=-1,this.m_queuedEnvelopes=new pt,this.m_queuedIndicesRed=[],this.m_queuedIndicesBlue=[],this.m_bAddRed=!1,this.m_bAddBlue=!1,this.m_bAddRedRed=!1,this.m_bDone=!0,this.m_function=this.nullFunc_,this.reset_()}startConstruction(){this.reset_(),this.m_bAddRedRed=!0,this.m_elementsRed.length=0,this.m_envelopesRed.length=0}addEnvelope(t,e){this.m_bAddRedRed||(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_2__.p)(""),this.m_elementsRed.push(t),this.m_envelopesRed.push(new _Envelope2D_js__WEBPACK_IMPORTED_MODULE_1__.Envelope2D(e))}endConstruction(){this.m_bAddRedRed||(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_2__.p)(""),this.m_bAddRedRed=!1,this.m_envelopesRed.length>0&&(this.m_function=this.initialize_,this.m_bDone=!1)}startRedConstruction(){this.reset_(),this.m_bAddRed=!0,this.m_elementsRed.length=0,this.m_envelopesRed.length=0}addRedEnvelope(t,e){this.m_bAddRed||(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_2__.p)(""),this.m_elementsRed.push(t),this.m_envelopesRed.push(e.clone())}endRedConstruction(){this.m_bAddRed||(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_2__.p)(""),this.m_bAddRed=!1,this.m_envelopesRed.length>0&&this.m_envelopesBlue.length>0&&(this.m_function===this.nullFunc_||this.m_function===this.initializeBlue_?this.m_function=this.initializeRedBlue_:this.m_function!==this.initializeRedBlue_&&(this.m_function=this.initializeRed_),this.m_bDone=!1)}startBlueConstruction(){this.reset_(),this.m_bAddBlue=!0,this.m_elementsBlue.length=0,this.m_envelopesBlue.length=0}addBlueEnvelope(t,e){this.m_bAddBlue||(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_2__.p)(""),this.m_elementsBlue.push(t),this.m_envelopesBlue.push(e.clone())}endBlueConstruction(){this.m_bAddBlue||(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_2__.p)(""),this.m_bAddBlue=!1,this.m_envelopesRed.length>0&&this.m_envelopesBlue.length>0&&(this.m_function===this.nullFunc_||this.m_function===this.initializeRed_?this.m_function=this.initializeRedBlue_:this.m_function!==this.initializeRedBlue_&&(this.m_function=this.initializeBlue_),this.m_bDone=!1)}next(){if(this.m_bDone)return!1;for(;this.m_function(););return!this.m_bDone}getHandleA(){return this.m_envelopeHandleA}getHandleB(){return this.m_envelopeHandleB}setTolerance(t){this.m_tolerance=t}getElement(t){return this.m_elementsRed[t]}getRedEnvelope(t){return this.m_envelopesRed[t]}getBlueEnvelope(t){return this.m_envelopesBlue[t]}getRedElement(t){return this.m_elementsRed[t]}getBlueElement(t){return this.m_elementsBlue[t]}isTop_(t){return!(1&~t)}isBottom_(t){return!(1&t)}reset_(){this.m_bAddRed=!1,this.m_bAddBlue=!1,this.m_bAddRedRed=!1,this.m_sweepIndexRed=-1,this.m_sweepIndexBlue=-1,this.m_queuedListRed=-1,this.m_queuedListBlue=-1,this.m_bDone=!0}initialize_(){if(this.m_envelopeHandleA=-1,this.m_envelopeHandleB=-1,this.m_envelopesRed.length<10)return this.m_sweepIndexRed=this.m_envelopesRed.length,this.m_function=this.sweepBruteForce_,!0;this.m_intervalTreeRed||(this.m_intervalTreeRed=new ft(!0)),this.m_intervalTreeRed.addEnvelopesRef(this.m_envelopesRed),null===this.m_iteratorRed&&(this.m_iteratorRed=this.m_intervalTreeRed.getIterator()),this.m_sortedEndIndicesRed.resize(0);for(let t=0;t<2*this.m_envelopesRed.length;t++)this.m_sortedEndIndicesRed.add(t);return this.sortYEndIndices_(this.m_sortedEndIndicesRed,0,2*this.m_envelopesRed.length,!0),this.m_sweepIndexRed=2*this.m_envelopesRed.length,this.m_function=this.sweep_,!0}initializeRed_(){if(this.m_envelopeHandleA=-1,this.m_envelopeHandleB=-1,this.m_envelopesRed.length<10||this.m_envelopesBlue.length<10)return this.m_sweepIndexRed=this.m_envelopesRed.length,this.m_function=this.sweepRedBlueBruteForce_,!0;this.m_intervalTreeRed||(this.m_intervalTreeRed=new ft(!0)),this.m_intervalTreeRed.addEnvelopesRef(this.m_envelopesRed),null===this.m_iteratorRed&&(this.m_iteratorRed=this.m_intervalTreeRed.getIterator()),this.m_sortedEndIndicesRed.resize(0);for(let t=0;t<2*this.m_envelopesRed.length;t++)this.m_sortedEndIndicesRed.add(t);return this.sortYEndIndices_(this.m_sortedEndIndicesRed,0,this.m_sortedEndIndicesRed.size(),!0),this.m_sweepIndexRed=this.m_sortedEndIndicesRed.size(),-1!==this.m_queuedListRed&&(this.m_queuedEnvelopes.deleteList(this.m_queuedListRed),this.m_queuedIndicesRed.length=0,this.m_queuedListRed=-1),this.m_function=this.sweepRedBlue_,this.resetBlue_()}initializeBlue_(){if(this.m_envelopeHandleA=-1,this.m_envelopeHandleB=-1,this.m_envelopesRed.length<10||this.m_envelopesBlue.length<10)return this.m_sweepIndexRed=this.m_envelopesRed.length,this.m_function=this.sweepRedBlueBruteForce_,!0;this.m_intervalTreeBlue||(this.m_intervalTreeBlue=new ft(!0)),this.m_intervalTreeBlue.addEnvelopesRef(this.m_envelopesBlue),null==this.m_iteratorBlue&&(this.m_iteratorBlue=this.m_intervalTreeBlue.getIterator()),this.m_sortedEndIndicesBlue.resize(0);for(let t=0;t<2*this.m_envelopesBlue.length;t++)this.m_sortedEndIndicesBlue.add(t);return this.sortYEndIndices_(this.m_sortedEndIndicesBlue,0,this.m_sortedEndIndicesBlue.size(),!1),this.m_sweepIndexBlue=this.m_sortedEndIndicesBlue.size(),-1!==this.m_queuedListBlue&&(this.m_queuedEnvelopes.deleteList(this.m_queuedListBlue),this.m_queuedIndicesBlue.length=0,this.m_queuedListBlue=-1),this.m_function=this.sweepRedBlue_,this.resetRed_()}initializeRedBlue_(){if(this.m_envelopeHandleA=-1,this.m_envelopeHandleB=-1,this.m_envelopesRed.length<10||this.m_envelopesBlue.length<10)return this.m_sweepIndexRed=this.m_envelopesRed.length,this.m_function=this.sweepRedBlueBruteForce_,!0;this.m_intervalTreeRed||(this.m_intervalTreeRed=new ft(!0)),this.m_intervalTreeBlue||(this.m_intervalTreeBlue=new ft(!0)),this.m_intervalTreeRed.addEnvelopesRef(this.m_envelopesRed),this.m_intervalTreeBlue.addEnvelopesRef(this.m_envelopesBlue),null===this.m_iteratorRed&&(this.m_iteratorRed=this.m_intervalTreeRed.getIterator()),null===this.m_iteratorBlue&&(this.m_iteratorBlue=this.m_intervalTreeBlue.getIterator()),this.m_sortedEndIndicesRed.resize(0),this.m_sortedEndIndicesBlue.resize(0);for(let t=0;t<2*this.m_envelopesRed.length;t++)this.m_sortedEndIndicesRed.add(t);for(let t=0;t<2*this.m_envelopesBlue.length;t++)this.m_sortedEndIndicesBlue.add(t);return this.sortYEndIndices_(this.m_sortedEndIndicesRed,0,this.m_sortedEndIndicesRed.size(),!0),this.sortYEndIndices_(this.m_sortedEndIndicesBlue,0,this.m_sortedEndIndicesBlue.size(),!1),this.m_sweepIndexRed=this.m_sortedEndIndicesRed.size(),this.m_sweepIndexBlue=this.m_sortedEndIndicesBlue.size(),-1!==this.m_queuedListRed&&(this.m_queuedEnvelopes.deleteList(this.m_queuedListRed),this.m_queuedIndicesRed.length=0,this.m_queuedListRed=-1),-1!==this.m_queuedListBlue&&(this.m_queuedEnvelopes.deleteList(this.m_queuedListBlue),this.m_queuedIndicesBlue.length=0,this.m_queuedListBlue=-1),this.m_function=this.sweepRedBlue_,!0}sweep_(){const t=this.m_sortedEndIndicesRed.read(--this.m_sweepIndexRed),e=t>>1;if(this.isBottom_(t))return this.m_intervalTreeRed.remove(e),0!==this.m_sweepIndexRed||(this.m_envelopeHandleA=-1,this.m_envelopeHandleB=-1,this.m_bDone=!0,!1);const s=_Point2D_js__WEBPACK_IMPORTED_MODULE_0__.E.construct(this.m_envelopesRed[e].xmin,this.m_envelopesRed[e].xmax);return this.m_iteratorRed.resetIterator(s,this.m_tolerance),this.m_envelopeHandleA=e,this.m_function=this.iterate_,!0}sweepBruteForce_(){return-1===--this.m_sweepIndexRed?(this.m_envelopeHandleA=-1,this.m_envelopeHandleB=-1,this.m_bDone=!0,!1):(this.m_envelopeHandleA=this.m_sweepIndexRed,this.m_sweepIndexBlue=this.m_sweepIndexRed,this.m_function=this.iterateBruteForce_,!0)}sweepRedBlueBruteForce_(){return-1===--this.m_sweepIndexRed?(this.m_envelopeHandleA=-1,this.m_envelopeHandleB=-1,this.m_bDone=!0,!1):(this.m_envelopeHandleA=this.m_sweepIndexRed,this.m_sweepIndexBlue=this.m_envelopesBlue.length,this.m_function=this.iterateRedBlueBruteForce_,!0)}sweepRedBlue_(){const t=this.m_sortedEndIndicesRed.read(this.m_sweepIndexRed-1),e=this.m_sortedEndIndicesBlue.read(this.m_sweepIndexBlue-1),s=this.getAdjustedValue_(t,!0),i=this.getAdjustedValue_(e,!1);return s>i?this.sweepRed_():s<i?this.sweepBlue_():this.isTop_(t)?this.sweepRed_():this.isTop_(e)?this.sweepBlue_():this.sweepRed_()}sweepRed_(){const t=this.m_sortedEndIndicesRed.read(--this.m_sweepIndexRed),e=t>>1;if(this.isBottom_(t))return-1!==this.m_queuedListRed&&-1!==this.m_queuedIndicesRed[e]?(this.m_queuedEnvelopes.deleteElement(this.m_queuedListRed,this.m_queuedIndicesRed[e]),this.m_queuedIndicesRed[e]=-1):this.m_intervalTreeRed.remove(e),0!==this.m_sweepIndexRed||(this.m_envelopeHandleA=-1,this.m_envelopeHandleB=-1,this.m_bDone=!0,!1);if(-1!==this.m_queuedListBlue&&this.m_queuedEnvelopes.getListSize(this.m_queuedListBlue)>0){let t=this.m_queuedEnvelopes.getFirst(this.m_queuedListBlue);for(;-1!==t;){const e=this.m_queuedEnvelopes.getData(t);this.m_intervalTreeBlue.insert(e),this.m_queuedIndicesBlue[e]=-1;const s=this.m_queuedEnvelopes.getNext(t);this.m_queuedEnvelopes.deleteElement(this.m_queuedListBlue,t),t=s}}if(this.m_intervalTreeBlue.size()>0){const t=_Point2D_js__WEBPACK_IMPORTED_MODULE_0__.E.construct(this.m_envelopesRed[e].xmin,this.m_envelopesRed[e].xmax);this.m_iteratorBlue.resetIterator(t,this.m_tolerance),this.m_envelopeHandleA=e,this.m_function=this.iterateBlue_}else-1===this.m_queuedListRed&&((0,_Point2D_js__WEBPACK_IMPORTED_MODULE_0__.w)(this.m_queuedIndicesRed,this.m_envelopesRed.length,-1),this.m_queuedListRed=this.m_queuedEnvelopes.createList(1)),this.m_queuedIndicesRed[e]=this.m_queuedEnvelopes.addElement(this.m_queuedListRed,e),this.m_function=this.sweepRedBlue_;return!0}sweepBlue_(){const t=this.m_sortedEndIndicesBlue.read(--this.m_sweepIndexBlue),e=t>>1;if(this.isBottom_(t))return-1!==this.m_queuedListBlue&&-1!==this.m_queuedIndicesBlue[e]?(this.m_queuedEnvelopes.deleteElement(this.m_queuedListBlue,this.m_queuedIndicesBlue[e]),this.m_queuedIndicesBlue[e]=-1):this.m_intervalTreeBlue.remove(e),0!==this.m_sweepIndexBlue||(this.m_envelopeHandleA=-1,this.m_envelopeHandleB=-1,this.m_bDone=!0,!1);if(-1!==this.m_queuedListRed&&this.m_queuedEnvelopes.getListSize(this.m_queuedListRed)>0){let t=this.m_queuedEnvelopes.getFirst(this.m_queuedListRed);for(;-1!==t;){const e=this.m_queuedEnvelopes.getData(t);this.m_intervalTreeRed.insert(e),this.m_queuedIndicesRed[e]=-1;const s=this.m_queuedEnvelopes.getNext(t);this.m_queuedEnvelopes.deleteElement(this.m_queuedListRed,t),t=s}}if(this.m_intervalTreeRed.size()>0){const t=_Point2D_js__WEBPACK_IMPORTED_MODULE_0__.E.construct(this.m_envelopesBlue[e].xmin,this.m_envelopesBlue[e].xmax);this.m_iteratorRed.resetIterator(t,this.m_tolerance),this.m_envelopeHandleB=e,this.m_function=this.iterateRed_}else-1===this.m_queuedListBlue&&((0,_Point2D_js__WEBPACK_IMPORTED_MODULE_0__.w)(this.m_queuedIndicesBlue,this.m_envelopesBlue.length,-1),this.m_queuedListBlue=this.m_queuedEnvelopes.createList(0)),this.m_queuedIndicesBlue[e]=this.m_queuedEnvelopes.addElement(this.m_queuedListBlue,e),this.m_function=this.sweepRedBlue_;return!0}iterate_(){if(this.m_envelopeHandleB=this.m_iteratorRed.next(),-1!==this.m_envelopeHandleB)return!1;const t=this.m_sortedEndIndicesRed.read(this.m_sweepIndexRed)>>1;return this.m_intervalTreeRed.insert(t),this.m_function=this.sweep_,!0}iterateRed_(){if(this.m_envelopeHandleA=this.m_iteratorRed.next(),-1!==this.m_envelopeHandleA)return!1;this.m_envelopeHandleA=-1,this.m_envelopeHandleB=-1;const t=this.m_sortedEndIndicesBlue.read(this.m_sweepIndexBlue)>>1;return this.m_intervalTreeBlue.insert(t),this.m_function=this.sweepRedBlue_,!0}iterateBlue_(){if(this.m_envelopeHandleB=this.m_iteratorBlue.next(),-1!==this.m_envelopeHandleB)return!1;const t=this.m_sortedEndIndicesRed.read(this.m_sweepIndexRed)>>1;return this.m_intervalTreeRed.insert(t),this.m_function=this.sweepRedBlue_,!0}iterateBruteForce_(){if(-1===--this.m_sweepIndexBlue)return this.m_function=this.sweepBruteForce_,!0;const t=this.m_envelopesRed[this.m_sweepIndexRed].clone(),e=this.m_envelopesRed[this.m_sweepIndexBlue];return t.inflateCoords(this.m_tolerance,this.m_tolerance),!t.isIntersecting(e)||(this.m_envelopeHandleB=this.m_sweepIndexBlue,!1)}iterateRedBlueBruteForce_(){if(-1===--this.m_sweepIndexBlue)return this.m_function=this.sweepRedBlueBruteForce_,!0;const t=this.m_envelopesRed[this.m_sweepIndexRed].clone(),e=this.m_envelopesBlue[this.m_sweepIndexBlue];return t.inflateCoords(this.m_tolerance,this.m_tolerance),!t.isIntersecting(e)||(this.m_envelopeHandleB=this.m_sweepIndexBlue,!1)}resetRed_(){return this.m_sweepIndexRed=this.m_sortedEndIndicesRed.size(),this.m_intervalTreeRed.size()>0&&this.m_intervalTreeRed.reset(),-1!==this.m_queuedListRed&&(this.m_queuedEnvelopes.deleteList(this.m_queuedListRed),this.m_queuedIndicesRed.length=0,this.m_queuedListRed=-1),this.m_bDone=!1,!0}resetBlue_(){return this.m_sweepIndexBlue=this.m_sortedEndIndicesBlue.size(),this.m_intervalTreeBlue.size()>0&&this.m_intervalTreeBlue.reset(),-1!==this.m_queuedListBlue&&(this.m_queuedEnvelopes.deleteList(this.m_queuedListBlue),this.m_queuedIndicesBlue.length=0,this.m_queuedListBlue=-1),this.m_bDone=!1,!0}nullFunc_(){return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_2__.d)("should not be called"),!1}sortYEndIndices_(t,e,s,i){const n=this,r={userSort(t,e,s){n.sortYEndIndicesHelper_(s,t,e,i)},getValue:t=>n.getAdjustedValue_(t,i)};(new ot).sort(t,e,s,r)}sortYEndIndicesHelper_(t,e,s,i){t.sort(e,s,((t,e)=>{const s=this.getAdjustedValue_(t,i),n=this.getAdjustedValue_(e,i);return s<n||s===n&&this.isBottom_(t)&&this.isTop_(e)?-1:1}))}getAdjustedValue_(t,e){const s=.5*this.m_tolerance;if(e){const e=this.m_envelopesRed[t>>1];return this.isBottom_(t)?e.ymin-s:e.ymax+s}const i=this.m_envelopesBlue[t>>1];return this.isBottom_(t)?i.ymin-s:i.ymax+s}}var xt=z;class Et{constructor(t,e){this.tolerance=void 0!==t?t:Number.NaN,this.resolution=void 0!==e?e:Number.NaN}add(t){return new Et(this.tolerance+t,this.resolution)}scale(t){return new Et(this.tolerance*t,this.resolution*t)}total(){return this.tolerance+this.resolution}}function bt(t,e,i,n,r){const h=n*n,o=t.sub(e),a=i.sub(e),m=o.sqrLength(),_=a.sqrLength();if(m<=h||_<=h)return!0;const l=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_0__.a)(o.crossProduct(a));if(l<=h*m||l<=h*_){return o.dotProduct(a)>=0}return!1}function Nt(t,e,s){return i=>0===s?(i+t)*e:1*(i-t*e)/e}function Dt(t,e){const s=new _Envelope2D_js__WEBPACK_IMPORTED_MODULE_1__.Envelope2D;return t.queryLooseEnvelope(s),s.mergeEnvelope2D(e),s}function It(t,e){const s=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_1__.Envelope2D.constructEmpty();t.queryLooseEnvelope(s);const i=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_1__.Envelope2D.constructEmpty();return e.queryLooseEnvelope(i),s.mergeEnvelope2D(i),s}function Ct(t,e){return(Number.isFinite(t)||Number.isNaN(t))&&(Number.isFinite(e)||Number.isNaN(e))}function Tt(t,e){return Number.isFinite(t)&&Number.isFinite(e)}function Rt(t,e,s){const i=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_1__.Envelope2D.constructEmpty();i.setFromPoints(t,e);return St(0,null,i.calculateToleranceFromEnvelope(),s,!1)}function At(t,e,s){return St(0,t,e.calculateToleranceFromEnvelope(),s,!1)}function qt(t,e,s){return St(1,t,e.calculateToleranceFromEnvelope(),s,!1)}function wt(t,e,s){return qt(t,e.queryInterval(1,0),s)}function Bt(t,e,s){const i=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_1__.Envelope2D.constructEmpty();return e.queryEnvelope(i),At(t,i,s)}function zt(t,e,s=!1){return St(0,t,e.calculateToleranceFromEnvelope(),s,!0).total()}function Lt(t,e,s){const i=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_1__.Envelope2D.constructEmpty();return e.queryEnvelope(i),zt(t,i,s)}function St(t,e,s,i,n){const r=new Et(0,0);if(null!==e&&(r.tolerance=e.getTolerance(t),(!n||i)&&null!==e)){const s=e.getResolution(t);r.resolution=s,i&&(r.resolution*=2)}i&&(s*=4,r.tolerance*=1.01,r.resolution*=1.01);return r.total()<s?new Et(s,0):r}function Ft(t){return Math.sqrt(2)*(2*t.tolerance+t.resolution)}function Pt(t){return Math.sqrt(2)*(t.tolerance+t.resolution)}function Ht(t){return t>=3}function Vt(t,e){const s=[0];return t.getImpl().getIsSimple(e,s)>=3}function kt(t,e){t.getImpl().setIsSimple(3,e)}function Mt(t,e,n,r){if((0,_Point2D_js__WEBPACK_IMPORTED_MODULE_0__.a)(e.x-t.x)+(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_0__.a)(e.y-t.y)<=n*n){const s=t.z,n=e.z;return (0,_Point2D_js__WEBPACK_IMPORTED_MODULE_0__.G)(s,n,r)}return!1}function Ot(t){return t>=4}function Yt(t,e){return t===_Geometry_js__WEBPACK_IMPORTED_MODULE_2__.G.enumPolygon?Ht(e):e>=1}function Xt(t,e,s){const i=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_1__.Envelope2D.constructEmpty(),n=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_1__.Envelope2D.constructEmpty();t.queryLooseEnvelope(i),e.queryLooseEnvelope(n),i.inflateCoords(s,s),n.inflateCoords(s,s);const r=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_1__.Envelope2D.constructEmpty();r.setCoords({env2D:i}),r.intersect(n);const h=t.querySegmentIterator(),o=e.querySegmentIterator(),a=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_1__.Envelope2D.constructEmpty(),m=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_1__.Envelope2D.constructEmpty(),_=new yt;_.setTolerance(s);let l=!1;for(_.startRedConstruction();h.nextPath();)for(;h.hasNextSegment();){h.nextSegment().queryLooseEnvelope(a),a.isIntersecting(r)&&(l=!0,_.addRedEnvelope(h.getStartPointIndex(),a))}if(_.endRedConstruction(),!l)return null;let u=!1;for(_.startBlueConstruction();o.nextPath();)for(;o.hasNextSegment();){o.nextSegment().queryLooseEnvelope(m),m.isIntersecting(r)&&(u=!0,_.addBlueEnvelope(o.getStartPointIndex(),m))}return _.endBlueConstruction(),u?_:null}function Gt(t,e,s,i,n){t.getGeometryType(),e.getGeometryType();const r=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_1__.Envelope2D.constructEmpty(),h=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_1__.Envelope2D.constructEmpty();t.queryLooseEnvelope(r),e.queryLooseEnvelope(h),r.inflateCoords(s,s),h.inflateCoords(s,s);const o=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_1__.Envelope2D.constructEmpty();o.setCoords({env2D:r}),o.intersect(h);const a=new yt;a.setTolerance(s);let m=!1;a.startRedConstruction();for(let l=0,u=t.getPathCount();l<u;l++)t.queryLoosePathEnvelope(l,r),r.isIntersecting(o)&&(m=!0,a.addRedEnvelope(l,r));if(a.endRedConstruction(),!m)return null;let _=!1;a.startBlueConstruction();for(let l=0,u=e.getPathCount();l<u;l++)e.queryLoosePathEnvelope(l,h),h.isIntersecting(o)&&(_=!0,a.addBlueEnvelope(l,h));return a.endBlueConstruction(),_?a:null}function Ut(t,e,s){const i=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_1__.Envelope2D.constructEmpty(),n=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_1__.Envelope2D.constructEmpty();t.queryLooseEnvelope(i),e.queryEnvelope(n),i.inflateCoords(s,s),n.inflateCoords(s,s);const r=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_1__.Envelope2D.constructEmpty();r.setCoords({env2D:i}),r.intersect(n);const h=t.querySegmentIterator(),o=new yt;o.setTolerance(s);let a=!1;for(o.startRedConstruction();h.nextPath();)for(;h.hasNextSegment();){h.nextSegment().queryLooseEnvelope(i),i.isIntersecting(r)&&(a=!0,o.addRedEnvelope(h.getStartPointIndex(),i))}if(o.endRedConstruction(),!a)return null;let m=!1;o.startBlueConstruction();for(let _=0,l=e.getPointCount();_<l;_++){const t=e.getXY(_);r.contains(t)&&(m=!0,o.addBlueEnvelope(_,_Envelope2D_js__WEBPACK_IMPORTED_MODULE_1__.Envelope2D.construct(t.x,t.y,t.x,t.y)))}return o.endBlueConstruction(),m?o:null}function Zt(t,e,s){const i=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_1__.Envelope2D.constructEmpty(),n=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_1__.Envelope2D.constructEmpty();t.queryEnvelope(i),e.queryEnvelope(n),i.inflateCoords(s,s),n.inflateCoords(s,s);const r=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_1__.Envelope2D.constructEmpty();r.setCoords({env2D:i}),r.intersect(n);const h=new yt;h.setTolerance(s);let a=!1;h.startRedConstruction();const m=new _Point2D_js__WEBPACK_IMPORTED_MODULE_0__.P;for(let o=0,u=t.getPointCount();o<u;o++)t.queryXY(o,m),r.contains(m)&&(a=!0,h.addRedEnvelope(o,_Envelope2D_js__WEBPACK_IMPORTED_MODULE_1__.Envelope2D.construct(m.x,m.y,m.x,m.y)));if(h.endRedConstruction(),!a)return null;let _=!1;h.startBlueConstruction();const l=new _Point2D_js__WEBPACK_IMPORTED_MODULE_0__.P;for(let o=0,u=e.getPointCount();o<u;o++)e.queryXY(o,l),r.contains(l)&&(_=!0,h.addBlueEnvelope(o,_Envelope2D_js__WEBPACK_IMPORTED_MODULE_1__.Envelope2D.construct(l.x,l.y,l.x,l.y)));return h.endBlueConstruction(),_?h:null}function Qt(t){const e=new _Envelope2D_js__WEBPACK_IMPORTED_MODULE_1__.Envelope2D;return t.queryLooseEnvelope(e),e.inflateCoords(1,1),jt(t,e)}function jt(t,e,s){const i=new _Envelope2D_js__WEBPACK_IMPORTED_MODULE_1__.Envelope2D;if(t.queryLooseEnvelope(i),i.isEmpty())return null;t.getGeometryType();const n=new _t(i,8);let r=-1;const h=new _Envelope2D_js__WEBPACK_IMPORTED_MODULE_1__.Envelope2D;let o=!1;do{for(let s=0,a=t.getPathCount();s<a;s++)if(t.queryLoosePathEnvelope(s,h),h.isIntersecting(e)){if(r=n.insertEx(s,h,r),-1===r){o&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_2__.d)("build_quad_tree_for_paths"),i.assign(t.calculateEnvelope2D(!1)),o=!0,n.reset(i,8);break}o=!1}}while(o);return n}function Wt(t,e){if(!e){const e=new _Envelope2D_js__WEBPACK_IMPORTED_MODULE_1__.Envelope2D;t.queryLooseEnvelope(e);const s=new _t(e,8);let i=-1;const n=new _Envelope2D_js__WEBPACK_IMPORTED_MODULE_1__.Envelope2D,r=t.querySegmentIterator();let h=!1;for(;r.nextPath();)for(;r.hasNextSegment();){const o=r.nextSegment(),a=r.getStartPointIndex();if(o.queryLooseEnvelope(n),i=s.insertEx(a,n,i),-1===i){h&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_2__.d)(""),e.assign(t.calculateEnvelope2D(!1)),h=!0,s.reset(e,8),r.resetToFirstPath();break}}return s}const s=new _Envelope2D_js__WEBPACK_IMPORTED_MODULE_1__.Envelope2D;t.queryLooseEnvelope(s);const i=new _t(s,8);let n=-1;const r=new _Envelope2D_js__WEBPACK_IMPORTED_MODULE_1__.Envelope2D,h=t.querySegmentIterator();let o=!1;for(;h.nextPath();)for(;h.hasNextSegment();){const a=h.nextSegment(),m=h.getStartPointIndex();if(a.queryLooseEnvelope(r),r.isIntersecting(e)&&(n=i.insertEx(m,r,n),-1===n)){o&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_2__.d)(""),s.assign(t.calculateEnvelope2D(!1)),o=!0,i.reset(s,8),h.resetToFirstPath();break}}return i}function Jt(t,e){if(e){const s=new _t(e,8),i=new _Point2D_js__WEBPACK_IMPORTED_MODULE_0__.P,n=new _Envelope2D_js__WEBPACK_IMPORTED_MODULE_1__.Envelope2D;let r=!1;for(let h=0;h<t.getPointCount();h++){if(i.setCoordsPoint2D(t.getXY(h)),!e.contains(i))continue;n.setCoords({pt:i});-1!==s.insert(h,n)||(r&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_2__.d)(""),r=!0,s.reset(t.calculateEnvelope2D(),8),h=-1)}return s}return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_2__.t)("no-extent version not yet impl"),null}function Kt(t,e,s,i,n){let r=!1;const h=n.vmin,o=n.vmax;for(let a=s;a<e;a+=i){const e=t.read(a);e<h?(r=!0,t.write(a,h)):e>o&&(r=!0,t.write(a,o))}return r}function $t(t,e,s,i){if(!t.hasAttribute(s))return!1;const n=t.getGeometryType();if(n===_Geometry_js__WEBPACK_IMPORTED_MODULE_2__.G.enumGeometryCollection){const n=t,r=n.getGeometryCount();let h=0;for(let t=0;t<r;++t){h|=$t(n.getGeometry(t),e,s,i)?1:0}return!!h}if((0,_Geometry_js__WEBPACK_IMPORTED_MODULE_2__.i)(n)){const n=t,r=xt.getPersistence(s),h=xt.getComponentCount(s),o=n.getPointCount();if(1===r){const t=Kt(n.getAttributeStreamRef(s),o*h,i,h,e);return t&&n.notifyModified(),t}if(2===r){const t=Kt(n.getAttributeStreamRef(s),o*h,i,h,e);return t&&n.notifyModified(),t}(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_2__.d)("snap_coordinate not implemented")}if(n===_Geometry_js__WEBPACK_IMPORTED_MODULE_2__.G.enumEnvelope){const n=t,r=n.queryInterval(s,i);let h=!1;return r.vmin<e.vmin&&(h=!0,r.vmin=e.vmin),r.vmax>e.vmax&&(h=!0,r.vmax=e.vmax),h&&n.setIntervalEnvelope(s,i,r),h}if(n===_Geometry_js__WEBPACK_IMPORTED_MODULE_2__.G.enumPoint){const n=t;let r=n.getAttributeAsDbl(s,i),h=!1;return r<e.vmin&&(h=!0,r=e.vmin),r>e.vmax&&(h=!0,r=e.vmax),h&&n.setAttributeBasic(s,i,r),h}if((0,_Geometry_js__WEBPACK_IMPORTED_MODULE_2__.f)(n)){const n=t;let r=n.getStartAttributeAsDbl(s,i),h=!1;return r<e.vmin&&(h=!0,r=e.vmin),r>e.vmax&&(h=!0,r=e.vmax),h&&n.setStartAttribute(s,i,r),r=n.getEndAttributeAsDbl(s,i),r<e.vmin&&(h=!0,r=e.vmin),r>e.vmax&&(h=!0,r=e.vmax),h&&n.setEndAttribute(s,i,r),h}(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_2__.d)("snap_coordinate not implemented")}var te=z;class ee{constructor(t){if(this.m_description=null,this.x=Number.NaN,this.y=Number.NaN,this.m_attribs=null,t){if(!t.copy)return t.move?(this.m_description=t.move.m_description,t.move.m_description=null,this.m_attribs=t.move.m_attribs,t.move.m_attribs=null,this.x=t.move.x,void(this.y=t.move.y)):t.vd?(this.m_description=t.vd,void(t.attribBuffer?(this.m_attribs=t.attribBuffer,t.initDefaultValues&&this.setDefaultAttributeValues()):this.ensureAttributes())):t.pt?(this.m_description=M(),void this.setXY(t.pt)):void("x"in t&&("z"in t?(this.m_description=O(),this.ensureAttributes(),this.setXYZ(new X(t.x,t.y,t.z))):(this.m_description=M(),this.setXYCoords(t.x,t.y))));t.copy.copyTo(this)}else this.m_description=M()}assignCopy(t){return this.m_attribs=null,t.copyTo(this),this}assignMove(t){return this.m_attribs=null,t.copyTo(this),t.setEmpty(),this}getXY(){return new _Point2D_js__WEBPACK_IMPORTED_MODULE_0__.P(this.x,this.y)}queryXY(t){t.x=this.x,t.y=this.y}setXY(t){this.x=t.x,this.y=t.y}setXYCoords(t,e){this.x=t,this.y=e}getXYZ(){const t=new X;return t.x=this.x,t.y=this.y,t.z=this.getZ(),t}setXYZ(t){this.addAttribute(1),this.x=t.x,this.y=t.y,this.m_attribs[0]=t.z}getX(){return this.x}setX(t){this.x=t}getY(){return this.y}setY(t){this.y=t}getZ(){return this.m_description.hasZ()?this.m_attribs[0]:te.getDefaultValue(1)}setZ(t){this.addAttribute(1),this.m_attribs[0]=t}getM(){return this.getAttributeAsDbl(2,0)}setM(t){this.addAttribute(2),this.m_description.hasZ()?this.m_attribs[1]=t:this.m_attribs[0]=t}getID(){return this.getAttributeAsInt(3,0)}setID(t){this.setAttributeBasic(3,0,t)}isEqualXY(t,e){return void 0===e&&(e=0),Math.abs(t.x-this.x)<=e&&Math.abs(t.y-this.y)<=e}isEqualXYCoords(t,e,s){return void 0===s&&(s=0),Math.abs(t-this.x)<=s&&Math.abs(e-this.y)<=s}getAttributeAsDbl(t,e){if(0===t){if(0===e)return this.x;if(1===e)return this.y;(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_2__.q)("")}const s=te.getComponentCount(t);(e<0||e>=s)&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_2__.q)("");const i=this.m_description.getAttributeIndex(t);return i>=0?this.m_attribs[this.m_description.getPointAttributeOffset(i)-2+e]:te.getDefaultValue(t)}getAttributeAsInt(t,e){return Math.trunc(this.getAttributeAsDbl(t,e))}setAttributeBasic(t,e,s){if(0===t)return void(0===e?this.x=s:1===e?this.y=s:(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_2__.q)(""));const i=te.getComponentCount(t);(e<0||e>=i)&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_2__.q)("");let n=this.m_description.getAttributeIndex(t);n<0&&(this.addAttribute(t),n=this.m_description.getAttributeIndex(t)),this.m_attribs[this.m_description.getPointAttributeOffset(n)-2+e]=s}copyAttributesFrom(t,e){if(this===t)return;const s=t.getDescription();for(let i=e&&s.hasZ()?2:1,n=s.getAttributeCount();i<n;++i){const e=s.getSemantics(i),n=te.getComponentCount(e);for(let s=0;s<n;++s){const i=t.getAttributeAsDbl(e,s);this.setAttributeBasic(e,s,i)}}}getAttributeArray(){return this.m_attribs}getDescription(){return this.m_description}assignVertexDescription(t){this.m_description!==t&&this.assignVertexDescriptionImpl(t)}mergeVertexDescription(t){this.m_description!==t&&(this.m_description.hasAttributesFrom(t)||this.mergeVertexDescriptionImpl(t))}hasAttribute(t){return this.m_description.hasAttribute(t)}addAttribute(t){if(this.m_description.hasAttribute(t))return;const e=V(this.m_description,t);this.assignVertexDescription(e)}dropAttribute(t){if(!this.m_description.hasAttribute(t))return;const e=k(this.m_description,t);this.assignVertexDescription(e)}dropAllAttributes(){const t=M();t!==this.m_description&&this.assignVertexDescription(t)}getGeometryType(){return _Geometry_js__WEBPACK_IMPORTED_MODULE_2__.G.enumPoint}getDimension(){return 0}queryEnvelope(t){if(t instanceof re)return t.setEmpty(),t.assignVertexDescription(this.m_description),void t.merge(this);if(t instanceof G){if(this.isEmpty())return void t.setEmpty();const e=this.getXYZ();return t.xmin=e.x,t.ymin=e.y,t.zmin=e.z,t.xmax=e.x,t.ymax=e.y,void(t.zmax=e.z)}this.isEmpty()?t.setEmpty():(t.xmin=this.x,t.ymin=this.y,t.xmax=this.x,t.ymax=this.y)}queryLooseEnvelope(t){this.queryEnvelope(t)}queryInterval(t,e){const s=new _Point2D_js__WEBPACK_IMPORTED_MODULE_0__.E;if(this.isEmpty())return s.setEmpty(),s;const i=this.getAttributeAsDbl(t,e);return s.vmin=i,s.vmax=i,s}applyTransformation(t){if(!this.isEmpty()){if(1===t.m_TransformationType){const e=this.getXY();return t.transformInPlace(e),void this.setXY(e)}(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_2__.t)("3d not impl")}}transformAttribute(t,e,s,i,n){if(this.isEmpty())return;this.addAttribute(t);const r=this.getAttributeAsDbl(t,e),h=Nt(s,i,n);this.setAttributeBasic(t,e,h(r))}createInstance(){return new ee({vd:this.m_description})}copyTo(t){if(this===t)return;t.getGeometryType()!==_Geometry_js__WEBPACK_IMPORTED_MODULE_2__.G.enumPoint&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_2__.a)();const e=t;e.x=this.x,e.y=this.y,this.m_attribs?(e.assignVertexDescription(this.m_description),e.m_attribs=this.m_attribs.slice()):(e.releaseAttributes(),e.assignVertexDescription(this.m_description))}isEmpty(){return Number.isNaN(this.x)||Number.isNaN(this.y)}setEmpty(){this.m_description||(this.m_description=M(),this.releaseAttributes()),this.x=Number.NaN,this.y=Number.NaN,this.m_attribs&&(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_0__.b)(this.m_attribs,this.m_description.getDefaultPointAttributes(),0,2,this.m_description.getTotalComponentCount()-2)}calculateArea2D(){return 0}calculateLength2D(){return 0}calculateLength3D(t){return 0}equals(t,e){if(t===this)return!0;if(t.getGeometryType()!==_Geometry_js__WEBPACK_IMPORTED_MODULE_2__.G.enumPoint)return!1;const s=t;if(this.m_description!==s.m_description)return!1;if(this.isEmpty()!==s.isEmpty())return!1;if(this.isEmpty())return!0;if(void 0===e&&(e=0),Math.abs(this.x-s.x)>e)return!1;if(Math.abs(this.y-s.y)>e)return!1;for(let n=0,r=this.m_description.getTotalComponentCount()-2;n<r;n++)if(!(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_0__.G)(this.m_attribs[n],s.m_attribs[n],e))return!1;return!0}getBoundary(){return null}clone(){const t=new ee({vd:this.m_description});return this.copyTo(t),t}swap(t){if(this===t)return;t.getGeometryType()!==_Geometry_js__WEBPACK_IMPORTED_MODULE_2__.G.enumPoint&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_2__.a)("wrong geometry type");const e=t;e.m_description=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_0__.c)(this.m_description,this.m_description=e.m_description),e.x=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_0__.c)(this.x,this.x=e.x),e.y=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_0__.c)(this.y,this.y=e.y),e.m_attribs=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_0__.c)(this.m_attribs,this.m_attribs=e.m_attribs)}replaceNaNs(t,e){if(this.addAttribute(t),this.isEmpty())return;const s=te.getComponentCount(t);for(let i=0;i<s;i++){const s=this.getAttributeAsDbl(t,i);Number.isNaN(s)&&this.setAttributeBasic(t,i,e)}}lerp(t,e,s){if(t.getDescription()!==e.getDescription()&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_2__.a)("Point.lerp"),this.assignVertexDescription(t.getDescription()),t.isEmpty()||e.isEmpty())return this.setEmpty(),this;this.ensureAttributes();const i=B();t.queryValues(i,i.length);const n=B();e.queryValues(n,n.length);const r=B();let h=i,o=n;const a=r;let m=0;for(let l=0,u=this.m_description.getAttributeCount();l<u;l++){const t=this.m_description.getSemantics(l),e=te.getInterpolation(t),i=te.getComponentCount(t),n=te.getDefaultValue(t);(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_0__.A)(e,h,o,a,m,i,s,n),h=h.slice(i),o=o.slice(i),m+=i}return this.setValues(r,m),this}static lerp(t,e,s,i){i.lerp(t,e,s)}setDefaultAttributeValues(){const t=this.m_description.getTotalComponentCount()-2;t>0&&(this.m_attribs?(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_0__.b)(this.m_attribs,this.m_description.getDefaultPointAttributes(),0,2,t):this.m_attribs=this.m_description.getDefaultPointAttributes().slice(2))}static sqrDistance2D(t,e){return _Point2D_js__WEBPACK_IMPORTED_MODULE_0__.P.sqrDistanceCoords(t.x,t.y,e.x,e.y)}getImpl(){return this}mergeVertexDescriptionImpl(t){const e=H(this.getDescription(),t);this.assignVertexDescription(e)}releaseAttributes(){this.m_attribs=null}assignVertexDescriptionImpl(t){this.m_description||(this.m_description=M());const e=S();Y(t,this.m_description,e);let s=null;t.getTotalComponentCount()-2>0&&(s=t.getDefaultPointAttributes().slice(2));for(let i=1,n=t.getAttributeCount();i<n;i++){const n=e[i];if(-1!==n){const e=this.m_description.getPointAttributeOffset(n)-2,r=t.getPointAttributeOffset(i)-2,h=te.getComponentCount(t.getSemantics(i));for(let t=0;t<h;t++)s[r+t]=this.m_attribs[e+t]}}this.m_attribs=s,this.m_description=t}ensureAttributes(){this.m_description.getTotalComponentCount()-2>0&&null===this.m_attribs&&(this.m_attribs=this.m_description.getDefaultPointAttributes().slice(2))}queryValues(t,e){const s=this.m_description.getTotalComponentCount();(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_2__.g)(s<=e),t[0]=this.x,t[1]=this.y,(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_0__.b)(t,this.m_attribs,2,0,s-2)}copyCommonAttributesTo(t){t.x=this.x,t.y=this.y;const e=t.getDescription();if(e===this.m_description)this.m_attribs&&(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_0__.b)(t.m_attribs,this.m_attribs,0,0,this.m_description.getTotalComponentCount()-2);else{let s=0;for(let i=1,n=e.getAttributeCount();i<n;i++){const n=e.getSemantics(i);let r=te.getComponentCount(n);if(this.m_description.hasAttribute(n)){let e=this.m_description.getPointAttributeOffset(this.m_description.getAttributeIndex(n))-2;for(;0!==r;)t.m_attribs[s++]=this.m_attribs[e++],r--}else{const e=te.getDefaultValue(n);for(;0!==r;)t.m_attribs[s++]=e,r--}}}}setValues(t,e){const s=this.m_description.getTotalComponentCount();(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_2__.g)(s<=e),this.x=t[0],this.y=t[1],(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_0__.b)(this.m_attribs,t,0,2,s-2)}dbgDefaultAttribs(){}}ee.type=_Geometry_js__WEBPACK_IMPORTED_MODULE_2__.G.enumPoint;var se=z;function ie(t,e){return e*(t.getTotalComponentCount()-2)}class ne{constructor(t){if(this.m_attributes=null,t)if(void 0!==t.xmin)this.m_envelope2D=new _Envelope2D_js__WEBPACK_IMPORTED_MODULE_1__.Envelope2D(t.xmin,t.ymin,t.xmax,t.ymax);else if(void 0!==t.env2D)this.m_envelope2D=new _Envelope2D_js__WEBPACK_IMPORTED_MODULE_1__.Envelope2D(t.env2D);else if(t.move)this.m_envelope2D=new _Envelope2D_js__WEBPACK_IMPORTED_MODULE_1__.Envelope2D(t.move.m_envelope2D),this.m_attributes=t.move.m_attributes,t.move.m_attributes=null;else{if(!t.moveEnv)throw new Error("unrecognized EnvelopeData constructor options");{const e=t.moveEnv.accessEnvelopeData();this.m_envelope2D=new _Envelope2D_js__WEBPACK_IMPORTED_MODULE_1__.Envelope2D(e.m_envelope2D),this.m_attributes=e.m_attributes,e.m_attributes=null}}else this.m_envelope2D=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_1__.Envelope2D.constructEmpty()}ensureAttributes(t){const s=t.getTotalComponentCount()-2;!this.m_attributes&&s&&(this.m_attributes=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_0__.d)(2*s,Number.NaN),this.m_attributes.fill(Number.NaN))}copyTo(t,s){const i=s,n=t.getTotalComponentCount()-2;if(i.m_description!==t&&(i.releaseAttributes_(),i.m_description=t,n&&(i.m_data.m_attributes=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_0__.d)(2*n,Number.NaN))),n){(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_2__.g)(this.m_attributes&&i.m_data.m_attributes);const t=2*n;(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_0__.b)(i.m_data.m_attributes,this.m_attributes,0,0,t)}i.m_data.m_envelope2D=new _Envelope2D_js__WEBPACK_IMPORTED_MODULE_1__.Envelope2D(this.m_envelope2D)}copyToIfNotNull(t,e){e.m_envelope2D=new _Envelope2D_js__WEBPACK_IMPORTED_MODULE_1__.Envelope2D(this.m_envelope2D),e.releaseAttributes();t.getTotalComponentCount()-2&&this.m_attributes&&(e.m_attributes=this.m_attributes.slice())}releaseAttributes(){this.m_attributes=null}isEmpty(){return this.m_envelope2D.isEmpty()}transformAttribute(t,e,s,i,n){(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_2__.g)(0)}queryInterval(t,e,s,i){if(this.isEmpty())return void i.setEmpty();if(0===e)return void(0===s?this.m_envelope2D.queryIntervalX(i):1===s?this.m_envelope2D.queryIntervalY(i):(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_2__.q)(""));const n=se.getComponentCount(e);(s<0||s>=n)&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_2__.q)("");const r=t.getAttributeIndex(e);if(r>=0)return i.vmin=this.m_attributes[ie(t,0)+t.getPointAttributeOffset(r)-2+s],void(i.vmax=this.m_attributes[ie(t,1)+t.getPointAttributeOffset(r)-2+s]);{const t=se.getDefaultValue(e);return void i.setCoords(t,t)}}queryEnvelope3D(t,e){const s=new _Point2D_js__WEBPACK_IMPORTED_MODULE_0__.E;this.queryInterval(t,1,0,s),e.setCoords(this.m_envelope2D.xmin,this.m_envelope2D.ymin,s.vmin,this.m_envelope2D.xmax,this.m_envelope2D.ymax,s.vmax)}setEmpty(t){this.m_envelope2D.setEmpty();const s=t.getTotalComponentCount()-2;s&&(this.m_attributes?this.dbgAssertSize(s):this.m_attributes=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_0__.d)(2*s,Number.NaN),this.m_attributes.fill(Number.NaN))}dbgAssertSize(t){}}let re=class t{constructor(t){if(this.m_EnvelopeType=4,this.m_description=M(),void 0===t)this.m_data=new ne;else if(void 0!==t.vd)this.m_description=t.vd,this.m_data=new ne,this.ensureAttributes_();else if(t?.env2D)this.m_data=new ne({env2D:t.env2D});else if(void 0!==t.xmin)this.m_data=new ne({xmin:t.xmin,ymin:t.ymin,xmax:t.xmax,ymax:t.ymax});else if(t.copy)this.m_data=new ne,t.copy.copyTo(this);else if(t.move)this.m_description=t.move.m_description,t.move.m_description=null,this.m_data=new ne({move:t.move.m_data});else{if(!t.centerPoint)throw new Error("unrecognized Envelope constructor options");this.m_description=t.centerPoint.getDescription(),this.m_data=new ne,this.ensureAttributes_(),this.setFromPoint(t.centerPoint,t.width,t.height)}}accessEnvelopeData(){return this.m_description=null,this.m_data}assignMove(t){return this===t||(this.m_description=t.m_description,t.m_description=null,this.m_data=new ne({move:t.m_data})),this}assignCopy(t){return this===t||t.copyTo(this),this}transformAttribute(t,e,s,i,n){(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_2__.g)(0)}setAttributeBasic(t,e,s){if(this.addAttribute(t),this.m_data.isEmpty())return;const i=this.queryInterval(t,e);i.vmin=s,i.vmax=s,this.setIntervalEnvelope(t,e,i)}mergeVertexDescriptionImpl(t){const e=H(this.getDescription(),t);this.assignVertexDescription(e)}asEnvelope2D(){return new _Envelope2D_js__WEBPACK_IMPORTED_MODULE_1__.Envelope2D(this.m_data.m_envelope2D)}assignVertexDescription(t){this.m_description!==t&&this.assignVertexDescriptionImpl(t)}getGeometryType(){return _Geometry_js__WEBPACK_IMPORTED_MODULE_2__.G.enumEnvelope}getDimension(){return 2}getXMin(){return this.m_data.m_envelope2D.xmin}getYMin(){return this.m_data.m_envelope2D.ymin}getXMax(){return this.m_data.m_envelope2D.xmax}getYMax(){return this.m_data.m_envelope2D.ymax}width(){return this.m_data.isEmpty()?Number.NaN:this.m_data.m_envelope2D.width()}height(){return this.m_data.isEmpty()?Number.NaN:this.m_data.m_envelope2D.height()}getCenterXY(){return this.m_data.isEmpty()?new _Point2D_js__WEBPACK_IMPORTED_MODULE_0__.P:this.m_data.m_envelope2D.getCenter()}getCenter(t){if(t.assignVertexDescription(this.m_description),this.m_data.isEmpty())return void t.setEmpty();const e=this.m_description.getAttributeCount();for(let s=1;s<e;s++){const e=this.m_description.getSemantics(s),i=se.getComponentCount(e);for(let s=0;s<i;s++){const i=.5*(this.getAttributeAsDblImpl(0,e,s)+this.getAttributeAsDblImpl(1,e,s));t.setAttributeBasic(e,s,i)}}t.setXY(this.m_data.m_envelope2D.getCenter())}setCoords(t,e,s,i){this.m_data.m_envelope2D.setCoords({xmin:t,ymin:e,xmax:s,ymax:i})}setEnvelope(t){if(t instanceof _Envelope2D_js__WEBPACK_IMPORTED_MODULE_1__.Envelope2D)this.m_data.m_envelope2D=new _Envelope2D_js__WEBPACK_IMPORTED_MODULE_1__.Envelope2D(t),this.m_data.m_envelope2D.normalize();else{this.addAttribute(1),this.m_data.m_envelope2D=t.getEnvelope2D(),this.m_data.m_envelope2D.normalize();const e=_Point2D_js__WEBPACK_IMPORTED_MODULE_0__.E.constructEmpty();e.setCoords(t.zmin,t.zmax),this.setInterval(1,0,e.vmin,e.vmax)}}merge(e){if(e instanceof _Envelope2D_js__WEBPACK_IMPORTED_MODULE_1__.Envelope2D)return e.isValid()||(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_2__.a)(""),void this.m_data.m_envelope2D.mergeEnvelope2D(e);if(e instanceof t){if(e.m_data.isEmpty())return;const t=e.getDescription();this.mergeVertexDescription(t),this.m_data.m_envelope2D.mergeEnvelope2D(e.m_data.m_envelope2D);for(let s=1,i=t.getAttributeCount();s<i;s++){const i=t.getSemantics(s),n=se.getComponentCount(i);for(let t=0;t<n;t++){const s=e.queryInterval(i,t),n=this.queryInterval(i,t);n.merge(s),this.setIntervalEnvelope(i,t,n)}}}else if(e instanceof ee){const t=e;if(t.isEmpty())return;const s=t.getDescription();if(this.mergeVertexDescription(s),this.m_data.isEmpty())return void this.setFromPoint(t);this.m_data.m_envelope2D.merge(t.getXY());for(let e=1,i=s.getAttributeCount();e<i;e++){const i=s.getSemantics(e),n=se.getComponentCount(i);for(let e=0;e<n;e++){const s=t.getAttributeAsDbl(i,e),n=this.queryInterval(i,e);n.mergeCoordinate(s),this.setIntervalEnvelope(i,e,n)}}}else (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_2__.t)("unrecognized type for envelope.merge")}intersect(t){if(!this.m_data.m_envelope2D.intersect(t.m_data.m_envelope2D))return this.setEmpty(),!1;const e=t.getDescription();this.mergeVertexDescription(e);for(let s=1,i=this.m_description.getAttributeCount();s<i;s++){const e=this.m_description.getSemantics(s),i=se.getComponentCount(e);for(let s=0;s<i;s++){const i=t.queryInterval(e,s),n=this.queryInterval(e,s);n.intersect(i),this.setIntervalEnvelope(e,s,n)}}return!0}intersectCommonAttributes(t){if(!this.m_data.m_envelope2D.intersect(t.m_data.m_envelope2D))return this.setEmpty(),!1;const e=t.getDescription();for(let s=1,i=this.m_description.getAttributeCount();s<i;s++){const i=this.m_description.getSemantics(s);if(!e.hasAttribute(i))continue;const n=se.getComponentCount(i);for(let e=0;e<n;e++){const s=t.queryInterval(i,e),n=this.queryInterval(i,e);n.intersect(s),this.setIntervalEnvelope(i,e,n)}}return!0}move(t,e){this.m_data.m_envelope2D.move(t,e)}centerAt(t,e){this.m_data.m_envelope2D.centerAtCoords(t,e)}centerAtPoint(t){this.m_data.m_envelope2D.centerAt(t)}reaspect(t,e){this.m_data.m_envelope2D.reaspect(t,e)}inflateCoords(t,e){this.m_data.m_envelope2D.inflateCoords(t,e)}containsCoords(t,e){return this.m_data.m_envelope2D.containsCoords(t,e)}contains(t){return this.m_data.m_envelope2D.contains(t)}containsPoint(t){return!t.isEmpty()&&this.m_data.m_envelope2D.contains(t.getXY())}containsEnvelope(t){return this.m_data.m_envelope2D.containsEnvelope(t.m_data.m_envelope2D)}setIntervalEnvelope(t,e,s){if(this.addAttribute(t),this.m_data.isEmpty())return;const i=new _Point2D_js__WEBPACK_IMPORTED_MODULE_0__.E(s);if(i.normalize(),0===t){if(i.isEmpty())return void this.setEmpty();0===e?(this.m_data.m_envelope2D.xmin=i.vmin,this.m_data.m_envelope2D.xmax=i.vmax):1===e?(this.m_data.m_envelope2D.ymin=i.vmin,this.m_data.m_envelope2D.ymax=i.vmax):(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_2__.q)("")}else this.setAttributeAsDblImpl(0,t,e,i.vmin),this.setAttributeAsDblImpl(1,t,e,i.vmax)}setInterval(t,e,s,i){this.setIntervalEnvelope(t,e,new _Point2D_js__WEBPACK_IMPORTED_MODULE_0__.E(s,i))}queryInterval(t,e){const s=new _Point2D_js__WEBPACK_IMPORTED_MODULE_0__.E;return this.m_data.queryInterval(this.m_description,t,e,s),s}queryEnvelope(t){2!==t.m_EnvelopeType?3!==t.m_EnvelopeType?4!==t.m_EnvelopeType?(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_2__.t)("unrecognized type for queryEnveloper"):this.copyTo(t):this.m_data.queryEnvelope3D(this.m_description,t):t.setCoords({env2D:this.m_data.m_envelope2D})}applyTransformation(t){1!==t.m_TransformationType?(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_2__.g)(0):t.transformEnvInPlace(this.m_data.m_envelope2D)}createInstance(){return new t({vd:this.m_description})}copyTo(t){t!==this&&this.m_data.copyTo(this.m_description,t)}isEmpty(){return this.m_data.isEmpty()}setEmpty(){this.m_description||(this.m_description=M()),this.m_data.setEmpty(this.m_description)}calculateArea2D(){return this.m_data.m_envelope2D.getArea()}calculateLength2D(){return this.m_data.m_envelope2D.getLength()}calculateLength3D(t){return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_2__.g)(0),0}equals(t,e){if(t===this)return!0;const s=t;if(this.m_description!==s.m_description)return!1;if(this.m_data.isEmpty()!==s.m_data.isEmpty())return!1;if(this.m_data.isEmpty())return!0;if(void 0===e&&(e=0),Math.abs(this.m_data.m_envelope2D.xmin-s.m_data.m_envelope2D.xmin)>e)return!1;if(Math.abs(this.m_data.m_envelope2D.ymin-s.m_data.m_envelope2D.ymin)>e)return!1;if(Math.abs(this.m_data.m_envelope2D.xmax-s.m_data.m_envelope2D.xmax)>e)return!1;if(Math.abs(this.m_data.m_envelope2D.ymax-s.m_data.m_envelope2D.ymax)>e)return!1;for(let n=0,r=2*(this.m_description.getTotalComponentCount()-2);n<r;n++)if(!(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_0__.G)(this.m_data.m_attributes[n],s.m_data.m_attributes[n],e))return!1;return!0}getBoundary(){return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_2__.t)("getBoundary not available in this context. Use the boundary operator with an envelope parameter"),null}clone(){return new t({copy:this})}swap(t){if(this===t)return;t.getGeometryType()!==_Geometry_js__WEBPACK_IMPORTED_MODULE_2__.G.enumEnvelope&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_2__.a)("wrong geometry type");const e=t;e.m_description=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_0__.c)(this.m_description,this.m_description=e.m_description),e.m_data.m_envelope2D=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_0__.c)(this.m_data.m_envelope2D,this.m_data.m_envelope2D=e.m_data.m_envelope2D),e.m_data.m_attributes=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_0__.c)(this.m_data.m_attributes,this.m_data.m_attributes=e.m_data.m_attributes)}queryCoordinates(t){this.m_data.isEmpty()&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_2__.a)(""),this.m_data.m_envelope2D.queryCorners(t)}queryCornerByVal(t,e){(t<0||t>3)&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_2__.q)(""),e.assignVertexDescription(this.m_description);const s=this.getDescription().getAttributeCount();for(let i=1;i<s;i++){const s=this.m_description.getSemantics(i),n=se.getComponentCount(s);for(let i=0;i<n;i++)e.setAttributeBasic(s,i,this.getAttributeAsDblImpl(t%2,s,i))}e.setXY(this.m_data.m_envelope2D.queryCorner(t))}queryCorner(t,e){e.assign(this.m_data.m_envelope2D.queryCorner(t))}getDescription(){return this.m_description}mergeVertexDescription(t){this.m_description!==t&&(this.m_description&&this.m_description.hasAttributesFrom(t)||this.mergeVertexDescriptionImpl(t))}hasAttribute(t){return this.m_description.hasAttribute(t)}addAttribute(t){if(this.m_description.hasAttribute(t))return;const e=V(this.m_description,t);this.assignVertexDescription(e)}dropAttribute(t){if(!this.m_description.hasAttribute(t))return;const e=k(this.m_description,t);this.assignVertexDescription(e)}dropAllAttributes(){const t=M();t!==this.m_description&&this.assignVertexDescription(t)}queryLooseEnvelope(t){this.queryEnvelope(t)}replaceNaNs(t,e){if(this.addAttribute(t),this.m_data.isEmpty())return;const s=se.getComponentCount(t);for(let i=0;i<s;i++){const s=this.queryInterval(t,i);s.isEmpty()&&(s.vmin=e,s.vmax=e,this.setIntervalEnvelope(t,i,s))}}getImpl(){return this}setFromPoint(t,e,s){this.m_data.m_envelope2D.setCoords({center:t.getXY(),width:e??0,height:s??0});const i=t.getDescription();for(let n=1,r=i.getAttributeCount();n<r;n++){const e=i.getSemantics(n),s=se.getComponentCount(e);for(let i=0;i<s;i++){const s=t.getAttributeAsDbl(e,i);this.setInterval(e,i,s,s)}}}assignVertexDescriptionImpl(t){const s=S();Y(t,this.m_description,s);let i=null;const n=t.getTotalComponentCount()-2,r=this.m_description?this.m_description.getTotalComponentCount()-2:0;n>0&&(i=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_0__.d)(2*n,Number.NaN));for(let e=1;e<t.getAttributeCount();e++){const h=s[e];if(-1!==h){const s=t.getPointAttributeOffset(e)-2,o=se.getComponentCount(t.getSemantics(e)),a=this.m_description.getPointAttributeOffset(h)-2;(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_0__.b)(i,this.m_data.m_attributes,s,a,o),(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_0__.b)(i,this.m_data.m_attributes,n+s,r+a,o)}}this.releaseAttributes_(),this.m_data.m_attributes=i,this.m_description=t}getAttributeAsDblImpl(t,e,s){if(this.m_data.isEmpty()&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_2__.u)(""),0===e)return t?s?this.m_data.m_envelope2D.ymax:this.m_data.m_envelope2D.xmax:s?this.m_data.m_envelope2D.ymin:this.m_data.m_envelope2D.xmin;s>=se.getComponentCount(e)&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_2__.q)("");const i=this.m_description.getAttributeIndex(e);return i>=0?this.m_data.m_attributes[ie(this.m_description,t)+this.m_description.getPointAttributeOffset(i)-2+s]:z.getDefaultValue(e)}setAttributeAsDblImpl(t,e,s,i){0===e&&(t?1===s?this.m_data.m_envelope2D.ymax=i:0===s?this.m_data.m_envelope2D.xmax=i:(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_2__.q)(""):1===s?this.m_data.m_envelope2D.ymin=i:0===s?this.m_data.m_envelope2D.xmin=i:(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_2__.q)(""));const n=se.getComponentCount(e);(s<0||s>=n)&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_2__.q)(""),this.addAttribute(e);const r=this.m_description.getAttributeIndex(e);this.m_data.m_attributes[ie(this.m_description,t)+this.m_description.getPointAttributeOffset(r)-2+s]=i}releaseAttributes_(){this.m_data.releaseAttributes()}ensureAttributes_(){this.m_data.ensureAttributes(this.m_description)}};re.type=_Geometry_js__WEBPACK_IMPORTED_MODULE_2__.G.enumEnvelope;const he=Object.freeze(Object.defineProperty({__proto__:null,Envelope:re,EnvelopeData:ne},Symbol.toStringTag,{value:"Module"}));


/***/ }),

/***/ "./node_modules/@arcgis/core/chunks/MultiPathImpl.js":
/*!***********************************************************!*\
  !*** ./node_modules/@arcgis/core/chunks/MultiPathImpl.js ***!
  \***********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   $: () => (/* binding */ Ss),
/* harmony export */   A: () => (/* binding */ Ru),
/* harmony export */   B: () => (/* binding */ Tu),
/* harmony export */   C: () => (/* binding */ wr),
/* harmony export */   D: () => (/* binding */ jh),
/* harmony export */   E: () => (/* binding */ Pr),
/* harmony export */   F: () => (/* binding */ ou),
/* harmony export */   G: () => (/* binding */ ls),
/* harmony export */   H: () => (/* binding */ ks),
/* harmony export */   I: () => (/* binding */ Ls),
/* harmony export */   J: () => (/* binding */ Rs),
/* harmony export */   K: () => (/* binding */ Js),
/* harmony export */   L: () => (/* binding */ pm),
/* harmony export */   M: () => (/* binding */ Ee),
/* harmony export */   N: () => (/* binding */ kh),
/* harmony export */   O: () => (/* binding */ Wh),
/* harmony export */   P: () => (/* binding */ Os),
/* harmony export */   Q: () => (/* binding */ rm),
/* harmony export */   R: () => (/* binding */ ze),
/* harmony export */   S: () => (/* binding */ fm),
/* harmony export */   T: () => (/* binding */ En),
/* harmony export */   U: () => (/* binding */ fh),
/* harmony export */   V: () => (/* binding */ Gu),
/* harmony export */   W: () => (/* binding */ us),
/* harmony export */   X: () => (/* binding */ pr),
/* harmony export */   Y: () => (/* binding */ om),
/* harmony export */   Z: () => (/* binding */ um),
/* harmony export */   _: () => (/* binding */ is),
/* harmony export */   a: () => (/* binding */ ur),
/* harmony export */   a0: () => (/* binding */ Ye),
/* harmony export */   a1: () => (/* binding */ am),
/* harmony export */   a2: () => (/* binding */ hm),
/* harmony export */   a3: () => (/* binding */ gm),
/* harmony export */   a4: () => (/* binding */ Xe),
/* harmony export */   a5: () => (/* binding */ cu),
/* harmony export */   a6: () => (/* binding */ fr),
/* harmony export */   a7: () => (/* binding */ Yh),
/* harmony export */   a8: () => (/* binding */ _e),
/* harmony export */   a9: () => (/* binding */ Th),
/* harmony export */   b: () => (/* binding */ Ah),
/* harmony export */   c: () => (/* binding */ Ks),
/* harmony export */   d: () => (/* binding */ zh),
/* harmony export */   e: () => (/* binding */ Sr),
/* harmony export */   f: () => (/* binding */ yr),
/* harmony export */   g: () => (/* binding */ cs),
/* harmony export */   h: () => (/* binding */ Pe),
/* harmony export */   i: () => (/* binding */ vr),
/* harmony export */   j: () => (/* binding */ Ts),
/* harmony export */   k: () => (/* binding */ qh),
/* harmony export */   l: () => (/* binding */ Xh),
/* harmony export */   m: () => (/* binding */ Fh),
/* harmony export */   n: () => (/* binding */ cr),
/* harmony export */   o: () => (/* binding */ gr),
/* harmony export */   p: () => (/* binding */ Bh),
/* harmony export */   q: () => (/* binding */ sn),
/* harmony export */   r: () => (/* binding */ xe),
/* harmony export */   s: () => (/* binding */ pe),
/* harmony export */   t: () => (/* binding */ tn),
/* harmony export */   u: () => (/* binding */ lo),
/* harmony export */   v: () => (/* binding */ fe),
/* harmony export */   w: () => (/* binding */ Br),
/* harmony export */   x: () => (/* binding */ Jn),
/* harmony export */   y: () => (/* binding */ ia),
/* harmony export */   z: () => (/* binding */ Lu)
/* harmony export */ });
/* harmony import */ var _Geometry_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Geometry.js */ "./node_modules/@arcgis/core/chunks/Geometry.js");
/* harmony import */ var _Envelope_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Envelope.js */ "./node_modules/@arcgis/core/chunks/Envelope.js");
/* harmony import */ var _Point2D_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Point2D.js */ "./node_modules/@arcgis/core/chunks/Point2D.js");
/* harmony import */ var _Envelope2D_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Envelope2D.js */ "./node_modules/@arcgis/core/chunks/Envelope2D.js");
/* harmony import */ var _Transformation2D_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./Transformation2D.js */ "./node_modules/@arcgis/core/chunks/Transformation2D.js");
/* harmony import */ var _SimpleGeometryCursor_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./SimpleGeometryCursor.js */ "./node_modules/@arcgis/core/chunks/SimpleGeometryCursor.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
class ge{constructor(){this.posStream=null,this.streams=null}get(t){return t>0?this.streams[t-1]:this.posStream}set(t,e){t>0?this.streams[t-1]=e:this.posStream=e}destroyAndSetSize(t){if(this.streams=null,t>1){this.streams=new Array(t-1);for(let e=0;e<t-1;++e)this.streams[e]=null}this.posStream=null}swap(t){[this.streams,t.streams]=[t.streams,this.streams],[this.posStream,t.posStream]=[t.posStream,this.posStream]}empty(){return null===this.posStream&&null===this.streams}}function de(t,s,n,i,r){(s<0||n<0||i<1||s+i*(n-1)+1>t.size())&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.a)("Index out of bound");for(let e=s,o=s+i*(n-1)+1;e<o;e+=i)t.writeAsDbl(e,r(t.readAsDbl(e)))}function _e(t,e,s){if(t)for(let n=e.length-1;n>=0;--n)s(e[n]);else e.forEach(s)}function pe(t,e){let s=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.B)(t);const n=e.length/(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.i)();for(let i=0;i<e.length;++i){const t=Math.trunc(s*n);s=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.B)(s);const i=Math.trunc(s*n),r=e[t];e[t]=e[i],e[i]=r}}function fe(t,e,s){if(0===t.length)return;let n=0,i=0;for(++i;i!==t.length;++i)e(t[n],t[i])||(s(n,i),n=i);s(n,i)}function Pe(t,e,s,n,i){(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.C)(t,e,n-e,((t,e)=>i(t,e)?-1:1))}function ye(t,e,s){if(!(s<=e))for(;e<s;)t[s]=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.c)(t[e],t[e]=t[s]),e++,s--}function xe(t,e,s,n){ye(t,e,s-1),ye(t,s,n-1),t.reverse()}function Ce(t,e,s){const n=t.getDescription().getTotalComponentCount();t.setX(e[0]),t.setY(e[1]),(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.b)(t.getAttributeArray(),e,0,2,n-2)}var ve=_Envelope_js__WEBPACK_IMPORTED_MODULE_1__.V;const be="can not assign an empty point to a vertex";class Se{constructor(t){if(this.m_accelerators=null,void 0!==t&&t.move)this.m_description=t.move.m_description,t.move.m_description=(0,_Envelope_js__WEBPACK_IMPORTED_MODULE_1__.j)(),this.m_vertexAttributes=t.move.m_vertexAttributes,t.move.m_vertexAttributes=new ge,this.m_envelopeData=t.move.m_envelopeData,t.move.m_envelopeData=new _Envelope_js__WEBPACK_IMPORTED_MODULE_1__.k,this.m_pointCount=t.move.m_pointCount,this.m_reservedPointCount=t.move.m_reservedPointCount,this.m_flags=t.move.m_flags,this.m_bFillRule=t.move.m_bFillRule,this.m_bPathStarted=t.move.m_bPathStarted,this.m_bPolygon=t.move.m_bPolygon,this.m_simpleTolerance=t.move.m_simpleTolerance;else{const e=void 0!==t&&t.vd?t.vd:(0,_Envelope_js__WEBPACK_IMPORTED_MODULE_1__.j)();this.m_description=e,this.m_vertexAttributes=new ge,this.m_envelopeData=new _Envelope_js__WEBPACK_IMPORTED_MODULE_1__.k,this.m_pointCount=0,this.m_reservedPointCount=-1,this.m_flags=4063,this.m_bFillRule=this.m_bPathStarted=this.m_bPolygon=!1,this.m_simpleTolerance=0,void 0!==t&&t.copy&&t.copy.copyTo(this)}}equalsBase(e,s){if(!(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.i)(e.getGeometryType()))return!1;const n=e;if(this===n)return!0;if(!this.m_description.equals(n.getDescription()))return!1;if(this.isEmptyImpl()!==n.isEmptyImpl())return!1;if(this.isEmptyImpl())return!0;const i=this.getPointCount();if(i!==n.getPointCount())return!1;for(let t=0;t<this.m_description.getAttributeCount();t++){const e=this.m_description.getSemantics(t),r=this.getAttributeStreamRef(e),o=n.getAttributeStreamRef(e),a=ve.getComponentCount(e);if(!r.equals(o,0,i*a,s))return!1}if(s){if(!this.equalsImplTol(e,s))return!1}else if(!this.equalsImpl(e))return!1;return!0}transformAttribute(t,s,n,i,r){if(this.addAttribute(t),!this.isEmpty()&&(0!==n||1!==i)){if(0===t){const t=new _Transformation2D_js__WEBPACK_IMPORTED_MODULE_4__.T;return 0===r?0===s?(t.setShiftCoords(n,0),t.scale(i,1)):1===s?(t.setShiftCoords(0,n),t.scale(1,i)):(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.a)(""):0===s?(t.setScaleCoords(1/i,1),t.shiftCoords(-n,0)):1===s?(t.setScaleCoords(1,1/i),t.shiftCoords(0,-n)):(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.a)(""),void this.applyTransformation(t)}de(this.getAttributeStreamRef(t),s,this.getPointCount(),ve.getComponentCount(t),(0,_Envelope_js__WEBPACK_IMPORTED_MODULE_1__.v)(n,i,r)),this.notifyModified()}}getDescription(){return this.m_description}assignVertexDescription(t){this.m_description!==t&&this.assignVertexDescriptionImpl(t)}mergeVertexDescriptionImpl(t){const e=this.getDescription(),s=(0,_Envelope_js__WEBPACK_IMPORTED_MODULE_1__.l)(e,t);this.assignVertexDescription(s)}mergeVertexDescription(t){this.m_description!==t&&(this.m_description.hasAttributesFrom(t)||this.mergeVertexDescriptionImpl(t))}hasAttribute(t){return this.m_description.hasAttribute(t)}addAttribute(t){if(this.m_description.hasAttribute(t))return;const e=(0,_Envelope_js__WEBPACK_IMPORTED_MODULE_1__.m)(this.m_description,t);this.assignVertexDescription(e)}dropAttribute(t){if(!this.m_description.hasAttribute(t))return;const e=(0,_Envelope_js__WEBPACK_IMPORTED_MODULE_1__.r)(this.m_description,t);this.assignVertexDescription(e)}dropAllAttributes(){const t=(0,_Envelope_js__WEBPACK_IMPORTED_MODULE_1__.j)();t!==this.m_description&&this.assignVertexDescription(t)}getAttributeStreamRef(t){this.throwIfEmpty(),this.m_description.hasAttribute(t)||(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.a)("AttributeStream : Geometry does not have the attribute");const s=this.m_description.getAttributeIndex(t);return this.m_vertexAttributes.get(s)}setAttributeStreamRef(t,s){s||(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.a)("stream"),s&&ve.getPersistence(t)!==s.getPersistence()&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.a)(""),this.addAttribute(t);const n=this.m_description.getAttributeIndex(t);this.m_vertexAttributes.empty()&&this.m_vertexAttributes.destroyAndSetSize(this.m_description.getAttributeCount()),this.m_vertexAttributes.set(n,s),this.notifyModifiedFlags(2001)}notifyModifiedFlags(t){65535===t&&(this.m_reservedPointCount=-1,this.notifyModifiedAllImpl()),this.setDirtyFlagProtected(t,!0),this.clearAccelerators(),32&t&&this.verifyAllStreamsAfterSizeChange()}notifyModified(){this.notifyModifiedFlags(2001)}getPointCount(){return this.m_pointCount}getPointByVal(t,e){const s=e;s.assignVertexDescription(this.m_description);for(let n=0;n<this.m_description.getAttributeCount();n++){const e=this.m_description.getSemantics(n);for(let i=0,r=ve.getComponentCount(e);i<r;i++){const o=this.m_vertexAttributes.get(n).readAsDbl(r*t+i);s.setAttributeBasic(e,i,o)}}}setPointByValNoCurves(t,s){const n=s;n.isEmpty()&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.a)(be);const i=n.getDescription();i!==this.m_description&&this.mergeVertexDescription(i);const r=this.m_vertexAttributes.get(0);r.write(2*t,n.getX()),r.write(2*t+1,n.getY());for(let e=1,o=this.m_description.getAttributeCount();e<o;e++){const s=this.m_description.getSemantics(e),i=ve.getComponentCount(s);for(let r=0;r<i;r++){const o=n.getAttributeAsDbl(s,r);this.m_vertexAttributes.get(e).writeAsDbl(t*i+r,o)}}this.notifyModifiedFlags(2001)}setPointByValFromArrayNoCurves(t,e,n,i){(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(0)}getPointByValAsArray(t,e,n,i){(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(0)}isEmpty(){return this.isEmptyImpl()}isEmptyImpl(){return 0===this.m_pointCount}getAttributeAsDbl(t,e,s){const i=ve.getComponentCount(t);s>=i&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.q)("");const r=this.m_description.getAttributeIndex(t);return r>=0?this.m_vertexAttributes.get(r).readAsDbl(e*i+s):ve.getDefaultValue(t)}queryAttributeAsDbl(t,e,s,i){const r=ve.getComponentCount(t);i<r&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.q)("");const o=this.m_description.getAttributeIndex(t);if(o>=0){const t=e*r,n=this.m_vertexAttributes.get(o);for(let e=0;e<r;e++)s[e]=n.readAsDbl(t+e)}else{const e=ve.getDefaultValue(t);for(let t=0;t<r;t++)s[t]=e}}getAttributeAsInt(t,e,s){return Math.trunc(this.getAttributeAsDbl(t,e,s))}queryAttributeAsInt(t,e,n,i){(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(0)}setAttributeNoCurves(t,e,s,i){const r=ve.getComponentCount(t);s>=r&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.q)(""),this.addAttribute(t);const o=this.m_description.getAttributeIndex(t);this.notifyModifiedFlags(2001),this.m_vertexAttributes.get(o).writeAsDbl(e*r+s,i)}setAttributeFromArrayNoCurves(t,e,s,i){(e<0||e>=this.m_pointCount)&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.q)("");const r=ve.getComponentCount(t);i<r&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.q)(""),this.addAttribute(t);const o=this.m_description.getAttributeIndex(t);this.notifyModifiedFlags(2001);const a=this.m_vertexAttributes.get(o);for(let n=0;n<r;++n)a.writeAsDbl(e*r+n,s[n])}getXY(t){return this.m_vertexAttributes.get(0).readPoint2D(2*t)}queryXY(t,e){return this.m_vertexAttributes.get(0).queryPoint2D(2*t,e)}setXYNoCurves(t,e){this.m_vertexAttributes.get(0).writePoint2D(2*t,e),this.notifyModifiedFlags(2001)}setXYCoordsNoCurves(t,e,s){const n=this.m_vertexAttributes.get(0);n.write(2*t,e),n.write(2*t+1,s),this.notifyModifiedFlags(2001)}getXYZ(t){const e=this.m_vertexAttributes.get(0),s=_Envelope_js__WEBPACK_IMPORTED_MODULE_1__.d.getNAN();return s.x=e.read(2*t),s.y=e.read(2*t+1),this.m_description.hasAttribute(1)?s.z=this.m_vertexAttributes.get(1).read(t):s.z=ve.getDefaultValue(1),s}setXYZNoCurves(t,e){this.addAttribute(1),this.notifyModifiedFlags(2001);const s=this.m_vertexAttributes.get(0);s.write(2*t,e.x),s.write(2*t+1,e.y);this.m_vertexAttributes.get(1).write(t,e.z)}queryEnvelope(t){t instanceof _Envelope2D_js__WEBPACK_IMPORTED_MODULE_3__.Envelope2D||t instanceof _Envelope_js__WEBPACK_IMPORTED_MODULE_1__.n?this.updateEnvelope(t):(this.updateAllDirtyIntervals(!0),this.m_envelopeData.copyTo(this.m_description,t))}queryLooseEnvelope(t){this.updateLooseEnvelope(t)}queryInterval(t,e){const s=_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.E.constructEmpty();return this.isEmptyImpl()||(this.updateAllDirtyIntervals(!0),this.m_envelopeData.queryInterval(this.m_description,t,e,s)),s}setAttributeBasic(t,e,s){this.setAttributeImpl(t,e,s)}setAttributeImpl(t,e,s){if(this.addAttribute(t),this.isEmpty())return;let n=!1;const i=ve.getComponentCount(t),r=this.getAttributeStreamRef(t),o=Number.isNaN(s);if(1===r.getPersistence()){const t=r;for(let r=e,a=this.m_pointCount*i;r<a;r+=i){const e=t.read(r);(o||e===s)&&Number.isNaN(e)||(t.write(r,s),n=!0)}}else for(let a=e,h=this.m_pointCount*i;a<h;a+=i){r.readAsDbl(a)!==s&&(r.writeAsDbl(a,s),n=!0)}n&&this.notifyModifiedFlags(2001)}replaceNaNs(t,e){if(this.addAttribute(t),this.isEmpty())return;let s=!1;const n=ve.getComponentCount(t),i=this.getAttributeStreamRef(t);for(let r=0;r<n;r++)if(1===i.getPersistence()){const t=i;for(let i=0,r=this.m_pointCount*n;i<r;i++){const n=t.read(i);Number.isNaN(n)&&(t.write(i,e),s=!0)}}else for(let t=0,o=this.m_pointCount*n;t<o;t++){const n=i.readAsDbl(t);Number.isNaN(n)&&(i.writeAsDbl(t,e),s=!0)}s&&this.notifyModifiedFlags(2001)}calculateLength3D(t){return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(0),0}setEnvelopeForImport(t){this.m_description.equals(t.getDescription())||(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.a)(""),this.m_envelopeData=new _Envelope_js__WEBPACK_IMPORTED_MODULE_1__.k({moveEnv:t}),this.setDirtyFlagProtected(192,!1)}copyTo(t){t.getGeometryType()!==this.getGeometryType()&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.a)(""),this!==t&&this.copyToUnchecked(t,!1)}queryCoordinates(t,s,n,i){let r=i<0?this.m_pointCount:i;if(r=Math.min(r,n+s),(n<0||r<n||this.m_pointCount>0&&n>=this.m_pointCount)&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.a)(""),0===this.m_pointCount)return r;const o=this.getAttributeStreamRef(0);for(let e=2*n,a=2*r,h=0;e<a;e+=2,h++)o.queryPoint2D(e,t[h]);return r}queryCoordinates3D(t,s,n,i){let r=i<0?this.m_pointCount:i;if(r=Math.min(r,n+s),(n<0||r<n||this.m_pointCount>0&&n>=this.m_pointCount)&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.a)(""),0===this.m_pointCount)return r;const o=this.getAttributeStreamRef(0);let a=null;const h=ve.getDefaultValue(1),u=this.m_description.hasAttribute(1);u&&(a=this.getAttributeStreamRef(1));let m=0;for(let e=n;e<r;e++,m++)t[m].x=o.read(2*e),t[m].y=o.read(2*e+1),t[m].z=u?a.read(e):h;return r}clearAndSetDirtyFlagProtected(t,e){let s=0;const n=t&~e,i=e|n;s=this.m_flags,(s&i)!==e&&(this.m_flags=s&~n|e)}getIsSimple(t,e){e[0]=0;let s=-1;const n=this.m_flags,i=this.m_simpleTolerance;if(!(1&n)){s=(14&n)>>1,e[0]=i,i<t&&(s=-1)}return s}setIsSimple(t,e,n=!1){if(2===t?(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(this.getGeometryType()===_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.G.enumPolyline):1===t?(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(this.getGeometryType()===_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.G.enumMultiPoint||this.getGeometryType()===_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.G.enumPolyline):3===t&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(this.getGeometryType()===_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.G.enumPolygon),-1===t)this.setDirtyFlagProtected(17,!0);else{let s=t<<1;n||(s|=16);const i=31;this.clearAndSetDirtyFlagProtected(i,s),this.m_simpleTolerance!==e&&(this.m_simpleTolerance=e)}}attributeStreamIsAllocated(t){this.throwIfEmpty();const e=this.m_description.getAttributeIndex(t);return e>=0&&null!==this.m_vertexAttributes.get(e)}capacity(){return-1===this.m_reservedPointCount&&0===this.m_pointCount?0:this.m_reservedPointCount}getDescriptionImpl(){return this.m_description}copyToUnchecked(t,e=!1){e&&this.hasDirtyFlag(32)&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.s)("Cannot do shallow clone on unprepared geometry");const n=t,o=this.getGeometryType(),a=n.getGeometryType();(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(o===a||o===_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.G.enumPolygon&&a===_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.G.enumPolyline,"failure in copyToUnchcked"),n.clearAccelerators(),n.m_description=this.m_description,n.m_vertexAttributes.destroyAndSetSize(0),n.m_envelopeData.releaseAttributes();const h=this.m_description.getAttributeCount(),u=new ge;if(!this.m_vertexAttributes.empty()){u.destroyAndSetSize(h);for(let t=0;t<h;t++)if(this.m_vertexAttributes.get(t))if(e)u.set(t,this.m_vertexAttributes.get(t));else{const e=ve.getComponentCount(this.m_description.getSemantics(t));u.set(t,this.m_vertexAttributes.get(t).restrictedClone(this.getPointCount()*e))}}if(this.m_envelopeData.copyToIfNotNull(this.m_description,n.m_envelopeData),n.m_flags=this.m_flags,n.m_simpleTolerance=this.m_simpleTolerance,o!==a){const t=[Number.NaN];n.getIsSimple(0,t)>=3?n.setIsSimple(1,t[0]):n.setIsSimple(-1,0)}n.m_vertexAttributes.swap(u),u.destroyAndSetSize(0),n.m_pointCount=this.m_pointCount,n.hasDirtyFlag(32)||n.m_vertexAttributes.empty()?((0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(!e||0===n.m_pointCount),n.m_reservedPointCount=-1):n.m_reservedPointCount=n.m_pointCount;try{this.copyToImpl(n,e)}catch(m){throw n.setEmpty(),m}n.verifyAllStreamsAfterSizeChange()}buildRasterizedGeometryAccelerator(t,e){return!1}getAccelerators(){return this.m_accelerators}clearAccelerators(){this.m_accelerators&&this.m_accelerators.release(),this.m_accelerators=null}ensureUniqueAccelerators(){if(this.m_accelerators&&!this.m_accelerators.uniqueUse()){const t=this.m_accelerators.clone();this.m_accelerators.release(),this.m_accelerators=t}}interpolateTwoVertices(t,e,i,r){(t<0||t>=this.m_pointCount)&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.q)(""),(e<0||e>=this.m_pointCount)&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.q)(""),r.assignVertexDescription(this.m_description);const o=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.d)(ve.maxComponentCount(),Number.NaN),a=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.d)(ve.maxComponentCount(),Number.NaN),h=(0,_Envelope_js__WEBPACK_IMPORTED_MODULE_1__.o)();let u=0;for(let n=0;n<this.m_description.getAttributeCount();n++){const r=this.m_description.getSemantics(n),m=ve.getInterpolation(r),l=ve.getComponentCount(r),c=ve.getDefaultValue(r);this.queryAttributeAsDbl(r,t,o,l),this.queryAttributeAsDbl(r,e,a,l),(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(u+l<=_Envelope_js__WEBPACK_IMPORTED_MODULE_1__.O),(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.A)(m,o,a,h,u,l,i,c),u+=l}Ce(r,h)}getShortestDistance(t,e){return _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.distance(this.getXY(t),this.getXY(e))}getShortestSqrDistance(t,e){return _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.sqrDistance(this.getXY(t),this.getXY(e))}resizeImpl(t){if(t<0&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.a)(),(t=Math.ceil(t))===this.m_pointCount)return;this.m_pointCount=t;const s=this.m_pointCount<=this.m_reservedPointCount?2001:4095;this.notifyModifiedFlags(s)}assignVertexDescriptionImpl(t){if(!this.m_vertexAttributes.empty()){const e=(0,_Envelope_js__WEBPACK_IMPORTED_MODULE_1__.p)();(0,_Envelope_js__WEBPACK_IMPORTED_MODULE_1__.q)(t,this.m_description,e);const s=new ge;s.destroyAndSetSize(t.getAttributeCount());for(let n=0;n<t.getAttributeCount();n++){const t=e[n];-1!==t?s.set(n,this.m_vertexAttributes.get(t)):this.m_reservedPointCount=-1}s.swap(this.m_vertexAttributes)}this.m_description=t,this.m_envelopeData.releaseAttributes(),this.notifyModifiedFlags(4095)}hasDirtyFlag(t){return 0!==(this.m_flags&t)}setDirtyFlagProtected(t,e){e?this.m_flags|=t:this.m_flags&=~t}notifyModifiedAllImpl(){}verifyAllStreamsAfterSizeChange(){this.hasDirtyFlag(32)&&this.verifyAllStreamsAfterSizeChangeImpl()}verifyAllStreamsAfterSizeChangeImpl(){if(this.hasDirtyFlag(32)){if(this.m_reservedPointCount<this.m_pointCount){this.m_vertexAttributes.empty()&&this.m_vertexAttributes.destroyAndSetSize(this.m_description.getAttributeCount()),this.m_reservedPointCount=-1;let t=Number.MAX_SAFE_INTEGER,e=0;e=this.m_pointCount<4?3:this.m_pointCount<=128?2*this.m_pointCount:Math.trunc((4*this.m_pointCount+2)/3);for(let s=0;s<this.m_description.getAttributeCount();s++){const n=this.m_description.getSemantics(s);let i=0;if(null!==this.m_vertexAttributes.get(s)){const t=ve.getComponentCount(n);i=this.m_vertexAttributes.get(s).size()/t,i<this.m_pointCount&&(this.m_vertexAttributes.get(s).resize(e*t,ve.getDefaultValue(n)),i=e)}else this.m_vertexAttributes.set(s,(0,_Envelope_js__WEBPACK_IMPORTED_MODULE_1__.t)(n,e)),i=e;i<t&&(t=i)}this.m_reservedPointCount=t}this.verifyStreamsAfterSizeChangeExtraImpl(),this.setDirtyFlagProtected(32,!1)}}verifyStreamsAfterSizeChangeExtraImpl(){}updateAllDirtyIntervals(t){if(t?this.hasDirtyFlag(192):this.hasDirtyFlag(128)){if(this.isEmpty())return this.hasDirtyFlag(192)&&this.m_envelopeData.setEmpty(this.m_description),void this.setDirtyFlagProtected(192,!1);const e=this.updateXYImpl(t),s=new _Envelope_js__WEBPACK_IMPORTED_MODULE_1__.E({vd:this.m_description});s.setEnvelope(e);for(let t=1;t<this.m_description.getAttributeCount();t++){const e=this.m_description.getSemantics(t),n=ve.getComponentCount(e),i=this.m_vertexAttributes.get(t);for(let t=0;t<n;t++){const r=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.E;r.setEmpty();for(let e=0;e<this.m_pointCount;e++){const s=i.readAsDbl(e*n+t);r.mergeCoordinate(s)}s.setIntervalEnvelope(e,t,r)}}(t?this.hasDirtyFlag(192):this.hasDirtyFlag(128))&&(this.m_envelopeData=new _Envelope_js__WEBPACK_IMPORTED_MODULE_1__.k({moveEnv:s}),this.clearDirtyIntervalsFlag(t))}}updateXYImpl(t){const e=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_3__.Envelope2D.constructEmpty(),s=this.m_vertexAttributes.get(0);return e.mergePointsInterleaved(s,0,this.m_pointCount),e}updateEnvelope3D(t){(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(0)}updateLooseEnvelope(t){this.updateAllDirtyIntervals(!1),t instanceof _Envelope2D_js__WEBPACK_IMPORTED_MODULE_3__.Envelope2D?t.assign(this.m_envelopeData.m_envelope2D):this.m_envelopeData.queryEnvelope3D(this.m_description,t)}updateEnvelope(t){this.updateAllDirtyIntervals(!0),t.assign(this.m_envelopeData.m_envelope2D)}setEmptyImpl(){this.m_pointCount=0,this.m_reservedPointCount=-1,this.m_vertexAttributes.destroyAndSetSize(0),this.notifyModifiedFlags(4095)}clearDirtyIntervalsFlag(t){this.setDirtyFlagProtected(192,!1)}reserveImpl(t,s){if(t<0&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.a)(""),0===t)return;let n=t=Math.ceil(t);if(this.m_reservedPointCount<n){this.m_vertexAttributes.empty()&&this.m_vertexAttributes.destroyAndSetSize(this.m_description.getAttributeCount()),s?(null===this.m_vertexAttributes.get(0)&&this.m_vertexAttributes.set(0,(0,_Envelope_js__WEBPACK_IMPORTED_MODULE_1__.u)(0,0)),this.m_vertexAttributes.get(0).resizeRounded(2*n),n=this.m_vertexAttributes.get(0).size()>>1):null===this.m_vertexAttributes.get(0)?this.m_vertexAttributes.set(0,(0,_Envelope_js__WEBPACK_IMPORTED_MODULE_1__.u)(0,n)):this.m_vertexAttributes.get(0).resize(2*n);for(let t=1;t<this.m_description.getAttributeCount();t++){const e=this.m_description.getSemantics(t),s=ve.getComponentCount(e);null!==this.m_vertexAttributes.get(t)?this.m_vertexAttributes.get(t).resize(n*s):this.m_vertexAttributes.set(t,(0,_Envelope_js__WEBPACK_IMPORTED_MODULE_1__.u)(e,n))}this.reserveImplImpl(n,s),this.m_reservedPointCount=n}}reserveRounded(t){t<0&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.a)(),t=Math.ceil(t),this.reserveImpl(t,!0)}reserveImplImpl(t,e){}throwIfEmpty(){this.isEmptyImpl()&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.u)("")}}class Ee extends Se{constructor(t){super(t),t&&(t.points?this.addPoints2D(t.points,t.pointsSize,0,-1):t.point&&this.add(t.point))}assignCopy(t){return t.copyTo(this),this}assignMove(t){return t.copyTo(this),t.setEmpty(),this}insertPoint2D(t,s){t>this.getPointCount()&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.a)("invalid point index"),t<0&&(t=this.getPointCount());const n=this.m_pointCount;this.resizeNoInit(this.m_pointCount+1);for(let e=0,i=this.m_description.getAttributeCount();e<i;e++){const i=this.m_description.getSemantics(e),r=_Envelope_js__WEBPACK_IMPORTED_MODULE_1__.V.getComponentCount(i);if(0===i)this.m_vertexAttributes.get(e).insert(r*t,s,r*n);else{const s=_Envelope_js__WEBPACK_IMPORTED_MODULE_1__.V.getDefaultValue(i);this.m_vertexAttributes.get(e).insertRange(r*t,s,r,r*n)}}this.notifyModifiedFlags(2001)}insertPoint(t,s){s.isEmpty()&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.a)(be),t<0&&(t=this.getPointCount()),this.mergeVertexDescription(s.getDescription());const n=this.m_pointCount;this.resizeNoInit(this.m_pointCount+1);for(let e=0,i=this.m_description.getAttributeCount();e<i;e++){const i=this.m_description.getSemantics(e),r=_Envelope_js__WEBPACK_IMPORTED_MODULE_1__.V.getComponentCount(i);if(s.hasAttribute(i))this.m_vertexAttributes.get(e).insertAttributes(r*t,s,i,r*n);else{const s=_Envelope_js__WEBPACK_IMPORTED_MODULE_1__.V.getDefaultValue(i);this.m_vertexAttributes.get(e).insertRange(r*t,s,r,r*n)}}this.notifyModifiedFlags(2001)}insertPoints(t,e,s){if((t>this.getPointCount()||s<0)&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.q)(""),t<0&&(t=this.getPointCount()),0===s)return;const i=e[0].getDescription();this.mergeVertexDescription(i);const r=this.m_pointCount;this.resizeNoInit(this.m_pointCount+s);for(let n=0,o=this.m_description.getAttributeCount();n<o;n++){const o=this.m_description.getSemantics(n),a=_Envelope_js__WEBPACK_IMPORTED_MODULE_1__.V.getComponentCount(o);if(this.m_vertexAttributes.get(n))if(i.hasAttribute(o))this.m_vertexAttributes.get(n).insertAttributesFromPoints(t*a,e,s,o,r*a);else{const e=_Envelope_js__WEBPACK_IMPORTED_MODULE_1__.V.getDefaultValue(o);this.m_vertexAttributes.get(n).insertRange(a*t,e,a*s,a*r)}}this.notifyModifiedFlags(2001)}insertPoints2D(t,s,n){if((t>this.getPointCount()||n<0)&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.a)("invalid point index"),t<0&&(t=this.getPointCount()),0===n)return;const i=this.m_pointCount;this.resizeNoInit(this.m_pointCount+n);for(let e=0,r=this.m_description.getAttributeCount();e<r;e++){const r=this.m_description.getSemantics(e),o=_Envelope_js__WEBPACK_IMPORTED_MODULE_1__.V.getComponentCount(r);if(this.m_vertexAttributes.get(e))if(0===r)this.m_vertexAttributes.get(e).insertRangeFromPoints(o*t,s,0,n,!0,o*i);else{const s=_Envelope_js__WEBPACK_IMPORTED_MODULE_1__.V.getDefaultValue(r);this.m_vertexAttributes.get(e).insertRange(o*t,s,o,o*i)}}this.notifyModifiedFlags(2001)}removePoints(t,e){if((t<0||e<0||t+e>this.getPointCount())&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.q)("remove_points"),0!==e){for(let s=0,n=this.m_description.getAttributeCount();s<n;s++)if(this.m_vertexAttributes.get(s)){const n=this.m_description.getSemantics(s),i=_Envelope_js__WEBPACK_IMPORTED_MODULE_1__.V.getComponentCount(n);this.m_vertexAttributes.get(s).eraseRange(i*t,i*e,i*this.m_pointCount)}this.m_pointCount-=e,this.m_reservedPointCount>0&&(this.m_reservedPointCount-=e),this.notifyModifiedFlags(2001)}}removePoint(t){for(let e=0,s=this.m_description.getAttributeCount();e<s;e++)if(this.m_vertexAttributes.get(e)){const s=this.m_description.getSemantics(e),n=_Envelope_js__WEBPACK_IMPORTED_MODULE_1__.V.getComponentCount(s);this.m_vertexAttributes.get(e).eraseRange(n*t,n,n*this.m_pointCount)}this.m_pointCount--,this.m_reservedPointCount>0&&this.m_reservedPointCount--,this.notifyModifiedFlags(2001)}calculateEnvelope2D(){return this.updateXYImpl(!0)}resizeNoInit(t){this.resizeImpl(t)}resizeAndInitNonPositionAttributes(t){const e=this.m_pointCount;if(this.resizeImpl(t),this.m_pointCount>e)for(let s=1,n=this.m_description.getAttributeCount();s<n;s++){const t=this.m_description.getSemantics(s),n=_Envelope_js__WEBPACK_IMPORTED_MODULE_1__.V.getDefaultValue(t),i=_Envelope_js__WEBPACK_IMPORTED_MODULE_1__.V.getComponentCount(t);this.m_vertexAttributes.get(s).insertRange(i*e,n,i*(this.m_pointCount-e),i*e)}}queryCoordinates3D(t,s,n,i){let r=i<0?this.m_pointCount:i;if(r=Math.min(r,n+s),(n<0||r<n||this.m_pointCount>0&&n>=this.m_pointCount)&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.a)(""),0===this.m_pointCount)return r;const o=this.getAttributeStreamRef(0);let a=null;const h=_Envelope_js__WEBPACK_IMPORTED_MODULE_1__.V.getDefaultValue(1),u=this.m_description.hasAttribute(1);u&&(a=this.getAttributeStreamRef(1));let m=0;for(let e=n;e<r;e++,m++)t[m].x=o.read(2*e),t[m].y=o.read(2*e+1),t[m].z=u?a.read(e):h;return r}queryAttributeAsInt(t,e,n,i){(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(0)}add(t){t.isEmpty()&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.a)(be),this.resizeAndInitNonPositionAttributes(this.m_pointCount+1),this.setPointByValNoCurves(this.m_pointCount-1,t)}addXY(t,e){this.resizeAndInitNonPositionAttributes(this.m_pointCount+1);const s=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P(t,e);this.setXYNoCurves(this.m_pointCount-1,s)}addXYZ(t,e,s){this.resizeAndInitNonPositionAttributes(this.m_pointCount+1);const n=new _Envelope_js__WEBPACK_IMPORTED_MODULE_1__.d;n.setCoords(t,e,s),this.setXYZNoCurves(this.m_pointCount-1,n)}addPoint2D(t){this.addXY(t.x,t.y)}addPoint3D(t){this.addXYZ(t.x,t.y,t.z)}addPoints(t,s,n){this===t&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.a)("Multi_point_impl.add");const i=n<0?t.getPointCount():n;if((s<0||s>t.getPointCount()||i<s)&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.a)(""),s===i)return;const r=t.getDescription();this.mergeVertexDescription(r);const o=i-s,a=this.m_pointCount;this.resizeNoInit(this.m_pointCount+o);for(let e=0,h=this.m_description.getAttributeCount();e<h;e++){const n=this.m_description.getSemantics(e),i=_Envelope_js__WEBPACK_IMPORTED_MODULE_1__.V.getComponentCount(n),h=this.getAttributeStreamRef(n);if(r.hasAttribute(n)){const e=t.getAttributeStreamRef(n);h.insertRangeFromStream(a*i,e,s*i,o*i,!0,1,a*i)}else{const t=_Envelope_js__WEBPACK_IMPORTED_MODULE_1__.V.getDefaultValue(n);h.insertRange(a*i,t,o*i,a*i)}}}addPoints2D(t,s,n,i){let r=s;const o=i<0?r:i;if((r<0||n<0||n>r||o<n)&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.a)(""),n===o)return;r=o-n;const a=this.m_pointCount;this.resizeAndInitNonPositionAttributes(this.m_pointCount+r);const h=this.getAttributeStreamRef(0);for(let e=0;e<r;++e)h.writePoint2D(2*(a+e),t[n+e]);this.notifyModifiedFlags(2001)}addPoints3D(t,s,n,i){let r=s;const o=i<0?r:i;if((r<0||n<0||n>r||o<n)&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.a)(""),this.addAttribute(1),n===o)return;r=o-n;const a=this.m_pointCount;this.resizeAndInitNonPositionAttributes(this.m_pointCount+r);const h=this.getAttributeStreamRef(0),u=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P;for(let e=0;e<r;e++)u.x=t[n+e].x,u.y=t[n+e].y,h.writePoint2D(2*(a+e),u);const m=this.getAttributeStreamRef(1);for(let e=0;e<r;e++)m.write(a+e,t[n+e].z);this.notifyModifiedFlags(2001)}setPointByVal(t,e){this.setPointByValNoCurves(t,e)}setXY(t,e){this.setXYNoCurves(t,e)}setXYCoords(t,e,s){this.setXYCoordsNoCurves(t,e,s)}setXYZ(t,e){this.setXYZNoCurves(t,e)}setAttribute(t,e,s,n){this.setAttributeNoCurves(t,e,s,n)}getGeometryType(){return _Geometry_js__WEBPACK_IMPORTED_MODULE_0__.G.enumMultiPoint}getDimension(){return 0}createInstance(){return new Ee({vd:this.getDescription()})}setEmpty(){this.setEmptyImpl()}applyTransformation(t){if(this.isEmpty())return;if(t.isIdentity())return;const e=this.m_vertexAttributes.get(0);1===t.m_TransformationType?e.applyTransformation(t,0,this.m_pointCount):(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.t)("3d xform not impl"),this.notifyModifiedFlags(2001)}calculateArea2D(){return 0}calculateLength2D(){return 0}calculateLength3D(t){return 0}equals(t,e){return t.getGeometryType()===_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.G.enumMultiPoint&&this.equalsBase(t,e)}queryEnvelope(t){4===t.m_EnvelopeType?(this.updateAllDirtyIntervals(!0),this.m_envelopeData.copyTo(this.m_description,t)):2===t.m_EnvelopeType?this.updateEnvelope(t):(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.t)("")}getImpl(){return this}getBoundary(){return null}reserve(t){this.reserveImpl(t)}clone(){const t=this.createInstance();return this.copyTo(t),t}swap(t){(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(0)}buildQuadTreeAccelerator(t){return!1}getHashCodeImpl(){return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(0),0}equalsImpl(t){return!0}equalsImplTol(t,e){return!0}copyToImpl(t,e){}}Ee.type=_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.G.enumMultiPoint;class De{constructor(){this.m_EnvelopeType=5,this.envAabb=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_3__.Envelope2D.constructEmpty(),this.envRot=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_3__.Envelope2D.constructEmpty()}static constructEmpty(){return new De}width(){return this.envAabb.width()}height(){return this.envAabb.height()}maxDim(){return Math.max(this.width(),this.height())}setEmpty(){this.envAabb.setEmpty(),this.envRot.setEmpty()}setCoords(t){this.envAabb.setCoords(t),this.envRot.setCoords({x:Te(t),y:Ie(t)})}setFromPoints(t,e){this.setEmpty(),this.mergePoints(t,e)}mergeNe(t){this.envAabb.mergeNe(t),this.envRot.mergeNeCoords(Te(t),Ie(t))}mergePoints(t,e){this.envAabb.mergePoints(t,e);for(let s=0;s<e;){if(!this.envRot.isEmpty()){for(let n=s;n<e;n++){const e=Te(t[n]),s=Ie(t[n]);this.envRot.mergeNeCoords(e,s)}break}{const e=Te(t[s]),n=Ie(t[s]);this.envRot.setCoords({x:e,y:n}),s++}}}isIntersectingPoint2D(t){return!(!this.envAabb.contains(t)||!this.envRot.containsCoords(Te(t),Ie(t)))}isIntersectingW(t){return this.envAabb.isIntersecting(t.envAabb)&&this.envRot.isIntersecting(t.envRot)}containsW(t){return!(!this.envAabb.containsEnvelope(t.envAabb)||!this.envRot.containsEnvelope(t.envRot))}containsPoint2D(t){return this.isIntersectingPoint2D(t)}intersectW(t){const e=this.envAabb.intersect(t.envAabb),s=this.envRot.intersect(t.envRot);return e&&!s&&this.envAabb.setEmpty(),s&&!e&&this.envRot.setEmpty(),e&&s}inflate(t){this.envAabb.inflateCoords(t,t);const e=t*(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.D)();this.envRot.inflateCoords(e,e),e<0&&De.st_reduceEmpty(this)}static st_reduceEmpty(t){const e=t.envAabb.isEmpty(),s=t.envRot.isEmpty();e&&!s?t.envRot.setEmpty():s&&!e&&t.envAabb.setEmpty()}sqrMaxMinDistance(t){const e=this.envAabb.sqrMaxMinDistance(t),s=this.envRot.sqrMaxMinDistance(Me(t))/2;return Math.max(e,s)}sqrMinDistance(t){const e=this.envAabb.sqrMinDistance(t),s=this.envRot.sqrMinDistance(Me(t))/2;return Math.max(e,s)}sqrMaxDistance(t){const e=this.envAabb.sqrMaxDistance(t),s=this.envRot.sqrMaxDistance(Me(t))/2;return Math.max(e,s)}getEnvelope2D(){return this.envAabb}getRotatedEnvelope2D(){return this.envRot}xyRot(t,e){const s=we(t.x,t.y),n=Ae(t.x,t.y);e.setCoords(s,n)}}function we(t,e){return t-e}function Ae(t,e){return t+e}function Te(t){return t.x-t.y}function Ie(t){return t.x+t.y}function Me(t){return new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P(Te(t),Ie(t))}class Ye{constructor(){this.x=_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.H.getNAN(),this.y=_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.H.getNAN()}static getNAN(){return new Ye}static constructPoint2D(t){const e=new Ye;return e.x.set(t.x),e.y.set(t.y),e}static constructCoords(t,e){const s=new Ye;return s.x.set(t),s.y.set(e),s}static constructCoordsE(t,e){const s=new Ye;return s.setCoordsE(t,e),s}get 0(){return this.x.clone()}set 0(t){this.x.setE(t)}get 1(){return this.y.clone()}set 1(t){this.y.setE(t)}clone(){return(new Ye).setE(this)}scaleThis(t){return this.x.mulThisE(t),this.y.mulThisE(t),this}setCoords(t,e){return this.x.set(t),this.y.set(e),this}setCoordsE(t,e){return this.x.setE(t),this.y.setE(e),this}set(t){return this.x.set(t.x),this.y.set(t.y),this}setE(t){return this.x.setE(t.x),this.y.setE(t.y),this}setWithEps(t,e){return this.x.setWithEps(t.x,e),this.y.setWithEps(t.y,e),this}getUnitVector(){const t=this.clone();return t.normalize(),t}sqrLength(){return this.x.sqr().addE(this.y.sqr())}length(){return this.sqrLength().sqrt()}mulE(t){const e=new Ye;return e.setCoordsE(this.x.mulE(t),this.y.mulE(t)),e}mul(t){const e=new Ye;return e.setCoordsE(this.x.mul(t),this.y.mul(t)),e}mulThis(t){return this.x.mulThis(t),this.y.mulThis(t),this}mulThisE(t){return this.x.mulThisE(t),this.y.mulThisE(t),this}divE(t){return this.clone().divThisE(t)}divThisE(t){return this.x.divThisE(t),this.y.divThisE(t),this}normalize(){const t=this.length();0===t.value()?(this.x=_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.I.clone(),this.y=_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.J.clone()):(this.x.divThisE(t),this.y.divThisE(t))}addE(t){return this.clone().addThisE(t)}addThisE(t){return this.x.addThisE(t.x),this.y.addThisE(t.y),this}subE(t){return this.clone().subThisE(t)}subThisE(t){return this.x.subThisE(t.x),this.y.subThisE(t.y),this}static distance(t,e){return t.subE(e).length()}negateThis(){return this.x.negateThis(),this.y.negateThis(),this}eq(t){return this.x.eq(t.x)&&this.y.eq(t.y)}isZero(){return this.x.isZero()&&this.y.isZero()}isTrueZero(){return!this.x.value()&&!this.y.value()}rotateDirect(t,e){const s=this.x.mulE(t).subThisE(this.y.mulE(e)),n=this.x.mulE(e).addThisE(this.y.mulE(t));return this.x.setE(s),this.y.setE(n),this}rotateReverse(t,e){const s=this.x.mulE(t).addThisE(this.y.mulE(e)),n=this.x.negate().mulThisE(e).addThisE(this.y.mulE(t));return this.x.setE(s),this.y.setE(n),this}dotProduct(t){return this.x.mulE(t.x).addE(this.y.mulE(t.y))}crossProduct(t){return this.x.mulE(t.y).subE(this.y.mulE(t.x))}value(){return _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.construct(this.x.value(),this.y.value())}}class Ne{constructor(){this.a11=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.H(1),this.a12=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.H(0),this.a21=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.H(0),this.a22=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.H(1)}clone(){const t=new Ne;return t.a11.setE(this.a11),t.a12.setE(this.a12),t.a21.setE(this.a21),t.a22.setE(this.a22),t}assign(t){return this.a11.setE(t.a11),this.a12.setE(t.a12),this.a21.setE(t.a21),this.a22.setE(t.a22),this}mulThis(t){const e=this.a11.mulE(t.a11).addThisE(this.a12.mulE(t.a21)),s=this.a11.mulE(t.a12).addThisE(this.a12.mulE(t.a22)),n=this.a21.mulE(t.a11).addThisE(this.a22.mulE(t.a21)),i=this.a21.mulE(t.a12).addThisE(this.a22.mulE(t.a22));return this.a11=e,this.a12=s,this.a21=n,this.a22=i,this}mulLeftThis(t){const e=t.clone();return this.assign(e.mulThis(this)),this}det(){return this.a11.mulE(this.a22).subThisE(this.a12.mulE(this.a21))}invertThis(){const t=this.det();if(0!==t.value()){const e=this.a22.divE(t),s=this.a12.negate().divThisE(t),n=this.a21.negate().divThisE(t),i=this.a11.divE(t);this.a11=e,this.a12=s,this.a21=n,this.a22=i}else this.setZero();return!t.isZero()}transposeThis(){return this.a21=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.c)(this.a12,this.a12=this.a21),this}eigenSymmetric(t,e){const s=this.a12.clone();s.addThisE(this.a21),s.mulThisByPower2(.5);let n=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.H(1),i=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.H(0);if(s.isZero())t[0].setE(this.a11),t[1].setE(this.a22);else{const e=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.H(1);if(this.a11.ne(this.a22)){const r=this.a11.subE(this.a22).divE(s);r.mulThisByPower2(.5);const o=r.sqr();e.setE(r),e.absThis(),e.subThisE(o.add(1).sqrtThis()),r.gt(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.J)&&e.negateThis();const a=e.sqr().addThis(1).sqrtThis().invThis();i=e.mulE(a),n.setE(a);const h=e.mulE(s);t[0]=this.a11.addE(h),t[1]=this.a22.subE(h)}else n=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.H(1/Math.sqrt(2)),i=n.clone(),t[0]=this.a11.addE(s),t[1]=this.a22.subE(s)}e[0].x=n.toDouble(),e[0].y=i.toDouble(),e[1].x=i.negate().toDouble(),e[1].y=n.toDouble(),Math.abs(t[0].toDouble())>Math.abs(t[1].toDouble())&&(t[1]=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.c)(t[0],t[0]=t[1]),e[1]=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.c)(e[0],e[0]=e[1]))}setZero(){this.a11.set(0),this.a21.set(0),this.a12.set(0),this.a22.set(0)}}class Xe{static constructPoint2D(t){return new Xe(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.M.constructDouble(t.x),_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.M.constructDouble(t.y))}constructor(t,e){if(void 0===t)return this.x=(new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.M).setNAN(),void(this.y=(new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.M).setNAN());this.x=t.clone(),this.y=e.clone()}assignPoint2D(t){return this.x.setDouble(t.x),this.y.setDouble(t.y),this}setCoords(t,e){return this.x.setThis(t),this.y.setThis(e),this}asPoint2D(){return new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P(this.x.value(),this.y.value())}crossProduct(t){return this.x.mul(t.y).sub(this.y.mul(t.x))}leftPerpendicularThis(){const t=this.x.clone();this.x=this.y.clone().negate(),this.y=t}clone(){return new Xe(this.x,this.y)}dotProduct(t){return this.x.mul(t.x).add(this.y.mul(t.y))}add(t){return new Xe(this.x.add(t.x),this.y.add(t.y))}sub(t){return new Xe(this.x.sub(t.x),this.y.sub(t.y))}sqrLength(){return this.x.sqr().addThis(this.y.sqr())}mulThis(t){return this.x.mulThis(t),this.y.mulThis(t),this}mul(t){return this.clone().mulThis(t)}subThis(t){return this.x.subThis(t.x),this.y.subThis(t.y),this}addThis(t){return this.x.addThis(t.x),this.y.addThis(t.y),this}}var qe=_Envelope_js__WEBPACK_IMPORTED_MODULE_1__.V;function Fe(t){let e=!1;for(let s=0;s<2;s++){const n=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.F)(t[0][s],t[3][s]);n>0?((0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.F)(t[0][s],t[1][s])<0&&(t[1][s]=t[0][s],e=!0),(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.F)(t[1][s],t[3][s])<0&&(t[1][s]=t[3][s],e=!0),(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.F)(t[0][s],t[2][s])<0&&(t[2][s]=t[0][s],e=!0),(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.F)(t[2][s],t[3][s])<0&&(t[2][s]=t[3][s],e=!0),(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.F)(t[1][s],t[2][s])<0&&(t[2][s]=t[1][s],e=!0)):n<0?((0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.F)(t[0][s],t[1][s])>0&&(t[1][s]=t[0][s],e=!0),(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.F)(t[1][s],t[3][s])>0&&(t[1][s]=t[3][s],e=!0),(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.F)(t[0][s],t[2][s])>0&&(t[2][s]=t[0][s],e=!0),(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.F)(t[2][s],t[3][s])>0&&(t[2][s]=t[3][s],e=!0),(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.F)(t[1][s],t[2][s])>0&&(t[2][s]=t[1][s],e=!0)):t[1][s]===t[0][s]&&t[2][s]===t[0][s]||(t[1][s]=t[0][s],t[2][s]=t[0][s],e=!0)}return e}function Ve(t){const e=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.F)(t[0].y,t[1].y),s=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.F)(t[1].y,t[2].y),n=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.F)(t[2].y,t[3].y);if(e>=0&&s>=0&&n>=0||e<=0&&s<=0&&n<=0){const e=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.F)(t[0].x,t[1].x),s=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.F)(t[1].x,t[2].x),n=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.F)(t[2].x,t[3].x);if(e>=0&&s>=0&&n>=0||e<=0&&s<=0&&n<=0)return!0}return!1}function Le(t,e){const s=t.getStartXY();if(s.equals(e.getStartXY()))return!0;if(s.equals(e.getEndXY()))return!0;const n=t.getEndXY();return!!n.equals(e.getStartXY())||!!n.equals(e.getEndXY())}function Re(t,e){let s=t.calculateLowerLength2D();return!(s>e)&&(!!t.isLine()||(s=t.calculateUpperLength2D(),s<=e||0!==e&&t.calculateLength2D()<=e))}function ze(t,e,s){const n=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P,4);let r=t.queryControlPointsHelper(n);const o=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P,4);let a=e.queryControlPointsHelper(o);n[0].equals(o[0])||(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.w)("");const h=t.getGeometryType();if(h===e.getGeometryType()&&n.map(((t,e)=>o[e].equals(t))).reduce(((t,e)=>t&&e))){if(h!==_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.G.enumRationalBezier2)return 0;{const s=e,n=[0,0,0],i=[0,0,0];if(t.queryWeights(n),s.queryWeights(i),n.map(((t,e)=>i[e]===t)).reduce(((t,e)=>t&&e)))return 0}}for(;r>2&&n[1].equals(n[0]);)n.splice(1,1),r--;for(;a>2&&o[1].equals(o[0]);)o.splice(1,1),a--;(n[1].equals(n[0])||o[1].equals(n[0]))&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.w)("");const m=_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.compareVectorsOrigin(n[0],n[1],o[1]);if(0===m){const s=Xe.constructPoint2D(n[0]),i=new Xe;t.queryCoord2DMP(1e-16,i),i.sub(s);const r=new Xe;e.queryCoord2DMP(1e-16,r),r.sub(s);return r.crossProduct(i).sign()}return m}function Be(t,e,n,i,r,o,a,h){let u=t.calculateUpperLength2D(),m=e.calculateUpperLength2D(),l=t,c=e,g=!1;u>m&&(c=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.c)(l,l=c),i=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.c)(n,n=i),m=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.c)(u,u=m),g=!0);const d=0===n;{a[0]=d?1:0;const t=l.getCoord2D(a[0]);h[0]=c.getClosestCoordinate(t,!1);const e=c.getCoord2D(h[0]);if(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.distance(t,e)<=r){const e=[.5,.75,.25,.1,.9];let s=!0;for(let n=0;n<e.length;n++)if(t.assign(l.getCoord2D(e[n])),!c.isCloserThanDistance(t,new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.E(0,1),r)){s=!1;break}if(s)return g&&(h[0]=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.c)(a[0],a[0]=h[0])),1}}if(u<=3*r)return 0;let _=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.s)(Math.max(r/u,.1),0,.5),p=.01*r,f=0,P=0,y=_,x=-1,C=0,v=1/32;for(let b=0;;b++){(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(b<4095);const t=d?_:1-_,e=l.getCoord2D(t),n=c.getClosestCoordinate(e,!1);if(n===i)return C;const u=c.getCoord2D(n),m=_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.distance(e,u);if(0===b&&(x=m),m<=p?(v=.5,P=m,f=_):(y=_,x=m),Math.abs(P-x)>.1*p&&y-f>1e-16)_=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.q)(f,y,v);else{if(a[C]=t,h[C]=n,g&&(h[C]=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.c)(a[C],a[C]=h[C])),1===o||1===C)return 1===C&&a[0]>a[1]&&(a[1]=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.c)(a[0],a[0]=a[1]),h[1]=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.c)(h[0],h[0]=h[1])),C+1;C++,f=y,P=x,y=.8,x=-1,_=.8,v=1/32,p=10*r,b=0}}}function ke(t,e,s,n,i,r,o,a,h){if((0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.N)(s,0,1)&&(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.N)(n,0,1)){if(0===_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.distance(t.getCoord2D(s),e.getCoord2D(n))){const h=1e-12,u=new Ye,m=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.O)();if(t.queryDerivative(new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.H(s,m),u),u.isTrueZero()){const e=1===s?-1e-12:h;t.queryDerivative(new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.H(s,m).add(e),u)}1===s&&u.negateThis();const l=new Ye;if(e.queryDerivative(new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.H(n,m),l),l.isTrueZero()){const t=1===s?-1e-12:h;e.queryDerivative(new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.H(n,m).add(t),l)}1===n&&l.negateThis(),u.isZero()||u.normalize(),l.isZero()||l.normalize();const c=u.dotProduct(l),g=u.crossProduct(l);g.scaleError(3);const d=()=>{{const s=t.calculateUpperLength2D(),n=e.calculateUpperLength2D();return Math.min(.01*i/Math.min(s,n),1e-10)}};if(c.ge(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.J)&&(g.isZero()||Math.abs(g.value())<d())){return Be(t,e,s,n,i,r,o,a)}}}return 0}function Ge(t,e,n){if((0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(t.isCurve()||e.isCurve()),t.getStartXY().equals(e.getStartXY())){if(ke(t,e,0,0,n,2,[0,0],[0,0]))return!0}if(t.getEndXY().equals(e.getEndXY())){if(ke(t,e,1,1,n,2,[0,0],[0,0]))return!0}if(t.getStartXY().equals(e.getEndXY())){if(ke(t,e,0,1,n,2,[0,0],[0,0]))return!0}if(t.getEndXY().equals(e.getStartXY())){if(ke(t,e,1,0,n,2,[0,0],[0,0]))return!0}return!1}function We(t,e){t.m_XStart=e.x,t.m_YStart=e.y}function je(t,e,s){t.m_XStart=e,t.m_YStart=s}function Ze(t,e){t.m_XEnd=e.x,t.m_YEnd=e.y}function He(t,e,s){t.m_XEnd=e,t.m_YEnd=s}function Ue(t,e,s){e?t.m_XEnd===s.x&&t.m_YEnd===s.y||(t.m_XEnd=s.x,t.m_YEnd=s.y,t.endPointModified()):t.m_XStart===s.x&&t.m_YStart===s.y||(t.m_XStart=s.x,t.m_YStart=s.y,t.endPointModified())}function Oe(t,e){const s=new _Envelope_js__WEBPACK_IMPORTED_MODULE_1__.d;return e?(s.x=t.m_XEnd,s.y=t.m_YEnd):(s.x=t.m_XStart,s.y=t.m_YStart),s.z=Qe(t,e),s}function Qe(t,e){return t.m_description.hasZ()?t.m_attributes[e*(t.m_description.getTotalComponentCount()-2)]:qe.getDefaultValue(1)}function Je(t,e,s){t.m_description.hasZ()||t.addAttribute(1),e?t.m_XEnd===s.x&&t.m_YEnd===s.y||(t.m_XEnd=s.x,t.m_YEnd=s.y,t.endPointModified()):t.m_XStart===s.x&&t.m_YStart===s.y||(t.m_XStart=s.x,t.m_YStart=s.y,t.endPointModified()),t.m_attributes[(t.m_description.getTotalComponentCount()-2)*e]=s.z}function Ke(t,e,s){s.assignVertexDescription(t.m_description);const n=0===e?t.m_XStart:t.m_XEnd,i=0===e?t.m_YStart:t.m_YEnd;s.setXYCoords(n,i);for(let r=1;r<t.m_description.getAttributeCount();r++){const n=t.m_description.getSemantics(r);for(let i=0,r=qe.getComponentCount(n);i<r;i++){const r=ts(t,e,n,i);s.setAttributeBasic(n,i,r)}}}function $e(t,e,s){s.isEmpty()&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.u)(""),Ue(t,e,s.getXY());const n=s.getDescription();n!==t.m_description&&t.mergeVertexDescription(n);for(let i=1,r=n.getAttributeCount();i<r;i++){const r=n.getSemantics(i),o=qe.getComponentCount(r);for(let n=0;n<o;n++){es(t,e,r,n,s.getAttributeAsDbl(r,n))}}}function ts(t,e,s,i){if((e<0||e>1)&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.q)(""),0===s)return(i<0||i>=2)&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.q)(""),0===e?0===i?t.m_XStart:t.m_YStart:0===i?t.m_XEnd:t.m_YEnd;const r=qe.getComponentCount(s);(i<0||i>=r)&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.q)("");const o=t.m_description.getAttributeIndex(s);return o>=0?t.m_attributes[e*(t.m_description.getTotalComponentCount()-2)+t.m_description.getPointAttributeOffset(o)-2+i]:qe.getDefaultValue(s)}function es(t,e,s,i,r){if((e<0||e>1)&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.q)(""),0===s)return 0===e?0===i?t.m_XStart=r:1===i?t.m_YStart=r:(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.q)(""):1===e?0===i?t.m_XEnd=r:1===i?t.m_YEnd=r:(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.q)(""):(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.q)(""),void t.endPointModified();const o=qe.getComponentCount(s);(i<0||i>=o)&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.q)("");let a=t.m_description.getAttributeIndex(s);a<0&&(t.addAttribute(s),a=t.m_description.getAttributeIndex(s)),t.m_attributes[e*(t.m_description.getTotalComponentCount()-2)+t.m_description.getPointAttributeOffset(a)-2+i]=r}function ss(t,e){if(t===e)return;e.isEmpty()&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.u)("");const s=e.getDescription();s!==t.m_description&&t.mergeVertexDescription(s);for(let n=1,i=s.getAttributeCount();n<i;n++){const i=s.getSemantics(n),r=qe.getComponentCount(i);for(let s=0;s<r;s++){let n=ts(e,0,i,s);es(t,0,i,s,n),n=ts(e,1,i,s),es(t,1,i,s,n)}}}function ns(t,e){const s=(0,_Envelope_js__WEBPACK_IMPORTED_MODULE_1__.p)();(0,_Envelope_js__WEBPACK_IMPORTED_MODULE_1__.q)(e,t.m_description,s);let n=null;const i=e.getTotalComponentCount()-2,r=t.m_description?t.m_description.getTotalComponentCount()-2:0;if(i>0&&(n=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.d)(2*i,Number.NaN),(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.b)(n,e.getDefaultPointAttributes(),0,2,i),(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.b)(n,e.getDefaultPointAttributes(),i,2,i),null!==t.m_description))for(let o=1;o<e.getAttributeCount();o++){const a=s[o];if(-1!==a){const s=t.m_description.getPointAttributeOffset(a)-2,h=e.getPointAttributeOffset(o)-2,u=qe.getComponentCount(e.getSemantics(o));for(let e=0;e<u;++e)n[h]=t.m_attributes[s],n[i+h]=t.m_attributes[r+s]}}t.m_attributes=n,t.m_description=e}function is(t){return t.absNorm()*(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.g)()}function rs(t,e){return Math.max(t.absNorm(),e.absNorm())*(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.g)()}function os(t,e,s){const n=new De;t.queryEnvelopeW(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.E.unit(),n);const i=new De;return e.queryEnvelopeW(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.E.unit(),i),i.inflate(s),!n.isIntersectingW(i)}function as(t,e,s){const n=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.L)(t,s),i=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.L)(e,s);n.sort(((t,e)=>t.compare(e))),i.sort(((t,e)=>t.compare(e)));for(let r=0;r<3;r++){if(n[r].compare(i[r])<0)return-1;if(0!==n[r].compare(i[r]))return 1}return 0}var hs=_Envelope_js__WEBPACK_IMPORTED_MODULE_1__.V;class us{constructor(t){if(t.copy){if(this.m_XStart=t.copy.m_XStart,this.m_YStart=t.copy.m_YStart,this.m_XEnd=t.copy.m_XEnd,this.m_YEnd=t.copy.m_YEnd,this.m_description=t.copy.m_description,this.m_attributes=null,this.m_description){this.m_description.getTotalComponentCount()-2&&(this.m_attributes=t.copy.m_attributes.slice())}}else{if(t.move)return this.m_description=t.move.m_description,t.move.m_description=null,this.m_attributes=t.move.m_attributes,t.move.m_attributes=null,this.m_XStart=t.move.m_XStart,this.m_YStart=t.move.m_YStart,this.m_XEnd=t.move.m_XEnd,void(this.m_YEnd=t.move.m_YEnd);if(void 0!==t.XStart)return this.m_XStart=t.XStart,this.m_YStart=t.YStart,this.m_XEnd=t.XEnd,this.m_YEnd=t.YEnd,this.m_attributes=null,this.m_description=t.vd?t.vd:(0,_Envelope_js__WEBPACK_IMPORTED_MODULE_1__.j)(),void(t.vd&&this.setDefaultAttributeValues());if(void 0!==t.ZStart)return this.m_XStart=t.XStart,this.m_YStart=t.YStart,this.m_XEnd=t.XEnd,this.m_YEnd=t.YEnd,this.m_description=t.vd?t.vd:(0,_Envelope_js__WEBPACK_IMPORTED_MODULE_1__.w)(),void(t.vd?(this.setDefaultAttributeValues(),this.addAttribute(1),this.m_attributes[0]=t.ZStart,this.m_attributes[this.m_description.getTotalComponentCount()-2]=t.ZEnd):this.m_attributes=[t.ZStart,t.ZEnd]);if(t.start)return this.m_XStart=t.start.x,this.m_YStart=t.start.y,this.m_XEnd=t.end.x,this.m_YEnd=t.end.y,this.m_attributes=null,void(this.m_description=(0,_Envelope_js__WEBPACK_IMPORTED_MODULE_1__.j)());if(t.start3D)return this.m_XStart=t.start3D.x,this.m_YStart=t.start3D.y,this.m_XEnd=t.end3D.x,this.m_YEnd=t.end3D.y,this.m_description=t.vd?t.vd:(0,_Envelope_js__WEBPACK_IMPORTED_MODULE_1__.w)(),void(t.vd?(this.setDefaultAttributeValues(),this.addAttribute(1),this.m_attributes[0]=t.start3D.z,this.m_attributes[this.m_description.getTotalComponentCount()-2]=t.end3D.z):this.m_attributes=[t.start3D.z,t.end3D.z]);(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.d)("bad constructor params"),this.m_XStart=this.m_YStart=this.m_XEnd=this.m_YEnd=Number.NaN}}setDefaultAttributeValues(){const t=this.m_description.getTotalComponentCount()-2;t>0&&(null===this.m_attributes&&(this.m_attributes=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.d)(2*t,Number.NaN)),(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.b)(this.m_attributes,this.m_description.getDefaultPointAttributes(),0,2,t),(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.b)(this.m_attributes,this.m_description.getDefaultPointAttributes(),t,2,t))}absNormXYZ(t){return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.t)("not implemented"),0}queryWeights(t){}snapControlPoints3D(){return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.t)("not implemented"),!1}setCoordsForIntersector3D(t,e,s){(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.t)("not implemented")}transformAttribute(t,e,s,n,i){(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.t)("")}mergeVertexDescriptionImpl(t){const e=this.getDescription(),s=(0,_Envelope_js__WEBPACK_IMPORTED_MODULE_1__.l)(e,t);this.assignVertexDescription(s)}changeEndPoints(t,e){const s=t.getXY(),n=e.getXY();this.changeEndPoints2D(s,n);let i=t.getDescription();i!==this.getDescription()&&this.mergeVertexDescription(i),i=e.getDescription(),i!==this.getDescription()&&this.mergeVertexDescription(i);for(let r=1,o=i.getAttributeCount();r<o;r++){const s=i.getSemantics(r),n=hs.getComponentCount(s);for(let i=0;i<n;i++){es(this,0,s,i,t.getAttributeAsDbl(s,i));es(this,1,s,i,e.getAttributeAsDbl(s,i))}}}getStartXY(){return new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P(this.m_XStart,this.m_YStart)}setStartXY(t){this.m_XStart=t.x,this.m_YStart=t.y,this.endPointModified()}setStartXYCoords(t,e){this.m_XStart=t,this.m_YStart=e,this.endPointModified()}getStartXYZ(){return Oe(this,0)}setStartXYZ(t){Je(this,0,t)}setStartXYZCoords(t,e,s){Je(this,0,_Envelope_js__WEBPACK_IMPORTED_MODULE_1__.d.construct(t,e,s))}queryStart(t){Ke(this,0,t)}setStart(t){$e(this,0,t)}setStart2D(t){this.setStartXY(t)}getStartAttributeAsDbl(t,e){return ts(this,0,t,e)}getStartAttributeAsInt(t,e){return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(0),0}setStartAttribute(t,e,s){es(this,0,t,e,s)}setStartAttributesFromPoint(t,e){const s=t.getDescription();for(let n=e&&s.hasZ()?2:1,i=s.getAttributeCount();n<i;++n){const e=s.getSemantics(n),i=hs.getComponentCount(e);for(let s=0;s<i;++s){const n=t.getAttributeAsDbl(e,s);this.setStartAttribute(e,s,n)}}}setEndAttributesFromPoint(t,e){const s=t.getDescription();for(let n=e&&s.hasZ()?2:1,i=s.getAttributeCount();n<i;++n){const e=s.getSemantics(n),i=hs.getComponentCount(e);for(let s=0;s<i;++s){const n=t.getAttributeAsDbl(e,s);this.setEndAttribute(e,s,n)}}}getStartX(){return this.m_XStart}getStartY(){return this.m_YStart}getStartZ(){return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(0),0}getEndX(){return this.m_XEnd}getEndY(){return this.m_YEnd}getEndZ(){return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(0),0}getEndXY(){return new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P(this.m_XEnd,this.m_YEnd)}setEndXY(t){this.m_XEnd=t.x,this.m_YEnd=t.y,this.endPointModified()}setEndXYCoords(t,e){this.m_XEnd=t,this.m_YEnd=e,this.endPointModified()}getEndXYZ(){return Oe(this,1)}setEndXYZ(t){Je(this,1,t)}setEndXYZCoords(t,e,s){Je(this,1,_Envelope_js__WEBPACK_IMPORTED_MODULE_1__.d.construct(t,e,s))}queryEnd(t){Ke(this,1,t)}setEnd(t){$e(this,1,t)}setEnd2D(t){this.setEndXY(t)}getEndAttributeAsDbl(t,e){return ts(this,1,t,e)}getEndAttributeAsInt(t,e){return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(0),Math.trunc(0)}setEndAttribute(t,e,s){es(this,1,t,e,s)}getDimension(){return 1}copyTo(t){if(this===t)return;t.getGeometryType()!==this.getGeometryType()&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.a)("");const s=t;s.assignVertexDescription(this.m_description),s.m_attributes&&(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.b)(s.m_attributes,this.m_attributes,0,0,2*(this.m_description.getTotalComponentCount()-2)),s.m_XStart=this.m_XStart,s.m_YStart=this.m_YStart,s.m_XEnd=this.m_XEnd,s.m_YEnd=this.m_YEnd,this.copyToImpl(s)}isEmpty(){return this.isEmptyImpl()}isClosed(){return this.m_XStart===this.m_XEnd&&this.m_YStart===this.m_YEnd}setEmpty(){}calculateArea2D(){return 0}queryInterval(t,e){const s=_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.E.constructEmpty();return s.vmin=ts(this,0,t,e),s.vmax=s.vmin,s.mergeNeCoordinate(ts(this,1,t,e)),s}calculateLength3D(t){return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(0),0}getCoord3D(t){return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(0),{}}getCoord2D(t){const e=_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.getNAN();return this.queryCoord2D(t,e),e}queryCoord3D(t,e){(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(0)}getCoordZ(t){return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(0),0}queryCoord(t,e){e.assignVertexDescription(this.m_description),e.setXY(this.getCoord2D(t));for(let s=1,n=this.m_description.getAttributeCount();s<n;s++){const n=this.m_description.getSemantics(s),i=hs.getComponentCount(n);for(let s=0;s<i;s++){const i=this.getAttributeAsDbl(t,n,s);e.setAttributeBasic(n,s,i)}}}isCloserThanDistance(t,e,s){const n=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_3__.Envelope2D.constructEmpty();this.queryLooseEnvelopeOnInterval(e,n);if(n.distance(t)>s)return!1;const i=this.getClosestCoordinateOnInterval(t,e,s);return!Number.isNaN(i)&&_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.distance(t,this.getCoord2D(i))<=s}isMonotoneQuickAndDirty(){return!1}isTrue3D(){return!1}getReversed(){const t=this.clone();return t.reverse(),t}reverse(){this.m_XEnd=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.c)(this.m_XStart,this.m_XStart=this.m_XEnd),this.m_YEnd=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.c)(this.m_YStart,this.m_YStart=this.m_YEnd),this.reverseImpl();for(let t=1,e=this.m_description.getAttributeCount();t<e;t++){const e=this.m_description.getSemantics(t);for(let t=0,s=hs.getComponentCount(e);t<s;t++){const s=ts(this,0,e,t);es(this,0,e,t,ts(this,1,e,t)),es(this,1,e,t,s)}}return this.afterCompletedModification(),this}isEmptyImpl(){return!1}isCircular(){return!1}distance(t,e,n,i){if(!e&&this.isIntersecting(t,0,!1)){if(null!==n||null!==i){const e=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.d)(9,Number.NaN),r=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.d)(9,Number.NaN),o=this.intersect(t,null,e,r,0);(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(o<=9),0===o&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.d)(""),null!==n&&(n[0]=e[0]),null!==i&&(i[0]=r[0])}return 0}let r,o=Number.MAX_VALUE,a=-1,u=o;return r=this.getStartXY(),a=t.getClosestCoordinate(r,!1),r.subThis(t.getCoord2D(a)),u=r.length(),u<o&&(o=u,null!==i&&(i[0]=a),null!==n&&(n[0]=0)),r=this.getEndXY(),a=t.getClosestCoordinate(r,!1),r.subThis(t.getCoord2D(a)),u=r.length(),u<o&&(o=u,null!==i&&(i[0]=a),null!==n&&(n[0]=1)),r=t.getStartXY(),a=this.getClosestCoordinate(r,!1),r.subThis(this.getCoord2D(a)),u=r.length(),u<o&&(o=u,null!==n&&(n[0]=a),null!==i&&(i[0]=0)),r=t.getEndXY(),a=this.getClosestCoordinate(r,!1),r.subThis(this.getCoord2D(a)),u=r.length(),u<o&&(o=u,null!==n&&(n[0]=a),null!==i&&(i[0]=1)),o}calculateSubLengthFromStart(t){return this.tToLength(t)}calculateSubLength(t,e){return e===t?0:this.tToLength(e)-this.tToLength(t)}static recalculateParentT(t,e,s){return (0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.q)(t,e,s)}moveTo(t){const e=this.isClosed(),s=new _Transformation2D_js__WEBPACK_IMPORTED_MODULE_4__.T;s.setShift(t.sub(this.getStartXY())),this.applyTransformation(s),e?this.changeEndPoints2D(t,t):this.changeEndPoints2D(t,this.getEndXY())}moveTo3D(t){(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(0)}getDescription(){return this.m_description}assignVertexDescription(t){ns(this,t)}mergeVertexDescription(t){this.m_description!==t&&(this.m_description.hasAttributesFrom(t)||this.mergeVertexDescriptionImpl(t))}hasAttribute(t){return this.m_description.hasAttribute(t)}addAttribute(t){if(this.m_description.hasAttribute(t))return;const e=(0,_Envelope_js__WEBPACK_IMPORTED_MODULE_1__.m)(this.m_description,t);this.assignVertexDescription(e)}dropAttribute(t){if(!this.m_description.hasAttribute(t))return;const e=(0,_Envelope_js__WEBPACK_IMPORTED_MODULE_1__.r)(this.m_description,t);this.assignVertexDescription(e)}dropAllAttributes(){const t=(0,_Envelope_js__WEBPACK_IMPORTED_MODULE_1__.j)();t!==this.m_description&&this.assignVertexDescription(t)}swap(t){if(this===t)return;t.getGeometryType()!==this.getGeometryType()&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.a)("wrong geometry type");const s=t;s.m_description=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.c)(this.m_description,this.m_description=s.m_description),s.m_XStart=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.c)(this.m_XStart,this.m_XStart=s.m_XStart),s.m_YStart=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.c)(this.m_YStart,this.m_YStart=s.m_YStart),s.m_XEnd=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.c)(this.m_XEnd,this.m_XEnd=s.m_XEnd),s.m_YEnd=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.c)(this.m_YEnd,this.m_YEnd=s.m_YEnd),s.m_attributes=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.c)(this.m_attributes,this.m_attributes=s.m_attributes),this.swapImpl(s)}equals(t,e){if(this.getGeometryType()!==t.getGeometryType())return!1;const s=void 0===e;s&&(e=0);const n=t;if(this===n)return!0;if(this.m_description!==n.m_description)return!1;if(Math.abs(this.m_XStart-n.m_XStart)>e||Math.abs(this.m_XEnd-n.m_XEnd)>e||Math.abs(this.m_YStart-n.m_YStart)>e||Math.abs(this.m_YEnd-n.m_YEnd)>e)return!1;for(let i=0,r=2*(this.m_description.getTotalComponentCount()-2);i<r;i++)if(!(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.G)(this.m_attributes[i],n.m_attributes[i],e))return!1;return s?this.equalsImpl(n):this.equalsImplTol(n,e)}getImpl(){return this}setAttributeBasic(t,s,n){if(this.addAttribute(t),0===t&&this.isCurve()){(s<0||s>1)&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.a)("");const t=new _Transformation2D_js__WEBPACK_IMPORTED_MODULE_4__.T,i=0===s?n:0,r=1===s?n:0;t.setShiftCoords(i,r),0===s?t.xx=0:t.yy=0,this.applyTransformation(t)}else this.setStartAttribute(t,s,n),this.setEndAttribute(t,s,n)}replaceNaNs(t,e){if(this.addAttribute(t),this.isEmpty())return;const s=hs.getComponentCount(t);for(let n=0;n<s;n++){const s=this.getStartAttributeAsDbl(t,n);Number.isNaN(s)&&this.setStartAttribute(t,n,e);const i=this.getEndAttributeAsDbl(t,n);Number.isNaN(i)&&this.setEndAttribute(t,n,e)}}}us.s_maxMonotonicPartParams=8;class ms extends _SimpleGeometryCursor_js__WEBPACK_IMPORTED_MODULE_5__.G{constructor(t,e){super(),this.m_index=-1,this.gc=t,this.dim=e}next(){for(;;){if(this.m_index>=this.gc.getGeometryCount())return null;if(this.m_index++,this.m_index===this.gc.getGeometryCount())return null;const t=this.gc.getGeometry(this.m_index);if(-1===this.dim||1<<t.getDimension()&this.dim)return t}return null}getGeometryID(){return this.m_index}tock(){return!0}getRank(){return 1}}class ls{constructor(t){this.m_geoms=[],this.m_description=(0,_Envelope_js__WEBPACK_IMPORTED_MODULE_1__.j)(),t&&(t.vd?this.m_description=t.vd:t.copy?t.copy.copyTo(this):(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.a)("constructor argument not recognized"))}getGeometryCount(){return this.m_geoms.length}reserve(t){}addGeometry(t){if(t.getGeometryType()===_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.G.enumGeometryCollection){const e=t;for(let t=0,s=e.getGeometryCount();t<s;t++)this.addGeometry(e.getGeometry(t))}else this.m_geoms.push(t.clone()),this.mergeVertexDescription(t.getDescription())}addCursor(t){for(let e=t.next();null!==e;e=t.next())this.addGeometry(e)}getGeometry(t){return(t<0||t>=this.m_geoms.length)&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.a)("Geometry_collection.get_geometry"),this.m_geoms[t]}modifiedElementIndex(t){this.mergeVertexDescription(this.getGeometry(t).getDescription())}modifiedElement(t){this.mergeVertexDescription(t.getDescription())}getGeometryType(){return _Geometry_js__WEBPACK_IMPORTED_MODULE_0__.G.enumGeometryCollection}getDimension(){let t=0;for(const e of this.m_geoms)t=Math.max(t,e.getDimension());return t}getDescription(){return this.m_description}assignVertexDescription(t){this.m_description!==t&&this.assignVertexDescriptionImpl(t)}assignVertexDescriptionImpl(t){for(const e of this.m_geoms)e.assignVertexDescription(t);this.m_description=t}mergeVertexDescription(t){this.m_description!==t&&(this.m_description.hasAttributesFrom(t)||this.mergeVertexDescriptionImpl(t))}hasAttribute(t){return this.m_description.hasAttribute(t)}addAttribute(t){if(this.m_description.hasAttribute(t))return;const e=(0,_Envelope_js__WEBPACK_IMPORTED_MODULE_1__.m)(this.m_description,t);this.assignVertexDescription(e)}dropAttribute(t){if(!this.m_description.hasAttribute(t))return;const e=(0,_Envelope_js__WEBPACK_IMPORTED_MODULE_1__.r)(this.m_description,t);this.assignVertexDescription(e)}dropAllAttributes(){const t=(0,_Envelope_js__WEBPACK_IMPORTED_MODULE_1__.j)();t!==this.m_description&&this.assignVertexDescription(t)}queryInterval(t,e){let s=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.E;const n=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.E;n.setEmpty();for(const i of this.m_geoms)s=i.queryInterval(t,e),n.merge(s);return n}queryEnvelope(t){if(4===t.m_EnvelopeType){const e=new _Envelope_js__WEBPACK_IMPORTED_MODULE_1__.E;t.setEmpty(),t.assignVertexDescription(this.m_description);for(const s of this.m_geoms)s.queryEnvelope(e),t.merge(e)}else if(2===t.m_EnvelopeType){const e=new _Envelope2D_js__WEBPACK_IMPORTED_MODULE_3__.Envelope2D;t.setEmpty();for(const s of this.m_geoms)s.queryEnvelope(e),t.mergeEnvelope2D(e)}(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.t)("3d envelope case not implemented")}queryLooseEnvelope(t){if(2===t.m_EnvelopeType){const e=new _Envelope2D_js__WEBPACK_IMPORTED_MODULE_3__.Envelope2D;t.setEmpty();for(const s of this.m_geoms)s.queryLooseEnvelope(e),t.mergeEnvelope2D(e)}(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.t)("3d not impl")}isEmpty(){return 0===this.m_geoms.length}setEmpty(){this.m_geoms.length=0}applyTransformation(t){if(1===t.m_TransformationType)for(const e of this.m_geoms)e.applyTransformation(t);(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.t)("3d xform not impl")}transformAttribute(t,e,s,n,i){for(const r of this.m_geoms)r.transformAttribute(t,e,s,n,i)}createInstance(){return new ls({vd:this.getDescription()})}copyTo(t){t.getGeometryType()!==_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.G.enumGeometryCollection&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.a)("");const s=t;if(s!==this){s.m_geoms.length=0,s.assignVertexDescription(this.m_description);for(const t of this.m_geoms)s.m_geoms.push(t.clone())}}calculateArea2D(){const t=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.K(0);for(const e of this.m_geoms)t.pe(e.calculateArea2D());return t.getResult()}calculateLength2D(){const t=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.K(0);for(const e of this.m_geoms)t.pe(e.calculateLength2D());return t.getResult()}calculateLength3D(t){return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(0),0}getBoundary(){const t=this.createInstance(),e=t;for(const s of this.m_geoms){const t=s.getBoundary();t&&e.m_geoms.push(t)}return t}clone(){return new ls({copy:this})}equals(t,e){if(t===this)return!0;if(t.getGeometryType()!==_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.G.enumGeometryCollection)return!1;const s=t;if(this.m_description!==s.m_description)return!1;if(this.m_geoms.length!==s.m_geoms.length)return!1;for(let n=0;n<this.m_geoms.length;++n)if(!this.m_geoms[n].equals(s.m_geoms[n],e))return!1;return!0}swap(t){t.getGeometryType()!==_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.G.enumGeometryCollection&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.a)("");const s=t;s!==this&&(this.m_geoms=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.c)(s.m_geoms,s.m_geoms=this.m_geoms))}setAttributeBasic(t,e,s){for(const n of this.m_geoms)n.setAttributeBasic(t,e,s)}replaceNaNs(t,e){for(const s of this.m_geoms)s.replaceNaNs(t,e)}getImpl(){return this}mergeVertexDescriptionImpl(t){const e=this.getDescription(),s=(0,_Envelope_js__WEBPACK_IMPORTED_MODULE_1__.l)(e,t);this.assignVertexDescription(s)}}function cs(t,e=-1){return new ms(t,e)}ls.type=_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.G.enumGeometryCollection;class gs extends us{constructor(t){super(t)}}class ds extends gs{isTrue3D(){return!0}constructor(t){super(t)}}function _s(t,e,s){ps(e,t.getStartXY(),t.getEndXY(),s)}function ps(t,e,s,n){(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.U)(e,s,t,n)}function fs(t,e){return (0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.q)(t.m_XStart,t.m_XEnd,e)}function Ps(t,e){return (0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.q)(t.m_YStart,t.m_YEnd,e)}function ys(t,e){const s=t.getStartZ(),n=t.getEndZ();return (0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.q)(s,n,e)}function xs(t,e,s){const n=Ye.constructPoint2D(t.getStartXY()),i=Ye.constructPoint2D(t.getEndXY());s.setCoordsE(i.x.subE(n.x),i.y.subE(n.y))}function Cs(t,e,s){e.value()<=.5?(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.a4)(2,Ye.constructPoint2D(t.getStartXY()),Ye.constructPoint2D(t.getEndXY()),e,s):(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.a5)(2,Ye.constructPoint2D(t.getStartXY()),Ye.constructPoint2D(t.getEndXY()),e,s)}function vs(t,e,s){t.m_XStart=e.x,t.m_YStart=e.y,t.m_XEnd=s.x,t.m_YEnd=s.y,t.afterCompletedModification()}function bs(t,e){const s=t.getStartXYZ();s.z*=e;const n=t.getEndXYZ();return n.z*=e,s.norm(1)+n.norm(1)}function Ss(t){if(t.m_YEnd<t.m_YStart||t.m_YEnd===t.m_YStart&&t.m_XEnd<t.m_XStart){t.m_XEnd=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.c)(t.m_XStart,t.m_XStart=t.m_XEnd),t.m_YEnd=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.c)(t.m_YStart,t.m_YStart=t.m_YEnd);for(let e=0,s=t.m_description.getTotalComponentCount()-2;e<s;e++)t.m_attributes[e+s]=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.c)(t.m_attributes[e],t.m_attributes[e]=t.m_attributes[e+s])}}function Es(t,e,s,n){let i=0;if((t.m_XStart===e.m_XStart&&t.m_YStart===e.m_YStart||t.m_XStart===e.m_XEnd&&t.m_YStart===e.m_YEnd)&&(i++,!n))return 1;if(t.m_XEnd===e.m_XStart&&t.m_YEnd===e.m_YStart||t.m_XEnd===e.m_XEnd&&t.m_YEnd===e.m_YEnd){if(i++,2===i)return 2;if(!n)return 1}return e.isIntersectingPoint(t.getStartXY(),s,!0)||e.isIntersectingPoint(t.getEndXY(),s,!0)||t.isIntersectingPoint(e.getStartXY(),s,!0)||t.isIntersectingPoint(e.getEndXY(),s,!0)?4:n&&i?0:As(t,e)?4:0}function Ds(t,e,s,n,i,r,o,a){null!==n&&(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.w)(n,2,Number.NaN),null!==i&&(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.w)(i,2,Number.NaN),null!==s&&(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.ac)(s,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P,2);const h=ws(t,e,2,s,n,i,r,o,a);return n&&(n.length=h),i&&(i.length=h),s&&(s.length=h),h}function ws(t,e,s,n,i,r,o,a,h){const u=Is(t,e.getStartXY(),o,!1),m=Is(t,e.getEndXY(),o,!1),l=Is(e,t.getStartXY(),o,!1),c=Is(e,t.getEndXY(),o,!1);let g=0,d=0;if(!Number.isNaN(u)){let s=!1;a&&(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.N)(u,0,1)&&t.getCoord2D(u).isEqualPoint2D(e.getStartXY())&&(g++,s=!0),s||(i&&(i[d]=u),r&&(r[d]=0),n&&n[d].setCoords(e.m_XStart,e.m_YStart),d++)}if(!Number.isNaN(m)){let o=!1;a&&(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.N)(m,0,1)&&t.getCoord2D(m).isEqualPoint2D(e.getEndXY())&&(g++,o=!0),o||(s>d&&(i&&(i[d]=m),r&&(r[d]=1),n&&n[d].setCoords(e.m_XEnd,e.m_YEnd)),d++)}if(2!==d&&!Number.isNaN(l)&&!(0===u&&0===l||0===m&&1===l)){let o=!1;a&&(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.N)(l,0,1)&&e.getCoord2D(l).isEqualPoint2D(t.getStartXY())&&(g++,o=!0),o||(s>d&&(i&&(i[d]=0),r&&(r[d]=l),n&&n[d].setCoords(t.m_XStart,t.m_YStart)),d++)}if(2!==d&&!Number.isNaN(c)&&!(1===u&&0===c||1===m&&1===c)){let o=!1;a&&(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.N)(c,0,1)&&e.getCoord2D(c).isEqualPoint2D(t.getEndXY())&&(g++,o=!0),o||(s>d&&(i&&(i[d]=1),r&&(r[d]=c),n&&n[d].setCoords(e.m_XEnd,e.m_YEnd)),d++)}if(d>0)return h&&(r=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.c)(i,i=r)),2===d&&s>=2&&i&&i[0]>i[1]&&(i[1]=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.c)(i[0],i[0]=i[1]),r&&(r[1]=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.c)(r[0],r[0]=r[1])),n&&(n[1]=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.c)(n[0],n[0]=n[1]))),d;if(g>0)return 0;const _=qs(t,e,o);return Number.isNaN(_.x)?0:(n&&(n[0]=t.getCoord2D(_.x)),i&&(i[0]=_.x),r&&(r[0]=_.y),1)}function As(t,e){const s=Ms(t,e.m_XStart,e.m_YStart),n=Ms(t,e.m_XEnd,e.m_YEnd);if(s<0&&n<0||s>0&&n>0)return!1;const i=Ms(e,t.m_XStart,t.m_YStart),r=Ms(e,t.m_XEnd,t.m_YEnd);if(i<0&&r<0||i>0&&r>0)return!1;return Xs(t)>Xs(e)?Ns(t,e):Ns(e,t)}function Ts(t,e){const s={bIntersect:!1,t1:Number.NaN,t2:Number.NaN},n=t.m_XEnd-t.m_XStart,i=t.m_YEnd-t.m_YStart,r=e.m_XEnd-e.m_XStart,o=e.m_YEnd-e.m_YStart,a=r*i-n*o;if(0===a)return s;const h=e.m_XStart-t.m_XStart,u=e.m_YStart-t.m_YStart,m=r*u-h*o,l=n*u-h*i,c=1/a;return s.t1=m*c,s.t2=l*c,s.bIntersect=!0,s}function Is(t,e,s,n){const i=_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.getNAN(),r=_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.getNAN();let o=!1;t.m_YEnd<t.m_YStart||t.m_YEnd===t.m_YStart&&t.m_XEnd<t.m_XStart?(i.setCoords(t.m_XEnd,t.m_YEnd),r.setCoords(t.m_XStart,t.m_YStart),o=!0):(i.setCoords(t.m_XStart,t.m_YStart),r.setCoords(t.m_XEnd,t.m_YEnd));const a=o?1:0,h=o?0:1,u=_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.getNAN();u.setSub(e,i);let m=u.length(),l=3*m*(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.O)();if(m<=Math.max(s,l))return n&&0===m?Number.NaN:a;if(u.setSub(e,r),m=u.length(),l=3*m*(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.O)(),m<=Math.max(s,l))return n&&0===m?Number.NaN:h;u.setCoords(r.x-i.x,r.y-i.y);const c=u.length();if(c>0){const t=1/c;u.scale(t);const n=_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.getNAN();n.setSub(e,i);const m=n.dotProduct(u),l=8*n.dotProductAbs(u)*(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.O)();u.leftPerpendicularThis();const g=n.dotProduct(u),d=8*n.dotProductAbs(u)*(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.O)(),_=Math.max(s,l);if(m<-_||m>c+_)return Number.NaN;const p=Math.max(s,d);if(Math.abs(g)<=p){let n=m*t;n=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.s)(n,0,1);const u=_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.getNAN();if(ps(n,i,r,u),_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.distance(u,e)<=s){if(n<.5){if(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.distance(u,i)<=s&&_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.distance(e,i)<=s)return a}else if(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.distance(u,r)<=s&&_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.distance(e,r)<=s)return h;return o?1-n:n}}}return Number.NaN}function Ms(t,e,s){const n=_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.getNAN();n.setCoords(e,s),n.subThis(t.getStartXY());const i=_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.getNAN();i.setSub(t.getEndXY(),t.getStartXY());const r=i.crossProduct(n),o=4*(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.O)()*(Math.abs(i.x*n.y)+Math.abs(i.y*n.x));return r>o?-1:r<-o?1:0}function Ys(t,e,s,n){const i=n?t.m_XStart:t.m_XEnd,r=n?t.m_YStart:t.m_YEnd,o=_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.getNAN();o.x=e.getEndX()-i,o.y=e.getEndY()-r;if(s.dotProduct(o)>3*(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.O)()*s.dotProductAbs(o)){o.x=e.getStartX()-i,o.y=e.getStartY()-r;return s.dotProduct(o)<=3*(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.O)()*s.dotProductAbs(o)}return!0}function Ns(t,e){const s=_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.getNAN();return s.x=t.m_XEnd-t.m_XStart,s.y=t.m_YEnd-t.m_YStart,!!Ys(t,e,s,!1)&&(s.negateThis(),!!Ys(t,e,s,!0))}function Xs(t){const e=t.m_XStart-t.m_XEnd,s=t.m_YStart-t.m_YEnd;return e*e+s*s}function qs(t,e,s){const n=t.m_XEnd-t.m_XStart,i=t.m_YEnd-t.m_YStart,r=e.m_XEnd-e.m_XStart,o=e.m_YEnd-e.m_YStart,a=r*i-n*o;if(0===a)return _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.getNAN();const h=4*(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.O)()*(Math.abs(r*i)+Math.abs(n*o)),u=e.m_XStart-t.m_XStart,m=e.m_YStart-t.m_YStart,l=r*m-u*o,c=4*(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.O)()*(Math.abs(r*m)+Math.abs(u*o)),g=l/a,d=Math.abs(a),_=(c*d+h*Math.abs(l))/(a*a)+(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.O)()*Math.abs(g);if(g<-_||g>1+_)return _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.getNAN();const p=n*m-u*i,f=p/a,P=(4*(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.O)()*(Math.abs(n*m)+Math.abs(u*i))*d+h*Math.abs(p))/(a*a)+(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.O)()*Math.abs(f);if(f<-P||f>1+P)return _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.getNAN();let y=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.s)(g,0,1),x=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.s)(f,0,1);const C=_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.getNAN();_s(t,y,C);const v=_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.getNAN();if(_s(e,x,v),!s||_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.distance(C,v)>s){const n=_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.getNAN();(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.U)(C,v,.5,n),y=t.getClosestCoordinate(n,!1),x=e.getClosestCoordinate(n,!1);const i=_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.getNAN();_s(t,y,i);const r=_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.getNAN();_s(e,x,r),i.subThis(r);const o=i.length(),a=(t.absNorm()+e.absNorm())*(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.g)();if(o>Math.max(s,a))return _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.getNAN()}return new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P(y,x)}class Fs{constructor(t){if(this.m_segFlagStream=null,this.m_xyStream=null,this.m_bCirculator=!1,this.m_currentSegmentIndex=-1,this.m_nextSegmentIndex=0,this.m_nextPathIndex=0,this.m_currentPathIndex=-1,this.m_parent=t.parent,this.m_buffer=new this.m_parent.m_segmentBufferCTor,this.m_description=t.parent.getDescription(),this.m_segmentCount=this.getSegmentCount(this.m_nextPathIndex),void 0!==t.pointIndex){(t.pointIndex<0||t.pointIndex>=t.parent.getPointCount())&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.q)("");const e=t.parent.getPathIndexFromPointIndex(t.pointIndex);this.m_currentPathIndex=e,this.m_nextPathIndex=e+1,this.m_nextSegmentIndex=t.pointIndex-t.parent.getPathStart(e),this.m_segmentCount=this.getSegmentCount(this.m_currentPathIndex)}else if(void 0!==t.pathIndex){(t.pathIndex<0||t.pathIndex>=t.parent.getPathCount()||t.segmentIndex<0)&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.q)("");const e=t.parent.isClosedPath(t.pathIndex)?0:1;t.segmentIndex>=t.parent.getPathSize(t.pathIndex)-e&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.q)(""),this.m_nextSegmentIndex=t.segmentIndex,this.m_currentPathIndex=t.pathIndex,this.m_nextPathIndex=this.m_nextSegmentIndex+1,this.m_segmentCount=this.getSegmentCount(this.m_nextPathIndex)}this.prepare(),this.m_pathBegin=-1,this.m_bCurrentPathClosed=!1,this.m_bStripAttributes=!1,this.m_prevPathIndex=-1,this.m_prevSegmentIndex=-1,this.m_bNeedsUpdate=!1,this.m_currentPathIndex>-1&&(this.m_pathBegin=this.m_parent.getPathStart(this.m_currentPathIndex),this.m_bCurrentPathClosed=this.m_parent.isClosedPath(this.m_currentPathIndex))}stripAttributes(){this.m_bStripAttributes=!0}prepare(){this.m_bCirculator=!1,this.m_parent.isEmptyImpl()?(this.m_segFlagStream=null,this.m_xyStream=null):(this.m_segFlagStream=this.m_parent.getSegmentFlagsStreamRef(),this.m_xyStream=this.m_parent.getAttributeStreamRef(0))}nextPath(){return this.m_currentPathIndex=this.m_nextPathIndex,!(this.m_currentPathIndex>=this.m_parent.getPathCount())&&(this.m_currentSegmentIndex=-1,this.m_nextSegmentIndex=0,this.m_segmentCount=this.getSegmentCount(this.m_currentPathIndex),this.m_pathBegin=this.m_parent.getPathStart(this.m_currentPathIndex),this.m_bCurrentPathClosed=this.m_parent.isClosedPath(this.m_currentPathIndex),this.m_nextPathIndex++,!0)}previousPath(){return 0!==this.m_nextPathIndex&&(this.m_nextPathIndex--,this.m_currentSegmentIndex=-1,this.m_nextSegmentIndex=0,this.m_segmentCount=this.getSegmentCount(this.m_nextPathIndex),this.m_currentPathIndex=this.m_nextPathIndex,this.m_pathBegin=this.m_parent.getPathStart(this.m_currentPathIndex),this.m_bCurrentPathClosed=this.m_parent.isClosedPath(this.m_currentPathIndex),this.resetToLastSegment(),!0)}getSegmentCount(t){return this.m_parent.isEmptyImpl()?0:this.m_parent.getSegmentCountPath(t)}resetToFirstPath(){this.m_currentSegmentIndex=-1,this.m_nextSegmentIndex=-1,this.m_segmentCount=-1,this.m_nextPathIndex=0,this.m_currentPathIndex=-1,this.m_pathBegin=-1,this.m_bCurrentPathClosed=!1}resetToLastPath(){this.m_nextPathIndex=this.m_parent.getPathCount(),this.m_currentPathIndex=-1,this.m_currentSegmentIndex=-1,this.m_nextSegmentIndex=-1,this.m_segmentCount=-1,this.m_pathBegin=-1}resetToPath(t){(t<0||t>this.m_parent.getPathCount())&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.q)(""),this.m_nextPathIndex=t,this.m_currentPathIndex=-1,this.m_currentSegmentIndex=-1,this.m_nextSegmentIndex=-1,this.m_segmentCount=-1,this.m_pathBegin=-1,this.m_bCurrentPathClosed=!1}isLastPath(){return this.m_currentPathIndex===this.m_parent.getPathCount()-1}isFirstSegmentInPath(){return 0===this.m_currentSegmentIndex}isLastSegmentInPath(){return this.m_currentSegmentIndex===this.m_segmentCount-1}resetToFirstSegment(){this.m_currentSegmentIndex=-1,this.m_nextSegmentIndex=0}resetToLastSegment(){this.m_nextSegmentIndex=this.m_segmentCount,this.m_currentSegmentIndex=-1}resetTo(t){this.m_parent!==t.m_parent&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.p)(""),this.m_currentSegmentIndex=t.m_currentSegmentIndex,this.m_nextSegmentIndex=t.m_nextSegmentIndex,this.m_currentPathIndex=t.m_currentPathIndex,this.m_nextPathIndex=t.m_nextPathIndex,this.m_segmentCount=t.m_segmentCount,this.m_bCirculator=t.m_bCirculator,this.m_pathBegin=t.m_pathBegin,this.m_bCurrentPathClosed=t.m_bCurrentPathClosed,this.m_bStripAttributes=t.m_bStripAttributes,this.m_description=t.m_description}resetToVertex(t,e){if(this.m_currentPathIndex>=0&&this.m_currentPathIndex<this.m_parent.getPathCount()){const e=this.getPathBegin();if(t>=e&&t<this.m_parent.getPathEnd(this.m_currentPathIndex))return this.m_currentSegmentIndex=-1,void(this.m_nextSegmentIndex=t-e)}let s;s=e>=0&&e<this.m_parent.getPathCount()&&t>=this.m_parent.getPathStart(e)&&t<this.m_parent.getPathEnd(e)?e:this.m_parent.getPathIndexFromPointIndex(t),this.m_nextPathIndex=s+1,this.m_currentPathIndex=s,this.m_currentSegmentIndex=-1,this.m_nextSegmentIndex=t-this.m_parent.getPathStart(s),this.m_segmentCount=this.getSegmentCount(s),this.m_pathBegin=this.m_parent.getPathStart(this.m_currentPathIndex),this.m_bCurrentPathClosed=this.m_parent.isClosedPath(this.m_currentPathIndex)}hasNextSegment(){return this.m_nextSegmentIndex<this.m_segmentCount}hasPreviousSegment(){return this.m_nextSegmentIndex>0}nextSegment(){return this.m_currentSegmentIndex!==this.m_nextSegmentIndex&&this.updateSegment(),this.m_bCirculator?this.m_nextSegmentIndex=(this.m_nextSegmentIndex+1)%this.m_segmentCount:(this.m_nextSegmentIndex===this.m_segmentCount&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.q)("Segment_iterator_impl::next_segment"),this.m_nextSegmentIndex++),this.m_buffer.get()}previousSegment(){return this.m_bCirculator?this.m_nextSegmentIndex=(this.m_segmentCount+this.m_nextSegmentIndex-1)%this.m_segmentCount:(0===this.m_nextSegmentIndex&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.q)(""),this.m_nextSegmentIndex--),this.m_nextSegmentIndex!==this.m_currentSegmentIndex&&this.updateSegment(),this.m_buffer.get()}nextCurve(){if(!this.m_parent.hasNonLinearSegments())return this.resetToLastSegment(),null;let t=0;for(;;){if(this.m_nextSegmentIndex===this.m_segmentCount||t===this.m_segmentCount)return null;const e=this.getPathBegin()+this.m_nextSegmentIndex;if(1!==(31&this.m_segFlagStream.read(e))){this.updateSegment();break}this.m_bCirculator?this.m_nextSegmentIndex=(this.m_nextSegmentIndex+1)%this.m_segmentCount:this.m_nextSegmentIndex++,t++}return this.m_currentSegmentIndex!==this.m_nextSegmentIndex&&this.updateSegment(),this.m_bCirculator?this.m_nextSegmentIndex=(this.m_nextSegmentIndex+1)%this.m_segmentCount:(this.m_nextSegmentIndex===this.m_segmentCount&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.q)(""),this.m_nextSegmentIndex++),this.m_buffer.get()}getPathBegin(){return this.m_pathBegin}getPathIndex(){return this.m_currentPathIndex}getStartPointIndex(){return this.getPathBegin()+this.m_currentSegmentIndex}getEndPointIndex(){return this.isClosingSegment()?this.getPathBegin():this.getStartPointIndex()+1}updateSegment(){(this.m_nextSegmentIndex<0||this.m_nextSegmentIndex>=this.m_segmentCount||this.m_currentPathIndex<0)&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.q)(""),this.m_currentSegmentIndex=this.m_nextSegmentIndex,this.m_parent.getSegmentFromPath(this.m_currentPathIndex,this.m_currentSegmentIndex,this.m_buffer,this.m_bStripAttributes)}isClosingSegment(){return this.m_bCurrentPathClosed&&this.m_currentSegmentIndex===this.m_segmentCount-1}isCurve(){if(null!==this.m_segFlagStream){return 1!==(31&this.m_segFlagStream.read(this.m_currentSegmentIndex))}return!1}isPathClosed(){return this.m_bCurrentPathClosed}setCirculator(t){this.m_bCirculator=t}getImpl(){return this}}class Vs{constructor(t){this.m_rasterizedGeometry=null,this.m_quadTree=null,this.m_quadTreeForPaths=null,this.m_refCount=1,t&&t.copyTo(this)}getRasterizedGeometry(){return this.m_rasterizedGeometry}copyTo(t){t!==this&&((0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(t.uniqueUse()),t.m_quadTree=this.m_quadTree,t.m_quadTreeForPaths=this.m_quadTreeForPaths,t.m_rasterizedGeometry=this.m_rasterizedGeometry)}clone(){const t=new Vs;return this.copyTo(t),t}uniqueUse(){return 1===this.m_refCount}addRef(){++this.m_refCount}release(){0===--this.m_refCount&&(this.m_rasterizedGeometry=null,this.m_quadTree=null,this.m_quadTreeForPaths=null)}setRasterizedGeometry(t){(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(this.uniqueUse())}setQuadTree(t){(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(this.uniqueUse()),this.m_quadTree=t}setQuadTreeForPaths(t){(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(this.uniqueUse()),this.m_quadTreeForPaths=t}getQuadTree(){return this.m_quadTree}getQuadTreeForPaths(){return this.m_quadTreeForPaths}}function Ls(t){return!(t.isEmpty()||t.getGeometryType()!==_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.G.enumPolyline&&t.getGeometryType()!==_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.G.enumPolygon)&&!(t.getPointCount()<20)}function Rs(t){return!(t.isEmpty()||t.getGeometryType()!==_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.G.enumPolyline&&t.getGeometryType()!==_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.G.enumPolygon)&&!(t.getPointCount()<20)}function zs(t,e){return t.readPoint2D(e+4)}function Bs(t){const e=t.getGeometryType();return e===_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.G.enumEllipticArc?10:e===_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.G.enumBezier?4:e===_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.G.enumRationalBezier2?5:e===_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.G.enumBezier2?2:void (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.d)("")}function ks(t){const e=31&t;return 4===e?10:2===e?4:8===e?5:16===e?2:0}function Gs(t,e,s,n){const i=t.getPathStart(e),r=t.getPathEnd(e);if(r-i<3)return;const o=2*i,a=_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.getNAN();s.queryPoint2D(o,a);const h=a.x,u=a.y,m=_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.getNAN();s.queryPoint2D(o+2,m);const l=_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.getNAN();for(let c=o+4,g=2*r;c<g;c+=2)s.queryPoint2D(c,l),n.pe((l.x-a.x)*(m.y-u)),a.setCoordsPoint2D(m),m.setCoordsPoint2D(l);n.pe((h-a.x)*(m.y-u))}function Ws(t,e,s){for(;e.hasNextSegment();){const t=e.nextCurve();if(null===t)break;s.pe(2*t.calculateArea2DHelper())}}var js=_Envelope_js__WEBPACK_IMPORTED_MODULE_1__.V;class Zs{static toSegType(t){let e=0;switch(t){case _Geometry_js__WEBPACK_IMPORTED_MODULE_0__.G.enumLine:e=1;break;case _Geometry_js__WEBPACK_IMPORTED_MODULE_0__.G.enumBezier:e=2;break;case _Geometry_js__WEBPACK_IMPORTED_MODULE_0__.G.enumEllipticArc:e=4;break;case _Geometry_js__WEBPACK_IMPORTED_MODULE_0__.G.enumRationalBezier2:e=8;break;case _Geometry_js__WEBPACK_IMPORTED_MODULE_0__.G.enumBezier2:e=16;break;default:(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.d)("")}return e}constructor(){this.m_segmentFlags=null,this.m_segmentParamIndex=null,this.m_segmentParams=null,this.m_curveCount=0,this.m_bezierCount=0,this.m_arcCount=0,this.m_rbezier2Count=0,this.m_bezier2Count=0,this.m_curveParamWritePoint=0}assignCopy(t){return this.m_segmentFlags=t.m_segmentFlags,this.m_segmentParamIndex=t.m_segmentParamIndex,this.m_segmentParams=t.m_segmentParams,this.m_curveCount=t.m_curveCount,this.m_bezierCount=t.m_bezierCount,this.m_arcCount=t.m_arcCount,this.m_rbezier2Count=t.m_rbezier2Count,this.m_bezier2Count=t.m_bezier2Count,this.m_curveParamWritePoint=t.m_curveParamWritePoint,this}}class Hs extends Se{constructor(t){super(t),this.m_cachedRingAreas2D=null,this.m_paths=null,this.m_pathFlags=null,this.m_curveData=null,t.move?(this.m_bPolygon=t.move.m_bPolygon,this.m_cachedLength2D=t.move.m_cachedLength2D,this.m_cachedArea2D=t.move.m_cachedArea2D,this.m_currentPathIndex=t.move.m_currentPathIndex,this.m_cachedRingAreas2D=t.move.m_cachedRingAreas2D,this.m_paths=t.move.m_paths,this.m_pathFlags=t.move.m_pathFlags,this.m_curveData=t.move.m_curveData,t.move.m_curveData=null,t.move.setEmpty()):(this.m_bPolygon=t.bPolygon,this.m_cachedLength2D=0,this.m_cachedArea2D=0,this.m_currentPathIndex=0)}getGeometryType(){return this.m_bPolygon?_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.G.enumPolygon:_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.G.enumPolyline}getDimension(){return this.m_bPolygon?2:1}changeRingStartPoint(t){(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(this.m_bPolygon);const n=this.getPathIndexFromPointIndex(t),i=this.getPathStart(n);if(i===t)return;const r=this.getPathEnd(n);(t>=r||t<i)&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.a)("change_ring_start_point");for(let e=0,s=this.m_description.getAttributeCount();e<s;e++){const s=this.m_description.getSemantics(e),n=js.getComponentCount(s);this.m_vertexAttributes.get(e).rotate(i*n,t*n,r*n)}this.hasNonLinearSegments()&&(this.m_curveData.m_segmentFlags.rotate(i,t,r),this.m_curveData.m_segmentParamIndex.rotate(i,t,r))}setFillRule(t){this.m_bFillRule=1===t}getFillRule(){return this.m_bFillRule?1:0}isExteriorRingOGC(t){return!!this.m_bPolygon&&(this.updateOGCFlagsProtected(),!!(8&this.m_pathFlags.read(t)))}isExteriorRing(t){return this.calculateRingArea2D(t)>0}calculateRingArea2D(t){return this.m_bPolygon?(this.updateRingAreas2DProtected(),this.m_cachedRingAreas2D.read(t)):0}updateRingAreas2DProtected(){if(!this.hasDirtyFlag(1024))return;const t=this.getPathCount();if(0===t)return this.hasDirtyFlag(1024)&&(this.m_cachedArea2D=0),void this.setDirtyFlagProtected(1024,!1);const e=new _Envelope_js__WEBPACK_IMPORTED_MODULE_1__.x(t),s=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.K(0),n=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.K(0);if(0!==this.m_pointCount){const i=this.getAttributeStreamRef(0);if(this.hasNonLinearSegments()){const t=new Fs({parent:this});for(t.stripAttributes();t.nextPath();){n.reset();const r=t.getPathIndex();Gs(this,r,i,n),Ws(this,t,n);const o=.5*n.getResult();s.add(o),e.write(r,o)}}else for(let r=0;r<t;r++){n.reset(),Gs(this,r,i,n);const t=.5*n.getResult();s.add(t),e.write(r,t)}}this.hasDirtyFlag(1024)&&(this.m_cachedArea2D=s.getResult(),this.m_cachedRingAreas2D=e,this.setDirtyFlagProtected(1024,!1))}getOGCPolygonCount(){if(!this.m_bPolygon)return 0;this.updateOGCFlagsProtected();let t=0;const e=this.getPathCount();for(let s=0;s<e;s++)8&this.m_pathFlags.read(s)&&t++;return t}getHashCodeImpl(){return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(0),0}equalsImpl(t){const e=t,s=this.getPathCount();if(s!==e.getPathCount())return!1;const n=this.hasNonLinearSegments();if(n!==e.hasNonLinearSegments())return!1;if(n){if(this.m_curveData.m_curveCount!==e.m_curveData.m_curveCount)return!1;if(this.m_curveData.m_bezierCount!==e.m_curveData.m_bezierCount)return!1}if(this.m_paths&&!this.m_paths.equals(e.m_paths,0,s+1))return!1;if(this.m_bFillRule!==e.m_bFillRule)return!1;if(!this.m_bPolygon&&this.m_pathFlags&&!this.m_pathFlags.equals(e.m_pathFlags,0,s))return!1;if(this.hasNonLinearSegments()){if(!this.m_curveData.m_segmentFlags.equals(e.m_curveData.m_segmentFlags,0,this.getPointCount()))return!1;for(let t=0,s=this.getPointCount();t<s;t++){const s=this.m_curveData.m_segmentFlags.read(t);if(!Hs.isNonLinearSegmentFlag(s))continue;const n=this.m_curveData.m_segmentParamIndex.read(t),i=e.m_curveData.m_segmentParamIndex.read(t),r=ks(s);for(let t=0;t<r;t++){const s=this.m_curveData.m_segmentParams.read(n+t),r=e.m_curveData.m_segmentParams.read(i+t);if(!(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.Q)(s,r))return!1}}}return!0}equalsImplTol(t,e){const s=t,n=this.getPathCount();if(n!==s.getPathCount())return!1;const i=this.hasNonLinearSegments();if(i!==s.hasNonLinearSegments())return!1;if(i){if(this.m_curveData.m_curveCount!==s.m_curveData.m_curveCount)return!1;if(this.m_curveData.m_bezierCount!==s.m_curveData.m_bezierCount)return!1}if(this.m_paths&&!this.m_paths.equals(s.m_paths,0,n+1))return!1;if(this.m_bFillRule!==s.m_bFillRule)return!1;if(!this.m_bPolygon&&this.m_pathFlags&&!this.m_pathFlags.equals(s.m_pathFlags,0,n))return!1;if(!i)return!0;if(!this.m_curveData.m_segmentFlags.equals(s.m_curveData.m_segmentFlags,0,this.getPointCount()))return!1;const r=this.querySegmentIterator(),o=s.querySegmentIterator();for(;r.nextPath();){if(!o.nextPath())return!1;for(;r.hasNextSegment();){const t=r.nextCurve(),s=o.nextCurve();if(!(t&&s&&t.equals(s,e))){if(!t&&!s)break;return!1}}}return!0}reserveImplImpl(t,e){this.m_curveData&&this.m_curveData.m_segmentFlags&&(this.m_curveData.m_segmentFlags.resize(t,1),this.m_curveData.m_segmentParamIndex.resize(t,-1),this.checkCompactSegmentParams())}verifyStreamsAfterSizeChangeExtraImpl(){this.m_paths||(this.m_paths=(0,_Envelope_js__WEBPACK_IMPORTED_MODULE_1__.y)(1,0),this.m_pathFlags=(0,_Envelope_js__WEBPACK_IMPORTED_MODULE_1__.z)(1,0)),this.m_curveData&&this.m_curveData.m_segmentFlags&&(this.m_curveData.m_segmentFlags.resize(this.m_reservedPointCount,1),this.m_curveData.m_segmentParamIndex.resize(this.m_reservedPointCount,-1),this.checkCompactSegmentParams())}copyToImpl(t,e){const s=t;s.m_bPathStarted=!1,s.m_bFillRule=this.m_bFillRule,this.m_paths?s.m_paths=e?this.m_paths:this.m_paths.clone():s.m_paths=null,this.m_pathFlags?s.m_pathFlags=e?this.m_pathFlags:this.m_pathFlags.clone():s.m_pathFlags=null,this.m_curveData&&(s.m_curveData||(s.m_curveData=new Zs),s.m_curveData.assignCopy(this.m_curveData),s.m_curveData.m_curveCount=0,s.updateCurveCounter(this.m_curveData.m_curveCount),e||(this.m_curveData.m_segmentParamIndex?s.m_curveData.m_segmentParamIndex=this.m_curveData.m_segmentParamIndex.clone():s.m_curveData.m_segmentParamIndex=null,this.m_curveData.m_segmentFlags?s.m_curveData.m_segmentFlags=this.m_curveData.m_segmentFlags.clone():s.m_curveData.m_segmentFlags=null,this.m_curveData.m_segmentParams?s.m_curveData.m_segmentParams=this.m_curveData.m_segmentParams.clone():s.m_curveData.m_segmentParams=null)),s.hasDirtyFlag(512)||(s.m_cachedLength2D=this.m_cachedLength2D),s.m_cachedRingAreas2D=null,s.hasDirtyFlag(1024)||(s.m_cachedArea2D=this.m_cachedArea2D,null!==this.m_cachedRingAreas2D&&(s.m_cachedRingAreas2D=e?this.m_cachedRingAreas2D:this.m_cachedRingAreas2D.clone()))}calculateArea2D(){return this.m_bPolygon?(this.updateRingAreas2DProtected(),this.m_cachedArea2D):0}calculateLength2D(){if(!this.hasDirtyFlag(512))return this.m_cachedLength2D;const t=this.querySegmentIterator(),e=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.K(0);for(;t.nextPath();)for(;t.hasNextSegment();)e.add(t.nextSegment().calculateLength2D());return this.hasDirtyFlag(512)&&(this.m_cachedLength2D=e.getResult()),this.setDirtyFlagProtected(512,!1),e.getResult()}calculatePathLength2D(t){const e=this.querySegmentIteratorAtVertex(this.getPathStart(t)),s=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.K(0);for(;e.hasNextSegment();)s.add(e.nextSegment().calculateLength2D());return s.getResult()}calculateLength3D(t){return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(0),0}calculatePathLength3D(t,e){return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(0),0}copyTo(t){(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.h)(t.getGeometryType())||(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.a)(""),this!==t&&super.copyTo(t)}swap(t){(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(0)}setPointByVal(t,e){this.setPointByValWithCurves(t,e)}setPointByValWithCurves(t,e){if(this.hasNonLinearSegments()){const s=e.getXY();if(this.setXYCoordsWithCurves(t,s.x,s.y),1===this.m_description.getAttributeCount())return}this.setPointByValNoCurves(t,e)}setXYCoordsWithCurves(t,e,s){if(this.hasNonLinearSegments()){const n=Hs.getPathIndexFromPointIndexImpl(this.m_paths,this.getPathCount(),t,this.m_currentPathIndex);this.m_currentPathIndex=n;const i=this.getPrevSegmentTypeFromPath(n,t),r=this.getNextSegmentType(t);if(1!==i||1!==r){let o=t-1;const a=new fm;if(1!==i){if(this.isClosedPath(n)&&t===this.getPathStart(n)){o=this.getPathEnd(n)-1}this.getSegmentBuffer(o,a,!0)}const h=new fm;1!==r&&this.getSegmentBuffer(t,h,!0);const u=t+1;this.setXYCoordsNoCurves(t,e,s);const m=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P(e,s);return 1!==i&&(a.get().changeEndPoints2D(a.get().getStartXY(),m),this.replaceSegmentImpl(o,t,a.get(),!0)),void(1!==r&&(h.get().changeEndPoints2D(m,h.get().getEndXY()),this.replaceSegmentImpl(t,u,h.get(),!0)))}}this.setXYCoordsNoCurves(t,e,s)}setXYZWithCurves(t,e){this.hasNonLinearSegments()?(this.setXYCoordsWithCurves(t,e.x,e.y),this.setAttributeNoCurves(1,t,0,e.z)):this.setXYZNoCurves(t,e)}setAttributeWithCurves(t,e,s,n){if(0===t&&this.hasNonLinearSegments()){const t=this.getXY(e);0===s?t.x=n:t.y=n,this.setXYCoordsWithCurves(e,t.x,t.y)}else this.setAttributeNoCurves(t,e,s,n)}setXY(t,e){this.setXYCoordsWithCurves(t,e.x,e.y)}setXYCoords(t,e,s){this.setXYCoordsWithCurves(t,e,s)}setXYZ(t,e){this.setXYZWithCurves(t,e)}setAttribute(t,e,s,n){this.setAttributeWithCurves(t,e,s,n)}setAttributeWithCurvesFromArray(t,e,s,i){if(0===t&&this.hasNonLinearSegments()){i<2&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.q)("");const t=this.getXY(e);t.x=s[0],t.y=s[1],this.setXYCoordsWithCurves(e,t.x,t.y)}else this.setAttributeFromArrayNoCurves(t,e,s,i)}setAttributeFromArray(t,e,s,n){this.setAttributeWithCurvesFromArray(t,e,s,n)}hasNonLinearSegments(){return 0!==this.getCurveCount()}getSegmentCount(){let t=this.getPointCount();if(!this.m_bPolygon){t-=this.getPathCount();for(let e=0,s=this.getPathCount();e<s;e++)this.isClosedPath(e)&&t++}return t}getSegmentCountPath(t){let e=this.getPathSize(t);return!this.isClosedPath(t)&&e>0&&e--,e}add(t,s){this===t&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.a)("Multi_path_impl::add");for(let e=0,n=t.getPathCount();e<n;e++)this.addPath(t,e,!s)}addPath(t,e,s){this.insertPath(-1,t,e,s)}addPathPoint2D(t,e,s){this.insertPath2D(-1,t,0,e,s)}addPathMultiPoint(t,e,s,n){s<0&&(s=t.getPointCount()-e),this.insertPointsFromMultipoint(-1,0,t,e,s,n)}addSegmentsFromPath(t,s,i,r,o){if(this===t&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.a)("Multi_path_impl.add_segments_from_path"),o||0!==this.getPathCount()||(o=!0),s<0&&(s=t.getPathCount()-1),(s>=t.getPathCount()||i<0||r<0||i+r>t.getSegmentCountPath(s))&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.q)("add_segments_from_path"),0===r)return;const a=t.getPathStart(s),h=t.isClosedPath(s)&&i+r===t.getSegmentCountPath(s);this.m_bPathStarted=!1,this.mergeVertexDescription(t.getDescription());let u=r;const m=a+i;let l=m+1;o&&(u++,l--),!o&&t.hasNonLinearSegments()&&1!==t.m_curveData.m_segmentFlags.read(m)&&(t.getXY(m).equals(this.getXY(this.m_pointCount-1))||(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.a)("add_segments_from_path: start point mismatch"));const c=this.m_pointCount;if(this.resizeImpl(this.m_pointCount+u),this.verifyAllStreamsAfterSizeChange(),o){if(0===u)return;this.m_paths.add(this.m_pointCount);let e=t.m_pathFlags.read(s);this.m_bPolygon&&(e|=1),this.m_pathFlags.write(this.m_pathFlags.size()-1,e),this.m_pathFlags.add(0)}else this.m_paths.write(this.m_pathFlags.size()-1,this.m_pointCount);const g=h?u-1:u;for(let e=0,n=this.m_description.getAttributeCount();e<n;e++){const s=this.m_description.getSemantics(e),n=js.getComponentCount(s),i=t.m_description.getAttributeIndex(s);if(g>0){if(i<0||!t.m_vertexAttributes.get(i)){const t=js.getDefaultValue(s);this.m_vertexAttributes.get(e).insertRange(n*c,t,g*n,n*c),h&&this.m_vertexAttributes.get(e).insertRange(n*c+g*n,t,n,n*c);continue}this.m_vertexAttributes.get(e).insertRangeFromStream(n*c,t.m_vertexAttributes.get(i),n*l,g*n,!0,n,n*c)}h&&this.m_vertexAttributes.get(e).insertRangeFromStream(n*(c+g),t.m_vertexAttributes.get(i),n*a,n,!0,n,n*(c+g))}if(this.hasNonLinearSegments()&&this.initSegmentData(0),t.hasNonLinearSegments()){let e=0;for(let s=0,n=m;s<r;s++){e+=ks(t.m_curveData.m_segmentFlags.read(n)),n++}if(e>0){this.initSegmentData(e);let s=m,n=c-(o?0:1),i=0;for(let e=0;e<r;e++){const e=t.m_curveData.m_segmentFlags.read(s);if(this.m_curveData.m_segmentFlags.write(n,e),Hs.isNonLinearSegmentFlag(e)){i++;let r=t.m_curveData.m_segmentParamIndex.read(s);const o=ks(e);this.m_curveData.m_segmentParamIndex.write(n,this.m_curveData.m_curveParamWritePoint);for(let e=0;e<o;e++){const e=t.m_curveData.m_segmentParams.read(r);this.m_curveData.m_segmentParams.write(this.m_curveData.m_curveParamWritePoint,e),this.m_curveData.m_curveParamWritePoint++,r++}this.incCurveType(e,1)}else this.m_curveData.m_segmentParamIndex.write(n,-1);n++,s++}this.modifyCurveCounter(i)}}if(h){const t=this.getPathCount()-1,e=this.getPathStart(t),s=this.getPathEnd(t)-1,n=this.getXY(e),i=this.getXY(s);n.isEqualPoint2D(i)&&(--this.m_pointCount,this.m_paths.write(t+1,this.m_pointCount))}this.notifyModifiedFlags(2001)}reverseAllPaths(){for(let t=0,e=this.getPathCount();t<e;t++)this.reversePath(t)}reversePath(t){t>=this.getPathCount()&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.a)("");const s=this.getPathSize(t);if(0===s)return;const n=this.getPathStart(t),i=this.isClosedPath(t);if(this.hasNonLinearSegments()){let t=n;const e=new this.m_segmentBufferCTor;let r=!1;for(let n=0;n<s;n++,t++){const s=this.m_curveData.m_segmentFlags.read(t);if(!Hs.isNonLinearSegmentFlag(s))continue;r=!0,this.querySegment(t,e,!0),e.get().reverse();const n=this.m_curveData.m_segmentParamIndex.read(t);e.get().writeInBufferStream(this.m_curveData.m_segmentParams,n)}if(r){const t=i?0:1;this.m_curveData.m_segmentFlags.reverseRange(n,s-t,1),this.m_curveData.m_segmentParamIndex.reverseRange(n,s-t,1)}}const r=i?1:0;for(let e=0,a=this.m_description.getAttributeCount();e<a;e++)if(this.m_vertexAttributes.get(e)){const t=this.m_description.getSemantics(e),i=js.getComponentCount(t);this.m_vertexAttributes.get(e).reverseRange(i*(n+r),i*(s-r),i)}const o=6&this.m_pathFlags.read(t);if(o){let e=0;4&o&&(e|=2),2&o&&(e|=4),this.m_pathFlags.clearBits(t,6),this.m_pathFlags.setBits(t,e)}this.notifyModifiedFlags(1233)}removePath(t){const s=this.getPathCount();t<0&&(t=s-1),t>=s&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.a)("");const n=this.getPathStart(t),i=this.getPathSize(t);for(let e=0,r=this.m_description.getAttributeCount();e<r;e++)if(this.m_vertexAttributes.get(e)){const t=this.m_description.getSemantics(e),s=js.getComponentCount(t);this.m_vertexAttributes.get(e).eraseRange(s*n,s*i,s*this.m_pointCount)}if(this.hasNonLinearSegments()){let t=0;for(let e=n,s=n+i;e<s;e++){const s=this.m_curveData.m_segmentFlags.read(e);Hs.isNonLinearSegmentFlag(s)&&(this.incCurveType(s,-1),t++)}this.modifyCurveCounter(-t),this.m_curveData.m_segmentFlags.eraseRange(n,i,this.m_pointCount),this.m_curveData.m_segmentParamIndex.eraseRange(n,i,this.m_pointCount)}for(let e=t+1;e<=s;e++){const t=this.m_paths.read(e);this.m_paths.write(e-1,t-i)}if(this.m_pathFlags)for(let e=t+1;e<=s;e++){const t=this.m_pathFlags.read(e);this.m_pathFlags.write(e-1,t)}this.m_paths.resize(s),this.m_pathFlags.resize(s),this.m_pointCount-=i,this.m_reservedPointCount-=i,t===s-1&&(this.m_bPathStarted=!1),this.notifyModifiedFlags(2001),this.checkCompactSegmentParams(),this.dbgVerifyCurves()}dbgVerifyCurves(){}insertPath(t,s,n,i){this===s&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.a)("Multi_path_impl::insert_path");const r=this.getPathCount();if(!i&&s.hasNonLinearSegmentsPath(n))return t=this.insertPath(t,s,n,!0),this.reversePath(t),t;n>=s.getPathCount()&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.a)(""),t>r&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.a)(""),t<0&&(t=r),n<0&&(n=s.getPathCount()-1),this.m_bPathStarted=!1,this.mergeVertexDescription(s.getDescription());const o=s.getPathStart(n),a=s.getPathSize(n);if(0===a)return this.insertPath2D(t,null,0,0,!0);const h=this.m_pointCount,u=s.isClosedPath(n)&&!i?1:0;this.resizeImpl(this.m_pointCount+a),this.verifyAllStreamsAfterSizeChange();const m=t<r?this.getPathStart(t):h;for(let e=0,g=this.m_description.getAttributeCount();e<g;e++){const t=this.m_description.getSemantics(e),n=s.getDescription().getAttributeIndex(t),r=js.getComponentCount(t);if(n>=0&&s.m_vertexAttributes.get(n))0!==u&&this.m_vertexAttributes.get(e).insertRangeFromStream(m*r,s.m_vertexAttributes.get(n),r*o,r,!0,r,r*h),this.m_vertexAttributes.get(e).insertRangeFromStream((m+u)*r,s.m_vertexAttributes.get(n),r*(o+u),r*(a-u),i,r,r*(h+u));else{const s=js.getDefaultValue(t);this.m_vertexAttributes.get(e).insertRange(m*r,s,r*a,r*h)}}const l=h+a;this.m_paths.add(l);for(let e=r;e>=t+1;e--){const t=this.m_paths.read(e-1);this.m_paths.write(e,t+a)}this.m_pathFlags.add(0);for(let e=r-1;e>=t+1;e--){let t=this.m_pathFlags.read(e);t&=-9,this.m_pathFlags.write(e+1,t)}let c=s.getPathFlagsStreamRef().read(n);if(c&=-9,this.m_bPolygon&&(c|=1),this.m_pathFlags.write(t,c),s.hasNonLinearSegments()){this.initSegmentData(0);let t=o,e=0;for(let n=0;n<a;n++){e+=ks(s.m_curveData.m_segmentFlags.read(t)),t++}if(e>0){null===this.m_curveData.m_segmentFlags?(this.m_curveData.m_segmentFlags=(0,_Envelope_js__WEBPACK_IMPORTED_MODULE_1__.z)(this.m_pointCount,1),this.m_curveData.m_segmentParamIndex=(0,_Envelope_js__WEBPACK_IMPORTED_MODULE_1__.y)(this.m_pointCount,-1)):(this.m_curveData.m_segmentFlags.insertRange(m,1,a,h),this.m_curveData.m_segmentParamIndex.insertRange(m,-1,a,h)),this.m_curveData.m_segmentParams?this.m_curveData.m_segmentParams.resize(this.m_curveData.m_curveParamWritePoint+e):this.m_curveData.m_segmentParams=(0,_Envelope_js__WEBPACK_IMPORTED_MODULE_1__.D)(e),t=o;let n=m,i=0;for(let e=0;e<a;e++){const e=s.m_curveData.m_segmentFlags.read(t);if(Hs.isNonLinearSegmentFlag(e)){this.m_curveData.m_segmentFlags.write(n,e),this.m_curveData.m_segmentParamIndex.write(n,this.m_curveData.m_curveParamWritePoint);const r=ks(e);let o=s.m_curveData.m_segmentParamIndex.read(t);for(let t=0;t<r;t++){const t=s.m_curveData.m_segmentParams.read(o);this.m_curveData.m_segmentParams.write(this.m_curveData.m_curveParamWritePoint,t),this.m_curveData.m_curveParamWritePoint++,o++}i++,this.incCurveType(e,1)}t++,n++}this.modifyCurveCounter(i)}}return this.notifyModifiedFlags(2001),t}insertPath2D(t,s,n,i,r){const o=this.getPathCount();(t>o||n<0)&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.a)(""),t<0&&(t=o),this.m_bPathStarted=!1;const a=this.m_pointCount;this.resizeImpl(this.m_pointCount+i),0===i&&this.notifyModifiedFlags(32),this.verifyAllStreamsAfterSizeChange();const h=t<o?this.getPathStart(t):a;if(s)this.m_vertexAttributes.get(0).insertRangeFromPoints(2*h,s,n,i,r,2*a);else{const t=js.getDefaultValue(0);this.m_vertexAttributes.get(0).insertRange(2*h,t,2*i,2*a)}for(let e=1,u=this.m_description.getAttributeCount();e<u;e++){const t=this.m_description.getSemantics(e),s=js.getComponentCount(t),n=js.getDefaultValue(t);this.m_vertexAttributes.get(e).insertRange(h*s,n,s*i,s*a)}this.m_paths.add(this.m_pointCount);for(let e=o;e>=t+1;e--){const t=this.m_paths.read(e-1);this.m_paths.write(e,t+i)}this.m_pathFlags.add(0);for(let e=o-1;e>=t+1;e--){let t=this.m_pathFlags.read(e);t&=-9,this.m_pathFlags.write(e+1,t)}return this.m_bPolygon&&this.m_pathFlags.write(t,1),this.hasNonLinearSegments()&&(this.m_curveData.m_segmentFlags.insertRange(h,1,i,a),this.m_curveData.m_segmentParamIndex.insertRange(h,-1,i,a)),this.notifyModifiedFlags(2001),t}insertPathFromMultipoint(t,s,n,i,r){const o=s.getImpl(),a=this.getPathCount();(t>a||n<0)&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.a)("");const h=i<0?o.getPointCount()-n:i;if(h>o.getPointCount()&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.a)(""),n>=o.getPointCount()&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.a)("pointsOffset"),t<0&&(t=a),this.m_bPathStarted=!1,this.mergeVertexDescription(o.getDescription()),0===h)return void this.insertPath2D(t,null,0,0,!0);const u=this.m_pointCount,m=n;this.resizeImpl(this.m_pointCount+h),this.verifyAllStreamsAfterSizeChange();const l=t<a?this.getPathStart(t):u;for(let e=0,d=this.m_description.getAttributeCount();e<d;e++){const t=this.m_description.getSemantics(e),s=o.getDescription().getAttributeIndex(t),n=js.getComponentCount(t);if(s>=0){const s=o.getAttributeStreamRef(t);this.m_vertexAttributes.get(e).insertRangeFromStream(l*n,s,n*m,n*h,r,n,n*u)}else{const s=js.getDefaultValue(t);this.m_vertexAttributes.get(e).insertRange(l*n,s,n*h,n*u)}}const c=u+h;this.m_paths.add(c);for(let e=a;e>=t+1;e--){const t=this.m_paths.read(e-1);this.m_paths.write(e,t+h)}this.m_pathFlags.add(0);for(let e=a-1;e>=t+1;e--){let t=this.m_pathFlags.read(e);t&=-9,this.m_pathFlags.write(e+1,t)}let g=0;this.m_bPolygon&&(g|=1),this.m_pathFlags.write(t,g),this.notifyModifiedFlags(2001)}insertPoints(t,s,i,r,o,a,h){if(this===i&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.a)("Multi_path_impl.insert_points"),t<0&&(t=this.getPathCount()),r<0&&(r=i.getPathCount()-1),(t>this.getPathCount()||s>=0&&s>this.getPathSize(t)||r>=i.getPathCount()||a>i.getPathSize(r))&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.q)(""),!a)return;if(this.mergeVertexDescription(i.m_description),t===this.getPathCount()){this.m_paths.add(this.m_pointCount);let t=i.m_pathFlags.read(r);t&=-9,this.m_bPolygon?this.m_pathFlags.add(1|t):this.m_pathFlags.add(t)}s<0&&(s=this.getPathSize(t));const u=this.m_pointCount;this.resizeImpl(this.m_pointCount+a),this.verifyAllStreamsAfterSizeChange();const m=this.getPathStart(t),l=m+s;a<0&&(a=i.getPathSize(r));const c=i.getPathStart(r),g=c+a;for(let e=0,n=this.m_description.getAttributeCount();e<n;e++){const t=this.m_description.getSemantics(e),n=js.getComponentCount(t),r=i.m_description.getAttributeIndex(t);if(r<0||!i.m_vertexAttributes.get(r)){const s=js.getDefaultValue(t);this.m_vertexAttributes.get(e).insertRange(n*l,s,g*n,n*u)}else this.m_vertexAttributes.get(e)?.insertRangeFromStream(n*(m+s),i.m_vertexAttributes.get(r),n*(c+o),a*n,h,n,n*u)}this.hasNonLinearSegments()&&(this.m_curveData.m_segmentFlags.insertRange(m+s,1,a,u),this.m_curveData.m_segmentParamIndex.insertRange(m+s,-1,a,u),s>0&&this.isNonLinearSegment(m+s-1)&&(this.incCurveType(this.m_curveData.m_segmentFlags.read(m+s-1),-1),this.m_curveData.m_segmentFlags.write(m+s-1,1),this.m_curveData.m_segmentParamIndex.write(m+s-1,-1),this.modifyCurveCounter(-1)));for(let e=t+1,n=this.getPathCount();e<=n;e++){const t=this.m_paths.read(e);this.m_paths.write(e,t+a)}this.notifyModifiedFlags(2001)}insertPointsFromPoints(t,e,s,i,r,o){if(t<0&&(t=this.getPathCount()),(t>this.getPathCount()||e>this.getPathSize(t)||i<0)&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.q)(""),!r)return;t===this.getPathCount()&&(this.m_paths.add(this.m_pointCount),this.m_bPolygon?this.m_pathFlags.add(1):this.m_pathFlags.add(0)),e<0&&(e=this.getPathSize(t));const a=this.m_pointCount;this.resizeImpl(this.m_pointCount+r),this.verifyAllStreamsAfterSizeChange();const h=this.getPathStart(t);this.m_vertexAttributes.get(0).insertRangeFromPoints(2*(h+e),s,i,r,o,2*a);for(let n=1,u=this.m_description.getAttributeCount();n<u;n++){const t=this.m_description.getSemantics(n),s=js.getComponentCount(t),i=js.getDefaultValue(t);this.m_vertexAttributes.get(n).insertRange((h+e)*s,i,s*r,s*a)}this.hasNonLinearSegments()&&(this.m_curveData.m_segmentFlags.insertRange(h+e,1,r,a),this.m_curveData.m_segmentParamIndex.insertRange(h+e,-1,r,a),e>0&&this.isNonLinearSegment(h+e-1)&&(this.incCurveType(this.m_curveData.m_segmentFlags.read(h+e-1),-1),this.m_curveData.m_segmentFlags.write(h+e-1,1),this.m_curveData.m_segmentParamIndex.write(h+e-1,-1),this.modifyCurveCounter(-1)));for(let n=t+1,u=this.getPathCount();n<=u;n++)this.m_paths.write(n,this.m_paths.read(n)+r);this.notifyModifiedFlags(2001)}insertPointsFromMultipoint(t,e,s,i,r,o){const a=s.getImpl(),h=this.getPathCount();t<0&&(t=this.getPathCount());const u=a.getPointCount();if((i<0||i>u)&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.q)(""),(r<0||i+r>u)&&(r=u-i),e<0&&(e=t<h?this.getPathSize(t):0),(t>h||t<h&&e>this.getPathSize(t)||t===h&&e>0||r<0)&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.q)(""),!r)return;if(this.mergeVertexDescription(a.getDescription()),t===h){this.m_paths.add(this.m_pointCount);const t=0;this.m_bPolygon?this.m_pathFlags.add(1|t):this.m_pathFlags.add(t)}e<0&&(e=this.getPathSize(t));const m=this.m_pointCount;this.resizeImpl(this.m_pointCount+r),this.verifyAllStreamsAfterSizeChange();const l=this.getPathStart(t),c=l+e,g=0,d=g+r;for(let n=0,_=this.m_description.getAttributeCount();n<_;n++){const t=this.m_description.getSemantics(n),s=js.getComponentCount(t);if(a.getDescription().getAttributeIndex(t)<0){const e=js.getDefaultValue(t);this.m_vertexAttributes.get(n).insertRange(s*c,e,d*s,s*m);continue}const h=a.getAttributeStreamRef(t);this.m_vertexAttributes.get(n).insertRangeFromStream(s*(l+e),h,s*(g+i),r*s,o,s,s*m)}this.hasNonLinearSegments()&&(this.m_curveData.m_segmentFlags.insertRange(l+e,1,r,m),this.m_curveData.m_segmentParamIndex.insertRange(l+e,-1,r,m),e>0&&this.isNonLinearSegment(l+e-1)&&(this.incCurveType(this.m_curveData.m_segmentFlags.read(l+e-1),-1),this.m_curveData.m_segmentFlags.write(l+e-1,1),this.m_curveData.m_segmentParamIndex.write(l+e-1,-1),this.modifyCurveCounter(-1)));for(let n=t+1,_=this.getPathCount();n<=_;n++){const t=this.m_paths.read(n);this.m_paths.write(n,t+r)}this.notifyModifiedFlags(2001)}insertPoint2D(t,e,s){const i=this.getPathCount();t<0&&(t=i),(t>i||t<i&&e>this.getPathSize(t))&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.q)(""),t===i&&this.addPathPoint2D(null,0,!0);const r=this.m_pointCount;this.resizeImpl(this.m_pointCount+1),this.verifyAllStreamsAfterSizeChange();const o=this.getPathStart(t),a=e<0?this.getPathSize(t)+o:e+o,h=this.m_vertexAttributes.get(0);if(a===r)this.m_paths.write(t+1,r+1),h.writePoint2D(2*a,s);else{h.insert(2*a,s,2*r);for(let t=1,e=this.m_description.getAttributeCount();t<e;t++){const e=this.m_description.getSemantics(t),s=js.getComponentCount(e),n=js.getDefaultValue(e);this.m_vertexAttributes.get(t).insertRange(s*a,n,s,s*r)}this.m_curveData&&this.m_curveData.m_segmentFlags&&(this.m_curveData.m_segmentFlags.insertRange(a,1,1,r),this.m_curveData.m_segmentParamIndex.insertRange(a,-1,1,r));for(let e=t+1,s=i;e<=s;e++)this.m_paths.write(e,this.m_paths.read(e)+1)}this.m_curveData&&this.m_curveData.m_segmentFlags&&a>o&&this.isNonLinearSegment(a-1)&&(this.incCurveType(this.m_curveData.m_segmentFlags.read(a-1),-1),this.modifyCurveCounter(-1),this.m_curveData.m_segmentFlags.write(a-1,1),this.m_curveData.m_segmentParamIndex.write(a-1,-1)),this.notifyModifiedFlags(2001)}insertPoint(t,e,s){const i=this.getPathCount();t<0&&(t=i),(t>i||t<i&&e>this.getPathSize(t))&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.q)(""),t===i&&this.addPathPoint2D(null,0,!0);const r=this.m_pointCount;this.resizeImpl(this.m_pointCount+1),this.verifyAllStreamsAfterSizeChange();const o=this.getPathStart(t),a=e<0?this.getPathSize(t)+o:e+o;if(a===r)this.m_paths.write(t+1,r+1),this.setPointByValNoCurves(a,s);else{const e=s.getDescription();this.m_description!==e&&this.mergeVertexDescription(e);for(let t=0,n=this.m_description.getAttributeCount();t<n;t++){const n=this.m_description.getSemantics(t),i=js.getComponentCount(n);if(e.hasAttribute(n))this.m_vertexAttributes.get(t).insertAttributes(i*a,s,n,i*r);else{const e=js.getDefaultValue(n);this.m_vertexAttributes.get(t).insertRange(i*a,e,i,i*r)}}this.m_curveData&&this.m_curveData.m_segmentFlags&&(this.m_curveData.m_segmentFlags.insertRange(a,1,1,r),this.m_curveData.m_segmentParamIndex.insertRange(a,-1,1,r));for(let s=t+1,n=i;s<=n;s++)this.m_paths.write(s,this.m_paths.read(s)+1)}this.m_curveData&&this.m_curveData.m_segmentFlags&&a>o&&this.isNonLinearSegment(a-1)&&(this.incCurveType(this.m_curveData.m_segmentFlags.read(a-1),-1),this.modifyCurveCounter(-1),this.m_curveData.m_segmentFlags.write(a-1,1),this.m_curveData.m_segmentParamIndex.write(a-1,-1)),this.notifyModifiedFlags(2001)}removePointFromPath(t,e){const s=this.getPathCount();t<0&&(t=s-1),(t>=s||e>=this.getPathSize(t))&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.q)("Multi_path.remove_point");const i=this.getPathStart(t),r=this.isClosedPath(t);e<0&&(e=this.getPathSize(t)-1),e<0&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.q)("Multi_path.remove_point");const o=i+e;for(let n=0,a=this.m_description.getAttributeCount();n<a;n++)if(this.m_vertexAttributes.get(n)){const t=this.m_description.getSemantics(n),e=js.getComponentCount(t);this.m_vertexAttributes.get(n).eraseRange(e*o,e,e*this.m_pointCount)}if(this.m_curveData&&this.m_curveData.m_segmentFlags){this.checkCompactSegmentParams();let e=0;if(o>i&&this.isNonLinearSegment(o-1))e+=1,this.incCurveType(this.m_curveData.m_segmentFlags.read(o-1),-1),this.m_curveData.m_segmentFlags.write(o-1,1),this.m_curveData.m_segmentParamIndex.write(o-1,-1);else{const s=this.getPathEnd(t);r&&i+1<s&&this.isNonLinearSegment(s-1)&&(this.incCurveType(this.m_curveData.m_segmentFlags.read(s-1),-1),this.m_curveData.m_segmentFlags.write(s-1,1),this.m_curveData.m_segmentParamIndex.write(s-1,-1),e+=1)}this.isNonLinearSegment(o)&&(this.incCurveType(this.m_curveData.m_segmentFlags.read(o),-1),e+=1),e>0&&this.modifyCurveCounter(-e),this.m_curveData.m_segmentFlags.eraseRange(o,1,this.m_pointCount),this.m_curveData.m_segmentParamIndex.eraseRange(o,1,this.m_pointCount)}for(let n=s;n>=t+1;n--){const t=this.m_paths.read(n);this.m_paths.write(n,t-1)}this.m_pointCount--,this.m_reservedPointCount--,this.notifyModifiedFlags(2001)}removePoint(t){let e;e=t<0?this.getPathCount()-1:this.getPathIndexFromPointIndex(t),this.removePointFromPath(e,t-this.getPathStart(e))}getNextSegmentType(t){return this.hasNonLinearSegments()?this.m_curveData.m_segmentFlags.read(t):1}getPrevSegmentTypeFromPath(t,e){if(!this.hasNonLinearSegments())return 1;const s=this.getPathStart(t);if(e>s)return this.m_curveData.m_segmentFlags.read(e-1);if(e===s){if(this.isClosedPath(t)){const e=this.getPathEnd(t);return this.m_curveData.m_segmentFlags.read(e-1)}return 1}(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.d)("")}getNumberOfCurves(t){if(!this.hasNonLinearSegments())return 0;let e=0;for(let s=this.getPathStart(t),n=this.getPathEnd(t);s<n;s++)Hs.isNonLinearSegmentFlag(this.m_curveData.m_segmentFlags.read(s))&&++e;return e}getPathCount(){return this.m_paths?this.m_paths.size()-1:0}getPathSize(t){return this.m_paths.read(t+1)-this.m_paths.read(t)}getPathStart(t){return this.m_paths.read(t)}getPathEnd(t){return this.m_paths.read(t+1)}getPathIndexFromPointIndex(t,e=-1){-1===e&&(e=this.m_currentPathIndex);const s=this.getPathCount(),n=Hs.getPathIndexFromPointIndexImpl(this.m_paths,s,t,e);return this.m_currentPathIndex=n,n}startPathCoords(t,e){this.startPathPoint(new _Envelope_js__WEBPACK_IMPORTED_MODULE_1__.P({x:t,y:e}))}startPath(t){this.startPathPoint(new _Envelope_js__WEBPACK_IMPORTED_MODULE_1__.P({pt:t}))}startPath3D(t){this.startPathPoint(new _Envelope_js__WEBPACK_IMPORTED_MODULE_1__.P({x:t.x,y:t.y,z:t.z}))}startPath3DCoords(t,e,s){this.startPathPoint(new _Envelope_js__WEBPACK_IMPORTED_MODULE_1__.P({x:t,y:e,z:s}))}startPathPoint(t){t.isEmpty()&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.a)("");const s=t.getDescription();let n;if(this.m_description!==s){this.mergeVertexDescription(s);const e=new _Envelope_js__WEBPACK_IMPORTED_MODULE_1__.P({vd:this.m_description});t.copyCommonAttributesTo(e),n=e}else n=t;this.m_bPathStarted?this.setPointByValNoCurves(this.m_pointCount-1,n):(this.insertPoint(-1,-1,n),this.m_bPathStarted=!0)}beforeNewSegmentHelper2(){this.m_paths=(0,_Envelope_js__WEBPACK_IMPORTED_MODULE_1__.y)(2),this.m_paths.write(0,0),this.m_pathFlags=(0,_Envelope_js__WEBPACK_IMPORTED_MODULE_1__.z)(2,0),this.m_bPolygon&&this.m_pathFlags.write(0,1)}beforeNewSegmentHelper1(){null!==this.m_paths?(this.m_paths.add(0),this.m_pathFlags.add(0),this.m_bPolygon&&this.m_pathFlags.write(this.m_pathFlags.size()-2,1)):this.beforeNewSegmentHelper2()}beforeNewSegment(t){0!==this.m_pointCount||this.m_bPathStarted||this.startPathCoords(0,0);const e=this.m_pointCount,s=this.m_paths.size()-1,n=e+t;this.m_paths.write(s,n),this.resizeImpl(n),this.m_bPathStarted&&(this.m_bPathStarted=!1)}finishLineTo(){if(this.hasNonLinearSegments()){const t=this.m_curveData.m_segmentFlags.read(this.m_pointCount-1);1!==t&&(this.m_curveData.m_segmentFlags.write(this.m_pointCount-1,1),this.m_curveData.m_segmentParamIndex.write(this.m_pointCount-1,-1),this.modifyCurveCounter(-1),this.incCurveType(t,-1))}}lineToCoords(t,e){if(this.beforeNewSegment(1),1===this.m_description.getAttributeCount())this.setXYCoordsNoCurves(this.m_pointCount-1,t,e);else{const s=(0,_Envelope_js__WEBPACK_IMPORTED_MODULE_1__.o)(),n=new _Envelope_js__WEBPACK_IMPORTED_MODULE_1__.P({vd:this.m_description,attribBuffer:s,initDefaultValues:!0});n.setXYCoords(t,e),this.setPointByValNoCurves(this.m_pointCount-1,n)}this.finishLineTo()}lineTo(t){this.lineToCoords(t.x,t.y)}lineTo3D(t){this.beforeNewSegment(1);const e=(0,_Envelope_js__WEBPACK_IMPORTED_MODULE_1__.l)(this.m_description,(0,_Envelope_js__WEBPACK_IMPORTED_MODULE_1__.w)()),s=(0,_Envelope_js__WEBPACK_IMPORTED_MODULE_1__.o)(),n=new _Envelope_js__WEBPACK_IMPORTED_MODULE_1__.P({vd:e,attribBuffer:s,initDefaultValues:!0});n.setXYZ(t),this.setPointByValNoCurves(this.m_pointCount-1,n),this.finishLineTo()}lineTo3DCoords(t,e,s){this.lineTo3D(new _Envelope_js__WEBPACK_IMPORTED_MODULE_1__.d(t,e,s))}lineToPoint(t){if(this.beforeNewSegment(1),this.m_description===t.getDescription())this.setPointByValNoCurves(this.m_pointCount-1,t);else{this.mergeVertexDescription(t.getDescription());const e=(0,_Envelope_js__WEBPACK_IMPORTED_MODULE_1__.o)(),s=new _Envelope_js__WEBPACK_IMPORTED_MODULE_1__.P({vd:this.m_description,attribBuffer:e,initDefaultValues:!1});t.copyCommonAttributesTo(s),this.setPointByValNoCurves(this.m_pointCount-1,s)}this.finishLineTo()}openPathAndDuplicateStartVertex(t){this.m_bPolygon&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.d)("");const s=this.getPathCount();if(t>s&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.a)(""),!this.isClosedPath(t))return;this.m_pathFlags||(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.d)("");const n=this.m_pointCount,i=this.getPathStart(t),r=this.getPathEnd(t);if(r-i!==0){this.resizeImpl(this.m_pointCount+1),this.verifyAllStreamsAfterSizeChange();for(let t=0,e=this.m_description.getAttributeCount();t<e;t++)if(this.m_vertexAttributes.get(t)){const e=this.m_description.getSemantics(t),s=js.getComponentCount(e);this.m_vertexAttributes.get(t).insertRangeFromStream(s*r,this.m_vertexAttributes.get(t),s*i,s,!0,1,s*n)}for(let e=s;e>t;e--){const t=this.m_paths.read(e);this.m_paths.write(e,t+1)}this.hasNonLinearSegments()&&(this.m_curveData.m_segmentFlags.insertRange(r,1,1,n),this.m_curveData.m_segmentParamIndex.insertRange(r,-1,1,n)),this.m_pathFlags.clearBits(t,1)}}openPath(t){this.m_bPolygon&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.d)(""),t>this.getPathCount()&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.a)(""),this.m_pathFlags||(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.d)(""),this.m_pathFlags.clearBits(t,1)}isStrongPathStart(t){return!!(2&this.m_pathFlags.read(t))}setStrongPathStart(t,e){e?this.m_pathFlags.setBits(t,2):this.m_pathFlags.clearBits(t,2)}isStrongPathEnd(t){return!!(4&this.m_pathFlags.read(t))}setStrongPathEnd(t,e){e?this.m_pathFlags.setBits(t,4):this.m_pathFlags.clearBits(t,4)}clearStrongPathEnds(){for(let t=0,e=this.getPathCount();t<e;++t)this.m_pathFlags.clearBits(t,6)}openAllPathsAndDuplicateStartVertex(){if(this.m_bPolygon&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.d)(""),this.isEmpty())return;this.m_pathFlags||(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.d)("");let t=0;const e=this.getPathCount();for(let h=0;h<e;h++)this.isClosedPath(h)&&(this.getPathSize(h)>0?t++:this.m_pathFlags.clearBits(h,1));if(0===t)return;const s=this.hasNonLinearSegments();let n=0;const i=this.getPathCount(),r=this.m_description.getAttributeCount(),o=new Array(r);let a=null,u=null;for(let h=0;h<i;++h){const e=this.getPathStart(h),i=this.getPathSize(h),m=this.isClosedPath(h);if(i>0){const h=e+n;for(let s=0;s<r;s++)if(this.m_vertexAttributes.get(s)){const n=this.m_description.getSemantics(s),r=js.getComponentCount(n);if(!o[s]){const e=r*(this.m_pointCount+t),i=(0,_Envelope_js__WEBPACK_IMPORTED_MODULE_1__.u)(n,e);o[s]=i}o[s].writeRange(h*r,i*r,this.m_vertexAttributes.get(s),e*r,!0,1),m&&o[s].writeRange((h+i)*r,r,this.m_vertexAttributes.get(s),e*r,!0,1)}if(s){if(null===a){const e=this.m_pointCount+t;a=(0,_Envelope_js__WEBPACK_IMPORTED_MODULE_1__.z)(e),u=(0,_Envelope_js__WEBPACK_IMPORTED_MODULE_1__.y)(e)}a.writeRange(h,i,this.m_curveData.m_segmentFlags,e,!0,1),u.writeRange(h,i,this.m_curveData.m_segmentParamIndex,e,!0,1),m&&(a.write(h+i,1),u.write(h+i,-1))}}this.m_paths.write(h,e+n),m&&(this.m_pathFlags.clearBits(h,1),++n)}this.m_paths.write(i,this.m_pointCount+t),this.m_pathFlags.clearBits(i,1);for(let h=0;h<r;h++)this.m_vertexAttributes.get(h)&&this.m_vertexAttributes.set(h,o[h]);s&&(this.m_curveData.m_segmentFlags=a,this.m_curveData.m_segmentParamIndex=u),this.m_pointCount+=t,this.m_reservedPointCount>0&&(this.m_reservedPointCount=this.m_pointCount)}closePathWithLine(t){void 0===t&&(t=this.getPathCount()-1),this.throwIfEmpty(),(t<0||t>=this.getPathCount())&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.a)("close_path_with_line"),t===this.getPathCount()-1&&(this.m_bPathStarted=!1);const s=this.m_pathFlags.read(t);if(1&s||this.m_pathFlags.write(t,1|s),this.m_curveData&&this.m_curveData.m_segmentFlags){const e=this.getPathEnd(t)-1,s=this.m_curveData.m_segmentFlags.read(e);1!==s&&(this.m_curveData.m_segmentFlags.write(e,1),this.m_curveData.m_segmentParamIndex.write(e,-1),this.incCurveType(s,-1),this.modifyCurveCounter(-1))}this.notifyModifiedFlags(2001)}closeLastPathWithSegment(t){this.closePathWithSegment(this.getPathCount()-1,t)}closePathWithSegment(t,s){if(this.throwIfEmpty(),(t<0||t>=this.getPathCount())&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.a)("close_path_with_line"),s.getEndXY().equals(this.getXY(this.getPathStart(t)))||(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.a)("close_path_with_segment: end point mismatch"),t===this.getPathCount()-1)this.m_bPathStarted=!1,this.addSegment(s,!1),--this.m_pointCount,this.m_paths.write(t+1,this.m_pointCount);else{this.mergeVertexDescription(s.getDescription());const n=s.getStartXY(),r=this.getPathEnd(t)-1;n.equals(this.getXY(r))||(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.a)("close_path_with_segment: start point mismatch");const o=s.getGeometryType();if(o===_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.G.enumLine)return void this.closePathWithLine(t);{const t=Bs(s);this.initSegmentData(t);const e=Zs.toSegType(o),n=this.m_curveData.m_segmentFlags.read(r);if(n!==e)this.m_curveData.m_segmentParamIndex.write(r,this.m_curveData.m_curveParamWritePoint),s.writeInBufferStream(this.m_curveData.m_segmentParams,this.m_curveData.m_curveParamWritePoint),this.m_curveData.m_curveParamWritePoint+=t,this.incCurveType(e,1),1!==n?this.incCurveType(n,-1):this.modifyCurveCounter(1);else{const t=this.m_curveData.m_segmentParamIndex.read(r);s.writeInBufferStream(this.m_curveData.m_segmentParams,t)}this.m_curveData.m_segmentFlags.write(r,e)}}const n=this.m_pathFlags.read(t);1&n||this.m_pathFlags.write(t,1|n),this.notifyModifiedFlags(2001)}closeAllPaths(){if(this.m_bPolygon||this.isEmptyImpl())return;this.m_bPathStarted=!1;let t=!1;for(let e=0,s=this.m_paths.size()-1;e<s;e++){if(this.isClosedPath(e))continue;const s=this.m_pathFlags.read(e);this.m_pathFlags.write(e,1|s),t=!0}t&&this.notifyModifiedFlags(512)}isClosedPath(t){return!!(1&this.m_pathFlags.read(t))}isClosedPathInXYPlane(t){if(this.isClosedPath(t))return!0;const e=this.getPathStart(t),s=this.getPathEnd(t)-1;if(e>s)return!1;const n=this.getXY(e),i=this.getXY(s);return n.isEqualPoint2D(i)}isClosedPathIn3D(t){return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(0),!1}hasNonLinearSegmentsPath(t){if(!this.hasNonLinearSegments())return!1;for(let e=this.getPathStart(t),s=this.getPathEnd(t);e<s;e++)if(Hs.isNonLinearSegmentFlag(this.m_curveData.m_segmentFlags.read(e)))return!0;return!1}isNonLinearSegment(t){return!(1&this.getSegmentFlags(t))}addEnvelope(t,e){if(t.isEmpty())return;const s=0===this.m_pointCount;if(t instanceof _Envelope2D_js__WEBPACK_IMPORTED_MODULE_3__.Envelope2D)this.startPathCoords(t.xmin,t.ymin),e?(this.lineToCoords(t.xmax,t.ymin),this.lineToCoords(t.xmax,t.ymax),this.lineToCoords(t.xmin,t.ymax)):(this.lineToCoords(t.xmin,t.ymax),this.lineToCoords(t.xmax,t.ymax),this.lineToCoords(t.xmax,t.ymin));else{const s=t.getDescription(),n=(0,_Envelope_js__WEBPACK_IMPORTED_MODULE_1__.o)(),i=new _Envelope_js__WEBPACK_IMPORTED_MODULE_1__.P({vd:s,attribBuffer:n,initDefaultValues:!1});for(let r=0,o=4;r<o;r++){const s=e?o-r-1:r;t.queryCornerByVal(s,i),0===r?this.startPathPoint(i):this.lineToPoint(i)}}this.closePathWithLine(),this.m_bPathStarted=!1,s&&!e&&(this.setDirtyFlagProtected(256,!1),this.m_bPolygon&&Math.min(t.width(),t.height())>0&&this.setIsSimple(3,0))}addPathFromClosedSegment(t,s){if(t.isClosed()||(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.a)("add_path_from_closedSegment: segment must be closed"),s){const e=t.getReversed(),s=new _Envelope_js__WEBPACK_IMPORTED_MODULE_1__.P;e.queryStart(s),this.startPathPoint(s),this.closeLastPathWithSegment(e)}else{const e=new _Envelope_js__WEBPACK_IMPORTED_MODULE_1__.P;t.queryStart(e),this.startPathPoint(e),this.closeLastPathWithSegment(t)}}addSegment_(t,s){const n=t.getDescription();this.mergeVertexDescription(n);const r=(0,_Envelope_js__WEBPACK_IMPORTED_MODULE_1__.o)(),o=new _Envelope_js__WEBPACK_IMPORTED_MODULE_1__.P({vd:n,attribBuffer:r,initDefaultValues:!1}),a=t.getGeometryType();if(a===_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.G.enumLine)(s||this.isEmptyImpl())&&(t.queryStart(o),this.startPathPoint(o)),t.queryEnd(o),this.lineToPoint(o);else{let n=!1;if((s||this.isEmptyImpl())&&(n=!0),!n){t.getStartXY().equals(this.getXY(this.m_pointCount-1))||(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.a)("add_segment: start point mismatch")}if(n&&(t.queryStart(o),this.startPathPoint(o)),this.beforeNewSegment(1),t.queryEnd(o),o.getDescription()===this.m_description)this.setPointByVal(this.m_pointCount-1,o);else{const t=(0,_Envelope_js__WEBPACK_IMPORTED_MODULE_1__.o)(),e=new _Envelope_js__WEBPACK_IMPORTED_MODULE_1__.P({vd:this.m_description,attribBuffer:t,initDefaultValues:!1});o.copyCommonAttributesTo(e),this.setPointByVal(this.m_pointCount-1,e)}const i=Bs(t);this.initSegmentData(i),this.m_curveData.m_segmentParamIndex.write(this.m_pointCount-2,this.m_curveData.m_curveParamWritePoint),t.writeInBufferStream(this.m_curveData.m_segmentParams,this.m_curveData.m_curveParamWritePoint),this.m_curveData.m_curveParamWritePoint+=i;const r=Zs.toSegType(a);this.incCurveType(r,1),this.modifyCurveCounter(1),this.m_curveData.m_segmentFlags.write(this.m_pointCount-2,r)}}addSegment(t,e,s){s?e?this.addPathFromClosedSegment(t,!1):this.closeLastPathWithSegment(t):this.addSegment_(t,e)}interpolateAttributesRange(t,s,n,i){for(let a=t;a<n-1;a++)this.isClosedPath(a)&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.a)("cannot interpolate across closed paths");const r=this.m_description.getAttributeCount();if(1===r)return;const o=this.calculateSubLength2D(t,s,n,i);if(0!==o)for(let e=1;e<r;e++){const r=this.m_description.getSemantics(e);this.interpolateAttributesSemanticsImpl(r,t,s,n,i,o)}}interpolateAttributesSemantics(t,s,n,i,r){if(0===t)return;this.hasAttribute(t)||(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.a)("does not have the given attribute");2===js.getInterpolation(t)&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.a)("angular interpolation");for(let a=s;a<i-1;a++)this.isClosedPath(a)&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.a)("cannot interpolate across closed paths");const o=this.calculateSubLength2D(s,n,i,r);0!==o&&this.interpolateAttributesSemanticsImpl(t,s,n,i,r,o)}interpolateAttributesPath(t,e,s){const n=this.m_description.getAttributeCount();if(1===n)return;if(e===s)return;const i=this.calculatePathSubLength2D(t,e,s);for(let r=1;r<n;r++){const n=this.m_description.getSemantics(r);this.interpolateAttributesSemanticsPathImpl(n,t,e,s,i)}}interpolateAttributesSemanticsPath(t,s,n,i){if(0===t)return;this.hasAttribute(t)||(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.a)("does not have the given attribute");2===js.getInterpolation(t)&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.a)("angular interpolation");const r=this.calculatePathSubLength2D(s,n,i);0!==r&&this.interpolateAttributesSemanticsPathImpl(t,s,n,i,r)}interpolateAttributesSemanticsImpl(t,e,s,n,i,r){const o=this.querySegmentIterator(),a=this.getPathStart(e)+s,h=this.getPathStart(n)+i,u=js.getComponentCount(t),m=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.d)(js.maxComponentCount(),Number.NaN);this.queryAttributeAsDbl(t,a,m,u);const l=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.d)(js.maxComponentCount(),Number.NaN);this.queryAttributeAsDbl(t,h,l,u);const c=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.d)(js.maxComponentCount(),Number.NaN);(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.b)(c,m,0,0,u);let g=0;const d=js.getDefaultValue(t),_=js.getInterpolation(t);o.resetToVertex(a,e);do{if(o.hasNextSegment()){if(o.nextSegment(),o.getStartPointIndex()===h)return;this.setAttributeFromArray(t,o.getStartPointIndex(),c,u),o.previousSegment();do{const e=o.nextSegment();if(o.getEndPointIndex()===h)return;g+=e.calculateLength2D();(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.A)(_,m,l,c,0,u,g/r,d),o.isClosingSegment()||this.setAttributeFromArray(t,o.getEndPointIndex(),c,u)}while(o.hasNextSegment())}}while(o.nextPath())}interpolateAttributesSemanticsPathImpl(t,e,n,i,r){(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(0!==t);const o=this.querySegmentIterator(),a=js.getInterpolation(t),h=this.getPathStart(e)+n,u=this.getPathStart(e)+i;if(u===h)return;const m=js.getComponentCount(t),l=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.d)(js.maxComponentCount(),Number.NaN);this.queryAttributeAsDbl(t,h,l,m);const c=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.d)(js.maxComponentCount(),Number.NaN);this.queryAttributeAsDbl(t,u,c,m);const g=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.K(0);o.resetToVertex(h,e),o.setCirculator(this.isClosedPath(e));const d=js.getDefaultValue(t),_=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.d)(js.maxComponentCount(),Number.NaN);(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.b)(_,l,0,0,m);const p=0===r;let f=.5;do{const e=o.nextSegment();if(this.setAttributeFromArrayNoCurves(t,o.getStartPointIndex(),_,m),!p){const t=e.calculateLength2D();g.pe(t),f=g.getResult()/r}(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.A)(a,l,c,_,0,m,f,d)}while(o.getEndPointIndex()!==u)}querySegment(t,s,n){const i=this.getPathIndexFromPointIndex(t),r=t-this.getPathStart(i);r>=this.getSegmentCountPath(i)&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.a)("get_segment"),this.getSegmentFromPath(i,r,s,n)}getSegment(t,e){const s=new this.m_segmentBufferCTor;return this.getSegmentBuffer(t,s,e),s.releaseSegment()}getSegmentType(t){const s=this.getPathIndexFromPointIndex(t),n=t-this.getPathStart(s);return n>=this.getSegmentCountPath(s)&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.a)("get_segment"),this.getSegmentTypeFromPath(s,n)}getSegmentFromPath(t,e,s,n){const i=this.getPathStart(t)+e,r=this.getSegmentFlagsStreamRef();let o=1;switch(r&&(o=31&r.read(i)),o){case 1:s.createLine();break;case 2:s.createCubicBezier();break;case 4:s.createEllipticArc();break;case 8:s.createQuadraticRationalBezier();break;case 16:s.createQuadraticBezier();break;default:(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.d)("")}const a=s.get();let u,m=null;n?(m=(0,_Envelope_js__WEBPACK_IMPORTED_MODULE_1__.j)(),a.assignVertexDescription(m)):a.assignVertexDescription(this.m_description),u=i===this.getPathEnd(t)-1&&this.isClosedPath(t)?this.getPathStart(t):i+1;We(a,this.getXY(i));if(Ze(a,this.getXY(u)),!n)for(let h=1,l=this.m_description.getAttributeCount();h<l;h++){const t=this.m_description.getSemantics(h),e=js.getComponentCount(t);for(let s=0;s<e;s++){const e=this.getAttributeAsDbl(t,i,s);a.setStartAttribute(t,s,e);const n=this.getAttributeAsDbl(t,u,s);a.setEndAttribute(t,s,n)}}if(Hs.isNonLinearSegmentFlag(o)){const t=this.m_curveData.m_segmentParamIndex.read(i);a.readFromBufferStream(this.m_curveData.m_segmentParams,t)}}replaceLinearEllipticalArcsWithTrueLines(){if(!this.hasNonLinearSegments())return!1;if(0===this.m_curveData.m_arcCount)return!1;let t=!1;for(let e=0,s=this.getPointCount();e<s;e++){if(4===this.m_curveData.m_segmentFlags.read(e)){const s=this.m_curveData.m_segmentParamIndex.read(e);zs(this.m_curveData.m_segmentParams,s).isNAN()&&(this.m_curveData.m_segmentFlags.write(e,1),this.m_curveData.m_segmentParamIndex.write(e,-1),this.incCurveType(4,-1),this.modifyCurveCounter(-1),t=!0)}}return t&&this.checkCompactSegmentParams(),t}queryPointAlongPath(t,s,n,i=!1){const r={iSegment:-1},o=i?r:{tSegment:0};if(n.setEmpty(),this.isEmpty())return r;if((t<0||t>=this.getPathCount())&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.a)("query_point_along_path"),s<0)return r;const a=this.getPathSize(t);if(0===a)return r;if(1===a)return this.getPointByVal(this.getPathStart(t),n),o.tSegment=0,r.iSegment=this.getPathStart(t),r;const h=this.querySegmentIteratorAtVertex(this.getPathStart(t)),u=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.K(0);for(;h.hasNextSegment();){const t=h.nextSegment(),e=t.calculateLength2D(),i=u.getResult();if(u.add(e),u.getResult()>=s){let a=s-i;a>e&&(a=e);const u=t.lengthToT(a);return t.queryCoord(u,n),o.tSegment=u,r.iSegment=h.getStartPointIndex(),r}}if(this.isClosedPath(t)){const e=this.getPathStart(t);return this.getPointByVal(e,n),o.tSegment=1,r.iSegment=this.getPathEnd(t)-1,r}{const e=this.getPathEnd(t)-1;return this.getPointByVal(e,n),this.getPathSize(t)>1?(o.tSegment=1,r.iSegment=this.getPathEnd(t)-2,r):(o.tSegment=0,r.iSegment=this.getPathStart(t),r)}}queryPointsAlongPath(t,s,n,i,r,o){{let t=0;for(let a=0;a<s;++a)i&&i[a].setEmpty(),r&&(r[a]=-1),o&&(o[a]=0),t>n[a]&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.a)("query_points_along"),t=n[a]}const a=this.getPathSize(t);if(0===s||0===a)return 0;if(1===a){const e=this.getPathStart(t);return i&&this.getPointByVal(e,i[0]),o&&(o[0]=0),r&&(r[0]=e),1}const h=this.getPathStart(t),u=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.K(0),m=this.querySegmentIteratorAtVertex(h);let l=0,c=0,g=n[l];for(;m.hasNextSegment();){const t=m.nextSegment(),e=t.calculateLength2D(),a=u.getResult();for(u.add(e);u.getResult()>=g;){let h=g-a;h>e&&(h=e);const u=t.lengthToT(h);if(i&&t.queryCoord(u,i[c]),o&&(o[c]=u),r&&(r[c]=m.getStartPointIndex()),c++,l++,g=n[l],l===s)return c}}if(this.isClosedPath(t)){const e=this.getPathStart(t),s=0;i&&this.getPointByVal(e,i[c]),o&&(o[c]=s),r&&(r[c]=e),c++}else if(this.getPathSize(t)>1){const e=this.getPathEnd(t)-2,s=1;i&&this.getPointByVal(e+1,i[c]),o&&(o[c]=s),r&&(r[c]=e),c++}return c}queryPointsAlong(t,s,n,i,r){{let o=0;for(let a=0;a<t;++a)n&&n[a].setEmpty(),i&&(i[a]=-1),r&&(r[a]=0),o>s[a]&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.a)("query_points_along"),o=s[a]}if(0===t)return 0;const o=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.K(0),a=this.querySegmentIterator();let h=-1,u=0,m=0,l=s[u];for(;a.nextPath();)for(;a.hasNextSegment();){h=a.getPathIndex();const e=a.nextSegment(),c=e.calculateLength2D(),g=o.getResult();for(o.add(c);o.getResult()>=l;){let o=l-g;o>c&&(o=c);const h=e.lengthToT(o);if(n&&e.queryCoord(h,n[m]),r&&(r[m]=h),i&&(i[m]=a.getStartPointIndex()),m++,u++,l=s[u],u===t)return m}}if(h<0)return 0;if(this.isClosedPath(h)){const t=this.getPathStart(h),e=0;n&&this.getPointByVal(t,n[m]),r&&(r[m]=e),i&&(i[m]=t),m++}else if(this.getPathSize(h)>1){const t=this.getPathEnd(h)-2,e=1;n&&this.getPointByVal(t+1,n[m]),r&&(r[m]=e),i&&(i[m]=t),m++}return m}querySegmentIterator(){return new Fs({parent:this})}querySegmentIteratorAtVertex(t){return new Fs({parent:this,pointIndex:t})}queryPathEnvelope(t,e){this.queryPathEnvelopeImpl(t,e,!0)}queryLoosePathEnvelope(t,e){this.queryPathEnvelopeImpl(t,e,!1)}queryPathEnvelopeImpl(t,n,i){if(n instanceof _Envelope_js__WEBPACK_IMPORTED_MODULE_1__.E&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(0,"not implemented for Envelope"),n instanceof _Envelope_js__WEBPACK_IMPORTED_MODULE_1__.n&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(0,"not implemented for Envelope3D"),(t>=this.getPathCount()||t<0)&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.a)(""),this.isEmpty())return void n.setEmpty();const r=this.getAttributeStreamRef(0),o=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_3__.Envelope2D.constructEmpty();o.setEmpty();for(let e=2*this.getPathStart(t),a=2*this.getPathEnd(t);e<a;){const t=a-e;(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(!(1&t)),o.mergePointsInterleaved(r,e/2,t/2),e+=t}if(n.setCoords({env2D:o}),this.hasNonLinearSegmentsPath(t)){const e=this.querySegmentIterator();if(e.resetToPath(t),e.nextPath())for(;e.hasNextSegment();){const t=e.nextCurve();if(!t)break;{const e=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_3__.Envelope2D.constructEmpty();i?t.queryEnvelope(e):t.queryLooseEnvelope(e),n.mergeEnvelope2D(e)}}else (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(0)}}checkCompactSegmentParams(){if(!this.m_curveData||null===this.m_curveData.m_segmentParams)return!1;if(this.m_curveData.m_segmentParams.size()<=this.m_vertexAttributes.get(0).size())return!1;const t=10,e=ks(4)*this.m_curveData.m_arcCount+ks(2)*this.m_curveData.m_bezierCount+ks(8)*this.m_curveData.m_rbezier2Count+ks(16)*this.m_curveData.m_bezier2Count;return this.m_curveData.m_segmentParams.size()>Math.max(3*e>>1,t)?(this.forceCompactSegmentParams(),!0):(0===this.m_pointCount&&(this.m_curveData.m_curveParamWritePoint=0),!1)}forceCompactSegmentParams(){let t=0;for(let n=0,i=this.getPointCount();n<i;n++){const e=this.m_curveData.m_segmentFlags.read(n);if(Hs.isNonLinearSegmentFlag(e)){t+=ks(e)}}const e=(0,_Envelope_js__WEBPACK_IMPORTED_MODULE_1__.D)(t);let s=0;for(let n=0,i=this.getPointCount();n<i;n++){const t=this.m_curveData.m_segmentFlags.read(n);if(Hs.isNonLinearSegmentFlag(t)){let i=this.m_curveData.m_segmentParamIndex.read(n);this.m_curveData.m_segmentParamIndex.write(n,s);const r=ks(t);for(let t=0;t<r;t++)e.write(s,this.m_curveData.m_segmentParams.read(i)),s++,i++}}this.m_curveData.m_segmentParams=e,this.m_curveData.m_curveParamWritePoint=s}setEmpty(){this.m_curveData&&(this.removeAllCurvesFromGlobalCounter(),this.m_curveData=null),this.m_bPathStarted=!1,this.m_paths=null,this.m_pathFlags=null,this.setEmptyImpl()}applyTransformation(t){this.applyTransformationToPath(t,-1)}applyTransformation3D(t){(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(0)}getImpl(){return this}reserve(t){this.reserveImpl(t),t>0&&!this.m_paths&&(this.m_paths=(0,_Envelope_js__WEBPACK_IMPORTED_MODULE_1__.y)(0),this.m_pathFlags=(0,_Envelope_js__WEBPACK_IMPORTED_MODULE_1__.z)(0),this.m_paths.reserve(2),this.m_pathFlags.reserve(2),this.m_paths.resize(1,0),this.m_pathFlags.resize(1,this.m_bPolygon?1:0))}reserveParts(t,e){this.reserveImpl(t),e>0&&(this.m_paths?(this.m_paths.reserve(e+1),this.m_pathFlags.reserve(e+1)):(this.m_paths=(0,_Envelope_js__WEBPACK_IMPORTED_MODULE_1__.y)(0),this.m_pathFlags=(0,_Envelope_js__WEBPACK_IMPORTED_MODULE_1__.z)(0),this.m_paths.reserve(e+1),this.m_pathFlags.reserve(e+1),this.m_paths.resize(1,0),this.m_pathFlags.resize(1,this.m_bPolygon?1:0)))}clone(){const t=this.createInstance();return this.copyTo(t),t}queryLimitedSegmentIterator(t){return new Us(this,t)}getPathStreamRef(){return this.throwIfEmpty(),this.m_paths}setPathStreamRef(t){this.m_paths=t}getSegmentFlagsStreamRef(){return this.throwIfEmpty(),null!=this.m_curveData?this.m_curveData.m_segmentFlags:null}getPathFlagsStreamRef(){return this.throwIfEmpty(),this.m_pathFlags}setPathFlagsStreamRef(t){this.m_pathFlags=t}getSegmentIndexStreamRef(){return this.throwIfEmpty(),null!==this.m_curveData?this.m_curveData.m_segmentParamIndex:null}getSegmentDataStreamRef(){return this.throwIfEmpty(),null!==this.m_curveData?this.m_curveData.m_segmentParams:null}setSegmentData(t,e,s,n){this.m_curveData||(this.m_curveData=new Zs),this.m_curveData.m_segmentFlags=s,this.m_curveData.m_segmentParams=e,this.m_curveData.m_segmentParamIndex=t,this.m_curveData.m_curveParamWritePoint=n}static getPathIndexFromPointIndexImpl(t,e,s,n){if(n>=0&&n<e){if(s>=t.read(n)){if(s<t.read(n+1))return n;n++}else n--;if(n>=0&&n<e&&s>=t.read(n)&&s<t.read(n+1))return n}if(e<5){for(let n=0;n<e;n++)if(s<t.read(n+1))return n;(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.n)("")}let i=0,r=e-1;for(;r>i;){const e=i+(r-i>>1);if(s<t.read(e))r=e-1;else{if(!(s>=t.read(e+1)))return e;i=e+1}}return i}getHighestPointIndex(t){(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(t>=0&&t<this.getPathCount());const e=this.getAttributeStreamRef(0),n=this.getPathEnd(t),i=this.getPathStart(t);let r=-1;const o=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P;o.y=Number.NEGATIVE_INFINITY,o.x=Number.NEGATIVE_INFINITY;for(let s=i+0;s<n;s++){const t=e.readPoint2D(2*s);-1===o.compare(t)&&(r=s,o.setCoordsPoint2D(t))}return r}applyTransformationToPath(t,s){if(s>=this.getPathCount()&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.a)("apply_transformation"),this.isEmpty())return;if(t.isIdentity())return;const n=this.m_vertexAttributes.get(0);if(!(s<0?this.hasNonLinearSegments():this.hasNonLinearSegmentsPath(s))){let e,i;return s<0?(e=0,i=this.m_pointCount):(e=this.getPathStart(s),i=this.getPathEnd(s)),n.applyTransformation(t,2*e,i-e),void this.notifyModifiedFlags(2001)}const i=new this.m_segmentBufferCTor,r=this.getPathCount();let o=s<0?0:s;do{const e=this.getPathStart(o),r=this.getPathEnd(o),a=this.isClosedPath(o),h=n.readPoint2D(2*e);if(!this.hasNonLinearSegmentsPath(o)){n.applyTransformation(t,2*e,r-e);continue}const u=_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.getNAN();for(let s=e;s<r;++s){if(1!==(31&this.m_curveData.m_segmentFlags.read(s))){const o=a&&s+1===r;o&&n.writePoint2D(2*e,h),this.getSegmentBuffer(s,i,!0),i.get().applyTransformation(t);const u=this.m_curveData.m_segmentParamIndex.read(s);i.get().writeInBufferStream(this.m_curveData.m_segmentParams,u),n.writePoint2D(2*s,i.get().getStartXY()),o&&n.writePoint2D(2*e,i.get().getEndXY());continue}const o=2*s;n.queryPoint2D(o,u),t.transformInPlace(u),n.writePoint2D(o,u)}if(o===s)break}while(++o<r);this.notifyModifiedFlags(2001)}calculateSubLength2D(t,e,s,n){const i=this.getPathStart(t)+e,r=this.getPathStart(s)+n;(r<i||i<0||r>this.getPointCount()-1)&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.p)("");const o=this.querySegmentIterator();let a=0;o.resetToVertex(i,t);do{for(;o.hasNextSegment();){const t=o.nextSegment();if(o.getStartPointIndex()===r)break;a+=t.calculateLength2D()}if(o.getStartPointIndex()===r)break}while(o.nextPath());return a}calculatePathSubLength2D(t,s,n){const i=this.getPathStart(t)+s,r=this.getPathStart(t)+n;(i<0||r>this.getPointCount()-1)&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.p)("");const o=this.querySegmentIterator();if(i>r&&(this.isClosedPath(t)||(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.a)("cannot iterate across an open path"),o.setCirculator(!0)),i===r)return 0;let a=0,h=0;o.resetToVertex(i,t);do{h+=a;a=o.nextSegment().calculateLength2D()}while(o.getStartPointIndex()!==r);return h}calculateEnvelope2D(t){return this.updateXYImpl(t)}updateXYImpl(t){const e=super.updateXYImpl(t);if(this.hasNonLinearSegments()){const s=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_3__.Envelope2D.constructEmpty(),n=this.querySegmentIterator();for(;n.nextPath();)for(;n.hasNextSegment();){const i=n.nextCurve();if(!i)break;t?i.queryEnvelope(s):i.queryLooseEnvelope(s),e.mergeEnvelope2D(s)}}return e}notifyModifiedAllImpl(){null!==this.m_paths&&this.m_paths.size()?this.m_pointCount=this.m_paths.read(this.m_paths.size()-1):this.m_pointCount=0}setDirtyOGCFlags(t){this.setDirtyFlagProtected(16,t)}hasDirtyOGCStartFlags(){return this.hasDirtyFlag(16)}setDirtyRingAreas2D(t){this.setDirtyFlagProtected(1024,t)}hasDirtyRingAreas2D(){return this.hasDirtyFlag(1024)}static isNonLinearSegmentFlag(t){return!(1&t)}addAndExplicitlyOpenAllPaths(t,s){this===t&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.a)("Multi_path_impl::add");let n=this.getPathCount();for(let e=0,i=t.getPathCount();e<i;e++)this.addPath(t,e,!s),this.openPathAndDuplicateStartVertex(n),n++}getSegmentFlags(t){return null!==this.m_curveData&&null!==this.m_curveData.m_segmentFlags?this.m_curveData.m_segmentFlags.read(t):1}getSegmentBuffer(t,s,n){const i=this.getPathIndexFromPointIndex(t),r=t-this.getPathStart(i);r>=this.getSegmentCountPath(i)&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.a)("getSegmentBuffer"),this.getSegmentFromPath(i,r,s,n)}getSegmentTypeFromPath(t,e){const s=this.getPathStart(t)+e,n=this.getSegmentFlagsStreamRef();let r=1;switch(n&&(r=31&n.read(s)),r){case 1:return _Geometry_js__WEBPACK_IMPORTED_MODULE_0__.G.enumLine;case 2:return _Geometry_js__WEBPACK_IMPORTED_MODULE_0__.G.enumBezier;case 4:return _Geometry_js__WEBPACK_IMPORTED_MODULE_0__.G.enumEllipticArc;case 8:return _Geometry_js__WEBPACK_IMPORTED_MODULE_0__.G.enumRationalBezier2;case 16:return _Geometry_js__WEBPACK_IMPORTED_MODULE_0__.G.enumBezier2;default:(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.d)("")}}ensureXYMonotoneSegments(){if(!this.m_curveData)return!1;let t=!1;for(let e=0,s=this.getPathCount();e<s;e++){const s=this.getPathStart(e),n=this.getPathEnd(e),i=n-s;for(let e=s;e<n;e++){const n=31&this.m_curveData.m_segmentFlags.read(e);if(1===n)continue;2!==n&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.t)("ensure_xy_monotone_segments");const r=(e-s+1)%i+s,o=this.m_curveData.m_segmentParamIndex.read(e),h=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P,4);h[0]=this.getXY(e),h[3]=this.getXY(r),h[1].x=this.m_curveData.m_segmentParams.read(o),h[1].y=this.m_curveData.m_segmentParams.read(o+1),h[2].x=this.m_curveData.m_segmentParams.read(o+2),h[2].y=this.m_curveData.m_segmentParams.read(o+3),Fe(h)&&(t=!0,this.m_curveData.m_segmentParams.write(o,h[1].x),this.m_curveData.m_segmentParams.write(o+1,h[1].y),this.m_curveData.m_segmentParams.write(o+2,h[2].x),this.m_curveData.m_segmentParams.write(o+3,h[2].y))}}return t&&this.notifyModifiedFlags(2001),t}buildRasterizedGeometryAccelerator(t,e){return!1}buildQuadTreeAccelerator(t){if(this.m_accelerators||(this.m_accelerators=new Vs),null!==this.m_accelerators.getQuadTree())return!0;this.ensureUniqueAccelerators(),this.m_accelerators.setQuadTree(null);const e=(0,_Envelope_js__WEBPACK_IMPORTED_MODULE_1__.F)(this);return this.m_accelerators.setQuadTree(e),!0}buildQuadTreeForPathsAccelerator(t){if(this.m_accelerators||(this.m_accelerators=new Vs),null!==this.m_accelerators.getQuadTreeForPaths())return!0;this.ensureUniqueAccelerators(),this.m_accelerators.setQuadTreeForPaths(null);const e=(0,_Envelope_js__WEBPACK_IMPORTED_MODULE_1__.G)(this);return this.m_accelerators.setQuadTreeForPaths(e),!0}updateCurveCounter(t){this.modifyCurveCounter(t-this.getCurveCount())}removeAllCurvesFromGlobalCounter(){this.m_curveData&&(Hs.st_totalCurveCount-=this.m_curveData.m_curveCount,this.m_curveData.m_curveCount=0,this.m_curveData.m_bezierCount=0,this.m_curveData.m_arcCount=0,this.m_curveData.m_bezier2Count=0,this.m_curveData.m_rbezier2Count=0,this.m_curveData.m_curveParamWritePoint=0)}modifyCurveCounter(t){t&&(this.m_curveData||(this.m_curveData=new Zs),Hs.st_totalCurveCount+=t,this.m_curveData.m_curveCount+=t)}getCurveCount(){return this.m_curveData?this.m_curveData.m_curveCount:0}incCurveType(t,e){this.m_curveData||(this.m_curveData=new Zs),2&t?this.m_curveData.m_bezierCount+=e:4&t?this.m_curveData.m_arcCount+=e:8&t?this.m_curveData.m_rbezier2Count+=e:16&t&&(this.m_curveData.m_bezier2Count+=e)}getCurveWritePoint(){return null!==this.m_curveData?this.m_curveData.m_curveParamWritePoint:0}initSegmentData(t){null===this.m_curveData&&(this.m_curveData=new Zs);const e=this.m_reservedPointCount>0?this.m_reservedPointCount:this.m_pointCount;null===this.m_curveData.m_segmentParamIndex&&(this.m_curveData.m_segmentFlags=(0,_Envelope_js__WEBPACK_IMPORTED_MODULE_1__.z)(e,1),this.m_curveData.m_segmentParamIndex=(0,_Envelope_js__WEBPACK_IMPORTED_MODULE_1__.y)(e,-1));const s=this.m_curveData.m_curveParamWritePoint+t;null===this.m_curveData.m_segmentParams?this.m_curveData.m_segmentParams=(0,_Envelope_js__WEBPACK_IMPORTED_MODULE_1__.D)(s):s!==this.m_curveData.m_segmentParams.size()&&this.m_curveData.m_segmentParams.resize(s,0),this.m_curveData.m_segmentFlags.size()<e&&(this.m_curveData.m_segmentFlags.resize(e,1),this.m_curveData.m_segmentParamIndex.resize(e,-1))}updateCurveWritePoint(t){null===this.m_curveData&&(this.m_curveData=new Zs),this.m_curveData.m_curveParamWritePoint=t}updateOGCFlagsHelper(){const t=this.getPathCount();if(0===t)return;const e=this.m_pathFlags;let s=0;for(let n=0;n<t;n++){const t=this.m_cachedRingAreas2D.read(n);0===s&&(s=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.e)(t)),t*s>0||0===s?e.setBits(n,8):e.clearBits(n,8)}}updateOGCFlagsProtected(){this.hasDirtyFlag(16)&&(this.updateRingAreas2DProtected(),this.updateOGCFlagsHelper(),this.setDirtyFlagProtected(16,!1))}replaceSegment(t,n,i){(t<0||t>=this.getPointCount())&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.a)("Multi_path_impl.replace_segment"),(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(n.isCurve());const r=this.getPathIndexFromPointIndex(t),o=this.getPathStart(r),a=(t-o+1)%this.getPathSize(r)+o;{const e=this.getXY(t),i=this.getXY(a),r=!e.isEqualPoint2D(n.getStartXY())||!i.isEqualPoint2D(n.getEndXY());(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(!r)}this.replaceSegmentImpl(t,a,n,i)}replaceSegmentImpl(t,e,n,i){const r=n.getDescription();this.mergeVertexDescription(r);const o=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.d)(32,Number.NaN),a=new _Envelope_js__WEBPACK_IMPORTED_MODULE_1__.P({vd:r,attribBuffer:o,initDefaultValues:!1}),h=null===this.m_curveData?1:31&this.m_curveData.m_segmentFlags.read(t),u=ks(h),m=Bs(n);let l,c=!1;u>=m?((0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(null!==this.m_curveData),c=!0,l=this.m_curveData.m_segmentParamIndex.read(t)):(this.initSegmentData(m),c=!1,l=this.m_curveData.m_curveParamWritePoint);const g=n.getGeometryType(),d=Zs.toSegType(g);i||(n.queryStart(a),this.setPointByValNoCurves(t,a),n.queryEnd(a),this.setPointByValNoCurves(e,a)),this.m_curveData.m_segmentParamIndex.write(t,1!==d?l:-1),this.m_curveData.m_segmentFlags.write(t,d),1!==d&&n.writeInBufferStream(this.m_curveData.m_segmentParams,l),c||(this.m_curveData.m_curveParamWritePoint+=m),h!==d&&(this.incCurveType(h,-1),this.incCurveType(d,1),this.modifyCurveCounter(1===h?1:-1))}setAttributeImpl(t,s,n){if(this.addAttribute(t),!this.isEmpty())if(this.hasNonLinearSegments()&&0===t){(s<0||s>1)&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.a)("");const t=new _Transformation2D_js__WEBPACK_IMPORTED_MODULE_4__.T,i=0===s?n:0,r=0===s?0:1;t.setShiftCoords(i,r),0===s?t.xx=0:t.yy=0,this.applyTransformation(t)}else super.setAttributeImpl(t,s,n)}}Hs.st_totalCurveCount=0;class Us{constructor(t,e){this.m_segIter=null,this.m_quadTree=null,this.m_qtIter=null,this.m_extentOfInterest=new _Envelope2D_js__WEBPACK_IMPORTED_MODULE_3__.Envelope2D(e),this.m_bfirst=!0,this.m_prevIndex=-100,this.m_parent=t}nextSegment(){return this.m_bfirst&&this.prepare_(),this.m_quadTree?this.nextSegmentQt():this.nextSegmentNoQt()}getPathIndex(){return this.m_segIter.getPathIndex()}getStartPointIndex(){return this.m_segIter.getStartPointIndex()}getEndPointIndex(){return this.m_segIter.getEndPointIndex()}isClosingSegment(){return this.m_segIter.isClosingSegment()}isPathClosed(){return this.m_segIter.isPathClosed()}prepare_(){const t=this.m_parent.getAccelerators();t&&(this.m_quadTree=t.getQuadTree(),this.m_quadTree&&(this.m_qtIter=this.m_quadTree.getSortedIterator(this.m_extentOfInterest,0))),this.m_segIter=this.m_parent.querySegmentIterator()}nextSegmentQt(){this.m_bfirst=!1;const t=this.m_qtIter.next();if(-1===t)return null;const e=this.m_quadTree.getElement(t);(e!==this.m_prevIndex+1||this.m_segIter.isLastSegmentInPath())&&(this.m_segIter.resetToVertex(e,this.m_segIter.getPathIndex()),this.m_prevIndex=e);return this.m_segIter.nextSegment()}nextSegmentNoQt(){for(;;){if(!this.m_bfirst&&this.m_segIter.hasNextSegment()){const t=this.m_segIter.nextSegment(),e=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_3__.Envelope2D.constructEmpty();if(t.queryLooseEnvelope(e),!e.isIntersecting(this.m_extentOfInterest))continue;return t}if(this.m_bfirst=!1,!this.m_segIter.nextPath())return null}}}class Os extends Hs{constructor(t){t?t.vd?(super({vd:t.vd,bPolygon:!1}),this.m_segmentBufferCTor=fm):t.copy?(super({vd:t.copy.getDescription(),bPolygon:!1}),this.m_segmentBufferCTor=fm,t.copy.copyTo(this)):t.move?(super({move:t.move}),this.m_segmentBufferCTor=fm):t.start?(super({vd:t.start.getDescription(),bPolygon:!1}),this.m_segmentBufferCTor=fm,this.startPathPoint(t.start),this.lineToPoint(t.end)):t.path?(super({bPolygon:!1}),this.m_segmentBufferCTor=fm,this.addPathPoint2D(t.path,t.pointCount,t.bForward)):(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.d)("bad constructor arg"):(super({bPolygon:!1}),this.m_segmentBufferCTor=fm)}getBoundary(){return Ks(this)}assignCopy(t){return this!==t&&t.copyTo(this),this}assignMove(t){return t.copyTo(this),this}getGeometryType(){return Os.type}getDimension(){return 1}createInstance(){return new Os({vd:this.getDescription()})}equals(t,e){return this.equalsBase(t,e)}}Os.type=_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.G.enumPolyline;var Qs=_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.G;function Js(t,e){if(t.isEmpty())return!1;const s=t.getGeometryType();if(s===Qs.enumPolygon)return 0!==t.calculateArea2D();if(s===Qs.enumPolyline)return $s(t.getImpl(),e,!0).bNotEmpty;if(s===Qs.enumEnvelope)return!0;if((0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.f)(s))return!!t.isClosed();if((0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.e)(s))return!1;if(s===Qs.enumGeometryCollection){const s=t;for(let t=0,n=s.getGeometryCount();t<n;t++)if(Js(s.getGeometry(t),e))return!0;return!1}(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.t)("")}function Ks(t,e){const s=t.getGeometryType();if(s===Qs.enumPolygon){const e=new Os({vd:t.getDescription()});return t.isEmpty()||t.copyToUnchecked(e),e}if(s===Qs.enumPolyline)return $s(t.getImpl(),e,!1).boundary;if(s===Qs.enumEnvelope){const e=new Os({vd:t.getDescription()});return t.isEmpty()||e.addEnvelope(t,!1),e}if((0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.f)(s)){const e=new Ee({vd:t.getDescription()});if(!t.isEmpty()&&!t.isClosed()){const s=new _Envelope_js__WEBPACK_IMPORTED_MODULE_1__.P;e.reserve(2),t.queryStart(s),e.add(s),t.queryEnd(s),e.add(s)}return e}if(s===Qs.enumGeometryCollection){const s=t;let n=null;for(let i=0,r=s.getGeometryCount();i<r;i++){const r=Ks(s.getGeometry(i),e);if(null!==r){null===n&&(n=t.createInstance());const e=r;n.addGeometry(e)}}return n}if((0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.e)(s))return new _Envelope_js__WEBPACK_IMPORTED_MODULE_1__.P({vd:t.getDescription()});(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.t)("")}function $s(t,e,s){const n=!1,i=t;let r=null;if(s||(r=new Ee({vd:i.getDescription()})),!i.isEmpty()){const t=new _Envelope_js__WEBPACK_IMPORTED_MODULE_1__.A(0);for(let e=0,s=i.getPathCount();e<s;e++){if(i.getPathSize(e)>0&&!i.isClosedPathInXYPlane(e)){const s=i.getPathStart(e);t.add(s);const n=i.getPathEnd(e)-1;t.add(n)}}if(t.size()>0){const e=new _Envelope_js__WEBPACK_IMPORTED_MODULE_1__.B,n=i.getAttributeStreamRef(0),o={userSort(t,e,s){const i=_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.getNAN(),r=_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.getNAN();s.sort(t,e,((t,e)=>(n.queryPoint2D(2*t,i),n.queryPoint2D(2*e,r),i.compare(r))))},getValue:t=>n.read(2*t+1)};e.sort(t,0,t.size(),o);let a=n.readPoint2D(2*t.read(0)),h=0,u=1;const m=new _Envelope_js__WEBPACK_IMPORTED_MODULE_1__.P;for(let i=1,r=t.size();i<r;i++){const e=n.readPoint2D(2*t.read(i));if(e.isEqualPoint2D(a))t.read(h)>t.read(i)?(t.write(h,(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.j)()),h=i):t.write(i,(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.j)()),u++;else{if(1&u){if(s)return{bNotEmpty:!0,boundary:new Ee({})}}else t.write(h,(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.j)());a=e,h=i,u=1}}if(1&u){if(s)return{bNotEmpty:!0,boundary:new Ee({})}}else t.write(h,(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.j)());if(!s){t.sort(0,t.size());for(let e=0,s=t.size();e<s&&t.read(e)!==(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.j)();e++)i.getPointByVal(t.read(e),m),r.add(m)}}}return s?{bNotEmpty:n,boundary:new Ee({})}:{bNotEmpty:n,boundary:r}}function tn(t,e,n,i){const r=4*(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.O)()*(Math.abs(e.vmin)+Math.abs(e.vmax)),o=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.O)();if(1===t.getMaxDerivative()){(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(n>0);const o=hn(t,0,e,(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.O)(),r);return i[0]=o.root,o.cRoots}let a,h=[];const u=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.E(e.vmin-r,e.vmax+r);h.push(new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P(u.vmin,u.vmax));let m=0;for(let s=t.getMaxDerivative()-1;s>=0;s--){a=h,h=[];for(let u=0,l=a.length;u<l;u++){if(a[u][0]<a[u][1]){let l,c,g;if(s===t.getMaxDerivative()-1?({root:l,funcAtRoot:c,cRoots:g}=hn(t,s,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.E.construct(a[u][0],a[u][1]),o,.5*r)):({root:l,funcAtRoot:c,cRoots:g}=un(t,s,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.E.construct(a[u][0],a[u][1]),o,.5*r)),1===g){if(0===s){if(m<n){if(a[u][0]<=e.vmin&&a[u][1]>=e.vmin&&l!==e.vmin){0===t.getValue(0,e.vmin)&&(l=e.vmin)}if(a[u][0]<=e.vmax&&a[u][1]>=e.vmax&&l!==e.vmax){0===t.getValue(0,e.vmax)&&(l=e.vmax)}i[m]=e.snapClip(l),m>0?i[m]-i[m-1]>r&&m++:m++}}else{const t=_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.getNAN();t[0]=a[u][0],t[1]=l,h.push(t);const e=_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.getNAN();e[0]=l,e[1]=a[u][1],h.push(e)}continue}}h.push(a[u])}}return m}function en(t,e,s,n){const i=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.H,r=cn(new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.H(t),new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.H(e),s,i);return n[0]=i.value(),r}function sn(t,e,s,n,i,r){const o=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.H,2),a=gn(new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.H(t),new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.H(e),new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.H(s),n,i,o);return r[0]=o[0].value(),r[1]=o[1].value(),a}function nn(t,e,s,n,i,r,o){const a=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.H,3),h=dn(new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.H(t),new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.H(e),new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.H(s),new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.H(n),i,r,a);return o[0]=a[0].value(),o[1]=a[1].value(),o[2]=a[2].value(),h}function rn(t,e,s,n,i,r,o,a){return an(t,e,s,n,i,r,o,a)}function on(t,e,s,n,i,r){return ln(t,e,s,n,i,r)}function an(t,e,s,n,i,r,o,a){const h=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.d)(s*s,Number.NaN);h.fill(0),(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.b)(a,n,0,0,s);const u=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.d)(s,Number.NaN),m=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.d)(s,Number.NaN),l=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.d)(s,Number.NaN);let c=t(a,s,e);const g=100;let d=0;for(d=0;d<g;d++){const n=c;for(let t=0;t<s;++t)m[t]=a[t];if(d%s===0){h.fill(0);for(let t=0;t<s;t++)h[t*s+t]=1}let o=0,g=0;for(let m=0;m<s;++m){for(let t=0;t<s;++t)u[t]=h[m*s+t];const n=c;c=mn(t,e,a,u,i,r,s);const l=n-c;l>o&&(g=m,o=l)}for(let t=0;t<s;t++)u[t]=a[t]-m[t],l[t]=a[t]+(a[t]-m[t]);const _=t(l,s,e);if(_<n){if(2*(n-2*c+_)*(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.a)(n-c-o)<(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.a)(n-_)*o){c=mn(t,e,a,u,i,r,s);for(let t=0;t<s;++t)h[g*s+t]=h[(s-1)*s+t],h[(s-1)*s+t]=u[t]}}if(n<=c)return t(a,s,e)}return c}function hn(t,e,s,n,i){const r={root:0,funcAtRoot:0,cRoots:0};let o=s.vmin,a=s.vmax,u=0,m=Number.MAX_VALUE,l=t.getValue(e,o),c=t.getValue(e,a),g=0,d=0,_=0;if(l>=0&&c>=0||l<=0&&c<=0)return Math.abs(l)<Math.abs(c)?(r.funcAtRoot=l,r.root=o,r.cRoots=0===l?1:0,r):(r.funcAtRoot=c,r.root=a,r.cRoots=0===c?1:0,r);Math.abs(l)<Math.abs(c)&&(a=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.c)(o,o=a),c=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.c)(l,l=c)),u=o,g=l;let p=!0,f=0;for(;0!==c&&Math.abs(o-a)>n*Math.abs(a)+i;f++){let s=f>64;if(!s){d=l!==g&&c!==g?o*c*g/((l-c)*(l-g))+a*l*g/((c-l)*(c-g))+u*l*c/((g-l)*(g-c)):a-c*(a-o)/(c-l);const t=(3*o+a)/4;if(s=!(d>t&&d<a||d>a&&d<t),!s){const t=n*Math.abs(a)+i;if(p){const e=Math.abs(a-u);s=Math.abs(d-a)>=.5*e||e<t}else{const e=Math.abs(u-m);s=Math.abs(d-a)>=.5*e||e<t}}}if(s?(d=(o+a)/2,p=!0):p=!1,_=t.getValue(e,d),0===_)return r.root=d,r.funcAtRoot=_,r.cRoots=1,r;if(!s){const s=o-d,n=d-a;if(Math.abs(s)>10*Math.abs(n)){let s=a+3*n;for(let n=0;n<2;n++){const n=t.getValue(e,s);(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.e)(l)*(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.e)(n)>0?(o=s,l=n):s=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.q)(o,a,.75)}}else if(Math.abs(n)>10*Math.abs(s)){let n=o-3*s;for(let s=0;s<2;++s){const s=t.getValue(e,n);(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.e)(c)*(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.e)(s)>0?(a=n,c=s):n=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.q)(o,a,.25)}}}m=u,u=a,g=c,(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.e)(l)*(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.e)(_)<0?(a=d,c=_):(o=d,l=_),Math.abs(l)<Math.abs(c)&&(a=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.c)(o,o=a),c=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.c)(l,l=c)),128===f&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.d)("Root_finder iterations exceeded")}return r.root=a,r.funcAtRoot=c,r.cRoots=1,r}function un(t,e,s,n,i){const r={root:0,funcAtRoot:0,cRoots:0};let o=s.vmin,a=t.getValue(e,o),u=s.vmax,m=t.getValue(e,u);if(a>=0&&m>=0||a<=0&&m<=0)return Math.abs(a)<Math.abs(m)?(r.funcAtRoot=a,r.root=o,r.cRoots=0===a?1:0,r):(r.funcAtRoot=m,r.root=u,r.cRoots=0===m?1:0,r);m<0&&(m=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.c)(a,a=m),u=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.c)(o,o=u));let l=.5*(o+u),c=Math.abs(u-o),g=c,d=t.getValue(e,l),_=t.getValue(e+1,l);const p=1,f=4;let P=f;const y=2;let x=1,C=0,v=0,b=p;const S=32;let E=0;for(;++E<100;){let s;E>S||0===_||b===y&&C>1||b===p&&P<f?(b=p,x>1&&x--):(b=y,v>1&&Math.abs(2*d)>Math.abs(c*_)&&x++),c=g;let n=!1;if(b===p)do{if(v>2){const t=16*Math.abs(c);if(.5*Math.abs(o-u)>t){const e=Math.min(o,u),n=Math.max(o,u);if(l===e){s=l,l=e+t,g=l-s;break}if(l===n){s=l,l=n-t,g=l-s;break}}}g=.5*(u-o),s=l,l=o+g,n=o===l||u===l}while(0);else for(;;){g=x*d/_,s=l,l-=g,n=l===s;const t=Math.min(o,u),e=Math.max(o,u);if(l<t){if(x>1){l=s,x--;continue}g=s-t,l=t}else if(l>e){if(x>1){l=s,x--;continue}g=s-e,l=e}break}if(n||Math.abs(g)<i){s!==l&&(d=t.getValue(e,l));break}d=t.getValue(e,l),_=t.getValue(e+1,l);const r=o,h=u;d<0?(a=d,o=l):(m=d,u=l),b===y&&(o===r&&u===h||v>1&&Math.abs(g)>=.5001*Math.abs(c))?C++:C=0,b===p?(P++,v=0):(P=0,v++)}return 100===E&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.d)("Root_finder iterations exceeded"),r.root=l,r.funcAtRoot=d,r.cRoots=1,r}function mn(t,e,s,n,i,r,o){const a=n.slice(0,o);let h=0;for(let f=0;f<o;f++)h+=n[f]*n[f];if(h=Math.sqrt(h),h>0)for(let f=0;f<o;f++)a[f]/=h;let u=Number.NEGATIVE_INFINITY,m=Number.POSITIVE_INFINITY;{const t=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.d)(o,0);for(let e=0;e<o;e++)t[e]=e;t.sort(((t,e)=>{const s=Math.abs(a[t]),n=Math.abs(a[e]);return s<n?-1:s>n?1:0}));for(let e=0;e<o;e++){const n=t[e];if(0===a[n])continue;let o=(i[n]-s[n])/a[n],h=(r[n]-s[n])/a[n];h<o&&(h=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.c)(o,o=h)),o>u&&(u=o),h<m&&(m=h)}}let l=0;const c=(Math.abs(u)+Math.abs(m))*(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.O)()*100,g=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.d)(o,Number.NaN),d=a.slice();function _(n,i){for(let t=0,e=o;t<e;t++)g[t]=s[t]+n*d[t];return t(g,o,e)}c>0&&(l=on(_,null,u,0,m,c));const p=_(l);for(let f=0,P=o;f<P;f++)s[f]=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.s)(g[f],i[f],r[f]);return p}function ln(t,e,s,n,i,r){const o=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.aq)();let a=n,h=t(a,e),u=s,m=i,l=t(u,e),c=t(m,e);h>l&&(h=l,a=u),h>c&&(h=c,a=m);let g=u,d=m,_=l,p=c;_>p&&(_=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.c)(p,p=_),d=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.c)(g,g=d));let f=a-g,P=g-d;const y=.5*Math.min(r,m-u),x=2*y,C=100;let v,b=0;for(v=0;v<C&&!(m-u<=x);++v){const s=u+.5*(m-u);let n=b>0;if(!n&&Math.abs(P)<=y&&(n=!0,b=3),!n){const t=a-g,e=a-d,s=t*(h-p);let i=e*(h-_),r=e*i-t*s;i=2*(i-s),i>0&&(r=-r),i=Math.abs(i),0===i||Math.abs(r)>=Math.abs(i*P/2)||r<=i*(u-a)||r>=i*(m-a)?(n=!0,b=3):(P=f,f=r/i)}n&&(P=a>=s?u-a:m-a,f=o*P,b--);let i=a+f;i<u+y?i=u+y:i>m-y&&(i=m-y);const r=t(i,e);r<h?(i>=a?(u=a,l=h):(m=a,c=h),d=g,g=a,a=i,p=_,_=h,h=r):(i<a?(u=i,l=r):(m=i,c=r),r<=_||g===a?(d=g,g=i,p=_,_=r):(r<=p||d===a||d===g)&&(d=i,p=r))}return a}function cn(t,e,s,n){return t.isZero()?e.isZero()?-1:0:(n.setE(e.clone().negateThis().divThisE(t)),s.containsCoordinate(n.value())?1:0)}function gn(t,e,s,n,i,r){if(0===t.value()){if(i)return r[0].set(1),n.containsCoordinate(r[0].value())?1:0;return cn(e,s,n,r[0])}if(i){let e=2;return r[0].set(1),r[1].setE(s).divThisE(t),r[1].eq(r[0])&&(r[1].set(1),e=1),n.containsCoordinate(r[1].value())||(e=1),n.containsCoordinate(r[0].value())||(e--,r[0].setE(r[1])),2===e&&r[0].value()>r[1].value()&&(r[1]=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.c)(r[0],r[0]=r[1])),e}const o=e.clone().sqrThis().subThisE(t.clone().mulThisE(s).mulThisE(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.a6));if(o.lt(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.J))return 0;const a=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.H(e.value()>=0?1:-1),h=o.clone().sqrtThis(),u=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.H(-.5).mulThisE(e.clone().addThisE(a.clone().mulThisE(h)));let m=0;r[0].setE(u.divE(t));const l=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.H(r[0].value()),c=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.H(t.value()).mulE(l).addE(new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.H(e.value()).mulE(l).addE(new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.H(s.value())));return c.isZero()||Cn(r[0],t,e,s,r[0]),n.containsCoordinate(r[0].value())&&m++,0!==h.value()&&0!==u.value()?(r[m].assign(s.divE(u)),l.set(r[m].value()),c.assign(new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.H(t.value()).mulE(l).addE(new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.H(e.value()).mulE(l).addE(new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.H(s.value())))),c.isZero()||Cn(r[m],t,e,s,r[m]),n.containsCoordinate(r[m].value())&&m++,2===m&&r[0].value()>r[1].value()&&(r[1]=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.c)(r[0],r[0]=r[1])),m):m}function dn(t,e,s,n,i,r,o){if(0===t.value()){return gn(e,s,n,i,r,o)}if(r){let s=1;o[0].set(1);const r=o.slice(s),a=gn(t,e.addE(t),n.negate(),i,!1,r);if(a>0){s+=a;for(let t=1;t<s;t++)o[t].eq(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.I)&&(o[s-1]=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.c)(o[t],o[t]=o[s-1]),s--)}const h=o.slice(0,s);h.sort(((t,e)=>t.value()<e.value()?-1:t.value()>e.value()?1:0));for(let t=0;t<s;++t)o[t]=h[t];return s}return vn(t,e,s,n,i,o)}function _n(t,s,n,i,r,o){return(o<s||s<0)&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.a)("nth_degree_real_roots"),bn(t,s,n,i,r)}function pn(t,e,s,n){return{coef0:t.clone(),coef1:e.clone(),coef2:s.clone(),coef3:n.clone(),calcF(t){return this.coef0.clone().mulThis(t).addThisE(this.coef1).mulThis(t).addThisE(this.coef2).mulThis(t).addThisE(this.coef3)},calcDF(t){return this.coef0.clone().mulThis(3).mulThis(t).addThisE(this.coef1.clone().mulThisByPower2(2)).mulThis(t).addThisE(this.coef2)},estimateError(t){const e=Math.abs(t),s=((this.coef0.eps()*e+this.coef1.eps())*e+this.coef2.eps())*e+this.coef3.eps()+this.calcF(t).eps(),n=this.coef0.clone().mulThis(t).mulThis(3).addThisE(this.coef1.clone().mulThis(2)).mulThis(t).addThisE(this.coef2);if(n.isZero()){const e=this.coef0.clone().mulThis(t).mulThis(6).addThisE(this.coef1.clone().mulThis(2));if(e.isZero()){const t=this.coef0.clone().mulThis(6);return Math.pow(6*s/Math.abs(t.value()),1/3)}return Math.sqrt(2*s/Math.abs(e.value()))}return s/Math.abs(n.value())}}}class fn{updateCoefs(t){if(this.lastDeriv1===t)return this.curCoefs=this.derivCoefs1,void(this.lastUsed=1);if(this.lastDeriv2===t)return this.curCoefs=this.derivCoefs2,void(this.lastUsed=2);let e;1===this.lastUsed?(e=this.derivCoefs2,this.lastDeriv2=t,this.lastUsed=2):(e=this.derivCoefs1,this.lastDeriv1=t,this.lastUsed=1),e.length=0;for(let s=0,n=this.truePower-t;s<=n;++s){e.push(this.coefs[s+t].clone());let n=s+t,i=n--;for(let e=1;e<t;e++)i*=n--;e[s].mulThis(i)}this.curCoefs=e}constructor(t,e,s,n){this.derivCoefs1=[],this.derivCoefs2=[],this.lastDeriv1=-1,this.lastDeriv2=-1,this.lastUsed=-1,this.curCoefs=null,this.coefs=t,this.power=e,this.truePower=0;for(let i=e;i>=1;i--)if(0!==this.coefs[i].value()){this.truePower=i;break}}getMaxDerivative(){return this.truePower+1}getValue(t,e){let s=this.coefs;0===t?s=this.coefs:(this.updateCoefs(t),s=this.curCoefs);const n=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.K(0);let i=1;for(let r=0,o=this.truePower-t;r<=o;++r)n.pe(i*s[r].value()),i*=e;return n.getResult()}getError(t){const e=Math.abs(t),s=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.K(0),n=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.H(1),i=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.H(0);for(let o=0,a=this.power;o<=a;++o)i.addThisE(this.coefs[o].mulE(n)),s.pe(n.value()*this.coefs[o].eps()),n.mulThis(e);s.pe(i.eps());let r=1;for(let o=1;o<=this.truePower;++o){r*=o,this.updateCoefs(o);const e=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.H(1),n=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.H(0);for(let s=0,i=this.truePower-o;s<=i;++s)n.addThisE(this.curCoefs[s].mulE(e)),e.mulThis(t);if(!n.isZero())return Math.pow(r*s.getResult()/Math.abs(n.value()),1/o)}return 0}}function Pn(t,e,s,n,i,r){let o=t,a=e,h=a-o;if(!r){let s=n.calcF(t).value(),i=n.calcF(e).value();if((s>0||s>i)&&(a=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.c)(o,o=a),i=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.c)(s,s=i)),s>=0||i<=0)return!1}let u,m=!1,l=s,c=0;for(;c<100;c++){const t=n.calcF(l);if(u=n.calcDF(l),u.isZero())return!1;if(!t.value()||c>3&&t.isZero()){m=!0;break}r||(t.value()<0?o=l:a=l);const e=t.value()/u.value(),s=l-e;r||(s>=o&&s<=a||s>=a&&s<=o)&&Math.abs(e)<=.5*h?(l=s,h=Math.abs(e)):(h=Math.abs(.5*(a-o)),l=.5*(o+a))}return!!m&&(i.set(l,n.estimateError(l)),!0)}function yn(t,e,s,n,i,r,o,a){return Pn(t,e,s.value(),pn(n,i,r,o),a,!1)}class xn{constructor(t,e,s){this.coefs=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.H,3),this.coefs[0].setE(t),this.coefs[1].setE(e),this.coefs[2].setE(s)}calcF(t){const e=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.H(t);return this.coefs[0].mulE(e).addE(this.coefs[1]).mulE(e).addE(this.coefs[2])}calcDF(t){const e=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.H(t);return _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.H.st_mulByPower2(this.coefs[0],2).mulE(e).addE(this.coefs[1])}estimateError(t){const e=Math.abs(t),s=(this.coefs[0].eps()*e+this.coefs[1].eps())*e+this.coefs[2].eps()+this.calcF(t).eps(),n=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.H(2).mulE(this.coefs[0]).mul(t).addE(this.coefs[1]);if(n.isZero()){const t=this.coefs[0].value();return Math.sqrt(s/Math.abs(t))}return s/Math.abs(n.value())}}function Cn(t,e,s,n,i){return Pn(0,0,t.value(),new xn(e,s,n),i,!0)}function vn(t,e,s,n,i,r){const o=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.H,3);let a=0;const u=e.negate().divThisE(t.clone().mulThis(3));i.containsCoordinate(u.value())&&(o[0].setE(u),a=1);const m=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.H,2),l=gn(t.mul(3),e.mul(2),s,i,!1,m);if(l<0)return n.isZero()?-1:0;for(let h=0;h<l;h++)i.containsCoordinate(m[h].value())&&o[a++].setE(m[h]);(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.C)(o,0,a,((t,e)=>t.value()<e.value()?-1:t.value()>e.value()?1:0));const c=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.H,5);c[0].set(i.vmin);for(let h=0;h<a;h++)c[1+h].setE(o[h]);c[1+a].set(i.vmax);const g=a+2;let d=1,_=0;{const i=c[0].clone();if(t.clone().mulThisE(i).addThisE(e).mulThisE(i).addThisE(s).mulThisE(i).addThisE(n).isZero()){const o=pn(t,e,s,n);i.setError(o.estimateError(i.value())),r[_]=i,_++,d++}}for(let p=d;p<g;p++){const o=c[p].clone(),a=t.clone().mulThisE(o).addThisE(e).mulThisE(o).addThisE(s).mulThisE(o).addThisE(n).isZero();if(a||!c[p].eq(c[p-1])){if(a||yn(c[p-1].value(),c[p].value(),c[p-1].clone().addThisE(c[p]).divThisByPower2(2),t,e,s,n,o)){if(_>0&&o.eq(r[_-1]))continue;if(_>=3&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.d)("cubic_polynomial_solver_too_many_roots"),a){const i=pn(t,e,s,n);o.setError(i.estimateError(o.value()))}r[_]=o,_++}if(c[p].value()===i.vmax)break;a&&p++}}return _}function bn(t,e,s,n,i,r){const o=new fn(t,e,s,(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.O)());let a=0;if(2===o.truePower)a=gn(t[2],t[1],t[0],s,n,i);else if(1===o.truePower)a=cn(t[1],t[0],s,i[0]);else{if(0===o.truePower)return t[0].value()?0:-1;{const t=[];t.length=e,a=tn(o,s,e,t);for(let e=0;e<a;e++)i[e].set(t[e])}}for(let h=0;h<a;h++)i[h].setError(o.getError(i[h].value()));return a}var Sn=_Envelope_js__WEBPACK_IMPORTED_MODULE_1__.V;class En extends gs{constructor(t){return void 0===t||(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.W)(t,"vd")?(super({vd:t?.vd,XStart:0,YStart:0,XEnd:0,YEnd:0}),this.m_cp=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P(0,0),void(this.m_weights=[1,0,1])):(t.fromPoint&&t.weight?t={fromPoint:t.fromPoint,controlPoint1:t.controlPoint1,toPoint:t.toPoint,weight0:1,weight1:t.weight,weight2:1}:t.points&&t.weight?t={fromPoint:t.points[0],controlPoint1:t.points[1],toPoint:t.points[2],weight0:1,weight1:t.weight,weight2:1}:t.points&&t.weights&&(t={fromPoint:t.points[0],controlPoint1:t.points[1],toPoint:t.points[2],weight0:t.weights[0],weight1:t.weights[1],weight2:t.weights[2]}),t.fromPoint&&t.weight0?(super({start:t.fromPoint,end:t.toPoint}),(t.weight0<=0||t.weight1<0||t.weight2<=0)&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.a)("weights"),this.m_cp=t.controlPoint1.clone(),void(this.m_weights=[t.weight0,t.weight1,t.weight2])):t.copy?(super(t),this.m_cp=t.copy.m_cp.clone(),void(this.m_weights=t.copy.m_weights.slice())):t.move?(super(t),this.m_cp=t.move.m_cp.clone(),void(this.m_weights=t.move.m_weights.slice())):void (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.t)("unexpected constructor param"))}getBoundary(){return Ks(this)}assignMove(t){return this}assignCopy(t){return t.copyTo(this),this}construct(t,e,s,n){this.dropAllAttributes(),this.setCpsAndWeights(t,e,s,1,n,1),la(this)}constructWeights(t,e,s,n,i,r){this.dropAllAttributes(),this.setCpsAndWeights(t,e,s,n,i,r),la(this)}constructArray(t,e){this.construct(t[0],t[1],t[2],e)}constructArrayWeights(t,e){this.dropAllAttributes(),this.setCpsAndWeightsArray(t,e),la(this)}convertToStandardForm(){}getStandardFormWeight(){return this.m_weights[1]/Math.sqrt(this.m_weights[0]*this.m_weights[2])}getGeometryType(){return _Geometry_js__WEBPACK_IMPORTED_MODULE_0__.G.enumRationalBezier2}queryEnvelope(t){if(t instanceof _Envelope2D_js__WEBPACK_IMPORTED_MODULE_3__.Envelope2D){if(t.setCoords(this.getStartXY()),t.mergeNe(this.getEndXY()),t.contains(this.m_cp))return;const e=Va(this);if(null!==e){const s=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P;for(const n of e.specialPoints)this.queryCoord2D(n,s),t.mergeNe(s)}else{const e=[],s=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P,3);this.queryControlPoints(s),da(s,this.m_weights,e);const n=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P;for(const i of e)this.queryCoord2D(i,n),t.mergeNe(n)}}}applyTransformation(t){if(t instanceof _Transformation2D_js__WEBPACK_IMPORTED_MODULE_4__.T){const e=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P,3);return this.queryControlPoints(e),t.transformPoints2D(e,3,e),this.setStartXY(e[0]),this.m_cp.assign(e[1]),this.setEndXY(e[2]),void this.afterCompletedModification()}}createInstance(){return new En({vd:this.m_description})}calculateLength2D(){return _a(this,1,!1)}calculateLowerLength2D(){return _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.distance(this.getStartXY(),this.getEndXY())}calculateUpperLength2D(){return this.calculateUpperLength2D_()}calculateUpperLength2D_(){if(this.m_weights[1]>0){return _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.distance(this.getStartXY(),this.m_cp)+_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.distance(this.getEndXY(),this.m_cp)}return _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.distance(this.getStartXY(),this.getEndXY())}queryCoord2D(t,e){return this.queryCoord2DExtension(t,e,!0)}queryCoord2DE(t,e){lh(this,t,e)}queryCoord2DExtension(t,e,s){if(s){if(t<0){return void _s(new pm({start:this.getStartXY(),end:this.getStartXY().add(this.getTangent(0).getUnitVector())}),t,e)}if(t>1){return void _s(new pm({start:this.getEndXY(),end:this.getEndXY().add(this.getTangent(1).getUnitVector())}),t-1,e)}}const n=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P,3);this.queryControlPoints(n),_h(n,this.m_weights,t,e)}getCoordX(t){const e=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P;return this.queryCoord2DExtension(t,e,!0),e.x}getCoordY(t){const e=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P;return this.queryCoord2DExtension(t,e,!0),e.y}cut(t,e,s){const n=new fm;return this.queryCut(t,e,n,s),n.releaseSegment()}queryCut(t,e,s,n){const i=s.createQuadraticRationalBezier();if(this.cutBezierIgnoreAttributes(t,e,i),n)return;i.assignVertexDescription(this.m_description);const r=this.m_description.getAttributeCount();if(r>1){for(let e=1;e<r;e++){const s=this.m_description.getSemantics(e),n=Sn.getComponentCount(s);for(let e=0;e<n;e++){const n=this.getAttributeAsDbl(t,s,e);i.setStartAttribute(s,e,n)}}for(let t=1;t<r;t++){const s=this.m_description.getSemantics(t),n=Sn.getComponentCount(s);for(let t=0;t<n;t++){const n=this.getAttributeAsDbl(e,s,t);i.setEndAttribute(s,t,n)}}}}queryDerivative(t,e){Ea(this,t,e)}cutBezierIgnoreAttributes(t,s,n){(t<0||s>1||t>s)&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.a)("Quadratic_rational_bezier.cut_bezier_ignore_attributes");const i=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P,3);this.queryControlPoints(i);const r=[0,0,0];Qa(i,this.m_weights,t,s,i,r),n.setControlPointsAndWeights(i,r)}splitBezierIgnoreAttributes(t,e,s){}getAttributeAsDbl(t,e,s){if(0===e)return 0===s?this.getCoordX(t):this.getCoordY(t);const n=this.calculateLength2D(),i=n>0?this.tToLength(t)/n:0,r=Sn.getInterpolation(e),o=this.getStartAttributeAsDbl(e,s),a=this.getEndAttributeAsDbl(e,s);return (0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.V)(r,o,a,i,Sn.getDefaultValue(e))}getClosestCoordinate(t,e){return Ra(this,t,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.E.unit(),e,-1)}getClosestCoordinateOnInterval(t,e,s=-1){return Ra(this,t,e,!1,s)}getYMonotonicParts(t,e){return this.getMonotonicParts(t,e)}getMonotonicParts(t,n){t.length<2&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.a)("");const i=ga(this);let r=0;if(2===i.specialPointsCount())return 0;(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(t.length>=i.specialPointsCount()-1);for(let e=1,s=i.specialPointsCount();e<s;++e)this.queryCut(i.specialPoints[e-1],i.specialPoints[e],t[r],n),r++;for(let e=0;e<r;++e){Za(t[e].get())}return r}intersectionWithAxis2D(t,e,s,n){s&&(s.length=9),n&&(n.length=9);const i=new Array(3),r=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.H,2),o=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.E(0,1);let a=0;const h=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P,3);if(this.queryControlPoints(h),t){if(i[0]=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.H(h[0].y).sub(e).mul(this.m_weights[0]),i[1]=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.H(h[1].y).sub(e).mul(this.m_weights[1]),i[2]=i[0].subE(i[1].mul(2)).addE(new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.H(h[2].y).sub(e).mul(this.m_weights[2])),i[1]=i[1].subE(i[0]).mulThisByPower2(2),a=gn(i[2],i[1],i[0],o,!1,r),s)for(let u=0;u<a;u++)s[u]=this.getCoordX(r[u].value())}else if(i[0]=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.H(h[0].x).sub(e).mul(this.m_weights[0]),i[1]=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.H(h[1].x).sub(e).mul(this.m_weights[1]),i[2]=i[0].subE(i[1].mul(2)).addE(new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.H(h[2].x).sub(e).mul(this.m_weights[2])),i[1]=i[1].subE(i[0]).mulThisByPower2(2),a=gn(i[2],i[1],i[0],o,!1,r),s)for(let u=0;u<a;u++)s[u]=this.getCoordY(r[u].value());if(n)for(let u=0;u<a;u++)n[u]=r[u].value();else s&&(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.C)(s,0,a,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.a8);return a}intersectionOfYMonotonicWithAxisX(t,e){if(this.m_YStart===this.m_YEnd)return t===this.m_YStart?e:Number.NaN;if(t===this.m_YStart)return this.m_XStart;if(t===this.m_YEnd)return this.m_XEnd;const n=[Number.NaN,Number.NaN],i=this.intersectionWithAxis2D(!0,t,n,null);return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(2!==i),-1===i?e:n[0]}isCurve(){return!0}isDegenerate(t){return Re(this,t)}isDegenerate3D(t,e){return!1}queryLooseEnvelope(t){if(t instanceof _Envelope2D_js__WEBPACK_IMPORTED_MODULE_3__.Envelope2D)return t.setCoords({pt:this.getStartXY()}),t.mergeNe(this.m_cp),void t.mergeNe(this.getEndXY())}clone(t){const e=this.createInstance();return this.copyTo(e),e}queryInterval(t,e){if(0===t){const t=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_3__.Envelope2D.constructEmpty();this.queryEnvelope(t);const s=_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.E.constructEmpty();return 0===e?t.queryIntervalX(s):t.queryIntervalY(s),s}return super.queryInterval(t,e)}queryLooseEnvelopeOnInterval(t,e){const s=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P,3);this.queryControlPoints(s);const n=[0,0,0];Qa(s,this.m_weights,t.vmin,t.vmax,s,n),e.setFromPoints(s,3)}changeEndPoints2D(t,e){if(t.isEqual(this.m_XStart,this.m_YStart)&&e.isEqual(this.m_XEnd,this.m_YEnd))return;const s=this.m_cp.isEqual(this.m_XStart,this.m_YStart),n=this.m_cp.isEqual(this.m_XEnd,this.m_YEnd);this.setStartXY(t),this.setEndXY(e),s?this.m_cp.setCoordsPoint2D(t):n&&this.m_cp.setCoordsPoint2D(e),this.normalizeAfterEndpointChange()}tToLength(t){return _a(this,t,!0)}lengthToT(t){return Ta(this,t)}calculateWeightedAreaCentroid2D(t){const e=Na(this),s=Ia(this);return e.x+=(this.getStartX()-t.x)*s,e.y+=(this.getStartY()-t.y)*s,e}calculateWeightedCentroid2D(){const t=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P;return this.isDegenerate(0)?(t.setCoords(0,0),t):Fa(this)?(t.assign(this.getCoord2D(.5).mul(this.calculateLength2D())),t):(t.assign(Ua(this,1)),t)}getControlPoint1(){return this.m_cp.clone()}setControlPoint1(t){this.m_cp.setCoordsPoint2D(t),this.afterCompletedModification()}queryWeights(t){for(let e=0;e<3;++e)t[e]=this.m_weights[e]}queryCoord2DMP(t,e){const s=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P,3);return this.queryControlPoints(s),gh(s.map((t=>Xe.constructPoint2D(t))),this.m_weights.map((t=>_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.M.constructDouble(t))),_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.M.constructDouble(t),e)}setWeights(t){}queryControlPoints(t){t[0].assign(this.getStartXY()),t[1].assign(this.m_cp),t[2].assign(this.getEndXY())}queryControlPointsHelper(t){return this.queryControlPoints(t),3}setControlPointsAndWeights(t,e){this.setCpsAndWeightsArray(t,e),this.afterCompletedModification()}getTangent(t){const e=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P,3);return this.queryControlPoints(e),wa(e,this.m_weights,t)}getDerivative(t){const e=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.s)(t,0,1),s=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P,4);return pa(this,1,e,s),s[1]}getCurvature(t){const e=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P,4);pa(this,2,t,e);const s=e[1].sqrLength();if(0===s)return Number.NaN;e[1].divThis(Math.sqrt(s));return e[1].crossProduct(e[2])/s}isIntersecting(t,e,s){return!1}isIntersectingPoint(t,e,s){return!1}isIntersectingPoint3D(t,e,s,n,i=1){return!1}isMonotoneQuickAndDirty(){const t=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P,3);return this.queryControlPoints(t),ja(t)}getMonotonicPartParams(t,s){const n=ga(this),i=n.specialPointsCount();if(!s)return n.specialPointsCount();t<i&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.a)("");for(let e=0;e<i;e++)s[e]=n.specialPoints[e];return i}normalizeAfterEndpointChange(){return!1}orientBottomUp(){if(this.m_YEnd<this.m_YStart||this.m_YEnd===this.m_YStart&&this.m_XEnd<this.m_XStart){this.m_XEnd=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.c)(this.m_XStart,this.m_XStart=this.m_XEnd),this.m_YEnd=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.c)(this.m_YStart,this.m_YStart=this.m_YEnd),this.m_weights[2]=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.c)(this.m_weights[0],this.m_weights[0]=this.m_weights[2]);for(let t=0,e=this.m_description.getTotalComponentCount()-2;t<e;t++)this.m_attributes[t+e]=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.c)(this.m_attributes[t],this.m_attributes[t]=this.m_attributes[t+e]);this.m_cachedValues=null}}isLine(){return!1}isDegenerateToLineHelper(t){const e=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P,3);this.queryControlPoints(e);const s=e[2].sub(e[0]),n=s.length();if(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.distance(e[0],e[1])+_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.distance(e[2],e[1])-n>t)return!1;const i=t,r=e[1].clone();r.subThis(e[0]);return!(Math.abs(r.crossProduct(s))/n>i)}copyIgnoreAttributes(t){const e=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P,3);this.queryControlPoints(e);const s=[0,0,0];this.queryWeights(s),t.setControlPointsAndWeights(e,s)}calculateArea2DHelper(){return Ia(this)}absNorm(){return this.getStartXY().norm(1)+this.getEndXY().norm(1)+this.m_cp.norm(1)}absNormXYZ(t){return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(0),0}queryEnvelopeW(t,e){Ga(this,t,e)}setSegmentFromCoordsForStitcher(t,e){const s=[0,0,0];this.queryWeights(s),this.constructWeights(t[0],this.getControlPoint1(),t[e-1],s[0],s[1],s[2])}writeInBufferStream(t,e){const s=new Float64Array(5);return s[0]=this.m_cp.x,s[1]=this.m_cp.y,s[2]=this.m_weights[0],s[3]=this.m_weights[1],s[4]=this.m_weights[2],t.writeRangeFromArray(e,s.length,s,!0,1),e+s.length}readFromBufferStream(t,e){const s=new Float64Array(5);t.queryRange(e,s.length,s,!0,1),this.m_cp.x=s[0],this.m_cp.y=s[1],this.m_weights[0]=s[2],this.m_weights[1]=s[3],this.m_weights[2]=s[4],this.m_cachedValues=null}snapControlPoints(t){const e=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P,3);this.queryControlPoints(e);const s=_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.sqrDistance(e[1],e[0]),n=_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.sqrDistance(e[1],e[2]);let i=e[0].clone(),r=s;s>n&&(i=e[2].clone(),r=n);let o=!1;return r<=t&&0!==r&&(o=!0,this.setControlPoint1(i)),o}needsSnapControlPoints(t){if(!t)return!1;const e=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P,3);this.queryControlPoints(e);const s=_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.sqrDistance(e[1],e[0]),n=_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.sqrDistance(e[1],e[2]);e[0].clone();let i=s;return s>n&&(e[2].clone(),i=n),i<=t&&0!==i}calculateSpecialPointsForCracking(t,e){return 0}ensureXYMonotone(){return Za(this)}setCoordsForIntersector(t,e,s){Ka(this,t,e,s)}copyToImpl(t){const e=t;e.m_cp.setCoordsPoint2D(this.m_cp),e.m_weights[0]=this.m_weights[0],e.m_weights[1]=this.m_weights[1],e.m_weights[2]=this.m_weights[2],La(e,Va(this))}reverseImpl(){this.m_weights[2]=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.c)(this.m_weights[0],this.m_weights[0]=this.m_weights[2])}equalsImpl(t){const e=t;if(!this.m_cp.equals(e.m_cp))return!1;for(let s=0;s<3;s++)if(this.m_weights[s]!==e.m_weights[s])return!1;return!0}equalsImplTol(t,e){const s=t;if(!this.m_cp.isEqualPoint2D(s.m_cp,e))return!1;const n=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P,3);this.queryControlPoints(n);const i=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P,3);s.queryControlPoints(i);const r=[s.m_weights[0],s.m_weights[1],s.m_weights[2]];for(let o=0;o<3;o++){const t=new _Envelope_js__WEBPACK_IMPORTED_MODULE_1__.d;t.setCoordsPoint2DZ(n[o].mul(this.m_weights[o]),this.m_weights[o]);const s=new _Envelope_js__WEBPACK_IMPORTED_MODULE_1__.d;if(s.setCoordsPoint2DZ(i[o].mul(r[o]),r[o]),!t.isEqual(s,e))return!1}return!0}swapImpl(t){const e=t;e.m_cp=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.c)(this.m_cp,this.m_cp=e.m_cp),e.m_weights=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.c)(this.m_weights,this.m_weights=e.m_weights),ca(this,e)}afterCompletedModification(){la(this)}intersect(t,e,s,n,i){return um(!1,this,t,e,s,n,i)}intersectPoint(t,e,s){return ka(this,t,e,s)}endPointModified(){la(this)}clearEndPointModified(){}setCpsAndWeights(t,s,n,i,r,o){(i<=0||o<=0||r<0)&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.a)("weights"),(t.isNAN()||s.isNAN()||n.isNAN())&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.a)("NAN control points in bezier are not supported"),this.setStartXY(t),this.m_cp.assign(s),this.m_weights[0]=i,this.m_weights[1]=r,this.m_weights[2]=o,this.setEndXY(n)}setCpsAndWeightsArray(t,e){this.setCpsAndWeights(t[0],t[1],t[2],e[0],e[1],e[2])}}En.type=_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.G.enumRationalBezier2;var Dn=_Envelope_js__WEBPACK_IMPORTED_MODULE_1__.V;class wn extends gs{constructor(t){void 0===t||(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.W)(t,"vd")?(super({vd:t?.vd,XStart:0,YStart:0,XEnd:0,YEnd:0}),this.m_cp=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P(0,0)):t.from?(super({XStart:t.from.x,YStart:t.from.y,XEnd:t.to.x,YEnd:t.to.y,...t.vd}),this.m_cp=t.cp.clone()):t.points?(super({XStart:t.points[0].x,YStart:t.points[0].y,XEnd:t.points[2].x,YEnd:t.points[2].y,...t.vd}),this.m_cp=t.points[1].clone()):t.copy?(super(t),this.m_cp=t.copy.m_cp.clone()):(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.d)("unexpected constructor args")}getBoundary(){return Ks(this)}assignCopy(t){return this!==t&&t.copyTo(this),this}construct(t,e,s){this.setStartXY(t),this.m_cp.assign(e),this.setEndXY(s),ii(this)}constructPoints(t){this.setStartXY(t[0]),this.m_cp.assign(t[1]),this.setEndXY(t[2]),ii(this)}getGeometryType(){return _Geometry_js__WEBPACK_IMPORTED_MODULE_0__.G.enumBezier2}queryEnvelope(t){if(2!==t.m_EnvelopeType)(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.t)("env type not impl");else{if(t.setCoords(this.getStartXY()),t.mergeNe(this.getEndXY()),t.contains(this.m_cp))return;const e=yi(this);if(null!==e){const s=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P;for(const n of e.specialPoints)this.queryCoord2D(n,s),t.mergeNe(s)}else{const e=[];ai(this,e);const s=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P;for(const n of e)this.queryCoord2D(n,s),t.mergeNe(s)}}}applyTransformation(t){if(1===t.m_TransformationType){const e=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P,3);return this.queryControlPoints(e),t.transformPoints2D(e,3,e),this.setStartXY(e[0]),this.m_cp.assign(e[1]),this.setEndXY(e[2]),void this.afterCompletedModification()}(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(0)}createInstance(){return new wn({vd:this.m_description})}calculateLength2D(){return hi(this,1,!1)}calculateLowerLength2D(){return _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.distance(this.getStartXY(),this.getEndXY())}calculateUpperLength2D(){return this.calculateUpperLength2D_()}calculateUpperLength2D_(){return _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.distance(this.getStartXY(),this.m_cp)+_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.distance(this.getEndXY(),this.m_cp)}queryCoord2D(t,e){this.queryCoord2DExtended(t,e,!1)}queryCoord2DExtended(t,e,s){const n=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P,3);this.queryControlPoints(n),ji(n,t,e,s)}queryCoord2DE(t,e){Zi(this,t,e)}queryCoord2DMP(t,e){(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(!1,"bernstein polynomials not ported")}getCoordX(t){if(t<0||t>1){const e=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P;return this.queryCoord2DExtended(t,e,!0),e.x}if(t<=.5){const e=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.X)(this.getStartX(),this.m_cp.x,t),s=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.X)(this.m_cp.x,this.getEndX(),t);return (0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.X)(e,s,t)}{const e=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.Y)(this.getStartX(),this.m_cp.x,t),s=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.Y)(this.m_cp.x,this.getEndX(),t);return (0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.Y)(e,s,t)}}getCoordY(t){if(t<0||t>1){const e=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P;return this.queryCoord2DExtended(t,e,!0),e.y}if(t<=.5){const e=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.X)(this.getStartX(),this.m_cp.x,t),s=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.X)(this.m_cp.x,this.getEndX(),t);return (0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.X)(e,s,t)}{const e=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.Y)(this.getStartY(),this.m_cp.y,t),s=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.Y)(this.m_cp.y,this.getEndY(),t);return (0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.Y)(e,s,t)}}cut(t,e,s){const n=new fm;return this.queryCut(t,e,n,s),n.releaseSegment()}queryCut(t,e,s,n){const i=s.createQuadraticBezier();if(this.cutBezierIgnoreAttributes(t,e,i),n)return;i.assignVertexDescription(this.m_description);const r=this.m_description.getAttributeCount();if(r>1){for(let e=1;e<r;e++){const s=this.m_description.getSemantics(e),n=Dn.getComponentCount(s);for(let e=0;e<n;e++){const n=this.getAttributeAsDbl(t,s,e);i.setStartAttribute(s,e,n)}}for(let t=1;t<r;t++){const s=this.m_description.getSemantics(t),n=Dn.getComponentCount(s);for(let t=0;t<n;t++){const n=this.getAttributeAsDbl(e,s,t);i.setEndAttribute(s,t,n)}}}}queryDerivative(t,e){Ui(this,t,e)}cutBezierIgnoreAttributes(t,s,n){if((t<0||s>1||t>s)&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.a)("Quadratic_bezier.cut_bezier_ignore_attributes"),0===t&&1===s)return n.setStartXY(this.getStartXY()),n.m_cp.assign(this.m_cp),void n.setEndXY(this.getEndXY());const i=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P,3);this.queryControlPoints(i),Mi(i,t,s,i),n.constructPoints(i)}splitBezierIgnoreAttributes(t,e,n){(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(0)}getAttributeAsDbl(t,e,s){if(0===e)return 0===s?this.getCoordX(t):this.getCoordY(t);const n=this.calculateLength2D(),i=n>0?this.tToLength(t)/n:0,r=Dn.getInterpolation(e),o=this.getStartAttributeAsDbl(e,s),a=this.getEndAttributeAsDbl(e,s);return (0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.V)(r,o,a,i,Dn.getDefaultValue(e))}getClosestCoordinate(t,e){return Ci(this,t,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.E.unit(),e)}getClosestCoordinateOnInterval(t,e,s=-1){return Ci(this,t,e,!1)}getYMonotonicParts(t,e){return this.getMonotonicParts(t,e)}getMonotonicParts(t,n){t.length<2&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.a)("");const i=oi(this);let r=0;if(2===i.specialPointsCount())return 0;(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(t.length>=i.specialPointsCount()-1);for(let e=1,s=i.specialPointsCount();e<s;++e)this.queryCut(i.specialPoints[e-1],i.specialPoints[e],t[r],n),r++;for(let e=0;e<r;++e){wi(t[e].get())}return r}intersectionWithAxis2D(t,e,s,n){const i=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.H,3),r=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.H,2),o=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.E(0,1);let a=0;if(t){if(i[0]=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.H(this.getStartY()).sub(e),i[1]=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.H(this.m_cp.y).subE(new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.H(this.getStartY())).mulThisByPower2(2),i[2]=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.H(this.getStartY()).add(this.getEndY()).subE(new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.H(this.m_cp.y).mulThisByPower2(2)),a=gn(i[2],i[1],i[0],o,!1,r),s)for(let h=0;h<a;h++)s[h]=this.getCoordX(r[h].value())}else if(i[0]=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.H(this.getStartX()).sub(e),i[1]=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.H(this.m_cp.x).subE(new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.H(this.getStartX())).mulThisByPower2(2),i[2]=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.H(this.getStartX()).add(this.getEndX()).subE(new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.H(this.m_cp.x).mulThisByPower2(2)),a=gn(i[2],i[1],i[0],o,!1,r),s)for(let h=0;h<a;h++)s[h]=this.getCoordY(r[h].value());if(n)for(let h=0;h<a;h++)n[h]=r[h].value();else s&&(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.Z)(s,a);return a}intersectionOfYMonotonicWithAxisX(t,e){if(this.m_YStart===this.m_YEnd)return t===this.m_YStart?e:Number.NaN;if(t===this.m_YStart)return this.m_XStart;if(t===this.m_YEnd)return this.m_XEnd;const n=[0,0],i=this.intersectionWithAxis2D(!0,t,n,null);return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(2!==i),-1===i?e:n[0]}isCurve(){return!0}isLine(){return!1}isDegenerate(t){return Re(this,t)}isDegenerate3D(t,e){return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(0),!1}queryLooseEnvelope(t){if(2===t.m_EnvelopeType)return t.setCoords(this.getStartXY()),t.mergeNe(this.m_cp),void t.mergeNe(this.getEndXY());(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(0)}clone(t){const e=this.createInstance();return this.copyTo(e),e}queryInterval(t,e){if(0===t){const t=new _Envelope2D_js__WEBPACK_IMPORTED_MODULE_3__.Envelope2D;this.queryEnvelope(t);const s=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.E;return 0===e?t.queryIntervalX(s):t.queryIntervalY(s),s}return super.queryInterval(t,e)}queryLooseEnvelopeOnInterval(t,e){const s=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P,4);this.queryControlPoints(s),Mi(s,t.vmin,t.vmax,s),e.setFromPoints(s,4)}changeEndPoints2D(t,e){if(t.isEqual(this.m_XStart,this.m_YStart)&&e.isEqual(this.m_XEnd,this.m_YEnd))return;const s=this.m_cp.isEqual(this.m_XStart,this.m_YStart),n=this.m_cp.isEqual(this.m_XEnd,this.m_YEnd);this.setStartXY(t),this.setEndXY(e),s?this.m_cp.setCoordsPoint2D(t):n&&this.m_cp.setCoordsPoint2D(e),this.normalizeAfterEndpointChange()}tToLength(t){return hi(this,t,!0)}lengthToT(t){return _i(this,t)}calculateWeightedAreaCentroid2D(t){const e=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P,3);Bi(this,e);const s=e[2],n=e[1],i=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P,r=s.y*n.x-s.x*n.y;i.x=-(4*s.x+5*n.x)*r/60,i.y=-(4*s.y+5*n.y)*r/60;const o=pi(this);return i.x+=(e[0].x-t.x)*o,i.y+=(e[0].y-t.y)*o,i}calculateWeightedCentroid2D(){const t=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P;return this.isDegenerate(0)?(t.setCoords(0,0),t):Pi(this)?(t.assign(this.getCoord2D(.5).mul(this.calculateLength2D())),t):(t.assign(Ti(this,1)),t)}getControlPoint1(){return this.m_cp.clone()}setControlPoint1(t){this.m_cp.setCoordsPoint2D(t),this.afterCompletedModification()}queryControlPoints(t){t[0].assign(this.getStartXY()),t[1].assign(this.m_cp),t[2].assign(this.getEndXY())}queryControlPointsHelper(t){return this.queryControlPoints(t),3}setControlPoints(t){for(let s=0;s<3;s++)t[s].isNAN()&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.a)("NaN control points in bezier are not supported");this.m_XStart=t[0].x,this.m_YStart=t[0].y,this.m_cp.setCoordsPoint2D(t[1]),this.m_XEnd=t[2].x,this.m_YEnd=t[2].y,this.afterCompletedModification()}getTangent(t){const e=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.s)(t,0,1);let s=ci(this,1,e);return s.isZero()&&(s=ci(this,2,e),1===e&&s.negateThis()),s}getDerivative(t){return ci(this,1,(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.s)(t,0,1))}getCurvature(t){const e=ci(this,1,t),s=ci(this,2,t),n=e.sqrLength();if(0===n)return Number.NaN;e.divThis(Math.sqrt(n));return e.crossProduct(s)/n}isIntersecting(t,e,s){return 0!==rm(!1,this,t,e,s)}isIntersectingPoint(t,e,s){if(s&&(t.isEqualPoint2D(this.getStartXY())||t.isEqualPoint2D(this.getEndXY())))return!1;const n=new _Envelope2D_js__WEBPACK_IMPORTED_MODULE_3__.Envelope2D;if(this.queryLooseEnvelope(n),n.inflateCoords(e,e),!n.contains(t))return!1;const i=this.getClosestCoordinate(t,!1),r=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P;this.queryCoord2D(i,r);return _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.distance(r,t)<=e}isIntersectingPoint3D(t,e,n,i,r=1){return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(0),!1}isMonotoneQuickAndDirty(){return!1}getMonotonicPartParams(t,s){const n=oi(this),i=n.specialPointsCount();if(!s)return n.specialPointsCount();t<i&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.a)("");for(let e=0;e<i;e++)s[e]=n.specialPoints[e];return i}normalizeAfterEndpointChange(){return!1}orientBottomUp(){if(this.m_YEnd<this.m_YStart||this.m_YEnd===this.m_YStart&&this.m_XEnd<this.m_XStart){(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.c)(this.m_XStart,this.m_XStart=this.m_XEnd),(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.c)(this.m_YStart,this.m_YStart=this.m_YEnd);for(let t=0,e=this.m_description.getTotalComponentCount()-2;t<e;t++)this.m_attributes[t+e]=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.c)(this.m_attributes[t],this.m_attributes[t]=this.m_attributes[t+e]);this.m_cachedValues=null}}isDegenerateToLineHelper(t){const e=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P,3);this.queryControlPoints(e);const s=e[2].sub(e[0]),n=s.length();if(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.distance(e[0],e[1])+_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.distance(e[2],e[1])-n>t)return!1;const i=t,r=e[1].clone();r.subThis(e[0]);return!(Math.abs(r.crossProduct(s))/n>i)}copyIgnoreAttributes(t){const e=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P,3);this.queryControlPoints(e),t.setControlPoints(e)}calculateArea2DHelper(){return pi(this)}absNorm(){return Ni(this)}queryEnvelopeW(t,e){const s=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P,3);this.queryControlPoints(s),Ei(s,t,e)}setSegmentFromCoordsForStitcher(t,e){this.construct(t[0],this.getControlPoint1(),t[e-1])}snapControlPoints(t){return $i(this,t)}writeInBufferStream(t,e){const s=new Float64Array(2);return s[0]=this.m_cp.x,s[1]=this.m_cp.y,t.writeRangeFromArray(e,s.length,s,!0,1),e+s.length}readFromBufferStream(t,e){const s=new Float64Array(2);t.queryRange(e,s.length,s,!0,1),this.m_cp.x=s[0],this.m_cp.y=s[1],this.m_cachedValues=null}needsSnapControlPoints(t){return tr(this,t)}calculateSpecialPointsForCracking(t,e){return 0}ensureXYMonotone(){return wi(this)}setCoordsForIntersector(t,e,s){Yi(this,t,e,s)}copyToImpl(t){const e=t;e.m_cp.setCoordsPoint2D(this.m_cp),xi(e,yi(this))}reverseImpl(){}equalsImplTol(t,e){const s=t;return!!this.m_cp.isEqualPoint2D(s.m_cp,e)}equalsImpl(t){const e=t;return!!this.m_cp.equals(e.m_cp)}swapImpl(t){const e=t;e.m_cp=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.c)(this.m_cp,this.m_cp=e.m_cp),ri(this,e)}afterCompletedModification(){ii(this)}intersect(t,e,s,n,i){return um(!1,this,t,e,s,n,i)}intersectPoint(t,e,s){return bi(this,t,e.length,e,s)}endPointModified(){ii(this)}clearEndPointModified(){}}wn.type=_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.G.enumBezier2;class An{constructor(t){return t.coefsT?(this.m_zeroCtor=t.zeroCtor,this.m_elements=t.coefsT.map((t=>t.clone())),(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(this.m_elements.length===t.power+1),void this.updatePower()):t.coef0?(this.m_zeroCtor=t.zeroCtor,void(this.m_elements=[t.coef0.clone()])):t.copy?(this.m_zeroCtor=t.copy.m_zeroCtor,void(this.m_elements=t.copy.m_elements.map((t=>t.clone())))):(this.m_zeroCtor=t.zeroCtor,void(this.m_elements=[new this.m_zeroCtor]))}construct(t,e){return this.m_elements=t.map((t=>t.clone())),this.updatePower(),this}construct0(t){return this.m_elements.length=0,this.m_elements.push(t.clone()),this.updatePower(),this}assignCopy(t){return this.m_elements=t.m_elements.map((t=>t.clone())),this.updatePower(),this}assignMove(t){return this.m_elements=t.m_elements,t.m_elements=[],this.updatePower(),this}power(){return this.m_elements.length-1}addElement(t){this.m_elements.push(t.clone())}scaleRangeToUnitInterval(t,e){const s=e;s.subThis(t);const n=this.power();for(let i=0;i<=n;i++){const e=new this.m_zeroCtor;for(let s=i;s<=n;s++){const n=this.m_elements[s];n.mulDoubleThis((0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.ao)(s,i));const r=t.pow(s-i);n.mulThis(r),e.addThis(n)}const r=s.pow(i);e.mulThis(r),this.m_elements[i]=e}}fmSubThis(t,e){return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(0),this}addThis(t){const e=Math.min(this.power(),t.power());for(let n=0;n<=e;++n)this.m_elements[n].addThis(t.m_elements[n]);const s=t.power();this.m_elements.length=Math.max(this.power(),t.power())+1;for(let n=e+1;n<=s;++n)this.m_elements[n]=t.m_elements[n];return this.updatePower(),this}add0(t){return this.m_elements[0].addThis(t),this.updatePower(),this}addNumber0(t){return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(0),this}sub(t){const e=Math.min(this.power(),t.power());for(let n=0;n<=e;++n)this.m_elements[n].subThis(t.m_elements[n]);const s=t.power();this.m_elements.length=Math.max(this.power(),t.power())+1;for(let n=e+1;n<=s;++n)this.m_elements[n]=t.m_elements[n].clone(),this.m_elements[n].negateThis();return this.updatePower(),this}sub0(t){return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(0),this}subNumber0(t){return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(0),this}subShifted(t,e){const s=this.power(),n=t.power()+e,i=Math.min(this.power(),n);let r=0;for(let o=e;o<=i;++o)this.m_elements[o].subThis(t.m_elements[r]),r++;if(n<=s)return this.updatePower(),this;this.m_elements.length=n+1;for(let o=s+1;o<this.m_elements.length;++o)this.m_elements[o]=new this.m_zeroCtor;for(let o=i+1;o<=n;++o)this.m_elements[o].subThis(t.m_elements[r++]);return this.updatePower(),this}subShiftedWithCoef(t,e,s){const n=this.power(),i=t.power()+s,r=Math.min(this.power(),i);let o=0;for(let a=s;a<=r;++a)this.m_elements[a].fmSubThis(t.m_elements[o],e),o++;if(i<=n)return this.updatePower(),this;this.m_elements.length=i+1;for(let a=n+1;a<this.m_elements.length;++a)this.m_elements[a]=new this.m_zeroCtor;for(let a=r+1;a<=i;++a)this.m_elements[a].fmSubThis(t.m_elements[o++],e);return this.updatePower(),this}mulThis(t){if(this.constructor===t.constructor){const e=t,s=[];for(let t=0,n=this.power();t<=n;t++)for(let i=0,r=e.power();i<=r;i++){const n=this.m_elements[t].clone();n.mulThis(e.m_elements[i]),t+i<s.length?s[t+i].addThis(n):s.push(n)}this.m_elements=s}else for(let e=0,s=this.power();e<=s;e++)this.m_elements[e].mulThis(t);return this.updatePower(),this}mulElementThis(t){for(let e=0,s=this.power();e<=s;e++)this.m_elements[e].mulThis(t);return this.updatePower(),this}mulDoubleThis(t){for(let e=0,s=this.power();e<=s;e++)this.m_elements[e].mulDoubleThis(t);return this.updatePower(),this}mulNumber0(t){return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(0),this}mulBigint0(t){return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(0),this}mulBigIntThis(t){return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(0),this}mulInt320(t){return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(0),this}div0(t){return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(0),this}absThis(){return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(0),this}div(t,e,s){if(this.power()<t.power())return s.assignCopy(this),void e.setZero();s.setZero(),e.setZero();const n=t.getElement(t.power()),i=this.clone();let r=i.power();const o=i.power()-t.power();let a=o;for(e.m_elements=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(e.m_zeroCtor,o+1);;){if(r<t.power()){s.assignMove(i);break}if(r===i.power()){const s=i.getElement(i.power());s.divThis(n),i.subShiftedWithCoef(t,s,i.power()-t.power()),e.m_elements[a]=s.clone()}a--,r--}s.updatePower(),e.updatePower()}divThis(t){return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(0),this}subThis(t){const e=Math.min(this.power(),t.power());for(let n=0;n<=e;++n)this.m_elements[n].subThis(t.m_elements[n]);const s=t.power();this.m_elements.length=Math.max(this.power(),t.power())+1;for(let n=e+1;n<=s;++n)this.m_elements[n]=t.m_elements[n].clone(),this.m_elements[n].negateThis();return this.updatePower(),this}sub0This(t){return this.m_elements[0].subThis(t),this.updatePower(),this}subFrom(t,e){(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(0)}isZero(){return 0===this.power()&&this.m_elements[0].isZero()}negateThis(){for(let t=this.m_elements.length-1;t>=0;t--)this.m_elements[t].negateThis();return this}getElement(t){return this.m_elements[t].clone()}setElement(t,e){return this.m_elements[t]=e.clone(),this}evaluate(t){const e=this.power(),s=this.m_elements[e].clone();for(let n=e-1;n>=0;--n)s.mulThis(t),s.addThis(this.m_elements[n]);return s}equals(t){if(this===t)return!0;if(this.power()!==t.power())return!1;for(let e=this.m_elements.length-1;e>=0;e--)if(!this.m_elements[e].equals(t.m_elements[e]))return!1;return!0}updatePower(){for(let t=this.m_elements.length-1;t>0&&this.m_elements[t].isZero();t--)this.m_elements.pop();return this}setZero(){return this.m_elements.length=1,this.m_elements[0]=new this.m_zeroCtor,this.updatePower(),this}derivative(t){if(this.power()<t)return this.clone().setZero();if(0===t)return this.clone();const e=new this.constructor({coefsT:this.m_elements.slice(t),power:this.power()-t});for(let s=t,n=this.power();s<=n;s++){let n=BigInt(s);for(let e=s-1,i=s-t;e>i;--e)n*=BigInt(e);e.m_elements[s-t].mulBigIntThis(n)}return e.updatePower(),e}derivative1This(){if(this.m_elements.length>1){this.m_elements=this.m_elements.slice(1);for(let t=1,e=this.power();t<=e;t++)this.m_elements[t].mulThis(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.M.constructInt32(t+1))}else this.m_elements.length=0,this.m_elements.push(new this.m_zeroCtor);return this}limitPrecisionThis(t){for(let e=this.power();e>=0;--e)this.m_elements[e].limitPrecisionThis(t);return this.updatePower(),this}hiBitIndex(){return this.m_elements.reduce(((t,e)=>{const s=e.hiBitIndex();return t<s?s:t}),0)}shiftRight(t){return this.m_elements.splice(0,t),this.updatePower(),this}evaluateDerivative(t){const e=this.power(),s=this.m_elements[e];s.mulDoubleThis(e);for(let n=e-1;n>=1;--n){s.mulThis(t);const e=this.m_elements[n];e.mulDoubleThis(n),s.addThis(e)}return s}static evaluateCoefs(t,e,s){const n=t.power();s.construct0(t.getElement(0).evaluate(e));for(let i=1;i<=n;++i)s.addElement(t.getElement(i).evaluate(e));s.updatePower()}}class Tn extends An{constructor(t){super(void 0===t?{zeroCtor:_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.M}:{...t,zeroCtor:_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.M})}clone(){return new Tn({copy:this})}absEvaluate(t){const e=this.power(),s=this.m_elements[e].clone();s.absThis();const n=t.clone();n.absThis();for(let i=e-1;i>=0;--i)s.mulThis(n),s.addThis(this.m_elements[i].abs());return s}}class In extends An{constructor(t){super(void 0===t?{zeroCtor:Tn}:{...t,zeroCtor:Tn})}clone(){return new In({copy:this})}constructFromMPValues(t,e){this.m_elements.length=0;for(let s=0;s<=e;++s)this.m_elements.push(new Tn({coef0:t[s]}));return this.updatePower(),this}}function Mn(){return{polypoly1:new In,polypoly2:new In,polyX2:new Tn,polyY2:new Tn,polyX2Deriv:new Tn,polyY2Deriv:new Tn,polypolyX1:new In,polypolyY1:new In,polypolyX1Deriv:new In,polypolyY1Deriv:new In,lazyPolypolyD1:new In,lazyPolypolyD1Deriv:new In,lazyPolyD2:new Tn,lazyPolyD2Deriv:null,polypoly11:new In,polypoly12:new In,tempPp:new In,tempPp1:new In,tempPp2:new In,tempP:new Tn,tempP1:new Tn,tempP2:new Tn}}function Yn(t,e,n,i,r,o,a,u,m,l,c,g,d,_,p,f,P,y,x,C=!1){const v=Mn();v.polyX2.construct(a,u),v.polyY2.construct(m,l),v.polypolyX1.constructFromMPValues(t,e),v.polypolyY1.constructFromMPValues(n,i),v.polypoly11.assignCopy(v.polypolyX1),v.polypoly12.assignCopy(v.polypolyY1),c&&(v.lazyPolyD2.construct(c,g),v.polypoly11.mulElementThis(v.lazyPolyD2),v.polypoly12.mulElementThis(v.lazyPolyD2)),r?(v.lazyPolypolyD1.constructFromMPValues(r,o),v.lazyPolypolyD1Deriv=new In({copy:v.lazyPolypolyD1}),v.lazyPolypolyD1Deriv.derivative1This(),v.tempPp.assignCopy(v.lazyPolypolyD1),v.tempPp.mulElementThis(v.polyX2),v.polypoly11.subThis(v.tempPp),v.tempPp.assignCopy(v.lazyPolypolyD1),v.tempPp.mulElementThis(v.polyY2),v.polypoly12.subThis(v.tempPp)):(v.polypoly11.sub0This(v.polyX2),v.polypoly12.sub0This(v.polyY2)),v.polypolyX1Deriv.assignCopy(v.polypolyX1),v.polypolyX1Deriv.derivative1This(),v.polypolyY1Deriv.assignCopy(v.polypolyY1),v.polypolyY1Deriv.derivative1This(),r&&(v.polypolyX1Deriv.mulThis(v.lazyPolypolyD1),v.tempPp2.assignCopy(v.lazyPolypolyD1Deriv),v.tempPp2.mulThis(v.polypolyX1),v.polypolyX1Deriv.subThis(v.tempPp2),v.polypolyY1Deriv.mulThis(v.lazyPolypolyD1),v.tempPp2.assignCopy(v.lazyPolypolyD1Deriv),v.tempPp2.mulThis(v.polypolyY1),v.polypolyY1Deriv.subThis(v.tempPp2)),v.polyX2Deriv.assignCopy(v.polyX2),v.polyX2Deriv.derivative1This(),v.polyY2Deriv.assignCopy(v.polyY2),v.polyY2Deriv.derivative1This(),c&&((0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(null===v.lazyPolyD2Deriv),v.lazyPolyD2Deriv=new Tn({copy:v.lazyPolyD2}),v.lazyPolyD2Deriv.derivative1This(),v.polyX2Deriv.mulThis(v.lazyPolyD2),v.tempP1.assignCopy(v.lazyPolyD2Deriv),v.tempP1.mulThis(v.polyX2),v.polyX2Deriv.subThis(v.tempP1),v.polyY2Deriv.mulThis(v.lazyPolyD2),v.tempP1.assignCopy(v.lazyPolyD2Deriv),v.tempP1.mulThis(v.polyY2),v.polyY2Deriv.subThis(v.tempP1)),v.polypoly1.assignCopy(v.polypoly11),v.polypoly1.mulElementThis(v.polyX2Deriv),v.tempPp.assignCopy(v.polypoly12),v.tempPp.mulElementThis(v.polyY2Deriv),v.polypoly1.addThis(v.tempPp),v.polypoly2.assignCopy(v.polypolyX1Deriv),v.polypoly2.mulElementThis(v.polyY2Deriv),v.tempPp.assignCopy(v.polypolyY1Deriv),v.tempPp.mulElementThis(v.polyX2Deriv),v.polypoly2.subThis(v.tempPp);let b=[];const S=[];P||(P=[]),f||(f=[]),kn(v.polypoly11,v.polypoly12,v.tempP);const E=64,D=_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.ai.ldexp(-59).toDouble(),w=[];let A=Gn(v.tempP,d,p,D,E,w,y,y);if(A<0)return-1;for(let Y=0;Y<A;Y++){const t=v.tempP1,e=v.tempP2;Tn.evaluateCoefs(v.polypoly11,w[Y],t);const n=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.aj)(t.m_elements,t.power()+1);n.sort(((t,e)=>t.compare(e))),Tn.evaluateCoefs(v.polypoly12,w[Y],e);const i=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.aj)(e.m_elements,e.power()+1);i.sort(((t,e)=>t.compare(e)));const r=n[0],o=n.at(-1),a=i[0],u=i.at(-1);o.subThis(r),u.subThis(a);const m=o.subThis(u).GEZ(),l=58,c=_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.ai.ldexp(-59).toDouble(),g=[];let p;if(p=Gn(m?t:e,d,_,c,l,g,y,y),p<0&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.d)("mp_curve_proximity"),p>0){const n=m?e:t;for(let t=0;t<p;t++){let e;if(m){const s=v.tempP;Tn.evaluateCoefs(v.polypoly12,w[Y].addDouble(Number.EPSILON),s),e=s.evaluate(g[t])}else{const s=v.tempP;Tn.evaluateCoefs(v.polypoly11,w[Y].addDouble(Number.EPSILON),s),e=s.evaluate(g[t])}const i=n.evaluateDerivative(g[t]).abs().mulDoubleThis(Number.EPSILON),r=n.evaluate(g[t]);i.addThis(e.sub(r).absThis()),i.ldexpThis(3),r.absThis(),r.lt(i)?S.push((0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.l)(g[t].toDouble(),w[Y].toDouble())):(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(r.gte(i))}}}A=S.length,kn(v.polypoly1,v.polypoly2,v.tempP);const T=[];let I=Gn(v.tempP,d,p,D,E,T);I<0&&(I=0);for(let s=0;s<I;s++){Tn.evaluateCoefs(v.polypoly1,T[s],v.tempP1);const t=[];let e=Gn(v.tempP1,d,_,D,E,t);if(0!==e)if(Tn.evaluateCoefs(v.polypoly2,T[s],v.tempP2),e<0){if(e=Gn(v.tempP2,d,_,D,E,t),e<0)continue;for(let n=0;n<e;n++)b.push((0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.l)(t[n].toDouble(),T[s].toDouble()))}else{const n=v.tempP2.absEvaluate(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.ai);n.mulThis(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.M.constructDouble(1e-12));for(let i=0;i<e;i++){const e=v.tempP2.evaluate(t[i]);e.absThis(),e.lt(n)&&b.push((0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.l)(t[i].toDouble(),T[s].toDouble()))}}}if(I=b.length,0===A&&0===I)return 0;b=b.concat(S),b.sort(((t,e)=>C?(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.a8)(t.second,e.second):(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.a8)(t.first,e.first)));const M=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.u)(b,((t,e)=>t.first===e.first&&t.second===e.second));b=b.slice(0,M),f.length=0,P.length=0;for(const s of b)f.push(s.first),P.push(s.second);return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(f.length===P.length),P.length}function Nn(t,e,s,n,i,r,o){if(0===t.power())return t.isZero()?-1:0;const a=t.evaluate(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.M.constructInt32(1)).isZero();if(1===t.power()){const s=Fn(t.getElement(1),t.getElement(0),e,r.at(0));return r[0].limitPrecisionThis(n),1!==s?0:(r[0].limitPrecisionThis(n),1)}if(2===t.power()){return Vn(t.getElement(2),t.getElement(1),t.getElement(0),n,e,a,r)}if(3===t.power()){return Ln(t.getElement(3),t.getElement(2),t.getElement(1),t.getElement(0),n,e,a,r)}if(4===t.power()){return Rn(t.getElement(4),t.getElement(3),t.getElement(2),t.getElement(1),t.getElement(0),n,e,a,r)}return Un(t,e,s,n,a,i,r,o)}function Xn(){return{polyIntersect:new Tn,polyX1:new Tn,polyY1:new Tn,polyX1Deriv:new Tn,polyY1Deriv:new Tn,lazyPolyD1:new Tn,lazyPolyD1Deriv:new Tn,tempP:new Tn,tempP1:new Tn,tempP2:new Tn,polypoly1Proximity:new In,polypoly2Proximity:new In}}function qn(t,e,s,n,i,r,o,a,h,u,m,l,c){const g=Xn();g.polyX1.construct(t,e),g.polyY1.construct(s,n),g.polyX1Deriv.assignCopy(g.polyX1),g.polyX1Deriv.derivative1This(),g.polyY1Deriv.assignCopy(g.polyY1),g.polyY1Deriv.derivative1This(),g.polyIntersect.assignCopy(g.polyX1),g.polyIntersect.mulThis(g.polyX1),g.polyIntersect.mulElementThis(o[0]),g.tempP.assignCopy(g.polyY1),g.tempP.mulThis(g.polyY1),g.tempP.mulElementThis(o[1]),g.polyIntersect.addThis(g.tempP),i?(g.lazyPolyD1.construct(i,r),g.tempP.assignCopy(g.lazyPolyD1),g.tempP.mulThis(g.lazyPolyD1),g.tempP.mulElementThis(o[2]),g.polyIntersect.addThis(g.tempP)):g.polyIntersect.add0(o[2]);{const i=o[0].clone(),r=i.clone();r.sqrThis();const a=o[1].clone(),h=a.clone();h.sqrThis();const u=o[2].clone(),m=i.clone();m.subThis(a),g.polyX1.construct(t,e),g.polyX1Deriv.assignCopy(g.polyX1),g.polyX1Deriv.derivative1This(),g.polyY1.construct(s,n),g.polyY1Deriv.assignCopy(g.polyY1),g.polyY1Deriv.derivative1This(),g.tempP.assignCopy(g.polyX1),g.tempP.mulThis(g.polyX1),g.tempP.mulElementThis(h),g.tempP.mulElementThis(u),g.polypoly1Proximity.construct0(g.tempP),g.tempP.assignCopy(g.polyX1),g.tempP.mulThis(a.mul(m).mul(u).ldexpThis(1)),g.polypoly1Proximity.addElement(g.tempP),g.tempP.assignCopy(g.polyX1),g.tempP.mulThis(g.polyX1),g.tempP.mulElementThis(i.mul(h)),g.tempP1.assignCopy(g.polyY1),g.tempP1.mulThis(g.polyY1),g.tempP1.mulElementThis(r.mul(a)),g.tempP.addThis(g.tempP1),g.tempP.add0(m.mul(m).mul(u)),g.polypoly1Proximity.addElement(g.tempP),g.tempP.assignCopy(g.polyX1),g.tempP.mulElementThis(m.mul(i).mul(a).ldexpThis(1)),g.polypoly1Proximity.addElement(g.tempP),g.tempP.construct0(i.mul(m).mul(m)),g.polypoly1Proximity.addElement(g.tempP),g.polypoly1Proximity.updatePower(),g.tempP.construct0(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.ah),g.polypoly2Proximity.construct0(g.tempP),g.tempP.assignCopy(g.polyX1),g.tempP.mulThis(g.polyX1Deriv),g.tempP1.assignCopy(g.polyY1),g.tempP1.mulThis(g.polyY1Deriv),g.tempP.addThis(g.tempP1),g.tempP.mulElementThis(i.mul(a)),g.polypoly2Proximity.addElement(g.tempP),g.tempP.assignCopy(g.polyX1Deriv),g.tempP.mulElementThis(m.mul(i)),g.polypoly2Proximity.addElement(g.tempP),g.polypoly2Proximity.updatePower()}const d=[],_=[];null===m&&(m=[]);let p=2*g.polyIntersect.power()+58;const f=.5*Number.EPSILON,P=[],y=Gn(g.polyIntersect,a,h,f,p,P,l,l);if(y<0)return-1;for(const b of P)_.push(b.toDouble());kn(g.polypoly1Proximity,g.polypoly2Proximity,g.tempP),p=2*g.tempP.power()+58,P.length=0;let x=Gn(g.tempP,a,h,f,p,P);if(x<0&&(x=0),0===y&&0===x)return 0;for(const b of P)d.push(b.toDouble());const C=d.concat(_);m.length=C.length,(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.b)(m,C,0,0,C.length),(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.v)(m);const v=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.u)(m,((t,e)=>0===(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.a8)(t,e)));return m.length=v,m.length}function Fn(t,e,s,n){return t.isZero()?e.isZero()?-1:0:(n.setThis(e),n.negateThis(),n.divThis(t),s.isEmpty()||s.containsCoordinate(n.value())?1:0)}function Vn(t,e,s,n,i,r,o){if(t.isZero()){if(r)return o[0].setInt32(1),i.containsCoordinate(1)?1:0;return Fn(e,s,i,o[0])}if(r){let e=2;return o[0].setInt32(1),s.equals(t)?(o[1].setInt32(1),e=1):o[1].setThis(s.div(t)),i.containsCoordinate(o[1].value())||(e=1),i.containsCoordinate(o[0].value())||(e--,o[0].setThis(o[1])),2===e&&o[0].value()>o[1].value()&&(o[1]=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.c)(o[0],o[0]=o[1])),e}const a=e.clone();a.sqrThis();const h=t.clone();if(h.mulThis(s).ldexpThis(2).negateThis().addThis(a),h.LZ())return 0;const u=n+2,m=_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.M.sqrt(h,u),l=m.clone();e.LZ()&&l.negateThis(),l.addThis(e).limitPrecisionThis(u).ldexpThis(-1).negateThis();let c=0;return o[0].setThis(l).divThis(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.M.constructAssign(t,u)).limitPrecisionThis(n),(i.isEmpty()||i.containsCoordinate(o[0].value()))&&c++,m.isZero()||l.isZero()||(o[c].setThis(s).divThis(l).limitPrecisionThis(n),(i.isEmpty()||i.containsCoordinate(o[c].value()))&&c++,2===c&&o[0].gt(o[1])&&(o[1]=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.c)(o[0],o[0]=o[1]))),c}function Ln(t,e,n,i,r,o,a,h){if(t.isZero()){return Vn(e,n,i,r,o,a,h)}const u=(t,e)=>{if(t>0){let s=e+t;for(let t=1;t<s;t++)h[t].equals(h[0])&&(h[s-1]=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.c)(h[t],h[t]=h[s-1]),s--);e=s}return (0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.C)(h,0,e,((t,e)=>t.compare(e))),e};if(i.isZero()){let s=0;o.containsCoordinate(0)&&(h[0].setInt32(0),s=1);return u(Vn(t,e,n,r,o,a,h.slice(1)),s)}if(a){let s=0;o.containsCoordinate(1)&&(h[0].setInt32(1),s=1);const n=e.add(t),a=i.negate(),m=t.add(n).add(a).isZero();return u(Vn(t,n,a,r,o,m,h.slice(s)),s)}const m=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.M,l=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.M,c=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.M,g=e.clone();if(g.isZero())l.setThis(n),l.divThis(t),c.setThis(i),c.divThis(t);else{g.divThis(t).divDoubleThis(3).negateThis();const s=e.clone();s.sqrThis();const r=t.clone();r.sqrThis(),l.setThis(t),l.mulThis(n).mulDoubleThis(3).subThis(s).divThis(r).divDoubleThis(3),c.setThis(s),c.mulThis(e),c.ldexpThis(1),m.setThis(t),m.mulThis(e).mulThis(n).mulDoubleThis(9),c.subThis(m),m.setThis(r),m.mulThis(i).mulDoubleThis(27),c.addThis(m),c.divThis(r).divThis(t).divDoubleThis(27)}if(l.isZero()){const t=c.clone();return t.negateThis(),t.isZero()?(h[0].setThis(g),Qn(o,r,h,1)):(h[0].setThis(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.M.cubicRoot(t,r).add(g)),Qn(o,r,h,1))}const d=c.clone();if(d.sqrThis().ldexpThis(-2),m.setThis(l.clone()),m.sqrThis().mulThis(l).divDoubleThis(27),d.addThis(m),d.isZero())return h[0].setThis(c),h[0].mulDoubleThis(3).divThis(l),h[1].setThis(h[0]),h[1].negateThis(),h[1].ldexpThis(-1),h[0].addThis(g),h[1].addThis(g),Qn(o,r,h,2);if(d.GZ())return d.setThis(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.M.sqrt(d,r+8)),m.setThis(c),m.ldexpThis(-1).negateThis(),m.addThis(d),h[0].setThis(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.M.cubicRoot(m,r+8)),m.setThis(c),m.ldexpThis(-1).negateThis(),m.subThis(d),h[0].addThis(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.M.cubicRoot(m,r+8)),h[0].addThis(g),Qn(o,r,h,1);m.setThis(l),m.divDoubleThis(3).negateThis(),(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(m.GEZ());const _=_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.M.sqrt(m,r+8),p=_.clone();p.negateThis(),p.addThis(g),_.addThis(g);const f=_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.M.constructDouble(o.isEmpty()?-Number.MAX_VALUE:o.vmin),P=_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.M.constructDouble(o.isEmpty()?Number.MAX_VALUE:o.vmax),y=new Tn({zeroCtor:_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.M});y.construct0(i),y.addElement(n),y.addElement(e),y.addElement(t);const x=new Tn({copy:y});x.derivative1This();let C=0;const v=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.M,4);v[C++].setThis(f),p.gt(f)&&p.lt(P)&&v[C++].setThis(p),_.gt(f)&&_.lt(P)&&v[C++].setThis(_),v[C++].setThis(P);const b=3*r;let S=52,E=Number.EPSILON;for(;S<b;)2*S<=b?(E*=E,S*=2):(E*=Number.EPSILON,S+=52);S+=2;let D=0,w=!1;for(let s=1;s<C;s++){if(Zn(y,x,v[s-1],v[s],E,S,h[0])){D=1,w=s+1<C;break}}if(!D)return 0;if(w){const t=new Tn({zeroCtor:_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.M,coef0:h[0]});t.negateThis(),t.addElement(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.ai);const e=new Tn({zeroCtor:_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.M}),n=new Tn({zeroCtor:_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.M});y.div(t,e,n),(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(2===e.power()),(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(0===n.power());const i=Vn(e.getElement(2),e.getElement(1),e.getElement(0),r,o,!1,h.slice(1));(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(i>=0&&i<=2),D+=i}return Qn(o,r,h,D)}function Rn(t,e,s,n,i,r,o,a,h){if(t.isZero())return Ln(e,s,n,i,r,o,a,h);const u=(t,e)=>{if(t>0){let s=e+t;for(let t=1;t<s;t++)h[t].equals(h[0])&&(h[s-1]=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.c)(h[t],h[t]=h[s-1]),s--);e=s}return (0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.C)(h,0,e,((t,e)=>t.compare(e))),e};if(i.isZero()){let i=0;o.containsCoordinate(0)&&(h[0].setInt32(0),i=1);return u(Ln(t,e,s,n,r,o,a,h.slice(i)),i)}const m=new Tn({zeroCtor:_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.M,coef0:i});if(m.addElement(n),m.addElement(s),m.addElement(e),m.addElement(t),a){let t=0;o.containsCoordinate(1)&&(h[0].setInt32(1),t=1);const e=new Tn({zeroCtor:_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.M,coef0:_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.M.constructInt32(-1)});e.addElement(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.M.constructInt32(1));const s=new Tn({zeroCtor:_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.M}),n=new Tn({zeroCtor:_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.M});m.div(e,s,n);return u(Ln(3===s.power()?s.getElement(3):_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.ah.clone(),s.power()>=2?s.getElement(2):_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.ah.clone(),s.power()>=1?s.getElement(1):_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.ah.clone(),s.getElement(0),r,o,s.evaluate(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.ai).isZero(),h.slice(t)),t)}if(m.getElement(0).isZero()){let t=0;for(o.containsCoordinate(0)&&(t=1,h[0].setDouble(0));m.getElement(0).isZero()&&m.power()>0;)m.shiftRight(1);const e=Ln(3===m.power()?m.getElement(3):_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.ah.clone(),m.power()>=2?m.getElement(2):_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.ah.clone(),m.power()>=1?m.getElement(1):_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.ah.clone(),m.getElement(0),r,o,!1,h.slice(t));return e>0&&(t+=e),(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.C)(h,0,t,((t,e)=>t.compare(e))),t}let l=52,c=Number.EPSILON;for(;l<r;)2*l<=r?(c*=c,l*=2):(c*=Number.EPSILON,l+=52);l+=2;const g=On(m),d=_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.M.constructDouble(Math.max(Math.abs(o.vmax),Math.abs(o.vmin)));return c=(g.lt(d)?g:d).mul(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.M.constructDouble(c)).toDouble(),Un(m,o,c,l,a,!1,h,4)}function zn(t,e){let s=t,n=e;n.power()>s.power()&&(n=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.c)(s,s=n));const i=s.power()-n.power(),r=new Tn({copy:s.getElement(s.power())});s.mulThis(n.getElement(n.power()));for(let o=0,a=s.power();o<a;o++)if(o>=i){const t=new Tn({copy:n.getElement(o-i)});t.mulThis(r);const e=s.getElement(o).sub(t);s.setElement(o,e)}s.setElement(s.power(),s.getElement(s.power()).setZero()),s.updatePower(),Bn(s)}function Bn(t){let e=0;for(;e<t.power()&&t.getElement(e).isZero();)e++;return e>0&&(t.shiftRight(e),!0)}function kn(t,e,s){const n=t.clone(),i=e.clone();for(Bn(n),Bn(i);0!==n.power()||0!==i.power();)zn(n,i);s.assignMove(n.getElement(0))}function Gn(t,e,s,n,i,r,o=!1,a=!1){r.length=0;const h=t.power(),u=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.M,2*h+4),m=Nn(t,s||_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.E.unit(),n,i,!1,u,u.length);if(m>0){r.length=0;for(let t=0;t<m;t++){const e=u[t];t>0&&e.lte(r.at(-1))||r.push(e.clone())}return r.length}return m}function Wn(t,e,n){if((0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(n>=1),0===t.power())return t.isZero()?-1:0;const i=t.getElement(0);return i.negateThis(),i.divThis(t.getElement(1)),e[0].setThis(i),1}function jn(t,e,n,i){if(t.power()<2)return Wn(t,n,i);(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(i>=1);let r=t.getElement(1);r.mulThis(t.getElement(1));const o=t.getElement(0);if(o.mulThis(t.getElement(2)),o.ldexpThis(2),r.subThis(o),r.LZ())return 0;if(r.isZero()){const s=t.getElement(1);return s.negateThis(),s.divThis(t.getElement(2)),s.ldexpThis(-1),s.limitPrecisionThis(e),n[0].setThis(s),1}(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(i>=2),r=_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.M.sqrt(r,e+8);const a=t.getElement(1);a.negateThis();const h=a.clone();h.subThis(r),h.divThis(t.getElement(2)),h.ldexpThis(-1),h.limitPrecisionThis(e);const u=a.clone();return u.addThis(r),u.divThis(t.getElement(2)),u.ldexpThis(-1),u.limitPrecisionThis(e),h.lt(u)?(n[0].setThis(h),n[1].setThis(u)):(n[1].setThis(h),n[0].setThis(u)),2}function Zn(t,e,s,n,i,r,o){let a=s.clone(),u=n.clone();a.limitPrecisionThis(r),u.limitPrecisionThis(r);let m=t.evaluate(a);m.limitPrecisionThis(r+2);let l=t.evaluate(u);if(l.limitPrecisionThis(r+2),m.GEZ()&&l.GEZ()||m.LEZ()&&l.LEZ())return m.absLessAbs(l)?(o=a,m.isZero()):(o=u,l.isZero());const c=l.LZ();c&&(l=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.c)(m,m=l),u=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.c)(a,a=u));const g=c?u:a,d=c?a:u,_=a.add(u).ldexpThis(-1);_.limitPrecisionThis(r);const p=u.sub(a);p.limitPrecisionThis(r),p.absThis();const f=p.clone();let P=t.evaluate(_),y=e.evaluate(_);const x=new Tn({copy:t}),C=new Tn({copy:e});{const s=Math.max(t.hiBitIndex(),e.hiBitIndex()),n=_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.ai.clone();n.ldexpThis(-(r+2));for(let i=64;i<s;){x.limitPrecisionThis(i),C.limitPrecisionThis(i);const r=x.evaluate(_),o=C.evaluate(_),a=r.sub(P),h=o.sub(y);if(a.divThis(P).absThis().lt(n)&&(y.isZero()||h.divThis(y).absThis().lt(n)))break;x.assignCopy(t),C.assignCopy(e),i=Math.min(i+64,s)}P.limitPrecisionThis(r+2),y.limitPrecisionThis(r+2)}const v=1,b=4;let S=b;const E=2;let D=1,w=0,A=0,T=v;const I=32,M=_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.M.constructDouble(.25*i),Y=_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.M.constructDouble(.5001);let N=0;const X=300;for(;++N<X;){if(N>I&&w>0||y.isZero()||T===E&&w>1||T===v&&S<b)T=v,D>1&&D--;else if(T=E,A>1){const t=p.mul(y);t.absThis(),t.ldexpThis(-3),t.absLessAbs(P)&&D++}p.setThis(f);const t=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.M;let e=!1;if(T===v)do{if(A>2){const e=p.clone();if(e.absThis(),e.ldexpThis(4),d.sub(g).ldexpThis(-1).gt(e)){if(_.equals(g)){t.setThis(_),_.setThis(g.add(e)),_.limitPrecisionThis(r),f.setThis(_.sub(t));break}if(_.equals(d)){t.setThis(_),_.setThis(d.sub(e)),_.limitPrecisionThis(r),f.setThis(_.sub(t));break}}}f.setThis(u.sub(a)),f.ldexpThis(-1),f.limitPrecisionThis(r),t.setThis(_),_.setThis(a.add(f)),_.limitPrecisionThis(r),_.lt(g)?_.setThis(g):_.gt(d)&&_.setThis(d),e=a.equals(_)||u.equals(_)}while(0);else for(;;){if(f.setThis(P.div(y)),f.limitPrecisionThis(r),1!==D&&f.mulDoubleThis(D),t.setThis(_),_.subThis(f),_.limitPrecisionThis(r),e=_.equals(t),_.lt(g)){if(D>1){_.setThis(t),D--;continue}f.setThis(t.sub(g)),_.setThis(g)}else if(_.gt(d)){if(D>1){_.setThis(t),D--;continue}f.setThis(t.sub(d)),_.setThis(d)}break}if(e||f.absLessAbs(M)){t.equals(_)||(P=x.evaluate(_),P.limitPrecisionThis(r+2));break}P=x.evaluate(_),P.limitPrecisionThis(r+2),y=C.evaluate(_),y.limitPrecisionThis(r+2);const s=a.clone(),n=u.clone();P.LZ()?(m.setThis(P),a.setThis(_)):(l.setThis(P),u.setThis(_)),T===E&&(a.equals(s)&&u.equals(n)||A>1&&!f.absLessAbs(Y.mul(p)))?w++:w=0,T===v?(S++,A=0):(S=0,A++)}return N>=X&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.d)("Root_finder iterations exceeded"),o.setThis(_),!0}function Hn(t,e,s,n,i){const r=t.evaluate(s);if(r.isZero())return!0;const o=_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.M.constructDouble(.5*n),a=s.clone();a.subThis(o);const h=t.evaluate(a),u=s.clone();u.addThis(o);const m=t.evaluate(u);if(h.LZ()&&m.GZ()||h.GZ()&&m.LZ())return!0;if(r.GZ()?h.LEZ()||m.LEZ():h.GEZ()||m.GEZ())return!0;const l=h.LEZ()&&m.LEZ(),c=h.GEZ()&&m.GEZ();let g=!1;return l?r.gt(h)&&r.gt(m)&&(g=!0):c&&r.lt(h)&&r.lt(m)&&(g=!0),!!g&&r.absThis().lt(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.M.constructDouble(1e-17))}function Un(t,e,n,i,r,o,a,h){(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(n>0),(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(h>=t.power());const u=a,m=[];let l=[];const c=new Tn({zeroCtor:t.m_zeroCtor}),g=new Tn({zeroCtor:t.m_zeroCtor}),d=new Tn({zeroCtor:t.m_zeroCtor}),_=_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.M.constructDouble(n),p=_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.M.constructDouble(e.vmin),f=_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.M.constructDouble(e.vmax),P=p.sub(_),y=f.add(_),x=On(t),C=x.clone();if(C.negateThis(),P.lt(C))P.setThis(C.sub(_));else if(P.gt(x))return 0;if(y.gt(x))y.setThis(x.add(_));else if(y.lt(C))return 0;let v=t,b=null;if(r){const e=new Tn({coef0:_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.M.constructInt32(-1)});e.addElement(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.ai),b=new Tn,v=b;const s=new Tn,n=new Tn;for(t.div(e,s,n),b.assignCopy(s);v.evaluate(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.ai).isZero();)v.div(e,s,n),b.assignCopy(s)}let S=!1;if(v.power()>0&&v.getElement(0).isZero())for(S=!0,b||(b=new Tn({copy:v}),v=b);v.getElement(0).isZero();)b.shiftRight(1);let E=i+2*v.power()+2,D=n/Math.pow(2,v.power()+2),w=E;if(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.ah.gt(P)&&_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.ah.lt(y))for(let s=0,Y=v.power();s<Y;s++)if(v.getElement(s).isZero()){m.push(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.ah.clone());break}for(let Y=v.power()-1;Y>0;Y--)if(D*=2,E-=2,w-=2,v.power()-Y!==1)if(v.power()-Y!==2){g.assignMove(d),d.assignMove(v.derivative(Y-1));let t=[];for(let e=0,s=l.length;e<s;++e)if(l[e].first.lte(l[e].second)){const s=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.M;if(Zn(g,c,l[e].first,l[e].second,D,E,s)){m.push(s);let n=s.sub(_);n.limitPrecisionThis(w),t.push((0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.l)(l[e].first,n)),n=s.add(_),n.limitPrecisionThis(w),t.push((0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.l)(n,l[e].second))}else t.push(l[e])}l=t,t=[],c.assignMove(g)}else{g.assignMove(v.derivative(Y));const t=jn(g,E,u,h);(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(t>=0&&t<=2);for(let e=0;e<t;e++)u[e].gt(P)&&u[e].lt(y)&&!u[e].isZero()&&m.push(u[e].clone());if(m.length>1&&m.sort(((t,e)=>t.compare(e))),m.length>0){let t=m[0].sub(_);t.limitPrecisionThis(w),l.push((0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.l)(P.clone(),t));let e=1===m.length?y.clone():m[1].sub(_);t=m[0].add(_),t.limitPrecisionThis(w),e.limitPrecisionThis(w),l.push((0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.l)(t,e)),m.length>1&&(e=2===m.length?y.clone():m[2].sub(_),e.limitPrecisionThis(w),t=m[1].add(_),t.limitPrecisionThis(w),l.push((0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.l)(t,e)),m.length>2&&(t=m[2].add(_),t.limitPrecisionThis(w),l.push((0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.l)(t,y.clone()))))}else l.push((0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.l)(P.clone(),y.clone()));c.assignCopy(g),d.assignMove(v.derivative(Y-1))}else{g.assignMove(v.derivative(Y));1===Wn(g,u,h)&&(u[0].gt(P)&&u[0].lt(y)&&!u[0].isZero()&&m.push(u[0].clone()),c.assignMove(g),d.assignMove(v.derivative(Y-1)))}m.sort(((t,e)=>t.compare(e))),0===l.length&&(c.assignMove(v.derivative(v.power())),c.isZero()||l.push((0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.l)(P.clone(),y.clone())));let A=0,T=0,I=0;const M=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.M;for(;;){if(T<l.length){if(l[T].first.gt(l[T].second)){T++;continue}let t=!1;if(I<m.length&&m[I].lt(l[T].first)&&(t=!0),!t){Zn(v,c,l[T].first,l[T].second,n,i,M)&&(M.lt(p)?u[A++].setThis(p):M.gt(f)?u[A++].setThis(f):u[A++].setThis(M)),T++;continue}}if(!(I<m.length))break;0!==I&&m[I-1].equals(m[I])||Hn(v,c,m[I],n)&&(M.setThis(m[I]),M.lt(p)?M.setThis(p):M.gt(f)&&M.setThis(f),0!==A&&u[A].equals(M)||u[A++].setThis(M)),I++}return S&&_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.ah.gt(P)&&_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.ah.lt(y)&&(u[A++].setThis(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.ah),(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.C)(u,0,A,((t,e)=>t.compare(e)))),r&&_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.ai.gt(P)&&_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.ai.lt(y)&&(u[A++].setThis(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.ai),(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.C)(u,0,A,((t,e)=>t.compare(e)))),A}function On(t){const e=t.getElement(t.power());e.limitPrecisionThis(53),e.absThis();const s=_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.ah.clone();for(let n=0,i=t.power();n<i;n++){const e=t.getElement(n);e.limitPrecisionThis(53),e.gt(s)&&s.setThis(e)}return s.divThis(e),s.addThis(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.ai),s.mulThis(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.M.constructDouble(1+100*Number.EPSILON)),s}function Qn(t,e,s,n){let i=n;if(!t.isEmpty()){i=0;for(let e=0;e<n;++e)t.containsCoordinate(s[e].value())&&(i!==e&&s[i].setThis(s[e]),i++)}i>1&&(s[0].gt(s[1])&&(s[1]=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.c)(s[0],s[0]=s[1])),i>2&&(s[0].gt(s[2])&&(s[2]=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.c)(s[0],s[0]=s[2])),s[1].gt(s[2])&&(s[2]=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.c)(s[1],s[1]=s[2]))));for(let r=0;r<i;++r)s[r].limitPrecisionThis(e);return i}function Jn(t,e,s,n,i,r){return ti(t,e,s,r,n,i)}function Kn(t,e,s,n,i,r){let o=i;if(n)return r[0]=1,o=.5*(e-t)*(s(t)+s(e)),o;const a=r[0],h=(e-t)/a,u=t,m=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.K(0);for(let l=1;l<=r[0];++l){const t=(l-.5)*h;m.add(s(u+t))}return o=.5*(o+(e-t)*m.getResult()/a),r[0]*=2,o}function $n(t,e,s,n,i,r,o){let a=0,h=Math.abs(i-s[t]);const u=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.d)(e,Number.NaN),m=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.d)(e,Number.NaN);for(let d=0;d<e;++d){const e=Math.abs(i-s[t+d]);e<h&&(a=d,h=e),u[d]=n[t+d],m[d]=n[t+d]}let l=0,c=0,g=0;r[0]=n[t+a],a--;for(let d=1;d<e;d++){for(let n=0;n<e-d;n++){if(c=s[t+n]-i,g=s[t+n+d]-i,l=c-g,0===l)return!1;const e=(u[n+1]-m[n])/l;u[n]=c*e,m[n]=g*e}if(2*(a+1)<e-d){const t=a+1;o[0]=u[t]}else{const t=a;o[0]=m[t],a--}r[0]+=o[0]}return!0}function ti(t,s,n,i,r,o){if(n<s&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.a)("xTo < xFrom"),n===s)return 0;const a=[0];let u=Number.MAX_VALUE;const m=[Number.MAX_VALUE];let l=0;const c=32,g=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.d)(c+1,Number.NaN),d=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.d)(c+1,Number.NaN),_=[0];g[0]=1;let p=0,f=0;for(let e=0;e<c;e++){if(l=Kn(s,n,i,0===e,l,_),d[e]=l,e+1>=t){$n(e+1-t,t,g,d,0,a,m)||(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.d)("polynomial_interpolation");const s=r*Math.abs(a[0])+o,n=Math.abs(u-a[0]);if(n<=s&&Math.abs(m[0])<=s){if(p++,p>1&&(n<=.1*f||0===f||p>2))return a[0]}else p=0;f=n,u=a[0]}d[e+1]=d[e],g[e+1]=.25*g[e]}return a[0]}class ei{constructor(){this.area=Number.NaN,this.centroid_x=Number.NaN,this.centroid_y=0,this.specialPoints=[],this.specialPointsLength=[]}specialPointsCount(){return this.specialPoints.length}}let si=class{constructor(t,e){this.b=t,this.len=e}getMaxDerivative(){return 1}getValue(t,e){return 0===t?this.len-hi(this.b,e,!1):0}getError(t){return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(0),0}};function ni(t,e,s,n,i){let r=!0;const o=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P,3);t.queryControlPoints(o);let a=r?0:1,h=o[1][a]-o[0][a],u=o[2][a]-o[0][a];const m=Jn(5,e,s,n,i,(t=>{let e;if(t<=.5){const s=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.X)(0,h,t),n=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.X)(h,u,t);e=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.X)(s,n,t)}else{const s=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.Y)(0,h,t),n=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.Y)(h,u,t);e=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.Y)(s,n,t)}return e*gi(o,1,t).length()}));r=!1,a=r?0:1,h=o[1][a]-o[0][a],u=o[2][a]-o[0][a];const l=Jn(5,e,s,n,i,(t=>{let e;if(t<=.5){const s=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.X)(0,h,t),n=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.X)(h,u,t);e=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.X)(s,n,t)}else{const s=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.Y)(0,h,t),n=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.Y)(h,u,t);e=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.Y)(s,n,t)}return e*gi(o,1,t).length()}));return new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P(m,l)}function ii(t){t.m_cachedValues=null}function ri(t,e){e.m_cachedValues=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.c)(t.m_cachedValues,t.m_cachedValues=e.m_cachedValues)}function oi(t){if(t.m_cachedValues)return t.m_cachedValues;const e=new ei;return ai(t,e.specialPoints),xi(t,e),e}function ai(t,e){const s=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P,3);t.queryControlPoints(s);const n=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.H,8);n[0].set(0);let i=1;{const t=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.H,3);ki(s,t,!1);const e=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.H,2),r=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.E(0,1);let o=cn(t[2].mul(2),t[1],r,e[0]);o<0&&(o=0);for(let s=0;s<o;s++)(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.N)(e[s].value(),0,1)||(n[i]=e[s],i++)}{const t=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.H,3);Gi(s,t,!1);const e=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.H,2),r=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.E(0,1);let o=cn(t[2].mul(2),t[1],r,e[0]);o<0&&(o=0);for(let s=0;s<o;s++)(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.N)(e[s].value(),0,1)||(n[i]=e[s],i++)}if(n[i].set(1),i++,i>2){(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.C)(n,0,i,((t,e)=>t.value()-e.value()));let t=0,e=n[0].value(),s=1;for(let r=1;r<i;r++)n[r].eq(n[r-1])?(e+=n[r].value(),s++):(s>1&&(e/=s,n[t].set(e)),t++,n[t]=n[r],e=n[r].value(),s=1);t++,i=t}n[0].set(0),n[i-1].set(1),e.length=i;for(let r=0;r<i;r++)e[r]=n[r].value()}function hi(t,e,s){const n=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P,3);return t.queryControlPoints(n),ui(n,e,s)}function ui(t,e,s){if(s){if(e<0)return e;if(e>1)return e-1+ui(t,1,!1)}if(1===e)return mi(t);const n=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P,3);return Ii(t,e,n,null),mi(n)}function mi(t){if(t[0].equals(t[1]))return _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.distance(t[2],t[0]);if(t[1].equals(t[2]))return _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.distance(t[0],t[2]);const e=_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.distance(t[0],t[1])+_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.distance(t[2],t[1]),s=_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.distance(t[0],t[2]);if(e-s<=e*Number.EPSILON)return s;const n=1,i=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P,3);zi(t,i,!0);const r=4*((0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.a)(i[2].x)+(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.a)(i[2].y)),o=2*(i[2].x*i[1].x+i[2].y*i[1].y),a=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.a)(i[1].x)+(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.a)(i[1].y);if(1e-14*(Math.abs(o)+Math.abs(a))>=Math.abs(r)){if(1e-14*Math.abs(a)>=Math.abs(o)){return Math.sqrt(a)*n}return 2/(3*o)*(Math.pow(o*n+a,1.5)-Math.pow(a,1.5))}const h=o/r,u=a/r,m=u-h*h,l=n+h;if(0===m){if(h>=0&&l>=0||h<=0&&l<=0){return Math.abs(.5*Math.sqrt(r)*(l*l-h*h))}return.5*Math.sqrt(r)*(l*l+h*h)}const c=Math.sqrt(m+l*l),g=Math.sqrt(u);return.5*Math.sqrt(r)*(l*c-h*g+m*Math.log(Math.abs((l+c)/(h+g))))}function li(t,e){const s=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.s)(e,0,1);let n=gi(t,1,s);return n.isZero()&&(n=gi(t,2,s)),n}function ci(t,e,s){const n=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P,3);return t.queryControlPoints(n),gi(n,e,s)}function gi(t,e,s){if(1===e){const e=t[1].sub(t[0]).mul(1-s).add(t[2].sub(t[1]).mul(s));return e.mulThis(2),e}return 2===e?t[2].sub(t[1]).sub(t[1].sub(t[0]).mul(2)):_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.construct(0,0)}function di(t,e,s){{const e=Ye.constructPoint2D(t[1]).subE(Ye.constructPoint2D(t[0])),n=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.H(1).subE(s),i=Ye.constructPoint2D(t[2]).subE(Ye.constructPoint2D(t[1])),r=e.mulE(n).addE(i.mulE(s));return r.mulThisE(new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.H(2)),r}}function _i(t,e,s){const n=hi(t,1,!1);if(e<=0)return e;if(e>=n)return e-n+1;const i=[0];return 1!==tn(new si(t,e),_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.E.unit(),1,i)&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.d)(""),i[0]}function pi(t){const e=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P,3);return t.queryControlPoints(e),fi(e)}function fi(t){return-t[1].sub(t[0]).crossProduct(t[2].sub(t[0]))/3}function Pi(t){const e=_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.distance(t.getStartXY(),t.getEndXY()),s=t.calculateUpperLength2D();return s-e<=8*Number.EPSILON*s}function yi(t){return t.m_cachedValues}function xi(t,e){t.m_cachedValues=e}function Ci(t,e,s,n,i){(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.x)(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.E.unit().contains(s),"QuadraticBezierHelper::getClosestCoordinateSegment");const r=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P,3);t.queryControlPoints(r);let o=Number.MAX_VALUE;const a=[0],h=vi(r,e,a);if(s.containsCoordinate(a[0]))o=_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.distance(e,h);else{a[0]=s.vmin,ji(r,a[0],h),o=_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.distance(h,e);const t=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P;ji(r,s.vmax,t);const n=_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.distance(t,e);o>n&&(h.setCoordsPoint2D(t),a[0]=s.vmax,o=n)}if(!n)return a[0];if(s.vmin<=0){const n=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P;t.queryCoord2DExtended(-1,n,!0);const i=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P;t.queryCoord2D(s.vmin,i);const r=new pm({start:n,end:i}),u=r.getClosestCoordinate(e,!0);if(u<1){const t=r.getCoord2D(u),s=_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.distance(t,e);s<o&&(o=s,a[0]=u-1,h.assign(t))}}if(s.vmin>=1){const n=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P;t.queryCoord2DExtended(2,n,!0);const i=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P;t.queryCoord2D(s.vmax,i);const r=new pm({start:i,end:n}),u=r.getClosestCoordinate(e,!0);if(u>0){const t=r.getCoord2D(u),s=_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.distance(t,e);s<o&&(o=s,a[0]=1+u,h.assign(t))}}return a[0]}function vi(t,e,s){const n=t[2].sub(t[1]).sub(t[1].sub(t[0])),i=t[1].sub(t[0]),r=t[0].sub(e),o=r.dotProduct(i),a=r.dotProduct(n)+2*i.dotProduct(i),h=3*i.dotProduct(n),u=n.dotProduct(n),m=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.d)(3,Number.NaN),l=nn(u,h,a,o,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.E.unit(),!1,m),c=t[0].clone();let g=0,d=_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.sqrDistance(t[0],e),_=_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.sqrDistance(t[2],e);_<d&&(g=1,c.assign(t[2]),d=_);for(let p=0;p<l;p++){const s=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P;ji(t,m[p],s),_=_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.sqrDistance(s,e),_<d&&(d=_,c.assign(s),g=m[p])}return s&&(s[0]=g),c}function bi(t,e,s,n,i,r){const o=new De;if(Si(t,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.E.unit(),o),o.inflate(i),!o.isIntersectingPoint2D(e))return 0;const a=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P,h=Ci(t,e,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.E.unit(),!1);t.queryCoord2D(h,a);return _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.distance(a,e)<=i?(n&&(n[0]=h),1):0}function Si(t,e,s){const n=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P,3);t.queryControlPoints(n),Ei(n,e,s)}function Ei(t,e,s){if(e.equalsRange(0,1))return void s.setFromPoints(t,3);const n=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P,3);Mi(t,e.vmin,e.vmax,n),s.setFromPoints(n,3)}function Di(t,e,s){s.setEmpty();const n=[];n.push(new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.E(0,1));const i=.5*Math.max(e.width(),e.height());for(;n.length;){const r=n.at(-1);n.pop();const o=new De;if(Ei(t,r,o),o.isIntersectingW(e)){const t=Math.max(o.width(),o.height());if(e.containsW(o)||t<=i||r.width()<1e-12)s.merge(r);else{const t=r.getCenter();n.push(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.E.construct(r.vmin,t)),n.push(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.E.construct(t,r.vmax))}}}}function wi(t){const e=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P,3);t.queryControlPoints(e);const s=Ai(e);return s&&(t.m_cp.setCoordsPoint2D(e[1]),t.afterCompletedModification()),s}function Ai(t){let e=!1;for(let s=0;s<2;s++){const n=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.F)(t[0][s],t[2][s]);n>0?((0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.F)(t[0][s],t[1][s])<0&&(t[1][s]=t[0][s],e=!0),(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.F)(t[1][s],t[2][s])<0&&(t[1][s]=t[2][s],e=!0)):n<0?((0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.F)(t[0][s],t[1][s])>0&&(t[1][s]=t[0][s],e=!0),(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.F)(t[1][s],t[2][s])>0&&(t[1][s]=t[2][s],e=!0)):t[1][s]!==t[0][s]&&(t[1][s]=t[0][s],e=!0)}return e}function Ti(t,s,n){void 0===n&&(n=s,s=0);const i=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P;if(s<0||n>1)return i.setNAN(),i;if(s>n&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.a)("calculate_sub_weighted_centroid"),s===n||t.isDegenerate(0))return i.setCoords(0,0),i;const r=oi(t),o=is(t),a=Math.min(o/t.calculateUpperLength2D(),1e-7);let h=s,u=0;for(let e=1,m=r.specialPointsCount();e<m;e++)if(s<r.specialPoints[e]){u=e-1;break}i.setCoords(0,0);for(let e=u+1,m=r.specialPointsCount();e<m;e++){const s=Math.min(r.specialPoints[e],n),u=ni(t,h,s,a,o);if(i.addThis(u),h=s,n<=r.specialPoints[e])break}return i.add(t.getStartXY().mul(t.calculateLength2D()))}function Ii(t,e,s,n){(new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P).setCoordsPoint2D(t[0]);(new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P).setCoordsPoint2D(t[1]);(new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P).setCoordsPoint2D(t[2]);const i=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P,r=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P,o=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P;if((0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.U)(t[0],t[1],e,i),(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.U)(t[1],t[2],e,r),(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.U)(i,r,e,o),s&&(s[0].assign(t[0]),s[1].assign(i),s[2].assign(o)),n){const e=t[2];n[0].assign(o),n[1].assign(r),n[2].assign(e)}}function Mi(t,e,s,n){if(e===s){const s=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P;return ji(t,e,s),n[0]=s,n[1]=s,void(n[2]=s)}const i=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P,3);Ii(t,s,i,null),Ii(i,e/s,null,i),ji(t,e,i[0]),ji(t,s,i[2]),n[0].setCoordsPoint2D(i[0]),n[1].setCoordsPoint2D(i[1]),n[2].setCoordsPoint2D(i[2])}function Yi(t,e,s,n){if(e.isEqual(t.m_XStart,t.m_YStart)&&s.isEqual(t.m_XEnd,t.m_YEnd))return;const i=!!n&&t.isMonotoneQuickAndDirty(),r=new _Transformation2D_js__WEBPACK_IMPORTED_MODULE_4__.T,o=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P,3);o[0].setCoords(t.m_XStart,t.m_YStart),o[2].setCoords(t.m_XEnd,t.m_YEnd);const a=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P;a.setSub(o[2],o[0]),a.leftPerpendicularThis(),o[1].setAdd(o[0],a);const h=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P,3);h[0].setCoordsPoint2D(e),h[2].setCoordsPoint2D(s),a.setSub(h[2],h[0]),a.leftPerpendicularThis(),h[1].setAdd(h[0],a),r.setFromTwoTriangles(o,h)?r.transformInPlace(t.m_cp):(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.U)(e,s,.5,t.m_cp),t.changeEndPoints2D(e,s),i&&wi(t)}function Ni(t){return t.getStartXY().norm(1)+t.getEndXY().norm(1)+t.m_cp.norm(1)}function Xi(t,e,s,n,i){if(i){if(0!==am(e,s))return t?4:2}else if(Le(e,s))return 1;return 0!==Vi(t,e,s,null,null,null,n,i??!1,!0,!1)?4:0}function qi(t,e,s,n,i){if(i){if(0!==am(e,s))return t?4:2}else if(Le(e,s))return 1;return 0!==Li(t,e,s,null,null,null,n,i??!1,!0,!1)?4:0}function Fi(t,e,s,n,i){if(i){if(0!==am(e,s))return 2}else if(Le(e,s))return 1;return 0!==Ri(t,e,s,null,null,null,n,i??!1,!0,!1)?4:0}function Vi(t,e,n,i,r,o,a,h,u,m){if(null!=r&&(r.length=0),null!==o&&(o.length=0),null!==i&&(i.length=0),n.isDegenerate(0)){const t=[0,0],s=e.intersectPoint(n.getStartXY(),t,a);if(s>0){if(null!==r)for(let e=0;e<s;e++)r.push(t[e]);if(null!==o)for(let t=0;t<s;t++)o.push(0);if(null!==i)for(let n=0;n<s;n++){const s=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P;e.queryCoord2D(t[n],s),i.push(s)}}return s}const l=rs(e,n);if(a=Math.max(a,l),e.isDegenerateToLineHelper(l)){const t=new pm({start:e.getStartXY(),end:e.getEndXY()}),s=Ds(t,n,i,r,o,a,h,m);if(r)for(let n=0;n<s;++n){const s=t.getCoord2D(r[n]);r[n]=e.getClosestCoordinate(s,!1)}return s}if(os(e,n,a))return 0;const c=Xe.constructPoint2D(n.getStartXY()),g=Xe.constructPoint2D(n.getEndXY()).sub(c),d=g.clone();d.leftPerpendicularThis();const _=Xe.constructPoint2D(e.m_cp).sub(Xe.constructPoint2D(e.getStartXY())),p=Xe.constructPoint2D(e.getEndXY()).sub(Xe.constructPoint2D(e.m_cp));let f=_.dotProduct(d).toDouble(),P=p.sub(_).dotProduct(d).toDouble();const y=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.d)(12,Number.NaN),x=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.d)(12,Number.NaN);let C=en(P,f,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.E.unit(),y);C<0&&(y[0]=0,y[1]=1,C=2);let v,b=0;for(let s=0,w=b;s<C;++s){const t=e.getCoord2D(y[s+w]);x[b]=n.getClosestCoordinate(t,!1),_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.distance(t,n.getCoord2D(x[b]))<=a&&(y[b]=y[s+w],b++)}const S=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P,3);e.queryControlPoints(S);{const t=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(Xe,3);if(Wi(S,t,!1),t[0]=t[0].sub(c),g.x.abs().gte(g.y.abs())){const e=g.y.div(g.x);P=t[2].y.sub(t[2].x.mul(e)).toDouble(),f=t[1].y.sub(t[1].x.mul(e)).toDouble(),v=t[0].y.sub(t[0].x.mul(e)).toDouble()}else{const e=g.x.div(g.y);P=t[2].x.sub(t[2].y.mul(e)).toDouble(),f=t[1].x.sub(t[1].y.mul(e)).toDouble(),v=t[0].x.sub(t[0].y.mul(e)).toDouble()}}const E=e.getEndXY().equals(n.getStartXY())||e.getEndXY().equals(n.getEndXY()),D=[0,0];C=sn(P,f,v,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.E.unit(),E,D);for(let s=0,w=b;s<C;++s){y[s+w]=D[s];const t=e.getCoord2D(y[s+w]);x[b]=n.getClosestCoordinate(t,!1),_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.distance(t,n.getCoord2D(x[b]))<=a&&(y[b]=y[s+w],b++)}(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(b<y.length+4),C=e.intersectPoint(n.getStartXY(),D,a);for(let s=0;s<C;s++)y[b]=D[s],x[b++]=0;C=e.intersectPoint(n.getEndXY(),D,a);for(let s=0;s<C;s++)y[b]=D[s],x[b++]=1;C=n.intersectPoint(e.getStartXY(),D,a);for(let s=0;s<C;s++)x[b]=D[s],y[b++]=0;C=n.intersectPoint(e.getEndXY(),D,a);for(let s=0;s<C;s++)x[b]=D[s],y[b++]=0;return 0===b?0:cm(t,e,n,y,x,b,i,r,o,a,h,u,m)}function Li(t,e,s,n,i,r,o,a,h,u){if(Su(s)){return Vi(t,e,new pm({start:s.getStartXY(),end:s.getEndXY()}),n,i,r,o,a,h,u)}const m=rs(e,s);if(os(e,s,o=Math.max(o,m)))return 0;const l=[],c=[],g=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P,3);{e.queryControlPoints(g);const t=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P,3),n=new _Transformation2D_js__WEBPACK_IMPORTED_MODULE_4__.T;s.canonicToWorldTransformation(n);const i=new _Transformation2D_js__WEBPACK_IMPORTED_MODULE_4__.T;i.setInvert(n),i.transformPoints2D(g,3,t);const r=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(Xe,3);Wi(t,r);const h=[r[0].x,r[1].x,r[2].x],u=[r[0].y,r[1].y,r[2].y],m=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.M,3);m[0].setDouble(s.getSemiMinorAxis()),m[0].sqrThis(),m[1].setDouble(s.getSemiMajorAxis()),m[1].sqrThis(),m[2]=m[0],m[2].mul(m[1]),m[2].negate();const d=qn(h,2,u,2,null,0,m,!0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.E.unit(),_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.E.unit(),l,a);if(d>0){let t=0;for(let n=0;n<d;n++){const i=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P;e.queryCoord2D(l[n],i);const r=s.getClosestCoordinate(i,!1),a=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P;s.queryCoord2D(r,a),_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.distance(i,a)<=o&&(l[t]=l[n],c.push(r),t++)}l.length=t}}const d=[0,1];for(let _=0;_<2;_++){const t=0===_?s.getStartXY():s.getEndXY(),e=[0];vi(g,t,e);const n=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P;ji(g,e[0],n),_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.distance(t,n)<=o&&(l.push(e[0]),c.push(d[_]))}for(let _=0;_<2;_++){const t=[0,2];{const e=s.getClosestCoordinate(g[t[_]],!1),n=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P;s.queryCoord2D(e,n),_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.distance(g[t[_]],n)<=o&&(l.push(d[_]),c.push(e))}}return cm(t,e,s,l,c,l.length,n,i,r,o,a,h,u)}function Ri(t,e,s,n,i,r,o,a,h,u){const m=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P,3);e.queryControlPoints(m);const l=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P,3);if(s.queryControlPoints(l),as(m,l,3)<0)return Ri(t,s,e,n,r,i,o,a,h,!u);const c=rs(e,s);if(os(e,s,o=Math.max(o,c)))return 0;if(er(e,s,n,i,r,o,a,h,u))return 2;const g=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.E(0,1),d=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.E(0,1);{const t=new De;Ei(m,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.E.unit(),t);const e=new De;Ei(l,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.E.unit(),e);const s=Math.max(t.maxDim(),e.maxDim());if(t.inflate(3*o),e.inflate(3*o),!t.intersectW(e))return 0;if(t.maxDim()<.1*s){if(Di(m,t,g),Di(l,t,d),g.isEmpty()||d.isEmpty())return 0;Mi(m,g.vmin,g.vmax,m),Mi(l,d.vmin,d.vmax,l)}}const _=dm(m,2,l,2,o);if(0===_)return 0;const p=[],f=[];if(-1===_){const t=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(Xe,3);Wi(m,t);const e=[t[0].x,t[1].x,t[2].x],s=[t[0].y,t[1].y,t[2].y],n=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(Xe,3);Wi(l,n);const i=Yn(e,2,s,2,null,0,[n[0].x,n[1].x,n[2].x],2,[n[0].y,n[1].y,n[2].y],2,null,0,!0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.E.unit(),_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.E.unit(),p,f,u,a,u);if(i>0){let t=0;for(let e=0;e<i;e++){const s=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P,n=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P;ji(l,f[e],n),ji(m,p[e],s),_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.distance(s,n)<=o&&(p[t]=p[e],f[t]=f[e],t++)}p.length=t,f.length=t}}for(let P=0;P<2;P++){const t=0===P?m:l,e=0===P?l:m;for(let s=0;s<2;s++){const n=0===s?0:2,i=[0];vi(e,t[n],i);const r=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P;ji(e,i[0],r),_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.distance(t[n],r)<=o&&(0===P?(p.push(0===n?0:1),f.push(i[0])):(f.push(0===n?0:1),p.push(i[0])))}}if(0===p.length)return 0;if(!g.equalsRange(0,1))for(let P=0;P<p.length;++P)p[P]=wn.recalculateParentT(g.vmin,g.vmax,p[P]);if(!d.equalsRange(0,1))for(let P=0;P<f.length;++P)f[P]=wn.recalculateParentT(d.vmin,d.vmax,f[P]);return cm(t,e,s,p,f,p.length,n,i,r,o,a,h,u)}function zi(t,e,s=!1){const n=t[1].sub(t[0]);e[1].assign(n.mul(2)),e[2].assign(t[2].sub(t[1]).sub(n)),s?e[0].setCoords(0,0):e[0].assign(t[0])}function Bi(t,e,s=!1){const n=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P,3);t.queryControlPoints(n),zi(n,e,s)}function ki(t,e,s=!1){const n=0,i=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.H(t[1][n]).subE(new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.H(t[0][n]));e[1]=i.mul(2),e[2]=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.H(t[2][n]).subE(new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.H(t[1][n])).subE(i),s?e[0].set(0):e[0].set(t[0][n])}function Gi(t,e,s=!1){const n=1,i=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.H(t[1][n]).subE(new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.H(t[0][n]));e[1]=i.mul(2),e[2]=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.H(t[2][n]).subE(new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.H(t[1][n])).subE(i),s?e[0].set(0):e[0].set(t[0][n])}function Wi(t,e,s=!1){const n=Xe.constructPoint2D(t[1]),i=n.sub(Xe.constructPoint2D(t[0]));e[1]=i.mul(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.M.constructInt32(2)),e[2]=Xe.constructPoint2D(t[2]).sub(n).sub(i),e[0]=s?new Xe(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.ah,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.ah):Xe.constructPoint2D(t[0])}function ji(t,e,s,n){if(n){if(e<0){return void _s(new pm({start:t[0],end:t[0].add(li(t,0).getUnitVector())}),e,s)}if(e>1){return void _s(new pm({start:t[2],end:t[2].add(li(t,1).getUnitVector())}),e-1,s)}}if(e<=.5){const n=t[1].clone(),i=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P;(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.a2)(2,t[0],n,e,i);const r=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P;(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.a2)(2,n,t[2],e,r);const o=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P;(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.a2)(2,i,r,e,o),s.assign(o)}else{const n=t[1].clone(),i=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P;(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.a3)(2,t[0],n,e,i);const r=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P;(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.a3)(2,n,t[2],e,r);const o=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P;(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.a3)(2,i,r,e,o),s.assign(o)}}function Zi(t,e,s){const n=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P,3);t.queryControlPoints(n),Hi(n,e,s)}function Hi(t,e,s){if(e.value()<=.5){const n=Ye.constructPoint2D(t[1]),i=new Ye;(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.a4)(2,Ye.constructPoint2D(t[0]),n,e,i);const r=new Ye;(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.a4)(2,n,Ye.constructPoint2D(t[2]),e,r);const o=new Ye;(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.a4)(2,i,r,e,o),s.setE(o)}else{const n=Ye.constructPoint2D(t[1]),i=new Ye;(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.a5)(2,Ye.constructPoint2D(t[0]),n,e,i);const r=new Ye;(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.a5)(2,n,Ye.constructPoint2D(t[2]),e,r);const o=new Ye;(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.a5)(2,i,r,e,o),s.setE(o)}}function Ui(t,e,s){const n=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P,4);t.queryControlPoints(n),Oi(n,e,s)}function Oi(t,e,s){e.value()<0&&e.set(0,e.eps()),e.value()>1&&e.set(1,e.eps()),s.setE(di(t,1,e))}function Qi(t,e){let s=1;t[1].isEqualPoint2D(t[0])&&(s=2,t[2].isEqualPoint2D(t[0])&&(s=3));let n=2;t[2].isEqualPoint2D(t[3])&&(n=1,t[1].isEqualPoint2D(t[3])&&(n=0)),e[0].assign(t[0]),e[2].assign(t[3]);const i=_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.intersectLinesAtOnePoint(t[0],t[s],t[n],t[3]),r=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P;(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.U)(t[0],t[3],.5,r);const o=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P;Po(t,.5,o);const a=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P;e[1].assign(i),ji(e,.5,a);const h=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P;e[1].assign(r),ji(e,.5,h);const u=_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.sqrDistance(o,a),m=_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.sqrDistance(o,h);return u<m?(e[1].setCoordsPoint2D(i),Math.sqrt(u)):(e[1].setCoordsPoint2D(r),Math.sqrt(m))}function Ji(t,e,s){s[0].assign(t[0]),s[1].assign(t[1]),s[2].assign(t[2]);const n=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P;_h(t,e,.5,n);const i=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P;ji(s,.5,i);const r=_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.sqrDistance(n,i);return Math.sqrt(r)}function Ki(t,e){e[0].assign(t[0]),e[3].assign(t[2]),(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.U)(t[0],t[1],2/3,e[1]),(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.U)(t[1],t[2],1/3,e[2])}function $i(t,e){const s=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P,3);t.queryControlPoints(s);const n=_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.sqrDistance(s[1],s[0]),i=_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.sqrDistance(s[1],s[2]);let r=s[0].clone(),o=n;n>i&&(r=s[2].clone(),o=i);let a=!1;return o<=e&&0!==o&&(a=!0,t.setControlPoint1(r)),a}function tr(t,e){if(!e)return!1;const s=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P,3);t.queryControlPoints(s);const n=_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.sqrDistance(s[1],s[0]),i=_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.sqrDistance(s[1],s[2]);s[0].clone();let r=n;return n>i&&(s[2].clone(),r=i),r<=e&&0!==r}function er(t,e,s,n,i,r,o,a,h){const u=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P,3);t.queryControlPoints(u);const m=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P,3);if(e.queryControlPoints(m),u[0].equals(m[0])){if(u[1].equals(m[1])&&u[2].equals(m[2]))return s&&(s.length=0,s.push(u[0]),s.push(u[2])),n&&(n.length=0,n.push(0),n.push(1)),i&&(i.length=0,i.push(0),i.push(1)),!0;if(!u[0].equals(m[2]))return!1}return!!(u[0].equals(m[2])&&u[1].equals(m[1])&&u[2].equals(m[0]))&&(n&&(n.length=0,n.push(0),n.push(1),h&&(n[1]=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.c)(n[0],n[0]=n[1]))),i&&(i.length=0,i.push(1),i.push(0),h&&(i[1]=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.c)(i[0],i[0]=i[1]))),s&&(s.length=0,s.push(u[0]),s.push(u[2]),h&&(s[1]=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.c)(s[0],s[0]=s[1]))),!0)}const sr=[[.33998104358485626,.6521451548625461],[.8611363115940526,.34785484513745385]],nr=[[.1834346424956498,.362683783378362],[.525532409916329,.31370664587788727],[.7966664774136267,.22238103445337448],[.9602898564975363,.10122853629037626]],ir=[[.09501250983763744,.1894506104550685],[.2816035507792589,.18260341504492358],[.45801677765722737,.16915651939500254],[.6178762444026438,.14959598881657674],[.755404408355003,.12462897125553388],[.8656312023878318,.09515851168249279],[.9445750230732326,.062253523938647894],[.9894009349916499,.027152459411754096]],rr=[[.04830766568773832,.0965400885147278],[.1444719615827965,.09563872007927486],[.23928736225213706,.09384439908080457],[.33186860228212767,.09117387869576389],[.42135127613063533,.08765209300440381],[.5068999089322294,.08331192422694675],[.5877157572407623,.07819389578707031],[.6630442669302152,.0723457941088485],[.7321821187402897,.06582222277636185],[.7944837959679424,.058684093478535544],[.84936761373257,.050998059262376175],[.8963211557660521,.04283589802222668],[.9349060759377397,.03427386291302143],[.9647622555875064,.02539206530926206],[.9856115115452684,.01627439473090567],[.9972638618494816,.007018610009470096]],or=[[.024350292663424433,.048690957009139724],[.07299312178779904,.04857546744150343],[.12146281929612056,.048344762234802954],[.16964442042399283,.04799938859645831],[.21742364374000708,.04754016571483031],[.2646871622087674,.04696818281621002],[.31132287199021097,.046284796581314416],[.3572201583376681,.04549162792741814],[.4022701579639916,.044590558163756566],[.4463660172534641,.04358372452932345],[.48940314570705296,.04247351512365359],[.5312794640198946,.04126256324262353],[.571895646202634,.03995374113272034],[.6111553551723933,.038550153178615626],[.6489654712546573,.03705512854024005],[.6852363130542333,.035472213256882386],[.7198818501716109,.033805161837141606],[.7528199072605319,.03205792835485155],[.7839723589433414,.030234657072402478],[.8132653151227975,.028339672614259483],[.8406292962525803,.02637746971505466],[.8659993981540928,.024352702568710874],[.8893154459951141,.022270173808383253],[.9105221370785028,.02013482315353021],[.9295691721319396,.017951715775697343],[.9464113748584028,.015726030476024718],[.9610087996520538,.013463047896718643],[.973326827789911,.011168139460131128],[.983336253884626,.008846759826363947],[.9910133714767443,.006504457968978363],[.9963401167719553,.004147033260562468],[.9993050417357722,.001783280721696433]],ar=[[.012223698960615764,.024446180196262518],[.03666379096873349,.024431569097850044],[.06108196960413957,.02440235563384958],[.08546364050451549,.024358557264690626],[.10979423112764375,.024300200167971867],[.13405919946118777,.02422731922281525],[.15824404271422493,.024139957989019287],[.18233430598533718,.024038168681024052],[.2063155909020792,.023922012136703457],[.23017356422666,.023791557781003402],[.2538939664226943,.023646883584447616],[.2774626201779044,.02348807601653591],[.3008654388776772,.02331522999406276],[.32408843502441337,.023128448824387027],[.3471177285976355,.022927844143686846],[.369939555349859,.02271353585023646],[.39254027503326744,.022485652032744968],[.414906379552275,.022244328893799764],[.43702450103710416,.02198971066846049],[.4588814198335522,.021721949538052076],[.48046407240417205,.02144120553920846],[.5017595591361445,.02114764646822135],[.5227551520511755,.02084144778075115],[.5434383024128103,.02052279248696007],[.5637966482266181,.020191871042130043],[.5838180216287631,.01984888123283086],[.6034904561585486,.019494028058706602],[.6228021939105849,.019127523609950944],[.6417416925623075,.01874958694054471],[.660297632272646,.01836044393733134],[.6784589224477192,.017960327185008687],[.6962147083695144,.017549475827117706],[.7135543776835874,.01712813542311138],[.7304675667419088,.016696557801589205],[.746944166797062,.016255000909785187],[.7629743300440948,.015803728659399347],[.7785484755064119,.015343010768865144],[.7936572947621933,.014873122602147314],[.8082917575079137,.014394345004166847],[.8224431169556439,.013906964132951985],[.8361029150609068,.013411271288616333],[.8492629875779689,.012907562739267348],[.8619154689395485,.012396139543950923],[.8740527969580318,.01187730737274028],[.8856677173453972,.011351376324080417],[.8967532880491582,.010818660739503076],[.9073028834017568,.010279479015832158],[.9173101980809605,.009734153415006806],[.9267692508789478,.009183009871660874],[.9356743882779164,.00862637779861675],[.9440202878302202,.008064589890486059],[.9518019613412644,.0074979819256347285],[.9590147578536999,.006926892566898814],[.9656543664319652,.006351663161707189],[.9717168187471366,.005772637542865698],[.9771984914639074,.00519016183267633],[.9820961084357185,.004604584256702955],[.9864067427245862,.004016254983738642],[.9901278184917344,.0034255260409102157],[.9932571129002129,.0028327514714579912],[.9957927585349812,.0022382884309626186],[.997733248625514,.0016425030186690294],[.9990774599773758,.0010458126793403489],[.9998248879471319,.00044938096029209035]];function hr(t,e,s,n){const i=.5*(n-s),r=s+i,o=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.K(0);for(let a=0,h=Math.trunc(t/2);a<h;++a){let s,n;switch(t){case 4:s=sr[a][0],n=sr[a][1];break;case 8:s=nr[a][0],n=nr[a][1];break;case 16:s=ir[a][0],n=ir[a][1];break;case 32:s=rr[a][0],n=rr[a][1];break;case 64:s=or[a][0],n=or[a][1];break;case 128:s=ar[a][0],n=ar[a][1];break;default:throw new Error("Quadrature_integral: invalid n")}const h=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.am)(-.5,s,r),u=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.am)(i,s,r);o.pe(e(h)*n),o.pe(e(u)*n)}return o.getResult()*i}class ur extends Hs{constructor(t){t?t.vd?(super({vd:t.vd,bPolygon:!0}),this.m_segmentBufferCTor=fm):t.copy?(super({vd:t.copy.getDescription(),bPolygon:!0}),this.m_segmentBufferCTor=fm,t.copy.copyTo(this)):t.move?(super({move:t.move}),this.m_segmentBufferCTor=fm):t.envelope?(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.t)("envelope constructor not impl"):(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.d)("bad arg to polygon constructor"):(super({bPolygon:!0}),this.m_segmentBufferCTor=fm)}assignMove(t){return t.copyTo(this),this}assignCopy(t){return t.copyTo(this),this}getBoundary(){return Ks(this)}getExteriorRingCount(){return this.getOGCPolygonCount()}getGeometryType(){return ur.type}getDimension(){return 2}createInstance(){return new ur({vd:this.getDescription()})}equals(t,e){return this.equalsBase(t,e)}}function mr(t,s){let n,r=s,o=null;switch(r||(o=(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.j)(t)?(0,_Envelope_js__WEBPACK_IMPORTED_MODULE_1__.w)():(0,_Envelope_js__WEBPACK_IMPORTED_MODULE_1__.j)(),r=o),t){case _Geometry_js__WEBPACK_IMPORTED_MODULE_0__.G.enumPoint:n=new _Envelope_js__WEBPACK_IMPORTED_MODULE_1__.P({vd:r});break;case _Geometry_js__WEBPACK_IMPORTED_MODULE_0__.G.enumLine:n=new pm({vd:r});break;case _Geometry_js__WEBPACK_IMPORTED_MODULE_0__.G.enumBezier:n=new ia({vd:r});break;case _Geometry_js__WEBPACK_IMPORTED_MODULE_0__.G.enumEllipticArc:n=new Xh({vd:r});break;case _Geometry_js__WEBPACK_IMPORTED_MODULE_0__.G.enumRationalBezier2:n=new En({vd:r});break;case _Geometry_js__WEBPACK_IMPORTED_MODULE_0__.G.enumBezier2:n=new wn({vd:r});break;case _Geometry_js__WEBPACK_IMPORTED_MODULE_0__.G.enumEnvelope:n=new _Envelope_js__WEBPACK_IMPORTED_MODULE_1__.E({vd:r});break;case _Geometry_js__WEBPACK_IMPORTED_MODULE_0__.G.enumMultiPoint:n=new Ee({vd:r});break;case _Geometry_js__WEBPACK_IMPORTED_MODULE_0__.G.enumPolyline:n=new Os({vd:r});break;case _Geometry_js__WEBPACK_IMPORTED_MODULE_0__.G.enumPolygon:n=new ur({vd:r});break;case _Geometry_js__WEBPACK_IMPORTED_MODULE_0__.G.enumMultipatch:(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.t)("multipatch not impl");break;case _Geometry_js__WEBPACK_IMPORTED_MODULE_0__.G.enumGeometryCollection:n=new ls({vd:r});break;default:(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.a)("Geometry.create")}return n}ur.type=_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.G.enumPolygon;var lr=_Envelope_js__WEBPACK_IMPORTED_MODULE_1__.V;const cr=-1,gr=1;class dr{constructor(t){this.m_shape=t}userSort(t,e,s){this.m_shape.sortVerticesSimpleByYHelper(s,t,e)}getValue(t){return this.m_shape.getY(t)}}function _r(t){return void 0!==t.parent}class pr{constructor(t){_r(t)?(this.m_parent=t.parent,this.m_geometry=t.geometry,this.m_path=t.path,this.m_vertex=t.vertex,this.m_firstVertex=t.firstVertex,this.m_index=t.selection?0:t.index,this.m_bSkipMultiPoints=t.bSkipMultiPoints,this.m_selection=t.selection,this.m_bOneGeom=t.bOneGeom,this.m_bFirst=!0):(this.m_parent=t.copy.m_parent,this.m_geometry=t.copy.m_geometry,this.m_path=t.copy.m_path,this.m_vertex=t.copy.m_vertex,this.m_index=t.copy.m_index,this.m_bSkipMultiPoints=t.copy.m_bSkipMultiPoints,this.m_firstVertex=t.copy.m_firstVertex,this.m_bFirst=!0,this.m_selection=t.copy.m_selection,this.m_bOneGeom=t.copy.m_bOneGeom)}moveToNextHelper(){for(this.m_path=this.m_parent.getNextPath(this.m_path),this.m_index=0;this.m_geometry!==cr;){for(;this.m_path!==cr;this.m_path=this.m_parent.getNextPath(this.m_path))if(this.m_vertex=this.m_parent.getFirstVertex(this.m_path),this.m_firstVertex=this.m_vertex,this.m_vertex!==cr)return this.m_vertex;if(this.m_bOneGeom)return cr;if(this.m_geometry=this.m_parent.getNextGeometry(this.m_geometry),this.m_geometry===cr)break;this.m_bSkipMultiPoints&&!(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.h)(this.m_parent.getGeometryType(this.m_geometry))||(this.m_path=this.m_parent.getFirstPath(this.m_geometry))}return cr}nextSelection(){for(;this.m_index<this.m_parent.m_selectedVertices.length;){const t=this.m_parent.m_selectedVertices[this.m_index++];if(t!==cr&&(this.m_path=this.m_parent.getPathFromVertex(t),!this.m_bOneGeom||this.m_geometry===this.m_parent.getGeometryFromPath(this.m_path)))return this.m_geometry=this.m_parent.getGeometryFromPath(this.m_path),t}return cr}next(){return this.m_selection?this.nextSelection():this.m_bFirst?(this.m_bFirst=!1,this.m_vertex):this.m_vertex!==cr?(this.m_vertex=this.m_parent.getNextVertex(this.m_vertex),this.m_index++,this.m_vertex!==cr&&this.m_vertex!==this.m_firstVertex?this.m_vertex:this.moveToNextHelper()):cr}currentGeometry(){return this.m_geometry}currentPath(){return this.m_path}static create_(t,e,s,n,i,r,o,a,h){return new pr({parent:t,geometry:e,path:s,vertex:n,firstVertex:i,index:r,bSkipMultiPoints:o,selection:a,bOneGeom:h})}}class fr{constructor(t){this.parentage=t}equals(t){return this.parentage===t.parentage}}class Pr{setPrevPath(t,e){this.m_pathIndexList.setField(t,1,e)}setNextPath(t,e){this.m_pathIndexList.setField(t,2,e)}setPathFlags(t,e){this.m_pathIndexList.setField(t,6,e)}getPathFlags(t){return this.m_pathIndexList.getField(t,6)}setPathGeometry(t,e){this.m_pathIndexList.setField(t,7,e)}getPathIndex(t){return this.m_pathIndexList.getField(t,0)}setNextGeometry(t,e){this.m_geometryIndexList.setField(t,1,e)}setPrevGeometry(t,e){this.m_geometryIndexList.setField(t,0,e)}getGeometryIndex(t){return this.m_geometryIndexList.getField(t,7)}setFirstPath(t,e){this.m_geometryIndexList.setField(t,3,e)}setLastPath(t,e){this.m_geometryIndexList.setField(t,4,e)}newGeometry(t){const e=this.m_geometryIndexList.newElement();return this.m_geometryIndexList.setField(e,2,t),this.m_geometryIndexList.setField(e,5,0),this.m_geometryIndexList.setField(e,6,0),this.m_geometryIndexList.setField(e,7,this.m_geometryIndexList.elementToIndex(e)),e}freeGeometry(t){this.m_geometryIndexList.deleteElement(t)}newPath(t){const e=this.m_pathIndexList.newElement(),s=this.m_pathIndexList.elementToIndex(e);if(this.m_pathIndexList.setField(e,0,s),this.m_pathIndexList.setField(e,3,0),this.m_pathIndexList.setField(e,6,0),this.setPathGeometry(e,t),s>=this.m_pathAreas.length){const t=Math.trunc(s<16?16:3*s/2);this.m_pathAreas.length=t,this.m_pathLengths.length=t}return this.m_pathAreas[s]=0,this.m_pathLengths[s]=0,this.m_pathCount++,e}freePath(t){this.m_pathIndexList.deleteElement(t),this.m_pathCount--}newVertex(t){const e=this.m_vertexIndexList.newElement(),s=t>=0?t:this.m_vertexIndexList.elementToIndex(e);if(this.m_vertexIndexList.setField(e,0,s),t<0){if(s>=this.m_vertices.getPointCount()){const t=Math.trunc(s<16?16:3*s/2);this.m_vertices.reserveRounded(t),this.m_vertices.resizeNoInit(t),null!==this.m_segments&&(this.m_segments.length=t),this.m_xyStream=this.m_vertices.getAttributeStreamRef(0)}this.m_segments&&(this.m_segments[s]=null)}return this.m_pointCount++,e}freeVertex(t){this.unselect(t);const e=this.getVertexIndex(t);this.m_vertexIndexList.deleteElement(t),this.m_pointCount--;for(let s=0,n=this.m_indices.length;s<n;s++){if(s===this.m_selectionIndex)continue;const t=this.m_indices[s];null!==t&&t.size()>e&&t.write(e,-1)}this.m_weights&&this.m_weights.size()>e&&this.m_weights.write(e,1),this.m_ranks&&this.m_ranks.size()>e&&this.m_ranks.write(e,gr),this.m_segmentWeights&&this.m_segmentWeights.size()>e&&this.m_segmentWeights.write(e,1),this.m_segmentRanks&&this.m_segmentRanks.size()>e&&this.m_segmentRanks.write(e,gr),this.m_segments&&this.setSegmentToIndex(e,null)}insertVertex_(t,e,s,n){this.m_hasForceSetEnvelope=0;const i=e!==cr?this.getPrevVertex(e):this.getLastVertex(t),r=i!==cr?this.getNextVertex(i):cr,o=this.newVertex(null===s?this.m_pointCount:-1),a=this.getVertexIndex(o);null!==s&&this.m_vertices.setPointByValNoCurves(a,s),this.setPathToVertex(o,t),this.setNextVertex(o,r),this.setPrevVertex(o,i),r!==cr&&this.setPrevVertex(r,o),i!==cr&&this.setNextVertex(i,o);const h=this.isClosedPath(t),u=this.getFirstVertex(t);e===cr&&this.setLastVertex(t,o),e===u&&(h&&n&&u!==cr||this.setFirstVertex(t,o)),h&&r===cr&&(this.setNextVertex(o,o),this.setPrevVertex(o,o)),this.setPathSize(t,this.getPathSize(t)+1);const m=this.getGeometryFromPath(t);return this.setGeometryVertexCount(m,this.getPointCount(m)+1),o}getHelperPoint(){return this.m_helperPoint||(this.m_helperPoint=new _Envelope_js__WEBPACK_IMPORTED_MODULE_1__.P({vd:this.m_vertices.getDescription()}),this.m_helperPoint.setXYCoords(0,0)),this.m_helperPoint}addMultiPoint(t,e){const s=this.createGeometry(t.getGeometryType(),t.getDescription());return this.appendMultiPoint(s,t,e),s}addPoint_(t,e){const s=this.createGeometry(_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.G.enumMultiPoint,t.getDescription());return this.appendPoint(s,t,e),s}appendMultiPath_(t,e){if(e.isEmpty())return;const s=e.getImpl();this.m_vertices.reserveRounded(this.m_vertices.getPointCount()+s.getPointCount()),this.m_verticesMp.addPoints(e,0,s.getPointCount()),this.m_xyStream=this.m_vertices.getAttributeStreamRef(0);const n=null!==this.m_segments||null!==s.getSegmentFlagsStreamRef();this.m_vertexIndexList.setCapacity(this.m_vertexIndexList.size()+s.getPointCount()),this.m_pathIndexList.setCapacity(this.m_pathIndexList.size()+s.getPathCount());for(let i=0,r=s.getPathCount();i<r;i++){if(0===s.getPathSize(i))continue;const e=this.insertPath(t,cr);this.setClosedPath(e,s.isClosedPath(i));for(let t=s.getPathStart(i),r=s.getPathEnd(i);t<r;t++){const i=this.insertVertex_(e,cr,null,!1);if(n){const e=this.getVertexIndex(i);if(1&s.getSegmentFlags(t))this.setSegmentToIndex(e,null);else{const n=new fm;s.querySegment(t,n,!0),this.setSegmentToIndex(e,n.releaseSegment())}}}s.isStrongPathStart(i)&&this.setStrongPathStart(e,!0),s.isStrongPathEnd(i)&&this.setStrongPathEnd(e,!0)}}addMultiPath(t,e){const s=this.createGeometry(t.getGeometryType(),t.getDescription());return t.getGeometryType()===_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.G.enumPolygon&&this.setFillRule(s,t.getFillRule()),this.appendMultiPath(s,t,e),s}appendMultiPathPolyline(t,e,s){const n=e.getImpl(),i=null!==this.m_segments||null!==n.getSegmentFlagsStreamRef(),r=new _Envelope2D_js__WEBPACK_IMPORTED_MODULE_3__.Envelope2D;e.queryEnvelope(r);{const r=s.clone();let o=n.getPointCount();const a=n.getAccelerators();if(a&&a.getQuadTree()){o=a.getQuadTree().getIntersectionCount(r,0,n.getPointCount()+1)}if(o<e.getPointCount()){if(0===o)return;const s=n.queryLimitedSegmentIterator(r);let a=-1,h=-100,u=-1,m=0,l=-1,c=cr,g=!1,d=s.nextSegment();if(null!==d)for(;;d=s.nextSegment()){let r=null===d;const o=null!==d?s.getPathIndex():a,_=null!==d?s.getStartPointIndex():h;if(r||(a===o&&h+1===_?m++:r=!0),r){if(-1!==l){let t=-1,s=-1;if(m===u){this.setClosedPath(c,g);const i=n.getPathEnd(a);this.m_vertices.reserveRounded(this.m_vertices.getPointCount()+i-l),this.m_verticesMp.addPoints(e,l,i),s=n.getPathSize(a),t=i-1}else if(!g||h+1<n.getPathEnd(a))this.m_vertices.reserveRounded(this.m_vertices.getPointCount()+h+2-l),this.m_verticesMp.addPoints(e,l,h+2),s=h-l+2,t=h;else{this.m_vertices.reserveRounded(this.m_vertices.getPointCount()+h+2-l),this.m_verticesMp?.addPoints(e,l,h+1),t=h,s=h-l+1;const i=n.getPathStart(a);this.m_verticesMp.addPoints(e,i,i+1),s+=1}this.m_xyStream=this.m_vertices.getAttributeStreamRef(0);for(let e=0,r=l;e<s;e++,r++){const e=this.insertVertex_(c,cr,null,!1);if(i){const s=this.getVertexIndex(e);if(1&n.getSegmentFlags(r)||r>t)this.setSegmentToIndex(s,null);else{const t=new fm;n.getSegmentBuffer(r,t,!0),this.setSegmentToIndex(s,t.releaseSegment())}}}}if(null===d)break;m=1,l=_,a!==o?(c=this.insertPath(t,cr),this.setClosedPath(c,!1),u=n.getSegmentCountPath(o),g=n.isClosedPath(o),a=o):c=this.insertPath(t,cr)}h=_}return}}this.appendMultiPath_(t,e)}appendMultiPathPolygon(t,e,n){const i=e.getImpl(),r=null!==this.m_segments||null!==i.getSegmentFlagsStreamRef(),o=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_3__.Envelope2D.constructEmpty();e.queryEnvelope(o),(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(n.isIntersecting(o)&&!n.containsEnvelope(o));let a=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_3__.Envelope2D.construct(Number.NEGATIVE_INFINITY,n.ymin,Number.POSITIVE_INFINITY,n.ymax),h=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_3__.Envelope2D.construct(n.xmin,Number.NEGATIVE_INFINITY,n.xmax,Number.POSITIVE_INFINITY);const u=i.getAccelerators();if(u&&u.getQuadTree()){const t=u.getQuadTree(),e=t.getIntersectionCount(a,0,0);e>t.getIntersectionCount(h,0,e+1)&&(h=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.c)(a,a=h))}else a.height()>h.width()&&(h=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.c)(a,a=h));const m=[],l=i.queryLimitedSegmentIterator(a);let c=-1,g=-100,d=-1,_=0,p=-1,f=-1,P=cr,y=!0,x=l.nextSegment();if(null!==x)for(;;x=l.nextSegment()){let n=null===x;const o=null!==x?l.getPathIndex():c,a=null!==x?l.getStartPointIndex():g;if(n||(o===c?g+1===a?_++:n=!0:(n=c>=0,c<0&&(c=o,d=i.getSegmentCountPath(c),p=a,P=cr,_=1))),n){if(!(0===m.length&&d===_)){0!==m.length&&m[0].first===p||(this.m_vertices.reserveRounded(this.m_vertices.getPointCount()+1),this.m_verticesMp.addPoints(e,p,p+1),-1===f&&(f=p),P===cr&&(P=this.insertPath(t,cr),this.setClosedPath(P,!0)),this.m_xyStream=this.m_vertices.getAttributeStreamRef(0),this.insertVertex_(P,cr,null,!1));for(const{first:n,second:o}of m){-1===f&&(f=n);let a=-1,h=-1;const u=n+o-1;if(o===d){const t=u+1;h=t-n,this.m_vertices.reserveRounded(this.m_vertices.getPointCount()+h),this.m_verticesMp.addPoints(e,n,t),a=u,(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(1===m.length)}else if(u+1<i.getPathEnd(c)){const t=u+2;h=t-n,this.m_vertices.reserveRounded(this.m_vertices.getPointCount()+h),this.m_verticesMp.addPoints(e,n,t),a=u}else{const t=i.getPathStart(c),s=t!==f?1:0,r=u+1;h=r-n+s,this.m_vertices.reserveRounded(this.m_vertices.getPointCount()+(r-n)+s),this.m_verticesMp.addPoints(e,n,r),a=u,s>0&&this.m_verticesMp?.addPoints(e,t,t+1)}this.m_xyStream=this.m_vertices.getAttributeStreamRef(0),P===cr&&(P=this.insertPath(t,cr),this.setClosedPath(P,!0));for(let t=0,e=n;t<h;t++,e++){const t=this.insertVertex_(P,cr,null,!1);if(r){const s=this.getVertexIndex(t);if(1&i.getSegmentFlags(e)||e>a)this.setSegmentToIndex(s,null);else{const t=new fm;i.getSegmentBuffer(e,t,!0),this.setSegmentToIndex(s,t.releaseSegment())}}}}if(0===m.length||m.at(-1).first+m.at(-1).second!==p+_){let t=p+_;t===e.getPathEnd(c)&&(t=e.getPathStart(c)),f!==t&&(this.m_vertices.reserveRounded(this.m_vertices.getPointCount()+1),this.m_verticesMp.addPoints(e,t,t+1),this.insertVertex_(P,cr,null,!1))}}m.length=0,y=!0,o!==c&&(c=o,d=i.getSegmentCountPath(c),P=cr,f=-1),p=a,_=1}if(!x)break;{const t=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_3__.Envelope2D.constructEmpty();x.queryLooseEnvelope(t),h.isIntersecting(t)?(y?m.push((0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.l)(a,1)):m.at(-1).second++,y=!1):y=!0}g=a}}appendMultiPath(t,e,s){if(void 0===s)return void this.appendMultiPath_(t,e);if(e.isEmpty())return;const n=e.getGeometryType()===_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.G.enumPolygon,r=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_3__.Envelope2D.constructEmpty();e.queryEnvelope(r),s.isIntersecting(r)&&(!s.containsEnvelope(r)&&e.getPointCount()>10?n?this.appendMultiPathPolygon(t,e,s):this.appendMultiPathPolyline(t,e,s):this.appendMultiPath_(t,e))}appendPoint(t,e,s){if(e.isEmpty())return;if(void 0!==s&&!s.contains(e.getXY()))return;this.m_vertices.reserveRounded(this.m_vertices.getPointCount()+1),this.m_verticesMp.add(e),this.m_xyStream=this.m_vertices.getAttributeStreamRef(0),this.m_vertexIndexList.setCapacity(this.m_vertexIndexList.size()+1);const n=this.insertPath(t,cr);this.insertVertex_(n,cr,null,!1)}appendMultiPoint_(t,e){this.m_vertices.reserveRounded(this.m_vertices.getPointCount()+e.getPointCount()),this.m_verticesMp.addPoints(e,0,e.getPointCount()),this.m_xyStream=this.m_vertices.getAttributeStreamRef(0),this.m_vertexIndexList.setCapacity(this.m_vertexIndexList.size()+e.getPointCount());const s=this.insertPath(t,cr);for(let n=0,i=e.getPointCount();n<i;n++)this.insertVertex_(s,cr,null,!1)}appendMultiPoint(t,e,s){if(void 0===s)return void this.appendMultiPoint_(t,e);const n=e.getAttributeStreamRef(0);let i=0;for(let u=0,m=e.getPointCount();u<m;u++){const t=n.readPoint2D(2*u);s.contains(t)&&i++}this.m_vertices.reserveRounded(this.m_vertices.getPointCount()+i);let r=-1,o=-1,a=0;for(let u=0,m=e.getPointCount();u<m;u++){const t=n.readPoint2D(2*u);s.contains(t)?(-1===r&&(r=u,o=u),o++):r>=0&&(this.m_verticesMp.addPoints(e,r,o-r),r=-1,a++)}if(r>0&&(this.m_verticesMp.addPoints(e,r,o-r),a++),!a)return;this.m_xyStream=this.m_vertices.getAttributeStreamRef(0),this.m_vertexIndexList.setCapacity(this.m_vertexIndexList.size()+i);const h=this.insertPath(t,cr);for(let u=0,m=e.getPointCount();u<m;u++){const t=n.readPoint2D(2*u);s.contains(t)&&this.insertVertex_(h,cr,null,!1)}}splitSegmentForward(t,s,n,r,o){const a=this.getNextVertex(t);a===cr&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.a)("Edit_shape.split_segment_forward_");const h=this.getHelperPoint(),u=this.getPathFromVertex(t);let m=t;const l=this.hasSegmentParentage();for(let e=0,c=s.getResultSegmentCount(n);e<c;e++){const t=this.getVertexIndex(m),r=this.getNextVertex(m),g=s.getResultSegment(n,e);let d=null;if(g.getGeometryType()!==_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.G.enumLine&&(d=g.clone(),d.dropAllAttributes()),0===e&&(g.queryStart(h),this.setSegmentToIndex(t,null),this.setPointEx(m,h,s.getResultSegmentStartPointRank(n,e),s.getResultSegmentStartPointWeight(n,e),o)),this.setSegmentRank(m,s.getResultSegmentInteriorRank(n,e)),this.setSegmentWeight(m,s.getResultSegmentInteriorWeight(n,e)),l){const t=s.getResultSegmentSegmentParentage(n,e),i=s.getResultSegmentStartPointIsBreak(n,e);this.setSegmentParentageAndBreak(m,t,i)}if(g.queryEnd(h),e<c-1){this.setSegmentToIndex(t,d);const i=this.insertVertex(u,r,h);this.setWeight(i,s.getResultSegmentEndPointWeight(n,e)),this.setRank(i,s.getResultSegmentEndPointRank(n,e)),this.select(i),m=i}else{this.setPointEx(a,h,s.getResultSegmentEndPointRank(n,e),s.getResultSegmentEndPointWeight(n,e),o);const i=s.getResultSegmentEndPointIsBreak(n,e);this.setSegmentParentageBreakVertex(a,i),this.setSegmentToIndex(t,d)}}}splitSegmentBackward(t,s,n,r,o){const a=this.getNextVertex(t);a===cr&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.a)("Edit_shape.split_segment_backward_");const h=this.getHelperPoint(),u=this.getPathFromVertex(t);let m=t;const l=this.hasSegmentParentage();for(let e=0,c=s.getResultSegmentCount(n);e<c;e++){const t=c-e-1,r=this.getVertexIndex(m),g=this.getNextVertex(m),d=s.getResultSegment(n,t);let _=null;if(d.getGeometryType()!==_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.G.enumLine&&(_=d.clone(),_.reverse(),_.dropAllAttributes()),0===e&&(d.queryEnd(h),this.setSegmentToIndex(r,null),this.setPointEx(m,h,s.getResultSegmentEndPointRank(n,t),s.getResultSegmentEndPointWeight(n,t),o),this.setSegmentParentageAndBreak(m,s.getResultSegmentSegmentParentage(n,t),s.getResultSegmentEndPointIsBreak(n,t))),d.getGeometryType()===_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.G.enumLine?this.setSegmentToIndex(r,null):this.setSegmentToIndex(r,_),this.setSegmentRank(m,s.getResultSegmentInteriorRank(n,t)),this.setSegmentWeight(m,s.getResultSegmentInteriorWeight(n,t)),d.queryStart(h),e<c-1){const e=this.insertVertex(u,g,h);this.setWeight(e,s.getResultSegmentStartPointWeight(n,t)),this.setRank(e,s.getResultSegmentStartPointRank(n,t)),this.select(e),m=e,l&&this.setSegmentParentageAndBreak(e,s.getResultSegmentSegmentParentage(n,t),s.getResultSegmentEndPointIsBreak(n,t))}else this.setPointEx(a,h,s.getResultSegmentStartPointRank(n,t),s.getResultSegmentStartPointWeight(n,t),o)}}selected_(t){return this.getUserIndex(t,this.m_selectionIndex)>=0}allocateIndex(t=!0){if(this.m_deletedIndices.length){const e=this.m_deletedIndices.pop();return t&&e.setRange(-1,0,e.size()),e}return t?(0,_Envelope_js__WEBPACK_IMPORTED_MODULE_1__.y)(0,-1):(0,_Envelope_js__WEBPACK_IMPORTED_MODULE_1__.y)(0)}recycleUserIndex(t){this.m_deletedIndices.push(t)}allocatePathIndex(){if(this.m_deletedPathIndices.length){const t=this.m_deletedPathIndices.at(-1);return this.m_deletedPathIndices.pop(),t}return (0,_Envelope_js__WEBPACK_IMPORTED_MODULE_1__.y)(0)}recyclePathUserIndex(t){this.m_deletedPathIndices.push(t)}peelALoop_(t,e,s){const n=this.getNextVertex(t),i=this.getNextVertex(e),r=this.getVertexIndex(t),o=this.getVertexIndex(e);if(this.setNextVertex(t,i),this.setPrevVertex(i,t),this.setNextVertex(e,n),this.setPrevVertex(n,e),this.m_segments){const t=this.getSegmentFromIndex(r),e=this.getSegmentFromIndex(o);this.setSegmentToIndex(o,null),this.setSegmentToIndex(r,e),this.setSegmentToIndex(o,t)}if(this.hasSegmentParentage()){let s=this.getSegmentParentage(e),n=this.getSegmentParentage(t);-1===s&&-1===n||(n=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.c)(s,s=n),this.setSegmentParentageAndBreak(t,n),this.setSegmentParentageAndBreak(e,s))}if(s){const e=this.getPathFromVertex(t),s=this.getGeometryFromPath(e),r=[!1],o=this.insertClosedPath(s,cr,n,this.getFirstVertex(e),r);r[0]&&this.setFirstVertex(e,i);let a=this.getPathSize(e);return a-=this.getPathSize(o),this.setPathSize(e,a),o}return cr}sortVerticesSimpleByYHelper(t,e,s){t.sort(e,s,((t,e)=>{let s=this.compareVerticesSimpleY(t,e);if(0===s){const n=this.getPathInternalIndexFromVertex(t),i=this.getPathInternalIndexFromVertex(e);s=n<i?-1:n>i?1:0}return s}))}sortVerticesSimpleByYHelper3D(t,e,n){(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(0)}constructor(){this.m_verticesMp=null,this.m_vertices=null,this.m_xyStream=null,this.m_vertexDescription=null,this.m_segments=null,this.m_weights=null,this.m_ranks=null,this.m_segmentWeights=null,this.m_segmentRanks=null,this.m_indices=[],this.m_deletedIndices=[],this.m_pathAreas=[],this.m_pathLengths=[],this.m_pathindices=[],this.m_deletedPathIndices=[],this.m_geometryIndices=[],this.m_selectedVertices=[],this.m_helperPoint=null,this.m_forceSetEnvelope=_Envelope_js__WEBPACK_IMPORTED_MODULE_1__.n.constructEmpty(),this.m_hasForceSetEnvelope=0,this.m_workPoint2D=_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.getNAN(),this.m_workPoint2_2D=_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.getNAN(),this.m_curveStitcher=null,this.m_pathCount=0,this.m_pointCount=0,this.m_firstGeometry=cr,this.m_lastGeometry=cr,this.m_vertexIndexList=new _Envelope_js__WEBPACK_IMPORTED_MODULE_1__.S(5),this.m_pathIndexList=new _Envelope_js__WEBPACK_IMPORTED_MODULE_1__.S(8),this.m_geometryIndexList=new _Envelope_js__WEBPACK_IMPORTED_MODULE_1__.S(8),this.m_bHasAttributes=!1,this.m_selectedCount=0,this.m_selectionIndex=-1,this.m_selection=!1,this.m_bucketSort=new _Envelope_js__WEBPACK_IMPORTED_MODULE_1__.B,this.m_segmentParentageIndex=-1}getTotalPointCount(){return this.m_pointCount}getEnvelope2D(t){if(0!==this.m_hasForceSetEnvelope)return new _Envelope2D_js__WEBPACK_IMPORTED_MODULE_3__.Envelope2D(this.m_forceSetEnvelope.xmin,this.m_forceSetEnvelope.ymin,this.m_forceSetEnvelope.xmax,this.m_forceSetEnvelope.ymax);const e=this.hasCurves(),s=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_3__.Envelope2D.constructEmpty(),n=this.queryVertexIterator();let i=!0;for(let r=n.next();r!==cr;r=n.next()){if(i?s.merge(this.getXY(r)):s.mergeNe(this.getXY(r)),e){const t=this.getSegment(r);if(null!==t){const e=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_3__.Envelope2D.constructEmpty();t.queryLooseEnvelope(e),s.mergeEnvelope2D(e)}}i=!1}return s}getEnvelope3D(t){return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(0),_Envelope_js__WEBPACK_IMPORTED_MODULE_1__.n.constructEmpty()}forceSetEnvelope2D(t){this.m_hasForceSetEnvelope=1,this.m_forceSetEnvelope.setCoords(t.xmin,t.ymin,0,t.xmax,t.ymax,0)}forceSetEnvelope3D(t){(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(0)}forgetForceSetEnvelope(){this.m_hasForceSetEnvelope=0}getGeometryCount(){return this.m_geometryIndexList.size()}addGeometry(t,s){const n=t.getGeometryType();if((0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.h)(n))return this.addMultiPath(t,s);if(n===_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.G.enumMultiPoint)return this.addMultiPoint(t,s);if(n===_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.G.enumPoint)return this.addPoint_(t,s);if(n===_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.G.enumEnvelope){const e=new ur;return e.addEnvelope(t,!1),this.addMultiPath(e,s)}(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.a)("")}appendGeometry(t,s){this.mergeVertexDescription(s.getDescription());const n=s.getGeometryType();(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.h)(n)?this.appendMultiPath(t,s):n!==_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.G.enumMultiPoint?(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.a)(""):this.appendMultiPoint(t,s)}assignRankToGeometryVertices(t,e){e<gr&&(e=gr);const s=this.queryVertexIterator();for(let n=s.next();n!==cr;n=s.next())this.setRank(n,e),this.setSegmentRank(n,e)}collapseAllGeometriesToFirst(){this.collapseGeometriesToFirst(_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.G.enumUnknown)}collapseGeometriesToFirst(t){this.dbgVerifyVertexCounts();let e=cr,s=-1,n=-1;for(let r=this.getFirstGeometry();r!==cr;)if(t!==_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.G.enumUnknown&&this.getGeometryType(r)!==t)r=this.getNextGeometry(r);else{if(e===cr){e=r,s=this.getPathCount(e),n=this.getPointCount(e),r=this.getNextGeometry(r);continue}for(let s=this.getFirstPath(r);s!==cr;s=this.getNextPath(s))this.setPathGeometry(s,e);s+=this.getPathCount(r),n+=this.getPointCount(r);const t=this.getLastPath(e),i=this.getFirstPath(r);t!==cr?this.setNextPath(t,i):this.setFirstPath(e,i),i!==cr&&(this.setPrevPath(i,t),this.setLastPath(e,this.getLastPath(r))),this.setFirstPath(r,cr),this.setLastPath(r,cr);const o=r;r=this.getNextGeometry(r),this.setGeometryVertexCount(o,0),this.removeGeometry(o)}return e!==cr&&(this.setGeometryVertexCount(e,n),this.setGeometryPathCount(e,s),this.dbgVerifyVertexCounts()),e}setFillRule(t,e){let s=this.m_geometryIndexList.getField(t,2);s&=-134217729,s|=1===e?134217728:0,this.m_geometryIndexList.setField(t,2,s)}getFillRule(t){return 134217728&this.m_geometryIndexList.getField(t,2)?1:0}setGeometryModified(t,e){let s=this.m_geometryIndexList.getField(t,2);!!(67108864&s)!==e&&(s&=-67108865,s|=e?67108864:0,this.m_geometryIndexList.setField(t,2,s))}getGeometryModified(t){return!!(67108864&this.m_geometryIndexList.getField(t,2))}setGeometryModifiedWithVertex(t,e){const s=this.getPathFromVertex(t),n=this.getGeometryFromPath(s);this.setGeometryModified(n,e)}getGeometryModifiedWithVertex(t){const e=this.getPathFromVertex(t),s=this.getGeometryFromPath(e);return this.getGeometryModified(s)}swapGeometry(t,e){const s=this.getFirstPath(t),n=this.getFirstPath(e),i=this.getLastPath(t),r=this.getLastPath(e);for(let c=this.getFirstPath(t);c!==cr;c=this.getNextPath(c))this.setPathGeometry(c,e);for(let c=this.getFirstPath(e);c!==cr;c=this.getNextPath(c))this.setPathGeometry(c,t);this.setFirstPath(t,n),this.setFirstPath(e,s),this.setLastPath(t,r),this.setLastPath(e,i);const o=this.getPointCount(t),a=this.getPathCount(t),h=this.getPointCount(e),u=this.getPathCount(e);this.setGeometryVertexCount(t,h),this.setGeometryVertexCount(e,o),this.setGeometryPathCount(t,u),this.setGeometryPathCount(e,a);const m=this.m_geometryIndexList.getField(t,2),l=this.m_geometryIndexList.getField(e,2);this.m_geometryIndexList.setField(t,2,l),this.m_geometryIndexList.setField(e,2,m)}addPathFromMultiPath(t,e,s){const n=this.createGeometry(s?_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.G.enumPolygon:_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.G.enumPolyline,t.getDescription()),r=t.getImpl();if(t.getPathSize(e)<2)return n;this.m_vertices.reserveRounded(this.m_vertices.getPointCount()+t.getPathSize(e)),this.m_verticesMp.addPoints(t,t.getPathStart(e),r.getPathEnd(e)),this.m_xyStream=this.m_vertices.getAttributeStreamRef(0);const o=this.insertPath(n,cr);this.setClosedPath(o,r.isClosedPath(e)||s);const a=null!==this.m_segments||null!==r.getSegmentFlagsStreamRef();for(let i=r.getPathStart(e),h=r.getPathEnd(e);i<h;i++){const t=this.insertVertex_(o,cr,null,!1);if(a){const e=this.getVertexIndex(t);if(1&r.getSegmentFlags(i))this.setSegmentToIndex(e,null);else{const t=new fm;r.querySegment(i,t,!0),this.setSegmentToIndex(e,t.releaseSegment())}}}return r.isStrongPathStart(e)&&this.setStrongPathStart(o,!0),r.isStrongPathEnd(e)&&this.setStrongPathEnd(o,!0),n}getGeometry(t){const e=this.getGeometryType(t),s=mr(e,this.m_verticesMp.getDescription()),n=this.getPointCount(t);if(0===n)return s;if((0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.h)(e)){const e=s.getImpl(),i=this.getPathCount(t),r=(0,_Envelope_js__WEBPACK_IMPORTED_MODULE_1__.y)(i+1),o=(0,_Envelope_js__WEBPACK_IMPORTED_MODULE_1__.z)(i+1,0),a=s.getDescription(),h=this.hasCurves();for(let s=0,u=a.getAttributeCount();s<u;s++){const h=a.getSemantics(s),u=lr.getComponentCount(h),m=(0,_Envelope_js__WEBPACK_IMPORTED_MODULE_1__.t)(h,n),l=this.m_vertices.getAttributeStreamRef(h);let c=0,g=0,d=0;for(let e=this.getFirstPath(t);e!==cr;e=this.getNextPath(e)){let t=0;this.isClosedPath(e)&&(t|=1),this.isExterior(e)&&(t|=8),this.isStrongPathStart(e)&&(t|=2),this.isStrongPathEnd(e)&&(t|=4),t&&o.setBits(g,t);const s=this.getPathSize(e);if(r.write(g++,d),d+=s,0===h){const t=l,s=m;let n;for(let i=this.getFirstVertex(e);c<d;i=this.getNextVertex(i),c++){const e=this.getVertexIndex(i);n=t.readPoint2D(2*e),s.writePoint2D(2*c,n)}}else for(let n=this.getFirstVertex(e);c<d;n=this.getNextVertex(n),c++){const t=this.getVertexIndex(n);for(let e=0;e<u;e++){const s=l.readAsDbl(t*u+e);m.writeAsDbl(c*u+e,s)}}}e.setAttributeStreamRef(h,m),r.write(i,n)}if(e.setPathFlagsStreamRef(o),e.setPathStreamRef(r),e.notifyModifiedFlags(65535),h){let s=0,n=0;for(let i=this.getFirstPath(t);i!==cr;i=this.getNextPath(i)){s+=this.getPathSize(i);for(let t=this.getFirstVertex(i);n<s;t=this.getNextVertex(t)){const s=this.getSegment(t);null!==s&&s.isCurve()&&e.replaceSegment(n,s,!0),n++}}}}else if(e===_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.G.enumMultiPoint){const e=s.getImpl(),i=s.getDescription();e.reserve(n),e.resizeNoInit(n);for(let s=0,n=i.getAttributeCount();s<n;s++){const n=i.getSemantics(s),r=lr.getComponentCount(n),o=e.getAttributeStreamRef(n),a=this.m_vertices.getAttributeStreamRef(n);let h=0;const u=this.getFirstPath(t),m=this.getPathSize(u);for(let t=this.getFirstVertex(u);h<m;t=this.getNextVertex(t),h++){const e=this.getVertexIndex(t);for(let t=0;t<r;t++){const s=a.readAsDbl(e*r+t);o.writeAsDbl(h*r+t,s)}}e.setAttributeStreamRef(n,o)}e.notifyModifiedFlags(65535)}else (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.d)("getGeometry");return s}queryPointGeometryOnly(t,s){this.getGeometryType(t)!==_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.G.enumMultiPoint&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.a)("get_point_geometry_only");const n=this.getPointCount(t);if(n>1&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.a)("get_point_geometry_only"),0===n)return s.assignVertexDescription(this.m_vertexDescription),void s.setEmpty();const r=this.getFirstPath(t),o=this.getFirstVertex(r);this.queryPoint(o,s)}removeGeometry(t){for(let n=this.getFirstPath(t);n!==cr;n=this.removePath(n));const e=this.getPrevGeometry(t),s=this.getNextGeometry(t);return e!==cr?this.setNextGeometry(e,s):this.m_firstGeometry=s,s!==cr?this.setPrevGeometry(s,e):this.m_lastGeometry=e,this.freeGeometry(t),s}createGeometry(t,e){void 0===e&&(e=(0,_Envelope_js__WEBPACK_IMPORTED_MODULE_1__.j)());const s=this.newGeometry(t);return this.m_vertices||(this.m_verticesMp=new Ee({vd:e}),this.m_vertices=this.m_verticesMp.getImpl()),this.mergeVertexDescription(e),this.m_firstGeometry===cr?(this.m_firstGeometry=s,this.m_lastGeometry=s):(this.setPrevGeometry(s,this.m_lastGeometry),this.setNextGeometry(this.m_lastGeometry,s),this.m_lastGeometry=s),s}getFirstGeometry(){return this.m_firstGeometry}getLastGeometry(){return this.m_lastGeometry}getNextGeometry(t){return this.m_geometryIndexList.getField(t,1)}getPrevGeometry(t){return this.m_geometryIndexList.getField(t,0)}getGeometryType(t){return 16777215&this.m_geometryIndexList.getField(t,2)}setGeometryUserIndex(t,e,s){const n=this.m_geometryIndices[e],i=this.getGeometryIndex(t);i>=n.size()&&n.resize(Math.max(1.25*i,16),-1),n.write(i,s)}getGeometryUserIndex(t,e){const s=this.getGeometryIndex(t),n=this.m_geometryIndices[e];return s<n.size()?n.read(s):-1}createGeometryUserIndex(){for(let e=0;e<this.m_geometryIndices.length;e++)if(null===this.m_geometryIndices[e])return this.m_geometryIndices[e]=(0,_Envelope_js__WEBPACK_IMPORTED_MODULE_1__.y)(0),e;this.m_geometryIndices.push((0,_Envelope_js__WEBPACK_IMPORTED_MODULE_1__.y)(0));const t=this.m_geometryIndices.length-1;return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(t>=0&&t<=Number.MAX_SAFE_INTEGER),t}removeGeometryUserIndex(t){for(this.m_geometryIndices[t]=null;this.m_geometryIndices.length>0&&null===this.m_geometryIndices.at(-1);)this.m_geometryIndices.pop()}getFirstPath(t){return this.m_geometryIndexList.getField(t,3)}getLastPath(t){return this.m_geometryIndexList.getField(t,4)}hasPointFeatures(){for(let t=this.getFirstGeometry();t!==cr;t=this.getNextGeometry(t))if(!(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.h)(this.getGeometryType(t)))return!0;return!1}getPointCount(t){return this.m_geometryIndexList.getField(t,5)}getPathCount(t){return this.m_geometryIndexList.getField(t,6)}filterClosePoints(t,e,n,r,o){const a=t*t;let h=0;const u=this.hasCurves(),m=this.hasSegmentParentage(),l=!0;for(let g=o===cr?this.getFirstGeometry():o;g!==cr;g=o===cr?this.getNextGeometry(g):cr){const t=this.getGeometryType(g);if(!(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.h)(t))continue;if(n&&t!==_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.G.enumPolygon)continue;const o=this.getGeometryType(g)===_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.G.enumPolygon;let d=this.getGeometryModified(g);for(let n=this.getFirstPath(g);n!==cr;){let t=0;for(let e=this.getFirstVertex(n);t<Math.trunc(this.getPathSize(n)/2);){const i=this.getNextVertex(e);if(i===cr)break;const o=this.getXY(e),c=this.getXY(i);let _=_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.sqrDistance(o,c),p=!0;do{if(_<=a){if(u){const t=this.getSegment(e);if(null!==t){const e=t.calculateLength2D();if(_=e*e,_>a)break}}if(0===_?0===h&&(h=-1):h=1,i!==this.getLastVertex(n)){const t=m&&(this.getSegmentParentageBreakVertex(e)||this.getSegmentParentageBreakVertex(i));if(this.transferAllDataToTheVertex(i,e,l),this.removeVertex(i,!1),r&&!d&&(this.setGeometryModified(g,!0),d=!0),m&&e!==i){this.setSegmentParentageBreakVertex(e,t);const n=this.getNextVertex(e);(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(n!==cr),this.isDiscontinuousSegmentParentage(n)&&this.setSegmentParentageBreakVertex(n,!0)}}p=!1}}while(0);p&&(e=this.getNextVertex(e)),t++}let i=this.getFirstVertex(n);for(let e=this.isClosedPath(n)?i:this.getLastVertex(n);this.getPathSize(n)>0;){const t=this.getPrevVertex(e);if(t===cr)break;{const o=this.getXY(t),c=this.getXY(e);let _=_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.sqrDistance(o,c),p=!0;do{if(_<=a){if(u){const e=this.getSegment(t);if(null!==e){const t=e.calculateLength2D();if(_=t*t,_>a)break}}if(0===_?0===h&&(h=-1):h=1,m){(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(this.m_segmentParentageIndex>=0);const n=this.getUserIndex(e,this.m_segmentParentageIndex);this.transferAllDataToTheVertex(t,e,l),this.setUserIndex(e,this.m_segmentParentageIndex,n)}else this.transferAllDataToTheVertex(t,e,l);const o=m&&(this.getSegmentParentageBreakVertex(e)||this.getSegmentParentageBreakVertex(t));this.removeVertex(t,!0),r&&!d&&(this.setGeometryModified(g,!0),d=!0),m&&t!==e&&(o||this.isDiscontinuousSegmentParentage(e))&&this.setSegmentParentageBreakVertex(e,!0),i===t&&(i=this.getFirstVertex(n)),p=!1}}while(0);if(p&&(e=this.getPrevVertex(e),e===i))break}}const c=this.getPathSize(n);let _=e&&c<(o?3:2);_&&o&&2===c&&u&&(_=!this.pathHasCurves(n)),_?(n=this.removePath(n),0===h&&(h=-1),r&&!d&&(this.setGeometryModified(g,!0),d=!0)):n=this.getNextPath(n)}}return h}filterClosePoints3D(t,e,n,i,r,o){return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(0),0}hasDegenerateSegments(t){for(let e=this.getFirstGeometry();e!==cr;e=this.getNextGeometry(e))if((0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.h)(this.getGeometryType(e)))for(let s=this.getFirstPath(e);s!==cr;){const e=this.getPathSize(s);if(0===e)return!0;let n=this.getFirstVertex(s);for(let s=0;s<e;s++){const e=this.getNextVertex(n);if(e===cr)break;const s=this.getVertexIndex(n),i=this.getSegmentFromIndex(s);let r=0;if(null!==i){if(r=i.calculateLowerLength2D(),r<=t){if(r=i.calculateUpperLength2D(),r<=t)return!0;if(r=i.calculateLength2D(),r<=t)return!0}}else{const n=this.getVertexIndex(e);if(r=this.m_vertices.getShortestDistance(s,n),r<=t)return!0}n=e}s=this.getNextPath(s)}return!1}hasDegenerateSegments3D(t,e){return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(0),!1}transferAllDataToTheVertex(t,e,s=!1){const n=this.getVertexIndex(t),i=this.getVertexIndex(e);if(s){let t=1,e=1;if(this.m_ranks&&(t=this.getRankWithIndex(n),e=this.getRankWithIndex(i)),t>e&&this.setRankWithIndex(i,t),t>=e&&this.m_weights){const s=this.getWeightWithIndex(n),r=this.getWeightWithIndex(i);(t>e||s>r)&&this.setWeightWithIndex(i,s)}}else{if(this.m_weights){const t=this.getWeightWithIndex(n);this.setWeightWithIndex(i,t)}if(this.m_ranks){const t=this.getRankWithIndex(n);this.setRankWithIndex(i,t)}}if(this.m_segmentWeights){const t=this.getSegmentWeightWithIndex(n);this.setSegmentWeightWithIndex(i,t)}if(this.m_segmentRanks){const t=this.getSegmentRankWithIndex(n);this.setSegmentRankWithIndex(i,t)}for(let o=0,a=this.m_indices.length;o<a;o++)if(o!==this.m_selectionIndex&&null!==this.m_indices[o]){const s=this.getUserIndex(t,o);this.setUserIndex(e,o,s)}const r=this.selected(t);r!==this.selected(e)&&(r?this.select(e):this.unselect(e))}splitSegmentAxisAware(t,s,n,i,r){let o=0;const a=this.getNextVertex(t);a===cr&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.a)("");const h=this.getVertexIndex(t),u=this.getVertexIndex(a),m=this.getSegmentFromIndex(h);let l=this.m_vertices.getShortestDistance(h,u);const c=this.getPathFromVertex(t),g=this.m_bHasAttributes;g&&m&&(l=m.calculateLength2D());const d=this.getSegmentParentage(t),_=this.getHelperPoint();if(m){let t=0,e=0,r=cr;for(let p=0;p<n;p++){const n=s[p];if(t<n&&n<1){const s=m.cut(t,n);if(null!==i&&(p>0&&s.setStartXY(i[p-1]),s.setEndXY(i[p]),s.normalizeAfterEndpointChange(),e=p),g){const t=l>0?m.calculateSubLengthFromStart(n)/l:0;this.m_vertices.interpolateTwoVertices(h,u,t,_)}_.setXY(s.getEndXY()),r=this.insertVertex(c,a,_),o++;const f=this.getPrevVertex(r),P=this.getVertexIndex(f);this.setSegmentToIndex(P,s),-1!==d&&this.setSegmentParentageAndBreak(r,d,!1),t=n}}if(r!==cr){const s=m.cut(t,1);null!==i&&(s.setStartXY(i[e]),s.normalizeAfterEndpointChange());const n=this.getVertexIndex(r);this.setSegmentToIndex(n,s)}}else{let t=0;for(let e=0;e<n;e++){const n=s[e];if(t<n&&n<1){this.m_vertices.interpolateTwoVertices(h,u,n,_);const t=this.insertVertex(c,a,_);o++,-1!==d&&this.setSegmentParentageAndBreak(t,d,!1)}t=n}}return o}splitSegment(t,e,s,n=null){return this.splitSegmentAxisAware(t,e,s,n,-1)}snapControlPoints(t,s,n){this.getNextVertex(t)===cr&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.a)("");let i=t,r=!1;for(let e=0;e<s;++e){const t=this.getVertexIndex(i),e=this.getSegmentFromIndex(t);if(e){const t=e.snapControlPoints(n);r||=t}i=this.getNextVertex(i)}return r}snapControlPointsOnSelection(t){if(!this.hasCurves())return!1;let e=0;const s=this.queryVertexIteratorOnSelection();for(let n=s.next();n!==cr;n=s.next()){const s=this.getVertexIndex(n),i=this.getSegmentFromIndex(s);i&&(e|=i.snapControlPoints(t)?1:0)}return 0!==e}calculateSubLength2D(t,e,n){return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(0),0}setPoint(t,e,s){if(this.setPointOnly(t,e),null!==this.m_segments){const n=this.getVertexIndex(t),i=this.getSegmentFromIndex(n);null!==i&&(i.setStartXY(e.getXY()),i.normalizeAfterEndpointChange(),s&&i.ensureXYMonotone());const r=this.getPrevVertex(t);if(r!==cr){const t=this.getVertexIndex(r),n=this.getSegmentFromIndex(t);null!==n&&(n.setEndXY(e.getXY()),n.normalizeAfterEndpointChange(),s&&n.ensureXYMonotone())}}}setPointEx(t,e,s,n,i){this.setPoint(t,e,i);const r=this.getVertexIndex(t);this.setWeightWithIndex(r,n),this.setRankWithIndex(r,s)}setPointOnly(t,e){const s=this.getVertexIndex(t);this.m_vertices.setPointByValNoCurves(s,e)}setPointOnlyEx(t,e,n,i){(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(0)}queryPoint(t,e){const s=this.getVertexIndex(t);this.m_vertices.getPointByVal(s,e)}setXY(t,e){this.setXYCoords(t,e.x,e.y)}setXYCoords(t,e,s){const n=this.getVertexIndex(t);if(this.m_vertices?.setXYCoordsNoCurves(n,e,s),null!==this.m_segments){const i=this.getSegmentFromIndex(n);null!==i&&(i.setStartXYCoords(e,s),i.normalizeAfterEndpointChange());const r=this.getPrevVertex(t);if(r!==cr){const t=this.getVertexIndex(r),n=this.getSegmentFromIndex(t);null!=n&&(n.setEndXYCoords(e,s),n.normalizeAfterEndpointChange())}}}setXYMonotonic(t,e,s){const n=this.getVertexIndex(t);if(this.m_vertices.setXYCoordsNoCurves(n,e,s),null!==this.m_segments){const i=this.getSegmentFromIndex(n);if(null!==i){const t=i.getEndXY();i.setCoordsForIntersector(new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P(e,s),t,!1),i.ensureXYMonotone()}const r=this.getPrevVertex(t);if(r!==cr){const t=this.getVertexIndex(r),n=this.getSegmentFromIndex(t);if(null!==n){const t=n.getStartXY();n.setCoordsForIntersector(t,new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P(e,s),!1),n.ensureXYMonotone()}}}}setXYMonotonicPoint2D(t,e){this.setXYMonotonic(t,e.x,e.y)}queryXY(t,e){const s=this.getVertexIndex(t);return this.m_vertices.queryXY(s,e)}getXY(t){const e=this.getVertexIndex(t);return this.m_vertices.getXY(e)}getXYWithIndex(t){return this.m_xyStream.readPoint2D(2*t)}static setSegDefault(t,e,n){(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(0)}setXYZ(t,e,n){(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(0)}setXYZCoords(t,e,n,i){(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(0)}queryXYZ(t,e){(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(0)}getXYZ(t){return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(0),_Envelope_js__WEBPACK_IMPORTED_MODULE_1__.d.getNAN()}getXYZWithIndex(t){return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(0),_Envelope_js__WEBPACK_IMPORTED_MODULE_1__.d.getNAN()}mergeVertexDescription(t){this.m_verticesMp.mergeVertexDescription(t),this.m_vertexDescription=this.m_verticesMp.getDescription(),this.m_bHasAttributes=this.m_vertexDescription.getAttributeCount()>1}addAttribute(t){(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(0)}getAttributeAsDbl(t,e,s){return this.m_vertices.getAttributeAsDbl(t,this.getVertexIndex(e),s)}queryAttributeAsDbl(t,e,n,i){(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(0)}setAttribute(t,e,n,i){(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(0)}setAttributeInt(t,e,n,i){(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(0)}getVertexDescription(){return this.m_vertexDescription}getMinPathVertexY(t){return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(0),0}getVertexIndex(t){return this.m_vertexIndexList.getField(t,0)}getY(t){const e=this.getVertexIndex(t);return this.m_vertices.queryXY(e,this.m_workPoint2D),this.m_workPoint2D.y}getX(t){return this.getXY(t).x}isEqualXY(t,e){return this.queryXY(t,this.m_workPoint2D),this.queryXY(e,this.m_workPoint2_2D),this.m_workPoint2D.isEqualPoint2D(this.m_workPoint2_2D)}isEqualXYPoint2D(t,e){return this.queryXY(t,this.m_workPoint2D),this.m_workPoint2D.isEqualPoint2D(e)}isEqualXYZPoint3D(t,e){return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(0),!1}setWeight(t,e){e<1&&(e=1);const s=1===e;if(null==this.m_weights){if(s)return;this.m_weights=(0,_Envelope_js__WEBPACK_IMPORTED_MODULE_1__.D)(this.m_vertices.getPointCount(),1)}const n=this.getVertexIndex(t);if(n>=this.m_weights.size()){if(s)return;this.m_weights.resize(n+1,1)}this.m_weights.write(n,e)}setWeightWithIndex(t,e){e<1&&(e=1);const s=1===e;if(null===this.m_weights){if(s)return;this.m_weights=(0,_Envelope_js__WEBPACK_IMPORTED_MODULE_1__.D)(this.m_vertices.getPointCount(),1)}if(t>=this.m_weights.size()){if(s)return;this.m_weights.resize(t+1,1)}this.m_weights.write(t,e)}getWeight(t){if(null===this.m_weights)return 1;const e=this.getVertexIndex(t);return e>=this.m_weights.size()?1:this.m_weights.read(e)}getWeightWithIndex(t){return null===this.m_weights||t>=this.m_weights.size()?1:this.m_weights.read(t)}getRank(t){if(null===this.m_ranks)return gr;const e=this.getVertexIndex(t);return e>=this.m_ranks.size()?gr:this.m_ranks.read(e)}getRankWithIndex(t){return null===this.m_ranks||t>=this.m_ranks.size()?gr:this.m_ranks.read(t)}setRank(t,e){e<gr&&(e=gr);const s=e===gr;if(null===this.m_ranks){if(s)return;this.m_ranks=(0,_Envelope_js__WEBPACK_IMPORTED_MODULE_1__.y)(this.m_vertices.getPointCount(),gr)}const n=this.getVertexIndex(t);if(n>=this.m_ranks.size()){if(s)return;this.m_ranks.resize(n+1,gr)}this.m_ranks.write(n,e)}setRankWithIndex(t,e){e<gr&&(e=gr);const s=e===gr;if(null===this.m_ranks){if(s)return;this.m_ranks=(0,_Envelope_js__WEBPACK_IMPORTED_MODULE_1__.y)(this.m_vertices.getPointCount(),gr)}if(t>=this.m_ranks.size()){if(s)return;this.m_ranks.resize(t+1,gr)}this.m_ranks.write(t,e)}setSegmentWeight(t,e){e<1&&(e=1);const s=1===e;if(null===this.m_segmentWeights){if(s)return;this.m_segmentWeights=(0,_Envelope_js__WEBPACK_IMPORTED_MODULE_1__.D)(this.m_vertices.getPointCount(),1)}const n=this.getVertexIndex(t);if(n>=this.m_segmentWeights.size()){if(s)return;this.m_segmentWeights.resize(n+1,1)}this.m_segmentWeights.write(n,e)}setSegmentWeightWithIndex(t,e){e<1&&(e=1);const s=1===e;if(null==this.m_segmentWeights){if(s)return;this.m_segmentWeights=(0,_Envelope_js__WEBPACK_IMPORTED_MODULE_1__.D)(this.m_vertices.getPointCount(),1)}if(t>=this.m_segmentWeights.size()){if(s)return;this.m_segmentWeights.resize(t+1,1)}this.m_segmentWeights.write(t,e)}getSegmentWeight(t){if(null===this.m_segmentWeights)return 1;const e=this.getVertexIndex(t);return e>=this.m_segmentWeights.size()?1:this.m_segmentWeights.read(e)}getSegmentWeightWithIndex(t){return null==this.m_segmentWeights||t>=this.m_segmentWeights.size()?1:this.m_segmentWeights.read(t)}getSegmentRank(t){if(null===this.m_segmentRanks)return Pr.st_defaultRank;const e=this.getVertexIndex(t);return e>=this.m_segmentRanks.size()?Pr.st_defaultRank:this.m_segmentRanks.read(e)}getSegmentRankWithIndex(t){return null===this.m_segmentRanks||t>=this.m_segmentRanks.size()?gr:this.m_segmentRanks.read(t)}setSegmentRank(t,e){e<gr&&(e=gr);const s=e===gr;if(null===this.m_segmentRanks){if(s)return;this.m_segmentRanks=(0,_Envelope_js__WEBPACK_IMPORTED_MODULE_1__.y)(this.m_vertices.getPointCount(),gr)}const n=this.getVertexIndex(t);if(n>=this.m_segmentRanks.size()){if(s)return;this.m_segmentRanks.resize(n+1,gr)}this.m_segmentRanks.write(n,e)}setSegmentRankWithIndex(t,e){e<gr&&(e=gr);const s=e===gr;if(null===this.m_segmentRanks){if(s)return;this.m_segmentRanks=(0,_Envelope_js__WEBPACK_IMPORTED_MODULE_1__.y)(this.m_vertices.getPointCount(),gr)}if(t>=this.m_segmentRanks.size()){if(s)return;this.m_segmentRanks.resize(t+1,gr)}this.m_segmentRanks.write(t,e)}removeWeights(){this.m_weights=null,this.m_segmentWeights=null}removeRanks(){this.m_ranks=null,this.m_segmentRanks=null}setUserIndex(t,e,s){const n=this.m_indices[e],i=this.getVertexIndex(t);if(n.size()<=i){if(-1===s)return;n.resize(this.m_vertices.getPointCount(),-1)}n.write(i,s)}getUserIndex(t,e){const s=this.getVertexIndex(t),n=this.m_indices[e];if(s<n.size()){return n.read(s)}return-1}addToUserIndex(t,e,s){const n=this.m_indices[e],i=this.getVertexIndex(t);n.size()<=i&&n.resize(this.m_vertices.getPointCount(),-1);const r=n.read(i);n.write(i,r+s)}createUserIndex(){for(let e=0;e<this.m_indices.length;e++)if(null===this.m_indices[e])return this.m_indices[e]=this.allocateIndex(),e;this.m_indices.push(this.allocateIndex());const t=this.m_indices.length-1;return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(t>=0&&t<=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.i)()),t}createUserIndexUninitialized(){for(let e=0;e<this.m_indices.length;e++)if(null===this.m_indices[e])return this.m_indices[e]=this.allocateIndex(!1),e;this.m_indices.push(this.allocateIndex(!1));const t=this.m_indices.length-1;return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(t>=0&&t<=Number.MAX_SAFE_INTEGER),t}fillUserIndexForGeometry(t,e,s){const n=this.m_indices[e],i=n.size();for(let r=this.getFirstPath(t);r!==cr;r=this.getNextPath(r)){let t=this.getFirstVertex(r);for(let e=0,o=this.getPathSize(r);e<o;e++,t=this.getNextVertex(t)){const e=this.getVertexIndex(t);e<i&&n.write(e,s)}}}fillUserIndexForSelection(t,e){(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(0)}removeUserIndex(t){for(this.recycleUserIndex(this.m_indices[t]),this.m_indices[t]=null;this.m_indices.length>0&&null===this.m_indices[this.m_indices.length-1];)this.m_indices.pop()}replaceCurveWithLine(t){if(null!==this.m_segments){const e=this.getVertexIndex(t);this.setSegmentToIndex(e,null)}}queryLineConnector(t,e,s=!1){const n=this.getNextVertex(t);if(n===cr)return!1;if(!this.m_bHasAttributes||s){const s=this.getXY(t);e.setStartXY(s);const i=this.getXY(n);e.setEndXY(i)}else{const s=new _Envelope_js__WEBPACK_IMPORTED_MODULE_1__.P({vd:this.getVertexDescription()});this.queryPoint(t,s),e.setStart(s),this.queryPoint(n,s),e.setEnd(s)}return!0}queryLineConnector3D(t,e,n=!1){return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(0),!1}hasCurves(){return null!==this.m_segments}geometryHasCurves(t){return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(0),!1}pathHasCurves(t){if(!this.hasCurves())return!1;const e=this.getFirstVertex(t);if(e===cr)return!1;const s=this.getPathSize(t);let n=e;for(let r=0;r<s;r++,n=this.getNextVertex(n)){const t=this.getSegment(n);if(null!==t&&t.getGeometryType()!==_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.G.enumLine)return!0}return!1}insertPath(t,s){let n=cr;s!==cr?(t!==this.getGeometryFromPath(s)&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.a)(""),n=this.getPrevPath(s)):n=this.getLastPath(t);const i=this.newPath(t);return s!==cr&&this.setPrevPath(s,i),this.setNextPath(i,s),this.setPrevPath(i,n),n!==cr?this.setNextPath(n,i):this.setFirstPath(t,i),s===cr&&this.setLastPath(t,i),this.setGeometryPathCount(t,this.getPathCount(t)+1),i}removePath(t){const e=this.getPrevPath(t),s=this.getNextPath(t),n=this.getGeometryFromPath(t);return e!==cr?this.setNextPath(e,s):this.setFirstPath(n,s),s!==cr?this.setPrevPath(s,e):this.setLastPath(n,e),this.clearPath(t),this.setGeometryPathCount(n,this.getPathCount(n)-1),this.freePath(t),s}clearPath(t){const e=this.getFirstVertex(t);if(e!==cr){let s=e;for(let e=0,i=this.getPathSize(t);e<i;e++){const t=s;s=this.getNextVertex(s),this.freeVertex(t)}const n=this.getGeometryFromPath(t);this.setGeometryVertexCount(n,this.getPointCount(n)-this.getPathSize(t))}this.setPathSize(t,0)}getNextPath(t){return this.m_pathIndexList.getField(t,2)}getPrevPath(t){return this.m_pathIndexList.getField(t,1)}getPathSize(t){return this.m_pathIndexList.getField(t,3)}isClosedPath(t){return!!(1&this.getPathFlags(t))}setClosedPath(t,e){if(this.isClosedPath(t)===e)return;if(this.getPathSize(t)>0){const s=this.getFirstVertex(t),n=this.getLastVertex(t);if(e){this.setNextVertex(n,s),this.setPrevVertex(s,n);const t=this.getVertexIndex(n);this.setSegmentToIndex(t,null)}else{this.setNextVertex(n,cr),this.setPrevVertex(s,cr);const t=this.getVertexIndex(n);this.setSegmentToIndex(t,null)}}const s=(1|this.getPathFlags(t))-1;this.setPathFlags(t,s|(e?1:0))}closeAllPaths(t){(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(0)}isStrongPathStart(t){return!!(8&this.getPathFlags(t))}isStrongPathEnd(t){return!!(16&this.getPathFlags(t))}setStrongPathStart(t,e){const s=(8|this.getPathFlags(t))-8;this.setPathFlags(t,s|(e?8:0))}setStrongPathEnd(t,e){const s=(16|this.getPathFlags(t))-16;this.setPathFlags(t,s|(e?16:0))}getGeometryFromPath(t){return this.m_pathIndexList.getField(t,7)}isExterior(t){return!!(2&this.getPathFlags(t))}setExterior(t,e){const s=(2|this.getPathFlags(t))-2;this.setPathFlags(t,s|(e?2:0))}getRingArea(t){if(this.isRingAreaValid(t))return this.m_pathAreas[this.getPathIndex(t)];const e=this.getFirstVertex(t);if(e===cr)return 0;const s=this.getXY(e),n=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.K(0),r=this.getPathSize(t);if(r>2){const t=s.clone(),i=t.x,o=t.y;let a=this.getNextVertex(e);const h=this.getXY(a);a=this.getNextVertex(a);const u=_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.getNAN();for(let e=2;e<r;e++,a=this.getNextVertex(a))this.queryXY(a,u),n.pe((u.x-t.x)*(h.y-o)),t.setCoordsPoint2D(h),h.setCoordsPoint2D(u);n.pe((i-t.x)*(h.y-o))}if(this.hasCurves()){let t=e;for(let e=0;e<r;e++,t=this.getNextVertex(t)){const e=this.getSegment(t);if(null===e||e.getGeometryType()===_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.G.enumLine)continue;const s=2*e.calculateArea2DHelper();n.pe(s)}}this.setRingAreaValid(t,!0);const o=.5*n.getResult();return this.m_pathAreas[this.getPathIndex(t)]=o,o}getPathIndexInternal(t){return this.getPathIndex(t)}getPathInternalIndexFromVertex(t){return this.getPathIndex(this.getPathFromVertex(t))}setPathUserIndex(t,e,s){const n=this.m_pathindices[e],i=this.getPathIndex(t);n.size()<this.m_pathAreas.length&&n.resize(this.m_pathAreas.length,-1),n.write(i,s)}getPathUserIndex(t,e){const s=this.getPathIndex(t),n=this.m_pathindices[e];return s<n.size()?n.read(s):-1}createPathUserIndex(){for(let e=0;e<this.m_pathindices.length;e++)if(null===this.m_pathindices[e])return this.m_pathindices[e]=this.allocatePathIndex(),e;this.m_pathindices.push(this.allocatePathIndex());const t=this.m_pathindices.length-1;return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(t>=0&&t<=Number.MAX_SAFE_INTEGER),t}fillPathUserIndexForGeometry(t,e,s){const n=this.m_pathindices[e],i=n.size();for(let r=this.getFirstPath(t);r!==cr;r=this.getNextPath(r)){const t=this.getPathIndex(r);t<i&&n.write(t,s)}}removePathUserIndex(t){for(this.recyclePathUserIndex(this.m_pathindices[t]),this.m_pathindices[t]=null;this.m_pathindices.length>0&&null===this.m_pathindices.at(-1);)this.m_pathindices.pop()}movePath(t,s,n){if(n===cr&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.a)(""),s===n)return;const i=this.getNextPath(n);let r=this.getPrevPath(n);const o=this.getGeometryFromPath(n);r===cr?this.setFirstPath(o,i):this.setNextPath(r,i),i===cr?this.setLastPath(o,r):this.setPrevPath(i,r),this.setGeometryVertexCount(o,this.getPointCount(o)-this.getPathSize(n)),this.setGeometryPathCount(o,this.getPathCount(o)-1),r=s===cr?this.getLastPath(t):this.getPrevPath(s),this.setPrevPath(n,r),this.setNextPath(n,s),s===cr?this.setLastPath(t,n):this.setPrevPath(s,n),r===cr?this.setFirstPath(t,n):this.setNextPath(r,n),this.setGeometryVertexCount(t,this.getPointCount(t)+this.getPathSize(n)),this.setGeometryPathCount(t,this.getPathCount(t)+1),this.setPathGeometry(n,t)}addVertex(t,e){this.m_vertices.getPointByVal(this.getVertexIndex(e),this.getHelperPoint());return this.insertVertex_(t,cr,this.getHelperPoint(),!1)}insertVertex(t,e,s){return this.insertVertex_(t,e,s,!0)}removeVertex(t,e){const s=this.getPathFromVertex(t),n=this.getPrevVertex(t),i=this.getNextVertex(t);n!==cr&&this.setNextVertex(n,i);const r=this.getPathSize(s);t===this.getFirstVertex(s)&&this.setFirstVertex(s,r>1?i:cr),i!==cr&&this.setPrevVertex(i,n),t===this.getLastVertex(s)&&this.setLastVertex(s,r>1?n:cr);if(this.hasCurves()&&n!==cr&&i!==cr){const s=this.getVertexIndex(t),r=this.getVertexIndex(n),o=this.getVertexIndex(i);if(e){const t=this.getSegmentFromIndex(r);if(null!==t){const e=this.m_vertices.getXY(o);t.setEndXY(e),t.normalizeAfterEndpointChange()}this.setSegmentToIndex(s,null)}else{const t=this.getSegmentFromIndex(s);if(this.setSegmentToIndex(s,null),null!==t){const e=this.m_vertices.getXY(r);t.setStartXY(e),t.normalizeAfterEndpointChange()}this.setSegmentToIndex(r,t)}}this.setPathSize(s,r-1);const o=this.getGeometryFromPath(s);return this.setGeometryVertexCount(o,this.getPointCount(o)-1),this.freeVertex(t),i}removeVertices(t,e){(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(t!==e);const n=this.getPathFromVertex(t),i=this.getPrevVertex(t),r=this.getPrevVertex(e);i!==cr&&this.setNextVertex(i,e);let o=this.getPathSize(n);const a=this.getVertexIndex(t);this.setSegmentToIndex(a,null),this.setPrevVertex(e,i),this.setPrevVertex(t,cr),this.setNextVertex(r,cr);let h=0,u=t;const m=this.getFirstVertex(n);let l=!1;for(;;){const t=this.getNextVertex(u);if(l||=m===u,this.freeVertex(u),h++,u===r)break;u=t}o-=h,l&&this.setFirstVertex(n,o>0?e:cr),this.setPathSize(n,o);const c=this.getGeometryFromPath(n);this.setGeometryVertexCount(c,this.getPointCount(c)-h)}getFirstVertex(t){return this.m_pathIndexList.getField(t,4)}getLastVertex(t){return this.m_pathIndexList.getField(t,5)}getNextVertex(t){return this.m_vertexIndexList.getField(t,2)}getPrevVertex(t){return this.m_vertexIndexList.getField(t,1)}getNextVertexEx(t,e){return e>0?this.m_vertexIndexList.getField(t,2):this.m_vertexIndexList.getField(t,1)}getPrevVertexEx(t,e){return e>0?this.m_vertexIndexList.getField(t,1):this.m_vertexIndexList.getField(t,2)}getPathFromVertex(t){return this.m_vertexIndexList.getField(t,3)}addPoint(t,e){return this.insertVertex_(t,cr,e,!1)}getGeometryFromVertex(t){return this.getGeometryFromPath(this.getPathFromVertex(t))}replaceNaNs(t,e){this.m_vertexDescription.hasAttribute(t)||(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.d)(""),this.m_vertices.replaceNaNs(t,e)}removeNaNVertices(){for(let t=this.getFirstGeometry();t!==cr;t=this.getNextGeometry(t))for(let e=this.getFirstPath(t);e!==cr;e=this.getNextPath(e)){let t=this.getFirstVertex(e);for(let s=0,n=this.getPathSize(e);s<n;s++)t=this.getXY(t).isFinite()?this.getNextVertex(t):this.removeVertex(t,!0)}}queryVertexIterator(t=cr){return this.queryVertexIteratorEx(!1,t)}queryVertexIteratorEx(t,e=cr){let s=cr,n=cr,i=cr,r=cr,o=0,a=!1;for(s=e!==cr?e:this.getFirstGeometry();s!==cr;s=this.getNextGeometry(s))if(!t||(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.h)(this.getGeometryType(s))){for(n=this.getFirstPath(s);n!==cr;n=this.getNextPath(n))if(i=this.getFirstVertex(n),r=i,o=0,i!==cr){a=!0;break}if(a||e!==cr)break}return a||(s=cr),pr.create_(this,s,n,i,r,o,t,!1,e!==cr)}queryVertexIteratorOnSelection(t=cr){return this.m_selection?pr.create_(this,t,cr,cr,cr,-1,!1,!0,t!==cr):this.queryVertexIteratorEx(!1,t)}hasSelection(){return this.m_selection}createEmptySelection(){(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(0)}removeSelection(){this.m_selection&&(this.m_selectedVertices.length=0,this.removeUserIndex(this.m_selectionIndex),this.m_selectionIndex=-1,this.m_selection=!1,this.m_selectedCount=0)}select(t){return!!this.selected(t)||(this.setUserIndex(t,this.m_selectionIndex,this.m_selectedVertices.length),this.m_selectedVertices.push(t),this.m_selectedCount++,!1)}unselect(t){if(!this.m_selection)return;const e=this.getUserIndex(t,this.m_selectionIndex);e>=0&&(this.m_selectedVertices[e]=cr,this.setUserIndex(t,this.m_selectionIndex,-1),this.m_selectedCount--)}selected(t){return!this.m_selection||this.selected_(t)}getSelectedCount(){return this.m_selection?this.m_selectedCount:this.getTotalPointCount()}createSelectionForCrackingAndClustering(t,e){return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(0),!1}peelALoop(t,e){this.peelALoop_(t,e,!1)}peelALoopIntoAPath(t,e){return this.peelALoop_(t,e,!0)}applyTransformation(t){if(this.m_verticesMp.applyTransformation(t),null!==this.m_segments)for(let e=0,s=this.m_segments.length;e<s;e++)this.m_segments[e]&&this.m_segments[e].applyTransformation(t)}setGeometryType(t,e){this.m_geometryIndexList.setField(t,2,e)}splitSegmentWithIntersector(t,e,s,n,i){n?this.splitSegmentForward(t,e,s,!0,i):this.splitSegmentBackward(t,e,s,!0,i)}setPrevVertex(t,e){this.m_vertexIndexList.setField(t,1,e)}setNextVertex(t,e){this.m_vertexIndexList.setField(t,2,e)}setPathToVertex(t,e){this.m_vertexIndexList.setField(t,3,e)}setPathSize(t,e){this.m_pathIndexList.setField(t,3,e)}setFirstVertex(t,e){this.m_pathIndexList.setField(t,4,e)}setLastVertex(t,e){this.m_pathIndexList.setField(t,5,e)}getSegment(t){if(null!=this.m_segments){const e=this.getVertexIndex(t);return this.getSegmentFromIndex(e)}return null}isCurve(t){if(null===this.m_segments)return!1;const e=this.getVertexIndex(t);return this.m_segments.length>e&&null!==this.m_segments[e]}querySegment(t,e,s=!0,n=!1){const i=this.getNextVertex(t);if(i===cr)return!1;const r=this.getSegment(t);if(!r)return!s&&(this.queryLineConnector(t,e.createLine(),n),!0);if(e.copyFrom(r,!0),n)return!0;if(this.m_vertexDescription.getAttributeCount()>1){const s=this.getHelperPoint();this.queryPoint(t,s),e.get().setStart(s),this.queryPoint(i,s),e.get().setEnd(s)}return!0}getSegmentFromIndex(t){const e=null!==this.m_segments&&this.m_segments.length>t?this.m_segments[t]:null;return e||null}getAndClearSegmentFromIndex(t){const e=null!==this.m_segments&&this.m_segments.length>t?this.m_segments[t]:null;return e||null}setSegmentToIndex(t,e){if(this.m_hasForceSetEnvelope=0,null===this.m_segments){if(!e)return;this.m_segments=[],this.m_segments.length=this.m_vertices.getPointCount()}t>=this.m_segments.length&&(this.m_segments.length=t+1),this.m_segments[t]=e}setGeometryPathCount(t,e){this.m_geometryIndexList.setField(t,6,e)}setGeometryVertexCount(t,e){this.m_geometryIndexList.setField(t,5,e)}ringParentageCheckInternal(t,e){return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(0),!1}reverseRingInternal(t){const e=this.hasCurves(),s=this.hasSegmentParentage();let n=null,i=-1,r=t;if(e){const t=this.getVertexIndex(r);n=this.getAndClearSegmentFromIndex(t)}s&&(i=this.getSegmentParentage(r));do{const t=this.getPrevVertex(r),o=this.getNextVertex(r);if(this.setNextVertex(r,t),this.setPrevVertex(r,o),e){const t=this.getVertexIndex(o),e=this.getSegmentFromIndex(t);n&&n.reverse(),this.setSegmentToIndex(t,n),n=e}if(s){const t=this.getSegmentParentage(o);this.setSegmentParentagePreserveBreak(o,i),i=t}r=o}while(r!==t);this.dbgVerifyIntegrity(t)}setTotalPointCount(t){this.m_pointCount=t}removePathOnly(t){const e=this.getPrevPath(t),s=this.getNextPath(t),n=this.getGeometryFromPath(t);e!==cr?this.setNextPath(e,s):this.setFirstPath(n,s),s!==cr?this.setPrevPath(s,e):this.setLastPath(n,e),this.setFirstVertex(t,cr),this.setLastVertex(t,cr),this.freePath(t)}insertClosedPath(t,e,s,n,i){const r=this.insertPath(t,cr);let o=0,a=s;for(i[0]=!1;;){a===n&&(i[0]=!0),this.setPathToVertex(a,r),o++;const t=this.getNextVertex(a);if(t===s)break;a=t}return this.setClosedPath(r,!0),this.setPathSize(r,o),i[0]&&(s=n),this.setFirstVertex(r,s),this.setLastVertex(r,this.getPrevVertex(s)),this.setRingAreaValid(r,!1),r}findVertex2D(t,e){return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(0),0}findVertex3D(t,e,n){return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(0),0}dbgVerifyMonotone(){}dbgCheckSelection(){}dbgVerifySegment(t){}dbgVerifyIntegrity(t,e=!0){}dbgVerifyVertexCounts(){}dbgVerifyCurves(){}dbgDumpGeometry(t,e){}getNextNthVertex(t,e){if(0===e)return t;let s=t;for(let n=0;n<e;++n)if(s=e>0?this.getNextVertex(s):this.getPrevVertex(s),s===cr)return cr;return s}removeVertexInternal(t,e){const s=this.getPrevVertex(t),n=this.getNextVertex(t);s!==cr&&this.setNextVertex(s,n),n!==cr&&this.setPrevVertex(n,s);if(this.hasCurves()&&s!==cr&&n!==cr){const i=this.getVertexIndex(t),r=this.getVertexIndex(s),o=this.getVertexIndex(n);if(e){const t=this.getSegmentFromIndex(r);if(null!==t){const e=this.m_vertices.getXY(o);t.setEndXY(e),t.normalizeAfterEndpointChange()}this.setSegmentToIndex(i,null)}else{const t=this.getSegmentFromIndex(i);if(this.setSegmentToIndex(i,null),null!==t){const e=this.m_vertices.getXY(r);t.setStartXY(e),t.normalizeAfterEndpointChange()}this.setSegmentToIndex(r,t)}}return this.freeVertex(t),n}isRingAreaValid(t){return!!(4&this.getPathFlags(t))}setRingAreaValid(t,e){const s=(4|this.getPathFlags(t))-4;this.setPathFlags(t,s|(e?4:0))}compareVerticesSimpleY(t,e){return this.queryXY(t,this.m_workPoint2D),this.queryXY(e,this.m_workPoint2_2D),this.m_workPoint2D.compare(this.m_workPoint2_2D)}compareVerticesSimpleY3D(t,e){return this.getXYZ(t).compare(this.getXYZ(e))}compareVerticesSimpleX(t,e){return this.getXY(t).compareX(this.getXY(e))}sortVerticesSimpleByYHeapMerge(t,e){(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(0)}sortVerticesSimpleByY(t,e,s){this.m_bucketSort.sort(t,e,s,new dr(this))}sortVerticesSimpleByX(t,e,n){(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(0)}sortVerticesSimpleByY3D(t,e,n){(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(0)}snapVertexForPoleClipping(t,e){const s=this.getPrevVertex(t);s!==cr&&this.replaceCurveWithLine(s);this.getNextVertex(t)!==cr&&this.replaceCurveWithLine(t);const n=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P;this.queryXY(t,n),n.y=e,this.setXY(t,n)}setSegmentParentageAndBreak(t,e,n=!0){if(-1===this.m_segmentParentageIndex){if(-1===e)return;this.m_segmentParentageIndex=this.createUserIndex()}e>=0&&((0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(e<=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.j)()>>1),e<<=1,e|=n?1:0),this.setUserIndex(t,this.m_segmentParentageIndex,e)}setSegmentParentagePreserveBreak(t,e){if((0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(e>=-1),-1===this.m_segmentParentageIndex){if(-1===e)return;this.m_segmentParentageIndex=this.createUserIndex()}if(e>=0){(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(e<=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.j)()>>1),e<<=1;e|=this.getSegmentParentageBreakVertex(t)?1:0}this.setUserIndex(t,this.m_segmentParentageIndex,e)}getSegmentParentage(t){if(-1===this.m_segmentParentageIndex)return-1;const e=this.getUserIndex(t,this.m_segmentParentageIndex);return e<0?e:e>>1}getOriginalSegmentInfo(t){if(-1!==this.m_segmentParentageIndex){const e=this.getSegmentParentage(t);return new fr(e)}return new fr(-1)}setSegmentParentageBreakVertex(t,e){if(-1===this.m_segmentParentageIndex)return;let s=this.getUserIndex(t,this.m_segmentParentageIndex);s<0||!!(1&s)!==e&&(e?s|=1:s&=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.j)()>>1<<1,this.setUserIndex(t,this.m_segmentParentageIndex,s))}getSegmentParentageBreakVertex(t){if(-1===this.m_segmentParentageIndex)return!0;const e=this.getUserIndex(t,this.m_segmentParentageIndex);return e<0||!!(1&e)}isDiscontinuousSegmentParentage(t){const e=this.getPrevVertex(t);if(e===cr)return!1;return this.getSegmentParentage(e)!==this.getSegmentParentage(t)}setCurveStitcherPointer(t){this.m_curveStitcher=t}hasSegmentParentage(){return-1!==this.m_segmentParentageIndex}deleteSegmentParentage(){-1!==this.m_segmentParentageIndex&&(this.removeUserIndex(this.m_segmentParentageIndex),this.m_segmentParentageIndex=-1),this.m_curveStitcher=null}clearSegments(){this.m_segments=null}}function yr(t){if(t.isEmpty())return new ur({vd:t.getDescription()});if((0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.h)(t.getGeometryType())&&t.hasNonLinearSegments())return Cr(t);const e=t.getImpl(),s=e.getPointCount();if(s<=2){if(1===s||e.getXY(0).equals(e.getXY(1))){const t=new _Envelope_js__WEBPACK_IMPORTED_MODULE_1__.P({vd:e.getDescription()});return e.getPointByVal(0,t),t}{const t=new _Envelope_js__WEBPACK_IMPORTED_MODULE_1__.P,s=new Os({vd:e.getDescription()});return e.getPointByVal(0,t),s.startPathPoint(t),e.getPointByVal(1,t),s.lineToPoint(t),s}}const n=e.getAttributeStreamRef(0),i=new wr({stream:n,n:s});let r=0,o=1;const a=n.readPoint2D(r<<1),h=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P;for(;o<s&&n.queryPoint2D(o<<1,h).equals(a);)o++;if(i.m_treeHull.addElement(r),o<s){i.m_treeHull.addBiggestElement(o);const t=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P;for(let s=o+1;s<e.getPointCount();s++){n.queryPoint2D(s<<1,t);const e=i.treeHull(t);-1!==e&&i.m_treeHull.setElement(e,s)}}const u=e.getDescription(),m=u.getAttributeCount()>1,l=i.m_treeHull.size();let g=null;if(l>=2){g=l>=3?new ur({vd:u}):new Os({vd:u});const t=g.getImpl();t.reserve(i.m_treeHull.size()),t.addPathPoint2D(null,0,!0);const s=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P;for(let r=i.m_treeHull.getFirst();-1!==r;r=i.m_treeHull.getNext(r))if(m){const s=new _Envelope_js__WEBPACK_IMPORTED_MODULE_1__.P;e.getPointByVal(i.m_treeHull.getElement(r),s),t.insertPoint(0,-1,s)}else n.queryPoint2D(i.m_treeHull.getElement(r)<<1,s),t.insertPoint2D(0,-1,s)}else if(m){const t=new _Envelope_js__WEBPACK_IMPORTED_MODULE_1__.P({vd:u});e.getPointByVal(i.m_treeHull.getElement(i.m_treeHull.getFirst()),t),g=t}else{const t=n.readPoint2D(i.m_treeHull.getElement(i.m_treeHull.getFirst())<<1);g=new _Envelope_js__WEBPACK_IMPORTED_MODULE_1__.P(t)}return g}function xr(t,e,s,n=!1){if(e<=262144)return Ir(t,e,s,n);const i=new wr({points:t,n:e}),r=0;let o=1;const a=t[r];for(;o<e&&t[o].equals(a);)o++;if(i.m_treeHull.addElement(r),o<e){i.m_treeHull.addBiggestElement(o);for(let s=o+1;s<e;s++){const e=t[s],n=i.treeHull(e);-1!==n&&i.m_treeHull.setElement(n,s)}}let h=0;for(let u=i.m_treeHull.getFirst();-1!==u;u=i.m_treeHull.getNext(u))s[h++]=i.m_treeHull.getElement(u);return h}function Cr(t){(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(t.hasNonLinearSegments()&&!t.isEmpty());const e=new wr;return e.addGeometry(t),e.getBoundingGeometry()}function vr(t,s,n){if((s<0||s>=t.getPathCount())&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.a)("path index"),t.hasNonLinearSegmentsPath(s))return!1;const i=t.getImpl(),r=i.getPathStart(s),o=i.getPathEnd(s),a=!i.isClosedPath(s)&&i.isClosedPathInXYPlane(s),h=i.getAttributeStreamRef(0),u=2*r;let m=2*o;if(a&&(m-=2),m-u<6)return!0;const l=h.readPoint2D(u),c=h.readPoint2D(u+2),g=h.readPoint2D(u+4);if(!Mr(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.orientationRobust(c,g,l)))return!1;const d=c.clone(),_=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P;for(let e=u+6;e<m;e+=2){_.assign(c),c.assign(g),h.queryPoint2D(e,g);if(!Mr(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.orientationRobust(c,g,l)))return!1;if(!Mr(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.orientationRobust(d,g,l)))return!1;if(!Mr(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.orientationRobust(c,g,_)))return!1}return!0}function br(t,e,s){t.setNAN(),e.setCoords(1,0),s.setCoords(0,0)}function Sr(t,e,s,n,r){if(br(s,n,r),t.isEmpty())return;if(t.getGeometryType()===_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.G.enumPoint)return void s.assign(t.getXY());const o=t,a=o.getPointCount();0!==a&&(1!==a?Er(o,a,e,s,n,r):s.assign(o.getXY(0)))}function Er(t,e,s,n,i,r){if(2===e){const e=t.getXY(0),s=t.getXY(1);n.assign(e.add(s).mul(.5));const o=s.sub(e);i=Xr(o),r.setCoords(.5*o.length(),0)}else{let o=Number.MAX_VALUE;const a=[0,1,0,0],h=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.R(4,2);for(h.set(0,0,0),h.set(0,1,1),h.set(1,0,1),h.set(1,1,2);a[0]<e;++a[0],qr(h,0,e)){a[1]===a[0]&&(++a[1],qr(h,1,e));for(let s=1;;++s){for(;;){const n=Fr(t.getXY(h.get(0,0)),t.getXY(h.get(0,1)),t.getXY(h.get(s,0)),t.getXY(h.get(s,1)),2^s);if(n>0)break;if(++a[s],qr(h,s,e),0===n)break}if(3===s)break;a[s+1]<a[s]&&(a[s+1]=a[s],h.set(s+1,0,h.get(s,0)),h.set(s+1,1,h.get(s,1)))}const u=t.getXY(h.get(0,0)).add(t.getXY(h.get(2,0))).mul(.5),m=Xr(t.getXY(h.get(0,1)).sub(t.getXY(h.get(0,0)))),l=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P;let c,g;if(l.x=Math.max(0,m.dotProduct(t.getXY(h.get(1,0)).sub(t.getXY(h.get(3,0))))),l.y=Math.max(0,m.crossProduct(t.getXY(h.get(0,0)).sub(t.getXY(h.get(2,0))))),s?(c=l.x*l.y,g=c<o):(c=l.y,g=c<o),g){o=c;const e=t.getXY(h.get(1,0)),s=t.getXY(h.get(3,0)),a=e.add(s).mul(.5).sub(u);n.assign(u.add(m.mul(m.dotProduct(a)))),i.assign(m),r.assign(l)}}r.mulThis(.5),r.x<r.y&&(r.y=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.c)(r.x,r.x=r.y),i.leftPerpendicularThis())}i.y<0?i.negateThis():0===i.y&&(i.x=1)}Pr.st_defaultRank=1;class Dr{constructor(t){this.m_handleP=-1,this.m_handleQ=-1,this.m_currentSupport=-1,this.m_area=0,this.m_bDone=!0,(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(0),this.m_convexHull=t,this.m_function=this.done_}next(){return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(0),!1}get_vertex_handle_p(){return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(0),0}get_vertex_handle_q(){return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(0),0}get_current_support(){return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(0),0}getNext(t){return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(0),0}getPrev(t){return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(0),0}intialize_(){return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(0),!1}increment_(){return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(0),!1}increment_q_(){return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(0),!1}increment_p_(){return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(0),!1}parallel_edge_with_q_support_(){return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(0),!1}parallel_edge_with_p_support_(){return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(0),!1}done_(){return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(0),!1}}class wr{nullGetXY(t){return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.d)("m_getXY is null"),{}}nullDeleteNode(t){(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.d)("m_deleteNode is null")}constructor(t){return this.m_treeHull=new _Envelope_js__WEBPACK_IMPORTED_MODULE_1__.T,this.m_shape=null,this.m_stream=null,this.m_points=null,this.m_geometryHandle=-1,this.m_pathHandle=-1,this.m_getXY=this.nullGetXY,this.m_deleteNode=this.nullDeleteNode,t?t.stream?(this.m_treeHull.setCapacity(Math.min(20,t.n)),this.m_stream=t.stream,this.m_getXY=this.getXYStream,this.m_deleteNode=this.deleteNodeStream,this.m_points=null,this.m_geometryHandle=cr,void(this.m_pathHandle=cr)):t.points?(this.m_treeHull.setCapacity(Math.min(20,t.n)),this.m_points=t.points,this.m_getXY=this.getXYPoints,this.m_deleteNode=this.deleteNodePoints,this.m_stream=null,this.m_geometryHandle=cr,void(this.m_pathHandle=cr)):void (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.p)("unrecognized constructor parameter"):(this.m_treeHull.setCapacity(20),this.m_shape=new Pr,this.m_geometryHandle=this.m_shape.createGeometry(_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.G.enumMultiPoint),this.m_pathHandle=this.m_shape.insertPath(this.m_geometryHandle,cr),this.m_getXY=this.getXYShape,this.m_deleteNode=this.deleteNodeShape,this.m_stream=null,void(this.m_points=null))}getXYShape(t){return this.m_shape.getXY(t)}getXYStream(t){return this.m_stream.readPoint2D(t<<1)}getXYPoints(t){return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(0),new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P}deleteNodeShape(t){const e=this.m_treeHull.getElement(t);this.m_treeHull.deleteNode(t),this.m_shape.removeVertex(e,!1)}deleteNodeStream(t){this.m_treeHull.deleteNode(t)}deleteNodePoints(t){(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(0)}addGeometry(s){if(s.isEmpty())return;const n=s.getGeometryType();if(n===_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.G.enumGeometryCollection){const t=s;for(let e=0,s=t.getGeometryCount();e<s;e++)this.addGeometry(t.getGeometry(e))}else (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.i)(n)?this.addMultiVertexGeometry(s):(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.f)(n)?this.addSegment(s,!1):n===_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.G.enumEnvelope?this.addEnvelope(s):n===_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.G.enumPoint?this.addPoint(s):(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.a)("Convex_hull: geometry not supported")}getBoundingGeometry(){const t=new _Envelope_js__WEBPACK_IMPORTED_MODULE_1__.P,e=this.m_treeHull.getFirst(),s=new ur({vd:this.m_shape.getVertexDescription()});if(0===this.m_treeHull.size())return s;s.reserve(this.m_treeHull.size()),this.m_shape.queryPoint(this.m_treeHull.getElement(e),t),s.startPathPoint(t);for(let n=this.m_treeHull.getNext(e);-1!==n;n=this.m_treeHull.getNext(n))this.m_shape.queryPoint(this.m_treeHull.getElement(n),t),s.lineToPoint(t);return s}getAntipodalPairsIterator(){return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(0),new Dr(this)}getXY(t){return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(0),new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P}getXYWithIndex(t){return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(0),new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P}getFirst(){return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(0),0}getLast(){return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(0),0}getNext(t){return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(0),0}getPrev(t){return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(0),0}getVertexIndex(t){return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(0),0}getPointCount(){return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(0),0}addMultiVertexGeometry(t){const e=new _Envelope_js__WEBPACK_IMPORTED_MODULE_1__.P,s=t.getImpl(),n=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P;for(let i=0;i<t.getPointCount();i++){s.queryXY(i,n);const r=this.addPoint2D(n);if(-1!==r){t.getPointByVal(i,e);const s=this.m_shape.addPoint(this.m_pathHandle,e);this.m_treeHull.setElement(r,s)}}if((0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.h)(t.getGeometryType())){const e=t;if(e.hasNonLinearSegments()){const t=e.querySegmentIterator();for(;t.nextPath();)for(;t.hasNextSegment();){const e=t.nextCurve();null!==e&&this.addSegment(e,!0)}}}}addEnvelope(t){const e=new _Envelope_js__WEBPACK_IMPORTED_MODULE_1__.P;for(let s=0;s<4;s++){const n=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P;t.queryCorner(s,n);const i=this.addPoint2D(n);if(-1!==i){t.queryCornerByVal(s,e);const n=this.m_shape.addPoint(this.m_pathHandle,e);this.m_treeHull.setElement(i,n)}}}static querySegmentControlPoints(t,n,r){const o=t.getGeometryType();if((0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(o!==_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.G.enumLine),o===_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.G.enumEllipticArc){const e=t,s=60*Math.PI/180,i=Math.abs(e.getSweepAngle());if(i>s){const t=Math.min(6,Math.ceil(i/s)),r=1/t,o=new fm;e.queryStart(n[0]);let a=1;for(let s=0;s<t;s++){e.queryCut(s*r,(s+1)*r,o);const i=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P,3);Bu(o.get(),i);const h=_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.calculateLength(i,3),u=_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.calculateLength(i,2),m=h>0?u/h:.5;s<t-1?o.get().queryEnd(n[a+1]):e.queryEnd(n[a+1]),_Envelope_js__WEBPACK_IMPORTED_MODULE_1__.P.lerp(n[a-1],n[a+1],m,n[a]),n[a].setXY(i[1]),a+=2}return a}{const e=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P,3);Bu(t,e);const s=_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.calculateLength(e,3);t.queryStart(n[0]),t.queryEnd(n[2]);const i=_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.calculateLength(e,2),r=s>0?i/s:.5;return _Envelope_js__WEBPACK_IMPORTED_MODULE_1__.P.lerp(n[0],n[2],r,n[1]),n[1].setXY(e[1]),3}}if(o===_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.G.enumBezier){const e=t,s=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P,4);e.queryControlPoints(s);const i=_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.calculateLength(s,4),r=_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.calculateLength(s,2),o=_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.calculateLength(s,3);t.queryStart(n[0]),t.queryEnd(n[3]);const a=i>0?r/i:.5;_Envelope_js__WEBPACK_IMPORTED_MODULE_1__.P.lerp(n[0],n[3],a,n[1]),n[1].setXY(s[1]);const h=i>0?o/i:.5;return _Envelope_js__WEBPACK_IMPORTED_MODULE_1__.P.lerp(n[0],n[3],h,n[2]),n[2].setXY(s[2]),4}if(o===_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.G.enumBezier2){const e=t,s=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P,3);e.queryControlPoints(s);const i=_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.calculateLength(s,3);t.queryStart(n[0]),t.queryEnd(n[2]);const r=_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.calculateLength(s,2),o=i>0?r/i:.5;return _Envelope_js__WEBPACK_IMPORTED_MODULE_1__.P.lerp(n[0],n[2],o,n[1]),n[1].setXY(s[1]),3}if(o===_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.G.enumRationalBezier2){const e=t,s=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P,3);e.queryControlPoints(s);const i=_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.calculateLength(s,3);t.queryStart(n[0]),t.queryEnd(n[2]);const r=_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.calculateLength(s,2),o=i>0?r/i:.5;return _Envelope_js__WEBPACK_IMPORTED_MODULE_1__.P.lerp(n[0],n[2],o,n[1]),n[1].setXY(s[1]),3}(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.a)("Convex_hull: segment type not supported")}addSegment(t,e){if(!e){const e=new _Envelope_js__WEBPACK_IMPORTED_MODULE_1__.P,s=t.getStartXY(),n=this.addPoint2D(s);if(-1!==n){t.queryStart(e);const s=this.m_shape.addPoint(this.m_pathHandle,e);this.m_treeHull.setElement(n,s)}const i=t.getEndXY(),r=this.addPoint2D(i);if(-1!==r){t.queryEnd(e);const s=this.m_shape.addPoint(this.m_pathHandle,e);this.m_treeHull.setElement(r,s)}}if(t.isCurve()){const e=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(_Envelope_js__WEBPACK_IMPORTED_MODULE_1__.P,13);for(let s=1,n=wr.querySegmentControlPoints(t,e,e.length)-1;s<n;++s){const t=e[s].getXY(),n=this.addPoint2D(t);if(-1!==n){const t=this.m_shape.addPoint(this.m_pathHandle,e[s]);this.m_treeHull.setElement(n,t)}}}}addPoint(t){const e=t.getXY(),s=this.addPoint2D(e);if(-1!==s){const e=this.m_shape.addPoint(this.m_pathHandle,t);this.m_treeHull.setElement(s,e)}}addPoint2D(t){let e=-1;if(0===this.m_treeHull.size())return e=this.m_treeHull.addElement(-4),e;if(1===this.m_treeHull.size()){const s=this.m_treeHull.getElement(this.m_treeHull.getFirst()),n=this.m_shape.getXY(s);return t.equals(n)||(e=this.m_treeHull.addBiggestElement(-5)),e}return e=this.treeHull(t),e}treeHull(t){let e=-1;do{const s=this.m_treeHull.getFirst(),n=this.m_treeHull.getLast(),i=this.m_treeHull.getElement(s),r=this.m_treeHull.getElement(n),o=this.m_getXY(i),a=this.m_getXY(r),h=_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.orientationRobust(a,t,o);if(Mr(h)){e=this.m_treeHull.addBiggestElement(-1);const i=this.treeHullWalkBackward(t,n,s);i!==s&&this.treeHullWalkForward(t,s,this.m_treeHull.getPrev(i));break}if(Yr(h)){let i=this.m_treeHull.getRoot(),r=this.m_treeHull.getFirst(),a=this.m_treeHull.getLast(),h=-1,u=-1,m=-1;for(;r!==this.m_treeHull.getPrev(a);){u=this.m_treeHull.getElement(i);const e=this.m_getXY(u);Yr(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.orientationRobust(e,t,o))?(a=i,i=this.m_treeHull.getLeft(i)):(r=i,i=this.m_treeHull.getRight(i))}i=a,h=r,u=this.m_treeHull.getElement(i),m=this.m_treeHull.getElement(h);const l=this.m_getXY(u),c=this.m_getXY(m);if(h!==s){if(!Mr(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.orientationRobust(c,t,l)))break}e=this.m_treeHull.addElementAtPosition(h,i,-2,!0,!1),this.treeHullWalkForward(t,i,n),this.treeHullWalkBackward(t,h,s);break}{const i=Nr(t,a,o);if(-1===i){const i=this.m_treeHull.getPrev(n);this.m_treeHull.deleteNode(n),e=this.m_treeHull.addBiggestElement(-3),this.treeHullWalkBackward(t,i,s)}else if(1===i){const i=this.m_treeHull.getNext(s);this.m_treeHull.deleteNode(s),e=this.m_treeHull.addElementAtPosition(-1,i,-3,!0,!1),this.treeHullWalkForward(t,i,n)}break}}while(0);return e}treeHullWalkForward(t,e,s){if(e===s)return s;let n=e,i=this.m_treeHull.getElement(n),r=this.m_treeHull.getNext(n);const o=this.m_getXY(i);for(;n!==s&&this.m_treeHull.size()>2;){const e=this.m_treeHull.getElement(r),s=this.m_getXY(e);if(Mr(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.orientationRobust(s,t,o)))break;const a=n;n=r,i=e,o.assign(s),r=this.m_treeHull.getNext(n),this.m_deleteNode(a)}return n}treeHullWalkBackward(t,e,s){if(e===s)return s;let n=e,i=this.m_treeHull.getElement(n),r=this.m_treeHull.getPrev(n);const o=this.m_getXY(i);for(;n!==s&&this.m_treeHull.size()>2;){const e=this.m_treeHull.getElement(r),s=this.m_getXY(e);if(Mr(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.orientationRobust(o,t,s)))break;const a=n;n=r,i=e,o.assign(s),r=this.m_treeHull.getPrev(n),this.m_deleteNode(a)}return n}}function Ar(t,e,s){const n=e.sub(t),i=s.sub(e);if(0===n.x)return i.x>0?-1:0;if(0===n.y)return i.y>0?1:i.y<0?-1:0;const r=n.crossProduct(i),o=4*Number.EPSILON*(Math.abs(i.x*n.y)+Math.abs(i.y*n.x));return r>o?1:r<-o?-1:_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.orientationRobust(t,e,s)}function Tr(t,e,s){const n=e.sub(t),i=s.sub(e);if(0===n.x)return i.x<0?-1:0;if(0===n.y)return i.y>0?-1:i.y<0?1:0;const r=n.crossProduct(i),o=4*Number.EPSILON*(Math.abs(i.x*n.y)+Math.abs(i.y*n.x));return r>o?1:r<-o?-1:_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.orientationRobust(t,e,s)}function Ir(t,e,s,n){const i=new _Envelope_js__WEBPACK_IMPORTED_MODULE_1__.A(0);for(let h=0;h<e;h++)i.add(h);const r={userSort(e,s,n){n.sort(e,s,((e,s)=>t[e].compareX(t[s])))},getValue:e=>t[e].x};n||_Envelope_js__WEBPACK_IMPORTED_MODULE_1__.B.sortEx(i,0,e,r);let o=0;t:for(let h=0;h<e;++h){const e=i.read(h);for(;o>=2;){const n=s[o-2],r=s[o-1];if(t[r].equals(t[e])){i.write(h,-1);continue t}if(!(Ar(t[n],t[r],t[e])>=0)){r===i.read(h-1)&&i.write(h-1,-1);break}o--}s[o++]=e,2===o&&t[e].equals(t[s[0]])&&(i.write(1,-1),o--)}const a=o+1;t:for(let h=e-2;h>=0;--h){const e=i.read(h);if(!(e<0)){for(;o>=a;){const n=s[o-2],i=s[o-1];if(t[i].equals(t[e]))continue t;if(!(Tr(t[n],t[i],t[e])>=0))break;o--}if(0!==h){const n=s[o-1];s[o++]=e,t[e].equals(t[n])&&o--}}}return o>1&&t[s[0]].equals(t[s[o-1]])&&o--,o}function Mr(t){return t<0}function Yr(t){return t>0}function Nr(t,e,s){let n=-1;if(e.y===s.y)n=0;else if(e.x===s.x)n=1;else{n=Math.abs(e.x-s.x)>=Math.abs(e.y-s.y)?0:1}let i=-1;return i=e[n]<s[n]?t[n]<e[n]?-1:s[n]<t[n]?1:0:e[n]<t[n]?-1:t[n]<s[n]?1:0,i}function Xr(t){return(t=t.clone()).divThis(Math.max(Math.abs(t.x),Math.abs(t.y))),t.normalize(),t}function qr(t,e,s){t.inc(e,0)===s&&t.set(e,0,0),t.inc(e,1)===s&&t.set(e,1,0)}function Fr(t,s,n,i,r){switch(r){case 0:break;case 1:s.rightPerpendicularThis(),t.rightPerpendicularThis();break;case 2:s.negateThis(),t.negateThis();break;case 3:s.leftPerpendicularThis(),t.leftPerpendicularThis();break;default:(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.a)("")}return _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.orientationRobustEx(t,s,n,i)}class Vr{constructor(){this.length=Number.NaN,this.specialPoints=[]}specialPointsCount(){return this.specialPoints.length}}function Lr(t){return Rr(t.calculateUpperLength2D())}function Rr(t){return 256*(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.O)()*t}function zr(t){const e=_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.distance(t.getStartXY(),t.getEndXY()),s=t.calculateUpperLength2D();return s-e<=8*Number.EPSILON*s}function Br(t,e,s=!1){e[1].setCoords(t.m_cp[0].x-t.getStartX(),t.m_cp[0].y-t.getStartY()),e[1].mulThis(3),e[2].setCoords(t.m_cp[1].x-t.m_cp[0].x,t.m_cp[1].y-t.m_cp[0].y),e[2].mulThis(3),e[3]=t.getEndXY().sub(t.getStartXY()),e[3].subThis(e[2]),e[2].subThis(e[1]),s?e[0].setCoords(0,0):e[0]=t.getStartXY()}function kr(t,e,s){const n=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P,4);t.queryControlPoints(n),Wr(n,e,s)}function Gr(t,e,s){const n=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P,4);t.queryControlPoints(n),jr(n,e,s)}function Wr(t,e,s){let n=t[1].x;n-=t[0].x,n*=3;let i=t[2].x;i-=t[1].x,i*=3;let r=t[3].x;r-=t[0].x,r-=i,i-=n,e[3].setWithEps(r),e[2].setWithEps(i),e[1].setWithEps(n),s?e[0].set(0):e[0].set(t[0].x)}function jr(t,e,s){let n=t[1].y;n-=t[0].y,n*=3;let i=t[2].y;i-=t[1].y,i*=3;let r=t[3].y;r-=t[0].y,r-=i,i-=n,e[3].setWithEps(r),e[2].setWithEps(i),e[1].setWithEps(n),s?e[0].set(0):e[0].set(t[0].y)}function Zr(t,e,s=!1){const n=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(Xe,4);n[0].assignPoint2D(t[0]),n[1].assignPoint2D(t[1]),n[2].assignPoint2D(t[2]),n[3].assignPoint2D(t[3]),e[1].setCoords(n[1].x.sub(n[0].x),n[1].y.sub(n[0].y)),e[1].mulThis(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.M.constructInt32(3)),e[2].setCoords(n[2].x.sub(n[1].x),n[2].y.sub(n[1].y)),e[2].mulThis(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.M.constructInt32(3)),e[3]=n[3].sub(n[0]),e[3]=e[3].sub(e[2]),e[2]=e[2].sub(e[1]),s?e[0].setCoords(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.ah,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.ah):e[0]=n[0].clone()}function Hr(t,e,s){if(s){if(e<0)return e;if(e>1)return e-1+Hr(t,1,!1)}if(t.isDegenerate(0))return 0;const n=1===e,i=Qr(t);if(n&&!Number.isNaN(i.length)&&!Number.isNaN(i.length))return i.length;const r=Lr(t),o=r/t.calculateUpperLength2D();let a=0,h=0;for(let u=1,m=i.specialPointsCount();u<m;u++){const s=i.specialPoints[u];if(a+=$o(t,h,Math.min(e,s),o,r),e<=s)break;h=s}return n&&(i.length=a),a}function Ur(t,e,s){const n=Hr(t,1,!1);if(e<=0)return e;if(e>=n)return e-n+1;const i=[0];return 1!==tn(new Jo(t,e),_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.E.unit(),1,i)&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.d)(""),i[0]}function Or(t,s,n){void 0===n&&(n=s,s=0);const i=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P;if(s<0||n>1)return i.setNAN(),i;if(s>n&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.a)("calculate_sub_weightedCentroid"),s===n||t.isDegenerate(0))return i.setCoords(0,0),i;const r=Qr(t),o=Lr(t),a=o/t.calculateUpperLength2D();let h=s,u=0;for(let e=1,m=r.specialPointsCount();e<m;e++)if(s<r.specialPoints[e]){u=e-1;break}i.setCoords(0,0);for(let e=u+1,m=r.specialPointsCount();e<m;e++){const s=Math.min(r.specialPoints[e],n),u=ta(t,h,s,a,o);if(i.addThis(u),h=s,n<=r.specialPoints[e])break}return i.add(t.getStartXY().mul(t.calculateLength2D()))}function Qr(t){if(t.m_cachedValues)return t.m_cachedValues;const e=new Vr,s=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.H,8),n=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P,4);t.queryControlPoints(n);const i=jo(n,s);e.specialPoints=[];for(let r=0;r<i;r++)e.specialPoints.push(s[r].value());return Kr(t,e),e}function Jr(t){let e=null;return e=t.m_cachedValues,e}function Kr(t,e){t.m_cachedValues=e}function $r(t){t.m_cachedValues=null}function to(t,e){e.m_cachedValues=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.c)(t.m_cachedValues,t.m_cachedValues=e.m_cachedValues)}function eo(t,e,s,n){if(e.isEqual(t.m_XStart,t.m_YStart)&&s.isEqual(t.m_XEnd,t.m_YEnd))return;const i=!!n&&t.isMonotoneQuickAndDirty(),r=new _Transformation2D_js__WEBPACK_IMPORTED_MODULE_4__.T,o=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P,3);o[0].setCoords(t.m_XStart,t.m_YStart),o[2].setCoords(t.m_XEnd,t.m_YEnd);const a=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P;a.setSub(o[2],o[0]),a.leftPerpendicularThis(),o[1].setAdd(o[0],a);const h=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P,3);h[0].setCoordsPoint2D(e),h[2].setCoordsPoint2D(s),a.setSub(h[2],h[0]),a.leftPerpendicularThis(),h[1].setAdd(h[0],a),r.setFromTwoTriangles(o,h)?r.transformPoints2D(t.m_cp,2,t.m_cp):((0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.U)(e,s,1/3,t.m_cp[0]),(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.U)(e,s,2/3,t.m_cp[1])),t.changeEndPoints2D(e,s),i&&lo(t)}function so(t,e,s,n,i){return{tmin:t,tmax:e,t:s,d:n,pt:i.clone()}}function no(t,e,s,n){const i=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P,4);t.queryControlPoints(i);const r=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.d)(18,NaN),o=tn(new Vo(i,e,NaN),_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.E.construct(s,n),18,r),a=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P;t.queryCoord2D(s,a);let h=s,u=_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.distance(a,e);const m=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P;t.queryCoord2D(n,m);const l=_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.distance(m,e);l<u&&(u=l,h=n,a.assign(m));for(let c=0;c<o;c++){t.queryCoord2D(r[c],m);const s=_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.distance(m,e);s<u&&(u=s,h=r[c],a.assign(m))}return so(s,n,h,u,a)}function io(t,e){const n=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.H,4);kr(t,n,!0);const i=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.H,4);Gr(t,i,!0);const r=n[3].clone(),o=n[2].clone(),a=n[1].clone(),h=i[3].clone(),u=i[2].clone(),m=i[1].clone(),l=o.mulE(a).addE(u.mulE(m)).mul(4),c=o.mulE(o).mul(8).addE(r.mulE(a).mul(12)).addE(u.mulE(u).mul(8).addE(h.mulE(m).mul(12))),g=r.mulE(o).addE(h.mulE(u)).mul(36),d=r.mulE(r).addE(h.mulE(h)).mul(36),_=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.H,3),p=dn(d,g,c,l,new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.E(0,1),!1,_);if((0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(p<=3),p>0){const s=uo(t,1,0).sqrLength(),n=uo(t,1,1).sqrLength();let i=s;e.set(0),i<n&&(i=n,e.set(1));for(let r=0;r<p;r++){const s=uo(t,1,_[r].value()).sqrLength();s<i&&(i=s,e=_[r])}}}function ro(t,e,s,n){if(1===e){const e=1-s,i=e*e,r=s*s,o=t[1].sub(t[0]),a=t[2].sub(t[1]),h=t[3].sub(t[2]),u=o.mul(i).add(a.mul(2*e*s)).add(h.mul(r));n.assign(u.mul(3))}else if(2===e){const e=1-s,i=t[2].sub(t[1]).sub(t[1].sub(t[0])),r=t[3].sub(t[2]).sub(t[2].sub(t[1])),o=i.mul(e).add(r.mul(s));n.assign(o.mul(6))}else if(3===e){const e=t[2].sub(t[1]),s=t[3].sub(e.mul(3)).sub(t[0]);n.assign(s.mul(6))}else n.setCoords(0,0)}function oo(t,e,s,n){{const e=_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.I.subE(s),i=e.sqr(),r=s.sqr(),o=t[1].subE(t[0]).mulE(i).addE(t[2].subE(t[1]).mulE(new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.H(2).mulE(e).mulE(s))).addE(t[3].subE(t[2]).mulE(r));n.setE(o.mulE(new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.H(3)))}}function ao(t,e,s){const n=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P;return ro(t,e,s,n),n}function ho(t,e,s){const n=[Ye.constructPoint2D(t[0]),Ye.constructPoint2D(t[1]),Ye.constructPoint2D(t[2]),Ye.constructPoint2D(t[3])],i=new Ye;return oo(n,e,s,i),i}function uo(t,e,s){const n=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P,4);return t.queryControlPoints(n),ao(n,e,s)}function mo(t){const e=t.m_cp[0].sub(t.getStartXY()),s=t.m_cp[1].sub(t.m_cp[0]),n=t.getEndXY().sub(t.getStartXY());e.mulThis(3),s.mulThis(3),n.subThis(s),s.subThis(e);return(3*n.x*(2*s.y+5*e.y)-3*n.y*(2*s.x+5*e.x)+10*(s.x*e.y-s.y*e.x))/60}function lo(t){const e=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P,4);t.queryControlPoints(e);const s=co(e);return s&&(t.m_cp[0].setCoordsPoint2D(e[1]),t.m_cp[1].setCoordsPoint2D(e[2]),t.afterCompletedModification()),s}function co(t){return Fe(t)}function go(t){return Ve(t)}function _o(t,e,s){const n=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P,i=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P,r=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P,o=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P,a=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P;e<=.5?((0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.a2)(2,t[0],t[1],e,n),(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.a2)(2,t[1],t[2],e,i),(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.a2)(2,t[2],t[3],e,r),(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.a2)(2,n,i,e,o),(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.a2)(2,i,r,e,a),(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.a2)(2,o,a,e,s)):((0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.a3)(2,t[0],t[1],e,n),(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.a3)(2,t[1],t[2],e,i),(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.a3)(2,t[2],t[3],e,r),(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.a3)(2,n,i,e,o),(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.a3)(2,i,r,e,a),(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.a3)(2,o,a,e,s))}function po(t,e,n,i){(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(e>=0&&e<=1);const r=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P,o=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P,a=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P,h=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P,u=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P,m=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P;e<=.5?((0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.a2)(2,t[0],t[1],e,r),(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.a2)(2,t[1],t[2],e,o),(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.a2)(2,t[2],t[3],e,a),(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.a2)(2,r,o,e,h),(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.a2)(2,o,a,e,u),(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.a2)(2,h,u,e,m)):((0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.a3)(2,t[0],t[1],e,r),(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.a3)(2,t[1],t[2],e,o),(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.a3)(2,t[2],t[3],e,a),(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.a3)(2,r,o,e,h),(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.a3)(2,o,a,e,u),(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.a3)(2,h,u,e,m));const l=t[3].clone();n&&(n[0].assign(t[0]),n[1].assign(r),n[2].assign(h),n[3].assign(m)),i&&(i[0].assign(m),i[1].assign(u),i[2].assign(a),i[3].assign(l))}function fo(t,e,n,i){if((0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(e>=0&&n<=1&&e<=n),e===n){const s=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P;return Po(t,e,s),i[0].assign(s),i[1].assign(s),i[2].assign(s),void i[3].assign(s)}if(0===e&&1===n){for(let e=0;e<4;++e)i[e].assign(t[e]);return}const r=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P,4);po(t,n,r,null),po(r,n>0?e/n:0,null,r),Po(t,e,r[0]),Po(t,n,r[3]),i[0].setCoordsPoint2D(r[0]),i[1].setCoordsPoint2D(r[1]),i[2].setCoordsPoint2D(r[2]),i[3].setCoordsPoint2D(r[3])}function Po(t,e,s,n){if(n){if(e<0){return void _s(new pm({start:t[0],end:t[0].add(Co(t,0).getUnitVector())}),e,s)}if(e>1){return void _s(new pm({start:t[3],end:t[3].add(Co(t,1).getUnitVector())}),e-1,s)}}if(e<=.5){const n=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P;(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.a2)(2,t[0],t[1],e,n);const i=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P;(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.a2)(2,t[1],t[2],e,i);const r=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P;(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.a2)(2,t[2],t[3],e,r);const o=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P;(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.a2)(2,n,i,e,o);const a=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P;(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.a2)(2,i,r,e,a),(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.a2)(2,o,a,e,s)}else{const n=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P;(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.a3)(2,t[0],t[1],e,n);const i=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P;(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.a3)(2,t[1],t[2],e,i);const r=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P;(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.a3)(2,t[2],t[3],e,r);const o=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P;(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.a3)(2,n,i,e,o);const a=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P;(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.a3)(2,i,r,e,a),(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.a3)(2,o,a,e,s)}}function yo(t,e,s){if(e.value()<=.5){const n=new Ye;(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.a4)(2,Ye.constructPoint2D(t[0]),Ye.constructPoint2D(t[1]),e,n);const i=new Ye;(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.a4)(2,Ye.constructPoint2D(t[1]),Ye.constructPoint2D(t[2]),e,i);const r=new Ye;(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.a4)(2,Ye.constructPoint2D(t[2]),Ye.constructPoint2D(t[3]),e,r);const o=new Ye;(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.a4)(2,n,i,e,o);const a=new Ye;(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.a4)(2,i,r,e,a),(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.a4)(2,o,a,e,s)}else{const n=new Ye;(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.a5)(2,Ye.constructPoint2D(t[0]),Ye.constructPoint2D(t[1]),e,n);const i=new Ye;(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.a5)(2,Ye.constructPoint2D(t[1]),Ye.constructPoint2D(t[2]),e,i);const r=new Ye;(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.a5)(2,Ye.constructPoint2D(t[2]),Ye.constructPoint2D(t[3]),e,r);const o=new Ye;(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.a5)(2,n,i,e,o);const a=new Ye;(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.a5)(2,i,r,e,a),(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.a5)(2,o,a,e,s)}}function xo(t,e,s){const n=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P,4);t.queryControlPoints(n),yo(n,e,s)}function Co(t,e){const s=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.s)(e,0,1);let n=ao(t,1,s);return n.isZero()&&(n=ao(t,2,s),n.isZero()?n=ao(t,3,s):1===s&&n.negateThis()),n}function vo(t,e,s){const n=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P,4);t.queryControlPoints(n),bo(n,e,s)}function bo(t,e,s){e.value()<0&&e.set(0,e.eps()),e.value()>1&&e.set(1,e.eps()),s.setE(ho(t,1,e))}function So(t,e,s,n,i){if(i){if(0!==am(e,s))return t?4:2}else if(Le(e,s))return 1;return 0!==To(t,e,s,null,null,null,n,void 0!==i&&i,!0,!1)?4:0}function Eo(t,e,s,n,i){if(i){if(0!==am(e,s))return t?4:2}else if(Le(e,s))return 1;return 0!==Io(t,e,s,null,null,null,n,void 0!==i&&i,!0,!1)?4:0}function Do(t,e,s,n,i){if(i){if(0!==am(e,s))return 2}else if(Le(e,s))return 1;return 0!==Mo(t,e,s,null,null,null,n,void 0!==i&&i,!0,!1)?4:0}function wo(t,e,s,n,i){if(i){if(0!==am(e,s))return t?4:2}else if(Le(e,s))return 1;return 0!==Yo(t,e,s,null,null,null,n,void 0!==i&&i,!0,!1)?4:0}function Ao(t,e,s,n,i){if(i){if(0!==am(e,s))return t?4:2}else if(Le(e,s))return 1;return 0!==No(t,e,s,null,null,null,n,i??!1,!0,!1)?4:0}function To(t,e,s,n,i,r,o,a,h,u){if(null!==i&&(i.length=0),null!=r&&(r.length=0),null!==n&&(n.length=0),s.isDegenerate(0)){const t=[0,0,0],a=e.intersectPoint(s.getStartXY(),t,o);if(a>0){if(null!==i)for(let e=0;e<a;e++)i.push(t[e]);if(null!==r)for(let t=0;t<a;t++)r.push(0);if(null!=n)for(let s=0;s<a;s++){const i=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P;e.queryCoord2D(t[s],i),n.push(i)}}return a}const m=rs(e,s);if(os(e,s,o=Math.max(o,m)))return 0;const l=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P,4);Br(e,l);const c=s.getEndXY();c.subThis(s.getStartXY());const g=c.clone();g.leftPerpendicularThis();let d=3*l[3].dotProduct(g),_=2*l[2].dotProduct(g),p=l[1].dotProduct(g);const f=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.d)(15,Number.NaN),P=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.d)(15,Number.NaN);let y=sn(d,_,p,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.E.unit(),!1,f);y<0&&(f[0]=0,f[1]=1,y=2);let x,C=0;for(let S=0,E=C;S<y;++S){const t=e.getCoord2D(f[S+E]);P[C]=s.getClosestCoordinate(t,!1),_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.distance(t,s.getCoord2D(P[C]))<=o&&(f[C]=f[S+E],C++)}if(l[0].subThis(s.getStartXY()),Math.abs(c.x)>=Math.abs(c.y)){const t=c.y/c.x;d=l[3].y-l[3].x*t,_=l[2].y-l[2].x*t,p=l[1].y-l[1].x*t,x=l[0].y-l[0].x*t}else{const t=c.x/c.y;d=l[3].x-l[3].y*t,_=l[2].x-l[2].y*t,p=l[1].x-l[1].y*t,x=l[0].x-l[0].y*t}const v=e.getEndXY().equals(s.getStartXY())||e.getEndXY().equals(s.getEndXY()),b=[0,0,0];y=nn(d,_,p,x,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.E.unit(),v,b);for(let S=0,E=C;S<y;++S){f[S+E]=b[S];const t=e.getCoord2D(f[S+E]);P[C]=s.getClosestCoordinate(t,!1);_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.distance(t,s.getCoord2D(P[C]))<=o&&(f[C]=f[S+E],C++)}y=e.intersectPoint(s.getStartXY(),b,o);for(let S=0;S<y;S++)f[C]=b[S],P[C++]=0;y=e.intersectPoint(s.getEndXY(),b,o);for(let S=0;S<y;S++)f[C]=b[S],P[C++]=1;return 0!==s.intersectPoint(e.getStartXY(),b,o)&&(P[C]=b[0],f[C++]=0),0!==s.intersectPoint(e.getEndXY(),b,o)&&(P[C]=b[0],f[C++]=1),0===C?0:cm(t,e,s,f,P,C,n,i,r,o,a,h,u)}function Io(t,e,s,n,i,r,o,a,h,u){if(Su(s)){return To(t,e,new pm({start:s.getStartXY(),end:s.getEndXY()}),n,i,r,o,a,h,u)}const m=rs(e,s);if(os(e,s,o=Math.max(o,m)))return 0;const l=[],c=[],g=[],d=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P,4);{e.queryControlPoints(d);const t=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P,4),n=new _Transformation2D_js__WEBPACK_IMPORTED_MODULE_4__.T;s.canonicToWorldTransformation(n);const i=new _Transformation2D_js__WEBPACK_IMPORTED_MODULE_4__.T;i.setInvert(n),i.transformPoints2D(d,4,t);const r=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(Xe,4);Zr(t,r);const h=[r[0].x,r[1].x,r[2].x,r[3].x],u=[r[0].y,r[1].y,r[2].y,r[3].y],m=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.M,3);m[0].setDouble(s.getSemiMinorAxis()),m[0].sqrThis(),m[1].setDouble(s.getSemiMajorAxis()),m[1].sqrThis(),m[2].setThis(m[0]),m[2].mulThis(m[1]),m[2].negateThis();const _=qn(h,3,u,3,null,0,m,!0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.E.unit(),_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.E.unit(),c,a);if(_>0){let t=0;for(let n=0;n<_;n++){const i=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P;e.queryCoord2D(c[n],i);const r=s.getClosestCoordinate(i,!1),a=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P;s.queryCoord2D(r,a);_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.distance(i,a)<=o&&(l.push(i.clone()),c[t]=c[n],g.push(r),t++)}c.length=t,l.length=t}}const _=[0,1];for(let p=0;p<2;p++){const t=0===p?s.getStartXY():s.getEndXY(),e=[0];Lo(d,t,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.E.unit(),!1,-1,1,e);const n=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P;Po(d,e[0],n);_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.distance(t,n)<=o&&(c.push(e[0]),g.push(_[p]),l.push(n.clone()))}for(let p=0;p<2;p++){const t=[0,3];{const e=s.getClosestCoordinate(d[t[p]],!1),n=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P;s.queryCoord2D(e,n);_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.distance(d[t[p]],n)<=o&&(c.push(_[p]),g.push(e),l.push(n.clone()))}}return cm(t,e,s,c,g,c.length,n,i,r,o,a,h,u)}function Mo(t,e,n,i,r,o,a,h,u,m){const l=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P,4);e.queryControlPoints(l);const c=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P,4);if(n.queryControlPoints(c),as(l,c,4)<0)return Mo(t,n,e,i,o,r,a,h,u,!m);const g=rs(e,n);if(os(e,n,a=Math.max(a,g)))return 0;if(ea(e,n,i,r,o,a,h,u,m))return 2;const d=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.E(0,1),_=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.E(0,1);{const t=new De;Fo(l,new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.E(0,1),t);const e=new De;Fo(c,new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.E(0,1),e);const s=Math.max(t.maxDim(),e.maxDim());if(t.inflate(3*a),e.inflate(3*a),!t.intersectW(e))return 0;if(t.maxDim()<.1*s){if(Oo(l,t,d),d.isEmpty())return 0;if(Oo(c,t,_),_.isEmpty())return 0;fo(l,d.vmin,d.vmax,l),fo(c,_.vmin,_.vmax,c)}}const p=dm(l,3,c,3,a);if(0===p)return 0;const f=[],P=[],y=[];let x=!1;if(-1===p){const t=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(Xe,4);Zr(l,t);const e=[t[0].x,t[1].x,t[2].x,t[3].x],s=[t[0].y,t[1].y,t[2].y,t[3].y],n=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(Xe,4);Zr(c,n);const i=[],r=[],o=Yn(e,3,s,3,null,0,[n[0].x,n[1].x,n[2].x,n[3].x],3,[n[0].y,n[1].y,n[2].y,n[3].y],3,null,0,!0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.E.unit(),_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.E.unit(),i,r,u);if(o>0)for(let h=0;h<o;h++){const t=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P;Po(c,r[h],t);const e=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P;Po(l,i[h],e);_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.distance(e,t)<=a&&(f.push(e.clone()),y.push(r[h]),P.push(i[h]))}else-1===o&&(x=!0)}for(let s=0;s<2;s++){const t=0===s?l:c,e=0===s?c:l;for(let n=0;n<2;n++){const i=0===n?0:3,r=[0];Lo(e,t[i],_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.E.unit(),!1,-1,1,r);const o=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P;Po(e,r[0],o);_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.distance(t[i],o)<=a&&(0===s?(P.push(0===i?0:1),y.push(r[0])):(y.push(0===i?0:1),P.push(r[0])),f.push(o.clone()))}}if(0===P.length&&x){const t=e.calculateUpperLength2D()>n.calculateUpperLength2D();{const i=[0,0];if(2===Go(t?e:n,i,!0)&&((0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.E.unit().containsCoordinate(i[0])),!_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.E.unit().containsCoordinate(i[1]))){const e=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P;Po(t?l:c,i[0],e);const s=[0,0];1===Lo(t?c:l,e,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.E.unit(),!1,-1,2,s)&&(f.push(e.clone()),P.push(t?i[0]:s[0]),y.push(t?s[0]:i[0]))}}}if(0===P.length)return 0;if(!d.equalsRange(0,1))for(let s=0;s<P.length;++s)P[s]=ia.recalculateParentT(d.vmin,d.vmax,P[s]);if(!_.equalsRange(0,1))for(let s=0;s<y.length;++s)y[s]=ia.recalculateParentT(_.vmin,_.vmax,y[s]);return cm(t,e,n,P,y,P.length,i,r,o,a,h,u,m)}function Yo(t,e,n,i,r,o,a,h,u,m){const l=rs(e,n);if(n.isDegenerateToLineHelper(l)){const s=new pm({start:n.getStartXY(),end:n.getEndXY()}),l=To(t,e,s,i,r,o,a,h,u,m);if(o)for(let t=0;t<l;++t){const e=s.getCoord2D(o[t]);o[t]=n.getClosestCoordinate(e,!1)}return l}if(os(e,n,a=Math.max(a,l)))return 0;const c=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P,4);e.queryControlPoints(c);const g=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P,3);n.queryControlPoints(g);const d=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.E(0,1),_=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.E(0,1),p=[0,0,0];n.queryWeights(p);const f=[1,fh(p),1];{const t=new De;Fo(c,new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.E(0,1),t);const e=new De;Wa(g,f,new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.E(0,1),e);const s=Math.max(t.maxDim(),e.maxDim());if(t.inflate(3*a),e.inflate(3*a),!t.intersectW(e))return 0;if(t.maxDim()<.1*s){if(Oo(c,t,d),d.isEmpty())return 0;if(ph(g,f,t,_),_.isEmpty())return 0;fo(c,d.vmin,d.vmax,c),Qa(g,f,_.vmin,_.vmax,g,f)}}const P=dm(c,3,g,2,a);if(0===P)return 0;const y=[],x=[],C=[];if(-1===P){const t=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(Xe,4);Zr(c,t);const e=[t[0].x,t[1].x,t[2].x,t[3].x],s=[t[0].y,t[1].y,t[2].y,t[3].y],n=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.M,3),i=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.M,3),r=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.M,3);hh(g,f,n,i,r);const o=[],h=[],m=Yn(n,2,i,2,r,2,e,3,s,3,null,0,!0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.E.unit(),_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.E.unit(),h,o,u);if(m>0)for(let u=0;u<m;u++){const t=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P;Po(c,o[u],t);const e=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P;_h(g,f,h[u],e);_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.distance(t,e)<=a&&(y.push(t.clone()),x.push(o[u]),C.push(h[u]))}}for(let v=0;v<2;v++){let t,e;0===v?(t=c,e=g):(e=c,t=g);for(let n=0;n<2;n++){const i=0===n?0:t.length-1,r=[0],o=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P;if(0===v){const n=za(e,f,t[i],_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.E.unit(),!1,-1,1,r);(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(1===n),_h(e,f,r[0],o)}else{const n=Lo(e,t[i],_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.E.unit(),!1,-1,1,r);(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(1===n),Po(e,r[0],o)}_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.distance(t[i],o)<=a&&(0===v?(x.push(0===i?0:1),C.push(r[0])):(C.push(0===i?0:1),x.push(r[0])),y.push(o.clone()))}}if(0===x.length)return 0;if(!d.equalsRange(0,1))for(let s=0;s<x.length;++s)x[s]=ia.recalculateParentT(d.vmin,d.vmax,x[s]);if(!_.equalsRange(0,1))for(let s=0;s<C.length;++s)C[s]=En.recalculateParentT(_.vmin,_.vmax,C[s]);for(let s=0;s<C.length;++s)C[s]=Ph(p,C[s]);return cm(t,e,n,x,C,x.length,i,r,o,a,h,u,m)}function No(t,e,n,i,r,o,a,h,u,m){const l=rs(e,n);if(os(e,n,a=Math.max(a,l)))return 0;const c=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P,4);e.queryControlPoints(c);const g=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P,3);n.queryControlPoints(g);const d=dm(c,3,g,2,a);if(0===d)return 0;const _=[],p=[],f=[];if(-1===d){const t=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(Xe,4);Zr(c,t);const s=[t[0].x,t[1].x,t[2].x,t[3].x],i=[t[0].y,t[1].y,t[2].y,t[3].y],r=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(Xe,3);Wi(g,r);const o=Yn([r[0].x,r[1].x,r[2].x],2,[r[0].y,r[1].y,r[2].y],2,null,0,s,3,i,3,null,0,!0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.E.unit(),_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.E.unit(),f,p,h);if(o>0){let t=0;for(let s=0;s<o;s++){const i=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P;e.queryCoord2D(p[s],i);const r=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P;n.queryCoord2D(f[s],r);_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.distance(i,r)<=a&&(_.push(i.clone()),p[t]=p[s],f[t]=f[s],t++)}p.length=t,_.length=t}}for(let P=0;P<2;P++){let t,e;0===P?(t=c,e=g):(e=c,t=g);for(let n=0;n<2;n++){const i=0===n?0:t.length-1,r=[0],o=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P;if(0===P)vi(e,t[i],r),ji(e,r[0],o);else{const n=Lo(e,t[i],_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.E.unit(),!1,-1,1,r);(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(1===n),Po(e,r[0],o)}_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.distance(t[i],o)<=a&&(0===P?(p.push(0===i?0:1),f.push(r[0])):(f.push(0===i?0:1),p.push(r[0])),_.push(o.clone()))}}return cm(t,e,n,p,f,p.length,i,r,o,a,h,u,m)}function Xo(t,e,i,r,o){const a=new De;if(qo(t,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.E.unit(),a),a.inflate(r),!a.isIntersectingPoint2D(e))return 0;const h=Qr(t);let u=0,m=h.specialPoints[0];const l=[];for(let n=1,c=h.specialPoints.length;n<c;++n){const i=h.specialPoints[n],r=no(t,e,m,i);if(0===l.length)l.push(r);else if(r.t===r.tmin)(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(l.at(-1).d<=r.d),l.at(-1).tmax=r.tmax;else if(l.at(-1).t===l.at(-1).tmax){(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(l.at(-1).d>=r.d);const t=l.at(-1).tmin;l[l.length-1]=r,l.at(-1).tmin=t}else l.push(r);m=i}for(const s of l)if(s.d<=r){const t=s.t;i?(u>=i.length&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.q)(""),i[u]=t,u++):u++}return u}function qo(t,e,s){const n=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P,4);t.queryControlPoints(n),Fo(n,e,s)}function Fo(t,e,s){if(e.equalsRange(0,1))return void s.setFromPoints(t,4);const n=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P,4);fo(t,e.vmin,e.vmax,n),s.setFromPoints(n,4)}let Vo=class{constructor(t,e,s){this.dbgCounter=0,this.controlPoints=t,this.point=e.clone(),this.maxDistance=s}getMaxDerivative(){return 6}getValue(t,e){switch(t){case 0:{const t=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P;Po(this.controlPoints,e,t);const s=ao(this.controlPoints,1,e);return 2*t.sub(this.point).dotProduct(s)}case 1:{const t=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P;Po(this.controlPoints,e,t);const s=ao(this.controlPoints,1,e),n=ao(this.controlPoints,2,e);return 2*(t.sub(this.point).dotProduct(n)+s.dotProduct(s))}case 2:{const t=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P;Po(this.controlPoints,e,t);const s=ao(this.controlPoints,1,e),n=ao(this.controlPoints,2,e),i=ao(this.controlPoints,3,e);return 2*(t.sub(this.point).dotProduct(i)+3*s.dotProduct(n))}case 3:{const t=ao(this.controlPoints,1,e),s=ao(this.controlPoints,2,e),n=ao(this.controlPoints,3,e);return 2*(4*t.dotProduct(n)+3*s.sqrLength())}case 4:{const t=ao(this.controlPoints,2,e),s=ao(this.controlPoints,3,e);return 2*(10*t.dotProduct(s))}case 5:{const t=ao(this.controlPoints,3,e);return 2*(10*t.dotProduct(t))}default:return 0}}getError(t){return 0}isInterestingInterval(t,e){if(t>=0&&e<=1){const s=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P,4);fo(this.controlPoints,t,e,s);const n=new De;if(n.setFromPoints(s,4),Math.sqrt(n.sqrMinDistance(this.point))>this.maxDistance)return!1}return!0}};function Lo(t,e,n,i,r,o,a){(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.x)(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.E.unit().contains(n)&&o>0,"getClosestCoordinate"),(r<0||Number.isNaN(r))&&(r=Number.MAX_VALUE);const h=[],u=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P;Po(t,n.vmin,u);let m=_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.distance(u,e);if(m<=r&&h.push(new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P(n.vmin,m)),n.vmin!==n.vmax&&(Po(t,n.vmax,u),m=_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.distance(u,e),m<=r&&h.push(new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P(n.vmax,m))),n.width()>0){const s=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.d)(18,Number.NaN),i=tn(new Vo(t,e,r),n,18,s);for(let n=0;n<i;n++)Po(t,s[n],u),m=_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.distance(u,e),m>r||h.push(new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P(s[n],m))}if(i){(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(n.equals(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.E.unit()));{Po(t,-1,u,!0);const s=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P;Po(t,0,s);const n=new pm({start:u,end:s}),i=n.getClosestCoordinate(e,!0);i<1&&(u.assign(n.getCoord2D(i)),m=_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.distance(u,e),m<=r&&h.push(new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P(i-1,m)))}{Po(t,2,u,!0);const s=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P;Po(t,n.vmax,s);const i=new pm({start:s,end:u}),o=i.getClosestCoordinate(e,!0);o>0&&(u.assign(i.getCoord2D(o)),m=_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.distance(u,e),m<=r&&h.push(new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P(1+o,m)))}}if(!h.length)return 0;h.sort(((t,e)=>t.compare(e)));let l=0;const c=h[0].x;if(a[l++]=c,l<o){const e=(0,_Envelope_js__WEBPACK_IMPORTED_MODULE_1__.H)(t,4,!1).total(),s=h[0].y;for(let t=1,n=h.length;t<n;t++)if(h[t].y>s+e){h.length=t;break}h.sort(((t,e)=>(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.a8)(t.x,e.x))),l=0,a[l++]=h[0].x;for(let t=1,n=h.length;t<n;t++)h[t].x!==a[l-1]&&l<o&&(a[l++]=h[t].x)}return l}function Ro(t,e,s,n,i,r,o){const a=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P,4);return t.queryControlPoints(a),Lo(a,e,s,n,i,r,o)}function zo(t){return t.getStartXY().norm(1)+t.getEndXY().norm(1)+t.m_cp[0].norm(1)+t.m_cp[1].norm(1)}function Bo(t){return t[0].norm(1)+t[1].norm(1)+t[2].norm(1)+t[3].norm(1)}function ko(t,e,n){if((0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(n>=2),2===n){const s=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P;(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.U)(e[0],e[n-1],1/3,s);const i=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P;return (0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.U)(e[0],e[n-1],2/3,i),void t.construct(e[0],s,i,e[n-1])}const i=e[0],r=e[n-1],o=[0,0],a=Ro(t,i,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.E.unit(),!1,Number.NaN,2,o),h=[0,0],u=Ro(t,r,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.E.unit(),!1,Number.NaN,2,h),m=[];for(let s=0;s<a;s++)for(let a=0;a<u;a++){const u=o[s],l=h[a],c=u>l,g=(s,o)=>{const a=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.d)(n-2,Number.NaN),h=()=>{let t=0;for(let s=1,i=n-1;s<i;s++){t+=_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.distance(e[s-1],e[s]);const n=t;a[s-1]=n}t+=_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.distance(e[n-2],e[n-1]),c&&a.reverse();for(let e=1,s=n-1;e<s;e++)a[e-1]/=t,c&&(a[e-1]=1-a[e-1])};let m=!1,g=!1;{const e=new fm;c?(t.queryCut(l,u,e,!0),s.assign(e.get().getControlPoint2()),o.assign(e.get().getControlPoint1())):(t.queryCut(u,l,e,!0),s.assign(e.get().getControlPoint1()),o.assign(e.get().getControlPoint2())),i.equals(s)&&(m=!0),r.equals(o)&&(g=!0)}h();let d=Number.MAX_VALUE;const _=s.clone(),p=o.clone();for(let t=0;t<5;t++){d=sa(!0,!1,i,_,p,r,m,g,a,n-2,e,n)}for(let t=0;t<30;t++){const t=_.clone();p.clone();const s=sa(!0,!0,i,_,p,r,m,g,a,n-2,e,n);if(d<=s&&t.equals(_)&&t.equals(p))break;d=s}h();let f=!1,P=Number.MAX_VALUE;const y=s.clone(),x=o.clone();for(let t=0;t<30;t++){const t=y.clone();x.clone();const s=sa(f,!0,i,y,x,r,m,g,a,n-2,e,n);if(P<=s&&t.equals(y)&&t.equals(x))break;f=!0,P=s}return P<d?(s.assign(y),o.assign(x)):(s.assign(_),o.assign(p),P=d),P},d=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P,_=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P,p=[g(d,_),_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.distance(i,d)+_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.distance(d,_)+_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.distance(_,r),d.x,d.y,_.x,_.y];m.splice(m.length,0,...p)}let l=m[0],c=m[1],g=0;for(let s=6;s<m.length;s+=6)m[s]<l&&(l=m[s],c=m[s+1],g=s);let d=g;for(let s=0;s<m.length;s+=6)s!==g&&m[s+1]<c&&Math.abs(l-m[s])<10*l&&(c=m[s+1],d=s);t.construct(i,new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P(m[d+2],m[d+3]),new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P(m[d+4],m[d+5]),r)}function Go(t,e,s=!1){const n=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P,4);t.queryControlPoints(n);const i=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(Xe,4);let r,o,a;Zr(n,i,!0);const h=i[3].x.isZero(),u=i[3].y.isZero();if(h||u)if(h&&!u){if(i[2].x.isZero())return 0;r=i[1].x.div(i[2].x).negate(),o=i[2].y.div(i[3].y),a=i[1].y.div(i[3].y)}else{if(h||!u)return 0;if(i[2].y.isZero())return 0;r=i[1].y.div(i[2].y).negate(),o=i[2].x.div(i[3].x),a=i[1].x.div(i[3].x)}else{i[2].x.divThis(i[3].x),i[1].x.divThis(i[3].x),i[2].y.divThis(i[3].y),i[1].y.divThis(i[3].y);const t=i[2].x.sub(i[2].y);if(t.isZero())return 0;r=i[1].x.sub(i[1].y).div(t).negate(),o=i[2].x.clone(),a=i[1].x.clone()}if(!s&&r.abs().value()>2)return 0;const m=[0,0],l=t.getStartXY().equals(t.getEndXY()),c=sn(1,-r.toDouble(),r.add(o).mul(r).add(a).toDouble(),_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.E.unit(),l,m);if(0===c)return 0;if(m[0]>=0&&m[0]<=1){const t=r.toDouble()-m[0];if(s||t>=0&&t<=1)return e[0]=m[0],e[1]=t,e[0]>e[1]&&(e[1]=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.c)(e[0],e[0]=e[1])),2}if(2===c&&m[1]>=0&&m[1]<=1){const t=r.toDouble()-m[1];if(s||t>=0&&t<=1)return e[0]=m[1],e[1]=t,e[0]>e[1]&&(e[1]=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.c)(e[0],e[0]=e[1])),2}return 0}function Wo(t,e,s){const n=t[1].mulE(e[2]).subThisE(t[2].mulE(e[1])),i=t[1].mulE(e[3]).subThisE(t[3].mulE(e[1])).mulThis(3),r=t[2].mulE(e[3]).subThisE(t[3].mulE(e[2])).mulThis(3),o=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.H,2);let a=gn(r,i,n,new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.E(0,1),!1,o);a<0&&(a=0);let h=0;for(let u=0;u<a;u++)(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.N)(o[u].value(),0,1)||(s[h].setE(o[u]),h++);return h}function jo(t,e){e[0].set(0);let n=1;const i=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.H,4);Wr(t,i,!0);const r=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.H,4);jr(t,r,!0);{const t=i[3].mul(3),s=i[2].mul(2),r=i[1].clone(),o=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.H,2);let a=gn(t,s,r,new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.E(0,1),!1,o);a<0&&(a=0);for(let i=0;i<a;i++)(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.N)(o[i].value(),0,1)||(e[n]=o[i],n++)}{const t=r[3].mul(3),s=r[2].mul(2),i=r[1].clone(),o=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.H,2);let a=gn(t,s,i,new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.E(0,1),!1,o);a<0&&(a=0);for(let r=0;r<a;r++)(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.N)(o[r].value(),0,1)||(e[n]=o[r],n++)}if(n+=Wo(i,r,e.slice(n)),e[n].set(1),n++,n>2){(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.C)(e,0,n,((t,e)=>{const s=t.value(),n=e.value();return s<n?-1:s>n?1:0}));let s=0;const i=e[0].clone();let r=0;const o=Bo(t)*(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.O)(),a=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P;_o(t,e[0].value(),a);for(let h=1;h<n;h++){const n=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P;if(_o(t,e[h].value(),n),e[h].eq(i)||n.isEqualPoint2D(a,o)){if(0!==s){if(0===e[h].eps())i.setE(e[h]),r=0;else if(0!==r){const t=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.a)(1/e[h].eps()),s=1/r,n=t+s;i.set((e[h].value()*t+i.value()*s)/n),r=1/n,i.setError(Math.sqrt(r))}e[s].setE(i),_o(t,i.value(),a)}}else s++,e[s].setE(e[h]),i.setE(e[h]),_o(t,i.value(),a),r=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.a)(e[h].eps())}s++,n=s}return 1===n&&(n=2,e[1].set(1)),(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(0===e[0].value()),(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(1===e[n-1].value()),n}function Zo(t,e,s,n,i){const r=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.H,4),o=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.H,3),a=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.E(0,1);let h=0;if(e){if(jr(t,r,!1),h=dn(r[3],r[2],r[1],r[0].sub(s),a,!1,o),n)for(let u=0;u<h;u++){const e=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P;Po(t,o[u].value(),e),n[u]=e.x}}else if(Wr(t,r,!1),h=dn(r[3],r[2],r[1],r[0].sub(s),a,!1,o),n)for(let u=0;u<h;u++){const e=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P;Po(t,o[u].value(),e),n[u]=e.y}if(i)for(let u=0;u<h;u++)i[u]=o[u].value();else n&&(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.C)(n,0,h,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.a8);return h}function Ho(t,e,s,n){const i=Uo(t,e,s,n.getEnvelope2D());if(i.isEmpty())return new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.E(i);const r=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P,s);for(let a=0;a<s;++a)n.xyRot(t[a],r[a]);const o=Uo(r,e,s,n.getRotatedEnvelope2D());return i.intersect(new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.E(o)),new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.E(i)}function Uo(t,e,s,n){const i=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P,s);for(let a=0;a<s;++a)i[a]=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P(a/(s-1),0);const r=(t,e,s,n)=>{const i=.1,r=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.H(e.x).subE(new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.H(t.x)).divE(new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.H(e.y).subE(new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.H(t.y))).mulE(new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.H(s).subE(new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.H(t.y))).addE(new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.H(t.x));if(r.eps()>i){const n=(e.x-t.x)/(e.y-t.y)*(s-t.y)+t.x;r.set(n,(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.O)())}if(r.lt(new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.H(0))||r.gt(new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.H(1)))return!1;let o=r.value()-r.eps();o=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.s)(o,0,1);let a=r.value()+r.eps();return a=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.s)(a,0,1),n.mergeCoordinate(o),n.mergeCoordinate(a),!0},o=[];{const e=(t,e)=>{o.length=s;const n=xr(i,s,o,!0),a=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.E;a.setEmpty();const h=s=>s.y<t?-1:s.y>e?1:0;let u=i[o[0]],m=h(u);0===m&&a.mergeCoordinate(u.x);for(let s=1;s<=n;++s){const l=i[o[s%n]],c=h(l);0===c&&a.mergeCoordinate(l.x);let g=0;c!==m&&(g=c*m===0?1===c||1===m?2:1:3,1&g&&r(u,l,t,a),2&g&&r(u,l,e,a)),u=l,m=c}return a};for(let n=0;n<s;++n)i[n].y=t[n].x;const a=e(n.xmin,n.xmax);if(a.isEmpty())return new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.E(a);for(let n=0;n<s;++n)i[n].y=t[n].y;const h=e(n.ymin,n.ymax);return a.intersect(new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.E(h)),new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.E(a)}}function Oo(t,e,s){s.setEmpty(),s.merge(Ho(t,null,4,e))}function Qo(t,e,s){s.length=0;{const e=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.H;io(t,e);const n=new Ye;if(vo(t,e,n),n.isZero())return e.isZero()||e.eq(new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.H(1))?0:(s.push(e.value()),1)}const n=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.H,4);kr(t,n,!0);const i=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.H,4);Gr(t,i,!0);const r=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.H,6),o=n[3].negate().mulE(i[1]).addE(n[2].mulE(i[2]).mul(2)).addE(n[1].mulE(i[3])),a=n[3].negate().mulE(i[1]).subE(n[2].mulE(i[2]).mul(2)).addE(n[1].mulE(i[3])),h=n[2].mulE(n[2]).subE(i[2].mulE(i[2]));r[0]=i[1].mulE(i[1]).mulE(o).addE(n[1].mulE(n[1]).mulE(a)).addE(n[1].mulE(i[1]).mulE(h).mul(2)).mul(6),r[1]=n[2].mulE(i[1]).subE(n[1].mulE(i[2])).mulE(n[2].mulE(n[2]).addE(n[1].mulE(n[3]).mul(2)).addE(i[2].mulE(i[2])).addE(i[1].mulE(i[3]).mul(2))).mul(24);const u=n[1].mulE(i[2]).mulE(i[2]).mulE(i[3]),m=n[2].mulE(n[2]).mulE(n[3]).mulE(i[1]).subE(u).mul(156),l=n[3].mulE(i[1]).subE(n[1].mulE(i[3])),c=n[3].mulE(i[1]).subE(n[1].mulE(i[3])),g=n[1].mulE(n[3]).mulE(c).addE(i[1].mulE(i[3]).mulE(l)).mul(72),d=i[1].mulE(i[3]).subE(n[1].mulE(n[3])),_=n[2].mulE(i[2]).mulE(d).mul(120),p=n[1].mulE(n[2]).mulE(n[2]).mulE(i[3]),f=n[3].mulE(i[1]).mulE(i[2]).mulE(i[2]).subE(p).mul(36);r[2]=m.addE(g).addE(_).addE(f);const P=n[2].mulE(n[3]).mulE(n[3]).mulE(i[1]).subE(n[1].mulE(i[2]).mulE(i[3]).mulE(i[3])).mul(360),y=n[2].mulE(i[2]).mulE(n[2].mulE(n[3]).subE(i[2].mulE(i[3]))).addE(n[3].mulE(i[2]).mulE(i[2]).mulE(i[2])).subE(n[2].mulE(n[2]).mulE(n[2]).mulE(i[3])).mul(24),x=n[2].mulE(i[1]).mulE(i[3]).mulE(i[3]).subE(n[1].mulE(n[3]).mulE(n[3]).mulE(i[2])).mul(72),C=n[3].mulE(i[3]).mulE(i[1].mulE(i[2]).subE(n[1].mulE(n[2]))).mul(288);r[3]=P.addE(y).addE(x).addE(C),r[4]=i[3].mulE(i[3]).addE(n[3].mulE(n[3])).mulE(n[3].mulE(i[1]).subE(n[1].mulE(i[3]))).mul(270).addE(n[3].mulE(i[2]).subE(n[2].mulE(i[3]))).mulE(n[2].mulE(n[3]).addE(i[2].mulE(i[3]))).mul(180),r[5]=n[3].mulE(i[2]).subE(n[2].mulE(i[3])).mulE(n[3].mulE(n[3]).addE(i[3].mulE(i[3]))).mul(216);const v=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.H,5),b=_n(r,5,new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.E(0,1),!1,v,5);if(b>0){let n=Math.abs(t.getCurvature(0)),i=0;const r=Math.abs(t.getCurvature(1));(r>n||!Number.isFinite(r))&&(i=1);for(let e=0;e<b;e++){const s=Math.abs(t.getCurvature(v[e].value()));t.getCoord2D(v[e].value()),(s>n||!Number.isFinite(s))&&(n=s,i=v[e].value())}if((!Number.isFinite(n)||1/n<e)&&!(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.N)(i,0,1)){const e=t.getCoord2D(i);if(!e.equals(t.getStartXY())&&!e.equals(t.getEndXY()))return s.push(i),1}}if(!t.isClosed()){const e=[0,0],n=Go(t,e,!1);for(let t=0;t<n;t++)e[t]>0&&e[t]<1&&s.push(e[t]);return s.length}return 0}class Jo{constructor(t,e){this.b=t,this.len=e}getMaxDerivative(){return 1}getValue(t,e){return 0===t?this.len-Hr(this.b,e,!1):0}getError(t){return 0}}function Ko(t,e,n,i,r,o,a){for(;;){const h=_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.distance(e[0],e[3]),u=_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.distance(e[0],e[1])+_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.distance(e[1],e[2])+_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.distance(e[2],e[3]);if(u-h<=i+n*u)return t+(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.q)(h,u,.5);const m=t=>ao(e,1,t).length();{(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(a<12);let h=m(0),l=m(1);r[0]+=2,h>l&&(l=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.c)(h,h=l),e[3]=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.c)(e[0],e[0]=e[3]),e[2]=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.c)(e[1],e[1]=e[2]));let c=h/(h+l),g=1,d=u;for(;c<1/32&&d>=32*(i+n*d);){g/=4;const t=m(g);r[0]++,c=h/(t+h);const s=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P;if(Po(e,.5*g,s),d=_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.distance(s,e[0]),d<=i){const t=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P;Po(e,g,t),d+=_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.distance(t,s)}}if(1!==g){const s=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P,4);po(e,g,e,s),t=Ko(t,s,n,i,r,0,a+1),o++,a++;continue}}const l=8;r[0]+=l;const c=hr(l,m,0,1),g=16;r[0]+=g;const d=hr(g,m,0,1);let _=Math.abs(c-d)>i+n*u;if(!_)return t+d;if(o<3){const s=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P,4);po(e,.5,e,s),t=Ko(t,s,n,i,r,o+1,a+1),o++,a++;continue}const p=32;r[0]+=p;const f=hr(p,m,0,1);if(_=Math.abs(d-f)>i+n*u,!_)return t+f;const P=64;r[0]+=P;const y=hr(P,m,0,1);if(_=Math.abs(f-y)>i+n*u,!_)return t+y;const x=128;r[0]+=x;const C=hr(x,m,0,1);return _=Math.abs(y-C)>i+n*u,t+C}}function $o(t,e,s,n,i){if(s===e)return 0;const r=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P,4);t.queryControlPoints(r);const o=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P,4);fo(r,e,s,o);return Ko(0,o,n,i,[0],0,0)}function ta(t,e,s,n,i){let r=!0;const o=Jn(5,e,s,n,i,(e=>{const s=uo(t,1,e);return(r?t.getCoordX(e)-t.getStartX():t.getCoordY(e)-t.getStartY())*s.length()}));r=!1;const a=Jn(5,e,s,n,i,(e=>{const s=uo(t,1,e);return(r?t.getCoordX(e)-t.getStartX():t.getCoordY(e)-t.getStartY())*s.length()}));return new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P(o,a)}function ea(t,e,s,n,i,r,o,a,h){const u=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P,4);t.queryControlPoints(u);const m=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P,4);if(e.queryControlPoints(m),u[0].equals(m[0])){if(u[1].equals(m[1])&&u[2].equals(m[2])&&u[3].equals(m[3]))return s&&(s.length=0,s.push(u[0]),s.push(u[3])),n&&(n.length=0,n.push(0),n.push(1)),i&&(i.length=0,i.push(0),i.push(1)),!0;if(!u[0].equals(m[3]))return!1}return!!(u[0].equals(m[3])&&u[1].equals(m[2])&&u[2].equals(m[1])&&u[3].equals(m[0]))&&(n&&(n.length=0,n.push(0),n.push(1),h&&(n[1]=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.c)(n[0],n[0]=n[1]))),i&&(i.length=0,i.push(1),i.push(0),h&&(i[1]=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.c)(i[0],i[0]=i[1]))),s&&(s.length=0,s.push(u[0]),s.push(u[3]),h&&(s[1]=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.c)(s[0],s[0]=s[1]))),!0)}function sa(t,e,n,i,r,o,a,h,u,m,l,c){(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(m+2===c);let g=0,d=0,_=0,p=0,f=0,P=0,y=0;const x=(t,e)=>{const s=1-e,a=n.mul((0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.an)(s)),h=i.mul(3*e*s*s),u=r.mul(3*e*e*s),m=o.mul((0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.an)(e));return a.add(h).add(u).add(m).sub(l[t]).sqrLength()};for(let s=1,v=c-1;s<v;s++){let e=u[s-1];if(t){s>2?(e=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.s)(2*u[s-2]-u[s-3],0,1),u[s-1]=e):2===s&&(e=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.s)(2*u[s-2],0,1),u[s-1]=e);const t=(t,e,s)=>{let a=-1;for(let h=0;!(Math.abs(e-a)<1e-12)&&10!==h;h++){const h=e*e,u=1-e,m=u*u,c=m*u,g=n.x-2*i.x+r.x,d=n.x-3*i.x+3*r.x-o.x,_=n.y-2*i.y+r.y,p=n.y-3*i.y+3*r.y-o.y,f=n.x-i.x-2*g*e+d*h,P=-l[t].x+n.x*c+e*(3*i.x*m+e*(3*r.x*u+o.x*e)),y=n.y-i.y-2*_*e+p*h,x=-l[t].y+n.y*c+e*(3*i.y*m+e*(3*r.y*u+o.y*e)),C=-6*(f*P+y*x),v=6*(3*(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.a)(f)-(-2*g+2*d*e)*P)+6*(3*(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.a)(y)-(-2*_+2*p*e)*x);if(a=e,0===v)break;e=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.s)(e-C/v,s,1)}return a};{const e=x(s,u[s-1]);let n=t(s,u[s-1],0),i=x(s,n);if(1.01*e<i){const e=s>1?u[s-2]:0,r=t(s,.3*(u[s-1]-e)+e,0),o=x(s,r);o<i&&(i=o,n=r)}e>i&&(u[s-1]=n)}}const a=u[s-1],h=a*a,m=h*a,c=1-a,C=c*c,v=C*c;g+=3*h*C*C,d+=3*m*v,_+=3*h*h*C;const b=-(v*n.x+m*o.x-l[s].x);p+=b*a*C,f+=b*h*c;const S=-(v*n.y+m*o.y-l[s].y);P+=S*a*C,y+=S*h*c}if(e){const t=g*_-d*d;Math.abs(t)>=1e-12*(Math.abs(g*_)+Math.abs(d*d))+1e-10?(a||(i.x=(p*_-f*d)/t,i.y=(P*_-y*d)/t),h||(r.x=(g*f-d*p)/t,r.y=(g*y-d*P)/t)):((0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.U)(n,o,.3,i),(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.U)(n,o,.6,r))}let C=0;for(let s=1,v=c-1;s<v;s++)C+=x(s,u[s-1]);return C}var na=_Envelope_js__WEBPACK_IMPORTED_MODULE_1__.V;class ia extends gs{constructor(t){t&&t.cp?(super({start:t.cp[0],end:t.cp[3],vd:t.vd}),this.m_cp=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P,2),this.m_cp[0].assign(t.cp[1]),this.m_cp[1].assign(t.cp[2])):void 0===t||(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.W)(t,"vd")?(super({vd:t?.vd,XStart:0,YStart:0,XEnd:0,YEnd:0}),this.m_cp=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P,2),this.m_cp[0].setCoords(0,0),this.m_cp[1].setCoords(0,0)):t.from?(super({start:t.from,end:t.to,vd:t.vd}),this.m_cp=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P,2),this.m_cp[0].assign(t.cp1),this.m_cp[1].assign(t.cp2)):(super({XStart:0,YStart:0,XEnd:0,YEnd:0,vd:t.vd}),(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.d)("unrecognized constructor params"),this.m_cp=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P,2),this.m_cp[0].setCoords(0,0),this.m_cp[1].setCoords(0,0)),this.m_cachedValues=0}getBoundary(){return Ks(this)}construct(t,e,s,n){this.m_XStart=t.x,this.m_YStart=t.y,this.m_XEnd=n.x,this.m_YEnd=n.y,this.m_cp[0].assign(e),this.m_cp[1].assign(s),this.afterCompletedModification()}constructPoints(t){this.m_XStart=t[0].x,this.m_YStart=t[0].y,this.m_XEnd=t[3].x,this.m_YEnd=t[3].y,this.m_cp[0].assign(t[1]),this.m_cp[1].assign(t[2]),this.afterCompletedModification()}constructFromQuadratic(t){const e=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P,4);Ki(t,e),this.constructPoints(e)}constructFromQuadraticSegment(t){this.dropAllAttributes(),this.assignVertexDescription(t.getDescription()),this.m_XStart=t.getStartX(),this.m_YStart=t.getStartY(),this.m_XEnd=t.getEndX(),this.m_YEnd=t.getEndY(),(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__._)(2,t.getStartXY(),t.getControlPoint1(),2/3,this.m_cp[0]),(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__._)(2,t.getControlPoint1(),t.getEndXY(),1/3,this.m_cp[1]),this.afterCompletedModification(),ss(this,t)}getGeometryType(){return _Geometry_js__WEBPACK_IMPORTED_MODULE_0__.G.enumBezier}queryEnvelope(t){if(2!==t.m_EnvelopeType)return void (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(0);if(t.setCoords(this.getStartXY()),t.mergeNe(this.getEndXY()),t.contains(this.m_cp[0])&&t.contains(this.m_cp[1]))return;const e=Jr(this);if(null!==e){const s=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P;for(const n of e.specialPoints)this.queryCoord2D(n,s),t.mergeNe(s);return}const n=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.H,8),i=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P,4);this.queryControlPoints(i);const r=jo(i,n),o=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P;for(let s=1;s<r-1;s++)this.queryCoord2D(n[s].value(),o),t.mergeNe(o)}applyTransformation(t){if(1===t.m_TransformationType){const e=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P,4);return this.queryControlPoints(e),t.transformPoints2D(e,4,e),this.setStartXY(e[0]),this.m_cp[0].assign(e[1]),this.m_cp[1].assign(e[2]),this.setEndXY(e[3]),void $r(this)}(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(0)}createInstance(){return new ia({vd:this.m_description})}calculateLength2D(){return Hr(this,1,!1)}calculateLowerLength2D(){return _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.distance(this.getStartXY(),this.getEndXY())}calculateUpperLength2D(){return _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.distance(this.getStartXY(),this.m_cp[0])+_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.distance(this.m_cp[0],this.m_cp[1])+_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.distance(this.getEndXY(),this.m_cp[1])}queryCoord2D(t,e){return this.queryCoord2DExtends(t,e,!0)}queryCoord2DMP(t,e){(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(0)}queryCoord2DExtends(t,e,s){const n=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P,4);this.queryControlPoints(n),Po(n,t,e,s)}queryCoord2DE(t,e){xo(this,t,e)}getCoordX(t){if(t<0||t>1){const e=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P;return this.queryCoord2DExtends(t,e,!0),e.x}const e=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.q)(this.getStartX(),this.m_cp[0].x,t),s=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.q)(this.m_cp[0].x,this.m_cp[1].x,t),n=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.q)(this.m_cp[1].x,this.getEndX(),t),i=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.q)(e,s,t),r=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.q)(s,n,t);return (0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.q)(i,r,t)}getCoordY(t){if(t<0||t>1){const e=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P;return this.queryCoord2DExtends(t,e,!0),e.y}const e=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.q)(this.getStartY(),this.m_cp[0].y,t),s=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.q)(this.m_cp[0].y,this.m_cp[1].y,t),n=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.q)(this.m_cp[1].y,this.getEndY(),t),i=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.q)(e,s,t),r=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.q)(s,n,t);return (0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.q)(i,r,t)}cut(t,e,s){const n=new fm;return this.queryCut(t,e,n,s),n.releaseSegment()}queryCut(t,e,s,n){const i=s.createCubicBezier();if(this.cutBezierIgnoreAttributes(t,e,i),n)return;i.assignVertexDescription(this.m_description);const r=this.m_description.getAttributeCount();if(r>1){for(let e=1;e<r;e++){const s=this.m_description.getSemantics(e),n=na.getComponentCount(s);for(let e=0;e<n;e++){const n=this.getAttributeAsDbl(t,s,e);i.setStartAttribute(s,e,n)}}for(let t=1;t<r;t++){const s=this.m_description.getSemantics(t),n=na.getComponentCount(s);for(let t=0;t<n;t++){const n=this.getAttributeAsDbl(e,s,t);i.setEndAttribute(s,t,n)}}}}queryDerivative(t,e){vo(this,t,e)}cutBezierIgnoreAttributes(t,s,n){(t<0||s>1||t>s)&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.a)("Cubic_bezier.cut_bezier_ignore_attributes");const i=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P,4);this.queryControlPoints(i);const r=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P,4);fo(i,t,s,r),n.setControlPoints(r)}splitBezierIgnoreAttributes(t,s,n){this===s&&this===n&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.a)("Cubic_bezier.split_bezier_ignore_attributes");const i=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P,4);this.queryControlPoints(i);const r=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P,4),o=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P,4);po(i,t,r,o),s&&s.setControlPoints(r),n&&n.setControlPoints(o)}getAttributeAsDbl(t,e,s){if(0===e)return 0===s?this.getCoordX(t):this.getCoordY(t);if(0===t)return this.getStartAttributeAsDbl(e,s);if(1===t)return this.getEndAttributeAsDbl(e,s);const n=this.getStartAttributeAsDbl(e,s),i=this.getEndAttributeAsDbl(e,s),r=this.calculateLength2D(),o=r>0?this.tToLength(t)/r:0,a=na.getInterpolation(e);return (0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.V)(a,n,i,o,na.getDefaultValue(e))}getClosestCoordinate(t,e){const s=[Number.NaN];return Ro(this,t,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.E.unit(),e,-1,1,s),s[0]}getClosestCoordinateOnInterval(t,e,s=-1){const n=[Number.NaN];return 0===Ro(this,t,e,!1,s,1,n)?Number.NaN:n[0]}getYMonotonicParts(t,e=!1){return this.getMonotonicParts(t,e)}getMonotonicParts(t,n){t.length<2&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.a)("");const i=Qr(this);if(2===i.specialPointsCount()&&this.isMonotoneQuickAndDirty())return 0;let r=0;(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(t.length>=i.specialPointsCount()-1);for(let e=1,s=i.specialPointsCount();e<s;++e)this.queryCut(i.specialPoints[e-1],i.specialPoints[e],t[r],n),r++;for(let e=0;e<r;++e){lo(t[e].get())}return r}intersectionWithAxis2D(t,e,s,n){const i=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P,4);return this.queryControlPoints(i),Zo(i,t,e,s,n)}intersectionOfYMonotonicWithAxisX(t,e){if(this.m_YStart===this.m_YEnd)return t===this.m_YStart?e:Number.NaN;if(t===this.m_YStart)return this.m_XStart;if(t===this.m_YEnd)return this.m_XEnd;const n=[0,0],i=this.intersectionWithAxis2D(!0,t,n,null);return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(2!==i),-1===i?e:n[0]}isCurve(){return!0}isDegenerate(t){return Re(this,t)}isDegenerate3D(t,e){return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(0),!1}queryLooseEnvelope(t){if(2===t.m_EnvelopeType)return t.setCoords({pt:this.getStartXY()}),t.mergeNe(this.m_cp[0]),t.mergeNe(this.m_cp[1]),void t.mergeNe(this.getEndXY());(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(0)}clone(t){const e=this.createInstance();return this.copyTo(e),e}queryInterval(t,e){if(0===t){const t=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_3__.Envelope2D.constructEmpty();this.queryEnvelope(t);const s=_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.E.constructEmpty();return 0===e?t.queryIntervalX(s):t.queryIntervalY(s),s}return super.queryInterval(t,e)}queryLooseEnvelopeOnInterval(t,e){const s=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P,4);this.queryControlPoints(s),fo(s,t.vmin,t.vmax,s),e.setFromPoints(s,4)}changeEndPoints2D(t,e){if(t.isEqual(this.m_XStart,this.m_YStart)&&e.isEqual(this.m_XEnd,this.m_YEnd))return;const s=this.m_cp[0].isEqual(this.m_XStart,this.m_YStart),n=this.m_cp[0].isEqual(this.m_XEnd,this.m_YEnd),i=this.m_cp[1].isEqual(this.m_XStart,this.m_YStart),r=this.m_cp[1].isEqual(this.m_XEnd,this.m_YEnd);this.setStartXY(t),this.setEndXY(e),s?this.m_cp[0].setCoordsPoint2D(t):n&&this.m_cp[0].setCoordsPoint2D(e),r?this.m_cp[1].setCoordsPoint2D(e):i&&this.m_cp[1].setCoordsPoint2D(t),this.normalizeAfterEndpointChange()}tToLength(t){return Hr(this,t,!0)}lengthToT(t){return Ur(this,t)}calculateWeightedAreaCentroid2D(t){const e=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P,4);Br(this,e);const s=e[3],n=e[2],i=e[1],r=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P;r.x=(5*s.x*s.x*(7*n.y+16*i.y)+s.x*(-35*s.y*n.x+40*n.x*n.y-80*s.y*i.x+140*n.x*i.y+112*i.x*i.y)-2*(s.y*(20*n.x*n.x+70*n.x*i.x+56*i.x*i.x)-7*(4*n.x+5*i.x)*(-n.y*i.x+n.x*i.y)))/840,r.y=(-5*s.y*s.y*(7*n.x+16*i.x)+s.y*(5*s.x*(7*n.y+16*i.y)-4*(10*n.x*n.y+35*n.y*i.x+28*i.x*i.y))+2*(-7*(4*n.y+5*i.y)*(n.y*i.x-n.x*i.y)+s.x*(20*n.y*n.y+70*n.y*i.y+56*i.y*i.y)))/840;const o=mo(this);return r.x+=(e[0].x-t.x)*o,r.y+=(e[0].y-t.y)*o,r}calculateWeightedCentroid2D(){const t=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P;return this.isDegenerate(0)?(t.setCoords(0,0),t):zr(this)?(t.assign(this.getCoord2D(.5).mul(this.calculateLength2D())),t):(t.assign(Or(this,1)),t)}getControlPoint1(){return this.m_cp[0].clone()}setControlPoint1(t){this.m_cp[0].setCoordsPoint2D(t),this.afterCompletedModification()}getControlPoint2(){return this.m_cp[1].clone()}setControlPoint2(t){this.m_cp[1].setCoordsPoint2D(t),this.afterCompletedModification()}queryControlPoints(t){t[0].assign(this.getStartXY()),t[1].assign(this.m_cp[0]),t[2].assign(this.m_cp[1]),t[3].assign(this.getEndXY())}queryControlPointsHelper(t){return this.queryControlPoints(t),4}setControlPoints(t){for(let s=0;s<4;s++)t[s].isNAN()&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.a)("NAN control points in bezier are not supported");this.m_XStart=t[0].x,this.m_YStart=t[0].y,this.m_cp[0].setCoordsPoint2D(t[1]),this.m_cp[1].setCoordsPoint2D(t[2]),this.m_XEnd=t[3].x,this.m_YEnd=t[3].y,this.afterCompletedModification()}getTangent(t){const e=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P,4);return this.queryControlPoints(e),Co(e,t)}getDerivative(t){const e=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P,4);return this.queryControlPoints(e),ao(e,1,t)}getCurvature(t){const e=uo(this,1,t),s=uo(this,2,t),n=e.sqrLength();if(0===n)return Number.NaN;e.divThis(Math.sqrt(n));return e.crossProduct(s)/n}isIntersectingPoint(t,e,s){if(s&&(t.equals(this.getStartXY())||t.equals(this.getEndXY())))return!1;const n=new _Envelope2D_js__WEBPACK_IMPORTED_MODULE_3__.Envelope2D;if(this.queryLooseEnvelope(n),n.inflateCoords(e,e),!n.contains(t))return!1;const i=this.getClosestCoordinate(t,!1),r=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P;this.queryCoord2D(i,r);return _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.distance(r,t)<=e}isIntersectingPoint3D(t,e,n,i,r=1){return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(0),!1}isMonotoneQuickAndDirty(){const t=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P,4);return this.queryControlPoints(t),go(t)}getMonotonicPartParams(t,n){const i=Qr(this),r=i.specialPointsCount();if((0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(us.s_maxMonotonicPartParams>=r),!n)return i.specialPointsCount();t<r&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.a)("");for(let e=0;e<r;e++)n[e]=i.specialPoints[e];return r}normalizeAfterEndpointChange(){return!1}orientBottomUp(){if(this.m_YEnd<this.m_YStart||this.m_YEnd===this.m_YStart&&this.m_XEnd<this.m_XStart){this.m_XEnd=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.c)(this.m_XStart,this.m_XStart=this.m_XEnd),this.m_YEnd=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.c)(this.m_YStart,this.m_YStart=this.m_YEnd);for(let t=0,e=this.m_description.getTotalComponentCount()-2;t<e;t++)this.m_attributes[t+e]=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.c)(this.m_attributes[t],this.m_attributes[t]=this.m_attributes[t+e]);this.m_cp[1]=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.c)(this.m_cp[0],this.m_cp[0]=this.m_cp[1]),this.m_cachedValues=null}}findMinDeriv(){const t=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.H;return io(this,t),t.value()}isLine(){return!1}isDegenerateToLineHelper(t){const e=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P,4);this.queryControlPoints(e);const s=e[3].sub(e[0]),n=s.length();if(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.distance(e[0],e[1])+_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.distance(e[2],e[1])+_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.distance(e[2],e[3])-n>t)return!1;const i=t;let r=e[1].clone();r.subThis(e[0]);let o=Math.abs(r.crossProduct(s))/n;return!(o>i)&&(r=e[2].clone(),r.subThis(e[1]),o=Math.abs(r.crossProduct(s))/n,!(o>i))}copyIgnoreAttributes(t){const e=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P,4);this.queryControlPoints(e),t.setControlPoints(e)}calculateArea2DHelper(){return mo(this)}absNorm(){return zo(this)}queryEnvelopeW(t,e){qo(this,t,e)}setSegmentFromCoordsForStitcher(t,e){ko(this,t,e)}writeInBufferStream(t,e){const s=new Float64Array(4);return this.writeInBuffer_(s),t.writeRangeFromArray(e,s.length,s,!0,1),e+s.length}writeInBuffer_(t){return t[0]=this.m_cp[0].x,t[1]=this.m_cp[0].y,t[2]=this.m_cp[1].x,t[3]=this.m_cp[1].y,4}readFromBufferStream(t,e){const s=new Float64Array(4);t.queryRange(e,s.length,s,!0,1),this.readFromBuffer_(s)}readFromBuffer_(t){this.m_cp=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P,2),this.m_cp[0].x=t[0],this.m_cp[0].y=t[1],this.m_cp[1].x=t[2],this.m_cp[1].y=t[3],this.m_cachedValues=null}snapControlPoints(t){const e=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P,4);this.queryControlPoints(e);const s=(e,s,n)=>{let i=!1;if(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.sqrDistance(e,n)<=t){i=!e.equals(n),e.setCoordsPoint2D(n);_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.sqrDistance(s,n)<=t&&(i||=!s.equals(n),s.setCoordsPoint2D(n))}return i},n=s(e[1],e[2],e[0]),i=s(e[2],e[1],e[3]);return(n||i)&&this.setControlPoints(e),n||i}needsSnapControlPoints(t){if(!t)return!1;const e=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P,4);this.queryControlPoints(e);const s=(e,s,n)=>{let i=!1;if(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.sqrDistance(e,n)<=t){i=!e.equals(n),e.setCoordsPoint2D(n);_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.sqrDistance(s,n)<=t&&(i||=!s.equals(n),s.setCoordsPoint2D(n))}return i},n=s(e[1],e[2],e[0]),i=s(e[2],e[1],e[3]);return n||i}calculateSpecialPointsForCracking(t,e){return Qo(this,t,e)}ensureXYMonotone(){return lo(this)}setCoordsForIntersector(t,e,s){eo(this,t,e,s)}copyToImpl(t){const e=t;e.m_cp[0].assign(this.m_cp[0]),e.m_cp[1].assign(this.m_cp[1]),Kr(e,Jr(this))}reverseImpl(){this.m_cp[1]=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.c)(this.m_cp[0],this.m_cp[0]=this.m_cp[1])}equalsImpl(t){const e=t,s=0,n=1;return!!this.m_cp[0].equals(e.m_cp[s])&&!!this.m_cp[1].equals(e.m_cp[n])}equalsImplTol(t,e){const s=t,n=0,i=1;return!!this.m_cp[0].isEqualPoint2D(s.m_cp[n],e)&&!!this.m_cp[1].isEqualPoint2D(s.m_cp[i],e)}swapImpl(t){const e=t;e.m_cp[0]=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.c)(this.m_cp[0],this.m_cp[0]=e.m_cp[0]),e.m_cp[1]=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.c)(this.m_cp[1],this.m_cp[1]=e.m_cp[1]),to(this,e)}afterCompletedModification(){$r(this)}isIntersecting(t,e,s){return 0!==rm(!1,this,t,e,s)}intersect(t,e,s,n,i){return um(!1,this,t,e,s,n,i)}intersectPoint(t,e,s){return Xo(this,t,e,s)}endPointModified(){$r(this)}clearEndPointModified(){}}ia.type=_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.G.enumBezier;class ra{constructor(){this.length=Number.NaN,this.area=Number.NaN,this.centroidX=Number.NaN,this.centroidY=0,this.specialPoints=[],this.specialPointsLength=[]}specialPointsCount(){return this.specialPoints.length}}function oa(t,e,n,i,r,o,a,h){for(;;){const u=_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.distance(e[0],e[2]),m=_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.distance(e[0],e[1])+_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.distance(e[1],e[2]);if(m-u<=r+i*m)return t+(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.q)(u,m,.5);const l=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P,4),c=t=>{fa(e,n,1,t,l);return l[1].length()};if(0===a&&h<8){(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(h<8);let u=c(0),l=c(1);o[0]+=2,u>l&&(l=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.c)(u,u=l),e[2]=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.c)(e[0],e[0]=e[2]),n[2]=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.c)(n[0],n[0]=n[2]));let g=u/(u+l),d=1,_=m;for(;g<1/32&&_>=r+i*_;){d/=4;const t=c(d);o[0]++,g=u/(t+u);const s=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P;if(_h(e,n,.5*d,s),_=_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.distance(s,e[0]),_<=r){const t=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P;_h(e,n,d,t),_+=_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.distance(t,s)}}if(1!==d){const s=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P,3),u=[0,0,0];Oa(e,n,d,e,n,s,u),t=oa(t,s,u,i,r,o,0,h+1),a++,h++;continue}}let g=!1;const d=8;o[0]+=d;const _=hr(d,c,0,1),p=16;o[0]+=p;const f=hr(p,c,0,1);if(g=Math.abs(_-f)>r+i*m,!g)return t+f;if(a<8&&h<9){const s=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P,3),u=[0,0,0];Oa(e,n,.5,e,n,s,u),t=oa(t,s,u,i,r,o,a+1,h+1),a++,h++;continue}const P=32;o[0]+=P;const y=hr(P,c,0,1);if(g=Math.abs(f-y)>r+i*m,!g)return t+y;const x=64;o[0]+=x;const C=hr(x,c,0,1);if(g=Math.abs(y-C)>r+i*m,!g)return t+C;const v=128;o[0]+=v;const b=hr(v,c,0,1);return g=Math.abs(C-b)>r+i*m,t+b}}function aa(t,e,s,n,i){if(s===e)return 0;const r=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P,3),o=[0,0,0];t.queryControlPoints(r),t.queryWeights(o);const a=[0,0,0],h=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P,3);Qa(r,o,e,s,h,a);return oa(0,h,a,n,i,[0],0,0)}class ha{constructor(t,e,s){this.controlPoints=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.L)(t,3),this.weights=[0,0,0],(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.b)(this.weights,e,0,0,3),this.point=s.clone()}getMaxDerivative(){return 3}getValue(t,e){if(0===t){const t=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P;_h(this.controlPoints,this.weights,e,t);const s=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P,4);fa(this.controlPoints,this.weights,1,e,s);return 2*t.sub(this.point).dotProduct(s[1])}if(1===t){const t=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P;_h(this.controlPoints,this.weights,e,t);const s=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P,4);fa(this.controlPoints,this.weights,2,e,s);return 2*(t.sub(this.point).dotProduct(s[2])+s[1].dotProduct(s[1]))}if(2===t){const t=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P;_h(this.controlPoints,this.weights,e,t);const s=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P,4);fa(this.controlPoints,this.weights,3,e,s);return 2*(t.sub(this.point).dotProduct(s[3])+3*s[1].dotProduct(s[2]))}return 0}getError(t){return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(0),0}}function ua(t,e,s,n){const i=Ba(0,0,0,0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.getNAN()),r=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.d)(18,Number.NaN),o=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P,3);t.queryControlPoints(o),o[2].subThis(e),o[1].subThis(e),o[0].subThis(e);const a=[0,0,0];t.queryWeights(a);const h=[1,fh(a),1],u=yh(a,s),m=yh(a,n),l=tn(new ha(o,h,new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P(0,0)),_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.E.construct(u,m),18,r);_h(o,h,u,i.pt),i.t=u,i.d=_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.distance(i.pt,new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P(0,0));const c=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P;_h(o,h,m,c);const g=_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.distance(c,new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P(0,0));g<i.d&&(i.d=g,i.t=m,i.pt.assign(c));for(let d=0;d<l;d++){_h(o,h,r[d],c);const t=_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.distance(c,new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P(0,0));t<i.d&&(i.d=t,i.t=Ph(a,r[d]),i.pt.assign(c))}return i}function ma(t,e,s,n,i){let r=!0;const o=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P,4),a=Jn(5,e,s,n,i,(e=>{pa(t,1,e,o);return(r?t.getCoordX(e)-t.getStartX():t.getCoordY(e)-t.getStartY())*o[1].length()}));r=!1;const h=Jn(5,e,s,n,i,(e=>{pa(t,1,e,o);return(r?t.getCoordX(e)-t.getStartX():t.getCoordY(e)-t.getStartY())*o[1].length()}));return new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P(a,h)}function la(t){t.m_cachedValues=null}function ca(t,e){e.m_cachedValues=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.c)(t.m_cachedValues,t.m_cachedValues=e.m_cachedValues)}function ga(t){if(t.m_cachedValues)return t.m_cachedValues;const e=new ra,s=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P,3);t.queryControlPoints(s);const n=[0,0,0];return t.queryWeights(n),da(s,n,e.specialPoints),La(t,e),e}function da(t,e,s){if(0===e[1])return s.length=0,s.push(0),void s.push(1);const n=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.H,8);n[0].set(0);let i=1;{const s=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.H(t[1].x).subThis(t[0].x).mulThis(e[1]).mulThis(e[0]),r=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.H(t[2].x).subThis(t[0].x).mulThis(e[2]).mulThis(e[0]),o=s.subE(r).addThisE(new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.H(t[2].x).subThis(t[1].x).mulThis(e[2]).mulThis(e[1]));r.subThisE(s.mul(2));const a=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.H,2);let h=gn(o,r,s,new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.E(0,1),!1,a);h<0&&(h=0);for(let t=0;t<h;t++)(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.N)(a[t].value(),0,1)||(n[i]=a[t],i++)}{const s=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.H(t[1].y).subThis(t[0].y).mulThis(e[1]).mulThis(e[0]),r=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.H(t[2].y).subThis(t[0].y).mulThis(e[2]).mulThis(e[0]),o=s.subE(r).addThisE(new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.H(t[2].y).subThis(t[1].y).mulThis(e[2]).mulThis(e[1]));r.subThisE(s.mul(2));const a=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.H,2);let h=gn(o,r,s,new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.E(0,1),!1,a);h<0&&(h=0);for(let t=0;t<h;t++)(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.N)(a[t].value(),0,1)||(n[i]=a[t],i++)}if(n[i].set(1),i++,i>2){(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.C)(n,0,i,((t,e)=>(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.a8)(t.value(),e.value())));let t=0,e=n[0].value(),s=1;for(let r=1;r<i;r++)n[r].eq(n[r-1])?(e+=n[r].value(),s++):(s>1&&(e/=s,n[t].set(e)),t++,n[t]=n[r],e=n[r].value(),s=1);t++,i=t}n[0].set(0),n[i-1].set(1),s.length=i;for(let r=0;r<i;r++)s[r]=n[r].value()}function _a(t,e,s){if(s){if(e<0)return e;if(e>1)return e-1+_a(t,1,!1)}if(t.isDegenerate(0))return 0;const n=1===e,i=ga(t);if(n&&!Number.isNaN(i.length))return i.length;const r=Xa(t),o=r/t.calculateUpperLength2D();let a=0,h=0;for(let u=1,m=i.specialPointsCount();u<m;u++){const s=i.specialPoints[u];if(a+=aa(t,h,Math.min(e,s),o,r),e<=s)break;h=s}return n&&(i.length=a),a}function pa(t,e,s,n){const i=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P,3);t.queryControlPoints(i);const r=[0,0,0];t.queryWeights(r),fa(i,r,e,s,n)}function fa(t,e,s,n,i){const r=[t[0],t[1],t[2]],o=[e[0],e[1],e[2]],a=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P,4);Pa(r,o,s,n,a);for(let h=0;h<=s;h++)i[h].setCoords(a[h].x,a[h].y)}function Pa(t,e,n,i,r){(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(n>0);const o=[t[0].clone(),t[1].clone(),t[2].clone()];if(!o[0].isZero()){for(let t=1;t<3;++t)o[t].subThis(o[0]);o[0].setCoords(0,0)}const a=ya(o,e,0,i),u=Ca(e,0,i),m=a.divide(u);if(r[0].assign(m),0===n)return;const l=[e[1]*e[0],e[2]*e[0]*.5,e[1]*e[2]],c=[t[1].sub(t[0]),t[2].sub(t[0]),t[2].sub(t[1])],g=u*u,d=ya(c,l,0,i).mul(2).divide(g);if(r[1].assign(d),1===n)return;const _=Ca(e,1,i),p=2*u*_,f=ya(c,l,1,i).mul(2).sub(d.mul(p)).divide(g);if(r[2].assign(f),2===n)return;const P=ya(c,l,2,i).mul(2),y=2*(_*_+u*Ca(e,2,i)),x=P.sub(f.mul(p).mul(2)).sub(d.mul(y)).divide(g);r[3].assign(x),3!==n&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.d)("")}function ya(t,e,s,n){if(0===s){if(n<=.5){const s=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P;(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.a2)(2,t[0].mul(e[0]),t[1].mul(e[1]),n,s);const i=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P;(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.a2)(2,t[1].mul(e[1]),t[2].mul(e[2]),n,i);const r=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P;return (0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.a2)(2,s,i,n,r),r}{const s=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P;(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.a3)(2,t[0].mul(e[0]),t[1].mul(e[1]),n,s);const i=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P;(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.a3)(2,t[1].mul(e[1]),t[2].mul(e[2]),n,i);const r=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P;return (0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.a3)(2,s,i,n,r),r}}if(1===s){const s=t[1].mul(e[1]),i=s.sub(t[0].mul(e[0])).mul(1-n).add(t[2].mul(e[2]).sub(s).mul(n));return i.mulThis(2),i}if(2===s){const s=t[1].mul(e[1]),n=t[2].mul(e[2]).sub(s).sub(s.sub(t[0].mul(e[0])));return n.mulThis(2),n}(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.d)("")}function xa(t,e,s,n){if(n.toDouble()<=.5){const s=new Ye;(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.a4)(2,t[0].mulE(e[0]),t[1].mulE(e[1]),n,s);const i=new Ye;(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.a4)(2,t[1].mulE(e[1]),t[2].mulE(e[2]),n,i);const r=new Ye;return (0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.a4)(2,s,i,n,r),r}{const s=new Ye;(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.a5)(2,t[0].mulE(e[0]),t[1].mulE(e[1]),n,s);const i=new Ye;(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.a5)(2,t[1].mulE(e[1]),t[2].mulE(e[2]),n,i);const r=new Ye;return (0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.a5)(2,s,i,n,r),r}}function Ca(t,e,s){if(0===e){const e=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.q)(t[0],t[1],s),n=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.q)(t[1],t[2],s);return (0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.q)(e,n,s)}if(1===e){return 2*((1-s)*(t[1]-t[0])+(t[2]-t[1])*s)}if(2===e){return 2*(t[2]-t[1]-(t[1]-t[0]))}(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.d)("")}function va(t,e,s){if(s.toDouble()<=.5){const e=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.ad)(t[0],t[1],s),n=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.ad)(t[1],t[2],s);return (0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.ad)(e,n,s)}{const e=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.ae)(t[0],t[1],s),n=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.ae)(t[1],t[2],s);return (0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.ae)(e,n,s)}}function ba(t,e,s,n,i){const r=[Ye.constructPoint2D(t[0]),Ye.constructPoint2D(t[1]),Ye.constructPoint2D(t[2])];r[2].subThisE(r[0]),r[1].subThisE(r[0]),r[0].setCoords(0,0);Sa(r,[new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.H(e[0]),new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.H(e[1]),new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.H(e[2])],s,n,i)}function Sa(t,e,n,i,r){(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(n>0);const o=[t[0].clone(),t[1].clone(),t[2].clone()];if(!o[0].isZero()){for(let t=1;t<3;++t)o[t].subThisE(o[0]);o[0]=Ye.constructCoords(0,0)}const a=xa(o,e,0,i),h=va(e,0,i),u=a.divE(h);r[0].setE(u);const m=[e[1].mulE(e[0]),e[2].mulE(e[0]).mul(.5),e[1].mulE(e[2])],l=xa([t[1].subE(t[0]),t[2].subE(t[0]),t[2].subE(t[1])],m,0,i).mul(2),c=h.sqr(),g=l.divE(c);r[1].setE(g)}function Ea(t,e,s){const n=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P,3);t.queryControlPoints(n);const i=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.d)(3,Number.NaN);t.queryWeights(i),Da(n,i,e,s)}function Da(t,e,s,n){s.value()<0&&s.set(0,s.eps()),s.value()>1&&s.set(1,s.eps());const i=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(Ye,4);ba(t,e,1,s,i),n.setE(i[1])}function wa(t,e,s){const n=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.s)(s,0,1),i=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P,4);if(fa(t,e,3,n,i),i[1].isZero()){if(i[2].isZero())return i[3];{const t=i[2].clone();return 1===n&&t.negateThis(),t}}return i[1]}class Aa{constructor(t,e){this.len=0,this.b=t,this.len=e}getMaxDerivative(){return 1}getValue(t,e){return 0===t?this.len-_a(this.b,e,!1):0}getError(t){return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(0),0}}function Ta(t,e,s){const n=_a(t,1,!1);if(e<=0)return e;if(e>=n)return e-n+1;const i=[0];return 1!==tn(new Aa(t,e),_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.E.unit(),1,i)&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.d)(""),i[0]}function Ia(t){const e=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P,3),s=[0,0,0];return t.queryControlPoints(e),t.queryWeights(s),Ma(e,s)}function Ma(t,e){const n=fh(e);if(1===n){return fi(t)}if(0===n)return 0;const i=[new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P(0,0),t[1].sub(t[0]),t[2].sub(t[0])],r=i[1].crossProduct(i[2]);if(n<1){(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(n>0);const t=1-n;let e;if(t<.01)e=-1/3+t*(2/15+t*(3/35+t*(16/315+t*(20/693+t*(16/1001+t*(56/6435))))));else{const s=t*(1+n),i=Math.atan2(Math.sqrt(t),Math.sqrt(1+n));e=n*(.5*n-(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.ap)(s)*i)/s}return r*e}{const t=(n-1)*(n+1);return.25*n/Math.pow(t,1.5)*(-2*n*Math.sqrt(t)*r-4*i[1].y*i[2].x*Math.atanh(Math.sqrt((n-1)/(n+1)))-i[1].x*i[2].y*Math.log(2*n*(n-Math.sqrt(t))-1))}}function Ya(t,e){const n=fh(e);if(1===n){const e=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P,3);zi(t,e);const s=e[2].clone(),n=e[1].clone(),i=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P,r=s.y*n.x-s.x*n.y;return i.x=-(4*s.x+5*n.x)*r/60,i.y=-(4*s.y+5*n.y)*r/60,i}if(0===n)return new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P(0,0);(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(n>0);const i=t[1].sub(t[0]),r=t[2].sub(t[0]);if(n<1){const t=Math.sqrt(1-n),e=Math.sqrt(1+n),s=(i.y*r.x-i.x*r.y)*n/Math.pow(t*e,5)/12,o=Math.atan2(t,e),a=n*t*e,h=n*n,u=i.mul(2*(2+h)),m=r.mul(2*h-5),l=u.add(m).mul(a),c=r.sub(i.mul(2*h)).mul(6*o);return l.add(c).mul(s)}{const t=Math.sqrt(n-1),e=Math.sqrt(n+1),s=(i.y*r.x-i.x*r.y)*n/Math.pow(t*e,5)/12,o=Math.atanh(t/e),a=n*t*e,h=n*n,u=i.mul(4).sub(r.mul(5)),m=i.add(r).mul(2*h),l=u.add(m).mul(a),c=r.sub(i.mul(2*h)).mul(6*o);return l.add(c).mul(s)}}function Na(t){const e=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P,3),s=[0,0,0];return t.queryControlPoints(e),t.queryWeights(s),Ya(e,s)}function Xa(t){return qa(t.calculateUpperLength2D())}function qa(t){return 256*(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.O)()*t}function Fa(t){if(0===t.m_weights[1])return!0;const e=_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.distance(t.getStartXY(),t.getEndXY()),s=t.calculateUpperLength2D();return s-e<=8*Number.EPSILON*s}function Va(t){return t.m_cachedValues}function La(t,e){t.m_cachedValues=e}function Ra(t,e,s,n,i){const r=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P,3);t.queryControlPoints(r);const o=[0,0,0];t.queryWeights(o);const a=[0];return 1===za(r,o,e,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.E.unit(),n,i,1,a)?a[0]:Number.NaN}function za(t,e,n,i,r,o,a,h){(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.x)(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.E.unit().contains(i)&&a>0,""),(o<0||Number.isNaN(o))&&(o=Number.MAX_VALUE);const u=new Array(3);for(let s=0;s<3;++s)u[s]=t[s].sub(n);const m=fh(e),l=Xe.constructPoint2D(u[0]),c=Xe.constructPoint2D(u[1]),g=Xe.constructPoint2D(u[2]),d=_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.M.constructDouble(m),p=d.clone();p.ldexpThis(1);const f=l.dotProduct(c.sub(l)).mul(d),P=d.mul(d.addDouble(2)),y=g.sub(c.mul(P.ldexp(1))),x=c.sqrLength().mul(d.mul(d).ldexp(1)).add(l.sqrLength().mul(d.ldexp(2).subDouble(1))).add(l.dotProduct(y)),C=g.sub(c.mul(p)).add(l.mul(p.subDouble(1))),v=c.mul(d).sub(l).dotProduct(C).mulDouble(3),b=c.dotProduct(g).mul(d.subDouble(3).mul(d)).ldexp(1),S=c.sqrLength().mul(d.mul(d).ldexp(2)),E=l.sqrLength().mul(d.ldexp(2).subDouble(3)),D=l.dotProduct(g.sub(c.mul(d.mulDouble(3).subDouble(1)).mul(d))).ldexp(1),w=g.sqrLength().addThis(b).addThis(S).addThis(E).addThis(D),A=l.add(g).sub(c.mul(p)),T=d.subDouble(1),I=g.sub(l).dotProduct(A).mul(T),M=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P(0,0),Y=[];let N=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P;_h(u,e,i.vmin,N);let X=_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.distance(N,M);if(X<=o&&Y.push(new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P(i.vmin,X)),i.vmin!==i.vmax&&(_h(u,e,i.vmax,N),X=_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.distance(N,M),X<=o&&Y.push(new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P(i.vmax,X))),i.width()>0){const t=u[2].isZero(),s=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.M,4),n=Rn(I,w,v,x,f,58,i,t,s);for(let r=0;r<n;r++){if(!i.containsExclusiveCoordinate(s[r].toDouble()))continue;let t=s[r].toDouble();t=Ph(e,t);const n=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P;_h(u,e,t,n),X=_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.distance(n,M),X<=o&&Y.push(new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P(t,X))}}if(r){(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(i.equals(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.E.unit()));{_h(u,e,-1,N,!0);const t=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P;_h(u,e,0,t);const s=new pm({start:N,end:t}),n=s.getClosestCoordinate(M,!0);n<1&&(N=s.getCoord2D(n),X=_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.distance(N,M),X<=o&&Y.push(new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P(n-1,X)))}{_h(u,e,2,N,!0);const t=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P;_h(u,e,i.vmax,t);const s=new pm({start:t,end:N}),n=s.getClosestCoordinate(M,!0);n>0&&(N=s.getCoord2D(n),X=_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.distance(N,M),X<=o&&Y.push(new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P(1+n,X)))}}if(!Y.length)return 0;Y.sort(((t,e)=>t.compare(e)));let q=0;const F=Y[0].x;if(h[q++]=F,q<a){const t=(0,_Envelope_js__WEBPACK_IMPORTED_MODULE_1__.H)(u,4,!1).total(),e=Y[0].y;for(let s=1,n=Y.length;s<n;s++)if(Y[s].y>e+t){Y.length=s;break}Y.sort(((t,e)=>(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.a8)(t.x,e.x))),q=0,h[q++]=Y[0].x;for(let s=1,n=Y.length;s<n;s++)Y[s].x!==h[q-1]&&q<a&&(h[q++]=Y[s].x)}return q}function Ba(t,e,s,n,i){return{tmin:t,tmax:e,t:s,d:n,pt:i.clone()}}function ka(t,e,n,i,r){const o=new De;if(Ga(t,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.E.unit(),o),o.inflate(i),!o.isIntersectingPoint2D(e))return 0;const a=ga(t);let h=0;const u=[];let m=a.specialPoints[0];for(let l=1,c=a.specialPoints.length;l<c;++l){const n=a.specialPoints[l],i=ua(t,e,m,n);if(0===u.length)u.push(i);else if(i.t===i.tmin)(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(u.at(-1).d<=i.d),u.at(-1).tmax=i.tmax;else if(u.at(-1).t===u.at(-1).tmax){(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(u.at(-1).d>=i.d);const t=u.at(-1).tmin;u[u.length-1]=i,u.at(-1).tmin=t}else u.push(i);m=n}for(const s of u)if(s.d<=i){const t=s.t;n?(n[h]=t,h++):h++}return h}function Ga(t,e,s){const n=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P,3);t.queryControlPoints(n);const i=[0,0,0];t.queryWeights(i),Wa(n,i,e,s)}function Wa(t,e,s,n){if(s.equalsRange(0,1))return void n.setFromPoints(t,3);const i=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P,3),r=[0,0,0];Qa(t,e,s.vmin,s.vmax,i,r),n.setFromPoints(i,3)}function ja(t){const e=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.F)(t[0].y,t[1].y),s=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.F)(t[1].y,t[2].y);if(e>=0&&s>=0||e<=0&&s<=0){const e=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.F)(t[0].x,t[1].x),s=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.F)(t[1].x,t[2].x);if(e>=0&&s>=0||e<=0&&s<=0)return!0}return!1}function Za(t){const e=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P,3);t.queryControlPoints(e);const s=Ha(e);return s&&(t.m_cp.setCoordsPoint2D(e[1]),t.afterCompletedModification()),s}function Ha(t){let e=!1;for(let s=0;s<2;s++){const n=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.F)(t[0][s],t[2][s]);n>0?((0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.F)(t[0][s],t[1][s])<0&&(t[1][s]=t[0][s],e=!0),(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.F)(t[1][s],t[2][s])<0&&(t[1][s]=t[2][s],e=!0)):n<0?((0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.F)(t[0][s],t[1][s])>0&&(t[1][s]=t[0][s],e=!0),(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.F)(t[1][s],t[2][s])>0&&(t[1][s]=t[2][s],e=!0)):t[1][s]!==t[0][s]&&(t[1][s]=t[0][s],e=!0)}return e}function Ua(t,s,n){void 0===n&&(n=s,s=0);const i=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P;if(s<0||n>1)return i.setNAN(),i;if(s>n&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.a)("calculate_sub_weighted_centroid"),s===n||t.isDegenerate(0))return i.setCoords(0,0),i;const r=ga(t),o=Xa(t),a=o/t.calculateUpperLength2D();let h=s,u=0;for(let e=1,m=r.specialPointsCount();e<m;e++)if(s<r.specialPoints[e]){u=e-1;break}i.setCoords(0,0);for(let e=u+1,m=r.specialPointsCount();e<m;e++){const s=Math.min(r.specialPoints[e],n),u=ma(t,h,s,a,o);if(i.addThis(u),h=s,n<=r.specialPoints[e])break}return i.add(t.getStartXY().mul(t.calculateLength2D()))}function Oa(t,e,n,i,r,o,a){(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(n>=0&&n<=1&&i!==o&&r!==a),(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(e[0]>0&&e[2]>0&&e[1]>=0);const h=[1,fh(e),1],u=yh(e,n),m=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.L)(t,3),l=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(_Envelope_js__WEBPACK_IMPORTED_MODULE_1__.d,3);uh(m,h,l);const c=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(_Envelope_js__WEBPACK_IMPORTED_MODULE_1__.d,3),g=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(_Envelope_js__WEBPACK_IMPORTED_MODULE_1__.d,3);xh(l,u,i?c:null,o?g:null),Ch(e,n,r,a);const d=ja(m);if(i){for(let t=0;t<3;++t)dh(c[t],i[t]);bh(m,i),d&&Ha(i)}if(o){for(let t=0;t<3;++t)dh(g[t],o[t]);bh(m,o),d&&Ha(o)}}function Qa(t,e,n,i,r,o){if((0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(n>=0&&i<=1&&n<=i),n===i){const s=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P,i=mh(t,e,n,s);return vh(t,s),r[0].assign(s),r[1].assign(s),r[2].assign(s),o[0]=i,o[1]=i,void(o[2]=i)}if(0===n&&1===i)return r[0].assign(t[0]),r[1].assign(t[1]),r[2].assign(t[2]),o[0]=e[0],o[1]=e[1],void(o[2]=e[2]);const a=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(_Envelope_js__WEBPACK_IMPORTED_MODULE_1__.d,3);{const s=[1,fh(e),1],r=yh(e,n),o=yh(e,i);uh(t,s,a),xh(a,o,a,null);xh(a,r>=o?1:r/o,null,a)}const h=[0,0,0];Ch(e,i,h,null),Ch(h,n/i,null,h);const u=ja(t),m=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P,3);dh(a[1],m[1]),_h(t,e,n,m[0]),_h(t,e,i,m[2]),bh(t,m);for(let s=0;s<3;++s)r[s].assign(m[s]),o[s]=h[s];u&&Ha(r)}function Ja(t,e,s){const n=fh(e),i=[1,n,1],r=4*n/(3*(1+n));s[0].assign(t[0]),s[3].assign(t[2]),(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.U)(t[0],t[1],r,s[1]),(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.U)(t[2],t[1],r,s[2]),new ia({cp:s}),new En({points:t,weight:n});let o=0,a=.1,h=0;for(let u=0;u<9;u++,a+=.1){const e=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P;_h(t,i,a,e);const n=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P;Po(s,a,n);const r=_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.sqrDistance(e,n);r>o&&(o=r,h=a)}{const e=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P;_h(t,i,h,e);const n=[0];Lo(s,e,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.E.unit(),!1,-1,1,n);const r=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P;return Po(s,n[0],r),o=_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.sqrDistance(e,r),Math.sqrt(o)}}function Ka(t,e,s,n){if(e.isEqual(t.m_XStart,t.m_YStart)&&s.isEqual(t.m_XEnd,t.m_YEnd))return;const i=!!n&&t.isMonotoneQuickAndDirty(),r=new _Transformation2D_js__WEBPACK_IMPORTED_MODULE_4__.T,o=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P,3);o[0].setCoords(t.m_XStart,t.m_YStart),o[2].setCoords(t.m_XEnd,t.m_YEnd);const a=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P;a.setSub(o[2],o[0]),a.leftPerpendicularThis(),o[1].setAdd(o[0],a);const h=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P,3);h[0].setCoordsPoint2D(e),h[2].setCoordsPoint2D(s),a.setSub(h[2],h[0]),a.leftPerpendicularThis(),h[1].setAdd(h[0],a),r.setFromTwoTriangles(o,h)?r.transformInPlace(t.m_cp):(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.U)(e,s,.5,t.m_cp),t.changeEndPoints2D(e,s),i&&Za(t)}function $a(t,e,s,n,i){if(i){if(0!==am(e,s))return t?4:2}else if(Le(e,s))return 1;return 0!==nh(t,e,s,null,null,null,n,void 0!==i&&i,!0,!1)?4:0}function th(t,e,s,n,i){if(i){if(0!==am(e,s))return t?4:2}else if(Le(e,s))return 1;return 0!==ih(t,e,s,null,null,null,n,i??!1,!0,!1)?4:0}function eh(t,e,s,n,i){if(i){const n=am(e,s);if(0!==n){if(t){if(1===n){if(e.m_weights[0]===s.m_weights[0]&&e.m_weights[1]===s.m_weights[1]&&e.m_weights[2]===s.m_weights[2])return 2}else if(e.m_weights[0]===s.m_weights[2]&&e.m_weights[1]===s.m_weights[1]&&e.m_weights[2]===s.m_weights[0])return 2;return 4}return 2}}else if(Le(e,s))return 1;return 0!==rh(t,e,s,null,null,null,n,void 0!==i&&i,!0,!1)?4:0}function sh(t,e,s,n,i){if(i){if(0!==am(e,s))return t?4:2}else if(Le(e,s))return 1;return 0!==oh(t,e,s,null,null,null,n,i??!1,!0,!1)?4:0}function nh(t,e,n,i,r,o,a,h,u,m){if(null!==r&&(r.length=0),null!==o&&(o.length=0),null!==i&&(i.length=0),n.isDegenerate(0)){const t=[0,0],s=e.intersectPoint(n.getStartXY(),t,a);if(s>0){if(null!==r)for(let e=0;e<s;e++)r.push(t[e]);if(null!=o)for(let t=0;t<s;t++)o.push(0);if(null!=i)for(let n=0;n<s;n++){const s=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P;e.queryCoord2D(t[n],s),i.push(s)}}return s}const l=rs(e,n);if(a=Math.max(a,l),e.isDegenerateToLineHelper(l)){const t=new pm({start:e.getStartXY(),end:e.getEndXY()}),s=Ds(t,n,i,r,o,a,h,m);if(r)for(let n=0;n<s;++n){const s=t.getCoord2D(r[n]);r[n]=e.getClosestCoordinate(s,!1)}return s}if(os(e,n,a))return 0;const c=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P,3);e.queryControlPoints(c);const g=[0,0,0];e.queryWeights(g);const d=[1,fh(g),1],_=n.getEndXY().sub(n.getStartXY()),p=_.clone();p.leftPerpendicularThis();const f=c[0].clone(),P=c[1].clone(),y=c[2].clone(),x=P.sub(f),C=y.sub(f),v=y.sub(P),b=d[0],S=d[1],E=d[2],D=b*S,w=b*E,A=S*E,T=x.dotProduct(p)*D,I=C.dotProduct(p)*w;let M=T,Y=I-2*T,N=v.dotProduct(p)*A+I-I;const X=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.d)(13,Number.NaN),q=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.d)(13,Number.NaN);let F=sn(N,Y,M,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.E.unit(),!1,X);F<0&&(X[0]=0,X[1]=1,F=2);let V=0;for(let s=0,k=V;s<F;++s){const t=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P;_h(c,d,X[s+k],t),q[V]=n.getClosestCoordinate(t,!1);_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.distance(t,n.getCoord2D(q[V]))<=a&&(X[V]=X[s+k],V++)}const L=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P,3),R=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P,3);if(e.queryControlPoints(R),R[0].subThis(n.getStartXY()),R[1].subThis(n.getStartXY()),R[2].subThis(n.getStartXY()),ah(R,d,L,!1),Math.abs(_.x)>=Math.abs(_.y)){const t=_.y/_.x;N=L[2].y-L[2].x*t,Y=L[1].y-L[1].x*t,M=L[0].y-L[0].x*t}else{const t=_.x/_.y;N=L[2].x-L[2].y*t,Y=L[1].x-L[1].y*t,M=L[0].x-L[0].y*t}const z=e.getEndXY().equals(n.getStartXY())||e.getEndXY().equals(n.getEndXY()),B=[0,0];F=sn(N,Y,M,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.E.unit(),z,B);for(let s=0,k=V;s<F;++s){X[s+k]=B[s];const t=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P;_h(c,d,X[s+k],t),q[V]=n.getClosestCoordinate(t,!1);_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.distance(t,n.getCoord2D(q[V]))<=a&&(X[V]=X[s+k],V++)}(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(V<X.length+4);for(let s=0;s<V;s++)X[s]=Ph(g,X[s]);F=e.intersectPoint(n.getStartXY(),B,a);for(let s=0;s<F;s++)X[V]=B[s],q[V++]=0;F=e.intersectPoint(n.getEndXY(),B,a);for(let s=0;s<F;s++)X[V]=B[s],q[V++]=1;F=n.intersectPoint(e.getStartXY(),B,a);for(let s=0;s<F;s++)q[V]=B[s],X[V++]=0;F=n.intersectPoint(e.getEndXY(),B,a);for(let s=0;s<F;s++)q[V]=B[s],X[V++]=1;return 0===V?0:cm(t,e,n,X,q,V,i,r,o,a,h,u,m)}function ih(t,e,s,n,i,r,o,a,h,u){if(Su(s)){return nh(t,e,new pm({start:s.getStartXY(),end:s.getEndXY()}),n,i,r,o,a,h,u)}const m=rs(e,s);if(os(e,s,o=Math.max(o,m)))return 0;const l=[],c=[],g=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P,4);{e.queryControlPoints(g);const t=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P,4),n=new _Transformation2D_js__WEBPACK_IMPORTED_MODULE_4__.T;s.canonicToWorldTransformation(n);const i=new _Transformation2D_js__WEBPACK_IMPORTED_MODULE_4__.T;i.setInvert(n),i.transformPoints2D(g,4,t);const r=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.M,3),h=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.M,3),u=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.M,3),m=[0,0,0];e.queryWeights(m),hh(t,m,r,h,u);const d=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.M,3);d[0].setDouble(s.getSemiMinorAxis()),d[0].sqrThis(),d[1].setDouble(s.getSemiMajorAxis()),d[1].sqrThis(),d[2].setThis(d[0]),d[2].mulThis(d[1]),d[2].negateThis();const _=qn(r,2,h,2,u,2,d,!0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.E.unit(),_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.E.unit(),l,a);if(_>0){let t=0;for(let n=0;n<_;n++){const i=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P;e.queryCoord2D(l[n],i);const r=s.getClosestCoordinate(i,!1),a=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P;s.queryCoord2D(r,a);_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.distance(i,a)<=o&&(l[t]=l[n],c.push(r),t++)}l.length=t}}const d=[0,1];for(let _=0;_<2;_++){const t=0===_?s.getStartXY():s.getEndXY(),n=Ra(e,t,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.E.unit(),!1,-1),i=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P;e.queryCoord2D(n,i);_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.distance(t,i)<=o&&(l.push(n),c.push(d[_]))}for(let _=0;_<2;_++){const t=[0,3];{const e=s.getClosestCoordinate(g[t[_]],!1),n=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P;s.queryCoord2D(e,n);_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.distance(g[t[_]],n)<=o&&(l.push(d[_]),c.push(e))}}return cm(t,e,s,l,c,l.length,n,i,r,o,a,h,u)}function rh(t,e,n,i,r,o,a,h,u,m){const l=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P,3);e.queryControlPoints(l);const c=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P,3);if(n.queryControlPoints(c),as(l,c,3)<0)return rh(t,n,e,i,o,r,a,h,u,!m);const g=rs(e,n);if(e.isDegenerateToLineHelper(g)){const s=new pm({start:e.getStartXY(),end:e.getEndXY()}),l=nh(t,n,s,i,o,r,a,h,u,!m);if(r)for(let t=0;t<l;++t){const n=s.getCoord2D(r[t]);r[t]=e.getClosestCoordinate(n,!1)}return l}if(n.isDegenerateToLineHelper(g)){const s=new pm({start:n.getStartXY(),end:n.getEndXY()}),l=nh(t,e,s,i,r,o,a,h,u,m);if(o)for(let t=0;t<l;++t){const e=s.getCoord2D(o[t]);o[t]=n.getClosestCoordinate(e,!1)}return l}if(os(e,n,a=Math.max(a,g)))return 0;const d=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.d)(3,Number.NaN);e.queryWeights(d);const _=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.d)(3,Number.NaN);n.queryWeights(_);const p=[1,fh(d),1],f=[1,fh(_),1],P=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.E(0,1),y=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.E(0,1);{const t=De.constructEmpty();Wa(l,p,new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.E(0,1),t);const e=De.constructEmpty();Wa(c,f,new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.E(0,1),e);const s=Math.max(t.maxDim(),e.maxDim());if(t.inflate(3*a),e.inflate(3*a),!t.intersectW(e))return 0;if(t.maxDim()<.1*s){if(ph(l,p,t,P),ph(c,f,t,y),P.isEmpty()||y.isEmpty())return 0;Qa(l,p,P.vmin,P.vmax,l,p),Qa(c,f,y.vmin,y.vmax,c,f)}}const x=dm(l,2,c,2,a);if(0===x)return 0;const C=[],v=[];if(-1===x){const t=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.M,3),e=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.M,3),s=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.M,3);hh(l,p,t,e,s);const n=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.M,3),i=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.M,3),r=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.M,3);hh(c,f,n,i,r);const o=[],g=[],d=Yn(t,2,e,2,s,2,n,2,i,2,r,2,!0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.E.unit(),_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.E.unit(),o,g,h,u,m);if(d>0)for(let h=0;h<d;h++){const t=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P;_h(c,f,g[h],t);const e=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P;_h(l,p,o[h],e);_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.distance(e,t)<=a&&(C.push(o[h]),v.push(g[h]))}}for(let b=0;b<2;b++){let t,e,n;0===b?(t=l,e=c,n=f):(t=c,e=l,n=p);for(let i=0;i<2;i++){const r=0===i?0:t.length-1,o=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P,h=[0],u=za(e,n,t[r],_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.E.unit(),!1,-1,1,h);(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(1===u),_h(e,n,h[0],o),_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.distance(t[r],o)<=a&&(0===b?(C.push(0===r?0:1),v.push(h[0])):(v.push(0===r?0:1),C.push(h[0])))}}if(0===C.length)return 0;if(!P.equalsRange(0,1))for(let s=0;s<C.length;++s)C[s]=En.recalculateParentT(P.vmin,P.vmax,C[s]);if(!y.equalsRange(0,1))for(let s=0;s<v.length;++s)v[s]=En.recalculateParentT(y.vmin,y.vmax,v[s]);for(let s=0;s<C.length;++s)C[s]=Ph(d,C[s]);for(let s=0;s<v.length;++s)v[s]=Ph(_,v[s]);return cm(t,e,n,C,v,C.length,i,r,o,a,h,u,m)}function oh(t,e,s,n,i,r,o,a,h,u){if(e.isLine()){return Vi(t,s,new pm({start:e.getStartXY(),end:e.getEndXY()}),n,r,i,o,a,h,!u)}if(s.isLine()){return nh(t,e,new pm({start:s.getStartXY(),end:s.getEndXY()}),n,i,r,o,a,h,u)}const m=rs(e,s);if(os(e,s,o=Math.max(o,m)))return 0;const l=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P,3);e.queryControlPoints(l);const c=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P,3);s.queryControlPoints(c);const g=dm(l,2,c,2,o);if(0===g)return 0;const d=[],_=[];if(-1===g){const t=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.M,3),n=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.M,3),i=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.M,3),r=[0,0,0];e.queryWeights(r),hh(l,r,t,n,i);const m=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(Xe,3);Wi(c,m);const g=Yn(t,2,n,2,i,2,[m[0].x,m[1].x,m[2].x],2,[m[0].y,m[1].y,m[2].y],2,null,0,!0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.E.unit(),_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.E.unit(),d,_,a,h,u);if(g>0){let t=0;for(let n=0;n<g;n++){const i=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P;s.queryCoord2D(_[n],i);const r=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P;e.queryCoord2D(d[n],r),_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.distance(r,i)<=o&&(d[t]=d[n],_[t]=_[n],t++)}d.length=t,_.length=t}}for(let p=0;p<2;p++){let t;t=0===p?l:c;for(let n=0;n<2;n++){const i=0===n?0:t.length-1;let r;const a=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P;0===p?(r=Ci(s,t[i],_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.E.unit(),!1),s.queryCoord2D(r,a)):(r=Ra(e,t[i],_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.E.unit(),!1,-1),e.queryCoord2D(r,a)),_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.distance(t[i],a)<=o&&(0===p?(d.push(0===i?0:1),_.push(r)):(_.push(0===i?0:1),d.push(r)))}}return cm(t,e,s,d,_,d.length,n,i,r,o,a,h,u)}function ah(t,e,s,n=!1){const i=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P,3);n?(i[0].setCoordsPoint2D(t[0]),i[1].setCoordsPoint2D(t[1]),i[1].subThis(i[0]),i[2].setCoordsPoint2D(t[2]),i[2].subThis(i[0]),i[0].setCoords(0,0)):(i[0].setCoordsPoint2D(t[0]),i[1].setCoordsPoint2D(t[1]),i[2].setCoordsPoint2D(t[2])),i[0].mulThis(e[0]),i[1].mulThis(e[1]),i[2].mulThis(e[2]),s[1].setCoords(i[1].x-i[0].x,i[1].y-i[0].y),s[2].setCoordsPoint2D(i[2].sub(i[1])),s[2].subThis(s[1]),s[1].x*=2,s[1].y*=2,s[0].setCoordsPoint2D(i[0])}function hh(t,e,s,n,i){const r=_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.M.constructDouble(e[0]),o=_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.M.constructDouble(e[1]),a=_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.M.constructDouble(e[2]);s[0].setDouble(t[0].x),s[0].mulThis(r),s[1].setDouble(t[1].x),s[1].mulThis(o),s[2].setDouble(t[2].x),s[2].mulThis(a),s[2].subThis(s[1]),s[1].subThis(s[0]),s[2].subThis(s[1]),s[1].ldexpThis(1),n[0].setDouble(t[0].y),n[0].mulThis(r),n[1].setDouble(t[1].y),n[1].mulThis(o),n[2].setDouble(t[2].y),n[2].mulThis(a),n[2].subThis(n[1]),n[1].subThis(n[0]),n[2].subThis(n[1]),n[1].ldexpThis(1),i[0].setDouble(e[0]),i[1].setDouble(e[1]),i[2].setThis(i[1]),i[2].ldexpThis(1),i[2].negateThis(),i[2].addThis(i[0]),i[2].addDoubleThis(e[2]),i[1].subThis(i[0]),i[1].ldexpThis(1)}function uh(t,e,s){for(let n=0;n<3;++n)s[n].setCoordsPoint2DZ(t[n].mul(e[n]),e[n])}function mh(t,e,s,n){if(0===s)return n.assign(t[0]),e[0];if(1===s)return n.assign(t[2]),e[2];const i=[t[0].x*e[0],t[1].x*e[1],t[2].x*e[2]],r=[t[0].y*e[0],t[1].y*e[1],t[2].y*e[2]],o=[e[0],e[1],e[2]],a=s;let h,u,m;if(s<=.5){const t=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.X)(i[0],i[1],a),e=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.X)(i[1],i[2],a);h=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.q)(t,e,a);const s=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.X)(r[0],r[1],a),n=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.X)(r[1],r[2],a);u=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.q)(s,n,a);const l=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.X)(o[0],o[1],a),c=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.X)(o[1],o[2],a);m=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.X)(l,c,a)}else{const t=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.Y)(i[0],i[1],a),e=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.Y)(i[1],i[2],a);h=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.Y)(t,e,a);const s=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.Y)(r[0],r[1],a),n=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.Y)(r[1],r[2],a);u=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.Y)(s,n,a);const l=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.Y)(o[0],o[1],a),c=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.Y)(o[1],o[2],a);m=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.Y)(l,c,a)}return h/=m,u/=m,n.setCoords(h,u),vh(t,n),m}function lh(t,e,s){const n=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P,3);t.queryControlPoints(n);const i=[0,0,0];t.queryWeights(i);ch([Ye.constructPoint2D(n[0]),Ye.constructPoint2D(n[1]),Ye.constructPoint2D(n[2])],[new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.H(i[0]),new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.H(i[1]),new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.H(i[2])],e,s)}function ch(t,e,s,n){if(0===s.value())return void n.setE(t[0]);if(1===s.value())return void n.setE(t[2]);const i=[t[0].x.mulE(e[0]),t[1].x.mulE(e[1]),t[2].x.mulE(e[2])],r=[t[0].y.mulE(e[0]),t[1].y.mulE(e[1]),t[2].y.mulE(e[2])],o=[e[0].clone(),e[1].clone(),e[2].clone()],a=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.H,h=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.H,u=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.H;if(s.value()<=.5){const t=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.ad)(i[0],i[1],s),e=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.ad)(i[1],i[2],s);a.setE((0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.ad)(t,e,s));const n=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.ad)(r[0],r[1],s),m=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.ad)(r[1],r[2],s);h.setE((0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.ad)(n,m,s));const l=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.ad)(o[0],o[1],s),c=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.ad)(o[1],o[2],s);u.setE((0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.ad)(l,c,s))}else{const t=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.ae)(i[0],i[1],s),e=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.ae)(i[1],i[2],s);a.setE((0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.ae)(t,e,s));const n=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.ae)(r[0],r[1],s),m=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.ae)(r[1],r[2],s);h.setE((0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.ae)(n,m,s));const l=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.ae)(o[0],o[1],s),c=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.ae)(o[1],o[2],s);u.setE((0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.ae)(l,c,s))}a.divThisE(u),h.divThisE(u);const m=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P(a.value(),h.value());vh([t[0].value(),t[1].value(),t[2].value()],m),n.x.set(m.x,a.eps()),n.y.set(m.y,h.eps())}function gh(t,e,s,n){const i=s.lte(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.a7)?_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.M.lerpLo:_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.M.lerpHi,[r,o,a]=[e.map(((e,s)=>t[s].x.mul(e))),e.map(((e,s)=>t[s].y.mul(e))),e].map((([t,e,n])=>i(i(t,e,s),i(e,n,s),s))),h=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P(r.divThis(a).value(),o.divThis(a).value());vh(t.map((t=>t.asPoint2D())),h),n.x=_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.M.constructDouble(h.x),n.y=_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.M.constructDouble(h.y)}function dh(t,e){return e.setCoords(t.x/t.z,t.y/t.z),t.z}function _h(t,e,s,n,i){if(i){if(s<0){return void _s(new pm({start:t[0],end:t[0].add(wa(t,e,0).getUnitVector())}),s,n)}if(s>1){return void _s(new pm({start:t[2],end:t[2].add(wa(t,e,1).getUnitVector())}),s-1,n)}}mh(t,e,s,n)}function ph(t,e,s,n){n.setEmpty();const i=[];i.push(new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.E(0,1));const r=.5*Math.max(s.width(),s.height());for(;i.length;){const o=i.at(-1);i.pop();const a=new De;if(Wa(t,e,o,a),a.isIntersectingW(s)){const t=Math.max(a.width(),a.height());if(s.containsW(a)||t<=r||o.width()<1e-12)n.merge(o);else{const t=o.getCenter();i.push(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.E.construct(o.vmin,t)),i.push(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.E.construct(t,o.vmax))}}}}function fh(t){return t[1]/Math.sqrt(t[0]*t[2])}function Ph(t,e){const s=Math.sqrt(t[2]/t[0]);return e/(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.q)(s,1,e)}function yh(t,e){const s=Math.sqrt(t[0]/t[2]);return e/(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.q)(s,1,e)}function xh(t,e,n,i){(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(e>=0&&e<=1);(new _Envelope_js__WEBPACK_IMPORTED_MODULE_1__.d).setCoordsPoint3D(t[0]);(new _Envelope_js__WEBPACK_IMPORTED_MODULE_1__.d).setCoordsPoint3D(t[1]);(new _Envelope_js__WEBPACK_IMPORTED_MODULE_1__.d).setCoordsPoint3D(t[2]);const r=new _Envelope_js__WEBPACK_IMPORTED_MODULE_1__.d,o=new _Envelope_js__WEBPACK_IMPORTED_MODULE_1__.d,a=new _Envelope_js__WEBPACK_IMPORTED_MODULE_1__.d;(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__._)(3,t[0],t[1],e,r),(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__._)(3,t[1],t[2],e,o),(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__._)(3,r,o,e,a);const h=t[2].clone();n&&(n[0].assign(t[0]),n[1].assign(r),n[2].assign(a)),i&&(i[0].assign(a),i[1].assign(o),i[2].assign(h))}function Ch(t,e,n,i){const r=[t[0],t[1],t[2]];(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(e>=0&&e<=1&&n!==i);const o=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.q)(r[0],r[1],e),a=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.q)(r[1],r[2],e),h=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.q)(o,a,e);n&&(n[0]=r[0],n[1]=o,n[2]=h),i&&(i[0]=h,i[1]=a,i[2]=r[2])}function vh(t,e){const s=_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.E.constructEmpty();s.vmin=s.vmax=t[0].x,s.mergeNeCoordinate(t[1].x),s.mergeNeCoordinate(t[2].x),e.x=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.s)(e.x,s.vmin,s.vmax),s.vmin=s.vmax=t[0].y,s.mergeNeCoordinate(t[1].y),s.mergeNeCoordinate(t[2].y),e.y=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.s)(e.y,s.vmin,s.vmax)}function bh(t,e){const s=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.E;s.vmin=s.vmax=t[0].x,s.mergeNeCoordinate(t[1].x),s.mergeNeCoordinate(t[2].x),e[0].x=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.s)(e[0].x,s.vmin,s.vmax),e[1].x=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.s)(e[1].x,s.vmin,s.vmax),e[2].x=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.s)(e[2].x,s.vmin,s.vmax),s.vmin=s.vmax=t[0].y,s.mergeNeCoordinate(t[1].y),s.mergeNeCoordinate(t[2].y),e[0].y=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.s)(e[0].y,s.vmin,s.vmax),e[1].y=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.s)(e[1].y,s.vmin,s.vmax),e[2].y=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.s)(e[2].y,s.vmin,s.vmax)}const Sh=_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.ag/180,Eh=180/_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.ag;function Dh(t){let e=t;return e>=-360&&e<720?(e<0?e+=360:e>=360&&(e-=360),e):(e=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.n)(e,360),e<0&&(e+=360),e)}function wh(t){let e=t;return e=Dh(e),e>180&&(e-=360),e}function Ah(t){return t*Sh}function Th(t){return t*Eh}function Ih(t){const e=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.a9)();let s=t;return s>=-e&&s<2*e?(s<0&&(s+=e),s>=e&&(s-=e),s):(s=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.n)(s,e),s<0&&(s+=e),s)}function Mh(t){const e=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.$)();let s=t;return s>-e&&s<=e||(s=Ih(s),s>e&&(s-=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.a9)())),s}function Yh(t,e){return wh(e-t)}var Nh=_Envelope_js__WEBPACK_IMPORTED_MODULE_1__.V;class Xh extends gs{constructor(t){if(void 0===t||(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.W)(t,"vd"))return super({vd:t?.vd,XStart:0,YStart:0,XEnd:0,YEnd:0}),this.m_semiMajorAxis=0,this.m_minorMajorRatio=1,this.m_rotation=0,this.m_cosr=1,this.m_sinr=0,this.m_center=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P(0,0),this.m_sweepAngle=0,this.m_startAngle=0,this.m_interior=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P(0,0),void(this.m_bits=0);if(t.copy)return super(t),void(this!==t.copy&&(this.m_center=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P(0,0),this.m_interior=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P(0,0),t.copy.copyToImpl(this)));if(t.move)super(t),this.m_semiMajorAxis=t.move.m_semiMajorAxis,this.m_minorMajorRatio=t.move.m_minorMajorRatio,this.m_rotation=t.move.m_rotation,this.m_cosr=t.move.m_cosr,this.m_sinr=t.move.m_sinr,this.m_center=t.move.m_center.clone(),this.m_sweepAngle=t.move.m_sweepAngle,this.m_startAngle=t.move.m_startAngle,this.m_interior=t.move.m_interior.clone(),this.m_bits=t.move.m_bits,this.m_cachedValues=t.move.m_cachedValues,t.move.m_cachedValues=null;else{if(t.fromPoint)return super({XStart:0,YStart:0,XEnd:0,YEnd:0}),this.m_center=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P(0,0),this.m_interior=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P(0,0),void this.constructCircularArcThreePoint(t.fromPoint,t.toPoint,t.interiorPoint);if(t.center)return super({XStart:0,YStart:0,XEnd:0,YEnd:0}),this.m_center=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P(0,0),this.m_interior=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P(0,0),void this.constructCircleRadius(t.radius,t.center,t.bIsCounterClockwise);if(t.semiMajorAxis)return super({XStart:0,YStart:0,XEnd:0,YEnd:0}),void this.constructEllipticArcEndPoints(t.fromPoint,t.toPoint,t.semiMajorAxis,t.minorMajorRatio,t.axisXRotationRad,t.bBigArc,t.bIsCounterClockwise)}}getBoundary(){return Ks(this)}assignCopy(t){return this!==t&&t.copyTo(this),this}constructCircleRadius(t,e,s=!1){return this.constructEllipse(t,1,e,0,s),this.setProjectionBehavior(0),this.afterCompletedModification(),this}constructCircleCenterAndPoint(t,e,s=!1){const n=_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.distance(t,e);return this.constructEllipticArcEndPointsCenter(e,e,n,1,0,!0,s,t),this.setProjectionBehavior(0),this.afterCompletedModification(),this}constructTwoPointCircle(t,e,s=!1){const n=_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.lerp(t,e,.5);return this.constructCircleCenterAndPoint(n,t,s),this}constructLineEllipticArc(t,e){return bu(this,t,e,1),this}constructLineCircularArc(t,e){return bu(this,t,e,0),this}constructEllipse(t,e,s,n,i=!1){this.m_semiMajorAxis=Math.abs(t),this.m_minorMajorRatio=Math.abs(e),this.m_minorMajorRatio>1&&(this.m_semiMajorAxis*=this.m_minorMajorRatio,this.m_minorMajorRatio=1/this.m_minorMajorRatio);const r=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P(0,this.m_minorMajorRatio*this.m_semiMajorAxis),o=Math.cos(n),a=Math.sin(n);return r.rotateDirect(o,a),r.addThis(s),this.constructEllipticArcEndPointsCenter(r,r,this.m_semiMajorAxis,this.m_minorMajorRatio,n,!0,i,s),this}inflate(t){if(this.isDegenerateToLine())return;let e=this.getSemiMinorAxis()+t;if(e=e<=0?0:(this.getSemiMajorAxis()+t)/this.getSemiMajorAxis(),this.isCircular()){const t=new _Transformation2D_js__WEBPACK_IMPORTED_MODULE_4__.T;t.setShiftCoords(-this.m_center.x,-this.m_center.y),t.scale(e,e),t.shiftCoords(this.m_center.x,this.m_center.y),this.applyTransformation(t)}else{const t=new _Transformation2D_js__WEBPACK_IMPORTED_MODULE_4__.T;this.canonicToWorldTransformation(t);const s=t.clone();s.invertPreciseThis(),s.scale(e,e),s.multiply(t),this.applyTransformation(s)}}constructEnclosingCircle(t,e,s=!1){return ju(this,t,e,s),this}constructThreePointCircle(t,e,s,n=!1){if(t.equals(e)||e.equals(s)||t.equals(s)){const i=t.clone(),r=e.clone(),o=s.clone();return i.equals(r)&&r.assign(o),this.constructTwoPointCircle(i,r,n)}{const i=_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.calculateCircleCenterFromThreePoints(t,e,s);if(!i.isFinite()||!Number.isFinite(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.distance(t,i))){const n=_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.distance(t,e),i=_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.distance(t,s);this.constructLineCircularArc(t,n>=i?e:s)}return this.constructCircleCenterAndPoint(i,t,n)}}constructCircularArcThreePoint(t,e,s){const n=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.H(t.x),i=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.H(e.x),r=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.H(s.x),o=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.H(t.y),a=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.H(e.y),h=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.H(s.y),u=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.H(.5),m=i.subE(n),l=a.subE(o),c=r.subE(n),g=h.subE(o),d=m.mulE(g).subThisE(l.mulE(c));if(d.scaleError(10),d.isZero()){if(!m.isZero()||!l.isZero())return bu(this,t,e,0),this;{const n=t.clone().addThis(e).mulThis(.5).addThis(s).mulThis(.5),i=s.sub(n).length();this.constructEllipticArcEndPointsCenter(t,e,i,1,0,!0,!1,n),this.m_interior.assign(s)}return this.setProjectionBehavior(0),this}const _=m.sqr().addThisE(l.sqr()).mulThisE(u),p=c.sqr().addThisE(g.sqr()).mulThisE(u),f=_.mulE(g).subThisE(p.mulE(l)),P=m.mulE(p).subThisE(c.mulE(_));f.divThisE(d),P.divThisE(d);const y=f.sqr().addThisE(P.sqr());y.sqrtThis();const x=f.addE(n),C=P.addE(o);let v=t.x-x.value(),b=t.y-C.value();const S=Math.atan2(b,v);v=e.x-x.value(),b=e.y-C.value();const E=Math.atan2(b,v);v=s.x-x.value(),b=s.y-C.value();const D=Math.atan2(b,v);let w=D-2*(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.$)();for(;w<S;)w+=2*(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.$)();let A=E-2*(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.$)();for(;A<w;)A+=2*(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.$)();let T=D+2*(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.$)();for(;T>S;)T-=2*(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.$)();let I,M=E+2*(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.$)();for(;M>T;)M-=2*(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.$)();I=A-S<S-M?A-S:M-S;const Y=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P(x.value(),C.value());return this.constructEllipticArcEndPointsCenter(t,e,y.value(),1,0,Math.abs(I)>(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.$)(),I>0,Y),this.m_interior.assign(s),this.setProjectionBehavior(0),this.afterCompletedModification(),this}constructCircularArc(t,e,s,n){return this.constructEllipticArcGeneral(t,1,e,s,n,0),this.setProjectionBehavior(0),this.afterCompletedModification(),this}constructEllipticArcEndPoints(t,e,s,n,i,r,o){return vu(this,t,e,s,n,i,r,o)}constructEllipticArcEndPointsCenter(t,e,s,n,i,r,o,a){return vu(this,t,e,s,n,i,r,o,a)}constructEllipticArcGeneral(t,e,s,n,i,r){this.m_semiMajorAxis=Math.abs(t),this.m_minorMajorRatio=Math.abs(e),this.m_minorMajorRatio>1&&(this.m_semiMajorAxis*=this.m_minorMajorRatio,this.m_minorMajorRatio=1/this.m_minorMajorRatio);const o=Mh(r),a=Math.cos(o),h=Math.sin(o),u=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P(this.m_semiMajorAxis,this.m_minorMajorRatio*this.m_semiMajorAxis),m=_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.getNAN(),l=Mh(n);m.x=u.x*Math.cos(l),m.y=u.y*Math.sin(l),m.rotateDirect(a,h),m.addThis(s);const c=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.a0)(i,(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.a9)());let g=c;Math.abs(g)===(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.a9)()&&(g=0);const d=_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.getNAN();return d.x=u.x*Math.cos(l+g),d.y=u.y*Math.sin(l+g),d.rotateDirect(a,h),d.addThis(s),this.constructEllipticArcEndPointsCenter(m,d,this.m_semiMajorAxis,this.m_minorMajorRatio,o,Math.abs(c)>(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.$)(),c>0,s)}constructEllipticArcAsNURB(t,s,n,i){(i>=1||i<0)&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.a)("construct_elliptic_arc_as_NURB: weight"),s.isFinite()||(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.a)("construct_elliptic_arc_as_NURB: control_point");return ku([t,s,n],i*i,null,!1,this),this}constructCanonic(t){return this.assignCopy(t),t.isDegenerateToLine()||t.m_center.isEqual(0,0)&&0===this.m_rotation||(this.m_XStart=t.getSemiMajorAxis()*Math.cos(t.m_startAngle),this.m_YStart=t.getSemiMinorAxis()*Math.sin(t.m_startAngle),this.m_XEnd=t.getSemiMajorAxis()*Math.cos(t.getEndAngle()),this.m_YEnd=t.getSemiMinorAxis()*Math.sin(t.getEndAngle()),this.m_center.setCoords(0,0),this.m_rotation=0,this.m_cosr=1,this.m_sinr=0,Hu(this),this.afterCompletedModification(),t!==this&&ss(this,t)),this}isCircular(){return 1===this.m_minorMajorRatio&&0===this.m_rotation&&!this.isDegenerateToLine()}isDegenerateToLineHelper(t){if(this.isLine())return!0;if(this.isMajor())return!1;const e=this.getEndXY().sub(this.getStartXY()).length();return!(this.calculateLength2D()-e>t)}isDegenerateToLine(){return Su(this)}getCenter(){return this.m_center.clone()}setCenter(t){if(!this.m_center.isNAN()){const e=t.sub(this.m_center);this.m_XStart+=e.x,this.m_YStart+=e.y,this.m_XEnd+=e.x,this.m_YEnd+=e.y,this.m_interior.addThis(e),this.m_center.assign(t),this.endPointModified(),this.normalizeAfterEndpointChange()}}getAxisXRotation(){return this.m_rotation}getSemiAxes(){return _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.construct(this.m_semiMajorAxis,this.m_semiMajorAxis*this.m_minorMajorRatio)}getSemiMajorAxis(){return this.m_semiMajorAxis}getSemiMinorAxis(){return this.m_semiMajorAxis*this.m_minorMajorRatio}getMinorMajorRatio(){return this.m_minorMajorRatio}isClockwise(){return!Xu(this)}isMajor(){return Fu(this)}getSweepAngle(){return this.m_sweepAngle}getStartAngle(){return this.m_startAngle}getEndAngle(){return this.m_startAngle+this.m_sweepAngle}getGeometryType(){return _Geometry_js__WEBPACK_IMPORTED_MODULE_0__.G.enumEllipticArc}queryEnvelope(t){if(4===t.m_EnvelopeType){t.setEmpty(),t.assignVertexDescription(this.m_description);const e=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_3__.Envelope2D.constructEmpty();this.queryEnvelope(e),t.setEnvelope(e);for(let s=1,n=this.m_description.getAttributeCount();s<n;s++){const e=this.m_description.getSemantics(s);for(let n=0,i=Nh.getComponentCount(e);s<i;s++){const s=this.queryInterval(e,n);t.setIntervalEnvelope(e,n,s)}}}else 2===t.m_EnvelopeType?Ku(this,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.E.unit(),t):(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.t)("3d not impl")}applyTransformation(t){Au(this,t,!1,null,null)}createInstance(){return new Xh}calculateLength2D(){return pu(this,0,1)}queryControlPointsHelper(t){(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.d)("")}queryCoord2D(t,e){if(Su(this))ps(t,this.getStartXY(),this.getEndXY(),e);else if(0===t)e.assign(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.construct(this.m_XStart,this.m_YStart));else if(1===t)e.assign(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.construct(this.m_XEnd,this.m_YEnd));else{const s=cu(this,t),n=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P(this.m_semiMajorAxis*Math.cos(s),this.getSemiMinorAxis()*Math.sin(s));n.rotateDirect(this.m_cosr,this.m_sinr),n.addThis(this.m_center),e.assign(n)}}queryCoord2DE(t,e){nu(this,t,e)}queryCoord2DMP(t,e){(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.t)("")}getCoordX(t){const e=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P;return this.queryCoord2D(t,e),e.x}getCoordY(t){const e=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P;return this.queryCoord2D(t,e),e.y}cut(t,e,s){const n=new fm;return this.queryCut(t,e,n,s),n.releaseSegment()}queryCut(t,e,s,n){const i=s.createEllipticArc();n&&i.dropAllAttributes();let r=0===t&&1===e;if(r&&!n)return void this.copyTo(i);const o=_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.getNAN();this.queryCoord2D(t,o);const a=_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.getNAN();if(this.queryCoord2D(e,a),!r)if(o.equals(a))e-t>.5&&this.isMajor()&&this.isClosed()?(r=!0,t=0,e=1):1===e?t=e:e=t;else if(t>0&&o.isEqual(this.m_XStart,this.m_YStart)&&(t=0),e<1&&a.isEqual(this.m_XEnd,this.m_YEnd)&&(e=1),r=0===t&&1===e,r&&!n)return void this.copyTo(i);if(i.m_center.assign(this.m_center),i.m_semiMajorAxis=this.m_semiMajorAxis,i.m_minorMajorRatio=this.m_minorMajorRatio,i.m_interior.assign(this.m_interior),i.m_rotation=this.m_rotation,i.m_cosr=this.m_cosr,i.m_sinr=this.m_sinr,i.m_sweepAngle=this.m_sweepAngle,i.m_startAngle=this.m_startAngle,i.m_bits=this.m_bits,je(i,o.x,o.y),He(i,a.x,a.y),r)return void Iu(i,fu(this));i.m_startAngle=cu(this,t),i.m_sweepAngle=cu(this,e)-i.m_startAngle,i.m_startAngle=au(i.m_startAngle),qu(i,Math.abs(i.m_sweepAngle)>(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.$)()),n&&i.assignVertexDescription(this.m_description),Hu(i),mu(i);const h=this.m_description.getAttributeCount();if(h>1&&!n){for(let e=1;e<h;e++){const s=this.m_description.getSemantics(e),n=Nh.getComponentCount(s);for(let e=0;e<n;e++){const n=this.getAttributeAsDbl(t,s,e);i.setStartAttribute(s,e,n)}}for(let t=1;t<h;t++){const s=this.m_description.getSemantics(t),n=Nh.getComponentCount(s);for(let t=0;t<n;t++){const n=this.getAttributeAsDbl(e,s,t);i.setEndAttribute(s,t,n)}}}i.afterCompletedModification()}queryDerivative(t,e){sm(this,t,e)}cutArcIgnoreAttributes(t,e,s){let n=0===t&&1===e;const i=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P;this.queryCoord2D(t,i);const r=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P;this.queryCoord2D(e,r),n||(i.equals(r)?e-t>.5&&this.isMajor()&&this.isClosed()?(n=!0,t=0,e=1):1===e?t=e:e=t:(t>0&&i.isEqual(this.m_XStart,this.m_YStart)&&(t=0),e<1&&r.isEqual(this.m_XEnd,this.m_YEnd)&&(e=1),n=0===t&&1===e)),s.m_center.assign(this.m_center),s.m_semiMajorAxis=this.m_semiMajorAxis,s.m_minorMajorRatio=this.m_minorMajorRatio,s.m_interior.assign(this.m_interior),s.m_rotation=this.m_rotation,s.m_cosr=this.m_cosr,s.m_sinr=this.m_sinr,s.m_sweepAngle=this.m_sweepAngle,s.m_startAngle=this.m_startAngle,s.m_bits=this.m_bits,je(s,i.x,i.y),He(s,r.x,r.y),n?Iu(s,fu(this)):(s.m_startAngle=cu(this,t),s.m_sweepAngle=cu(this,e)-s.m_startAngle,s.m_startAngle=au(s.m_startAngle),qu(s,Math.abs(s.m_sweepAngle)>Math.PI),Hu(s),s.afterCompletedModification())}changeEndPoints2D(t,e){yu(this,t,e,!1)}getAttributeAsDbl(t,e,s){if(0===e)return 0===s?this.getCoordX(t):this.getCoordY(t);if(0===t)return this.getStartAttributeAsDbl(e,s);if(1===t)return this.getEndAttributeAsDbl(e,s);const n=this.calculateLength2D(),i=n>0?this.tToLength(t)/n:0,r=Nh.getInterpolation(e),o=this.getStartAttributeAsDbl(e,s),a=this.getEndAttributeAsDbl(e,s);return (0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.V)(r,o,a,i,Nh.getDefaultValue(e))}getClosestCoordinate(t,e){return $u(this,t,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.E.unit(),e)}getClosestCoordinateOnInterval(t,e,s=-1){return $u(this,t,e,!1)}getYMonotonicParts(t,n=!1){t.length<2&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.a)("");const i=this.getSemiAxes(),r=Math.atan2(i.y*this.m_cosr,i.x*this.m_sinr),o=r+(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.$)(),a=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.d)(3,Number.NaN);let h=0;if(a[0]=lu(this,r),a[0]>0&&a[0]<1&&h++,a[1]=lu(this,o),a[1]>0&&a[1]<1&&(a[h]=a[1],h++),0===h)return 0;a[h]=1,h++,(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(t.length>=h);let u=0;for(let e=0;e<h;e++){const s=a[e];this.queryCut(u,s,t[e],n),u=s}return h}getMonotonicParts(t,n){if(t.length<4&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.a)(""),this.isDegenerateToLine())return t[0].createEllipticArc().assignCopy(this),n&&t[0].get().dropAllAttributes(),1;const i=this.getSemiAxes(),r=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.d)(4,Number.NaN);r[0]=Math.atan2(i.y*this.m_cosr,i.x*this.m_sinr),r[1]=r[0]+(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.$)(),r[2]=Math.atan2(-i.y*this.m_sinr,i.x*this.m_cosr),r[3]=r[2]+(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.$)();const o=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.d)(5,Number.NaN);let a=0;for(let e=0;e<4;e++)o[a]=lu(this,r[e]),o[a]>0&&o[a]<1&&a++;if(0===a)return 0;(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.Z)(o,a),o[a-1]<1&&(o[a]=1,a++),(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(t.length>=a);let h=0;for(let e=0;e<a;e++){const s=o[e];this.queryCut(h,s,t[e],n),h=s}return a}intersectionWithAxis2D(t,e,s,n){if(Su(this)){return new pm({start:this.getStartXY(),end:this.getEndXY()}).intersectionWithAxis2D(t,e,s,n)}let i,r;const o=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.H(e),a=this.getSemiAxes();if(t){if(e>this.m_center.y+a.x||e<this.m_center.y-a.x)return 0;i=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.H(a.x).mulThis(this.m_sinr),r=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.H(a.y).mulThis(this.m_cosr),o.subThis(this.m_center.y)}else{if(e>this.m_center.x+a.x||e<this.m_center.x-a.x)return 0;i=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.H(a.x).mulThis(this.m_cosr),r=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.H(a.y).mulThis(-this.m_sinr),o.subThis(this.m_center.x)}const h=i.sqr(),u=r.sqr(),m=h.addE(u),l=r.mulE(o).mulThis(-2),c=o.sqr().subThisE(h),g=l.sqr().subThisE(m.mulE(c).mulThis(4)),d=i.mulE(o).mulThis(-2),_=o.sqr().subThisE(u),p=d.sqr().subThisE(m.mulE(_).mulThis(4));let f=g.eps()*Math.abs(p.value())<=p.eps()*Math.abs(g.value());f?i.isZero()&&(f=!1):r.isZero()&&(f=!0),f||(l.setE(d),c.setE(_));const P=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.H,2);let y=gn(m,l,c,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.E.construct(-1,1),!1,P);if(0===y)return 0;const x=[0,0];let C=0;for(let v=0;v<y;v++){const t=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.H,e=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.H;f?(t.setE(P[v]),e.setE(o.subE(r.mulE(P[v])).divThisE(i))):(e.setE(P[v]),t.setE(o.subE(i.mulE(P[v])).divThisE(r)));const s=lu(this,Math.atan2(t.value(),e.value()));s>=0&&s<=1&&(x[C]=s,C++)}return y=C,0===y?0:(2===y&&x[0]>x[1]&&(x[1]=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.c)(x[0],x[0]=x[1])),n&&(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.b)(n,x,0,0,y),s&&(s[0]=t?this.getCoordX(x[0]):this.getCoordY(x[0]),y>1&&(s[1]=t?this.getCoordX(x[1]):this.getCoordY(x[1]),!n&&s[0]>s[1]&&(s[1]=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.c)(s[0],s[0]=s[1])))),y)}intersectionOfYMonotonicWithAxisX(t,e){if(this.m_YStart===this.m_YEnd)return t===this.m_YStart?e:Number.NaN;if(t===this.m_YStart)return this.m_XStart;if(t===this.m_YEnd)return this.m_XEnd;const s=[0,0];return-1===this.intersectionWithAxis2D(!0,t,s,null)?e:s[0]}isCurve(){return!0}isDegenerate(t){return Re(this,t)}isDegenerate3D(t,e){return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(0),!1}queryLooseEnvelope(t){3!==t.m_EnvelopeType?this.queryLooseEnvelopeOnInterval(new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.E(0,1),t):(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.t)("3d not impl")}clone(t){const e=new Xh;return this.copyTo(e),e}queryInterval(t,e){if(0===t){if(Su(this))return 0===e?_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.E.construct(this.getStartX(),this.getEndX()):_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.E.construct(this.getStartY(),this.getEndY());let t;const s=this.getSemiAxes();t=0===e?Math.atan2(-s.y*this.m_sinr,s.x*this.m_cosr):Math.atan2(s.y*this.m_cosr,s.x*this.m_sinr);const n=t+Math.PI,i=[0,0];i[0]=lu(this,t),i[1]=lu(this,n);const r=0===e?_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.E.construct(this.getStartX(),this.getEndX()):_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.E.construct(this.getStartY(),this.getEndY()),o=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P;for(let a=0;a<2;a++){const t=i[a];t>0&&t<1&&(this.queryCoord2D(t,o),r.mergeNeCoordinate(0===e?o.x:o.y))}return r}return super.queryInterval(t,e)}queryLooseEnvelopeOnInterval(t,e){const s=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.E(0,1);if(s.intersect(t),s.isEmpty())return void e.setEmpty();if(Su(this))return e.setCoords(this.getCoord2D(s.vmin)),void e.mergeNe(this.getCoord2D(s.vmax));const n=this.getCoord2D(s.vmin),i=this.getCoord2D(s.vmax);if(1===this.m_minorMajorRatio&&Math.abs(this.m_sweepAngle)*s.width()<=_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.o){let t=_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.lerp(n,i,.5);const s=t.sub(this.m_center);return s.normalize(),t=t.add(s.mul(.5*_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.distance(n,i))),e.setCoords(n),e.mergeNe(i),void e.mergeNe(t)}Ku(this,s,e)}tToLength(t){return Su(this)?t*_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.distance(this.getStartXY(),this.getEndXY()):1===this.m_minorMajorRatio?Math.abs(this.getSweepAngle()*t)*this.m_semiMajorAxis:Eu(this,t)}parametricAngleToT(t){return lu(this,t)}tToParametricAngle(t){return cu(this,t)}lengthToT(t){if(Su(this)){const e=_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.distance(this.getStartXY(),this.getEndXY());return 0===e?0:t/e}if(1===this.m_minorMajorRatio){const e=Math.abs(this.getSweepAngle())*this.m_semiMajorAxis;return 0===e?0:t/e}return Du(this,t)}calculateWeightedAreaCentroid2D(t){if(Su(this)){const t=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P;return t.setCoords(0,0),t}const e=Zu(this),s=this.getStartXY().sub(this.m_center),n=this.getEndXY().sub(this.m_center),i=this.m_semiMajorAxis,r=this.getSemiMinorAxis(),o=this.m_startAngle+this.m_sweepAngle,a=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P;a.x=i*r*(i*this.m_cosr*(-Math.sin(o)+Math.sin(this.m_startAngle))+r*(-Math.cos(o)+Math.cos(this.m_startAngle))*this.m_sinr)/3,a.y=i*r*(r*(Math.cos(o)-Math.cos(this.m_startAngle))*this.m_cosr+i*(-Math.sin(o)+Math.sin(this.m_startAngle))*this.m_sinr)/3;const h=n.add(s).mul(n.crossProduct(s)/6);return a.x-=h.x,a.y-=h.y,a.add(this.m_center.sub(t).mul(e))}calculateWeightedCentroid2D(){const t=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P;if(this.isDegenerate(0))return t.setCoords(0,0),t;if(Su(this))return t.assign(this.getCoord2D(.5).mul(this.calculateLength2D())),t;let e=this.m_startAngle,s=this.m_startAngle+this.m_sweepAngle;if(s<e){const t=e;e=s,s=t}const n=Math.sin(e),i=Math.sin(s),r=Math.cos(e),o=Math.cos(s);if(1===this.m_minorMajorRatio){const e=this.getSemiMajorAxis(),s=e*e,a=s*(i-n),h=s*(r-o);t.setCoords(a,h)}else{const e=this.getSemiMajorAxis(),s=this.getSemiMinorAxis(),a=e*e,h=s*s,u=e*s,m=a-h,l=m/h,c=m/a,g=Math.sqrt(l),d=Math.sqrt(c),_=.5*u*(Math.asinh(g*i)/g+i*Math.sqrt(1+l*i*i))-.5*u*(Math.asinh(g*n)/g+n*Math.sqrt(1+l*n*n)),p=-.5*u*(Math.asin(d*o)/d+o*Math.sqrt(1-c*o*o))- -.5*u*(Math.asin(d*r)/d+r*Math.sqrt(1-c*r*r));t.setCoords(_,p)}return t.rotateDirect(this.m_cosr,this.m_sinr),t.assign(t.add(this.m_center.mul(this.calculateLength2D()))),t}isIntersectingPoint(t,e,s){if(s&&(t.isEqualPoint2D(this.getStartXY())||t.isEqualPoint2D(this.getEndXY())))return!1;if(!Su(this)){const s=_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.distance(t,this.m_center),n=this.getSemiAxes();if(s<n.x-e||s>n.y+e)return!1}const n=this.getClosestCoordinate(t,!1),i=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P;this.queryCoord2D(n,i);return _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.distance(i,t)<=e}isIntersectingPoint3D(t,e,n,i,r=1){return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(0),!1}getTangent(t){if(Su(this))return this.getEndXY().sub(this.getStartXY());{const e=cu(this,t),s=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P;return s.setCoords(-this.m_semiMajorAxis*Math.sin(e),this.getSemiMinorAxis()*Math.cos(e)),this.m_rotation&&s.rotateDirect(this.m_cosr,this.m_sinr),s.scale(this.getSweepAngle()),s}}getDerivative(t){if(Su(this))return this.getEndXY().sub(this.getStartXY());{const e=cu(this,t),s=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P;return s.setCoords(-this.m_semiMajorAxis*Math.sin(e),this.getSemiMinorAxis()*Math.cos(e)),this.m_rotation&&s.rotateDirect(this.m_cosr,this.m_sinr),s.scale(this.getSweepAngle()),s}}normalizeAfterEndpointChange(){return!!Lu(this)&&(Su(this)?(Ru(this),!1):zu(this,!1))}projectionBehavior(){return(4&this.m_bits)>>2}setProjectionBehavior(t){this.m_bits=-5&this.m_bits|t<<2}convertToCanonic(t){const e=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P(t.x,t.y);return e.subThis(this.m_center),e.rotateReverse(this.m_cosr,this.m_sinr),e}convertFromCanonic(t){const e=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P(t.x,t.y);return e.rotateDirect(this.m_cosr,this.m_sinr),e.addThis(this.m_center),e}canonicToWorldTransformation(t){t.setRotate(this.m_cosr,this.m_sinr),t.shiftCoords(this.m_center.x,this.m_center.y)}getCurvature(t){const e=cu(this,t),s=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P,n=this.getSemiMinorAxis();s.setCoords(-this.m_semiMajorAxis*Math.sin(e),n*Math.cos(e));const i=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P;i.setCoords(-this.m_semiMajorAxis*Math.cos(e),-n*Math.sin(e)),this.m_rotation&&(s.rotateDirect(this.m_cosr,this.m_sinr),i.rotateDirect(this.m_cosr,this.m_sinr));const r=s.sqrLength();if(0===r)return Number.NaN;const o=Math.sqrt(r);s.divThis(o);return s.crossProduct(i)/r}getMonotonicPartParams(t,s){const n=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.d)(6,Number.NaN);n[0]=0;let i=1;if(this.isDegenerateToLine())n[1]=1,i=2;else{const t=this.getSemiAxes(),e=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.d)(4,Number.NaN);this.m_rotation?(e[0]=Math.atan2(t.y*this.m_cosr,t.x*this.m_sinr),e[1]=e[0]+Math.PI,e[2]=Math.atan2(-t.y*this.m_sinr,t.x*this.m_cosr),e[3]=e[2]+Math.PI):(e[0]=0,e[1]=Math.PI,e[2]=.5*Math.PI,e[3]=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.a1)());for(let s=0;s<4;s++){const t=lu(this,e[s]);t>0&&t<1&&(n[i]=t,i++)}i>2&&(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.Z)(n,i),n[i]=1,i++}if(s){t<i&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.a)("");for(let t=0;t<i;t++)s[t]=n[t]}return i}calculateLowerLength2D(){const t=_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.distance(this.getStartXY(),this.getEndXY());if(this.isDegenerateToLine())return t;const e=Math.abs(this.m_sweepAngle)*this.getSemiMinorAxis();return Math.max(e,t)}calculateUpperLength2D(){const t=_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.distance(this.getStartXY(),this.getEndXY());if(this.isDegenerateToLine())return t;const e=Math.abs(this.m_sweepAngle)*this.getSemiMajorAxis();return Math.max(e,t)}orientBottomUp(){if(this.m_YEnd<this.m_YStart||this.m_YEnd===this.m_YStart&&this.m_XEnd<this.m_XStart){this.m_XEnd=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.c)(this.m_XStart,this.m_XStart=this.m_XEnd),this.m_YEnd=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.c)(this.m_YStart,this.m_YStart=this.m_YEnd);for(let t=0,e=this.m_description.getTotalComponentCount()-2;t<e;t++)this.m_attributes[t+e]=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.c)(this.m_attributes[t],this.m_attributes[t]=this.m_attributes[t+e]);this.m_startAngle=this.m_startAngle+this.m_sweepAngle,this.m_sweepAngle=-this.m_sweepAngle}}isLine(){return Su(this)}copyIgnoreAttributes(t){t.m_XStart=this.m_XStart,t.m_YStart=this.m_YStart,t.m_XEnd=this.m_XEnd,t.m_YEnd=this.m_YEnd,t.m_center.assign(this.m_center),t.m_semiMajorAxis=this.m_semiMajorAxis,t.m_minorMajorRatio=this.m_minorMajorRatio,t.m_interior.assign(this.m_interior),t.m_rotation=this.m_rotation,t.m_cosr=this.m_cosr,t.m_sinr=this.m_sinr,t.m_sweepAngle=this.m_sweepAngle,t.m_startAngle=this.m_startAngle,t.m_bits=this.m_bits,Mu(t)}calculateArea2DHelper(){return Zu(this)}absNorm(){let t=this.getStartXY().norm(1)+this.getEndXY().norm(1);return this.isDegenerateToLine()||(t+=this.m_center.norm(1),t+=this.m_semiMajorAxis),t}queryEnvelopeW(t,e){if(e.setCoords(this.getCoord2D(t.vmin)),e.mergeNe(this.getCoord2D(t.vmax)),Su(this))return;const s=this.getSemiAxes(),n=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.d)(8,Number.NaN);{const t=Math.atan2(-s.y*this.m_sinr,s.x*this.m_cosr),e=t+Math.PI,i=Math.atan2(s.y*this.m_cosr,s.x*this.m_sinr),r=i+Math.PI;n[0]=lu(this,t),n[1]=lu(this,e),n[2]=lu(this,i),n[3]=lu(this,r)}{const t=this.m_cosr+this.m_sinr,e=this.m_cosr-this.m_sinr,i=Math.atan2(-s.y*t,s.x*e),r=i+Math.PI,o=Math.atan2(s.y*e,s.x*t),a=o+Math.PI;n[4]=lu(this,i),n[5]=lu(this,r),n[6]=lu(this,o),n[7]=lu(this,a)}const i=_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.getNAN();for(let r=0;r<8;r++){const s=n[r];t.containsExclusiveCoordinate(s)&&(this.queryCoord2D(s,i),e.mergeNe(i))}}setSegmentFromCoordsForStitcher(t,e){xu(this,t,e)}writeInBufferStream(t,e){const s=new Float64Array(10);return s[0]=this.m_bits,s[1]=this.m_semiMajorAxis,s[2]=this.m_minorMajorRatio,s[3]=this.m_rotation,s[4]=this.m_center.x,s[5]=this.m_center.y,s[6]=this.m_sweepAngle,s[7]=this.m_startAngle,s[8]=this.m_interior.x,s[9]=this.m_interior.y,t.writeRangeFromArray(e,s.length,s,!0,1),e+s.length}readFromBufferStream(t,e){const s=new Float64Array(10);t.queryRange(e,s.length,s,!0,1),this.m_bits=s[0],this.m_semiMajorAxis=s[1],this.m_minorMajorRatio=s[2],this.m_rotation=s[3],this.m_center.x=s[4],this.m_center.y=s[5],this.m_sweepAngle=s[6],this.m_startAngle=s[7],this.m_interior.x=s[8],this.m_interior.y=s[9],this.m_cosr=Math.cos(this.m_rotation),this.m_sinr=Math.sin(this.m_rotation),this.m_cachedValues=null}snapControlPoints(t){return!1}needsSnapControlPoints(t){return!1}calculateSpecialPointsForCracking(t,e){return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.d)("should not1; be called"),0}ensureXYMonotone(){if(Su(this))return!1;if(this.getStartXY().equals(this.getEndXY()))return bu(this,this.getStartXY(),this.getEndXY(),this.projectionBehavior()),!0;const t=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P,3);let e=Bu(this,t);if(Ha(t)){let s=!1;if(0===this.projectionBehavior()){const n=new _Envelope2D_js__WEBPACK_IMPORTED_MODULE_3__.Envelope2D;n.setCoords({pt:t[0]}),n.mergeNe(t[2]);const i=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P;i.setSub(t[2],t[0]),i.leftPerpendicularThis(),i.normalize(),i.scale(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.distance(t[2],t[0]));const r=_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.lerp(t[2],t[0],.5),o=r.sub(i),a=r.add(i);n.clipLine(o,a);const h=_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.getClosestCoordinate(o,a,t[1],!1);t[1]=_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.lerp(o,a,h);const u=t[2].sub(t[1]),m=t[0].sub(t[1]),l=u.crossProduct(m),c=u.dotProduct(m);e=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.T)()-Math.abs(.5*Math.atan2(l,c)),s=!0}return ku(t,e*e,null,s,this),!0}return!1}setCoordsForIntersector(t,e,s){yu(this,t,e,s)}getInteriorPoint(){return this.m_interior.clone()}copyToImpl(t){const e=t;e.m_center.assign(this.m_center),e.m_semiMajorAxis=this.m_semiMajorAxis,e.m_minorMajorRatio=this.m_minorMajorRatio,e.m_interior.assign(this.m_interior),e.m_rotation=this.m_rotation,e.m_cosr=this.m_cosr,e.m_sinr=this.m_sinr,e.m_sweepAngle=this.m_sweepAngle,e.m_startAngle=this.m_startAngle,e.m_bits=this.m_bits,Iu(e,fu(this))}reverseImpl(){Nu(this,!Xu(this)),mu(this),(0!==this.projectionBehavior()||this.getStartXY().equals(this.getEndXY()))&&Hu(this)}equalsImpl(t){const e=t;if(this.m_bits!==e.m_bits)return!1;if(this.m_semiMajorAxis!==e.m_semiMajorAxis)return!1;if(this.m_minorMajorRatio!==e.m_minorMajorRatio)return!1;if(!(this.m_center.isEqualPoint2D(e.m_center)||this.m_center.isNAN()&&e.m_center.isNAN()))return!1;if(this.m_rotation!==e.m_rotation)return!1;if(!this.m_interior.equals(e.m_interior))return!1;const s=e.m_sweepAngle;if(this.m_sweepAngle!==s)return!1;const n=e.m_startAngle;return this.m_startAngle===n}equalsImplTol(t,e){const s=t;if(this.m_bits!==s.m_bits)return!1;if(this.m_center.isNAN()&&s.m_center.isNAN())return!0;if(this.m_center.isNAN()!==s.m_center.isNAN())return!1;if(!this.getSemiAxes().isEqualPoint2D(s.getSemiAxes(),e))return!1;if(!this.m_center.isEqualPoint2D(s.m_center,e))return!1;const n=Math.abs(Ah(wh(Th(this.m_rotation-s.m_rotation)))),i=Math.abs((0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.$)()-n),r=Math.min(n,i);if(this.m_semiMajorAxis*Math.abs(r)>e)return!1;const o=this.getCoord2D(.5),a=s.getCoord2D(.5);return!!o.isEqualPoint2D(a,e)}swapImpl(t){const e=t;this.m_center=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.c)(e.m_center,e.m_center=this.m_center),this.m_semiMajorAxis=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.c)(e.m_semiMajorAxis,e.m_semiMajorAxis=this.m_semiMajorAxis),this.m_minorMajorRatio=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.c)(e.m_minorMajorRatio,e.m_minorMajorRatio=this.m_minorMajorRatio),this.m_interior=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.c)(e.m_interior,e.m_interior=this.m_interior),this.m_rotation=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.c)(e.m_rotation,e.m_rotation=this.m_rotation),this.m_cosr=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.c)(e.m_cosr,e.m_cosr=this.m_cosr),this.m_sinr=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.c)(e.m_sinr,e.m_sinr=this.m_sinr),this.m_sweepAngle=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.c)(e.m_sweepAngle,e.m_sweepAngle=this.m_sweepAngle),this.m_startAngle=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.c)(e.m_startAngle,e.m_startAngle=this.m_startAngle),this.m_bits=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.c)(e.m_bits,e.m_bits=this.m_bits),Yu(this,e)}afterCompletedModification(){Ru(this),Mu(this)}intersect(t,e,s,n,i){return um(!1,this,t,e,s,n,i)}intersectPoint(t,e,s){if(e.length<2&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.q)(""),Su(this)){return new pm({start:this.getStartXY(),end:this.getEndXY()}).intersectPoint(t,e,s)}{const e=_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.distance(t,this.m_center);if(e>this.m_semiMajorAxis+s||e<this.getSemiMinorAxis()-s)return 0}const i=this.getClosestCoordinate(t,!1),r=_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.getNAN();return this.queryCoord2D(i,r),_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.distance(r,t)<=s?(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.N)(i,0,1)&&(this.queryCoord2D(0===i?1:0,r),_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.distance(r,t)<=s)?(e&&(e[0]=0,e[1]=1),2):(e&&(e[0]=i),1):0}isIntersecting(t,e,s){return 0!==rm(!1,this,t,e,s)}endPointModified(){this.m_bits|=8,Mu(this)}clearEndPointModified(){Ru(this)}}function qh(t,e,s){t.isEmpty()&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.u)(""),(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.o)(t);const n=t.getImpl(),i=[];return Lh(n.getPointCount(),i),Rh(Vh(n),i,n.getPointCount(),e)}function Fh(t,e,s,n){const i=[];return Lh(e,i),Rh(t,i,e,s)}function Vh(t){return{at:e=>t.getXY(e)}}function Lh(t,e){e.length=t;for(let s=0;s<e.length;++s)e[s]=s;t>3&&pe(t,e)}function Rh(t,e,s,n,i){let r=0;const o=[0,0,0];let a=0;const h=3;let u=0;for(let m=0;m<h;++m){let i=!1;for(;u<s;){const s=t.at(e[u]);let l=1;if(3===r?l=_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.inCircleRobust(t.at(n[0]),t.at(n[1]),t.at(n[2]),s):2===r?l=_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.inCircleRobust3Point(t.at(n[0]),t.at(n[1]),s):1===r&&s.equals(t.at(n[0]))&&(l=0),l<=0){if(l<0&&m+1<h){e[a]=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.c)(e[u],e[u]=e[a]);for(let t=0;t<r;t++)if(n[t]===e[u]){o[t]=u;break}a++}u++;continue}i=!0;let c=0;for(let t=0;t<r;t++)o[t]>u&&(n[c]=n[t],o[c]=o[t],c++);r=c,n[r]=e[u],o[r]=u,r++,r<3?u=a:(1===_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.orientationRobust(t.at(n[0]),t.at(n[1]),t.at(n[2]))&&(n[2]=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.c)(n[0],n[0]=n[2]),o[2]=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.c)(o[0],o[0]=o[2])),u++)}if(!i)break;if(m+1<h){a=0;let s=!1;for(let t=0;t<r;t++)for(let e=t+1;e<r;e++)o[t]>o[e]&&(o[e]=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.c)(o[t],o[t]=o[e]),n[e]=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.c)(n[t],n[t]=n[e]),s=!0);for(let t=0;t<r;t++)e[o[t]]=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.c)(e[t],e[t]=e[o[t]]),o[t]=t;s&&3===r&&1===_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.orientationRobust(t.at(n[0]),t.at(n[1]),t.at(n[2]))&&(n[2]=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.c)(n[0],n[0]=n[2]),o[2]=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.c)(o[0],o[0]=o[2]))}u=r}return r}function zh(t,e,s,n,i,r){return new jh(0,0,0,null,!1,(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.i)()).densifyEx(t,e,s,n,!1,r)}function Bh(t,s,n,r){return Number.isFinite(s)||(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.a)("replace_all_curves_with_beziers: maxDeviation"),Oh(_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.G.enumBezier,t,s,n)}function kh(t,e,n,r,o,h,u,m){h&&(h.length=0),u&&(u.length=0);const l=t.getGeometryType();if(l===_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.G.enumLine)return h&&(h.push(t.getStartXY()),h.push(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.getNAN()),h.push(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.getNAN()),h.push(t.getEndXY())),u&&(u.push(0),u.push(1)),1;if(l===_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.G.enumBezier){if(!r)return h&&(h.push(t.getStartXY()),h.push(t.getControlPoint1()),h.push(t.getControlPoint2()),h.push(t.getEndXY())),u&&(u.push(0),u.push(1)),1;const e=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.d)(9,Number.NaN);let s=t.getMonotonicPartParams(e.length,e);if(e.length=s,s=Zh(t,n,e),2===s&&o&&(e[1]=.5,e.push(1),s=3),u&&u.splice(0,0,...e.slice(0,s)),h){const n=new fm;for(let i=1;i<s;i++){const s=e[i-1],r=e[i];t.queryCut(s,r,n,!0);const o=n.get();lo(o),1===i&&h.push(o.getStartXY()),h.push(o.getControlPoint1()),h.push(o.getControlPoint2()),h.push(o.getEndXY())}}return s-1}if(l===_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.G.enumEllipticArc){const i=t;if(i.isDegenerateToLine()||i.isDegenerate(0))return h&&(h.push(t.getStartXY()),h.push(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.getNAN()),h.push(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.getNAN()),h.push(t.getEndXY())),u&&(u.push(0),u.push(1)),1;if(r&&(o||!i.isMonotoneQuickAndDirty())){const a=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.d)(6,Number.NaN);let m=i.getMonotonicPartParams(a.length,a);a.length=m,m=Zh(t,n,a),2===m&&o&&(a[1]=.5,a.push(1),m=3);let l=0;if(m>2){const t=new fm,o=u||[];let c=0;for(let g=1;g<m;g++){const d=a[c],_=a[g];if(i.queryCut(d,_,t,!0),t.get().isDegenerate(0))continue;const p=o.length,f=Qh(1===g,t.get(),e,n,r,h,u);(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(f>0),l+=f;const P=g===m-1,y=a[c],x=t.get().getSweepAngle()/i.getSweepAngle();for(let t=p,e=o.length;t<e;t++)if(o[t]=!P||t+1<e?y+o[t]*x:1,h){const e=3*t,s=i.getCoord2D(o[t]);if(h[e].setCoordsPoint2D(s),e>0){co(h.slice(e-3))}}c=g}return l}}return Qh(!0,i,e,n,r,h,u)}if(l===_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.G.enumRationalBezier2){const s=t;if(r&&(o||!s.isMonotoneQuickAndDirty())){const i=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.d)(6,Number.NaN);let r=s.getMonotonicPartParams(i.length,i);i.length=r,r=Zh(t,n,i),2===r&&o&&(i[1]=.5,i.push(1),r=3);let a=0;if(r>2){const t=new fm,o=u||[];for(let m=1;m<r;m++){const l=i[m-1],c=i[m];s.queryCut(l,c,t,!0);const g=o.length;a+=Kh(1===m,t.get(),e,n,!1,h,u);const d=m===r-1,_=i[m-1];for(let t=g,e=o.length;t<e;t++)if(o[t]=!d||t+1<e?_+o[t]:1,h){const e=3*t,n=s.getCoord2D(o[t]);if(h[e].setCoordsPoint2D(n),e>0){Ai(h.slice(e-3))}}}return a}}return Kh(!0,s,e,n,r,h,u)}if(l===_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.G.enumBezier2){const s=t,i=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P,3);s.queryControlPoints(i);const a=new ia;a.constructFromQuadratic(i);const m=kh(a,e,n,r,o,h,u);if(null!=h&&null!=u){const t=3;for(let e=1,n=0;e<m;++e,n+=t){const i=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P;s.queryCoord2D(u[e],i);const o=h[n+t];if(!i.equals(o)&&(h[n+t].setCoordsPoint2D(i),r)){co(h.slice(n,n+4))}}}return m}(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.t)("")}function Gh(t,e,s,n,r,o,h,u){o&&(o.length=0),h&&(h.length=0);const m=t.getGeometryType();if(m===_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.G.enumLine)return o&&(o.push(t.getStartXY()),o.push(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.getNAN()),o.push(t.getEndXY())),h&&(h.push(0),h.push(1)),1;if(m===_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.G.enumBezier2){const e=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.d)(9,Number.NaN);let n=t.getMonotonicPartParams(e.length,e);if(e.length=n,n=Zh(t,s,e),h&&h.splice(0,0,...e.slice(0,n)),o){const s=new fm;for(let i=1;i<n;i++){const n=e[i-1],r=e[i];t.queryCut(n,r,s,!0);const a=s.get();wi(a),1===i&&o.push(a.getStartXY()),o.push(a.getControlPoint1()),o.push(a.getEndXY())}}return n-1}if(m===_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.G.enumEllipticArc){const i=t;if(i.isDegenerateToLine()||i.isDegenerate(0))return o&&(o.push(t.getStartXY()),o.push(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.getNAN()),o.push(t.getEndXY())),h&&(h.push(0),h.push(1)),1;if(!i.isMonotoneQuickAndDirty()){const n=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.d)(6,Number.NaN);let r=i.getMonotonicPartParams(n.length,n);n.length=r,r=Zh(t,s,n);let a=0;if(r>2){const t=new fm,u=h||[];for(let m=1;m<r;m++){const l=n[m-1],c=n[m];i.queryCut(l,c,t,!0);const g=u.length;a+=$h(1===m,t.get(),e,s,!1,o,h);const d=m===r-1,_=n[m-1],p=t.get().getSweepAngle()/i.getSweepAngle();for(let t=g,e=u.length;t<e;t++)if(u[t]=!d||t+1<e?_+u[t]*p:1,o){const e=2*t,s=i.getCoord2D(u[t]);if(o[e].setCoordsPoint2D(s),e>0){Ai(o.slice(e-2))}}}return a}}return Qh(!0,i,e,s,n,o,h)}if(m===_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.G.enumBezier){const i=t;if(!i.isMonotoneQuickAndDirty()){const n=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.d)(6,Number.NaN);let r=i.getMonotonicPartParams(n.length,n);n.length=r,r=Zh(t,s,n);let a=0;if(r>2){const t=new fm,u=h||[];for(let m=1;m<r;m++){const l=n[m-1],c=n[m];i.queryCut(l,c,t,!0);const g=u.length;a+=tu(1===m,t.get(),e,s,!1,o,h);const d=m===r-1,_=n[m-1];for(let t=g,e=u.length;t<e;t++)if(u[t]=!d||t+1<e?_+u[t]:1,o){const e=2*t,s=i.getCoord2D(u[t]);if(o[e].setCoordsPoint2D(s),e>0){Ai(o.slice(e-2))}}}return a}}return tu(!0,i,e,s,n,o,h)}if(m===_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.G.enumRationalBezier2){const i=t;if(!i.isMonotoneQuickAndDirty()){const n=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.d)(6,Number.NaN);let r=i.getMonotonicPartParams(n.length,n);n.length=r,r=Zh(t,s,n);let a=0;if(r>2){const t=new fm,u=h||[];for(let m=1;m<r;m++){const l=n[m-1],c=n[m];i.queryCut(l,c,t,!0);const g=u.length;a+=Jh(1===m,t.get(),e,s,!1,o,h);const d=m===r-1,_=n[m-1];for(let t=g,e=u.length;t<e;t++)if(u[t]=!d||t+1<e?_+u[t]:1,o){const e=2*t,s=i.getCoord2D(u[t]);if(o[e].setCoordsPoint2D(s),e>0){Ai(o.slice(e-2))}}}return a}}return Jh(!0,i,e,s,n,o,h)}(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.t)("")}function Wh(t,e,n,r,o,a,h,u,m){const l=t.getGeometryType();if(a&&(a.length=0,h.length=0),u&&(u.length=0),l===_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.G.enumEllipticArc){const e=t;if(e.isDegenerateToLine()||e.isDegenerate(0))return a&&(a.push(t.getStartXY()),a.push(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.getNAN()),a.push(t.getEndXY()),h.push(Number.NaN),h.push(Number.NaN),h.push(Number.NaN)),u&&(u.push(0),u.push(1)),1}const c=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.d)(9,Number.NaN);let g;if(o)g=t.getMonotonicPartParams(c.length,c),c.length=g,g=Zh(t,n,c);else{if(g=2,c[0]=0,c[1]=1,l===Xh.type){const e=t.getSweepAngle();if(e>.9*Math.PI){const t=2*Math.PI/3;Math.min(3,Math.trunc(e/t+.5))>2?(c[0]=0,c[1]=1/3,c[2]=2/3,c[3]=1,g=4):(c[0]=0,c[1]=.5,c[2]=1,g=3)}}else (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(l===En.type);c.length=g}if(2===g&&r&&(c[1]=.5,c.push(1),g=3),a){const e=new fm;let s=1;for(;s<g;){const n=c[s-1],r=c[s];t.queryCut(n,r,e,!0);const u=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P,3),m=[1,1,1];if(l===_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.G.enumEllipticArc){const t=e.get();if(Math.abs(t.getSweepAngle())>.9*Math.PI){const t=(r-n)/3;c.splice(s,0,n+t),c.splice(s+1,0,n+2*t),g+=2;continue}m[1]=Bu(t,u)}else{const t=e.get();t.queryControlPoints(u),t.queryWeights(m)}o&&Ha(u),1===s&&(a.push(u[0].clone()),h.push(m[0])),a.push(u[1].clone()),a.push(u[2].clone()),h.push(m[1]),h.push(m[2]),s++}}return u&&(u.length=g,(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.b)(u,c,0,0,g)),g-1}Xh.type=_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.G.enumEllipticArc;class jh{static constructDefault(t){return new jh(0,0,0,t,!1,(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.i)())}constructor(t,e,s,n,i,r){this.m_segmentBuffer=null,this.m_dummyPoint=new _Envelope_js__WEBPACK_IMPORTED_MODULE_1__.P,this.m_progressCounter=0,this.m_progressTracker=n,this.m_bSetDensifyFlag=i,this.m_maxLength=t,this.m_maxDeviation=e,this.m_maxAngle=s>(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.T)()?(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.T)():s,this.m_cosMaxAngle=Math.cos(this.m_maxAngle),this.m_bOnlyCurveDensify=this.m_maxAngle>0||this.m_maxDeviation>0,this.m_maxSegmentsPerCurve=r,(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.x)(this.m_maxSegmentsPerCurve>0,"this.m_maxSegmentsPerCurve > 0"),this.m_minStep=1/this.m_maxSegmentsPerCurve}densify(t){return this.densifyGeom(t)}densifySegment(t,e){this.densifySegmentEx(t,null,!0,!1,e)}densifyEx(t,e,s,n,i,r){return this.m_maxLength=e,this.m_maxDeviation=s,this.m_maxAngle=n>(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.T)()?(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.T)():n,this.m_cosMaxAngle=Math.cos(this.m_maxAngle),this.m_bOnlyCurveDensify=this.m_maxAngle>0||this.m_maxDeviation>0,this.m_bSetDensifyFlag=i,this.m_maxSegmentsPerCurve=r,(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.x)(this.m_maxSegmentsPerCurve>0,"this.m_maxSegmentsPerCurve > 0"),this.m_minStep=1/this.m_maxSegmentsPerCurve,this.densifyGeom(t)}densifyGeom(t){if(t.isEmpty()||t.getDimension()<1)return t;const e=t.getGeometryType();return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.j)(e)?t:(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.h)(e)?this.densifyMultiPath(t):(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.f)(e)?this.densifySegmentImpl(t):e===_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.G.enumEnvelope?this.densifyEnvelope(t):void (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.d)("")}densifySegmentEx(t,e,s,n,r){const o=t.getGeometryType();if(!(this.m_maxLength>0||this.m_bOnlyCurveDensify&&o!==_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.G.enumLine)&&(!n||s))return void(e?o===_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.G.enumLine?e.addSegment(t,s):(s&&(t.queryStart(this.m_dummyPoint),e.startPathPoint(this.m_dummyPoint)),t.queryEnd(this.m_dummyPoint),e.lineToPoint(this.m_dummyPoint)):(s&&r.push(0),r.push(1)));if(o===_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.G.enumBezier)return void this.densifyCubicBezier(t,e,s,n,r);if(o===_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.G.enumRationalBezier2)return void this.densifyRationalBezier2(t,e,s,n,r);if(o===_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.G.enumBezier2)return void this.densifyBezier2(t,e,s,n,r);if(o===_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.G.enumEllipticArc&&!t.isLine()&&t.getMinorMajorRatio()<.25)return void this.densifyEllipticArc(t,e,s,n,r);let a=1;this.m_maxLength>0&&(a=this.calculateLengthSubdivisionStep(t,this.m_maxLength)),this.m_maxDeviation>0&&(a=Math.min(a,this.calculateDeviationSubdivisionStep(t,this.m_maxDeviation))),this.m_maxAngle>0&&(a=Math.min(a,this.calculateAngularSubdivisionStep(t,this.m_maxAngle))),this.densifySegmentByLength(t,a,e,s,n,r)}densifyMultiPath(t){if(!t.hasNonLinearSegments()){if(1===t.getDescription().getAttributeCount())return this.densifyMultiPathLinear(t);if(!(this.m_maxLength>0))return t}const e=t.createInstance();if(e.getGeometryType()===_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.G.enumPolygon){e.setFillRule(t.getFillRule())}e.reserve(t.getPointCount());const s=t.getImpl().querySegmentIterator();for(;s.nextPath();){let t=!0;for(;s.hasNextSegment();){const n=s.nextSegment(),i=s.isClosingSegment();this.densifySegmentEx(n,e,t,i,null),i&&e.closePathWithLine(),t=!1}}return e}densifySegmentImpl(t){const e=new Os({vd:t.getDescription()}),s=[0];return this.densifySegmentEx(t,e,!0,!1,s),e}densifyEnvelope(t){const e=new ur({vd:t.getDescription()});e.addEnvelope(t,!1);const s=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_3__.Envelope2D.constructEmpty();t.queryEnvelope(s);const n=s.width(),i=s.height();return!(this.m_maxLength>0)||n<=this.m_maxLength&&i<=this.m_maxLength?e:this.densifyMultiPath(e)}densifyMultiPathLinear(t){if(!(this.m_maxLength>0))return t;const e=t.createInstance();if(e.getGeometryType()===_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.G.enumPolygon){e.setFillRule(t.getFillRule())}e.reserve(t.getPointCount());const s=e.getImpl(),n=t.getImpl(),r=n.getAttributeStreamRef(0),o=new pm;for(let i=0,a=n.getPathCount();i<a;i++){const t=n.isClosedPath(i);if(0===n.getPathSize(i))continue;const a=n.getPathStart(i),h=r.readPoint2D(2*a),u=h.clone();s.startPath(h);for(let m=a+1,l=n.getPathEnd(i);m<l;m++){const t=r.readPoint2D(2*m),n=_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.distance(u,t);if(n>this.m_maxLength){let e=Math.ceil(n/this.m_maxLength);e>(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.i)()&&(e=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.i)());const i=1/e;let r,a,h;u.compare(t)<0?(o.setStartXY(u),o.setEndXY(t),r=0,a=1):(o.setStartXY(t),o.setEndXY(u),r=e-2,a=-1);for(let t=0,n=e-1;t<n;t++,r+=a){this.progress_(),h=i*(r+1);const t=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P;o.queryCoord2D(h,t),s.lineTo(t),this.m_bSetDensifyFlag&&s.setAttributeNoCurves(10,s.getPointCount()-1,0,1)}}else this.progress_();e.lineTo(t),u.assign(t)}if(t){const t=_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.distance(u,h);if(t>this.m_maxLength){const e=h;let n=Math.ceil(t/this.m_maxLength);n>(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.i)()&&(n=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.i)());const i=1/n;let r,a;u.compare(e)<0?(o.setStartXY(u),o.setEndXY(e),r=0,a=1):(o.setStartXY(e),o.setEndXY(u),r=n-2,a=-1);const m=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P(0,0);let l;for(let t=0,h=n-1;t<h;t++,r+=a)this.progress_(),l=i*(r+1),o.queryCoord2D(l,m),s.lineTo(m),this.m_bSetDensifyFlag&&s.setAttributeNoCurves(10,s.getPointCount()-1,0,1)}s.closePathWithLine()}}return e}densifySegmentByLength(t,e,n,r,o,h){(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(t.getGeometryType()!==_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.G.enumBezier);let u=t.getStartXY().compare(t.getEndXY());if(0===u&&e<1){t.getGeometryType()===_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.G.enumEllipticArc?u=t.getSweepAngle()<0?1:-1:(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.t)("densify segment by length")}let m=0;if(r&&(n?(t.queryStart(this.m_dummyPoint),n.startPathPoint(this.m_dummyPoint)):h.push(0),++m),e*this.m_maxSegmentsPerCurve<1&&(e=1/this.m_maxSegmentsPerCurve),e<1){this.m_segmentBuffer||(this.m_segmentBuffer=new fm);let s=Math.ceil(1/e);s>(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.i)()&&(s=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.i)()),e=1/s,this.m_segmentBuffer.create(t.getGeometryType());let i,r,o,a=t;u<0?(i=0,r=1):(t.copyTo(this.m_segmentBuffer.get()),this.m_segmentBuffer.get().reverse(),i=s-2,r=-1,a=this.m_segmentBuffer.get());const l=s-1;for(let t=0;t<l;t++,i+=r)o=e*(i+1),n?(a.queryCoord(o,this.m_dummyPoint),n.lineToPoint(this.m_dummyPoint),this.m_bSetDensifyFlag&&1!==o&&0!==o&&n.setAttribute(10,n.getPointCount()-1,0,1)):h.push(u>0?1-o:o),this.progress_();o=1,m+=l}(!o||o&&r&&m<2)&&(n?(t.queryEnd(this.m_dummyPoint),n.lineToPoint(this.m_dummyPoint)):h.push(1))}densifyCubicBezier(t,e,s,n,i){const r=new ia;let o=t;const a=t.calculateUpperLength2D();let h=t.getStartXY().compare(t.getEndXY());if(0===h&&a>0){const e=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P,4);t.queryControlPoints(e),h=e[1].compare(e[2]),0===h&&(h=e[1].compare(e[0]))}h>0&&(t.copyTo(r),r.reverse(),o=r);let u=0;s&&(e?(t.queryStart(this.m_dummyPoint),e.startPathPoint(this.m_dummyPoint)):i.push(0),++u);const m=[],l=[],c=Math.trunc(Math.log2(this.m_maxSegmentsPerCurve));let g=!0,d=0;if(h>0)for(m.push([o.getStartXY(),o.getControlPoint1(),o.getControlPoint2(),o.getEndXY(),new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P(0,1)]),l.push(0);m.length;){this.progress_();const t=m.at(-1),r=l.at(-1),a=t[4].x,h=t[4].y;if(r<c&&this.bezierNeedsSplit(t)){g&&(d=o.findMinDeriv(),g=!1);let e=.5*(a+h);Math.abs(d-e)<.4*(h-a)&&(e=d);const s=(e-a)/(h-a),n=t[0].mul(1-s).add(t[1].mul(s)),i=t[1].mul(1-s).add(t[2].mul(s)),u=t[2].mul(1-s).add(t[3].mul(s)),c=n.mul(1-s).add(i.mul(s)),_=i.mul(1-s).add(u.mul(s)),p=c.mul(1-s).add(_.mul(s)),f=t[3];t[1]=n,t[2]=c,t[3]=p,t[4].setCoords(a,e);const P=[p,_,u,f,new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P(e,h)];m.push(P),l[l.length-1]=r+1,l.push(r+1)}else m.pop(),l.pop(),(m.length>0||!n||n&&s&&u<2)&&(e?(o.queryCoord(a,this.m_dummyPoint),e.lineToPoint(this.m_dummyPoint),this.m_bSetDensifyFlag&&1!==a&&0!==a&&e.setAttribute(10,e.getPointCount()-1,0,1)):i.push(1-a),++u)}else for(m.push([o.getStartXY(),o.getControlPoint1(),o.getControlPoint2(),o.getEndXY(),new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P(0,1)]),l.push(0);m.length;){this.progress_();const t=m.at(-1),r=l.at(-1),a=t[4].x,h=t[4].y;if(r<c&&this.bezierNeedsSplit(t)){g&&(d=o.findMinDeriv(),g=!1);let e=.5*(a+h);Math.abs(d-e)<.4*(h-a)&&(e=d);const s=(e-a)/(h-a),n=t[0].mul(1-s).add(t[1].mul(s)),i=t[1].mul(1-s).add(t[2].mul(s)),u=t[2].mul(1-s).add(t[3].mul(s)),c=n.mul(1-s).add(i.mul(s)),_=i.mul(1-s).add(u.mul(s)),p=c.mul(1-s).add(_.mul(s)),f=t[0];t[0]=p,t[1]=_,t[2]=u,t[4].setCoords(e,h);const P=[f,n,c,p,new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P(a,e)];m.push(P),l[l.length-1]=r+1,l.push(r+1)}else m.pop(),l.pop(),(m.length>0||!n||n&&s&&u<2)&&(e?(o.queryCoord(h,this.m_dummyPoint),e.lineToPoint(this.m_dummyPoint),this.m_bSetDensifyFlag&&1!==h&&0!==h&&e.setAttribute(10,e.getPointCount()-1,0,1)):i.push(h),++u)}}densifyRationalBezier2(t,e,s,n,i){const r=new En;let o=t;const a=t.calculateUpperLength2D();let h=t.getStartXY().compare(t.getEndXY());0===h&&a>0&&(h=0),h>0&&(t.copyTo(r),r.reverse(),o=r);let u=0;s&&(e?(t.queryStart(this.m_dummyPoint),e.startPathPoint(this.m_dummyPoint)):i.push(0),++u);const m=Math.trunc(Math.log2(this.m_maxSegmentsPerCurve)),l=new En,c=[],g=[];for(c.push(new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.E(0,1)),g.push(0);c.length;){this.progress_();const t=c.at(-1).clone(),r=g.at(-1);if(r<m&&this.rationalBezier2NeedsSplit(o,l,t.vmin,t.vmax)){const e=t.getCenter();h>0?(c.at(-1).vmax=e,c.push(new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.E(e,t.vmax))):(c.at(-1).vmin=e,c.push(new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.E(t.vmin,e))),g[g.length-1]=r+1,g.push(r+1)}else if(c.pop(),g.pop(),c.length>0||!n||n&&s&&u<2){const s=h>0?t.vmin:t.vmax;e?(o.queryCoord(s,this.m_dummyPoint),e.lineToPoint(this.m_dummyPoint),this.m_bSetDensifyFlag&&1!==s&&0!==s&&e.setAttribute(10,e.getPointCount()-1,0,1)):i.push(h>0?1-s:s),++u}}}densifyBezier2(t,e,s,n,i){const r=new wn;let o=t;const a=t.calculateUpperLength2D();let h=t.getStartXY().compare(t.getEndXY());0===h&&a>0&&(h=0),h>0&&(t.copyTo(r),r.reverse(),o=r);let u=0;s&&(e?(t.queryStart(this.m_dummyPoint),e.startPathPoint(this.m_dummyPoint)):i.push(0),++u);const m=Math.ceil(Math.log2(this.m_maxSegmentsPerCurve)),l=new wn,c=[],g=[];for(c.push(new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.E(0,1)),g.push(0);c.length;){this.progress_();const t=c.at(-1).clone(),r=g.at(-1);if(r<m&&this.bezier2NeedsSplit(o,l,t.vmin,t.vmax)){const e=t.getCenter();h>0?(c.at(-1).vmax=e,c.push(new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.E(e,t.vmax))):(c.at(-1).vmin=e,c.push(new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.E(t.vmin,e))),g[g.length-1]=r+1,g.push(r+1)}else if(c.pop(),g.pop(),c.length>0||!n||n&&s&&u<2){const s=h>0?t.vmin:t.vmax;e?(o.queryCoord(s,this.m_dummyPoint),e.lineToPoint(this.m_dummyPoint),this.m_bSetDensifyFlag&&1!==s&&0!==s&&e.setAttribute(10,e.getPointCount()-1,0,1)):i.push(h>0?1-s:s),++u}}}densifyEllipticArc(t,e,s,n,i){const r=new Xh;let o=t;const a=t.calculateUpperLength2D();let h=t.getStartXY().compare(t.getEndXY());0===h&&a>0&&(h=t.isClockwise()?0:1),h>0&&(t.copyTo(r),r.reverse(),o=r);let u=0;s&&(e?(t.queryStart(this.m_dummyPoint),e.startPathPoint(this.m_dummyPoint)):i.push(0),++u);const m=Math.trunc(Math.log2(this.m_maxSegmentsPerCurve)),l=new Xh,c=[],g=[];for(c.push(new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.E(0,1)),g.push(0);c.length;){this.progress_();const t=c.at(-1).clone(),r=g.at(-1);if(r<m&&this.ellipticArcNeedsSplit(o,l,t.vmin,t.vmax)){const e=t.getCenter();h>0?(c.at(-1).vmax=e,c.push(new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.E(e,t.vmax))):(c.at(-1).vmin=e,c.push(new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.E(t.vmin,e))),g[g.length-1]=r+1,g.push(r+1)}else if(c.pop(),g.pop(),c.length>0||!n||n&&s&&u<2){const s=h>0?t.vmin:t.vmax;e?(o.queryCoord(s,this.m_dummyPoint),e.lineToPoint(this.m_dummyPoint),this.m_bSetDensifyFlag&&1!==s&&0!==s&&e.setAttribute(10,e.getPointCount()-1,0,1)):i.push(h>0?1-s:s),++u}}}calculateLengthSubdivisionStep(t,e){const s=t.calculateUpperLength2D();if(!t.isCurve())return s?e/s:1;if(t.getGeometryType()===_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.G.enumEllipticArc){const n=t;if(n.isCircular()||n.isDegenerate(0)||n.isDegenerateToLine()){let t=e/s;return t<this.m_minStep&&(t=this.m_minStep),t}return e/s*n.getSemiAxes().y/n.getSemiAxes().x}t.getGeometryType()===_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.G.enumBezier&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.t)(""),(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.t)("")}calculateDeviationSubdivisionStep(t,e){if(!t.isCurve())return 1;if(t.getGeometryType()===_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.G.enumEllipticArc){const s=t;if(s.isDegenerate(0)||s.isDegenerateToLine())return 1;{const n=s.getSemiMajorAxis(),i=1-e/n;let r=Math.PI/2;if(i>0){const t=4*Math.sqrt(e/n*.5);r=Math.min(Math.PI/2,Math.abs(t))}r=Math.max(r,2*Math.PI/this.m_maxSegmentsPerCurve);const o=r*n;return this.calculateLengthSubdivisionStep(t,o)}}(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.t)("")}calculateAngularSubdivisionStep(t,e){if(!t.isCurve())return 1;if(t.getGeometryType()===_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.G.enumEllipticArc){const s=t;return s.isDegenerate(0)||s.isDegenerateToLine()?1:this.calculateLengthSubdivisionStep(t,e*s.getSemiMinorAxis())}(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.t)("")}rationalBezier2NeedsSplit(t,e,s,n){t.cutBezierIgnoreAttributes(s,n,e);let i=!1;if(this.m_maxLength>0){if(e.calculateUpperLength2D()>this.m_maxLength)return i=!0,!0}const r=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P,3);e.queryControlPoints(r);const o=[0,0,0];return e.queryWeights(o),!i&&this.m_maxDeviation>0&&(i=!jh.checkRationalBezier2MaxDeviation(r,o,this.m_maxDeviation)),!i&&this.m_maxAngle>0&&(i=!jh.checkRationalBezier2MaxAngle(r,o,this.m_cosMaxAngle)),i}bezier2NeedsSplit(t,e,s,n){t.cutBezierIgnoreAttributes(s,n,e);let i=!1;if(this.m_maxLength>0){if(e.calculateUpperLength2D()>this.m_maxLength)return i=!0,!0}const r=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P,3);return e.queryControlPoints(r),!i&&this.m_maxDeviation>0&&(i=!jh.checkBezier2MaxDeviation(r,this.m_maxDeviation)),!i&&this.m_maxAngle>0&&(i=!jh.checkBezier2MaxAngle(r,this.m_cosMaxAngle)),i}ellipticArcNeedsSplit(t,e,s,n){t.cutArcIgnoreAttributes(s,n,e);let i=!1;if(this.m_maxLength>0){if(e.calculateUpperLength2D()>this.m_maxLength)return i=!0,!0}return!i&&this.m_maxDeviation>0&&(i=!jh.checkEllipticArcMaxDeviation(e,this.m_maxDeviation)),!i&&this.m_maxAngle>0&&(i=!jh.checkEllipticArcMaxAngle(e,this.m_cosMaxAngle)),i}bezierNeedsSplit(t){let e=!1;if(this.m_maxLength>0){if(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.distance(t[0],t[1])+_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.distance(t[1],t[2])+_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.distance(t[2],t[3])>this.m_maxLength)return e=!0,!0}return!e&&this.m_maxDeviation>0&&(e=!jh.checkBezierMaxDeviation(t,this.m_maxDeviation)),!e&&this.m_maxAngle>0&&(e=!jh.checkBezierMaxAngle(t,this.m_cosMaxAngle)),e}progress_(){}static checkBezierMaxDeviation(t,e){const s=t[3].sub(t[0]);if(s.sqrLength()>0){const n=s.clone();n.leftPerpendicularThis(),n.normalize();const i=n.dotProduct(t[0].sub(t[1])),r=n.dotProduct(t[0].sub(t[2]));if(Math.max(Math.abs(i),Math.abs(r))<=e){const e=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P;Po(t,.5,e,!1);const n=e.sub(t[0]).dotProduct(s);return n>=0&&n<=s.sqrLength()}return!1}return Math.max(t[0].sub(t[1]).sqrLength(),t[0].sub(t[2]).sqrLength())<=e*e}static checkBezierMaxAngle(t,e){if(t[0].equals(t[3]))return!(!t[0].equals(t[1])||!t[1].equals(t[2]));const s=t[3].sub(t[0]);s.normalize();{const n=t[1].sub(t[0]),i=n.dotProduct(s);if(i<0)return!1;if(n.length()*e>i)return!1}{const n=t[2].sub(t[0]),i=n.dotProduct(s);if(i<0)return!1;if(n.length()*e>i)return!1}{const n=t[2].sub(t[1]),i=n.dotProduct(s);if(i<0)return!1;if(n.length()*e>i)return!1}return!0}static checkRationalBezier2MaxDeviation(t,e,s){if(0===e[1])return!1;const n=t[2].sub(t[0]);if(n.sqrLength()>0){const e=n.clone();e.leftPerpendicularThis(),e.normalize();const i=e.dotProduct(t[0].sub(t[1]));if(Math.abs(i)<=s){const e=t[1].sub(t[0]).dotProduct(n);return e>=0&&e<=n.sqrLength()}return!1}return t[0].sub(t[1]).sqrLength()<=s*s}static checkRationalBezier2MaxAngle(t,e,s){if(0===e[1])return!1;if(t[0].equals(t[2]))return!!t[0].equals(t[1]);const n=t[2].sub(t[0]);n.normalize();{const e=t[1].sub(t[0]),i=e.dotProduct(n);if(i<0)return!1;if(e.length()*s>i)return!1}return!0}static checkBezier2MaxDeviation(t,e){const s=t[2].sub(t[0]);if(s.sqrLength()>0){const n=s.clone();n.leftPerpendicularThis(),n.normalize();const i=n.dotProduct(t[0].sub(t[1]));if(Math.abs(i)<=e){const e=t[1].sub(t[0]).dotProduct(s);return e>=0&&e<=s.sqrLength()}return!1}return t[0].sub(t[1]).sqrLength()<=e*e}static checkBezier2MaxAngle(t,e){if(t[0].equals(t[2]))return!!t[0].equals(t[1]);const s=t[2].sub(t[0]);s.normalize();{const n=t[1].sub(t[0]),i=n.dotProduct(s);if(i<0)return!1;if(n.length()*e>i)return!1}return!0}static checkEllipticArcMaxDeviation(t,e){if(Math.abs(t.getSweepAngle())<Math.PI){const s=t.getEndXY().sub(t.getStartXY()),n=[0,0];if(1===tm(t,s,n)){const s=t.getCoord2D(n[0]),i=_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.getClosestCoordinate(t.getStartXY(),t.getEndXY(),s),r=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P;(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.U)(t.getStartXY(),t.getEndXY(),i,r);return _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.distance(s,r)<=e}}const s=t.getCoord2D(.5),n=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P;(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.U)(t.getEndXY(),t.getStartXY(),.5,n);return _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.distance(s,n)<=e}static checkEllipticArcMaxAngle(t,e){const s=t.getTangent(0),n=t.getTangent(1),i=s.dotProduct(n);return!(i<0)&&!(s.length()*n.length()*e>i)}static checkTypeForReplace(t,e){return t.getGeometryType()===e&&(e!==_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.G.enumEllipticArc||t.isCircular())}}function Zh(t,e,s){const n=s.length;if(e<=0||n<=2)return n;let i=0;const r=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.d)(n-1,Number.NaN);for(let o=1,a=n;o<a;o++){const e=t.tToLength(s[o]);r[o-1]=e-i,i=e}for(;r.length>1;){const t=r.findIndex((t=>t<=2*e));if(-1===t)break;let n=t+1,i=t+1;if(t>0){const e=t-1;(i===r.length||r[e]>r[i])&&(i=e,n--)}r[i]+=r[t],r.splice(t,1),s.splice(n,1)}return s.length}function Hh(t,e,s,n,i){const r=[],o=[],a=kh(e,s,0,n,!1,r,o),h=new ia;let u=i;const m=e.getDescription();h.assignVertexDescription(m);const l=m.getAttributeCount()>1,c=new _Envelope_js__WEBPACK_IMPORTED_MODULE_1__.P,g=new pm;for(let d=0,_=0;d<a;d++){if(r[_+1].isNAN()){if(l){let t=o[d];e.queryCoord(t,c),g.setStart(c),t=o[d+1],e.queryCoord(t,c),g.setEnd(c)}g.setStartXY(r[_]),g.setEndXY(r[_+3]),t.addSegment(g,u)}else{if(l){let t=o[d];e.queryCoord(t,c),h.setStart(c),t=o[d+1],e.queryCoord(t,c),h.setEnd(c)}h.setStartXY(r[_]),h.setControlPoint1(r[_+1]),h.setControlPoint2(r[_+2]),h.setEndXY(r[_+3]),t.addSegment(h,u)}_+=3,u=!1}}function Uh(t,e,s,n,i){const r=[],o=[],a=Gh(e,s,0,n,!1,r,o),h=new wn;let u=i;const m=e.getDescription();h.assignVertexDescription(m);const l=m.getAttributeCount()>1,c=new _Envelope_js__WEBPACK_IMPORTED_MODULE_1__.P,g=new pm;for(let d=0,_=0;d<a;d++){if(r[_+1].isNAN()){if(l){let t=o[d];e.queryCoord(t,c),g.setStart(c),t=o[d+1],e.queryCoord(t,c),g.setEnd(c)}g.setStartXY(r[_]),g.setEndXY(r[_+2]),t.addSegment(g,u)}else{if(l){let t=o[d];e.queryCoord(t,c),h.setStart(c),t=o[d+1],e.queryCoord(t,c),h.setEnd(c)}h.setStartXY(r[_]),h.setControlPoint1(r[_+1]),h.setEndXY(r[_+2]),t.addSegment(h,u)}_+=2,u=!1}}function Oh(t,e,n,r,o){(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(t===_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.G.enumBezier||t===_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.G.enumEllipticArc||t===_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.G.enumBezier2);const a=e.createInstance();a.getGeometryType()===_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.G.enumPolygon&&a.setFillRule(e.getFillRule());const u=e.querySegmentIterator();for(let m=0,l=e.getPathCount();m<l;++m){if(!e.hasNonLinearSegmentsPath(m)){a.addPath(e,m,!0);continue}const o=e.getPathStart(m);let l=!0,c=0;for(u.resetToPath(m),(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(u.nextPath());u.hasNextSegment();){const s=u.nextCurve();if(!s)break;{const g=u.getStartPointIndex()-o,d=g-c;d>0&&(a.addSegmentsFromPath(e,m,c,d,l),l=!1),c=g+1,t===_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.G.enumBezier?Hh(a,s,n,r,l):t===_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.G.enumBezier2?Uh(a,s,n,r,l):(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.d)(""),l=!1}}const g=e.getSegmentCountPath(m);g-c!==0&&a.addSegmentsFromPath(e,m,c,g-c,l)}return a}function Qh(t,e,s,n,i,r,o,a){const h=e.clone();h.dropAllAttributes();const u=(t,e,s,n)=>(e&&(t&&e.push(n.getStartXY()),e.push(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.getNAN()),e.push(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.getNAN()),e.push(n.getEndXY())),s&&(t&&s.push(0),s.push(1)),1);if(h.isDegenerateToLine()||h.isDegenerate(0))return u(t,r,o,e);const m=h.getStartXY(),l=h.getEndXY(),c=h.getSemiAxes(),g=new _Transformation2D_js__WEBPACK_IMPORTED_MODULE_4__.T;if(h.isCircular())g.setIdentity();else{const t=h.getAxisXRotation();g.setScaleCoords(1,h.getMinorMajorRatio()),g.rotateAngle(t)}const d=h.getCenter();g.shift(d);const _=g.clone();_.invertThis(),h.applyTransformation(_);const p=h.getSweepAngle();if(0===p)return u(t,r,o,e);const f=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_3__.Envelope2D.constructEmpty();f.setCoords({center:d,width:2*c.x,height:2*c.x});const P=.05*f.calculateToleranceFromEnvelope(),y=Math.max(s/c.x,P/c.x);let x=4*Math.pow(y/.0741,1/6);x=Math.min(x,Math.PI/2);const C=Ih(h.getStartAngle());let v=p>0?Math.floor(C/x):Math.ceil(C/x);v*=x;const b=p>0?x:-x;v+b===C&&(v+=b);let S=4/3*Math.tan(Math.abs(x)/4);p>0&&(S=-S),o&&t&&o.push(0);const E=x/Math.abs(p);let D=(v-C)/p;const w=m.clone(),A=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P;h.queryCoord2D(0,A);const T=A.clone(),I=1-.01*E;let M=0,Y=0;for(;D<1;){let s;if(D+=E,Y>0&&D<I)s=S;else{D>=I&&(D=1);const t=(D-Y)*p;s=4/3*Math.tan(Math.abs(t)/4),p>0&&(s=-s)}h.queryCoord2D(D,A);const a=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P;g.queryTransform(A,a);const u=e.getClosestCoordinate(a,!1);if(e.queryCoord2D(u,a),1!==D&&(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.distance(w,a)<=2*n||_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.distance(a,l)<=2*n))continue;w.setCoordsPoint2D(a);const c=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P,4);c[0].assign(T),c[3].assign(A),c[1].rightPerpendicularOther(T),c[1].scaleAddThis(s,T),c[2].leftPerpendicularOther(A),c[2].scaleAddThis(s,A),g.transformPoints2D(c,3,c),c[3].assign(a),0===Y&&c[0].setCoordsPoint2D(m),1===D&&c[3].setCoordsPoint2D(l),i&&co(c);let d=!0;for(let t=1;t<4;t++)if(!c[t].isEqualPoint2D(c[0])){d=!1;break}d||(o&&o.push(u),r&&(0===Y&&t&&r.push(c[0].clone()),r.push(c[1].clone()),r.push(c[2].clone()),r.push(c[3].clone())),M++),Y=D,T.setCoordsPoint2D(A)}return M}function Jh(t,e,s,n,i,r,o,a){e.clone().dropAllAttributes();const h=new _Envelope2D_js__WEBPACK_IMPORTED_MODULE_3__.Envelope2D;e.queryLooseEnvelope(h);const u=.05*h.calculateToleranceFromEnvelope(),m=Math.max(s,u);o&&t&&o.push(0);let l=0;const c=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P,3);e.queryControlPoints(c);const g=[0,0,0];e.queryWeights(g);const d=[],_=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.d)(9,Number.NaN);let p=e.getMonotonicPartParams(_.length,_);_.length=p,p=Zh(e,n,_);let f=0,P=t;for(let y=1;y<p;y++){const t=_[y];for(d.push(f),d.push(t);d.length>1;){const t=d.at(-1);d.pop();const e=d.at(-1),s=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P,3);Qa(c,g,t,e,s,[0,0,0]);const n=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P,3),i=Ji(s,g,n),a=16,h=d.length>a;m>=i||h?(o.push(e),r&&(P&&(r.push(n[0]),P=!1),r.push(n[1]),r.push(n[2])),l++):(d.push(.5*(t+e)),d.push(t))}f=t}return l}function Kh(t,e,s,n,i,r,o,a){e.clone().dropAllAttributes();const h=new _Envelope2D_js__WEBPACK_IMPORTED_MODULE_3__.Envelope2D;e.queryLooseEnvelope(h);const u=.05*h.calculateToleranceFromEnvelope(),m=Math.max(s,u);o&&t&&o.push(0);let l=0;const c=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P,3);e.queryControlPoints(c);const g=[0,0,0];e.queryWeights(g);const d=[],_=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.d)(9,Number.NaN);let p=0;i?(p=e.getMonotonicPartParams(_.length,_),_.length=p,p=Zh(e,n,_)):(_.length=2,p=2,_[0]=0,_[1]=1);let f=0,P=t;for(let y=1;y<p;y++){const t=_[y];for(d.length=0,d.push(t),d.push(f);d.length>1;){const t=d.at(-1);d.pop();const e=d.at(-1),s=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P,3),n=[0,0,0];Qa(c,g,t,e,s,n);const i=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P,4),a=Ja(s,n,i),h=16,u=d.length>h;m>=a||u?(o.push(e),r&&(P&&(r.push(i[0]),P=!1),r.push(i[1]),r.push(i[2]),r.push(i[3])),l++):(d.push(.5*(t+e)),d.push(t))}f=t}return l}function $h(t,e,s,n,i,r,o,a){const h=e.clone();if(h.dropAllAttributes(),h.isDegenerateToLine()||0===h.getSweepAngle())return r&&(t&&r.push(e.getStartXY()),r.push(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.getNAN()),r.push(e.getEndXY())),o&&(t&&o.push(0),o.push(1)),1;const u=h.getStartXY(),m=h.getEndXY(),l=h.getSemiAxes(),c=new _Transformation2D_js__WEBPACK_IMPORTED_MODULE_4__.T;if(h.isCircular())c.setIdentity();else{const t=h.getAxisXRotation();c.setScaleCoords(1,h.getMinorMajorRatio()),c.rotateAngle(t)}const g=h.getCenter();c.shift(g);const d=c.clone();d.invertThis(),h.applyTransformation(d);const _=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_3__.Envelope2D.constructEmpty();_.setCoords({center:g,width:2*l.x,height:2*l.x});const p=.05*_.calculateToleranceFromEnvelope(),f=Math.max(s/l.x,p/l.x),P=Math.sqrt(2*f+f*f);let y=2*Math.sqrt(2*P*(1+f-P));y=Math.min(y,Math.PI/2);const x=h.getSweepAngle(),C=Math.ceil(Math.abs(x)/y),v=Math.max(C,1);y=x/v;const b=1/v;let S=Math.tan(Math.abs(y)/2);x>0&&(S=-S),o&&t&&o.push(0);const E=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P;h.queryCoord2D(0,E);for(let D=0;D<v;D++){const e=E.clone(),s=(D+1)*b;if(o&&o.push(s),!r)continue;h.queryCoord2D(s,E);const n=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P,3);n[0].assign(e),n[2].assign(E),n[1].rightPerpendicularOther(n[0]),n[1].mulThis(S),n[1].addThis(n[0]),c.transformPoints2D(n,3,n),0===D&&n[0].setCoordsPoint2D(u),D===v-1&&n[2].setCoordsPoint2D(m),0===D&&t&&r.push(n[0]),r.push(n[1]),r.push(n[2])}return v}function tu(t,e,s,n,i,r,o,a){e.clone().dropAllAttributes();const h=new _Envelope2D_js__WEBPACK_IMPORTED_MODULE_3__.Envelope2D;e.queryLooseEnvelope(h);const u=.05*h.calculateToleranceFromEnvelope(),m=Math.max(s,u);o&&t&&o.push(0);let l=0;const c=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P,4);e.queryControlPoints(c);const g=[],d=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.d)(9,Number.NaN);let _=e.getMonotonicPartParams(d.length,d);d.length=_,_=Zh(e,n,d);let p=0,f=t;for(let P=1;P<_;P++){const t=d[P];for(g.push(p),g.push(t);g.length>1;){const t=g.at(-1);g.pop();const e=g.at(-1),s=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P,4);fo(c,t,e,s);const n=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P,3),i=Qi(s,n),a=16,h=g.length>a;m>=i||h?(o.push(e),r&&(f&&(r.push(n[0]),f=!1),r.push(n[1]),r.push(n[2])),l++):(g.push(.5*(t+e)),g.push(t))}p=t}return l}function eu(){return{e2:0,completeE:0}}class su{constructor(t,e){this.m_arc=t,this.m_sqrChordLength=e}getMaxDerivative(){return 1}getValue(t,e){return 0===t?_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.sqrDistance(this.m_arc.getCoord2D(e),this.m_arc.getCoord2D(1-e))-this.m_sqrChordLength:0}getError(t){return 0}}function nu(t,e,s){if(Su(t)){Cs(new pm({start:t.getStartXY(),end:t.getEndXY()}),e,s)}else if(0===e.value())s.set(t.getStartXY());else if(1===e.value())s.set(t.getEndXY());else{const n=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.H;gu(t,e,n);const i=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.H,r=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.H;_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.H.st_cosAndSin(n,i,r);const o=Ye.constructCoordsE(new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.H(t.m_semiMajorAxis).mulThisE(i),new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.H(t.m_semiMajorAxis).mulThis(t.m_minorMajorRatio).mulThisE(r)),a=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.H(t.m_rotation);_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.H.st_cosAndSin(a,i,r),o.rotateDirect(i,r),o.addThisE(Ye.constructPoint2D(t.m_center)),s.setE(o)}}function iu(t,e){return t.convertToCanonic(e)}function ru(t,e){const s=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.E(t.getStartAngle(),t.getEndAngle());s.normalize();const n=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.a9)(),i=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.n)(e,n);if(i<s.vmin){let t=i+n;for(;t<s.vmin;)t+=n;return s.containsCoordinate(t)?t:s.vmin-i<t-s.vmax?i:t}if(i>s.vmax){let t=i-n;for(;t>s.vmax;)t-=n;return s.containsCoordinate(t)||s.vmin-t<i-s.vmax?t:i}return i}function ou(t,e,s,n){let i=t.m_startAngle,r=t.m_sweepAngle;const o=1e-12;for(;i>(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.$)();)i-=2*(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.$)();for(;i<=-(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.$)();)i+=2*(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.$)();if(!Number.isNaN(e)){for(;e>(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.$)();)e-=2*(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.$)();for(;e<=-(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.$)();)e+=2*(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.$)();!s&&e>i&&(e-=2*(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.$)()),s&&e<i&&(e+=2*(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.$)()),r=e-i,Math.abs(r)<o&&!n&&(r=s?2*(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.$)():-2*(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.$)()),Math.abs(r)>2*(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.$)()-o&&n&&(r=0)}Math.abs(r)>2*(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.$)()-o&&(r=r>=0?2*(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.$)():-2*(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.$)(),t.setEndXY(t.getStartXY())),Math.abs(r)<o&&(r=0,t.setEndXY(t.getStartXY())),n=Math.abs(r)<=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.$)(),r&&(s=r>0),t.m_startAngle=au(i),t.m_sweepAngle=r,qu(t,!n),Nu(t,s)}function au(t){let e=t,s=!1;return e<=-(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.$)()?(e+=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.a9)(),s=!0):e>(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.$)()&&(e-=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.a9)(),s=!0),e<=-(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.$)()?(e=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.n)(e,(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.a9)()),e<=-(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.$)()&&(e+=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.a9)()),s=!0):e>(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.$)()&&(e=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.n)(e,(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.a9)()),e>(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.$)()&&(e-=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.a9)()),s=!0),s&&(e>(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.$)()||e<=-(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.$)())&&(e=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.$)()),e}function hu(t,e,s){const n=s,i=n.getSemiAxes();let r=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P(i.x*Math.cos(t[0]),i.y*Math.sin(t[0]));return r=n.convertFromCanonic(r),_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.sqrDistance(r,n.getStartXY())}function uu(t,e,s){const n=s,i=n.getSemiAxes(),r=t[0]+n.getStartAngle();let o=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P(i.x*Math.cos(r),i.y*Math.sin(r));return o=n.convertFromCanonic(o),_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.sqrDistance(o,n.getEndXY())}function mu(t){if(t.m_center.isNAN())return t.m_startAngle=0,void(t.m_sweepAngle=0);const e=t.getStartXY(),s=t.getEndXY(),n=e.equals(s),i=Fu(t),r=Xu(t),o=t.projectionBehavior();if(n){const s=t.convertToCanonic(e),n=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P(t.m_semiMajorAxis,t.m_semiMajorAxis*t.m_minorMajorRatio);s.x/=n.x,s.y/=n.y,t.m_startAngle=au(Math.atan2(s.y,s.x)),t.m_sweepAngle=i?r?(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.a9)():-(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.a9)():0}else{const n=t.convertToCanonic(e),a=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P(t.m_semiMajorAxis,t.m_semiMajorAxis*t.m_minorMajorRatio);n.x/=a.x,n.y/=a.y;const h=t.convertToCanonic(s);h.x/=a.x,h.y/=a.y,t.m_startAngle=Math.atan2(n.y,n.x),t.m_sweepAngle=_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.calculateAngle(n,h),r?t.m_sweepAngle<0&&(t.m_sweepAngle+=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.a9)()):t.m_sweepAngle>0&&(t.m_sweepAngle-=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.a9)()),t.m_startAngle=au(t.m_startAngle);let u=hu([t.m_startAngle],1,t);if(u=Math.sqrt(u),u>.25*is(t)){const e=t.m_startAngle-1e-4,s=t.m_startAngle+1e-4,n=[0];rn(hu,t,1,[t.m_startAngle],[e],[s],1e-14,n),t.m_startAngle=au(n[0])}if(u=uu([t.m_sweepAngle],1,t),u=Math.sqrt(u),u>.25*is(t)){const e=t.m_sweepAngle-1e-4,s=t.m_sweepAngle+1e-4,n=[0];rn(uu,t,1,[t.m_sweepAngle],[e],[s],1e-14,n),t.m_sweepAngle=n[0]}const m=Math.abs(t.m_sweepAngle)>(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.$)();if(qu(t,m),i!==m&&!i&&Math.abs(t.m_sweepAngle)>1.5*(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.$)())return void bu(t,e,s,o);if(0===t.m_sweepAngle||r!==t.m_sweepAngle>0)return void bu(t,e,s,o)}}function lu(t,e){return(ru(t,e)-t.getStartAngle())/t.getSweepAngle()}function cu(t,e){return t.m_startAngle+e*t.m_sweepAngle}function gu(t,e,s){s.assign(new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.H(t.m_startAngle).addE(e.mulE(new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.H(t.m_sweepAngle))))}function du(t,e){const s=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.H(t.m_cosr).sqrThis(),n=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.H(t.m_sinr).sqrThis(),i=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.H(t.m_minorMajorRatio),r=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.H(1/t.m_minorMajorRatio),o=i.mulE(s).addThisE(r.mulE(n)),a=i.subE(r).mulThis(2*t.m_cosr*t.m_sinr),h=i.mulE(n).addThisE(r.mulE(s));e[0]=o,e[1]=a,e[2]=h,e[3]=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.H(-t.m_semiMajorAxis).mulThis(t.m_semiMajorAxis).mulThis(t.m_minorMajorRatio)}function _u(t,e){const s=new Ne;s.a11.setE(t[0]),s.a12=_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.H.st_mulByPower2(t[1],.5),s.a21.setE(s.a12),s.a22.setE(t[2]);const n=[_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.getNAN(),_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.getNAN()],i=[new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.H,new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.H];s.eigenSymmetric(i,n);const r=t[3].clone();r.negateThis(),r.invThis(),i[0].mulThisE(r),i[1].mulThisE(r),i[0].sqrtThis().invThis(),i[1].sqrtThis().invThis(),e.x=i[0].toDouble(),e.y=i[1].toDouble();return Math.atan2(n[0].y,n[0].x)}function pu(t,e,s){if(Su(t))return(s-e)*_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.distance(t.getStartXY(),t.getEndXY());if(1===t.m_minorMajorRatio)return Math.abs(t.getSweepAngle()*(e-s))*t.m_semiMajorAxis;const n=Eu(t,e);return Eu(t,s)-n}function fu(t){return t.m_cachedValues}function Pu(t){if(t.m_cachedValues)return t.m_cachedValues;const e=eu();return e.e2=Cu(t),e.completeE=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.af)(e.e2),t.m_cachedValues=e,e}function yu(t,e,s,n){if(!e.isEqual(t.m_XStart,t.m_YStart)||!s.isEqual(t.m_XEnd,t.m_YEnd)){if(Su(t))return t.m_XStart=e.x,t.m_YStart=e.y,t.m_XEnd=s.x,t.m_YEnd=s.y,Hu(t),void t.afterCompletedModification();if(n&&Math.abs(t.getSweepAngle())<=1.01*(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.T)()){const n=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P,3),i=Bu(t,n);if(ja(n)){n[0].assign(e),n[2].assign(s),Ha(n);if(0===t.projectionBehavior()){let e=0,s=2;_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.sqrDistance(n[1],n[0])<_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.sqrDistance(n[1],n[2])&&(s=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.c)(e,e=s));const i=n[s].sub(n[e]),r=i.length();i.divThis(r);const o=n[1].sub(n[e]),a=o.length(),h=o.dotProduct(i)/a,u=o.crossProduct(i)/a,m=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P;(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.U)(n[e],n[s],.5,m);const l=.5*r/u*(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.s)(1-h,0,1),c=n[1].side(n[e],n[s]),g=i.clone();c?g.leftPerpendicularThis():g.rightPerpendicularThis();const d=m.sub(g.mul(l));t.constructCircularArcThreePoint(n[0],n[2],d)}else ku(n,i*i,null,!1,t);return}}0===t.projectionBehavior()?nm(t,e,s):im(t,e,s)}}function xu(t,e,s){const n=0===t.projectionBehavior();if(s<=2)return void bu(t,e[0],e[s-1],n?0:1);if(n){t.constructCircularArcThreePoint(e[0],e[s-1],e[Math.trunc(s/2)]);const n=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P;return t.queryCoord2D(.5,n),void t.m_interior.setCoordsPoint2D(n)}const i=t.getSemiMajorAxis(),r=t.getMinorMajorRatio(),o=t.getAxisXRotation(),a=t.getCenter(),h=new Array(4);h[0]=t.isMajor(),h[1]=!h[0],h[2]=h[0],h[3]=!h[0];const u=new Array(4);u[0]=t.isClockwise(),u[1]=u[0],u[2]=!u[0],u[3]=!u[0];const m=Math.trunc(s<5?1:(s+4)/5),l=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(Xh,4),c=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.d)(4,Number.NaN);let g=0;for(let d=0;d<4;d++){l[d].constructEllipticArcEndPointsCenter(e[0],e[s-1],i,r,o,h[d],u[d],a),c[d]=0;let t=0;for(let n=m;n<s-1;n+=m){const s=l[d].getClosestCoordinate(e[n],!1);c[d]+=_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.sqrDistance(l[d].getCoord2D(s),e[n]),t++}c[d]/=t,c[d]<c[g]&&(g=d)}t.assignCopy(l[g])}function Cu(t){return 1-(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.a)(t.m_minorMajorRatio)}function vu(t,e,s,n,i,r,o,a,h){return t.m_bits=0,t.m_rotation=r,We(t,e),Ze(t,s),t.m_cosr=Math.cos(r),t.m_sinr=Math.sin(r),qu(t,o),Nu(t,a),void 0!==h?t.m_center.assign(h):t.m_center.setNAN(),t.setProjectionBehavior(1),t.m_semiMajorAxis=n,t.m_minorMajorRatio=i,zu(t,void 0===h)}function bu(t,e,s,n){t.m_bits=0,t.m_rotation=0,We(t,e),Ze(t,s),t.m_interior.assign(e.add(s).mul(.5)),t.m_startAngle=0,t.m_sweepAngle=0,t.m_cosr=1,t.m_sinr=0,qu(t,!1),Nu(t,!1),t.m_center.setNAN(),t.m_semiMajorAxis=1,t.m_minorMajorRatio=0,t.setProjectionBehavior(n),t.afterCompletedModification()}function Su(t){return t.m_center.isNAN()}function Eu(t,e){if(0===e)return 0;const s=Pu(t),n=cu(t,e),i=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.T)(),r=wu(t),o=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.aa)(n+i,s.e2,s.completeE),a=t.m_semiMajorAxis*(o-r);return Math.abs(a)}function Du(t,e){if(Su(t)){const s=_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.distance(t.getStartXY(),t.getEndXY());return 0===s?0:e/s}if(1===t.m_minorMajorRatio){const s=Math.abs(t.getSweepAngle()*t.m_semiMajorAxis);return 0===s?0:e/s}if(0===e)return 0;const s=t.getSweepAngle();if(0===s)return.5;const n=Pu(t),i=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.T)(),r=wu(t);s<0&&(e=-e);const o=e/t.m_semiMajorAxis+r;let a=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.ab)(o,n.e2,n.completeE);a-=i,a-=t.getStartAngle();return a/s}function wu(t){const e=Pu(t);return (0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.aa)(t.getStartAngle()+(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.T)(),e.e2,e.completeE)}function Au(t,e,n,i,r){if(2===e.m_TransformationType)return void (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(0);if((0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(!Lu(t)),e.isIdentity()&&(!i||i.equals(t.getStartXY())&&r.equals(t.getEndXY())))return;Mu(t);let o=_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.getNAN(),a=_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.getNAN();if(null===i?(o.x=t.m_XStart,o.y=t.m_YStart,e.transformInPlace(o),a.x=t.m_XEnd,a.y=t.m_YEnd,e.transformInPlace(a)):(o=i,a=r),Su(t))return t.m_XStart=o.x,t.m_YStart=o.y,t.m_XEnd=a.x,void(t.m_YEnd=a.y);const h=t.m_center.clone();if(e.transformInPlace(h),n||e.isUniformNoRotation()){let s=Xu(t);e.isReflective()&&(s=!s);if(0===t.projectionBehavior()){if(!o.equals(a)){const s=t.m_interior.clone();return e.transformInPlace(s),void t.constructCircularArcThreePoint(o,a,s)}return void Tu(t,o,a,h,s,!1)}const n=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P(t.m_cosr,t.m_sinr);e.transformWithoutTranslateInPlace(n);const i=Math.atan2(n.y,n.x),r=t.getSemiAxes();e.transformWithoutTranslateInPlace(r);const u=t.m_center.clone();return e.transformInPlace(u),void t.constructEllipticArcEndPointsCenter(o,a,r.x,r.y/r.x,i,t.isMajor(),s,u)}{{const s=new Array(4);du(t,s);const n=new Ne;n.a11.setE(s[0]),n.a12.setE(s[1]),n.a12.mulThisByPower2(.5),n.a21.setE(n.a12),n.a22.setE(s[2]);if(!n.det().isZero()){const i=new Ne;if(i.a11.set(e.xx),i.a12.set(e.xy),i.a21.set(e.yx),i.a22.set(e.yy),i.invertThis()){const r=i.clone();r.transposeThis();const u=n.clone();u.mulThis(i),u.mulLeftThis(r);if(!u.det().isZero()){const n=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.H,4);n[0].setE(u.a11),n[1].setE(u.a12),n[1].mulThisByPower2(2),n[2].setE(u.a22),n[3].setE(s[3]);const i=_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.getNAN(),r=_u(n,i);let m=Xu(t);return e.isReflective()&&(m=!m),void t.constructEllipticArcEndPointsCenter(o,a,i.x,i.y/i.x,r,t.isMajor(),m,h)}}}}const s=[_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.getNAN(),_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.getNAN(),_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.getNAN()];s[0].setCoords(t.getSemiMajorAxis(),0),s[0].rotateDirect(t.m_cosr,t.m_sinr),s[1].setCoords(t.getSemiMajorAxis(),t.getSemiMinorAxis()),s[1].rotateDirect(t.m_cosr,t.m_sinr),s[2].setCoords(0,t.getSemiMinorAxis()),s[2].rotateDirect(t.m_cosr,t.m_sinr);let n=t.isClockwise();n&&(s[2]=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.c)(s[0],s[0]=s[2]));const i=.5;e.transformWithoutTranslateArray(s,3,s),e.isReflective()&&(n=!n);const r=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P(0,0),u=t.createInstance();ku(s,i,r,!1,u),t.constructEllipticArcEndPointsCenter(o,a,u.getSemiMajorAxis(),u.getMinorMajorRatio(),u.getAxisXRotation(),t.isMajor(),!n,h)}}function Tu(t,e,s,n,i,r){const o=.5*(n.sub(e).length()+n.sub(s).length());t.m_center.assign(n),t.m_startAngle=Math.atan2(e.y-t.m_center.y,e.x-t.m_center.x);ou(t,Math.atan2(s.y-t.m_center.y,s.x-t.m_center.x),i,r);const a=t.constructEllipticArcEndPointsCenter(e,s,o,1,0,Math.abs(t.m_sweepAngle)>Math.PI,t.m_sweepAngle>0,n);return t.setProjectionBehavior(0),a}function Iu(t,e){t.m_cachedValues=e}function Mu(t){t.m_cachedValues=null}function Yu(t,e){e.m_cachedValues=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.c)(t.m_cachedValues,t.m_cachedValues=e.m_cachedValues)}function Nu(t,e){const s=e?1:0;t.m_bits=-2&t.m_bits|s}function Xu(t){return!!(1&t.m_bits)}function qu(t,e){const s=e?1:0;t.m_bits=-3&t.m_bits|s<<1}function Fu(t){return!!(2&t.m_bits)}function Vu(t){if(t.m_center.isNAN())return!1;const e=8,s=new Ye;s.setWithEps(t.getStartXY(),e),s.subThisE((new Ye).setWithEps(t.m_center,e));const n=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.H;n.setWithEps(t.m_rotation,e);const i=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.H,r=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.H;_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.H.st_cosAndSin(n,i,r),s.rotateReverse(i,r);const o=new Ye;o.setWithEps(t.getEndXY()),o.subThisE(Ye.constructPoint2D(t.m_center)),o.rotateReverse(i,r);const a=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.H;a.setWithEps(t.m_semiMajorAxis,e);const h=a.clone(),u=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.H;u.setWithEps(t.m_minorMajorRatio),h.mulThisE(u),s.x.divThisE(a),s.y.divThisE(h),o.x.divThisE(a),o.y.divThisE(h);const m=s.x.sqr().addThisE(s.y.sqr()).subThisE(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.I),l=o.x.sqr().addThisE(o.y.sqr()).subThisE(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.I);return!m.isZero()||!l.isZero()}function Lu(t){return!!(8&t.m_bits)}function Ru(t){t.m_bits&=-9}function zu(t,e){Ru(t);const n=t.getStartXY(),i=t.getEndXY();let r=!1;const o=Fu(t),a=Xu(t),h=t.projectionBehavior(),u=n.equals(i);let m=0===t.m_minorMajorRatio||0===t.m_semiMajorAxis;if(Number.isNaN(t.m_minorMajorRatio)&&(0===t.m_semiMajorAxis?t.m_minorMajorRatio=1:(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.n)("NAN minor major ratio and non-zero major axis")),m||=e?u:t.m_center.isNAN(),m)return bu(t,n,i,h),!0;t.m_semiMajorAxis=Math.abs(t.m_semiMajorAxis),t.m_minorMajorRatio=Math.abs(t.m_minorMajorRatio),t.m_minorMajorRatio>1&&(t.m_semiMajorAxis*=t.m_minorMajorRatio,t.m_minorMajorRatio=1/t.m_minorMajorRatio);const l=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P(t.m_semiMajorAxis,t.m_semiMajorAxis*t.m_minorMajorRatio);if((0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(l.y>0&&l.x>=l.y),u){const e=t.convertToCanonic(n);(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(!l.isZero()),e.x/=l.x,e.y/=l.y;const i=Math.sqrt((0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.a)(e.x)+(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.a)(e.y));if(r=1!==i,t.m_semiMajorAxis*=i,l.mulThis(i),t.m_startAngle=au(Math.atan2(e.y,e.x)),!o)return t.m_interior.assign(n),t.m_sweepAngle=0,t.afterCompletedModification(),r;t.m_sweepAngle=a?(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.a9)():-(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.a9)()}else{let e=t.m_center.isNAN()||Vu(t);if(!e){const s=t.convertToCanonic(n);s.x/=l.x,s.y/=l.y;const r=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P(1,0);t.m_startAngle=_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.calculateAngle(r,s);const o=t.convertToCanonic(i);o.x/=l.x,o.y/=l.y,t.m_sweepAngle=_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.calculateAngle(s,o),e=!Wu(t)}if(e){r=!0;const e=n.sub(i).mulThis(.5);e.rotateReverse(t.m_cosr,t.m_sinr);let s=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.a)(e.x/l.x)+(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.a)(e.y/l.y);s>1&&(s=Math.sqrt(s),t.m_semiMajorAxis*=s,l.mulThis(s));const h=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P(0,0);{const t=l.x*l.x,s=l.y*l.y,n=t*e.y*e.y+s*e.x*e.x,i=t*s-n;if(i>0){const t=Math.sqrt(i/n);h.setCoords(l.x*e.y/l.y,-l.y*e.x/l.x),h.mulThis(t),o===a&&h.negateThis()}}{const e=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P(h.x,h.y);e.rotateDirect(t.m_cosr,t.m_sinr),e.addThis(n.add(i).mulThis(.5)),t.m_center.assign(e)}}if(mu(t),!Wu(t))return bu(t,n,i,h),!0}return Hu(t),t.afterCompletedModification(),r}function Bu(t,e){(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(Math.abs(t.getSweepAngle())<15*Math.PI/16);const n=t.getSemiMajorAxis(),i=t.getSemiMinorAxis();let r;if(0===n)return e[0].setCoordsPoint2D(t.getStartXY()),e[1].setCoordsPoint2D(t.getStartXY()),e[2].setCoordsPoint2D(t.getStartXY()),r=1,r;if(0===i)return e[0].setCoordsPoint2D(t.getStartXY()),e[2].setCoordsPoint2D(t.getEndXY()),e[1]=_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.lerp(e[0],e[2],.5),r=1,r;const o=t.getSweepAngle(),a=t.getStartAngle(),h=a+o,u=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P(-n*Math.sin(a),i*Math.cos(a)),m=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P(-n*Math.sin(h),i*Math.cos(h));u.normalize(),m.normalize(),u.rotateDirect(t.m_cosr,t.m_sinr),m.rotateDirect(t.m_cosr,t.m_sinr),e[0].setCoordsPoint2D(t.getStartXY()),e[2].setCoordsPoint2D(t.getEndXY()),e[1].setSub(e[2],e[0]);const l=u.crossProduct(m);e[1].assign(u.mul(e[1].crossProduct(m)/l)),e[1].addThis(e[0]);return r=Math.cos(.5*o),r}function ku(t,e,n,i,r){if(i){const s=.5,n=Math.sqrt(e),i=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.a)(1-s)+2*n*s*(1-s)+(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.a)(s),o=t[0].mul((0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.a)(1-s)).add(t[1].mul(2*n*s*(1-s))).add(t[2].mul((0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.a)(s))).divThis(i);return r.constructCircularArcThreePoint(t[0],t[2],o),!0}const o=t[0].sub(t[1]),a=t[2].sub(t[1]),h=o.crossProduct(a),u=o.dotProduct(a),m=e;(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(m<=1),(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(m>0);const l=.5/(1-m),c=o.sqrLength(),g=u,d=a.sqrLength(),_=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.a)(h),p=o.sub(a).sqrLength();if(0===_)return bu(r,t[0],t[2],1),!1;if(u<=-Math.sqrt(c)*Math.sqrt(d))return bu(r,t[0],t[2],1),!1;const f=[0,0],P=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.E;P.setInfinite();const y=sn(2*_,-(p/m+4*g),2*(1-m)/m,P,!1,f);if(0===y)return bu(r,t[0],t[2],1),!1;1===y&&(f[1]=f[0]);const x=Math.sqrt(l/f[0]),C=Math.sqrt(l/f[1]),v=.5/m;let b=v-d*f[0],S=v-c*f[0];Math.abs(b)>Math.abs(S)?S=g*f[0]-v+1:b=g*f[0]-v+1;const E=o.mul(b).add(a.mul(S)),D=E.norm(1)<1e-15*x?0:Math.atan2(E.y,E.x)+Math.PI,w=o.add(a),A=n?n.clone():t[1].add(w.mul(l)),T=t[0].sub(A),I=t[2].sub(A),M=T.crossProduct(I)<0,Y=!1;new Xh;return r.constructEllipticArcEndPointsCenter(t[0],t[2],x,C/x,D,Y,!M,A)}function Gu(t,e,s,n,i){return ku(t,e,s,n,i)}function Wu(t){const e=is(t);let s=!1;{const n=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P(t.m_semiMajorAxis*Math.cos(t.m_startAngle),t.getSemiMinorAxis()*Math.sin(t.m_startAngle));n.rotateDirect(t.m_cosr,t.m_sinr),n.addThis(t.m_center);s=_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.distance(t.getStartXY(),n)>e}let n=!1;if(!s){const s=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P(t.m_semiMajorAxis*Math.cos(t.m_startAngle+t.m_sweepAngle),t.getSemiMinorAxis()*Math.sin(t.m_startAngle+t.m_sweepAngle));s.rotateDirect(t.m_cosr,t.m_sinr),s.addThis(t.m_center);n=_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.distance(t.getEndXY(),s)>e}return!s&&!n}function ju(t,s,n,i){0===n&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.a)("construct_enclosing_circle");const r=[0,0,0],o=Fh(s,n,r);if(1===o)t.constructCircleRadius(0,s[r[0]],i);else if(2===o){const e=_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.lerp(s[r[0]],s[r[1]],.5),n=_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.distance(s[r[0]],e),o=_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.distance(s[r[1]],e);t.constructCircleRadius(Math.max(n,o),e,i)}else if(3===o){const e=_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.calculateCircleCenterFromThreePoints(s[r[0]],s[r[1]],s[r[2]]),n=_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.distance(s[r[0]],e),o=_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.distance(s[r[1]],e),a=_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.distance(s[r[2]],e);t.constructCircleRadius(Math.max(n,o,a),e,i)}else (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.d)("unexpected")}function Zu(t){if(Su(t))return 0;if(t.isDegenerate(0))return 0;const e=t.m_semiMajorAxis,s=t.getSemiMinorAxis(),n=e*e+s*s,i=t.getStartAngle(),r=t.getEndAngle(),o=t.m_center.y-t.m_YStart,a=t.m_cosr,h=t.m_sinr;let u=1,m=0;t.m_rotation&&(u=(a-h)*(a+h),m=2*a*h);const l=((-.5*(r-i)+.25*u*(2*Math.cos(r+i)*Math.sin(r-i)))*s+-2*Math.sin(.5*(r+i))*Math.sin(.5*(r-i))*a*o)*e/n;let c=0;if(t.m_rotation){c=.125*(-2*Math.sin(r+i)*Math.sin(r-i))*m-s*o/n*(2*Math.cos(.5*(r+i))*Math.sin(.5*(r-i)))*h}return n*(l+c)+-.5*(t.m_XEnd-t.m_XStart)*(t.m_YEnd-t.m_YStart)}function Hu(t){t.queryCoord2D(.5,t.m_interior)}function Uu(t,e,s,n,i){if(i){if(0!==am(e,s))return 2}else if(Le(e,s))return 1;return 0!==Qu(t,e,s,null,null,null,n,void 0!==i&&i,!0,!1)?4:0}function Ou(t,e,s,n,i){if(i){if(0!==am(e,s))return 2}else if(Le(e,s))return 1;return 0!==Ju(t,e,s,null,null,null,n,void 0!==i&&i,!0,!1)?4:0}function Qu(t,e,n,i,r,o,a,h,u,m){if(Su(e)){return Ds(new pm({start:e.getStartXY(),end:e.getEndXY()}),n,i,r,o,a,h,m)}null!==r&&(r.length=0),null!==o&&(o.length=0),null!==i&&(i.length=0);const l=rs(e,n);if(os(e,n,a=Math.max(l,a)))return 0;const c=n.getStartXY();c.subThis(e.m_center);const g=n.getEndXY();g.subThis(e.m_center),c.rotateReverse(e.m_cosr,e.m_sinr),g.rotateReverse(e.m_cosr,e.m_sinr);const d=g.clone();d.subThis(c);const _=e.m_semiMajorAxis,p=1/_,f=e.getSemiMinorAxis(),P=1/f,y=d.clone();y.leftPerpendicularThis();const x=Math.atan2(f*y.y,_*y.x),C=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.d)(16,Number.NaN),v=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.d)(16,Number.NaN);let b=0;const S=[x,x+Math.PI];for(let s=0;s<2;++s){const t=lu(e,S[s]);if(t>=0&&t<=1){C[b]=t;const s=e.getCoord2D(C[b]);v[b]=n.getClosestCoordinate(s,!1),_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.distance(s,n.getCoord2D(v[b]))<=a&&b++}}const E=c.x*p,D=c.y*P,w=d.x*p,A=d.y*P;let T=sn(w*w+A*A,2*(E*w+D*A),E*E+D*D-1,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.E.unit(),!1,v);(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(T>=0);for(let s=0;s<T;s++){const t=d.mul(v[s]).add(c);t.x*=p,t.y*=P;const i=lu(e,Math.atan2(t.y,t.x));if(i>=0&&i<=1){C[b]=i;const t=e.getCoord2D(i);v[b]=n.getClosestCoordinate(t,!1),_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.distance(t,n.getCoord2D(v[b]))<=a&&b++}}(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(b<C.length+4);const I=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.d)(16,Number.NaN);T=e.intersectPoint(n.getStartXY(),I,a);for(let s=0;s<T;s++,b++)C[b]=I[s],v[b]=0;T=e.intersectPoint(n.getEndXY(),I,a);for(let s=0;s<T;s++,b++)C[b]=I[s],v[b]=1;T=n.intersectPoint(e.getStartXY(),I,a);for(let s=0;s<T;s++,b++)C[b]=0,v[b]=I[s];T=n.intersectPoint(e.getEndXY(),I,a);for(let s=0;s<T;s++,b++)C[b]=1,v[b]=I[s];return 0===b?0:cm(t,e,n,C,v,b,i,r,o,a,h,u,m)}function Ju(t,e,n,i,r,o,a,h,u,m){if(Su(e)){const s=new pm({start:e.getStartXY(),end:e.getEndXY()});return Qu(t,n,s,i,o,r,a,h,u,!0)}if(Su(n)){const s=new pm({start:n.getStartXY(),end:n.getEndXY()});return Qu(t,e,s,i,r,o,a,h,u,m)}const l=rs(e,n);a=Math.max(a,l);let c=!1;{const t=e.getSemiAxes(),i=e.getCenter(),m=n.getSemiAxes(),l=n.getCenter(),g=_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.distance(l,i),d=t.x+m.x;if(g>d+a)return 0;if(t.y>m.x){if(g+m.x+a<t.y)return 0}else if(m.y>t.x&&g+t.x+a<m.y)return 0;if(u&&!h){const i=1===e.m_minorMajorRatio&&e.isClosed()&&e.isMajor(),a=1===n.m_minorMajorRatio&&n.isClosed()&&n.isMajor();if(i&&a&&(c=!0,g<=d)){if(Math.max(t.x,m.x)<=Math.min(t.x,m.x)+g)return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(!r&&!o),1}}}if(!c&&os(e,n,a))return 0;const g=[],d=[],_=!1,p=!1,f=Wh(e,0,0,_,p,g,d,null),P=[],y=[],x=Wh(n,0,0,_,p,P,y,null);if(1===f&&1===x){const t=new En({points:g,weights:d}),s=new En({points:P,weights:y}),l=[],c=[],_=rh(!1,t,s,i,null===r?null:l,null===o?null:c,a,h,u,m);if(_>0&&null!==r||null!==o){r&&(r.length=0),o&&(o.length=0);for(let i=0;i<_;++i){if(r)if((0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.N)(l[i],0,1))r.push(l[i]);else{const s=t.tToLength(l[i]),n=e.lengthToT(s);r.push(n)}if(o)if((0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.N)(c[i],0,1))o.push(c[i]);else{const t=s.tToLength(c[i]),e=n.lengthToT(t);o.push(e)}}}return _}let C=[];const v=[];let b=0;const S=u&&!h;for(let s=0;s<f;s++){const t=new En({points:g.slice(2*s,2*s+3),weights:d.slice(2*s,2*s+3)});let i=0;for(let r=0;r<x;r++){v.length<=r&&v.push(new En({points:P.slice(2*r,2*r+3),weights:y.slice(2*r,2*r+3)}));const o=[],h=[],u=S?null:o,m=S?null:h,l=rh(!1,t,v[r],null,u,m,a,!1,S,!1);if(l>0&&S)return 1;for(let a=0;a<l;++a){if(0===o[a]&&0===s)o[a]=0;else if(1===o[a]&&s===f-1)o[a]=1;else{const s=t.tToLength(o[a])+b,n=e.lengthToT(s);o[a]=n}if(0===h[a]&&0===r)h[a]=0;else if(1===h[a]&&r===x-1)h[a]=1;else{const t=v[r].tToLength(h[a])+i,e=n.lengthToT(t);h[a]=e}C.push((0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.l)(o[a],h[a]))}i+=v[r].calculateLength2D()}b+=t.calculateLength2D()}if(0===C.length)return 0;if(h&&(C=C.filter((t=>!(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.N)(t.first,0,1)||!(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.N)(t.second,0,1)||!e.getCoord2D(t.first).equals(n.getCoord2D(t.second))))),u)return C.length;const E=[],D=[];for(const s of C)E.push(s.first),D.push(s.second);return cm(t,e,n,E,D,E.length,i,r,o,a,h,u,m)}function Ku(t,e,s){if(s.setCoords(t.getCoord2D(e.vmin)),s.mergeNe(t.getCoord2D(e.vmax)),Su(t))return;const n=t.getSemiAxes(),i=[0,0,0,0];{const e=Math.atan2(-n.y*t.m_sinr,n.x*t.m_cosr),s=e+Math.PI,r=Math.atan2(n.y*t.m_cosr,n.x*t.m_sinr),o=r+Math.PI;i[0]=lu(t,e),i[1]=lu(t,s),i[2]=lu(t,r),i[3]=lu(t,o)}const r=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P;for(let o=0;o<4;o++){const n=i[o];e.containsExclusiveCoordinate(n)&&(t.queryCoord2D(n,r),s.mergeNe(r))}}function $u(t,e,n,i,r){if(0===t.m_semiMajorAxis)return n.vmin;let o=_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.getNAN();t.queryCoord2D(n.vmin,o);let a=_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.getNAN();if(t.queryCoord2D(n.vmax,a),Su(t)){return new pm({start:o,end:a}).getClosestCoordinate(e,i)}const h=iu(t,e);if(o=iu(t,o),a=iu(t,a),1===t.m_minorMajorRatio){if(h.isEqual(0,0))return n.vmin;const e=lu(t,Math.atan2(h.y,h.x));if(i||n.containsCoordinate(e))return e;return _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.distance(h,o)<=_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.distance(h,a)?n.vmin:n.vmax}const u=t.getSemiMajorAxis(),m=t.getSemiMinorAxis(),l=(u-m)*(u+m),c=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.a)(l),g=h.x,d=h.y,_=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.a)(m*d),p=m*l*d*2,f=[new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.H(_),new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.H(p),new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.H(c-(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.a)(u*g)-_),new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.H(-p),new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.H(-c)],P=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.H,4),y=_n(f,4,new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.E(-1,1),!1,P,4);let x=n.vmin,C=_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.sqrDistance(h,o);{const t=_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.sqrDistance(h,a);t<C&&(x=n.vmax,C=t)}(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(!i);let v=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.d)(8,Number.NaN);for(let s=0;s<y;++s){const e=P[s].value(),n=Math.sqrt(1-e*e),i=Math.atan2(e,n),r=Math.atan2(e,-n);v[2*s]=lu(t,i),v[2*s+1]=lu(t,r)}v=v.slice(0,2*y),(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.v)(v);for(let s=0,b=2*y;s<b;++s)if(v[s]>n.vmin&&v[s]<n.vmax){const n=_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.sqrDistance(e,t.getCoord2D(v[s]));C>n&&(C=n,x=v[s])}return x}function tm(t,e,n){(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(!Su(t));const i=new _Transformation2D_js__WEBPACK_IMPORTED_MODULE_4__.T;i.setRotateAngle(-t.getAxisXRotation());const r=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P;i.queryTransform(e,r);const o=Math.atan2(-r.x*t.getMinorMajorRatio(),r.y),a=o+(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.$)();let h=lu(t,o),u=lu(t,a);u<h&&(u=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.c)(h,h=u));let m=0;return h>=0&&h<=1&&(n[m++]=h),u>=0&&u<=1&&(n[m++]=u),m}function em(t,e,s){return t.m_semiMajorAxis===e.m_semiMajorAxis&&(t.isMajor()!==e.isMajor()&&(!!t.m_center.equals(e.m_center)&&(t.m_sinr===e.m_sinr&&(t.m_cosr===e.m_cosr&&(t.m_minorMajorRatio===e.m_minorMajorRatio&&(s?t.isClockwise()!==e.isClockwise():t.isClockwise()===e.isClockwise()))))))}function sm(t,e,s){if(Su(t))s.setE(Ye.constructPoint2D(t.getEndXY()).subE(Ye.constructPoint2D(t.getStartXY())));else{const n=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.H;gu(t,e,n);const i=new Ye;if(i.setCoordsE(new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.H(t.m_semiMajorAxis).negate().mulE((new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.H).setSin(n)),new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.H(t.getSemiMinorAxis()).mulE((new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.H).setCos(n))),t.m_rotation){const e=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.H(t.m_rotation);i.rotateDirect((new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.H).setCos(e),(new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.H).setSin(e))}i.scaleThis(new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.H(t.getSweepAngle())),s.setE(i)}}function nm(t,e,s,n){const i=t.getStartXY(),r=t.getEndXY(),o=i.equals(r),a=e.equals(s);if(!o&&!a){const n=new _Transformation2D_js__WEBPACK_IMPORTED_MODULE_4__.T;n.setShiftCoords(-t.m_XStart,-t.m_YStart);const o=_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.distance(e,s),a=_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.distance(i,r),h=o/a;n.scale(h,h);const u=r.sub(i);u.divThis(a);const m=s.sub(e);m.divThis(o);const l=u.crossProduct(m),c=m.dotProduct(u);return n.rotate(c,l),n.shiftCoords(e.x,e.y),void Au(t,n,!0,e,s)}const h=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P;if(t.queryCoord2D(.5,h),a){if(o){const n=t.m_center.add(e.sub(i));t.constructEllipticArcEndPointsCenter(e,s,t.getSemiMajorAxis(),1,0,!0,!t.isClockwise(),n),t.setProjectionBehavior(0)}else if(t.isMajor()){const n=h.sub(e).getUnitVector().mul(2*t.getSemiMajorAxis()).add(e);t.constructCircularArcThreePoint(e,s,n)}else t.constructCircularArcThreePoint(e,s,e);return}const u=e.add(s).mul(.5),m=s.sub(e);m.rightPerpendicularThis();const l=u.add(m),c=_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.getClosestCoordinate(u,l,t.getCenter(),!0),g=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P;(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.U)(u,l,c,g);const d=_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.distance(e,g);t.constructEllipticArcEndPointsCenter(e,s,d,1,0,!0,!t.isClockwise(),g),t.setProjectionBehavior(0)}function im(t,e,n,i){const r=t.getStartXY(),o=t.getEndXY(),a=r.equals(o),h=e.equals(n);if(!a&&!h){const s=new _Transformation2D_js__WEBPACK_IMPORTED_MODULE_4__.T;return s.initializeFromTwoPoints(r,o,e,n),Au(t,s,!0,e,n),t.endPointModified(),void t.normalizeAfterEndpointChange()}if(!t.isMajor())return void bu(t,e,n,1);if(a&&h){const s=t.m_center.add(e.sub(r));return void t.constructEllipticArcEndPointsCenter(e,n,t.getSemiMajorAxis(),t.getMinorMajorRatio(),t.getAxisXRotation(),!0,!t.isClockwise(),s)}if(!a){const s=.5*((0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.a9)()-Math.abs(t.getSweepAngle())),i=(t.getSweepAngle()+s*(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.e)(t.getSweepAngle()))/t.getSweepAngle(),r=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P;t.queryCoord2D(i,r),t.constructEllipticArcEndPointsCenter(r,r,t.getSemiMajorAxis(),t.getMinorMajorRatio(),t.getAxisXRotation(),!0,!t.isClockwise(),t.getCenter());const o=t.getCenter().add(e.sub(r));return void t.constructEllipticArcEndPointsCenter(e,n,t.getSemiMajorAxis(),t.getMinorMajorRatio(),t.getAxisXRotation(),!0,!t.isClockwise(),o)}const u=_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.sqrDistance(e,n);let m=.25,l=.75;if(u<_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.sqrDistance(t.getCoord2D(.25),t.getCoord2D(.75))){const e=[0],n=tn(new su(t,u),_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.E.construct(0,.25),1,e);n>0&&((0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(1===n),m=e[0],l=1-e[0])}const c=t.getCoord2D(m),g=t.getCoord2D(l);(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(!c.equals(g)),t.constructEllipticArcEndPointsCenter(c,g,t.getSemiMajorAxis(),t.getMinorMajorRatio(),t.getAxisXRotation(),!0,!t.isClockwise(),t.m_center),im(t,e,n)}function rm(t,e,s,n,i){return om(t,!1,e,s,n,i)}function om(t,e,s,n,r,o){const a=s.getGeometryType(),u=n.getGeometryType(),m=Math.max(r,rs(s,n));if(a===_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.G.enumLine&&u===_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.G.enumLine)return Es(s,n,m,o);let l=s,c=n,g=s.getStartXY(),d=s.getEndXY();if(g.compare(d)>0&&(l=s.clone().reverse()),g=n.getStartXY(),d=n.getEndXY(),g.compare(d)>0&&(c=n.clone().reverse()),e){if(s.equals(n))return 2;if(Ge(s,n,m))return 4}switch(a){case _Geometry_js__WEBPACK_IMPORTED_MODULE_0__.G.enumLine:switch(u){case _Geometry_js__WEBPACK_IMPORTED_MODULE_0__.G.enumEllipticArc:return Uu(t,c,l,m,o);case _Geometry_js__WEBPACK_IMPORTED_MODULE_0__.G.enumBezier:return So(t,c,l,m,o);case _Geometry_js__WEBPACK_IMPORTED_MODULE_0__.G.enumRationalBezier2:return $a(t,c,l,m,o);case _Geometry_js__WEBPACK_IMPORTED_MODULE_0__.G.enumBezier2:return Xi(t,c,l,m,o);default:(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.d)("")}break;case _Geometry_js__WEBPACK_IMPORTED_MODULE_0__.G.enumEllipticArc:switch(u){case _Geometry_js__WEBPACK_IMPORTED_MODULE_0__.G.enumLine:return Uu(t,l,c,m,o);case _Geometry_js__WEBPACK_IMPORTED_MODULE_0__.G.enumEllipticArc:return Ou(t,l,c,m,o);case _Geometry_js__WEBPACK_IMPORTED_MODULE_0__.G.enumBezier:return Eo(t,c,l,m,o);case _Geometry_js__WEBPACK_IMPORTED_MODULE_0__.G.enumRationalBezier2:return th(t,c,l,m,o);case _Geometry_js__WEBPACK_IMPORTED_MODULE_0__.G.enumBezier2:return qi(t,c,l,m,o);default:(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.d)("")}break;case _Geometry_js__WEBPACK_IMPORTED_MODULE_0__.G.enumBezier:switch(u){case _Geometry_js__WEBPACK_IMPORTED_MODULE_0__.G.enumLine:return So(t,l,c,m,o);case _Geometry_js__WEBPACK_IMPORTED_MODULE_0__.G.enumEllipticArc:return Eo(t,l,c,m,o);case _Geometry_js__WEBPACK_IMPORTED_MODULE_0__.G.enumBezier:return Do(t,l,c,m,o);case _Geometry_js__WEBPACK_IMPORTED_MODULE_0__.G.enumRationalBezier2:return wo(t,l,c,m,o);case _Geometry_js__WEBPACK_IMPORTED_MODULE_0__.G.enumBezier2:return Ao(t,l,c,m,o);default:(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.d)("")}break;case _Geometry_js__WEBPACK_IMPORTED_MODULE_0__.G.enumRationalBezier2:switch(u){case _Geometry_js__WEBPACK_IMPORTED_MODULE_0__.G.enumLine:return $a(t,l,c,m,o);case _Geometry_js__WEBPACK_IMPORTED_MODULE_0__.G.enumEllipticArc:return th(t,l,c,m,o);case _Geometry_js__WEBPACK_IMPORTED_MODULE_0__.G.enumBezier:return wo(t,c,l,m,o);case _Geometry_js__WEBPACK_IMPORTED_MODULE_0__.G.enumRationalBezier2:return eh(t,l,c,m,o);case _Geometry_js__WEBPACK_IMPORTED_MODULE_0__.G.enumBezier2:return sh(t,l,c,m,o);default:(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.d)("")}break;case _Geometry_js__WEBPACK_IMPORTED_MODULE_0__.G.enumBezier2:switch(u){case _Geometry_js__WEBPACK_IMPORTED_MODULE_0__.G.enumLine:return Xi(t,l,c,m,o);case _Geometry_js__WEBPACK_IMPORTED_MODULE_0__.G.enumEllipticArc:return qi(t,l,c,m,o);case _Geometry_js__WEBPACK_IMPORTED_MODULE_0__.G.enumBezier:return Ao(t,c,l,m,o);case _Geometry_js__WEBPACK_IMPORTED_MODULE_0__.G.enumRationalBezier2:return sh(t,c,l,m,o);case _Geometry_js__WEBPACK_IMPORTED_MODULE_0__.G.enumBezier2:return Fi(t,l,c,m,o);default:(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.d)("")}break;default:(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.d)("")}}function am(t,e,s=!0){if(!s&&!hm(t,e))return 0;const n=t.isLine()&&e.isLine();if(t.getStartXY().equals(e.getStartXY())&&t.getEndXY().equals(e.getEndXY())){const s=1;if(n)return s;const r=t.getGeometryType();if(r!==e.getGeometryType())return 0;if(r===_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.G.enumBezier){const n=t,i=e;return n.getControlPoint1().equals(i.getControlPoint1())&&n.getControlPoint2().equals(i.getControlPoint2())?s:0}if(r===_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.G.enumEllipticArc){return em(t,e,!1)?s:0}if(r===_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.G.enumRationalBezier2){const n=t,i=e;if(n.getControlPoint1().equals(i.getControlPoint1())&&n.getStandardFormWeight()===i.getStandardFormWeight())return s}else if(r===_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.G.enumBezier2){const n=e;if(t.getControlPoint1().equals(n.getControlPoint1()))return s}return 0}if(t.getStartXY().equals(e.getEndXY())&&t.getEndXY().equals(e.getStartXY())){const s=-1;if(n)return s;const r=t.getGeometryType();if(r!==e.getGeometryType())return 0;if(r===_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.G.enumBezier){const n=t,i=e;return n.getControlPoint1().equals(i.getControlPoint2())&&n.getControlPoint2().equals(i.getControlPoint1())?s:0}if(r===_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.G.enumEllipticArc){return em(t,e,!0)?s:-1}if(r===_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.G.enumRationalBezier2){const n=t,i=e;if(n.getControlPoint1().equals(i.getControlPoint1())&&n.getStandardFormWeight()===i.getStandardFormWeight())return s}else if(r===_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.G.enumBezier2){const n=e;if(t.getControlPoint1().equals(n.getControlPoint1()))return s}return 0}return 0}function hm(t,e){const s=t.getGeometryType();return s===e.getGeometryType()&&(s!==_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.G.enumEllipticArc||t.projectionBehavior()===e.projectionBehavior())}function um(t,s,n,r,o,a,u){!o&&a&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.a)("");const m=s.getGeometryType(),l=n.getGeometryType(),c=Math.max(u,rs(s,n));if(r&&(r.length=0),o&&(o.length=0),a&&(a.length=0),m===_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.G.enumLine&&l===_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.G.enumLine)return Ds(s,n,r,o,a,c,!1,!1);let g=s,d=n,_=s.getStartXY(),p=s.getEndXY(),f=!1,P=!1;_.compare(p)>0&&(g=s.clone(!0).reverse(),f=!0),_=n.getStartXY(),p=n.getEndXY(),_.compare(p)>0&&(d=n.clone(!0).reverse(),P=!0);let y=0;switch(m){case _Geometry_js__WEBPACK_IMPORTED_MODULE_0__.G.enumLine:switch(l){case _Geometry_js__WEBPACK_IMPORTED_MODULE_0__.G.enumEllipticArc:y=Qu(t,d,g,r,a,o,c,!1,!1,!0);break;case _Geometry_js__WEBPACK_IMPORTED_MODULE_0__.G.enumBezier:y=To(t,d,g,r,a,o,c,!1,!1,!0);break;case _Geometry_js__WEBPACK_IMPORTED_MODULE_0__.G.enumRationalBezier2:y=nh(t,d,g,r,a,o,c,!1,!1,!0);break;case _Geometry_js__WEBPACK_IMPORTED_MODULE_0__.G.enumBezier2:y=Vi(t,d,g,r,a,o,c,!1,!1,!0);break;default:(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.d)("")}break;case _Geometry_js__WEBPACK_IMPORTED_MODULE_0__.G.enumEllipticArc:switch(l){case _Geometry_js__WEBPACK_IMPORTED_MODULE_0__.G.enumLine:y=Qu(t,g,d,r,o,a,c,!1,!1,!1);break;case _Geometry_js__WEBPACK_IMPORTED_MODULE_0__.G.enumEllipticArc:y=Ju(t,g,d,r,o,a,c,!1,!1,!1);break;case _Geometry_js__WEBPACK_IMPORTED_MODULE_0__.G.enumBezier:y=Io(t,d,g,r,a,o,c,!1,!1,!0);break;case _Geometry_js__WEBPACK_IMPORTED_MODULE_0__.G.enumRationalBezier2:y=ih(t,d,g,r,a,o,c,!1,!1,!0);break;case _Geometry_js__WEBPACK_IMPORTED_MODULE_0__.G.enumBezier2:y=Li(t,d,g,r,a,o,c,!1,!1,!0);break;default:(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.d)("")}break;case _Geometry_js__WEBPACK_IMPORTED_MODULE_0__.G.enumRationalBezier2:switch(l){case _Geometry_js__WEBPACK_IMPORTED_MODULE_0__.G.enumLine:y=nh(t,g,d,r,o,a,c,!1,!1,!1);break;case _Geometry_js__WEBPACK_IMPORTED_MODULE_0__.G.enumEllipticArc:y=ih(t,g,d,r,o,a,c,!1,!1,!1);break;case _Geometry_js__WEBPACK_IMPORTED_MODULE_0__.G.enumBezier:y=Yo(t,d,g,r,a,o,c,!1,!1,!0);break;case _Geometry_js__WEBPACK_IMPORTED_MODULE_0__.G.enumRationalBezier2:y=rh(t,g,d,r,o,a,c,!1,!1,!1);break;case _Geometry_js__WEBPACK_IMPORTED_MODULE_0__.G.enumBezier2:y=oh(t,g,d,r,o,a,c,!1,!1,!1);break;default:(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.d)("")}break;case _Geometry_js__WEBPACK_IMPORTED_MODULE_0__.G.enumBezier2:switch(l){case _Geometry_js__WEBPACK_IMPORTED_MODULE_0__.G.enumLine:y=Vi(t,g,d,r,o,a,c,!1,!1,!1);break;case _Geometry_js__WEBPACK_IMPORTED_MODULE_0__.G.enumEllipticArc:y=Li(t,g,d,r,o,a,c,!1,!1,!1);break;case _Geometry_js__WEBPACK_IMPORTED_MODULE_0__.G.enumBezier:y=No(t,d,g,r,a,o,c,!1,!1,!0);break;case _Geometry_js__WEBPACK_IMPORTED_MODULE_0__.G.enumRationalBezier2:y=oh(t,d,g,r,a,o,c,!1,!1,!0);break;case _Geometry_js__WEBPACK_IMPORTED_MODULE_0__.G.enumBezier2:y=Ri(t,g,d,r,o,a,c,!1,!1,!1);break;default:(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.d)("")}break;case _Geometry_js__WEBPACK_IMPORTED_MODULE_0__.G.enumBezier:switch(l){case _Geometry_js__WEBPACK_IMPORTED_MODULE_0__.G.enumLine:y=To(t,g,d,r,o,a,c,!1,!1,!1);break;case _Geometry_js__WEBPACK_IMPORTED_MODULE_0__.G.enumEllipticArc:y=Io(t,g,d,r,o,a,c,!1,!1,!1);break;case _Geometry_js__WEBPACK_IMPORTED_MODULE_0__.G.enumBezier:y=Mo(t,g,d,r,o,a,c,!1,!1,!1);break;case _Geometry_js__WEBPACK_IMPORTED_MODULE_0__.G.enumRationalBezier2:y=Yo(t,g,d,r,o,a,c,!1,!1,!1);break;case _Geometry_js__WEBPACK_IMPORTED_MODULE_0__.G.enumBezier2:y=No(t,g,d,r,o,a,c,!1,!1,!1);break;default:(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.d)("")}break;default:(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.d)("")}if(f){if(o){for(let t=0;t<y;t++)o[t]=1-o[t];o.reverse()}r&&r.reverse(),a&&a.reverse()}if(P&&a)for(let e=0;e<y;e++)a[e]=1-a[e];return y}function mm(t,e,s){if(e===s)return 0;e>s&&(s=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.c)(e,e=s));return t.cut(e,s,!0).calculateUpperLength2D()}function lm(t,e,s,n,i){const r=[],o=[],a=[];for(let u=0,m=i;u<m;u++)r.push(t.calculateSubLengthFromStart(s[u])),o.push(e.calculateSubLengthFromStart(n[u])),(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.N)(s[u],0,1)&&(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.N)(n[u],0,1)&&t.getCoord2D(s[u]).equals(e.getCoord2D(n[u]))&&a.push(u);if(0===a.length||a.length===i)return;a.sort(((t,e)=>s[t]<s[e]?-1:s[t]>s[e]?1:n[t]<n[e]?-1:n[t]>n[e]?1:0));let h=-1;for(const u of a){if(h>=0&&s[u]===s[h]&&s[u]===s[h]){h=u;continue}h=u;const a=[];a.length=i;for(let t=0;t<a.length;++t)a[t]=t;a.sort(((t,e)=>{const s=r[u],n=o[u],i=r[t]-s,a=o[t]-n,h=i*i+a*a,m=r[e]-s,l=o[e]-n,c=m*m+l*l;return h<c?-1:h>c?1:0}));for(let r=0;r<i;r++){const i=a[r];if(i===u||s[i]===s[u]&&n[i]===n[u]||(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.N)(s[i],0,1)&&(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.N)(n[i],0,1))continue;const o=(s,n,i,r)=>{const o=new Ye,a=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.H;a.setWithEps(1);const h=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.H;h.set(n,a.eps()),t.queryCoord2DE(h,o);const u=new Ye;t.queryCoord2DE(new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.H(s),u);let m=!1;return o.eq(u)&&(h.set(r,a.eps()),e.queryCoord2DE(h,o),e.queryCoord2DE(new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.H(i),u),m=o.eq(u)),!m},h=_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.getNAN();t.queryCoord2D(s[i],h);const m=_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.getNAN();e.queryCoord2D(n[i],m);if(0===_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.distance(h,m)&&o(s[u],s[i],n[u],n[i]))break;const l=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.E(n[i],n[u]);l.normalizeNoNAN();const c=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.E(s[i],s[u]);c.normalizeNoNAN();let g=-1,d=Number.POSITIVE_INFINITY,_=Number.POSITIVE_INFINITY,p=s[i];h.assign(t.getCoord2D(p));for(let r=0;r<5;r++){const r=e.getClosestCoordinateOnInterval(h,l,-1);m.assign(e.getCoord2D(r));const a=_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.distance(h,m);if(p=t.getClosestCoordinateOnInterval(m,c,-1),p===s[u]&&r===n[u]){g=1;break}h.assign(t.getCoord2D(p));const f=_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.distance(m,h);if(!(f<_&&a<d)){g=0;break}if(0===f&&0===a){o(s[u],s[i],n[u],n[i])?(s[i]=p,n[i]=r,g=0):g=1;break}_=f,d=a}if(-1===g&&(g=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.N)(s[i],0,1)||(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.N)(n[i],0,1)?0:1),1!==g)break;s[i]=s[u],n[i]=n[u]}}}function cm(t,e,s,n,i,r,o,a,h,u,m,l,c){if(!r)return 0;const g=(t,e)=>{for(let s=0;s<r;++s){let n=e[s];if((0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.N)(n,0,1)){n=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.ak)(n);continue}const i=t.getCoord2D(n);n<.5?i.equals(t.getStartXY())&&mm(t,0,n)<=is(t)&&(e[s]=0):i.equals(t.getEndXY())&&mm(t,n,1)<=is(t)&&(e[s]=1)}};g(e,n),g(s,i),lm(e,s,n,i,r);const d=[];for(let f=0,P=r;f<P;f++)d.push(f);const _=(t,e)=>c?(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.al)(i[t],n[t],i[e],n[e]):(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.al)(n[t],i[t],n[e],i[e]);if(d.length>1){d.sort(_);const t=Math.max(is(e),is(s));let r=0;for(let o=1,a=d.length;o<a;o++){const a=n[d[r]],h=n[d[o]],u=i[d[r]],m=i[d[o]];if(a!==h||u!==m)if(!(mm(e,a,h)<=t&&mm(s,u,m)<=t)||(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.N)(a,0,1)&&(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.N)(u,0,1)||(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.N)(h,0,1)&&(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.N)(m,0,1))r++,d[r]=d[o];else{const t=_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.distance(e.getCoord2D(a),s.getCoord2D(u)),n=_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.distance(e.getCoord2D(h),s.getCoord2D(m));if(t<=n)continue;if(n<t){d[r]=d[o];continue}}}if(d.length=r+1,1===d.length&&0!==d[0]&&(n[0]=n[d[0]],i[0]=i[d[0]],d[0]=0),d.length>2){const t=_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.E.constructEmpty(),r=_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.E.constructEmpty();t.setCoords(n[d[0]],n[d.at(-1)]),r.setCoords(i[d[0]],i[d.at(-1)]);let o=!0;for(let e=1,s=d.length-1;e<s;e++)if(!t.containsCoordinate(n[d[e]])||!r.containsCoordinate(i[d[e]])){o=!1;break}if(o){const n=[.5,.2,.7,.1,.3,.4,.6,.8,.9];for(let i=0;i<n.length;i++){let a=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.q)(t.vmin,t.vmax,n[i]);const h=e.getCoord2D(a);if(!s.isCloserThanDistance(h,r,u)){o=!1;break}a=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.q)(r.vmin,r.vmax,n[i]);const m=s.getCoord2D(a);if(!e.isCloserThanDistance(m,t,u)){o=!1;break}}}o&&(d[1]=d.at(-1),d.length=2)}}if(1===d.length&&t){const t=0,r=0;ke(e,s,n[0],i[0],u,1,[t],[r])&&(d.push(1),n[1]=t,i[1]=r,d.sort(_))}if(m&&1===d.length){let t=!0;for(let r=0,o=d.length;r<o;r++){if((0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.N)(n[d[r]],0,1)&&(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.N)(i[d[r]],0,1)){if(0===_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.distance(e.getCoord2D(n[d[r]]),s.getCoord2D(i[d[r]])))continue}t=!1;break}if(t)return 0}let p=0;for(let f=0,P=d.length;f<P;f++){if(a&&a.push(n[d[f]]),h&&h.push(i[d[f]]),o){const t=_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.getNAN();e.queryCoord2D(n[d[f]],t),o.push(t)}p++}return p}function gm(t,e,s,n,i,r,o,a,h){if((0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.N)(s,0,1)&&(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.N)(n,0,1)){if(0===_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.distance(t.getCoord2D(s),e.getCoord2D(n))){const u=1e-12,m=new Ye,l=Number.EPSILON;if(t.queryDerivative(new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.H(s,l),m),m.isTrueZero()){const e=1===s?-1e-12:u;t.queryDerivative(new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.H(s,l).add(e),m)}1===s&&m.negateThis();const c=new Ye;if(e.queryDerivative(new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.H(n,l),c),c.isTrueZero()){const t=1===s?-1e-12:u;e.queryDerivative(new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.H(n,l).add(t),c)}1===n&&c.negateThis(),m.isZero()||m.normalize(),c.isZero()||c.normalize();const g=m.dotProduct(c),d=m.crossProduct(c);d.scaleError(3);const _=()=>{if(h)return.001;{const s=t.calculateUpperLength2D(),n=e.calculateUpperLength2D();return Math.min(.01*i/Math.min(s,n),1e-10)}};if(g.ge(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.J)&&(d.isZero()||Math.abs(d.value())<_())){return Be(t,e,s,n,i,r,o,a)}}}return 0}function dm(t,e,n,i,r){let o=-1,a=-1,h=-1,u=-1;{const s=[0,e],r=[e,0],m=[0,i],l=[i,0];for(let e=0;e<2&&-1===o;++e)for(let i=0;i<2;++i)if(t[s[e]].equals(n[m[i]])){o=s[e],a=r[e],h=m[i],u=l[i];break}}if(-1===o){const s=new De;s.setFromPoints(t,e+1);const o=new De;return o.setFromPoints(n,i+1),o.inflate(r),s.isIntersectingW(o)?-1:0}{const m=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.d)(e+1,Number.NaN),l=xr(t,e+1,m);(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(l>1);let c=0,g=0;for(let t=0;t<l;++t)o===m[t]&&(g=t,c++),a===m[t]&&c++;if(2!==c)return-1;const d=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.d)(i+1,Number.NaN),_=xr(n,i+1,d);(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(_>1),c=0;let p=0;for(let t=0;t<_;++t)h===d[t]&&(p=t,c++),u===d[t]&&c++;if(2!==c)return-1;const f=t[m[(g+l-1)%l]],P=t[m[(g+1)%l]],y=n[d[(p+_-1)%_]],x=n[d[(p+1)%_]],C=t[o],v=[f,P,y,x],b=[0,1,2,3];b.sort(((t,e)=>_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.compareVectorsOrigin(C,v[t],v[e])));let S=b[0];for(let t=1;t<4;t++){if(b[t]!==(S+1)%4)return-1;S=b[t]}{const t=f.sub(C),e=x.sub(C),s=e.dotProduct(t);if(s>0){const n=e.crossProduct(t),i=Math.abs(Math.atan2(n,s)),o=i*t.length(),a=i*e.length();if(o<=r||a<=r)return-1}}{const t=P.sub(C),e=y.sub(C),s=e.dotProduct(t);if(s>0){const n=e.crossProduct(t),i=Math.abs(Math.atan2(n,s)),o=i*t.length(),a=i*e.length();if(o<=r||a<=r)return-1}}return 1}}var _m=_Envelope_js__WEBPACK_IMPORTED_MODULE_1__.V;class pm extends ds{constructor(t){super(t||{XStart:0,YStart:0,XEnd:0,YEnd:0})}assignMove(t){return this!==t&&(this.m_description=t.m_description,t.m_description=null,this.m_attributes=t.m_attributes,t.m_attributes=null,this.m_XStart=t.m_XStart,t.m_XStart=Number.NaN,this.m_YStart=t.m_YStart,this.m_XEnd=t.m_XEnd,t.m_XEnd=Number.NaN,this.m_YEnd=t.m_YEnd),this}assignCopy(t){return this!==t&&t.copyTo(this),this}calculateLowerLength3D(){return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(0),0}calculateUpperLength3D(){return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(0),0}changeEndPoints3D(t,e){(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(0)}getClosestCoordinate3D(t,e,n){return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(0),0}getBoundary(){return Ks(this)}getAttributeAsDbl(t,e,s){if(0===e)return 0===s?fs(this,t):Ps(this,t);const n=_m.getInterpolation(e),i=this.getStartAttributeAsDbl(e,s),r=this.getEndAttributeAsDbl(e,s);return (0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.V)(n,i,r,t,_m.getDefaultValue(e))}constructFromCoords(t,e,s,n){this.dropAllAttributes(),this.setStartXYCoords(t,e),this.setEndXYCoords(s,n)}construct(t,e){this.dropAllAttributes(),this.setStartXY(t),this.setEndXY(e)}construct3D(t,e){(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(0)}constructPoint(t,e){this.assignVertexDescription(t.getDescription()),this.mergeVertexDescription(e.getDescription()),this.setStart(t),this.setEnd(e)}getGeometryType(){return pm.type}queryEnvelope(t){if(4===t.m_EnvelopeType){t.setEmpty(),t.assignVertexDescription(this.m_description);const e=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_3__.Envelope2D.constructEmpty();this.queryEnvelope(e),t.setEnvelope(e);for(let s=1,n=this.m_description.getAttributeCount();s<n;s++){const e=this.m_description.getSemantics(s);for(let n=0,i=_m.getComponentCount(e);s<i;s++){const s=this.queryInterval(e,n);t.setIntervalEnvelope(e,n,s)}}}else 2===t.m_EnvelopeType?t.setCoords({xmin:this.m_XStart,ymin:this.m_YStart,xmax:this.m_XEnd,ymax:this.m_YEnd}):3===t.m_EnvelopeType?(t.setEmpty(),t.mergeCoords(this.m_XStart,this.m_YStart,ts(this,0,1,0)),t.mergeCoords(this.m_XEnd,this.m_YEnd,ts(this,1,1,0))):(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.t)("env type not impl")}applyTransformation(t){(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(t instanceof _Transformation2D_js__WEBPACK_IMPORTED_MODULE_4__.T);const e=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P;e.x=this.m_XStart,e.y=this.m_YStart,t.transformInPlace(e),this.m_XStart=e.x,this.m_YStart=e.y,e.x=this.m_XEnd,e.y=this.m_YEnd,t.transformInPlace(e),this.m_XEnd=e.x,this.m_YEnd=e.y}createInstance(){return new pm({vd:this.m_description})}calculateLength2D(){return Math.sqrt(Xs(this))}calculateLength3D(t){return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(0),0}changeEndPoints2D(t,e){this.setStartXY(t),this.setEndXY(e),this.normalizeAfterEndpointChange()}queryControlPointsHelper(t){return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(t.length>=2),t[0]=this.getStartXY(),t[1]=this.getEndXY(),2}queryCoord2D(t,e){return _s(this,t,e)}queryCoord3D(t,e){(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(0)}getCoordZ(t){return ys(this,t)}queryCoord2DE(t,e){Cs(this,t,e)}queryCoord2DMP(t,e){e.assignPoint2D(this.getStartXY());const s=Xe.constructPoint2D(this.getEndXY());s.subThis(e),s.mulThis(_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.M.constructDouble(t)),e.addThis(s)}getCoordX(t){return fs(this,t)}getCoordY(t){return Ps(this,t)}cut(t,e,s){const n=new fm;return this.queryCut(t,e,n,s),n.releaseSegment()}queryCut(t,e,s,n){const i=s.createLine();n&&i.assignVertexDescription(this.m_description);const r=_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.getNAN();if(_s(this,t,r),i.setStartXYCoords(r.x,r.y),_s(this,e,r),i.setEndXYCoords(r.x,r.y),!n)for(let o=1,a=this.m_description.getAttributeCount();o<a;o++){const s=this.m_description.getSemantics(o),n=_m.getComponentCount(s);for(let r=0;r<n;r++){const n=this.getAttributeAsDbl(t,s,r);i.setStartAttribute(s,r,n);const o=this.getAttributeAsDbl(e,s,r);i.setEndAttribute(s,r,o)}}}queryDerivative(t,e){xs(this,t,e)}getClosestCoordinate(t,e){return _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.getClosestCoordinate(this.getStartXY(),this.getEndXY(),t,e)}getClosestCoordinateOnInterval(t,e,s=-1){const n=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P;this.queryCoord2D(e.vmin,n);const i=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P;this.queryCoord2D(e.vmax,i);const r=_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.getClosestCoordinate(n,i,t,!1);return us.recalculateParentT(e.vmin,e.vmax,r)}intersectionOfYMonotonicWithAxisX(t,e){const s=this.m_YEnd-this.m_YStart;if(!s)return t===this.m_YEnd?e:Number.NaN;const n=(t-this.m_YStart)/s;let i=fs(this,n);return 1===n&&(i=this.m_XEnd),i}isCurve(){return!1}isMonotoneQuickAndDirty(){return!0}isDegenerate(t){const e=this.m_XStart-this.m_XEnd,s=this.m_YStart-this.m_YEnd;return Math.sqrt(e*e+s*s)<=t}isDegenerate3D(t,e){return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(0),!1}queryLooseEnvelope(t){this.queryEnvelope(t)}clone(t){const e=new pm;return this.copyTo(e),e}tToLength(t){return t*this.calculateLength2D()}lengthToT(t){const e=this.calculateLength2D();return 0!==e?t/e:0}calculateWeightedAreaCentroid2D(t){const e=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P;return e.setCoords(0,0),e}calculateWeightedCentroid2D(){return this.getCoord2D(.5).mul(this.calculateLength2D())}getTangent(t){const e=_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P.getNAN();return e.setSub(this.getEndXY(),this.getStartXY()),e}getDerivative(t){const e=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P;return e.setSub(this.getEndXY(),this.getStartXY()),e}getCurvature(t){return 0}isIntersectingPoint(t,e,s){return Is(this,t,e,s)>=0}isIntersectingPoint3D(t,e,n,i,r=1){return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(0),!1}getYMonotonicParts(t,e){return 0}getMonotonicParts(t,e){return 0}getMonotonicPartParams(t,s){return s&&(t<2&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.a)(""),s[0]=0,s[1]=1),2}intersectionWithAxis2D(t,e,s,n){if(t){const t=this.m_YEnd-this.m_YStart;if(!t)return e===this.m_YEnd?-1:0;const i=(e-this.m_YStart)/t;return i<0||i>1?0:(s&&(s[0]=fs(this,i)),n&&(n[0]=i),1)}{const t=this.m_XEnd-this.m_XStart;if(!t)return e===this.m_XEnd?-1:0;const i=(e-this.m_XStart)/t;return i<0||i>1?0:(s&&(s[0]=Ps(this,i)),n&&(n[0]=i),1)}}calculateUpperLength2D(){return this.calculateLength2D()}calculateLowerLength2D(){return this.calculateLength2D()}normalizeAfterEndpointChange(){return!1}queryLooseEnvelopeOnInterval(t,e){if(2===e.m_EnvelopeType){let s=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.s)(t.vmin,0,1);const n=new _Point2D_js__WEBPACK_IMPORTED_MODULE_2__.P;return this.queryCoord2D(s,n),e.setCoords({pt:n}),s=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_2__.s)(t.vmax,0,1),this.queryCoord2D(s,n),void e.mergeNe(n)}(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.t)("3d dst not impl")}orientBottomUp(){Ss(this)}isLine(){return!0}isDegenerateToLineHelper(t){return!0}copyIgnoreAttributes(t){t.setStartXY(this.getStartXY()),t.setEndXY(this.getEndXY()),t.normalizeAfterEndpointChange()}calculateArea2DHelper(){return 0}absNormXYZ(t){return bs(this,t)}absNorm(){return this.getStartXY().norm(1)+this.getEndXY().norm(1)}queryEnvelopeW(t,e){e.setCoords(this.getCoord2D(t.vmin)),e.mergeNe(this.getCoord2D(t.vmax))}setSegmentFromCoordsForStitcher(t,e){vs(this,t[0],t[e-1])}writeInBufferStream(t,e){return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(0),0}readFromBufferStream(t,e){(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(0)}snapControlPoints(t){return!1}needsSnapControlPoints(t){return!1}calculateSpecialPointsForCracking(t,e){return 0}ensureXYMonotone(){return!1}setCoordsForIntersector(t,e,s){vs(this,t,e)}static isIntersectingLineLine(t,e,s,n){return Es(t,e,s,n)}static isIntersectingLineLine_(t,e,s,n){return Es(t,e,s,n)}copyToImpl(t){}reverseImpl(){}equalsImpl(t){return!0}equalsImplTol(t,e){return!0}swapImpl(t){}afterCompletedModification(){}endPointModified(){}clearEndPointModified(){}intersect(t,e,s,n,i){return um(!1,this,t,e,s,n,i)}intersectPoint(t,e,s){e.length<1&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.q)("");const i=Is(this,t,s,!1);return i>=0?(e&&(e[0]=i),1):0}isIntersecting(t,e,s){return 0!==rm(!1,this,t,e,s)}}pm.type=_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.G.enumLine;class fm{constructor(t){this.m_seg=null,this.m_curves=null,this.m_lineBuffer=new pm,this.m_mask=0,this.m_active=0,void 0!==t&&(t.copy?t.copy.copyTo(this,!1):t.move?this.assignMove(t.move):t.segment?this.copyFrom(t.segment,!!t.bIgnoreAttributes):(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.d)("bad constructor params"))}assignCopy(t){return t instanceof fm?this!==t&&t.copyTo(this,!1):this.copyFrom(t,!1),this}assignMove(t){if(t instanceof fm){if(this===t)return this;this.reset(),1&t.m_mask&&(this.m_lineBuffer=t.m_lineBuffer,t.m_lineBuffer=null,this.m_mask=1),this.m_curves=t.m_curves,this.m_mask=t.m_mask,this.m_active=t.m_active,t.reset(),this.m_seg=this.activeSegment(),t.m_seg=null}else{if(this.m_seg===t)return this;this.create(t.getGeometryType()),this.m_seg.swap(t)}return this}activeSegment(){switch(this.m_active){case 0:return null;case 1:return this.line();case 2:return this.arc();case 4:return this.bezier3();case 8:return this.bezier2();case 16:return this.rbezier2();default:(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.d)("")}}get(){return this.m_seg}reset(){1&this.m_mask&&(this.m_lineBuffer=null),this.m_mask>1&&(this.m_curves=null),this.m_mask=0,this.m_active=0}empty(){return null===this.m_seg}copyTo(t,e){this!==t&&(this.empty()?t.m_seg=null:t.copyFrom(this.m_seg,e))}copyToWithZ(t,e){(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(0)}createImpl(t){switch(t){case _Geometry_js__WEBPACK_IMPORTED_MODULE_0__.G.enumLine:1&this.m_mask||(this.m_lineBuffer=new pm,this.m_mask|=1,this.m_active=1);break;case _Geometry_js__WEBPACK_IMPORTED_MODULE_0__.G.enumEllipticArc:2&this.m_mask||(this.m_curves=new Xh,this.m_mask=1&this.m_mask|2,this.m_active=2);break;case _Geometry_js__WEBPACK_IMPORTED_MODULE_0__.G.enumBezier:4&this.m_mask||(this.m_curves=new ia,this.m_mask=1&this.m_mask|4,this.m_active=4);break;case _Geometry_js__WEBPACK_IMPORTED_MODULE_0__.G.enumBezier2:8&this.m_mask||(this.m_curves=new wn,this.m_mask=1&this.m_mask|8,this.m_active=8);break;case _Geometry_js__WEBPACK_IMPORTED_MODULE_0__.G.enumRationalBezier2:16&this.m_mask||(this.m_curves=new En,this.m_mask=1&this.m_mask|16,this.m_active=16);break;default:(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.a)("")}}create(t){t===_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.G.enumLine?this.createLine():t===_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.G.enumEllipticArc?this.createEllipticArc():t===_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.G.enumBezier?this.createCubicBezier():t===_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.G.enumRationalBezier2?this.createQuadraticRationalBezier():t===_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.G.enumBezier2?this.createQuadraticBezier():(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.a)("Segment_buffer.create")}copyFrom(t,e){this.m_seg!==t&&(this.create(t.getGeometryType()),e?t.copyIgnoreAttributes(this.m_seg):t.copyTo(this.m_seg))}copyFromWithZ(t,e){(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.g)(0)}line(){return this.m_lineBuffer}arc(){return this.m_curves}bezier3(){return this.m_curves}bezier2(){return this.m_curves}rbezier2(){return this.m_curves}createLine(){return this.createImpl(_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.G.enumLine),this.m_seg=this.line(),this.line()}createEllipticArc(){return this.createImpl(_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.G.enumEllipticArc),this.m_seg=this.arc(),this.arc()}createCubicBezier(){return this.createImpl(_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.G.enumBezier),this.m_seg=this.bezier3(),this.bezier3()}createQuadraticRationalBezier(){return this.createImpl(_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.G.enumRationalBezier2),this.m_seg=this.rbezier2(),this.rbezier2()}createQuadraticBezier(){return this.createImpl(_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.G.enumBezier2),this.m_seg=this.bezier2(),this.bezier2()}releaseSegment(){if(this.m_seg=null,0===this.m_active&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.d)("releaseSegment"),1&this.m_active){const t=this.line();return this.m_mask-=1,this.m_active=0,this.m_lineBuffer=null,t}let t;return 2&this.m_active?t=this.arc():4&this.m_active?t=this.bezier3():8&this.m_active?t=this.bezier2():16&this.m_active?t=this.rbezier2():(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.d)("releaseSegment"),this.m_mask-=this.m_active,this.m_active=0,this.m_curves=null,t}equals(t){return t instanceof fm?this===t||(this.empty()?t.empty():!t.empty()&&this.get().equals(t.get())):((0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.t)("seg comparison not yet impl"),!1)}}


/***/ }),

/***/ "./node_modules/@arcgis/core/chunks/OperatorClip.js":
/*!**********************************************************!*\
  !*** ./node_modules/@arcgis/core/chunks/OperatorClip.js ***!
  \**********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   O: () => (/* binding */ I),
/* harmony export */   a: () => (/* binding */ d),
/* harmony export */   c: () => (/* binding */ f)
/* harmony export */ });
/* harmony import */ var _SimpleGeometryCursor_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./SimpleGeometryCursor.js */ "./node_modules/@arcgis/core/chunks/SimpleGeometryCursor.js");
/* harmony import */ var _Geometry_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Geometry.js */ "./node_modules/@arcgis/core/chunks/Geometry.js");
/* harmony import */ var _Envelope_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Envelope.js */ "./node_modules/@arcgis/core/chunks/Envelope.js");
/* harmony import */ var _Envelope2D_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Envelope2D.js */ "./node_modules/@arcgis/core/chunks/Envelope2D.js");
/* harmony import */ var _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./MultiPathImpl.js */ "./node_modules/@arcgis/core/chunks/MultiPathImpl.js");
/* harmony import */ var _Point2D_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./Point2D.js */ "./node_modules/@arcgis/core/chunks/Point2D.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
function f(e,t,s,i,n){return v(e,t,null,s,i,n)}function v(e,s,o,x,p,c){const l=e.getGeometryType();if(l===_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumPoint){const t=e.getXY();return s.contains(t)?e:e.createInstance()}if(l===_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumEnvelope){const t=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_3__.Envelope2D.constructEmpty();if(e.queryEnvelope(t),t.intersect(s)){const s=e.clone();return s.setEnvelope(t),s}return e.createInstance()}if(e.isEmpty())return e;if(s.isEmpty())return e.createInstance();const _=s.clone();{const t=new _Envelope2D_js__WEBPACK_IMPORTED_MODULE_3__.Envelope2D;if(e.queryLooseEnvelope(t),_.containsEnvelope(t))return e;if(!_.isIntersecting(t))return e.createInstance();0===p&&(t.intersect(_),t.inflate(Math.max(.1*t.maxDimension(),1)),t.intersect(_),_.assign(t))}let u=x;if((null!==o||Number.isNaN(u))&&(u=(0,_Envelope_js__WEBPACK_IMPORTED_MODULE_2__.c)(o,_,!1).total()),l===_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumGeometryCollection){const t=e,s=e.createInstance();for(let e=0,i=t.getGeometryCount();e<i;e++){const i=t.getGeometry(e);if(i.isEmpty())continue;const n=f(i,_,u,p,c);n.isEmpty()||(n===i?s.addGeometry(n.clone()):s.addGeometry(n))}return s}(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.i)(l)||(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.a)("Clip: geometry not supported");const g=e.getImpl().getAccelerators();if(null!==g){const e=g.getRasterizedGeometry();(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(null===e)}switch(l){case _Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumMultiPoint:{const t=e;let s;const i=t.getPointCount(),n=t.getImpl().getAttributeStreamRef(0);let h=0;for(let e=0;e<i;e++){const i=n.readPoint2D(2*e);_.contains(i)||(0===h&&(s=t.createInstance()),h<e&&s.addPoints(t,h,e),h=e+1)}return h>0&&s.addPoints(t,h,i),0===h?t:((0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(null!==s),s)}case _Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumPolygon:case _Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumPolyline:return P(e,_,u,p,c);default:(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.d)("")}}function d(e,t,s,i,n,r){const h=new E(t,r),m=new _Envelope2D_js__WEBPACK_IMPORTED_MODULE_3__.Envelope2D;return e.queryLooseEnvelope(m),t.containsEnvelope(m)?e:t.isIntersecting(m)?h.clipPolesOut(e,n):e.createInstance()}function P(e,t,s,i,n){return new E(t,n).clipMultiPath2(e,s,i)}class E{constructor(e,t){this.m_shape=new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_4__.E,this.m_geometry=_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_4__.n,this.m_verticesOnExtentIndex=-1,this.m_verticesOnExtent=[],this.m_progressCounter=0,this.m_extent=new _Envelope2D_js__WEBPACK_IMPORTED_MODULE_3__.Envelope2D(e),this.m_progressTracker=t}progress_(){}clipMultiPath2(e,t,s){return e.getGeometryType()===_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumPolygon?this.clipPolygonOrProjectedPolyline2(e,s):this.clipPolyline(e,t)}clipPolygonOrProjectedPolyline2(e,t){const s=e.getGeometryType()===_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumPolyline;if(0===this.m_extent.width()||0===this.m_extent.height())return e.createInstance();const n=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_3__.Envelope2D.constructEmpty();e.queryLooseEnvelope(n),this.m_geometry=s?this.m_shape.addGeometry(e):this.m_shape.addGeometry(e,this.m_extent);const h=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_3__.Envelope2D.constructEmpty(),m=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_3__.Envelope2D.constructEmpty(),o=new _Point2D_js__WEBPACK_IMPORTED_MODULE_5__.P,c=new _Point2D_js__WEBPACK_IMPORTED_MODULE_5__.P,g=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_5__.d)(9,Number.NaN),y=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_5__.d)(9,Number.NaN),f=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_5__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_5__.P,9);let v=null;const d=new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_4__.L,P=[];let I=!1;for(let i=0;!I&&i<4;i++){let e=!1;const t=!!(1&i);let a=0;switch(i){case 0:a=this.m_extent.xmin,e=n.xmin<=a&&n.xmax>=a;break;case 1:a=this.m_extent.ymin,e=n.ymin<=a&&n.ymax>=a;break;case 2:a=this.m_extent.xmax,e=n.xmin<=a&&n.xmax>=a;break;case 3:a=this.m_extent.ymax,e=n.ymin<=a&&n.ymax>=a}if(e){I=!0;for(let e=this.m_shape.getFirstPath(this.m_geometry);e!==_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_4__.n;){let n=!0,p=-1,l=-1;const _=this.m_shape.getFirstVertex(e);let u=_;do{this.progress_(),v=this.m_shape.getSegment(u);let e=v;if(null===e){const t=this.m_shape.getNextVertex(u);if(t===_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_4__.n){(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(s),0===p&&P.push(u);break}this.m_shape.queryXY(u,o),d.setStartXY(o),this.m_shape.queryXY(t,c),d.setEndXY(c),e=d}e.queryLooseEnvelope(h);let _=E.checkSegmentIntersection(h,i,a);e.isCurve()&&0===_&&e.isCurve()&&(d.setStartXY(e.getStartXY()),d.setEndXY(e.getEndXY()),this.m_shape.replaceCurveWithLine(u),e=d,d.queryEnvelope(h),_=E.checkSegmentIntersection(h,i,a));let V=0,X=_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_4__.n;if(-1===_){const s=e.intersectionWithAxis2D(t,a,g,y);if(s>0){let i=null;if(e.isCurve()){i=f,(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(s<=9);for(let e=0;e<s;e++)t?f[e].setCoords(g[e],a):f[e].setCoords(a,g[e]);V=this.m_shape.splitSegmentAxisAware(u,y,s,i,t?1:0)}else V=this.m_shape.splitSegmentAxisAware(u,y,s,null,-1)}else V=0;V+=1;let h=u,x=this.m_shape.getNextVertex(h);e=null;for(let e=0;e<V;e++){this.m_shape.queryXY(h,o),this.m_shape.queryXY(x,c),v=this.m_shape.getSegment(h);let e=v;null===e&&(d.setStartXY(o),d.setEndXY(c),e=d),e.queryEnvelope(m);let s=E.checkSegmentIntersection(m,i,a);if(e.isCurve()&&0===s&&(this.m_shape.replaceCurveWithLine(h),d.setStartXY(o),d.setEndXY(c),e=d,e.queryEnvelope(m),s=E.checkSegmentIntersection(m,i,a)),-1===s){if(t){Math.abs(o.y-a)<Math.abs(c.y-a)?(o.y=a,this.m_shape.setXY(h,o)):(c.y=a,this.m_shape.setXY(x,c))}else{Math.abs(o.x-a)<Math.abs(c.x-a)?(o.x=a,this.m_shape.setXY(h,o)):(c.x=a,this.m_shape.setXY(x,c))}v=this.m_shape.getSegment(h),e=v,null===e&&(d.setStartXY(o),d.setEndXY(c),e=d),e.queryEnvelope(m),s=E.checkSegmentIntersection(m,i,a),-1===s&&(s=E.checkSegmentIntersectionLoose(m,i,a))}const r=p;p=s,-1===l&&(l=p),0===r&&1===p||1===r&&0===p||0===r&&0===p&&P.push(h),1===p&&(I=!1,n=!1),h=x,X=h,x=this.m_shape.getNextVertex(x)}}if(0===V){const e=p;p=_,-1===l&&(l=p),0===e&&p>=1||e>=1&&0===p||0===e&&0===p&&P.push(u),1===p&&(I=!1,n=!1),X=this.m_shape.getNextVertex(u)}if(u=X,P.length>=256){for(let e=1,t=P.length-1;e<t;e++){const t=P[e];s?this.m_shape.snapVertexForPoleClipping(t,a):this.m_shape.removeVertex(t,!1)}P[1]=P.at(-1),P.length=2}}while(u!==_);if(!n){0!==l||!s&&0!==p&&2!==p||P.push(_);for(let e=0,t=P.length;e<t;e++){const t=P[e];s?this.m_shape.snapVertexForPoleClipping(t,a):this.m_shape.removeVertex(t,!1)}}P.length=0,e=n||0===this.m_shape.getPathSize(e)?this.m_shape.removePath(e):this.m_shape.getNextPath(e)}}}if(I)return e.createInstance();v=null,s?this.removeSpikesAlongPoles():this.resolveBoundaryOverlaps(),t>0&&this.densifyAlongClipExtent(t);const V=this.m_shape.getGeometry(this.m_geometry);if(V.getGeometryType()===_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumPolygon){V.setFillRule(e.getFillRule())}return V}clipPolyline(e,t){const s=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_3__.Envelope2D.constructEmpty(),i=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_3__.Envelope2D.constructEmpty(),n=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_5__.d)(9,Number.NaN),r=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_5__.d)(9,Number.NaN),h=new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_4__.S;let m=e;const o=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_3__.Envelope2D.constructEmpty();e.queryLooseEnvelope(o);for(let a=0;a<4;a++){let t=!1;const x=!!(1&a);let p=0;switch(a){case 0:p=this.m_extent.xmin,t=o.xmin<=p&&o.xmax>=p;break;case 1:p=this.m_extent.ymin,t=o.ymin<=p&&o.ymax>=p;break;case 2:p=this.m_extent.xmax,t=o.xmin<=p&&o.xmax>=p;break;case 3:p=this.m_extent.ymax,t=o.ymin<=p&&o.ymax>=p}if(!t)continue;const c=m;m=e.createInstance();const l=c.getImpl().querySegmentIterator();l.resetToFirstPath();const _=new _Point2D_js__WEBPACK_IMPORTED_MODULE_5__.P,g=new _Point2D_js__WEBPACK_IMPORTED_MODULE_5__.P;for(;l.nextPath();){let e=-1,t=!0;for(;l.hasNextSegment();){this.progress_();const o=l.nextSegment(),c=o.isDegenerate(0);o.queryLooseEnvelope(s);const u=E.checkSegmentIntersection(s,a,p);if(-1===u){const s=o.intersectionWithAxis2D(x,p,n,r);let l=0;_.assign(o.getStartXY());for(let u=0;u<=s;u++){const y=u<s?r[u]:1;if(l===y)continue;o.queryCut(l,y,h,!1);const f=h.get();let v=!1;if(f.getStartXY().equals(_)||(f.setStartXY(_),v=!0),u<s&&(x?(g.x=n[u],g.y=p):(g.x=p,g.y=n[u]),f.getEndXY().equals(g)||(f.setEndXY(g),v=!0)),v&&f.normalizeAfterEndpointChange(),!c&&f.isDegenerate(0))continue;f.queryEnvelope(i);let d=E.checkSegmentIntersection(i,a,p);if(-1===d){const e=f.getStartXY(),t=f.getEndXY();if(v=!1,x){Math.abs(e.y-p)<Math.abs(t.y-p)?(e.y=p,f.setStartXY(e),e.equals(f.getStartXY())||(f.setStartXY(e),v=!0)):(t.y=p,t.equals(f.getEndXY())||(f.setEndXY(t),v=!0))}else{Math.abs(e.x-p)<Math.abs(t.x-p)?(e.x=p,e.equals(f.getStartXY())||(f.setStartXY(e),v=!0)):(t.x=p,t.equals(f.getEndXY())||(f.setEndXY(t),v=!0))}v&&f.normalizeAfterEndpointChange(),f.queryEnvelope(i),d=E.checkSegmentIntersection(i,a,p),-1===d&&(d=E.checkSegmentIntersectionLoose(i,a,p))}_.assign(f.getEndXY()),l=y,e=d,e>=1?(m.addSegment(f,t),t=!1):t=!0}}else e=u,e>=1?(m.addSegment(o,t),t=!1):t=!0}}}return m}static checkSegmentIntersection(e,t,s){switch(t){case 0:return e.xmin<s&&e.xmax<=s?0:e.xmin>=s?e.xmax===s?2:1:-1;case 1:return e.ymin<s&&e.ymax<=s?0:e.ymin>=s?e.ymax===s?2:1:-1;case 2:return e.xmin>=s&&e.xmax>s?0:e.xmax<=s?e.xmin===s?2:1:-1;case 3:return e.ymin>=s&&e.ymax>s?0:e.ymax<=s?e.ymin===s?2:1:-1}return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.d)(""),0}static checkSegmentIntersectionLoose(e,t,s){switch(t){case 0:{const t=Math.abs(e.xmin-s),i=Math.abs(e.xmax-s);return e.xmin<s?t>i?0:1:((0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.d)(""),1)}case 1:{const t=Math.abs(e.ymin-s),i=Math.abs(e.ymax-s);return e.ymin<s?t>i?0:1:((0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.d)(""),1)}case 2:{const t=Math.abs(e.xmin-s),i=Math.abs(e.xmax-s);return e.xmax>s?t<i?0:1:((0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.d)(""),1)}case 3:{const t=Math.abs(e.ymin-s),i=Math.abs(e.ymax-s);return e.ymax>s?t<i?0:1:((0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.d)(""),1)}}return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.d)(""),0}resolveBoundaryOverlaps(){this.m_verticesOnExtentIndex=-1,this.splitSegments(!1,this.m_extent.xmin),this.splitSegments(!1,this.m_extent.xmax),this.splitSegments(!0,this.m_extent.ymin),this.splitSegments(!0,this.m_extent.ymax),this.m_verticesOnExtent.length=0,this.m_verticesOnExtentIndex=this.m_shape.createUserIndex();const e=new _Point2D_js__WEBPACK_IMPORTED_MODULE_5__.P;for(let t=this.m_shape.getFirstPath(this.m_geometry);t!==_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_4__.n;t=this.m_shape.getNextPath(t)){let s=this.m_shape.getFirstVertex(t);for(let i=0,n=this.m_shape.getPathSize(t);i<n;i++,s=this.m_shape.getNextVertex(s))this.progress_(),this.m_shape.queryXY(s,e),this.m_extent.xmin!==e.x&&this.m_extent.xmax!==e.x&&this.m_extent.ymin!==e.y&&this.m_extent.ymax!==e.y||(this.m_shape.setUserIndex(s,this.m_verticesOnExtentIndex,this.m_verticesOnExtent.length),this.m_verticesOnExtent.push(s))}this.dbgCheckPathFirst(),this.resolveOverlaps(!1,this.m_extent.xmin),this.dbgCheckPathFirst(),this.resolveOverlaps(!1,this.m_extent.xmax),this.dbgCheckPathFirst(),this.resolveOverlaps(!0,this.m_extent.ymin),this.dbgCheckPathFirst(),this.resolveOverlaps(!0,this.m_extent.ymax),this.fixPaths()}densifyAlongClipExtent(e){const t=new _Point2D_js__WEBPACK_IMPORTED_MODULE_5__.P(0,0),s=new _Point2D_js__WEBPACK_IMPORTED_MODULE_5__.P(0,0),i=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_5__.d)(2048,Number.NaN);for(let n=this.m_shape.getFirstPath(this.m_geometry);n!==_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_4__.n;n=this.m_shape.getNextPath(n)){const m=this.m_shape.getFirstVertex(n);let a=m;do{const n=this.m_shape.getNextVertex(a);this.m_shape.queryXY(a,t);let m=-1;if(t.x===this.m_extent.xmin?(this.m_shape.queryXY(n,s),s.x===this.m_extent.xmin&&(m=1)):t.x===this.m_extent.xmax&&(this.m_shape.queryXY(n,s),s.x===this.m_extent.xmax&&(m=1)),t.y===this.m_extent.ymin?(this.m_shape.queryXY(n,s),s.y===this.m_extent.ymin&&(m=0)):t.y===this.m_extent.ymax&&(this.m_shape.queryXY(n,s),s.y===this.m_extent.ymax&&(m=0)),-1===m){a=n;continue}if(this.isCurve(a)){a=n;continue}const o=t.clone(),x=new _Point2D_js__WEBPACK_IMPORTED_MODULE_5__.P(0,0);if(m){const i=t.y-this.m_extent.ymin;x.y=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_5__.e)(s.y-t.y),o.y=e*(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_5__.f)(Math.floor(Math.abs(i)/e),i)+this.m_extent.ymin,x.y<0&&(o.y+=e)}else{const i=t.x-this.m_extent.xmin;x.x=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_5__.e)(s.x-t.x),o.x=e*(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_5__.f)(Math.floor(Math.abs(i)/e),i)+this.m_extent.xmin,x.x<0&&(o.x+=e)}const p=m?s.y-t.y:s.x-t.x,c=Math.abs(p);if(c/e>65536&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.d)(""),c>0){const s=Math.trunc(c/e)+2;i.length<s&&(i.length=s);let n=0;for(let h=0;;h++){const s=o.add(x.mul(h*e)),a=(m?s.y-t.y:s.x-t.x)/p;if(a>=1)break;a<=0||((0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(n<=i.length),i[n]=a,n++)}0!==n&&this.m_shape.splitSegment(a,i,n)}a=n}while(a!==m)}}splitSegments(e,t){let s=-1;const i=new _Point2D_js__WEBPACK_IMPORTED_MODULE_5__.P,n=[];for(let _=this.m_shape.getFirstPath(this.m_geometry);_!==_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_4__.n;_=this.m_shape.getNextPath(_)){let r=this.m_shape.getFirstVertex(_),h=_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_4__.n;for(let m=0,a=this.m_shape.getPathSize(_);m<a;m++,r=h)if(this.progress_(),h=this.m_shape.getNextVertex(r),this.m_shape.queryXY(r,i),(e?i.y===t:i.x===t)&&(this.m_shape.queryXY(h,i),e?i.y===t:i.x===t)){if(this.isCurve(r))continue;-1===s&&(s=this.m_shape.createUserIndex()),1!==this.m_shape.getUserIndex(r,s)&&(n.push(r),this.m_shape.setUserIndex(r,s,1)),1!==this.m_shape.getUserIndex(h,s)&&(n.push(h),this.m_shape.setUserIndex(h,s,1))}}if(-1!==s&&this.m_shape.removeUserIndex(s),n.length<3)return;n.sort(((e,t)=>this.compareVertices(e,t)));const r=new _Point2D_js__WEBPACK_IMPORTED_MODULE_5__.P,h=new _Point2D_js__WEBPACK_IMPORTED_MODULE_5__.P,m=new _Point2D_js__WEBPACK_IMPORTED_MODULE_5__.P;h.setNAN();let a=-1;let o=[],p=[];const c=this.m_shape.createUserIndex(),l=this.m_shape.createUserIndex();for(let x=0,_=n.length;x<_;x++){const s=n[x];if(this.m_shape.queryXY(s,i),!i.isEqualPoint2D(h)){if(-1===a){a=x,h.setCoordsPoint2D(i);continue}for(let i=a;i<x;i++){const s=n[i],m=this.m_shape.getNextVertex(s),a=this.m_shape.getPrevVertex(s);let x=!1;this.m_shape.queryXY(m,r),h.compare(r)<0&&(e?r.y===t:r.x===t)&&(this.isCurve(s)||(o.push(s),x=!0,this.m_shape.setUserIndex(s,l,1))),this.m_shape.queryXY(a,r),h.compare(r)<0&&(e?r.y===t:r.x===t)&&(this.isCurve(a)||(x||o.push(s),this.m_shape.setUserIndex(s,c,1)))}for(let e=0,t=o.length;e<t;e++){const t=o[e],s=this.m_shape.getUserIndex(t,c),n=this.m_shape.getUserIndex(t,l);if(1===s){const e=this.m_shape.getPrevVertex(t);this.m_shape.queryXY(e,m);let s=0;if(!m.isEqualPoint2D(i)){const n=_Point2D_js__WEBPACK_IMPORTED_MODULE_5__.P.distance(h,m);s=_Point2D_js__WEBPACK_IMPORTED_MODULE_5__.P.distance(m,i)/n,0===s?s=Number.EPSILON:1===s&&(s=1-Number.EPSILON),this.m_shape.splitSegment(e,[s],1);const r=this.m_shape.getPrevVertex(t);this.m_shape.setXY(r,i),p.push(r),this.m_shape.setUserIndex(r,c,1),this.m_shape.setUserIndex(r,l,-1)}}if(1===n){const e=this.m_shape.getNextVertex(t);this.m_shape.queryXY(e,m);let s=0;if(!m.isEqualPoint2D(i)){const e=_Point2D_js__WEBPACK_IMPORTED_MODULE_5__.P.distance(h,m);s=_Point2D_js__WEBPACK_IMPORTED_MODULE_5__.P.distance(h,i)/e,0===s?s=Number.EPSILON:1===s&&(s=1-Number.EPSILON),this.m_shape.splitSegment(t,[s],1);const n=this.m_shape.getNextVertex(t);this.m_shape.setXY(n,i),p.push(n),this.m_shape.setUserIndex(n,c,-1),this.m_shape.setUserIndex(n,l,1)}}}const s=o;o=p,p=s,p.length=0,a=x,h.setCoordsPoint2D(i)}}this.m_shape.removeUserIndex(c),this.m_shape.removeUserIndex(l)}resolveOverlaps(e,t){const s=new _Point2D_js__WEBPACK_IMPORTED_MODULE_5__.P,i=[];let n=-1;for(let r=0,o=this.m_verticesOnExtent.length;r<o;r++){this.progress_();const h=this.m_verticesOnExtent[r];if(h===_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_4__.n)continue;const m=this.m_shape.getNextVertex(h);if(this.m_shape.queryXY(h,s),(e?s.y===t:s.x===t)&&(this.m_shape.queryXY(m,s),e?s.y===t:s.x===t)){if(this.isCurve(h))continue;-1===n&&(n=this.m_shape.createUserIndex()),-2!==this.m_shape.getUserIndex(h,n)&&(i.push(h),this.m_shape.setUserIndex(h,n,-2)),-2!==this.m_shape.getUserIndex(m,n)&&(i.push(m),this.m_shape.setUserIndex(m,n,-2))}}if(0===i.length)return void(-1!==n&&this.m_shape.removeUserIndex(n));(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(-1!==n),i.sort(((e,t)=>this.compareVertices(e,t)));for(let r=0,o=i.length;r<o;r++){const e=i[r];this.m_shape.setUserIndex(e,n,r)}const h=new _Point2D_js__WEBPACK_IMPORTED_MODULE_5__.P,m=new _Point2D_js__WEBPACK_IMPORTED_MODULE_5__.P;m.setNAN();let a=-1;for(let r=0,o=i.length;r<o;r++){this.progress_();const o=i[r];if(o!==_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_4__.n&&(this.m_shape.queryXY(o,s),!s.isEqualPoint2D(m))){if(-1!==a)for(;;){let s=!1;const o=r;for(let p=a;p<o;p++){const a=i[p];if(a===_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_4__.n)continue;let o=_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_4__.n;const c=this.m_shape.getNextVertex(a);this.m_shape.queryXY(c,h),m.compare(h)<0&&(e?h.y===t:h.x===t)&&(this.isCurve(a)||(o=c));let l=_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_4__.n;const _=this.m_shape.getPrevVertex(a);if(this.m_shape.queryXY(_,h),m.compare(h)<0&&(e?h.y===t:h.x===t)&&(this.isCurve(_)||(l=_)),o===_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_4__.n||l===_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_4__.n){if(o!==_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_4__.n||l!==_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_4__.n){for(let c=p+1;c<r;c++){const r=i[c];if(r===_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_4__.n)continue;const p=this.m_shape.getNextVertex(r);let _=_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_4__.n;this.m_shape.queryXY(p,h),m.compare(h)<0&&(e?h.y===t:h.x===t)&&(this.isCurve(r)||(_=p));const u=this.m_shape.getPrevVertex(r);let g=_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_4__.n;if(this.m_shape.queryXY(u,h),m.compare(h)<0&&(e?h.y===t:h.x===t)&&(this.isCurve(u)||(g=u)),_!==_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_4__.n&&g!==_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_4__.n){this.beforeRemoveVertex(r,i,n),this.m_shape.removeVertex(r,!1),this.beforeRemoveVertex(_,i,n),this.m_shape.removeVertex(_,!1),s=!0;break}if(o!==_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_4__.n&&g!==_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_4__.n){this.removeOverlap(i,a,o,r,g,n),s=!0;break}if(l!==_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_4__.n&&_!==_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_4__.n){this.removeOverlap(i,r,_,a,l,n),s=!0;break}}if(s)break}}else this.beforeRemoveVertex(a,i,n),this.m_shape.removeVertex(a,!1),this.beforeRemoveVertex(o,i,n),this.m_shape.removeVertex(o,!1),s=!0}if(!s)break}a=r,m.setCoordsPoint2D(s)}}this.m_shape.removeUserIndex(n)}beforeRemoveVertex(e,t,s){let i=this.m_shape.getUserIndex(e,s);(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(i>=0),t[i]=_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_4__.n,i=this.m_shape.getUserIndex(e,this.m_verticesOnExtentIndex),(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(i>=0),this.m_verticesOnExtent[i]=_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_4__.n;const n=this.m_shape.getPathFromVertex(e);if(n!==_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_4__.n){this.m_shape.getFirstVertex(n)===e&&(this.m_shape.setFirstVertex(n,_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_4__.n),this.m_shape.setLastVertex(n,_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_4__.n))}}removeOverlap(e,t,s,i,n,r){this.m_shape.setNextVertex(t,i),this.m_shape.setPrevVertex(i,t),this.m_shape.setPrevVertex(s,n),this.m_shape.setNextVertex(n,s),this.beforeRemoveVertex(i,e,r),this.m_shape.removeVertexInternal(i,!1),this.beforeRemoveVertex(n,e,r),this.m_shape.removeVertexInternal(n,!0)}removeSpikesAlongPoles(){this.removeSpikesOnPole(this.m_extent.ymin),this.removeSpikesOnPole(this.m_extent.ymax)}removeSpikesOnPole(e){for(let t=this.m_shape.getFirstPath(this.m_geometry);t!==_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_4__.n;t=this.m_shape.getNextPath(t)){const s=this.m_shape.getPathSize(t);if(s<3)continue;let i=this.m_shape.getFirstVertex(t);const n=new _Point2D_js__WEBPACK_IMPORTED_MODULE_5__.P;this.m_shape.queryXY(i,n);let r=n.y===e&&!this.isCurve(i);i=this.m_shape.getNextVertex(i);const h=new _Point2D_js__WEBPACK_IMPORTED_MODULE_5__.P;this.m_shape.queryXY(i,h);let m=h.y===e&&!this.isCurve(i);i=this.m_shape.getNextVertex(i);const a=new _Point2D_js__WEBPACK_IMPORTED_MODULE_5__.P;for(let t=0,o=s-2;t<o;t++,i=this.m_shape.getNextVertex(i)){this.progress_(),this.m_shape.queryXY(i,a);const t=a.y===e;if(m&&r&&t){if((h.x-n.x)*(a.x-h.x)<=0){this.m_shape.removeVertex(this.m_shape.getPrevVertex(i),!1),h.setCoordsPoint2D(a),m=t&&!this.isCurve(i);continue}}n.setCoordsPoint2D(h),r=m,h.setCoordsPoint2D(a),m=t&&!this.isCurve(i)}}}fixPaths(){for(let n=0,r=this.m_verticesOnExtent.length;n<r;n++){const e=this.m_verticesOnExtent[n];e!==_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_4__.n&&this.m_shape.setPathToVertex(e,_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_4__.n)}const e=this.m_shape.hasCurves();let t=0,s=0;for(let n=this.m_shape.getFirstPath(this.m_geometry);n!==_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_4__.n;){const e=this.m_shape.getFirstVertex(n);if(e===_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_4__.n||n!==this.m_shape.getPathFromVertex(e)){const e=n;n=this.m_shape.getNextPath(n),this.m_shape.setFirstVertex(e,_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_4__.n),this.m_shape.removePathOnly(e);continue}let i=e,r=0;do{this.m_shape.setPathToVertex(i,n),r++,i=this.m_shape.getNextVertex(i)}while(i!==e);this.m_shape.setRingAreaValid(n,!1),this.m_shape.setLastVertex(n,this.m_shape.getPrevVertex(e)),this.m_shape.setPathSize(n,r),s+=r,t++,n=this.m_shape.getNextPath(n)}for(let n=0,h=this.m_verticesOnExtent.length;n<h;n++){let i=this.m_verticesOnExtent[n];if(i===_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_4__.n)continue;let h=this.m_shape.getPathFromVertex(i);if(h!==_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_4__.n)continue;h=this.m_shape.insertPath(this.m_geometry,_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_4__.n);let m=!1,a=0;const o=i;do{this.m_shape.setPathToVertex(i,h),a++,e&&a<=2&&(m||=this.isCurve(i)),i=this.m_shape.getNextVertex(i)}while(i!==o);if(m?0===a:a<=2){let e=this.m_shape.getUserIndex(o,this.m_verticesOnExtentIndex);(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(e>=0),this.m_verticesOnExtent[e]=_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_4__.n;const t=this.m_shape.removeVertex(o,!1);2===a&&(e=this.m_shape.getUserIndex(t,this.m_verticesOnExtentIndex),e>=0&&(this.m_verticesOnExtent[e]=_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_4__.n),this.m_shape.removeVertex(t,!1));const s=h;h=this.m_shape.getNextPath(h),this.m_shape.setFirstVertex(s,_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_4__.n),this.m_shape.removePathOnly(s)}else this.m_shape.setClosedPath(h,!0),this.m_shape.setPathSize(h,a),this.m_shape.setFirstVertex(h,o),this.m_shape.setLastVertex(h,this.m_shape.getPrevVertex(o)),this.m_shape.setRingAreaValid(h,!1),s+=a,t++}this.m_shape.setGeometryPathCount(this.m_geometry,t),this.m_shape.setGeometryVertexCount(this.m_geometry,s);let i=0;for(let n=this.m_shape.getFirstGeometry();n!==_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_4__.n;n=this.m_shape.getNextGeometry(n))i+=this.m_shape.getPointCount(n);this.m_shape.setTotalPointCount(i)}dbgCheckPathFirst(){}isCurve(e){return null!==this.m_shape.getSegment(e)}compareVertices(e,t){const s=new _Point2D_js__WEBPACK_IMPORTED_MODULE_5__.P;this.m_shape.queryXY(e,s);const i=new _Point2D_js__WEBPACK_IMPORTED_MODULE_5__.P;this.m_shape.queryXY(t,i);return s.compare(i)}clipPolesOut(e,t){return this.clipPolygonOrProjectedPolyline2(e,t)}}class I{getOperatorType(){return 10004}supportsCurves(){return!0}accelerateGeometry(e,t,s){return!1}canAccelerateGeometry(e){return!1}executeMany(e,t,s,i){return new V(e,t,s,i)}execute(e,t,s,i){return X(e,t,s,i)}}class V extends _SimpleGeometryCursor_js__WEBPACK_IMPORTED_MODULE_0__.G{constructor(e,s,i,n){super(),this.m_progressTracker=n,this.m_index=-1,e||(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.a)(""),this.m_envelope=s,this.m_inputGeometryCursor=e,this.m_spatialRefImpl=i,this.m_tolerance=(0,_Envelope_js__WEBPACK_IMPORTED_MODULE_2__.c)(i,s,!1).total()}next(){let e;return(e=this.m_inputGeometryCursor.next())?((0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.c)(e),this.m_index=this.m_inputGeometryCursor.getGeometryID(),f(e,this.m_envelope,this.m_tolerance,0,this.m_progressTracker)):null}getGeometryID(){return this.m_index}tock(){return!0}getRank(){return 1}}function X(e,t,s,i){return v(e,t,s,Number.NaN,0,i)}


/***/ }),

/***/ "./node_modules/@arcgis/core/chunks/OperatorDefinitions.js":
/*!*****************************************************************!*\
  !*** ./node_modules/@arcgis/core/chunks/OperatorDefinitions.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   NonSimpleResult: () => (/* binding */ e)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
class e{assign(e){this.m_reason=e.m_reason,this.m_vertexIndex1=e.m_vertexIndex1,this.m_vertexIndex2=e.m_vertexIndex2}constructor(e,t,s){void 0!==e?(this.m_reason=e,this.m_vertexIndex1=t,this.m_vertexIndex2=s):(this.m_reason=0,this.m_vertexIndex1=-1,this.m_vertexIndex2=-2)}clear(){this.m_reason=0,this.m_vertexIndex1=-1,this.m_vertexIndex2=-1}}


/***/ }),

/***/ "./node_modules/@arcgis/core/chunks/OperatorDensify.js":
/*!*************************************************************!*\
  !*** ./node_modules/@arcgis/core/chunks/OperatorDensify.js ***!
  \*************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   O: () => (/* binding */ m)
/* harmony export */ });
/* harmony import */ var _SimpleGeometryCursor_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./SimpleGeometryCursor.js */ "./node_modules/@arcgis/core/chunks/SimpleGeometryCursor.js");
/* harmony import */ var _Geometry_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Geometry.js */ "./node_modules/@arcgis/core/chunks/Geometry.js");
/* harmony import */ var _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./MultiPathImpl.js */ "./node_modules/@arcgis/core/chunks/MultiPathImpl.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
var n=_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.D;class i extends _SimpleGeometryCursor_js__WEBPACK_IMPORTED_MODULE_0__.G{constructor(e,t,r,s,i,m){super(),this.m_densificator=new n(t,r,s,m,!1,i),this.m_index=-1,this.m_inputGeoms=e}tock(){return!0}getRank(){return 1}next(){let e=null;for(;e=this.m_inputGeoms.next();)return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.c)(e),this.m_index=this.m_inputGeoms.getGeometryID(),this.densify(e);return null}getGeometryID(){return this.m_index}densify(e){return this.m_densificator.densify(e)}}class m{getOperatorType(){return 10202}accelerateGeometry(e,t,r){return!1}canAccelerateGeometry(e){return!1}supportsCurves(){return!0}executeMany(e,t,r,s,n,m=12e3){return new i(e,t,r,s,m,n)}execute(e,t,s,n,i,m=12e3){return (0,_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.d)(e,t,s,n,i,m)}}


/***/ }),

/***/ "./node_modules/@arcgis/core/chunks/ProjectionTransformation.js":
/*!**********************************************************************!*\
  !*** ./node_modules/@arcgis/core/chunks/ProjectionTransformation.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   $: () => (/* binding */ Rh),
/* harmony export */   A: () => (/* binding */ Dc),
/* harmony export */   B: () => (/* binding */ wc),
/* harmony export */   C: () => (/* binding */ fa),
/* harmony export */   D: () => (/* binding */ Rg),
/* harmony export */   E: () => (/* binding */ ds),
/* harmony export */   F: () => (/* binding */ mg),
/* harmony export */   G: () => (/* binding */ Ps),
/* harmony export */   H: () => (/* binding */ Wl),
/* harmony export */   I: () => (/* binding */ cs),
/* harmony export */   J: () => (/* binding */ Xl),
/* harmony export */   K: () => (/* binding */ ql),
/* harmony export */   L: () => (/* binding */ Wo),
/* harmony export */   M: () => (/* binding */ Vc),
/* harmony export */   N: () => (/* binding */ Oh),
/* harmony export */   O: () => (/* binding */ Eh),
/* harmony export */   P: () => (/* binding */ Cc),
/* harmony export */   Q: () => (/* binding */ Yh),
/* harmony export */   R: () => (/* binding */ Wu),
/* harmony export */   S: () => (/* binding */ as),
/* harmony export */   T: () => (/* binding */ Ka),
/* harmony export */   U: () => (/* binding */ Ag),
/* harmony export */   V: () => (/* binding */ cm),
/* harmony export */   W: () => (/* binding */ kl),
/* harmony export */   X: () => (/* binding */ Pc),
/* harmony export */   Y: () => (/* binding */ um),
/* harmony export */   Z: () => (/* binding */ Lh),
/* harmony export */   _: () => (/* binding */ zh),
/* harmony export */   a: () => (/* binding */ Yu),
/* harmony export */   a0: () => (/* binding */ Xh),
/* harmony export */   a1: () => (/* binding */ _m),
/* harmony export */   a2: () => (/* binding */ qs),
/* harmony export */   a3: () => (/* binding */ Is),
/* harmony export */   a4: () => (/* binding */ vs),
/* harmony export */   a5: () => (/* binding */ Th),
/* harmony export */   a6: () => (/* binding */ Us),
/* harmony export */   a7: () => (/* binding */ Cs),
/* harmony export */   a8: () => (/* binding */ jl),
/* harmony export */   a9: () => (/* binding */ bc),
/* harmony export */   aA: () => (/* binding */ Qu),
/* harmony export */   aB: () => (/* binding */ Ku),
/* harmony export */   aC: () => (/* binding */ Hm),
/* harmony export */   aD: () => (/* binding */ ac),
/* harmony export */   aE: () => (/* binding */ Lu),
/* harmony export */   aF: () => (/* binding */ ss),
/* harmony export */   aG: () => (/* binding */ t_),
/* harmony export */   aH: () => (/* binding */ s_),
/* harmony export */   aI: () => (/* binding */ n_),
/* harmony export */   aJ: () => (/* binding */ r_),
/* harmony export */   aK: () => (/* binding */ i_),
/* harmony export */   aa: () => (/* binding */ Qg),
/* harmony export */   ab: () => (/* binding */ Wg),
/* harmony export */   ac: () => (/* binding */ Lg),
/* harmony export */   ad: () => (/* binding */ cl),
/* harmony export */   ae: () => (/* binding */ fg),
/* harmony export */   af: () => (/* binding */ sr),
/* harmony export */   ag: () => (/* binding */ ir),
/* harmony export */   ah: () => (/* binding */ zm),
/* harmony export */   ai: () => (/* binding */ Wm),
/* harmony export */   aj: () => (/* binding */ ha),
/* harmony export */   ak: () => (/* binding */ Ra),
/* harmony export */   al: () => (/* binding */ ka),
/* harmony export */   am: () => (/* binding */ Uu),
/* harmony export */   an: () => (/* binding */ er),
/* harmony export */   ao: () => (/* binding */ ju),
/* harmony export */   ap: () => (/* binding */ Sa),
/* harmony export */   aq: () => (/* binding */ ya),
/* harmony export */   ar: () => (/* binding */ pa),
/* harmony export */   as: () => (/* binding */ nh),
/* harmony export */   at: () => (/* binding */ tn),
/* harmony export */   au: () => (/* binding */ sn),
/* harmony export */   av: () => (/* binding */ Ys),
/* harmony export */   aw: () => (/* binding */ tc),
/* harmony export */   ax: () => (/* binding */ Ic),
/* harmony export */   ay: () => (/* binding */ zl),
/* harmony export */   az: () => (/* binding */ ks),
/* harmony export */   b: () => (/* binding */ jm),
/* harmony export */   c: () => (/* binding */ Ou),
/* harmony export */   d: () => (/* binding */ ul),
/* harmony export */   e: () => (/* binding */ Lm),
/* harmony export */   f: () => (/* binding */ Km),
/* harmony export */   g: () => (/* binding */ wh),
/* harmony export */   h: () => (/* binding */ Lo),
/* harmony export */   i: () => (/* binding */ Mu),
/* harmony export */   j: () => (/* binding */ al),
/* harmony export */   k: () => (/* binding */ ih),
/* harmony export */   l: () => (/* binding */ da),
/* harmony export */   m: () => (/* binding */ _a),
/* harmony export */   n: () => (/* binding */ aa),
/* harmony export */   o: () => (/* binding */ Fa),
/* harmony export */   p: () => (/* binding */ Ma),
/* harmony export */   q: () => (/* binding */ la),
/* harmony export */   r: () => (/* binding */ kr),
/* harmony export */   s: () => (/* binding */ hh),
/* harmony export */   t: () => (/* binding */ Zn),
/* harmony export */   u: () => (/* binding */ Ko),
/* harmony export */   v: () => (/* binding */ Hu),
/* harmony export */   w: () => (/* binding */ Al),
/* harmony export */   x: () => (/* binding */ Tl),
/* harmony export */   y: () => (/* binding */ Zl),
/* harmony export */   z: () => (/* binding */ qh)
/* harmony export */ });
/* harmony import */ var _Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Envelope2D.js */ "./node_modules/@arcgis/core/chunks/Envelope2D.js");
/* harmony import */ var _Geometry_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Geometry.js */ "./node_modules/@arcgis/core/chunks/Geometry.js");
/* harmony import */ var _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./MultiPathImpl.js */ "./node_modules/@arcgis/core/chunks/MultiPathImpl.js");
/* harmony import */ var _Envelope_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Envelope.js */ "./node_modules/@arcgis/core/chunks/Envelope.js");
/* harmony import */ var _Point2D_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./Point2D.js */ "./node_modules/@arcgis/core/chunks/Point2D.js");
/* harmony import */ var _tslib_es6_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _Transformation2D_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./Transformation2D.js */ "./node_modules/@arcgis/core/chunks/Transformation2D.js");
/* harmony import */ var _OperatorClip_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./OperatorClip.js */ "./node_modules/@arcgis/core/chunks/OperatorClip.js");
/* harmony import */ var _OperatorDensify_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./OperatorDensify.js */ "./node_modules/@arcgis/core/chunks/OperatorDensify.js");
/* harmony import */ var _SimpleGeometryCursor_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./SimpleGeometryCursor.js */ "./node_modules/@arcgis/core/chunks/SimpleGeometryCursor.js");
/* harmony import */ var _OperatorDefinitions_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./OperatorDefinitions.js */ "./node_modules/@arcgis/core/chunks/OperatorDefinitions.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
class ss{constructor(e){if(this.m_geom=this.m_sr=null,e){if(e.move)return this.m_geom=e.move.m_geom,e.move.m_geom=null,this.m_sr=e.move.m_sr,void(e.move.m_sr=null);if(e.copy)return this.m_geom=e.copy.m_geom?e.copy.m_geom.clone():null,void(this.m_sr=e.copy.m_sr);e.geom&&(this.m_geom=e.geom),e.sr&&(this.m_sr=e.sr)}}getGeometry(){return this.m_geom}getSpatialReference(){return this.m_sr}setGeometry(e){this.m_geom=e}setSpatialReference(e){this.m_sr=e}equals(e,t){const s=e;return!(!this.m_sr&&s.m_sr)&&(!(this.m_sr&&!s.m_sr)&&(!(!this.m_geom&&s.m_geom)&&(!(this.m_geom&&!s.m_geom)&&(!(this.m_sr&&s.m_sr&&!this.m_sr.equals(s.m_sr))&&!(this.m_geom&&s.m_geom&&!this.m_geom.equals(s.m_geom,t))))))}clone(){let e=null;return this.m_geom&&(e=this.m_geom.clone()),new ss({geom:e,sr:this.m_sr})}hasGeom(){return!!this.m_geom}}class ns{constructor(e){this.m_factor=1,this.m_wkid=0,this.m_peUnit=null,e&&(this.m_peUnit=e,this.m_factor=e.getUnitFactor(),this.m_wkid=e.getCode(),this.m_wkid<0&&(this.m_wkid=0))}getName(){return this.m_peUnit?this.m_peUnit.getName():""}getID(){return this.m_wkid}getConversionFactor(e){return this.getUnitType()!==e.getUnitType()&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.a)("unit type mismatch"),this.getUnitToBaseFactor()/e.getUnitToBaseFactor()}getUnitToBaseFactor(){return this.m_factor}getHashCode(){return (0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.at)((0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.au)(this.getUnitType()),(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.au)(this.getUnitToBaseFactor()))}equals(e){return!!e&&(this.getUnitType()===e.getUnitType()&&this.getUnitToBaseFactor()===e.getUnitToBaseFactor()&&this.getID()===e.getID()&&this.getName()===e.getName())}static isValidWkid(e){return!1}}const rs={330:104878,500:104879,1300:104899,1450:104986,2230:104988,3800:104978,5e3:104919,6200:104906,8200:104909,9500:104927,9600:104977,1e4:[104911,104936],11e3:104941,11080:104872,11100:104907,12e3:104920,12400:104995,13e3:104948,14e3:[104923,104989],15e3:[104913,104954],15100:104976,16e3:[104926,104931],18e3:[104922,104982],21e3:104947,21500:104877,27e3:[104950,104957],29e3:104964,3e4:104921,31e3:104949,33e3:104946,4e4:[104914,104967],40600:104897,41900:104937,42e3:104951,43100:104993,49300:104924,50100:104939,54e3:104955,58200:104981,59500:104930,74e3:104961,77e3:104956,79e3:104962,83500:104910,85e3:104917,88800:104934,89200:104985,96e3:104997,104e3:104963,106500:104898,11e4:104938,133e3:104932,135e3:104983,17e4:104965,198200:104987,198630:104935,208e3:104966,235800:104952,249400:104929,252100:104980,255e3:104973,47e4:104972,529800:104942,531e3:104996,56e4:104928,561400:104979,578900:104945,584700:104959,593e3:104970,606e3:104999,718e3:104933,745700:104984,761400:104953,763500:104994,764e3:104940,788900:104958,1188300:104998,1195e3:104969,1352600:104968,1560800:104874,1562090:104915,1737400:104903,1821460:104918,1821490:104876,2409300:104912,2410300:104873,2439400:104974,2439700:104900,2575e3:104943,2631200:104875,2632345:104916,3393400:104904,3396190:[104905,104971],6051e3:104901,6051800:104902,637e4:104128,6370997:[4052,37008],6371e3:4035,6371007:4047,6371228:[4053,10346],6376045:[8042,8043],6376523:[4027,4901,4902],6376896:37007,6378135:[4122,4322,4324,4720,4985,4987],6378136:[4740,4923,7678,7680,9474,9475,104017,104018],6378137:[3823,3824,3888,3889,4017,4019,4023,4031,4040,4046,4055,4074,4075,4080,4081,4121,4126,4130,4133,4140,4141,4148,4151,4152,4163,4166,4167,4170,4171,4172,4173,4176,4180,4189,4190,4258,4269,4283,4318,4319,4326,4463,4466,4469,4470,4480,4482,4483,4490,4557,4558,4612,4617,4619,4624,4627,4659,4661,4667,4669,4670,4674,4686,4687,4693,4694,4702,4737,4742,4747,4749,4750,4755,4756,4757,4758,4759,4761,4762,4763,4764,4765,4883,4885,4887,4889,4893,4895,4898,4907,4909,4921,4925,4927,4929,4931,4933,4935,4937,4939,4941,4943,4945,4947,4949,4951,4953,4955,4957,4959,4961,4963,4965,4967,4971,4975,4977,4979,4981,4983,4989,4997,4999,5012,5013,5245,5246,5251,5252,5263,5264,5323,5324,5340,5342,5353,5354,5359,5360,5364,5365,5370,5371,5372,5373,5380,5381,5392,5393,5488,5489,5545,5546,5592,5593,5885,5886,6134,6135,6310,6311,6318,6319,6321,6322,6324,6325,6364,6365,6667,6668,6705,6706,6782,6783,6980,6982,6983,6987,6989,6990,7034,7035,7036,7037,7038,7039,7040,7041,7042,7072,7073,7084,7085,7086,7087,7133,7135,7136,7138,7139,7372,7373,7657,7659,7661,7663,7665,7685,7686,7797,7798,7816,7843,7844,7880,7881,7885,7886,7900,7901,7902,7903,7904,7905,7906,7907,7908,7909,7910,7911,7912,7915,7917,7919,7921,7923,7925,7927,7929,7931,8085,8086,8231,8232,8235,8237,8239,8240,8244,8246,8248,8249,8251,8252,8254,8255,8399,8403,8426,8427,8449,8542,8544,8545,8684,8685,8698,8699,8817,8818,8860,8888,8899,8900,8901,8902,8906,8907,8916,8918,8920,8922,8924,8926,8928,8930,8932,8934,8936,8938,8940,8942,8944,8946,8948,8949,8972,8973,8974,8975,8976,8977,8978,8979,8980,8981,8982,8983,8984,8985,8986,8987,8988,8989,8990,8991,8992,8993,8994,8995,8996,8997,8998,8999,9e3,9002,9003,9005,9006,9008,9009,9011,9012,9013,9014,9016,9017,9018,9019,9053,9054,9055,9056,9057,9059,9060,9061,9062,9063,9064,9065,9066,9067,9068,9069,9071,9072,9074,9075,9139,9140,9147,9148,9152,9153,9183,9184,9293,9294,9299,9308,9309,9332,9333,9364,9372,9379,9380,9384,9453,9469,9470,9546,9547,9695,9696,9701,9702,9739,9754,9755,9758,9763,9776,9777,9778,9779,9781,9782,9783,9784,9866,9871,9939,9964,9969,9974,9989,9990,10175,10177,10178,10185,10191,10196,10204,10209,10214,10219,10224,10229,10237,10272,10277,10283,10284,10298,10299,10300,10304,10305,10307,10309,10310,10311,10312,10327,10328,10413,10414,10468,10474,10475,10570,10571,10605,10606,10623,10628,10638,10639,10670,10671,10672,10673,10689,10690,10724,10725,10738,10739,10761,10762,10780,10781,10784,10785,10799,10800,20033,20040,20041,20045,20046,104009,104010,104011,104012,104013,104014,104015,104016,104019,104020,104021,104022,104024,104027,104028,104050,104100,104107,104108,104110,104111,104114,104115,104116,104117,104118,104119,104120,104121,104122,104123,104124,104129,104133,104134,104137,104141,104142,104143,104144,104145,104179,104180,104181,104182,104183,104184,104185,104186,104199,104223,104257,104258,104259,104260,104286,104287,104602,104613,104644,104645,104646,104647,104653,104804,104896,104991],6378140:4610,6378145:[4025,4276,4760,4891,37001],6378150:37003,6378155:[37004,37207],6378160:[3821,4003,4021,4036,4202,4203,4237,4238,4291,4618,4708,5527,37231,104023,104136],6378166:37002,6378200:[4020,4229,4286,4303,4706],6378245:[4024,4147,4164,4178,4179,4191,4200,4205,4214,4284,4317,4555,4676,4677,4678,4991,4993,5560,5561,37257,104135],6378270:[4732,37005,37229],6378273:[4054,10345],6378300:[4029,4168,4174],6378388:[4022,4123,4153,4154,4158,4159,4160,4161,4165,4181,4182,4183,4184,4185,4192,4194,4195,4196,4199,4204,4207,4208,4215,4218,4221,4224,4225,4230,4231,4233,4235,4236,4247,4248,4249,4254,4255,4259,4264,4265,4271,4272,4274,4285,4287,4288,4292,4297,4309,4311,4313,4316,4472,4475,4611,4614,4615,4616,4621,4622,4623,4625,4626,4628,4629,4630,4631,4632,4633,4636,4637,4639,4641,4642,4643,4644,4645,4646,4658,4660,4662,4663,4664,4665,4668,4672,4673,4684,4688,4689,4690,4691,4692,4698,4704,4705,4707,4709,4710,4711,4712,4714,4715,4716,4718,4719,4721,4722,4724,4725,4727,4728,4729,4730,4733,4734,4735,4739,4741,4753,4754,4802,4803,4806,4809,4810,4823,4824,4900,5524,6883,8428,8430,8431,9248,9251,9253,9403,9893,10158,10249,10252,10635,10636,10735,10736,10758,37201,37204,37205,37212,37213,37214,37215,37216,37217,37218,37219,37221,37222,37224,37226,37227,37230,37232,37233,37234,37235,37237,37238,37241,37242,37245,37246,37247,37249,37250,37251,37253,37259,104104,104106,104125,104126,104127,104130,104138,104248],6378523:104786,24764e3:104960,25559e3:104944,60268e3:104925,71492e3:104908,6957e5:104975,6377397.155:[3819,3906,4004,4120,4124,4125,4149,4150,4156,4162,4211,4219,4257,4262,4280,4289,4294,4295,4301,4306,4308,4312,4314,4613,4666,4745,4746,4801,4804,4805,4808,4813,4814,4815,4818,4820,4904,5132,5228,5229,5681,5830,8351,9267,10268,37255,104101,104102,104105,104131,104648,104696,104697,104990,104992],6377563.396:[4001,4188,4277,4278,4279],6377340.189:[4002,4299,4300],6377492.018:[4005,4273,4817],6377483.865280418:[4006,4293],6378293.645208759:[4007,4157,4302,4738,5464],6378206.4:[4008,4127,4128,4129,4135,4136,4137,4138,4139,4169,4216,4242,4253,4267,4608,4609,4638,4675,4683,4695,4717,4723,4726,4995,5451,5467,37220,37239,37243,37252,37260,104e3,104109,104112,104113,104132],6378450.047:[4009,4268],6378300.789:[4010,4281],6378249.2:[4011,4014,4155,4193,4206,4213,4223,4226,4227,4228,4252,4261,4266,4275,4282,4296,4304,4310,4315,4671,4807,4811,4816,4821,37223,37225,104139,104140,104261,104304],6378249.145:[4012,4013,4132,4134,4142,4143,4175,4197,4198,4201,4209,4210,4212,4220,4222,4232,4234,4246,4250,4251,4256,4260,4263,4270,4305,4307,4600,4601,4602,4603,4604,4605,4606,4607,4620,4679,4680,4696,4697,4699,4700,4701,4703,4713,4731,4736,4743,4744,4812,4819,6881,6882,6892,6894,8694,37206,37208,37211,37228,37240,37254,104025,104026,104103,104305],6377276.345:[4015,4131,4144,4239,4240,4244,4682,5233,6207,37202,104256,104664,104693],6377298.556:[4016,4298],6377304.063:[4018,4245],6378298.3:[4028,4903],6378136.2:4032,6378136.3:4033,6378249.144808011:[4034,4241],20922931.8:[4042,4243],6377301.243:[4044,4145,37203],6377299.151:[4045,4146],6377019.27:[4657,10256,10260,10265],6378306.3696:[4748,4752],6377295.664:[4751,37006],6378136.5:[7682,7683],6371008.7714:104047,6378418.941:[104700,104726,104760],6378586.581:[104701,104743],6378505.809:104702,6378544.823:104703,6378490.569:104704,6378470.757:[104705,104776],6378403.701:[104706,104750],6378434.181:[104707,104724,104739,104764],6378454.907:104708,6378400.653:104709,6378567.378:104710,6378546.957:[104711,104717,104780],6378476.853:[104712,104736],6378411.321:[104713,104728],6378647.541:[104714,104715],6378514.953:[104716,104782],6378421.989:[104718,104770],6378481.425:[104719,104753,104774,104781],6378518.001:[104720,104725],6378521.049:[104721,104723,104731,104745,104748],6378464.661:104722,6378436.619:104727,6378574.389:[104729,104730],6378472.281:[104732,104756],6378498.189:[104733,104746],6378449.421:[104734,104766],6378525.621:[104735,104754],6378466.185:104737,6378496.665:104738,6378643.579:104740,6378559.758:104741,6378414.369:[104742,104763,104772],6378441.801:104744,6378502.761:[104747,104759,104773,104775],6378617.061:104749,6378624.681:[104751,104765],6378468.623:104752,6378445.763:[104755,104758,104761],6378670.401:104757,6378438.753:104762,6378543.909:104767,6378605.783:104768,6378540.861:104769,6378443.325:[104771,104784],6378548.481:104777,6378463.746:104778,6378426.561:104779,6378453.688:104783,6378530.193:104785,6378376.271:[104800,104828],6378471.92:104801,6378472.931:104802,6378411.351:104803,6378380.991:104805,6378414.96:104806,6378345.09:[104807,104819,104844,104870],6378412.542:104808,6378470.401:104809,6378376.331:104810,6378379.031:104811,6378407.621:104812,6378376.811:[104813,104827],6378313.92:104814,6378414.93:104815,6378413.021:104816,6378380.381:104817,6378530.851:104818,6378591.521:104820,6378378.881:104821,6378408.481:[104822,104832],6378375.601:[104823,104838],6378408.041:104824,6378655.071:104825,6378409.151:104826,6378315.7:[104829,104840,104845,104851],6378285.86:[104830,104835,104859],6378379.301:104831,6378560.121:104833,6378531.821:104834,6378500.6:104836,6378376.041:104837,6378406.601:104839,6378438.991:104841,6378345.42:104842,6378593.86:104843,6378381.271:[104846,104847],6378413.671:104848,6378344.377:104849,6378563.891:104850,6378408.091:104852,6378377.671:104853,6378472.751:104854,6378412.511:104855,6378407.281:104856,6378534.451:104857,6378406.051:104858,6378532.921:104860,6378380.091:104861,6378408.941:104862,6378624.171:104863,6378377.411:104864,6378474.591:104865,6378407.141:104866,6378376.871:104867,6378375.251:104868,6378405.971:104869,6378437.651:104871};function is(){for(const e in rs)delete rs[e]}class os extends ns{constructor(e){if("number"==typeof e)return super(),this.m_factor=e,void(this.m_wkid=0);super(e)}getUnitType(){return 1}convertFromRadians(e){return e/this.getUnitToBaseFactor()}convertToRadians(e){return e*this.getUnitToBaseFactor()}}function as(e){return new bu}function hs(e){return e.getType()===bc.PE_TYPE_LINUNIT?new bu(e):e.getType()===bc.PE_TYPE_ANGUNIT?new os(e):void (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.a)("peUnit")}function ms(e){const s=Hc(null);return e.getType()===bc.PE_TYPE_PROJCS||e.getType()===bc.PE_TYPE_GEOGCS?s.reset(e.getUnit()):(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.a)("PE_coord_sys"),s.get()||(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.d)("cannot create units from coord sys"),hs(s.get())}class ls{constructor(e,s,n){void 0===e?(this.x=new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.H,this.y=new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.H,this.z=new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.H):e instanceof _Envelope_js__WEBPACK_IMPORTED_MODULE_3__.d?(this.x=new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.H(e.x),this.y=new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.H(e.y),this.z=new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.H(e.z)):e instanceof _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.H?(this.x=e.clone(),this.y=s.clone(),this.z=n.clone()):(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.a)("EPoint3D constructor")}dotProduct(e){return this.x.mulE(e.x).addE(this.y.mulE(e.y)).addE(this.z.mulE(e.z))}crossProduct(e){return new ls(this.y.mulE(e.z).subE(this.z.mulE(e.y)),this.z.mulE(e.x).subE(this.x.mulE(e.z)),this.x.mulE(e.y).subE(this.y.mulE(e.x)))}crossProductVector(e){const t=this.y.mulE(e.z).subE(e.y.mulE(this.z)),s=e.x.mulE(this.z).subE(this.x.mulE(e.z)),n=this.x.mulE(e.y).subE(e.x.mulE(this.y));return new ls(t,s,n)}sqrLength(){return this.x.mulE(this.x).addE(this.y.mulE(this.y)).addE(this.z.mulE(this.z))}length(){return this.sqrLength().sqrt()}static distance(e,t){return e.sub(t).length()}negate(){return new ls(this.x.negate(),this.y.negate(),this.z.negate())}add(e){return new ls(this.x.addE(e.x),this.y.addE(e.y),this.z.addE(e.z))}sub(e){return new ls(this.x.subE(e.x),this.y.subE(e.y),this.z.subE(e.z))}subThis(e){return this.x.subThisE(e.x),this.y.subThisE(e.y),this.z.subThisE(e.z),this}addThis(e){return this.x.addThisE(e.x),this.y.addThisE(e.y),this.z.addThisE(e.z),this}mul(e){return new ls(this.x.mulE(e),this.y.mulE(e),this.z.mulE(e))}div(e){return new ls(this.x.divE(e),this.y.divE(e),this.z.divE(e))}eq(e){return this.x.eq(e.x)&&this.y.eq(e.y)&&this.z.eq(e.z)}isZero(){return this.x.isZero()&&this.y.isZero()&&this.z.isZero()}value(){return _Envelope_js__WEBPACK_IMPORTED_MODULE_3__.d.construct(this.x.value(),this.y.value(),this.z.value())}}class gs{constructor(e){if(this.m_origin=new _Envelope_js__WEBPACK_IMPORTED_MODULE_3__.d,this.m_normal=new _Envelope_js__WEBPACK_IMPORTED_MODULE_3__.d,this.m_axisX=new _Envelope_js__WEBPACK_IMPORTED_MODULE_3__.d,this.m_axisY=new _Envelope_js__WEBPACK_IMPORTED_MODULE_3__.d,!e)return this.m_origin=new _Envelope_js__WEBPACK_IMPORTED_MODULE_3__.d,this.m_normal=new _Envelope_js__WEBPACK_IMPORTED_MODULE_3__.d(0,0,1),this.m_axisX=new _Envelope_js__WEBPACK_IMPORTED_MODULE_3__.d(1,0,0),void(this.m_axisY=new _Envelope_js__WEBPACK_IMPORTED_MODULE_3__.d(0,1,0));e.pt0&&e.pt1&&e.pt2?this.setFromPoints(e.pt0,e.pt1,e.pt2):(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(0,`unimplemented constructor options ${JSON.stringify(e)}`)}assign(e){return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(0),this}set(e,t,s,n){(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(0)}setFromPoints(e,t,s){let n=t.sub(e);const r=s.sub(e);this.m_normal=n.crossProductVector(r);let i=!0;if(this.m_normal.isZero()){if(i=!1,n.isZero()&&(n=r),n.isZero()){const t=0,s=1;return this.m_normal.setCoords(t,t,s),this.m_axisX.setCoords(s,t,t),this.m_axisY.setCoords(t,s,t),this.m_origin=e,!1}this.m_axisX=n.getUnitVector(),this.m_normal=this.m_axisX.createAPerpendicular()}else this.m_normal.normalizeThis(),this.m_axisX=n.getUnitVector();return this.m_axisY=this.m_normal.crossProductVector(this.m_axisX),this.m_origin=e,i}getCoord(e,t){return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(0),{}}getCoord2D(e){return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(0),{}}getCoordX(e,t){return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(0),0}getCoordY(e,t){return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(0),0}getCoordZ(e,t){return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(0),0}setPreferredAxisX(e){(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(0)}getOrigin(){return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(0),{}}getNormal(){return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(0),{}}getAxisX(){return this.m_axisX.clone()}getAxisY(){return this.m_axisY.clone()}setAxisX(e,t=!1){(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(0)}setAxisY(e,t=!1){(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(0)}recalculateAxisY(){(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(0)}setOrigin(e){(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(0)}setNormal(e,t){(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(0)}intersect(e,t){return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(0),!1}intersectLine(e){return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(0),0}intersectLineEx(e,t){return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(0),0}closestCoordinate(e){const t=e.sub(this.m_origin),s=new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P;return s.x=t.dotProduct(this.m_axisX),s.y=t.dotProduct(this.m_axisY),s}projectVector(e){return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(0),{}}signedDistance(e){return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(0),0}distance(e){return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(0),0}}function us(e,t){return!1}function cs(e,t,s,n,r=100,i=us){let o,h,m,l,g,u,c,_,d;(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(n>0);let p,f,x,y=0,P=0;const E=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.aq)();t>s&&(s=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.c)(t,t=s));const S=e(t),C=e(s);S<C?(o=h=m=t,l=g=u=S):(o=h=m=s,l=g=u=C);let I=0;for(;I<r&&(x=.5*(s-t),d=t+x,p=n*(Math.abs(o)+.25),f=2*p,!(i(o,l)||Math.abs(o-d)<=f-x));++I){if(Math.abs(P)>p){const e=(o-h)*(l-u);let n=(o-m)*(l-g),r=(o-m)*n-(o-h)*e;n=2*(n-e),n>0&&(r=-r),n=Math.abs(n);const i=P;P=y,Math.abs(r)>=Math.abs(n*i*.5)||r<=n*(t-o)||r>=n*(s-o)?(P=o>=d?t-o:s-o,y=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.aq)()*P):(y=r/n,_=o+y,(_-t<f||s-_<f)&&(y=d-o<0?-Math.abs(p):Math.abs(p)))}else P=o>=d?t-o:s-o,y=P*E;_=o+y,c=e(_),c<l?(_>=o?t=o:s=o,m=h,h=o,o=_,u=g,g=l,l=c):(_<o?t=_:s=_,c<=g||h===o?(m=h,h=_,u=g,g=c):(c<=u||m===o||m===h)&&(m=_,u=c))}return (0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.l)(o,l)}function _s(e,t,s){if(e>s){e-=Math.ceil((e-s)/_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.p)*_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.p}else if(e<t){e+=Math.ceil((t-e)/_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.p)*_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.p}return e}function ds(e,t,s){return ps(e,t,s,0)}function ps(e,t,s,n){const r=s.x,i=s.y;return xs(e,t,Math.cos(r),Math.sin(r),Math.cos(i),Math.sin(i),n)}function fs(e,t,s,n,r,i){return xs(e,t,s,n,r,i,0)}function xs(e,t,s,n,r,i,o){const a=e/Math.sqrt(1-t*i*i),h=a+o,m=h*r*s,l=h*r*n,g=(a*(1-t)+o)*i;return _Envelope_js__WEBPACK_IMPORTED_MODULE_3__.d.construct(m,l,g)}function ys(e,t,s){const n=new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.H,r=new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.H,i=new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.H,o=new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.H;n.setCos(s.x),r.setSin(s.x),i.setCos(s.y),o.setSin(s.y);const a=o.negate().mulE(o.mul(t)).add(1).sqrt(),h=new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.H(e).divE(a),m=h.mulE(i).mulE(n),l=h.mulE(i).mulE(r),g=h.mul(1-t).mulE(o);return new ls(m,l,g)}function Ps(e,t,s){const n=s.x,r=s.y,i=s.z,o=Math.atan2(r,n),a=Math.sqrt(n*n+r*r),h=Math.atan2(i,(1-t)*a);return _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P.construct(o,h)}function Es(e,t,s){const n=1-t,r=e/Math.sqrt((0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.a)(s.x)+(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.a)(s.y)+(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.a)(s.z)/n);return s.mul(r)}function Ss(e,t,s,n,r){const i=ds(e,t,s),o=ds(e,t,n);return Ps(e,t,_Envelope_js__WEBPACK_IMPORTED_MODULE_3__.d.lerp(i,o,r))}function Cs(e,t,s){const n=new _Envelope_js__WEBPACK_IMPORTED_MODULE_3__.d;return n.setCrossProductVector(t,s),Math.abs(Math.atan2(n.length(),t.dotProduct(s)))*e}function Is(e,t,s,n,r){const i=s.getUnitVector(),o=n.getUnitVector(),a=t.getUnitVector(),h=new _Envelope_js__WEBPACK_IMPORTED_MODULE_3__.d;if(h.setCrossProductVector(i,o),!h.isZero()){h.normalizeThis();const t=a.sub(h.mul(h.dotProduct(a)));if(!t.isZero()){t.normalizeThis();const s=i.add(o).mul(.5);if(s.dotProduct(t)>s.dotProduct(i)){const s=Math.abs(h.dotProduct(a)),n=Math.asin(s);return r.assign(t.getUnitVector().mul(e)),n*e}}}const m=Cs(1,i,a),l=Cs(1,o,a);return m<=l?(r.assign(s),m*e):(r.assign(n),l*e)}function bs(e,t,s,n){const r={stack:[],error:void 0,hasError:!1};try{const i=(0,_tslib_es6_js__WEBPACK_IMPORTED_MODULE_5__.b)(r,new Cc,!1);return Dc.geodeticDistance(e,t,s.x,s.y,n.x,n.y,i,null,null,bc.PE_LINETYPE_GEODESIC),i.val}catch(i){r.error=i,r.hasError=!0}finally{(0,_tslib_es6_js__WEBPACK_IMPORTED_MODULE_5__.c)(r)}}function ws(e,t,s,n,r){switch((0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(s.isFinite()&&n.isFinite()),r){case 0:return bs(e,t,s,n);case 1:return Ts(e,t,s);case 2:case 3:{const r=ds(e,t,s),i=ds(e,t,n);return _Envelope_js__WEBPACK_IMPORTED_MODULE_3__.d.distance(r,i)}default:(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.t)("")}}function vs(e,t,s,n,r,i=0,o){if(2===i||3===i)return Ns(e,t,s,n,r,3===i,o);const a=Ps(e,t,s),h=s=>{const o=Ps(e,t,_Envelope_js__WEBPACK_IMPORTED_MODULE_3__.d.lerp(n,r,s));return ws(e,t,a,o,i)},m=_Envelope_js__WEBPACK_IMPORTED_MODULE_3__.d.distance(n,r);if(m>0){const s=Os(e,m),{first:i,second:a}=cs(h,0,1,s);return o&&o.assign(Es(e,t,_Envelope_js__WEBPACK_IMPORTED_MODULE_3__.d.lerp(n,r,i))),(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.l)(i,a)}{const e=h(0);return o&&o.assign(n),(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.l)(.5,e)}}function Ns(e,t,s,n,r,i=!1,o){const a=Es(e,t,s);if(i){const i=new gs({pt0:new _Envelope_js__WEBPACK_IMPORTED_MODULE_3__.d(0,0,0),pt1:n,pt2:r}),h=i.closestCoordinate(s),m=i.closestCoordinate(n),l=i.closestCoordinate(r),g=_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P.getClosestCoordinate(m,l,h),u=Es(e,t,_Envelope_js__WEBPACK_IMPORTED_MODULE_3__.d.lerp(n,r,g)),c=_Envelope_js__WEBPACK_IMPORTED_MODULE_3__.d.distance(u,a);return o&&o.assign(u),(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.l)(g,c)}const h=s=>{const i=Es(e,t,_Envelope_js__WEBPACK_IMPORTED_MODULE_3__.d.lerp(n,r,s));return _Envelope_js__WEBPACK_IMPORTED_MODULE_3__.d.distance(i,a)},m=_Envelope_js__WEBPACK_IMPORTED_MODULE_3__.d.distance(n,r);if(m>0){const s=Os(e,m),{first:i,second:a}=cs(h,0,1,s);return o&&o.assign(Es(e,t,_Envelope_js__WEBPACK_IMPORTED_MODULE_3__.d.lerp(n,r,i))),(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.l)(i,a)}{const e=_Envelope_js__WEBPACK_IMPORTED_MODULE_3__.d.distance(s,n);return o&&o.assign(s),(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.l)(.5,e)}}function Ts(e,t,s,n){const r={stack:[],error:void 0,hasError:!1};try{const n=(0,_tslib_es6_js__WEBPACK_IMPORTED_MODULE_5__.b)(r,new Cc,!1);return Dc.greatEllipticDistance(e,t,s.x,s.y,s.x,s.y,n,null,null),n.val}catch(i){r.error=i,r.hasError=!0}finally{(0,_tslib_es6_js__WEBPACK_IMPORTED_MODULE_5__.c)(r)}}function Gs(e,t,s,n,r){if(Math.abs(s.x-n.x)>Math.PI)return Number.NaN;if(Math.abs(s.y)>_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.o||Math.abs(n.y)>_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.o)return Number.NaN;if((Math.abs(s.y)===_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.o||Math.abs(n.y)===_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.o)&&s.x!==n.x)return Number.NaN;const{first:i,second:o}=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.aE)(s.x,n.x);let a=r;a=_s(a,i,o);if(!_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.E.construct(s.x,n.x).containsCoordinate(a))return Number.NaN;const h=_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.a0.constructPoint2D(s),m=_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.a0.constructPoint2D(n),l=ys(1,t,h),g=ys(1,t,m),u=l.crossProductVector(g);if(u.z.isZero()){return s.y}const c=u.x.divE(u.z.negate()),_=u.y.divE(u.z.negate()),d=c.mulE(c).addE(_.mulE(_)).sqrt();if(d.isZero()||c.isZero()&&_.isZero()){return s.y}const p=Math.atan2(_.value(),c.value());let f=Math.atan2(d.value()*Math.cos(p-a),1-t);const x=ds(1,t,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P.construct(a,f)),y=_Envelope_js__WEBPACK_IMPORTED_MODULE_3__.d.construct(x.x,x.y,-x.z),P=u.value().dotProduct(x),E=u.value().dotProduct(y);return Math.abs(E)<Math.abs(P)&&(f=-f),f}function Ds(e,t,s,n,r,i){if(i[0]=Number.NaN,i[1]=Number.NaN,Math.abs(s.x-n.x)>Math.PI)return 0;if(Math.abs(s.y)>_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.o||Math.abs(n.y)>_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.o)return 0;if((Math.abs(s.y)===_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.o||Math.abs(n.y)===_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.o)&&s.x!==n.x)return 0;if(Math.abs(r)>=_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.o)return 0;if(s.y>0&&n.y>0&&s.y>r&&n.y>r||s.y<0&&n.y<0&&s.y<r&&n.y<r)return 0;const o=_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.a0.constructPoint2D(s),a=_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.a0.constructPoint2D(n),h=ys(1,t,o),m=ys(1,t,a),l=h.crossProductVector(m);if(l.z.isZero()){return _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.E.construct(s.y,n.y).containsCoordinate(r)?(i[0]=s.x,1):0}const g=l.x.divE(l.z.negate()),u=l.y.divE(l.z.negate()),c=g.mulE(g).addE(u.mulE(u)).sqrt();if(c.isZero()||g.isZero()&&u.isZero())return 0===r?(i[0]=s.x,i[1]=n.x,2):0;const _=(1-t)*Math.tan(r)/c.value();if(Math.abs(_)>1)return 0;const d=Math.acos(_),p=Math.atan2(u.value(),g.value()),f=p-d;let x=p+d;const y=Math.min(s.x,n.x),P=Math.max(s.x,n.x);_s(f,y,P),0!==r?_s(x,y,P):x=f;let E=0;return y<=f&&f<=P&&(i[E]=f,E++),x!==f&&y<=x&&x<=P&&(i[E]=x,E++),E}function Vs(e,t){t[0]>.5*Math.PI?(e[0]+=Math.PI,t[0]=Math.PI-t[0]):t[0]<.5*-Math.PI&&(e[0]-=Math.PI,t[0]=-Math.PI-t[0]),(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(t[0]>=.5*-Math.PI&&t[0]<=.5*Math.PI)}function Fs(e,t){return e*Math.sqrt(1-t)}function Hs(e){return 1-e}function ks(e,t,s,n,r){n=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.s)(n,-_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.o,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.o),r=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.s)(r,-_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.o,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.o);const i=_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.o-.03;let o;o=n>i&&r>i||n<-i&&r<-i?As(e,n,r):Ms(e,r)-Ms(e,n);return.5*(s-t)*o*Hs(e)}function As(e,t,s){let n=1;if(t<0&&(n=-1,t=-t,s=-s),0!==e){const r=e*e,i=r*e,o=[1,(1+11*e)/12,(1+118*e+241*r)/360,(1+1089*e+10419*r+8651*i)/20160,(1+9836*e+318246*r+1027436*i+458881*(i*e))/1814400],a=t=>{let s=0;const n=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.a)(t)/(e-1);for(let e=o.length-1;e>=0;--e)s=o[e]+s*n;return s*=-(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.a)(t/(1-e)),s},h=a(_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.o-t);return(a(_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.o-s)-h)*n}{const e=_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.o-t,r=_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.o-s,i=-4*(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.a)(Math.sin(e/2));return(-4*(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.a)(Math.sin(r/2))-i)*n}}function Ms(e,t){if(0===t)return 0;const s=Math.sin(t);let n=s,r=s;if(0!==e){n/=1-e*s*s;const t=Math.sqrt(e);r=s*(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.y)(t*s)}return n+r}function Us(e,t){return e/Math.sqrt(1-t)}function qs(e,t){return(1-t)*e}function Bs(e,t,s){const n=s/(2*qs(e,t)),r=n*n;return s*(1-r*(.16666666666666666-.008333333333333333*r))}function Os(e,t){if(0!==t){const s=e*(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.aJ)()/t;return Math.min(s,1e-10)}return 0}class Ys{constructor(e){this.m_currentShift=63n,this.m_currentElt=0n,this.m_iCurrentElt=-1,this.m_parent=e,this.m_aiSetElts=e.m_bits.flatMap(((e,t)=>t))}next(){if(this.m_currentShift++,64n===this.m_currentShift){if(this.m_iCurrentElt++,this.m_iCurrentElt===this.m_aiSetElts.length)return Ys.npos();this.m_currentShift=0n,this.m_currentElt=this.m_parent.m_bits[this.m_aiSetElts[this.m_iCurrentElt]]}for(;this.m_currentShift<63n&&!(this.m_currentElt&1n<<this.m_currentShift);)this.m_currentShift++;return this.m_currentElt&1n<<this.m_currentShift?64*this.m_aiSetElts[this.m_iCurrentElt]+Number(this.m_currentShift):this.next()}static npos(){return Number.MAX_SAFE_INTEGER}}function Rs(e){return 1n<<(0x3fn&BigInt(e))}function Xs(e){return e>>6}class Ls{constructor(e){this.m_bits=[],void 0!==e&&e.copy&&(this.m_bits=e.copy.m_bits.slice())}assignMove(){return this}assignCopy(){return this}hasBit(e){const t=Rs(e),s=Xs(e);return void 0!==this.m_bits[s]&&!!(this.m_bits[s]&t)}setBit(e){const t=Rs(e),s=Xs(e);void 0===this.m_bits[s]&&(this.m_bits[s]=0n),this.m_bits[s]|=t}clearBit(e){}flipBit(e){const t=Rs(e),s=Xs(e);return void 0===this.m_bits[s]&&(this.m_bits[s]=0n),this.m_bits[s]^=t,0n!==(this.m_bits[s]&t)}clear(){this.m_bits.length=0}isZero(){let e=0;return this.m_bits.forEach((t=>{e|=t?2:1})),!(2&e)}equals(e){if(this===e)return!0;if(this.m_bits.length!==e.m_bits.length)return!1;let t=0;return this.m_bits.forEach(((s,n)=>{t|=s===e.m_bits[n]?2:1})),!(1&t)&&(e.m_bits.forEach(((e,s)=>{t|=e===this.m_bits[s]?2:1})),!(1&t))}notEquals(e){return!this.equals(e)}assignOr(e){return e.m_bits.forEach(((e,t)=>{void 0===this.m_bits[t]?this.m_bits[t]=e:this.m_bits[t]|=e})),this}assignSubtract(e){return e.m_bits.forEach(((e,t)=>{void 0!==this.m_bits[t]&&(this.m_bits[t]&=~e)})),this}assignAnd(e){return e.m_bits.forEach(((e,t)=>{void 0!==this.m_bits[t]&&(this.m_bits[t]&=e)})),this}assignXor(e){return e.m_bits.forEach(((e,t)=>{void 0===this.m_bits[t]?this.m_bits[t]=e:this.m_bits[t]^=e})),this}getHashCode(){return this.m_bits.reduce(((e,t)=>(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.aB)(e,t)),(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.au)(0))}getUnorderedBitIterator(){return new Ys(this)}}class zs{constructor(e,t){this.m_map=new Map,this.m_hf=e,this.m_ef=t}add(e){const t=this.m_hf(e);if(!this.m_map.has(t))return this.m_map.set(t,e),this;const s=this.m_map.get(t);return s instanceof Array?s.find((t=>this.m_ef(t,e)))||s.push(e):this.m_ef(s,e)||this.m_map.set(t,[s,e]),this}clear(){this.m_map.clear()}delete(e){return!1}has(e){const t=this.m_hf(e);if(!this.m_map.has(t))return!1;const s=this.m_map.get(t);return s instanceof Array?void 0!==s.find((t=>this.m_ef(t,e))):this.m_ef(s,e)}get(e){const t=this.m_hf(e),s=this.m_map.get(t);if(void 0!==s)return s instanceof Array?s.find((t=>this.m_ef(t,e))):s}get size(){let e=0;for(const t of this.m_map.values())e+=t instanceof Array?t.length:1;return e}forEach(e,t){}[Symbol.iterator](){return(new Set)[Symbol.iterator]()}entries(){return(new Set).entries()}keys(){return(new Set).keys()}values(){return(new Set).values()}get[Symbol.toStringTag](){return"ValueSet"}}class Ws extends _Envelope_js__WEBPACK_IMPORTED_MODULE_3__.a3{constructor(e){super(),this.m_bufferLeft=new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.S,this.m_bufferRight=new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.S,this.m_intervalLeft=_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.E.constructEmpty(),this.m_intervalRight=_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.E.constructEmpty(),this.m_yScanline=Number.NaN,this.m_helper=e}compare(e,t,s){const n=t,r=e.getElement(s);this.m_helper.querySegmentXY(n,this.m_bufferLeft),this.m_helper.querySegmentXY(r,this.m_bufferRight);const i=this.m_bufferLeft.get(),o=this.m_bufferRight.get();if(this.m_intervalLeft.setCoords(i.getStartX(),i.getEndX()),this.m_intervalRight.setCoords(o.getStartX(),o.getEndX()),this.m_intervalLeft.vmax<this.m_intervalRight.vmin)return-1;if(this.m_intervalLeft.vmin>this.m_intervalRight.vmax)return 1;const a=i.getStartY()===i.getEndY(),h=o.getStartY()===o.getEndY();if(a||h){if(a&&h)return 0;if(i.getStartY()===o.getStartY()&&i.getStartX()===o.getStartX())return a?1:-1;if(i.getEndY()===o.getEndY()&&i.getEndX()===o.getEndX())return a?-1:1}let m=i.intersectionOfYMonotonicWithAxisX(this.m_yScanline,this.m_intervalLeft.vmin),l=o.intersectionOfYMonotonicWithAxisX(this.m_yScanline,this.m_intervalRight.vmin);if(m===l){const e=i.getEndY(),t=o.getEndY(),s=Math.min(e,t);let n=.5*(s+this.m_yScanline);n===this.m_yScanline&&(n=s),m=i.intersectionOfYMonotonicWithAxisX(n,this.m_intervalLeft.vmin),l=o.intersectionOfYMonotonicWithAxisX(n,this.m_intervalRight.vmin)}return m<l?-1:m>l?1:0}setY(e){this.m_yScanline=e}}class js{constructor(e){this.m_segmentBuffer=new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.S,this.m_point=_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P.getNAN(),this.m_parent=e}setPointXY(e){this.m_point.assign(e)}compare(e,t){const s=e.getElement(t);this.m_parent.querySegmentXY(s,this.m_segmentBuffer);const n=this.m_segmentBuffer.get(),r=new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.E;if(r.setCoords(n.getStartX(),n.getEndX()),this.m_point.x<r.vmin)return-1;if(this.m_point.x>r.vmax)return 1;const i=n.intersectionOfYMonotonicWithAxisX(this.m_point.y,this.m_point.x);return this.m_point.x<i?-1:this.m_point.x>i?1:0}}var Zs,Ks;function Qs(e,t){return{parentage:e,rank:t}}function Js(e,t){const s=e.length;if(s!==t.length)return!1;const n=e[0].parentage;if(n!==t[0].parentage)return!1;if(-1===n)return!0;for(let r=1;r<s;++r)if(e[r].parentage!==t[r].parentage)return!1;return!0}function $s(e,t,s){s.length=0;let n=!1;{let r=e.getHalfEdgeVertexIterator(t);for(;r!==_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n;){const t=e.getVertexFromVertexIterator(r),i=e.getShape().getSegmentRank(t),o=e.getShape().getSegmentParentage(t);n||=o>=0,s.push(Qs(o,i)),r=e.incrementVertexIterator(r)}}{let r=e.getHalfEdgeVertexIterator(e.getHalfEdgeTwin(t));for(;r!==_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n;){const t=e.getVertexFromVertexIterator(r),i=e.getShape().getSegmentRank(t),o=e.getShape().getSegmentParentage(t);n||=o>=0,s.push(Qs(o,i)),r=e.incrementVertexIterator(r)}}n&&s.sort(((e,t)=>e.rank>t.rank?-1:e.rank<t.rank?1:e.parentage<t.parentage?-1:e.parentage>t.parentage?1:0)),-1===s[0].parentage&&(s.length=1)}function en(){return new zs((e=>e.getHashCode()),((e,t)=>e.equals(t)))}!function(e){e[e.enumInputModeBuildGraph=0]="enumInputModeBuildGraph",e[e.enumInputModeSimplifyAlternate=1]="enumInputModeSimplifyAlternate",e[e.enumInputModeSimplifyWinding=2]="enumInputModeSimplifyWinding"}(Zs||(Zs={})),function(e){e[e.enumSegmentParentageBreakNode=1]="enumSegmentParentageBreakNode",e[e.enumPathBreakNode=2]="enumPathBreakNode"}(Ks||(Ks={}));class tn{constructor(){this.m_shape=null,this.m_clusterData=new _Envelope_js__WEBPACK_IMPORTED_MODULE_3__.S(8),this.m_clusterVertices=new _Envelope_js__WEBPACK_IMPORTED_MODULE_3__.S(2),this.m_firstCluster=_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n,this.m_lastCluster=_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n,this.m_halfEdgeData=new _Envelope_js__WEBPACK_IMPORTED_MODULE_3__.S(8),this.m_chainData=new _Envelope_js__WEBPACK_IMPORTED_MODULE_3__.S(8),this.m_chainAreas=null,this.m_chainPerimeters=null,this.m_universeChain=-1,this.m_simplifiedGeometry=-1,this.m_edgeIndices=[],this.m_clusterIndices=[],this.m_chainIndices=[],this.m_bBuildGeometryParentageSets=!1,this.m_chainBitSetIndex=-1,this.m_edgeBitSetIndex=-1,this.m_edgeBitSetIndexLeft=-1,this.m_emptyBitSet=null,this.m_geometryMapID=null,this.m_uniqueBitSets=null,this.m_chainBitSets=[],this.m_edgeBitSets=[],this.m_checkDirtyPlanesweepTolerance=Number.NaN,this.m_geometryIDIndex=-1,this.m_clusterIndex=-1,this.m_halfEdgeIndex=-1,this.m_tmpHalfEdgeParentageIndex=-1,this.m_tmpHalfEdgeParentageIndexLeft=-1,this.m_tmpHalfEdgeWindingNumberIndex=-1,this.m_tmpHalfEdgeOddEvenNumberIndex=-1,this.m_segmentParentageIndex=-1,this.m_segmentIndexHe=-1,this.m_clusterBreakNodeIndex=-1,this.m_universeGeomID=-1,this.m_pointCount=0,this.m_progressCounter=0,this.m_bBuildChains=!0,this.m_bDirtyCheckFailed=!1}setCheckDirtyPlanesweepTolerance(e){this.m_checkDirtyPlanesweepTolerance=e}dirtyCheckFailed(){return this.m_bDirtyCheckFailed}getShape(){return this.m_shape}setEditShape(e,t,s=!0,n=!1){n?this.setEditShapeImpl3D_(e,Zs.enumInputModeBuildGraph,null,t,!1):this.setEditShapeImpl_(e,Zs.enumInputModeBuildGraph,null,t,s)}setAndSimplifyEditShapeAlternate(e,t,s=null,r=!1){const i=[];i.push(t),this.m_simplifiedGeometry=t,r?this.setEditShapeImpl3D_(e,Zs.enumInputModeSimplifyAlternate,i,s,!1):this.setEditShapeImpl_(e,Zs.enumInputModeSimplifyAlternate,i,s,e.getGeometryType(t)===_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumPolygon)}setAndSimplifyEditShapeWinding(e,t,s=null){const n=[];n.push(t),this.m_simplifiedGeometry=t,this.setEditShapeImpl_(e,Zs.enumInputModeSimplifyWinding,n,s,!0)}removeShape(){null!==this.m_shape&&(-1!==this.m_geometryIDIndex&&(this.m_shape.removeGeometryUserIndex(this.m_geometryIDIndex),this.m_geometryIDIndex=-1),-1!==this.m_clusterIndex&&(this.m_shape.removeUserIndex(this.m_clusterIndex),this.m_clusterIndex=-1),-1!==this.m_halfEdgeIndex&&(this.m_shape.removeUserIndex(this.m_halfEdgeIndex),this.m_halfEdgeIndex=-1),-1!==this.m_tmpHalfEdgeParentageIndex&&(this.deleteUserIndexForHalfEdges(this.m_tmpHalfEdgeParentageIndex),this.m_tmpHalfEdgeParentageIndex=-1),-1!==this.m_tmpHalfEdgeParentageIndexLeft&&(this.deleteUserIndexForHalfEdges(this.m_tmpHalfEdgeParentageIndexLeft),this.m_tmpHalfEdgeParentageIndexLeft=-1),-1!==this.m_tmpHalfEdgeWindingNumberIndex&&(this.deleteUserIndexForHalfEdges(this.m_tmpHalfEdgeWindingNumberIndex),this.m_tmpHalfEdgeWindingNumberIndex=-1),-1!==this.m_tmpHalfEdgeOddEvenNumberIndex&&(this.deleteUserIndexForHalfEdges(this.m_tmpHalfEdgeOddEvenNumberIndex),this.m_tmpHalfEdgeOddEvenNumberIndex=-1),-1!==this.m_segmentParentageIndex&&(this.deleteUserIndexForHalfEdges(this.m_segmentParentageIndex),this.m_segmentParentageIndex=-1),-1!==this.m_segmentIndexHe&&(this.deleteUserIndexForHalfEdges(this.m_segmentIndexHe),this.m_segmentIndexHe=-1),-1!==this.m_clusterBreakNodeIndex&&(this.deleteUserIndexForClusters(this.m_clusterBreakNodeIndex),this.m_clusterBreakNodeIndex=-1),this.deleteEdgeBitSets_(),this.deleteChainBitSets_(),this.m_emptyBitSet=null,this.m_geometryMapID=null,this.m_shape=null,this.m_clusterData.deleteAll(!0),this.m_clusterVertices.deleteAll(!0),this.m_firstCluster=_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n,this.m_lastCluster=_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n,this.m_halfEdgeData.deleteAll(!0),this.m_edgeIndices.length=0,this.m_clusterIndices.length=0,this.m_chainIndices.length=0,this.m_chainData.deleteAll(!0),this.m_universeChain=_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n,this.m_chainAreas=null)}getClusterHalfEdge(e){return this.m_clusterData.getField(e,2)}queryXY(e,t){const s=this.getClusterVertexIndex_(e);t.assign(this.m_shape.getXYWithIndex(s))}queryXYZ(e,t){(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(0)}getClusterParentage(e){return this.m_clusterData.getField(e,1)}getFirstCluster(){return this.m_firstCluster}getPrevCluster(e){return this.m_clusterData.getField(e,3)}getNextCluster(e){return this.m_clusterData.getField(e,4)}getClusterChain(e){return this.m_clusterData.getField(e,6)}getClusterVertexIterator(e){return this.m_clusterData.getField(e,7)}incrementVertexIterator(e){return this.m_clusterVertices.getField(e,1)}getVertexFromVertexIterator(e){return this.m_clusterVertices.getField(e,0)}getClusterUserIndex(e,t){const s=this.getClusterIndex_(e),n=this.m_clusterIndices[t];return n.size()<=s?-1:n.read(s)}setClusterUserIndex(e,t,s){const n=this.getClusterIndex_(e),r=this.m_clusterIndices[t];r.size()<=n&&r.resize(this.m_clusterData.size(),-1),r.write(n,s)}hasClusterUserIndexFlags(e,t,s){if(-1===t)return!1;const n=this.getClusterUserIndex(e,t);return-1!==n&&0!==(s&n)}setClusterUserIndexFlags(e,t,s){const n=this.getClusterIndex_(e),r=this.m_clusterIndices[t];r.size()<=n&&r.resize(this.m_clusterData.size(),-1);let i=r.read(n);-1===i&&(i=0),r.write(n,s|i)}clearClusterUserIndexFlags(e,t,s){const n=this.getClusterIndex_(e),r=this.m_clusterIndices[t];r.size()<=n&&r.resize(this.m_clusterData.size(),-1);let i=r.read(n);-1===i&&(i=0),r.write(n,~s&i)}createUserIndexForClusters(e=-1){const t=new _Envelope_js__WEBPACK_IMPORTED_MODULE_3__.A(this.m_clusterData.capacity(),e);for(let s=0,n=this.m_clusterIndices.length;s<n;s++)if(null===this.m_clusterIndices[s])return this.m_clusterIndices[s]=t,s;this.m_clusterIndices.push(t);return this.m_clusterIndices.length-1}deleteUserIndexForClusters(e){this.m_clusterIndices[e]=null}getHalfEdgeOrigin(e){return this.m_halfEdgeData.getField(e,1)}getHalfEdgeTo(e){return this.getHalfEdgeOrigin(this.getHalfEdgeTwin(e))}getHalfEdgeTwin(e){return this.m_halfEdgeData.getField(e,4)}getHalfEdgePrev(e){return this.m_halfEdgeData.getField(e,5)}getHalfEdgeNext(e){return this.m_halfEdgeData.getField(e,6)}getHalfEdgeChain(e){return this.m_halfEdgeData.getField(e,2)}getHalfEdgeFaceParentage(e){return this.getChainParentage(this.getHalfEdgeChain(e))}getHalfEdgeVertexIterator(e){return this.m_halfEdgeData.getField(e,7)}getHalfEdgeFromXY(e,t){this.queryXY(this.getHalfEdgeOrigin(e),t)}getHalfEdgeToXY(e,t){this.queryXY(this.getHalfEdgeTo(e),t)}isHalfEdgeCurve(e){if(-1!==this.m_segmentIndexHe){return-1!==this.getHalfEdgeUserIndex(e,this.m_segmentIndexHe)}return!1}getHalfEdgeFromXYZ(e,t){(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(0)}getHalfEdgeToXYZ(e,t){(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(0)}getHalfEdgeParentage(e){return this.m_halfEdgeData.getField(e,3)&tn.c_EdgeParentageMask}getHalfEdgeUserIndex(e,t){const s=this.getHalfEdgeIndex_(e),n=this.m_edgeIndices[t];return n.size()<=s?-1:n.read(s)}setHalfEdgeUserIndex(e,t,s){const n=this.getHalfEdgeIndex_(e),r=this.m_edgeIndices[t];r.size()<=n&&r.resize(this.m_halfEdgeData.size(),-1),r.write(n,s)}createUserIndexForHalfEdges(e){void 0===e&&(e=-1);const t=new _Envelope_js__WEBPACK_IMPORTED_MODULE_3__.A(this.m_halfEdgeData.capacity(),e);for(let n=0,r=this.m_edgeIndices.length;n<r;n++)if(null===this.m_edgeIndices[n])return this.m_edgeIndices[n]=t,n;this.m_edgeIndices.push(t);const s=this.m_edgeIndices.length-1;return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(s>=0&&s<=Number.MAX_SAFE_INTEGER),s}deleteUserIndexForHalfEdges(e){this.m_edgeIndices[e]=null}deleteEdgesBreakFaces_(e){for(let t=0,s=e.length;t<s;t++){const s=e[t],n=this.getHalfEdgeChain(s),r=this.getHalfEdgeTwin(s),i=this.getHalfEdgeChain(r);this.setChainHalfEdge_(n,_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n),this.setChainHalfEdge_(i,_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n),this.updateVertexToHalfEdgeConnection_(s,!0),this.deleteEdgeImpl_(s)}}doesHalfEdgeBelongToAPolygonInterior(e,t){return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(0),!1}doesHalfEdgeBelongToAPolygonExterior(e,t){return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(0),!1}doesHalfEdgeBelongToAPolygonBoundary(e,t){return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(0),!1}doesHalfEdgeBelongToAPolylineInterior(e,t){return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(0),!1}doesHalfEdgeBelongToAPolylineExterior(e,t){return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(0),!1}doesClusterBelongToAPolygonInterior(e,t){return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(0),!1}doesClusterBelongToAPolygonExterior(e,t){return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(0),!1}doesClusterBelongToAPolygonBoundary(e,t){return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(0),!1}getFirstChain(){return this.m_universeChain}getChainHalfEdge(e){return this.m_chainData.getField(e,1)}getChainParentage(e){return this.m_chainData.getField(e,2)}getChainParent(e){return this.m_chainData.getField(e,3)}getChainFirstIsland(e){return this.m_chainData.getField(e,4)}getChainNextInParent(e){return this.m_chainData.getField(e,5)}getChainNext(e){return this.m_chainData.getField(e,7)}getChainArea(e){const t=this.getChainIndex_(e);let s=this.m_chainAreas.read(t);return Number.isNaN(s)&&(this.updateChainAreaAndPerimeter_(e),s=this.m_chainAreas.read(t)),s}getChainPerimeter(e){return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(0),0}getChainUserIndex(e,t){const s=this.getChainIndex_(e),n=this.m_chainIndices[t];return n.size()<=s?-1:n.read(s)}setChainUserIndex(e,t,s){const n=this.getChainIndex_(e),r=this.m_chainIndices[t];r.size()<=n&&r.resize(this.m_chainData.size(),-1),r.write(n,s)}createUserIndexForChains(){const e=new _Envelope_js__WEBPACK_IMPORTED_MODULE_3__.A(this.m_chainData.capacity(),-1);for(let t=0,s=this.m_chainIndices.length;t<s;t++)if(null===this.m_chainIndices[t])return this.m_chainIndices[t]=e,t;this.m_chainIndices.push(e);return this.m_chainIndices.length-1}deleteUserIndexForChains(e){this.m_chainIndices[e]=null}extractPolygonFromChainAndIslands(e,t,s,r){const i=t===_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n?e.createGeometry(_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumPolygon):t,o=new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.S;this.extractPolygonPathFromChain_(e,i,s,r,o);for(let n=this.getChainFirstIsland(s);n!==_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n;n=this.getChainNextInParent(n))this.extractPolygonPathFromChain_(e,i,n,r,o);return i}getGeometryID(e){const t=this.m_shape.getGeometryUserIndex(e,this.m_geometryIDIndex);return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(t>=0),1<<Math.min(t,31)}getClusterFromVertex(e){return this.m_shape.getUserIndex(e,this.m_clusterIndex)}getHalfEdgeFromVertex(e){return this.m_shape.getUserIndex(e,this.m_halfEdgeIndex)}buildGeometryParentageSets(){this.m_bBuildGeometryParentageSets=!0}getChainBitSet(e){if((0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(this.m_bBuildGeometryParentageSets),-1===this.m_chainBitSetIndex)return this.getEmptySet();const t=this.getChainUserIndex(e,this.m_chainBitSetIndex);(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(t>=0);let s=this.m_chainBitSets.at(t);return s||(s=this.getEmptySet()),s}getChainBoundaryBitSet(e){(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(this.m_bBuildGeometryParentageSets);const t=new Ls,s=e=>{const s=this.getChainHalfEdge(e);let n=s;do{const e=this.getEdgeBitSet_(n);null!==e&&t.assignOr(e);const s=this.getEdgeBitSet_(this.getHalfEdgeTwin(n));null!==s&&t.assignOr(s),n=this.getHalfEdgeNext(n)}while(n!==s)};s(e);for(let n=this.getChainFirstIsland(e);n!==_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n;n=this.getChainNextInParent(n))s(e);return t}getChainPolygons(e){return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(0),[]}getGeometriesFromBits(e){if(!this.m_bBuildGeometryParentageSets||null===e)return[];if(null===this.m_geometryMapID){this.m_geometryMapID=new Map;for(let e=this.m_shape.getFirstGeometry();e!==_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n;e=this.m_shape.getNextGeometry(e))this.m_geometryMapID.set(this.m_shape.getGeometryUserIndex(e,this.m_geometryIDIndex),e)}const t=[],s=e.getUnorderedBitIterator();for(let n=s.next();n!==Ys.npos();n=s.next())(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(this.m_geometryMapID.has(n)),t.push(this.m_geometryMapID.get(n));return t}getVertexDominant(e,t){if(t===_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n)return e;const s=this.getClusterFromVertex(e);return this.getVertexDominantFromCluster(s,t)}getVertexDominantFromCluster(e,t){if(t!==_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n){let s=_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n;for(let n=this.getClusterVertexIterator(e);n!==_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n;n=this.incrementVertexIterator(n)){const e=this.getVertexFromVertexIterator(n);s===_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n&&(s=e);const r=this.m_shape.getPathFromVertex(e);if(this.m_shape.getGeometryFromPath(r)===t){s=e;break}}return s}{const t=this.getClusterVertexIterator(e);if(t!==_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n){return this.getVertexFromVertexIterator(t)}return _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n}}isBreakNode(e){return this.hasClusterUserIndexFlags(e,this.m_clusterBreakNodeIndex,Ks.enumSegmentParentageBreakNode)}setBreakNode(e,t){(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(-1!==this.m_clusterBreakNodeIndex),t?this.setClusterUserIndexFlags(e,this.m_clusterBreakNodeIndex,Ks.enumSegmentParentageBreakNode):this.clearClusterUserIndexFlags(e,this.m_clusterBreakNodeIndex,Ks.enumSegmentParentageBreakNode)}isStrongPathNode(e){return this.hasClusterUserIndexFlags(e,this.m_clusterBreakNodeIndex,Ks.enumPathBreakNode)}setStrongPathNode(e,t){if(-1===this.m_clusterBreakNodeIndex){if(!t)return;this.m_clusterBreakNodeIndex=this.createUserIndexForClusters()}t?this.setClusterUserIndexFlags(e,this.m_clusterBreakNodeIndex,Ks.enumPathBreakNode):this.clearClusterUserIndexFlags(e,this.m_clusterBreakNodeIndex,Ks.enumPathBreakNode)}getSegmentParentage(e){if(-1===this.m_segmentParentageIndex)return-1;const t=this.getHalfEdgeUserIndex(e,this.m_segmentParentageIndex);return t>=0?t:-1}isCrossroadAhead(e){const t=this.getHalfEdgeNext(e);if(this.isStrongPathNode(this.getHalfEdgeOrigin(t)))return!0;const s=this.getHalfEdgeTwin(t),n=this.getHalfEdgeNext(s);return e!==this.getHalfEdgeTwin(n)}isCrossroadBehind(e){return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(0),!1}getHalfEdgeConnector(e,t){const s=this.getClusterHalfEdge(e);if(s===_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n)return _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n;let n=s,r=_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n,i=_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n;do{if(this.getHalfEdgeTo(n)===t)return n;if(r===_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n){if(r=this.getClusterHalfEdge(t),r===_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n)return _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n;i=r}if(this.getHalfEdgeTo(i)===e)return n=this.getHalfEdgeTwin(i),n;n=this.getHalfEdgeNext(this.getHalfEdgeTwin(n)),i=this.getHalfEdgeNext(this.getHalfEdgeTwin(i))}while(n!==s&&i!==r);return _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n}querySegmentXY(e,t){if(-1!==this.m_segmentIndexHe){let s=this.getHalfEdgeUserIndex(e,this.m_segmentIndexHe);if(-1!==s){if(-2!==s){const e=this.m_shape.getSegmentFromIndex(s);t.copyFrom(e,!0)}else{s=this.getHalfEdgeUserIndex(this.getHalfEdgeTwin(e),this.m_segmentIndexHe);const n=this.m_shape.getSegmentFromIndex(s);t.copyFrom(n,!0),t.get().reverse()}return}}t.createLine();const s=t.get(),n=_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P.getNAN();this.getHalfEdgeFromXY(e,n),s.setStartXY(n),this.getHalfEdgeToXY(e,n),s.setEndXY(n)}isCurveEdge(e){if(-1!==this.m_segmentIndexHe){return-1!==this.getHalfEdgeUserIndex(e,this.m_segmentIndexHe)}return!1}compareEdgeAnglesCurveHelper_(e,t,s){const n=new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.S,r=new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.S;this.querySegmentXY(e,n),this.querySegmentXY(t,r);const i=n.get(),o=r.get();if(i.equals(o))return 0;const h=new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P;this.getHalfEdgeFromXY(e,h);const m=new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P;this.getHalfEdgeToXY(e,m);const l=new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P;this.getHalfEdgeToXY(t,l),(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(!m.isEqualPoint2D(l));return (0,_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.R)(i,o)}compareEdgeAnglesHelper_(e,t,s){if(e===t)return 0;if(this.isHalfEdgeCurve(e)||this.isHalfEdgeCurve(t))return this.compareEdgeAnglesCurveHelper_(e,t,s);const n=_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P.getNAN();this.getHalfEdgeToXY(e,n);const r=_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P.getNAN();if(this.getHalfEdgeToXY(t,r),n.isEqualPoint2D(r))return 0;const i=_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P.getNAN();this.getHalfEdgeFromXY(e,i);const o=_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P.getNAN();o.setSub(n,i);const a=_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P.getNAN();if(a.setSub(r,i),!s||a.y>=0&&o.y>0){return _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P.compareVectors(o,a)}return 0}compareEdgeAngles_(e,t){return this.compareEdgeAnglesHelper_(e,t,!1)}compareEdgeAnglesForPair_(e,t){return this.compareEdgeAnglesHelper_(e,t,!0)}compareEdgeAngles3D_(e,t){return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(0),0}compareEdgeAnglesForPair3D_(e,t){return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(0),0}dbgDumpChains_(){}dbgDumpChainToPolygon_(e,t){}deleteEdgeInternal_(e){const t=this.getHalfEdgeChain(e),s=this.getHalfEdgeTwin(e),n=this.getHalfEdgeChain(s);(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(n===t),(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(e===this.getHalfEdgeNext(s)||s===this.getHalfEdgeNext(e));let r=this.getHalfEdgeNext(e);r===s&&(r=this.getHalfEdgeNext(r),r===e&&(r=_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n));const i=this.getChainIndex_(t),o=this.m_chainAreas.read(i);Number.isNaN(o)||(this.setChainArea_(t,Number.NaN),this.setChainPerimeter_(t,Number.NaN));const h=this.getChainHalfEdge(t);h!==e&&h!==s||this.setChainHalfEdge_(t,r),this.updateVertexToHalfEdgeConnection_(e,!0),this.deleteEdgeImpl_(e)}getFirstUnvisitedHalfEdgeOnCluster_(e,t,s){let n=t!==_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n?t:this.getClusterHalfEdge(e);if(n===_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n)return _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n;const r=n;for(;;){if(1!==this.getHalfEdgeUserIndex(n,s))return n;const e=this.getHalfEdgeNext(this.getHalfEdgeTwin(n));if(e===r)return _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n;n=e}}removeSpikes_(){let e=!1;const t=this.createUserIndexForHalfEdges();for(let s=this.getFirstCluster();s!==_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n;s=this.getNextCluster(s)){let n=_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n;for(;;){let r=this.getFirstUnvisitedHalfEdgeOnCluster_(s,n,t);if(r===_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n)break;n=this.getHalfEdgeNext(this.getHalfEdgeTwin(r));let i=r;for(;;){const s=this.getHalfEdgeNext(i),o=this.getHalfEdgePrev(i),a=this.getHalfEdgeTwin(i);if(o===a){if(this.deleteEdgeInternal_(i),e=!0,n!==i&&n!==a||(n=_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n),i===r||o===r){if(r=s,i===r||o===r)break;i=s;continue}}else this.setHalfEdgeUserIndex(i,t,1);if(i=s,i===r)break}}}return this.deleteUserIndexForHalfEdges(t),e}progress_(e,t=!1){}newCluster_(){const e=this.m_clusterData.newElement();return this.m_clusterData.setField(e,1,0),e}newHalfEdgePair_(){const e=this.m_halfEdgeData.newElement();this.m_halfEdgeData.setField(e,2,0),this.m_halfEdgeData.setField(e,3,0);const t=this.m_halfEdgeData.newElement();return this.m_halfEdgeData.setField(t,2,0),this.m_halfEdgeData.setField(t,3,0),this.setHalfEdgeTwin_(e,t),this.setHalfEdgeTwin_(t,e),e}newChain_(){const e=this.m_chainData.newElement();return this.m_chainData.setField(e,2,0),e}deleteChain_(e){return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(0),0}getClusterIndex_(e){return this.m_clusterData.elementToIndex(e)}setClusterVertexIterator_(e,t){this.m_clusterData.setField(e,7,t)}setClusterHalfEdge_(e,t){this.m_clusterData.setField(e,2,t)}setClusterParentage_(e,t){this.m_clusterData.setField(e,1,t)}setPrevCluster_(e,t){this.m_clusterData.setField(e,3,t)}setNextCluster_(e,t){this.m_clusterData.setField(e,4,t)}setClusterVertexIndex_(e,t){this.m_clusterData.setField(e,5,t)}getClusterVertexIndex_(e){return this.m_clusterData.getField(e,5)}setClusterChain_(e,t){this.m_clusterData.setField(e,6,t)}addClusterToExteriorChain_(e,t){this.setClusterChain_(t,e)}getHalfEdgeIndex_(e){return this.m_halfEdgeData.elementToIndex(e)}setHalfEdgeOrigin_(e,t){this.m_halfEdgeData.setField(e,1,t)}setHalfEdgeTwin_(e,t){this.m_halfEdgeData.setField(e,4,t)}setHalfEdgePrev_(e,t){this.m_halfEdgeData.setField(e,5,t)}setHalfEdgeNext_(e,t){this.m_halfEdgeData.setField(e,6,t)}setHalfEdgeChain_(e,t){this.m_halfEdgeData.setField(e,2,t)}setHalfEdgeParentage_(e,t){this.m_halfEdgeData.setField(e,3,t)}getHalfEdgeParentageMask_(e){return this.m_halfEdgeData.getField(e,3)}setHalfEdgeVertexIterator_(e,t){this.m_halfEdgeData.setField(e,7,t)}updateVertexToHalfEdgeConnectionHelper_(e,t){const s=t?_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n:e;for(let n=this.getHalfEdgeVertexIterator(e);n!==_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n;n=this.incrementVertexIterator(n)){const e=this.getVertexFromVertexIterator(n);this.m_shape.setUserIndex(e,this.m_halfEdgeIndex,s)}}updateVertexToHalfEdgeConnection_(e,t){e!==_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n&&(this.updateVertexToHalfEdgeConnectionHelper_(e,t),this.updateVertexToHalfEdgeConnectionHelper_(this.getHalfEdgeTwin(e),t))}getChainIndex_(e){return this.m_chainData.elementToIndex(e)}setChainHalfEdge_(e,t){this.m_chainData.setField(e,1,t)}setChainParentage_(e,t){this.m_chainData.setField(e,2,t)}setChainParent_(e,t){this.m_chainData.setField(e,3,t);const s=this.getChainFirstIsland(t);this.setChainNextInParent_(e,s),this.setChainFirstIsland_(t,e)}setChainFirstIsland_(e,t){this.m_chainData.setField(e,4,t)}setChainNextInParent_(e,t){this.m_chainData.setField(e,5,t)}setChainPrev_(e,t){this.m_chainData.setField(e,6,t)}setChainNext_(e,t){this.m_chainData.setField(e,7,t)}setChainArea_(e,t){const s=this.getChainIndex_(e);this.m_chainAreas.write(s,t)}setChainPerimeter_(e,t){const s=this.getChainIndex_(e);this.m_chainPerimeters.write(s,t)}updateChainAreaAndPerimeter_(e){const t=this.m_shape.hasCurves(),s=new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.K(0),n=new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.K(0),r=this.getChainHalfEdge(e),i=_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P.getNAN(),o=_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P.getNAN(),a=_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P.getNAN();this.getHalfEdgeFromXY(r,i),o.setCoordsPoint2D(i);let h=r;do{this.getHalfEdgeToXY(h,a),t&&this.isCurveEdge(h)||n.pe(_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P.distance(o,a));this.getHalfEdgeChain(this.getHalfEdgeTwin(h))!==e&&s.pe((a.x-i.x-(o.x-i.x))*(a.y-i.y+(o.y-i.y))*.5),o.setCoordsPoint2D(a),h=this.getHalfEdgeNext(h)}while(h!==r);if(t){const t=new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.S;h=r;do{this.getHalfEdgeToXY(h,a);const r=this.isCurveEdge(h);r&&(this.querySegmentXY(h,t),n.pe(t.get().calculateLength2D()));if(this.getHalfEdgeChain(this.getHalfEdgeTwin(h))!==e&&r){const e=t.get().calculateArea2DHelper();s.pe(e)}h=this.getHalfEdgeNext(h)}while(h!==r)}const m=this.getChainIndex_(e);this.m_chainAreas.write(m,s.getResult()),this.m_chainPerimeters.write(m,n.getResult())}getChainTopmostEdge_(e){return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(0),0}planeSweepParentage_(e,t){const s=new Ws(this),n=new _Envelope_js__WEBPACK_IMPORTED_MODULE_3__.T;n.setCapacity(Math.trunc(this.m_pointCount/2)),n.setComparator(s);const r=[],i=this.createUserIndexForHalfEdges();let o=null;const a=_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P.getNAN();for(let h=this.getFirstCluster();h!==_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n;h=this.getNextCluster(h)){this.progress_(t);const m=this.getClusterHalfEdge(h);if(m!==_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n){if(r.length=0,!this.tryOptimizedInsertion_(n,i,r,h,m)){this.queryXY(h,a),s.setY(a.y);let e=m;do{const t=this.getHalfEdgeUserIndex(e,i);-1!==t&&(n.deleteNode(t),this.setHalfEdgeUserIndex(e,i,_Envelope_js__WEBPACK_IMPORTED_MODULE_3__.S.impossibleIndex2())),e=this.getHalfEdgeNext(this.getHalfEdgeTwin(e))}while(m!==e);e=m;do{if(-1===this.getHalfEdgeUserIndex(e,i)){const t=n.addElement(e);r.push(t)}e=this.getHalfEdgeNext(this.getHalfEdgeTwin(e))}while(m!==e)}for(let t=r.length-1;t>=0;t--){const s=r[t],o=n.getElement(s),a=this.getHalfEdgeTwin(o);this.setHalfEdgeUserIndex(a,i,s),this.planeSweepParentagePropagateParentage_(n,s,e)}}else if(this.getClusterChain(h)===_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n){null===o&&(o=new js(this)),this.queryXY(h,a),o.setPointXY(a);const e=n.searchLowerBound(o);let t=this.m_universeChain;if(-1!==e){let s=n.getElement(e);this.getHalfEdgeChain(s)===this.getHalfEdgeChain(this.getHalfEdgeTwin(s))&&(s=this.getLeftSkipPolylines_(n,e)),s!==_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n&&(t=this.getHalfEdgeChain(s))}this.addClusterToExteriorChain_(t,h)}}this.deleteUserIndexForHalfEdges(i)}planeSweepParentagePropagateParentage_(e,t,s){const n=e.getElement(t),r=this.getHalfEdgeChain(n);if(this.getChainParent(r)!==_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n)return;const i=this.getLeftSkipPolylines_(e,t),o=this.getHalfEdgeTwin(n),h=this.getHalfEdgeChain(o);let m=this.getChainParent(r),l=this.getChainParent(h);if(i===_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n)m===_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n&&(h===r?(this.setChainParent_(h,this.m_universeChain),l=this.m_universeChain,m=l):(l===_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n&&(this.setChainParent_(h,this.m_universeChain),l=this.m_universeChain),this.setChainParent_(r,h),m=h));else{const e=this.getHalfEdgeChain(i);if(l===_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n){if(this.getChainArea(e)<=0){const t=this.getChainParent(e);this.setChainParent_(h,t),l=t}else this.setChainParent_(h,e),l=e;h===r&&(m=l)}}m===_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n&&(this.trySetChainParentFromTwin_(r,h),m=this.getChainParent(r)),(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(m!==_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n),s===Zs.enumInputModeBuildGraph?this.propagateParentageBuildGraph_(e,t,n,i):s===Zs.enumInputModeSimplifyWinding?this.propagateParentageWinding_(e,t,n,i,o,r,h):s===Zs.enumInputModeSimplifyAlternate&&this.propagateParentageAlternate_(e,t,n,i,o,r,h)}propagateParentageBuildGraph_(e,t,s,n){let r,i=t;n===_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n?(i=e.getNext(i),r=this.getHalfEdgeChain(s)):r=this.getHalfEdgeChain(n);let o=null,a=this.getChainParentage(r);for(this.m_bBuildGeometryParentageSets&&(o=this.getChainBitSet(r));-1!==i;i=e.getNext(i)){const t=e.getElement(i),s=this.getHalfEdgeTwin(t);r=this.getHalfEdgeChain(t);const n=this.getHalfEdgeChain(s);if(this.m_bBuildGeometryParentageSets){let e=this.getChainBitSet(n);e=new Ls({copy:e}),e.assignOr(o),this.setChainBitSet_(n,e);let s=this.getChainBitSet(r);const i=this.getLeftEdgeBitSet_(t),a=new Ls({copy:o});if(a.assignSubtract(i),a.isZero())break;s=new Ls({copy:s}),s.assignOr(a),this.setChainBitSet_(r,s),o=s}const h=this.getChainParentage(n),m=h|a;m!==h&&this.setChainParentage_(n,m);let l=this.getChainParentage(r);const g=a&~this.getHalfEdgeUserIndex(t,this.m_tmpHalfEdgeParentageIndexLeft);if(g&&(l|=g,this.setChainParentage_(r,l)),0===g)break;a=l}}propagateParentageWinding_(e,t,s,n,r,i,o){if(i===o)return;let h=this.getHalfEdgeUserIndex(s,this.m_tmpHalfEdgeWindingNumberIndex);h+=this.getHalfEdgeUserIndex(r,this.m_tmpHalfEdgeWindingNumberIndex);let m=0;const l=[],g=[];g.push(0);for(let u=e.getFirst();u!==t;u=e.getNext(u)){const t=e.getElement(u),s=this.getHalfEdgeTwin(t),n=this.getHalfEdgeChain(t),r=this.getHalfEdgeChain(s);if(n!==r){let e=this.getHalfEdgeUserIndex(t,this.m_tmpHalfEdgeWindingNumberIndex);e+=this.getHalfEdgeUserIndex(s,this.m_tmpHalfEdgeWindingNumberIndex),m+=e;let i=!1;0!==l.length&&l.at(-1)===r&&(g.pop(),l.pop(),i=!0),(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(this.getChainParent(r)!==_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n),i&&this.getChainParent(r)===n||(g.push(m),l.push(n))}}if(m+=h,0!==l.length&&l.at(-1)===o&&(g.pop(),l.pop()),0!==m){if(0===g.at(-1)){const e=this.m_simplifiedGeometry,t=this.getGeometryID(e);this.setChainParentage_(i,t)}}else if(0!==g.at(-1)){const e=this.m_simplifiedGeometry,t=this.getGeometryID(e);this.setChainParentage_(i,t)}}propagateParentageAlternate_(e,t,s,n,r,i,o){const a=this.m_simplifiedGeometry,h=this.getGeometryID(a);if(n===_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n){this.setChainParentage_(o,this.m_universeGeomID);1&this.getHalfEdgeUserIndex(s,this.m_tmpHalfEdgeOddEvenNumberIndex)?this.setChainParentage_(i,h):this.setChainParentage_(i,this.m_universeGeomID)}else{const e=this.getChainParentage(o);if(0===e){const e=this.getHalfEdgeChain(n),t=this.getChainParentage(e);this.setChainParentage_(o,t);1&this.getHalfEdgeUserIndex(s,this.m_tmpHalfEdgeOddEvenNumberIndex)?this.setChainParentage_(i,t===h?this.m_universeGeomID:h):this.setChainParentage_(i,t)}else{1&this.getHalfEdgeUserIndex(s,this.m_tmpHalfEdgeOddEvenNumberIndex)?this.setChainParentage_(i,e===h?this.m_universeGeomID:h):this.setChainParentage_(i,e)}}}tryOptimizedInsertion_(e,t,s,n,r){let i=r,o=-1,a=_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n,h=0;do{if(2===h)return!1;const e=this.getHalfEdgeUserIndex(i,t);if(-1!==e){if(-1!==o)return!1;o=e}else{if(a!==_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n)return!1;a=i}h++,i=this.getHalfEdgeNext(this.getHalfEdgeTwin(i))}while(r!==i);return a!==_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n&&-1!==o&&(this.setHalfEdgeUserIndex(e.getElement(o),t,_Envelope_js__WEBPACK_IMPORTED_MODULE_3__.S.impossibleIndex2()),e.setElement(o,a),s.push(o),!0)}trySetChainParentFromTwin_(e,t){const s=this.getChainArea(e);if(0===s)return!1;const n=this.getChainArea(t);if(s>0&&n<0||s<0&&n>0)return this.setChainParent_(e,t),!0;{const s=this.getChainParent(t);if(s!==_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n)return this.setChainParent_(e,s),!0}return!1}createHalfEdges_(e,t){this.m_halfEdgeIndex=this.m_shape.createUserIndex();for(let s=0,r=t.size();s<r;s++){const r=t.read(s),i=this.m_shape.getUserIndex(r,this.m_clusterIndex),a=this.m_shape.getPathFromVertex(r),h=this.m_shape.getGeometryFromPath(a),m=this.m_shape.getGeometryType(h);if((0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.h)(m)){const t=this.m_shape.getNextVertex(r);if(t===_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n)continue;const s=this.m_shape.getUserIndex(t,this.m_clusterIndex);if(i===s)continue;const o=this.newHalfEdgePair_(),a=this.getHalfEdgeTwin(o),l=this.m_clusterVertices.newElement();this.m_clusterVertices.setField(l,0,r),this.m_clusterVertices.setField(l,1,-1),this.setHalfEdgeVertexIterator_(o,l),this.m_shape.setUserIndex(r,this.m_halfEdgeIndex,o),this.setHalfEdgeOrigin_(o,i);const g=this.getClusterHalfEdge(i);if(g===_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n)this.setClusterHalfEdge_(i,o),this.setHalfEdgePrev_(o,a),this.setHalfEdgeNext_(a,o);else{const e=this.getHalfEdgePrev(g);this.setHalfEdgePrev_(g,a),this.setHalfEdgeNext_(a,g),this.setHalfEdgeNext_(e,o),this.setHalfEdgePrev_(o,e)}this.setHalfEdgeOrigin_(a,s);const u=this.getClusterHalfEdge(s);if(u===_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n)this.setClusterHalfEdge_(s,a),this.setHalfEdgeNext_(o,a),this.setHalfEdgePrev_(a,o);else{const e=this.getHalfEdgePrev(u);this.setHalfEdgePrev_(u,o),this.setHalfEdgeNext_(o,u),this.setHalfEdgeNext_(e,a),this.setHalfEdgePrev_(a,e)}const c=this.getGeometryID(h);if(e===Zs.enumInputModeBuildGraph){const e=m===_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumPolygon?c:0;if(this.setHalfEdgeUserIndex(a,this.m_tmpHalfEdgeParentageIndex,0),this.setHalfEdgeUserIndex(o,this.m_tmpHalfEdgeParentageIndex,e),this.setHalfEdgeUserIndex(a,this.m_tmpHalfEdgeParentageIndexLeft,e),this.setHalfEdgeUserIndex(o,this.m_tmpHalfEdgeParentageIndexLeft,0),this.m_bBuildGeometryParentageSets){const e=new Ls,t=this.m_shape.getGeometryUserIndex(h,this.m_geometryIDIndex);e.setBit(t),this.setEdgeBitSet_(o,e),this.setEdgeBitSet_(a,null),this.setLeftEdgeBitSet_(a,e),this.setLeftEdgeBitSet_(o,null)}}else if(e===Zs.enumInputModeSimplifyWinding){const e=this.m_shape.getXY(r),s=this.m_shape.getXY(t);let n=0,i=0;e.compare(s)<0?n=1:i=-1,this.setHalfEdgeUserIndex(o,this.m_tmpHalfEdgeWindingNumberIndex,n),this.setHalfEdgeUserIndex(a,this.m_tmpHalfEdgeWindingNumberIndex,i)}else e===Zs.enumInputModeSimplifyAlternate&&(this.setHalfEdgeUserIndex(o,this.m_tmpHalfEdgeOddEvenNumberIndex,1),this.setHalfEdgeUserIndex(a,this.m_tmpHalfEdgeOddEvenNumberIndex,1));const _=m===_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumPolygon?tn.c_EdgeBitMask:0;this.setHalfEdgeParentage_(o,c|_),this.setHalfEdgeParentage_(a,c|_)}}if(this.m_shape.hasCurves()){this.m_segmentIndexHe=this.createUserIndexForHalfEdges();for(let e=0,s=t.size();e<s;e++){const s=t.read(e);if(this.m_shape.getSegment(s)){const e=this.m_shape.getUserIndex(s,this.m_halfEdgeIndex);e!==_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n&&(this.setHalfEdgeUserIndex(e,this.m_segmentIndexHe,this.m_shape.getVertexIndex(s)),this.setHalfEdgeUserIndex(this.getHalfEdgeTwin(e),this.m_segmentIndexHe,-2))}}}}mergeVertexListsOfEdges_(e,t){{const s=this.getHalfEdgeVertexIterator(t);if(s!==_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n){const n=this.getHalfEdgeVertexIterator(e);this.m_clusterVertices.setField(s,1,n),this.setHalfEdgeVertexIterator_(e,s),this.setHalfEdgeVertexIterator_(t,_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n)}}const s=this.getHalfEdgeTwin(e),n=this.getHalfEdgeTwin(t);{const e=this.getHalfEdgeVertexIterator(n);if(e!==_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n){const t=this.getHalfEdgeVertexIterator(s);this.m_clusterVertices.setField(e,1,t),this.setHalfEdgeVertexIterator_(s,e),this.setHalfEdgeVertexIterator_(n,_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n)}}if(-1!==this.m_segmentIndexHe){let r=this.getHalfEdgeUserIndex(e,this.m_segmentIndexHe);if(-1!==r){if(-2===r){const s=this.getHalfEdgeUserIndex(t,this.m_segmentIndexHe);this.setHalfEdgeUserIndex(e,this.m_segmentIndexHe,s)}if(r=this.getHalfEdgeUserIndex(s,this.m_segmentIndexHe),-2===r){const e=this.getHalfEdgeUserIndex(n,this.m_segmentIndexHe);this.setHalfEdgeUserIndex(s,this.m_segmentIndexHe,e)}}}}sortHalfEdgesByAngle_(e){const t=[];for(let s=this.getFirstCluster();s!==_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n;s=this.getNextCluster(s)){t.length=0;const n=this.getClusterHalfEdge(s);if(n!==_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n){let r=n;do{t.push(r),r=this.getHalfEdgeNext(this.getHalfEdgeTwin(r))}while(r!==n);if(t.length>1){let r=!0;t.length>2?(t.sort(((e,t)=>this.compareEdgeAngles_(e,t))),t.push(t[0])):this.compareEdgeAnglesForPair_(t[0],t[1])>0?t[1]=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.c)(t[0],t[0]=t[1]):r=!1;let i=t[0],o=i,a=this.getHalfEdgeTo(o),h=this.getHalfEdgeTwin(o),m=_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n;for(let s=1,n=t.length;s<n;s++){const n=t[s],r=this.getHalfEdgeTwin(n),l=this.getHalfEdgeOrigin(r);if(l!==a||n===o)this.updateVertexToHalfEdgeConnection_(m,!1),m=_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n,o=n,a=l,h=r;else{if(e===Zs.enumInputModeBuildGraph){const e=this.getHalfEdgeParentageMask_(o)|this.getHalfEdgeParentageMask_(n);if(this.setHalfEdgeParentage_(o,e),this.setHalfEdgeParentage_(h,e),this.setHalfEdgeUserIndex(o,this.m_tmpHalfEdgeParentageIndex,this.getHalfEdgeUserIndex(o,this.m_tmpHalfEdgeParentageIndex)|this.getHalfEdgeUserIndex(n,this.m_tmpHalfEdgeParentageIndex)),this.setHalfEdgeUserIndex(h,this.m_tmpHalfEdgeParentageIndex,this.getHalfEdgeUserIndex(h,this.m_tmpHalfEdgeParentageIndex)|this.getHalfEdgeUserIndex(r,this.m_tmpHalfEdgeParentageIndex)),this.setHalfEdgeUserIndex(o,this.m_tmpHalfEdgeParentageIndexLeft,this.getHalfEdgeUserIndex(o,this.m_tmpHalfEdgeParentageIndexLeft)|this.getHalfEdgeUserIndex(n,this.m_tmpHalfEdgeParentageIndexLeft)),this.setHalfEdgeUserIndex(h,this.m_tmpHalfEdgeParentageIndexLeft,this.getHalfEdgeUserIndex(h,this.m_tmpHalfEdgeParentageIndexLeft)|this.getHalfEdgeUserIndex(r,this.m_tmpHalfEdgeParentageIndexLeft)),this.m_bBuildGeometryParentageSets){let e,t,s;e=this.getEdgeBitSet_(o),t=this.getEdgeBitSet_(n),s=new Ls({copy:e}),s.assignOr(t),this.setEdgeBitSet_(o,s),e=this.getEdgeBitSet_(h),t=this.getEdgeBitSet_(r),s=new Ls({copy:e}),s.assignOr(t),this.setEdgeBitSet_(h,s),e=this.getLeftEdgeBitSet_(o),t=this.getLeftEdgeBitSet_(n),s=new Ls({copy:e}),s.assignOr(t),this.setLeftEdgeBitSet_(o,s),e=this.getLeftEdgeBitSet_(h),t=this.getLeftEdgeBitSet_(r),s=new Ls({copy:e}),s.assignOr(t),this.setLeftEdgeBitSet_(h,s)}}else if(-1!==this.m_tmpHalfEdgeWindingNumberIndex){const e=this.getHalfEdgeUserIndex(o,this.m_tmpHalfEdgeWindingNumberIndex)+this.getHalfEdgeUserIndex(n,this.m_tmpHalfEdgeWindingNumberIndex),t=this.getHalfEdgeUserIndex(h,this.m_tmpHalfEdgeWindingNumberIndex)+this.getHalfEdgeUserIndex(r,this.m_tmpHalfEdgeWindingNumberIndex);this.setHalfEdgeUserIndex(o,this.m_tmpHalfEdgeWindingNumberIndex,e),this.setHalfEdgeUserIndex(h,this.m_tmpHalfEdgeWindingNumberIndex,t)}else if(-1!==this.m_tmpHalfEdgeOddEvenNumberIndex){const e=this.getHalfEdgeUserIndex(o,this.m_tmpHalfEdgeOddEvenNumberIndex)+this.getHalfEdgeUserIndex(n,this.m_tmpHalfEdgeOddEvenNumberIndex),t=this.getHalfEdgeUserIndex(h,this.m_tmpHalfEdgeOddEvenNumberIndex)+this.getHalfEdgeUserIndex(r,this.m_tmpHalfEdgeOddEvenNumberIndex);this.setHalfEdgeUserIndex(o,this.m_tmpHalfEdgeOddEvenNumberIndex,e),this.setHalfEdgeUserIndex(h,this.m_tmpHalfEdgeOddEvenNumberIndex,t)}this.mergeVertexListsOfEdges_(o,n),this.deleteEdgeImpl_(n),m=o,t[s]=_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n,n===i&&(t[0]=_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n,i=_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n)}}if(this.updateVertexToHalfEdgeConnection_(m,!1),m=_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n,!r){i=_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n;for(let e=0,s=t.length;e<s;e++){const s=t[e];if(s!==_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n){i=s;break}}n!==i&&this.setClusterHalfEdge_(s,i);continue}i=_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n;for(let e=0,s=t.length;e<s;e++){const s=t[e];if(s===_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n)continue;if(i===_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n){i=s,o=i,a=this.getHalfEdgeTo(o),h=this.getHalfEdgeTwin(o);continue}if(s===o)continue;const n=this.getHalfEdgeTwin(s),r=this.getHalfEdgeOrigin(n);this.setHalfEdgeNext_(h,s),this.setHalfEdgePrev_(s,h),o=s,a=r,h=n}this.setClusterHalfEdge_(s,i)}}}}sortHalfEdgesByAngle3D_(e){(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(0)}buildChains_(e){this.m_universeChain=this.newChain_(),this.setChainHalfEdge_(this.m_universeChain,_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n);let t=this.m_universeChain;const s=this.createUserIndexForHalfEdges();for(let n=this.getFirstCluster();n!==_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n;n=this.getNextCluster(n)){const e=this.getClusterHalfEdge(n);if(e!==_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n){let n=e;do{if(1!==this.getHalfEdgeUserIndex(n,s)){const e=this.newChain_();this.setChainHalfEdge_(e,n),this.setChainPrev_(e,t),this.setChainNext_(t,e);let r=null;this.m_bBuildGeometryParentageSets&&(r=new Ls),t=e;let i=0,o=n;do{-1!==this.m_tmpHalfEdgeParentageIndex&&(i|=this.getHalfEdgeUserIndex(o,this.m_tmpHalfEdgeParentageIndex)),this.m_bBuildGeometryParentageSets&&r.assignOr(this.getEdgeBitSet_(o)),this.setHalfEdgeChain_(o,e),this.setHalfEdgeUserIndex(o,s,1),o=this.getHalfEdgeNext(o)}while(o!==n);this.m_bBuildGeometryParentageSets&&this.setChainBitSet_(e,r),this.setChainParentage_(e,i)}n=this.getHalfEdgeNext(this.getHalfEdgeTwin(n))}while(n!==e)}}this.m_chainAreas=new _Envelope_js__WEBPACK_IMPORTED_MODULE_3__.x(this.m_chainData.size(),Number.NaN),this.m_chainPerimeters=new _Envelope_js__WEBPACK_IMPORTED_MODULE_3__.x(this.m_chainData.size(),Number.NaN),this.setChainArea_(this.m_universeChain,Number.POSITIVE_INFINITY),this.setChainPerimeter_(this.m_universeChain,Number.POSITIVE_INFINITY),this.deleteUserIndexForHalfEdges(s)}simplify_(e){(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(0)}simplifyAlternate_(){(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(0)}simplifyWinding_(){(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(0)}setEditShapeImpl_(e,t,s,n,r){this.removeShape(),this.m_bBuildChains=r,this.m_shape=e,this.m_geometryIDIndex=this.m_shape.createGeometryUserIndex();let i=this.m_shape.getTotalPointCount();if(s){i=0;for(let e=0,t=s.length;e<t;e++)i+=this.m_shape.getPointCount(s[e])}const o=new _Envelope_js__WEBPACK_IMPORTED_MODULE_3__.A(0);let a=0,h=0;{let e=null!=s?s[0]:this.m_shape.getFirstGeometry(),t=1;for(;e!==_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n;){this.m_shape.setGeometryUserIndex(e,this.m_geometryIDIndex,h++);for(let t=this.m_shape.getFirstPath(e);t!==_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n;t=this.m_shape.getNextPath(t)){let e=this.m_shape.getFirstVertex(t);for(let s=0,n=this.m_shape.getPathSize(t);s<n;s++)o.add(e),e=this.m_shape.getNextVertex(e)}(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.e)(this.m_shape.getGeometryType(e))||(a+=this.m_shape.getPathCount(e)),null!=s?(e=t<s.length?s[t]:_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n,t++):e=this.m_shape.getNextGeometry(e)}}this.m_universeGeomID=1<<Math.min(h,31),this.m_pointCount=o.size(),this.m_shape.sortVerticesSimpleByY(o,0,this.m_pointCount),this.m_clusterVertices.setCapacity(this.m_pointCount),this.progress_(n,!0),this.m_clusterData.setCapacity(this.m_pointCount+10),this.m_halfEdgeData.setCapacity(2*this.m_pointCount+32),this.m_chainData.setCapacity(Math.max(32,a)),this.m_clusterIndex=this.m_shape.createUserIndex();const m=_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P.getNAN();let l=0;const g=_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P.getNAN();for(let u=0;u<=this.m_pointCount;u++){if(u<this.m_pointCount){const e=o.read(u);this.m_shape.queryXY(e,g)}else g.setNAN();if(!m.isEqualPoint2D(g)){if(l<u){const e=this.newCluster_();let t=_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n,s=-1;for(let n=l;n<u;n++){s=o.read(n),this.m_shape.setUserIndex(s,this.m_clusterIndex,e);const r=this.m_clusterVertices.newElement();this.m_clusterVertices.setField(r,0,s),this.m_clusterVertices.setField(r,1,t),t=r;const i=this.m_shape.getPathFromVertex(s),a=this.m_shape.getGeometryFromPath(i),h=this.getGeometryID(a);this.setClusterParentage_(e,this.getClusterParentage(e)|h)}this.setClusterVertexIterator_(e,t),this.setClusterVertexIndex_(e,this.m_shape.getVertexIndex(s)),this.m_lastCluster!==_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n&&this.setNextCluster_(this.m_lastCluster,e),this.setPrevCluster_(e,this.m_lastCluster),this.m_lastCluster=e,this.m_firstCluster===_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n&&(this.m_firstCluster=e)}l=u,m.setCoordsPoint2D(g)}}if(this.m_shape.hasSegmentParentage()){-1===this.m_clusterBreakNodeIndex&&(this.m_clusterBreakNodeIndex=this.createUserIndexForClusters());for(let e=0;e<this.m_pointCount;e++){const t=o.read(e);if(this.m_shape.getSegmentParentageBreakVertex(t)){const e=this.getClusterFromVertex(t);this.setBreakNode(e,!0)}}}this.progress_(n,!0);{let e=null!=s?s[0]:this.m_shape.getFirstGeometry(),t=1;for(;e!==_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n;){for(let t=this.m_shape.getFirstPath(e);t!==_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n;t=this.m_shape.getNextPath(t)){if(this.m_shape.isStrongPathStart(t)){const e=this.m_shape.getFirstVertex(t),s=this.getClusterFromVertex(e);this.setStrongPathNode(s,!0)}if(this.m_shape.isStrongPathEnd(t)){const e=this.m_shape.isClosedPath(t)?this.m_shape.getFirstVertex(t):this.m_shape.getLastVertex(t),s=this.getClusterFromVertex(e);this.setStrongPathNode(s,!0)}}null!=s?(e=t<s.length?s[t]:_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n,t++):e=this.m_shape.getNextGeometry(e)}}if(t===Zs.enumInputModeBuildGraph&&(this.m_tmpHalfEdgeParentageIndex=this.createUserIndexForHalfEdges(),this.m_tmpHalfEdgeParentageIndexLeft=this.createUserIndexForHalfEdges()),t===Zs.enumInputModeSimplifyWinding&&(this.m_tmpHalfEdgeWindingNumberIndex=this.createUserIndexForHalfEdges()),t===Zs.enumInputModeSimplifyAlternate&&(this.m_tmpHalfEdgeOddEvenNumberIndex=this.createUserIndexForHalfEdges()),this.createHalfEdges_(t,o),this.dbgNavigate_(),this.sortHalfEdgesByAngle_(t),!Number.isNaN(this.m_checkDirtyPlanesweepTolerance)&&!this.checkStructureAfterDirtySweep_())return this.m_bDirtyCheckFailed=!0,void this.cleanSetEditShapeImpl_();this.buildChains_(t),-1!==this.m_tmpHalfEdgeParentageIndex&&(this.deleteUserIndexForHalfEdges(this.m_tmpHalfEdgeParentageIndex),this.m_tmpHalfEdgeParentageIndex=-1),this.m_bBuildChains&&this.planeSweepParentage_(t,n),-1!==this.m_tmpHalfEdgeParentageIndexLeft&&(this.deleteUserIndexForHalfEdges(this.m_tmpHalfEdgeParentageIndexLeft),this.m_tmpHalfEdgeParentageIndexLeft=-1),this.dbgChkChainParents_(),this.dbgDumpChains_(),this.mergeSegmentParentage_(),this.dbgNavigate_(),this.dbgDumpChains_(),this.cleanSetEditShapeImpl_()}setEditShapeImpl3D_(e,t,s,n,r){(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(0)}cleanSetEditShapeImpl_(){-1!==this.m_tmpHalfEdgeParentageIndex&&(this.deleteUserIndexForHalfEdges(this.m_tmpHalfEdgeParentageIndex),this.m_tmpHalfEdgeParentageIndex=-1),-1!==this.m_tmpHalfEdgeParentageIndexLeft&&(this.deleteUserIndexForHalfEdges(this.m_tmpHalfEdgeParentageIndexLeft),this.m_tmpHalfEdgeParentageIndexLeft=-1),-1!==this.m_tmpHalfEdgeWindingNumberIndex&&(this.deleteUserIndexForHalfEdges(this.m_tmpHalfEdgeWindingNumberIndex),this.m_tmpHalfEdgeWindingNumberIndex=-1),-1!==this.m_tmpHalfEdgeOddEvenNumberIndex&&(this.deleteUserIndexForHalfEdges(this.m_tmpHalfEdgeOddEvenNumberIndex),this.m_tmpHalfEdgeOddEvenNumberIndex=-1)}cleanSetEditShapeImpl3D_(){(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(0)}dbgNavigate_(){}dbgChkChainParents_(){}deleteEdgeImpl_(e){const t=this.getHalfEdgeNext(e),s=this.getHalfEdgePrev(e),n=this.getHalfEdgeTwin(e),r=this.getHalfEdgeNext(n),i=this.getHalfEdgePrev(n);t!==n&&(this.setHalfEdgeNext_(i,t),this.setHalfEdgePrev_(t,i)),s!==n&&(this.setHalfEdgeNext_(s,r),this.setHalfEdgePrev_(r,s));const o=this.getHalfEdgeOrigin(e);this.getClusterHalfEdge(o)===e&&(r!==e?this.setClusterHalfEdge_(o,r):this.setClusterHalfEdge_(o,_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n));const a=this.getHalfEdgeOrigin(n);this.getClusterHalfEdge(a)===n&&(t!==n?this.setClusterHalfEdge_(a,t):this.setClusterHalfEdge_(a,_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n)),this.m_halfEdgeData.deleteElement(e),this.m_halfEdgeData.deleteElement(n)}getLeftSkipPolylines_(e,t){let s=t;for(;;){if(s=e.getPrev(s),-1===s)return _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n;{const t=e.getElement(s);if(this.getHalfEdgeChain(t)!==this.getHalfEdgeChain(this.getHalfEdgeTwin(t)))return t}}}checkStructureAfterDirtySweep_(){const e=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.a)(this.m_checkDirtyPlanesweepTolerance),t=new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P,s=new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P,n=new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P,r=new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P,i=new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P;for(let o=this.getFirstCluster();o!==_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n;o=this.getNextCluster(o)){const a=this.getClusterHalfEdge(o);if(a!==_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n){let o=a;this.getHalfEdgeFromXY(o,t),this.getHalfEdgeToXY(o,s),n.setSub(s,t);let h=n.sqrLength();do{const a=o;if(o=this.getHalfEdgeNext(this.getHalfEdgeTwin(o)),o!==a){this.getHalfEdgeToXY(o,r),i.setSub(r,t);const a=i.sqrLength(),m=i.crossProduct(n),l=m*m/(a*h);if(Math.min(a,h)*l<=e){if(i.dotProduct(n)>=0)return!1}n.assign(i),h=a,s.assign(r)}}while(o!==a)}}return!0}extractPolygonPathFromChain_(e,t,s,n,r){const i=this.m_shape.hasSegmentParentage(),o=this.getChainHalfEdge(s);let a=o,h=_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n;const m=new _Envelope_js__WEBPACK_IMPORTED_MODULE_3__.P;do{const o=this.getHalfEdgeTwin(a);if(this.getHalfEdgeChain(o)!==s){let s=_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n;const o=this.getHalfEdgeOrigin(a);if(n===_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n){const e=this.getClusterVertexIterator(o);s=this.getVertexFromVertexIterator(e)}else for(let e=this.getClusterVertexIterator(o);e!==_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n;e=this.incrementVertexIterator(e)){const t=this.getVertexFromVertexIterator(e);s===_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n&&(s=t);const r=this.m_shape.getPathFromVertex(t);if(this.m_shape.getGeometryFromPath(r)===n){s=t;break}}let l;if(h===_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n&&(h=e.insertPath(t,_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n),e.setClosedPath(h,!0)),this.m_shape===e?l=e.addVertex(h,s):(this.m_shape.queryPoint(s,m),l=e.addPoint(h,m)),this.isHalfEdgeCurve(a)&&(this.querySegmentXY(a,r),e.setSegmentToIndex(e.getVertexIndex(l),r.get().clone())),i){const t=this.getSegmentParentage(a);e.setSegmentParentageAndBreak(l,t,this.isBreakNode(o))}}a=this.getHalfEdgeNext(a)}while(a!==o)}mergeSegmentParentage_(){if(!this.m_shape.hasSegmentParentage())return;(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(-1!==this.m_clusterBreakNodeIndex),(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(-1===this.m_segmentParentageIndex);for(let n=this.getFirstCluster();n!==_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n;n=this.getNextCluster(n)){let e=0;const t=this.getClusterHalfEdge(n);if(t!==_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n){let s=t;do{e++,s=this.getHalfEdgeNext(this.getHalfEdgeTwin(s))}while(s!==t&&e<3)}2!==e&&this.setBreakNode(n,!0)}let e=[],t=[];this.m_segmentParentageIndex=this.createUserIndexForHalfEdges();const s=this.createUserIndexForHalfEdges();for(let n=this.getFirstCluster();n!==_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n;n=this.getNextCluster(n)){const r=this.getClusterHalfEdge(n);if(r!==_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n){let n=!1,i=r;do{let r=i;for(;-1===this.getHalfEdgeUserIndex(r,s);){const i=this.getHalfEdgeNext(r),o=this.getHalfEdgeTwin(r);$s(this,r,t);const a=t.at(-1).parentage;if(!n){const t=this.getHalfEdgeOrigin(r);if(!this.isBreakNode(t)){const t=this.getHalfEdgePrev(r);r!==t&&($s(this,t,e),n=!0)}}if(n&&!Js(t,e)){const e=this.getHalfEdgeOrigin(r);this.setBreakNode(e,!0)}e=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.c)(t,t=e),n=!0;const h=this.getHalfEdgeOrigin(i);this.isBreakNode(h)&&(n=!1),this.setHalfEdgeUserIndex(r,this.m_segmentParentageIndex,a),this.setHalfEdgeUserIndex(o,this.m_segmentParentageIndex,a),this.setHalfEdgeUserIndex(r,s,1),this.setHalfEdgeUserIndex(o,s,1),r=i}i=this.getHalfEdgeNext(this.getHalfEdgeTwin(i))}while(i!==r)}}this.deleteUserIndexForHalfEdges(s)}registerNewBitSet(e){if(null===this.m_uniqueBitSets&&(this.m_uniqueBitSets=en(),this.m_uniqueBitSets.add(this.getEmptySet())),null===e)return this.getEmptySet();return this.m_uniqueBitSets.has(e)?this.m_uniqueBitSets.get(e):(this.m_uniqueBitSets.add(e),e)}getLeftEdgeBitSet_(e){const t=this.getHalfEdgeUserIndex(e,this.m_edgeBitSetIndexLeft);return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(t>=0),(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(this.m_edgeBitSets.at(t)),this.m_edgeBitSets.at(t)}getEdgeBitSet_(e){const t=this.getHalfEdgeUserIndex(e,this.m_edgeBitSetIndex);return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(t>=0),this.m_edgeBitSets.at(t)}setEdgeBitSet_(e,t){(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(this.m_bBuildGeometryParentageSets),t=this.registerNewBitSet(t),-1===this.m_edgeBitSetIndex&&(this.m_edgeBitSetIndex=this.createUserIndexForHalfEdges());const s=this.getHalfEdgeUserIndex(e,this.m_edgeBitSetIndex);-1!==s?this.m_edgeBitSets[s]=t:(this.setHalfEdgeUserIndex(e,this.m_edgeBitSetIndex,this.m_edgeBitSets.length),this.m_edgeBitSets.push(t))}setLeftEdgeBitSet_(e,t){(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(this.m_bBuildGeometryParentageSets),t=this.registerNewBitSet(t),-1===this.m_edgeBitSetIndexLeft&&(this.m_edgeBitSetIndexLeft=this.createUserIndexForHalfEdges());const s=this.getHalfEdgeUserIndex(e,this.m_edgeBitSetIndexLeft);-1!==s?this.m_edgeBitSets[s]=t:(this.setHalfEdgeUserIndex(e,this.m_edgeBitSetIndexLeft,this.m_edgeBitSets.length),this.m_edgeBitSets.push(t))}setChainBitSet_(e,t){(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(this.m_bBuildGeometryParentageSets),t=this.registerNewBitSet(t),-1===this.m_chainBitSetIndex&&(this.m_chainBitSetIndex=this.createUserIndexForChains());const s=this.getChainUserIndex(e,this.m_chainBitSetIndex);-1!==s?this.m_chainBitSets[s]=t:(this.setChainUserIndex(e,this.m_chainBitSetIndex,this.m_chainBitSets.length),this.m_chainBitSets.push(t))}getEmptySet(){return this.m_emptyBitSet||(this.m_emptyBitSet=new Ls),this.m_emptyBitSet}deleteEdgeBitSets_(){-1!==this.m_edgeBitSetIndex&&(this.deleteUserIndexForHalfEdges(this.m_edgeBitSetIndex),this.m_edgeBitSetIndex=-1),-1!==this.m_edgeBitSetIndexLeft&&(this.deleteUserIndexForHalfEdges(this.m_edgeBitSetIndexLeft),this.m_edgeBitSetIndexLeft=-1),this.m_edgeBitSets.length=0,this.m_uniqueBitSets=null}deleteChainBitSets_(){-1!==this.m_chainBitSetIndex&&(this.deleteUserIndexForChains(this.m_chainBitSetIndex),this.m_chainBitSetIndex=-1,this.m_chainBitSets.length=0)}dbgPrintEdge_(e){}dbgVerifyEdgeSegment(e){}}tn.c_EdgeParentageMask=~(1<<31),tn.c_EdgeBitMask=1<<31;class sn{freeNode_(e){this.m_listNodes.deleteElement(e)}newNode_(){return this.m_listNodes.newElement()}freeList_(e){this.m_lists.deleteElement(e)}newList_(){return this.m_lists.newElement()}Init_(e){(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(0)}constructor(e){this.m_listNodes=new _Envelope_js__WEBPACK_IMPORTED_MODULE_3__.S(2),this.m_listOfLists=sn.st_nullNode(),this.m_bAllowNavigationBetweenLists=!0,void 0===e&&(e=!0),this.m_bAllowNavigationBetweenLists=e,this.m_lists=new _Envelope_js__WEBPACK_IMPORTED_MODULE_3__.S(this.m_bAllowNavigationBetweenLists?4:2)}createList(){const e=this.newList_();return this.m_bAllowNavigationBetweenLists&&(this.m_lists.setField(e,3,this.m_listOfLists),this.m_listOfLists!==sn.st_nullNode()&&this.m_lists.setField(this.m_listOfLists,2,e),this.m_listOfLists=e),e}deleteList(e){let t=this.getFirst(e);for(;t!==sn.st_nullNode();){const e=t;t=this.getNext(t),this.freeNode_(e)}if(this.m_bAllowNavigationBetweenLists){const t=this.m_lists.getField(e,2),s=this.m_lists.getField(e,3);t!==sn.st_nullNode()?this.m_lists.setField(t,3,s):this.m_listOfLists=s,s!==sn.st_nullNode()&&this.m_lists.setField(s,2,t)}this.freeList_(e)}reserveLists(e){this.m_lists.setCapacity(e)}addElement(e,t){this.m_lists.getField(e,0);const s=this.m_lists.getField(e,1),n=this.newNode_();return s!==sn.st_nullNode()?(this.m_listNodes.setField(s,1,n),this.m_lists.setField(e,1,n)):(this.m_lists.setField(e,0,n),this.m_lists.setField(e,1,n)),this.m_listNodes.setField(n,0,t),n}reserveNodes(e){this.m_listNodes.setCapacity(e)}deleteElementDirect(e,t,s){t!==sn.st_nullNode()?(this.m_listNodes.setField(t,1,this.m_listNodes.getField(s,1)),this.m_lists.getField(e,1)===s&&this.m_lists.setField(e,1,t)):(this.m_lists.setField(e,0,this.m_listNodes.getField(s,1)),this.m_lists.getField(e,1)===s&&this.m_lists.setField(e,1,sn.st_nullNode())),this.freeNode_(s)}deleteElementSearch(e,t){let s=-1,n=this.getFirst(e);for(;n!==t;)s=n,n=this.getNext(n);this.deleteElementDirect(e,s,t)}concatenateLists(e,t){const s=this.m_lists.getField(e,1),n=this.m_lists.getField(t,0);if(n!==sn.st_nullNode()&&(s!==sn.st_nullNode()?(this.m_listNodes.setField(s,1,n),this.m_lists.setField(e,1,this.m_lists.getField(t,1))):(this.m_lists.setField(e,0,n),this.m_lists.setField(e,1,this.m_lists.getField(t,1)))),this.m_bAllowNavigationBetweenLists){const e=this.m_lists.getField(t,2),s=this.m_lists.getField(t,3);e!==sn.st_nullNode()?this.m_lists.setField(e,3,s):this.m_listOfLists=s,s!==sn.st_nullNode()&&this.m_lists.setField(s,2,e)}return this.freeList_(t),e}getElement(e){return this.m_listNodes.getField(e,0)}getData(e){return this.getElement(e)}setElement(e,t){(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(0)}getNext(e){return this.m_listNodes.getField(e,1)}getFirst(e){return this.m_lists.getField(e,0)}getFirstElement(e){const t=this.getFirst(e);return this.getElement(t)}static st_nullNode(){return-1}clear(){this.m_listNodes.deleteAll(!0),this.m_lists.deleteAll(!0),this.m_listOfLists=sn.st_nullNode()}isEmpty(e){return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(0),!1}getNodeCount(){return this.m_listNodes.size()}getListCount(){return this.m_lists.size()}getFirstList(){return this.m_listOfLists}getNextList(e){return this.m_lists.getField(e,3)}}function nn(e=-1){return{m_value:e,m_line:new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.L,m_segment:null,m_segmentInfo:new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.a6(-1),m_env:new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.E(0,0),m_dxdy:55555555,m_bHorizontal:!1,m_bCurve:!1}}const rn=67;class on extends _Envelope_js__WEBPACK_IMPORTED_MODULE_3__.a3{constructor(e,t,s){super(!0),this.m_bIntersectionDetected=!1,this.m_nonSimpleResult=new _OperatorDefinitions_js__WEBPACK_IMPORTED_MODULE_10__.NonSimpleResult,this.m_tempSimpleEdge1=nn(),this.m_tempSimpleEdge2=nn(),this.m_prev1=_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n,this.m_prev2=_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n,this.m_vertex1=_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n,this.m_vertex2=_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n,this.m_currentNode=-1,this.m_prevX1=Number.NaN,this.m_prevX2=Number.NaN,this.m_prevY=Number.NaN,this.m_prevX=0,this.m_sweepY=Number.NaN,this.m_sweepX=0,this.m_ptSweep=new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P,this.m_simpleEdgesCache=[],this.m_simpleEdgesRecycle=[],this.m_cOutstandingConstructedEdges=0,this.m_shape=e,this.m_bShapeHasSegments=this.m_shape.hasCurves(),this.m_tolerance=t,this.m_tolerance10=10*t,this.m_bIsSimple=s;const n=Math.trunc(Math.min(3*e.getTotalPointCount()/2,rn)),r=Math.min(7,n);this.m_simpleEdgesCache.length=r}tryGetCachedEdge_(e){const t=this.m_simpleEdgesCache[(e&(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.j)())%this.m_simpleEdgesCache.length];return t&&t.m_value===e?t:null}tryDeleteCachedEdge_(e){const t=(e&(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.j)())%this.m_simpleEdgesCache.length,s=this.m_simpleEdgesCache[t];s&&s.m_value===e&&(this.m_simpleEdgesRecycle.push(s),this.m_simpleEdgesCache[t]=null)}tryCreateCachedEdge_(e){const t=(e&(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.j)())%this.m_simpleEdgesCache.length;let s=this.m_simpleEdgesCache[t];return s?null:(0===this.m_simpleEdgesRecycle.length?(s=nn(),this.m_cOutstandingConstructedEdges++):s=this.m_simpleEdgesRecycle.pop(),s.m_value=e,this.m_simpleEdgesCache[t]=s,s)}initSimpleEdge_(e,t){this.m_bShapeHasSegments&&this.initSimpleEdgeHelper_(e,t)||e.m_bCurve||(this.m_shape.queryLineConnector(t,e.m_line,!0),e.m_segment=e.m_line,e.m_env.setCoordsNoNAN(e.m_line.getStartX(),e.m_line.getEndX()),e.m_env.vmax+=this.m_tolerance,e.m_line.orientBottomUp(),e.m_bHorizontal=e.m_line.getEndY()===e.m_line.getStartY(),e.m_bHorizontal||(e.m_dxdy=(e.m_line.getEndX()-e.m_line.getStartX())/(e.m_line.getEndY()-e.m_line.getStartY())))}initSimpleEdgeHelper_(e,t){if(e.m_segment=this.m_shape.getSegment(t),e.m_segmentInfo=this.m_shape.getOriginalSegmentInfo(t),e.m_bCurve=null!==e.m_segment,e.m_bCurve){const t=e.m_segment.clone();return t.orientBottomUp(),e.m_segment=t,e.m_env=e.m_segment.queryInterval(0,0),e.m_env.vmax+=this.m_tolerance,!0}return!1}compareTwoSegments_(e,t){const s=e.getStartXY(),n=e.getEndXY(),r=t.getStartXY(),i=t.getEndXY();if(this.m_ptSweep.setCoords(this.m_sweepX,this.m_sweepY),s.isEqualPoint2D(r)&&this.m_sweepY===s.y){this.m_ptSweep.assign(n.compare(i)<0?n:i);const s=e.intersectionOfYMonotonicWithAxisX(this.m_ptSweep.y,this.m_ptSweep.x),r=t.intersectionOfYMonotonicWithAxisX(this.m_ptSweep.y,this.m_ptSweep.x);if(Math.abs(s-r)>this.m_tolerance)return s<r?-1:1}const o=s.compare(r)<0?r:s,a=n.compare(i)<0?n:i;let h=0,m=0;for(let l=1;l<5;l++){(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.U)(o,a,l/5,this.m_ptSweep);const s=e.intersectionOfYMonotonicWithAxisX(this.m_ptSweep.y,this.m_ptSweep.x),n=t.intersectionOfYMonotonicWithAxisX(this.m_ptSweep.y,this.m_ptSweep.x),r=Math.abs(s-n);r>h&&(h=r,m=s<n?-1:1)}return 0===m?this.errorCracking():m}compareNonHorizontal_(e,t){if(e.m_line.getStartY()===t.m_line.getStartY()&&e.m_line.getStartX()===t.m_line.getStartX())return e.m_line.getEndY()===t.m_line.getEndY()&&e.m_line.getEndX()===t.m_line.getEndX()?this.m_bIsSimple?this.errorCoincident():0:this.compareNonHorizontalUpperEnd_(e,t);if(e.m_line.getEndY()===t.m_line.getEndY()&&e.m_line.getEndX()===t.m_line.getEndX())return this.compareNonHorizontalLowerEnd_(e,t);const s=this.compareNonHorizontalLowerEnd_(e,t),n=this.compareNonHorizontalUpperEnd_(e,t);return s<0&&n<0?-1:s>0&&n>0?1:this.errorCracking()}compareHorizontal1Case1_(e,t){if(e.getEndX()>t.getEndX()){if(t.getEndX()>t.getStartX()&&t.getEndY()-t.getStartY()<2*this.m_tolerance&&e.isIntersectingPoint(t.getEndXY(),this.m_tolerance,!0))return this.errorCracking()}else{if((t.getEndY()-t.getStartY())/(t.getEndX()-t.getStartX())*(e.getEndX()-e.getStartX())<this.m_tolerance10&&t.isIntersectingPoint(e.getEndXY(),this.m_tolerance,!0))return this.errorCracking()}return 1}compareHorizontal1Case2_(e,t){if(e.getStartX()<t.getStartX()){if(t.getEndX()>t.getStartX()&&t.getEndY()-t.getStartY()<2*this.m_tolerance&&e.isIntersectingPoint(t.getEndXY(),this.m_tolerance,!0))return this.errorCracking()}else{if((t.getEndY()-t.getStartY())/(t.getEndX()-t.getStartX())*(e.getStartX()-e.getEndX())<this.m_tolerance10&&t.isIntersectingPoint(e.getStartXY(),this.m_tolerance,!0))return this.errorCracking()}return-1}compareHorizontal1Case3_(e,t){const s=_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P.getNAN();s.setSub(t.getEndXY(),t.getStartXY()),s.rightPerpendicularThis(),s.normalize();const n=_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P.getNAN();n.setSub(e.getStartXY(),t.getStartXY());const r=_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P.getNAN();r.setSub(e.getEndXY(),t.getStartXY());const i=n.dotProduct(s),o=r.dotProduct(s),a=Math.abs(i),h=Math.abs(o);if(a<h){if(a<this.m_tolerance10&&t.isIntersectingPoint(e.getStartXY(),this.m_tolerance,!0))return this.errorCracking()}else if(h<this.m_tolerance10&&t.isIntersectingPoint(e.getEndXY(),this.m_tolerance,!0))return this.errorCracking();return i<0&&o<0?-1:i>0&&o>0?1:this.errorCracking()}compareHorizontal1_(e,t){return e.getStartY()===t.getStartY()&&e.getStartX()===t.getStartX()?this.compareHorizontal1Case1_(e,t):e.getEndY()===t.getEndY()&&e.getEndX()===t.getEndX()?this.compareHorizontal1Case2_(e,t):this.compareHorizontal1Case3_(e,t)}compareHorizontal2_(e,t){return e.getEndY()===t.getEndY()&&e.getEndX()===t.getEndX()&&e.getStartY()===t.getStartY()&&e.getStartX()===t.getStartX()?this.m_bIsSimple?this.errorCoincident():0:this.errorCracking()}compareNonHorizontalLowerEnd_(e,t){let s=1;if(e.m_line.getStartY()<t.m_line.getStartY()){s=-1;const n=e;e=t,t=n}const n=e.m_line,r=t.m_line,i=n.getStartX()-r.getStartX(),o=t.m_dxdy*(n.getStartY()-r.getStartY()),a=this.m_tolerance10;return i<o-a?-s:i>o+a?s:r.isIntersectingPoint(n.getStartXY(),this.m_tolerance,!0)?this.errorCracking():i<o?-s:s}compareNonHorizontalUpperEnd_(e,t){let s=1;if(t.m_line.getEndY()<e.m_line.getEndY()){s=-1;const n=e;e=t,t=n}const n=e.m_line,r=t.m_line,i=n.getEndX()-r.getStartX(),o=t.m_dxdy*(n.getEndY()-r.getStartY()),a=this.m_tolerance10;return i<o-a?-s:i>o+a?s:r.isIntersectingPoint(n.getEndXY(),this.m_tolerance,!0)?this.errorCracking():i<o?-s:s}errorCoincident(){this.m_bIntersectionDetected=!0;const e=7;return this.m_nonSimpleResult=new _OperatorDefinitions_js__WEBPACK_IMPORTED_MODULE_10__.NonSimpleResult(e,this.m_vertex1,this.m_vertex2),-1}errorCracking(){if(this.m_bIntersectionDetected=!0,this.m_bIsSimple){const e=6;this.m_nonSimpleResult=new _OperatorDefinitions_js__WEBPACK_IMPORTED_MODULE_10__.NonSimpleResult(e,this.m_vertex1,this.m_vertex2)}else this.m_prev1=_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n,this.m_prev2=_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n,this.m_vertex1=_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n,this.m_vertex2=_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n;return-1}compareSegments_(e,t,s,n){if(s.m_env.vmax<n.m_env.vmin)return-1;if(n.m_env.vmax<s.m_env.vmin)return 1;if(!s.m_bCurve&&!n.m_bCurve){let e=s.m_bHorizontal?1:0;return e|=n.m_bHorizontal?2:0,0===e?this.compareNonHorizontal_(s,n):1===e?this.compareHorizontal1_(s.m_line,n.m_line):2===e?-1*this.compareHorizontal1_(n.m_line,s.m_line):this.compareHorizontal2_(s.m_line,n.m_line)}if(this.m_bIntersectionDetected)return-1;const r=this.m_prevY===this.m_sweepY&&this.m_prevX===this.m_sweepX;let i,o;if(r&&e===this.m_prev1?i=this.m_prevX1:(i=Number.NaN,this.m_prev1=_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n),r&&t===this.m_prev2?o=this.m_prevX2:(o=Number.NaN,this.m_prev2=_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n),this.m_prevY=this.m_sweepY,this.m_prevX=this.m_sweepX,Number.isNaN(i)){this.m_prev1=e;const t=s.m_segment.intersectionOfYMonotonicWithAxisX(this.m_sweepY,this.m_sweepX);i=t,this.m_prevX1=t}if(Number.isNaN(o)){this.m_prev2=t;const e=n.m_segment.intersectionOfYMonotonicWithAxisX(this.m_sweepY,this.m_sweepX);o=e,this.m_prevX2=e}const a=(0,_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.Y)(!0,!0,s.m_segment,n.m_segment,this.m_tolerance,!0);return 0!==a?2===a?this.m_bIsSimple?this.errorCoincident():s.m_segmentInfo.equals(n.m_segmentInfo)?0:this.errorCracking():this.errorCracking():Math.abs(i-o)<=this.m_tolerance?this.compareTwoSegments_(s.m_segment,n.m_segment):i<o?-1:i>o?1:0}clearIntersectionDetectedFlag(){this.m_bIntersectionDetected=!1}intersectionDetected(){return this.m_bIntersectionDetected}getLastComparedNode(){return this.m_currentNode}getResult(){return this.m_nonSimpleResult}setSweepY(e,t){this.m_sweepY=e,this.m_sweepX=t,this.m_prev1=_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n,this.m_prev2=_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n,this.m_vertex1=_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n,this.m_vertex2=_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n}compare(e,t,s){if(this.m_bIntersectionDetected)return-1;const n=e.getElement(s),r=t;return this.m_currentNode=s,this.compareSegments(r,r,n,n)}compareSegments(e,t,s,n){let r=this.tryGetCachedEdge_(e);null===r?this.m_vertex1===t?r=this.m_tempSimpleEdge1:(this.m_vertex1=t,r=this.tryCreateCachedEdge_(e),null===r&&(r=this.m_tempSimpleEdge1,this.m_tempSimpleEdge1.m_value=e),this.initSimpleEdge_(r,t)):this.m_vertex1=t;let i=this.tryGetCachedEdge_(s);return null===i?this.m_vertex2===n?i=this.m_tempSimpleEdge2:(this.m_vertex2=n,i=this.tryCreateCachedEdge_(s),null===i&&(i=this.m_tempSimpleEdge2,this.m_tempSimpleEdge2.m_value=s),this.initSimpleEdge_(i,n)):this.m_vertex2=n,this.compareSegments_(t,n,r,i)}onDelete(e){this.tryDeleteCachedEdge_(e)}onSet(e){this.tryDeleteCachedEdge_(e)}onEndSearch(e){this.tryDeleteCachedEdge_(e)}onAddUniqueElementFailed(e){this.tryDeleteCachedEdge_(e)}}class an{constructor(e,t){this.m_bIntersectionDetected=!1,this.m_pointOfInterest=_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P.getNAN(),this.m_line1=new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.L,this.m_seg1=null,this.m_env=_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.E.constructEmpty(),this.m_vertex1=-1,this.m_currentNode=-1,this.m_minDist=Number.MAX_VALUE,this.m_shape=e,this.m_tolerance=t}getCurrentNode(){return this.m_currentNode}clearIntersectionDetectedFlag(){this.m_bIntersectionDetected=!1,this.m_minDist=Number.MAX_VALUE}intersectionDetected(){return this.m_bIntersectionDetected}setPoint(e){this.m_pointOfInterest.assign(e)}compare(e,t){const s=e.getElement(t);return this.compareVertex(e,t,s)}compareVertex(t,s,n){let r,i=this.m_shape.getSegment(n),o=!0;if(null==i)this.m_shape.queryLineConnector(n,this.m_line1,!0),this.m_env.setCoordsNoNAN(this.m_line1.getStartX(),this.m_line1.getEndX()),i=this.m_line1,r=this.m_line1.getStartY()===this.m_line1.getEndY();else{const t=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D.constructEmpty();i.queryLooseEnvelope(t),t.queryIntervalX(this.m_env),r=0===t.height(),o=!1}if(this.m_pointOfInterest.x+this.m_tolerance<this.m_env.vmin)return-1;if(this.m_pointOfInterest.x-this.m_tolerance>this.m_env.vmax)return 1;if(r)return this.m_currentNode=s,this.m_bIntersectionDetected=!0,0;let a=0;if(o){(0,_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.$)(this.m_line1);const e=this.m_line1.getStartXY(),t=new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P;t.setSub(this.m_line1.getEndXY(),e),t.rightPerpendicularThis();const s=new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P;s.setSub(this.m_pointOfInterest,e),a=t.dotProduct(s),a/=t.length()}else{a=i.intersectionOfYMonotonicWithAxisX(this.m_pointOfInterest.y,this.m_pointOfInterest.x)-this.m_pointOfInterest.x}if(a<10*-this.m_tolerance)return-1;if(a>10*this.m_tolerance)return 1;if(i.isIntersectingPoint(this.m_pointOfInterest,this.m_tolerance)){Math.abs(a)<this.m_minDist&&(this.m_currentNode=s,this.m_minDist=a),this.m_bIntersectionDetected=!0}return a<0?-1:a>0?1:0}}class hn{constructor(e,t){this.m_lists=new sn(!1),this.m_hash=t,this.m_hashBuckets=new Int32Array(e),this.m_hashBuckets.fill(hn.st_nullNode()),this.m_bitFilter=new Int32Array(10*e+31>>5)}reserveElements(e){this.m_lists.reserveLists(Math.min(this.m_hashBuckets.length,e)),this.m_lists.reserveNodes(e)}addElement(e,t){void 0===t&&(t=this.m_hash.getHash(e));const s=t%(this.m_bitFilter.length<<5);this.m_bitFilter[s>>5]|=1<<(31&s);const n=t%this.m_hashBuckets.length;let r=this.m_hashBuckets[n];r===sn.st_nullNode()&&(r=this.m_lists.createList(),this.m_hashBuckets[n]=r);return this.m_lists.addElement(r,e)}deleteElement(e,s){void 0===s&&(s=this.m_hash.getHash(e));const n=s%this.m_hashBuckets.length,r=this.m_hashBuckets[n];r===sn.st_nullNode()&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.a)("");let i=this.m_lists.getFirst(r),o=sn.st_nullNode();for(;i!==sn.st_nullNode();){const t=this.m_lists.getData(i),s=this.m_lists.getNext(i);t===e?(this.m_lists.deleteElementDirect(r,o,i),this.m_lists.getFirst(r)===sn.st_nullNode()&&(this.m_lists.deleteList(r),this.m_hashBuckets[n]=sn.st_nullNode())):o=i,i=s}}getFirstInBucket(e){const t=e%(this.m_bitFilter.length<<5);if(!(this.m_bitFilter[t>>5]&1<<(31&t)))return sn.st_nullNode();const s=e%this.m_hashBuckets.length,n=this.m_hashBuckets[s];return n===sn.st_nullNode()?sn.st_nullNode():this.m_lists.getFirst(n)}getNextInBucket(e){return this.m_lists.getNext(e)}findNode(e){const t=this.m_hash.getHash(e);let s=this.getFirstInBucket(t);for(;s!==sn.st_nullNode();){const t=this.m_lists.getData(s);if(this.m_hash.equal(t,e))return s;s=this.m_lists.getNext(s)}return sn.st_nullNode()}deleteNode(e){const s=this.getElement(e),n=this.m_hash.getHash(s)%this.m_hashBuckets.length,r=this.m_hashBuckets[n];r===sn.st_nullNode()&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.a)(""),this.m_lists.deleteElementSearch(r,e),this.m_lists.getFirst(r)===sn.st_nullNode()&&(this.m_lists.deleteList(r),this.m_hashBuckets[n]=sn.st_nullNode())}getElement(e){return this.m_lists.getData(e)}static st_nullNode(){return sn.st_nullNode()}clear(){(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(0)}size(){return this.m_lists.getNodeCount()}dbgPrintBucketHistogram(){}}function mn(e,t,s,n,r){const i=new fn(r);return i.m_shape=e,i.m_sqrTolerance=t*t,i.m_cellSize=2*t,i.m_invCellSize=1/i.m_cellSize,i.m_geometry=s,i.m_bTrackChanges=n,i.m_bHasSegmentParentage=e.hasSegmentParentage(),i.clusterNonReciprocal()}function ln(e,t,s,n,r){const i=e-s,o=t-n;return i*i+o*o<=r}function gn(){return{pt:new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P,weight:0,rank:0,bMerged:!1}}function un(e,t,s,n,r,i){const o=gn(),a=s+r;let h=!1,m=e.x;e.x!==t.x&&(n===i&&(m=(e.x*s+t.x*r)/a),h=!0);let l=e.y;return e.y!==t.y&&(n===i&&(l=(e.y*s+t.y*r)/a),h=!0),n!==i?n>i?(o.rank=n,o.weight=s,o.pt=e):(o.rank=i,o.weight=r,o.pt=t):(o.pt.setCoords(m,l),o.weight=a,o.rank=n),o.bMerged=h,o}function cn(e,t,s,n,r,i,o,a,h){const m=e.equals(t);if(n>i)return o.assignCopy(e),h[0]=n,a[0]=s,m;if(i>n)return o=t,h[0]=i,a[0]=r,m;o.assignCopy(e);const l=un(e.getXY(),t.getXY(),s,n,r,i);return o.setXY(l.pt),a[0]=l.weight,h[0]=l.rank,m}function _n(e,t,s,n,r){const i=new fn(r);return i.m_shape=e,i.m_sqrTolerance=t*t,i.m_cellSize=2*t,i.m_invCellSize=1/i.m_cellSize,i.m_geometry=s,i.m_bTrackChanges=!1,i.needsClustering()}function dn(e,t){const s=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.aK)(e);return (0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.aF)(s,t)}class pn{constructor(e,t,s,n,r){this.m_workPt=new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P,this.m_shape=e,this.m_sqrTolerance=s,this.m_invCellSize=n,this.m_origin=t.clone(),this.m_hashValues=r}getHash(e){return this.m_shape.getUserIndex(e,this.m_hashValues)}calculateHashFromVertex(e){this.m_shape.queryXY(e,this.m_workPt);const t=this.m_workPt.x-this.m_origin.x,s=Math.trunc(t*this.m_invCellSize+.5),n=this.m_workPt.y-this.m_origin.y;return dn(s,Math.trunc(n*this.m_invCellSize+.5))}equal(e,t){return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(0),!1}}class fn{constructor(e){this.m_origin=_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P.getNAN(),this.m_sqrTolerance=0,this.m_cellSize=0,this.m_invCellSize=0,this.m_geometry=_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n,this.m_bucketArray=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.d)(4,Number.NaN),this.m_bucketHash=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.d)(4,Number.NaN),this.m_dbgCandidateCheckCount=0,this.m_nsr=new _OperatorDefinitions_js__WEBPACK_IMPORTED_MODULE_10__.NonSimpleResult,this.m_hashValues=-1,this.m_newClusters=-1,this.m_bTrackChanges=!1,this.m_bHasSegmentParentage=!1,this.m_shape=null,this.m_clusters=new sn,this.m_hashFunction=null,this.m_hashTable=null,this.m_progressCounter=0,this.m_progressTracker=e}progress_(){}collectClusterCandidates(e,t){const s=_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P.getNAN();this.m_shape.queryXY(e,s);const n=(s.x-this.m_origin.x)*this.m_invCellSize,r=(s.y-this.m_origin.y)*this.m_invCellSize,i=Math.trunc(n),o=Math.trunc(r);let a=0;for(let h=0;h<=1;h+=1)for(let e=0;e<=1;e+=1){const t=dn(i+h,o+e),s=this.m_hashTable.getFirstInBucket(t);s!==hn.st_nullNode()&&(this.m_bucketArray[a]=s,this.m_bucketHash[a]=t,a++)}for(let h=a-1;h>=1;h--){const e=this.m_bucketArray[h];for(let t=h-1;t>=0;t--)if(e===this.m_bucketArray[t]){this.m_bucketHash[t]=-1,a--,h!==a&&(this.m_bucketHash[h]=this.m_bucketHash[a],this.m_bucketArray[h]=this.m_bucketArray[a]);break}}for(let h=0;h<a;h++)this.collectNearestNeighbourCandidates(e,this.m_bucketHash[h],s,this.m_bucketArray[h],t)}collectNearestNeighbourCandidates(e,t,s,n,r){const i=_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P.getNAN();for(let o=n;o!==hn.st_nullNode();o=this.m_hashTable.getNextInBucket(o)){const n=this.m_hashTable.getElement(o);e===n||-1!==t&&this.m_shape.getUserIndex(n,this.m_hashValues)!==t||(this.m_shape.queryXY(n,i),ln(s.x,s.y,i.x,i.y,this.m_sqrTolerance)&&r.push(o))}}mergeClusters(e,t,s){let n=this.m_shape.getUserIndex(e,this.m_newClusters);const r=this.m_shape.getUserIndex(t,this.m_newClusters);-1===n&&(n=this.m_clusters.createList(),this.m_clusters.addElement(n,e),this.m_shape.setUserIndex(e,this.m_newClusters,n)),-1===r?this.m_clusters.addElement(n,t):this.m_clusters.concatenateLists(n,r),this.m_shape.setUserIndex(t,this.m_newClusters,_Envelope_js__WEBPACK_IMPORTED_MODULE_3__.S.impossibleIndex2());const i=this.mergeVertices(e,t);if(s){const t=this.m_hashFunction.calculateHashFromVertex(e);this.m_shape.setUserIndex(e,this.m_hashValues,t)}return i}mergeVertices(e,t){const s=_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P.getNAN();this.m_shape.queryXY(e,s);const n=_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P.getNAN();this.m_shape.queryXY(t,n);const r=this.m_shape.getRank(e),i=this.m_shape.getRank(t),o=this.m_shape.getWeight(e),a=this.m_shape.getWeight(t);let h,m,l,g,u=!1;if(r===i?(h=r,m=o+a,l=s.x,s.x!==n.x&&(l=(s.x*o+n.x*a)/m,u=!0),g=s.y,s.y!==n.y&&(g=(s.y*o+n.y*a)/m,u=!0)):(r>i?(l=s.x,g=s.y,m=o,h=r):(l=n.x,g=n.y,m=a,h=i),u=!s.equals(n)),u&&(this.m_shape.setXYMonotonic(e,l,g),this.m_bTrackChanges&&this.m_shape.setGeometryModifiedWithVertex(e,!0),this.m_bHasSegmentParentage)){const s=this.m_shape.getSegmentParentageBreakVertex(e)||this.m_shape.getSegmentParentageBreakVertex(t);this.m_shape.setSegmentParentageBreakVertex(e,s),this.m_shape.setSegmentParentageBreakVertex(t,s)}return this.m_shape.setWeight(e,m),this.m_shape.setRank(e,h),u}needsClustering(){const e={stack:[],error:void 0,hasError:!1};try{(0,_tslib_es6_js__WEBPACK_IMPORTED_MODULE_5__.b)(e,(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.h)((()=>{this.m_hashTable=null,this.m_hashFunction=null,this.m_shape.removeUserIndex(this.m_hashValues),this.m_shape.removeUserIndex(this.m_newClusters)})),!1);const t=this.m_shape.getSelectedCount(),s=this.m_shape.getEnvelope2D(this.m_progressTracker);this.m_origin.assign(s.getLowerLeft());const n=Math.max(s.height(),s.width())/((0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.i)()-1);this.m_cellSize<n&&(this.m_cellSize=n,this.m_invCellSize=1/this.m_cellSize),this.m_clusters.clear(),this.m_clusters.reserveLists(this.m_shape.getSelectedCount()/3+1),this.m_clusters.reserveNodes(this.m_shape.getSelectedCount()/3+1),this.m_hashValues=this.m_shape.createUserIndex(),this.m_newClusters=this.m_shape.createUserIndex(),this.m_hashFunction=new pn(this.m_shape,this.m_origin,this.m_sqrTolerance,this.m_invCellSize,this.m_hashValues),this.m_hashTable=new hn(4*t/3,this.m_hashFunction),this.m_hashTable.reserveElements(this.m_shape.getSelectedCount());let r=!1;for(let e=0;e<2;e++){const t=[],s=this.m_shape.queryVertexIteratorOnSelection(this.m_geometry);for(let n=s.next();n!==_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n;n=s.next()){if(this.progress_(),e>0&&this.m_shape.getUserIndex(n,this.m_newClusters)===_Envelope_js__WEBPACK_IMPORTED_MODULE_3__.S.impossibleIndex2())continue;let s;if(0===e?(s=this.m_hashFunction.calculateHashFromVertex(n),this.m_shape.setUserIndex(n,this.m_hashValues,s)):s=this.m_shape.getUserIndex(n,this.m_hashValues),this.collectClusterCandidates(n,t),0!==t.length){for(let e=0,s=t.length;e<s;e++){this.progress_();const s=t[e],i=this.m_hashTable.getElement(s);if(this.m_hashTable.deleteNode(s),!this.m_shape.isEqualXY(n,i))return this.m_nsr=new _OperatorDefinitions_js__WEBPACK_IMPORTED_MODULE_10__.NonSimpleResult(5,this.m_shape.getVertexIndex(n),this.m_shape.getVertexIndex(i)),r=!0,r;this.mergeClusters(n,i,!1)}t.length=0}0===e&&this.m_hashTable.addElement(n,s)}}return r}catch(t){e.error=t,e.hasError=!0}finally{(0,_tslib_es6_js__WEBPACK_IMPORTED_MODULE_5__.c)(e)}}clusterNonReciprocal(){const e=this.m_shape.getSelectedCount(),t=this.m_shape.getEnvelope2D(this.m_progressTracker);this.m_origin=t.getLowerLeft();const s=Math.max(t.height(),t.width())/((0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.i)()-1);this.m_cellSize<s&&(this.m_cellSize=s,this.m_invCellSize=1/this.m_cellSize),this.m_clusters.clear(),this.m_clusters.reserveLists(Math.trunc(this.m_shape.getSelectedCount()/3+1)),this.m_clusters.reserveNodes(Math.trunc(this.m_shape.getSelectedCount()/3+1)),this.m_hashValues=this.m_shape.createUserIndex(),this.m_newClusters=this.m_shape.createUserIndex(),this.m_hashFunction=new pn(this.m_shape,this.m_origin,this.m_sqrTolerance,this.m_invCellSize,this.m_hashValues),this.m_hashTable=new hn(Math.trunc(4*e/3),this.m_hashFunction),this.m_hashTable.reserveElements(this.m_shape.getSelectedCount());let n=!1;{const e=this.m_shape.queryVertexIteratorOnSelection(this.m_geometry);for(let t=e.next();t!==_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n;t=e.next()){this.progress_();const e=this.m_hashFunction.calculateHashFromVertex(t);this.m_shape.setUserIndex(t,this.m_hashValues,e),this.m_hashTable.addElement(t,e)}}{const e=[],t=this.m_shape.queryVertexIteratorOnSelection(this.m_geometry);for(let s=t.next();s!==_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n;s=t.next()){if(this.m_shape.getUserIndex(s,this.m_newClusters)===_Envelope_js__WEBPACK_IMPORTED_MODULE_3__.S.impossibleIndex2())continue;let t=this.m_shape.getUserIndex(s,this.m_hashValues);this.m_hashTable.deleteElement(s,t);let r=!1;for(;this.collectClusterCandidates(s,e),0!==e.length;){let t=0;for(let n=0,r=e.length;n<r;n++){this.progress_();const i=e[n],o=this.m_hashTable.getElement(i);this.m_hashTable.deleteNode(i);const a=n+1===r;t|=this.mergeClusters(s,o,a)?1:0}if(r||=0!==t,n||=0!==t,e.length=0,!t)break}r&&(t=this.m_shape.getUserIndex(s,this.m_hashValues)),this.m_hashTable.addElement(s,t)}e.length=0}return n&&this.applyClusterPositions_(),this.m_hashTable=null,this.m_hashFunction=null,this.m_shape.removeUserIndex(this.m_hashValues),this.m_shape.removeUserIndex(this.m_newClusters),n}applyClusterPositions_(){const e=_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P.getNAN();for(let t=this.m_clusters.getFirstList();t!==sn.st_nullNode();t=this.m_clusters.getNextList(t)){let s=this.m_clusters.getFirst(t);const n=this.m_clusters.getElement(s);this.m_shape.queryXY(n,e);const r=this.m_shape.getRank(n),i=this.m_shape.getWeight(n);for(s=this.m_clusters.getNext(s);s!==sn.st_nullNode();s=this.m_clusters.getNext(s)){const t=this.m_clusters.getElement(s);if(this.m_bTrackChanges?this.m_shape.isEqualXYPoint2D(t,e)||(this.m_shape.setXYMonotonicPoint2D(t,e),this.m_shape.setGeometryModifiedWithVertex(t,!0)):this.m_shape.setXYMonotonicPoint2D(t,e),this.m_bHasSegmentParentage){const e=this.m_shape.getSegmentParentageBreakVertex(n)||this.m_shape.getSegmentParentageBreakVertex(t);this.m_shape.setSegmentParentageBreakVertex(n,e),this.m_shape.setSegmentParentageBreakVertex(t,e)}this.m_shape.setWeight(t,i),this.m_shape.setRank(t,r)}}}}class xn{constructor(){this.m_inputParts=[],this.m_resultParts1=[],this.m_resultParts2=[],this.m_resultSegments=[],this.m_freeSegments=[],this.m_inputSegments=[],this.m_param1=[],this.m_param2=[],this.m_tolerance=0,this.m_toleranceZ=0,this.m_point=new _Envelope_js__WEBPACK_IMPORTED_MODULE_3__.P,this.m_pointWeight=1,this.m_maxDensifyLimit=0,this.m_pointRank=0,this.m_changed1=!1,this.m_changed2=!1,this.m_adaptiveDensify=!1}clear(){this.freeAllResultSegments(),this.m_inputSegments.length=0,this.m_inputParts.length=0,this.m_resultParts1.length=0,this.m_resultParts2.length=0,this.m_param1.length=0,this.m_param2.length=0,this.m_adaptiveDensify=!1,this.m_changed1=!1,this.m_changed2=!1}newIntersectionPart_(e,t,s,n,r,i,o,a,h,m){return Pn(e,t,s,n,r,i,o,a,h,m)}pushSegment(e,t,s,n,r,i,o,a,h,m){return this.m_inputParts.push(this.newIntersectionPart_(this.m_inputSegments.length,t,s,n,r,i,o,a,h,m)),this.m_inputSegments.push(e),this.m_inputParts.length-1}getResultSegmentCount(e){return this.m_adaptiveDensify?0===e?this.m_param1.length-1:this.m_param2.length-1:0===e?this.m_resultParts1.length:this.m_resultParts2.length}getResultPart_(e,t){return 0===e?this.m_resultParts1[t]:this.m_resultParts2[t]}getResultSegment(e,t){return this.m_resultSegments[this.getResultPart_(e,t).segmentIndex].get()}getSegmentChanged(e){return 0===e?this.m_changed1:this.m_changed2}getResultSegmentStartPointWeight(e,t){return this.getResultPart_(e,t).weightStart}getResultSegmentStartPointRank(e,t){return this.getResultPart_(e,t).rankStart}getResultSegmentSegmentParentage(e,t){return this.getResultPart_(e,t).segmentParentage}getResultSegmentStartPointIsBreak(e,t){return this.getResultPart_(e,t).u.bBreakStart}getResultSegmentEndPointWeight(e,t){return this.getResultPart_(e,t).weightEnd}getResultSegmentEndPointRank(e,t){return this.getResultPart_(e,t).rankEnd}getResultSegmentEndPointIsBreak(e,t){return this.getResultPart_(e,t).u.bBreakEnd}getResultSegmentInteriorRank(e,t){return this.getResultPart_(e,t).rankInterior}getResultSegmentInteriorWeight(e,t){return this.getResultPart_(e,t).weightInterior}getResultPoint(){return this.m_point}getResultPointWeight(){return this.m_pointWeight}getResultPointRank(){return this.m_pointRank}getResultPointChanged(){return this.m_changed2}intersectLines(e,t){2!==this.m_inputSegments.length&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.d)(""),this.m_changed1=!1,this.m_changed2=!1,this.m_tolerance=e;const s=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.a)(e*xn.c_smallToleranceFactor);let n=!1;const r=this.m_inputParts[0],o=this.m_inputParts[1],a=this.m_inputSegments[r.segmentIndex],h=this.m_inputSegments[o.segmentIndex];if(t||5&(0,_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.Q)(!0,a,h,e,!0)){const t=(0,_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.Z)(!0,a,h,null,this.m_param1,this.m_param2,e);0===t&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.d)("");const m=new Array(t);for(let e=0;e<t;++e)m[e]=_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P.getNAN();const l=new Float64Array(t),g=new Int32Array(t),u=new Array(t),c=new Array(t);for(let e=0;e<t;++e)u[e]=En(),c[e]=En();for(let e=0;e<t;e++){const t=this.m_param1[e],i=this.m_param2[e];let _,d=r.rankInterior,p=r.weightInterior;0===t?(d=r.rankStart,p=r.weightStart,_=r.u.bBreakStart):1===t?(d=r.rankEnd,p=r.weightEnd,_=r.u.bBreakEnd):(this.m_changed1=!0,_=!1);let f,x=o.rankInterior,y=o.weightInterior;0===i?(x=o.rankStart,y=o.weightStart,f=o.u.bBreakStart):1===i?(x=o.rankEnd,y=o.weightEnd,f=o.u.bBreakEnd):(this.m_changed2=!0,f=!1);const P=d,E=x;let S=1,C=0,I=_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P.getNAN();if(P===E){const n=a.getCoord2D(t),r=h.getCoord2D(i);S=p+y;C=d,(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.U)(n,r,y/S,I);const o=_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P.sqrDistance(I,n),m=_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P.sqrDistance(I,r);u[e].bBigMove=o>s,c[e].bBigMove=m>s,this.m_changed1||n.equals(I)||(this.m_changed1=!0),this.m_changed2||r.equals(I)||(this.m_changed2=!0)}else if(P>E){I=a.getCoord2D(t);const n=h.getCoord2D(i);S=p,C=d;const r=_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P.sqrDistance(I,n);u[e].bBigMove=!1,c[e].bBigMove=r>s,this.m_changed2||n.equals(I)||(this.m_changed2=!0)}else{I=h.getCoord2D(i),S=y,C=x;const n=a.getCoord2D(t),r=_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P.sqrDistance(I,n);u[e].bBigMove=r>s,c[e].bBigMove=!1,this.m_changed1||n.equals(I)||(this.m_changed1=!0)}m[e].assign(I),l[e]=S,g[e]=C,u[e].bIsBreak=_||f,c[e].bIsBreak=_||f,n||=u[e].bBigMove||c[e].bBigMove}const _=r.rankInterior,d=r.weightInterior;let p=0,f=-1;for(let s=0;s<=t;s++){const n=s<t?this.m_param1[s]:1;if(n!==p){const i=this.allocResultSegment(),o=this.m_resultSegments[i];let h,c,x,y;a.queryCut(p,n,o,!1),o.get().snapControlPoints(e*e);let P=!1,E=!1,S=!1,C=!1,I=!1,b=_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P.getNAN(),w=_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P.getNAN();-1!==f?(c=g[f],h=l[f],P=u[f].bBigMove,b.assign(m[f]),S=u[f].bIsBreak,I=!0):(h=r.weightStart,c=r.rankStart,b=o.get().getStartXY(),S=r.u.bBreakStart),s<t?(y=g[s],x=l[s],E=u[s].bBigMove,w.assign(m[s]),C=u[s].bIsBreak,I=!0):(x=r.weightEnd,y=r.rankEnd,w=o.get().getEndXY(),C=r.u.bBreakEnd),I&&o.get().setCoordsForIntersector(b,w,!0),this.m_resultParts1.push(this.newIntersectionPart_(i,h,c,x,y,d,_,S,C,r.segmentParentage));const v=this.m_resultParts1.at(-1);v.u.bBigMoveStart=P,v.u.bBigMoveEnd=E,p=n,f=s}else-1===f&&(f=s)}const x=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.d)(t,0);for(let e=0;e<t;e++)x[e]=e;t>2?(x.sort(((e,t)=>this.m_param2[e]<this.m_param2[t]?-1:this.m_param2[e]>this.m_param2[t]?1:0)),(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.v)(this.m_param2)):2===t&&this.m_param2[0]>this.m_param2[1]&&(this.m_param2[1]=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.c)(this.m_param2[0],this.m_param2[0]=this.m_param2[1]),x[1]=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.c)(x[0],x[0]=x[1]));const y=o.rankInterior,P=o.weightInterior;p=0,f=-1;for(let s=0;s<=t;s++){const n=s<t?this.m_param2[s]:1;if(n!==p){const r=this.allocResultSegment(),i=this.m_resultSegments[r];let a,u,_,d;h.queryCut(p,n,i,!1),i.get().snapControlPoints(e*e);let E=_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P.getNAN(),S=_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P.getNAN(),C=!1,I=!1,b=!1,w=!1,v=!1;if(-1!==f){const e=x[f];a=l[e],u=g[e],E.assign(m[e]),b=c[e].bBigMove,C=c[e].bIsBreak,v=!0}else a=o.weightStart,u=o.rankStart,E=i.get().getStartXY(),C=o.u.bBreakStart;if(s!==t){const e=x[s];_=l[e],d=g[e],S.assign(m[e]),w=c[e].bBigMove,I=c[e].bIsBreak,v=!0}else _=o.weightEnd,d=o.rankEnd,S=i.get().getEndXY(),I=o.u.bBreakEnd;v&&i.get().setCoordsForIntersector(E,S,!0),this.m_resultParts2.push(this.newIntersectionPart_(r,a,u,_,d,P,y,C,I,o.segmentParentage));const N=this.m_resultParts2.at(-1);N.u.bBigMoveStart=b,N.u.bBigMoveEnd=w,p=n,f=s}else-1===f&&(f=s)}return n?3:2}return 0}intersectLines3D(e,t,s,n){return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(0),1}intersect2D(e,t){const s=this.m_inputParts[0],r=this.m_inputParts[1],i=this.m_inputSegments[s.segmentIndex].getGeometryType(),o=this.m_inputSegments[r.segmentIndex].getGeometryType();if(i!==_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumLine||o!==_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumLine){return new bn(this).intersectCurves(e,t)}return this.intersectLines(e,t)}intersect2DEx(e,t,s,n,r){this.m_point.assignCopy(t),1!==this.m_inputSegments.length&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.d)(""),this.m_tolerance=e,this.m_changed1=!1,this.m_changed2=!1;const o=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.a)(e*xn.c_smallToleranceFactor);let a=!1;const h=this.m_inputParts[0],m=this.m_inputSegments[h.segmentIndex];if(r||m.isIntersectingPoint(t.getXY(),e,!0)){this.m_param1=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.d)(16,Number.NaN);const r=m.getClosestCoordinate(t.getXY(),!1);this.m_param1[0]=r;let i=h.rankInterior,l=h.weightInterior;0===r?(i=h.rankStart,l=h.weightStart):1===r?(i=h.rankEnd,l=h.weightEnd):this.m_changed1=!0;let g=i;const u=s,c=n;g===u&&m.isCurve()&&(g=u+1);let _=1,d=0;const p=new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P;if(g===u){const e=m.getCoord2D(r),s=t.getXY();_=l+c,d=i;(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.U)(e,s,c/_,p),this.m_changed1||e.equals(p)||(this.m_changed1=!0),this.m_changed2||s.equals(p)||(this.m_changed2=!0);a=_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P.sqrDistance(p,e)>o}else if(g>u)p.assign(m.getCoord2D(r)),_=l,d=i,this.m_changed2||p.equals(t.getXY())||(this.m_changed2=!0);else{p.assign(m.getCoord2D(r)),_=c,d=u,this.m_changed1||p.equals(t.getXY())||(this.m_changed1=!0);a=_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P.sqrDistance(p,t.getXY())>o}let f=0,x=-1;const y=1;for(let t=0;t<=y;t++){const s=t<y?this.m_param1[0]:1;if(s!==f){const n=this.allocResultSegment(),r=this.m_resultSegments[n];m.queryCut(f,s,r),r.get().snapControlPoints(e*e);let i=h.weightStart,o=h.weightEnd,a=h.rankStart,l=h.rankEnd;const g=h.rankInterior,u=h.weightInterior;let c=h.u.bBreakStart,P=h.u.bBreakEnd;-1!==x&&(i=_,a=d,c=!0,r.get().setCoordsForIntersector(p,r.get().getEndXY(),!0)),t!==y&&(o=_,l=d,P=!0,r.get().setCoordsForIntersector(r.get().getStartXY(),p,!0)),f=s,this.m_resultParts1.push(this.newIntersectionPart_(n,i,a,o,l,u,g,c,P,h.segmentParentage))}x=t}return this.m_point.setXY(p),this.m_pointWeight=_,this.m_pointRank=d,a?3:2}return 0}intersect3D(e,t,s,n){return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(0),1}intersect3DEx(e,t,s,n,r,i,o){return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(0),1}getTolerance(){return this.m_tolerance}freeAllResultSegments(){this.m_resultSegments.length=0,this.m_freeSegments.length=0}freeResultSegment(e){this.m_freeSegments.push(e)}allocResultSegment(){if(this.m_freeSegments.length){return this.m_freeSegments.pop()}const e=new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.S,t=this.m_resultSegments.length;return this.m_resultSegments.push(e),t}allocResultSegmentFromBuffer(e){if(this.m_freeSegments.length){return this.m_freeSegments.pop()}const t=new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.S({copy:e}),s=this.m_resultSegments.length;return this.m_resultSegments.push(t),s}allocResultSegmentFromSegment(e){if(this.m_freeSegments.length){return this.m_freeSegments.pop()}const t=new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.S({segment:e}),s=this.m_resultSegments.length;return this.m_resultSegments.push(t),s}}function yn(e,t){return{bBigMoveStart:!1,bBigMoveEnd:!1,bBreakStart:e,bBreakEnd:t}}function Pn(e,t,s,n,r,i,o,a,h,m){return{segmentIndex:e,weightStart:t,rankStart:s,weightEnd:n,rankEnd:r,weightInterior:i,rankInterior:o,segmentParentage:m,u:yn(a,h)}}function En(){return{bBigMove:!1,bIsBreak:!1}}xn.maxWeight=.1*Number.MAX_VALUE,xn.c_smallToleranceFactor=.01,xn.c_maxGeometryTypeToRankDelta=8;let Sn=class{constructor(){this.start=null,this.end=null,this.equalEdge=null,this.segmentIndex=-1,this.segmentParentage=-1,this.weight=0,this.rank=0}hasSegment(){return this.segmentIndex>=0}transferAttributes(e,t,s){if(1===t.getDescription().getAttributeCount())return;const n=e.parent.m_resultSegments[this.segmentIndex].get().getStartXY(),r=e.parent.m_resultSegments[this.segmentIndex].get().getEndXY(),i=new _Envelope_js__WEBPACK_IMPORTED_MODULE_3__.P;t.queryStart(i),s?(i.setXY(n),e.parent.m_resultSegments[this.segmentIndex].get().setStart(i)):(i.setXY(r),e.parent.m_resultSegments[this.segmentIndex].get().setEnd(i)),t.queryEnd(i),s?(i.setXY(r),e.parent.m_resultSegments[this.segmentIndex].get().setEnd(i)):(i.setXY(n),e.parent.m_resultSegments[this.segmentIndex].get().setStart(i))}copyFromWhenOverlap(e,t,s){this.equalEdge=t,t.equalEdge=this,this.segmentIndex=e.parent.allocResultSegmentFromBuffer(e.parent.m_resultSegments[t.segmentIndex]),this.segmentParentage=t.segmentParentage,this.weight=t.weight,this.rank=t.rank,s?(this.start.copyFrom(t.start),this.end.copyFrom(t.end)):(this.start.copyFrom(t.end),this.end.copyFrom(t.start),e.parent.m_resultSegments[this.segmentIndex].get().reverse())}getEnd(){return this.end}getNextInChain(){return this.end.nextInChain}getPrevInChain(){return this.start.prevInChain}};class Cn{constructor(){this.hash=0,this.pt=new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P,this.prevInChain=null,this.nextInChain=null,this.prevInHash=null,this.nextInHash=null,this.prevEqual=null,this.nextEqual=null,this.weight=0,this.rank=0,this.bBigMove=!1,this.bIsBreak=!1}copyFrom(e){this.pt.assign(e.pt),this.weight=e.weight,this.rank=e.rank,this.bBigMove=e.bBigMove,this.bIsBreak=e.bIsBreak}nextNode(){return this.nextInChain?this.nextInChain.end:null}prevNode(){return this.prevInChain?this.prevInChain.start:null}equalListHead(){let e=this;for(;null!==e.prevEqual;e=e.prevEqual);return e}}function In(e,t,s,n){return{edge1:e,edge2:t,recursion:s,bIsIntersecting:n}}class bn{constructor(e){this.m_pairs=[],this.m_chainOrigin1=null,this.m_chainOrigin2=null,this.m_newNodes=[],this.m_hashTableOfEquals=[],this.m_hashTableOfEqualsSize=0,this.m_origin=new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P,this.m_cell=new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P,this.parent=e}addSegment(e,t,s,n,r,i,o,h,m,l,g){const u=this.newNode(this.parent.m_resultSegments[e].get().getStartXY(),s,n,m),c=this.newNode(this.parent.m_resultSegments[e].get().getEndXY(),r,i,l);this.newEdge(u,c,e,o,h,g),null===this.m_chainOrigin1?this.m_chainOrigin1=u:null===this.m_chainOrigin2?this.m_chainOrigin2=u:(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(0)}intersectCurvesHelper(e,t,s,r,o){const h=this.getSegment(e).get(),m=this.getSegment(t).get();if(h.isDegenerate(0)||m.isDegenerate(0))return 0;const l=this.tryOverlapIntersectCurves(e,t,s,r);if(0!==l)return l;const g=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.a)(.01*s);let u=!1,c=this.processSharpCorners(h,m,s,o>4);const _=c>0;if(!_){if(!(r||5&(0,_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.Y)(!0,!1,h,m,s,!0)))return 0;c=(0,_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.Z)(!0,h,m,null,this.parent.m_param1,this.parent.m_param2,s)}0===c&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.d)("");const d=h.getGeometryType(),p=m.getGeometryType(),f=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P,c),x=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P,c),y=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.d)(c,Number.NaN),P=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.d)(c,Number.NaN),E=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.d)(c,Number.NaN),S=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.d)(c,Number.NaN),C=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.k)(En,c),I=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.k)(En,c);let b=!1,w=!1;for(let n=0;n<c;n++){const r=this.parent.m_param1[n],i=this.parent.m_param2[n];let o=e.rank,a=e.weight,l=!0,c=!1;0===r?(o=e.start.rank,a=e.start.weight,c=e.start.bIsBreak):1===r?(o=e.end.rank,a=e.end.weight,c=e.end.bIsBreak):(b=!0,l=!1);let v=t.rank,N=t.weight,T=!1,G=!0;0===i?(v=t.start.rank,N=t.start.weight,T=t.start.bIsBreak):1===i?(v=t.end.rank,N=t.end.weight,T=t.end.bIsBreak):(w=!0,G=!1);let D=o,V=v;if(D===V&&(D*=xn.c_maxGeometryTypeToRankDelta,V*=xn.c_maxGeometryTypeToRankDelta,D+=wn(d,h,!1),V+=wn(p,m,!1)),l&&G&&V===D){const e=h.getCoord2D(r),t=m.getCoord2D(i);e.equals(t)&&(V=D-1)}let F=1,H=0,k=1,A=0;const M=new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P,U=new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P,q=h.getCoord2D(r),B=m.getCoord2D(i);if(_&&_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P.distance(q,B)>s)M.setCoordsPoint2D(q),U.setCoordsPoint2D(B),F=a,k=N,H=o,A=v,C[n].bBigMove=!1,I[n].bBigMove=!1,c=!0,T=!0;else if(D===V){k=F=a+N,A=H=o;(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.U)(q,B,N/F,M),U.setCoordsPoint2D(M);const e=_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P.sqrDistance(M,q),t=_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P.sqrDistance(M,B);C[n].bBigMove=e>g,I[n].bBigMove=t>g,b||q.equals(M)||(b=!0),w||B.equals(U)||(w=!0)}else if(D>V){M.setCoordsPoint2D(q),U.setCoordsPoint2D(M),k=F=a,A=H=o;const e=_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P.sqrDistance(M,B);C[n].bBigMove=!1,I[n].bBigMove=e>g,w||B.equals(U)||(w=!0)}else{U.setCoordsPoint2D(B),M.setCoordsPoint2D(U),k=F=N,A=H=v;const e=_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P.sqrDistance(M,q);C[n].bBigMove=e>g,I[n].bBigMove=!1,b||q.equals(M)||(b=!0)}f[n].assign(M),x[n].assign(U),y[n]=F,P[n]=k,E[n]=H,S[n]=A,C[n].bIsBreak=c||T,I[n].bIsBreak=c||T,u||=C[n].bBigMove||I[n].bBigMove,n>0&&(r!==this.parent.m_param1[n-1]&&i!==this.parent.m_param2[n-1]||(E[n]<=E[n-1]?(f[n].assign(x[n-1]),y[n]=P[n-1],E[n]=S[n-1],x[n].assign(x[n-1]),P[n]=P[n-1],S[n]=S[n-1],C[n].bBigMove||=C[n-1].bBigMove,I[n].bBigMove||=I[n-1].bBigMove,C[n].bIsBreak||=C[n-1].bIsBreak,I[n].bIsBreak||=I[n-1].bIsBreak):(f[n-1].assign(f[n]),y[n-1]=y[n],E[n-1]=E[n],x[n-1].assign(x[n]),P[n-1]=P[n],S[n-1]=S[n],C[n-1].bBigMove||=C[n].bBigMove,I[n-1].bBigMove||=I[n].bBigMove,C[n-1].bIsBreak||=C[n].bIsBreak,I[n-1].bIsBreak||=I[n].bIsBreak)))}if(!(b||w||2!==c||d===_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumLine&&p===_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumLine)){if(this.processDoublyConnectedEdges(e,t,o+1,s))return this.parent.m_changed1=!0,this.parent.m_changed2=!0,2;(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(0)}this.parent.m_changed1||=b,this.parent.m_changed2||=w;let v=e,N=e.end.weight,T=e.end.rank,G=e.end.bBigMove,D=e.end.bIsBreak,V=0,F=-1;for(let n=0;n<=c;n++){const t=n<c?this.parent.m_param1[n]:1;if(t!==V){const r=this.parent.allocResultSegment(),i=this.parent.m_resultSegments[r];let o,a,m,l;h.queryCut(V,t,i,!1),i.get().snapControlPoints(s*s);let g=!1,u=!1,_=!1,d=!1;const p=new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P,x=new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P;-1!==F?(a=E[F],o=y[F],_=C[F].bBigMove,g=C[F].bIsBreak,p.assign(f[F])):(o=e.start.weight,a=e.start.rank,_=e.start.bBigMove,g=e.start.bIsBreak,p.assign(i.get().getStartXY())),n<c?(l=E[n],m=y[n],d=C[n].bBigMove,u=C[n].bIsBreak,x.assign(f[n])):(m=N,l=T,d=G,u=D,x.assign(i.get().getEndXY()));let P=v;t<1&&(this.splitEdgeInPlace(v),P=v.getNextInChain()),this.updateSegmentOnly(v,r),0===v.start.hash||v.start.pt.equals(p)||(this.m_newNodes.push(v.start),this.removeNodeFromHash(v.start),v.start.hash=0),0===v.end.hash||v.end.pt.equals(x)||(this.m_newNodes.push(v.end),this.removeNodeFromHash(v.end),v.end.hash=0),v.start.pt.assign(p),v.end.pt.assign(x),v.start.bBigMove||=_,v.end.bBigMove||=d,v.start.bIsBreak||=g,v.end.bIsBreak||=u,v.start.weight=o,v.start.rank=a,v.end.weight=m,v.end.rank=l,v=P,V=t,F=n}else-1===F&&(F=n)}const H=v.getNextInChain(),k=[];k.length=c;for(let n=0;n<c;n++)k[n]=n;c>2?(k.sort(((e,t)=>(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.a8)(this.parent.m_param2[e],this.parent.m_param2[t]))),this.parent.m_param2.sort(_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.a8)):2===c&&this.parent.m_param2[0]>this.parent.m_param2[1]&&(this.parent.m_param2[1]=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.c)(this.parent.m_param2[0],this.parent.m_param2[0]=this.parent.m_param2[1]),k[1]=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.c)(k[0],k[0]=k[1])),v=t,N=t.end.weight,T=t.end.rank,G=t.end.bBigMove,D=t.end.bIsBreak,V=0,F=-1;for(let n=0;n<=c;n++){const e=n<c?this.parent.m_param2[n]:1;if(e!==V){const r=this.parent.allocResultSegment(),i=this.parent.m_resultSegments[r];let o,a,h,l;m.queryCut(V,e,i,!1),i.get().snapControlPoints(s*s);const g=new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P,u=new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P;let _=!1,d=!1,p=!1,f=!1;if(-1!==F){const e=k[F];o=P[e],a=S[e],g.assign(x[e]),p=I[e].bBigMove,_=I[e].bIsBreak}else o=t.start.weight,a=t.start.rank,p=t.start.bBigMove,_=t.start.bIsBreak,g.assign(i.get().getStartXY());if(n!==c){const e=k[n];h=P[e],l=S[e],u.assign(x[e]),f=I[e].bBigMove,d=I[e].bIsBreak}else h=N,l=T,f=G,d=D,u.assign(i.get().getEndXY());let y=v;e<1&&(this.splitEdgeInPlace(v),y=v.getNextInChain()),this.updateSegmentOnly(v,r),0===v.start.hash||v.start.pt.equals(g)||(this.m_newNodes.push(v.start),this.removeNodeFromHash(v.start),v.start.hash=0),0===v.end.hash||v.end.pt.equals(u)||(this.m_newNodes.push(v.end),this.removeNodeFromHash(v.end),v.end.hash=0),v.start.pt.assign(g),v.end.pt.assign(u),v.start.bBigMove||=p,v.end.bBigMove||=f,v.start.bIsBreak||=_,v.end.bIsBreak||=d,v.start.weight=o,v.start.rank=a,v.end.weight=h,v.end.rank=l,v=y,V=e,F=n}else-1===F&&(F=n)}const A=v.getNextInChain();return this.postProcessResultPartsForCurves(e,H,t,A,o+1),u?3:2}intersectCurves(t,s){2!==this.parent.m_inputSegments.length&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.d)(""),this.parent.m_changed1=!1,this.parent.m_changed2=!1,this.parent.m_tolerance=t,this.m_hashTableOfEqualsSize=0,this.m_hashTableOfEquals=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.av)(16);const n=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D.constructEmpty();for(let i=0;i<2;i++){const t=this.parent.allocResultSegmentFromSegment(this.parent.m_inputSegments[this.parent.m_inputParts[i].segmentIndex]),s=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D.constructEmpty();this.parent.m_inputSegments[this.parent.m_inputParts[i].segmentIndex].queryLooseEnvelope(s),n.mergeEnvelope2D(s);const r=this.parent.m_inputParts[i];this.addSegment(t,0,r.weightStart,r.rankStart,r.weightEnd,r.rankEnd,r.weightInterior,r.rankInterior,r.u.bBreakStart,r.u.bBreakEnd,r.segmentParentage)}n.inflateCoords(100*t,100*t),this.m_origin.assign(n.getLowerLeft()),this.m_cell.setCoords(2*t,2*t),this.m_pairs.push(In(this.m_chainOrigin1.nextInChain,this.m_chainOrigin2.nextInChain,0,s));let r=0,o=!0;for(;this.m_pairs.length;){const e=this.m_pairs.at(-1);this.m_pairs.pop(),(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(e.recursion>=0),(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(e.recursion<=256),this.clusterNodes(t);const s=this.intersectCurvesHelper(e.edge1,e.edge2,t,e.bIsIntersecting,e.recursion);o&&(o=!1,r=s)}for(let e=0;e<2;e++){const t=0===e?this.parent.m_resultParts1:this.parent.m_resultParts2;for(let s=(0===e?this.m_chainOrigin1:this.m_chainOrigin2).nextInChain;null!=s;s=s.getNextInChain())t.push(this.parent.newIntersectionPart_(s.segmentIndex,s.start.weight,s.start.rank,s.end.weight,s.end.rank,s.weight,s.rank,s.start.bIsBreak,s.end.bIsBreak,s.segmentParentage)),t.at(-1).u.bBigMoveStart=s.start.bBigMove,t.at(-1).u.bBigMoveEnd=s.end.bBigMove}return r}tryOverlapIntersectCurves(e,t,s,n){const r=this.parent.m_resultSegments[e.segmentIndex].get(),i=this.parent.m_resultSegments[t.segmentIndex].get(),o=r.getStartXY().equals(i.getStartXY())&&r.getEndXY().equals(i.getEndXY()),h=r.getStartXY().equals(i.getEndXY())&&r.getEndXY().equals(i.getStartXY());if(!o&&!h)return 0;const m=(0,_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.a1)(r,i,!0);if(0!==m&&(0,_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.a2)(r,i)&&e.segmentParentage===t.segmentParentage){let e=!1;if(m>0)e=r.equals(i);else{(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(-1===m);const t=new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.S({segment:i});t.get().reverse(),e=r.equals(t.get())}if(e)return 1}const l=s*xn.c_smallToleranceFactor;let g=!1;if(0===m){const e=[.5,.25,.75,.125,.375,.625,.875,.5625,.3125];for(let t=0,n=e.length;t<n;++t){const n=e[t],o=new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P;r.queryCoord2D(n,o);const a=i.getClosestCoordinate(o,!1),h=new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P;i.queryCoord2D(a,h);const m=_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P.distance(o,h);if(m>s)return 0;g||=m>l}for(let t=0,n=e.length;t<n;++t){const n=e[t],o=new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P;i.queryCoord2D(n,o);const a=r.getClosestCoordinate(o,!1),h=new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P;r.queryCoord2D(a,h);const m=_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P.distance(o,h);if(m>s)return 0;g||=m>l}}let u=e.rank,c=t.rank;return u===c&&(u*=xn.c_maxGeometryTypeToRankDelta,c*=xn.c_maxGeometryTypeToRankDelta,u+=wn(r.getGeometryType(),r,!0),c+=wn(i.getGeometryType(),i,!0)),u>c?(t.copyFromWhenOverlap(this,e,o),t.transferAttributes(this,r,o)):c>u?(e.copyFromWhenOverlap(this,t,o),e.transferAttributes(this,i,o)):e.segmentParentage<=t.segmentParentage?(e.weight=e.weight+t.weight,t.copyFromWhenOverlap(this,e,o),t.transferAttributes(this,r,o)):(t.weight=e.weight+t.weight,e.copyFromWhenOverlap(this,t,o),e.transferAttributes(this,i,o)),g?3:2}postProcessResultPartsForCurves(e,t,s,n,r){r===(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.aC)()&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.d)("curve_helper");for(let i=e;i!==t;i=i.getNextInChain())this.updateSegmentToNodes(i);for(let i=s;i!==n;i=i.getNextInChain())this.updateSegmentToNodes(i);for(let o=e;o!==t;o=o.getNextInChain()){const e=o.end.pt.sub(o.start.pt);for(let t=s;t!==n;t=t.getNextInChain()){let s=0;if(o.start.pt.equals(t.start.pt)&&o.end.pt.equals(t.end.pt)?s=1:o.start.pt.equals(t.end.pt)&&o.end.pt.equals(t.start.pt)&&(s=-1),!s){let s=o.start.pt.equals(t.start.pt)?1:0;if(s||(s=o.end.pt.equals(t.end.pt)?2:0,s||(s=o.end.pt.equals(t.start.pt)?3:0,s||(s=o.start.pt.equals(t.end.pt)?4:0))),s){const n=t.end.pt.sub(t.start.pt),a=e.dotProduct(n);let h;switch(s){case 1:case 2:h=a>0;break;case 3:case 4:h=a<0;break;default:(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.d)("post_process_result_parts_for_curves_")}h&&this.m_pairs.push(In(o,t,r,!1))}continue}const n=this.parent.m_resultSegments[o.segmentIndex],a=this.parent.m_resultSegments[t.segmentIndex],h=[.5,.25,.75];for(let e=0,t=h.length;e<t;++e){const t=h[e],r=new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P;n.get().queryCoord2D(t,r);const i=a.get().getClosestCoordinate(r,!1),o=new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P;a.get().queryCoord2D(i,o);if(_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P.distance(r,o)>this.parent.m_tolerance){s=0;break}}if(!s){this.m_pairs.push(In(o,t,r,!1));continue}for(let e=0,t=h.length;e<t;++e){const t=h[e],r=new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P;a.get().queryCoord2D(t,r);const i=n.get().getClosestCoordinate(r,!1),o=new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P;n.get().queryCoord2D(i,o);if(_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P.distance(r,o)>this.parent.m_tolerance){s=0;break}}if(!s){this.m_pairs.push(In(o,t,r,!1));continue}o.equalEdge=t,t.equalEdge=o;let m=o.rank,l=t.rank;m===l&&(m*=xn.c_maxGeometryTypeToRankDelta,l*=xn.c_maxGeometryTypeToRankDelta,m+=wn(n.get().getGeometryType(),n.get(),!0),l+=wn(a.get().getGeometryType(),a.get(),!0)),m>l||m===l&&o.segmentParentage<=t.segmentParentage?(n.copyTo(a,!1),t.segmentParentage=o.segmentParentage,-1===s&&a.get().reverse()):(a.copyTo(n,!1),o.segmentParentage=t.segmentParentage,-1===s&&n.get().reverse());break}}this.updateAttachedEdgesAfterNodeChange(e.start),t&&this.updateAttachedEdgesAfterNodeChange(t.start),this.updateAttachedEdgesAfterNodeChange(s.start),n&&this.updateAttachedEdgesAfterNodeChange(n.start)}processDoublyConnectedEdges(e,t,s,n){s===(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.aC)()&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.d)("curve_helper");const r=this.getSegment(e).get(),o=this.getSegment(t).get(),a=r.getStartXY().equals(o.getStartXY())&&r.getEndXY().equals(o.getEndXY())?1:r.getEndXY().equals(o.getStartXY())&&r.getStartXY().equals(o.getEndXY())?-1:0;if(0!==a){const i=new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.S;r.queryCut(0,.5,i),i.get().snapControlPoints(n*n);const h=new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.S;r.queryCut(.5,1,h),h.get().snapControlPoints(n*n),this.splitEdgeInPlace(e),e.end.pt=i.get().getEndXY(),e.segmentIndex=this.parent.allocResultSegmentFromBuffer(i),e.getNextInChain().segmentIndex=this.parent.allocResultSegmentFromBuffer(h);let m=o.getClosestCoordinate(e.end.pt,!1);return Math.abs(m-.5)>.2&&(m=.5),o.queryCut(0,m,i),i.get().snapControlPoints(n*n),o.queryCut(m,1,h),h.get().snapControlPoints(n*n),this.splitEdgeInPlace(t),t.end.pt=i.get().getEndXY(),t.segmentIndex=this.parent.allocResultSegmentFromBuffer(i),t.getNextInChain().segmentIndex=this.parent.allocResultSegmentFromBuffer(h),a>0?(this.m_pairs.push(In(e,t,s,!1)),this.m_pairs.push(In(e.getNextInChain(),t.getNextInChain(),s,!1))):(this.m_pairs.push(In(e,t.getNextInChain(),s,!1)),this.m_pairs.push(In(e.getNextInChain(),t,s,!1))),!0}return!1}newNode(e,t,s,n){const r=new Cn;return this.m_newNodes.push(r),r.pt=e,r.rank=s,r.weight=t,r.bIsBreak=n,r}newEdge(e,t,s,n,r,i){const o=new Sn;return o.start=e,o.end=t,e.nextInChain=o,t.prevInChain=o,o.segmentIndex=s,o.segmentParentage=i,o.rank=r,o.weight=n,o}splitEdgeInPlace(e){e.segmentIndex=-1;const t=new Sn,s=new Cn;this.m_newNodes.push(s),s.pt.setNAN(),s.nextInChain=t,s.prevInChain=e,s.prevInHash=null,s.nextInHash=null,s.prevEqual=null,s.nextEqual=null,s.weight=e.weight,s.rank=e.rank,s.bIsBreak=!1,s.bBigMove=!1,t.start=s,t.segmentIndex=-1,t.end=e.end,t.end.prevInChain=t,t.rank=e.rank,t.weight=e.weight,t.segmentParentage=e.segmentParentage,e.end=s,e.equalEdge&&(e.equalEdge.equalEdge=null),e.equalEdge=null}updateSegmentOnly(e,t){e.segmentIndex=t}updateAttachedEdgesAfterNodeChange(e){for(let t=e.equalListHead();null!==t;t=t.nextEqual)this.updateAttachedEdgesAfterNodeChangeImpl(t)}updateAttachedEdgesAfterNodeChangeImpl(e){const t=e.prevInChain;if(t&&t.hasSegment()){const s=this.getSegment(t).get();e.pt.equals(s.getEndXY())||(s.setCoordsForIntersector(t.start.pt,t.end.pt,!1),s.ensureXYMonotone())}const s=e.nextInChain;if(s&&s.hasSegment()){const t=this.getSegment(s).get();e.pt.equals(t.getStartXY())||(t.setCoordsForIntersector(s.start.pt,s.end.pt,!1),t.ensureXYMonotone())}}updateSegmentToNodes(e){const t=this.getSegment(e).get();e.start.pt.equals(t.getStartXY())&&e.end.pt.equals(t.getEndXY())||(t.setCoordsForIntersector(e.start.pt,e.end.pt,!1),t.ensureXYMonotone()),this.updateAttachedEdgesAfterNodeChange(e.start),this.updateAttachedEdgesAfterNodeChange(e.end)}getSegment(e){return this.parent.m_resultSegments[e.segmentIndex]}clusterNodes(e){let t=!1;const s=[],n=[],r=[];for(let i=0,o=this.m_newNodes.length;i<o;i++){const e=this.m_newNodes[i];if(null===e)continue;let t=e;for(let s=i+1;s<o;s++){const n=this.m_newNodes[s];null!==n&&(e.pt.equals(n.pt)&&(t.nextInHash=n,n.prevInHash=t,t=n,this.m_newNodes[s]=null))}}for(let i=0,o=this.m_newNodes.length;i<o;i++){const o=this.m_newNodes[i];if(null==o)continue;for(o.hash=this.calculateHash(o.pt);;){const i=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.av)(4),a=this.hashTableBinsToCheck(o,i);for(let t=0;t<a;t++)if(null!==i[t])for(let a=i[t];null!==a;){const t=a.nextInHash;_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P.distance(o.pt,a.pt)<=e&&(s.push(a),this.removeNodeFromHash(a),a.hash=0,r.push(a),n.push(a)),a=t}let h=!1;for(const e of s)if(!o.pt.equals(e.pt)){const s=un(o.pt,e.pt,o.weight,o.rank,e.weight,e.rank);o.pt.assign(s.pt),o.weight=s.weight,o.rank=s.rank,h=!0,t=!0}if(s.length=0,!h)break;o.hash=this.calculateHash(o.pt)}r.push(o),n.push(o);for(let e=o.nextInHash;null!==e;){e.prevInHash=null;const t=e.nextInHash;e.nextInHash=null,r.push(e),n.push(e),e=t}const a=o.hash;let h=null,m=null;for(const e of n)o!==e&&(e.hash=a,e.pt.assign(o.pt),e.rank=o.rank,e.weight=o.weight),e.prevInHash=h,h&&(h.nextInHash=e),e.prevEqual=m,e.nextEqual=null,m&&(m.nextEqual=e),m=e,h=e;const l=a%this.m_hashTableOfEquals.length;h.nextInHash=this.m_hashTableOfEquals[l],null!==this.m_hashTableOfEquals[l]&&(this.m_hashTableOfEquals[l].prevInHash=h),this.m_hashTableOfEquals[l]=n[0],this.m_hashTableOfEqualsSize+=n.length,n.length=0,this.rehashIfNeeded()}if(this.m_newNodes.length=0,t)for(const i of r)this.updateAttachedEdgesAfterNodeChange(i)}rehashIfNeeded(){if(2*this.m_hashTableOfEqualsSize>this.m_hashTableOfEquals.length){const e=this.m_hashTableOfEquals;this.m_hashTableOfEquals=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.av)(2*e.length),this.m_hashTableOfEqualsSize=0;for(const t of e){let e=t;for(;e;){const t=e.nextInHash;e.nextInHash=null,e.prevInHash=null,this.addNodeToHashImpl(e),e=t}}}}addNodeToHashImpl(e){const t=e.hash%this.m_hashTableOfEquals.length,s=this.m_hashTableOfEquals[t];e.nextInHash=s,null!==s&&(s.prevInHash=e),this.m_hashTableOfEquals[t]=e,this.m_hashTableOfEqualsSize++}removeNodeFromHash(e){const t=e.hash%this.m_hashTableOfEquals.length,s=e.prevInHash,n=e.nextInHash;s?s.nextInHash=n:this.m_hashTableOfEquals[t]=n,n&&(n.prevInHash=s),this.m_hashTableOfEqualsSize--,e.prevInHash=null,e.nextInHash=null}hashTableBinsToCheck(e,t){const s=(e.pt.x-this.m_origin.x)/this.m_cell.x,n=(e.pt.y-this.m_origin.y)/this.m_cell.y,r=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.i)()-1,i=Math.round((0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.s)(s,-2147483646,r)),o=Math.round((0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.s)(n,-2147483646,r));let a=i|o<<32;a=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.au)(a),t[0]=this.m_hashTableOfEquals[a%this.m_hashTableOfEquals.length];let h=i+1|o<<32;h=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.au)(h);let m=1;t[1]=this.m_hashTableOfEquals[h%this.m_hashTableOfEquals.length],t[1]!==t[0]&&(m=2);let l=i+1|o+1<<32;l=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.au)(l),t[m]=this.m_hashTableOfEquals[l%this.m_hashTableOfEquals.length];for(let u=0;u<m;u++)if(t[m]===t[u]){m--;break}m++;let g=i|o+1<<32;g=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.au)(g),t[m]=this.m_hashTableOfEquals[g%this.m_hashTableOfEquals.length];for(let u=0;u<m;u++)if(t[m]===t[u]){m--;break}return m++,m}calculateHash(e){const t=(e.x-this.m_origin.x)/this.m_cell.x,s=(e.y-this.m_origin.y)/this.m_cell.y,n=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.i)()-1;let r=Math.round((0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.s)(t,-2147483646,n))|Math.round((0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.s)(s,-2147483646,n))<<32;return r=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.au)(r),0===r&&(r=1),r}processSharpCorners(e,t,s,n){if(this.parent.m_param1.length=0,this.parent.m_param2.length=0,e.getStartXY().equals(t.getStartXY())){const r=[0,0],i=[0,0],o=(0,_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.a3)(e,t,0,0,s,2,r,i,n);if(o){this.parent.m_param1.push(0),this.parent.m_param2.push(0);for(let e=0;e<o;e++)this.parent.m_param1.push(r[e]),this.parent.m_param2.push(i[e]);return o+1}}if(e.getEndXY().equals(t.getEndXY())){const r=[0,0],i=[0,0],o=(0,_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.a3)(e,t,1,1,s,2,r,i,n);if(o){for(let e=0;e<o;e++)this.parent.m_param1.push(r[e]),this.parent.m_param2.push(i[e]);return this.parent.m_param1.push(1),this.parent.m_param2.push(1),o+1}}if(e.getStartXY().equals(t.getEndXY())){const r=[0,0],i=[0,0],o=(0,_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.a3)(e,t,0,1,s,2,r,i,n);if(o){this.parent.m_param1.push(0),this.parent.m_param2.push(1);for(let e=0;e<o;e++)this.parent.m_param1.push(r[e]),this.parent.m_param2.push(i[e]);return o+1}}if(e.getEndXY().equals(t.getStartXY())){const r=[0,0],i=[0,0],o=(0,_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.a3)(e,t,1,0,s,2,r,i,n);if(o){for(let e=0;e<o;e++)this.parent.m_param1.push(r[e]),this.parent.m_param2.push(i[e]);return this.parent.m_param1.push(1),this.parent.m_param2.push(0),o+1}}return 0}}function wn(e,t,s){let r=0;switch(e){case _Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumLine:r=0;break;case _Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumBezier:r=2;break;case _Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumRationalBezier2:r=3;break;case _Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumBezier2:r=1;break;case _Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumEllipticArc:r=0===t.projectionBehavior()?5:4;break;default:(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.d)("")}return s?5-r:r}class vn extends on{constructor(e){super(e.m_shape,e.m_tolerance,!1),this.m_parent=e}compare(e,t,s){if(this.m_bIntersectionDetected)return-1;const n=e.getElement(s),r=this.m_parent.getEdgeOriginVertices(t),i=this.m_parent.m_edgeVertices.getFirstElement(r),o=this.m_parent.getEdgeOriginVertices(n),a=this.m_parent.m_edgeVertices.getFirstElement(o);return this.m_currentNode=s,this.compareSegments(t,i,n,a)}}class Nn extends an{constructor(e){super(e.m_shape,e.m_tolerance),this.m_parent=e}compare(e,t){if(this.m_bIntersectionDetected)return-1;const s=e.getElement(t),n=this.m_parent.getEdgeOriginVertices(s),r=this.m_parent.m_edgeVertices.getFirstElement(n);return this.m_currentNode=t,this.compareVertex(e,t,r)}}class Tn extends _Envelope_js__WEBPACK_IMPORTED_MODULE_3__.a3{constructor(e){super(),this.pt1=_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P.getNAN(),this.pt2=_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P.getNAN(),this.m_shape=e}compare(e,t,s){this.m_shape.queryXY(t,this.pt1);const n=e.getElement(s);return this.m_shape.queryXY(n,this.pt2),this.pt1.compare(this.pt2)}}class Gn{constructor(e){this.m_point=_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P.getNAN(),this.m_pt=_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P.getNAN(),this.m_shape=e}setPoint(e){this.m_point.setCoordsPoint2D(e)}compare(e,t){const s=e.getElement(t);return this.m_shape.queryXY(s,this.m_pt),this.m_point.compare(this.m_pt)}}class Dn{constructor(e,t){this.m_shape=null,this.m_progressTracker=null,this.m_edges=new _Envelope_js__WEBPACK_IMPORTED_MODULE_3__.S(8),this.m_clusters=new _Envelope_js__WEBPACK_IMPORTED_MODULE_3__.S(5),this.m_clusterVertices=new sn(!1),this.m_edgeVertices=new sn(!1),this.m_helperPoint=new _Envelope_js__WEBPACK_IMPORTED_MODULE_3__.P,this.m_eventQ=new _Envelope_js__WEBPACK_IMPORTED_MODULE_3__.T,this.m_sweepStructure=new _Envelope_js__WEBPACK_IMPORTED_MODULE_3__.T,this.m_bComplications=!1,this.m_sweepComparator=null,this.m_tempEdgeBuffer=[],this.m_modifiedClusters=[],this.m_edgesToInsertInSweepStructure=[],this.m_prevNeighbour=-1,this.m_nextNeighbour=-1,this.m_bContinuingSegmentChainOptimization=!1,this.m_progressCounter=0,this.m_segmentIntersector=new xn,this.m_segBuf1=new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.S,this.m_segBuf2=new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.S,this.m_sweepPoint=new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P(0,0),this.m_tolerance=0,this.m_toleranceSqr=0,this.m_sweepPointCluster=-1,this.m_vertexClusterIndex=-1,this.m_bCracked=!1,this.m_bSweepPointClusterWasModified=!1,this.m_progressTracker=e,this.m_bTrackChanges=t}hadComplications(){return this.m_bComplications}sweep(e,t){const s=new _Transformation2D_js__WEBPACK_IMPORTED_MODULE_6__.T;s.setSwapCoordinates(),e.applyTransformation(s),this.setEditShape_(e),this.m_bCracked=!1,this.m_tolerance=t,this.m_toleranceSqr=t*t;let n=this.sweepImpl_();return e.applyTransformation(s),n||(this.fillEventQueuePass2(),n=this.sweepImpl_()||n),this.m_shape.removeUserIndex(this.m_vertexClusterIndex),this.m_shape=null,this.m_bCracked}sweepVertical(e,t){this.setEditShape_(e),this.m_bCracked=!1,this.m_tolerance=t,this.m_toleranceSqr=t*t,this.m_bComplications=!1;let s=this.sweepImpl_();if(!this.m_bComplications){const n=e.filterClosePoints(t,!0,!1,this.m_bTrackChanges,_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n);this.m_bComplications=1===n,s||=1===n}return-1!==this.m_vertexClusterIndex&&(this.m_shape.removeUserIndex(this.m_vertexClusterIndex),this.m_vertexClusterIndex=-1),this.m_shape=null,s}getEdgeCluster(e,t){return this.m_edges.getField(e,0+t)}setEdgeCluster_(e,t,s){this.m_edges.setField(e,0+t,s)}getEdgeOriginVertices(e){return this.m_edges.getField(e,2)}setEdgeOriginVertices_(e,t){this.m_edges.setField(e,2,t)}getNextEdgeEx(e,t){return this.m_edges.getField(e,3+t)}setNextEdgeEx_(e,t,s){this.m_edges.setField(e,3+t,s)}getEdgeSweepNode(e){return this.m_edges.getField(e,7)}setEdgeSweepNode_(e,t){this.m_edges.setField(e,7,t)}getNextEdge(e,t){const s=this.getEdgeEnd(e,t);return this.m_edges.getField(e,3+s)}setNextEdge_(e,t,s){const n=this.getEdgeEnd(e,t);this.m_edges.setField(e,3+n,s)}getPrevEdge(e,t){const s=this.getEdgeEnd(e,t);return this.m_edges.getField(e,5+s)}setPrevEdge_(e,t,s){const n=this.getEdgeEnd(e,t);this.m_edges.setField(e,5+n,s)}getClusterVertices(e){return this.m_clusters.getField(e,0)}setClusterVertices_(e,t){this.m_clusters.setField(e,0,t)}getClusterSweepEdgeList(e){return this.m_clusters.getField(e,2)}setClusterSweepEdgeList_(e,t){this.m_clusters.setField(e,2,t)}getClusterFirstEdge(e){return this.m_clusters.getField(e,1)}setClusterFirstEdge_(e,t){this.m_clusters.setField(e,1,t)}getClusterEventQNode(e){return this.m_clusters.getField(e,3)}setClusterEventQNode_(e,t){this.m_clusters.setField(e,3,t)}newCluster_(e){const t=this.m_clusters.newElement(),s=this.m_clusterVertices.createList();return this.setClusterVertices_(t,s),e!==_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n&&(this.m_clusterVertices.addElement(s,e),this.m_shape.setUserIndex(e,this.m_vertexClusterIndex,t)),t}deleteCluster_(e){this.m_clusters.deleteElement(e)}addVertexToCluster_(e,t){const s=this.getClusterVertices(e);this.m_clusterVertices.addElement(s,t),this.m_shape.setUserIndex(t,this.m_vertexClusterIndex,e)}newEdge_(e){const t=this.m_edges.newElement(),s=this.m_edgeVertices.createList();return this.setEdgeOriginVertices_(t,s),-1!==e&&this.m_edgeVertices.addElement(s,e),t}addVertexToEdge_(e,t){const s=this.getEdgeOriginVertices(e);this.m_edgeVertices.addElement(s,t)}deleteEdge_(e){this.m_edges.deleteElement(e);const t=this.m_edgesToInsertInSweepStructure.findIndex((t=>t===e));t>=0&&(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.aA)(this.m_edgesToInsertInSweepStructure,t)}addEdgeToCluster(e,t){-1===this.getEdgeCluster(e,0)?this.setEdgeCluster_(e,0,t):-1===this.getEdgeCluster(e,1)?this.setEdgeCluster_(e,1,t):(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.d)(""),this.addEdgeToClusterImpl_(e,t)}addEdgeToClusterImpl_(e,t){const s=this.getClusterFirstEdge(t);if(-1!==s){const n=this.getNextEdge(s,t);this.setPrevEdge_(n,t,e),this.setNextEdge_(e,t,n),this.setNextEdge_(s,t,e),this.setPrevEdge_(e,t,s)}else this.setPrevEdge_(e,t,e),this.setNextEdge_(e,t,e),this.setClusterFirstEdge_(t,e)}getEdgeEnd(e,t){return this.getEdgeCluster(e,0)===t?0:1}mergeClusters_(e,t){this.dbgCheckCluster_(e),this.dbgCheckCluster_(t);const s=this.getClusterEventQNode(t);-1!==s&&(this.m_eventQ.deleteNode(s),this.setClusterEventQNode_(t,-1));let n=this.getClusterFirstEdge(e),r=this.getClusterFirstEdge(t);if(-1!==r){let s=r,i=r,o=!1;do{this.dbgCheckEdge_(s),o=!1;const n=this.getEdgeEnd(s,t),a=this.getNextEdgeEx(s,n);if(this.getEdgeCluster(s,n+1&1)===e){this.disconnectEdge_(s);const e=this.getEdgeOriginVertices(s);if(this.m_edgeVertices.deleteList(e),this.deleteEdge_(s),s===a){r=-1;break}r===s&&(r=this.getClusterFirstEdge(t),i=a,o=!0)}s=a}while(s!==i||o);if(-1!==r){do{const n=this.getEdgeEnd(s,t),r=this.getNextEdgeEx(s,n);this.setEdgeCluster_(s,n,e),s=r}while(s!==i);if(n=this.getClusterFirstEdge(e),-1!==n){const t=this.getNextEdge(n,e),s=this.getNextEdge(r,e);t===n?(this.setClusterFirstEdge_(e,r),this.addEdgeToClusterImpl_(n,e),this.setClusterFirstEdge_(e,n)):s===r&&this.addEdgeToClusterImpl_(r,e),this.setNextEdge_(r,e,t),this.setPrevEdge_(t,e,r),this.setNextEdge_(n,e,s),this.setPrevEdge_(s,e,n)}else this.setClusterFirstEdge_(e,r)}}const i=this.getClusterVertices(e),o=this.getClusterVertices(t);for(let a=this.m_clusterVertices.getFirst(o);-1!==a;a=this.m_clusterVertices.getNext(a)){const t=this.m_clusterVertices.getElement(a);this.m_shape.setUserIndex(t,this.m_vertexClusterIndex,e)}this.m_clusterVertices.concatenateLists(i,o),this.deleteCluster_(t),this.dbgCheckCluster_(e)}mergeEdges_(e,t){this.dbgCheckEdge_(e),this.dbgCheckEdge_(t);const s=this.getEdgeCluster(e,0),n=this.getEdgeCluster(e,1),r=this.getEdgeCluster(t,0),i=this.getEdgeCluster(t,1),o=this.getEdgeOriginVertices(e),a=this.getEdgeOriginVertices(t);if(this.m_edgeVertices.concatenateLists(o,a),t===this.getClusterFirstEdge(s)&&this.setClusterFirstEdge_(s,e),t===this.getClusterFirstEdge(n)&&this.setClusterFirstEdge_(n,e),this.disconnectEdge_(t),this.deleteEdge_(t),!(s===r&&n===i||n===r&&s===i)){const e=this.getClusterXY(s),t=this.getClusterXY(r);e.isEqualPoint2D(t)?(s!==r&&this.mergeClusters_(s,r),n!==i&&this.mergeClusters_(n,i)):(n!==r&&this.mergeClusters_(n,r),s!==i&&this.mergeClusters_(s,i))}this.dbgCheckEdge_(e)}disconnectEdge_(e){const t=this.getEdgeCluster(e,0),s=this.getEdgeCluster(e,1);this.disconnectEdgeFromCluster_(e,t),this.disconnectEdgeFromCluster_(e,s)}disconnectEdgeFromCluster_(e,t){const s=this.getNextEdge(e,t),n=this.getPrevEdge(e,t),r=this.getClusterFirstEdge(t);s!==e?(this.setNextEdge_(n,t,s),this.setPrevEdge_(s,t,n),r===e&&this.setClusterFirstEdge_(t,s)):this.setClusterFirstEdge_(t,-1)}applyIntersectorToEditShape_(e,t,s){let n=this.m_edgeVertices.getFirst(e);const r=this.m_edgeVertices.getElement(n),i=this.getClusterFromVertex(r),o=this.m_shape.getNextVertex(r),a=this.getClusterFromVertex(o),h=this.m_shape.getXY(r),m=this.m_shape.getXY(o);let l=!1,g=!1;const u=t.getResultSegment(s,0).getStartXY(),c=t.getResultSegment(s,t.getResultSegmentCount(s)-1).getEndXY();h.equals(u)||(l=!0),m.equals(c)||(g=!0),this.m_shape.splitSegmentWithIntersector(r,t,s,!0,!0);const _=this.m_bTrackChanges&&t.getSegmentChanged(s);for(_&&this.m_shape.setGeometryModifiedWithVertex(r,!0),n=this.m_edgeVertices.getNext(n);-1!==n;n=this.m_edgeVertices.getNext(n)){const e=this.m_edgeVertices.getElement(n),r=this.getClusterFromVertex(e)===i;this.m_shape.splitSegmentWithIntersector(e,t,s,r,!0),_&&this.m_shape.setGeometryModifiedWithVertex(e,!0)}if(l&&this.updateClusterXY(!0,i,u,t.getResultSegmentStartPointWeight(s,0),t.getResultSegmentStartPointRank(s,0)),g){const e=t.getResultSegmentCount(s)-1;this.updateClusterXY(!0,a,c,t.getResultSegmentEndPointWeight(s,e),t.getResultSegmentEndPointRank(s,e))}}createEdgesAndClustersFromSplitEdge_(e,t,s){this.dbgCheckNewEdgesArray_();const n=this.getEdgeOriginVertices(e),r=this.getEdgeCluster(e,0),i=this.getEdgeCluster(e,1);let o=this.newEdge_(-1);this.m_edgesToInsertInSweepStructure.push(o);const a=_Envelope_js__WEBPACK_IMPORTED_MODULE_3__.S.impossibleIndex3();this.setEdgeSweepNode_(o,a),this.m_tempEdgeBuffer.push(o),this.addEdgeToCluster(o,r);const h=t.getResultSegmentCount(s);for(let m=1;m<h;m++){const e=this.newCluster_(-1);this.m_modifiedClusters.push(e),this.m_tempEdgeBuffer.push(e),this.addEdgeToCluster(o,e);const t=this.newEdge_(-1);this.m_edgesToInsertInSweepStructure.push(t),this.setEdgeSweepNode_(t,a),this.m_tempEdgeBuffer.push(t),this.addEdgeToCluster(t,e),o=t}this.addEdgeToCluster(o,i);for(let m=this.m_edgeVertices.getFirst(n);-1!==m;m=this.m_edgeVertices.getNext(m)){let e=this.m_edgeVertices.getElement(m);if(this.getClusterFromVertex(e)===r){let t=0;const s=this.m_tempEdgeBuffer.length;do{if(t>0){const s=this.m_tempEdgeBuffer[t-1];this.addVertexToCluster_(s,e)}const s=this.m_tempEdgeBuffer[t];t+=2,this.addVertexToEdge_(s,e),e=this.m_shape.getNextVertex(e)}while(t<s)}else{let t=this.m_tempEdgeBuffer.length-1;do{if(t<this.m_tempEdgeBuffer.length-2){const s=this.m_tempEdgeBuffer[t+1];this.addVertexToCluster_(s,e)}const s=this.m_tempEdgeBuffer[t];t-=2,this.addVertexToEdge_(s,e),e=this.m_shape.getNextVertex(e)}while(t>=0)}}this.m_tempEdgeBuffer.length=0,this.dbgCheckNewEdgesArray_()}getVertexFromClusterIndex(e){const t=this.getClusterVertices(e);return this.m_clusterVertices.getFirstElement(t)}getClusterFromVertex(e){return this.m_shape.getUserIndex(e,this.m_vertexClusterIndex)}processSplitHelper1_(e,t,s){const n=this.getEdgeCluster(t,0),r=this.getClusterXY(n),i=this.getEdgeCluster(t,1),o=this.getClusterXY(i),a=s.getResultSegmentCount(e);let h=s.getResultSegment(e,0);const m=h.getStartXY();if(!r.isEqualPoint2D(m)){if(!this.m_bComplications){r.compare(this.m_sweepPoint)*m.compare(this.m_sweepPoint)<0&&(this.m_bComplications=!0)}this.getAffectedEdges(n,this.m_tempEdgeBuffer),this.m_modifiedClusters.push(n)}if(!this.m_bComplications&&a>1){const e=r.compare(o),t=h.getEndXY();(r.compare(t)!==e||t.compare(o)!==e||t.compare(this.m_sweepPoint)<0)&&(this.m_bComplications=!0)}h=s.getResultSegment(e,a-1);const l=h.getEndXY();if(!o.isEqualPoint2D(l)){if(!this.m_bComplications){o.compare(this.m_sweepPoint)*l.compare(this.m_sweepPoint)<0&&(this.m_bComplications=!0)}this.getAffectedEdges(i,this.m_tempEdgeBuffer),this.m_modifiedClusters.push(i)}this.m_tempEdgeBuffer.push(t);for(let g=0,u=this.m_tempEdgeBuffer.length;g<u;g++){const e=this.m_tempEdgeBuffer[g],s=this.getEdgeSweepNode(e);_Envelope_js__WEBPACK_IMPORTED_MODULE_3__.S.isValidElement(s)&&(this.m_sweepStructure.deleteNode(s),this.setEdgeSweepNode_(e,-1));const n=_Envelope_js__WEBPACK_IMPORTED_MODULE_3__.S.impossibleIndex3();e!==t&&this.getEdgeSweepNode(e)!==n&&(this.m_edgesToInsertInSweepStructure.push(e),this.setEdgeSweepNode_(e,n))}this.m_tempEdgeBuffer.length=0}checkAndFixIntersection_(e,t){const s=this.m_sweepStructure.getElement(e);return this.m_sweepComparator.compare(this.m_sweepStructure,s,t),!!this.m_sweepComparator.intersectionDetected()&&(this.m_sweepComparator.clearIntersectionDetectedFlag(),this.fixIntersection_(e,t),!0)}fixIntersection_(e,t){this.m_bCracked=!0;const s=this.m_sweepStructure.getElement(e),n=this.m_sweepStructure.getElement(t);let r=null,i=null;const o=this.getEdgeOriginVertices(s),a=this.m_edgeVertices.getFirstElement(o),h=this.getEdgeOriginVertices(n),m=this.m_edgeVertices.getFirstElement(h);this.m_shape.querySegment(a,this.m_segBuf1,!1,!1),r=this.m_segBuf1.get();const l=this.m_shape.getNextVertex(a),g=this.m_shape.getWeight(a),u=this.m_shape.getSegmentParentageBreakVertex(a),c=this.m_shape.getWeight(l),_=this.m_shape.getSegmentParentageBreakVertex(l),d=this.m_shape.getSegmentWeight(a),p=this.m_shape.getRank(a),f=this.m_shape.getRank(l),x=this.m_shape.getSegmentRank(a),y=this.m_shape.getSegmentParentage(a);this.m_shape.querySegment(m,this.m_segBuf2,!1,!1),i=this.m_segBuf2.get();const P=this.m_shape.getNextVertex(m),E=this.m_shape.getWeight(m),S=this.m_shape.getSegmentParentageBreakVertex(m),C=this.m_shape.getWeight(P),I=this.m_shape.getSegmentParentageBreakVertex(P),b=this.m_shape.getSegmentWeight(m),w=this.m_shape.getRank(m),v=this.m_shape.getRank(P),N=this.m_shape.getSegmentRank(m),T=this.m_shape.getSegmentParentage(m);this.m_segmentIntersector.pushSegment(r,g,p,c,f,d,x,u,_,y),this.m_segmentIntersector.pushSegment(i,E,w,C,v,b,N,S,I,T),3===this.m_segmentIntersector.intersect2D(this.m_tolerance,!0)&&(this.m_bComplications=!0),this.splitEdge_(s,n,-1,this.m_segmentIntersector),this.m_segmentIntersector.clear()}fixIntersectionPointSegment_(e,t){this.m_bCracked=!0;const s=this.m_sweepStructure.getElement(t);let n=null;const r=this.getEdgeOriginVertices(s),i=this.m_edgeVertices.getFirstElement(r);this.m_shape.querySegment(i,this.m_segBuf1,!1,!1),n=this.m_segBuf1.get();const o=this.m_shape.getNextVertex(i),a=this.m_shape.getWeight(i),h=this.m_shape.getSegmentParentageBreakVertex(i),m=this.m_shape.getWeight(o),l=this.m_shape.getSegmentParentageBreakVertex(o),g=this.m_shape.getSegmentWeight(i),u=this.m_shape.getRank(i),c=this.m_shape.getRank(o),_=this.m_shape.getSegmentRank(i),d=this.m_shape.getSegmentParentage(i),p=this.getClusterFirstVertex(e);this.m_segmentIntersector.pushSegment(n,a,u,m,c,g,_,h,l,d),this.m_shape.queryPoint(p,this.m_helperPoint);const f=this.m_shape.getWeight(p),x=this.m_shape.getRank(p);this.m_segmentIntersector.intersect2DEx(this.m_tolerance,this.m_helperPoint,x,f,!0),this.splitEdge_(s,-1,e,this.m_segmentIntersector),this.m_segmentIntersector.clear()}insertNewEdges_(){if(0===this.m_edgesToInsertInSweepStructure.length)return!0;this.dbgCheckNewEdgesArray_();let e=!0,t=0;const s=this.m_edgesToInsertInSweepStructure.length,n=Math.max(2*s+200,this.m_sweepStructure.size()+200);for(;this.m_edgesToInsertInSweepStructure.length;){if(this.m_edgesToInsertInSweepStructure.length>Math.max(100,this.m_shape.getTotalPointCount())||t>n){this.m_edgesToInsertInSweepStructure.length=0,this.m_bComplications=!0,e=!1;break}const s=this.m_edgesToInsertInSweepStructure.at(-1);this.m_edgesToInsertInSweepStructure.pop(),this.setEdgeSweepNode_(s,-1);const r=this.isEdgeOnSweepLine_(s);_Envelope_js__WEBPACK_IMPORTED_MODULE_3__.S.isValidElement(r)?(this.insertNewEdgeToSweepStructure_(s,r),t++):r!==_Envelope_js__WEBPACK_IMPORTED_MODULE_3__.S.impossibleIndex2()&&(e=!1),this.m_bContinuingSegmentChainOptimization=!1}return e}insertNewEdgeToSweepStructure_(e,t){let s;if(this.m_bContinuingSegmentChainOptimization?(s=this.m_sweepStructure.addElementAtPosition(this.m_prevNeighbour,this.m_nextNeighbour,e,!0,!0),this.m_bContinuingSegmentChainOptimization=!1):s=this.m_sweepStructure.addUniqueElement(e),-1===s){const t=this.m_sweepStructure.getDuplicateElement(),s=this.m_sweepStructure.getElement(t);return this.mergeEdges_(s,e),!1}if(this.setEdgeSweepNode_(e,s),this.m_sweepComparator.intersectionDetected()){this.m_sweepComparator.clearIntersectionDetectedFlag();const e=this.m_sweepComparator.getLastComparedNode();return this.m_prevNeighbour===e&&(this.m_prevNeighbour=-1),this.m_nextNeighbour===e&&(this.m_nextNeighbour=-1),this.fixIntersection_(e,s),!0}return!1}isEdgeOnSweepLine_(e){const t=this.getEdgeCluster(e,0),s=this.getEdgeCluster(e,1),n=this.getClusterXY(t),r=this.getClusterXY(s);if(_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P.sqrDistance(n,r)<=this.m_toleranceSqr)return this.m_bComplications=!0,-1;const i=n.compare(this.m_sweepPoint),o=r.compare(this.m_sweepPoint);return i<=0&&o>0?s:o<=0&&i>0?t:i>0&&o>0?_Envelope_js__WEBPACK_IMPORTED_MODULE_3__.S.impossibleIndex2():-1}fillEventQueue(){const e=new _Envelope_js__WEBPACK_IMPORTED_MODULE_3__.A(0),t=this.m_shape.queryVertexIteratorOnSelection();for(let r=t.next();r!==_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n;r=t.next())-1!==this.m_shape.getUserIndex(r,this.m_vertexClusterIndex)&&e.add(r);this.m_shape.sortVerticesSimpleByY(e,0,e.size()),this.progress_(!0),this.m_eventQ.clear(),this.m_eventQ.setCapacity(e.size()),this.m_eventQ.setComparator(new Tn(this.m_shape));const s=_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P.getNAN();s.setNAN();let n=-1;for(let r=0,i=e.size();r<i;r++){const t=e.read(r);if(this.m_shape.getXY(t).isEqualPoint2D(s)){const e=this.m_shape.getUserIndex(t,this.m_vertexClusterIndex);this.mergeClusters_(n,e);continue}n=this.getClusterFromVertex(t),this.m_shape.queryXY(t,s);const i=this.m_eventQ.addBiggestElement(t);this.setClusterEventQNode_(n,i)}}fillEventQueuePass2(){const e=new _Envelope_js__WEBPACK_IMPORTED_MODULE_3__.A(0);for(let t=this.m_eventQ.getFirst();-1!==t;t=this.m_eventQ.getNext(t)){const s=this.m_eventQ.getElement(t);e.add(s)}this.m_eventQ.clear(),this.m_shape.sortVerticesSimpleByY(e,0,e.size()),this.progress_(!0);for(let t=0,s=e.size();t<s;t++){const s=e.read(t),n=this.getClusterFromVertex(s),r=this.m_eventQ.addBiggestElement(s);this.setClusterEventQNode_(n,r)}}getAffectedEdges(e,t){const s=this.getClusterFirstEdge(e);if(-1===s)return;let n=s;do{const s=this.getEdgeSweepNode(n);_Envelope_js__WEBPACK_IMPORTED_MODULE_3__.S.isValidElement(s)&&t.push(n),n=this.getNextEdge(n,e)}while(n!==s)}updateClusterXY(e,t,s,n,r){const i=this.getClusterVertices(t);for(let o=this.m_clusterVertices.getFirst(i);-1!==o;o=this.m_clusterVertices.getNext(o)){const t=this.m_clusterVertices.getElement(o);this.m_shape.setXYMonotonicPoint2D(t,s),this.m_shape.setWeight(t,n),this.m_shape.setRank(t,r),e&&this.m_bTrackChanges&&this.m_shape.setGeometryModifiedWithVertex(t,!0),this.m_shape.setSegmentParentageBreakVertex(t,!0)}}splitEdge_(e,t,s,n){this.dbgCheckEdge_(e),-1!==t&&this.dbgCheckEdge_(t),this.disconnectEdge_(e),-1!==t&&this.disconnectEdge_(t),this.processSplitHelper1_(0,e,n),-1!==t&&this.processSplitHelper1_(1,t,n),-1!==s&&n.getResultPointChanged()&&this.m_modifiedClusters.push(s);for(let o=0,a=this.m_modifiedClusters.length;o<a;o++){const e=this.m_modifiedClusters[o],t=this.getClusterEventQNode(e);-1!==t&&(this.m_eventQ.deleteNode(t),this.setClusterEventQNode_(e,-1))}const r=this.getEdgeOriginVertices(e),i=-1!==t?this.getEdgeOriginVertices(t):-1;if(this.applyIntersectorToEditShape_(r,n,0),-1!==i)this.applyIntersectorToEditShape_(i,n,1);else{const e=n.getResultPoint().getXY();this.updateClusterXY(n.getResultPointChanged(),s,e,n.getResultPointWeight(),n.getResultPointRank())}this.createEdgesAndClustersFromSplitEdge_(e,n,0),-1!==t&&this.createEdgesAndClustersFromSplitEdge_(t,n,1),this.m_edgeVertices.deleteList(r),this.deleteEdge_(e),-1!==t&&(this.m_edgeVertices.deleteList(i),this.deleteEdge_(t));for(let o=0,a=this.m_modifiedClusters.length;o<a;o++){const e=this.m_modifiedClusters[o];e===this.m_sweepPointCluster&&(this.m_bSweepPointClusterWasModified=!0);let t=this.getClusterEventQNode(e);if(-1===t){const s=this.getClusterFirstVertex(e);if(t=this.m_eventQ.addUniqueElement(s),-1===t){const t=this.m_eventQ.getDuplicateElement(),s=this.m_eventQ.getElement(t),n=this.getClusterFromVertex(s);this.mergeClusters_(n,e)}else this.setClusterEventQNode_(e,t)}}this.m_modifiedClusters.length=0}getClusterXY(e){const t=this.getClusterFirstVertex(e);return this.m_shape.getXY(t)}getClusterFirstVertex(e){const t=this.getClusterVertices(e);return this.m_clusterVertices.getFirstElement(t)}dbgCheckEdge_(e){}dbgCheckCluster_(e){}dbgCheckNewEdgesArray_(){}dbgSaveSweepStructure_(e){}sweepImpl_(){this.progress_(!0),this.m_bSweepPointClusterWasModified=!1,this.m_sweepPointCluster=-1,null===this.m_sweepComparator&&(this.m_sweepStructure.disableBalancing(),this.m_sweepComparator=new vn(this),this.m_sweepStructure.setComparator(this.m_sweepComparator));const e=[];let t=null,s=null;this.m_prevNeighbour=-1,this.m_nextNeighbour=-1,this.m_bContinuingSegmentChainOptimization=!1;const n=_Envelope_js__WEBPACK_IMPORTED_MODULE_3__.S.impossibleIndex2(),r=_Envelope_js__WEBPACK_IMPORTED_MODULE_3__.S.impossibleIndex3();for(let i=this.m_eventQ.getFirst();-1!==i;){this.progress_(),this.dbgCheckSweepStructure_(),this.m_bContinuingSegmentChainOptimization=!1,this.m_prevNeighbour=-1,this.m_nextNeighbour=-1;const o=this.m_eventQ.getElement(i);this.m_sweepPointCluster=this.getClusterFromVertex(o),this.m_shape.queryXY(o,this.m_sweepPoint),this.m_sweepComparator.setSweepY(this.m_sweepPoint.y,this.m_sweepPoint.x);let a=!1;{const t=this.getClusterFirstEdge(this.m_sweepPointCluster);if(a=-1===t,!a){let s=t;do{const t=this.getEdgeSweepNode(s);-1===t?(this.m_edgesToInsertInSweepStructure.push(s),this.setEdgeSweepNode_(s,r)):t!==r&&e.push(t),s=this.getNextEdge(s,this.m_sweepPointCluster)}while(s!==t)}}if(!this.m_sweepStructure.isAutoBalancing()&&(this.m_sweepStructure.getMaxDepthEver()>4||this.m_edgesToInsertInSweepStructure.length>10)&&this.m_sweepStructure.enableBalancing(),e.length>0){this.m_bContinuingSegmentChainOptimization=1===e.length&&1===this.m_edgesToInsertInSweepStructure.length;for(let r=0,i=e.length;r<i;r++){const t=this.m_sweepStructure.getElement(e[r]);this.setEdgeSweepNode_(t,n)}let t=n,s=n;for(let r=0,i=e.length;r<i;r++){const i=e[r];if(t===n){const e=this.m_sweepStructure.getPrev(i);if(-1!==e){const s=this.m_sweepStructure.getElement(e);this.getEdgeSweepNode(s)!==n&&(t=e)}else t=-1}if(s===n){const e=this.m_sweepStructure.getNext(i);if(-1!==e){const t=this.m_sweepStructure.getElement(e);this.getEdgeSweepNode(t)!==n&&(s=e)}else s=-1}if(t!==n&&s!==n)break}for(let n=0,r=e.length;n<r;n++){const t=e[n],s=this.m_sweepStructure.getElement(t);this.m_sweepStructure.deleteNode(t),this.setEdgeSweepNode_(s,-1)}e.length=0,this.m_prevNeighbour=t,this.m_nextNeighbour=s,-1!==t&&-1!==s?this.m_bContinuingSegmentChainOptimization||this.checkAndFixIntersection_(t,s):-1===t&&-1===s&&(this.m_bContinuingSegmentChainOptimization=!1)}else a&&(null===t&&(t=new Nn(this)),t.setPoint(this.m_sweepPoint),this.m_sweepStructure.searchUpperBound(t),t.intersectionDetected()&&(t.clearIntersectionDetectedFlag(),this.fixIntersectionPointSegment_(this.m_sweepPointCluster,t.getCurrentNode())));const h=this.m_bContinuingSegmentChainOptimization;!this.insertNewEdges_()&&h&&-1!==this.m_prevNeighbour&&-1!==this.m_nextNeighbour&&this.checkAndFixIntersection_(this.m_prevNeighbour,this.m_nextNeighbour),this.m_bSweepPointClusterWasModified?(this.m_bSweepPointClusterWasModified=!1,null===s&&(s=new Gn(this.m_shape)),s.setPoint(this.m_sweepPoint),i=this.m_eventQ.searchUpperBound(s)):i=this.m_eventQ.getNext(i)}return this.m_bCracked}setEditShape_(e){this.m_shape=e,this.m_vertexClusterIndex=this.m_shape.createUserIndex(),this.m_edges.setCapacity(e.getSelectedCount()+32),this.m_clusters.setCapacity(e.getSelectedCount()),this.m_clusterVertices.reserveLists(e.getSelectedCount()),this.m_clusterVertices.reserveNodes(e.getSelectedCount()),this.m_edgeVertices.reserveLists(e.getSelectedCount()+32),this.m_edgeVertices.reserveNodes(e.getSelectedCount()+32);for(let t=this.m_shape.getFirstGeometry();t!==_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n;t=this.m_shape.getNextGeometry(t)){if((0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.h)(this.m_shape.getGeometryType(t)))for(let s=this.m_shape.getFirstPath(t);s!==_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n;s=this.m_shape.getNextPath(s)){const t=this.m_shape.getPathSize(s),n=this.m_shape.getFirstVertex(s);if(n===_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n)continue;let r=this.m_shape.getNextVertex(n);if(r===_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n||r===n)continue;let i=-1;e.selected(n)&&(i=this.newCluster_(n));let o=-1;-1!==i&&e.selected(r)&&(o=this.newEdge_(n),this.addEdgeToCluster(o,i));let a=o;for(let e=0,s=t-2;e<s;e++){const e=this.m_shape.getNextVertex(r);let t=-1;if(this.m_shape.selected(r)){const s=this.newCluster_(r);-1!==a&&this.addEdgeToCluster(a,s),this.m_shape.selected(e)&&(t=this.newEdge_(r),this.addEdgeToCluster(t,s))}a=t,r=e}if(this.m_shape.isClosedPath(s)){const e=this.m_shape.getNextVertex(r);if(this.m_shape.selected(r)){const t=this.newCluster_(r);if(-1!==a&&this.addEdgeToCluster(a,t),this.m_shape.selected(e)){const e=this.newEdge_(r);this.addEdgeToCluster(e,t),this.addEdgeToCluster(e,i)}}}else{let e=-1;this.m_shape.selected(r)&&(e=this.newCluster_(r),-1!==a&&this.addEdgeToCluster(a,e))}}else for(let e=this.m_shape.getFirstPath(t);e!==_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n;e=this.m_shape.getNextPath(e)){let t=this.m_shape.getFirstVertex(e);for(let s=0,n=this.m_shape.getPathSize(e);s<n;s++)this.m_shape.selected(t)&&this.newCluster_(t),t=this.m_shape.getNextVertex(t)}}this.fillEventQueue()}progress_(e=!1){}dbgCheckSweepStructure_(){}}function Vn(e,t,s,n){s>0&&mn(e,s,t,!1,n);new Hn(n).executeImpl_(e,t)}function Fn(e,t,s){return{vertex0:e,vertex1:t,dir:s}}class Hn{constructor(e){this.m_shape=null,this.m_spikes=[],this.m_points=new _Envelope_js__WEBPACK_IMPORTED_MODULE_3__.A(0),this.m_pointsIndex=-1,this.m_dissolvedEdges=0,this.m_progressTracker=e}executeImpl_(e,t){if(this.m_shape=e,e.getPathCount(t)<2&&e.getPointCount(t)<6)return;this.m_points.resize(0);for(let a=e.getFirstPath(t);a!==_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n;a=e.getNextPath(a)){let t=e.getFirstVertex(a);for(let s=0,n=e.getPathSize(a);s<n;s++,t=e.getNextVertex(t))this.m_points.add(t)}this.m_pointsIndex=e.createUserIndex();for(let a=0,g=this.m_points.size();a<g;++a)e.setUserIndex(this.m_points.read(a),this.m_pointsIndex,a);e.sortVerticesSimpleByY(this.m_points,0,this.m_points.size());let s=this.m_points.read(0);const n=e.getXY(s);let r=1,i=0;const o=[];for(let a=1;a<this.m_points.size();a++){const t=this.m_points.read(a);if(t===_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n)continue;if(-1===e.getUserIndex(t,this.m_pointsIndex))continue;const h=e.getXY(t);if(h.isEqualPoint2D(n))r++;else{if(r>1){for(let t=i;t<a;t++){const s=this.m_points.read(t);if(-1===e.getUserIndex(s,this.m_pointsIndex))continue;const r=e.getNextVertex(s),i=e.getPrevVertex(s);if(s!==r&&!e.isEqualXYPoint2D(r,n)){const e=Fn(s,r,1);o.push(e)}if(s!==i&&i!==r&&!e.isEqualXYPoint2D(i,n)){const e=Fn(s,i,-1);o.push(e)}}o.length>0&&this.processBunch_(o,n)}s=t,n.assign(h),r=1,i=a}}if(0===this.m_dissolvedEdges)return e.removeUserIndex(this.m_pointsIndex),void(this.m_pointsIndex=-1);let h=e.getPointCount(t);for(let a=0;a<this.m_points.size();a++){const t=this.m_points.read(a);if(t===_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n)continue;if(-1!==e.getUserIndex(t,this.m_pointsIndex)){e.setUserIndex(t,this.m_pointsIndex,-1);continue}const s=e.getPathFromVertex(t);e.getFirstVertex(s)===t&&e.setFirstVertex(s,_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n),e.freeVertex(t),this.m_points.write(a,_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n),h--}const m=e.createPathUserIndex();let l=e.getPathCount(t);for(let g=0,u=this.m_points.size();g<u;++g){if(this.m_points.read(g)===_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n)continue;let s=this.m_points.read(g);if(-1!==e.getUserIndex(s,this.m_pointsIndex))continue;let n=e.getPathFromVertex(s),r=-1;if(2===e.getPathUserIndex(n,m)){n=_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n;for(let t=e.getNextVertex(s);t!==s;t=e.getNextVertex(t)){const r=e.getPathFromVertex(t);if(2!==e.getPathUserIndex(r,m)){n=r,s=t;break}}n===_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n&&(n=e.insertPath(t,_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n),e.setClosedPath(n,!0),l++),(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(n!==_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n)}e.setPathUserIndex(n,m,2),r=e.getFirstVertex(n);let i=0,o=!1,h=s;do{r===h&&(o=!0),e.setUserIndex(h,this.m_pointsIndex,1);const t=e.getPathFromVertex(h);t!==n&&(2!==e.getPathUserIndex(t,m)&&(e.setPathUserIndex(t,m,1),e.setFirstVertex(t,_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n)),e.setPathToVertex(h,n)),i++,h=e.getNextVertex(h)}while(h!==s);o||e.setFirstVertex(n,s),e.setPathSize(n,i)}for(let a=e.getFirstPath(t);a!==_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n;){const t=e.getNextPath(a);1!==e.getPathUserIndex(a,m)&&e.getFirstVertex(a)!==_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n||(e.removePathOnly(a),l--),a=t}e.setGeometryVertexCount(t,h),e.setGeometryPathCount(t,l),e.removePathUserIndex(m),e.removeUserIndex(this.m_pointsIndex),this.m_pointsIndex=-1,e.dbgVerifyVertexCounts(),e.filterClosePoints(0,!0,!1,!1,t)}processBunch_(e,t){e.sort(((e,s)=>{const n=this.m_shape.getXY(e.vertex1).sub(t),r=this.m_shape.getXY(s.vertex1).sub(t),i=_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P.compareVectors(n,r);return 0===i?e.dir<s.dir?-1:1:i}));let s=0;const n=this.m_shape.getXY(e[0].vertex1);let r=1;const i=this.m_shape.hasCurves();for(let o=1,a=e.length;o<a;o++){const t=this.m_shape.getXY(e[o].vertex1);if(!(t.isEqualPoint2D(n)&&(r++,o+1<a))){if(2===r){const t=e[s],n=e[s+1],r=t.dir;if(r!==n.dir){let e=!0;if(i&&(e=!this.m_shape.isCurve(1===t.dir?t.vertex0:t.vertex1)&&!this.m_shape.isCurve(1===n.dir?n.vertex0:n.vertex1)),e){if(1===r){const e=t.vertex0,s=n.vertex0;this.m_shape.setNextVertex(e,s),this.m_shape.setPrevVertex(s,e),this.m_shape.getPrevVertex(e)===s&&(this.m_shape.setUserIndex(e,this.m_pointsIndex,-1),this.m_shape.setUserIndex(s,this.m_pointsIndex,-1));const r=t.vertex1,i=n.vertex1;this.m_shape.setPrevVertex(r,i),this.m_shape.setNextVertex(i,r),this.m_shape.getNextVertex(r)===i&&(this.m_shape.setUserIndex(r,this.m_pointsIndex,-1),this.m_shape.setUserIndex(i,this.m_pointsIndex,-1))}else{const e=t.vertex0,s=n.vertex0;this.m_shape.setPrevVertex(e,s),this.m_shape.setNextVertex(s,e),this.m_shape.getNextVertex(e)===s&&(this.m_shape.setUserIndex(e,this.m_pointsIndex,-1),this.m_shape.setUserIndex(s,this.m_pointsIndex,-1));const r=t.vertex1,i=n.vertex1;this.m_shape.setNextVertex(r,i),this.m_shape.setPrevVertex(i,r),this.m_shape.getPrevVertex(r)===i&&(this.m_shape.setUserIndex(r,this.m_pointsIndex,-1),this.m_shape.setUserIndex(i,this.m_pointsIndex,-1))}this.m_dissolvedEdges+=2}}}n.assign(t),s=o,r=1}}e.length=0}}function kn(e){for(let t=e.getFirstGeometry();t!==_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n;t=e.getNextGeometry(t))if((0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.h)(e.getGeometryType(t)))return!0;return!1}function An(e,t,s,n){if(!kn(e))return!1;const r=new Bn(n);r.m_shape=e,r.m_tolerance=t,r.m_bTrackChanges=s;let i=!1;const o=e.hasCurves()?5:15;return i=e.getTotalPointCount()<o?r.crackBruteForce_():r.crackerPlaneSweep_(),i}function Mn(e,t,s,n,r){if(!kn(t))return!1;let i=new Bn(r);if(i.m_shape=t,i.m_tolerance=s,i.m_bAllowCoincident=e,i.m_bNeedsNonSimpleResult=null!==n,i.needsCrackingImpl_())return n&&n.assign(i.m_nonSimpleResult),!0;const o=new _Transformation2D_js__WEBPACK_IMPORTED_MODULE_6__.T;o.setSwapCoordinates(),t.applyTransformation(o),i=new Bn(r),i.m_shape=t,i.m_tolerance=s,i.m_bAllowCoincident=e,i.m_bNeedsNonSimpleResult=null!==n;const a=i.needsCrackingImpl_();return t.applyTransformation(o),!!a&&(n&&n.assign(i.m_nonSimpleResult),!0)}function Un(e,t,s,n){const r=t.getGeometryType();if((0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.h)(r)){return new Bn(n).crackAWithBMultiPath_(e,t,s)}(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.t)("crack_A_with_B")}function qn(e,t){return{t:e,index:t}}class Bn{crackBruteForce_(){let e=this.crackBruteForceImpl_();if(!e&&this.m_shape.hasCurves()){const t=new _Transformation2D_js__WEBPACK_IMPORTED_MODULE_6__.T;t.setSwapCoordinates(),this.m_shape.applyTransformation(t),e=this.crackBruteForceImpl_(),this.m_shape.applyTransformation(t)}return e}crackBruteForceImpl_(){let t=!1;const s=new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.S,n=new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.S,r=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D.constructEmpty(),i=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D.constructEmpty(),o=!1,h=new _Envelope_js__WEBPACK_IMPORTED_MODULE_3__.P,m=new xn,l=this.m_shape.getTotalPointCount(),g=l*l*2,u=this.m_shape.queryVertexIteratorOnSelection();for(let e=u.next();e!==_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n;e=u.next()){const l=this.m_shape.getGeometryType(u.currentGeometry());let c=1,_=1,d=1,f=0,x=0,y=0;const P=this.m_shape.getSegmentParentage(e);let E=!1,S=!1,C=null,I=!1;if((0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.e)(l))c=this.m_shape.getWeight(e),f=this.m_shape.getRank(e);else{if(C=this.getSegment_(e,s),null===C)continue;const t=this.m_shape.getVertexIndex(e);c=this.m_shape.getWeightWithIndex(t),f=this.m_shape.getRankWithIndex(t),d=this.m_shape.getSegmentWeightWithIndex(t),y=this.m_shape.getSegmentRankWithIndex(t),E=this.m_shape.getSegmentParentageBreakVertex(e);{const t=this.m_shape.getNextVertex(e);_=this.m_shape.getWeight(t),x=this.m_shape.getRank(t),S=this.m_shape.getSegmentParentageBreakVertex(t)}if(C.queryLooseEnvelope(r),r.inflateCoords(this.m_tolerance,this.m_tolerance),C.isDegenerate(this.m_tolerance)){if(!C.isDegenerate(0))continue;I=!0,C=null}}const b=new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.X({copy:u});let w=b.next();w!==_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n&&(w=b.next());let v=0;for(;w!==_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n;w=b.next()){if(0!==v){v--;continue}if(this.m_shape.getTotalPointCount()>g)return t;this.progress_();const l=this.m_shape.getGeometryType(b.currentGeometry());let N=null,T=!1,G=0,D=0,V=0,F=0,H=0,k=0,A=!1,U=!1;const q=this.m_shape.getSegmentParentage(w);if((0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.e)(l))G=this.m_shape.getWeight(w),F=this.m_shape.getRank(w);else{if(N=this.getSegment_(w,n),null===N)continue;const e=this.m_shape.getVertexIndex(w);G=this.m_shape.getWeightWithIndex(e),F=this.m_shape.getRankWithIndex(e),V=this.m_shape.getSegmentWeightWithIndex(e),k=this.m_shape.getSegmentRankWithIndex(e),A=this.m_shape.getSegmentParentageBreakVertex(w);{const e=this.m_shape.getNextVertex(w);D=this.m_shape.getWeight(e),H=this.m_shape.getRank(e),U=this.m_shape.getSegmentParentageBreakVertex(e)}if(N.queryLooseEnvelope(i),N.isDegenerate(this.m_tolerance)){if(!N.isDegenerate(0))continue;T=!0,N=null}}let B=0,O=0;if(null!==C&&null!==N){if(r.isIntersectingNe(i)){0!==(0,_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.Y)(!0,!0,C,N,this.m_tolerance,!0)&&(m.pushSegment(C,c,f,_,x,d,y,E,S,P),m.pushSegment(N,G,F,D,H,V,k,A,U,q),m.intersect2D(this.m_tolerance,!0),t||=m.getSegmentChanged(0)||m.getSegmentChanged(1),B=m.getResultSegmentCount(0),O=m.getResultSegmentCount(1),B+O>0&&(this.m_shape.splitSegmentWithIntersector(e,m,0,!0,!0),this.m_shape.splitSegmentWithIntersector(w,m,1,!0,!0),this.m_bTrackChanges&&(m.getSegmentChanged(0)&&this.m_shape.setGeometryModifiedWithVertex(e,!0),m.getSegmentChanged(1)&&this.m_shape.setGeometryModifiedWithVertex(w,!0))),O>1&&(v+=O-1),m.clear())}}else if(null!==C){const s=this.m_shape.getXY(w);if(r.contains(s)){if(m.pushSegment(C,c,f,_,x,d,y,E,S,P),this.m_shape.queryPoint(w,h),m.intersect2DEx(this.m_tolerance,h,F,G,o),t||=m.getSegmentChanged(0)||m.getResultPointChanged(),B=m.getResultSegmentCount(0),B>0)if(this.m_bTrackChanges&&(m.getSegmentChanged(0)&&this.m_shape.setGeometryModifiedWithVertex(e,!0),m.getSegmentChanged(1)&&this.m_shape.setGeometryModifiedWithVertex(w,!0)),this.m_shape.splitSegmentWithIntersector(e,m,0,!0,!0),T){let e=_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n;for(let t=this.m_shape.getNextVertex(w);t!==_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n&&t!==w&&(N=this.getSegment_(t,n),e=t,null!=N&&N.isDegenerate(0));t=this.m_shape.getNextVertex(t));for(let t=w;t!==_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n&&(this.m_shape.setPoint(t,m.getResultPoint(),!0),t!==e);t=this.m_shape.getNextVertex(t));}else this.m_shape.setPoint(w,m.getResultPoint(),!0);m.clear()}}else{if(null===N)continue;{const s=this.m_shape.getXY(e);if(i.inflateCoords(this.m_tolerance,this.m_tolerance),i.contains(s)){if(m.pushSegment(N,G,F,D,H,V,k,A,U,q),this.m_shape.queryPoint(e,h),m.intersect2DEx(this.m_tolerance,h,f,c,o),t||=m.getSegmentChanged(0)||m.getResultPointChanged(),O=m.getResultSegmentCount(0),O>0)if(this.m_bTrackChanges&&(m.getSegmentChanged(0)&&this.m_shape.setGeometryModifiedWithVertex(w,!0),m.getSegmentChanged(1)&&this.m_shape.setGeometryModifiedWithVertex(e,!0)),this.m_shape.splitSegmentWithIntersector(w,m,0,!0,!0),v+=O-1,I){let t=_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n;for(let s=this.m_shape.getNextVertex(e);s!==_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n&&s!==e&&(N=this.getSegment_(s,n),t=s,null!=N&&N.isDegenerate(0));s=this.m_shape.getNextVertex(s));for(let s=e;s!==_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n&&(this.m_shape.setPoint(s,m.getResultPoint(),!0),s!==t);s=this.m_shape.getNextVertex(s));}else this.m_shape.setPoint(e,m.getResultPoint(),!0);m.clear()}}}if(B+O!==0&&0!==B){let t=!1;for(;C=this.getSegment_(e,s),null!=C&&(C.queryEnvelope(r),C.isDegenerate(this.m_tolerance));){if(!(B>1)){t=!0;break}e=u.next(),B--,(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(e!==_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n)}if(t)break}}}return t}crackerPlaneSweep_(){return this.planesweep_()}planesweep_(){return new Dn(this.m_progressTracker,this.m_bTrackChanges).sweep(this.m_shape,this.m_tolerance)}needsCrackingImpl_(){let e=!1;const t=new _Envelope_js__WEBPACK_IMPORTED_MODULE_3__.A(0);t.resize(this.m_shape.getSelectedCount());const s=this.m_shape.queryVertexIteratorOnSelection();for(let i=0,g=s.next();g!==_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n;++i,g=s.next())t.write(i,g);this.m_shape.sortVerticesSimpleByY(t,0,t.size()),t.add(_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n);const n=this.m_shape.createUserIndex(),r=this.m_shape.createUserIndex();this.m_sweepComparator=new on(this.m_shape,this.m_tolerance,!this.m_bAllowCoincident),this.m_sweepStructure.setComparator(this.m_sweepComparator);let o=null;const a=[],h=[];let m=0;const l=new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P;for(let g=t.read(m++);g!==_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n;){this.m_shape.queryXY(g,l);let s=!1;do{let e=this.m_shape.getNextVertex(g),i=this.m_shape.getPrevVertex(g);s||=e!==_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n||i!==_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n,e===_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n||this.m_shape.selected(e)||(e=_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n),i===_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n||this.m_shape.selected(i)||(i=_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n),e!==_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n&&this.m_shape.compareVerticesSimpleY(g,e)<0&&(h.push(g),h.push(e)),i!==_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n&&this.m_shape.compareVerticesSimpleY(g,i)<0&&(h.push(i),h.push(i));const o=this.m_shape.getUserIndex(g,n);-1!==o&&(a.push(o),this.m_shape.setUserIndex(g,n,-1));const l=this.m_shape.getUserIndex(g,r);-1!==l&&(a.push(l),this.m_shape.setUserIndex(g,r,-1)),g=t.read(m++)}while(g!==_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n&&this.m_shape.isEqualXYPoint2D(g,l));if(!s&&(null===o&&(o=new an(this.m_shape,this.m_tolerance)),o.setPoint(l),this.m_sweepStructure.searchUpperBound(o),o.intersectionDetected())){e=!0,this.m_bNeedsNonSimpleResult&&((0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.d)("needsCrackingIMpl_"),this.m_nonSimpleResult=new _OperatorDefinitions_js__WEBPACK_IMPORTED_MODULE_10__.NonSimpleResult(6,-1,-1));break}let u=1===a.length&&2===h.length;const c=32;a.length>c&&(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.v)(a);let _=-1,d=-1;if(!u)for(let t=0,n=a.length;t<n;t++){const s=a[t],n=this.m_sweepStructure.getPrev(s);if(-1!==n&&-1===a.indexOf(n))if(-1===_)_=n;else{if(e=!0,!this.m_bNeedsNonSimpleResult)break;this.m_nonSimpleResult=new _OperatorDefinitions_js__WEBPACK_IMPORTED_MODULE_10__.NonSimpleResult(6,-1,-1)}const r=this.m_sweepStructure.getNext(s);if(-1!==r&&-1===a.indexOf(r))if(-1===d)d=r;else{if(e=!0,!this.m_bNeedsNonSimpleResult)break;this.m_nonSimpleResult=new _OperatorDefinitions_js__WEBPACK_IMPORTED_MODULE_10__.NonSimpleResult(6,-1,-1)}if(-1!==_&&-1!==d)break}if(e&&!this.m_bNeedsNonSimpleResult)break;if(this.m_sweepComparator.setSweepY(l.y,l.x),!u){for(let e=0,t=a.length;e<t;e++){const t=a[e];this.m_sweepStructure.deleteNode(t)}a.length=0}if(!u&&-1!==_&&-1!==d&&this.checkForIntersections_(_,d)){e=!0,this.m_bNeedsNonSimpleResult&&(this.m_nonSimpleResult=this.m_sweepComparator.getResult());break}for(let t=0,i=h.length;t<i;t+=2){const s=h[t],i=h[t+1];let o;if(u?(o=this.m_sweepStructure.replaceElementAtPosition(a[0],s,!0,!0),a.length=0,u=!1):o=this.m_sweepStructure.addElement(s),this.m_sweepComparator.intersectionDetected()){this.m_bNeedsNonSimpleResult&&(this.m_nonSimpleResult=this.m_sweepComparator.getResult()),e=!0;break}-1===this.m_shape.getUserIndex(i,n)?this.m_shape.setUserIndex(i,n,o):this.m_shape.setUserIndex(i,r,o)}if(e)break;h.length=0}return this.m_shape.removeUserIndex(n),this.m_shape.removeUserIndex(r),e}checkForIntersections_(e,t){const s=this.m_sweepStructure.getElement(e);this.m_sweepComparator.compare(this.m_sweepStructure,s,t);const n=this.m_sweepComparator.intersectionDetected();return this.m_sweepComparator.clearIntersectionDetectedFlag(),n}getSegment_(e,t){return Bn.st_getSegment(this.m_shape,e,t)}static st_getSegment(e,t,s){return e.querySegment(t,s,!1,!1)?s.get():null}dbgPrintSweepEdge(e){}dbgPrintSweepStructure(){}dbgSaveSweepStructure(e=null){}dbgCheckSweepStructure(){}progress_(e=!1){this.m_progressCounter++}crackAWithBMultiPath_(t,s,r){const i=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D.constructEmpty();t.queryLooseEnvelope(i);const o=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D.constructEmpty();if(s.queryLooseEnvelope(o),o.inflateCoords(r,r),!o.isIntersecting(i))return t;const h=t.getImpl(),m=h.getAccelerators();let g=null,u=null;m&&(u=m.getQuadTree()),On(t,(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.v)(s))&&(g=(0,_Envelope_js__WEBPACK_IMPORTED_MODULE_3__.F)(h,o),u=g);const c=u?u.getIteratorForQT():null,_=s.querySegmentIterator(),d=t.querySegmentIterator(),p=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.d)(15,Number.NaN),f=[];for(;_.nextPath();)for(;_.hasNextSegment();){const t=_.nextSegment();if(u){c.resetIterator(t,r);for(let e=c.next();-1!==e;e=c.next()){this.progress_();const s=u.getElement(e);if(d.resetToVertex(s,-1),d.hasNextSegment()){const e=d.nextSegment().intersect(t,null,p,null,r);for(let t=0;t<e;t++){const e=p[t];if(0===e||1===e)continue;const s=qn(e,d.getStartPointIndex());f.push(s)}}}}else{const s=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D.constructEmpty();if(t.queryLooseEnvelope(s),s.inflateCoords(r,r),!i.isIntersecting(s))continue;for(d.resetToFirstPath();d.nextPath();)for(;d.hasNextSegment();){const n=d.nextSegment(),i=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D.constructEmpty();if(n.queryLooseEnvelope(i),!i.isIntersecting(s))continue;const o=n.intersect(t,null,p,null,r);for(let e=0;e<o;e++){const t=p[e];if(0===t||1===t)continue;const s=qn(t,d.getStartPointIndex());f.push(s)}}}}if(0===f.length)return t;f.sort(((e,t)=>e.index<t.index?-1:e.index>t.index?1:e.t<t.t?-1:e.t>t.t?1:0));const x=t.createInstance();if(x.getGeometryType()===_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumPolygon){x.setFillRule(t.getFillRule())}for(d.resetToFirstPath();d.nextPath()&&!d.hasNextSegment(););(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(d.hasNextSegment());let y=d.nextSegment();const P=new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.S;let E=-1;for(let e=0,n=f.length;e<n;){const t=f[e].index;let s=e+1;for(;s<n&&f[s].index===t;)++s;for(;d.getStartPointIndex()<t;){this.progress_();const e=d.hasNextSegment(),t=d.getPathIndex();if((e||!d.isClosingSegment()||d.isCurve())&&((0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(null!==y),x.addSegment(y,E!==t)),E=t,!e){for(d.isPathClosed();d.nextPath()&&!d.hasNextSegment(););(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(d.hasNextSegment())}y=d.nextSegment()}let r=0;for(let n=e;n<s;n++){const e=f[n].t;if(e===r)continue;(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(null!==y),y.queryCut(r,e,P),r=e;const t=d.getPathIndex();x.addSegment(P.get(),E!==t),E=t}const i=d.hasNextSegment();if((i||!d.isClosingSegment()||d.isCurve())&&((0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(null!=y),y.queryCut(r,1,P),x.addSegment(P.get(),!1)),i)y=d.nextSegment();else{for(;d.nextPath()&&!d.hasNextSegment(););y=d.hasNextSegment()?d.nextSegment():null}e=s}if(null!==y){const e=d.getPathIndex();(d.hasNextSegment()||!d.isClosingSegment()||d.isCurve())&&x.addSegment(y,E!==e),E=e}let S=d.hasNextSegment();for(;;){if(!S){for(;d.nextPath()&&(S=d.hasNextSegment(),!S););if(!S)break}y=d.nextSegment();const e=d.getPathIndex();S=d.hasNextSegment();(S||!d.isClosingSegment()||d.isCurve())&&x.addSegment(y,E!==e),E=e}return x}constructor(e){this.m_shape=null,this.m_progressTracker=null,this.m_nonSimpleResult=new _OperatorDefinitions_js__WEBPACK_IMPORTED_MODULE_10__.NonSimpleResult,this.m_tolerance=0,this.m_sweepComparator=null,this.m_progressCounter=0,this.m_bTrackChanges=!1,this.m_bNeedsNonSimpleResult=!1,this.m_bAllowCoincident=!0,this.m_sweepStructure=new _Envelope_js__WEBPACK_IMPORTED_MODULE_3__.T,this.m_progressTracker=e}}function On(e,t){const s=e.getPointCount();if(s<16)return!1;const n=1;return 2*s+1*(Math.log(s)/Math.log(2))*t<n*s*t}Bn.s_bForceBruteForce=!0;class Yn{constructor(e,t){this.m_monotoneParts=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.m)(_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.S,16),this.m_xOrds=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.d)(16,Number.NaN),this.m_inputPoint=_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P.getNAN(),this.m_miny=0,this.m_maxy=0,this.m_windnum=0,this.m_bAlternate=e,this.m_tolerance=t,this.m_toleranceSqr=t*t,this.m_bTestBorder=!!t,this.m_bBreak=!1}_DoOne(e){if(!this.m_bTestBorder&&(this.m_bAlternate&&this.m_inputPoint.equals(e.getStartXY())||this.m_inputPoint.equals(e.getEndXY())))return void(this.m_bBreak=!0);if(e.getStartY()===this.m_inputPoint.y&&e.getStartY()===e.getEndY()){if(this.m_bAlternate&&!this.m_bTestBorder){const t=Math.min(e.getStartX(),e.getEndX()),s=Math.max(e.getStartX(),e.getEndX());this.m_inputPoint.x>t&&this.m_inputPoint.x<s&&(this.m_bBreak=!0)}return}let t=!1;const s=Math.max(e.getStartX(),e.getEndX());if(this.m_inputPoint.x>s)t=!0;else if(this.m_inputPoint.x>=Math.min(e.getStartX(),e.getEndX())){const n=e.intersectionOfYMonotonicWithAxisX(this.m_inputPoint.y,s);t=!Number.isNaN(n)&&n<=this.m_inputPoint.x}if(t){if(this.m_inputPoint.y===e.getStartY()){if(this.m_inputPoint.y<e.getEndY())return}else if(this.m_inputPoint.y===e.getEndY()&&this.m_inputPoint.y<e.getStartY())return;this.m_bAlternate?this.m_windnum^=1:this.m_windnum+=e.getStartY()>e.getEndY()?1:-1}}_Result(){return!!this.m_windnum}testBorder(e){const t=e.getClosestCoordinate(this.m_inputPoint,!1),s=e.getCoord2D(t);return _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P.sqrDistance(s,this.m_inputPoint)<=this.m_toleranceSqr}setInputPoint(e){this.m_inputPoint.setCoordsPoint2D(e),this.m_miny=e.y-this.m_tolerance,this.m_maxy=e.y+this.m_tolerance}processSegment(e){const t=e.queryInterval(0,1);if(t.vmin>this.m_maxy||t.vmax<this.m_miny)return!1;if(this.m_bTestBorder&&this.testBorder(e))return!0;if(t.vmin>this.m_inputPoint.y||t.vmax<this.m_inputPoint.y)return!1;let s=0;if(e.isCurve()&&(0===this.m_monotoneParts.length&&(this.m_monotoneParts.length=128),s=e.getMonotonicParts(this.m_monotoneParts,!0),(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(this.m_monotoneParts.length>=s)),s>0)for(let n=0;n<s;n++){const e=this.m_monotoneParts[n].get(),t=_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.E.construct(e.getStartY(),e.getEndY());if(!(t.vmin>this.m_inputPoint.y||t.vmax<this.m_inputPoint.y)&&(this._DoOne(e),this.m_bBreak))return!0}else if(this._DoOne(e),this.m_bBreak)return!0;return!1}result(){return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(0),2}}function Rn(t,s,n,r){const i=new _Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D;t.queryLooseEnvelope(i),i.inflateCoords(r,r);const o=0===t.getFillRule(),a=new Yn(o,r);a.setInputPoint(n);const h=i.clone();h.xmax=n.x+r,h.ymin=n.y-r,h.ymax=n.y+r;const m=t.getImpl().querySegmentIterator(),l=s.getIterator(h,r);for(let e=l.next();-1!==e;e=l.next())if(m.resetToVertex(s.getElement(e),-1),m.hasNextSegment()){const e=m.nextSegment();if(a.processSegment(e))return-1}return a._Result()?1:0}function Xn(e,t,s){const n=0===e.getFillRule(),r=new Yn(n,s);r.setInputPoint(t);const i=e.getImpl().querySegmentIterator();for(;i.nextPath();)for(;i.hasNextSegment();){const e=i.nextSegment();if(r.processSegment(e))return-1}return r._Result()?1:0}function Ln(e,t,s){return t.isEmpty()?0:zn(e,t.getXY(),s)}function zn(t,s,n){if(t.isEmpty())return 0;const r=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D.constructEmpty();if(t.queryLooseEnvelope(r),r.inflateCoords(n,n),!r.contains(s))return 0;const i=t.getImpl().getAccelerators();if(i){i.getRasterizedGeometry()&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(0);const e=i.getQuadTree();if(e)return Rn(t,e,s,n)}return Xn(t,s,n)}function Wn(e,t){const s=e.getPointCount();if(s<16)return!1;const n=1;return 2*s+1*(Math.log(s)/Math.log(2))*t<n*s*t}function jn(e,t,s,n,r){const i=new $n(r);return i.m_shape=e,i.m_geometry=t,i.m_sortedVertices=s,i.m_bFixSelfTangency=n,i.fixRingOrientation_()}function Zn(e,t,s){const n=new $n(s);return n.m_shape=e,n.m_geometry=t,n.m_sortedVertices=null,n.m_bFixSelfTangency=!1,n.fixRingOrientationForMp2sp_()}class Kn{getDirection_(e){return this.m_shape.getNextVertex(this.getEnd1(e))===this.getEnd2(e)}getEnd_(e){const t=this.getEnd1(e),s=this.getEnd2(e);return this.m_shape.getNextVertex(t)===s?s:t}constructor(e){this.m_end1Nodes=[],this.m_end2Nodes=[],this.m_directions=[],this.m_shape=e,this.m_firstFree=-1}getSegment(e){return this.m_shape.getSegment(this.getStart(e))}isBottomUp(e){let t=this.getEnd1(e),s=this.getEnd2(e);this.m_shape.getPrevVertex(t)===s&&(s=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.c)(t,t=s));const n=_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P.getNAN(),r=_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P.getNAN();return this.m_shape.queryXY(t,n),this.m_shape.queryXY(s,r),(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(!n.equals(r)),n.y<r.y}getStart(e){const t=this.getEnd1(e),s=this.getEnd2(e);return this.m_shape.getNextVertex(t)===s?t:s}getEnd1(e){return this.m_end1Nodes[e]}getEnd2(e){return this.m_end2Nodes[e]}freeEdge(e){this.m_end1Nodes[e]=this.m_firstFree,this.m_firstFree=e}newEdge(e){if(-1!==this.m_firstFree){const t=this.m_firstFree;return this.m_firstFree=this.m_end1Nodes[t],this.m_end1Nodes[t]=e,this.m_end2Nodes[t]=this.m_shape.getNextVertex(e),t}const t=this.m_end1Nodes.length;return this.m_end1Nodes.push(e),this.m_end2Nodes.push(this.m_shape.getNextVertex(e)),t}getShape(){return this.m_shape}getPath(e){return this.m_shape.getPathFromVertex(this.getEnd1(e))}}let Qn=class extends _Envelope_js__WEBPACK_IMPORTED_MODULE_3__.a3{constructor(e){super(),this.m_line1=new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.L,this.m_line2=new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.L,this.m_leftElm=-1,this.m_leftx=0,this.m_seg1=null,this.m_helper=e}compare(e,t,s){const n=e.getElement(s),r=this.m_helper.m_edges;let i;if(this.m_leftElm===t)i=this.m_leftx;else{if(this.m_seg1=r.getSegment(t),this.m_seg1)i=this.m_seg1.intersectionOfYMonotonicWithAxisX(this.m_helper.m_yScanline,0);else{r.getShape().queryLineConnector(r.getStart(t),this.m_line1,!0),this.m_seg1=this.m_line1,i=this.m_line1.intersectionOfYMonotonicWithAxisX(this.m_helper.m_yScanline,0)}this.m_leftx=i,this.m_leftElm=t}let o,a=r.getSegment(n);if(a)o=a.intersectionOfYMonotonicWithAxisX(this.m_helper.m_yScanline,0);else{r.getShape().queryLineConnector(r.getStart(n),this.m_line2,!0),a=this.m_line2,o=this.m_line2.intersectionOfYMonotonicWithAxisX(this.m_helper.m_yScanline,0)}if(i===o){const e=r.isBottomUp(t),s=r.isBottomUp(n),h=e?this.m_seg1.getEndY():this.m_seg1.getStartY(),m=s?a.getEndY():a.getStartY(),l=Math.min(h,m);let g=.5*(l+this.m_helper.m_yScanline);g===this.m_helper.m_yScanline&&(g=l),i=this.m_seg1.intersectionOfYMonotonicWithAxisX(g,0),o=a.intersectionOfYMonotonicWithAxisX(g,0),i===o&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.w)("")}return i<o?-1:i>o?1:0}reset(){this.m_leftElm=-1}};class Jn{constructor(e){this.m_node=-1,this.m_index=0,this.m_sortedVertices=e.m_sortedVertices,this.m_sortedVerticesArray=e.m_sortedVerticesArray,this.m_sortedVertices&&(this.m_node=this.m_sortedVertices.getFirst(this.m_sortedVertices.getFirstList()))}next(){if(this.m_sortedVertices){const e=this.m_node;if(-1===e)return _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n;const t=this.m_sortedVertices.getData(e);return this.m_node=this.m_sortedVertices.getNext(e),t}if(this.m_index<this.m_sortedVerticesArray.size()){const e=this.m_sortedVerticesArray.read(this.m_index);return this.m_index++,e}return _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n}}class $n{constructor(e){this.m_edges=null,this.m_shape=null,this.m_AET=new _Envelope_js__WEBPACK_IMPORTED_MODULE_3__.T,this.m_yScanline=0,this.m_geometry=_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n,this.m_unknownRingOrientationCount=-1,this.m_sortedVertices=null,this.m_sortedVerticesArray=null,this.m_unknownNodes=[],this.m_node1UserIndex=-1,this.m_node2UserIndex=-1,this.m_pathOrientationIndex=-1,this.m_pathParentageIndex=-1,this.m_pathParentsIndex=-1,this.m_progressCounter=0,this.m_bFixSelfTangency=!1,this.m_progressTracker=e,this.m_AET.disableBalancing(),this.m_sweepComparator=new Qn(this),this.m_AET.setComparator(this.m_sweepComparator)}fixRingOrientation_(){const e=this.fixRingOrientationImplMain_();return-1===this.m_pathOrientationIndex||this.fixRingOrientationImplSimplify_(),e}fixRingOrientationForMp2sp_(){return this.fixRingOrientationImplMain_(),-1===this.m_pathOrientationIndex?-1:this.fixRingOrientationImplMp2sp_()}processBunchForRingOrientationTest_(e){return this.processBunchForRingOrientationTestOddEven_(e)}processBunchForRingOrientationTestOddEven_(e){let t=!1;if(this.m_edges||(this.m_edges=new Kn(this.m_shape)),this.m_unknownNodes.length=0,this.processBunchForRingOrientationRemoveEdges_(e),!this.m_AET.isAutoBalancing()){let t=0;for(let s=0,n=e.length;s<n;s++){-1!==e[s]&&t++}(t>10||this.m_AET.getMaxDepthEver()>4)&&this.m_AET.enableBalancing()}for(let s=0,n=e.length;s<n;s++){const t=e[s];t!==_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n&&this.insertEdge_(t,-1)}for(let s=0;s<this.m_unknownNodes.length&&this.m_unknownRingOrientationCount>0;s++){const e=this.m_unknownNodes[s],n=this.m_AET.getElement(e),r=this.m_edges.getPath(n),i=this.m_shape.getPathUserIndex(r,this.m_pathOrientationIndex);let o=_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n;if(0===i){let s=this.m_AET.getPrev(e),n=e,r=!1;for(;s!==_Envelope_js__WEBPACK_IMPORTED_MODULE_3__.T.st_nullNode();){const e=this.m_AET.getElement(s),t=this.m_edges.getPath(e);if(0!==this.m_shape.getPathUserIndex(t,this.m_pathOrientationIndex)){o=t;break}n=s,s=this.m_AET.getPrev(s)}if(s===_Envelope_js__WEBPACK_IMPORTED_MODULE_3__.T.st_nullNode())r=!0,s=n;else{const e=this.m_AET.getElement(s);r=this.m_edges.isBottomUp(e),s=this.m_AET.getNext(s),r=!r}do{const e=this.m_AET.getElement(s),i=this.m_edges.getPath(e);if(0===this.m_shape.getPathUserIndex(i,this.m_pathOrientationIndex)){if(r!==this.m_edges.isBottomUp(e)){const e=this.m_shape.getFirstVertex(i);this.m_shape.reverseRingInternal(e),this.m_shape.setLastVertex(i,this.m_shape.getPrevVertex(e)),t=!0}if(this.m_shape.setPathUserIndex(i,this.m_pathOrientationIndex,r?3:2),!r){let e=this.m_shape.getPathUserIndex(o,this.m_pathOrientationIndex);2===e?(o=this.m_shape.getPathUserIndex(o,this.m_pathParentsIndex),e=this.m_shape.getPathUserIndex(o,this.m_pathOrientationIndex),(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(3===e)):(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(3===e);const t=this.m_shape.getPathUserIndex(o,this.m_pathParentageIndex);this.m_shape.setPathUserIndex(o,this.m_pathParentageIndex,i),this.m_shape.setPathUserIndex(i,this.m_pathParentageIndex,t),this.m_shape.setPathUserIndex(i,this.m_pathParentsIndex,o)}if(this.m_unknownRingOrientationCount--,!this.m_unknownRingOrientationCount)return t}o=i,n=s,s=this.m_AET.getNext(s),r=!r}while(n!==e)}}return t}processBunchForRingOrientationRemoveEdges_(e){for(let t=0,s=e.length;t<s;t++){const s=e[t],n=this.m_shape.getUserIndex(s,this.m_node1UserIndex),r=this.m_shape.getUserIndex(s,this.m_node2UserIndex);if(-1!==n){const e=this.m_AET.getElement(n);this.m_edges.freeEdge(e),this.m_shape.setUserIndex(s,this.m_node1UserIndex,-1)}if(-1!==r){const e=this.m_AET.getElement(r);this.m_edges.freeEdge(e),this.m_shape.setUserIndex(s,this.m_node2UserIndex,-1)}let i=-1;-1!==n&&-1!==r?(this.m_AET.deleteNode(n),this.m_AET.deleteNode(r),e[t]=_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n):i=-1!==n?n:r,-1!==i&&(this.insertEdge_(s,i)||this.m_AET.deleteNode(i),e[t]=_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n)}}dbgVerifyRingOrientation_(){}insertEdge_(e,t){const s=_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P.getNAN(),n=_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P.getNAN();this.m_shape.queryXY(e,s);const r=this.m_shape.getNextVertex(e);this.m_shape.queryXY(r,n);let i=!1;if(s.y<n.y){i=!0;const s=this.m_edges.newEdge(e);let n;-1===t?n=this.m_AET.addElement(s):(n=t,this.m_AET.setElement(n,s));-1===this.m_shape.getUserIndex(r,this.m_node1UserIndex)?this.m_shape.setUserIndex(r,this.m_node1UserIndex,n):this.m_shape.setUserIndex(r,this.m_node2UserIndex,n);const o=this.m_shape.getPathFromVertex(e);0===this.m_shape.getPathUserIndex(o,this.m_pathOrientationIndex)&&this.m_unknownNodes.push(n)}const o=this.m_shape.getPrevVertex(e);if(this.m_shape.queryXY(o,n),s.y<n.y){i=!0;const s=this.m_edges.newEdge(o);let n;-1===t?n=this.m_AET.addElement(s):(n=t,this.m_AET.setElement(n,s));-1===this.m_shape.getUserIndex(o,this.m_node1UserIndex)?this.m_shape.setUserIndex(o,this.m_node1UserIndex,n):this.m_shape.setUserIndex(o,this.m_node2UserIndex,n);const r=this.m_shape.getPathFromVertex(e);0===this.m_shape.getPathUserIndex(r,this.m_pathOrientationIndex)&&this.m_unknownNodes.push(n)}return i}fixRingSelfTangency_(){const e=[],t=[];let s=-1,n=-1;const r=new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P;let i=_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n,o=_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n,h=-1;const m=new Jn(this);for(let a=m.next();a!==_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n;a=m.next()){const m=new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P;this.m_shape.queryXY(a,m);const l=this.m_shape.getPathFromVertex(a);if(r.equals(m)&&o===l){if(-1===n&&(s=this.m_shape.createPathUserIndex(),this.m_shape.fillPathUserIndexForGeometry(this.m_geometry,s,-1),n=this.m_shape.createUserIndex(),this.m_shape.fillUserIndexForGeometry(this.m_geometry,n,-1)),-1===h){h=t.length,this.m_shape.setUserIndex(i,n,h),t.push(1);-1===this.m_shape.getPathUserIndex(l,s)&&(this.m_shape.setPathUserIndex(l,s,i),e.push(l))}this.m_shape.setUserIndex(a,n,h),t[t.length-1]++}else h=-1,r.assign(m);i=a,o=l}if(0===e.length)return!1;(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(-1!==s);for(let a=0,l=e.length;a<l;a++){const r=e[a];let i=this.m_shape.getPathUserIndex(r,s);const o=this.m_shape.getUserIndex(i,n),h=[],m=[];h.push(i),m.push(o);for(let e=this.m_shape.getNextVertex(i);e!==i;e=this.m_shape.getNextVertex(e)){const s=e,r=this.m_shape.getUserIndex(s,n);if(-1!==r){if(0===m.length){m.push(r),h.push(s);continue}if(m.at(-1)===r){const o=h.at(-1);this.m_shape.peelALoopIntoAPath(o,s),this.m_shape.setUserIndex(e,n,-1),t[r]--,1===t[r]&&(t[r]=0,m.pop(),h.pop()),i=o,e=o}else h.push(e),m.push(r)}}}return this.m_shape.removePathUserIndex(s),this.m_shape.removeUserIndex(n),this.m_shape.dbgVerifyVertexCounts(),!0}progress_(e=!1){}fixRingOrientationImplMain_(){const e={stack:[],error:void 0,hasError:!1};try{let t,s=!1;const n=(0,_tslib_es6_js__WEBPACK_IMPORTED_MODULE_5__.b)(e,(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.h)((()=>{this.m_sortedVerticesArray=null})),!1);if(null===this.m_sortedVertices){const e=this.m_shape.getPointCount(this.m_geometry);t=new _Envelope_js__WEBPACK_IMPORTED_MODULE_3__.A(0);for(let s=this.m_shape.getFirstPath(this.m_geometry);s!==_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n;s=this.m_shape.getNextPath(s)){let e=this.m_shape.getFirstVertex(s);for(let n=0,r=this.m_shape.getPathSize(s);n<r;n++)t.add(e),e=this.m_shape.getNextVertex(e)}this.m_shape.sortVerticesSimpleByY(t,0,e),this.progress_(!0),this.m_sortedVerticesArray=t}else n.bForget=!0;if(this.m_bFixSelfTangency&&(s=this.fixRingSelfTangency_()),1===this.m_shape.getPathCount(this.m_geometry)){const e=this.m_shape.getFirstPath(this.m_geometry),t=this.m_shape.getRingArea(e);if(this.m_shape.setExterior(e,!0),t<0){const t=this.m_shape.getFirstVertex(e);return this.m_shape.reverseRingInternal(t),this.m_shape.setLastVertex(e,this.m_shape.getPrevVertex(t)),!0}return!1}this.m_shape.dbgVerifyCurves(),this.m_pathOrientationIndex=this.m_shape.createPathUserIndex(),this.m_pathParentageIndex=this.m_shape.createPathUserIndex(),this.m_pathParentsIndex=this.m_shape.createPathUserIndex();for(let e=this.m_shape.getFirstPath(this.m_geometry);e!==_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n;e=this.m_shape.getNextPath(e))this.m_shape.setPathUserIndex(e,this.m_pathOrientationIndex,0),this.m_shape.setPathUserIndex(e,this.m_pathParentageIndex,-1),this.m_shape.setPathUserIndex(e,this.m_pathParentsIndex,-1);const r=[];this.m_yScanline=Number.NaN;const i=_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P.getNAN();this.m_unknownRingOrientationCount=this.m_shape.getPathCount(this.m_geometry),this.m_node1UserIndex=this.m_shape.createUserIndexUninitialized(),this.m_shape.fillUserIndexForGeometry(this.m_geometry,this.m_node1UserIndex,-1),this.m_node2UserIndex=this.m_shape.createUserIndexUninitialized(),this.m_shape.fillUserIndexForGeometry(this.m_geometry,this.m_node2UserIndex,-1);const o=new Jn(this);for(let e=o.next();e!==_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n&&(this.progress_(),this.m_shape.queryXY(e,i),i.y!==this.m_yScanline&&r.length&&(s=this.processBunchForRingOrientationTest_(r)||s,this.m_sweepComparator.reset(),r.length=0),r.push(e),this.m_yScanline=i.y,0!==this.m_unknownRingOrientationCount);e=o.next());return this.m_unknownRingOrientationCount>0&&(s=this.processBunchForRingOrientationTest_(r)||s,r.length=0),this.m_shape.removeUserIndex(this.m_node1UserIndex),this.m_shape.removeUserIndex(this.m_node2UserIndex),this.dbgVerifyRingOrientation_(),s}catch(t){e.error=t,e.hasError=!0}finally{(0,_tslib_es6_js__WEBPACK_IMPORTED_MODULE_5__.c)(e)}}fixRingOrientationImplSimplify_(){const e=[];for(let t=this.m_shape.getFirstPath(this.m_geometry);t!==_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n;)if(this.progress_(),3===this.m_shape.getPathUserIndex(t,this.m_pathOrientationIndex)){this.m_shape.setExterior(t,!0);for(let r=this.m_shape.getPathUserIndex(t,this.m_pathParentageIndex);r!==_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n;){const s=this.m_shape.getPathUserIndex(r,this.m_pathParentageIndex);e.push(r),this.m_shape.setExterior(r,!1),this.m_shape.setPathUserIndex(r,this.m_pathParentageIndex,t),r=s}let s=t,n=e.length;for(let e=this.m_shape.getNextPath(t);n>0&&e!==_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n;e=this.m_shape.getNextPath(e),--n){if(this.m_shape.getPathUserIndex(e,this.m_pathParentageIndex)!==t){s=_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n;break}s=e}if(0!==n){s=t;for(let t=0,n=e.length;t<n;t++){const n=e[t];this.m_shape.setPathUserIndex(n,this.m_pathParentageIndex,_Envelope_js__WEBPACK_IMPORTED_MODULE_3__.a6),this.m_shape.movePath(this.m_geometry,this.m_shape.getNextPath(s),n),s=n}}e.length=0,t=this.m_shape.getNextPath(s)}else t=this.m_shape.getNextPath(t);this.m_shape.removePathUserIndex(this.m_pathOrientationIndex),this.m_shape.removePathUserIndex(this.m_pathParentageIndex),this.m_shape.removePathUserIndex(this.m_pathParentsIndex)}fixRingOrientationImplMp2sp_(){const e=this.m_shape.createPathUserIndex();let t=0;const s=[];for(let n=this.m_shape.getFirstPath(this.m_geometry);n!==_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n;)if(this.progress_(),3===this.m_shape.getPathUserIndex(n,this.m_pathOrientationIndex)){this.m_shape.setExterior(n,!0),this.m_shape.setPathUserIndex(n,e,t),t++;for(let e=this.m_shape.getPathUserIndex(n,this.m_pathParentageIndex);e!==_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n;){const t=this.m_shape.getPathUserIndex(e,this.m_pathParentageIndex);s.push(e),this.m_shape.setExterior(e,!1),this.m_shape.setPathUserIndex(e,this.m_pathParentageIndex,n),e=t}let r=n,i=s.length,o=t;for(let t=this.m_shape.getNextPath(n);i>0&&t!==_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n;t=this.m_shape.getNextPath(t),--i){if(this.m_shape.getPathUserIndex(t,this.m_pathParentageIndex)!==n){r=_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n;break}r=t,this.m_shape.setPathUserIndex(t,e,-o),o++}if(0!==i){r=n,o=t;for(let t=0,n=s.length;t<n;t++){const n=s[t];this.m_shape.setPathUserIndex(n,e,-o),o++,this.m_shape.setPathUserIndex(n,this.m_pathParentageIndex,_Envelope_js__WEBPACK_IMPORTED_MODULE_3__.a6)}r=n}t=o,s.length=0,n=this.m_shape.getNextPath(r)}else n=this.m_shape.getNextPath(n);return this.m_shape.removePathUserIndex(this.m_pathOrientationIndex),this.m_shape.removePathUserIndex(this.m_pathParentageIndex),this.m_shape.removePathUserIndex(this.m_pathParentsIndex),e}}function er(e,t,s,n,r,i){const o=new tr(i);return o.m_shape=e,o.m_geometry=t,o.m_knownSimpleResult=s,o.m_bFixSelfTangency=n,o.m_polylineDegeneracies=r,o.m_bHasSegmentParentage=e.hasSegmentParentage(),o.m_bHasSegments=e.hasCurves(),o.simplify_()}class tr{constructor(e){this.m_shape=null,this.m_geometry=_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n,this.m_sortedVertices=new _Envelope_js__WEBPACK_IMPORTED_MODULE_3__.N,this.m_bunchEdgeEndPoints=[],this.m_bunchEdgeCenterPoints=[],this.m_bunchEdgeIndices=[],this.m_sorterSegmentBuffer1=null,this.m_sorterSegmentBuffer2=null,this.m_knownSimpleResult=-1,this.m_sortedVerticesListIndex=-1,this.m_polylineDegeneracies=_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n,this.m_userIndexSortedIndexToVertex=-1,this.m_userIndexSortedAngleIndexToVertex=-1,this.m_nextVertexToProcess=-1,this.m_firstCoincidentVertex=-1,this.m_progressCounter=0,this.m_bFixSelfTangency=!1,this.m_bHasSegmentParentage=!1,this.m_bHasSegments=!1,this.m_progressTracker=e}compareAngles_(e,t){return this.m_bHasSegments?this.compareAnglesCurves_(e,t):this.compareAnglesLines_(e,t)}compareAnglesLines_(e,t){const s=this.m_bunchEdgeEndPoints[e],n=new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P;this.m_shape.queryXY(s,n);const r=new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P,i=this.m_bunchEdgeEndPoints[t];if(this.m_shape.queryXY(i,r),n.equals(r))return 0;const o=this.m_bunchEdgeCenterPoints[e],a=new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P;this.m_shape.queryXY(o,a);const h=this.m_bunchEdgeCenterPoints[t],m=new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P;this.m_shape.queryXY(h,m);const l=new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P;l.setSub(n,a);const g=new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P;g.setSub(r,m),(l.isZero()||g.isZero())&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.w)("");return _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P.compareVectors(l,g)}compareAnglesCurves_(e,t){const s=this.m_bunchEdgeEndPoints[e],n=this.m_bunchEdgeEndPoints[t],r=this.m_bunchEdgeCenterPoints[e],i=this.m_bunchEdgeCenterPoints[t],o=this.m_shape.getNextVertex(r)===s,a=this.m_shape.getNextVertex(i)===n,h=o?this.m_shape.isCurve(r):this.m_shape.isCurve(s),m=a?this.m_shape.isCurve(i):this.m_shape.isCurve(n);if(!h&&!m)return this.compareAnglesLines_(e,t);this.m_sorterSegmentBuffer1||(this.m_sorterSegmentBuffer1=new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.S),this.m_sorterSegmentBuffer2||(this.m_sorterSegmentBuffer2=new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.S),o?this.m_shape.querySegment(r,this.m_sorterSegmentBuffer1,!1,!0):(this.m_shape.querySegment(s,this.m_sorterSegmentBuffer1,!1,!0),this.m_sorterSegmentBuffer1.get().reverse()),a?this.m_shape.querySegment(i,this.m_sorterSegmentBuffer2,!1,!0):(this.m_shape.querySegment(n,this.m_sorterSegmentBuffer2,!1,!0),this.m_sorterSegmentBuffer2.get().reverse());return (0,_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.R)(this.m_sorterSegmentBuffer1.get(),this.m_sorterSegmentBuffer2.get())}beforeRemoveVertex_(e,t){const s=this.m_shape.getUserIndex(e,this.m_userIndexSortedIndexToVertex);if(this.m_nextVertexToProcess===s&&(this.m_nextVertexToProcess=this.m_sortedVertices.getNext(this.m_nextVertexToProcess)),this.m_firstCoincidentVertex===s&&(this.m_firstCoincidentVertex=this.m_sortedVertices.getNext(this.m_firstCoincidentVertex)),this.m_sortedVertices.deleteElement(this.m_sortedVerticesListIndex,s),this.removeAngleSortInfo_(e),t){const t=this.m_shape.getPathFromVertex(e);if(t!==_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n){if(this.m_shape.getFirstVertex(t)===e){const s=this.m_shape.getNextVertex(e);if(s!==e){if(this.m_shape.getPathFromVertex(s)===t)return void this.m_shape.setFirstVertex(t,s);{const s=this.m_shape.getPrevVertex(e);if(s!==e){if(this.m_shape.getPathFromVertex(s)===t)return void this.m_shape.setFirstVertex(t,s)}}}this.m_shape.setFirstVertex(t,_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n),this.m_shape.setLastVertex(t,_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n)}}}}processBunch_(){let e=!1;const t=new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P(0,0);for(;;){this.m_bunchEdgeEndPoints.length=0,this.m_bunchEdgeCenterPoints.length=0,this.m_bunchEdgeIndices.length=0;let s=this.m_firstCoincidentVertex,n=0,r=!0;for(;s!==this.m_nextVertexToProcess;){const e=this.m_sortedVertices.getData(s);r&&(this.m_shape.queryXY(e,t),r=!1);const i=this.m_shape.getPrevVertex(e),o=this.m_shape.getNextVertex(e);this.m_shape.getUserIndex(i,this.m_userIndexSortedAngleIndexToVertex)!==_Envelope_js__WEBPACK_IMPORTED_MODULE_3__.a6&&(this.m_bunchEdgeEndPoints.push(i),this.m_shape.setUserIndex(i,this.m_userIndexSortedAngleIndexToVertex,_Envelope_js__WEBPACK_IMPORTED_MODULE_3__.a6),this.m_bunchEdgeCenterPoints.push(e),this.m_bunchEdgeIndices.push(n++));this.m_shape.getUserIndex(o,this.m_userIndexSortedAngleIndexToVertex)!==_Envelope_js__WEBPACK_IMPORTED_MODULE_3__.a6&&(this.m_bunchEdgeEndPoints.push(o),this.m_shape.setUserIndex(o,this.m_userIndexSortedAngleIndexToVertex,_Envelope_js__WEBPACK_IMPORTED_MODULE_3__.a6),this.m_bunchEdgeCenterPoints.push(e),this.m_bunchEdgeIndices.push(n++)),s=this.m_sortedVertices.getNext(s)}if(this.m_bunchEdgeEndPoints.length<2){1===this.m_bunchEdgeEndPoints.length&&this.m_shape.setUserIndex(this.m_bunchEdgeEndPoints[0],this.m_userIndexSortedAngleIndexToVertex,-1);break}this.m_bunchEdgeIndices.sort(((e,t)=>this.compareAngles_(e,t)));for(let e=0,t=this.m_bunchEdgeIndices.length;e<t;e++){const t=this.m_bunchEdgeIndices[e],s=this.m_bunchEdgeEndPoints[t];this.m_shape.setUserIndex(s,this.m_userIndexSortedAngleIndexToVertex,e)}const i=this.processCrossOvers_(t);for(let e=0,t=this.m_bunchEdgeIndices.length;e<t;e++){const t=this.m_bunchEdgeIndices[e];if(-1===t)continue;const s=this.m_bunchEdgeEndPoints[t];this.m_shape.setUserIndex(s,this.m_userIndexSortedAngleIndexToVertex,-1)}if(!i)break;e=!0}return e}processCrossOvers_(e){let t=!1,s=!0;for(;s;){s=!1;let n=0;-1===this.m_bunchEdgeIndices[n]&&(n=this.getNextEdgeIndex_(n));let r=this.getNextEdgeIndex_(n);for(let i=0,o=this.m_bunchEdgeIndices.length;i<o&&-1!==n&&-1!==r&&n!==r;i++){const i=this.m_bunchEdgeIndices[n],o=this.m_bunchEdgeIndices[r],a=this.m_bunchEdgeEndPoints[i],h=this.m_bunchEdgeEndPoints[o];let m=this.m_shape.getNextVertex(a),l=!1;this.m_shape.isEqualXYPoint2D(m,e)||(m=this.m_shape.getPrevVertex(a),l=!0);let g=this.m_shape.getNextVertex(h),u=!1;this.m_shape.isEqualXYPoint2D(g,e)||(g=this.m_shape.getPrevVertex(h),u=!0);const c=l?this.m_shape.getPrevVertex(m):this.m_shape.getNextVertex(m),_=u?this.m_shape.getPrevVertex(g):this.m_shape.getNextVertex(g);let d=!1;(this.removeSpike_(m)||this.removeSpike_(g)||this.removeSpike_(a)||this.removeSpike_(h)||this.removeSpike_(c)||this.removeSpike_(_))&&(d=!0),m!==g&&(!d&&this.m_shape.isEqualXY(a,h)&&(d=this.resolveOverlap_(l,u,m,a,g,h)),!d&&this.m_shape.isEqualXY(c,_)&&(d=this.resolveOverlap_(!l,!u,m,c,g,_)),!d&&this.m_shape.isEqualXY(a,_)&&(d=this.resolveOverlap_(l,!u,m,a,g,_)),!d&&this.m_shape.isEqualXY(c,h)&&(d=this.resolveOverlap_(!l,u,m,c,g,h))),d&&(t=!0),s||=d,n=d?this.getNextEdgeIndex_(n):r,r=this.getNextEdgeIndex_(n)}}if(!t){let s=0;-1===this.m_bunchEdgeIndices[s]&&(s=this.getNextEdgeIndex_(s));let n=this.getNextEdgeIndex_(s);for(let r=0,i=this.m_bunchEdgeIndices.length;r<i&&-1!==s&&-1!==n&&s!==n;r++){const r=this.m_bunchEdgeIndices[s],i=this.m_bunchEdgeIndices[n],o=this.m_bunchEdgeEndPoints[r],a=this.m_bunchEdgeEndPoints[i];let h=this.m_shape.getNextVertex(o);this.m_shape.isEqualXYPoint2D(h,e)||(h=this.m_shape.getPrevVertex(o));let m=this.m_shape.getNextVertex(a);this.m_shape.isEqualXYPoint2D(m,e)||(m=this.m_shape.getPrevVertex(a));const l=this.getDirection_(h,o),g=this.getDirection_(m,a),u=l?this.m_shape.getPrevVertex(h):this.m_shape.getNextVertex(h),c=g?this.m_shape.getPrevVertex(m):this.m_shape.getNextVertex(m),_=this.detectAndResolveCrossOver_(l,g,o,h,u,a,m,c);1!==_?0===_?(s=this.getNextEdgeIndex_(s),n=this.getNextEdgeIndex_(s)):(s=this.getPrevEdgeIndex_(s),n=this.getNextEdgeIndex_(s)):t=!0}}return t}simplify_(){if(this.m_shape.getGeometryType(this.m_geometry)===_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumPolygon&&1===this.m_shape.getFillRule(this.m_geometry)){new Ka(this.m_progressTracker).planarSimplifyNoCrackingAndCluster(this.m_bFixSelfTangency,this.m_shape,this.m_geometry,0)}let e=!1;this.m_userIndexSortedIndexToVertex=-1,this.m_userIndexSortedAngleIndexToVertex=-1,this.m_userIndexSortedAngleIndexToVertex=this.m_shape.createUserIndexUninitialized();const t=this.m_shape.getPointCount(this.m_geometry),s=new _Envelope_js__WEBPACK_IMPORTED_MODULE_3__.A(0);this.m_shape.dbgVerifyMonotone();for(let n=this.m_shape.getFirstPath(this.m_geometry);n!==_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n;n=this.m_shape.getNextPath(n)){let e=this.m_shape.getFirstVertex(n);for(let t=0,r=this.m_shape.getPathSize(n);t<r;t++)this.m_shape.setUserIndex(e,this.m_userIndexSortedAngleIndexToVertex,-1),s.add(e),e=this.m_shape.getNextVertex(e)}this.m_shape.sortVerticesSimpleByY(s,0,t),this.progress_(!0),this.m_userIndexSortedIndexToVertex=this.m_shape.createUserIndexUninitialized(),this.m_sortedVertices.reserveNodes(t),this.m_sortedVerticesListIndex=this.m_sortedVertices.createList(0);for(let n=0;n<t;n++){const e=s.read(n),t=this.m_sortedVertices.addElement(this.m_sortedVerticesListIndex,e);this.m_shape.setUserIndex(e,this.m_userIndexSortedIndexToVertex,t)}this.m_nextVertexToProcess=-1,this.cleanupSpikes_()&&(e=!0);let r=0,o=!1;do{o=!1,this.m_nextVertexToProcess=-1,this.m_firstCoincidentVertex=this.m_sortedVertices.getFirst(this.m_sortedVerticesListIndex);const t=new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P(0,0);this.m_firstCoincidentVertex!==_Envelope_js__WEBPACK_IMPORTED_MODULE_3__.N.st_nullNode()&&this.m_shape.queryXY(this.m_sortedVertices.getData(this.m_firstCoincidentVertex),t);let s=0,n=this.m_firstCoincidentVertex;for(;n!==_Envelope_js__WEBPACK_IMPORTED_MODULE_3__.N.st_nullNode()&&(n=this.m_sortedVertices.getNext(n),n!==_Envelope_js__WEBPACK_IMPORTED_MODULE_3__.N.st_nullNode());){this.progress_();const e=this.m_sortedVertices.getData(n),r=_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P.getNAN();if(this.m_shape.queryXY(e,r),t.equals(r))s++;else{if(s>0){this.m_nextVertexToProcess=n;const e=this.processBunch_();n=this.m_nextVertexToProcess,n!==_Envelope_js__WEBPACK_IMPORTED_MODULE_3__.N.st_nullNode()&&this.m_shape.queryXY(this.m_sortedVertices.getData(n),r),e&&(o=!0)}t.setCoordsPoint2D(r),this.m_firstCoincidentVertex=n,s=0}}if(this.m_nextVertexToProcess=-1,s>0){this.processBunch_()&&(o=!0)}r++>10&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.d)(""),o&&this.fixOrphanVertices_(),this.cleanupSpikes_()&&(o=!0),e||=o}while(o);return this.m_shape.dbgVerifyMonotone(),this.m_shape.dbgVerifyCurves(),this.m_shape.removeUserIndex(this.m_userIndexSortedIndexToVertex),this.m_shape.removeUserIndex(this.m_userIndexSortedAngleIndexToVertex),e=jn(this.m_shape,this.m_geometry,this.m_sortedVertices,this.m_bFixSelfTangency,this.m_progressTracker)||e,this.m_shape.dbgVerifyCurves(),e}getDirection_(e,t){return this.m_shape.getNextVertex(t)!==e}detectAndResolveCrossOver_(e,t,s,n,r,i,o,a){if(n===o)return this.removeAngleSortInfo_(s),this.removeAngleSortInfo_(i),-1;const h=this.m_shape.getUserIndex(s,this.m_userIndexSortedAngleIndexToVertex),m=this.m_shape.getUserIndex(r,this.m_userIndexSortedAngleIndexToVertex),l=this.m_shape.getUserIndex(i,this.m_userIndexSortedAngleIndexToVertex),g=this.m_shape.getUserIndex(a,this.m_userIndexSortedAngleIndexToVertex),u=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.d)(8,Number.NaN),c=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.d)(4,Number.NaN);u[0]=0,c[0]=h,u[1]=0,c[1]=m,u[2]=1,c[2]=l,u[3]=1,c[3]=g;for(let d=1;d<4;d++){const e=c[d],t=u[d];let s=d-1;for(;s>=0&&c[s]>e;)c[s+1]=c[s],u[s+1]=u[s],s--;c[s+1]=e,u[s+1]=t}let _=0;if(u[0]&&(_|=1),u[1]&&(_|=2),u[2]&&(_|=4),u[3]&&(_|=8),5!==_&&10!==_)return 0;if(e!==t&&(a=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.c)(i,i=a)),e)this.m_shape.setNextVertex(a,n),this.m_shape.setPrevVertex(n,a),this.m_shape.setNextVertex(r,o),this.m_shape.setPrevVertex(o,r),this.m_bHasSegmentParentage&&(this.m_shape.setSegmentParentageBreakVertex(n,!0),this.m_shape.setSegmentParentageBreakVertex(o,!0));else{if(this.m_shape.setPrevVertex(a,n),this.m_shape.setNextVertex(n,a),this.m_shape.setPrevVertex(r,o),this.m_shape.setNextVertex(o,r),this.m_bHasSegmentParentage){const e=this.m_shape.getSegmentParentage(n),t=this.m_shape.getSegmentParentage(o);this.m_shape.setSegmentParentageAndBreak(n,t,!0),this.m_shape.setSegmentParentageAndBreak(o,e,!0)}if(this.m_bHasSegments){const e=this.m_shape.getVertexIndex(n),t=this.m_shape.getVertexIndex(o),s=this.m_shape.getSegmentFromIndex(e);this.m_shape.setSegmentToIndex(e,null);const r=this.m_shape.getSegmentFromIndex(t);this.m_shape.setSegmentToIndex(t,null),this.m_shape.setSegmentToIndex(e,r),this.m_shape.setSegmentToIndex(t,s)}}return 1}resolveOverlap_(e,t,s,n,r,i){return this.resolveOverlapOddEven_(e,t,s,n,r,i)}resolveOverlapOddEven_(e,t,s,n,r,i){if(e!==t){e||(r=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.c)(s,s=r),i=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.c)(n,n=i));const t=this.m_shape.getNextVertex(r),o=this.m_shape.getNextVertex(s);if(this.m_shape.setNextVertex(s,t),this.m_shape.setPrevVertex(t,s),this.m_shape.setNextVertex(r,o),this.m_shape.setPrevVertex(o,r),this.m_bHasSegments){const e=this.m_shape.getVertexIndex(s),t=this.m_shape.getVertexIndex(r),n=this.m_shape.getSegmentFromIndex(e);this.m_shape.setSegmentToIndex(e,null);const i=this.m_shape.getSegmentFromIndex(t);this.m_shape.setSegmentToIndex(t,null),this.m_shape.setSegmentToIndex(e,i),this.m_shape.setSegmentToIndex(t,n)}if(this.m_bHasSegmentParentage){const e=this.m_shape.getSegmentParentage(s),t=this.m_shape.getSegmentParentage(r);this.m_shape.setSegmentParentageAndBreak(s,t,!0),this.m_shape.setSegmentParentageAndBreak(r,e,!0),this.m_shape.setSegmentParentageBreakVertex(n,!0),this.m_shape.setSegmentParentageBreakVertex(i,!0)}this.removeSpike_(r)}else{const o=e?s:n,a=t?r:i,h=e?n:s,m=t?i:r;let l=null;if(this.m_bHasSegments){const e=this.m_shape.getVertexIndex(m);l=this.m_shape.getSegmentFromIndex(e),this.m_shape.setSegmentToIndex(e,null);const t=this.m_shape.getVertexIndex(a);this.m_shape.setSegmentToIndex(t,null);const s=this.m_shape.getVertexIndex(o);this.m_shape.setSegmentToIndex(s,null)}let g=-1;this.m_bHasSegmentParentage&&(g=this.m_shape.getSegmentParentage(m));let u=!1;this.m_shape.setNextVertex(o,a),this.m_shape.setNextVertex(a,o),this.m_shape.setPrevVertex(h,m),this.m_shape.setPrevVertex(m,h);let c=m;for(;c!==a;){const e=this.m_shape.getPrevVertex(c),t=this.m_shape.getNextVertex(c);if(this.m_shape.setPrevVertex(c,t),this.m_shape.setNextVertex(c,e),u||=c===o,this.m_bHasSegments&&c!==o){const e=this.m_shape.getVertexIndex(t),s=l;l=this.m_shape.getSegmentFromIndex(e),null!==s&&s.reverse(),this.m_shape.setSegmentToIndex(e,s)}if(this.m_bHasSegmentParentage){const e=this.m_shape.getSegmentParentage(t);this.m_shape.setSegmentParentagePreserveBreak(t,g),g=e}c=t}let _=null;if(!u){const e=this.m_shape.getPrevVertex(a),t=this.m_shape.getNextVertex(a);if(this.m_shape.setPrevVertex(a,t),this.m_shape.setNextVertex(a,e),this.m_bHasSegments){const e=this.m_shape.getVertexIndex(a);_=this.m_shape.getSegmentFromIndex(e),this.m_shape.setSegmentToIndex(e,null)}}let d=-1,p=-1;if(this.m_bHasSegmentParentage&&(d=u?this.m_shape.getSegmentParentage(o):this.m_shape.getSegmentParentage(a),p=this.m_shape.getSegmentParentage(h)),this.transferVertexData_(a,o),this.beforeRemoveVertex_(a,!0),this.m_shape.removeVertexInternal(a,!0),this.removeAngleSortInfo_(o),this.transferVertexData_(m,h),this.beforeRemoveVertex_(m,!0),this.m_shape.removeVertexInternal(m,!0),this.removeAngleSortInfo_(h),this.m_bHasSegmentParentage&&(this.m_shape.setSegmentParentageAndBreak(o,d,!0),this.m_shape.setSegmentParentageAndBreak(h,p,!0)),_){const e=this.m_shape.getVertexIndex(o);this.m_shape.setSegmentToIndex(e,_)}}return!0}cleanupSpikes_(){let e=!1;for(let t=this.m_shape.getFirstPath(this.m_geometry);t!==_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n;){const s=this.m_shape.getNextPath(t);let n=this.m_shape.getFirstVertex(t);for(let r=0,i=this.m_shape.getPathSize(t);r<i&&i>1;){this.progress_();const{v:s,bModified:o}=this.checkAndCleanupSpike_(t,n);if(s===_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n)break;o?(e=!0,n=s,r=0,i=this.m_shape.getPathSize(t)):(n=s,r++)}t=s}return e}checkAndCleanupSpike_(e,t){const s={v:_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n,bModified:!1};let n=this.m_shape.getPrevVertex(t),r=this.m_shape.getNextVertex(t),i=_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n,o=_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n;for(;this.m_shape.isEqualXY(n,r)&&(i=n,o=r,r!==t);)n=this.m_shape.getPrevVertex(n),r=this.m_shape.getNextVertex(r);if(i===_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n)return s.v=r,s;s.bModified=!0;for(let a=this.m_shape.getNextVertex(i);this.beforeRemoveVertex_(a,!1),a!==o;a=this.m_shape.getNextVertex(a));if(i===t)return this.m_polylineDegeneracies!==_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n?this.m_shape.movePath(this.m_polylineDegeneracies,_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n,e):this.m_shape.removePath(e),s.v=_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n,s;{const e=this.m_shape.peelALoopIntoAPath(i,o);this.m_polylineDegeneracies!==_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n?this.m_shape.movePath(this.m_polylineDegeneracies,_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n,e):this.m_shape.removePath(e)}return s.v=i,s}removeSpike_(e){let t=this.m_shape.getPrevVertex(e),s=this.m_shape.getNextVertex(e),n=_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n,r=_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n;for(;this.m_shape.isEqualXY(t,s)&&(n=t,r=s,s!==e);)t=this.m_shape.getPrevVertex(t),s=this.m_shape.getNextVertex(s);if(n===_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n)return!1;if(this.m_shape.peelALoop(n,r),this.m_bHasSegmentParentage&&(this.m_shape.setSegmentParentageBreakVertex(n,!0),this.m_shape.setSegmentParentageBreakVertex(r,!0)),this.removeAngleSortInfo_(n),this.m_polylineDegeneracies===_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n)for(let i=this.m_shape.getNextVertex(r);;){const e=this.m_shape.getNextVertex(i);if(this.removeAngleSortInfo_(i),this.beforeRemoveVertex_(i,!0),this.m_shape.setSegmentToIndex(this.m_shape.getVertexIndex(i),null),this.m_shape.removeVertexInternal(i,!1),i===r)break;i=e}else{for(let t=r;;){const e=this.m_shape.getNextVertex(t);if(this.removeAngleSortInfo_(t),this.beforeRemoveVertex_(t,!1),t=e,t===r)break}const e=[!1];this.m_shape.insertClosedPath(this.m_polylineDegeneracies,_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n,r,r,e)}return!0}fixOrphanVertices_(){let e=0;for(let n=this.m_sortedVertices.getFirst(this.m_sortedVertices.getFirstList());-1!==n;n=this.m_sortedVertices.getNext(n)){const e=this.m_sortedVertices.getData(n);this.m_shape.setPathToVertex(e,_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n)}let t=0;for(let n=this.m_shape.getFirstPath(this.m_geometry);n!==_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n;){const s=this.m_shape.getFirstVertex(n);if(s===_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n||this.m_shape.getPathFromVertex(s)!==_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n){const e=n;n=this.m_shape.getNextPath(n),this.m_shape.removePathOnly(e);continue}this.m_shape.setPathToVertex(s,n);let r=1;for(let e=this.m_shape.getNextVertex(s);e!==s;e=this.m_shape.getNextVertex(e))this.m_shape.setPathToVertex(e,n),r++;this.m_shape.setRingAreaValid(n,!1),this.m_shape.setPathSize(n,r),this.m_shape.setLastVertex(n,this.m_shape.getPrevVertex(s)),t+=r,e++,n=this.m_shape.getNextPath(n)}for(let n=this.m_sortedVertices.getFirst(this.m_sortedVertices.getFirstList());-1!==n;n=this.m_sortedVertices.getNext(n)){const s=this.m_sortedVertices.getData(n);if(this.m_shape.getPathFromVertex(s)!==_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n)continue;const r=[!1],i=this.m_shape.insertClosedPath(this.m_geometry,_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n,s,s,r);t+=this.m_shape.getPathSize(i),e++}this.m_shape.setGeometryPathCount(this.m_geometry,e),this.m_shape.setGeometryVertexCount(this.m_geometry,t);let s=0;for(let n=this.m_shape.getFirstGeometry();n!==_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n;n=this.m_shape.getNextGeometry(n))s+=this.m_shape.getPointCount(n);this.m_shape.setTotalPointCount(s)}getNextEdgeIndex_(e){if(-1===e)return-1;for(let t=0,s=this.m_bunchEdgeIndices.length-1;t<s;t++)if(e=(e+1)%this.m_bunchEdgeIndices.length,-1!==this.m_bunchEdgeIndices[e])return e;return-1}getPrevEdgeIndex_(e){if(-1===e)return-1;for(let t=0,s=this.m_bunchEdgeIndices.length-1;t<s;t++)if(e=(this.m_bunchEdgeIndices.length+e-1)%this.m_bunchEdgeIndices.length,-1!==this.m_bunchEdgeIndices[e])return e;return-1}transferVertexData_(e,t){const s=this.m_shape.getUserIndex(t,this.m_userIndexSortedIndexToVertex),n=this.m_shape.getUserIndex(t,this.m_userIndexSortedAngleIndexToVertex);this.m_shape.transferAllDataToTheVertex(e,t),this.m_shape.setUserIndex(t,this.m_userIndexSortedIndexToVertex,s),this.m_shape.setUserIndex(t,this.m_userIndexSortedAngleIndexToVertex,n)}removeAngleSortInfo_(e){const t=this.m_shape.getUserIndex(e,this.m_userIndexSortedAngleIndexToVertex);-1!==t&&(this.m_bunchEdgeIndices[t]=-1,this.m_shape.setUserIndex(e,this.m_userIndexSortedAngleIndexToVertex,-1))}progress_(e=!1){}}function sr(s,r,i,o,a,h=!0){switch(ir(o)){case 0:break;case 1:(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.a)("relation string length has to be 9 characters");break;default:(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.a)("relation string")}if(h){const e=xr(o,s.getDimension(),r.getDimension());if(0!==e)return kr(s,r,i,e,a)}let m=0;if("number"==typeof i)m=i;else{const t=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D.constructEmpty();s.queryEnvelope(t);const n=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D.constructEmpty();r.queryEnvelope(n);const o=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D.constructEmpty();o.setCoords({env2D:t}),o.mergeEnvelope2D(n),m=(0,_Envelope_js__WEBPACK_IMPORTED_MODULE_3__.a)(i,o,!1)}const l=Tr(s,m),g=Tr(r,m);if(l.isEmpty()||g.isEmpty())return fr(l,g,o);const u=l.getGeometryType(),c=g.getGeometryType();let _=!1;switch(u){case _Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumPolygon:switch(c){case _Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumPolygon:_=or(l,g,m,o,a);break;case _Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumPolyline:_=ar(l,g,m,o,a);break;case _Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumPoint:_=ur(l,g,m,o);break;case _Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumMultiPoint:_=hr(l,g,m,o,a)}break;case _Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumPolyline:switch(c){case _Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumPolygon:_=ar(g,l,m,Gr(o),a);break;case _Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumPolyline:_=mr(l,g,m,o,a);break;case _Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumPoint:_=cr(l,g,m,o,a);break;case _Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumMultiPoint:_=lr(l,g,m,o,a)}break;case _Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumPoint:switch(c){case _Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumPolygon:_=ur(g,l,m,Gr(o));break;case _Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumPolyline:_=cr(g,l,m,Gr(o),a);break;case _Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumPoint:_=dr(l,g,m,o);break;case _Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumMultiPoint:_=_r(g,l,m,Gr(o))}break;case _Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumMultiPoint:switch(c){case _Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumPolygon:_=hr(g,l,m,Gr(o),a);break;case _Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumPolyline:_=lr(g,l,m,Gr(o),a);break;case _Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumMultiPoint:_=gr(l,g,m,o,a);break;case _Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumPoint:_=_r(l,g,m,o)}break;default:_=!1}return _}function nr(t,s,n,r){const i=new vr;i.resetMatrix_(),i.setPredicates_("T*****F**"),i.setAreaAreaPredicates_();const o=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D.constructEmpty(),a=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D.constructEmpty();t.queryEnvelope(o),s.queryEnvelope(a);let h=!1;if(qr(o,a,n)&&(i.areaAreaDisjointPredicates_(t,s),h=!0),h||Br(t,s),h){return pr(i.m_matrix,i.m_scl)}let m=new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.E,l=m.addGeometry(t),g=m.addGeometry(s),u=null,c=0;if(t.hasNonLinearSegments()||s.hasNonLinearSegments()){u=new fa;const e=_a(n,m.getEnvelope2D(r));c=pa(e,0),aa(m,e,n,12e3,u,null,r)}ya(m,new _Envelope_js__WEBPACK_IMPORTED_MODULE_3__.C(n,0).add(c),r,!1,!1);const _=m.getGeometry(g).getBoundary();if(m.filterClosePoints(0,!0,!0,!1,_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n),er(m,l,-1,!1,_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n,r),0===m.getPointCount(l))return!1;er(m,g,-1,!1,_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n,r),i.setEditShape_(m,r);const d=0===m.getPointCount(g);if(!d){i.computeMatrixTopoGraphHalfEdges_(l,g),i.m_topoGraph.removeShape();const e=pr(i.m_matrix,i.m_scl);if(!e)return e}const p=m.getGeometry(l);m=new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.E,l=m.addGeometry(p),g=m.addGeometry(_),i.setEditShape_(m,r),i.m_predicateCount=0,i.resetMatrix_(),i.setPredicates_(d?"T*****F**":"******F**"),i.setAreaLinePredicates_(),i.computeMatrixTopoGraphHalfEdges_(l,g),i.m_topoGraph.removeShape();return pr(i.m_matrix,i.m_scl)}function rr(t,s,n,r){const i=new vr;i.resetMatrix_(),i.setPredicates_("T*****F**"),i.setAreaLinePredicates_();const o=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D.constructEmpty(),a=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D.constructEmpty();t.queryEnvelope(o),s.queryEnvelope(a);let h=!1;if(qr(o,a,n)&&(i.areaLineDisjointPredicates_(t,s),h=!0),h||Br(t,s),h){return pr(i.m_matrix,i.m_scl)}const m=new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.E,l=m.addGeometry(t),g=m.addGeometry(s);if(i.setEditShapeCrackAndCluster_(m,new _Envelope_js__WEBPACK_IMPORTED_MODULE_3__.C(n,0),r),0===m.getPointCount(l))return!1;i.computeMatrixTopoGraphHalfEdges_(l,g),i.m_topoGraph.removeShape();return pr(i.m_matrix,i.m_scl)}function ir(e){if(9!==e.length)return 1;for(let t=0;t<9;t++){const s=e[t];if("*"!==s&&"T"!==s&&"F"!==s&&"0"!==s&&"1"!==s&&"2"!==s)return 2}return 0}function or(t,s,n,r,i){const o=new vr;o.resetMatrix_(),o.setPredicates_(r),o.setAreaAreaPredicates_();const a=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D.constructEmpty(),h=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D.constructEmpty();t.queryEnvelope(a),s.queryEnvelope(h);let m=!1;if(qr(a,h,n)&&(o.areaAreaDisjointPredicates_(t,s),m=!0),m||Br(t,s),!m){const e=new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.E,r=e.addGeometry(t),a=e.addGeometry(s);o.setEditShapeCrackAndCluster_(e,new _Envelope_js__WEBPACK_IMPORTED_MODULE_3__.C(n,0),i),o.computeMatrixTopoGraphHalfEdges_(r,a),o.m_topoGraph.removeShape()}return pr(o.m_matrix,o.m_scl)}function ar(t,s,n,r,i){const o=new vr;o.resetMatrix_(),o.setPredicates_(r),o.setAreaLinePredicates_();const a=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D.constructEmpty(),h=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D.constructEmpty();t.queryEnvelope(a),s.queryEnvelope(h);let m=!1;if(qr(a,h,n)&&(o.areaLineDisjointPredicates_(t,s),m=!0),m||Br(t,s),!m){const e=new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.E,r=e.addGeometry(t),a=e.addGeometry(s);o.setEditShapeCrackAndCluster_(e,new _Envelope_js__WEBPACK_IMPORTED_MODULE_3__.C(n,0),i),o.m_clusterIndexB=o.m_topoGraph.createUserIndexForClusters(),wr(a,o.m_topoGraph,o.m_clusterIndexB),o.computeMatrixTopoGraphHalfEdges_(r,a),o.m_topoGraph.deleteUserIndexForClusters(o.m_clusterIndexB),o.m_topoGraph.removeShape()}return pr(o.m_matrix,o.m_scl)}function hr(t,s,n,r,i){const o=new vr;o.resetMatrix_(),o.setPredicates_(r),o.setAreaPointPredicates_();const a=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D.constructEmpty(),h=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D.constructEmpty();t.queryEnvelope(a),s.queryEnvelope(h);let m=!1;if(qr(a,h,n)&&(o.areaPointDisjointPredicates_(t),m=!0),m||Br(t,s),!m){const e=new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.E,r=e.addGeometry(t),a=e.addGeometry(s);o.setEditShapeCrackAndCluster_(e,new _Envelope_js__WEBPACK_IMPORTED_MODULE_3__.C(n,0),i),o.computeMatrixTopoGraphClusters_(r,a),o.m_topoGraph.removeShape()}return pr(o.m_matrix,o.m_scl)}function mr(t,s,n,r,i){const o=new vr;o.resetMatrix_(),o.setPredicates_(r),o.setLineLinePredicates_();const a=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D.constructEmpty(),h=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D.constructEmpty();t.queryEnvelope(a),s.queryEnvelope(h);let m=!1;if(qr(a,h,n)&&(o.lineLineDisjointPredicates_(t,s),m=!0),m||Br(t,s),!m){const e=new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.E,r=e.addGeometry(t),a=e.addGeometry(s);o.setEditShapeCrackAndCluster_(e,new _Envelope_js__WEBPACK_IMPORTED_MODULE_3__.C(n,0),i),o.m_clusterIndexA=o.m_topoGraph.createUserIndexForClusters(),o.m_clusterIndexB=o.m_topoGraph.createUserIndexForClusters(),wr(r,o.m_topoGraph,o.m_clusterIndexA),wr(a,o.m_topoGraph,o.m_clusterIndexB),o.computeMatrixTopoGraphHalfEdges_(r,a),o.m_topoGraph.deleteUserIndexForClusters(o.m_clusterIndexA),o.m_topoGraph.deleteUserIndexForClusters(o.m_clusterIndexB),o.m_topoGraph.removeShape()}return pr(o.m_matrix,o.m_scl)}function lr(t,s,n,r,i){const o=new vr;o.resetMatrix_(),o.setPredicates_(r),o.setLinePointPredicates_();const a=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D.constructEmpty(),h=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D.constructEmpty();t.queryEnvelope(a),s.queryEnvelope(h);let m=!1;if(qr(a,h,n)&&(o.linePointDisjointPredicates_(t),m=!0),m||Br(t,s),!m){const e=new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.E,r=e.addGeometry(t),a=e.addGeometry(s);o.setEditShapeCrackAndCluster_(e,new _Envelope_js__WEBPACK_IMPORTED_MODULE_3__.C(n,0),i),o.m_clusterIndexA=o.m_topoGraph.createUserIndexForClusters(),wr(r,o.m_topoGraph,o.m_clusterIndexA),o.computeMatrixTopoGraphClusters_(r,a),o.m_topoGraph.deleteUserIndexForClusters(o.m_clusterIndexA),o.m_topoGraph.removeShape()}return pr(o.m_matrix,o.m_scl)}function gr(t,s,n,r,i){const o=new vr;o.resetMatrix_(),o.setPredicates_(r),o.setPointPointPredicates_();const a=new _Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D,h=new _Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D;t.queryEnvelope(a),s.queryEnvelope(h);let m=!1;if(qr(a,h,n)&&(o.pointPointDisjointPredicates_(),m=!0),!m){const e=new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.E,r=e.addGeometry(t),a=e.addGeometry(s);o.setEditShapeCrackAndCluster_(e,new _Envelope_js__WEBPACK_IMPORTED_MODULE_3__.C(n,0),i),o.computeMatrixTopoGraphClusters_(r,a),o.m_topoGraph.removeShape()}return pr(o.m_matrix,o.m_scl)}function ur(t,s,n,r,i){const o=new vr;o.resetMatrix_(),o.setPredicates_(r),o.setAreaPointPredicates_();const a=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D.constructEmpty();t.queryEnvelope(a);const h=s.getXY();let m=!1;if(Or(h,a,n)&&(o.areaPointDisjointPredicates_(t),m=!0),!m){const s=Lo(t,h,n);if(1===s)o.m_matrix[0]=0,o.m_matrix[2]=2,o.m_matrix[3]=-1,o.m_matrix[5]=1,o.m_matrix[6]=-1;else if(2===s){o.m_matrix[6]=-1;if(0!==t.calculateArea2D())o.m_matrix[0]=-1,o.m_matrix[3]=0,o.m_matrix[2]=2,o.m_matrix[5]=1;else{o.m_matrix[0]=0,o.m_matrix[3]=-1,o.m_matrix[5]=-1;const s=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D.constructEmpty();t.queryEnvelope(s),o.m_matrix[2]=s.height()||s.width()?1:-1}}else o.areaPointDisjointPredicates_(t)}return pr(o.m_matrix,r)}function cr(t,s,n,r,i){const o=new vr;o.resetMatrix_(),o.setPredicates_(r),o.setLinePointPredicates_();const a=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D.constructEmpty();t.queryEnvelope(a);let h=!1;if(Or(s.getXY(),a,n)&&(o.linePointDisjointPredicates_(t),h=!0),!h){let e=null,r=!1,a=!1;if(o.m_performPredicates[0]||o.m_performPredicates[6]){!kr(t,s,n,4,i)?(o.m_performPredicates[0]&&(e=(0,_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.c)(t),a=!kr(e,s,n,4,i),r=!0,o.m_matrix[0]=a?-1:0),o.m_matrix[6]=-1):(o.m_matrix[0]=-1,o.m_matrix[6]=0)}if(o.m_performPredicates[3]&&(null!==e&&e.isEmpty()?o.m_matrix[3]=-1:(r||(null==e&&(e=(0,_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.c)(t)),a=!kr(e,s,n,4,i),r=!0),o.m_matrix[3]=a?0:-1)),o.m_performPredicates[5])if(null!==e&&e.isEmpty())o.m_matrix[5]=-1;else if(r&&!a)o.m_matrix[5]=0;else{null===e&&(e=(0,_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.c)(t));const r=kr(e,s,n,3,i);o.m_matrix[5]=r?-1:0}if(o.m_performPredicates[2]){if(0!==t.calculateLength2D())o.m_matrix[2]=1;else{const e=new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.M({vd:t.getDescription()});e.addPoints(t,0,t.getPointCount());const r=kr(e,s,n,3,i);o.m_matrix[2]=r?-1:0}}}return pr(o.m_matrix,o.m_scl)}function _r(t,s,n,r,i){const o=new vr;o.resetMatrix_(),o.setPredicates_(r),o.setPointPointPredicates_();const a=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D.constructEmpty();t.queryEnvelope(a);const h=s.getXY(),m=new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P;let l=!1;if(Or(h,a,n)&&(o.pointPointDisjointPredicates_(),l=!0),!l){let e=!1,s=!0;const r=n*n;for(let n=0;n<t.getPointCount()&&(t.queryXY(n,m),_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P.sqrDistance(m,h)<=r?e=!0:s=!1,!e||s);n++);e?(o.m_matrix[0]=0,o.m_matrix[2]=s?-1:0,o.m_matrix[6]=-1):(o.m_matrix[0]=-1,o.m_matrix[2]=0,o.m_matrix[6]=0)}return pr(o.m_matrix,r)}function dr(e,t,s,n,r){const i=e.getXY(),o=t.getXY(),a=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.d)(9,-1);_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P.sqrDistance(i,o)<=s*s?a[0]=0:(a[2]=0,a[6]=0),a[8]=2;return pr(a,n)}function pr(e,t){for(let s=0;s<9;s++)switch(t[s]){case"T":if(-1===e[s])return!1;break;case"F":if(-1!==e[s])return!1;break;case"0":if(0!==e[s])return!1;break;case"1":if(1!==e[s])return!1;break;case"2":if(2!==e[s])return!1}return!0}function fr(t,s,r){const i=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.d)(9,-1);if(t.isEmpty()&&s.isEmpty())return pr(i,r);let a,h=!1;t.isEmpty()?(a=s,h=!0):a=t,i[0]=-1,i[1]=-1,i[3]=-1,i[4]=-1,i[6]=-1,i[7]=-1,i[8]=2;const m=a.getGeometryType();if((0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.h)(m))if(m===_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumPolygon){if(0!==a.calculateArea2D())i[2]=2,i[5]=1;else{i[5]=-1;const t=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D.constructEmpty();a.queryEnvelope(t),i[2]=t.height()||t.width()?1:0}}else{const e=0!==a.calculateLength2D();i[2]=e?1:0,i[5]=(0,_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.K)(a)?0:-1}else i[2]=0,i[5]=-1;return h&&Nr(i),pr(i,r)}function xr(e,t,s){return yr(e)?3:Pr(e)?4:Er(e,t,s)?8:Sr(e,t,s)?16:Ir(e)?64:Cr(e)?1:br(e,t,s)?32:0}function yr(e){return"T*F**FFF*"===e}function Pr(e){return"FF*FF****"===e}function Er(e,t,s){return(0!==t||0!==s)&&(2===t&&2===s?"F***T****"===e:(2===t||1===t)&&0===s&&"F**T*****"===e)}function Sr(e,t,s){return t>s?"T*****T**"===e:1===t&&1===s&&"0********"===e}function Cr(e){return"T*****FF*"===e}function Ir(e){return"T**FF*FF*"===e}function br(e,t,s){return t===s&&(1!==t?"T*T***T**"===e:"1*T***T**"===e)}function wr(e,t,s){const n=t.getGeometryID(e);for(let r=t.getFirstCluster();r!==_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n;r=t.getNextCluster(r)){if(0===(t.getClusterParentage(r)&n))continue;const e=t.getClusterHalfEdge(r);if(e===_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n){t.setClusterUserIndex(r,s,0);continue}let i=e,o=0;do{const e=i;0!==(t.getHalfEdgeParentage(e)&n)&&o++,i=t.getHalfEdgeNext(t.getHalfEdgeTwin(e))}while(i!==e);t.setClusterUserIndex(r,s,o)}}class vr{nullFunc(){return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.d)("should not be called"),!1}constructor(){this.m_clusterIndexA=-1,this.m_clusterIndexB=-1,this.m_visitedIndex=-1,this.m_topoGraph=new tn,this.m_matrix=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.d)(9,0),this.m_maxDim=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.d)(9,0),this.m_performPredicates=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.d)(9,!1),this.m_scl="",this.m_predicateCount=0,this.m_predicatesHalfEdge=this.nullFunc,this.m_predicatesCluster=this.nullFunc}resetMatrix_(){this.m_matrix.fill(-2),this.m_maxDim.fill(-2)}setPredicates_(e){this.m_scl=e;for(let t=0;t<9;t++)"*"!==this.m_scl[t]?(this.m_performPredicates[t]=!0,this.m_predicateCount++):this.m_performPredicates[t]=!1}setRemainingPredicatesToFalse_(){for(let e=0;e<9;e++)this.m_performPredicates[e]&&-2===this.m_matrix[e]&&(this.m_matrix[e]=-1,this.m_performPredicates[e]=!1)}isPredicateKnown_(e){return-2!==this.m_matrix[e]&&(-1===this.m_matrix[e]?(this.m_performPredicates[e]=!1,this.m_predicateCount--,!0):"T"!==this.m_scl[e]&&"F"!==this.m_scl[e]?!(this.m_matrix[e]<this.m_maxDim[e])&&(this.m_performPredicates[e]=!1,this.m_predicateCount--,!0):(this.m_performPredicates[e]=!1,this.m_predicateCount--,!0))}setAreaAreaPredicates_(){this.m_predicatesHalfEdge=this.areaAreaPredicates_,this.m_maxDim[0]=2,this.m_maxDim[1]=1,this.m_maxDim[2]=2,this.m_maxDim[3]=1,this.m_maxDim[4]=1,this.m_maxDim[5]=1,this.m_maxDim[6]=2,this.m_maxDim[7]=1,this.m_maxDim[8]=2,this.m_performPredicates[8]&&(this.m_matrix[8]=2,this.m_performPredicates[8]=!1,this.m_predicateCount--)}setAreaLinePredicates_(){this.m_predicatesHalfEdge=this.areaLinePredicates_,this.m_predicatesCluster=this.areaPointPredicates_,this.m_maxDim[0]=1,this.m_maxDim[1]=0,this.m_maxDim[2]=2,this.m_maxDim[3]=1,this.m_maxDim[4]=0,this.m_maxDim[5]=1,this.m_maxDim[6]=1,this.m_maxDim[7]=0,this.m_maxDim[8]=2,this.m_performPredicates[8]&&(this.m_matrix[8]=2,this.m_performPredicates[8]=!1,this.m_predicateCount--)}setLineLinePredicates_(){this.m_predicatesHalfEdge=this.lineLinePredicates_,this.m_predicatesCluster=this.linePointPredicates_,this.m_maxDim[0]=1,this.m_maxDim[1]=0,this.m_maxDim[2]=1,this.m_maxDim[3]=0,this.m_maxDim[4]=0,this.m_maxDim[5]=0,this.m_maxDim[6]=1,this.m_maxDim[7]=0,this.m_maxDim[8]=2,this.m_performPredicates[8]&&(this.m_matrix[8]=2,this.m_performPredicates[8]=!1,this.m_predicateCount--)}setAreaPointPredicates_(){this.m_predicatesCluster=this.areaPointPredicates_,this.m_maxDim[0]=0,this.m_maxDim[1]=-1,this.m_maxDim[2]=2,this.m_maxDim[3]=0,this.m_maxDim[4]=-1,this.m_maxDim[5]=1,this.m_maxDim[6]=0,this.m_maxDim[7]=-1,this.m_maxDim[8]=2,this.m_performPredicates[1]&&(this.m_matrix[1]=-1,this.m_performPredicates[1]=!1,this.m_predicateCount--),this.m_performPredicates[4]&&(this.m_matrix[4]=-1,this.m_performPredicates[4]=!1,this.m_predicateCount--),this.m_performPredicates[7]&&(this.m_matrix[7]=-1,this.m_performPredicates[7]=!1,this.m_predicateCount--),this.m_performPredicates[8]&&(this.m_matrix[8]=2,this.m_performPredicates[8]=!1,this.m_predicateCount--)}setLinePointPredicates_(){this.m_predicatesCluster=this.linePointPredicates_,this.m_maxDim[0]=0,this.m_maxDim[1]=-1,this.m_maxDim[2]=1,this.m_maxDim[3]=0,this.m_maxDim[4]=-1,this.m_maxDim[5]=0,this.m_maxDim[6]=0,this.m_maxDim[7]=-1,this.m_maxDim[8]=2,this.m_performPredicates[1]&&(this.m_matrix[1]=-1,this.m_performPredicates[1]=!1,this.m_predicateCount--),this.m_performPredicates[4]&&(this.m_matrix[4]=-1,this.m_performPredicates[4]=!1,this.m_predicateCount--),this.m_performPredicates[7]&&(this.m_matrix[7]=-1,this.m_performPredicates[7]=!1,this.m_predicateCount--),this.m_performPredicates[8]&&(this.m_matrix[8]=2,this.m_performPredicates[8]=!1,this.m_predicateCount--)}setPointPointPredicates_(){this.m_predicatesCluster=this.pointPointPredicates_,this.m_maxDim[0]=0,this.m_maxDim[1]=-1,this.m_maxDim[2]=0,this.m_maxDim[3]=-1,this.m_maxDim[4]=-1,this.m_maxDim[5]=-1,this.m_maxDim[6]=0,this.m_maxDim[7]=-1,this.m_maxDim[8]=2,this.m_performPredicates[1]&&(this.m_matrix[1]=-1,this.m_performPredicates[1]=!1,this.m_predicateCount--),this.m_performPredicates[3]&&(this.m_matrix[3]=-1,this.m_performPredicates[3]=!1,this.m_predicateCount--),this.m_performPredicates[4]&&(this.m_matrix[4]=-1,this.m_performPredicates[4]=!1,this.m_predicateCount--),this.m_performPredicates[5]&&(this.m_matrix[5]=-1,this.m_performPredicates[5]=!1,this.m_predicateCount--),this.m_performPredicates[7]&&(this.m_matrix[7]=-1,this.m_performPredicates[7]=!1,this.m_predicateCount--),this.m_performPredicates[8]&&(this.m_matrix[8]=2,this.m_performPredicates[8]=!1,this.m_predicateCount--)}areaAreaDisjointPredicates_(e,t){this.m_matrix[0]=-1,this.m_matrix[1]=-1,this.m_matrix[3]=-1,this.m_matrix[4]=-1,this.areaGeomContainsOrDisjointPredicates_(e,this.m_performPredicates[2]?2:-1,this.m_scl[2],this.m_performPredicates[5]?5:-1,this.m_scl[5]),this.areaGeomContainsOrDisjointPredicates_(t,this.m_performPredicates[6]?6:-1,this.m_scl[6],this.m_performPredicates[7]?7:-1,this.m_scl[7])}areaGeomContainsOrDisjointPredicates_(t,s,n,r,i){const o=-1!==s,a=-1!==r;if(o||a){if(!("T"!==n&&"F"!==n&&o||"T"!==i&&"F"!==i&&a)||0!==t.calculateArea2D())o&&(this.m_matrix[s]=2),a&&(this.m_matrix[r]=1);else if(a&&(this.m_matrix[r]=-1),o){const n=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D.constructEmpty();t.queryEnvelope(n),this.m_matrix[s]=n.height()||n.width()?1:0}}}areaAreaContainsPredicates_(e){this.m_matrix[2]=2,this.m_matrix[3]=-1,this.m_matrix[4]=-1,this.m_matrix[5]=1,this.m_matrix[6]=-1,this.m_matrix[7]=-1,this.areaGeomContainsOrDisjointPredicates_(e,this.m_performPredicates[0]?0:-1,this.m_scl[0],this.m_performPredicates[1]?1:-1,this.m_scl[1])}areaAreaWithinPredicates_(e){this.areaAreaContainsPredicates_(e),Nr(this.m_matrix)}areaLineDisjointPredicates_(e,t){if(this.m_matrix[0]=-1,this.m_matrix[1]=-1,this.m_matrix[3]=-1,this.m_matrix[4]=-1,this.m_performPredicates[6]){const e=this.m_scl[6],s="T"===e||"F"===e||0!==t.calculateLength2D();this.m_matrix[6]=s?1:0}if(this.m_performPredicates[7]){const e=(0,_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.K)(t);this.m_matrix[7]=e?0:-1}this.areaGeomContainsOrDisjointPredicates_(e,this.m_performPredicates[2]?2:-1,this.m_scl[2],this.m_performPredicates[5]?5:-1,this.m_scl[5])}areaLineContainsPredicates_(e,t){if(this.m_performPredicates[0]){const e=this.m_scl[0],s="T"===e||"F"===e||0!==t.calculateLength2D();this.m_matrix[0]=s?1:0}if(this.m_performPredicates[1]){const e=(0,_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.K)(t);this.m_matrix[1]=e?0:-1}this.m_matrix[2]=2,this.m_matrix[3]=-1,this.m_matrix[4]=-1,this.m_matrix[5]=1,this.m_matrix[6]=-1,this.m_matrix[7]=-1}areaPointDisjointPredicates_(e){this.m_matrix[0]=-1,this.m_matrix[3]=-1,this.m_matrix[6]=0,this.areaGeomContainsOrDisjointPredicates_(e,this.m_performPredicates[2]?2:-1,this.m_scl[2],this.m_performPredicates[5]?5:-1,this.m_scl[5])}areaPointContainsPredicates_(e){this.m_matrix[0]=0,this.m_matrix[2]=2,this.m_matrix[3]=-1,this.m_matrix[5]=1,this.m_matrix[6]=-1}lineLineDisjointPredicates_(e,t){if(this.m_matrix[0]=-1,this.m_matrix[1]=-1,this.m_matrix[3]=-1,this.m_matrix[4]=-1,this.m_performPredicates[2]){const t=this.m_scl[2],s="T"===t||"F"===t||0!==e.calculateLength2D();this.m_matrix[2]=s?1:0}if(this.m_performPredicates[5]){const t=(0,_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.K)(e);this.m_matrix[5]=t?0:-1}if(this.m_performPredicates[6]){const e=this.m_scl[6],s="T"===e||"F"===e||0!==t.calculateLength2D();this.m_matrix[6]=s?1:0}if(this.m_performPredicates[7]){const e=(0,_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.K)(t);this.m_matrix[7]=e?0:-1}}linePointDisjointPredicates_(e){if(this.m_matrix[0]=-1,this.m_matrix[3]=-1,this.m_performPredicates[2]){const t=this.m_scl[2],s="T"===t||"F"===t||0!==e.calculateLength2D();this.m_matrix[2]=s?1:0}if(this.m_performPredicates[5]){const t=(0,_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.K)(e);this.m_matrix[5]=t?0:-1}this.m_matrix[6]=0}pointPointDisjointPredicates_(){this.m_matrix[0]=-1,this.m_matrix[2]=0,this.m_matrix[6]=0}areaAreaPredicates_(e,t,s){let n=!0;if(this.m_performPredicates[0]){this.interiorAreaInteriorArea_(e,t,s);const r=this.isPredicateKnown_(0);n&&=r}if(this.m_performPredicates[1]){this.interiorAreaBoundaryArea_(e,t,1);const s=this.isPredicateKnown_(1);n&&=s}if(this.m_performPredicates[2]){this.interiorAreaExteriorArea_(e,t,s,2);const r=this.isPredicateKnown_(2);n&&=r}if(this.m_performPredicates[3]){this.interiorAreaBoundaryArea_(e,s,3);const t=this.isPredicateKnown_(3);n&&=t}if(this.m_performPredicates[4]){this.boundaryAreaBoundaryArea_(e,t,s);const r=this.isPredicateKnown_(4);n&&=r}if(this.m_performPredicates[5]){this.boundaryAreaExteriorArea_(e,t,s,5);const r=this.isPredicateKnown_(5);n&&=r}if(this.m_performPredicates[6]){this.interiorAreaExteriorArea_(e,s,t,6);const r=this.isPredicateKnown_(6);n&&=r}if(this.m_performPredicates[7]){this.boundaryAreaExteriorArea_(e,s,t,7);const r=this.isPredicateKnown_(7);n&&=r}return n}areaLinePredicates_(e,t,s){let n=!0;if(this.m_performPredicates[0]){this.interiorAreaInteriorLine_(e,t,s);const r=this.isPredicateKnown_(0);n&&=r}if(this.m_performPredicates[1]){this.interiorAreaBoundaryLine_(e,t,s,this.m_clusterIndexB);const r=this.isPredicateKnown_(1);n&&=r}if(this.m_performPredicates[2]){this.interiorAreaExteriorLine_(e,t,s);const r=this.isPredicateKnown_(2);n&&=r}if(this.m_performPredicates[3]){this.boundaryAreaInteriorLine_(e,t,s,this.m_clusterIndexB);const r=this.isPredicateKnown_(3);n&&=r}if(this.m_performPredicates[4]){this.boundaryAreaBoundaryLine_(e,t,s,this.m_clusterIndexB);const r=this.isPredicateKnown_(4);n&&=r}if(this.m_performPredicates[5]){this.boundaryAreaExteriorLine_(e,t,s);const r=this.isPredicateKnown_(5);n&&=r}if(this.m_performPredicates[6]){this.exteriorAreaInteriorLine_(e,t);const s=this.isPredicateKnown_(6);n&&=s}if(this.m_performPredicates[7]){this.exteriorAreaBoundaryLine_(e,t,s,this.m_clusterIndexB);const r=this.isPredicateKnown_(7);n&&=r}return n}lineLinePredicates_(e,t,s){let n=!0;if(this.m_performPredicates[0]){this.interiorLineInteriorLine_(e,t,s,this.m_clusterIndexA,this.m_clusterIndexB);const r=this.isPredicateKnown_(0);n&&=r}if(this.m_performPredicates[1]){this.interiorLineBoundaryLine_(e,t,s,this.m_clusterIndexA,this.m_clusterIndexB,1);const r=this.isPredicateKnown_(1);n&&=r}if(this.m_performPredicates[2]){this.interiorLineExteriorLine_(e,t,s,2);const r=this.isPredicateKnown_(2);n&&=r}if(this.m_performPredicates[3]){this.interiorLineBoundaryLine_(e,s,t,this.m_clusterIndexB,this.m_clusterIndexA,3);const r=this.isPredicateKnown_(3);n&&=r}if(this.m_performPredicates[4]){this.boundaryLineBoundaryLine_(e,t,s,this.m_clusterIndexA,this.m_clusterIndexB);const r=this.isPredicateKnown_(4);n&&=r}if(this.m_performPredicates[5]){this.boundaryLineExteriorLine_(e,t,s,this.m_clusterIndexA,5);const r=this.isPredicateKnown_(5);n&&=r}if(this.m_performPredicates[6]){this.interiorLineExteriorLine_(e,s,t,6);const r=this.isPredicateKnown_(6);n&&=r}if(this.m_performPredicates[7]){this.boundaryLineExteriorLine_(e,s,t,this.m_clusterIndexB,7);const r=this.isPredicateKnown_(7);n&&=r}return n}areaPointPredicates_(e,t,s){let n=!0;if(this.m_performPredicates[0]){this.interiorAreaInteriorPoint_(e,t);const s=this.isPredicateKnown_(0);n&&=s}if(this.m_performPredicates[2]){this.interiorAreaExteriorPoint_(e,t);const s=this.isPredicateKnown_(2);n&&=s}if(this.m_performPredicates[3]){this.boundaryAreaInteriorPoint_(e,t,s);const r=this.isPredicateKnown_(3);n&&=r}if(this.m_performPredicates[5]){this.boundaryAreaExteriorPoint_(e,t);const s=this.isPredicateKnown_(5);n&&=s}if(this.m_performPredicates[6]){this.exteriorAreaInteriorPoint_(e,t);const s=this.isPredicateKnown_(6);n&&=s}return n}linePointPredicates_(e,t,s){let n=!0;if(this.m_performPredicates[0]){this.interiorLineInteriorPoint_(e,t,s,this.m_clusterIndexA);const r=this.isPredicateKnown_(0);n&&=r}if(this.m_performPredicates[2]){this.interiorLineExteriorPoint_(e,t,s,this.m_clusterIndexA);const r=this.isPredicateKnown_(2);n&&=r}if(this.m_performPredicates[3]){this.boundaryLineInteriorPoint_(e,t,s,this.m_clusterIndexA);const r=this.isPredicateKnown_(3);n&&=r}if(this.m_performPredicates[5]){this.boundaryLineExteriorPoint_(e,t,s,this.m_clusterIndexA);const r=this.isPredicateKnown_(5);n&&=r}if(this.m_performPredicates[6]){this.exteriorLineInteriorPoint_(e,t,s);const r=this.isPredicateKnown_(6);n&&=r}return n}pointPointPredicates_(e,t,s){let n=!0;if(this.m_performPredicates[0]){this.interiorPointInteriorPoint_(e,t,s);const r=this.isPredicateKnown_(0);n&&=r}if(this.m_performPredicates[2]){this.interiorPointExteriorPoint_(e,t,s,2);const r=this.isPredicateKnown_(2);n&&=r}if(this.m_performPredicates[6]){this.interiorPointExteriorPoint_(e,s,t,6);const r=this.isPredicateKnown_(6);n&&=r}return n}interiorAreaInteriorArea_(e,t,s){if(2===this.m_matrix[0])return;const n=this.m_topoGraph.getHalfEdgeFaceParentage(e);0!==(n&t)&&0!==(n&s)&&(this.m_matrix[0]=2)}interiorAreaBoundaryArea_(e,t,s){if(1===this.m_matrix[s])return;const n=this.m_topoGraph.getHalfEdgeFaceParentage(e),r=this.m_topoGraph.getHalfEdgeFaceParentage(this.m_topoGraph.getHalfEdgeTwin(e));0!==(n&t)&&0!==(r&t)&&(this.m_matrix[s]=1)}interiorAreaExteriorArea_(e,t,s,n){if(2===this.m_matrix[n])return;const r=this.m_topoGraph.getHalfEdgeFaceParentage(e);0!==(r&t)&&0===(r&s)&&(this.m_matrix[n]=2)}boundaryAreaBoundaryArea_(e,t,s){if(1===this.m_matrix[4])return;const n=this.m_topoGraph.getHalfEdgeParentage(e);if(0===(n&t)||0===(n&s)){if(0!==this.m_matrix[4]&&1!==this.m_topoGraph.getHalfEdgeUserIndex(this.m_topoGraph.getHalfEdgePrev(this.m_topoGraph.getHalfEdgeTwin(e)),this.m_visitedIndex)){const n=this.m_topoGraph.getHalfEdgeTo(e),r=this.m_topoGraph.getClusterParentage(n);if(0!==(r&t)&&0!==(r&s))return void(this.m_matrix[4]=0)}}else this.m_matrix[4]=1}boundaryAreaExteriorArea_(e,t,s,n){if(1===this.m_matrix[n])return;const r=this.m_topoGraph.getHalfEdgeFaceParentage(e),i=this.m_topoGraph.getHalfEdgeFaceParentage(this.m_topoGraph.getHalfEdgeTwin(e));0===(r&s)&&0===(i&s)&&(this.m_matrix[n]=1)}interiorAreaInteriorLine_(e,t,s){if(1===this.m_matrix[0])return;const n=this.m_topoGraph.getHalfEdgeFaceParentage(e),r=this.m_topoGraph.getHalfEdgeFaceParentage(this.m_topoGraph.getHalfEdgeTwin(e));0!==(n&t)&&0!==(r&t)&&(this.m_matrix[0]=1)}interiorAreaBoundaryLine_(e,t,s,n){if(0!==this.m_matrix[1]&&1!==this.m_topoGraph.getHalfEdgeUserIndex(this.m_topoGraph.getHalfEdgePrev(this.m_topoGraph.getHalfEdgeTwin(e)),this.m_visitedIndex)){const r=this.m_topoGraph.getHalfEdgeTo(e),i=this.m_topoGraph.getClusterParentage(r);if(0===(i&t)){if(0!==(this.m_topoGraph.getHalfEdgeFaceParentage(e)&t)){const e=this.m_topoGraph.getClusterUserIndex(r,n);if(0!==(i&s)&&e%2!=0)return void(this.m_matrix[1]=0)}}}}interiorAreaExteriorLine_(e,t,s){if(2===this.m_matrix[2])return;0!==(this.m_topoGraph.getHalfEdgeParentage(e)&t)&&(this.m_matrix[2]=2)}boundaryAreaInteriorLine_(e,t,s,n){if(1===this.m_matrix[3])return;const r=this.m_topoGraph.getHalfEdgeParentage(e);if(0===(r&t)||0===(r&s)){if(0!==this.m_matrix[3]&&1!==this.m_topoGraph.getHalfEdgeUserIndex(this.m_topoGraph.getHalfEdgePrev(this.m_topoGraph.getHalfEdgeTwin(e)),this.m_visitedIndex)){const r=this.m_topoGraph.getHalfEdgeTo(e),i=this.m_topoGraph.getClusterParentage(r);if(0!==(i&t)){const e=this.m_topoGraph.getClusterUserIndex(r,n);if(0!==(i&s)&&e%2==0)return void(this.m_matrix[3]=0)}}}else this.m_matrix[3]=1}boundaryAreaBoundaryLine_(e,t,s,n){if(0!==this.m_matrix[4]&&1!==this.m_topoGraph.getHalfEdgeUserIndex(this.m_topoGraph.getHalfEdgePrev(this.m_topoGraph.getHalfEdgeTwin(e)),this.m_visitedIndex)){const r=this.m_topoGraph.getHalfEdgeTo(e),i=this.m_topoGraph.getClusterParentage(r);if(0!==(i&t)){const e=this.m_topoGraph.getClusterUserIndex(r,n);if(0!==(i&s)&&e%2!=0)return void(this.m_matrix[4]=0)}}}boundaryAreaExteriorLine_(e,t,s){if(1===this.m_matrix[5])return;const n=this.m_topoGraph.getHalfEdgeParentage(e);0!==(n&t)&&0===(n&s)&&(this.m_matrix[5]=1)}exteriorAreaInteriorLine_(e,t){if(1===this.m_matrix[6])return;const s=this.m_topoGraph.getHalfEdgeFaceParentage(e),n=this.m_topoGraph.getHalfEdgeFaceParentage(this.m_topoGraph.getHalfEdgeTwin(e));0===(s&t)&&0===(n&t)&&(this.m_matrix[6]=1)}exteriorAreaBoundaryLine_(e,t,s,n){if(0!==this.m_matrix[7]&&1!==this.m_topoGraph.getHalfEdgeUserIndex(this.m_topoGraph.getHalfEdgePrev(this.m_topoGraph.getHalfEdgeTwin(e)),this.m_visitedIndex)){const r=this.m_topoGraph.getHalfEdgeTo(e),i=this.m_topoGraph.getClusterParentage(r);if(0===(i&t)){if(0===(this.m_topoGraph.getHalfEdgeFaceParentage(e)&t)){const e=this.m_topoGraph.getClusterUserIndex(r,n);if(0!==(i&s)&&e%2!=0)return void(this.m_matrix[7]=0)}}}}interiorLineInteriorLine_(e,t,s,n,r){if(1===this.m_matrix[0])return;const i=this.m_topoGraph.getHalfEdgeParentage(e);if(0===(i&t)||0===(i&s)){if(0!==this.m_matrix[0]&&1!==this.m_topoGraph.getHalfEdgeUserIndex(this.m_topoGraph.getHalfEdgePrev(this.m_topoGraph.getHalfEdgeTwin(e)),this.m_visitedIndex)){const i=this.m_topoGraph.getHalfEdgeTo(e),o=this.m_topoGraph.getClusterParentage(i);if(0!==(o&t)&&0!==(o&s)){const e=this.m_topoGraph.getClusterUserIndex(i,n),t=this.m_topoGraph.getClusterUserIndex(i,r);if(e%2==0&&t%2==0)return void(this.m_matrix[0]=0)}}}else this.m_matrix[0]=1}interiorLineBoundaryLine_(e,t,s,n,r,i){if(0!==this.m_matrix[i]&&1!==this.m_topoGraph.getHalfEdgeUserIndex(this.m_topoGraph.getHalfEdgePrev(this.m_topoGraph.getHalfEdgeTwin(e)),this.m_visitedIndex)){const o=this.m_topoGraph.getHalfEdgeTo(e),a=this.m_topoGraph.getClusterParentage(o);if(0!==(a&t)&&0!==(a&s)){const e=this.m_topoGraph.getClusterUserIndex(o,n),t=this.m_topoGraph.getClusterUserIndex(o,r);if(e%2==0&&t%2!=0)return void(this.m_matrix[i]=0)}}}interiorLineExteriorLine_(e,t,s,n){if(1===this.m_matrix[n])return;const r=this.m_topoGraph.getHalfEdgeParentage(e);0!==(r&t)&&0===(r&s)&&(this.m_matrix[n]=1)}boundaryLineBoundaryLine_(e,t,s,n,r){if(0!==this.m_matrix[4]&&1!==this.m_topoGraph.getHalfEdgeUserIndex(this.m_topoGraph.getHalfEdgePrev(this.m_topoGraph.getHalfEdgeTwin(e)),this.m_visitedIndex)){const i=this.m_topoGraph.getHalfEdgeTo(e),o=this.m_topoGraph.getClusterParentage(i);if(0!==(o&t)&&0!==(o&s)){const e=this.m_topoGraph.getClusterUserIndex(i,n),t=this.m_topoGraph.getClusterUserIndex(i,r);if(e%2!=0&&t%2!=0)return void(this.m_matrix[4]=0)}}}boundaryLineExteriorLine_(e,t,s,n,r){if(0!==this.m_matrix[r]&&1!==this.m_topoGraph.getHalfEdgeUserIndex(this.m_topoGraph.getHalfEdgePrev(this.m_topoGraph.getHalfEdgeTwin(e)),this.m_visitedIndex)){const t=this.m_topoGraph.getHalfEdgeTo(e);if(0===(this.m_topoGraph.getClusterParentage(t)&s)){if(this.m_topoGraph.getClusterUserIndex(t,n)%2!=0)return void(this.m_matrix[r]=0)}}}interiorAreaInteriorPoint_(e,t){if(0===this.m_matrix[0])return;if(0===(this.m_topoGraph.getClusterParentage(e)&t)){const s=this.m_topoGraph.getClusterChain(e);if(0!==(this.m_topoGraph.getChainParentage(s)&t))return void(this.m_matrix[0]=0)}}interiorAreaExteriorPoint_(e,t){if(2===this.m_matrix[2])return;0!==(this.m_topoGraph.getClusterParentage(e)&t)&&(this.m_matrix[2]=2)}boundaryAreaInteriorPoint_(e,t,s){if(0===this.m_matrix[3])return;const n=this.m_topoGraph.getClusterParentage(e);0===(n&t)||0===(n&s)||(this.m_matrix[3]=0)}boundaryAreaExteriorPoint_(e,t){if(1===this.m_matrix[5])return;0!==(this.m_topoGraph.getClusterParentage(e)&t)&&(this.m_matrix[5]=1)}exteriorAreaInteriorPoint_(e,t){if(0===this.m_matrix[6])return;if(0===(this.m_topoGraph.getClusterParentage(e)&t)){const s=this.m_topoGraph.getClusterChain(e);if(0===(this.m_topoGraph.getChainParentage(s)&t))return void(this.m_matrix[6]=0)}}interiorLineInteriorPoint_(e,t,s,n){if(0===this.m_matrix[0])return;const r=this.m_topoGraph.getClusterParentage(e);if(0!==(r&t)&&0!==(r&s)){if(this.m_topoGraph.getClusterUserIndex(e,n)%2==0)return void(this.m_matrix[0]=0)}}interiorLineExteriorPoint_(e,t,s,n){if(1===this.m_matrix[2])return;if(-1===this.m_topoGraph.getClusterHalfEdge(e)){if(0!==this.m_matrix[2]){if(0===(this.m_topoGraph.getClusterParentage(e)&s))return void(this.m_matrix[2]=0)}}else this.m_matrix[2]=1}boundaryLineInteriorPoint_(e,t,s,n){if(0===this.m_matrix[3])return;const r=this.m_topoGraph.getClusterParentage(e);if(0!==(r&t)&&0!==(r&s)){if(this.m_topoGraph.getClusterUserIndex(e,n)%2!=0)return void(this.m_matrix[3]=0)}}boundaryLineExteriorPoint_(e,t,s,n){if(0===this.m_matrix[5])return;const r=this.m_topoGraph.getClusterParentage(e);if(0!==(r&t)&&0===(r&s)){if(this.m_topoGraph.getClusterUserIndex(e,n)%2!=0)return void(this.m_matrix[5]=0)}}exteriorLineInteriorPoint_(e,t,s){if(0===this.m_matrix[6])return;const n=this.m_topoGraph.getClusterParentage(e);0!==(n&t)||0===(n&s)||(this.m_matrix[6]=0)}interiorPointInteriorPoint_(e,t,s){if(0===this.m_matrix[0])return;const n=this.m_topoGraph.getClusterParentage(e);0===(n&t)||0===(n&s)||(this.m_matrix[0]=0)}interiorPointExteriorPoint_(e,t,s,n){if(0===this.m_matrix[n])return;const r=this.m_topoGraph.getClusterParentage(e);0===(r&t)||0!==(r&s)||(this.m_matrix[n]=0)}computeMatrixTopoGraphHalfEdges_(e,t){let s=!1;const n=this.m_topoGraph.getGeometryID(e),r=this.m_topoGraph.getGeometryID(t);this.m_visitedIndex=this.m_topoGraph.createUserIndexForHalfEdges();for(let i=this.m_topoGraph.getFirstCluster();i!==_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n;i=this.m_topoGraph.getNextCluster(i)){const e=this.m_topoGraph.getClusterHalfEdge(i);if(e===_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n){if(null!==this.m_predicatesCluster&&(s=this.m_predicatesCluster(i,n,r),s))break;continue}let t=e;do{let e=t;if(1!==this.m_topoGraph.getHalfEdgeUserIndex(e,this.m_visitedIndex))do{if(s=this.m_predicatesHalfEdge(e,n,r),s)break;this.m_topoGraph.setHalfEdgeUserIndex(e,this.m_visitedIndex,1),e=this.m_topoGraph.getHalfEdgeNext(e)}while(e!==t&&!s);if(s)break;t=this.m_topoGraph.getHalfEdgeNext(this.m_topoGraph.getHalfEdgeTwin(e))}while(t!==e);if(s)break}s||this.setRemainingPredicatesToFalse_(),this.m_topoGraph.deleteUserIndexForHalfEdges(this.m_visitedIndex)}computeMatrixTopoGraphClusters_(e,t){let s=!1;const n=this.m_topoGraph.getGeometryID(e),r=this.m_topoGraph.getGeometryID(t);for(let i=this.m_topoGraph.getFirstCluster();i!==_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n&&(s=this.m_predicatesCluster(i,n,r),!s);i=this.m_topoGraph.getNextCluster(i));s||this.setRemainingPredicatesToFalse_()}setEditShape_(e,t){this.m_topoGraph.setEditShape(e,t)}setEditShapeCrackAndCluster_(e,t,s){let r=0;if(e.hasCurves()){const n=new fa,i=e.getEnvelope2D(s),o=_a(t.total(),i);r=pa(o,0),aa(e,o,t.total(),12e3,n,null,s),n.clearStitcher(e)}ya(e,t.add(r),s,!1,!1),e.filterClosePoints(0,!0,!0,!1,_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n);for(let i=e.getFirstGeometry();i!==_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n;i=e.getNextGeometry(i))e.getGeometryType(i)===_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumPolygon&&er(e,i,-1,!1,_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n,s);this.setEditShape_(e,s)}}function Nr(e){const t=e[1],s=e[2],n=e[5];e[1]=e[3],e[2]=e[6],e[5]=e[7],e[3]=t,e[6]=s,e[7]=n}function Tr(t,s,i){const o=t.getGeometryType();if((0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.f)(o)){const e=new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.P({vd:t.getDescription()});return e.addSegment(t,!0),e}if(o===_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumEnvelope){const n=t,r=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D.constructEmpty();if(t.queryEnvelope(r),r.height()<=s&&r.width()<=s){const e=new _Envelope_js__WEBPACK_IMPORTED_MODULE_3__.P({vd:t.getDescription()});return n.getCenter(e),e}if(r.height()<=s||r.width()<=s){const e=new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.P({vd:t.getDescription()}),s=new _Envelope_js__WEBPACK_IMPORTED_MODULE_3__.P;return n.queryCornerByVal(0,s),e.startPathPoint(s),n.queryCornerByVal(2,s),e.lineToPoint(s),e}const i=new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.a({vd:t.getDescription()});return i.addEnvelope(n,!1),i}return t}function Gr(e){return`${e[0]}${e[3]}${e[6]}${e[1]}${e[4]}${e[7]}${e[2]}${e[5]}${e[8]}`}class Dr{nullFunc(){return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.d)("should not be called"),!1}constructor(t,s,n,r=!1){this.m_bDone=!1,this.m_tolerance=0,this.m_elementHandle=-1,this.m_query=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D.constructEmpty(),this.m_envInter=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D.constructEmpty(),this.m_quadTree=null,this.m_intersector=null,this.m_function=this.nullFunc;const i=t.getAccelerators();let a=null;null!=i&&(a=r?i.getQuadTreeForPaths():i.getQuadTree());const h=s.getAccelerators();let m=null;if(null!=h&&(m=r?h.getQuadTreeForPaths():h.getQuadTree()),null===a&&null===m&&!r){const r=t.getPointCount(),i=s.getPointCount();if(r>10&&i>10){const h=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D.constructEmpty(),l=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D.constructEmpty(),g=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D.constructEmpty();t.queryLooseEnvelope(h),s.queryLooseEnvelope(l),h.inflateCoords(n,n),l.inflateCoords(n,n),g.setCoords({env2D:h}),g.intersect(l),r>=i?a=(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.h)(t.getGeometryType())?(0,_Envelope_js__WEBPACK_IMPORTED_MODULE_3__.F)(t,g):(0,_Envelope_js__WEBPACK_IMPORTED_MODULE_3__.Z)(t,g):m=(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.h)(s.getGeometryType())?(0,_Envelope_js__WEBPACK_IMPORTED_MODULE_3__.F)(s,g):(0,_Envelope_js__WEBPACK_IMPORTED_MODULE_3__.Z)(s,g)}}this.construct_(t,a,s,m,n,r)}next(){if(this.m_bQuadTree){if(this.m_bDone)return!1;for(;this.m_function(););return!this.m_bDone}return!!this.m_intersector&&this.m_intersector.next()}getRedElement(){return this.m_bQuadTree?this.m_bSwapElements?this.m_quadTree.getElement(this.m_elementHandle):(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.h)(this.m_queryType)?this.m_bPaths?this.m_pathIndex:this.m_segIter.getStartPointIndex():this.m_pointIndex:this.m_bSwapElements?this.m_intersector.getBlueElement(this.m_intersector.getHandleB()):this.m_intersector.getRedElement(this.m_intersector.getHandleA())}getBlueElement(){return this.m_bQuadTree?this.m_bSwapElements?(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.h)(this.m_queryType)?this.m_bPaths?this.m_pathIndex:this.m_segIter.getStartPointIndex():this.m_pointIndex:this.m_quadTree.getElement(this.m_elementHandle):this.m_bSwapElements?this.m_intersector.getRedElement(this.m_intersector.getHandleA()):this.m_intersector.getBlueElement(this.m_intersector.getHandleB())}getRedEnvelope(){return this.m_bPaths||(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.p)(""),this.m_bQuadTree?this.m_bSwapElements?this.m_quadTree.getElementExtent(this.m_elementHandle):this.m_query:this.m_bSwapElements?this.m_intersector.getBlueEnvelope(this.m_intersector.getHandleB()):this.m_intersector.getRedEnvelope(this.m_intersector.getHandleA())}getBlueEnvelope(){return this.m_bPaths||(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.p)(""),this.m_bQuadTree?this.m_bSwapElements?this.m_query:this.m_quadTree.getElementExtent(this.m_elementHandle):this.m_bSwapElements?this.m_intersector.getRedEnvelope(this.m_intersector.getHandleA()):this.m_intersector.getBlueEnvelope(this.m_intersector.getHandleB())}construct_(t,s,r,i,a,h){const m=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D.constructEmpty(),l=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D.constructEmpty();t.queryLooseEnvelope(m),r.queryLooseEnvelope(l),m.inflateCoords(a,a),l.inflateCoords(a,a),this.m_envInter.setCoords({env2D:m}),this.m_envInter.intersect(l),this.m_multiVertexImplA=t,this.m_multiVertexImplB=r;const g=t.getGeometryType(),u=r.getGeometryType();this.m_bPaths=h,this.m_pathIndex=-1,this.m_pointIndex=-1,this.m_bSwapElements=!1,this.m_queryType=_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumUnknown,this.m_bQuadTree=!1,null!==s&&(this.m_bDone=!1,this.m_tolerance=a,this.m_quadTree=s,this.m_qtIter=this.m_quadTree.getIteratorForQT(),this.m_bQuadTree=!0,this.m_bSwapElements=!0,(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.h)(u)?(this.m_queryType=u,this.m_function=this.nextPath_,h?this.m_pathIndex=r.getPathCount():this.m_segIter=r.querySegmentIterator()):(this.m_queryType=u,this.m_function=this.nextPoint_,this.m_pointIndex=r.getPointCount())),this.m_bQuadTree||null!==i&&(this.m_bDone=!1,this.m_tolerance=a,this.m_quadTree=i,this.m_qtIter=this.m_quadTree.getIteratorForQT(),this.m_bQuadTree=!0,this.m_bSwapElements=!1,(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.h)(g)?(this.m_queryType=g,this.m_function=this.nextPath_,h?this.m_pathIndex=t.getPathCount():this.m_segIter=t.querySegmentIterator()):(this.m_queryType=g,this.m_function=this.nextPoint_,this.m_pointIndex=t.getPointCount())),this.m_bQuadTree||(h&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.h)(g)&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.h)(u)?this.m_intersector=(0,_Envelope_js__WEBPACK_IMPORTED_MODULE_3__.a1)(t,r,a):(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.h)(g)&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.h)(u)?(this.m_intersector=(0,_Envelope_js__WEBPACK_IMPORTED_MODULE_3__._)(t,r,a),this.m_bSwapElements=!1):(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.h)(g)&&!(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.h)(u)?(this.m_intersector=(0,_Envelope_js__WEBPACK_IMPORTED_MODULE_3__.$)(t,r,a),this.m_bSwapElements=!1):!(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.h)(g)&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.h)(u)?(this.m_intersector=(0,_Envelope_js__WEBPACK_IMPORTED_MODULE_3__.$)(r,t,a),this.m_bSwapElements=!0):(this.m_intersector=(0,_Envelope_js__WEBPACK_IMPORTED_MODULE_3__.a0)(t,r,a),this.m_bSwapElements=!1))}nextPath_(){return this.m_bPaths?-1===--this.m_pathIndex?(this.m_bDone=!0,!1):(this.m_bSwapElements?this.m_multiVertexImplB.queryPathEnvelope(this.m_pathIndex,this.m_query):this.m_multiVertexImplA.queryPathEnvelope(this.m_pathIndex,this.m_query),this.m_qtIter.resetIterator(this.m_query,this.m_tolerance),this.m_function=this.iterate_,!0):this.m_segIter.nextPath()?(this.m_function=this.nextSegment_,!0):(this.m_bDone=!0,!1)}nextSegment_(){if(!this.m_segIter.hasNextSegment())return this.m_function=this.nextPath_,!0;const t=this.m_segIter.nextSegment(),s=new _Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D;return t.queryLooseEnvelope(s),!s.isIntersecting(this.m_envInter)||(this.m_qtIter.resetIterator(t,this.m_tolerance),this.m_function=this.iterate_,!0)}nextPoint_(){if(-1===--this.m_pointIndex)return this.m_bDone=!0,!1;const t=new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P;if(this.m_bSwapElements){const e=this.m_multiVertexImplB.getXY(this.m_pointIndex);t.setCoordsPoint2D(e)}else{const e=this.m_multiVertexImplA.getXY(this.m_pointIndex);t.setCoordsPoint2D(e)}return!this.m_envInter.contains(t)||(this.m_qtIter.resetIterator(_Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D.construct(t.x,t.y,t.x,t.y),this.m_tolerance),this.m_function=this.iterate_,!0)}iterate_(){return this.m_elementHandle=this.m_qtIter.next(),-1===this.m_elementHandle&&((0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.h)(this.m_queryType)?(this.m_function=this.m_bPaths?this.nextPath_:this.nextSegment_,!0):(this.m_function=this.nextPoint_,!0))}}function Vr(e){return 2===e?1:1===e?2:128===e?64:64===e?128:e}function Fr(t,s,n){let r;if(t instanceof oc||null===t){const i=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D.constructEmpty();i.setCoords({pt:s}),i.mergeEnvelope2D(n),r=(0,_Envelope_js__WEBPACK_IMPORTED_MODULE_3__.a)(t,i,!1)}else r=t;return r}function Hr(t,s,n){let r;if(t instanceof oc||null===t){const i=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D.constructEmpty();i.setCoords({env2D:s}),i.mergeEnvelope2D(n),r=(0,_Envelope_js__WEBPACK_IMPORTED_MODULE_3__.a)(t,i,!1)}else r=t;return r}function kr(t,i,o,a,h){if(t.isEmpty()||i.isEmpty())return 4===a;(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.c)(t),(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.c)(i);let m=t.getGeometryType(),l=i.getGeometryType();if(m===_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumEnvelope){if(l===_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumEnvelope)return Ar(t,i,o,a);if(l===_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumPoint)return Mr(i,t,o,Vr(a))}else if(m===_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumPoint){if(l===_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumEnvelope)return Mr(t,i,o,a);if(l===_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumPoint)return Ur(t,i,o,a)}const g=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D.constructEmpty();t.queryEnvelope(g);const u=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D.constructEmpty();i.queryEnvelope(u);const c=Hr(o,g,u);if(qr(g,u,c))return 4===a;let _=!1,d=null,p=null,f=null,x=null;switch((0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.f)(m)?(d=new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.P({vd:t.getDescription()}),d.addSegment(t,!0),f=d,m=_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumPolyline):f=t,(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.f)(l)?(p=new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.P({vd:i.getDescription()}),p.addSegment(i,!0),x=p,l=_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumPolyline):x=i,m!==_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumEnvelope&&l!==_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumEnvelope?(f.getDimension()<x.getDimension()||m===_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumPoint&&l===_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumMultiPoint)&&(a=Vr(a)):m!==_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumPolygon&&l!==_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumEnvelope&&(a=Vr(a)),m){case _Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumPolygon:switch(l){case _Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumPolygon:_=Yr(f,x,c,a,h);break;case _Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumPolyline:_=Rr(f,x,c,a,h);break;case _Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumPoint:_=Xr(f,x,c,a);break;case _Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumMultiPoint:_=Lr(f,x,c,a);break;case _Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumEnvelope:_=zr(f,x,c,a,h)}break;case _Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumPolyline:switch(l){case _Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumPolygon:_=Rr(x,f,c,a,h);break;case _Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumPolyline:_=Wr(f,x,c,a,h);break;case _Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumPoint:_=jr(f,x,c,a);break;case _Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumMultiPoint:_=Zr(f,x,c,a);break;case _Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumEnvelope:_=Kr(f,x,c,a,h)}break;case _Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumPoint:switch(l){case _Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumPolygon:_=Xr(x,f,c,a);break;case _Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumPolyline:_=jr(x,f,c,a);break;case _Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumMultiPoint:_=Jr(x,f,c,a)}break;case _Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumMultiPoint:switch(l){case _Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumPolygon:_=Lr(x,f,c,a);break;case _Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumPolyline:_=Zr(x,f,c,a);break;case _Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumMultiPoint:_=Qr(f,x,c,a);break;case _Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumPoint:_=Jr(f,x,c,a);break;case _Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumEnvelope:_=$r(f,x,c,a)}break;case _Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumEnvelope:switch(l){case _Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumPolygon:_=zr(x,f,c,a,h);break;case _Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumPolyline:_=Kr(x,f,c,a,h);break;case _Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumMultiPoint:_=$r(x,f,c,a)}}return _}function Ar(t,s,n,r,i){if(t.isEmpty()||s.isEmpty())return 4===r;const o=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D.constructEmpty();t.queryEnvelope(o);const a=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D.constructEmpty();s.queryEnvelope(a);const h=Hr(n,o,a);switch(r){case 4:return qr(o,a,h);case 2:return go(a,o,h,!1);case 128:return go(a,o,h,!0);case 1:return go(o,a,h,!1);case 64:return go(o,a,h,!0);case 3:return ho(o,a,h);case 8:return mo(o,a,h);case 32:return lo(o,a,h);case 16:return!1}return!1}function Mr(t,s,n,r,i){if(t.isEmpty()||s.isEmpty())return 4===r;const o=t.getXY(),a=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D.constructEmpty();s.queryEnvelope(a);const h=Fr(n,o,a);switch(r){case 4:return Or(o,a,h);case 2:case 128:return ao(o,a,h);case 1:case 64:return!1;case 3:return io(o,a,h);case 8:return oo(o,a,h)}return!1}function Ur(t,s,n,r,i){if(t.isEmpty()||s.isEmpty())return 4===r;const o=t.getXY(),a=s.getXY();let h;if(n instanceof oc||null===n){const t=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D.constructEmpty();t.setCoords({pt:o}),t.merge(a),h=(0,_Envelope_js__WEBPACK_IMPORTED_MODULE_3__.a)(n,t,!1)}else h=n;switch(r){case 4:return no(o,a,h);case 2:case 128:return ro(a,o,h);case 1:case 64:return ro(o,a,h);case 3:return so(o,a,h)}return!1}function qr(t,s,n){const r=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D.constructEmpty();return r.setCoords({env2D:s}),r.inflateCoords(n,n),!t.isIntersecting(r)}function Br(e,t,s,n=!1){const r=e.getGeometryType(),i=t.getGeometryType();if((0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.i)(r)){const t=e.getImpl().getAccelerators();if(null!==t){const e=t.getRasterizedGeometry();(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(null===e)}}if((0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.i)(i)){const e=t.getImpl().getAccelerators();if(null!==e){const t=e.getRasterizedGeometry();(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(null===t)}}return 0}function Or(t,s,n,r){const i=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D.constructEmpty();return i.setCoords({env2D:s}),i.inflateCoords(n,n),!i.contains(t)}function Yr(e,t,s,n,r){switch(n){case 4:return ti(e,t,s);case 2:return ri(t,e,s,r);case 128:return ii(t,e,s);case 1:return ri(e,t,s,r);case 64:return ii(e,t,s);case 3:return ei(e,t,s,r);case 8:return si(e,t,s);case 32:return ni(e,t,s,r)}return!1}function Rr(e,t,s,n,r){switch(n){case 4:return oi(e,t,s);case 1:return mi(e,t,s,r);case 64:return li(e,t,s);case 8:return ai(e,t,s,r);case 16:return hi(e,t,s)}return!1}function Xr(e,t,s,n,r){switch(n){case 4:return gi(e,t,s);case 1:case 64:return ci(e,t,s);case 8:return ui(e,t,s)}return!1}function Lr(e,t,s,n,r){switch(n){case 4:return _i(e,t,s);case 1:return fi(e,t,s,!1);case 64:return fi(e,t,s,!0);case 8:return di(e,t,s);case 16:return pi(e,t,s)}return!1}function zr(e,t,s,n,r){if(yi(e,t,s))return 4===n;if(4===n)return!1;switch(n){case 2:return Si(e,t,s,!1);case 128:return Si(e,t,s,!0);case 1:return Ci(e,t,s,!1,r);case 64:return Ci(e,t,s,!0,r);case 3:return xi(e,t,s,r);case 8:return Pi(e,t,s,r);case 32:return Ei(e,t,s,r);case 16:return!1}return!1}function Wr(e,t,s,n,r){switch(n){case 4:return bi(e,t,s);case 2:return Ti(t,e,s,r);case 128:return Gi(t,e,s,r);case 1:return Ti(e,t,s,r);case 64:return Gi(e,t,s,r);case 3:return Ii(e,t,s,r);case 8:return wi(e,t,s,r);case 32:return Ni(e,t,s,r);case 16:return vi(e,t,s,r)}return!1}function jr(e,t,s,n,r){switch(n){case 4:return Di(e,t,s);case 1:case 64:return Fi(e,t,s);case 8:return Vi(e,t,s)}return!1}function Zr(e,t,s,n,r){switch(n){case 4:return Hi(e,t,s);case 1:case 64:return Mi(e,t,s);case 8:return ki(e,t,s);case 16:return Ai(e,t,s)}return!1}function Kr(e,t,s,n,r){if(qi(e,t,s))return 4===n;if(4===n)return!1;switch(n){case 2:return Oi(e,t,s,!1);case 128:return Oi(e,t,s,!0);case 1:case 64:case 32:return!1;case 3:return Ui(e,t,s);case 8:return Bi(e,t,s,r);case 16:return Yi(e,t,s)}return!1}function Qr(e,t,s,n,r){switch(n){case 4:return Xi(e,t,s);case 2:case 128:return zi(t,e,s);case 1:case 64:return zi(e,t,s);case 3:return Ri(e,t,s);case 32:return Li(e,t,s)}return!1}function Jr(e,t,s,n,r){switch(n){case 4:return ji(e,t,s);case 2:case 128:return Zi(e,t,s);case 1:case 64:return Ki(e,t,s);case 3:return Wi(e,t,s)}return!1}function $r(e,t,s,n,r){switch(n){case 4:return Ji(e,t,s);case 2:return eo(e,t,s,!1);case 128:return eo(e,t,s,!0);case 1:case 64:return!1;case 3:return Qi(e,t,s);case 8:return $i(e,t,s);case 16:return to(e,t,s)}return!1}function ei(t,s,n,r){const i=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D.constructEmpty(),o=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D.constructEmpty();if(t.queryEnvelope(i),s.queryEnvelope(o),!ho(i,o,n))return!1;if(Br(t,s),yo(t,s,n))return!0;const a=t.calculateLength2D(),h=s.calculateLength2D(),m=Math.max(t.getPointCount(),s.getPointCount());if(Math.abs(a-h)>4*m*n)return!1;if(t.hasNonLinearSegments()||s.hasNonLinearSegments()){return sr(t,s,n,"**F**FFF*",r,!1)}return So(t,s,n,!0)}function ti(e,t,s,n){Br(e,t,s,!0);return 1===uo(e,t,s,!0)}function si(e,t,s,n){return Br(e,t),Go(e,t,s,null)}function ni(e,t,s,n){return Br(e,t),Do(e,t,s,n)}function ri(t,s,n,r){const i=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D.constructEmpty(),o=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D.constructEmpty();return t.queryEnvelope(i),s.queryEnvelope(o),!!po(i,o,n)&&(Br(t,s),Vo(t,s,n,r))}function ii(t,s,n,r){const i=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D.constructEmpty(),o=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D.constructEmpty();return t.queryEnvelope(i),s.queryEnvelope(o),!!po(i,o,n)&&(Br(t,s),2===uo(t,s,n,!1))}function oi(e,t,s,n){Br(e,t,s,!0);return 1===uo(e,t,s,!0)}function ai(e,t,s,n){return Br(e,t),Fo(e,t,s,n)}function hi(e,t,s,n){return Br(e,t),Ho(e,t,s,null)}function mi(t,s,n,r){const i=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D.constructEmpty(),o=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D.constructEmpty();return t.queryEnvelope(i),s.queryEnvelope(o),!!po(i,o,n)&&(Br(t,s),ko(t,s,n,r))}function li(t,s,n,r){const i=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D.constructEmpty(),o=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D.constructEmpty();return t.queryEnvelope(i),s.queryEnvelope(o),!!po(i,o,n)&&(Br(t,s),2===uo(t,s,n,!1))}function gi(e,t,s,n){return 0===Xo(e,t,s)}function ui(e,t,s,n){return Mo(e,t.getXY(),s)}function ci(e,t,s,n){return Ao(e,t.getXY(),s)}function _i(e,t,s,n,r){Br(e,t);return 1===co(e,t,s)}function di(t,s,n,r){Br(t,s);const i=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D.constructEmpty();t.queryEnvelope(i),i.inflateCoords(n,n);const o=new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P;let a=!1;const h=t.getImpl(),m=new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.a;let l=t,g=!1;for(let e=0;e<s.getPointCount();e++){if(s.queryXY(e,o),i.contains(o)){const e=Lo(l,o,n);if(2===e)a=!0;else if(1===e)return!1}g||(!Wn(t,s.getPointCount()-1)||null!==h.getAccelerators()&&null!==h.getAccelerators().getQuadTree()?l=t:(t.copyTo(m),m.getImpl().buildQuadTreeAccelerator(1),l=m),g=!0)}return!!a}function pi(t,s,n,r){Br(t,s);const i=new _Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D,o=new _Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D,a=new _Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D;t.queryEnvelope(i),s.queryEnvelope(a),o.setCoords({env2D:i}),o.inflateCoords(n,n);let h=!1,m=!1;const l=new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P,g=t.getImpl(),u=new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.a;let c=t,_=!1;for(let e=0;e<s.getPointCount();e++){if(s.queryXY(e,l),o.contains(l)){const e=Lo(c,l,n);0===e?m=!0:1===e&&(h=!0)}else m=!0;if(h&&m)return!0;_||(!Wn(t,s.getPointCount()-1)||null!==g.getAccelerators()&&null!==g.getAccelerators().getQuadTree()?c=t:(t.copyTo(u),u.getImpl().buildQuadTreeAccelerator(1),c=u),_=!0)}return!1}function fi(t,s,n,r,i){const o=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D.constructEmpty(),a=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D.constructEmpty();if(t.queryEnvelope(o),s.queryEnvelope(a),!po(o,a,n))return!1;Br(t,s);let h=!1;const m=new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P,l=t.getImpl(),g=new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.a;let u=t,c=!1;for(let e=0;e<s.getPointCount();e++){if(s.queryXY(e,m),!o.contains(m))return!1;const i=Lo(u,m,n);if(1===i)h=!0;else if(0===i)return!1;if(r&&2===i)return!1;c||(!Wn(t,s.getPointCount()-1)||null!==l.getAccelerators()&&null!==l.getAccelerators().getQuadTree()?u=t:(t.copyTo(g),g.getImpl().buildQuadTreeAccelerator(1),u=g),c=!0)}return h}function xi(t,s,n,r){const i=new _Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D,o=new _Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D;if(t.queryEnvelope(i),s.queryEnvelope(o),!ho(i,o,n))return!1;const a=new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.a;return a.addEnvelope(s,!1),ei(t,a,n,r)}function yi(t,s,n,r){Br(t,s);const i=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D.constructEmpty(),o=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D.constructEmpty();if(t.queryEnvelope(i),s.queryEnvelope(o),po(o,i,n))return!1;return 0===Lo(t,o.getLowerLeft(),0)&&(!o.contains(t.getXY(0))&&!To(t,o,n))}function Pi(t,s,n,r){Br(t,s);const i=new _Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D,o=new _Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D;if(t.queryEnvelope(i),s.queryEnvelope(o),po(o,i,n))return!1;if(o.height()<=n||o.width()<=n)return!1;const a=new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.a;return a.addEnvelope(s,!1),Go(t,a,n,r)}function Ei(t,s,n,r){Br(t,s);const i=new _Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D,o=new _Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D;if(t.queryEnvelope(i),s.queryEnvelope(o),po(o,i,n))return!1;if(o.height()<=n||o.width()<=n)return!1;const a=new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.a;return a.addEnvelope(s,!1),Do(t,a,n,r)}function Si(t,s,n,r,i){const o=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D.constructEmpty(),a=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D.constructEmpty();return t.queryEnvelope(o),s.queryEnvelope(a),r?fo(a,o,n):po(a,o,n)}function Ci(t,s,n,r,i){const o=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D.constructEmpty(),a=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D.constructEmpty();if(t.queryEnvelope(o),s.queryEnvelope(a),!po(o,a,n))return!1;Br(t,s);const h=new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.a;return h.addEnvelope(s,!1),r?2===uo(t,h,n,!1):Vo(t,h,n,i)}function Ii(t,s,n,r){const i=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D.constructEmpty(),o=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D.constructEmpty();if(t.queryEnvelope(i),s.queryEnvelope(o),!ho(i,o,n))return!1;if(Br(t,s),yo(t,s,n))return!0;if(t.hasNonLinearSegments()||s.hasNonLinearSegments()){return sr(t,s,n,"**F**FFF*",r,!1)}return So(t,s,n,!1)}function bi(e,t,s,n){Br(e,t);const r=e.getImpl(),i=t.getImpl();return!new Dr(r,i,s,!0).next()||!Io(e,t,s)}function wi(t,s,n,r){Br(t,s);const i=[],o=bo(t,s,n,i);if(-2===o){const i=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D.constructEmpty(),o=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D.constructEmpty(),a=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D.constructEmpty();let h,m;if(t.queryEnvelope(i),s.queryEnvelope(o),i.inflateCoords(1e3*n,1e3*n),o.inflateCoords(1e3*n,1e3*n),a.setCoords({env2D:i}),a.intersect(o),t.getPointCount()>10){if(h=(0,_OperatorClip_js__WEBPACK_IMPORTED_MODULE_7__.c)(t,a,n,0,r),h.isEmpty())return!1}else h=t;if(s.getPointCount()>10){if(m=(0,_OperatorClip_js__WEBPACK_IMPORTED_MODULE_7__.c)(s,a,n,0,r),m.isEmpty())return!1}else m=s;return sr(h,m,n,"F********",r,!1)}if(0!==o)return!1;const a=new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.M;for(let e=0;e<i.length;e+=2){const t=i[e],s=i[e+1];a.addXY(t,s)}const h=t.getBoundary(),m=s.getBoundary();return h.addPoints(m,0,m.getPointCount()),!h.isEmpty()&&zi(h,a,n)}function vi(t,s,n,r){Br(t,s);const i=[],o=bo(t,s,n,i);if(-2===o){const i=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D.constructEmpty(),o=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D.constructEmpty(),a=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D.constructEmpty();let h,m;if(t.queryEnvelope(i),s.queryEnvelope(o),i.inflateCoords(1e3*n,1e3*n),o.inflateCoords(1e3*n,1e3*n),a.setCoords({env2D:i}),a.intersect(o),t.getPointCount()>10){if(h=(0,_OperatorClip_js__WEBPACK_IMPORTED_MODULE_7__.c)(t,a,n,0,r),h.isEmpty())return!1}else h=t;if(s.getPointCount()>10){if(m=(0,_OperatorClip_js__WEBPACK_IMPORTED_MODULE_7__.c)(s,a,n,0,r),m.isEmpty())return!1}else m=s;return sr(h,m,n,"0********",r,!1)}if(0!==o)return!1;const a=new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.M;for(let e=0;e<i.length;e+=2){const t=i[e],s=i[e+1];a.addXY(t,s)}const h=t.getBoundary(),m=s.getBoundary();return h.addPoints(m,0,m.getPointCount()),!!h.isEmpty()||!zi(h,a,n)}function Ni(t,s,n,r){Br(t,s);const i=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D.constructEmpty(),o=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D.constructEmpty();t.queryEnvelope(i),s.queryEnvelope(o);const a=xo(i,o,n),h=xo(o,i,n),m=t.hasNonLinearSegments(),l=s.hasNonLinearSegments(),g=bo(t,s,n,null);if(-1===g)return!1;if(1===g){if(a&&h)return!0;if(!m&&!l)return a&&!h?!Co(s,t,n,!1):h&&!a?!Co(t,s,n,!1):!Co(t,s,n,!1)&&!Co(s,t,n,!1)}const u=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D.constructEmpty(),c=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D.constructEmpty(),_=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D.constructEmpty();let d,p;u.setCoords({env2D:i}),u.inflateCoords(1e3*n,1e3*n),c.setCoords({env2D:o}),c.inflateCoords(1e3*n,1e3*n),_.setCoords({env2D:u}),_.intersect(c);let f="";if(f+="1*",a){if(s.getPointCount()>10){if(p=(0,_OperatorClip_js__WEBPACK_IMPORTED_MODULE_7__.c)(s,_,n,0,r),p.isEmpty())return!1}else p=s;f+="****"}else p=s,f+="T***";if(h){if(t.getPointCount()>10){if(d=(0,_OperatorClip_js__WEBPACK_IMPORTED_MODULE_7__.c)(t,_,n,0,r),d.isEmpty())return!1}else d=t;f+="***"}else d=t,f+="T**";return sr(d,p,n,f,r,!1)}function Ti(t,s,n,r){const i=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D.constructEmpty(),o=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D.constructEmpty();if(t.queryEnvelope(i),s.queryEnvelope(o),!po(i,o,n))return!1;if(Br(t,s),t.hasNonLinearSegments()||s.hasNonLinearSegments()){return sr(t,s,n,"******FF*",r,!1)}return Co(s,t,n,!1)}function Gi(t,s,n,r){const i=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D.constructEmpty(),o=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D.constructEmpty();if(t.queryEnvelope(i),s.queryEnvelope(o),!po(i,o,n))return!1;Br(t,s);return sr(t,s,n,"T**FF*FF*",r,!1)}function Di(e,t,s,n){Br(e,t);return!vo(e,t.getXY(),s)}function Vi(e,t,s,n){Br(e,t);return qo(e,t.getXY(),s)}function Fi(e,t,s,n){Br(e,t);return No(e,t.getXY(),s)}function Hi(e,t,s,n){return Br(e,t),!wo(e,t,s,!1)}function ki(e,t,s,n){Br(e,t);const r=e.getImpl(),i=t.getImpl(),o=new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.M,a=new Dr(r,i,s,!1),h=r.querySegmentIterator();let m=!1;for(;a.next();){const e=a.getRedElement(),t=a.getBlueElement();h.resetToVertex(e,-1);const n=h.nextSegment(),r=i.getXY(t);n.isIntersectingPoint(r,s)&&(m=!0,o.addPoint2D(r))}if(!m)return!1;const l=e.getBoundary();return!l.isEmpty()&&zi(l,o,s)}function Ai(e,t,s,n){Br(e,t);const r=e.getImpl(),i=t.getImpl(),o=i.getPointCount(),a=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.d)(o,!1),h=new Dr(r,i,s,!1),m=r.querySegmentIterator();let l=!1;for(;h.next();){const e=h.getRedElement(),t=h.getBlueElement();m.resetToVertex(e,-1);const n=m.nextSegment(),r=i.getXY(t);n.isIntersectingPoint(r,s)&&(l=!0,a[t]=!0)}if(!l)return!1;let g=!1;for(let _=0;_<o;_++)if(!a[_]){g=!0;break}if(!g)return!1;const u=e.getBoundary();if(u.isEmpty())return!0;const c=new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.M;for(let _=0;_<o;_++)a[_]&&c.addPoint2D(i.getXY(_));return!zi(u,c,s)}function Mi(t,s,n,r,i){const o=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D.constructEmpty(),a=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D.constructEmpty();if(t.queryEnvelope(o),s.queryEnvelope(a),!po(o,a,n))return!1;Br(t,s);const h=wo(t,s,n,!0);if(!h)return h;const m=t.getBoundary();return m.isEmpty()?h:!zi(m,s,n)}function Ui(t,s,n,r){const i=new _Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D,o=new _Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D;return t.queryEnvelope(i),s.queryEnvelope(o),!(o.height()>n&&o.width()>n)&&ho(i,o,n)}function qi(t,s,n,r){const i=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D.constructEmpty(),o=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D.constructEmpty();t.queryEnvelope(i),s.queryEnvelope(o);const a=Bo(o,i,n);return 0===a?!To(t,o,n):4===a}function Bi(t,s,r,o){const a=new _Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D,h=new _Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D;if(t.queryEnvelope(a),s.queryEnvelope(h),h.height()<=r||h.width()<=r)return!1;const m=new _Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D,l=new _Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D;if(m.setCoords({env2D:h}),l.setCoords({env2D:h}),m.inflateCoords(r,r),l.inflateCoords(-r,-r),l.containsEnvelope(a)||!a.isIntersecting(m))return!1;const g=t.getImpl().querySegmentIterator();g.stripAttributes();const u=t.getImpl().getAccelerators();let c=null,_=null;null!==u&&(c=u.getQuadTree(),null!==c&&(_=c.getIterator(h,r))),_||g.nextPath()||(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.d)("relational_operations");let d=!1,p=null;const f=new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P,x=new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P,y=t.hasNonLinearSegments();let P=!1;for(;;){if(null!==_){const e=_.next();if(-1===e)break;g.resetToVertex(c.getElement(e),-1),p=g.nextSegment()}else{for(;!g.hasNextSegment()&&g.nextPath(););if(!g.hasNextSegment())break;p=g.nextSegment()}if(y&&p.getGeometryType()!==_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumLine){const t=new _Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D;if(p.queryEnvelope(t),l.containsEnvelope(t))return!1;if(m.isIntersecting(t)){P=!0;break}}else{f.assign(p.getStartXY()),x.assign(p.getEndXY());let e=l.clipLine(f,x);if(0!==e)return!1;d||(e=m.clipLine(f,x),0!==e&&(d=!0))}}if(!P)return d;const E=new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.a;return E.addEnvelope(h,!1),ai(E,t,r,o)}function Oi(t,s,r,o,a){const h=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D.constructEmpty(),m=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D.constructEmpty();if(t.queryEnvelope(h),s.queryEnvelope(m),m.height()<=r||m.width()<=r)return!1;if(o)return fo(m,h,r);if(!po(m,h,r))return!1;const l=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D.constructEmpty();l.setCoords({env2D:m}),l.inflateCoords(-r,-r);const g=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D.constructEmpty();if(g.setCoords({env2D:m}),g.inflateCoords(r,r),l.containsEnvelope(h))return!0;const u=t.getImpl().querySegmentIterator();u.stripAttributes(),u.nextPath()||(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.d)("relational_operations");let c,_,d,p,f,x,y=!1;const P=t.hasNonLinearSegments();for(P&&(d=new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.L,p=new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.L,f=new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.L,x=new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.L,l.querySide(0,d),l.querySide(1,p),l.querySide(2,f),l.querySide(3,x));;){for(;!u.hasNextSegment()&&u.nextPath(););if(!u.hasNextSegment())break;const e=u.nextSegment();if(P&&e.getGeometryType()!==_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumLine){if(e.isIntersecting(d,r)){y=!0;break}if(e.isIntersecting(p,r)){y=!0;break}if(e.isIntersecting(f,r)){y=!0;break}if(e.isIntersecting(x,r)){y=!0;break}}else{c=e.getStartXY(),_=e.getEndXY();if(0!==l.clipLine(c,_)){y=!0;break}}}return y}function Yi(t,s,r,i){const o=new _Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D,h=new _Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D;if(t.queryEnvelope(o),s.queryEnvelope(h),h.height()<=r||h.width()<=r)return!1;const m=new _Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D;if(m.setCoords({env2D:h}),m.inflateCoords(r,r),m.containsEnvelope(o))return!1;const l=!0,g=new _Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D;if(g.setCoords({env2D:h}),g.inflateCoords(-r,-r),!g.isIntersecting(o))return!1;const u=t.getImpl().querySegmentIterator();u.stripAttributes();const c=t.getImpl().getAccelerators();let _=null,d=null;if(null!==c&&(_=c.getQuadTree(),null!==_&&(d=_.getIterator(h,r))),!d){const e=u.nextPath();(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(e)}let p=!1,f=null;const x=new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P,y=new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P;let P=null,E=null,S=null,C=null;for(t.hasNonLinearSegments()&&(P=new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.L,E=new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.L,S=new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.L,C=new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.L,g.querySide(0,P),g.querySide(1,E),g.querySide(2,S),g.querySide(3,C));;){if(null!==d){const e=d.next();if(-1===e)break;u.resetToVertex(_.getElement(e),-1),f=u.nextSegment()}else{for(;!u.hasNextSegment()&&u.nextPath(););if(!u.hasNextSegment())break;f=u.nextSegment()}if(f.getGeometryType()===_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumLine){x.assign(f.getStartXY()),y.assign(f.getEndXY());if(0!==g.clipLine(x,y)){p=!0;break}}else{if(P.isIntersecting(f,r)){p=!0;break}if(E.isIntersecting(f,r)){p=!0;break}if(S.isIntersecting(f,r)){p=!0;break}if(C.isIntersecting(f,r)){p=!0;break}}}return p&&l}function Ri(t,s,n,r){const i=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D.constructEmpty(),o=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D.constructEmpty();return t.queryEnvelope(i),s.queryEnvelope(o),!!ho(i,o,n)&&(!!Po(t,s,n)||Eo(t,s,n,!1,!0,!1))}function Xi(e,t,s,n){const r=e,i=t,o=new Dr(r,i,s,!1),a=s*s,h=new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P,m=new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P;for(;o.next();){const e=o.getRedElement(),t=o.getBlueElement();if(r.queryXY(e,h),i.queryXY(t,m),_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P.sqrDistance(h,m)<=a)return!1}return!0}function Li(e,t,s,n){return Eo(e,t,s,!1,!1,!0)}function zi(t,s,n,r){const i=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D.constructEmpty(),o=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D.constructEmpty();return t.queryEnvelope(i),s.queryEnvelope(o),!!po(i,o,n)&&Eo(s,t,n,!0,!1,!1)}function Wi(t,s,n,r){const i=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D.constructEmpty(),o=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D.constructEmpty();return t.queryEnvelope(i),s.queryEnvelope(o),ho(i,o,n)}function ji(e,t,s,n){return Uo(e,t.getXY(),s)}function Zi(e,t,s,n){return Wi(e,t,s)}function Ki(e,t,s,n){return!ji(e,t,s)}function Qi(t,s,n,r){const i=new _Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D,o=new _Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D;return t.queryEnvelope(i),s.queryEnvelope(o),!(o.height()>n||o.width()>n)&&ho(i,o,n)}function Ji(t,s,n,r){const i=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D.constructEmpty(),o=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D.constructEmpty();if(t.queryEnvelope(i),s.queryEnvelope(o),po(o,i,n))return!1;const a=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D.constructEmpty();a.setCoords({env2D:o}),a.inflateCoords(n,n);const h=new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P;for(let e=0;e<t.getPointCount();e++)if(t.queryXY(e,h),a.contains(h))return!1;return!0}function $i(t,s,n,r){const i=new _Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D,o=new _Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D,a=new _Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D;if(s.queryEnvelope(i),i.height()<=n||i.width()<=n)return!1;o.setCoords({env2D:i}),a.setCoords({env2D:i}),o.inflateCoords(n,n),a.inflateCoords(-n,-n);const h=new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P;let m=!1;for(let e=0;e<t.getPointCount();e++)if(t.queryXY(e,h),o.contains(h)){if(a.containsExclusive(h))return!1;m=!0}return m}function eo(t,s,n,r,i){const o=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D.constructEmpty(),a=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D.constructEmpty();if(t.queryEnvelope(o),s.queryEnvelope(a),a.height()<=n||a.width()<=n)return!1;if(r)return fo(a,o,n);if(!po(a,o,n))return!1;let h=!1;const m=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D.constructEmpty(),l=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D.constructEmpty();m.setCoords({env2D:a}),l.setCoords({env2D:a}),m.inflateCoords(-n,-n),l.inflateCoords(n,n);const g=new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P;for(let e=0;e<t.getPointCount();e++){if(t.queryXY(e,g),!l.contains(g))return!1;m.containsExclusive(g)&&(h=!0)}return h}function to(t,s,n,r){const i=new _Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D,o=new _Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D;if(t.queryEnvelope(i),s.queryEnvelope(o),po(o,i,n))return!1;if(o.height()<=n||o.width()<=n)return!1;const a=new _Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D,h=new _Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D;a.setCoords({env2D:o}),a.inflateCoords(-n,-n),h.setCoords({env2D:o}),h.inflateCoords(n,n);const m=new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P;let l=!1,g=!1;for(let e=0;e<t.getPointCount();e++)if(t.queryXY(e,m),!l&&a.containsExclusive(m)&&(l=!0),g||h.contains(m)||(g=!0),l&&g)return!0;return!1}function so(e,t,s,n){return _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P.sqrDistance(e,t)<=s*s}function no(e,t,s,n){return _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P.sqrDistance(e,t)>s*s}function ro(e,t,s,n){return so(e,t,s)}function io(t,s,n,r){const i=new _Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D;return i.setCoords({pt:t}),ho(i,s,n)}function oo(t,s,n,r){if(s.height()<=n||s.width()<=n)return!1;const i=new _Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D,o=new _Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D;return i.setCoords({env2D:s}),i.inflateCoords(n,n),!!i.contains(t)&&(o.setCoords({env2D:s}),o.inflateCoords(-n,-n),!o.containsExclusive(t))}function ao(t,s,n,r){if(s.height()<=n||s.width()<=n)return!1;const i=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D.constructEmpty();i.setCoords({env2D:s}),i.inflateCoords(-n,-n);return i.containsExclusive(t)}function ho(e,t,s,n){return po(e,t,s)&&po(t,e,s)}function mo(t,s,n,r){if(t.height()<=n||t.width()<=n||s.height()<=n||s.width()<=n)return!1;const i=new _Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D;return i.setCoords({env2D:t}),i.inflateCoords(-n,-n),i.intersect(s),!(!i.isEmpty()&&i.height()>n&&i.width()>n)&&(i.setCoords({env2D:t}),i.inflateCoords(n,n),i.intersect(s),!i.isEmpty())}function lo(t,s,n,r){if(t.height()<=n||t.width()<=n||s.height()<=n||s.width()<=n)return!1;if(po(t,s,n))return!1;if(po(s,t,n))return!1;const i=new _Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D;return i.setCoords({env2D:t}),i.inflateCoords(-n,-n),i.intersect(s),!i.isEmpty()&&(i.height()>n||i.width()>n)}function go(t,s,n,r,i){if(t.height()<=n||t.width()<=n)return!1;if(r)return fo(t,s,n);if(!po(t,s,n))return!1;const o=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D.constructEmpty();return o.setCoords({env2D:t}),o.inflateCoords(-n,-n),o.intersect(s),!o.isEmpty()}function uo(t,s,r,i,o){const a=new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P,h=new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P,m=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D.constructEmpty(),l=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D.constructEmpty(),g=t.getImpl(),u=s.getImpl(),c=u.getGeometryType(),_=new Dr(g,u,r,!0);if(!_.next())return 1;if(Io(t,s,r))return i?4:0;const d=new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.a;let p=t;const f=new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.a;let x=null;c===_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumPolygon&&(x=s);const y=c===_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumPolygon?(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.d)(g.getPathCount(),!1):[],P=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.d)(u.getPathCount(),!1);let E=!1,S=!1,C=!1,I=!1,b=!1,w=!1;do{if(C&&b||I&&w)break;if(C&&I)break;const e=_.getRedElement(),o=_.getBlueElement();if(!P[o]&&(h.assign(s.getXY(s.getPathStart(o))),m.setCoords({env2D:_.getRedEnvelope()}),m.inflateCoords(r,r),m.contains(h))){if(0!==Lo(p,h,0)){if(I=!0,i)return 4}else w=!0;P[o]=!0}if(c===_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumPolygon&&!y[e]&&(a.assign(t.getXY(t.getPathStart(e))),l.setCoords({env2D:_.getBlueEnvelope()}),l.inflateCoords(r,r),l.contains(a))){if(0!==Lo(x,a,0)){if(C=!0,i)return 4}else b=!0;y[e]=!0}if(E||(!Wn(t,s.getPathCount()-1)||null!==g.getAccelerators()&&null!==g.getAccelerators().getQuadTree()?p=t:(t.copyTo(d),d.getImpl().buildQuadTreeAccelerator(1),p=d),E=!0),c===_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumPolygon&&!S){const e=s;!Wn(e,t.getPathCount()-1)||null!==u.getAccelerators()&&null!==u.getAccelerators().getQuadTree()?x=s:(e.copyTo(f),f.getImpl().buildQuadTreeAccelerator(1),x=f),S=!0}}while(_.next());if(!C&&!I)return 1;if(!b||!w){if(c===_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumPolygon)for(let e=0,t=g.getPathCount();e<t;e++)if(!y[e]){b=!0;break}for(let e=0,t=u.getPathCount();e<t;e++)if(!P[e]){w=!0;break}}return C&&b||I&&w||C&&I?4:I?2:3}function co(t,s,n,r,i){const o=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D.constructEmpty();t.queryEnvelope(o),o.inflateCoords(n,n);const a=new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P,h=t.getImpl(),m=new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.a;let l=t,g=!1,u=!1,c=!1;for(let e=0;e<s.getPointCount();e++){if(s.queryXY(e,a),o.contains(a)){const e=Lo(l,a,n);if(1===e)return u=!0,4;if(2===e)return 4;c=!0}else c=!0;g||(!Wn(t,s.getPointCount()-1)||null!==h.getAccelerators()&&null!=h.getAccelerators().getQuadTree()?l=t:(t.copyTo(m),m.getImpl().buildQuadTreeAccelerator(1),l=m),g=!0)}return u?c?4:2:1}function _o(t,s,r,i,o){i[0]=!1;const h=t.getImpl(),m=s.getImpl(),l=h.querySegmentIterator(),g=m.querySegmentIterator(),u=[0,0],c=[0,0],_=new Dr(h,m,r);let d=!1;for(;_.next();){const e=_.getRedElement(),t=_.getBlueElement();l.resetToVertex(e,-1),g.resetToVertex(t,-1);const s=l.nextSegment(),n=g.nextSegment();let o=0;if(Oo(s,n)?!d&&n.isIntersecting(s,r)&&(d=!0):o=n.intersect(s,null,c,u,r),0!==o&&(d=!0,1===o)){const e=u[0],t=c[0];if(e>0&&e<1&&t>0&&t<1)return i[0]=!0,!1}}if(!d){i[0]=!0;const o=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D.constructEmpty();t.queryEnvelope(o),o.inflateCoords(r,r);const l=new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.a;let g=t,u=!1;for(let n=0,r=s.getPathCount();n<r;n++)if(s.getPathSize(n)>0){const r=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D.constructEmpty();if(s.queryPathEnvelope(n,r),!o.isIntersecting(r))return!1;{const e=zn(g,s.getXY(s.getPathStart(n)),0);if((0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(-1!==e),0===e)return!1}u||(!Wn(t,s.getPathCount()-1)||null!==h.getAccelerators()&&null!==h.getAccelerators().getQuadTree()?g=t:(t.copyTo(l),l.getImpl().buildQuadTreeAccelerator(1),g=l),u=!0)}if(1===t.getPathCount()||s.getGeometryType()===_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumPolyline)return!0;const c=s,_=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D.constructEmpty();c.queryEnvelope(_),_.inflateCoords(r,r);const d=new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.a;let p=c,f=!1;for(let s=0,n=t.getPathCount();s<n;s++)if(t.getPathSize(s)>0){const n=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D.constructEmpty();if(t.queryPathEnvelope(s,n),_.isIntersecting(n)){const e=zn(p,t.getXY(t.getPathStart(s)),0);if((0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(-1!==e),1===e)return!1}f||(!Wn(c,t.getPathCount()-1)||null!==m.getAccelerators()&&null!==m.getAccelerators().getQuadTree()?p=c:(c.copyTo(d),d.getImpl().buildQuadTreeAccelerator(1),p=d),f=!0)}return!0}return!1}function po(t,s,n){const r=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D.constructEmpty();return r.setCoords({env2D:t}),r.inflateCoords(n,n),r.containsEnvelope(s)}function fo(t,s,n){const r=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D.constructEmpty();return r.setCoords({env2D:s}),r.inflateCoords(n,n),t.containsExclusiveEnvelope(r)}function xo(t,s,n){const r=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D.constructEmpty();return r.setCoords({env2D:s}),r.inflateCoords(n,n),!r.contains(t.getLowerLeft())||(!r.contains(t.getLowerRight())||(!r.contains(t.getUpperLeft())||!r.contains(t.getUpperRight())))}function yo(e,t,s,n){if(e.getPathCount()!==t.getPathCount()||e.getPointCount()!==t.getPointCount())return!1;if(e.hasNonLinearSegments()||t.hasNonLinearSegments())return e.equals(t);const r=new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P,i=new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P;let o=!0;const a=s*s;for(let h=0;h<e.getPathCount();h++){if(e.getPathEnd(h)!==t.getPathEnd(h)){o=!1;break}for(let s=e.getPathStart(h);s<t.getPathEnd(h);s++)if(e.queryXY(s,r),t.queryXY(s,i),_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P.sqrDistance(r,i)>a){o=!1;break}if(!o)break}return!!o}function Po(e,t,s,n){if(e.getPointCount()!==t.getPointCount())return!1;const r=new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P,i=new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P;let o=!0;const a=s*s;for(let h=0;h<e.getPointCount();h++)if(e.queryXY(h,r),t.queryXY(h,i),_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P.sqrDistance(r,i)>a){o=!1;break}return!!o}function Eo(e,t,s,n,r,i,o){const a=e.getImpl(),h=t.getImpl(),m=a.getPointCount(),l=h.getPointCount(),g=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.d)(m,!1),u=r||i?(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.d)(l,!1):[],c=s*s,_=new Dr(a,h,s);for(;_.next();){const e=_.getRedElement(),t=_.getBlueElement(),s=a.getXY(e),n=h.getXY(t);_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P.sqrDistance(s,n)<=c&&(g[e]=!0,(r||i)&&(u[t]=!0))}let d=!1,p=!1;for(let y=0;y<m;y++){const e=g[y];if(d||=!e,p||=e,(r||n)&&d)return!1}if(n)return!0;let f=!1,x=!1;for(let y=0;y<l;y++){const e=u[y];if(f||=!e,x||=e,r&&f)return!1}return!!r||d&&p&&f&&x}function So(e,t,s,n){return Co(e,t,s,n)&&Co(t,e,s,n)}function Co(t,s,n,r){if((0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.o)(t),(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.o)(s),s.isEmpty())return!1;let o=!0;const a=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.d)(2,Number.NaN),h=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.d)(2,Number.NaN),m=[],l=new Ro;let g;const u=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D.constructEmpty(),c=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D.constructEmpty(),_=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D.constructEmpty();t.queryEnvelope(u),s.queryEnvelope(c),u.inflateCoords(n,n),c.inflateCoords(n,n),_.setCoords({env2D:u}),_.intersect(c);const d=t.getImpl().querySegmentIterator(),p=s.getImpl().querySegmentIterator(),f=s.getImpl().getAccelerators();let x=null,P=null,E=null,S=null;if(null!==f&&(x=f.getQuadTree(),P=f.getQuadTreeForPaths(),null!==P&&(S=P.getIteratorForQT())),null===x){const e=t.getPointCount(),n=s.getPointCount();e>10&&n>10&&(x=(0,_Envelope_js__WEBPACK_IMPORTED_MODULE_3__.F)(s.getImpl(),_))}for(null!==x&&(E=x.getIteratorForQT());d.nextPath();)for(;d.hasNextSegment();){let e=d.nextSegment();if(e.queryEnvelope(u),!u.isIntersecting(_))return o=!1,!1;if(null!==S&&(S.resetIterator(u,n),-1===S.next()))continue;let t=0,s=null;if(null!=E)E.resetIterator(e,n);else if(p.resetToFirstPath(),!p.nextPath())return o=!1,!1;do{if(t=0,null!==E){const r=E.next();if(-1===r)return o=!1,!1;p.resetToVertex(x.getElement(r),-1),s=p.nextSegment(),t=e.intersect(s,null,a,h,n)}else{for(;!p.hasNextSegment();)if(!p.nextPath())return o=!1,!1;s=p.nextSegment(),s.queryEnvelope(c),c.inflateCoords(n,n),u.isIntersecting(c)&&(t=e.intersect(s,null,a,h,n))}}while(2!==t||0!==a[0]||r&&!(h[0]<=h[1]));let f=Number.NaN,y=!1;do{let r=!1;if(1===a[1]){if(!d.hasNextSegment()){y=!0;break}e=d.nextSegment(),r=!0}if(1===h[1]&&h[0]<=h[1]){if(-1===f)break;if(f=1,!p.hasNextSegment())break;s=p.nextSegment(),r=!0}if(0===h[1]&&h[0]>h[1]){if(1===f)break;if(Number.isNaN(f)){if(!p.hasPreviousSegment())break;p.previousSegment(),f=-1}if(!p.hasPreviousSegment())break;s=p.previousSegment(),r=!0}if(!r)break;t=e.intersect(s,null,a,h,n)}while(2===t&&(!r||h[0]<=h[1]));if(y)continue;const P=e.calculateLength2D();e.queryEnvelope(u),m.length=0,l.m_overlapEvents.length=0;let C=!1,I=!1,b=0;const w=(0,_Envelope_js__WEBPACK_IMPORTED_MODULE_3__.a)(null,u,!0);for(null!==E?E.resetIterator(e,n):(p.resetToFirstPath(),p.nextPath()||(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.d)("relational_operations"));;){if(t=0,null!==E){const r=E.next();if(-1===r)break;p.resetToVertex(x.getElement(r),-1),s=p.nextSegment(),t=e.intersect(s,null,a,h,n)}else{for(;!p.hasNextSegment()&&p.nextPath(););if(!p.hasNextSegment())break;s=p.nextSegment(),s.queryEnvelope(c),c.inflateCoords(n,n),u.isIntersecting(c)&&(t=e.intersect(s,null,a,h,n))}if(2===t&&(!r||h[0]<=h[1])){const e=d.getStartPointIndex(),t=d.getPathIndex(),s=p.getStartPointIndex(),r=p.getPathIndex();if(g=Yo(e,t,a[0],a[1],s,r,h[0],h[1]),l.m_overlapEvents.push(g),m.push(m.length),!(C||g.m_scalarA0<b&&g.m_scalarA1<b))if(0===b&&P*(g.m_scalarA0-b)>n)C=!0;else if(0!==b&&P*(g.m_scalarA0-b)>w)C=!0;else if(b=g.m_scalarA1,P*(1-b)<=n||1===b){I=!0;break}}}if(!I){if(!C)return o=!1,!1;m.length>1&&m.sort(((e,t)=>l.compareOverlapEvents(e,t))),b=0;for(let e=0;e<l.m_overlapEvents.length;e++)if(g=l.m_overlapEvents[m[e]],!(g.m_scalarA0<b&&g.m_scalarA1<b)){if(0===b&&P*(g.m_scalarA0-b)>n)return o=!1,!1;if(0!==b&&P*(g.m_scalarA0-b)>w)return o=!1,!1;if(b=g.m_scalarA1,P*(1-b)<=n||1===b)break}if(P*(1-b)>n)return o=!1,!1;m.length=0,l.m_overlapEvents.length=0}}return o}function Io(e,t,s){const n=e.getImpl(),r=t.getImpl(),i=n.querySegmentIterator(),o=r.querySegmentIterator(),a=new Dr(n,r,s);for(;a.next();){const e=a.getRedElement(),t=a.getBlueElement();i.resetToVertex(e,-1),o.resetToVertex(t,-1);const n=i.nextSegment();if(o.nextSegment().isIntersecting(n,s))return!0}return!1}function bo(e,t,s,n){const r=e.getImpl(),i=t.getImpl(),o=r.querySegmentIterator(),a=i.querySegmentIterator(),h=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.d)(2,Number.NaN),m=new Dr(r,i,s);let l=!1,g=-1;for(;m.next();){const e=m.getRedElement(),t=m.getBlueElement();o.resetToVertex(e,-1),a.resetToVertex(t,-1);const r=o.nextSegment(),i=a.nextSegment();let u=0;if(Oo(r,i)){if(i.isIntersecting(r,s))return-2}else u=r.intersect(i,null,h,null,s);if(u)if(2===u){const e=r.calculateLength2D(),t=h[0];if(e*(h[1]-t)>s)return g=1,g;l=!0}else if(g=0,n){const e=h[0],t=new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P;r.queryCoord2D(e,t),n.push(t.x),n.push(t.y)}}return l?-2:g}function wo(e,t,s,n){const r=e.getImpl(),i=t,o=i.getPointCount(),a=n?(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.d)(o,!1):[],h=new Dr(r,i,s,!1),m=r.querySegmentIterator();for(;h.next();){const e=h.getRedElement(),t=h.getBlueElement();m.resetToVertex(e,-1);const r=m.nextSegment(),o=i.getXY(t);if(r.isIntersectingPoint(o,s)){if(!n)return!0;a[t]=!0}}if(!n)return!1;for(let l=0;l<o;l++)if(!a[l])return!1;return!0}function vo(t,s,n){const r=new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P,i=n*n,o=t.querySegmentIterator(),a=t.getImpl().getAccelerators();if(null!==a){const t=a.getQuadTree();if(null!==t){const a=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D.constructEmpty();a.setCoords({pt:s});const h=t.getIterator(a,n);for(let e=h.next();-1!==e;e=h.next())if(o.resetToVertex(t.getElement(e),-1),o.hasNextSegment()){const e=o.nextSegment(),t=e.getClosestCoordinate(s,!1);if(e.queryCoord2D(t,r),_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P.sqrDistance(s,r)<=i)return!0}return!1}}const h=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D.constructEmpty();for(;o.nextPath();)for(;o.hasNextSegment();){const e=o.nextSegment();if(e.queryEnvelope(h),h.inflateCoords(n,n),!h.contains(s))continue;const t=e.getClosestCoordinate(s,!1);if(e.queryCoord2D(t,r),_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P.sqrDistance(s,r)<=i)return!0}return!1}function No(e,t,s){return vo(e,t,s)&&!qo(e,t,s)}function To(t,s,r,i){const o=t.querySegmentIterator(),a=t.getImpl().getAccelerators(),h=t.hasNonLinearSegments();let m=null,l=null,g=null,u=null;if(null!==a){const t=a.getQuadTree();if(null!==t){const i=t.getIterator(s,r);h&&(m=new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.L,l=new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.L,g=new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.L,u=new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.L,s.querySide(0,m),s.querySide(1,l),s.querySide(2,g),s.querySide(3,u));const a=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D.constructEmpty();a.setCoords({env2D:s}),a.inflateCoords(r,r);for(let e=i.next();-1!==e;e=i.next())if(o.resetToVertex(t.getElement(e),-1),o.hasNextSegment()){const e=o.nextSegment();if(e.getGeometryType()===_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumLine){const t=e.getStartXY(),s=e.getEndXY();if(a.clipLine(t,s))return!0;continue}if(s.contains(e.getStartXY())||s.contains(e.getEndXY()))return!0;if(e.isIntersecting(m,r))return!0;if(e.isIntersecting(l,r))return!0;if(e.isIntersecting(g,r))return!0;if(e.isIntersecting(u,r))return!0}return!1}}if(h){m=new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.L,l=new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.L,g=new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.L,u=new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.L,s.querySide(0,m),s.querySide(1,l),s.querySide(2,g),s.querySide(3,u);const e=t.querySegmentIterator();for(;e.nextPath();)for(;e.hasNextSegment();){const t=e.nextSegment();if(s.contains(t.getStartXY())||s.contains(t.getEndXY()))return!0;if(t.isIntersecting(m,r))return!0;if(t.isIntersecting(l,r))return!0;if(t.isIntersecting(g,r))return!0;if(t.isIntersecting(u,r))return!0}}else{const n=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D.constructEmpty();n.setCoords({env2D:s}),n.inflateCoords(r,r);const i=t.getImpl(),o=i.getAttributeStreamRef(0),a=new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P;for(let e=0,t=i.getPathCount();e<t;e++){let t=!0;const s=new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P,r=new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P,h=new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P,m=i.getPathStart(e),l=new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P;for(let g=m,u=i.getPathEnd(e);g<u;g++)if(t)o.queryPoint2D(2*g,s),l.assign(s),t=!1;else{if(o.queryPoint2D(2*g,a),r.setCoordsPoint2D(s),h.setCoordsPoint2D(a),n.clipLine(r,h))return!0;s.assign(a)}if(i.isClosedPath(e)&&!t&&(r.setCoordsPoint2D(s),h.setCoordsPoint2D(l),n.clipLine(r,h)))return!0}}return!1}function Go(t,s,n,r){const i=t.getImpl(),o=s.getImpl(),a=[0],h=(0,_Envelope_js__WEBPACK_IMPORTED_MODULE_3__.X)(i.getIsSimple(0,a))&&(0,_Envelope_js__WEBPACK_IMPORTED_MODULE_3__.X)(o.getIsSimple(0,a)),m=i.querySegmentIterator(),l=o.querySegmentIterator(),g=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.d)(2,0),u=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.d)(2,0),c=new Dr(i,o,n);let _=!1;for(;c.next();){const e=c.getRedElement(),t=c.getBlueElement();m.resetToVertex(e,-1),l.resetToVertex(t,-1);const s=m.nextSegment(),r=l.nextSegment();let i=0;if(Oo(s,r)){if(r.isIntersecting(s,n)){_=!0;break}}else i=r.intersect(s,null,u,g,n);if(2===i){const e=g[0],t=g[1],r=s.calculateLength2D();if(h&&(t-e)*r>n)return!1;_=!0}else if(i){const e=g[0],t=u[0];if(e>0&&e<1&&t>0&&t<1)return!1;_=!0}}if(!_)return!1;const d=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D.constructEmpty(),p=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D.constructEmpty(),f=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D.constructEmpty();let x,y;if(t.queryEnvelope(d),s.queryEnvelope(p),d.inflateCoords(1e3*n,1e3*n),p.inflateCoords(1e3*n,1e3*n),f.setCoords({env2D:d}),f.intersect(p),t.getPointCount()>10){if(x=(0,_OperatorClip_js__WEBPACK_IMPORTED_MODULE_7__.c)(t,f,n,0,r),x.isEmpty())return!1}else x=t;if(s.getPointCount()>10){if(y=(0,_OperatorClip_js__WEBPACK_IMPORTED_MODULE_7__.c)(s,f,n,0,r),y.isEmpty())return!1}else y=s;return sr(x,y,n,"F********",r,!1)}function Do(t,s,n,r){const i=t.getImpl(),o=s.getImpl(),a=[0],h=(0,_Envelope_js__WEBPACK_IMPORTED_MODULE_3__.X)(i.getIsSimple(0,a))&&(0,_Envelope_js__WEBPACK_IMPORTED_MODULE_3__.X)(o.getIsSimple(0,a)),m=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D.constructEmpty(),l=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D.constructEmpty(),g=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D.constructEmpty();t.queryEnvelope(m),s.queryEnvelope(l);let u=!1;const c=xo(m,l,n),_=xo(l,m,n),d=i.querySegmentIterator(),p=o.querySegmentIterator(),f=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.d)(2,Number.NaN),x=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.d)(2,Number.NaN),y=new Dr(i,o,n);for(;y.next();){const e=y.getRedElement(),t=y.getBlueElement();d.resetToVertex(e,-1),p.resetToVertex(t,-1);const s=d.nextSegment(),r=p.nextSegment();let i=0;if(Oo(s,r)){if(r.isIntersecting(s,n))break}else i=r.intersect(s,null,x,f,n);if(2===i){const e=f[0],t=f[1],r=s.calculateLength2D();if(h&&(t-e)*r>n&&(u=!0,c&&_))return!0}else if(i){const e=f[0],t=x[0];if(e>0&&e<1&&t>0&&t<1)return!0}}const P=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D.constructEmpty(),E=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D.constructEmpty();let S,C;P.setCoords({env2D:m}),P.inflateCoords(1e3*n,1e3*n),E.setCoords({env2D:l}),E.inflateCoords(1e3*n,1e3*n),g.setCoords({env2D:P}),g.intersect(E);let I="";if(I+=u?"**":"T*",c){if(s.getPointCount()>10){if(C=(0,_OperatorClip_js__WEBPACK_IMPORTED_MODULE_7__.c)(s,g,n,0,r),C.isEmpty())return!1}else C=s;I+="****"}else C=s,I+="T***";if(_){if(t.getPointCount()>10){if(S=(0,_OperatorClip_js__WEBPACK_IMPORTED_MODULE_7__.c)(t,g,n,0,r),S.isEmpty())return!1}else S=t;I+="***"}else S=t,I+="T**";return sr(S,C,n,I,r,!1)}function Vo(t,s,n,r){const i=[!1],o=_o(t,s,n,i);if(i[0])return o;const a=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D.constructEmpty();let h;if(s.queryEnvelope(a),a.inflateCoords(1e3*n,1e3*n),t.getPointCount()>10){if(h=(0,_OperatorClip_js__WEBPACK_IMPORTED_MODULE_7__.c)(t,a,n,0,r),h.isEmpty())return!1}else h=t;return nr(h,s,n,r)}function Fo(t,s,n,r){const i=t.getImpl(),o=s.getImpl(),a=i.querySegmentIterator(),h=o.querySegmentIterator(),m=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.d)(2,Number.NaN),l=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.d)(2,Number.NaN),g=new Dr(i,o,n);let u=!1;for(;g.next();){const e=g.getRedElement(),t=g.getBlueElement();a.resetToVertex(e,-1),h.resetToVertex(t,-1);const s=a.nextSegment(),r=h.nextSegment();let i=0;if(Oo(s,r)?!u&&r.isIntersecting(s,n)&&(u=!0):i=r.intersect(s,null,l,m,n),2===i)u=!0;else if(i){const e=m[0],t=l[0];if(e>0&&e<1&&t>0&&t<1)return!1;u=!0}}if(!u)return!1;const c=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D.constructEmpty(),_=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D.constructEmpty(),d=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D.constructEmpty();let p,f;if(t.queryEnvelope(c),s.queryEnvelope(_),c.inflateCoords(1e3*n,1e3*n),_.inflateCoords(1e3*n,1e3*n),d.setCoords({env2D:c}),d.intersect(_),t.getPointCount()>10){if(p=(0,_OperatorClip_js__WEBPACK_IMPORTED_MODULE_7__.c)(t,d,n,0,r),p.isEmpty())return!1}else p=t;if(s.getPointCount()>10){if(f=(0,_OperatorClip_js__WEBPACK_IMPORTED_MODULE_7__.c)(s,d,n,0,r),f.isEmpty())return!1}else f=s;return sr(p,f,n,"F********",r,!1)}function Ho(t,s,n,r){const i=t.getImpl(),o=s.getImpl(),a=i.querySegmentIterator(),h=o.querySegmentIterator(),m=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.d)(2,Number.NaN),l=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.d)(2,Number.NaN),g=new Dr(i,o,n);let u=!1;for(;g.next();){const e=g.getRedElement(),t=g.getBlueElement();a.resetToVertex(e,-1),h.resetToVertex(t,-1);const s=a.nextSegment(),r=h.nextSegment();let i=0;if(Oo(s,r)?!u&&r.isIntersecting(s,n)&&(u=!0):i=r.intersect(s,null,l,m,n),2===i)u=!0;else if(i){const e=m[0],t=l[0];if(e>0&&e<1&&t>0&&t<1)return!0;u=!0}}if(!u)return!1;const c=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D.constructEmpty(),_=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D.constructEmpty(),d=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D.constructEmpty(),p=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D.constructEmpty(),f=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D.constructEmpty();if(t.queryEnvelope(c),s.queryEnvelope(_),xo(_,c,n)){let e,i;if(d.setCoords({env2D:c}),d.inflateCoords(1e3*n,1e3*n),p.setCoords({env2D:_}),p.inflateCoords(1e3*n,1e3*n),f.setCoords({env2D:d}),f.intersect(p),t.getPointCount()>10){if(e=(0,_OperatorClip_js__WEBPACK_IMPORTED_MODULE_7__.c)(t,f,n,0,r),e.isEmpty())return!1}else e=t;if(s.getPointCount()>10){if(i=(0,_OperatorClip_js__WEBPACK_IMPORTED_MODULE_7__.c)(s,f,n,0,r),i.isEmpty())return!1}else i=s;return sr(e,i,n,"T********",r,!1)}return sr(t,s,n,"T*****T**",r,!1)}function ko(t,s,n,r){const i=[!1],o=_o(t,s,n,i);if(i[0])return o;const a=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D.constructEmpty();let h;if(s.queryEnvelope(a),a.inflateCoords(1e3*n,1e3*n),t.getPointCount()>10){if(h=(0,_OperatorClip_js__WEBPACK_IMPORTED_MODULE_7__.c)(t,a,n,0,r),h.isEmpty())return!1}else h=t;return rr(h,s,n,r)}function Ao(e,t,s,n){return 1===Lo(e,t,s)}function Mo(e,t,s,n){return 2===Lo(e,t,s)}function Uo(e,t,s,n){const r=new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P,i=s*s;for(let o=0;o<e.getPointCount();o++)if(e.queryXY(o,r),_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P.sqrDistance(r,t)<=i)return!1;return!0}function qo(e,t,s){const n=e.getBoundary();return!n.isEmpty()&&!Uo(n,t,s)}function Bo(t,s,n){const r=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D.constructEmpty();return r.setCoords({env2D:t}),r.inflateCoords(n,n),r.containsEnvelope(s)?1073741824:r.isIntersecting(s)?t.isIntersecting(s)?t.xmin<s.xmin&&s.xmax<t.xmax?s.ymin<t.ymin&&s.ymax>t.ymax?0:1073741824:t.ymin<s.ymin&&s.ymax<t.ymax?s.xmin<t.xmin&&s.xmax>t.xmax?0:1073741824:0:0:4}function Oo(e,t){return e.getGeometryType()!==_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumLine||t.getGeometryType()!==_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumLine}function Yo(e,t,s,n,r,i,o,a){return{m_ivertexA:e,m_ipathA:t,m_scalarA0:s,m_scalarA1:n,m_ivertexB:r,m_ipathB:i,m_scalarB0:o,m_scalarB1:a}}class Ro{constructor(){this.m_overlapEvents=[]}compareOverlapEvents(e,t){const s=this.m_overlapEvents[e],n=this.m_overlapEvents[t];if(s.m_ipathA<n.m_ipathA)return-1;if(s.m_ipathA===n.m_ipathA){if(s.m_ivertexA<n.m_ivertexA)return-1;if(s.m_ivertexA===n.m_ivertexA){if(s.m_scalarA0<n.m_scalarA0)return-1;if(s.m_scalarA0===n.m_scalarA0){if(s.m_scalarA1<n.m_scalarA1)return-1;if(s.m_scalarA1===n.m_scalarA1&&s.m_ivertexB<n.m_ivertexB)return-1}}}return 1}}function Xo(e,t,s){const n=Ln(e,t,s);return n?1===n?1:2:0}function Lo(e,t,s){const n=zn(e,t,s);return n?1===n?1:2:0}function zo(e,t,s,n,r){for(let i=0;i<s;i++)r[i]=Lo(e,t[i],n)}function Wo(t,s,r,i,o){if(t.getGeometryType()===_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumPolygon)zo(t,s,r,i,o);else if(t.getGeometryType()===_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumEnvelope){const n=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D.constructEmpty();t.queryEnvelope(n),Zo(n,s,r,i,o)}else (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.p)("")}function jo(e,t,s,i,o){const a=e.getGeometryType();a===_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumPolyline?$o(e,t,s,i,o):(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.f)(a)?Jo():(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.p)("")}function Zo(e,t,s,n,r){if(e.isEmpty()){for(let e=0;e<s;e++)r[e]=0;return}const i=e.clone();i.inflateCoords(.5*-n,.5*-n);const o=e.clone();o.inflateCoords(.5*n,.5*n);for(let a=0;a<s;a++)i.contains(t[a])?r[a]=1:o.contains(t[a])?r[a]=2:r[a]=0}function Ko(e){if(e.isEmpty())return 0;switch(e.getGeometryType()){case _Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumMultiPoint:return e.getImpl().getPointCount();case _Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumPolyline:return e.getImpl().getPathCount();case _Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumPolygon:return e.getImpl().getOGCPolygonCount();case _Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumGeometryCollection:return e.getGeometryCount()}return 1}function Qo(e,t,s){if(s.reset(),t<3)return;const n=e[0].clone(),r=n.x,i=n.y,o=e[1].clone(),a=new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P;for(let h=2;h<t;h++)a.assign(e[h]),s.pe((a.x-n.x)*(o.y-i)),n.assign(o),o.assign(a);s.pe((r-n.x)*(o.y-i))}function Jo(e,t,s,n,r){(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(0)}function $o(t,s,n,r,i){const o=t.getImpl(),h=o.getAccelerators();let m=null;h&&(m=h.getRasterizedGeometry());let l=n;for(let e=0;e<n;e++)i[e]=1,m&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(0);if(l){if(h){let t=null;null!==h&&null!==h.getQuadTree()&&(t=h.getQuadTree());const a=o.getPointCount();if(null===t&&a>20&&a*n>4*a+Math.log(a)*n&&(t=(0,_Envelope_js__WEBPACK_IMPORTED_MODULE_3__.F)(o)),t){let a=null;const h=o.querySegmentIterator(),m=new _Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D;for(let e=0;e<n&&l;e++)if(1===i[e]){m.setCoords(s[e]),null===a?a=t.getIterator(m,r):a.resetIterator(m,r);let n=-1;for(let o=a.next();-1!==o;o=a.next()){h.resetToVertex(t.getElement(o),n),n=h.getPathIndex();if(h.nextSegment().isIntersectingPoint(s[e],r)){i[e]=2,l--;break}i[e]=0}}return}}const t=o.querySegmentIterator();for(;t.nextPath()&&l;)for(;t.hasNextSegment()&&l;){const e=t.nextSegment();for(let t=0;t<n&&l;t++)1===i[t]&&e.isIntersectingPoint(s[t],r)&&(i[t]=2,l--)}}for(let e=0;e<n;e++)1===i[e]&&(i[e]=0)}function ea(e,t,s,n,r){const i=(0,_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__._)(t),o=Math.max(4*i,s);return new oa(t,null,o,Number.NaN,r).approximateWithCirclesImpl(e,n)}function ta(){return Number.isNaN(this.radius.value())}function sa(){return{ptStart:new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P,ptEnd:new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P,center:new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.a0,radius:new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.H,fcenter:new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.a4,fradius2:new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.M,maxError:Number.NaN,isLine:ta}}const na=5,ra=1/8;function ia(e,t,s,n){return{pt:e.clone(),t,err:s,checkCount:n}}class oa{constructor(e,t,s,n,r){this.m_left=e,this.m_tracker=r,this.m_eps=s,this.m_trackerCounter=0,this.m_tolerance=n,this.m_circleCheckCounter=0,this.m_bReversedLeft=!1,this.m_leftArc=sa()}closeToCircularArc(e,t,s,n,r,i){if(this.m_circleCheckCounter++,i.maxError=0,!oa.checkSweepAngle(e,t))return!1;if(i.ptStart.setCoordsPoint2D(s),i.ptEnd.setCoordsPoint2D(r),e.isCircular()){const t=e;return i.fradius2=_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.M.constructDouble(t.getSemiMajorAxis()).mulDouble(t.getSemiMajorAxis()),i.radius.set(t.getSemiMajorAxis()),i.fcenter.assignPoint2D(t.getCenter()),i.center.set(t.getCenter()),!0}const o=i.ptEnd.sub(i.ptStart).clone();o.leftPerpendicularThis(),o.normalize();if(Math.abs(o.dotProduct(n.sub(i.ptStart)))<=this.m_eps)return!!this.confirmIsLine(i,o)&&(i.radius.set(Number.NaN),i.center.setCoords(0,0),!0);{const s=i.ptEnd.sub(i.ptStart),r=n.sub(i.ptStart),o=s.crossProduct(r);if(0===o)return!1;const a=.5*s.sqrLength(),h=.5*r.sqrLength();let m=a*r.y-h*s.y;m/=o;let l=s.x*h-r.x*a;l/=o;const g=Math.sqrt(m*m+l*l);if(4*Number.EPSILON*g>this.m_eps)return!1;const u=m+i.ptStart.x,c=l+i.ptStart.y;i.radius.set(g),i.center.setCoords(u,c);const _=this.maxCircleApproximationError(e,t,i);if(_>this.m_eps)return i.maxError=_,!1}const a=(new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.a4).assignPoint2D(i.ptStart),h=(new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.a4).assignPoint2D(i.ptEnd).sub(a),m=(new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.a4).assignPoint2D(n).sub(a),l=h.crossProduct(m);if(l.isZero())return!1;const g=h.sqrLength().mulDouble(.5),u=m.sqrLength().mulDouble(.5),c=g.mul(m.y).sub(u.mul(h.y)),_=h.x.mul(u).sub(m.x.mul(g)),d=c.mul(c).add(_.mul(_)),p=l.clone();p.invertThis(),i.fradius2=d.mul(p).mul(p),i.fcenter.setCoords(c.mul(p).add(a.x),_.mul(p).add(a.y)),i.center.setWithEps(i.fcenter.asPoint2D()),i.radius.setWithEps(Math.sqrt(i.fradius2.toDouble()));const f=_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.a0.constructPoint2D(i.ptStart).subE(i.center),x=_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.a0.constructPoint2D(i.ptEnd).subE(i.center);if(!f.dotProduct(x).gt(_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.J))return!1;const y=this.maxCircleApproximationError(e,t,i);return i.maxError=y,y<=this.m_eps}static checkSweepAngle(e,t){if(e.getGeometryType()===_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumEllipticArc){const s=e,n=(0,_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.a5)(s,t.vmin),r=(0,_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.a5)(s,t.vmax);return!(Math.abs(r-n)>.5*_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.o)}return!0}confirmIsLine(e,t){const s=e.ptEnd.sub(e.ptStart);return!(Math.abs(t.dotProduct(s.mul(.25)))>this.m_eps)&&!(Math.abs(t.dotProduct(s.mul(.75)))>this.m_eps)}maxCircleApproximationError(e,t,s){const r=[.25,.75],i=[.1,.25,.75,.9];let o,a;e.getGeometryType()===_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumEllipticArc?(o=r,a=r.length):(o=i,a=i.length);let h=0;for(let n=0;n<a;++n){const r=new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P;e.queryCoord2D((0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.q)(t.vmin,t.vmax,o[n]),r);const i=r.sub(s.center.value()).length(),a=Math.abs(i-s.radius.value());a>h&&(h=a)}return h}approximateWithCirclesImpl(e,t){let s=1;t&&t.push(0);const n=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.d)(9,Number.NaN);let r;e?r=this.m_left.getMonotonicPartParams(n.length,n):(n[0]=0,n[1]=1,r=2);const i=[],o=[],a=new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P(0,0);for(let h=1;h<r;h++){const e=new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.E(n[h-1],n[h]);for(this.m_bReversedLeft=!oa.goodOrientation(this.m_left,e),this.m_bReversedLeft?(i.push(ia(a,e.vmin,0,0)),i.push(ia(a,e.vmax,0,0))):(i.push(ia(a,e.vmax,0,0)),i.push(ia(a,e.vmin,0,0))),i[0].pt=this.m_left.getCoord2D(i[0].t),i[1].pt=this.m_left.getCoord2D(i[1].t);i.length>1;){this.progress_();const e=i.at(-1);let n=e.checkCount,r=e.err;const a=e.pt.clone(),h=e.t,m=i[i.length-2].t,l=.5*(h+m),g=this.m_left.getCoord2D(l);if(r<=this.m_eps||n>=na){const e=new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.E;if(e.setCoords(h,m),this.closeToCircularArc(this.m_left,e,a,g,i[i.length-2].pt,this.m_leftArc)){t&&(this.m_bReversedLeft?o.push(h):t.push(m)),s++,i.pop();continue}n=0,r=this.m_leftArc.maxError}e.t=l,e.pt.setCoordsPoint2D(g),r*=ra,n++,e.err=r,e.checkCount=n,i.push(ia(a,h,r,n))}this.m_bReversedLeft&&t&&(t.length=t.length+o.length,(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.b)(t,o.reverse(),t.length-o.length,0,o.length),o.length=0),i.length=0}return s}approximateWithCirclesImplPolyline(e){const t=new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.P,s=[];if(!this.approximateWithCirclesImpl(!0,s))return t;let n=0;const r=this.m_left.getStartXY();t.startPath(r);for(let i=1;i<s.length;++i)if(e)t.lineTo(this.m_left.getCoord2D(s[i]));else{const e=new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P;this.m_left.queryCoord2D(s[i],e);const o=new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P;this.m_left.queryCoord2D(.5*(s[i]+n),o);const a=new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.l;a.constructCircularArcThreePoint(r,e,o),t.addSegment(a,!1),r.assign(e),n=s[i]}return t}static goodOrientation(e,t){const s=e.getCoord2D(t.vmin),n=e.getCoord2D(t.vmax);return s.compare(n)<0}progress_(e=!1){}}function aa(e,t,s,n,r,i,o){ma(e,t,s,r,i,o),Ca(e,s,o)}function ha(e,t,s,r){if(!(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.h)(e.getGeometryType()))return e;const i=e.getImpl();if(!i.hasNonLinearSegments())return e;const a=e.createInstance();if(a.getGeometryType()===_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumPolygon){a.setFillRule(e.getFillRule())}new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.E;const h=new _Envelope_js__WEBPACK_IMPORTED_MODULE_3__.P,m=new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.S,l=[],g=[],u=[],c=e.getDescription().getAttributeCount()>1,_=i.querySegmentIterator();for(;_.nextPath();){let e=!0;for(;_.hasNextSegment();){const r=_.isClosingSegment(),i=_.nextSegment();if(!i.isCurve()){a.addSegment(i,e,r),e=!1;continue}let o,d=!1;const p=!0,f=!0;switch(i.getGeometryType()){case _Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumEllipticArc:case _Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumRationalBezier2:o=(0,_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.O)(i,t,s,p,f,g,u,l),d=!0;break;default:o=(0,_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.N)(i,t,s,!0,p,g,l)}const x=d?2:3;g[1].isNAN()?(m.createLine(),m.get().construct(g[0],g[x])):d?(m.createQuadraticRationalBezier(),m.get().constructArrayWeights(g,u)):(m.createCubicBezier(),m.get().constructPoints(g)),c&&e&&(i.queryCoord(l[0],h),m.get().setStart(h)),c&&(i.queryCoord(l[1],h),m.get().setEnd(h)),a.addSegment(m.get(),e,r&&1===o),e=!1;for(let e=1,t=o,s=x;e<t;++e,s+=x)g[s+1].isNAN()?(m.createLine(),m.get().construct(g[s],g[s+x])):d?(m.createQuadraticRationalBezier(),m.get().constructArrayWeights(g.slice(s),u.slice(s))):(m.createCubicBezier(),m.get().constructPoints(g.slice(s))),c&&(i.queryCoord(l[e+1],h),m.get().setEnd(h)),a.addSegment(m.get(),!1,r&&e+1===t)}}return a}function ma(e,t,s,n,r,i){e.hasCurves()?(e.setCurveStitcherPointer(n),n.m_impl=new xa(i,!1,null),n.m_impl.buildMonotonicCurveParentage(e,t,s,r)):n.m_impl=null}function la(e,t,s,n,r,i,o,a){e.hasCurves()?(e.setCurveStitcherPointer(i),i.m_impl=new xa(a,!0,r),i.m_impl.buildMonotonicCurveParentage(e,t,s,o),Ca(e,s,a)):i.m_impl=null}function ga(e){if(!e.hasSegmentParentage())return;const t=e.queryVertexIteratorOnSelection();for(let s=t.next();s!==_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n;s=t.next())if(!e.getSegmentParentageBreakVertex(s)){e.getPathFromVertex(s);const t=e.getPrevVertex(s),n=t!==_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n?e.getSegmentParentage(t):-1,r=e.getSegmentParentage(s);-1!==r&&-1!==n&&r!==n&&e.setSegmentParentageBreakVertex(s,!0)}}function ua(e){if(!e.hasSegmentParentage())return;ga(e);const t=new _Envelope_js__WEBPACK_IMPORTED_MODULE_3__.A(0),s=e.queryVertexIteratorOnSelection();for(let o=s.next();o!==_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n;o=s.next())t.add(o);if(0===t.size())return;e.sortVerticesSimpleByY(t,0,t.size()),t.add(_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n);const n=_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P.getNAN();e.queryXY(t.read(0),n);let r=0;const i=_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P.getNAN();for(let o=1,a=t.size();o<a;o++){{const s=t.read(o);s!==_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n?e.queryXY(s,i):i.setNAN()}if(!i.isEqualPoint2D(n)){if(o-r>1){let s=!1;for(let n=r;n<o;++n){const r=t.read(n);if(e.getSegmentParentageBreakVertex(r)){s=!0;break}}if(!s){const n=(t,s,n)=>{const r=e.getPrevVertex(t),i=e.getNextVertex(t);r!==_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n?s.assign(e.getXY(r)):s.setNAN(),i!==_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n?n.assign(e.getXY(i)):n.setNAN()},i=new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P,a=new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P;n(t.read(r),i,a);for(let e=r+1;e<o;++e){const r=t.read(e);if(r===_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n)continue;const o=new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P,h=new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P;n(r,o,h);const m=(e,t)=>!!(e.equals(t)||e.isNAN()&&t.isNAN());if(!(m(o,i)&&m(h,a)||m(h,i)&&m(o,a))){s=!0;break}}}if(s)for(let n=r;n<o;++n)e.setSegmentParentageBreakVertex(t.read(n),!0)}n.setCoordsPoint2D(i),r=o}}}function ca(e,t){let s=t.isEmpty()?e:(0,_Envelope_js__WEBPACK_IMPORTED_MODULE_3__.c)(null,t,!0).total();return s>e&&(s=e),.125*s}function _a(t,s){return s||(s=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D.constructEmpty()),ca(t,s)}function da(e,t){return.125*e}function pa(e,t){return 3*e+3*t}class fa{constructor(){this.m_impl=null}stitchCurves(e,t,s,n){this.m_impl&&(this.m_impl.stitchCurves(e,t,s),n&&this.clearStitcher(e))}clearStitcher(e){this.m_impl&&(this.m_impl.clearStitcher(e),this.m_impl=null)}getOriginalVertexIndex(e,t){return this.m_impl.getOriginalVertexIndex(e,t)}getOriginalSegmentTypeInfo(e){return this.m_impl.getOriginalSegmentTypeInfo(e)}}class xa{constructor(e,t,s){this.m_originalPlanarSegments=[],this.m_progressTracker=null,this.m_nsr=null,this.m_progressTracker=e,this.m_nsr=s,this.m_tolerance=0,this.m_originalVertexIndex=-1,this.m_type=1,this.m_progressCounter=0,this.m_bIsSimple=t,this.m_densificationDeviation=NaN,this.m_maxSegmentsPerCurve=-1}buildMonotonicCurveParentage(e,t,s,r){const i=!1,o=!0;if(!e.hasCurves())return;(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(!e.hasSegmentParentage()),this.m_originalPlanarSegments.length=0,this.m_bIsSimple&&(this.m_originalVertexIndex=e.createUserIndex()),this.m_tolerance=s;const h=new _Envelope_js__WEBPACK_IMPORTED_MODULE_3__.P,m=new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.S,l=[],g=[],u=[];for(let c=e.getFirstGeometry();c!==_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n;c=e.getNextGeometry(c))for(let r=e.getFirstPath(c);r!==_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n;r=e.getNextPath(r)){let c=e.getPathSize(r),_=e.getFirstVertex(r),d=0,p=-1;for(let f=0;f<c;f++){let x=e.getNextVertex(_);if(!e.querySegment(_,m,!0,!1)){_=x;continue}if(0===d){p=e.getVertexIndex(_);const t=xa.regularizeCurve(e,m.get(),_,s);if(t>=0){this.m_nsr&&0===this.m_nsr.m_reason&&this.m_nsr.assign(new _OperatorDefinitions_js__WEBPACK_IMPORTED_MODULE_10__.NonSimpleResult(13,p,-1)),d=t,c=e.getPathSize(r),x=e.getNextVertex(_);const s=e.querySegment(_,m,!0,!1);(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(s)}}else d--;const y=e.getVertexIndex(_);let P;-1!==this.m_originalVertexIndex&&e.setUserIndex(_,this.m_originalVertexIndex,p),e.setSegmentToIndex(y,null);let E=!1;switch(m.get().getGeometryType()){case _Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumEllipticArc:case _Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumRationalBezier2:P=(0,_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.O)(m.get(),t,s,i,o,g,u,l),E=!0;break;default:{const e=!this.m_bIsSimple||!m.get().isMonotoneQuickAndDirty();P=(0,_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.N)(m.get(),t,s,e,i,g,l)}}const S=this.m_originalPlanarSegments.length;if(e.setSegmentParentageAndBreak(_,S,!0),!g[1].isNAN()){let t=null;t=E?new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.T({points:g,weights:u}):new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.y({cp:g}),t.snapControlPoints(s*s),e.setSegmentToIndex(y,t)}const C=E?2:3;for(let t=1,n=P,i=C;t<n;++t,i+=C){m.get().queryCoord(l[t],h);const n=e.insertVertex(r,x,h);if(-1!==this.m_originalVertexIndex&&e.setUserIndex(n,this.m_originalVertexIndex,p),!g[i+1].isNAN())if(E){const t=new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.T({points:g.slice(i),weights:u.slice(i)});t.snapControlPoints(s*s),e.setSegmentToIndex(e.getVertexIndex(n),t)}else{const t=new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.y({cp:g.slice(i)});t.snapControlPoints(s*s),e.setSegmentToIndex(e.getVertexIndex(n),t)}e.setSegmentParentageAndBreak(n,S,!1)}P>1&&(f+=P-1,c=e.getPathSize(r)),this.m_originalPlanarSegments.push(m.releaseSegment()),_=x}}}buildLinearSegmentParentage(e,t,s,n,r){if(this.m_type=0,this.m_densificationDeviation=t,this.m_maxSegmentsPerCurve=n,!e.hasCurves())return;(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(!e.hasSegmentParentage()),this.m_tolerance=s,this.m_originalPlanarSegments=[],this.m_bIsSimple&&(this.m_originalVertexIndex=e.createUserIndex());const i=new _Envelope_js__WEBPACK_IMPORTED_MODULE_3__.P,o=new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.S,h=new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.D(0,t,0,this.m_progressTracker,!1,n),m=[];for(let l=e.getFirstGeometry();l!==_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n;l=e.getNextGeometry(l))for(let t=e.getFirstPath(l);t!==_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n;t=e.getNextPath(t)){let n=e.getPathSize(t),r=e.getFirstVertex(t);for(let l=0;l<n;l++){let l=e.getNextVertex(r);if(!e.querySegment(r,o,!0,!1)){r=l;continue}if(xa.regularizeCurve(e,o.get(),r,s)>=0){n=e.getPathSize(t),l=e.getNextVertex(r);const s=e.querySegment(r,o,!0,!1);(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(s)}const g=e.getVertexIndex(r);-1!==this.m_originalVertexIndex&&e.setUserIndex(r,this.m_originalVertexIndex,g),e.setSegmentToIndex(g,null),m.length=0,h.densifySegment(o.get(),m),this.progress_();const u=this.m_originalPlanarSegments.length;e.setSegmentParentageAndBreak(r,u,!0);for(let s=1,n=m.length-1;s<n;++s){o.get().queryCoord(m[s],i);const n=e.insertVertex(t,l,i);e.setSegmentParentageAndBreak(n,u,!1),-1!==this.m_originalVertexIndex&&e.setUserIndex(n,this.m_originalVertexIndex,g)}this.m_originalPlanarSegments.push(o.releaseSegment()),r=l}}e.clearSegments()}stitchCurves(e,t,s){xa.st_stitchCurvesImpl(this,e,t,s,!1)}clearStitcher(e){this.m_originalPlanarSegments.length=0,-1!==this.m_originalVertexIndex&&(e.removeUserIndex(this.m_originalVertexIndex),this.m_originalVertexIndex=-1),e.deleteSegmentParentage()}static st_verifyParentage(e){xa.st_stitchCurvesImpl(null,e,_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n,0,!0)}getOriginalVertexIndex(e,t){return-1!==this.m_originalVertexIndex&&t!==_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n?e.getUserIndex(t,this.m_originalVertexIndex):-1}getOriginalSegmentTypeInfo(e){if(-1!==e){const t=this.m_originalPlanarSegments[e];switch(t.getGeometryType()){case _Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumEllipticArc:return 0===t.projectionBehavior()?0:1;case _Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumBezier:return 2;case _Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumBezier2:return 3;case _Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumLine:return-1;case _Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumRationalBezier2:return 4;default:(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.t)("")}}return-1}progress_(e=!1){this.m_progressCounter++}processSpanSmartTe_(e,t,s,n,r,i,o){if(t===s&&0===n)return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(e.getNextVertex(t)===_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n),e.setSegmentToIndex(e.getVertexIndex(t),null),void e.setSegmentParentageAndBreak(t,-1);const h=e.getNextVertex(t),m=e.getXY(t),l=e.getXY(s);let g,u=0;{let t=2,r=m;for(let n=h;n!==s;n=e.getNextVertex(n)){const s=e.getXY(n);u+=_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P.distance(s,r),r=s,t++}u+=_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P.distance(l,r),(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(t===n)}if(null===r)return e.setSegmentToIndex(e.getVertexIndex(t),null),void e.removeVertices(h,s);const c=o;let _=r.getClosestCoordinate(m,!1),d=r.getClosestCoordinate(l,!1);const p=r.calculateLength2D();let f=r.tToLength(_),x=r.tToLength(d);const y=Math.abs(f)>10*c&&Math.abs(f-p)>10*c,P=Math.abs(x)>10*c&&Math.abs(x-p)>10*c,E=e=>{const t=e.calculateLength2D();return Math.abs(t-u)>Math.max(.2*u,4*c)?null:e};let S=r.isClosed();if(!S){const e=_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P.distance(r.getStartXY(),r.getEndXY());e<=c&&p>5*e&&(S=!0)}if(S){let i,o,h=new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P;if(2===n)h=_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P.lerp(m,l,.5),i=r.getClosestCoordinate(h,!1),o=r.tToLength(i);else{let s=e.getNextNthVertex(t,(n-1)/2);h=e.getXY(s),i=r.getClosestCoordinate(h,!1),o=r.tToLength(i);let a=Math.abs(o)>10*c&&Math.abs(o-p)>10*c;if(!a&&(n-1>=4&&(s=e.getNextNthVertex(t,(n-1)/4),i=r.getClosestCoordinate(h,!1),o=r.tToLength(i),a=Math.abs(o)>10*c&&Math.abs(o-p)>10*c),!a))return}let u=!1;const S=f===x;if(S){const s=0;let i=2,o=4;n-1<=4&&(i=s+1,o=s+2);const a=m,h=e.getXY(e.getNextNthVertex(t,i)),l=e.getXY(e.getNextNthVertex(t,o));u=-_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P.orientationNonRobust(a,h,l)*(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.e)(r.calculateArea2DHelper())>0}else P?y?u=o>f:o<x?(f=0,_=0):(f=p,_=1):o>f?(x=p,d=1):(x=0,d=0);if(S)g=r.clone(),g.dropAllAttributes(),u||g.reverse(),(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(m.equals(l));else{let e=!1;_>d&&(e=!0,[_,d]=[d,_]),g=r.cut(_,d,!0),g.getDescription().getAttributeCount(),e&&g.reverse()}g.setCoordsForIntersector(m,l,!1),g=E(g),g&&(this.removeSpanBetween(e,t,s),e.setSegmentToIndex(e.getVertexIndex(t),g))}else if(y||P){if(!y||!P){if(_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P.distance(r.getStartXY(),r.getEndXY())<10*c){const n=[(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.l)(_,d),(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.l)(_,d),(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.l)(_,d)];y?(n[1].second=0,n[2].second=1):(n[1].first=1,n[2].first=0);const i=[null,null,null],o=[0,0,0];let a=Number.MAX_VALUE,h=0;for(let e=0;e<3;e++){let t=!1;if(n[e].first>n[e].second){t=!0;const s=n[e].first;n[e].first=n[e].second,n[e].second=s}i[e]=r.cut(n[e].first,n[e].second,!0),i[e].dropAllAttributes(),t&&i[e].reverse(),i[e].setCoordsForIntersector(m,l,!1),o[e]=i[e].calculateLength2D();const s=Math.abs(u-o[e]);s<a&&(a=s,h=e)}return g=i[h],g=E(g),void(g&&(this.removeSpanBetween(e,t,s),e.setSegmentToIndex(e.getVertexIndex(t),g)))}}let n=!1;_>d&&(n=!0,[_,d]=[d,_]),g=r.cut(_,d,!0),g.dropAllAttributes(),n&&g.reverse(),g.setCoordsForIntersector(m,l,!1),g=E(g),g&&(this.removeSpanBetween(e,t,s),e.setSegmentToIndex(e.getVertexIndex(t),g))}else{if(g=r.clone(),g.dropAllAttributes(),f>x&&g.reverse(),u<Math.max(.75*p,p-this.m_densificationDeviation*(n-1))){const e=_>d?d:_,t=g.tToLength(e)+u;let s=g.lengthToT(t);s=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.s)(s,e,1),g=g.cut(e,s,!0)}g.setCoordsForIntersector(m,l,!1),g=E(g),g&&(this.removeSpanBetween(e,t,s),e.setSegmentToIndex(e.getVertexIndex(t),g))}}processSpanCurves_(e,t,s,n,r,i,o){if(t===s&&0===n)return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(e.getNextVertex(t)===_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n),e.setSegmentToIndex(e.getVertexIndex(t),null),void e.setSegmentParentageAndBreak(t,-1);const h=e.getNextVertex(t);{let t=2;for(let n=h;n!==s;n=e.getNextVertex(n))t++;(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(t===n)}if(null===r)return e.setSegmentToIndex(e.getVertexIndex(t),null),void e.removeVertices(h,s);const m=e.getXY(t),l=e.getXY(s);if(r.isClosed()){if(m.isEqualPoint2D(l)&&m.isEqualPoint2D(r.getStartXY())){let a;if(a=this.verifySegmentFitnessCurves(e,t,s,n,r,i,o)){const n=r.clone();return n.dropAllAttributes(),a<0&&n.reverse(),this.removeSpanBetween(e,t,s),void e.setSegmentToIndex(e.getVertexIndex(t),n)}}}else if(m.isEqualPoint2D(r.getStartXY())){if(l.isEqualPoint2D(r.getEndXY())){const h=r.clone();h.dropAllAttributes();const m=this.verifySegmentFitnessCurves(e,t,s,n,h,i,o);if(m)return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(m>0),this.removeSpanBetween(e,t,s),void e.setSegmentToIndex(e.getVertexIndex(t),h)}}else if(l.isEqualPoint2D(r.getStartXY())&&m.isEqualPoint2D(r.getEndXY())){const h=r.getReversed();h.dropAllAttributes();const m=this.verifySegmentFitnessCurves(e,t,s,n,h,i,o);if(m)return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(m>0),this.removeSpanBetween(e,t,s),void e.setSegmentToIndex(e.getVertexIndex(t),h)}this.processSpanSplitSegmentCurves(e,t,s,n,r,i,o)}processSpan_(e,t,s,n,r,i,o){return 0===this.m_type?void this.processSpanSmartTe_(e,t,s,n,r,i,o):void this.processSpanCurves_(e,t,s,n,r,i,o)}processSpanSplitSegmentCurves(e,t,s,n,r,i,o){if(r.isLine())return;if(this.fitSegmentToSpanCurves(e,t,s,n,r,i,o))return;const a=o*o;let h=n,m=t;const l=e.getXY(t);let g=r.getClosestCoordinate(l,!1);const u=r.getCoord2D(g);let c=!1;const _=_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P.sqrDistance(l,u);if(_>a){const n=e.getNextVertex(t);if(this.approximateSpanSectionCurves(e,t,r,i,o),n===s)return;m=n,c=!0,h-=1}let d=s;const p=e.getXY(s);g=r.getClosestCoordinate(p,!1);const f=r.getCoord2D(g);let x=!1;const y=_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P.sqrDistance(p,f);if(y>a){const t=e.getPrevVertex(s);if(this.approximateSpanSectionCurves(e,t,r,i,o),t===m)return;d=t,x=!0,h-=1}if((c||x)&&this.fitSegmentToSpanCurves(e,m,d,h,r,i,o))return;let P=!1;if(!c&&_>0){const s=e.getNextVertex(t);if(this.approximateSpanSectionCurves(e,t,r,i,o),s===d)return;m=s,c=!0,P=!0,h-=1}if(!x&&y>0){const t=e.getPrevVertex(s);if(this.approximateSpanSectionCurves(e,t,r,i,o),t===m)return;d=t,x=!0,P=!0,h-=1}if(P&&this.fitSegmentToSpanCurves(e,m,d,h,r,i,o))return;let E=m;for(;;){const t=e.getNextVertex(E);if(this.approximateSpanSectionCurves(e,E,r,i,o),E=t,E===d)return}}fitSegmentToSpanCurves(e,t,s,n,r,i,o){const a=[];a.push(e.getXY(t));let h=t;const m=new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.S;for(;;){e.querySegment(h,m,!1,!0);const t=[.1,.25,.4,.5,.6,.75,.9,1];let r=0;for(const e of t){(2===n||1&r)&&a.push(m.get().getCoord2D(e)),r++}if(h=e.getNextVertex(h),h===s)break}const l=(()=>{let e=a[0].compare(a.at(-1));if(0===e){const t=new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.K(0);Qo(a,a.length,t),e=t.getResult()>=0?-1:1}return e>0})();l&&a.reverse();const g=r.clone();if(g.dropAllAttributes(),l&&g.reverse(),g.setSegmentFromCoordsForStitcher(a,a.length),l&&g.reverse(),g.snapControlPoints(this.m_tolerance*this.m_tolerance),this.verifySegmentFitnessCurves(e,t,s,n,g,i,o)){this.removeSpanBetween(e,t,s);const n=e.getVertexIndex(t);return e.setSegmentToIndex(n,g),!0}return!1}approximateSpanSectionCurves(e,t,s,r,o){const a=new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.S;if(!e.querySegment(t,a,!0,!1))return;const h=s.getGeometryType();if(h!==a.get().getGeometryType()){if(h===_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumEllipticArc){if(a.get().getGeometryType()!==_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumRationalBezier2)return;if(0===s.projectionBehavior()){const s=[];ea(!1,a.get(),o,s,this.m_progressTracker);const n=e.getNextVertex(t),r=e.getPathFromVertex(t),i=new _Envelope_js__WEBPACK_IMPORTED_MODULE_3__.P;let h=t;for(let t=1,o=s.length;t<o;t++){const o=s[t],m=a.get().getCoord2D(s[t-1]),l=a.get().getCoord2D((0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.q)(s[t-1],o,.5));a.get().queryCoord(o,i);const g=i.getXY(),u=new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.l;u.constructCircularArcThreePoint(m,g,l);let c=_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n;o<1&&(c=e.insertVertex(r,n,i)),e.setSegmentToIndex(e.getVertexIndex(h),u),h=c}return}{const s=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P,3);a.get().queryControlPoints(s);const n=[0,0,0];a.get().queryWeights(n);const r=(0,_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.U)(n),i=new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.l;return (0,_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.V)(s,r*r,null,!1,i),void e.setSegmentToIndex(e.getVertexIndex(t),i)}}(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.d)("approximate_span_section_")}}verifySegmentFitnessCurves(e,t,s,n,r,i,o){const a=e.getXY(t),h=e.getXY(s);if(!a.isEqualPoint2D(r.getStartXY())||!h.isEqualPoint2D(r.getEndXY()))return 0;let m=0;if(r.isClosed()){const e=r.getCoord2D(.1).sub(a);m=r.getCoord2D(.7).sub(a).crossProduct(e)>=0?1:-1}const l=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.d)(_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.W.s_maxMonotonicPartParams,Number.NaN);let g=r.getMonotonicPartParams(l.length,l);g--;const u=new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.L,c=[1,.5,.75,.25];let _=0,d=t;const p=a.clone();for(;;){const t=e.getNextVertex(d);let n=e.getSegment(d);null===n&&(e.queryLineConnector(d,u,!0),n=u);for(let e=t===s?1:0;e<c.length;e++){const t=n.getCoord2D(c[e]);if(!r.isCloserThanDistance(t,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.E.unit(),o))return 0}if(g>1)for(let e=1;e<g;){const t=r.getCoord2D(l[e]);n.isCloserThanDistance(t,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.E.unit(),o)?(l[g-1]=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.c)(l[e],l[e]=l[g-1]),g--):e++}if(m){const e=n.getCoord2D(.25);_+=e.sub(a).crossProduct(p.sub(a)),p.assign(e),e.assign(n.getCoord2D(.75)),_+=e.sub(a).crossProduct(p.sub(a)),p.assign(e)}if(d=t,d===s)return g>1?0:m?_<0?-m:m:1}}removeSpanBetween(e,t,s){e.setSegmentToIndex(e.getVertexIndex(t),null);const n=e.getNextVertex(t);n!==s&&e.removeVertices(n,s)}static st_stitchCurvesImpl(e,t,s,n,r){if(!t.hasSegmentParentage())return;ga(t);let i=s===_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n?t.getFirstGeometry():s;for(;i!==_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n;)if((0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.l)(t.getGeometryType(i))){for(let s=t.getFirstPath(i);s!==_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n;s=t.getNextPath(s)){let i=t.getPathSize(s);const o=t.isClosedPath(s);o&&(i+=1);let h=t.getFirstVertex(s);const m=t.getSegmentParentage(h);if(o){if(-1!==m&&!t.getSegmentParentageBreakVertex(h)){let e=t.getPrevVertex(h);const s=h;for(let n=0;;n++){const r=t.getSegmentParentage(e);if(m!==r){(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(-1===r);break}if(h=e,t.getSegmentParentageBreakVertex(e))break;if(e===s){h=s,t.setSegmentParentageBreakVertex(h,!0);break}e=t.getPrevVertex(e),(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(n<i)}}}else (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(-1===m||t.getSegmentParentageBreakVertex(h));let l=h;for(let s=0;s<i&&l!==_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n;){const o=t.getSegmentParentage(l);if(-1===o){if(s++,l=t.getNextVertex(l),l===h)break;continue}let m=0,g=_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n;const u=l;m=1;let c=t.getNextVertex(u);for(;s<i&&c!==_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n;){s++,g=c,m++;const e=t.getSegmentParentage(c);if(-1===e||t.getSegmentParentageBreakVertex(c))break;(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(e===o),c=t.getNextVertex(c)}if(g===_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n){(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(0);break}if(!r){const s=e.m_originalPlanarSegments[o];e.processSpan_(t,u,g,m,s,o,n)}if(l=g,l===h)break}}if(s!==_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n)break;i=t.getNextGeometry(i)}else i=s===_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n?t.getNextGeometry(i):_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n}static st_stitchCurvesFromLinesImpl(e,t,s,n,r){let i=s===_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n?t.getFirstGeometry():s;for(;i!==_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n;){for(let s=t.getFirstPath(i);s!==_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n;s=t.getNextPath(s)){let i=t.getPathSize(s);t.isClosedPath(s)&&(i+=1);let o=!0,h=!1;const m=t.getFirstVertex(s);let l=m;for(let s=0;s<i&&l!==_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n;){let g=t.getSegmentParentage(l);if(-1===g||o){o=!1,s++,l=t.getNextVertex(l),h=!0;continue}let u,c,_=0;if(h?(u=t.getPrevVertex(l),c=l,(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(u!==_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n),(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(c!==u),(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(-1===t.getSegmentParentage(u)||m===u)):(u=l,c=t.getNextVertex(u),s++,(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(c!==_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n),(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(c!==u),g=t.getSegmentParentage(c)),_=2,h=!1,-1===g||t.getSegmentParentageBreakVertex(c)){l=c;continue}let d=t.getNextVertex(c);for(s++;s<i&&d!==_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n;){c=d,_++;const e=t.getSegmentParentage(d);if(-1===e||t.getSegmentParentageBreakVertex(d))break;(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(e===g),s++,d=t.getNextVertex(d)}if(!r){const s=e.m_originalPlanarSegments[g];e.processSpan_(t,u,c,_,s,g,n)}l=c}}if(s!==_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n)break;i=t.getNextGeometry(i)}}static st_stitchCurvesFromCurvesImpl(e,t,s,n,r){let i=s===_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n?t.getFirstGeometry():s;for(;i!==_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n;)if((0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.l)(t.getGeometryType(i))){for(let s=t.getFirstPath(i);s!==_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n;s=t.getNextPath(s)){let i=t.getPathSize(s);const o=t.isClosedPath(s);o&&(i+=1);let h=t.getFirstVertex(s);if(o){if(-1!==t.getSegmentParentage(h)){let e=h;for(let n=0;!t.getSegmentParentageBreakVertex(e);n++){if(n===i){h=t.getFirstVertex(s),t.setSegmentParentageBreakVertex(e,!0);break}e=t.getPrevVertex(e)}}}else (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(-1===t.getSegmentParentage(h)||t.getSegmentParentageBreakVertex(h));let m=h;for(let s=0;s<i&&m!==_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n;){const o=t.getSegmentParentage(m);if(-1===o){s++,m=t.getNextVertex(m);continue}let h=0,l=_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n;const g=m;h=1;let u=t.getNextVertex(g);for(;s<i&&u!==_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n;){s++,l=u,h++;const e=t.getSegmentParentage(u);if(-1===e||t.getSegmentParentageBreakVertex(u))break;(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(e===o),u=t.getNextVertex(u)}if(l===_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n)break;if(!r){const s=e.m_originalPlanarSegments[o];e.processSpan_(t,g,l,h,s,o,n)}m=l}}if(s!==_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n)break;i=t.getNextGeometry(i)}else i=s===_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n?t.getNextGeometry(i):_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n}static regularizeCurve(e,t,s,n){let r=t.snapControlPoints(n*n);if(r){const n=e.getVertexIndex(s),r=t.clone();e.setSegmentToIndex(n,r)}if(t.getGeometryType()===_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.y.type){const i=[],o=t.calculateSpecialPointsForCracking(n,i);if(o>0){const a=[];if(o>1)for(let e=0;e<o;e++)if(a.push(t.getCoord2D(i[e])),e>0){const t=(Math.abs(a[e].x)+Math.abs(a[e].y))*(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.g)(),s=_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P.distance(a[e-1],a[e]);if(s<t&&s>0){const t=new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P;(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.U)(a[e-1],a[e],.5,t),a[e-1]=t,a[e]=t}}e.splitSegment(s,i,o),r=e.snapControlPoints(s,o+1,n*n)||r;for(let t=0;t<o;t++)s=e.getNextVertex(s),e.setSegmentParentageBreakVertex(s,!0);return o}}return r?0:-1}}function ya(e,t,s,n,r){return new ba(e,s,t,n,r).do_()}function Pa(e,t,s){const n=(0,_Envelope_js__WEBPACK_IMPORTED_MODULE_3__.e)(e);return ln(t.getX(),t.getY(),s.getX(),s.getY(),(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.a)(n))}function Ea(e,t,s=1,n=1,r=1,i=1){if(n>i)return e;if(i>n)return t;const o=[0],a=[0],h=new _Envelope_js__WEBPACK_IMPORTED_MODULE_3__.P;return cn(e,t,s,n,r,i,h,a,o),h}function Sa(e,t,s){const n=(0,_Envelope_js__WEBPACK_IMPORTED_MODULE_3__.e)(t),r=(0,_Envelope_js__WEBPACK_IMPORTED_MODULE_3__.Q)(t);return!!_n(e,n,_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n,null,s)||Mn(!0,e,r,null,s)}function Ca(e,t,s){return ba.fixCurveTwoPointLoops(e,t,s)}function Ia(e){return (0,_Envelope_js__WEBPACK_IMPORTED_MODULE_3__.e)(e)}class ba{constructor(e,t,s,n,r){this.m_shape=e,this.m_progressTracker=t,this.m_tolerance=s,this.m_bFilterDegenerateSegments=n,this.m_bTrackChanges=r,this.m_progressCounter=0}do_(){const e=new _Envelope_js__WEBPACK_IMPORTED_MODULE_3__.C(this.m_tolerance.tolerance,this.m_tolerance.resolution),t=1e-5,s=1e-6,n=Ia(e);let r=(0,_Envelope_js__WEBPACK_IMPORTED_MODULE_3__.Q)(e);const o=r*(1+t);r*=1+s;let a=!1;const h=this.m_shape.getTotalPointCount()+10>30?1e3:(this.m_shape.getTotalPointCount()+10)*(this.m_shape.getTotalPointCount()+10),m=this.m_shape.hasPointFeatures();for(let l=0;;l++){this.m_shape.dbgCheckSelection(),l>h&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.d)("crack_and_cluster_iteration_exceeded"),this.m_shape.dbgVerifyMonotone();let e=-1;0===l&&(e=this.firstCrack_(),a||=e>0);const t=this.cluster_(n);if(this.m_shape.dbgVerifyMonotone(),a||=t,this.m_bFilterDegenerateSegments){const e=0!==this.m_shape.filterClosePoints(n,!0,!1,this.m_bTrackChanges,_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n);a||=e,this.m_shape.dbgVerifyMonotone()}const s=this.m_shape.snapControlPointsOnSelection(o*o);a||=s,this.m_shape.dbgCheckSelection();let g=!1;if((0===l&&-1===e||m||Mn(!0,this.m_shape,r,null,this.m_progressTracker))&&(g=this.crack_(o),a||=g,this.m_shape.dbgVerifyMonotone()),!g&&!ba.fixCurveTwoPointLoops(this.m_shape,n,this.m_progressTracker)){this.m_shape.dbgVerifyMonotone();break}}return a&&ua(this.m_shape),a}cluster_(e){return mn(this.m_shape,e,_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n,this.m_bTrackChanges,this.m_progressTracker)}crack_(e){return An(this.m_shape,e,this.m_bTrackChanges,this.m_progressTracker)}static fixCurveTwoPointLoops(e,t,s){if(!e.hasCurves())return!1;e.dbgVerifyCurves();const n=e.createUserIndexUninitialized(),r=new _Envelope_js__WEBPACK_IMPORTED_MODULE_3__.A(0),i=e.queryVertexIteratorOnSelection();for(let a=i.next();a!==_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n;a=i.next())r.add(a),e.setUserIndex(a,n,-1);if(0===r.size())return!1;r.add(_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n),e.sortVerticesSimpleByY(r,0,r.size()-1);let o=0;const h=e.getXY(r.read(o)),m=new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P(Number.NaN,Number.NaN),l=[];for(let a=1,g=r.size();a<g;++a){const t=r.read(a),s=t!==_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n?e.getXY(t):m;if(s.equals(h))continue;const i=[];for(let m=o;m<a;m++){const t=r.read(m),s=e.getPrevVertex(t);if(s!==_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n&&-1===e.getUserIndex(s,n)){const t=wa(e.getXY(s),e.getSegment(s));0!==_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P.sqrDistance(h,t.otherPt)&&(t.vert=s,t.dir=-1,i.push(t)),e.setUserIndex(s,n,1)}const o=e.getNextVertex(t);if(o!==_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n&&-1===e.getUserIndex(t,n)){const s=wa(e.getXY(o),e.getSegment(t));0!==_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P.sqrDistance(h,s.otherPt)&&(s.vert=t,s.dir=1,i.push(s)),e.setUserIndex(t,n,1)}}if(i.length>1){i.sort(((e,t)=>Ta(e,t)));const e=wa(m.clone(),null);i.push(e);let t=0;for(let s=1,n=i.length;s<n;s++)if(!i[s].otherPt.equals(i[s-1].otherPt)){if(s-t>1&&null!==i[t].seg){let e=!1;const n=t;for(let r=t+1;r<s;r++)if(!va(i[n],i[r])){e=!0;break}if(e)for(let r=t;r<s&&null!==i[r].seg;r++)l.push(i[r].vert)}t=s}}o=a,h.setCoordsPoint2D(s)}for(const g of l){const s=e.getSegment(g);(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(null!==s);const n=e.getXY(g),r=e.getXY(e.getNextVertex(g));if(_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P.distance(n,r)<3*t)e.setSegmentToIndex(e.getVertexIndex(g),null);else{const t=s.lengthToT(.5*s.calculateLength2D());e.splitSegment(g,[t],1)}}return e.removeUserIndex(n),l.length>0}firstCrack_(){const e=this.m_shape.getEnvelope2D(this.m_progressTracker),t=(0,_Envelope_js__WEBPACK_IMPORTED_MODULE_3__.c)(null,e,!0).total();if(4*t<this.m_tolerance.total()){let e=!1;const s=1.1*t,n=t,r=this.cluster_(s);e||=r;let i=0;this.m_bFilterDegenerateSegments&&(i=this.m_shape.filterClosePoints(0,!0,!1,this.m_bTrackChanges,_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n));const o=this.crack_(n);return e||=o,e?1:i?2:0}return-1}progress_(e=!1){this.m_progressCounter++,!e&&4095&this.m_progressCounter||(this.m_progressCounter=0)}}function wa(e,t){return{otherPt:e,seg:t,vert:-1,dir:0}}function va(e,t){if((0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(e.otherPt.equals(t.otherPt)),null===e.seg)return null===t.seg;if(null===t.seg)return!1;const s=e.seg.getGeometryType();if(s!==t.seg.getGeometryType())return!1;if(s===_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumBezier){const s=e.seg,n=t.seg;let r=s.getControlPoint1(),i=s.getControlPoint2();-1===e.dir&&(i=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.c)(r,r=i));let o=n.getControlPoint1(),a=n.getControlPoint2();return-1===t.dir&&(a=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.c)(o,o=a)),r.equals(o)&&i.equals(a)}if(s===_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumRationalBezier2){const s=e.seg,n=t.seg,r=s.getControlPoint1(),i=n.getControlPoint1();if(!r.equals(i))return!1;const o=[0,0,0];s.queryWeights(o),-1===e.dir&&(o[2]=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.c)(o[0],o[0]=o[2]));const a=[0,0,0];return n.queryWeights(a),-1===t.dir&&(a[2]=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.c)(a[0],a[0]=a[2])),o[0]===a[0]&&o[1]===a[1]&&o[2]===a[2]}(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.d)("")}function Na(e,t){if(null===e.seg||null===t.seg)return null!==e.seg?-1:null!==t.seg?1:0;const s=e.seg.getGeometryType(),n=t.seg.getGeometryType();return s<n?-1:s>n?1:0}function Ta(e,t){const s=e.otherPt.compare(t.otherPt);return 0!==s?s:Na(e,t)}var Ga=_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.h,Da=_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.f,Va=_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.z;function Fa(e){switch(e){case 1:return 1;case 2:return 2;case 3:return 3;case 4:return 4;case 0:return 0;default:(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(0,"unrecognized cut side")}return 3}function Ha(){return{unsplitBehavior:0,allCrossRoadsImpassable:!1,ogcRule:!1}}function ka(e,t,s,n){return new Ka(n).autoCompleteImpl(e,t,s)}function Aa(e,t,s,r,i,o,a){const h=new Ka(i);h.m_bOGCOutput=!0;const m=e.getGeometryType()===_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumPolygon&&1===e.getFillRule()&&!(0,_Envelope_js__WEBPACK_IMPORTED_MODULE_3__.X)(r);return h.planarSimplifyImpl_(e,t,m,s,r,i,o,a)}function Ma(e,t,s,n,r,i,o,a){return new Ka(i).planarSimplifyImpl_(e,t,s,n,r,i,o,a)}function Ua(e,t,s,n){const r=new Ka(n),i=new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.E,o=i.addGeometry(t),h=r.planarSimplifyNoCrackingAndCluster(e,i,o,s);(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(h,"planar_simplify_no_cracking_and_cluster");return i.getGeometry(o)}function qa(e,t,s,n,r,i,o){return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(0),{}}function Ba(e,t,s,n){return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(0),{}}function Oa(e,t,s){return Ja(e,t,s)}function Ya(t,s,r,i){if(t.isEmpty()||s.isEmpty()||t.getDimension()>s.getDimension())return $a(eh(t),t,s,"-");const o=new _Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D;t.queryEnvelope(o);const a=new _Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D;s.queryEnvelope(a);const h=new _Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D;h.setCoords({env2D:o}),h.mergeEnvelope2D(a);const m=(0,_Envelope_js__WEBPACK_IMPORTED_MODULE_3__.c)(r,h,!0),l=a.clone(),g=(0,_Envelope_js__WEBPACK_IMPORTED_MODULE_3__.e)(m);if(l.inflateCoords(g,g),!o.isIntersecting(l))return $a(eh(t),t,s,"-");const u=new Ka(i),c=new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.E,_=c.addGeometry(eh(t)),d=c.addGeometry(eh(s));let p=0,f=0,x=null;if(c.hasCurves()){x=new fa;const e=c.getEnvelope2D(i);f=da(m.total());const t=_a(m.total(),e);p=pa(t,f),aa(c,t,m.total(),12e3,x,null,i)}u.setEditShapeCrackAndCluster(c,m.add(p));const y=u.difference(_,d);null!==x&&x.stitchCurves(c,y,f,!0);const P=$a(c.getGeometry(y),t,s,"-");return Ga(P.getGeometryType())&&(P.getImpl().setIsSimple(4,m.total()),P.getGeometryType()===_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumPolygon&&P.getImpl().updateOGCFlagsProtected()),P}function Ra(t,s,r,i){if(t.getDimension()>s.getDimension())return $a(eh(t),t,s,"^");if(t.getDimension()<s.getDimension())return $a(eh(s),t,s,"^");if(t.isEmpty())return $a(eh(s),t,s,"^");if(s.isEmpty())return $a(eh(t),t,s,"^");const o=new _Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D;t.queryEnvelope(o);const a=new _Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D;s.queryEnvelope(a);const h=new _Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D;h.setCoords({env2D:o}),h.mergeEnvelope2D(a);const m=(0,_Envelope_js__WEBPACK_IMPORTED_MODULE_3__.c)(r,h,!0),l=new Ka(i),g=new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.E,u=g.addGeometry(eh(t)),c=g.addGeometry(eh(s));let _=0,d=null;if(g.hasCurves()){d=new fa;const e=g.getEnvelope2D(i);_=da(m.total());aa(g,_a(m.total(),e),m.total(),12e3,d,null,i)}l.setEditShapeCrackAndCluster(g,m);const p=l.symmetricDifference(u,c);null!==d&&d.stitchCurves(g,p,_,!0);const f=$a(g.getGeometry(p),t,s,"^");return Ga(f.getGeometryType())&&(f.getImpl().setIsSimple(4,m.total()),f.getGeometryType()===_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumPolygon&&f.getImpl().updateOGCFlagsProtected()),f}function Xa(e,t,s){return Qa(e,t,s,!0)}function La(e,t,s){return e.isEmpty()||t.isEmpty()?e.createInstance():Pa(s,e,t)?new _Envelope_js__WEBPACK_IMPORTED_MODULE_3__.P({copy:Ea(e,t)}):e.createInstance()}function za(t,s,r,i){const o=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D.constructEmpty();t.queryEnvelope(o);const a=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D.constructEmpty();s.queryEnvelope(a);const h=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D.constructEmpty();h.setCoords({env2D:o}),h.mergeEnvelope2D(a);const m=(0,_Envelope_js__WEBPACK_IMPORTED_MODULE_3__.c)(r,h,!0),l=new _Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D(a),g=(0,_Envelope_js__WEBPACK_IMPORTED_MODULE_3__.e)(m);if(l.inflateCoords(g,g),!o.isIntersecting(l)){if(t.getDimension()<=s.getDimension())return $a(eh(t.createInstance()),t,s,"&");if(t.getDimension()>s.getDimension())return $a(eh(s.createInstance()),t,s,"&")}const u=new Ka(i),c=new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.E,_=c.addGeometry(eh(t)),d=c.addGeometry(eh(s));let p=0,f=0,x=null;if(c.hasCurves()){x=new fa;const e=c.getEnvelope2D(i);f=da(m.total());const t=_a(m.total(),e);p=pa(t,f),aa(c,t,m.total(),12e3,x,null,i)}u.setEditShapeCrackAndCluster(c,m.add(p));const y=u.intersection(_,d);null!==x&&x.stitchCurves(c,y,f,!0);const P=$a(c.getGeometry(y),t,s,"&");return Ga(P.getGeometryType())&&(P.getImpl().setIsSimple(4,m.total()),P.getGeometryType()===_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumPolygon&&P.getImpl().updateOGCFlagsProtected()),P}function Wa(t,s,r,i){const o=new Array(3),a=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D.constructEmpty();t.queryEnvelope(a);const h=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D.constructEmpty();s.queryEnvelope(h);const m=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D.constructEmpty();m.setCoords({env2D:a}),m.mergeEnvelope2D(h);const l=(0,_Envelope_js__WEBPACK_IMPORTED_MODULE_3__.c)(r,m,!0),g=new _Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D(h),u=(0,_Envelope_js__WEBPACK_IMPORTED_MODULE_3__.e)(l);if(g.inflateCoords(u,u),!a.isIntersecting(g)){if(t.getDimension()<=s.getDimension()){const e=$a(eh(t.createInstance()),t,s,"&");return o[e.getDimension()]=e,o}if(t.getDimension()>s.getDimension()){const e=$a(eh(s.createInstance()),t,s,"&");return o[e.getDimension()]=e,o}}const c=new Ka(i),_=new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.E,d=_.addGeometry(eh(t)),p=_.addGeometry(eh(s));let f=0,x=0,y=null;if(_.hasCurves()){y=new fa;const e=_.getEnvelope2D(i);x=da(l.total());const t=_a(l.total(),e);f=pa(t,x),aa(_,t,l.total(),12e3,y,null,i)}c.setEditShapeCrackAndCluster(_,l.add(f)),_.dbgVerifyCurves();const P=c.intersectionEx(d,p);for(const e of P){null!==y&&y.stitchCurves(_,e,x,!1);const r=$a(_.getGeometry(e),t,s,"&");Ga(r.getGeometryType())&&(r.getImpl().setIsSimple(4,l.total()),r.getGeometryType()===_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumPolygon&&r.getImpl().updateOGCFlagsProtected()),o[r.getDimension()]=r}return null!==y&&y.clearStitcher(_),o}function ja(e,s,n,r,i,o=!1){0===s&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.a)("not enough geometries to dissolve");let a=0;for(let t=0,d=s;t<d;t++)a=Math.max(e[t].getDimension(),a);if(2===a||1===a)return new Ka(r).dissolveMultiPaths_(a,!1,e,s,n,i,o);let h=0,m=-1;for(let t=0,d=s;t<d;t++)e[t].getDimension()===a&&(-1===m&&(m=t),e[t].isEmpty()||(m=t,h++));if(h<2)return eh(e[m]);const l=_Envelope_js__WEBPACK_IMPORTED_MODULE_3__.n.constructEmpty(),g=new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.E;let u=_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n;for(let t=0,d=s;t<d;t++)if(e[t].getDimension()===a&&!e[t].isEmpty()){u===_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n?u=g.addGeometry(eh(e[t])):g.appendGeometry(u,eh(e[t]));const s=_Envelope_js__WEBPACK_IMPORTED_MODULE_3__.n.constructEmpty();e[t].queryLooseEnvelope(s),l.mergeEnv3D(s)}const c=(0,_Envelope_js__WEBPACK_IMPORTED_MODULE_3__.c)(n,l.getEnvelope2D(),!0),_=new Ka(r);if(o){const e=(0,_Envelope_js__WEBPACK_IMPORTED_MODULE_3__.Y)(n,l.getEnvelopeZs(),!0);return _.planarSimplify3DImpl_(g,c,e,0,!0)}return _.m_bOGCOutput=!0,_.planarSimplifyMultiPoints(g,c,!1,-1)}function Za(e,s,n,r,i,o=!1){s<2&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.a)("not enough geometries to dissolve");let a=0;for(let t=0,p=s;t<p;t++)a=Math.max(e[t].getDimension(),a);if(2===a||1===a)return new Ka(r).dissolveMultiPaths_(a,!0,e,s,n,i,o);const h=_Envelope_js__WEBPACK_IMPORTED_MODULE_3__.n.constructEmpty(),m=new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.E;let l=_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n,g=0,u=-1;for(let t=0,p=s;t<p;t++)if(e[t].getDimension()===a&&(-1===u&&(u=t),!e[t].isEmpty())){u=t,l===_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n?l=m.addGeometry(eh(e[t])):m.appendGeometry(l,eh(e[t]));const s=_Envelope_js__WEBPACK_IMPORTED_MODULE_3__.n.constructEmpty();e[t].queryLooseEnvelope(s),h.mergeEnv3D(s),g++}if(g<2)return eh(e[u]);const c=0===a?n:null,_=(0,_Envelope_js__WEBPACK_IMPORTED_MODULE_3__.c)(c,h.getEnvelope2D(),!0),d=new Ka(r);if(o){const e=(0,_Envelope_js__WEBPACK_IMPORTED_MODULE_3__.Y)(c,h.getEnvelopeZs(),!0);return d.m_bOGCOutput=!0,d.planarSimplify3DImpl_(m,_,e,0,!0)}return d.planarSimplifyMultiPoints(m,_,!0,-1)}class Ka{constructor(e){this.m_topoGraph=null,this.m_maskLookup=[],this.m_dummyPt1=_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P.getNAN(),this.m_dummyPt2=_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P.getNAN(),this.m_fromEdgeForPolylines=_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n,this.m_progressCounter=0,this.m_bOGCOutput=!1,this.m_progressTracker=e}linesToPolygonsImpl(e,t){let s=0,n=0,r=null;if(e.hasCurves()){r=new fa;const i=e.getEnvelope2D(this.m_progressTracker);n=da(t.total());const o=_a(t.total(),i);s=pa(o,n),aa(e,o,t.total(),12e3,r,null,this.m_progressTracker)}this.setEditShapeCrackAndCluster(e,t.add(s));const i=this.m_topoGraph.createUserIndexForChains(),o=this.m_topoGraph.getFirstChain();this.m_topoGraph.setChainUserIndex(o,i,1);for(let h=this.m_topoGraph.getChainFirstIsland(o);h!==_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n;h=this.m_topoGraph.getChainNextInParent(h))this.m_topoGraph.setChainUserIndex(h,i,1);const a=[];for(let h=this.m_topoGraph.getFirstChain();h!==_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n;h=this.m_topoGraph.getChainNext(h)){if(1===this.m_topoGraph.getChainUserIndex(h,i))continue;this.m_topoGraph.setChainUserIndex(h,i,1);for(let e=this.m_topoGraph.getChainFirstIsland(h);e!==_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n;e=this.m_topoGraph.getChainNextInParent(e))this.m_topoGraph.setChainUserIndex(e,i,1);if(0===this.m_topoGraph.getChainArea(h))continue;const t=this.m_topoGraph.extractPolygonFromChainAndIslands(e,_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n,h,_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n);null!=r&&r.stitchCurves(e,t,n,!1);const s=e.getGeometry(t);a.push(s)}return new _SimpleGeometryCursor_js__WEBPACK_IMPORTED_MODULE_9__.S(a)}autoCompleteImpl(e,t,s){let n=0,r=0,i=null;if(e.hasCurves()){i=new fa;const t=e.getEnvelope2D(this.m_progressTracker);r=da(s.total());const o=_a(s.total(),t);n=pa(o,r),aa(e,o,s.total(),12e3,i,null,this.m_progressTracker)}this.setEditShapeCrackAndCluster(e,s.add(n));const o=this.m_topoGraph.getGeometryID(t),a=this.m_topoGraph.createUserIndexForChains(),h=this.m_topoGraph.getFirstChain();this.m_topoGraph.setChainUserIndex(h,a,1);for(let l=this.m_topoGraph.getChainFirstIsland(h);l!==_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n;l=this.m_topoGraph.getChainNextInParent(l))this.m_topoGraph.setChainUserIndex(l,a,1);const m=[];for(let l=this.m_topoGraph.getFirstChain();l!==_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n;l=this.m_topoGraph.getChainNext(l)){if(1===this.m_topoGraph.getChainUserIndex(l,a))continue;this.m_topoGraph.setChainUserIndex(l,a,1);for(let e=this.m_topoGraph.getChainFirstIsland(l);e!==_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n;e=this.m_topoGraph.getChainNextInParent(e))this.m_topoGraph.setChainUserIndex(e,a,1);if(0!==this.m_topoGraph.getChainParentage(l))continue;const t=this.m_topoGraph.getChainHalfEdge(l);let s=t,n=!1;do{const e=this.m_topoGraph.getHalfEdgeTwin(s);if(this.m_topoGraph.getHalfEdgeChain(e)!==l&&0!==(this.m_topoGraph.getHalfEdgeParentage(s)&o)){n=!0;break}s=this.m_topoGraph.getHalfEdgeNext(s)}while(s!==t);if(!n)continue;if(0===this.m_topoGraph.getChainArea(l))continue;const h=this.m_topoGraph.extractPolygonFromChainAndIslands(e,_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n,l,_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n);null!==i&&i.stitchCurves(e,h,r,!1);const g=e.getGeometry(h);m.push(g)}return new _SimpleGeometryCursor_js__WEBPACK_IMPORTED_MODULE_9__.S(m)}setEditShape(e,t=!1){null===this.m_topoGraph&&(this.m_topoGraph=new tn),this.m_topoGraph.setEditShape(e,this.m_progressTracker,!0,t)}setEditShapeCrackAndCluster(e,t){ya(e,t,this.m_progressTracker,!0,!1);for(let s=e.getFirstGeometry();s!==_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n;s=e.getNextGeometry(s))e.getGeometryType(s)===_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumPolygon&&er(e,s,-1,this.m_bOGCOutput,_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n,this.m_progressTracker);this.setEditShape(e)}setHalfEdgeOrientations_(e,t){const s=this.m_topoGraph.getShape();for(let n=s.getFirstGeometry();n!==_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n;n=s.getNextGeometry(n))if(n===t)for(let t=s.getFirstPath(n);t!==_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n;t=s.getNextPath(t)){let n=s.getFirstVertex(t);if(n===_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n)continue;let r=s.getNextVertex(n);for(;r!==_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n;){const t=this.m_topoGraph.getClusterFromVertex(n),i=this.m_topoGraph.getClusterFromVertex(r),o=this.m_topoGraph.getHalfEdgeConnector(t,i);if(o!==_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n){const t=this.m_topoGraph.getHalfEdgeTwin(o);this.m_topoGraph.setHalfEdgeUserIndex(o,e,1),this.m_topoGraph.setHalfEdgeUserIndex(t,e,2)}n=r,r=s.getNextVertex(n)}}}flushVertices_(e,t){const s=this.m_topoGraph.getShape(),n=s.hasSegmentParentage(),r=new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.S,i=s.insertPath(e,_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n);t.push(t[0]);const o=t.length;let a=_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n;for(let h=0;h<o;h++){const e=t[h];if(a=s.addVertex(i,e),!n)continue;const m=this.m_topoGraph.getClusterFromVertex(e);if(h>0&&this.m_topoGraph.isBreakNode(m)&&s.setSegmentParentageBreakVertex(a,!0),h<o-1){const e=this.m_topoGraph.getHalfEdgeConnector(m,this.m_topoGraph.getClusterFromVertex(t[h+1])),n=this.m_topoGraph.getSegmentParentage(e);s.setSegmentParentageAndBreak(a,n,h>0||this.m_topoGraph.isBreakNode(m)),this.m_topoGraph.isHalfEdgeCurve(e)&&(this.m_topoGraph.querySegmentXY(e,r),s.setSegmentToIndex(s.getVertexIndex(a),r.get().clone()))}}if(n){const e=this.m_topoGraph.getClusterFromVertex(t[o-1]);this.m_topoGraph.isBreakNode(e)&&s.setSegmentParentageBreakVertex(a,!0)}s.setClosedPath(i,!0)}processPolygonCuts_(e,t,s,r){const i=this.m_topoGraph.getGeometryID(s),o=this.m_topoGraph.getGeometryID(r),a=[],h=this.m_topoGraph.getShape(),m=this.m_topoGraph.createUserIndexForHalfEdges();for(let l=this.m_topoGraph.getFirstCluster();l!==_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n;l=this.m_topoGraph.getNextCluster(l)){const s=this.m_topoGraph.getClusterHalfEdge(l);if(s===_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n)continue;let r=s;do{if(1!==this.m_topoGraph.getHalfEdgeUserIndex(r,m)){let s=r,l=r,g=!1,u=0;do{if(this.m_topoGraph.setHalfEdgeUserIndex(s,m,1),!g){if(0!==(this.m_topoGraph.getHalfEdgeParentage(s)&o)){0!==(this.m_topoGraph.getHalfEdgeFaceParentage(s)&i)&&(l=s,g=!0)}}if(g){const t=this.m_topoGraph.getHalfEdgeOrigin(s),n=this.m_topoGraph.getClusterVertexIterator(t),r=this.m_topoGraph.getVertexFromVertexIterator(n);if(a.push(r),-1!==e){if(0!==(this.m_topoGraph.getHalfEdgeParentage(s)&o)){u|=this.m_topoGraph.getHalfEdgeUserIndex(s,e)}}}s=this.m_topoGraph.getHalfEdgeNext(s)}while(s!==l);if(g&&this.m_topoGraph.getChainArea(this.m_topoGraph.getHalfEdgeChain(l))>0){const e=h.createGeometry(_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumPolygon);this.flushVertices_(e,a),-1!==t&&h.setGeometryUserIndex(e,t,u)}a.length=0}r=this.m_topoGraph.getHalfEdgeNext(this.m_topoGraph.getHalfEdgeTwin(r))}while(r!==s)}this.m_topoGraph.deleteUserIndexForHalfEdges(m)}cutPolygonPolyline_(e,t,s,n){this.m_topoGraph.removeSpikes_();let r=-1;-1!==e&&(r=this.m_topoGraph.createUserIndexForHalfEdges(),this.setHalfEdgeOrientations_(r,s)),this.processPolygonCuts_(r,e,t,s),-1!==r&&(this.m_topoGraph.deleteUserIndexForHalfEdges(r),r=-1);const i=this.m_topoGraph.getShape();for(let o=i.getFirstGeometry();o!==_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n;o=i.getNextGeometry(o))o!==t&&o!==s&&n.push(o);n.sort(((e,t)=>{const s=i.getFirstPath(e),n=i.getRingArea(s),r=i.getFirstPath(t),o=i.getRingArea(r);return n<o?-1:n>o?1:0}))}cut(e,t,s,n,r){const o=this.m_topoGraph.getShape().getGeometryType(s),a=this.m_topoGraph.getShape().getGeometryType(n),h=(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.z)(o),l=(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.z)(a);if(2!==h||1!==l)if(1!==h||1!==l)(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.d)("");else{new sh(this,e,t,s,n,r).Do()}else this.cutPolygonPolyline_(t,s,n,r)}progress_(e=!1){}isGoodParentage(e){return e>=0&&e<this.m_maskLookup.length&&this.m_maskLookup[e]}normalizeInputGeometry(e){const s=e.getGeometryType();if(s===_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumEnvelope){const t=new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.a({vd:e.getDescription()});return e.isEmpty()||t.addEnvelope(e,!1),t}if(s===_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumPoint){const t=new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.M({vd:e.getDescription()});return e.isEmpty()||t.add(e),t}if((0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.f)(s)){const t=new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.P({vd:e.getDescription()});return e.isEmpty()||t.addSegment(e,!0),t}return s!==_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumMultiPoint&&s!==_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumPolyline&&s!==_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumPolygon&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.a)("Unexpected geometry type"),e}dissolveNonSimplePolygons(e,t,s,n){(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(t>0);const r=new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.E;let i=0,o=-1;for(let a=0,h=t;a<h;a++)2===e[a].getDimension()&&(-1===o&&(o=a),e[a].isEmpty()||(i++,r.addGeometry(e[a])));return 0===i?((0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(o>=0),this.normalizeInputGeometry(e[o])):this.planarSimplifyPolygons(r,s,!0,!1,-1,!0)}dissolveMultiPaths_(t,s,i,h,m,g,u){(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(t>=1&&t<=2),(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(h>0);const c=8&g?1:2,_=_Envelope_js__WEBPACK_IMPORTED_MODULE_3__.n.constructEmpty();let d=0,p=-1,f=!0;for(let e=0,r=h;e<r;e++)if(i[e].getDimension()===t&&(-1===p&&(p=e),!i[e].isEmpty())){p=e,d++;const s=_Envelope_js__WEBPACK_IMPORTED_MODULE_3__.n.constructEmpty();if(i[e].queryLooseEnvelope(s),_.mergeEnv3D(s),2===t&&f&&i[e].getGeometryType()===_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumPolygon)if(16&g){const t=[0],s=i[e].getImpl().getIsSimple(0,t),n=this.m_bOGCOutput?5===s:(0,_Envelope_js__WEBPACK_IMPORTED_MODULE_3__.i)(s);f&&=n}else{const t=(0,_Envelope_js__WEBPACK_IMPORTED_MODULE_3__.h)(i[e],0);f&&=t}}if(d<2&&((0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(p>=0),0===d||!(16&g)))return this.normalizeInputGeometry(i[p]);if(!f){const e=(0,_Envelope_js__WEBPACK_IMPORTED_MODULE_3__.c)(s?null:m,_.getEnvelope2D(),!0);return this.dissolveNonSimplePolygons(i,h,e,g)}const x=i.slice(0,h),y=(0,_Envelope_js__WEBPACK_IMPORTED_MODULE_3__.c)(m,_.getEnvelope2D(),!0),P=10*(0,_Envelope_js__WEBPACK_IMPORTED_MODULE_3__.e)(y);let E=new _Envelope_js__WEBPACK_IMPORTED_MODULE_3__.C(0,0);if(u&&(E=(0,_Envelope_js__WEBPACK_IMPORTED_MODULE_3__.Y)(m,_.getEnvelopeZs(),!0)),1===d&&1===t&&2===c&&!s)return u?qa():this.m_bOGCOutput?Aa(x[p],y,!1,-1,this.m_progressTracker,c,!1):Ma(x[p],y,!1,!1,-1,this.m_progressTracker,c,!1);const S=new _Envelope_js__WEBPACK_IMPORTED_MODULE_3__.a2;S.startConstruction();let C=2===t?3:4,b=0;for(let l=0,I=h;l<I;l++){if(x[l].getDimension()!==t||x[l].isEmpty())continue;let i=x[l].getGeometryType();if(i!==_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumEnvelope){if((0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.f)(i)?(x[l]=this.normalizeInputGeometry(x[l]),i=_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumPolyline):(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)((0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.h)(i)),1===t){(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(i===_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumPolyline);let e=-1;if(u)(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(0,"3d not implemented yet");else{const t=[0];e=x[l].getImpl().getIsSimple(y.total(),t)}if(this.m_bOGCOutput?5!==e:!(0,_Envelope_js__WEBPACK_IMPORTED_MODULE_3__.i)(e))if(s)C=-1;else{u?(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(0,"3d not implemented yet"):this.m_bOGCOutput?x[l]=Aa(x[l],y,!1,-1,this.m_progressTracker,c,!1):x[l]=Ma(x[l],y,!1,!1,-1,this.m_progressTracker,c,!1);const e=[0];(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)((0,_Envelope_js__WEBPACK_IMPORTED_MODULE_3__.i)(x[l].getImpl().getIsSimple(y.total(),e)))}}else{(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(i===_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumPolygon);const e=[0],t=x[l].getImpl().getIsSimple(0,e);(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)((0,_Envelope_js__WEBPACK_IMPORTED_MODULE_3__.X)(t))}const h=x[l].getImpl();for(let t=0,s=h.getPathCount();t<s;t++){const s=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D.constructEmpty();h.queryLoosePathEnvelope(t,s),s.inflateCoords(P,P),S.addEnvelope(b,s),b++}}else{(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(i===_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumEnvelope);const t=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D.constructEmpty();x[l].queryLooseEnvelope(t),t.inflateCoords(P,P),S.addEnvelope(b,t),b++,C=-1}}S.endConstruction();const w=b,N=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.d)(w,-2147483647),T=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.d)(w,-1);let D=0;p=-1,b=0;for(let e=0,r=h;e<r;e++){if(x[e].getDimension()!==t)continue;if(-1===p&&(p=e),x[e].isEmpty())continue;p=e,D++;const s=x[e].getGeometryType();if((0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.h)(s)){for(let t=0,s=x[e].getPathCount();t<s;t++)T[b]=e,N[b]=-t-1,b++}else (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(s===_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumEnvelope),T[b]=e,N[b]=-1,b++}if(D<2&&2===t)return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(p>=0),this.normalizeInputGeometry(x[p]);let V=w;for(;S.next()&&V>0;){this.progress_();const e=S.getHandleA(),t=S.getHandleB(),s=S.getElement(e),n=S.getElement(t);T[s]!==T[n]&&(N[s]<0&&(V--,N[s]=-(N[s]+1)),N[n]<0&&(V--,N[n]=-(N[n]+1)))}const F=new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.E;let H=!1,k=0;for(let e=0,r=h;e<r;e++){if(x[e].getDimension()!==t||x[e].isEmpty())continue;const s=x[e].getGeometryType(),r=k;let i=0,h=0;const m=(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.h)(s)?x[e]:null;for(let t=r,n=N.length;t<n&&T[t]===e;t++)N[t]>=0&&(i++,h+=m?m.getPathSize(N[t]):(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.v)(x[e])),k++;if(h>.95*(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.v)(x[e])){F.addGeometry(this.normalizeInputGeometry(x[e]));for(let e=r;e<k;e++)N[e]<0&&(N[e]=-(N[e]+1))}else{if(0===i){H=!0;continue}{H=!0,(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)((0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.h)(s)),(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(null!=m);const t=new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.a({vd:x[e].getDescription()}),i=new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.P({vd:x[e].getDescription()}),h=s===_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumPolygon?t:i;for(let e=r;e<k;e++)N[e]>=0&&h.addPath(m,N[e],!0);F.addGeometry(h)}}}let A;if(F.getFirstGeometry()!==_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n){const e=2===t,n=s?(0,_Envelope_js__WEBPACK_IMPORTED_MODULE_3__.c)(null,_.getEnvelope2D(),!0):y;let r=new _Envelope_js__WEBPACK_IMPORTED_MODULE_3__.C(0,0);if(u&&(r=s?(0,_Envelope_js__WEBPACK_IMPORTED_MODULE_3__.Y)(null,_.getEnvelopeZs(),!0):E),2===t&&!(2&g)){F.collapseAllGeometriesToFirst();let e=0,t=null;if(F.hasCurves()&&!F.hasSegmentParentage()){t=new fa;const s=F.getEnvelope2D(this.m_progressTracker);e=da(n.total());aa(F,_a(n.total(),s),n.total(),12e3,t,null,this.m_progressTracker)}Vn(F,F.getFirstGeometry(),n.total(),this.m_progressTracker),null!==t&&t.stitchCurves(F,_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n,e,!0)}if(u)A=this.planarSimplify3DImpl_(F,n,r,c,!0);else if(2===t)A=this.planarSimplifyPolygons(F,n,e,s,-1,!1);else{const e=Ha();e.ogcRule=this.m_bOGCOutput,e.allCrossRoadsImpassable=!0,e.unsplitBehavior=c,A=this.planarSimplifyPolylines(F,n,s,e,-1)}if(!H){const e=[0];C=A.getImpl().getIsSimple(n.total(),e)}}else (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(H),(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(p>=0),A=2===t?new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.a({vd:x[p].getDescription()}):new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.P({vd:x[p].getDescription()});if(H){let e=0;for(let t=0,s=N.length;t<s;t++){const s=T[t];if(!(s<0)&&N[t]<0){const n=x[s].getGeometryType(),r=(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.h)(n)?x[s]:null;if(r){const s=-(N[t]+1);e+=r.getPathSize(s)}else e+=4}}A.reserve(A.getPointCount()+e);for(let t=0,s=N.length;t<s;t++){const e=T[t];if(!(e<0)&&N[t]<0){const s=x[e].getGeometryType(),i=(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.h)(s)?x[e]:null;if(i){const e=-(N[t]+1);A.addPath(i,e,!0)}else s===_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumEnvelope?A.addEnvelope(x[e],!1):((0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)((0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.f)(s)),A.addSegment(x[e],!0))}}}let U=0;if(2===t?-1!==C&&(C=3,U=s?0:y.total()):((0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(1===t),s||-1===C||(U=y.total())),u||A.getImpl().setIsSimple(C,U),!s&&H)if(2===t){if(!u)return(new Eh).execute(A,m,!1,this.m_progressTracker);(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(0,"3d not yet implemented")}else 1===t&&1!==c&&(A=u?Ba():Ua(this.m_bOGCOutput,A,c,this.m_progressTracker),A.getImpl().setIsSimple(C,U));return A}dissolveTopoGraphCommonEdges_(){const e=this.m_topoGraph.createUserIndexForHalfEdges(),t=[];for(let s=this.m_topoGraph.getFirstCluster();s!==_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n;s=this.m_topoGraph.getNextCluster(s)){const n=this.m_topoGraph.getClusterHalfEdge(s);let r=n;if(n!==_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n)do{this.progress_();if(1!==this.m_topoGraph.getHalfEdgeUserIndex(r,e)){const s=this.m_topoGraph.getHalfEdgeTwin(r);this.m_topoGraph.setHalfEdgeUserIndex(s,e,1),this.m_topoGraph.setHalfEdgeUserIndex(r,e,1);const n=this.m_topoGraph.getHalfEdgeFaceParentage(r);if(this.isGoodParentage(n)){const e=this.m_topoGraph.getHalfEdgeFaceParentage(s);this.isGoodParentage(e)&&t.push(r)}}r=this.m_topoGraph.getHalfEdgeNext(this.m_topoGraph.getHalfEdgeTwin(r))}while(r!==n)}this.m_topoGraph.deleteUserIndexForHalfEdges(e),this.m_topoGraph.deleteEdgesBreakFaces_(t)}chooseVertexByOrder(e,t,s,n){let r=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.j)(),i=_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n;for(let a=this.m_topoGraph.getClusterVertexIterator(e);a!==_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n;a=this.m_topoGraph.incrementVertexIterator(a)){const e=this.m_topoGraph.getVertexFromVertexIterator(a),n=t.getUserIndex(e,s);n>=0&&n<r&&(r=n,i=e)}(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(i!==_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n);let o=t.getUserIndex(i,n);return o>0&&(t.setUserIndex(i,n,--o),0===o&&t.setUserIndex(i,s,-1)),i}chooseVertexFromCluster_(e,t){return this.m_topoGraph.getVertexDominantFromCluster(e,t)}chooseVertexFromVertexCluster_(e,t){return this.m_topoGraph.getVertexDominant(e,t)}collectPolygonPathsPreservingFrom_(e,t,s,r,i){const o=this.m_topoGraph.getShape();if(o.getGeometryType(e)!==_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumPolygon)return;const a=o.hasSegmentParentage(),h=new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.S;for(let n=o.getFirstPath(e);n!==_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n;n=o.getNextPath(n)){const e=o.getFirstVertex(n);this.m_topoGraph.getClusterFromVertex(e);const m=this.m_topoGraph.getHalfEdgeFromVertex(e);if(m===_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n)continue;const l=this.m_topoGraph.getHalfEdgeUserIndex(m,s);if(1===l||2===l)continue;const g=this.m_topoGraph.getHalfEdgeFaceParentage(m);if(!this.isGoodParentage(g)){this.m_topoGraph.setHalfEdgeUserIndex(m,s,2);continue}this.m_topoGraph.setHalfEdgeUserIndex(m,s,1);const u=o.insertPath(t,_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n);o.setClosedPath(u,!0);let c=m,_=e,d=this.m_topoGraph.getClusterFromVertex(_),p=1;do{this.progress_();const e=this.chooseVertexFromVertexCluster_(_,i),t=o.addVertex(u,e);if(this.m_topoGraph.isHalfEdgeCurve(c)&&(this.m_topoGraph.querySegmentXY(c,h),o.setSegmentToIndex(o.getVertexIndex(t),h.get().clone())),a){const e=this.m_topoGraph.getSegmentParentage(c);o.setSegmentParentageAndBreak(t,e,this.m_topoGraph.isBreakNode(d))}let n,m;-1!==r&&this.m_topoGraph.setClusterUserIndex(d,r,1),this.m_topoGraph.setHalfEdgeUserIndex(c,s,1),c=this.m_topoGraph.getHalfEdgeNext(c);do{n=1===p?o.getNextVertex(_):o.getPrevVertex(_),m=n!==_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n?this.m_topoGraph.getClusterFromVertex(n):_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n}while(m===d);const l=this.m_topoGraph.getHalfEdgeOrigin(c);if(l!==m){do{n=1===p?o.getPrevVertex(_):o.getNextVertex(_),m=n!==_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n?this.m_topoGraph.getClusterFromVertex(n):_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n}while(m===d);if(l!==m){m=l;const e=this.m_topoGraph.getClusterVertexIterator(m);n=this.m_topoGraph.getVertexFromVertexIterator(e)}else p=-p}d=m,_=n}while(c!==m)}}topoOperationPolygonPolygonHelper_(e,t,s,n,r,i){this.progress_(!0),e!==_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n&&this.collectPolygonPathsPreservingFrom_(e,s,r,i,n),t!==_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n&&this.collectPolygonPathsPreservingFrom_(t,s,r,i,n);const o=new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.S,a=this.m_topoGraph.getShape();a.dbgVerifyCurves();const h=a.hasSegmentParentage();for(let m=this.m_topoGraph.getFirstCluster();m!==_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n;m=this.m_topoGraph.getNextCluster(m)){const e=this.m_topoGraph.getClusterHalfEdge(m);if(e===_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n)continue;let t=e;do{this.progress_();const e=this.m_topoGraph.getHalfEdgeUserIndex(t,r);if(1!==e&&2!==e){const e=this.m_topoGraph.getHalfEdgeFaceParentage(t);if(this.isGoodParentage(e)){const e=a.insertPath(s,_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n);a.setClosedPath(e,!0);let m=t;do{const t=this.m_topoGraph.getHalfEdgeVertexIterator(m);let s=_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n;if(t!==_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n)s=this.m_topoGraph.getVertexFromVertexIterator(t);else{const e=this.m_topoGraph.getHalfEdgeVertexIterator(this.m_topoGraph.getHalfEdgeTwin(m));s=this.m_topoGraph.getVertexFromVertexIterator(e),s=a.getNextVertex(s)}const l=this.chooseVertexFromVertexCluster_(s,n),g=a.addVertex(e,l);if(h){const e=this.m_topoGraph.getSegmentParentage(m),t=this.m_topoGraph.getHalfEdgeOrigin(m);a.setSegmentParentageAndBreak(g,e,this.m_topoGraph.isBreakNode(t))}if(this.m_topoGraph.isHalfEdgeCurve(m)&&(this.m_topoGraph.querySegmentXY(m,o),a.setSegmentToIndex(a.getVertexIndex(g),o.get().clone())),this.m_topoGraph.setHalfEdgeUserIndex(m,r,1),-1!==i){const e=this.m_topoGraph.getClusterFromVertex(l);this.m_topoGraph.setClusterUserIndex(e,i,1)}m=this.m_topoGraph.getHalfEdgeNext(m)}while(m!==t)}else this.m_topoGraph.setHalfEdgeUserIndex(t,r,2)}t=this.m_topoGraph.getHalfEdgeNext(this.m_topoGraph.getHalfEdgeTwin(t))}while(t!==e)}}topoOperationPolygonPolygon_(e,t,s,r=!1){this.dissolveTopoGraphCommonEdges_();const i=this.m_topoGraph.getShape(),o=i.createGeometry(_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumPolygon),a=this.m_topoGraph.createUserIndexForHalfEdges();return this.topoOperationPolygonPolygonHelper_(e,t,o,s,a,-1),this.m_topoGraph.deleteUserIndexForHalfEdges(a),r||er(i,o,3,this.m_bOGCOutput,_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n,this.m_progressTracker),o}topoOperationPolyline_(e,t){const s=Ha();return s.allCrossRoadsImpassable=!1,s.ogcRule=t,s.unsplitBehavior=0,this.topoOperationPolylineSimplifyOrPolylineTopoHelper_(_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n,e,!1,s).first}topoOperationMultiPoint_(){const e=this.m_topoGraph.getShape(),t=e.createGeometry(_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumMultiPoint),s=e.insertPath(t,_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n);for(let n=this.m_topoGraph.getFirstCluster();n!==_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n;n=this.m_topoGraph.getNextCluster(n)){const t=this.m_topoGraph.getClusterParentage(n);if(this.isGoodParentage(t)){let t=_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n;for(let s=this.m_topoGraph.getClusterVertexIterator(n);s!==_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n;s=this.m_topoGraph.incrementVertexIterator(s)){const n=this.m_topoGraph.getVertexFromVertexIterator(s);t===_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n&&(t=n);const r=e.getGeometryFromPath(e.getPathFromVertex(n)),i=this.m_topoGraph.getGeometryID(r);if(this.isGoodParentage(i)){t=n;break}}e.addVertex(s,t)}}return t}intersection(e,t){const s=this.m_topoGraph.getShape().getGeometryType(e),n=this.m_topoGraph.getShape().getGeometryType(t),r=(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.z)(s),o=(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.z)(n),h=this.m_topoGraph.getGeometryID(e),l=this.m_topoGraph.getGeometryID(t);(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(h>=0),(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(l>=0),this.m_maskLookup.length=0,this.m_maskLookup.length=1+(h|l),this.m_maskLookup[h|l]=!0;let g=_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n;return this.m_topoGraph.getShape().getVertexDescription().getAttributeCount()>1&&(g=e),2===r&&2===o?this.topoOperationPolygonPolygon_(e,t,g):1===r&&o>0||1===o&&r>0?this.topoOperationPolyline_(g,this.m_bOGCOutput):0===r||0===o?this.topoOperationMultiPoint_():void (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.d)("")}topoOperationPolygonPolygonEx(e,t,s){const r=this.m_topoGraph.getShape(),i=r.createGeometry(_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumPolygon),o=r.createGeometry(_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumPolyline),a=r.createGeometry(_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumMultiPoint);this.dissolveTopoGraphCommonEdges_();let h=_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n;const m=this.m_topoGraph.createUserIndexForHalfEdges(),l=this.m_topoGraph.createUserIndexForClusters();r.dbgVerifyCurves(),this.topoOperationPolygonPolygonHelper_(e,t,i,s,m,l),r.dbgVerifyCurves();const g=r.hasSegmentParentage(),u=new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.S;for(let n=this.m_topoGraph.getFirstCluster();n!==_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n;n=this.m_topoGraph.getNextCluster(n)){const e=this.m_topoGraph.getClusterHalfEdge(n);if(e===_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n)continue;let t=e;do{let e=this.m_topoGraph.getHalfEdgeUserIndex(t,m),i=this.m_topoGraph.getHalfEdgeUserIndex(this.m_topoGraph.getHalfEdgeTwin(t),m),a=e|i;if(2===a){let h=this.m_topoGraph.getHalfEdgeParentage(t);if(this.isGoodParentage(h)){const c=r.insertPath(o,_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n);let _=t;const d=this.chooseVertexFromCluster_(n,s);let p=r.addVertex(c,d);if(g){const e=this.m_topoGraph.getSegmentParentage(t),s=this.m_topoGraph.getHalfEdgeOrigin(t);r.setSegmentParentageAndBreak(p,e,this.m_topoGraph.isBreakNode(s))}this.m_topoGraph.isHalfEdgeCurve(t)&&(this.m_topoGraph.querySegmentXY(t,u),r.setSegmentToIndex(r.getVertexIndex(p),u.get().clone())),this.m_topoGraph.setClusterUserIndex(n,l,1);do{this.progress_();const n=this.m_topoGraph.getHalfEdgeTo(_),o=this.chooseVertexFromCluster_(n,s);if(p=r.addVertex(c,o),g){const e=this.m_topoGraph.getSegmentParentage(t),s=this.m_topoGraph.getHalfEdgeOrigin(t);r.setSegmentParentageAndBreak(p,e,this.m_topoGraph.isBreakNode(s))}if(this.m_topoGraph.setHalfEdgeUserIndex(_,m,1),this.m_topoGraph.setHalfEdgeUserIndex(this.m_topoGraph.getHalfEdgeTwin(_),m,1),this.m_topoGraph.setClusterUserIndex(n,l,1),_=this.m_topoGraph.getHalfEdgeNext(_),e=this.m_topoGraph.getHalfEdgeUserIndex(_,m),i=this.m_topoGraph.getHalfEdgeUserIndex(this.m_topoGraph.getHalfEdgeTwin(_),m),a=e|i,2!==a)break;if(h=this.m_topoGraph.getHalfEdgeParentage(_),!this.isGoodParentage(h)){this.m_topoGraph.setHalfEdgeUserIndex(_,m,1),this.m_topoGraph.setHalfEdgeUserIndex(this.m_topoGraph.getHalfEdgeTwin(_),m,1);break}this.m_topoGraph.isHalfEdgeCurve(t)&&_!==t&&(this.m_topoGraph.querySegmentXY(t,u),r.setSegmentToIndex(r.getVertexIndex(p),u.get().clone()))}while(_!==t)}else this.m_topoGraph.setHalfEdgeUserIndex(t,m,1),this.m_topoGraph.setHalfEdgeUserIndex(this.m_topoGraph.getHalfEdgeTwin(t),m,1)}t=this.m_topoGraph.getHalfEdgeNext(this.m_topoGraph.getHalfEdgeTwin(t))}while(t!==e)}for(let n=this.m_topoGraph.getFirstCluster();n!==_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n;n=this.m_topoGraph.getNextCluster(n)){this.progress_();if(1===this.m_topoGraph.getClusterUserIndex(n,l))continue;const e=this.m_topoGraph.getClusterParentage(n);if(this.isGoodParentage(e)){h===_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n&&(h=r.insertPath(a,_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n));const e=this.m_topoGraph.getClusterVertexIterator(n);let t=_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n;if(e!==_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n){t=this.m_topoGraph.getVertexFromVertexIterator(e);const n=this.chooseVertexFromVertexCluster_(t,s);r.addVertex(h,n)}}}this.m_topoGraph.deleteUserIndexForClusters(l),this.m_topoGraph.deleteUserIndexForHalfEdges(m),r.dbgVerifyCurves(),er(r,i,3,this.m_bOGCOutput,_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n,this.m_progressTracker);const c=[_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n,_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n,_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n];return c[0]=a,c[1]=o,c[2]=i,c}topoOperationPolylinePolylineOrPolygonEx(e,t){const s=Ha();return s.allCrossRoadsImpassable=!1,s.ogcRule=t,s.unsplitBehavior=0,this.topoOperationPolylineSimplifyOrPolylineTopoHelper_(_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n,e,!0,s)}topoOperationMultiPoint(){const e=this.m_topoGraph.getShape(),t=e.createGeometry(_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumMultiPoint),s=e.insertPath(t,_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n);for(let n=this.m_topoGraph.getFirstCluster();n!==_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n;n=this.m_topoGraph.getNextCluster(n)){const t=this.m_topoGraph.getClusterParentage(n);if(this.isGoodParentage(t)){let t=_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n;for(let s=this.m_topoGraph.getClusterVertexIterator(n);s!==_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n;s=this.m_topoGraph.incrementVertexIterator(s)){const n=this.m_topoGraph.getVertexFromVertexIterator(s);t===_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n&&(t=n);const r=e.getGeometryFromPath(e.getPathFromVertex(n)),i=this.m_topoGraph.getGeometryID(r);if(this.isGoodParentage(i)){t=n;break}}e.addVertex(s,t)}}return t}intersectionEx(e,t){const s=this.m_topoGraph.getShape().getGeometryType(e),n=this.m_topoGraph.getShape().getGeometryType(t),r=Va(s),o=Va(n),h=this.m_topoGraph.getGeometryID(e),m=this.m_topoGraph.getGeometryID(t);(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(h>=0),(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(m>=0),this.m_maskLookup.length=0,this.m_maskLookup.length=1+(h|m),this.m_maskLookup[h|m]=!0;let l=_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n;if(this.m_topoGraph.getShape().getVertexDescription().getAttributeCount()>1&&(l=e),2===r&&2===o)return this.topoOperationPolygonPolygonEx(e,t,l);if(1===r&&o>0||1===o&&r>0){const{first:e,second:t}=this.topoOperationPolylinePolylineOrPolygonEx(l,this.m_bOGCOutput);return[t,e]}if(0===r||0===o){const e=[];return e.push(this.topoOperationMultiPoint()),e}(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.d)("")}getCombinedHalfEdgeParentage(e){return this.m_topoGraph.getHalfEdgeParentage(e)|this.m_topoGraph.getHalfEdgeFaceParentage(e)|this.m_topoGraph.getHalfEdgeFaceParentage(this.m_topoGraph.getHalfEdgeTwin(e))}prevailingDirection(e,t){const s=this.getCombinedHalfEdgeParentage(t),n=this.m_topoGraph.getHalfEdgeOrigin(t),r=this.m_topoGraph.getHalfEdgeTo(t);let i=0,o=0;for(let a=this.m_topoGraph.getClusterVertexIterator(n);a!==_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n;a=this.m_topoGraph.incrementVertexIterator(a)){const n=this.m_topoGraph.getVertexFromVertexIterator(a),h=e.getPathFromVertex(n),m=e.getGeometryFromPath(h),l=this.m_topoGraph.getGeometryID(m),g=e.getFirstVertex(h),u=0!==(l&s);u&&g===n&&(this.m_fromEdgeForPolylines=t);const c=e.getNextVertex(n);if(c!==_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n&&this.m_topoGraph.getClusterFromVertex(c)===r){if(i++,u){if(this.m_fromEdgeForPolylines===_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n&&g===c){const e=this.m_topoGraph.getHalfEdgeNext(t);this.isGoodParentage(this.getCombinedHalfEdgeParentage(e))&&(this.m_fromEdgeForPolylines=e)}o++}}else{const s=e.getPrevVertex(n);if(s!==_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n&&this.m_topoGraph.getClusterFromVertex(s)===r&&(i--,u)){if(this.m_fromEdgeForPolylines===_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n&&g===s){const e=this.m_topoGraph.getHalfEdgeNext(t);this.isGoodParentage(this.getCombinedHalfEdgeParentage(e))&&(this.m_fromEdgeForPolylines=e)}o--}}}this.m_topoGraph.queryXY(n,this.m_dummyPt1),this.m_topoGraph.queryXY(r,this.m_dummyPt2);return(0!==o?o:i)*_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P.distance(this.m_dummyPt1,this.m_dummyPt2)}tryMoveThroughCrossroadBackwards(e,t){const s=this.m_topoGraph.getHalfEdgePrev(e),n=this.m_topoGraph.getHalfEdgeTwin(s);if(!t){if(this.m_topoGraph.isStrongPathNode(this.m_topoGraph.getHalfEdgeOrigin(e)))return _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n;const t=this.m_topoGraph.getHalfEdgeTwin(e);if(n===this.m_topoGraph.getHalfEdgeNext(t))return s}let r=n,i=_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n;for(;r!==e;){const e=this.getCombinedHalfEdgeParentage(r);if(this.isGoodParentage(e)){if(i!==_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n)return _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n;i=this.m_topoGraph.getHalfEdgeTwin(r)}r=this.m_topoGraph.getHalfEdgeTwin(this.m_topoGraph.getHalfEdgePrev(r))}return i}tryMoveThroughCrossroadForward(e,t){const s=this.m_topoGraph.getHalfEdgeNext(e),n=this.m_topoGraph.getHalfEdgeTwin(s);if(!t){const t=this.m_topoGraph.getHalfEdgeTwin(e);if(this.m_topoGraph.isStrongPathNode(this.m_topoGraph.getHalfEdgeOrigin(t)))return _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n;if(n===this.m_topoGraph.getHalfEdgePrev(t))return s}let r=n,i=_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n;for(;r!==e;){const e=this.getCombinedHalfEdgeParentage(r);if(this.isGoodParentage(e)){if(i!==_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n)return _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n;i=this.m_topoGraph.getHalfEdgeTwin(r)}r=this.m_topoGraph.getHalfEdgeTwin(this.m_topoGraph.getHalfEdgeNext(r))}return i}isOnALoop(e,t){let s=e;const n=2*this.m_topoGraph.getShape().getTotalPointCount()+10;for(let r=0;r<n;r++){if(1===this.m_topoGraph.getHalfEdgeUserIndex(s,t))return!1;const n=this.m_topoGraph.getHalfEdgeNext(s);if(n===this.m_topoGraph.getHalfEdgeTwin(s))return!1;if(s=n,s===e)return!0}(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.d)("is_on_a_loop_")}restorePolylineParts(e,t,s,n,r,i,o,h,m,l){(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(r===_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n&&i>=0&&o>=0||-1===i&&-1===o),(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(-1===h&&1!==l.unsplitBehavior||-1!==h&&1===l.unsplitBehavior);const g=l.ogcRule,u=l.allCrossRoadsImpassable,c=1===l.unsplitBehavior,_=0===l.unsplitBehavior,d=this.m_topoGraph.getShape(),p=d.hasSegmentParentage();let f=e,x=this.m_topoGraph.getHalfEdgeTwin(f);const y=new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.S;this.m_fromEdgeForPolylines=_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n;let P=this.prevailingDirection(d,f),E=f,S=_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n,C=!1,I=!1,b=!1;if(!c)for(;;){const t=this.m_topoGraph.getHalfEdgePrev(f);if(t===x){b=!0;break}const n=this.m_topoGraph.getHalfEdgeNext(x);if(this.m_topoGraph.isStrongPathNode(this.m_topoGraph.getHalfEdgeOrigin(n))){C=!0;break}if(this.m_topoGraph.getHalfEdgeTwin(t)!==n){if(u){C=!0;break}if(f=this.tryMoveThroughCrossroadBackwards(f,!0),f===_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n){C=!0;break}x=this.m_topoGraph.getHalfEdgeTwin(f)}else f=t,x=n;if(1===this.m_topoGraph.getHalfEdgeUserIndex(f,s)){b=!0;break}if(f===e){S=e,I=!0;break}const r=this.getCombinedHalfEdgeParentage(f);if(!this.isGoodParentage(r))break;E=f,P+=this.prevailingDirection(d,f)}if(S===_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n){for(f=e,x=this.m_topoGraph.getHalfEdgeTwin(f),S=f;;){const e=this.m_topoGraph.getHalfEdgeNext(f),t=this.m_topoGraph.isStrongPathNode(this.m_topoGraph.getHalfEdgeOrigin(e));if(t){C=!0;break}if(e===x){b=!0;break}if(-1!==h){const e=this.m_topoGraph.getHalfEdgeOrigin(x);if(1===this.m_topoGraph.getClusterUserIndex(e,h)){C=!0;break}}const n=this.m_topoGraph.getHalfEdgePrev(x);if(this.m_topoGraph.getHalfEdgeTwin(e)!==n){if(t||u){C=!0;break}if(f=this.tryMoveThroughCrossroadForward(f,!0),f===_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n){C=!0;break}x=this.m_topoGraph.getHalfEdgeTwin(f)}else f=e,x=n;if(1===this.m_topoGraph.getHalfEdgeUserIndex(f,s)){b=!0;break}const r=this.getCombinedHalfEdgeParentage(f);if(!this.isGoodParentage(r))break;S=f,P+=this.prevailingDirection(d,f)}const t=this.m_topoGraph.getHalfEdgeOrigin(E);I=this.m_topoGraph.getHalfEdgeTo(S)===t}else if(this.m_fromEdgeForPolylines!==_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n){E=e,S=this.tryMoveThroughCrossroadBackwards(E,!1),(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(S!==_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n);const t=this.m_topoGraph.getHalfEdgeTwin(E);this.m_topoGraph.getHalfEdgeNext(t)}let w=I;I||b||m&&(w=this.isOnALoop(e,s),w||(w=this.isOnALoop(x,s)));const v=P>=0;let N=!1;w&&C&&(I?(N=g,v&&(N||c||_)&&E!==e&&((0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(!c),E=e,N=!1)):(c||v&&_)&&(E=e));let T=0;for(f=E;x=this.m_topoGraph.getHalfEdgeTwin(f),this.m_topoGraph.setHalfEdgeUserIndex(f,s,1),this.m_topoGraph.setHalfEdgeUserIndex(x,s,1),T++,f!==S;)f=u?this.m_topoGraph.getHalfEdgeNext(f):this.tryMoveThroughCrossroadForward(f,!1);v||(S=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.c)(E,E=S),S=this.m_topoGraph.getHalfEdgeTwin(S),E=this.m_topoGraph.getHalfEdgeTwin(E));let G=d.insertPath(t,_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n);f=E;const D=this.m_topoGraph.getHalfEdgeOrigin(E);let V;V=-1!==i?this.chooseVertexByOrder(D,d,i,o):this.chooseVertexFromCluster_(D,r),this.m_topoGraph.isStrongPathNode(D)&&d.setStrongPathStart(G,!0);let H=d.addVertex(G,V),k=H;-1!==n&&this.m_topoGraph.setClusterUserIndex(D,n,1);let A=0;const U=N?Math.trunc((T+1)/2):-1;let q=_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n,B=!0,O=_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n;for(;;){if(p){const e=this.m_topoGraph.getSegmentParentage(f),t=this.m_topoGraph.getHalfEdgeOrigin(f);d.setSegmentParentageAndBreak(k,e,B||this.m_topoGraph.isBreakNode(t))}B=!1,this.m_topoGraph.isHalfEdgeCurve(f)&&(this.m_topoGraph.querySegmentXY(f,y),d.setSegmentToIndex(d.getVertexIndex(k),y.get().clone())),q!==_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n&&-1!==o&&d.addToUserIndex(q,o,-1);const e=u?this.m_topoGraph.getHalfEdgeNext(f):this.tryMoveThroughCrossroadForward(f,!1),s=this.m_topoGraph.getHalfEdgeTo(f);let a;if(a=-1!==i?this.chooseVertexByOrder(s,d,i,o):this.chooseVertexFromCluster_(s,r),H=d.addVertex(G,a),O=s,-1!==n&&this.m_topoGraph.setClusterUserIndex(s,n,1),p&&this.m_topoGraph.isBreakNode(s)&&d.setSegmentParentageBreakVertex(H,!0),q=a,A++,N&&A===U&&(G=d.insertPath(t,_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n),H=d.addVertex(G,a),B=!0,-1!==o&&d.addToUserIndex(a,o,-1),q=_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n),f===S)break;f=e,k=H}O!==_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n&&this.m_topoGraph.isStrongPathNode(O)&&d.setStrongPathEnd(G,!0)}topoOperationPolylineSimplify_(e,t){return this.topoOperationPolylineSimplifyOrPolylineTopoHelper_(e,_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n,!1,t).first}topoOperationPolylineSimplifyOrPolylineTopoHelper_(e,t,s,r){(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(t===_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n||e===_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n);const i=this.m_topoGraph.getShape(),o=t=>t=e===_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n?t===_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n?i.getFirstGeometry():i.getNextGeometry(t):t===_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n?e:_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n,h=i.createGeometry(_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumPolyline);let m=-1;s&&(m=this.m_topoGraph.createUserIndexForClusters());const l=this.m_topoGraph.createUserIndexForHalfEdges(),g=t===_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n?i.createUserIndex():-1,u=t===_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n?i.createUserIndex():-1;let c=-1;if(1===r.unsplitBehavior){c=this.m_topoGraph.createUserIndexForClusters();for(let e=o(_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n);e!==_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n;e=o(e))for(let t=i.getFirstPath(e);t!==_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n;t=i.getNextPath(t)){{const e=i.getFirstVertex(t),s=this.m_topoGraph.getClusterFromVertex(e);this.m_topoGraph.setClusterUserIndex(s,c,1)}if(!i.isClosedPath(t)){const e=i.getLastVertex(t),s=this.m_topoGraph.getClusterFromVertex(e);this.m_topoGraph.setClusterUserIndex(s,c,1)}}}if(t===_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n){let e=0;for(let t=o(_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n);t!==_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n;t=o(t))for(let s=i.getFirstPath(t);s!==_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n;s=i.getNextPath(s)){if(i.isClosedPath(s)){let t=i.getFirstVertex(s);for(let n=0,r=i.getPathSize(s);n<r;n++,t=i.getNextVertex(t))i.setUserIndex(t,g,e++),i.setUserIndex(t,u,2)}else{const t=i.getFirstVertex(s);i.setUserIndex(t,g,e++),i.setUserIndex(t,u,1);let n=i.getNextVertex(t);for(let r=1,o=i.getPathSize(s)-1;r<o;++r)i.setUserIndex(n,g,e++),i.setUserIndex(n,u,2),n=i.getNextVertex(n);i.setUserIndex(n,g,e++),i.setUserIndex(n,u,1)}}}for(let n=o(_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n);n!==_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n;n=o(n))for(let e=i.getFirstPath(n);e!==_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n;e=i.getNextPath(e)){let s=i.getFirstVertex(e);for(let n=0,o=i.getPathSize(e);n<o;n++,s=i.getNextVertex(s)){const e=this.m_topoGraph.getHalfEdgeFromVertex(s);if(e===_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n)continue;if(1===this.m_topoGraph.getHalfEdgeUserIndex(e,l))continue;const i=this.getCombinedHalfEdgeParentage(e);if(this.isGoodParentage(i)){const s=0===n;this.restorePolylineParts(e,h,l,m,t,g,u,c,s,r)}}}let _=_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n;if(s){_=i.createGeometry(_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumMultiPoint);let e=_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n;for(let s=this.m_topoGraph.getFirstCluster();s!==_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n;s=this.m_topoGraph.getNextCluster(s)){this.progress_();if(1!==this.m_topoGraph.getClusterUserIndex(s,m)){const n=this.m_topoGraph.getClusterParentage(s);if(this.isGoodParentage(n)){e===_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n&&(e=i.insertPath(_,_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n));const n=this.m_topoGraph.getClusterVertexIterator(s);if(n!==_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n){let r;this.m_topoGraph.getVertexFromVertexIterator(n),r=-1!==g?this.chooseVertexByOrder(s,i,g,u):this.chooseVertexFromCluster_(s,t),i.addVertex(e,r)}}}}}return-1!==u&&i.removeUserIndex(u),-1!==g&&i.removeUserIndex(g),-1!==m&&i.removeUserIndex(m),this.m_topoGraph.deleteUserIndexForHalfEdges(l),(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.l)(h,_)}difference(e,t){const s=this.m_topoGraph.getShape().getGeometryType(e),n=this.m_topoGraph.getShape().getGeometryType(t),r=(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.z)(s),o=(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.z)(n);if(r>o)return e;const a=this.m_topoGraph.getGeometryID(e),h=this.m_topoGraph.getGeometryID(t);if(this.m_maskLookup.length=0,this.m_maskLookup.length=1+(a|h),this.m_maskLookup[a]=!0,2===r&&2===o){let s=_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n;return this.m_topoGraph.getShape().getVertexDescription().getAttributeCount()>1&&(s=e),this.topoOperationPolygonPolygon_(e,t,s)}if(1===r&&2===o){const t=Ha();return t.allCrossRoadsImpassable=!1,t.ogcRule=this.m_bOGCOutput,t.unsplitBehavior=0,this.topoOperationPolylineSimplifyOrPolylineTopoHelper_(e,_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n,!1,t).first}if(1===r&&1===o){const t=Ha();return t.allCrossRoadsImpassable=!0,t.ogcRule=this.m_bOGCOutput,t.unsplitBehavior=0,this.topoOperationPolylineSimplifyOrPolylineTopoHelper_(e,_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n,!1,t).first}if(0===r)return this.topoOperationMultiPoint_();(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.d)("")}symmetricDifference(e,t){const s=this.m_topoGraph.getShape().getGeometryType(e),n=this.m_topoGraph.getShape().getGeometryType(t),r=Va(s),o=Va(n),h=this.m_topoGraph.getGeometryID(e),m=this.m_topoGraph.getGeometryID(t);return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(h>=0),(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(m>=0),this.m_maskLookup.length=0,this.m_maskLookup.length=1+(h|m),this.m_maskLookup[h]=!0,this.m_maskLookup[h]=!0,this.m_maskLookup[m]=!0,2===r&&2===o?this.topoOperationPolygonPolygon_(e,t,_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n):1===r&&1===o?this.topoOperationPolyline_(_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n,this.m_bOGCOutput):0===r&&0===o?this.topoOperationMultiPoint():void (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.d)("")}planarSimplifyNoCrackingAndCluster(e,t,s,r){this.m_bOGCOutput=e,this.m_topoGraph=new tn;const o=t.getFillRule(s),h=t.getGeometryType(s);if(1!==o||h===_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumMultiPoint?this.m_topoGraph.setAndSimplifyEditShapeAlternate(t,s,this.m_progressTracker):this.m_topoGraph.setAndSimplifyEditShapeWinding(t,s,this.m_progressTracker),this.m_topoGraph.dirtyCheckFailed())return!1;this.m_topoGraph.setCheckDirtyPlanesweepTolerance(Number.NaN);const m=this.m_topoGraph.getGeometryID(s);if((0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(m>=0),this.m_maskLookup.length=0,this.m_maskLookup.length=m+1,this.m_maskLookup[m]=!0,t.getGeometryType(s)===_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumPolygon||1===o&&t.getGeometryType(s)!==_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumMultiPoint){t.setFillRule(s,0);const n=this.topoOperationPolygonPolygon_(s,_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n,_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n);if(t.swapGeometry(n,s),t.removeGeometry(n),1===o&&this.m_bOGCOutput)return this.planarSimplifyNoCrackingAndCluster(e,t,s,r)}else if(t.getGeometryType(s)===_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumPolyline){const e=Ha();e.ogcRule=this.m_bOGCOutput,e.allCrossRoadsImpassable=!0,e.unsplitBehavior=r;const n=this.topoOperationPolylineSimplify_(t.getFirstGeometry(),e);t.swapGeometry(n,s),t.removeGeometry(n)}else if(t.getGeometryType(s)===_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumMultiPoint){const e=this.topoOperationMultiPoint_();t.swapGeometry(e,s),t.removeGeometry(e)}else (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.d)("");return!0}unsplitPolylineExact(e){return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(0),new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.P}planarSimplifyPolylines(e,t,s,r,i){for(let _=e.getFirstGeometry();_!==_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n;_=e.getNextGeometry(_)){const t=e.getGeometryType(_);(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(t===_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumPolyline)}let o=0,h=0,m=null;if(e.hasCurves()&&!e.hasSegmentParentage()){m=new fa;const s=e.getEnvelope2D(this.m_progressTracker);h=da(t.total());const n=_a(t.total(),s);o=pa(n,h),aa(e,n,t.total(),12e3,m,null,this.m_progressTracker)}{const s=Ia(t.add(o));e.filterClosePoints(s,!1,!1,!1,_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n)}if(this.m_topoGraph=new tn,4!==i&&5!==i)if(null===m&&s){const n=new Dn(this.m_progressTracker,!1);n.sweepVertical(e,t.total()),n.hadComplications()?(ya(e,t,this.m_progressTracker,!0,!1),s=!1):this.m_topoGraph.setCheckDirtyPlanesweepTolerance(t.total())}else ya(e,t.add(o),this.m_progressTracker,!0,!1),s=!1;else s=!1;e.removeSelection(),e.collapseAllGeometriesToFirst();const l=e.getFirstGeometry();if(this.m_topoGraph.setAndSimplifyEditShapeAlternate(e,l,this.m_progressTracker),this.m_topoGraph.dirtyCheckFailed())return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(s&&null===m),this.m_topoGraph.removeShape(),this.m_topoGraph=null,this.planarSimplifyPolylines(e,t,!1,r,-1);this.m_topoGraph.setCheckDirtyPlanesweepTolerance(Number.NaN);const g=this.m_topoGraph.getGeometryID(l);(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(g>=0),this.m_maskLookup.length=0,this.m_maskLookup.length=g+1,this.m_maskLookup[g]=!0;const u=this.topoOperationPolylineSimplify_(e.getFirstGeometry(),r);null!==m&&m.stitchCurves(e,u,h,!0);const c=e.getGeometry(u);return s||c.getImpl().setIsSimple(4,t.total()),c}planarSimplifyMultiPoints(e,t,s,r){for(let l=e.getFirstGeometry();l!==_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n;l=e.getNextGeometry(l)){const t=e.getGeometryType(l);(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(t===_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumMultiPoint)}this.m_topoGraph=new tn,4!==r&&5!==r?(ya(e,t,this.m_progressTracker,!0,!1),s=!1):s=!1,e.removeSelection(),e.collapseAllGeometriesToFirst();const i=e.getFirstGeometry();if(this.m_topoGraph.setAndSimplifyEditShapeAlternate(e,i,this.m_progressTracker),this.m_topoGraph.dirtyCheckFailed())return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(s),this.m_topoGraph.removeShape(),this.m_topoGraph=null,this.planarSimplifyMultiPoints(e,t,!1,-1);this.m_topoGraph.setCheckDirtyPlanesweepTolerance(Number.NaN);const o=this.m_topoGraph.getGeometryID(i);(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(o>=0),this.m_maskLookup.length=0,this.m_maskLookup.length=o+1,this.m_maskLookup[o]=!0;const h=this.topoOperationMultiPoint(),m=e.getGeometry(h);return s||m.getImpl().setIsSimple(4,t.total()),m}planarSimplifyPolygons(e,t,s,r,i,o){for(let f=e.getFirstGeometry();f!==_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n;f=e.getNextGeometry(f)){const t=e.getGeometryType(f);(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(t===_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumPolygon||t===_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumPolyline&&s)}let h=0,m=0,l=null;if(e.hasCurves()&&!e.hasSegmentParentage()){l=new fa;const s=e.getEnvelope2D(this.m_progressTracker);m=da(t.total());const n=_a(t.total(),s);h=pa(n,m),aa(e,n,t.total(),12e3,l,null,this.m_progressTracker)}if(o){ya(e,t.add(h),this.m_progressTracker,!0,!1);for(let t=e.getFirstGeometry();t!==_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n;t=e.getNextGeometry(t))e.getGeometryType(t)===_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumPolygon&&er(e,t,-1,!1,_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n,this.m_progressTracker)}if(this.m_topoGraph=new tn,o||4===i||5===i)r=!1;else if(null===l&&r){const s=new Dn(this.m_progressTracker,!1);s.sweepVertical(e,t.total()),s.hadComplications()?(ya(e,t,this.m_progressTracker,!0,!1),r=!1):this.m_topoGraph.setCheckDirtyPlanesweepTolerance(t.total())}else ya(e,t.add(h),this.m_progressTracker,!0,!1),r=!1;e.removeSelection(),e.collapseAllGeometriesToFirst();const g=e.getFirstGeometry();if(s?this.m_topoGraph.setAndSimplifyEditShapeWinding(e,g,this.m_progressTracker):this.m_topoGraph.setAndSimplifyEditShapeAlternate(e,g,this.m_progressTracker),this.m_topoGraph.dirtyCheckFailed())return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(r&&null===l),this.m_topoGraph.removeShape(),this.m_topoGraph=null,this.planarSimplifyPolygons(e,t,s,!1,-1,!1);this.m_topoGraph.setCheckDirtyPlanesweepTolerance(Number.NaN);const u=this.m_topoGraph.getGeometryID(g);(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(u>=0),this.m_maskLookup.length=0,this.m_maskLookup.length=u+1,this.m_maskLookup[u]=!0,e.setFillRule(g,0);const c=this.m_bOGCOutput&&s,_=c;let d=this.topoOperationPolygonPolygon_(g,_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n,_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n,_);if(c){this.m_topoGraph.removeShape(),this.m_topoGraph=null,e.removeGeometry(g),this.m_topoGraph=new tn,this.m_topoGraph.setAndSimplifyEditShapeAlternate(e,d,this.m_progressTracker);d=this.topoOperationPolygonPolygon_(d,_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n,_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n,!1)}null!==l&&l.stitchCurves(e,d,m,!0);const p=e.getGeometry(d);return p.setFillRule(0),r?p.getImpl().setIsSimple(3,0):(p.getImpl().setIsSimple(4,t.total()),p.getImpl().updateOGCFlagsProtected()),p}planarSimplify3DImpl_(e,t,s,n,r){return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(0),{}}planarSimplifyImpl_(e,t,s,r,o,a,h,m){if(e.isEmpty())return e.clone();const l=e.getGeometryType(),g=new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.E,u=g.addGeometry(e);if((0,_Envelope_js__WEBPACK_IMPORTED_MODULE_3__.X)(o)&&l===_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumPolygon&&(s=!1,g.setFillRule(u,0)),m&&(e.hasAttribute(1)&&g.replaceNaNs(1,0),g.removeNaNVertices()),l===_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumPolygon||l===_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumPolyline&&s)return this.planarSimplifyPolygons(g,t,s,r,o,!1);if(l===_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.P.type){const e=Ha();return e.allCrossRoadsImpassable=!0,e.ogcRule=this.m_bOGCOutput,e.unsplitBehavior=h,this.planarSimplifyPolylines(g,t,r,e,o)}if(l===_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumMultiPoint)return this.planarSimplifyMultiPoints(g,t,r,o);(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.d)("what else?")}}function Qa(e,t,s,n){if(e.isEmpty())return e.createInstance();if(t.isEmpty())return n?e.createInstance():new _Envelope_js__WEBPACK_IMPORTED_MODULE_3__.P({copy:e});const r=[new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P],o=[0],a=2===t.getDimension();return 1!==t.getDimension()&&2!==t.getDimension()&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.d)(""),r[0]=e.getXY(),a?Wo(t,r,1,s.total(),o):jo(t,r,1,s.total(),o),0===o[0]?e.createInstance():e}function Ja(e,t,s,n){const r=e.createInstance(),o=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P,100),a=new Array(100),h=e.getPointCount();let m=!0;const l=2===t.getDimension();1!==t.getDimension()&&2!==t.getDimension()&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.d)("");for(let i=0;i<h;){const n=e.queryCoordinates(o,o.length,i,-1)-i;l?Wo(t,o,n,s.total(),a):jo(t,o,n,s.total(),a);let h=0;for(let t=0;t<n;t++){0===a[t]&&(m&&(m=!1,r.addPoints(e,0,i)),h!==t&&r.addPoints(e,i+h,i+t),h=t+1)}m||h===n||r.addPoints(e,i+h,i+n),i+=n}return m?e:r}function $a(e,t,s,r){const i=e.getGeometryType();if(i===_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumEnvelope){const t=new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.a({vd:e.getDescription()});return e.isEmpty()||t.addEnvelope(e,!1),t}if(i===_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumPoint&&("|"===r||"^"===r)){const t=new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.M({vd:e.getDescription()});return e.isEmpty()||t.add(e),t}if(i===_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumLine){const t=new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.P({vd:e.getDescription()});return e.isEmpty()||t.addSegment(e,!0),t}if(i===_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumMultiPoint&&"-"===r&&t.getGeometryType()===_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumPoint){const t=new _Envelope_js__WEBPACK_IMPORTED_MODULE_3__.P({vd:e.getDescription()});return e.isEmpty()||e.getPointByVal(0,t),t}if(i===_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumMultiPoint&&"&"===r&&t.getGeometryType()===_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumPoint){const t=new _Envelope_js__WEBPACK_IMPORTED_MODULE_3__.P({vd:e.getDescription()});return e.isEmpty()||e.getPointByVal(0,t),t}return e}function eh(e){const s=e.getGeometryType();if(s===_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumEnvelope){const t=new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.a({vd:e.getDescription()});return e.isEmpty()||t.addEnvelope(e,!1),t}if(s===_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumPoint){const t=new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.M({vd:e.getDescription()});return e.isEmpty()||t.add(e),t}if(Da(s)){const t=new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.P({vd:e.getDescription()});return e.isEmpty()||t.addSegment(e,!0),t}return s!==_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumMultiPoint&&s!==_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumPolyline&&s!==_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumPolygon&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.a)("Unexpected geometry type"),e}function th(e,t,s,n){const r=s===_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n?e.getClusterHalfEdge(t):s;let i=r;(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(e.getHalfEdgeOrigin(r)===t);do{n(i),i=e.getHalfEdgeNext(e.getHalfEdgeTwin(i))}while(i!==r)}class sh{constructor(e,t,s,n,r,i){this.m_rParent=e,this.m_rTopoGraph=e.m_topoGraph,this.m_rShape=this.m_rTopoGraph.getShape(),this.m_IDCuttee=this.m_rTopoGraph.getGeometryID(n),this.m_IDCutter=this.m_rTopoGraph.getGeometryID(r),this.m_IDBoth=this.m_IDCuttee|this.m_IDCutter,this.m_bConsiderTouch=t,this.m_sideIndex=s,this.m_cuttee=n,this.m_cutter=r,this.m_rCutHandles=i,this.m_cutteeBreadcrumbsIndex=this.m_rShape.createUserIndexUninitialized(),this.m_clusterParentageIndex=this.m_rShape.createUserIndexUninitialized();for(let o=this.m_rShape.getFirstPath(this.m_cuttee);o!==_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n;o=this.m_rShape.getNextPath(o)){let e=0;const t=this.m_rShape.getPathSize(o);for(let s=this.m_rShape.getFirstVertex(o);e<t;e++,s=this.m_rShape.getNextVertex(s))this.m_rShape.setUserIndex(s,this.m_clusterParentageIndex,this.m_rTopoGraph.getClusterParentage(this.m_rTopoGraph.getClusterFromVertex(s)))}}Do(){this.cutPolylinePolyline_(),this.m_rShape.removeUserIndex(this.m_cutteeBreadcrumbsIndex),this.m_rShape.removeUserIndex(this.m_clusterParentageIndex)}setTbd(e){return 8|e}classifyStandardCut(e,t,s,n){const r=this.m_rShape.getPrevVertex(e),i=this.m_rShape.getNextVertex(e),o=r===_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n?_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n:this.m_rTopoGraph.getHalfEdgeConnector(t,this.m_rTopoGraph.getClusterFromVertex(r)),a=i===_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n?_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n:this.m_rTopoGraph.getHalfEdgeConnector(t,this.m_rTopoGraph.getClusterFromVertex(i)),h=this.m_rTopoGraph.getHalfEdgeConnector(t,this.m_rTopoGraph.getClusterFromVertex(s)),m=this.m_rTopoGraph.getHalfEdgeConnector(t,this.m_rTopoGraph.getClusterFromVertex(n));let l=1,g=32,u=32;if(th(this.m_rTopoGraph,t,m,(e=>{e===h&&(l=2),e===o&&(g=l),e===a&&(u=l)})),this.m_bConsiderTouch)32!==g&&this.m_rShape.setUserIndex(r,this.m_cutteeBreadcrumbsIndex,this.m_rShape.getUserIndex(r,this.m_cutteeBreadcrumbsIndex)|g),32!==u&&this.m_rShape.setUserIndex(e,this.m_cutteeBreadcrumbsIndex,this.m_rShape.getUserIndex(e,this.m_cutteeBreadcrumbsIndex)|u);else{if(32===g||32===u)return 1;if(g===u&&!(o===h||o===m||a===h||a===m))return 1;this.m_rShape.setUserIndex(r,this.m_cutteeBreadcrumbsIndex,this.m_rShape.getUserIndex(r,this.m_cutteeBreadcrumbsIndex)|g),this.m_rShape.setUserIndex(e,this.m_cutteeBreadcrumbsIndex,this.m_rShape.getUserIndex(e,this.m_cutteeBreadcrumbsIndex)|u)}return 0}classifyTouchCut(e,t,s,n){const r=this.m_rShape.getPrevVertex(e),i=this.m_rShape.getNextVertex(e),o=r===_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n?_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n:this.m_rTopoGraph.getHalfEdgeConnector(t,this.m_rTopoGraph.getClusterFromVertex(r)),a=i===_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n?_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n:this.m_rTopoGraph.getHalfEdgeConnector(t,this.m_rTopoGraph.getClusterFromVertex(i)),h=s===_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n?_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n:this.m_rTopoGraph.getHalfEdgeConnector(t,this.m_rTopoGraph.getClusterFromVertex(s)),m=n===_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n?_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n:this.m_rTopoGraph.getHalfEdgeConnector(t,this.m_rTopoGraph.getClusterFromVertex(n));if(!this.m_bConsiderTouch){let t;return(t=h===o||m===o)?this.m_rShape.setUserIndex(e,this.m_cutteeBreadcrumbsIndex,this.setTbd(this.m_rShape.getUserIndex(e,this.m_cutteeBreadcrumbsIndex))):(t=h===a||m===a)&&this.m_rShape.setUserIndex(r,this.m_cutteeBreadcrumbsIndex,this.setTbd(this.m_rShape.getUserIndex(r,this.m_cutteeBreadcrumbsIndex))),t?0:1}if(o===_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n)return this.m_rShape.setUserIndex(e,this.m_cutteeBreadcrumbsIndex,this.setTbd(this.m_rShape.getUserIndex(e,this.m_cutteeBreadcrumbsIndex))),0;if(a===_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n)return this.m_rShape.setUserIndex(r,this.m_cutteeBreadcrumbsIndex,this.setTbd(this.m_rShape.getUserIndex(r,this.m_cutteeBreadcrumbsIndex))),0;if(o===a)return this.m_rShape.setUserIndex(r,this.m_cutteeBreadcrumbsIndex,this.setTbd(this.m_rShape.getUserIndex(r,this.m_cutteeBreadcrumbsIndex))),this.m_rShape.setUserIndex(e,this.m_cutteeBreadcrumbsIndex,this.setTbd(this.m_rShape.getUserIndex(e,this.m_cutteeBreadcrumbsIndex))),0;if(m!==_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n){if(o===m)return this.m_rShape.setUserIndex(e,this.m_cutteeBreadcrumbsIndex,this.setTbd(this.m_rShape.getUserIndex(e,this.m_cutteeBreadcrumbsIndex))),0;if(a===m)return this.m_rShape.setUserIndex(r,this.m_cutteeBreadcrumbsIndex,this.setTbd(this.m_rShape.getUserIndex(r,this.m_cutteeBreadcrumbsIndex))),0;let s=1;th(this.m_rTopoGraph,t,m,(t=>{if(t===o){const e=this.m_rShape.getUserIndex(r,this.m_cutteeBreadcrumbsIndex)|s;this.m_rShape.setUserIndex(r,this.m_cutteeBreadcrumbsIndex,e),s=2}else if(t===a){const t=this.m_rShape.getUserIndex(e,this.m_cutteeBreadcrumbsIndex)|s;this.m_rShape.setUserIndex(e,this.m_cutteeBreadcrumbsIndex,t),s=2}}))}else{if(o===h)return this.m_rShape.setUserIndex(e,this.m_cutteeBreadcrumbsIndex,this.setTbd(this.m_rShape.getUserIndex(e,this.m_cutteeBreadcrumbsIndex))),0;if(a===h)return this.m_rShape.setUserIndex(r,this.m_cutteeBreadcrumbsIndex,this.setTbd(this.m_rShape.getUserIndex(r,this.m_cutteeBreadcrumbsIndex))),0;let s=2;th(this.m_rTopoGraph,t,h,(t=>{if(t===o){const e=this.m_rShape.getUserIndex(r,this.m_cutteeBreadcrumbsIndex)|s;this.m_rShape.setUserIndex(r,this.m_cutteeBreadcrumbsIndex,e),s=1}else if(t===a){const t=this.m_rShape.getUserIndex(e,this.m_cutteeBreadcrumbsIndex)|s;this.m_rShape.setUserIndex(e,this.m_cutteeBreadcrumbsIndex,t),s=1}}))}return 0}classifyCutVertex(e,t){let s=0,n=0;for(let r=this.m_rTopoGraph.getClusterVertexIterator(t);r!==_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n;r=this.m_rTopoGraph.incrementVertexIterator(r)){const i=this.m_rTopoGraph.getVertexFromVertexIterator(r);if(this.m_rShape.getGeometryFromVertex(i)===this.m_cutter){n++;const r=this.m_rShape.getPrevVertex(i),o=this.m_rShape.getNextVertex(i);s+=r===_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n||o===_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n?this.classifyTouchCut(e,t,r,o):this.classifyStandardCut(e,t,r,o)}}n&&s===n&&!this.m_bConsiderTouch&&this.m_rShape.setUserIndex(e,this.m_clusterParentageIndex,this.m_IDCuttee)}cutPolylinePolyline_(){this.m_rShape.getGeometryType(this.m_cuttee),this.m_rShape.getGeometryType(this.m_cutter),this.m_rParent.m_maskLookup.length=0,this.m_rParent.m_maskLookup.length=this.m_IDBoth+1,this.m_rParent.m_maskLookup[this.m_IDBoth]=!0;for(let n=this.m_rShape.getFirstPath(this.m_cuttee);n!==_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n;n=this.m_rShape.getNextPath(n)){const e=this.m_rShape.getPathSize(n);let t=this.m_rShape.getFirstVertex(n);for(let s=0;s<e;++s,t=this.m_rShape.getNextVertex(t))this.m_rShape.setUserIndex(t,this.m_cutteeBreadcrumbsIndex,0);t=this.m_rShape.getFirstVertex(n);for(let s=0;s<e;++s,t=this.m_rShape.getNextVertex(t)){const e=this.m_rTopoGraph.getClusterFromVertex(t);this.m_rTopoGraph.getClusterParentage(e)===this.m_IDBoth&&this.classifyCutVertex(t,e)}}const e=(e,t)=>{let s=this.m_rShape.getUserIndex(e,this.m_cutteeBreadcrumbsIndex);const n=this.m_rTopoGraph.getHalfEdgeConnector(this.m_rTopoGraph.getClusterFromVertex(e),this.m_rTopoGraph.getClusterFromVertex(t));return(this.m_rTopoGraph.getHalfEdgeParentage(n)&this.m_IDBoth)===this.m_IDBoth&&(s|=4),s};for(let n=this.m_rShape.getFirstPath(this.m_cuttee);n!==_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n;n=this.m_rShape.getNextPath(n)){let t=this.m_rShape.getFirstVertex(n);const s=this.m_rShape.isClosedPath(n),r=this.m_rShape.getPathSize(n)+(s?1:0);let i=1,o=32;for(let n=this.m_rShape.getNextVertex(t);i<r;++i,t=n,n=this.m_rShape.getNextVertex(n)){const s=e(t,n);this.m_rShape.getUserIndex(t,this.m_clusterParentageIndex)===this.m_IDBoth&&(o=s),32!==o&&this.m_rShape.setUserIndex(t,this.m_cutteeBreadcrumbsIndex,o|s)}t=this.m_rShape.getLastVertex(n);let a=32;i=1;for(let n=this.m_rShape.getPrevVertex(t);i<r;++i,t=n,n=this.m_rShape.getPrevVertex(n)){const s=e(n,t);this.m_rShape.getUserIndex(t,this.m_clusterParentageIndex)===this.m_IDBoth&&(a=s),32!==a&&this.m_rShape.setUserIndex(n,this.m_cutteeBreadcrumbsIndex,a|s)}}let t=_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n,s=_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n,r=32;const i=this.m_rShape.hasSegmentParentage(),o=new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.S;for(let a=this.m_rShape.getFirstPath(this.m_cuttee);a!==_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n;a=this.m_rShape.getNextPath(a)){const e=this.m_rShape.isClosedPath(a),h=this.m_rShape.getPathSize(a)+(e?1:0);let m=1,l=this.m_rShape.getFirstVertex(a),g=_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n,u=!0;for(let a=this.m_rShape.getNextVertex(l);m<h;++m,a=this.m_rShape.getNextVertex(a)){let e=this.m_rShape.getUserIndex(l,this.m_cutteeBreadcrumbsIndex);8===e?e=3:(e&=-9,4&e?e=4:3&~e||(e=3)),e!==r?(t!==_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n&&(g=this.m_rShape.addVertex(s,l),i&&this.m_rTopoGraph.isBreakNode(this.m_rTopoGraph.getClusterFromVertex(l))&&this.m_rShape.setSegmentParentageBreakVertex(g,!0),this.m_rCutHandles.push(t),this.m_rShape.setGeometryUserIndex(t,this.m_sideIndex,r)),t=this.m_rShape.createGeometry(_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumPolyline),s=this.m_rShape.insertPath(t,_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n),r=e,u=!0):this.m_rShape.getUserIndex(l,this.m_clusterParentageIndex)===this.m_IDBoth&&4!==e&&(g=this.m_rShape.addVertex(s,l),i&&this.m_rTopoGraph.isBreakNode(this.m_rTopoGraph.getClusterFromVertex(l))&&this.m_rShape.setSegmentParentageBreakVertex(g,!0),s=this.m_rShape.insertPath(t,_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n),u=!0),g=this.m_rShape.addVertex(s,l);const h=this.m_rTopoGraph.getClusterFromVertex(l);!u&&i&&this.m_rTopoGraph.isBreakNode(h)&&this.m_rShape.setSegmentParentageBreakVertex(g,!0);const m=this.m_rTopoGraph.getHalfEdgeFromVertex(l);if(i){const e=this.m_rTopoGraph.getSegmentParentage(m);this.m_rShape.setSegmentParentageAndBreak(g,e,u||this.m_rTopoGraph.isBreakNode(h))}this.m_rTopoGraph.isHalfEdgeCurve(m)&&(this.m_rTopoGraph.querySegmentXY(m,o),this.m_rShape.setSegmentToIndex(this.m_rShape.getVertexIndex(g),o.get().clone())),l=a,u=!1}g=this.m_rShape.addVertex(s,l),i&&this.m_rTopoGraph.isBreakNode(this.m_rTopoGraph.getClusterFromVertex(l))&&this.m_rShape.setSegmentParentageBreakVertex(g,!0),this.m_rCutHandles.push(t),this.m_rShape.setGeometryUserIndex(t,this.m_sideIndex,r),t=_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n,s=_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n,r=32}}}function nh(e,t,s){return new Ka(s).linesToPolygonsImpl(e,t)}function rh(t,s,o,a,h){if(a&&(a.m_reason=0,a.m_vertexIndex1=-1,a.m_vertexIndex2=-1),t.isEmpty())return 5;const m=t.getGeometryType();if(m===_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumPoint)return mh(t,a);const l=(0,_Envelope_js__WEBPACK_IMPORTED_MODULE_3__.b)(s,t,!1).total();if(m===_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumEnvelope){const s=t,n=new _Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D;return s.queryEnvelope(n),n.isDegenerate(l)?(a&&(a.m_reason=4,a.m_vertexIndex1=-1,a.m_vertexIndex2=-1),0):5}if((0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.f)(m)){const e=t,n=new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.P({vd:e.getDescription()});return n.addSegment(e,!0),oh(n,s,o,a,h)}const g=[0],u=t.getImpl().getIsSimple(l,g);let c=o?-1:u;if((0,_Envelope_js__WEBPACK_IMPORTED_MODULE_3__.i)(c)||0===c)return c;const _=new Ph(t,s,c,h,!1);m===_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumMultiPoint||m===_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumPolyline||m===_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumPolygon?c=_.isSimplePlanarImpl():(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.d)("");return t.getImpl().setIsSimple(c,l),a&&a.assign(_.m_nonSimpleResult),c}function ih(t,s,o,a,h){if(a&&(a.m_reason=0,a.m_vertexIndex1=-1,a.m_vertexIndex2=-1),t.isEmpty())return 5;const m=t.getGeometryType();if(m===_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumPoint)return mh(t,a);const l=(0,_Envelope_js__WEBPACK_IMPORTED_MODULE_3__.b)(s,t,!1).total();if(m===_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumEnvelope){const s=t,n=new _Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D;return s.queryEnvelope(n),n.isDegenerate(l)?(a&&(a.m_reason=4,a.m_vertexIndex1=-1,a.m_vertexIndex2=-1),0):5}if((0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.f)(m)){const e=t,n=new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.P({vd:e.getDescription()});return n.addSegment(e,!0),ih(n,s,o,a,h)}(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.B)(m),(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.i)(m)||(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.t)("OGC simplify is not implemented for this geometry type");const g=[0],c=t.getImpl().getIsSimple(l,g);let _=o?-1:c;if(5===_||0===_)return _;const p=new Ph(t,s,_,h,!0);m===_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumMultiPoint||m===_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumPolyline||m===_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumPolygon?(_=p.isSimplePlanarImpl(),(0,_Envelope_js__WEBPACK_IMPORTED_MODULE_3__.i)(_)&&(_=5)):(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.d)("");return t.getImpl().setIsSimple(_,l),a&&a.assign(p.m_nonSimpleResult),_}function oh(t,s,o,a,h){if(a&&(a.m_reason=0,a.m_vertexIndex1=-1,a.m_vertexIndex2=-1),t.isEmpty())return 5;const m=t.getGeometryType();if(m===_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumPoint)return mh(t,a);const l=(0,_Envelope_js__WEBPACK_IMPORTED_MODULE_3__.b)(s,t,!1).total();if(m===_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumEnvelope){const s=t,n=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D.constructEmpty();return s.queryEnvelope(n),n.isDegenerate(l)?(a&&(a.m_reason=4,a.m_vertexIndex1=-1,a.m_vertexIndex2=-1),0):5}if((0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.f)(m)){const e=t,n=new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.P({vd:e.getDescription()});return n.addSegment(e,!0),oh(n,s,o,a,h)}const g=[0],u=t.getImpl().getIsSimple(l,g);let c=o?-1:u;if(-1!==c)return c;const _=new Ph(t,s,c,h,!1);return m===_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumMultiPoint?c=_.multipointIsSimpleAsFeature():m===_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumPolyline?c=_.polylineIsSimpleAsFeature():m===_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumPolygon?c=_.polygonIsSimpleAsFeature():(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.d)(""),t.getImpl().setIsSimple(c,l),a&&a.assign(_.m_nonSimpleResult),c}function ah(t,s,o,a){if(t.isEmpty())return t;const h=t.getGeometryType();if(h===_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumPoint){const e=new _OperatorDefinitions_js__WEBPACK_IMPORTED_MODULE_10__.NonSimpleResult;if(mh(t,e),3===e.m_reason){const e=t.clone();return e.replaceNaNs(1,0),e}return 2===e.m_reason?t.createInstance():t}if(h===_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumEnvelope){const n=(0,_Envelope_js__WEBPACK_IMPORTED_MODULE_3__.b)(s,t,!0).total(),r=t,i=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D.constructEmpty();return r.queryEnvelope(i),i.isDegenerate(n)?r.createInstance():t}if((0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.f)(h)){const e=t,n=new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.P({vd:e.getDescription()});return n.addSegment(e,!0),ah(n,s,o,a)}(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.B)(h);const m=(0,_Envelope_js__WEBPACK_IMPORTED_MODULE_3__.b)(s,t,!1).total(),l=[0],g=t.getImpl().getIsSimple(m,l),u=o?-1:g;if((0,_Envelope_js__WEBPACK_IMPORTED_MODULE_3__.i)(u)){if(h===_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumPolygon&&0!==t.getFillRule()){const e=t.clone();return e.setFillRule(0),e}return t}if((h===_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumMultiPoint||h===_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumPolyline)&&u>=1)return t;const c=new Ph(t,s,u,a,!1);let _;return h===_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumMultiPoint?_=c.multipointSimplifyAsFeature():h===_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumPolyline?_=c.polylineSimplifyAsFeature():h===_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumPolygon?_=c.polygonSimplifyAsFeature():(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.d)(""),_}function hh(t,s,i,o){if(t.isEmpty())return t;const a=t.getGeometryType();if(a===_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumPoint){const e=new _OperatorDefinitions_js__WEBPACK_IMPORTED_MODULE_10__.NonSimpleResult;if(mh(t,e),3===e.m_reason){const e=t.clone();return e.replaceNaNs(1,0),e}return 2===e.m_reason?t.createInstance():t}if(a===_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumEnvelope){const n=t,r=new _Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D;n.queryEnvelope(r);const i=(0,_Envelope_js__WEBPACK_IMPORTED_MODULE_3__.b)(s,t,!0).total();return r.isDegenerate(i)?n.createInstance():t}if((0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.f)(a)){const e=t,n=new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.P({vd:e.getDescription()});return n.addSegment(e,!0),hh(n,s,i,o)}(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.B)(a),(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.i)(a)||(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.t)("OGC simplify is not implemented for this geometry type");const h=(0,_Envelope_js__WEBPACK_IMPORTED_MODULE_3__.b)(s,t,!1).total(),m=[0],l=t.getImpl().getIsSimple(h,m),g=i?-1:l;if(5===g){if(a===_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumPolygon&&0!==t.getFillRule()){const e=t.clone();return e.setFillRule(0),e}return t}return Aa(t,(0,_Envelope_js__WEBPACK_IMPORTED_MODULE_3__.b)(s,t,!0),!1,g,o,0,!0)}function mh(e,t){const s=e.getX(),n=e.getY();if(!Number.isFinite(s)||!Number.isFinite(n))return t&&(t.m_reason=2,t.m_vertexIndex1=-1,t.m_vertexIndex2=-1),0;if(e.hasAttribute(1)){const s=e.getZ();if(!Number.isFinite(s))return t&&(t.m_reason=Number.isNaN(s)?3:2,t.m_vertexIndex1=-1,t.m_vertexIndex2=-1),0}return 5}class lh{constructor(){this.m_segment=null,this.m_vertexIndex=-1,this.m_pathIndex=-1,this.m_flags=0}setReversed(e){this.m_flags&=-2,this.m_flags=this.m_flags|(e?1:0)}getReversed(){return!!(1&this.m_flags)}getRightSide(){return this.getReversed()?0:1}}function gh(){return{x:-1,y:-1,ipath:-1,ivertex:-1,ipolygon:-1}}function uh(e,t,s,n,r){return{x:e,y:t,ipath:s,ivertex:n,ipolygon:r}}function ch(e,t){return e.x===t.x&&e.y===t.y&&e.ipath===t.ipath&&e.ivertex===t.ivertex&&e.ipolygon===t.ipolygon}function _h(e,t){e.x=t.x,e.y=t.y,e.ipath=t.ipath,e.ivertex=t.ivertex,e.ipolygon=t.ipolygon}function dh(){return{x:-1,y:-1,ipath:-1,ivertex:-1,bBoundary:!1,bEndPoint:!1}}function ph(e,t,s,n,r,i){return{x:e,y:t,ipath:s,ivertex:n,bBoundary:r,bEndPoint:i}}function fh(e,t){e.x=t.x,e.y=t.y,e.ipath=t.ipath,e.ivertex=t.ivertex,e.bBoundary=t.bBoundary,e.bEndPoint=t.bEndPoint}class xh extends _Envelope_js__WEBPACK_IMPORTED_MODULE_3__.a3{constructor(e){super(),this.m_helper=e}compare(e,t,s){const n=e.getElement(s),r=this.m_helper.m_xy.read(2*t)-this.m_helper.m_xy.read(2*n);return r<0?-1:r>0?1:0}}class yh extends _Envelope_js__WEBPACK_IMPORTED_MODULE_3__.a3{constructor(e){super(),this.m_helper=e}compare(e,t,s){const n=e.getElement(s),r=this.m_helper.m_edges[t],i=this.m_helper.m_edges[n],o=r.getReversed(),a=i.getReversed();let h=r.m_segment.intersectionOfYMonotonicWithAxisX(this.m_helper.m_yScanline,0),m=i.m_segment.intersectionOfYMonotonicWithAxisX(this.m_helper.m_yScanline,0);if(h===m){const e=o?r.m_segment.getStartY():r.m_segment.getEndY(),t=a?i.m_segment.getStartY():i.m_segment.getEndY(),s=Math.min(e,t);let n=.5*(s-this.m_helper.m_yScanline)+this.m_helper.m_yScanline;n===this.m_helper.m_yScanline&&(n=s),h=r.m_segment.intersectionOfYMonotonicWithAxisX(n,0),m=i.m_segment.intersectionOfYMonotonicWithAxisX(n,0)}return h<m?-1:h>m?1:0}}class Ph{constructor(e,t,s,n,r){this.m_multiVertexGeom=null,this.m_edges=[],this.m_freeEdges=[],this.m_lineEdgesRecycle=[],this.m_newEdges=[],this.m_recycledSegIter=null,this.m_crossOverHelperList=new _Envelope_js__WEBPACK_IMPORTED_MODULE_3__.N,this.m_progressTracker=null,this.m_progressCounter=0,this.m_AET=new _Envelope_js__WEBPACK_IMPORTED_MODULE_3__.T,this.m_xyToNode1=null,this.m_xyToNode2=null,this.m_pathOrientations=null,this.m_pathParentage=null,this.m_xy=null,this.m_pairs=[],this.m_pairIndices=null,this.m_pathsForOGCTests=[],this.m_curveStitcher=null,this.m_editShape=null,this.m_multiPathStitcher=null,this.m_nonSimpleResult=new _OperatorDefinitions_js__WEBPACK_IMPORTED_MODULE_10__.NonSimpleResult,this.m_progressCounter=0,this.m_progressTracker=n,this.m_geometry=e,this.m_knownSimpleResult=s,this.m_sr=t;const i=(0,_Envelope_js__WEBPACK_IMPORTED_MODULE_3__.b)(t,e,!1);this.m_toleranceIsSimple=i,this.m_toleranceIsSimpleClustering=(0,_Envelope_js__WEBPACK_IMPORTED_MODULE_3__.e)(i),this.m_toleranceIsSimpleCracking=(0,_Envelope_js__WEBPACK_IMPORTED_MODULE_3__.Q)(i),this.m_toleranceSimplify=(0,_Envelope_js__WEBPACK_IMPORTED_MODULE_3__.b)(t,e,!0),this.m_description=this.m_geometry.getDescription(),this.m_attributeCount=this.m_description.getAttributeCount(),this.m_bOGCRestrictions=r,this.m_bPlanarSimplify=this.m_bOGCRestrictions,this.m_unknownOrientationPathCount=-1,this.m_yScanline=0,this.m_progressCounter=0}isSimplePlanarImpl(){if(this.m_bPlanarSimplify=!0,!this.checkStructure())return 0;const e=this.m_geometry.getGeometryType();return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.h)(e)&&!this.checkDegenerateSegments(!1)?0:this._CheckClustering()?(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.h)(e)?this._CheckCracking()?this.m_geometry.getGeometryType()===_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumPolyline?this.checkSelfIntersectionsPolylinePlanar()?4:0:this._CheckSelfIntersections()?this._CheckValidRingOrientation():0:0:5:0}isSimplePlanarImpl3D(){return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(0),7}generateSortedPairs(e){let t=null;(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.h)(e.getGeometryType())&&(t=e);const s=(this.m_bPlanarSimplify||this.m_bOGCRestrictions)&&null!==t,n=e.getPointCount();this.m_xy=e.getAttributeStreamRef(0),this.m_pairs.length=0,this.m_pairIndices=new _Envelope_js__WEBPACK_IMPORTED_MODULE_3__.A(0),s&&(this.m_pathsForOGCTests.length=0);let r=0;for(let o=0;o<n;o++)if(this.m_pairs.push(2*o),this.m_pairs.push(2*o+1),this.m_pairIndices.add(2*o),this.m_pairIndices.add(2*o+1),s){for(;o>=t.getPathEnd(r);)r++;this.m_pathsForOGCTests.push(r)}const i=new _Envelope_js__WEBPACK_IMPORTED_MODULE_3__.B,a={parent:this,workPt:new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P,userSort(e,t,n){n.sort(e,t,((e,t)=>this.parent.compareVerticesForPlanarClustering(e,t,s)))},getValue(e){const t=this.parent.m_pairs[e],s=t>>1;this.parent.m_xy.queryPoint2D(2*s,this.workPt);return this.workPt.y+(1&t?this.parent.m_toleranceIsSimpleClustering:-this.parent.m_toleranceIsSimpleClustering)}};i.sort(this.m_pairIndices,0,2*n,a)}_TestToleranceDistancePlanar(e,t){const s=this.m_xy.read(2*e),n=this.m_xy.read(2*e+1),r=this.m_xy.read(2*t),i=this.m_xy.read(2*t+1);if(!!ln(s,n,r,i,this.m_toleranceIsSimpleClustering*this.m_toleranceIsSimpleClustering)){if(0===this.m_geometry.getDimension())return!1;return s===r&&n===i}return!0}checkStructure(){const e=this.m_geometry.getGeometryType();if((0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.h)(e)){const e=this.m_geometry.getImpl(),t=this.m_geometry.getGeometryType()===_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumPolygon?3:2;for(let s=0,n=e.getPathCount();s<n;s++)if(e.getPathSize(s)<t){if(e.hasNonLinearSegments()&&e.hasNonLinearSegmentsPath(s)&&e.getPathSize(s)>0)continue;return this.m_nonSimpleResult=new _OperatorDefinitions_js__WEBPACK_IMPORTED_MODULE_10__.NonSimpleResult(1,s,0),!1}}if((0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.i)(e)){const e=this.m_geometry.getImpl(),t=e.getAttributeStreamRef(0);for(let s=0,n=e.getPointCount();s<n;s++){if(!t.readPoint2D(2*s).isFinite())return this.m_nonSimpleResult=new _OperatorDefinitions_js__WEBPACK_IMPORTED_MODULE_10__.NonSimpleResult(2,s,0),!1}if(this.m_geometry.hasAttribute(1)){const t=e.getAttributeStreamRef(1);for(let s=0,n=e.getPointCount();s<n;s++){const e=t.read(s);if(!Number.isFinite(e))return Number.isNaN(e)?this.m_nonSimpleResult=new _OperatorDefinitions_js__WEBPACK_IMPORTED_MODULE_10__.NonSimpleResult(3,s,0):this.m_nonSimpleResult=new _OperatorDefinitions_js__WEBPACK_IMPORTED_MODULE_10__.NonSimpleResult(2,s,0),!1}}}return!0}checkDegenerateSegments(e){const t=this.m_geometry.getImpl(),s=t.querySegmentIterator(),n=t.hasAttribute(1),r=n?(0,_Envelope_js__WEBPACK_IMPORTED_MODULE_3__.R)(this.m_sr,t,!1).total():0,i=t.hasNonLinearSegments(),o=this.m_toleranceIsSimple.total();for(;s.nextPath();)for(;s.hasNextSegment();){const t=s.nextSegment();let a=t.calculateLowerLength2D();if(!(a>o)&&!(i&&t.isCurve()&&(a=t.calculateLength2D(),a>o))){if(e&&n){const e=t.getStartAttributeAsDbl(1,0),s=t.getEndAttributeAsDbl(1,0);if(Math.abs(s-e)>r)continue}return this.m_nonSimpleResult=new _OperatorDefinitions_js__WEBPACK_IMPORTED_MODULE_10__.NonSimpleResult(4,s.getStartPointIndex(),-1),!1}}return!0}checkDegenerateSegments3D(){return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(0),!1}_CheckClustering(){const e=this.m_geometry.getImpl();this.generateSortedPairs(e);const t=e.getPointCount();this.m_AET.clear(),this.m_AET.setComparator(new xh(this)),this.m_AET.setCapacity(t);for(let s=0,n=2*t;s<n;s++){this.progress_();const e=this.m_pairIndices.read(s),t=this.m_pairs[e],n=t>>1;if(1&t){const e=this.m_AET.search(n),t=this.m_AET.getPrev(e),s=this.m_AET.getNext(e);if(this.m_AET.deleteNode(e),t!==_Envelope_js__WEBPACK_IMPORTED_MODULE_3__.T.st_nullNode()&&s!==_Envelope_js__WEBPACK_IMPORTED_MODULE_3__.T.st_nullNode()&&!this._TestToleranceDistancePlanar(this.m_AET.getElement(t),this.m_AET.getElement(s)))return this.m_nonSimpleResult=new _OperatorDefinitions_js__WEBPACK_IMPORTED_MODULE_10__.NonSimpleResult(5,this.m_AET.getElement(t),this.m_AET.getElement(s)),!1}else{const e=this.m_AET.addElement(n),t=this.m_AET.getPrev(e);if(t!==_Envelope_js__WEBPACK_IMPORTED_MODULE_3__.T.st_nullNode()&&!this._TestToleranceDistancePlanar(this.m_AET.getElement(t),n))return this.m_nonSimpleResult=new _OperatorDefinitions_js__WEBPACK_IMPORTED_MODULE_10__.NonSimpleResult(5,n,this.m_AET.getElement(t)),!1;const s=this.m_AET.getNext(e);if(s!==_Envelope_js__WEBPACK_IMPORTED_MODULE_3__.T.st_nullNode()&&!this._TestToleranceDistancePlanar(this.m_AET.getElement(s),n))return this.m_nonSimpleResult=new _OperatorDefinitions_js__WEBPACK_IMPORTED_MODULE_10__.NonSimpleResult(5,n,this.m_AET.getElement(s)),!1}}return!0}_CheckCracking(){const e=this.m_geometry.getImpl(),t=e.getPointCount();return!e.hasNonLinearSegments()&&t<10?this._CheckCrackingBrute():this._CheckCrackingPlanesweep()}_CheckCrackingPlanesweep(){if(this.m_editShape=new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.E,this.m_editShape.addGeometry(this.m_geometry),this.m_editShape.hasCurves()){this.m_curveStitcher=new fa;const t=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D.constructEmpty();this.m_geometry.queryEnvelope(t);const s=_a(this.m_toleranceSimplify.total(),t),n=new _OperatorDefinitions_js__WEBPACK_IMPORTED_MODULE_10__.NonSimpleResult;if(la(this.m_editShape,s,this.m_toleranceSimplify.total(),12e3,n,this.m_curveStitcher,null,this.m_progressTracker),0!==n.m_reason)return this.m_editShape=null,this.m_nonSimpleResult.assign(n),!1}const t=new _OperatorDefinitions_js__WEBPACK_IMPORTED_MODULE_10__.NonSimpleResult;return Mn(!1,this.m_editShape,this.m_toleranceIsSimpleCracking,t,this.m_progressTracker)?(null!=this.m_curveStitcher?(t.m_vertexIndex1=this.m_curveStitcher.getOriginalVertexIndex(this.m_editShape,t.m_vertexIndex1),t.m_vertexIndex2=this.m_curveStitcher.getOriginalVertexIndex(this.m_editShape,t.m_vertexIndex2),this.m_curveStitcher=null):(t.m_vertexIndex1=this.m_editShape.getVertexIndex(t.m_vertexIndex1),t.m_vertexIndex2=this.m_editShape.getVertexIndex(t.m_vertexIndex2)),this.m_editShape=null,this.m_nonSimpleResult.assign(t),!1):(null==this.m_curveStitcher&&(this.m_editShape=null),!0)}_CheckCrackingBrute(){const e=this.m_geometry.getImpl(),t=e.querySegmentIterator(),s=e.querySegmentIterator();for(;t.nextPath();)for(;t.hasNextSegment();){const e=t.nextSegment();if(!t.isLastSegmentInPath()||!t.isLastPath()){s.resetTo(t);do{for(;s.hasNextSegment();){const n=s.nextSegment(),r=(0,_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.Q)(!0,e,n,this.m_toleranceIsSimpleCracking,!0);if(r){const e=2===r?7:6;return this.m_nonSimpleResult=new _OperatorDefinitions_js__WEBPACK_IMPORTED_MODULE_10__.NonSimpleResult(e,t.getStartPointIndex(),s.getStartPointIndex()),!1}}}while(s.nextPath())}}return!0}_CheckSelfIntersections(){let e=this.m_geometry.getImpl();null!==this.m_curveStitcher&&(this.m_multiPathStitcher=this.m_editShape.getGeometry(this.m_editShape.getFirstGeometry()),e=this.m_multiPathStitcher.getImpl(),this.generateSortedPairs(e)),this.m_edges.length=0,this.m_lineEdgesRecycle.length=0,this.m_recycledSegIter=e.querySegmentIterator(),this.m_recycledSegIter.setCirculator(!0);const t=[],s=e.getPointCount();let n=Number.NaN,r=0;for(let i=0,o=2*s;i<o;i++){this.progress_();const e=this.m_pairIndices.read(i),s=this.m_pairs[e];if(1&s)continue;const o=s>>1,a=this.m_xy.read(2*o),h=this.m_xy.read(2*o+1);if(t.length&&(a!==n||h!==r)){if(!this.processBunchForSelfIntersectionTest(t))return!1;t.length=0}t.push(o),n=a,r=h}return!!this.processBunchForSelfIntersectionTest(t)}checkSelfIntersectionsPolylinePlanar(){const e=this.m_geometry.getImpl(),t=[];for(let o=0,a=e.getPathCount();o<a;o++)t.push(e.isClosedPathInXYPlane(o));const s=dh();let n,r,i;{const o=this.m_pairIndices.read(0),a=this.m_pairs[o]>>1,h=this.m_xy.readPoint2D(2*a),m=this.m_pathsForOGCTests[a];n=t[m],r=e.getPathStart(m),i=e.getPathEnd(m)-1,s.bEndPoint=a===r||a===i,this.m_bOGCRestrictions?s.bBoundary=!n&&s.bEndPoint:s.bBoundary=s.bEndPoint,s.ipath=m,s.x=h.x,s.y=h.y,s.ivertex=a}for(let o=1,a=this.m_pairIndices.size();o<a;o++){const a=this.m_pairIndices.read(o),h=this.m_pairs[a];if(1&h)continue;const m=h>>1,l=this.m_xy.readPoint2D(2*m),g=this.m_pathsForOGCTests[m];let u;g!==s.ipath&&(n=t[g],r=e.getPathStart(g),i=e.getPathEnd(g)-1);const c=m===r||m===i;u=this.m_bOGCRestrictions?!n&&c:c;const _=ph(l.x,l.y,g,m,u,c);if(_.x===s.x&&_.y===s.y)if(this.m_bOGCRestrictions){if(!(_.bBoundary&&s.bBoundary||_.ipath===s.ipath&&_.bEndPoint&&s.bEndPoint))return this.m_nonSimpleResult=new _OperatorDefinitions_js__WEBPACK_IMPORTED_MODULE_10__.NonSimpleResult(10,_.ivertex,s.ivertex),!1}else if(!_.bEndPoint||!s.bEndPoint)return this.m_nonSimpleResult=new _OperatorDefinitions_js__WEBPACK_IMPORTED_MODULE_10__.NonSimpleResult(7,_.ivertex,s.ivertex),!1;fh(s,_)}return!0}checkSelfIntersectionsPolylinePlanar3D(e){return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(0),!1}checkSelfIntersectionsPolygonsOGC(){const e=this.m_geometry.getImpl(),t=[];let s=-1,n=!1;for(let l=0,g=e.getPathCount();l<g;l++)e.isExteriorRingOGC(l)&&(n=!1,s++,l<g-1&&(e.isExteriorRingOGC(l+1)||(n=!0))),t.push(n?s:-1);const r=gh();{const e=this.m_pairIndices.read(0),s=this.m_pairs[e]>>1,n=this.m_xy.readPoint2D(2*s),i=this.m_pathsForOGCTests[s];r.ipath=i,r.x=n.x,r.y=n.y,r.ivertex=s,r.ipolygon=t[i]}const i=[];for(let l=1,g=this.m_pairIndices.size();l<g;l++){const e=this.m_pairIndices.read(l),s=this.m_pairs[e];if(1&s)continue;const n=s>>1,o=this.m_xy.readPoint2D(2*n),a=this.m_pathsForOGCTests[n],h=uh(o.x,o.y,a,n,t[a]);if(h.x===r.x&&h.y===r.y){if(h.ipath===r.ipath)return this.m_nonSimpleResult=new _OperatorDefinitions_js__WEBPACK_IMPORTED_MODULE_10__.NonSimpleResult(11,h.ivertex,r.ivertex),!1;t[h.ipath]>=0&&t[h.ipath]===t[r.ipath]&&(0!==i.length&&ch(i.at(-1),r)||i.push({...r}),i.push(h))}_h(r,h)}if(0===i.length)return!0;const o=new _Envelope_js__WEBPACK_IMPORTED_MODULE_3__.N(!0);t.fill(-1);let a=-1;const h=new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P;for(let l=0,g=i.length;l<g;l++){const e=i[l];e.x===h.x&&e.y===h.y||(a=o.createList(0),h.x=e.x,h.y=e.y);let s=t[e.ipath];-1===s&&(s=o.createList(2),t[e.ipath]=s),o.addElement(s,a),o.addElement(a,s)}const m=[];for(let l=o.getFirstList();-1!==l;l=o.getNextList(l)){const e=o.getListData(l);if(1&e||!(2&e))continue;let s=-1;for(m.push(l),m.push(-1);m.length;){const e=m.at(-1);m.pop();const t=m.at(-1);m.pop();const n=o.getListData(t);if(1&n){s=2&n?t:e;break}o.setListData(t,1|n);for(let s=o.getFirst(t);-1!==s;s=o.getNext(s)){const n=o.getData(s);n!==e&&(m.push(n),m.push(t))}}if(-1!==s){const e=t.indexOf(s);return this.m_nonSimpleResult=new _OperatorDefinitions_js__WEBPACK_IMPORTED_MODULE_10__.NonSimpleResult(12,e,-1),!1}}return!0}_CheckValidRingOrientation(){const e=null!==this.m_multiPathStitcher?this.m_multiPathStitcher.getImpl():this.m_geometry.getImpl();if(e.calculateArea2D()<=0)return this.m_nonSimpleResult=new _OperatorDefinitions_js__WEBPACK_IMPORTED_MODULE_10__.NonSimpleResult(8,1===e.getPathCount()?1:-1,-1),0;if(1===e.getPathCount())return this.m_bOGCRestrictions&&!this.checkSelfIntersectionsPolygonsOGC()?0:4;this.m_pathOrientations=new _Envelope_js__WEBPACK_IMPORTED_MODULE_3__.U(e.getPathCount(),0),this.m_pathParentage=new _Envelope_js__WEBPACK_IMPORTED_MODULE_3__.A(e.getPathCount(),-1);let t=-1,s=0;for(let i=0,o=e.getPathCount();i<o;i++){const n=e.calculateRingArea2D(i);if(this.m_pathOrientations.write(i,n<0?0:8),n>0)t=i,s=n;else{if(0===n)return this.m_nonSimpleResult=new _OperatorDefinitions_js__WEBPACK_IMPORTED_MODULE_10__.NonSimpleResult(8,i,-1),0;if((t<0||s<Math.abs(n))&&(this.m_nonSimpleResult=new _OperatorDefinitions_js__WEBPACK_IMPORTED_MODULE_10__.NonSimpleResult(9,i,-1),this.m_bOGCRestrictions))return 0;this.m_pathParentage.write(i,t)}}this.m_unknownOrientationPathCount=e.getPathCount(),this.m_newEdges.length=0;const n=e.getPointCount();this.m_yScanline=Number.NaN;const r=[];this.m_xyToNode1=new _Envelope_js__WEBPACK_IMPORTED_MODULE_3__.A(n,_Envelope_js__WEBPACK_IMPORTED_MODULE_3__.T.st_nullNode()),this.m_xyToNode2=new _Envelope_js__WEBPACK_IMPORTED_MODULE_3__.A(n,_Envelope_js__WEBPACK_IMPORTED_MODULE_3__.T.st_nullNode()),this.m_freeEdges.length=0,this.m_AET.clear(),this.m_AET.setComparator(new yh(this));for(let i=0,o=2*n;this.m_unknownOrientationPathCount>0&&i<o;i++){const e=this.m_pairIndices.read(i),t=this.m_pairs[e];if(1&t)continue;const s=t>>1,n=this.m_xy.read(2*s+1);if(n!==this.m_yScanline&&r.length){if(!this.processBunchForRingOrientationTest(r))return 0;r.length=0}r.push(s),this.m_yScanline=n}return this.m_unknownOrientationPathCount>0&&!this.processBunchForRingOrientationTest(r)?0:this.m_bOGCRestrictions?0!==this.m_nonSimpleResult.m_reason?0:this.checkSelfIntersectionsPolygonsOGC()?5:0:0===this.m_nonSimpleResult.m_reason?4:3}processBunchForSelfIntersectionTest(e){if(1===e.length)return!0;for(let o=0,a=e.length;o<a;o++){const t=e[o];this.m_recycledSegIter.resetToVertex(t,-1);const s=this.m_recycledSegIter.previousSegment();this.m_edges.push(this.createEdge(s,t,this.m_recycledSegIter.getPathIndex(),!0)),this.m_recycledSegIter.nextSegment();const n=this.m_recycledSegIter.nextSegment();this.m_edges.push(this.createEdge(n,t,this.m_recycledSegIter.getPathIndex(),!1))}this.m_edges.sort(((e,t)=>this.edgeAngleCompare(e,t)));let t=this.m_crossOverHelperList.getFirstList();-1===t&&(t=this.m_crossOverHelperList.createList(0)),this.m_crossOverHelperList.reserveNodes(this.m_edges.length);for(let o=0,a=this.m_edges.length;o<a;o++)this.m_crossOverHelperList.addElement(t,o);let s=!0,n=-1,r=-1;for(;s;){s=!1;let e=this.m_crossOverHelperList.getFirst(t);if(-1===e)break;let i=this.m_crossOverHelperList.getNext(e);for(;-1!==i;){const o=this.m_crossOverHelperList.getData(e),a=this.m_crossOverHelperList.getData(i);if(n=this.m_edges[o].m_vertexIndex,r=this.m_edges[a].m_vertexIndex,n!==r)e=i,i=this.m_crossOverHelperList.getNext(e);else if(s=!0,this.m_crossOverHelperList.deleteElement(t,e),e=this.m_crossOverHelperList.getPrev(i),i=this.m_crossOverHelperList.deleteElement(t,i),-1===i||-1===e)break}}const i=this.m_crossOverHelperList.getListSize(t);if(this.m_crossOverHelperList.clear(t),i>0)return this.m_nonSimpleResult=new _OperatorDefinitions_js__WEBPACK_IMPORTED_MODULE_10__.NonSimpleResult(7,n,r),!1;for(let o=0,a=e.length;o<a;o++)this.recycleEdge(this.m_edges[o]);return this.m_edges.length=0,!0}processBunchForRingOrientationTest(e){for(let t=0,s=e.length;t<s;t++){const s=e[t];let n=this.m_xyToNode1.read(s);if(n!==_Envelope_js__WEBPACK_IMPORTED_MODULE_3__.T.st_nullNode()){const e=this.m_AET.getElement(n);this.m_freeEdges.push(e),this.m_AET.deleteNode(n),this.recycleEdge(this.m_edges[e]),this.m_edges[e]=null,this.m_xyToNode1.write(s,_Envelope_js__WEBPACK_IMPORTED_MODULE_3__.T.st_nullNode())}if(n=this.m_xyToNode2.read(s),n!==_Envelope_js__WEBPACK_IMPORTED_MODULE_3__.T.st_nullNode()){const e=this.m_AET.getElement(n);this.m_freeEdges.push(e),this.m_AET.deleteNode(n),this.recycleEdge(this.m_edges[e]),this.m_edges[e]=null,this.m_xyToNode2.write(s,_Envelope_js__WEBPACK_IMPORTED_MODULE_3__.T.st_nullNode())}}for(let t=0,s=e.length;t<s;t++){const s=e[t];this.m_recycledSegIter.resetToVertex(s,-1);const n=this.m_recycledSegIter.previousSegment();if(n.getStartY()>n.getEndY()){const e=this.m_recycledSegIter.getStartPointIndex(),t=this.createEdge(n,s,this.m_recycledSegIter.getPathIndex(),!0);let r;this.m_freeEdges.length>0?(r=this.m_freeEdges.at(-1),this.m_freeEdges.pop(),this.m_edges[r]=t):(r=this.m_edges.length,this.m_edges.push(t));const i=this.m_AET.addElement(r);this.m_xyToNode1.read(e)===_Envelope_js__WEBPACK_IMPORTED_MODULE_3__.T.st_nullNode()?this.m_xyToNode1.write(e,i):this.m_xyToNode2.write(e,i),3&this.m_pathOrientations.read(this.m_recycledSegIter.getPathIndex())||this.m_newEdges.push(i)}this.m_recycledSegIter.nextSegment();const r=this.m_recycledSegIter.nextSegment();if(r.getStartY()<r.getEndY()){const e=this.m_recycledSegIter.getEndPointIndex(),t=this.createEdge(r,s,this.m_recycledSegIter.getPathIndex(),!1);let n;this.m_freeEdges.length>0?(n=this.m_freeEdges.at(-1),this.m_freeEdges.pop(),this.m_edges[n]=t):(n=this.m_edges.length,this.m_edges.push(t));const i=this.m_AET.addElement(n);this.m_xyToNode1.read(e)===_Envelope_js__WEBPACK_IMPORTED_MODULE_3__.T.st_nullNode()?this.m_xyToNode1.write(e,i):this.m_xyToNode2.write(e,i),3&this.m_pathOrientations.read(this.m_recycledSegIter.getPathIndex())||this.m_newEdges.push(i)}}for(let t=0,s=this.m_newEdges.length;t<s&&this.m_unknownOrientationPathCount>0;t++){const e=this.m_newEdges[t],s=this.m_AET.getElement(e),n=this.m_edges[s].m_pathIndex;if(!(3&this.m_pathOrientations.read(n))){let t=-1,s=this.m_AET.getPrev(e),n=e,r=0;{let e=-1,i=null,o=-1,a=0;for(;s!==_Envelope_js__WEBPACK_IMPORTED_MODULE_3__.T.st_nullNode()&&(e=this.m_AET.getElement(s),i=this.m_edges[e],o=i.m_pathIndex,a=this.m_pathOrientations.read(o),!(3&a));)n=s,s=this.m_AET.getPrev(s);s===_Envelope_js__WEBPACK_IMPORTED_MODULE_3__.T.st_nullNode()?(r=1,s=n):(t=1==(3&a)?o:this.m_pathParentage.read(o),r=i.getRightSide()?0:1,s=this.m_AET.getNext(s))}do{const e=this.m_AET.getElement(s),i=this.m_edges[e],o=i.m_pathIndex;let a=this.m_pathOrientations.read(o);if(!(3&a)){if(r!==i.getRightSide())return this.m_nonSimpleResult=new _OperatorDefinitions_js__WEBPACK_IMPORTED_MODULE_10__.NonSimpleResult(8,o,-1),!1;const e=r&&!i.getReversed()?1:2;if(a=-4&a|e,this.m_pathOrientations.write(o,a),2===e&&0===this.m_nonSimpleResult.m_reason){const e=this.m_pathParentage.read(o);if(e!==t&&(this.m_nonSimpleResult=new _OperatorDefinitions_js__WEBPACK_IMPORTED_MODULE_10__.NonSimpleResult(9,o,e),this.m_bOGCRestrictions))return!1}if(this.m_unknownOrientationPathCount--,!this.m_unknownOrientationPathCount)return!0}t=1==(3&a)?o:this.m_pathParentage.read(o),n=s,s=this.m_AET.getNext(s),r=r?0:1}while(n!==e)}}return this.m_newEdges.length=0,!0}createEdge(e,t,s,r){let i;return e.getGeometryType()===_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumLine?i=this.createEdgeLine(e):(i=new lh,i.m_segment=e.clone()),i.m_vertexIndex=t,i.m_pathIndex=s,i.m_flags=0,i.setReversed(r),i}createEdgeLine(e){let t;return this.m_lineEdgesRecycle.length>0?(t=this.m_lineEdgesRecycle.at(-1),this.m_lineEdgesRecycle.pop(),e.copyTo(t.m_segment)):(t=new lh,t.m_segment=e.clone()),t}recycleEdge(e){e.m_segment.getGeometryType()===_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumLine&&this.m_lineEdgesRecycle.push(e)}static isShortSegment(e,t,s,n){let r=e.calculateLowerLength2D();if(r<=s){let i=!0;if(e.isCurve()&&(r=e.calculateLength2D(),i=r<=s),i){if(t){let t=e.getEndAttributeAsDbl(1,0);Number.isNaN(t)&&(t=0);let s=e.getStartAttributeAsDbl(1,0);return Number.isNaN(s)&&(s=0),Math.abs(s-t)<=n}return!0}return!1}return!1}static isShortSegmentPoints(e,t,s,n,r){if(s){const s=e.getXYZ(),i=t.getXYZ();return (0,_Envelope_js__WEBPACK_IMPORTED_MODULE_3__.W)(s,i,n,r)}{const s=e.getXY(),r=t.getXY();return _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P.sqrDistance(s,r)<=n*n}}removeDegenerateSegmentsFromCurvedPath(e,t,s,n){const r=e.hasAttribute(1),i=e.querySegmentIterator();i.resetToPath(t),(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(i.nextPath());const o=this.m_toleranceSimplify.total();let h=!1,m=!0;const l=new _Envelope_js__WEBPACK_IMPORTED_MODULE_3__.P,g=new _Envelope_js__WEBPACK_IMPORTED_MODULE_3__.P,u=new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P;for(;i.hasNextSegment();){this.progress_();const e=i.nextSegment();if(Ph.isShortSegment(e,r,o,s))if(h){if(e.queryEnd(g),Ph.isShortSegmentPoints(l,g,r,o,s))continue;m&&(n.startPathPoint(l),m=!1),e.queryEnd(l),n.lineToPoint(l),h=!1}else u.assign(e.getStartXY()),e.queryStart(l),h=!0;else if(h)if(e.isCurve()){const t=e.clone();if(t.setCoordsForIntersector(u,e.getEndXY(),!1),t.setStart(l),Ph.isShortSegment(t,r,o,s))continue;n.addSegment(t,m),m=!1,h=!1}else{if(e.queryEnd(g),Ph.isShortSegmentPoints(l,g,r,o,s))continue;m&&(n.startPathPoint(l),m=!1),n.lineToPoint(g),h=!1}else n.addSegment(e,m),m=!1}if(m)return;if(!h)return;e.isClosedPath(t)?e.getPointByVal(e.getPathStart(t),l):e.getPointByVal(e.getPathEnd(t)-1,l);const c=n.querySegmentIterator();c.resetToLastPath(),c.resetToLastSegment();const _=n.getDescription().getAttributeCount()>1;for((0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(c.previousPath());c.hasPreviousSegment();){const e=c.previousSegment();if(e.isCurve()){const t=e.clone();if(t.setCoordsForIntersector(e.getStartXY(),l.getXY(),!1),!Ph.isShortSegment(t,r,o,s)){_&&t.setEnd(l);const e=c.getEndPointIndex();for(let t=n.getPointCount()-1;t>=e;t--)n.removePoint(t);return void n.addSegment(t,!1)}}else if(e.queryStart(g),!Ph.isShortSegmentPoints(g,l,r,o,s)){const e=c.getEndPointIndex();for(let t=n.getPointCount()-1;t>=e;t--)n.removePoint(t);return void n.lineToPoint(l)}}n.removePath(n.getPathCount()-1)}multipointIsSimpleAsFeature(){if(!this.checkStructure())return 0;const e=this.m_geometry.getImpl();this.m_multiVertexGeom=e;const t=e.getPointCount(),s=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.d)(t,0);for(let n=0;n<t;n++)s[n]=n;s.sort(((e,t)=>this.compareVerticesMultiPoint(e,t)));for(let n=1;n<t;n++)if(0===this.compareVerticesMultiPoint(s[n-1],s[n]))return this.m_nonSimpleResult=new _OperatorDefinitions_js__WEBPACK_IMPORTED_MODULE_10__.NonSimpleResult(5,s[n-1],s[n]),0;return 1}polylineIsSimpleAsFeature(){return this.checkStructure()&&this.checkDegenerateSegments(!0)?1:0}polygonIsSimpleAsFeature(){return this.isSimplePlanarImpl()}multipointSimplifyAsFeature(){let e=this.m_geometry.getImpl();const t=Ph.hasNanZs(e);let s,n=this.m_geometry;t&&(s=this.m_geometry.clone(),e=s.getImpl(),s.replaceNaNs(1,_Envelope_js__WEBPACK_IMPORTED_MODULE_3__.V.getDefaultValue(1)),n=s),this.m_multiVertexGeom=e;const r=e.getPointCount(),i=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.d)(r,0);for(let g=0;g<r;g++)i[g]=g;i.sort(((e,t)=>this.compareVerticesMultiPoint(e,t)));const o=new Array(r);o.fill(!1);let a=-1;for(let g=0;g<r;g++){const t=i[g];e.getXY(t).isFinite()&&((a<0||0!==this.compareVerticesMultiPoint(a,t))&&(o[t]=!0),a=t)}const h=this.m_geometry.createInstance();let m=0,l=0;for(let g=0;g<r;g++)o[g]?l=g+1:(m<l&&h.addPoints(n,m,l),m=g+1);return m<l&&h.addPoints(n,m,l),h.getImpl().setIsSimple(1,this.m_toleranceSimplify.total()),h}polylineSimplifyAsFeature(){const e=this.m_geometry.getImpl(),t=e.querySegmentIterator(),s=e.querySegmentIterator(),n=this.m_geometry.createInstance(),r=this.m_geometry,i=e.hasAttribute(1),o=i?(0,_Envelope_js__WEBPACK_IMPORTED_MODULE_3__.R)(this.m_sr,e,!0).total():0,a=[],h=[];let m=null;i&&(m=e.getAttributeStreamRef(1));const l=new _Envelope_js__WEBPACK_IMPORTED_MODULE_3__.P,g=e.hasNonLinearSegments(),u=this.m_toleranceSimplify.total();for(;t.nextPath();){if(s.nextPath(),e.getPathSize(t.getPathIndex())<2)continue;if(g&&e.hasNonLinearSegmentsPath(t.getPathIndex())){this.removeDegenerateSegmentsFromCurvedPath(e,t.getPathIndex(),o,n);continue}s.resetToLastSegment();let c=0,_=0,d=!0,p=!0;for(;t.hasNextSegment();){this.progress_();const n=t.nextSegment(),r=s.previousSegment();if(t.getStartPointIndex()>s.getStartPointIndex())break;if(d){const s=t.getStartPointIndex();e.getXY(s).isNAN()||(d=!1,a.push(s))}if(p){const t=s.getEndPointIndex();e.getXY(t).isNAN()||(h.push(t),p=!1)}if(!d){const s=a.at(-1),r=t.getEndPointIndex();if(r-s>1){const t=new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P;t.setSub(e.getXY(s),e.getXY(r)),c=t.length()}else c=n.calculateLength2D();if(c>u)a.push(r),c=0;else if(i){let e=m.read(s);Number.isNaN(e)&&(e=0);let t=m.read(r);Number.isNaN(t)&&(t=0),Math.abs(t-e)>o&&(a.push(r),c=0)}}if(!p){const t=h.at(-1),n=s.getStartPointIndex();if(n-t>1){const s=new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P;s.setSub(e.getXY(t),e.getXY(n)),_=s.length()}else _=r.calculateLength2D();if(_>u)h.push(n),_=0;else if(i){let e=m.read(t);Number.isNaN(e)&&(e=0);let s=m.read(n);Number.isNaN(s)&&(s=0),Math.abs(s-e)>o&&(h.push(n),_=0)}}}if(a.length>0&&h.length>0&&(a.at(-1)<h.at(-1)?a.length>h.length?a.pop():h.pop():(a.at(-1)===h.at(-1)||h.pop(),h.pop())),h.length+a.length>=2){let e=!1;for(let t=0,s=a.length;t<s;t++)r.getPointByVal(a[t],l),e?n.lineToPoint(l):(n.startPathPoint(l),e=!0);for(let t=h.length-1;t>0;t--)r.getPointByVal(h[t],l),e?n.lineToPoint(l):(n.startPathPoint(l),e=!0);r.isClosedPath(t.getPathIndex())?n.closePathWithLine():h.length>0&&(r.getPointByVal(h[0],l),n.lineToPoint(l))}a.length=0,h.length=0}return i&&n.replaceNaNs(1,0),n.getImpl().setIsSimple(1,u),n}polygonSimplifyAsFeature(){return this.simplifyPlanar()}simplifyPlanar(){if(1===this.m_geometry.getFillRule()&&!(0,_Envelope_js__WEBPACK_IMPORTED_MODULE_3__.X)(this.m_knownSimpleResult))return Ma(this.m_geometry,this.m_toleranceSimplify,!0,!1,this.m_knownSimpleResult,this.m_progressTracker,0,!0);const t=new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.E;if(t.addGeometry(this.m_geometry),this.m_geometry.hasAttribute(1)&&t.replaceNaNs(1,0),t.removeNaNVertices(),0!==t.getTotalPointCount()){let s=null,r=0,i=0;if(t.hasCurves()){s=new fa;const n=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D.constructEmpty();this.m_geometry.queryEnvelope(n);const o=_a(this.m_toleranceSimplify.total(),n);r=da(this.m_toleranceSimplify.total()),i=pa(o,r),aa(t,o,this.m_toleranceSimplify.total(),12e3,s,null,this.m_progressTracker)}if(!(0,_Envelope_js__WEBPACK_IMPORTED_MODULE_3__.X)(this.m_knownSimpleResult)){ya(t,this.m_toleranceSimplify.add(i),this.m_progressTracker,!0,!1)}this.m_geometry.getGeometryType()===_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumPolygon&&er(t,t.getFirstGeometry(),this.m_knownSimpleResult,!1,-1,this.m_progressTracker),null!==s&&s.stitchCurves(t,t.getFirstGeometry(),r,!0)}const s=t.getGeometry(t.getFirstGeometry());return s.getGeometryType()===_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumPolygon&&(s.getImpl().updateOGCFlagsProtected(),s.setFillRule(0)),s.getImpl().setIsSimple(4,this.m_toleranceSimplify.total()),s}progress_(){}static hasNanZs(e){if(e.hasAttribute(1)){const t=e.getAttributeStreamRef(1);for(let s=0,n=e.getPointCount();s<n;s++){const e=t.read(s);if(Number.isNaN(e))return!0}}return!1}compareVerticesForPlanarClustering(e,t,s){if(e===t)return 0;const n=this.m_pairs[e],r=this.m_pairs[t],i=n>>1,o=r>>1,a=this.m_xy.readPoint2D(2*i);a.y+=1&n?this.m_toleranceIsSimpleClustering:-this.m_toleranceIsSimpleClustering;const h=this.m_xy.readPoint2D(2*o);h.y+=1&r?this.m_toleranceIsSimpleClustering:-this.m_toleranceIsSimpleClustering;const m=a.compare(h);if(0===m&&s){const e=this.m_pathsForOGCTests[i]-this.m_pathsForOGCTests[o];return (0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.e)(e)}return m}compareVerticesMultiPoint(e,t){if(e===t)return 0;const s=this.m_multiVertexGeom.getXY(e),n=this.m_multiVertexGeom.getXY(t),r=!s.isFinite(),i=!n.isFinite();if(r||i)return r<i?-1:r>i?1:0;if(s.y<n.y)return-1;if(s.y>n.y)return 1;if(s.x<n.x)return-1;if(s.x>n.x)return 1;for(let o=1;o<this.m_attributeCount;o++){const s=this.m_description.getSemantics(o),n=_Envelope_js__WEBPACK_IMPORTED_MODULE_3__.V.getComponentCount(s);for(let r=0;r<n;r++){const n=this.m_multiVertexGeom.getAttributeAsDbl(s,e,r),i=this.m_multiVertexGeom.getAttributeAsDbl(s,t,r),o=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.r)(n,i);if(0!==o)return o}}return 0}edgeAngleCompare(e,t){if(e===t)return 0;const s=e.m_segment.getTangent(e.getReversed()?1:0);e.getReversed()&&s.negateThis();const n=t.m_segment.getTangent(t.getReversed()?1:0);t.getReversed()&&n.negateThis();const r=s.getQuarter(),i=n.getQuarter();if(i===r){const e=s.crossProduct(n);return e<0?1:e>0?-1:0}return r<i?-1:1}}class Eh{getOperatorType(){return 10103}accelerateGeometry(e,t,s){return!1}canAccelerateGeometry(e){return!1}supportsCurves(){return!0}isSimpleAsFeature(e,t,s,n,r){const i=oh(e,t,s,n,r);return (0,_Envelope_js__WEBPACK_IMPORTED_MODULE_3__.M)(e.getGeometryType(),i)}isSimplePlanarDONOTUSE(e,t,s,n,r){const i=rh(e,t,s,n,r);return (0,_Envelope_js__WEBPACK_IMPORTED_MODULE_3__.i)(i)}executeMany(e,t,s,n){return new Sh(e,t,s,n)}execute(e,t,s,n){const r=new _SimpleGeometryCursor_js__WEBPACK_IMPORTED_MODULE_9__.S([e]),o=this.executeMany(r,t,s,n).next();return o||(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.d)("null geometry"),o}}class Sh extends _SimpleGeometryCursor_js__WEBPACK_IMPORTED_MODULE_9__.G{constructor(e,t,s,n){super(),this.m_progressTracker=n,this.m_bForceSimplify=s,this.m_index=-1,this.m_inputGeometryCursor=e,this.m_spatialReference=t}next(){const e=this.m_inputGeometryCursor.next();return e?(this.m_index=this.m_inputGeometryCursor.getGeometryID(),this.simplify(e)):null}getGeometryID(){return this.m_index}tock(){return!1}getRank(){return 1}simplify(e){if(e||(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.a)(""),e.getGeometryType()===_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumGeometryCollection){const t=(0,_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.g)(e,-1),s=(new Eh).executeMany(t,this.m_spatialReference,this.m_bForceSimplify,this.m_progressTracker),n=e.createInstance();for(let e=s.next();null!=e;e=s.next())n.addGeometry(e);return n}return ah(e,this.m_spatialReference,this.m_bForceSimplify,this.m_progressTracker)}}function Ch(t,s,r){const i=new _Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D;t.queryEnvelope(i);const o=new _Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D;s.queryEnvelope(o);const a=new _Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D(o);if(a.inflate(2*r),!a.isIntersecting(i))return 4;const h=t.getGeometryType(),m=s.getGeometryType();if(h===_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumEnvelope&&i.containsEnvelope(a))return 1;if(m===_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumEnvelope){const t=new _Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D(i);if(t.inflate(2*r),o.containsEnvelope(t))return 2}return 0}class Ih{constructor(e,t,s,r){this.m_intersectorGeom=null,this.m_sr=null,this.m_dimensionMask=-1,this.m_progressTracker=null,this.m_intersectorGeomType=_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumUnknown,this.m_geomIntersectorEmptyGeom=null,this.m_intersectorGeom=e,this.m_sr=t,this.m_dimensionMask=s,this.m_progressTracker=r,this.m_intersectorGeomType=e.getGeometryType()}intersect(t){const s=this.tryFastImplementation(t);if(null!==s)return s;const n=(0,_Envelope_js__WEBPACK_IMPORTED_MODULE_3__.g)(this.m_intersectorGeom,t),r=(0,_Envelope_js__WEBPACK_IMPORTED_MODULE_3__.c)(this.m_sr,n,!0).total(),i=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D.constructEmpty();this.m_intersectorGeom.queryEnvelope(i);const o=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D.constructEmpty();t.queryEnvelope(o),i.inflateCoords(2*r,2*r),i.intersect(o),i.inflateCoords(100*r,100*r);const a=0;let h=(0,_OperatorClip_js__WEBPACK_IMPORTED_MODULE_7__.c)(this.m_intersectorGeom,i,a,0,this.m_progressTracker),m=(0,_OperatorClip_js__WEBPACK_IMPORTED_MODULE_7__.c)(t,i,a,0,this.m_progressTracker);return t.getDimension()>this.m_intersectorGeom.getDimension()&&(h=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.c)(m,m=h)),za(m,h,this.m_sr,this.m_progressTracker)}intersectEx(t){const s=this.tryFastImplementation(t);if(null!==s){const e=[];return e.length=3,e[s.getDimension()]=s,this.prepareVector(t.getDescription(),this.m_dimensionMask,e)}const n=(0,_Envelope_js__WEBPACK_IMPORTED_MODULE_3__.g)(this.m_intersectorGeom,t),r=(0,_Envelope_js__WEBPACK_IMPORTED_MODULE_3__.c)(this.m_sr,n,!0).total(),i=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D.constructEmpty();this.m_intersectorGeom.queryEnvelope(i);const o=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D.constructEmpty();t.queryEnvelope(o),i.inflateCoords(2*r,2*r),i.intersect(o),i.inflateCoords(100*r,100*r);const a=0;let h=(0,_OperatorClip_js__WEBPACK_IMPORTED_MODULE_7__.c)(this.m_intersectorGeom,i,a,0,this.m_progressTracker),m=(0,_OperatorClip_js__WEBPACK_IMPORTED_MODULE_7__.c)(t,i,a,0,this.m_progressTracker);t.getDimension()>this.m_intersectorGeom.getDimension()&&(h=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.c)(m,m=h));const l=Wa(m,h,this.m_sr,this.m_progressTracker);return this.prepareVector(t.getDescription(),this.m_dimensionMask,l)}init(e,t,s,n=null){(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(0)}static intersectPoints(e,t,s){const n=(0,_Envelope_js__WEBPACK_IMPORTED_MODULE_3__.g)(e,t);return La(e,t,(0,_Envelope_js__WEBPACK_IMPORTED_MODULE_3__.c)(s,n,!0))}tryFastImplementation(t){const s=t.getGeometryType();if(this.m_intersectorGeomType===_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumPoint&&s===_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumPoint){const e=Ih.intersectPoints(t,this.m_intersectorGeom,this.m_sr);if(-1!==this.m_dimensionMask){const t=new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.M({vd:e.getDescription()});return e.isEmpty()||t.add(e),t}return e}if(s===_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumEnvelope&&this.m_intersectorGeomType===_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumEnvelope&&(-1===this.m_dimensionMask||4===this.m_dimensionMask)){const e=t,s=this.m_intersectorGeom,n=new _Envelope_js__WEBPACK_IMPORTED_MODULE_3__.E({copy:e});return n.intersect(s),n}const r=(0,_Envelope_js__WEBPACK_IMPORTED_MODULE_3__.g)(t,this.m_intersectorGeom),o=(0,_Envelope_js__WEBPACK_IMPORTED_MODULE_3__.c)(this.m_sr,r,!0),a=t.isEmpty(),h=this.m_intersectorGeom.isEmpty();let l=a||h;if(!l){const e=Ch(this.m_intersectorGeom,t,o.total());if(4===e)l=!0;else{if(2&e)return this.m_intersectorGeom;if(1&e)return t}}if(l){const e=(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.z)(s),r=(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.z)(this.m_intersectorGeomType);return e<r?Ih.ReturnEmpty(t,a):e>r||0===e&&s===_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumMultiPoint&&this.m_intersectorGeomType===_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumPoint?this.ReturnEmptyIntersector():Ih.ReturnEmpty(t,a)}if(s===_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumEnvelope&&0===(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.z)(this.m_intersectorGeomType)||this.m_intersectorGeomType===_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumEnvelope&&0===(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.z)(s)){const r=s===_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumEnvelope?t:this.m_intersectorGeom,i=s===_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumEnvelope?this.m_intersectorGeom:t,a=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D.constructEmpty();return r.queryEnvelope(a),(0,_OperatorClip_js__WEBPACK_IMPORTED_MODULE_7__.c)(i,a,o.total(),0,this.m_progressTracker)}if(0===(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.z)(s)&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.z)(this.m_intersectorGeomType)>0||(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.z)(s)>0&&0===(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.z)(this.m_intersectorGeomType)){if(s===_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumMultiPoint)return Oa(t,this.m_intersectorGeom,o);if(s===_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumPoint)return Xa(t,this.m_intersectorGeom,o);if(this.m_intersectorGeomType===_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumMultiPoint)return Oa(this.m_intersectorGeom,t,o);if(this.m_intersectorGeomType===_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumPoint)return Xa(this.m_intersectorGeom,t,o);(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.d)("")}return null}ReturnEmptyIntersector(){return null===this.m_geomIntersectorEmptyGeom&&(this.m_geomIntersectorEmptyGeom=this.m_intersectorGeom.createInstance()),this.m_geomIntersectorEmptyGeom}static ReturnEmpty(e,t){return t?e:e.createInstance()}prepareVector(e,t,s){let n=0;return 1&t?(s[0]||(s[0]=new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.M({vd:e})),n++):s.shift(),2&t?(s[n]||(s[n]=new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.P({vd:e})),n++):s.splice(n,1),4&t?s[n]||(s[n]=new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.a({vd:e})):s.splice(n,1),new _SimpleGeometryCursor_js__WEBPACK_IMPORTED_MODULE_9__.S(s)}}class bh extends _SimpleGeometryCursor_js__WEBPACK_IMPORTED_MODULE_9__.G{constructor(e,s,n,r,i){super(),this.m_smallCursor=null,this.m_progressTracker=r,this.m_geomIntersector=s.next(),this.m_intersector=new Ih(this.m_geomIntersector,n,i,r),this.m_index=-1,this.m_inputGeoms=e,this.m_dimensionMask=i,-1!==this.m_dimensionMask&&(this.m_dimensionMask<=0||this.m_dimensionMask>7)&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.a)("bad dimension mask")}next(){if(!this.m_geomIntersector)return null;let e;if(null!==this.m_smallCursor){if(e=this.m_smallCursor.next(),e)return e;this.m_smallCursor=null}for(;e=this.m_inputGeoms.next();){if((0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.c)(e),this.m_index=this.m_inputGeoms.getGeometryID(),-1===this.m_dimensionMask){return this.m_intersector.intersect(e)}this.m_smallCursor=this.m_intersector.intersectEx(e);return this.m_smallCursor.next()}return null}getGeometryID(){return this.m_index}tock(){return!0}getRank(){return 1}}class wh{getOperatorType(){return 1e4}accelerateGeometry(e,t,s){if(!this.canAccelerateGeometry(e))return!1;(0,_Envelope_js__WEBPACK_IMPORTED_MODULE_3__.b)(t,e,!0);let r=0;return e.getGeometryType()!==_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumPolygon&&e.getGeometryType()!==_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumPolyline||!(0,_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.I)(e)||0===s||(r|=e.getImpl().buildQuadTreeAccelerator(s)?1:0),!!r}canAccelerateGeometry(e){return (0,_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.I)(e)}supportsCurves(){return!0}executeMany(e,t,s,n,r=-1){return new bh(e,t,s,n,r)}execute(e,t,s,r){if(e.getGeometryType()===_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumPoint&&t.getGeometryType()===_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumPoint)return Ih.intersectPoints(e,t,s);const o=new _SimpleGeometryCursor_js__WEBPACK_IMPORTED_MODULE_9__.S([e]),a=new _SimpleGeometryCursor_js__WEBPACK_IMPORTED_MODULE_9__.S([t]),h=this.executeMany(o,a,s,r,-1).next();return h||(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.d)("null output"),h}}function vh(e,t,s){return t.m_projector.project(e,s)}function Nh(e,t,s,n,r){e.m_projector.transformInPlaceZ(t,null,s,n,null,r);const i=n.slice(0,s).filter((e=>!e.isNAN()));for(let o=0,a=i.length;o<a;++o)n[o].assign(i[o]);return i.length}function Th(e,t,s,n,r){return e.m_projector.transformInPlaceZ(t,null,s,n,null,r)}function Gh(s,i,a,h){if(s&&i&&i.isPannable()||(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.a)("fold_into_360_range_geodetic"),s.isEmpty())return s;if(4===a)return Dh(s,i,h);let m=s;const l=m.getGeometryType();if((0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.h)(l)){m=Al(s,i);const t=new _Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D;m.queryEnvelope(t);const n=(0,_Envelope_js__WEBPACK_IMPORTED_MODULE_3__.c)(i,t,!1).total(),r=i.getPannableExtent();let o=Math.floor((t.xmin-r.xmin)/r.width())*r.width()+r.xmin,h=m;for(;o<t.xmax;)o>t.xmin+n&&o<t.xmax-n&&(h=Hl(h,i,a,!0,o)),o+=r.width();m=h}else{if(l===_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumEnvelope){const e=new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.a({vd:m.getDescription()});return e.addEnvelope(m,!1),Gh(e,i,a,h)}if((0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.f)(l)){const e=new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.P({vd:m.getDescription()});return e.addSegment(m,!0),Gh(e,i,a,h)}}return Dh(m,i,h)}function Dh(e,s,i){if(e&&s&&s.isPannable()||(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.a)(""),e.isEmpty())return e;let o;const a=e.getGeometryType();if(a===_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumEnvelope){const t=new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.a({vd:e.getDescription()});t.addEnvelope(e,!1),o=t}else if((0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.f)(a)){const t=new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.P({vd:e.getDescription()});t.addSegment(e,!0),o=t}else o=e;const h=Al(o,s);return h.isEmpty()?h:vl(h,s,0,h!==e,0,i)}function Vh(e,t,s){if(!t.isPannable()||e.isEmpty())return e;const n=t.getPannableExtent().width(),r=.5*n,i=e.queryInterval(0,0);if(i.width()<r||!(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.i)(e.getGeometryType())){if(Number.isNaN(s))return e;const t=i.getCenter();if(Math.abs(t-s)<=r)return e;{const r=new _Transformation2D_js__WEBPACK_IMPORTED_MODULE_6__.T,i=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.ax)((s-t)/n)*n;r.setShiftCoords(i,0);const o=e.clone();return o.applyTransformation(r),o}}const a=e.getGeometryType(),h=e,m=h.getAttributeStreamRef(0),l=e.clone(),g=l.getAttributeStreamRef(0);let u=0,c=0,_=0,p=(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.h)(a)?0:-1;const f=_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.E.constructEmpty();let x=!1;for(let d=0,y=h.getPointCount();d<y;d++){const e=m.read(2*d);d===c&&((0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.h)(a)?(0===p&&Number.isNaN(s)&&(x=!0),p>0&&Number.isNaN(s)&&(s=f.getCenter(),x=!1),c=h.getPathEnd(p),p++):c=h.getPointCount(),Number.isNaN(s)?_=e:(_=s,u=0));let t=e-_;Math.abs(t)>r&&(t=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.ax)(t/n)*n,u-=t,Math.abs(u)<.1*n&&(u=0));const i=e+u;g.write(2*d,i),x&&f.mergeCoordinate(i),_=e}return l.notifyModified(),l}const Fh="missing implementation";function Hh(t,s,n,r){const o=s.getCoordinateSystemType();if(0===o){const e=new ac;return s.queryPrecisionDescriptor(e),kh(t,e,s,n)}let a=t;2!==r&&3!==r||!s.isPannable()||(a=Dh(a,s,n));const h=new ac;if(s.queryPrecisionDescriptor(h),a=kh(a,h,s,n),0===r||a.isEmpty())return a;if(1===o){if(1===r){const t=new _Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D;a.queryLooseEnvelope(t);const r=s.getPannableExtent(),i=.01*r.width();return r.xmin=t.xmin-i,r.xmax=t.xmax+i,(new _OperatorClip_js__WEBPACK_IMPORTED_MODULE_7__.O).execute(a,r,s,n)}return a}if(2===o){const e=s.getPCSHorizon();if(1===r||2===r){const t=(new wh).execute(a,e,s,n);return t===e?t.clone():t}return a}if(3===o)return a;(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.d)(Fh)}function kh(e,t,s,n){const r=t.getXYGridRange(),i=e.hasAttribute(1),o=e.hasAttribute(2);let a=new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.E,h=new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.E;i&&(a=t.getZGridRange()),o&&(h=t.getMGridRange());let m=(new _OperatorClip_js__WEBPACK_IMPORTED_MODULE_7__.O).execute(e,r,s,n);if(i){const t=m.queryInterval(1,0);a.contains(t)||(e===m&&(m=m.clone()),(0,_Envelope_js__WEBPACK_IMPORTED_MODULE_3__.a5)(m,a,1,0))}if(o){const t=m.queryInterval(2,0);h.contains(t)||(e===m&&(m=m.clone()),(0,_Envelope_js__WEBPACK_IMPORTED_MODULE_3__.a5)(m,h,2,0))}return m}class Ah{constructor(e){this.m_inputPCSHorizonClipOption=0,this.m_outputPCSHorizonClipOption=0,this.m_bDontGeonormalizePolygon=!1,this.m_bClipOutCurvedPoles=!1,this.m_bNormalizeOutputGeometry=!1,this.m_bDontHackPolesInGeogToGeog=!1,this.m_centralMeridianOfOutputGCS=0,this.m_densificationStepInput=0,e||(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.a)(""),this.m_projTransform=e,this.m_bClipOutCurvedPoles=!1;const s=this.m_projTransform.getExtendedParamsImpl();this.m_bNormalizeOutputGeometry=s.normalizeResultGeometry,this.m_bNormalizeOutputGeometry&&(s.legacyHorizonClipping?this.m_bNormalizeOutputGeometry=!1:this.m_projTransform.getOutputSR().isPannable()||(this.m_bNormalizeOutputGeometry=!1)),s.clipWithInputHorizon?(this.m_inputPCSHorizonClipOption=0,!s.legacyHorizonClipping&&this.m_projTransform.getInputSR().isPannable()&&(this.m_inputPCSHorizonClipOption=this.m_bNormalizeOutputGeometry?4:2)):this.m_inputPCSHorizonClipOption=1,s.clipWithOutputHorizon?(this.m_outputPCSHorizonClipOption=0,!s.legacyHorizonClipping&&this.m_projTransform.getOutputSR().isPannable()&&(this.m_outputPCSHorizonClipOption=this.m_bNormalizeOutputGeometry?4:2)):this.m_outputPCSHorizonClipOption=1,this.m_centralMeridianOfOutputGCS=s.centralMeridianOfOutputGCS,this.m_densificationStepInput=s.densificationStep;const n=this.m_projTransform.getExtendedParamsInternal();this.m_bDontGeonormalizePolygon=n.hasFlag(2147483648),this.m_bDontHackPolesInGeogToGeog=n.hasFlag(1073741824),this.m_bClipOutCurvedPoles=n.hasFlag(536870912)}project(e,t){if(this.m_projTransform.isIdentity()||e.isEmpty())return e;const s=e.getGeometryType();if(s===_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumPoint)return this.projectPoint(e,t);const r=this.m_projTransform.getInputSR().getCoordinateSystemType(),o=this.m_projTransform.getOutputSR().getCoordinateSystemType(),a=this.m_projTransform.getInputSR(),h=this.m_projTransform.getOutputSR();if(0===r&&r===o){const t=Uh(a,h),s=e.clone();return s.applyTransformation(t),s}switch(s){case _Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumPolyline:case _Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumPolygon:return this.projectMultiPath(e,t);case _Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumMultiPoint:return this.projectMultiPoint(e,t);case _Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumEnvelope:return this.projectEnvelope(e,t);case _Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumGeometryCollection:return this.projectGeometryCollection(e,t);default:(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.d)("")}}projectPoint(e,t){const s=[e.getXY()];let n,r=null;(n=e.hasAttribute(1))&&(r=[e.getZ()]),this.transformInPlaceZ(s,r,1,s,r,null);const i=e.clone();return i.setXY(s[0]),n&&i.setZ(r[0]),i}projectMultiPoint(e,t){let s=new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.M({copy:e});const n=this.m_projTransform.getInputSR(),r=this.m_projTransform.getOutputSR(),i=n.getCoordinateSystemType(),o=r.getCoordinateSystemType();if(3===i&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(0),s=Xl(s,n,this.m_inputPCSHorizonClipOption,t),s.isEmpty())return s;2===i&&$l(n,0,s),gg(this.m_projTransform,s,!1);let h=0;3===o&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(0);const m=2===o;return m?h=r.getCentralMeridian():Number.isNaN(this.m_centralMeridianOfOutputGCS)||(h=this.m_centralMeridianOfOutputGCS),m&&0!==this.m_outputPCSHorizonClipOption||(s=vl(s,Zu(r),h,!1,0,t)),m&&(s=Sl(s,r,this.m_outputPCSHorizonClipOption,t),Kl(r,s,this.m_bNormalizeOutputGeometry),s.isEmpty()),s}projectMultiPath(e,t){const s=e.getGeometryType();return s===_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumPolygon?this.projectPolygon(e,t):s===_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumPolyline?this.projectPolyline(e,t):void (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.d)("project_multi_path_")}projectEnvelope(e,t){this.m_projTransform.getInputSR(),this.m_projTransform.getOutputSR();const s=this.m_projTransform.isVertical()&&e.hasAttribute(1);let n=_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.E.constructEmpty();if(s&&(n=e.queryInterval(1,0)),n.width()>0){const s=e.clone();s.setInterval(1,0,n.vmin,n.vmin);const r=this.projectEnvelopeHelper(s,t);s.setInterval(1,0,n.vmax,n.vmax);const i=this.projectEnvelopeHelper(s,t);return r.merge(i),r}return this.projectEnvelopeHelper(e,t)}projectPolygon(t,s){(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(t.getGeometryType()===_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumPolygon),(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(!this.m_projTransform.isIdentity()),(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(!t.isEmpty());const r=this.m_projTransform.getInputSR(),i=this.m_projTransform.getOutputSR(),o=r.getCoordinateSystemType(),h=i.getCoordinateSystemType(),m=new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.a({copy:t});3===o&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(0),3===h&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(0);const l=2===o,g=2===h,u=l?r.getGCS():r,c=g?i.getGCS():i,_=!g&&!this.m_bDontHackPolesInGeogToGeog;let d=!1,p=Xl(m,r,this.m_inputPCSHorizonClipOption,s);if(p.isEmpty())return p;let f=this.m_densificationStepInput;const x=!Number.isNaN(f);let y;x&&(p=(new _OperatorDensify_js__WEBPACK_IMPORTED_MODULE_8__.O).execute(p,f,0,0,s));let P=g?i.getPCSInfo():null,E=Number.NaN;l&&(E=r.getCentralMeridian());const S=null!==i.getGCSSplitLines();if(this.m_bDontGeonormalizePolygon){const e=p;if(l&&(hg(r,E,e),x)){const e=r.getUnitsPerMillimeter();f*=r.getGCS().getUnitsPerMillimeter()/e}if(cg(this.m_projTransform,e,_),x){const e=r.getGCS().getUnitsPerMillimeter();f*=i.getGCS().getUnitsPerMillimeter()/e}y=e}else{let t=new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.P({vd:p.getDescription()});if(t.addAndExplicitlyOpenAllPaths(p,!1),l){if(hg(r,E,t),x){const e=r.getUnitsPerMillimeter();f*=r.getGCS().getUnitsPerMillimeter()/e}if(this.m_bClipOutCurvedPoles){const n=r.getPCSInfo(),i=n.getSouthPoleGeometry()===Nc.PE_POLE_LINE_CURVED,o=n.getNorthPoleGeometry()===Nc.PE_POLE_LINE_CURVED;if(i||o){const n=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D.constructEmpty();t.queryLooseEnvelope(n),n.inflateCoords(1,1);const r=89.9999*u.getOneDegreeGCSUnit();i&&(n.ymin=-r),o&&(n.ymax=r),t=(0,_OperatorClip_js__WEBPACK_IMPORTED_MODULE_7__.a)(t,n,u,0,0,s)}}}if(cg(this.m_projTransform,t,_),x){const e=Zu(r).getUnitsPerMillimeter();f*=Zu(i).getUnitsPerMillimeter()/e}let n=Number.NaN;g?(P=i.getPCSInfo(),n=i.getCentralMeridian()):Number.isNaN(this.m_centralMeridianOfOutputGCS)||(n=this.m_centralMeridianOfOutputGCS);let o=Mh(r)|Mh(i),a=10*c.getTolerance(0);this.m_bDontHackPolesInGeogToGeog&&(o=3,a=10*c.getTolerance(0)),y=Vl(p,r,t,c,n,s,o,a,this.m_bNormalizeOutputGeometry),o=0}if(S&&((0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(!i.isPannable()),y=cl(y,i,s)),g){if(!d){const e=c.getPannableExtent().width();if(y.queryInterval(0,0).width()>=e-10*c.getTolerance(0)){const e=P.getNorthPoleLocation(),t=P.getSouthPoleLocation(),s=P.getNorthPoleGeometry(),n=P.getSouthPoleGeometry();let r=0;s===Nc.PE_POLE_POINT&&e!==Nc.PE_POLE_OUTSIDE_BOUNDARY&&(r=1),n===Nc.PE_POLE_POINT&&t!==Nc.PE_POLE_OUTSIDE_BOUNDARY&&(r|=2),d||=0!==r}}y=Sl(y,i,this.m_outputPCSHorizonClipOption,s),x&&(y=(new _OperatorDensify_js__WEBPACK_IMPORTED_MODULE_8__.O).execute(y,f,0,0,s)),Jl(i,y,this.m_bNormalizeOutputGeometry)}return y.isEmpty()||d&&(y=(new Eh).execute(y,i,!1,s)),y}projectPolyline(e,t){(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(e.getGeometryType()===_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumPolyline),(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(!this.m_projTransform.isIdentity()),(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(!e.isEmpty());const s=this.m_projTransform.getInputSR(),r=this.m_projTransform.getOutputSR(),i=s.getCoordinateSystemType(),o=r.getCoordinateSystemType(),h=new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.P({copy:e});3===i&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(0),3===o&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(0);const m=2===i,l=2===o;m&&s.getGCS();const g=l?r.getGCS():r,u=!l&&!this.m_bDontHackPolesInGeogToGeog;let c=Xl(h,s,this.m_inputPCSHorizonClipOption,t);if(c.isEmpty())return c;let _=Number.NaN;m&&(_=s.getCentralMeridian());const d=null!==r.getGCSSplitLines();let p=this.m_densificationStepInput;const f=!Number.isNaN(p);let x;if(f&&(c=(new _OperatorDensify_js__WEBPACK_IMPORTED_MODULE_8__.O).execute(c,p,0,0,t)),this.m_bDontGeonormalizePolygon){if(m&&(hg(s,_,c),f)){const e=s.getUnitsPerMillimeter();p*=s.getGCS().getUnitsPerMillimeter()/e}if(cg(this.m_projTransform,c,u),f){const e=s.getGCS().getUnitsPerMillimeter();p*=r.getGCS().getUnitsPerMillimeter()/e}x=c}else{const e=new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.P({vd:c.getDescription()});if(e.addAndExplicitlyOpenAllPaths(c,!1),m&&(hg(s,_,e),f)){const e=s.getUnitsPerMillimeter();p*=s.getGCS().getUnitsPerMillimeter()/e}if(cg(this.m_projTransform,e,u),f){const e=s.getGCS().getUnitsPerMillimeter();p*=r.getGCS().getUnitsPerMillimeter()/e}let n=Number.NaN;l?n=r.getCentralMeridian():Number.isNaN(this.m_centralMeridianOfOutputGCS)||(n=this.m_centralMeridianOfOutputGCS);let i=Mh(s)|Mh(r),o=10*g.getTolerance(0);this.m_bDontHackPolesInGeogToGeog&&(i=3,o=0),x=Fl(c,s,e,g,n,t,i,o,this.m_bNormalizeOutputGeometry),i=0}return d&&((0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(!r.isPannable()),x=cl(x,r,t)),l&&(x=Sl(x,r,this.m_outputPCSHorizonClipOption,t),f&&(x=(new _OperatorDensify_js__WEBPACK_IMPORTED_MODULE_8__.O).execute(x,p,0,0,t)),Jl(r,x,this.m_bNormalizeOutputGeometry)),x.isEmpty(),x}projectGeometryCollection(e,t){return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(0),{}}projectEnvelopeHelper(t,s){const n=(t.height()+t.width())/400;if(0!==n){const r=(new _OperatorDensify_js__WEBPACK_IMPORTED_MODULE_8__.O).execute(t,n,0,0,s),i=this.projectMultiPath(r,s),o=new _Envelope_js__WEBPACK_IMPORTED_MODULE_3__.E({vd:t.getDescription()});if(i.isEmpty()){const n=Math.min(t.height(),t.width()),i=(0,_Envelope_js__WEBPACK_IMPORTED_MODULE_3__.b)(this.m_projTransform.getInputSR(),t,!0).total();if(n>100*i){const t=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D.constructEmpty(),s=(0,_Envelope_js__WEBPACK_IMPORTED_MODULE_3__.c)(this.m_projTransform.getOutputSR(),t,!0).total(),r=this.m_projTransform.getInputSR().getOneMeter()/this.m_projTransform.getOutputSR().getOneMeter();if(n>100*Math.max(i,s*r))return o}const a=new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.P;a.addAndExplicitlyOpenAllPaths(r,!1);this.projectMultiPath(a,s).queryEnvelope(o);const h=new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.M({vd:t.getDescription()});h.reserve(4);const m=new _Envelope_js__WEBPACK_IMPORTED_MODULE_3__.P;for(let e=0;e<4;e++)t.queryCornerByVal(e,m),h.add(m);const l=this.projectMultiPoint(h,s),g=new _Envelope_js__WEBPACK_IMPORTED_MODULE_3__.E;return l.queryEnvelope(g),o.merge(g),o}return i.queryEnvelope(o),o}{const e=t.getCenterXY(),n=new _Envelope_js__WEBPACK_IMPORTED_MODULE_3__.P(e),r=this.projectPoint(n,s),i=new _Envelope_js__WEBPACK_IMPORTED_MODULE_3__.E({vd:t.getDescription()});if(r.isEmpty())i.setEmpty();else{t.copyTo(i);const e=r.getXY();i.setCoords(e.x,e.y,e.x,e.y)}return i}}transformInPlace(e,t,s,n){return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(0),0}transformInPlaceZ(e,t,s,n,r,i){if(this.m_projTransform.isIdentity())return e!==n&&(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.aw)(n,e,s),t!==r&&(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.b)(r,t,0,0,s),s;const o=this.m_projTransform,h=o.getInputSR(),m=o.getOutputSR(),l=h.getCoordinateSystemType(),g=m.getCoordinateSystemType();if(0===l&&l===g){return Uh(h,m).transformPoints2D(e,s,n),o.isVertical()&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(0),s}3===l&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.t)("image: transform_in_place_"),3===g&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.t)("image: transform_in_place_"),Ll(e,s,n,h,this.m_inputPCSHorizonClipOption),r!==t&&(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.b)(r,t,0,0,s),2===l&&mg(h,0,n,s),fg(this.m_projTransform,n,r,s,!1);let c=0;const _=2===g;if(_?c=m.getCentralMeridian():Number.isNaN(this.m_centralMeridianOfOutputGCS)||(c=this.m_centralMeridianOfOutputGCS),_&&0!==this.m_outputPCSHorizonClipOption||Nl(n,s,m.getGCS(),c),_){if(!wl(n,s,m,this.m_outputPCSHorizonClipOption))for(let e=0;e<s;++e)n[e].setNAN();Wl(m,n,s,!1)}let d=s;for(let a=0;a<s;++a)n[a].isNAN()&&(r&&(r[a]=Number.NaN),d--);return d}}function Mh(e){if(2!==e.getCoordinateSystemType())return 0;let t=0;const s=e.getPCSInfo(),n=s.getNorthPoleLocation(),r=s.getSouthPoleLocation(),i=s.getNorthPoleGeometry(),o=s.getSouthPoleGeometry();return i===Nc.PE_POLE_POINT&&n!==Nc.PE_POLE_OUTSIDE_BOUNDARY&&(t=1),o===Nc.PE_POLE_POINT&&r!==Nc.PE_POLE_OUTSIDE_BOUNDARY&&(t|=2),t}function Uh(e,t){const s=e.getHorzUnitFactor(),n=t.getHorzUnitFactor();let r=1,i=1;const o=20015077/180;1===e.getUnit().getUnitType()&&(r=o),1===t.getUnit().getUnitType()&&(i=o);const a=s/n*(r!==i?r/i:1),h=new _Transformation2D_js__WEBPACK_IMPORTED_MODULE_6__.T;return h.setScaleCoords(a,a),h}let qh=class{getOperatorType(){return 10300}supportsCurves(){return!0}accelerateGeometry(e,t,s){return!1}canAccelerateGeometry(e){return!1}executeMany(e,t,s){return!t||t.isIdentity()?e:new Bh(e,t,s)}execute(e,t,s){return t.isIdentity()?e:vh(e,t,s)}transform(e,t,s,n,r=!0){return r?Nh(e,t,s,n,null):Th(e,t,s,n,null)}transform3D(e,t,s,n,r=!0){return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(0),0}foldInto360Range(e,t){return Dh(e,t,null)}foldInto360RangeGeodetic(e,t,s){return Gh(e,t,s,null)}normalizeGeometryEx(e,t,s,n,r=0){return Tm(e,t,s,n,r)}normalizeGeometry(e,t,s){return Vh(e,t,s)}clipToSpatialReference(e,t,s,n=0){return Hh(e,t,s,n)}};class Bh extends _SimpleGeometryCursor_js__WEBPACK_IMPORTED_MODULE_9__.G{constructor(e,s,n){super(),this.m_projTrans=s,this.m_progressTracker=n,this.m_index=-1,e||(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.a)(""),this.m_inputGeoms=e}next(){const e=this.m_inputGeoms.next();return null!=e?((0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.o)(e),(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.c)(e),this.m_index=this.m_inputGeoms.getGeometryID(),vh(e,this.m_projTrans,this.m_progressTracker)):null}getGeometryID(){return this.m_index}tock(){return!0}getRank(){return 1}}function Oh(e,i,h,m,l,g,u=!1){e||(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.a)("Geometry.Geodetic_densify.densify");let c=e.getGeometryType();if((0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.c)(e),e.isEmpty()||(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.e)(c))return e;const _=new Wh;_.m_sr=i,_.m_gcs=i.getGCS(),_.m_transform=_.m_gcs!==i?i.getSRToGCSTransform():null,_.m_progressTracker=g;const d=Hu();let f,x,y;if(_.m_gcs.querySpheroidData(d),_.m_a=d.majorSemiAxis,_.m_eSquared=d.e2,_.m_rpu=_.m_gcs.getUnit().getUnitToBaseFactor(),_.m_gcsTolerance=_.m_gcs.getTolerance(0),_.m_radTolerance=_.m_gcsTolerance*_.m_rpu,_.m_maxLength=m,_.m_maxDeviation=l,_.m_curveType=h,c===_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumEnvelope){const t=new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.a({vd:e.getDescription()});t.addEnvelope(e,!1),f=t,c=_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumPolygon}else if((0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.f)(c)){const t=new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.P({vd:e.getDescription()});t.addSegment(e,!0),f=t,c=_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumPolyline}else f=e;if(4!==_.m_curveType){if((0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)((0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.h)(c)),x=_.replaceCurvesWithLinesAndProjectToGCSAsMultiPoint_(f),x.isEmpty())return x;x=Yh(_.m_rpu,x);let e=_.geodeticDensify(x);u||(e=(new qh).foldInto360RangeGeodetic(e,_.m_gcs,_.m_curveType)),y=_.m_transform&&!_.m_transform.isIdentity()?(new qh).execute(e,_.m_transform.getInverse(),g):e}else{let e;if((0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)((0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.h)(c)),i.isPannable())e=Al(f,i);else{const t=i.getPCSHorizon();e=(new wh).execute(f,t,i,g),e===t&&(e=t.clone())}if(x=e,x.isEmpty())return x;y=_.shapePreservingDensify(x)}return y}function Yh(t,s){const n=new _Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D;if(s.queryLooseEnvelope(n),n.width()*t<Math.PI)return s;let r=!1;const i=s.querySegmentIterator(),o=new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P,a=new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P;for(;i.nextPath();)for(;i.hasNextSegment();){const e=i.nextSegment();if(o.setCoordsPoint2D(e.getStartXY()),a.setCoordsPoint2D(e.getEndXY()),o.scale(t),a.scale(t),Math.abs(o.x-a.x)>Math.PI){if(!Xh(o,a)){r=!0;break}if(Math.abs(o.x-a.x)>2*Math.PI){r=!0;break}}}if(!r)return s;const h=s.createInstance();h.reserve(s.getPointCount());const m=s.getDescription().getAttributeCount()>1,l=new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P,g=new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P,u=new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P(0,0),c=new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P(0,0),_=new _Envelope_js__WEBPACK_IMPORTED_MODULE_3__.P;for(i.resetToFirstPath();i.nextPath();){let e=Number.NaN,s=0;for(;i.hasNextSegment();){const n=i.nextSegment();o.setCoordsPoint2D(n.getStartXY()),a.setCoordsPoint2D(n.getEndXY()),o.scale(t),a.scale(t),Number.isNaN(e)?(s=im(o.x,Number.NaN,s),u.setCoordsPoint2D(o)):u.setCoordsPoint2D(c),e=u.x;if(Xh(o,a)){if(a.x-o.x>2*Math.PI)for(;a.x-o.x>2*Math.PI;)a.x-=2*Math.PI;else if(a.x-o.x<2*-Math.PI)for(;a.x-o.x<2*-Math.PI;)a.x+=2*Math.PI;s=im(a.x,Number.NaN,s),c.setCoordsPoint2D(a)}else l.setCoordsPoint2D(a),gm(l),s=im(l.x,e,s),c.setCoords(s+l.x,l.y);if(Math.abs(c.x-a.x)<.5&&c.setCoordsPoint2D(a),m){n.queryCoord(0,_),g.setCoordsPoint2D(u),g.scale(1/t),_.setXY(g);i.isFirstSegmentInPath()?h.startPathPoint(_):h.lineToPoint(_),i.isLastSegmentInPath()&&!i.isPathClosed()&&(n.queryCoord(1,_),g.setCoordsPoint2D(c),g.scale(1/t),_.setXY(g),h.lineToPoint(_))}else{i.isFirstSegmentInPath()&&h.insertPath2D(-1,null,0,0,!0);const e=h.getPathCount()-1;g.setCoordsPoint2D(u),g.scale(1/t),h.insertPoint2D(e,-1,g),i.isLastSegmentInPath()&&!i.isPathClosed()&&(g.setCoordsPoint2D(c),g.scale(1/t),h.insertPoint2D(e,-1,g))}}}return h}function Rh(e,t,s,n,r,i,o,a,h,m,l,g){const u=new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P,c=new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P,_=n.compare(r)>0;nm(_,n,r,u,c);const d=Kh(e,t,s,u,c,i,o,a,h,m,null,l,g);return _&&sm(h,m,null,l),d}function Xh(e,t){return!(!Pc(e.y,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.o)||!Pc(t.y,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.o))||!(!Pc(e.y,-_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.o)||!Pc(t.y,-_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.o))}function Lh(e,t){return!(!Pc(e.y,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.o)||Pc(t.y,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.o))||!(!Pc(e.y,-_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.o)||Pc(t.y,-_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.o))}function zh(e,t){return!(!Pc(t.y,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.o)||Pc(e.y,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.o))||!(!Pc(t.y,-_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.o)||Pc(e.y,-_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.o))}class Wh{constructor(){this.m_sr=null,this.m_gcs=null,this.m_transform=null,this.m_progressTracker=null,this.m_a=0,this.m_eSquared=0,this.m_rpu=0,this.m_gcsTolerance=0,this.m_radTolerance=0,this.m_maxLength=0,this.m_maxDeviation=0,this.m_curveType=0}geodeticDensify(e){const t=e.createInstance(),s=e.querySegmentIterator(),n=[],r=[],i=new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.S,o=e.getDescription().getAttributeCount()>1;for(;s.nextPath();){const e=[0];for(;s.hasNextSegment();){const a=s.nextSegment(),h=a.getStartXY(),m=a.getEndXY();h.scale(this.m_rpu),m.scale(this.m_rpu);const l=new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P,g=new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P,u=h.compare(m)>0;nm(u,h,m,l,g),n.length=0,r.length=0,this.m_maxLength>0?Kh(this.m_a,this.m_eSquared,this.m_curveType,l,g,this.m_maxLength,this.m_maxDeviation,this.m_radTolerance,null,null,o?r:null,n,e):Qh(),u&&sm(null,null,o?r:null,n),n[0].setCoordsPoint2D(a.getStartXY()),n.at(-1).setCoordsPoint2D(a.getEndXY());const c=1/this.m_rpu;for(let e=1,t=n.length-1;e<t;e++)n[e].scale(c);if(o){const e=rm(u,a,i);Zh(s.isFirstSegmentInPath(),s.isLastSegmentInPath()&&!s.isPathClosed(),a,e,r,n,t)}else jh(s.isFirstSegmentInPath(),s.isLastSegmentInPath()&&!s.isPathClosed(),n,t)}}return t}shapePreservingDensify(e){const t=e.createInstance(),s=e.querySegmentIterator(),n=[],r=[],i=new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.S,o=e.getDescription().getAttributeCount()>1;for(;s.nextPath();)for(;s.hasNextSegment();){const e=s.nextSegment(),a=e.getStartXY(),h=e.getEndXY(),m=a.compare(h)>0,l=rm(m,e,i);n.length=0,r.length=0,tm(this.m_a,this.m_eSquared,this.m_rpu,l,this.m_sr,this.m_maxLength,this.m_maxDeviation,o?r:null,n),m&&sm(null,null,o?r:null,n),o?Zh(s.isFirstSegmentInPath(),s.isLastSegmentInPath()&&!s.isPathClosed(),e,l,r,n,t):jh(s.isFirstSegmentInPath(),s.isLastSegmentInPath()&&!s.isPathClosed(),n,t)}return t}replaceCurvesWithLinesAndProjectToGCSAsMultiPoint_(e){const t=e.hasNonLinearSegments();if((!this.m_transform||this.m_transform.isIdentity())&&(e=Al(e,this.m_gcs),!t))return e;const s=e.createInstance();s.reserveParts(e.getPointCount(),e.getPathCount());for(let n=0,r=e.getPathCount();n<r;++n){let t=new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.M;const r=e.getPathStart(n),i=e.getPathEnd(n);t.addPoints(e,r,i);const o=e.isClosedPath(n);let a=!1;if(o&&i-r===1&&e.hasNonLinearSegmentsPath(n)){const s=new _Envelope_js__WEBPACK_IMPORTED_MODULE_3__.P;e.getPointByVal(r,s),t.add(s),a=!0}if(this.m_transform&&!this.m_transform.isIdentity()){if(o&&!a){const s=new _Envelope_js__WEBPACK_IMPORTED_MODULE_3__.P;e.getPointByVal(r,s),t.add(s)}if(t=(new qh).execute(t,this.m_transform,this.m_progressTracker),o&&t.getPointCount()>1){const e=t.getXY(0),s=t.getXY(t.getPointCount()-1);e.equals(s)&&t.removePoint(t.getPointCount()-1)}}t.getPointCount()>1&&(s.addPathMultiPoint(t,0,-1,!0),o&&s.closePathWithLine())}return s}}function jh(e,t,s,n){e&&n.insertPath2D(-1,null,0,0,!0);const r=n.getPathCount()-1;n.insertPointsFromPoints(r,-1,s,0,s.length-1,!0),t&&n.insertPoint2D(r,-1,s.at(-1))}function Zh(e,t,s,n,r,i,o){o.reserve(o.getPointCount()+i.length-1);const a=new _Envelope_js__WEBPACK_IMPORTED_MODULE_3__.P;if(s.queryStart(a),e?o.startPathPoint(a):o.lineToPoint(a),i.length>2){const e=n.calculateLength2D();for(let t=1;t<i.length-1;t++){const s=n.lengthToT(r[t]*e);n.queryCoord(s,a),a.setXY(i[t]),o.lineToPoint(a)}}t&&(s.queryEnd(a),o.lineToPoint(a))}function Kh(e,t,s,n,r,i,o,a,h,m,l,g,u){const c={stack:[],error:void 0,hasError:!1};try{const _=(0,_tslib_es6_js__WEBPACK_IMPORTED_MODULE_5__.b)(c,new Cc,!1),d=(0,_tslib_es6_js__WEBPACK_IMPORTED_MODULE_5__.b)(c,new Cc,!1),p=(0,_tslib_es6_js__WEBPACK_IMPORTED_MODULE_5__.b)(c,new Cc,!1);Dc.geodeticDistance(e,t,n.x,n.y,r.x,r.y,p,_,d,s);const f=p.val,x=_.val,y=d.val;let P=x,E=y;P<0&&(P+=2*Math.PI),E<0&&(E+=2*Math.PI),h&&(h[0]=P),m&&(m[0]=E);let S=Number.NaN,C=Number.NaN;if(null!==l){const s=Vc.q90(e,t),r=Vc.q(e,t,n.y);S=(s-r)/f,C=(s+r)/f}const I=Lh(n,r),b=zh(n,r),w=I||b,v=mm(n,r,a),N=(0,_tslib_es6_js__WEBPACK_IMPORTED_MODULE_5__.b)(c,new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.S(new Cc,new Cc),!1),T=new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P,G=new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P,D=new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P;u[0]=im(n.x,Number.NaN,u[0]);let V=u[0];if(f<=i)return g.push(n.clone()),u[0]=im(r.x,Number.NaN,u[0]),null!=l&&l.push(0),w?(I&&om(n,r,l,g),b&&am(n,r,l,g)):v?hm(n,r,x,S,C,l,g):o>0&&(G.setCoords(n.x-V,n.y),T.setCoords(r.x-u[0],r.y),V=Jh()),g.push(r.clone()),f;const F=1+Math.ceil(f/i),H=f/(F-1),k=new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P;g.push(n.clone()),k.setCoordsPoint2D(n),G.setCoords(n.x-u[0],n.y),null!==l&&l.push(0);for(let i=1;i<F;i++){let h;if(i<F-1){const r=i*H;Dc.geodeticCoordinate(e,t,n.x,n.y,r,x,N.at(0),N.at(1),s),T.setCoords(N.at(0).val,N.at(1).val),u[0]=im(T.x,k.x,u[0]),D.setCoords(u[0]+T.x,T.y),h=i/(F-1)}else u[0]=im(r.x,Number.NaN,u[0]),T.setCoords(r.x-u[0],r.y),D.setCoordsPoint2D(r),h=1;w?(1===i&&I&&om(n,D,l,g),i===F-1&&b&&am(k,r,l,g)):v?lm(k,D,a)&&(n.x<r.x?k.x>D.x&&(u[0]+=2*Math.PI,D.setCoords(u[0]+T.x,T.y)):k.x<D.x&&(u[0]-=2*Math.PI,D.setCoords(u[0]+T.x,T.y)),hm(k,D,x,S,C,l,g)):o>0&&Jh(),g.push(D.clone()),null!=l&&l.push(h),k.setCoordsPoint2D(D),G.setCoordsPoint2D(T),V=u[0]}return f}catch(_){c.error=_,c.hasError=!0}finally{(0,_tslib_es6_js__WEBPACK_IMPORTED_MODULE_5__.c)(c)}}function Qh(e,t,s,n,r,i,o,h,m,l){(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(0)}function Jh(e,t,s,n,r,i,o,h,m,l,g,u,c,_,d){return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(0),0}function $h(e,t,s,n){const r=ds(e,t,s),i=ds(e,t,n);return _Envelope_js__WEBPACK_IMPORTED_MODULE_3__.d.distance(r,i)}function em(e,t,s,n,r,i,o,h){const m=new Array,l=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.m)(Array,8);let g=2,u=r.getCoord2D(i);l[0][0]=u.x,l[0][1]=u.y,u=r.getCoord2D(o),l[1][0]=u.x,l[1][1]=u.y;const c=e=>{if(null!==s){const t=wc.projToGeog(s,e,l);(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(t===e)}for(const t of l)t[0]*=n,t[1]*=n};c(2),m.push(ds(e,t,new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P(l[0][0],l[0][1]))),m.push(ds(e,t,new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P(l[1][0],l[1][1])));let _=_Envelope_js__WEBPACK_IMPORTED_MODULE_3__.d.distance(m[0],m[1]);if(_>h)return _;let d=0;for(g=3;g<=17;){const s=1/(g-1);let n=0;for(let e=1;e<g;++e)if(1&e){const t=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.q)(i,o,e*s);r.queryCoord2D(t,u),l[n][0]=u.x,l[n][1]=u.y,n++}c(n);let p=1;for(let r=0;r<n;++r)m.splice(p,0,ds(e,t,new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P(l[r][0],l[r][1]))),p++;p=0;let f=m[p];p++;let x=0;for(;p!==m.length;++p){const e=m[p];x+=_Envelope_js__WEBPACK_IMPORTED_MODULE_3__.d.distance(f,e),f=e}if(x>h)return x;if(d=x-_,(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(d>=0||Math.abs(d)<1e-14*x),d<0&&(d=0),_=x,x+d<=h)return x+d;g=2*g-1}return _+d}function tm(e,t,s,n,r,i,o,h,m){const l=n.isCurve(),g=Fs(e,t)*Math.PI*179/180;let u=i;i>0&&!(i>g)||(u=g);const c=o,_=c>0;let d=Number.NaN;_&&(d=Bs(e,t,c));const p=1===r.getCoordinateSystemType();let f=null;p||(f=r.getPECoordSys());const x=r.getTolerance(0),y=n.getStartXY(),P=n.getEndXY(),E=new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P,S=new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P;if(p)E.setCoordsPoint2D(y),E.scale(s),S.setCoordsPoint2D(P),S.scale(s);else{const e=[y.x,y.y,P.x,P.y];wc.projToGeog(f,2,e),E.setCoords(e[0],e[1]),E.scale(s),S.setCoords(e[2],e[3]),S.scale(s)}let C=0,I=0;const b=[],w=[],v=[];b.push(P.clone()),w.push(S.clone()),v.push(1),m.push(y.clone()),null!==h&&h.push(I);const N=r.isPannable(),T=y.clone(),G=[.5,.33333333333333337,.6666666666666666,.16666666666666669,.8333333333333333];let D=5;l||(_?(G[0]=.5,G[1]=.25,G[2]=.75,D=3):D=1),(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(u>0);const V=e=>{if(e=e.clone(),null!==f){const t=[e.x,e.y];wc.projToGeog(f,1,t),e.setCoords(t[0],t[1])}return e.scale(s),e};for(;w.length>0;){const i=b.at(-1).clone();S.assign(w.at(-1));const o=v.at(-1);let g=!1,c=Number.NaN;const y=em(e,t,f,s,n,I,o,u);let P=u>=y&&Math.abs(E.y-S.y)<.9*Math.PI;p&&P&&(P=Math.abs(E.x-S.x)<.9*Math.PI);const F=new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P,H=new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P;let k=!1;if(!_&&P&&P&&(k=!0),n.calculateSubLength(I,o)<=x&&(k=!0),!k)for(let h=0;h<D;h++){const m=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.q)(I,o,G[h]),u=new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P;n.queryCoord2D(m,u);const f=V(u);if(0===h&&(c=m,F.setCoordsPoint2D(u),H.setCoordsPoint2D(f),!P)){g=!0;break}if((0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(_),p&&Math.abs(E.x-f.x)>=Math.PI){g=!0;break}let x=new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P,y=new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P;l?(x=_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P.lerp(T,i,G[h]),y=V(x)):(x=u.clone(),y=f.clone());const C=Ss(e,t,E,S,G[h]),b=C.clone();if(p?(b.x/=s,b.y/=s):(b.x/=s,b.y/=s,Th(r.getGCSToSRTransform(),[b],1,[b],null)),b.isNAN()){const s=ds(e,t,f),n=ds(e,t,E),r=ds(e,t,S),{second:i}=vs(e,t,s,n,r,2,null);if(i>d){g=!0;break}}else{if(N){const e=r.getPannableExtent().width(),t=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.q)(n.getStartX(),n.getEndX(),.5);for(;b.x<t-.5*e;)b.x+=e;for(;b.x>=t+.5*e;)b.x-=e}const s=n.getClosestCoordinateOnInterval(b,new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.E(I,o),-1);let i=n.getCoord2D(s);i=V(i);let a=$h(e,t,i,C);if(a>d){if(a<4*d){const s=ds(e,t,i),n=ds(e,t,E),r=ds(e,t,S),{second:o}=vs(e,t,s,n,r,2,null);a=o}if(a>d){g=!0;break}}else if(l){let s=ds(e,t,f);const n=ds(e,t,E),r=ds(e,t,S);let{second:i}=vs(e,t,s,n,r,3,null);if(i<=d){s=ds(e,t,y);const{second:o}=vs(e,t,s,n,r,3,null);i=o}if(i>d){g=!0;break}}}}g?(b.push(F.clone()),w.push(H.clone()),v.push(c)):(b.pop(),w.pop(),v.pop(),m.push(i.clone()),C+=y,null!==h&&h.push(C),T.setCoordsPoint2D(i),E.setCoordsPoint2D(S),I=o)}if(null!==h){const e=1/C;for(let t=0;t<h.length;t++)h[t]*=e}}function sm(e,t,s,n){if(n.reverse(),null!==s&&s.reverse(),e){const s=e[0],n=t[0];e[0]=n,t[0]=s}}function nm(e,t,s,n,r){e?(n.setCoordsPoint2D(s),r.setCoordsPoint2D(t)):(n.setCoordsPoint2D(t),r.setCoordsPoint2D(s))}function rm(e,t,s){return e?(s.create(t.getGeometryType()),t.copyTo(s.get()),s.get().reverse(),s.get()):t}function im(e,t,s){if(Number.isNaN(t)){for(;s-e>Math.PI;)s-=2*Math.PI;for(;e-s>Math.PI;)s+=2*Math.PI;return s}return s+e-t>Math.PI?s-=2*Math.PI:t-(s+e)>Math.PI&&(s+=2*Math.PI),s}function om(e,t,s,n){if(e.y>0){const r=new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P;r.setCoords(t.x,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.o),Pc(e.x,r.x)||Pc(t.y,r.y)||(n.push(r),null!==s&&s.push(0))}else{const r=new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P;r.setCoords(t.x,-_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.o),Pc(e.x,r.x)||Pc(t.y,r.y)||(n.push(r),null!==s&&s.push(0))}}function am(e,t,s,n){if(t.y>0){const r=new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P;r.setCoords(e.x,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.o),Pc(t.x,r.x)||Pc(e.y,r.y)||(n.push(r),null!==s&&s.push(1))}else{const r=new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P;r.setCoords(e.x,-_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.o),Pc(t.x,r.x)||Pc(e.y,r.y)||(n.push(r),null!==s&&s.push(1))}}function hm(e,t,s,n,r,i,o){if(Sc(s)){if(_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.o-e.y>0){const t=new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P;t.setCoords(e.x,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.o),o.push(t),null!==i&&i.push(n)}if(_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.o-t.y>0){const e=new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P;e.setCoords(t.x,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.o),o.push(e),null!==i&&i.push(n)}}else{if(_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.o+e.y>0){const t=new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P;t.setCoords(e.x,-_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.o),o.push(t),null!==i&&i.push(r)}if(_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.o+t.y>0){const e=new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P;e.setCoords(t.x,-_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.o),o.push(e),null!==i&&i.push(r)}}}function mm(e,t,s){return!(!lm(e,t,s)||Pc(e.y,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.o)||Pc(e.y,-_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.o)||Pc(t.y,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.o)||Pc(t.y,-_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.o))}function lm(e,t,s){return Math.abs(Math.abs(e.x-t.x)-Math.PI)<=s}function gm(e){if(e.x<-Math.PI)for(;e.x<-Math.PI;)e.x+=2*Math.PI;else if(e.x>Math.PI)for(;e.x>Math.PI;)e.x-=2*Math.PI}function um(e,t,s,n){const r={stack:[],error:void 0,hasError:!1};try{const i=[s.x],o=[s.y-n],a=[s.x],h=[s.y+n];Vs(i,o),Vs(a,h);const m=(0,_tslib_es6_js__WEBPACK_IMPORTED_MODULE_5__.b)(r,new Cc,!1),l=(0,_tslib_es6_js__WEBPACK_IMPORTED_MODULE_5__.b)(r,new Cc,!1);Dc.greatEllipticDistance(e,t,s.x,s.y,i[0],o[0],m,null,null),Dc.greatEllipticDistance(e,t,s.x,s.y,a[0],h[0],l,null,null);return Math.min(m.val,l.val)}catch(i){r.error=i,r.hasError=!0}finally{(0,_tslib_es6_js__WEBPACK_IMPORTED_MODULE_5__.c)(r)}}function cm(t,s,n,r,i){const o=new _Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D;n.queryEnvelope(o);const a=(0,_Envelope_js__WEBPACK_IMPORTED_MODULE_3__.b)(null,n,!0).total();if(s.xmin-o.xmin<=a&&o.xmax-s.xmax<=a)return n;const h=s.width();let m=0;for(;s.xmin+m*h<o.xmin;)m++;for(;s.xmin+m*h>o.xmin;)m--;const l=m*h,g=new _Transformation2D_js__WEBPACK_IMPORTED_MODULE_6__.T;g.setShiftCoords(-l,0);const u=n;u.applyTransformation(g);const c=new _Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D;u.queryEnvelope(c);let _=null;if(c.xmax>s.xmax){let n=0;const r=new _Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D;r.setCoords({env2D:s}),r.ymin-=1,r.ymax+=1;let o=u;for(;r.xmin<c.xmax;){c.xmax>r.xmax&&(o=Hl(o,t,2,!0,r.xmax));const e=(0,_Envelope_js__WEBPACK_IMPORTED_MODULE_3__.f)(o,r),a=(0,_Envelope_js__WEBPACK_IMPORTED_MODULE_3__.c)(null,e,!0).total(),m=(0,_OperatorClip_js__WEBPACK_IMPORTED_MODULE_7__.c)(o,r,a,Number.NaN,i);null===_?_=m===o?m.clone():m:(g.setShiftCoords(-n*h,0),m.applyTransformation(g),_.add(m,!1)),n++,r.xmin=r.xmax,r.xmax=s.xmax+n*h}}else _=u;return _}class _m{constructor(e,t){this.m_basisX=new _Envelope_js__WEBPACK_IMPORTED_MODULE_3__.d,this.m_basisY=new _Envelope_js__WEBPACK_IMPORTED_MODULE_3__.d,this.m_normal=new _Envelope_js__WEBPACK_IMPORTED_MODULE_3__.d,(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(1===e.getCoordinateSystemType()),this.m_gcs=e;const s=Hu();e.querySpheroidData(s),this.m_a=s.majorSemiAxis,this.m_e2=s.e2,this.m_rpu=e.getUnit().getUnitToBaseFactor(),this.m_curvCenterRad=t.mul(this.m_rpu);const n=this.m_curvCenterRad.x,r=this.m_curvCenterRad.y,i=Math.cos(n),o=Math.sin(n),h=Math.cos(r),m=Math.sin(r);this.m_cartCenter3D=fs(this.m_a,this.m_e2,i,o,h,m),this.m_normal.setCoordsPoint3D(this.m_cartCenter3D),this.m_d=this.m_cartCenter3D.length(),this.m_normal.divThis(this.m_d),_Envelope_js__WEBPACK_IMPORTED_MODULE_3__.d.selectRightHandedBasisFromNormal(this.m_normal,this.m_basisX,this.m_basisY),this.m_northPolePcs=this.projectPoint(_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P.construct(0,.5*Math.PI/this.m_rpu)),this.m_southPolePcs=this.projectPoint(_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P.construct(0,.5*-Math.PI/this.m_rpu))}project(e){const s=e.getGeometryType();if((0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.i)(s)){(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.o)(e);const t=e;return this.projectMultiVertex(t)}(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.a)("Gnomonic.project")}unproject(e,s,r){const i=e.getGeometryType();if((0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.i)(i)){(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.o)(e);let t=e;const a=[];if(i===_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumPolygon){const e=t.getPathCount();for(let s=0;s<e;s++){const e=t.calculateRingArea2D(s);a.push(e)}}return this.unprojectMultiVertex(s,t),(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.h)(i)?(Cm(this.m_gcs,0,t),dm(a,this.m_gcs,0,t,r)):t=vl(t,this.m_gcs,0,!0,0,r),t}(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.a)("Gnomonic.unproject")}projectPoint(e){const t=e.mul(this.m_rpu),s=ds(this.m_a,this.m_e2,t),n=this.m_normal.dotProduct(s);if(n<=0)return _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P.construct(Number.NaN,Number.NaN);const r=this.m_d/n,i=s.mul(r).sub(this.m_cartCenter3D),o=new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P;return o.x=this.m_basisX.dotProduct(i),o.y=this.m_basisY.dotProduct(i),o}unprojectPoint(e){const t=this.m_cartCenter3D.add(this.m_basisX.mul(e.x).add(this.m_basisY.mul(e.y)));return Ps(this.m_a,this.m_e2,t).divide(this.m_rpu)}projectMultiVertex(e){const t=e.getImpl();let s=!0;const n=new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P,r=new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P;for(let i=0,o=t.getPointCount();i<o;i++)t.queryXY(i,n),n.y*this.m_rpu>.5*Math.PI?r.assign(this.m_northPolePcs):n.y*this.m_rpu<.5*-Math.PI?r.assign(this.m_southPolePcs):r.assign(this.projectPoint(n)),t.setXYNoCurves(i,r),r.isNAN()&&(s=!1);return t.notifyModifiedFlags(2001),s}unprojectMultiVertex(e,t){const s=t.getImpl(),n=e*e,r=!this.m_northPolePcs.isNAN(),i=!this.m_southPolePcs.isNAN();for(let o=0,a=s.getPointCount();o<a;o++){const e=s.getXY(o);let t=new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P;r&&_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P.sqrDistance(e,this.m_northPolePcs)<=n?(t.setCoords(this.m_curvCenterRad.x,.5*Math.PI),t.scale(1/this.m_rpu)):i&&_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P.sqrDistance(e,this.m_southPolePcs)<=n?(t.setCoords(this.m_curvCenterRad.x,.5*-Math.PI),t.scale(1/this.m_rpu)):t=this.unprojectPoint(e),s.setXYNoCurves(o,t)}s.notifyModifiedFlags(2001)}}function dm(t,s,r,i,o){const a=i.getGeometryType(),h=s.getPannableExtent();let m=i,l=!1,g=!1;if(a===_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumPolygon){const n=new _Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D,i=_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P.construct(r,0);n.setCoords({env2D:h}),n.centerAt(i),l=pm(t,s,n,m,o);const a=Sm(s,n,m,o);a!==m&&(g=!0),m=a}else m=(new qh).foldInto360RangeGeodetic(m,s,2);a===_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumPolygon&&(l||g)&&(m=(new Eh).execute(m,s,!1,o)),m!==i&&(i.setEmpty(),i.add(m,!1))}function pm(e,t,s,n,r){const i=fm(s,n),o=xm(e,t,s,n,r);return i||o}function fm(t,s){const n=new _Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D;s.queryEnvelope(n);const r=Pc(t.ymax,n.ymax),i=Pc(t.ymin,n.ymin),o=r||i;return!!o&&(ym(t,s),o)}function xm(e,t,s,n,r){const i=[],o=[],a=.5*s.width();for(let g=0;g<n.getPathCount();g++){const h=n.getXY(n.getPathStart(g)),m=n.getXY(n.getPathEnd(g)-1),l=e[g]<0;if(Math.abs(h.x-m.x)>a){const e=Pm(l,t,s,g,n,r);i.push(e),o.push(g)}else if(!l){if(n.calculateRingArea2D(g)<0){const e=Em(t,s,g,n,r);i.push(e),o.push(g)}}}if(0===i.length)return!1;const h=new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.a({vd:n.getDescription()});let m=0,l=o[m];for(let g=0;g<n.getPathCount();g++)g===l?(h.add(i[m],!1),m++,m<o.length&&(l=o[m])):h.addPath(n,g,!0);return n.setEmpty(),n.add(h,!1),!0}function ym(t,s){const n=new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.a,r=new _Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D;for(let e=0;e<s.getPathCount();e++){s.queryPathEnvelope(e,r);let i=Pc(t.ymax,r.ymax),o=Pc(t.ymin,r.ymin);if(!(i||o)){n.addPath(s,e,!0);continue}n.insertPath2D(-1,null,0,0,!0);const a=s.getPathStart(e),h=s.getPathEnd(e),m=h-a;let l=-1;for(l=a;l<h;l++){const e=s.getXY(l);if(i=Pc(t.ymax,e.y),o=Pc(t.ymin,e.y),!i&&!o)break}let g=l,u=!1,c=Number.NaN;do{const r=s.getXY(g);i=Pc(t.ymax,r.y),o=Pc(t.ymin,r.y);const h=a+(g+1-a)%m;if(i||o){let i=_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P.construct(c,r.y);n.insertPoint2D(e,-1,i);const o=s.getXY(h),a=Pc(t.ymax,o.y),m=Pc(t.ymin,o.y);a||m||(i=_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P.construct(o.x,r.y),u?n.setXYNoCurves(n.getPointCount()-1,i):n.insertPoint2D(e,-1,i)),u=!0}else n.insertPoint2D(e,-1,r),c=r.x,u=!1;g=h}while(g!==l)}s.setEmpty(),s.add(n,!1)}function Pm(t,s,n,r,i,o){const a=new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.a,h=new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.a,m=new _Transformation2D_js__WEBPACK_IMPORTED_MODULE_6__.T,l=i.getXY(i.getPathStart(r)),g=i.getXY(i.getPathEnd(r)-1),u=n.width(),c=.5*u,_=new _Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D;i.queryEnvelope(_);const d=Math.ceil(_.width()/u)+1;let p,f;l.x>g.x?(p=-u,f=t?n.ymin:n.ymax):(p=u,f=t?n.ymax:n.ymin),m.setShiftCoords(p,0),a.addPath(i,r,!0),h.add(a,!1);const x=new _Envelope_js__WEBPACK_IMPORTED_MODULE_3__.P;for(let e=0;e<d;e++)h.applyTransformation(m),h.getPointByVal(0,x),a.lineToPoint(x),a.addSegmentsFromPath(h,0,0,h.getSegmentCount()-1,!1);const y=a.getXY(0),P=a.getXY(a.getPointCount()-1);y.y=f,P.y=f,a.lineTo(P);const E=new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P;for(E.setCoordsPoint2D(P),E.x-=.5*p;Math.abs(E.x-y.x)>c;)a.lineTo(E),E.x-=.5*p;a.lineTo(y);const S=n.getCenter().x,C=new _Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D;a.queryEnvelope(C);let I=0;const b=C.getCenter().x;b-S>c?I=-Math.ceil((b-S-c)/u):S-b>c&&(I=Math.ceil((S-b-c)/u)),0!==I&&(m.setShiftCoords(I*u,0),a.applyTransformation(m));const w=new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.E,N=w.addGeometry(a);kl(w,N,s,0,2,!0,n.xmin),kl(w,N,s,0,2,!0,n.xmax);const T=w.getGeometry(N),D=(0,_Envelope_js__WEBPACK_IMPORTED_MODULE_3__.f)(T,n);D.inflateCoords(0,1);const V=(0,_Envelope_js__WEBPACK_IMPORTED_MODULE_3__.c)(null,D,!0);return (0,_OperatorClip_js__WEBPACK_IMPORTED_MODULE_7__.c)(T,n,V.total(),Number.NaN,o)}function Em(t,s,n,r,i){const o=s.width(),a=.5*o,h=s.getCenter().x,m=new _Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D;r.queryPathEnvelope(n,m);let l,g=0,u=m.getCenter().x;if(u-h>a?g=-Math.ceil((u-h-a)/o):h-u>a&&(g=Math.ceil((h-u-a)/o)),0!==g){const e=new _Transformation2D_js__WEBPACK_IMPORTED_MODULE_6__.T;e.setShiftCoords(g*o,0),r.getImpl().applyTransformationToPath(e,n),r.queryPathEnvelope(n,m),u=m.getCenter().x}const c=new _Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D;s.containsExclusiveEnvelope(m)?(l=!1,c.setCoords({env2D:s})):(l=!0,c.setCoords({env2D:s}),c.xmin-=o,c.xmax+=o);let _=r.createInstance();_.addPathPoint2D(null,0,!0);const d=new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P;if(d.setCoords(c.xmin,c.ymin),_.insertPoint2D(0,-1,d),d.setCoords(c.xmin,c.ymax),_.insertPoint2D(0,-1,d),d.setCoords(.5*(c.xmin+c.xmax),c.ymax),_.insertPoint2D(0,-1,d),d.setCoords(c.xmax,c.ymax),_.insertPoint2D(0,-1,d),d.setCoords(c.xmax,c.ymin),_.insertPoint2D(0,-1,d),d.setCoords(.5*(c.xmin+c.xmax),c.ymin),_.insertPoint2D(0,-1,d),l){_.addPath(r,n,!0);const e=new _Transformation2D_js__WEBPACK_IMPORTED_MODULE_6__.T;u<h?e.setShiftCoords(o,0):e.setShiftCoords(-o,0),r.getImpl().applyTransformationToPath(e,n),_.addPath(r,n,!0);const a=new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.E,m=a.addGeometry(_);kl(a,m,t,0,2,!0,s.xmin),kl(a,m,t,0,2,!0,s.xmax),_=a.getGeometry(m);const l=(0,_Envelope_js__WEBPACK_IMPORTED_MODULE_3__.f)(_,s);l.inflateCoords(0,1);const g=(0,_Envelope_js__WEBPACK_IMPORTED_MODULE_3__.c)(null,l,!0).total();_=(0,_OperatorClip_js__WEBPACK_IMPORTED_MODULE_7__.c)(_,s,g,Number.NaN,i)}else _.addPath(r,n,!0);return _}function Sm(t,s,n,r){const i=new _Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D;n.queryEnvelope(i);const o=(0,_Envelope_js__WEBPACK_IMPORTED_MODULE_3__.b)(null,n,!0).total();if(s.xmin-i.xmin<=o&&i.xmax-s.xmax<=o)return n;const a=n.createInstance();let h=n.createInstance();const m=new _Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D,l=n.getPathCount();for(let e=0;e<l;e++)n.queryPathEnvelope(e,m),s.xmin-m.xmin<=o&&m.xmax-s.xmax<=o?a.addPath(n,e,!0):(h.setEmpty(),h.addPath(n,e,!0),h=cm(t,s,h,!0,r),a.add(h,!0));return a}function Cm(e,t,s){const n=e.getPannableExtent(),r=_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P.construct(t,0);n.centerAt(r);const i=n.width(),o=.5*i,a=new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P;a.setNAN();let h=Number.NaN;for(let m=0;m<s.getPathCount();m++)for(let e=s.getPathStart(m);e<s.getPathEnd(m);e++){const t=s.getXY(e),r=Pc(t.y,n.ymax)||Pc(n.ymin,t.y);e===s.getPathStart(m)?(a.setNAN(),h=0):a.isNAN()||r||(h=Im(t.x,a.x,o,i,h)),t.x+=h,s.setXYNoCurves(e,t),r||a.setCoordsPoint2D(t)}s.getImpl().notifyModifiedFlags(2001)}function Im(e,t,s,n,r){return r+e-t>s?r-=n:t-(r+e)>s&&(r+=n),r}function bm(e,t,s,n,r,i){const o=t.getAttributeStreamRef(0),a=t.getPointCount();let h=!1;const m=new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P;for(let P=0;P<a;++P){if(o.queryPoint2D(2*P,m),1&i&&m.y>=s){h=!0;break}if(2&i&&m.y<=-s){h=!0;break}}if(!h)return!1;let l=!1;e&&(l=t.getImpl().isClosedPathInXYPlane(0));const g=new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.E,u=g.addGeometry(t),c=g.getFirstPath(u);let _=-1,d=!0;const p=new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P,f=new _Envelope_js__WEBPACK_IMPORTED_MODULE_3__.P;let x=_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n;const y=Gm*r/360;for(let P=g.getFirstVertex(c);P!==_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n;P=g.getNextVertex(P)){g.queryXY(P,m);let e=1&i&&m.y>=s?1:0;if(e|=2&i&&m.y<=-s?2:0,_>0&&_!==e){if(p.x!==m.x){const e=g.getPrevVertex(P);g.queryPoint(e,f);const t=g.insertVertex(c,P,f);p.x=m.x,g.setXY(t,p)}if(l){let e=x!==_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n?g.getNextVertex(x):g.getFirstVertex(c);const t=g.getPrevVertex(P);for(;e!==t;)e=g.removeVertex(e,!1);if(x!==_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n){const e=g.getXY(x),s=g.getXY(t);if(Math.abs(e.x-s.x)>y){g.queryPoint(x,f);const n=g.insertVertex(c,t,f);e.x=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.q)(e.x,s.x,.5),g.setXY(n,e)}}}x=_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n}if(e&&(m.y=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.f)(n,m.y),g.setXY(P,m),!d&&_!==e))if(m.x!==p.x){g.queryPoint(P,f);const e=g.insertVertex(c,P,f);g.setXYCoords(e,p.x,m.y),x=e}else x=P;_=e,p.assign(m),d=!1}if(l){if(x!==_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n){let e=g.getNextVertex(x);for(;e!==_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n;)e=g.removeVertex(e,!1)}const e=g.getFirstVertex(c);let t=g.getLastVertex(c);const s=g.getXY(e),n=g.getXY(t);if(!s.equals(n)&&(g.queryPoint(e,f),t=g.insertVertex(c,_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n,f),Math.abs(s.x-n.x)>y)){const e=g.insertVertex(c,t,f);s.x=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.q)(s.x,n.x,.5),g.setXY(e,s)}}return t.assignCopy(g.getGeometry(u)),!0}function wm(e,t){let s=new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.a({vd:e});s.addEnvelope(t,!1);const n=t.width()/180;return s=(new _OperatorDensify_js__WEBPACK_IMPORTED_MODULE_8__.O).execute(s,n,0,0,null),s}function vm(e,t){const s=e.getPannableExtent();return Number.isNaN(t)||s.centerAtCoords(t,0),s}function Nm(e,t,s){const n=Hu();t.querySpheroidData(n);const r=t.getGCS()!==t?t.getSRToGCSTransform():null,i=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P,100),o=new _Envelope_js__WEBPACK_IMPORTED_MODULE_3__.d(0,0,0),a=e.getPointCount(),h=t.getGCS().getUnit().getUnitToBaseFactor();for(let u=0,c=a;u<c;){const t=Math.min(100,c-u);e.queryCoordinates(i,t,u,u+t),r&&(new qh).transform(r,i,t,i,!1);for(let e=0;e<t;e++){if(i[e].isNAN())continue;i[e].scale(h);const t=ds(n.majorSemiAxis,n.e2,i[e]);o.addThis(t)}u+=t}const m=Ps(n.majorSemiAxis,n.e2,o);m.scale(1/h);const l=e;if(!new _m(t.getGCS(),m).project(l))return 0;s.length=e.getPathCount();const g=l.calculateArea2D()<0;for(let u=0,c=e.getPathCount();u<c;u++){const e=l.calculateRingArea2D(u),t=g?e<0:e>0;s[u]=t}return g?-1:1}function Tm(e,t,s,r,o){if(!t.isPannable()||e.isEmpty())return e;const a=e.getGeometryType();a===_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumGeometryCollection&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.t)("not yet impl for geometry collection");const h=t.getPannableExtent();Number.isNaN(s)&&(s=h.getCenterX());const m=h.width(),l=.5*m,g=o>0,c=e.queryInterval(0,0);if(!g&&c.width()<l||!(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.i)(e.getGeometryType())){const t=c.getCenter();if(Math.abs(t-s)<=l)return e;{const n=new _Transformation2D_js__WEBPACK_IMPORTED_MODULE_6__.T,r=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.ax)((s-t)/m)*m;n.setShiftCoords(r,0);const i=e.clone();return i.applyTransformation(n),i}}if(a===_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumPolygon){let n=new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.P({vd:e.getDescription()});n.addAndExplicitlyOpenAllPaths(e,!1),g&&(n=Oh(n,t,2,o,Number.NaN,null,!0));const i=[];if(!r){{let s=e;g&&(s=new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.a,s.add(n,!1));const r=Nm(e,t,i);if(r)r<0&&n.reverseAllPaths();else{const e=s.getPathCount();for(let t=0;t<e;t++)i.push(s.calculateRingArea2D(t)>0)}}r=i}return new Dm(null,r,n,null,t,s,3,0,null).geoNormalizePolygonGeometry(!0)}if(a===_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumPolyline){let n=new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.P({vd:e.getDescription()});n.addAndExplicitlyOpenAllPaths(e,!1),g&&(n=Oh(n,t,2,o,Number.NaN,null,!0));return new Dm(null,null,n,null,t,s,3,0,null).geoNormalizePolylineGeometry(!0)}if(a===_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumMultiPoint){const t=e,n=t.getAttributeStreamRef(0);let r,i=null,o=s,a=0;const h=.1*m;for(let s=0,g=t.getPointCount();s<g;s++){const t=n.read(2*s);let g=t-o;if(Math.abs(g)>l&&(g=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.ax)(g/m)*m,a-=g,Math.abs(a)<h&&(a=0)),0!==a){i||(r=e.clone(),i=r.getAttributeStreamRef(0));const n=t+a;i.write(2*s,n)}o=t}return i?(r.notifyModified(),r):e}(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.d)("")}const Gm=210;class Dm{constructor(e,t,s,n,r,i,o,h,m){this.m_bAdjustedAtPoles=0,this.m_inputPoly=s,this.m_progressTracker=m,this.m_originalGeometry=e,this.m_originalSR=n,this.m_polygonRingFlags=t,this.m_pannableSR=r,this.m_poleSnappingTolerance=h,this.m_poleFlags=o,this.m_bAdjustedAtPoles=0,this.m_pannableExtent=vm(this.m_pannableSR,i),this.m_centralLongitude=Number.isNaN(i)?this.m_pannableExtent.getCenterX():i,this.m_width360=this.m_pannableExtent.width(),this.m_degree=this.m_width360/360,this.m_GCSLargeDelta=Gm*this.m_degree,(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(null===this.m_originalGeometry&&null===this.m_originalSR||null!==this.m_originalGeometry&&null!==this.m_originalSR)}geonormalizeRing(e,t,s,n,r,o,h){let m=s;const l=new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.P({vd:this.m_inputPoly.getDescription()});l.addPath(this.m_inputPoly,e,!0),0!==this.m_poleFlags&&(this.m_bAdjustedAtPoles|=bm(!0,l,this.m_pannableExtent.ymax-this.m_poleSnappingTolerance,this.m_pannableExtent.ymax,this.m_pannableExtent.width(),this.m_poleFlags)?1:0,this.m_bAdjustedAtPoles&&(m=!1));let g=-1;m&&(g=this.m_originalGeometry.getPathStart(e));const u=l.getAttributeStreamRef(0),c=l.getPointCount();let _=0,d=u.read(0),p=0;const f=3*this.m_pannableSR.getTolerance(0);let x=!1;const y=new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P,P=new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P;let E=!1;const S=l.hasNonLinearSegments(),C=new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P;for(let a=1;a<c;++a){u.queryPoint2D(2*a,C);const e=C.x;let t=e+_;const s=t-d;if(C.x=t,Math.abs(s)>this.m_GCSLargeDelta){if(m){const e=g+a-1,t=g+(a+1<c?a:0),r=o.read(2*e),i=(o.read(2*t)-r)*n;Math.abs(s-i)>1*this.m_degree&&(m=!1)}if(!m){_-=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.f)(this.m_width360,t-d),t=e+_,++p,E=0!==_,C.x=t}}else x||(0,_Envelope_js__WEBPACK_IMPORTED_MODULE_3__.a4)(y,P,C,f)&&(x=!0);E&&(S&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.d)("error in geonormalize_ring_ for curves"),u.write(2*a,t)),d=t,y.setCoordsPoint2D(P),P.setCoordsPoint2D(C)}p&&l.notifyModified();const b=l.getXY(0),w=l.getXY(c-1);if(_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P.distance(b,w)<f){const e=this.finalizeGeoNormalizeClosedRing(l,x,r);h.add(e,!1)}else{if(t<0)if(null!==this.m_originalGeometry){(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(null!==this.m_originalGeometry);t=this.m_originalGeometry.calculateRingArea2D(e)>0?1:0}else t=1;const s=this.finalizeGeoNormalizeOpenedRing(t>0,l);h.add(s,!1)}}geoNormalizePolygonGeometry(t){(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(this.m_originalSR&&this.m_originalGeometry||!this.m_originalGeometry&&!this.m_originalSR),(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(this.m_pannableSR.isPannable());let s=null,n=Number.NaN;const r=!!this.m_originalSR&&this.m_originalSR.isPannable();r&&(s=this.m_originalGeometry.getAttributeStreamRef(0),n=this.m_width360/this.m_originalSR.getPannableExtent().width()),this.m_bAdjustedAtPoles=0;const i=new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.a({vd:this.m_inputPoly.getDescription()});for(let e=0,a=this.m_inputPoly.getPathCount();e<a;++e){const o=this.m_polygonRingFlags?this.m_polygonRingFlags[e]?1:0:-1;this.geonormalizeRing(e,o,r,n,t,s,i)}const o=this.m_pannableSR.getTolerance(0),h=this.m_pannableExtent.width()/180;Ol(i,this.m_pannableExtent,.1*o,!1);const m=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D.constructEmpty();if(m.setCoords({env2D:this.m_pannableExtent}),t){let t=!0;for(let s=0;s<2;s++){t=!0;const s=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D.constructEmpty();for(let e=0,n=i.getPathCount();e<n;e++)if(i.queryPathEnvelope(e,s),!(m.xmin<=s.xmin&&m.xmax>=s.xmax||s.xmin>=m.xmax||s.xmax<=m.xmin)){t=!1;break}if(t)break;m.move(.5*this.m_width360,0)}t||m.setCoords({env2D:this.m_pannableExtent})}let l=(0,_OperatorClip_js__WEBPACK_IMPORTED_MODULE_7__.c)(i,m,o,h,this.m_progressTracker),g=i!==l;const u=this.m_originalGeometry?this.m_originalGeometry.calculateArea2D():1,c=l.calculateArea2D();let _=0;if(c>0&&u<0)_=1;else if(c<=0&&u>0)if(0===c){if(this.m_originalSR){let e=Number.NaN;2===this.m_originalSR.getCoordinateSystemType()?e=this.m_originalSR.getPCSHorizon().calculateArea2D():1===this.m_originalSR.getCoordinateSystemType()&&(e=this.m_originalSR.getPannableExtent().getArea()),u>.99*e&&(_=-1)}}else _=-1;if(0!==_){const e=wm(l.getDescription(),m);e.add(l,!1),g=!0,l=e}return g&&(l=(new Eh).execute(l,this.m_pannableSR,!1,this.m_progressTracker)),l}geoNormalizePolylineGeometry(t){(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(this.m_pannableSR.isPannable());let s=null;const n=this.m_originalSR&&this.m_originalSR.isPannable();let r=1;n&&((0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(this.m_originalGeometry),r=this.m_width360/this.m_originalSR.getPannableExtent().width(),s=this.m_originalGeometry.getAttributeStreamRef(0));const o=this.m_pannableExtent.width(),h=o*(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.O)()*4;let m=t,l=Number.NaN;const g=_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.E.constructEmpty();this.m_bAdjustedAtPoles=0;let u=new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.P({vd:this.m_inputPoly.getDescription()});for(let d=0,p=this.m_inputPoly.getPathCount();d<p;++d){let t=n;const c=new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.P({vd:this.m_inputPoly.getDescription()});c.addPath(this.m_inputPoly,d,!0);const _=this.m_inputPoly.isClosedPath(d);0!==this.m_poleFlags&&(this.m_bAdjustedAtPoles|=bm(_,c,this.m_pannableExtent.ymax-this.m_poleSnappingTolerance,this.m_pannableExtent.ymax,o,this.m_poleFlags)?1:0,this.m_bAdjustedAtPoles&&(t=!1));let p=-1;const f=c.getPointCount();let x=!1;t&&(p=this.m_originalGeometry.getPathStart(d),x=this.m_originalGeometry.isClosedPath(d));const y=c.getAttributeStreamRef(0);let P=0,E=y.read(0),S=0;const C=new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P,b=new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P;let w=!1;const v=c.hasNonLinearSegments(),N=new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P;for(let e=1;e<f;++e){y.queryPoint2D(2*e,N);const n=N.x;let o=n+P;const a=o-E;if(N.x=o,Math.abs(a)>this.m_GCSLargeDelta){if(t){const n=p+e-1;let i=p;(!x||e+1<f)&&(i+=e);const o=s.read(2*n),h=(s.read(2*i)-o)*r;Math.abs(a-h)>1*this.m_degree&&(t=!1)}if(!t){P-=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.f)(this.m_width360,o-E),o=n+P,++S,w=0!==P,N.x=o}}w&&(v&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.d)("error in geonormalize_ring_ for curves"),y.write(2*e,o)),E=o,C.setCoordsPoint2D(b),b.setCoordsPoint2D(N)}if(S&&c.notifyModified(),m){let t=!1;if(!c.isEmpty()){const s=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D.constructEmpty();if(c.queryEnvelope(s),s.width()>=o||s.ymin<=this.m_pannableExtent.ymin||s.ymax>=this.m_pannableExtent.ymax)t=!0;else{if(Number.isNaN(l)){const e=this.m_centralLongitude-.5*o;l=s.xmin,l+=Math.round((e-s.xmin)/o)*o,l>e&&(l-=o),(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(l<=e),l<e&&(l+=o),(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(l>=e)}let e=Math.round((l-s.xmin)/o)*o;if(s.xmin+e>l+h&&(e-=o),s.xmin+e<l-h&&(e+=o),g.mergeCoordinate(s.xmin+e),g.mergeCoordinate(s.xmax+e),t=g.width()>=o,!t){const t=new _Transformation2D_js__WEBPACK_IMPORTED_MODULE_6__.T;t.setShiftCoords(e,0),c.applyTransformation(t)}}}u.add(c,!1),t&&(u=(()=>{const e=new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.P({vd:u.getDescription()});for(let t=0,s=u.getPathCount();t<s;++t){const s=new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.P({vd:u.getDescription()});s.addPath(u,t,!0);const n=vl(s,this.m_pannableSR,this.m_centralLongitude,!0,0,this.m_progressTracker);e.add(n,!1)}return e})(),m=!1)}else{const e=vl(c,this.m_pannableSR,this.m_centralLongitude,!0,0,this.m_progressTracker);u.add(e,!1)}}if(m)return u;const c=this.m_pannableSR.getTolerance(0),_=this.m_pannableExtent.width()/180;Ol(u,this.m_pannableExtent,.1*c,!1);return (0,_OperatorClip_js__WEBPACK_IMPORTED_MODULE_7__.c)(u,this.m_pannableExtent,c,_,this.m_progressTracker)}finalizeGeoNormalizeOpenedRing(t,s){const n=s.getPointCount(),r=s.getXY(0),i=s.getXY(n-1);{const e=Math.abs(i.x-r.x),t=Math.round(e/this.m_width360)*this.m_width360;(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(Math.abs(e-t)<this.m_pannableSR.getTolerance(0))}const o=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.e)(i.x-r.x),h=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D.constructEmpty();s.queryLooseEnvelope(h);const m=this.m_pannableExtent.getCenterX();let l=0,g=m-this.m_width360,u=m+this.m_width360;if(o>=0){let e=Math.ceil((g-h.xmin)/this.m_width360);for(e*=this.m_width360;g>h.xmin+e;)e+=this.m_width360;for(;g<h.xmax+e;)e-=this.m_width360;for(l=e,h.width()>720&&(u=g+360*Math.ceil(h.width()/360));u<h.xmax;)u+=this.m_width360}else{let e=Math.ceil((u-h.xmax)/this.m_width360);for(e*=this.m_width360;u<h.xmax+e;)e-=this.m_width360;for(;u>h.xmin+e;)e+=this.m_width360;for(l=e,h.width()>720&&(g=u-360*Math.ceil(h.width()/360));g>h.xmin;)g-=this.m_width360}const c=Math.round(Math.abs(i.x-r.x)/this.m_width360)*this.m_width360,_=o*c,d=h.clone();d.move(l,0);const p=new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P(0,0),f=new _Transformation2D_js__WEBPACK_IMPORTED_MODULE_6__.T;f.setShiftCoords(l,0),s.applyTransformation(f);const x=new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.P({vd:s.getDescription()});x.add(s,!1),p.assign(s.getXY(n-1));let y=0,P=x.getXY(0).x;for(;o>0?d.xmax<u:d.xmin>g;)d.move(_,0),f.xd=_,s.applyTransformation(f),P+=_,this.m_pannableExtent.xmin<=P&&this.m_pannableExtent.xmax>=P&&(y=x.getPointCount()-1),s.setXY(0,p),p.assign(s.getXY(n-1)),x.addSegmentsFromPath(s,0,0,n-1,!1);const E=new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.a({vd:x.getDescription()});E.add(x,!1);const S=x.getXY(0),C=x.getXY(x.getPointCount()-1),b=o<0?t:!t,w=E.getPointCount()-1;if(b){const e=new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P(C.x,this.m_pannableExtent.ymax);E.lineTo(e);const t=new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P(this.m_pannableExtent.getCenterX(),this.m_pannableExtent.ymax);E.lineTo(t);const s=new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P(S.x,this.m_pannableExtent.ymax);E.lineTo(s)}else{const e=new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P(C.x,this.m_pannableExtent.ymin);E.lineTo(e);const t=new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P(this.m_pannableExtent.getCenterX(),this.m_pannableExtent.ymin);E.lineTo(t);const s=new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P(S.x,this.m_pannableExtent.ymin);E.lineTo(s)}if(E.interpolateAttributesPath(0,w,0),E.getImpl().changeRingStartPoint(y),c>this.m_width360){const e=new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.a({copy:E});f.setShiftCoords(this.m_width360,0),e.applyTransformation(f),E.add(e,!1)}return E}finalizeGeoNormalizeClosedRing(t,s,r){const i=new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.a({vd:t.getDescription()});i.add(t,!1);const o=()=>{const e=i.getPointCount()-2;return i.getSegmentType(e)!==_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumLine};if(i.hasNonLinearSegments()&&o()){const e=new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.S,t=i.getPointCount()-2;i.getSegmentBuffer(t,e,!1),i.removePointFromPath(0,t+1),i.closeLastPathWithSegment(e.get())}else i.removePointFromPath(0,i.getPointCount()-1);const a=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D.constructEmpty();i.queryLooseEnvelope(a);let h=Math.ceil((this.m_pannableExtent.xmin-a.xmin)/this.m_width360);for(h*=this.m_width360;this.m_pannableExtent.xmin>a.xmin+h;)h+=this.m_width360;for(;this.m_pannableExtent.xmin<a.xmax+h;)h-=this.m_width360;if(h+=this.m_width360,0!==h){a.move(h,0);const e=new _Transformation2D_js__WEBPACK_IMPORTED_MODULE_6__.T;e.setShiftCoords(h,0),i.applyTransformation(e)}if(this.m_pannableExtent.xmin<=a.xmin&&this.m_pannableExtent.xmax>=a.xmax){if(s){const e=i.calculateArea2D(),t=(new Eh).execute(i,this.m_pannableSR,!0,this.m_progressTracker);if(t!==i){const s=t.calculateArea2D();(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.e)(e)!==(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.e)(s)&&t.reverseAllPaths(),i.assignMove(t)}}let e;if(e=new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.a(r?{copy:i}:{move:i}),r)for(;a.xmin<this.m_pannableExtent.xmax;){a.move(this.m_width360,0);const t=new _Transformation2D_js__WEBPACK_IMPORTED_MODULE_6__.T;t.setShiftCoords(this.m_width360,0),i.applyTransformation(t),e.add(i,!1)}return e}let m=new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.a({vd:t.getDescription()});m.add(i,!1);const l=s||a.width()>this.m_width360-10*this.m_pannableSR.getTolerance(0);for(;a.xmin<this.m_pannableExtent.xmax;){a.move(this.m_width360,0);const e=new _Transformation2D_js__WEBPACK_IMPORTED_MODULE_6__.T;e.setShiftCoords(this.m_width360,0),i.applyTransformation(e),m.add(i,!1)}if(l){const e=m.calculateArea2D();m.setFillRule(1),m=(new Eh).execute(m,this.m_pannableSR,!0,this.m_progressTracker);const t=m.calculateArea2D();(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.e)(e)!==(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.e)(t)&&m.reverseAllPaths()}return m}geonormalize_ring_(e,t,s,n,r,i,o){(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(0)}}function Vm(e){(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(0);const t=ou(e),s=new km;return s.setVertProj_(t),s}function Fm(e,t=!0){return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(0),{}}function Hm(e){return Su()}class km{constructor(){this.m_hashCode=0,this.m_peVertSysVal=null,this.m_verticalUnit=new bu,this.m_verticalShift=0,this.m_userVerticalWKID=0,this.m_bIsDepth=!1}getType(){return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(0),0}getID(){return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(0),0}getLatestID(){return this.m_peVertSysVal?this.m_peVertSysVal.getLatestID():0}getOldID(){return this.m_peVertSysVal?this.m_peVertSysVal.getOldID():0}getText(){return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(0),""}getTextExtended(e){return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(0),""}getText2(e){return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(0),""}getUnit(){return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(0),{}}equals(e){return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(0),!1}equalForProjection(e){return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(0),!1}getPeVertcsCopy(){return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(0),{}}getOneMeter(){return 1/this.m_verticalUnit.getUnitToBaseFactor()}getUnitToBaseFactor(){return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(0),0}isDepth(){return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(0),!1}getVerticalShift(){return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(0),0}isCustomWkid(){return!!this.m_peVertSysVal&&this.m_peVertSysVal.isCustomWkid()}getHashCode(){return this.m_hashCode}setVertProj_(e){this.m_peVertSysVal=e}getPEVerticalCoordSys(){return this.m_peVertSysVal?this.m_peVertSysVal.m_peVertcs:null}}function Am(e,t,s,n,r){if(e.equals(t))return!1;if(n){let s=1,i=0,o=1,a=1,h=0,m=1;Number.isNaN(e.m_heightMetersPerUnit)||(s=e.m_heightMetersPerUnit,i=e.m_heightZ0,o=e.m_heightSign,a=t.m_heightMetersPerUnit,h=t.m_heightZ0,m=t.m_heightSign);const l=o*m*s/a;for(let e=0;e<r;e++)n[e]=(n[e]-i)*l+h}let i=1,o=0;if(Number.isNaN(e.m_XYToRadians)||(i=e.m_XYToRadians/t.m_XYToRadians,o=e.m_PrimeMeridianDegrees-t.m_PrimeMeridianDegrees,0!==o&&(o=(0,_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.b)(o),o/=t.m_XYToRadians)),Array.isArray(s)){const e=s;for(let t=0;t<r;t++)e[t][0]=e[t][0]*i+o,e[t][1]=e[t][1]*i}else{const e=s;for(let t=0;t<r;t++){const s=t<<1;e[s]=e[s]*i+o,e[s+1]=e[s+1]*i}}return!0}function Mm(){return{m_heightMetersPerUnit:0,m_heightSign:0,m_heightZ0:0,m_XYToRadians:0,m_PrimeMeridianDegrees:0,assign(e){this.m_heightMetersPerUnit=e.m_heightMetersPerUnit,this.m_heightSign=e.m_heightSign,this.m_heightZ0=e.m_heightZ0,this.m_XYToRadians=e.m_XYToRadians,this.m_PrimeMeridianDegrees=e.m_PrimeMeridianDegrees},equals(e){return (0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.Q)(this.m_heightSign,e.m_heightSign)&&(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.Q)(this.m_heightMetersPerUnit,e.m_heightMetersPerUnit)&&(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.Q)(this.m_heightZ0,e.m_heightZ0)&&(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.Q)(this.m_XYToRadians,e.m_XYToRadians)&&(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.Q)(this.m_PrimeMeridianDegrees,e.m_PrimeMeridianDegrees)},initFromGcsAndVcsPe(e,t){this.m_heightSign=1,this.m_heightMetersPerUnit=Number.NaN,this.m_heightZ0=0,this.m_XYToRadians=Number.NaN,this.m_PrimeMeridianDegrees=Number.NaN,t&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(0),e&&(this.m_XYToRadians=e.getUnit().getUnitFactor(),this.m_PrimeMeridianDegrees=e.getPrimem().getLongitude())},initFromGcsAndVcs(e,t){const s=e?e.getPECoordSys():null,n=t?t.getPEVerticalCoordSys():null;this.initFromGcsAndVcsPe(s,n)},processUnitParams(e){Number.isNaN(this.m_heightMetersPerUnit)&&(this.m_heightMetersPerUnit=e.m_heightMetersPerUnit,this.m_heightSign=e.m_heightSign,this.m_heightZ0=e.m_heightZ0),Number.isNaN(this.m_XYToRadians)&&(this.m_XYToRadians=e.m_XYToRadians,this.m_PrimeMeridianDegrees=e.m_PrimeMeridianDegrees)}}}class Um{constructor(e){this.m_constantsLoaded=-1,this.m_isUsable=-1,this.m_inputSR=null,this.m_outputSR=null,this.m_inputSRHorz=null,this.m_outputSRHorz=null,this.m_inputVCS=null,this.m_outputVCS=null,this.m_hashCode=0,this.m_areaOfUse=new _Envelope_js__WEBPACK_IMPORTED_MODULE_3__.E,this.m_inputUnitParams=Mm(),this.m_outputUnitParams=Mm(),(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(e),this.m_geogTran=e,this.m_vertTran=null,this.m_latestID=Ic.getCode(this.m_geogTran),this.m_latestID<0&&(this.m_latestID=0);const t=this.m_geogTran.getGeogcs1();Ic.getCode(t);const s=this.m_geogTran.getGeogcs2();Ic.getCode(s),this.initUnitParams()}getLatestId(){return this.m_latestID}getText(){return this.m_geogTran?this.m_geogTran.toString():((0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(0),"")}getGeogtran(){return this.m_geogTran}getVerttran(){return null}loadConstants(e){let t=this.m_constantsLoaded;if(-1===t){if(!e){this.m_geogTran||(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.d)("vcs not impl");const t=this.m_geogTran.getParameters();null!==t[bc.PE_PARM_ND]&&(e=0===t[bc.PE_PARM_ND].getValue())}t=this.m_geogTran.loadConstants()?1:0,this.m_constantsLoaded=t}return 0!==t}isUsable(){let e=this.m_isUsable;return-1===e&&(this.m_geogTran?this.m_isUsable=e=this.m_geogTran?1:0:this.m_isUsable=e=this.m_vertTran?1:0),1===e}getInputSr(e){return this.updateSrs(),e?this.m_inputSR:this.m_inputSRHorz}getOutputSr(e){return this.updateSrs(),e?this.m_outputSR:this.m_outputSRHorz}getHashCode(){let e=this.m_hashCode;return 0===e&&(e=this.m_latestID>0?(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.au)(this.m_latestID):(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.ay)(this.getText()),0===e&&(e=345),this.m_hashCode=e),e}isGeogtran(){return null!==this.m_geogTran}prepareOrThrow(){}getName(){return this.isGeogtran()?this.getGeogtran().getName():((0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.t)("vcs not impl"),"")}updateSrs(){if(this.m_inputSR||this.m_inputVCS)return;let e,t,s,n,r,i;if(this.m_geogTran){const o=this.m_geogTran.getGeogcs1(),a=ru(o),h=this.m_geogTran.getGeogcs2(),m=ru(h);let l=-1,g=-1;l=a.getVcsCode(),g=m.getVcsCode(),s=Ru(o,null,null,1),n=Ru(h,null,null,1),l>0&&g>0?(r=Vm(l),i=Vm(g),e=zu(),t=zu()):(e=s,t=n)}else (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(0);this.m_inputSR||this.m_inputVCS||(this.m_inputSR=e,this.m_outputSR=t,this.m_inputSRHorz=s,this.m_outputSRHorz=n,this.m_inputVCS=r,this.m_outputVCS=i)}initUnitParams(){if(this.m_inputUnitParams.m_heightSign=1,this.m_inputUnitParams.m_heightMetersPerUnit=Number.NaN,this.m_inputUnitParams.m_heightZ0=0,this.m_outputUnitParams.m_heightSign=1,this.m_outputUnitParams.m_heightMetersPerUnit=Number.NaN,this.m_outputUnitParams.m_heightZ0=0,this.m_inputUnitParams.m_XYToRadians=Number.NaN,this.m_inputUnitParams.m_PrimeMeridianDegrees=Number.NaN,this.m_outputUnitParams.m_XYToRadians=Number.NaN,this.m_outputUnitParams.m_PrimeMeridianDegrees=Number.NaN,this.m_vertTran)(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(0);else if(this.m_geogTran){const e=this.m_geogTran;let t=e.getGeogcs1();this.m_inputUnitParams.m_XYToRadians=t.getUnit().getUnitFactor(),this.m_inputUnitParams.m_PrimeMeridianDegrees=t.getPrimem().getLongitude(),t=e.getGeogcs2(),this.m_outputUnitParams.m_XYToRadians=t.getUnit().getUnitFactor(),this.m_outputUnitParams.m_PrimeMeridianDegrees=t.getPrimem().getLongitude()}}}function qm(e,t,s,n,r,i,o){let a=null;if(t){a=t.getPEVerticalCoordSys()}let h=null;if(e){h=e.getPECoordSys()}let m=null;if(n){m=n.getPEVerticalCoordSys()}let l=null;if(s){l=s.getPECoordSys()}if(!(h||a||l||m))return!1;const g=Mm();g.initFromGcsAndVcsPe(h,a);const u=Mm();return u.initFromGcsAndVcsPe(l,m),Am(g,u,r,i,o)}function Bm(e,t,s,n,r,i,o,a){const h=t,m=e,l=Mm();l.initFromGcsAndVcsPe(m,h),a.assign(n?s.m_outputUnitParams:s.m_inputUnitParams),a.processUnitParams(l),l.processUnitParams(a),o>0&&Am(l,a,r,i,o)}function Om(e,t,s,n,r,i,o,a){const h=Mm();h.assign(s?t.m_inputUnitParams:t.m_outputUnitParams),h.processUnitParams(e);let m=null,l=null;if(n){l=n.getPECoordSys()}const g=Mm();g.initFromGcsAndVcsPe(l,m),g.processUnitParams(h),h.processUnitParams(g),a>0&&Am(h,g,i,o,a)}function Ym(e,t,s,n,r,i,o,a,h){const m=Mm(),l=Mm();m.assign(s?t.m_inputUnitParams:t.m_outputUnitParams),l.assign(r?n.m_outputUnitParams:n.m_inputUnitParams),m.processUnitParams(e),l.processUnitParams(m),m.processUnitParams(l),a>0&&Am(m,l,i,o,a),h.assign(l)}function Rm(e,t,s,n,r,i,o){const a=t.getVerttran(),h=t.getGeogtran();if(o.assign(s?t.m_inputUnitParams:t.m_outputUnitParams),o.processUnitParams(e),i>0){t.prepareOrThrow();const e=s?bc.PE_TRANSFORM_2_TO_1:bc.PE_TRANSFORM_1_TO_2;a?dg():pg(h,i,n,r,e)}}function Xm(e,t,s,n,r){const i=e.getVerttran(),o=e.getGeogtran();if(r>0){e.prepareOrThrow();const a=t?bc.PE_TRANSFORM_2_TO_1:bc.PE_TRANSFORM_1_TO_2;i?dg():pg(o,r,s,n,a)}}class Lm{supportsCurves(){return!0}accelerateGeometry(e,t,s){return zm(e,t,s)}canAccelerateGeometry(e){return Wm(e)}}function zm(e,t,s){if(!Wm(e))return!1;(0,_Envelope_js__WEBPACK_IMPORTED_MODULE_3__.L)(t,e,!1);let n=0;const r=e.getGeometryType();return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.h)(r)&&(0,_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.I)(e)&&0!==s&&(n|=e.getImpl().buildQuadTreeAccelerator(s)?1:0),(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.h)(r)&&(0,_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.J)(e)&&0!==s&&(n|=e.getImpl().buildQuadTreeForPathsAccelerator(s)?1:0),n>0}function Wm(e){return (0,_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.I)(e)||(0,_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.J)(e)}class jm extends Lm{getOperatorType(){return 8}execute(e,t,s,n){return kr(e,t,s,1,n)}}function Zm(s,i,o,a){if(s.isEmpty()||i.isEmpty())return s;const h=s.getDimension(),m=i.getDimension();if(h>m)return s;const l=s.getGeometryType(),g=i.getGeometryType(),u=new _Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D,c=new _Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D,_=new _Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D;s.queryEnvelope(u),i.queryEnvelope(c),_.setCoords({env2D:u}),_.mergeEnvelope2D(c);const d=(0,_Envelope_js__WEBPACK_IMPORTED_MODULE_3__.c)(o,_,!0),p=(0,_Envelope_js__WEBPACK_IMPORTED_MODULE_3__.e)(d),f=new _Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D;if(f.setCoords({env2D:u}),f.inflateCoords(p,p),!f.isIntersecting(c))return s;if(1===h&&2===m){const e=ol(s,i,g,o,a);if(e)return e}if(l===_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumPoint){let e;switch((0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.f)(g)?(e=new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.P({vd:i.getDescription()}),e.addSegment(i,!0)):e=i,g){case _Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumPolygon:return Jm(s,e,d);case _Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumPolyline:return $m(s,e,d);case _Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumMultiPoint:return el(s,e,d);case _Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumEnvelope:return tl(s,e,d);case _Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumPoint:return sl(s,e,d);default:(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.a)("invalid shape type")}}else if(l===_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumMultiPoint)switch(g){case _Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumPolygon:return nl(s,i,d);case _Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumEnvelope:return rl(s,i,d);case _Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumPoint:return il(s,i,d)}const x=new _Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D(u);x.inflate(100*d.total());return Ya(s,(0,_OperatorClip_js__WEBPACK_IMPORTED_MODULE_7__.c)(i,x,0,0,a),o,a)}class Km{getOperatorType(){return 10002}supportsCurves(){return!0}accelerateGeometry(e,t,s){return!1}canAccelerateGeometry(e){return!1}executeMany(e,t,s,n){return new Qm(e,t,s,n)}execute(e,t,s,n){return this.executeMany(new _SimpleGeometryCursor_js__WEBPACK_IMPORTED_MODULE_9__.S([e]),new _SimpleGeometryCursor_js__WEBPACK_IMPORTED_MODULE_9__.S([t]),s,n).next()}}class Qm extends _SimpleGeometryCursor_js__WEBPACK_IMPORTED_MODULE_9__.G{constructor(e,t,s,n){super(),this.m_progressTracker=n,this.m_index=-1,this.m_inputGeoms=e,this.m_spatialReference=s;const r=t.next();this.m_geomSubtractor=r||new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.a}next(){const e=this.m_inputGeoms.next();return e?((0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.c)(e),(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.y)(e),this.m_index=this.m_inputGeoms.getGeometryID(),Zm(e,this.m_geomSubtractor,this.m_spatialReference,this.m_progressTracker)):null}getGeometryID(){return this.m_index}tock(){return!0}getRank(){return 1}}function Jm(e,t,s,n){return 0===Xo(t,e,s.total())?e:e.createInstance()}function $m(t,s,n,r){const i=t.getXY(),o=s.querySegmentIterator(),a=(0,_Envelope_js__WEBPACK_IMPORTED_MODULE_3__.e)(n),h=a*a;for(;o.nextPath();)for(;o.hasNextSegment();){const s=o.nextSegment(),r=new _Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D;if(s.queryEnvelope(r),r.inflateCoords(a,a),!r.contains(i))continue;if(s.isIntersectingPoint(i,n.total()))return t.createInstance();let m=s.getStartXY();if(_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P.sqrDistance(i,m)<=h)return t.createInstance();if(m=s.getEndXY(),_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P.sqrDistance(i,m)<=h)return t.createInstance()}return t}function el(e,t,s,n){const r=t.getImpl().getAttributeStreamRef(0),i=t.getPointCount(),o=e.getXY(),a=(0,_Envelope_js__WEBPACK_IMPORTED_MODULE_3__.e)(s),h=a*a,m=new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P;for(let l=0;l<i;l++){r.queryPoint2D(2*l,m);if(_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P.sqrDistance(m,o)<=h)return e.createInstance()}return e}function tl(t,s,n,r){const i=new _Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D;s.queryEnvelope(i),i.inflate(n.total());const o=t.getXY();return i.contains(o)?t.createInstance():t}function sl(e,t,s,n){const r=(0,_Envelope_js__WEBPACK_IMPORTED_MODULE_3__.e)(s),i=r*r,o=e.getXY(),a=t.getXY();return _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P.sqrDistance(o,a)<=i?e.createInstance():e}function nl(t,s,n,r){const i=new _Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D;s.queryEnvelope(i),i.inflate(n.total());const o=t.getPointCount();let a=!1;const h=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.d)(o,!1),m=new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P;for(let e=0;e<o;e++){if(t.queryXY(e,m),!i.contains(m))continue;0!==Lo(s,m,n.total())&&(a=!0,h[e]=!0)}if(!a)return t;const l=t.createInstance();for(let e=0;e<o;e++)h[e]||l.addPoints(t,e,e+1);return l}function rl(t,s,n,r){const i=new _Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D;s.queryEnvelope(i),i.inflate(n.total());const o=t.getPointCount();let a=!1;const h=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.d)(o,!1),m=new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P;for(let e=0;e<o;e++)t.queryXY(e,m),i.contains(m)&&(a=!0,h[e]=!0);if(!a)return t;const l=t.createInstance();for(let e=0;e<o;e++)h[e]||l.addPoints(t,e,e+1);return l}function il(e,t,s,n){const r=e.getImpl().getAttributeStreamRef(0),i=e.getPointCount(),o=t.getXY();let a=!1;const h=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.d)(i,!1),m=(0,_Envelope_js__WEBPACK_IMPORTED_MODULE_3__.e)(s),l=m*m,g=new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P;for(let c=0;c<i;c++){r.queryPoint2D(2*c,g);_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P.sqrDistance(g,o)<=l&&(a=!0,h[c]=!0)}if(!a)return e;const u=e.createInstance();for(let c=0;c<i;c++)h[c]||u.addPoints(e,c,c+1);return u}function ol(t,s,r,i,o){const a=new _Envelope_js__WEBPACK_IMPORTED_MODULE_3__.E;t.queryEnvelope(a);const h=new _Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D;s.queryEnvelope(h),a.merge(h);const m=.1*a.width(),l=.1*a.height();a.inflateCoords(m,l);const g=new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.a;g.addEnvelope(a,!1);const u=g.getImpl();if(r===_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumPolygon){const e=s.getImpl();u.add(e,!0)}else u.addEnvelope(s,!0);return new Ih(g,i,-1,o).tryFastImplementation(t)}class al{getOperatorType(){return 10001}supportsCurves(){return!0}accelerateGeometry(e,t,s){return!1}canAccelerateGeometry(e){return!1}executeMany(e,t,s,n=0){return new gl(e,t,s,n)}execute(e,t,s,n){const r=new _SimpleGeometryCursor_js__WEBPACK_IMPORTED_MODULE_9__.S([e,t]),o=new gl(r,s,n,0).next();return o||(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.d)("null output"),o}}function hl(){return{geom:null,vertexCount:-1,bUnioned:!1,location:new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P}}function ml(e,t){return _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P.compareZorder(e.location,t.location)?-1:e.location.equals(t.location)?0:1}class ll{constructor(){this.binVertexCount=0,this.geometries=[]}addPair(e){this.binVertexCount+=e.vertexCount,this.geometries.push(e)}sort(){this.geometries.sort(((e,t)=>ml(e,t)))}geomCount(){return this.geometries.length}geomPairs(){return this.geometries}clear(){this.binVertexCount=0,this.geometries.length=0}getBinVertexCount(){return this.binVertexCount}}class gl extends _SimpleGeometryCursor_js__WEBPACK_IMPORTED_MODULE_9__.G{constructor(e,t,s,n,r=!1){super(),this.m_index=-1,this.m_currentDim=-1,this.m_bDone=!1,this.m_unionBins=[],this.m_readyGeoms=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.av)(4),this.m_dimGeomCounts=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.d)(4,0),this.m_addedGeoms=0,this.m_maxDimension=-1,this.m_bHadGeometry=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.d)(4,!1),this.m_complexUnionGeoms=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.av)(4),this.m_totalNonEmptyGeomCounters=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.d)(4,0),this.m_progressTracker=s,this.m_bUnionAllDimensions=!!(4&n),this.m_bPreserveAllPathEnds=!!(8&n),this.m_inputGeoms=e,this.m_spatialReference=t,this.m_options=n,this.m_bIs3D=r}next(){if(this.m_bDone&&this.m_currentDim===this.m_maxDimension)return null;for(;!this.step_(););if(-1===this.m_maxDimension)return null;if(this.m_bUnionAllDimensions){if(-1===this.m_currentDim)for(let e=0;e<=this.m_maxDimension;e++)if(this.m_bHadGeometry[e]){this.m_complexUnionGeoms[e]=this.getResultGeometry(e);for(let t=e+1;t<=this.m_maxDimension;t++)this.m_complexUnionGeoms[t]=this.getResultGeometry(t),this.m_bHadGeometry[t]&&!this.m_complexUnionGeoms[t].isEmpty()&&(this.m_bIs3D?(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(0):this.m_complexUnionGeoms[e]=(new Km).execute(this.m_complexUnionGeoms[e],this.m_complexUnionGeoms[t],this.m_spatialReference,this.m_progressTracker))}for(;this.m_currentDim++,(this.m_currentDim>this.m_maxDimension||this.m_currentDim<0)&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.d)(""),!this.m_bHadGeometry[this.m_currentDim];);if(this.m_index++,0===this.m_currentDim&&this.m_complexUnionGeoms[this.m_currentDim].getGeometryType()===_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumPoint){const e=new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.M({vd:this.m_complexUnionGeoms[this.m_currentDim].getDescription()});return this.m_complexUnionGeoms[this.m_currentDim].isEmpty()||e.add(this.m_complexUnionGeoms[this.m_currentDim]),e}return this.m_complexUnionGeoms[this.m_currentDim]}return this.m_index=0,this.m_currentDim=this.m_maxDimension,this.getResultGeometry(this.m_maxDimension)}getGeometryID(){return this.m_index}getRank(){return 1}tock(){return this.step_()}getResultGeometry(e){return this.m_readyGeoms[e]}finishDim(e,t,s){let r=t;if(!s)return 16&this.m_options?(r=ja([r],1,this.m_spatialReference,this.m_progressTracker,this.m_options,this.m_bIs3D),r):r;if(1&this.m_options)return r;if(1===e){if(!(8&this.m_options)&&(!!(16&this.m_options)||this.m_totalNonEmptyGeomCounters[e]>1)){r=ja([r],1,this.m_spatialReference,this.m_progressTracker,16|this.m_options,this.m_bIs3D);const e=[0],t=r.getImpl().getIsSimple(0,e);(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(this.m_bIs3D||(0,_Envelope_js__WEBPACK_IMPORTED_MODULE_3__.i)(t))}else 1===this.m_totalNonEmptyGeomCounters[e]&&(this.m_bIs3D?(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(0):r=(new Eh).execute(r,this.m_spatialReference,!1,this.m_progressTracker))}else this.m_bIs3D?(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(0):r=(new Eh).execute(r,this.m_spatialReference,!1,this.m_progressTracker);if(0===e&&r.getGeometryType()===_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumPoint){const e=new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.M({vd:r.getDescription()});r.isEmpty()||e.add(r),r=e}return r}static getLevel(e){const t=4,s=(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.v)(e);let n=s>0?(Math.log(s)-Math.log(32))/Math.log(t):0;return n<0&&(n=0),Math.floor(n)}step_(){if(this.m_bDone)return!0;let e;if(this.m_inputGeoms?(e=this.m_inputGeoms.next(),null===e?(this.m_bDone=!0,this.m_inputGeoms=null):(this.checkAndThrow(e),e.isEmpty()||this.m_totalNonEmptyGeomCounters[e.getDimension()]++)):e=null,null!==e){const t=e.getDimension();this.m_bHadGeometry[t]=!0,(t>=this.m_maxDimension||this.m_bUnionAllDimensions)&&(this.addGeom(t,!1,e),t>this.m_maxDimension&&!this.m_bUnionAllDimensions&&this.removeAllBinsWithLowerDimension(t))}if(this.m_addedGeoms>0)for(let t=0;t<=this.m_maxDimension;t++){for(;this.m_dimGeomCounts[t]>1;){const e=this.collectGeometriesToUnion(t);if(null===e)break;{let s;s=1&this.m_options?ja(e,e.length,this.m_spatialReference,this.m_progressTracker,this.m_options,this.m_bIs3D):Za(e,e.length,this.m_spatialReference,this.m_progressTracker,8|this.m_options,this.m_bIs3D),this.addGeom(t,!0,s)}}if(this.m_bDone&&((0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(this.m_dimGeomCounts[t]<=1),0!==this.m_dimGeomCounts[t])){const e=this.m_unionBins[t].entries().next().value,s=e[1].geomPairs()[0].geom,n=e[1].geomPairs()[0].bUnioned;this.m_unionBins[t].clear(),this.m_readyGeoms[t]=this.finishDim(t,s,n)}}return this.m_bDone}addGeom(t,s,n){const r=hl();r.geom=n;const i=(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.v)(n);r.vertexCount=i;const o=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D.constructEmpty();n.queryEnvelope(o),r.location=i>0?o.getCenter():new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P(0,0);const a=gl.getLevel(n);if(t+1>this.m_unionBins.length)for(;this.m_unionBins.length<Math.max(2,t+1);)this.m_unionBins.push(new Map);let h=null;const m=this.m_unionBins[t].get(a);m&&(h=m),null===h&&(h=new ll,this.m_unionBins[t].set(a,h)),r.bUnioned=s,h.addPair(r),this.m_dimGeomCounts[t]++,this.m_addedGeoms++,this.m_maxDimension=Math.max(this.m_maxDimension,t)}removeAllBinsWithLowerDimension(e){for(let t=0;t<e;t++)this.m_unionBins[t].clear(),this.m_addedGeoms-=this.m_dimGeomCounts[t],this.m_dimGeomCounts[t]=0}collectGeometriesToUnion(e){if(1&this.m_options&&!this.m_bDone)return null;let t=null;const s=[];for(const n of this.m_unionBins[e].keys())s.push(n);(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.v)(s);for(let n=0;n<s.length;n++){if(-1===s[n])continue;const r=this.m_unionBins[e].get(s[n]);{const i=5e3,o=4,a=r.getBinVertexCount()>i&&r.geomCount()>=o;if(this.m_bDone||a){for(let r=0;r<n;r++){if(-1===s[r])continue;const n=this.m_unionBins[e].get(s[r]);n.sort(),this.m_dimGeomCounts[e]-=n.geomCount(),this.m_addedGeoms-=n.geomCount();for(const e of n.geomPairs())t||(t=new Array),t.push(e.geom);n.clear(),this.m_unionBins[e].delete(s[r]),s[r]=-1}r.sort(),this.m_dimGeomCounts[e]-=r.geomCount(),this.m_addedGeoms-=r.geomCount();for(const e of r.geomPairs())t||(t=new Array),t.push(e.geom);if(r.clear(),this.m_unionBins[e].delete(s[n]),s[n]=-1,!this.m_bDone)break}}}return t}checkAndThrow(e){this.m_bIs3D&&(e.getDimension()>1&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.A)(),e.hasAttribute(1)||(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.a)("Geometry must have Zs")),(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.c)(e)}}class ul extends Lm{getOperatorType(){return 3}execute(e,t,s,n=null){return kr(e,t,s,4,n)}}function cl(t,s,n){const r=s.getGCSSplitLines();if(null===r)return t;const i=s.getGCS(),o=i.getPannableExtent().width(),a=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D.constructEmpty();t.queryLooseEnvelope(a);const h=_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.E.constructEmpty();a.queryIntervalX(h);const m=r.querySegmentIterator();let l=null;const g=new _Transformation2D_js__WEBPACK_IMPORTED_MODULE_6__.T;for(;m.nextPath();)for(;m.hasNextSegment();){const e=m.nextSegment(),t=e.queryInterval(0,0),s=_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.E.constructEmpty();s.setCoordsFromEnvelope(t);let n=0;for(;s.vmax>h.vmin;)s.move(-o),n--;for(;s.vmin<=h.vmax;){if(s.isIntersecting(h)){null===l&&(l=new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.P);const t=new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.L({start:e.getStartXY(),end:e.getEndXY()});0!==n&&(g.setShiftCoords(n*o,0),t.applyTransformation(g)),l.addSegment(t,!0)}s.move(o),++n}}if(null!==l){const e=(0,_Envelope_js__WEBPACK_IMPORTED_MODULE_3__.b)(i,l,!0);return Un(t,l,(0,_Envelope_js__WEBPACK_IMPORTED_MODULE_3__.e)(e),n)}return t}function _l(e,t,s){let n=e.getName();return sc(n)||(s||t>0?(n=e.toString(bc.PE_STR_NAME_CANON|bc.PE_STR_AUTH_NONE),n=yl(n)):n=e.toString(bc.PE_STR_AUTH_TOP)),n}function dl(e,t,s,n){return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(0),""}function pl(e,s=-1){if((s>1||s<-1)&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.a)("verbosity"),-1===s)return e.toString();{const t=0===s?bc.PE_STR_AUTH_TOP:bc.PE_STR_AUTH_ALL;return e.toString(t)}}function fl(e,s){(s>1||s<-1)&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.a)("verbosity");let n=bc.PE_STR_FMT_WKT2;return-1!==s&&(n|=0===s?bc.PE_STR_AUTH_TOP:bc.PE_STR_AUTH_ALL),e.toString(n)}function xl(e){return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(0),""}function yl(e){return e.toLocaleUpperCase("en-US")}function Pl(e,s,r){const i=e.getPCSHorizon();if(i.getGeometryType()!==_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumPolygon)if(i.getGeometryType()!==_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumEnvelope)(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.a)("");else{const e=i;for(let t=0;t<r;t++)e.contains(s[t])||s[t].setNAN()}else{const t=e.getDefaultPrecisionSR().getTolerance(0),n=i;for(let e=0;e<r;e++)1!==Lo(n,s[e],t)&&s[e].setNAN()}}function El(e,t,s,n){for(let r=0;r<t;r++){if(e[r].y<s.ymin||e[r].y>s.ymax){e[r].setNAN();continue}const t=e[r].x;e[r].x=Gl(t,s,n)}}function Sl(t,s,r,a){if(t.isEmpty()||1===r)return t;const h=t.getGeometryType();if(h===_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumPoint){const e=t,n=e.getXY();return 0===wl([n],1,s,r)||n.isNAN()?e.setEmpty():e.setXY(n),t}if(h===_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumMultiPoint){const e=t,n=t.createInstance(),i=e.getPointCount();n.reserve(i);const o=e.getAttributeStreamRef(0),a=e.getDescription().getAttributeCount()>1,h=new _Envelope_js__WEBPACK_IMPORTED_MODULE_3__.P,m=Float64Array.from(o.getArray());if(wl(m,i,s,r)>0)for(let t=0,s=2*i;t<s;t+=2)Number.isNaN(m[t])||(a?(e.getPointByVal(t>>1,h),h.setXYCoords(m[t],m[t+1]),n.add(h)):n.addXY(m[t],m[t+1]));return n}let m=t;const l=s.getOneDegreeGCSUnit(),g=90*l,u=180*l,c=360*l,_=s.getCentralMeridian(),d=.5*l,p=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D.constructEmpty();m.queryEnvelope(p);const f=s.getGCSHorizon(),x=s.getGCSHorisonIsInclusive(),y=f.getGeometryType()===_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumEnvelope,P=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D.constructEmpty();f.queryEnvelope(P);const E=s.getGCS();if(2!==r&&4!==r||(P.xmin=_-u,P.xmax=P.xmin+c),4===r){if(!(p.width()>c-l)){const t=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D.constructEmpty();t.setCoords({xmin:p.xmin-l,ymin:P.ymin,xmax:p.xmax+l,ymax:P.ymax}),m=(new _OperatorClip_js__WEBPACK_IMPORTED_MODULE_7__.O).execute(m,t,E,a);let s=Math.floor((_-p.getCenterX())/c);for(p.move(s*c,0);p.xmin>P.xmax;)s-=1,p.move(-c,0);for(;p.xmin<P.xmin;)s+=1,p.move(c,0);if(0!==s){const e=new _Transformation2D_js__WEBPACK_IMPORTED_MODULE_6__.T;e.setShiftCoords(s*c,0),m.applyTransformation(e)}return m}r=2}if(2===r&&(P.xmin=_-u,P.xmax=P.xmin+c),p.ymin<-g||p.ymax>g){const t=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D.constructEmpty();if(t.setCoords({xmin:p.xmin-l,ymin:-g,xmax:p.xmax+l,ymax:g}),m=(new _OperatorClip_js__WEBPACK_IMPORTED_MODULE_7__.O).execute(m,t,E,a),m.isEmpty())return m;m.queryEnvelope(p)}if(x&&(P.ymax<p.ymin||P.ymin>p.ymax))return m.createInstance();p.width()>c&&(m=ql(m,_-u,c,E,!0,0,!0,a),m.queryEnvelope(p));let S=Ul(p.xmin,p.xmax,P.xmin,P.xmax,c);if(0!==S&&p.move(S,0),p.xmax>P.xmax||p.xmin<P.xmin){if(p.xmax>P.xmax)for(;p.xmin>=P.xmax;)p.move(-c,0),S-=c;for(;p.xmin<P.xmax-c;)p.move(c,0),S+=c}const C=(0,_Envelope_js__WEBPACK_IMPORTED_MODULE_3__.L)(E,f,!1);if(0!==S){const e=new _Transformation2D_js__WEBPACK_IMPORTED_MODULE_6__.T;e.setShiftCoords(S,0),m.applyTransformation(e),S=0}if(x){if(y&&P.containsEnvelope(p))return m;const e=new Array(2);for(let t=0;t<2;t++){let s;if(y?s=(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.h)(h)?(0,_OperatorClip_js__WEBPACK_IMPORTED_MODULE_7__.c)(m,P,C,d,a):(0,_OperatorClip_js__WEBPACK_IMPORTED_MODULE_7__.c)(m,P,C,0,a):(s=(new wh).execute(m,f,E,a),s===f&&(s=s.clone())),P.xmin<=p.xmin&&P.xmax>=p.xmax)return s;if(P.xmin>=p.xmin&&P.xmax<=p.xmax)return s;if(e[t]=s,0===t){p.move(-c,0);const e=new _Transformation2D_js__WEBPACK_IMPORTED_MODULE_6__.T;e.setShiftCoords(-c,0),m.applyTransformation(e)}}return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.h)(h)?e[0].add(e[1],!1):(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.d)("intersect_with_GCS_horizon: unexpected geometry type"),e[0]}{if(P.ymax<p.ymin||P.ymin>p.ymax)return m;let e=0;for(;!m.isEmpty()&&p.xmax>P.xmin;){if(0!==e){const t=new _Transformation2D_js__WEBPACK_IMPORTED_MODULE_6__.T;t.setShiftCoords(e,0),m.applyTransformation(t)}if(!(new ul).execute(m,f,E,a)){m=(new Km).execute(m,f,E,a),f===m&&(m=m.clone())}if(0!==e){const t=new _Transformation2D_js__WEBPACK_IMPORTED_MODULE_6__.T;t.setShiftCoords(-e,0),m.applyTransformation(t)}e-=c,p.move(-c,0)}return m}}function Cl(e,t,s,n,r,i){const o={stack:[],error:void 0,hasError:!1};try{if(2===i){return Gs(e,t,s,n,r)}if(Math.abs(s.x-n.x)>=Math.PI||!Fg(s.x,n.x,r))return Number.NaN;s.x>n.x&&(n=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.c)(s,s=n));const a=(0,_tslib_es6_js__WEBPACK_IMPORTED_MODULE_5__.b)(o,new Cc,!1),h=(0,_tslib_es6_js__WEBPACK_IMPORTED_MODULE_5__.b)(o,new Cc,!1),m=(0,_tslib_es6_js__WEBPACK_IMPORTED_MODULE_5__.b)(o,new Cc,!1),l=s.clone();Dc.geodeticDistance(e,t,s.x,s.y,n.x,n.y,h,a,null,i);const g=h.val;let u=0,c=1;for(;g*(c-u)>1e-12*e;){const o=.5*(u+c);if(Dc.geodeticCoordinate(e,t,s.x,s.y,g*o,a.val,h,m,i),l.x=h.val,l.y=m.val,l.x===r)return l.y;if(Fg(s.x,l.x,r))c=o;else{if(!Fg(n.x,l.x,r))return Number.NaN;u=o}}return l.y}catch(a){o.error=a,o.hasError=!0}finally{(0,_tslib_es6_js__WEBPACK_IMPORTED_MODULE_5__.c)(o)}}function Il(e,t){let s;if(Array.isArray(e)){const n=e;s=new Float64Array(2*t);for(let e=0,r=0;e<t;e++,r+=2)s[r]=n[e].x,s[r+1]=n[e].y}else s=e;return s}function bl(e,t,s,n){for(let r=0,i=0;r<n;r++,i+=2)t[s+r].x=e[i],t[s+r].y=e[i+1]}function wl(t,s,r,i){if(0===s||1===i)return s;const o=Il(t,s);if(2===i){const e=r.getPannableExtentInGCS();let n=s;for(let t=0,r=2*s;t<r;t+=2)(o[t+1]>e.ymax||o[t+1]<e.ymin)&&(o[t]=Number.NaN,n--);return n?(Bl(o,s,e.xmin,e.width(),!0),t!==o&&bl(o,t,0,s),n):0}const a=r.getOneDegreeGCSUnit(),h=90*a,m=180*a,l=360*a;let g=s;for(let e=0,n=2*s;e<n;e+=2)(o[e+1]>h||o[e+1]<-h)&&(o[e]=Number.NaN,g--);if(!g)return 0;const u=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D.constructEmpty();u.setFromPoints(o,s);const c=r.getGCSHorizon(),_=r.getGCSHorisonIsInclusive(),d=c.getGeometryType()===_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumEnvelope,p=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D.constructEmpty();if(c.queryEnvelope(p),_&&(p.ymax<u.ymin||p.ymin>u.ymax))return 0;if(_){if(Bl(o,s,p.getCenterX()-m,l,!0),g=s,d)for(let e=0,t=2*s;e<t;e+=2)p.containsCoords(o[e],o[e+1])||(o[e]=Number.NaN,g--);else{const e=(0,_Envelope_js__WEBPACK_IMPORTED_MODULE_3__.L)(r.getGCS(),c,!1),t=new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P;for(let n=0,r=2*s;n<r;n+=2){t.setCoords(o[n],o[n+1]);0!==Lo(c,t,e)||(o[n]=Number.NaN,g--)}}}else{Bl(o,s,-m,l,!0),g=s;const e=(0,_Envelope_js__WEBPACK_IMPORTED_MODULE_3__.L)(r.getGCS(),c,!1),t=new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P;for(let n=0,r=2*s;n<r;n+=2){t.setCoords(o[n],o[n+1]),t.isNAN()&&g--;const s=Ml(t.x,p.xmin,p.xmax,l);t.x+=s;0!==Lo(c,t,e)&&(o[n]=Number.NaN,g--)}}return g>0&&Array.isArray(t)&&bl(o,t,0,s),g}function vl(e,s,n,r,i,o){if(s.isPannable()||(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.a)("fold_into_360_degree_range"),e.isEmpty())return e;let a,h;if(2===s.getCoordinateSystemType()){const e=s.getPannableExtent();h=e.xmin,a=e.width()}else{const e=s.getOneDegreeGCSUnit();a=360*e,h=n-180*e}return ql(e,h,a,s,r,i,!0,o)}function Nl(e,t,s,n){let r,i;if(2===s.getCoordinateSystemType()){const e=s.getPannableExtent();r=e.xmin,i=e.width()}else{const e=s.getOneDegreeGCSUnit();i=360*e,r=n-180*e}Bl(e,t,r,i)}function Tl(e,t){const s=t.width();let n=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.n)(e-t.vmin,s);n<0&&(n+=s);return t.snapClip(n+t.vmin)}function Gl(e,t,s){return e>t.xmax&&e-t.xmax<s?t.xmax:e<t.xmin&&t.xmin-e<s?t.xmin:e}function Dl(e,t,s){if(e[0]<t.vmin||e[0]>t.vmax||s&&e[0]===t.vmax){const s=t.width();return e[0]+=Math.ceil((t.vmin-e[0])/s)*s,e[0]=t.snapClip(e[0]),!0}return!1}function Vl(e,t,s,n,r,i,o,a,h){return new Dm(e,null,s,t,n,r,o,a,i).geoNormalizePolygonGeometry(h)}function Fl(e,t,s,n,r,i,o,a,h){return new Dm(e,null,s,t,n,r,o,a,i).geoNormalizePolylineGeometry(h)}function Hl(e,t,s,n,r){const i=new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.E,o=i.addGeometry(e);return kl(i,o,t,(0,_Envelope_js__WEBPACK_IMPORTED_MODULE_3__.L)(t,e,!1),s,n,r),i.getGeometry(o)}function kl(e,t,s,n,r,i,o){const h={stack:[],error:void 0,hasError:!1};try{(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(Uu()),s.isPannable()||(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.p)("insert_geodetic_points");const m=s.getPannableExtent(),l=s.getGCS(),g=Hu();l.querySpheroidData(g);const u=l.getUnit().getUnitToBaseFactor(),_=g.majorSemiAxis,d=g.e2;let p=0;const f=new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.E;m.queryIntervalX(f);let x=null;const y=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.d)(4,Number.NaN);2===s.getCoordinateSystemType()?(x=s.getPECoordSys(),i?(y[0]=Tl(o,f),y[1]=m.getCenterY(),wc.projToGeog(x,1,y),p=y[0]*u):(y[0]=m.getCenterX(),y[1]=o,wc.projToGeog(x,1,y),p=y[1]*u)):p=o*u,i||0===p||2===r||(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.p)("insert_geodetic_points: 1");const P=(0,_tslib_es6_js__WEBPACK_IMPORTED_MODULE_5__.b)(h,new Cc,!1),E=new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P,S=new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P,C=new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P,I=new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P,b=new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P,w=new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P;for(let a=e.getFirstPath(t);a!==_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n;a=e.getNextPath(a)){const t=e.getFirstVertex(a);e.queryXY(t,C);let h=!1;const m=e.getNextVertex(t);for(let a=m;a!==_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.n;a=e.getNextVertex(a)){if(a===m){if(h)break;h=!0}if(e.queryXY(a,I),i&&(n<o-C.x&&I.x-o>n||n<o-I.x&&C.x-o>n)||!i&&(0!==o||n<-C.y&&I.y>n||n<-I.y&&C.y>n))do{if(Math.abs(C.x-I.x)>=.5*f.width())break;2===s.getCoordinateSystemType()?(y[0]=Tl(C.x,f),y[1]=C.y,y[2]=Tl(I.x,f),y[3]=I.y,ag(x,2,y,0),b.x=y[0]*u,b.y=y[1]*u,w.y=y[3]*u):(b.x=C.x*u,b.y=C.y*u,w.y=I.y*u),w.x=(I.x-C.x)*Math.PI*2/f.width()+b.x;let t=0;const n=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P,2);if(i){if(S.x=p,S.y=Cl(_,d,b,w,p,r),Number.isNaN(S.y))break;n[0]=S,t=1}else if(2===r){const e=[0,0];if(t=Ds(_,d,b,w,p,e),!t)break;n[0].x=e[0],n[0].y=p,2===t&&(n[1].x=e[1],n[1].y=p)}else{if(S.x=Hg(_,d,b,w,r),Number.isNaN(S.x))break;S.y=0,n[0]=S,t=1}let h=-1;for(let m=0;m<t;m++){Dc.geodeticDistance(_,d,b.x,b.y,w.x,w.y,P,null,null,r);const t=P.val;Dc.geodeticDistance(_,d,b.x,b.y,n[m].x,n[m].y,P,null,null,r);const l=P.val;2===s.getCoordinateSystemType()?(y[0]=n[m].x/u,y[1]=n[m].y/u,wc.geogToProj(x,1,y),i?(E.y=y[1],E.x=o):(E.x=kg(y[0],C.x,I.x,f),E.y=o)):i?(E.x=o,E.y=n[m].y/u):(E.x=kg(n[m].x/u,C.x,I.x,f),E.y=o);const g=t>0?(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.s)(l/t,0,1):.5;if(0===g||1===g)continue;if(h>g)continue;const c=e.getPrevVertex(a);e.splitSegment(c,[g],1);const p=e.getNextVertex(c);e.setXYCoords(p,E.x,E.y),h=g}}while(0);C.setCoordsPoint2D(I)}}}catch(m){h.error=m,h.hasError=!0}finally{(0,_tslib_es6_js__WEBPACK_IMPORTED_MODULE_5__.c)(h)}}function Al(t,s){(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(s.isPannable());const r=s.getPannableExtent();if(t.getGeometryType()===_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumPoint){const e=t.getY();return r.ymin<=e&&e<=r.ymax?t:t.createInstance()}const i=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D.constructEmpty();t.queryEnvelope(i);const o=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D.constructEmpty();o.setCoords({env2D:r}),o.xmin=i.xmin,o.xmax=i.xmax,o.inflateCoords(.01*o.height(),0);const h=(0,_Envelope_js__WEBPACK_IMPORTED_MODULE_3__.a)(s,i,!1);let m;return m=o.containsEnvelope(i)?t:(0,_OperatorClip_js__WEBPACK_IMPORTED_MODULE_7__.c)(t,o,h,0,null),m}function Ml(e,t,s,n){return (0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.ax)((.5*(s+t)-e)/n)*n}function Ul(e,t,s,n,r){if(e>=s&&t<=n)return 0;return Ml(.5*(t+e),s,n,r)}function ql(t,s,r,i,o,a,h,m){const l=t.getGeometryType(),g=_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.E.constructEmpty();g.setCoords(s,s+r);const u=[0];if(l===_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumPoint){const e=t;if(u[0]=e.getX(),Dl(u,g,h)){const e=o?t:t.clone();return e.setX(u[0]),e}return t}const c=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D.constructEmpty();if(t.queryEnvelope(c),c.isEmpty())return t;if(l===_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumMultiPoint){const e=o?t:t.clone(),s=e.getImpl(),n=s.getAttributeStreamRef(0),r=2*s.getPointCount();let i=!1;for(let t=0;t<r;t+=2)u[0]=n.read(t),Dl(u,g,h)&&(n.write(t,u[0]),i=!0);return i&&s.notifyModifiedFlags(2001),e}const _=_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.E.constructEmpty();if(c.queryIntervalX(_),g.contains(_))return g.vmax,_.vmax,t;const d=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D.constructEmpty();if(d.setCoords({env2D:c}),0===_.width()){let e=_.vmin;e+=Math.ceil((g.vmin-e)/r)*r,e=g.snapClip(e);const s=o?t:t.clone();return s.setAttributeBasic(0,0,e),s}if(l===_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumEnvelope){const e=o?t:t.clone();return c.intersect(d),e.setEnvelope(c),e}const p=.1*Math.max(c.height(),c.width())*1;d.inflateCoords(0,p);let f=t;const x=i.getTolerance(0),y=new _Transformation2D_js__WEBPACK_IMPORTED_MODULE_6__.T;for(;;){const e=Math.floor((_.vmin-s)/r),t=Math.ceil((_.vmax-s)/r);if(!(t-e>3))break;{const o=Math.floor(.5*(t+e));d.xmin=c.xmin-p,d.xmax=s+r*o;const h=(0,_OperatorClip_js__WEBPACK_IMPORTED_MODULE_7__.c)(f,d,x,a,m);d.xmin=d.xmax,d.xmax=c.xmax+p;const g=(0,_OperatorClip_js__WEBPACK_IMPORTED_MODULE_7__.c)(f,d,x,a,m);y.setShiftCoords((o-t)*r,0),g.applyTransformation(y),l===_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumPolygon?f=(new al).execute(h,g,i,m):(f=h,f.add(g,!1)),f.queryEnvelope(c),c.queryIntervalX(_)}}d.xmin=s,d.xmax=s+r;const P=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D.constructEmpty();P.setCoords({env2D:d}),P.inflateCoords(x,0);const E=Math.floor((c.xmin-d.xmin)/r)*r;let S;E?(d.move(E,0),y.setShiftCoords(-E,0)):y.setIdentity(),S=l===_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumPolyline?new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.P({vd:f.getDescription()}):new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.a({vd:f.getDescription()});const C=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D.constructEmpty(),b=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D.constructEmpty();for(;c.xmax>d.xmin;){const e=(0,_OperatorClip_js__WEBPACK_IMPORTED_MODULE_7__.c)(f,d,x,0,m);e.queryEnvelope(b);let t=!1;t=l===_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumPolyline?!e.isEmpty()&&(b.width()>x||b.height()>x):!e.isEmpty()&&(l!==_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumPolygon||b.width()>x),t&&(e.applyTransformation(y),e.queryEnvelope(b),S.queryEnvelope(C),C.inflateCoords(x,x),C.isIntersecting(b)&&l===_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumPolygon?S=(new al).execute(S,e,i,m):S.add(e,!1)),d.move(r,0),y.shiftCoords(-r,0)}return S}function Bl(e,t,s,n,r=!0){const i=new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.E;i.setCoords(s,s+n);const o=[0];if(Array.isArray(e)){const s=e;for(let e=0;e<t;e++)i.containsRightExclusive(s[e].x)||(o[0]=s[e].x,Dl(o,i,r),s[e].x=o[0])}else{const s=e;for(let e=0;e<t;e++){const t=e<<1;i.containsRightExclusive(s[t])||(o[0]=s[t],Dl(o,i,r),s[t]=o[0])}}}function Ol(t,s,r,h=!0){if(t.isEmpty())return;const m=t.getGeometryType();if(!h||m!==_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumPolygon)if((0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.i)(m)){let e=!1;if((0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.h)(m)&&t.hasNonLinearSegments()){const n=t.getImpl(),i=n.getAttributeStreamRef(0),o=n.getSegmentFlagsStreamRef();(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(null!==o);for(let t=0,a=n.getPathCount();t<a;t++){let a=!0;const h=n.isClosedPath(t),m=n.getPathEnd(t);if(h&&n.getPathSize(t)>0){a=1===(31&o.read(m-1))}for(let l=n.getPathStart(t);l<m;l++){if(1===(31&o.read(l))){if(a){const t=i.read(2*l),n=Gl(t,s,r);n!==t&&(e=!0,i.write(2*l,n))}a=!0}else a=!1}}}else{const n=t.getImpl(),i=n.getAttributeStreamRef(0);for(let t=0,o=n.getPointCount();t<o;t++){const n=i.read(2*t),o=Gl(n,s,r);o!==n&&(e=!0,i.write(2*t,o))}}e&&t.getImpl().notifyModifiedFlags(2001)}else if(m===_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumEnvelope){const n=t,i=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D.constructEmpty();n.queryEnvelope(i),i.xmin=Gl(i.xmin,s,r),i.xmax=Gl(i.xmax,s,r),n.setEnvelope(i)}else if(m===_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumPoint){const e=t;e.setX(Gl(e.getX(),s,r))}else (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.d)("")}function Yl(e,t,s){const n=new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P;return n.x=Gl(e.x,t,s),n.y=e.y,n}function Rl(t,s){if(s.isEmpty())return 0;const n=t.getPECoordSys();if(n.getProjection().getCode()===bc.PE_PRJ_AZIMUTHAL_EQUIDISTANT){const r=Hu();t.querySpheroidData(r);const i=n.getParameters();if(null===i[bc.PE_PARM_LAM0])return 0;if(null===i[bc.PE_PARM_PHI0])return 0;const o=[i[bc.PE_PARM_LAM0].getValue(),i[bc.PE_PARM_PHI0].getValue()];wc.geogToProj(n,1,o);const a=new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P(o[0],o[1]),h=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D.constructEmpty();s.queryEnvelope(h);const m=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P,4);h.queryCorners(m);let l=0;const g=t.getOneMeter();let u=Math.max(r.majorSemiAxis,r.minorSemiAxis)*Math.PI,c=Math.min(r.majorSemiAxis,r.minorSemiAxis)*Math.PI;c-=u/180,u*=g,c*=g;for(let e=0;e<4;e++){const t=_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P.distance(m[e],a);if(t>u)l++;else if(t>c)return-1}if(0===l)return 1;if(4===l){const t=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D.constructEmpty();return t.setCoords({center:a,width:u,height:u}),h.isIntersectingNe(t)?-1:0}return-1}return-1}function Xl(t,s,r,i){const o=t.getGeometryType();(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(o===_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumPolygon||o===_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumPolyline||o===_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumMultiPoint);const h=s.getCoordinateSystemType();if(2===h){let a=t;if(0===r){const r=Rl(s,t);if(0===r)return t.createInstance();if(1===r)return t;const o=s.getPCSHorizon(),h=o.getGeometryType(),m=s.getDefaultPrecisionSR();if(h===_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumEnvelope){const n=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D.constructEmpty();o.queryEnvelope(n);const r=(0,_Envelope_js__WEBPACK_IMPORTED_MODULE_3__.a)(m,n,!1);a=(0,_OperatorClip_js__WEBPACK_IMPORTED_MODULE_7__.c)(t,n,r,5e4*s.getOneMeterPCSUnit(),i)}else(new jm).execute(o,t,m,i)||(a=(new wh).execute(a,o,m,i),a===o&&(a=a.clone()))}else if(s.isPannable()){const t=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D.constructEmpty();a.queryEnvelope(t);const h=s.getPannableExtent();h.containsEnvelope(t)||(Ol(a,h,s.getTolerance(0)),2!==r&&4!==r||(a=Al(a,s)),4!==r?a=vl(a,s,0,!0,1e5*s.getOneMeterPCSUnit(),i):o===_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumPolygon&&t.width()>2*h.width()&&(a=ql(a,-2*h.width(),2*h.width(),s,!0,0,!0,i)))}return a}if((0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(1===h),o===_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumMultiPoint)return Ol(t,s.getPannableExtent(),s.getTolerance(0)),t;{const r=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D.constructEmpty();t.queryEnvelope(r);let a=t;const h=s.getPannableExtent();if(r.ymin<h.ymin||r.ymax>h.ymax){const t=Math.max(1,r.calculateToleranceFromEnvelope()),n=new _Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D(r.xmin-t,h.ymin,r.xmax+t,h.ymax);if(a=(new _OperatorClip_js__WEBPACK_IMPORTED_MODULE_7__.O).execute(a,n,s,i),a.isEmpty())return a}return o===_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumPolygon&&r.width()>2*h.width()&&(a=ql(a,-2*h.width(),2*h.width(),s,!0,0,!0,i)),a}}function Ll(e,t,s,n,r,i){const o=n.getCoordinateSystemType();if(2===o){if(0===r)s!==e&&(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.aw)(s,e,t),Pl(n,s,t);else if(s!==e&&(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.aw)(s,e,t),n.isPannable()){const e=n.getTolerance(0);El(s,t,n.getPannableExtent(),e),Nl(s,t,n,0)}}else{(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(1===o);const r=n.getTolerance(0),i=n.getPannableExtent();for(let n=0;n<t;n++)s[n].assign(Yl(e[n],i,r))}}function zl(e,t){const s=t.getPointCount();if(!s)return;const n=t.getImpl(),r=n.getAttributeStreamRef(0),i=e;wc.geogToProj(i,s,r.getArray()),n.notifyModifiedFlags(2001)}function Wl(e,t,s,n){if(!s)return;const r=e.getPECoordSys();if(1===s){const s=[t[0].x,t[0].y];if(wc.geogToProj(r,1,s),n){const{first:n,second:r}=e.m_peCoordSysVal.getGeogToProjFactors();s[0]=n*(t[0].x-e.getCentralMeridian())+r}return void t[0].setCoords(s[0],s[1])}const i=e.isPannable(),o=i?e.getPannableExtent().width():0,a=179*o/360;let h=0;i&&(h=e.getCentralMeridian());const m=256,l=new Float64Array(2*m);for(let g=0;g<s;){for(let e=g;e<s&&t[e].isNAN();++e)g++;let u=Math.min(m,s-g);if(u>0){for(let e=1,s=g+1;e<u;++e,++s)if(t[s].isNAN()){u=e;break}for(let e=0;e<u;++e){const s=e<<1;l[s]=t[g+e].x,l[s+1]=t[g+e].y}if(wc.geogToProj(r,u,l),n){const{first:s,second:n}=e.m_peCoordSysVal.getGeogToProjFactors();for(let e=0;e<u;++e){l[e<<1]=s*(t[g+e].x-h)+n}}if(i)for(let e=0,s=g;e<u;e++,s++){const n=e<<1,r=l[n],i=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.e)(r),m=t[s].x-h;i*(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.e)(m)<0&&Math.abs(r)>a&&(l[n]-=i*o)}bl(l,t,g,u),g+=u}}}function jl(e,t,s,n){const r=e.getSRToGCSTransform();return(new qh).transform(r,t,s,n,!1)}function Zl(t,s,n,r){const i=new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.M({vd:s.getDescription()});let o;i.addPoints(s,0,-1),o=(new qh).execute(i,t,r);const a=s.getPointCount();if(n.setEmpty(),t.getInputSR().isPannable()){if(a!==o.getPointCount())return!1;const r=new _Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D;s.queryEnvelope(r);const i=new _Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D;o.queryEnvelope(i);const h=r.width(),m=i.width();if(0!==h&&0!==m){const e=m/h,s=t.getOutputSR().getPannableExtent().width()/t.getInputSR().getPannableExtent().width();if(Math.abs(e/s-1)>1e-10)return!1}else if(0!==h||0!==m)return!1;n.add(s,!1);for(let e=0;e<a;e++){const t=o.getXY(e);n.setXY(e,t)}return!0}return!1}function Kl(e,t,s){(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(!s||e.isPannable());const n=t.getPointCount();if(!n)return;const r=t.getImpl(),i=r.getAttributeStreamRef(0),o=e.getPECoordSys();let h=0;const m=i.readRange(0,2*n);let l=()=>{wc.geogToProj(o,n,m)};const g=e.isPannable()&&!s,u=g?e.getPannableExtent().width():0,c=179*u/360;if(e.isPannable()&&(h=e.getCentralMeridian(),s)){const t=e.m_peCoordSysVal.getGeogToProjFactors(),s=t.first,r=t.second;l=()=>{wc.geogToProj(o,n,m);for(let e=0;e<n;e++){const t=e<<1,n=i.read(t),o=s*(n-h)+r;m[t]=o}}}if(l(),g)for(let a=0;a<n;a++){const e=a<<1,t=m[e],s=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.e)(t),n=i.read(e)-h;s*(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.e)(n)<0&&Math.abs(t)>c&&(m[e]+=-s*u)}i.writeRangeFromArray(0,2*n,m,!0,1),r.notifyModifiedFlags(2001)}function Ql(e,t,s){switch(t.getGeometryType()){case _Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumLine:return void Ig(e,t,s);case _Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumBezier:return void Gg(e,t,s);case _Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumEllipticArc:return void wg(e,t,s);case _Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumBezier2:return void Dg();case _Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumRationalBezier2:return void Vg();default:(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.d)("")}}function Jl(e,t,s){if(!t.hasNonLinearSegments())return void Kl(e,t,s);if((0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(!s||e.isPannable()),t.isEmpty())return;const n=0,r=e.getPECoordSys(),i=e.isPannable(),o=i?e.getPannableExtent().width():0,h=179*o/360;let m=0;i&&(m=e.getCentralMeridian());const l=t.createInstance();l.reserveParts(t.getPointCount(),t.getPathCount());const g=t.getImpl(),u=new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.S;for(let a=0,c=t.getPathCount();a<c;++a)if(g.hasNonLinearSegmentsPath(a)){let t=!0,n=-1;const r=g.getPathStart(a),i=r+g.getSegmentCountPath(a);g.isClosedPath(a)&&(n=i-1);const o=new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P;for(let a=r;a<i;++a){if(g.getSegmentBuffer(a,u,!1),Ql(e,u.get(),s),!t){u.get().getStartXY().equals(o)||u.get().moveTo(o)}if(a!==n)l.addSegment(u.get(),t);else{if(t){const e=new _Envelope_js__WEBPACK_IMPORTED_MODULE_3__.P;u.get().queryStart(e),l.startPathPoint(e)}l.closeLastPathWithSegment(u.get())}o.assign(u.get().getEndXY()),t=!1}}else{const e=1024;let s,u=g.getPathSize(a),c=Math.min(u,e);l.insertPath(-1,t,a,!0);const _=g.getAttributeStreamRef(0),d=l.getAttributeStreamRef(0);for(let t=g.getPathStart(a),l=g.getPathEnd(a);t<l;){if(s=_.readRange(t,c),wc.geogToProj(r,c,s),i)for(let e=0;e<c;e++){const t=e<<1,r=s[t],i=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.e)(r),a=_.read(2*(n+e))-m;i*(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.e)(a)<0&&Math.abs(r)>h&&(s[t]+=-i*o)}d.writeRangeFromArray(t,c,s,!0,1),t+=c,u-=c,c=Math.min(u,e)}}t.assignMove(l)}function $l(e,t,s){const n=1e3;let r=s.getPointCount();if(!r)return;const i=s.getImpl(),o=i.getAttributeStreamRef(0);let a=Math.min(r,n),h=0;const m=e.getPECoordSys();Number.isNaN(t)&&(t=0);const l=e.isPannable(),g=e.getOneDegreeGCSUnit(),u=360*g,c=179*g;let _;for(;r;){if(_=o.readRange(2*h,2*a),ag(m,a,_,t),l)for(let e=0;e<a;e++){const s=e<<1,n=_[s]-t,r=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.e)(n),i=o.read(2*(h+e));r*(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.e)(i)<0&&Math.abs(n)>c&&(_[s]+=-r*u)}o.writeRangeFromArray(2*h,2*a,_,!0,1),h+=a,r-=a,a=Math.min(r,n)}i.notifyModifiedFlags(2001)}function eg(e,t,s){switch(s.getGeometryType()){case _Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumLine:return void tg(e,t,s);case _Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumBezier:return void rg(e,t,s);case _Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumEllipticArc:return void sg(e,t,s);case _Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumBezier2:return void ig();case _Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumRationalBezier2:return void og();default:(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.d)("")}}function tg(e,t,s){const n=[s.getStartXY(),s.getEndXY()];mg(e,t,n,2),s.setStartXY(n[0]),s.setEndXY(n[1]),s.normalizeAfterEndpointChange()}function sg(e,t,s){if(0===s.projectionBehavior())ng(e,t,s);else{const n=s.isClosed()&&s.isMajor(),r=[s.getStartXY(),n?s.getCenter():s.getEndXY()],i=[r[0].clone(),r[1].clone()];vg(e,t,i,2);const o=new _Transformation2D_js__WEBPACK_IMPORTED_MODULE_6__.T;o.initializeFromTwoPointsArray(r,i),s.applyTransformation(o);const a=n?0:1;s.setCoordsForIntersector(i[0],i[a],!1)}}function ng(e,t,s){Ng(!1,e,t,s,!1)}function rg(e,t,s){const n=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P,4);s.queryControlPoints(n),vg(e,t,n,4),s.setControlPoints(n)}function ig(e,t,s){(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(0)}function og(e,t,s){(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(0)}function ag(e,t,s,n){const r=wc.projToGeogCenter(e,t,s,n);for(let i=0;i<t;++i){const e=i<<1;(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(Number.isFinite(s[e]+s[e+1]))}return r}function hg(e,t,s){if(!s.hasNonLinearSegments())return void $l(e,t,s);if(s.isEmpty())return;const n=e.getPECoordSys();Number.isNaN(t)&&(t=0);const r=e.isPannable(),i=e.getOneDegreeGCSUnit(),o=360*i,a=179*i,h=s.createInstance();h.reserveParts(s.getPointCount(),s.getPathCount());const m=s.getImpl(),l=new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.S;for(let g=0,u=s.getPathCount();g<u;++g)if(m.hasNonLinearSegmentsPath(g)){let s=!0,n=-1;const r=m.getPathStart(g),i=r+m.getSegmentCountPath(g);m.isClosedPath(g)&&(n=i-1);const o=new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P;for(let a=r;a<i;++a){if(m.getSegmentBuffer(a,l,!1),eg(e,t,l.get()),!s){l.get().getStartXY().equals(o)||l.get().moveTo(o)}if(a!==n)h.addSegment(l.get(),s);else{if(s){const e=new _Envelope_js__WEBPACK_IMPORTED_MODULE_3__.P;l.get().queryStart(e),h.startPathPoint(e)}h.closeLastPathWithSegment(l.get())}o.assign(l.get().getEndXY()),s=!1}}else{const e=1e3;let i,l=m.getPathSize(g),u=Math.min(l,e);h.insertPath(-1,s,g,!0);const c=m.getAttributeStreamRef(0),_=h.getAttributeStreamRef(0);for(let s=m.getPathStart(g),h=m.getPathEnd(g);s<h;){if(i=c.readRange(2*s,2*u),ag(n,u,i,t),r)for(let e=0;e<u;e++){const n=e<<1,r=i[n]-t,h=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.e)(r),m=c.read(2*s);h*(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.e)(m)<0&&Math.abs(r)>a&&(i[n]+=-h*o)}_.writeRangeFromArray(2*s,2*u,i,!0,1),s+=u,l-=u,u=Math.min(l,e)}}s.assignMove(h)}function mg(e,t,s,n){const r=e.getPECoordSys();Number.isNaN(t)&&(t=0);const i=e.isPannable(),o=e.getOneDegreeGCSUnit(),a=360*o,h=179*o,m=256,l=new Float64Array(2*m);for(let g=0;g<n;){for(let t=g;t<n&&s[t].isNAN();++t)g++;let e=Math.min(m,n-g);if(e>0){for(let t=1,n=g+1;t<e;++t,++n)if(s[n].isNAN()){e=t;break}for(let t=0;t<e;t++){const e=t<<1;l[e]=s[g+t].x,l[e+1]=s[g+t].y}if(ag(r,e,l,t),i)for(let n=0,r=g;n<e;++n,++r){const e=n<<1,i=s[r].x,o=l[e]-t,m=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.e)(o);m*(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.e)(i)<0&&Math.abs(o)>h&&(l[e]-=m*a)}for(let t=0;t<e;t++){const e=t<<1;s[g+t].x=l[e],s[g+t].y=l[e+1]}g+=e}}}function lg(e,t,s,n){(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(0)}function gg(e,t,s){let n=t.getPointCount();if(!n)return!1;const r=t.getImpl(),i=r.getAttributeStreamRef(0);let o=null;const a=e.getInputSR(),h=e.getOutputSR();a.getVCS(),h.getVCS();const m=a.getOneDegreeGCSUnit(),l=h.getOneDegreeGCSUnit(),g=e.isVertical();g&&t.hasAttribute(1)&&(o=r.getAttributeStreamRef(1));const u=e.getDatumTransformation(),c=!!u&&1===u.getType();if(c||null===o||(lg(o.getArray()),o=null),!u||0===u.count()){const e=a.getGcsUnitFactor()/h.getGcsUnitFactor(),t=(a.getPrimeMeridian()-h.getPrimeMeridian())*l,s=-90*m,o=90*m;let g=0;const u=i.getArray(),c=[0];for(let r=1,i=2*n;r<i;)c[0]=u[r],g|=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.aD)(c,s,o)?1:0,u[r]=c[0],r+=2;if(0!==t||1!==e){g=1;const s=i.getArray();for(let r=0,i=2*n;r<i;){let n=s[r];n*=e,n+=t,s[r]=n,s[r+1]*=e,r+=2}}return 0!==g&&r.notifyModifiedFlags(2001),!!g}const _=1e3;let d=Math.min(n,_);const p=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.d)(d,Number.NaN),f=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.d)(d,Number.NaN);let x=null;null!==o&&(x=new Float64Array(d));let y=0,P=Number.NaN,E=Number.NaN;const S=360*l,C=l/m;s&&(E=90*l,P=89.9*m,f.fill(0));let I=!0,b=0;for(;n;){let e=!1;const t=i.readRange(2*y,2*d);for(let s=0;s<d;s++)p[s]=t[s<<1];if(s)for(let s=0;s<d;s++){const n=1+(s<<1),r=Math.abs(t[n])-P;if(r>0){const i=t[n];t[n]=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.f)(P,i),f[s]=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.f)(r,i),e=!0}}const r=t[0];if(c){const e=u;x&&o.queryRange(y,d,x,!0,1),e.transform(!1,t,x,d),x&&o.writeRangeFromArray(y,d,x,!0,1)}else{u.transform(!1,t,d)}I&&(b=t[0]-C*r,I=!1);for(let s=0;s<d;s++){const e=s<<1,n=t[e]-p[s]*C-b;Math.abs(n)>200&&(t[e]+=n>0?-S:S)}if(e){for(let e=0;e<d;e++)if(f[e]){const s=1+(e<<1);t[s]+=C*f[e],t[s]>E?t[s]=E:t[s]<-E&&(t[s]=-E)}f.fill(0)}i.writeRangeFromArray(2*y,2*d,t,!0,1),g&&o&&o.writeRangeFromArray(y,d,x,!0,1),y+=d,n-=d,d=Math.min(n,_)}return r.notifyModifiedFlags(2001),!0}function ug(e,t,s){switch(t.getGeometryType()){case _Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumLine:return xg(e,t,s);case _Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumBezier:return Eg(e,t,s);case _Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumEllipticArc:return yg(e,t,s);case _Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumBezier2:return Sg();case _Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumRationalBezier2:return Cg();default:(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.d)("")}}function cg(e,t,s){if(!t.hasNonLinearSegments())return gg(e,t,s);if(t.isEmpty())return!1;const n=t.createInstance();n.reserveParts(t.getPointCount(),t.getPathCount());const r=t.getImpl(),i=new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.S;for(let o=0,a=t.getPathCount();o<a;++o){let t=!0,a=-1;const h=r.getPathStart(o),m=h+r.getSegmentCountPath(o);r.isClosedPath(o)&&(a=m-1);const l=new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P;for(let o=h;o<m;++o){if(r.getSegmentBuffer(o,i,!1),ug(e,i.get(),s),!t){i.get().getStartXY().equals(l)||i.get().moveTo(l)}if(o!==a)n.addSegment(i.get(),t);else{if(t){const e=new _Envelope_js__WEBPACK_IMPORTED_MODULE_3__.P;i.get().queryStart(e),n.startPathPoint(e)}n.closeLastPathWithSegment(i.get())}l.assign(i.get().getEndXY()),t=!1}}return t.assignMove(n),!0}function _g(e,t,s,n,r,i){if(e.isIdentityGeogToGeog()){const s=90*e.getInputSR().getOneDegreeGCSUnit();let r=0;const i=[0];for(let e=0;e<n;e++)i[0]=t[e].y,r|=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.aD)(i,-s,s)?1:0,t[e].y=i[0];return r}const o=e.getInputSR(),a=e.getOutputSR(),h=o.getVCS(),m=a.getVCS(),l=o.getOneDegreeGCSUnit(),g=90*l,u=a.getOneDegreeGCSUnit(),c=e.isVertical(),_=e.getDatumTransformation(),d=!!_&&1===_.getType();if(c||(s=null),!_||0===_.count()){let e=0;const r=[0];for(let s=0;s<n;s++)r[0]=t[s].y,e|=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.aD)(r,-g,g)?1:0,t[s].y=r[0];return e|=qm(o.getGCS(),h,a.getGCS(),m,t,s,n)?1:0,e}d||null===s||lg();const p=1024;let f=Math.min(n,p);const x=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.d)(f,Number.NaN),y=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.d)(f,Number.NaN);let P=0,E=Number.NaN,S=Number.NaN;const C=360*u,I=u/l;r&&(S=90*u,E=89.9*l);let b=!0,w=0,v=n;for(;v;){let e=!1;for(let s=0;s<f;s++)x[s]=t[s+P].x;if(r)for(let s=0;s<f;s++){const n=Math.abs(t[s+P].y)-E;if(n>0){const r=t[s+P].y;t[s+P].y=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.f)(E,r),y[s]=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.f)(n,r),e=!0}}const n=t[0].x;if(d){_.transform(!1,t,s,f)}else{_.transform(!1,t,f)}b&&(w=t[0].x-I*n,b=!1);for(let s=0;s<f;s++){const e=t[P+s].x-x[s]*I-w;Math.abs(e)>200&&(e>0?t[P+s].x-=C:t[P+s].x+=C)}if(e){for(let e=0;e<f;e++)y[e]&&(t[P+e].y+=I*y[e],t[P+e].y>S?t[P+e].y=S:t[P+e].y<-S&&(t[P+e].y=-S));y.fill(0,0,f)}P+=f,v-=f,f=Math.min(v,p)}return 1}function dg(e,t,s,n,r){return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(0),0}function pg(e,t,s,n,r){(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(null===n),(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(t<2147483647);const i=Array.isArray(s);let o;o=i?(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.aG)(s):s;const h=vc.geogToGeog(e,t,o,null,r);return i&&(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.aH)(o,s),h}function fg(e,t,s,n,r,i){let o=0,a=!0,h=0;for(let m=0;m<n;++m)t[m].isNAN()?a||(o|=_g(e,t.slice(h,m-h),s?s.slice(h,m-h):null,m-h,r),h=m,a=!0):a&&(h=m,a=!1);return a||(o|=_g(e,0===h?t:t.slice(h),s?0===h?s:s.slice(h):null,n-h,r)),0!==o}function xg(e,t,s){const n=[t.getStartXY(),t.getEndXY()],r=[0,0];let i=null;t.hasAttribute(1)&&(i=r,i[0]=t.getAttributeAsDbl(0,1,0),i[1]=t.getAttributeAsDbl(1,1,0));const o=fg(e,n,i,2,s);return t.setStartXY(n[0]),t.setEndXY(n[1]),i&&(t.setStartAttribute(1,0,i[0]),t.setEndAttribute(1,0,i[1])),t.normalizeAfterEndpointChange(),o}function yg(e,t,s){if(0===t.projectionBehavior())return Pg(e,t,s);const n=t.getStartXY().equals(t.getEndXY()),r=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P,3),i=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P,3),o=[0,0,0];let a=null;r[0].assign(t.getStartXY()),r[1].assign(n?t.getCenter():t.getEndXY());let h=!1;t.hasAttribute(1)&&(a=o,a[0]=t.getAttributeAsDbl(0,1,0),a[1]=t.getAttributeAsDbl(1,1,0),a[2]=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.q)(a[0],a[1],.5),n&&(a[1]=a[2])),i[0].setCoordsPoint2D(r[0]),i[1].setCoordsPoint2D(r[1]);const m=new _Transformation2D_js__WEBPACK_IMPORTED_MODULE_6__.T;if(n||t.isDegenerateToLine())h=fg(e,i,a,2,s),m.initializeFromTwoPoints(r[0],r[1],i[0],i[1]);else{const n=new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P;t.queryCoord2D(.5,n),r[2].setCoordsPoint2D(n),i[2].setCoordsPoint2D(n),h=fg(e,i,a,3,s),m.setFromTwoTriangles(r,i)}return m.isIdentity()||(t.applyTransformation(m),t.setStartXY(i[0]),t.setEndXY(n?i[0]:i[1]),t.normalizeAfterEndpointChange()),a&&(t.setStartAttribute(1,0,a[0]),t.setEndAttribute(1,0,n?a[0]:a[1])),h}function Pg(e,t,s){const n=[t.getStartXY(),t.getEndXY(),t.getInteriorPoint(),t.getCenter()];let r=4;t.isDegenerateToLine()&&(r=2);const i=[0,0,0,0];let o=null;if(t.hasAttribute(1)){o=i,o[0]=t.getAttributeAsDbl(0,1,0),o[1]=t.getAttributeAsDbl(1,1,0);const e=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.q)(o[0],o[1],.5);o[2]=e,o[3]=e}const a=t.getStartXY().equals(t.getEndXY())&&!t.isDegenerateToLine(),h=fg(e,n,o,r,s);return a?t.constructCircleCenterAndPoint(n[3],n[0],!t.isClockwise()):t.isDegenerateToLine()?t.constructLineCircularArc(n[0],n[1]):t.constructCircularArcThreePoint(n[0],n[1],n[2]),o&&(t.setStartAttribute(1,0,o[0]),t.setEndAttribute(1,0,o[1])),h}function Eg(e,t,s){const n=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P,4);t.queryControlPoints(n);const r=[0,0,0,0];let i=null;t.hasAttribute(1)&&(i=r,i[0]=t.getAttributeAsDbl(0,1,0),i[3]=t.getAttributeAsDbl(1,1,0),i[1]=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.q)(i[0],i[3],.5),i[2]=i[1]);const o=fg(e,n,i||null,n.length,s);return t.setControlPoints(n),i&&(t.setStartAttribute(1,0,i[0]),t.setEndAttribute(1,0,i[3])),t.normalizeAfterEndpointChange(),o}function Sg(e,t,s){return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(0),!1}function Cg(e,t,s){return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(0),!1}function Ig(e,t,s){const n=[t.getStartXY(),t.getEndXY()];Wl(e,n,2,s),t.setStartXY(n[0]),t.setEndXY(n[1]),t.normalizeAfterEndpointChange()}function bg(e,t,s,n){Wl(e,t,s,n)}function wg(e,t,s){if(0===t.projectionBehavior())Tg(e,t,s);else{const n=t.isClosed()&&t.isMajor(),r=[t.getStartXY(),n?t.getCenter():t.getEndXY()],i=[r[0].clone(),r[1].clone()];bg(e,i,2,s);const o=new _Transformation2D_js__WEBPACK_IMPORTED_MODULE_6__.T;o.initializeFromTwoPointsArray(r,i),t.applyTransformation(o);const a=n?0:1;t.setCoordsForIntersector(i[0],i[a],!1)}}function vg(t,s,n,r){mg(t,s,n,r);const i=new _Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D;i.setFromPoints(n,r);const o=t.getOneDegreeGCSUnit(),a=360*o,h=180*o;if(i.width()>h){for(let e=0;e<r;e++)for(;n[e].x<s;)n[e].x+=a;if(i.setFromPoints(n,r),i.xmax>h+s)for(let e=0;e<r;e++)n[e].x-=a}}function Ng(e,t,s,n,r){const i=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P,3);let o=0,a=!1,h=!1;const m=n.isDegenerateToLine();m?(i[0].assign(n.getStartXY()),i[1].assign(n.getEndXY()),i[2].setCoords(0,0),o=2):n.isClosed()&&n.isMajor()?(a=!0,h=!n.isClockwise(),i[0].assign(n.getStartXY()),i[1].assign(n.getCenter()),i[2].setCoords(0,0),o=2):(i[0].assign(n.getStartXY()),i[1].assign(n.getEndXY()),i[2].assign(n.getInteriorPoint()),o=3),e?bg(t,i,o,r):vg(t,s,i,o),m?n.constructLineCircularArc(i[0],i[1]):a?n.constructCircleCenterAndPoint(i[1],i[0],h):n.constructCircularArcThreePoint(i[0],i[1],i[2])}function Tg(e,t,s){Ng(!0,e,0,t,s)}function Gg(e,t,s){const n=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P,4);t.queryControlPoints(n),bg(e,n,4,s),t.setControlPoints(n)}function Dg(e,t,s){(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(0)}function Vg(e,t,s){(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(0)}function Fg(e,t,s){const n=(0,_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.a9)(e),r=(0,_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.a9)(t),i=(0,_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.a7)(n,r),o=(0,_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.a7)(n,(0,_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.a9)(s));return 0===o||(i>0&&o>0&&o<=i||i<0&&o<0&&o>=i)}function Hg(e,t,s,n,r){const i={stack:[],error:void 0,hasError:!1};try{const o=s.clone(),h=n.clone();if(2===r){const s=[0,0];return Ds(e,t,o,h,0,s),s[0]}if(o.y>h.y){const e=new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P;e.assign(o),o.assign(h),h.assign(e)}const m=(0,_tslib_es6_js__WEBPACK_IMPORTED_MODULE_5__.b)(i,new Cc,!1),l=(0,_tslib_es6_js__WEBPACK_IMPORTED_MODULE_5__.b)(i,new Cc,!1),g=(0,_tslib_es6_js__WEBPACK_IMPORTED_MODULE_5__.b)(i,new Cc,!1),u=new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.E;if(u.setCoords(o.y,h.y),!u.containsCoordinate(0)||Math.abs(o.x-h.x)>=Math.PI)return Number.NaN;if(o.x===h.x)return o.x;Dc.geodeticDistance(e,t,o.x,o.y,h.x,h.y,l,m,null,r);const c=l.val;let _=0,d=1;const p=o.clone();for(;c*(d-_)>1e-12*e;){const s=.5*(_+d);if(Dc.geodeticCoordinate(e,t,o.x,o.y,c*s,m.val,l,g,r),p.x=l.val,p.y=g.val,u.setCoords(o.y,p.y),0===p.y)return p.x;if(u.containsCoordinate(0))d=s;else{if(u.setCoords(h.y,p.y),!u.containsCoordinate(0))return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(!1),Number.NaN;_=s}}return p.x}catch(o){i.error=o,i.hasError=!0}finally{(0,_tslib_es6_js__WEBPACK_IMPORTED_MODULE_5__.c)(i)}}function kg(e,t,s,n){const r=new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.E;r.setCoords(t,s);const i=n.width();let o=Math.floor((e-t)/i)*i+e;const a=r.getCenter();for(;Math.abs(o-a)>Math.abs(o+i-a);)o+=i;return o}class Ag extends _SimpleGeometryCursor_js__WEBPACK_IMPORTED_MODULE_9__.G{constructor(){super(),this.m_geometryDeque=[],this.m_index=-1}next(){if(this.m_geometryDeque.length>0){this.m_index++;const e=this.m_geometryDeque[0];return this.m_geometryDeque.shift(),e}return null}getGeometryID(){return this.m_index}tick(e){this.m_geometryDeque.push(e)}tock(){return!0}getRank(){return 1}}function Mg(e,t){return e===t||null!==e&&null!==t&&(e.m_csType===t.m_csType&&(0===e.m_WKID&&0===t.m_WKID?e.m_hashCode===t.m_hashCode&&e.m_canonicalWkt===t.m_canonicalWkt:e.m_WKID===t.m_WKID))}function Ug(e,t){return e===t||null!==e&&null!==t&&(e.m_csType===t.m_csType&&(0===e.m_WKID&&0===t.m_WKID?1===e.m_csType?e.m_peCoordSys.isEqual(t.m_peCoordSys):e.m_peCoordSys===t.m_peCoordSys:e.m_WKID===t.m_WKID))}class qg{constructor(s,n=!0){this.m_PCSHorizon=null,this.m_GCSHorizon=null,this.m_GCSSplitLines=null,this.m_bGCSHorisonIsInclusive=!1,this.m_oneMeterPCS=0,this.m_oneDegreeGCS=0,this.m_gcsUnitFactor=0,this.m_northPole=_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P.getNAN(),this.m_southPole=_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P.getNAN(),this.m_polesUpdated=0,this.m_domain=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D.constructEmpty(),this.m_primeMeridian=Number.NaN,this.m_geogToProjFactor=1,this.m_geogToProjOffset=0,this.m_geogToProjFactorsUpdated=0,this.m_oneMillimeter=0,this.m_centralMeridian=0,this.m_pPCSInfoNoDomain=null,this.m_oldWKID=-1973,this.m_vcsWKID=-1,this.m_bIsPannable=!1,this.m_bCached=!1,this.m_pannableExtent=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D.constructEmpty(),this.m_pannableExtentGCS=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D.constructEmpty(),this.m_areaOfUse=null,this.m_canonicalWkt="",this.m_peCoordSys=s,this.m_WKID=Ic.getCode(s),this.m_WKID<=0?(this.m_WKID=0,this.m_canonicalWkt=_l(s,0,!0),this.m_hashCode=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.ay)(this.m_canonicalWkt)):this.m_hashCode=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.B)(this.m_WKID);const r=this.m_peCoordSys.getType();this.m_csType=r===bc.PE_TYPE_PROJCS?2:1,(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(r===bc.PE_TYPE_PROJCS||r===bc.PE_TYPE_GEOGCS),r===bc.PE_TYPE_PROJCS&&(s.loadConstants()||(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.a)("PeProjcs.loadConstants failed"));const o=r===bc.PE_TYPE_GEOGCS?this.m_peCoordSys:this.m_peCoordSys.getGeogcs();r!==bc.PE_TYPE_GEOGCS&&Ic.getCode(o),this.m_unit=ms(s),this.m_primeMeridian=o.getPrimem().getLongitude();{const e=o.getUnit().getUnitFactor();this.m_gcsUnitFactor=e;let t=Math.PI/(180*e);Math.abs(t-1)<1e-10&&(t=1),this.m_oneDegreeGCS=t}if(r===bc.PE_TYPE_PROJCS){const e=this.m_peCoordSys,t=e.getUnit().getUnitFactor();this.m_oneMeterPCS=1/t,this.m_oneMillimeter=.001/t,this.m_pPCSInfoNoDomain=Nc.generate(e,Nc.PE_PCSINFO_OPTION_NONE),this.m_pPCSInfoNoDomain||(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.d)("cannot create pcs info"),this.m_bIsPannable=this.m_pPCSInfoNoDomain.isPannableRectangle(),this.m_centralMeridian=this.m_pPCSInfoNoDomain.getCentralMeridian()}else{this.m_bIsPannable=!0,this.m_polesUpdated=1,this.m_oneMeterPCS=0;const e=1/o.getUnit().getUnitFactor(),t=o.getDatum().getSpheroid().getAxis();this.m_oneMillimeter=.001/t*e,this.m_centralMeridian=0}this.m_bIsPannable&&(this.updateGCSHorizon(),this.updatePCSHorizon(),this.updatePoles(),this.updateDomain(),this.updatePannableExtent(),this.updatePannableExtentGCS())}[Symbol.dispose](){}getHashCode(){return this.m_hashCode}getPCSHorizonPannable(){return this.m_PCSHorizon}getGCSHorizonPannable(){return this.m_GCSHorizon}getPCSInfo(){return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(this.m_pPCSInfoNoDomain),this.m_pPCSInfoNoDomain}getCentralMeridian(){return this.m_centralMeridian}updateGCSHorizon(){if(this.m_peCoordSys.getType()!==bc.PE_TYPE_PROJCS)return;let t=!0;const s=this.m_peCoordSys,n=s.getGeogcs(),r=s.horizonGcsGenerate();if(!r)return;(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(r.length>0);const i=r[0].getNump(),o=r[0].getKind();let h,m;t=r[0].getInclusive()>0;const l=this.getOneDegreeGCSUnit(),g=90*l,u=360*l,c=370*l,_=180*l*bc.PE_HORIZON_DELTA/Math.PI,d=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D.constructEmpty();let p=null;if(i>1)for(let e=1;e<i;e++)if(r[e].getKind()===bc.PE_HORIZON_LINE){p||(p=new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.P);const t=r[e].getCoord();p.startPathCoords(t[0][0],t[0][1]),p.lineToCoords(t[1][0],t[1][1])}if(o===bc.PE_HORIZON_RECT){const e=r[0].getCoord();if(d.setFromPoints([new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P(e[0][0],e[0][1]),new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P(e[1][0],e[1][1])],2),Math.abs(d.ymax-g)<1e-7*_&&(d.ymax=g),Math.abs(d.ymin+g)<1e-7*_&&(d.ymin=-g),d.width()>c){const e=-400*l,t=e+5*u;d.setCoords({xmin:e,ymin:d.ymin,xmax:t,ymax:d.ymax})}const s=new _Envelope_js__WEBPACK_IMPORTED_MODULE_3__.E({env2D:d});this.m_GCSHorizon||(this.m_GCSHorizon=s,this.m_bGCSHorisonIsInclusive=t)}else{let s=this.getPCSInfo().isGcsHorizonMultiOverlap();const o=Ru(n,null,null,1),c=[],_=new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.E;for(let t=0;t<i;t++){if(r[t].getKind()!==bc.PE_HORIZON_POLY)continue;h=r[t].getSize();const s=r[t].getCoord(),n=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D.constructEmpty();n.setFromPoints((0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.az)(s),h),c.push(new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.E(n.xmin,n.xmax)),n.width(),_.merge(c.at(-1))}let d=!1;const f=new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.E;_.width()>u&&c.length>1?(f.vmin=this.getCentralMeridian()-u,f.vmax=f.vmin+2*u,d=!0,s=!0):(f.vmin=_.vmin,f.vmax=f.vmin+u);const x=e=>{let t=0;for(;c[e].vmin+t<f.vmin;)t+=u;for(;c[e].vmax+t-u>f.vmin;)t-=u;return t};let y=new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.a;if(s){const e=new Ag,t=(new al).executeMany(e,o,null);for(let s=0;s<i;s++){if(r[s].getKind()!==bc.PE_HORIZON_POLY)continue;h=r[s].getSize();const n=r[s].getCoord();m=r[s].getInclusive()>0;const i=new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.a;if(i.addPathPoint2D((0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.az)(n),h-1,!0),d){const t=x(s),n=c[s].clone();n.move(t);let r=t;const o=new _Transformation2D_js__WEBPACK_IMPORTED_MODULE_6__.T;do{o.setShiftCoords(r,0);const t=i.clone();t.applyTransformation(o),e.tick(t),e.tock(),r+=u,n.move(u)}while(n.vmin<f.vmax)}else e.tick(i),t.tock()}y=t.next()}else{y=new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.a;for(let e=0;e<i;e++){if(r[e].getKind()!==bc.PE_HORIZON_POLY)continue;h=r[e].getSize();const s=r[e].getCoord();if(m=r[e].getInclusive()>0,(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(m===t),d){const t=new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.a;t.addPathPoint2D((0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.az)(s),h-1,!0);const n=x(e),r=c[e].clone();r.move(n);let i=n;const o=new _Transformation2D_js__WEBPACK_IMPORTED_MODULE_6__.T;do{if(0!==i){o.setShiftCoords(i,0);const e=new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.a({copy:t});e.applyTransformation(o),y.addPath(e,0,!0)}else y.addPath(t,0,!0);i+=u,r.move(u)}while(r.vmin<f.vmax)}else y.addPathPoint2D((0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.az)(s),h-1,!0)}}d&&(y=(new _OperatorClip_js__WEBPACK_IMPORTED_MODULE_7__.O).execute(y,new _Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D(f.vmin,-g-l,f.vmax,g+l),o,null)),t?(new wh).accelerateGeometry(y,o,1):(new Km).accelerateGeometry(y,o,1),(new ul).accelerateGeometry(y,o,1),null===this.m_GCSHorizon&&(this.m_GCSHorizon=y,this.m_bGCSHorisonIsInclusive=t,this.m_GCSSplitLines=p)}}updateAreaOfUse(){return null}updatePCSHorizon(){if(this.m_peCoordSys.getType()!==bc.PE_TYPE_PROJCS)return;const t=this.m_peCoordSys.horizonPcsGenerate();if(!t)return;let s;this.getPCSInfo();const n=t[0].getKind();t[0].getInclusive();const r=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D.constructEmpty(),i=t[0].getNump();let o=!1;if(n===bc.PE_HORIZON_RECT){const e=t[0].getCoord();r.setFromPoints((0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.az)(e),2),s=new _Envelope_js__WEBPACK_IMPORTED_MODULE_3__.E({env2D:r})}else{let e=-1;for(let s=0;s<i;s++)t[s].getKind()===bc.PE_HORIZON_POLY&&(e=s);(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(e>=0);const n=t[e].getSize()-1,r=t[e].getCoord(),h=new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.a;s=h,h.addPathPoint2D((0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.az)(r),n,!0),o=!0}if(this.getPCSInfo().isDensificationNeeded()){(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(n!==bc.PE_HORIZON_RECT);const e=1e5*this.getOneMeterPCSUnit();s=(new _OperatorDensify_js__WEBPACK_IMPORTED_MODULE_8__.O).execute(s,e,0,0,null)}if(o){{const e=new _Envelope_js__WEBPACK_IMPORTED_MODULE_3__.E;s.queryEnvelope(e),s.calculateArea2D(),s.calculateLength2D(),s.getExteriorRingCount()}(new wh).accelerateGeometry(s,null,1)}null===this.m_PCSHorizon&&(this.m_PCSHorizon=s)}updatePannableExtent(){const t=this.m_peCoordSys.getType();if(t===bc.PE_TYPE_PROJCS){const t=this.m_peCoordSys,s=this.getPCSInfo().getCentralMeridian(),n=t.getGeogcs();n||(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.d)("");const r=[s+1/n.getUnit().getUnitFactor()*Math.PI,0];wc.geogToProj(t,1,r);const o=r[0],a=t.getParameters()[bc.PE_PARM_X0].getValue(),h=this.getPCSHorizon(),m=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D.constructEmpty();h.queryEnvelope(m);const l=Math.abs(o-a),g=l+a,u=-1*l+a,c=m.ymax,_=m.ymin;this.m_pannableExtent.setCoords({xmin:u,ymin:_,xmax:g,ymax:c})}else if(t===bc.PE_TYPE_GEOGCS){const e=1/this.m_peCoordSys.getUnit().getUnitFactor()*Math.PI;this.m_pannableExtent.setCoords({xmin:-e,ymin:-e/2,xmax:e,ymax:e/2})}else (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.d)("")}updatePannableExtentGCS(){const t=this.m_peCoordSys.getType();if(t===bc.PE_TYPE_PROJCS){const t=this.m_peCoordSys,s=this.m_centralMeridian,n=t.getGeogcs();n||(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.d)("");const r=1/n.getUnit().getUnitFactor()*Math.PI,o=this.getGCSHorizon(),a=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D.constructEmpty();o.queryEnvelope(a),this.m_pannableExtentGCS.setCoords({xmin:s-r,ymin:a.ymin,xmax:s+r,ymax:a.ymax})}else if(t===bc.PE_TYPE_GEOGCS){const e=1/this.m_peCoordSys.getUnit().getUnitFactor()*Math.PI;this.m_pannableExtentGCS.setCoords({xmin:-e,ymin:-e/2,xmax:e,ymax:e/2})}else (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.d)("")}updateDomain(){if(1===this.m_csType){const t=400*this.getOneDegreeGCSUnit();this.m_domain=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D.construct(-t,-t,t,t)}else{(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(2===this.m_csType);const t=Nc.generate(this.m_peCoordSys,Nc.PE_PCSINFO_OPTION_DOMAIN);t||(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.d)("generate pcs info failed");const s=new _Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D(t.getDomainMinx(),t.getDomainMiny(),t.getDomainMaxx(),t.getDomainMaxy());this.m_domain.isEmpty()&&this.m_domain.setCoords({env2D:s})}}updatePoles(){if(this.m_peCoordSys.getType()===bc.PE_TYPE_PROJCS){const e=90*this.getOneDegreeGCSUnit(),t=[[0,e],[0,-e]];wc.geogToProj(this.m_peCoordSys,2,t);const s=this.getPCSInfo().getNorthPoleLocation()!==Nc.PE_POLE_OUTSIDE_BOUNDARY,n=this.getPCSInfo().getSouthPoleLocation()!==Nc.PE_POLE_OUTSIDE_BOUNDARY;this.m_polesUpdated||(s&&this.m_northPole.setCoords(t[0][0],t[0][1]),n&&this.m_southPole.setCoords(t[1][0],t[1][1]),this.m_polesUpdated=1)}else this.m_polesUpdated=1}updateGeogToProjFactors(){if(this.m_peCoordSys.getType()===bc.PE_TYPE_PROJCS){const e=this.getOneDegreeGCSUnit(),t=this.m_pPCSInfoNoDomain.getCentralMeridian(),s=[0,0,0,0];s[0]=t,s[1]=0,s[2]=t+e,s[3]=0;const n=wc.geogToProj(this.m_peCoordSys,2,s);(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(2===n);const r=(s[2]-s[0])/e,i=s[0];0===this.m_geogToProjFactorsUpdated&&(this.m_geogToProjFactor=r,this.m_geogToProjOffset=i,this.m_geogToProjFactorsUpdated=1)}else this.m_geogToProjFactorsUpdated=1}getOneMeterPCSUnit(){return this.m_oneMeterPCS}getOneDegreeGCSUnit(){return this.m_oneDegreeGCS}getGcsUnitFactor(){return this.m_gcsUnitFactor}getUnitsPerMillimeter(){return this.m_oneMillimeter}getGCSSplitLines(){return this.m_bIsPannable?null:(this.m_GCSHorizon||this.updateGCSHorizon(),this.m_GCSSplitLines)}getGCSHorizon(){return this.m_bIsPannable?this.getGCSHorizonPannable():(null!==this.m_GCSHorizon||this.updateGCSHorizon(),this.m_GCSHorizon)}getGCSHorisonIsInclusive(){return this.m_bIsPannable||this.getGCSHorizon(),this.m_bGCSHorisonIsInclusive}getPCSHorizon(){return this.m_bIsPannable?this.getPCSHorizonPannable():(null!==this.m_PCSHorizon||this.updatePCSHorizon(),this.m_PCSHorizon)}getPole(e){return this.m_bIsPannable||0!==this.m_polesUpdated||this.updatePoles(),e?this.m_southPole:this.m_northPole}getGeogToProjFactors(){return 0===this.m_geogToProjFactorsUpdated&&this.updateGeogToProjFactors(),(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.l)(this.m_geogToProjFactor,this.m_geogToProjOffset)}getDomainXY(){if(this.m_bIsPannable)return this.m_domain.clone();let e=!1;return e=this.m_domain.isEmpty(),e&&this.updateDomain(),this.m_domain.clone()}getPrimeMeridian(){return this.m_primeMeridian}getLatestID(){return this.m_WKID}getOldID(){let e=this.m_oldWKID;if(e<0){if(e=0,this.m_WKID>0){const t=[0],s=[0];qc(this.m_peCoordSys.getType(),this.m_WKID,t,s)||(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.d)("query_code_change"),e=t[0]}this.m_oldWKID=e}return e}isCustomWkid(){return!1}isPannable(){return this.m_bIsPannable}getPannableExtent(){return this.m_pannableExtent.clone()}getPannableExtentGCS(){return this.m_pannableExtentGCS.clone()}getAreaOfUse(){return null!==this.m_areaOfUse?this.m_areaOfUse:this.updateAreaOfUse()}getVcsCode(){return 0}saveMemory(){}getCSType(){return this.m_csType}getUnit(){return this.m_unit}setCached(){this.m_bCached=!0}getCached(){return this.m_bCached}static equal(e,t){return!1}static equal_for_projection(e,t){return!1}}class Bg{constructor(e,t=!0){this.m_oneMeter=0,this.m_WKID=-1,this.m_oldWKID=-1,this.m_canonicalWkt="not yet implemented",this.m_model=0,this.m_unit=new bu,this.m_cached=!1}setCached(e=!0){this.m_cached=e}getCached(){return this.m_cached}getOneMeterUnit(){return 0}getLatestID(){return this.m_WKID}getOldID(){let e=this.m_oldWKID;return e<0&&(e=0,this.m_WKID>0&&(e=this.m_WKID),this.m_oldWKID=e),e}getModel(){return 0}isCustomWkid(){return!1}getVerticalUnit(){return this.m_unit}static equal(e,t){return!1}static equal_for_projection(e,t){return!1}}function Og(t,s,n){return Yg(t,s,_Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D.constructEmpty(),n)}function Yg(e,t,s,n){return Xg(!0,e,t,s,n)}function Rg(e,t,s,n){return Lg(!0,e,t,s,n)}function Xg(e,t,s,n,r){Uu()||(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.r)("cannot create projection transformation");return t.hasVCS()&&s.hasVCS()?jg():Zg(t,s,n,r)}function Lg(e,t,s,n,r,i){return Uu()||(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.r)("cannot create projection transformation"),new eu(e?2:1,t,s,n,r,i)}function zg(e,s,n,r,i,o=!1){s&&n||(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.a)(""),Uu()||(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.r)("cannot obtain geotransformation list");if(1===e&&s.hasVCS()&&n.hasVCS())return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.t)("hv xform not impl"),[];{const e=Qc(s,n,r,i,o),t=[];for(const s of e)t.push(s);return t}}function Wg(){return{centralMeridianOfOutputGCS:Number.NaN,densificationStep:Number.NaN,clipWithInputHorizon:!0,clipWithOutputHorizon:!0,legacyHorizonClipping:!1,normalizeResultGeometry:!1,equals(e){return (0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.Q)(this.centralMeridianOfOutputGCS,e.centralMeridianOfOutputGCS)&&(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.Q)(this.densificationStep,e.densificationStep)&&this.clipWithInputHorizon===e.clipWithInputHorizon&&this.clipWithOutputHorizon===e.clipWithOutputHorizon&&this.legacyHorizonClipping===e.legacyHorizonClipping&&this.normalizeResultGeometry===e.normalizeResultGeometry}}}function jg(e,t,s,n){return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(0),{}}function Zg(s,n,r,i){s&&n||(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.a)("!inputSR || !outputSR");const o=s.getLatestID(),a=n.getLatestID();if(3857===o&&4326===a){if(s.m_bDefaultDescriptor&&n.m_bDefaultDescriptor)return pu()}else if(4326===o&&3857===a&&s.m_bDefaultDescriptor&&n.m_bDefaultDescriptor)return fu();const h=_Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D.constructEmpty();h.setCoords({env2D:r});const m=s.getCoordinateSystemType(),l=n.getCoordinateSystemType();if(0===m||0===l)return Kg(s,n);if(i){const e=i.find(0,s.getGCS(),n.getGCS());if(e)return Kg(s,n,e)}const g=s.getGCS().getLatestID(),u=n.getGCS().getLatestID();if(g>0&&g===u)return Kg(s,n);const c=new mu(s,n,r);{const e=gu(c);if(e)return e}const _=zg(0,s,n,h,1,!0);return uu(c,Kg(s,n,_.length?_[0]:void 0))}function Kg(e,t,s,n,r){return new eu(1,e,t,s,n,r)}function Qg(){return{flagsMask:0,setFlag(e,t){t?this.flagsMask|=e:this.flagsMask&=~e},hasFlag(e){return 0!==(this.flagsMask&e)}}}function Jg(){return{m_extendedParams:Wg(),m_extendedParamsInternal:Qg()}}function $g(){return Jg()}let eu=class e{constructor(e,s,n,r,i,o){let h,m;this.m_datumTran=null,this.m_bIdentity=!0,this.m_bIdentityGeogToGeog=!0,this.m_bVertical=!1,this.m_bNormalize=!1,s&&n||(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.a)("!inputSR || !outputSR"),r&&0===r.getType()&&(r.m_bReadOnly=!0),this.m_bNormalize=!1,1!==e&&(h=s.getVCS(),m=n.getVCS(),this.m_bVertical=null!=h&&null!=m),this.m_inputSR=s,this.m_outputSR=n,this.m_bIdentity=!1,this.m_bIdentityGeogToGeog=!1,(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(!this.m_params),i&&(this.m_params=Jg(),this.m_params.m_extendedParams=i),o&&(this.m_params||(this.m_params=Jg()),this.m_params.m_extendedParamsInternal=o);let l=!1;const g=null!=r,u=s.getCoordinateSystemType(),c=n.getCoordinateSystemType();if(n.isPannable()&&0!==u&&i){const e=i.centralMeridianOfOutputGCS;if(!Number.isNaN(e)&&n.isPannable()){const t=n.getPannableExtent(),s=t.getCenterX();if(s!==e){const n=Math.ceil(t.width());e+n!==s+n&&(l=!0)}}}const _=i&&i.normalizeResultGeometry;if(s.equals(n))return this.m_bIdentity=!l,this.m_bIdentityGeogToGeog=!0,void this.updateProjector();const d=!g&&s.equalForProjection(n,this.m_bVertical);this.m_bIdentity=d&&!l,this.m_bIdentity?this.m_bIdentityGeogToGeog=!0:0!==u&&0!==c&&(_&&this.m_outputSR.isPannable()&&(this.m_bNormalize=_),this.m_datumTran=r||null,this.m_bIdentityGeogToGeog=(!this.m_datumTran||0===this.m_datumTran.count())&&this.m_inputSR.getGCS().equalForProjection(this.m_outputSR.getGCS(),this.m_bVertical)),this.updateProjector()}getInputSR(){return this.m_inputSR}getOutputSR(){return this.m_outputSR}getDatumTransformation(){return this.m_datumTran}getInverse(){const t=new e(1,this.m_outputSR,this.m_inputSR,this.m_datumTran?.createInverse());return t.m_bIdentity=this.m_bIdentity,t.m_bVertical=this.m_bVertical,t.m_bIdentityGeogToGeog=this.m_bIdentityGeogToGeog,t.updateProjector(),t}isIdentity(){return this.m_bIdentity}getExtendedParams(){return this.m_params?this.m_params.m_extendedParams:$g().m_extendedParams}equals(e){return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(0),!1}isVertical(){return this.m_bVertical}isMatchingTransformation(e,t){return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(0),!1}getGeographicTransformations(){return this.m_datumTran}getExtendedParamsImpl(){return this.m_params?this.m_params.m_extendedParams:$g().m_extendedParams}getExtendedParamsInternal(){return this.m_params?this.m_params.m_extendedParamsInternal:$g().m_extendedParamsInternal}isIdentityGeogToGeog(){return this.m_bIdentityGeogToGeog}normalizeOutput(){return this.m_bNormalize}updateProjector(){this.m_projector=new Ah(this)}};const tu=new Map,su=new Map,nu=new Map;function ru(e){let t=e.getCode();if(t>0){const e=Iu(t);return e||Cu(Ic.coordsys(t))}const s=e.getName();if(su.has(s)){const t=su.get(s);if(t&&t.deref()){const s=t.deref();if(s.m_peCoordSys.isEqual(e))return s}}return t=Ic.getCode(e),Cu(t>0?Ic.coordsys(t):e)}function iu(e){e<=0&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.C)(e);{const t=Iu(e);if(t)return t}const t=Hc(Ic.coordsys(e));t.get()||(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.C)(e);const s=Cu(t.release());return s.getLatestID()!==e&&tu.set(e,new WeakRef(s)),s}function ou(e){const t=new Bg({},!0);return t.m_WKID=e,t}function au(e){const t=Hc(Ic.fromString(bc.PE_TYPE_COORDSYS,e));return t.get()||(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.D)(e),ru(t.release())}function hu(e){su.delete(e.m_peCoordSys.getName()),nu.delete(_l(e.m_peCoordSys,0,!1))}class mu{constructor(e,t,s){this.m_hashCode=-1,e&&(this.m_inputSR=e,this.m_outputSR=t,this.m_env=s.clone(),this.m_hashCode=this.m_inputSR.getHashCode(),this.m_hashCode=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.at)(this.m_hashCode,this.m_outputSR.getHashCode()),this.m_env.isEmpty()||(this.m_hashCode=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.at)(this.m_hashCode,(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.aI)(this.m_env.xmin)),this.m_hashCode=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.at)(this.m_hashCode,(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.aI)(this.m_env.xmax)),this.m_hashCode=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.at)(this.m_hashCode,(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.aI)(this.m_env.ymin)),this.m_hashCode=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.at)(this.m_hashCode,(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.aI)(this.m_env.ymax))))}getHashCode(){return this.m_hashCode}equals(e){return!(this.m_inputSR&&!e.m_inputSR||!this.m_inputSR&&e.m_inputSR)&&(this.m_env.equals(e.m_env)&&this.m_inputSR.equals(e.m_inputSR)&&this.m_outputSR.equals(e.m_outputSR))}clear(){this.m_inputSR=void 0,this.m_outputSR=void 0,this.m_hashCode=-1,this.m_env=void 0}}const lu=new Map;function gu(e){if(lu.has(e.getHashCode()))return lu.get(e.getHashCode())}function uu(e,t){return lu.set(e.getHashCode(),t),t}let cu,_u,du;function pu(){return cu||(cu=Rg(hc(),lc())),cu}function fu(){return _u||(_u=pu().getInverse()),_u}function xu(){return du||(du=Ic.unit(9001)),du}function yu(e){return null!==Hc(Ic.coordsys(e)).get()}const Pu=new Map;function Eu(e){if(Pu.has(e))return Pu.get(e);{const t=yu(e);return Pu.set(e,t),t}}function Su(e){return!1}function Cu(e){const t=Hc(e),s=e.getCode();if(s>0){const e=Iu(s);if(e)return e}const n=e.getName();let r=su.get(n);if(r){const t=r.deref();if(t&&t.m_peCoordSys.isEqual(e))return t}const i=new qg(t.release());if(s>0)return i.setCached(),tu.set(s,new WeakRef(i)),su.set(n,new WeakRef(i)),i;const o=_l(e,0,!1);if(r=nu.get(o),r){const e=r.deref();if(e)return e}return i.setCached(),nu.set(o,new WeakRef(i)),i}function Iu(e){const t=tu.get(e);if(t)return t.deref()}class bu extends ns{constructor(e){return void 0===e?(super(),this.m_wkid=9001,void(this.m_peUnit=null)):"number"==typeof e?(super(),this.m_factor=e,void(this.m_wkid=0)):(super(e),void(e||(this.m_factor=1,this.m_wkid=9001,this.m_peUnit=xu())))}getUnitType(){return 0}convertFromMeters(e){return e/this.getUnitToBaseFactor()}convertToMeters(e){return e*this.getUnitToBaseFactor()}}const wu=["0","1","2","3","4","5","6","7","8","9","b","c","d","e","f","g","h","j","k","m","n","p","q","r","s","t","u","v","w","x","y","z"];function vu(e,t,s){const n=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.d)(t,"R");let r=0,i=0;for(let o=0;o<t;o++){let s=e[r]>>i&31;if(i+=5,i>31){const t=37-i;s&=(1<<t)-1,i-=32,r++,s|=(e[r]&(1<<i)-1)<<t}const a=wu[s];n[t-1-o]=a}return s>t?n.push(..."0".repeat(s-t)):s<t&&(n.length=s),n.join("")}function Nu(e,t,s,n,r){(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(n>>5<r.length);let i=t,o=s;for(let a=n;a>=0;a-=2){const t=31&a,s=.5*(o+i);e>=s?(r[a>>5]|=1<<t,i=s):o=s}}let Tu=new Set;const Gu=2147483645n,Du=9007199254740990n,Vu="operation is not supported for unknown coordinate systems";var Fu;function Hu(){return{majorSemiAxis:0,e2:0,minorSemiAxis:0,flattening:0,isSphere(){return 0===this.e2}}}function ku(e,t,s){e.majorSemiAxis=t,e.minorSemiAxis=t*(1-s),e.e2=s*(2-s),e.flattening=s}function Au(e){if(Ic)return;Uc(e);const t=Tu;Tu=null,t.forEach((e=>{const t=e.deref();t&&t.attachToPe()}))}function Mu(e){Mc(e)}function Uu(){return!!Ic}function qu(){return!!kc}function Bu(){return!!Ic||!!kc}function Ou(e,t,s){return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(Bu()),dc(e,void 0===t?0:t,null,!1)}function Yu(e,t){(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(Bu());const s=new oc;let n;return Uu()?(n=au(e),s.setHorzProj_(n),s.m_vertcs=null,s.m_userWKID=n.getLatestID()):(n=Ac(e),s.m_unit=n.isPCS?new bu(n.metersOrRadiansPerUnit):new os(n.metersOrRadiansPerUnit)),uc(s.m_precisionDescriptor,n,null,1),s.m_bDefaultDescriptor=!0,s.m_userWKT=e,s.calculateHashCode(),s.initDbgName(),s}function Ru(e,t,s,n,r=!0){let i=null;return t&&(i=Fm(t,r)),Xu(e,i,s,n,r)}function Xu(e,s,n,r,i){e||(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.a)("!PE_coord_sys");const o=new oc;let a;return a=i?ru(e):new qg(e,!1),uc(o.m_precisionDescriptor,a,s,r),o.m_bDefaultDescriptor=!0,o.setHorzProj_(a),o.m_vertcs=s,o.m_userWKID=a.getLatestID(),o.calculateHashCode(),o.initDbgName(),o}function Lu(e,s,n=!1){3===e.getCoordinateSystemType()&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.a)("image spatial reference cannot be altered");const r=new oc,i=e;return r.m_peCoordSysVal=i.m_peCoordSysVal,r.m_vertcs=i.m_vertcs,r.m_unit=i.m_unit,r.m_precisionDescriptor.assign(s),r.m_localZToXYFactor=i.m_localZToXYFactor,(Number.isNaN(r.m_precisionDescriptor.m_falseX)||Number.isNaN(r.m_precisionDescriptor.m_falseY))&&(r.m_precisionDescriptor.m_falseX=i.m_precisionDescriptor.m_falseX,r.m_precisionDescriptor.m_falseY=i.m_precisionDescriptor.m_falseY),r.m_precisionDescriptor.snapPrecision(),r.m_precisionDescriptor.fixTolerance(),r.m_userWKID=i.m_userWKID,r.m_precisionDescriptor.equals(i.m_precisionDescriptor)?r.m_bDefaultDescriptor=i.m_bDefaultDescriptor:r.m_bDefaultDescriptor=!1,n&&(r.m_bDefaultDescriptor=!0),r.calculateHashCode(),r.initDbgName(),r}function zu(e,t,s){return{}}function Wu(e,s,n){void 0===s&&(s=1),(s<=0||!Number.isFinite(s))&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.a)(""),e||1===s||(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.a)("null Unit has to have z_to_xy_factor equal to 1");const r=new oc;r.m_unit=e;const i=e||new bu(9001);return _c(r.m_precisionDescriptor,i,null,1),r.m_bDefaultDescriptor=!0,Number.isNaN(r.m_precisionDescriptor.m_falseX)&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.a)("NAN false X/Y are not allowed here"),r.m_localZToXYFactor=s,r.calculateHashCode(),r.initDbgName(),r}function ju(e,t){return e.snapGeometry(t)}function Zu(e){const t=e.getCoordinateSystemType();return 1===t?e:(3===t&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(0),e.getGCS())}function Ku(e){return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(Bu()),qu()?Bc(e):Eu(e)}function Qu(e){if(Uu()){return null!==Hc(Ic.fromString(bc.PE_TYPE_COORDSYS,e)).get()}try{return Ac(e),!0}catch(t){}return!1}let Ju;function $u(){return Ju||(Ju=(()=>{const e=Math.trunc(Math.random()*(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.i)()),t=Date.now();return`|abba_000|${e.toString(16)}|${t.toString(16)}|`})()),Ju}!function(e){e[e.utmDefault=0]="utmDefault",e[e.utmNorthSouth=1]="utmNorthSouth"}(Fu||(Fu={}));let ec=0;function tc(e=""){let t=`${$u()}${ec++}`;return""!==e&&(t+=`|${e}`),t}function sc(e){return e.startsWith($u())}let nc,rc,ic,oc=class e{destroy(){hu(this.m_peCoordSysVal),1===this.getCoordinateSystemType()||2===this.getCoordinateSystemType()?this.getPECoordSys().destroy():(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.d)("SpatialReference.destroy")}constructor(){this.m_vertcs=null,this.m_peCoordSysVal=null,this.m_userWKID=0,this.m_userWKT=null,this.m_geogSpatialReference=null,this.m_srToGcs=null,this.m_gcsToSr=null,this.m_defaultPrecisionSR=null,this.m_localZToXYFactor=-1,this.m_precisionDescriptor=new ac,this.m_hashCode=0,this.m_bDefaultDescriptor=!1,gc(this.m_precisionDescriptor),Tu&&Tu.add(new WeakRef(this))}attachToPe(){(this.m_userWKID>0?Ou(this.m_userWKID):Yu(this.m_userWKT)).copyTo(this,!1)}copyTo(e,t=!0){(t||e.m_bDefaultDescriptor)&&(e.m_bDefaultDescriptor=this.m_bDefaultDescriptor,e.m_precisionDescriptor.assign(this.m_precisionDescriptor)),e.m_defaultPrecisionSR=null,e.m_gcsToSr=this.m_gcsToSr,e.m_geogSpatialReference=this.m_geogSpatialReference,e.m_hashCode=this.m_hashCode,e.m_localZToXYFactor=this.m_localZToXYFactor,e.m_peCoordSysVal=this.m_peCoordSysVal,e.m_srToGcs=this.m_srToGcs,e.m_userWKID=this.m_userWKID,e.m_userWKT=this.m_userWKT,e.m_vertcs=this.m_vertcs,e.m_unit=this.m_unit}getHashCode(){return this.m_hashCode}getHashCodeHorizontal(){let e=0;return e=this.m_peCoordSysVal?this.m_peCoordSysVal.getHashCode():this.m_unit?this.m_unit.getHashCode():305419891,e}updateTransform(e){if(1===this.getCoordinateSystemType())return Rg(this,this,null);let t=e?this.m_srToGcs:this.m_gcsToSr;if(t)return t;const s=this.getGCS(),n=this;t=e?Rg(n,s,null):Rg(s,n,null);const r=t,i=e?this.m_srToGcs:this.m_gcsToSr;return i||(e?this.m_srToGcs=r:this.m_gcsToSr=r,t)}getHashCodeVertical(){return this.m_vertcs?this.m_vertcs.getHashCode():0}calculateHashCode(){let e=this.getHashCodeHorizontal();const t=this.getHashCodeVertical(),s=this.m_precisionDescriptor.getHashCode();e=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.at)(e,t),this.m_hashCode=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.at)(e,s)}initDbgName(){}setHorzProj_(e){this.m_peCoordSysVal=e,this.m_unit=this.m_peCoordSysVal.getUnit()}getTolerance(e=0){return this.m_precisionDescriptor.getTolerance(e)}getResolution(e=0){return this.m_precisionDescriptor.getResolution(e)}getPECoordSys(){return this.m_peCoordSysVal?this.m_peCoordSysVal.m_peCoordSys:null}getPCSInfo(){return this.throwIfNotGCSOrPCS(),(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(this.m_peCoordSysVal),this.m_peCoordSysVal.getPCSInfo()}getCentralMeridian(){if(this.throwIfNotGCSOrPCS(),1===this.getCoordinateSystemType())return 0;return this.getPCSInfo().getCentralMeridian()}getCoordinateSystemType(){const e=this.getPECoordSys();if(e){switch(e.getType()){case bc.PE_TYPE_GEOGCS:return 1;case bc.PE_TYPE_PROJCS:return 2;default:return 0}}else{if((this.m_userWKID>0||this.m_userWKT)&&this.m_unit instanceof bu)return 2;if(this.m_unit instanceof os)return 1}return 0}getID(){return this.m_userWKID}getLatestID(){return this.m_peCoordSysVal?this.m_peCoordSysVal.getLatestID():this.m_userWKID}getOldID(){return this.m_peCoordSysVal?this.m_peCoordSysVal.getOldID():this.m_userWKID}getVerticalID(){return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.t)("vcs not implemented"),0}getLatestVerticalID(){return this.m_vertcs?this.m_vertcs.getLatestID():0}getOldVerticalID(){return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.t)("vcs not implemented"),0}getPEVerticalCoordSys(){return null}getPole(e){return this.throwIfNotGCSOrPCS(),(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(this.m_peCoordSysVal),this.m_peCoordSysVal.getPole(e)}getText(){const e=this.getPECoordSys();return e?pl(e):this.m_userWKT??""}getTextExtended(e){const t=this.getPECoordSys();return t?this.getPEVerticalCoordSys()?dl(null,t,this.getPEVerticalCoordSys()):pl(t,e):this.m_userWKT??""}getText2(e=-1){const t=this.getPECoordSys();return t?fl(t,e):this.m_userWKT??""}getUnit(){return this.m_unit}getUnitsPerMillimeter(){return this.m_peCoordSysVal?this.m_peCoordSysVal.getUnitsPerMillimeter():this.m_unit instanceof bu?.001/this.m_unit.getUnitToBaseFactor():this.m_unit instanceof os?.001/(Ac(this.m_userWKT??this.m_userWKID).semiMajor*this.m_unit.getUnitToBaseFactor()):((0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.p)("sr object not in valid state"),0)}getAuthorityName(){return this.getPECoordSys()?xl():""}getVerticalUnit(){return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.t)("vcs not implemented"),{}}getVCS(){return this.m_vertcs}hasVCS(){return!1}getGCSHorisonIsInclusive(){return this.throwIfNotGCSOrPCS(),(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(this.m_peCoordSysVal),this.m_peCoordSysVal.getGCSHorisonIsInclusive()}getGCSHorizon(){return this.throwIfNotGCSOrPCS(),(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(this.m_peCoordSysVal),this.m_peCoordSysVal.getGCSHorizon()}getGCS(){const e=this.getCoordinateSystemType();if(0===e)(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.p)(Vu);else{if(1===e)return this;3===e&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.p)("image cs not supported")}if(this.m_geogSpatialReference)return this.m_geogSpatialReference;let t;if(this===hc()||this===mc())t=lc();else{(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(this.m_peCoordSysVal);const e=this.m_peCoordSysVal.m_peCoordSys.getGeogcs();e||(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.d)(""),t=Ru(e,this.m_vertcs,null,this.m_precisionDescriptor.getPrecision(),this.m_peCoordSysVal.getCached())}return this.m_geogSpatialReference?t=this.m_geogSpatialReference:this.m_geogSpatialReference=t,t}getGCSSplitLines(){return this.throwIfNotGCSOrPCS(),(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(this.m_peCoordSysVal),this.m_peCoordSysVal.getGCSSplitLines()}toGCS(e,s){if(0===e.length)return 0;e.length>s.length&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.a)("coordsSrc.size() > coordsDst.size()");const n=this.getCoordinateSystemType();if(0===n&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.p)(Vu),1===n)return (0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.aw)(s,e,e.length),e.length;(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(this.m_peCoordSysVal);const r=this.getSRToGCSTransform();return(new qh).transform(r,e,e.length,s)}toGeohash(e,t=8){const s=e.clone();s.scale(9102===this.getGCS().getUnit().getID()?1:this.getGCS().getUnit().getUnitToBaseFactor()/Math.PI*180),s.x<-180?(s.x=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.n)(s.x,360),s.x<-180&&(s.x+=360)):s.x>180&&(s.x=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.n)(s.x,360),s.x>180&&(s.x-=360)),s.y>90&&(s.y=90),s.y<-90&&(s.y=-90);const n=5*t,r=new Uint32Array(4);Nu(s.x,-180,180,n-1,r),Nu(s.y,-90,90,n-2,r);return vu(r,t,t)}isPannable(){const e=this.getCoordinateSystemType();return 0!==e&&3!==e&&((0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(this.m_peCoordSysVal),this.m_peCoordSysVal.isPannable())}getPannableExtent(){return this.isPannable()||(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.a)("!is_pannable"),(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(this.m_peCoordSysVal),this.m_peCoordSysVal.getPannableExtent()}getPannableExtentInGCS(){return this.isPannable()||(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.a)("!is_pannable"),(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(this.m_peCoordSysVal),this.m_peCoordSysVal.getPannableExtentGCS()}throwIfNotGCSOrPCS(){const e=this.getCoordinateSystemType();1!==e&&2!==e&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.a)("Not a GCS or PCS")}getDomainXY(){return this.throwIfNotGCSOrPCS(),(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(this.m_peCoordSysVal),this.m_peCoordSysVal.getDomainXY()}getFullWorldExtent(){return this.throwIfNotGCSOrPCS(),this.isPannable()?this.getPannableExtent():this.getDomainXY()}queryPrecisionDescriptor(e){if(e.assign(this.m_precisionDescriptor),Number.isNaN(e.m_falseX))if(Uu()||(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.r)("cannot query precision descriptor"),(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(null!==this.m_peCoordSysVal),2!==this.m_precisionDescriptor.m_precision){const t=this.m_peCoordSysVal.getDomainXY();e.m_falseX=t.xmin,e.m_falseY=t.ymin}else e.m_falseX=-Number.MAX_VALUE,e.m_falseY=-Number.MAX_VALUE}queryPrecisionDescriptorWithoutFalseXY(e){e.assign(this.m_precisionDescriptor),e.m_falseX=Number.NaN,e.m_falseY=Number.NaN}queryDefaultPrecisionDescriptorWithoutFalseXY(e){if(this.m_bDefaultDescriptor)e.assign(this.m_precisionDescriptor);else{const t=this.getCoordinateSystemType();0===t?_c(e,this.m_unit,this.m_vertcs,this.m_precisionDescriptor.getPrecision()):3===t?(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.t)("image cs"):uc(e,this.m_peCoordSysVal,this.m_vertcs,this.m_precisionDescriptor.getPrecision())}e.m_falseX=Number.NaN,e.m_falseY=Number.NaN}horizontalEqual(e){return Mg(this.m_peCoordSysVal,e.m_peCoordSysVal)}verticalEqual(e){return null!==this.m_vertcs==(null!==e.m_vertcs)&&(!this.m_vertcs||this.m_vertcs.equals(e.m_vertcs))}equals(e){const t=e;if(this===t)return!0;if(!this.horizontalEqual(t)||!this.verticalEqual(t))return!1;if(!t.m_peCoordSysVal){if((0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(!this.m_peCoordSysVal),null!==this.m_unit!=(null!==t.m_unit))return!1;if(this.m_unit&&!this.m_unit.equals(t.m_unit))return!1;if(this.m_localZToXYFactor!==t.m_localZToXYFactor)return!1}if(!this.m_bDefaultDescriptor||!t.m_bDefaultDescriptor){if(this.m_peCoordSysVal){if(!this.m_precisionDescriptor.equalsWithoutFalseXY(t.m_precisionDescriptor))return!1;(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(t.m_peCoordSysVal);let e=this.m_precisionDescriptor.m_falseX,s=this.m_precisionDescriptor.m_falseY;if(Number.isNaN(e)){const t=this.m_peCoordSysVal.getDomainXY();e=t.xmin,s=t.ymin}let n=t.m_precisionDescriptor.m_falseX,r=t.m_precisionDescriptor.m_falseY;if(Number.isNaN(n)){const e=t.m_peCoordSysVal.getDomainXY();n=e.xmin,r=e.ymin}return e===n&&s===r}return this.m_precisionDescriptor.equals(t.m_precisionDescriptor)}return!0}equalForProjection(e,t){if(this===e)return!0;const s=this.getCoordinateSystemType(),n=e.getCoordinateSystemType();if(0===s||0===n)return 0===s&&0===n?(!t||this.getZToXYFactor()===e.getZToXYFactor())&&(!this.getUnit()||!e.getUnit()||this.getUnit().equals(e.getUnit())):3!==s&&3!==n&&(null===this.getUnit()||null===e.getUnit()||(!t||this.getZToXYFactor()===e.getZToXYFactor())&&this.getUnit().equals(e.getUnit()));if(s!==n)return!1;if(3===s)return this.equals(e);if(Ug(this.m_peCoordSysVal,e.m_peCoordSysVal)){if(!t)return!0;if(null!==this.m_vertcs==(null!==e.m_vertcs))return!this.m_vertcs||this.m_vertcs.equalForProjection(e.m_vertcs)}return!1}equalHorizontal(e){return this.horizontalEqual(e)}equalVertical(e){return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(0),!1}equalVerticalVCS(e){return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(0),!1}convergenceAngle(e){return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(0),0}getPeCoordsysCopy(){if(this.m_peCoordSysVal){const e=this.m_peCoordSysVal.m_peCoordSys;return e||(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.d)("cannot clone coord sys"),e}return null}getPeVertcsCopy(){return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(0),0}throwIfLocal(){0===this.getCoordinateSystemType()&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.a)(Vu)}getPrimeMeridian(){return this.throwIfLocal(),(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(this.m_peCoordSysVal),this.m_peCoordSysVal.getPrimeMeridian()}getSRToGCSTransform(){return this.updateTransform(!0)}getGCSToSRTransform(){return this.updateTransform(!1)}getOneMeter(){return 1e3*this.getUnitsPerMillimeter()}getOneMeterPCSUnit(){return this.throwIfNotGCSOrPCS(),(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(this.m_peCoordSysVal),this.m_peCoordSysVal.getOneMeterPCSUnit()}getDefaultPrecisionSR(){if(this.m_bDefaultDescriptor)return this;if(null===this.m_defaultPrecisionSR){const e=new ac;this.queryDefaultPrecisionDescriptorWithoutFalseXY(e),this.m_defaultPrecisionSR=Lu(this,e,!0)}return this.m_defaultPrecisionSR}getPCSHorizon(){return this.throwIfNotGCSOrPCS(),(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(this.m_peCoordSysVal),this.m_peCoordSysVal.getPCSHorizon()}getHorzUnitFactor(){return this.m_unit?this.m_unit.getUnitToBaseFactor():1}querySpheroidData(e){this.throwIfNotGCSOrPCS(),(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(this.m_peCoordSysVal);const t=this.getGCS().getPECoordSys().getDatum().getSpheroid(),s=t.getFlattening();ku(e,t.getAxis(),s)}getAreaOfUse(){0===this.getCoordinateSystemType()&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.p)(""),(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(this.m_peCoordSysVal);const e=this.m_peCoordSysVal.getAreaOfUse();return null===e?new ss:new ss({geom:e.clone(),sr:Ou(4326)})}getZToXYFactor(){return 1}isCustomWkid(){return!1}getOneDegreeGCSUnit(){return this.throwIfNotGCSOrPCS(),(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(this.m_peCoordSysVal),this.m_peCoordSysVal.getOneDegreeGCSUnit()}getGcsUnitFactor(){return this.throwIfNotGCSOrPCS(),(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(this.m_peCoordSysVal),this.m_peCoordSysVal.getGcsUnitFactor()}snapGeometry(e){if(e.isEmpty())return!1;if(2===this.m_precisionDescriptor.getPrecision())return!1;const t=e.getGeometryType();if((0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.i)(t))return this.snapMultiVertex_(e);if(t===_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumPoint)return this.snapPoint_(e);if(t===_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumEnvelope)return this.snapEnvelope_(e);if((0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.f)(t))return this.snapSegment_(e);if(t===_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumGeometryCollection){const t=e;let s=!1;for(let e=0,n=t.getGeometryCount();e<n;++e)s=this.snapGeometry(t.getGeometry(e))||s;return s}(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.d)("what else?")}snapMultiVertex_(e){if((0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(!e.isEmpty()),(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(2!==this.m_precisionDescriptor.getPrecision()),(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.h)(e.getGeometryType())){const t=e;if(t.hasNonLinearSegments())return this.snapGeometryWithCurves_(t)}const t=e.getImpl(),s=t.getDescription();let n=!1;for(let r=0,i=s.getAttributeCount();r<i;r++){const e=s.getSemantics(r),i=t.getAttributeStreamRef(e);n=this.snapAttributes(e,i,0,t.getPointCount())||n}return n&&t.notifyModifiedFlags(2001),n}snapPoint_(e){return!1}snapEnvelope_(e){return!1}snapSegment_(e){(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(!e.isEmpty()),(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(2!==this.m_precisionDescriptor.getPrecision());const t=new ac;this.queryPrecisionDescriptor(t);const s=e.getStartXY(),n=new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P;n.x=pc(s.x,t.getFalseX(),t.getGridUnitsXY()),n.y=pc(s.y,t.getFalseY(),t.getGridUnitsXY());let r=!n.equals(s);const i=e.getEndXY(),o=new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P;o.x=pc(i.x,t.getFalseX(),t.getGridUnitsXY()),o.y=pc(i.y,t.getFalseY(),t.getGridUnitsXY()),r||=!o.equals(i),r&&e.changeEndPoints2D(n,o);const h=(t,s,n)=>{let r=!1;{const i=e.getStartAttributeAsDbl(t,0),o=pc(i,s,n),a=!(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.Q)(o,i);r||=a,a&&e.setStartAttribute(t,0,o)}{const i=e.getEndAttributeAsDbl(t,0),o=pc(i,s,n),a=!(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.Q)(o,i);r||=a,a&&e.setEndAttribute(t,0,o)}return r};let m=r?1:0;return e.hasAttribute(1)&&(m|=h(1,t.getFalseZ(),t.getGridUnitsZ())?1:0),e.hasAttribute(2)&&(m|=h(2,t.getFalseM(),t.getGridUnitsM())?1:0),!!m}snapGeometryWithCurves_(e){(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(!e.isEmpty()),(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(2!==this.m_precisionDescriptor.getPrecision());const t=e.createInstance(),s=new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.S;let n=0;for(let r=0,i=e.getPathCount();r<i;++r){const i=e.getSegmentCountPath(r);if(0===i){if(t.addPath(e,r,!0),1===t.getPathSize(r)){const e=new _Envelope_js__WEBPACK_IMPORTED_MODULE_3__.P;t.getPointByVal(t.getPointCount()-1,e),n|=this.snapGeometry(e)?1:0,t.setPointByVal(t.getPointCount()-1,e)}continue}const o=e.isClosedPath(r);for(let a=0,h=o?i-1:i;a<h;++a)e.getSegmentFromPath(r,a,s,!1),n|=this.snapGeometry(s.get())?1:0,t.addSegment(s.get(),0===a);o&&(e.getSegmentFromPath(r,i-1,s,!1),n|=this.snapGeometry(s.get())?1:0,1===i?t.addPathFromClosedSegment(s.get(),!1):t.closeLastPathWithSegment(s.get()))}return n&&t.copyTo(e),!!n}snapAttributes(t,s,n,r){let i=!1;const o=new ac;if(this.queryPrecisionDescriptor(o),0===t){const t=s;for(let s=n;s<r;s++){const n=t.read(2*s),r=e.s_SnapValue(n,o.getFalseX(),o.getGridUnitsXY()),a=t.read(2*s+1),h=e.s_SnapValue(a,o.getFalseY(),o.getGridUnitsXY());i=i||r!==n||h!==a,i&&(t.write(2*s,r),t.write(2*s+1,h))}}else if(1===t){const t=s;for(let s=n;s<r;s++){const n=t.read(s),r=e.s_SnapValue(n,o.getFalseZ(),o.getGridUnitsZ());i=i||!(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.Q)(r,n),i&&t.write(s,r)}}else if(2===t){const t=s;for(let s=n;s<r;s++){const n=t.read(s),r=e.s_SnapValue(n,o.getFalseM(),o.getGridUnitsM());i=i||!(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.Q)(r,n),i&&t.write(s,r)}}return i}static s_SnapValue(e,t,s){return (0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.ax)((e-t)*s)/s+t}};class ac{constructor(){const e=Du,t=1e-4,s=.001,n=t*Number(e)*.5;this.m_precision=1,this.m_falseX=-n,this.m_falseY=-n,this.m_unitsXY=Number(e)/(2*n),this.m_falseM=-1e5,this.m_unitsM=1/t,this.m_falseZ=-1e5,this.m_unitsZ=1/t,this.m_toleranceXY=s,this.m_toleranceM=s,this.m_toleranceZ=s}getHashCode(){let e=7777,t=7777;return t=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.at)(t,this.m_falseM),t=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.at)(t,this.m_unitsM),e=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.at)(e,this.m_unitsXY),t=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.at)(t,this.m_toleranceXY),e=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.at)(e,this.m_falseZ),t=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.at)(t,this.m_toleranceZ),e=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.at)(e,this.m_unitsZ),t=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.at)(t,this.m_toleranceM),e=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.at)(e,this.m_precision),(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.at)(e,t)}clone(){const e=new ac;return e.m_falseX=this.m_falseX,e.m_falseY=this.m_falseY,e.m_unitsXY=this.m_unitsXY,e.m_falseZ=this.m_falseZ,e.m_unitsZ=this.m_unitsZ,e.m_falseM=this.m_falseM,e.m_unitsM=this.m_unitsM,e.m_toleranceXY=this.m_toleranceXY,e.m_toleranceZ=this.m_toleranceZ,e.m_toleranceM=this.m_toleranceM,e.m_precision=this.m_precision,e}assign(e){return this.m_falseX=e.m_falseX,this.m_falseY=e.m_falseY,this.m_unitsXY=e.m_unitsXY,this.m_falseZ=e.m_falseZ,this.m_unitsZ=e.m_unitsZ,this.m_falseM=e.m_falseM,this.m_unitsM=e.m_unitsM,this.m_toleranceXY=e.m_toleranceXY,this.m_toleranceZ=e.m_toleranceZ,this.m_toleranceM=e.m_toleranceM,this.m_precision=e.m_precision,this}initialize2D(e,t){}getTolerance(e){switch(e){case 0:return this.m_toleranceXY;case 1:return this.m_toleranceZ;case 2:return this.m_toleranceM;default:return 0}}getResolution(e){if(2===this.m_precision)return 0;switch(e){case 0:return 1/this.m_unitsXY;case 1:return 1/this.m_unitsZ;case 2:return 1/this.m_unitsM;default:return 0}}getFalseX(){return this.m_falseX}getFalseY(){return this.m_falseY}getFalseZ(){return this.m_falseZ}getFalseM(){return this.m_falseM}getGridUnitsXY(){return this.m_unitsXY}getGridUnitsZ(){return this.m_unitsZ}getGridUnitsM(){return this.m_unitsM}getPrecision(){return this.m_precision}static getLimit32(){return 2147483645}static getLimit64(){return 9007199254740990n}static getLimitFloat(){return 0}getXYGridRange(){const t=new _Envelope2D_js__WEBPACK_IMPORTED_MODULE_0__.Envelope2D;switch(this.m_precision){case 0:{const e=ac.getLimit32()/this.getGridUnitsXY();t.setCoords({xmin:this.getFalseX(),ymin:this.getFalseY(),xmax:this.getFalseX()+e,ymax:this.getFalseY()+e})}break;case 1:{const e=Number(ac.getLimit64())/this.getGridUnitsXY();t.setCoords({xmin:this.getFalseX(),ymin:this.getFalseY(),xmax:this.getFalseX()+e,ymax:this.getFalseY()+e})}break;case 2:t.setCoords({xmin:-Number.MAX_VALUE,ymin:-Number.MAX_VALUE,xmax:Number.MAX_VALUE,ymax:Number.MAX_VALUE});break;default:t.setEmpty(),(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.d)("")}return t}getZGridRange(){const e=new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.E;switch(this.m_precision){case 0:{const t=ac.getLimit32()/this.getGridUnitsZ();e.setCoords(this.getFalseZ(),this.getFalseZ()+t)}break;case 1:{const t=Number(ac.getLimit64())/this.getGridUnitsZ();e.setCoords(this.getFalseZ(),this.getFalseZ()+t)}break;case 2:e.setCoords(-Number.MAX_VALUE,Number.MAX_VALUE);break;default:e.setEmpty(),(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.d)("")}return e}getMGridRange(){const e=new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.E;switch(this.m_precision){case 0:{const t=ac.getLimit32()/this.getGridUnitsM();e.setCoords(this.getFalseM(),this.getFalseM()+t)}break;case 1:{const t=Number(ac.getLimit64())/this.getGridUnitsM();e.setCoords(this.getFalseM(),this.getFalseM()+t)}break;case 2:e.setCoords(-Number.MAX_VALUE,Number.MAX_VALUE);break;default:e.setEmpty(),(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.d)("")}return e}setTolerance(e,s){switch(s<0&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.a)("tol < 0"),Number.isFinite(s)||(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.a)("tol is not finite"),e){case 0:this.m_toleranceXY=s;break;case 1:this.m_toleranceZ=s;break;case 2:this.m_toleranceM=s;break;default:(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.a)("cannot set tolerance for this attribute")}}setGridParams(e,s,n){Number.isFinite(e)&&Number.isFinite(s)&&Number.isFinite(n)||(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.a)("grid params are not finite"),n<1&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.a)("grid units cannot be smaller than 1.0"),this.m_falseX=e,this.m_falseY=s,this.m_unitsXY=n}setZParams(e,s){Number.isFinite(e)&&Number.isFinite(s)||(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.a)("grid params are not finite"),s<1&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.a)("grid units cannot be smaller than 1.0"),this.m_falseZ=e,this.m_unitsZ=s}setMParams(e,s){Number.isFinite(e)&&Number.isFinite(s)||(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.a)("grid params are not finite"),s<1&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.a)("grid units cannot be smaller than 1.0"),this.m_falseM=e,this.m_unitsM=s}setPrecision(e){}equals(e){return this===e||(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.Q)(this.m_falseX,e.m_falseX)&&(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.Q)(this.m_falseY,e.m_falseY)&&this.equalsWithoutFalseXY(e)}snapPrecision(){if(2===this.m_precision)return;const e=(e,t,s,n)=>{if(!Number.isFinite(t)||!Number.isFinite(s))return s;if(s<1)return 1;if(!n)return s;const r=Number(e)/s;return Math.trunc((t+r-t)*s)>e&&(s=e/(t+r-t)),Math.max(1,s)},t=Number(0===this.m_precision?Gu:Du);this.m_unitsXY=e(t,this.m_falseX,this.m_unitsXY,!0),this.m_unitsXY=e(t,this.m_falseY,this.m_unitsXY,!0),this.m_unitsZ=e(t,this.m_falseZ,this.m_unitsZ,!1),this.m_unitsM=e(t,this.m_falseM,this.m_unitsM,!1)}verifyPrecision(){if(2===this.m_precision)return!0;const e=(e,t,s,n)=>{if(s<1)return!1;if(!Number.isFinite(t)||!Number.isFinite(s))return!1;if(!n)return!0;const r=Number(e)/s;return!(BigInt((t+r-t)*s)>e)},t=0===this.m_precision?Gu:Du;return!!e(t,this.m_falseX,this.m_unitsXY,!0)&&(!!e(t,this.m_falseY,this.m_unitsXY,!0)&&(!!e(t,this.m_falseZ,this.m_unitsZ,!1)&&!!e(t,this.m_falseM,this.m_unitsM,!1)))}fixTolerance(){2!==this.m_precision&&(this.m_toleranceXY=Math.max(2/this.m_unitsXY,this.m_toleranceXY),this.m_toleranceZ=Math.max(2/this.m_unitsZ,this.m_toleranceZ),this.m_toleranceM=Math.max(2/this.m_unitsM,this.m_toleranceM),(Number.isNaN(this.m_falseX)||Number.isNaN(this.m_falseY))&&(this.m_falseX=this.m_falseY=Number.NaN))}equalsWithoutFalseXY(e){return this===e||this.m_unitsXY===e.m_unitsXY&&this.m_falseZ===e.m_falseZ&&this.m_unitsZ===e.m_unitsZ&&this.m_falseM===e.m_falseM&&this.m_unitsM===e.m_unitsM&&this.m_toleranceXY===e.m_toleranceXY&&this.m_toleranceZ===e.m_toleranceZ&&this.m_toleranceM===e.m_toleranceM&&this.m_precision===e.m_precision}setBestXyDomainFromEnvelope(e,t){}setBestZDomainFromZRange(e,t,s){}setBestMDomainFromMRange(e,t,s){}}function hc(){return(!nc||Uu()&&null===nc.getPECoordSys())&&(nc=dc(3857,0,null,!0)),nc}function mc(){return(!rc||Uu()&&null===rc.getPECoordSys())&&(rc=dc(102100,0,null,!0)),rc}function lc(){return(!ic||Uu()&&null===ic.getPECoordSys())&&(ic=dc(4326,0,null,!0)),ic}function gc(e){e.m_falseX=0,e.m_falseY=0,e.m_unitsXY=1,e.m_falseZ=0,e.m_unitsZ=1,e.m_falseM=0,e.m_unitsM=1,e.m_toleranceXY=100*(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.O)(),e.m_toleranceZ=100*(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.O)(),e.m_toleranceM=100*(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.O)(),e.m_precision=2}function uc(e,s,n,r){const i=s instanceof qg;gc(e),e.m_precision=r,e.m_falseX=Number.NaN,e.m_falseY=Number.NaN;const o=1e-4,a=.001,h=i?s.m_csType:s.isPCS?2:1;if(1===h){const t=(0===r?1/18e5:1e-9)*(i?s.getOneDegreeGCSUnit():Math.PI/s.metersOrRadiansPerUnit/180);e.m_unitsXY=1/t}else if(2===h){const t=(0===r?a:o)*(i?s.getOneMeterPCSUnit():1/s.metersOrRadiansPerUnit);e.m_unitsXY=1/t}else (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.a)("unrecognized cs type");e.m_falseM=-1e5,e.m_unitsM=1/(0===r?a:o),e.m_unitsM=Math.max(1,e.m_unitsM),e.m_unitsXY=Math.max(1,e.m_unitsXY);let m=0,l=0;0!==r&&1!==r||(m=2/e.m_unitsXY,l=2/e.m_unitsM),e.m_toleranceXY=Math.max(m,i?s.getUnitsPerMillimeter():2===h?.001/s.metersOrRadiansPerUnit:.001/(s.semiMajor*s.metersOrRadiansPerUnit)),e.m_toleranceM=Math.max(a,l),cc(e,n)}function cc(e,t){const s=1e-4,n=.001;if(e.m_falseZ=-1e5,t){const r=(0===e.m_precision?n:s)*t.getOneMeter();e.m_unitsZ=1/r}else e.m_unitsZ=1/(0===e.m_precision?n:s);e.m_unitsZ=Math.max(1,e.m_unitsZ);let r=0;0!==e.m_precision&&1!==e.m_precision||(r=2/e.m_unitsZ),e.m_toleranceZ=Math.max(t?t.getOneMeter()*n:n,r)}function _c(e,t,s,n){gc(e),e.m_precision=n;const r=0===n?Gu:Du,i=1e-4,o=.001;let a=1,h=1,m=.001;t&&(h=t.getUnitToBaseFactor()),t&&1===t.getUnitType()?(a=400*Math.PI/180,m=8.983152841195215e-9*Math.PI/180/h):(a=(0===n?o:i)*Number(r)*.5,m=o/h),a/=h,e.m_falseX=-a,e.m_falseY=-a,e.m_unitsXY=Number(r)/(2*a),e.m_falseM=-1e5,e.m_unitsM=1/(0===n?o:i),e.m_unitsM=Math.max(1,e.m_unitsM),e.snapPrecision();let l=0,g=0;0!==e.m_precision&&1!==e.m_precision||(g=2/e.m_unitsM,l=2/e.m_unitsXY),e.m_toleranceXY=Math.max(l,m),e.m_toleranceM=Math.max(o,g),cc(e,s)}function dc(e,t,s,n){if(!n&&t<=0){if(3857===e)return hc();if(102100===e)return mc();if(4326===e)return lc()}const r=new oc;let i,o=null;return Uu()?(i=iu(e),t>0?o=null:t=0,r.setHorzProj_(i),r.m_vertcs=o):(i=Ac(e),r.m_unit=i.isPCS?new bu(i.metersOrRadiansPerUnit):new os(i.metersOrRadiansPerUnit)),uc(r.m_precisionDescriptor,i,o,1),r.m_bDefaultDescriptor=!0,r.m_userWKID=e,r.calculateHashCode(),r.initDbgName(),r}function pc(e,t,s){return (0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.ax)((e-t)*s)/s+t}let fc=null;const xc=3552713678800501e-30;function yc(e,t,s){return e===t||Math.abs(e-t)<=s*(1+(Math.abs(e)+Math.abs(t))/2)}function Pc(e,t){return yc(e,t,xc)}function Ec(e,t){return 0===e||Math.abs(e)<=t}function Sc(e){return Ec(e,xc)}let Cc,Ic,bc,wc,vc,Nc,Tc,Gc,Dc,Vc,Fc;function Hc(e){return{_this:e,get(){return this._this},reset(e){this._this=e},release(){const e=this._this;return this._this=null,e}}}let kc=null;function Ac(e){(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(kc);const t=kc(e);return t.semiMajor=t.isPCS?Number.NaN:Rc(e),t}function Mc(e){kc=e,(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(kc)}function Uc(e){const t=e;Ic=t.PeFactory,(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(Ic),Fc=t.PeGCSExtent,(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(Fc),Dc=t.PeLineType,(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(Dc),Vc=t.PeMath,(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(Vc),Cc=t.PeDouble,(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(Cc),bc=t.PeDefs,(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(bc),wc=t.PeCSTransformations,(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(wc),vc=t.PeGTTransformations,(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(vc),Nc=t.PePCSInfo,(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(Nc),Tc=t.PeGTlistExtended,(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(Tc),Ic.initialize(),Gc=t.PeGTlistExtendedEntry,(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(Gc),bc.PE_TYPE_ANGUNIT=512,bc.PE_STR_AUTH_ALL=2,Nc.PE_POLE_LINE_STRAIGHT=2,Nc.PE_POLE_LINE_CURVED=3,bc.PE_PARM_LAM0=2,bc.PE_PARM_PHI0=6,bc.PE_PRJ_AZIMUTHAL_EQUIDISTANT=43032,bc.PE_PRJ_LAMBERT_AZIMUTHAL_EQAREA=43033,bc.PE_PRJ_ALBERS=43007,bc.PE_PRJ_CYLINDRICAL_EQAREA=43034,bc.PE_TYPE_VERTCS=8,bc.PE_LINETYPE_GEODESIC=0,bc.PE_LINETYPE_LOXODROME=1,bc.PE_LINETYPE_GREAT_ELLIPTIC=2,bc.PE_LINETYPE_NORMAL_SECTION=3,Tc.PE_GTLIST_OPTS_USABLE=1,kc=null}function qc(e,t,s,n){return t<=0?(s[0]=0,n[0]=0,!1):(s[0]=t,n[0]=t,!0)}function Bc(e){(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(qu());return!!kc(e).isPCS||Oc(e)}function Oc(e){return Ic&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.p)("pe has been loaded. no-pe methods should not be used at this point."),fc||Xc(),fc.has(e)}const Yc=/(?:ELLIPSOID|SPHEROID)\["(?:\w|[-()])+",(\d+\.\d+)/;function Rc(e){if(Ic&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.p)("pe has been loaded. no-pe methods should not be used at this point."),"string"==typeof e){const s=e.match(Yc);s&&2===s.length||(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.a)("bad gcs wkt");const n=Number.parseFloat(s[1]);return Number.isFinite(n)||(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.a)("bad gcs wkt"),n}return fc||Xc(),fc.has(e)||(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.p)("gcs wkid not found"),fc.get(e)}function Xc(){fc=new Map;for(const e in rs){const t=Number.parseFloat(e),s=rs[e];if(Array.isArray(s))for(const e of s)fc.set(e,t);else fc.set(s,t)}is()}function Lc(e,t){const s=Ic.geogtran(e);s||(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.C)(e);return new Kc(s,t)}function zc(e,t){const s=Ic.fromString(bc.PE_TYPE_GEOGTRAN,e);s||(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.D)(e);return new Kc(s,t)}function Wc(e,t){return new Kc(e,t)}const jc=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.au)(0),Zc=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.au)(1);let Kc=class e{constructor(t,s){if(t instanceof e)return this.m_geogTranWrapper=t.m_geogTranWrapper,this.m_bInverted=s?!t.m_bInverted:t.m_bInverted,void(this.m_hashCode=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.at)(this.m_geogTranWrapper.getHashCode(),this.m_bInverted?Zc:jc));this.m_geogTranWrapper=new Um(t),this.m_bInverted=s,this.m_hashCode=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.at)(this.m_geogTranWrapper.getHashCode(),this.m_bInverted?Zc:jc)}getID(){return this.m_geogTranWrapper.getLatestId()}getLatestID(){return this.m_geogTranWrapper.getLatestId()}getText(){return this.m_geogTranWrapper.getText()}getTextExtended(e){if(!this.m_geogTranWrapper.getGeogtran())return"";if(-1===e)return this.m_geogTranWrapper.getGeogtran().toString();{const t=0===e?bc.PE_STR_AUTH_TOP:bc.PE_STR_AUTH_ALL;return this.m_geogTranWrapper.getGeogtran().toString(t)}}getText2(e=-1){let t=bc.PE_STR_FMT_WKT2;return-1!==e&&(t|=0===e?bc.PE_STR_AUTH_TOP:bc.PE_STR_AUTH_ALL),this.m_geogTranWrapper.getGeogtran().toString(t)}getName(){return this.m_geogTranWrapper&&this.m_geogTranWrapper.getGeogtran()?this.m_geogTranWrapper.getGeogtran().getName():""}getInputSpatialReference(){return this.m_bInverted?this.m_geogTranWrapper.getOutputSr(!1):this.m_geogTranWrapper.getInputSr(!1)}getOutputSpatialReference(){return this.m_bInverted?this.m_geogTranWrapper.getInputSr(!1):this.m_geogTranWrapper.getOutputSr(!1)}getInverse(){return new e(this,!0)}isInverted(){return this.m_bInverted}getHashCode(){return this.m_hashCode}GetPeGeogtran(){return this.m_geogTranWrapper.getGeogtran()}equals(e){const t=e;return t===this||this.m_bInverted===t.m_bInverted&&(this.GetPeGeogtran()===t.GetPeGeogtran()||this.getID()===t.getID()&&!(0===this.getID()&&!this.GetPeGeogtran().isEqual(t.GetPeGeogtran())))}referencesMissingData(){return!!this.m_geogTranWrapper&&!this.m_geogTranWrapper.isUsable()}getWrapper(){return this.m_geogTranWrapper}};function Qc(e,t,s,n,r){const i=e.getGCS(),o=t.getGCS(),h=i.getPECoordSys(),m=o.getPECoordSys();let l=null;if(!s.isEmpty()){const t=s.clone();if(!t.isEmpty()&&2===e.getCoordinateSystemType()){let s=new _Envelope_js__WEBPACK_IMPORTED_MODULE_3__.E({env2D:t});const n=Rg(e,i,null);s=(new qh).execute(s,n,null),s.queryEnvelope(t)}if(!t.isEmpty()){const e=h.getPrimem().getLongitude(),s=h.getUnit().getUnitFactor();l=new Fc(t.xmin,t.ymin,t.xmax,t.ymax,e,s)}}let g=n;g>=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.i)()&&(g=0);const u=[];let c=Tc.PE_GTLIST_OPTS_COMMON;r||(c&=~Tc.PE_GTLIST_OPTS_USABLE);for(let _=0;_<2;_++){u.length=0;const e=g,t=Tc.getGTlist(h,m,2,c,l,e);let s=!1;if(t&&t.length>0)for(let i=0,o=t.length;i<o;i++){const e=Jc([t[i]]);if((0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(e),r&&e.referencesMissingData())s=!0;else if(u.push(e),n>0&&u.length===n)break}if(!s)break;0===g||(g=0)}return l&&l.destroy(),u}function Jc(e){(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(null!==e);const t=new e_,s=e[0].getSteps();if(s){const n=e[0].getEntries();for(let e=0;e<s;e++){const s=0!==n[e].getDirection(),r=Wc(n[e].getGeogtran(),s);t.add(r)}return t.create()}return null}let $c=class{constructor(e,t,s,n){this.m_bReadOnly=!0,this.m_name="",this.m_fastTrack=-1,this.m_bNameIsSet=!1,this.m_transforms=e,t&&(this.m_name=t,this.m_bNameIsSet=!0),this.m_inputSr=s,this.m_outputSr=n}getType(){return 0}getName(){if(this.m_bNameIsSet)return this.m_name;if(0===this.m_transforms.length)return"";let e="";for(const t of this.m_transforms)e.length>0&&(e+=" + "),t.isInverted()&&(e+="~"),e+=t.getName();return e}count(){return this.m_transforms.length}createInverse(){return this.getInverse()}getHashCode(){let e=1973;for(let t=0;t<this.m_transforms.length;t++)e=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.at)(e,this.m_transforms[t].getHashCode());return e}equals(e){return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(0),!1}referencesMissingData(){if(0===this.m_transforms.length)return!1;for(const e of this.m_transforms)if(e.referencesMissingData())return!0;return!1}isMatchingTransformation(e,t){return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(0),!1}validateTransformation(e,t){return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(0),!1}nameIsSet(){return (0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(0),!1}getInputSpatialReference(){return this.m_inputSr}getOutputSpatialReference(){return this.m_outputSr}getStep(e){return(e<0||e>this.count())&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.q)(""),this.m_transforms[e]}getInverse(){const e=new e_;return e.addSteps(this,!0),e.setInputSpatialReference(this.m_outputSr),e.setOutputSpatialReference(this.m_inputSr),e.create()}transform(e,t,s){if(0===this.count())return;let n=this.m_inputSr,r=this.m_outputSr;if(e&&(r=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.c)(n,n=r)),0===this.m_transforms.length)return void qm(n,null,r,null,t,null,s);let i=this.m_fastTrack;if(1===i)return void (0,_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__.a8)(e,this.m_transforms,(n=>{Xm(n.getWrapper(),e!==n.isInverted(),t,null,s)}));const o=Mm();-1===i&&o.initFromGcsAndVcs(n,null);const a=Mm();let h=e?this.m_transforms.length-1:0;const m=e?-1:1;for(let g=0,u=this.m_transforms.length;g<u;g++,h+=m){if(0===g){const r=this.m_transforms[h];Bm(n.getPECoordSys(),null,r.getWrapper(),e!==r.isInverted(),t,null,s,a),-1===i&&(o.equals(a)||(i=0)),o.assign(a)}else{const n=this.m_transforms[h-m],r=this.m_transforms[h];Ym(o,n.getWrapper(),e!==n.isInverted(),r.getWrapper(),e!==r.isInverted(),t,null,s,a),-1===i&&(o.equals(a)||(i=0)),o.assign(a)}const r=this.m_transforms[h];Rm(o,r.getWrapper(),e!==r.isInverted(),t,null,s,a),o.assign(a)}const l=this.m_transforms[h-m];Om(o,l.getWrapper(),e!==l.isInverted(),r,null,t,null,s),-1===i&&(a.initFromGcsAndVcs(r,null),o.equals(a)||(i=0)),this.m_fastTrack=0===i?0:1}};class e_{constructor(){this.m_transforms=[],this.m_inputGCS=null,this.m_outputGCS=null,this.m_name="",this.m_bNameIsSet=!1}getInputSpatialReference(){return null!==this.m_inputGCS?this.m_inputGCS:this.count()>0?this.m_transforms[0].getInputSpatialReference():null}setInputSpatialReference(e){this.m_inputGCS=e?e.getGCS():null}getOutputSpatialReference(){return null!==this.m_outputGCS?this.m_outputGCS:this.count()>0?this.m_transforms.at(-1).getOutputSpatialReference():null}setOutputSpatialReference(e){this.m_outputGCS=e?e.getGCS():null}getName(){if(this.m_bNameIsSet)return this.m_name;if(0===this.m_transforms.length)return"";let e="";for(const t of this.m_transforms)e.length>0&&(e+=" + "),t.isInverted()&&(e+="~"),e+=t.getName();return e}count(){return this.m_transforms.length}getStep(e){return(e<0||e>this.count())&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.q)(""),this.m_transforms[e]}setStep(e,t){(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(0)}add(e){this.m_transforms.push(e)}addSteps(e,t){if(t)for(let s=e.count()-1;s>=0;--s)this.add(e.getStep(s).getInverse());else for(let s=0;s<e.count();++s)this.add(e.getStep(s))}clear(){this.m_transforms=[],this.m_name="",this.m_bNameIsSet=!1,this.m_inputGCS=null,this.m_outputGCS=null}remove(e){(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(0)}create(){const e=this.getInputSpatialReference(),t=this.getOutputSpatialReference(),s=new $c(this.m_transforms,this.m_bNameIsSet?this.m_name:null,e,t);return s.m_bReadOnly=!0,this.clear(),s}}const t_=Object.freeze(Object.defineProperty({__proto__:null,SpatialReference:oc,SpatialReferencePrecisionDescriptor:ac,create:Ou,createFromWKT:Yu,createImplFromPe:Ru,createLocal:Wu,createWithNewPrecision:Lu,createWithNewVCS:zu,getGCS:Zu,getTempName:tc,hasNoPe:qu,hasPe:Uu,injectNoPe:Mu,injectPe:Au,isInitialized:Bu,isTempName:sc,isValidWkid:Ku,isValidWkt:Qu,makeSpheroidData:Hu,snapGeometry:ju,webMercator:hc,webMercator102100:mc,wgs84:lc},Symbol.toStringTag,{value:"Module"})),s_=Object.freeze(Object.defineProperty({__proto__:null,OperatorProject:qh},Symbol.toStringTag,{value:"Module"})),n_=Object.freeze(Object.defineProperty({__proto__:null,CompositeGeographicTransformation:$c,CompositeGeographicTransformationEditor:e_,createImpl:Jc,queryGtListImpl:Qc},Symbol.toStringTag,{value:"Module"})),r_=Object.freeze(Object.defineProperty({__proto__:null,GeographicTransformation:Kc,create:Lc,createFromPe:Wc,createFromWKT:zc},Symbol.toStringTag,{value:"Module"})),i_=Object.freeze(Object.defineProperty({__proto__:null,ProjectionTransformation:eu,create:Og,createEx:Rg,createFromAoi:Yg,createImplEx:Lg,makeExtendedParams:Wg,makeExtendedParamsInternal:Qg,queryTransformationList:zg},Symbol.toStringTag,{value:"Module"}));


/***/ })

};

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmVuZG9ycy1ub2RlX21vZHVsZXNfYXJjZ2lzX2NvcmVfY2h1bmtzX1Byb2plY3Rpb25UcmFuc2Zvcm1hdGlvbl9qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUM0USxvS0FBb0ssYUFBYSxPQUFPLDhDQUFDLGVBQWUsY0FBYyxvQkFBb0IsNkJBQTZCLGdCQUFnQixrQ0FBa0MsdUJBQXVCLGdDQUFnQyxxQkFBcUIscUNBQXFDLDJCQUEyQixZQUFZLHlCQUF5QixZQUFZLDZCQUE2QixZQUFZLDBDQUEwQyx3RUFBd0UsNEJBQTRCLFlBQVksMkJBQTJCLFNBQVMsb0JBQW9CLDJCQUEyQiw2QkFBNkIsd0NBQXdDLG9CQUFvQiwyQkFBMkIsZ0JBQWdCLHdDQUF3QyxxQkFBcUIsK0VBQStFLE9BQU8sNEJBQTRCLE9BQU8sNEJBQTRCLFFBQVEsNEJBQTRCLHlCQUF5QixrQ0FBa0MsMEJBQTBCLFlBQVksMkJBQTJCLE9BQU8sOENBQUMsU0FBUyxVQUFVLGdCQUFnQiw0QkFBNEIscUNBQXFDLDJCQUEyQix1Q0FBdUMsZUFBZSx1UEFBdVAsOENBQUMsb0ZBQW9GLGlCQUFpQixLQUFLLElBQUksaU1BQWlNLFFBQVEsbUNBQW1DLElBQUksS0FBSyw2RUFBNkUsa0NBQWtDLFlBQVksSUFBSSw4Q0FBOEMsUUFBUSxhQUFhLE9BQU8sOENBQUMsT0FBTyxRQUFRLHFCQUFxQix3QkFBd0IsY0FBYyx5SEFBeUgsVUFBVSxtQkFBbUIsVUFBVSxtQkFBbUIsYUFBYSwrQkFBK0IsK0JBQStCLDBCQUEwQixjQUFjLGlCQUFpQiw4QkFBOEIsY0FBYyxvQ0FBb0MsZ0JBQWdCLHNCQUFzQiwwREFBMEQsaUZBQWlGLGdCQUFnQixzQ0FBc0MsOENBQThDLGdCQUFnQiwrQ0FBK0MsMkNBQTJDLGFBQWEsaUNBQWlDLGFBQWEsaUNBQWlD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QTJCLE1BQU0sK0NBQUUsdUNBQXVDLFNBQVMsVUFBVSxPQUFPLCtDQUFDLE9BQU8sd0JBQXdCLHlDQUF5Qyx1RUFBdUUsU0FBUyw4QkFBOEIsT0FBTywrQ0FBQyxPQUFPLDRCQUE0QixPQUFPLCtDQUFDLE9BQU8sWUFBWSxPQUFPLCtDQUFDLE9BQU8sMkJBQTJCLHNCQUFzQiw0QkFBNEIsdUJBQXVCLFdBQVcsNkJBQTZCLCtDQUFDLDBCQUEwQixhQUFhLGVBQWUsOEhBQThILGlCQUFpQiwyQkFBMkIsdUNBQXVDLFNBQVMsOENBQUUsNkVBQTZFLHVCQUF1QixxQkFBcUIscURBQUUsMEJBQTBCLCtDQUErQyxHQUFHLGFBQWEsb0NBQW9DLGFBQWEscUNBQXFDLGVBQWUsdUNBQXVDLElBQUksVUFBVSxVQUFVLDZCQUE2QixpSEFBaUgsS0FBSyxzREFBc0QsOEhBQThILDZCQUE2QiwrREFBK0QsK0JBQStCLDhJQUE4SSxTQUFTLGNBQWMsb0dBQW9HLDJCQUEyQixrSEFBa0gsNEJBQTRCLGtDQUFrQyw0QkFBNEIseUhBQXlILDZCQUE2QixtQ0FBbUMsVUFBVSx3Q0FBd0MseUNBQXlDLFNBQVMsZ0dBQWdHLFNBQVMsUUFBUSxnQ0FBZ0MsV0FBVyw2QkFBNkIsK0NBQUMsMEJBQTBCLGFBQWEsK0NBQUMsSUFBSSxPQUFPLDBCQUEwQixjQUFjLDJCQUEyQixLQUFLLHdDQUF3QyxpQkFBaUIsWUFBWSwyQkFBMkIsUUFBUSxvR0FBb0csVUFBVSwrQ0FBQyxJQUFJLFNBQVMsOElBQThJLHdDQUF3Qyw4Q0FBOEMsMFlBQTBZLHFCQUFxQixlQUFlLDJDQUEyQyxrQ0FBa0MscUJBQXFCLGVBQWUsMkNBQTJDLGdJQUFnSSxxQkFBcUIsZUFBZSwyQ0FBMkMsc0ZBQXNGLHFCQUFxQixlQUFlLDJDQUEyQyxpTEFBaUwscUJBQXFCLGVBQWUsR0FBazJCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcHJlY2lzaW9uZmFybXMvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL2NodW5rcy9FbnZlbG9wZS5qcyIsIndlYnBhY2s6Ly9wcmVjaXNpb25mYXJtcy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvY2h1bmtzL011bHRpUGF0aEltcGwuanMiLCJ3ZWJwYWNrOi8vcHJlY2lzaW9uZmFybXMvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL2NodW5rcy9PcGVyYXRvckNsaXAuanMiLCJ3ZWJwYWNrOi8vcHJlY2lzaW9uZmFybXMvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL2NodW5rcy9PcGVyYXRvckRlZmluaXRpb25zLmpzIiwid2VicGFjazovL3ByZWNpc2lvbmZhcm1zLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS9jaHVua3MvT3BlcmF0b3JEZW5zaWZ5LmpzIiwid2VicGFjazovL3ByZWNpc2lvbmZhcm1zLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS9jaHVua3MvUHJvamVjdGlvblRyYW5zZm9ybWF0aW9uLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjMzL2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7USBhcyB0LGQgYXMgZSxhIGFzIHMsRyBhcyBpLHggYXMgbixFIGFzIHIsYyBhcyBoLFAgYXMgbyxpIGFzIGEsYiBhcyBtLEEgYXMgXyxCIGFzIGwsaiBhcyB1LG0gYXMgZCx3IGFzIGN9ZnJvbVwiLi9Qb2ludDJELmpzXCI7aW1wb3J0e0VudmVsb3BlMkQgYXMgcH1mcm9tXCIuL0VudmVsb3BlMkQuanNcIjtpbXBvcnR7ZyxhIGFzIGYscSBhcyB2LEcgYXMgeSx0IGFzIHgsdSBhcyBFLGQgYXMgYixwIGFzIE4saSBhcyBELGYgYXMgSX1mcm9tXCIuL0dlb21ldHJ5LmpzXCI7Y29uc3QgQz1bMCwwLE51bWJlci5OYU4sMCwwLDAsMCwwLC0xLC0xLDAsMCwwLDBdLFQ9WzIsMSwxLDEsMywxLDIsMywyLDQsMSwxLDIsMV0sUj1bMSwxLDEsMCwyLDEsMSwxLDAsMCwwLDAsMCwxXSxBPVsxLDEsMSwyLDAsMCwwLDAsMiwyLDQsMiwyLDFdLHE9WzQsOCw0LDgsMV0sdz0yNTtmdW5jdGlvbiBCKCl7cmV0dXJuIGUodyxOdW1iZXIuTmFOKX1sZXQgej1jbGFzcyBze2dldEF0dHJpYnV0ZUNvdW50KCl7cmV0dXJuIHRoaXMubV9hdHRyaWJ1dGVDb3VudH1nZXRTZW1hbnRpY3ModCl7cmV0dXJuIHRoaXMubV9pbmRleFRvU2VtYW50aWNzW3RdfWdldFNlbWFudGljc0JpdEFycmF5KCl7cmV0dXJuIHRoaXMubV9zZW1hbnRpY3NCaXRBcnJheX1nZXRBdHRyaWJ1dGVJbmRleCh0KXtyZXR1cm4gdGhpcy5tX3NlbWFudGljc1RvSW5kZXhNYXBbdF19c3RhdGljIGdldEludGVycG9sYXRpb24odCl7cmV0dXJuIFJbdF19c3RhdGljIGdldFBlcnNpc3RlbmNlKHQpe3JldHVybiBBW3RdfXN0YXRpYyBnZXRQZXJzaXN0ZW5jZVNpemUodCl7cmV0dXJuIHFbdF19c3RhdGljIGdldFBlcnNpc3RlbmNlU2l6ZUZyb21TZW1hbnRpY3ModCl7cmV0dXJuIHMuZ2V0UGVyc2lzdGVuY2VTaXplKHMuZ2V0UGVyc2lzdGVuY2UodCkpKnMuZ2V0Q29tcG9uZW50Q291bnQodCl9c3RhdGljIGdldENvbXBvbmVudENvdW50KHQpe3JldHVybiBUW3RdfXN0YXRpYyBtYXhDb21wb25lbnRDb3VudCgpe3JldHVybiA0fXN0YXRpYyBpc0ludGVnZXIodCl7cmV0dXJuIDI9PT10fHwzPT09dHx8ND09PXR9c3RhdGljIGlzSW50ZWdlclNlbWFudGljcyh0KXtyZXR1cm4gcy5pc0ludGVnZXIocy5nZXRQZXJzaXN0ZW5jZSh0KSl9c3RhdGljIGlzVGV4dHVyZSh0KXtyZXR1cm4gNT09PXR8fDY9PT10fHw3PT09dH1oYXNBdHRyaWJ1dGUodCl7cmV0dXJuISEodGhpcy5tX3NlbWFudGljc0JpdEFycmF5JjE8PHQpfWhhc0F0dHJpYnV0ZXNGcm9tKHQpe3JldHVybih0aGlzLm1fc2VtYW50aWNzQml0QXJyYXkmdC5tX3NlbWFudGljc0JpdEFycmF5KT09PXQubV9zZW1hbnRpY3NCaXRBcnJheX1oYXNaKCl7cmV0dXJuIHRoaXMuaGFzQXR0cmlidXRlKDEpfWhhc00oKXtyZXR1cm4gdGhpcy5oYXNBdHRyaWJ1dGUoMil9aGFzSUQoKXtyZXR1cm4gdGhpcy5oYXNBdHRyaWJ1dGUoMyl9Z2V0VG90YWxDb21wb25lbnRDb3VudCgpe3JldHVybiB0aGlzLm1fdG90YWxDb21wb25lbnRDb3VudH1zdGF0aWMgZ2V0RGVmYXVsdFZhbHVlKHQpe3JldHVybiBDW3RdfXN0YXRpYyBpc0RlZmF1bHRWYWx1ZShlLHMpe3JldHVybiB0KENbZV0scyl9ZXF1YWxzKHQpe3JldHVybiB0aGlzPT09dH1nZXREZWZhdWx0UG9pbnRBdHRyaWJ1dGVzKCl7cmV0dXJuIHRoaXMubV9kZWZhdWx0UG9pbnRBdHRyaWJ1dGVzfWdldFBvaW50QXR0cmlidXRlT2Zmc2V0KHQpe3JldHVybiB0aGlzLm1fcG9pbnRBdHRyaWJ1dGVPZmZzZXRzW3RdfWNvbnN0cnVjdG9yKHQpe3RoaXMubV9zZW1hbnRpY3NCaXRBcnJheT10LHRoaXMubV9hdHRyaWJ1dGVDb3VudD0wLHRoaXMubV90b3RhbENvbXBvbmVudENvdW50PTAsdGhpcy5tX3NlbWFudGljc1RvSW5kZXhNYXA9bmV3IEludDMyQXJyYXkoMTQpLHRoaXMubV9pbmRleFRvU2VtYW50aWNzPW5ldyBJbnQzMkFycmF5KDE0KSx0aGlzLm1fcG9pbnRBdHRyaWJ1dGVPZmZzZXRzPW5ldyBJbnQzMkFycmF5KDE0KSx0aGlzLm1fZGVmYXVsdFBvaW50QXR0cmlidXRlcz1lKHcsTnVtYmVyLk5hTiksdGhpcy5tX3NlbWFudGljc1RvSW5kZXhNYXAuZmlsbCgtMSksdGhpcy5tX2luZGV4VG9TZW1hbnRpY3MuZmlsbCgtMSk7bGV0IGk9MCxuPTEscj0xNDtmb3IoO2k8cjtpKyspdCZuJiYodGhpcy5tX3NlbWFudGljc1RvSW5kZXhNYXBbaV09dGhpcy5tX2F0dHJpYnV0ZUNvdW50LHRoaXMubV9pbmRleFRvU2VtYW50aWNzW3RoaXMubV9hdHRyaWJ1dGVDb3VudF09aSx0aGlzLm1fYXR0cmlidXRlQ291bnQrKyx0aGlzLm1fdG90YWxDb21wb25lbnRDb3VudCs9cy5nZXRDb21wb25lbnRDb3VudChpKSksbjw8PTE7bGV0IGg9MDtmb3IoaT0wLHI9dGhpcy5nZXRBdHRyaWJ1dGVDb3VudCgpO2k8cjtpKyspe2NvbnN0IHQ9dGhpcy5nZXRTZW1hbnRpY3MoaSksZT1zLmdldENvbXBvbmVudENvdW50KHQpLG49cy5nZXREZWZhdWx0VmFsdWUodCk7dGhpcy5tX3BvaW50QXR0cmlidXRlT2Zmc2V0c1tpXT1oO2ZvcihsZXQgcz0wO3M8ZTtzKyspdGhpcy5tX2RlZmF1bHRQb2ludEF0dHJpYnV0ZXNbaF09bixoKyt9fX07dmFyIEw9ejtmdW5jdGlvbiBTKCl7cmV0dXJuIGUoMTQsMCl9Y2xhc3MgRntzdGF0aWMgZ2V0SW5zdGFuY2UoKXtyZXR1cm4gRi5zX3RoaXNJbnN0YW5jZX1jb25zdHJ1Y3Rvcigpe3RoaXMubV9tYXA9bmV3IE1hcCx0aGlzLm1fdmQyRD1uZXcgTCgxKSx0aGlzLm1fbWFwLnNldCgxLHRoaXMubV92ZDJEKSx0aGlzLm1fdmQzRD1uZXcgTCgzKSx0aGlzLm1fbWFwLnNldCgzLHRoaXMubV92ZDJEKX1HZXRWRDJEKCl7cmV0dXJuIHRoaXMubV92ZDJEfUdldFZEM0QoKXtyZXR1cm4gdGhpcy5tX3ZkM0R9RmluZE9yQWRkKHQpe2lmKDE9PT10KXJldHVybiB0aGlzLkdldFZEMkQoKTtpZigzPT09dClyZXR1cm4gdGhpcy5HZXRWRDNEKCk7Y29uc3QgZT10aGlzLm1fbWFwLmdldCh0KTtpZihlKXJldHVybiBlO2NvbnN0IHM9bmV3IEwodCk7cmV0dXJuIHRoaXMubV9tYXAuc2V0KHQscyksc319ZnVuY3Rpb24gUCh0KXtyZXR1cm4gRi5nZXRJbnN0YW5jZSgpLkZpbmRPckFkZCh0KX1mdW5jdGlvbiBIKHQsZSl7aWYoIXR8fCFlKXJldHVybiBlfHx0O2NvbnN0IHM9dC5nZXRTZW1hbnRpY3NCaXRBcnJheSgpfGUuZ2V0U2VtYW50aWNzQml0QXJyYXkoKTtyZXR1cm4ocyZ0LmdldFNlbWFudGljc0JpdEFycmF5KCkpPT09cz90OihzJmUuZ2V0U2VtYW50aWNzQml0QXJyYXkoKSk9PT1zP2U6UChzKX1mdW5jdGlvbiBWKHQsZSl7Y29uc3Qgcz10LmdldFNlbWFudGljc0JpdEFycmF5KCl8MTw8ZTtyZXR1cm4ocyZ0LmdldFNlbWFudGljc0JpdEFycmF5KCkpPT09cz90OlAocyl9ZnVuY3Rpb24gayh0LGUpe2NvbnN0IHM9KHQuZ2V0U2VtYW50aWNzQml0QXJyYXkoKXwxPDxlKS0oMTw8ZSk7cmV0dXJuIHM9PT10LmdldFNlbWFudGljc0JpdEFycmF5KCk/dDpQKHMpfWZ1bmN0aW9uIE0oKXtyZXR1cm4gRi5nZXRJbnN0YW5jZSgpLkdldFZEMkQoKX1mdW5jdGlvbiBPKCl7cmV0dXJuIEYuZ2V0SW5zdGFuY2UoKS5HZXRWRDNEKCl9ZnVuY3Rpb24gWSh0LGUscyl7aWYocy5maWxsKC0xKSxudWxsIT09dCYmbnVsbCE9PWUpZm9yKGxldCBpPTAsbj10LmdldEF0dHJpYnV0ZUNvdW50KCk7aTxuO2krKylzW2ldPWUuZ2V0QXR0cmlidXRlSW5kZXgodC5nZXRTZW1hbnRpY3MoaSkpfUYuc190aGlzSW5zdGFuY2U9bmV3IEY7Y2xhc3MgWHtzdGF0aWMgY29uc3RydWN0KHQsZSxzKXtyZXR1cm4gbmV3IFgodCxlLHMpfWNvbnN0cnVjdG9yKHQsZSxzKXt2b2lkIDAhPT10Pyh0aGlzLng9dCx0aGlzLnk9ZSx0aGlzLno9cyk6dGhpcy54PXRoaXMueT10aGlzLno9TnVtYmVyLk5hTn1nZXQgMCgpe3JldHVybiB0aGlzLnh9Z2V0IDEoKXtyZXR1cm4gdGhpcy55fWdldCAyKCl7cmV0dXJuIHRoaXMuen1zZXQgMCh0KXt0aGlzLng9dH1zZXQgMSh0KXt0aGlzLnk9dH1zZXQgMih0KXt0aGlzLno9dH1jbG9uZSgpe3JldHVybiBuZXcgWCh0aGlzLngsdGhpcy55LHRoaXMueil9YXNzaWduKHQpe3JldHVybiB0aGlzLng9dC54LHRoaXMueT10LnksdGhpcy56PXQueix0aGlzfXNldENvb3Jkcyh0LGUscyl7cmV0dXJuIHRoaXMueD10LHRoaXMueT1lLHRoaXMuej1zLHRoaXN9c2V0Q29vcmRzUG9pbnQyRFoodCxlKXtyZXR1cm4gdGhpcy5zZXRDb29yZHModC54LHQueSxlKX1zZXRDb29yZHNQb2ludDNEKHQpe3RoaXMueD10LngsdGhpcy55PXQueSx0aGlzLno9dC56fXNldFplcm8oKXt0aGlzLng9MCx0aGlzLnk9MCx0aGlzLno9MH1zZXROb3JtYWxpemVkKHQpe3RoaXMuYXNzaWduKHQpLHRoaXMubm9ybWFsaXplVGhpcygpfW5vcm1hbGl6ZVRoaXMoKXtjb25zdCB0PXRoaXMubGVuZ3RoKCk7cmV0dXJuIHQ/KHRoaXMueC89dCx0aGlzLnkvPXQsdGhpcy56Lz10KToodGhpcy54PTEsdGhpcy55PTAsdGhpcy56PTApLHRoaXN9Z2V0VW5pdFZlY3Rvcigpe2NvbnN0IHQ9bmV3IFg7cmV0dXJuIHQuc2V0Tm9ybWFsaXplZCh0aGlzKSx0fXNxckxlbmd0aCgpe3JldHVybiB0aGlzLngqdGhpcy54K3RoaXMueSp0aGlzLnkrdGhpcy56KnRoaXMuen1sZW5ndGgoKXtyZXR1cm4gTWF0aC5zcXJ0KHRoaXMueCp0aGlzLngrdGhpcy55KnRoaXMueSt0aGlzLnoqdGhpcy56KX1sZW5ndGhYWSgpe3JldHVybiBnKDApLDB9c3RhdGljIHNxckRpc3RhbmNlKHQsZSl7cmV0dXJuIHModC54LWUueCkrcyh0LnktZS55KStzKHQuei1lLnopfXN0YXRpYyBzcXJEaXN0YW5jZUNvb3Jkcyh0LGUsaSxuLHIsaCl7cmV0dXJuIHModC1uKStzKGUtcikrcyhpLWgpfXN0YXRpYyBkaXN0YW5jZSh0LGUpe3JldHVybiBNYXRoLnNxcnQoWC5zcXJEaXN0YW5jZSh0LGUpKX1pc0VxdWFsKHQsZSl7cmV0dXJuIHZvaWQgMD09PWUmJihlPTApLE1hdGguYWJzKHRoaXMueC10LngpPD1lJiZNYXRoLmFicyh0aGlzLnktdC55KTw9ZSYmaSh0aGlzLnosdC56LGUpfXN0YXRpYyBjb21wYXJlQnlMZW5ndGgodCxlLHMsaSl7cmV0dXJuIGcoMCksMH1pc0VxdWFsQ29vcmRzKHQsZSxzLGkpe3JldHVybiBnKDApLHRoaXMueD09PXQmJnRoaXMueT09PWUmJnRoaXMuej09PXN9aXNFcXVhbHNUb2xzKHQsZSxzKXtyZXR1cm4gZygwKSwhMX1pc0VxdWFsQ29vcmRzVG9scyh0LGUscyxpLG4pe3JldHVybiBnKDApLCExfXN0YXRpYyBzdF9pc0VxdWFsKHQsZSxzLGkpe3JldHVybiBnKDApLCExfWVxdWFscyh0LGUpe3JldHVybiB0aGlzLmlzRXF1YWwodCxlKX1lcXVhbHNUb2xzKHQsZSxzKXtyZXR1cm4gZygwKSwhMX1kaXZUaGlzKHQpe3JldHVybiB0aGlzLngvPXQsdGhpcy55Lz10LHRoaXMuei89dCx0aGlzfXN1YlRoaXModCl7cmV0dXJuIHRoaXMueC09dC54LHRoaXMueS09dC55LHRoaXMuei09dC56LHRoaXN9c2V0U3ViKHQsZSl7cmV0dXJuIHRoaXMueD10LngtZS54LHRoaXMueT10LnktZS55LHRoaXMuej10LnotZS56LHRoaXN9c3ViKHQpe3JldHVybiBYLmNvbnN0cnVjdCh0aGlzLngtdC54LHRoaXMueS10LnksdGhpcy56LXQueil9YWRkVGhpcyh0KXtyZXR1cm4gdGhpcy54Kz10LngsdGhpcy55Kz10LnksdGhpcy56Kz10LnosdGhpc31hZGQodCl7cmV0dXJuIHRoaXMuY2xvbmUoKS5hZGRUaGlzKHQpfXNldEFkZCh0LGUpe3JldHVybiB0aGlzLng9dC54K2UueCx0aGlzLnk9dC55K2UueSx0aGlzLno9dC56K2Uueix0aGlzfW11bCh0KXtyZXR1cm4gWC5jb25zdHJ1Y3QodGhpcy54KnQsdGhpcy55KnQsdGhpcy56KnQpfWRvdFByb2R1Y3QodCl7cmV0dXJuIHRoaXMueCp0LngrdGhpcy55KnQueSt0aGlzLnoqdC56fWNyb3NzUHJvZHVjdFZlY3Rvcih0KXtjb25zdCBlPXRoaXMueSp0LnotdC55KnRoaXMueixzPXQueCp0aGlzLnotdGhpcy54KnQueixpPXRoaXMueCp0LnktdC54KnRoaXMueTtyZXR1cm4gbmV3IFgoZSxzLGkpfXNldENyb3NzUHJvZHVjdFZlY3Rvcih0LGUpe2NvbnN0IHM9dC55KmUuei1lLnkqdC56LGk9ZS54KnQuei10LngqZS56LG49dC54KmUueS1lLngqdC55O3JldHVybiB0aGlzLng9cyx0aGlzLnk9aSx0aGlzLno9bix0aGlzfXNldFNjYWxlZCh0LGUpe3JldHVybiB0aGlzLng9dCplLngsdGhpcy55PXQqZS55LHRoaXMuej10KmUueix0aGlzfXNjYWxlVGhpcyh0KXtyZXR1cm4gdGhpcy54Kj10LHRoaXMueSo9dCx0aGlzLnoqPXQsdGhpc31zY2FsZVpUaGlzKHQpe3JldHVybiB0aGlzLnoqPXQsdGhpc31zZXROQU4oKXtyZXR1cm4gZygwKSx0aGlzfWlzTkFOKCl7cmV0dXJuIE51bWJlci5pc05hTih0aGlzLngpfHxOdW1iZXIuaXNOYU4odGhpcy55KXx8TnVtYmVyLmlzTmFOKHRoaXMueil9c3RhdGljIGdldE5BTigpe3JldHVybiBYLmNvbnN0cnVjdChOdW1iZXIuTmFOLE51bWJlci5OYU4sTnVtYmVyLk5hTil9aXNGaW5pdGUoKXtyZXR1cm4gZygwKSwhMX1pc1plcm8oKXtyZXR1cm4gMD09PXRoaXMueCYmMD09PXRoaXMueSYmMD09PXRoaXMuen1ub3JtKHQpe3JldHVybiBnKDApLDB9c3FyRGlzdGFuY2VGcm9tQ2VudGVyVG9TcGhlcm9pZFN1cmZhY2UodCxlKXtyZXR1cm4gZygwKSwwfWRpc3RhbmNlRnJvbUNlbnRlclRvU3BoZXJvaWRTdXJmYWNlKHQsZSl7cmV0dXJuIE1hdGguc3FydCh0aGlzLnNxckRpc3RhbmNlRnJvbUNlbnRlclRvU3BoZXJvaWRTdXJmYWNlKHQsZSkpfXN0YXRpYyBnZXRDbG9zZXN0Q29vcmRpbmF0ZSh0LGUscyxpPSExKXtyZXR1cm4gZygwKSwwfWNvbXBhcmUodCl7cmV0dXJuIHRoaXMueTx0Lnk/LTE6dGhpcy55PnQueT8xOnRoaXMueDx0Lng/LTE6dGhpcy54PnQueD8xOnRoaXMuejx0Lno/LTE6dGhpcy56PnQuej8xOjB9Y29tcGFyZVhZWih0KXtyZXR1cm4gZygwKSwwfW5lZ2F0ZVRoaXMoKXt0aGlzLng9LXRoaXMueCx0aGlzLnk9LXRoaXMueSx0aGlzLno9LXRoaXMuen1zdGF0aWMgYXZlcmFnZUZhc3QodCxlKXtyZXR1cm4gZygwKSx7fX1zdGF0aWMgYXZlcmFnZSh0LGUpe3JldHVybiBnKDApLHt9fXN0YXRpYyBzaXplKCl7cmV0dXJuIFguZGltZW5zaW9uc31zdGF0aWMgbGVycCh0LGUscyl7Y29uc3QgaT1uZXcgWDtyZXR1cm4gbih0LGUscyxpKSxpfXN0YXRpYyBzbGVycCh0LGUscyl7cmV0dXJuIGcoMCkse319c3RhdGljIGNvbXBhcmVWZWN0b3JzKHQsZSl7cmV0dXJuIGcoMCksMH1zdGF0aWMgc2VsZWN0UmlnaHRIYW5kZWRCYXNpc0Zyb21Ob3JtYWwodCxlLHMpe2NvbnN0IGk9dC5nZXRVbml0VmVjdG9yKCksbj1pLmNyZWF0ZUFQZXJwZW5kaWN1bGFyKCkscj1uZXcgWDtyLnNldENyb3NzUHJvZHVjdFZlY3RvcihpLG4pLHIubm9ybWFsaXplVGhpcygpLGUuc2V0Q29vcmRzUG9pbnQzRChuKSxzLnNldENvb3Jkc1BvaW50M0Qocil9Y3JlYXRlQVBlcnBlbmRpY3VsYXIoKXtjb25zdCB0PVt0aGlzLmNyb3NzUHJvZHVjdFZlY3RvcihuZXcgWCgwLDAsMSkpLHRoaXMuY3Jvc3NQcm9kdWN0VmVjdG9yKG5ldyBYKDEsMCwwKSksdGhpcy5jcm9zc1Byb2R1Y3RWZWN0b3IobmV3IFgoMCwxLDApKV0sZT1bdFswXS5zcXJMZW5ndGgoKSx0WzFdLnNxckxlbmd0aCgpLHRbMl0uc3FyTGVuZ3RoKCldLHM9dFtlLnJlZHVjZSgoKHQscyxpKT0+ZVt0XT5lW2ldP3Q6aSksMCldO3JldHVybiBzLm5vcm1hbGl6ZVRoaXMoKSxzfWNhbGN1bGF0ZUFuZ2xlKHQpe3JldHVybiBnKDApLDB9c3RhdGljIGNyb3NzRG90U2lnbih0LGUscyl7cmV0dXJuIGcoMCksMH1zdGF0aWMgaXNCaXNlY3RvclJvYnVzdCh0LGUscyl7cmV0dXJuIGcoMCksMH1zdGF0aWMgY29tcGFyZVpPcmRlcih0LGUpe3JldHVybiBnKDApLCExfX1YLmRpbWVuc2lvbnM9MztjbGFzcyBHe3N0YXRpYyBjb25zdHJ1Y3RFbXB0eSgpe3JldHVybiBuZXcgRyhOdW1iZXIuTmFOLE51bWJlci5OYU4sTnVtYmVyLk5hTixOdW1iZXIuTmFOLE51bWJlci5OYU4sTnVtYmVyLk5hTil9Y29uc3RydWN0b3IodCxlLHMsaSxuLHIpe3RoaXMubV9FbnZlbG9wZVR5cGU9Myx0aGlzLnhtaW49dCx0aGlzLnltaW49ZSx0aGlzLnptaW49cyx0aGlzLnhtYXg9aSx0aGlzLnltYXg9bix0aGlzLnptYXg9cix0aGlzLm5vcm1hbGl6ZSgpfWluZmxhdGUodCl7dGhpcy5pbmZsYXRlQ29vcmRzKHQsdCx0KX1pbmZsYXRlQ29vcmRzKHQsZSxzKXtnKDApfWdldEVudmVsb3BlMkQoKXtyZXR1cm4gbmV3IHAodGhpcy54bWluLHRoaXMueW1pbix0aGlzLnhtYXgsdGhpcy55bWF4KX1nZXRFbnZlbG9wZVpzKCl7cmV0dXJuIG5ldyByKHRoaXMuem1pbix0aGlzLnptYXgpfXNldEVtcHR5Wigpe3RoaXMuem1pbj1OdW1iZXIuTmFOLHRoaXMuem1heD1OdW1iZXIuTmFOfW5vcm1hbGl6ZSgpe2xldCB0PSExO3RoaXMueG1pbjw9dGhpcy54bWF4fHwodGhpcy54bWF4PWgodGhpcy54bWluLHRoaXMueG1pbj10aGlzLnhtYXgpLHQ9ITApLHRoaXMueW1pbjw9dGhpcy55bWF4fHwodGhpcy55bWF4PWgodGhpcy55bWluLHRoaXMueW1pbj10aGlzLnltYXgpLHQ9ITApLCF0fHx0aGlzLnhtaW48PXRoaXMueG1heCYmdGhpcy55bWluPD10aGlzLnltYXg/dGhpcy56bWluPD10aGlzLnptYXh8fCh0aGlzLnptYXg9aCh0aGlzLnptaW4sdGhpcy56bWluPXRoaXMuem1heCksdGhpcy56bWluPD10aGlzLnptYXh8fHRoaXMuc2V0RW1wdHlaKCkpOnRoaXMuc2V0RW1wdHkoKX1pc0VtcHR5KCl7cmV0dXJuIE51bWJlci5pc05hTih0aGlzLnhtaW4pfHxOdW1iZXIuaXNOYU4odGhpcy55bWluKXx8TnVtYmVyLmlzTmFOKHRoaXMueG1heCl8fE51bWJlci5pc05hTih0aGlzLnltYXgpfWlzRW1wdHlaKCl7cmV0dXJuIE51bWJlci5pc05hTih0aGlzLnptaW4pfHxOdW1iZXIuaXNOYU4odGhpcy56bWF4KX1zZXRFbXB0eSgpe3RoaXMueG1pbj1OdW1iZXIuTmFOLHRoaXMueW1pbj1OdW1iZXIuTmFOLHRoaXMuem1pbj1OdW1iZXIuTmFOLHRoaXMueG1heD1OdW1iZXIuTmFOLHRoaXMueW1heD1OdW1iZXIuTmFOLHRoaXMuem1heD1OdW1iZXIuTmFOfW1lcmdlRW52M0QodCl7dC5pc0VtcHR5KCl8fCh0aGlzLm1lcmdlQ29vcmRzKHQueG1pbix0LnltaW4sdC56bWluKSx0aGlzLm1lcmdlQ29vcmRzKHQueG1heCx0LnltYXgsdC56bWF4KSl9bWVyZ2VOZSh0KXt0aGlzLm1lcmdlTmVDb29yZHModC54LHQueSx0LnopfW1lcmdlTmVDb29yZHModCxlLHMpe3RoaXMueG1pbj50P3RoaXMueG1pbj10OnRoaXMueG1heDx0JiYodGhpcy54bWF4PXQpLHRoaXMueW1pbj5lP3RoaXMueW1pbj1lOnRoaXMueW1heDxlJiYodGhpcy55bWF4PWUpLHRoaXMuem1pbj5zP3RoaXMuem1pbj1zOnRoaXMuem1heDxzJiYodGhpcy56bWF4PXMpfW1lcmdlQ29vcmRzKHQsZSxzKXt0aGlzLmlzRW1wdHkoKT8odGhpcy54bWluPXQsdGhpcy54bWF4PXQsdGhpcy55bWluPWUsdGhpcy55bWF4PWUsdGhpcy56bWluPXMsdGhpcy56bWF4PXMpOih0aGlzLmlzRW1wdHlaKCkmJih0aGlzLnptaW49cyx0aGlzLnptYXg9cyksdGhpcy5tZXJnZU5lQ29vcmRzKHQsZSxzKSl9c2V0Q29vcmRzKHQsZSxzLGksbixyKXt0aGlzLnhtaW49dCx0aGlzLnltaW49ZSx0aGlzLnptaW49cyx0aGlzLnhtYXg9aSx0aGlzLnltYXg9bix0aGlzLnptYXg9cix0aGlzLm5vcm1hbGl6ZSgpfXNxckRpc3RhbmNlRW52ZWxvcGUzREFuZFBvaW50cyh0LGUscyxpPTEpe3JldHVybiBnKDApLDB9c3FyTWF4RGlzdGFuY2UodCxlPTEpe3JldHVybiBnKDApLDB9fWNvbnN0IFU9LTU1OTAzODczNzt2YXIgWj16O2Z1bmN0aW9uIFEodCxlLHMpe3N3aXRjaCh0KXtjYXNlIDA6cmV0dXJuIG5ldyBpdChlLHMpO2Nhc2UgMTpyZXR1cm4gbmV3IG50KGUscyk7Y2FzZSAyOnJldHVybiBuZXcgc3QoZSxzKTtjYXNlIDM6dGhyb3cgbmV3IEVycm9yKFwiNjQgYml0IGludCBhdHRyaWJ1dGUgc3RyZWFtIG5vdCBpbXBsZW1lbnRlZFwiKTtjYXNlIDQ6cmV0dXJuIG5ldyBldChlLHMpO2RlZmF1bHQ6ZihcIlwiKX19ZnVuY3Rpb24gaih0LGUpe2NvbnN0IHM9Wi5nZXRDb21wb25lbnRDb3VudCh0KTtyZXR1cm4gUShaLmdldFBlcnNpc3RlbmNlKHQpLGUqcyxaLmdldERlZmF1bHRWYWx1ZSh0KSl9ZnVuY3Rpb24gVyh0LGUpe2NvbnN0IHM9Wi5nZXRDb21wb25lbnRDb3VudCh0KTtyZXR1cm4gUShaLmdldFBlcnNpc3RlbmNlKHQpLGUqcyl9ZnVuY3Rpb24gSih0LGUpe3JldHVybiBuZXcgc3QodCxlKX1mdW5jdGlvbiBLKHQsZSl7cmV0dXJuIG5ldyBldCh0LGUpfWZ1bmN0aW9uICQodCxlKXtyZXR1cm4gbmV3IG50KHQsZSl9Y2xhc3MgdHR7c2l6ZSgpe3JldHVybiB0aGlzLm1fc2l6ZX1jaGVja1Jlc2l6ZSh0LGUpe3Q+dGhpcy5tX3NpemUmJnRoaXMucmVzaXplKHQsZSl9cmVzaXplKHQsZSl7aWYoKHQ9TWF0aC50cnVuYyh0KSk9PT10aGlzLm1fc2l6ZSlyZXR1cm47Y29uc3Qgcz0hIWV8fE51bWJlci5pc05hTihlKTtpZih0PHRoaXMubV9hLmxlbmd0aCl0aGlzLm1fYS5sZW5ndGg+dHQuc19yZXNpemVNaW4mJjEuMjUqdDx0aGlzLm1fYS5sZW5ndGgmJih0aGlzLm1fYT10aGlzLm1fYS5zbGljZSgwLHQpKSxzJiZ0PnRoaXMubV9zaXplJiZ0aGlzLm1fYS5maWxsKGUsdGhpcy5tX3NpemUsdCk7ZWxzZSBpZih0Pj10aGlzLm1fYS5sZW5ndGgpe2NvbnN0IGk9MS4yNSp0LG49bmV3IHRoaXMubV9hLmNvbnN0cnVjdG9yKGkpO24uc2V0KHRoaXMubV9hKSx0aGlzLm1fYT1uLHMmJnRoaXMubV9hLmZpbGwoZSx0aGlzLm1fc2l6ZSx0KX10aGlzLm1fc2l6ZT10fXJlc2l6ZVJvdW5kZWQodCxlKXtyZXR1cm4gdGhpcy5yZXNpemUodCxlKX1yZXNlcnZlKHQpe31yZWFkKHQpe3JldHVybiB0aGlzLm1fYVt0XX1yZWFkQXNEYmwodCl7cmV0dXJuIHRoaXMucmVhZCh0KX13cml0ZSh0LGUpe3RoaXMubV9hW3RdPWV9d3JpdGVBc0RibCh0LGUpe3RoaXMud3JpdGUodCxlKX1zZXRSYW5nZSh0LGUscyl7KGU8MHx8czwwfHxzK2U+dGhpcy5zaXplKCkpJiZmKCksdGhpcy5tX2EuZmlsbCh0LGUsZStzKX1hZGQodCl7dGhpcy5yZXNpemUodGhpcy5tX3NpemUrMSksdGhpcy5tX2FbdGhpcy5tX3NpemUtMV09dH1hZGRBcnJheSh0LGUpe2NvbnN0IHM9dGhpcy5tX3NpemU7dm9pZCAwPT09ZT8odGhpcy5yZXNpemUodGhpcy5tX3NpemUrdC5sZW5ndGgpLHRoaXMubV9hLnNldCh0LHMpKToodGhpcy5yZXNpemUodGhpcy5tX3NpemUrZSksdGhpcy5tX2Euc2V0KHQuc2xpY2UoMCxlKSxzKSl9ZXF1YWxzKHQsZSxzLGkpe2lmKHRoaXMuZ2V0UGVyc2lzdGVuY2UoKSE9PXQuZ2V0UGVyc2lzdGVuY2UoKSlyZXR1cm4hMTtyZXR1cm4gcnQodGhpcyx0LGUscyxpKX1pbnNlcnRSYW5nZSh0LGUscyxpKXtjb25zdCBuPXRoaXMubV9zaXplO3RoaXMuY2hlY2tSZXNpemUoTWF0aC5tYXgoMCxpKStzKSx0aGlzLm1fYS5jb3B5V2l0aGluKHQrcyx0LGk+PTA/aTpuKSx0aGlzLm1fYS5maWxsKGUsdCx0K3MpfXJlYWRSYW5nZSh0LGUpe3JldHVybiB0aGlzLm1fYS5zbGljZSh0LHQrZSl9aW5zZXJ0UmFuZ2VGcm9tU3RyZWFtKHQsZSxzLGksbixyLGgpe2codGhpcy5nZXRQZXJzaXN0ZW5jZSgpPT09ZS5nZXRQZXJzaXN0ZW5jZSgpKTtjb25zdCBvPWUsYT10aGlzLm1fc2l6ZTtpJiZ0aGlzLmNoZWNrUmVzaXplKE1hdGgubWF4KDAsaCkraSksdGhpcy5tX2EuY29weVdpdGhpbih0K2ksdCxoPj0wP2g6YSksdGhpcy5tX2Euc2V0KG8ucmVhZFJhbmdlKHMsaSksdCksbnx8dGhpcy5yZXZlcnNlUmFuZ2UodCxpLHIpfXdyaXRlUmFuZ2UodCxlLHMsaSxuLHIpe2codGhpcy5nZXRQZXJzaXN0ZW5jZSgpPT09cy5nZXRQZXJzaXN0ZW5jZSgpKTtjb25zdCBoPXM7aWYoKHQ8MHx8ZTwwfHxpPDApJiZmKCksaC5zaXplKCk8aStlJiZmKCksMD09PWUpcmV0dXJuO3RoaXMuc2l6ZSgpPGUrdCYmdGhpcy5yZXNpemUoZSt0KTtjb25zdCBvPWgubV9hLnN1YmFycmF5KGksaStlKTtodCh0aGlzLm1fYSx0LGUsbyl9aW5zZXJ0QXR0cmlidXRlcyh0LGUscyxpKXtjb25zdCBuPVouZ2V0Q29tcG9uZW50Q291bnQocyk7dGhpcy5tX2EuY29weVdpdGhpbih0K24sdCxpPj0wP2k6dGhpcy5tX3NpemUpO2ZvcihsZXQgcj0wO3I8bjtyKyspdGhpcy5tX2FbdCtyXT1lLmdldEF0dHJpYnV0ZUFzRGJsKHMscil9aW5zZXJ0QXR0cmlidXRlc0Zyb21Qb2ludHModCxlLHMsaSxuKXtnKFouZ2V0UGVyc2lzdGVuY2UoaSk9PT10aGlzLmdldFBlcnNpc3RlbmNlKCkpO2NvbnN0IHI9Wi5nZXRDb21wb25lbnRDb3VudChpKSxoPXRoaXMubV9zaXplO2lmKHRoaXMuY2hlY2tSZXNpemUoTWF0aC5tYXgoMCxuKStyKnMpLHRoaXMubV9hLmNvcHlXaXRoaW4odCtyKnMsdCxuPj0wP246aCksMD09PWkpe2NvbnN0IGk9bmV3IG87Zm9yKGxldCBuPXQscj0wO3I8cztyKyssbis9MillW3JdLnF1ZXJ5WFkoaSksdGhpcy5tX2Fbbl09aS54LHRoaXMubV9hW24rMV09aS55fWVsc2UgaWYoMT09PXIpZm9yKGxldCBvPXQsYT0wO2E8czthKyssbysrKXRoaXMubV9hW29dPWVbYV0uZ2V0QXR0cmlidXRlQXNEYmwoaSwwKTtlbHNlIGZvcihsZXQgbz10LGE9MDthPHM7YSsrLG8rPXIpZm9yKGxldCB0PTA7dDxyO3QrKyl0aGlzLm1fYVtvK3RdPWVbYV0uZ2V0QXR0cmlidXRlQXNEYmwoaSx0KX1lcmFzZVJhbmdlKHQsZSxzKXt0aGlzLm1fc2l6ZTx0K2UmJmYoKSx0aGlzLm1fYS5jb3B5V2l0aGluKHQsdCtlKSx0aGlzLm1fc2l6ZS09ZX1yZXZlcnNlUmFuZ2UodCxlLHMpe2lmKChzPDF8fGUlcyE9PTApJiZmKCksdGhpcy5tX2Euc3ViYXJyYXkodCx0K2UpLnJldmVyc2UoKSxzPjEpZm9yKGxldCBpPXQsbj10K2U7aTxuO2krPXMpe2xldCB0PWksZT1pK3MtMTtmb3IoO3Q8ZTspe2NvbnN0IHM9dGhpcy5tX2FbdF07dGhpcy5tX2FbdF09dGhpcy5tX2FbZV0sdGhpcy5tX2FbZV09cyx0KyssZS0tfX19cm90YXRlKHQsZSxzKXsoZTx0fHxlPnN8fHQ+cykmJnYoXCJyb3RhdGVcIiksZSE9PXQmJmUhPT1zJiYodGhpcy5yZXZlcnNlUmFuZ2UodCxlLXQsMSksdGhpcy5yZXZlcnNlUmFuZ2UoZSxzLWUsMSksdGhpcy5yZXZlcnNlUmFuZ2UodCxzLXQsMSkpfXNvcnQodCxlLHMpe3RoaXMubV9hLnN1YmFycmF5KHQsZSkuc29ydChzKX1jb25zdHJ1Y3Rvcih0KXtpZih0Lm1vdmUpdGhpcy5tX2E9dC5tb3ZlLm1fYSx0aGlzLm1fc2l6ZT10Lm1vdmUubV9zaXplLHQubW92ZS5tX2E9dC5tb3ZlLm1fYS5zbGljZSgwLDApLHQubW92ZS5tX3NpemU9MDtlbHNlIGlmKHQuY29weSl0aGlzLm1fc2l6ZT10LmNvcHkubV9zaXplLHQubWF4U2l6ZSYmKHRoaXMubV9zaXplPU1hdGgubWluKHQubWF4U2l6ZSx0aGlzLm1fc2l6ZSkpLHRoaXMubV9hPXQuY29weS5tX2Euc2xpY2UoMCx0aGlzLm1fc2l6ZSk7ZWxzZXtjb25zdCBlPU1hdGgubWF4KHQuc2l6ZSx0dC5zX2NvbnN0cnVjdE1pbik7dGhpcy5tX2E9bmV3IHQuY3RvcihlKSwodC5kZWZhdWx0VmFsdWV8fE51bWJlci5pc05hTih0LmRlZmF1bHRWYWx1ZSkpJiZ0aGlzLm1fYS5maWxsKHQuZGVmYXVsdFZhbHVlKSx0aGlzLm1fc2l6ZT10LnNpemV9fX10dC5zX2NvbnN0cnVjdE1pbj0yLHR0LnNfcmVzaXplTWluPTMwO2NsYXNzIGV0IGV4dGVuZHMgdHR7c2V0Qml0cyh0LGUpe3RoaXMubV9hW3RdfD1lfWNsZWFyQml0cyh0LGUpe3RoaXMubV9hW3RdJj1+ZX1nZXRQZXJzaXN0ZW5jZSgpe3JldHVybiA0fWNsb25lKCl7cmV0dXJuIG5ldyBldCh7Y3RvcjpJbnQ4QXJyYXksY29weTp0aGlzfSl9cmVzdHJpY3RlZENsb25lKHQpe3JldHVybiBuZXcgZXQoe2N0b3I6SW50OEFycmF5LGNvcHk6dGhpcyxtYXhTaXplOnR9KX1jb25zdHJ1Y3Rvcih0LGUpe3N1cGVyKFwibnVtYmVyXCI9PXR5cGVvZiB0P3tjdG9yOkludDhBcnJheSxzaXplOnQsZGVmYXVsdFZhbHVlOmV9OnQpfX1jbGFzcyBzdCBleHRlbmRzIHR0e2dldFBlcnNpc3RlbmNlKCl7cmV0dXJuIDJ9Y2xvbmUoKXtyZXR1cm4gbmV3IHN0KHtjdG9yOkludDMyQXJyYXksY29weTp0aGlzfSl9cmVzdHJpY3RlZENsb25lKHQpe3JldHVybiBuZXcgc3Qoe2N0b3I6SW50MzJBcnJheSxjb3B5OnRoaXMsbWF4U2l6ZTp0fSl9d3JpdGUodCxlKXtnKGU8PWEoKSksc3VwZXIud3JpdGUodCxlKX1jb25zdHJ1Y3Rvcih0LGUpe3N1cGVyKFwibnVtYmVyXCI9PXR5cGVvZiB0P3tjdG9yOkludDMyQXJyYXksc2l6ZTp0LGRlZmF1bHRWYWx1ZTplfTp0KX19Y2xhc3MgaXQgZXh0ZW5kcyB0dHtnZXRQZXJzaXN0ZW5jZSgpe3JldHVybiAwfWNsb25lKCl7cmV0dXJuIG5ldyBpdCh7Y3RvcjpGbG9hdDMyQXJyYXksY29weTp0aGlzfSl9cmVzdHJpY3RlZENsb25lKHQpe3JldHVybiBuZXcgaXQoe2N0b3I6RmxvYXQzMkFycmF5LGNvcHk6dGhpcyxtYXhTaXplOnR9KX1jb25zdHJ1Y3Rvcih0LGUpe3N1cGVyKFwibnVtYmVyXCI9PXR5cGVvZiB0P3tjdG9yOkZsb2F0MzJBcnJheSxzaXplOnQsZGVmYXVsdFZhbHVlOmV9OnQpfX1jbGFzcyBudCBleHRlbmRzIHR0e2dldFBlcnNpc3RlbmNlKCl7cmV0dXJuIDF9Z2V0QXJyYXkoKXtyZXR1cm4gdGhpcy5tX2F9YXBwbHlUcmFuc2Zvcm1hdGlvbih0LGUscyl7KDEmZXx8ZSsyKnM+dGhpcy5zaXplKCkpJiZmKCk7Y29uc3QgaT0wPT09ZT90aGlzLm1fYTp0aGlzLm1fYS5zdWJhcnJheShlKTt0LnRyYW5zZm9ybUludGVybGVhdmVkUG9pbnRzKGkscyxpKX1yZWFkUG9pbnQyRCh0KXtjb25zdCBlPXRoaXMubV9hW3RdLHM9dGhpcy5tX2FbdCsxXTtyZXR1cm4gbmV3IG8oZSxzKX1xdWVyeVBvaW50MkQodCxlKXtyZXR1cm4gZS54PXRoaXMubV9hW3RdLGUueT10aGlzLm1fYVt0KzFdLGV9d3JpdGVQb2ludDJEKHQsZSl7dGhpcy53cml0ZSh0LGUueCksdGhpcy53cml0ZSh0KzEsZS55KX1pbnNlcnQodCxlLHMpe3RoaXMuY2hlY2tSZXNpemUocysyKSx0aGlzLm1fYS5jb3B5V2l0aGluKHQrMix0LHMpLHRoaXMubV9hW3RdPWUueCx0aGlzLm1fYVt0KzFdPWUueX1pbnNlcnRSYW5nZUZyb21Qb2ludHModCxlLHMsaSxuLHIpe2NvbnN0IGg9dGhpcy5tX3NpemU7aWYodGhpcy5jaGVja1Jlc2l6ZShNYXRoLm1heChyLDApKzIqaSksdGhpcy5tX2EuY29weVdpdGhpbih0KzIqaSx0LHI+PTA/cjpoKSxuKWZvcihsZXQgbz1zLGE9dCxtPTA7bTxpOysrbSwrK28pe2NvbnN0IHQ9ZVtvXTt0aGlzLm1fYVthKytdPXQueCx0aGlzLm1fYVthKytdPXQueX1lbHNlIGZvcihsZXQgbz1zK2ktMSxhPXQsbT0wO208aTsrK20sLS1vKXtjb25zdCB0PWVbb107dGhpcy5tX2FbYSsrXT10LngsdGhpcy5tX2FbYSsrXT10Lnl9fXF1ZXJ5UmFuZ2UodCxlLHMsaSxuKXtpZigodDwwfHxlPDApJiZmKCksIWkmJihuPD0wfHxlJW4hPT0wKSYmZigpLDA9PT1lKXJldHVybjtpZigxPT09ZSlyZXR1cm4gdm9pZChzWzBdPXRoaXMubV9hW3RdKTtjb25zdCByPXRoaXMubV9hLnN1YmFycmF5KHQsdCtlKTtzLnNldChyKX13cml0ZVJhbmdlRnJvbUFycmF5KHQsZSxzLGksbil7aWYoKHQ8MHx8ZTwwKSYmZigpLDA9PT1lKXJldHVybjtpZigxPT09ZSlyZXR1cm4gdm9pZCh0aGlzLm1fYVt0XT1zWzBdKTtsZXQgcj1zO2U8cy5sZW5ndGgmJihyPXMuc3ViYXJyYXkoMCxlKSksdGhpcy5tX2Euc2V0KHIsdCl9Y2xvbmUoKXtyZXR1cm4gbmV3IG50KHtjdG9yOkZsb2F0NjRBcnJheSxjb3B5OnRoaXN9KX1yZXN0cmljdGVkQ2xvbmUodCl7cmV0dXJuIG5ldyBudCh7Y3RvcjpGbG9hdDY0QXJyYXksY29weTp0aGlzLG1heFNpemU6dH0pfWNvbnN0cnVjdG9yKHQsZSl7c3VwZXIoXCJudW1iZXJcIj09dHlwZW9mIHQ/e2N0b3I6RmxvYXQ2NEFycmF5LHNpemU6dCxkZWZhdWx0VmFsdWU6ZX06dCl9fWZ1bmN0aW9uIHJ0KHQsZSxzLG4scil7aWYodC5nZXRQZXJzaXN0ZW5jZSgpIT09ZS5nZXRQZXJzaXN0ZW5jZSgpKXJldHVybiExO2NvbnN0IGg9dC5nZXRQZXJzaXN0ZW5jZSgpPD0xLG89dC5zaXplKCksYT1lLnNpemUoKTtpZihuPm98fG4+YSlyZXR1cm4hMTtpZihyKWlmKGgpe2ZvcihsZXQgbT1zO208bjttKyspaWYoIWkodC5yZWFkKG0pLGUucmVhZChtKSxyKSlyZXR1cm4hMX1lbHNlIGZvcihsZXQgaT1zO2k8bjtpKyspe2xldCBzPXQucmVhZChpKS1lLnJlYWQoaSk7aWYoczwwJiYocz0tcykscz5yKXJldHVybiExfWVsc2UgZm9yKGxldCBpPXM7aTxuO2krKyl7Y29uc3Qgcz10LnJlYWQoaSksbj1lLnJlYWQoaSk7aWYocyE9PW4pe2lmKGgmJk51bWJlci5pc05hTihzKSYmTnVtYmVyLmlzTmFOKG4pKWNvbnRpbnVlO3JldHVybiExfX1yZXR1cm4hMH1mdW5jdGlvbiBodCh0LGUscyxpLG4scil7aWYoKGU8MHx8czwwKSYmZigpLDA9PT1zKXJldHVybjtpZigxPT09cylyZXR1cm4gdm9pZCh0W2VdPWlbMF0pO2xldCBoPWk7czxpLmxlbmd0aCYmKGg9aS5zdWJhcnJheSgwLHMpKSx0LnNldChoLGUpfWNsYXNzIG90e2NvbnN0cnVjdG9yKCl7dGhpcy5tX21pblZhbHVlPS0xLHRoaXMubV9tYXhWYWx1ZT0tMSx0aGlzLm1fZHk9TnVtYmVyLk5hTix0aGlzLm1fYnVja2V0cz1uZXcgc3QoMCksdGhpcy5tX2J1Y2tldGVkSW5kaWNlcz1uZXcgc3QoMCl9c3RhdGljIHNvcnRFeCh0LGUscyxpLG49MzIpe2lmKHMtZTw9bilyZXR1cm4gdm9pZCBpLnVzZXJTb3J0KGUscyx0KTsobmV3IG90KS5zb3J0KHQsZSxzLGksbil9c29ydCh0LGUscyxpLG49MzIpe2lmKHMtZTw9bilyZXR1cm4gdm9pZCBpLnVzZXJTb3J0KGUscyx0KTtsZXQgcj0hMCxoPU51bWJlci5QT1NJVElWRV9JTkZJTklUWSxvPU51bWJlci5ORUdBVElWRV9JTkZJTklUWTtmb3IobGV0IG09ZTttPHM7bSsrKXtjb25zdCBlPWkuZ2V0VmFsdWUodC5yZWFkKG0pKTtlPGgmJihoPWUpLGU+byYmKG89ZSl9aWYodGhpcy5yZXNldChzLWUsaCxvLHMtZSkpe2ZvcihsZXQgcj1lO3I8cztyKyspe2NvbnN0IHM9dC5yZWFkKHIpLG49aS5nZXRWYWx1ZShzKSxoPXRoaXMuZ2V0QnVja2V0KG4pO3RoaXMubV9idWNrZXRzLndyaXRlKGgsdGhpcy5tX2J1Y2tldHMucmVhZChoKSsxKSx0aGlzLm1fYnVja2V0ZWRJbmRpY2VzLndyaXRlKHItZSxzKX1sZXQgbj10aGlzLm1fYnVja2V0cy5yZWFkKDApO3RoaXMubV9idWNrZXRzLndyaXRlKDAsMCk7Zm9yKGxldCB0PTEsZT10aGlzLm1fYnVja2V0cy5zaXplKCk7dDxlO3QrKyl7Y29uc3QgZT10aGlzLm1fYnVja2V0cy5yZWFkKHQpO3RoaXMubV9idWNrZXRzLndyaXRlKHQsbiksbis9ZX1mb3IobGV0IHI9ZTtyPHM7cisrKXtjb25zdCBzPXRoaXMubV9idWNrZXRlZEluZGljZXMucmVhZChyLWUpLG49aS5nZXRWYWx1ZShzKSxoPXRoaXMuZ2V0QnVja2V0KG4pLG89dGhpcy5tX2J1Y2tldHMucmVhZChoKTt0LndyaXRlKG8rZSxzKSx0aGlzLm1fYnVja2V0cy53cml0ZShoLG8rMSl9cj0hMX1pZihyKXJldHVybiB2b2lkIGkudXNlclNvcnQoZSxzLHQpO2xldCBhPTA7Zm9yKGxldCBtPTAsXz10aGlzLm1fYnVja2V0cy5zaXplKCk7bTxfO20rKyl7Y29uc3Qgcz1hO2E9dGhpcy5tX2J1Y2tldHMucmVhZChtKSxhPnMmJmkudXNlclNvcnQoZStzLGUrYSx0KX10aGlzLm1fYnVja2V0cy5zaXplKCk+MTAwJiYodGhpcy5tX2J1Y2tldHMucmVzaXplKDApLHRoaXMubV9idWNrZXRlZEluZGljZXMucmVzaXplKDApKX1yZXNldCh0LGUscyxpKXtpZih0PDJ8fHM9PT1lKXJldHVybiExO2NvbnN0IG49TWF0aC5taW4ob3QuY19tYXhCdWNrZXRzLHQpO3JldHVybiB0aGlzLm1fYnVja2V0cy5yZXNpemUobiksdGhpcy5tX2J1Y2tldHMuc2V0UmFuZ2UoMCwwLHRoaXMubV9idWNrZXRzLnNpemUoKSksdGhpcy5tX21pblZhbHVlPWUsdGhpcy5tX21heFZhbHVlPXMsdGhpcy5tX2J1Y2tldGVkSW5kaWNlcy5yZXNpemUoaSksdGhpcy5tX2R5PShzLWUpLyhuLTEpLCEwfWdldEJ1Y2tldCh0KXtyZXR1cm4gTWF0aC50cnVuYygodC10aGlzLm1fbWluVmFsdWUpL3RoaXMubV9keSl9Z2V0QnVja2V0Q291bnQoKXtyZXR1cm4gdGhpcy5tX2J1Y2tldHMuc2l6ZSgpfX1vdC5jX21heEJ1Y2tldHM9NjU1MzY7Y2xhc3MgYXR7Y2FwYWNpdHkoKXtyZXR1cm4gdGhpcy5jYXBhY2l0eV99Y29uc3RydWN0b3IodCl7dGhpcy5tX2J1ZmZlcj1uZXcgSW50MzJBcnJheSgwKSx0aGlzLm1fZmlyc3RGcmVlPS0xLHRoaXMubV9sYXN0PTAsdGhpcy5zaXplXz0wLHRoaXMuY2FwYWNpdHlfPTAsdGhpcy5zdHJpZGU9dH1zaXplKCl7cmV0dXJuIHRoaXMuc2l6ZV99ZGVsZXRlRWxlbWVudCh0KXt0PHRoaXMubV9sYXN0Pyh0aGlzLm1fYnVmZmVyW3QqdGhpcy5zdHJpZGVdPXRoaXMubV9maXJzdEZyZWUsdGhpcy5tX2ZpcnN0RnJlZT10KTp0aGlzLm1fbGFzdC0tLHRoaXMuc2l6ZV8tLX1nZXRGaWVsZCh0LGUpe3JldHVybiB0aGlzLm1fYnVmZmVyW3QqdGhpcy5zdHJpZGUrZV19c2V0RmllbGQodCxlLHMpe3RoaXMubV9idWZmZXJbdCp0aGlzLnN0cmlkZStlXT1zfWVsZW1lbnRUb0luZGV4KHQpe3JldHVybiB0fW5ld0VsZW1lbnQoKXtsZXQgdD10aGlzLm1fZmlyc3RGcmVlO2lmKC0xPT09dCl7aWYodGhpcy5tX2xhc3Q9PT10aGlzLmNhcGFjaXR5Xyl7bGV0IHQ9MCE9PXRoaXMuY2FwYWNpdHlfP01hdGgudHJ1bmMoMyoodGhpcy5jYXBhY2l0eV8rMSkvMik6MTtpZih0Pk51bWJlci5NQVhfU0FGRV9JTlRFR0VSJiYodD1OdW1iZXIuTUFYX1NBRkVfSU5URUdFUiksdD09PXRoaXMuY2FwYWNpdHlfKXRocm93IG5ldyBFcnJvcihcImluZGV4IG91dCBvZiBib3VuZHNcIik7dGhpcy5ncm93Xyh0KX10PXRoaXMubV9sYXN0LHRoaXMubV9sYXN0Kyt9ZWxzZSB0aGlzLm1fZmlyc3RGcmVlPXRoaXMubV9idWZmZXJbdCp0aGlzLnN0cmlkZV07dGhpcy5zaXplXysrO2ZvcihsZXQgZT10KnRoaXMuc3RyaWRlO2U8dCp0aGlzLnN0cmlkZSt0aGlzLnN0cmlkZTtlKyspdGhpcy5tX2J1ZmZlcltlXT0tMTtyZXR1cm4gdH1uZXdFbGVtZW50UHNldCh0KXtsZXQgZT10aGlzLm1fZmlyc3RGcmVlO2lmKC0xPT09ZSl7aWYodGhpcy5tX2xhc3Q9PT10aGlzLmNhcGFjaXR5Xyl7bGV0IHQ9MCE9PXRoaXMuY2FwYWNpdHlfP01hdGgudHJ1bmMoMyoodGhpcy5jYXBhY2l0eV8rMSkvMik6MTtpZih0Pk51bWJlci5NQVhfU0FGRV9JTlRFR0VSJiYodD1OdW1iZXIuTUFYX1NBRkVfSU5URUdFUiksdD09PXRoaXMuY2FwYWNpdHlfKXRocm93IG5ldyBFcnJvcihcImluZGV4IG91dCBvZiBib3VuZHNcIik7dGhpcy5ncm93Xyh0KX1lPXRoaXMubV9sYXN0LHRoaXMubV9sYXN0Kyt9ZWxzZSB0aGlzLm1fZmlyc3RGcmVlPXRoaXMubV9idWZmZXJbZSp0aGlzLnN0cmlkZV07dGhpcy5zaXplXysrO2NvbnN0IHM9ZSp0aGlzLnN0cmlkZTtmb3IobGV0IGk9MDtpPHQubGVuZ3RoO2krKyl0aGlzLm1fYnVmZmVyW3MraV09dFtpXTtyZXR1cm4gZX1kZWxldGVBbGwodCl7dGhpcy5tX2ZpcnN0RnJlZT0tMSx0aGlzLm1fbGFzdD0wLHRoaXMuc2l6ZV89MCx0JiYodGhpcy5tX2J1ZmZlcj1uZXcgSW50MzJBcnJheSgwKSx0aGlzLmNhcGFjaXR5Xz0wKX1zZXRDYXBhY2l0eSh0KXt0PnRoaXMuY2FwYWNpdHlfJiZ0aGlzLmdyb3dfKHQpfXN3YXAodCxlKXtjb25zdCBzPXQqdGhpcy5zdHJpZGUsaT1lKnRoaXMuc3RyaWRlO2ZvcihsZXQgbj0wO248dGhpcy5zdHJpZGU7bisrKXtjb25zdCB0PXRoaXMubV9idWZmZXJbaStuXTt0aGlzLm1fYnVmZmVyW2krbl09dGhpcy5tX2J1ZmZlcltzK25dLHRoaXMubV9idWZmZXJbcytuXT10fX1zd2FwRmllbGQodCxlLHMpe2NvbnN0IGk9dGhpcy5tX2J1ZmZlclt0aGlzLnN0cmlkZSplK3NdO3RoaXMubV9idWZmZXJbdGhpcy5zdHJpZGUqZStzXT10aGlzLm1fYnVmZmVyW3RoaXMuc3RyaWRlKnQrc10sdGhpcy5tX2J1ZmZlclt0aGlzLnN0cmlkZSp0K3NdPWl9c3RhdGljIGltcG9zc2libGVJbmRleDIoKXtyZXR1cm4tMn1zdGF0aWMgaW1wb3NzaWJsZUluZGV4Mygpe3JldHVybi0zfXN0YXRpYyBpc1ZhbGlkRWxlbWVudCh0KXtyZXR1cm4gdD49MH1ncm93Xyh0KXtudWxsPT10aGlzLm1fYnVmZmVyJiYodGhpcy5tX2J1ZmZlcj1uZXcgSW50MzJBcnJheSgwKSk7Y29uc3QgZT10aGlzLnN0cmlkZSp0LHM9bmV3IEludDMyQXJyYXkoZSk7cy5zZXQodGhpcy5tX2J1ZmZlciwwKSx0aGlzLm1fYnVmZmVyPXMsdGhpcy5jYXBhY2l0eV89dH19ZnVuY3Rpb24gbXQodCxlKXtyZXR1cm57ZWxlbWVudDp0LGJveDplLmNsb25lKCl9fWNsYXNzIF90e2NvbnN0cnVjdG9yKHQsZSxzKXt0aGlzLm1fZXh0ZW50PW5ldyBwLHRoaXMubV9kYXRhRXh0ZW50PW5ldyBwLHRoaXMubV9jaGlsZEV4dGVudHM9W25ldyBwLG5ldyBwLG5ldyBwLG5ldyBwXSx0aGlzLm1fZWxlbWVudE5vZGVzPW5ldyBhdCg0KSx0aGlzLm1fZGF0YT1bXSx0aGlzLm1fZnJlZURhdGE9W10sdGhpcy5tX3Jvb3Q9LTEsdGhpcy5tX2hlaWdodD04LHZvaWQgMD09PXMmJihzPSExKSx0aGlzLm1fcXVhZFRyZWVOb2Rlcz1uZXcgYXQocz8xMToxMCksdGhpcy5tX2JTdG9yZUR1cGxpY2F0ZXM9cyx0aGlzLnJlc2V0Xyh0LGUpfXJlc2V0KHQsZSl7dGhpcy5tX3F1YWRUcmVlTm9kZXMuZGVsZXRlQWxsKCExKSx0aGlzLm1fZWxlbWVudE5vZGVzLmRlbGV0ZUFsbCghMSksdGhpcy5tX2RhdGEubGVuZ3RoPTAsdGhpcy5tX2ZyZWVEYXRhLmxlbmd0aD0wLHRoaXMucmVzZXRfKHQsZSl9aW5zZXJ0KHQsZSl7aWYoLTE9PT10aGlzLm1fcm9vdCYmdGhpcy5jcmVhdGVSb290XygpLHRoaXMubV9iU3RvcmVEdXBsaWNhdGVzKXtjb25zdCBzPXRoaXMuaW5zZXJ0RHVwbGljYXRlc18odCxlLDAsdGhpcy5tX2V4dGVudCx0aGlzLm1fcm9vdCwhMSwtMSk7cmV0dXJuLTEhPT1zJiYodGhpcy5tX2RhdGFFeHRlbnQuaXNFbXB0eSgpP3RoaXMubV9kYXRhRXh0ZW50LnNldENvb3Jkcyh7ZW52MkQ6ZX0pOnRoaXMubV9kYXRhRXh0ZW50Lm1lcmdlRW52ZWxvcGUyRChlKSksc31jb25zdCBzPXRoaXMuaW5zZXJ0Xyh0LGUsMCx0aGlzLm1fZXh0ZW50LHRoaXMubV9yb290LCExLC0xKTtyZXR1cm4tMSE9PXMmJih0aGlzLm1fZGF0YUV4dGVudC5pc0VtcHR5KCk/dGhpcy5tX2RhdGFFeHRlbnQuc2V0Q29vcmRzKHtlbnYyRDplfSk6dGhpcy5tX2RhdGFFeHRlbnQubWVyZ2VFbnZlbG9wZTJEKGUpKSxzfWluc2VydEV4KHQsZSxzKXtpZigtMT09PXRoaXMubV9yb290JiZ0aGlzLmNyZWF0ZVJvb3RfKCksdGhpcy5tX2JTdG9yZUR1cGxpY2F0ZXMpe2NvbnN0IHM9dGhpcy5pbnNlcnREdXBsaWNhdGVzXyh0LGUsMCx0aGlzLm1fZXh0ZW50LHRoaXMubV9yb290LCExLC0xKTtyZXR1cm4tMSE9PXMmJih0aGlzLm1fZGF0YUV4dGVudC5pc0VtcHR5KCk/dGhpcy5tX2RhdGFFeHRlbnQuc2V0Q29vcmRzKHtlbnYyRDplfSk6dGhpcy5tX2RhdGFFeHRlbnQubWVyZ2VFbnZlbG9wZTJEKGUpKSxzfWxldCBpO2k9LTE9PT1zP3RoaXMubV9yb290OnRoaXMuZ2V0UXVhZF8ocyk7Y29uc3Qgbj10aGlzLmdldEhlaWdodChpKSxyPXRoaXMuZ2V0RXh0ZW50KGkpLGg9dGhpcy5pbnNlcnRfKHQsZSxuLHIsaSwhMSwtMSk7cmV0dXJuLTEhPT1oJiYodGhpcy5tX2RhdGFFeHRlbnQuaXNFbXB0eSgpP3RoaXMubV9kYXRhRXh0ZW50LnNldENvb3Jkcyh7ZW52MkQ6ZX0pOnRoaXMubV9kYXRhRXh0ZW50Lm1lcmdlRW52ZWxvcGUyRChlKSksaH1yZW1vdmVFbGVtZW50KHQpe2coMCl9Z2V0RWxlbWVudCh0KXtyZXR1cm4gdGhpcy5nZXRFbGVtZW50VmFsdWVfKHRoaXMuZ2V0RGF0YV8odCkpfWdldEVsZW1lbnRBdEluZGV4KHQpe3JldHVybiBnKDApLDB9Z2V0RWxlbWVudEV4dGVudCh0KXtjb25zdCBlPXRoaXMuZ2V0RGF0YV8odCk7cmV0dXJuIHRoaXMuZ2V0Qm91bmRpbmdCb3hWYWx1ZV8oZSkuY2xvbmUoKX1nZXRFbGVtZW50RXh0ZW50QXRJbmRleCh0KXtyZXR1cm4gZygwKSx7fX1nZXREYXRhRXh0ZW50KCl7cmV0dXJuIHRoaXMubV9kYXRhRXh0ZW50LmNsb25lKCl9Z2V0UXVhZFRyZWVFeHRlbnQoKXtyZXR1cm4gZygwKSx7fX1nZXRIZWlnaHQodCl7cmV0dXJuIHRoaXMubV9xdWFkVHJlZU5vZGVzLmdldEZpZWxkKHQsNik+Pl90Lm1faGVpZ2h0Qml0U2hpZnR9Z2V0TWF4SGVpZ2h0KCl7cmV0dXJuIHRoaXMubV9oZWlnaHR9Z2V0RXh0ZW50KHQpe2NvbnN0IGU9bmV3IHA7aWYoZS5zZXRDb29yZHMoe2VudjJEOnRoaXMubV9leHRlbnR9KSx0PT09dGhpcy5tX3Jvb3QpcmV0dXJuIGU7Y29uc3Qgcz1bXTtsZXQgaT10O2Rve3MucHVzaCh0aGlzLmdldFF1YWRyYW50XyhpKSksaT10aGlzLmdldFBhcmVudF8oaSl9d2hpbGUoaSE9PXRoaXMubV9yb290KTtjb25zdCBuPXMubGVuZ3RoO2ZvcihsZXQgcj0wO3I8bjtyKyspe2NvbnN0IHQ9cy5hdCgtMSk7cy5wb3AoKSwwPT09dD8oZS54bWluPS41KihlLnhtaW4rZS54bWF4KSxlLnltaW49LjUqKGUueW1pbitlLnltYXgpKToxPT09dD8oZS54bWF4PS41KihlLnhtaW4rZS54bWF4KSxlLnltaW49LjUqKGUueW1pbitlLnltYXgpKToyPT09dD8oZS54bWF4PS41KihlLnhtaW4rZS54bWF4KSxlLnltYXg9LjUqKGUueW1pbitlLnltYXgpKTooZS54bWluPS41KihlLnhtaW4rZS54bWF4KSxlLnltYXg9LjUqKGUueW1pbitlLnltYXgpKX1yZXR1cm4gZX1nZXRRdWFkKHQpe3JldHVybiB0aGlzLmdldFF1YWRfKHQpfWdldEVsZW1lbnRDb3VudCgpe3JldHVybi0xPT09dGhpcy5tX3Jvb3Q/MDp0aGlzLmdldFN1YlRyZWVFbGVtZW50Q291bnRfKHRoaXMubV9yb290KX1nZXRTdWJUcmVlRWxlbWVudENvdW50KHQpe3JldHVybiB0aGlzLmdldFN1YlRyZWVFbGVtZW50Q291bnRfKHQpfWdldENvbnRhaW5lZFN1YlRyZWVFbGVtZW50Q291bnQodCl7cmV0dXJuIHRoaXMubV9iU3RvcmVEdXBsaWNhdGVzP3RoaXMuZ2V0Q29udGFpbmVkU3ViVHJlZUVsZW1lbnRDb3VudF8odCk6dGhpcy5nZXRTdWJUcmVlRWxlbWVudENvdW50Xyh0KX1nZXRJbnRlcnNlY3Rpb25Db3VudCh0LGUscyl7aWYoLTE9PT10aGlzLm1fcm9vdClyZXR1cm4gMDtjb25zdCBpPW5ldyBwO2kuc2V0Q29vcmRzKHtlbnYyRDp0fSksaS5pbmZsYXRlQ29vcmRzKGUsZSk7Y29uc3Qgbj1bXSxyPVtdO24ucHVzaCh0aGlzLm1fcm9vdCksci5wdXNoKHRoaXMubV9leHRlbnQuY2xvbmUoKSk7Y29uc3QgaD1kKHAsNCk7bGV0IG89MDtmb3IoO24ubGVuZ3RoPjA7KXtsZXQgdD0hMTtjb25zdCBlPW4uYXQoLTEpLGE9ci5hdCgtMSk7aWYobi5wb3AoKSxyLnBvcCgpLGkuY29udGFpbnNFbnZlbG9wZShhKSl7aWYobys9dGhpcy5nZXRTdWJUcmVlRWxlbWVudENvdW50KGUpLHM+MCYmbz49cylyZXR1cm4gc31lbHNlIGlmKGkuaXNJbnRlcnNlY3RpbmcoYSkpe2ZvcihsZXQgdD10aGlzLmdldEZpcnN0RWxlbWVudF8oZSk7LTEhPT10O3Q9dGhpcy5nZXROZXh0RWxlbWVudF8odCkpe2NvbnN0IGU9dGhpcy5nZXREYXRhXyh0KTtpZih0aGlzLmdldEJvdW5kaW5nQm94VmFsdWVfKGUpLmlzSW50ZXJzZWN0aW5nKGkpJiYobysrLHM+MCYmbz49cykpcmV0dXJuIHN9dD10aGlzLmdldEhlaWdodChlKSsxPD10aGlzLm1faGVpZ2h0fWlmKHQpe190LnNldENoaWxkRXh0ZW50c18oYSxoKTtmb3IobGV0IHQ9MDt0PDQ7dCsrKXtjb25zdCBzPXRoaXMuZ2V0Q2hpbGRfKGUsdCk7aWYoLTEhPT1zJiZ0aGlzLmdldFN1YlRyZWVFbGVtZW50Q291bnRfKHMpPjApe2kuaXNJbnRlcnNlY3RpbmcoaFt0XSkmJihuLnB1c2gocyksci5wdXNoKGhbdF0uY2xvbmUoKSkpfX19fXJldHVybiBvfWhhc0RhdGEodCxlKXtyZXR1cm4gdGhpcy5nZXRJbnRlcnNlY3Rpb25Db3VudCh0LGUsMSk+PTF9Z2V0SXRlcmF0b3IodCxlKXtyZXR1cm4gbmV3IGx0KHRoaXMsdCxlKX1nZXRJdGVyYXRvckZvclFUKCl7cmV0dXJuIG5ldyBsdCh0aGlzKX1nZXRTb3J0ZWRJdGVyYXRvcih0LGUpe3JldHVybiBuZXcgdXQodGhpcy5nZXRJdGVyYXRvcih0LGUpKX1nZXRTb3J0ZWRJdGVyYXRvckZvclFUKCl7cmV0dXJuIG5ldyB1dCh0aGlzLmdldEl0ZXJhdG9yRm9yUVQoKSl9dmlzaXRMZWF2ZXNOZWFyZXN0KHQsZSxzLGkpe2coMCl9cmVzZXRfKHQsZSl7KGU8MHx8ZT4xMjcpJiZmKFwiaW52YWxpZCBoZWlnaHRcIiksdGhpcy5tX2hlaWdodD1lLHRoaXMubV9leHRlbnQuc2V0Q29vcmRzKHtlbnYyRDp0fSksdGhpcy5tX2RhdGFFeHRlbnQuc2V0RW1wdHkoKSx0aGlzLm1fcm9vdD0tMX1pbnNlcnRfKHQsZSxzLGksbixyLGgpe2lmKCFpLmNvbnRhaW5zRW52ZWxvcGUoZSkpcmV0dXJuIDA9PT1zPy0xOnRoaXMuaW5zZXJ0Xyh0LGUsMCx0aGlzLm1fZXh0ZW50LHRoaXMubV9yb290LHIsaCk7aWYoIXIpZm9yKGxldCBfPW47LTEhPT1fO189dGhpcy5nZXRQYXJlbnRfKF8pKXRoaXMuc2V0U3ViVHJlZUVsZW1lbnRDb3VudF8oXyx0aGlzLmdldFN1YlRyZWVFbGVtZW50Q291bnRfKF8pKzEpO2NvbnN0IG89bmV3IHA7by5zZXRDb29yZHMoe2VudjJEOml9KTtsZXQgYSxtPW47Zm9yKGE9czthPHRoaXMubV9oZWlnaHQmJnRoaXMuY2FuUHVzaERvd25fKG0pO2ErKyl7X3Quc2V0Q2hpbGRFeHRlbnRzXyhvLHRoaXMubV9jaGlsZEV4dGVudHMpO2xldCB0PSExO2ZvcihsZXQgcz0wO3M8NDtzKyspaWYodGhpcy5tX2NoaWxkRXh0ZW50c1tzXS5jb250YWluc0VudmVsb3BlKGUpKXt0PSEwO2xldCBlPXRoaXMuZ2V0Q2hpbGRfKG0scyk7LTE9PT1lJiYoZT10aGlzLmNyZWF0ZUNoaWxkXyhtLHMpKSx0aGlzLnNldFN1YlRyZWVFbGVtZW50Q291bnRfKGUsdGhpcy5nZXRTdWJUcmVlRWxlbWVudENvdW50XyhlKSsxKSxtPWUsby5zZXRDb29yZHMoe2VudjJEOnRoaXMubV9jaGlsZEV4dGVudHNbc119KTticmVha31pZighdClicmVha31yZXR1cm4gdGhpcy5pbnNlcnRBdFF1YWRfKHQsZSxhLG8sbSxyLG4saCwtMSl9aW5zZXJ0RHVwbGljYXRlc18odCxlLHMsaSxuLHIsaCl7aWYoIXIpe2lmKCFpLmNvbnRhaW5zRW52ZWxvcGUoZSkpcmV0dXJuLTE7dGhpcy5zZXRTdWJUcmVlRWxlbWVudENvdW50XyhuLHRoaXMuZ2V0U3ViVHJlZUVsZW1lbnRDb3VudF8obikrMSksdGhpcy5zZXRDb250YWluZWRTdWJUcmVlRWxlbWVudENvdW50XyhuLHRoaXMuZ2V0Q29udGFpbmVkU3ViVHJlZUVsZW1lbnRDb3VudF8obikrMSl9Y29uc3Qgbz1NYXRoLm1heChlLndpZHRoKCksZS5oZWlnaHQoKSk7bGV0IGE9LTE7Y29uc3QgbT1bXSxfPVtdLGw9W107bS5wdXNoKG4pLF8ucHVzaChpLmNsb25lKCkpLGwucHVzaChzKTtjb25zdCB1PWQocCw0KTtmb3IoO20ubGVuZ3RoPjA7KXtsZXQgcz0hMTtjb25zdCBpPW0uYXQoLTEpLGQ9Xy5hdCgtMSksYz1sLmF0KC0xKTtpZihtLnBvcCgpLF8ucG9wKCksbC5wb3AoKSxjKzE8dGhpcy5tX2hlaWdodCYmdGhpcy5jYW5QdXNoRG93bl8oaSkpe288PU1hdGgubWF4KGQud2lkdGgoKSxkLmhlaWdodCgpKS8yJiYocz0hMCl9aWYocyl7X3Quc2V0Q2hpbGRFeHRlbnRzXyhkLHUpO2xldCB0PSExO2ZvcihsZXQgcz0wO3M8NDtzKyspaWYodD11W3NdLmNvbnRhaW5zRW52ZWxvcGUoZSksdCl7bGV0IHQ9dGhpcy5nZXRDaGlsZF8oaSxzKTstMT09PXQmJih0PXRoaXMuY3JlYXRlQ2hpbGRfKGkscykpLG0ucHVzaCh0KSxfLnB1c2godVtzXS5jbG9uZSgpKSxsLnB1c2goYysxKSx0aGlzLnNldFN1YlRyZWVFbGVtZW50Q291bnRfKHQsdGhpcy5nZXRTdWJUcmVlRWxlbWVudENvdW50Xyh0KSsxKSx0aGlzLnNldENvbnRhaW5lZFN1YlRyZWVFbGVtZW50Q291bnRfKHQsdGhpcy5nZXRDb250YWluZWRTdWJUcmVlRWxlbWVudENvdW50Xyh0KSsxKTticmVha31pZighdClmb3IobGV0IHM9MDtzPDQ7cysrKXtpZih1W3NdLmlzSW50ZXJzZWN0aW5nKGUpKXtsZXQgdD10aGlzLmdldENoaWxkXyhpLHMpOy0xPT09dCYmKHQ9dGhpcy5jcmVhdGVDaGlsZF8oaSxzKSksbS5wdXNoKHQpLF8ucHVzaCh1W3NdLmNsb25lKCkpLGwucHVzaChjKzEpLHRoaXMuc2V0U3ViVHJlZUVsZW1lbnRDb3VudF8odCx0aGlzLmdldFN1YlRyZWVFbGVtZW50Q291bnRfKHQpKzEpfX19ZWxzZSBhPXRoaXMuaW5zZXJ0QXRRdWFkXyh0LGUsYyxkLGkscixuLGgsYSkscj0hMX1yZXR1cm4gMH1pbnNlcnRBdFF1YWRfKHQsZSxzLGksbixyLGgsbyxhKXt0aGlzLmdldEZpcnN0RWxlbWVudF8obik7Y29uc3QgbT10aGlzLmdldExhc3RFbGVtZW50XyhuKTtsZXQgXz0tMTtpZihyKXtpZihuPT09aClyZXR1cm4gbzt0aGlzLmRpc2Nvbm5lY3RFbGVtZW50SGFuZGxlXyhvKSxfPW99ZWxzZS0xPT09YT8oXz10aGlzLmNyZWF0ZUVsZW1lbnRfKCksdGhpcy5zZXREYXRhVmFsdWVzXyh0aGlzLmdldERhdGFfKF8pLHQsZSkpOl89dGhpcy5jcmVhdGVFbGVtZW50RnJvbUR1cGxpY2F0ZV8oYSk7cmV0dXJuIHRoaXMuc2V0UXVhZF8oXyxuKSwtMSE9PW0/KHRoaXMuc2V0UHJldkVsZW1lbnRfKF8sbSksdGhpcy5zZXROZXh0RWxlbWVudF8obSxfKSk6dGhpcy5zZXRGaXJzdEVsZW1lbnRfKG4sXyksdGhpcy5zZXRMYXN0RWxlbWVudF8obixfKSx0aGlzLnNldExvY2FsRWxlbWVudENvdW50XyhuLHRoaXMuZ2V0TG9jYWxFbGVtZW50Q291bnRfKG4pKzEpLHRoaXMuY2FuRmx1c2hfKG4pJiZ0aGlzLmZsdXNoXyhzLGksbiksX31zdGF0aWMgc2V0Q2hpbGRFeHRlbnRzXyh0LGUpe2NvbnN0IHM9LjUqKHQueG1pbit0LnhtYXgpLGk9LjUqKHQueW1pbit0LnltYXgpO2VbMF0uc2V0Q29vcmRzKHt4bWluOnMseW1pbjppLHhtYXg6dC54bWF4LHltYXg6dC55bWF4fSksZVsxXS5zZXRDb29yZHMoe3htaW46dC54bWluLHltaW46aSx4bWF4OnMseW1heDp0LnltYXh9KSxlWzJdLnNldENvb3Jkcyh7eG1pbjp0LnhtaW4seW1pbjp0LnltaW4seG1heDpzLHltYXg6aX0pLGVbM10uc2V0Q29vcmRzKHt4bWluOnMseW1pbjp0LnltaW4seG1heDp0LnhtYXgseW1heDppfSl9ZGlzY29ubmVjdEVsZW1lbnRIYW5kbGVfKHQpe2NvbnN0IGU9dGhpcy5nZXRRdWFkXyh0KSxzPXRoaXMuZ2V0Rmlyc3RFbGVtZW50XyhlKSxpPXRoaXMuZ2V0TGFzdEVsZW1lbnRfKGUpLG49dGhpcy5nZXRQcmV2RWxlbWVudF8odCkscj10aGlzLmdldE5leHRFbGVtZW50Xyh0KTtzPT09dD8oLTEhPT1yP3RoaXMuc2V0UHJldkVsZW1lbnRfKHIsLTEpOnRoaXMuc2V0TGFzdEVsZW1lbnRfKGUsLTEpLHRoaXMuc2V0Rmlyc3RFbGVtZW50XyhlLHIpKTppPT09dD8odGhpcy5zZXROZXh0RWxlbWVudF8obiwtMSksdGhpcy5zZXRMYXN0RWxlbWVudF8oZSxuKSk6KHRoaXMuc2V0UHJldkVsZW1lbnRfKHIsbiksdGhpcy5zZXROZXh0RWxlbWVudF8obixyKSksdGhpcy5zZXRQcmV2RWxlbWVudF8odCwtMSksdGhpcy5zZXROZXh0RWxlbWVudF8odCwtMSksdGhpcy5zZXRMb2NhbEVsZW1lbnRDb3VudF8oZSx0aGlzLmdldExvY2FsRWxlbWVudENvdW50XyhlKS0xKX1jYW5GbHVzaF8odCl7cmV0dXJuIHRoaXMuZ2V0TG9jYWxFbGVtZW50Q291bnRfKHQpPT09X3QubV9mbHVzaGluZ0NvdW50JiYhdGhpcy5oYXNDaGlsZHJlbl8odCl9Zmx1c2hfKHQsZSxzKXtsZXQgaTtjb25zdCBuPW5ldyBwO2xldCByPXRoaXMuZ2V0Rmlyc3RFbGVtZW50XyhzKSxoPS0xLG89LTE7ZG97bz10aGlzLmdldERhdGFfKHIpLGk9dGhpcy5nZXRFbGVtZW50VmFsdWVfKG8pLG4uc2V0Q29vcmRzKHtlbnYyRDp0aGlzLmdldEJvdW5kaW5nQm94VmFsdWVfKG8pfSksaD10aGlzLmdldE5leHRFbGVtZW50XyhyKSx0aGlzLm1fYlN0b3JlRHVwbGljYXRlcz90aGlzLmluc2VydER1cGxpY2F0ZXNfKGksbix0LGUscywhMCxyKTp0aGlzLmluc2VydF8oaSxuLHQsZSxzLCEwLHIpLHI9aH13aGlsZSgtMSE9PXIpfWNhblB1c2hEb3duXyh0KXtyZXR1cm4gdGhpcy5nZXRMb2NhbEVsZW1lbnRDb3VudF8odCk+PV90Lm1fZmx1c2hpbmdDb3VudHx8dGhpcy5oYXNDaGlsZHJlbl8odCl9aGFzQ2hpbGRyZW5fKHQpe3JldHVybi0xIT09dGhpcy5nZXRDaGlsZF8odCwwKXx8LTEhPT10aGlzLmdldENoaWxkXyh0LDEpfHwtMSE9PXRoaXMuZ2V0Q2hpbGRfKHQsMil8fC0xIT09dGhpcy5nZXRDaGlsZF8odCwzKX1jcmVhdGVDaGlsZF8odCxlKXtjb25zdCBzPXRoaXMubV9xdWFkVHJlZU5vZGVzLm5ld0VsZW1lbnQoKTtyZXR1cm4gdGhpcy5zZXRDaGlsZF8odCxlLHMpLHRoaXMuc2V0U3ViVHJlZUVsZW1lbnRDb3VudF8ocywwKSx0aGlzLnNldExvY2FsRWxlbWVudENvdW50XyhzLDApLHRoaXMuc2V0UGFyZW50XyhzLHQpLHRoaXMuc2V0SGVpZ2h0QW5kUXVhZHJhbnRfKHMsdGhpcy5nZXRIZWlnaHRfKHQpKzEsZSksdGhpcy5tX2JTdG9yZUR1cGxpY2F0ZXMmJnRoaXMuc2V0Q29udGFpbmVkU3ViVHJlZUVsZW1lbnRDb3VudF8ocywwKSxzfWNyZWF0ZVJvb3RfKCl7dGhpcy5tX3Jvb3Q9dGhpcy5tX3F1YWRUcmVlTm9kZXMubmV3RWxlbWVudCgpLHRoaXMuc2V0U3ViVHJlZUVsZW1lbnRDb3VudF8odGhpcy5tX3Jvb3QsMCksdGhpcy5zZXRMb2NhbEVsZW1lbnRDb3VudF8odGhpcy5tX3Jvb3QsMCksdGhpcy5zZXRIZWlnaHRBbmRRdWFkcmFudF8odGhpcy5tX3Jvb3QsMCwwKSx0aGlzLm1fYlN0b3JlRHVwbGljYXRlcyYmdGhpcy5zZXRDb250YWluZWRTdWJUcmVlRWxlbWVudENvdW50Xyh0aGlzLm1fcm9vdCwwKX1jcmVhdGVFbGVtZW50Xygpe2NvbnN0IHQ9dGhpcy5tX2VsZW1lbnROb2Rlcy5uZXdFbGVtZW50KCk7bGV0IGU7cmV0dXJuIHRoaXMubV9mcmVlRGF0YS5sZW5ndGg+MD8oZT10aGlzLm1fZnJlZURhdGEuYXQoLTEpLHRoaXMubV9mcmVlRGF0YS5wb3AoKSk6KGU9dGhpcy5tX2RhdGEubGVuZ3RoLHRoaXMubV9kYXRhLmxlbmd0aD1lKzEpLHRoaXMuc2V0RGF0YV8odCxlKSx0fWNyZWF0ZUVsZW1lbnRGcm9tRHVwbGljYXRlXyh0KXtjb25zdCBlPXRoaXMubV9lbGVtZW50Tm9kZXMubmV3RWxlbWVudCgpLHM9dGhpcy5nZXREYXRhXyh0KTtyZXR1cm4gdGhpcy5zZXREYXRhXyhlLHMpLGV9ZnJlZUVsZW1lbnRBbmRCb3hOb2RlXyh0KXtnKDApfWdldENoaWxkXyh0LGUpe3JldHVybiB0aGlzLm1fcXVhZFRyZWVOb2Rlcy5nZXRGaWVsZCh0LGUpfXNldENoaWxkXyh0LGUscyl7dGhpcy5tX3F1YWRUcmVlTm9kZXMuc2V0RmllbGQodCxlLHMpfWdldEZpcnN0RWxlbWVudF8odCl7cmV0dXJuIHRoaXMubV9xdWFkVHJlZU5vZGVzLmdldEZpZWxkKHQsNCl9c2V0Rmlyc3RFbGVtZW50Xyh0LGUpe3RoaXMubV9xdWFkVHJlZU5vZGVzLnNldEZpZWxkKHQsNCxlKX1nZXRMYXN0RWxlbWVudF8odCl7cmV0dXJuIHRoaXMubV9xdWFkVHJlZU5vZGVzLmdldEZpZWxkKHQsNSl9c2V0TGFzdEVsZW1lbnRfKHQsZSl7dGhpcy5tX3F1YWRUcmVlTm9kZXMuc2V0RmllbGQodCw1LGUpfWdldFF1YWRyYW50Xyh0KXtyZXR1cm4gdGhpcy5tX3F1YWRUcmVlTm9kZXMuZ2V0RmllbGQodCw2KSZfdC5tX3F1YWRyYW50TWFza31nZXRIZWlnaHRfKHQpe3JldHVybiB0aGlzLm1fcXVhZFRyZWVOb2Rlcy5nZXRGaWVsZCh0LDYpPj5fdC5tX2hlaWdodEJpdFNoaWZ0fXNldEhlaWdodEFuZFF1YWRyYW50Xyh0LGUscyl7Y29uc3QgaT1lPDxfdC5tX2hlaWdodEJpdFNoaWZ0fHM7dGhpcy5tX3F1YWRUcmVlTm9kZXMuc2V0RmllbGQodCw2LGkpfWdldExvY2FsRWxlbWVudENvdW50Xyh0KXtyZXR1cm4gdGhpcy5tX3F1YWRUcmVlTm9kZXMuZ2V0RmllbGQodCw3KX1zZXRMb2NhbEVsZW1lbnRDb3VudF8odCxlKXt0aGlzLm1fcXVhZFRyZWVOb2Rlcy5zZXRGaWVsZCh0LDcsZSl9Z2V0U3ViVHJlZUVsZW1lbnRDb3VudF8odCl7cmV0dXJuIHRoaXMubV9xdWFkVHJlZU5vZGVzLmdldEZpZWxkKHQsOCl9c2V0U3ViVHJlZUVsZW1lbnRDb3VudF8odCxlKXt0aGlzLm1fcXVhZFRyZWVOb2Rlcy5zZXRGaWVsZCh0LDgsZSl9Z2V0UGFyZW50Xyh0KXtyZXR1cm4gdGhpcy5tX3F1YWRUcmVlTm9kZXMuZ2V0RmllbGQodCw5KX1zZXRQYXJlbnRfKHQsZSl7dGhpcy5tX3F1YWRUcmVlTm9kZXMuc2V0RmllbGQodCw5LGUpfWdldENvbnRhaW5lZFN1YlRyZWVFbGVtZW50Q291bnRfKHQpe3JldHVybiB0aGlzLm1fcXVhZFRyZWVOb2Rlcy5nZXRGaWVsZCh0LDEwKX1zZXRDb250YWluZWRTdWJUcmVlRWxlbWVudENvdW50Xyh0LGUpe3RoaXMubV9xdWFkVHJlZU5vZGVzLnNldEZpZWxkKHQsMTAsZSl9Z2V0RGF0YV8odCl7cmV0dXJuIHRoaXMubV9lbGVtZW50Tm9kZXMuZ2V0RmllbGQodCwwKX1zZXREYXRhXyh0LGUpe3RoaXMubV9lbGVtZW50Tm9kZXMuc2V0RmllbGQodCwwLGUpfWdldFByZXZFbGVtZW50Xyh0KXtyZXR1cm4gdGhpcy5tX2VsZW1lbnROb2Rlcy5nZXRGaWVsZCh0LDEpfWdldE5leHRFbGVtZW50Xyh0KXtyZXR1cm4gdGhpcy5tX2VsZW1lbnROb2Rlcy5nZXRGaWVsZCh0LDIpfXNldFByZXZFbGVtZW50Xyh0LGUpe3RoaXMubV9lbGVtZW50Tm9kZXMuc2V0RmllbGQodCwxLGUpfXNldE5leHRFbGVtZW50Xyh0LGUpe3RoaXMubV9lbGVtZW50Tm9kZXMuc2V0RmllbGQodCwyLGUpfWdldFF1YWRfKHQpe3JldHVybiB0aGlzLm1fZWxlbWVudE5vZGVzLmdldEZpZWxkKHQsMyl9c2V0UXVhZF8odCxlKXt0aGlzLm1fZWxlbWVudE5vZGVzLnNldEZpZWxkKHQsMyxlKX1nZXRFbGVtZW50VmFsdWVfKHQpe3JldHVybiB0aGlzLm1fZGF0YVt0XS5lbGVtZW50fWdldEJvdW5kaW5nQm94VmFsdWVfKHQpe3JldHVybiB0aGlzLm1fZGF0YVt0XS5ib3h9c2V0RGF0YVZhbHVlc18odCxlLHMpe3RoaXMubV9kYXRhW3RdPW10KGUscyl9fV90Lm1fcXVhZHJhbnRNYXNrPTMsX3QubV9oZWlnaHRCaXRTaGlmdD0yLF90Lm1fZmx1c2hpbmdDb3VudD01O2NsYXNzIGx0e2NvbnN0cnVjdG9yKHQsZSxzKXt0aGlzLm1fYkxpbmVhcj0hMSx0aGlzLm1fcXVlcnlTdGFydD1uZXcgbyx0aGlzLm1fcXVlcnlFbmQ9bmV3IG8sdGhpcy5tX3F1ZXJ5Qm94PW5ldyBwLHRoaXMubV90b2xlcmFuY2U9MCx0aGlzLm1fY3VycmVudEVsZW1lbnRIYW5kbGU9LTEsdGhpcy5tX25leHRFbGVtZW50SGFuZGxlPS0xLHRoaXMubV9xdWFkc1N0YWNrPVtdLHRoaXMubV9leHRlbnRzU3RhY2s9W10sdGhpcy5tX2NoaWxkRXh0ZW50cz1bbmV3IHAsbmV3IHAsbmV3IHAsbmV3IHBdLHRoaXMubV9xdWFkVHJlZT10LGUmJnRoaXMucmVzZXRJdGVyYXRvcihlLHMpfXJlc2V0SXRlcmF0b3IodCxlKXtpZih2b2lkIDA9PT1lJiYoZT0wKSx0IGluc3RhbmNlb2YgcClyZXR1cm4gdGhpcy5tX3F1YWRzU3RhY2subGVuZ3RoPTAsdGhpcy5tX2V4dGVudHNTdGFjay5sZW5ndGg9MCx0aGlzLm1fY3VycmVudEVsZW1lbnRIYW5kbGU9LTEsdGhpcy5tX3F1ZXJ5Qm94LnNldENvb3Jkcyh7ZW52MkQ6dH0pLHRoaXMubV9xdWVyeUJveC5pbmZsYXRlQ29vcmRzKGUsZSksdGhpcy5tX3RvbGVyYW5jZT1OdW1iZXIuTmFOLHZvaWQoLTEhPT10aGlzLm1fcXVhZFRyZWUubV9yb290JiZ0aGlzLm1fcXVlcnlCb3guaXNJbnRlcnNlY3RpbmcodGhpcy5tX3F1YWRUcmVlLm1fZXh0ZW50KT8odGhpcy5tX3F1YWRzU3RhY2sucHVzaCh0aGlzLm1fcXVhZFRyZWUubV9yb290KSx0aGlzLm1fZXh0ZW50c1N0YWNrLnB1c2godGhpcy5tX3F1YWRUcmVlLm1fZXh0ZW50LmNsb25lKCkpLHRoaXMubV9uZXh0RWxlbWVudEhhbmRsZT10aGlzLm1fcXVhZFRyZWUuZ2V0Rmlyc3RFbGVtZW50Xyh0aGlzLm1fcXVhZFRyZWUubV9yb290KSx0aGlzLm1fYkxpbmVhcj0hMSk6dGhpcy5tX25leHRFbGVtZW50SGFuZGxlPS0xKTtpZih0aGlzLm1fcXVhZHNTdGFjay5sZW5ndGg9MCx0aGlzLm1fZXh0ZW50c1N0YWNrLmxlbmd0aD0wLHRoaXMubV9jdXJyZW50RWxlbWVudEhhbmRsZT0tMSx0LnF1ZXJ5TG9vc2VFbnZlbG9wZSh0aGlzLm1fcXVlcnlCb3gpLHRoaXMubV9xdWVyeUJveC5pbmZsYXRlQ29vcmRzKGUsZSksLTEhPT10aGlzLm1fcXVhZFRyZWUubV9yb290JiZ0aGlzLm1fcXVlcnlCb3guaXNJbnRlcnNlY3RpbmcodGhpcy5tX3F1YWRUcmVlLm1fZXh0ZW50KSl7Y29uc3Qgcz10LmdldEdlb21ldHJ5VHlwZSgpO2lmKHRoaXMubV9iTGluZWFyPXM9PT15LmVudW1MaW5lLHRoaXMubV9iTGluZWFyKXtjb25zdCBzPXQ7dGhpcy5tX3F1ZXJ5U3RhcnQuYXNzaWduKHMuZ2V0U3RhcnRYWSgpKSx0aGlzLm1fcXVlcnlFbmQuYXNzaWduKHMuZ2V0RW5kWFkoKSksdGhpcy5tX3RvbGVyYW5jZT1lfWVsc2UgdGhpcy5tX3RvbGVyYW5jZT1OdW1iZXIuTmFOO3RoaXMubV9xdWFkc1N0YWNrLnB1c2godGhpcy5tX3F1YWRUcmVlLm1fcm9vdCksdGhpcy5tX2V4dGVudHNTdGFjay5wdXNoKHRoaXMubV9xdWFkVHJlZS5tX2V4dGVudC5jbG9uZSgpKSx0aGlzLm1fbmV4dEVsZW1lbnRIYW5kbGU9dGhpcy5tX3F1YWRUcmVlLmdldEZpcnN0RWxlbWVudF8odGhpcy5tX3F1YWRUcmVlLm1fcm9vdCl9ZWxzZSB0aGlzLm1fbmV4dEVsZW1lbnRIYW5kbGU9LTF9bmV4dCgpe2lmKDA9PT10aGlzLm1fcXVhZHNTdGFjay5sZW5ndGgpcmV0dXJuLTE7dGhpcy5tX2N1cnJlbnRFbGVtZW50SGFuZGxlPXRoaXMubV9uZXh0RWxlbWVudEhhbmRsZTtjb25zdCB0PW5ldyBvLGU9bmV3IG8scz1uZXcgcDtsZXQgaT0hMTtmb3IoOyFpOyl7Zm9yKDstMSE9PXRoaXMubV9jdXJyZW50RWxlbWVudEhhbmRsZTspe2NvbnN0IG49dGhpcy5tX3F1YWRUcmVlLmdldERhdGFfKHRoaXMubV9jdXJyZW50RWxlbWVudEhhbmRsZSk7aWYocy5zZXRDb29yZHMoe2VudjJEOnRoaXMubV9xdWFkVHJlZS5nZXRCb3VuZGluZ0JveFZhbHVlXyhuKX0pLHMuaXNJbnRlcnNlY3RpbmcodGhpcy5tX3F1ZXJ5Qm94KSl7aWYoIXRoaXMubV9iTGluZWFyKXtpPSEwO2JyZWFrfWlmKHQuc2V0Q29vcmRzUG9pbnQyRCh0aGlzLm1fcXVlcnlTdGFydCksZS5zZXRDb29yZHNQb2ludDJEKHRoaXMubV9xdWVyeUVuZCkscy5pbmZsYXRlQ29vcmRzKHRoaXMubV90b2xlcmFuY2UsdGhpcy5tX3RvbGVyYW5jZSkscy5jbGlwTGluZSh0LGUpPjApe2k9ITA7YnJlYWt9fXRoaXMubV9jdXJyZW50RWxlbWVudEhhbmRsZT10aGlzLm1fcXVhZFRyZWUuZ2V0TmV4dEVsZW1lbnRfKHRoaXMubV9jdXJyZW50RWxlbWVudEhhbmRsZSl9aWYoLTE9PT10aGlzLm1fY3VycmVudEVsZW1lbnRIYW5kbGUpe2NvbnN0IHM9dGhpcy5tX3F1YWRzU3RhY2suYXQoLTEpLGk9dGhpcy5tX2V4dGVudHNTdGFjay5hdCgtMSk7X3Quc2V0Q2hpbGRFeHRlbnRzXyhpLHRoaXMubV9jaGlsZEV4dGVudHMpLHRoaXMubV9xdWFkc1N0YWNrLnBvcCgpLHRoaXMubV9leHRlbnRzU3RhY2sucG9wKCk7Zm9yKGxldCBuPTA7bjw0O24rKyl7Y29uc3QgaT10aGlzLm1fcXVhZFRyZWUuZ2V0Q2hpbGRfKHMsbik7aWYoLTEhPT1pJiZ0aGlzLm1fcXVhZFRyZWUuZ2V0U3ViVHJlZUVsZW1lbnRDb3VudChpKT4wJiZ0aGlzLm1fY2hpbGRFeHRlbnRzW25dLmlzSW50ZXJzZWN0aW5nKHRoaXMubV9xdWVyeUJveCkpaWYodGhpcy5tX2JMaW5lYXIpe3Quc2V0Q29vcmRzUG9pbnQyRCh0aGlzLm1fcXVlcnlTdGFydCksZS5zZXRDb29yZHNQb2ludDJEKHRoaXMubV9xdWVyeUVuZCk7Y29uc3Qgcz1uZXcgcDtzLnNldENvb3Jkcyh7ZW52MkQ6dGhpcy5tX2NoaWxkRXh0ZW50c1tuXX0pLHMuaW5mbGF0ZUNvb3Jkcyh0aGlzLm1fdG9sZXJhbmNlLHRoaXMubV90b2xlcmFuY2UpLHMuY2xpcExpbmUodCxlKT4wJiYodGhpcy5tX3F1YWRzU3RhY2sucHVzaChpKSx0aGlzLm1fZXh0ZW50c1N0YWNrLnB1c2godGhpcy5tX2NoaWxkRXh0ZW50c1tuXS5jbG9uZSgpKSl9ZWxzZSB0aGlzLm1fcXVhZHNTdGFjay5wdXNoKGkpLHRoaXMubV9leHRlbnRzU3RhY2sucHVzaCh0aGlzLm1fY2hpbGRFeHRlbnRzW25dLmNsb25lKCkpfWlmKDA9PT10aGlzLm1fcXVhZHNTdGFjay5sZW5ndGgpcmV0dXJuLTE7dGhpcy5tX2N1cnJlbnRFbGVtZW50SGFuZGxlPXRoaXMubV9xdWFkVHJlZS5nZXRGaXJzdEVsZW1lbnRfKHRoaXMubV9xdWFkc1N0YWNrLmF0KC0xKSl9fXJldHVybiB0aGlzLm1fbmV4dEVsZW1lbnRIYW5kbGU9dGhpcy5tX3F1YWRUcmVlLmdldE5leHRFbGVtZW50Xyh0aGlzLm1fY3VycmVudEVsZW1lbnRIYW5kbGUpLHRoaXMubV9jdXJyZW50RWxlbWVudEhhbmRsZX1jbG9uZSgpe3JldHVybiBnKDApLHt9fX1jbGFzcyB1dHtjb25zdHJ1Y3Rvcih0KXt0aGlzLm1fYnVja2V0U29ydD1uZXcgb3QsdGhpcy5tX3NvcnRlZEhhbmRsZXM9bmV3IHN0KDApLHRoaXMubV9pbmRleD0tMSx0aGlzLm1fcXVhZFRyZWVJdGVyYXRvckltcGw9dH1yZXNldEl0ZXJhdG9yKHQsZSl7dGhpcy5tX3F1YWRUcmVlSXRlcmF0b3JJbXBsLnJlc2V0SXRlcmF0b3IodCxlKSx0aGlzLm1fc29ydGVkSGFuZGxlcy5yZXNpemUoMCksdGhpcy5tX2luZGV4PS0xfW5leHQoKXtpZigtMT09PXRoaXMubV9pbmRleCl7bGV0IHQ9LTE7Zm9yKDstMSE9PSh0PXRoaXMubV9xdWFkVHJlZUl0ZXJhdG9ySW1wbC5uZXh0KCkpOyl0aGlzLm1fc29ydGVkSGFuZGxlcy5hZGQodCk7Y29uc3QgZT10aGlzLHM9e3VzZXJTb3J0KHQscyxpKXtpLnNvcnQodCxzLCgodCxzKT0+ZS5tX3F1YWRUcmVlSXRlcmF0b3JJbXBsLm1fcXVhZFRyZWUuZ2V0RWxlbWVudCh0KS1lLm1fcXVhZFRyZWVJdGVyYXRvckltcGwubV9xdWFkVHJlZS5nZXRFbGVtZW50KHMpKSl9LGdldFZhbHVlOnQ9PmUubV9xdWFkVHJlZUl0ZXJhdG9ySW1wbC5tX3F1YWRUcmVlLmdldEVsZW1lbnQodCl9O3RoaXMubV9idWNrZXRTb3J0LnNvcnQodGhpcy5tX3NvcnRlZEhhbmRsZXMsMCx0aGlzLm1fc29ydGVkSGFuZGxlcy5zaXplKCkscyl9cmV0dXJuIHRoaXMubV9pbmRleD09PXRoaXMubV9zb3J0ZWRIYW5kbGVzLnNpemUoKS0xPy0xOih0aGlzLm1faW5kZXgrKyx0aGlzLm1fc29ydGVkSGFuZGxlcy5yZWFkKHRoaXMubV9pbmRleCkpfWNsb25lKCl7cmV0dXJuIGcoMCkse319fWNsYXNzIGR0e2NvbnN0cnVjdG9yKHQ9ITEpe3RoaXMubV9iTm90aWZ5T25BY3Rpb25zPXR9b25EZWxldGUodCl7fW9uU2V0KHQpe31vbkVuZFNlYXJjaCh0KXt9b25BZGRVbmlxdWVFbGVtZW50RmFpbGVkKHQpe31vbkRlbGV0ZUltcGwodCxlKXt0aGlzLm1fYk5vdGlmeU9uQWN0aW9ucyYmdGhpcy5vbkRlbGV0ZSh0LmdldEVsZW1lbnQoZSkpfW9uU2V0SW1wbCh0LGUpe3RoaXMubV9iTm90aWZ5T25BY3Rpb25zJiZ0aGlzLm9uU2V0KHQuZ2V0RWxlbWVudChlKSl9b25BZGRVbmlxdWVFbGVtZW50RmFpbGVkSW1wbCh0KXt0aGlzLm1fYk5vdGlmeU9uQWN0aW9ucyYmdGhpcy5vbkFkZFVuaXF1ZUVsZW1lbnRGYWlsZWQodCl9b25FbmRTZWFyY2hJbXBsKHQpe3RoaXMubV9iTm90aWZ5T25BY3Rpb25zJiZ0aGlzLm9uRW5kU2VhcmNoKHQpfX1jbGFzcyBjdHtzdGF0aWMgc3RfbnVsbE5vZGUoKXtyZXR1cm4tMX1jb25zdHJ1Y3Rvcigpe3RoaXMubV9kZWZhdWx0VHJlYXA9LTEsdGhpcy5tX3JhbmRvbT0xMjQyMzQyNTEsdGhpcy5tX2NvbXBhcmF0b3I9bnVsbCx0aGlzLm1fdHJlYXBEYXRhPW5ldyBhdCg3KSx0aGlzLm1fdHJlYXBDb3VudD0wLHRoaXMubV9tYXhEZXB0aEV2ZXI9MCx0aGlzLm1fYkJhbGFuY2luZz0hMH1zZXRDb21wYXJhdG9yKHQpe3RoaXMubV9jb21wYXJhdG9yPXR9Z2V0Q29tcGFyYXRvcigpe3JldHVybiB0aGlzLm1fY29tcGFyYXRvcn1kaXNhYmxlQmFsYW5jaW5nKCl7dGhpcy5tX2JCYWxhbmNpbmc9ITF9ZW5hYmxlQmFsYW5jaW5nKCl7dGhpcy5tX2JCYWxhbmNpbmd8fChnKHRoaXMubV90cmVhcENvdW50PD0xKSx0aGlzLnJlYmFsYW5jZSgtMSksdGhpcy5tX2JCYWxhbmNpbmc9ITApfWlzQXV0b0JhbGFuY2luZygpe3JldHVybiB0aGlzLm1fYkJhbGFuY2luZ31yZWJhbGFuY2UodCl7aWYodGhpcy5tX2JCYWxhbmNpbmcpcmV0dXJuO2lmKC0xPT09dCYmKHQ9dGhpcy5tX2RlZmF1bHRUcmVhcCksMD09PXRoaXMuc2l6ZSh0KSlyZXR1cm47Y29uc3QgZT1bXTtmb3IobGV0IHM9dGhpcy5nZXRGaXJzdCh0KTstMSE9PXM7cz10aGlzLmdldE5leHQocykpZS5wdXNoKHMpLHRoaXMuc2V0UGFyZW50XyhzLC0xKSx0aGlzLnNldFJpZ2h0XyhzLC0xKSx0aGlzLnNldExlZnRfKHMsLTEpO3RoaXMuc2V0Um9vdF8oLTEsdCksdGhpcy5zZXRGaXJzdF8oLTEsdCksdGhpcy5zZXRMYXN0XygtMSx0KSx0aGlzLnNldFNpemVfKDAsdCksdGhpcy5tX2JCYWxhbmNpbmc9ITA7Zm9yKGNvbnN0IHMgb2YgZSl0aGlzLmFkZEJpZ2dlc3RFbGVtZW50XyhzLHQpO3RoaXMubV9iQmFsYW5jaW5nPSExfXNldENhcGFjaXR5KHQpe3RoaXMubV90cmVhcERhdGEuc2V0Q2FwYWNpdHkodCl9Y3JlYXRlVHJlYXAodCl7Y29uc3QgZT10aGlzLm1fdHJlYXBEYXRhLm5ld0VsZW1lbnQoKTtyZXR1cm4gdGhpcy5zZXRTaXplXygwLGUpLHRoaXMuc2V0VHJlYXBEYXRhXyh0LGUpLHRoaXMubV90cmVhcENvdW50KyssZX1kZWxldGVUcmVhcCh0KXt0aGlzLm1fdHJlYXBEYXRhLmRlbGV0ZUVsZW1lbnQodCksdGhpcy5tX3RyZWFwQ291bnQtLX1hZGRFbGVtZW50KHQsZT0tMSl7cmV0dXJuLTE9PT1lJiYodGhpcy5tX2RlZmF1bHRUcmVhcD09PWN0LnN0X251bGxOb2RlKCkmJih0aGlzLm1fZGVmYXVsdFRyZWFwPXRoaXMuY3JlYXRlVHJlYXAoLTEpKSxlPXRoaXMubV9kZWZhdWx0VHJlYXApLHRoaXMuYWRkRWxlbWVudF8odCwwLGUpfWFkZFVuaXF1ZUVsZW1lbnQodCxlPS0xKXtyZXR1cm4tMT09PWUmJih0aGlzLm1fZGVmYXVsdFRyZWFwPT09Y3Quc3RfbnVsbE5vZGUoKSYmKHRoaXMubV9kZWZhdWx0VHJlYXA9dGhpcy5jcmVhdGVUcmVhcCgtMSkpLGU9dGhpcy5tX2RlZmF1bHRUcmVhcCksdGhpcy5hZGRFbGVtZW50Xyh0LDEsZSl9YWRkQmlnZ2VzdEVsZW1lbnQodCxlPS0xKXstMT09PWUmJih0aGlzLm1fZGVmYXVsdFRyZWFwPT09Y3Quc3RfbnVsbE5vZGUoKSYmKHRoaXMubV9kZWZhdWx0VHJlYXA9dGhpcy5jcmVhdGVUcmVhcCgtMSkpLGU9dGhpcy5tX2RlZmF1bHRUcmVhcCk7Y29uc3Qgcz10aGlzLm5ld05vZGVfKHQpO3JldHVybiB0aGlzLmFkZEJpZ2dlc3RFbGVtZW50XyhzLGUpLHN9YWRkRWxlbWVudEF0UG9zaXRpb24odCxlLHMsaSxuLHI9LTEpe2lmKC0xPT09ciYmKHRoaXMubV9kZWZhdWx0VHJlYXA9PT1jdC5zdF9udWxsTm9kZSgpJiYodGhpcy5tX2RlZmF1bHRUcmVhcD10aGlzLmNyZWF0ZVRyZWFwKC0xKSkscj10aGlzLm1fZGVmYXVsdFRyZWFwKSx0aGlzLmdldFJvb3RfKHIpPT09Y3Quc3RfbnVsbE5vZGUoKSl7Y29uc3QgdD10aGlzLm5ld05vZGVfKHMpO3JldHVybiB0aGlzLnNldFJvb3RfKHQsciksdGhpcy5hZGRUb0xpc3RfKC0xLHQsciksdH1sZXQgaCxvLGEsbSxfO2lmKG4/KGg9ZSE9PWN0LnN0X251bGxOb2RlKCk/dGhpcy5tX2NvbXBhcmF0b3IuY29tcGFyZSh0aGlzLHMsZSk6LTEsbz10IT09Y3Quc3RfbnVsbE5vZGUoKT90aGlzLm1fY29tcGFyYXRvci5jb21wYXJlKHRoaXMscyx0KToxKTooaD0tMSxvPTEpLGkmJigwPT09aHx8MD09PW8pKXt0aGlzLm1fY29tcGFyYXRvci5vbkFkZFVuaXF1ZUVsZW1lbnRGYWlsZWRJbXBsKHMpO2NvbnN0IGk9MD09PWg/ZTp0O3JldHVybiB0aGlzLnNldER1cGxpY2F0ZUVsZW1lbnRfKGksciksLTF9Xz1lIT09Y3Quc3RfbnVsbE5vZGUoKSYmdCE9PWN0LnN0X251bGxOb2RlKCk/dGhpcy5tX3JhbmRvbT5sKHRoaXMubV9yYW5kb20pPj4xOmUhPT1jdC5zdF9udWxsTm9kZSgpLF8/KG09aCxhPWUpOihtPW8sYT10KTtsZXQgdT0tMSxkPS0xLGM9ITA7Zm9yKDs7KXtpZihtPDApe2NvbnN0IHQ9dGhpcy5nZXRMZWZ0KGEpO2lmKHQ9PT1jdC5zdF9udWxsTm9kZSgpKXtkPWEsdT10aGlzLm5ld05vZGVfKHMpLHRoaXMuc2V0TGVmdF8oYSx1KSx0aGlzLnNldFBhcmVudF8odSxhKTticmVha31hPXR9ZWxzZXtjb25zdCB0PXRoaXMuZ2V0UmlnaHQoYSk7aWYodD09PWN0LnN0X251bGxOb2RlKCkpe2Q9dGhpcy5nZXROZXh0KGEpLHU9dGhpcy5uZXdOb2RlXyhzKSx0aGlzLnNldFJpZ2h0XyhhLHUpLHRoaXMuc2V0UGFyZW50Xyh1LGEpO2JyZWFrfWE9dH1jJiYobSo9LTEsYz0hMSl9cmV0dXJuIHRoaXMuYnViYmxlVXBfKHUpLHRoaXMuZ2V0UGFyZW50KHUpPT09Y3Quc3RfbnVsbE5vZGUoKSYmdGhpcy5zZXRSb290Xyh1LHIpLHRoaXMuYWRkVG9MaXN0XyhkLHUsciksdX1yZXBsYWNlRWxlbWVudEF0UG9zaXRpb24odCxlLHMsaSxuPS0xKXtpZihpKXtjb25zdCBpPXRoaXMuZ2V0TmV4dCh0KTtsZXQgcj0tMTtpIT09Y3Quc3RfbnVsbE5vZGUoKSYmKHI9dGhpcy5tX2NvbXBhcmF0b3IuY29tcGFyZSh0aGlzLGUsaSkpO2NvbnN0IGg9dGhpcy5nZXRQcmV2KHQpO2xldCBvPS0xO2lmKGghPT1jdC5zdF9udWxsTm9kZSgpJiYobz10aGlzLm1fY29tcGFyYXRvci5jb21wYXJlKHRoaXMsZSxoKSkscyYmKDA9PT1yfHwwPT09bykpe3RoaXMubV9jb21wYXJhdG9yLm9uQWRkVW5pcXVlRWxlbWVudEZhaWxlZEltcGwoZSk7Y29uc3QgdD0wPT09cj9pOmg7cmV0dXJuIG49PT1jdC5zdF9udWxsTm9kZSgpJiYodGhpcy5tX2RlZmF1bHRUcmVhcD09PWN0LnN0X251bGxOb2RlKCkmJih0aGlzLm1fZGVmYXVsdFRyZWFwPXRoaXMuY3JlYXRlVHJlYXAoLTEpKSxuPXRoaXMubV9kZWZhdWx0VHJlYXApLHRoaXMuc2V0RHVwbGljYXRlRWxlbWVudF8odCxuKSwtMX19cmV0dXJuIHRoaXMuc2V0RWxlbWVudF8odCxlKSx0fWdldER1cGxpY2F0ZUVsZW1lbnQodD0tMSl7cmV0dXJuLTE9PT10P3RoaXMuZ2V0RHVwbGljYXRlRWxlbWVudF8odGhpcy5tX2RlZmF1bHRUcmVhcCk6dGhpcy5nZXREdXBsaWNhdGVFbGVtZW50Xyh0KX1kZWxldGVOb2RlKHQsZT0tMSl7dGhpcy5tX2NvbXBhcmF0b3ImJnRoaXMubV9jb21wYXJhdG9yLm9uRGVsZXRlSW1wbCh0aGlzLHQpLC0xPT09ZSYmKGU9dGhpcy5tX2RlZmF1bHRUcmVhcCksdGhpcy5tX2JCYWxhbmNpbmc/dGhpcy5kZWxldGVOb2RlXyh0LGUpOnRoaXMudW5iYWxhbmNlZERlbGV0ZV8odCxlKX1zZWFyY2godCxlPS0xKXtsZXQgcz10aGlzLmdldFJvb3QoZSk7Zm9yKDtzIT09Y3Quc3RfbnVsbE5vZGUoKTspe2NvbnN0IGU9dGhpcy5tX2NvbXBhcmF0b3IuY29tcGFyZSh0aGlzLHQscyk7aWYoIWUpcmV0dXJuIHM7cz1lPDA/dGhpcy5nZXRMZWZ0KHMpOnRoaXMuZ2V0UmlnaHQocyl9cmV0dXJuIHRoaXMubV9jb21wYXJhdG9yLm9uRW5kU2VhcmNoSW1wbCh0KSxjdC5zdF9udWxsTm9kZSgpfXNlYXJjaExvd2VyQm91bmQodCxlPS0xKXtsZXQgcz10aGlzLmdldFJvb3QoZSksaT0tMTtmb3IoO3MhPT1jdC5zdF9udWxsTm9kZSgpOyl7Y29uc3QgZT10LmNvbXBhcmUodGhpcyxzKTtpZighZSlyZXR1cm4gcztlPDA/cz10aGlzLmdldExlZnQocyk6KGk9cyxzPXRoaXMuZ2V0UmlnaHQocykpfXJldHVybiBpfXNlYXJjaFVwcGVyQm91bmQodCxlPS0xKXtsZXQgcz10aGlzLmdldFJvb3QoZSksaT0tMTtmb3IoO3MhPT1jdC5zdF9udWxsTm9kZSgpOyl7Y29uc3QgZT10LmNvbXBhcmUodGhpcyxzKTtpZighZSlyZXR1cm4gcztlPDA/KGk9cyxzPXRoaXMuZ2V0TGVmdChzKSk6cz10aGlzLmdldFJpZ2h0KHMpfXJldHVybiBpfWdldEVsZW1lbnQodCl7cmV0dXJuIHRoaXMubV90cmVhcERhdGEuZ2V0RmllbGQodCwzKX1nZXRMZWZ0KHQpe3JldHVybiB0aGlzLm1fdHJlYXBEYXRhLmdldEZpZWxkKHQsMCl9Z2V0UmlnaHQodCl7cmV0dXJuIHRoaXMubV90cmVhcERhdGEuZ2V0RmllbGQodCwxKX1nZXRQYXJlbnQodCl7cmV0dXJuIHRoaXMubV90cmVhcERhdGEuZ2V0RmllbGQodCwyKX1nZXROZXh0KHQpe3JldHVybiB0aGlzLm1fdHJlYXBEYXRhLmdldEZpZWxkKHQsNil9Z2V0UHJldih0KXtyZXR1cm4gdGhpcy5tX3RyZWFwRGF0YS5nZXRGaWVsZCh0LDUpfWdldEZpcnN0KHQ9LTEpe3JldHVybi0xPT09dD90aGlzLmdldEZpcnN0Xyh0aGlzLm1fZGVmYXVsdFRyZWFwKTp0aGlzLmdldEZpcnN0Xyh0KX1nZXRMYXN0KHQ9LTEpe3JldHVybi0xPT09dD90aGlzLmdldExhc3RfKHRoaXMubV9kZWZhdWx0VHJlYXApOnRoaXMuZ2V0TGFzdF8odCl9Z2V0VHJlYXBEYXRhKHQ9LTEpe3JldHVybi0xPT09dD90aGlzLmdldFRyZWFwRGF0YV8odGhpcy5tX2RlZmF1bHRUcmVhcCk6dGhpcy5nZXRUcmVhcERhdGFfKHQpfXNldEVsZW1lbnQodCxlKXtudWxsIT09dGhpcy5tX2NvbXBhcmF0b3ImJnRoaXMubV9jb21wYXJhdG9yLm9uU2V0SW1wbCh0aGlzLHQpLHRoaXMuc2V0RWxlbWVudF8odCxlKX1nZXRSb290KHQ9LTEpe3JldHVybi0xPT09dD90aGlzLmdldFJvb3RfKHRoaXMubV9kZWZhdWx0VHJlYXApOnRoaXMuZ2V0Um9vdF8odCl9Y2xlYXIoKXt0aGlzLm1fdHJlYXBEYXRhLmRlbGV0ZUFsbCghMSksdGhpcy5tX2RlZmF1bHRUcmVhcD1jdC5zdF9udWxsTm9kZSgpLHRoaXMubV90cmVhcENvdW50PTAsdGhpcy5tX21heERlcHRoRXZlcj0wfWFkZFRvTGlzdF8odCxlLHMpe2xldCBpOy0xIT09dD8oaT10aGlzLmdldFByZXYodCksdGhpcy5zZXRQcmV2Xyh0LGUpKTppPXRoaXMuZ2V0TGFzdF8ocyksdGhpcy5zZXRQcmV2XyhlLGkpLC0xIT09aSYmdGhpcy5zZXROZXh0XyhpLGUpLHRoaXMuc2V0TmV4dF8oZSx0KSx0PT09dGhpcy5nZXRGaXJzdF8ocykmJnRoaXMuc2V0Rmlyc3RfKGUscyksLTE9PT10JiZ0aGlzLnNldExhc3RfKGUscyksdGhpcy5zZXRTaXplXyh0aGlzLmdldFNpemVfKHMpKzEscyl9c2l6ZSh0PS0xKXtyZXR1cm4tMT09PXQ/dGhpcy5nZXRTaXplXyh0aGlzLm1fZGVmYXVsdFRyZWFwKTp0aGlzLmdldFNpemVfKHQpfWdldE1heERlcHRoKHQ9LTEpe3JldHVybiB0aGlzLmdldE1heERlcHRoSGVscGVyXyh0aGlzLmdldFJvb3QodCkpfWdldE1heERlcHRoRXZlcigpe3JldHVybiB0aGlzLm1fbWF4RGVwdGhFdmVyfXN0YXRpYyBzdF9pc1ZhbGlkTm9kZSh0KXtyZXR1cm4gYXQuaXNWYWxpZEVsZW1lbnQodCl9ZGJnQ2hlY2tfKHQpe31nZXRQcmlvcml0eV8odCl7cmV0dXJuIHRoaXMubV90cmVhcERhdGEuZ2V0RmllbGQodCw0KX1idWJibGVEb3duXyh0KXtsZXQgZT10aGlzLmdldExlZnQodCkscz10aGlzLmdldFJpZ2h0KHQpO2NvbnN0IGk9dGhpcy5nZXRQcmlvcml0eV8odCk7Zm9yKDtlIT09Y3Quc3RfbnVsbE5vZGUoKXx8cyE9PWN0LnN0X251bGxOb2RlKCk7KXtjb25zdCBuPWUhPT1jdC5zdF9udWxsTm9kZSgpP3RoaXMuZ2V0UHJpb3JpdHlfKGUpOnUoKSxyPXMhPT1jdC5zdF9udWxsTm9kZSgpP3RoaXMuZ2V0UHJpb3JpdHlfKHMpOnUoKTtpZihpPD1NYXRoLm1pbihuLHIpKXJldHVybjtuPD1yP3RoaXMucm90YXRlUmlnaHRfKGUpOnRoaXMucm90YXRlTGVmdF8odCksZT10aGlzLmdldExlZnQodCkscz10aGlzLmdldFJpZ2h0KHQpfX1idWJibGVVcF8odCl7aWYoIXRoaXMubV9iQmFsYW5jaW5nKXJldHVybjtjb25zdCBlPXRoaXMuZ2V0UHJpb3JpdHlfKHQpO2xldCBzPXRoaXMuZ2V0UGFyZW50KHQpO2Zvcig7cyE9PWN0LnN0X251bGxOb2RlKCkmJnRoaXMuZ2V0UHJpb3JpdHlfKHMpPmU7KXRoaXMuZ2V0TGVmdChzKT09PXQ/dGhpcy5yb3RhdGVSaWdodF8odCk6dGhpcy5yb3RhdGVMZWZ0XyhzKSxzPXRoaXMuZ2V0UGFyZW50KHQpfXJvdGF0ZUxlZnRfKHQpe2NvbnN0IGU9dCxzPXRoaXMuZ2V0UmlnaHQodCk7bGV0IGk7dGhpcy5zZXRQYXJlbnRfKHMsdGhpcy5nZXRQYXJlbnQoZSkpLHRoaXMuc2V0UGFyZW50XyhlLHMpLGk9dGhpcy5nZXRMZWZ0KHMpLHRoaXMuc2V0UmlnaHRfKGUsaSksaSE9PWN0LnN0X251bGxOb2RlKCkmJnRoaXMuc2V0UGFyZW50XyhpLGUpLHRoaXMuc2V0TGVmdF8ocyxlKSxpPXRoaXMuZ2V0UGFyZW50KHMpLGkhPT1jdC5zdF9udWxsTm9kZSgpJiYodGhpcy5nZXRMZWZ0KGkpPT09ZT90aGlzLnNldExlZnRfKGkscyk6dGhpcy5zZXRSaWdodF8oaSxzKSl9cm90YXRlUmlnaHRfKHQpe2NvbnN0IGU9dGhpcy5nZXRQYXJlbnQodCkscz10O2xldCBpO3RoaXMuc2V0UGFyZW50XyhzLHRoaXMuZ2V0UGFyZW50KGUpKSx0aGlzLnNldFBhcmVudF8oZSxzKSxpPXRoaXMuZ2V0UmlnaHQocyksdGhpcy5zZXRMZWZ0XyhlLGkpLGkhPT1jdC5zdF9udWxsTm9kZSgpJiZ0aGlzLnNldFBhcmVudF8oaSxlKSx0aGlzLnNldFJpZ2h0XyhzLGUpLGk9dGhpcy5nZXRQYXJlbnQocyksaSE9PWN0LnN0X251bGxOb2RlKCkmJih0aGlzLmdldExlZnQoaSk9PT1lP3RoaXMuc2V0TGVmdF8oaSxzKTp0aGlzLnNldFJpZ2h0XyhpLHMpKX1zZXRQYXJlbnRfKHQsZSl7dGhpcy5tX3RyZWFwRGF0YS5zZXRGaWVsZCh0LDIsZSl9c2V0TGVmdF8odCxlKXt0aGlzLm1fdHJlYXBEYXRhLnNldEZpZWxkKHQsMCxlKX1zZXRSaWdodF8odCxlKXt0aGlzLm1fdHJlYXBEYXRhLnNldEZpZWxkKHQsMSxlKX1zZXRQcmlvcml0eV8odCxlKXt0aGlzLm1fdHJlYXBEYXRhLnNldEZpZWxkKHQsNCxlKX1zZXRQcmV2Xyh0LGUpe3RoaXMubV90cmVhcERhdGEuc2V0RmllbGQodCw1LGUpfXNldE5leHRfKHQsZSl7dGhpcy5tX3RyZWFwRGF0YS5zZXRGaWVsZCh0LDYsZSl9c2V0Um9vdF8odCxlKXt0aGlzLm1fdHJlYXBEYXRhLnNldEZpZWxkKGUsMCx0KX1zZXRGaXJzdF8odCxlKXt0aGlzLm1fdHJlYXBEYXRhLnNldEZpZWxkKGUsMSx0KX1zZXRMYXN0Xyh0LGUpe3RoaXMubV90cmVhcERhdGEuc2V0RmllbGQoZSwyLHQpfXNldER1cGxpY2F0ZUVsZW1lbnRfKHQsZSl7dGhpcy5tX3RyZWFwRGF0YS5zZXRGaWVsZChlLDMsdCl9c2V0U2l6ZV8odCxlKXt0aGlzLm1fdHJlYXBEYXRhLnNldEZpZWxkKGUsNCx0KX1zZXRUcmVhcERhdGFfKHQsZSl7dGhpcy5tX3RyZWFwRGF0YS5zZXRGaWVsZChlLDUsdCl9Z2V0Um9vdF8odCl7cmV0dXJuLTE9PT10P2N0LnN0X251bGxOb2RlKCk6dGhpcy5tX3RyZWFwRGF0YS5nZXRGaWVsZCh0LDApfWdldEZpcnN0Xyh0KXtyZXR1cm4tMT09PXQ/Y3Quc3RfbnVsbE5vZGUoKTp0aGlzLm1fdHJlYXBEYXRhLmdldEZpZWxkKHQsMSl9Z2V0TGFzdF8odCl7cmV0dXJuLTE9PT10P2N0LnN0X251bGxOb2RlKCk6dGhpcy5tX3RyZWFwRGF0YS5nZXRGaWVsZCh0LDIpfWdldER1cGxpY2F0ZUVsZW1lbnRfKHQpe3JldHVybi0xPT09dD9jdC5zdF9udWxsTm9kZSgpOnRoaXMubV90cmVhcERhdGEuZ2V0RmllbGQodCwzKX1nZXRTaXplXyh0KXtyZXR1cm4tMT09PXQ/MDp0aGlzLm1fdHJlYXBEYXRhLmdldEZpZWxkKHQsNCl9Z2V0VHJlYXBEYXRhXyh0KXtyZXR1cm4gdGhpcy5tX3RyZWFwRGF0YS5nZXRGaWVsZCh0LDUpfW5ld05vZGVfKHQpe2NvbnN0IGU9dGhpcy5tX3RyZWFwRGF0YS5uZXdFbGVtZW50KCk7cmV0dXJuIHRoaXMuc2V0UHJpb3JpdHlfKGUsdGhpcy5nZW5lcmF0ZVByaW9yaXR5XygpKSx0aGlzLnNldEVsZW1lbnRfKGUsdCksZX1mcmVlTm9kZV8odCxlKXt0IT09Y3Quc3RfbnVsbE5vZGUoKSYmdGhpcy5tX3RyZWFwRGF0YS5kZWxldGVFbGVtZW50KHQpfWdlbmVyYXRlUHJpb3JpdHlfKCl7cmV0dXJuIHRoaXMubV9yYW5kb209bCh0aGlzLm1fcmFuZG9tKSx0aGlzLm1fcmFuZG9tJnUoKT4+MX1tYXhQcmlvcml0eSgpe3JldHVybiBnKDApLDB9Z2V0TWF4RGVwdGhIZWxwZXJfKHQpe3JldHVybiB0PT09Y3Quc3RfbnVsbE5vZGUoKT8wOjErTWF0aC5tYXgodGhpcy5nZXRNYXhEZXB0aEhlbHBlcl8odGhpcy5nZXRMZWZ0KHQpKSx0aGlzLmdldE1heERlcHRoSGVscGVyXyh0aGlzLmdldFJpZ2h0KHQpKSl9YWRkRWxlbWVudF8odCxlLHMpe2lmKHRoaXMuZ2V0Um9vdChzKT09PWN0LnN0X251bGxOb2RlKCkpe2NvbnN0IGU9dGhpcy5uZXdOb2RlXyh0KTtyZXR1cm4gdGhpcy5zZXRSb290XyhlLHMpLHRoaXMuYWRkVG9MaXN0XygtMSxlLHMpLHRoaXMubV9tYXhEZXB0aEV2ZXI9TWF0aC5tYXgodGhpcy5tX21heERlcHRoRXZlciwxKSxlfWxldCBpPXRoaXMuZ2V0Um9vdF8ocyksbj0tMSxyPS0xLGg9MTtmb3IoOzspe2NvbnN0IG89LTE9PT1lPzE6dGhpcy5tX2NvbXBhcmF0b3IuY29tcGFyZSh0aGlzLHQsaSk7aWYobzwwKXtjb25zdCBlPXRoaXMuZ2V0TGVmdChpKTtpZihlPT09Y3Quc3RfbnVsbE5vZGUoKSl7cj1pLG49dGhpcy5uZXdOb2RlXyh0KSx0aGlzLnNldExlZnRfKGksbiksdGhpcy5zZXRQYXJlbnRfKG4saSk7YnJlYWt9aT1lfWVsc2V7aWYoMT09PWUmJjA9PT1vKXJldHVybiB0aGlzLm1fY29tcGFyYXRvci5vbkFkZFVuaXF1ZUVsZW1lbnRGYWlsZWRJbXBsKHQpLHRoaXMuc2V0RHVwbGljYXRlRWxlbWVudF8oaSxzKSwtMTtjb25zdCBoPXRoaXMuZ2V0UmlnaHQoaSk7aWYoaD09PWN0LnN0X251bGxOb2RlKCkpe3I9dGhpcy5nZXROZXh0KGkpLG49dGhpcy5uZXdOb2RlXyh0KSx0aGlzLnNldFJpZ2h0XyhpLG4pLHRoaXMuc2V0UGFyZW50XyhuLGkpO2JyZWFrfWk9aH1oKyt9cmV0dXJuIHRoaXMuYnViYmxlVXBfKG4pLHRoaXMuZ2V0UGFyZW50KG4pPT09Y3Quc3RfbnVsbE5vZGUoKSYmdGhpcy5zZXRSb290XyhuLHMpLHRoaXMuYWRkVG9MaXN0XyhyLG4scyksdGhpcy5tX21heERlcHRoRXZlcj1NYXRoLm1heChoLHRoaXMubV9tYXhEZXB0aEV2ZXIpLG59cmVtb3ZlRnJvbUxpc3RfKHQsZSl7Y29uc3Qgcz10aGlzLmdldFByZXYodCksaT10aGlzLmdldE5leHQodCk7LTEhPT1zP3RoaXMuc2V0TmV4dF8ocyxpKTp0aGlzLnNldEZpcnN0XyhpLGUpLC0xIT09aT90aGlzLnNldFByZXZfKGkscyk6dGhpcy5zZXRMYXN0XyhzLGUpLHRoaXMuc2V0U2l6ZV8odGhpcy5nZXRTaXplXyhlKS0xLGUpfXVuYmFsYW5jZWREZWxldGVfKHQsZSl7dGhpcy5yZW1vdmVGcm9tTGlzdF8odCxlKTtsZXQgcz10aGlzLmdldExlZnQodCksaT10aGlzLmdldFJpZ2h0KHQpLG49dGhpcy5nZXRQYXJlbnQodCkscj10O2lmKC0xIT09cyYmLTEhPT1pKXtsZXQgaDt0aGlzLm1fcmFuZG9tPWwodGhpcy5tX3JhbmRvbSksaD10aGlzLm1fcmFuZG9tPnUoKT4+MT90aGlzLmdldE5leHQodCk6dGhpcy5nZXRQcmV2KHQpO2NvbnN0IG89dGhpcy5nZXRQYXJlbnQoaCk9PT10O3RoaXMubV90cmVhcERhdGEuc3dhcEZpZWxkKHQsaCwwKSx0aGlzLm1fdHJlYXBEYXRhLnN3YXBGaWVsZCh0LGgsMSksdGhpcy5tX3RyZWFwRGF0YS5zd2FwRmllbGQodCxoLDIpLC0xIT09bj90aGlzLmdldExlZnQobik9PT10P3RoaXMuc2V0TGVmdF8obixoKTp0aGlzLnNldFJpZ2h0XyhuLGgpOnRoaXMuc2V0Um9vdF8oaCxlKSxvPyhzPT09aD8odGhpcy5zZXRMZWZ0XyhoLHQpLHRoaXMuc2V0UGFyZW50XyhpLGgpKTppPT09aCYmKHRoaXMuc2V0UmlnaHRfKGgsdCksdGhpcy5zZXRQYXJlbnRfKHMsaCkpLHRoaXMuc2V0UGFyZW50Xyh0LGgpLG49aCk6KHRoaXMuc2V0UGFyZW50XyhzLGgpLHRoaXMuc2V0UGFyZW50XyhpLGgpLG49dGhpcy5nZXRQYXJlbnQodCkscj1oKSxzPXRoaXMuZ2V0TGVmdCh0KSxpPXRoaXMuZ2V0UmlnaHQodCksLTEhPT1zJiZ0aGlzLnNldFBhcmVudF8ocyx0KSwtMSE9PWkmJnRoaXMuc2V0UGFyZW50XyhpLHQpfWNvbnN0IGg9LTEhPT1zP3M6aTstMT09PW4/dGhpcy5zZXRSb290XyhoLGUpOnRoaXMuZ2V0TGVmdChuKT09PXI/dGhpcy5zZXRMZWZ0XyhuLGgpOnRoaXMuc2V0UmlnaHRfKG4saCksLTEhPT1oJiZ0aGlzLnNldFBhcmVudF8oaCxuKSx0aGlzLmZyZWVOb2RlXyh0LGUpfWRlbGV0ZU5vZGVfKHQsZSl7dGhpcy5zZXRQcmlvcml0eV8odCx1KCkpO2xldCBzPWN0LnN0X251bGxOb2RlKCksaT1jdC5zdF9udWxsTm9kZSgpO2NvbnN0IG49dGhpcy5nZXRSb290XyhlKSxyPW49PT10O2lmKHImJihzPXRoaXMuZ2V0TGVmdChuKSxpPXRoaXMuZ2V0UmlnaHQobikscz09PWN0LnN0X251bGxOb2RlKCkmJmk9PT1jdC5zdF9udWxsTm9kZSgpKSlyZXR1cm4gdGhpcy5yZW1vdmVGcm9tTGlzdF8obixlKSx0aGlzLmZyZWVOb2RlXyhuLGUpLHZvaWQgdGhpcy5zZXRSb290XyhjdC5zdF9udWxsTm9kZSgpLGUpO3RoaXMuYnViYmxlRG93bl8odCk7Y29uc3QgaD10aGlzLmdldFBhcmVudCh0KTtoIT09Y3Quc3RfbnVsbE5vZGUoKSYmKHRoaXMuZ2V0TGVmdChoKT09PXQ/dGhpcy5zZXRMZWZ0XyhoLGN0LnN0X251bGxOb2RlKCkpOnRoaXMuc2V0UmlnaHRfKGgsY3Quc3RfbnVsbE5vZGUoKSkpLHRoaXMucmVtb3ZlRnJvbUxpc3RfKHQsZSksdGhpcy5mcmVlTm9kZV8odCxlKSxyJiZ0aGlzLnNldFJvb3RfKHM9PT1jdC5zdF9udWxsTm9kZSgpfHx0aGlzLmdldFBhcmVudChzKSE9PWN0LnN0X251bGxOb2RlKCk/aTpzLGUpfXNldEVsZW1lbnRfKHQsZSl7dGhpcy5tX3RyZWFwRGF0YS5zZXRGaWVsZCh0LDMsZSl9YWRkQmlnZ2VzdEVsZW1lbnRfKHQsZSl7aWYodGhpcy5nZXRSb290XyhlKT09PWN0LnN0X251bGxOb2RlKCkpcmV0dXJuIHRoaXMuc2V0Um9vdF8odCxlKSx2b2lkIHRoaXMuYWRkVG9MaXN0XygtMSx0LGUpO2NvbnN0IHM9dGhpcy5nZXRMYXN0XyhlKTt0aGlzLnNldFJpZ2h0XyhzLHQpLHRoaXMuc2V0UGFyZW50Xyh0LHMpLHRoaXMuYnViYmxlVXBfKHQpLHRoaXMuZ2V0UGFyZW50KHQpPT09Y3Quc3RfbnVsbE5vZGUoKSYmdGhpcy5zZXRSb290Xyh0LGUpLHRoaXMuYWRkVG9MaXN0XygtMSx0LGUpfX1jbGFzcyBwdHtjb25zdHJ1Y3Rvcih0KXt0aGlzLm1fbGlzdHM9bmV3IGF0KDYpLHRoaXMubV9saXN0T2ZMaXN0cz1wdC5zdF9udWxsTm9kZSgpLHZvaWQgMD09PXQ/KHRoaXMubV9saXN0Tm9kZXM9bmV3IGF0KDMpLHRoaXMubV9iU3RvcmVMaXN0SW5kZXhXaXRoTm9kZT0hMSk6KHRoaXMubV9saXN0Tm9kZXM9bmV3IGF0KHQ/NDozKSx0aGlzLm1fYlN0b3JlTGlzdEluZGV4V2l0aE5vZGU9dCl9ZnJlZU5vZGVfKHQpe3RoaXMubV9saXN0Tm9kZXMuZGVsZXRlRWxlbWVudCh0KX1uZXdOb2RlXygpe3JldHVybiB0aGlzLm1fbGlzdE5vZGVzLm5ld0VsZW1lbnQoKX1mcmVlTGlzdF8odCl7ZygwKX1uZXdMaXN0Xygpe3JldHVybiB0aGlzLm1fbGlzdHMubmV3RWxlbWVudCgpfXNldFByZXZfKHQsZSl7dGhpcy5tX2xpc3ROb2Rlcy5zZXRGaWVsZCh0LDEsZSl9c2V0TmV4dF8odCxlKXt0aGlzLm1fbGlzdE5vZGVzLnNldEZpZWxkKHQsMixlKX1zZXREYXRhXyh0LGUpe2coMCl9c2V0TGlzdF8odCxlKXtyZXR1cm4gdGhpcy5tX2xpc3ROb2Rlcy5zZXRGaWVsZCh0LDMsZSl9c2V0TGlzdFNpemVfKHQsZSl7dGhpcy5tX2xpc3RzLnNldEZpZWxkKHQsNCxlKX1zZXROZXh0TGlzdF8odCxlKXtnKDApfXNldFByZXZMaXN0Xyh0LGUpe3RoaXMubV9saXN0cy5zZXRGaWVsZCh0LDIsZSl9Y3JlYXRlTGlzdCh0KXtjb25zdCBlPXRoaXMubmV3TGlzdF8oKTtyZXR1cm4gdGhpcy5tX2xpc3RzLnNldEZpZWxkKGUsMyx0aGlzLm1fbGlzdE9mTGlzdHMpLHRoaXMubV9saXN0cy5zZXRGaWVsZChlLDQsMCksdGhpcy5tX2xpc3RzLnNldEZpZWxkKGUsNSx0KSx0aGlzLm1fbGlzdE9mTGlzdHMhPT1wdC5zdF9udWxsTm9kZSgpJiZ0aGlzLnNldFByZXZMaXN0Xyh0aGlzLm1fbGlzdE9mTGlzdHMsZSksdGhpcy5tX2xpc3RPZkxpc3RzPWUsZX1kZWxldGVMaXN0KHQpe3RoaXMuY2xlYXIodCk7Y29uc3QgZT10aGlzLm1fbGlzdHMuZ2V0RmllbGQodCwyKSxzPXRoaXMubV9saXN0cy5nZXRGaWVsZCh0LDMpO3JldHVybiBlIT09cHQuc3RfbnVsbE5vZGUoKT90aGlzLnNldE5leHRMaXN0XyhlLHMpOnRoaXMubV9saXN0T2ZMaXN0cz1zLHMhPT1wdC5zdF9udWxsTm9kZSgpJiZ0aGlzLnNldFByZXZMaXN0XyhzLGUpLHRoaXMuZnJlZUxpc3RfKHQpLHN9cmVzZXJ2ZUxpc3RzKHQpe2coMCl9Z2V0TGlzdERhdGEodCl7cmV0dXJuIHRoaXMubV9saXN0cy5nZXRGaWVsZCh0LDUpfWdldExpc3QodCl7cmV0dXJuIGcoMCksMH1zZXRMaXN0RGF0YSh0LGUpe3RoaXMubV9saXN0cy5zZXRGaWVsZCh0LDUsZSl9YWRkRWxlbWVudCh0LGUpe3JldHVybiB0aGlzLmluc2VydEVsZW1lbnQodCwtMSxlKX1pbnNlcnRFbGVtZW50KHQsZSxzKXtjb25zdCBpPXRoaXMubmV3Tm9kZV8oKTtsZXQgbj0tMTtlIT09cHQuc3RfbnVsbE5vZGUoKSYmKG49dGhpcy5nZXRQcmV2KGUpLHRoaXMuc2V0UHJldl8oZSxpKSksdGhpcy5zZXROZXh0XyhpLGUpLG4hPT1wdC5zdF9udWxsTm9kZSgpJiZ0aGlzLnNldE5leHRfKG4saSk7aWYoZT09PXRoaXMubV9saXN0cy5nZXRGaWVsZCh0LDApJiZ0aGlzLm1fbGlzdHMuc2V0RmllbGQodCwwLGkpLGU9PT1wdC5zdF9udWxsTm9kZSgpKXtjb25zdCBlPXRoaXMubV9saXN0cy5nZXRGaWVsZCh0LDEpO3RoaXMuc2V0UHJldl8oaSxlKSwtMSE9PWUmJnRoaXMuc2V0TmV4dF8oZSxpKSx0aGlzLm1fbGlzdHMuc2V0RmllbGQodCwxLGkpfXJldHVybiB0aGlzLnNldERhdGEoaSxzKSx0aGlzLnNldExpc3RTaXplXyh0LHRoaXMuZ2V0TGlzdFNpemUodCkrMSksdGhpcy5tX2JTdG9yZUxpc3RJbmRleFdpdGhOb2RlJiZ0aGlzLnNldExpc3RfKGksdCksaX1kZWxldGVFbGVtZW50KHQsZSl7Y29uc3Qgcz10aGlzLmdldFByZXYoZSksaT10aGlzLmdldE5leHQoZSk7cmV0dXJuIHMhPT1wdC5zdF9udWxsTm9kZSgpP3RoaXMuc2V0TmV4dF8ocyxpKTp0aGlzLm1fbGlzdHMuc2V0RmllbGQodCwwLGkpLGkhPT1wdC5zdF9udWxsTm9kZSgpP3RoaXMuc2V0UHJldl8oaSxzKTp0aGlzLm1fbGlzdHMuc2V0RmllbGQodCwxLHMpLHRoaXMuZnJlZU5vZGVfKGUpLHRoaXMuc2V0TGlzdFNpemVfKHQsdGhpcy5nZXRMaXN0U2l6ZSh0KS0xKSxpfXJlc2VydmVOb2Rlcyh0KXt0aGlzLm1fbGlzdE5vZGVzLnNldENhcGFjaXR5KHQpfWdldERhdGEodCl7cmV0dXJuIHRoaXMubV9saXN0Tm9kZXMuZ2V0RmllbGQodCwwKX1nZXRFbGVtZW50KHQpe3JldHVybiB0aGlzLmdldERhdGEodCl9c2V0RGF0YSh0LGUpe3RoaXMubV9saXN0Tm9kZXMuc2V0RmllbGQodCwwLGUpfWdldE5leHQodCl7cmV0dXJuIHRoaXMubV9saXN0Tm9kZXMuZ2V0RmllbGQodCwyKX1nZXRQcmV2KHQpe3JldHVybiB0aGlzLm1fbGlzdE5vZGVzLmdldEZpZWxkKHQsMSl9Z2V0Rmlyc3QodCl7cmV0dXJuIHRoaXMubV9saXN0cy5nZXRGaWVsZCh0LDApfWdldExhc3QodCl7cmV0dXJuIHRoaXMubV9saXN0cy5nZXRGaWVsZCh0LDEpfXN0YXRpYyBzdF9udWxsTm9kZSgpe3JldHVybi0xfWNsZWFyKHQpe2lmKHZvaWQgMCE9PXQpe2xldCBlPXRoaXMuZ2V0TGFzdCh0KTtmb3IoO2UhPT1wdC5zdF9udWxsTm9kZSgpOyl7Y29uc3QgdD1lO2U9dGhpcy5nZXRQcmV2KHQpLHRoaXMuZnJlZU5vZGVfKHQpfXJldHVybiB0aGlzLm1fbGlzdHMuc2V0RmllbGQodCwwLC0xKSx0aGlzLm1fbGlzdHMuc2V0RmllbGQodCwxLC0xKSx2b2lkIHRoaXMuc2V0TGlzdFNpemVfKHQsMCl9Zm9yKGxldCBlPXRoaXMuZ2V0Rmlyc3RMaXN0KCk7LTEhPT1lOyllPXRoaXMuZGVsZXRlTGlzdChlKX1pc0VtcHR5KHQpe3JldHVybiBnKDApLCExfWdldE5vZGVDb3VudCgpe3JldHVybiB0aGlzLm1fbGlzdE5vZGVzLnNpemUoKX1nZXRMaXN0Q291bnQoKXtyZXR1cm4gdGhpcy5tX2xpc3RzLnNpemUoKX1nZXRMaXN0U2l6ZSh0KXtyZXR1cm4gdGhpcy5tX2xpc3RzLmdldEZpZWxkKHQsNCl9Z2V0Rmlyc3RMaXN0KCl7cmV0dXJuIHRoaXMubV9saXN0T2ZMaXN0c31nZXROZXh0TGlzdCh0KXtyZXR1cm4gdGhpcy5tX2xpc3RzLmdldEZpZWxkKHQsMyl9fWNsYXNzIGd0IGV4dGVuZHMgZHR7Y29uc3RydWN0b3IodCl7c3VwZXIoKSx0aGlzLm1faW50ZXJ2YWxUcmVlPXR9Y29tcGFyZSh0LGUscyl7Y29uc3QgaT10LmdldEVsZW1lbnQocyksbj10aGlzLm1faW50ZXJ2YWxUcmVlLmdldFZhbHVlXyhlKSxyPXRoaXMubV9pbnRlcnZhbFRyZWUuZ2V0VmFsdWVfKGkpO3JldHVybiBuPHI/LTE6bj09PXI/ZnQuaXNMZWZ0XyhlKSYmZnQuaXNSaWdodF8oaSk/LTE6ZnQuaXNMZWZ0XyhpKSYmZnQuaXNSaWdodF8oZSk/MTowOjF9fWNsYXNzIGZ0e2NvbnN0cnVjdG9yKHQpe3RoaXMubV9iRW52ZWxvcGVzUmVmPSExLHRoaXMubV9pbnRlcnZhbHM9W10sdGhpcy5tX2VudmVsb3Blc1JlZj1udWxsLHRoaXMubV9pbnRlcnZhbE5vZGVzPW5ldyBhdCgzKSx0aGlzLm1faW50ZXJ2YWxIYW5kbGVzPVtdLHRoaXMubV9lbmRJbmRpY2VzVW5pcXVlPVtdLHRoaXMubV9jQ291bnQ9LTEsdGhpcy5tX3Jvb3Q9LTEsdGhpcy5tX2JTb3J0SW50ZXJ2YWxzPSExLHRoaXMubV9iQ29uc3RydWN0aW5nPSExLHRoaXMubV9iQ29uc3RydWN0aW9uRW5kZWQ9ITEsdGhpcy5tX2JPZmZsaW5lRHluYW1pYz10LHRoaXMubV90ZXJ0aWFyeU5vZGVzPW5ldyBhdCh0aGlzLm1fYk9mZmxpbmVEeW5hbWljPzU6NCksdGhpcy5tX3NlY29uZGFyeVRyZWFwcz1uZXcgY3QsdGhpcy5tX3NlY29uZGFyeVRyZWFwcy5zZXRDb21wYXJhdG9yKG5ldyBndCh0aGlzKSksdGhpcy5tX3NlY29uZGFyeUxpc3RzPW5ldyBwdH1hZGRFbnZlbG9wZXNSZWYodCl7dGhpcy5yZXNldF8oITAsITApLHRoaXMubV9iRW52ZWxvcGVzUmVmPSEwLHRoaXMubV9lbnZlbG9wZXNSZWY9dCx0aGlzLm1fYkNvbnN0cnVjdGluZz0hMSx0aGlzLm1fYkNvbnN0cnVjdGlvbkVuZGVkPSEwLHRoaXMubV9iT2ZmbGluZUR5bmFtaWN8fCh0aGlzLmluc2VydEludGVydmFsc1N0YXRpY18oKSx0aGlzLm1fY0NvdW50PXRoaXMubV9lbnZlbG9wZXNSZWYubGVuZ3RoKX1zdGFydENvbnN0cnVjdGlvbigpe3RoaXMucmVzZXRfKCEwLCExKX1hZGRJbnRlcnZhbCh0KXt0aGlzLm1fYkNvbnN0cnVjdGluZ3x8TihcIlwiKSx0aGlzLm1faW50ZXJ2YWxzLnB1c2godC5jbG9uZSgpKX1hZGRJbnRlcnZhbENvb3Jkcyh0LGUpe2coMCl9ZW5kQ29uc3RydWN0aW9uKCl7dGhpcy5tX2JDb25zdHJ1Y3Rpbmd8fE4oXCJcIiksdGhpcy5tX2JDb25zdHJ1Y3Rpbmc9ITEsdGhpcy5tX2JDb25zdHJ1Y3Rpb25FbmRlZD0hMCx0aGlzLm1fYk9mZmxpbmVEeW5hbWljfHwodGhpcy5pbnNlcnRJbnRlcnZhbHNTdGF0aWNfKCksdGhpcy5tX2NDb3VudD10aGlzLm1faW50ZXJ2YWxzLmxlbmd0aCl9aW5zZXJ0KHQpe2lmKHRoaXMubV9iT2ZmbGluZUR5bmFtaWMmJnRoaXMubV9iQ29uc3RydWN0aW9uRW5kZWR8fE4oXCJcIiksLTE9PT10aGlzLm1fcm9vdCl7Y29uc3QgdD10aGlzLm1fYkVudmVsb3Blc1JlZj90aGlzLm1fZW52ZWxvcGVzUmVmLmxlbmd0aDp0aGlzLm1faW50ZXJ2YWxzLmxlbmd0aDtpZih0aGlzLm1fYlNvcnRJbnRlcnZhbHMpe2NvbnN0IGU9bmV3IHN0KDApO3RoaXMucXVlcnlTb3J0ZWRFbmRQb2ludEluZGljZXNfKGUpLHRoaXMubV9lbmRJbmRpY2VzVW5pcXVlLmxlbmd0aD0wLHRoaXMucXVlcnlTb3J0ZWREdXBsaWNhdGVzUmVtb3ZlZF8oZSksdGhpcy5tX2ludGVydmFsSGFuZGxlcy5sZW5ndGg9dCx0aGlzLm1faW50ZXJ2YWxIYW5kbGVzLmZpbGwoLTEpLHRoaXMubV9iU29ydEludGVydmFscz0hMX1lbHNlIHRoaXMubV9pbnRlcnZhbEhhbmRsZXMuZmlsbCgtMSwwLHQpO3RoaXMubV9yb290PXRoaXMuY3JlYXRlUm9vdF8oKX1jb25zdCBlPXRoaXMuaW5zZXJ0SW50ZXJ2YWxFbmRfKHQ8PDEsdGhpcy5tX3Jvb3QpLHM9dGhpcy5nZXRTZWNvbmRhcnlGcm9tSW50ZXJ2YWxfKGUpLGk9dGhpcy5tX3NlY29uZGFyeVRyZWFwcy5hZGRFbGVtZW50KDErKHQ8PDEpLHMpO3RoaXMuc2V0UmlnaHRFbmRfKGUsaSksdGhpcy5tX2ludGVydmFsSGFuZGxlc1t0XT1lLHRoaXMubV9jQ291bnQrK31yZW1vdmUodCl7dGhpcy5tX2JPZmZsaW5lRHluYW1pYyYmdGhpcy5tX2JDb25zdHJ1Y3Rpb25FbmRlZHx8TihcIlwiKTtjb25zdCBlPXRoaXMubV9pbnRlcnZhbEhhbmRsZXNbdF07bGV0IHM7LTE9PT1lJiZmKFwidGhlIGludGVydmFsIGRvZXMgbm90IGV4aXN0IGluIHRoZSBpbnRlcnZhbCB0cmVlXCIpLHRoaXMubV9pbnRlcnZhbEhhbmRsZXNbdF09LTEsdGhpcy5tX2NDb3VudC0tO2xldCBpPXRoaXMuZ2V0U2Vjb25kYXJ5RnJvbUludGVydmFsXyhlKSxuPS0xO249dGhpcy5tX3NlY29uZGFyeVRyZWFwcy5nZXRUcmVhcERhdGEoaSksdGhpcy5tX3NlY29uZGFyeVRyZWFwcy5kZWxldGVOb2RlKHRoaXMuZ2V0TGVmdEVuZF8oZSksaSksdGhpcy5tX3NlY29uZGFyeVRyZWFwcy5kZWxldGVOb2RlKHRoaXMuZ2V0UmlnaHRFbmRfKGUpLGkpLHM9dGhpcy5tX3NlY29uZGFyeVRyZWFwcy5zaXplKGkpLDA9PT1zJiYodGhpcy5tX3NlY29uZGFyeVRyZWFwcy5kZWxldGVUcmVhcChpKSx0aGlzLnNldFNlY29uZGFyeVRvVGVydGlhcnlfKG4sLTEpKSx0aGlzLm1faW50ZXJ2YWxOb2Rlcy5kZWxldGVFbGVtZW50KGUpO2xldCByPXRoaXMuZ2V0UHB0cl8obiksaD10aGlzLmdldExwdHJfKG4pLG89dGhpcy5nZXRScHRyXyhuKTtmb3IoOyEocz4wfHxuPT09dGhpcy5tX3Jvb3R8fC0xIT09aCYmLTEhPT1vKTspbj09PXRoaXMuZ2V0THB0cl8ocik/LTEhPT1oPyh0aGlzLnNldExwdHJfKHIsaCksdGhpcy5zZXRQcHRyXyhoLHIpLHRoaXMuc2V0THB0cl8obiwtMSksdGhpcy5zZXRQcHRyXyhuLC0xKSk6LTEhPT1vPyh0aGlzLnNldExwdHJfKHIsbyksdGhpcy5zZXRQcHRyXyhvLHIpLHRoaXMuc2V0UnB0cl8obiwtMSksdGhpcy5zZXRQcHRyXyhuLC0xKSk6KHRoaXMuc2V0THB0cl8ociwtMSksdGhpcy5zZXRQcHRyXyhuLC0xKSk6LTEhPT1oPyh0aGlzLnNldFJwdHJfKHIsaCksdGhpcy5zZXRQcHRyXyhoLHIpLHRoaXMuc2V0THB0cl8obiwtMSksdGhpcy5zZXRQcHRyXyhuLC0xKSk6LTEhPT1vPyh0aGlzLnNldFJwdHJfKHIsbyksdGhpcy5zZXRQcHRyXyhvLHIpLHRoaXMuc2V0UnB0cl8obiwtMSksdGhpcy5zZXRQcHRyXyhuLC0xKSk6KHRoaXMuc2V0UnB0cl8ociwtMSksdGhpcy5zZXRQcHRyXyhuLC0xKSksdGhpcy5tX3RlcnRpYXJ5Tm9kZXMuZGVsZXRlRWxlbWVudChuKSxuPXIsaT10aGlzLmdldFNlY29uZGFyeUZyb21UZXJ0aWFyeV8obikscz0tMSE9PWk/dGhpcy5tX3NlY29uZGFyeVRyZWFwcy5zaXplKGkpOjAsaD10aGlzLmdldExwdHJfKG4pLG89dGhpcy5nZXRScHRyXyhuKSxyPXRoaXMuZ2V0UHB0cl8obil9c2l6ZSgpe3JldHVybiB0aGlzLm1fY0NvdW50fWdldEl0ZXJhdG9yUXVlcnkodCxlKXtyZXR1cm4gdCBpbnN0YW5jZW9mIHI/bmV3IHZ0KHRoaXMsdCxlKTooZygwKSx7fSl9Z2V0SXRlcmF0b3IoKXtyZXR1cm4gbmV3IHZ0KHRoaXMpfXF1ZXJ5U29ydGVkRW5kUG9pbnRJbmRpY2VzXyh0KXtjb25zdCBlPXRoaXMubV9iRW52ZWxvcGVzUmVmP3RoaXMubV9lbnZlbG9wZXNSZWYubGVuZ3RoOnRoaXMubV9pbnRlcnZhbHMubGVuZ3RoO2ZvcihsZXQgcz0wO3M8MiplO3MrKyl0LmFkZChzKTt0aGlzLnNvcnRFbmRJbmRpY2VzXyh0LDAsMiplKX1xdWVyeVNvcnRlZER1cGxpY2F0ZXNSZW1vdmVkXyh0KXtsZXQgZT1OdW1iZXIuTmFOO2ZvcihsZXQgcz0wO3M8dC5zaXplKCk7cysrKXtjb25zdCBpPXQucmVhZChzKSxuPXRoaXMuZ2V0VmFsdWVfKGkpO24hPT1lJiYodGhpcy5tX2VuZEluZGljZXNVbmlxdWUucHVzaChpKSxlPW4pfX1pbnNlcnRJbnRlcnZhbHNTdGF0aWNfKCl7Y29uc3QgdD10aGlzLm1fYkVudmVsb3Blc1JlZj90aGlzLm1fZW52ZWxvcGVzUmVmLmxlbmd0aDp0aGlzLm1faW50ZXJ2YWxzLmxlbmd0aCxzPW5ldyBzdCgwKTt0aGlzLnF1ZXJ5U29ydGVkRW5kUG9pbnRJbmRpY2VzXyhzKSx0aGlzLm1fZW5kSW5kaWNlc1VuaXF1ZS5sZW5ndGg9MCx0aGlzLnF1ZXJ5U29ydGVkRHVwbGljYXRlc1JlbW92ZWRfKHMpLHRoaXMubV9pbnRlcnZhbE5vZGVzLnNldENhcGFjaXR5KHQpLHRoaXMubV9zZWNvbmRhcnlMaXN0cy5yZXNlcnZlTm9kZXMoMip0KTtjb25zdCBpPWUodCwtMSk7dGhpcy5tX3Jvb3Q9dGhpcy5jcmVhdGVSb290XygpO2ZvcihsZXQgZT0wO2U8cy5zaXplKCk7ZSsrKXtjb25zdCB0PXMucmVhZChlKTtsZXQgbj1pW3Q+PjFdO2lmKC0xIT09bil7Y29uc3QgZT10aGlzLmdldFNlY29uZGFyeUZyb21JbnRlcnZhbF8obik7dGhpcy5zZXRSaWdodEVuZF8obix0aGlzLm1fc2Vjb25kYXJ5TGlzdHMuYWRkRWxlbWVudChlLHQpKX1lbHNlIG49dGhpcy5pbnNlcnRJbnRlcnZhbEVuZF8odCx0aGlzLm1fcm9vdCksaVt0Pj4xXT1ufX1jcmVhdGVSb290Xygpe2NvbnN0IHQ9dGhpcy5jYWxjdWxhdGVEaXNjcmltaW5hbnRJbmRleDFfKDAsdGhpcy5tX2VuZEluZGljZXNVbmlxdWUubGVuZ3RoLTEpO3JldHVybiB0aGlzLmNyZWF0ZVRlcnRpYXJ5Tm9kZV8odCl9aW5zZXJ0SW50ZXJ2YWxFbmRfKHQsZSl7bGV0IHM9LTEsaT1lLG49LTEscj0tMSxoPTAsbz10aGlzLm1fZW5kSW5kaWNlc1VuaXF1ZS5sZW5ndGgtMSxhPTA7Y29uc3QgbT10Pj4xO2xldCBfPU51bWJlci5OYU4sbD1OdW1iZXIuTmFOLHU9ITA7Y29uc3QgZD10aGlzLmdldE1pbl8obSksYz10aGlzLmdldE1heF8obSk7bGV0IHA9LTE7Zm9yKDt1Oyl7YT1oKyhvLWg+PjEpLHA9dGhpcy5jYWxjdWxhdGVEaXNjcmltaW5hbnRJbmRleDFfKGgsbyk7Y29uc3QgZT10aGlzLmdldERpc2NyaW1pbmFudEZyb21JbmRleDFfKHApO2lmKGM8ZSl7aWYoLTEhPT1pKWlmKHA9PT10aGlzLmdldERpc2NyaW1pbmFudEluZGV4MV8oaSkpcz1pLF89ZSxpPXRoaXMuZ2V0THB0cl8oaSksbD0tMSE9PWk/dGhpcy5nZXREaXNjcmltaW5hbnRfKGkpOk51bWJlci5OYU47ZWxzZSBpZihsPmUpe2NvbnN0IHQ9dGhpcy5jcmVhdGVUZXJ0aWFyeU5vZGVfKHApO2U8Xz90aGlzLnNldExwdHJfKHMsdCk6dGhpcy5zZXRScHRyXyhzLHQpLHRoaXMuc2V0UnB0cl8odCxpKSx0aGlzLm1fYk9mZmxpbmVEeW5hbWljJiYodGhpcy5zZXRQcHRyXyh0LHMpLHRoaXMuc2V0UHB0cl8oaSx0KSkscz10LF89ZSxpPS0xLGw9TnVtYmVyLk5hTn1vPWE7Y29udGludWV9aWYoZD5lKXtpZigtMSE9PWkpaWYocD09PXRoaXMuZ2V0RGlzY3JpbWluYW50SW5kZXgxXyhpKSlzPWksXz1lLGk9dGhpcy5nZXRScHRyXyhpKSxsPS0xIT09aT90aGlzLmdldERpc2NyaW1pbmFudF8oaSk6TnVtYmVyLk5hTjtlbHNlIGlmKGw8ZSl7Y29uc3QgdD10aGlzLmNyZWF0ZVRlcnRpYXJ5Tm9kZV8ocCk7ZTxfP3RoaXMuc2V0THB0cl8ocyx0KTp0aGlzLnNldFJwdHJfKHMsdCksdGhpcy5zZXRMcHRyXyh0LGkpLHRoaXMubV9iT2ZmbGluZUR5bmFtaWMmJih0aGlzLnNldFBwdHJfKHQscyksdGhpcy5zZXRQcHRyXyhpLHQpKSxzPXQsXz1lLGk9LTEsbD1OdW1iZXIuTmFOfWg9YSsxO2NvbnRpbnVlfWxldCBtPS0xO209LTE9PT1pfHxwIT09dGhpcy5nZXREaXNjcmltaW5hbnRJbmRleDFfKGkpP3RoaXMuY3JlYXRlVGVydGlhcnlOb2RlXyhwKTppLG49dGhpcy5nZXRTZWNvbmRhcnlGcm9tVGVydGlhcnlfKG0pLC0xPT09biYmKG49dGhpcy5jcmVhdGVTZWNvbmRhcnlfKG0pLHRoaXMuc2V0U2Vjb25kYXJ5VG9UZXJ0aWFyeV8obSxuKSk7Y29uc3QgZz10aGlzLmFkZEVuZEluZGV4XyhuLHQpO3I9dGhpcy5jcmVhdGVJbnRlcnZhbE5vZGVfKCksdGhpcy5zZXRTZWNvbmRhcnlUb0ludGVydmFsXyhyLG4pLHRoaXMuc2V0TGVmdEVuZF8ocixnKSwtMSE9PWkmJnA9PT10aGlzLmdldERpc2NyaW1pbmFudEluZGV4MV8oaSl8fChlPF8/dGhpcy5zZXRMcHRyXyhzLG0pOnRoaXMuc2V0UnB0cl8ocyxtKSx0aGlzLm1fYk9mZmxpbmVEeW5hbWljJiZ0aGlzLnNldFBwdHJfKG0scyksLTEhPT1pJiYobDxlP3RoaXMuc2V0THB0cl8obSxpKTp0aGlzLnNldFJwdHJfKG0saSksdGhpcy5tX2JPZmZsaW5lRHluYW1pYyYmdGhpcy5zZXRQcHRyXyhpLG0pKSksdT0hMTticmVha31yZXR1cm4gcn1jcmVhdGVUZXJ0aWFyeU5vZGVfKHQpe2NvbnN0IGU9dGhpcy5tX3RlcnRpYXJ5Tm9kZXMubmV3RWxlbWVudCgpO3JldHVybiB0aGlzLnNldERpc2NyaW1pbmFudEluZGV4MV8oZSx0KSxlfWNyZWF0ZVNlY29uZGFyeV8odCl7cmV0dXJuIHRoaXMubV9iT2ZmbGluZUR5bmFtaWM/dGhpcy5tX3NlY29uZGFyeVRyZWFwcy5jcmVhdGVUcmVhcCh0KTp0aGlzLm1fc2Vjb25kYXJ5TGlzdHMuY3JlYXRlTGlzdCh0KX1jcmVhdGVJbnRlcnZhbE5vZGVfKCl7cmV0dXJuIHRoaXMubV9pbnRlcnZhbE5vZGVzLm5ld0VsZW1lbnQoKX1yZXNldCgpe3RoaXMubV9iT2ZmbGluZUR5bmFtaWMmJnRoaXMubV9iQ29uc3RydWN0aW9uRW5kZWR8fE4oXCJcIiksdGhpcy5yZXNldF8oITEsdGhpcy5tX2JFbnZlbG9wZXNSZWYpfXJlc2V0Xyh0LGUpe3Q/KHRoaXMubV9iRW52ZWxvcGVzUmVmPSExLHRoaXMubV9lbnZlbG9wZXNSZWY9bnVsbCx0aGlzLm1fYlNvcnRJbnRlcnZhbHM9ITAsdGhpcy5tX2JDb25zdHJ1Y3Rpbmc9ITAsdGhpcy5tX2JDb25zdHJ1Y3Rpb25FbmRlZD0hMSx0aGlzLm1fZW5kSW5kaWNlc1VuaXF1ZS5sZW5ndGg9MCxlPyh0aGlzLm1faW50ZXJ2YWxzLmxlbmd0aD0wLHRoaXMubV9iRW52ZWxvcGVzUmVmPSEwKTp0aGlzLm1faW50ZXJ2YWxzLmxlbmd0aD0wKTp0aGlzLm1fYlNvcnRJbnRlcnZhbHM9ITEsdGhpcy5tX2JPZmZsaW5lRHluYW1pYz90aGlzLm1fc2Vjb25kYXJ5VHJlYXBzLmNsZWFyKCk6dGhpcy5tX3NlY29uZGFyeUxpc3RzLmNsZWFyKCksdGhpcy5tX2ludGVydmFsTm9kZXMuZGVsZXRlQWxsKCExKSx0aGlzLm1fdGVydGlhcnlOb2Rlcy5kZWxldGVBbGwoITEpLHRoaXMubV9yb290PS0xLHRoaXMubV9jQ291bnQ9MH1nZXREaXNjcmltaW5hbnRfKHQpe2NvbnN0IGU9dGhpcy5nZXREaXNjcmltaW5hbnRJbmRleDFfKHQpO3JldHVybiB0aGlzLmdldERpc2NyaW1pbmFudEZyb21JbmRleDFfKGUpfWdldERpc2NyaW1pbmFudEZyb21JbmRleDFfKHQpe2lmKC0xPT09dClyZXR1cm4gTnVtYmVyLk5hTjtpZih0PjApe2NvbnN0IGU9dC0yLHM9dGhpcy5tX2VuZEluZGljZXNVbmlxdWVbZV0saT10aGlzLm1fZW5kSW5kaWNlc1VuaXF1ZVtlKzFdO3JldHVybi41Kih0aGlzLmdldFZhbHVlXyhzKSt0aGlzLmdldFZhbHVlXyhpKSl9Y29uc3QgZT0tdC0yLHM9dGhpcy5tX2VuZEluZGljZXNVbmlxdWVbZV07cmV0dXJuIHRoaXMuZ2V0VmFsdWVfKHMpfWNhbGN1bGF0ZURpc2NyaW1pbmFudEluZGV4MV8odCxlKXtsZXQgcztpZih0PGUpe3M9dCsoZS10Pj4xKSsyfWVsc2Ugcz0tKHQrMik7cmV0dXJuIHN9c2V0RGlzY3JpbWluYW50SW5kZXgxXyh0LGUpe3RoaXMubV90ZXJ0aWFyeU5vZGVzLnNldEZpZWxkKHQsMCxlKX1zZXRTZWNvbmRhcnlUb1RlcnRpYXJ5Xyh0LGUpe3RoaXMubV90ZXJ0aWFyeU5vZGVzLnNldEZpZWxkKHQsMSxlKX1zZXRMcHRyXyh0LGUpe3RoaXMubV90ZXJ0aWFyeU5vZGVzLnNldEZpZWxkKHQsMixlKX1zZXRScHRyXyh0LGUpe3RoaXMubV90ZXJ0aWFyeU5vZGVzLnNldEZpZWxkKHQsMyxlKX1zZXRQcHRyXyh0LGUpe3RoaXMubV90ZXJ0aWFyeU5vZGVzLnNldEZpZWxkKHQsNCxlKX1zZXRTZWNvbmRhcnlUb0ludGVydmFsXyh0LGUpe3RoaXMubV9pbnRlcnZhbE5vZGVzLnNldEZpZWxkKHQsMCxlKX1hZGRFbmRJbmRleF8odCxlKXtsZXQgcz0tMTtyZXR1cm4gcz10aGlzLm1fYk9mZmxpbmVEeW5hbWljP3RoaXMubV9zZWNvbmRhcnlUcmVhcHMuYWRkRWxlbWVudChlLHQpOnRoaXMubV9zZWNvbmRhcnlMaXN0cy5hZGRFbGVtZW50KHQsZSksc31zZXRMZWZ0RW5kXyh0LGUpe3RoaXMubV9pbnRlcnZhbE5vZGVzLnNldEZpZWxkKHQsMSxlKX1zZXRSaWdodEVuZF8odCxlKXt0aGlzLm1faW50ZXJ2YWxOb2Rlcy5zZXRGaWVsZCh0LDIsZSl9Z2V0Rmlyc3RfKHQpe3JldHVybiB0aGlzLm1fYk9mZmxpbmVEeW5hbWljP3RoaXMubV9zZWNvbmRhcnlUcmVhcHMuZ2V0Rmlyc3QodCk6dGhpcy5tX3NlY29uZGFyeUxpc3RzLmdldEZpcnN0KHQpfWdldExhc3RfKHQpe3JldHVybiB0aGlzLm1fYk9mZmxpbmVEeW5hbWljP3RoaXMubV9zZWNvbmRhcnlUcmVhcHMuZ2V0TGFzdCh0KTp0aGlzLm1fc2Vjb25kYXJ5TGlzdHMuZ2V0TGFzdCh0KX1zdGF0aWMgaXNMZWZ0Xyh0KXtyZXR1cm4hKDEmdCl9c3RhdGljIGlzUmlnaHRfKHQpe3JldHVybiEoMSZ+dCl9Z2V0RGlzY3JpbWluYW50SW5kZXgxXyh0KXtyZXR1cm4gdGhpcy5tX3RlcnRpYXJ5Tm9kZXMuZ2V0RmllbGQodCwwKX1nZXRTZWNvbmRhcnlGcm9tVGVydGlhcnlfKHQpe3JldHVybiB0aGlzLm1fdGVydGlhcnlOb2Rlcy5nZXRGaWVsZCh0LDEpfWdldExwdHJfKHQpe3JldHVybiB0aGlzLm1fdGVydGlhcnlOb2Rlcy5nZXRGaWVsZCh0LDIpfWdldFJwdHJfKHQpe3JldHVybiB0aGlzLm1fdGVydGlhcnlOb2Rlcy5nZXRGaWVsZCh0LDMpfWdldFBwdHJfKHQpe3JldHVybiB0aGlzLm1fdGVydGlhcnlOb2Rlcy5nZXRGaWVsZCh0LDQpfWdldFNlY29uZGFyeUZyb21JbnRlcnZhbF8odCl7cmV0dXJuIHRoaXMubV9pbnRlcnZhbE5vZGVzLmdldEZpZWxkKHQsMCl9Z2V0TGVmdEVuZF8odCl7cmV0dXJuIHRoaXMubV9pbnRlcnZhbE5vZGVzLmdldEZpZWxkKHQsMSl9Z2V0UmlnaHRFbmRfKHQpe3JldHVybiB0aGlzLm1faW50ZXJ2YWxOb2Rlcy5nZXRGaWVsZCh0LDIpfWdldE1pbl8odCl7cmV0dXJuIHRoaXMubV9iRW52ZWxvcGVzUmVmP3RoaXMubV9lbnZlbG9wZXNSZWZbdF0ueG1pbjp0aGlzLm1faW50ZXJ2YWxzW3RdLnZtaW59Z2V0TWF4Xyh0KXtyZXR1cm4gdGhpcy5tX2JFbnZlbG9wZXNSZWY/dGhpcy5tX2VudmVsb3Blc1JlZlt0XS54bWF4OnRoaXMubV9pbnRlcnZhbHNbdF0udm1heH1zb3J0RW5kSW5kaWNlc18odCxlLHMpe2NvbnN0IGk9dGhpcyxuPXt1c2VyU29ydCh0LGUscyl7aS5zb3J0RW5kSW5kaWNlc0hlbHBlcl8ocyx0LGUpfSxnZXRWYWx1ZTp0PT5pLmdldFZhbHVlXyh0KX07KG5ldyBvdCkuc29ydCh0LGUscyxuKX1zb3J0RW5kSW5kaWNlc0hlbHBlcl8odCxlLHMpe3Quc29ydChlLHMsKCh0LGUpPT57Y29uc3Qgcz10aGlzLmdldFZhbHVlXyh0KSxpPXRoaXMuZ2V0VmFsdWVfKGUpO3JldHVybiBzPGl8fHM9PT1pJiZmdC5pc0xlZnRfKHQpJiZmdC5pc1JpZ2h0XyhlKT8tMToxfSkpfWdldFZhbHVlXyh0KXtpZighdGhpcy5tX2JFbnZlbG9wZXNSZWYpe2NvbnN0IGU9dGhpcy5tX2ludGVydmFsc1t0Pj4xXTtyZXR1cm4gZnQuaXNMZWZ0Xyh0KT9lLnZtaW46ZS52bWF4fWNvbnN0IGU9dGhpcy5tX2VudmVsb3Blc1JlZlt0Pj4xXTtyZXR1cm4gZnQuaXNMZWZ0Xyh0KT9lLnhtaW46ZS54bWF4fX1jbGFzcyB2dHtjb25zdHJ1Y3Rvcih0LGUscyl7dGhpcy5tX3F1ZXJ5PXIuY29uc3RydWN0RW1wdHkoKSx0aGlzLm1fdGVydGlhcnlIYW5kbGU9LTEsdGhpcy5tX25leHRUZXJ0aWFyeUhhbmRsZT0tMSx0aGlzLm1fZm9ya2VkSGFuZGxlPS0xLHRoaXMubV9jdXJyZW50RW5kSGFuZGxlPS0xLHRoaXMubV9uZXh0RW5kSGFuZGxlPS0xLHRoaXMubV90ZXJ0aWFyeVN0YWNrPVtdLHRoaXMubV9mdW5jdGlvbkluZGV4PTAsdGhpcy5tX2ludGVydmFsVHJlZT10LHRoaXMubV9mdW5jdGlvblN0YWNrPW5ldyBBcnJheSgyKSx0aGlzLm1fZnVuY3Rpb25TdGFja1swXT10aGlzLm51bGxGdW5jXyx0aGlzLm1fZnVuY3Rpb25TdGFja1sxXT10aGlzLm51bGxGdW5jXyx2b2lkIDAhPT1lJiZ0aGlzLnJlc2V0SXRlcmF0b3IoZSxzKX1udWxsRnVuY18oKXtyZXR1cm4gYihcInNob3VsZCBub3QgYmUgY2FsbGVkXCIpLCExfXJlc2V0SXRlcmF0b3IodCxlKXtpZihcIm51bWJlclwiPT10eXBlb2YgdCl7Y29uc3Qgcz1uZXcgcjtzLnNldENvb3Jkcyh0LHQpLHRoaXMucmVzZXRJdGVyYXRvcihzLGUpfWVsc2Ugdm9pZCAwPT09ZSYmKGU9MCksdGhpcy5tX3F1ZXJ5LnZtaW49dC52bWluLWUsdGhpcy5tX3F1ZXJ5LnZtYXg9dC52bWF4K2UsdGhpcy5tX3RlcnRpYXJ5U3RhY2subGVuZ3RoPTAsdGhpcy5tX2Z1bmN0aW9uSW5kZXg9MCx0aGlzLm1fZnVuY3Rpb25TdGFja1swXT10aGlzLmluaXRpYWxpemVffW5leHQoKXtpZih0aGlzLm1faW50ZXJ2YWxUcmVlLm1fYkNvbnN0cnVjdGlvbkVuZGVkfHxOKFwiXCIpLHRoaXMubV9mdW5jdGlvbkluZGV4PDApcmV0dXJuLTE7Zm9yKDt0aGlzLm1fZmk9dGhpcy5tX2Z1bmN0aW9uU3RhY2tbdGhpcy5tX2Z1bmN0aW9uSW5kZXhdLHRoaXMubV9maSgpOyk7cmV0dXJuLTEhPT10aGlzLm1fY3VycmVudEVuZEhhbmRsZT90aGlzLmdldEN1cnJlbnRFbmRJbmRleF8oKT4+MTotMX1pbml0aWFsaXplXygpe3JldHVybiB0aGlzLm1fdGVydGlhcnlIYW5kbGU9LTEsdGhpcy5tX25leHRUZXJ0aWFyeUhhbmRsZT0tMSx0aGlzLm1fZm9ya2VkSGFuZGxlPS0xLHRoaXMubV9jdXJyZW50RW5kSGFuZGxlPS0xLHRoaXMubV9pbnRlcnZhbFRyZWUubV90ZXJ0aWFyeU5vZGVzLnNpemUoKT4wPyh0aGlzLm1fZnVuY3Rpb25TdGFja1swXT10aGlzLnBJbl8sdGhpcy5tX25leHRUZXJ0aWFyeUhhbmRsZT10aGlzLm1faW50ZXJ2YWxUcmVlLm1fcm9vdCwhMCk6KHRoaXMubV9mdW5jdGlvbkluZGV4PS0xLCExKX1wSW5fKCl7aWYodGhpcy5tX3RlcnRpYXJ5SGFuZGxlPXRoaXMubV9uZXh0VGVydGlhcnlIYW5kbGUsLTE9PT10aGlzLm1fdGVydGlhcnlIYW5kbGUpcmV0dXJuIHRoaXMubV9mdW5jdGlvbkluZGV4PS0xLHRoaXMubV9jdXJyZW50RW5kSGFuZGxlPS0xLCExO2NvbnN0IHQ9dGhpcy5tX2ludGVydmFsVHJlZS5nZXREaXNjcmltaW5hbnRfKHRoaXMubV90ZXJ0aWFyeUhhbmRsZSk7aWYodGhpcy5tX3F1ZXJ5LnZtYXg8dCl7Y29uc3QgdD10aGlzLm1faW50ZXJ2YWxUcmVlLmdldFNlY29uZGFyeUZyb21UZXJ0aWFyeV8odGhpcy5tX3RlcnRpYXJ5SGFuZGxlKTtyZXR1cm4gdGhpcy5tX25leHRUZXJ0aWFyeUhhbmRsZT10aGlzLm1faW50ZXJ2YWxUcmVlLmdldExwdHJfKHRoaXMubV90ZXJ0aWFyeUhhbmRsZSksLTEhPT10JiYodGhpcy5tX25leHRFbmRIYW5kbGU9dGhpcy5tX2ludGVydmFsVHJlZS5nZXRGaXJzdF8odCksdGhpcy5tX2Z1bmN0aW9uU3RhY2tbKyt0aGlzLm1fZnVuY3Rpb25JbmRleF09dGhpcy5sZWZ0XyksITB9aWYodDx0aGlzLm1fcXVlcnkudm1pbil7Y29uc3QgdD10aGlzLm1faW50ZXJ2YWxUcmVlLmdldFNlY29uZGFyeUZyb21UZXJ0aWFyeV8odGhpcy5tX3RlcnRpYXJ5SGFuZGxlKTtyZXR1cm4gdGhpcy5tX25leHRUZXJ0aWFyeUhhbmRsZT10aGlzLm1faW50ZXJ2YWxUcmVlLmdldFJwdHJfKHRoaXMubV90ZXJ0aWFyeUhhbmRsZSksLTEhPT10JiYodGhpcy5tX25leHRFbmRIYW5kbGU9dGhpcy5tX2ludGVydmFsVHJlZS5nZXRMYXN0Xyh0KSx0aGlzLm1fZnVuY3Rpb25TdGFja1srK3RoaXMubV9mdW5jdGlvbkluZGV4XT10aGlzLnJpZ2h0XyksITB9dGhpcy5tX2Z1bmN0aW9uU3RhY2tbdGhpcy5tX2Z1bmN0aW9uSW5kZXhdPXRoaXMucExfLHRoaXMubV9mb3JrZWRIYW5kbGU9dGhpcy5tX3RlcnRpYXJ5SGFuZGxlO2NvbnN0IGU9dGhpcy5tX2ludGVydmFsVHJlZS5nZXRTZWNvbmRhcnlGcm9tVGVydGlhcnlfKHRoaXMubV90ZXJ0aWFyeUhhbmRsZSk7cmV0dXJuIHRoaXMubV9uZXh0VGVydGlhcnlIYW5kbGU9dGhpcy5tX2ludGVydmFsVHJlZS5nZXRMcHRyXyh0aGlzLm1fdGVydGlhcnlIYW5kbGUpLC0xIT09ZSYmKHRoaXMubV9uZXh0RW5kSGFuZGxlPXRoaXMubV9pbnRlcnZhbFRyZWUuZ2V0Rmlyc3RfKGUpLHRoaXMubV9mdW5jdGlvblN0YWNrWysrdGhpcy5tX2Z1bmN0aW9uSW5kZXhdPXRoaXMuYWxsXyksITB9cExfKCl7aWYodGhpcy5tX3RlcnRpYXJ5SGFuZGxlPXRoaXMubV9uZXh0VGVydGlhcnlIYW5kbGUsLTE9PT10aGlzLm1fdGVydGlhcnlIYW5kbGUpcmV0dXJuIHRoaXMubV9mdW5jdGlvblN0YWNrW3RoaXMubV9mdW5jdGlvbkluZGV4XT10aGlzLnBSXyx0aGlzLm1fbmV4dFRlcnRpYXJ5SGFuZGxlPXRoaXMubV9pbnRlcnZhbFRyZWUuZ2V0UnB0cl8odGhpcy5tX2ZvcmtlZEhhbmRsZSksITA7aWYodGhpcy5tX2ludGVydmFsVHJlZS5nZXREaXNjcmltaW5hbnRfKHRoaXMubV90ZXJ0aWFyeUhhbmRsZSk8dGhpcy5tX3F1ZXJ5LnZtaW4pe2NvbnN0IHQ9dGhpcy5tX2ludGVydmFsVHJlZS5nZXRTZWNvbmRhcnlGcm9tVGVydGlhcnlfKHRoaXMubV90ZXJ0aWFyeUhhbmRsZSk7cmV0dXJuIHRoaXMubV9uZXh0VGVydGlhcnlIYW5kbGU9dGhpcy5tX2ludGVydmFsVHJlZS5nZXRScHRyXyh0aGlzLm1fdGVydGlhcnlIYW5kbGUpLC0xIT09dCYmKHRoaXMubV9uZXh0RW5kSGFuZGxlPXRoaXMubV9pbnRlcnZhbFRyZWUuZ2V0TGFzdF8odCksdGhpcy5tX2Z1bmN0aW9uU3RhY2tbKyt0aGlzLm1fZnVuY3Rpb25JbmRleF09dGhpcy5yaWdodF8pLCEwfWNvbnN0IHQ9dGhpcy5tX2ludGVydmFsVHJlZS5nZXRTZWNvbmRhcnlGcm9tVGVydGlhcnlfKHRoaXMubV90ZXJ0aWFyeUhhbmRsZSk7dGhpcy5tX25leHRUZXJ0aWFyeUhhbmRsZT10aGlzLm1faW50ZXJ2YWxUcmVlLmdldExwdHJfKHRoaXMubV90ZXJ0aWFyeUhhbmRsZSksLTEhPT10JiYodGhpcy5tX25leHRFbmRIYW5kbGU9dGhpcy5tX2ludGVydmFsVHJlZS5nZXRGaXJzdF8odCksdGhpcy5tX2Z1bmN0aW9uU3RhY2tbKyt0aGlzLm1fZnVuY3Rpb25JbmRleF09dGhpcy5hbGxfKTtjb25zdCBlPXRoaXMubV9pbnRlcnZhbFRyZWUuZ2V0UnB0cl8odGhpcy5tX3RlcnRpYXJ5SGFuZGxlKTtyZXR1cm4tMSE9PWUmJnRoaXMubV90ZXJ0aWFyeVN0YWNrLnB1c2goZSksITB9cFJfKCl7aWYodGhpcy5tX3RlcnRpYXJ5SGFuZGxlPXRoaXMubV9uZXh0VGVydGlhcnlIYW5kbGUsLTE9PT10aGlzLm1fdGVydGlhcnlIYW5kbGUpcmV0dXJuIHRoaXMubV9mdW5jdGlvblN0YWNrW3RoaXMubV9mdW5jdGlvbkluZGV4XT10aGlzLnBUXywhMDtjb25zdCB0PXRoaXMubV9pbnRlcnZhbFRyZWUuZ2V0RGlzY3JpbWluYW50Xyh0aGlzLm1fdGVydGlhcnlIYW5kbGUpO2lmKHRoaXMubV9xdWVyeS52bWF4PHQpe2NvbnN0IHQ9dGhpcy5tX2ludGVydmFsVHJlZS5nZXRTZWNvbmRhcnlGcm9tVGVydGlhcnlfKHRoaXMubV90ZXJ0aWFyeUhhbmRsZSk7cmV0dXJuIHRoaXMubV9uZXh0VGVydGlhcnlIYW5kbGU9dGhpcy5tX2ludGVydmFsVHJlZS5nZXRMcHRyXyh0aGlzLm1fdGVydGlhcnlIYW5kbGUpLC0xIT09dCYmKHRoaXMubV9uZXh0RW5kSGFuZGxlPXRoaXMubV9pbnRlcnZhbFRyZWUuZ2V0Rmlyc3RfKHQpLHRoaXMubV9mdW5jdGlvblN0YWNrWysrdGhpcy5tX2Z1bmN0aW9uSW5kZXhdPXRoaXMubGVmdF8pLCEwfWNvbnN0IGU9dGhpcy5tX2ludGVydmFsVHJlZS5nZXRTZWNvbmRhcnlGcm9tVGVydGlhcnlfKHRoaXMubV90ZXJ0aWFyeUhhbmRsZSk7dGhpcy5tX25leHRUZXJ0aWFyeUhhbmRsZT10aGlzLm1faW50ZXJ2YWxUcmVlLmdldFJwdHJfKHRoaXMubV90ZXJ0aWFyeUhhbmRsZSksLTEhPT1lJiYodGhpcy5tX25leHRFbmRIYW5kbGU9dGhpcy5tX2ludGVydmFsVHJlZS5nZXRGaXJzdF8oZSksdGhpcy5tX2Z1bmN0aW9uU3RhY2tbKyt0aGlzLm1fZnVuY3Rpb25JbmRleF09dGhpcy5hbGxfKTtjb25zdCBzPXRoaXMubV9pbnRlcnZhbFRyZWUuZ2V0THB0cl8odGhpcy5tX3RlcnRpYXJ5SGFuZGxlKTtyZXR1cm4tMSE9PXMmJnRoaXMubV90ZXJ0aWFyeVN0YWNrLnB1c2gocyksITB9cFRfKCl7aWYoMD09PXRoaXMubV90ZXJ0aWFyeVN0YWNrLmxlbmd0aClyZXR1cm4gdGhpcy5tX2Z1bmN0aW9uSW5kZXg9LTEsdGhpcy5tX2N1cnJlbnRFbmRIYW5kbGU9LTEsITE7dGhpcy5tX3RlcnRpYXJ5SGFuZGxlPXRoaXMubV90ZXJ0aWFyeVN0YWNrLmF0KC0xKSx0aGlzLm1fdGVydGlhcnlTdGFjay5wb3AoKTtjb25zdCB0PXRoaXMubV9pbnRlcnZhbFRyZWUuZ2V0U2Vjb25kYXJ5RnJvbVRlcnRpYXJ5Xyh0aGlzLm1fdGVydGlhcnlIYW5kbGUpO3JldHVybi0xIT09dCYmKHRoaXMubV9uZXh0RW5kSGFuZGxlPXRoaXMubV9pbnRlcnZhbFRyZWUuZ2V0Rmlyc3RfKHQpLHRoaXMubV9mdW5jdGlvblN0YWNrWysrdGhpcy5tX2Z1bmN0aW9uSW5kZXhdPXRoaXMuYWxsXyksLTEhPT10aGlzLm1faW50ZXJ2YWxUcmVlLmdldExwdHJfKHRoaXMubV90ZXJ0aWFyeUhhbmRsZSkmJnRoaXMubV90ZXJ0aWFyeVN0YWNrLnB1c2godGhpcy5tX2ludGVydmFsVHJlZS5nZXRMcHRyXyh0aGlzLm1fdGVydGlhcnlIYW5kbGUpKSwtMSE9PXRoaXMubV9pbnRlcnZhbFRyZWUuZ2V0UnB0cl8odGhpcy5tX3RlcnRpYXJ5SGFuZGxlKSYmdGhpcy5tX3RlcnRpYXJ5U3RhY2sucHVzaCh0aGlzLm1faW50ZXJ2YWxUcmVlLmdldFJwdHJfKHRoaXMubV90ZXJ0aWFyeUhhbmRsZSkpLCEwfWxlZnRfKCl7cmV0dXJuIHRoaXMubV9jdXJyZW50RW5kSGFuZGxlPXRoaXMubV9uZXh0RW5kSGFuZGxlLC0xIT09dGhpcy5tX2N1cnJlbnRFbmRIYW5kbGUmJmZ0LmlzTGVmdF8odGhpcy5nZXRDdXJyZW50RW5kSW5kZXhfKCkpJiZ0aGlzLm1faW50ZXJ2YWxUcmVlLmdldFZhbHVlXyh0aGlzLmdldEN1cnJlbnRFbmRJbmRleF8oKSk8PXRoaXMubV9xdWVyeS52bWF4Pyh0aGlzLm1fbmV4dEVuZEhhbmRsZT10aGlzLmdldE5leHRfKCksITEpOih0aGlzLm1fZnVuY3Rpb25JbmRleC0tLCEwKX1yaWdodF8oKXtyZXR1cm4gdGhpcy5tX2N1cnJlbnRFbmRIYW5kbGU9dGhpcy5tX25leHRFbmRIYW5kbGUsLTEhPT10aGlzLm1fY3VycmVudEVuZEhhbmRsZSYmZnQuaXNSaWdodF8odGhpcy5nZXRDdXJyZW50RW5kSW5kZXhfKCkpJiZ0aGlzLm1faW50ZXJ2YWxUcmVlLmdldFZhbHVlXyh0aGlzLmdldEN1cnJlbnRFbmRJbmRleF8oKSk+PXRoaXMubV9xdWVyeS52bWluPyh0aGlzLm1fbmV4dEVuZEhhbmRsZT10aGlzLmdldFByZXZfKCksITEpOih0aGlzLm1fZnVuY3Rpb25JbmRleC0tLCEwKX1hbGxfKCl7cmV0dXJuIHRoaXMubV9jdXJyZW50RW5kSGFuZGxlPXRoaXMubV9uZXh0RW5kSGFuZGxlLC0xIT09dGhpcy5tX2N1cnJlbnRFbmRIYW5kbGUmJmZ0LmlzTGVmdF8odGhpcy5nZXRDdXJyZW50RW5kSW5kZXhfKCkpPyh0aGlzLm1fbmV4dEVuZEhhbmRsZT10aGlzLmdldE5leHRfKCksITEpOih0aGlzLm1fZnVuY3Rpb25JbmRleC0tLCEwKX1nZXROZXh0Xygpe3JldHVybiB0aGlzLm1faW50ZXJ2YWxUcmVlLm1fYk9mZmxpbmVEeW5hbWljP3RoaXMubV9pbnRlcnZhbFRyZWUubV9zZWNvbmRhcnlUcmVhcHMuZ2V0TmV4dCh0aGlzLm1fY3VycmVudEVuZEhhbmRsZSk6dGhpcy5tX2ludGVydmFsVHJlZS5tX3NlY29uZGFyeUxpc3RzLmdldE5leHQodGhpcy5tX2N1cnJlbnRFbmRIYW5kbGUpfWdldFByZXZfKCl7cmV0dXJuIHRoaXMubV9pbnRlcnZhbFRyZWUubV9iT2ZmbGluZUR5bmFtaWM/dGhpcy5tX2ludGVydmFsVHJlZS5tX3NlY29uZGFyeVRyZWFwcy5nZXRQcmV2KHRoaXMubV9jdXJyZW50RW5kSGFuZGxlKTp0aGlzLm1faW50ZXJ2YWxUcmVlLm1fc2Vjb25kYXJ5TGlzdHMuZ2V0UHJldih0aGlzLm1fY3VycmVudEVuZEhhbmRsZSl9Z2V0Q3VycmVudEVuZEluZGV4Xygpe3JldHVybiB0aGlzLm1faW50ZXJ2YWxUcmVlLm1fYk9mZmxpbmVEeW5hbWljP3RoaXMubV9pbnRlcnZhbFRyZWUubV9zZWNvbmRhcnlUcmVhcHMuZ2V0RWxlbWVudCh0aGlzLm1fY3VycmVudEVuZEhhbmRsZSk6dGhpcy5tX2ludGVydmFsVHJlZS5tX3NlY29uZGFyeUxpc3RzLmdldERhdGEodGhpcy5tX2N1cnJlbnRFbmRIYW5kbGUpfX1jbGFzcyB5dHtjb25zdHJ1Y3Rvcigpe3RoaXMubV90b2xlcmFuY2U9MCx0aGlzLm1fc3dlZXBJbmRleFJlZD0tMSx0aGlzLm1fc3dlZXBJbmRleEJsdWU9LTEsdGhpcy5tX2VudmVsb3BlSGFuZGxlQT0tMSx0aGlzLm1fZW52ZWxvcGVIYW5kbGVCPS0xLHRoaXMubV9pbnRlcnZhbFRyZWVSZWQ9bnVsbCx0aGlzLm1faW50ZXJ2YWxUcmVlQmx1ZT1udWxsLHRoaXMubV9pdGVyYXRvclJlZD1udWxsLHRoaXMubV9pdGVyYXRvckJsdWU9bnVsbCx0aGlzLm1fZW52ZWxvcGVzUmVkPVtdLHRoaXMubV9lbnZlbG9wZXNCbHVlPVtdLHRoaXMubV9lbGVtZW50c1JlZD1bXSx0aGlzLm1fZWxlbWVudHNCbHVlPVtdLHRoaXMubV9zb3J0ZWRFbmRJbmRpY2VzUmVkPW5ldyBzdCgwKSx0aGlzLm1fc29ydGVkRW5kSW5kaWNlc0JsdWU9bmV3IHN0KDApLHRoaXMubV9xdWV1ZWRMaXN0UmVkPS0xLHRoaXMubV9xdWV1ZWRMaXN0Qmx1ZT0tMSx0aGlzLm1fcXVldWVkRW52ZWxvcGVzPW5ldyBwdCx0aGlzLm1fcXVldWVkSW5kaWNlc1JlZD1bXSx0aGlzLm1fcXVldWVkSW5kaWNlc0JsdWU9W10sdGhpcy5tX2JBZGRSZWQ9ITEsdGhpcy5tX2JBZGRCbHVlPSExLHRoaXMubV9iQWRkUmVkUmVkPSExLHRoaXMubV9iRG9uZT0hMCx0aGlzLm1fZnVuY3Rpb249dGhpcy5udWxsRnVuY18sdGhpcy5yZXNldF8oKX1zdGFydENvbnN0cnVjdGlvbigpe3RoaXMucmVzZXRfKCksdGhpcy5tX2JBZGRSZWRSZWQ9ITAsdGhpcy5tX2VsZW1lbnRzUmVkLmxlbmd0aD0wLHRoaXMubV9lbnZlbG9wZXNSZWQubGVuZ3RoPTB9YWRkRW52ZWxvcGUodCxlKXt0aGlzLm1fYkFkZFJlZFJlZHx8TihcIlwiKSx0aGlzLm1fZWxlbWVudHNSZWQucHVzaCh0KSx0aGlzLm1fZW52ZWxvcGVzUmVkLnB1c2gobmV3IHAoZSkpfWVuZENvbnN0cnVjdGlvbigpe3RoaXMubV9iQWRkUmVkUmVkfHxOKFwiXCIpLHRoaXMubV9iQWRkUmVkUmVkPSExLHRoaXMubV9lbnZlbG9wZXNSZWQubGVuZ3RoPjAmJih0aGlzLm1fZnVuY3Rpb249dGhpcy5pbml0aWFsaXplXyx0aGlzLm1fYkRvbmU9ITEpfXN0YXJ0UmVkQ29uc3RydWN0aW9uKCl7dGhpcy5yZXNldF8oKSx0aGlzLm1fYkFkZFJlZD0hMCx0aGlzLm1fZWxlbWVudHNSZWQubGVuZ3RoPTAsdGhpcy5tX2VudmVsb3Blc1JlZC5sZW5ndGg9MH1hZGRSZWRFbnZlbG9wZSh0LGUpe3RoaXMubV9iQWRkUmVkfHxOKFwiXCIpLHRoaXMubV9lbGVtZW50c1JlZC5wdXNoKHQpLHRoaXMubV9lbnZlbG9wZXNSZWQucHVzaChlLmNsb25lKCkpfWVuZFJlZENvbnN0cnVjdGlvbigpe3RoaXMubV9iQWRkUmVkfHxOKFwiXCIpLHRoaXMubV9iQWRkUmVkPSExLHRoaXMubV9lbnZlbG9wZXNSZWQubGVuZ3RoPjAmJnRoaXMubV9lbnZlbG9wZXNCbHVlLmxlbmd0aD4wJiYodGhpcy5tX2Z1bmN0aW9uPT09dGhpcy5udWxsRnVuY198fHRoaXMubV9mdW5jdGlvbj09PXRoaXMuaW5pdGlhbGl6ZUJsdWVfP3RoaXMubV9mdW5jdGlvbj10aGlzLmluaXRpYWxpemVSZWRCbHVlXzp0aGlzLm1fZnVuY3Rpb24hPT10aGlzLmluaXRpYWxpemVSZWRCbHVlXyYmKHRoaXMubV9mdW5jdGlvbj10aGlzLmluaXRpYWxpemVSZWRfKSx0aGlzLm1fYkRvbmU9ITEpfXN0YXJ0Qmx1ZUNvbnN0cnVjdGlvbigpe3RoaXMucmVzZXRfKCksdGhpcy5tX2JBZGRCbHVlPSEwLHRoaXMubV9lbGVtZW50c0JsdWUubGVuZ3RoPTAsdGhpcy5tX2VudmVsb3Blc0JsdWUubGVuZ3RoPTB9YWRkQmx1ZUVudmVsb3BlKHQsZSl7dGhpcy5tX2JBZGRCbHVlfHxOKFwiXCIpLHRoaXMubV9lbGVtZW50c0JsdWUucHVzaCh0KSx0aGlzLm1fZW52ZWxvcGVzQmx1ZS5wdXNoKGUuY2xvbmUoKSl9ZW5kQmx1ZUNvbnN0cnVjdGlvbigpe3RoaXMubV9iQWRkQmx1ZXx8TihcIlwiKSx0aGlzLm1fYkFkZEJsdWU9ITEsdGhpcy5tX2VudmVsb3Blc1JlZC5sZW5ndGg+MCYmdGhpcy5tX2VudmVsb3Blc0JsdWUubGVuZ3RoPjAmJih0aGlzLm1fZnVuY3Rpb249PT10aGlzLm51bGxGdW5jX3x8dGhpcy5tX2Z1bmN0aW9uPT09dGhpcy5pbml0aWFsaXplUmVkXz90aGlzLm1fZnVuY3Rpb249dGhpcy5pbml0aWFsaXplUmVkQmx1ZV86dGhpcy5tX2Z1bmN0aW9uIT09dGhpcy5pbml0aWFsaXplUmVkQmx1ZV8mJih0aGlzLm1fZnVuY3Rpb249dGhpcy5pbml0aWFsaXplQmx1ZV8pLHRoaXMubV9iRG9uZT0hMSl9bmV4dCgpe2lmKHRoaXMubV9iRG9uZSlyZXR1cm4hMTtmb3IoO3RoaXMubV9mdW5jdGlvbigpOyk7cmV0dXJuIXRoaXMubV9iRG9uZX1nZXRIYW5kbGVBKCl7cmV0dXJuIHRoaXMubV9lbnZlbG9wZUhhbmRsZUF9Z2V0SGFuZGxlQigpe3JldHVybiB0aGlzLm1fZW52ZWxvcGVIYW5kbGVCfXNldFRvbGVyYW5jZSh0KXt0aGlzLm1fdG9sZXJhbmNlPXR9Z2V0RWxlbWVudCh0KXtyZXR1cm4gdGhpcy5tX2VsZW1lbnRzUmVkW3RdfWdldFJlZEVudmVsb3BlKHQpe3JldHVybiB0aGlzLm1fZW52ZWxvcGVzUmVkW3RdfWdldEJsdWVFbnZlbG9wZSh0KXtyZXR1cm4gdGhpcy5tX2VudmVsb3Blc0JsdWVbdF19Z2V0UmVkRWxlbWVudCh0KXtyZXR1cm4gdGhpcy5tX2VsZW1lbnRzUmVkW3RdfWdldEJsdWVFbGVtZW50KHQpe3JldHVybiB0aGlzLm1fZWxlbWVudHNCbHVlW3RdfWlzVG9wXyh0KXtyZXR1cm4hKDEmfnQpfWlzQm90dG9tXyh0KXtyZXR1cm4hKDEmdCl9cmVzZXRfKCl7dGhpcy5tX2JBZGRSZWQ9ITEsdGhpcy5tX2JBZGRCbHVlPSExLHRoaXMubV9iQWRkUmVkUmVkPSExLHRoaXMubV9zd2VlcEluZGV4UmVkPS0xLHRoaXMubV9zd2VlcEluZGV4Qmx1ZT0tMSx0aGlzLm1fcXVldWVkTGlzdFJlZD0tMSx0aGlzLm1fcXVldWVkTGlzdEJsdWU9LTEsdGhpcy5tX2JEb25lPSEwfWluaXRpYWxpemVfKCl7aWYodGhpcy5tX2VudmVsb3BlSGFuZGxlQT0tMSx0aGlzLm1fZW52ZWxvcGVIYW5kbGVCPS0xLHRoaXMubV9lbnZlbG9wZXNSZWQubGVuZ3RoPDEwKXJldHVybiB0aGlzLm1fc3dlZXBJbmRleFJlZD10aGlzLm1fZW52ZWxvcGVzUmVkLmxlbmd0aCx0aGlzLm1fZnVuY3Rpb249dGhpcy5zd2VlcEJydXRlRm9yY2VfLCEwO3RoaXMubV9pbnRlcnZhbFRyZWVSZWR8fCh0aGlzLm1faW50ZXJ2YWxUcmVlUmVkPW5ldyBmdCghMCkpLHRoaXMubV9pbnRlcnZhbFRyZWVSZWQuYWRkRW52ZWxvcGVzUmVmKHRoaXMubV9lbnZlbG9wZXNSZWQpLG51bGw9PT10aGlzLm1faXRlcmF0b3JSZWQmJih0aGlzLm1faXRlcmF0b3JSZWQ9dGhpcy5tX2ludGVydmFsVHJlZVJlZC5nZXRJdGVyYXRvcigpKSx0aGlzLm1fc29ydGVkRW5kSW5kaWNlc1JlZC5yZXNpemUoMCk7Zm9yKGxldCB0PTA7dDwyKnRoaXMubV9lbnZlbG9wZXNSZWQubGVuZ3RoO3QrKyl0aGlzLm1fc29ydGVkRW5kSW5kaWNlc1JlZC5hZGQodCk7cmV0dXJuIHRoaXMuc29ydFlFbmRJbmRpY2VzXyh0aGlzLm1fc29ydGVkRW5kSW5kaWNlc1JlZCwwLDIqdGhpcy5tX2VudmVsb3Blc1JlZC5sZW5ndGgsITApLHRoaXMubV9zd2VlcEluZGV4UmVkPTIqdGhpcy5tX2VudmVsb3Blc1JlZC5sZW5ndGgsdGhpcy5tX2Z1bmN0aW9uPXRoaXMuc3dlZXBfLCEwfWluaXRpYWxpemVSZWRfKCl7aWYodGhpcy5tX2VudmVsb3BlSGFuZGxlQT0tMSx0aGlzLm1fZW52ZWxvcGVIYW5kbGVCPS0xLHRoaXMubV9lbnZlbG9wZXNSZWQubGVuZ3RoPDEwfHx0aGlzLm1fZW52ZWxvcGVzQmx1ZS5sZW5ndGg8MTApcmV0dXJuIHRoaXMubV9zd2VlcEluZGV4UmVkPXRoaXMubV9lbnZlbG9wZXNSZWQubGVuZ3RoLHRoaXMubV9mdW5jdGlvbj10aGlzLnN3ZWVwUmVkQmx1ZUJydXRlRm9yY2VfLCEwO3RoaXMubV9pbnRlcnZhbFRyZWVSZWR8fCh0aGlzLm1faW50ZXJ2YWxUcmVlUmVkPW5ldyBmdCghMCkpLHRoaXMubV9pbnRlcnZhbFRyZWVSZWQuYWRkRW52ZWxvcGVzUmVmKHRoaXMubV9lbnZlbG9wZXNSZWQpLG51bGw9PT10aGlzLm1faXRlcmF0b3JSZWQmJih0aGlzLm1faXRlcmF0b3JSZWQ9dGhpcy5tX2ludGVydmFsVHJlZVJlZC5nZXRJdGVyYXRvcigpKSx0aGlzLm1fc29ydGVkRW5kSW5kaWNlc1JlZC5yZXNpemUoMCk7Zm9yKGxldCB0PTA7dDwyKnRoaXMubV9lbnZlbG9wZXNSZWQubGVuZ3RoO3QrKyl0aGlzLm1fc29ydGVkRW5kSW5kaWNlc1JlZC5hZGQodCk7cmV0dXJuIHRoaXMuc29ydFlFbmRJbmRpY2VzXyh0aGlzLm1fc29ydGVkRW5kSW5kaWNlc1JlZCwwLHRoaXMubV9zb3J0ZWRFbmRJbmRpY2VzUmVkLnNpemUoKSwhMCksdGhpcy5tX3N3ZWVwSW5kZXhSZWQ9dGhpcy5tX3NvcnRlZEVuZEluZGljZXNSZWQuc2l6ZSgpLC0xIT09dGhpcy5tX3F1ZXVlZExpc3RSZWQmJih0aGlzLm1fcXVldWVkRW52ZWxvcGVzLmRlbGV0ZUxpc3QodGhpcy5tX3F1ZXVlZExpc3RSZWQpLHRoaXMubV9xdWV1ZWRJbmRpY2VzUmVkLmxlbmd0aD0wLHRoaXMubV9xdWV1ZWRMaXN0UmVkPS0xKSx0aGlzLm1fZnVuY3Rpb249dGhpcy5zd2VlcFJlZEJsdWVfLHRoaXMucmVzZXRCbHVlXygpfWluaXRpYWxpemVCbHVlXygpe2lmKHRoaXMubV9lbnZlbG9wZUhhbmRsZUE9LTEsdGhpcy5tX2VudmVsb3BlSGFuZGxlQj0tMSx0aGlzLm1fZW52ZWxvcGVzUmVkLmxlbmd0aDwxMHx8dGhpcy5tX2VudmVsb3Blc0JsdWUubGVuZ3RoPDEwKXJldHVybiB0aGlzLm1fc3dlZXBJbmRleFJlZD10aGlzLm1fZW52ZWxvcGVzUmVkLmxlbmd0aCx0aGlzLm1fZnVuY3Rpb249dGhpcy5zd2VlcFJlZEJsdWVCcnV0ZUZvcmNlXywhMDt0aGlzLm1faW50ZXJ2YWxUcmVlQmx1ZXx8KHRoaXMubV9pbnRlcnZhbFRyZWVCbHVlPW5ldyBmdCghMCkpLHRoaXMubV9pbnRlcnZhbFRyZWVCbHVlLmFkZEVudmVsb3Blc1JlZih0aGlzLm1fZW52ZWxvcGVzQmx1ZSksbnVsbD09dGhpcy5tX2l0ZXJhdG9yQmx1ZSYmKHRoaXMubV9pdGVyYXRvckJsdWU9dGhpcy5tX2ludGVydmFsVHJlZUJsdWUuZ2V0SXRlcmF0b3IoKSksdGhpcy5tX3NvcnRlZEVuZEluZGljZXNCbHVlLnJlc2l6ZSgwKTtmb3IobGV0IHQ9MDt0PDIqdGhpcy5tX2VudmVsb3Blc0JsdWUubGVuZ3RoO3QrKyl0aGlzLm1fc29ydGVkRW5kSW5kaWNlc0JsdWUuYWRkKHQpO3JldHVybiB0aGlzLnNvcnRZRW5kSW5kaWNlc18odGhpcy5tX3NvcnRlZEVuZEluZGljZXNCbHVlLDAsdGhpcy5tX3NvcnRlZEVuZEluZGljZXNCbHVlLnNpemUoKSwhMSksdGhpcy5tX3N3ZWVwSW5kZXhCbHVlPXRoaXMubV9zb3J0ZWRFbmRJbmRpY2VzQmx1ZS5zaXplKCksLTEhPT10aGlzLm1fcXVldWVkTGlzdEJsdWUmJih0aGlzLm1fcXVldWVkRW52ZWxvcGVzLmRlbGV0ZUxpc3QodGhpcy5tX3F1ZXVlZExpc3RCbHVlKSx0aGlzLm1fcXVldWVkSW5kaWNlc0JsdWUubGVuZ3RoPTAsdGhpcy5tX3F1ZXVlZExpc3RCbHVlPS0xKSx0aGlzLm1fZnVuY3Rpb249dGhpcy5zd2VlcFJlZEJsdWVfLHRoaXMucmVzZXRSZWRfKCl9aW5pdGlhbGl6ZVJlZEJsdWVfKCl7aWYodGhpcy5tX2VudmVsb3BlSGFuZGxlQT0tMSx0aGlzLm1fZW52ZWxvcGVIYW5kbGVCPS0xLHRoaXMubV9lbnZlbG9wZXNSZWQubGVuZ3RoPDEwfHx0aGlzLm1fZW52ZWxvcGVzQmx1ZS5sZW5ndGg8MTApcmV0dXJuIHRoaXMubV9zd2VlcEluZGV4UmVkPXRoaXMubV9lbnZlbG9wZXNSZWQubGVuZ3RoLHRoaXMubV9mdW5jdGlvbj10aGlzLnN3ZWVwUmVkQmx1ZUJydXRlRm9yY2VfLCEwO3RoaXMubV9pbnRlcnZhbFRyZWVSZWR8fCh0aGlzLm1faW50ZXJ2YWxUcmVlUmVkPW5ldyBmdCghMCkpLHRoaXMubV9pbnRlcnZhbFRyZWVCbHVlfHwodGhpcy5tX2ludGVydmFsVHJlZUJsdWU9bmV3IGZ0KCEwKSksdGhpcy5tX2ludGVydmFsVHJlZVJlZC5hZGRFbnZlbG9wZXNSZWYodGhpcy5tX2VudmVsb3Blc1JlZCksdGhpcy5tX2ludGVydmFsVHJlZUJsdWUuYWRkRW52ZWxvcGVzUmVmKHRoaXMubV9lbnZlbG9wZXNCbHVlKSxudWxsPT09dGhpcy5tX2l0ZXJhdG9yUmVkJiYodGhpcy5tX2l0ZXJhdG9yUmVkPXRoaXMubV9pbnRlcnZhbFRyZWVSZWQuZ2V0SXRlcmF0b3IoKSksbnVsbD09PXRoaXMubV9pdGVyYXRvckJsdWUmJih0aGlzLm1faXRlcmF0b3JCbHVlPXRoaXMubV9pbnRlcnZhbFRyZWVCbHVlLmdldEl0ZXJhdG9yKCkpLHRoaXMubV9zb3J0ZWRFbmRJbmRpY2VzUmVkLnJlc2l6ZSgwKSx0aGlzLm1fc29ydGVkRW5kSW5kaWNlc0JsdWUucmVzaXplKDApO2ZvcihsZXQgdD0wO3Q8Mip0aGlzLm1fZW52ZWxvcGVzUmVkLmxlbmd0aDt0KyspdGhpcy5tX3NvcnRlZEVuZEluZGljZXNSZWQuYWRkKHQpO2ZvcihsZXQgdD0wO3Q8Mip0aGlzLm1fZW52ZWxvcGVzQmx1ZS5sZW5ndGg7dCsrKXRoaXMubV9zb3J0ZWRFbmRJbmRpY2VzQmx1ZS5hZGQodCk7cmV0dXJuIHRoaXMuc29ydFlFbmRJbmRpY2VzXyh0aGlzLm1fc29ydGVkRW5kSW5kaWNlc1JlZCwwLHRoaXMubV9zb3J0ZWRFbmRJbmRpY2VzUmVkLnNpemUoKSwhMCksdGhpcy5zb3J0WUVuZEluZGljZXNfKHRoaXMubV9zb3J0ZWRFbmRJbmRpY2VzQmx1ZSwwLHRoaXMubV9zb3J0ZWRFbmRJbmRpY2VzQmx1ZS5zaXplKCksITEpLHRoaXMubV9zd2VlcEluZGV4UmVkPXRoaXMubV9zb3J0ZWRFbmRJbmRpY2VzUmVkLnNpemUoKSx0aGlzLm1fc3dlZXBJbmRleEJsdWU9dGhpcy5tX3NvcnRlZEVuZEluZGljZXNCbHVlLnNpemUoKSwtMSE9PXRoaXMubV9xdWV1ZWRMaXN0UmVkJiYodGhpcy5tX3F1ZXVlZEVudmVsb3Blcy5kZWxldGVMaXN0KHRoaXMubV9xdWV1ZWRMaXN0UmVkKSx0aGlzLm1fcXVldWVkSW5kaWNlc1JlZC5sZW5ndGg9MCx0aGlzLm1fcXVldWVkTGlzdFJlZD0tMSksLTEhPT10aGlzLm1fcXVldWVkTGlzdEJsdWUmJih0aGlzLm1fcXVldWVkRW52ZWxvcGVzLmRlbGV0ZUxpc3QodGhpcy5tX3F1ZXVlZExpc3RCbHVlKSx0aGlzLm1fcXVldWVkSW5kaWNlc0JsdWUubGVuZ3RoPTAsdGhpcy5tX3F1ZXVlZExpc3RCbHVlPS0xKSx0aGlzLm1fZnVuY3Rpb249dGhpcy5zd2VlcFJlZEJsdWVfLCEwfXN3ZWVwXygpe2NvbnN0IHQ9dGhpcy5tX3NvcnRlZEVuZEluZGljZXNSZWQucmVhZCgtLXRoaXMubV9zd2VlcEluZGV4UmVkKSxlPXQ+PjE7aWYodGhpcy5pc0JvdHRvbV8odCkpcmV0dXJuIHRoaXMubV9pbnRlcnZhbFRyZWVSZWQucmVtb3ZlKGUpLDAhPT10aGlzLm1fc3dlZXBJbmRleFJlZHx8KHRoaXMubV9lbnZlbG9wZUhhbmRsZUE9LTEsdGhpcy5tX2VudmVsb3BlSGFuZGxlQj0tMSx0aGlzLm1fYkRvbmU9ITAsITEpO2NvbnN0IHM9ci5jb25zdHJ1Y3QodGhpcy5tX2VudmVsb3Blc1JlZFtlXS54bWluLHRoaXMubV9lbnZlbG9wZXNSZWRbZV0ueG1heCk7cmV0dXJuIHRoaXMubV9pdGVyYXRvclJlZC5yZXNldEl0ZXJhdG9yKHMsdGhpcy5tX3RvbGVyYW5jZSksdGhpcy5tX2VudmVsb3BlSGFuZGxlQT1lLHRoaXMubV9mdW5jdGlvbj10aGlzLml0ZXJhdGVfLCEwfXN3ZWVwQnJ1dGVGb3JjZV8oKXtyZXR1cm4tMT09PS0tdGhpcy5tX3N3ZWVwSW5kZXhSZWQ/KHRoaXMubV9lbnZlbG9wZUhhbmRsZUE9LTEsdGhpcy5tX2VudmVsb3BlSGFuZGxlQj0tMSx0aGlzLm1fYkRvbmU9ITAsITEpOih0aGlzLm1fZW52ZWxvcGVIYW5kbGVBPXRoaXMubV9zd2VlcEluZGV4UmVkLHRoaXMubV9zd2VlcEluZGV4Qmx1ZT10aGlzLm1fc3dlZXBJbmRleFJlZCx0aGlzLm1fZnVuY3Rpb249dGhpcy5pdGVyYXRlQnJ1dGVGb3JjZV8sITApfXN3ZWVwUmVkQmx1ZUJydXRlRm9yY2VfKCl7cmV0dXJuLTE9PT0tLXRoaXMubV9zd2VlcEluZGV4UmVkPyh0aGlzLm1fZW52ZWxvcGVIYW5kbGVBPS0xLHRoaXMubV9lbnZlbG9wZUhhbmRsZUI9LTEsdGhpcy5tX2JEb25lPSEwLCExKToodGhpcy5tX2VudmVsb3BlSGFuZGxlQT10aGlzLm1fc3dlZXBJbmRleFJlZCx0aGlzLm1fc3dlZXBJbmRleEJsdWU9dGhpcy5tX2VudmVsb3Blc0JsdWUubGVuZ3RoLHRoaXMubV9mdW5jdGlvbj10aGlzLml0ZXJhdGVSZWRCbHVlQnJ1dGVGb3JjZV8sITApfXN3ZWVwUmVkQmx1ZV8oKXtjb25zdCB0PXRoaXMubV9zb3J0ZWRFbmRJbmRpY2VzUmVkLnJlYWQodGhpcy5tX3N3ZWVwSW5kZXhSZWQtMSksZT10aGlzLm1fc29ydGVkRW5kSW5kaWNlc0JsdWUucmVhZCh0aGlzLm1fc3dlZXBJbmRleEJsdWUtMSkscz10aGlzLmdldEFkanVzdGVkVmFsdWVfKHQsITApLGk9dGhpcy5nZXRBZGp1c3RlZFZhbHVlXyhlLCExKTtyZXR1cm4gcz5pP3RoaXMuc3dlZXBSZWRfKCk6czxpP3RoaXMuc3dlZXBCbHVlXygpOnRoaXMuaXNUb3BfKHQpP3RoaXMuc3dlZXBSZWRfKCk6dGhpcy5pc1RvcF8oZSk/dGhpcy5zd2VlcEJsdWVfKCk6dGhpcy5zd2VlcFJlZF8oKX1zd2VlcFJlZF8oKXtjb25zdCB0PXRoaXMubV9zb3J0ZWRFbmRJbmRpY2VzUmVkLnJlYWQoLS10aGlzLm1fc3dlZXBJbmRleFJlZCksZT10Pj4xO2lmKHRoaXMuaXNCb3R0b21fKHQpKXJldHVybi0xIT09dGhpcy5tX3F1ZXVlZExpc3RSZWQmJi0xIT09dGhpcy5tX3F1ZXVlZEluZGljZXNSZWRbZV0/KHRoaXMubV9xdWV1ZWRFbnZlbG9wZXMuZGVsZXRlRWxlbWVudCh0aGlzLm1fcXVldWVkTGlzdFJlZCx0aGlzLm1fcXVldWVkSW5kaWNlc1JlZFtlXSksdGhpcy5tX3F1ZXVlZEluZGljZXNSZWRbZV09LTEpOnRoaXMubV9pbnRlcnZhbFRyZWVSZWQucmVtb3ZlKGUpLDAhPT10aGlzLm1fc3dlZXBJbmRleFJlZHx8KHRoaXMubV9lbnZlbG9wZUhhbmRsZUE9LTEsdGhpcy5tX2VudmVsb3BlSGFuZGxlQj0tMSx0aGlzLm1fYkRvbmU9ITAsITEpO2lmKC0xIT09dGhpcy5tX3F1ZXVlZExpc3RCbHVlJiZ0aGlzLm1fcXVldWVkRW52ZWxvcGVzLmdldExpc3RTaXplKHRoaXMubV9xdWV1ZWRMaXN0Qmx1ZSk+MCl7bGV0IHQ9dGhpcy5tX3F1ZXVlZEVudmVsb3Blcy5nZXRGaXJzdCh0aGlzLm1fcXVldWVkTGlzdEJsdWUpO2Zvcig7LTEhPT10Oyl7Y29uc3QgZT10aGlzLm1fcXVldWVkRW52ZWxvcGVzLmdldERhdGEodCk7dGhpcy5tX2ludGVydmFsVHJlZUJsdWUuaW5zZXJ0KGUpLHRoaXMubV9xdWV1ZWRJbmRpY2VzQmx1ZVtlXT0tMTtjb25zdCBzPXRoaXMubV9xdWV1ZWRFbnZlbG9wZXMuZ2V0TmV4dCh0KTt0aGlzLm1fcXVldWVkRW52ZWxvcGVzLmRlbGV0ZUVsZW1lbnQodGhpcy5tX3F1ZXVlZExpc3RCbHVlLHQpLHQ9c319aWYodGhpcy5tX2ludGVydmFsVHJlZUJsdWUuc2l6ZSgpPjApe2NvbnN0IHQ9ci5jb25zdHJ1Y3QodGhpcy5tX2VudmVsb3Blc1JlZFtlXS54bWluLHRoaXMubV9lbnZlbG9wZXNSZWRbZV0ueG1heCk7dGhpcy5tX2l0ZXJhdG9yQmx1ZS5yZXNldEl0ZXJhdG9yKHQsdGhpcy5tX3RvbGVyYW5jZSksdGhpcy5tX2VudmVsb3BlSGFuZGxlQT1lLHRoaXMubV9mdW5jdGlvbj10aGlzLml0ZXJhdGVCbHVlX31lbHNlLTE9PT10aGlzLm1fcXVldWVkTGlzdFJlZCYmKGModGhpcy5tX3F1ZXVlZEluZGljZXNSZWQsdGhpcy5tX2VudmVsb3Blc1JlZC5sZW5ndGgsLTEpLHRoaXMubV9xdWV1ZWRMaXN0UmVkPXRoaXMubV9xdWV1ZWRFbnZlbG9wZXMuY3JlYXRlTGlzdCgxKSksdGhpcy5tX3F1ZXVlZEluZGljZXNSZWRbZV09dGhpcy5tX3F1ZXVlZEVudmVsb3Blcy5hZGRFbGVtZW50KHRoaXMubV9xdWV1ZWRMaXN0UmVkLGUpLHRoaXMubV9mdW5jdGlvbj10aGlzLnN3ZWVwUmVkQmx1ZV87cmV0dXJuITB9c3dlZXBCbHVlXygpe2NvbnN0IHQ9dGhpcy5tX3NvcnRlZEVuZEluZGljZXNCbHVlLnJlYWQoLS10aGlzLm1fc3dlZXBJbmRleEJsdWUpLGU9dD4+MTtpZih0aGlzLmlzQm90dG9tXyh0KSlyZXR1cm4tMSE9PXRoaXMubV9xdWV1ZWRMaXN0Qmx1ZSYmLTEhPT10aGlzLm1fcXVldWVkSW5kaWNlc0JsdWVbZV0/KHRoaXMubV9xdWV1ZWRFbnZlbG9wZXMuZGVsZXRlRWxlbWVudCh0aGlzLm1fcXVldWVkTGlzdEJsdWUsdGhpcy5tX3F1ZXVlZEluZGljZXNCbHVlW2VdKSx0aGlzLm1fcXVldWVkSW5kaWNlc0JsdWVbZV09LTEpOnRoaXMubV9pbnRlcnZhbFRyZWVCbHVlLnJlbW92ZShlKSwwIT09dGhpcy5tX3N3ZWVwSW5kZXhCbHVlfHwodGhpcy5tX2VudmVsb3BlSGFuZGxlQT0tMSx0aGlzLm1fZW52ZWxvcGVIYW5kbGVCPS0xLHRoaXMubV9iRG9uZT0hMCwhMSk7aWYoLTEhPT10aGlzLm1fcXVldWVkTGlzdFJlZCYmdGhpcy5tX3F1ZXVlZEVudmVsb3Blcy5nZXRMaXN0U2l6ZSh0aGlzLm1fcXVldWVkTGlzdFJlZCk+MCl7bGV0IHQ9dGhpcy5tX3F1ZXVlZEVudmVsb3Blcy5nZXRGaXJzdCh0aGlzLm1fcXVldWVkTGlzdFJlZCk7Zm9yKDstMSE9PXQ7KXtjb25zdCBlPXRoaXMubV9xdWV1ZWRFbnZlbG9wZXMuZ2V0RGF0YSh0KTt0aGlzLm1faW50ZXJ2YWxUcmVlUmVkLmluc2VydChlKSx0aGlzLm1fcXVldWVkSW5kaWNlc1JlZFtlXT0tMTtjb25zdCBzPXRoaXMubV9xdWV1ZWRFbnZlbG9wZXMuZ2V0TmV4dCh0KTt0aGlzLm1fcXVldWVkRW52ZWxvcGVzLmRlbGV0ZUVsZW1lbnQodGhpcy5tX3F1ZXVlZExpc3RSZWQsdCksdD1zfX1pZih0aGlzLm1faW50ZXJ2YWxUcmVlUmVkLnNpemUoKT4wKXtjb25zdCB0PXIuY29uc3RydWN0KHRoaXMubV9lbnZlbG9wZXNCbHVlW2VdLnhtaW4sdGhpcy5tX2VudmVsb3Blc0JsdWVbZV0ueG1heCk7dGhpcy5tX2l0ZXJhdG9yUmVkLnJlc2V0SXRlcmF0b3IodCx0aGlzLm1fdG9sZXJhbmNlKSx0aGlzLm1fZW52ZWxvcGVIYW5kbGVCPWUsdGhpcy5tX2Z1bmN0aW9uPXRoaXMuaXRlcmF0ZVJlZF99ZWxzZS0xPT09dGhpcy5tX3F1ZXVlZExpc3RCbHVlJiYoYyh0aGlzLm1fcXVldWVkSW5kaWNlc0JsdWUsdGhpcy5tX2VudmVsb3Blc0JsdWUubGVuZ3RoLC0xKSx0aGlzLm1fcXVldWVkTGlzdEJsdWU9dGhpcy5tX3F1ZXVlZEVudmVsb3Blcy5jcmVhdGVMaXN0KDApKSx0aGlzLm1fcXVldWVkSW5kaWNlc0JsdWVbZV09dGhpcy5tX3F1ZXVlZEVudmVsb3Blcy5hZGRFbGVtZW50KHRoaXMubV9xdWV1ZWRMaXN0Qmx1ZSxlKSx0aGlzLm1fZnVuY3Rpb249dGhpcy5zd2VlcFJlZEJsdWVfO3JldHVybiEwfWl0ZXJhdGVfKCl7aWYodGhpcy5tX2VudmVsb3BlSGFuZGxlQj10aGlzLm1faXRlcmF0b3JSZWQubmV4dCgpLC0xIT09dGhpcy5tX2VudmVsb3BlSGFuZGxlQilyZXR1cm4hMTtjb25zdCB0PXRoaXMubV9zb3J0ZWRFbmRJbmRpY2VzUmVkLnJlYWQodGhpcy5tX3N3ZWVwSW5kZXhSZWQpPj4xO3JldHVybiB0aGlzLm1faW50ZXJ2YWxUcmVlUmVkLmluc2VydCh0KSx0aGlzLm1fZnVuY3Rpb249dGhpcy5zd2VlcF8sITB9aXRlcmF0ZVJlZF8oKXtpZih0aGlzLm1fZW52ZWxvcGVIYW5kbGVBPXRoaXMubV9pdGVyYXRvclJlZC5uZXh0KCksLTEhPT10aGlzLm1fZW52ZWxvcGVIYW5kbGVBKXJldHVybiExO3RoaXMubV9lbnZlbG9wZUhhbmRsZUE9LTEsdGhpcy5tX2VudmVsb3BlSGFuZGxlQj0tMTtjb25zdCB0PXRoaXMubV9zb3J0ZWRFbmRJbmRpY2VzQmx1ZS5yZWFkKHRoaXMubV9zd2VlcEluZGV4Qmx1ZSk+PjE7cmV0dXJuIHRoaXMubV9pbnRlcnZhbFRyZWVCbHVlLmluc2VydCh0KSx0aGlzLm1fZnVuY3Rpb249dGhpcy5zd2VlcFJlZEJsdWVfLCEwfWl0ZXJhdGVCbHVlXygpe2lmKHRoaXMubV9lbnZlbG9wZUhhbmRsZUI9dGhpcy5tX2l0ZXJhdG9yQmx1ZS5uZXh0KCksLTEhPT10aGlzLm1fZW52ZWxvcGVIYW5kbGVCKXJldHVybiExO2NvbnN0IHQ9dGhpcy5tX3NvcnRlZEVuZEluZGljZXNSZWQucmVhZCh0aGlzLm1fc3dlZXBJbmRleFJlZCk+PjE7cmV0dXJuIHRoaXMubV9pbnRlcnZhbFRyZWVSZWQuaW5zZXJ0KHQpLHRoaXMubV9mdW5jdGlvbj10aGlzLnN3ZWVwUmVkQmx1ZV8sITB9aXRlcmF0ZUJydXRlRm9yY2VfKCl7aWYoLTE9PT0tLXRoaXMubV9zd2VlcEluZGV4Qmx1ZSlyZXR1cm4gdGhpcy5tX2Z1bmN0aW9uPXRoaXMuc3dlZXBCcnV0ZUZvcmNlXywhMDtjb25zdCB0PXRoaXMubV9lbnZlbG9wZXNSZWRbdGhpcy5tX3N3ZWVwSW5kZXhSZWRdLmNsb25lKCksZT10aGlzLm1fZW52ZWxvcGVzUmVkW3RoaXMubV9zd2VlcEluZGV4Qmx1ZV07cmV0dXJuIHQuaW5mbGF0ZUNvb3Jkcyh0aGlzLm1fdG9sZXJhbmNlLHRoaXMubV90b2xlcmFuY2UpLCF0LmlzSW50ZXJzZWN0aW5nKGUpfHwodGhpcy5tX2VudmVsb3BlSGFuZGxlQj10aGlzLm1fc3dlZXBJbmRleEJsdWUsITEpfWl0ZXJhdGVSZWRCbHVlQnJ1dGVGb3JjZV8oKXtpZigtMT09PS0tdGhpcy5tX3N3ZWVwSW5kZXhCbHVlKXJldHVybiB0aGlzLm1fZnVuY3Rpb249dGhpcy5zd2VlcFJlZEJsdWVCcnV0ZUZvcmNlXywhMDtjb25zdCB0PXRoaXMubV9lbnZlbG9wZXNSZWRbdGhpcy5tX3N3ZWVwSW5kZXhSZWRdLmNsb25lKCksZT10aGlzLm1fZW52ZWxvcGVzQmx1ZVt0aGlzLm1fc3dlZXBJbmRleEJsdWVdO3JldHVybiB0LmluZmxhdGVDb29yZHModGhpcy5tX3RvbGVyYW5jZSx0aGlzLm1fdG9sZXJhbmNlKSwhdC5pc0ludGVyc2VjdGluZyhlKXx8KHRoaXMubV9lbnZlbG9wZUhhbmRsZUI9dGhpcy5tX3N3ZWVwSW5kZXhCbHVlLCExKX1yZXNldFJlZF8oKXtyZXR1cm4gdGhpcy5tX3N3ZWVwSW5kZXhSZWQ9dGhpcy5tX3NvcnRlZEVuZEluZGljZXNSZWQuc2l6ZSgpLHRoaXMubV9pbnRlcnZhbFRyZWVSZWQuc2l6ZSgpPjAmJnRoaXMubV9pbnRlcnZhbFRyZWVSZWQucmVzZXQoKSwtMSE9PXRoaXMubV9xdWV1ZWRMaXN0UmVkJiYodGhpcy5tX3F1ZXVlZEVudmVsb3Blcy5kZWxldGVMaXN0KHRoaXMubV9xdWV1ZWRMaXN0UmVkKSx0aGlzLm1fcXVldWVkSW5kaWNlc1JlZC5sZW5ndGg9MCx0aGlzLm1fcXVldWVkTGlzdFJlZD0tMSksdGhpcy5tX2JEb25lPSExLCEwfXJlc2V0Qmx1ZV8oKXtyZXR1cm4gdGhpcy5tX3N3ZWVwSW5kZXhCbHVlPXRoaXMubV9zb3J0ZWRFbmRJbmRpY2VzQmx1ZS5zaXplKCksdGhpcy5tX2ludGVydmFsVHJlZUJsdWUuc2l6ZSgpPjAmJnRoaXMubV9pbnRlcnZhbFRyZWVCbHVlLnJlc2V0KCksLTEhPT10aGlzLm1fcXVldWVkTGlzdEJsdWUmJih0aGlzLm1fcXVldWVkRW52ZWxvcGVzLmRlbGV0ZUxpc3QodGhpcy5tX3F1ZXVlZExpc3RCbHVlKSx0aGlzLm1fcXVldWVkSW5kaWNlc0JsdWUubGVuZ3RoPTAsdGhpcy5tX3F1ZXVlZExpc3RCbHVlPS0xKSx0aGlzLm1fYkRvbmU9ITEsITB9bnVsbEZ1bmNfKCl7cmV0dXJuIGIoXCJzaG91bGQgbm90IGJlIGNhbGxlZFwiKSwhMX1zb3J0WUVuZEluZGljZXNfKHQsZSxzLGkpe2NvbnN0IG49dGhpcyxyPXt1c2VyU29ydCh0LGUscyl7bi5zb3J0WUVuZEluZGljZXNIZWxwZXJfKHMsdCxlLGkpfSxnZXRWYWx1ZTp0PT5uLmdldEFkanVzdGVkVmFsdWVfKHQsaSl9OyhuZXcgb3QpLnNvcnQodCxlLHMscil9c29ydFlFbmRJbmRpY2VzSGVscGVyXyh0LGUscyxpKXt0LnNvcnQoZSxzLCgodCxlKT0+e2NvbnN0IHM9dGhpcy5nZXRBZGp1c3RlZFZhbHVlXyh0LGkpLG49dGhpcy5nZXRBZGp1c3RlZFZhbHVlXyhlLGkpO3JldHVybiBzPG58fHM9PT1uJiZ0aGlzLmlzQm90dG9tXyh0KSYmdGhpcy5pc1RvcF8oZSk/LTE6MX0pKX1nZXRBZGp1c3RlZFZhbHVlXyh0LGUpe2NvbnN0IHM9LjUqdGhpcy5tX3RvbGVyYW5jZTtpZihlKXtjb25zdCBlPXRoaXMubV9lbnZlbG9wZXNSZWRbdD4+MV07cmV0dXJuIHRoaXMuaXNCb3R0b21fKHQpP2UueW1pbi1zOmUueW1heCtzfWNvbnN0IGk9dGhpcy5tX2VudmVsb3Blc0JsdWVbdD4+MV07cmV0dXJuIHRoaXMuaXNCb3R0b21fKHQpP2kueW1pbi1zOmkueW1heCtzfX12YXIgeHQ9ejtjbGFzcyBFdHtjb25zdHJ1Y3Rvcih0LGUpe3RoaXMudG9sZXJhbmNlPXZvaWQgMCE9PXQ/dDpOdW1iZXIuTmFOLHRoaXMucmVzb2x1dGlvbj12b2lkIDAhPT1lP2U6TnVtYmVyLk5hTn1hZGQodCl7cmV0dXJuIG5ldyBFdCh0aGlzLnRvbGVyYW5jZSt0LHRoaXMucmVzb2x1dGlvbil9c2NhbGUodCl7cmV0dXJuIG5ldyBFdCh0aGlzLnRvbGVyYW5jZSp0LHRoaXMucmVzb2x1dGlvbip0KX10b3RhbCgpe3JldHVybiB0aGlzLnRvbGVyYW5jZSt0aGlzLnJlc29sdXRpb259fWZ1bmN0aW9uIGJ0KHQsZSxpLG4scil7Y29uc3QgaD1uKm4sbz10LnN1YihlKSxhPWkuc3ViKGUpLG09by5zcXJMZW5ndGgoKSxfPWEuc3FyTGVuZ3RoKCk7aWYobTw9aHx8Xzw9aClyZXR1cm4hMDtjb25zdCBsPXMoby5jcm9zc1Byb2R1Y3QoYSkpO2lmKGw8PWgqbXx8bDw9aCpfKXtyZXR1cm4gby5kb3RQcm9kdWN0KGEpPj0wfXJldHVybiExfWZ1bmN0aW9uIE50KHQsZSxzKXtyZXR1cm4gaT0+MD09PXM/KGkrdCkqZToxKihpLXQqZSkvZX1mdW5jdGlvbiBEdCh0LGUpe2NvbnN0IHM9bmV3IHA7cmV0dXJuIHQucXVlcnlMb29zZUVudmVsb3BlKHMpLHMubWVyZ2VFbnZlbG9wZTJEKGUpLHN9ZnVuY3Rpb24gSXQodCxlKXtjb25zdCBzPXAuY29uc3RydWN0RW1wdHkoKTt0LnF1ZXJ5TG9vc2VFbnZlbG9wZShzKTtjb25zdCBpPXAuY29uc3RydWN0RW1wdHkoKTtyZXR1cm4gZS5xdWVyeUxvb3NlRW52ZWxvcGUoaSkscy5tZXJnZUVudmVsb3BlMkQoaSksc31mdW5jdGlvbiBDdCh0LGUpe3JldHVybihOdW1iZXIuaXNGaW5pdGUodCl8fE51bWJlci5pc05hTih0KSkmJihOdW1iZXIuaXNGaW5pdGUoZSl8fE51bWJlci5pc05hTihlKSl9ZnVuY3Rpb24gVHQodCxlKXtyZXR1cm4gTnVtYmVyLmlzRmluaXRlKHQpJiZOdW1iZXIuaXNGaW5pdGUoZSl9ZnVuY3Rpb24gUnQodCxlLHMpe2NvbnN0IGk9cC5jb25zdHJ1Y3RFbXB0eSgpO2kuc2V0RnJvbVBvaW50cyh0LGUpO3JldHVybiBTdCgwLG51bGwsaS5jYWxjdWxhdGVUb2xlcmFuY2VGcm9tRW52ZWxvcGUoKSxzLCExKX1mdW5jdGlvbiBBdCh0LGUscyl7cmV0dXJuIFN0KDAsdCxlLmNhbGN1bGF0ZVRvbGVyYW5jZUZyb21FbnZlbG9wZSgpLHMsITEpfWZ1bmN0aW9uIHF0KHQsZSxzKXtyZXR1cm4gU3QoMSx0LGUuY2FsY3VsYXRlVG9sZXJhbmNlRnJvbUVudmVsb3BlKCkscywhMSl9ZnVuY3Rpb24gd3QodCxlLHMpe3JldHVybiBxdCh0LGUucXVlcnlJbnRlcnZhbCgxLDApLHMpfWZ1bmN0aW9uIEJ0KHQsZSxzKXtjb25zdCBpPXAuY29uc3RydWN0RW1wdHkoKTtyZXR1cm4gZS5xdWVyeUVudmVsb3BlKGkpLEF0KHQsaSxzKX1mdW5jdGlvbiB6dCh0LGUscz0hMSl7cmV0dXJuIFN0KDAsdCxlLmNhbGN1bGF0ZVRvbGVyYW5jZUZyb21FbnZlbG9wZSgpLHMsITApLnRvdGFsKCl9ZnVuY3Rpb24gTHQodCxlLHMpe2NvbnN0IGk9cC5jb25zdHJ1Y3RFbXB0eSgpO3JldHVybiBlLnF1ZXJ5RW52ZWxvcGUoaSksenQodCxpLHMpfWZ1bmN0aW9uIFN0KHQsZSxzLGksbil7Y29uc3Qgcj1uZXcgRXQoMCwwKTtpZihudWxsIT09ZSYmKHIudG9sZXJhbmNlPWUuZ2V0VG9sZXJhbmNlKHQpLCghbnx8aSkmJm51bGwhPT1lKSl7Y29uc3Qgcz1lLmdldFJlc29sdXRpb24odCk7ci5yZXNvbHV0aW9uPXMsaSYmKHIucmVzb2x1dGlvbio9Mil9aSYmKHMqPTQsci50b2xlcmFuY2UqPTEuMDEsci5yZXNvbHV0aW9uKj0xLjAxKTtyZXR1cm4gci50b3RhbCgpPHM/bmV3IEV0KHMsMCk6cn1mdW5jdGlvbiBGdCh0KXtyZXR1cm4gTWF0aC5zcXJ0KDIpKigyKnQudG9sZXJhbmNlK3QucmVzb2x1dGlvbil9ZnVuY3Rpb24gUHQodCl7cmV0dXJuIE1hdGguc3FydCgyKSoodC50b2xlcmFuY2UrdC5yZXNvbHV0aW9uKX1mdW5jdGlvbiBIdCh0KXtyZXR1cm4gdD49M31mdW5jdGlvbiBWdCh0LGUpe2NvbnN0IHM9WzBdO3JldHVybiB0LmdldEltcGwoKS5nZXRJc1NpbXBsZShlLHMpPj0zfWZ1bmN0aW9uIGt0KHQsZSl7dC5nZXRJbXBsKCkuc2V0SXNTaW1wbGUoMyxlKX1mdW5jdGlvbiBNdCh0LGUsbixyKXtpZihzKGUueC10LngpK3MoZS55LXQueSk8PW4qbil7Y29uc3Qgcz10Lnosbj1lLno7cmV0dXJuIGkocyxuLHIpfXJldHVybiExfWZ1bmN0aW9uIE90KHQpe3JldHVybiB0Pj00fWZ1bmN0aW9uIFl0KHQsZSl7cmV0dXJuIHQ9PT15LmVudW1Qb2x5Z29uP0h0KGUpOmU+PTF9ZnVuY3Rpb24gWHQodCxlLHMpe2NvbnN0IGk9cC5jb25zdHJ1Y3RFbXB0eSgpLG49cC5jb25zdHJ1Y3RFbXB0eSgpO3QucXVlcnlMb29zZUVudmVsb3BlKGkpLGUucXVlcnlMb29zZUVudmVsb3BlKG4pLGkuaW5mbGF0ZUNvb3JkcyhzLHMpLG4uaW5mbGF0ZUNvb3JkcyhzLHMpO2NvbnN0IHI9cC5jb25zdHJ1Y3RFbXB0eSgpO3Iuc2V0Q29vcmRzKHtlbnYyRDppfSksci5pbnRlcnNlY3Qobik7Y29uc3QgaD10LnF1ZXJ5U2VnbWVudEl0ZXJhdG9yKCksbz1lLnF1ZXJ5U2VnbWVudEl0ZXJhdG9yKCksYT1wLmNvbnN0cnVjdEVtcHR5KCksbT1wLmNvbnN0cnVjdEVtcHR5KCksXz1uZXcgeXQ7Xy5zZXRUb2xlcmFuY2Uocyk7bGV0IGw9ITE7Zm9yKF8uc3RhcnRSZWRDb25zdHJ1Y3Rpb24oKTtoLm5leHRQYXRoKCk7KWZvcig7aC5oYXNOZXh0U2VnbWVudCgpOyl7aC5uZXh0U2VnbWVudCgpLnF1ZXJ5TG9vc2VFbnZlbG9wZShhKSxhLmlzSW50ZXJzZWN0aW5nKHIpJiYobD0hMCxfLmFkZFJlZEVudmVsb3BlKGguZ2V0U3RhcnRQb2ludEluZGV4KCksYSkpfWlmKF8uZW5kUmVkQ29uc3RydWN0aW9uKCksIWwpcmV0dXJuIG51bGw7bGV0IHU9ITE7Zm9yKF8uc3RhcnRCbHVlQ29uc3RydWN0aW9uKCk7by5uZXh0UGF0aCgpOylmb3IoO28uaGFzTmV4dFNlZ21lbnQoKTspe28ubmV4dFNlZ21lbnQoKS5xdWVyeUxvb3NlRW52ZWxvcGUobSksbS5pc0ludGVyc2VjdGluZyhyKSYmKHU9ITAsXy5hZGRCbHVlRW52ZWxvcGUoby5nZXRTdGFydFBvaW50SW5kZXgoKSxtKSl9cmV0dXJuIF8uZW5kQmx1ZUNvbnN0cnVjdGlvbigpLHU/XzpudWxsfWZ1bmN0aW9uIEd0KHQsZSxzLGksbil7dC5nZXRHZW9tZXRyeVR5cGUoKSxlLmdldEdlb21ldHJ5VHlwZSgpO2NvbnN0IHI9cC5jb25zdHJ1Y3RFbXB0eSgpLGg9cC5jb25zdHJ1Y3RFbXB0eSgpO3QucXVlcnlMb29zZUVudmVsb3BlKHIpLGUucXVlcnlMb29zZUVudmVsb3BlKGgpLHIuaW5mbGF0ZUNvb3JkcyhzLHMpLGguaW5mbGF0ZUNvb3JkcyhzLHMpO2NvbnN0IG89cC5jb25zdHJ1Y3RFbXB0eSgpO28uc2V0Q29vcmRzKHtlbnYyRDpyfSksby5pbnRlcnNlY3QoaCk7Y29uc3QgYT1uZXcgeXQ7YS5zZXRUb2xlcmFuY2Uocyk7bGV0IG09ITE7YS5zdGFydFJlZENvbnN0cnVjdGlvbigpO2ZvcihsZXQgbD0wLHU9dC5nZXRQYXRoQ291bnQoKTtsPHU7bCsrKXQucXVlcnlMb29zZVBhdGhFbnZlbG9wZShsLHIpLHIuaXNJbnRlcnNlY3RpbmcobykmJihtPSEwLGEuYWRkUmVkRW52ZWxvcGUobCxyKSk7aWYoYS5lbmRSZWRDb25zdHJ1Y3Rpb24oKSwhbSlyZXR1cm4gbnVsbDtsZXQgXz0hMTthLnN0YXJ0Qmx1ZUNvbnN0cnVjdGlvbigpO2ZvcihsZXQgbD0wLHU9ZS5nZXRQYXRoQ291bnQoKTtsPHU7bCsrKWUucXVlcnlMb29zZVBhdGhFbnZlbG9wZShsLGgpLGguaXNJbnRlcnNlY3RpbmcobykmJihfPSEwLGEuYWRkQmx1ZUVudmVsb3BlKGwsaCkpO3JldHVybiBhLmVuZEJsdWVDb25zdHJ1Y3Rpb24oKSxfP2E6bnVsbH1mdW5jdGlvbiBVdCh0LGUscyl7Y29uc3QgaT1wLmNvbnN0cnVjdEVtcHR5KCksbj1wLmNvbnN0cnVjdEVtcHR5KCk7dC5xdWVyeUxvb3NlRW52ZWxvcGUoaSksZS5xdWVyeUVudmVsb3BlKG4pLGkuaW5mbGF0ZUNvb3JkcyhzLHMpLG4uaW5mbGF0ZUNvb3JkcyhzLHMpO2NvbnN0IHI9cC5jb25zdHJ1Y3RFbXB0eSgpO3Iuc2V0Q29vcmRzKHtlbnYyRDppfSksci5pbnRlcnNlY3Qobik7Y29uc3QgaD10LnF1ZXJ5U2VnbWVudEl0ZXJhdG9yKCksbz1uZXcgeXQ7by5zZXRUb2xlcmFuY2Uocyk7bGV0IGE9ITE7Zm9yKG8uc3RhcnRSZWRDb25zdHJ1Y3Rpb24oKTtoLm5leHRQYXRoKCk7KWZvcig7aC5oYXNOZXh0U2VnbWVudCgpOyl7aC5uZXh0U2VnbWVudCgpLnF1ZXJ5TG9vc2VFbnZlbG9wZShpKSxpLmlzSW50ZXJzZWN0aW5nKHIpJiYoYT0hMCxvLmFkZFJlZEVudmVsb3BlKGguZ2V0U3RhcnRQb2ludEluZGV4KCksaSkpfWlmKG8uZW5kUmVkQ29uc3RydWN0aW9uKCksIWEpcmV0dXJuIG51bGw7bGV0IG09ITE7by5zdGFydEJsdWVDb25zdHJ1Y3Rpb24oKTtmb3IobGV0IF89MCxsPWUuZ2V0UG9pbnRDb3VudCgpO188bDtfKyspe2NvbnN0IHQ9ZS5nZXRYWShfKTtyLmNvbnRhaW5zKHQpJiYobT0hMCxvLmFkZEJsdWVFbnZlbG9wZShfLHAuY29uc3RydWN0KHQueCx0LnksdC54LHQueSkpKX1yZXR1cm4gby5lbmRCbHVlQ29uc3RydWN0aW9uKCksbT9vOm51bGx9ZnVuY3Rpb24gWnQodCxlLHMpe2NvbnN0IGk9cC5jb25zdHJ1Y3RFbXB0eSgpLG49cC5jb25zdHJ1Y3RFbXB0eSgpO3QucXVlcnlFbnZlbG9wZShpKSxlLnF1ZXJ5RW52ZWxvcGUobiksaS5pbmZsYXRlQ29vcmRzKHMscyksbi5pbmZsYXRlQ29vcmRzKHMscyk7Y29uc3Qgcj1wLmNvbnN0cnVjdEVtcHR5KCk7ci5zZXRDb29yZHMoe2VudjJEOml9KSxyLmludGVyc2VjdChuKTtjb25zdCBoPW5ldyB5dDtoLnNldFRvbGVyYW5jZShzKTtsZXQgYT0hMTtoLnN0YXJ0UmVkQ29uc3RydWN0aW9uKCk7Y29uc3QgbT1uZXcgbztmb3IobGV0IG89MCx1PXQuZ2V0UG9pbnRDb3VudCgpO288dTtvKyspdC5xdWVyeVhZKG8sbSksci5jb250YWlucyhtKSYmKGE9ITAsaC5hZGRSZWRFbnZlbG9wZShvLHAuY29uc3RydWN0KG0ueCxtLnksbS54LG0ueSkpKTtpZihoLmVuZFJlZENvbnN0cnVjdGlvbigpLCFhKXJldHVybiBudWxsO2xldCBfPSExO2guc3RhcnRCbHVlQ29uc3RydWN0aW9uKCk7Y29uc3QgbD1uZXcgbztmb3IobGV0IG89MCx1PWUuZ2V0UG9pbnRDb3VudCgpO288dTtvKyspZS5xdWVyeVhZKG8sbCksci5jb250YWlucyhsKSYmKF89ITAsaC5hZGRCbHVlRW52ZWxvcGUobyxwLmNvbnN0cnVjdChsLngsbC55LGwueCxsLnkpKSk7cmV0dXJuIGguZW5kQmx1ZUNvbnN0cnVjdGlvbigpLF8/aDpudWxsfWZ1bmN0aW9uIFF0KHQpe2NvbnN0IGU9bmV3IHA7cmV0dXJuIHQucXVlcnlMb29zZUVudmVsb3BlKGUpLGUuaW5mbGF0ZUNvb3JkcygxLDEpLGp0KHQsZSl9ZnVuY3Rpb24ganQodCxlLHMpe2NvbnN0IGk9bmV3IHA7aWYodC5xdWVyeUxvb3NlRW52ZWxvcGUoaSksaS5pc0VtcHR5KCkpcmV0dXJuIG51bGw7dC5nZXRHZW9tZXRyeVR5cGUoKTtjb25zdCBuPW5ldyBfdChpLDgpO2xldCByPS0xO2NvbnN0IGg9bmV3IHA7bGV0IG89ITE7ZG97Zm9yKGxldCBzPTAsYT10LmdldFBhdGhDb3VudCgpO3M8YTtzKyspaWYodC5xdWVyeUxvb3NlUGF0aEVudmVsb3BlKHMsaCksaC5pc0ludGVyc2VjdGluZyhlKSl7aWYocj1uLmluc2VydEV4KHMsaCxyKSwtMT09PXIpe28mJmIoXCJidWlsZF9xdWFkX3RyZWVfZm9yX3BhdGhzXCIpLGkuYXNzaWduKHQuY2FsY3VsYXRlRW52ZWxvcGUyRCghMSkpLG89ITAsbi5yZXNldChpLDgpO2JyZWFrfW89ITF9fXdoaWxlKG8pO3JldHVybiBufWZ1bmN0aW9uIFd0KHQsZSl7aWYoIWUpe2NvbnN0IGU9bmV3IHA7dC5xdWVyeUxvb3NlRW52ZWxvcGUoZSk7Y29uc3Qgcz1uZXcgX3QoZSw4KTtsZXQgaT0tMTtjb25zdCBuPW5ldyBwLHI9dC5xdWVyeVNlZ21lbnRJdGVyYXRvcigpO2xldCBoPSExO2Zvcig7ci5uZXh0UGF0aCgpOylmb3IoO3IuaGFzTmV4dFNlZ21lbnQoKTspe2NvbnN0IG89ci5uZXh0U2VnbWVudCgpLGE9ci5nZXRTdGFydFBvaW50SW5kZXgoKTtpZihvLnF1ZXJ5TG9vc2VFbnZlbG9wZShuKSxpPXMuaW5zZXJ0RXgoYSxuLGkpLC0xPT09aSl7aCYmYihcIlwiKSxlLmFzc2lnbih0LmNhbGN1bGF0ZUVudmVsb3BlMkQoITEpKSxoPSEwLHMucmVzZXQoZSw4KSxyLnJlc2V0VG9GaXJzdFBhdGgoKTticmVha319cmV0dXJuIHN9Y29uc3Qgcz1uZXcgcDt0LnF1ZXJ5TG9vc2VFbnZlbG9wZShzKTtjb25zdCBpPW5ldyBfdChzLDgpO2xldCBuPS0xO2NvbnN0IHI9bmV3IHAsaD10LnF1ZXJ5U2VnbWVudEl0ZXJhdG9yKCk7bGV0IG89ITE7Zm9yKDtoLm5leHRQYXRoKCk7KWZvcig7aC5oYXNOZXh0U2VnbWVudCgpOyl7Y29uc3QgYT1oLm5leHRTZWdtZW50KCksbT1oLmdldFN0YXJ0UG9pbnRJbmRleCgpO2lmKGEucXVlcnlMb29zZUVudmVsb3BlKHIpLHIuaXNJbnRlcnNlY3RpbmcoZSkmJihuPWkuaW5zZXJ0RXgobSxyLG4pLC0xPT09bikpe28mJmIoXCJcIikscy5hc3NpZ24odC5jYWxjdWxhdGVFbnZlbG9wZTJEKCExKSksbz0hMCxpLnJlc2V0KHMsOCksaC5yZXNldFRvRmlyc3RQYXRoKCk7YnJlYWt9fXJldHVybiBpfWZ1bmN0aW9uIEp0KHQsZSl7aWYoZSl7Y29uc3Qgcz1uZXcgX3QoZSw4KSxpPW5ldyBvLG49bmV3IHA7bGV0IHI9ITE7Zm9yKGxldCBoPTA7aDx0LmdldFBvaW50Q291bnQoKTtoKyspe2lmKGkuc2V0Q29vcmRzUG9pbnQyRCh0LmdldFhZKGgpKSwhZS5jb250YWlucyhpKSljb250aW51ZTtuLnNldENvb3Jkcyh7cHQ6aX0pOy0xIT09cy5pbnNlcnQoaCxuKXx8KHImJmIoXCJcIikscj0hMCxzLnJlc2V0KHQuY2FsY3VsYXRlRW52ZWxvcGUyRCgpLDgpLGg9LTEpfXJldHVybiBzfXJldHVybiB4KFwibm8tZXh0ZW50IHZlcnNpb24gbm90IHlldCBpbXBsXCIpLG51bGx9ZnVuY3Rpb24gS3QodCxlLHMsaSxuKXtsZXQgcj0hMTtjb25zdCBoPW4udm1pbixvPW4udm1heDtmb3IobGV0IGE9czthPGU7YSs9aSl7Y29uc3QgZT10LnJlYWQoYSk7ZTxoPyhyPSEwLHQud3JpdGUoYSxoKSk6ZT5vJiYocj0hMCx0LndyaXRlKGEsbykpfXJldHVybiByfWZ1bmN0aW9uICR0KHQsZSxzLGkpe2lmKCF0Lmhhc0F0dHJpYnV0ZShzKSlyZXR1cm4hMTtjb25zdCBuPXQuZ2V0R2VvbWV0cnlUeXBlKCk7aWYobj09PXkuZW51bUdlb21ldHJ5Q29sbGVjdGlvbil7Y29uc3Qgbj10LHI9bi5nZXRHZW9tZXRyeUNvdW50KCk7bGV0IGg9MDtmb3IobGV0IHQ9MDt0PHI7Kyt0KXtofD0kdChuLmdldEdlb21ldHJ5KHQpLGUscyxpKT8xOjB9cmV0dXJuISFofWlmKEQobikpe2NvbnN0IG49dCxyPXh0LmdldFBlcnNpc3RlbmNlKHMpLGg9eHQuZ2V0Q29tcG9uZW50Q291bnQocyksbz1uLmdldFBvaW50Q291bnQoKTtpZigxPT09cil7Y29uc3QgdD1LdChuLmdldEF0dHJpYnV0ZVN0cmVhbVJlZihzKSxvKmgsaSxoLGUpO3JldHVybiB0JiZuLm5vdGlmeU1vZGlmaWVkKCksdH1pZigyPT09cil7Y29uc3QgdD1LdChuLmdldEF0dHJpYnV0ZVN0cmVhbVJlZihzKSxvKmgsaSxoLGUpO3JldHVybiB0JiZuLm5vdGlmeU1vZGlmaWVkKCksdH1iKFwic25hcF9jb29yZGluYXRlIG5vdCBpbXBsZW1lbnRlZFwiKX1pZihuPT09eS5lbnVtRW52ZWxvcGUpe2NvbnN0IG49dCxyPW4ucXVlcnlJbnRlcnZhbChzLGkpO2xldCBoPSExO3JldHVybiByLnZtaW48ZS52bWluJiYoaD0hMCxyLnZtaW49ZS52bWluKSxyLnZtYXg+ZS52bWF4JiYoaD0hMCxyLnZtYXg9ZS52bWF4KSxoJiZuLnNldEludGVydmFsRW52ZWxvcGUocyxpLHIpLGh9aWYobj09PXkuZW51bVBvaW50KXtjb25zdCBuPXQ7bGV0IHI9bi5nZXRBdHRyaWJ1dGVBc0RibChzLGkpLGg9ITE7cmV0dXJuIHI8ZS52bWluJiYoaD0hMCxyPWUudm1pbikscj5lLnZtYXgmJihoPSEwLHI9ZS52bWF4KSxoJiZuLnNldEF0dHJpYnV0ZUJhc2ljKHMsaSxyKSxofWlmKEkobikpe2NvbnN0IG49dDtsZXQgcj1uLmdldFN0YXJ0QXR0cmlidXRlQXNEYmwocyxpKSxoPSExO3JldHVybiByPGUudm1pbiYmKGg9ITAscj1lLnZtaW4pLHI+ZS52bWF4JiYoaD0hMCxyPWUudm1heCksaCYmbi5zZXRTdGFydEF0dHJpYnV0ZShzLGkscikscj1uLmdldEVuZEF0dHJpYnV0ZUFzRGJsKHMsaSkscjxlLnZtaW4mJihoPSEwLHI9ZS52bWluKSxyPmUudm1heCYmKGg9ITAscj1lLnZtYXgpLGgmJm4uc2V0RW5kQXR0cmlidXRlKHMsaSxyKSxofWIoXCJzbmFwX2Nvb3JkaW5hdGUgbm90IGltcGxlbWVudGVkXCIpfXZhciB0ZT16O2NsYXNzIGVle2NvbnN0cnVjdG9yKHQpe2lmKHRoaXMubV9kZXNjcmlwdGlvbj1udWxsLHRoaXMueD1OdW1iZXIuTmFOLHRoaXMueT1OdW1iZXIuTmFOLHRoaXMubV9hdHRyaWJzPW51bGwsdCl7aWYoIXQuY29weSlyZXR1cm4gdC5tb3ZlPyh0aGlzLm1fZGVzY3JpcHRpb249dC5tb3ZlLm1fZGVzY3JpcHRpb24sdC5tb3ZlLm1fZGVzY3JpcHRpb249bnVsbCx0aGlzLm1fYXR0cmlicz10Lm1vdmUubV9hdHRyaWJzLHQubW92ZS5tX2F0dHJpYnM9bnVsbCx0aGlzLng9dC5tb3ZlLngsdm9pZCh0aGlzLnk9dC5tb3ZlLnkpKTp0LnZkPyh0aGlzLm1fZGVzY3JpcHRpb249dC52ZCx2b2lkKHQuYXR0cmliQnVmZmVyPyh0aGlzLm1fYXR0cmlicz10LmF0dHJpYkJ1ZmZlcix0LmluaXREZWZhdWx0VmFsdWVzJiZ0aGlzLnNldERlZmF1bHRBdHRyaWJ1dGVWYWx1ZXMoKSk6dGhpcy5lbnN1cmVBdHRyaWJ1dGVzKCkpKTp0LnB0Pyh0aGlzLm1fZGVzY3JpcHRpb249TSgpLHZvaWQgdGhpcy5zZXRYWSh0LnB0KSk6dm9pZChcInhcImluIHQmJihcInpcImluIHQ/KHRoaXMubV9kZXNjcmlwdGlvbj1PKCksdGhpcy5lbnN1cmVBdHRyaWJ1dGVzKCksdGhpcy5zZXRYWVoobmV3IFgodC54LHQueSx0LnopKSk6KHRoaXMubV9kZXNjcmlwdGlvbj1NKCksdGhpcy5zZXRYWUNvb3Jkcyh0LngsdC55KSkpKTt0LmNvcHkuY29weVRvKHRoaXMpfWVsc2UgdGhpcy5tX2Rlc2NyaXB0aW9uPU0oKX1hc3NpZ25Db3B5KHQpe3JldHVybiB0aGlzLm1fYXR0cmlicz1udWxsLHQuY29weVRvKHRoaXMpLHRoaXN9YXNzaWduTW92ZSh0KXtyZXR1cm4gdGhpcy5tX2F0dHJpYnM9bnVsbCx0LmNvcHlUbyh0aGlzKSx0LnNldEVtcHR5KCksdGhpc31nZXRYWSgpe3JldHVybiBuZXcgbyh0aGlzLngsdGhpcy55KX1xdWVyeVhZKHQpe3QueD10aGlzLngsdC55PXRoaXMueX1zZXRYWSh0KXt0aGlzLng9dC54LHRoaXMueT10Lnl9c2V0WFlDb29yZHModCxlKXt0aGlzLng9dCx0aGlzLnk9ZX1nZXRYWVooKXtjb25zdCB0PW5ldyBYO3JldHVybiB0Lng9dGhpcy54LHQueT10aGlzLnksdC56PXRoaXMuZ2V0WigpLHR9c2V0WFlaKHQpe3RoaXMuYWRkQXR0cmlidXRlKDEpLHRoaXMueD10LngsdGhpcy55PXQueSx0aGlzLm1fYXR0cmlic1swXT10Lnp9Z2V0WCgpe3JldHVybiB0aGlzLnh9c2V0WCh0KXt0aGlzLng9dH1nZXRZKCl7cmV0dXJuIHRoaXMueX1zZXRZKHQpe3RoaXMueT10fWdldFooKXtyZXR1cm4gdGhpcy5tX2Rlc2NyaXB0aW9uLmhhc1ooKT90aGlzLm1fYXR0cmlic1swXTp0ZS5nZXREZWZhdWx0VmFsdWUoMSl9c2V0Wih0KXt0aGlzLmFkZEF0dHJpYnV0ZSgxKSx0aGlzLm1fYXR0cmlic1swXT10fWdldE0oKXtyZXR1cm4gdGhpcy5nZXRBdHRyaWJ1dGVBc0RibCgyLDApfXNldE0odCl7dGhpcy5hZGRBdHRyaWJ1dGUoMiksdGhpcy5tX2Rlc2NyaXB0aW9uLmhhc1ooKT90aGlzLm1fYXR0cmlic1sxXT10OnRoaXMubV9hdHRyaWJzWzBdPXR9Z2V0SUQoKXtyZXR1cm4gdGhpcy5nZXRBdHRyaWJ1dGVBc0ludCgzLDApfXNldElEKHQpe3RoaXMuc2V0QXR0cmlidXRlQmFzaWMoMywwLHQpfWlzRXF1YWxYWSh0LGUpe3JldHVybiB2b2lkIDA9PT1lJiYoZT0wKSxNYXRoLmFicyh0LngtdGhpcy54KTw9ZSYmTWF0aC5hYnModC55LXRoaXMueSk8PWV9aXNFcXVhbFhZQ29vcmRzKHQsZSxzKXtyZXR1cm4gdm9pZCAwPT09cyYmKHM9MCksTWF0aC5hYnModC10aGlzLngpPD1zJiZNYXRoLmFicyhlLXRoaXMueSk8PXN9Z2V0QXR0cmlidXRlQXNEYmwodCxlKXtpZigwPT09dCl7aWYoMD09PWUpcmV0dXJuIHRoaXMueDtpZigxPT09ZSlyZXR1cm4gdGhpcy55O3YoXCJcIil9Y29uc3Qgcz10ZS5nZXRDb21wb25lbnRDb3VudCh0KTsoZTwwfHxlPj1zKSYmdihcIlwiKTtjb25zdCBpPXRoaXMubV9kZXNjcmlwdGlvbi5nZXRBdHRyaWJ1dGVJbmRleCh0KTtyZXR1cm4gaT49MD90aGlzLm1fYXR0cmlic1t0aGlzLm1fZGVzY3JpcHRpb24uZ2V0UG9pbnRBdHRyaWJ1dGVPZmZzZXQoaSktMitlXTp0ZS5nZXREZWZhdWx0VmFsdWUodCl9Z2V0QXR0cmlidXRlQXNJbnQodCxlKXtyZXR1cm4gTWF0aC50cnVuYyh0aGlzLmdldEF0dHJpYnV0ZUFzRGJsKHQsZSkpfXNldEF0dHJpYnV0ZUJhc2ljKHQsZSxzKXtpZigwPT09dClyZXR1cm4gdm9pZCgwPT09ZT90aGlzLng9czoxPT09ZT90aGlzLnk9czp2KFwiXCIpKTtjb25zdCBpPXRlLmdldENvbXBvbmVudENvdW50KHQpOyhlPDB8fGU+PWkpJiZ2KFwiXCIpO2xldCBuPXRoaXMubV9kZXNjcmlwdGlvbi5nZXRBdHRyaWJ1dGVJbmRleCh0KTtuPDAmJih0aGlzLmFkZEF0dHJpYnV0ZSh0KSxuPXRoaXMubV9kZXNjcmlwdGlvbi5nZXRBdHRyaWJ1dGVJbmRleCh0KSksdGhpcy5tX2F0dHJpYnNbdGhpcy5tX2Rlc2NyaXB0aW9uLmdldFBvaW50QXR0cmlidXRlT2Zmc2V0KG4pLTIrZV09c31jb3B5QXR0cmlidXRlc0Zyb20odCxlKXtpZih0aGlzPT09dClyZXR1cm47Y29uc3Qgcz10LmdldERlc2NyaXB0aW9uKCk7Zm9yKGxldCBpPWUmJnMuaGFzWigpPzI6MSxuPXMuZ2V0QXR0cmlidXRlQ291bnQoKTtpPG47KytpKXtjb25zdCBlPXMuZ2V0U2VtYW50aWNzKGkpLG49dGUuZ2V0Q29tcG9uZW50Q291bnQoZSk7Zm9yKGxldCBzPTA7czxuOysrcyl7Y29uc3QgaT10LmdldEF0dHJpYnV0ZUFzRGJsKGUscyk7dGhpcy5zZXRBdHRyaWJ1dGVCYXNpYyhlLHMsaSl9fX1nZXRBdHRyaWJ1dGVBcnJheSgpe3JldHVybiB0aGlzLm1fYXR0cmlic31nZXREZXNjcmlwdGlvbigpe3JldHVybiB0aGlzLm1fZGVzY3JpcHRpb259YXNzaWduVmVydGV4RGVzY3JpcHRpb24odCl7dGhpcy5tX2Rlc2NyaXB0aW9uIT09dCYmdGhpcy5hc3NpZ25WZXJ0ZXhEZXNjcmlwdGlvbkltcGwodCl9bWVyZ2VWZXJ0ZXhEZXNjcmlwdGlvbih0KXt0aGlzLm1fZGVzY3JpcHRpb24hPT10JiYodGhpcy5tX2Rlc2NyaXB0aW9uLmhhc0F0dHJpYnV0ZXNGcm9tKHQpfHx0aGlzLm1lcmdlVmVydGV4RGVzY3JpcHRpb25JbXBsKHQpKX1oYXNBdHRyaWJ1dGUodCl7cmV0dXJuIHRoaXMubV9kZXNjcmlwdGlvbi5oYXNBdHRyaWJ1dGUodCl9YWRkQXR0cmlidXRlKHQpe2lmKHRoaXMubV9kZXNjcmlwdGlvbi5oYXNBdHRyaWJ1dGUodCkpcmV0dXJuO2NvbnN0IGU9Vih0aGlzLm1fZGVzY3JpcHRpb24sdCk7dGhpcy5hc3NpZ25WZXJ0ZXhEZXNjcmlwdGlvbihlKX1kcm9wQXR0cmlidXRlKHQpe2lmKCF0aGlzLm1fZGVzY3JpcHRpb24uaGFzQXR0cmlidXRlKHQpKXJldHVybjtjb25zdCBlPWsodGhpcy5tX2Rlc2NyaXB0aW9uLHQpO3RoaXMuYXNzaWduVmVydGV4RGVzY3JpcHRpb24oZSl9ZHJvcEFsbEF0dHJpYnV0ZXMoKXtjb25zdCB0PU0oKTt0IT09dGhpcy5tX2Rlc2NyaXB0aW9uJiZ0aGlzLmFzc2lnblZlcnRleERlc2NyaXB0aW9uKHQpfWdldEdlb21ldHJ5VHlwZSgpe3JldHVybiB5LmVudW1Qb2ludH1nZXREaW1lbnNpb24oKXtyZXR1cm4gMH1xdWVyeUVudmVsb3BlKHQpe2lmKHQgaW5zdGFuY2VvZiByZSlyZXR1cm4gdC5zZXRFbXB0eSgpLHQuYXNzaWduVmVydGV4RGVzY3JpcHRpb24odGhpcy5tX2Rlc2NyaXB0aW9uKSx2b2lkIHQubWVyZ2UodGhpcyk7aWYodCBpbnN0YW5jZW9mIEcpe2lmKHRoaXMuaXNFbXB0eSgpKXJldHVybiB2b2lkIHQuc2V0RW1wdHkoKTtjb25zdCBlPXRoaXMuZ2V0WFlaKCk7cmV0dXJuIHQueG1pbj1lLngsdC55bWluPWUueSx0LnptaW49ZS56LHQueG1heD1lLngsdC55bWF4PWUueSx2b2lkKHQuem1heD1lLnopfXRoaXMuaXNFbXB0eSgpP3Quc2V0RW1wdHkoKToodC54bWluPXRoaXMueCx0LnltaW49dGhpcy55LHQueG1heD10aGlzLngsdC55bWF4PXRoaXMueSl9cXVlcnlMb29zZUVudmVsb3BlKHQpe3RoaXMucXVlcnlFbnZlbG9wZSh0KX1xdWVyeUludGVydmFsKHQsZSl7Y29uc3Qgcz1uZXcgcjtpZih0aGlzLmlzRW1wdHkoKSlyZXR1cm4gcy5zZXRFbXB0eSgpLHM7Y29uc3QgaT10aGlzLmdldEF0dHJpYnV0ZUFzRGJsKHQsZSk7cmV0dXJuIHMudm1pbj1pLHMudm1heD1pLHN9YXBwbHlUcmFuc2Zvcm1hdGlvbih0KXtpZighdGhpcy5pc0VtcHR5KCkpe2lmKDE9PT10Lm1fVHJhbnNmb3JtYXRpb25UeXBlKXtjb25zdCBlPXRoaXMuZ2V0WFkoKTtyZXR1cm4gdC50cmFuc2Zvcm1JblBsYWNlKGUpLHZvaWQgdGhpcy5zZXRYWShlKX14KFwiM2Qgbm90IGltcGxcIil9fXRyYW5zZm9ybUF0dHJpYnV0ZSh0LGUscyxpLG4pe2lmKHRoaXMuaXNFbXB0eSgpKXJldHVybjt0aGlzLmFkZEF0dHJpYnV0ZSh0KTtjb25zdCByPXRoaXMuZ2V0QXR0cmlidXRlQXNEYmwodCxlKSxoPU50KHMsaSxuKTt0aGlzLnNldEF0dHJpYnV0ZUJhc2ljKHQsZSxoKHIpKX1jcmVhdGVJbnN0YW5jZSgpe3JldHVybiBuZXcgZWUoe3ZkOnRoaXMubV9kZXNjcmlwdGlvbn0pfWNvcHlUbyh0KXtpZih0aGlzPT09dClyZXR1cm47dC5nZXRHZW9tZXRyeVR5cGUoKSE9PXkuZW51bVBvaW50JiZmKCk7Y29uc3QgZT10O2UueD10aGlzLngsZS55PXRoaXMueSx0aGlzLm1fYXR0cmlicz8oZS5hc3NpZ25WZXJ0ZXhEZXNjcmlwdGlvbih0aGlzLm1fZGVzY3JpcHRpb24pLGUubV9hdHRyaWJzPXRoaXMubV9hdHRyaWJzLnNsaWNlKCkpOihlLnJlbGVhc2VBdHRyaWJ1dGVzKCksZS5hc3NpZ25WZXJ0ZXhEZXNjcmlwdGlvbih0aGlzLm1fZGVzY3JpcHRpb24pKX1pc0VtcHR5KCl7cmV0dXJuIE51bWJlci5pc05hTih0aGlzLngpfHxOdW1iZXIuaXNOYU4odGhpcy55KX1zZXRFbXB0eSgpe3RoaXMubV9kZXNjcmlwdGlvbnx8KHRoaXMubV9kZXNjcmlwdGlvbj1NKCksdGhpcy5yZWxlYXNlQXR0cmlidXRlcygpKSx0aGlzLng9TnVtYmVyLk5hTix0aGlzLnk9TnVtYmVyLk5hTix0aGlzLm1fYXR0cmlicyYmbSh0aGlzLm1fYXR0cmlicyx0aGlzLm1fZGVzY3JpcHRpb24uZ2V0RGVmYXVsdFBvaW50QXR0cmlidXRlcygpLDAsMix0aGlzLm1fZGVzY3JpcHRpb24uZ2V0VG90YWxDb21wb25lbnRDb3VudCgpLTIpfWNhbGN1bGF0ZUFyZWEyRCgpe3JldHVybiAwfWNhbGN1bGF0ZUxlbmd0aDJEKCl7cmV0dXJuIDB9Y2FsY3VsYXRlTGVuZ3RoM0QodCl7cmV0dXJuIDB9ZXF1YWxzKHQsZSl7aWYodD09PXRoaXMpcmV0dXJuITA7aWYodC5nZXRHZW9tZXRyeVR5cGUoKSE9PXkuZW51bVBvaW50KXJldHVybiExO2NvbnN0IHM9dDtpZih0aGlzLm1fZGVzY3JpcHRpb24hPT1zLm1fZGVzY3JpcHRpb24pcmV0dXJuITE7aWYodGhpcy5pc0VtcHR5KCkhPT1zLmlzRW1wdHkoKSlyZXR1cm4hMTtpZih0aGlzLmlzRW1wdHkoKSlyZXR1cm4hMDtpZih2b2lkIDA9PT1lJiYoZT0wKSxNYXRoLmFicyh0aGlzLngtcy54KT5lKXJldHVybiExO2lmKE1hdGguYWJzKHRoaXMueS1zLnkpPmUpcmV0dXJuITE7Zm9yKGxldCBuPTAscj10aGlzLm1fZGVzY3JpcHRpb24uZ2V0VG90YWxDb21wb25lbnRDb3VudCgpLTI7bjxyO24rKylpZighaSh0aGlzLm1fYXR0cmlic1tuXSxzLm1fYXR0cmlic1tuXSxlKSlyZXR1cm4hMTtyZXR1cm4hMH1nZXRCb3VuZGFyeSgpe3JldHVybiBudWxsfWNsb25lKCl7Y29uc3QgdD1uZXcgZWUoe3ZkOnRoaXMubV9kZXNjcmlwdGlvbn0pO3JldHVybiB0aGlzLmNvcHlUbyh0KSx0fXN3YXAodCl7aWYodGhpcz09PXQpcmV0dXJuO3QuZ2V0R2VvbWV0cnlUeXBlKCkhPT15LmVudW1Qb2ludCYmZihcIndyb25nIGdlb21ldHJ5IHR5cGVcIik7Y29uc3QgZT10O2UubV9kZXNjcmlwdGlvbj1oKHRoaXMubV9kZXNjcmlwdGlvbix0aGlzLm1fZGVzY3JpcHRpb249ZS5tX2Rlc2NyaXB0aW9uKSxlLng9aCh0aGlzLngsdGhpcy54PWUueCksZS55PWgodGhpcy55LHRoaXMueT1lLnkpLGUubV9hdHRyaWJzPWgodGhpcy5tX2F0dHJpYnMsdGhpcy5tX2F0dHJpYnM9ZS5tX2F0dHJpYnMpfXJlcGxhY2VOYU5zKHQsZSl7aWYodGhpcy5hZGRBdHRyaWJ1dGUodCksdGhpcy5pc0VtcHR5KCkpcmV0dXJuO2NvbnN0IHM9dGUuZ2V0Q29tcG9uZW50Q291bnQodCk7Zm9yKGxldCBpPTA7aTxzO2krKyl7Y29uc3Qgcz10aGlzLmdldEF0dHJpYnV0ZUFzRGJsKHQsaSk7TnVtYmVyLmlzTmFOKHMpJiZ0aGlzLnNldEF0dHJpYnV0ZUJhc2ljKHQsaSxlKX19bGVycCh0LGUscyl7aWYodC5nZXREZXNjcmlwdGlvbigpIT09ZS5nZXREZXNjcmlwdGlvbigpJiZmKFwiUG9pbnQubGVycFwiKSx0aGlzLmFzc2lnblZlcnRleERlc2NyaXB0aW9uKHQuZ2V0RGVzY3JpcHRpb24oKSksdC5pc0VtcHR5KCl8fGUuaXNFbXB0eSgpKXJldHVybiB0aGlzLnNldEVtcHR5KCksdGhpczt0aGlzLmVuc3VyZUF0dHJpYnV0ZXMoKTtjb25zdCBpPUIoKTt0LnF1ZXJ5VmFsdWVzKGksaS5sZW5ndGgpO2NvbnN0IG49QigpO2UucXVlcnlWYWx1ZXMobixuLmxlbmd0aCk7Y29uc3Qgcj1CKCk7bGV0IGg9aSxvPW47Y29uc3QgYT1yO2xldCBtPTA7Zm9yKGxldCBsPTAsdT10aGlzLm1fZGVzY3JpcHRpb24uZ2V0QXR0cmlidXRlQ291bnQoKTtsPHU7bCsrKXtjb25zdCB0PXRoaXMubV9kZXNjcmlwdGlvbi5nZXRTZW1hbnRpY3MobCksZT10ZS5nZXRJbnRlcnBvbGF0aW9uKHQpLGk9dGUuZ2V0Q29tcG9uZW50Q291bnQodCksbj10ZS5nZXREZWZhdWx0VmFsdWUodCk7XyhlLGgsbyxhLG0saSxzLG4pLGg9aC5zbGljZShpKSxvPW8uc2xpY2UoaSksbSs9aX1yZXR1cm4gdGhpcy5zZXRWYWx1ZXMocixtKSx0aGlzfXN0YXRpYyBsZXJwKHQsZSxzLGkpe2kubGVycCh0LGUscyl9c2V0RGVmYXVsdEF0dHJpYnV0ZVZhbHVlcygpe2NvbnN0IHQ9dGhpcy5tX2Rlc2NyaXB0aW9uLmdldFRvdGFsQ29tcG9uZW50Q291bnQoKS0yO3Q+MCYmKHRoaXMubV9hdHRyaWJzP20odGhpcy5tX2F0dHJpYnMsdGhpcy5tX2Rlc2NyaXB0aW9uLmdldERlZmF1bHRQb2ludEF0dHJpYnV0ZXMoKSwwLDIsdCk6dGhpcy5tX2F0dHJpYnM9dGhpcy5tX2Rlc2NyaXB0aW9uLmdldERlZmF1bHRQb2ludEF0dHJpYnV0ZXMoKS5zbGljZSgyKSl9c3RhdGljIHNxckRpc3RhbmNlMkQodCxlKXtyZXR1cm4gby5zcXJEaXN0YW5jZUNvb3Jkcyh0LngsdC55LGUueCxlLnkpfWdldEltcGwoKXtyZXR1cm4gdGhpc31tZXJnZVZlcnRleERlc2NyaXB0aW9uSW1wbCh0KXtjb25zdCBlPUgodGhpcy5nZXREZXNjcmlwdGlvbigpLHQpO3RoaXMuYXNzaWduVmVydGV4RGVzY3JpcHRpb24oZSl9cmVsZWFzZUF0dHJpYnV0ZXMoKXt0aGlzLm1fYXR0cmlicz1udWxsfWFzc2lnblZlcnRleERlc2NyaXB0aW9uSW1wbCh0KXt0aGlzLm1fZGVzY3JpcHRpb258fCh0aGlzLm1fZGVzY3JpcHRpb249TSgpKTtjb25zdCBlPVMoKTtZKHQsdGhpcy5tX2Rlc2NyaXB0aW9uLGUpO2xldCBzPW51bGw7dC5nZXRUb3RhbENvbXBvbmVudENvdW50KCktMj4wJiYocz10LmdldERlZmF1bHRQb2ludEF0dHJpYnV0ZXMoKS5zbGljZSgyKSk7Zm9yKGxldCBpPTEsbj10LmdldEF0dHJpYnV0ZUNvdW50KCk7aTxuO2krKyl7Y29uc3Qgbj1lW2ldO2lmKC0xIT09bil7Y29uc3QgZT10aGlzLm1fZGVzY3JpcHRpb24uZ2V0UG9pbnRBdHRyaWJ1dGVPZmZzZXQobiktMixyPXQuZ2V0UG9pbnRBdHRyaWJ1dGVPZmZzZXQoaSktMixoPXRlLmdldENvbXBvbmVudENvdW50KHQuZ2V0U2VtYW50aWNzKGkpKTtmb3IobGV0IHQ9MDt0PGg7dCsrKXNbcit0XT10aGlzLm1fYXR0cmlic1tlK3RdfX10aGlzLm1fYXR0cmlicz1zLHRoaXMubV9kZXNjcmlwdGlvbj10fWVuc3VyZUF0dHJpYnV0ZXMoKXt0aGlzLm1fZGVzY3JpcHRpb24uZ2V0VG90YWxDb21wb25lbnRDb3VudCgpLTI+MCYmbnVsbD09PXRoaXMubV9hdHRyaWJzJiYodGhpcy5tX2F0dHJpYnM9dGhpcy5tX2Rlc2NyaXB0aW9uLmdldERlZmF1bHRQb2ludEF0dHJpYnV0ZXMoKS5zbGljZSgyKSl9cXVlcnlWYWx1ZXModCxlKXtjb25zdCBzPXRoaXMubV9kZXNjcmlwdGlvbi5nZXRUb3RhbENvbXBvbmVudENvdW50KCk7ZyhzPD1lKSx0WzBdPXRoaXMueCx0WzFdPXRoaXMueSxtKHQsdGhpcy5tX2F0dHJpYnMsMiwwLHMtMil9Y29weUNvbW1vbkF0dHJpYnV0ZXNUbyh0KXt0Lng9dGhpcy54LHQueT10aGlzLnk7Y29uc3QgZT10LmdldERlc2NyaXB0aW9uKCk7aWYoZT09PXRoaXMubV9kZXNjcmlwdGlvbil0aGlzLm1fYXR0cmlicyYmbSh0Lm1fYXR0cmlicyx0aGlzLm1fYXR0cmlicywwLDAsdGhpcy5tX2Rlc2NyaXB0aW9uLmdldFRvdGFsQ29tcG9uZW50Q291bnQoKS0yKTtlbHNle2xldCBzPTA7Zm9yKGxldCBpPTEsbj1lLmdldEF0dHJpYnV0ZUNvdW50KCk7aTxuO2krKyl7Y29uc3Qgbj1lLmdldFNlbWFudGljcyhpKTtsZXQgcj10ZS5nZXRDb21wb25lbnRDb3VudChuKTtpZih0aGlzLm1fZGVzY3JpcHRpb24uaGFzQXR0cmlidXRlKG4pKXtsZXQgZT10aGlzLm1fZGVzY3JpcHRpb24uZ2V0UG9pbnRBdHRyaWJ1dGVPZmZzZXQodGhpcy5tX2Rlc2NyaXB0aW9uLmdldEF0dHJpYnV0ZUluZGV4KG4pKS0yO2Zvcig7MCE9PXI7KXQubV9hdHRyaWJzW3MrK109dGhpcy5tX2F0dHJpYnNbZSsrXSxyLS19ZWxzZXtjb25zdCBlPXRlLmdldERlZmF1bHRWYWx1ZShuKTtmb3IoOzAhPT1yOyl0Lm1fYXR0cmlic1tzKytdPWUsci0tfX19fXNldFZhbHVlcyh0LGUpe2NvbnN0IHM9dGhpcy5tX2Rlc2NyaXB0aW9uLmdldFRvdGFsQ29tcG9uZW50Q291bnQoKTtnKHM8PWUpLHRoaXMueD10WzBdLHRoaXMueT10WzFdLG0odGhpcy5tX2F0dHJpYnMsdCwwLDIscy0yKX1kYmdEZWZhdWx0QXR0cmlicygpe319ZWUudHlwZT15LmVudW1Qb2ludDt2YXIgc2U9ejtmdW5jdGlvbiBpZSh0LGUpe3JldHVybiBlKih0LmdldFRvdGFsQ29tcG9uZW50Q291bnQoKS0yKX1jbGFzcyBuZXtjb25zdHJ1Y3Rvcih0KXtpZih0aGlzLm1fYXR0cmlidXRlcz1udWxsLHQpaWYodm9pZCAwIT09dC54bWluKXRoaXMubV9lbnZlbG9wZTJEPW5ldyBwKHQueG1pbix0LnltaW4sdC54bWF4LHQueW1heCk7ZWxzZSBpZih2b2lkIDAhPT10LmVudjJEKXRoaXMubV9lbnZlbG9wZTJEPW5ldyBwKHQuZW52MkQpO2Vsc2UgaWYodC5tb3ZlKXRoaXMubV9lbnZlbG9wZTJEPW5ldyBwKHQubW92ZS5tX2VudmVsb3BlMkQpLHRoaXMubV9hdHRyaWJ1dGVzPXQubW92ZS5tX2F0dHJpYnV0ZXMsdC5tb3ZlLm1fYXR0cmlidXRlcz1udWxsO2Vsc2V7aWYoIXQubW92ZUVudil0aHJvdyBuZXcgRXJyb3IoXCJ1bnJlY29nbml6ZWQgRW52ZWxvcGVEYXRhIGNvbnN0cnVjdG9yIG9wdGlvbnNcIik7e2NvbnN0IGU9dC5tb3ZlRW52LmFjY2Vzc0VudmVsb3BlRGF0YSgpO3RoaXMubV9lbnZlbG9wZTJEPW5ldyBwKGUubV9lbnZlbG9wZTJEKSx0aGlzLm1fYXR0cmlidXRlcz1lLm1fYXR0cmlidXRlcyxlLm1fYXR0cmlidXRlcz1udWxsfX1lbHNlIHRoaXMubV9lbnZlbG9wZTJEPXAuY29uc3RydWN0RW1wdHkoKX1lbnN1cmVBdHRyaWJ1dGVzKHQpe2NvbnN0IHM9dC5nZXRUb3RhbENvbXBvbmVudENvdW50KCktMjshdGhpcy5tX2F0dHJpYnV0ZXMmJnMmJih0aGlzLm1fYXR0cmlidXRlcz1lKDIqcyxOdW1iZXIuTmFOKSx0aGlzLm1fYXR0cmlidXRlcy5maWxsKE51bWJlci5OYU4pKX1jb3B5VG8odCxzKXtjb25zdCBpPXMsbj10LmdldFRvdGFsQ29tcG9uZW50Q291bnQoKS0yO2lmKGkubV9kZXNjcmlwdGlvbiE9PXQmJihpLnJlbGVhc2VBdHRyaWJ1dGVzXygpLGkubV9kZXNjcmlwdGlvbj10LG4mJihpLm1fZGF0YS5tX2F0dHJpYnV0ZXM9ZSgyKm4sTnVtYmVyLk5hTikpKSxuKXtnKHRoaXMubV9hdHRyaWJ1dGVzJiZpLm1fZGF0YS5tX2F0dHJpYnV0ZXMpO2NvbnN0IHQ9MipuO20oaS5tX2RhdGEubV9hdHRyaWJ1dGVzLHRoaXMubV9hdHRyaWJ1dGVzLDAsMCx0KX1pLm1fZGF0YS5tX2VudmVsb3BlMkQ9bmV3IHAodGhpcy5tX2VudmVsb3BlMkQpfWNvcHlUb0lmTm90TnVsbCh0LGUpe2UubV9lbnZlbG9wZTJEPW5ldyBwKHRoaXMubV9lbnZlbG9wZTJEKSxlLnJlbGVhc2VBdHRyaWJ1dGVzKCk7dC5nZXRUb3RhbENvbXBvbmVudENvdW50KCktMiYmdGhpcy5tX2F0dHJpYnV0ZXMmJihlLm1fYXR0cmlidXRlcz10aGlzLm1fYXR0cmlidXRlcy5zbGljZSgpKX1yZWxlYXNlQXR0cmlidXRlcygpe3RoaXMubV9hdHRyaWJ1dGVzPW51bGx9aXNFbXB0eSgpe3JldHVybiB0aGlzLm1fZW52ZWxvcGUyRC5pc0VtcHR5KCl9dHJhbnNmb3JtQXR0cmlidXRlKHQsZSxzLGksbil7ZygwKX1xdWVyeUludGVydmFsKHQsZSxzLGkpe2lmKHRoaXMuaXNFbXB0eSgpKXJldHVybiB2b2lkIGkuc2V0RW1wdHkoKTtpZigwPT09ZSlyZXR1cm4gdm9pZCgwPT09cz90aGlzLm1fZW52ZWxvcGUyRC5xdWVyeUludGVydmFsWChpKToxPT09cz90aGlzLm1fZW52ZWxvcGUyRC5xdWVyeUludGVydmFsWShpKTp2KFwiXCIpKTtjb25zdCBuPXNlLmdldENvbXBvbmVudENvdW50KGUpOyhzPDB8fHM+PW4pJiZ2KFwiXCIpO2NvbnN0IHI9dC5nZXRBdHRyaWJ1dGVJbmRleChlKTtpZihyPj0wKXJldHVybiBpLnZtaW49dGhpcy5tX2F0dHJpYnV0ZXNbaWUodCwwKSt0LmdldFBvaW50QXR0cmlidXRlT2Zmc2V0KHIpLTIrc10sdm9pZChpLnZtYXg9dGhpcy5tX2F0dHJpYnV0ZXNbaWUodCwxKSt0LmdldFBvaW50QXR0cmlidXRlT2Zmc2V0KHIpLTIrc10pO3tjb25zdCB0PXNlLmdldERlZmF1bHRWYWx1ZShlKTtyZXR1cm4gdm9pZCBpLnNldENvb3Jkcyh0LHQpfX1xdWVyeUVudmVsb3BlM0QodCxlKXtjb25zdCBzPW5ldyByO3RoaXMucXVlcnlJbnRlcnZhbCh0LDEsMCxzKSxlLnNldENvb3Jkcyh0aGlzLm1fZW52ZWxvcGUyRC54bWluLHRoaXMubV9lbnZlbG9wZTJELnltaW4scy52bWluLHRoaXMubV9lbnZlbG9wZTJELnhtYXgsdGhpcy5tX2VudmVsb3BlMkQueW1heCxzLnZtYXgpfXNldEVtcHR5KHQpe3RoaXMubV9lbnZlbG9wZTJELnNldEVtcHR5KCk7Y29uc3Qgcz10LmdldFRvdGFsQ29tcG9uZW50Q291bnQoKS0yO3MmJih0aGlzLm1fYXR0cmlidXRlcz90aGlzLmRiZ0Fzc2VydFNpemUocyk6dGhpcy5tX2F0dHJpYnV0ZXM9ZSgyKnMsTnVtYmVyLk5hTiksdGhpcy5tX2F0dHJpYnV0ZXMuZmlsbChOdW1iZXIuTmFOKSl9ZGJnQXNzZXJ0U2l6ZSh0KXt9fWxldCByZT1jbGFzcyB0e2NvbnN0cnVjdG9yKHQpe2lmKHRoaXMubV9FbnZlbG9wZVR5cGU9NCx0aGlzLm1fZGVzY3JpcHRpb249TSgpLHZvaWQgMD09PXQpdGhpcy5tX2RhdGE9bmV3IG5lO2Vsc2UgaWYodm9pZCAwIT09dC52ZCl0aGlzLm1fZGVzY3JpcHRpb249dC52ZCx0aGlzLm1fZGF0YT1uZXcgbmUsdGhpcy5lbnN1cmVBdHRyaWJ1dGVzXygpO2Vsc2UgaWYodD8uZW52MkQpdGhpcy5tX2RhdGE9bmV3IG5lKHtlbnYyRDp0LmVudjJEfSk7ZWxzZSBpZih2b2lkIDAhPT10LnhtaW4pdGhpcy5tX2RhdGE9bmV3IG5lKHt4bWluOnQueG1pbix5bWluOnQueW1pbix4bWF4OnQueG1heCx5bWF4OnQueW1heH0pO2Vsc2UgaWYodC5jb3B5KXRoaXMubV9kYXRhPW5ldyBuZSx0LmNvcHkuY29weVRvKHRoaXMpO2Vsc2UgaWYodC5tb3ZlKXRoaXMubV9kZXNjcmlwdGlvbj10Lm1vdmUubV9kZXNjcmlwdGlvbix0Lm1vdmUubV9kZXNjcmlwdGlvbj1udWxsLHRoaXMubV9kYXRhPW5ldyBuZSh7bW92ZTp0Lm1vdmUubV9kYXRhfSk7ZWxzZXtpZighdC5jZW50ZXJQb2ludCl0aHJvdyBuZXcgRXJyb3IoXCJ1bnJlY29nbml6ZWQgRW52ZWxvcGUgY29uc3RydWN0b3Igb3B0aW9uc1wiKTt0aGlzLm1fZGVzY3JpcHRpb249dC5jZW50ZXJQb2ludC5nZXREZXNjcmlwdGlvbigpLHRoaXMubV9kYXRhPW5ldyBuZSx0aGlzLmVuc3VyZUF0dHJpYnV0ZXNfKCksdGhpcy5zZXRGcm9tUG9pbnQodC5jZW50ZXJQb2ludCx0LndpZHRoLHQuaGVpZ2h0KX19YWNjZXNzRW52ZWxvcGVEYXRhKCl7cmV0dXJuIHRoaXMubV9kZXNjcmlwdGlvbj1udWxsLHRoaXMubV9kYXRhfWFzc2lnbk1vdmUodCl7cmV0dXJuIHRoaXM9PT10fHwodGhpcy5tX2Rlc2NyaXB0aW9uPXQubV9kZXNjcmlwdGlvbix0Lm1fZGVzY3JpcHRpb249bnVsbCx0aGlzLm1fZGF0YT1uZXcgbmUoe21vdmU6dC5tX2RhdGF9KSksdGhpc31hc3NpZ25Db3B5KHQpe3JldHVybiB0aGlzPT09dHx8dC5jb3B5VG8odGhpcyksdGhpc310cmFuc2Zvcm1BdHRyaWJ1dGUodCxlLHMsaSxuKXtnKDApfXNldEF0dHJpYnV0ZUJhc2ljKHQsZSxzKXtpZih0aGlzLmFkZEF0dHJpYnV0ZSh0KSx0aGlzLm1fZGF0YS5pc0VtcHR5KCkpcmV0dXJuO2NvbnN0IGk9dGhpcy5xdWVyeUludGVydmFsKHQsZSk7aS52bWluPXMsaS52bWF4PXMsdGhpcy5zZXRJbnRlcnZhbEVudmVsb3BlKHQsZSxpKX1tZXJnZVZlcnRleERlc2NyaXB0aW9uSW1wbCh0KXtjb25zdCBlPUgodGhpcy5nZXREZXNjcmlwdGlvbigpLHQpO3RoaXMuYXNzaWduVmVydGV4RGVzY3JpcHRpb24oZSl9YXNFbnZlbG9wZTJEKCl7cmV0dXJuIG5ldyBwKHRoaXMubV9kYXRhLm1fZW52ZWxvcGUyRCl9YXNzaWduVmVydGV4RGVzY3JpcHRpb24odCl7dGhpcy5tX2Rlc2NyaXB0aW9uIT09dCYmdGhpcy5hc3NpZ25WZXJ0ZXhEZXNjcmlwdGlvbkltcGwodCl9Z2V0R2VvbWV0cnlUeXBlKCl7cmV0dXJuIHkuZW51bUVudmVsb3BlfWdldERpbWVuc2lvbigpe3JldHVybiAyfWdldFhNaW4oKXtyZXR1cm4gdGhpcy5tX2RhdGEubV9lbnZlbG9wZTJELnhtaW59Z2V0WU1pbigpe3JldHVybiB0aGlzLm1fZGF0YS5tX2VudmVsb3BlMkQueW1pbn1nZXRYTWF4KCl7cmV0dXJuIHRoaXMubV9kYXRhLm1fZW52ZWxvcGUyRC54bWF4fWdldFlNYXgoKXtyZXR1cm4gdGhpcy5tX2RhdGEubV9lbnZlbG9wZTJELnltYXh9d2lkdGgoKXtyZXR1cm4gdGhpcy5tX2RhdGEuaXNFbXB0eSgpP051bWJlci5OYU46dGhpcy5tX2RhdGEubV9lbnZlbG9wZTJELndpZHRoKCl9aGVpZ2h0KCl7cmV0dXJuIHRoaXMubV9kYXRhLmlzRW1wdHkoKT9OdW1iZXIuTmFOOnRoaXMubV9kYXRhLm1fZW52ZWxvcGUyRC5oZWlnaHQoKX1nZXRDZW50ZXJYWSgpe3JldHVybiB0aGlzLm1fZGF0YS5pc0VtcHR5KCk/bmV3IG86dGhpcy5tX2RhdGEubV9lbnZlbG9wZTJELmdldENlbnRlcigpfWdldENlbnRlcih0KXtpZih0LmFzc2lnblZlcnRleERlc2NyaXB0aW9uKHRoaXMubV9kZXNjcmlwdGlvbiksdGhpcy5tX2RhdGEuaXNFbXB0eSgpKXJldHVybiB2b2lkIHQuc2V0RW1wdHkoKTtjb25zdCBlPXRoaXMubV9kZXNjcmlwdGlvbi5nZXRBdHRyaWJ1dGVDb3VudCgpO2ZvcihsZXQgcz0xO3M8ZTtzKyspe2NvbnN0IGU9dGhpcy5tX2Rlc2NyaXB0aW9uLmdldFNlbWFudGljcyhzKSxpPXNlLmdldENvbXBvbmVudENvdW50KGUpO2ZvcihsZXQgcz0wO3M8aTtzKyspe2NvbnN0IGk9LjUqKHRoaXMuZ2V0QXR0cmlidXRlQXNEYmxJbXBsKDAsZSxzKSt0aGlzLmdldEF0dHJpYnV0ZUFzRGJsSW1wbCgxLGUscykpO3Quc2V0QXR0cmlidXRlQmFzaWMoZSxzLGkpfX10LnNldFhZKHRoaXMubV9kYXRhLm1fZW52ZWxvcGUyRC5nZXRDZW50ZXIoKSl9c2V0Q29vcmRzKHQsZSxzLGkpe3RoaXMubV9kYXRhLm1fZW52ZWxvcGUyRC5zZXRDb29yZHMoe3htaW46dCx5bWluOmUseG1heDpzLHltYXg6aX0pfXNldEVudmVsb3BlKHQpe2lmKHQgaW5zdGFuY2VvZiBwKXRoaXMubV9kYXRhLm1fZW52ZWxvcGUyRD1uZXcgcCh0KSx0aGlzLm1fZGF0YS5tX2VudmVsb3BlMkQubm9ybWFsaXplKCk7ZWxzZXt0aGlzLmFkZEF0dHJpYnV0ZSgxKSx0aGlzLm1fZGF0YS5tX2VudmVsb3BlMkQ9dC5nZXRFbnZlbG9wZTJEKCksdGhpcy5tX2RhdGEubV9lbnZlbG9wZTJELm5vcm1hbGl6ZSgpO2NvbnN0IGU9ci5jb25zdHJ1Y3RFbXB0eSgpO2Uuc2V0Q29vcmRzKHQuem1pbix0LnptYXgpLHRoaXMuc2V0SW50ZXJ2YWwoMSwwLGUudm1pbixlLnZtYXgpfX1tZXJnZShlKXtpZihlIGluc3RhbmNlb2YgcClyZXR1cm4gZS5pc1ZhbGlkKCl8fGYoXCJcIiksdm9pZCB0aGlzLm1fZGF0YS5tX2VudmVsb3BlMkQubWVyZ2VFbnZlbG9wZTJEKGUpO2lmKGUgaW5zdGFuY2VvZiB0KXtpZihlLm1fZGF0YS5pc0VtcHR5KCkpcmV0dXJuO2NvbnN0IHQ9ZS5nZXREZXNjcmlwdGlvbigpO3RoaXMubWVyZ2VWZXJ0ZXhEZXNjcmlwdGlvbih0KSx0aGlzLm1fZGF0YS5tX2VudmVsb3BlMkQubWVyZ2VFbnZlbG9wZTJEKGUubV9kYXRhLm1fZW52ZWxvcGUyRCk7Zm9yKGxldCBzPTEsaT10LmdldEF0dHJpYnV0ZUNvdW50KCk7czxpO3MrKyl7Y29uc3QgaT10LmdldFNlbWFudGljcyhzKSxuPXNlLmdldENvbXBvbmVudENvdW50KGkpO2ZvcihsZXQgdD0wO3Q8bjt0Kyspe2NvbnN0IHM9ZS5xdWVyeUludGVydmFsKGksdCksbj10aGlzLnF1ZXJ5SW50ZXJ2YWwoaSx0KTtuLm1lcmdlKHMpLHRoaXMuc2V0SW50ZXJ2YWxFbnZlbG9wZShpLHQsbil9fX1lbHNlIGlmKGUgaW5zdGFuY2VvZiBlZSl7Y29uc3QgdD1lO2lmKHQuaXNFbXB0eSgpKXJldHVybjtjb25zdCBzPXQuZ2V0RGVzY3JpcHRpb24oKTtpZih0aGlzLm1lcmdlVmVydGV4RGVzY3JpcHRpb24ocyksdGhpcy5tX2RhdGEuaXNFbXB0eSgpKXJldHVybiB2b2lkIHRoaXMuc2V0RnJvbVBvaW50KHQpO3RoaXMubV9kYXRhLm1fZW52ZWxvcGUyRC5tZXJnZSh0LmdldFhZKCkpO2ZvcihsZXQgZT0xLGk9cy5nZXRBdHRyaWJ1dGVDb3VudCgpO2U8aTtlKyspe2NvbnN0IGk9cy5nZXRTZW1hbnRpY3MoZSksbj1zZS5nZXRDb21wb25lbnRDb3VudChpKTtmb3IobGV0IGU9MDtlPG47ZSsrKXtjb25zdCBzPXQuZ2V0QXR0cmlidXRlQXNEYmwoaSxlKSxuPXRoaXMucXVlcnlJbnRlcnZhbChpLGUpO24ubWVyZ2VDb29yZGluYXRlKHMpLHRoaXMuc2V0SW50ZXJ2YWxFbnZlbG9wZShpLGUsbil9fX1lbHNlIHgoXCJ1bnJlY29nbml6ZWQgdHlwZSBmb3IgZW52ZWxvcGUubWVyZ2VcIil9aW50ZXJzZWN0KHQpe2lmKCF0aGlzLm1fZGF0YS5tX2VudmVsb3BlMkQuaW50ZXJzZWN0KHQubV9kYXRhLm1fZW52ZWxvcGUyRCkpcmV0dXJuIHRoaXMuc2V0RW1wdHkoKSwhMTtjb25zdCBlPXQuZ2V0RGVzY3JpcHRpb24oKTt0aGlzLm1lcmdlVmVydGV4RGVzY3JpcHRpb24oZSk7Zm9yKGxldCBzPTEsaT10aGlzLm1fZGVzY3JpcHRpb24uZ2V0QXR0cmlidXRlQ291bnQoKTtzPGk7cysrKXtjb25zdCBlPXRoaXMubV9kZXNjcmlwdGlvbi5nZXRTZW1hbnRpY3MocyksaT1zZS5nZXRDb21wb25lbnRDb3VudChlKTtmb3IobGV0IHM9MDtzPGk7cysrKXtjb25zdCBpPXQucXVlcnlJbnRlcnZhbChlLHMpLG49dGhpcy5xdWVyeUludGVydmFsKGUscyk7bi5pbnRlcnNlY3QoaSksdGhpcy5zZXRJbnRlcnZhbEVudmVsb3BlKGUscyxuKX19cmV0dXJuITB9aW50ZXJzZWN0Q29tbW9uQXR0cmlidXRlcyh0KXtpZighdGhpcy5tX2RhdGEubV9lbnZlbG9wZTJELmludGVyc2VjdCh0Lm1fZGF0YS5tX2VudmVsb3BlMkQpKXJldHVybiB0aGlzLnNldEVtcHR5KCksITE7Y29uc3QgZT10LmdldERlc2NyaXB0aW9uKCk7Zm9yKGxldCBzPTEsaT10aGlzLm1fZGVzY3JpcHRpb24uZ2V0QXR0cmlidXRlQ291bnQoKTtzPGk7cysrKXtjb25zdCBpPXRoaXMubV9kZXNjcmlwdGlvbi5nZXRTZW1hbnRpY3Mocyk7aWYoIWUuaGFzQXR0cmlidXRlKGkpKWNvbnRpbnVlO2NvbnN0IG49c2UuZ2V0Q29tcG9uZW50Q291bnQoaSk7Zm9yKGxldCBlPTA7ZTxuO2UrKyl7Y29uc3Qgcz10LnF1ZXJ5SW50ZXJ2YWwoaSxlKSxuPXRoaXMucXVlcnlJbnRlcnZhbChpLGUpO24uaW50ZXJzZWN0KHMpLHRoaXMuc2V0SW50ZXJ2YWxFbnZlbG9wZShpLGUsbil9fXJldHVybiEwfW1vdmUodCxlKXt0aGlzLm1fZGF0YS5tX2VudmVsb3BlMkQubW92ZSh0LGUpfWNlbnRlckF0KHQsZSl7dGhpcy5tX2RhdGEubV9lbnZlbG9wZTJELmNlbnRlckF0Q29vcmRzKHQsZSl9Y2VudGVyQXRQb2ludCh0KXt0aGlzLm1fZGF0YS5tX2VudmVsb3BlMkQuY2VudGVyQXQodCl9cmVhc3BlY3QodCxlKXt0aGlzLm1fZGF0YS5tX2VudmVsb3BlMkQucmVhc3BlY3QodCxlKX1pbmZsYXRlQ29vcmRzKHQsZSl7dGhpcy5tX2RhdGEubV9lbnZlbG9wZTJELmluZmxhdGVDb29yZHModCxlKX1jb250YWluc0Nvb3Jkcyh0LGUpe3JldHVybiB0aGlzLm1fZGF0YS5tX2VudmVsb3BlMkQuY29udGFpbnNDb29yZHModCxlKX1jb250YWlucyh0KXtyZXR1cm4gdGhpcy5tX2RhdGEubV9lbnZlbG9wZTJELmNvbnRhaW5zKHQpfWNvbnRhaW5zUG9pbnQodCl7cmV0dXJuIXQuaXNFbXB0eSgpJiZ0aGlzLm1fZGF0YS5tX2VudmVsb3BlMkQuY29udGFpbnModC5nZXRYWSgpKX1jb250YWluc0VudmVsb3BlKHQpe3JldHVybiB0aGlzLm1fZGF0YS5tX2VudmVsb3BlMkQuY29udGFpbnNFbnZlbG9wZSh0Lm1fZGF0YS5tX2VudmVsb3BlMkQpfXNldEludGVydmFsRW52ZWxvcGUodCxlLHMpe2lmKHRoaXMuYWRkQXR0cmlidXRlKHQpLHRoaXMubV9kYXRhLmlzRW1wdHkoKSlyZXR1cm47Y29uc3QgaT1uZXcgcihzKTtpZihpLm5vcm1hbGl6ZSgpLDA9PT10KXtpZihpLmlzRW1wdHkoKSlyZXR1cm4gdm9pZCB0aGlzLnNldEVtcHR5KCk7MD09PWU/KHRoaXMubV9kYXRhLm1fZW52ZWxvcGUyRC54bWluPWkudm1pbix0aGlzLm1fZGF0YS5tX2VudmVsb3BlMkQueG1heD1pLnZtYXgpOjE9PT1lPyh0aGlzLm1fZGF0YS5tX2VudmVsb3BlMkQueW1pbj1pLnZtaW4sdGhpcy5tX2RhdGEubV9lbnZlbG9wZTJELnltYXg9aS52bWF4KTp2KFwiXCIpfWVsc2UgdGhpcy5zZXRBdHRyaWJ1dGVBc0RibEltcGwoMCx0LGUsaS52bWluKSx0aGlzLnNldEF0dHJpYnV0ZUFzRGJsSW1wbCgxLHQsZSxpLnZtYXgpfXNldEludGVydmFsKHQsZSxzLGkpe3RoaXMuc2V0SW50ZXJ2YWxFbnZlbG9wZSh0LGUsbmV3IHIocyxpKSl9cXVlcnlJbnRlcnZhbCh0LGUpe2NvbnN0IHM9bmV3IHI7cmV0dXJuIHRoaXMubV9kYXRhLnF1ZXJ5SW50ZXJ2YWwodGhpcy5tX2Rlc2NyaXB0aW9uLHQsZSxzKSxzfXF1ZXJ5RW52ZWxvcGUodCl7MiE9PXQubV9FbnZlbG9wZVR5cGU/MyE9PXQubV9FbnZlbG9wZVR5cGU/NCE9PXQubV9FbnZlbG9wZVR5cGU/eChcInVucmVjb2duaXplZCB0eXBlIGZvciBxdWVyeUVudmVsb3BlclwiKTp0aGlzLmNvcHlUbyh0KTp0aGlzLm1fZGF0YS5xdWVyeUVudmVsb3BlM0QodGhpcy5tX2Rlc2NyaXB0aW9uLHQpOnQuc2V0Q29vcmRzKHtlbnYyRDp0aGlzLm1fZGF0YS5tX2VudmVsb3BlMkR9KX1hcHBseVRyYW5zZm9ybWF0aW9uKHQpezEhPT10Lm1fVHJhbnNmb3JtYXRpb25UeXBlP2coMCk6dC50cmFuc2Zvcm1FbnZJblBsYWNlKHRoaXMubV9kYXRhLm1fZW52ZWxvcGUyRCl9Y3JlYXRlSW5zdGFuY2UoKXtyZXR1cm4gbmV3IHQoe3ZkOnRoaXMubV9kZXNjcmlwdGlvbn0pfWNvcHlUbyh0KXt0IT09dGhpcyYmdGhpcy5tX2RhdGEuY29weVRvKHRoaXMubV9kZXNjcmlwdGlvbix0KX1pc0VtcHR5KCl7cmV0dXJuIHRoaXMubV9kYXRhLmlzRW1wdHkoKX1zZXRFbXB0eSgpe3RoaXMubV9kZXNjcmlwdGlvbnx8KHRoaXMubV9kZXNjcmlwdGlvbj1NKCkpLHRoaXMubV9kYXRhLnNldEVtcHR5KHRoaXMubV9kZXNjcmlwdGlvbil9Y2FsY3VsYXRlQXJlYTJEKCl7cmV0dXJuIHRoaXMubV9kYXRhLm1fZW52ZWxvcGUyRC5nZXRBcmVhKCl9Y2FsY3VsYXRlTGVuZ3RoMkQoKXtyZXR1cm4gdGhpcy5tX2RhdGEubV9lbnZlbG9wZTJELmdldExlbmd0aCgpfWNhbGN1bGF0ZUxlbmd0aDNEKHQpe3JldHVybiBnKDApLDB9ZXF1YWxzKHQsZSl7aWYodD09PXRoaXMpcmV0dXJuITA7Y29uc3Qgcz10O2lmKHRoaXMubV9kZXNjcmlwdGlvbiE9PXMubV9kZXNjcmlwdGlvbilyZXR1cm4hMTtpZih0aGlzLm1fZGF0YS5pc0VtcHR5KCkhPT1zLm1fZGF0YS5pc0VtcHR5KCkpcmV0dXJuITE7aWYodGhpcy5tX2RhdGEuaXNFbXB0eSgpKXJldHVybiEwO2lmKHZvaWQgMD09PWUmJihlPTApLE1hdGguYWJzKHRoaXMubV9kYXRhLm1fZW52ZWxvcGUyRC54bWluLXMubV9kYXRhLm1fZW52ZWxvcGUyRC54bWluKT5lKXJldHVybiExO2lmKE1hdGguYWJzKHRoaXMubV9kYXRhLm1fZW52ZWxvcGUyRC55bWluLXMubV9kYXRhLm1fZW52ZWxvcGUyRC55bWluKT5lKXJldHVybiExO2lmKE1hdGguYWJzKHRoaXMubV9kYXRhLm1fZW52ZWxvcGUyRC54bWF4LXMubV9kYXRhLm1fZW52ZWxvcGUyRC54bWF4KT5lKXJldHVybiExO2lmKE1hdGguYWJzKHRoaXMubV9kYXRhLm1fZW52ZWxvcGUyRC55bWF4LXMubV9kYXRhLm1fZW52ZWxvcGUyRC55bWF4KT5lKXJldHVybiExO2ZvcihsZXQgbj0wLHI9MioodGhpcy5tX2Rlc2NyaXB0aW9uLmdldFRvdGFsQ29tcG9uZW50Q291bnQoKS0yKTtuPHI7bisrKWlmKCFpKHRoaXMubV9kYXRhLm1fYXR0cmlidXRlc1tuXSxzLm1fZGF0YS5tX2F0dHJpYnV0ZXNbbl0sZSkpcmV0dXJuITE7cmV0dXJuITB9Z2V0Qm91bmRhcnkoKXtyZXR1cm4geChcImdldEJvdW5kYXJ5IG5vdCBhdmFpbGFibGUgaW4gdGhpcyBjb250ZXh0LiBVc2UgdGhlIGJvdW5kYXJ5IG9wZXJhdG9yIHdpdGggYW4gZW52ZWxvcGUgcGFyYW1ldGVyXCIpLG51bGx9Y2xvbmUoKXtyZXR1cm4gbmV3IHQoe2NvcHk6dGhpc30pfXN3YXAodCl7aWYodGhpcz09PXQpcmV0dXJuO3QuZ2V0R2VvbWV0cnlUeXBlKCkhPT15LmVudW1FbnZlbG9wZSYmZihcIndyb25nIGdlb21ldHJ5IHR5cGVcIik7Y29uc3QgZT10O2UubV9kZXNjcmlwdGlvbj1oKHRoaXMubV9kZXNjcmlwdGlvbix0aGlzLm1fZGVzY3JpcHRpb249ZS5tX2Rlc2NyaXB0aW9uKSxlLm1fZGF0YS5tX2VudmVsb3BlMkQ9aCh0aGlzLm1fZGF0YS5tX2VudmVsb3BlMkQsdGhpcy5tX2RhdGEubV9lbnZlbG9wZTJEPWUubV9kYXRhLm1fZW52ZWxvcGUyRCksZS5tX2RhdGEubV9hdHRyaWJ1dGVzPWgodGhpcy5tX2RhdGEubV9hdHRyaWJ1dGVzLHRoaXMubV9kYXRhLm1fYXR0cmlidXRlcz1lLm1fZGF0YS5tX2F0dHJpYnV0ZXMpfXF1ZXJ5Q29vcmRpbmF0ZXModCl7dGhpcy5tX2RhdGEuaXNFbXB0eSgpJiZmKFwiXCIpLHRoaXMubV9kYXRhLm1fZW52ZWxvcGUyRC5xdWVyeUNvcm5lcnModCl9cXVlcnlDb3JuZXJCeVZhbCh0LGUpeyh0PDB8fHQ+MykmJnYoXCJcIiksZS5hc3NpZ25WZXJ0ZXhEZXNjcmlwdGlvbih0aGlzLm1fZGVzY3JpcHRpb24pO2NvbnN0IHM9dGhpcy5nZXREZXNjcmlwdGlvbigpLmdldEF0dHJpYnV0ZUNvdW50KCk7Zm9yKGxldCBpPTE7aTxzO2krKyl7Y29uc3Qgcz10aGlzLm1fZGVzY3JpcHRpb24uZ2V0U2VtYW50aWNzKGkpLG49c2UuZ2V0Q29tcG9uZW50Q291bnQocyk7Zm9yKGxldCBpPTA7aTxuO2krKyllLnNldEF0dHJpYnV0ZUJhc2ljKHMsaSx0aGlzLmdldEF0dHJpYnV0ZUFzRGJsSW1wbCh0JTIscyxpKSl9ZS5zZXRYWSh0aGlzLm1fZGF0YS5tX2VudmVsb3BlMkQucXVlcnlDb3JuZXIodCkpfXF1ZXJ5Q29ybmVyKHQsZSl7ZS5hc3NpZ24odGhpcy5tX2RhdGEubV9lbnZlbG9wZTJELnF1ZXJ5Q29ybmVyKHQpKX1nZXREZXNjcmlwdGlvbigpe3JldHVybiB0aGlzLm1fZGVzY3JpcHRpb259bWVyZ2VWZXJ0ZXhEZXNjcmlwdGlvbih0KXt0aGlzLm1fZGVzY3JpcHRpb24hPT10JiYodGhpcy5tX2Rlc2NyaXB0aW9uJiZ0aGlzLm1fZGVzY3JpcHRpb24uaGFzQXR0cmlidXRlc0Zyb20odCl8fHRoaXMubWVyZ2VWZXJ0ZXhEZXNjcmlwdGlvbkltcGwodCkpfWhhc0F0dHJpYnV0ZSh0KXtyZXR1cm4gdGhpcy5tX2Rlc2NyaXB0aW9uLmhhc0F0dHJpYnV0ZSh0KX1hZGRBdHRyaWJ1dGUodCl7aWYodGhpcy5tX2Rlc2NyaXB0aW9uLmhhc0F0dHJpYnV0ZSh0KSlyZXR1cm47Y29uc3QgZT1WKHRoaXMubV9kZXNjcmlwdGlvbix0KTt0aGlzLmFzc2lnblZlcnRleERlc2NyaXB0aW9uKGUpfWRyb3BBdHRyaWJ1dGUodCl7aWYoIXRoaXMubV9kZXNjcmlwdGlvbi5oYXNBdHRyaWJ1dGUodCkpcmV0dXJuO2NvbnN0IGU9ayh0aGlzLm1fZGVzY3JpcHRpb24sdCk7dGhpcy5hc3NpZ25WZXJ0ZXhEZXNjcmlwdGlvbihlKX1kcm9wQWxsQXR0cmlidXRlcygpe2NvbnN0IHQ9TSgpO3QhPT10aGlzLm1fZGVzY3JpcHRpb24mJnRoaXMuYXNzaWduVmVydGV4RGVzY3JpcHRpb24odCl9cXVlcnlMb29zZUVudmVsb3BlKHQpe3RoaXMucXVlcnlFbnZlbG9wZSh0KX1yZXBsYWNlTmFOcyh0LGUpe2lmKHRoaXMuYWRkQXR0cmlidXRlKHQpLHRoaXMubV9kYXRhLmlzRW1wdHkoKSlyZXR1cm47Y29uc3Qgcz1zZS5nZXRDb21wb25lbnRDb3VudCh0KTtmb3IobGV0IGk9MDtpPHM7aSsrKXtjb25zdCBzPXRoaXMucXVlcnlJbnRlcnZhbCh0LGkpO3MuaXNFbXB0eSgpJiYocy52bWluPWUscy52bWF4PWUsdGhpcy5zZXRJbnRlcnZhbEVudmVsb3BlKHQsaSxzKSl9fWdldEltcGwoKXtyZXR1cm4gdGhpc31zZXRGcm9tUG9pbnQodCxlLHMpe3RoaXMubV9kYXRhLm1fZW52ZWxvcGUyRC5zZXRDb29yZHMoe2NlbnRlcjp0LmdldFhZKCksd2lkdGg6ZT8/MCxoZWlnaHQ6cz8/MH0pO2NvbnN0IGk9dC5nZXREZXNjcmlwdGlvbigpO2ZvcihsZXQgbj0xLHI9aS5nZXRBdHRyaWJ1dGVDb3VudCgpO248cjtuKyspe2NvbnN0IGU9aS5nZXRTZW1hbnRpY3Mobikscz1zZS5nZXRDb21wb25lbnRDb3VudChlKTtmb3IobGV0IGk9MDtpPHM7aSsrKXtjb25zdCBzPXQuZ2V0QXR0cmlidXRlQXNEYmwoZSxpKTt0aGlzLnNldEludGVydmFsKGUsaSxzLHMpfX19YXNzaWduVmVydGV4RGVzY3JpcHRpb25JbXBsKHQpe2NvbnN0IHM9UygpO1kodCx0aGlzLm1fZGVzY3JpcHRpb24scyk7bGV0IGk9bnVsbDtjb25zdCBuPXQuZ2V0VG90YWxDb21wb25lbnRDb3VudCgpLTIscj10aGlzLm1fZGVzY3JpcHRpb24/dGhpcy5tX2Rlc2NyaXB0aW9uLmdldFRvdGFsQ29tcG9uZW50Q291bnQoKS0yOjA7bj4wJiYoaT1lKDIqbixOdW1iZXIuTmFOKSk7Zm9yKGxldCBlPTE7ZTx0LmdldEF0dHJpYnV0ZUNvdW50KCk7ZSsrKXtjb25zdCBoPXNbZV07aWYoLTEhPT1oKXtjb25zdCBzPXQuZ2V0UG9pbnRBdHRyaWJ1dGVPZmZzZXQoZSktMixvPXNlLmdldENvbXBvbmVudENvdW50KHQuZ2V0U2VtYW50aWNzKGUpKSxhPXRoaXMubV9kZXNjcmlwdGlvbi5nZXRQb2ludEF0dHJpYnV0ZU9mZnNldChoKS0yO20oaSx0aGlzLm1fZGF0YS5tX2F0dHJpYnV0ZXMscyxhLG8pLG0oaSx0aGlzLm1fZGF0YS5tX2F0dHJpYnV0ZXMsbitzLHIrYSxvKX19dGhpcy5yZWxlYXNlQXR0cmlidXRlc18oKSx0aGlzLm1fZGF0YS5tX2F0dHJpYnV0ZXM9aSx0aGlzLm1fZGVzY3JpcHRpb249dH1nZXRBdHRyaWJ1dGVBc0RibEltcGwodCxlLHMpe2lmKHRoaXMubV9kYXRhLmlzRW1wdHkoKSYmRShcIlwiKSwwPT09ZSlyZXR1cm4gdD9zP3RoaXMubV9kYXRhLm1fZW52ZWxvcGUyRC55bWF4OnRoaXMubV9kYXRhLm1fZW52ZWxvcGUyRC54bWF4OnM/dGhpcy5tX2RhdGEubV9lbnZlbG9wZTJELnltaW46dGhpcy5tX2RhdGEubV9lbnZlbG9wZTJELnhtaW47cz49c2UuZ2V0Q29tcG9uZW50Q291bnQoZSkmJnYoXCJcIik7Y29uc3QgaT10aGlzLm1fZGVzY3JpcHRpb24uZ2V0QXR0cmlidXRlSW5kZXgoZSk7cmV0dXJuIGk+PTA/dGhpcy5tX2RhdGEubV9hdHRyaWJ1dGVzW2llKHRoaXMubV9kZXNjcmlwdGlvbix0KSt0aGlzLm1fZGVzY3JpcHRpb24uZ2V0UG9pbnRBdHRyaWJ1dGVPZmZzZXQoaSktMitzXTp6LmdldERlZmF1bHRWYWx1ZShlKX1zZXRBdHRyaWJ1dGVBc0RibEltcGwodCxlLHMsaSl7MD09PWUmJih0PzE9PT1zP3RoaXMubV9kYXRhLm1fZW52ZWxvcGUyRC55bWF4PWk6MD09PXM/dGhpcy5tX2RhdGEubV9lbnZlbG9wZTJELnhtYXg9aTp2KFwiXCIpOjE9PT1zP3RoaXMubV9kYXRhLm1fZW52ZWxvcGUyRC55bWluPWk6MD09PXM/dGhpcy5tX2RhdGEubV9lbnZlbG9wZTJELnhtaW49aTp2KFwiXCIpKTtjb25zdCBuPXNlLmdldENvbXBvbmVudENvdW50KGUpOyhzPDB8fHM+PW4pJiZ2KFwiXCIpLHRoaXMuYWRkQXR0cmlidXRlKGUpO2NvbnN0IHI9dGhpcy5tX2Rlc2NyaXB0aW9uLmdldEF0dHJpYnV0ZUluZGV4KGUpO3RoaXMubV9kYXRhLm1fYXR0cmlidXRlc1tpZSh0aGlzLm1fZGVzY3JpcHRpb24sdCkrdGhpcy5tX2Rlc2NyaXB0aW9uLmdldFBvaW50QXR0cmlidXRlT2Zmc2V0KHIpLTIrc109aX1yZWxlYXNlQXR0cmlidXRlc18oKXt0aGlzLm1fZGF0YS5yZWxlYXNlQXR0cmlidXRlcygpfWVuc3VyZUF0dHJpYnV0ZXNfKCl7dGhpcy5tX2RhdGEuZW5zdXJlQXR0cmlidXRlcyh0aGlzLm1fZGVzY3JpcHRpb24pfX07cmUudHlwZT15LmVudW1FbnZlbG9wZTtjb25zdCBoZT1PYmplY3QuZnJlZXplKE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh7X19wcm90b19fOm51bGwsRW52ZWxvcGU6cmUsRW52ZWxvcGVEYXRhOm5lfSxTeW1ib2wudG9TdHJpbmdUYWcse3ZhbHVlOlwiTW9kdWxlXCJ9KSk7ZXhwb3J0e1V0IGFzICQsc3QgYXMgQSxvdCBhcyBCLEV0IGFzIEMsJCBhcyBELHJlIGFzIEUsV3QgYXMgRixRdCBhcyBHLFJ0IGFzIEgsQ3QgYXMgSSxUdCBhcyBKLFEgYXMgSyxMdCBhcyBMLFl0IGFzIE0scHQgYXMgTix3IGFzIE8sZWUgYXMgUCxQdCBhcyBRLHd0IGFzIFIsYXQgYXMgUyxjdCBhcyBULGV0IGFzIFUseiBhcyBWLE10IGFzIFcsSHQgYXMgWCxxdCBhcyBZLEp0IGFzIFosWHQgYXMgXyx6dCBhcyBhLFp0IGFzIGEwLEd0IGFzIGExLHl0IGFzIGEyLGR0IGFzIGEzLGJ0IGFzIGE0LCR0IGFzIGE1LFUgYXMgYTYsaGUgYXMgYTcsQnQgYXMgYixBdCBhcyBjLFggYXMgZCxGdCBhcyBlLER0IGFzIGYsSXQgYXMgZyxWdCBhcyBoLE90IGFzIGksTSBhcyBqLG5lIGFzIGssSCBhcyBsLFYgYXMgbSxHIGFzIG4sQiBhcyBvLFMgYXMgcCxZIGFzIHEsayBhcyByLGt0IGFzIHMsaiBhcyB0LFcgYXMgdSxOdCBhcyB2LE8gYXMgdyxudCBhcyB4LEogYXMgeSxLIGFzIHp9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMzMvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtpIGFzIHQsYSBhcyBlLGcgYXMgcyxxIGFzIG4sRyBhcyBpLHMgYXMgcix1IGFzIG8sdCBhcyBhLGQgYXMgaCx3IGFzIHUsZiBhcyBtLGUgYXMgbCxoIGFzIGMsbiBhcyBnLHAgYXMgZCx4IGFzIF8saiBhcyBwLG8gYXMgZn1mcm9tXCIuL0dlb21ldHJ5LmpzXCI7aW1wb3J0e2ogYXMgUCxrIGFzIHksbCBhcyB4LG0gYXMgQyxyIGFzIHYsViBhcyBiLGQgYXMgUyxuIGFzIEUsbyBhcyBELE8gYXMgdyxwIGFzIEEscSBhcyBULHQgYXMgSSxFIGFzIE0sdSBhcyBZLHYgYXMgTix3IGFzIFgsUCBhcyBxLHggYXMgRix5IGFzIFYseiBhcyBMLEQgYXMgUixGIGFzIHosRyBhcyBCLFMgYXMgayxCIGFzIEcsQSBhcyBXLFQgYXMgaixIIGFzIFp9ZnJvbVwiLi9FbnZlbG9wZS5qc1wiO2ltcG9ydHtFIGFzIEgsZCBhcyBVLEEgYXMgTyxQIGFzIFEsaSBhcyBKLGIgYXMgSyxCIGFzICQsQyBhcyB0dCxjIGFzIGV0LEQgYXMgc3QsRiBhcyBudCxNIGFzIGl0LHEgYXMgcnQsRyBhcyBvdCxIIGFzIGF0LEkgYXMgaHQsSiBhcyB1dCxnIGFzIG10LG0gYXMgbHQsTCBhcyBjdCxOIGFzIGd0LE8gYXMgZHQscyBhcyBfdCxLIGFzIHB0LFEgYXMgZnQsUiBhcyBQdCxUIGFzIHl0LFUgYXMgeHQsViBhcyBDdCxXIGFzIHZ0LFggYXMgYnQsWSBhcyBTdCxaIGFzIEV0LF8gYXMgRHQsJCBhcyB3dCxhMCBhcyBBdCxvIGFzIFR0LGExIGFzIEl0LGwgYXMgTXQsaiBhcyBZdCxlIGFzIE50LGEyIGFzIFh0LGEzIGFzIHF0LGE0IGFzIEZ0LGE1IGFzIFZ0LGE2IGFzIEx0LGE3IGFzIFJ0LGEgYXMgenQsYTggYXMgQnQsYTkgYXMga3QsdiBhcyBHdCxhYSBhcyBXdCxhYiBhcyBqdCx3IGFzIFp0LGFjIGFzIEh0LGFkIGFzIFV0LGFlIGFzIE90LG4gYXMgUXQsYWYgYXMgSnQsYWcgYXMgS3QsYWggYXMgJHQsYWkgYXMgdGUsYWogYXMgZWUsdSBhcyBzZSxhayBhcyBuZSxhbCBhcyBpZSxhbSBhcyByZSxhbiBhcyBvZSxhbyBhcyBhZSxhcCBhcyBoZSxhcSBhcyB1ZX1mcm9tXCIuL1BvaW50MkQuanNcIjtpbXBvcnR7RW52ZWxvcGUyRCBhcyBtZX1mcm9tXCIuL0VudmVsb3BlMkQuanNcIjtpbXBvcnR7VCBhcyBsZX1mcm9tXCIuL1RyYW5zZm9ybWF0aW9uMkQuanNcIjtpbXBvcnR7RyBhcyBjZX1mcm9tXCIuL1NpbXBsZUdlb21ldHJ5Q3Vyc29yLmpzXCI7Y2xhc3MgZ2V7Y29uc3RydWN0b3IoKXt0aGlzLnBvc1N0cmVhbT1udWxsLHRoaXMuc3RyZWFtcz1udWxsfWdldCh0KXtyZXR1cm4gdD4wP3RoaXMuc3RyZWFtc1t0LTFdOnRoaXMucG9zU3RyZWFtfXNldCh0LGUpe3Q+MD90aGlzLnN0cmVhbXNbdC0xXT1lOnRoaXMucG9zU3RyZWFtPWV9ZGVzdHJveUFuZFNldFNpemUodCl7aWYodGhpcy5zdHJlYW1zPW51bGwsdD4xKXt0aGlzLnN0cmVhbXM9bmV3IEFycmF5KHQtMSk7Zm9yKGxldCBlPTA7ZTx0LTE7KytlKXRoaXMuc3RyZWFtc1tlXT1udWxsfXRoaXMucG9zU3RyZWFtPW51bGx9c3dhcCh0KXtbdGhpcy5zdHJlYW1zLHQuc3RyZWFtc109W3Quc3RyZWFtcyx0aGlzLnN0cmVhbXNdLFt0aGlzLnBvc1N0cmVhbSx0LnBvc1N0cmVhbV09W3QucG9zU3RyZWFtLHRoaXMucG9zU3RyZWFtXX1lbXB0eSgpe3JldHVybiBudWxsPT09dGhpcy5wb3NTdHJlYW0mJm51bGw9PT10aGlzLnN0cmVhbXN9fWZ1bmN0aW9uIGRlKHQscyxuLGkscil7KHM8MHx8bjwwfHxpPDF8fHMraSoobi0xKSsxPnQuc2l6ZSgpKSYmZShcIkluZGV4IG91dCBvZiBib3VuZFwiKTtmb3IobGV0IGU9cyxvPXMraSoobi0xKSsxO2U8bztlKz1pKXQud3JpdGVBc0RibChlLHIodC5yZWFkQXNEYmwoZSkpKX1mdW5jdGlvbiBfZSh0LGUscyl7aWYodClmb3IobGV0IG49ZS5sZW5ndGgtMTtuPj0wOy0tbilzKGVbbl0pO2Vsc2UgZS5mb3JFYWNoKHMpfWZ1bmN0aW9uIHBlKHQsZSl7bGV0IHM9JCh0KTtjb25zdCBuPWUubGVuZ3RoL0ooKTtmb3IobGV0IGk9MDtpPGUubGVuZ3RoOysraSl7Y29uc3QgdD1NYXRoLnRydW5jKHMqbik7cz0kKHMpO2NvbnN0IGk9TWF0aC50cnVuYyhzKm4pLHI9ZVt0XTtlW3RdPWVbaV0sZVtpXT1yfX1mdW5jdGlvbiBmZSh0LGUscyl7aWYoMD09PXQubGVuZ3RoKXJldHVybjtsZXQgbj0wLGk9MDtmb3IoKytpO2khPT10Lmxlbmd0aDsrK2kpZSh0W25dLHRbaV0pfHwocyhuLGkpLG49aSk7cyhuLGkpfWZ1bmN0aW9uIFBlKHQsZSxzLG4saSl7dHQodCxlLG4tZSwoKHQsZSk9PmkodCxlKT8tMToxKSl9ZnVuY3Rpb24geWUodCxlLHMpe2lmKCEoczw9ZSkpZm9yKDtlPHM7KXRbc109ZXQodFtlXSx0W2VdPXRbc10pLGUrKyxzLS19ZnVuY3Rpb24geGUodCxlLHMsbil7eWUodCxlLHMtMSkseWUodCxzLG4tMSksdC5yZXZlcnNlKCl9ZnVuY3Rpb24gQ2UodCxlLHMpe2NvbnN0IG49dC5nZXREZXNjcmlwdGlvbigpLmdldFRvdGFsQ29tcG9uZW50Q291bnQoKTt0LnNldFgoZVswXSksdC5zZXRZKGVbMV0pLEsodC5nZXRBdHRyaWJ1dGVBcnJheSgpLGUsMCwyLG4tMil9dmFyIHZlPWI7Y29uc3QgYmU9XCJjYW4gbm90IGFzc2lnbiBhbiBlbXB0eSBwb2ludCB0byBhIHZlcnRleFwiO2NsYXNzIFNle2NvbnN0cnVjdG9yKHQpe2lmKHRoaXMubV9hY2NlbGVyYXRvcnM9bnVsbCx2b2lkIDAhPT10JiZ0Lm1vdmUpdGhpcy5tX2Rlc2NyaXB0aW9uPXQubW92ZS5tX2Rlc2NyaXB0aW9uLHQubW92ZS5tX2Rlc2NyaXB0aW9uPVAoKSx0aGlzLm1fdmVydGV4QXR0cmlidXRlcz10Lm1vdmUubV92ZXJ0ZXhBdHRyaWJ1dGVzLHQubW92ZS5tX3ZlcnRleEF0dHJpYnV0ZXM9bmV3IGdlLHRoaXMubV9lbnZlbG9wZURhdGE9dC5tb3ZlLm1fZW52ZWxvcGVEYXRhLHQubW92ZS5tX2VudmVsb3BlRGF0YT1uZXcgeSx0aGlzLm1fcG9pbnRDb3VudD10Lm1vdmUubV9wb2ludENvdW50LHRoaXMubV9yZXNlcnZlZFBvaW50Q291bnQ9dC5tb3ZlLm1fcmVzZXJ2ZWRQb2ludENvdW50LHRoaXMubV9mbGFncz10Lm1vdmUubV9mbGFncyx0aGlzLm1fYkZpbGxSdWxlPXQubW92ZS5tX2JGaWxsUnVsZSx0aGlzLm1fYlBhdGhTdGFydGVkPXQubW92ZS5tX2JQYXRoU3RhcnRlZCx0aGlzLm1fYlBvbHlnb249dC5tb3ZlLm1fYlBvbHlnb24sdGhpcy5tX3NpbXBsZVRvbGVyYW5jZT10Lm1vdmUubV9zaW1wbGVUb2xlcmFuY2U7ZWxzZXtjb25zdCBlPXZvaWQgMCE9PXQmJnQudmQ/dC52ZDpQKCk7dGhpcy5tX2Rlc2NyaXB0aW9uPWUsdGhpcy5tX3ZlcnRleEF0dHJpYnV0ZXM9bmV3IGdlLHRoaXMubV9lbnZlbG9wZURhdGE9bmV3IHksdGhpcy5tX3BvaW50Q291bnQ9MCx0aGlzLm1fcmVzZXJ2ZWRQb2ludENvdW50PS0xLHRoaXMubV9mbGFncz00MDYzLHRoaXMubV9iRmlsbFJ1bGU9dGhpcy5tX2JQYXRoU3RhcnRlZD10aGlzLm1fYlBvbHlnb249ITEsdGhpcy5tX3NpbXBsZVRvbGVyYW5jZT0wLHZvaWQgMCE9PXQmJnQuY29weSYmdC5jb3B5LmNvcHlUbyh0aGlzKX19ZXF1YWxzQmFzZShlLHMpe2lmKCF0KGUuZ2V0R2VvbWV0cnlUeXBlKCkpKXJldHVybiExO2NvbnN0IG49ZTtpZih0aGlzPT09bilyZXR1cm4hMDtpZighdGhpcy5tX2Rlc2NyaXB0aW9uLmVxdWFscyhuLmdldERlc2NyaXB0aW9uKCkpKXJldHVybiExO2lmKHRoaXMuaXNFbXB0eUltcGwoKSE9PW4uaXNFbXB0eUltcGwoKSlyZXR1cm4hMTtpZih0aGlzLmlzRW1wdHlJbXBsKCkpcmV0dXJuITA7Y29uc3QgaT10aGlzLmdldFBvaW50Q291bnQoKTtpZihpIT09bi5nZXRQb2ludENvdW50KCkpcmV0dXJuITE7Zm9yKGxldCB0PTA7dDx0aGlzLm1fZGVzY3JpcHRpb24uZ2V0QXR0cmlidXRlQ291bnQoKTt0Kyspe2NvbnN0IGU9dGhpcy5tX2Rlc2NyaXB0aW9uLmdldFNlbWFudGljcyh0KSxyPXRoaXMuZ2V0QXR0cmlidXRlU3RyZWFtUmVmKGUpLG89bi5nZXRBdHRyaWJ1dGVTdHJlYW1SZWYoZSksYT12ZS5nZXRDb21wb25lbnRDb3VudChlKTtpZighci5lcXVhbHMobywwLGkqYSxzKSlyZXR1cm4hMX1pZihzKXtpZighdGhpcy5lcXVhbHNJbXBsVG9sKGUscykpcmV0dXJuITF9ZWxzZSBpZighdGhpcy5lcXVhbHNJbXBsKGUpKXJldHVybiExO3JldHVybiEwfXRyYW5zZm9ybUF0dHJpYnV0ZSh0LHMsbixpLHIpe2lmKHRoaXMuYWRkQXR0cmlidXRlKHQpLCF0aGlzLmlzRW1wdHkoKSYmKDAhPT1ufHwxIT09aSkpe2lmKDA9PT10KXtjb25zdCB0PW5ldyBsZTtyZXR1cm4gMD09PXI/MD09PXM/KHQuc2V0U2hpZnRDb29yZHMobiwwKSx0LnNjYWxlKGksMSkpOjE9PT1zPyh0LnNldFNoaWZ0Q29vcmRzKDAsbiksdC5zY2FsZSgxLGkpKTplKFwiXCIpOjA9PT1zPyh0LnNldFNjYWxlQ29vcmRzKDEvaSwxKSx0LnNoaWZ0Q29vcmRzKC1uLDApKToxPT09cz8odC5zZXRTY2FsZUNvb3JkcygxLDEvaSksdC5zaGlmdENvb3JkcygwLC1uKSk6ZShcIlwiKSx2b2lkIHRoaXMuYXBwbHlUcmFuc2Zvcm1hdGlvbih0KX1kZSh0aGlzLmdldEF0dHJpYnV0ZVN0cmVhbVJlZih0KSxzLHRoaXMuZ2V0UG9pbnRDb3VudCgpLHZlLmdldENvbXBvbmVudENvdW50KHQpLE4obixpLHIpKSx0aGlzLm5vdGlmeU1vZGlmaWVkKCl9fWdldERlc2NyaXB0aW9uKCl7cmV0dXJuIHRoaXMubV9kZXNjcmlwdGlvbn1hc3NpZ25WZXJ0ZXhEZXNjcmlwdGlvbih0KXt0aGlzLm1fZGVzY3JpcHRpb24hPT10JiZ0aGlzLmFzc2lnblZlcnRleERlc2NyaXB0aW9uSW1wbCh0KX1tZXJnZVZlcnRleERlc2NyaXB0aW9uSW1wbCh0KXtjb25zdCBlPXRoaXMuZ2V0RGVzY3JpcHRpb24oKSxzPXgoZSx0KTt0aGlzLmFzc2lnblZlcnRleERlc2NyaXB0aW9uKHMpfW1lcmdlVmVydGV4RGVzY3JpcHRpb24odCl7dGhpcy5tX2Rlc2NyaXB0aW9uIT09dCYmKHRoaXMubV9kZXNjcmlwdGlvbi5oYXNBdHRyaWJ1dGVzRnJvbSh0KXx8dGhpcy5tZXJnZVZlcnRleERlc2NyaXB0aW9uSW1wbCh0KSl9aGFzQXR0cmlidXRlKHQpe3JldHVybiB0aGlzLm1fZGVzY3JpcHRpb24uaGFzQXR0cmlidXRlKHQpfWFkZEF0dHJpYnV0ZSh0KXtpZih0aGlzLm1fZGVzY3JpcHRpb24uaGFzQXR0cmlidXRlKHQpKXJldHVybjtjb25zdCBlPUModGhpcy5tX2Rlc2NyaXB0aW9uLHQpO3RoaXMuYXNzaWduVmVydGV4RGVzY3JpcHRpb24oZSl9ZHJvcEF0dHJpYnV0ZSh0KXtpZighdGhpcy5tX2Rlc2NyaXB0aW9uLmhhc0F0dHJpYnV0ZSh0KSlyZXR1cm47Y29uc3QgZT12KHRoaXMubV9kZXNjcmlwdGlvbix0KTt0aGlzLmFzc2lnblZlcnRleERlc2NyaXB0aW9uKGUpfWRyb3BBbGxBdHRyaWJ1dGVzKCl7Y29uc3QgdD1QKCk7dCE9PXRoaXMubV9kZXNjcmlwdGlvbiYmdGhpcy5hc3NpZ25WZXJ0ZXhEZXNjcmlwdGlvbih0KX1nZXRBdHRyaWJ1dGVTdHJlYW1SZWYodCl7dGhpcy50aHJvd0lmRW1wdHkoKSx0aGlzLm1fZGVzY3JpcHRpb24uaGFzQXR0cmlidXRlKHQpfHxlKFwiQXR0cmlidXRlU3RyZWFtIDogR2VvbWV0cnkgZG9lcyBub3QgaGF2ZSB0aGUgYXR0cmlidXRlXCIpO2NvbnN0IHM9dGhpcy5tX2Rlc2NyaXB0aW9uLmdldEF0dHJpYnV0ZUluZGV4KHQpO3JldHVybiB0aGlzLm1fdmVydGV4QXR0cmlidXRlcy5nZXQocyl9c2V0QXR0cmlidXRlU3RyZWFtUmVmKHQscyl7c3x8ZShcInN0cmVhbVwiKSxzJiZ2ZS5nZXRQZXJzaXN0ZW5jZSh0KSE9PXMuZ2V0UGVyc2lzdGVuY2UoKSYmZShcIlwiKSx0aGlzLmFkZEF0dHJpYnV0ZSh0KTtjb25zdCBuPXRoaXMubV9kZXNjcmlwdGlvbi5nZXRBdHRyaWJ1dGVJbmRleCh0KTt0aGlzLm1fdmVydGV4QXR0cmlidXRlcy5lbXB0eSgpJiZ0aGlzLm1fdmVydGV4QXR0cmlidXRlcy5kZXN0cm95QW5kU2V0U2l6ZSh0aGlzLm1fZGVzY3JpcHRpb24uZ2V0QXR0cmlidXRlQ291bnQoKSksdGhpcy5tX3ZlcnRleEF0dHJpYnV0ZXMuc2V0KG4scyksdGhpcy5ub3RpZnlNb2RpZmllZEZsYWdzKDIwMDEpfW5vdGlmeU1vZGlmaWVkRmxhZ3ModCl7NjU1MzU9PT10JiYodGhpcy5tX3Jlc2VydmVkUG9pbnRDb3VudD0tMSx0aGlzLm5vdGlmeU1vZGlmaWVkQWxsSW1wbCgpKSx0aGlzLnNldERpcnR5RmxhZ1Byb3RlY3RlZCh0LCEwKSx0aGlzLmNsZWFyQWNjZWxlcmF0b3JzKCksMzImdCYmdGhpcy52ZXJpZnlBbGxTdHJlYW1zQWZ0ZXJTaXplQ2hhbmdlKCl9bm90aWZ5TW9kaWZpZWQoKXt0aGlzLm5vdGlmeU1vZGlmaWVkRmxhZ3MoMjAwMSl9Z2V0UG9pbnRDb3VudCgpe3JldHVybiB0aGlzLm1fcG9pbnRDb3VudH1nZXRQb2ludEJ5VmFsKHQsZSl7Y29uc3Qgcz1lO3MuYXNzaWduVmVydGV4RGVzY3JpcHRpb24odGhpcy5tX2Rlc2NyaXB0aW9uKTtmb3IobGV0IG49MDtuPHRoaXMubV9kZXNjcmlwdGlvbi5nZXRBdHRyaWJ1dGVDb3VudCgpO24rKyl7Y29uc3QgZT10aGlzLm1fZGVzY3JpcHRpb24uZ2V0U2VtYW50aWNzKG4pO2ZvcihsZXQgaT0wLHI9dmUuZ2V0Q29tcG9uZW50Q291bnQoZSk7aTxyO2krKyl7Y29uc3Qgbz10aGlzLm1fdmVydGV4QXR0cmlidXRlcy5nZXQobikucmVhZEFzRGJsKHIqdCtpKTtzLnNldEF0dHJpYnV0ZUJhc2ljKGUsaSxvKX19fXNldFBvaW50QnlWYWxOb0N1cnZlcyh0LHMpe2NvbnN0IG49cztuLmlzRW1wdHkoKSYmZShiZSk7Y29uc3QgaT1uLmdldERlc2NyaXB0aW9uKCk7aSE9PXRoaXMubV9kZXNjcmlwdGlvbiYmdGhpcy5tZXJnZVZlcnRleERlc2NyaXB0aW9uKGkpO2NvbnN0IHI9dGhpcy5tX3ZlcnRleEF0dHJpYnV0ZXMuZ2V0KDApO3Iud3JpdGUoMip0LG4uZ2V0WCgpKSxyLndyaXRlKDIqdCsxLG4uZ2V0WSgpKTtmb3IobGV0IGU9MSxvPXRoaXMubV9kZXNjcmlwdGlvbi5nZXRBdHRyaWJ1dGVDb3VudCgpO2U8bztlKyspe2NvbnN0IHM9dGhpcy5tX2Rlc2NyaXB0aW9uLmdldFNlbWFudGljcyhlKSxpPXZlLmdldENvbXBvbmVudENvdW50KHMpO2ZvcihsZXQgcj0wO3I8aTtyKyspe2NvbnN0IG89bi5nZXRBdHRyaWJ1dGVBc0RibChzLHIpO3RoaXMubV92ZXJ0ZXhBdHRyaWJ1dGVzLmdldChlKS53cml0ZUFzRGJsKHQqaStyLG8pfX10aGlzLm5vdGlmeU1vZGlmaWVkRmxhZ3MoMjAwMSl9c2V0UG9pbnRCeVZhbEZyb21BcnJheU5vQ3VydmVzKHQsZSxuLGkpe3MoMCl9Z2V0UG9pbnRCeVZhbEFzQXJyYXkodCxlLG4saSl7cygwKX1pc0VtcHR5KCl7cmV0dXJuIHRoaXMuaXNFbXB0eUltcGwoKX1pc0VtcHR5SW1wbCgpe3JldHVybiAwPT09dGhpcy5tX3BvaW50Q291bnR9Z2V0QXR0cmlidXRlQXNEYmwodCxlLHMpe2NvbnN0IGk9dmUuZ2V0Q29tcG9uZW50Q291bnQodCk7cz49aSYmbihcIlwiKTtjb25zdCByPXRoaXMubV9kZXNjcmlwdGlvbi5nZXRBdHRyaWJ1dGVJbmRleCh0KTtyZXR1cm4gcj49MD90aGlzLm1fdmVydGV4QXR0cmlidXRlcy5nZXQocikucmVhZEFzRGJsKGUqaStzKTp2ZS5nZXREZWZhdWx0VmFsdWUodCl9cXVlcnlBdHRyaWJ1dGVBc0RibCh0LGUscyxpKXtjb25zdCByPXZlLmdldENvbXBvbmVudENvdW50KHQpO2k8ciYmbihcIlwiKTtjb25zdCBvPXRoaXMubV9kZXNjcmlwdGlvbi5nZXRBdHRyaWJ1dGVJbmRleCh0KTtpZihvPj0wKXtjb25zdCB0PWUqcixuPXRoaXMubV92ZXJ0ZXhBdHRyaWJ1dGVzLmdldChvKTtmb3IobGV0IGU9MDtlPHI7ZSsrKXNbZV09bi5yZWFkQXNEYmwodCtlKX1lbHNle2NvbnN0IGU9dmUuZ2V0RGVmYXVsdFZhbHVlKHQpO2ZvcihsZXQgdD0wO3Q8cjt0Kyspc1t0XT1lfX1nZXRBdHRyaWJ1dGVBc0ludCh0LGUscyl7cmV0dXJuIE1hdGgudHJ1bmModGhpcy5nZXRBdHRyaWJ1dGVBc0RibCh0LGUscykpfXF1ZXJ5QXR0cmlidXRlQXNJbnQodCxlLG4saSl7cygwKX1zZXRBdHRyaWJ1dGVOb0N1cnZlcyh0LGUscyxpKXtjb25zdCByPXZlLmdldENvbXBvbmVudENvdW50KHQpO3M+PXImJm4oXCJcIiksdGhpcy5hZGRBdHRyaWJ1dGUodCk7Y29uc3Qgbz10aGlzLm1fZGVzY3JpcHRpb24uZ2V0QXR0cmlidXRlSW5kZXgodCk7dGhpcy5ub3RpZnlNb2RpZmllZEZsYWdzKDIwMDEpLHRoaXMubV92ZXJ0ZXhBdHRyaWJ1dGVzLmdldChvKS53cml0ZUFzRGJsKGUqcitzLGkpfXNldEF0dHJpYnV0ZUZyb21BcnJheU5vQ3VydmVzKHQsZSxzLGkpeyhlPDB8fGU+PXRoaXMubV9wb2ludENvdW50KSYmbihcIlwiKTtjb25zdCByPXZlLmdldENvbXBvbmVudENvdW50KHQpO2k8ciYmbihcIlwiKSx0aGlzLmFkZEF0dHJpYnV0ZSh0KTtjb25zdCBvPXRoaXMubV9kZXNjcmlwdGlvbi5nZXRBdHRyaWJ1dGVJbmRleCh0KTt0aGlzLm5vdGlmeU1vZGlmaWVkRmxhZ3MoMjAwMSk7Y29uc3QgYT10aGlzLm1fdmVydGV4QXR0cmlidXRlcy5nZXQobyk7Zm9yKGxldCBuPTA7bjxyOysrbilhLndyaXRlQXNEYmwoZSpyK24sc1tuXSl9Z2V0WFkodCl7cmV0dXJuIHRoaXMubV92ZXJ0ZXhBdHRyaWJ1dGVzLmdldCgwKS5yZWFkUG9pbnQyRCgyKnQpfXF1ZXJ5WFkodCxlKXtyZXR1cm4gdGhpcy5tX3ZlcnRleEF0dHJpYnV0ZXMuZ2V0KDApLnF1ZXJ5UG9pbnQyRCgyKnQsZSl9c2V0WFlOb0N1cnZlcyh0LGUpe3RoaXMubV92ZXJ0ZXhBdHRyaWJ1dGVzLmdldCgwKS53cml0ZVBvaW50MkQoMip0LGUpLHRoaXMubm90aWZ5TW9kaWZpZWRGbGFncygyMDAxKX1zZXRYWUNvb3Jkc05vQ3VydmVzKHQsZSxzKXtjb25zdCBuPXRoaXMubV92ZXJ0ZXhBdHRyaWJ1dGVzLmdldCgwKTtuLndyaXRlKDIqdCxlKSxuLndyaXRlKDIqdCsxLHMpLHRoaXMubm90aWZ5TW9kaWZpZWRGbGFncygyMDAxKX1nZXRYWVoodCl7Y29uc3QgZT10aGlzLm1fdmVydGV4QXR0cmlidXRlcy5nZXQoMCkscz1TLmdldE5BTigpO3JldHVybiBzLng9ZS5yZWFkKDIqdCkscy55PWUucmVhZCgyKnQrMSksdGhpcy5tX2Rlc2NyaXB0aW9uLmhhc0F0dHJpYnV0ZSgxKT9zLno9dGhpcy5tX3ZlcnRleEF0dHJpYnV0ZXMuZ2V0KDEpLnJlYWQodCk6cy56PXZlLmdldERlZmF1bHRWYWx1ZSgxKSxzfXNldFhZWk5vQ3VydmVzKHQsZSl7dGhpcy5hZGRBdHRyaWJ1dGUoMSksdGhpcy5ub3RpZnlNb2RpZmllZEZsYWdzKDIwMDEpO2NvbnN0IHM9dGhpcy5tX3ZlcnRleEF0dHJpYnV0ZXMuZ2V0KDApO3Mud3JpdGUoMip0LGUueCkscy53cml0ZSgyKnQrMSxlLnkpO3RoaXMubV92ZXJ0ZXhBdHRyaWJ1dGVzLmdldCgxKS53cml0ZSh0LGUueil9cXVlcnlFbnZlbG9wZSh0KXt0IGluc3RhbmNlb2YgbWV8fHQgaW5zdGFuY2VvZiBFP3RoaXMudXBkYXRlRW52ZWxvcGUodCk6KHRoaXMudXBkYXRlQWxsRGlydHlJbnRlcnZhbHMoITApLHRoaXMubV9lbnZlbG9wZURhdGEuY29weVRvKHRoaXMubV9kZXNjcmlwdGlvbix0KSl9cXVlcnlMb29zZUVudmVsb3BlKHQpe3RoaXMudXBkYXRlTG9vc2VFbnZlbG9wZSh0KX1xdWVyeUludGVydmFsKHQsZSl7Y29uc3Qgcz1ILmNvbnN0cnVjdEVtcHR5KCk7cmV0dXJuIHRoaXMuaXNFbXB0eUltcGwoKXx8KHRoaXMudXBkYXRlQWxsRGlydHlJbnRlcnZhbHMoITApLHRoaXMubV9lbnZlbG9wZURhdGEucXVlcnlJbnRlcnZhbCh0aGlzLm1fZGVzY3JpcHRpb24sdCxlLHMpKSxzfXNldEF0dHJpYnV0ZUJhc2ljKHQsZSxzKXt0aGlzLnNldEF0dHJpYnV0ZUltcGwodCxlLHMpfXNldEF0dHJpYnV0ZUltcGwodCxlLHMpe2lmKHRoaXMuYWRkQXR0cmlidXRlKHQpLHRoaXMuaXNFbXB0eSgpKXJldHVybjtsZXQgbj0hMTtjb25zdCBpPXZlLmdldENvbXBvbmVudENvdW50KHQpLHI9dGhpcy5nZXRBdHRyaWJ1dGVTdHJlYW1SZWYodCksbz1OdW1iZXIuaXNOYU4ocyk7aWYoMT09PXIuZ2V0UGVyc2lzdGVuY2UoKSl7Y29uc3QgdD1yO2ZvcihsZXQgcj1lLGE9dGhpcy5tX3BvaW50Q291bnQqaTtyPGE7cis9aSl7Y29uc3QgZT10LnJlYWQocik7KG98fGU9PT1zKSYmTnVtYmVyLmlzTmFOKGUpfHwodC53cml0ZShyLHMpLG49ITApfX1lbHNlIGZvcihsZXQgYT1lLGg9dGhpcy5tX3BvaW50Q291bnQqaTthPGg7YSs9aSl7ci5yZWFkQXNEYmwoYSkhPT1zJiYoci53cml0ZUFzRGJsKGEscyksbj0hMCl9biYmdGhpcy5ub3RpZnlNb2RpZmllZEZsYWdzKDIwMDEpfXJlcGxhY2VOYU5zKHQsZSl7aWYodGhpcy5hZGRBdHRyaWJ1dGUodCksdGhpcy5pc0VtcHR5KCkpcmV0dXJuO2xldCBzPSExO2NvbnN0IG49dmUuZ2V0Q29tcG9uZW50Q291bnQodCksaT10aGlzLmdldEF0dHJpYnV0ZVN0cmVhbVJlZih0KTtmb3IobGV0IHI9MDtyPG47cisrKWlmKDE9PT1pLmdldFBlcnNpc3RlbmNlKCkpe2NvbnN0IHQ9aTtmb3IobGV0IGk9MCxyPXRoaXMubV9wb2ludENvdW50Km47aTxyO2krKyl7Y29uc3Qgbj10LnJlYWQoaSk7TnVtYmVyLmlzTmFOKG4pJiYodC53cml0ZShpLGUpLHM9ITApfX1lbHNlIGZvcihsZXQgdD0wLG89dGhpcy5tX3BvaW50Q291bnQqbjt0PG87dCsrKXtjb25zdCBuPWkucmVhZEFzRGJsKHQpO051bWJlci5pc05hTihuKSYmKGkud3JpdGVBc0RibCh0LGUpLHM9ITApfXMmJnRoaXMubm90aWZ5TW9kaWZpZWRGbGFncygyMDAxKX1jYWxjdWxhdGVMZW5ndGgzRCh0KXtyZXR1cm4gcygwKSwwfXNldEVudmVsb3BlRm9ySW1wb3J0KHQpe3RoaXMubV9kZXNjcmlwdGlvbi5lcXVhbHModC5nZXREZXNjcmlwdGlvbigpKXx8ZShcIlwiKSx0aGlzLm1fZW52ZWxvcGVEYXRhPW5ldyB5KHttb3ZlRW52OnR9KSx0aGlzLnNldERpcnR5RmxhZ1Byb3RlY3RlZCgxOTIsITEpfWNvcHlUbyh0KXt0LmdldEdlb21ldHJ5VHlwZSgpIT09dGhpcy5nZXRHZW9tZXRyeVR5cGUoKSYmZShcIlwiKSx0aGlzIT09dCYmdGhpcy5jb3B5VG9VbmNoZWNrZWQodCwhMSl9cXVlcnlDb29yZGluYXRlcyh0LHMsbixpKXtsZXQgcj1pPDA/dGhpcy5tX3BvaW50Q291bnQ6aTtpZihyPU1hdGgubWluKHIsbitzKSwobjwwfHxyPG58fHRoaXMubV9wb2ludENvdW50PjAmJm4+PXRoaXMubV9wb2ludENvdW50KSYmZShcIlwiKSwwPT09dGhpcy5tX3BvaW50Q291bnQpcmV0dXJuIHI7Y29uc3Qgbz10aGlzLmdldEF0dHJpYnV0ZVN0cmVhbVJlZigwKTtmb3IobGV0IGU9MipuLGE9MipyLGg9MDtlPGE7ZSs9MixoKyspby5xdWVyeVBvaW50MkQoZSx0W2hdKTtyZXR1cm4gcn1xdWVyeUNvb3JkaW5hdGVzM0QodCxzLG4saSl7bGV0IHI9aTwwP3RoaXMubV9wb2ludENvdW50Omk7aWYocj1NYXRoLm1pbihyLG4rcyksKG48MHx8cjxufHx0aGlzLm1fcG9pbnRDb3VudD4wJiZuPj10aGlzLm1fcG9pbnRDb3VudCkmJmUoXCJcIiksMD09PXRoaXMubV9wb2ludENvdW50KXJldHVybiByO2NvbnN0IG89dGhpcy5nZXRBdHRyaWJ1dGVTdHJlYW1SZWYoMCk7bGV0IGE9bnVsbDtjb25zdCBoPXZlLmdldERlZmF1bHRWYWx1ZSgxKSx1PXRoaXMubV9kZXNjcmlwdGlvbi5oYXNBdHRyaWJ1dGUoMSk7dSYmKGE9dGhpcy5nZXRBdHRyaWJ1dGVTdHJlYW1SZWYoMSkpO2xldCBtPTA7Zm9yKGxldCBlPW47ZTxyO2UrKyxtKyspdFttXS54PW8ucmVhZCgyKmUpLHRbbV0ueT1vLnJlYWQoMiplKzEpLHRbbV0uej11P2EucmVhZChlKTpoO3JldHVybiByfWNsZWFyQW5kU2V0RGlydHlGbGFnUHJvdGVjdGVkKHQsZSl7bGV0IHM9MDtjb25zdCBuPXQmfmUsaT1lfG47cz10aGlzLm1fZmxhZ3MsKHMmaSkhPT1lJiYodGhpcy5tX2ZsYWdzPXMmfm58ZSl9Z2V0SXNTaW1wbGUodCxlKXtlWzBdPTA7bGV0IHM9LTE7Y29uc3Qgbj10aGlzLm1fZmxhZ3MsaT10aGlzLm1fc2ltcGxlVG9sZXJhbmNlO2lmKCEoMSZuKSl7cz0oMTQmbik+PjEsZVswXT1pLGk8dCYmKHM9LTEpfXJldHVybiBzfXNldElzU2ltcGxlKHQsZSxuPSExKXtpZigyPT09dD9zKHRoaXMuZ2V0R2VvbWV0cnlUeXBlKCk9PT1pLmVudW1Qb2x5bGluZSk6MT09PXQ/cyh0aGlzLmdldEdlb21ldHJ5VHlwZSgpPT09aS5lbnVtTXVsdGlQb2ludHx8dGhpcy5nZXRHZW9tZXRyeVR5cGUoKT09PWkuZW51bVBvbHlsaW5lKTozPT09dCYmcyh0aGlzLmdldEdlb21ldHJ5VHlwZSgpPT09aS5lbnVtUG9seWdvbiksLTE9PT10KXRoaXMuc2V0RGlydHlGbGFnUHJvdGVjdGVkKDE3LCEwKTtlbHNle2xldCBzPXQ8PDE7bnx8KHN8PTE2KTtjb25zdCBpPTMxO3RoaXMuY2xlYXJBbmRTZXREaXJ0eUZsYWdQcm90ZWN0ZWQoaSxzKSx0aGlzLm1fc2ltcGxlVG9sZXJhbmNlIT09ZSYmKHRoaXMubV9zaW1wbGVUb2xlcmFuY2U9ZSl9fWF0dHJpYnV0ZVN0cmVhbUlzQWxsb2NhdGVkKHQpe3RoaXMudGhyb3dJZkVtcHR5KCk7Y29uc3QgZT10aGlzLm1fZGVzY3JpcHRpb24uZ2V0QXR0cmlidXRlSW5kZXgodCk7cmV0dXJuIGU+PTAmJm51bGwhPT10aGlzLm1fdmVydGV4QXR0cmlidXRlcy5nZXQoZSl9Y2FwYWNpdHkoKXtyZXR1cm4tMT09PXRoaXMubV9yZXNlcnZlZFBvaW50Q291bnQmJjA9PT10aGlzLm1fcG9pbnRDb3VudD8wOnRoaXMubV9yZXNlcnZlZFBvaW50Q291bnR9Z2V0RGVzY3JpcHRpb25JbXBsKCl7cmV0dXJuIHRoaXMubV9kZXNjcmlwdGlvbn1jb3B5VG9VbmNoZWNrZWQodCxlPSExKXtlJiZ0aGlzLmhhc0RpcnR5RmxhZygzMikmJnIoXCJDYW5ub3QgZG8gc2hhbGxvdyBjbG9uZSBvbiB1bnByZXBhcmVkIGdlb21ldHJ5XCIpO2NvbnN0IG49dCxvPXRoaXMuZ2V0R2VvbWV0cnlUeXBlKCksYT1uLmdldEdlb21ldHJ5VHlwZSgpO3Mobz09PWF8fG89PT1pLmVudW1Qb2x5Z29uJiZhPT09aS5lbnVtUG9seWxpbmUsXCJmYWlsdXJlIGluIGNvcHlUb1VuY2hja2VkXCIpLG4uY2xlYXJBY2NlbGVyYXRvcnMoKSxuLm1fZGVzY3JpcHRpb249dGhpcy5tX2Rlc2NyaXB0aW9uLG4ubV92ZXJ0ZXhBdHRyaWJ1dGVzLmRlc3Ryb3lBbmRTZXRTaXplKDApLG4ubV9lbnZlbG9wZURhdGEucmVsZWFzZUF0dHJpYnV0ZXMoKTtjb25zdCBoPXRoaXMubV9kZXNjcmlwdGlvbi5nZXRBdHRyaWJ1dGVDb3VudCgpLHU9bmV3IGdlO2lmKCF0aGlzLm1fdmVydGV4QXR0cmlidXRlcy5lbXB0eSgpKXt1LmRlc3Ryb3lBbmRTZXRTaXplKGgpO2ZvcihsZXQgdD0wO3Q8aDt0KyspaWYodGhpcy5tX3ZlcnRleEF0dHJpYnV0ZXMuZ2V0KHQpKWlmKGUpdS5zZXQodCx0aGlzLm1fdmVydGV4QXR0cmlidXRlcy5nZXQodCkpO2Vsc2V7Y29uc3QgZT12ZS5nZXRDb21wb25lbnRDb3VudCh0aGlzLm1fZGVzY3JpcHRpb24uZ2V0U2VtYW50aWNzKHQpKTt1LnNldCh0LHRoaXMubV92ZXJ0ZXhBdHRyaWJ1dGVzLmdldCh0KS5yZXN0cmljdGVkQ2xvbmUodGhpcy5nZXRQb2ludENvdW50KCkqZSkpfX1pZih0aGlzLm1fZW52ZWxvcGVEYXRhLmNvcHlUb0lmTm90TnVsbCh0aGlzLm1fZGVzY3JpcHRpb24sbi5tX2VudmVsb3BlRGF0YSksbi5tX2ZsYWdzPXRoaXMubV9mbGFncyxuLm1fc2ltcGxlVG9sZXJhbmNlPXRoaXMubV9zaW1wbGVUb2xlcmFuY2UsbyE9PWEpe2NvbnN0IHQ9W051bWJlci5OYU5dO24uZ2V0SXNTaW1wbGUoMCx0KT49Mz9uLnNldElzU2ltcGxlKDEsdFswXSk6bi5zZXRJc1NpbXBsZSgtMSwwKX1uLm1fdmVydGV4QXR0cmlidXRlcy5zd2FwKHUpLHUuZGVzdHJveUFuZFNldFNpemUoMCksbi5tX3BvaW50Q291bnQ9dGhpcy5tX3BvaW50Q291bnQsbi5oYXNEaXJ0eUZsYWcoMzIpfHxuLm1fdmVydGV4QXR0cmlidXRlcy5lbXB0eSgpPyhzKCFlfHwwPT09bi5tX3BvaW50Q291bnQpLG4ubV9yZXNlcnZlZFBvaW50Q291bnQ9LTEpOm4ubV9yZXNlcnZlZFBvaW50Q291bnQ9bi5tX3BvaW50Q291bnQ7dHJ5e3RoaXMuY29weVRvSW1wbChuLGUpfWNhdGNoKG0pe3Rocm93IG4uc2V0RW1wdHkoKSxtfW4udmVyaWZ5QWxsU3RyZWFtc0FmdGVyU2l6ZUNoYW5nZSgpfWJ1aWxkUmFzdGVyaXplZEdlb21ldHJ5QWNjZWxlcmF0b3IodCxlKXtyZXR1cm4hMX1nZXRBY2NlbGVyYXRvcnMoKXtyZXR1cm4gdGhpcy5tX2FjY2VsZXJhdG9yc31jbGVhckFjY2VsZXJhdG9ycygpe3RoaXMubV9hY2NlbGVyYXRvcnMmJnRoaXMubV9hY2NlbGVyYXRvcnMucmVsZWFzZSgpLHRoaXMubV9hY2NlbGVyYXRvcnM9bnVsbH1lbnN1cmVVbmlxdWVBY2NlbGVyYXRvcnMoKXtpZih0aGlzLm1fYWNjZWxlcmF0b3JzJiYhdGhpcy5tX2FjY2VsZXJhdG9ycy51bmlxdWVVc2UoKSl7Y29uc3QgdD10aGlzLm1fYWNjZWxlcmF0b3JzLmNsb25lKCk7dGhpcy5tX2FjY2VsZXJhdG9ycy5yZWxlYXNlKCksdGhpcy5tX2FjY2VsZXJhdG9ycz10fX1pbnRlcnBvbGF0ZVR3b1ZlcnRpY2VzKHQsZSxpLHIpeyh0PDB8fHQ+PXRoaXMubV9wb2ludENvdW50KSYmbihcIlwiKSwoZTwwfHxlPj10aGlzLm1fcG9pbnRDb3VudCkmJm4oXCJcIiksci5hc3NpZ25WZXJ0ZXhEZXNjcmlwdGlvbih0aGlzLm1fZGVzY3JpcHRpb24pO2NvbnN0IG89VSh2ZS5tYXhDb21wb25lbnRDb3VudCgpLE51bWJlci5OYU4pLGE9VSh2ZS5tYXhDb21wb25lbnRDb3VudCgpLE51bWJlci5OYU4pLGg9RCgpO2xldCB1PTA7Zm9yKGxldCBuPTA7bjx0aGlzLm1fZGVzY3JpcHRpb24uZ2V0QXR0cmlidXRlQ291bnQoKTtuKyspe2NvbnN0IHI9dGhpcy5tX2Rlc2NyaXB0aW9uLmdldFNlbWFudGljcyhuKSxtPXZlLmdldEludGVycG9sYXRpb24ociksbD12ZS5nZXRDb21wb25lbnRDb3VudChyKSxjPXZlLmdldERlZmF1bHRWYWx1ZShyKTt0aGlzLnF1ZXJ5QXR0cmlidXRlQXNEYmwocix0LG8sbCksdGhpcy5xdWVyeUF0dHJpYnV0ZUFzRGJsKHIsZSxhLGwpLHModStsPD13KSxPKG0sbyxhLGgsdSxsLGksYyksdSs9bH1DZShyLGgpfWdldFNob3J0ZXN0RGlzdGFuY2UodCxlKXtyZXR1cm4gUS5kaXN0YW5jZSh0aGlzLmdldFhZKHQpLHRoaXMuZ2V0WFkoZSkpfWdldFNob3J0ZXN0U3FyRGlzdGFuY2UodCxlKXtyZXR1cm4gUS5zcXJEaXN0YW5jZSh0aGlzLmdldFhZKHQpLHRoaXMuZ2V0WFkoZSkpfXJlc2l6ZUltcGwodCl7aWYodDwwJiZlKCksKHQ9TWF0aC5jZWlsKHQpKT09PXRoaXMubV9wb2ludENvdW50KXJldHVybjt0aGlzLm1fcG9pbnRDb3VudD10O2NvbnN0IHM9dGhpcy5tX3BvaW50Q291bnQ8PXRoaXMubV9yZXNlcnZlZFBvaW50Q291bnQ/MjAwMTo0MDk1O3RoaXMubm90aWZ5TW9kaWZpZWRGbGFncyhzKX1hc3NpZ25WZXJ0ZXhEZXNjcmlwdGlvbkltcGwodCl7aWYoIXRoaXMubV92ZXJ0ZXhBdHRyaWJ1dGVzLmVtcHR5KCkpe2NvbnN0IGU9QSgpO1QodCx0aGlzLm1fZGVzY3JpcHRpb24sZSk7Y29uc3Qgcz1uZXcgZ2U7cy5kZXN0cm95QW5kU2V0U2l6ZSh0LmdldEF0dHJpYnV0ZUNvdW50KCkpO2ZvcihsZXQgbj0wO248dC5nZXRBdHRyaWJ1dGVDb3VudCgpO24rKyl7Y29uc3QgdD1lW25dOy0xIT09dD9zLnNldChuLHRoaXMubV92ZXJ0ZXhBdHRyaWJ1dGVzLmdldCh0KSk6dGhpcy5tX3Jlc2VydmVkUG9pbnRDb3VudD0tMX1zLnN3YXAodGhpcy5tX3ZlcnRleEF0dHJpYnV0ZXMpfXRoaXMubV9kZXNjcmlwdGlvbj10LHRoaXMubV9lbnZlbG9wZURhdGEucmVsZWFzZUF0dHJpYnV0ZXMoKSx0aGlzLm5vdGlmeU1vZGlmaWVkRmxhZ3MoNDA5NSl9aGFzRGlydHlGbGFnKHQpe3JldHVybiAwIT09KHRoaXMubV9mbGFncyZ0KX1zZXREaXJ0eUZsYWdQcm90ZWN0ZWQodCxlKXtlP3RoaXMubV9mbGFnc3w9dDp0aGlzLm1fZmxhZ3MmPX50fW5vdGlmeU1vZGlmaWVkQWxsSW1wbCgpe312ZXJpZnlBbGxTdHJlYW1zQWZ0ZXJTaXplQ2hhbmdlKCl7dGhpcy5oYXNEaXJ0eUZsYWcoMzIpJiZ0aGlzLnZlcmlmeUFsbFN0cmVhbXNBZnRlclNpemVDaGFuZ2VJbXBsKCl9dmVyaWZ5QWxsU3RyZWFtc0FmdGVyU2l6ZUNoYW5nZUltcGwoKXtpZih0aGlzLmhhc0RpcnR5RmxhZygzMikpe2lmKHRoaXMubV9yZXNlcnZlZFBvaW50Q291bnQ8dGhpcy5tX3BvaW50Q291bnQpe3RoaXMubV92ZXJ0ZXhBdHRyaWJ1dGVzLmVtcHR5KCkmJnRoaXMubV92ZXJ0ZXhBdHRyaWJ1dGVzLmRlc3Ryb3lBbmRTZXRTaXplKHRoaXMubV9kZXNjcmlwdGlvbi5nZXRBdHRyaWJ1dGVDb3VudCgpKSx0aGlzLm1fcmVzZXJ2ZWRQb2ludENvdW50PS0xO2xldCB0PU51bWJlci5NQVhfU0FGRV9JTlRFR0VSLGU9MDtlPXRoaXMubV9wb2ludENvdW50PDQ/Mzp0aGlzLm1fcG9pbnRDb3VudDw9MTI4PzIqdGhpcy5tX3BvaW50Q291bnQ6TWF0aC50cnVuYygoNCp0aGlzLm1fcG9pbnRDb3VudCsyKS8zKTtmb3IobGV0IHM9MDtzPHRoaXMubV9kZXNjcmlwdGlvbi5nZXRBdHRyaWJ1dGVDb3VudCgpO3MrKyl7Y29uc3Qgbj10aGlzLm1fZGVzY3JpcHRpb24uZ2V0U2VtYW50aWNzKHMpO2xldCBpPTA7aWYobnVsbCE9PXRoaXMubV92ZXJ0ZXhBdHRyaWJ1dGVzLmdldChzKSl7Y29uc3QgdD12ZS5nZXRDb21wb25lbnRDb3VudChuKTtpPXRoaXMubV92ZXJ0ZXhBdHRyaWJ1dGVzLmdldChzKS5zaXplKCkvdCxpPHRoaXMubV9wb2ludENvdW50JiYodGhpcy5tX3ZlcnRleEF0dHJpYnV0ZXMuZ2V0KHMpLnJlc2l6ZShlKnQsdmUuZ2V0RGVmYXVsdFZhbHVlKG4pKSxpPWUpfWVsc2UgdGhpcy5tX3ZlcnRleEF0dHJpYnV0ZXMuc2V0KHMsSShuLGUpKSxpPWU7aTx0JiYodD1pKX10aGlzLm1fcmVzZXJ2ZWRQb2ludENvdW50PXR9dGhpcy52ZXJpZnlTdHJlYW1zQWZ0ZXJTaXplQ2hhbmdlRXh0cmFJbXBsKCksdGhpcy5zZXREaXJ0eUZsYWdQcm90ZWN0ZWQoMzIsITEpfX12ZXJpZnlTdHJlYW1zQWZ0ZXJTaXplQ2hhbmdlRXh0cmFJbXBsKCl7fXVwZGF0ZUFsbERpcnR5SW50ZXJ2YWxzKHQpe2lmKHQ/dGhpcy5oYXNEaXJ0eUZsYWcoMTkyKTp0aGlzLmhhc0RpcnR5RmxhZygxMjgpKXtpZih0aGlzLmlzRW1wdHkoKSlyZXR1cm4gdGhpcy5oYXNEaXJ0eUZsYWcoMTkyKSYmdGhpcy5tX2VudmVsb3BlRGF0YS5zZXRFbXB0eSh0aGlzLm1fZGVzY3JpcHRpb24pLHZvaWQgdGhpcy5zZXREaXJ0eUZsYWdQcm90ZWN0ZWQoMTkyLCExKTtjb25zdCBlPXRoaXMudXBkYXRlWFlJbXBsKHQpLHM9bmV3IE0oe3ZkOnRoaXMubV9kZXNjcmlwdGlvbn0pO3Muc2V0RW52ZWxvcGUoZSk7Zm9yKGxldCB0PTE7dDx0aGlzLm1fZGVzY3JpcHRpb24uZ2V0QXR0cmlidXRlQ291bnQoKTt0Kyspe2NvbnN0IGU9dGhpcy5tX2Rlc2NyaXB0aW9uLmdldFNlbWFudGljcyh0KSxuPXZlLmdldENvbXBvbmVudENvdW50KGUpLGk9dGhpcy5tX3ZlcnRleEF0dHJpYnV0ZXMuZ2V0KHQpO2ZvcihsZXQgdD0wO3Q8bjt0Kyspe2NvbnN0IHI9bmV3IEg7ci5zZXRFbXB0eSgpO2ZvcihsZXQgZT0wO2U8dGhpcy5tX3BvaW50Q291bnQ7ZSsrKXtjb25zdCBzPWkucmVhZEFzRGJsKGUqbit0KTtyLm1lcmdlQ29vcmRpbmF0ZShzKX1zLnNldEludGVydmFsRW52ZWxvcGUoZSx0LHIpfX0odD90aGlzLmhhc0RpcnR5RmxhZygxOTIpOnRoaXMuaGFzRGlydHlGbGFnKDEyOCkpJiYodGhpcy5tX2VudmVsb3BlRGF0YT1uZXcgeSh7bW92ZUVudjpzfSksdGhpcy5jbGVhckRpcnR5SW50ZXJ2YWxzRmxhZyh0KSl9fXVwZGF0ZVhZSW1wbCh0KXtjb25zdCBlPW1lLmNvbnN0cnVjdEVtcHR5KCkscz10aGlzLm1fdmVydGV4QXR0cmlidXRlcy5nZXQoMCk7cmV0dXJuIGUubWVyZ2VQb2ludHNJbnRlcmxlYXZlZChzLDAsdGhpcy5tX3BvaW50Q291bnQpLGV9dXBkYXRlRW52ZWxvcGUzRCh0KXtzKDApfXVwZGF0ZUxvb3NlRW52ZWxvcGUodCl7dGhpcy51cGRhdGVBbGxEaXJ0eUludGVydmFscyghMSksdCBpbnN0YW5jZW9mIG1lP3QuYXNzaWduKHRoaXMubV9lbnZlbG9wZURhdGEubV9lbnZlbG9wZTJEKTp0aGlzLm1fZW52ZWxvcGVEYXRhLnF1ZXJ5RW52ZWxvcGUzRCh0aGlzLm1fZGVzY3JpcHRpb24sdCl9dXBkYXRlRW52ZWxvcGUodCl7dGhpcy51cGRhdGVBbGxEaXJ0eUludGVydmFscyghMCksdC5hc3NpZ24odGhpcy5tX2VudmVsb3BlRGF0YS5tX2VudmVsb3BlMkQpfXNldEVtcHR5SW1wbCgpe3RoaXMubV9wb2ludENvdW50PTAsdGhpcy5tX3Jlc2VydmVkUG9pbnRDb3VudD0tMSx0aGlzLm1fdmVydGV4QXR0cmlidXRlcy5kZXN0cm95QW5kU2V0U2l6ZSgwKSx0aGlzLm5vdGlmeU1vZGlmaWVkRmxhZ3MoNDA5NSl9Y2xlYXJEaXJ0eUludGVydmFsc0ZsYWcodCl7dGhpcy5zZXREaXJ0eUZsYWdQcm90ZWN0ZWQoMTkyLCExKX1yZXNlcnZlSW1wbCh0LHMpe2lmKHQ8MCYmZShcIlwiKSwwPT09dClyZXR1cm47bGV0IG49dD1NYXRoLmNlaWwodCk7aWYodGhpcy5tX3Jlc2VydmVkUG9pbnRDb3VudDxuKXt0aGlzLm1fdmVydGV4QXR0cmlidXRlcy5lbXB0eSgpJiZ0aGlzLm1fdmVydGV4QXR0cmlidXRlcy5kZXN0cm95QW5kU2V0U2l6ZSh0aGlzLm1fZGVzY3JpcHRpb24uZ2V0QXR0cmlidXRlQ291bnQoKSkscz8obnVsbD09PXRoaXMubV92ZXJ0ZXhBdHRyaWJ1dGVzLmdldCgwKSYmdGhpcy5tX3ZlcnRleEF0dHJpYnV0ZXMuc2V0KDAsWSgwLDApKSx0aGlzLm1fdmVydGV4QXR0cmlidXRlcy5nZXQoMCkucmVzaXplUm91bmRlZCgyKm4pLG49dGhpcy5tX3ZlcnRleEF0dHJpYnV0ZXMuZ2V0KDApLnNpemUoKT4+MSk6bnVsbD09PXRoaXMubV92ZXJ0ZXhBdHRyaWJ1dGVzLmdldCgwKT90aGlzLm1fdmVydGV4QXR0cmlidXRlcy5zZXQoMCxZKDAsbikpOnRoaXMubV92ZXJ0ZXhBdHRyaWJ1dGVzLmdldCgwKS5yZXNpemUoMipuKTtmb3IobGV0IHQ9MTt0PHRoaXMubV9kZXNjcmlwdGlvbi5nZXRBdHRyaWJ1dGVDb3VudCgpO3QrKyl7Y29uc3QgZT10aGlzLm1fZGVzY3JpcHRpb24uZ2V0U2VtYW50aWNzKHQpLHM9dmUuZ2V0Q29tcG9uZW50Q291bnQoZSk7bnVsbCE9PXRoaXMubV92ZXJ0ZXhBdHRyaWJ1dGVzLmdldCh0KT90aGlzLm1fdmVydGV4QXR0cmlidXRlcy5nZXQodCkucmVzaXplKG4qcyk6dGhpcy5tX3ZlcnRleEF0dHJpYnV0ZXMuc2V0KHQsWShlLG4pKX10aGlzLnJlc2VydmVJbXBsSW1wbChuLHMpLHRoaXMubV9yZXNlcnZlZFBvaW50Q291bnQ9bn19cmVzZXJ2ZVJvdW5kZWQodCl7dDwwJiZlKCksdD1NYXRoLmNlaWwodCksdGhpcy5yZXNlcnZlSW1wbCh0LCEwKX1yZXNlcnZlSW1wbEltcGwodCxlKXt9dGhyb3dJZkVtcHR5KCl7dGhpcy5pc0VtcHR5SW1wbCgpJiZvKFwiXCIpfX1jbGFzcyBFZSBleHRlbmRzIFNle2NvbnN0cnVjdG9yKHQpe3N1cGVyKHQpLHQmJih0LnBvaW50cz90aGlzLmFkZFBvaW50czJEKHQucG9pbnRzLHQucG9pbnRzU2l6ZSwwLC0xKTp0LnBvaW50JiZ0aGlzLmFkZCh0LnBvaW50KSl9YXNzaWduQ29weSh0KXtyZXR1cm4gdC5jb3B5VG8odGhpcyksdGhpc31hc3NpZ25Nb3ZlKHQpe3JldHVybiB0LmNvcHlUbyh0aGlzKSx0LnNldEVtcHR5KCksdGhpc31pbnNlcnRQb2ludDJEKHQscyl7dD50aGlzLmdldFBvaW50Q291bnQoKSYmZShcImludmFsaWQgcG9pbnQgaW5kZXhcIiksdDwwJiYodD10aGlzLmdldFBvaW50Q291bnQoKSk7Y29uc3Qgbj10aGlzLm1fcG9pbnRDb3VudDt0aGlzLnJlc2l6ZU5vSW5pdCh0aGlzLm1fcG9pbnRDb3VudCsxKTtmb3IobGV0IGU9MCxpPXRoaXMubV9kZXNjcmlwdGlvbi5nZXRBdHRyaWJ1dGVDb3VudCgpO2U8aTtlKyspe2NvbnN0IGk9dGhpcy5tX2Rlc2NyaXB0aW9uLmdldFNlbWFudGljcyhlKSxyPWIuZ2V0Q29tcG9uZW50Q291bnQoaSk7aWYoMD09PWkpdGhpcy5tX3ZlcnRleEF0dHJpYnV0ZXMuZ2V0KGUpLmluc2VydChyKnQscyxyKm4pO2Vsc2V7Y29uc3Qgcz1iLmdldERlZmF1bHRWYWx1ZShpKTt0aGlzLm1fdmVydGV4QXR0cmlidXRlcy5nZXQoZSkuaW5zZXJ0UmFuZ2Uocip0LHMscixyKm4pfX10aGlzLm5vdGlmeU1vZGlmaWVkRmxhZ3MoMjAwMSl9aW5zZXJ0UG9pbnQodCxzKXtzLmlzRW1wdHkoKSYmZShiZSksdDwwJiYodD10aGlzLmdldFBvaW50Q291bnQoKSksdGhpcy5tZXJnZVZlcnRleERlc2NyaXB0aW9uKHMuZ2V0RGVzY3JpcHRpb24oKSk7Y29uc3Qgbj10aGlzLm1fcG9pbnRDb3VudDt0aGlzLnJlc2l6ZU5vSW5pdCh0aGlzLm1fcG9pbnRDb3VudCsxKTtmb3IobGV0IGU9MCxpPXRoaXMubV9kZXNjcmlwdGlvbi5nZXRBdHRyaWJ1dGVDb3VudCgpO2U8aTtlKyspe2NvbnN0IGk9dGhpcy5tX2Rlc2NyaXB0aW9uLmdldFNlbWFudGljcyhlKSxyPWIuZ2V0Q29tcG9uZW50Q291bnQoaSk7aWYocy5oYXNBdHRyaWJ1dGUoaSkpdGhpcy5tX3ZlcnRleEF0dHJpYnV0ZXMuZ2V0KGUpLmluc2VydEF0dHJpYnV0ZXMocip0LHMsaSxyKm4pO2Vsc2V7Y29uc3Qgcz1iLmdldERlZmF1bHRWYWx1ZShpKTt0aGlzLm1fdmVydGV4QXR0cmlidXRlcy5nZXQoZSkuaW5zZXJ0UmFuZ2Uocip0LHMscixyKm4pfX10aGlzLm5vdGlmeU1vZGlmaWVkRmxhZ3MoMjAwMSl9aW5zZXJ0UG9pbnRzKHQsZSxzKXtpZigodD50aGlzLmdldFBvaW50Q291bnQoKXx8czwwKSYmbihcIlwiKSx0PDAmJih0PXRoaXMuZ2V0UG9pbnRDb3VudCgpKSwwPT09cylyZXR1cm47Y29uc3QgaT1lWzBdLmdldERlc2NyaXB0aW9uKCk7dGhpcy5tZXJnZVZlcnRleERlc2NyaXB0aW9uKGkpO2NvbnN0IHI9dGhpcy5tX3BvaW50Q291bnQ7dGhpcy5yZXNpemVOb0luaXQodGhpcy5tX3BvaW50Q291bnQrcyk7Zm9yKGxldCBuPTAsbz10aGlzLm1fZGVzY3JpcHRpb24uZ2V0QXR0cmlidXRlQ291bnQoKTtuPG87bisrKXtjb25zdCBvPXRoaXMubV9kZXNjcmlwdGlvbi5nZXRTZW1hbnRpY3MobiksYT1iLmdldENvbXBvbmVudENvdW50KG8pO2lmKHRoaXMubV92ZXJ0ZXhBdHRyaWJ1dGVzLmdldChuKSlpZihpLmhhc0F0dHJpYnV0ZShvKSl0aGlzLm1fdmVydGV4QXR0cmlidXRlcy5nZXQobikuaW5zZXJ0QXR0cmlidXRlc0Zyb21Qb2ludHModCphLGUscyxvLHIqYSk7ZWxzZXtjb25zdCBlPWIuZ2V0RGVmYXVsdFZhbHVlKG8pO3RoaXMubV92ZXJ0ZXhBdHRyaWJ1dGVzLmdldChuKS5pbnNlcnRSYW5nZShhKnQsZSxhKnMsYSpyKX19dGhpcy5ub3RpZnlNb2RpZmllZEZsYWdzKDIwMDEpfWluc2VydFBvaW50czJEKHQscyxuKXtpZigodD50aGlzLmdldFBvaW50Q291bnQoKXx8bjwwKSYmZShcImludmFsaWQgcG9pbnQgaW5kZXhcIiksdDwwJiYodD10aGlzLmdldFBvaW50Q291bnQoKSksMD09PW4pcmV0dXJuO2NvbnN0IGk9dGhpcy5tX3BvaW50Q291bnQ7dGhpcy5yZXNpemVOb0luaXQodGhpcy5tX3BvaW50Q291bnQrbik7Zm9yKGxldCBlPTAscj10aGlzLm1fZGVzY3JpcHRpb24uZ2V0QXR0cmlidXRlQ291bnQoKTtlPHI7ZSsrKXtjb25zdCByPXRoaXMubV9kZXNjcmlwdGlvbi5nZXRTZW1hbnRpY3MoZSksbz1iLmdldENvbXBvbmVudENvdW50KHIpO2lmKHRoaXMubV92ZXJ0ZXhBdHRyaWJ1dGVzLmdldChlKSlpZigwPT09cil0aGlzLm1fdmVydGV4QXR0cmlidXRlcy5nZXQoZSkuaW5zZXJ0UmFuZ2VGcm9tUG9pbnRzKG8qdCxzLDAsbiwhMCxvKmkpO2Vsc2V7Y29uc3Qgcz1iLmdldERlZmF1bHRWYWx1ZShyKTt0aGlzLm1fdmVydGV4QXR0cmlidXRlcy5nZXQoZSkuaW5zZXJ0UmFuZ2Uobyp0LHMsbyxvKmkpfX10aGlzLm5vdGlmeU1vZGlmaWVkRmxhZ3MoMjAwMSl9cmVtb3ZlUG9pbnRzKHQsZSl7aWYoKHQ8MHx8ZTwwfHx0K2U+dGhpcy5nZXRQb2ludENvdW50KCkpJiZuKFwicmVtb3ZlX3BvaW50c1wiKSwwIT09ZSl7Zm9yKGxldCBzPTAsbj10aGlzLm1fZGVzY3JpcHRpb24uZ2V0QXR0cmlidXRlQ291bnQoKTtzPG47cysrKWlmKHRoaXMubV92ZXJ0ZXhBdHRyaWJ1dGVzLmdldChzKSl7Y29uc3Qgbj10aGlzLm1fZGVzY3JpcHRpb24uZ2V0U2VtYW50aWNzKHMpLGk9Yi5nZXRDb21wb25lbnRDb3VudChuKTt0aGlzLm1fdmVydGV4QXR0cmlidXRlcy5nZXQocykuZXJhc2VSYW5nZShpKnQsaSplLGkqdGhpcy5tX3BvaW50Q291bnQpfXRoaXMubV9wb2ludENvdW50LT1lLHRoaXMubV9yZXNlcnZlZFBvaW50Q291bnQ+MCYmKHRoaXMubV9yZXNlcnZlZFBvaW50Q291bnQtPWUpLHRoaXMubm90aWZ5TW9kaWZpZWRGbGFncygyMDAxKX19cmVtb3ZlUG9pbnQodCl7Zm9yKGxldCBlPTAscz10aGlzLm1fZGVzY3JpcHRpb24uZ2V0QXR0cmlidXRlQ291bnQoKTtlPHM7ZSsrKWlmKHRoaXMubV92ZXJ0ZXhBdHRyaWJ1dGVzLmdldChlKSl7Y29uc3Qgcz10aGlzLm1fZGVzY3JpcHRpb24uZ2V0U2VtYW50aWNzKGUpLG49Yi5nZXRDb21wb25lbnRDb3VudChzKTt0aGlzLm1fdmVydGV4QXR0cmlidXRlcy5nZXQoZSkuZXJhc2VSYW5nZShuKnQsbixuKnRoaXMubV9wb2ludENvdW50KX10aGlzLm1fcG9pbnRDb3VudC0tLHRoaXMubV9yZXNlcnZlZFBvaW50Q291bnQ+MCYmdGhpcy5tX3Jlc2VydmVkUG9pbnRDb3VudC0tLHRoaXMubm90aWZ5TW9kaWZpZWRGbGFncygyMDAxKX1jYWxjdWxhdGVFbnZlbG9wZTJEKCl7cmV0dXJuIHRoaXMudXBkYXRlWFlJbXBsKCEwKX1yZXNpemVOb0luaXQodCl7dGhpcy5yZXNpemVJbXBsKHQpfXJlc2l6ZUFuZEluaXROb25Qb3NpdGlvbkF0dHJpYnV0ZXModCl7Y29uc3QgZT10aGlzLm1fcG9pbnRDb3VudDtpZih0aGlzLnJlc2l6ZUltcGwodCksdGhpcy5tX3BvaW50Q291bnQ+ZSlmb3IobGV0IHM9MSxuPXRoaXMubV9kZXNjcmlwdGlvbi5nZXRBdHRyaWJ1dGVDb3VudCgpO3M8bjtzKyspe2NvbnN0IHQ9dGhpcy5tX2Rlc2NyaXB0aW9uLmdldFNlbWFudGljcyhzKSxuPWIuZ2V0RGVmYXVsdFZhbHVlKHQpLGk9Yi5nZXRDb21wb25lbnRDb3VudCh0KTt0aGlzLm1fdmVydGV4QXR0cmlidXRlcy5nZXQocykuaW5zZXJ0UmFuZ2UoaSplLG4saSoodGhpcy5tX3BvaW50Q291bnQtZSksaSplKX19cXVlcnlDb29yZGluYXRlczNEKHQscyxuLGkpe2xldCByPWk8MD90aGlzLm1fcG9pbnRDb3VudDppO2lmKHI9TWF0aC5taW4ocixuK3MpLChuPDB8fHI8bnx8dGhpcy5tX3BvaW50Q291bnQ+MCYmbj49dGhpcy5tX3BvaW50Q291bnQpJiZlKFwiXCIpLDA9PT10aGlzLm1fcG9pbnRDb3VudClyZXR1cm4gcjtjb25zdCBvPXRoaXMuZ2V0QXR0cmlidXRlU3RyZWFtUmVmKDApO2xldCBhPW51bGw7Y29uc3QgaD1iLmdldERlZmF1bHRWYWx1ZSgxKSx1PXRoaXMubV9kZXNjcmlwdGlvbi5oYXNBdHRyaWJ1dGUoMSk7dSYmKGE9dGhpcy5nZXRBdHRyaWJ1dGVTdHJlYW1SZWYoMSkpO2xldCBtPTA7Zm9yKGxldCBlPW47ZTxyO2UrKyxtKyspdFttXS54PW8ucmVhZCgyKmUpLHRbbV0ueT1vLnJlYWQoMiplKzEpLHRbbV0uej11P2EucmVhZChlKTpoO3JldHVybiByfXF1ZXJ5QXR0cmlidXRlQXNJbnQodCxlLG4saSl7cygwKX1hZGQodCl7dC5pc0VtcHR5KCkmJmUoYmUpLHRoaXMucmVzaXplQW5kSW5pdE5vblBvc2l0aW9uQXR0cmlidXRlcyh0aGlzLm1fcG9pbnRDb3VudCsxKSx0aGlzLnNldFBvaW50QnlWYWxOb0N1cnZlcyh0aGlzLm1fcG9pbnRDb3VudC0xLHQpfWFkZFhZKHQsZSl7dGhpcy5yZXNpemVBbmRJbml0Tm9uUG9zaXRpb25BdHRyaWJ1dGVzKHRoaXMubV9wb2ludENvdW50KzEpO2NvbnN0IHM9bmV3IFEodCxlKTt0aGlzLnNldFhZTm9DdXJ2ZXModGhpcy5tX3BvaW50Q291bnQtMSxzKX1hZGRYWVoodCxlLHMpe3RoaXMucmVzaXplQW5kSW5pdE5vblBvc2l0aW9uQXR0cmlidXRlcyh0aGlzLm1fcG9pbnRDb3VudCsxKTtjb25zdCBuPW5ldyBTO24uc2V0Q29vcmRzKHQsZSxzKSx0aGlzLnNldFhZWk5vQ3VydmVzKHRoaXMubV9wb2ludENvdW50LTEsbil9YWRkUG9pbnQyRCh0KXt0aGlzLmFkZFhZKHQueCx0LnkpfWFkZFBvaW50M0QodCl7dGhpcy5hZGRYWVoodC54LHQueSx0LnopfWFkZFBvaW50cyh0LHMsbil7dGhpcz09PXQmJmUoXCJNdWx0aV9wb2ludF9pbXBsLmFkZFwiKTtjb25zdCBpPW48MD90LmdldFBvaW50Q291bnQoKTpuO2lmKChzPDB8fHM+dC5nZXRQb2ludENvdW50KCl8fGk8cykmJmUoXCJcIikscz09PWkpcmV0dXJuO2NvbnN0IHI9dC5nZXREZXNjcmlwdGlvbigpO3RoaXMubWVyZ2VWZXJ0ZXhEZXNjcmlwdGlvbihyKTtjb25zdCBvPWktcyxhPXRoaXMubV9wb2ludENvdW50O3RoaXMucmVzaXplTm9Jbml0KHRoaXMubV9wb2ludENvdW50K28pO2ZvcihsZXQgZT0wLGg9dGhpcy5tX2Rlc2NyaXB0aW9uLmdldEF0dHJpYnV0ZUNvdW50KCk7ZTxoO2UrKyl7Y29uc3Qgbj10aGlzLm1fZGVzY3JpcHRpb24uZ2V0U2VtYW50aWNzKGUpLGk9Yi5nZXRDb21wb25lbnRDb3VudChuKSxoPXRoaXMuZ2V0QXR0cmlidXRlU3RyZWFtUmVmKG4pO2lmKHIuaGFzQXR0cmlidXRlKG4pKXtjb25zdCBlPXQuZ2V0QXR0cmlidXRlU3RyZWFtUmVmKG4pO2guaW5zZXJ0UmFuZ2VGcm9tU3RyZWFtKGEqaSxlLHMqaSxvKmksITAsMSxhKmkpfWVsc2V7Y29uc3QgdD1iLmdldERlZmF1bHRWYWx1ZShuKTtoLmluc2VydFJhbmdlKGEqaSx0LG8qaSxhKmkpfX19YWRkUG9pbnRzMkQodCxzLG4saSl7bGV0IHI9cztjb25zdCBvPWk8MD9yOmk7aWYoKHI8MHx8bjwwfHxuPnJ8fG88bikmJmUoXCJcIiksbj09PW8pcmV0dXJuO3I9by1uO2NvbnN0IGE9dGhpcy5tX3BvaW50Q291bnQ7dGhpcy5yZXNpemVBbmRJbml0Tm9uUG9zaXRpb25BdHRyaWJ1dGVzKHRoaXMubV9wb2ludENvdW50K3IpO2NvbnN0IGg9dGhpcy5nZXRBdHRyaWJ1dGVTdHJlYW1SZWYoMCk7Zm9yKGxldCBlPTA7ZTxyOysrZSloLndyaXRlUG9pbnQyRCgyKihhK2UpLHRbbitlXSk7dGhpcy5ub3RpZnlNb2RpZmllZEZsYWdzKDIwMDEpfWFkZFBvaW50czNEKHQscyxuLGkpe2xldCByPXM7Y29uc3Qgbz1pPDA/cjppO2lmKChyPDB8fG48MHx8bj5yfHxvPG4pJiZlKFwiXCIpLHRoaXMuYWRkQXR0cmlidXRlKDEpLG49PT1vKXJldHVybjtyPW8tbjtjb25zdCBhPXRoaXMubV9wb2ludENvdW50O3RoaXMucmVzaXplQW5kSW5pdE5vblBvc2l0aW9uQXR0cmlidXRlcyh0aGlzLm1fcG9pbnRDb3VudCtyKTtjb25zdCBoPXRoaXMuZ2V0QXR0cmlidXRlU3RyZWFtUmVmKDApLHU9bmV3IFE7Zm9yKGxldCBlPTA7ZTxyO2UrKyl1Lng9dFtuK2VdLngsdS55PXRbbitlXS55LGgud3JpdGVQb2ludDJEKDIqKGErZSksdSk7Y29uc3QgbT10aGlzLmdldEF0dHJpYnV0ZVN0cmVhbVJlZigxKTtmb3IobGV0IGU9MDtlPHI7ZSsrKW0ud3JpdGUoYStlLHRbbitlXS56KTt0aGlzLm5vdGlmeU1vZGlmaWVkRmxhZ3MoMjAwMSl9c2V0UG9pbnRCeVZhbCh0LGUpe3RoaXMuc2V0UG9pbnRCeVZhbE5vQ3VydmVzKHQsZSl9c2V0WFkodCxlKXt0aGlzLnNldFhZTm9DdXJ2ZXModCxlKX1zZXRYWUNvb3Jkcyh0LGUscyl7dGhpcy5zZXRYWUNvb3Jkc05vQ3VydmVzKHQsZSxzKX1zZXRYWVoodCxlKXt0aGlzLnNldFhZWk5vQ3VydmVzKHQsZSl9c2V0QXR0cmlidXRlKHQsZSxzLG4pe3RoaXMuc2V0QXR0cmlidXRlTm9DdXJ2ZXModCxlLHMsbil9Z2V0R2VvbWV0cnlUeXBlKCl7cmV0dXJuIGkuZW51bU11bHRpUG9pbnR9Z2V0RGltZW5zaW9uKCl7cmV0dXJuIDB9Y3JlYXRlSW5zdGFuY2UoKXtyZXR1cm4gbmV3IEVlKHt2ZDp0aGlzLmdldERlc2NyaXB0aW9uKCl9KX1zZXRFbXB0eSgpe3RoaXMuc2V0RW1wdHlJbXBsKCl9YXBwbHlUcmFuc2Zvcm1hdGlvbih0KXtpZih0aGlzLmlzRW1wdHkoKSlyZXR1cm47aWYodC5pc0lkZW50aXR5KCkpcmV0dXJuO2NvbnN0IGU9dGhpcy5tX3ZlcnRleEF0dHJpYnV0ZXMuZ2V0KDApOzE9PT10Lm1fVHJhbnNmb3JtYXRpb25UeXBlP2UuYXBwbHlUcmFuc2Zvcm1hdGlvbih0LDAsdGhpcy5tX3BvaW50Q291bnQpOmEoXCIzZCB4Zm9ybSBub3QgaW1wbFwiKSx0aGlzLm5vdGlmeU1vZGlmaWVkRmxhZ3MoMjAwMSl9Y2FsY3VsYXRlQXJlYTJEKCl7cmV0dXJuIDB9Y2FsY3VsYXRlTGVuZ3RoMkQoKXtyZXR1cm4gMH1jYWxjdWxhdGVMZW5ndGgzRCh0KXtyZXR1cm4gMH1lcXVhbHModCxlKXtyZXR1cm4gdC5nZXRHZW9tZXRyeVR5cGUoKT09PWkuZW51bU11bHRpUG9pbnQmJnRoaXMuZXF1YWxzQmFzZSh0LGUpfXF1ZXJ5RW52ZWxvcGUodCl7ND09PXQubV9FbnZlbG9wZVR5cGU/KHRoaXMudXBkYXRlQWxsRGlydHlJbnRlcnZhbHMoITApLHRoaXMubV9lbnZlbG9wZURhdGEuY29weVRvKHRoaXMubV9kZXNjcmlwdGlvbix0KSk6Mj09PXQubV9FbnZlbG9wZVR5cGU/dGhpcy51cGRhdGVFbnZlbG9wZSh0KTphKFwiXCIpfWdldEltcGwoKXtyZXR1cm4gdGhpc31nZXRCb3VuZGFyeSgpe3JldHVybiBudWxsfXJlc2VydmUodCl7dGhpcy5yZXNlcnZlSW1wbCh0KX1jbG9uZSgpe2NvbnN0IHQ9dGhpcy5jcmVhdGVJbnN0YW5jZSgpO3JldHVybiB0aGlzLmNvcHlUbyh0KSx0fXN3YXAodCl7cygwKX1idWlsZFF1YWRUcmVlQWNjZWxlcmF0b3IodCl7cmV0dXJuITF9Z2V0SGFzaENvZGVJbXBsKCl7cmV0dXJuIHMoMCksMH1lcXVhbHNJbXBsKHQpe3JldHVybiEwfWVxdWFsc0ltcGxUb2wodCxlKXtyZXR1cm4hMH1jb3B5VG9JbXBsKHQsZSl7fX1FZS50eXBlPWkuZW51bU11bHRpUG9pbnQ7Y2xhc3MgRGV7Y29uc3RydWN0b3IoKXt0aGlzLm1fRW52ZWxvcGVUeXBlPTUsdGhpcy5lbnZBYWJiPW1lLmNvbnN0cnVjdEVtcHR5KCksdGhpcy5lbnZSb3Q9bWUuY29uc3RydWN0RW1wdHkoKX1zdGF0aWMgY29uc3RydWN0RW1wdHkoKXtyZXR1cm4gbmV3IERlfXdpZHRoKCl7cmV0dXJuIHRoaXMuZW52QWFiYi53aWR0aCgpfWhlaWdodCgpe3JldHVybiB0aGlzLmVudkFhYmIuaGVpZ2h0KCl9bWF4RGltKCl7cmV0dXJuIE1hdGgubWF4KHRoaXMud2lkdGgoKSx0aGlzLmhlaWdodCgpKX1zZXRFbXB0eSgpe3RoaXMuZW52QWFiYi5zZXRFbXB0eSgpLHRoaXMuZW52Um90LnNldEVtcHR5KCl9c2V0Q29vcmRzKHQpe3RoaXMuZW52QWFiYi5zZXRDb29yZHModCksdGhpcy5lbnZSb3Quc2V0Q29vcmRzKHt4OlRlKHQpLHk6SWUodCl9KX1zZXRGcm9tUG9pbnRzKHQsZSl7dGhpcy5zZXRFbXB0eSgpLHRoaXMubWVyZ2VQb2ludHModCxlKX1tZXJnZU5lKHQpe3RoaXMuZW52QWFiYi5tZXJnZU5lKHQpLHRoaXMuZW52Um90Lm1lcmdlTmVDb29yZHMoVGUodCksSWUodCkpfW1lcmdlUG9pbnRzKHQsZSl7dGhpcy5lbnZBYWJiLm1lcmdlUG9pbnRzKHQsZSk7Zm9yKGxldCBzPTA7czxlOyl7aWYoIXRoaXMuZW52Um90LmlzRW1wdHkoKSl7Zm9yKGxldCBuPXM7bjxlO24rKyl7Y29uc3QgZT1UZSh0W25dKSxzPUllKHRbbl0pO3RoaXMuZW52Um90Lm1lcmdlTmVDb29yZHMoZSxzKX1icmVha317Y29uc3QgZT1UZSh0W3NdKSxuPUllKHRbc10pO3RoaXMuZW52Um90LnNldENvb3Jkcyh7eDplLHk6bn0pLHMrK319fWlzSW50ZXJzZWN0aW5nUG9pbnQyRCh0KXtyZXR1cm4hKCF0aGlzLmVudkFhYmIuY29udGFpbnModCl8fCF0aGlzLmVudlJvdC5jb250YWluc0Nvb3JkcyhUZSh0KSxJZSh0KSkpfWlzSW50ZXJzZWN0aW5nVyh0KXtyZXR1cm4gdGhpcy5lbnZBYWJiLmlzSW50ZXJzZWN0aW5nKHQuZW52QWFiYikmJnRoaXMuZW52Um90LmlzSW50ZXJzZWN0aW5nKHQuZW52Um90KX1jb250YWluc1codCl7cmV0dXJuISghdGhpcy5lbnZBYWJiLmNvbnRhaW5zRW52ZWxvcGUodC5lbnZBYWJiKXx8IXRoaXMuZW52Um90LmNvbnRhaW5zRW52ZWxvcGUodC5lbnZSb3QpKX1jb250YWluc1BvaW50MkQodCl7cmV0dXJuIHRoaXMuaXNJbnRlcnNlY3RpbmdQb2ludDJEKHQpfWludGVyc2VjdFcodCl7Y29uc3QgZT10aGlzLmVudkFhYmIuaW50ZXJzZWN0KHQuZW52QWFiYikscz10aGlzLmVudlJvdC5pbnRlcnNlY3QodC5lbnZSb3QpO3JldHVybiBlJiYhcyYmdGhpcy5lbnZBYWJiLnNldEVtcHR5KCkscyYmIWUmJnRoaXMuZW52Um90LnNldEVtcHR5KCksZSYmc31pbmZsYXRlKHQpe3RoaXMuZW52QWFiYi5pbmZsYXRlQ29vcmRzKHQsdCk7Y29uc3QgZT10KnN0KCk7dGhpcy5lbnZSb3QuaW5mbGF0ZUNvb3JkcyhlLGUpLGU8MCYmRGUuc3RfcmVkdWNlRW1wdHkodGhpcyl9c3RhdGljIHN0X3JlZHVjZUVtcHR5KHQpe2NvbnN0IGU9dC5lbnZBYWJiLmlzRW1wdHkoKSxzPXQuZW52Um90LmlzRW1wdHkoKTtlJiYhcz90LmVudlJvdC5zZXRFbXB0eSgpOnMmJiFlJiZ0LmVudkFhYmIuc2V0RW1wdHkoKX1zcXJNYXhNaW5EaXN0YW5jZSh0KXtjb25zdCBlPXRoaXMuZW52QWFiYi5zcXJNYXhNaW5EaXN0YW5jZSh0KSxzPXRoaXMuZW52Um90LnNxck1heE1pbkRpc3RhbmNlKE1lKHQpKS8yO3JldHVybiBNYXRoLm1heChlLHMpfXNxck1pbkRpc3RhbmNlKHQpe2NvbnN0IGU9dGhpcy5lbnZBYWJiLnNxck1pbkRpc3RhbmNlKHQpLHM9dGhpcy5lbnZSb3Quc3FyTWluRGlzdGFuY2UoTWUodCkpLzI7cmV0dXJuIE1hdGgubWF4KGUscyl9c3FyTWF4RGlzdGFuY2UodCl7Y29uc3QgZT10aGlzLmVudkFhYmIuc3FyTWF4RGlzdGFuY2UodCkscz10aGlzLmVudlJvdC5zcXJNYXhEaXN0YW5jZShNZSh0KSkvMjtyZXR1cm4gTWF0aC5tYXgoZSxzKX1nZXRFbnZlbG9wZTJEKCl7cmV0dXJuIHRoaXMuZW52QWFiYn1nZXRSb3RhdGVkRW52ZWxvcGUyRCgpe3JldHVybiB0aGlzLmVudlJvdH14eVJvdCh0LGUpe2NvbnN0IHM9d2UodC54LHQueSksbj1BZSh0LngsdC55KTtlLnNldENvb3JkcyhzLG4pfX1mdW5jdGlvbiB3ZSh0LGUpe3JldHVybiB0LWV9ZnVuY3Rpb24gQWUodCxlKXtyZXR1cm4gdCtlfWZ1bmN0aW9uIFRlKHQpe3JldHVybiB0LngtdC55fWZ1bmN0aW9uIEllKHQpe3JldHVybiB0LngrdC55fWZ1bmN0aW9uIE1lKHQpe3JldHVybiBuZXcgUShUZSh0KSxJZSh0KSl9Y2xhc3MgWWV7Y29uc3RydWN0b3IoKXt0aGlzLng9YXQuZ2V0TkFOKCksdGhpcy55PWF0LmdldE5BTigpfXN0YXRpYyBnZXROQU4oKXtyZXR1cm4gbmV3IFllfXN0YXRpYyBjb25zdHJ1Y3RQb2ludDJEKHQpe2NvbnN0IGU9bmV3IFllO3JldHVybiBlLnguc2V0KHQueCksZS55LnNldCh0LnkpLGV9c3RhdGljIGNvbnN0cnVjdENvb3Jkcyh0LGUpe2NvbnN0IHM9bmV3IFllO3JldHVybiBzLnguc2V0KHQpLHMueS5zZXQoZSksc31zdGF0aWMgY29uc3RydWN0Q29vcmRzRSh0LGUpe2NvbnN0IHM9bmV3IFllO3JldHVybiBzLnNldENvb3Jkc0UodCxlKSxzfWdldCAwKCl7cmV0dXJuIHRoaXMueC5jbG9uZSgpfXNldCAwKHQpe3RoaXMueC5zZXRFKHQpfWdldCAxKCl7cmV0dXJuIHRoaXMueS5jbG9uZSgpfXNldCAxKHQpe3RoaXMueS5zZXRFKHQpfWNsb25lKCl7cmV0dXJuKG5ldyBZZSkuc2V0RSh0aGlzKX1zY2FsZVRoaXModCl7cmV0dXJuIHRoaXMueC5tdWxUaGlzRSh0KSx0aGlzLnkubXVsVGhpc0UodCksdGhpc31zZXRDb29yZHModCxlKXtyZXR1cm4gdGhpcy54LnNldCh0KSx0aGlzLnkuc2V0KGUpLHRoaXN9c2V0Q29vcmRzRSh0LGUpe3JldHVybiB0aGlzLnguc2V0RSh0KSx0aGlzLnkuc2V0RShlKSx0aGlzfXNldCh0KXtyZXR1cm4gdGhpcy54LnNldCh0LngpLHRoaXMueS5zZXQodC55KSx0aGlzfXNldEUodCl7cmV0dXJuIHRoaXMueC5zZXRFKHQueCksdGhpcy55LnNldEUodC55KSx0aGlzfXNldFdpdGhFcHModCxlKXtyZXR1cm4gdGhpcy54LnNldFdpdGhFcHModC54LGUpLHRoaXMueS5zZXRXaXRoRXBzKHQueSxlKSx0aGlzfWdldFVuaXRWZWN0b3IoKXtjb25zdCB0PXRoaXMuY2xvbmUoKTtyZXR1cm4gdC5ub3JtYWxpemUoKSx0fXNxckxlbmd0aCgpe3JldHVybiB0aGlzLnguc3FyKCkuYWRkRSh0aGlzLnkuc3FyKCkpfWxlbmd0aCgpe3JldHVybiB0aGlzLnNxckxlbmd0aCgpLnNxcnQoKX1tdWxFKHQpe2NvbnN0IGU9bmV3IFllO3JldHVybiBlLnNldENvb3Jkc0UodGhpcy54Lm11bEUodCksdGhpcy55Lm11bEUodCkpLGV9bXVsKHQpe2NvbnN0IGU9bmV3IFllO3JldHVybiBlLnNldENvb3Jkc0UodGhpcy54Lm11bCh0KSx0aGlzLnkubXVsKHQpKSxlfW11bFRoaXModCl7cmV0dXJuIHRoaXMueC5tdWxUaGlzKHQpLHRoaXMueS5tdWxUaGlzKHQpLHRoaXN9bXVsVGhpc0UodCl7cmV0dXJuIHRoaXMueC5tdWxUaGlzRSh0KSx0aGlzLnkubXVsVGhpc0UodCksdGhpc31kaXZFKHQpe3JldHVybiB0aGlzLmNsb25lKCkuZGl2VGhpc0UodCl9ZGl2VGhpc0UodCl7cmV0dXJuIHRoaXMueC5kaXZUaGlzRSh0KSx0aGlzLnkuZGl2VGhpc0UodCksdGhpc31ub3JtYWxpemUoKXtjb25zdCB0PXRoaXMubGVuZ3RoKCk7MD09PXQudmFsdWUoKT8odGhpcy54PWh0LmNsb25lKCksdGhpcy55PXV0LmNsb25lKCkpOih0aGlzLnguZGl2VGhpc0UodCksdGhpcy55LmRpdlRoaXNFKHQpKX1hZGRFKHQpe3JldHVybiB0aGlzLmNsb25lKCkuYWRkVGhpc0UodCl9YWRkVGhpc0UodCl7cmV0dXJuIHRoaXMueC5hZGRUaGlzRSh0LngpLHRoaXMueS5hZGRUaGlzRSh0LnkpLHRoaXN9c3ViRSh0KXtyZXR1cm4gdGhpcy5jbG9uZSgpLnN1YlRoaXNFKHQpfXN1YlRoaXNFKHQpe3JldHVybiB0aGlzLnguc3ViVGhpc0UodC54KSx0aGlzLnkuc3ViVGhpc0UodC55KSx0aGlzfXN0YXRpYyBkaXN0YW5jZSh0LGUpe3JldHVybiB0LnN1YkUoZSkubGVuZ3RoKCl9bmVnYXRlVGhpcygpe3JldHVybiB0aGlzLngubmVnYXRlVGhpcygpLHRoaXMueS5uZWdhdGVUaGlzKCksdGhpc31lcSh0KXtyZXR1cm4gdGhpcy54LmVxKHQueCkmJnRoaXMueS5lcSh0LnkpfWlzWmVybygpe3JldHVybiB0aGlzLnguaXNaZXJvKCkmJnRoaXMueS5pc1plcm8oKX1pc1RydWVaZXJvKCl7cmV0dXJuIXRoaXMueC52YWx1ZSgpJiYhdGhpcy55LnZhbHVlKCl9cm90YXRlRGlyZWN0KHQsZSl7Y29uc3Qgcz10aGlzLngubXVsRSh0KS5zdWJUaGlzRSh0aGlzLnkubXVsRShlKSksbj10aGlzLngubXVsRShlKS5hZGRUaGlzRSh0aGlzLnkubXVsRSh0KSk7cmV0dXJuIHRoaXMueC5zZXRFKHMpLHRoaXMueS5zZXRFKG4pLHRoaXN9cm90YXRlUmV2ZXJzZSh0LGUpe2NvbnN0IHM9dGhpcy54Lm11bEUodCkuYWRkVGhpc0UodGhpcy55Lm11bEUoZSkpLG49dGhpcy54Lm5lZ2F0ZSgpLm11bFRoaXNFKGUpLmFkZFRoaXNFKHRoaXMueS5tdWxFKHQpKTtyZXR1cm4gdGhpcy54LnNldEUocyksdGhpcy55LnNldEUobiksdGhpc31kb3RQcm9kdWN0KHQpe3JldHVybiB0aGlzLngubXVsRSh0LngpLmFkZEUodGhpcy55Lm11bEUodC55KSl9Y3Jvc3NQcm9kdWN0KHQpe3JldHVybiB0aGlzLngubXVsRSh0LnkpLnN1YkUodGhpcy55Lm11bEUodC54KSl9dmFsdWUoKXtyZXR1cm4gUS5jb25zdHJ1Y3QodGhpcy54LnZhbHVlKCksdGhpcy55LnZhbHVlKCkpfX1jbGFzcyBOZXtjb25zdHJ1Y3Rvcigpe3RoaXMuYTExPW5ldyBhdCgxKSx0aGlzLmExMj1uZXcgYXQoMCksdGhpcy5hMjE9bmV3IGF0KDApLHRoaXMuYTIyPW5ldyBhdCgxKX1jbG9uZSgpe2NvbnN0IHQ9bmV3IE5lO3JldHVybiB0LmExMS5zZXRFKHRoaXMuYTExKSx0LmExMi5zZXRFKHRoaXMuYTEyKSx0LmEyMS5zZXRFKHRoaXMuYTIxKSx0LmEyMi5zZXRFKHRoaXMuYTIyKSx0fWFzc2lnbih0KXtyZXR1cm4gdGhpcy5hMTEuc2V0RSh0LmExMSksdGhpcy5hMTIuc2V0RSh0LmExMiksdGhpcy5hMjEuc2V0RSh0LmEyMSksdGhpcy5hMjIuc2V0RSh0LmEyMiksdGhpc31tdWxUaGlzKHQpe2NvbnN0IGU9dGhpcy5hMTEubXVsRSh0LmExMSkuYWRkVGhpc0UodGhpcy5hMTIubXVsRSh0LmEyMSkpLHM9dGhpcy5hMTEubXVsRSh0LmExMikuYWRkVGhpc0UodGhpcy5hMTIubXVsRSh0LmEyMikpLG49dGhpcy5hMjEubXVsRSh0LmExMSkuYWRkVGhpc0UodGhpcy5hMjIubXVsRSh0LmEyMSkpLGk9dGhpcy5hMjEubXVsRSh0LmExMikuYWRkVGhpc0UodGhpcy5hMjIubXVsRSh0LmEyMikpO3JldHVybiB0aGlzLmExMT1lLHRoaXMuYTEyPXMsdGhpcy5hMjE9bix0aGlzLmEyMj1pLHRoaXN9bXVsTGVmdFRoaXModCl7Y29uc3QgZT10LmNsb25lKCk7cmV0dXJuIHRoaXMuYXNzaWduKGUubXVsVGhpcyh0aGlzKSksdGhpc31kZXQoKXtyZXR1cm4gdGhpcy5hMTEubXVsRSh0aGlzLmEyMikuc3ViVGhpc0UodGhpcy5hMTIubXVsRSh0aGlzLmEyMSkpfWludmVydFRoaXMoKXtjb25zdCB0PXRoaXMuZGV0KCk7aWYoMCE9PXQudmFsdWUoKSl7Y29uc3QgZT10aGlzLmEyMi5kaXZFKHQpLHM9dGhpcy5hMTIubmVnYXRlKCkuZGl2VGhpc0UodCksbj10aGlzLmEyMS5uZWdhdGUoKS5kaXZUaGlzRSh0KSxpPXRoaXMuYTExLmRpdkUodCk7dGhpcy5hMTE9ZSx0aGlzLmExMj1zLHRoaXMuYTIxPW4sdGhpcy5hMjI9aX1lbHNlIHRoaXMuc2V0WmVybygpO3JldHVybiF0LmlzWmVybygpfXRyYW5zcG9zZVRoaXMoKXtyZXR1cm4gdGhpcy5hMjE9ZXQodGhpcy5hMTIsdGhpcy5hMTI9dGhpcy5hMjEpLHRoaXN9ZWlnZW5TeW1tZXRyaWModCxlKXtjb25zdCBzPXRoaXMuYTEyLmNsb25lKCk7cy5hZGRUaGlzRSh0aGlzLmEyMSkscy5tdWxUaGlzQnlQb3dlcjIoLjUpO2xldCBuPW5ldyBhdCgxKSxpPW5ldyBhdCgwKTtpZihzLmlzWmVybygpKXRbMF0uc2V0RSh0aGlzLmExMSksdFsxXS5zZXRFKHRoaXMuYTIyKTtlbHNle2NvbnN0IGU9bmV3IGF0KDEpO2lmKHRoaXMuYTExLm5lKHRoaXMuYTIyKSl7Y29uc3Qgcj10aGlzLmExMS5zdWJFKHRoaXMuYTIyKS5kaXZFKHMpO3IubXVsVGhpc0J5UG93ZXIyKC41KTtjb25zdCBvPXIuc3FyKCk7ZS5zZXRFKHIpLGUuYWJzVGhpcygpLGUuc3ViVGhpc0Uoby5hZGQoMSkuc3FydFRoaXMoKSksci5ndCh1dCkmJmUubmVnYXRlVGhpcygpO2NvbnN0IGE9ZS5zcXIoKS5hZGRUaGlzKDEpLnNxcnRUaGlzKCkuaW52VGhpcygpO2k9ZS5tdWxFKGEpLG4uc2V0RShhKTtjb25zdCBoPWUubXVsRShzKTt0WzBdPXRoaXMuYTExLmFkZEUoaCksdFsxXT10aGlzLmEyMi5zdWJFKGgpfWVsc2Ugbj1uZXcgYXQoMS9NYXRoLnNxcnQoMikpLGk9bi5jbG9uZSgpLHRbMF09dGhpcy5hMTEuYWRkRShzKSx0WzFdPXRoaXMuYTIyLnN1YkUocyl9ZVswXS54PW4udG9Eb3VibGUoKSxlWzBdLnk9aS50b0RvdWJsZSgpLGVbMV0ueD1pLm5lZ2F0ZSgpLnRvRG91YmxlKCksZVsxXS55PW4udG9Eb3VibGUoKSxNYXRoLmFicyh0WzBdLnRvRG91YmxlKCkpPk1hdGguYWJzKHRbMV0udG9Eb3VibGUoKSkmJih0WzFdPWV0KHRbMF0sdFswXT10WzFdKSxlWzFdPWV0KGVbMF0sZVswXT1lWzFdKSl9c2V0WmVybygpe3RoaXMuYTExLnNldCgwKSx0aGlzLmEyMS5zZXQoMCksdGhpcy5hMTIuc2V0KDApLHRoaXMuYTIyLnNldCgwKX19Y2xhc3MgWGV7c3RhdGljIGNvbnN0cnVjdFBvaW50MkQodCl7cmV0dXJuIG5ldyBYZShpdC5jb25zdHJ1Y3REb3VibGUodC54KSxpdC5jb25zdHJ1Y3REb3VibGUodC55KSl9Y29uc3RydWN0b3IodCxlKXtpZih2b2lkIDA9PT10KXJldHVybiB0aGlzLng9KG5ldyBpdCkuc2V0TkFOKCksdm9pZCh0aGlzLnk9KG5ldyBpdCkuc2V0TkFOKCkpO3RoaXMueD10LmNsb25lKCksdGhpcy55PWUuY2xvbmUoKX1hc3NpZ25Qb2ludDJEKHQpe3JldHVybiB0aGlzLnguc2V0RG91YmxlKHQueCksdGhpcy55LnNldERvdWJsZSh0LnkpLHRoaXN9c2V0Q29vcmRzKHQsZSl7cmV0dXJuIHRoaXMueC5zZXRUaGlzKHQpLHRoaXMueS5zZXRUaGlzKGUpLHRoaXN9YXNQb2ludDJEKCl7cmV0dXJuIG5ldyBRKHRoaXMueC52YWx1ZSgpLHRoaXMueS52YWx1ZSgpKX1jcm9zc1Byb2R1Y3QodCl7cmV0dXJuIHRoaXMueC5tdWwodC55KS5zdWIodGhpcy55Lm11bCh0LngpKX1sZWZ0UGVycGVuZGljdWxhclRoaXMoKXtjb25zdCB0PXRoaXMueC5jbG9uZSgpO3RoaXMueD10aGlzLnkuY2xvbmUoKS5uZWdhdGUoKSx0aGlzLnk9dH1jbG9uZSgpe3JldHVybiBuZXcgWGUodGhpcy54LHRoaXMueSl9ZG90UHJvZHVjdCh0KXtyZXR1cm4gdGhpcy54Lm11bCh0LngpLmFkZCh0aGlzLnkubXVsKHQueSkpfWFkZCh0KXtyZXR1cm4gbmV3IFhlKHRoaXMueC5hZGQodC54KSx0aGlzLnkuYWRkKHQueSkpfXN1Yih0KXtyZXR1cm4gbmV3IFhlKHRoaXMueC5zdWIodC54KSx0aGlzLnkuc3ViKHQueSkpfXNxckxlbmd0aCgpe3JldHVybiB0aGlzLnguc3FyKCkuYWRkVGhpcyh0aGlzLnkuc3FyKCkpfW11bFRoaXModCl7cmV0dXJuIHRoaXMueC5tdWxUaGlzKHQpLHRoaXMueS5tdWxUaGlzKHQpLHRoaXN9bXVsKHQpe3JldHVybiB0aGlzLmNsb25lKCkubXVsVGhpcyh0KX1zdWJUaGlzKHQpe3JldHVybiB0aGlzLnguc3ViVGhpcyh0LngpLHRoaXMueS5zdWJUaGlzKHQueSksdGhpc31hZGRUaGlzKHQpe3JldHVybiB0aGlzLnguYWRkVGhpcyh0LngpLHRoaXMueS5hZGRUaGlzKHQueSksdGhpc319dmFyIHFlPWI7ZnVuY3Rpb24gRmUodCl7bGV0IGU9ITE7Zm9yKGxldCBzPTA7czwyO3MrKyl7Y29uc3Qgbj1udCh0WzBdW3NdLHRbM11bc10pO24+MD8obnQodFswXVtzXSx0WzFdW3NdKTwwJiYodFsxXVtzXT10WzBdW3NdLGU9ITApLG50KHRbMV1bc10sdFszXVtzXSk8MCYmKHRbMV1bc109dFszXVtzXSxlPSEwKSxudCh0WzBdW3NdLHRbMl1bc10pPDAmJih0WzJdW3NdPXRbMF1bc10sZT0hMCksbnQodFsyXVtzXSx0WzNdW3NdKTwwJiYodFsyXVtzXT10WzNdW3NdLGU9ITApLG50KHRbMV1bc10sdFsyXVtzXSk8MCYmKHRbMl1bc109dFsxXVtzXSxlPSEwKSk6bjwwPyhudCh0WzBdW3NdLHRbMV1bc10pPjAmJih0WzFdW3NdPXRbMF1bc10sZT0hMCksbnQodFsxXVtzXSx0WzNdW3NdKT4wJiYodFsxXVtzXT10WzNdW3NdLGU9ITApLG50KHRbMF1bc10sdFsyXVtzXSk+MCYmKHRbMl1bc109dFswXVtzXSxlPSEwKSxudCh0WzJdW3NdLHRbM11bc10pPjAmJih0WzJdW3NdPXRbM11bc10sZT0hMCksbnQodFsxXVtzXSx0WzJdW3NdKT4wJiYodFsyXVtzXT10WzFdW3NdLGU9ITApKTp0WzFdW3NdPT09dFswXVtzXSYmdFsyXVtzXT09PXRbMF1bc118fCh0WzFdW3NdPXRbMF1bc10sdFsyXVtzXT10WzBdW3NdLGU9ITApfXJldHVybiBlfWZ1bmN0aW9uIFZlKHQpe2NvbnN0IGU9bnQodFswXS55LHRbMV0ueSkscz1udCh0WzFdLnksdFsyXS55KSxuPW50KHRbMl0ueSx0WzNdLnkpO2lmKGU+PTAmJnM+PTAmJm4+PTB8fGU8PTAmJnM8PTAmJm48PTApe2NvbnN0IGU9bnQodFswXS54LHRbMV0ueCkscz1udCh0WzFdLngsdFsyXS54KSxuPW50KHRbMl0ueCx0WzNdLngpO2lmKGU+PTAmJnM+PTAmJm4+PTB8fGU8PTAmJnM8PTAmJm48PTApcmV0dXJuITB9cmV0dXJuITF9ZnVuY3Rpb24gTGUodCxlKXtjb25zdCBzPXQuZ2V0U3RhcnRYWSgpO2lmKHMuZXF1YWxzKGUuZ2V0U3RhcnRYWSgpKSlyZXR1cm4hMDtpZihzLmVxdWFscyhlLmdldEVuZFhZKCkpKXJldHVybiEwO2NvbnN0IG49dC5nZXRFbmRYWSgpO3JldHVybiEhbi5lcXVhbHMoZS5nZXRTdGFydFhZKCkpfHwhIW4uZXF1YWxzKGUuZ2V0RW5kWFkoKSl9ZnVuY3Rpb24gUmUodCxlKXtsZXQgcz10LmNhbGN1bGF0ZUxvd2VyTGVuZ3RoMkQoKTtyZXR1cm4hKHM+ZSkmJighIXQuaXNMaW5lKCl8fChzPXQuY2FsY3VsYXRlVXBwZXJMZW5ndGgyRCgpLHM8PWV8fDAhPT1lJiZ0LmNhbGN1bGF0ZUxlbmd0aDJEKCk8PWUpKX1mdW5jdGlvbiB6ZSh0LGUscyl7Y29uc3Qgbj1sdChRLDQpO2xldCByPXQucXVlcnlDb250cm9sUG9pbnRzSGVscGVyKG4pO2NvbnN0IG89bHQoUSw0KTtsZXQgYT1lLnF1ZXJ5Q29udHJvbFBvaW50c0hlbHBlcihvKTtuWzBdLmVxdWFscyhvWzBdKXx8dShcIlwiKTtjb25zdCBoPXQuZ2V0R2VvbWV0cnlUeXBlKCk7aWYoaD09PWUuZ2V0R2VvbWV0cnlUeXBlKCkmJm4ubWFwKCgodCxlKT0+b1tlXS5lcXVhbHModCkpKS5yZWR1Y2UoKCh0LGUpPT50JiZlKSkpe2lmKGghPT1pLmVudW1SYXRpb25hbEJlemllcjIpcmV0dXJuIDA7e2NvbnN0IHM9ZSxuPVswLDAsMF0saT1bMCwwLDBdO2lmKHQucXVlcnlXZWlnaHRzKG4pLHMucXVlcnlXZWlnaHRzKGkpLG4ubWFwKCgodCxlKT0+aVtlXT09PXQpKS5yZWR1Y2UoKCh0LGUpPT50JiZlKSkpcmV0dXJuIDB9fWZvcig7cj4yJiZuWzFdLmVxdWFscyhuWzBdKTspbi5zcGxpY2UoMSwxKSxyLS07Zm9yKDthPjImJm9bMV0uZXF1YWxzKG9bMF0pOylvLnNwbGljZSgxLDEpLGEtLTsoblsxXS5lcXVhbHMoblswXSl8fG9bMV0uZXF1YWxzKG5bMF0pKSYmdShcIlwiKTtjb25zdCBtPVEuY29tcGFyZVZlY3RvcnNPcmlnaW4oblswXSxuWzFdLG9bMV0pO2lmKDA9PT1tKXtjb25zdCBzPVhlLmNvbnN0cnVjdFBvaW50MkQoblswXSksaT1uZXcgWGU7dC5xdWVyeUNvb3JkMkRNUCgxZS0xNixpKSxpLnN1YihzKTtjb25zdCByPW5ldyBYZTtlLnF1ZXJ5Q29vcmQyRE1QKDFlLTE2LHIpLHIuc3ViKHMpO3JldHVybiByLmNyb3NzUHJvZHVjdChpKS5zaWduKCl9cmV0dXJuIG19ZnVuY3Rpb24gQmUodCxlLG4saSxyLG8sYSxoKXtsZXQgdT10LmNhbGN1bGF0ZVVwcGVyTGVuZ3RoMkQoKSxtPWUuY2FsY3VsYXRlVXBwZXJMZW5ndGgyRCgpLGw9dCxjPWUsZz0hMTt1Pm0mJihjPWV0KGwsbD1jKSxpPWV0KG4sbj1pKSxtPWV0KHUsdT1tKSxnPSEwKTtjb25zdCBkPTA9PT1uO3thWzBdPWQ/MTowO2NvbnN0IHQ9bC5nZXRDb29yZDJEKGFbMF0pO2hbMF09Yy5nZXRDbG9zZXN0Q29vcmRpbmF0ZSh0LCExKTtjb25zdCBlPWMuZ2V0Q29vcmQyRChoWzBdKTtpZihRLmRpc3RhbmNlKHQsZSk8PXIpe2NvbnN0IGU9Wy41LC43NSwuMjUsLjEsLjldO2xldCBzPSEwO2ZvcihsZXQgbj0wO248ZS5sZW5ndGg7bisrKWlmKHQuYXNzaWduKGwuZ2V0Q29vcmQyRChlW25dKSksIWMuaXNDbG9zZXJUaGFuRGlzdGFuY2UodCxuZXcgSCgwLDEpLHIpKXtzPSExO2JyZWFrfWlmKHMpcmV0dXJuIGcmJihoWzBdPWV0KGFbMF0sYVswXT1oWzBdKSksMX19aWYodTw9MypyKXJldHVybiAwO2xldCBfPV90KE1hdGgubWF4KHIvdSwuMSksMCwuNSkscD0uMDEqcixmPTAsUD0wLHk9Xyx4PS0xLEM9MCx2PTEvMzI7Zm9yKGxldCBiPTA7O2IrKyl7cyhiPDQwOTUpO2NvbnN0IHQ9ZD9fOjEtXyxlPWwuZ2V0Q29vcmQyRCh0KSxuPWMuZ2V0Q2xvc2VzdENvb3JkaW5hdGUoZSwhMSk7aWYobj09PWkpcmV0dXJuIEM7Y29uc3QgdT1jLmdldENvb3JkMkQobiksbT1RLmRpc3RhbmNlKGUsdSk7aWYoMD09PWImJih4PW0pLG08PXA/KHY9LjUsUD1tLGY9Xyk6KHk9Xyx4PW0pLE1hdGguYWJzKFAteCk+LjEqcCYmeS1mPjFlLTE2KV89cnQoZix5LHYpO2Vsc2V7aWYoYVtDXT10LGhbQ109bixnJiYoaFtDXT1ldChhW0NdLGFbQ109aFtDXSkpLDE9PT1vfHwxPT09QylyZXR1cm4gMT09PUMmJmFbMF0+YVsxXSYmKGFbMV09ZXQoYVswXSxhWzBdPWFbMV0pLGhbMV09ZXQoaFswXSxoWzBdPWhbMV0pKSxDKzE7QysrLGY9eSxQPXgseT0uOCx4PS0xLF89Ljgsdj0xLzMyLHA9MTAqcixiPTB9fX1mdW5jdGlvbiBrZSh0LGUscyxuLGkscixvLGEsaCl7aWYoZ3QocywwLDEpJiZndChuLDAsMSkpe2lmKDA9PT1RLmRpc3RhbmNlKHQuZ2V0Q29vcmQyRChzKSxlLmdldENvb3JkMkQobikpKXtjb25zdCBoPTFlLTEyLHU9bmV3IFllLG09ZHQoKTtpZih0LnF1ZXJ5RGVyaXZhdGl2ZShuZXcgYXQocyxtKSx1KSx1LmlzVHJ1ZVplcm8oKSl7Y29uc3QgZT0xPT09cz8tMWUtMTI6aDt0LnF1ZXJ5RGVyaXZhdGl2ZShuZXcgYXQocyxtKS5hZGQoZSksdSl9MT09PXMmJnUubmVnYXRlVGhpcygpO2NvbnN0IGw9bmV3IFllO2lmKGUucXVlcnlEZXJpdmF0aXZlKG5ldyBhdChuLG0pLGwpLGwuaXNUcnVlWmVybygpKXtjb25zdCB0PTE9PT1zPy0xZS0xMjpoO2UucXVlcnlEZXJpdmF0aXZlKG5ldyBhdChuLG0pLmFkZCh0KSxsKX0xPT09biYmbC5uZWdhdGVUaGlzKCksdS5pc1plcm8oKXx8dS5ub3JtYWxpemUoKSxsLmlzWmVybygpfHxsLm5vcm1hbGl6ZSgpO2NvbnN0IGM9dS5kb3RQcm9kdWN0KGwpLGc9dS5jcm9zc1Byb2R1Y3QobCk7Zy5zY2FsZUVycm9yKDMpO2NvbnN0IGQ9KCk9Pnt7Y29uc3Qgcz10LmNhbGN1bGF0ZVVwcGVyTGVuZ3RoMkQoKSxuPWUuY2FsY3VsYXRlVXBwZXJMZW5ndGgyRCgpO3JldHVybiBNYXRoLm1pbiguMDEqaS9NYXRoLm1pbihzLG4pLDFlLTEwKX19O2lmKGMuZ2UodXQpJiYoZy5pc1plcm8oKXx8TWF0aC5hYnMoZy52YWx1ZSgpKTxkKCkpKXtyZXR1cm4gQmUodCxlLHMsbixpLHIsbyxhKX19fXJldHVybiAwfWZ1bmN0aW9uIEdlKHQsZSxuKXtpZihzKHQuaXNDdXJ2ZSgpfHxlLmlzQ3VydmUoKSksdC5nZXRTdGFydFhZKCkuZXF1YWxzKGUuZ2V0U3RhcnRYWSgpKSl7aWYoa2UodCxlLDAsMCxuLDIsWzAsMF0sWzAsMF0pKXJldHVybiEwfWlmKHQuZ2V0RW5kWFkoKS5lcXVhbHMoZS5nZXRFbmRYWSgpKSl7aWYoa2UodCxlLDEsMSxuLDIsWzAsMF0sWzAsMF0pKXJldHVybiEwfWlmKHQuZ2V0U3RhcnRYWSgpLmVxdWFscyhlLmdldEVuZFhZKCkpKXtpZihrZSh0LGUsMCwxLG4sMixbMCwwXSxbMCwwXSkpcmV0dXJuITB9aWYodC5nZXRFbmRYWSgpLmVxdWFscyhlLmdldFN0YXJ0WFkoKSkpe2lmKGtlKHQsZSwxLDAsbiwyLFswLDBdLFswLDBdKSlyZXR1cm4hMH1yZXR1cm4hMX1mdW5jdGlvbiBXZSh0LGUpe3QubV9YU3RhcnQ9ZS54LHQubV9ZU3RhcnQ9ZS55fWZ1bmN0aW9uIGplKHQsZSxzKXt0Lm1fWFN0YXJ0PWUsdC5tX1lTdGFydD1zfWZ1bmN0aW9uIFplKHQsZSl7dC5tX1hFbmQ9ZS54LHQubV9ZRW5kPWUueX1mdW5jdGlvbiBIZSh0LGUscyl7dC5tX1hFbmQ9ZSx0Lm1fWUVuZD1zfWZ1bmN0aW9uIFVlKHQsZSxzKXtlP3QubV9YRW5kPT09cy54JiZ0Lm1fWUVuZD09PXMueXx8KHQubV9YRW5kPXMueCx0Lm1fWUVuZD1zLnksdC5lbmRQb2ludE1vZGlmaWVkKCkpOnQubV9YU3RhcnQ9PT1zLngmJnQubV9ZU3RhcnQ9PT1zLnl8fCh0Lm1fWFN0YXJ0PXMueCx0Lm1fWVN0YXJ0PXMueSx0LmVuZFBvaW50TW9kaWZpZWQoKSl9ZnVuY3Rpb24gT2UodCxlKXtjb25zdCBzPW5ldyBTO3JldHVybiBlPyhzLng9dC5tX1hFbmQscy55PXQubV9ZRW5kKToocy54PXQubV9YU3RhcnQscy55PXQubV9ZU3RhcnQpLHMuej1RZSh0LGUpLHN9ZnVuY3Rpb24gUWUodCxlKXtyZXR1cm4gdC5tX2Rlc2NyaXB0aW9uLmhhc1ooKT90Lm1fYXR0cmlidXRlc1tlKih0Lm1fZGVzY3JpcHRpb24uZ2V0VG90YWxDb21wb25lbnRDb3VudCgpLTIpXTpxZS5nZXREZWZhdWx0VmFsdWUoMSl9ZnVuY3Rpb24gSmUodCxlLHMpe3QubV9kZXNjcmlwdGlvbi5oYXNaKCl8fHQuYWRkQXR0cmlidXRlKDEpLGU/dC5tX1hFbmQ9PT1zLngmJnQubV9ZRW5kPT09cy55fHwodC5tX1hFbmQ9cy54LHQubV9ZRW5kPXMueSx0LmVuZFBvaW50TW9kaWZpZWQoKSk6dC5tX1hTdGFydD09PXMueCYmdC5tX1lTdGFydD09PXMueXx8KHQubV9YU3RhcnQ9cy54LHQubV9ZU3RhcnQ9cy55LHQuZW5kUG9pbnRNb2RpZmllZCgpKSx0Lm1fYXR0cmlidXRlc1sodC5tX2Rlc2NyaXB0aW9uLmdldFRvdGFsQ29tcG9uZW50Q291bnQoKS0yKSplXT1zLnp9ZnVuY3Rpb24gS2UodCxlLHMpe3MuYXNzaWduVmVydGV4RGVzY3JpcHRpb24odC5tX2Rlc2NyaXB0aW9uKTtjb25zdCBuPTA9PT1lP3QubV9YU3RhcnQ6dC5tX1hFbmQsaT0wPT09ZT90Lm1fWVN0YXJ0OnQubV9ZRW5kO3Muc2V0WFlDb29yZHMobixpKTtmb3IobGV0IHI9MTtyPHQubV9kZXNjcmlwdGlvbi5nZXRBdHRyaWJ1dGVDb3VudCgpO3IrKyl7Y29uc3Qgbj10Lm1fZGVzY3JpcHRpb24uZ2V0U2VtYW50aWNzKHIpO2ZvcihsZXQgaT0wLHI9cWUuZ2V0Q29tcG9uZW50Q291bnQobik7aTxyO2krKyl7Y29uc3Qgcj10cyh0LGUsbixpKTtzLnNldEF0dHJpYnV0ZUJhc2ljKG4saSxyKX19fWZ1bmN0aW9uICRlKHQsZSxzKXtzLmlzRW1wdHkoKSYmbyhcIlwiKSxVZSh0LGUscy5nZXRYWSgpKTtjb25zdCBuPXMuZ2V0RGVzY3JpcHRpb24oKTtuIT09dC5tX2Rlc2NyaXB0aW9uJiZ0Lm1lcmdlVmVydGV4RGVzY3JpcHRpb24obik7Zm9yKGxldCBpPTEscj1uLmdldEF0dHJpYnV0ZUNvdW50KCk7aTxyO2krKyl7Y29uc3Qgcj1uLmdldFNlbWFudGljcyhpKSxvPXFlLmdldENvbXBvbmVudENvdW50KHIpO2ZvcihsZXQgbj0wO248bztuKyspe2VzKHQsZSxyLG4scy5nZXRBdHRyaWJ1dGVBc0RibChyLG4pKX19fWZ1bmN0aW9uIHRzKHQsZSxzLGkpe2lmKChlPDB8fGU+MSkmJm4oXCJcIiksMD09PXMpcmV0dXJuKGk8MHx8aT49MikmJm4oXCJcIiksMD09PWU/MD09PWk/dC5tX1hTdGFydDp0Lm1fWVN0YXJ0OjA9PT1pP3QubV9YRW5kOnQubV9ZRW5kO2NvbnN0IHI9cWUuZ2V0Q29tcG9uZW50Q291bnQocyk7KGk8MHx8aT49cikmJm4oXCJcIik7Y29uc3Qgbz10Lm1fZGVzY3JpcHRpb24uZ2V0QXR0cmlidXRlSW5kZXgocyk7cmV0dXJuIG8+PTA/dC5tX2F0dHJpYnV0ZXNbZSoodC5tX2Rlc2NyaXB0aW9uLmdldFRvdGFsQ29tcG9uZW50Q291bnQoKS0yKSt0Lm1fZGVzY3JpcHRpb24uZ2V0UG9pbnRBdHRyaWJ1dGVPZmZzZXQobyktMitpXTpxZS5nZXREZWZhdWx0VmFsdWUocyl9ZnVuY3Rpb24gZXModCxlLHMsaSxyKXtpZigoZTwwfHxlPjEpJiZuKFwiXCIpLDA9PT1zKXJldHVybiAwPT09ZT8wPT09aT90Lm1fWFN0YXJ0PXI6MT09PWk/dC5tX1lTdGFydD1yOm4oXCJcIik6MT09PWU/MD09PWk/dC5tX1hFbmQ9cjoxPT09aT90Lm1fWUVuZD1yOm4oXCJcIik6bihcIlwiKSx2b2lkIHQuZW5kUG9pbnRNb2RpZmllZCgpO2NvbnN0IG89cWUuZ2V0Q29tcG9uZW50Q291bnQocyk7KGk8MHx8aT49bykmJm4oXCJcIik7bGV0IGE9dC5tX2Rlc2NyaXB0aW9uLmdldEF0dHJpYnV0ZUluZGV4KHMpO2E8MCYmKHQuYWRkQXR0cmlidXRlKHMpLGE9dC5tX2Rlc2NyaXB0aW9uLmdldEF0dHJpYnV0ZUluZGV4KHMpKSx0Lm1fYXR0cmlidXRlc1tlKih0Lm1fZGVzY3JpcHRpb24uZ2V0VG90YWxDb21wb25lbnRDb3VudCgpLTIpK3QubV9kZXNjcmlwdGlvbi5nZXRQb2ludEF0dHJpYnV0ZU9mZnNldChhKS0yK2ldPXJ9ZnVuY3Rpb24gc3ModCxlKXtpZih0PT09ZSlyZXR1cm47ZS5pc0VtcHR5KCkmJm8oXCJcIik7Y29uc3Qgcz1lLmdldERlc2NyaXB0aW9uKCk7cyE9PXQubV9kZXNjcmlwdGlvbiYmdC5tZXJnZVZlcnRleERlc2NyaXB0aW9uKHMpO2ZvcihsZXQgbj0xLGk9cy5nZXRBdHRyaWJ1dGVDb3VudCgpO248aTtuKyspe2NvbnN0IGk9cy5nZXRTZW1hbnRpY3Mobikscj1xZS5nZXRDb21wb25lbnRDb3VudChpKTtmb3IobGV0IHM9MDtzPHI7cysrKXtsZXQgbj10cyhlLDAsaSxzKTtlcyh0LDAsaSxzLG4pLG49dHMoZSwxLGkscyksZXModCwxLGkscyxuKX19fWZ1bmN0aW9uIG5zKHQsZSl7Y29uc3Qgcz1BKCk7VChlLHQubV9kZXNjcmlwdGlvbixzKTtsZXQgbj1udWxsO2NvbnN0IGk9ZS5nZXRUb3RhbENvbXBvbmVudENvdW50KCktMixyPXQubV9kZXNjcmlwdGlvbj90Lm1fZGVzY3JpcHRpb24uZ2V0VG90YWxDb21wb25lbnRDb3VudCgpLTI6MDtpZihpPjAmJihuPVUoMippLE51bWJlci5OYU4pLEsobixlLmdldERlZmF1bHRQb2ludEF0dHJpYnV0ZXMoKSwwLDIsaSksSyhuLGUuZ2V0RGVmYXVsdFBvaW50QXR0cmlidXRlcygpLGksMixpKSxudWxsIT09dC5tX2Rlc2NyaXB0aW9uKSlmb3IobGV0IG89MTtvPGUuZ2V0QXR0cmlidXRlQ291bnQoKTtvKyspe2NvbnN0IGE9c1tvXTtpZigtMSE9PWEpe2NvbnN0IHM9dC5tX2Rlc2NyaXB0aW9uLmdldFBvaW50QXR0cmlidXRlT2Zmc2V0KGEpLTIsaD1lLmdldFBvaW50QXR0cmlidXRlT2Zmc2V0KG8pLTIsdT1xZS5nZXRDb21wb25lbnRDb3VudChlLmdldFNlbWFudGljcyhvKSk7Zm9yKGxldCBlPTA7ZTx1OysrZSluW2hdPXQubV9hdHRyaWJ1dGVzW3NdLG5baStoXT10Lm1fYXR0cmlidXRlc1tyK3NdfX10Lm1fYXR0cmlidXRlcz1uLHQubV9kZXNjcmlwdGlvbj1lfWZ1bmN0aW9uIGlzKHQpe3JldHVybiB0LmFic05vcm0oKSptdCgpfWZ1bmN0aW9uIHJzKHQsZSl7cmV0dXJuIE1hdGgubWF4KHQuYWJzTm9ybSgpLGUuYWJzTm9ybSgpKSptdCgpfWZ1bmN0aW9uIG9zKHQsZSxzKXtjb25zdCBuPW5ldyBEZTt0LnF1ZXJ5RW52ZWxvcGVXKEgudW5pdCgpLG4pO2NvbnN0IGk9bmV3IERlO3JldHVybiBlLnF1ZXJ5RW52ZWxvcGVXKEgudW5pdCgpLGkpLGkuaW5mbGF0ZShzKSwhbi5pc0ludGVyc2VjdGluZ1coaSl9ZnVuY3Rpb24gYXModCxlLHMpe2NvbnN0IG49Y3QodCxzKSxpPWN0KGUscyk7bi5zb3J0KCgodCxlKT0+dC5jb21wYXJlKGUpKSksaS5zb3J0KCgodCxlKT0+dC5jb21wYXJlKGUpKSk7Zm9yKGxldCByPTA7cjwzO3IrKyl7aWYobltyXS5jb21wYXJlKGlbcl0pPDApcmV0dXJuLTE7aWYoMCE9PW5bcl0uY29tcGFyZShpW3JdKSlyZXR1cm4gMX1yZXR1cm4gMH12YXIgaHM9YjtjbGFzcyB1c3tjb25zdHJ1Y3Rvcih0KXtpZih0LmNvcHkpe2lmKHRoaXMubV9YU3RhcnQ9dC5jb3B5Lm1fWFN0YXJ0LHRoaXMubV9ZU3RhcnQ9dC5jb3B5Lm1fWVN0YXJ0LHRoaXMubV9YRW5kPXQuY29weS5tX1hFbmQsdGhpcy5tX1lFbmQ9dC5jb3B5Lm1fWUVuZCx0aGlzLm1fZGVzY3JpcHRpb249dC5jb3B5Lm1fZGVzY3JpcHRpb24sdGhpcy5tX2F0dHJpYnV0ZXM9bnVsbCx0aGlzLm1fZGVzY3JpcHRpb24pe3RoaXMubV9kZXNjcmlwdGlvbi5nZXRUb3RhbENvbXBvbmVudENvdW50KCktMiYmKHRoaXMubV9hdHRyaWJ1dGVzPXQuY29weS5tX2F0dHJpYnV0ZXMuc2xpY2UoKSl9fWVsc2V7aWYodC5tb3ZlKXJldHVybiB0aGlzLm1fZGVzY3JpcHRpb249dC5tb3ZlLm1fZGVzY3JpcHRpb24sdC5tb3ZlLm1fZGVzY3JpcHRpb249bnVsbCx0aGlzLm1fYXR0cmlidXRlcz10Lm1vdmUubV9hdHRyaWJ1dGVzLHQubW92ZS5tX2F0dHJpYnV0ZXM9bnVsbCx0aGlzLm1fWFN0YXJ0PXQubW92ZS5tX1hTdGFydCx0aGlzLm1fWVN0YXJ0PXQubW92ZS5tX1lTdGFydCx0aGlzLm1fWEVuZD10Lm1vdmUubV9YRW5kLHZvaWQodGhpcy5tX1lFbmQ9dC5tb3ZlLm1fWUVuZCk7aWYodm9pZCAwIT09dC5YU3RhcnQpcmV0dXJuIHRoaXMubV9YU3RhcnQ9dC5YU3RhcnQsdGhpcy5tX1lTdGFydD10LllTdGFydCx0aGlzLm1fWEVuZD10LlhFbmQsdGhpcy5tX1lFbmQ9dC5ZRW5kLHRoaXMubV9hdHRyaWJ1dGVzPW51bGwsdGhpcy5tX2Rlc2NyaXB0aW9uPXQudmQ/dC52ZDpQKCksdm9pZCh0LnZkJiZ0aGlzLnNldERlZmF1bHRBdHRyaWJ1dGVWYWx1ZXMoKSk7aWYodm9pZCAwIT09dC5aU3RhcnQpcmV0dXJuIHRoaXMubV9YU3RhcnQ9dC5YU3RhcnQsdGhpcy5tX1lTdGFydD10LllTdGFydCx0aGlzLm1fWEVuZD10LlhFbmQsdGhpcy5tX1lFbmQ9dC5ZRW5kLHRoaXMubV9kZXNjcmlwdGlvbj10LnZkP3QudmQ6WCgpLHZvaWQodC52ZD8odGhpcy5zZXREZWZhdWx0QXR0cmlidXRlVmFsdWVzKCksdGhpcy5hZGRBdHRyaWJ1dGUoMSksdGhpcy5tX2F0dHJpYnV0ZXNbMF09dC5aU3RhcnQsdGhpcy5tX2F0dHJpYnV0ZXNbdGhpcy5tX2Rlc2NyaXB0aW9uLmdldFRvdGFsQ29tcG9uZW50Q291bnQoKS0yXT10LlpFbmQpOnRoaXMubV9hdHRyaWJ1dGVzPVt0LlpTdGFydCx0LlpFbmRdKTtpZih0LnN0YXJ0KXJldHVybiB0aGlzLm1fWFN0YXJ0PXQuc3RhcnQueCx0aGlzLm1fWVN0YXJ0PXQuc3RhcnQueSx0aGlzLm1fWEVuZD10LmVuZC54LHRoaXMubV9ZRW5kPXQuZW5kLnksdGhpcy5tX2F0dHJpYnV0ZXM9bnVsbCx2b2lkKHRoaXMubV9kZXNjcmlwdGlvbj1QKCkpO2lmKHQuc3RhcnQzRClyZXR1cm4gdGhpcy5tX1hTdGFydD10LnN0YXJ0M0QueCx0aGlzLm1fWVN0YXJ0PXQuc3RhcnQzRC55LHRoaXMubV9YRW5kPXQuZW5kM0QueCx0aGlzLm1fWUVuZD10LmVuZDNELnksdGhpcy5tX2Rlc2NyaXB0aW9uPXQudmQ/dC52ZDpYKCksdm9pZCh0LnZkPyh0aGlzLnNldERlZmF1bHRBdHRyaWJ1dGVWYWx1ZXMoKSx0aGlzLmFkZEF0dHJpYnV0ZSgxKSx0aGlzLm1fYXR0cmlidXRlc1swXT10LnN0YXJ0M0Queix0aGlzLm1fYXR0cmlidXRlc1t0aGlzLm1fZGVzY3JpcHRpb24uZ2V0VG90YWxDb21wb25lbnRDb3VudCgpLTJdPXQuZW5kM0Queik6dGhpcy5tX2F0dHJpYnV0ZXM9W3Quc3RhcnQzRC56LHQuZW5kM0Quel0pO2goXCJiYWQgY29uc3RydWN0b3IgcGFyYW1zXCIpLHRoaXMubV9YU3RhcnQ9dGhpcy5tX1lTdGFydD10aGlzLm1fWEVuZD10aGlzLm1fWUVuZD1OdW1iZXIuTmFOfX1zZXREZWZhdWx0QXR0cmlidXRlVmFsdWVzKCl7Y29uc3QgdD10aGlzLm1fZGVzY3JpcHRpb24uZ2V0VG90YWxDb21wb25lbnRDb3VudCgpLTI7dD4wJiYobnVsbD09PXRoaXMubV9hdHRyaWJ1dGVzJiYodGhpcy5tX2F0dHJpYnV0ZXM9VSgyKnQsTnVtYmVyLk5hTikpLEsodGhpcy5tX2F0dHJpYnV0ZXMsdGhpcy5tX2Rlc2NyaXB0aW9uLmdldERlZmF1bHRQb2ludEF0dHJpYnV0ZXMoKSwwLDIsdCksSyh0aGlzLm1fYXR0cmlidXRlcyx0aGlzLm1fZGVzY3JpcHRpb24uZ2V0RGVmYXVsdFBvaW50QXR0cmlidXRlcygpLHQsMix0KSl9YWJzTm9ybVhZWih0KXtyZXR1cm4gYShcIm5vdCBpbXBsZW1lbnRlZFwiKSwwfXF1ZXJ5V2VpZ2h0cyh0KXt9c25hcENvbnRyb2xQb2ludHMzRCgpe3JldHVybiBhKFwibm90IGltcGxlbWVudGVkXCIpLCExfXNldENvb3Jkc0ZvckludGVyc2VjdG9yM0QodCxlLHMpe2EoXCJub3QgaW1wbGVtZW50ZWRcIil9dHJhbnNmb3JtQXR0cmlidXRlKHQsZSxzLG4saSl7YShcIlwiKX1tZXJnZVZlcnRleERlc2NyaXB0aW9uSW1wbCh0KXtjb25zdCBlPXRoaXMuZ2V0RGVzY3JpcHRpb24oKSxzPXgoZSx0KTt0aGlzLmFzc2lnblZlcnRleERlc2NyaXB0aW9uKHMpfWNoYW5nZUVuZFBvaW50cyh0LGUpe2NvbnN0IHM9dC5nZXRYWSgpLG49ZS5nZXRYWSgpO3RoaXMuY2hhbmdlRW5kUG9pbnRzMkQocyxuKTtsZXQgaT10LmdldERlc2NyaXB0aW9uKCk7aSE9PXRoaXMuZ2V0RGVzY3JpcHRpb24oKSYmdGhpcy5tZXJnZVZlcnRleERlc2NyaXB0aW9uKGkpLGk9ZS5nZXREZXNjcmlwdGlvbigpLGkhPT10aGlzLmdldERlc2NyaXB0aW9uKCkmJnRoaXMubWVyZ2VWZXJ0ZXhEZXNjcmlwdGlvbihpKTtmb3IobGV0IHI9MSxvPWkuZ2V0QXR0cmlidXRlQ291bnQoKTtyPG87cisrKXtjb25zdCBzPWkuZ2V0U2VtYW50aWNzKHIpLG49aHMuZ2V0Q29tcG9uZW50Q291bnQocyk7Zm9yKGxldCBpPTA7aTxuO2krKyl7ZXModGhpcywwLHMsaSx0LmdldEF0dHJpYnV0ZUFzRGJsKHMsaSkpO2VzKHRoaXMsMSxzLGksZS5nZXRBdHRyaWJ1dGVBc0RibChzLGkpKX19fWdldFN0YXJ0WFkoKXtyZXR1cm4gbmV3IFEodGhpcy5tX1hTdGFydCx0aGlzLm1fWVN0YXJ0KX1zZXRTdGFydFhZKHQpe3RoaXMubV9YU3RhcnQ9dC54LHRoaXMubV9ZU3RhcnQ9dC55LHRoaXMuZW5kUG9pbnRNb2RpZmllZCgpfXNldFN0YXJ0WFlDb29yZHModCxlKXt0aGlzLm1fWFN0YXJ0PXQsdGhpcy5tX1lTdGFydD1lLHRoaXMuZW5kUG9pbnRNb2RpZmllZCgpfWdldFN0YXJ0WFlaKCl7cmV0dXJuIE9lKHRoaXMsMCl9c2V0U3RhcnRYWVoodCl7SmUodGhpcywwLHQpfXNldFN0YXJ0WFlaQ29vcmRzKHQsZSxzKXtKZSh0aGlzLDAsUy5jb25zdHJ1Y3QodCxlLHMpKX1xdWVyeVN0YXJ0KHQpe0tlKHRoaXMsMCx0KX1zZXRTdGFydCh0KXskZSh0aGlzLDAsdCl9c2V0U3RhcnQyRCh0KXt0aGlzLnNldFN0YXJ0WFkodCl9Z2V0U3RhcnRBdHRyaWJ1dGVBc0RibCh0LGUpe3JldHVybiB0cyh0aGlzLDAsdCxlKX1nZXRTdGFydEF0dHJpYnV0ZUFzSW50KHQsZSl7cmV0dXJuIHMoMCksMH1zZXRTdGFydEF0dHJpYnV0ZSh0LGUscyl7ZXModGhpcywwLHQsZSxzKX1zZXRTdGFydEF0dHJpYnV0ZXNGcm9tUG9pbnQodCxlKXtjb25zdCBzPXQuZ2V0RGVzY3JpcHRpb24oKTtmb3IobGV0IG49ZSYmcy5oYXNaKCk/MjoxLGk9cy5nZXRBdHRyaWJ1dGVDb3VudCgpO248aTsrK24pe2NvbnN0IGU9cy5nZXRTZW1hbnRpY3MobiksaT1ocy5nZXRDb21wb25lbnRDb3VudChlKTtmb3IobGV0IHM9MDtzPGk7KytzKXtjb25zdCBuPXQuZ2V0QXR0cmlidXRlQXNEYmwoZSxzKTt0aGlzLnNldFN0YXJ0QXR0cmlidXRlKGUscyxuKX19fXNldEVuZEF0dHJpYnV0ZXNGcm9tUG9pbnQodCxlKXtjb25zdCBzPXQuZ2V0RGVzY3JpcHRpb24oKTtmb3IobGV0IG49ZSYmcy5oYXNaKCk/MjoxLGk9cy5nZXRBdHRyaWJ1dGVDb3VudCgpO248aTsrK24pe2NvbnN0IGU9cy5nZXRTZW1hbnRpY3MobiksaT1ocy5nZXRDb21wb25lbnRDb3VudChlKTtmb3IobGV0IHM9MDtzPGk7KytzKXtjb25zdCBuPXQuZ2V0QXR0cmlidXRlQXNEYmwoZSxzKTt0aGlzLnNldEVuZEF0dHJpYnV0ZShlLHMsbil9fX1nZXRTdGFydFgoKXtyZXR1cm4gdGhpcy5tX1hTdGFydH1nZXRTdGFydFkoKXtyZXR1cm4gdGhpcy5tX1lTdGFydH1nZXRTdGFydFooKXtyZXR1cm4gcygwKSwwfWdldEVuZFgoKXtyZXR1cm4gdGhpcy5tX1hFbmR9Z2V0RW5kWSgpe3JldHVybiB0aGlzLm1fWUVuZH1nZXRFbmRaKCl7cmV0dXJuIHMoMCksMH1nZXRFbmRYWSgpe3JldHVybiBuZXcgUSh0aGlzLm1fWEVuZCx0aGlzLm1fWUVuZCl9c2V0RW5kWFkodCl7dGhpcy5tX1hFbmQ9dC54LHRoaXMubV9ZRW5kPXQueSx0aGlzLmVuZFBvaW50TW9kaWZpZWQoKX1zZXRFbmRYWUNvb3Jkcyh0LGUpe3RoaXMubV9YRW5kPXQsdGhpcy5tX1lFbmQ9ZSx0aGlzLmVuZFBvaW50TW9kaWZpZWQoKX1nZXRFbmRYWVooKXtyZXR1cm4gT2UodGhpcywxKX1zZXRFbmRYWVoodCl7SmUodGhpcywxLHQpfXNldEVuZFhZWkNvb3Jkcyh0LGUscyl7SmUodGhpcywxLFMuY29uc3RydWN0KHQsZSxzKSl9cXVlcnlFbmQodCl7S2UodGhpcywxLHQpfXNldEVuZCh0KXskZSh0aGlzLDEsdCl9c2V0RW5kMkQodCl7dGhpcy5zZXRFbmRYWSh0KX1nZXRFbmRBdHRyaWJ1dGVBc0RibCh0LGUpe3JldHVybiB0cyh0aGlzLDEsdCxlKX1nZXRFbmRBdHRyaWJ1dGVBc0ludCh0LGUpe3JldHVybiBzKDApLE1hdGgudHJ1bmMoMCl9c2V0RW5kQXR0cmlidXRlKHQsZSxzKXtlcyh0aGlzLDEsdCxlLHMpfWdldERpbWVuc2lvbigpe3JldHVybiAxfWNvcHlUbyh0KXtpZih0aGlzPT09dClyZXR1cm47dC5nZXRHZW9tZXRyeVR5cGUoKSE9PXRoaXMuZ2V0R2VvbWV0cnlUeXBlKCkmJmUoXCJcIik7Y29uc3Qgcz10O3MuYXNzaWduVmVydGV4RGVzY3JpcHRpb24odGhpcy5tX2Rlc2NyaXB0aW9uKSxzLm1fYXR0cmlidXRlcyYmSyhzLm1fYXR0cmlidXRlcyx0aGlzLm1fYXR0cmlidXRlcywwLDAsMioodGhpcy5tX2Rlc2NyaXB0aW9uLmdldFRvdGFsQ29tcG9uZW50Q291bnQoKS0yKSkscy5tX1hTdGFydD10aGlzLm1fWFN0YXJ0LHMubV9ZU3RhcnQ9dGhpcy5tX1lTdGFydCxzLm1fWEVuZD10aGlzLm1fWEVuZCxzLm1fWUVuZD10aGlzLm1fWUVuZCx0aGlzLmNvcHlUb0ltcGwocyl9aXNFbXB0eSgpe3JldHVybiB0aGlzLmlzRW1wdHlJbXBsKCl9aXNDbG9zZWQoKXtyZXR1cm4gdGhpcy5tX1hTdGFydD09PXRoaXMubV9YRW5kJiZ0aGlzLm1fWVN0YXJ0PT09dGhpcy5tX1lFbmR9c2V0RW1wdHkoKXt9Y2FsY3VsYXRlQXJlYTJEKCl7cmV0dXJuIDB9cXVlcnlJbnRlcnZhbCh0LGUpe2NvbnN0IHM9SC5jb25zdHJ1Y3RFbXB0eSgpO3JldHVybiBzLnZtaW49dHModGhpcywwLHQsZSkscy52bWF4PXMudm1pbixzLm1lcmdlTmVDb29yZGluYXRlKHRzKHRoaXMsMSx0LGUpKSxzfWNhbGN1bGF0ZUxlbmd0aDNEKHQpe3JldHVybiBzKDApLDB9Z2V0Q29vcmQzRCh0KXtyZXR1cm4gcygwKSx7fX1nZXRDb29yZDJEKHQpe2NvbnN0IGU9US5nZXROQU4oKTtyZXR1cm4gdGhpcy5xdWVyeUNvb3JkMkQodCxlKSxlfXF1ZXJ5Q29vcmQzRCh0LGUpe3MoMCl9Z2V0Q29vcmRaKHQpe3JldHVybiBzKDApLDB9cXVlcnlDb29yZCh0LGUpe2UuYXNzaWduVmVydGV4RGVzY3JpcHRpb24odGhpcy5tX2Rlc2NyaXB0aW9uKSxlLnNldFhZKHRoaXMuZ2V0Q29vcmQyRCh0KSk7Zm9yKGxldCBzPTEsbj10aGlzLm1fZGVzY3JpcHRpb24uZ2V0QXR0cmlidXRlQ291bnQoKTtzPG47cysrKXtjb25zdCBuPXRoaXMubV9kZXNjcmlwdGlvbi5nZXRTZW1hbnRpY3MocyksaT1ocy5nZXRDb21wb25lbnRDb3VudChuKTtmb3IobGV0IHM9MDtzPGk7cysrKXtjb25zdCBpPXRoaXMuZ2V0QXR0cmlidXRlQXNEYmwodCxuLHMpO2Uuc2V0QXR0cmlidXRlQmFzaWMobixzLGkpfX19aXNDbG9zZXJUaGFuRGlzdGFuY2UodCxlLHMpe2NvbnN0IG49bWUuY29uc3RydWN0RW1wdHkoKTt0aGlzLnF1ZXJ5TG9vc2VFbnZlbG9wZU9uSW50ZXJ2YWwoZSxuKTtpZihuLmRpc3RhbmNlKHQpPnMpcmV0dXJuITE7Y29uc3QgaT10aGlzLmdldENsb3Nlc3RDb29yZGluYXRlT25JbnRlcnZhbCh0LGUscyk7cmV0dXJuIU51bWJlci5pc05hTihpKSYmUS5kaXN0YW5jZSh0LHRoaXMuZ2V0Q29vcmQyRChpKSk8PXN9aXNNb25vdG9uZVF1aWNrQW5kRGlydHkoKXtyZXR1cm4hMX1pc1RydWUzRCgpe3JldHVybiExfWdldFJldmVyc2VkKCl7Y29uc3QgdD10aGlzLmNsb25lKCk7cmV0dXJuIHQucmV2ZXJzZSgpLHR9cmV2ZXJzZSgpe3RoaXMubV9YRW5kPWV0KHRoaXMubV9YU3RhcnQsdGhpcy5tX1hTdGFydD10aGlzLm1fWEVuZCksdGhpcy5tX1lFbmQ9ZXQodGhpcy5tX1lTdGFydCx0aGlzLm1fWVN0YXJ0PXRoaXMubV9ZRW5kKSx0aGlzLnJldmVyc2VJbXBsKCk7Zm9yKGxldCB0PTEsZT10aGlzLm1fZGVzY3JpcHRpb24uZ2V0QXR0cmlidXRlQ291bnQoKTt0PGU7dCsrKXtjb25zdCBlPXRoaXMubV9kZXNjcmlwdGlvbi5nZXRTZW1hbnRpY3ModCk7Zm9yKGxldCB0PTAscz1ocy5nZXRDb21wb25lbnRDb3VudChlKTt0PHM7dCsrKXtjb25zdCBzPXRzKHRoaXMsMCxlLHQpO2VzKHRoaXMsMCxlLHQsdHModGhpcywxLGUsdCkpLGVzKHRoaXMsMSxlLHQscyl9fXJldHVybiB0aGlzLmFmdGVyQ29tcGxldGVkTW9kaWZpY2F0aW9uKCksdGhpc31pc0VtcHR5SW1wbCgpe3JldHVybiExfWlzQ2lyY3VsYXIoKXtyZXR1cm4hMX1kaXN0YW5jZSh0LGUsbixpKXtpZighZSYmdGhpcy5pc0ludGVyc2VjdGluZyh0LDAsITEpKXtpZihudWxsIT09bnx8bnVsbCE9PWkpe2NvbnN0IGU9VSg5LE51bWJlci5OYU4pLHI9VSg5LE51bWJlci5OYU4pLG89dGhpcy5pbnRlcnNlY3QodCxudWxsLGUsciwwKTtzKG88PTkpLDA9PT1vJiZoKFwiXCIpLG51bGwhPT1uJiYoblswXT1lWzBdKSxudWxsIT09aSYmKGlbMF09clswXSl9cmV0dXJuIDB9bGV0IHIsbz1OdW1iZXIuTUFYX1ZBTFVFLGE9LTEsdT1vO3JldHVybiByPXRoaXMuZ2V0U3RhcnRYWSgpLGE9dC5nZXRDbG9zZXN0Q29vcmRpbmF0ZShyLCExKSxyLnN1YlRoaXModC5nZXRDb29yZDJEKGEpKSx1PXIubGVuZ3RoKCksdTxvJiYobz11LG51bGwhPT1pJiYoaVswXT1hKSxudWxsIT09biYmKG5bMF09MCkpLHI9dGhpcy5nZXRFbmRYWSgpLGE9dC5nZXRDbG9zZXN0Q29vcmRpbmF0ZShyLCExKSxyLnN1YlRoaXModC5nZXRDb29yZDJEKGEpKSx1PXIubGVuZ3RoKCksdTxvJiYobz11LG51bGwhPT1pJiYoaVswXT1hKSxudWxsIT09biYmKG5bMF09MSkpLHI9dC5nZXRTdGFydFhZKCksYT10aGlzLmdldENsb3Nlc3RDb29yZGluYXRlKHIsITEpLHIuc3ViVGhpcyh0aGlzLmdldENvb3JkMkQoYSkpLHU9ci5sZW5ndGgoKSx1PG8mJihvPXUsbnVsbCE9PW4mJihuWzBdPWEpLG51bGwhPT1pJiYoaVswXT0wKSkscj10LmdldEVuZFhZKCksYT10aGlzLmdldENsb3Nlc3RDb29yZGluYXRlKHIsITEpLHIuc3ViVGhpcyh0aGlzLmdldENvb3JkMkQoYSkpLHU9ci5sZW5ndGgoKSx1PG8mJihvPXUsbnVsbCE9PW4mJihuWzBdPWEpLG51bGwhPT1pJiYoaVswXT0xKSksb31jYWxjdWxhdGVTdWJMZW5ndGhGcm9tU3RhcnQodCl7cmV0dXJuIHRoaXMudFRvTGVuZ3RoKHQpfWNhbGN1bGF0ZVN1Ykxlbmd0aCh0LGUpe3JldHVybiBlPT09dD8wOnRoaXMudFRvTGVuZ3RoKGUpLXRoaXMudFRvTGVuZ3RoKHQpfXN0YXRpYyByZWNhbGN1bGF0ZVBhcmVudFQodCxlLHMpe3JldHVybiBydCh0LGUscyl9bW92ZVRvKHQpe2NvbnN0IGU9dGhpcy5pc0Nsb3NlZCgpLHM9bmV3IGxlO3Muc2V0U2hpZnQodC5zdWIodGhpcy5nZXRTdGFydFhZKCkpKSx0aGlzLmFwcGx5VHJhbnNmb3JtYXRpb24ocyksZT90aGlzLmNoYW5nZUVuZFBvaW50czJEKHQsdCk6dGhpcy5jaGFuZ2VFbmRQb2ludHMyRCh0LHRoaXMuZ2V0RW5kWFkoKSl9bW92ZVRvM0QodCl7cygwKX1nZXREZXNjcmlwdGlvbigpe3JldHVybiB0aGlzLm1fZGVzY3JpcHRpb259YXNzaWduVmVydGV4RGVzY3JpcHRpb24odCl7bnModGhpcyx0KX1tZXJnZVZlcnRleERlc2NyaXB0aW9uKHQpe3RoaXMubV9kZXNjcmlwdGlvbiE9PXQmJih0aGlzLm1fZGVzY3JpcHRpb24uaGFzQXR0cmlidXRlc0Zyb20odCl8fHRoaXMubWVyZ2VWZXJ0ZXhEZXNjcmlwdGlvbkltcGwodCkpfWhhc0F0dHJpYnV0ZSh0KXtyZXR1cm4gdGhpcy5tX2Rlc2NyaXB0aW9uLmhhc0F0dHJpYnV0ZSh0KX1hZGRBdHRyaWJ1dGUodCl7aWYodGhpcy5tX2Rlc2NyaXB0aW9uLmhhc0F0dHJpYnV0ZSh0KSlyZXR1cm47Y29uc3QgZT1DKHRoaXMubV9kZXNjcmlwdGlvbix0KTt0aGlzLmFzc2lnblZlcnRleERlc2NyaXB0aW9uKGUpfWRyb3BBdHRyaWJ1dGUodCl7aWYoIXRoaXMubV9kZXNjcmlwdGlvbi5oYXNBdHRyaWJ1dGUodCkpcmV0dXJuO2NvbnN0IGU9dih0aGlzLm1fZGVzY3JpcHRpb24sdCk7dGhpcy5hc3NpZ25WZXJ0ZXhEZXNjcmlwdGlvbihlKX1kcm9wQWxsQXR0cmlidXRlcygpe2NvbnN0IHQ9UCgpO3QhPT10aGlzLm1fZGVzY3JpcHRpb24mJnRoaXMuYXNzaWduVmVydGV4RGVzY3JpcHRpb24odCl9c3dhcCh0KXtpZih0aGlzPT09dClyZXR1cm47dC5nZXRHZW9tZXRyeVR5cGUoKSE9PXRoaXMuZ2V0R2VvbWV0cnlUeXBlKCkmJmUoXCJ3cm9uZyBnZW9tZXRyeSB0eXBlXCIpO2NvbnN0IHM9dDtzLm1fZGVzY3JpcHRpb249ZXQodGhpcy5tX2Rlc2NyaXB0aW9uLHRoaXMubV9kZXNjcmlwdGlvbj1zLm1fZGVzY3JpcHRpb24pLHMubV9YU3RhcnQ9ZXQodGhpcy5tX1hTdGFydCx0aGlzLm1fWFN0YXJ0PXMubV9YU3RhcnQpLHMubV9ZU3RhcnQ9ZXQodGhpcy5tX1lTdGFydCx0aGlzLm1fWVN0YXJ0PXMubV9ZU3RhcnQpLHMubV9YRW5kPWV0KHRoaXMubV9YRW5kLHRoaXMubV9YRW5kPXMubV9YRW5kKSxzLm1fWUVuZD1ldCh0aGlzLm1fWUVuZCx0aGlzLm1fWUVuZD1zLm1fWUVuZCkscy5tX2F0dHJpYnV0ZXM9ZXQodGhpcy5tX2F0dHJpYnV0ZXMsdGhpcy5tX2F0dHJpYnV0ZXM9cy5tX2F0dHJpYnV0ZXMpLHRoaXMuc3dhcEltcGwocyl9ZXF1YWxzKHQsZSl7aWYodGhpcy5nZXRHZW9tZXRyeVR5cGUoKSE9PXQuZ2V0R2VvbWV0cnlUeXBlKCkpcmV0dXJuITE7Y29uc3Qgcz12b2lkIDA9PT1lO3MmJihlPTApO2NvbnN0IG49dDtpZih0aGlzPT09bilyZXR1cm4hMDtpZih0aGlzLm1fZGVzY3JpcHRpb24hPT1uLm1fZGVzY3JpcHRpb24pcmV0dXJuITE7aWYoTWF0aC5hYnModGhpcy5tX1hTdGFydC1uLm1fWFN0YXJ0KT5lfHxNYXRoLmFicyh0aGlzLm1fWEVuZC1uLm1fWEVuZCk+ZXx8TWF0aC5hYnModGhpcy5tX1lTdGFydC1uLm1fWVN0YXJ0KT5lfHxNYXRoLmFicyh0aGlzLm1fWUVuZC1uLm1fWUVuZCk+ZSlyZXR1cm4hMTtmb3IobGV0IGk9MCxyPTIqKHRoaXMubV9kZXNjcmlwdGlvbi5nZXRUb3RhbENvbXBvbmVudENvdW50KCktMik7aTxyO2krKylpZighb3QodGhpcy5tX2F0dHJpYnV0ZXNbaV0sbi5tX2F0dHJpYnV0ZXNbaV0sZSkpcmV0dXJuITE7cmV0dXJuIHM/dGhpcy5lcXVhbHNJbXBsKG4pOnRoaXMuZXF1YWxzSW1wbFRvbChuLGUpfWdldEltcGwoKXtyZXR1cm4gdGhpc31zZXRBdHRyaWJ1dGVCYXNpYyh0LHMsbil7aWYodGhpcy5hZGRBdHRyaWJ1dGUodCksMD09PXQmJnRoaXMuaXNDdXJ2ZSgpKXsoczwwfHxzPjEpJiZlKFwiXCIpO2NvbnN0IHQ9bmV3IGxlLGk9MD09PXM/bjowLHI9MT09PXM/bjowO3Quc2V0U2hpZnRDb29yZHMoaSxyKSwwPT09cz90Lnh4PTA6dC55eT0wLHRoaXMuYXBwbHlUcmFuc2Zvcm1hdGlvbih0KX1lbHNlIHRoaXMuc2V0U3RhcnRBdHRyaWJ1dGUodCxzLG4pLHRoaXMuc2V0RW5kQXR0cmlidXRlKHQscyxuKX1yZXBsYWNlTmFOcyh0LGUpe2lmKHRoaXMuYWRkQXR0cmlidXRlKHQpLHRoaXMuaXNFbXB0eSgpKXJldHVybjtjb25zdCBzPWhzLmdldENvbXBvbmVudENvdW50KHQpO2ZvcihsZXQgbj0wO248cztuKyspe2NvbnN0IHM9dGhpcy5nZXRTdGFydEF0dHJpYnV0ZUFzRGJsKHQsbik7TnVtYmVyLmlzTmFOKHMpJiZ0aGlzLnNldFN0YXJ0QXR0cmlidXRlKHQsbixlKTtjb25zdCBpPXRoaXMuZ2V0RW5kQXR0cmlidXRlQXNEYmwodCxuKTtOdW1iZXIuaXNOYU4oaSkmJnRoaXMuc2V0RW5kQXR0cmlidXRlKHQsbixlKX19fXVzLnNfbWF4TW9ub3RvbmljUGFydFBhcmFtcz04O2NsYXNzIG1zIGV4dGVuZHMgY2V7Y29uc3RydWN0b3IodCxlKXtzdXBlcigpLHRoaXMubV9pbmRleD0tMSx0aGlzLmdjPXQsdGhpcy5kaW09ZX1uZXh0KCl7Zm9yKDs7KXtpZih0aGlzLm1faW5kZXg+PXRoaXMuZ2MuZ2V0R2VvbWV0cnlDb3VudCgpKXJldHVybiBudWxsO2lmKHRoaXMubV9pbmRleCsrLHRoaXMubV9pbmRleD09PXRoaXMuZ2MuZ2V0R2VvbWV0cnlDb3VudCgpKXJldHVybiBudWxsO2NvbnN0IHQ9dGhpcy5nYy5nZXRHZW9tZXRyeSh0aGlzLm1faW5kZXgpO2lmKC0xPT09dGhpcy5kaW18fDE8PHQuZ2V0RGltZW5zaW9uKCkmdGhpcy5kaW0pcmV0dXJuIHR9cmV0dXJuIG51bGx9Z2V0R2VvbWV0cnlJRCgpe3JldHVybiB0aGlzLm1faW5kZXh9dG9jaygpe3JldHVybiEwfWdldFJhbmsoKXtyZXR1cm4gMX19Y2xhc3MgbHN7Y29uc3RydWN0b3IodCl7dGhpcy5tX2dlb21zPVtdLHRoaXMubV9kZXNjcmlwdGlvbj1QKCksdCYmKHQudmQ/dGhpcy5tX2Rlc2NyaXB0aW9uPXQudmQ6dC5jb3B5P3QuY29weS5jb3B5VG8odGhpcyk6ZShcImNvbnN0cnVjdG9yIGFyZ3VtZW50IG5vdCByZWNvZ25pemVkXCIpKX1nZXRHZW9tZXRyeUNvdW50KCl7cmV0dXJuIHRoaXMubV9nZW9tcy5sZW5ndGh9cmVzZXJ2ZSh0KXt9YWRkR2VvbWV0cnkodCl7aWYodC5nZXRHZW9tZXRyeVR5cGUoKT09PWkuZW51bUdlb21ldHJ5Q29sbGVjdGlvbil7Y29uc3QgZT10O2ZvcihsZXQgdD0wLHM9ZS5nZXRHZW9tZXRyeUNvdW50KCk7dDxzO3QrKyl0aGlzLmFkZEdlb21ldHJ5KGUuZ2V0R2VvbWV0cnkodCkpfWVsc2UgdGhpcy5tX2dlb21zLnB1c2godC5jbG9uZSgpKSx0aGlzLm1lcmdlVmVydGV4RGVzY3JpcHRpb24odC5nZXREZXNjcmlwdGlvbigpKX1hZGRDdXJzb3IodCl7Zm9yKGxldCBlPXQubmV4dCgpO251bGwhPT1lO2U9dC5uZXh0KCkpdGhpcy5hZGRHZW9tZXRyeShlKX1nZXRHZW9tZXRyeSh0KXtyZXR1cm4odDwwfHx0Pj10aGlzLm1fZ2VvbXMubGVuZ3RoKSYmZShcIkdlb21ldHJ5X2NvbGxlY3Rpb24uZ2V0X2dlb21ldHJ5XCIpLHRoaXMubV9nZW9tc1t0XX1tb2RpZmllZEVsZW1lbnRJbmRleCh0KXt0aGlzLm1lcmdlVmVydGV4RGVzY3JpcHRpb24odGhpcy5nZXRHZW9tZXRyeSh0KS5nZXREZXNjcmlwdGlvbigpKX1tb2RpZmllZEVsZW1lbnQodCl7dGhpcy5tZXJnZVZlcnRleERlc2NyaXB0aW9uKHQuZ2V0RGVzY3JpcHRpb24oKSl9Z2V0R2VvbWV0cnlUeXBlKCl7cmV0dXJuIGkuZW51bUdlb21ldHJ5Q29sbGVjdGlvbn1nZXREaW1lbnNpb24oKXtsZXQgdD0wO2Zvcihjb25zdCBlIG9mIHRoaXMubV9nZW9tcyl0PU1hdGgubWF4KHQsZS5nZXREaW1lbnNpb24oKSk7cmV0dXJuIHR9Z2V0RGVzY3JpcHRpb24oKXtyZXR1cm4gdGhpcy5tX2Rlc2NyaXB0aW9ufWFzc2lnblZlcnRleERlc2NyaXB0aW9uKHQpe3RoaXMubV9kZXNjcmlwdGlvbiE9PXQmJnRoaXMuYXNzaWduVmVydGV4RGVzY3JpcHRpb25JbXBsKHQpfWFzc2lnblZlcnRleERlc2NyaXB0aW9uSW1wbCh0KXtmb3IoY29uc3QgZSBvZiB0aGlzLm1fZ2VvbXMpZS5hc3NpZ25WZXJ0ZXhEZXNjcmlwdGlvbih0KTt0aGlzLm1fZGVzY3JpcHRpb249dH1tZXJnZVZlcnRleERlc2NyaXB0aW9uKHQpe3RoaXMubV9kZXNjcmlwdGlvbiE9PXQmJih0aGlzLm1fZGVzY3JpcHRpb24uaGFzQXR0cmlidXRlc0Zyb20odCl8fHRoaXMubWVyZ2VWZXJ0ZXhEZXNjcmlwdGlvbkltcGwodCkpfWhhc0F0dHJpYnV0ZSh0KXtyZXR1cm4gdGhpcy5tX2Rlc2NyaXB0aW9uLmhhc0F0dHJpYnV0ZSh0KX1hZGRBdHRyaWJ1dGUodCl7aWYodGhpcy5tX2Rlc2NyaXB0aW9uLmhhc0F0dHJpYnV0ZSh0KSlyZXR1cm47Y29uc3QgZT1DKHRoaXMubV9kZXNjcmlwdGlvbix0KTt0aGlzLmFzc2lnblZlcnRleERlc2NyaXB0aW9uKGUpfWRyb3BBdHRyaWJ1dGUodCl7aWYoIXRoaXMubV9kZXNjcmlwdGlvbi5oYXNBdHRyaWJ1dGUodCkpcmV0dXJuO2NvbnN0IGU9dih0aGlzLm1fZGVzY3JpcHRpb24sdCk7dGhpcy5hc3NpZ25WZXJ0ZXhEZXNjcmlwdGlvbihlKX1kcm9wQWxsQXR0cmlidXRlcygpe2NvbnN0IHQ9UCgpO3QhPT10aGlzLm1fZGVzY3JpcHRpb24mJnRoaXMuYXNzaWduVmVydGV4RGVzY3JpcHRpb24odCl9cXVlcnlJbnRlcnZhbCh0LGUpe2xldCBzPW5ldyBIO2NvbnN0IG49bmV3IEg7bi5zZXRFbXB0eSgpO2Zvcihjb25zdCBpIG9mIHRoaXMubV9nZW9tcylzPWkucXVlcnlJbnRlcnZhbCh0LGUpLG4ubWVyZ2Uocyk7cmV0dXJuIG59cXVlcnlFbnZlbG9wZSh0KXtpZig0PT09dC5tX0VudmVsb3BlVHlwZSl7Y29uc3QgZT1uZXcgTTt0LnNldEVtcHR5KCksdC5hc3NpZ25WZXJ0ZXhEZXNjcmlwdGlvbih0aGlzLm1fZGVzY3JpcHRpb24pO2Zvcihjb25zdCBzIG9mIHRoaXMubV9nZW9tcylzLnF1ZXJ5RW52ZWxvcGUoZSksdC5tZXJnZShlKX1lbHNlIGlmKDI9PT10Lm1fRW52ZWxvcGVUeXBlKXtjb25zdCBlPW5ldyBtZTt0LnNldEVtcHR5KCk7Zm9yKGNvbnN0IHMgb2YgdGhpcy5tX2dlb21zKXMucXVlcnlFbnZlbG9wZShlKSx0Lm1lcmdlRW52ZWxvcGUyRChlKX1hKFwiM2QgZW52ZWxvcGUgY2FzZSBub3QgaW1wbGVtZW50ZWRcIil9cXVlcnlMb29zZUVudmVsb3BlKHQpe2lmKDI9PT10Lm1fRW52ZWxvcGVUeXBlKXtjb25zdCBlPW5ldyBtZTt0LnNldEVtcHR5KCk7Zm9yKGNvbnN0IHMgb2YgdGhpcy5tX2dlb21zKXMucXVlcnlMb29zZUVudmVsb3BlKGUpLHQubWVyZ2VFbnZlbG9wZTJEKGUpfWEoXCIzZCBub3QgaW1wbFwiKX1pc0VtcHR5KCl7cmV0dXJuIDA9PT10aGlzLm1fZ2VvbXMubGVuZ3RofXNldEVtcHR5KCl7dGhpcy5tX2dlb21zLmxlbmd0aD0wfWFwcGx5VHJhbnNmb3JtYXRpb24odCl7aWYoMT09PXQubV9UcmFuc2Zvcm1hdGlvblR5cGUpZm9yKGNvbnN0IGUgb2YgdGhpcy5tX2dlb21zKWUuYXBwbHlUcmFuc2Zvcm1hdGlvbih0KTthKFwiM2QgeGZvcm0gbm90IGltcGxcIil9dHJhbnNmb3JtQXR0cmlidXRlKHQsZSxzLG4saSl7Zm9yKGNvbnN0IHIgb2YgdGhpcy5tX2dlb21zKXIudHJhbnNmb3JtQXR0cmlidXRlKHQsZSxzLG4saSl9Y3JlYXRlSW5zdGFuY2UoKXtyZXR1cm4gbmV3IGxzKHt2ZDp0aGlzLmdldERlc2NyaXB0aW9uKCl9KX1jb3B5VG8odCl7dC5nZXRHZW9tZXRyeVR5cGUoKSE9PWkuZW51bUdlb21ldHJ5Q29sbGVjdGlvbiYmZShcIlwiKTtjb25zdCBzPXQ7aWYocyE9PXRoaXMpe3MubV9nZW9tcy5sZW5ndGg9MCxzLmFzc2lnblZlcnRleERlc2NyaXB0aW9uKHRoaXMubV9kZXNjcmlwdGlvbik7Zm9yKGNvbnN0IHQgb2YgdGhpcy5tX2dlb21zKXMubV9nZW9tcy5wdXNoKHQuY2xvbmUoKSl9fWNhbGN1bGF0ZUFyZWEyRCgpe2NvbnN0IHQ9bmV3IHB0KDApO2Zvcihjb25zdCBlIG9mIHRoaXMubV9nZW9tcyl0LnBlKGUuY2FsY3VsYXRlQXJlYTJEKCkpO3JldHVybiB0LmdldFJlc3VsdCgpfWNhbGN1bGF0ZUxlbmd0aDJEKCl7Y29uc3QgdD1uZXcgcHQoMCk7Zm9yKGNvbnN0IGUgb2YgdGhpcy5tX2dlb21zKXQucGUoZS5jYWxjdWxhdGVMZW5ndGgyRCgpKTtyZXR1cm4gdC5nZXRSZXN1bHQoKX1jYWxjdWxhdGVMZW5ndGgzRCh0KXtyZXR1cm4gcygwKSwwfWdldEJvdW5kYXJ5KCl7Y29uc3QgdD10aGlzLmNyZWF0ZUluc3RhbmNlKCksZT10O2Zvcihjb25zdCBzIG9mIHRoaXMubV9nZW9tcyl7Y29uc3QgdD1zLmdldEJvdW5kYXJ5KCk7dCYmZS5tX2dlb21zLnB1c2godCl9cmV0dXJuIHR9Y2xvbmUoKXtyZXR1cm4gbmV3IGxzKHtjb3B5OnRoaXN9KX1lcXVhbHModCxlKXtpZih0PT09dGhpcylyZXR1cm4hMDtpZih0LmdldEdlb21ldHJ5VHlwZSgpIT09aS5lbnVtR2VvbWV0cnlDb2xsZWN0aW9uKXJldHVybiExO2NvbnN0IHM9dDtpZih0aGlzLm1fZGVzY3JpcHRpb24hPT1zLm1fZGVzY3JpcHRpb24pcmV0dXJuITE7aWYodGhpcy5tX2dlb21zLmxlbmd0aCE9PXMubV9nZW9tcy5sZW5ndGgpcmV0dXJuITE7Zm9yKGxldCBuPTA7bjx0aGlzLm1fZ2VvbXMubGVuZ3RoOysrbilpZighdGhpcy5tX2dlb21zW25dLmVxdWFscyhzLm1fZ2VvbXNbbl0sZSkpcmV0dXJuITE7cmV0dXJuITB9c3dhcCh0KXt0LmdldEdlb21ldHJ5VHlwZSgpIT09aS5lbnVtR2VvbWV0cnlDb2xsZWN0aW9uJiZlKFwiXCIpO2NvbnN0IHM9dDtzIT09dGhpcyYmKHRoaXMubV9nZW9tcz1ldChzLm1fZ2VvbXMscy5tX2dlb21zPXRoaXMubV9nZW9tcykpfXNldEF0dHJpYnV0ZUJhc2ljKHQsZSxzKXtmb3IoY29uc3QgbiBvZiB0aGlzLm1fZ2VvbXMpbi5zZXRBdHRyaWJ1dGVCYXNpYyh0LGUscyl9cmVwbGFjZU5hTnModCxlKXtmb3IoY29uc3QgcyBvZiB0aGlzLm1fZ2VvbXMpcy5yZXBsYWNlTmFOcyh0LGUpfWdldEltcGwoKXtyZXR1cm4gdGhpc31tZXJnZVZlcnRleERlc2NyaXB0aW9uSW1wbCh0KXtjb25zdCBlPXRoaXMuZ2V0RGVzY3JpcHRpb24oKSxzPXgoZSx0KTt0aGlzLmFzc2lnblZlcnRleERlc2NyaXB0aW9uKHMpfX1mdW5jdGlvbiBjcyh0LGU9LTEpe3JldHVybiBuZXcgbXModCxlKX1scy50eXBlPWkuZW51bUdlb21ldHJ5Q29sbGVjdGlvbjtjbGFzcyBncyBleHRlbmRzIHVze2NvbnN0cnVjdG9yKHQpe3N1cGVyKHQpfX1jbGFzcyBkcyBleHRlbmRzIGdze2lzVHJ1ZTNEKCl7cmV0dXJuITB9Y29uc3RydWN0b3IodCl7c3VwZXIodCl9fWZ1bmN0aW9uIF9zKHQsZSxzKXtwcyhlLHQuZ2V0U3RhcnRYWSgpLHQuZ2V0RW5kWFkoKSxzKX1mdW5jdGlvbiBwcyh0LGUscyxuKXt4dChlLHMsdCxuKX1mdW5jdGlvbiBmcyh0LGUpe3JldHVybiBydCh0Lm1fWFN0YXJ0LHQubV9YRW5kLGUpfWZ1bmN0aW9uIFBzKHQsZSl7cmV0dXJuIHJ0KHQubV9ZU3RhcnQsdC5tX1lFbmQsZSl9ZnVuY3Rpb24geXModCxlKXtjb25zdCBzPXQuZ2V0U3RhcnRaKCksbj10LmdldEVuZFooKTtyZXR1cm4gcnQocyxuLGUpfWZ1bmN0aW9uIHhzKHQsZSxzKXtjb25zdCBuPVllLmNvbnN0cnVjdFBvaW50MkQodC5nZXRTdGFydFhZKCkpLGk9WWUuY29uc3RydWN0UG9pbnQyRCh0LmdldEVuZFhZKCkpO3Muc2V0Q29vcmRzRShpLnguc3ViRShuLngpLGkueS5zdWJFKG4ueSkpfWZ1bmN0aW9uIENzKHQsZSxzKXtlLnZhbHVlKCk8PS41P0Z0KDIsWWUuY29uc3RydWN0UG9pbnQyRCh0LmdldFN0YXJ0WFkoKSksWWUuY29uc3RydWN0UG9pbnQyRCh0LmdldEVuZFhZKCkpLGUscyk6VnQoMixZZS5jb25zdHJ1Y3RQb2ludDJEKHQuZ2V0U3RhcnRYWSgpKSxZZS5jb25zdHJ1Y3RQb2ludDJEKHQuZ2V0RW5kWFkoKSksZSxzKX1mdW5jdGlvbiB2cyh0LGUscyl7dC5tX1hTdGFydD1lLngsdC5tX1lTdGFydD1lLnksdC5tX1hFbmQ9cy54LHQubV9ZRW5kPXMueSx0LmFmdGVyQ29tcGxldGVkTW9kaWZpY2F0aW9uKCl9ZnVuY3Rpb24gYnModCxlKXtjb25zdCBzPXQuZ2V0U3RhcnRYWVooKTtzLnoqPWU7Y29uc3Qgbj10LmdldEVuZFhZWigpO3JldHVybiBuLnoqPWUscy5ub3JtKDEpK24ubm9ybSgxKX1mdW5jdGlvbiBTcyh0KXtpZih0Lm1fWUVuZDx0Lm1fWVN0YXJ0fHx0Lm1fWUVuZD09PXQubV9ZU3RhcnQmJnQubV9YRW5kPHQubV9YU3RhcnQpe3QubV9YRW5kPWV0KHQubV9YU3RhcnQsdC5tX1hTdGFydD10Lm1fWEVuZCksdC5tX1lFbmQ9ZXQodC5tX1lTdGFydCx0Lm1fWVN0YXJ0PXQubV9ZRW5kKTtmb3IobGV0IGU9MCxzPXQubV9kZXNjcmlwdGlvbi5nZXRUb3RhbENvbXBvbmVudENvdW50KCktMjtlPHM7ZSsrKXQubV9hdHRyaWJ1dGVzW2Urc109ZXQodC5tX2F0dHJpYnV0ZXNbZV0sdC5tX2F0dHJpYnV0ZXNbZV09dC5tX2F0dHJpYnV0ZXNbZStzXSl9fWZ1bmN0aW9uIEVzKHQsZSxzLG4pe2xldCBpPTA7aWYoKHQubV9YU3RhcnQ9PT1lLm1fWFN0YXJ0JiZ0Lm1fWVN0YXJ0PT09ZS5tX1lTdGFydHx8dC5tX1hTdGFydD09PWUubV9YRW5kJiZ0Lm1fWVN0YXJ0PT09ZS5tX1lFbmQpJiYoaSsrLCFuKSlyZXR1cm4gMTtpZih0Lm1fWEVuZD09PWUubV9YU3RhcnQmJnQubV9ZRW5kPT09ZS5tX1lTdGFydHx8dC5tX1hFbmQ9PT1lLm1fWEVuZCYmdC5tX1lFbmQ9PT1lLm1fWUVuZCl7aWYoaSsrLDI9PT1pKXJldHVybiAyO2lmKCFuKXJldHVybiAxfXJldHVybiBlLmlzSW50ZXJzZWN0aW5nUG9pbnQodC5nZXRTdGFydFhZKCkscywhMCl8fGUuaXNJbnRlcnNlY3RpbmdQb2ludCh0LmdldEVuZFhZKCkscywhMCl8fHQuaXNJbnRlcnNlY3RpbmdQb2ludChlLmdldFN0YXJ0WFkoKSxzLCEwKXx8dC5pc0ludGVyc2VjdGluZ1BvaW50KGUuZ2V0RW5kWFkoKSxzLCEwKT80Om4mJmk/MDpBcyh0LGUpPzQ6MH1mdW5jdGlvbiBEcyh0LGUscyxuLGkscixvLGEpe251bGwhPT1uJiZadChuLDIsTnVtYmVyLk5hTiksbnVsbCE9PWkmJlp0KGksMixOdW1iZXIuTmFOKSxudWxsIT09cyYmSHQocyxRLDIpO2NvbnN0IGg9d3ModCxlLDIscyxuLGkscixvLGEpO3JldHVybiBuJiYobi5sZW5ndGg9aCksaSYmKGkubGVuZ3RoPWgpLHMmJihzLmxlbmd0aD1oKSxofWZ1bmN0aW9uIHdzKHQsZSxzLG4saSxyLG8sYSxoKXtjb25zdCB1PUlzKHQsZS5nZXRTdGFydFhZKCksbywhMSksbT1Jcyh0LGUuZ2V0RW5kWFkoKSxvLCExKSxsPUlzKGUsdC5nZXRTdGFydFhZKCksbywhMSksYz1JcyhlLHQuZ2V0RW5kWFkoKSxvLCExKTtsZXQgZz0wLGQ9MDtpZighTnVtYmVyLmlzTmFOKHUpKXtsZXQgcz0hMTthJiZndCh1LDAsMSkmJnQuZ2V0Q29vcmQyRCh1KS5pc0VxdWFsUG9pbnQyRChlLmdldFN0YXJ0WFkoKSkmJihnKysscz0hMCksc3x8KGkmJihpW2RdPXUpLHImJihyW2RdPTApLG4mJm5bZF0uc2V0Q29vcmRzKGUubV9YU3RhcnQsZS5tX1lTdGFydCksZCsrKX1pZighTnVtYmVyLmlzTmFOKG0pKXtsZXQgbz0hMTthJiZndChtLDAsMSkmJnQuZ2V0Q29vcmQyRChtKS5pc0VxdWFsUG9pbnQyRChlLmdldEVuZFhZKCkpJiYoZysrLG89ITApLG98fChzPmQmJihpJiYoaVtkXT1tKSxyJiYocltkXT0xKSxuJiZuW2RdLnNldENvb3JkcyhlLm1fWEVuZCxlLm1fWUVuZCkpLGQrKyl9aWYoMiE9PWQmJiFOdW1iZXIuaXNOYU4obCkmJiEoMD09PXUmJjA9PT1sfHwwPT09bSYmMT09PWwpKXtsZXQgbz0hMTthJiZndChsLDAsMSkmJmUuZ2V0Q29vcmQyRChsKS5pc0VxdWFsUG9pbnQyRCh0LmdldFN0YXJ0WFkoKSkmJihnKyssbz0hMCksb3x8KHM+ZCYmKGkmJihpW2RdPTApLHImJihyW2RdPWwpLG4mJm5bZF0uc2V0Q29vcmRzKHQubV9YU3RhcnQsdC5tX1lTdGFydCkpLGQrKyl9aWYoMiE9PWQmJiFOdW1iZXIuaXNOYU4oYykmJiEoMT09PXUmJjA9PT1jfHwxPT09bSYmMT09PWMpKXtsZXQgbz0hMTthJiZndChjLDAsMSkmJmUuZ2V0Q29vcmQyRChjKS5pc0VxdWFsUG9pbnQyRCh0LmdldEVuZFhZKCkpJiYoZysrLG89ITApLG98fChzPmQmJihpJiYoaVtkXT0xKSxyJiYocltkXT1jKSxuJiZuW2RdLnNldENvb3JkcyhlLm1fWEVuZCxlLm1fWUVuZCkpLGQrKyl9aWYoZD4wKXJldHVybiBoJiYocj1ldChpLGk9cikpLDI9PT1kJiZzPj0yJiZpJiZpWzBdPmlbMV0mJihpWzFdPWV0KGlbMF0saVswXT1pWzFdKSxyJiYoclsxXT1ldChyWzBdLHJbMF09clsxXSkpLG4mJihuWzFdPWV0KG5bMF0sblswXT1uWzFdKSkpLGQ7aWYoZz4wKXJldHVybiAwO2NvbnN0IF89cXModCxlLG8pO3JldHVybiBOdW1iZXIuaXNOYU4oXy54KT8wOihuJiYoblswXT10LmdldENvb3JkMkQoXy54KSksaSYmKGlbMF09Xy54KSxyJiYoclswXT1fLnkpLDEpfWZ1bmN0aW9uIEFzKHQsZSl7Y29uc3Qgcz1Ncyh0LGUubV9YU3RhcnQsZS5tX1lTdGFydCksbj1Ncyh0LGUubV9YRW5kLGUubV9ZRW5kKTtpZihzPDAmJm48MHx8cz4wJiZuPjApcmV0dXJuITE7Y29uc3QgaT1NcyhlLHQubV9YU3RhcnQsdC5tX1lTdGFydCkscj1NcyhlLHQubV9YRW5kLHQubV9ZRW5kKTtpZihpPDAmJnI8MHx8aT4wJiZyPjApcmV0dXJuITE7cmV0dXJuIFhzKHQpPlhzKGUpP05zKHQsZSk6TnMoZSx0KX1mdW5jdGlvbiBUcyh0LGUpe2NvbnN0IHM9e2JJbnRlcnNlY3Q6ITEsdDE6TnVtYmVyLk5hTix0MjpOdW1iZXIuTmFOfSxuPXQubV9YRW5kLXQubV9YU3RhcnQsaT10Lm1fWUVuZC10Lm1fWVN0YXJ0LHI9ZS5tX1hFbmQtZS5tX1hTdGFydCxvPWUubV9ZRW5kLWUubV9ZU3RhcnQsYT1yKmktbipvO2lmKDA9PT1hKXJldHVybiBzO2NvbnN0IGg9ZS5tX1hTdGFydC10Lm1fWFN0YXJ0LHU9ZS5tX1lTdGFydC10Lm1fWVN0YXJ0LG09cip1LWgqbyxsPW4qdS1oKmksYz0xL2E7cmV0dXJuIHMudDE9bSpjLHMudDI9bCpjLHMuYkludGVyc2VjdD0hMCxzfWZ1bmN0aW9uIElzKHQsZSxzLG4pe2NvbnN0IGk9US5nZXROQU4oKSxyPVEuZ2V0TkFOKCk7bGV0IG89ITE7dC5tX1lFbmQ8dC5tX1lTdGFydHx8dC5tX1lFbmQ9PT10Lm1fWVN0YXJ0JiZ0Lm1fWEVuZDx0Lm1fWFN0YXJ0PyhpLnNldENvb3Jkcyh0Lm1fWEVuZCx0Lm1fWUVuZCksci5zZXRDb29yZHModC5tX1hTdGFydCx0Lm1fWVN0YXJ0KSxvPSEwKTooaS5zZXRDb29yZHModC5tX1hTdGFydCx0Lm1fWVN0YXJ0KSxyLnNldENvb3Jkcyh0Lm1fWEVuZCx0Lm1fWUVuZCkpO2NvbnN0IGE9bz8xOjAsaD1vPzA6MSx1PVEuZ2V0TkFOKCk7dS5zZXRTdWIoZSxpKTtsZXQgbT11Lmxlbmd0aCgpLGw9MyptKmR0KCk7aWYobTw9TWF0aC5tYXgocyxsKSlyZXR1cm4gbiYmMD09PW0/TnVtYmVyLk5hTjphO2lmKHUuc2V0U3ViKGUsciksbT11Lmxlbmd0aCgpLGw9MyptKmR0KCksbTw9TWF0aC5tYXgocyxsKSlyZXR1cm4gbiYmMD09PW0/TnVtYmVyLk5hTjpoO3Uuc2V0Q29vcmRzKHIueC1pLngsci55LWkueSk7Y29uc3QgYz11Lmxlbmd0aCgpO2lmKGM+MCl7Y29uc3QgdD0xL2M7dS5zY2FsZSh0KTtjb25zdCBuPVEuZ2V0TkFOKCk7bi5zZXRTdWIoZSxpKTtjb25zdCBtPW4uZG90UHJvZHVjdCh1KSxsPTgqbi5kb3RQcm9kdWN0QWJzKHUpKmR0KCk7dS5sZWZ0UGVycGVuZGljdWxhclRoaXMoKTtjb25zdCBnPW4uZG90UHJvZHVjdCh1KSxkPTgqbi5kb3RQcm9kdWN0QWJzKHUpKmR0KCksXz1NYXRoLm1heChzLGwpO2lmKG08LV98fG0+YytfKXJldHVybiBOdW1iZXIuTmFOO2NvbnN0IHA9TWF0aC5tYXgocyxkKTtpZihNYXRoLmFicyhnKTw9cCl7bGV0IG49bSp0O249X3QobiwwLDEpO2NvbnN0IHU9US5nZXROQU4oKTtpZihwcyhuLGkscix1KSxRLmRpc3RhbmNlKHUsZSk8PXMpe2lmKG48LjUpe2lmKFEuZGlzdGFuY2UodSxpKTw9cyYmUS5kaXN0YW5jZShlLGkpPD1zKXJldHVybiBhfWVsc2UgaWYoUS5kaXN0YW5jZSh1LHIpPD1zJiZRLmRpc3RhbmNlKGUscik8PXMpcmV0dXJuIGg7cmV0dXJuIG8/MS1uOm59fX1yZXR1cm4gTnVtYmVyLk5hTn1mdW5jdGlvbiBNcyh0LGUscyl7Y29uc3Qgbj1RLmdldE5BTigpO24uc2V0Q29vcmRzKGUscyksbi5zdWJUaGlzKHQuZ2V0U3RhcnRYWSgpKTtjb25zdCBpPVEuZ2V0TkFOKCk7aS5zZXRTdWIodC5nZXRFbmRYWSgpLHQuZ2V0U3RhcnRYWSgpKTtjb25zdCByPWkuY3Jvc3NQcm9kdWN0KG4pLG89NCpkdCgpKihNYXRoLmFicyhpLngqbi55KStNYXRoLmFicyhpLnkqbi54KSk7cmV0dXJuIHI+bz8tMTpyPC1vPzE6MH1mdW5jdGlvbiBZcyh0LGUscyxuKXtjb25zdCBpPW4/dC5tX1hTdGFydDp0Lm1fWEVuZCxyPW4/dC5tX1lTdGFydDp0Lm1fWUVuZCxvPVEuZ2V0TkFOKCk7by54PWUuZ2V0RW5kWCgpLWksby55PWUuZ2V0RW5kWSgpLXI7aWYocy5kb3RQcm9kdWN0KG8pPjMqZHQoKSpzLmRvdFByb2R1Y3RBYnMobykpe28ueD1lLmdldFN0YXJ0WCgpLWksby55PWUuZ2V0U3RhcnRZKCktcjtyZXR1cm4gcy5kb3RQcm9kdWN0KG8pPD0zKmR0KCkqcy5kb3RQcm9kdWN0QWJzKG8pfXJldHVybiEwfWZ1bmN0aW9uIE5zKHQsZSl7Y29uc3Qgcz1RLmdldE5BTigpO3JldHVybiBzLng9dC5tX1hFbmQtdC5tX1hTdGFydCxzLnk9dC5tX1lFbmQtdC5tX1lTdGFydCwhIVlzKHQsZSxzLCExKSYmKHMubmVnYXRlVGhpcygpLCEhWXModCxlLHMsITApKX1mdW5jdGlvbiBYcyh0KXtjb25zdCBlPXQubV9YU3RhcnQtdC5tX1hFbmQscz10Lm1fWVN0YXJ0LXQubV9ZRW5kO3JldHVybiBlKmUrcypzfWZ1bmN0aW9uIHFzKHQsZSxzKXtjb25zdCBuPXQubV9YRW5kLXQubV9YU3RhcnQsaT10Lm1fWUVuZC10Lm1fWVN0YXJ0LHI9ZS5tX1hFbmQtZS5tX1hTdGFydCxvPWUubV9ZRW5kLWUubV9ZU3RhcnQsYT1yKmktbipvO2lmKDA9PT1hKXJldHVybiBRLmdldE5BTigpO2NvbnN0IGg9NCpkdCgpKihNYXRoLmFicyhyKmkpK01hdGguYWJzKG4qbykpLHU9ZS5tX1hTdGFydC10Lm1fWFN0YXJ0LG09ZS5tX1lTdGFydC10Lm1fWVN0YXJ0LGw9ciptLXUqbyxjPTQqZHQoKSooTWF0aC5hYnMociptKStNYXRoLmFicyh1Km8pKSxnPWwvYSxkPU1hdGguYWJzKGEpLF89KGMqZCtoKk1hdGguYWJzKGwpKS8oYSphKStkdCgpKk1hdGguYWJzKGcpO2lmKGc8LV98fGc+MStfKXJldHVybiBRLmdldE5BTigpO2NvbnN0IHA9biptLXUqaSxmPXAvYSxQPSg0KmR0KCkqKE1hdGguYWJzKG4qbSkrTWF0aC5hYnModSppKSkqZCtoKk1hdGguYWJzKHApKS8oYSphKStkdCgpKk1hdGguYWJzKGYpO2lmKGY8LVB8fGY+MStQKXJldHVybiBRLmdldE5BTigpO2xldCB5PV90KGcsMCwxKSx4PV90KGYsMCwxKTtjb25zdCBDPVEuZ2V0TkFOKCk7X3ModCx5LEMpO2NvbnN0IHY9US5nZXROQU4oKTtpZihfcyhlLHgsdiksIXN8fFEuZGlzdGFuY2UoQyx2KT5zKXtjb25zdCBuPVEuZ2V0TkFOKCk7eHQoQyx2LC41LG4pLHk9dC5nZXRDbG9zZXN0Q29vcmRpbmF0ZShuLCExKSx4PWUuZ2V0Q2xvc2VzdENvb3JkaW5hdGUobiwhMSk7Y29uc3QgaT1RLmdldE5BTigpO19zKHQseSxpKTtjb25zdCByPVEuZ2V0TkFOKCk7X3MoZSx4LHIpLGkuc3ViVGhpcyhyKTtjb25zdCBvPWkubGVuZ3RoKCksYT0odC5hYnNOb3JtKCkrZS5hYnNOb3JtKCkpKm10KCk7aWYobz5NYXRoLm1heChzLGEpKXJldHVybiBRLmdldE5BTigpfXJldHVybiBuZXcgUSh5LHgpfWNsYXNzIEZze2NvbnN0cnVjdG9yKHQpe2lmKHRoaXMubV9zZWdGbGFnU3RyZWFtPW51bGwsdGhpcy5tX3h5U3RyZWFtPW51bGwsdGhpcy5tX2JDaXJjdWxhdG9yPSExLHRoaXMubV9jdXJyZW50U2VnbWVudEluZGV4PS0xLHRoaXMubV9uZXh0U2VnbWVudEluZGV4PTAsdGhpcy5tX25leHRQYXRoSW5kZXg9MCx0aGlzLm1fY3VycmVudFBhdGhJbmRleD0tMSx0aGlzLm1fcGFyZW50PXQucGFyZW50LHRoaXMubV9idWZmZXI9bmV3IHRoaXMubV9wYXJlbnQubV9zZWdtZW50QnVmZmVyQ1Rvcix0aGlzLm1fZGVzY3JpcHRpb249dC5wYXJlbnQuZ2V0RGVzY3JpcHRpb24oKSx0aGlzLm1fc2VnbWVudENvdW50PXRoaXMuZ2V0U2VnbWVudENvdW50KHRoaXMubV9uZXh0UGF0aEluZGV4KSx2b2lkIDAhPT10LnBvaW50SW5kZXgpeyh0LnBvaW50SW5kZXg8MHx8dC5wb2ludEluZGV4Pj10LnBhcmVudC5nZXRQb2ludENvdW50KCkpJiZuKFwiXCIpO2NvbnN0IGU9dC5wYXJlbnQuZ2V0UGF0aEluZGV4RnJvbVBvaW50SW5kZXgodC5wb2ludEluZGV4KTt0aGlzLm1fY3VycmVudFBhdGhJbmRleD1lLHRoaXMubV9uZXh0UGF0aEluZGV4PWUrMSx0aGlzLm1fbmV4dFNlZ21lbnRJbmRleD10LnBvaW50SW5kZXgtdC5wYXJlbnQuZ2V0UGF0aFN0YXJ0KGUpLHRoaXMubV9zZWdtZW50Q291bnQ9dGhpcy5nZXRTZWdtZW50Q291bnQodGhpcy5tX2N1cnJlbnRQYXRoSW5kZXgpfWVsc2UgaWYodm9pZCAwIT09dC5wYXRoSW5kZXgpeyh0LnBhdGhJbmRleDwwfHx0LnBhdGhJbmRleD49dC5wYXJlbnQuZ2V0UGF0aENvdW50KCl8fHQuc2VnbWVudEluZGV4PDApJiZuKFwiXCIpO2NvbnN0IGU9dC5wYXJlbnQuaXNDbG9zZWRQYXRoKHQucGF0aEluZGV4KT8wOjE7dC5zZWdtZW50SW5kZXg+PXQucGFyZW50LmdldFBhdGhTaXplKHQucGF0aEluZGV4KS1lJiZuKFwiXCIpLHRoaXMubV9uZXh0U2VnbWVudEluZGV4PXQuc2VnbWVudEluZGV4LHRoaXMubV9jdXJyZW50UGF0aEluZGV4PXQucGF0aEluZGV4LHRoaXMubV9uZXh0UGF0aEluZGV4PXRoaXMubV9uZXh0U2VnbWVudEluZGV4KzEsdGhpcy5tX3NlZ21lbnRDb3VudD10aGlzLmdldFNlZ21lbnRDb3VudCh0aGlzLm1fbmV4dFBhdGhJbmRleCl9dGhpcy5wcmVwYXJlKCksdGhpcy5tX3BhdGhCZWdpbj0tMSx0aGlzLm1fYkN1cnJlbnRQYXRoQ2xvc2VkPSExLHRoaXMubV9iU3RyaXBBdHRyaWJ1dGVzPSExLHRoaXMubV9wcmV2UGF0aEluZGV4PS0xLHRoaXMubV9wcmV2U2VnbWVudEluZGV4PS0xLHRoaXMubV9iTmVlZHNVcGRhdGU9ITEsdGhpcy5tX2N1cnJlbnRQYXRoSW5kZXg+LTEmJih0aGlzLm1fcGF0aEJlZ2luPXRoaXMubV9wYXJlbnQuZ2V0UGF0aFN0YXJ0KHRoaXMubV9jdXJyZW50UGF0aEluZGV4KSx0aGlzLm1fYkN1cnJlbnRQYXRoQ2xvc2VkPXRoaXMubV9wYXJlbnQuaXNDbG9zZWRQYXRoKHRoaXMubV9jdXJyZW50UGF0aEluZGV4KSl9c3RyaXBBdHRyaWJ1dGVzKCl7dGhpcy5tX2JTdHJpcEF0dHJpYnV0ZXM9ITB9cHJlcGFyZSgpe3RoaXMubV9iQ2lyY3VsYXRvcj0hMSx0aGlzLm1fcGFyZW50LmlzRW1wdHlJbXBsKCk/KHRoaXMubV9zZWdGbGFnU3RyZWFtPW51bGwsdGhpcy5tX3h5U3RyZWFtPW51bGwpOih0aGlzLm1fc2VnRmxhZ1N0cmVhbT10aGlzLm1fcGFyZW50LmdldFNlZ21lbnRGbGFnc1N0cmVhbVJlZigpLHRoaXMubV94eVN0cmVhbT10aGlzLm1fcGFyZW50LmdldEF0dHJpYnV0ZVN0cmVhbVJlZigwKSl9bmV4dFBhdGgoKXtyZXR1cm4gdGhpcy5tX2N1cnJlbnRQYXRoSW5kZXg9dGhpcy5tX25leHRQYXRoSW5kZXgsISh0aGlzLm1fY3VycmVudFBhdGhJbmRleD49dGhpcy5tX3BhcmVudC5nZXRQYXRoQ291bnQoKSkmJih0aGlzLm1fY3VycmVudFNlZ21lbnRJbmRleD0tMSx0aGlzLm1fbmV4dFNlZ21lbnRJbmRleD0wLHRoaXMubV9zZWdtZW50Q291bnQ9dGhpcy5nZXRTZWdtZW50Q291bnQodGhpcy5tX2N1cnJlbnRQYXRoSW5kZXgpLHRoaXMubV9wYXRoQmVnaW49dGhpcy5tX3BhcmVudC5nZXRQYXRoU3RhcnQodGhpcy5tX2N1cnJlbnRQYXRoSW5kZXgpLHRoaXMubV9iQ3VycmVudFBhdGhDbG9zZWQ9dGhpcy5tX3BhcmVudC5pc0Nsb3NlZFBhdGgodGhpcy5tX2N1cnJlbnRQYXRoSW5kZXgpLHRoaXMubV9uZXh0UGF0aEluZGV4KyssITApfXByZXZpb3VzUGF0aCgpe3JldHVybiAwIT09dGhpcy5tX25leHRQYXRoSW5kZXgmJih0aGlzLm1fbmV4dFBhdGhJbmRleC0tLHRoaXMubV9jdXJyZW50U2VnbWVudEluZGV4PS0xLHRoaXMubV9uZXh0U2VnbWVudEluZGV4PTAsdGhpcy5tX3NlZ21lbnRDb3VudD10aGlzLmdldFNlZ21lbnRDb3VudCh0aGlzLm1fbmV4dFBhdGhJbmRleCksdGhpcy5tX2N1cnJlbnRQYXRoSW5kZXg9dGhpcy5tX25leHRQYXRoSW5kZXgsdGhpcy5tX3BhdGhCZWdpbj10aGlzLm1fcGFyZW50LmdldFBhdGhTdGFydCh0aGlzLm1fY3VycmVudFBhdGhJbmRleCksdGhpcy5tX2JDdXJyZW50UGF0aENsb3NlZD10aGlzLm1fcGFyZW50LmlzQ2xvc2VkUGF0aCh0aGlzLm1fY3VycmVudFBhdGhJbmRleCksdGhpcy5yZXNldFRvTGFzdFNlZ21lbnQoKSwhMCl9Z2V0U2VnbWVudENvdW50KHQpe3JldHVybiB0aGlzLm1fcGFyZW50LmlzRW1wdHlJbXBsKCk/MDp0aGlzLm1fcGFyZW50LmdldFNlZ21lbnRDb3VudFBhdGgodCl9cmVzZXRUb0ZpcnN0UGF0aCgpe3RoaXMubV9jdXJyZW50U2VnbWVudEluZGV4PS0xLHRoaXMubV9uZXh0U2VnbWVudEluZGV4PS0xLHRoaXMubV9zZWdtZW50Q291bnQ9LTEsdGhpcy5tX25leHRQYXRoSW5kZXg9MCx0aGlzLm1fY3VycmVudFBhdGhJbmRleD0tMSx0aGlzLm1fcGF0aEJlZ2luPS0xLHRoaXMubV9iQ3VycmVudFBhdGhDbG9zZWQ9ITF9cmVzZXRUb0xhc3RQYXRoKCl7dGhpcy5tX25leHRQYXRoSW5kZXg9dGhpcy5tX3BhcmVudC5nZXRQYXRoQ291bnQoKSx0aGlzLm1fY3VycmVudFBhdGhJbmRleD0tMSx0aGlzLm1fY3VycmVudFNlZ21lbnRJbmRleD0tMSx0aGlzLm1fbmV4dFNlZ21lbnRJbmRleD0tMSx0aGlzLm1fc2VnbWVudENvdW50PS0xLHRoaXMubV9wYXRoQmVnaW49LTF9cmVzZXRUb1BhdGgodCl7KHQ8MHx8dD50aGlzLm1fcGFyZW50LmdldFBhdGhDb3VudCgpKSYmbihcIlwiKSx0aGlzLm1fbmV4dFBhdGhJbmRleD10LHRoaXMubV9jdXJyZW50UGF0aEluZGV4PS0xLHRoaXMubV9jdXJyZW50U2VnbWVudEluZGV4PS0xLHRoaXMubV9uZXh0U2VnbWVudEluZGV4PS0xLHRoaXMubV9zZWdtZW50Q291bnQ9LTEsdGhpcy5tX3BhdGhCZWdpbj0tMSx0aGlzLm1fYkN1cnJlbnRQYXRoQ2xvc2VkPSExfWlzTGFzdFBhdGgoKXtyZXR1cm4gdGhpcy5tX2N1cnJlbnRQYXRoSW5kZXg9PT10aGlzLm1fcGFyZW50LmdldFBhdGhDb3VudCgpLTF9aXNGaXJzdFNlZ21lbnRJblBhdGgoKXtyZXR1cm4gMD09PXRoaXMubV9jdXJyZW50U2VnbWVudEluZGV4fWlzTGFzdFNlZ21lbnRJblBhdGgoKXtyZXR1cm4gdGhpcy5tX2N1cnJlbnRTZWdtZW50SW5kZXg9PT10aGlzLm1fc2VnbWVudENvdW50LTF9cmVzZXRUb0ZpcnN0U2VnbWVudCgpe3RoaXMubV9jdXJyZW50U2VnbWVudEluZGV4PS0xLHRoaXMubV9uZXh0U2VnbWVudEluZGV4PTB9cmVzZXRUb0xhc3RTZWdtZW50KCl7dGhpcy5tX25leHRTZWdtZW50SW5kZXg9dGhpcy5tX3NlZ21lbnRDb3VudCx0aGlzLm1fY3VycmVudFNlZ21lbnRJbmRleD0tMX1yZXNldFRvKHQpe3RoaXMubV9wYXJlbnQhPT10Lm1fcGFyZW50JiZkKFwiXCIpLHRoaXMubV9jdXJyZW50U2VnbWVudEluZGV4PXQubV9jdXJyZW50U2VnbWVudEluZGV4LHRoaXMubV9uZXh0U2VnbWVudEluZGV4PXQubV9uZXh0U2VnbWVudEluZGV4LHRoaXMubV9jdXJyZW50UGF0aEluZGV4PXQubV9jdXJyZW50UGF0aEluZGV4LHRoaXMubV9uZXh0UGF0aEluZGV4PXQubV9uZXh0UGF0aEluZGV4LHRoaXMubV9zZWdtZW50Q291bnQ9dC5tX3NlZ21lbnRDb3VudCx0aGlzLm1fYkNpcmN1bGF0b3I9dC5tX2JDaXJjdWxhdG9yLHRoaXMubV9wYXRoQmVnaW49dC5tX3BhdGhCZWdpbix0aGlzLm1fYkN1cnJlbnRQYXRoQ2xvc2VkPXQubV9iQ3VycmVudFBhdGhDbG9zZWQsdGhpcy5tX2JTdHJpcEF0dHJpYnV0ZXM9dC5tX2JTdHJpcEF0dHJpYnV0ZXMsdGhpcy5tX2Rlc2NyaXB0aW9uPXQubV9kZXNjcmlwdGlvbn1yZXNldFRvVmVydGV4KHQsZSl7aWYodGhpcy5tX2N1cnJlbnRQYXRoSW5kZXg+PTAmJnRoaXMubV9jdXJyZW50UGF0aEluZGV4PHRoaXMubV9wYXJlbnQuZ2V0UGF0aENvdW50KCkpe2NvbnN0IGU9dGhpcy5nZXRQYXRoQmVnaW4oKTtpZih0Pj1lJiZ0PHRoaXMubV9wYXJlbnQuZ2V0UGF0aEVuZCh0aGlzLm1fY3VycmVudFBhdGhJbmRleCkpcmV0dXJuIHRoaXMubV9jdXJyZW50U2VnbWVudEluZGV4PS0xLHZvaWQodGhpcy5tX25leHRTZWdtZW50SW5kZXg9dC1lKX1sZXQgcztzPWU+PTAmJmU8dGhpcy5tX3BhcmVudC5nZXRQYXRoQ291bnQoKSYmdD49dGhpcy5tX3BhcmVudC5nZXRQYXRoU3RhcnQoZSkmJnQ8dGhpcy5tX3BhcmVudC5nZXRQYXRoRW5kKGUpP2U6dGhpcy5tX3BhcmVudC5nZXRQYXRoSW5kZXhGcm9tUG9pbnRJbmRleCh0KSx0aGlzLm1fbmV4dFBhdGhJbmRleD1zKzEsdGhpcy5tX2N1cnJlbnRQYXRoSW5kZXg9cyx0aGlzLm1fY3VycmVudFNlZ21lbnRJbmRleD0tMSx0aGlzLm1fbmV4dFNlZ21lbnRJbmRleD10LXRoaXMubV9wYXJlbnQuZ2V0UGF0aFN0YXJ0KHMpLHRoaXMubV9zZWdtZW50Q291bnQ9dGhpcy5nZXRTZWdtZW50Q291bnQocyksdGhpcy5tX3BhdGhCZWdpbj10aGlzLm1fcGFyZW50LmdldFBhdGhTdGFydCh0aGlzLm1fY3VycmVudFBhdGhJbmRleCksdGhpcy5tX2JDdXJyZW50UGF0aENsb3NlZD10aGlzLm1fcGFyZW50LmlzQ2xvc2VkUGF0aCh0aGlzLm1fY3VycmVudFBhdGhJbmRleCl9aGFzTmV4dFNlZ21lbnQoKXtyZXR1cm4gdGhpcy5tX25leHRTZWdtZW50SW5kZXg8dGhpcy5tX3NlZ21lbnRDb3VudH1oYXNQcmV2aW91c1NlZ21lbnQoKXtyZXR1cm4gdGhpcy5tX25leHRTZWdtZW50SW5kZXg+MH1uZXh0U2VnbWVudCgpe3JldHVybiB0aGlzLm1fY3VycmVudFNlZ21lbnRJbmRleCE9PXRoaXMubV9uZXh0U2VnbWVudEluZGV4JiZ0aGlzLnVwZGF0ZVNlZ21lbnQoKSx0aGlzLm1fYkNpcmN1bGF0b3I/dGhpcy5tX25leHRTZWdtZW50SW5kZXg9KHRoaXMubV9uZXh0U2VnbWVudEluZGV4KzEpJXRoaXMubV9zZWdtZW50Q291bnQ6KHRoaXMubV9uZXh0U2VnbWVudEluZGV4PT09dGhpcy5tX3NlZ21lbnRDb3VudCYmbihcIlNlZ21lbnRfaXRlcmF0b3JfaW1wbDo6bmV4dF9zZWdtZW50XCIpLHRoaXMubV9uZXh0U2VnbWVudEluZGV4KyspLHRoaXMubV9idWZmZXIuZ2V0KCl9cHJldmlvdXNTZWdtZW50KCl7cmV0dXJuIHRoaXMubV9iQ2lyY3VsYXRvcj90aGlzLm1fbmV4dFNlZ21lbnRJbmRleD0odGhpcy5tX3NlZ21lbnRDb3VudCt0aGlzLm1fbmV4dFNlZ21lbnRJbmRleC0xKSV0aGlzLm1fc2VnbWVudENvdW50OigwPT09dGhpcy5tX25leHRTZWdtZW50SW5kZXgmJm4oXCJcIiksdGhpcy5tX25leHRTZWdtZW50SW5kZXgtLSksdGhpcy5tX25leHRTZWdtZW50SW5kZXghPT10aGlzLm1fY3VycmVudFNlZ21lbnRJbmRleCYmdGhpcy51cGRhdGVTZWdtZW50KCksdGhpcy5tX2J1ZmZlci5nZXQoKX1uZXh0Q3VydmUoKXtpZighdGhpcy5tX3BhcmVudC5oYXNOb25MaW5lYXJTZWdtZW50cygpKXJldHVybiB0aGlzLnJlc2V0VG9MYXN0U2VnbWVudCgpLG51bGw7bGV0IHQ9MDtmb3IoOzspe2lmKHRoaXMubV9uZXh0U2VnbWVudEluZGV4PT09dGhpcy5tX3NlZ21lbnRDb3VudHx8dD09PXRoaXMubV9zZWdtZW50Q291bnQpcmV0dXJuIG51bGw7Y29uc3QgZT10aGlzLmdldFBhdGhCZWdpbigpK3RoaXMubV9uZXh0U2VnbWVudEluZGV4O2lmKDEhPT0oMzEmdGhpcy5tX3NlZ0ZsYWdTdHJlYW0ucmVhZChlKSkpe3RoaXMudXBkYXRlU2VnbWVudCgpO2JyZWFrfXRoaXMubV9iQ2lyY3VsYXRvcj90aGlzLm1fbmV4dFNlZ21lbnRJbmRleD0odGhpcy5tX25leHRTZWdtZW50SW5kZXgrMSkldGhpcy5tX3NlZ21lbnRDb3VudDp0aGlzLm1fbmV4dFNlZ21lbnRJbmRleCsrLHQrK31yZXR1cm4gdGhpcy5tX2N1cnJlbnRTZWdtZW50SW5kZXghPT10aGlzLm1fbmV4dFNlZ21lbnRJbmRleCYmdGhpcy51cGRhdGVTZWdtZW50KCksdGhpcy5tX2JDaXJjdWxhdG9yP3RoaXMubV9uZXh0U2VnbWVudEluZGV4PSh0aGlzLm1fbmV4dFNlZ21lbnRJbmRleCsxKSV0aGlzLm1fc2VnbWVudENvdW50Oih0aGlzLm1fbmV4dFNlZ21lbnRJbmRleD09PXRoaXMubV9zZWdtZW50Q291bnQmJm4oXCJcIiksdGhpcy5tX25leHRTZWdtZW50SW5kZXgrKyksdGhpcy5tX2J1ZmZlci5nZXQoKX1nZXRQYXRoQmVnaW4oKXtyZXR1cm4gdGhpcy5tX3BhdGhCZWdpbn1nZXRQYXRoSW5kZXgoKXtyZXR1cm4gdGhpcy5tX2N1cnJlbnRQYXRoSW5kZXh9Z2V0U3RhcnRQb2ludEluZGV4KCl7cmV0dXJuIHRoaXMuZ2V0UGF0aEJlZ2luKCkrdGhpcy5tX2N1cnJlbnRTZWdtZW50SW5kZXh9Z2V0RW5kUG9pbnRJbmRleCgpe3JldHVybiB0aGlzLmlzQ2xvc2luZ1NlZ21lbnQoKT90aGlzLmdldFBhdGhCZWdpbigpOnRoaXMuZ2V0U3RhcnRQb2ludEluZGV4KCkrMX11cGRhdGVTZWdtZW50KCl7KHRoaXMubV9uZXh0U2VnbWVudEluZGV4PDB8fHRoaXMubV9uZXh0U2VnbWVudEluZGV4Pj10aGlzLm1fc2VnbWVudENvdW50fHx0aGlzLm1fY3VycmVudFBhdGhJbmRleDwwKSYmbihcIlwiKSx0aGlzLm1fY3VycmVudFNlZ21lbnRJbmRleD10aGlzLm1fbmV4dFNlZ21lbnRJbmRleCx0aGlzLm1fcGFyZW50LmdldFNlZ21lbnRGcm9tUGF0aCh0aGlzLm1fY3VycmVudFBhdGhJbmRleCx0aGlzLm1fY3VycmVudFNlZ21lbnRJbmRleCx0aGlzLm1fYnVmZmVyLHRoaXMubV9iU3RyaXBBdHRyaWJ1dGVzKX1pc0Nsb3NpbmdTZWdtZW50KCl7cmV0dXJuIHRoaXMubV9iQ3VycmVudFBhdGhDbG9zZWQmJnRoaXMubV9jdXJyZW50U2VnbWVudEluZGV4PT09dGhpcy5tX3NlZ21lbnRDb3VudC0xfWlzQ3VydmUoKXtpZihudWxsIT09dGhpcy5tX3NlZ0ZsYWdTdHJlYW0pe3JldHVybiAxIT09KDMxJnRoaXMubV9zZWdGbGFnU3RyZWFtLnJlYWQodGhpcy5tX2N1cnJlbnRTZWdtZW50SW5kZXgpKX1yZXR1cm4hMX1pc1BhdGhDbG9zZWQoKXtyZXR1cm4gdGhpcy5tX2JDdXJyZW50UGF0aENsb3NlZH1zZXRDaXJjdWxhdG9yKHQpe3RoaXMubV9iQ2lyY3VsYXRvcj10fWdldEltcGwoKXtyZXR1cm4gdGhpc319Y2xhc3MgVnN7Y29uc3RydWN0b3IodCl7dGhpcy5tX3Jhc3Rlcml6ZWRHZW9tZXRyeT1udWxsLHRoaXMubV9xdWFkVHJlZT1udWxsLHRoaXMubV9xdWFkVHJlZUZvclBhdGhzPW51bGwsdGhpcy5tX3JlZkNvdW50PTEsdCYmdC5jb3B5VG8odGhpcyl9Z2V0UmFzdGVyaXplZEdlb21ldHJ5KCl7cmV0dXJuIHRoaXMubV9yYXN0ZXJpemVkR2VvbWV0cnl9Y29weVRvKHQpe3QhPT10aGlzJiYocyh0LnVuaXF1ZVVzZSgpKSx0Lm1fcXVhZFRyZWU9dGhpcy5tX3F1YWRUcmVlLHQubV9xdWFkVHJlZUZvclBhdGhzPXRoaXMubV9xdWFkVHJlZUZvclBhdGhzLHQubV9yYXN0ZXJpemVkR2VvbWV0cnk9dGhpcy5tX3Jhc3Rlcml6ZWRHZW9tZXRyeSl9Y2xvbmUoKXtjb25zdCB0PW5ldyBWcztyZXR1cm4gdGhpcy5jb3B5VG8odCksdH11bmlxdWVVc2UoKXtyZXR1cm4gMT09PXRoaXMubV9yZWZDb3VudH1hZGRSZWYoKXsrK3RoaXMubV9yZWZDb3VudH1yZWxlYXNlKCl7MD09PS0tdGhpcy5tX3JlZkNvdW50JiYodGhpcy5tX3Jhc3Rlcml6ZWRHZW9tZXRyeT1udWxsLHRoaXMubV9xdWFkVHJlZT1udWxsLHRoaXMubV9xdWFkVHJlZUZvclBhdGhzPW51bGwpfXNldFJhc3Rlcml6ZWRHZW9tZXRyeSh0KXtzKHRoaXMudW5pcXVlVXNlKCkpfXNldFF1YWRUcmVlKHQpe3ModGhpcy51bmlxdWVVc2UoKSksdGhpcy5tX3F1YWRUcmVlPXR9c2V0UXVhZFRyZWVGb3JQYXRocyh0KXtzKHRoaXMudW5pcXVlVXNlKCkpLHRoaXMubV9xdWFkVHJlZUZvclBhdGhzPXR9Z2V0UXVhZFRyZWUoKXtyZXR1cm4gdGhpcy5tX3F1YWRUcmVlfWdldFF1YWRUcmVlRm9yUGF0aHMoKXtyZXR1cm4gdGhpcy5tX3F1YWRUcmVlRm9yUGF0aHN9fWZ1bmN0aW9uIExzKHQpe3JldHVybiEodC5pc0VtcHR5KCl8fHQuZ2V0R2VvbWV0cnlUeXBlKCkhPT1pLmVudW1Qb2x5bGluZSYmdC5nZXRHZW9tZXRyeVR5cGUoKSE9PWkuZW51bVBvbHlnb24pJiYhKHQuZ2V0UG9pbnRDb3VudCgpPDIwKX1mdW5jdGlvbiBScyh0KXtyZXR1cm4hKHQuaXNFbXB0eSgpfHx0LmdldEdlb21ldHJ5VHlwZSgpIT09aS5lbnVtUG9seWxpbmUmJnQuZ2V0R2VvbWV0cnlUeXBlKCkhPT1pLmVudW1Qb2x5Z29uKSYmISh0LmdldFBvaW50Q291bnQoKTwyMCl9ZnVuY3Rpb24genModCxlKXtyZXR1cm4gdC5yZWFkUG9pbnQyRChlKzQpfWZ1bmN0aW9uIEJzKHQpe2NvbnN0IGU9dC5nZXRHZW9tZXRyeVR5cGUoKTtyZXR1cm4gZT09PWkuZW51bUVsbGlwdGljQXJjPzEwOmU9PT1pLmVudW1CZXppZXI/NDplPT09aS5lbnVtUmF0aW9uYWxCZXppZXIyPzU6ZT09PWkuZW51bUJlemllcjI/Mjp2b2lkIGgoXCJcIil9ZnVuY3Rpb24ga3ModCl7Y29uc3QgZT0zMSZ0O3JldHVybiA0PT09ZT8xMDoyPT09ZT80Ojg9PT1lPzU6MTY9PT1lPzI6MH1mdW5jdGlvbiBHcyh0LGUscyxuKXtjb25zdCBpPXQuZ2V0UGF0aFN0YXJ0KGUpLHI9dC5nZXRQYXRoRW5kKGUpO2lmKHItaTwzKXJldHVybjtjb25zdCBvPTIqaSxhPVEuZ2V0TkFOKCk7cy5xdWVyeVBvaW50MkQobyxhKTtjb25zdCBoPWEueCx1PWEueSxtPVEuZ2V0TkFOKCk7cy5xdWVyeVBvaW50MkQobysyLG0pO2NvbnN0IGw9US5nZXROQU4oKTtmb3IobGV0IGM9bys0LGc9MipyO2M8ZztjKz0yKXMucXVlcnlQb2ludDJEKGMsbCksbi5wZSgobC54LWEueCkqKG0ueS11KSksYS5zZXRDb29yZHNQb2ludDJEKG0pLG0uc2V0Q29vcmRzUG9pbnQyRChsKTtuLnBlKChoLWEueCkqKG0ueS11KSl9ZnVuY3Rpb24gV3ModCxlLHMpe2Zvcig7ZS5oYXNOZXh0U2VnbWVudCgpOyl7Y29uc3QgdD1lLm5leHRDdXJ2ZSgpO2lmKG51bGw9PT10KWJyZWFrO3MucGUoMip0LmNhbGN1bGF0ZUFyZWEyREhlbHBlcigpKX19dmFyIGpzPWI7Y2xhc3MgWnN7c3RhdGljIHRvU2VnVHlwZSh0KXtsZXQgZT0wO3N3aXRjaCh0KXtjYXNlIGkuZW51bUxpbmU6ZT0xO2JyZWFrO2Nhc2UgaS5lbnVtQmV6aWVyOmU9MjticmVhaztjYXNlIGkuZW51bUVsbGlwdGljQXJjOmU9NDticmVhaztjYXNlIGkuZW51bVJhdGlvbmFsQmV6aWVyMjplPTg7YnJlYWs7Y2FzZSBpLmVudW1CZXppZXIyOmU9MTY7YnJlYWs7ZGVmYXVsdDpoKFwiXCIpfXJldHVybiBlfWNvbnN0cnVjdG9yKCl7dGhpcy5tX3NlZ21lbnRGbGFncz1udWxsLHRoaXMubV9zZWdtZW50UGFyYW1JbmRleD1udWxsLHRoaXMubV9zZWdtZW50UGFyYW1zPW51bGwsdGhpcy5tX2N1cnZlQ291bnQ9MCx0aGlzLm1fYmV6aWVyQ291bnQ9MCx0aGlzLm1fYXJjQ291bnQ9MCx0aGlzLm1fcmJlemllcjJDb3VudD0wLHRoaXMubV9iZXppZXIyQ291bnQ9MCx0aGlzLm1fY3VydmVQYXJhbVdyaXRlUG9pbnQ9MH1hc3NpZ25Db3B5KHQpe3JldHVybiB0aGlzLm1fc2VnbWVudEZsYWdzPXQubV9zZWdtZW50RmxhZ3MsdGhpcy5tX3NlZ21lbnRQYXJhbUluZGV4PXQubV9zZWdtZW50UGFyYW1JbmRleCx0aGlzLm1fc2VnbWVudFBhcmFtcz10Lm1fc2VnbWVudFBhcmFtcyx0aGlzLm1fY3VydmVDb3VudD10Lm1fY3VydmVDb3VudCx0aGlzLm1fYmV6aWVyQ291bnQ9dC5tX2JlemllckNvdW50LHRoaXMubV9hcmNDb3VudD10Lm1fYXJjQ291bnQsdGhpcy5tX3JiZXppZXIyQ291bnQ9dC5tX3JiZXppZXIyQ291bnQsdGhpcy5tX2JlemllcjJDb3VudD10Lm1fYmV6aWVyMkNvdW50LHRoaXMubV9jdXJ2ZVBhcmFtV3JpdGVQb2ludD10Lm1fY3VydmVQYXJhbVdyaXRlUG9pbnQsdGhpc319Y2xhc3MgSHMgZXh0ZW5kcyBTZXtjb25zdHJ1Y3Rvcih0KXtzdXBlcih0KSx0aGlzLm1fY2FjaGVkUmluZ0FyZWFzMkQ9bnVsbCx0aGlzLm1fcGF0aHM9bnVsbCx0aGlzLm1fcGF0aEZsYWdzPW51bGwsdGhpcy5tX2N1cnZlRGF0YT1udWxsLHQubW92ZT8odGhpcy5tX2JQb2x5Z29uPXQubW92ZS5tX2JQb2x5Z29uLHRoaXMubV9jYWNoZWRMZW5ndGgyRD10Lm1vdmUubV9jYWNoZWRMZW5ndGgyRCx0aGlzLm1fY2FjaGVkQXJlYTJEPXQubW92ZS5tX2NhY2hlZEFyZWEyRCx0aGlzLm1fY3VycmVudFBhdGhJbmRleD10Lm1vdmUubV9jdXJyZW50UGF0aEluZGV4LHRoaXMubV9jYWNoZWRSaW5nQXJlYXMyRD10Lm1vdmUubV9jYWNoZWRSaW5nQXJlYXMyRCx0aGlzLm1fcGF0aHM9dC5tb3ZlLm1fcGF0aHMsdGhpcy5tX3BhdGhGbGFncz10Lm1vdmUubV9wYXRoRmxhZ3MsdGhpcy5tX2N1cnZlRGF0YT10Lm1vdmUubV9jdXJ2ZURhdGEsdC5tb3ZlLm1fY3VydmVEYXRhPW51bGwsdC5tb3ZlLnNldEVtcHR5KCkpOih0aGlzLm1fYlBvbHlnb249dC5iUG9seWdvbix0aGlzLm1fY2FjaGVkTGVuZ3RoMkQ9MCx0aGlzLm1fY2FjaGVkQXJlYTJEPTAsdGhpcy5tX2N1cnJlbnRQYXRoSW5kZXg9MCl9Z2V0R2VvbWV0cnlUeXBlKCl7cmV0dXJuIHRoaXMubV9iUG9seWdvbj9pLmVudW1Qb2x5Z29uOmkuZW51bVBvbHlsaW5lfWdldERpbWVuc2lvbigpe3JldHVybiB0aGlzLm1fYlBvbHlnb24/MjoxfWNoYW5nZVJpbmdTdGFydFBvaW50KHQpe3ModGhpcy5tX2JQb2x5Z29uKTtjb25zdCBuPXRoaXMuZ2V0UGF0aEluZGV4RnJvbVBvaW50SW5kZXgodCksaT10aGlzLmdldFBhdGhTdGFydChuKTtpZihpPT09dClyZXR1cm47Y29uc3Qgcj10aGlzLmdldFBhdGhFbmQobik7KHQ+PXJ8fHQ8aSkmJmUoXCJjaGFuZ2VfcmluZ19zdGFydF9wb2ludFwiKTtmb3IobGV0IGU9MCxzPXRoaXMubV9kZXNjcmlwdGlvbi5nZXRBdHRyaWJ1dGVDb3VudCgpO2U8cztlKyspe2NvbnN0IHM9dGhpcy5tX2Rlc2NyaXB0aW9uLmdldFNlbWFudGljcyhlKSxuPWpzLmdldENvbXBvbmVudENvdW50KHMpO3RoaXMubV92ZXJ0ZXhBdHRyaWJ1dGVzLmdldChlKS5yb3RhdGUoaSpuLHQqbixyKm4pfXRoaXMuaGFzTm9uTGluZWFyU2VnbWVudHMoKSYmKHRoaXMubV9jdXJ2ZURhdGEubV9zZWdtZW50RmxhZ3Mucm90YXRlKGksdCxyKSx0aGlzLm1fY3VydmVEYXRhLm1fc2VnbWVudFBhcmFtSW5kZXgucm90YXRlKGksdCxyKSl9c2V0RmlsbFJ1bGUodCl7dGhpcy5tX2JGaWxsUnVsZT0xPT09dH1nZXRGaWxsUnVsZSgpe3JldHVybiB0aGlzLm1fYkZpbGxSdWxlPzE6MH1pc0V4dGVyaW9yUmluZ09HQyh0KXtyZXR1cm4hIXRoaXMubV9iUG9seWdvbiYmKHRoaXMudXBkYXRlT0dDRmxhZ3NQcm90ZWN0ZWQoKSwhISg4JnRoaXMubV9wYXRoRmxhZ3MucmVhZCh0KSkpfWlzRXh0ZXJpb3JSaW5nKHQpe3JldHVybiB0aGlzLmNhbGN1bGF0ZVJpbmdBcmVhMkQodCk+MH1jYWxjdWxhdGVSaW5nQXJlYTJEKHQpe3JldHVybiB0aGlzLm1fYlBvbHlnb24/KHRoaXMudXBkYXRlUmluZ0FyZWFzMkRQcm90ZWN0ZWQoKSx0aGlzLm1fY2FjaGVkUmluZ0FyZWFzMkQucmVhZCh0KSk6MH11cGRhdGVSaW5nQXJlYXMyRFByb3RlY3RlZCgpe2lmKCF0aGlzLmhhc0RpcnR5RmxhZygxMDI0KSlyZXR1cm47Y29uc3QgdD10aGlzLmdldFBhdGhDb3VudCgpO2lmKDA9PT10KXJldHVybiB0aGlzLmhhc0RpcnR5RmxhZygxMDI0KSYmKHRoaXMubV9jYWNoZWRBcmVhMkQ9MCksdm9pZCB0aGlzLnNldERpcnR5RmxhZ1Byb3RlY3RlZCgxMDI0LCExKTtjb25zdCBlPW5ldyBGKHQpLHM9bmV3IHB0KDApLG49bmV3IHB0KDApO2lmKDAhPT10aGlzLm1fcG9pbnRDb3VudCl7Y29uc3QgaT10aGlzLmdldEF0dHJpYnV0ZVN0cmVhbVJlZigwKTtpZih0aGlzLmhhc05vbkxpbmVhclNlZ21lbnRzKCkpe2NvbnN0IHQ9bmV3IEZzKHtwYXJlbnQ6dGhpc30pO2Zvcih0LnN0cmlwQXR0cmlidXRlcygpO3QubmV4dFBhdGgoKTspe24ucmVzZXQoKTtjb25zdCByPXQuZ2V0UGF0aEluZGV4KCk7R3ModGhpcyxyLGksbiksV3ModGhpcyx0LG4pO2NvbnN0IG89LjUqbi5nZXRSZXN1bHQoKTtzLmFkZChvKSxlLndyaXRlKHIsbyl9fWVsc2UgZm9yKGxldCByPTA7cjx0O3IrKyl7bi5yZXNldCgpLEdzKHRoaXMscixpLG4pO2NvbnN0IHQ9LjUqbi5nZXRSZXN1bHQoKTtzLmFkZCh0KSxlLndyaXRlKHIsdCl9fXRoaXMuaGFzRGlydHlGbGFnKDEwMjQpJiYodGhpcy5tX2NhY2hlZEFyZWEyRD1zLmdldFJlc3VsdCgpLHRoaXMubV9jYWNoZWRSaW5nQXJlYXMyRD1lLHRoaXMuc2V0RGlydHlGbGFnUHJvdGVjdGVkKDEwMjQsITEpKX1nZXRPR0NQb2x5Z29uQ291bnQoKXtpZighdGhpcy5tX2JQb2x5Z29uKXJldHVybiAwO3RoaXMudXBkYXRlT0dDRmxhZ3NQcm90ZWN0ZWQoKTtsZXQgdD0wO2NvbnN0IGU9dGhpcy5nZXRQYXRoQ291bnQoKTtmb3IobGV0IHM9MDtzPGU7cysrKTgmdGhpcy5tX3BhdGhGbGFncy5yZWFkKHMpJiZ0Kys7cmV0dXJuIHR9Z2V0SGFzaENvZGVJbXBsKCl7cmV0dXJuIHMoMCksMH1lcXVhbHNJbXBsKHQpe2NvbnN0IGU9dCxzPXRoaXMuZ2V0UGF0aENvdW50KCk7aWYocyE9PWUuZ2V0UGF0aENvdW50KCkpcmV0dXJuITE7Y29uc3Qgbj10aGlzLmhhc05vbkxpbmVhclNlZ21lbnRzKCk7aWYobiE9PWUuaGFzTm9uTGluZWFyU2VnbWVudHMoKSlyZXR1cm4hMTtpZihuKXtpZih0aGlzLm1fY3VydmVEYXRhLm1fY3VydmVDb3VudCE9PWUubV9jdXJ2ZURhdGEubV9jdXJ2ZUNvdW50KXJldHVybiExO2lmKHRoaXMubV9jdXJ2ZURhdGEubV9iZXppZXJDb3VudCE9PWUubV9jdXJ2ZURhdGEubV9iZXppZXJDb3VudClyZXR1cm4hMX1pZih0aGlzLm1fcGF0aHMmJiF0aGlzLm1fcGF0aHMuZXF1YWxzKGUubV9wYXRocywwLHMrMSkpcmV0dXJuITE7aWYodGhpcy5tX2JGaWxsUnVsZSE9PWUubV9iRmlsbFJ1bGUpcmV0dXJuITE7aWYoIXRoaXMubV9iUG9seWdvbiYmdGhpcy5tX3BhdGhGbGFncyYmIXRoaXMubV9wYXRoRmxhZ3MuZXF1YWxzKGUubV9wYXRoRmxhZ3MsMCxzKSlyZXR1cm4hMTtpZih0aGlzLmhhc05vbkxpbmVhclNlZ21lbnRzKCkpe2lmKCF0aGlzLm1fY3VydmVEYXRhLm1fc2VnbWVudEZsYWdzLmVxdWFscyhlLm1fY3VydmVEYXRhLm1fc2VnbWVudEZsYWdzLDAsdGhpcy5nZXRQb2ludENvdW50KCkpKXJldHVybiExO2ZvcihsZXQgdD0wLHM9dGhpcy5nZXRQb2ludENvdW50KCk7dDxzO3QrKyl7Y29uc3Qgcz10aGlzLm1fY3VydmVEYXRhLm1fc2VnbWVudEZsYWdzLnJlYWQodCk7aWYoIUhzLmlzTm9uTGluZWFyU2VnbWVudEZsYWcocykpY29udGludWU7Y29uc3Qgbj10aGlzLm1fY3VydmVEYXRhLm1fc2VnbWVudFBhcmFtSW5kZXgucmVhZCh0KSxpPWUubV9jdXJ2ZURhdGEubV9zZWdtZW50UGFyYW1JbmRleC5yZWFkKHQpLHI9a3Mocyk7Zm9yKGxldCB0PTA7dDxyO3QrKyl7Y29uc3Qgcz10aGlzLm1fY3VydmVEYXRhLm1fc2VnbWVudFBhcmFtcy5yZWFkKG4rdCkscj1lLm1fY3VydmVEYXRhLm1fc2VnbWVudFBhcmFtcy5yZWFkKGkrdCk7aWYoIWZ0KHMscikpcmV0dXJuITF9fX1yZXR1cm4hMH1lcXVhbHNJbXBsVG9sKHQsZSl7Y29uc3Qgcz10LG49dGhpcy5nZXRQYXRoQ291bnQoKTtpZihuIT09cy5nZXRQYXRoQ291bnQoKSlyZXR1cm4hMTtjb25zdCBpPXRoaXMuaGFzTm9uTGluZWFyU2VnbWVudHMoKTtpZihpIT09cy5oYXNOb25MaW5lYXJTZWdtZW50cygpKXJldHVybiExO2lmKGkpe2lmKHRoaXMubV9jdXJ2ZURhdGEubV9jdXJ2ZUNvdW50IT09cy5tX2N1cnZlRGF0YS5tX2N1cnZlQ291bnQpcmV0dXJuITE7aWYodGhpcy5tX2N1cnZlRGF0YS5tX2JlemllckNvdW50IT09cy5tX2N1cnZlRGF0YS5tX2JlemllckNvdW50KXJldHVybiExfWlmKHRoaXMubV9wYXRocyYmIXRoaXMubV9wYXRocy5lcXVhbHMocy5tX3BhdGhzLDAsbisxKSlyZXR1cm4hMTtpZih0aGlzLm1fYkZpbGxSdWxlIT09cy5tX2JGaWxsUnVsZSlyZXR1cm4hMTtpZighdGhpcy5tX2JQb2x5Z29uJiZ0aGlzLm1fcGF0aEZsYWdzJiYhdGhpcy5tX3BhdGhGbGFncy5lcXVhbHMocy5tX3BhdGhGbGFncywwLG4pKXJldHVybiExO2lmKCFpKXJldHVybiEwO2lmKCF0aGlzLm1fY3VydmVEYXRhLm1fc2VnbWVudEZsYWdzLmVxdWFscyhzLm1fY3VydmVEYXRhLm1fc2VnbWVudEZsYWdzLDAsdGhpcy5nZXRQb2ludENvdW50KCkpKXJldHVybiExO2NvbnN0IHI9dGhpcy5xdWVyeVNlZ21lbnRJdGVyYXRvcigpLG89cy5xdWVyeVNlZ21lbnRJdGVyYXRvcigpO2Zvcig7ci5uZXh0UGF0aCgpOyl7aWYoIW8ubmV4dFBhdGgoKSlyZXR1cm4hMTtmb3IoO3IuaGFzTmV4dFNlZ21lbnQoKTspe2NvbnN0IHQ9ci5uZXh0Q3VydmUoKSxzPW8ubmV4dEN1cnZlKCk7aWYoISh0JiZzJiZ0LmVxdWFscyhzLGUpKSl7aWYoIXQmJiFzKWJyZWFrO3JldHVybiExfX19cmV0dXJuITB9cmVzZXJ2ZUltcGxJbXBsKHQsZSl7dGhpcy5tX2N1cnZlRGF0YSYmdGhpcy5tX2N1cnZlRGF0YS5tX3NlZ21lbnRGbGFncyYmKHRoaXMubV9jdXJ2ZURhdGEubV9zZWdtZW50RmxhZ3MucmVzaXplKHQsMSksdGhpcy5tX2N1cnZlRGF0YS5tX3NlZ21lbnRQYXJhbUluZGV4LnJlc2l6ZSh0LC0xKSx0aGlzLmNoZWNrQ29tcGFjdFNlZ21lbnRQYXJhbXMoKSl9dmVyaWZ5U3RyZWFtc0FmdGVyU2l6ZUNoYW5nZUV4dHJhSW1wbCgpe3RoaXMubV9wYXRoc3x8KHRoaXMubV9wYXRocz1WKDEsMCksdGhpcy5tX3BhdGhGbGFncz1MKDEsMCkpLHRoaXMubV9jdXJ2ZURhdGEmJnRoaXMubV9jdXJ2ZURhdGEubV9zZWdtZW50RmxhZ3MmJih0aGlzLm1fY3VydmVEYXRhLm1fc2VnbWVudEZsYWdzLnJlc2l6ZSh0aGlzLm1fcmVzZXJ2ZWRQb2ludENvdW50LDEpLHRoaXMubV9jdXJ2ZURhdGEubV9zZWdtZW50UGFyYW1JbmRleC5yZXNpemUodGhpcy5tX3Jlc2VydmVkUG9pbnRDb3VudCwtMSksdGhpcy5jaGVja0NvbXBhY3RTZWdtZW50UGFyYW1zKCkpfWNvcHlUb0ltcGwodCxlKXtjb25zdCBzPXQ7cy5tX2JQYXRoU3RhcnRlZD0hMSxzLm1fYkZpbGxSdWxlPXRoaXMubV9iRmlsbFJ1bGUsdGhpcy5tX3BhdGhzP3MubV9wYXRocz1lP3RoaXMubV9wYXRoczp0aGlzLm1fcGF0aHMuY2xvbmUoKTpzLm1fcGF0aHM9bnVsbCx0aGlzLm1fcGF0aEZsYWdzP3MubV9wYXRoRmxhZ3M9ZT90aGlzLm1fcGF0aEZsYWdzOnRoaXMubV9wYXRoRmxhZ3MuY2xvbmUoKTpzLm1fcGF0aEZsYWdzPW51bGwsdGhpcy5tX2N1cnZlRGF0YSYmKHMubV9jdXJ2ZURhdGF8fChzLm1fY3VydmVEYXRhPW5ldyBacykscy5tX2N1cnZlRGF0YS5hc3NpZ25Db3B5KHRoaXMubV9jdXJ2ZURhdGEpLHMubV9jdXJ2ZURhdGEubV9jdXJ2ZUNvdW50PTAscy51cGRhdGVDdXJ2ZUNvdW50ZXIodGhpcy5tX2N1cnZlRGF0YS5tX2N1cnZlQ291bnQpLGV8fCh0aGlzLm1fY3VydmVEYXRhLm1fc2VnbWVudFBhcmFtSW5kZXg/cy5tX2N1cnZlRGF0YS5tX3NlZ21lbnRQYXJhbUluZGV4PXRoaXMubV9jdXJ2ZURhdGEubV9zZWdtZW50UGFyYW1JbmRleC5jbG9uZSgpOnMubV9jdXJ2ZURhdGEubV9zZWdtZW50UGFyYW1JbmRleD1udWxsLHRoaXMubV9jdXJ2ZURhdGEubV9zZWdtZW50RmxhZ3M/cy5tX2N1cnZlRGF0YS5tX3NlZ21lbnRGbGFncz10aGlzLm1fY3VydmVEYXRhLm1fc2VnbWVudEZsYWdzLmNsb25lKCk6cy5tX2N1cnZlRGF0YS5tX3NlZ21lbnRGbGFncz1udWxsLHRoaXMubV9jdXJ2ZURhdGEubV9zZWdtZW50UGFyYW1zP3MubV9jdXJ2ZURhdGEubV9zZWdtZW50UGFyYW1zPXRoaXMubV9jdXJ2ZURhdGEubV9zZWdtZW50UGFyYW1zLmNsb25lKCk6cy5tX2N1cnZlRGF0YS5tX3NlZ21lbnRQYXJhbXM9bnVsbCkpLHMuaGFzRGlydHlGbGFnKDUxMil8fChzLm1fY2FjaGVkTGVuZ3RoMkQ9dGhpcy5tX2NhY2hlZExlbmd0aDJEKSxzLm1fY2FjaGVkUmluZ0FyZWFzMkQ9bnVsbCxzLmhhc0RpcnR5RmxhZygxMDI0KXx8KHMubV9jYWNoZWRBcmVhMkQ9dGhpcy5tX2NhY2hlZEFyZWEyRCxudWxsIT09dGhpcy5tX2NhY2hlZFJpbmdBcmVhczJEJiYocy5tX2NhY2hlZFJpbmdBcmVhczJEPWU/dGhpcy5tX2NhY2hlZFJpbmdBcmVhczJEOnRoaXMubV9jYWNoZWRSaW5nQXJlYXMyRC5jbG9uZSgpKSl9Y2FsY3VsYXRlQXJlYTJEKCl7cmV0dXJuIHRoaXMubV9iUG9seWdvbj8odGhpcy51cGRhdGVSaW5nQXJlYXMyRFByb3RlY3RlZCgpLHRoaXMubV9jYWNoZWRBcmVhMkQpOjB9Y2FsY3VsYXRlTGVuZ3RoMkQoKXtpZighdGhpcy5oYXNEaXJ0eUZsYWcoNTEyKSlyZXR1cm4gdGhpcy5tX2NhY2hlZExlbmd0aDJEO2NvbnN0IHQ9dGhpcy5xdWVyeVNlZ21lbnRJdGVyYXRvcigpLGU9bmV3IHB0KDApO2Zvcig7dC5uZXh0UGF0aCgpOylmb3IoO3QuaGFzTmV4dFNlZ21lbnQoKTspZS5hZGQodC5uZXh0U2VnbWVudCgpLmNhbGN1bGF0ZUxlbmd0aDJEKCkpO3JldHVybiB0aGlzLmhhc0RpcnR5RmxhZyg1MTIpJiYodGhpcy5tX2NhY2hlZExlbmd0aDJEPWUuZ2V0UmVzdWx0KCkpLHRoaXMuc2V0RGlydHlGbGFnUHJvdGVjdGVkKDUxMiwhMSksZS5nZXRSZXN1bHQoKX1jYWxjdWxhdGVQYXRoTGVuZ3RoMkQodCl7Y29uc3QgZT10aGlzLnF1ZXJ5U2VnbWVudEl0ZXJhdG9yQXRWZXJ0ZXgodGhpcy5nZXRQYXRoU3RhcnQodCkpLHM9bmV3IHB0KDApO2Zvcig7ZS5oYXNOZXh0U2VnbWVudCgpOylzLmFkZChlLm5leHRTZWdtZW50KCkuY2FsY3VsYXRlTGVuZ3RoMkQoKSk7cmV0dXJuIHMuZ2V0UmVzdWx0KCl9Y2FsY3VsYXRlTGVuZ3RoM0QodCl7cmV0dXJuIHMoMCksMH1jYWxjdWxhdGVQYXRoTGVuZ3RoM0QodCxlKXtyZXR1cm4gcygwKSwwfWNvcHlUbyh0KXtjKHQuZ2V0R2VvbWV0cnlUeXBlKCkpfHxlKFwiXCIpLHRoaXMhPT10JiZzdXBlci5jb3B5VG8odCl9c3dhcCh0KXtzKDApfXNldFBvaW50QnlWYWwodCxlKXt0aGlzLnNldFBvaW50QnlWYWxXaXRoQ3VydmVzKHQsZSl9c2V0UG9pbnRCeVZhbFdpdGhDdXJ2ZXModCxlKXtpZih0aGlzLmhhc05vbkxpbmVhclNlZ21lbnRzKCkpe2NvbnN0IHM9ZS5nZXRYWSgpO2lmKHRoaXMuc2V0WFlDb29yZHNXaXRoQ3VydmVzKHQscy54LHMueSksMT09PXRoaXMubV9kZXNjcmlwdGlvbi5nZXRBdHRyaWJ1dGVDb3VudCgpKXJldHVybn10aGlzLnNldFBvaW50QnlWYWxOb0N1cnZlcyh0LGUpfXNldFhZQ29vcmRzV2l0aEN1cnZlcyh0LGUscyl7aWYodGhpcy5oYXNOb25MaW5lYXJTZWdtZW50cygpKXtjb25zdCBuPUhzLmdldFBhdGhJbmRleEZyb21Qb2ludEluZGV4SW1wbCh0aGlzLm1fcGF0aHMsdGhpcy5nZXRQYXRoQ291bnQoKSx0LHRoaXMubV9jdXJyZW50UGF0aEluZGV4KTt0aGlzLm1fY3VycmVudFBhdGhJbmRleD1uO2NvbnN0IGk9dGhpcy5nZXRQcmV2U2VnbWVudFR5cGVGcm9tUGF0aChuLHQpLHI9dGhpcy5nZXROZXh0U2VnbWVudFR5cGUodCk7aWYoMSE9PWl8fDEhPT1yKXtsZXQgbz10LTE7Y29uc3QgYT1uZXcgZm07aWYoMSE9PWkpe2lmKHRoaXMuaXNDbG9zZWRQYXRoKG4pJiZ0PT09dGhpcy5nZXRQYXRoU3RhcnQobikpe289dGhpcy5nZXRQYXRoRW5kKG4pLTF9dGhpcy5nZXRTZWdtZW50QnVmZmVyKG8sYSwhMCl9Y29uc3QgaD1uZXcgZm07MSE9PXImJnRoaXMuZ2V0U2VnbWVudEJ1ZmZlcih0LGgsITApO2NvbnN0IHU9dCsxO3RoaXMuc2V0WFlDb29yZHNOb0N1cnZlcyh0LGUscyk7Y29uc3QgbT1uZXcgUShlLHMpO3JldHVybiAxIT09aSYmKGEuZ2V0KCkuY2hhbmdlRW5kUG9pbnRzMkQoYS5nZXQoKS5nZXRTdGFydFhZKCksbSksdGhpcy5yZXBsYWNlU2VnbWVudEltcGwobyx0LGEuZ2V0KCksITApKSx2b2lkKDEhPT1yJiYoaC5nZXQoKS5jaGFuZ2VFbmRQb2ludHMyRChtLGguZ2V0KCkuZ2V0RW5kWFkoKSksdGhpcy5yZXBsYWNlU2VnbWVudEltcGwodCx1LGguZ2V0KCksITApKSl9fXRoaXMuc2V0WFlDb29yZHNOb0N1cnZlcyh0LGUscyl9c2V0WFlaV2l0aEN1cnZlcyh0LGUpe3RoaXMuaGFzTm9uTGluZWFyU2VnbWVudHMoKT8odGhpcy5zZXRYWUNvb3Jkc1dpdGhDdXJ2ZXModCxlLngsZS55KSx0aGlzLnNldEF0dHJpYnV0ZU5vQ3VydmVzKDEsdCwwLGUueikpOnRoaXMuc2V0WFlaTm9DdXJ2ZXModCxlKX1zZXRBdHRyaWJ1dGVXaXRoQ3VydmVzKHQsZSxzLG4pe2lmKDA9PT10JiZ0aGlzLmhhc05vbkxpbmVhclNlZ21lbnRzKCkpe2NvbnN0IHQ9dGhpcy5nZXRYWShlKTswPT09cz90Lng9bjp0Lnk9bix0aGlzLnNldFhZQ29vcmRzV2l0aEN1cnZlcyhlLHQueCx0LnkpfWVsc2UgdGhpcy5zZXRBdHRyaWJ1dGVOb0N1cnZlcyh0LGUscyxuKX1zZXRYWSh0LGUpe3RoaXMuc2V0WFlDb29yZHNXaXRoQ3VydmVzKHQsZS54LGUueSl9c2V0WFlDb29yZHModCxlLHMpe3RoaXMuc2V0WFlDb29yZHNXaXRoQ3VydmVzKHQsZSxzKX1zZXRYWVoodCxlKXt0aGlzLnNldFhZWldpdGhDdXJ2ZXModCxlKX1zZXRBdHRyaWJ1dGUodCxlLHMsbil7dGhpcy5zZXRBdHRyaWJ1dGVXaXRoQ3VydmVzKHQsZSxzLG4pfXNldEF0dHJpYnV0ZVdpdGhDdXJ2ZXNGcm9tQXJyYXkodCxlLHMsaSl7aWYoMD09PXQmJnRoaXMuaGFzTm9uTGluZWFyU2VnbWVudHMoKSl7aTwyJiZuKFwiXCIpO2NvbnN0IHQ9dGhpcy5nZXRYWShlKTt0Lng9c1swXSx0Lnk9c1sxXSx0aGlzLnNldFhZQ29vcmRzV2l0aEN1cnZlcyhlLHQueCx0LnkpfWVsc2UgdGhpcy5zZXRBdHRyaWJ1dGVGcm9tQXJyYXlOb0N1cnZlcyh0LGUscyxpKX1zZXRBdHRyaWJ1dGVGcm9tQXJyYXkodCxlLHMsbil7dGhpcy5zZXRBdHRyaWJ1dGVXaXRoQ3VydmVzRnJvbUFycmF5KHQsZSxzLG4pfWhhc05vbkxpbmVhclNlZ21lbnRzKCl7cmV0dXJuIDAhPT10aGlzLmdldEN1cnZlQ291bnQoKX1nZXRTZWdtZW50Q291bnQoKXtsZXQgdD10aGlzLmdldFBvaW50Q291bnQoKTtpZighdGhpcy5tX2JQb2x5Z29uKXt0LT10aGlzLmdldFBhdGhDb3VudCgpO2ZvcihsZXQgZT0wLHM9dGhpcy5nZXRQYXRoQ291bnQoKTtlPHM7ZSsrKXRoaXMuaXNDbG9zZWRQYXRoKGUpJiZ0Kyt9cmV0dXJuIHR9Z2V0U2VnbWVudENvdW50UGF0aCh0KXtsZXQgZT10aGlzLmdldFBhdGhTaXplKHQpO3JldHVybiF0aGlzLmlzQ2xvc2VkUGF0aCh0KSYmZT4wJiZlLS0sZX1hZGQodCxzKXt0aGlzPT09dCYmZShcIk11bHRpX3BhdGhfaW1wbDo6YWRkXCIpO2ZvcihsZXQgZT0wLG49dC5nZXRQYXRoQ291bnQoKTtlPG47ZSsrKXRoaXMuYWRkUGF0aCh0LGUsIXMpfWFkZFBhdGgodCxlLHMpe3RoaXMuaW5zZXJ0UGF0aCgtMSx0LGUscyl9YWRkUGF0aFBvaW50MkQodCxlLHMpe3RoaXMuaW5zZXJ0UGF0aDJEKC0xLHQsMCxlLHMpfWFkZFBhdGhNdWx0aVBvaW50KHQsZSxzLG4pe3M8MCYmKHM9dC5nZXRQb2ludENvdW50KCktZSksdGhpcy5pbnNlcnRQb2ludHNGcm9tTXVsdGlwb2ludCgtMSwwLHQsZSxzLG4pfWFkZFNlZ21lbnRzRnJvbVBhdGgodCxzLGkscixvKXtpZih0aGlzPT09dCYmZShcIk11bHRpX3BhdGhfaW1wbC5hZGRfc2VnbWVudHNfZnJvbV9wYXRoXCIpLG98fDAhPT10aGlzLmdldFBhdGhDb3VudCgpfHwobz0hMCksczwwJiYocz10LmdldFBhdGhDb3VudCgpLTEpLChzPj10LmdldFBhdGhDb3VudCgpfHxpPDB8fHI8MHx8aStyPnQuZ2V0U2VnbWVudENvdW50UGF0aChzKSkmJm4oXCJhZGRfc2VnbWVudHNfZnJvbV9wYXRoXCIpLDA9PT1yKXJldHVybjtjb25zdCBhPXQuZ2V0UGF0aFN0YXJ0KHMpLGg9dC5pc0Nsb3NlZFBhdGgocykmJmkrcj09PXQuZ2V0U2VnbWVudENvdW50UGF0aChzKTt0aGlzLm1fYlBhdGhTdGFydGVkPSExLHRoaXMubWVyZ2VWZXJ0ZXhEZXNjcmlwdGlvbih0LmdldERlc2NyaXB0aW9uKCkpO2xldCB1PXI7Y29uc3QgbT1hK2k7bGV0IGw9bSsxO28mJih1KyssbC0tKSwhbyYmdC5oYXNOb25MaW5lYXJTZWdtZW50cygpJiYxIT09dC5tX2N1cnZlRGF0YS5tX3NlZ21lbnRGbGFncy5yZWFkKG0pJiYodC5nZXRYWShtKS5lcXVhbHModGhpcy5nZXRYWSh0aGlzLm1fcG9pbnRDb3VudC0xKSl8fGUoXCJhZGRfc2VnbWVudHNfZnJvbV9wYXRoOiBzdGFydCBwb2ludCBtaXNtYXRjaFwiKSk7Y29uc3QgYz10aGlzLm1fcG9pbnRDb3VudDtpZih0aGlzLnJlc2l6ZUltcGwodGhpcy5tX3BvaW50Q291bnQrdSksdGhpcy52ZXJpZnlBbGxTdHJlYW1zQWZ0ZXJTaXplQ2hhbmdlKCksbyl7aWYoMD09PXUpcmV0dXJuO3RoaXMubV9wYXRocy5hZGQodGhpcy5tX3BvaW50Q291bnQpO2xldCBlPXQubV9wYXRoRmxhZ3MucmVhZChzKTt0aGlzLm1fYlBvbHlnb24mJihlfD0xKSx0aGlzLm1fcGF0aEZsYWdzLndyaXRlKHRoaXMubV9wYXRoRmxhZ3Muc2l6ZSgpLTEsZSksdGhpcy5tX3BhdGhGbGFncy5hZGQoMCl9ZWxzZSB0aGlzLm1fcGF0aHMud3JpdGUodGhpcy5tX3BhdGhGbGFncy5zaXplKCktMSx0aGlzLm1fcG9pbnRDb3VudCk7Y29uc3QgZz1oP3UtMTp1O2ZvcihsZXQgZT0wLG49dGhpcy5tX2Rlc2NyaXB0aW9uLmdldEF0dHJpYnV0ZUNvdW50KCk7ZTxuO2UrKyl7Y29uc3Qgcz10aGlzLm1fZGVzY3JpcHRpb24uZ2V0U2VtYW50aWNzKGUpLG49anMuZ2V0Q29tcG9uZW50Q291bnQocyksaT10Lm1fZGVzY3JpcHRpb24uZ2V0QXR0cmlidXRlSW5kZXgocyk7aWYoZz4wKXtpZihpPDB8fCF0Lm1fdmVydGV4QXR0cmlidXRlcy5nZXQoaSkpe2NvbnN0IHQ9anMuZ2V0RGVmYXVsdFZhbHVlKHMpO3RoaXMubV92ZXJ0ZXhBdHRyaWJ1dGVzLmdldChlKS5pbnNlcnRSYW5nZShuKmMsdCxnKm4sbipjKSxoJiZ0aGlzLm1fdmVydGV4QXR0cmlidXRlcy5nZXQoZSkuaW5zZXJ0UmFuZ2UobipjK2cqbix0LG4sbipjKTtjb250aW51ZX10aGlzLm1fdmVydGV4QXR0cmlidXRlcy5nZXQoZSkuaW5zZXJ0UmFuZ2VGcm9tU3RyZWFtKG4qYyx0Lm1fdmVydGV4QXR0cmlidXRlcy5nZXQoaSksbipsLGcqbiwhMCxuLG4qYyl9aCYmdGhpcy5tX3ZlcnRleEF0dHJpYnV0ZXMuZ2V0KGUpLmluc2VydFJhbmdlRnJvbVN0cmVhbShuKihjK2cpLHQubV92ZXJ0ZXhBdHRyaWJ1dGVzLmdldChpKSxuKmEsbiwhMCxuLG4qKGMrZykpfWlmKHRoaXMuaGFzTm9uTGluZWFyU2VnbWVudHMoKSYmdGhpcy5pbml0U2VnbWVudERhdGEoMCksdC5oYXNOb25MaW5lYXJTZWdtZW50cygpKXtsZXQgZT0wO2ZvcihsZXQgcz0wLG49bTtzPHI7cysrKXtlKz1rcyh0Lm1fY3VydmVEYXRhLm1fc2VnbWVudEZsYWdzLnJlYWQobikpLG4rK31pZihlPjApe3RoaXMuaW5pdFNlZ21lbnREYXRhKGUpO2xldCBzPW0sbj1jLShvPzA6MSksaT0wO2ZvcihsZXQgZT0wO2U8cjtlKyspe2NvbnN0IGU9dC5tX2N1cnZlRGF0YS5tX3NlZ21lbnRGbGFncy5yZWFkKHMpO2lmKHRoaXMubV9jdXJ2ZURhdGEubV9zZWdtZW50RmxhZ3Mud3JpdGUobixlKSxIcy5pc05vbkxpbmVhclNlZ21lbnRGbGFnKGUpKXtpKys7bGV0IHI9dC5tX2N1cnZlRGF0YS5tX3NlZ21lbnRQYXJhbUluZGV4LnJlYWQocyk7Y29uc3Qgbz1rcyhlKTt0aGlzLm1fY3VydmVEYXRhLm1fc2VnbWVudFBhcmFtSW5kZXgud3JpdGUobix0aGlzLm1fY3VydmVEYXRhLm1fY3VydmVQYXJhbVdyaXRlUG9pbnQpO2ZvcihsZXQgZT0wO2U8bztlKyspe2NvbnN0IGU9dC5tX2N1cnZlRGF0YS5tX3NlZ21lbnRQYXJhbXMucmVhZChyKTt0aGlzLm1fY3VydmVEYXRhLm1fc2VnbWVudFBhcmFtcy53cml0ZSh0aGlzLm1fY3VydmVEYXRhLm1fY3VydmVQYXJhbVdyaXRlUG9pbnQsZSksdGhpcy5tX2N1cnZlRGF0YS5tX2N1cnZlUGFyYW1Xcml0ZVBvaW50KysscisrfXRoaXMuaW5jQ3VydmVUeXBlKGUsMSl9ZWxzZSB0aGlzLm1fY3VydmVEYXRhLm1fc2VnbWVudFBhcmFtSW5kZXgud3JpdGUobiwtMSk7bisrLHMrK310aGlzLm1vZGlmeUN1cnZlQ291bnRlcihpKX19aWYoaCl7Y29uc3QgdD10aGlzLmdldFBhdGhDb3VudCgpLTEsZT10aGlzLmdldFBhdGhTdGFydCh0KSxzPXRoaXMuZ2V0UGF0aEVuZCh0KS0xLG49dGhpcy5nZXRYWShlKSxpPXRoaXMuZ2V0WFkocyk7bi5pc0VxdWFsUG9pbnQyRChpKSYmKC0tdGhpcy5tX3BvaW50Q291bnQsdGhpcy5tX3BhdGhzLndyaXRlKHQrMSx0aGlzLm1fcG9pbnRDb3VudCkpfXRoaXMubm90aWZ5TW9kaWZpZWRGbGFncygyMDAxKX1yZXZlcnNlQWxsUGF0aHMoKXtmb3IobGV0IHQ9MCxlPXRoaXMuZ2V0UGF0aENvdW50KCk7dDxlO3QrKyl0aGlzLnJldmVyc2VQYXRoKHQpfXJldmVyc2VQYXRoKHQpe3Q+PXRoaXMuZ2V0UGF0aENvdW50KCkmJmUoXCJcIik7Y29uc3Qgcz10aGlzLmdldFBhdGhTaXplKHQpO2lmKDA9PT1zKXJldHVybjtjb25zdCBuPXRoaXMuZ2V0UGF0aFN0YXJ0KHQpLGk9dGhpcy5pc0Nsb3NlZFBhdGgodCk7aWYodGhpcy5oYXNOb25MaW5lYXJTZWdtZW50cygpKXtsZXQgdD1uO2NvbnN0IGU9bmV3IHRoaXMubV9zZWdtZW50QnVmZmVyQ1RvcjtsZXQgcj0hMTtmb3IobGV0IG49MDtuPHM7bisrLHQrKyl7Y29uc3Qgcz10aGlzLm1fY3VydmVEYXRhLm1fc2VnbWVudEZsYWdzLnJlYWQodCk7aWYoIUhzLmlzTm9uTGluZWFyU2VnbWVudEZsYWcocykpY29udGludWU7cj0hMCx0aGlzLnF1ZXJ5U2VnbWVudCh0LGUsITApLGUuZ2V0KCkucmV2ZXJzZSgpO2NvbnN0IG49dGhpcy5tX2N1cnZlRGF0YS5tX3NlZ21lbnRQYXJhbUluZGV4LnJlYWQodCk7ZS5nZXQoKS53cml0ZUluQnVmZmVyU3RyZWFtKHRoaXMubV9jdXJ2ZURhdGEubV9zZWdtZW50UGFyYW1zLG4pfWlmKHIpe2NvbnN0IHQ9aT8wOjE7dGhpcy5tX2N1cnZlRGF0YS5tX3NlZ21lbnRGbGFncy5yZXZlcnNlUmFuZ2UobixzLXQsMSksdGhpcy5tX2N1cnZlRGF0YS5tX3NlZ21lbnRQYXJhbUluZGV4LnJldmVyc2VSYW5nZShuLHMtdCwxKX19Y29uc3Qgcj1pPzE6MDtmb3IobGV0IGU9MCxhPXRoaXMubV9kZXNjcmlwdGlvbi5nZXRBdHRyaWJ1dGVDb3VudCgpO2U8YTtlKyspaWYodGhpcy5tX3ZlcnRleEF0dHJpYnV0ZXMuZ2V0KGUpKXtjb25zdCB0PXRoaXMubV9kZXNjcmlwdGlvbi5nZXRTZW1hbnRpY3MoZSksaT1qcy5nZXRDb21wb25lbnRDb3VudCh0KTt0aGlzLm1fdmVydGV4QXR0cmlidXRlcy5nZXQoZSkucmV2ZXJzZVJhbmdlKGkqKG4rciksaSoocy1yKSxpKX1jb25zdCBvPTYmdGhpcy5tX3BhdGhGbGFncy5yZWFkKHQpO2lmKG8pe2xldCBlPTA7NCZvJiYoZXw9MiksMiZvJiYoZXw9NCksdGhpcy5tX3BhdGhGbGFncy5jbGVhckJpdHModCw2KSx0aGlzLm1fcGF0aEZsYWdzLnNldEJpdHModCxlKX10aGlzLm5vdGlmeU1vZGlmaWVkRmxhZ3MoMTIzMyl9cmVtb3ZlUGF0aCh0KXtjb25zdCBzPXRoaXMuZ2V0UGF0aENvdW50KCk7dDwwJiYodD1zLTEpLHQ+PXMmJmUoXCJcIik7Y29uc3Qgbj10aGlzLmdldFBhdGhTdGFydCh0KSxpPXRoaXMuZ2V0UGF0aFNpemUodCk7Zm9yKGxldCBlPTAscj10aGlzLm1fZGVzY3JpcHRpb24uZ2V0QXR0cmlidXRlQ291bnQoKTtlPHI7ZSsrKWlmKHRoaXMubV92ZXJ0ZXhBdHRyaWJ1dGVzLmdldChlKSl7Y29uc3QgdD10aGlzLm1fZGVzY3JpcHRpb24uZ2V0U2VtYW50aWNzKGUpLHM9anMuZ2V0Q29tcG9uZW50Q291bnQodCk7dGhpcy5tX3ZlcnRleEF0dHJpYnV0ZXMuZ2V0KGUpLmVyYXNlUmFuZ2UocypuLHMqaSxzKnRoaXMubV9wb2ludENvdW50KX1pZih0aGlzLmhhc05vbkxpbmVhclNlZ21lbnRzKCkpe2xldCB0PTA7Zm9yKGxldCBlPW4scz1uK2k7ZTxzO2UrKyl7Y29uc3Qgcz10aGlzLm1fY3VydmVEYXRhLm1fc2VnbWVudEZsYWdzLnJlYWQoZSk7SHMuaXNOb25MaW5lYXJTZWdtZW50RmxhZyhzKSYmKHRoaXMuaW5jQ3VydmVUeXBlKHMsLTEpLHQrKyl9dGhpcy5tb2RpZnlDdXJ2ZUNvdW50ZXIoLXQpLHRoaXMubV9jdXJ2ZURhdGEubV9zZWdtZW50RmxhZ3MuZXJhc2VSYW5nZShuLGksdGhpcy5tX3BvaW50Q291bnQpLHRoaXMubV9jdXJ2ZURhdGEubV9zZWdtZW50UGFyYW1JbmRleC5lcmFzZVJhbmdlKG4saSx0aGlzLm1fcG9pbnRDb3VudCl9Zm9yKGxldCBlPXQrMTtlPD1zO2UrKyl7Y29uc3QgdD10aGlzLm1fcGF0aHMucmVhZChlKTt0aGlzLm1fcGF0aHMud3JpdGUoZS0xLHQtaSl9aWYodGhpcy5tX3BhdGhGbGFncylmb3IobGV0IGU9dCsxO2U8PXM7ZSsrKXtjb25zdCB0PXRoaXMubV9wYXRoRmxhZ3MucmVhZChlKTt0aGlzLm1fcGF0aEZsYWdzLndyaXRlKGUtMSx0KX10aGlzLm1fcGF0aHMucmVzaXplKHMpLHRoaXMubV9wYXRoRmxhZ3MucmVzaXplKHMpLHRoaXMubV9wb2ludENvdW50LT1pLHRoaXMubV9yZXNlcnZlZFBvaW50Q291bnQtPWksdD09PXMtMSYmKHRoaXMubV9iUGF0aFN0YXJ0ZWQ9ITEpLHRoaXMubm90aWZ5TW9kaWZpZWRGbGFncygyMDAxKSx0aGlzLmNoZWNrQ29tcGFjdFNlZ21lbnRQYXJhbXMoKSx0aGlzLmRiZ1ZlcmlmeUN1cnZlcygpfWRiZ1ZlcmlmeUN1cnZlcygpe31pbnNlcnRQYXRoKHQscyxuLGkpe3RoaXM9PT1zJiZlKFwiTXVsdGlfcGF0aF9pbXBsOjppbnNlcnRfcGF0aFwiKTtjb25zdCByPXRoaXMuZ2V0UGF0aENvdW50KCk7aWYoIWkmJnMuaGFzTm9uTGluZWFyU2VnbWVudHNQYXRoKG4pKXJldHVybiB0PXRoaXMuaW5zZXJ0UGF0aCh0LHMsbiwhMCksdGhpcy5yZXZlcnNlUGF0aCh0KSx0O24+PXMuZ2V0UGF0aENvdW50KCkmJmUoXCJcIiksdD5yJiZlKFwiXCIpLHQ8MCYmKHQ9ciksbjwwJiYobj1zLmdldFBhdGhDb3VudCgpLTEpLHRoaXMubV9iUGF0aFN0YXJ0ZWQ9ITEsdGhpcy5tZXJnZVZlcnRleERlc2NyaXB0aW9uKHMuZ2V0RGVzY3JpcHRpb24oKSk7Y29uc3Qgbz1zLmdldFBhdGhTdGFydChuKSxhPXMuZ2V0UGF0aFNpemUobik7aWYoMD09PWEpcmV0dXJuIHRoaXMuaW5zZXJ0UGF0aDJEKHQsbnVsbCwwLDAsITApO2NvbnN0IGg9dGhpcy5tX3BvaW50Q291bnQsdT1zLmlzQ2xvc2VkUGF0aChuKSYmIWk/MTowO3RoaXMucmVzaXplSW1wbCh0aGlzLm1fcG9pbnRDb3VudCthKSx0aGlzLnZlcmlmeUFsbFN0cmVhbXNBZnRlclNpemVDaGFuZ2UoKTtjb25zdCBtPXQ8cj90aGlzLmdldFBhdGhTdGFydCh0KTpoO2ZvcihsZXQgZT0wLGc9dGhpcy5tX2Rlc2NyaXB0aW9uLmdldEF0dHJpYnV0ZUNvdW50KCk7ZTxnO2UrKyl7Y29uc3QgdD10aGlzLm1fZGVzY3JpcHRpb24uZ2V0U2VtYW50aWNzKGUpLG49cy5nZXREZXNjcmlwdGlvbigpLmdldEF0dHJpYnV0ZUluZGV4KHQpLHI9anMuZ2V0Q29tcG9uZW50Q291bnQodCk7aWYobj49MCYmcy5tX3ZlcnRleEF0dHJpYnV0ZXMuZ2V0KG4pKTAhPT11JiZ0aGlzLm1fdmVydGV4QXR0cmlidXRlcy5nZXQoZSkuaW5zZXJ0UmFuZ2VGcm9tU3RyZWFtKG0qcixzLm1fdmVydGV4QXR0cmlidXRlcy5nZXQobikscipvLHIsITAscixyKmgpLHRoaXMubV92ZXJ0ZXhBdHRyaWJ1dGVzLmdldChlKS5pbnNlcnRSYW5nZUZyb21TdHJlYW0oKG0rdSkqcixzLm1fdmVydGV4QXR0cmlidXRlcy5nZXQobikscioobyt1KSxyKihhLXUpLGkscixyKihoK3UpKTtlbHNle2NvbnN0IHM9anMuZ2V0RGVmYXVsdFZhbHVlKHQpO3RoaXMubV92ZXJ0ZXhBdHRyaWJ1dGVzLmdldChlKS5pbnNlcnRSYW5nZShtKnIscyxyKmEscipoKX19Y29uc3QgbD1oK2E7dGhpcy5tX3BhdGhzLmFkZChsKTtmb3IobGV0IGU9cjtlPj10KzE7ZS0tKXtjb25zdCB0PXRoaXMubV9wYXRocy5yZWFkKGUtMSk7dGhpcy5tX3BhdGhzLndyaXRlKGUsdCthKX10aGlzLm1fcGF0aEZsYWdzLmFkZCgwKTtmb3IobGV0IGU9ci0xO2U+PXQrMTtlLS0pe2xldCB0PXRoaXMubV9wYXRoRmxhZ3MucmVhZChlKTt0Jj0tOSx0aGlzLm1fcGF0aEZsYWdzLndyaXRlKGUrMSx0KX1sZXQgYz1zLmdldFBhdGhGbGFnc1N0cmVhbVJlZigpLnJlYWQobik7aWYoYyY9LTksdGhpcy5tX2JQb2x5Z29uJiYoY3w9MSksdGhpcy5tX3BhdGhGbGFncy53cml0ZSh0LGMpLHMuaGFzTm9uTGluZWFyU2VnbWVudHMoKSl7dGhpcy5pbml0U2VnbWVudERhdGEoMCk7bGV0IHQ9byxlPTA7Zm9yKGxldCBuPTA7bjxhO24rKyl7ZSs9a3Mocy5tX2N1cnZlRGF0YS5tX3NlZ21lbnRGbGFncy5yZWFkKHQpKSx0Kyt9aWYoZT4wKXtudWxsPT09dGhpcy5tX2N1cnZlRGF0YS5tX3NlZ21lbnRGbGFncz8odGhpcy5tX2N1cnZlRGF0YS5tX3NlZ21lbnRGbGFncz1MKHRoaXMubV9wb2ludENvdW50LDEpLHRoaXMubV9jdXJ2ZURhdGEubV9zZWdtZW50UGFyYW1JbmRleD1WKHRoaXMubV9wb2ludENvdW50LC0xKSk6KHRoaXMubV9jdXJ2ZURhdGEubV9zZWdtZW50RmxhZ3MuaW5zZXJ0UmFuZ2UobSwxLGEsaCksdGhpcy5tX2N1cnZlRGF0YS5tX3NlZ21lbnRQYXJhbUluZGV4Lmluc2VydFJhbmdlKG0sLTEsYSxoKSksdGhpcy5tX2N1cnZlRGF0YS5tX3NlZ21lbnRQYXJhbXM/dGhpcy5tX2N1cnZlRGF0YS5tX3NlZ21lbnRQYXJhbXMucmVzaXplKHRoaXMubV9jdXJ2ZURhdGEubV9jdXJ2ZVBhcmFtV3JpdGVQb2ludCtlKTp0aGlzLm1fY3VydmVEYXRhLm1fc2VnbWVudFBhcmFtcz1SKGUpLHQ9bztsZXQgbj1tLGk9MDtmb3IobGV0IGU9MDtlPGE7ZSsrKXtjb25zdCBlPXMubV9jdXJ2ZURhdGEubV9zZWdtZW50RmxhZ3MucmVhZCh0KTtpZihIcy5pc05vbkxpbmVhclNlZ21lbnRGbGFnKGUpKXt0aGlzLm1fY3VydmVEYXRhLm1fc2VnbWVudEZsYWdzLndyaXRlKG4sZSksdGhpcy5tX2N1cnZlRGF0YS5tX3NlZ21lbnRQYXJhbUluZGV4LndyaXRlKG4sdGhpcy5tX2N1cnZlRGF0YS5tX2N1cnZlUGFyYW1Xcml0ZVBvaW50KTtjb25zdCByPWtzKGUpO2xldCBvPXMubV9jdXJ2ZURhdGEubV9zZWdtZW50UGFyYW1JbmRleC5yZWFkKHQpO2ZvcihsZXQgdD0wO3Q8cjt0Kyspe2NvbnN0IHQ9cy5tX2N1cnZlRGF0YS5tX3NlZ21lbnRQYXJhbXMucmVhZChvKTt0aGlzLm1fY3VydmVEYXRhLm1fc2VnbWVudFBhcmFtcy53cml0ZSh0aGlzLm1fY3VydmVEYXRhLm1fY3VydmVQYXJhbVdyaXRlUG9pbnQsdCksdGhpcy5tX2N1cnZlRGF0YS5tX2N1cnZlUGFyYW1Xcml0ZVBvaW50KyssbysrfWkrKyx0aGlzLmluY0N1cnZlVHlwZShlLDEpfXQrKyxuKyt9dGhpcy5tb2RpZnlDdXJ2ZUNvdW50ZXIoaSl9fXJldHVybiB0aGlzLm5vdGlmeU1vZGlmaWVkRmxhZ3MoMjAwMSksdH1pbnNlcnRQYXRoMkQodCxzLG4saSxyKXtjb25zdCBvPXRoaXMuZ2V0UGF0aENvdW50KCk7KHQ+b3x8bjwwKSYmZShcIlwiKSx0PDAmJih0PW8pLHRoaXMubV9iUGF0aFN0YXJ0ZWQ9ITE7Y29uc3QgYT10aGlzLm1fcG9pbnRDb3VudDt0aGlzLnJlc2l6ZUltcGwodGhpcy5tX3BvaW50Q291bnQraSksMD09PWkmJnRoaXMubm90aWZ5TW9kaWZpZWRGbGFncygzMiksdGhpcy52ZXJpZnlBbGxTdHJlYW1zQWZ0ZXJTaXplQ2hhbmdlKCk7Y29uc3QgaD10PG8/dGhpcy5nZXRQYXRoU3RhcnQodCk6YTtpZihzKXRoaXMubV92ZXJ0ZXhBdHRyaWJ1dGVzLmdldCgwKS5pbnNlcnRSYW5nZUZyb21Qb2ludHMoMipoLHMsbixpLHIsMiphKTtlbHNle2NvbnN0IHQ9anMuZ2V0RGVmYXVsdFZhbHVlKDApO3RoaXMubV92ZXJ0ZXhBdHRyaWJ1dGVzLmdldCgwKS5pbnNlcnRSYW5nZSgyKmgsdCwyKmksMiphKX1mb3IobGV0IGU9MSx1PXRoaXMubV9kZXNjcmlwdGlvbi5nZXRBdHRyaWJ1dGVDb3VudCgpO2U8dTtlKyspe2NvbnN0IHQ9dGhpcy5tX2Rlc2NyaXB0aW9uLmdldFNlbWFudGljcyhlKSxzPWpzLmdldENvbXBvbmVudENvdW50KHQpLG49anMuZ2V0RGVmYXVsdFZhbHVlKHQpO3RoaXMubV92ZXJ0ZXhBdHRyaWJ1dGVzLmdldChlKS5pbnNlcnRSYW5nZShoKnMsbixzKmkscyphKX10aGlzLm1fcGF0aHMuYWRkKHRoaXMubV9wb2ludENvdW50KTtmb3IobGV0IGU9bztlPj10KzE7ZS0tKXtjb25zdCB0PXRoaXMubV9wYXRocy5yZWFkKGUtMSk7dGhpcy5tX3BhdGhzLndyaXRlKGUsdCtpKX10aGlzLm1fcGF0aEZsYWdzLmFkZCgwKTtmb3IobGV0IGU9by0xO2U+PXQrMTtlLS0pe2xldCB0PXRoaXMubV9wYXRoRmxhZ3MucmVhZChlKTt0Jj0tOSx0aGlzLm1fcGF0aEZsYWdzLndyaXRlKGUrMSx0KX1yZXR1cm4gdGhpcy5tX2JQb2x5Z29uJiZ0aGlzLm1fcGF0aEZsYWdzLndyaXRlKHQsMSksdGhpcy5oYXNOb25MaW5lYXJTZWdtZW50cygpJiYodGhpcy5tX2N1cnZlRGF0YS5tX3NlZ21lbnRGbGFncy5pbnNlcnRSYW5nZShoLDEsaSxhKSx0aGlzLm1fY3VydmVEYXRhLm1fc2VnbWVudFBhcmFtSW5kZXguaW5zZXJ0UmFuZ2UoaCwtMSxpLGEpKSx0aGlzLm5vdGlmeU1vZGlmaWVkRmxhZ3MoMjAwMSksdH1pbnNlcnRQYXRoRnJvbU11bHRpcG9pbnQodCxzLG4saSxyKXtjb25zdCBvPXMuZ2V0SW1wbCgpLGE9dGhpcy5nZXRQYXRoQ291bnQoKTsodD5hfHxuPDApJiZlKFwiXCIpO2NvbnN0IGg9aTwwP28uZ2V0UG9pbnRDb3VudCgpLW46aTtpZihoPm8uZ2V0UG9pbnRDb3VudCgpJiZlKFwiXCIpLG4+PW8uZ2V0UG9pbnRDb3VudCgpJiZlKFwicG9pbnRzT2Zmc2V0XCIpLHQ8MCYmKHQ9YSksdGhpcy5tX2JQYXRoU3RhcnRlZD0hMSx0aGlzLm1lcmdlVmVydGV4RGVzY3JpcHRpb24oby5nZXREZXNjcmlwdGlvbigpKSwwPT09aClyZXR1cm4gdm9pZCB0aGlzLmluc2VydFBhdGgyRCh0LG51bGwsMCwwLCEwKTtjb25zdCB1PXRoaXMubV9wb2ludENvdW50LG09bjt0aGlzLnJlc2l6ZUltcGwodGhpcy5tX3BvaW50Q291bnQraCksdGhpcy52ZXJpZnlBbGxTdHJlYW1zQWZ0ZXJTaXplQ2hhbmdlKCk7Y29uc3QgbD10PGE/dGhpcy5nZXRQYXRoU3RhcnQodCk6dTtmb3IobGV0IGU9MCxkPXRoaXMubV9kZXNjcmlwdGlvbi5nZXRBdHRyaWJ1dGVDb3VudCgpO2U8ZDtlKyspe2NvbnN0IHQ9dGhpcy5tX2Rlc2NyaXB0aW9uLmdldFNlbWFudGljcyhlKSxzPW8uZ2V0RGVzY3JpcHRpb24oKS5nZXRBdHRyaWJ1dGVJbmRleCh0KSxuPWpzLmdldENvbXBvbmVudENvdW50KHQpO2lmKHM+PTApe2NvbnN0IHM9by5nZXRBdHRyaWJ1dGVTdHJlYW1SZWYodCk7dGhpcy5tX3ZlcnRleEF0dHJpYnV0ZXMuZ2V0KGUpLmluc2VydFJhbmdlRnJvbVN0cmVhbShsKm4scyxuKm0sbipoLHIsbixuKnUpfWVsc2V7Y29uc3Qgcz1qcy5nZXREZWZhdWx0VmFsdWUodCk7dGhpcy5tX3ZlcnRleEF0dHJpYnV0ZXMuZ2V0KGUpLmluc2VydFJhbmdlKGwqbixzLG4qaCxuKnUpfX1jb25zdCBjPXUraDt0aGlzLm1fcGF0aHMuYWRkKGMpO2ZvcihsZXQgZT1hO2U+PXQrMTtlLS0pe2NvbnN0IHQ9dGhpcy5tX3BhdGhzLnJlYWQoZS0xKTt0aGlzLm1fcGF0aHMud3JpdGUoZSx0K2gpfXRoaXMubV9wYXRoRmxhZ3MuYWRkKDApO2ZvcihsZXQgZT1hLTE7ZT49dCsxO2UtLSl7bGV0IHQ9dGhpcy5tX3BhdGhGbGFncy5yZWFkKGUpO3QmPS05LHRoaXMubV9wYXRoRmxhZ3Mud3JpdGUoZSsxLHQpfWxldCBnPTA7dGhpcy5tX2JQb2x5Z29uJiYoZ3w9MSksdGhpcy5tX3BhdGhGbGFncy53cml0ZSh0LGcpLHRoaXMubm90aWZ5TW9kaWZpZWRGbGFncygyMDAxKX1pbnNlcnRQb2ludHModCxzLGkscixvLGEsaCl7aWYodGhpcz09PWkmJmUoXCJNdWx0aV9wYXRoX2ltcGwuaW5zZXJ0X3BvaW50c1wiKSx0PDAmJih0PXRoaXMuZ2V0UGF0aENvdW50KCkpLHI8MCYmKHI9aS5nZXRQYXRoQ291bnQoKS0xKSwodD50aGlzLmdldFBhdGhDb3VudCgpfHxzPj0wJiZzPnRoaXMuZ2V0UGF0aFNpemUodCl8fHI+PWkuZ2V0UGF0aENvdW50KCl8fGE+aS5nZXRQYXRoU2l6ZShyKSkmJm4oXCJcIiksIWEpcmV0dXJuO2lmKHRoaXMubWVyZ2VWZXJ0ZXhEZXNjcmlwdGlvbihpLm1fZGVzY3JpcHRpb24pLHQ9PT10aGlzLmdldFBhdGhDb3VudCgpKXt0aGlzLm1fcGF0aHMuYWRkKHRoaXMubV9wb2ludENvdW50KTtsZXQgdD1pLm1fcGF0aEZsYWdzLnJlYWQocik7dCY9LTksdGhpcy5tX2JQb2x5Z29uP3RoaXMubV9wYXRoRmxhZ3MuYWRkKDF8dCk6dGhpcy5tX3BhdGhGbGFncy5hZGQodCl9czwwJiYocz10aGlzLmdldFBhdGhTaXplKHQpKTtjb25zdCB1PXRoaXMubV9wb2ludENvdW50O3RoaXMucmVzaXplSW1wbCh0aGlzLm1fcG9pbnRDb3VudCthKSx0aGlzLnZlcmlmeUFsbFN0cmVhbXNBZnRlclNpemVDaGFuZ2UoKTtjb25zdCBtPXRoaXMuZ2V0UGF0aFN0YXJ0KHQpLGw9bStzO2E8MCYmKGE9aS5nZXRQYXRoU2l6ZShyKSk7Y29uc3QgYz1pLmdldFBhdGhTdGFydChyKSxnPWMrYTtmb3IobGV0IGU9MCxuPXRoaXMubV9kZXNjcmlwdGlvbi5nZXRBdHRyaWJ1dGVDb3VudCgpO2U8bjtlKyspe2NvbnN0IHQ9dGhpcy5tX2Rlc2NyaXB0aW9uLmdldFNlbWFudGljcyhlKSxuPWpzLmdldENvbXBvbmVudENvdW50KHQpLHI9aS5tX2Rlc2NyaXB0aW9uLmdldEF0dHJpYnV0ZUluZGV4KHQpO2lmKHI8MHx8IWkubV92ZXJ0ZXhBdHRyaWJ1dGVzLmdldChyKSl7Y29uc3Qgcz1qcy5nZXREZWZhdWx0VmFsdWUodCk7dGhpcy5tX3ZlcnRleEF0dHJpYnV0ZXMuZ2V0KGUpLmluc2VydFJhbmdlKG4qbCxzLGcqbixuKnUpfWVsc2UgdGhpcy5tX3ZlcnRleEF0dHJpYnV0ZXMuZ2V0KGUpPy5pbnNlcnRSYW5nZUZyb21TdHJlYW0obioobStzKSxpLm1fdmVydGV4QXR0cmlidXRlcy5nZXQociksbiooYytvKSxhKm4saCxuLG4qdSl9dGhpcy5oYXNOb25MaW5lYXJTZWdtZW50cygpJiYodGhpcy5tX2N1cnZlRGF0YS5tX3NlZ21lbnRGbGFncy5pbnNlcnRSYW5nZShtK3MsMSxhLHUpLHRoaXMubV9jdXJ2ZURhdGEubV9zZWdtZW50UGFyYW1JbmRleC5pbnNlcnRSYW5nZShtK3MsLTEsYSx1KSxzPjAmJnRoaXMuaXNOb25MaW5lYXJTZWdtZW50KG0rcy0xKSYmKHRoaXMuaW5jQ3VydmVUeXBlKHRoaXMubV9jdXJ2ZURhdGEubV9zZWdtZW50RmxhZ3MucmVhZChtK3MtMSksLTEpLHRoaXMubV9jdXJ2ZURhdGEubV9zZWdtZW50RmxhZ3Mud3JpdGUobStzLTEsMSksdGhpcy5tX2N1cnZlRGF0YS5tX3NlZ21lbnRQYXJhbUluZGV4LndyaXRlKG0rcy0xLC0xKSx0aGlzLm1vZGlmeUN1cnZlQ291bnRlcigtMSkpKTtmb3IobGV0IGU9dCsxLG49dGhpcy5nZXRQYXRoQ291bnQoKTtlPD1uO2UrKyl7Y29uc3QgdD10aGlzLm1fcGF0aHMucmVhZChlKTt0aGlzLm1fcGF0aHMud3JpdGUoZSx0K2EpfXRoaXMubm90aWZ5TW9kaWZpZWRGbGFncygyMDAxKX1pbnNlcnRQb2ludHNGcm9tUG9pbnRzKHQsZSxzLGkscixvKXtpZih0PDAmJih0PXRoaXMuZ2V0UGF0aENvdW50KCkpLCh0PnRoaXMuZ2V0UGF0aENvdW50KCl8fGU+dGhpcy5nZXRQYXRoU2l6ZSh0KXx8aTwwKSYmbihcIlwiKSwhcilyZXR1cm47dD09PXRoaXMuZ2V0UGF0aENvdW50KCkmJih0aGlzLm1fcGF0aHMuYWRkKHRoaXMubV9wb2ludENvdW50KSx0aGlzLm1fYlBvbHlnb24/dGhpcy5tX3BhdGhGbGFncy5hZGQoMSk6dGhpcy5tX3BhdGhGbGFncy5hZGQoMCkpLGU8MCYmKGU9dGhpcy5nZXRQYXRoU2l6ZSh0KSk7Y29uc3QgYT10aGlzLm1fcG9pbnRDb3VudDt0aGlzLnJlc2l6ZUltcGwodGhpcy5tX3BvaW50Q291bnQrciksdGhpcy52ZXJpZnlBbGxTdHJlYW1zQWZ0ZXJTaXplQ2hhbmdlKCk7Y29uc3QgaD10aGlzLmdldFBhdGhTdGFydCh0KTt0aGlzLm1fdmVydGV4QXR0cmlidXRlcy5nZXQoMCkuaW5zZXJ0UmFuZ2VGcm9tUG9pbnRzKDIqKGgrZSkscyxpLHIsbywyKmEpO2ZvcihsZXQgbj0xLHU9dGhpcy5tX2Rlc2NyaXB0aW9uLmdldEF0dHJpYnV0ZUNvdW50KCk7bjx1O24rKyl7Y29uc3QgdD10aGlzLm1fZGVzY3JpcHRpb24uZ2V0U2VtYW50aWNzKG4pLHM9anMuZ2V0Q29tcG9uZW50Q291bnQodCksaT1qcy5nZXREZWZhdWx0VmFsdWUodCk7dGhpcy5tX3ZlcnRleEF0dHJpYnV0ZXMuZ2V0KG4pLmluc2VydFJhbmdlKChoK2UpKnMsaSxzKnIscyphKX10aGlzLmhhc05vbkxpbmVhclNlZ21lbnRzKCkmJih0aGlzLm1fY3VydmVEYXRhLm1fc2VnbWVudEZsYWdzLmluc2VydFJhbmdlKGgrZSwxLHIsYSksdGhpcy5tX2N1cnZlRGF0YS5tX3NlZ21lbnRQYXJhbUluZGV4Lmluc2VydFJhbmdlKGgrZSwtMSxyLGEpLGU+MCYmdGhpcy5pc05vbkxpbmVhclNlZ21lbnQoaCtlLTEpJiYodGhpcy5pbmNDdXJ2ZVR5cGUodGhpcy5tX2N1cnZlRGF0YS5tX3NlZ21lbnRGbGFncy5yZWFkKGgrZS0xKSwtMSksdGhpcy5tX2N1cnZlRGF0YS5tX3NlZ21lbnRGbGFncy53cml0ZShoK2UtMSwxKSx0aGlzLm1fY3VydmVEYXRhLm1fc2VnbWVudFBhcmFtSW5kZXgud3JpdGUoaCtlLTEsLTEpLHRoaXMubW9kaWZ5Q3VydmVDb3VudGVyKC0xKSkpO2ZvcihsZXQgbj10KzEsdT10aGlzLmdldFBhdGhDb3VudCgpO248PXU7bisrKXRoaXMubV9wYXRocy53cml0ZShuLHRoaXMubV9wYXRocy5yZWFkKG4pK3IpO3RoaXMubm90aWZ5TW9kaWZpZWRGbGFncygyMDAxKX1pbnNlcnRQb2ludHNGcm9tTXVsdGlwb2ludCh0LGUscyxpLHIsbyl7Y29uc3QgYT1zLmdldEltcGwoKSxoPXRoaXMuZ2V0UGF0aENvdW50KCk7dDwwJiYodD10aGlzLmdldFBhdGhDb3VudCgpKTtjb25zdCB1PWEuZ2V0UG9pbnRDb3VudCgpO2lmKChpPDB8fGk+dSkmJm4oXCJcIiksKHI8MHx8aStyPnUpJiYocj11LWkpLGU8MCYmKGU9dDxoP3RoaXMuZ2V0UGF0aFNpemUodCk6MCksKHQ+aHx8dDxoJiZlPnRoaXMuZ2V0UGF0aFNpemUodCl8fHQ9PT1oJiZlPjB8fHI8MCkmJm4oXCJcIiksIXIpcmV0dXJuO2lmKHRoaXMubWVyZ2VWZXJ0ZXhEZXNjcmlwdGlvbihhLmdldERlc2NyaXB0aW9uKCkpLHQ9PT1oKXt0aGlzLm1fcGF0aHMuYWRkKHRoaXMubV9wb2ludENvdW50KTtjb25zdCB0PTA7dGhpcy5tX2JQb2x5Z29uP3RoaXMubV9wYXRoRmxhZ3MuYWRkKDF8dCk6dGhpcy5tX3BhdGhGbGFncy5hZGQodCl9ZTwwJiYoZT10aGlzLmdldFBhdGhTaXplKHQpKTtjb25zdCBtPXRoaXMubV9wb2ludENvdW50O3RoaXMucmVzaXplSW1wbCh0aGlzLm1fcG9pbnRDb3VudCtyKSx0aGlzLnZlcmlmeUFsbFN0cmVhbXNBZnRlclNpemVDaGFuZ2UoKTtjb25zdCBsPXRoaXMuZ2V0UGF0aFN0YXJ0KHQpLGM9bCtlLGc9MCxkPWcrcjtmb3IobGV0IG49MCxfPXRoaXMubV9kZXNjcmlwdGlvbi5nZXRBdHRyaWJ1dGVDb3VudCgpO248XztuKyspe2NvbnN0IHQ9dGhpcy5tX2Rlc2NyaXB0aW9uLmdldFNlbWFudGljcyhuKSxzPWpzLmdldENvbXBvbmVudENvdW50KHQpO2lmKGEuZ2V0RGVzY3JpcHRpb24oKS5nZXRBdHRyaWJ1dGVJbmRleCh0KTwwKXtjb25zdCBlPWpzLmdldERlZmF1bHRWYWx1ZSh0KTt0aGlzLm1fdmVydGV4QXR0cmlidXRlcy5nZXQobikuaW5zZXJ0UmFuZ2UocypjLGUsZCpzLHMqbSk7Y29udGludWV9Y29uc3QgaD1hLmdldEF0dHJpYnV0ZVN0cmVhbVJlZih0KTt0aGlzLm1fdmVydGV4QXR0cmlidXRlcy5nZXQobikuaW5zZXJ0UmFuZ2VGcm9tU3RyZWFtKHMqKGwrZSksaCxzKihnK2kpLHIqcyxvLHMscyptKX10aGlzLmhhc05vbkxpbmVhclNlZ21lbnRzKCkmJih0aGlzLm1fY3VydmVEYXRhLm1fc2VnbWVudEZsYWdzLmluc2VydFJhbmdlKGwrZSwxLHIsbSksdGhpcy5tX2N1cnZlRGF0YS5tX3NlZ21lbnRQYXJhbUluZGV4Lmluc2VydFJhbmdlKGwrZSwtMSxyLG0pLGU+MCYmdGhpcy5pc05vbkxpbmVhclNlZ21lbnQobCtlLTEpJiYodGhpcy5pbmNDdXJ2ZVR5cGUodGhpcy5tX2N1cnZlRGF0YS5tX3NlZ21lbnRGbGFncy5yZWFkKGwrZS0xKSwtMSksdGhpcy5tX2N1cnZlRGF0YS5tX3NlZ21lbnRGbGFncy53cml0ZShsK2UtMSwxKSx0aGlzLm1fY3VydmVEYXRhLm1fc2VnbWVudFBhcmFtSW5kZXgud3JpdGUobCtlLTEsLTEpLHRoaXMubW9kaWZ5Q3VydmVDb3VudGVyKC0xKSkpO2ZvcihsZXQgbj10KzEsXz10aGlzLmdldFBhdGhDb3VudCgpO248PV87bisrKXtjb25zdCB0PXRoaXMubV9wYXRocy5yZWFkKG4pO3RoaXMubV9wYXRocy53cml0ZShuLHQrcil9dGhpcy5ub3RpZnlNb2RpZmllZEZsYWdzKDIwMDEpfWluc2VydFBvaW50MkQodCxlLHMpe2NvbnN0IGk9dGhpcy5nZXRQYXRoQ291bnQoKTt0PDAmJih0PWkpLCh0Pml8fHQ8aSYmZT50aGlzLmdldFBhdGhTaXplKHQpKSYmbihcIlwiKSx0PT09aSYmdGhpcy5hZGRQYXRoUG9pbnQyRChudWxsLDAsITApO2NvbnN0IHI9dGhpcy5tX3BvaW50Q291bnQ7dGhpcy5yZXNpemVJbXBsKHRoaXMubV9wb2ludENvdW50KzEpLHRoaXMudmVyaWZ5QWxsU3RyZWFtc0FmdGVyU2l6ZUNoYW5nZSgpO2NvbnN0IG89dGhpcy5nZXRQYXRoU3RhcnQodCksYT1lPDA/dGhpcy5nZXRQYXRoU2l6ZSh0KStvOmUrbyxoPXRoaXMubV92ZXJ0ZXhBdHRyaWJ1dGVzLmdldCgwKTtpZihhPT09cil0aGlzLm1fcGF0aHMud3JpdGUodCsxLHIrMSksaC53cml0ZVBvaW50MkQoMiphLHMpO2Vsc2V7aC5pbnNlcnQoMiphLHMsMipyKTtmb3IobGV0IHQ9MSxlPXRoaXMubV9kZXNjcmlwdGlvbi5nZXRBdHRyaWJ1dGVDb3VudCgpO3Q8ZTt0Kyspe2NvbnN0IGU9dGhpcy5tX2Rlc2NyaXB0aW9uLmdldFNlbWFudGljcyh0KSxzPWpzLmdldENvbXBvbmVudENvdW50KGUpLG49anMuZ2V0RGVmYXVsdFZhbHVlKGUpO3RoaXMubV92ZXJ0ZXhBdHRyaWJ1dGVzLmdldCh0KS5pbnNlcnRSYW5nZShzKmEsbixzLHMqcil9dGhpcy5tX2N1cnZlRGF0YSYmdGhpcy5tX2N1cnZlRGF0YS5tX3NlZ21lbnRGbGFncyYmKHRoaXMubV9jdXJ2ZURhdGEubV9zZWdtZW50RmxhZ3MuaW5zZXJ0UmFuZ2UoYSwxLDEsciksdGhpcy5tX2N1cnZlRGF0YS5tX3NlZ21lbnRQYXJhbUluZGV4Lmluc2VydFJhbmdlKGEsLTEsMSxyKSk7Zm9yKGxldCBlPXQrMSxzPWk7ZTw9cztlKyspdGhpcy5tX3BhdGhzLndyaXRlKGUsdGhpcy5tX3BhdGhzLnJlYWQoZSkrMSl9dGhpcy5tX2N1cnZlRGF0YSYmdGhpcy5tX2N1cnZlRGF0YS5tX3NlZ21lbnRGbGFncyYmYT5vJiZ0aGlzLmlzTm9uTGluZWFyU2VnbWVudChhLTEpJiYodGhpcy5pbmNDdXJ2ZVR5cGUodGhpcy5tX2N1cnZlRGF0YS5tX3NlZ21lbnRGbGFncy5yZWFkKGEtMSksLTEpLHRoaXMubW9kaWZ5Q3VydmVDb3VudGVyKC0xKSx0aGlzLm1fY3VydmVEYXRhLm1fc2VnbWVudEZsYWdzLndyaXRlKGEtMSwxKSx0aGlzLm1fY3VydmVEYXRhLm1fc2VnbWVudFBhcmFtSW5kZXgud3JpdGUoYS0xLC0xKSksdGhpcy5ub3RpZnlNb2RpZmllZEZsYWdzKDIwMDEpfWluc2VydFBvaW50KHQsZSxzKXtjb25zdCBpPXRoaXMuZ2V0UGF0aENvdW50KCk7dDwwJiYodD1pKSwodD5pfHx0PGkmJmU+dGhpcy5nZXRQYXRoU2l6ZSh0KSkmJm4oXCJcIiksdD09PWkmJnRoaXMuYWRkUGF0aFBvaW50MkQobnVsbCwwLCEwKTtjb25zdCByPXRoaXMubV9wb2ludENvdW50O3RoaXMucmVzaXplSW1wbCh0aGlzLm1fcG9pbnRDb3VudCsxKSx0aGlzLnZlcmlmeUFsbFN0cmVhbXNBZnRlclNpemVDaGFuZ2UoKTtjb25zdCBvPXRoaXMuZ2V0UGF0aFN0YXJ0KHQpLGE9ZTwwP3RoaXMuZ2V0UGF0aFNpemUodCkrbzplK287aWYoYT09PXIpdGhpcy5tX3BhdGhzLndyaXRlKHQrMSxyKzEpLHRoaXMuc2V0UG9pbnRCeVZhbE5vQ3VydmVzKGEscyk7ZWxzZXtjb25zdCBlPXMuZ2V0RGVzY3JpcHRpb24oKTt0aGlzLm1fZGVzY3JpcHRpb24hPT1lJiZ0aGlzLm1lcmdlVmVydGV4RGVzY3JpcHRpb24oZSk7Zm9yKGxldCB0PTAsbj10aGlzLm1fZGVzY3JpcHRpb24uZ2V0QXR0cmlidXRlQ291bnQoKTt0PG47dCsrKXtjb25zdCBuPXRoaXMubV9kZXNjcmlwdGlvbi5nZXRTZW1hbnRpY3ModCksaT1qcy5nZXRDb21wb25lbnRDb3VudChuKTtpZihlLmhhc0F0dHJpYnV0ZShuKSl0aGlzLm1fdmVydGV4QXR0cmlidXRlcy5nZXQodCkuaW5zZXJ0QXR0cmlidXRlcyhpKmEscyxuLGkqcik7ZWxzZXtjb25zdCBlPWpzLmdldERlZmF1bHRWYWx1ZShuKTt0aGlzLm1fdmVydGV4QXR0cmlidXRlcy5nZXQodCkuaW5zZXJ0UmFuZ2UoaSphLGUsaSxpKnIpfX10aGlzLm1fY3VydmVEYXRhJiZ0aGlzLm1fY3VydmVEYXRhLm1fc2VnbWVudEZsYWdzJiYodGhpcy5tX2N1cnZlRGF0YS5tX3NlZ21lbnRGbGFncy5pbnNlcnRSYW5nZShhLDEsMSxyKSx0aGlzLm1fY3VydmVEYXRhLm1fc2VnbWVudFBhcmFtSW5kZXguaW5zZXJ0UmFuZ2UoYSwtMSwxLHIpKTtmb3IobGV0IHM9dCsxLG49aTtzPD1uO3MrKyl0aGlzLm1fcGF0aHMud3JpdGUocyx0aGlzLm1fcGF0aHMucmVhZChzKSsxKX10aGlzLm1fY3VydmVEYXRhJiZ0aGlzLm1fY3VydmVEYXRhLm1fc2VnbWVudEZsYWdzJiZhPm8mJnRoaXMuaXNOb25MaW5lYXJTZWdtZW50KGEtMSkmJih0aGlzLmluY0N1cnZlVHlwZSh0aGlzLm1fY3VydmVEYXRhLm1fc2VnbWVudEZsYWdzLnJlYWQoYS0xKSwtMSksdGhpcy5tb2RpZnlDdXJ2ZUNvdW50ZXIoLTEpLHRoaXMubV9jdXJ2ZURhdGEubV9zZWdtZW50RmxhZ3Mud3JpdGUoYS0xLDEpLHRoaXMubV9jdXJ2ZURhdGEubV9zZWdtZW50UGFyYW1JbmRleC53cml0ZShhLTEsLTEpKSx0aGlzLm5vdGlmeU1vZGlmaWVkRmxhZ3MoMjAwMSl9cmVtb3ZlUG9pbnRGcm9tUGF0aCh0LGUpe2NvbnN0IHM9dGhpcy5nZXRQYXRoQ291bnQoKTt0PDAmJih0PXMtMSksKHQ+PXN8fGU+PXRoaXMuZ2V0UGF0aFNpemUodCkpJiZuKFwiTXVsdGlfcGF0aC5yZW1vdmVfcG9pbnRcIik7Y29uc3QgaT10aGlzLmdldFBhdGhTdGFydCh0KSxyPXRoaXMuaXNDbG9zZWRQYXRoKHQpO2U8MCYmKGU9dGhpcy5nZXRQYXRoU2l6ZSh0KS0xKSxlPDAmJm4oXCJNdWx0aV9wYXRoLnJlbW92ZV9wb2ludFwiKTtjb25zdCBvPWkrZTtmb3IobGV0IG49MCxhPXRoaXMubV9kZXNjcmlwdGlvbi5nZXRBdHRyaWJ1dGVDb3VudCgpO248YTtuKyspaWYodGhpcy5tX3ZlcnRleEF0dHJpYnV0ZXMuZ2V0KG4pKXtjb25zdCB0PXRoaXMubV9kZXNjcmlwdGlvbi5nZXRTZW1hbnRpY3MobiksZT1qcy5nZXRDb21wb25lbnRDb3VudCh0KTt0aGlzLm1fdmVydGV4QXR0cmlidXRlcy5nZXQobikuZXJhc2VSYW5nZShlKm8sZSxlKnRoaXMubV9wb2ludENvdW50KX1pZih0aGlzLm1fY3VydmVEYXRhJiZ0aGlzLm1fY3VydmVEYXRhLm1fc2VnbWVudEZsYWdzKXt0aGlzLmNoZWNrQ29tcGFjdFNlZ21lbnRQYXJhbXMoKTtsZXQgZT0wO2lmKG8+aSYmdGhpcy5pc05vbkxpbmVhclNlZ21lbnQoby0xKSllKz0xLHRoaXMuaW5jQ3VydmVUeXBlKHRoaXMubV9jdXJ2ZURhdGEubV9zZWdtZW50RmxhZ3MucmVhZChvLTEpLC0xKSx0aGlzLm1fY3VydmVEYXRhLm1fc2VnbWVudEZsYWdzLndyaXRlKG8tMSwxKSx0aGlzLm1fY3VydmVEYXRhLm1fc2VnbWVudFBhcmFtSW5kZXgud3JpdGUoby0xLC0xKTtlbHNle2NvbnN0IHM9dGhpcy5nZXRQYXRoRW5kKHQpO3ImJmkrMTxzJiZ0aGlzLmlzTm9uTGluZWFyU2VnbWVudChzLTEpJiYodGhpcy5pbmNDdXJ2ZVR5cGUodGhpcy5tX2N1cnZlRGF0YS5tX3NlZ21lbnRGbGFncy5yZWFkKHMtMSksLTEpLHRoaXMubV9jdXJ2ZURhdGEubV9zZWdtZW50RmxhZ3Mud3JpdGUocy0xLDEpLHRoaXMubV9jdXJ2ZURhdGEubV9zZWdtZW50UGFyYW1JbmRleC53cml0ZShzLTEsLTEpLGUrPTEpfXRoaXMuaXNOb25MaW5lYXJTZWdtZW50KG8pJiYodGhpcy5pbmNDdXJ2ZVR5cGUodGhpcy5tX2N1cnZlRGF0YS5tX3NlZ21lbnRGbGFncy5yZWFkKG8pLC0xKSxlKz0xKSxlPjAmJnRoaXMubW9kaWZ5Q3VydmVDb3VudGVyKC1lKSx0aGlzLm1fY3VydmVEYXRhLm1fc2VnbWVudEZsYWdzLmVyYXNlUmFuZ2UobywxLHRoaXMubV9wb2ludENvdW50KSx0aGlzLm1fY3VydmVEYXRhLm1fc2VnbWVudFBhcmFtSW5kZXguZXJhc2VSYW5nZShvLDEsdGhpcy5tX3BvaW50Q291bnQpfWZvcihsZXQgbj1zO24+PXQrMTtuLS0pe2NvbnN0IHQ9dGhpcy5tX3BhdGhzLnJlYWQobik7dGhpcy5tX3BhdGhzLndyaXRlKG4sdC0xKX10aGlzLm1fcG9pbnRDb3VudC0tLHRoaXMubV9yZXNlcnZlZFBvaW50Q291bnQtLSx0aGlzLm5vdGlmeU1vZGlmaWVkRmxhZ3MoMjAwMSl9cmVtb3ZlUG9pbnQodCl7bGV0IGU7ZT10PDA/dGhpcy5nZXRQYXRoQ291bnQoKS0xOnRoaXMuZ2V0UGF0aEluZGV4RnJvbVBvaW50SW5kZXgodCksdGhpcy5yZW1vdmVQb2ludEZyb21QYXRoKGUsdC10aGlzLmdldFBhdGhTdGFydChlKSl9Z2V0TmV4dFNlZ21lbnRUeXBlKHQpe3JldHVybiB0aGlzLmhhc05vbkxpbmVhclNlZ21lbnRzKCk/dGhpcy5tX2N1cnZlRGF0YS5tX3NlZ21lbnRGbGFncy5yZWFkKHQpOjF9Z2V0UHJldlNlZ21lbnRUeXBlRnJvbVBhdGgodCxlKXtpZighdGhpcy5oYXNOb25MaW5lYXJTZWdtZW50cygpKXJldHVybiAxO2NvbnN0IHM9dGhpcy5nZXRQYXRoU3RhcnQodCk7aWYoZT5zKXJldHVybiB0aGlzLm1fY3VydmVEYXRhLm1fc2VnbWVudEZsYWdzLnJlYWQoZS0xKTtpZihlPT09cyl7aWYodGhpcy5pc0Nsb3NlZFBhdGgodCkpe2NvbnN0IGU9dGhpcy5nZXRQYXRoRW5kKHQpO3JldHVybiB0aGlzLm1fY3VydmVEYXRhLm1fc2VnbWVudEZsYWdzLnJlYWQoZS0xKX1yZXR1cm4gMX1oKFwiXCIpfWdldE51bWJlck9mQ3VydmVzKHQpe2lmKCF0aGlzLmhhc05vbkxpbmVhclNlZ21lbnRzKCkpcmV0dXJuIDA7bGV0IGU9MDtmb3IobGV0IHM9dGhpcy5nZXRQYXRoU3RhcnQodCksbj10aGlzLmdldFBhdGhFbmQodCk7czxuO3MrKylIcy5pc05vbkxpbmVhclNlZ21lbnRGbGFnKHRoaXMubV9jdXJ2ZURhdGEubV9zZWdtZW50RmxhZ3MucmVhZChzKSkmJisrZTtyZXR1cm4gZX1nZXRQYXRoQ291bnQoKXtyZXR1cm4gdGhpcy5tX3BhdGhzP3RoaXMubV9wYXRocy5zaXplKCktMTowfWdldFBhdGhTaXplKHQpe3JldHVybiB0aGlzLm1fcGF0aHMucmVhZCh0KzEpLXRoaXMubV9wYXRocy5yZWFkKHQpfWdldFBhdGhTdGFydCh0KXtyZXR1cm4gdGhpcy5tX3BhdGhzLnJlYWQodCl9Z2V0UGF0aEVuZCh0KXtyZXR1cm4gdGhpcy5tX3BhdGhzLnJlYWQodCsxKX1nZXRQYXRoSW5kZXhGcm9tUG9pbnRJbmRleCh0LGU9LTEpey0xPT09ZSYmKGU9dGhpcy5tX2N1cnJlbnRQYXRoSW5kZXgpO2NvbnN0IHM9dGhpcy5nZXRQYXRoQ291bnQoKSxuPUhzLmdldFBhdGhJbmRleEZyb21Qb2ludEluZGV4SW1wbCh0aGlzLm1fcGF0aHMscyx0LGUpO3JldHVybiB0aGlzLm1fY3VycmVudFBhdGhJbmRleD1uLG59c3RhcnRQYXRoQ29vcmRzKHQsZSl7dGhpcy5zdGFydFBhdGhQb2ludChuZXcgcSh7eDp0LHk6ZX0pKX1zdGFydFBhdGgodCl7dGhpcy5zdGFydFBhdGhQb2ludChuZXcgcSh7cHQ6dH0pKX1zdGFydFBhdGgzRCh0KXt0aGlzLnN0YXJ0UGF0aFBvaW50KG5ldyBxKHt4OnQueCx5OnQueSx6OnQuen0pKX1zdGFydFBhdGgzRENvb3Jkcyh0LGUscyl7dGhpcy5zdGFydFBhdGhQb2ludChuZXcgcSh7eDp0LHk6ZSx6OnN9KSl9c3RhcnRQYXRoUG9pbnQodCl7dC5pc0VtcHR5KCkmJmUoXCJcIik7Y29uc3Qgcz10LmdldERlc2NyaXB0aW9uKCk7bGV0IG47aWYodGhpcy5tX2Rlc2NyaXB0aW9uIT09cyl7dGhpcy5tZXJnZVZlcnRleERlc2NyaXB0aW9uKHMpO2NvbnN0IGU9bmV3IHEoe3ZkOnRoaXMubV9kZXNjcmlwdGlvbn0pO3QuY29weUNvbW1vbkF0dHJpYnV0ZXNUbyhlKSxuPWV9ZWxzZSBuPXQ7dGhpcy5tX2JQYXRoU3RhcnRlZD90aGlzLnNldFBvaW50QnlWYWxOb0N1cnZlcyh0aGlzLm1fcG9pbnRDb3VudC0xLG4pOih0aGlzLmluc2VydFBvaW50KC0xLC0xLG4pLHRoaXMubV9iUGF0aFN0YXJ0ZWQ9ITApfWJlZm9yZU5ld1NlZ21lbnRIZWxwZXIyKCl7dGhpcy5tX3BhdGhzPVYoMiksdGhpcy5tX3BhdGhzLndyaXRlKDAsMCksdGhpcy5tX3BhdGhGbGFncz1MKDIsMCksdGhpcy5tX2JQb2x5Z29uJiZ0aGlzLm1fcGF0aEZsYWdzLndyaXRlKDAsMSl9YmVmb3JlTmV3U2VnbWVudEhlbHBlcjEoKXtudWxsIT09dGhpcy5tX3BhdGhzPyh0aGlzLm1fcGF0aHMuYWRkKDApLHRoaXMubV9wYXRoRmxhZ3MuYWRkKDApLHRoaXMubV9iUG9seWdvbiYmdGhpcy5tX3BhdGhGbGFncy53cml0ZSh0aGlzLm1fcGF0aEZsYWdzLnNpemUoKS0yLDEpKTp0aGlzLmJlZm9yZU5ld1NlZ21lbnRIZWxwZXIyKCl9YmVmb3JlTmV3U2VnbWVudCh0KXswIT09dGhpcy5tX3BvaW50Q291bnR8fHRoaXMubV9iUGF0aFN0YXJ0ZWR8fHRoaXMuc3RhcnRQYXRoQ29vcmRzKDAsMCk7Y29uc3QgZT10aGlzLm1fcG9pbnRDb3VudCxzPXRoaXMubV9wYXRocy5zaXplKCktMSxuPWUrdDt0aGlzLm1fcGF0aHMud3JpdGUocyxuKSx0aGlzLnJlc2l6ZUltcGwobiksdGhpcy5tX2JQYXRoU3RhcnRlZCYmKHRoaXMubV9iUGF0aFN0YXJ0ZWQ9ITEpfWZpbmlzaExpbmVUbygpe2lmKHRoaXMuaGFzTm9uTGluZWFyU2VnbWVudHMoKSl7Y29uc3QgdD10aGlzLm1fY3VydmVEYXRhLm1fc2VnbWVudEZsYWdzLnJlYWQodGhpcy5tX3BvaW50Q291bnQtMSk7MSE9PXQmJih0aGlzLm1fY3VydmVEYXRhLm1fc2VnbWVudEZsYWdzLndyaXRlKHRoaXMubV9wb2ludENvdW50LTEsMSksdGhpcy5tX2N1cnZlRGF0YS5tX3NlZ21lbnRQYXJhbUluZGV4LndyaXRlKHRoaXMubV9wb2ludENvdW50LTEsLTEpLHRoaXMubW9kaWZ5Q3VydmVDb3VudGVyKC0xKSx0aGlzLmluY0N1cnZlVHlwZSh0LC0xKSl9fWxpbmVUb0Nvb3Jkcyh0LGUpe2lmKHRoaXMuYmVmb3JlTmV3U2VnbWVudCgxKSwxPT09dGhpcy5tX2Rlc2NyaXB0aW9uLmdldEF0dHJpYnV0ZUNvdW50KCkpdGhpcy5zZXRYWUNvb3Jkc05vQ3VydmVzKHRoaXMubV9wb2ludENvdW50LTEsdCxlKTtlbHNle2NvbnN0IHM9RCgpLG49bmV3IHEoe3ZkOnRoaXMubV9kZXNjcmlwdGlvbixhdHRyaWJCdWZmZXI6cyxpbml0RGVmYXVsdFZhbHVlczohMH0pO24uc2V0WFlDb29yZHModCxlKSx0aGlzLnNldFBvaW50QnlWYWxOb0N1cnZlcyh0aGlzLm1fcG9pbnRDb3VudC0xLG4pfXRoaXMuZmluaXNoTGluZVRvKCl9bGluZVRvKHQpe3RoaXMubGluZVRvQ29vcmRzKHQueCx0LnkpfWxpbmVUbzNEKHQpe3RoaXMuYmVmb3JlTmV3U2VnbWVudCgxKTtjb25zdCBlPXgodGhpcy5tX2Rlc2NyaXB0aW9uLFgoKSkscz1EKCksbj1uZXcgcSh7dmQ6ZSxhdHRyaWJCdWZmZXI6cyxpbml0RGVmYXVsdFZhbHVlczohMH0pO24uc2V0WFlaKHQpLHRoaXMuc2V0UG9pbnRCeVZhbE5vQ3VydmVzKHRoaXMubV9wb2ludENvdW50LTEsbiksdGhpcy5maW5pc2hMaW5lVG8oKX1saW5lVG8zRENvb3Jkcyh0LGUscyl7dGhpcy5saW5lVG8zRChuZXcgUyh0LGUscykpfWxpbmVUb1BvaW50KHQpe2lmKHRoaXMuYmVmb3JlTmV3U2VnbWVudCgxKSx0aGlzLm1fZGVzY3JpcHRpb249PT10LmdldERlc2NyaXB0aW9uKCkpdGhpcy5zZXRQb2ludEJ5VmFsTm9DdXJ2ZXModGhpcy5tX3BvaW50Q291bnQtMSx0KTtlbHNle3RoaXMubWVyZ2VWZXJ0ZXhEZXNjcmlwdGlvbih0LmdldERlc2NyaXB0aW9uKCkpO2NvbnN0IGU9RCgpLHM9bmV3IHEoe3ZkOnRoaXMubV9kZXNjcmlwdGlvbixhdHRyaWJCdWZmZXI6ZSxpbml0RGVmYXVsdFZhbHVlczohMX0pO3QuY29weUNvbW1vbkF0dHJpYnV0ZXNUbyhzKSx0aGlzLnNldFBvaW50QnlWYWxOb0N1cnZlcyh0aGlzLm1fcG9pbnRDb3VudC0xLHMpfXRoaXMuZmluaXNoTGluZVRvKCl9b3BlblBhdGhBbmREdXBsaWNhdGVTdGFydFZlcnRleCh0KXt0aGlzLm1fYlBvbHlnb24mJmgoXCJcIik7Y29uc3Qgcz10aGlzLmdldFBhdGhDb3VudCgpO2lmKHQ+cyYmZShcIlwiKSwhdGhpcy5pc0Nsb3NlZFBhdGgodCkpcmV0dXJuO3RoaXMubV9wYXRoRmxhZ3N8fGgoXCJcIik7Y29uc3Qgbj10aGlzLm1fcG9pbnRDb3VudCxpPXRoaXMuZ2V0UGF0aFN0YXJ0KHQpLHI9dGhpcy5nZXRQYXRoRW5kKHQpO2lmKHItaSE9PTApe3RoaXMucmVzaXplSW1wbCh0aGlzLm1fcG9pbnRDb3VudCsxKSx0aGlzLnZlcmlmeUFsbFN0cmVhbXNBZnRlclNpemVDaGFuZ2UoKTtmb3IobGV0IHQ9MCxlPXRoaXMubV9kZXNjcmlwdGlvbi5nZXRBdHRyaWJ1dGVDb3VudCgpO3Q8ZTt0KyspaWYodGhpcy5tX3ZlcnRleEF0dHJpYnV0ZXMuZ2V0KHQpKXtjb25zdCBlPXRoaXMubV9kZXNjcmlwdGlvbi5nZXRTZW1hbnRpY3ModCkscz1qcy5nZXRDb21wb25lbnRDb3VudChlKTt0aGlzLm1fdmVydGV4QXR0cmlidXRlcy5nZXQodCkuaW5zZXJ0UmFuZ2VGcm9tU3RyZWFtKHMqcix0aGlzLm1fdmVydGV4QXR0cmlidXRlcy5nZXQodCkscyppLHMsITAsMSxzKm4pfWZvcihsZXQgZT1zO2U+dDtlLS0pe2NvbnN0IHQ9dGhpcy5tX3BhdGhzLnJlYWQoZSk7dGhpcy5tX3BhdGhzLndyaXRlKGUsdCsxKX10aGlzLmhhc05vbkxpbmVhclNlZ21lbnRzKCkmJih0aGlzLm1fY3VydmVEYXRhLm1fc2VnbWVudEZsYWdzLmluc2VydFJhbmdlKHIsMSwxLG4pLHRoaXMubV9jdXJ2ZURhdGEubV9zZWdtZW50UGFyYW1JbmRleC5pbnNlcnRSYW5nZShyLC0xLDEsbikpLHRoaXMubV9wYXRoRmxhZ3MuY2xlYXJCaXRzKHQsMSl9fW9wZW5QYXRoKHQpe3RoaXMubV9iUG9seWdvbiYmaChcIlwiKSx0PnRoaXMuZ2V0UGF0aENvdW50KCkmJmUoXCJcIiksdGhpcy5tX3BhdGhGbGFnc3x8aChcIlwiKSx0aGlzLm1fcGF0aEZsYWdzLmNsZWFyQml0cyh0LDEpfWlzU3Ryb25nUGF0aFN0YXJ0KHQpe3JldHVybiEhKDImdGhpcy5tX3BhdGhGbGFncy5yZWFkKHQpKX1zZXRTdHJvbmdQYXRoU3RhcnQodCxlKXtlP3RoaXMubV9wYXRoRmxhZ3Muc2V0Qml0cyh0LDIpOnRoaXMubV9wYXRoRmxhZ3MuY2xlYXJCaXRzKHQsMil9aXNTdHJvbmdQYXRoRW5kKHQpe3JldHVybiEhKDQmdGhpcy5tX3BhdGhGbGFncy5yZWFkKHQpKX1zZXRTdHJvbmdQYXRoRW5kKHQsZSl7ZT90aGlzLm1fcGF0aEZsYWdzLnNldEJpdHModCw0KTp0aGlzLm1fcGF0aEZsYWdzLmNsZWFyQml0cyh0LDQpfWNsZWFyU3Ryb25nUGF0aEVuZHMoKXtmb3IobGV0IHQ9MCxlPXRoaXMuZ2V0UGF0aENvdW50KCk7dDxlOysrdCl0aGlzLm1fcGF0aEZsYWdzLmNsZWFyQml0cyh0LDYpfW9wZW5BbGxQYXRoc0FuZER1cGxpY2F0ZVN0YXJ0VmVydGV4KCl7aWYodGhpcy5tX2JQb2x5Z29uJiZoKFwiXCIpLHRoaXMuaXNFbXB0eSgpKXJldHVybjt0aGlzLm1fcGF0aEZsYWdzfHxoKFwiXCIpO2xldCB0PTA7Y29uc3QgZT10aGlzLmdldFBhdGhDb3VudCgpO2ZvcihsZXQgaD0wO2g8ZTtoKyspdGhpcy5pc0Nsb3NlZFBhdGgoaCkmJih0aGlzLmdldFBhdGhTaXplKGgpPjA/dCsrOnRoaXMubV9wYXRoRmxhZ3MuY2xlYXJCaXRzKGgsMSkpO2lmKDA9PT10KXJldHVybjtjb25zdCBzPXRoaXMuaGFzTm9uTGluZWFyU2VnbWVudHMoKTtsZXQgbj0wO2NvbnN0IGk9dGhpcy5nZXRQYXRoQ291bnQoKSxyPXRoaXMubV9kZXNjcmlwdGlvbi5nZXRBdHRyaWJ1dGVDb3VudCgpLG89bmV3IEFycmF5KHIpO2xldCBhPW51bGwsdT1udWxsO2ZvcihsZXQgaD0wO2g8aTsrK2gpe2NvbnN0IGU9dGhpcy5nZXRQYXRoU3RhcnQoaCksaT10aGlzLmdldFBhdGhTaXplKGgpLG09dGhpcy5pc0Nsb3NlZFBhdGgoaCk7aWYoaT4wKXtjb25zdCBoPWUrbjtmb3IobGV0IHM9MDtzPHI7cysrKWlmKHRoaXMubV92ZXJ0ZXhBdHRyaWJ1dGVzLmdldChzKSl7Y29uc3Qgbj10aGlzLm1fZGVzY3JpcHRpb24uZ2V0U2VtYW50aWNzKHMpLHI9anMuZ2V0Q29tcG9uZW50Q291bnQobik7aWYoIW9bc10pe2NvbnN0IGU9cioodGhpcy5tX3BvaW50Q291bnQrdCksaT1ZKG4sZSk7b1tzXT1pfW9bc10ud3JpdGVSYW5nZShoKnIsaSpyLHRoaXMubV92ZXJ0ZXhBdHRyaWJ1dGVzLmdldChzKSxlKnIsITAsMSksbSYmb1tzXS53cml0ZVJhbmdlKChoK2kpKnIscix0aGlzLm1fdmVydGV4QXR0cmlidXRlcy5nZXQocyksZSpyLCEwLDEpfWlmKHMpe2lmKG51bGw9PT1hKXtjb25zdCBlPXRoaXMubV9wb2ludENvdW50K3Q7YT1MKGUpLHU9VihlKX1hLndyaXRlUmFuZ2UoaCxpLHRoaXMubV9jdXJ2ZURhdGEubV9zZWdtZW50RmxhZ3MsZSwhMCwxKSx1LndyaXRlUmFuZ2UoaCxpLHRoaXMubV9jdXJ2ZURhdGEubV9zZWdtZW50UGFyYW1JbmRleCxlLCEwLDEpLG0mJihhLndyaXRlKGgraSwxKSx1LndyaXRlKGgraSwtMSkpfX10aGlzLm1fcGF0aHMud3JpdGUoaCxlK24pLG0mJih0aGlzLm1fcGF0aEZsYWdzLmNsZWFyQml0cyhoLDEpLCsrbil9dGhpcy5tX3BhdGhzLndyaXRlKGksdGhpcy5tX3BvaW50Q291bnQrdCksdGhpcy5tX3BhdGhGbGFncy5jbGVhckJpdHMoaSwxKTtmb3IobGV0IGg9MDtoPHI7aCsrKXRoaXMubV92ZXJ0ZXhBdHRyaWJ1dGVzLmdldChoKSYmdGhpcy5tX3ZlcnRleEF0dHJpYnV0ZXMuc2V0KGgsb1toXSk7cyYmKHRoaXMubV9jdXJ2ZURhdGEubV9zZWdtZW50RmxhZ3M9YSx0aGlzLm1fY3VydmVEYXRhLm1fc2VnbWVudFBhcmFtSW5kZXg9dSksdGhpcy5tX3BvaW50Q291bnQrPXQsdGhpcy5tX3Jlc2VydmVkUG9pbnRDb3VudD4wJiYodGhpcy5tX3Jlc2VydmVkUG9pbnRDb3VudD10aGlzLm1fcG9pbnRDb3VudCl9Y2xvc2VQYXRoV2l0aExpbmUodCl7dm9pZCAwPT09dCYmKHQ9dGhpcy5nZXRQYXRoQ291bnQoKS0xKSx0aGlzLnRocm93SWZFbXB0eSgpLCh0PDB8fHQ+PXRoaXMuZ2V0UGF0aENvdW50KCkpJiZlKFwiY2xvc2VfcGF0aF93aXRoX2xpbmVcIiksdD09PXRoaXMuZ2V0UGF0aENvdW50KCktMSYmKHRoaXMubV9iUGF0aFN0YXJ0ZWQ9ITEpO2NvbnN0IHM9dGhpcy5tX3BhdGhGbGFncy5yZWFkKHQpO2lmKDEmc3x8dGhpcy5tX3BhdGhGbGFncy53cml0ZSh0LDF8cyksdGhpcy5tX2N1cnZlRGF0YSYmdGhpcy5tX2N1cnZlRGF0YS5tX3NlZ21lbnRGbGFncyl7Y29uc3QgZT10aGlzLmdldFBhdGhFbmQodCktMSxzPXRoaXMubV9jdXJ2ZURhdGEubV9zZWdtZW50RmxhZ3MucmVhZChlKTsxIT09cyYmKHRoaXMubV9jdXJ2ZURhdGEubV9zZWdtZW50RmxhZ3Mud3JpdGUoZSwxKSx0aGlzLm1fY3VydmVEYXRhLm1fc2VnbWVudFBhcmFtSW5kZXgud3JpdGUoZSwtMSksdGhpcy5pbmNDdXJ2ZVR5cGUocywtMSksdGhpcy5tb2RpZnlDdXJ2ZUNvdW50ZXIoLTEpKX10aGlzLm5vdGlmeU1vZGlmaWVkRmxhZ3MoMjAwMSl9Y2xvc2VMYXN0UGF0aFdpdGhTZWdtZW50KHQpe3RoaXMuY2xvc2VQYXRoV2l0aFNlZ21lbnQodGhpcy5nZXRQYXRoQ291bnQoKS0xLHQpfWNsb3NlUGF0aFdpdGhTZWdtZW50KHQscyl7aWYodGhpcy50aHJvd0lmRW1wdHkoKSwodDwwfHx0Pj10aGlzLmdldFBhdGhDb3VudCgpKSYmZShcImNsb3NlX3BhdGhfd2l0aF9saW5lXCIpLHMuZ2V0RW5kWFkoKS5lcXVhbHModGhpcy5nZXRYWSh0aGlzLmdldFBhdGhTdGFydCh0KSkpfHxlKFwiY2xvc2VfcGF0aF93aXRoX3NlZ21lbnQ6IGVuZCBwb2ludCBtaXNtYXRjaFwiKSx0PT09dGhpcy5nZXRQYXRoQ291bnQoKS0xKXRoaXMubV9iUGF0aFN0YXJ0ZWQ9ITEsdGhpcy5hZGRTZWdtZW50KHMsITEpLC0tdGhpcy5tX3BvaW50Q291bnQsdGhpcy5tX3BhdGhzLndyaXRlKHQrMSx0aGlzLm1fcG9pbnRDb3VudCk7ZWxzZXt0aGlzLm1lcmdlVmVydGV4RGVzY3JpcHRpb24ocy5nZXREZXNjcmlwdGlvbigpKTtjb25zdCBuPXMuZ2V0U3RhcnRYWSgpLHI9dGhpcy5nZXRQYXRoRW5kKHQpLTE7bi5lcXVhbHModGhpcy5nZXRYWShyKSl8fGUoXCJjbG9zZV9wYXRoX3dpdGhfc2VnbWVudDogc3RhcnQgcG9pbnQgbWlzbWF0Y2hcIik7Y29uc3Qgbz1zLmdldEdlb21ldHJ5VHlwZSgpO2lmKG89PT1pLmVudW1MaW5lKXJldHVybiB2b2lkIHRoaXMuY2xvc2VQYXRoV2l0aExpbmUodCk7e2NvbnN0IHQ9QnMocyk7dGhpcy5pbml0U2VnbWVudERhdGEodCk7Y29uc3QgZT1acy50b1NlZ1R5cGUobyksbj10aGlzLm1fY3VydmVEYXRhLm1fc2VnbWVudEZsYWdzLnJlYWQocik7aWYobiE9PWUpdGhpcy5tX2N1cnZlRGF0YS5tX3NlZ21lbnRQYXJhbUluZGV4LndyaXRlKHIsdGhpcy5tX2N1cnZlRGF0YS5tX2N1cnZlUGFyYW1Xcml0ZVBvaW50KSxzLndyaXRlSW5CdWZmZXJTdHJlYW0odGhpcy5tX2N1cnZlRGF0YS5tX3NlZ21lbnRQYXJhbXMsdGhpcy5tX2N1cnZlRGF0YS5tX2N1cnZlUGFyYW1Xcml0ZVBvaW50KSx0aGlzLm1fY3VydmVEYXRhLm1fY3VydmVQYXJhbVdyaXRlUG9pbnQrPXQsdGhpcy5pbmNDdXJ2ZVR5cGUoZSwxKSwxIT09bj90aGlzLmluY0N1cnZlVHlwZShuLC0xKTp0aGlzLm1vZGlmeUN1cnZlQ291bnRlcigxKTtlbHNle2NvbnN0IHQ9dGhpcy5tX2N1cnZlRGF0YS5tX3NlZ21lbnRQYXJhbUluZGV4LnJlYWQocik7cy53cml0ZUluQnVmZmVyU3RyZWFtKHRoaXMubV9jdXJ2ZURhdGEubV9zZWdtZW50UGFyYW1zLHQpfXRoaXMubV9jdXJ2ZURhdGEubV9zZWdtZW50RmxhZ3Mud3JpdGUocixlKX19Y29uc3Qgbj10aGlzLm1fcGF0aEZsYWdzLnJlYWQodCk7MSZufHx0aGlzLm1fcGF0aEZsYWdzLndyaXRlKHQsMXxuKSx0aGlzLm5vdGlmeU1vZGlmaWVkRmxhZ3MoMjAwMSl9Y2xvc2VBbGxQYXRocygpe2lmKHRoaXMubV9iUG9seWdvbnx8dGhpcy5pc0VtcHR5SW1wbCgpKXJldHVybjt0aGlzLm1fYlBhdGhTdGFydGVkPSExO2xldCB0PSExO2ZvcihsZXQgZT0wLHM9dGhpcy5tX3BhdGhzLnNpemUoKS0xO2U8cztlKyspe2lmKHRoaXMuaXNDbG9zZWRQYXRoKGUpKWNvbnRpbnVlO2NvbnN0IHM9dGhpcy5tX3BhdGhGbGFncy5yZWFkKGUpO3RoaXMubV9wYXRoRmxhZ3Mud3JpdGUoZSwxfHMpLHQ9ITB9dCYmdGhpcy5ub3RpZnlNb2RpZmllZEZsYWdzKDUxMil9aXNDbG9zZWRQYXRoKHQpe3JldHVybiEhKDEmdGhpcy5tX3BhdGhGbGFncy5yZWFkKHQpKX1pc0Nsb3NlZFBhdGhJblhZUGxhbmUodCl7aWYodGhpcy5pc0Nsb3NlZFBhdGgodCkpcmV0dXJuITA7Y29uc3QgZT10aGlzLmdldFBhdGhTdGFydCh0KSxzPXRoaXMuZ2V0UGF0aEVuZCh0KS0xO2lmKGU+cylyZXR1cm4hMTtjb25zdCBuPXRoaXMuZ2V0WFkoZSksaT10aGlzLmdldFhZKHMpO3JldHVybiBuLmlzRXF1YWxQb2ludDJEKGkpfWlzQ2xvc2VkUGF0aEluM0QodCl7cmV0dXJuIHMoMCksITF9aGFzTm9uTGluZWFyU2VnbWVudHNQYXRoKHQpe2lmKCF0aGlzLmhhc05vbkxpbmVhclNlZ21lbnRzKCkpcmV0dXJuITE7Zm9yKGxldCBlPXRoaXMuZ2V0UGF0aFN0YXJ0KHQpLHM9dGhpcy5nZXRQYXRoRW5kKHQpO2U8cztlKyspaWYoSHMuaXNOb25MaW5lYXJTZWdtZW50RmxhZyh0aGlzLm1fY3VydmVEYXRhLm1fc2VnbWVudEZsYWdzLnJlYWQoZSkpKXJldHVybiEwO3JldHVybiExfWlzTm9uTGluZWFyU2VnbWVudCh0KXtyZXR1cm4hKDEmdGhpcy5nZXRTZWdtZW50RmxhZ3ModCkpfWFkZEVudmVsb3BlKHQsZSl7aWYodC5pc0VtcHR5KCkpcmV0dXJuO2NvbnN0IHM9MD09PXRoaXMubV9wb2ludENvdW50O2lmKHQgaW5zdGFuY2VvZiBtZSl0aGlzLnN0YXJ0UGF0aENvb3Jkcyh0LnhtaW4sdC55bWluKSxlPyh0aGlzLmxpbmVUb0Nvb3Jkcyh0LnhtYXgsdC55bWluKSx0aGlzLmxpbmVUb0Nvb3Jkcyh0LnhtYXgsdC55bWF4KSx0aGlzLmxpbmVUb0Nvb3Jkcyh0LnhtaW4sdC55bWF4KSk6KHRoaXMubGluZVRvQ29vcmRzKHQueG1pbix0LnltYXgpLHRoaXMubGluZVRvQ29vcmRzKHQueG1heCx0LnltYXgpLHRoaXMubGluZVRvQ29vcmRzKHQueG1heCx0LnltaW4pKTtlbHNle2NvbnN0IHM9dC5nZXREZXNjcmlwdGlvbigpLG49RCgpLGk9bmV3IHEoe3ZkOnMsYXR0cmliQnVmZmVyOm4saW5pdERlZmF1bHRWYWx1ZXM6ITF9KTtmb3IobGV0IHI9MCxvPTQ7cjxvO3IrKyl7Y29uc3Qgcz1lP28tci0xOnI7dC5xdWVyeUNvcm5lckJ5VmFsKHMsaSksMD09PXI/dGhpcy5zdGFydFBhdGhQb2ludChpKTp0aGlzLmxpbmVUb1BvaW50KGkpfX10aGlzLmNsb3NlUGF0aFdpdGhMaW5lKCksdGhpcy5tX2JQYXRoU3RhcnRlZD0hMSxzJiYhZSYmKHRoaXMuc2V0RGlydHlGbGFnUHJvdGVjdGVkKDI1NiwhMSksdGhpcy5tX2JQb2x5Z29uJiZNYXRoLm1pbih0LndpZHRoKCksdC5oZWlnaHQoKSk+MCYmdGhpcy5zZXRJc1NpbXBsZSgzLDApKX1hZGRQYXRoRnJvbUNsb3NlZFNlZ21lbnQodCxzKXtpZih0LmlzQ2xvc2VkKCl8fGUoXCJhZGRfcGF0aF9mcm9tX2Nsb3NlZFNlZ21lbnQ6IHNlZ21lbnQgbXVzdCBiZSBjbG9zZWRcIikscyl7Y29uc3QgZT10LmdldFJldmVyc2VkKCkscz1uZXcgcTtlLnF1ZXJ5U3RhcnQocyksdGhpcy5zdGFydFBhdGhQb2ludChzKSx0aGlzLmNsb3NlTGFzdFBhdGhXaXRoU2VnbWVudChlKX1lbHNle2NvbnN0IGU9bmV3IHE7dC5xdWVyeVN0YXJ0KGUpLHRoaXMuc3RhcnRQYXRoUG9pbnQoZSksdGhpcy5jbG9zZUxhc3RQYXRoV2l0aFNlZ21lbnQodCl9fWFkZFNlZ21lbnRfKHQscyl7Y29uc3Qgbj10LmdldERlc2NyaXB0aW9uKCk7dGhpcy5tZXJnZVZlcnRleERlc2NyaXB0aW9uKG4pO2NvbnN0IHI9RCgpLG89bmV3IHEoe3ZkOm4sYXR0cmliQnVmZmVyOnIsaW5pdERlZmF1bHRWYWx1ZXM6ITF9KSxhPXQuZ2V0R2VvbWV0cnlUeXBlKCk7aWYoYT09PWkuZW51bUxpbmUpKHN8fHRoaXMuaXNFbXB0eUltcGwoKSkmJih0LnF1ZXJ5U3RhcnQobyksdGhpcy5zdGFydFBhdGhQb2ludChvKSksdC5xdWVyeUVuZChvKSx0aGlzLmxpbmVUb1BvaW50KG8pO2Vsc2V7bGV0IG49ITE7aWYoKHN8fHRoaXMuaXNFbXB0eUltcGwoKSkmJihuPSEwKSwhbil7dC5nZXRTdGFydFhZKCkuZXF1YWxzKHRoaXMuZ2V0WFkodGhpcy5tX3BvaW50Q291bnQtMSkpfHxlKFwiYWRkX3NlZ21lbnQ6IHN0YXJ0IHBvaW50IG1pc21hdGNoXCIpfWlmKG4mJih0LnF1ZXJ5U3RhcnQobyksdGhpcy5zdGFydFBhdGhQb2ludChvKSksdGhpcy5iZWZvcmVOZXdTZWdtZW50KDEpLHQucXVlcnlFbmQobyksby5nZXREZXNjcmlwdGlvbigpPT09dGhpcy5tX2Rlc2NyaXB0aW9uKXRoaXMuc2V0UG9pbnRCeVZhbCh0aGlzLm1fcG9pbnRDb3VudC0xLG8pO2Vsc2V7Y29uc3QgdD1EKCksZT1uZXcgcSh7dmQ6dGhpcy5tX2Rlc2NyaXB0aW9uLGF0dHJpYkJ1ZmZlcjp0LGluaXREZWZhdWx0VmFsdWVzOiExfSk7by5jb3B5Q29tbW9uQXR0cmlidXRlc1RvKGUpLHRoaXMuc2V0UG9pbnRCeVZhbCh0aGlzLm1fcG9pbnRDb3VudC0xLGUpfWNvbnN0IGk9QnModCk7dGhpcy5pbml0U2VnbWVudERhdGEoaSksdGhpcy5tX2N1cnZlRGF0YS5tX3NlZ21lbnRQYXJhbUluZGV4LndyaXRlKHRoaXMubV9wb2ludENvdW50LTIsdGhpcy5tX2N1cnZlRGF0YS5tX2N1cnZlUGFyYW1Xcml0ZVBvaW50KSx0LndyaXRlSW5CdWZmZXJTdHJlYW0odGhpcy5tX2N1cnZlRGF0YS5tX3NlZ21lbnRQYXJhbXMsdGhpcy5tX2N1cnZlRGF0YS5tX2N1cnZlUGFyYW1Xcml0ZVBvaW50KSx0aGlzLm1fY3VydmVEYXRhLm1fY3VydmVQYXJhbVdyaXRlUG9pbnQrPWk7Y29uc3Qgcj1acy50b1NlZ1R5cGUoYSk7dGhpcy5pbmNDdXJ2ZVR5cGUociwxKSx0aGlzLm1vZGlmeUN1cnZlQ291bnRlcigxKSx0aGlzLm1fY3VydmVEYXRhLm1fc2VnbWVudEZsYWdzLndyaXRlKHRoaXMubV9wb2ludENvdW50LTIscil9fWFkZFNlZ21lbnQodCxlLHMpe3M/ZT90aGlzLmFkZFBhdGhGcm9tQ2xvc2VkU2VnbWVudCh0LCExKTp0aGlzLmNsb3NlTGFzdFBhdGhXaXRoU2VnbWVudCh0KTp0aGlzLmFkZFNlZ21lbnRfKHQsZSl9aW50ZXJwb2xhdGVBdHRyaWJ1dGVzUmFuZ2UodCxzLG4saSl7Zm9yKGxldCBhPXQ7YTxuLTE7YSsrKXRoaXMuaXNDbG9zZWRQYXRoKGEpJiZlKFwiY2Fubm90IGludGVycG9sYXRlIGFjcm9zcyBjbG9zZWQgcGF0aHNcIik7Y29uc3Qgcj10aGlzLm1fZGVzY3JpcHRpb24uZ2V0QXR0cmlidXRlQ291bnQoKTtpZigxPT09cilyZXR1cm47Y29uc3Qgbz10aGlzLmNhbGN1bGF0ZVN1Ykxlbmd0aDJEKHQscyxuLGkpO2lmKDAhPT1vKWZvcihsZXQgZT0xO2U8cjtlKyspe2NvbnN0IHI9dGhpcy5tX2Rlc2NyaXB0aW9uLmdldFNlbWFudGljcyhlKTt0aGlzLmludGVycG9sYXRlQXR0cmlidXRlc1NlbWFudGljc0ltcGwocix0LHMsbixpLG8pfX1pbnRlcnBvbGF0ZUF0dHJpYnV0ZXNTZW1hbnRpY3ModCxzLG4saSxyKXtpZigwPT09dClyZXR1cm47dGhpcy5oYXNBdHRyaWJ1dGUodCl8fGUoXCJkb2VzIG5vdCBoYXZlIHRoZSBnaXZlbiBhdHRyaWJ1dGVcIik7Mj09PWpzLmdldEludGVycG9sYXRpb24odCkmJmUoXCJhbmd1bGFyIGludGVycG9sYXRpb25cIik7Zm9yKGxldCBhPXM7YTxpLTE7YSsrKXRoaXMuaXNDbG9zZWRQYXRoKGEpJiZlKFwiY2Fubm90IGludGVycG9sYXRlIGFjcm9zcyBjbG9zZWQgcGF0aHNcIik7Y29uc3Qgbz10aGlzLmNhbGN1bGF0ZVN1Ykxlbmd0aDJEKHMsbixpLHIpOzAhPT1vJiZ0aGlzLmludGVycG9sYXRlQXR0cmlidXRlc1NlbWFudGljc0ltcGwodCxzLG4saSxyLG8pfWludGVycG9sYXRlQXR0cmlidXRlc1BhdGgodCxlLHMpe2NvbnN0IG49dGhpcy5tX2Rlc2NyaXB0aW9uLmdldEF0dHJpYnV0ZUNvdW50KCk7aWYoMT09PW4pcmV0dXJuO2lmKGU9PT1zKXJldHVybjtjb25zdCBpPXRoaXMuY2FsY3VsYXRlUGF0aFN1Ykxlbmd0aDJEKHQsZSxzKTtmb3IobGV0IHI9MTtyPG47cisrKXtjb25zdCBuPXRoaXMubV9kZXNjcmlwdGlvbi5nZXRTZW1hbnRpY3Mocik7dGhpcy5pbnRlcnBvbGF0ZUF0dHJpYnV0ZXNTZW1hbnRpY3NQYXRoSW1wbChuLHQsZSxzLGkpfX1pbnRlcnBvbGF0ZUF0dHJpYnV0ZXNTZW1hbnRpY3NQYXRoKHQscyxuLGkpe2lmKDA9PT10KXJldHVybjt0aGlzLmhhc0F0dHJpYnV0ZSh0KXx8ZShcImRvZXMgbm90IGhhdmUgdGhlIGdpdmVuIGF0dHJpYnV0ZVwiKTsyPT09anMuZ2V0SW50ZXJwb2xhdGlvbih0KSYmZShcImFuZ3VsYXIgaW50ZXJwb2xhdGlvblwiKTtjb25zdCByPXRoaXMuY2FsY3VsYXRlUGF0aFN1Ykxlbmd0aDJEKHMsbixpKTswIT09ciYmdGhpcy5pbnRlcnBvbGF0ZUF0dHJpYnV0ZXNTZW1hbnRpY3NQYXRoSW1wbCh0LHMsbixpLHIpfWludGVycG9sYXRlQXR0cmlidXRlc1NlbWFudGljc0ltcGwodCxlLHMsbixpLHIpe2NvbnN0IG89dGhpcy5xdWVyeVNlZ21lbnRJdGVyYXRvcigpLGE9dGhpcy5nZXRQYXRoU3RhcnQoZSkrcyxoPXRoaXMuZ2V0UGF0aFN0YXJ0KG4pK2ksdT1qcy5nZXRDb21wb25lbnRDb3VudCh0KSxtPVUoanMubWF4Q29tcG9uZW50Q291bnQoKSxOdW1iZXIuTmFOKTt0aGlzLnF1ZXJ5QXR0cmlidXRlQXNEYmwodCxhLG0sdSk7Y29uc3QgbD1VKGpzLm1heENvbXBvbmVudENvdW50KCksTnVtYmVyLk5hTik7dGhpcy5xdWVyeUF0dHJpYnV0ZUFzRGJsKHQsaCxsLHUpO2NvbnN0IGM9VShqcy5tYXhDb21wb25lbnRDb3VudCgpLE51bWJlci5OYU4pO0soYyxtLDAsMCx1KTtsZXQgZz0wO2NvbnN0IGQ9anMuZ2V0RGVmYXVsdFZhbHVlKHQpLF89anMuZ2V0SW50ZXJwb2xhdGlvbih0KTtvLnJlc2V0VG9WZXJ0ZXgoYSxlKTtkb3tpZihvLmhhc05leHRTZWdtZW50KCkpe2lmKG8ubmV4dFNlZ21lbnQoKSxvLmdldFN0YXJ0UG9pbnRJbmRleCgpPT09aClyZXR1cm47dGhpcy5zZXRBdHRyaWJ1dGVGcm9tQXJyYXkodCxvLmdldFN0YXJ0UG9pbnRJbmRleCgpLGMsdSksby5wcmV2aW91c1NlZ21lbnQoKTtkb3tjb25zdCBlPW8ubmV4dFNlZ21lbnQoKTtpZihvLmdldEVuZFBvaW50SW5kZXgoKT09PWgpcmV0dXJuO2crPWUuY2FsY3VsYXRlTGVuZ3RoMkQoKTtPKF8sbSxsLGMsMCx1LGcvcixkKSxvLmlzQ2xvc2luZ1NlZ21lbnQoKXx8dGhpcy5zZXRBdHRyaWJ1dGVGcm9tQXJyYXkodCxvLmdldEVuZFBvaW50SW5kZXgoKSxjLHUpfXdoaWxlKG8uaGFzTmV4dFNlZ21lbnQoKSl9fXdoaWxlKG8ubmV4dFBhdGgoKSl9aW50ZXJwb2xhdGVBdHRyaWJ1dGVzU2VtYW50aWNzUGF0aEltcGwodCxlLG4saSxyKXtzKDAhPT10KTtjb25zdCBvPXRoaXMucXVlcnlTZWdtZW50SXRlcmF0b3IoKSxhPWpzLmdldEludGVycG9sYXRpb24odCksaD10aGlzLmdldFBhdGhTdGFydChlKStuLHU9dGhpcy5nZXRQYXRoU3RhcnQoZSkraTtpZih1PT09aClyZXR1cm47Y29uc3QgbT1qcy5nZXRDb21wb25lbnRDb3VudCh0KSxsPVUoanMubWF4Q29tcG9uZW50Q291bnQoKSxOdW1iZXIuTmFOKTt0aGlzLnF1ZXJ5QXR0cmlidXRlQXNEYmwodCxoLGwsbSk7Y29uc3QgYz1VKGpzLm1heENvbXBvbmVudENvdW50KCksTnVtYmVyLk5hTik7dGhpcy5xdWVyeUF0dHJpYnV0ZUFzRGJsKHQsdSxjLG0pO2NvbnN0IGc9bmV3IHB0KDApO28ucmVzZXRUb1ZlcnRleChoLGUpLG8uc2V0Q2lyY3VsYXRvcih0aGlzLmlzQ2xvc2VkUGF0aChlKSk7Y29uc3QgZD1qcy5nZXREZWZhdWx0VmFsdWUodCksXz1VKGpzLm1heENvbXBvbmVudENvdW50KCksTnVtYmVyLk5hTik7SyhfLGwsMCwwLG0pO2NvbnN0IHA9MD09PXI7bGV0IGY9LjU7ZG97Y29uc3QgZT1vLm5leHRTZWdtZW50KCk7aWYodGhpcy5zZXRBdHRyaWJ1dGVGcm9tQXJyYXlOb0N1cnZlcyh0LG8uZ2V0U3RhcnRQb2ludEluZGV4KCksXyxtKSwhcCl7Y29uc3QgdD1lLmNhbGN1bGF0ZUxlbmd0aDJEKCk7Zy5wZSh0KSxmPWcuZ2V0UmVzdWx0KCkvcn1PKGEsbCxjLF8sMCxtLGYsZCl9d2hpbGUoby5nZXRFbmRQb2ludEluZGV4KCkhPT11KX1xdWVyeVNlZ21lbnQodCxzLG4pe2NvbnN0IGk9dGhpcy5nZXRQYXRoSW5kZXhGcm9tUG9pbnRJbmRleCh0KSxyPXQtdGhpcy5nZXRQYXRoU3RhcnQoaSk7cj49dGhpcy5nZXRTZWdtZW50Q291bnRQYXRoKGkpJiZlKFwiZ2V0X3NlZ21lbnRcIiksdGhpcy5nZXRTZWdtZW50RnJvbVBhdGgoaSxyLHMsbil9Z2V0U2VnbWVudCh0LGUpe2NvbnN0IHM9bmV3IHRoaXMubV9zZWdtZW50QnVmZmVyQ1RvcjtyZXR1cm4gdGhpcy5nZXRTZWdtZW50QnVmZmVyKHQscyxlKSxzLnJlbGVhc2VTZWdtZW50KCl9Z2V0U2VnbWVudFR5cGUodCl7Y29uc3Qgcz10aGlzLmdldFBhdGhJbmRleEZyb21Qb2ludEluZGV4KHQpLG49dC10aGlzLmdldFBhdGhTdGFydChzKTtyZXR1cm4gbj49dGhpcy5nZXRTZWdtZW50Q291bnRQYXRoKHMpJiZlKFwiZ2V0X3NlZ21lbnRcIiksdGhpcy5nZXRTZWdtZW50VHlwZUZyb21QYXRoKHMsbil9Z2V0U2VnbWVudEZyb21QYXRoKHQsZSxzLG4pe2NvbnN0IGk9dGhpcy5nZXRQYXRoU3RhcnQodCkrZSxyPXRoaXMuZ2V0U2VnbWVudEZsYWdzU3RyZWFtUmVmKCk7bGV0IG89MTtzd2l0Y2gociYmKG89MzEmci5yZWFkKGkpKSxvKXtjYXNlIDE6cy5jcmVhdGVMaW5lKCk7YnJlYWs7Y2FzZSAyOnMuY3JlYXRlQ3ViaWNCZXppZXIoKTticmVhaztjYXNlIDQ6cy5jcmVhdGVFbGxpcHRpY0FyYygpO2JyZWFrO2Nhc2UgODpzLmNyZWF0ZVF1YWRyYXRpY1JhdGlvbmFsQmV6aWVyKCk7YnJlYWs7Y2FzZSAxNjpzLmNyZWF0ZVF1YWRyYXRpY0JlemllcigpO2JyZWFrO2RlZmF1bHQ6aChcIlwiKX1jb25zdCBhPXMuZ2V0KCk7bGV0IHUsbT1udWxsO24/KG09UCgpLGEuYXNzaWduVmVydGV4RGVzY3JpcHRpb24obSkpOmEuYXNzaWduVmVydGV4RGVzY3JpcHRpb24odGhpcy5tX2Rlc2NyaXB0aW9uKSx1PWk9PT10aGlzLmdldFBhdGhFbmQodCktMSYmdGhpcy5pc0Nsb3NlZFBhdGgodCk/dGhpcy5nZXRQYXRoU3RhcnQodCk6aSsxO1dlKGEsdGhpcy5nZXRYWShpKSk7aWYoWmUoYSx0aGlzLmdldFhZKHUpKSwhbilmb3IobGV0IGg9MSxsPXRoaXMubV9kZXNjcmlwdGlvbi5nZXRBdHRyaWJ1dGVDb3VudCgpO2g8bDtoKyspe2NvbnN0IHQ9dGhpcy5tX2Rlc2NyaXB0aW9uLmdldFNlbWFudGljcyhoKSxlPWpzLmdldENvbXBvbmVudENvdW50KHQpO2ZvcihsZXQgcz0wO3M8ZTtzKyspe2NvbnN0IGU9dGhpcy5nZXRBdHRyaWJ1dGVBc0RibCh0LGkscyk7YS5zZXRTdGFydEF0dHJpYnV0ZSh0LHMsZSk7Y29uc3Qgbj10aGlzLmdldEF0dHJpYnV0ZUFzRGJsKHQsdSxzKTthLnNldEVuZEF0dHJpYnV0ZSh0LHMsbil9fWlmKEhzLmlzTm9uTGluZWFyU2VnbWVudEZsYWcobykpe2NvbnN0IHQ9dGhpcy5tX2N1cnZlRGF0YS5tX3NlZ21lbnRQYXJhbUluZGV4LnJlYWQoaSk7YS5yZWFkRnJvbUJ1ZmZlclN0cmVhbSh0aGlzLm1fY3VydmVEYXRhLm1fc2VnbWVudFBhcmFtcyx0KX19cmVwbGFjZUxpbmVhckVsbGlwdGljYWxBcmNzV2l0aFRydWVMaW5lcygpe2lmKCF0aGlzLmhhc05vbkxpbmVhclNlZ21lbnRzKCkpcmV0dXJuITE7aWYoMD09PXRoaXMubV9jdXJ2ZURhdGEubV9hcmNDb3VudClyZXR1cm4hMTtsZXQgdD0hMTtmb3IobGV0IGU9MCxzPXRoaXMuZ2V0UG9pbnRDb3VudCgpO2U8cztlKyspe2lmKDQ9PT10aGlzLm1fY3VydmVEYXRhLm1fc2VnbWVudEZsYWdzLnJlYWQoZSkpe2NvbnN0IHM9dGhpcy5tX2N1cnZlRGF0YS5tX3NlZ21lbnRQYXJhbUluZGV4LnJlYWQoZSk7enModGhpcy5tX2N1cnZlRGF0YS5tX3NlZ21lbnRQYXJhbXMscykuaXNOQU4oKSYmKHRoaXMubV9jdXJ2ZURhdGEubV9zZWdtZW50RmxhZ3Mud3JpdGUoZSwxKSx0aGlzLm1fY3VydmVEYXRhLm1fc2VnbWVudFBhcmFtSW5kZXgud3JpdGUoZSwtMSksdGhpcy5pbmNDdXJ2ZVR5cGUoNCwtMSksdGhpcy5tb2RpZnlDdXJ2ZUNvdW50ZXIoLTEpLHQ9ITApfX1yZXR1cm4gdCYmdGhpcy5jaGVja0NvbXBhY3RTZWdtZW50UGFyYW1zKCksdH1xdWVyeVBvaW50QWxvbmdQYXRoKHQscyxuLGk9ITEpe2NvbnN0IHI9e2lTZWdtZW50Oi0xfSxvPWk/cjp7dFNlZ21lbnQ6MH07aWYobi5zZXRFbXB0eSgpLHRoaXMuaXNFbXB0eSgpKXJldHVybiByO2lmKCh0PDB8fHQ+PXRoaXMuZ2V0UGF0aENvdW50KCkpJiZlKFwicXVlcnlfcG9pbnRfYWxvbmdfcGF0aFwiKSxzPDApcmV0dXJuIHI7Y29uc3QgYT10aGlzLmdldFBhdGhTaXplKHQpO2lmKDA9PT1hKXJldHVybiByO2lmKDE9PT1hKXJldHVybiB0aGlzLmdldFBvaW50QnlWYWwodGhpcy5nZXRQYXRoU3RhcnQodCksbiksby50U2VnbWVudD0wLHIuaVNlZ21lbnQ9dGhpcy5nZXRQYXRoU3RhcnQodCkscjtjb25zdCBoPXRoaXMucXVlcnlTZWdtZW50SXRlcmF0b3JBdFZlcnRleCh0aGlzLmdldFBhdGhTdGFydCh0KSksdT1uZXcgcHQoMCk7Zm9yKDtoLmhhc05leHRTZWdtZW50KCk7KXtjb25zdCB0PWgubmV4dFNlZ21lbnQoKSxlPXQuY2FsY3VsYXRlTGVuZ3RoMkQoKSxpPXUuZ2V0UmVzdWx0KCk7aWYodS5hZGQoZSksdS5nZXRSZXN1bHQoKT49cyl7bGV0IGE9cy1pO2E+ZSYmKGE9ZSk7Y29uc3QgdT10Lmxlbmd0aFRvVChhKTtyZXR1cm4gdC5xdWVyeUNvb3JkKHUsbiksby50U2VnbWVudD11LHIuaVNlZ21lbnQ9aC5nZXRTdGFydFBvaW50SW5kZXgoKSxyfX1pZih0aGlzLmlzQ2xvc2VkUGF0aCh0KSl7Y29uc3QgZT10aGlzLmdldFBhdGhTdGFydCh0KTtyZXR1cm4gdGhpcy5nZXRQb2ludEJ5VmFsKGUsbiksby50U2VnbWVudD0xLHIuaVNlZ21lbnQ9dGhpcy5nZXRQYXRoRW5kKHQpLTEscn17Y29uc3QgZT10aGlzLmdldFBhdGhFbmQodCktMTtyZXR1cm4gdGhpcy5nZXRQb2ludEJ5VmFsKGUsbiksdGhpcy5nZXRQYXRoU2l6ZSh0KT4xPyhvLnRTZWdtZW50PTEsci5pU2VnbWVudD10aGlzLmdldFBhdGhFbmQodCktMixyKTooby50U2VnbWVudD0wLHIuaVNlZ21lbnQ9dGhpcy5nZXRQYXRoU3RhcnQodCkscil9fXF1ZXJ5UG9pbnRzQWxvbmdQYXRoKHQscyxuLGkscixvKXt7bGV0IHQ9MDtmb3IobGV0IGE9MDthPHM7KythKWkmJmlbYV0uc2V0RW1wdHkoKSxyJiYoclthXT0tMSksbyYmKG9bYV09MCksdD5uW2FdJiZlKFwicXVlcnlfcG9pbnRzX2Fsb25nXCIpLHQ9blthXX1jb25zdCBhPXRoaXMuZ2V0UGF0aFNpemUodCk7aWYoMD09PXN8fDA9PT1hKXJldHVybiAwO2lmKDE9PT1hKXtjb25zdCBlPXRoaXMuZ2V0UGF0aFN0YXJ0KHQpO3JldHVybiBpJiZ0aGlzLmdldFBvaW50QnlWYWwoZSxpWzBdKSxvJiYob1swXT0wKSxyJiYoclswXT1lKSwxfWNvbnN0IGg9dGhpcy5nZXRQYXRoU3RhcnQodCksdT1uZXcgcHQoMCksbT10aGlzLnF1ZXJ5U2VnbWVudEl0ZXJhdG9yQXRWZXJ0ZXgoaCk7bGV0IGw9MCxjPTAsZz1uW2xdO2Zvcig7bS5oYXNOZXh0U2VnbWVudCgpOyl7Y29uc3QgdD1tLm5leHRTZWdtZW50KCksZT10LmNhbGN1bGF0ZUxlbmd0aDJEKCksYT11LmdldFJlc3VsdCgpO2Zvcih1LmFkZChlKTt1LmdldFJlc3VsdCgpPj1nOyl7bGV0IGg9Zy1hO2g+ZSYmKGg9ZSk7Y29uc3QgdT10Lmxlbmd0aFRvVChoKTtpZihpJiZ0LnF1ZXJ5Q29vcmQodSxpW2NdKSxvJiYob1tjXT11KSxyJiYocltjXT1tLmdldFN0YXJ0UG9pbnRJbmRleCgpKSxjKyssbCsrLGc9bltsXSxsPT09cylyZXR1cm4gY319aWYodGhpcy5pc0Nsb3NlZFBhdGgodCkpe2NvbnN0IGU9dGhpcy5nZXRQYXRoU3RhcnQodCkscz0wO2kmJnRoaXMuZ2V0UG9pbnRCeVZhbChlLGlbY10pLG8mJihvW2NdPXMpLHImJihyW2NdPWUpLGMrK31lbHNlIGlmKHRoaXMuZ2V0UGF0aFNpemUodCk+MSl7Y29uc3QgZT10aGlzLmdldFBhdGhFbmQodCktMixzPTE7aSYmdGhpcy5nZXRQb2ludEJ5VmFsKGUrMSxpW2NdKSxvJiYob1tjXT1zKSxyJiYocltjXT1lKSxjKyt9cmV0dXJuIGN9cXVlcnlQb2ludHNBbG9uZyh0LHMsbixpLHIpe3tsZXQgbz0wO2ZvcihsZXQgYT0wO2E8dDsrK2EpbiYmblthXS5zZXRFbXB0eSgpLGkmJihpW2FdPS0xKSxyJiYoclthXT0wKSxvPnNbYV0mJmUoXCJxdWVyeV9wb2ludHNfYWxvbmdcIiksbz1zW2FdfWlmKDA9PT10KXJldHVybiAwO2NvbnN0IG89bmV3IHB0KDApLGE9dGhpcy5xdWVyeVNlZ21lbnRJdGVyYXRvcigpO2xldCBoPS0xLHU9MCxtPTAsbD1zW3VdO2Zvcig7YS5uZXh0UGF0aCgpOylmb3IoO2EuaGFzTmV4dFNlZ21lbnQoKTspe2g9YS5nZXRQYXRoSW5kZXgoKTtjb25zdCBlPWEubmV4dFNlZ21lbnQoKSxjPWUuY2FsY3VsYXRlTGVuZ3RoMkQoKSxnPW8uZ2V0UmVzdWx0KCk7Zm9yKG8uYWRkKGMpO28uZ2V0UmVzdWx0KCk+PWw7KXtsZXQgbz1sLWc7bz5jJiYobz1jKTtjb25zdCBoPWUubGVuZ3RoVG9UKG8pO2lmKG4mJmUucXVlcnlDb29yZChoLG5bbV0pLHImJihyW21dPWgpLGkmJihpW21dPWEuZ2V0U3RhcnRQb2ludEluZGV4KCkpLG0rKyx1KyssbD1zW3VdLHU9PT10KXJldHVybiBtfX1pZihoPDApcmV0dXJuIDA7aWYodGhpcy5pc0Nsb3NlZFBhdGgoaCkpe2NvbnN0IHQ9dGhpcy5nZXRQYXRoU3RhcnQoaCksZT0wO24mJnRoaXMuZ2V0UG9pbnRCeVZhbCh0LG5bbV0pLHImJihyW21dPWUpLGkmJihpW21dPXQpLG0rK31lbHNlIGlmKHRoaXMuZ2V0UGF0aFNpemUoaCk+MSl7Y29uc3QgdD10aGlzLmdldFBhdGhFbmQoaCktMixlPTE7biYmdGhpcy5nZXRQb2ludEJ5VmFsKHQrMSxuW21dKSxyJiYoclttXT1lKSxpJiYoaVttXT10KSxtKyt9cmV0dXJuIG19cXVlcnlTZWdtZW50SXRlcmF0b3IoKXtyZXR1cm4gbmV3IEZzKHtwYXJlbnQ6dGhpc30pfXF1ZXJ5U2VnbWVudEl0ZXJhdG9yQXRWZXJ0ZXgodCl7cmV0dXJuIG5ldyBGcyh7cGFyZW50OnRoaXMscG9pbnRJbmRleDp0fSl9cXVlcnlQYXRoRW52ZWxvcGUodCxlKXt0aGlzLnF1ZXJ5UGF0aEVudmVsb3BlSW1wbCh0LGUsITApfXF1ZXJ5TG9vc2VQYXRoRW52ZWxvcGUodCxlKXt0aGlzLnF1ZXJ5UGF0aEVudmVsb3BlSW1wbCh0LGUsITEpfXF1ZXJ5UGF0aEVudmVsb3BlSW1wbCh0LG4saSl7aWYobiBpbnN0YW5jZW9mIE0mJnMoMCxcIm5vdCBpbXBsZW1lbnRlZCBmb3IgRW52ZWxvcGVcIiksbiBpbnN0YW5jZW9mIEUmJnMoMCxcIm5vdCBpbXBsZW1lbnRlZCBmb3IgRW52ZWxvcGUzRFwiKSwodD49dGhpcy5nZXRQYXRoQ291bnQoKXx8dDwwKSYmZShcIlwiKSx0aGlzLmlzRW1wdHkoKSlyZXR1cm4gdm9pZCBuLnNldEVtcHR5KCk7Y29uc3Qgcj10aGlzLmdldEF0dHJpYnV0ZVN0cmVhbVJlZigwKSxvPW1lLmNvbnN0cnVjdEVtcHR5KCk7by5zZXRFbXB0eSgpO2ZvcihsZXQgZT0yKnRoaXMuZ2V0UGF0aFN0YXJ0KHQpLGE9Mip0aGlzLmdldFBhdGhFbmQodCk7ZTxhOyl7Y29uc3QgdD1hLWU7cyghKDEmdCkpLG8ubWVyZ2VQb2ludHNJbnRlcmxlYXZlZChyLGUvMix0LzIpLGUrPXR9aWYobi5zZXRDb29yZHMoe2VudjJEOm99KSx0aGlzLmhhc05vbkxpbmVhclNlZ21lbnRzUGF0aCh0KSl7Y29uc3QgZT10aGlzLnF1ZXJ5U2VnbWVudEl0ZXJhdG9yKCk7aWYoZS5yZXNldFRvUGF0aCh0KSxlLm5leHRQYXRoKCkpZm9yKDtlLmhhc05leHRTZWdtZW50KCk7KXtjb25zdCB0PWUubmV4dEN1cnZlKCk7aWYoIXQpYnJlYWs7e2NvbnN0IGU9bWUuY29uc3RydWN0RW1wdHkoKTtpP3QucXVlcnlFbnZlbG9wZShlKTp0LnF1ZXJ5TG9vc2VFbnZlbG9wZShlKSxuLm1lcmdlRW52ZWxvcGUyRChlKX19ZWxzZSBzKDApfX1jaGVja0NvbXBhY3RTZWdtZW50UGFyYW1zKCl7aWYoIXRoaXMubV9jdXJ2ZURhdGF8fG51bGw9PT10aGlzLm1fY3VydmVEYXRhLm1fc2VnbWVudFBhcmFtcylyZXR1cm4hMTtpZih0aGlzLm1fY3VydmVEYXRhLm1fc2VnbWVudFBhcmFtcy5zaXplKCk8PXRoaXMubV92ZXJ0ZXhBdHRyaWJ1dGVzLmdldCgwKS5zaXplKCkpcmV0dXJuITE7Y29uc3QgdD0xMCxlPWtzKDQpKnRoaXMubV9jdXJ2ZURhdGEubV9hcmNDb3VudCtrcygyKSp0aGlzLm1fY3VydmVEYXRhLm1fYmV6aWVyQ291bnQra3MoOCkqdGhpcy5tX2N1cnZlRGF0YS5tX3JiZXppZXIyQ291bnQra3MoMTYpKnRoaXMubV9jdXJ2ZURhdGEubV9iZXppZXIyQ291bnQ7cmV0dXJuIHRoaXMubV9jdXJ2ZURhdGEubV9zZWdtZW50UGFyYW1zLnNpemUoKT5NYXRoLm1heCgzKmU+PjEsdCk/KHRoaXMuZm9yY2VDb21wYWN0U2VnbWVudFBhcmFtcygpLCEwKTooMD09PXRoaXMubV9wb2ludENvdW50JiYodGhpcy5tX2N1cnZlRGF0YS5tX2N1cnZlUGFyYW1Xcml0ZVBvaW50PTApLCExKX1mb3JjZUNvbXBhY3RTZWdtZW50UGFyYW1zKCl7bGV0IHQ9MDtmb3IobGV0IG49MCxpPXRoaXMuZ2V0UG9pbnRDb3VudCgpO248aTtuKyspe2NvbnN0IGU9dGhpcy5tX2N1cnZlRGF0YS5tX3NlZ21lbnRGbGFncy5yZWFkKG4pO2lmKEhzLmlzTm9uTGluZWFyU2VnbWVudEZsYWcoZSkpe3QrPWtzKGUpfX1jb25zdCBlPVIodCk7bGV0IHM9MDtmb3IobGV0IG49MCxpPXRoaXMuZ2V0UG9pbnRDb3VudCgpO248aTtuKyspe2NvbnN0IHQ9dGhpcy5tX2N1cnZlRGF0YS5tX3NlZ21lbnRGbGFncy5yZWFkKG4pO2lmKEhzLmlzTm9uTGluZWFyU2VnbWVudEZsYWcodCkpe2xldCBpPXRoaXMubV9jdXJ2ZURhdGEubV9zZWdtZW50UGFyYW1JbmRleC5yZWFkKG4pO3RoaXMubV9jdXJ2ZURhdGEubV9zZWdtZW50UGFyYW1JbmRleC53cml0ZShuLHMpO2NvbnN0IHI9a3ModCk7Zm9yKGxldCB0PTA7dDxyO3QrKyllLndyaXRlKHMsdGhpcy5tX2N1cnZlRGF0YS5tX3NlZ21lbnRQYXJhbXMucmVhZChpKSkscysrLGkrK319dGhpcy5tX2N1cnZlRGF0YS5tX3NlZ21lbnRQYXJhbXM9ZSx0aGlzLm1fY3VydmVEYXRhLm1fY3VydmVQYXJhbVdyaXRlUG9pbnQ9c31zZXRFbXB0eSgpe3RoaXMubV9jdXJ2ZURhdGEmJih0aGlzLnJlbW92ZUFsbEN1cnZlc0Zyb21HbG9iYWxDb3VudGVyKCksdGhpcy5tX2N1cnZlRGF0YT1udWxsKSx0aGlzLm1fYlBhdGhTdGFydGVkPSExLHRoaXMubV9wYXRocz1udWxsLHRoaXMubV9wYXRoRmxhZ3M9bnVsbCx0aGlzLnNldEVtcHR5SW1wbCgpfWFwcGx5VHJhbnNmb3JtYXRpb24odCl7dGhpcy5hcHBseVRyYW5zZm9ybWF0aW9uVG9QYXRoKHQsLTEpfWFwcGx5VHJhbnNmb3JtYXRpb24zRCh0KXtzKDApfWdldEltcGwoKXtyZXR1cm4gdGhpc31yZXNlcnZlKHQpe3RoaXMucmVzZXJ2ZUltcGwodCksdD4wJiYhdGhpcy5tX3BhdGhzJiYodGhpcy5tX3BhdGhzPVYoMCksdGhpcy5tX3BhdGhGbGFncz1MKDApLHRoaXMubV9wYXRocy5yZXNlcnZlKDIpLHRoaXMubV9wYXRoRmxhZ3MucmVzZXJ2ZSgyKSx0aGlzLm1fcGF0aHMucmVzaXplKDEsMCksdGhpcy5tX3BhdGhGbGFncy5yZXNpemUoMSx0aGlzLm1fYlBvbHlnb24/MTowKSl9cmVzZXJ2ZVBhcnRzKHQsZSl7dGhpcy5yZXNlcnZlSW1wbCh0KSxlPjAmJih0aGlzLm1fcGF0aHM/KHRoaXMubV9wYXRocy5yZXNlcnZlKGUrMSksdGhpcy5tX3BhdGhGbGFncy5yZXNlcnZlKGUrMSkpOih0aGlzLm1fcGF0aHM9VigwKSx0aGlzLm1fcGF0aEZsYWdzPUwoMCksdGhpcy5tX3BhdGhzLnJlc2VydmUoZSsxKSx0aGlzLm1fcGF0aEZsYWdzLnJlc2VydmUoZSsxKSx0aGlzLm1fcGF0aHMucmVzaXplKDEsMCksdGhpcy5tX3BhdGhGbGFncy5yZXNpemUoMSx0aGlzLm1fYlBvbHlnb24/MTowKSkpfWNsb25lKCl7Y29uc3QgdD10aGlzLmNyZWF0ZUluc3RhbmNlKCk7cmV0dXJuIHRoaXMuY29weVRvKHQpLHR9cXVlcnlMaW1pdGVkU2VnbWVudEl0ZXJhdG9yKHQpe3JldHVybiBuZXcgVXModGhpcyx0KX1nZXRQYXRoU3RyZWFtUmVmKCl7cmV0dXJuIHRoaXMudGhyb3dJZkVtcHR5KCksdGhpcy5tX3BhdGhzfXNldFBhdGhTdHJlYW1SZWYodCl7dGhpcy5tX3BhdGhzPXR9Z2V0U2VnbWVudEZsYWdzU3RyZWFtUmVmKCl7cmV0dXJuIHRoaXMudGhyb3dJZkVtcHR5KCksbnVsbCE9dGhpcy5tX2N1cnZlRGF0YT90aGlzLm1fY3VydmVEYXRhLm1fc2VnbWVudEZsYWdzOm51bGx9Z2V0UGF0aEZsYWdzU3RyZWFtUmVmKCl7cmV0dXJuIHRoaXMudGhyb3dJZkVtcHR5KCksdGhpcy5tX3BhdGhGbGFnc31zZXRQYXRoRmxhZ3NTdHJlYW1SZWYodCl7dGhpcy5tX3BhdGhGbGFncz10fWdldFNlZ21lbnRJbmRleFN0cmVhbVJlZigpe3JldHVybiB0aGlzLnRocm93SWZFbXB0eSgpLG51bGwhPT10aGlzLm1fY3VydmVEYXRhP3RoaXMubV9jdXJ2ZURhdGEubV9zZWdtZW50UGFyYW1JbmRleDpudWxsfWdldFNlZ21lbnREYXRhU3RyZWFtUmVmKCl7cmV0dXJuIHRoaXMudGhyb3dJZkVtcHR5KCksbnVsbCE9PXRoaXMubV9jdXJ2ZURhdGE/dGhpcy5tX2N1cnZlRGF0YS5tX3NlZ21lbnRQYXJhbXM6bnVsbH1zZXRTZWdtZW50RGF0YSh0LGUscyxuKXt0aGlzLm1fY3VydmVEYXRhfHwodGhpcy5tX2N1cnZlRGF0YT1uZXcgWnMpLHRoaXMubV9jdXJ2ZURhdGEubV9zZWdtZW50RmxhZ3M9cyx0aGlzLm1fY3VydmVEYXRhLm1fc2VnbWVudFBhcmFtcz1lLHRoaXMubV9jdXJ2ZURhdGEubV9zZWdtZW50UGFyYW1JbmRleD10LHRoaXMubV9jdXJ2ZURhdGEubV9jdXJ2ZVBhcmFtV3JpdGVQb2ludD1ufXN0YXRpYyBnZXRQYXRoSW5kZXhGcm9tUG9pbnRJbmRleEltcGwodCxlLHMsbil7aWYobj49MCYmbjxlKXtpZihzPj10LnJlYWQobikpe2lmKHM8dC5yZWFkKG4rMSkpcmV0dXJuIG47bisrfWVsc2Ugbi0tO2lmKG4+PTAmJm48ZSYmcz49dC5yZWFkKG4pJiZzPHQucmVhZChuKzEpKXJldHVybiBufWlmKGU8NSl7Zm9yKGxldCBuPTA7bjxlO24rKylpZihzPHQucmVhZChuKzEpKXJldHVybiBuO2coXCJcIil9bGV0IGk9MCxyPWUtMTtmb3IoO3I+aTspe2NvbnN0IGU9aSsoci1pPj4xKTtpZihzPHQucmVhZChlKSlyPWUtMTtlbHNle2lmKCEocz49dC5yZWFkKGUrMSkpKXJldHVybiBlO2k9ZSsxfX1yZXR1cm4gaX1nZXRIaWdoZXN0UG9pbnRJbmRleCh0KXtzKHQ+PTAmJnQ8dGhpcy5nZXRQYXRoQ291bnQoKSk7Y29uc3QgZT10aGlzLmdldEF0dHJpYnV0ZVN0cmVhbVJlZigwKSxuPXRoaXMuZ2V0UGF0aEVuZCh0KSxpPXRoaXMuZ2V0UGF0aFN0YXJ0KHQpO2xldCByPS0xO2NvbnN0IG89bmV3IFE7by55PU51bWJlci5ORUdBVElWRV9JTkZJTklUWSxvLng9TnVtYmVyLk5FR0FUSVZFX0lORklOSVRZO2ZvcihsZXQgcz1pKzA7czxuO3MrKyl7Y29uc3QgdD1lLnJlYWRQb2ludDJEKDIqcyk7LTE9PT1vLmNvbXBhcmUodCkmJihyPXMsby5zZXRDb29yZHNQb2ludDJEKHQpKX1yZXR1cm4gcn1hcHBseVRyYW5zZm9ybWF0aW9uVG9QYXRoKHQscyl7aWYocz49dGhpcy5nZXRQYXRoQ291bnQoKSYmZShcImFwcGx5X3RyYW5zZm9ybWF0aW9uXCIpLHRoaXMuaXNFbXB0eSgpKXJldHVybjtpZih0LmlzSWRlbnRpdHkoKSlyZXR1cm47Y29uc3Qgbj10aGlzLm1fdmVydGV4QXR0cmlidXRlcy5nZXQoMCk7aWYoIShzPDA/dGhpcy5oYXNOb25MaW5lYXJTZWdtZW50cygpOnRoaXMuaGFzTm9uTGluZWFyU2VnbWVudHNQYXRoKHMpKSl7bGV0IGUsaTtyZXR1cm4gczwwPyhlPTAsaT10aGlzLm1fcG9pbnRDb3VudCk6KGU9dGhpcy5nZXRQYXRoU3RhcnQocyksaT10aGlzLmdldFBhdGhFbmQocykpLG4uYXBwbHlUcmFuc2Zvcm1hdGlvbih0LDIqZSxpLWUpLHZvaWQgdGhpcy5ub3RpZnlNb2RpZmllZEZsYWdzKDIwMDEpfWNvbnN0IGk9bmV3IHRoaXMubV9zZWdtZW50QnVmZmVyQ1RvcixyPXRoaXMuZ2V0UGF0aENvdW50KCk7bGV0IG89czwwPzA6cztkb3tjb25zdCBlPXRoaXMuZ2V0UGF0aFN0YXJ0KG8pLHI9dGhpcy5nZXRQYXRoRW5kKG8pLGE9dGhpcy5pc0Nsb3NlZFBhdGgobyksaD1uLnJlYWRQb2ludDJEKDIqZSk7aWYoIXRoaXMuaGFzTm9uTGluZWFyU2VnbWVudHNQYXRoKG8pKXtuLmFwcGx5VHJhbnNmb3JtYXRpb24odCwyKmUsci1lKTtjb250aW51ZX1jb25zdCB1PVEuZ2V0TkFOKCk7Zm9yKGxldCBzPWU7czxyOysrcyl7aWYoMSE9PSgzMSZ0aGlzLm1fY3VydmVEYXRhLm1fc2VnbWVudEZsYWdzLnJlYWQocykpKXtjb25zdCBvPWEmJnMrMT09PXI7byYmbi53cml0ZVBvaW50MkQoMiplLGgpLHRoaXMuZ2V0U2VnbWVudEJ1ZmZlcihzLGksITApLGkuZ2V0KCkuYXBwbHlUcmFuc2Zvcm1hdGlvbih0KTtjb25zdCB1PXRoaXMubV9jdXJ2ZURhdGEubV9zZWdtZW50UGFyYW1JbmRleC5yZWFkKHMpO2kuZ2V0KCkud3JpdGVJbkJ1ZmZlclN0cmVhbSh0aGlzLm1fY3VydmVEYXRhLm1fc2VnbWVudFBhcmFtcyx1KSxuLndyaXRlUG9pbnQyRCgyKnMsaS5nZXQoKS5nZXRTdGFydFhZKCkpLG8mJm4ud3JpdGVQb2ludDJEKDIqZSxpLmdldCgpLmdldEVuZFhZKCkpO2NvbnRpbnVlfWNvbnN0IG89MipzO24ucXVlcnlQb2ludDJEKG8sdSksdC50cmFuc2Zvcm1JblBsYWNlKHUpLG4ud3JpdGVQb2ludDJEKG8sdSl9aWYobz09PXMpYnJlYWt9d2hpbGUoKytvPHIpO3RoaXMubm90aWZ5TW9kaWZpZWRGbGFncygyMDAxKX1jYWxjdWxhdGVTdWJMZW5ndGgyRCh0LGUscyxuKXtjb25zdCBpPXRoaXMuZ2V0UGF0aFN0YXJ0KHQpK2Uscj10aGlzLmdldFBhdGhTdGFydChzKStuOyhyPGl8fGk8MHx8cj50aGlzLmdldFBvaW50Q291bnQoKS0xKSYmZChcIlwiKTtjb25zdCBvPXRoaXMucXVlcnlTZWdtZW50SXRlcmF0b3IoKTtsZXQgYT0wO28ucmVzZXRUb1ZlcnRleChpLHQpO2Rve2Zvcig7by5oYXNOZXh0U2VnbWVudCgpOyl7Y29uc3QgdD1vLm5leHRTZWdtZW50KCk7aWYoby5nZXRTdGFydFBvaW50SW5kZXgoKT09PXIpYnJlYWs7YSs9dC5jYWxjdWxhdGVMZW5ndGgyRCgpfWlmKG8uZ2V0U3RhcnRQb2ludEluZGV4KCk9PT1yKWJyZWFrfXdoaWxlKG8ubmV4dFBhdGgoKSk7cmV0dXJuIGF9Y2FsY3VsYXRlUGF0aFN1Ykxlbmd0aDJEKHQscyxuKXtjb25zdCBpPXRoaXMuZ2V0UGF0aFN0YXJ0KHQpK3Mscj10aGlzLmdldFBhdGhTdGFydCh0KStuOyhpPDB8fHI+dGhpcy5nZXRQb2ludENvdW50KCktMSkmJmQoXCJcIik7Y29uc3Qgbz10aGlzLnF1ZXJ5U2VnbWVudEl0ZXJhdG9yKCk7aWYoaT5yJiYodGhpcy5pc0Nsb3NlZFBhdGgodCl8fGUoXCJjYW5ub3QgaXRlcmF0ZSBhY3Jvc3MgYW4gb3BlbiBwYXRoXCIpLG8uc2V0Q2lyY3VsYXRvcighMCkpLGk9PT1yKXJldHVybiAwO2xldCBhPTAsaD0wO28ucmVzZXRUb1ZlcnRleChpLHQpO2Rve2grPWE7YT1vLm5leHRTZWdtZW50KCkuY2FsY3VsYXRlTGVuZ3RoMkQoKX13aGlsZShvLmdldFN0YXJ0UG9pbnRJbmRleCgpIT09cik7cmV0dXJuIGh9Y2FsY3VsYXRlRW52ZWxvcGUyRCh0KXtyZXR1cm4gdGhpcy51cGRhdGVYWUltcGwodCl9dXBkYXRlWFlJbXBsKHQpe2NvbnN0IGU9c3VwZXIudXBkYXRlWFlJbXBsKHQpO2lmKHRoaXMuaGFzTm9uTGluZWFyU2VnbWVudHMoKSl7Y29uc3Qgcz1tZS5jb25zdHJ1Y3RFbXB0eSgpLG49dGhpcy5xdWVyeVNlZ21lbnRJdGVyYXRvcigpO2Zvcig7bi5uZXh0UGF0aCgpOylmb3IoO24uaGFzTmV4dFNlZ21lbnQoKTspe2NvbnN0IGk9bi5uZXh0Q3VydmUoKTtpZighaSlicmVhazt0P2kucXVlcnlFbnZlbG9wZShzKTppLnF1ZXJ5TG9vc2VFbnZlbG9wZShzKSxlLm1lcmdlRW52ZWxvcGUyRChzKX19cmV0dXJuIGV9bm90aWZ5TW9kaWZpZWRBbGxJbXBsKCl7bnVsbCE9PXRoaXMubV9wYXRocyYmdGhpcy5tX3BhdGhzLnNpemUoKT90aGlzLm1fcG9pbnRDb3VudD10aGlzLm1fcGF0aHMucmVhZCh0aGlzLm1fcGF0aHMuc2l6ZSgpLTEpOnRoaXMubV9wb2ludENvdW50PTB9c2V0RGlydHlPR0NGbGFncyh0KXt0aGlzLnNldERpcnR5RmxhZ1Byb3RlY3RlZCgxNix0KX1oYXNEaXJ0eU9HQ1N0YXJ0RmxhZ3MoKXtyZXR1cm4gdGhpcy5oYXNEaXJ0eUZsYWcoMTYpfXNldERpcnR5UmluZ0FyZWFzMkQodCl7dGhpcy5zZXREaXJ0eUZsYWdQcm90ZWN0ZWQoMTAyNCx0KX1oYXNEaXJ0eVJpbmdBcmVhczJEKCl7cmV0dXJuIHRoaXMuaGFzRGlydHlGbGFnKDEwMjQpfXN0YXRpYyBpc05vbkxpbmVhclNlZ21lbnRGbGFnKHQpe3JldHVybiEoMSZ0KX1hZGRBbmRFeHBsaWNpdGx5T3BlbkFsbFBhdGhzKHQscyl7dGhpcz09PXQmJmUoXCJNdWx0aV9wYXRoX2ltcGw6OmFkZFwiKTtsZXQgbj10aGlzLmdldFBhdGhDb3VudCgpO2ZvcihsZXQgZT0wLGk9dC5nZXRQYXRoQ291bnQoKTtlPGk7ZSsrKXRoaXMuYWRkUGF0aCh0LGUsIXMpLHRoaXMub3BlblBhdGhBbmREdXBsaWNhdGVTdGFydFZlcnRleChuKSxuKyt9Z2V0U2VnbWVudEZsYWdzKHQpe3JldHVybiBudWxsIT09dGhpcy5tX2N1cnZlRGF0YSYmbnVsbCE9PXRoaXMubV9jdXJ2ZURhdGEubV9zZWdtZW50RmxhZ3M/dGhpcy5tX2N1cnZlRGF0YS5tX3NlZ21lbnRGbGFncy5yZWFkKHQpOjF9Z2V0U2VnbWVudEJ1ZmZlcih0LHMsbil7Y29uc3QgaT10aGlzLmdldFBhdGhJbmRleEZyb21Qb2ludEluZGV4KHQpLHI9dC10aGlzLmdldFBhdGhTdGFydChpKTtyPj10aGlzLmdldFNlZ21lbnRDb3VudFBhdGgoaSkmJmUoXCJnZXRTZWdtZW50QnVmZmVyXCIpLHRoaXMuZ2V0U2VnbWVudEZyb21QYXRoKGkscixzLG4pfWdldFNlZ21lbnRUeXBlRnJvbVBhdGgodCxlKXtjb25zdCBzPXRoaXMuZ2V0UGF0aFN0YXJ0KHQpK2Usbj10aGlzLmdldFNlZ21lbnRGbGFnc1N0cmVhbVJlZigpO2xldCByPTE7c3dpdGNoKG4mJihyPTMxJm4ucmVhZChzKSkscil7Y2FzZSAxOnJldHVybiBpLmVudW1MaW5lO2Nhc2UgMjpyZXR1cm4gaS5lbnVtQmV6aWVyO2Nhc2UgNDpyZXR1cm4gaS5lbnVtRWxsaXB0aWNBcmM7Y2FzZSA4OnJldHVybiBpLmVudW1SYXRpb25hbEJlemllcjI7Y2FzZSAxNjpyZXR1cm4gaS5lbnVtQmV6aWVyMjtkZWZhdWx0OmgoXCJcIil9fWVuc3VyZVhZTW9ub3RvbmVTZWdtZW50cygpe2lmKCF0aGlzLm1fY3VydmVEYXRhKXJldHVybiExO2xldCB0PSExO2ZvcihsZXQgZT0wLHM9dGhpcy5nZXRQYXRoQ291bnQoKTtlPHM7ZSsrKXtjb25zdCBzPXRoaXMuZ2V0UGF0aFN0YXJ0KGUpLG49dGhpcy5nZXRQYXRoRW5kKGUpLGk9bi1zO2ZvcihsZXQgZT1zO2U8bjtlKyspe2NvbnN0IG49MzEmdGhpcy5tX2N1cnZlRGF0YS5tX3NlZ21lbnRGbGFncy5yZWFkKGUpO2lmKDE9PT1uKWNvbnRpbnVlOzIhPT1uJiZhKFwiZW5zdXJlX3h5X21vbm90b25lX3NlZ21lbnRzXCIpO2NvbnN0IHI9KGUtcysxKSVpK3Msbz10aGlzLm1fY3VydmVEYXRhLm1fc2VnbWVudFBhcmFtSW5kZXgucmVhZChlKSxoPWx0KFEsNCk7aFswXT10aGlzLmdldFhZKGUpLGhbM109dGhpcy5nZXRYWShyKSxoWzFdLng9dGhpcy5tX2N1cnZlRGF0YS5tX3NlZ21lbnRQYXJhbXMucmVhZChvKSxoWzFdLnk9dGhpcy5tX2N1cnZlRGF0YS5tX3NlZ21lbnRQYXJhbXMucmVhZChvKzEpLGhbMl0ueD10aGlzLm1fY3VydmVEYXRhLm1fc2VnbWVudFBhcmFtcy5yZWFkKG8rMiksaFsyXS55PXRoaXMubV9jdXJ2ZURhdGEubV9zZWdtZW50UGFyYW1zLnJlYWQobyszKSxGZShoKSYmKHQ9ITAsdGhpcy5tX2N1cnZlRGF0YS5tX3NlZ21lbnRQYXJhbXMud3JpdGUobyxoWzFdLngpLHRoaXMubV9jdXJ2ZURhdGEubV9zZWdtZW50UGFyYW1zLndyaXRlKG8rMSxoWzFdLnkpLHRoaXMubV9jdXJ2ZURhdGEubV9zZWdtZW50UGFyYW1zLndyaXRlKG8rMixoWzJdLngpLHRoaXMubV9jdXJ2ZURhdGEubV9zZWdtZW50UGFyYW1zLndyaXRlKG8rMyxoWzJdLnkpKX19cmV0dXJuIHQmJnRoaXMubm90aWZ5TW9kaWZpZWRGbGFncygyMDAxKSx0fWJ1aWxkUmFzdGVyaXplZEdlb21ldHJ5QWNjZWxlcmF0b3IodCxlKXtyZXR1cm4hMX1idWlsZFF1YWRUcmVlQWNjZWxlcmF0b3IodCl7aWYodGhpcy5tX2FjY2VsZXJhdG9yc3x8KHRoaXMubV9hY2NlbGVyYXRvcnM9bmV3IFZzKSxudWxsIT09dGhpcy5tX2FjY2VsZXJhdG9ycy5nZXRRdWFkVHJlZSgpKXJldHVybiEwO3RoaXMuZW5zdXJlVW5pcXVlQWNjZWxlcmF0b3JzKCksdGhpcy5tX2FjY2VsZXJhdG9ycy5zZXRRdWFkVHJlZShudWxsKTtjb25zdCBlPXoodGhpcyk7cmV0dXJuIHRoaXMubV9hY2NlbGVyYXRvcnMuc2V0UXVhZFRyZWUoZSksITB9YnVpbGRRdWFkVHJlZUZvclBhdGhzQWNjZWxlcmF0b3IodCl7aWYodGhpcy5tX2FjY2VsZXJhdG9yc3x8KHRoaXMubV9hY2NlbGVyYXRvcnM9bmV3IFZzKSxudWxsIT09dGhpcy5tX2FjY2VsZXJhdG9ycy5nZXRRdWFkVHJlZUZvclBhdGhzKCkpcmV0dXJuITA7dGhpcy5lbnN1cmVVbmlxdWVBY2NlbGVyYXRvcnMoKSx0aGlzLm1fYWNjZWxlcmF0b3JzLnNldFF1YWRUcmVlRm9yUGF0aHMobnVsbCk7Y29uc3QgZT1CKHRoaXMpO3JldHVybiB0aGlzLm1fYWNjZWxlcmF0b3JzLnNldFF1YWRUcmVlRm9yUGF0aHMoZSksITB9dXBkYXRlQ3VydmVDb3VudGVyKHQpe3RoaXMubW9kaWZ5Q3VydmVDb3VudGVyKHQtdGhpcy5nZXRDdXJ2ZUNvdW50KCkpfXJlbW92ZUFsbEN1cnZlc0Zyb21HbG9iYWxDb3VudGVyKCl7dGhpcy5tX2N1cnZlRGF0YSYmKEhzLnN0X3RvdGFsQ3VydmVDb3VudC09dGhpcy5tX2N1cnZlRGF0YS5tX2N1cnZlQ291bnQsdGhpcy5tX2N1cnZlRGF0YS5tX2N1cnZlQ291bnQ9MCx0aGlzLm1fY3VydmVEYXRhLm1fYmV6aWVyQ291bnQ9MCx0aGlzLm1fY3VydmVEYXRhLm1fYXJjQ291bnQ9MCx0aGlzLm1fY3VydmVEYXRhLm1fYmV6aWVyMkNvdW50PTAsdGhpcy5tX2N1cnZlRGF0YS5tX3JiZXppZXIyQ291bnQ9MCx0aGlzLm1fY3VydmVEYXRhLm1fY3VydmVQYXJhbVdyaXRlUG9pbnQ9MCl9bW9kaWZ5Q3VydmVDb3VudGVyKHQpe3QmJih0aGlzLm1fY3VydmVEYXRhfHwodGhpcy5tX2N1cnZlRGF0YT1uZXcgWnMpLEhzLnN0X3RvdGFsQ3VydmVDb3VudCs9dCx0aGlzLm1fY3VydmVEYXRhLm1fY3VydmVDb3VudCs9dCl9Z2V0Q3VydmVDb3VudCgpe3JldHVybiB0aGlzLm1fY3VydmVEYXRhP3RoaXMubV9jdXJ2ZURhdGEubV9jdXJ2ZUNvdW50OjB9aW5jQ3VydmVUeXBlKHQsZSl7dGhpcy5tX2N1cnZlRGF0YXx8KHRoaXMubV9jdXJ2ZURhdGE9bmV3IFpzKSwyJnQ/dGhpcy5tX2N1cnZlRGF0YS5tX2JlemllckNvdW50Kz1lOjQmdD90aGlzLm1fY3VydmVEYXRhLm1fYXJjQ291bnQrPWU6OCZ0P3RoaXMubV9jdXJ2ZURhdGEubV9yYmV6aWVyMkNvdW50Kz1lOjE2JnQmJih0aGlzLm1fY3VydmVEYXRhLm1fYmV6aWVyMkNvdW50Kz1lKX1nZXRDdXJ2ZVdyaXRlUG9pbnQoKXtyZXR1cm4gbnVsbCE9PXRoaXMubV9jdXJ2ZURhdGE/dGhpcy5tX2N1cnZlRGF0YS5tX2N1cnZlUGFyYW1Xcml0ZVBvaW50OjB9aW5pdFNlZ21lbnREYXRhKHQpe251bGw9PT10aGlzLm1fY3VydmVEYXRhJiYodGhpcy5tX2N1cnZlRGF0YT1uZXcgWnMpO2NvbnN0IGU9dGhpcy5tX3Jlc2VydmVkUG9pbnRDb3VudD4wP3RoaXMubV9yZXNlcnZlZFBvaW50Q291bnQ6dGhpcy5tX3BvaW50Q291bnQ7bnVsbD09PXRoaXMubV9jdXJ2ZURhdGEubV9zZWdtZW50UGFyYW1JbmRleCYmKHRoaXMubV9jdXJ2ZURhdGEubV9zZWdtZW50RmxhZ3M9TChlLDEpLHRoaXMubV9jdXJ2ZURhdGEubV9zZWdtZW50UGFyYW1JbmRleD1WKGUsLTEpKTtjb25zdCBzPXRoaXMubV9jdXJ2ZURhdGEubV9jdXJ2ZVBhcmFtV3JpdGVQb2ludCt0O251bGw9PT10aGlzLm1fY3VydmVEYXRhLm1fc2VnbWVudFBhcmFtcz90aGlzLm1fY3VydmVEYXRhLm1fc2VnbWVudFBhcmFtcz1SKHMpOnMhPT10aGlzLm1fY3VydmVEYXRhLm1fc2VnbWVudFBhcmFtcy5zaXplKCkmJnRoaXMubV9jdXJ2ZURhdGEubV9zZWdtZW50UGFyYW1zLnJlc2l6ZShzLDApLHRoaXMubV9jdXJ2ZURhdGEubV9zZWdtZW50RmxhZ3Muc2l6ZSgpPGUmJih0aGlzLm1fY3VydmVEYXRhLm1fc2VnbWVudEZsYWdzLnJlc2l6ZShlLDEpLHRoaXMubV9jdXJ2ZURhdGEubV9zZWdtZW50UGFyYW1JbmRleC5yZXNpemUoZSwtMSkpfXVwZGF0ZUN1cnZlV3JpdGVQb2ludCh0KXtudWxsPT09dGhpcy5tX2N1cnZlRGF0YSYmKHRoaXMubV9jdXJ2ZURhdGE9bmV3IFpzKSx0aGlzLm1fY3VydmVEYXRhLm1fY3VydmVQYXJhbVdyaXRlUG9pbnQ9dH11cGRhdGVPR0NGbGFnc0hlbHBlcigpe2NvbnN0IHQ9dGhpcy5nZXRQYXRoQ291bnQoKTtpZigwPT09dClyZXR1cm47Y29uc3QgZT10aGlzLm1fcGF0aEZsYWdzO2xldCBzPTA7Zm9yKGxldCBuPTA7bjx0O24rKyl7Y29uc3QgdD10aGlzLm1fY2FjaGVkUmluZ0FyZWFzMkQucmVhZChuKTswPT09cyYmKHM9TnQodCkpLHQqcz4wfHwwPT09cz9lLnNldEJpdHMobiw4KTplLmNsZWFyQml0cyhuLDgpfX11cGRhdGVPR0NGbGFnc1Byb3RlY3RlZCgpe3RoaXMuaGFzRGlydHlGbGFnKDE2KSYmKHRoaXMudXBkYXRlUmluZ0FyZWFzMkRQcm90ZWN0ZWQoKSx0aGlzLnVwZGF0ZU9HQ0ZsYWdzSGVscGVyKCksdGhpcy5zZXREaXJ0eUZsYWdQcm90ZWN0ZWQoMTYsITEpKX1yZXBsYWNlU2VnbWVudCh0LG4saSl7KHQ8MHx8dD49dGhpcy5nZXRQb2ludENvdW50KCkpJiZlKFwiTXVsdGlfcGF0aF9pbXBsLnJlcGxhY2Vfc2VnbWVudFwiKSxzKG4uaXNDdXJ2ZSgpKTtjb25zdCByPXRoaXMuZ2V0UGF0aEluZGV4RnJvbVBvaW50SW5kZXgodCksbz10aGlzLmdldFBhdGhTdGFydChyKSxhPSh0LW8rMSkldGhpcy5nZXRQYXRoU2l6ZShyKStvO3tjb25zdCBlPXRoaXMuZ2V0WFkodCksaT10aGlzLmdldFhZKGEpLHI9IWUuaXNFcXVhbFBvaW50MkQobi5nZXRTdGFydFhZKCkpfHwhaS5pc0VxdWFsUG9pbnQyRChuLmdldEVuZFhZKCkpO3MoIXIpfXRoaXMucmVwbGFjZVNlZ21lbnRJbXBsKHQsYSxuLGkpfXJlcGxhY2VTZWdtZW50SW1wbCh0LGUsbixpKXtjb25zdCByPW4uZ2V0RGVzY3JpcHRpb24oKTt0aGlzLm1lcmdlVmVydGV4RGVzY3JpcHRpb24ocik7Y29uc3Qgbz1VKDMyLE51bWJlci5OYU4pLGE9bmV3IHEoe3ZkOnIsYXR0cmliQnVmZmVyOm8saW5pdERlZmF1bHRWYWx1ZXM6ITF9KSxoPW51bGw9PT10aGlzLm1fY3VydmVEYXRhPzE6MzEmdGhpcy5tX2N1cnZlRGF0YS5tX3NlZ21lbnRGbGFncy5yZWFkKHQpLHU9a3MoaCksbT1CcyhuKTtsZXQgbCxjPSExO3U+PW0/KHMobnVsbCE9PXRoaXMubV9jdXJ2ZURhdGEpLGM9ITAsbD10aGlzLm1fY3VydmVEYXRhLm1fc2VnbWVudFBhcmFtSW5kZXgucmVhZCh0KSk6KHRoaXMuaW5pdFNlZ21lbnREYXRhKG0pLGM9ITEsbD10aGlzLm1fY3VydmVEYXRhLm1fY3VydmVQYXJhbVdyaXRlUG9pbnQpO2NvbnN0IGc9bi5nZXRHZW9tZXRyeVR5cGUoKSxkPVpzLnRvU2VnVHlwZShnKTtpfHwobi5xdWVyeVN0YXJ0KGEpLHRoaXMuc2V0UG9pbnRCeVZhbE5vQ3VydmVzKHQsYSksbi5xdWVyeUVuZChhKSx0aGlzLnNldFBvaW50QnlWYWxOb0N1cnZlcyhlLGEpKSx0aGlzLm1fY3VydmVEYXRhLm1fc2VnbWVudFBhcmFtSW5kZXgud3JpdGUodCwxIT09ZD9sOi0xKSx0aGlzLm1fY3VydmVEYXRhLm1fc2VnbWVudEZsYWdzLndyaXRlKHQsZCksMSE9PWQmJm4ud3JpdGVJbkJ1ZmZlclN0cmVhbSh0aGlzLm1fY3VydmVEYXRhLm1fc2VnbWVudFBhcmFtcyxsKSxjfHwodGhpcy5tX2N1cnZlRGF0YS5tX2N1cnZlUGFyYW1Xcml0ZVBvaW50Kz1tKSxoIT09ZCYmKHRoaXMuaW5jQ3VydmVUeXBlKGgsLTEpLHRoaXMuaW5jQ3VydmVUeXBlKGQsMSksdGhpcy5tb2RpZnlDdXJ2ZUNvdW50ZXIoMT09PWg/MTotMSkpfXNldEF0dHJpYnV0ZUltcGwodCxzLG4pe2lmKHRoaXMuYWRkQXR0cmlidXRlKHQpLCF0aGlzLmlzRW1wdHkoKSlpZih0aGlzLmhhc05vbkxpbmVhclNlZ21lbnRzKCkmJjA9PT10KXsoczwwfHxzPjEpJiZlKFwiXCIpO2NvbnN0IHQ9bmV3IGxlLGk9MD09PXM/bjowLHI9MD09PXM/MDoxO3Quc2V0U2hpZnRDb29yZHMoaSxyKSwwPT09cz90Lnh4PTA6dC55eT0wLHRoaXMuYXBwbHlUcmFuc2Zvcm1hdGlvbih0KX1lbHNlIHN1cGVyLnNldEF0dHJpYnV0ZUltcGwodCxzLG4pfX1Icy5zdF90b3RhbEN1cnZlQ291bnQ9MDtjbGFzcyBVc3tjb25zdHJ1Y3Rvcih0LGUpe3RoaXMubV9zZWdJdGVyPW51bGwsdGhpcy5tX3F1YWRUcmVlPW51bGwsdGhpcy5tX3F0SXRlcj1udWxsLHRoaXMubV9leHRlbnRPZkludGVyZXN0PW5ldyBtZShlKSx0aGlzLm1fYmZpcnN0PSEwLHRoaXMubV9wcmV2SW5kZXg9LTEwMCx0aGlzLm1fcGFyZW50PXR9bmV4dFNlZ21lbnQoKXtyZXR1cm4gdGhpcy5tX2JmaXJzdCYmdGhpcy5wcmVwYXJlXygpLHRoaXMubV9xdWFkVHJlZT90aGlzLm5leHRTZWdtZW50UXQoKTp0aGlzLm5leHRTZWdtZW50Tm9RdCgpfWdldFBhdGhJbmRleCgpe3JldHVybiB0aGlzLm1fc2VnSXRlci5nZXRQYXRoSW5kZXgoKX1nZXRTdGFydFBvaW50SW5kZXgoKXtyZXR1cm4gdGhpcy5tX3NlZ0l0ZXIuZ2V0U3RhcnRQb2ludEluZGV4KCl9Z2V0RW5kUG9pbnRJbmRleCgpe3JldHVybiB0aGlzLm1fc2VnSXRlci5nZXRFbmRQb2ludEluZGV4KCl9aXNDbG9zaW5nU2VnbWVudCgpe3JldHVybiB0aGlzLm1fc2VnSXRlci5pc0Nsb3NpbmdTZWdtZW50KCl9aXNQYXRoQ2xvc2VkKCl7cmV0dXJuIHRoaXMubV9zZWdJdGVyLmlzUGF0aENsb3NlZCgpfXByZXBhcmVfKCl7Y29uc3QgdD10aGlzLm1fcGFyZW50LmdldEFjY2VsZXJhdG9ycygpO3QmJih0aGlzLm1fcXVhZFRyZWU9dC5nZXRRdWFkVHJlZSgpLHRoaXMubV9xdWFkVHJlZSYmKHRoaXMubV9xdEl0ZXI9dGhpcy5tX3F1YWRUcmVlLmdldFNvcnRlZEl0ZXJhdG9yKHRoaXMubV9leHRlbnRPZkludGVyZXN0LDApKSksdGhpcy5tX3NlZ0l0ZXI9dGhpcy5tX3BhcmVudC5xdWVyeVNlZ21lbnRJdGVyYXRvcigpfW5leHRTZWdtZW50UXQoKXt0aGlzLm1fYmZpcnN0PSExO2NvbnN0IHQ9dGhpcy5tX3F0SXRlci5uZXh0KCk7aWYoLTE9PT10KXJldHVybiBudWxsO2NvbnN0IGU9dGhpcy5tX3F1YWRUcmVlLmdldEVsZW1lbnQodCk7KGUhPT10aGlzLm1fcHJldkluZGV4KzF8fHRoaXMubV9zZWdJdGVyLmlzTGFzdFNlZ21lbnRJblBhdGgoKSkmJih0aGlzLm1fc2VnSXRlci5yZXNldFRvVmVydGV4KGUsdGhpcy5tX3NlZ0l0ZXIuZ2V0UGF0aEluZGV4KCkpLHRoaXMubV9wcmV2SW5kZXg9ZSk7cmV0dXJuIHRoaXMubV9zZWdJdGVyLm5leHRTZWdtZW50KCl9bmV4dFNlZ21lbnROb1F0KCl7Zm9yKDs7KXtpZighdGhpcy5tX2JmaXJzdCYmdGhpcy5tX3NlZ0l0ZXIuaGFzTmV4dFNlZ21lbnQoKSl7Y29uc3QgdD10aGlzLm1fc2VnSXRlci5uZXh0U2VnbWVudCgpLGU9bWUuY29uc3RydWN0RW1wdHkoKTtpZih0LnF1ZXJ5TG9vc2VFbnZlbG9wZShlKSwhZS5pc0ludGVyc2VjdGluZyh0aGlzLm1fZXh0ZW50T2ZJbnRlcmVzdCkpY29udGludWU7cmV0dXJuIHR9aWYodGhpcy5tX2JmaXJzdD0hMSwhdGhpcy5tX3NlZ0l0ZXIubmV4dFBhdGgoKSlyZXR1cm4gbnVsbH19fWNsYXNzIE9zIGV4dGVuZHMgSHN7Y29uc3RydWN0b3IodCl7dD90LnZkPyhzdXBlcih7dmQ6dC52ZCxiUG9seWdvbjohMX0pLHRoaXMubV9zZWdtZW50QnVmZmVyQ1Rvcj1mbSk6dC5jb3B5PyhzdXBlcih7dmQ6dC5jb3B5LmdldERlc2NyaXB0aW9uKCksYlBvbHlnb246ITF9KSx0aGlzLm1fc2VnbWVudEJ1ZmZlckNUb3I9Zm0sdC5jb3B5LmNvcHlUbyh0aGlzKSk6dC5tb3ZlPyhzdXBlcih7bW92ZTp0Lm1vdmV9KSx0aGlzLm1fc2VnbWVudEJ1ZmZlckNUb3I9Zm0pOnQuc3RhcnQ/KHN1cGVyKHt2ZDp0LnN0YXJ0LmdldERlc2NyaXB0aW9uKCksYlBvbHlnb246ITF9KSx0aGlzLm1fc2VnbWVudEJ1ZmZlckNUb3I9Zm0sdGhpcy5zdGFydFBhdGhQb2ludCh0LnN0YXJ0KSx0aGlzLmxpbmVUb1BvaW50KHQuZW5kKSk6dC5wYXRoPyhzdXBlcih7YlBvbHlnb246ITF9KSx0aGlzLm1fc2VnbWVudEJ1ZmZlckNUb3I9Zm0sdGhpcy5hZGRQYXRoUG9pbnQyRCh0LnBhdGgsdC5wb2ludENvdW50LHQuYkZvcndhcmQpKTpoKFwiYmFkIGNvbnN0cnVjdG9yIGFyZ1wiKTooc3VwZXIoe2JQb2x5Z29uOiExfSksdGhpcy5tX3NlZ21lbnRCdWZmZXJDVG9yPWZtKX1nZXRCb3VuZGFyeSgpe3JldHVybiBLcyh0aGlzKX1hc3NpZ25Db3B5KHQpe3JldHVybiB0aGlzIT09dCYmdC5jb3B5VG8odGhpcyksdGhpc31hc3NpZ25Nb3ZlKHQpe3JldHVybiB0LmNvcHlUbyh0aGlzKSx0aGlzfWdldEdlb21ldHJ5VHlwZSgpe3JldHVybiBPcy50eXBlfWdldERpbWVuc2lvbigpe3JldHVybiAxfWNyZWF0ZUluc3RhbmNlKCl7cmV0dXJuIG5ldyBPcyh7dmQ6dGhpcy5nZXREZXNjcmlwdGlvbigpfSl9ZXF1YWxzKHQsZSl7cmV0dXJuIHRoaXMuZXF1YWxzQmFzZSh0LGUpfX1Pcy50eXBlPWkuZW51bVBvbHlsaW5lO3ZhciBRcz1pO2Z1bmN0aW9uIEpzKHQsZSl7aWYodC5pc0VtcHR5KCkpcmV0dXJuITE7Y29uc3Qgcz10LmdldEdlb21ldHJ5VHlwZSgpO2lmKHM9PT1Rcy5lbnVtUG9seWdvbilyZXR1cm4gMCE9PXQuY2FsY3VsYXRlQXJlYTJEKCk7aWYocz09PVFzLmVudW1Qb2x5bGluZSlyZXR1cm4gJHModC5nZXRJbXBsKCksZSwhMCkuYk5vdEVtcHR5O2lmKHM9PT1Rcy5lbnVtRW52ZWxvcGUpcmV0dXJuITA7aWYobShzKSlyZXR1cm4hIXQuaXNDbG9zZWQoKTtpZihsKHMpKXJldHVybiExO2lmKHM9PT1Rcy5lbnVtR2VvbWV0cnlDb2xsZWN0aW9uKXtjb25zdCBzPXQ7Zm9yKGxldCB0PTAsbj1zLmdldEdlb21ldHJ5Q291bnQoKTt0PG47dCsrKWlmKEpzKHMuZ2V0R2VvbWV0cnkodCksZSkpcmV0dXJuITA7cmV0dXJuITF9YShcIlwiKX1mdW5jdGlvbiBLcyh0LGUpe2NvbnN0IHM9dC5nZXRHZW9tZXRyeVR5cGUoKTtpZihzPT09UXMuZW51bVBvbHlnb24pe2NvbnN0IGU9bmV3IE9zKHt2ZDp0LmdldERlc2NyaXB0aW9uKCl9KTtyZXR1cm4gdC5pc0VtcHR5KCl8fHQuY29weVRvVW5jaGVja2VkKGUpLGV9aWYocz09PVFzLmVudW1Qb2x5bGluZSlyZXR1cm4gJHModC5nZXRJbXBsKCksZSwhMSkuYm91bmRhcnk7aWYocz09PVFzLmVudW1FbnZlbG9wZSl7Y29uc3QgZT1uZXcgT3Moe3ZkOnQuZ2V0RGVzY3JpcHRpb24oKX0pO3JldHVybiB0LmlzRW1wdHkoKXx8ZS5hZGRFbnZlbG9wZSh0LCExKSxlfWlmKG0ocykpe2NvbnN0IGU9bmV3IEVlKHt2ZDp0LmdldERlc2NyaXB0aW9uKCl9KTtpZighdC5pc0VtcHR5KCkmJiF0LmlzQ2xvc2VkKCkpe2NvbnN0IHM9bmV3IHE7ZS5yZXNlcnZlKDIpLHQucXVlcnlTdGFydChzKSxlLmFkZChzKSx0LnF1ZXJ5RW5kKHMpLGUuYWRkKHMpfXJldHVybiBlfWlmKHM9PT1Rcy5lbnVtR2VvbWV0cnlDb2xsZWN0aW9uKXtjb25zdCBzPXQ7bGV0IG49bnVsbDtmb3IobGV0IGk9MCxyPXMuZ2V0R2VvbWV0cnlDb3VudCgpO2k8cjtpKyspe2NvbnN0IHI9S3Mocy5nZXRHZW9tZXRyeShpKSxlKTtpZihudWxsIT09cil7bnVsbD09PW4mJihuPXQuY3JlYXRlSW5zdGFuY2UoKSk7Y29uc3QgZT1yO24uYWRkR2VvbWV0cnkoZSl9fXJldHVybiBufWlmKGwocykpcmV0dXJuIG5ldyBxKHt2ZDp0LmdldERlc2NyaXB0aW9uKCl9KTthKFwiXCIpfWZ1bmN0aW9uICRzKHQsZSxzKXtjb25zdCBuPSExLGk9dDtsZXQgcj1udWxsO2lmKHN8fChyPW5ldyBFZSh7dmQ6aS5nZXREZXNjcmlwdGlvbigpfSkpLCFpLmlzRW1wdHkoKSl7Y29uc3QgdD1uZXcgVygwKTtmb3IobGV0IGU9MCxzPWkuZ2V0UGF0aENvdW50KCk7ZTxzO2UrKyl7aWYoaS5nZXRQYXRoU2l6ZShlKT4wJiYhaS5pc0Nsb3NlZFBhdGhJblhZUGxhbmUoZSkpe2NvbnN0IHM9aS5nZXRQYXRoU3RhcnQoZSk7dC5hZGQocyk7Y29uc3Qgbj1pLmdldFBhdGhFbmQoZSktMTt0LmFkZChuKX19aWYodC5zaXplKCk+MCl7Y29uc3QgZT1uZXcgRyxuPWkuZ2V0QXR0cmlidXRlU3RyZWFtUmVmKDApLG89e3VzZXJTb3J0KHQsZSxzKXtjb25zdCBpPVEuZ2V0TkFOKCkscj1RLmdldE5BTigpO3Muc29ydCh0LGUsKCh0LGUpPT4obi5xdWVyeVBvaW50MkQoMip0LGkpLG4ucXVlcnlQb2ludDJEKDIqZSxyKSxpLmNvbXBhcmUocikpKSl9LGdldFZhbHVlOnQ9Pm4ucmVhZCgyKnQrMSl9O2Uuc29ydCh0LDAsdC5zaXplKCksbyk7bGV0IGE9bi5yZWFkUG9pbnQyRCgyKnQucmVhZCgwKSksaD0wLHU9MTtjb25zdCBtPW5ldyBxO2ZvcihsZXQgaT0xLHI9dC5zaXplKCk7aTxyO2krKyl7Y29uc3QgZT1uLnJlYWRQb2ludDJEKDIqdC5yZWFkKGkpKTtpZihlLmlzRXF1YWxQb2ludDJEKGEpKXQucmVhZChoKT50LnJlYWQoaSk/KHQud3JpdGUoaCxZdCgpKSxoPWkpOnQud3JpdGUoaSxZdCgpKSx1Kys7ZWxzZXtpZigxJnUpe2lmKHMpcmV0dXJue2JOb3RFbXB0eTohMCxib3VuZGFyeTpuZXcgRWUoe30pfX1lbHNlIHQud3JpdGUoaCxZdCgpKTthPWUsaD1pLHU9MX19aWYoMSZ1KXtpZihzKXJldHVybntiTm90RW1wdHk6ITAsYm91bmRhcnk6bmV3IEVlKHt9KX19ZWxzZSB0LndyaXRlKGgsWXQoKSk7aWYoIXMpe3Quc29ydCgwLHQuc2l6ZSgpKTtmb3IobGV0IGU9MCxzPXQuc2l6ZSgpO2U8cyYmdC5yZWFkKGUpIT09WXQoKTtlKyspaS5nZXRQb2ludEJ5VmFsKHQucmVhZChlKSxtKSxyLmFkZChtKX19fXJldHVybiBzP3tiTm90RW1wdHk6bixib3VuZGFyeTpuZXcgRWUoe30pfTp7Yk5vdEVtcHR5Om4sYm91bmRhcnk6cn19ZnVuY3Rpb24gdG4odCxlLG4saSl7Y29uc3Qgcj00KmR0KCkqKE1hdGguYWJzKGUudm1pbikrTWF0aC5hYnMoZS52bWF4KSksbz1kdCgpO2lmKDE9PT10LmdldE1heERlcml2YXRpdmUoKSl7cyhuPjApO2NvbnN0IG89aG4odCwwLGUsZHQoKSxyKTtyZXR1cm4gaVswXT1vLnJvb3Qsby5jUm9vdHN9bGV0IGEsaD1bXTtjb25zdCB1PW5ldyBIKGUudm1pbi1yLGUudm1heCtyKTtoLnB1c2gobmV3IFEodS52bWluLHUudm1heCkpO2xldCBtPTA7Zm9yKGxldCBzPXQuZ2V0TWF4RGVyaXZhdGl2ZSgpLTE7cz49MDtzLS0pe2E9aCxoPVtdO2ZvcihsZXQgdT0wLGw9YS5sZW5ndGg7dTxsO3UrKyl7aWYoYVt1XVswXTxhW3VdWzFdKXtsZXQgbCxjLGc7aWYocz09PXQuZ2V0TWF4RGVyaXZhdGl2ZSgpLTE/KHtyb290OmwsZnVuY0F0Um9vdDpjLGNSb290czpnfT1obih0LHMsSC5jb25zdHJ1Y3QoYVt1XVswXSxhW3VdWzFdKSxvLC41KnIpKTooe3Jvb3Q6bCxmdW5jQXRSb290OmMsY1Jvb3RzOmd9PXVuKHQscyxILmNvbnN0cnVjdChhW3VdWzBdLGFbdV1bMV0pLG8sLjUqcikpLDE9PT1nKXtpZigwPT09cyl7aWYobTxuKXtpZihhW3VdWzBdPD1lLnZtaW4mJmFbdV1bMV0+PWUudm1pbiYmbCE9PWUudm1pbil7MD09PXQuZ2V0VmFsdWUoMCxlLnZtaW4pJiYobD1lLnZtaW4pfWlmKGFbdV1bMF08PWUudm1heCYmYVt1XVsxXT49ZS52bWF4JiZsIT09ZS52bWF4KXswPT09dC5nZXRWYWx1ZSgwLGUudm1heCkmJihsPWUudm1heCl9aVttXT1lLnNuYXBDbGlwKGwpLG0+MD9pW21dLWlbbS0xXT5yJiZtKys6bSsrfX1lbHNle2NvbnN0IHQ9US5nZXROQU4oKTt0WzBdPWFbdV1bMF0sdFsxXT1sLGgucHVzaCh0KTtjb25zdCBlPVEuZ2V0TkFOKCk7ZVswXT1sLGVbMV09YVt1XVsxXSxoLnB1c2goZSl9Y29udGludWV9fWgucHVzaChhW3VdKX19cmV0dXJuIG19ZnVuY3Rpb24gZW4odCxlLHMsbil7Y29uc3QgaT1uZXcgYXQscj1jbihuZXcgYXQodCksbmV3IGF0KGUpLHMsaSk7cmV0dXJuIG5bMF09aS52YWx1ZSgpLHJ9ZnVuY3Rpb24gc24odCxlLHMsbixpLHIpe2NvbnN0IG89bHQoYXQsMiksYT1nbihuZXcgYXQodCksbmV3IGF0KGUpLG5ldyBhdChzKSxuLGksbyk7cmV0dXJuIHJbMF09b1swXS52YWx1ZSgpLHJbMV09b1sxXS52YWx1ZSgpLGF9ZnVuY3Rpb24gbm4odCxlLHMsbixpLHIsbyl7Y29uc3QgYT1sdChhdCwzKSxoPWRuKG5ldyBhdCh0KSxuZXcgYXQoZSksbmV3IGF0KHMpLG5ldyBhdChuKSxpLHIsYSk7cmV0dXJuIG9bMF09YVswXS52YWx1ZSgpLG9bMV09YVsxXS52YWx1ZSgpLG9bMl09YVsyXS52YWx1ZSgpLGh9ZnVuY3Rpb24gcm4odCxlLHMsbixpLHIsbyxhKXtyZXR1cm4gYW4odCxlLHMsbixpLHIsbyxhKX1mdW5jdGlvbiBvbih0LGUscyxuLGkscil7cmV0dXJuIGxuKHQsZSxzLG4saSxyKX1mdW5jdGlvbiBhbih0LGUscyxuLGkscixvLGEpe2NvbnN0IGg9VShzKnMsTnVtYmVyLk5hTik7aC5maWxsKDApLEsoYSxuLDAsMCxzKTtjb25zdCB1PVUocyxOdW1iZXIuTmFOKSxtPVUocyxOdW1iZXIuTmFOKSxsPVUocyxOdW1iZXIuTmFOKTtsZXQgYz10KGEscyxlKTtjb25zdCBnPTEwMDtsZXQgZD0wO2ZvcihkPTA7ZDxnO2QrKyl7Y29uc3Qgbj1jO2ZvcihsZXQgdD0wO3Q8czsrK3QpbVt0XT1hW3RdO2lmKGQlcz09PTApe2guZmlsbCgwKTtmb3IobGV0IHQ9MDt0PHM7dCsrKWhbdCpzK3RdPTF9bGV0IG89MCxnPTA7Zm9yKGxldCBtPTA7bTxzOysrbSl7Zm9yKGxldCB0PTA7dDxzOysrdCl1W3RdPWhbbSpzK3RdO2NvbnN0IG49YztjPW1uKHQsZSxhLHUsaSxyLHMpO2NvbnN0IGw9bi1jO2w+byYmKGc9bSxvPWwpfWZvcihsZXQgdD0wO3Q8czt0KyspdVt0XT1hW3RdLW1bdF0sbFt0XT1hW3RdKyhhW3RdLW1bdF0pO2NvbnN0IF89dChsLHMsZSk7aWYoXzxuKXtpZigyKihuLTIqYytfKSp6dChuLWMtbyk8enQobi1fKSpvKXtjPW1uKHQsZSxhLHUsaSxyLHMpO2ZvcihsZXQgdD0wO3Q8czsrK3QpaFtnKnMrdF09aFsocy0xKSpzK3RdLGhbKHMtMSkqcyt0XT11W3RdfX1pZihuPD1jKXJldHVybiB0KGEscyxlKX1yZXR1cm4gY31mdW5jdGlvbiBobih0LGUscyxuLGkpe2NvbnN0IHI9e3Jvb3Q6MCxmdW5jQXRSb290OjAsY1Jvb3RzOjB9O2xldCBvPXMudm1pbixhPXMudm1heCx1PTAsbT1OdW1iZXIuTUFYX1ZBTFVFLGw9dC5nZXRWYWx1ZShlLG8pLGM9dC5nZXRWYWx1ZShlLGEpLGc9MCxkPTAsXz0wO2lmKGw+PTAmJmM+PTB8fGw8PTAmJmM8PTApcmV0dXJuIE1hdGguYWJzKGwpPE1hdGguYWJzKGMpPyhyLmZ1bmNBdFJvb3Q9bCxyLnJvb3Q9byxyLmNSb290cz0wPT09bD8xOjAscik6KHIuZnVuY0F0Um9vdD1jLHIucm9vdD1hLHIuY1Jvb3RzPTA9PT1jPzE6MCxyKTtNYXRoLmFicyhsKTxNYXRoLmFicyhjKSYmKGE9ZXQobyxvPWEpLGM9ZXQobCxsPWMpKSx1PW8sZz1sO2xldCBwPSEwLGY9MDtmb3IoOzAhPT1jJiZNYXRoLmFicyhvLWEpPm4qTWF0aC5hYnMoYSkraTtmKyspe2xldCBzPWY+NjQ7aWYoIXMpe2Q9bCE9PWcmJmMhPT1nP28qYypnLygobC1jKSoobC1nKSkrYSpsKmcvKChjLWwpKihjLWcpKSt1KmwqYy8oKGctbCkqKGctYykpOmEtYyooYS1vKS8oYy1sKTtjb25zdCB0PSgzKm8rYSkvNDtpZihzPSEoZD50JiZkPGF8fGQ+YSYmZDx0KSwhcyl7Y29uc3QgdD1uKk1hdGguYWJzKGEpK2k7aWYocCl7Y29uc3QgZT1NYXRoLmFicyhhLXUpO3M9TWF0aC5hYnMoZC1hKT49LjUqZXx8ZTx0fWVsc2V7Y29uc3QgZT1NYXRoLmFicyh1LW0pO3M9TWF0aC5hYnMoZC1hKT49LjUqZXx8ZTx0fX19aWYocz8oZD0obythKS8yLHA9ITApOnA9ITEsXz10LmdldFZhbHVlKGUsZCksMD09PV8pcmV0dXJuIHIucm9vdD1kLHIuZnVuY0F0Um9vdD1fLHIuY1Jvb3RzPTEscjtpZighcyl7Y29uc3Qgcz1vLWQsbj1kLWE7aWYoTWF0aC5hYnMocyk+MTAqTWF0aC5hYnMobikpe2xldCBzPWErMypuO2ZvcihsZXQgbj0wO248MjtuKyspe2NvbnN0IG49dC5nZXRWYWx1ZShlLHMpO050KGwpKk50KG4pPjA/KG89cyxsPW4pOnM9cnQobyxhLC43NSl9fWVsc2UgaWYoTWF0aC5hYnMobik+MTAqTWF0aC5hYnMocykpe2xldCBuPW8tMypzO2ZvcihsZXQgcz0wO3M8MjsrK3Mpe2NvbnN0IHM9dC5nZXRWYWx1ZShlLG4pO050KGMpKk50KHMpPjA/KGE9bixjPXMpOm49cnQobyxhLC4yNSl9fX1tPXUsdT1hLGc9YyxOdChsKSpOdChfKTwwPyhhPWQsYz1fKToobz1kLGw9XyksTWF0aC5hYnMobCk8TWF0aC5hYnMoYykmJihhPWV0KG8sbz1hKSxjPWV0KGwsbD1jKSksMTI4PT09ZiYmaChcIlJvb3RfZmluZGVyIGl0ZXJhdGlvbnMgZXhjZWVkZWRcIil9cmV0dXJuIHIucm9vdD1hLHIuZnVuY0F0Um9vdD1jLHIuY1Jvb3RzPTEscn1mdW5jdGlvbiB1bih0LGUscyxuLGkpe2NvbnN0IHI9e3Jvb3Q6MCxmdW5jQXRSb290OjAsY1Jvb3RzOjB9O2xldCBvPXMudm1pbixhPXQuZ2V0VmFsdWUoZSxvKSx1PXMudm1heCxtPXQuZ2V0VmFsdWUoZSx1KTtpZihhPj0wJiZtPj0wfHxhPD0wJiZtPD0wKXJldHVybiBNYXRoLmFicyhhKTxNYXRoLmFicyhtKT8oci5mdW5jQXRSb290PWEsci5yb290PW8sci5jUm9vdHM9MD09PWE/MTowLHIpOihyLmZ1bmNBdFJvb3Q9bSxyLnJvb3Q9dSxyLmNSb290cz0wPT09bT8xOjAscik7bTwwJiYobT1ldChhLGE9bSksdT1ldChvLG89dSkpO2xldCBsPS41KihvK3UpLGM9TWF0aC5hYnModS1vKSxnPWMsZD10LmdldFZhbHVlKGUsbCksXz10LmdldFZhbHVlKGUrMSxsKTtjb25zdCBwPTEsZj00O2xldCBQPWY7Y29uc3QgeT0yO2xldCB4PTEsQz0wLHY9MCxiPXA7Y29uc3QgUz0zMjtsZXQgRT0wO2Zvcig7KytFPDEwMDspe2xldCBzO0U+U3x8MD09PV98fGI9PT15JiZDPjF8fGI9PT1wJiZQPGY/KGI9cCx4PjEmJngtLSk6KGI9eSx2PjEmJk1hdGguYWJzKDIqZCk+TWF0aC5hYnMoYypfKSYmeCsrKSxjPWc7bGV0IG49ITE7aWYoYj09PXApZG97aWYodj4yKXtjb25zdCB0PTE2Kk1hdGguYWJzKGMpO2lmKC41Kk1hdGguYWJzKG8tdSk+dCl7Y29uc3QgZT1NYXRoLm1pbihvLHUpLG49TWF0aC5tYXgobyx1KTtpZihsPT09ZSl7cz1sLGw9ZSt0LGc9bC1zO2JyZWFrfWlmKGw9PT1uKXtzPWwsbD1uLXQsZz1sLXM7YnJlYWt9fX1nPS41Kih1LW8pLHM9bCxsPW8rZyxuPW89PT1sfHx1PT09bH13aGlsZSgwKTtlbHNlIGZvcig7Oyl7Zz14KmQvXyxzPWwsbC09ZyxuPWw9PT1zO2NvbnN0IHQ9TWF0aC5taW4obyx1KSxlPU1hdGgubWF4KG8sdSk7aWYobDx0KXtpZih4PjEpe2w9cyx4LS07Y29udGludWV9Zz1zLXQsbD10fWVsc2UgaWYobD5lKXtpZih4PjEpe2w9cyx4LS07Y29udGludWV9Zz1zLWUsbD1lfWJyZWFrfWlmKG58fE1hdGguYWJzKGcpPGkpe3MhPT1sJiYoZD10LmdldFZhbHVlKGUsbCkpO2JyZWFrfWQ9dC5nZXRWYWx1ZShlLGwpLF89dC5nZXRWYWx1ZShlKzEsbCk7Y29uc3Qgcj1vLGg9dTtkPDA/KGE9ZCxvPWwpOihtPWQsdT1sKSxiPT09eSYmKG89PT1yJiZ1PT09aHx8dj4xJiZNYXRoLmFicyhnKT49LjUwMDEqTWF0aC5hYnMoYykpP0MrKzpDPTAsYj09PXA/KFArKyx2PTApOihQPTAsdisrKX1yZXR1cm4gMTAwPT09RSYmaChcIlJvb3RfZmluZGVyIGl0ZXJhdGlvbnMgZXhjZWVkZWRcIiksci5yb290PWwsci5mdW5jQXRSb290PWQsci5jUm9vdHM9MSxyfWZ1bmN0aW9uIG1uKHQsZSxzLG4saSxyLG8pe2NvbnN0IGE9bi5zbGljZSgwLG8pO2xldCBoPTA7Zm9yKGxldCBmPTA7ZjxvO2YrKyloKz1uW2ZdKm5bZl07aWYoaD1NYXRoLnNxcnQoaCksaD4wKWZvcihsZXQgZj0wO2Y8bztmKyspYVtmXS89aDtsZXQgdT1OdW1iZXIuTkVHQVRJVkVfSU5GSU5JVFksbT1OdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFk7e2NvbnN0IHQ9VShvLDApO2ZvcihsZXQgZT0wO2U8bztlKyspdFtlXT1lO3Quc29ydCgoKHQsZSk9Pntjb25zdCBzPU1hdGguYWJzKGFbdF0pLG49TWF0aC5hYnMoYVtlXSk7cmV0dXJuIHM8bj8tMTpzPm4/MTowfSkpO2ZvcihsZXQgZT0wO2U8bztlKyspe2NvbnN0IG49dFtlXTtpZigwPT09YVtuXSljb250aW51ZTtsZXQgbz0oaVtuXS1zW25dKS9hW25dLGg9KHJbbl0tc1tuXSkvYVtuXTtoPG8mJihoPWV0KG8sbz1oKSksbz51JiYodT1vKSxoPG0mJihtPWgpfX1sZXQgbD0wO2NvbnN0IGM9KE1hdGguYWJzKHUpK01hdGguYWJzKG0pKSpkdCgpKjEwMCxnPVUobyxOdW1iZXIuTmFOKSxkPWEuc2xpY2UoKTtmdW5jdGlvbiBfKG4saSl7Zm9yKGxldCB0PTAsZT1vO3Q8ZTt0KyspZ1t0XT1zW3RdK24qZFt0XTtyZXR1cm4gdChnLG8sZSl9Yz4wJiYobD1vbihfLG51bGwsdSwwLG0sYykpO2NvbnN0IHA9XyhsKTtmb3IobGV0IGY9MCxQPW87ZjxQO2YrKylzW2ZdPV90KGdbZl0saVtmXSxyW2ZdKTtyZXR1cm4gcH1mdW5jdGlvbiBsbih0LGUscyxuLGkscil7Y29uc3Qgbz11ZSgpO2xldCBhPW4saD10KGEsZSksdT1zLG09aSxsPXQodSxlKSxjPXQobSxlKTtoPmwmJihoPWwsYT11KSxoPmMmJihoPWMsYT1tKTtsZXQgZz11LGQ9bSxfPWwscD1jO18+cCYmKF89ZXQocCxwPV8pLGQ9ZXQoZyxnPWQpKTtsZXQgZj1hLWcsUD1nLWQ7Y29uc3QgeT0uNSpNYXRoLm1pbihyLG0tdSkseD0yKnksQz0xMDA7bGV0IHYsYj0wO2Zvcih2PTA7djxDJiYhKG0tdTw9eCk7Kyt2KXtjb25zdCBzPXUrLjUqKG0tdSk7bGV0IG49Yj4wO2lmKCFuJiZNYXRoLmFicyhQKTw9eSYmKG49ITAsYj0zKSwhbil7Y29uc3QgdD1hLWcsZT1hLWQscz10KihoLXApO2xldCBpPWUqKGgtXykscj1lKmktdCpzO2k9MiooaS1zKSxpPjAmJihyPS1yKSxpPU1hdGguYWJzKGkpLDA9PT1pfHxNYXRoLmFicyhyKT49TWF0aC5hYnMoaSpQLzIpfHxyPD1pKih1LWEpfHxyPj1pKihtLWEpPyhuPSEwLGI9Myk6KFA9ZixmPXIvaSl9biYmKFA9YT49cz91LWE6bS1hLGY9bypQLGItLSk7bGV0IGk9YStmO2k8dSt5P2k9dSt5Omk+bS15JiYoaT1tLXkpO2NvbnN0IHI9dChpLGUpO3I8aD8oaT49YT8odT1hLGw9aCk6KG09YSxjPWgpLGQ9ZyxnPWEsYT1pLHA9XyxfPWgsaD1yKTooaTxhPyh1PWksbD1yKToobT1pLGM9cikscjw9X3x8Zz09PWE/KGQ9ZyxnPWkscD1fLF89cik6KHI8PXB8fGQ9PT1hfHxkPT09ZykmJihkPWkscD1yKSl9cmV0dXJuIGF9ZnVuY3Rpb24gY24odCxlLHMsbil7cmV0dXJuIHQuaXNaZXJvKCk/ZS5pc1plcm8oKT8tMTowOihuLnNldEUoZS5jbG9uZSgpLm5lZ2F0ZVRoaXMoKS5kaXZUaGlzRSh0KSkscy5jb250YWluc0Nvb3JkaW5hdGUobi52YWx1ZSgpKT8xOjApfWZ1bmN0aW9uIGduKHQsZSxzLG4saSxyKXtpZigwPT09dC52YWx1ZSgpKXtpZihpKXJldHVybiByWzBdLnNldCgxKSxuLmNvbnRhaW5zQ29vcmRpbmF0ZShyWzBdLnZhbHVlKCkpPzE6MDtyZXR1cm4gY24oZSxzLG4sclswXSl9aWYoaSl7bGV0IGU9MjtyZXR1cm4gclswXS5zZXQoMSksclsxXS5zZXRFKHMpLmRpdlRoaXNFKHQpLHJbMV0uZXEoclswXSkmJihyWzFdLnNldCgxKSxlPTEpLG4uY29udGFpbnNDb29yZGluYXRlKHJbMV0udmFsdWUoKSl8fChlPTEpLG4uY29udGFpbnNDb29yZGluYXRlKHJbMF0udmFsdWUoKSl8fChlLS0sclswXS5zZXRFKHJbMV0pKSwyPT09ZSYmclswXS52YWx1ZSgpPnJbMV0udmFsdWUoKSYmKHJbMV09ZXQoclswXSxyWzBdPXJbMV0pKSxlfWNvbnN0IG89ZS5jbG9uZSgpLnNxclRoaXMoKS5zdWJUaGlzRSh0LmNsb25lKCkubXVsVGhpc0UocykubXVsVGhpc0UoTHQpKTtpZihvLmx0KHV0KSlyZXR1cm4gMDtjb25zdCBhPW5ldyBhdChlLnZhbHVlKCk+PTA/MTotMSksaD1vLmNsb25lKCkuc3FydFRoaXMoKSx1PW5ldyBhdCgtLjUpLm11bFRoaXNFKGUuY2xvbmUoKS5hZGRUaGlzRShhLmNsb25lKCkubXVsVGhpc0UoaCkpKTtsZXQgbT0wO3JbMF0uc2V0RSh1LmRpdkUodCkpO2NvbnN0IGw9bmV3IGF0KHJbMF0udmFsdWUoKSksYz1uZXcgYXQodC52YWx1ZSgpKS5tdWxFKGwpLmFkZEUobmV3IGF0KGUudmFsdWUoKSkubXVsRShsKS5hZGRFKG5ldyBhdChzLnZhbHVlKCkpKSk7cmV0dXJuIGMuaXNaZXJvKCl8fENuKHJbMF0sdCxlLHMsclswXSksbi5jb250YWluc0Nvb3JkaW5hdGUoclswXS52YWx1ZSgpKSYmbSsrLDAhPT1oLnZhbHVlKCkmJjAhPT11LnZhbHVlKCk/KHJbbV0uYXNzaWduKHMuZGl2RSh1KSksbC5zZXQoclttXS52YWx1ZSgpKSxjLmFzc2lnbihuZXcgYXQodC52YWx1ZSgpKS5tdWxFKGwpLmFkZEUobmV3IGF0KGUudmFsdWUoKSkubXVsRShsKS5hZGRFKG5ldyBhdChzLnZhbHVlKCkpKSkpLGMuaXNaZXJvKCl8fENuKHJbbV0sdCxlLHMsclttXSksbi5jb250YWluc0Nvb3JkaW5hdGUoclttXS52YWx1ZSgpKSYmbSsrLDI9PT1tJiZyWzBdLnZhbHVlKCk+clsxXS52YWx1ZSgpJiYoclsxXT1ldChyWzBdLHJbMF09clsxXSkpLG0pOm19ZnVuY3Rpb24gZG4odCxlLHMsbixpLHIsbyl7aWYoMD09PXQudmFsdWUoKSl7cmV0dXJuIGduKGUscyxuLGkscixvKX1pZihyKXtsZXQgcz0xO29bMF0uc2V0KDEpO2NvbnN0IHI9by5zbGljZShzKSxhPWduKHQsZS5hZGRFKHQpLG4ubmVnYXRlKCksaSwhMSxyKTtpZihhPjApe3MrPWE7Zm9yKGxldCB0PTE7dDxzO3QrKylvW3RdLmVxKGh0KSYmKG9bcy0xXT1ldChvW3RdLG9bdF09b1tzLTFdKSxzLS0pfWNvbnN0IGg9by5zbGljZSgwLHMpO2guc29ydCgoKHQsZSk9PnQudmFsdWUoKTxlLnZhbHVlKCk/LTE6dC52YWx1ZSgpPmUudmFsdWUoKT8xOjApKTtmb3IobGV0IHQ9MDt0PHM7Kyt0KW9bdF09aFt0XTtyZXR1cm4gc31yZXR1cm4gdm4odCxlLHMsbixpLG8pfWZ1bmN0aW9uIF9uKHQscyxuLGkscixvKXtyZXR1cm4obzxzfHxzPDApJiZlKFwibnRoX2RlZ3JlZV9yZWFsX3Jvb3RzXCIpLGJuKHQscyxuLGkscil9ZnVuY3Rpb24gcG4odCxlLHMsbil7cmV0dXJue2NvZWYwOnQuY2xvbmUoKSxjb2VmMTplLmNsb25lKCksY29lZjI6cy5jbG9uZSgpLGNvZWYzOm4uY2xvbmUoKSxjYWxjRih0KXtyZXR1cm4gdGhpcy5jb2VmMC5jbG9uZSgpLm11bFRoaXModCkuYWRkVGhpc0UodGhpcy5jb2VmMSkubXVsVGhpcyh0KS5hZGRUaGlzRSh0aGlzLmNvZWYyKS5tdWxUaGlzKHQpLmFkZFRoaXNFKHRoaXMuY29lZjMpfSxjYWxjREYodCl7cmV0dXJuIHRoaXMuY29lZjAuY2xvbmUoKS5tdWxUaGlzKDMpLm11bFRoaXModCkuYWRkVGhpc0UodGhpcy5jb2VmMS5jbG9uZSgpLm11bFRoaXNCeVBvd2VyMigyKSkubXVsVGhpcyh0KS5hZGRUaGlzRSh0aGlzLmNvZWYyKX0sZXN0aW1hdGVFcnJvcih0KXtjb25zdCBlPU1hdGguYWJzKHQpLHM9KCh0aGlzLmNvZWYwLmVwcygpKmUrdGhpcy5jb2VmMS5lcHMoKSkqZSt0aGlzLmNvZWYyLmVwcygpKSplK3RoaXMuY29lZjMuZXBzKCkrdGhpcy5jYWxjRih0KS5lcHMoKSxuPXRoaXMuY29lZjAuY2xvbmUoKS5tdWxUaGlzKHQpLm11bFRoaXMoMykuYWRkVGhpc0UodGhpcy5jb2VmMS5jbG9uZSgpLm11bFRoaXMoMikpLm11bFRoaXModCkuYWRkVGhpc0UodGhpcy5jb2VmMik7aWYobi5pc1plcm8oKSl7Y29uc3QgZT10aGlzLmNvZWYwLmNsb25lKCkubXVsVGhpcyh0KS5tdWxUaGlzKDYpLmFkZFRoaXNFKHRoaXMuY29lZjEuY2xvbmUoKS5tdWxUaGlzKDIpKTtpZihlLmlzWmVybygpKXtjb25zdCB0PXRoaXMuY29lZjAuY2xvbmUoKS5tdWxUaGlzKDYpO3JldHVybiBNYXRoLnBvdyg2KnMvTWF0aC5hYnModC52YWx1ZSgpKSwxLzMpfXJldHVybiBNYXRoLnNxcnQoMipzL01hdGguYWJzKGUudmFsdWUoKSkpfXJldHVybiBzL01hdGguYWJzKG4udmFsdWUoKSl9fX1jbGFzcyBmbnt1cGRhdGVDb2Vmcyh0KXtpZih0aGlzLmxhc3REZXJpdjE9PT10KXJldHVybiB0aGlzLmN1ckNvZWZzPXRoaXMuZGVyaXZDb2VmczEsdm9pZCh0aGlzLmxhc3RVc2VkPTEpO2lmKHRoaXMubGFzdERlcml2Mj09PXQpcmV0dXJuIHRoaXMuY3VyQ29lZnM9dGhpcy5kZXJpdkNvZWZzMix2b2lkKHRoaXMubGFzdFVzZWQ9Mik7bGV0IGU7MT09PXRoaXMubGFzdFVzZWQ/KGU9dGhpcy5kZXJpdkNvZWZzMix0aGlzLmxhc3REZXJpdjI9dCx0aGlzLmxhc3RVc2VkPTIpOihlPXRoaXMuZGVyaXZDb2VmczEsdGhpcy5sYXN0RGVyaXYxPXQsdGhpcy5sYXN0VXNlZD0xKSxlLmxlbmd0aD0wO2ZvcihsZXQgcz0wLG49dGhpcy50cnVlUG93ZXItdDtzPD1uOysrcyl7ZS5wdXNoKHRoaXMuY29lZnNbcyt0XS5jbG9uZSgpKTtsZXQgbj1zK3QsaT1uLS07Zm9yKGxldCBlPTE7ZTx0O2UrKylpKj1uLS07ZVtzXS5tdWxUaGlzKGkpfXRoaXMuY3VyQ29lZnM9ZX1jb25zdHJ1Y3Rvcih0LGUscyxuKXt0aGlzLmRlcml2Q29lZnMxPVtdLHRoaXMuZGVyaXZDb2VmczI9W10sdGhpcy5sYXN0RGVyaXYxPS0xLHRoaXMubGFzdERlcml2Mj0tMSx0aGlzLmxhc3RVc2VkPS0xLHRoaXMuY3VyQ29lZnM9bnVsbCx0aGlzLmNvZWZzPXQsdGhpcy5wb3dlcj1lLHRoaXMudHJ1ZVBvd2VyPTA7Zm9yKGxldCBpPWU7aT49MTtpLS0paWYoMCE9PXRoaXMuY29lZnNbaV0udmFsdWUoKSl7dGhpcy50cnVlUG93ZXI9aTticmVha319Z2V0TWF4RGVyaXZhdGl2ZSgpe3JldHVybiB0aGlzLnRydWVQb3dlcisxfWdldFZhbHVlKHQsZSl7bGV0IHM9dGhpcy5jb2VmczswPT09dD9zPXRoaXMuY29lZnM6KHRoaXMudXBkYXRlQ29lZnModCkscz10aGlzLmN1ckNvZWZzKTtjb25zdCBuPW5ldyBwdCgwKTtsZXQgaT0xO2ZvcihsZXQgcj0wLG89dGhpcy50cnVlUG93ZXItdDtyPD1vOysrciluLnBlKGkqc1tyXS52YWx1ZSgpKSxpKj1lO3JldHVybiBuLmdldFJlc3VsdCgpfWdldEVycm9yKHQpe2NvbnN0IGU9TWF0aC5hYnModCkscz1uZXcgcHQoMCksbj1uZXcgYXQoMSksaT1uZXcgYXQoMCk7Zm9yKGxldCBvPTAsYT10aGlzLnBvd2VyO288PWE7KytvKWkuYWRkVGhpc0UodGhpcy5jb2Vmc1tvXS5tdWxFKG4pKSxzLnBlKG4udmFsdWUoKSp0aGlzLmNvZWZzW29dLmVwcygpKSxuLm11bFRoaXMoZSk7cy5wZShpLmVwcygpKTtsZXQgcj0xO2ZvcihsZXQgbz0xO288PXRoaXMudHJ1ZVBvd2VyOysrbyl7cio9byx0aGlzLnVwZGF0ZUNvZWZzKG8pO2NvbnN0IGU9bmV3IGF0KDEpLG49bmV3IGF0KDApO2ZvcihsZXQgcz0wLGk9dGhpcy50cnVlUG93ZXItbztzPD1pOysrcyluLmFkZFRoaXNFKHRoaXMuY3VyQ29lZnNbc10ubXVsRShlKSksZS5tdWxUaGlzKHQpO2lmKCFuLmlzWmVybygpKXJldHVybiBNYXRoLnBvdyhyKnMuZ2V0UmVzdWx0KCkvTWF0aC5hYnMobi52YWx1ZSgpKSwxL28pfXJldHVybiAwfX1mdW5jdGlvbiBQbih0LGUscyxuLGkscil7bGV0IG89dCxhPWUsaD1hLW87aWYoIXIpe2xldCBzPW4uY2FsY0YodCkudmFsdWUoKSxpPW4uY2FsY0YoZSkudmFsdWUoKTtpZigocz4wfHxzPmkpJiYoYT1ldChvLG89YSksaT1ldChzLHM9aSkpLHM+PTB8fGk8PTApcmV0dXJuITF9bGV0IHUsbT0hMSxsPXMsYz0wO2Zvcig7YzwxMDA7YysrKXtjb25zdCB0PW4uY2FsY0YobCk7aWYodT1uLmNhbGNERihsKSx1LmlzWmVybygpKXJldHVybiExO2lmKCF0LnZhbHVlKCl8fGM+MyYmdC5pc1plcm8oKSl7bT0hMDticmVha31yfHwodC52YWx1ZSgpPDA/bz1sOmE9bCk7Y29uc3QgZT10LnZhbHVlKCkvdS52YWx1ZSgpLHM9bC1lO3J8fChzPj1vJiZzPD1hfHxzPj1hJiZzPD1vKSYmTWF0aC5hYnMoZSk8PS41Kmg/KGw9cyxoPU1hdGguYWJzKGUpKTooaD1NYXRoLmFicyguNSooYS1vKSksbD0uNSoobythKSl9cmV0dXJuISFtJiYoaS5zZXQobCxuLmVzdGltYXRlRXJyb3IobCkpLCEwKX1mdW5jdGlvbiB5bih0LGUscyxuLGkscixvLGEpe3JldHVybiBQbih0LGUscy52YWx1ZSgpLHBuKG4saSxyLG8pLGEsITEpfWNsYXNzIHhue2NvbnN0cnVjdG9yKHQsZSxzKXt0aGlzLmNvZWZzPWx0KGF0LDMpLHRoaXMuY29lZnNbMF0uc2V0RSh0KSx0aGlzLmNvZWZzWzFdLnNldEUoZSksdGhpcy5jb2Vmc1syXS5zZXRFKHMpfWNhbGNGKHQpe2NvbnN0IGU9bmV3IGF0KHQpO3JldHVybiB0aGlzLmNvZWZzWzBdLm11bEUoZSkuYWRkRSh0aGlzLmNvZWZzWzFdKS5tdWxFKGUpLmFkZEUodGhpcy5jb2Vmc1syXSl9Y2FsY0RGKHQpe2NvbnN0IGU9bmV3IGF0KHQpO3JldHVybiBhdC5zdF9tdWxCeVBvd2VyMih0aGlzLmNvZWZzWzBdLDIpLm11bEUoZSkuYWRkRSh0aGlzLmNvZWZzWzFdKX1lc3RpbWF0ZUVycm9yKHQpe2NvbnN0IGU9TWF0aC5hYnModCkscz0odGhpcy5jb2Vmc1swXS5lcHMoKSplK3RoaXMuY29lZnNbMV0uZXBzKCkpKmUrdGhpcy5jb2Vmc1syXS5lcHMoKSt0aGlzLmNhbGNGKHQpLmVwcygpLG49bmV3IGF0KDIpLm11bEUodGhpcy5jb2Vmc1swXSkubXVsKHQpLmFkZEUodGhpcy5jb2Vmc1sxXSk7aWYobi5pc1plcm8oKSl7Y29uc3QgdD10aGlzLmNvZWZzWzBdLnZhbHVlKCk7cmV0dXJuIE1hdGguc3FydChzL01hdGguYWJzKHQpKX1yZXR1cm4gcy9NYXRoLmFicyhuLnZhbHVlKCkpfX1mdW5jdGlvbiBDbih0LGUscyxuLGkpe3JldHVybiBQbigwLDAsdC52YWx1ZSgpLG5ldyB4bihlLHMsbiksaSwhMCl9ZnVuY3Rpb24gdm4odCxlLHMsbixpLHIpe2NvbnN0IG89bHQoYXQsMyk7bGV0IGE9MDtjb25zdCB1PWUubmVnYXRlKCkuZGl2VGhpc0UodC5jbG9uZSgpLm11bFRoaXMoMykpO2kuY29udGFpbnNDb29yZGluYXRlKHUudmFsdWUoKSkmJihvWzBdLnNldEUodSksYT0xKTtjb25zdCBtPWx0KGF0LDIpLGw9Z24odC5tdWwoMyksZS5tdWwoMikscyxpLCExLG0pO2lmKGw8MClyZXR1cm4gbi5pc1plcm8oKT8tMTowO2ZvcihsZXQgaD0wO2g8bDtoKyspaS5jb250YWluc0Nvb3JkaW5hdGUobVtoXS52YWx1ZSgpKSYmb1thKytdLnNldEUobVtoXSk7dHQobywwLGEsKCh0LGUpPT50LnZhbHVlKCk8ZS52YWx1ZSgpPy0xOnQudmFsdWUoKT5lLnZhbHVlKCk/MTowKSk7Y29uc3QgYz1sdChhdCw1KTtjWzBdLnNldChpLnZtaW4pO2ZvcihsZXQgaD0wO2g8YTtoKyspY1sxK2hdLnNldEUob1toXSk7Y1sxK2FdLnNldChpLnZtYXgpO2NvbnN0IGc9YSsyO2xldCBkPTEsXz0wO3tjb25zdCBpPWNbMF0uY2xvbmUoKTtpZih0LmNsb25lKCkubXVsVGhpc0UoaSkuYWRkVGhpc0UoZSkubXVsVGhpc0UoaSkuYWRkVGhpc0UocykubXVsVGhpc0UoaSkuYWRkVGhpc0UobikuaXNaZXJvKCkpe2NvbnN0IG89cG4odCxlLHMsbik7aS5zZXRFcnJvcihvLmVzdGltYXRlRXJyb3IoaS52YWx1ZSgpKSkscltfXT1pLF8rKyxkKyt9fWZvcihsZXQgcD1kO3A8ZztwKyspe2NvbnN0IG89Y1twXS5jbG9uZSgpLGE9dC5jbG9uZSgpLm11bFRoaXNFKG8pLmFkZFRoaXNFKGUpLm11bFRoaXNFKG8pLmFkZFRoaXNFKHMpLm11bFRoaXNFKG8pLmFkZFRoaXNFKG4pLmlzWmVybygpO2lmKGF8fCFjW3BdLmVxKGNbcC0xXSkpe2lmKGF8fHluKGNbcC0xXS52YWx1ZSgpLGNbcF0udmFsdWUoKSxjW3AtMV0uY2xvbmUoKS5hZGRUaGlzRShjW3BdKS5kaXZUaGlzQnlQb3dlcjIoMiksdCxlLHMsbixvKSl7aWYoXz4wJiZvLmVxKHJbXy0xXSkpY29udGludWU7aWYoXz49MyYmaChcImN1YmljX3BvbHlub21pYWxfc29sdmVyX3Rvb19tYW55X3Jvb3RzXCIpLGEpe2NvbnN0IGk9cG4odCxlLHMsbik7by5zZXRFcnJvcihpLmVzdGltYXRlRXJyb3Ioby52YWx1ZSgpKSl9cltfXT1vLF8rK31pZihjW3BdLnZhbHVlKCk9PT1pLnZtYXgpYnJlYWs7YSYmcCsrfX1yZXR1cm4gX31mdW5jdGlvbiBibih0LGUscyxuLGkscil7Y29uc3Qgbz1uZXcgZm4odCxlLHMsZHQoKSk7bGV0IGE9MDtpZigyPT09by50cnVlUG93ZXIpYT1nbih0WzJdLHRbMV0sdFswXSxzLG4saSk7ZWxzZSBpZigxPT09by50cnVlUG93ZXIpYT1jbih0WzFdLHRbMF0scyxpWzBdKTtlbHNle2lmKDA9PT1vLnRydWVQb3dlcilyZXR1cm4gdFswXS52YWx1ZSgpPzA6LTE7e2NvbnN0IHQ9W107dC5sZW5ndGg9ZSxhPXRuKG8scyxlLHQpO2ZvcihsZXQgZT0wO2U8YTtlKyspaVtlXS5zZXQodFtlXSl9fWZvcihsZXQgaD0wO2g8YTtoKyspaVtoXS5zZXRFcnJvcihvLmdldEVycm9yKGlbaF0udmFsdWUoKSkpO3JldHVybiBhfXZhciBTbj1iO2NsYXNzIEVuIGV4dGVuZHMgZ3N7Y29uc3RydWN0b3IodCl7cmV0dXJuIHZvaWQgMD09PXR8fHZ0KHQsXCJ2ZFwiKT8oc3VwZXIoe3ZkOnQ/LnZkLFhTdGFydDowLFlTdGFydDowLFhFbmQ6MCxZRW5kOjB9KSx0aGlzLm1fY3A9bmV3IFEoMCwwKSx2b2lkKHRoaXMubV93ZWlnaHRzPVsxLDAsMV0pKToodC5mcm9tUG9pbnQmJnQud2VpZ2h0P3Q9e2Zyb21Qb2ludDp0LmZyb21Qb2ludCxjb250cm9sUG9pbnQxOnQuY29udHJvbFBvaW50MSx0b1BvaW50OnQudG9Qb2ludCx3ZWlnaHQwOjEsd2VpZ2h0MTp0LndlaWdodCx3ZWlnaHQyOjF9OnQucG9pbnRzJiZ0LndlaWdodD90PXtmcm9tUG9pbnQ6dC5wb2ludHNbMF0sY29udHJvbFBvaW50MTp0LnBvaW50c1sxXSx0b1BvaW50OnQucG9pbnRzWzJdLHdlaWdodDA6MSx3ZWlnaHQxOnQud2VpZ2h0LHdlaWdodDI6MX06dC5wb2ludHMmJnQud2VpZ2h0cyYmKHQ9e2Zyb21Qb2ludDp0LnBvaW50c1swXSxjb250cm9sUG9pbnQxOnQucG9pbnRzWzFdLHRvUG9pbnQ6dC5wb2ludHNbMl0sd2VpZ2h0MDp0LndlaWdodHNbMF0sd2VpZ2h0MTp0LndlaWdodHNbMV0sd2VpZ2h0Mjp0LndlaWdodHNbMl19KSx0LmZyb21Qb2ludCYmdC53ZWlnaHQwPyhzdXBlcih7c3RhcnQ6dC5mcm9tUG9pbnQsZW5kOnQudG9Qb2ludH0pLCh0LndlaWdodDA8PTB8fHQud2VpZ2h0MTwwfHx0LndlaWdodDI8PTApJiZlKFwid2VpZ2h0c1wiKSx0aGlzLm1fY3A9dC5jb250cm9sUG9pbnQxLmNsb25lKCksdm9pZCh0aGlzLm1fd2VpZ2h0cz1bdC53ZWlnaHQwLHQud2VpZ2h0MSx0LndlaWdodDJdKSk6dC5jb3B5PyhzdXBlcih0KSx0aGlzLm1fY3A9dC5jb3B5Lm1fY3AuY2xvbmUoKSx2b2lkKHRoaXMubV93ZWlnaHRzPXQuY29weS5tX3dlaWdodHMuc2xpY2UoKSkpOnQubW92ZT8oc3VwZXIodCksdGhpcy5tX2NwPXQubW92ZS5tX2NwLmNsb25lKCksdm9pZCh0aGlzLm1fd2VpZ2h0cz10Lm1vdmUubV93ZWlnaHRzLnNsaWNlKCkpKTp2b2lkIGEoXCJ1bmV4cGVjdGVkIGNvbnN0cnVjdG9yIHBhcmFtXCIpKX1nZXRCb3VuZGFyeSgpe3JldHVybiBLcyh0aGlzKX1hc3NpZ25Nb3ZlKHQpe3JldHVybiB0aGlzfWFzc2lnbkNvcHkodCl7cmV0dXJuIHQuY29weVRvKHRoaXMpLHRoaXN9Y29uc3RydWN0KHQsZSxzLG4pe3RoaXMuZHJvcEFsbEF0dHJpYnV0ZXMoKSx0aGlzLnNldENwc0FuZFdlaWdodHModCxlLHMsMSxuLDEpLGxhKHRoaXMpfWNvbnN0cnVjdFdlaWdodHModCxlLHMsbixpLHIpe3RoaXMuZHJvcEFsbEF0dHJpYnV0ZXMoKSx0aGlzLnNldENwc0FuZFdlaWdodHModCxlLHMsbixpLHIpLGxhKHRoaXMpfWNvbnN0cnVjdEFycmF5KHQsZSl7dGhpcy5jb25zdHJ1Y3QodFswXSx0WzFdLHRbMl0sZSl9Y29uc3RydWN0QXJyYXlXZWlnaHRzKHQsZSl7dGhpcy5kcm9wQWxsQXR0cmlidXRlcygpLHRoaXMuc2V0Q3BzQW5kV2VpZ2h0c0FycmF5KHQsZSksbGEodGhpcyl9Y29udmVydFRvU3RhbmRhcmRGb3JtKCl7fWdldFN0YW5kYXJkRm9ybVdlaWdodCgpe3JldHVybiB0aGlzLm1fd2VpZ2h0c1sxXS9NYXRoLnNxcnQodGhpcy5tX3dlaWdodHNbMF0qdGhpcy5tX3dlaWdodHNbMl0pfWdldEdlb21ldHJ5VHlwZSgpe3JldHVybiBpLmVudW1SYXRpb25hbEJlemllcjJ9cXVlcnlFbnZlbG9wZSh0KXtpZih0IGluc3RhbmNlb2YgbWUpe2lmKHQuc2V0Q29vcmRzKHRoaXMuZ2V0U3RhcnRYWSgpKSx0Lm1lcmdlTmUodGhpcy5nZXRFbmRYWSgpKSx0LmNvbnRhaW5zKHRoaXMubV9jcCkpcmV0dXJuO2NvbnN0IGU9VmEodGhpcyk7aWYobnVsbCE9PWUpe2NvbnN0IHM9bmV3IFE7Zm9yKGNvbnN0IG4gb2YgZS5zcGVjaWFsUG9pbnRzKXRoaXMucXVlcnlDb29yZDJEKG4scyksdC5tZXJnZU5lKHMpfWVsc2V7Y29uc3QgZT1bXSxzPWx0KFEsMyk7dGhpcy5xdWVyeUNvbnRyb2xQb2ludHMocyksZGEocyx0aGlzLm1fd2VpZ2h0cyxlKTtjb25zdCBuPW5ldyBRO2Zvcihjb25zdCBpIG9mIGUpdGhpcy5xdWVyeUNvb3JkMkQoaSxuKSx0Lm1lcmdlTmUobil9fX1hcHBseVRyYW5zZm9ybWF0aW9uKHQpe2lmKHQgaW5zdGFuY2VvZiBsZSl7Y29uc3QgZT1sdChRLDMpO3JldHVybiB0aGlzLnF1ZXJ5Q29udHJvbFBvaW50cyhlKSx0LnRyYW5zZm9ybVBvaW50czJEKGUsMyxlKSx0aGlzLnNldFN0YXJ0WFkoZVswXSksdGhpcy5tX2NwLmFzc2lnbihlWzFdKSx0aGlzLnNldEVuZFhZKGVbMl0pLHZvaWQgdGhpcy5hZnRlckNvbXBsZXRlZE1vZGlmaWNhdGlvbigpfX1jcmVhdGVJbnN0YW5jZSgpe3JldHVybiBuZXcgRW4oe3ZkOnRoaXMubV9kZXNjcmlwdGlvbn0pfWNhbGN1bGF0ZUxlbmd0aDJEKCl7cmV0dXJuIF9hKHRoaXMsMSwhMSl9Y2FsY3VsYXRlTG93ZXJMZW5ndGgyRCgpe3JldHVybiBRLmRpc3RhbmNlKHRoaXMuZ2V0U3RhcnRYWSgpLHRoaXMuZ2V0RW5kWFkoKSl9Y2FsY3VsYXRlVXBwZXJMZW5ndGgyRCgpe3JldHVybiB0aGlzLmNhbGN1bGF0ZVVwcGVyTGVuZ3RoMkRfKCl9Y2FsY3VsYXRlVXBwZXJMZW5ndGgyRF8oKXtpZih0aGlzLm1fd2VpZ2h0c1sxXT4wKXtyZXR1cm4gUS5kaXN0YW5jZSh0aGlzLmdldFN0YXJ0WFkoKSx0aGlzLm1fY3ApK1EuZGlzdGFuY2UodGhpcy5nZXRFbmRYWSgpLHRoaXMubV9jcCl9cmV0dXJuIFEuZGlzdGFuY2UodGhpcy5nZXRTdGFydFhZKCksdGhpcy5nZXRFbmRYWSgpKX1xdWVyeUNvb3JkMkQodCxlKXtyZXR1cm4gdGhpcy5xdWVyeUNvb3JkMkRFeHRlbnNpb24odCxlLCEwKX1xdWVyeUNvb3JkMkRFKHQsZSl7bGgodGhpcyx0LGUpfXF1ZXJ5Q29vcmQyREV4dGVuc2lvbih0LGUscyl7aWYocyl7aWYodDwwKXtyZXR1cm4gdm9pZCBfcyhuZXcgcG0oe3N0YXJ0OnRoaXMuZ2V0U3RhcnRYWSgpLGVuZDp0aGlzLmdldFN0YXJ0WFkoKS5hZGQodGhpcy5nZXRUYW5nZW50KDApLmdldFVuaXRWZWN0b3IoKSl9KSx0LGUpfWlmKHQ+MSl7cmV0dXJuIHZvaWQgX3MobmV3IHBtKHtzdGFydDp0aGlzLmdldEVuZFhZKCksZW5kOnRoaXMuZ2V0RW5kWFkoKS5hZGQodGhpcy5nZXRUYW5nZW50KDEpLmdldFVuaXRWZWN0b3IoKSl9KSx0LTEsZSl9fWNvbnN0IG49bHQoUSwzKTt0aGlzLnF1ZXJ5Q29udHJvbFBvaW50cyhuKSxfaChuLHRoaXMubV93ZWlnaHRzLHQsZSl9Z2V0Q29vcmRYKHQpe2NvbnN0IGU9bmV3IFE7cmV0dXJuIHRoaXMucXVlcnlDb29yZDJERXh0ZW5zaW9uKHQsZSwhMCksZS54fWdldENvb3JkWSh0KXtjb25zdCBlPW5ldyBRO3JldHVybiB0aGlzLnF1ZXJ5Q29vcmQyREV4dGVuc2lvbih0LGUsITApLGUueX1jdXQodCxlLHMpe2NvbnN0IG49bmV3IGZtO3JldHVybiB0aGlzLnF1ZXJ5Q3V0KHQsZSxuLHMpLG4ucmVsZWFzZVNlZ21lbnQoKX1xdWVyeUN1dCh0LGUscyxuKXtjb25zdCBpPXMuY3JlYXRlUXVhZHJhdGljUmF0aW9uYWxCZXppZXIoKTtpZih0aGlzLmN1dEJlemllcklnbm9yZUF0dHJpYnV0ZXModCxlLGkpLG4pcmV0dXJuO2kuYXNzaWduVmVydGV4RGVzY3JpcHRpb24odGhpcy5tX2Rlc2NyaXB0aW9uKTtjb25zdCByPXRoaXMubV9kZXNjcmlwdGlvbi5nZXRBdHRyaWJ1dGVDb3VudCgpO2lmKHI+MSl7Zm9yKGxldCBlPTE7ZTxyO2UrKyl7Y29uc3Qgcz10aGlzLm1fZGVzY3JpcHRpb24uZ2V0U2VtYW50aWNzKGUpLG49U24uZ2V0Q29tcG9uZW50Q291bnQocyk7Zm9yKGxldCBlPTA7ZTxuO2UrKyl7Y29uc3Qgbj10aGlzLmdldEF0dHJpYnV0ZUFzRGJsKHQscyxlKTtpLnNldFN0YXJ0QXR0cmlidXRlKHMsZSxuKX19Zm9yKGxldCB0PTE7dDxyO3QrKyl7Y29uc3Qgcz10aGlzLm1fZGVzY3JpcHRpb24uZ2V0U2VtYW50aWNzKHQpLG49U24uZ2V0Q29tcG9uZW50Q291bnQocyk7Zm9yKGxldCB0PTA7dDxuO3QrKyl7Y29uc3Qgbj10aGlzLmdldEF0dHJpYnV0ZUFzRGJsKGUscyx0KTtpLnNldEVuZEF0dHJpYnV0ZShzLHQsbil9fX19cXVlcnlEZXJpdmF0aXZlKHQsZSl7RWEodGhpcyx0LGUpfWN1dEJlemllcklnbm9yZUF0dHJpYnV0ZXModCxzLG4peyh0PDB8fHM+MXx8dD5zKSYmZShcIlF1YWRyYXRpY19yYXRpb25hbF9iZXppZXIuY3V0X2Jlemllcl9pZ25vcmVfYXR0cmlidXRlc1wiKTtjb25zdCBpPWx0KFEsMyk7dGhpcy5xdWVyeUNvbnRyb2xQb2ludHMoaSk7Y29uc3Qgcj1bMCwwLDBdO1FhKGksdGhpcy5tX3dlaWdodHMsdCxzLGksciksbi5zZXRDb250cm9sUG9pbnRzQW5kV2VpZ2h0cyhpLHIpfXNwbGl0QmV6aWVySWdub3JlQXR0cmlidXRlcyh0LGUscyl7fWdldEF0dHJpYnV0ZUFzRGJsKHQsZSxzKXtpZigwPT09ZSlyZXR1cm4gMD09PXM/dGhpcy5nZXRDb29yZFgodCk6dGhpcy5nZXRDb29yZFkodCk7Y29uc3Qgbj10aGlzLmNhbGN1bGF0ZUxlbmd0aDJEKCksaT1uPjA/dGhpcy50VG9MZW5ndGgodCkvbjowLHI9U24uZ2V0SW50ZXJwb2xhdGlvbihlKSxvPXRoaXMuZ2V0U3RhcnRBdHRyaWJ1dGVBc0RibChlLHMpLGE9dGhpcy5nZXRFbmRBdHRyaWJ1dGVBc0RibChlLHMpO3JldHVybiBDdChyLG8sYSxpLFNuLmdldERlZmF1bHRWYWx1ZShlKSl9Z2V0Q2xvc2VzdENvb3JkaW5hdGUodCxlKXtyZXR1cm4gUmEodGhpcyx0LEgudW5pdCgpLGUsLTEpfWdldENsb3Nlc3RDb29yZGluYXRlT25JbnRlcnZhbCh0LGUscz0tMSl7cmV0dXJuIFJhKHRoaXMsdCxlLCExLHMpfWdldFlNb25vdG9uaWNQYXJ0cyh0LGUpe3JldHVybiB0aGlzLmdldE1vbm90b25pY1BhcnRzKHQsZSl9Z2V0TW9ub3RvbmljUGFydHModCxuKXt0Lmxlbmd0aDwyJiZlKFwiXCIpO2NvbnN0IGk9Z2EodGhpcyk7bGV0IHI9MDtpZigyPT09aS5zcGVjaWFsUG9pbnRzQ291bnQoKSlyZXR1cm4gMDtzKHQubGVuZ3RoPj1pLnNwZWNpYWxQb2ludHNDb3VudCgpLTEpO2ZvcihsZXQgZT0xLHM9aS5zcGVjaWFsUG9pbnRzQ291bnQoKTtlPHM7KytlKXRoaXMucXVlcnlDdXQoaS5zcGVjaWFsUG9pbnRzW2UtMV0saS5zcGVjaWFsUG9pbnRzW2VdLHRbcl0sbikscisrO2ZvcihsZXQgZT0wO2U8cjsrK2Upe1phKHRbZV0uZ2V0KCkpfXJldHVybiByfWludGVyc2VjdGlvbldpdGhBeGlzMkQodCxlLHMsbil7cyYmKHMubGVuZ3RoPTkpLG4mJihuLmxlbmd0aD05KTtjb25zdCBpPW5ldyBBcnJheSgzKSxyPWx0KGF0LDIpLG89bmV3IEgoMCwxKTtsZXQgYT0wO2NvbnN0IGg9bHQoUSwzKTtpZih0aGlzLnF1ZXJ5Q29udHJvbFBvaW50cyhoKSx0KXtpZihpWzBdPW5ldyBhdChoWzBdLnkpLnN1YihlKS5tdWwodGhpcy5tX3dlaWdodHNbMF0pLGlbMV09bmV3IGF0KGhbMV0ueSkuc3ViKGUpLm11bCh0aGlzLm1fd2VpZ2h0c1sxXSksaVsyXT1pWzBdLnN1YkUoaVsxXS5tdWwoMikpLmFkZEUobmV3IGF0KGhbMl0ueSkuc3ViKGUpLm11bCh0aGlzLm1fd2VpZ2h0c1syXSkpLGlbMV09aVsxXS5zdWJFKGlbMF0pLm11bFRoaXNCeVBvd2VyMigyKSxhPWduKGlbMl0saVsxXSxpWzBdLG8sITEscikscylmb3IobGV0IHU9MDt1PGE7dSsrKXNbdV09dGhpcy5nZXRDb29yZFgoclt1XS52YWx1ZSgpKX1lbHNlIGlmKGlbMF09bmV3IGF0KGhbMF0ueCkuc3ViKGUpLm11bCh0aGlzLm1fd2VpZ2h0c1swXSksaVsxXT1uZXcgYXQoaFsxXS54KS5zdWIoZSkubXVsKHRoaXMubV93ZWlnaHRzWzFdKSxpWzJdPWlbMF0uc3ViRShpWzFdLm11bCgyKSkuYWRkRShuZXcgYXQoaFsyXS54KS5zdWIoZSkubXVsKHRoaXMubV93ZWlnaHRzWzJdKSksaVsxXT1pWzFdLnN1YkUoaVswXSkubXVsVGhpc0J5UG93ZXIyKDIpLGE9Z24oaVsyXSxpWzFdLGlbMF0sbywhMSxyKSxzKWZvcihsZXQgdT0wO3U8YTt1Kyspc1t1XT10aGlzLmdldENvb3JkWShyW3VdLnZhbHVlKCkpO2lmKG4pZm9yKGxldCB1PTA7dTxhO3UrKyluW3VdPXJbdV0udmFsdWUoKTtlbHNlIHMmJnR0KHMsMCxhLEJ0KTtyZXR1cm4gYX1pbnRlcnNlY3Rpb25PZllNb25vdG9uaWNXaXRoQXhpc1godCxlKXtpZih0aGlzLm1fWVN0YXJ0PT09dGhpcy5tX1lFbmQpcmV0dXJuIHQ9PT10aGlzLm1fWVN0YXJ0P2U6TnVtYmVyLk5hTjtpZih0PT09dGhpcy5tX1lTdGFydClyZXR1cm4gdGhpcy5tX1hTdGFydDtpZih0PT09dGhpcy5tX1lFbmQpcmV0dXJuIHRoaXMubV9YRW5kO2NvbnN0IG49W051bWJlci5OYU4sTnVtYmVyLk5hTl0saT10aGlzLmludGVyc2VjdGlvbldpdGhBeGlzMkQoITAsdCxuLG51bGwpO3JldHVybiBzKDIhPT1pKSwtMT09PWk/ZTpuWzBdfWlzQ3VydmUoKXtyZXR1cm4hMH1pc0RlZ2VuZXJhdGUodCl7cmV0dXJuIFJlKHRoaXMsdCl9aXNEZWdlbmVyYXRlM0QodCxlKXtyZXR1cm4hMX1xdWVyeUxvb3NlRW52ZWxvcGUodCl7aWYodCBpbnN0YW5jZW9mIG1lKXJldHVybiB0LnNldENvb3Jkcyh7cHQ6dGhpcy5nZXRTdGFydFhZKCl9KSx0Lm1lcmdlTmUodGhpcy5tX2NwKSx2b2lkIHQubWVyZ2VOZSh0aGlzLmdldEVuZFhZKCkpfWNsb25lKHQpe2NvbnN0IGU9dGhpcy5jcmVhdGVJbnN0YW5jZSgpO3JldHVybiB0aGlzLmNvcHlUbyhlKSxlfXF1ZXJ5SW50ZXJ2YWwodCxlKXtpZigwPT09dCl7Y29uc3QgdD1tZS5jb25zdHJ1Y3RFbXB0eSgpO3RoaXMucXVlcnlFbnZlbG9wZSh0KTtjb25zdCBzPUguY29uc3RydWN0RW1wdHkoKTtyZXR1cm4gMD09PWU/dC5xdWVyeUludGVydmFsWChzKTp0LnF1ZXJ5SW50ZXJ2YWxZKHMpLHN9cmV0dXJuIHN1cGVyLnF1ZXJ5SW50ZXJ2YWwodCxlKX1xdWVyeUxvb3NlRW52ZWxvcGVPbkludGVydmFsKHQsZSl7Y29uc3Qgcz1sdChRLDMpO3RoaXMucXVlcnlDb250cm9sUG9pbnRzKHMpO2NvbnN0IG49WzAsMCwwXTtRYShzLHRoaXMubV93ZWlnaHRzLHQudm1pbix0LnZtYXgscyxuKSxlLnNldEZyb21Qb2ludHMocywzKX1jaGFuZ2VFbmRQb2ludHMyRCh0LGUpe2lmKHQuaXNFcXVhbCh0aGlzLm1fWFN0YXJ0LHRoaXMubV9ZU3RhcnQpJiZlLmlzRXF1YWwodGhpcy5tX1hFbmQsdGhpcy5tX1lFbmQpKXJldHVybjtjb25zdCBzPXRoaXMubV9jcC5pc0VxdWFsKHRoaXMubV9YU3RhcnQsdGhpcy5tX1lTdGFydCksbj10aGlzLm1fY3AuaXNFcXVhbCh0aGlzLm1fWEVuZCx0aGlzLm1fWUVuZCk7dGhpcy5zZXRTdGFydFhZKHQpLHRoaXMuc2V0RW5kWFkoZSkscz90aGlzLm1fY3Auc2V0Q29vcmRzUG9pbnQyRCh0KTpuJiZ0aGlzLm1fY3Auc2V0Q29vcmRzUG9pbnQyRChlKSx0aGlzLm5vcm1hbGl6ZUFmdGVyRW5kcG9pbnRDaGFuZ2UoKX10VG9MZW5ndGgodCl7cmV0dXJuIF9hKHRoaXMsdCwhMCl9bGVuZ3RoVG9UKHQpe3JldHVybiBUYSh0aGlzLHQpfWNhbGN1bGF0ZVdlaWdodGVkQXJlYUNlbnRyb2lkMkQodCl7Y29uc3QgZT1OYSh0aGlzKSxzPUlhKHRoaXMpO3JldHVybiBlLngrPSh0aGlzLmdldFN0YXJ0WCgpLXQueCkqcyxlLnkrPSh0aGlzLmdldFN0YXJ0WSgpLXQueSkqcyxlfWNhbGN1bGF0ZVdlaWdodGVkQ2VudHJvaWQyRCgpe2NvbnN0IHQ9bmV3IFE7cmV0dXJuIHRoaXMuaXNEZWdlbmVyYXRlKDApPyh0LnNldENvb3JkcygwLDApLHQpOkZhKHRoaXMpPyh0LmFzc2lnbih0aGlzLmdldENvb3JkMkQoLjUpLm11bCh0aGlzLmNhbGN1bGF0ZUxlbmd0aDJEKCkpKSx0KToodC5hc3NpZ24oVWEodGhpcywxKSksdCl9Z2V0Q29udHJvbFBvaW50MSgpe3JldHVybiB0aGlzLm1fY3AuY2xvbmUoKX1zZXRDb250cm9sUG9pbnQxKHQpe3RoaXMubV9jcC5zZXRDb29yZHNQb2ludDJEKHQpLHRoaXMuYWZ0ZXJDb21wbGV0ZWRNb2RpZmljYXRpb24oKX1xdWVyeVdlaWdodHModCl7Zm9yKGxldCBlPTA7ZTwzOysrZSl0W2VdPXRoaXMubV93ZWlnaHRzW2VdfXF1ZXJ5Q29vcmQyRE1QKHQsZSl7Y29uc3Qgcz1sdChRLDMpO3JldHVybiB0aGlzLnF1ZXJ5Q29udHJvbFBvaW50cyhzKSxnaChzLm1hcCgodD0+WGUuY29uc3RydWN0UG9pbnQyRCh0KSkpLHRoaXMubV93ZWlnaHRzLm1hcCgodD0+aXQuY29uc3RydWN0RG91YmxlKHQpKSksaXQuY29uc3RydWN0RG91YmxlKHQpLGUpfXNldFdlaWdodHModCl7fXF1ZXJ5Q29udHJvbFBvaW50cyh0KXt0WzBdLmFzc2lnbih0aGlzLmdldFN0YXJ0WFkoKSksdFsxXS5hc3NpZ24odGhpcy5tX2NwKSx0WzJdLmFzc2lnbih0aGlzLmdldEVuZFhZKCkpfXF1ZXJ5Q29udHJvbFBvaW50c0hlbHBlcih0KXtyZXR1cm4gdGhpcy5xdWVyeUNvbnRyb2xQb2ludHModCksM31zZXRDb250cm9sUG9pbnRzQW5kV2VpZ2h0cyh0LGUpe3RoaXMuc2V0Q3BzQW5kV2VpZ2h0c0FycmF5KHQsZSksdGhpcy5hZnRlckNvbXBsZXRlZE1vZGlmaWNhdGlvbigpfWdldFRhbmdlbnQodCl7Y29uc3QgZT1sdChRLDMpO3JldHVybiB0aGlzLnF1ZXJ5Q29udHJvbFBvaW50cyhlKSx3YShlLHRoaXMubV93ZWlnaHRzLHQpfWdldERlcml2YXRpdmUodCl7Y29uc3QgZT1fdCh0LDAsMSkscz1sdChRLDQpO3JldHVybiBwYSh0aGlzLDEsZSxzKSxzWzFdfWdldEN1cnZhdHVyZSh0KXtjb25zdCBlPWx0KFEsNCk7cGEodGhpcywyLHQsZSk7Y29uc3Qgcz1lWzFdLnNxckxlbmd0aCgpO2lmKDA9PT1zKXJldHVybiBOdW1iZXIuTmFOO2VbMV0uZGl2VGhpcyhNYXRoLnNxcnQocykpO3JldHVybiBlWzFdLmNyb3NzUHJvZHVjdChlWzJdKS9zfWlzSW50ZXJzZWN0aW5nKHQsZSxzKXtyZXR1cm4hMX1pc0ludGVyc2VjdGluZ1BvaW50KHQsZSxzKXtyZXR1cm4hMX1pc0ludGVyc2VjdGluZ1BvaW50M0QodCxlLHMsbixpPTEpe3JldHVybiExfWlzTW9ub3RvbmVRdWlja0FuZERpcnR5KCl7Y29uc3QgdD1sdChRLDMpO3JldHVybiB0aGlzLnF1ZXJ5Q29udHJvbFBvaW50cyh0KSxqYSh0KX1nZXRNb25vdG9uaWNQYXJ0UGFyYW1zKHQscyl7Y29uc3Qgbj1nYSh0aGlzKSxpPW4uc3BlY2lhbFBvaW50c0NvdW50KCk7aWYoIXMpcmV0dXJuIG4uc3BlY2lhbFBvaW50c0NvdW50KCk7dDxpJiZlKFwiXCIpO2ZvcihsZXQgZT0wO2U8aTtlKyspc1tlXT1uLnNwZWNpYWxQb2ludHNbZV07cmV0dXJuIGl9bm9ybWFsaXplQWZ0ZXJFbmRwb2ludENoYW5nZSgpe3JldHVybiExfW9yaWVudEJvdHRvbVVwKCl7aWYodGhpcy5tX1lFbmQ8dGhpcy5tX1lTdGFydHx8dGhpcy5tX1lFbmQ9PT10aGlzLm1fWVN0YXJ0JiZ0aGlzLm1fWEVuZDx0aGlzLm1fWFN0YXJ0KXt0aGlzLm1fWEVuZD1ldCh0aGlzLm1fWFN0YXJ0LHRoaXMubV9YU3RhcnQ9dGhpcy5tX1hFbmQpLHRoaXMubV9ZRW5kPWV0KHRoaXMubV9ZU3RhcnQsdGhpcy5tX1lTdGFydD10aGlzLm1fWUVuZCksdGhpcy5tX3dlaWdodHNbMl09ZXQodGhpcy5tX3dlaWdodHNbMF0sdGhpcy5tX3dlaWdodHNbMF09dGhpcy5tX3dlaWdodHNbMl0pO2ZvcihsZXQgdD0wLGU9dGhpcy5tX2Rlc2NyaXB0aW9uLmdldFRvdGFsQ29tcG9uZW50Q291bnQoKS0yO3Q8ZTt0KyspdGhpcy5tX2F0dHJpYnV0ZXNbdCtlXT1ldCh0aGlzLm1fYXR0cmlidXRlc1t0XSx0aGlzLm1fYXR0cmlidXRlc1t0XT10aGlzLm1fYXR0cmlidXRlc1t0K2VdKTt0aGlzLm1fY2FjaGVkVmFsdWVzPW51bGx9fWlzTGluZSgpe3JldHVybiExfWlzRGVnZW5lcmF0ZVRvTGluZUhlbHBlcih0KXtjb25zdCBlPWx0KFEsMyk7dGhpcy5xdWVyeUNvbnRyb2xQb2ludHMoZSk7Y29uc3Qgcz1lWzJdLnN1YihlWzBdKSxuPXMubGVuZ3RoKCk7aWYoUS5kaXN0YW5jZShlWzBdLGVbMV0pK1EuZGlzdGFuY2UoZVsyXSxlWzFdKS1uPnQpcmV0dXJuITE7Y29uc3QgaT10LHI9ZVsxXS5jbG9uZSgpO3Iuc3ViVGhpcyhlWzBdKTtyZXR1cm4hKE1hdGguYWJzKHIuY3Jvc3NQcm9kdWN0KHMpKS9uPmkpfWNvcHlJZ25vcmVBdHRyaWJ1dGVzKHQpe2NvbnN0IGU9bHQoUSwzKTt0aGlzLnF1ZXJ5Q29udHJvbFBvaW50cyhlKTtjb25zdCBzPVswLDAsMF07dGhpcy5xdWVyeVdlaWdodHMocyksdC5zZXRDb250cm9sUG9pbnRzQW5kV2VpZ2h0cyhlLHMpfWNhbGN1bGF0ZUFyZWEyREhlbHBlcigpe3JldHVybiBJYSh0aGlzKX1hYnNOb3JtKCl7cmV0dXJuIHRoaXMuZ2V0U3RhcnRYWSgpLm5vcm0oMSkrdGhpcy5nZXRFbmRYWSgpLm5vcm0oMSkrdGhpcy5tX2NwLm5vcm0oMSl9YWJzTm9ybVhZWih0KXtyZXR1cm4gcygwKSwwfXF1ZXJ5RW52ZWxvcGVXKHQsZSl7R2EodGhpcyx0LGUpfXNldFNlZ21lbnRGcm9tQ29vcmRzRm9yU3RpdGNoZXIodCxlKXtjb25zdCBzPVswLDAsMF07dGhpcy5xdWVyeVdlaWdodHMocyksdGhpcy5jb25zdHJ1Y3RXZWlnaHRzKHRbMF0sdGhpcy5nZXRDb250cm9sUG9pbnQxKCksdFtlLTFdLHNbMF0sc1sxXSxzWzJdKX13cml0ZUluQnVmZmVyU3RyZWFtKHQsZSl7Y29uc3Qgcz1uZXcgRmxvYXQ2NEFycmF5KDUpO3JldHVybiBzWzBdPXRoaXMubV9jcC54LHNbMV09dGhpcy5tX2NwLnksc1syXT10aGlzLm1fd2VpZ2h0c1swXSxzWzNdPXRoaXMubV93ZWlnaHRzWzFdLHNbNF09dGhpcy5tX3dlaWdodHNbMl0sdC53cml0ZVJhbmdlRnJvbUFycmF5KGUscy5sZW5ndGgscywhMCwxKSxlK3MubGVuZ3RofXJlYWRGcm9tQnVmZmVyU3RyZWFtKHQsZSl7Y29uc3Qgcz1uZXcgRmxvYXQ2NEFycmF5KDUpO3QucXVlcnlSYW5nZShlLHMubGVuZ3RoLHMsITAsMSksdGhpcy5tX2NwLng9c1swXSx0aGlzLm1fY3AueT1zWzFdLHRoaXMubV93ZWlnaHRzWzBdPXNbMl0sdGhpcy5tX3dlaWdodHNbMV09c1szXSx0aGlzLm1fd2VpZ2h0c1syXT1zWzRdLHRoaXMubV9jYWNoZWRWYWx1ZXM9bnVsbH1zbmFwQ29udHJvbFBvaW50cyh0KXtjb25zdCBlPWx0KFEsMyk7dGhpcy5xdWVyeUNvbnRyb2xQb2ludHMoZSk7Y29uc3Qgcz1RLnNxckRpc3RhbmNlKGVbMV0sZVswXSksbj1RLnNxckRpc3RhbmNlKGVbMV0sZVsyXSk7bGV0IGk9ZVswXS5jbG9uZSgpLHI9cztzPm4mJihpPWVbMl0uY2xvbmUoKSxyPW4pO2xldCBvPSExO3JldHVybiByPD10JiYwIT09ciYmKG89ITAsdGhpcy5zZXRDb250cm9sUG9pbnQxKGkpKSxvfW5lZWRzU25hcENvbnRyb2xQb2ludHModCl7aWYoIXQpcmV0dXJuITE7Y29uc3QgZT1sdChRLDMpO3RoaXMucXVlcnlDb250cm9sUG9pbnRzKGUpO2NvbnN0IHM9US5zcXJEaXN0YW5jZShlWzFdLGVbMF0pLG49US5zcXJEaXN0YW5jZShlWzFdLGVbMl0pO2VbMF0uY2xvbmUoKTtsZXQgaT1zO3JldHVybiBzPm4mJihlWzJdLmNsb25lKCksaT1uKSxpPD10JiYwIT09aX1jYWxjdWxhdGVTcGVjaWFsUG9pbnRzRm9yQ3JhY2tpbmcodCxlKXtyZXR1cm4gMH1lbnN1cmVYWU1vbm90b25lKCl7cmV0dXJuIFphKHRoaXMpfXNldENvb3Jkc0ZvckludGVyc2VjdG9yKHQsZSxzKXtLYSh0aGlzLHQsZSxzKX1jb3B5VG9JbXBsKHQpe2NvbnN0IGU9dDtlLm1fY3Auc2V0Q29vcmRzUG9pbnQyRCh0aGlzLm1fY3ApLGUubV93ZWlnaHRzWzBdPXRoaXMubV93ZWlnaHRzWzBdLGUubV93ZWlnaHRzWzFdPXRoaXMubV93ZWlnaHRzWzFdLGUubV93ZWlnaHRzWzJdPXRoaXMubV93ZWlnaHRzWzJdLExhKGUsVmEodGhpcykpfXJldmVyc2VJbXBsKCl7dGhpcy5tX3dlaWdodHNbMl09ZXQodGhpcy5tX3dlaWdodHNbMF0sdGhpcy5tX3dlaWdodHNbMF09dGhpcy5tX3dlaWdodHNbMl0pfWVxdWFsc0ltcGwodCl7Y29uc3QgZT10O2lmKCF0aGlzLm1fY3AuZXF1YWxzKGUubV9jcCkpcmV0dXJuITE7Zm9yKGxldCBzPTA7czwzO3MrKylpZih0aGlzLm1fd2VpZ2h0c1tzXSE9PWUubV93ZWlnaHRzW3NdKXJldHVybiExO3JldHVybiEwfWVxdWFsc0ltcGxUb2wodCxlKXtjb25zdCBzPXQ7aWYoIXRoaXMubV9jcC5pc0VxdWFsUG9pbnQyRChzLm1fY3AsZSkpcmV0dXJuITE7Y29uc3Qgbj1sdChRLDMpO3RoaXMucXVlcnlDb250cm9sUG9pbnRzKG4pO2NvbnN0IGk9bHQoUSwzKTtzLnF1ZXJ5Q29udHJvbFBvaW50cyhpKTtjb25zdCByPVtzLm1fd2VpZ2h0c1swXSxzLm1fd2VpZ2h0c1sxXSxzLm1fd2VpZ2h0c1syXV07Zm9yKGxldCBvPTA7bzwzO28rKyl7Y29uc3QgdD1uZXcgUzt0LnNldENvb3Jkc1BvaW50MkRaKG5bb10ubXVsKHRoaXMubV93ZWlnaHRzW29dKSx0aGlzLm1fd2VpZ2h0c1tvXSk7Y29uc3Qgcz1uZXcgUztpZihzLnNldENvb3Jkc1BvaW50MkRaKGlbb10ubXVsKHJbb10pLHJbb10pLCF0LmlzRXF1YWwocyxlKSlyZXR1cm4hMX1yZXR1cm4hMH1zd2FwSW1wbCh0KXtjb25zdCBlPXQ7ZS5tX2NwPWV0KHRoaXMubV9jcCx0aGlzLm1fY3A9ZS5tX2NwKSxlLm1fd2VpZ2h0cz1ldCh0aGlzLm1fd2VpZ2h0cyx0aGlzLm1fd2VpZ2h0cz1lLm1fd2VpZ2h0cyksY2EodGhpcyxlKX1hZnRlckNvbXBsZXRlZE1vZGlmaWNhdGlvbigpe2xhKHRoaXMpfWludGVyc2VjdCh0LGUscyxuLGkpe3JldHVybiB1bSghMSx0aGlzLHQsZSxzLG4saSl9aW50ZXJzZWN0UG9pbnQodCxlLHMpe3JldHVybiBrYSh0aGlzLHQsZSxzKX1lbmRQb2ludE1vZGlmaWVkKCl7bGEodGhpcyl9Y2xlYXJFbmRQb2ludE1vZGlmaWVkKCl7fXNldENwc0FuZFdlaWdodHModCxzLG4saSxyLG8peyhpPD0wfHxvPD0wfHxyPDApJiZlKFwid2VpZ2h0c1wiKSwodC5pc05BTigpfHxzLmlzTkFOKCl8fG4uaXNOQU4oKSkmJmUoXCJOQU4gY29udHJvbCBwb2ludHMgaW4gYmV6aWVyIGFyZSBub3Qgc3VwcG9ydGVkXCIpLHRoaXMuc2V0U3RhcnRYWSh0KSx0aGlzLm1fY3AuYXNzaWduKHMpLHRoaXMubV93ZWlnaHRzWzBdPWksdGhpcy5tX3dlaWdodHNbMV09cix0aGlzLm1fd2VpZ2h0c1syXT1vLHRoaXMuc2V0RW5kWFkobil9c2V0Q3BzQW5kV2VpZ2h0c0FycmF5KHQsZSl7dGhpcy5zZXRDcHNBbmRXZWlnaHRzKHRbMF0sdFsxXSx0WzJdLGVbMF0sZVsxXSxlWzJdKX19RW4udHlwZT1pLmVudW1SYXRpb25hbEJlemllcjI7dmFyIERuPWI7Y2xhc3Mgd24gZXh0ZW5kcyBnc3tjb25zdHJ1Y3Rvcih0KXt2b2lkIDA9PT10fHx2dCh0LFwidmRcIik/KHN1cGVyKHt2ZDp0Py52ZCxYU3RhcnQ6MCxZU3RhcnQ6MCxYRW5kOjAsWUVuZDowfSksdGhpcy5tX2NwPW5ldyBRKDAsMCkpOnQuZnJvbT8oc3VwZXIoe1hTdGFydDp0LmZyb20ueCxZU3RhcnQ6dC5mcm9tLnksWEVuZDp0LnRvLngsWUVuZDp0LnRvLnksLi4udC52ZH0pLHRoaXMubV9jcD10LmNwLmNsb25lKCkpOnQucG9pbnRzPyhzdXBlcih7WFN0YXJ0OnQucG9pbnRzWzBdLngsWVN0YXJ0OnQucG9pbnRzWzBdLnksWEVuZDp0LnBvaW50c1syXS54LFlFbmQ6dC5wb2ludHNbMl0ueSwuLi50LnZkfSksdGhpcy5tX2NwPXQucG9pbnRzWzFdLmNsb25lKCkpOnQuY29weT8oc3VwZXIodCksdGhpcy5tX2NwPXQuY29weS5tX2NwLmNsb25lKCkpOmgoXCJ1bmV4cGVjdGVkIGNvbnN0cnVjdG9yIGFyZ3NcIil9Z2V0Qm91bmRhcnkoKXtyZXR1cm4gS3ModGhpcyl9YXNzaWduQ29weSh0KXtyZXR1cm4gdGhpcyE9PXQmJnQuY29weVRvKHRoaXMpLHRoaXN9Y29uc3RydWN0KHQsZSxzKXt0aGlzLnNldFN0YXJ0WFkodCksdGhpcy5tX2NwLmFzc2lnbihlKSx0aGlzLnNldEVuZFhZKHMpLGlpKHRoaXMpfWNvbnN0cnVjdFBvaW50cyh0KXt0aGlzLnNldFN0YXJ0WFkodFswXSksdGhpcy5tX2NwLmFzc2lnbih0WzFdKSx0aGlzLnNldEVuZFhZKHRbMl0pLGlpKHRoaXMpfWdldEdlb21ldHJ5VHlwZSgpe3JldHVybiBpLmVudW1CZXppZXIyfXF1ZXJ5RW52ZWxvcGUodCl7aWYoMiE9PXQubV9FbnZlbG9wZVR5cGUpYShcImVudiB0eXBlIG5vdCBpbXBsXCIpO2Vsc2V7aWYodC5zZXRDb29yZHModGhpcy5nZXRTdGFydFhZKCkpLHQubWVyZ2VOZSh0aGlzLmdldEVuZFhZKCkpLHQuY29udGFpbnModGhpcy5tX2NwKSlyZXR1cm47Y29uc3QgZT15aSh0aGlzKTtpZihudWxsIT09ZSl7Y29uc3Qgcz1uZXcgUTtmb3IoY29uc3QgbiBvZiBlLnNwZWNpYWxQb2ludHMpdGhpcy5xdWVyeUNvb3JkMkQobixzKSx0Lm1lcmdlTmUocyl9ZWxzZXtjb25zdCBlPVtdO2FpKHRoaXMsZSk7Y29uc3Qgcz1uZXcgUTtmb3IoY29uc3QgbiBvZiBlKXRoaXMucXVlcnlDb29yZDJEKG4scyksdC5tZXJnZU5lKHMpfX19YXBwbHlUcmFuc2Zvcm1hdGlvbih0KXtpZigxPT09dC5tX1RyYW5zZm9ybWF0aW9uVHlwZSl7Y29uc3QgZT1sdChRLDMpO3JldHVybiB0aGlzLnF1ZXJ5Q29udHJvbFBvaW50cyhlKSx0LnRyYW5zZm9ybVBvaW50czJEKGUsMyxlKSx0aGlzLnNldFN0YXJ0WFkoZVswXSksdGhpcy5tX2NwLmFzc2lnbihlWzFdKSx0aGlzLnNldEVuZFhZKGVbMl0pLHZvaWQgdGhpcy5hZnRlckNvbXBsZXRlZE1vZGlmaWNhdGlvbigpfXMoMCl9Y3JlYXRlSW5zdGFuY2UoKXtyZXR1cm4gbmV3IHduKHt2ZDp0aGlzLm1fZGVzY3JpcHRpb259KX1jYWxjdWxhdGVMZW5ndGgyRCgpe3JldHVybiBoaSh0aGlzLDEsITEpfWNhbGN1bGF0ZUxvd2VyTGVuZ3RoMkQoKXtyZXR1cm4gUS5kaXN0YW5jZSh0aGlzLmdldFN0YXJ0WFkoKSx0aGlzLmdldEVuZFhZKCkpfWNhbGN1bGF0ZVVwcGVyTGVuZ3RoMkQoKXtyZXR1cm4gdGhpcy5jYWxjdWxhdGVVcHBlckxlbmd0aDJEXygpfWNhbGN1bGF0ZVVwcGVyTGVuZ3RoMkRfKCl7cmV0dXJuIFEuZGlzdGFuY2UodGhpcy5nZXRTdGFydFhZKCksdGhpcy5tX2NwKStRLmRpc3RhbmNlKHRoaXMuZ2V0RW5kWFkoKSx0aGlzLm1fY3ApfXF1ZXJ5Q29vcmQyRCh0LGUpe3RoaXMucXVlcnlDb29yZDJERXh0ZW5kZWQodCxlLCExKX1xdWVyeUNvb3JkMkRFeHRlbmRlZCh0LGUscyl7Y29uc3Qgbj1sdChRLDMpO3RoaXMucXVlcnlDb250cm9sUG9pbnRzKG4pLGppKG4sdCxlLHMpfXF1ZXJ5Q29vcmQyREUodCxlKXtaaSh0aGlzLHQsZSl9cXVlcnlDb29yZDJETVAodCxlKXtzKCExLFwiYmVybnN0ZWluIHBvbHlub21pYWxzIG5vdCBwb3J0ZWRcIil9Z2V0Q29vcmRYKHQpe2lmKHQ8MHx8dD4xKXtjb25zdCBlPW5ldyBRO3JldHVybiB0aGlzLnF1ZXJ5Q29vcmQyREV4dGVuZGVkKHQsZSwhMCksZS54fWlmKHQ8PS41KXtjb25zdCBlPWJ0KHRoaXMuZ2V0U3RhcnRYKCksdGhpcy5tX2NwLngsdCkscz1idCh0aGlzLm1fY3AueCx0aGlzLmdldEVuZFgoKSx0KTtyZXR1cm4gYnQoZSxzLHQpfXtjb25zdCBlPVN0KHRoaXMuZ2V0U3RhcnRYKCksdGhpcy5tX2NwLngsdCkscz1TdCh0aGlzLm1fY3AueCx0aGlzLmdldEVuZFgoKSx0KTtyZXR1cm4gU3QoZSxzLHQpfX1nZXRDb29yZFkodCl7aWYodDwwfHx0PjEpe2NvbnN0IGU9bmV3IFE7cmV0dXJuIHRoaXMucXVlcnlDb29yZDJERXh0ZW5kZWQodCxlLCEwKSxlLnl9aWYodDw9LjUpe2NvbnN0IGU9YnQodGhpcy5nZXRTdGFydFgoKSx0aGlzLm1fY3AueCx0KSxzPWJ0KHRoaXMubV9jcC54LHRoaXMuZ2V0RW5kWCgpLHQpO3JldHVybiBidChlLHMsdCl9e2NvbnN0IGU9U3QodGhpcy5nZXRTdGFydFkoKSx0aGlzLm1fY3AueSx0KSxzPVN0KHRoaXMubV9jcC55LHRoaXMuZ2V0RW5kWSgpLHQpO3JldHVybiBTdChlLHMsdCl9fWN1dCh0LGUscyl7Y29uc3Qgbj1uZXcgZm07cmV0dXJuIHRoaXMucXVlcnlDdXQodCxlLG4scyksbi5yZWxlYXNlU2VnbWVudCgpfXF1ZXJ5Q3V0KHQsZSxzLG4pe2NvbnN0IGk9cy5jcmVhdGVRdWFkcmF0aWNCZXppZXIoKTtpZih0aGlzLmN1dEJlemllcklnbm9yZUF0dHJpYnV0ZXModCxlLGkpLG4pcmV0dXJuO2kuYXNzaWduVmVydGV4RGVzY3JpcHRpb24odGhpcy5tX2Rlc2NyaXB0aW9uKTtjb25zdCByPXRoaXMubV9kZXNjcmlwdGlvbi5nZXRBdHRyaWJ1dGVDb3VudCgpO2lmKHI+MSl7Zm9yKGxldCBlPTE7ZTxyO2UrKyl7Y29uc3Qgcz10aGlzLm1fZGVzY3JpcHRpb24uZ2V0U2VtYW50aWNzKGUpLG49RG4uZ2V0Q29tcG9uZW50Q291bnQocyk7Zm9yKGxldCBlPTA7ZTxuO2UrKyl7Y29uc3Qgbj10aGlzLmdldEF0dHJpYnV0ZUFzRGJsKHQscyxlKTtpLnNldFN0YXJ0QXR0cmlidXRlKHMsZSxuKX19Zm9yKGxldCB0PTE7dDxyO3QrKyl7Y29uc3Qgcz10aGlzLm1fZGVzY3JpcHRpb24uZ2V0U2VtYW50aWNzKHQpLG49RG4uZ2V0Q29tcG9uZW50Q291bnQocyk7Zm9yKGxldCB0PTA7dDxuO3QrKyl7Y29uc3Qgbj10aGlzLmdldEF0dHJpYnV0ZUFzRGJsKGUscyx0KTtpLnNldEVuZEF0dHJpYnV0ZShzLHQsbil9fX19cXVlcnlEZXJpdmF0aXZlKHQsZSl7VWkodGhpcyx0LGUpfWN1dEJlemllcklnbm9yZUF0dHJpYnV0ZXModCxzLG4pe2lmKCh0PDB8fHM+MXx8dD5zKSYmZShcIlF1YWRyYXRpY19iZXppZXIuY3V0X2Jlemllcl9pZ25vcmVfYXR0cmlidXRlc1wiKSwwPT09dCYmMT09PXMpcmV0dXJuIG4uc2V0U3RhcnRYWSh0aGlzLmdldFN0YXJ0WFkoKSksbi5tX2NwLmFzc2lnbih0aGlzLm1fY3ApLHZvaWQgbi5zZXRFbmRYWSh0aGlzLmdldEVuZFhZKCkpO2NvbnN0IGk9bHQoUSwzKTt0aGlzLnF1ZXJ5Q29udHJvbFBvaW50cyhpKSxNaShpLHQscyxpKSxuLmNvbnN0cnVjdFBvaW50cyhpKX1zcGxpdEJlemllcklnbm9yZUF0dHJpYnV0ZXModCxlLG4pe3MoMCl9Z2V0QXR0cmlidXRlQXNEYmwodCxlLHMpe2lmKDA9PT1lKXJldHVybiAwPT09cz90aGlzLmdldENvb3JkWCh0KTp0aGlzLmdldENvb3JkWSh0KTtjb25zdCBuPXRoaXMuY2FsY3VsYXRlTGVuZ3RoMkQoKSxpPW4+MD90aGlzLnRUb0xlbmd0aCh0KS9uOjAscj1Ebi5nZXRJbnRlcnBvbGF0aW9uKGUpLG89dGhpcy5nZXRTdGFydEF0dHJpYnV0ZUFzRGJsKGUscyksYT10aGlzLmdldEVuZEF0dHJpYnV0ZUFzRGJsKGUscyk7cmV0dXJuIEN0KHIsbyxhLGksRG4uZ2V0RGVmYXVsdFZhbHVlKGUpKX1nZXRDbG9zZXN0Q29vcmRpbmF0ZSh0LGUpe3JldHVybiBDaSh0aGlzLHQsSC51bml0KCksZSl9Z2V0Q2xvc2VzdENvb3JkaW5hdGVPbkludGVydmFsKHQsZSxzPS0xKXtyZXR1cm4gQ2kodGhpcyx0LGUsITEpfWdldFlNb25vdG9uaWNQYXJ0cyh0LGUpe3JldHVybiB0aGlzLmdldE1vbm90b25pY1BhcnRzKHQsZSl9Z2V0TW9ub3RvbmljUGFydHModCxuKXt0Lmxlbmd0aDwyJiZlKFwiXCIpO2NvbnN0IGk9b2kodGhpcyk7bGV0IHI9MDtpZigyPT09aS5zcGVjaWFsUG9pbnRzQ291bnQoKSlyZXR1cm4gMDtzKHQubGVuZ3RoPj1pLnNwZWNpYWxQb2ludHNDb3VudCgpLTEpO2ZvcihsZXQgZT0xLHM9aS5zcGVjaWFsUG9pbnRzQ291bnQoKTtlPHM7KytlKXRoaXMucXVlcnlDdXQoaS5zcGVjaWFsUG9pbnRzW2UtMV0saS5zcGVjaWFsUG9pbnRzW2VdLHRbcl0sbikscisrO2ZvcihsZXQgZT0wO2U8cjsrK2Upe3dpKHRbZV0uZ2V0KCkpfXJldHVybiByfWludGVyc2VjdGlvbldpdGhBeGlzMkQodCxlLHMsbil7Y29uc3QgaT1sdChhdCwzKSxyPWx0KGF0LDIpLG89bmV3IEgoMCwxKTtsZXQgYT0wO2lmKHQpe2lmKGlbMF09bmV3IGF0KHRoaXMuZ2V0U3RhcnRZKCkpLnN1YihlKSxpWzFdPW5ldyBhdCh0aGlzLm1fY3AueSkuc3ViRShuZXcgYXQodGhpcy5nZXRTdGFydFkoKSkpLm11bFRoaXNCeVBvd2VyMigyKSxpWzJdPW5ldyBhdCh0aGlzLmdldFN0YXJ0WSgpKS5hZGQodGhpcy5nZXRFbmRZKCkpLnN1YkUobmV3IGF0KHRoaXMubV9jcC55KS5tdWxUaGlzQnlQb3dlcjIoMikpLGE9Z24oaVsyXSxpWzFdLGlbMF0sbywhMSxyKSxzKWZvcihsZXQgaD0wO2g8YTtoKyspc1toXT10aGlzLmdldENvb3JkWChyW2hdLnZhbHVlKCkpfWVsc2UgaWYoaVswXT1uZXcgYXQodGhpcy5nZXRTdGFydFgoKSkuc3ViKGUpLGlbMV09bmV3IGF0KHRoaXMubV9jcC54KS5zdWJFKG5ldyBhdCh0aGlzLmdldFN0YXJ0WCgpKSkubXVsVGhpc0J5UG93ZXIyKDIpLGlbMl09bmV3IGF0KHRoaXMuZ2V0U3RhcnRYKCkpLmFkZCh0aGlzLmdldEVuZFgoKSkuc3ViRShuZXcgYXQodGhpcy5tX2NwLngpLm11bFRoaXNCeVBvd2VyMigyKSksYT1nbihpWzJdLGlbMV0saVswXSxvLCExLHIpLHMpZm9yKGxldCBoPTA7aDxhO2grKylzW2hdPXRoaXMuZ2V0Q29vcmRZKHJbaF0udmFsdWUoKSk7aWYobilmb3IobGV0IGg9MDtoPGE7aCsrKW5baF09cltoXS52YWx1ZSgpO2Vsc2UgcyYmRXQocyxhKTtyZXR1cm4gYX1pbnRlcnNlY3Rpb25PZllNb25vdG9uaWNXaXRoQXhpc1godCxlKXtpZih0aGlzLm1fWVN0YXJ0PT09dGhpcy5tX1lFbmQpcmV0dXJuIHQ9PT10aGlzLm1fWVN0YXJ0P2U6TnVtYmVyLk5hTjtpZih0PT09dGhpcy5tX1lTdGFydClyZXR1cm4gdGhpcy5tX1hTdGFydDtpZih0PT09dGhpcy5tX1lFbmQpcmV0dXJuIHRoaXMubV9YRW5kO2NvbnN0IG49WzAsMF0saT10aGlzLmludGVyc2VjdGlvbldpdGhBeGlzMkQoITAsdCxuLG51bGwpO3JldHVybiBzKDIhPT1pKSwtMT09PWk/ZTpuWzBdfWlzQ3VydmUoKXtyZXR1cm4hMH1pc0xpbmUoKXtyZXR1cm4hMX1pc0RlZ2VuZXJhdGUodCl7cmV0dXJuIFJlKHRoaXMsdCl9aXNEZWdlbmVyYXRlM0QodCxlKXtyZXR1cm4gcygwKSwhMX1xdWVyeUxvb3NlRW52ZWxvcGUodCl7aWYoMj09PXQubV9FbnZlbG9wZVR5cGUpcmV0dXJuIHQuc2V0Q29vcmRzKHRoaXMuZ2V0U3RhcnRYWSgpKSx0Lm1lcmdlTmUodGhpcy5tX2NwKSx2b2lkIHQubWVyZ2VOZSh0aGlzLmdldEVuZFhZKCkpO3MoMCl9Y2xvbmUodCl7Y29uc3QgZT10aGlzLmNyZWF0ZUluc3RhbmNlKCk7cmV0dXJuIHRoaXMuY29weVRvKGUpLGV9cXVlcnlJbnRlcnZhbCh0LGUpe2lmKDA9PT10KXtjb25zdCB0PW5ldyBtZTt0aGlzLnF1ZXJ5RW52ZWxvcGUodCk7Y29uc3Qgcz1uZXcgSDtyZXR1cm4gMD09PWU/dC5xdWVyeUludGVydmFsWChzKTp0LnF1ZXJ5SW50ZXJ2YWxZKHMpLHN9cmV0dXJuIHN1cGVyLnF1ZXJ5SW50ZXJ2YWwodCxlKX1xdWVyeUxvb3NlRW52ZWxvcGVPbkludGVydmFsKHQsZSl7Y29uc3Qgcz1sdChRLDQpO3RoaXMucXVlcnlDb250cm9sUG9pbnRzKHMpLE1pKHMsdC52bWluLHQudm1heCxzKSxlLnNldEZyb21Qb2ludHMocyw0KX1jaGFuZ2VFbmRQb2ludHMyRCh0LGUpe2lmKHQuaXNFcXVhbCh0aGlzLm1fWFN0YXJ0LHRoaXMubV9ZU3RhcnQpJiZlLmlzRXF1YWwodGhpcy5tX1hFbmQsdGhpcy5tX1lFbmQpKXJldHVybjtjb25zdCBzPXRoaXMubV9jcC5pc0VxdWFsKHRoaXMubV9YU3RhcnQsdGhpcy5tX1lTdGFydCksbj10aGlzLm1fY3AuaXNFcXVhbCh0aGlzLm1fWEVuZCx0aGlzLm1fWUVuZCk7dGhpcy5zZXRTdGFydFhZKHQpLHRoaXMuc2V0RW5kWFkoZSkscz90aGlzLm1fY3Auc2V0Q29vcmRzUG9pbnQyRCh0KTpuJiZ0aGlzLm1fY3Auc2V0Q29vcmRzUG9pbnQyRChlKSx0aGlzLm5vcm1hbGl6ZUFmdGVyRW5kcG9pbnRDaGFuZ2UoKX10VG9MZW5ndGgodCl7cmV0dXJuIGhpKHRoaXMsdCwhMCl9bGVuZ3RoVG9UKHQpe3JldHVybiBfaSh0aGlzLHQpfWNhbGN1bGF0ZVdlaWdodGVkQXJlYUNlbnRyb2lkMkQodCl7Y29uc3QgZT1sdChRLDMpO0JpKHRoaXMsZSk7Y29uc3Qgcz1lWzJdLG49ZVsxXSxpPW5ldyBRLHI9cy55Km4ueC1zLngqbi55O2kueD0tKDQqcy54KzUqbi54KSpyLzYwLGkueT0tKDQqcy55KzUqbi55KSpyLzYwO2NvbnN0IG89cGkodGhpcyk7cmV0dXJuIGkueCs9KGVbMF0ueC10LngpKm8saS55Kz0oZVswXS55LXQueSkqbyxpfWNhbGN1bGF0ZVdlaWdodGVkQ2VudHJvaWQyRCgpe2NvbnN0IHQ9bmV3IFE7cmV0dXJuIHRoaXMuaXNEZWdlbmVyYXRlKDApPyh0LnNldENvb3JkcygwLDApLHQpOlBpKHRoaXMpPyh0LmFzc2lnbih0aGlzLmdldENvb3JkMkQoLjUpLm11bCh0aGlzLmNhbGN1bGF0ZUxlbmd0aDJEKCkpKSx0KToodC5hc3NpZ24oVGkodGhpcywxKSksdCl9Z2V0Q29udHJvbFBvaW50MSgpe3JldHVybiB0aGlzLm1fY3AuY2xvbmUoKX1zZXRDb250cm9sUG9pbnQxKHQpe3RoaXMubV9jcC5zZXRDb29yZHNQb2ludDJEKHQpLHRoaXMuYWZ0ZXJDb21wbGV0ZWRNb2RpZmljYXRpb24oKX1xdWVyeUNvbnRyb2xQb2ludHModCl7dFswXS5hc3NpZ24odGhpcy5nZXRTdGFydFhZKCkpLHRbMV0uYXNzaWduKHRoaXMubV9jcCksdFsyXS5hc3NpZ24odGhpcy5nZXRFbmRYWSgpKX1xdWVyeUNvbnRyb2xQb2ludHNIZWxwZXIodCl7cmV0dXJuIHRoaXMucXVlcnlDb250cm9sUG9pbnRzKHQpLDN9c2V0Q29udHJvbFBvaW50cyh0KXtmb3IobGV0IHM9MDtzPDM7cysrKXRbc10uaXNOQU4oKSYmZShcIk5hTiBjb250cm9sIHBvaW50cyBpbiBiZXppZXIgYXJlIG5vdCBzdXBwb3J0ZWRcIik7dGhpcy5tX1hTdGFydD10WzBdLngsdGhpcy5tX1lTdGFydD10WzBdLnksdGhpcy5tX2NwLnNldENvb3Jkc1BvaW50MkQodFsxXSksdGhpcy5tX1hFbmQ9dFsyXS54LHRoaXMubV9ZRW5kPXRbMl0ueSx0aGlzLmFmdGVyQ29tcGxldGVkTW9kaWZpY2F0aW9uKCl9Z2V0VGFuZ2VudCh0KXtjb25zdCBlPV90KHQsMCwxKTtsZXQgcz1jaSh0aGlzLDEsZSk7cmV0dXJuIHMuaXNaZXJvKCkmJihzPWNpKHRoaXMsMixlKSwxPT09ZSYmcy5uZWdhdGVUaGlzKCkpLHN9Z2V0RGVyaXZhdGl2ZSh0KXtyZXR1cm4gY2kodGhpcywxLF90KHQsMCwxKSl9Z2V0Q3VydmF0dXJlKHQpe2NvbnN0IGU9Y2kodGhpcywxLHQpLHM9Y2kodGhpcywyLHQpLG49ZS5zcXJMZW5ndGgoKTtpZigwPT09bilyZXR1cm4gTnVtYmVyLk5hTjtlLmRpdlRoaXMoTWF0aC5zcXJ0KG4pKTtyZXR1cm4gZS5jcm9zc1Byb2R1Y3Qocykvbn1pc0ludGVyc2VjdGluZyh0LGUscyl7cmV0dXJuIDAhPT1ybSghMSx0aGlzLHQsZSxzKX1pc0ludGVyc2VjdGluZ1BvaW50KHQsZSxzKXtpZihzJiYodC5pc0VxdWFsUG9pbnQyRCh0aGlzLmdldFN0YXJ0WFkoKSl8fHQuaXNFcXVhbFBvaW50MkQodGhpcy5nZXRFbmRYWSgpKSkpcmV0dXJuITE7Y29uc3Qgbj1uZXcgbWU7aWYodGhpcy5xdWVyeUxvb3NlRW52ZWxvcGUobiksbi5pbmZsYXRlQ29vcmRzKGUsZSksIW4uY29udGFpbnModCkpcmV0dXJuITE7Y29uc3QgaT10aGlzLmdldENsb3Nlc3RDb29yZGluYXRlKHQsITEpLHI9bmV3IFE7dGhpcy5xdWVyeUNvb3JkMkQoaSxyKTtyZXR1cm4gUS5kaXN0YW5jZShyLHQpPD1lfWlzSW50ZXJzZWN0aW5nUG9pbnQzRCh0LGUsbixpLHI9MSl7cmV0dXJuIHMoMCksITF9aXNNb25vdG9uZVF1aWNrQW5kRGlydHkoKXtyZXR1cm4hMX1nZXRNb25vdG9uaWNQYXJ0UGFyYW1zKHQscyl7Y29uc3Qgbj1vaSh0aGlzKSxpPW4uc3BlY2lhbFBvaW50c0NvdW50KCk7aWYoIXMpcmV0dXJuIG4uc3BlY2lhbFBvaW50c0NvdW50KCk7dDxpJiZlKFwiXCIpO2ZvcihsZXQgZT0wO2U8aTtlKyspc1tlXT1uLnNwZWNpYWxQb2ludHNbZV07cmV0dXJuIGl9bm9ybWFsaXplQWZ0ZXJFbmRwb2ludENoYW5nZSgpe3JldHVybiExfW9yaWVudEJvdHRvbVVwKCl7aWYodGhpcy5tX1lFbmQ8dGhpcy5tX1lTdGFydHx8dGhpcy5tX1lFbmQ9PT10aGlzLm1fWVN0YXJ0JiZ0aGlzLm1fWEVuZDx0aGlzLm1fWFN0YXJ0KXtldCh0aGlzLm1fWFN0YXJ0LHRoaXMubV9YU3RhcnQ9dGhpcy5tX1hFbmQpLGV0KHRoaXMubV9ZU3RhcnQsdGhpcy5tX1lTdGFydD10aGlzLm1fWUVuZCk7Zm9yKGxldCB0PTAsZT10aGlzLm1fZGVzY3JpcHRpb24uZ2V0VG90YWxDb21wb25lbnRDb3VudCgpLTI7dDxlO3QrKyl0aGlzLm1fYXR0cmlidXRlc1t0K2VdPWV0KHRoaXMubV9hdHRyaWJ1dGVzW3RdLHRoaXMubV9hdHRyaWJ1dGVzW3RdPXRoaXMubV9hdHRyaWJ1dGVzW3QrZV0pO3RoaXMubV9jYWNoZWRWYWx1ZXM9bnVsbH19aXNEZWdlbmVyYXRlVG9MaW5lSGVscGVyKHQpe2NvbnN0IGU9bHQoUSwzKTt0aGlzLnF1ZXJ5Q29udHJvbFBvaW50cyhlKTtjb25zdCBzPWVbMl0uc3ViKGVbMF0pLG49cy5sZW5ndGgoKTtpZihRLmRpc3RhbmNlKGVbMF0sZVsxXSkrUS5kaXN0YW5jZShlWzJdLGVbMV0pLW4+dClyZXR1cm4hMTtjb25zdCBpPXQscj1lWzFdLmNsb25lKCk7ci5zdWJUaGlzKGVbMF0pO3JldHVybiEoTWF0aC5hYnMoci5jcm9zc1Byb2R1Y3QocykpL24+aSl9Y29weUlnbm9yZUF0dHJpYnV0ZXModCl7Y29uc3QgZT1sdChRLDMpO3RoaXMucXVlcnlDb250cm9sUG9pbnRzKGUpLHQuc2V0Q29udHJvbFBvaW50cyhlKX1jYWxjdWxhdGVBcmVhMkRIZWxwZXIoKXtyZXR1cm4gcGkodGhpcyl9YWJzTm9ybSgpe3JldHVybiBOaSh0aGlzKX1xdWVyeUVudmVsb3BlVyh0LGUpe2NvbnN0IHM9bHQoUSwzKTt0aGlzLnF1ZXJ5Q29udHJvbFBvaW50cyhzKSxFaShzLHQsZSl9c2V0U2VnbWVudEZyb21Db29yZHNGb3JTdGl0Y2hlcih0LGUpe3RoaXMuY29uc3RydWN0KHRbMF0sdGhpcy5nZXRDb250cm9sUG9pbnQxKCksdFtlLTFdKX1zbmFwQ29udHJvbFBvaW50cyh0KXtyZXR1cm4gJGkodGhpcyx0KX13cml0ZUluQnVmZmVyU3RyZWFtKHQsZSl7Y29uc3Qgcz1uZXcgRmxvYXQ2NEFycmF5KDIpO3JldHVybiBzWzBdPXRoaXMubV9jcC54LHNbMV09dGhpcy5tX2NwLnksdC53cml0ZVJhbmdlRnJvbUFycmF5KGUscy5sZW5ndGgscywhMCwxKSxlK3MubGVuZ3RofXJlYWRGcm9tQnVmZmVyU3RyZWFtKHQsZSl7Y29uc3Qgcz1uZXcgRmxvYXQ2NEFycmF5KDIpO3QucXVlcnlSYW5nZShlLHMubGVuZ3RoLHMsITAsMSksdGhpcy5tX2NwLng9c1swXSx0aGlzLm1fY3AueT1zWzFdLHRoaXMubV9jYWNoZWRWYWx1ZXM9bnVsbH1uZWVkc1NuYXBDb250cm9sUG9pbnRzKHQpe3JldHVybiB0cih0aGlzLHQpfWNhbGN1bGF0ZVNwZWNpYWxQb2ludHNGb3JDcmFja2luZyh0LGUpe3JldHVybiAwfWVuc3VyZVhZTW9ub3RvbmUoKXtyZXR1cm4gd2kodGhpcyl9c2V0Q29vcmRzRm9ySW50ZXJzZWN0b3IodCxlLHMpe1lpKHRoaXMsdCxlLHMpfWNvcHlUb0ltcGwodCl7Y29uc3QgZT10O2UubV9jcC5zZXRDb29yZHNQb2ludDJEKHRoaXMubV9jcCkseGkoZSx5aSh0aGlzKSl9cmV2ZXJzZUltcGwoKXt9ZXF1YWxzSW1wbFRvbCh0LGUpe2NvbnN0IHM9dDtyZXR1cm4hIXRoaXMubV9jcC5pc0VxdWFsUG9pbnQyRChzLm1fY3AsZSl9ZXF1YWxzSW1wbCh0KXtjb25zdCBlPXQ7cmV0dXJuISF0aGlzLm1fY3AuZXF1YWxzKGUubV9jcCl9c3dhcEltcGwodCl7Y29uc3QgZT10O2UubV9jcD1ldCh0aGlzLm1fY3AsdGhpcy5tX2NwPWUubV9jcCkscmkodGhpcyxlKX1hZnRlckNvbXBsZXRlZE1vZGlmaWNhdGlvbigpe2lpKHRoaXMpfWludGVyc2VjdCh0LGUscyxuLGkpe3JldHVybiB1bSghMSx0aGlzLHQsZSxzLG4saSl9aW50ZXJzZWN0UG9pbnQodCxlLHMpe3JldHVybiBiaSh0aGlzLHQsZS5sZW5ndGgsZSxzKX1lbmRQb2ludE1vZGlmaWVkKCl7aWkodGhpcyl9Y2xlYXJFbmRQb2ludE1vZGlmaWVkKCl7fX13bi50eXBlPWkuZW51bUJlemllcjI7Y2xhc3MgQW57Y29uc3RydWN0b3IodCl7cmV0dXJuIHQuY29lZnNUPyh0aGlzLm1femVyb0N0b3I9dC56ZXJvQ3Rvcix0aGlzLm1fZWxlbWVudHM9dC5jb2Vmc1QubWFwKCh0PT50LmNsb25lKCkpKSxzKHRoaXMubV9lbGVtZW50cy5sZW5ndGg9PT10LnBvd2VyKzEpLHZvaWQgdGhpcy51cGRhdGVQb3dlcigpKTp0LmNvZWYwPyh0aGlzLm1femVyb0N0b3I9dC56ZXJvQ3Rvcix2b2lkKHRoaXMubV9lbGVtZW50cz1bdC5jb2VmMC5jbG9uZSgpXSkpOnQuY29weT8odGhpcy5tX3plcm9DdG9yPXQuY29weS5tX3plcm9DdG9yLHZvaWQodGhpcy5tX2VsZW1lbnRzPXQuY29weS5tX2VsZW1lbnRzLm1hcCgodD0+dC5jbG9uZSgpKSkpKToodGhpcy5tX3plcm9DdG9yPXQuemVyb0N0b3Isdm9pZCh0aGlzLm1fZWxlbWVudHM9W25ldyB0aGlzLm1femVyb0N0b3JdKSl9Y29uc3RydWN0KHQsZSl7cmV0dXJuIHRoaXMubV9lbGVtZW50cz10Lm1hcCgodD0+dC5jbG9uZSgpKSksdGhpcy51cGRhdGVQb3dlcigpLHRoaXN9Y29uc3RydWN0MCh0KXtyZXR1cm4gdGhpcy5tX2VsZW1lbnRzLmxlbmd0aD0wLHRoaXMubV9lbGVtZW50cy5wdXNoKHQuY2xvbmUoKSksdGhpcy51cGRhdGVQb3dlcigpLHRoaXN9YXNzaWduQ29weSh0KXtyZXR1cm4gdGhpcy5tX2VsZW1lbnRzPXQubV9lbGVtZW50cy5tYXAoKHQ9PnQuY2xvbmUoKSkpLHRoaXMudXBkYXRlUG93ZXIoKSx0aGlzfWFzc2lnbk1vdmUodCl7cmV0dXJuIHRoaXMubV9lbGVtZW50cz10Lm1fZWxlbWVudHMsdC5tX2VsZW1lbnRzPVtdLHRoaXMudXBkYXRlUG93ZXIoKSx0aGlzfXBvd2VyKCl7cmV0dXJuIHRoaXMubV9lbGVtZW50cy5sZW5ndGgtMX1hZGRFbGVtZW50KHQpe3RoaXMubV9lbGVtZW50cy5wdXNoKHQuY2xvbmUoKSl9c2NhbGVSYW5nZVRvVW5pdEludGVydmFsKHQsZSl7Y29uc3Qgcz1lO3Muc3ViVGhpcyh0KTtjb25zdCBuPXRoaXMucG93ZXIoKTtmb3IobGV0IGk9MDtpPD1uO2krKyl7Y29uc3QgZT1uZXcgdGhpcy5tX3plcm9DdG9yO2ZvcihsZXQgcz1pO3M8PW47cysrKXtjb25zdCBuPXRoaXMubV9lbGVtZW50c1tzXTtuLm11bERvdWJsZVRoaXMoYWUocyxpKSk7Y29uc3Qgcj10LnBvdyhzLWkpO24ubXVsVGhpcyhyKSxlLmFkZFRoaXMobil9Y29uc3Qgcj1zLnBvdyhpKTtlLm11bFRoaXMociksdGhpcy5tX2VsZW1lbnRzW2ldPWV9fWZtU3ViVGhpcyh0LGUpe3JldHVybiBzKDApLHRoaXN9YWRkVGhpcyh0KXtjb25zdCBlPU1hdGgubWluKHRoaXMucG93ZXIoKSx0LnBvd2VyKCkpO2ZvcihsZXQgbj0wO248PWU7KytuKXRoaXMubV9lbGVtZW50c1tuXS5hZGRUaGlzKHQubV9lbGVtZW50c1tuXSk7Y29uc3Qgcz10LnBvd2VyKCk7dGhpcy5tX2VsZW1lbnRzLmxlbmd0aD1NYXRoLm1heCh0aGlzLnBvd2VyKCksdC5wb3dlcigpKSsxO2ZvcihsZXQgbj1lKzE7bjw9czsrK24pdGhpcy5tX2VsZW1lbnRzW25dPXQubV9lbGVtZW50c1tuXTtyZXR1cm4gdGhpcy51cGRhdGVQb3dlcigpLHRoaXN9YWRkMCh0KXtyZXR1cm4gdGhpcy5tX2VsZW1lbnRzWzBdLmFkZFRoaXModCksdGhpcy51cGRhdGVQb3dlcigpLHRoaXN9YWRkTnVtYmVyMCh0KXtyZXR1cm4gcygwKSx0aGlzfXN1Yih0KXtjb25zdCBlPU1hdGgubWluKHRoaXMucG93ZXIoKSx0LnBvd2VyKCkpO2ZvcihsZXQgbj0wO248PWU7KytuKXRoaXMubV9lbGVtZW50c1tuXS5zdWJUaGlzKHQubV9lbGVtZW50c1tuXSk7Y29uc3Qgcz10LnBvd2VyKCk7dGhpcy5tX2VsZW1lbnRzLmxlbmd0aD1NYXRoLm1heCh0aGlzLnBvd2VyKCksdC5wb3dlcigpKSsxO2ZvcihsZXQgbj1lKzE7bjw9czsrK24pdGhpcy5tX2VsZW1lbnRzW25dPXQubV9lbGVtZW50c1tuXS5jbG9uZSgpLHRoaXMubV9lbGVtZW50c1tuXS5uZWdhdGVUaGlzKCk7cmV0dXJuIHRoaXMudXBkYXRlUG93ZXIoKSx0aGlzfXN1YjAodCl7cmV0dXJuIHMoMCksdGhpc31zdWJOdW1iZXIwKHQpe3JldHVybiBzKDApLHRoaXN9c3ViU2hpZnRlZCh0LGUpe2NvbnN0IHM9dGhpcy5wb3dlcigpLG49dC5wb3dlcigpK2UsaT1NYXRoLm1pbih0aGlzLnBvd2VyKCksbik7bGV0IHI9MDtmb3IobGV0IG89ZTtvPD1pOysrbyl0aGlzLm1fZWxlbWVudHNbb10uc3ViVGhpcyh0Lm1fZWxlbWVudHNbcl0pLHIrKztpZihuPD1zKXJldHVybiB0aGlzLnVwZGF0ZVBvd2VyKCksdGhpczt0aGlzLm1fZWxlbWVudHMubGVuZ3RoPW4rMTtmb3IobGV0IG89cysxO288dGhpcy5tX2VsZW1lbnRzLmxlbmd0aDsrK28pdGhpcy5tX2VsZW1lbnRzW29dPW5ldyB0aGlzLm1femVyb0N0b3I7Zm9yKGxldCBvPWkrMTtvPD1uOysrbyl0aGlzLm1fZWxlbWVudHNbb10uc3ViVGhpcyh0Lm1fZWxlbWVudHNbcisrXSk7cmV0dXJuIHRoaXMudXBkYXRlUG93ZXIoKSx0aGlzfXN1YlNoaWZ0ZWRXaXRoQ29lZih0LGUscyl7Y29uc3Qgbj10aGlzLnBvd2VyKCksaT10LnBvd2VyKCkrcyxyPU1hdGgubWluKHRoaXMucG93ZXIoKSxpKTtsZXQgbz0wO2ZvcihsZXQgYT1zO2E8PXI7KythKXRoaXMubV9lbGVtZW50c1thXS5mbVN1YlRoaXModC5tX2VsZW1lbnRzW29dLGUpLG8rKztpZihpPD1uKXJldHVybiB0aGlzLnVwZGF0ZVBvd2VyKCksdGhpczt0aGlzLm1fZWxlbWVudHMubGVuZ3RoPWkrMTtmb3IobGV0IGE9bisxO2E8dGhpcy5tX2VsZW1lbnRzLmxlbmd0aDsrK2EpdGhpcy5tX2VsZW1lbnRzW2FdPW5ldyB0aGlzLm1femVyb0N0b3I7Zm9yKGxldCBhPXIrMTthPD1pOysrYSl0aGlzLm1fZWxlbWVudHNbYV0uZm1TdWJUaGlzKHQubV9lbGVtZW50c1tvKytdLGUpO3JldHVybiB0aGlzLnVwZGF0ZVBvd2VyKCksdGhpc31tdWxUaGlzKHQpe2lmKHRoaXMuY29uc3RydWN0b3I9PT10LmNvbnN0cnVjdG9yKXtjb25zdCBlPXQscz1bXTtmb3IobGV0IHQ9MCxuPXRoaXMucG93ZXIoKTt0PD1uO3QrKylmb3IobGV0IGk9MCxyPWUucG93ZXIoKTtpPD1yO2krKyl7Y29uc3Qgbj10aGlzLm1fZWxlbWVudHNbdF0uY2xvbmUoKTtuLm11bFRoaXMoZS5tX2VsZW1lbnRzW2ldKSx0K2k8cy5sZW5ndGg/c1t0K2ldLmFkZFRoaXMobik6cy5wdXNoKG4pfXRoaXMubV9lbGVtZW50cz1zfWVsc2UgZm9yKGxldCBlPTAscz10aGlzLnBvd2VyKCk7ZTw9cztlKyspdGhpcy5tX2VsZW1lbnRzW2VdLm11bFRoaXModCk7cmV0dXJuIHRoaXMudXBkYXRlUG93ZXIoKSx0aGlzfW11bEVsZW1lbnRUaGlzKHQpe2ZvcihsZXQgZT0wLHM9dGhpcy5wb3dlcigpO2U8PXM7ZSsrKXRoaXMubV9lbGVtZW50c1tlXS5tdWxUaGlzKHQpO3JldHVybiB0aGlzLnVwZGF0ZVBvd2VyKCksdGhpc31tdWxEb3VibGVUaGlzKHQpe2ZvcihsZXQgZT0wLHM9dGhpcy5wb3dlcigpO2U8PXM7ZSsrKXRoaXMubV9lbGVtZW50c1tlXS5tdWxEb3VibGVUaGlzKHQpO3JldHVybiB0aGlzLnVwZGF0ZVBvd2VyKCksdGhpc31tdWxOdW1iZXIwKHQpe3JldHVybiBzKDApLHRoaXN9bXVsQmlnaW50MCh0KXtyZXR1cm4gcygwKSx0aGlzfW11bEJpZ0ludFRoaXModCl7cmV0dXJuIHMoMCksdGhpc31tdWxJbnQzMjAodCl7cmV0dXJuIHMoMCksdGhpc31kaXYwKHQpe3JldHVybiBzKDApLHRoaXN9YWJzVGhpcygpe3JldHVybiBzKDApLHRoaXN9ZGl2KHQsZSxzKXtpZih0aGlzLnBvd2VyKCk8dC5wb3dlcigpKXJldHVybiBzLmFzc2lnbkNvcHkodGhpcyksdm9pZCBlLnNldFplcm8oKTtzLnNldFplcm8oKSxlLnNldFplcm8oKTtjb25zdCBuPXQuZ2V0RWxlbWVudCh0LnBvd2VyKCkpLGk9dGhpcy5jbG9uZSgpO2xldCByPWkucG93ZXIoKTtjb25zdCBvPWkucG93ZXIoKS10LnBvd2VyKCk7bGV0IGE9bztmb3IoZS5tX2VsZW1lbnRzPWx0KGUubV96ZXJvQ3RvcixvKzEpOzspe2lmKHI8dC5wb3dlcigpKXtzLmFzc2lnbk1vdmUoaSk7YnJlYWt9aWYocj09PWkucG93ZXIoKSl7Y29uc3Qgcz1pLmdldEVsZW1lbnQoaS5wb3dlcigpKTtzLmRpdlRoaXMobiksaS5zdWJTaGlmdGVkV2l0aENvZWYodCxzLGkucG93ZXIoKS10LnBvd2VyKCkpLGUubV9lbGVtZW50c1thXT1zLmNsb25lKCl9YS0tLHItLX1zLnVwZGF0ZVBvd2VyKCksZS51cGRhdGVQb3dlcigpfWRpdlRoaXModCl7cmV0dXJuIHMoMCksdGhpc31zdWJUaGlzKHQpe2NvbnN0IGU9TWF0aC5taW4odGhpcy5wb3dlcigpLHQucG93ZXIoKSk7Zm9yKGxldCBuPTA7bjw9ZTsrK24pdGhpcy5tX2VsZW1lbnRzW25dLnN1YlRoaXModC5tX2VsZW1lbnRzW25dKTtjb25zdCBzPXQucG93ZXIoKTt0aGlzLm1fZWxlbWVudHMubGVuZ3RoPU1hdGgubWF4KHRoaXMucG93ZXIoKSx0LnBvd2VyKCkpKzE7Zm9yKGxldCBuPWUrMTtuPD1zOysrbil0aGlzLm1fZWxlbWVudHNbbl09dC5tX2VsZW1lbnRzW25dLmNsb25lKCksdGhpcy5tX2VsZW1lbnRzW25dLm5lZ2F0ZVRoaXMoKTtyZXR1cm4gdGhpcy51cGRhdGVQb3dlcigpLHRoaXN9c3ViMFRoaXModCl7cmV0dXJuIHRoaXMubV9lbGVtZW50c1swXS5zdWJUaGlzKHQpLHRoaXMudXBkYXRlUG93ZXIoKSx0aGlzfXN1YkZyb20odCxlKXtzKDApfWlzWmVybygpe3JldHVybiAwPT09dGhpcy5wb3dlcigpJiZ0aGlzLm1fZWxlbWVudHNbMF0uaXNaZXJvKCl9bmVnYXRlVGhpcygpe2ZvcihsZXQgdD10aGlzLm1fZWxlbWVudHMubGVuZ3RoLTE7dD49MDt0LS0pdGhpcy5tX2VsZW1lbnRzW3RdLm5lZ2F0ZVRoaXMoKTtyZXR1cm4gdGhpc31nZXRFbGVtZW50KHQpe3JldHVybiB0aGlzLm1fZWxlbWVudHNbdF0uY2xvbmUoKX1zZXRFbGVtZW50KHQsZSl7cmV0dXJuIHRoaXMubV9lbGVtZW50c1t0XT1lLmNsb25lKCksdGhpc31ldmFsdWF0ZSh0KXtjb25zdCBlPXRoaXMucG93ZXIoKSxzPXRoaXMubV9lbGVtZW50c1tlXS5jbG9uZSgpO2ZvcihsZXQgbj1lLTE7bj49MDstLW4pcy5tdWxUaGlzKHQpLHMuYWRkVGhpcyh0aGlzLm1fZWxlbWVudHNbbl0pO3JldHVybiBzfWVxdWFscyh0KXtpZih0aGlzPT09dClyZXR1cm4hMDtpZih0aGlzLnBvd2VyKCkhPT10LnBvd2VyKCkpcmV0dXJuITE7Zm9yKGxldCBlPXRoaXMubV9lbGVtZW50cy5sZW5ndGgtMTtlPj0wO2UtLSlpZighdGhpcy5tX2VsZW1lbnRzW2VdLmVxdWFscyh0Lm1fZWxlbWVudHNbZV0pKXJldHVybiExO3JldHVybiEwfXVwZGF0ZVBvd2VyKCl7Zm9yKGxldCB0PXRoaXMubV9lbGVtZW50cy5sZW5ndGgtMTt0PjAmJnRoaXMubV9lbGVtZW50c1t0XS5pc1plcm8oKTt0LS0pdGhpcy5tX2VsZW1lbnRzLnBvcCgpO3JldHVybiB0aGlzfXNldFplcm8oKXtyZXR1cm4gdGhpcy5tX2VsZW1lbnRzLmxlbmd0aD0xLHRoaXMubV9lbGVtZW50c1swXT1uZXcgdGhpcy5tX3plcm9DdG9yLHRoaXMudXBkYXRlUG93ZXIoKSx0aGlzfWRlcml2YXRpdmUodCl7aWYodGhpcy5wb3dlcigpPHQpcmV0dXJuIHRoaXMuY2xvbmUoKS5zZXRaZXJvKCk7aWYoMD09PXQpcmV0dXJuIHRoaXMuY2xvbmUoKTtjb25zdCBlPW5ldyB0aGlzLmNvbnN0cnVjdG9yKHtjb2Vmc1Q6dGhpcy5tX2VsZW1lbnRzLnNsaWNlKHQpLHBvd2VyOnRoaXMucG93ZXIoKS10fSk7Zm9yKGxldCBzPXQsbj10aGlzLnBvd2VyKCk7czw9bjtzKyspe2xldCBuPUJpZ0ludChzKTtmb3IobGV0IGU9cy0xLGk9cy10O2U+aTstLWUpbio9QmlnSW50KGUpO2UubV9lbGVtZW50c1tzLXRdLm11bEJpZ0ludFRoaXMobil9cmV0dXJuIGUudXBkYXRlUG93ZXIoKSxlfWRlcml2YXRpdmUxVGhpcygpe2lmKHRoaXMubV9lbGVtZW50cy5sZW5ndGg+MSl7dGhpcy5tX2VsZW1lbnRzPXRoaXMubV9lbGVtZW50cy5zbGljZSgxKTtmb3IobGV0IHQ9MSxlPXRoaXMucG93ZXIoKTt0PD1lO3QrKyl0aGlzLm1fZWxlbWVudHNbdF0ubXVsVGhpcyhpdC5jb25zdHJ1Y3RJbnQzMih0KzEpKX1lbHNlIHRoaXMubV9lbGVtZW50cy5sZW5ndGg9MCx0aGlzLm1fZWxlbWVudHMucHVzaChuZXcgdGhpcy5tX3plcm9DdG9yKTtyZXR1cm4gdGhpc31saW1pdFByZWNpc2lvblRoaXModCl7Zm9yKGxldCBlPXRoaXMucG93ZXIoKTtlPj0wOy0tZSl0aGlzLm1fZWxlbWVudHNbZV0ubGltaXRQcmVjaXNpb25UaGlzKHQpO3JldHVybiB0aGlzLnVwZGF0ZVBvd2VyKCksdGhpc31oaUJpdEluZGV4KCl7cmV0dXJuIHRoaXMubV9lbGVtZW50cy5yZWR1Y2UoKCh0LGUpPT57Y29uc3Qgcz1lLmhpQml0SW5kZXgoKTtyZXR1cm4gdDxzP3M6dH0pLDApfXNoaWZ0UmlnaHQodCl7cmV0dXJuIHRoaXMubV9lbGVtZW50cy5zcGxpY2UoMCx0KSx0aGlzLnVwZGF0ZVBvd2VyKCksdGhpc31ldmFsdWF0ZURlcml2YXRpdmUodCl7Y29uc3QgZT10aGlzLnBvd2VyKCkscz10aGlzLm1fZWxlbWVudHNbZV07cy5tdWxEb3VibGVUaGlzKGUpO2ZvcihsZXQgbj1lLTE7bj49MTstLW4pe3MubXVsVGhpcyh0KTtjb25zdCBlPXRoaXMubV9lbGVtZW50c1tuXTtlLm11bERvdWJsZVRoaXMobikscy5hZGRUaGlzKGUpfXJldHVybiBzfXN0YXRpYyBldmFsdWF0ZUNvZWZzKHQsZSxzKXtjb25zdCBuPXQucG93ZXIoKTtzLmNvbnN0cnVjdDAodC5nZXRFbGVtZW50KDApLmV2YWx1YXRlKGUpKTtmb3IobGV0IGk9MTtpPD1uOysraSlzLmFkZEVsZW1lbnQodC5nZXRFbGVtZW50KGkpLmV2YWx1YXRlKGUpKTtzLnVwZGF0ZVBvd2VyKCl9fWNsYXNzIFRuIGV4dGVuZHMgQW57Y29uc3RydWN0b3IodCl7c3VwZXIodm9pZCAwPT09dD97emVyb0N0b3I6aXR9OnsuLi50LHplcm9DdG9yOml0fSl9Y2xvbmUoKXtyZXR1cm4gbmV3IFRuKHtjb3B5OnRoaXN9KX1hYnNFdmFsdWF0ZSh0KXtjb25zdCBlPXRoaXMucG93ZXIoKSxzPXRoaXMubV9lbGVtZW50c1tlXS5jbG9uZSgpO3MuYWJzVGhpcygpO2NvbnN0IG49dC5jbG9uZSgpO24uYWJzVGhpcygpO2ZvcihsZXQgaT1lLTE7aT49MDstLWkpcy5tdWxUaGlzKG4pLHMuYWRkVGhpcyh0aGlzLm1fZWxlbWVudHNbaV0uYWJzKCkpO3JldHVybiBzfX1jbGFzcyBJbiBleHRlbmRzIEFue2NvbnN0cnVjdG9yKHQpe3N1cGVyKHZvaWQgMD09PXQ/e3plcm9DdG9yOlRufTp7Li4udCx6ZXJvQ3RvcjpUbn0pfWNsb25lKCl7cmV0dXJuIG5ldyBJbih7Y29weTp0aGlzfSl9Y29uc3RydWN0RnJvbU1QVmFsdWVzKHQsZSl7dGhpcy5tX2VsZW1lbnRzLmxlbmd0aD0wO2ZvcihsZXQgcz0wO3M8PWU7KytzKXRoaXMubV9lbGVtZW50cy5wdXNoKG5ldyBUbih7Y29lZjA6dFtzXX0pKTtyZXR1cm4gdGhpcy51cGRhdGVQb3dlcigpLHRoaXN9fWZ1bmN0aW9uIE1uKCl7cmV0dXJue3BvbHlwb2x5MTpuZXcgSW4scG9seXBvbHkyOm5ldyBJbixwb2x5WDI6bmV3IFRuLHBvbHlZMjpuZXcgVG4scG9seVgyRGVyaXY6bmV3IFRuLHBvbHlZMkRlcml2Om5ldyBUbixwb2x5cG9seVgxOm5ldyBJbixwb2x5cG9seVkxOm5ldyBJbixwb2x5cG9seVgxRGVyaXY6bmV3IEluLHBvbHlwb2x5WTFEZXJpdjpuZXcgSW4sbGF6eVBvbHlwb2x5RDE6bmV3IEluLGxhenlQb2x5cG9seUQxRGVyaXY6bmV3IEluLGxhenlQb2x5RDI6bmV3IFRuLGxhenlQb2x5RDJEZXJpdjpudWxsLHBvbHlwb2x5MTE6bmV3IEluLHBvbHlwb2x5MTI6bmV3IEluLHRlbXBQcDpuZXcgSW4sdGVtcFBwMTpuZXcgSW4sdGVtcFBwMjpuZXcgSW4sdGVtcFA6bmV3IFRuLHRlbXBQMTpuZXcgVG4sdGVtcFAyOm5ldyBUbn19ZnVuY3Rpb24gWW4odCxlLG4saSxyLG8sYSx1LG0sbCxjLGcsZCxfLHAsZixQLHkseCxDPSExKXtjb25zdCB2PU1uKCk7di5wb2x5WDIuY29uc3RydWN0KGEsdSksdi5wb2x5WTIuY29uc3RydWN0KG0sbCksdi5wb2x5cG9seVgxLmNvbnN0cnVjdEZyb21NUFZhbHVlcyh0LGUpLHYucG9seXBvbHlZMS5jb25zdHJ1Y3RGcm9tTVBWYWx1ZXMobixpKSx2LnBvbHlwb2x5MTEuYXNzaWduQ29weSh2LnBvbHlwb2x5WDEpLHYucG9seXBvbHkxMi5hc3NpZ25Db3B5KHYucG9seXBvbHlZMSksYyYmKHYubGF6eVBvbHlEMi5jb25zdHJ1Y3QoYyxnKSx2LnBvbHlwb2x5MTEubXVsRWxlbWVudFRoaXModi5sYXp5UG9seUQyKSx2LnBvbHlwb2x5MTIubXVsRWxlbWVudFRoaXModi5sYXp5UG9seUQyKSkscj8odi5sYXp5UG9seXBvbHlEMS5jb25zdHJ1Y3RGcm9tTVBWYWx1ZXMocixvKSx2LmxhenlQb2x5cG9seUQxRGVyaXY9bmV3IEluKHtjb3B5OnYubGF6eVBvbHlwb2x5RDF9KSx2LmxhenlQb2x5cG9seUQxRGVyaXYuZGVyaXZhdGl2ZTFUaGlzKCksdi50ZW1wUHAuYXNzaWduQ29weSh2LmxhenlQb2x5cG9seUQxKSx2LnRlbXBQcC5tdWxFbGVtZW50VGhpcyh2LnBvbHlYMiksdi5wb2x5cG9seTExLnN1YlRoaXModi50ZW1wUHApLHYudGVtcFBwLmFzc2lnbkNvcHkodi5sYXp5UG9seXBvbHlEMSksdi50ZW1wUHAubXVsRWxlbWVudFRoaXModi5wb2x5WTIpLHYucG9seXBvbHkxMi5zdWJUaGlzKHYudGVtcFBwKSk6KHYucG9seXBvbHkxMS5zdWIwVGhpcyh2LnBvbHlYMiksdi5wb2x5cG9seTEyLnN1YjBUaGlzKHYucG9seVkyKSksdi5wb2x5cG9seVgxRGVyaXYuYXNzaWduQ29weSh2LnBvbHlwb2x5WDEpLHYucG9seXBvbHlYMURlcml2LmRlcml2YXRpdmUxVGhpcygpLHYucG9seXBvbHlZMURlcml2LmFzc2lnbkNvcHkodi5wb2x5cG9seVkxKSx2LnBvbHlwb2x5WTFEZXJpdi5kZXJpdmF0aXZlMVRoaXMoKSxyJiYodi5wb2x5cG9seVgxRGVyaXYubXVsVGhpcyh2LmxhenlQb2x5cG9seUQxKSx2LnRlbXBQcDIuYXNzaWduQ29weSh2LmxhenlQb2x5cG9seUQxRGVyaXYpLHYudGVtcFBwMi5tdWxUaGlzKHYucG9seXBvbHlYMSksdi5wb2x5cG9seVgxRGVyaXYuc3ViVGhpcyh2LnRlbXBQcDIpLHYucG9seXBvbHlZMURlcml2Lm11bFRoaXModi5sYXp5UG9seXBvbHlEMSksdi50ZW1wUHAyLmFzc2lnbkNvcHkodi5sYXp5UG9seXBvbHlEMURlcml2KSx2LnRlbXBQcDIubXVsVGhpcyh2LnBvbHlwb2x5WTEpLHYucG9seXBvbHlZMURlcml2LnN1YlRoaXModi50ZW1wUHAyKSksdi5wb2x5WDJEZXJpdi5hc3NpZ25Db3B5KHYucG9seVgyKSx2LnBvbHlYMkRlcml2LmRlcml2YXRpdmUxVGhpcygpLHYucG9seVkyRGVyaXYuYXNzaWduQ29weSh2LnBvbHlZMiksdi5wb2x5WTJEZXJpdi5kZXJpdmF0aXZlMVRoaXMoKSxjJiYocyhudWxsPT09di5sYXp5UG9seUQyRGVyaXYpLHYubGF6eVBvbHlEMkRlcml2PW5ldyBUbih7Y29weTp2LmxhenlQb2x5RDJ9KSx2LmxhenlQb2x5RDJEZXJpdi5kZXJpdmF0aXZlMVRoaXMoKSx2LnBvbHlYMkRlcml2Lm11bFRoaXModi5sYXp5UG9seUQyKSx2LnRlbXBQMS5hc3NpZ25Db3B5KHYubGF6eVBvbHlEMkRlcml2KSx2LnRlbXBQMS5tdWxUaGlzKHYucG9seVgyKSx2LnBvbHlYMkRlcml2LnN1YlRoaXModi50ZW1wUDEpLHYucG9seVkyRGVyaXYubXVsVGhpcyh2LmxhenlQb2x5RDIpLHYudGVtcFAxLmFzc2lnbkNvcHkodi5sYXp5UG9seUQyRGVyaXYpLHYudGVtcFAxLm11bFRoaXModi5wb2x5WTIpLHYucG9seVkyRGVyaXYuc3ViVGhpcyh2LnRlbXBQMSkpLHYucG9seXBvbHkxLmFzc2lnbkNvcHkodi5wb2x5cG9seTExKSx2LnBvbHlwb2x5MS5tdWxFbGVtZW50VGhpcyh2LnBvbHlYMkRlcml2KSx2LnRlbXBQcC5hc3NpZ25Db3B5KHYucG9seXBvbHkxMiksdi50ZW1wUHAubXVsRWxlbWVudFRoaXModi5wb2x5WTJEZXJpdiksdi5wb2x5cG9seTEuYWRkVGhpcyh2LnRlbXBQcCksdi5wb2x5cG9seTIuYXNzaWduQ29weSh2LnBvbHlwb2x5WDFEZXJpdiksdi5wb2x5cG9seTIubXVsRWxlbWVudFRoaXModi5wb2x5WTJEZXJpdiksdi50ZW1wUHAuYXNzaWduQ29weSh2LnBvbHlwb2x5WTFEZXJpdiksdi50ZW1wUHAubXVsRWxlbWVudFRoaXModi5wb2x5WDJEZXJpdiksdi5wb2x5cG9seTIuc3ViVGhpcyh2LnRlbXBQcCk7bGV0IGI9W107Y29uc3QgUz1bXTtQfHwoUD1bXSksZnx8KGY9W10pLGtuKHYucG9seXBvbHkxMSx2LnBvbHlwb2x5MTIsdi50ZW1wUCk7Y29uc3QgRT02NCxEPXRlLmxkZXhwKC01OSkudG9Eb3VibGUoKSx3PVtdO2xldCBBPUduKHYudGVtcFAsZCxwLEQsRSx3LHkseSk7aWYoQTwwKXJldHVybi0xO2ZvcihsZXQgWT0wO1k8QTtZKyspe2NvbnN0IHQ9di50ZW1wUDEsZT12LnRlbXBQMjtUbi5ldmFsdWF0ZUNvZWZzKHYucG9seXBvbHkxMSx3W1ldLHQpO2NvbnN0IG49ZWUodC5tX2VsZW1lbnRzLHQucG93ZXIoKSsxKTtuLnNvcnQoKCh0LGUpPT50LmNvbXBhcmUoZSkpKSxUbi5ldmFsdWF0ZUNvZWZzKHYucG9seXBvbHkxMix3W1ldLGUpO2NvbnN0IGk9ZWUoZS5tX2VsZW1lbnRzLGUucG93ZXIoKSsxKTtpLnNvcnQoKCh0LGUpPT50LmNvbXBhcmUoZSkpKTtjb25zdCByPW5bMF0sbz1uLmF0KC0xKSxhPWlbMF0sdT1pLmF0KC0xKTtvLnN1YlRoaXMociksdS5zdWJUaGlzKGEpO2NvbnN0IG09by5zdWJUaGlzKHUpLkdFWigpLGw9NTgsYz10ZS5sZGV4cCgtNTkpLnRvRG91YmxlKCksZz1bXTtsZXQgcDtpZihwPUduKG0/dDplLGQsXyxjLGwsZyx5LHkpLHA8MCYmaChcIm1wX2N1cnZlX3Byb3hpbWl0eVwiKSxwPjApe2NvbnN0IG49bT9lOnQ7Zm9yKGxldCB0PTA7dDxwO3QrKyl7bGV0IGU7aWYobSl7Y29uc3Qgcz12LnRlbXBQO1RuLmV2YWx1YXRlQ29lZnModi5wb2x5cG9seTEyLHdbWV0uYWRkRG91YmxlKE51bWJlci5FUFNJTE9OKSxzKSxlPXMuZXZhbHVhdGUoZ1t0XSl9ZWxzZXtjb25zdCBzPXYudGVtcFA7VG4uZXZhbHVhdGVDb2Vmcyh2LnBvbHlwb2x5MTEsd1tZXS5hZGREb3VibGUoTnVtYmVyLkVQU0lMT04pLHMpLGU9cy5ldmFsdWF0ZShnW3RdKX1jb25zdCBpPW4uZXZhbHVhdGVEZXJpdmF0aXZlKGdbdF0pLmFicygpLm11bERvdWJsZVRoaXMoTnVtYmVyLkVQU0lMT04pLHI9bi5ldmFsdWF0ZShnW3RdKTtpLmFkZFRoaXMoZS5zdWIocikuYWJzVGhpcygpKSxpLmxkZXhwVGhpcygzKSxyLmFic1RoaXMoKSxyLmx0KGkpP1MucHVzaChNdChnW3RdLnRvRG91YmxlKCksd1tZXS50b0RvdWJsZSgpKSk6cyhyLmd0ZShpKSl9fX1BPVMubGVuZ3RoLGtuKHYucG9seXBvbHkxLHYucG9seXBvbHkyLHYudGVtcFApO2NvbnN0IFQ9W107bGV0IEk9R24odi50ZW1wUCxkLHAsRCxFLFQpO0k8MCYmKEk9MCk7Zm9yKGxldCBzPTA7czxJO3MrKyl7VG4uZXZhbHVhdGVDb2Vmcyh2LnBvbHlwb2x5MSxUW3NdLHYudGVtcFAxKTtjb25zdCB0PVtdO2xldCBlPUduKHYudGVtcFAxLGQsXyxELEUsdCk7aWYoMCE9PWUpaWYoVG4uZXZhbHVhdGVDb2Vmcyh2LnBvbHlwb2x5MixUW3NdLHYudGVtcFAyKSxlPDApe2lmKGU9R24odi50ZW1wUDIsZCxfLEQsRSx0KSxlPDApY29udGludWU7Zm9yKGxldCBuPTA7bjxlO24rKyliLnB1c2goTXQodFtuXS50b0RvdWJsZSgpLFRbc10udG9Eb3VibGUoKSkpfWVsc2V7Y29uc3Qgbj12LnRlbXBQMi5hYnNFdmFsdWF0ZSh0ZSk7bi5tdWxUaGlzKGl0LmNvbnN0cnVjdERvdWJsZSgxZS0xMikpO2ZvcihsZXQgaT0wO2k8ZTtpKyspe2NvbnN0IGU9di50ZW1wUDIuZXZhbHVhdGUodFtpXSk7ZS5hYnNUaGlzKCksZS5sdChuKSYmYi5wdXNoKE10KHRbaV0udG9Eb3VibGUoKSxUW3NdLnRvRG91YmxlKCkpKX19fWlmKEk9Yi5sZW5ndGgsMD09PUEmJjA9PT1JKXJldHVybiAwO2I9Yi5jb25jYXQoUyksYi5zb3J0KCgodCxlKT0+Qz9CdCh0LnNlY29uZCxlLnNlY29uZCk6QnQodC5maXJzdCxlLmZpcnN0KSkpO2NvbnN0IE09c2UoYiwoKHQsZSk9PnQuZmlyc3Q9PT1lLmZpcnN0JiZ0LnNlY29uZD09PWUuc2Vjb25kKSk7Yj1iLnNsaWNlKDAsTSksZi5sZW5ndGg9MCxQLmxlbmd0aD0wO2Zvcihjb25zdCBzIG9mIGIpZi5wdXNoKHMuZmlyc3QpLFAucHVzaChzLnNlY29uZCk7cmV0dXJuIHMoZi5sZW5ndGg9PT1QLmxlbmd0aCksUC5sZW5ndGh9ZnVuY3Rpb24gTm4odCxlLHMsbixpLHIsbyl7aWYoMD09PXQucG93ZXIoKSlyZXR1cm4gdC5pc1plcm8oKT8tMTowO2NvbnN0IGE9dC5ldmFsdWF0ZShpdC5jb25zdHJ1Y3RJbnQzMigxKSkuaXNaZXJvKCk7aWYoMT09PXQucG93ZXIoKSl7Y29uc3Qgcz1Gbih0LmdldEVsZW1lbnQoMSksdC5nZXRFbGVtZW50KDApLGUsci5hdCgwKSk7cmV0dXJuIHJbMF0ubGltaXRQcmVjaXNpb25UaGlzKG4pLDEhPT1zPzA6KHJbMF0ubGltaXRQcmVjaXNpb25UaGlzKG4pLDEpfWlmKDI9PT10LnBvd2VyKCkpe3JldHVybiBWbih0LmdldEVsZW1lbnQoMiksdC5nZXRFbGVtZW50KDEpLHQuZ2V0RWxlbWVudCgwKSxuLGUsYSxyKX1pZigzPT09dC5wb3dlcigpKXtyZXR1cm4gTG4odC5nZXRFbGVtZW50KDMpLHQuZ2V0RWxlbWVudCgyKSx0LmdldEVsZW1lbnQoMSksdC5nZXRFbGVtZW50KDApLG4sZSxhLHIpfWlmKDQ9PT10LnBvd2VyKCkpe3JldHVybiBSbih0LmdldEVsZW1lbnQoNCksdC5nZXRFbGVtZW50KDMpLHQuZ2V0RWxlbWVudCgyKSx0LmdldEVsZW1lbnQoMSksdC5nZXRFbGVtZW50KDApLG4sZSxhLHIpfXJldHVybiBVbih0LGUscyxuLGEsaSxyLG8pfWZ1bmN0aW9uIFhuKCl7cmV0dXJue3BvbHlJbnRlcnNlY3Q6bmV3IFRuLHBvbHlYMTpuZXcgVG4scG9seVkxOm5ldyBUbixwb2x5WDFEZXJpdjpuZXcgVG4scG9seVkxRGVyaXY6bmV3IFRuLGxhenlQb2x5RDE6bmV3IFRuLGxhenlQb2x5RDFEZXJpdjpuZXcgVG4sdGVtcFA6bmV3IFRuLHRlbXBQMTpuZXcgVG4sdGVtcFAyOm5ldyBUbixwb2x5cG9seTFQcm94aW1pdHk6bmV3IEluLHBvbHlwb2x5MlByb3hpbWl0eTpuZXcgSW59fWZ1bmN0aW9uIHFuKHQsZSxzLG4saSxyLG8sYSxoLHUsbSxsLGMpe2NvbnN0IGc9WG4oKTtnLnBvbHlYMS5jb25zdHJ1Y3QodCxlKSxnLnBvbHlZMS5jb25zdHJ1Y3QocyxuKSxnLnBvbHlYMURlcml2LmFzc2lnbkNvcHkoZy5wb2x5WDEpLGcucG9seVgxRGVyaXYuZGVyaXZhdGl2ZTFUaGlzKCksZy5wb2x5WTFEZXJpdi5hc3NpZ25Db3B5KGcucG9seVkxKSxnLnBvbHlZMURlcml2LmRlcml2YXRpdmUxVGhpcygpLGcucG9seUludGVyc2VjdC5hc3NpZ25Db3B5KGcucG9seVgxKSxnLnBvbHlJbnRlcnNlY3QubXVsVGhpcyhnLnBvbHlYMSksZy5wb2x5SW50ZXJzZWN0Lm11bEVsZW1lbnRUaGlzKG9bMF0pLGcudGVtcFAuYXNzaWduQ29weShnLnBvbHlZMSksZy50ZW1wUC5tdWxUaGlzKGcucG9seVkxKSxnLnRlbXBQLm11bEVsZW1lbnRUaGlzKG9bMV0pLGcucG9seUludGVyc2VjdC5hZGRUaGlzKGcudGVtcFApLGk/KGcubGF6eVBvbHlEMS5jb25zdHJ1Y3QoaSxyKSxnLnRlbXBQLmFzc2lnbkNvcHkoZy5sYXp5UG9seUQxKSxnLnRlbXBQLm11bFRoaXMoZy5sYXp5UG9seUQxKSxnLnRlbXBQLm11bEVsZW1lbnRUaGlzKG9bMl0pLGcucG9seUludGVyc2VjdC5hZGRUaGlzKGcudGVtcFApKTpnLnBvbHlJbnRlcnNlY3QuYWRkMChvWzJdKTt7Y29uc3QgaT1vWzBdLmNsb25lKCkscj1pLmNsb25lKCk7ci5zcXJUaGlzKCk7Y29uc3QgYT1vWzFdLmNsb25lKCksaD1hLmNsb25lKCk7aC5zcXJUaGlzKCk7Y29uc3QgdT1vWzJdLmNsb25lKCksbT1pLmNsb25lKCk7bS5zdWJUaGlzKGEpLGcucG9seVgxLmNvbnN0cnVjdCh0LGUpLGcucG9seVgxRGVyaXYuYXNzaWduQ29weShnLnBvbHlYMSksZy5wb2x5WDFEZXJpdi5kZXJpdmF0aXZlMVRoaXMoKSxnLnBvbHlZMS5jb25zdHJ1Y3QocyxuKSxnLnBvbHlZMURlcml2LmFzc2lnbkNvcHkoZy5wb2x5WTEpLGcucG9seVkxRGVyaXYuZGVyaXZhdGl2ZTFUaGlzKCksZy50ZW1wUC5hc3NpZ25Db3B5KGcucG9seVgxKSxnLnRlbXBQLm11bFRoaXMoZy5wb2x5WDEpLGcudGVtcFAubXVsRWxlbWVudFRoaXMoaCksZy50ZW1wUC5tdWxFbGVtZW50VGhpcyh1KSxnLnBvbHlwb2x5MVByb3hpbWl0eS5jb25zdHJ1Y3QwKGcudGVtcFApLGcudGVtcFAuYXNzaWduQ29weShnLnBvbHlYMSksZy50ZW1wUC5tdWxUaGlzKGEubXVsKG0pLm11bCh1KS5sZGV4cFRoaXMoMSkpLGcucG9seXBvbHkxUHJveGltaXR5LmFkZEVsZW1lbnQoZy50ZW1wUCksZy50ZW1wUC5hc3NpZ25Db3B5KGcucG9seVgxKSxnLnRlbXBQLm11bFRoaXMoZy5wb2x5WDEpLGcudGVtcFAubXVsRWxlbWVudFRoaXMoaS5tdWwoaCkpLGcudGVtcFAxLmFzc2lnbkNvcHkoZy5wb2x5WTEpLGcudGVtcFAxLm11bFRoaXMoZy5wb2x5WTEpLGcudGVtcFAxLm11bEVsZW1lbnRUaGlzKHIubXVsKGEpKSxnLnRlbXBQLmFkZFRoaXMoZy50ZW1wUDEpLGcudGVtcFAuYWRkMChtLm11bChtKS5tdWwodSkpLGcucG9seXBvbHkxUHJveGltaXR5LmFkZEVsZW1lbnQoZy50ZW1wUCksZy50ZW1wUC5hc3NpZ25Db3B5KGcucG9seVgxKSxnLnRlbXBQLm11bEVsZW1lbnRUaGlzKG0ubXVsKGkpLm11bChhKS5sZGV4cFRoaXMoMSkpLGcucG9seXBvbHkxUHJveGltaXR5LmFkZEVsZW1lbnQoZy50ZW1wUCksZy50ZW1wUC5jb25zdHJ1Y3QwKGkubXVsKG0pLm11bChtKSksZy5wb2x5cG9seTFQcm94aW1pdHkuYWRkRWxlbWVudChnLnRlbXBQKSxnLnBvbHlwb2x5MVByb3hpbWl0eS51cGRhdGVQb3dlcigpLGcudGVtcFAuY29uc3RydWN0MCgkdCksZy5wb2x5cG9seTJQcm94aW1pdHkuY29uc3RydWN0MChnLnRlbXBQKSxnLnRlbXBQLmFzc2lnbkNvcHkoZy5wb2x5WDEpLGcudGVtcFAubXVsVGhpcyhnLnBvbHlYMURlcml2KSxnLnRlbXBQMS5hc3NpZ25Db3B5KGcucG9seVkxKSxnLnRlbXBQMS5tdWxUaGlzKGcucG9seVkxRGVyaXYpLGcudGVtcFAuYWRkVGhpcyhnLnRlbXBQMSksZy50ZW1wUC5tdWxFbGVtZW50VGhpcyhpLm11bChhKSksZy5wb2x5cG9seTJQcm94aW1pdHkuYWRkRWxlbWVudChnLnRlbXBQKSxnLnRlbXBQLmFzc2lnbkNvcHkoZy5wb2x5WDFEZXJpdiksZy50ZW1wUC5tdWxFbGVtZW50VGhpcyhtLm11bChpKSksZy5wb2x5cG9seTJQcm94aW1pdHkuYWRkRWxlbWVudChnLnRlbXBQKSxnLnBvbHlwb2x5MlByb3hpbWl0eS51cGRhdGVQb3dlcigpfWNvbnN0IGQ9W10sXz1bXTtudWxsPT09bSYmKG09W10pO2xldCBwPTIqZy5wb2x5SW50ZXJzZWN0LnBvd2VyKCkrNTg7Y29uc3QgZj0uNSpOdW1iZXIuRVBTSUxPTixQPVtdLHk9R24oZy5wb2x5SW50ZXJzZWN0LGEsaCxmLHAsUCxsLGwpO2lmKHk8MClyZXR1cm4tMTtmb3IoY29uc3QgYiBvZiBQKV8ucHVzaChiLnRvRG91YmxlKCkpO2tuKGcucG9seXBvbHkxUHJveGltaXR5LGcucG9seXBvbHkyUHJveGltaXR5LGcudGVtcFApLHA9MipnLnRlbXBQLnBvd2VyKCkrNTgsUC5sZW5ndGg9MDtsZXQgeD1HbihnLnRlbXBQLGEsaCxmLHAsUCk7aWYoeDwwJiYoeD0wKSwwPT09eSYmMD09PXgpcmV0dXJuIDA7Zm9yKGNvbnN0IGIgb2YgUClkLnB1c2goYi50b0RvdWJsZSgpKTtjb25zdCBDPWQuY29uY2F0KF8pO20ubGVuZ3RoPUMubGVuZ3RoLEsobSxDLDAsMCxDLmxlbmd0aCksR3QobSk7Y29uc3Qgdj1zZShtLCgodCxlKT0+MD09PUJ0KHQsZSkpKTtyZXR1cm4gbS5sZW5ndGg9dixtLmxlbmd0aH1mdW5jdGlvbiBGbih0LGUscyxuKXtyZXR1cm4gdC5pc1plcm8oKT9lLmlzWmVybygpPy0xOjA6KG4uc2V0VGhpcyhlKSxuLm5lZ2F0ZVRoaXMoKSxuLmRpdlRoaXModCkscy5pc0VtcHR5KCl8fHMuY29udGFpbnNDb29yZGluYXRlKG4udmFsdWUoKSk/MTowKX1mdW5jdGlvbiBWbih0LGUscyxuLGkscixvKXtpZih0LmlzWmVybygpKXtpZihyKXJldHVybiBvWzBdLnNldEludDMyKDEpLGkuY29udGFpbnNDb29yZGluYXRlKDEpPzE6MDtyZXR1cm4gRm4oZSxzLGksb1swXSl9aWYocil7bGV0IGU9MjtyZXR1cm4gb1swXS5zZXRJbnQzMigxKSxzLmVxdWFscyh0KT8ob1sxXS5zZXRJbnQzMigxKSxlPTEpOm9bMV0uc2V0VGhpcyhzLmRpdih0KSksaS5jb250YWluc0Nvb3JkaW5hdGUob1sxXS52YWx1ZSgpKXx8KGU9MSksaS5jb250YWluc0Nvb3JkaW5hdGUob1swXS52YWx1ZSgpKXx8KGUtLSxvWzBdLnNldFRoaXMob1sxXSkpLDI9PT1lJiZvWzBdLnZhbHVlKCk+b1sxXS52YWx1ZSgpJiYob1sxXT1ldChvWzBdLG9bMF09b1sxXSkpLGV9Y29uc3QgYT1lLmNsb25lKCk7YS5zcXJUaGlzKCk7Y29uc3QgaD10LmNsb25lKCk7aWYoaC5tdWxUaGlzKHMpLmxkZXhwVGhpcygyKS5uZWdhdGVUaGlzKCkuYWRkVGhpcyhhKSxoLkxaKCkpcmV0dXJuIDA7Y29uc3QgdT1uKzIsbT1pdC5zcXJ0KGgsdSksbD1tLmNsb25lKCk7ZS5MWigpJiZsLm5lZ2F0ZVRoaXMoKSxsLmFkZFRoaXMoZSkubGltaXRQcmVjaXNpb25UaGlzKHUpLmxkZXhwVGhpcygtMSkubmVnYXRlVGhpcygpO2xldCBjPTA7cmV0dXJuIG9bMF0uc2V0VGhpcyhsKS5kaXZUaGlzKGl0LmNvbnN0cnVjdEFzc2lnbih0LHUpKS5saW1pdFByZWNpc2lvblRoaXMobiksKGkuaXNFbXB0eSgpfHxpLmNvbnRhaW5zQ29vcmRpbmF0ZShvWzBdLnZhbHVlKCkpKSYmYysrLG0uaXNaZXJvKCl8fGwuaXNaZXJvKCl8fChvW2NdLnNldFRoaXMocykuZGl2VGhpcyhsKS5saW1pdFByZWNpc2lvblRoaXMobiksKGkuaXNFbXB0eSgpfHxpLmNvbnRhaW5zQ29vcmRpbmF0ZShvW2NdLnZhbHVlKCkpKSYmYysrLDI9PT1jJiZvWzBdLmd0KG9bMV0pJiYob1sxXT1ldChvWzBdLG9bMF09b1sxXSkpKSxjfWZ1bmN0aW9uIExuKHQsZSxuLGkscixvLGEsaCl7aWYodC5pc1plcm8oKSl7cmV0dXJuIFZuKGUsbixpLHIsbyxhLGgpfWNvbnN0IHU9KHQsZSk9PntpZih0PjApe2xldCBzPWUrdDtmb3IobGV0IHQ9MTt0PHM7dCsrKWhbdF0uZXF1YWxzKGhbMF0pJiYoaFtzLTFdPWV0KGhbdF0saFt0XT1oW3MtMV0pLHMtLSk7ZT1zfXJldHVybiB0dChoLDAsZSwoKHQsZSk9PnQuY29tcGFyZShlKSkpLGV9O2lmKGkuaXNaZXJvKCkpe2xldCBzPTA7by5jb250YWluc0Nvb3JkaW5hdGUoMCkmJihoWzBdLnNldEludDMyKDApLHM9MSk7cmV0dXJuIHUoVm4odCxlLG4scixvLGEsaC5zbGljZSgxKSkscyl9aWYoYSl7bGV0IHM9MDtvLmNvbnRhaW5zQ29vcmRpbmF0ZSgxKSYmKGhbMF0uc2V0SW50MzIoMSkscz0xKTtjb25zdCBuPWUuYWRkKHQpLGE9aS5uZWdhdGUoKSxtPXQuYWRkKG4pLmFkZChhKS5pc1plcm8oKTtyZXR1cm4gdShWbih0LG4sYSxyLG8sbSxoLnNsaWNlKHMpKSxzKX1jb25zdCBtPW5ldyBpdCxsPW5ldyBpdCxjPW5ldyBpdCxnPWUuY2xvbmUoKTtpZihnLmlzWmVybygpKWwuc2V0VGhpcyhuKSxsLmRpdlRoaXModCksYy5zZXRUaGlzKGkpLGMuZGl2VGhpcyh0KTtlbHNle2cuZGl2VGhpcyh0KS5kaXZEb3VibGVUaGlzKDMpLm5lZ2F0ZVRoaXMoKTtjb25zdCBzPWUuY2xvbmUoKTtzLnNxclRoaXMoKTtjb25zdCByPXQuY2xvbmUoKTtyLnNxclRoaXMoKSxsLnNldFRoaXModCksbC5tdWxUaGlzKG4pLm11bERvdWJsZVRoaXMoMykuc3ViVGhpcyhzKS5kaXZUaGlzKHIpLmRpdkRvdWJsZVRoaXMoMyksYy5zZXRUaGlzKHMpLGMubXVsVGhpcyhlKSxjLmxkZXhwVGhpcygxKSxtLnNldFRoaXModCksbS5tdWxUaGlzKGUpLm11bFRoaXMobikubXVsRG91YmxlVGhpcyg5KSxjLnN1YlRoaXMobSksbS5zZXRUaGlzKHIpLG0ubXVsVGhpcyhpKS5tdWxEb3VibGVUaGlzKDI3KSxjLmFkZFRoaXMobSksYy5kaXZUaGlzKHIpLmRpdlRoaXModCkuZGl2RG91YmxlVGhpcygyNyl9aWYobC5pc1plcm8oKSl7Y29uc3QgdD1jLmNsb25lKCk7cmV0dXJuIHQubmVnYXRlVGhpcygpLHQuaXNaZXJvKCk/KGhbMF0uc2V0VGhpcyhnKSxRbihvLHIsaCwxKSk6KGhbMF0uc2V0VGhpcyhpdC5jdWJpY1Jvb3QodCxyKS5hZGQoZykpLFFuKG8scixoLDEpKX1jb25zdCBkPWMuY2xvbmUoKTtpZihkLnNxclRoaXMoKS5sZGV4cFRoaXMoLTIpLG0uc2V0VGhpcyhsLmNsb25lKCkpLG0uc3FyVGhpcygpLm11bFRoaXMobCkuZGl2RG91YmxlVGhpcygyNyksZC5hZGRUaGlzKG0pLGQuaXNaZXJvKCkpcmV0dXJuIGhbMF0uc2V0VGhpcyhjKSxoWzBdLm11bERvdWJsZVRoaXMoMykuZGl2VGhpcyhsKSxoWzFdLnNldFRoaXMoaFswXSksaFsxXS5uZWdhdGVUaGlzKCksaFsxXS5sZGV4cFRoaXMoLTEpLGhbMF0uYWRkVGhpcyhnKSxoWzFdLmFkZFRoaXMoZyksUW4obyxyLGgsMik7aWYoZC5HWigpKXJldHVybiBkLnNldFRoaXMoaXQuc3FydChkLHIrOCkpLG0uc2V0VGhpcyhjKSxtLmxkZXhwVGhpcygtMSkubmVnYXRlVGhpcygpLG0uYWRkVGhpcyhkKSxoWzBdLnNldFRoaXMoaXQuY3ViaWNSb290KG0scis4KSksbS5zZXRUaGlzKGMpLG0ubGRleHBUaGlzKC0xKS5uZWdhdGVUaGlzKCksbS5zdWJUaGlzKGQpLGhbMF0uYWRkVGhpcyhpdC5jdWJpY1Jvb3QobSxyKzgpKSxoWzBdLmFkZFRoaXMoZyksUW4obyxyLGgsMSk7bS5zZXRUaGlzKGwpLG0uZGl2RG91YmxlVGhpcygzKS5uZWdhdGVUaGlzKCkscyhtLkdFWigpKTtjb25zdCBfPWl0LnNxcnQobSxyKzgpLHA9Xy5jbG9uZSgpO3AubmVnYXRlVGhpcygpLHAuYWRkVGhpcyhnKSxfLmFkZFRoaXMoZyk7Y29uc3QgZj1pdC5jb25zdHJ1Y3REb3VibGUoby5pc0VtcHR5KCk/LU51bWJlci5NQVhfVkFMVUU6by52bWluKSxQPWl0LmNvbnN0cnVjdERvdWJsZShvLmlzRW1wdHkoKT9OdW1iZXIuTUFYX1ZBTFVFOm8udm1heCkseT1uZXcgVG4oe3plcm9DdG9yOml0fSk7eS5jb25zdHJ1Y3QwKGkpLHkuYWRkRWxlbWVudChuKSx5LmFkZEVsZW1lbnQoZSkseS5hZGRFbGVtZW50KHQpO2NvbnN0IHg9bmV3IFRuKHtjb3B5Onl9KTt4LmRlcml2YXRpdmUxVGhpcygpO2xldCBDPTA7Y29uc3Qgdj1sdChpdCw0KTt2W0MrK10uc2V0VGhpcyhmKSxwLmd0KGYpJiZwLmx0KFApJiZ2W0MrK10uc2V0VGhpcyhwKSxfLmd0KGYpJiZfLmx0KFApJiZ2W0MrK10uc2V0VGhpcyhfKSx2W0MrK10uc2V0VGhpcyhQKTtjb25zdCBiPTMqcjtsZXQgUz01MixFPU51bWJlci5FUFNJTE9OO2Zvcig7UzxiOykyKlM8PWI/KEUqPUUsUyo9Mik6KEUqPU51bWJlci5FUFNJTE9OLFMrPTUyKTtTKz0yO2xldCBEPTAsdz0hMTtmb3IobGV0IHM9MTtzPEM7cysrKXtpZihabih5LHgsdltzLTFdLHZbc10sRSxTLGhbMF0pKXtEPTEsdz1zKzE8QzticmVha319aWYoIUQpcmV0dXJuIDA7aWYodyl7Y29uc3QgdD1uZXcgVG4oe3plcm9DdG9yOml0LGNvZWYwOmhbMF19KTt0Lm5lZ2F0ZVRoaXMoKSx0LmFkZEVsZW1lbnQodGUpO2NvbnN0IGU9bmV3IFRuKHt6ZXJvQ3RvcjppdH0pLG49bmV3IFRuKHt6ZXJvQ3RvcjppdH0pO3kuZGl2KHQsZSxuKSxzKDI9PT1lLnBvd2VyKCkpLHMoMD09PW4ucG93ZXIoKSk7Y29uc3QgaT1WbihlLmdldEVsZW1lbnQoMiksZS5nZXRFbGVtZW50KDEpLGUuZ2V0RWxlbWVudCgwKSxyLG8sITEsaC5zbGljZSgxKSk7cyhpPj0wJiZpPD0yKSxEKz1pfXJldHVybiBRbihvLHIsaCxEKX1mdW5jdGlvbiBSbih0LGUscyxuLGkscixvLGEsaCl7aWYodC5pc1plcm8oKSlyZXR1cm4gTG4oZSxzLG4saSxyLG8sYSxoKTtjb25zdCB1PSh0LGUpPT57aWYodD4wKXtsZXQgcz1lK3Q7Zm9yKGxldCB0PTE7dDxzO3QrKyloW3RdLmVxdWFscyhoWzBdKSYmKGhbcy0xXT1ldChoW3RdLGhbdF09aFtzLTFdKSxzLS0pO2U9c31yZXR1cm4gdHQoaCwwLGUsKCh0LGUpPT50LmNvbXBhcmUoZSkpKSxlfTtpZihpLmlzWmVybygpKXtsZXQgaT0wO28uY29udGFpbnNDb29yZGluYXRlKDApJiYoaFswXS5zZXRJbnQzMigwKSxpPTEpO3JldHVybiB1KExuKHQsZSxzLG4scixvLGEsaC5zbGljZShpKSksaSl9Y29uc3QgbT1uZXcgVG4oe3plcm9DdG9yOml0LGNvZWYwOml9KTtpZihtLmFkZEVsZW1lbnQobiksbS5hZGRFbGVtZW50KHMpLG0uYWRkRWxlbWVudChlKSxtLmFkZEVsZW1lbnQodCksYSl7bGV0IHQ9MDtvLmNvbnRhaW5zQ29vcmRpbmF0ZSgxKSYmKGhbMF0uc2V0SW50MzIoMSksdD0xKTtjb25zdCBlPW5ldyBUbih7emVyb0N0b3I6aXQsY29lZjA6aXQuY29uc3RydWN0SW50MzIoLTEpfSk7ZS5hZGRFbGVtZW50KGl0LmNvbnN0cnVjdEludDMyKDEpKTtjb25zdCBzPW5ldyBUbih7emVyb0N0b3I6aXR9KSxuPW5ldyBUbih7emVyb0N0b3I6aXR9KTttLmRpdihlLHMsbik7cmV0dXJuIHUoTG4oMz09PXMucG93ZXIoKT9zLmdldEVsZW1lbnQoMyk6JHQuY2xvbmUoKSxzLnBvd2VyKCk+PTI/cy5nZXRFbGVtZW50KDIpOiR0LmNsb25lKCkscy5wb3dlcigpPj0xP3MuZ2V0RWxlbWVudCgxKTokdC5jbG9uZSgpLHMuZ2V0RWxlbWVudCgwKSxyLG8scy5ldmFsdWF0ZSh0ZSkuaXNaZXJvKCksaC5zbGljZSh0KSksdCl9aWYobS5nZXRFbGVtZW50KDApLmlzWmVybygpKXtsZXQgdD0wO2ZvcihvLmNvbnRhaW5zQ29vcmRpbmF0ZSgwKSYmKHQ9MSxoWzBdLnNldERvdWJsZSgwKSk7bS5nZXRFbGVtZW50KDApLmlzWmVybygpJiZtLnBvd2VyKCk+MDspbS5zaGlmdFJpZ2h0KDEpO2NvbnN0IGU9TG4oMz09PW0ucG93ZXIoKT9tLmdldEVsZW1lbnQoMyk6JHQuY2xvbmUoKSxtLnBvd2VyKCk+PTI/bS5nZXRFbGVtZW50KDIpOiR0LmNsb25lKCksbS5wb3dlcigpPj0xP20uZ2V0RWxlbWVudCgxKTokdC5jbG9uZSgpLG0uZ2V0RWxlbWVudCgwKSxyLG8sITEsaC5zbGljZSh0KSk7cmV0dXJuIGU+MCYmKHQrPWUpLHR0KGgsMCx0LCgodCxlKT0+dC5jb21wYXJlKGUpKSksdH1sZXQgbD01MixjPU51bWJlci5FUFNJTE9OO2Zvcig7bDxyOykyKmw8PXI/KGMqPWMsbCo9Mik6KGMqPU51bWJlci5FUFNJTE9OLGwrPTUyKTtsKz0yO2NvbnN0IGc9T24obSksZD1pdC5jb25zdHJ1Y3REb3VibGUoTWF0aC5tYXgoTWF0aC5hYnMoby52bWF4KSxNYXRoLmFicyhvLnZtaW4pKSk7cmV0dXJuIGM9KGcubHQoZCk/ZzpkKS5tdWwoaXQuY29uc3RydWN0RG91YmxlKGMpKS50b0RvdWJsZSgpLFVuKG0sbyxjLGwsYSwhMSxoLDQpfWZ1bmN0aW9uIHpuKHQsZSl7bGV0IHM9dCxuPWU7bi5wb3dlcigpPnMucG93ZXIoKSYmKG49ZXQocyxzPW4pKTtjb25zdCBpPXMucG93ZXIoKS1uLnBvd2VyKCkscj1uZXcgVG4oe2NvcHk6cy5nZXRFbGVtZW50KHMucG93ZXIoKSl9KTtzLm11bFRoaXMobi5nZXRFbGVtZW50KG4ucG93ZXIoKSkpO2ZvcihsZXQgbz0wLGE9cy5wb3dlcigpO288YTtvKyspaWYobz49aSl7Y29uc3QgdD1uZXcgVG4oe2NvcHk6bi5nZXRFbGVtZW50KG8taSl9KTt0Lm11bFRoaXMocik7Y29uc3QgZT1zLmdldEVsZW1lbnQobykuc3ViKHQpO3Muc2V0RWxlbWVudChvLGUpfXMuc2V0RWxlbWVudChzLnBvd2VyKCkscy5nZXRFbGVtZW50KHMucG93ZXIoKSkuc2V0WmVybygpKSxzLnVwZGF0ZVBvd2VyKCksQm4ocyl9ZnVuY3Rpb24gQm4odCl7bGV0IGU9MDtmb3IoO2U8dC5wb3dlcigpJiZ0LmdldEVsZW1lbnQoZSkuaXNaZXJvKCk7KWUrKztyZXR1cm4gZT4wJiYodC5zaGlmdFJpZ2h0KGUpLCEwKX1mdW5jdGlvbiBrbih0LGUscyl7Y29uc3Qgbj10LmNsb25lKCksaT1lLmNsb25lKCk7Zm9yKEJuKG4pLEJuKGkpOzAhPT1uLnBvd2VyKCl8fDAhPT1pLnBvd2VyKCk7KXpuKG4saSk7cy5hc3NpZ25Nb3ZlKG4uZ2V0RWxlbWVudCgwKSl9ZnVuY3Rpb24gR24odCxlLHMsbixpLHIsbz0hMSxhPSExKXtyLmxlbmd0aD0wO2NvbnN0IGg9dC5wb3dlcigpLHU9bHQoaXQsMipoKzQpLG09Tm4odCxzfHxILnVuaXQoKSxuLGksITEsdSx1Lmxlbmd0aCk7aWYobT4wKXtyLmxlbmd0aD0wO2ZvcihsZXQgdD0wO3Q8bTt0Kyspe2NvbnN0IGU9dVt0XTt0PjAmJmUubHRlKHIuYXQoLTEpKXx8ci5wdXNoKGUuY2xvbmUoKSl9cmV0dXJuIHIubGVuZ3RofXJldHVybiBtfWZ1bmN0aW9uIFduKHQsZSxuKXtpZihzKG4+PTEpLDA9PT10LnBvd2VyKCkpcmV0dXJuIHQuaXNaZXJvKCk/LTE6MDtjb25zdCBpPXQuZ2V0RWxlbWVudCgwKTtyZXR1cm4gaS5uZWdhdGVUaGlzKCksaS5kaXZUaGlzKHQuZ2V0RWxlbWVudCgxKSksZVswXS5zZXRUaGlzKGkpLDF9ZnVuY3Rpb24gam4odCxlLG4saSl7aWYodC5wb3dlcigpPDIpcmV0dXJuIFduKHQsbixpKTtzKGk+PTEpO2xldCByPXQuZ2V0RWxlbWVudCgxKTtyLm11bFRoaXModC5nZXRFbGVtZW50KDEpKTtjb25zdCBvPXQuZ2V0RWxlbWVudCgwKTtpZihvLm11bFRoaXModC5nZXRFbGVtZW50KDIpKSxvLmxkZXhwVGhpcygyKSxyLnN1YlRoaXMobyksci5MWigpKXJldHVybiAwO2lmKHIuaXNaZXJvKCkpe2NvbnN0IHM9dC5nZXRFbGVtZW50KDEpO3JldHVybiBzLm5lZ2F0ZVRoaXMoKSxzLmRpdlRoaXModC5nZXRFbGVtZW50KDIpKSxzLmxkZXhwVGhpcygtMSkscy5saW1pdFByZWNpc2lvblRoaXMoZSksblswXS5zZXRUaGlzKHMpLDF9cyhpPj0yKSxyPWl0LnNxcnQocixlKzgpO2NvbnN0IGE9dC5nZXRFbGVtZW50KDEpO2EubmVnYXRlVGhpcygpO2NvbnN0IGg9YS5jbG9uZSgpO2guc3ViVGhpcyhyKSxoLmRpdlRoaXModC5nZXRFbGVtZW50KDIpKSxoLmxkZXhwVGhpcygtMSksaC5saW1pdFByZWNpc2lvblRoaXMoZSk7Y29uc3QgdT1hLmNsb25lKCk7cmV0dXJuIHUuYWRkVGhpcyhyKSx1LmRpdlRoaXModC5nZXRFbGVtZW50KDIpKSx1LmxkZXhwVGhpcygtMSksdS5saW1pdFByZWNpc2lvblRoaXMoZSksaC5sdCh1KT8oblswXS5zZXRUaGlzKGgpLG5bMV0uc2V0VGhpcyh1KSk6KG5bMV0uc2V0VGhpcyhoKSxuWzBdLnNldFRoaXModSkpLDJ9ZnVuY3Rpb24gWm4odCxlLHMsbixpLHIsbyl7bGV0IGE9cy5jbG9uZSgpLHU9bi5jbG9uZSgpO2EubGltaXRQcmVjaXNpb25UaGlzKHIpLHUubGltaXRQcmVjaXNpb25UaGlzKHIpO2xldCBtPXQuZXZhbHVhdGUoYSk7bS5saW1pdFByZWNpc2lvblRoaXMocisyKTtsZXQgbD10LmV2YWx1YXRlKHUpO2lmKGwubGltaXRQcmVjaXNpb25UaGlzKHIrMiksbS5HRVooKSYmbC5HRVooKXx8bS5MRVooKSYmbC5MRVooKSlyZXR1cm4gbS5hYnNMZXNzQWJzKGwpPyhvPWEsbS5pc1plcm8oKSk6KG89dSxsLmlzWmVybygpKTtjb25zdCBjPWwuTFooKTtjJiYobD1ldChtLG09bCksdT1ldChhLGE9dSkpO2NvbnN0IGc9Yz91OmEsZD1jP2E6dSxfPWEuYWRkKHUpLmxkZXhwVGhpcygtMSk7Xy5saW1pdFByZWNpc2lvblRoaXMocik7Y29uc3QgcD11LnN1YihhKTtwLmxpbWl0UHJlY2lzaW9uVGhpcyhyKSxwLmFic1RoaXMoKTtjb25zdCBmPXAuY2xvbmUoKTtsZXQgUD10LmV2YWx1YXRlKF8pLHk9ZS5ldmFsdWF0ZShfKTtjb25zdCB4PW5ldyBUbih7Y29weTp0fSksQz1uZXcgVG4oe2NvcHk6ZX0pO3tjb25zdCBzPU1hdGgubWF4KHQuaGlCaXRJbmRleCgpLGUuaGlCaXRJbmRleCgpKSxuPXRlLmNsb25lKCk7bi5sZGV4cFRoaXMoLShyKzIpKTtmb3IobGV0IGk9NjQ7aTxzOyl7eC5saW1pdFByZWNpc2lvblRoaXMoaSksQy5saW1pdFByZWNpc2lvblRoaXMoaSk7Y29uc3Qgcj14LmV2YWx1YXRlKF8pLG89Qy5ldmFsdWF0ZShfKSxhPXIuc3ViKFApLGg9by5zdWIoeSk7aWYoYS5kaXZUaGlzKFApLmFic1RoaXMoKS5sdChuKSYmKHkuaXNaZXJvKCl8fGguZGl2VGhpcyh5KS5hYnNUaGlzKCkubHQobikpKWJyZWFrO3guYXNzaWduQ29weSh0KSxDLmFzc2lnbkNvcHkoZSksaT1NYXRoLm1pbihpKzY0LHMpfVAubGltaXRQcmVjaXNpb25UaGlzKHIrMikseS5saW1pdFByZWNpc2lvblRoaXMocisyKX1jb25zdCB2PTEsYj00O2xldCBTPWI7Y29uc3QgRT0yO2xldCBEPTEsdz0wLEE9MCxUPXY7Y29uc3QgST0zMixNPWl0LmNvbnN0cnVjdERvdWJsZSguMjUqaSksWT1pdC5jb25zdHJ1Y3REb3VibGUoLjUwMDEpO2xldCBOPTA7Y29uc3QgWD0zMDA7Zm9yKDsrK048WDspe2lmKE4+SSYmdz4wfHx5LmlzWmVybygpfHxUPT09RSYmdz4xfHxUPT09diYmUzxiKVQ9dixEPjEmJkQtLTtlbHNlIGlmKFQ9RSxBPjEpe2NvbnN0IHQ9cC5tdWwoeSk7dC5hYnNUaGlzKCksdC5sZGV4cFRoaXMoLTMpLHQuYWJzTGVzc0FicyhQKSYmRCsrfXAuc2V0VGhpcyhmKTtjb25zdCB0PW5ldyBpdDtsZXQgZT0hMTtpZihUPT09dilkb3tpZihBPjIpe2NvbnN0IGU9cC5jbG9uZSgpO2lmKGUuYWJzVGhpcygpLGUubGRleHBUaGlzKDQpLGQuc3ViKGcpLmxkZXhwVGhpcygtMSkuZ3QoZSkpe2lmKF8uZXF1YWxzKGcpKXt0LnNldFRoaXMoXyksXy5zZXRUaGlzKGcuYWRkKGUpKSxfLmxpbWl0UHJlY2lzaW9uVGhpcyhyKSxmLnNldFRoaXMoXy5zdWIodCkpO2JyZWFrfWlmKF8uZXF1YWxzKGQpKXt0LnNldFRoaXMoXyksXy5zZXRUaGlzKGQuc3ViKGUpKSxfLmxpbWl0UHJlY2lzaW9uVGhpcyhyKSxmLnNldFRoaXMoXy5zdWIodCkpO2JyZWFrfX19Zi5zZXRUaGlzKHUuc3ViKGEpKSxmLmxkZXhwVGhpcygtMSksZi5saW1pdFByZWNpc2lvblRoaXMociksdC5zZXRUaGlzKF8pLF8uc2V0VGhpcyhhLmFkZChmKSksXy5saW1pdFByZWNpc2lvblRoaXMociksXy5sdChnKT9fLnNldFRoaXMoZyk6Xy5ndChkKSYmXy5zZXRUaGlzKGQpLGU9YS5lcXVhbHMoXyl8fHUuZXF1YWxzKF8pfXdoaWxlKDApO2Vsc2UgZm9yKDs7KXtpZihmLnNldFRoaXMoUC5kaXYoeSkpLGYubGltaXRQcmVjaXNpb25UaGlzKHIpLDEhPT1EJiZmLm11bERvdWJsZVRoaXMoRCksdC5zZXRUaGlzKF8pLF8uc3ViVGhpcyhmKSxfLmxpbWl0UHJlY2lzaW9uVGhpcyhyKSxlPV8uZXF1YWxzKHQpLF8ubHQoZykpe2lmKEQ+MSl7Xy5zZXRUaGlzKHQpLEQtLTtjb250aW51ZX1mLnNldFRoaXModC5zdWIoZykpLF8uc2V0VGhpcyhnKX1lbHNlIGlmKF8uZ3QoZCkpe2lmKEQ+MSl7Xy5zZXRUaGlzKHQpLEQtLTtjb250aW51ZX1mLnNldFRoaXModC5zdWIoZCkpLF8uc2V0VGhpcyhkKX1icmVha31pZihlfHxmLmFic0xlc3NBYnMoTSkpe3QuZXF1YWxzKF8pfHwoUD14LmV2YWx1YXRlKF8pLFAubGltaXRQcmVjaXNpb25UaGlzKHIrMikpO2JyZWFrfVA9eC5ldmFsdWF0ZShfKSxQLmxpbWl0UHJlY2lzaW9uVGhpcyhyKzIpLHk9Qy5ldmFsdWF0ZShfKSx5LmxpbWl0UHJlY2lzaW9uVGhpcyhyKzIpO2NvbnN0IHM9YS5jbG9uZSgpLG49dS5jbG9uZSgpO1AuTFooKT8obS5zZXRUaGlzKFApLGEuc2V0VGhpcyhfKSk6KGwuc2V0VGhpcyhQKSx1LnNldFRoaXMoXykpLFQ9PT1FJiYoYS5lcXVhbHMocykmJnUuZXF1YWxzKG4pfHxBPjEmJiFmLmFic0xlc3NBYnMoWS5tdWwocCkpKT93Kys6dz0wLFQ9PT12PyhTKyssQT0wKTooUz0wLEErKyl9cmV0dXJuIE4+PVgmJmgoXCJSb290X2ZpbmRlciBpdGVyYXRpb25zIGV4Y2VlZGVkXCIpLG8uc2V0VGhpcyhfKSwhMH1mdW5jdGlvbiBIbih0LGUscyxuLGkpe2NvbnN0IHI9dC5ldmFsdWF0ZShzKTtpZihyLmlzWmVybygpKXJldHVybiEwO2NvbnN0IG89aXQuY29uc3RydWN0RG91YmxlKC41Km4pLGE9cy5jbG9uZSgpO2Euc3ViVGhpcyhvKTtjb25zdCBoPXQuZXZhbHVhdGUoYSksdT1zLmNsb25lKCk7dS5hZGRUaGlzKG8pO2NvbnN0IG09dC5ldmFsdWF0ZSh1KTtpZihoLkxaKCkmJm0uR1ooKXx8aC5HWigpJiZtLkxaKCkpcmV0dXJuITA7aWYoci5HWigpP2guTEVaKCl8fG0uTEVaKCk6aC5HRVooKXx8bS5HRVooKSlyZXR1cm4hMDtjb25zdCBsPWguTEVaKCkmJm0uTEVaKCksYz1oLkdFWigpJiZtLkdFWigpO2xldCBnPSExO3JldHVybiBsP3IuZ3QoaCkmJnIuZ3QobSkmJihnPSEwKTpjJiZyLmx0KGgpJiZyLmx0KG0pJiYoZz0hMCksISFnJiZyLmFic1RoaXMoKS5sdChpdC5jb25zdHJ1Y3REb3VibGUoMWUtMTcpKX1mdW5jdGlvbiBVbih0LGUsbixpLHIsbyxhLGgpe3Mobj4wKSxzKGg+PXQucG93ZXIoKSk7Y29uc3QgdT1hLG09W107bGV0IGw9W107Y29uc3QgYz1uZXcgVG4oe3plcm9DdG9yOnQubV96ZXJvQ3Rvcn0pLGc9bmV3IFRuKHt6ZXJvQ3Rvcjp0Lm1femVyb0N0b3J9KSxkPW5ldyBUbih7emVyb0N0b3I6dC5tX3plcm9DdG9yfSksXz1pdC5jb25zdHJ1Y3REb3VibGUobikscD1pdC5jb25zdHJ1Y3REb3VibGUoZS52bWluKSxmPWl0LmNvbnN0cnVjdERvdWJsZShlLnZtYXgpLFA9cC5zdWIoXykseT1mLmFkZChfKSx4PU9uKHQpLEM9eC5jbG9uZSgpO2lmKEMubmVnYXRlVGhpcygpLFAubHQoQykpUC5zZXRUaGlzKEMuc3ViKF8pKTtlbHNlIGlmKFAuZ3QoeCkpcmV0dXJuIDA7aWYoeS5ndCh4KSl5LnNldFRoaXMoeC5hZGQoXykpO2Vsc2UgaWYoeS5sdChDKSlyZXR1cm4gMDtsZXQgdj10LGI9bnVsbDtpZihyKXtjb25zdCBlPW5ldyBUbih7Y29lZjA6aXQuY29uc3RydWN0SW50MzIoLTEpfSk7ZS5hZGRFbGVtZW50KHRlKSxiPW5ldyBUbix2PWI7Y29uc3Qgcz1uZXcgVG4sbj1uZXcgVG47Zm9yKHQuZGl2KGUscyxuKSxiLmFzc2lnbkNvcHkocyk7di5ldmFsdWF0ZSh0ZSkuaXNaZXJvKCk7KXYuZGl2KGUscyxuKSxiLmFzc2lnbkNvcHkocyl9bGV0IFM9ITE7aWYodi5wb3dlcigpPjAmJnYuZ2V0RWxlbWVudCgwKS5pc1plcm8oKSlmb3IoUz0hMCxifHwoYj1uZXcgVG4oe2NvcHk6dn0pLHY9Yik7di5nZXRFbGVtZW50KDApLmlzWmVybygpOyliLnNoaWZ0UmlnaHQoMSk7bGV0IEU9aSsyKnYucG93ZXIoKSsyLEQ9bi9NYXRoLnBvdygyLHYucG93ZXIoKSsyKSx3PUU7aWYoJHQuZ3QoUCkmJiR0Lmx0KHkpKWZvcihsZXQgcz0wLFk9di5wb3dlcigpO3M8WTtzKyspaWYodi5nZXRFbGVtZW50KHMpLmlzWmVybygpKXttLnB1c2goJHQuY2xvbmUoKSk7YnJlYWt9Zm9yKGxldCBZPXYucG93ZXIoKS0xO1k+MDtZLS0paWYoRCo9MixFLT0yLHctPTIsdi5wb3dlcigpLVkhPT0xKWlmKHYucG93ZXIoKS1ZIT09Mil7Zy5hc3NpZ25Nb3ZlKGQpLGQuYXNzaWduTW92ZSh2LmRlcml2YXRpdmUoWS0xKSk7bGV0IHQ9W107Zm9yKGxldCBlPTAscz1sLmxlbmd0aDtlPHM7KytlKWlmKGxbZV0uZmlyc3QubHRlKGxbZV0uc2Vjb25kKSl7Y29uc3Qgcz1uZXcgaXQ7aWYoWm4oZyxjLGxbZV0uZmlyc3QsbFtlXS5zZWNvbmQsRCxFLHMpKXttLnB1c2gocyk7bGV0IG49cy5zdWIoXyk7bi5saW1pdFByZWNpc2lvblRoaXModyksdC5wdXNoKE10KGxbZV0uZmlyc3QsbikpLG49cy5hZGQoXyksbi5saW1pdFByZWNpc2lvblRoaXModyksdC5wdXNoKE10KG4sbFtlXS5zZWNvbmQpKX1lbHNlIHQucHVzaChsW2VdKX1sPXQsdD1bXSxjLmFzc2lnbk1vdmUoZyl9ZWxzZXtnLmFzc2lnbk1vdmUodi5kZXJpdmF0aXZlKFkpKTtjb25zdCB0PWpuKGcsRSx1LGgpO3ModD49MCYmdDw9Mik7Zm9yKGxldCBlPTA7ZTx0O2UrKyl1W2VdLmd0KFApJiZ1W2VdLmx0KHkpJiYhdVtlXS5pc1plcm8oKSYmbS5wdXNoKHVbZV0uY2xvbmUoKSk7aWYobS5sZW5ndGg+MSYmbS5zb3J0KCgodCxlKT0+dC5jb21wYXJlKGUpKSksbS5sZW5ndGg+MCl7bGV0IHQ9bVswXS5zdWIoXyk7dC5saW1pdFByZWNpc2lvblRoaXModyksbC5wdXNoKE10KFAuY2xvbmUoKSx0KSk7bGV0IGU9MT09PW0ubGVuZ3RoP3kuY2xvbmUoKTptWzFdLnN1YihfKTt0PW1bMF0uYWRkKF8pLHQubGltaXRQcmVjaXNpb25UaGlzKHcpLGUubGltaXRQcmVjaXNpb25UaGlzKHcpLGwucHVzaChNdCh0LGUpKSxtLmxlbmd0aD4xJiYoZT0yPT09bS5sZW5ndGg/eS5jbG9uZSgpOm1bMl0uc3ViKF8pLGUubGltaXRQcmVjaXNpb25UaGlzKHcpLHQ9bVsxXS5hZGQoXyksdC5saW1pdFByZWNpc2lvblRoaXModyksbC5wdXNoKE10KHQsZSkpLG0ubGVuZ3RoPjImJih0PW1bMl0uYWRkKF8pLHQubGltaXRQcmVjaXNpb25UaGlzKHcpLGwucHVzaChNdCh0LHkuY2xvbmUoKSkpKSl9ZWxzZSBsLnB1c2goTXQoUC5jbG9uZSgpLHkuY2xvbmUoKSkpO2MuYXNzaWduQ29weShnKSxkLmFzc2lnbk1vdmUodi5kZXJpdmF0aXZlKFktMSkpfWVsc2V7Zy5hc3NpZ25Nb3ZlKHYuZGVyaXZhdGl2ZShZKSk7MT09PVduKGcsdSxoKSYmKHVbMF0uZ3QoUCkmJnVbMF0ubHQoeSkmJiF1WzBdLmlzWmVybygpJiZtLnB1c2godVswXS5jbG9uZSgpKSxjLmFzc2lnbk1vdmUoZyksZC5hc3NpZ25Nb3ZlKHYuZGVyaXZhdGl2ZShZLTEpKSl9bS5zb3J0KCgodCxlKT0+dC5jb21wYXJlKGUpKSksMD09PWwubGVuZ3RoJiYoYy5hc3NpZ25Nb3ZlKHYuZGVyaXZhdGl2ZSh2LnBvd2VyKCkpKSxjLmlzWmVybygpfHxsLnB1c2goTXQoUC5jbG9uZSgpLHkuY2xvbmUoKSkpKTtsZXQgQT0wLFQ9MCxJPTA7Y29uc3QgTT1uZXcgaXQ7Zm9yKDs7KXtpZihUPGwubGVuZ3RoKXtpZihsW1RdLmZpcnN0Lmd0KGxbVF0uc2Vjb25kKSl7VCsrO2NvbnRpbnVlfWxldCB0PSExO2lmKEk8bS5sZW5ndGgmJm1bSV0ubHQobFtUXS5maXJzdCkmJih0PSEwKSwhdCl7Wm4odixjLGxbVF0uZmlyc3QsbFtUXS5zZWNvbmQsbixpLE0pJiYoTS5sdChwKT91W0ErK10uc2V0VGhpcyhwKTpNLmd0KGYpP3VbQSsrXS5zZXRUaGlzKGYpOnVbQSsrXS5zZXRUaGlzKE0pKSxUKys7Y29udGludWV9fWlmKCEoSTxtLmxlbmd0aCkpYnJlYWs7MCE9PUkmJm1bSS0xXS5lcXVhbHMobVtJXSl8fEhuKHYsYyxtW0ldLG4pJiYoTS5zZXRUaGlzKG1bSV0pLE0ubHQocCk/TS5zZXRUaGlzKHApOk0uZ3QoZikmJk0uc2V0VGhpcyhmKSwwIT09QSYmdVtBXS5lcXVhbHMoTSl8fHVbQSsrXS5zZXRUaGlzKE0pKSxJKyt9cmV0dXJuIFMmJiR0Lmd0KFApJiYkdC5sdCh5KSYmKHVbQSsrXS5zZXRUaGlzKCR0KSx0dCh1LDAsQSwoKHQsZSk9PnQuY29tcGFyZShlKSkpKSxyJiZ0ZS5ndChQKSYmdGUubHQoeSkmJih1W0ErK10uc2V0VGhpcyh0ZSksdHQodSwwLEEsKCh0LGUpPT50LmNvbXBhcmUoZSkpKSksQX1mdW5jdGlvbiBPbih0KXtjb25zdCBlPXQuZ2V0RWxlbWVudCh0LnBvd2VyKCkpO2UubGltaXRQcmVjaXNpb25UaGlzKDUzKSxlLmFic1RoaXMoKTtjb25zdCBzPSR0LmNsb25lKCk7Zm9yKGxldCBuPTAsaT10LnBvd2VyKCk7bjxpO24rKyl7Y29uc3QgZT10LmdldEVsZW1lbnQobik7ZS5saW1pdFByZWNpc2lvblRoaXMoNTMpLGUuZ3QocykmJnMuc2V0VGhpcyhlKX1yZXR1cm4gcy5kaXZUaGlzKGUpLHMuYWRkVGhpcyh0ZSkscy5tdWxUaGlzKGl0LmNvbnN0cnVjdERvdWJsZSgxKzEwMCpOdW1iZXIuRVBTSUxPTikpLHN9ZnVuY3Rpb24gUW4odCxlLHMsbil7bGV0IGk9bjtpZighdC5pc0VtcHR5KCkpe2k9MDtmb3IobGV0IGU9MDtlPG47KytlKXQuY29udGFpbnNDb29yZGluYXRlKHNbZV0udmFsdWUoKSkmJihpIT09ZSYmc1tpXS5zZXRUaGlzKHNbZV0pLGkrKyl9aT4xJiYoc1swXS5ndChzWzFdKSYmKHNbMV09ZXQoc1swXSxzWzBdPXNbMV0pKSxpPjImJihzWzBdLmd0KHNbMl0pJiYoc1syXT1ldChzWzBdLHNbMF09c1syXSkpLHNbMV0uZ3Qoc1syXSkmJihzWzJdPWV0KHNbMV0sc1sxXT1zWzJdKSkpKTtmb3IobGV0IHI9MDtyPGk7KytyKXNbcl0ubGltaXRQcmVjaXNpb25UaGlzKGUpO3JldHVybiBpfWZ1bmN0aW9uIEpuKHQsZSxzLG4saSxyKXtyZXR1cm4gdGkodCxlLHMscixuLGkpfWZ1bmN0aW9uIEtuKHQsZSxzLG4saSxyKXtsZXQgbz1pO2lmKG4pcmV0dXJuIHJbMF09MSxvPS41KihlLXQpKihzKHQpK3MoZSkpLG87Y29uc3QgYT1yWzBdLGg9KGUtdCkvYSx1PXQsbT1uZXcgcHQoMCk7Zm9yKGxldCBsPTE7bDw9clswXTsrK2wpe2NvbnN0IHQ9KGwtLjUpKmg7bS5hZGQocyh1K3QpKX1yZXR1cm4gbz0uNSoobysoZS10KSptLmdldFJlc3VsdCgpL2EpLHJbMF0qPTIsb31mdW5jdGlvbiAkbih0LGUscyxuLGkscixvKXtsZXQgYT0wLGg9TWF0aC5hYnMoaS1zW3RdKTtjb25zdCB1PVUoZSxOdW1iZXIuTmFOKSxtPVUoZSxOdW1iZXIuTmFOKTtmb3IobGV0IGQ9MDtkPGU7KytkKXtjb25zdCBlPU1hdGguYWJzKGktc1t0K2RdKTtlPGgmJihhPWQsaD1lKSx1W2RdPW5bdCtkXSxtW2RdPW5bdCtkXX1sZXQgbD0wLGM9MCxnPTA7clswXT1uW3QrYV0sYS0tO2ZvcihsZXQgZD0xO2Q8ZTtkKyspe2ZvcihsZXQgbj0wO248ZS1kO24rKyl7aWYoYz1zW3Qrbl0taSxnPXNbdCtuK2RdLWksbD1jLWcsMD09PWwpcmV0dXJuITE7Y29uc3QgZT0odVtuKzFdLW1bbl0pL2w7dVtuXT1jKmUsbVtuXT1nKmV9aWYoMiooYSsxKTxlLWQpe2NvbnN0IHQ9YSsxO29bMF09dVt0XX1lbHNle2NvbnN0IHQ9YTtvWzBdPW1bdF0sYS0tfXJbMF0rPW9bMF19cmV0dXJuITB9ZnVuY3Rpb24gdGkodCxzLG4saSxyLG8pe2lmKG48cyYmZShcInhUbyA8IHhGcm9tXCIpLG49PT1zKXJldHVybiAwO2NvbnN0IGE9WzBdO2xldCB1PU51bWJlci5NQVhfVkFMVUU7Y29uc3QgbT1bTnVtYmVyLk1BWF9WQUxVRV07bGV0IGw9MDtjb25zdCBjPTMyLGc9VShjKzEsTnVtYmVyLk5hTiksZD1VKGMrMSxOdW1iZXIuTmFOKSxfPVswXTtnWzBdPTE7bGV0IHA9MCxmPTA7Zm9yKGxldCBlPTA7ZTxjO2UrKyl7aWYobD1LbihzLG4saSwwPT09ZSxsLF8pLGRbZV09bCxlKzE+PXQpeyRuKGUrMS10LHQsZyxkLDAsYSxtKXx8aChcInBvbHlub21pYWxfaW50ZXJwb2xhdGlvblwiKTtjb25zdCBzPXIqTWF0aC5hYnMoYVswXSkrbyxuPU1hdGguYWJzKHUtYVswXSk7aWYobjw9cyYmTWF0aC5hYnMobVswXSk8PXMpe2lmKHArKyxwPjEmJihuPD0uMSpmfHwwPT09Znx8cD4yKSlyZXR1cm4gYVswXX1lbHNlIHA9MDtmPW4sdT1hWzBdfWRbZSsxXT1kW2VdLGdbZSsxXT0uMjUqZ1tlXX1yZXR1cm4gYVswXX1jbGFzcyBlaXtjb25zdHJ1Y3Rvcigpe3RoaXMuYXJlYT1OdW1iZXIuTmFOLHRoaXMuY2VudHJvaWRfeD1OdW1iZXIuTmFOLHRoaXMuY2VudHJvaWRfeT0wLHRoaXMuc3BlY2lhbFBvaW50cz1bXSx0aGlzLnNwZWNpYWxQb2ludHNMZW5ndGg9W119c3BlY2lhbFBvaW50c0NvdW50KCl7cmV0dXJuIHRoaXMuc3BlY2lhbFBvaW50cy5sZW5ndGh9fWxldCBzaT1jbGFzc3tjb25zdHJ1Y3Rvcih0LGUpe3RoaXMuYj10LHRoaXMubGVuPWV9Z2V0TWF4RGVyaXZhdGl2ZSgpe3JldHVybiAxfWdldFZhbHVlKHQsZSl7cmV0dXJuIDA9PT10P3RoaXMubGVuLWhpKHRoaXMuYixlLCExKTowfWdldEVycm9yKHQpe3JldHVybiBzKDApLDB9fTtmdW5jdGlvbiBuaSh0LGUscyxuLGkpe2xldCByPSEwO2NvbnN0IG89bHQoUSwzKTt0LnF1ZXJ5Q29udHJvbFBvaW50cyhvKTtsZXQgYT1yPzA6MSxoPW9bMV1bYV0tb1swXVthXSx1PW9bMl1bYV0tb1swXVthXTtjb25zdCBtPUpuKDUsZSxzLG4saSwodD0+e2xldCBlO2lmKHQ8PS41KXtjb25zdCBzPWJ0KDAsaCx0KSxuPWJ0KGgsdSx0KTtlPWJ0KHMsbix0KX1lbHNle2NvbnN0IHM9U3QoMCxoLHQpLG49U3QoaCx1LHQpO2U9U3QocyxuLHQpfXJldHVybiBlKmdpKG8sMSx0KS5sZW5ndGgoKX0pKTtyPSExLGE9cj8wOjEsaD1vWzFdW2FdLW9bMF1bYV0sdT1vWzJdW2FdLW9bMF1bYV07Y29uc3QgbD1Kbig1LGUscyxuLGksKHQ9PntsZXQgZTtpZih0PD0uNSl7Y29uc3Qgcz1idCgwLGgsdCksbj1idChoLHUsdCk7ZT1idChzLG4sdCl9ZWxzZXtjb25zdCBzPVN0KDAsaCx0KSxuPVN0KGgsdSx0KTtlPVN0KHMsbix0KX1yZXR1cm4gZSpnaShvLDEsdCkubGVuZ3RoKCl9KSk7cmV0dXJuIG5ldyBRKG0sbCl9ZnVuY3Rpb24gaWkodCl7dC5tX2NhY2hlZFZhbHVlcz1udWxsfWZ1bmN0aW9uIHJpKHQsZSl7ZS5tX2NhY2hlZFZhbHVlcz1ldCh0Lm1fY2FjaGVkVmFsdWVzLHQubV9jYWNoZWRWYWx1ZXM9ZS5tX2NhY2hlZFZhbHVlcyl9ZnVuY3Rpb24gb2kodCl7aWYodC5tX2NhY2hlZFZhbHVlcylyZXR1cm4gdC5tX2NhY2hlZFZhbHVlcztjb25zdCBlPW5ldyBlaTtyZXR1cm4gYWkodCxlLnNwZWNpYWxQb2ludHMpLHhpKHQsZSksZX1mdW5jdGlvbiBhaSh0LGUpe2NvbnN0IHM9bHQoUSwzKTt0LnF1ZXJ5Q29udHJvbFBvaW50cyhzKTtjb25zdCBuPWx0KGF0LDgpO25bMF0uc2V0KDApO2xldCBpPTE7e2NvbnN0IHQ9bHQoYXQsMyk7a2kocyx0LCExKTtjb25zdCBlPWx0KGF0LDIpLHI9bmV3IEgoMCwxKTtsZXQgbz1jbih0WzJdLm11bCgyKSx0WzFdLHIsZVswXSk7bzwwJiYobz0wKTtmb3IobGV0IHM9MDtzPG87cysrKWd0KGVbc10udmFsdWUoKSwwLDEpfHwobltpXT1lW3NdLGkrKyl9e2NvbnN0IHQ9bHQoYXQsMyk7R2kocyx0LCExKTtjb25zdCBlPWx0KGF0LDIpLHI9bmV3IEgoMCwxKTtsZXQgbz1jbih0WzJdLm11bCgyKSx0WzFdLHIsZVswXSk7bzwwJiYobz0wKTtmb3IobGV0IHM9MDtzPG87cysrKWd0KGVbc10udmFsdWUoKSwwLDEpfHwobltpXT1lW3NdLGkrKyl9aWYobltpXS5zZXQoMSksaSsrLGk+Mil7dHQobiwwLGksKCh0LGUpPT50LnZhbHVlKCktZS52YWx1ZSgpKSk7bGV0IHQ9MCxlPW5bMF0udmFsdWUoKSxzPTE7Zm9yKGxldCByPTE7cjxpO3IrKyluW3JdLmVxKG5bci0xXSk/KGUrPW5bcl0udmFsdWUoKSxzKyspOihzPjEmJihlLz1zLG5bdF0uc2V0KGUpKSx0Kyssblt0XT1uW3JdLGU9bltyXS52YWx1ZSgpLHM9MSk7dCsrLGk9dH1uWzBdLnNldCgwKSxuW2ktMV0uc2V0KDEpLGUubGVuZ3RoPWk7Zm9yKGxldCByPTA7cjxpO3IrKyllW3JdPW5bcl0udmFsdWUoKX1mdW5jdGlvbiBoaSh0LGUscyl7Y29uc3Qgbj1sdChRLDMpO3JldHVybiB0LnF1ZXJ5Q29udHJvbFBvaW50cyhuKSx1aShuLGUscyl9ZnVuY3Rpb24gdWkodCxlLHMpe2lmKHMpe2lmKGU8MClyZXR1cm4gZTtpZihlPjEpcmV0dXJuIGUtMSt1aSh0LDEsITEpfWlmKDE9PT1lKXJldHVybiBtaSh0KTtjb25zdCBuPWx0KFEsMyk7cmV0dXJuIElpKHQsZSxuLG51bGwpLG1pKG4pfWZ1bmN0aW9uIG1pKHQpe2lmKHRbMF0uZXF1YWxzKHRbMV0pKXJldHVybiBRLmRpc3RhbmNlKHRbMl0sdFswXSk7aWYodFsxXS5lcXVhbHModFsyXSkpcmV0dXJuIFEuZGlzdGFuY2UodFswXSx0WzJdKTtjb25zdCBlPVEuZGlzdGFuY2UodFswXSx0WzFdKStRLmRpc3RhbmNlKHRbMl0sdFsxXSkscz1RLmRpc3RhbmNlKHRbMF0sdFsyXSk7aWYoZS1zPD1lKk51bWJlci5FUFNJTE9OKXJldHVybiBzO2NvbnN0IG49MSxpPWx0KFEsMyk7emkodCxpLCEwKTtjb25zdCByPTQqKHp0KGlbMl0ueCkrenQoaVsyXS55KSksbz0yKihpWzJdLngqaVsxXS54K2lbMl0ueSppWzFdLnkpLGE9enQoaVsxXS54KSt6dChpWzFdLnkpO2lmKDFlLTE0KihNYXRoLmFicyhvKStNYXRoLmFicyhhKSk+PU1hdGguYWJzKHIpKXtpZigxZS0xNCpNYXRoLmFicyhhKT49TWF0aC5hYnMobykpe3JldHVybiBNYXRoLnNxcnQoYSkqbn1yZXR1cm4gMi8oMypvKSooTWF0aC5wb3cobypuK2EsMS41KS1NYXRoLnBvdyhhLDEuNSkpfWNvbnN0IGg9by9yLHU9YS9yLG09dS1oKmgsbD1uK2g7aWYoMD09PW0pe2lmKGg+PTAmJmw+PTB8fGg8PTAmJmw8PTApe3JldHVybiBNYXRoLmFicyguNSpNYXRoLnNxcnQocikqKGwqbC1oKmgpKX1yZXR1cm4uNSpNYXRoLnNxcnQocikqKGwqbCtoKmgpfWNvbnN0IGM9TWF0aC5zcXJ0KG0rbCpsKSxnPU1hdGguc3FydCh1KTtyZXR1cm4uNSpNYXRoLnNxcnQocikqKGwqYy1oKmcrbSpNYXRoLmxvZyhNYXRoLmFicygobCtjKS8oaCtnKSkpKX1mdW5jdGlvbiBsaSh0LGUpe2NvbnN0IHM9X3QoZSwwLDEpO2xldCBuPWdpKHQsMSxzKTtyZXR1cm4gbi5pc1plcm8oKSYmKG49Z2kodCwyLHMpKSxufWZ1bmN0aW9uIGNpKHQsZSxzKXtjb25zdCBuPWx0KFEsMyk7cmV0dXJuIHQucXVlcnlDb250cm9sUG9pbnRzKG4pLGdpKG4sZSxzKX1mdW5jdGlvbiBnaSh0LGUscyl7aWYoMT09PWUpe2NvbnN0IGU9dFsxXS5zdWIodFswXSkubXVsKDEtcykuYWRkKHRbMl0uc3ViKHRbMV0pLm11bChzKSk7cmV0dXJuIGUubXVsVGhpcygyKSxlfXJldHVybiAyPT09ZT90WzJdLnN1Yih0WzFdKS5zdWIodFsxXS5zdWIodFswXSkubXVsKDIpKTpRLmNvbnN0cnVjdCgwLDApfWZ1bmN0aW9uIGRpKHQsZSxzKXt7Y29uc3QgZT1ZZS5jb25zdHJ1Y3RQb2ludDJEKHRbMV0pLnN1YkUoWWUuY29uc3RydWN0UG9pbnQyRCh0WzBdKSksbj1uZXcgYXQoMSkuc3ViRShzKSxpPVllLmNvbnN0cnVjdFBvaW50MkQodFsyXSkuc3ViRShZZS5jb25zdHJ1Y3RQb2ludDJEKHRbMV0pKSxyPWUubXVsRShuKS5hZGRFKGkubXVsRShzKSk7cmV0dXJuIHIubXVsVGhpc0UobmV3IGF0KDIpKSxyfX1mdW5jdGlvbiBfaSh0LGUscyl7Y29uc3Qgbj1oaSh0LDEsITEpO2lmKGU8PTApcmV0dXJuIGU7aWYoZT49bilyZXR1cm4gZS1uKzE7Y29uc3QgaT1bMF07cmV0dXJuIDEhPT10bihuZXcgc2kodCxlKSxILnVuaXQoKSwxLGkpJiZoKFwiXCIpLGlbMF19ZnVuY3Rpb24gcGkodCl7Y29uc3QgZT1sdChRLDMpO3JldHVybiB0LnF1ZXJ5Q29udHJvbFBvaW50cyhlKSxmaShlKX1mdW5jdGlvbiBmaSh0KXtyZXR1cm4tdFsxXS5zdWIodFswXSkuY3Jvc3NQcm9kdWN0KHRbMl0uc3ViKHRbMF0pKS8zfWZ1bmN0aW9uIFBpKHQpe2NvbnN0IGU9US5kaXN0YW5jZSh0LmdldFN0YXJ0WFkoKSx0LmdldEVuZFhZKCkpLHM9dC5jYWxjdWxhdGVVcHBlckxlbmd0aDJEKCk7cmV0dXJuIHMtZTw9OCpOdW1iZXIuRVBTSUxPTipzfWZ1bmN0aW9uIHlpKHQpe3JldHVybiB0Lm1fY2FjaGVkVmFsdWVzfWZ1bmN0aW9uIHhpKHQsZSl7dC5tX2NhY2hlZFZhbHVlcz1lfWZ1bmN0aW9uIENpKHQsZSxzLG4saSl7XyhILnVuaXQoKS5jb250YWlucyhzKSxcIlF1YWRyYXRpY0JlemllckhlbHBlcjo6Z2V0Q2xvc2VzdENvb3JkaW5hdGVTZWdtZW50XCIpO2NvbnN0IHI9bHQoUSwzKTt0LnF1ZXJ5Q29udHJvbFBvaW50cyhyKTtsZXQgbz1OdW1iZXIuTUFYX1ZBTFVFO2NvbnN0IGE9WzBdLGg9dmkocixlLGEpO2lmKHMuY29udGFpbnNDb29yZGluYXRlKGFbMF0pKW89US5kaXN0YW5jZShlLGgpO2Vsc2V7YVswXT1zLnZtaW4samkocixhWzBdLGgpLG89US5kaXN0YW5jZShoLGUpO2NvbnN0IHQ9bmV3IFE7amkocixzLnZtYXgsdCk7Y29uc3Qgbj1RLmRpc3RhbmNlKHQsZSk7bz5uJiYoaC5zZXRDb29yZHNQb2ludDJEKHQpLGFbMF09cy52bWF4LG89bil9aWYoIW4pcmV0dXJuIGFbMF07aWYocy52bWluPD0wKXtjb25zdCBuPW5ldyBRO3QucXVlcnlDb29yZDJERXh0ZW5kZWQoLTEsbiwhMCk7Y29uc3QgaT1uZXcgUTt0LnF1ZXJ5Q29vcmQyRChzLnZtaW4saSk7Y29uc3Qgcj1uZXcgcG0oe3N0YXJ0Om4sZW5kOml9KSx1PXIuZ2V0Q2xvc2VzdENvb3JkaW5hdGUoZSwhMCk7aWYodTwxKXtjb25zdCB0PXIuZ2V0Q29vcmQyRCh1KSxzPVEuZGlzdGFuY2UodCxlKTtzPG8mJihvPXMsYVswXT11LTEsaC5hc3NpZ24odCkpfX1pZihzLnZtaW4+PTEpe2NvbnN0IG49bmV3IFE7dC5xdWVyeUNvb3JkMkRFeHRlbmRlZCgyLG4sITApO2NvbnN0IGk9bmV3IFE7dC5xdWVyeUNvb3JkMkQocy52bWF4LGkpO2NvbnN0IHI9bmV3IHBtKHtzdGFydDppLGVuZDpufSksdT1yLmdldENsb3Nlc3RDb29yZGluYXRlKGUsITApO2lmKHU+MCl7Y29uc3QgdD1yLmdldENvb3JkMkQodSkscz1RLmRpc3RhbmNlKHQsZSk7czxvJiYobz1zLGFbMF09MSt1LGguYXNzaWduKHQpKX19cmV0dXJuIGFbMF19ZnVuY3Rpb24gdmkodCxlLHMpe2NvbnN0IG49dFsyXS5zdWIodFsxXSkuc3ViKHRbMV0uc3ViKHRbMF0pKSxpPXRbMV0uc3ViKHRbMF0pLHI9dFswXS5zdWIoZSksbz1yLmRvdFByb2R1Y3QoaSksYT1yLmRvdFByb2R1Y3QobikrMippLmRvdFByb2R1Y3QoaSksaD0zKmkuZG90UHJvZHVjdChuKSx1PW4uZG90UHJvZHVjdChuKSxtPVUoMyxOdW1iZXIuTmFOKSxsPW5uKHUsaCxhLG8sSC51bml0KCksITEsbSksYz10WzBdLmNsb25lKCk7bGV0IGc9MCxkPVEuc3FyRGlzdGFuY2UodFswXSxlKSxfPVEuc3FyRGlzdGFuY2UodFsyXSxlKTtfPGQmJihnPTEsYy5hc3NpZ24odFsyXSksZD1fKTtmb3IobGV0IHA9MDtwPGw7cCsrKXtjb25zdCBzPW5ldyBRO2ppKHQsbVtwXSxzKSxfPVEuc3FyRGlzdGFuY2UocyxlKSxfPGQmJihkPV8sYy5hc3NpZ24ocyksZz1tW3BdKX1yZXR1cm4gcyYmKHNbMF09ZyksY31mdW5jdGlvbiBiaSh0LGUscyxuLGkscil7Y29uc3Qgbz1uZXcgRGU7aWYoU2kodCxILnVuaXQoKSxvKSxvLmluZmxhdGUoaSksIW8uaXNJbnRlcnNlY3RpbmdQb2ludDJEKGUpKXJldHVybiAwO2NvbnN0IGE9bmV3IFEsaD1DaSh0LGUsSC51bml0KCksITEpO3QucXVlcnlDb29yZDJEKGgsYSk7cmV0dXJuIFEuZGlzdGFuY2UoYSxlKTw9aT8obiYmKG5bMF09aCksMSk6MH1mdW5jdGlvbiBTaSh0LGUscyl7Y29uc3Qgbj1sdChRLDMpO3QucXVlcnlDb250cm9sUG9pbnRzKG4pLEVpKG4sZSxzKX1mdW5jdGlvbiBFaSh0LGUscyl7aWYoZS5lcXVhbHNSYW5nZSgwLDEpKXJldHVybiB2b2lkIHMuc2V0RnJvbVBvaW50cyh0LDMpO2NvbnN0IG49bHQoUSwzKTtNaSh0LGUudm1pbixlLnZtYXgsbikscy5zZXRGcm9tUG9pbnRzKG4sMyl9ZnVuY3Rpb24gRGkodCxlLHMpe3Muc2V0RW1wdHkoKTtjb25zdCBuPVtdO24ucHVzaChuZXcgSCgwLDEpKTtjb25zdCBpPS41Kk1hdGgubWF4KGUud2lkdGgoKSxlLmhlaWdodCgpKTtmb3IoO24ubGVuZ3RoOyl7Y29uc3Qgcj1uLmF0KC0xKTtuLnBvcCgpO2NvbnN0IG89bmV3IERlO2lmKEVpKHQscixvKSxvLmlzSW50ZXJzZWN0aW5nVyhlKSl7Y29uc3QgdD1NYXRoLm1heChvLndpZHRoKCksby5oZWlnaHQoKSk7aWYoZS5jb250YWluc1cobyl8fHQ8PWl8fHIud2lkdGgoKTwxZS0xMilzLm1lcmdlKHIpO2Vsc2V7Y29uc3QgdD1yLmdldENlbnRlcigpO24ucHVzaChILmNvbnN0cnVjdChyLnZtaW4sdCkpLG4ucHVzaChILmNvbnN0cnVjdCh0LHIudm1heCkpfX19fWZ1bmN0aW9uIHdpKHQpe2NvbnN0IGU9bHQoUSwzKTt0LnF1ZXJ5Q29udHJvbFBvaW50cyhlKTtjb25zdCBzPUFpKGUpO3JldHVybiBzJiYodC5tX2NwLnNldENvb3Jkc1BvaW50MkQoZVsxXSksdC5hZnRlckNvbXBsZXRlZE1vZGlmaWNhdGlvbigpKSxzfWZ1bmN0aW9uIEFpKHQpe2xldCBlPSExO2ZvcihsZXQgcz0wO3M8MjtzKyspe2NvbnN0IG49bnQodFswXVtzXSx0WzJdW3NdKTtuPjA/KG50KHRbMF1bc10sdFsxXVtzXSk8MCYmKHRbMV1bc109dFswXVtzXSxlPSEwKSxudCh0WzFdW3NdLHRbMl1bc10pPDAmJih0WzFdW3NdPXRbMl1bc10sZT0hMCkpOm48MD8obnQodFswXVtzXSx0WzFdW3NdKT4wJiYodFsxXVtzXT10WzBdW3NdLGU9ITApLG50KHRbMV1bc10sdFsyXVtzXSk+MCYmKHRbMV1bc109dFsyXVtzXSxlPSEwKSk6dFsxXVtzXSE9PXRbMF1bc10mJih0WzFdW3NdPXRbMF1bc10sZT0hMCl9cmV0dXJuIGV9ZnVuY3Rpb24gVGkodCxzLG4pe3ZvaWQgMD09PW4mJihuPXMscz0wKTtjb25zdCBpPW5ldyBRO2lmKHM8MHx8bj4xKXJldHVybiBpLnNldE5BTigpLGk7aWYocz5uJiZlKFwiY2FsY3VsYXRlX3N1Yl93ZWlnaHRlZF9jZW50cm9pZFwiKSxzPT09bnx8dC5pc0RlZ2VuZXJhdGUoMCkpcmV0dXJuIGkuc2V0Q29vcmRzKDAsMCksaTtjb25zdCByPW9pKHQpLG89aXModCksYT1NYXRoLm1pbihvL3QuY2FsY3VsYXRlVXBwZXJMZW5ndGgyRCgpLDFlLTcpO2xldCBoPXMsdT0wO2ZvcihsZXQgZT0xLG09ci5zcGVjaWFsUG9pbnRzQ291bnQoKTtlPG07ZSsrKWlmKHM8ci5zcGVjaWFsUG9pbnRzW2VdKXt1PWUtMTticmVha31pLnNldENvb3JkcygwLDApO2ZvcihsZXQgZT11KzEsbT1yLnNwZWNpYWxQb2ludHNDb3VudCgpO2U8bTtlKyspe2NvbnN0IHM9TWF0aC5taW4oci5zcGVjaWFsUG9pbnRzW2VdLG4pLHU9bmkodCxoLHMsYSxvKTtpZihpLmFkZFRoaXModSksaD1zLG48PXIuc3BlY2lhbFBvaW50c1tlXSlicmVha31yZXR1cm4gaS5hZGQodC5nZXRTdGFydFhZKCkubXVsKHQuY2FsY3VsYXRlTGVuZ3RoMkQoKSkpfWZ1bmN0aW9uIElpKHQsZSxzLG4peyhuZXcgUSkuc2V0Q29vcmRzUG9pbnQyRCh0WzBdKTsobmV3IFEpLnNldENvb3Jkc1BvaW50MkQodFsxXSk7KG5ldyBRKS5zZXRDb29yZHNQb2ludDJEKHRbMl0pO2NvbnN0IGk9bmV3IFEscj1uZXcgUSxvPW5ldyBRO2lmKHh0KHRbMF0sdFsxXSxlLGkpLHh0KHRbMV0sdFsyXSxlLHIpLHh0KGkscixlLG8pLHMmJihzWzBdLmFzc2lnbih0WzBdKSxzWzFdLmFzc2lnbihpKSxzWzJdLmFzc2lnbihvKSksbil7Y29uc3QgZT10WzJdO25bMF0uYXNzaWduKG8pLG5bMV0uYXNzaWduKHIpLG5bMl0uYXNzaWduKGUpfX1mdW5jdGlvbiBNaSh0LGUscyxuKXtpZihlPT09cyl7Y29uc3Qgcz1uZXcgUTtyZXR1cm4gamkodCxlLHMpLG5bMF09cyxuWzFdPXMsdm9pZChuWzJdPXMpfWNvbnN0IGk9bHQoUSwzKTtJaSh0LHMsaSxudWxsKSxJaShpLGUvcyxudWxsLGkpLGppKHQsZSxpWzBdKSxqaSh0LHMsaVsyXSksblswXS5zZXRDb29yZHNQb2ludDJEKGlbMF0pLG5bMV0uc2V0Q29vcmRzUG9pbnQyRChpWzFdKSxuWzJdLnNldENvb3Jkc1BvaW50MkQoaVsyXSl9ZnVuY3Rpb24gWWkodCxlLHMsbil7aWYoZS5pc0VxdWFsKHQubV9YU3RhcnQsdC5tX1lTdGFydCkmJnMuaXNFcXVhbCh0Lm1fWEVuZCx0Lm1fWUVuZCkpcmV0dXJuO2NvbnN0IGk9ISFuJiZ0LmlzTW9ub3RvbmVRdWlja0FuZERpcnR5KCkscj1uZXcgbGUsbz1sdChRLDMpO29bMF0uc2V0Q29vcmRzKHQubV9YU3RhcnQsdC5tX1lTdGFydCksb1syXS5zZXRDb29yZHModC5tX1hFbmQsdC5tX1lFbmQpO2NvbnN0IGE9bmV3IFE7YS5zZXRTdWIob1syXSxvWzBdKSxhLmxlZnRQZXJwZW5kaWN1bGFyVGhpcygpLG9bMV0uc2V0QWRkKG9bMF0sYSk7Y29uc3QgaD1sdChRLDMpO2hbMF0uc2V0Q29vcmRzUG9pbnQyRChlKSxoWzJdLnNldENvb3Jkc1BvaW50MkQocyksYS5zZXRTdWIoaFsyXSxoWzBdKSxhLmxlZnRQZXJwZW5kaWN1bGFyVGhpcygpLGhbMV0uc2V0QWRkKGhbMF0sYSksci5zZXRGcm9tVHdvVHJpYW5nbGVzKG8saCk/ci50cmFuc2Zvcm1JblBsYWNlKHQubV9jcCk6eHQoZSxzLC41LHQubV9jcCksdC5jaGFuZ2VFbmRQb2ludHMyRChlLHMpLGkmJndpKHQpfWZ1bmN0aW9uIE5pKHQpe3JldHVybiB0LmdldFN0YXJ0WFkoKS5ub3JtKDEpK3QuZ2V0RW5kWFkoKS5ub3JtKDEpK3QubV9jcC5ub3JtKDEpfWZ1bmN0aW9uIFhpKHQsZSxzLG4saSl7aWYoaSl7aWYoMCE9PWFtKGUscykpcmV0dXJuIHQ/NDoyfWVsc2UgaWYoTGUoZSxzKSlyZXR1cm4gMTtyZXR1cm4gMCE9PVZpKHQsZSxzLG51bGwsbnVsbCxudWxsLG4saT8/ITEsITAsITEpPzQ6MH1mdW5jdGlvbiBxaSh0LGUscyxuLGkpe2lmKGkpe2lmKDAhPT1hbShlLHMpKXJldHVybiB0PzQ6Mn1lbHNlIGlmKExlKGUscykpcmV0dXJuIDE7cmV0dXJuIDAhPT1MaSh0LGUscyxudWxsLG51bGwsbnVsbCxuLGk/PyExLCEwLCExKT80OjB9ZnVuY3Rpb24gRmkodCxlLHMsbixpKXtpZihpKXtpZigwIT09YW0oZSxzKSlyZXR1cm4gMn1lbHNlIGlmKExlKGUscykpcmV0dXJuIDE7cmV0dXJuIDAhPT1SaSh0LGUscyxudWxsLG51bGwsbnVsbCxuLGk/PyExLCEwLCExKT80OjB9ZnVuY3Rpb24gVmkodCxlLG4saSxyLG8sYSxoLHUsbSl7aWYobnVsbCE9ciYmKHIubGVuZ3RoPTApLG51bGwhPT1vJiYoby5sZW5ndGg9MCksbnVsbCE9PWkmJihpLmxlbmd0aD0wKSxuLmlzRGVnZW5lcmF0ZSgwKSl7Y29uc3QgdD1bMCwwXSxzPWUuaW50ZXJzZWN0UG9pbnQobi5nZXRTdGFydFhZKCksdCxhKTtpZihzPjApe2lmKG51bGwhPT1yKWZvcihsZXQgZT0wO2U8cztlKyspci5wdXNoKHRbZV0pO2lmKG51bGwhPT1vKWZvcihsZXQgdD0wO3Q8czt0Kyspby5wdXNoKDApO2lmKG51bGwhPT1pKWZvcihsZXQgbj0wO248cztuKyspe2NvbnN0IHM9bmV3IFE7ZS5xdWVyeUNvb3JkMkQodFtuXSxzKSxpLnB1c2gocyl9fXJldHVybiBzfWNvbnN0IGw9cnMoZSxuKTtpZihhPU1hdGgubWF4KGEsbCksZS5pc0RlZ2VuZXJhdGVUb0xpbmVIZWxwZXIobCkpe2NvbnN0IHQ9bmV3IHBtKHtzdGFydDplLmdldFN0YXJ0WFkoKSxlbmQ6ZS5nZXRFbmRYWSgpfSkscz1Ecyh0LG4saSxyLG8sYSxoLG0pO2lmKHIpZm9yKGxldCBuPTA7bjxzOysrbil7Y29uc3Qgcz10LmdldENvb3JkMkQocltuXSk7cltuXT1lLmdldENsb3Nlc3RDb29yZGluYXRlKHMsITEpfXJldHVybiBzfWlmKG9zKGUsbixhKSlyZXR1cm4gMDtjb25zdCBjPVhlLmNvbnN0cnVjdFBvaW50MkQobi5nZXRTdGFydFhZKCkpLGc9WGUuY29uc3RydWN0UG9pbnQyRChuLmdldEVuZFhZKCkpLnN1YihjKSxkPWcuY2xvbmUoKTtkLmxlZnRQZXJwZW5kaWN1bGFyVGhpcygpO2NvbnN0IF89WGUuY29uc3RydWN0UG9pbnQyRChlLm1fY3ApLnN1YihYZS5jb25zdHJ1Y3RQb2ludDJEKGUuZ2V0U3RhcnRYWSgpKSkscD1YZS5jb25zdHJ1Y3RQb2ludDJEKGUuZ2V0RW5kWFkoKSkuc3ViKFhlLmNvbnN0cnVjdFBvaW50MkQoZS5tX2NwKSk7bGV0IGY9Xy5kb3RQcm9kdWN0KGQpLnRvRG91YmxlKCksUD1wLnN1YihfKS5kb3RQcm9kdWN0KGQpLnRvRG91YmxlKCk7Y29uc3QgeT1VKDEyLE51bWJlci5OYU4pLHg9VSgxMixOdW1iZXIuTmFOKTtsZXQgQz1lbihQLGYsSC51bml0KCkseSk7QzwwJiYoeVswXT0wLHlbMV09MSxDPTIpO2xldCB2LGI9MDtmb3IobGV0IHM9MCx3PWI7czxDOysrcyl7Y29uc3QgdD1lLmdldENvb3JkMkQoeVtzK3ddKTt4W2JdPW4uZ2V0Q2xvc2VzdENvb3JkaW5hdGUodCwhMSksUS5kaXN0YW5jZSh0LG4uZ2V0Q29vcmQyRCh4W2JdKSk8PWEmJih5W2JdPXlbcyt3XSxiKyspfWNvbnN0IFM9bHQoUSwzKTtlLnF1ZXJ5Q29udHJvbFBvaW50cyhTKTt7Y29uc3QgdD1sdChYZSwzKTtpZihXaShTLHQsITEpLHRbMF09dFswXS5zdWIoYyksZy54LmFicygpLmd0ZShnLnkuYWJzKCkpKXtjb25zdCBlPWcueS5kaXYoZy54KTtQPXRbMl0ueS5zdWIodFsyXS54Lm11bChlKSkudG9Eb3VibGUoKSxmPXRbMV0ueS5zdWIodFsxXS54Lm11bChlKSkudG9Eb3VibGUoKSx2PXRbMF0ueS5zdWIodFswXS54Lm11bChlKSkudG9Eb3VibGUoKX1lbHNle2NvbnN0IGU9Zy54LmRpdihnLnkpO1A9dFsyXS54LnN1Yih0WzJdLnkubXVsKGUpKS50b0RvdWJsZSgpLGY9dFsxXS54LnN1Yih0WzFdLnkubXVsKGUpKS50b0RvdWJsZSgpLHY9dFswXS54LnN1Yih0WzBdLnkubXVsKGUpKS50b0RvdWJsZSgpfX1jb25zdCBFPWUuZ2V0RW5kWFkoKS5lcXVhbHMobi5nZXRTdGFydFhZKCkpfHxlLmdldEVuZFhZKCkuZXF1YWxzKG4uZ2V0RW5kWFkoKSksRD1bMCwwXTtDPXNuKFAsZix2LEgudW5pdCgpLEUsRCk7Zm9yKGxldCBzPTAsdz1iO3M8QzsrK3Mpe3lbcyt3XT1EW3NdO2NvbnN0IHQ9ZS5nZXRDb29yZDJEKHlbcyt3XSk7eFtiXT1uLmdldENsb3Nlc3RDb29yZGluYXRlKHQsITEpLFEuZGlzdGFuY2UodCxuLmdldENvb3JkMkQoeFtiXSkpPD1hJiYoeVtiXT15W3Mrd10sYisrKX1zKGI8eS5sZW5ndGgrNCksQz1lLmludGVyc2VjdFBvaW50KG4uZ2V0U3RhcnRYWSgpLEQsYSk7Zm9yKGxldCBzPTA7czxDO3MrKyl5W2JdPURbc10seFtiKytdPTA7Qz1lLmludGVyc2VjdFBvaW50KG4uZ2V0RW5kWFkoKSxELGEpO2ZvcihsZXQgcz0wO3M8QztzKyspeVtiXT1EW3NdLHhbYisrXT0xO0M9bi5pbnRlcnNlY3RQb2ludChlLmdldFN0YXJ0WFkoKSxELGEpO2ZvcihsZXQgcz0wO3M8QztzKyspeFtiXT1EW3NdLHlbYisrXT0wO0M9bi5pbnRlcnNlY3RQb2ludChlLmdldEVuZFhZKCksRCxhKTtmb3IobGV0IHM9MDtzPEM7cysrKXhbYl09RFtzXSx5W2IrK109MDtyZXR1cm4gMD09PWI/MDpjbSh0LGUsbix5LHgsYixpLHIsbyxhLGgsdSxtKX1mdW5jdGlvbiBMaSh0LGUscyxuLGkscixvLGEsaCx1KXtpZihTdShzKSl7cmV0dXJuIFZpKHQsZSxuZXcgcG0oe3N0YXJ0OnMuZ2V0U3RhcnRYWSgpLGVuZDpzLmdldEVuZFhZKCl9KSxuLGkscixvLGEsaCx1KX1jb25zdCBtPXJzKGUscyk7aWYob3MoZSxzLG89TWF0aC5tYXgobyxtKSkpcmV0dXJuIDA7Y29uc3QgbD1bXSxjPVtdLGc9bHQoUSwzKTt7ZS5xdWVyeUNvbnRyb2xQb2ludHMoZyk7Y29uc3QgdD1sdChRLDMpLG49bmV3IGxlO3MuY2Fub25pY1RvV29ybGRUcmFuc2Zvcm1hdGlvbihuKTtjb25zdCBpPW5ldyBsZTtpLnNldEludmVydChuKSxpLnRyYW5zZm9ybVBvaW50czJEKGcsMyx0KTtjb25zdCByPWx0KFhlLDMpO1dpKHQscik7Y29uc3QgaD1bclswXS54LHJbMV0ueCxyWzJdLnhdLHU9W3JbMF0ueSxyWzFdLnksclsyXS55XSxtPWx0KGl0LDMpO21bMF0uc2V0RG91YmxlKHMuZ2V0U2VtaU1pbm9yQXhpcygpKSxtWzBdLnNxclRoaXMoKSxtWzFdLnNldERvdWJsZShzLmdldFNlbWlNYWpvckF4aXMoKSksbVsxXS5zcXJUaGlzKCksbVsyXT1tWzBdLG1bMl0ubXVsKG1bMV0pLG1bMl0ubmVnYXRlKCk7Y29uc3QgZD1xbihoLDIsdSwyLG51bGwsMCxtLCEwLEgudW5pdCgpLEgudW5pdCgpLGwsYSk7aWYoZD4wKXtsZXQgdD0wO2ZvcihsZXQgbj0wO248ZDtuKyspe2NvbnN0IGk9bmV3IFE7ZS5xdWVyeUNvb3JkMkQobFtuXSxpKTtjb25zdCByPXMuZ2V0Q2xvc2VzdENvb3JkaW5hdGUoaSwhMSksYT1uZXcgUTtzLnF1ZXJ5Q29vcmQyRChyLGEpLFEuZGlzdGFuY2UoaSxhKTw9byYmKGxbdF09bFtuXSxjLnB1c2gociksdCsrKX1sLmxlbmd0aD10fX1jb25zdCBkPVswLDFdO2ZvcihsZXQgXz0wO188MjtfKyspe2NvbnN0IHQ9MD09PV8/cy5nZXRTdGFydFhZKCk6cy5nZXRFbmRYWSgpLGU9WzBdO3ZpKGcsdCxlKTtjb25zdCBuPW5ldyBRO2ppKGcsZVswXSxuKSxRLmRpc3RhbmNlKHQsbik8PW8mJihsLnB1c2goZVswXSksYy5wdXNoKGRbX10pKX1mb3IobGV0IF89MDtfPDI7XysrKXtjb25zdCB0PVswLDJdO3tjb25zdCBlPXMuZ2V0Q2xvc2VzdENvb3JkaW5hdGUoZ1t0W19dXSwhMSksbj1uZXcgUTtzLnF1ZXJ5Q29vcmQyRChlLG4pLFEuZGlzdGFuY2UoZ1t0W19dXSxuKTw9byYmKGwucHVzaChkW19dKSxjLnB1c2goZSkpfX1yZXR1cm4gY20odCxlLHMsbCxjLGwubGVuZ3RoLG4saSxyLG8sYSxoLHUpfWZ1bmN0aW9uIFJpKHQsZSxzLG4saSxyLG8sYSxoLHUpe2NvbnN0IG09bHQoUSwzKTtlLnF1ZXJ5Q29udHJvbFBvaW50cyhtKTtjb25zdCBsPWx0KFEsMyk7aWYocy5xdWVyeUNvbnRyb2xQb2ludHMobCksYXMobSxsLDMpPDApcmV0dXJuIFJpKHQscyxlLG4scixpLG8sYSxoLCF1KTtjb25zdCBjPXJzKGUscyk7aWYob3MoZSxzLG89TWF0aC5tYXgobyxjKSkpcmV0dXJuIDA7aWYoZXIoZSxzLG4saSxyLG8sYSxoLHUpKXJldHVybiAyO2NvbnN0IGc9bmV3IEgoMCwxKSxkPW5ldyBIKDAsMSk7e2NvbnN0IHQ9bmV3IERlO0VpKG0sSC51bml0KCksdCk7Y29uc3QgZT1uZXcgRGU7RWkobCxILnVuaXQoKSxlKTtjb25zdCBzPU1hdGgubWF4KHQubWF4RGltKCksZS5tYXhEaW0oKSk7aWYodC5pbmZsYXRlKDMqbyksZS5pbmZsYXRlKDMqbyksIXQuaW50ZXJzZWN0VyhlKSlyZXR1cm4gMDtpZih0Lm1heERpbSgpPC4xKnMpe2lmKERpKG0sdCxnKSxEaShsLHQsZCksZy5pc0VtcHR5KCl8fGQuaXNFbXB0eSgpKXJldHVybiAwO01pKG0sZy52bWluLGcudm1heCxtKSxNaShsLGQudm1pbixkLnZtYXgsbCl9fWNvbnN0IF89ZG0obSwyLGwsMixvKTtpZigwPT09XylyZXR1cm4gMDtjb25zdCBwPVtdLGY9W107aWYoLTE9PT1fKXtjb25zdCB0PWx0KFhlLDMpO1dpKG0sdCk7Y29uc3QgZT1bdFswXS54LHRbMV0ueCx0WzJdLnhdLHM9W3RbMF0ueSx0WzFdLnksdFsyXS55XSxuPWx0KFhlLDMpO1dpKGwsbik7Y29uc3QgaT1ZbihlLDIscywyLG51bGwsMCxbblswXS54LG5bMV0ueCxuWzJdLnhdLDIsW25bMF0ueSxuWzFdLnksblsyXS55XSwyLG51bGwsMCwhMCxILnVuaXQoKSxILnVuaXQoKSxwLGYsdSxhLHUpO2lmKGk+MCl7bGV0IHQ9MDtmb3IobGV0IGU9MDtlPGk7ZSsrKXtjb25zdCBzPW5ldyBRLG49bmV3IFE7amkobCxmW2VdLG4pLGppKG0scFtlXSxzKSxRLmRpc3RhbmNlKHMsbik8PW8mJihwW3RdPXBbZV0sZlt0XT1mW2VdLHQrKyl9cC5sZW5ndGg9dCxmLmxlbmd0aD10fX1mb3IobGV0IFA9MDtQPDI7UCsrKXtjb25zdCB0PTA9PT1QP206bCxlPTA9PT1QP2w6bTtmb3IobGV0IHM9MDtzPDI7cysrKXtjb25zdCBuPTA9PT1zPzA6MixpPVswXTt2aShlLHRbbl0saSk7Y29uc3Qgcj1uZXcgUTtqaShlLGlbMF0sciksUS5kaXN0YW5jZSh0W25dLHIpPD1vJiYoMD09PVA/KHAucHVzaCgwPT09bj8wOjEpLGYucHVzaChpWzBdKSk6KGYucHVzaCgwPT09bj8wOjEpLHAucHVzaChpWzBdKSkpfX1pZigwPT09cC5sZW5ndGgpcmV0dXJuIDA7aWYoIWcuZXF1YWxzUmFuZ2UoMCwxKSlmb3IobGV0IFA9MDtQPHAubGVuZ3RoOysrUClwW1BdPXduLnJlY2FsY3VsYXRlUGFyZW50VChnLnZtaW4sZy52bWF4LHBbUF0pO2lmKCFkLmVxdWFsc1JhbmdlKDAsMSkpZm9yKGxldCBQPTA7UDxmLmxlbmd0aDsrK1ApZltQXT13bi5yZWNhbGN1bGF0ZVBhcmVudFQoZC52bWluLGQudm1heCxmW1BdKTtyZXR1cm4gY20odCxlLHMscCxmLHAubGVuZ3RoLG4saSxyLG8sYSxoLHUpfWZ1bmN0aW9uIHppKHQsZSxzPSExKXtjb25zdCBuPXRbMV0uc3ViKHRbMF0pO2VbMV0uYXNzaWduKG4ubXVsKDIpKSxlWzJdLmFzc2lnbih0WzJdLnN1Yih0WzFdKS5zdWIobikpLHM/ZVswXS5zZXRDb29yZHMoMCwwKTplWzBdLmFzc2lnbih0WzBdKX1mdW5jdGlvbiBCaSh0LGUscz0hMSl7Y29uc3Qgbj1sdChRLDMpO3QucXVlcnlDb250cm9sUG9pbnRzKG4pLHppKG4sZSxzKX1mdW5jdGlvbiBraSh0LGUscz0hMSl7Y29uc3Qgbj0wLGk9bmV3IGF0KHRbMV1bbl0pLnN1YkUobmV3IGF0KHRbMF1bbl0pKTtlWzFdPWkubXVsKDIpLGVbMl09bmV3IGF0KHRbMl1bbl0pLnN1YkUobmV3IGF0KHRbMV1bbl0pKS5zdWJFKGkpLHM/ZVswXS5zZXQoMCk6ZVswXS5zZXQodFswXVtuXSl9ZnVuY3Rpb24gR2kodCxlLHM9ITEpe2NvbnN0IG49MSxpPW5ldyBhdCh0WzFdW25dKS5zdWJFKG5ldyBhdCh0WzBdW25dKSk7ZVsxXT1pLm11bCgyKSxlWzJdPW5ldyBhdCh0WzJdW25dKS5zdWJFKG5ldyBhdCh0WzFdW25dKSkuc3ViRShpKSxzP2VbMF0uc2V0KDApOmVbMF0uc2V0KHRbMF1bbl0pfWZ1bmN0aW9uIFdpKHQsZSxzPSExKXtjb25zdCBuPVhlLmNvbnN0cnVjdFBvaW50MkQodFsxXSksaT1uLnN1YihYZS5jb25zdHJ1Y3RQb2ludDJEKHRbMF0pKTtlWzFdPWkubXVsKGl0LmNvbnN0cnVjdEludDMyKDIpKSxlWzJdPVhlLmNvbnN0cnVjdFBvaW50MkQodFsyXSkuc3ViKG4pLnN1YihpKSxlWzBdPXM/bmV3IFhlKCR0LCR0KTpYZS5jb25zdHJ1Y3RQb2ludDJEKHRbMF0pfWZ1bmN0aW9uIGppKHQsZSxzLG4pe2lmKG4pe2lmKGU8MCl7cmV0dXJuIHZvaWQgX3MobmV3IHBtKHtzdGFydDp0WzBdLGVuZDp0WzBdLmFkZChsaSh0LDApLmdldFVuaXRWZWN0b3IoKSl9KSxlLHMpfWlmKGU+MSl7cmV0dXJuIHZvaWQgX3MobmV3IHBtKHtzdGFydDp0WzJdLGVuZDp0WzJdLmFkZChsaSh0LDEpLmdldFVuaXRWZWN0b3IoKSl9KSxlLTEscyl9fWlmKGU8PS41KXtjb25zdCBuPXRbMV0uY2xvbmUoKSxpPW5ldyBRO1h0KDIsdFswXSxuLGUsaSk7Y29uc3Qgcj1uZXcgUTtYdCgyLG4sdFsyXSxlLHIpO2NvbnN0IG89bmV3IFE7WHQoMixpLHIsZSxvKSxzLmFzc2lnbihvKX1lbHNle2NvbnN0IG49dFsxXS5jbG9uZSgpLGk9bmV3IFE7cXQoMix0WzBdLG4sZSxpKTtjb25zdCByPW5ldyBRO3F0KDIsbix0WzJdLGUscik7Y29uc3Qgbz1uZXcgUTtxdCgyLGkscixlLG8pLHMuYXNzaWduKG8pfX1mdW5jdGlvbiBaaSh0LGUscyl7Y29uc3Qgbj1sdChRLDMpO3QucXVlcnlDb250cm9sUG9pbnRzKG4pLEhpKG4sZSxzKX1mdW5jdGlvbiBIaSh0LGUscyl7aWYoZS52YWx1ZSgpPD0uNSl7Y29uc3Qgbj1ZZS5jb25zdHJ1Y3RQb2ludDJEKHRbMV0pLGk9bmV3IFllO0Z0KDIsWWUuY29uc3RydWN0UG9pbnQyRCh0WzBdKSxuLGUsaSk7Y29uc3Qgcj1uZXcgWWU7RnQoMixuLFllLmNvbnN0cnVjdFBvaW50MkQodFsyXSksZSxyKTtjb25zdCBvPW5ldyBZZTtGdCgyLGkscixlLG8pLHMuc2V0RShvKX1lbHNle2NvbnN0IG49WWUuY29uc3RydWN0UG9pbnQyRCh0WzFdKSxpPW5ldyBZZTtWdCgyLFllLmNvbnN0cnVjdFBvaW50MkQodFswXSksbixlLGkpO2NvbnN0IHI9bmV3IFllO1Z0KDIsbixZZS5jb25zdHJ1Y3RQb2ludDJEKHRbMl0pLGUscik7Y29uc3Qgbz1uZXcgWWU7VnQoMixpLHIsZSxvKSxzLnNldEUobyl9fWZ1bmN0aW9uIFVpKHQsZSxzKXtjb25zdCBuPWx0KFEsNCk7dC5xdWVyeUNvbnRyb2xQb2ludHMobiksT2kobixlLHMpfWZ1bmN0aW9uIE9pKHQsZSxzKXtlLnZhbHVlKCk8MCYmZS5zZXQoMCxlLmVwcygpKSxlLnZhbHVlKCk+MSYmZS5zZXQoMSxlLmVwcygpKSxzLnNldEUoZGkodCwxLGUpKX1mdW5jdGlvbiBRaSh0LGUpe2xldCBzPTE7dFsxXS5pc0VxdWFsUG9pbnQyRCh0WzBdKSYmKHM9Mix0WzJdLmlzRXF1YWxQb2ludDJEKHRbMF0pJiYocz0zKSk7bGV0IG49Mjt0WzJdLmlzRXF1YWxQb2ludDJEKHRbM10pJiYobj0xLHRbMV0uaXNFcXVhbFBvaW50MkQodFszXSkmJihuPTApKSxlWzBdLmFzc2lnbih0WzBdKSxlWzJdLmFzc2lnbih0WzNdKTtjb25zdCBpPVEuaW50ZXJzZWN0TGluZXNBdE9uZVBvaW50KHRbMF0sdFtzXSx0W25dLHRbM10pLHI9bmV3IFE7eHQodFswXSx0WzNdLC41LHIpO2NvbnN0IG89bmV3IFE7UG8odCwuNSxvKTtjb25zdCBhPW5ldyBRO2VbMV0uYXNzaWduKGkpLGppKGUsLjUsYSk7Y29uc3QgaD1uZXcgUTtlWzFdLmFzc2lnbihyKSxqaShlLC41LGgpO2NvbnN0IHU9US5zcXJEaXN0YW5jZShvLGEpLG09US5zcXJEaXN0YW5jZShvLGgpO3JldHVybiB1PG0/KGVbMV0uc2V0Q29vcmRzUG9pbnQyRChpKSxNYXRoLnNxcnQodSkpOihlWzFdLnNldENvb3Jkc1BvaW50MkQociksTWF0aC5zcXJ0KG0pKX1mdW5jdGlvbiBKaSh0LGUscyl7c1swXS5hc3NpZ24odFswXSksc1sxXS5hc3NpZ24odFsxXSksc1syXS5hc3NpZ24odFsyXSk7Y29uc3Qgbj1uZXcgUTtfaCh0LGUsLjUsbik7Y29uc3QgaT1uZXcgUTtqaShzLC41LGkpO2NvbnN0IHI9US5zcXJEaXN0YW5jZShuLGkpO3JldHVybiBNYXRoLnNxcnQocil9ZnVuY3Rpb24gS2kodCxlKXtlWzBdLmFzc2lnbih0WzBdKSxlWzNdLmFzc2lnbih0WzJdKSx4dCh0WzBdLHRbMV0sMi8zLGVbMV0pLHh0KHRbMV0sdFsyXSwxLzMsZVsyXSl9ZnVuY3Rpb24gJGkodCxlKXtjb25zdCBzPWx0KFEsMyk7dC5xdWVyeUNvbnRyb2xQb2ludHMocyk7Y29uc3Qgbj1RLnNxckRpc3RhbmNlKHNbMV0sc1swXSksaT1RLnNxckRpc3RhbmNlKHNbMV0sc1syXSk7bGV0IHI9c1swXS5jbG9uZSgpLG89bjtuPmkmJihyPXNbMl0uY2xvbmUoKSxvPWkpO2xldCBhPSExO3JldHVybiBvPD1lJiYwIT09byYmKGE9ITAsdC5zZXRDb250cm9sUG9pbnQxKHIpKSxhfWZ1bmN0aW9uIHRyKHQsZSl7aWYoIWUpcmV0dXJuITE7Y29uc3Qgcz1sdChRLDMpO3QucXVlcnlDb250cm9sUG9pbnRzKHMpO2NvbnN0IG49US5zcXJEaXN0YW5jZShzWzFdLHNbMF0pLGk9US5zcXJEaXN0YW5jZShzWzFdLHNbMl0pO3NbMF0uY2xvbmUoKTtsZXQgcj1uO3JldHVybiBuPmkmJihzWzJdLmNsb25lKCkscj1pKSxyPD1lJiYwIT09cn1mdW5jdGlvbiBlcih0LGUscyxuLGkscixvLGEsaCl7Y29uc3QgdT1sdChRLDMpO3QucXVlcnlDb250cm9sUG9pbnRzKHUpO2NvbnN0IG09bHQoUSwzKTtpZihlLnF1ZXJ5Q29udHJvbFBvaW50cyhtKSx1WzBdLmVxdWFscyhtWzBdKSl7aWYodVsxXS5lcXVhbHMobVsxXSkmJnVbMl0uZXF1YWxzKG1bMl0pKXJldHVybiBzJiYocy5sZW5ndGg9MCxzLnB1c2godVswXSkscy5wdXNoKHVbMl0pKSxuJiYobi5sZW5ndGg9MCxuLnB1c2goMCksbi5wdXNoKDEpKSxpJiYoaS5sZW5ndGg9MCxpLnB1c2goMCksaS5wdXNoKDEpKSwhMDtpZighdVswXS5lcXVhbHMobVsyXSkpcmV0dXJuITF9cmV0dXJuISEodVswXS5lcXVhbHMobVsyXSkmJnVbMV0uZXF1YWxzKG1bMV0pJiZ1WzJdLmVxdWFscyhtWzBdKSkmJihuJiYobi5sZW5ndGg9MCxuLnB1c2goMCksbi5wdXNoKDEpLGgmJihuWzFdPWV0KG5bMF0sblswXT1uWzFdKSkpLGkmJihpLmxlbmd0aD0wLGkucHVzaCgxKSxpLnB1c2goMCksaCYmKGlbMV09ZXQoaVswXSxpWzBdPWlbMV0pKSkscyYmKHMubGVuZ3RoPTAscy5wdXNoKHVbMF0pLHMucHVzaCh1WzJdKSxoJiYoc1sxXT1ldChzWzBdLHNbMF09c1sxXSkpKSwhMCl9Y29uc3Qgc3I9W1suMzM5OTgxMDQzNTg0ODU2MjYsLjY1MjE0NTE1NDg2MjU0NjFdLFsuODYxMTM2MzExNTk0MDUyNiwuMzQ3ODU0ODQ1MTM3NDUzODVdXSxucj1bWy4xODM0MzQ2NDI0OTU2NDk4LC4zNjI2ODM3ODMzNzgzNjJdLFsuNTI1NTMyNDA5OTE2MzI5LC4zMTM3MDY2NDU4Nzc4ODcyN10sWy43OTY2NjY0Nzc0MTM2MjY3LC4yMjIzODEwMzQ0NTMzNzQ0OF0sWy45NjAyODk4NTY0OTc1MzYzLC4xMDEyMjg1MzYyOTAzNzYyNl1dLGlyPVtbLjA5NTAxMjUwOTgzNzYzNzQ0LC4xODk0NTA2MTA0NTUwNjg1XSxbLjI4MTYwMzU1MDc3OTI1ODksLjE4MjYwMzQxNTA0NDkyMzU4XSxbLjQ1ODAxNjc3NzY1NzIyNzM3LC4xNjkxNTY1MTkzOTUwMDI1NF0sWy42MTc4NzYyNDQ0MDI2NDM4LC4xNDk1OTU5ODg4MTY1NzY3NF0sWy43NTU0MDQ0MDgzNTUwMDMsLjEyNDYyODk3MTI1NTUzMzg4XSxbLjg2NTYzMTIwMjM4NzgzMTgsLjA5NTE1ODUxMTY4MjQ5Mjc5XSxbLjk0NDU3NTAyMzA3MzIzMjYsLjA2MjI1MzUyMzkzODY0Nzg5NF0sWy45ODk0MDA5MzQ5OTE2NDk5LC4wMjcxNTI0NTk0MTE3NTQwOTZdXSxycj1bWy4wNDgzMDc2NjU2ODc3MzgzMiwuMDk2NTQwMDg4NTE0NzI3OF0sWy4xNDQ0NzE5NjE1ODI3OTY1LC4wOTU2Mzg3MjAwNzkyNzQ4Nl0sWy4yMzkyODczNjIyNTIxMzcwNiwuMDkzODQ0Mzk5MDgwODA0NTddLFsuMzMxODY4NjAyMjgyMTI3NjcsLjA5MTE3Mzg3ODY5NTc2Mzg5XSxbLjQyMTM1MTI3NjEzMDYzNTMzLC4wODc2NTIwOTMwMDQ0MDM4MV0sWy41MDY4OTk5MDg5MzIyMjk0LC4wODMzMTE5MjQyMjY5NDY3NV0sWy41ODc3MTU3NTcyNDA3NjIzLC4wNzgxOTM4OTU3ODcwNzAzMV0sWy42NjMwNDQyNjY5MzAyMTUyLC4wNzIzNDU3OTQxMDg4NDg1XSxbLjczMjE4MjExODc0MDI4OTcsLjA2NTgyMjIyMjc3NjM2MTg1XSxbLjc5NDQ4Mzc5NTk2Nzk0MjQsLjA1ODY4NDA5MzQ3ODUzNTU0NF0sWy44NDkzNjc2MTM3MzI1NywuMDUwOTk4MDU5MjYyMzc2MTc1XSxbLjg5NjMyMTE1NTc2NjA1MjEsLjA0MjgzNTg5ODAyMjIyNjY4XSxbLjkzNDkwNjA3NTkzNzczOTcsLjAzNDI3Mzg2MjkxMzAyMTQzXSxbLjk2NDc2MjI1NTU4NzUwNjQsLjAyNTM5MjA2NTMwOTI2MjA2XSxbLjk4NTYxMTUxMTU0NTI2ODQsLjAxNjI3NDM5NDczMDkwNTY3XSxbLjk5NzI2Mzg2MTg0OTQ4MTYsLjAwNzAxODYxMDAwOTQ3MDA5Nl1dLG9yPVtbLjAyNDM1MDI5MjY2MzQyNDQzMywuMDQ4NjkwOTU3MDA5MTM5NzI0XSxbLjA3Mjk5MzEyMTc4Nzc5OTA0LC4wNDg1NzU0Njc0NDE1MDM0M10sWy4xMjE0NjI4MTkyOTYxMjA1NiwuMDQ4MzQ0NzYyMjM0ODAyOTU0XSxbLjE2OTY0NDQyMDQyMzk5MjgzLC4wNDc5OTkzODg1OTY0NTgzMV0sWy4yMTc0MjM2NDM3NDAwMDcwOCwuMDQ3NTQwMTY1NzE0ODMwMzFdLFsuMjY0Njg3MTYyMjA4NzY3NCwuMDQ2OTY4MTgyODE2MjEwMDJdLFsuMzExMzIyODcxOTkwMjEwOTcsLjA0NjI4NDc5NjU4MTMxNDQxNl0sWy4zNTcyMjAxNTgzMzc2NjgxLC4wNDU0OTE2Mjc5Mjc0MTgxNF0sWy40MDIyNzAxNTc5NjM5OTE2LC4wNDQ1OTA1NTgxNjM3NTY1NjZdLFsuNDQ2MzY2MDE3MjUzNDY0MSwuMDQzNTgzNzI0NTI5MzIzNDVdLFsuNDg5NDAzMTQ1NzA3MDUyOTYsLjA0MjQ3MzUxNTEyMzY1MzU5XSxbLjUzMTI3OTQ2NDAxOTg5NDYsLjA0MTI2MjU2MzI0MjYyMzUzXSxbLjU3MTg5NTY0NjIwMjYzNCwuMDM5OTUzNzQxMTMyNzIwMzRdLFsuNjExMTU1MzU1MTcyMzkzMywuMDM4NTUwMTUzMTc4NjE1NjI2XSxbLjY0ODk2NTQ3MTI1NDY1NzMsLjAzNzA1NTEyODU0MDI0MDA1XSxbLjY4NTIzNjMxMzA1NDIzMzMsLjAzNTQ3MjIxMzI1Njg4MjM4Nl0sWy43MTk4ODE4NTAxNzE2MTA5LC4wMzM4MDUxNjE4MzcxNDE2MDZdLFsuNzUyODE5OTA3MjYwNTMxOSwuMDMyMDU3OTI4MzU0ODUxNTVdLFsuNzgzOTcyMzU4OTQzMzQxNCwuMDMwMjM0NjU3MDcyNDAyNDc4XSxbLjgxMzI2NTMxNTEyMjc5NzUsLjAyODMzOTY3MjYxNDI1OTQ4M10sWy44NDA2MjkyOTYyNTI1ODAzLC4wMjYzNzc0Njk3MTUwNTQ2Nl0sWy44NjU5OTkzOTgxNTQwOTI4LC4wMjQzNTI3MDI1Njg3MTA4NzRdLFsuODg5MzE1NDQ1OTk1MTE0MSwuMDIyMjcwMTczODA4MzgzMjUzXSxbLjkxMDUyMjEzNzA3ODUwMjgsLjAyMDEzNDgyMzE1MzUzMDIxXSxbLjkyOTU2OTE3MjEzMTkzOTYsLjAxNzk1MTcxNTc3NTY5NzM0M10sWy45NDY0MTEzNzQ4NTg0MDI4LC4wMTU3MjYwMzA0NzYwMjQ3MThdLFsuOTYxMDA4Nzk5NjUyMDUzOCwuMDEzNDYzMDQ3ODk2NzE4NjQzXSxbLjk3MzMyNjgyNzc4OTkxMSwuMDExMTY4MTM5NDYwMTMxMTI4XSxbLjk4MzMzNjI1Mzg4NDYyNiwuMDA4ODQ2NzU5ODI2MzYzOTQ3XSxbLjk5MTAxMzM3MTQ3Njc0NDMsLjAwNjUwNDQ1Nzk2ODk3ODM2M10sWy45OTYzNDAxMTY3NzE5NTUzLC4wMDQxNDcwMzMyNjA1NjI0NjhdLFsuOTk5MzA1MDQxNzM1NzcyMiwuMDAxNzgzMjgwNzIxNjk2NDMzXV0sYXI9W1suMDEyMjIzNjk4OTYwNjE1NzY0LC4wMjQ0NDYxODAxOTYyNjI1MThdLFsuMDM2NjYzNzkwOTY4NzMzNDksLjAyNDQzMTU2OTA5Nzg1MDA0NF0sWy4wNjEwODE5Njk2MDQxMzk1NywuMDI0NDAyMzU1NjMzODQ5NThdLFsuMDg1NDYzNjQwNTA0NTE1NDksLjAyNDM1ODU1NzI2NDY5MDYyNl0sWy4xMDk3OTQyMzExMjc2NDM3NSwuMDI0MzAwMjAwMTY3OTcxODY3XSxbLjEzNDA1OTE5OTQ2MTE4Nzc3LC4wMjQyMjczMTkyMjI4MTUyNV0sWy4xNTgyNDQwNDI3MTQyMjQ5MywuMDI0MTM5OTU3OTg5MDE5Mjg3XSxbLjE4MjMzNDMwNTk4NTMzNzE4LC4wMjQwMzgxNjg2ODEwMjQwNTJdLFsuMjA2MzE1NTkwOTAyMDc5MiwuMDIzOTIyMDEyMTM2NzAzNDU3XSxbLjIzMDE3MzU2NDIyNjY2LC4wMjM3OTE1NTc3ODEwMDM0MDJdLFsuMjUzODkzOTY2NDIyNjk0MywuMDIzNjQ2ODgzNTg0NDQ3NjE2XSxbLjI3NzQ2MjYyMDE3NzkwNDQsLjAyMzQ4ODA3NjAxNjUzNTkxXSxbLjMwMDg2NTQzODg3NzY3NzIsLjAyMzMxNTIyOTk5NDA2Mjc2XSxbLjMyNDA4ODQzNTAyNDQxMzM3LC4wMjMxMjg0NDg4MjQzODcwMjddLFsuMzQ3MTE3NzI4NTk3NjM1NSwuMDIyOTI3ODQ0MTQzNjg2ODQ2XSxbLjM2OTkzOTU1NTM0OTg1OSwuMDIyNzEzNTM1ODUwMjM2NDZdLFsuMzkyNTQwMjc1MDMzMjY3NDQsLjAyMjQ4NTY1MjAzMjc0NDk2OF0sWy40MTQ5MDYzNzk1NTIyNzUsLjAyMjI0NDMyODg5Mzc5OTc2NF0sWy40MzcwMjQ1MDEwMzcxMDQxNiwuMDIxOTg5NzEwNjY4NDYwNDldLFsuNDU4ODgxNDE5ODMzNTUyMiwuMDIxNzIxOTQ5NTM4MDUyMDc2XSxbLjQ4MDQ2NDA3MjQwNDE3MjA1LC4wMjE0NDEyMDU1MzkyMDg0Nl0sWy41MDE3NTk1NTkxMzYxNDQ1LC4wMjExNDc2NDY0NjgyMjEzNV0sWy41MjI3NTUxNTIwNTExNzU1LC4wMjA4NDE0NDc3ODA3NTExNV0sWy41NDM0MzgzMDI0MTI4MTAzLC4wMjA1MjI3OTI0ODY5NjAwN10sWy41NjM3OTY2NDgyMjY2MTgxLC4wMjAxOTE4NzEwNDIxMzAwNDNdLFsuNTgzODE4MDIxNjI4NzYzMSwuMDE5ODQ4ODgxMjMyODMwODZdLFsuNjAzNDkwNDU2MTU4NTQ4NiwuMDE5NDk0MDI4MDU4NzA2NjAyXSxbLjYyMjgwMjE5MzkxMDU4NDksLjAxOTEyNzUyMzYwOTk1MDk0NF0sWy42NDE3NDE2OTI1NjIzMDc1LC4wMTg3NDk1ODY5NDA1NDQ3MV0sWy42NjAyOTc2MzIyNzI2NDYsLjAxODM2MDQ0MzkzNzMzMTM0XSxbLjY3ODQ1ODkyMjQ0NzcxOTIsLjAxNzk2MDMyNzE4NTAwODY4N10sWy42OTYyMTQ3MDgzNjk1MTQ0LC4wMTc1NDk0NzU4MjcxMTc3MDZdLFsuNzEzNTU0Mzc3NjgzNTg3NCwuMDE3MTI4MTM1NDIzMTExMzhdLFsuNzMwNDY3NTY2NzQxOTA4OCwuMDE2Njk2NTU3ODAxNTg5MjA1XSxbLjc0Njk0NDE2Njc5NzA2MiwuMDE2MjU1MDAwOTA5Nzg1MTg3XSxbLjc2Mjk3NDMzMDA0NDA5NDgsLjAxNTgwMzcyODY1OTM5OTM0N10sWy43Nzg1NDg0NzU1MDY0MTE5LC4wMTUzNDMwMTA3Njg4NjUxNDRdLFsuNzkzNjU3Mjk0NzYyMTkzMywuMDE0ODczMTIyNjAyMTQ3MzE0XSxbLjgwODI5MTc1NzUwNzkxMzcsLjAxNDM5NDM0NTAwNDE2Njg0N10sWy44MjI0NDMxMTY5NTU2NDM5LC4wMTM5MDY5NjQxMzI5NTE5ODVdLFsuODM2MTAyOTE1MDYwOTA2OCwuMDEzNDExMjcxMjg4NjE2MzMzXSxbLjg0OTI2Mjk4NzU3Nzk2ODksLjAxMjkwNzU2MjczOTI2NzM0OF0sWy44NjE5MTU0Njg5Mzk1NDg1LC4wMTIzOTYxMzk1NDM5NTA5MjNdLFsuODc0MDUyNzk2OTU4MDMxOCwuMDExODc3MzA3MzcyNzQwMjhdLFsuODg1NjY3NzE3MzQ1Mzk3MiwuMDExMzUxMzc2MzI0MDgwNDE3XSxbLjg5Njc1MzI4ODA0OTE1ODIsLjAxMDgxODY2MDczOTUwMzA3Nl0sWy45MDczMDI4ODM0MDE3NTY4LC4wMTAyNzk0NzkwMTU4MzIxNThdLFsuOTE3MzEwMTk4MDgwOTYwNSwuMDA5NzM0MTUzNDE1MDA2ODA2XSxbLjkyNjc2OTI1MDg3ODk0NzgsLjAwOTE4MzAwOTg3MTY2MDg3NF0sWy45MzU2NzQzODgyNzc5MTY0LC4wMDg2MjYzNzc3OTg2MTY3NV0sWy45NDQwMjAyODc4MzAyMjAyLC4wMDgwNjQ1ODk4OTA0ODYwNTldLFsuOTUxODAxOTYxMzQxMjY0NCwuMDA3NDk3OTgxOTI1NjM0NzI4NV0sWy45NTkwMTQ3NTc4NTM2OTk5LC4wMDY5MjY4OTI1NjY4OTg4MTRdLFsuOTY1NjU0MzY2NDMxOTY1MiwuMDA2MzUxNjYzMTYxNzA3MTg5XSxbLjk3MTcxNjgxODc0NzEzNjYsLjAwNTc3MjYzNzU0Mjg2NTY5OF0sWy45NzcxOTg0OTE0NjM5MDc0LC4wMDUxOTAxNjE4MzI2NzYzM10sWy45ODIwOTYxMDg0MzU3MTg1LC4wMDQ2MDQ1ODQyNTY3MDI5NTVdLFsuOTg2NDA2NzQyNzI0NTg2MiwuMDA0MDE2MjU0OTgzNzM4NjQyXSxbLjk5MDEyNzgxODQ5MTczNDQsLjAwMzQyNTUyNjA0MDkxMDIxNTddLFsuOTkzMjU3MTEyOTAwMjEyOSwuMDAyODMyNzUxNDcxNDU3OTkxMl0sWy45OTU3OTI3NTg1MzQ5ODEyLC4wMDIyMzgyODg0MzA5NjI2MTg2XSxbLjk5NzczMzI0ODYyNTUxNCwuMDAxNjQyNTAzMDE4NjY5MDI5NF0sWy45OTkwNzc0NTk5NzczNzU4LC4wMDEwNDU4MTI2NzkzNDAzNDg5XSxbLjk5OTgyNDg4Nzk0NzEzMTksLjAwMDQ0OTM4MDk2MDI5MjA5MDM1XV07ZnVuY3Rpb24gaHIodCxlLHMsbil7Y29uc3QgaT0uNSoobi1zKSxyPXMraSxvPW5ldyBwdCgwKTtmb3IobGV0IGE9MCxoPU1hdGgudHJ1bmModC8yKTthPGg7KythKXtsZXQgcyxuO3N3aXRjaCh0KXtjYXNlIDQ6cz1zclthXVswXSxuPXNyW2FdWzFdO2JyZWFrO2Nhc2UgODpzPW5yW2FdWzBdLG49bnJbYV1bMV07YnJlYWs7Y2FzZSAxNjpzPWlyW2FdWzBdLG49aXJbYV1bMV07YnJlYWs7Y2FzZSAzMjpzPXJyW2FdWzBdLG49cnJbYV1bMV07YnJlYWs7Y2FzZSA2NDpzPW9yW2FdWzBdLG49b3JbYV1bMV07YnJlYWs7Y2FzZSAxMjg6cz1hclthXVswXSxuPWFyW2FdWzFdO2JyZWFrO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKFwiUXVhZHJhdHVyZV9pbnRlZ3JhbDogaW52YWxpZCBuXCIpfWNvbnN0IGg9cmUoLS41LHMsciksdT1yZShpLHMscik7by5wZShlKGgpKm4pLG8ucGUoZSh1KSpuKX1yZXR1cm4gby5nZXRSZXN1bHQoKSppfWNsYXNzIHVyIGV4dGVuZHMgSHN7Y29uc3RydWN0b3IodCl7dD90LnZkPyhzdXBlcih7dmQ6dC52ZCxiUG9seWdvbjohMH0pLHRoaXMubV9zZWdtZW50QnVmZmVyQ1Rvcj1mbSk6dC5jb3B5PyhzdXBlcih7dmQ6dC5jb3B5LmdldERlc2NyaXB0aW9uKCksYlBvbHlnb246ITB9KSx0aGlzLm1fc2VnbWVudEJ1ZmZlckNUb3I9Zm0sdC5jb3B5LmNvcHlUbyh0aGlzKSk6dC5tb3ZlPyhzdXBlcih7bW92ZTp0Lm1vdmV9KSx0aGlzLm1fc2VnbWVudEJ1ZmZlckNUb3I9Zm0pOnQuZW52ZWxvcGU/YShcImVudmVsb3BlIGNvbnN0cnVjdG9yIG5vdCBpbXBsXCIpOmgoXCJiYWQgYXJnIHRvIHBvbHlnb24gY29uc3RydWN0b3JcIik6KHN1cGVyKHtiUG9seWdvbjohMH0pLHRoaXMubV9zZWdtZW50QnVmZmVyQ1Rvcj1mbSl9YXNzaWduTW92ZSh0KXtyZXR1cm4gdC5jb3B5VG8odGhpcyksdGhpc31hc3NpZ25Db3B5KHQpe3JldHVybiB0LmNvcHlUbyh0aGlzKSx0aGlzfWdldEJvdW5kYXJ5KCl7cmV0dXJuIEtzKHRoaXMpfWdldEV4dGVyaW9yUmluZ0NvdW50KCl7cmV0dXJuIHRoaXMuZ2V0T0dDUG9seWdvbkNvdW50KCl9Z2V0R2VvbWV0cnlUeXBlKCl7cmV0dXJuIHVyLnR5cGV9Z2V0RGltZW5zaW9uKCl7cmV0dXJuIDJ9Y3JlYXRlSW5zdGFuY2UoKXtyZXR1cm4gbmV3IHVyKHt2ZDp0aGlzLmdldERlc2NyaXB0aW9uKCl9KX1lcXVhbHModCxlKXtyZXR1cm4gdGhpcy5lcXVhbHNCYXNlKHQsZSl9fWZ1bmN0aW9uIG1yKHQscyl7bGV0IG4scj1zLG89bnVsbDtzd2l0Y2gocnx8KG89cCh0KT9YKCk6UCgpLHI9byksdCl7Y2FzZSBpLmVudW1Qb2ludDpuPW5ldyBxKHt2ZDpyfSk7YnJlYWs7Y2FzZSBpLmVudW1MaW5lOm49bmV3IHBtKHt2ZDpyfSk7YnJlYWs7Y2FzZSBpLmVudW1CZXppZXI6bj1uZXcgaWEoe3ZkOnJ9KTticmVhaztjYXNlIGkuZW51bUVsbGlwdGljQXJjOm49bmV3IFhoKHt2ZDpyfSk7YnJlYWs7Y2FzZSBpLmVudW1SYXRpb25hbEJlemllcjI6bj1uZXcgRW4oe3ZkOnJ9KTticmVhaztjYXNlIGkuZW51bUJlemllcjI6bj1uZXcgd24oe3ZkOnJ9KTticmVhaztjYXNlIGkuZW51bUVudmVsb3BlOm49bmV3IE0oe3ZkOnJ9KTticmVhaztjYXNlIGkuZW51bU11bHRpUG9pbnQ6bj1uZXcgRWUoe3ZkOnJ9KTticmVhaztjYXNlIGkuZW51bVBvbHlsaW5lOm49bmV3IE9zKHt2ZDpyfSk7YnJlYWs7Y2FzZSBpLmVudW1Qb2x5Z29uOm49bmV3IHVyKHt2ZDpyfSk7YnJlYWs7Y2FzZSBpLmVudW1NdWx0aXBhdGNoOmEoXCJtdWx0aXBhdGNoIG5vdCBpbXBsXCIpO2JyZWFrO2Nhc2UgaS5lbnVtR2VvbWV0cnlDb2xsZWN0aW9uOm49bmV3IGxzKHt2ZDpyfSk7YnJlYWs7ZGVmYXVsdDplKFwiR2VvbWV0cnkuY3JlYXRlXCIpfXJldHVybiBufXVyLnR5cGU9aS5lbnVtUG9seWdvbjt2YXIgbHI9Yjtjb25zdCBjcj0tMSxncj0xO2NsYXNzIGRye2NvbnN0cnVjdG9yKHQpe3RoaXMubV9zaGFwZT10fXVzZXJTb3J0KHQsZSxzKXt0aGlzLm1fc2hhcGUuc29ydFZlcnRpY2VzU2ltcGxlQnlZSGVscGVyKHMsdCxlKX1nZXRWYWx1ZSh0KXtyZXR1cm4gdGhpcy5tX3NoYXBlLmdldFkodCl9fWZ1bmN0aW9uIF9yKHQpe3JldHVybiB2b2lkIDAhPT10LnBhcmVudH1jbGFzcyBwcntjb25zdHJ1Y3Rvcih0KXtfcih0KT8odGhpcy5tX3BhcmVudD10LnBhcmVudCx0aGlzLm1fZ2VvbWV0cnk9dC5nZW9tZXRyeSx0aGlzLm1fcGF0aD10LnBhdGgsdGhpcy5tX3ZlcnRleD10LnZlcnRleCx0aGlzLm1fZmlyc3RWZXJ0ZXg9dC5maXJzdFZlcnRleCx0aGlzLm1faW5kZXg9dC5zZWxlY3Rpb24/MDp0LmluZGV4LHRoaXMubV9iU2tpcE11bHRpUG9pbnRzPXQuYlNraXBNdWx0aVBvaW50cyx0aGlzLm1fc2VsZWN0aW9uPXQuc2VsZWN0aW9uLHRoaXMubV9iT25lR2VvbT10LmJPbmVHZW9tLHRoaXMubV9iRmlyc3Q9ITApOih0aGlzLm1fcGFyZW50PXQuY29weS5tX3BhcmVudCx0aGlzLm1fZ2VvbWV0cnk9dC5jb3B5Lm1fZ2VvbWV0cnksdGhpcy5tX3BhdGg9dC5jb3B5Lm1fcGF0aCx0aGlzLm1fdmVydGV4PXQuY29weS5tX3ZlcnRleCx0aGlzLm1faW5kZXg9dC5jb3B5Lm1faW5kZXgsdGhpcy5tX2JTa2lwTXVsdGlQb2ludHM9dC5jb3B5Lm1fYlNraXBNdWx0aVBvaW50cyx0aGlzLm1fZmlyc3RWZXJ0ZXg9dC5jb3B5Lm1fZmlyc3RWZXJ0ZXgsdGhpcy5tX2JGaXJzdD0hMCx0aGlzLm1fc2VsZWN0aW9uPXQuY29weS5tX3NlbGVjdGlvbix0aGlzLm1fYk9uZUdlb209dC5jb3B5Lm1fYk9uZUdlb20pfW1vdmVUb05leHRIZWxwZXIoKXtmb3IodGhpcy5tX3BhdGg9dGhpcy5tX3BhcmVudC5nZXROZXh0UGF0aCh0aGlzLm1fcGF0aCksdGhpcy5tX2luZGV4PTA7dGhpcy5tX2dlb21ldHJ5IT09Y3I7KXtmb3IoO3RoaXMubV9wYXRoIT09Y3I7dGhpcy5tX3BhdGg9dGhpcy5tX3BhcmVudC5nZXROZXh0UGF0aCh0aGlzLm1fcGF0aCkpaWYodGhpcy5tX3ZlcnRleD10aGlzLm1fcGFyZW50LmdldEZpcnN0VmVydGV4KHRoaXMubV9wYXRoKSx0aGlzLm1fZmlyc3RWZXJ0ZXg9dGhpcy5tX3ZlcnRleCx0aGlzLm1fdmVydGV4IT09Y3IpcmV0dXJuIHRoaXMubV92ZXJ0ZXg7aWYodGhpcy5tX2JPbmVHZW9tKXJldHVybiBjcjtpZih0aGlzLm1fZ2VvbWV0cnk9dGhpcy5tX3BhcmVudC5nZXROZXh0R2VvbWV0cnkodGhpcy5tX2dlb21ldHJ5KSx0aGlzLm1fZ2VvbWV0cnk9PT1jcilicmVhazt0aGlzLm1fYlNraXBNdWx0aVBvaW50cyYmIWModGhpcy5tX3BhcmVudC5nZXRHZW9tZXRyeVR5cGUodGhpcy5tX2dlb21ldHJ5KSl8fCh0aGlzLm1fcGF0aD10aGlzLm1fcGFyZW50LmdldEZpcnN0UGF0aCh0aGlzLm1fZ2VvbWV0cnkpKX1yZXR1cm4gY3J9bmV4dFNlbGVjdGlvbigpe2Zvcig7dGhpcy5tX2luZGV4PHRoaXMubV9wYXJlbnQubV9zZWxlY3RlZFZlcnRpY2VzLmxlbmd0aDspe2NvbnN0IHQ9dGhpcy5tX3BhcmVudC5tX3NlbGVjdGVkVmVydGljZXNbdGhpcy5tX2luZGV4KytdO2lmKHQhPT1jciYmKHRoaXMubV9wYXRoPXRoaXMubV9wYXJlbnQuZ2V0UGF0aEZyb21WZXJ0ZXgodCksIXRoaXMubV9iT25lR2VvbXx8dGhpcy5tX2dlb21ldHJ5PT09dGhpcy5tX3BhcmVudC5nZXRHZW9tZXRyeUZyb21QYXRoKHRoaXMubV9wYXRoKSkpcmV0dXJuIHRoaXMubV9nZW9tZXRyeT10aGlzLm1fcGFyZW50LmdldEdlb21ldHJ5RnJvbVBhdGgodGhpcy5tX3BhdGgpLHR9cmV0dXJuIGNyfW5leHQoKXtyZXR1cm4gdGhpcy5tX3NlbGVjdGlvbj90aGlzLm5leHRTZWxlY3Rpb24oKTp0aGlzLm1fYkZpcnN0Pyh0aGlzLm1fYkZpcnN0PSExLHRoaXMubV92ZXJ0ZXgpOnRoaXMubV92ZXJ0ZXghPT1jcj8odGhpcy5tX3ZlcnRleD10aGlzLm1fcGFyZW50LmdldE5leHRWZXJ0ZXgodGhpcy5tX3ZlcnRleCksdGhpcy5tX2luZGV4KyssdGhpcy5tX3ZlcnRleCE9PWNyJiZ0aGlzLm1fdmVydGV4IT09dGhpcy5tX2ZpcnN0VmVydGV4P3RoaXMubV92ZXJ0ZXg6dGhpcy5tb3ZlVG9OZXh0SGVscGVyKCkpOmNyfWN1cnJlbnRHZW9tZXRyeSgpe3JldHVybiB0aGlzLm1fZ2VvbWV0cnl9Y3VycmVudFBhdGgoKXtyZXR1cm4gdGhpcy5tX3BhdGh9c3RhdGljIGNyZWF0ZV8odCxlLHMsbixpLHIsbyxhLGgpe3JldHVybiBuZXcgcHIoe3BhcmVudDp0LGdlb21ldHJ5OmUscGF0aDpzLHZlcnRleDpuLGZpcnN0VmVydGV4OmksaW5kZXg6cixiU2tpcE11bHRpUG9pbnRzOm8sc2VsZWN0aW9uOmEsYk9uZUdlb206aH0pfX1jbGFzcyBmcntjb25zdHJ1Y3Rvcih0KXt0aGlzLnBhcmVudGFnZT10fWVxdWFscyh0KXtyZXR1cm4gdGhpcy5wYXJlbnRhZ2U9PT10LnBhcmVudGFnZX19Y2xhc3MgUHJ7c2V0UHJldlBhdGgodCxlKXt0aGlzLm1fcGF0aEluZGV4TGlzdC5zZXRGaWVsZCh0LDEsZSl9c2V0TmV4dFBhdGgodCxlKXt0aGlzLm1fcGF0aEluZGV4TGlzdC5zZXRGaWVsZCh0LDIsZSl9c2V0UGF0aEZsYWdzKHQsZSl7dGhpcy5tX3BhdGhJbmRleExpc3Quc2V0RmllbGQodCw2LGUpfWdldFBhdGhGbGFncyh0KXtyZXR1cm4gdGhpcy5tX3BhdGhJbmRleExpc3QuZ2V0RmllbGQodCw2KX1zZXRQYXRoR2VvbWV0cnkodCxlKXt0aGlzLm1fcGF0aEluZGV4TGlzdC5zZXRGaWVsZCh0LDcsZSl9Z2V0UGF0aEluZGV4KHQpe3JldHVybiB0aGlzLm1fcGF0aEluZGV4TGlzdC5nZXRGaWVsZCh0LDApfXNldE5leHRHZW9tZXRyeSh0LGUpe3RoaXMubV9nZW9tZXRyeUluZGV4TGlzdC5zZXRGaWVsZCh0LDEsZSl9c2V0UHJldkdlb21ldHJ5KHQsZSl7dGhpcy5tX2dlb21ldHJ5SW5kZXhMaXN0LnNldEZpZWxkKHQsMCxlKX1nZXRHZW9tZXRyeUluZGV4KHQpe3JldHVybiB0aGlzLm1fZ2VvbWV0cnlJbmRleExpc3QuZ2V0RmllbGQodCw3KX1zZXRGaXJzdFBhdGgodCxlKXt0aGlzLm1fZ2VvbWV0cnlJbmRleExpc3Quc2V0RmllbGQodCwzLGUpfXNldExhc3RQYXRoKHQsZSl7dGhpcy5tX2dlb21ldHJ5SW5kZXhMaXN0LnNldEZpZWxkKHQsNCxlKX1uZXdHZW9tZXRyeSh0KXtjb25zdCBlPXRoaXMubV9nZW9tZXRyeUluZGV4TGlzdC5uZXdFbGVtZW50KCk7cmV0dXJuIHRoaXMubV9nZW9tZXRyeUluZGV4TGlzdC5zZXRGaWVsZChlLDIsdCksdGhpcy5tX2dlb21ldHJ5SW5kZXhMaXN0LnNldEZpZWxkKGUsNSwwKSx0aGlzLm1fZ2VvbWV0cnlJbmRleExpc3Quc2V0RmllbGQoZSw2LDApLHRoaXMubV9nZW9tZXRyeUluZGV4TGlzdC5zZXRGaWVsZChlLDcsdGhpcy5tX2dlb21ldHJ5SW5kZXhMaXN0LmVsZW1lbnRUb0luZGV4KGUpKSxlfWZyZWVHZW9tZXRyeSh0KXt0aGlzLm1fZ2VvbWV0cnlJbmRleExpc3QuZGVsZXRlRWxlbWVudCh0KX1uZXdQYXRoKHQpe2NvbnN0IGU9dGhpcy5tX3BhdGhJbmRleExpc3QubmV3RWxlbWVudCgpLHM9dGhpcy5tX3BhdGhJbmRleExpc3QuZWxlbWVudFRvSW5kZXgoZSk7aWYodGhpcy5tX3BhdGhJbmRleExpc3Quc2V0RmllbGQoZSwwLHMpLHRoaXMubV9wYXRoSW5kZXhMaXN0LnNldEZpZWxkKGUsMywwKSx0aGlzLm1fcGF0aEluZGV4TGlzdC5zZXRGaWVsZChlLDYsMCksdGhpcy5zZXRQYXRoR2VvbWV0cnkoZSx0KSxzPj10aGlzLm1fcGF0aEFyZWFzLmxlbmd0aCl7Y29uc3QgdD1NYXRoLnRydW5jKHM8MTY/MTY6MypzLzIpO3RoaXMubV9wYXRoQXJlYXMubGVuZ3RoPXQsdGhpcy5tX3BhdGhMZW5ndGhzLmxlbmd0aD10fXJldHVybiB0aGlzLm1fcGF0aEFyZWFzW3NdPTAsdGhpcy5tX3BhdGhMZW5ndGhzW3NdPTAsdGhpcy5tX3BhdGhDb3VudCsrLGV9ZnJlZVBhdGgodCl7dGhpcy5tX3BhdGhJbmRleExpc3QuZGVsZXRlRWxlbWVudCh0KSx0aGlzLm1fcGF0aENvdW50LS19bmV3VmVydGV4KHQpe2NvbnN0IGU9dGhpcy5tX3ZlcnRleEluZGV4TGlzdC5uZXdFbGVtZW50KCkscz10Pj0wP3Q6dGhpcy5tX3ZlcnRleEluZGV4TGlzdC5lbGVtZW50VG9JbmRleChlKTtpZih0aGlzLm1fdmVydGV4SW5kZXhMaXN0LnNldEZpZWxkKGUsMCxzKSx0PDApe2lmKHM+PXRoaXMubV92ZXJ0aWNlcy5nZXRQb2ludENvdW50KCkpe2NvbnN0IHQ9TWF0aC50cnVuYyhzPDE2PzE2OjMqcy8yKTt0aGlzLm1fdmVydGljZXMucmVzZXJ2ZVJvdW5kZWQodCksdGhpcy5tX3ZlcnRpY2VzLnJlc2l6ZU5vSW5pdCh0KSxudWxsIT09dGhpcy5tX3NlZ21lbnRzJiYodGhpcy5tX3NlZ21lbnRzLmxlbmd0aD10KSx0aGlzLm1feHlTdHJlYW09dGhpcy5tX3ZlcnRpY2VzLmdldEF0dHJpYnV0ZVN0cmVhbVJlZigwKX10aGlzLm1fc2VnbWVudHMmJih0aGlzLm1fc2VnbWVudHNbc109bnVsbCl9cmV0dXJuIHRoaXMubV9wb2ludENvdW50KyssZX1mcmVlVmVydGV4KHQpe3RoaXMudW5zZWxlY3QodCk7Y29uc3QgZT10aGlzLmdldFZlcnRleEluZGV4KHQpO3RoaXMubV92ZXJ0ZXhJbmRleExpc3QuZGVsZXRlRWxlbWVudCh0KSx0aGlzLm1fcG9pbnRDb3VudC0tO2ZvcihsZXQgcz0wLG49dGhpcy5tX2luZGljZXMubGVuZ3RoO3M8bjtzKyspe2lmKHM9PT10aGlzLm1fc2VsZWN0aW9uSW5kZXgpY29udGludWU7Y29uc3QgdD10aGlzLm1faW5kaWNlc1tzXTtudWxsIT09dCYmdC5zaXplKCk+ZSYmdC53cml0ZShlLC0xKX10aGlzLm1fd2VpZ2h0cyYmdGhpcy5tX3dlaWdodHMuc2l6ZSgpPmUmJnRoaXMubV93ZWlnaHRzLndyaXRlKGUsMSksdGhpcy5tX3JhbmtzJiZ0aGlzLm1fcmFua3Muc2l6ZSgpPmUmJnRoaXMubV9yYW5rcy53cml0ZShlLGdyKSx0aGlzLm1fc2VnbWVudFdlaWdodHMmJnRoaXMubV9zZWdtZW50V2VpZ2h0cy5zaXplKCk+ZSYmdGhpcy5tX3NlZ21lbnRXZWlnaHRzLndyaXRlKGUsMSksdGhpcy5tX3NlZ21lbnRSYW5rcyYmdGhpcy5tX3NlZ21lbnRSYW5rcy5zaXplKCk+ZSYmdGhpcy5tX3NlZ21lbnRSYW5rcy53cml0ZShlLGdyKSx0aGlzLm1fc2VnbWVudHMmJnRoaXMuc2V0U2VnbWVudFRvSW5kZXgoZSxudWxsKX1pbnNlcnRWZXJ0ZXhfKHQsZSxzLG4pe3RoaXMubV9oYXNGb3JjZVNldEVudmVsb3BlPTA7Y29uc3QgaT1lIT09Y3I/dGhpcy5nZXRQcmV2VmVydGV4KGUpOnRoaXMuZ2V0TGFzdFZlcnRleCh0KSxyPWkhPT1jcj90aGlzLmdldE5leHRWZXJ0ZXgoaSk6Y3Isbz10aGlzLm5ld1ZlcnRleChudWxsPT09cz90aGlzLm1fcG9pbnRDb3VudDotMSksYT10aGlzLmdldFZlcnRleEluZGV4KG8pO251bGwhPT1zJiZ0aGlzLm1fdmVydGljZXMuc2V0UG9pbnRCeVZhbE5vQ3VydmVzKGEscyksdGhpcy5zZXRQYXRoVG9WZXJ0ZXgobyx0KSx0aGlzLnNldE5leHRWZXJ0ZXgobyxyKSx0aGlzLnNldFByZXZWZXJ0ZXgobyxpKSxyIT09Y3ImJnRoaXMuc2V0UHJldlZlcnRleChyLG8pLGkhPT1jciYmdGhpcy5zZXROZXh0VmVydGV4KGksbyk7Y29uc3QgaD10aGlzLmlzQ2xvc2VkUGF0aCh0KSx1PXRoaXMuZ2V0Rmlyc3RWZXJ0ZXgodCk7ZT09PWNyJiZ0aGlzLnNldExhc3RWZXJ0ZXgodCxvKSxlPT09dSYmKGgmJm4mJnUhPT1jcnx8dGhpcy5zZXRGaXJzdFZlcnRleCh0LG8pKSxoJiZyPT09Y3ImJih0aGlzLnNldE5leHRWZXJ0ZXgobyxvKSx0aGlzLnNldFByZXZWZXJ0ZXgobyxvKSksdGhpcy5zZXRQYXRoU2l6ZSh0LHRoaXMuZ2V0UGF0aFNpemUodCkrMSk7Y29uc3QgbT10aGlzLmdldEdlb21ldHJ5RnJvbVBhdGgodCk7cmV0dXJuIHRoaXMuc2V0R2VvbWV0cnlWZXJ0ZXhDb3VudChtLHRoaXMuZ2V0UG9pbnRDb3VudChtKSsxKSxvfWdldEhlbHBlclBvaW50KCl7cmV0dXJuIHRoaXMubV9oZWxwZXJQb2ludHx8KHRoaXMubV9oZWxwZXJQb2ludD1uZXcgcSh7dmQ6dGhpcy5tX3ZlcnRpY2VzLmdldERlc2NyaXB0aW9uKCl9KSx0aGlzLm1faGVscGVyUG9pbnQuc2V0WFlDb29yZHMoMCwwKSksdGhpcy5tX2hlbHBlclBvaW50fWFkZE11bHRpUG9pbnQodCxlKXtjb25zdCBzPXRoaXMuY3JlYXRlR2VvbWV0cnkodC5nZXRHZW9tZXRyeVR5cGUoKSx0LmdldERlc2NyaXB0aW9uKCkpO3JldHVybiB0aGlzLmFwcGVuZE11bHRpUG9pbnQocyx0LGUpLHN9YWRkUG9pbnRfKHQsZSl7Y29uc3Qgcz10aGlzLmNyZWF0ZUdlb21ldHJ5KGkuZW51bU11bHRpUG9pbnQsdC5nZXREZXNjcmlwdGlvbigpKTtyZXR1cm4gdGhpcy5hcHBlbmRQb2ludChzLHQsZSksc31hcHBlbmRNdWx0aVBhdGhfKHQsZSl7aWYoZS5pc0VtcHR5KCkpcmV0dXJuO2NvbnN0IHM9ZS5nZXRJbXBsKCk7dGhpcy5tX3ZlcnRpY2VzLnJlc2VydmVSb3VuZGVkKHRoaXMubV92ZXJ0aWNlcy5nZXRQb2ludENvdW50KCkrcy5nZXRQb2ludENvdW50KCkpLHRoaXMubV92ZXJ0aWNlc01wLmFkZFBvaW50cyhlLDAscy5nZXRQb2ludENvdW50KCkpLHRoaXMubV94eVN0cmVhbT10aGlzLm1fdmVydGljZXMuZ2V0QXR0cmlidXRlU3RyZWFtUmVmKDApO2NvbnN0IG49bnVsbCE9PXRoaXMubV9zZWdtZW50c3x8bnVsbCE9PXMuZ2V0U2VnbWVudEZsYWdzU3RyZWFtUmVmKCk7dGhpcy5tX3ZlcnRleEluZGV4TGlzdC5zZXRDYXBhY2l0eSh0aGlzLm1fdmVydGV4SW5kZXhMaXN0LnNpemUoKStzLmdldFBvaW50Q291bnQoKSksdGhpcy5tX3BhdGhJbmRleExpc3Quc2V0Q2FwYWNpdHkodGhpcy5tX3BhdGhJbmRleExpc3Quc2l6ZSgpK3MuZ2V0UGF0aENvdW50KCkpO2ZvcihsZXQgaT0wLHI9cy5nZXRQYXRoQ291bnQoKTtpPHI7aSsrKXtpZigwPT09cy5nZXRQYXRoU2l6ZShpKSljb250aW51ZTtjb25zdCBlPXRoaXMuaW5zZXJ0UGF0aCh0LGNyKTt0aGlzLnNldENsb3NlZFBhdGgoZSxzLmlzQ2xvc2VkUGF0aChpKSk7Zm9yKGxldCB0PXMuZ2V0UGF0aFN0YXJ0KGkpLHI9cy5nZXRQYXRoRW5kKGkpO3Q8cjt0Kyspe2NvbnN0IGk9dGhpcy5pbnNlcnRWZXJ0ZXhfKGUsY3IsbnVsbCwhMSk7aWYobil7Y29uc3QgZT10aGlzLmdldFZlcnRleEluZGV4KGkpO2lmKDEmcy5nZXRTZWdtZW50RmxhZ3ModCkpdGhpcy5zZXRTZWdtZW50VG9JbmRleChlLG51bGwpO2Vsc2V7Y29uc3Qgbj1uZXcgZm07cy5xdWVyeVNlZ21lbnQodCxuLCEwKSx0aGlzLnNldFNlZ21lbnRUb0luZGV4KGUsbi5yZWxlYXNlU2VnbWVudCgpKX19fXMuaXNTdHJvbmdQYXRoU3RhcnQoaSkmJnRoaXMuc2V0U3Ryb25nUGF0aFN0YXJ0KGUsITApLHMuaXNTdHJvbmdQYXRoRW5kKGkpJiZ0aGlzLnNldFN0cm9uZ1BhdGhFbmQoZSwhMCl9fWFkZE11bHRpUGF0aCh0LGUpe2NvbnN0IHM9dGhpcy5jcmVhdGVHZW9tZXRyeSh0LmdldEdlb21ldHJ5VHlwZSgpLHQuZ2V0RGVzY3JpcHRpb24oKSk7cmV0dXJuIHQuZ2V0R2VvbWV0cnlUeXBlKCk9PT1pLmVudW1Qb2x5Z29uJiZ0aGlzLnNldEZpbGxSdWxlKHMsdC5nZXRGaWxsUnVsZSgpKSx0aGlzLmFwcGVuZE11bHRpUGF0aChzLHQsZSksc31hcHBlbmRNdWx0aVBhdGhQb2x5bGluZSh0LGUscyl7Y29uc3Qgbj1lLmdldEltcGwoKSxpPW51bGwhPT10aGlzLm1fc2VnbWVudHN8fG51bGwhPT1uLmdldFNlZ21lbnRGbGFnc1N0cmVhbVJlZigpLHI9bmV3IG1lO2UucXVlcnlFbnZlbG9wZShyKTt7Y29uc3Qgcj1zLmNsb25lKCk7bGV0IG89bi5nZXRQb2ludENvdW50KCk7Y29uc3QgYT1uLmdldEFjY2VsZXJhdG9ycygpO2lmKGEmJmEuZ2V0UXVhZFRyZWUoKSl7bz1hLmdldFF1YWRUcmVlKCkuZ2V0SW50ZXJzZWN0aW9uQ291bnQociwwLG4uZ2V0UG9pbnRDb3VudCgpKzEpfWlmKG88ZS5nZXRQb2ludENvdW50KCkpe2lmKDA9PT1vKXJldHVybjtjb25zdCBzPW4ucXVlcnlMaW1pdGVkU2VnbWVudEl0ZXJhdG9yKHIpO2xldCBhPS0xLGg9LTEwMCx1PS0xLG09MCxsPS0xLGM9Y3IsZz0hMSxkPXMubmV4dFNlZ21lbnQoKTtpZihudWxsIT09ZClmb3IoOztkPXMubmV4dFNlZ21lbnQoKSl7bGV0IHI9bnVsbD09PWQ7Y29uc3Qgbz1udWxsIT09ZD9zLmdldFBhdGhJbmRleCgpOmEsXz1udWxsIT09ZD9zLmdldFN0YXJ0UG9pbnRJbmRleCgpOmg7aWYocnx8KGE9PT1vJiZoKzE9PT1fP20rKzpyPSEwKSxyKXtpZigtMSE9PWwpe2xldCB0PS0xLHM9LTE7aWYobT09PXUpe3RoaXMuc2V0Q2xvc2VkUGF0aChjLGcpO2NvbnN0IGk9bi5nZXRQYXRoRW5kKGEpO3RoaXMubV92ZXJ0aWNlcy5yZXNlcnZlUm91bmRlZCh0aGlzLm1fdmVydGljZXMuZ2V0UG9pbnRDb3VudCgpK2ktbCksdGhpcy5tX3ZlcnRpY2VzTXAuYWRkUG9pbnRzKGUsbCxpKSxzPW4uZ2V0UGF0aFNpemUoYSksdD1pLTF9ZWxzZSBpZighZ3x8aCsxPG4uZ2V0UGF0aEVuZChhKSl0aGlzLm1fdmVydGljZXMucmVzZXJ2ZVJvdW5kZWQodGhpcy5tX3ZlcnRpY2VzLmdldFBvaW50Q291bnQoKStoKzItbCksdGhpcy5tX3ZlcnRpY2VzTXAuYWRkUG9pbnRzKGUsbCxoKzIpLHM9aC1sKzIsdD1oO2Vsc2V7dGhpcy5tX3ZlcnRpY2VzLnJlc2VydmVSb3VuZGVkKHRoaXMubV92ZXJ0aWNlcy5nZXRQb2ludENvdW50KCkraCsyLWwpLHRoaXMubV92ZXJ0aWNlc01wPy5hZGRQb2ludHMoZSxsLGgrMSksdD1oLHM9aC1sKzE7Y29uc3QgaT1uLmdldFBhdGhTdGFydChhKTt0aGlzLm1fdmVydGljZXNNcC5hZGRQb2ludHMoZSxpLGkrMSkscys9MX10aGlzLm1feHlTdHJlYW09dGhpcy5tX3ZlcnRpY2VzLmdldEF0dHJpYnV0ZVN0cmVhbVJlZigwKTtmb3IobGV0IGU9MCxyPWw7ZTxzO2UrKyxyKyspe2NvbnN0IGU9dGhpcy5pbnNlcnRWZXJ0ZXhfKGMsY3IsbnVsbCwhMSk7aWYoaSl7Y29uc3Qgcz10aGlzLmdldFZlcnRleEluZGV4KGUpO2lmKDEmbi5nZXRTZWdtZW50RmxhZ3Mocil8fHI+dCl0aGlzLnNldFNlZ21lbnRUb0luZGV4KHMsbnVsbCk7ZWxzZXtjb25zdCB0PW5ldyBmbTtuLmdldFNlZ21lbnRCdWZmZXIocix0LCEwKSx0aGlzLnNldFNlZ21lbnRUb0luZGV4KHMsdC5yZWxlYXNlU2VnbWVudCgpKX19fX1pZihudWxsPT09ZClicmVhazttPTEsbD1fLGEhPT1vPyhjPXRoaXMuaW5zZXJ0UGF0aCh0LGNyKSx0aGlzLnNldENsb3NlZFBhdGgoYywhMSksdT1uLmdldFNlZ21lbnRDb3VudFBhdGgobyksZz1uLmlzQ2xvc2VkUGF0aChvKSxhPW8pOmM9dGhpcy5pbnNlcnRQYXRoKHQsY3IpfWg9X31yZXR1cm59fXRoaXMuYXBwZW5kTXVsdGlQYXRoXyh0LGUpfWFwcGVuZE11bHRpUGF0aFBvbHlnb24odCxlLG4pe2NvbnN0IGk9ZS5nZXRJbXBsKCkscj1udWxsIT09dGhpcy5tX3NlZ21lbnRzfHxudWxsIT09aS5nZXRTZWdtZW50RmxhZ3NTdHJlYW1SZWYoKSxvPW1lLmNvbnN0cnVjdEVtcHR5KCk7ZS5xdWVyeUVudmVsb3BlKG8pLHMobi5pc0ludGVyc2VjdGluZyhvKSYmIW4uY29udGFpbnNFbnZlbG9wZShvKSk7bGV0IGE9bWUuY29uc3RydWN0KE51bWJlci5ORUdBVElWRV9JTkZJTklUWSxuLnltaW4sTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZLG4ueW1heCksaD1tZS5jb25zdHJ1Y3Qobi54bWluLE51bWJlci5ORUdBVElWRV9JTkZJTklUWSxuLnhtYXgsTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZKTtjb25zdCB1PWkuZ2V0QWNjZWxlcmF0b3JzKCk7aWYodSYmdS5nZXRRdWFkVHJlZSgpKXtjb25zdCB0PXUuZ2V0UXVhZFRyZWUoKSxlPXQuZ2V0SW50ZXJzZWN0aW9uQ291bnQoYSwwLDApO2U+dC5nZXRJbnRlcnNlY3Rpb25Db3VudChoLDAsZSsxKSYmKGg9ZXQoYSxhPWgpKX1lbHNlIGEuaGVpZ2h0KCk+aC53aWR0aCgpJiYoaD1ldChhLGE9aCkpO2NvbnN0IG09W10sbD1pLnF1ZXJ5TGltaXRlZFNlZ21lbnRJdGVyYXRvcihhKTtsZXQgYz0tMSxnPS0xMDAsZD0tMSxfPTAscD0tMSxmPS0xLFA9Y3IseT0hMCx4PWwubmV4dFNlZ21lbnQoKTtpZihudWxsIT09eClmb3IoOzt4PWwubmV4dFNlZ21lbnQoKSl7bGV0IG49bnVsbD09PXg7Y29uc3Qgbz1udWxsIT09eD9sLmdldFBhdGhJbmRleCgpOmMsYT1udWxsIT09eD9sLmdldFN0YXJ0UG9pbnRJbmRleCgpOmc7aWYobnx8KG89PT1jP2crMT09PWE/XysrOm49ITA6KG49Yz49MCxjPDAmJihjPW8sZD1pLmdldFNlZ21lbnRDb3VudFBhdGgoYykscD1hLFA9Y3IsXz0xKSkpLG4pe2lmKCEoMD09PW0ubGVuZ3RoJiZkPT09XykpezAhPT1tLmxlbmd0aCYmbVswXS5maXJzdD09PXB8fCh0aGlzLm1fdmVydGljZXMucmVzZXJ2ZVJvdW5kZWQodGhpcy5tX3ZlcnRpY2VzLmdldFBvaW50Q291bnQoKSsxKSx0aGlzLm1fdmVydGljZXNNcC5hZGRQb2ludHMoZSxwLHArMSksLTE9PT1mJiYoZj1wKSxQPT09Y3ImJihQPXRoaXMuaW5zZXJ0UGF0aCh0LGNyKSx0aGlzLnNldENsb3NlZFBhdGgoUCwhMCkpLHRoaXMubV94eVN0cmVhbT10aGlzLm1fdmVydGljZXMuZ2V0QXR0cmlidXRlU3RyZWFtUmVmKDApLHRoaXMuaW5zZXJ0VmVydGV4XyhQLGNyLG51bGwsITEpKTtmb3IoY29uc3R7Zmlyc3Q6bixzZWNvbmQ6b31vZiBtKXstMT09PWYmJihmPW4pO2xldCBhPS0xLGg9LTE7Y29uc3QgdT1uK28tMTtpZihvPT09ZCl7Y29uc3QgdD11KzE7aD10LW4sdGhpcy5tX3ZlcnRpY2VzLnJlc2VydmVSb3VuZGVkKHRoaXMubV92ZXJ0aWNlcy5nZXRQb2ludENvdW50KCkraCksdGhpcy5tX3ZlcnRpY2VzTXAuYWRkUG9pbnRzKGUsbix0KSxhPXUscygxPT09bS5sZW5ndGgpfWVsc2UgaWYodSsxPGkuZ2V0UGF0aEVuZChjKSl7Y29uc3QgdD11KzI7aD10LW4sdGhpcy5tX3ZlcnRpY2VzLnJlc2VydmVSb3VuZGVkKHRoaXMubV92ZXJ0aWNlcy5nZXRQb2ludENvdW50KCkraCksdGhpcy5tX3ZlcnRpY2VzTXAuYWRkUG9pbnRzKGUsbix0KSxhPXV9ZWxzZXtjb25zdCB0PWkuZ2V0UGF0aFN0YXJ0KGMpLHM9dCE9PWY/MTowLHI9dSsxO2g9ci1uK3MsdGhpcy5tX3ZlcnRpY2VzLnJlc2VydmVSb3VuZGVkKHRoaXMubV92ZXJ0aWNlcy5nZXRQb2ludENvdW50KCkrKHItbikrcyksdGhpcy5tX3ZlcnRpY2VzTXAuYWRkUG9pbnRzKGUsbixyKSxhPXUscz4wJiZ0aGlzLm1fdmVydGljZXNNcD8uYWRkUG9pbnRzKGUsdCx0KzEpfXRoaXMubV94eVN0cmVhbT10aGlzLm1fdmVydGljZXMuZ2V0QXR0cmlidXRlU3RyZWFtUmVmKDApLFA9PT1jciYmKFA9dGhpcy5pbnNlcnRQYXRoKHQsY3IpLHRoaXMuc2V0Q2xvc2VkUGF0aChQLCEwKSk7Zm9yKGxldCB0PTAsZT1uO3Q8aDt0KyssZSsrKXtjb25zdCB0PXRoaXMuaW5zZXJ0VmVydGV4XyhQLGNyLG51bGwsITEpO2lmKHIpe2NvbnN0IHM9dGhpcy5nZXRWZXJ0ZXhJbmRleCh0KTtpZigxJmkuZ2V0U2VnbWVudEZsYWdzKGUpfHxlPmEpdGhpcy5zZXRTZWdtZW50VG9JbmRleChzLG51bGwpO2Vsc2V7Y29uc3QgdD1uZXcgZm07aS5nZXRTZWdtZW50QnVmZmVyKGUsdCwhMCksdGhpcy5zZXRTZWdtZW50VG9JbmRleChzLHQucmVsZWFzZVNlZ21lbnQoKSl9fX19aWYoMD09PW0ubGVuZ3RofHxtLmF0KC0xKS5maXJzdCttLmF0KC0xKS5zZWNvbmQhPT1wK18pe2xldCB0PXArXzt0PT09ZS5nZXRQYXRoRW5kKGMpJiYodD1lLmdldFBhdGhTdGFydChjKSksZiE9PXQmJih0aGlzLm1fdmVydGljZXMucmVzZXJ2ZVJvdW5kZWQodGhpcy5tX3ZlcnRpY2VzLmdldFBvaW50Q291bnQoKSsxKSx0aGlzLm1fdmVydGljZXNNcC5hZGRQb2ludHMoZSx0LHQrMSksdGhpcy5pbnNlcnRWZXJ0ZXhfKFAsY3IsbnVsbCwhMSkpfX1tLmxlbmd0aD0wLHk9ITAsbyE9PWMmJihjPW8sZD1pLmdldFNlZ21lbnRDb3VudFBhdGgoYyksUD1jcixmPS0xKSxwPWEsXz0xfWlmKCF4KWJyZWFrO3tjb25zdCB0PW1lLmNvbnN0cnVjdEVtcHR5KCk7eC5xdWVyeUxvb3NlRW52ZWxvcGUodCksaC5pc0ludGVyc2VjdGluZyh0KT8oeT9tLnB1c2goTXQoYSwxKSk6bS5hdCgtMSkuc2Vjb25kKysseT0hMSk6eT0hMH1nPWF9fWFwcGVuZE11bHRpUGF0aCh0LGUscyl7aWYodm9pZCAwPT09cylyZXR1cm4gdm9pZCB0aGlzLmFwcGVuZE11bHRpUGF0aF8odCxlKTtpZihlLmlzRW1wdHkoKSlyZXR1cm47Y29uc3Qgbj1lLmdldEdlb21ldHJ5VHlwZSgpPT09aS5lbnVtUG9seWdvbixyPW1lLmNvbnN0cnVjdEVtcHR5KCk7ZS5xdWVyeUVudmVsb3BlKHIpLHMuaXNJbnRlcnNlY3RpbmcocikmJighcy5jb250YWluc0VudmVsb3BlKHIpJiZlLmdldFBvaW50Q291bnQoKT4xMD9uP3RoaXMuYXBwZW5kTXVsdGlQYXRoUG9seWdvbih0LGUscyk6dGhpcy5hcHBlbmRNdWx0aVBhdGhQb2x5bGluZSh0LGUscyk6dGhpcy5hcHBlbmRNdWx0aVBhdGhfKHQsZSkpfWFwcGVuZFBvaW50KHQsZSxzKXtpZihlLmlzRW1wdHkoKSlyZXR1cm47aWYodm9pZCAwIT09cyYmIXMuY29udGFpbnMoZS5nZXRYWSgpKSlyZXR1cm47dGhpcy5tX3ZlcnRpY2VzLnJlc2VydmVSb3VuZGVkKHRoaXMubV92ZXJ0aWNlcy5nZXRQb2ludENvdW50KCkrMSksdGhpcy5tX3ZlcnRpY2VzTXAuYWRkKGUpLHRoaXMubV94eVN0cmVhbT10aGlzLm1fdmVydGljZXMuZ2V0QXR0cmlidXRlU3RyZWFtUmVmKDApLHRoaXMubV92ZXJ0ZXhJbmRleExpc3Quc2V0Q2FwYWNpdHkodGhpcy5tX3ZlcnRleEluZGV4TGlzdC5zaXplKCkrMSk7Y29uc3Qgbj10aGlzLmluc2VydFBhdGgodCxjcik7dGhpcy5pbnNlcnRWZXJ0ZXhfKG4sY3IsbnVsbCwhMSl9YXBwZW5kTXVsdGlQb2ludF8odCxlKXt0aGlzLm1fdmVydGljZXMucmVzZXJ2ZVJvdW5kZWQodGhpcy5tX3ZlcnRpY2VzLmdldFBvaW50Q291bnQoKStlLmdldFBvaW50Q291bnQoKSksdGhpcy5tX3ZlcnRpY2VzTXAuYWRkUG9pbnRzKGUsMCxlLmdldFBvaW50Q291bnQoKSksdGhpcy5tX3h5U3RyZWFtPXRoaXMubV92ZXJ0aWNlcy5nZXRBdHRyaWJ1dGVTdHJlYW1SZWYoMCksdGhpcy5tX3ZlcnRleEluZGV4TGlzdC5zZXRDYXBhY2l0eSh0aGlzLm1fdmVydGV4SW5kZXhMaXN0LnNpemUoKStlLmdldFBvaW50Q291bnQoKSk7Y29uc3Qgcz10aGlzLmluc2VydFBhdGgodCxjcik7Zm9yKGxldCBuPTAsaT1lLmdldFBvaW50Q291bnQoKTtuPGk7bisrKXRoaXMuaW5zZXJ0VmVydGV4XyhzLGNyLG51bGwsITEpfWFwcGVuZE11bHRpUG9pbnQodCxlLHMpe2lmKHZvaWQgMD09PXMpcmV0dXJuIHZvaWQgdGhpcy5hcHBlbmRNdWx0aVBvaW50Xyh0LGUpO2NvbnN0IG49ZS5nZXRBdHRyaWJ1dGVTdHJlYW1SZWYoMCk7bGV0IGk9MDtmb3IobGV0IHU9MCxtPWUuZ2V0UG9pbnRDb3VudCgpO3U8bTt1Kyspe2NvbnN0IHQ9bi5yZWFkUG9pbnQyRCgyKnUpO3MuY29udGFpbnModCkmJmkrK310aGlzLm1fdmVydGljZXMucmVzZXJ2ZVJvdW5kZWQodGhpcy5tX3ZlcnRpY2VzLmdldFBvaW50Q291bnQoKStpKTtsZXQgcj0tMSxvPS0xLGE9MDtmb3IobGV0IHU9MCxtPWUuZ2V0UG9pbnRDb3VudCgpO3U8bTt1Kyspe2NvbnN0IHQ9bi5yZWFkUG9pbnQyRCgyKnUpO3MuY29udGFpbnModCk/KC0xPT09ciYmKHI9dSxvPXUpLG8rKyk6cj49MCYmKHRoaXMubV92ZXJ0aWNlc01wLmFkZFBvaW50cyhlLHIsby1yKSxyPS0xLGErKyl9aWYocj4wJiYodGhpcy5tX3ZlcnRpY2VzTXAuYWRkUG9pbnRzKGUscixvLXIpLGErKyksIWEpcmV0dXJuO3RoaXMubV94eVN0cmVhbT10aGlzLm1fdmVydGljZXMuZ2V0QXR0cmlidXRlU3RyZWFtUmVmKDApLHRoaXMubV92ZXJ0ZXhJbmRleExpc3Quc2V0Q2FwYWNpdHkodGhpcy5tX3ZlcnRleEluZGV4TGlzdC5zaXplKCkraSk7Y29uc3QgaD10aGlzLmluc2VydFBhdGgodCxjcik7Zm9yKGxldCB1PTAsbT1lLmdldFBvaW50Q291bnQoKTt1PG07dSsrKXtjb25zdCB0PW4ucmVhZFBvaW50MkQoMip1KTtzLmNvbnRhaW5zKHQpJiZ0aGlzLmluc2VydFZlcnRleF8oaCxjcixudWxsLCExKX19c3BsaXRTZWdtZW50Rm9yd2FyZCh0LHMsbixyLG8pe2NvbnN0IGE9dGhpcy5nZXROZXh0VmVydGV4KHQpO2E9PT1jciYmZShcIkVkaXRfc2hhcGUuc3BsaXRfc2VnbWVudF9mb3J3YXJkX1wiKTtjb25zdCBoPXRoaXMuZ2V0SGVscGVyUG9pbnQoKSx1PXRoaXMuZ2V0UGF0aEZyb21WZXJ0ZXgodCk7bGV0IG09dDtjb25zdCBsPXRoaXMuaGFzU2VnbWVudFBhcmVudGFnZSgpO2ZvcihsZXQgZT0wLGM9cy5nZXRSZXN1bHRTZWdtZW50Q291bnQobik7ZTxjO2UrKyl7Y29uc3QgdD10aGlzLmdldFZlcnRleEluZGV4KG0pLHI9dGhpcy5nZXROZXh0VmVydGV4KG0pLGc9cy5nZXRSZXN1bHRTZWdtZW50KG4sZSk7bGV0IGQ9bnVsbDtpZihnLmdldEdlb21ldHJ5VHlwZSgpIT09aS5lbnVtTGluZSYmKGQ9Zy5jbG9uZSgpLGQuZHJvcEFsbEF0dHJpYnV0ZXMoKSksMD09PWUmJihnLnF1ZXJ5U3RhcnQoaCksdGhpcy5zZXRTZWdtZW50VG9JbmRleCh0LG51bGwpLHRoaXMuc2V0UG9pbnRFeChtLGgscy5nZXRSZXN1bHRTZWdtZW50U3RhcnRQb2ludFJhbmsobixlKSxzLmdldFJlc3VsdFNlZ21lbnRTdGFydFBvaW50V2VpZ2h0KG4sZSksbykpLHRoaXMuc2V0U2VnbWVudFJhbmsobSxzLmdldFJlc3VsdFNlZ21lbnRJbnRlcmlvclJhbmsobixlKSksdGhpcy5zZXRTZWdtZW50V2VpZ2h0KG0scy5nZXRSZXN1bHRTZWdtZW50SW50ZXJpb3JXZWlnaHQobixlKSksbCl7Y29uc3QgdD1zLmdldFJlc3VsdFNlZ21lbnRTZWdtZW50UGFyZW50YWdlKG4sZSksaT1zLmdldFJlc3VsdFNlZ21lbnRTdGFydFBvaW50SXNCcmVhayhuLGUpO3RoaXMuc2V0U2VnbWVudFBhcmVudGFnZUFuZEJyZWFrKG0sdCxpKX1pZihnLnF1ZXJ5RW5kKGgpLGU8Yy0xKXt0aGlzLnNldFNlZ21lbnRUb0luZGV4KHQsZCk7Y29uc3QgaT10aGlzLmluc2VydFZlcnRleCh1LHIsaCk7dGhpcy5zZXRXZWlnaHQoaSxzLmdldFJlc3VsdFNlZ21lbnRFbmRQb2ludFdlaWdodChuLGUpKSx0aGlzLnNldFJhbmsoaSxzLmdldFJlc3VsdFNlZ21lbnRFbmRQb2ludFJhbmsobixlKSksdGhpcy5zZWxlY3QoaSksbT1pfWVsc2V7dGhpcy5zZXRQb2ludEV4KGEsaCxzLmdldFJlc3VsdFNlZ21lbnRFbmRQb2ludFJhbmsobixlKSxzLmdldFJlc3VsdFNlZ21lbnRFbmRQb2ludFdlaWdodChuLGUpLG8pO2NvbnN0IGk9cy5nZXRSZXN1bHRTZWdtZW50RW5kUG9pbnRJc0JyZWFrKG4sZSk7dGhpcy5zZXRTZWdtZW50UGFyZW50YWdlQnJlYWtWZXJ0ZXgoYSxpKSx0aGlzLnNldFNlZ21lbnRUb0luZGV4KHQsZCl9fX1zcGxpdFNlZ21lbnRCYWNrd2FyZCh0LHMsbixyLG8pe2NvbnN0IGE9dGhpcy5nZXROZXh0VmVydGV4KHQpO2E9PT1jciYmZShcIkVkaXRfc2hhcGUuc3BsaXRfc2VnbWVudF9iYWNrd2FyZF9cIik7Y29uc3QgaD10aGlzLmdldEhlbHBlclBvaW50KCksdT10aGlzLmdldFBhdGhGcm9tVmVydGV4KHQpO2xldCBtPXQ7Y29uc3QgbD10aGlzLmhhc1NlZ21lbnRQYXJlbnRhZ2UoKTtmb3IobGV0IGU9MCxjPXMuZ2V0UmVzdWx0U2VnbWVudENvdW50KG4pO2U8YztlKyspe2NvbnN0IHQ9Yy1lLTEscj10aGlzLmdldFZlcnRleEluZGV4KG0pLGc9dGhpcy5nZXROZXh0VmVydGV4KG0pLGQ9cy5nZXRSZXN1bHRTZWdtZW50KG4sdCk7bGV0IF89bnVsbDtpZihkLmdldEdlb21ldHJ5VHlwZSgpIT09aS5lbnVtTGluZSYmKF89ZC5jbG9uZSgpLF8ucmV2ZXJzZSgpLF8uZHJvcEFsbEF0dHJpYnV0ZXMoKSksMD09PWUmJihkLnF1ZXJ5RW5kKGgpLHRoaXMuc2V0U2VnbWVudFRvSW5kZXgocixudWxsKSx0aGlzLnNldFBvaW50RXgobSxoLHMuZ2V0UmVzdWx0U2VnbWVudEVuZFBvaW50UmFuayhuLHQpLHMuZ2V0UmVzdWx0U2VnbWVudEVuZFBvaW50V2VpZ2h0KG4sdCksbyksdGhpcy5zZXRTZWdtZW50UGFyZW50YWdlQW5kQnJlYWsobSxzLmdldFJlc3VsdFNlZ21lbnRTZWdtZW50UGFyZW50YWdlKG4sdCkscy5nZXRSZXN1bHRTZWdtZW50RW5kUG9pbnRJc0JyZWFrKG4sdCkpKSxkLmdldEdlb21ldHJ5VHlwZSgpPT09aS5lbnVtTGluZT90aGlzLnNldFNlZ21lbnRUb0luZGV4KHIsbnVsbCk6dGhpcy5zZXRTZWdtZW50VG9JbmRleChyLF8pLHRoaXMuc2V0U2VnbWVudFJhbmsobSxzLmdldFJlc3VsdFNlZ21lbnRJbnRlcmlvclJhbmsobix0KSksdGhpcy5zZXRTZWdtZW50V2VpZ2h0KG0scy5nZXRSZXN1bHRTZWdtZW50SW50ZXJpb3JXZWlnaHQobix0KSksZC5xdWVyeVN0YXJ0KGgpLGU8Yy0xKXtjb25zdCBlPXRoaXMuaW5zZXJ0VmVydGV4KHUsZyxoKTt0aGlzLnNldFdlaWdodChlLHMuZ2V0UmVzdWx0U2VnbWVudFN0YXJ0UG9pbnRXZWlnaHQobix0KSksdGhpcy5zZXRSYW5rKGUscy5nZXRSZXN1bHRTZWdtZW50U3RhcnRQb2ludFJhbmsobix0KSksdGhpcy5zZWxlY3QoZSksbT1lLGwmJnRoaXMuc2V0U2VnbWVudFBhcmVudGFnZUFuZEJyZWFrKGUscy5nZXRSZXN1bHRTZWdtZW50U2VnbWVudFBhcmVudGFnZShuLHQpLHMuZ2V0UmVzdWx0U2VnbWVudEVuZFBvaW50SXNCcmVhayhuLHQpKX1lbHNlIHRoaXMuc2V0UG9pbnRFeChhLGgscy5nZXRSZXN1bHRTZWdtZW50U3RhcnRQb2ludFJhbmsobix0KSxzLmdldFJlc3VsdFNlZ21lbnRTdGFydFBvaW50V2VpZ2h0KG4sdCksbyl9fXNlbGVjdGVkXyh0KXtyZXR1cm4gdGhpcy5nZXRVc2VySW5kZXgodCx0aGlzLm1fc2VsZWN0aW9uSW5kZXgpPj0wfWFsbG9jYXRlSW5kZXgodD0hMCl7aWYodGhpcy5tX2RlbGV0ZWRJbmRpY2VzLmxlbmd0aCl7Y29uc3QgZT10aGlzLm1fZGVsZXRlZEluZGljZXMucG9wKCk7cmV0dXJuIHQmJmUuc2V0UmFuZ2UoLTEsMCxlLnNpemUoKSksZX1yZXR1cm4gdD9WKDAsLTEpOlYoMCl9cmVjeWNsZVVzZXJJbmRleCh0KXt0aGlzLm1fZGVsZXRlZEluZGljZXMucHVzaCh0KX1hbGxvY2F0ZVBhdGhJbmRleCgpe2lmKHRoaXMubV9kZWxldGVkUGF0aEluZGljZXMubGVuZ3RoKXtjb25zdCB0PXRoaXMubV9kZWxldGVkUGF0aEluZGljZXMuYXQoLTEpO3JldHVybiB0aGlzLm1fZGVsZXRlZFBhdGhJbmRpY2VzLnBvcCgpLHR9cmV0dXJuIFYoMCl9cmVjeWNsZVBhdGhVc2VySW5kZXgodCl7dGhpcy5tX2RlbGV0ZWRQYXRoSW5kaWNlcy5wdXNoKHQpfXBlZWxBTG9vcF8odCxlLHMpe2NvbnN0IG49dGhpcy5nZXROZXh0VmVydGV4KHQpLGk9dGhpcy5nZXROZXh0VmVydGV4KGUpLHI9dGhpcy5nZXRWZXJ0ZXhJbmRleCh0KSxvPXRoaXMuZ2V0VmVydGV4SW5kZXgoZSk7aWYodGhpcy5zZXROZXh0VmVydGV4KHQsaSksdGhpcy5zZXRQcmV2VmVydGV4KGksdCksdGhpcy5zZXROZXh0VmVydGV4KGUsbiksdGhpcy5zZXRQcmV2VmVydGV4KG4sZSksdGhpcy5tX3NlZ21lbnRzKXtjb25zdCB0PXRoaXMuZ2V0U2VnbWVudEZyb21JbmRleChyKSxlPXRoaXMuZ2V0U2VnbWVudEZyb21JbmRleChvKTt0aGlzLnNldFNlZ21lbnRUb0luZGV4KG8sbnVsbCksdGhpcy5zZXRTZWdtZW50VG9JbmRleChyLGUpLHRoaXMuc2V0U2VnbWVudFRvSW5kZXgobyx0KX1pZih0aGlzLmhhc1NlZ21lbnRQYXJlbnRhZ2UoKSl7bGV0IHM9dGhpcy5nZXRTZWdtZW50UGFyZW50YWdlKGUpLG49dGhpcy5nZXRTZWdtZW50UGFyZW50YWdlKHQpOy0xPT09cyYmLTE9PT1ufHwobj1ldChzLHM9biksdGhpcy5zZXRTZWdtZW50UGFyZW50YWdlQW5kQnJlYWsodCxuKSx0aGlzLnNldFNlZ21lbnRQYXJlbnRhZ2VBbmRCcmVhayhlLHMpKX1pZihzKXtjb25zdCBlPXRoaXMuZ2V0UGF0aEZyb21WZXJ0ZXgodCkscz10aGlzLmdldEdlb21ldHJ5RnJvbVBhdGgoZSkscj1bITFdLG89dGhpcy5pbnNlcnRDbG9zZWRQYXRoKHMsY3Isbix0aGlzLmdldEZpcnN0VmVydGV4KGUpLHIpO3JbMF0mJnRoaXMuc2V0Rmlyc3RWZXJ0ZXgoZSxpKTtsZXQgYT10aGlzLmdldFBhdGhTaXplKGUpO3JldHVybiBhLT10aGlzLmdldFBhdGhTaXplKG8pLHRoaXMuc2V0UGF0aFNpemUoZSxhKSxvfXJldHVybiBjcn1zb3J0VmVydGljZXNTaW1wbGVCeVlIZWxwZXIodCxlLHMpe3Quc29ydChlLHMsKCh0LGUpPT57bGV0IHM9dGhpcy5jb21wYXJlVmVydGljZXNTaW1wbGVZKHQsZSk7aWYoMD09PXMpe2NvbnN0IG49dGhpcy5nZXRQYXRoSW50ZXJuYWxJbmRleEZyb21WZXJ0ZXgodCksaT10aGlzLmdldFBhdGhJbnRlcm5hbEluZGV4RnJvbVZlcnRleChlKTtzPW48aT8tMTpuPmk/MTowfXJldHVybiBzfSkpfXNvcnRWZXJ0aWNlc1NpbXBsZUJ5WUhlbHBlcjNEKHQsZSxuKXtzKDApfWNvbnN0cnVjdG9yKCl7dGhpcy5tX3ZlcnRpY2VzTXA9bnVsbCx0aGlzLm1fdmVydGljZXM9bnVsbCx0aGlzLm1feHlTdHJlYW09bnVsbCx0aGlzLm1fdmVydGV4RGVzY3JpcHRpb249bnVsbCx0aGlzLm1fc2VnbWVudHM9bnVsbCx0aGlzLm1fd2VpZ2h0cz1udWxsLHRoaXMubV9yYW5rcz1udWxsLHRoaXMubV9zZWdtZW50V2VpZ2h0cz1udWxsLHRoaXMubV9zZWdtZW50UmFua3M9bnVsbCx0aGlzLm1faW5kaWNlcz1bXSx0aGlzLm1fZGVsZXRlZEluZGljZXM9W10sdGhpcy5tX3BhdGhBcmVhcz1bXSx0aGlzLm1fcGF0aExlbmd0aHM9W10sdGhpcy5tX3BhdGhpbmRpY2VzPVtdLHRoaXMubV9kZWxldGVkUGF0aEluZGljZXM9W10sdGhpcy5tX2dlb21ldHJ5SW5kaWNlcz1bXSx0aGlzLm1fc2VsZWN0ZWRWZXJ0aWNlcz1bXSx0aGlzLm1faGVscGVyUG9pbnQ9bnVsbCx0aGlzLm1fZm9yY2VTZXRFbnZlbG9wZT1FLmNvbnN0cnVjdEVtcHR5KCksdGhpcy5tX2hhc0ZvcmNlU2V0RW52ZWxvcGU9MCx0aGlzLm1fd29ya1BvaW50MkQ9US5nZXROQU4oKSx0aGlzLm1fd29ya1BvaW50Ml8yRD1RLmdldE5BTigpLHRoaXMubV9jdXJ2ZVN0aXRjaGVyPW51bGwsdGhpcy5tX3BhdGhDb3VudD0wLHRoaXMubV9wb2ludENvdW50PTAsdGhpcy5tX2ZpcnN0R2VvbWV0cnk9Y3IsdGhpcy5tX2xhc3RHZW9tZXRyeT1jcix0aGlzLm1fdmVydGV4SW5kZXhMaXN0PW5ldyBrKDUpLHRoaXMubV9wYXRoSW5kZXhMaXN0PW5ldyBrKDgpLHRoaXMubV9nZW9tZXRyeUluZGV4TGlzdD1uZXcgayg4KSx0aGlzLm1fYkhhc0F0dHJpYnV0ZXM9ITEsdGhpcy5tX3NlbGVjdGVkQ291bnQ9MCx0aGlzLm1fc2VsZWN0aW9uSW5kZXg9LTEsdGhpcy5tX3NlbGVjdGlvbj0hMSx0aGlzLm1fYnVja2V0U29ydD1uZXcgRyx0aGlzLm1fc2VnbWVudFBhcmVudGFnZUluZGV4PS0xfWdldFRvdGFsUG9pbnRDb3VudCgpe3JldHVybiB0aGlzLm1fcG9pbnRDb3VudH1nZXRFbnZlbG9wZTJEKHQpe2lmKDAhPT10aGlzLm1faGFzRm9yY2VTZXRFbnZlbG9wZSlyZXR1cm4gbmV3IG1lKHRoaXMubV9mb3JjZVNldEVudmVsb3BlLnhtaW4sdGhpcy5tX2ZvcmNlU2V0RW52ZWxvcGUueW1pbix0aGlzLm1fZm9yY2VTZXRFbnZlbG9wZS54bWF4LHRoaXMubV9mb3JjZVNldEVudmVsb3BlLnltYXgpO2NvbnN0IGU9dGhpcy5oYXNDdXJ2ZXMoKSxzPW1lLmNvbnN0cnVjdEVtcHR5KCksbj10aGlzLnF1ZXJ5VmVydGV4SXRlcmF0b3IoKTtsZXQgaT0hMDtmb3IobGV0IHI9bi5uZXh0KCk7ciE9PWNyO3I9bi5uZXh0KCkpe2lmKGk/cy5tZXJnZSh0aGlzLmdldFhZKHIpKTpzLm1lcmdlTmUodGhpcy5nZXRYWShyKSksZSl7Y29uc3QgdD10aGlzLmdldFNlZ21lbnQocik7aWYobnVsbCE9PXQpe2NvbnN0IGU9bWUuY29uc3RydWN0RW1wdHkoKTt0LnF1ZXJ5TG9vc2VFbnZlbG9wZShlKSxzLm1lcmdlRW52ZWxvcGUyRChlKX19aT0hMX1yZXR1cm4gc31nZXRFbnZlbG9wZTNEKHQpe3JldHVybiBzKDApLEUuY29uc3RydWN0RW1wdHkoKX1mb3JjZVNldEVudmVsb3BlMkQodCl7dGhpcy5tX2hhc0ZvcmNlU2V0RW52ZWxvcGU9MSx0aGlzLm1fZm9yY2VTZXRFbnZlbG9wZS5zZXRDb29yZHModC54bWluLHQueW1pbiwwLHQueG1heCx0LnltYXgsMCl9Zm9yY2VTZXRFbnZlbG9wZTNEKHQpe3MoMCl9Zm9yZ2V0Rm9yY2VTZXRFbnZlbG9wZSgpe3RoaXMubV9oYXNGb3JjZVNldEVudmVsb3BlPTB9Z2V0R2VvbWV0cnlDb3VudCgpe3JldHVybiB0aGlzLm1fZ2VvbWV0cnlJbmRleExpc3Quc2l6ZSgpfWFkZEdlb21ldHJ5KHQscyl7Y29uc3Qgbj10LmdldEdlb21ldHJ5VHlwZSgpO2lmKGMobikpcmV0dXJuIHRoaXMuYWRkTXVsdGlQYXRoKHQscyk7aWYobj09PWkuZW51bU11bHRpUG9pbnQpcmV0dXJuIHRoaXMuYWRkTXVsdGlQb2ludCh0LHMpO2lmKG49PT1pLmVudW1Qb2ludClyZXR1cm4gdGhpcy5hZGRQb2ludF8odCxzKTtpZihuPT09aS5lbnVtRW52ZWxvcGUpe2NvbnN0IGU9bmV3IHVyO3JldHVybiBlLmFkZEVudmVsb3BlKHQsITEpLHRoaXMuYWRkTXVsdGlQYXRoKGUscyl9ZShcIlwiKX1hcHBlbmRHZW9tZXRyeSh0LHMpe3RoaXMubWVyZ2VWZXJ0ZXhEZXNjcmlwdGlvbihzLmdldERlc2NyaXB0aW9uKCkpO2NvbnN0IG49cy5nZXRHZW9tZXRyeVR5cGUoKTtjKG4pP3RoaXMuYXBwZW5kTXVsdGlQYXRoKHQscyk6biE9PWkuZW51bU11bHRpUG9pbnQ/ZShcIlwiKTp0aGlzLmFwcGVuZE11bHRpUG9pbnQodCxzKX1hc3NpZ25SYW5rVG9HZW9tZXRyeVZlcnRpY2VzKHQsZSl7ZTxnciYmKGU9Z3IpO2NvbnN0IHM9dGhpcy5xdWVyeVZlcnRleEl0ZXJhdG9yKCk7Zm9yKGxldCBuPXMubmV4dCgpO24hPT1jcjtuPXMubmV4dCgpKXRoaXMuc2V0UmFuayhuLGUpLHRoaXMuc2V0U2VnbWVudFJhbmsobixlKX1jb2xsYXBzZUFsbEdlb21ldHJpZXNUb0ZpcnN0KCl7dGhpcy5jb2xsYXBzZUdlb21ldHJpZXNUb0ZpcnN0KGkuZW51bVVua25vd24pfWNvbGxhcHNlR2VvbWV0cmllc1RvRmlyc3QodCl7dGhpcy5kYmdWZXJpZnlWZXJ0ZXhDb3VudHMoKTtsZXQgZT1jcixzPS0xLG49LTE7Zm9yKGxldCByPXRoaXMuZ2V0Rmlyc3RHZW9tZXRyeSgpO3IhPT1jcjspaWYodCE9PWkuZW51bVVua25vd24mJnRoaXMuZ2V0R2VvbWV0cnlUeXBlKHIpIT09dClyPXRoaXMuZ2V0TmV4dEdlb21ldHJ5KHIpO2Vsc2V7aWYoZT09PWNyKXtlPXIscz10aGlzLmdldFBhdGhDb3VudChlKSxuPXRoaXMuZ2V0UG9pbnRDb3VudChlKSxyPXRoaXMuZ2V0TmV4dEdlb21ldHJ5KHIpO2NvbnRpbnVlfWZvcihsZXQgcz10aGlzLmdldEZpcnN0UGF0aChyKTtzIT09Y3I7cz10aGlzLmdldE5leHRQYXRoKHMpKXRoaXMuc2V0UGF0aEdlb21ldHJ5KHMsZSk7cys9dGhpcy5nZXRQYXRoQ291bnQociksbis9dGhpcy5nZXRQb2ludENvdW50KHIpO2NvbnN0IHQ9dGhpcy5nZXRMYXN0UGF0aChlKSxpPXRoaXMuZ2V0Rmlyc3RQYXRoKHIpO3QhPT1jcj90aGlzLnNldE5leHRQYXRoKHQsaSk6dGhpcy5zZXRGaXJzdFBhdGgoZSxpKSxpIT09Y3ImJih0aGlzLnNldFByZXZQYXRoKGksdCksdGhpcy5zZXRMYXN0UGF0aChlLHRoaXMuZ2V0TGFzdFBhdGgocikpKSx0aGlzLnNldEZpcnN0UGF0aChyLGNyKSx0aGlzLnNldExhc3RQYXRoKHIsY3IpO2NvbnN0IG89cjtyPXRoaXMuZ2V0TmV4dEdlb21ldHJ5KHIpLHRoaXMuc2V0R2VvbWV0cnlWZXJ0ZXhDb3VudChvLDApLHRoaXMucmVtb3ZlR2VvbWV0cnkobyl9cmV0dXJuIGUhPT1jciYmKHRoaXMuc2V0R2VvbWV0cnlWZXJ0ZXhDb3VudChlLG4pLHRoaXMuc2V0R2VvbWV0cnlQYXRoQ291bnQoZSxzKSx0aGlzLmRiZ1ZlcmlmeVZlcnRleENvdW50cygpKSxlfXNldEZpbGxSdWxlKHQsZSl7bGV0IHM9dGhpcy5tX2dlb21ldHJ5SW5kZXhMaXN0LmdldEZpZWxkKHQsMik7cyY9LTEzNDIxNzcyOSxzfD0xPT09ZT8xMzQyMTc3Mjg6MCx0aGlzLm1fZ2VvbWV0cnlJbmRleExpc3Quc2V0RmllbGQodCwyLHMpfWdldEZpbGxSdWxlKHQpe3JldHVybiAxMzQyMTc3MjgmdGhpcy5tX2dlb21ldHJ5SW5kZXhMaXN0LmdldEZpZWxkKHQsMik/MTowfXNldEdlb21ldHJ5TW9kaWZpZWQodCxlKXtsZXQgcz10aGlzLm1fZ2VvbWV0cnlJbmRleExpc3QuZ2V0RmllbGQodCwyKTshISg2NzEwODg2NCZzKSE9PWUmJihzJj0tNjcxMDg4NjUsc3w9ZT82NzEwODg2NDowLHRoaXMubV9nZW9tZXRyeUluZGV4TGlzdC5zZXRGaWVsZCh0LDIscykpfWdldEdlb21ldHJ5TW9kaWZpZWQodCl7cmV0dXJuISEoNjcxMDg4NjQmdGhpcy5tX2dlb21ldHJ5SW5kZXhMaXN0LmdldEZpZWxkKHQsMikpfXNldEdlb21ldHJ5TW9kaWZpZWRXaXRoVmVydGV4KHQsZSl7Y29uc3Qgcz10aGlzLmdldFBhdGhGcm9tVmVydGV4KHQpLG49dGhpcy5nZXRHZW9tZXRyeUZyb21QYXRoKHMpO3RoaXMuc2V0R2VvbWV0cnlNb2RpZmllZChuLGUpfWdldEdlb21ldHJ5TW9kaWZpZWRXaXRoVmVydGV4KHQpe2NvbnN0IGU9dGhpcy5nZXRQYXRoRnJvbVZlcnRleCh0KSxzPXRoaXMuZ2V0R2VvbWV0cnlGcm9tUGF0aChlKTtyZXR1cm4gdGhpcy5nZXRHZW9tZXRyeU1vZGlmaWVkKHMpfXN3YXBHZW9tZXRyeSh0LGUpe2NvbnN0IHM9dGhpcy5nZXRGaXJzdFBhdGgodCksbj10aGlzLmdldEZpcnN0UGF0aChlKSxpPXRoaXMuZ2V0TGFzdFBhdGgodCkscj10aGlzLmdldExhc3RQYXRoKGUpO2ZvcihsZXQgYz10aGlzLmdldEZpcnN0UGF0aCh0KTtjIT09Y3I7Yz10aGlzLmdldE5leHRQYXRoKGMpKXRoaXMuc2V0UGF0aEdlb21ldHJ5KGMsZSk7Zm9yKGxldCBjPXRoaXMuZ2V0Rmlyc3RQYXRoKGUpO2MhPT1jcjtjPXRoaXMuZ2V0TmV4dFBhdGgoYykpdGhpcy5zZXRQYXRoR2VvbWV0cnkoYyx0KTt0aGlzLnNldEZpcnN0UGF0aCh0LG4pLHRoaXMuc2V0Rmlyc3RQYXRoKGUscyksdGhpcy5zZXRMYXN0UGF0aCh0LHIpLHRoaXMuc2V0TGFzdFBhdGgoZSxpKTtjb25zdCBvPXRoaXMuZ2V0UG9pbnRDb3VudCh0KSxhPXRoaXMuZ2V0UGF0aENvdW50KHQpLGg9dGhpcy5nZXRQb2ludENvdW50KGUpLHU9dGhpcy5nZXRQYXRoQ291bnQoZSk7dGhpcy5zZXRHZW9tZXRyeVZlcnRleENvdW50KHQsaCksdGhpcy5zZXRHZW9tZXRyeVZlcnRleENvdW50KGUsbyksdGhpcy5zZXRHZW9tZXRyeVBhdGhDb3VudCh0LHUpLHRoaXMuc2V0R2VvbWV0cnlQYXRoQ291bnQoZSxhKTtjb25zdCBtPXRoaXMubV9nZW9tZXRyeUluZGV4TGlzdC5nZXRGaWVsZCh0LDIpLGw9dGhpcy5tX2dlb21ldHJ5SW5kZXhMaXN0LmdldEZpZWxkKGUsMik7dGhpcy5tX2dlb21ldHJ5SW5kZXhMaXN0LnNldEZpZWxkKHQsMixsKSx0aGlzLm1fZ2VvbWV0cnlJbmRleExpc3Quc2V0RmllbGQoZSwyLG0pfWFkZFBhdGhGcm9tTXVsdGlQYXRoKHQsZSxzKXtjb25zdCBuPXRoaXMuY3JlYXRlR2VvbWV0cnkocz9pLmVudW1Qb2x5Z29uOmkuZW51bVBvbHlsaW5lLHQuZ2V0RGVzY3JpcHRpb24oKSkscj10LmdldEltcGwoKTtpZih0LmdldFBhdGhTaXplKGUpPDIpcmV0dXJuIG47dGhpcy5tX3ZlcnRpY2VzLnJlc2VydmVSb3VuZGVkKHRoaXMubV92ZXJ0aWNlcy5nZXRQb2ludENvdW50KCkrdC5nZXRQYXRoU2l6ZShlKSksdGhpcy5tX3ZlcnRpY2VzTXAuYWRkUG9pbnRzKHQsdC5nZXRQYXRoU3RhcnQoZSksci5nZXRQYXRoRW5kKGUpKSx0aGlzLm1feHlTdHJlYW09dGhpcy5tX3ZlcnRpY2VzLmdldEF0dHJpYnV0ZVN0cmVhbVJlZigwKTtjb25zdCBvPXRoaXMuaW5zZXJ0UGF0aChuLGNyKTt0aGlzLnNldENsb3NlZFBhdGgobyxyLmlzQ2xvc2VkUGF0aChlKXx8cyk7Y29uc3QgYT1udWxsIT09dGhpcy5tX3NlZ21lbnRzfHxudWxsIT09ci5nZXRTZWdtZW50RmxhZ3NTdHJlYW1SZWYoKTtmb3IobGV0IGk9ci5nZXRQYXRoU3RhcnQoZSksaD1yLmdldFBhdGhFbmQoZSk7aTxoO2krKyl7Y29uc3QgdD10aGlzLmluc2VydFZlcnRleF8obyxjcixudWxsLCExKTtpZihhKXtjb25zdCBlPXRoaXMuZ2V0VmVydGV4SW5kZXgodCk7aWYoMSZyLmdldFNlZ21lbnRGbGFncyhpKSl0aGlzLnNldFNlZ21lbnRUb0luZGV4KGUsbnVsbCk7ZWxzZXtjb25zdCB0PW5ldyBmbTtyLnF1ZXJ5U2VnbWVudChpLHQsITApLHRoaXMuc2V0U2VnbWVudFRvSW5kZXgoZSx0LnJlbGVhc2VTZWdtZW50KCkpfX19cmV0dXJuIHIuaXNTdHJvbmdQYXRoU3RhcnQoZSkmJnRoaXMuc2V0U3Ryb25nUGF0aFN0YXJ0KG8sITApLHIuaXNTdHJvbmdQYXRoRW5kKGUpJiZ0aGlzLnNldFN0cm9uZ1BhdGhFbmQobywhMCksbn1nZXRHZW9tZXRyeSh0KXtjb25zdCBlPXRoaXMuZ2V0R2VvbWV0cnlUeXBlKHQpLHM9bXIoZSx0aGlzLm1fdmVydGljZXNNcC5nZXREZXNjcmlwdGlvbigpKSxuPXRoaXMuZ2V0UG9pbnRDb3VudCh0KTtpZigwPT09bilyZXR1cm4gcztpZihjKGUpKXtjb25zdCBlPXMuZ2V0SW1wbCgpLGk9dGhpcy5nZXRQYXRoQ291bnQodCkscj1WKGkrMSksbz1MKGkrMSwwKSxhPXMuZ2V0RGVzY3JpcHRpb24oKSxoPXRoaXMuaGFzQ3VydmVzKCk7Zm9yKGxldCBzPTAsdT1hLmdldEF0dHJpYnV0ZUNvdW50KCk7czx1O3MrKyl7Y29uc3QgaD1hLmdldFNlbWFudGljcyhzKSx1PWxyLmdldENvbXBvbmVudENvdW50KGgpLG09SShoLG4pLGw9dGhpcy5tX3ZlcnRpY2VzLmdldEF0dHJpYnV0ZVN0cmVhbVJlZihoKTtsZXQgYz0wLGc9MCxkPTA7Zm9yKGxldCBlPXRoaXMuZ2V0Rmlyc3RQYXRoKHQpO2UhPT1jcjtlPXRoaXMuZ2V0TmV4dFBhdGgoZSkpe2xldCB0PTA7dGhpcy5pc0Nsb3NlZFBhdGgoZSkmJih0fD0xKSx0aGlzLmlzRXh0ZXJpb3IoZSkmJih0fD04KSx0aGlzLmlzU3Ryb25nUGF0aFN0YXJ0KGUpJiYodHw9MiksdGhpcy5pc1N0cm9uZ1BhdGhFbmQoZSkmJih0fD00KSx0JiZvLnNldEJpdHMoZyx0KTtjb25zdCBzPXRoaXMuZ2V0UGF0aFNpemUoZSk7aWYoci53cml0ZShnKyssZCksZCs9cywwPT09aCl7Y29uc3QgdD1sLHM9bTtsZXQgbjtmb3IobGV0IGk9dGhpcy5nZXRGaXJzdFZlcnRleChlKTtjPGQ7aT10aGlzLmdldE5leHRWZXJ0ZXgoaSksYysrKXtjb25zdCBlPXRoaXMuZ2V0VmVydGV4SW5kZXgoaSk7bj10LnJlYWRQb2ludDJEKDIqZSkscy53cml0ZVBvaW50MkQoMipjLG4pfX1lbHNlIGZvcihsZXQgbj10aGlzLmdldEZpcnN0VmVydGV4KGUpO2M8ZDtuPXRoaXMuZ2V0TmV4dFZlcnRleChuKSxjKyspe2NvbnN0IHQ9dGhpcy5nZXRWZXJ0ZXhJbmRleChuKTtmb3IobGV0IGU9MDtlPHU7ZSsrKXtjb25zdCBzPWwucmVhZEFzRGJsKHQqdStlKTttLndyaXRlQXNEYmwoYyp1K2Uscyl9fX1lLnNldEF0dHJpYnV0ZVN0cmVhbVJlZihoLG0pLHIud3JpdGUoaSxuKX1pZihlLnNldFBhdGhGbGFnc1N0cmVhbVJlZihvKSxlLnNldFBhdGhTdHJlYW1SZWYociksZS5ub3RpZnlNb2RpZmllZEZsYWdzKDY1NTM1KSxoKXtsZXQgcz0wLG49MDtmb3IobGV0IGk9dGhpcy5nZXRGaXJzdFBhdGgodCk7aSE9PWNyO2k9dGhpcy5nZXROZXh0UGF0aChpKSl7cys9dGhpcy5nZXRQYXRoU2l6ZShpKTtmb3IobGV0IHQ9dGhpcy5nZXRGaXJzdFZlcnRleChpKTtuPHM7dD10aGlzLmdldE5leHRWZXJ0ZXgodCkpe2NvbnN0IHM9dGhpcy5nZXRTZWdtZW50KHQpO251bGwhPT1zJiZzLmlzQ3VydmUoKSYmZS5yZXBsYWNlU2VnbWVudChuLHMsITApLG4rK319fX1lbHNlIGlmKGU9PT1pLmVudW1NdWx0aVBvaW50KXtjb25zdCBlPXMuZ2V0SW1wbCgpLGk9cy5nZXREZXNjcmlwdGlvbigpO2UucmVzZXJ2ZShuKSxlLnJlc2l6ZU5vSW5pdChuKTtmb3IobGV0IHM9MCxuPWkuZ2V0QXR0cmlidXRlQ291bnQoKTtzPG47cysrKXtjb25zdCBuPWkuZ2V0U2VtYW50aWNzKHMpLHI9bHIuZ2V0Q29tcG9uZW50Q291bnQobiksbz1lLmdldEF0dHJpYnV0ZVN0cmVhbVJlZihuKSxhPXRoaXMubV92ZXJ0aWNlcy5nZXRBdHRyaWJ1dGVTdHJlYW1SZWYobik7bGV0IGg9MDtjb25zdCB1PXRoaXMuZ2V0Rmlyc3RQYXRoKHQpLG09dGhpcy5nZXRQYXRoU2l6ZSh1KTtmb3IobGV0IHQ9dGhpcy5nZXRGaXJzdFZlcnRleCh1KTtoPG07dD10aGlzLmdldE5leHRWZXJ0ZXgodCksaCsrKXtjb25zdCBlPXRoaXMuZ2V0VmVydGV4SW5kZXgodCk7Zm9yKGxldCB0PTA7dDxyO3QrKyl7Y29uc3Qgcz1hLnJlYWRBc0RibChlKnIrdCk7by53cml0ZUFzRGJsKGgqcit0LHMpfX1lLnNldEF0dHJpYnV0ZVN0cmVhbVJlZihuLG8pfWUubm90aWZ5TW9kaWZpZWRGbGFncyg2NTUzNSl9ZWxzZSBoKFwiZ2V0R2VvbWV0cnlcIik7cmV0dXJuIHN9cXVlcnlQb2ludEdlb21ldHJ5T25seSh0LHMpe3RoaXMuZ2V0R2VvbWV0cnlUeXBlKHQpIT09aS5lbnVtTXVsdGlQb2ludCYmZShcImdldF9wb2ludF9nZW9tZXRyeV9vbmx5XCIpO2NvbnN0IG49dGhpcy5nZXRQb2ludENvdW50KHQpO2lmKG4+MSYmZShcImdldF9wb2ludF9nZW9tZXRyeV9vbmx5XCIpLDA9PT1uKXJldHVybiBzLmFzc2lnblZlcnRleERlc2NyaXB0aW9uKHRoaXMubV92ZXJ0ZXhEZXNjcmlwdGlvbiksdm9pZCBzLnNldEVtcHR5KCk7Y29uc3Qgcj10aGlzLmdldEZpcnN0UGF0aCh0KSxvPXRoaXMuZ2V0Rmlyc3RWZXJ0ZXgocik7dGhpcy5xdWVyeVBvaW50KG8scyl9cmVtb3ZlR2VvbWV0cnkodCl7Zm9yKGxldCBuPXRoaXMuZ2V0Rmlyc3RQYXRoKHQpO24hPT1jcjtuPXRoaXMucmVtb3ZlUGF0aChuKSk7Y29uc3QgZT10aGlzLmdldFByZXZHZW9tZXRyeSh0KSxzPXRoaXMuZ2V0TmV4dEdlb21ldHJ5KHQpO3JldHVybiBlIT09Y3I/dGhpcy5zZXROZXh0R2VvbWV0cnkoZSxzKTp0aGlzLm1fZmlyc3RHZW9tZXRyeT1zLHMhPT1jcj90aGlzLnNldFByZXZHZW9tZXRyeShzLGUpOnRoaXMubV9sYXN0R2VvbWV0cnk9ZSx0aGlzLmZyZWVHZW9tZXRyeSh0KSxzfWNyZWF0ZUdlb21ldHJ5KHQsZSl7dm9pZCAwPT09ZSYmKGU9UCgpKTtjb25zdCBzPXRoaXMubmV3R2VvbWV0cnkodCk7cmV0dXJuIHRoaXMubV92ZXJ0aWNlc3x8KHRoaXMubV92ZXJ0aWNlc01wPW5ldyBFZSh7dmQ6ZX0pLHRoaXMubV92ZXJ0aWNlcz10aGlzLm1fdmVydGljZXNNcC5nZXRJbXBsKCkpLHRoaXMubWVyZ2VWZXJ0ZXhEZXNjcmlwdGlvbihlKSx0aGlzLm1fZmlyc3RHZW9tZXRyeT09PWNyPyh0aGlzLm1fZmlyc3RHZW9tZXRyeT1zLHRoaXMubV9sYXN0R2VvbWV0cnk9cyk6KHRoaXMuc2V0UHJldkdlb21ldHJ5KHMsdGhpcy5tX2xhc3RHZW9tZXRyeSksdGhpcy5zZXROZXh0R2VvbWV0cnkodGhpcy5tX2xhc3RHZW9tZXRyeSxzKSx0aGlzLm1fbGFzdEdlb21ldHJ5PXMpLHN9Z2V0Rmlyc3RHZW9tZXRyeSgpe3JldHVybiB0aGlzLm1fZmlyc3RHZW9tZXRyeX1nZXRMYXN0R2VvbWV0cnkoKXtyZXR1cm4gdGhpcy5tX2xhc3RHZW9tZXRyeX1nZXROZXh0R2VvbWV0cnkodCl7cmV0dXJuIHRoaXMubV9nZW9tZXRyeUluZGV4TGlzdC5nZXRGaWVsZCh0LDEpfWdldFByZXZHZW9tZXRyeSh0KXtyZXR1cm4gdGhpcy5tX2dlb21ldHJ5SW5kZXhMaXN0LmdldEZpZWxkKHQsMCl9Z2V0R2VvbWV0cnlUeXBlKHQpe3JldHVybiAxNjc3NzIxNSZ0aGlzLm1fZ2VvbWV0cnlJbmRleExpc3QuZ2V0RmllbGQodCwyKX1zZXRHZW9tZXRyeVVzZXJJbmRleCh0LGUscyl7Y29uc3Qgbj10aGlzLm1fZ2VvbWV0cnlJbmRpY2VzW2VdLGk9dGhpcy5nZXRHZW9tZXRyeUluZGV4KHQpO2k+PW4uc2l6ZSgpJiZuLnJlc2l6ZShNYXRoLm1heCgxLjI1KmksMTYpLC0xKSxuLndyaXRlKGkscyl9Z2V0R2VvbWV0cnlVc2VySW5kZXgodCxlKXtjb25zdCBzPXRoaXMuZ2V0R2VvbWV0cnlJbmRleCh0KSxuPXRoaXMubV9nZW9tZXRyeUluZGljZXNbZV07cmV0dXJuIHM8bi5zaXplKCk/bi5yZWFkKHMpOi0xfWNyZWF0ZUdlb21ldHJ5VXNlckluZGV4KCl7Zm9yKGxldCBlPTA7ZTx0aGlzLm1fZ2VvbWV0cnlJbmRpY2VzLmxlbmd0aDtlKyspaWYobnVsbD09PXRoaXMubV9nZW9tZXRyeUluZGljZXNbZV0pcmV0dXJuIHRoaXMubV9nZW9tZXRyeUluZGljZXNbZV09VigwKSxlO3RoaXMubV9nZW9tZXRyeUluZGljZXMucHVzaChWKDApKTtjb25zdCB0PXRoaXMubV9nZW9tZXRyeUluZGljZXMubGVuZ3RoLTE7cmV0dXJuIHModD49MCYmdDw9TnVtYmVyLk1BWF9TQUZFX0lOVEVHRVIpLHR9cmVtb3ZlR2VvbWV0cnlVc2VySW5kZXgodCl7Zm9yKHRoaXMubV9nZW9tZXRyeUluZGljZXNbdF09bnVsbDt0aGlzLm1fZ2VvbWV0cnlJbmRpY2VzLmxlbmd0aD4wJiZudWxsPT09dGhpcy5tX2dlb21ldHJ5SW5kaWNlcy5hdCgtMSk7KXRoaXMubV9nZW9tZXRyeUluZGljZXMucG9wKCl9Z2V0Rmlyc3RQYXRoKHQpe3JldHVybiB0aGlzLm1fZ2VvbWV0cnlJbmRleExpc3QuZ2V0RmllbGQodCwzKX1nZXRMYXN0UGF0aCh0KXtyZXR1cm4gdGhpcy5tX2dlb21ldHJ5SW5kZXhMaXN0LmdldEZpZWxkKHQsNCl9aGFzUG9pbnRGZWF0dXJlcygpe2ZvcihsZXQgdD10aGlzLmdldEZpcnN0R2VvbWV0cnkoKTt0IT09Y3I7dD10aGlzLmdldE5leHRHZW9tZXRyeSh0KSlpZighYyh0aGlzLmdldEdlb21ldHJ5VHlwZSh0KSkpcmV0dXJuITA7cmV0dXJuITF9Z2V0UG9pbnRDb3VudCh0KXtyZXR1cm4gdGhpcy5tX2dlb21ldHJ5SW5kZXhMaXN0LmdldEZpZWxkKHQsNSl9Z2V0UGF0aENvdW50KHQpe3JldHVybiB0aGlzLm1fZ2VvbWV0cnlJbmRleExpc3QuZ2V0RmllbGQodCw2KX1maWx0ZXJDbG9zZVBvaW50cyh0LGUsbixyLG8pe2NvbnN0IGE9dCp0O2xldCBoPTA7Y29uc3QgdT10aGlzLmhhc0N1cnZlcygpLG09dGhpcy5oYXNTZWdtZW50UGFyZW50YWdlKCksbD0hMDtmb3IobGV0IGc9bz09PWNyP3RoaXMuZ2V0Rmlyc3RHZW9tZXRyeSgpOm87ZyE9PWNyO2c9bz09PWNyP3RoaXMuZ2V0TmV4dEdlb21ldHJ5KGcpOmNyKXtjb25zdCB0PXRoaXMuZ2V0R2VvbWV0cnlUeXBlKGcpO2lmKCFjKHQpKWNvbnRpbnVlO2lmKG4mJnQhPT1pLmVudW1Qb2x5Z29uKWNvbnRpbnVlO2NvbnN0IG89dGhpcy5nZXRHZW9tZXRyeVR5cGUoZyk9PT1pLmVudW1Qb2x5Z29uO2xldCBkPXRoaXMuZ2V0R2VvbWV0cnlNb2RpZmllZChnKTtmb3IobGV0IG49dGhpcy5nZXRGaXJzdFBhdGgoZyk7biE9PWNyOyl7bGV0IHQ9MDtmb3IobGV0IGU9dGhpcy5nZXRGaXJzdFZlcnRleChuKTt0PE1hdGgudHJ1bmModGhpcy5nZXRQYXRoU2l6ZShuKS8yKTspe2NvbnN0IGk9dGhpcy5nZXROZXh0VmVydGV4KGUpO2lmKGk9PT1jcilicmVhaztjb25zdCBvPXRoaXMuZ2V0WFkoZSksYz10aGlzLmdldFhZKGkpO2xldCBfPVEuc3FyRGlzdGFuY2UobyxjKSxwPSEwO2Rve2lmKF88PWEpe2lmKHUpe2NvbnN0IHQ9dGhpcy5nZXRTZWdtZW50KGUpO2lmKG51bGwhPT10KXtjb25zdCBlPXQuY2FsY3VsYXRlTGVuZ3RoMkQoKTtpZihfPWUqZSxfPmEpYnJlYWt9fWlmKDA9PT1fPzA9PT1oJiYoaD0tMSk6aD0xLGkhPT10aGlzLmdldExhc3RWZXJ0ZXgobikpe2NvbnN0IHQ9bSYmKHRoaXMuZ2V0U2VnbWVudFBhcmVudGFnZUJyZWFrVmVydGV4KGUpfHx0aGlzLmdldFNlZ21lbnRQYXJlbnRhZ2VCcmVha1ZlcnRleChpKSk7aWYodGhpcy50cmFuc2ZlckFsbERhdGFUb1RoZVZlcnRleChpLGUsbCksdGhpcy5yZW1vdmVWZXJ0ZXgoaSwhMSksciYmIWQmJih0aGlzLnNldEdlb21ldHJ5TW9kaWZpZWQoZywhMCksZD0hMCksbSYmZSE9PWkpe3RoaXMuc2V0U2VnbWVudFBhcmVudGFnZUJyZWFrVmVydGV4KGUsdCk7Y29uc3Qgbj10aGlzLmdldE5leHRWZXJ0ZXgoZSk7cyhuIT09Y3IpLHRoaXMuaXNEaXNjb250aW51b3VzU2VnbWVudFBhcmVudGFnZShuKSYmdGhpcy5zZXRTZWdtZW50UGFyZW50YWdlQnJlYWtWZXJ0ZXgobiwhMCl9fXA9ITF9fXdoaWxlKDApO3AmJihlPXRoaXMuZ2V0TmV4dFZlcnRleChlKSksdCsrfWxldCBpPXRoaXMuZ2V0Rmlyc3RWZXJ0ZXgobik7Zm9yKGxldCBlPXRoaXMuaXNDbG9zZWRQYXRoKG4pP2k6dGhpcy5nZXRMYXN0VmVydGV4KG4pO3RoaXMuZ2V0UGF0aFNpemUobik+MDspe2NvbnN0IHQ9dGhpcy5nZXRQcmV2VmVydGV4KGUpO2lmKHQ9PT1jcilicmVhazt7Y29uc3Qgbz10aGlzLmdldFhZKHQpLGM9dGhpcy5nZXRYWShlKTtsZXQgXz1RLnNxckRpc3RhbmNlKG8sYykscD0hMDtkb3tpZihfPD1hKXtpZih1KXtjb25zdCBlPXRoaXMuZ2V0U2VnbWVudCh0KTtpZihudWxsIT09ZSl7Y29uc3QgdD1lLmNhbGN1bGF0ZUxlbmd0aDJEKCk7aWYoXz10KnQsXz5hKWJyZWFrfX1pZigwPT09Xz8wPT09aCYmKGg9LTEpOmg9MSxtKXtzKHRoaXMubV9zZWdtZW50UGFyZW50YWdlSW5kZXg+PTApO2NvbnN0IG49dGhpcy5nZXRVc2VySW5kZXgoZSx0aGlzLm1fc2VnbWVudFBhcmVudGFnZUluZGV4KTt0aGlzLnRyYW5zZmVyQWxsRGF0YVRvVGhlVmVydGV4KHQsZSxsKSx0aGlzLnNldFVzZXJJbmRleChlLHRoaXMubV9zZWdtZW50UGFyZW50YWdlSW5kZXgsbil9ZWxzZSB0aGlzLnRyYW5zZmVyQWxsRGF0YVRvVGhlVmVydGV4KHQsZSxsKTtjb25zdCBvPW0mJih0aGlzLmdldFNlZ21lbnRQYXJlbnRhZ2VCcmVha1ZlcnRleChlKXx8dGhpcy5nZXRTZWdtZW50UGFyZW50YWdlQnJlYWtWZXJ0ZXgodCkpO3RoaXMucmVtb3ZlVmVydGV4KHQsITApLHImJiFkJiYodGhpcy5zZXRHZW9tZXRyeU1vZGlmaWVkKGcsITApLGQ9ITApLG0mJnQhPT1lJiYob3x8dGhpcy5pc0Rpc2NvbnRpbnVvdXNTZWdtZW50UGFyZW50YWdlKGUpKSYmdGhpcy5zZXRTZWdtZW50UGFyZW50YWdlQnJlYWtWZXJ0ZXgoZSwhMCksaT09PXQmJihpPXRoaXMuZ2V0Rmlyc3RWZXJ0ZXgobikpLHA9ITF9fXdoaWxlKDApO2lmKHAmJihlPXRoaXMuZ2V0UHJldlZlcnRleChlKSxlPT09aSkpYnJlYWt9fWNvbnN0IGM9dGhpcy5nZXRQYXRoU2l6ZShuKTtsZXQgXz1lJiZjPChvPzM6Mik7XyYmbyYmMj09PWMmJnUmJihfPSF0aGlzLnBhdGhIYXNDdXJ2ZXMobikpLF8/KG49dGhpcy5yZW1vdmVQYXRoKG4pLDA9PT1oJiYoaD0tMSksciYmIWQmJih0aGlzLnNldEdlb21ldHJ5TW9kaWZpZWQoZywhMCksZD0hMCkpOm49dGhpcy5nZXROZXh0UGF0aChuKX19cmV0dXJuIGh9ZmlsdGVyQ2xvc2VQb2ludHMzRCh0LGUsbixpLHIsbyl7cmV0dXJuIHMoMCksMH1oYXNEZWdlbmVyYXRlU2VnbWVudHModCl7Zm9yKGxldCBlPXRoaXMuZ2V0Rmlyc3RHZW9tZXRyeSgpO2UhPT1jcjtlPXRoaXMuZ2V0TmV4dEdlb21ldHJ5KGUpKWlmKGModGhpcy5nZXRHZW9tZXRyeVR5cGUoZSkpKWZvcihsZXQgcz10aGlzLmdldEZpcnN0UGF0aChlKTtzIT09Y3I7KXtjb25zdCBlPXRoaXMuZ2V0UGF0aFNpemUocyk7aWYoMD09PWUpcmV0dXJuITA7bGV0IG49dGhpcy5nZXRGaXJzdFZlcnRleChzKTtmb3IobGV0IHM9MDtzPGU7cysrKXtjb25zdCBlPXRoaXMuZ2V0TmV4dFZlcnRleChuKTtpZihlPT09Y3IpYnJlYWs7Y29uc3Qgcz10aGlzLmdldFZlcnRleEluZGV4KG4pLGk9dGhpcy5nZXRTZWdtZW50RnJvbUluZGV4KHMpO2xldCByPTA7aWYobnVsbCE9PWkpe2lmKHI9aS5jYWxjdWxhdGVMb3dlckxlbmd0aDJEKCkscjw9dCl7aWYocj1pLmNhbGN1bGF0ZVVwcGVyTGVuZ3RoMkQoKSxyPD10KXJldHVybiEwO2lmKHI9aS5jYWxjdWxhdGVMZW5ndGgyRCgpLHI8PXQpcmV0dXJuITB9fWVsc2V7Y29uc3Qgbj10aGlzLmdldFZlcnRleEluZGV4KGUpO2lmKHI9dGhpcy5tX3ZlcnRpY2VzLmdldFNob3J0ZXN0RGlzdGFuY2UocyxuKSxyPD10KXJldHVybiEwfW49ZX1zPXRoaXMuZ2V0TmV4dFBhdGgocyl9cmV0dXJuITF9aGFzRGVnZW5lcmF0ZVNlZ21lbnRzM0QodCxlKXtyZXR1cm4gcygwKSwhMX10cmFuc2ZlckFsbERhdGFUb1RoZVZlcnRleCh0LGUscz0hMSl7Y29uc3Qgbj10aGlzLmdldFZlcnRleEluZGV4KHQpLGk9dGhpcy5nZXRWZXJ0ZXhJbmRleChlKTtpZihzKXtsZXQgdD0xLGU9MTtpZih0aGlzLm1fcmFua3MmJih0PXRoaXMuZ2V0UmFua1dpdGhJbmRleChuKSxlPXRoaXMuZ2V0UmFua1dpdGhJbmRleChpKSksdD5lJiZ0aGlzLnNldFJhbmtXaXRoSW5kZXgoaSx0KSx0Pj1lJiZ0aGlzLm1fd2VpZ2h0cyl7Y29uc3Qgcz10aGlzLmdldFdlaWdodFdpdGhJbmRleChuKSxyPXRoaXMuZ2V0V2VpZ2h0V2l0aEluZGV4KGkpOyh0PmV8fHM+cikmJnRoaXMuc2V0V2VpZ2h0V2l0aEluZGV4KGkscyl9fWVsc2V7aWYodGhpcy5tX3dlaWdodHMpe2NvbnN0IHQ9dGhpcy5nZXRXZWlnaHRXaXRoSW5kZXgobik7dGhpcy5zZXRXZWlnaHRXaXRoSW5kZXgoaSx0KX1pZih0aGlzLm1fcmFua3Mpe2NvbnN0IHQ9dGhpcy5nZXRSYW5rV2l0aEluZGV4KG4pO3RoaXMuc2V0UmFua1dpdGhJbmRleChpLHQpfX1pZih0aGlzLm1fc2VnbWVudFdlaWdodHMpe2NvbnN0IHQ9dGhpcy5nZXRTZWdtZW50V2VpZ2h0V2l0aEluZGV4KG4pO3RoaXMuc2V0U2VnbWVudFdlaWdodFdpdGhJbmRleChpLHQpfWlmKHRoaXMubV9zZWdtZW50UmFua3Mpe2NvbnN0IHQ9dGhpcy5nZXRTZWdtZW50UmFua1dpdGhJbmRleChuKTt0aGlzLnNldFNlZ21lbnRSYW5rV2l0aEluZGV4KGksdCl9Zm9yKGxldCBvPTAsYT10aGlzLm1faW5kaWNlcy5sZW5ndGg7bzxhO28rKylpZihvIT09dGhpcy5tX3NlbGVjdGlvbkluZGV4JiZudWxsIT09dGhpcy5tX2luZGljZXNbb10pe2NvbnN0IHM9dGhpcy5nZXRVc2VySW5kZXgodCxvKTt0aGlzLnNldFVzZXJJbmRleChlLG8scyl9Y29uc3Qgcj10aGlzLnNlbGVjdGVkKHQpO3IhPT10aGlzLnNlbGVjdGVkKGUpJiYocj90aGlzLnNlbGVjdChlKTp0aGlzLnVuc2VsZWN0KGUpKX1zcGxpdFNlZ21lbnRBeGlzQXdhcmUodCxzLG4saSxyKXtsZXQgbz0wO2NvbnN0IGE9dGhpcy5nZXROZXh0VmVydGV4KHQpO2E9PT1jciYmZShcIlwiKTtjb25zdCBoPXRoaXMuZ2V0VmVydGV4SW5kZXgodCksdT10aGlzLmdldFZlcnRleEluZGV4KGEpLG09dGhpcy5nZXRTZWdtZW50RnJvbUluZGV4KGgpO2xldCBsPXRoaXMubV92ZXJ0aWNlcy5nZXRTaG9ydGVzdERpc3RhbmNlKGgsdSk7Y29uc3QgYz10aGlzLmdldFBhdGhGcm9tVmVydGV4KHQpLGc9dGhpcy5tX2JIYXNBdHRyaWJ1dGVzO2cmJm0mJihsPW0uY2FsY3VsYXRlTGVuZ3RoMkQoKSk7Y29uc3QgZD10aGlzLmdldFNlZ21lbnRQYXJlbnRhZ2UodCksXz10aGlzLmdldEhlbHBlclBvaW50KCk7aWYobSl7bGV0IHQ9MCxlPTAscj1jcjtmb3IobGV0IHA9MDtwPG47cCsrKXtjb25zdCBuPXNbcF07aWYodDxuJiZuPDEpe2NvbnN0IHM9bS5jdXQodCxuKTtpZihudWxsIT09aSYmKHA+MCYmcy5zZXRTdGFydFhZKGlbcC0xXSkscy5zZXRFbmRYWShpW3BdKSxzLm5vcm1hbGl6ZUFmdGVyRW5kcG9pbnRDaGFuZ2UoKSxlPXApLGcpe2NvbnN0IHQ9bD4wP20uY2FsY3VsYXRlU3ViTGVuZ3RoRnJvbVN0YXJ0KG4pL2w6MDt0aGlzLm1fdmVydGljZXMuaW50ZXJwb2xhdGVUd29WZXJ0aWNlcyhoLHUsdCxfKX1fLnNldFhZKHMuZ2V0RW5kWFkoKSkscj10aGlzLmluc2VydFZlcnRleChjLGEsXyksbysrO2NvbnN0IGY9dGhpcy5nZXRQcmV2VmVydGV4KHIpLFA9dGhpcy5nZXRWZXJ0ZXhJbmRleChmKTt0aGlzLnNldFNlZ21lbnRUb0luZGV4KFAscyksLTEhPT1kJiZ0aGlzLnNldFNlZ21lbnRQYXJlbnRhZ2VBbmRCcmVhayhyLGQsITEpLHQ9bn19aWYociE9PWNyKXtjb25zdCBzPW0uY3V0KHQsMSk7bnVsbCE9PWkmJihzLnNldFN0YXJ0WFkoaVtlXSkscy5ub3JtYWxpemVBZnRlckVuZHBvaW50Q2hhbmdlKCkpO2NvbnN0IG49dGhpcy5nZXRWZXJ0ZXhJbmRleChyKTt0aGlzLnNldFNlZ21lbnRUb0luZGV4KG4scyl9fWVsc2V7bGV0IHQ9MDtmb3IobGV0IGU9MDtlPG47ZSsrKXtjb25zdCBuPXNbZV07aWYodDxuJiZuPDEpe3RoaXMubV92ZXJ0aWNlcy5pbnRlcnBvbGF0ZVR3b1ZlcnRpY2VzKGgsdSxuLF8pO2NvbnN0IHQ9dGhpcy5pbnNlcnRWZXJ0ZXgoYyxhLF8pO28rKywtMSE9PWQmJnRoaXMuc2V0U2VnbWVudFBhcmVudGFnZUFuZEJyZWFrKHQsZCwhMSl9dD1ufX1yZXR1cm4gb31zcGxpdFNlZ21lbnQodCxlLHMsbj1udWxsKXtyZXR1cm4gdGhpcy5zcGxpdFNlZ21lbnRBeGlzQXdhcmUodCxlLHMsbiwtMSl9c25hcENvbnRyb2xQb2ludHModCxzLG4pe3RoaXMuZ2V0TmV4dFZlcnRleCh0KT09PWNyJiZlKFwiXCIpO2xldCBpPXQscj0hMTtmb3IobGV0IGU9MDtlPHM7KytlKXtjb25zdCB0PXRoaXMuZ2V0VmVydGV4SW5kZXgoaSksZT10aGlzLmdldFNlZ21lbnRGcm9tSW5kZXgodCk7aWYoZSl7Y29uc3QgdD1lLnNuYXBDb250cm9sUG9pbnRzKG4pO3J8fD10fWk9dGhpcy5nZXROZXh0VmVydGV4KGkpfXJldHVybiByfXNuYXBDb250cm9sUG9pbnRzT25TZWxlY3Rpb24odCl7aWYoIXRoaXMuaGFzQ3VydmVzKCkpcmV0dXJuITE7bGV0IGU9MDtjb25zdCBzPXRoaXMucXVlcnlWZXJ0ZXhJdGVyYXRvck9uU2VsZWN0aW9uKCk7Zm9yKGxldCBuPXMubmV4dCgpO24hPT1jcjtuPXMubmV4dCgpKXtjb25zdCBzPXRoaXMuZ2V0VmVydGV4SW5kZXgobiksaT10aGlzLmdldFNlZ21lbnRGcm9tSW5kZXgocyk7aSYmKGV8PWkuc25hcENvbnRyb2xQb2ludHModCk/MTowKX1yZXR1cm4gMCE9PWV9Y2FsY3VsYXRlU3ViTGVuZ3RoMkQodCxlLG4pe3JldHVybiBzKDApLDB9c2V0UG9pbnQodCxlLHMpe2lmKHRoaXMuc2V0UG9pbnRPbmx5KHQsZSksbnVsbCE9PXRoaXMubV9zZWdtZW50cyl7Y29uc3Qgbj10aGlzLmdldFZlcnRleEluZGV4KHQpLGk9dGhpcy5nZXRTZWdtZW50RnJvbUluZGV4KG4pO251bGwhPT1pJiYoaS5zZXRTdGFydFhZKGUuZ2V0WFkoKSksaS5ub3JtYWxpemVBZnRlckVuZHBvaW50Q2hhbmdlKCkscyYmaS5lbnN1cmVYWU1vbm90b25lKCkpO2NvbnN0IHI9dGhpcy5nZXRQcmV2VmVydGV4KHQpO2lmKHIhPT1jcil7Y29uc3QgdD10aGlzLmdldFZlcnRleEluZGV4KHIpLG49dGhpcy5nZXRTZWdtZW50RnJvbUluZGV4KHQpO251bGwhPT1uJiYobi5zZXRFbmRYWShlLmdldFhZKCkpLG4ubm9ybWFsaXplQWZ0ZXJFbmRwb2ludENoYW5nZSgpLHMmJm4uZW5zdXJlWFlNb25vdG9uZSgpKX19fXNldFBvaW50RXgodCxlLHMsbixpKXt0aGlzLnNldFBvaW50KHQsZSxpKTtjb25zdCByPXRoaXMuZ2V0VmVydGV4SW5kZXgodCk7dGhpcy5zZXRXZWlnaHRXaXRoSW5kZXgocixuKSx0aGlzLnNldFJhbmtXaXRoSW5kZXgocixzKX1zZXRQb2ludE9ubHkodCxlKXtjb25zdCBzPXRoaXMuZ2V0VmVydGV4SW5kZXgodCk7dGhpcy5tX3ZlcnRpY2VzLnNldFBvaW50QnlWYWxOb0N1cnZlcyhzLGUpfXNldFBvaW50T25seUV4KHQsZSxuLGkpe3MoMCl9cXVlcnlQb2ludCh0LGUpe2NvbnN0IHM9dGhpcy5nZXRWZXJ0ZXhJbmRleCh0KTt0aGlzLm1fdmVydGljZXMuZ2V0UG9pbnRCeVZhbChzLGUpfXNldFhZKHQsZSl7dGhpcy5zZXRYWUNvb3Jkcyh0LGUueCxlLnkpfXNldFhZQ29vcmRzKHQsZSxzKXtjb25zdCBuPXRoaXMuZ2V0VmVydGV4SW5kZXgodCk7aWYodGhpcy5tX3ZlcnRpY2VzPy5zZXRYWUNvb3Jkc05vQ3VydmVzKG4sZSxzKSxudWxsIT09dGhpcy5tX3NlZ21lbnRzKXtjb25zdCBpPXRoaXMuZ2V0U2VnbWVudEZyb21JbmRleChuKTtudWxsIT09aSYmKGkuc2V0U3RhcnRYWUNvb3JkcyhlLHMpLGkubm9ybWFsaXplQWZ0ZXJFbmRwb2ludENoYW5nZSgpKTtjb25zdCByPXRoaXMuZ2V0UHJldlZlcnRleCh0KTtpZihyIT09Y3Ipe2NvbnN0IHQ9dGhpcy5nZXRWZXJ0ZXhJbmRleChyKSxuPXRoaXMuZ2V0U2VnbWVudEZyb21JbmRleCh0KTtudWxsIT1uJiYobi5zZXRFbmRYWUNvb3JkcyhlLHMpLG4ubm9ybWFsaXplQWZ0ZXJFbmRwb2ludENoYW5nZSgpKX19fXNldFhZTW9ub3RvbmljKHQsZSxzKXtjb25zdCBuPXRoaXMuZ2V0VmVydGV4SW5kZXgodCk7aWYodGhpcy5tX3ZlcnRpY2VzLnNldFhZQ29vcmRzTm9DdXJ2ZXMobixlLHMpLG51bGwhPT10aGlzLm1fc2VnbWVudHMpe2NvbnN0IGk9dGhpcy5nZXRTZWdtZW50RnJvbUluZGV4KG4pO2lmKG51bGwhPT1pKXtjb25zdCB0PWkuZ2V0RW5kWFkoKTtpLnNldENvb3Jkc0ZvckludGVyc2VjdG9yKG5ldyBRKGUscyksdCwhMSksaS5lbnN1cmVYWU1vbm90b25lKCl9Y29uc3Qgcj10aGlzLmdldFByZXZWZXJ0ZXgodCk7aWYociE9PWNyKXtjb25zdCB0PXRoaXMuZ2V0VmVydGV4SW5kZXgociksbj10aGlzLmdldFNlZ21lbnRGcm9tSW5kZXgodCk7aWYobnVsbCE9PW4pe2NvbnN0IHQ9bi5nZXRTdGFydFhZKCk7bi5zZXRDb29yZHNGb3JJbnRlcnNlY3Rvcih0LG5ldyBRKGUscyksITEpLG4uZW5zdXJlWFlNb25vdG9uZSgpfX19fXNldFhZTW9ub3RvbmljUG9pbnQyRCh0LGUpe3RoaXMuc2V0WFlNb25vdG9uaWModCxlLngsZS55KX1xdWVyeVhZKHQsZSl7Y29uc3Qgcz10aGlzLmdldFZlcnRleEluZGV4KHQpO3JldHVybiB0aGlzLm1fdmVydGljZXMucXVlcnlYWShzLGUpfWdldFhZKHQpe2NvbnN0IGU9dGhpcy5nZXRWZXJ0ZXhJbmRleCh0KTtyZXR1cm4gdGhpcy5tX3ZlcnRpY2VzLmdldFhZKGUpfWdldFhZV2l0aEluZGV4KHQpe3JldHVybiB0aGlzLm1feHlTdHJlYW0ucmVhZFBvaW50MkQoMip0KX1zdGF0aWMgc2V0U2VnRGVmYXVsdCh0LGUsbil7cygwKX1zZXRYWVoodCxlLG4pe3MoMCl9c2V0WFlaQ29vcmRzKHQsZSxuLGkpe3MoMCl9cXVlcnlYWVoodCxlKXtzKDApfWdldFhZWih0KXtyZXR1cm4gcygwKSxTLmdldE5BTigpfWdldFhZWldpdGhJbmRleCh0KXtyZXR1cm4gcygwKSxTLmdldE5BTigpfW1lcmdlVmVydGV4RGVzY3JpcHRpb24odCl7dGhpcy5tX3ZlcnRpY2VzTXAubWVyZ2VWZXJ0ZXhEZXNjcmlwdGlvbih0KSx0aGlzLm1fdmVydGV4RGVzY3JpcHRpb249dGhpcy5tX3ZlcnRpY2VzTXAuZ2V0RGVzY3JpcHRpb24oKSx0aGlzLm1fYkhhc0F0dHJpYnV0ZXM9dGhpcy5tX3ZlcnRleERlc2NyaXB0aW9uLmdldEF0dHJpYnV0ZUNvdW50KCk+MX1hZGRBdHRyaWJ1dGUodCl7cygwKX1nZXRBdHRyaWJ1dGVBc0RibCh0LGUscyl7cmV0dXJuIHRoaXMubV92ZXJ0aWNlcy5nZXRBdHRyaWJ1dGVBc0RibCh0LHRoaXMuZ2V0VmVydGV4SW5kZXgoZSkscyl9cXVlcnlBdHRyaWJ1dGVBc0RibCh0LGUsbixpKXtzKDApfXNldEF0dHJpYnV0ZSh0LGUsbixpKXtzKDApfXNldEF0dHJpYnV0ZUludCh0LGUsbixpKXtzKDApfWdldFZlcnRleERlc2NyaXB0aW9uKCl7cmV0dXJuIHRoaXMubV92ZXJ0ZXhEZXNjcmlwdGlvbn1nZXRNaW5QYXRoVmVydGV4WSh0KXtyZXR1cm4gcygwKSwwfWdldFZlcnRleEluZGV4KHQpe3JldHVybiB0aGlzLm1fdmVydGV4SW5kZXhMaXN0LmdldEZpZWxkKHQsMCl9Z2V0WSh0KXtjb25zdCBlPXRoaXMuZ2V0VmVydGV4SW5kZXgodCk7cmV0dXJuIHRoaXMubV92ZXJ0aWNlcy5xdWVyeVhZKGUsdGhpcy5tX3dvcmtQb2ludDJEKSx0aGlzLm1fd29ya1BvaW50MkQueX1nZXRYKHQpe3JldHVybiB0aGlzLmdldFhZKHQpLnh9aXNFcXVhbFhZKHQsZSl7cmV0dXJuIHRoaXMucXVlcnlYWSh0LHRoaXMubV93b3JrUG9pbnQyRCksdGhpcy5xdWVyeVhZKGUsdGhpcy5tX3dvcmtQb2ludDJfMkQpLHRoaXMubV93b3JrUG9pbnQyRC5pc0VxdWFsUG9pbnQyRCh0aGlzLm1fd29ya1BvaW50Ml8yRCl9aXNFcXVhbFhZUG9pbnQyRCh0LGUpe3JldHVybiB0aGlzLnF1ZXJ5WFkodCx0aGlzLm1fd29ya1BvaW50MkQpLHRoaXMubV93b3JrUG9pbnQyRC5pc0VxdWFsUG9pbnQyRChlKX1pc0VxdWFsWFlaUG9pbnQzRCh0LGUpe3JldHVybiBzKDApLCExfXNldFdlaWdodCh0LGUpe2U8MSYmKGU9MSk7Y29uc3Qgcz0xPT09ZTtpZihudWxsPT10aGlzLm1fd2VpZ2h0cyl7aWYocylyZXR1cm47dGhpcy5tX3dlaWdodHM9Uih0aGlzLm1fdmVydGljZXMuZ2V0UG9pbnRDb3VudCgpLDEpfWNvbnN0IG49dGhpcy5nZXRWZXJ0ZXhJbmRleCh0KTtpZihuPj10aGlzLm1fd2VpZ2h0cy5zaXplKCkpe2lmKHMpcmV0dXJuO3RoaXMubV93ZWlnaHRzLnJlc2l6ZShuKzEsMSl9dGhpcy5tX3dlaWdodHMud3JpdGUobixlKX1zZXRXZWlnaHRXaXRoSW5kZXgodCxlKXtlPDEmJihlPTEpO2NvbnN0IHM9MT09PWU7aWYobnVsbD09PXRoaXMubV93ZWlnaHRzKXtpZihzKXJldHVybjt0aGlzLm1fd2VpZ2h0cz1SKHRoaXMubV92ZXJ0aWNlcy5nZXRQb2ludENvdW50KCksMSl9aWYodD49dGhpcy5tX3dlaWdodHMuc2l6ZSgpKXtpZihzKXJldHVybjt0aGlzLm1fd2VpZ2h0cy5yZXNpemUodCsxLDEpfXRoaXMubV93ZWlnaHRzLndyaXRlKHQsZSl9Z2V0V2VpZ2h0KHQpe2lmKG51bGw9PT10aGlzLm1fd2VpZ2h0cylyZXR1cm4gMTtjb25zdCBlPXRoaXMuZ2V0VmVydGV4SW5kZXgodCk7cmV0dXJuIGU+PXRoaXMubV93ZWlnaHRzLnNpemUoKT8xOnRoaXMubV93ZWlnaHRzLnJlYWQoZSl9Z2V0V2VpZ2h0V2l0aEluZGV4KHQpe3JldHVybiBudWxsPT09dGhpcy5tX3dlaWdodHN8fHQ+PXRoaXMubV93ZWlnaHRzLnNpemUoKT8xOnRoaXMubV93ZWlnaHRzLnJlYWQodCl9Z2V0UmFuayh0KXtpZihudWxsPT09dGhpcy5tX3JhbmtzKXJldHVybiBncjtjb25zdCBlPXRoaXMuZ2V0VmVydGV4SW5kZXgodCk7cmV0dXJuIGU+PXRoaXMubV9yYW5rcy5zaXplKCk/Z3I6dGhpcy5tX3JhbmtzLnJlYWQoZSl9Z2V0UmFua1dpdGhJbmRleCh0KXtyZXR1cm4gbnVsbD09PXRoaXMubV9yYW5rc3x8dD49dGhpcy5tX3JhbmtzLnNpemUoKT9ncjp0aGlzLm1fcmFua3MucmVhZCh0KX1zZXRSYW5rKHQsZSl7ZTxnciYmKGU9Z3IpO2NvbnN0IHM9ZT09PWdyO2lmKG51bGw9PT10aGlzLm1fcmFua3Mpe2lmKHMpcmV0dXJuO3RoaXMubV9yYW5rcz1WKHRoaXMubV92ZXJ0aWNlcy5nZXRQb2ludENvdW50KCksZ3IpfWNvbnN0IG49dGhpcy5nZXRWZXJ0ZXhJbmRleCh0KTtpZihuPj10aGlzLm1fcmFua3Muc2l6ZSgpKXtpZihzKXJldHVybjt0aGlzLm1fcmFua3MucmVzaXplKG4rMSxncil9dGhpcy5tX3JhbmtzLndyaXRlKG4sZSl9c2V0UmFua1dpdGhJbmRleCh0LGUpe2U8Z3ImJihlPWdyKTtjb25zdCBzPWU9PT1ncjtpZihudWxsPT09dGhpcy5tX3JhbmtzKXtpZihzKXJldHVybjt0aGlzLm1fcmFua3M9Vih0aGlzLm1fdmVydGljZXMuZ2V0UG9pbnRDb3VudCgpLGdyKX1pZih0Pj10aGlzLm1fcmFua3Muc2l6ZSgpKXtpZihzKXJldHVybjt0aGlzLm1fcmFua3MucmVzaXplKHQrMSxncil9dGhpcy5tX3JhbmtzLndyaXRlKHQsZSl9c2V0U2VnbWVudFdlaWdodCh0LGUpe2U8MSYmKGU9MSk7Y29uc3Qgcz0xPT09ZTtpZihudWxsPT09dGhpcy5tX3NlZ21lbnRXZWlnaHRzKXtpZihzKXJldHVybjt0aGlzLm1fc2VnbWVudFdlaWdodHM9Uih0aGlzLm1fdmVydGljZXMuZ2V0UG9pbnRDb3VudCgpLDEpfWNvbnN0IG49dGhpcy5nZXRWZXJ0ZXhJbmRleCh0KTtpZihuPj10aGlzLm1fc2VnbWVudFdlaWdodHMuc2l6ZSgpKXtpZihzKXJldHVybjt0aGlzLm1fc2VnbWVudFdlaWdodHMucmVzaXplKG4rMSwxKX10aGlzLm1fc2VnbWVudFdlaWdodHMud3JpdGUobixlKX1zZXRTZWdtZW50V2VpZ2h0V2l0aEluZGV4KHQsZSl7ZTwxJiYoZT0xKTtjb25zdCBzPTE9PT1lO2lmKG51bGw9PXRoaXMubV9zZWdtZW50V2VpZ2h0cyl7aWYocylyZXR1cm47dGhpcy5tX3NlZ21lbnRXZWlnaHRzPVIodGhpcy5tX3ZlcnRpY2VzLmdldFBvaW50Q291bnQoKSwxKX1pZih0Pj10aGlzLm1fc2VnbWVudFdlaWdodHMuc2l6ZSgpKXtpZihzKXJldHVybjt0aGlzLm1fc2VnbWVudFdlaWdodHMucmVzaXplKHQrMSwxKX10aGlzLm1fc2VnbWVudFdlaWdodHMud3JpdGUodCxlKX1nZXRTZWdtZW50V2VpZ2h0KHQpe2lmKG51bGw9PT10aGlzLm1fc2VnbWVudFdlaWdodHMpcmV0dXJuIDE7Y29uc3QgZT10aGlzLmdldFZlcnRleEluZGV4KHQpO3JldHVybiBlPj10aGlzLm1fc2VnbWVudFdlaWdodHMuc2l6ZSgpPzE6dGhpcy5tX3NlZ21lbnRXZWlnaHRzLnJlYWQoZSl9Z2V0U2VnbWVudFdlaWdodFdpdGhJbmRleCh0KXtyZXR1cm4gbnVsbD09dGhpcy5tX3NlZ21lbnRXZWlnaHRzfHx0Pj10aGlzLm1fc2VnbWVudFdlaWdodHMuc2l6ZSgpPzE6dGhpcy5tX3NlZ21lbnRXZWlnaHRzLnJlYWQodCl9Z2V0U2VnbWVudFJhbmsodCl7aWYobnVsbD09PXRoaXMubV9zZWdtZW50UmFua3MpcmV0dXJuIFByLnN0X2RlZmF1bHRSYW5rO2NvbnN0IGU9dGhpcy5nZXRWZXJ0ZXhJbmRleCh0KTtyZXR1cm4gZT49dGhpcy5tX3NlZ21lbnRSYW5rcy5zaXplKCk/UHIuc3RfZGVmYXVsdFJhbms6dGhpcy5tX3NlZ21lbnRSYW5rcy5yZWFkKGUpfWdldFNlZ21lbnRSYW5rV2l0aEluZGV4KHQpe3JldHVybiBudWxsPT09dGhpcy5tX3NlZ21lbnRSYW5rc3x8dD49dGhpcy5tX3NlZ21lbnRSYW5rcy5zaXplKCk/Z3I6dGhpcy5tX3NlZ21lbnRSYW5rcy5yZWFkKHQpfXNldFNlZ21lbnRSYW5rKHQsZSl7ZTxnciYmKGU9Z3IpO2NvbnN0IHM9ZT09PWdyO2lmKG51bGw9PT10aGlzLm1fc2VnbWVudFJhbmtzKXtpZihzKXJldHVybjt0aGlzLm1fc2VnbWVudFJhbmtzPVYodGhpcy5tX3ZlcnRpY2VzLmdldFBvaW50Q291bnQoKSxncil9Y29uc3Qgbj10aGlzLmdldFZlcnRleEluZGV4KHQpO2lmKG4+PXRoaXMubV9zZWdtZW50UmFua3Muc2l6ZSgpKXtpZihzKXJldHVybjt0aGlzLm1fc2VnbWVudFJhbmtzLnJlc2l6ZShuKzEsZ3IpfXRoaXMubV9zZWdtZW50UmFua3Mud3JpdGUobixlKX1zZXRTZWdtZW50UmFua1dpdGhJbmRleCh0LGUpe2U8Z3ImJihlPWdyKTtjb25zdCBzPWU9PT1ncjtpZihudWxsPT09dGhpcy5tX3NlZ21lbnRSYW5rcyl7aWYocylyZXR1cm47dGhpcy5tX3NlZ21lbnRSYW5rcz1WKHRoaXMubV92ZXJ0aWNlcy5nZXRQb2ludENvdW50KCksZ3IpfWlmKHQ+PXRoaXMubV9zZWdtZW50UmFua3Muc2l6ZSgpKXtpZihzKXJldHVybjt0aGlzLm1fc2VnbWVudFJhbmtzLnJlc2l6ZSh0KzEsZ3IpfXRoaXMubV9zZWdtZW50UmFua3Mud3JpdGUodCxlKX1yZW1vdmVXZWlnaHRzKCl7dGhpcy5tX3dlaWdodHM9bnVsbCx0aGlzLm1fc2VnbWVudFdlaWdodHM9bnVsbH1yZW1vdmVSYW5rcygpe3RoaXMubV9yYW5rcz1udWxsLHRoaXMubV9zZWdtZW50UmFua3M9bnVsbH1zZXRVc2VySW5kZXgodCxlLHMpe2NvbnN0IG49dGhpcy5tX2luZGljZXNbZV0saT10aGlzLmdldFZlcnRleEluZGV4KHQpO2lmKG4uc2l6ZSgpPD1pKXtpZigtMT09PXMpcmV0dXJuO24ucmVzaXplKHRoaXMubV92ZXJ0aWNlcy5nZXRQb2ludENvdW50KCksLTEpfW4ud3JpdGUoaSxzKX1nZXRVc2VySW5kZXgodCxlKXtjb25zdCBzPXRoaXMuZ2V0VmVydGV4SW5kZXgodCksbj10aGlzLm1faW5kaWNlc1tlXTtpZihzPG4uc2l6ZSgpKXtyZXR1cm4gbi5yZWFkKHMpfXJldHVybi0xfWFkZFRvVXNlckluZGV4KHQsZSxzKXtjb25zdCBuPXRoaXMubV9pbmRpY2VzW2VdLGk9dGhpcy5nZXRWZXJ0ZXhJbmRleCh0KTtuLnNpemUoKTw9aSYmbi5yZXNpemUodGhpcy5tX3ZlcnRpY2VzLmdldFBvaW50Q291bnQoKSwtMSk7Y29uc3Qgcj1uLnJlYWQoaSk7bi53cml0ZShpLHIrcyl9Y3JlYXRlVXNlckluZGV4KCl7Zm9yKGxldCBlPTA7ZTx0aGlzLm1faW5kaWNlcy5sZW5ndGg7ZSsrKWlmKG51bGw9PT10aGlzLm1faW5kaWNlc1tlXSlyZXR1cm4gdGhpcy5tX2luZGljZXNbZV09dGhpcy5hbGxvY2F0ZUluZGV4KCksZTt0aGlzLm1faW5kaWNlcy5wdXNoKHRoaXMuYWxsb2NhdGVJbmRleCgpKTtjb25zdCB0PXRoaXMubV9pbmRpY2VzLmxlbmd0aC0xO3JldHVybiBzKHQ+PTAmJnQ8PUooKSksdH1jcmVhdGVVc2VySW5kZXhVbmluaXRpYWxpemVkKCl7Zm9yKGxldCBlPTA7ZTx0aGlzLm1faW5kaWNlcy5sZW5ndGg7ZSsrKWlmKG51bGw9PT10aGlzLm1faW5kaWNlc1tlXSlyZXR1cm4gdGhpcy5tX2luZGljZXNbZV09dGhpcy5hbGxvY2F0ZUluZGV4KCExKSxlO3RoaXMubV9pbmRpY2VzLnB1c2godGhpcy5hbGxvY2F0ZUluZGV4KCExKSk7Y29uc3QgdD10aGlzLm1faW5kaWNlcy5sZW5ndGgtMTtyZXR1cm4gcyh0Pj0wJiZ0PD1OdW1iZXIuTUFYX1NBRkVfSU5URUdFUiksdH1maWxsVXNlckluZGV4Rm9yR2VvbWV0cnkodCxlLHMpe2NvbnN0IG49dGhpcy5tX2luZGljZXNbZV0saT1uLnNpemUoKTtmb3IobGV0IHI9dGhpcy5nZXRGaXJzdFBhdGgodCk7ciE9PWNyO3I9dGhpcy5nZXROZXh0UGF0aChyKSl7bGV0IHQ9dGhpcy5nZXRGaXJzdFZlcnRleChyKTtmb3IobGV0IGU9MCxvPXRoaXMuZ2V0UGF0aFNpemUocik7ZTxvO2UrKyx0PXRoaXMuZ2V0TmV4dFZlcnRleCh0KSl7Y29uc3QgZT10aGlzLmdldFZlcnRleEluZGV4KHQpO2U8aSYmbi53cml0ZShlLHMpfX19ZmlsbFVzZXJJbmRleEZvclNlbGVjdGlvbih0LGUpe3MoMCl9cmVtb3ZlVXNlckluZGV4KHQpe2Zvcih0aGlzLnJlY3ljbGVVc2VySW5kZXgodGhpcy5tX2luZGljZXNbdF0pLHRoaXMubV9pbmRpY2VzW3RdPW51bGw7dGhpcy5tX2luZGljZXMubGVuZ3RoPjAmJm51bGw9PT10aGlzLm1faW5kaWNlc1t0aGlzLm1faW5kaWNlcy5sZW5ndGgtMV07KXRoaXMubV9pbmRpY2VzLnBvcCgpfXJlcGxhY2VDdXJ2ZVdpdGhMaW5lKHQpe2lmKG51bGwhPT10aGlzLm1fc2VnbWVudHMpe2NvbnN0IGU9dGhpcy5nZXRWZXJ0ZXhJbmRleCh0KTt0aGlzLnNldFNlZ21lbnRUb0luZGV4KGUsbnVsbCl9fXF1ZXJ5TGluZUNvbm5lY3Rvcih0LGUscz0hMSl7Y29uc3Qgbj10aGlzLmdldE5leHRWZXJ0ZXgodCk7aWYobj09PWNyKXJldHVybiExO2lmKCF0aGlzLm1fYkhhc0F0dHJpYnV0ZXN8fHMpe2NvbnN0IHM9dGhpcy5nZXRYWSh0KTtlLnNldFN0YXJ0WFkocyk7Y29uc3QgaT10aGlzLmdldFhZKG4pO2Uuc2V0RW5kWFkoaSl9ZWxzZXtjb25zdCBzPW5ldyBxKHt2ZDp0aGlzLmdldFZlcnRleERlc2NyaXB0aW9uKCl9KTt0aGlzLnF1ZXJ5UG9pbnQodCxzKSxlLnNldFN0YXJ0KHMpLHRoaXMucXVlcnlQb2ludChuLHMpLGUuc2V0RW5kKHMpfXJldHVybiEwfXF1ZXJ5TGluZUNvbm5lY3RvcjNEKHQsZSxuPSExKXtyZXR1cm4gcygwKSwhMX1oYXNDdXJ2ZXMoKXtyZXR1cm4gbnVsbCE9PXRoaXMubV9zZWdtZW50c31nZW9tZXRyeUhhc0N1cnZlcyh0KXtyZXR1cm4gcygwKSwhMX1wYXRoSGFzQ3VydmVzKHQpe2lmKCF0aGlzLmhhc0N1cnZlcygpKXJldHVybiExO2NvbnN0IGU9dGhpcy5nZXRGaXJzdFZlcnRleCh0KTtpZihlPT09Y3IpcmV0dXJuITE7Y29uc3Qgcz10aGlzLmdldFBhdGhTaXplKHQpO2xldCBuPWU7Zm9yKGxldCByPTA7cjxzO3IrKyxuPXRoaXMuZ2V0TmV4dFZlcnRleChuKSl7Y29uc3QgdD10aGlzLmdldFNlZ21lbnQobik7aWYobnVsbCE9PXQmJnQuZ2V0R2VvbWV0cnlUeXBlKCkhPT1pLmVudW1MaW5lKXJldHVybiEwfXJldHVybiExfWluc2VydFBhdGgodCxzKXtsZXQgbj1jcjtzIT09Y3I/KHQhPT10aGlzLmdldEdlb21ldHJ5RnJvbVBhdGgocykmJmUoXCJcIiksbj10aGlzLmdldFByZXZQYXRoKHMpKTpuPXRoaXMuZ2V0TGFzdFBhdGgodCk7Y29uc3QgaT10aGlzLm5ld1BhdGgodCk7cmV0dXJuIHMhPT1jciYmdGhpcy5zZXRQcmV2UGF0aChzLGkpLHRoaXMuc2V0TmV4dFBhdGgoaSxzKSx0aGlzLnNldFByZXZQYXRoKGksbiksbiE9PWNyP3RoaXMuc2V0TmV4dFBhdGgobixpKTp0aGlzLnNldEZpcnN0UGF0aCh0LGkpLHM9PT1jciYmdGhpcy5zZXRMYXN0UGF0aCh0LGkpLHRoaXMuc2V0R2VvbWV0cnlQYXRoQ291bnQodCx0aGlzLmdldFBhdGhDb3VudCh0KSsxKSxpfXJlbW92ZVBhdGgodCl7Y29uc3QgZT10aGlzLmdldFByZXZQYXRoKHQpLHM9dGhpcy5nZXROZXh0UGF0aCh0KSxuPXRoaXMuZ2V0R2VvbWV0cnlGcm9tUGF0aCh0KTtyZXR1cm4gZSE9PWNyP3RoaXMuc2V0TmV4dFBhdGgoZSxzKTp0aGlzLnNldEZpcnN0UGF0aChuLHMpLHMhPT1jcj90aGlzLnNldFByZXZQYXRoKHMsZSk6dGhpcy5zZXRMYXN0UGF0aChuLGUpLHRoaXMuY2xlYXJQYXRoKHQpLHRoaXMuc2V0R2VvbWV0cnlQYXRoQ291bnQobix0aGlzLmdldFBhdGhDb3VudChuKS0xKSx0aGlzLmZyZWVQYXRoKHQpLHN9Y2xlYXJQYXRoKHQpe2NvbnN0IGU9dGhpcy5nZXRGaXJzdFZlcnRleCh0KTtpZihlIT09Y3Ipe2xldCBzPWU7Zm9yKGxldCBlPTAsaT10aGlzLmdldFBhdGhTaXplKHQpO2U8aTtlKyspe2NvbnN0IHQ9cztzPXRoaXMuZ2V0TmV4dFZlcnRleChzKSx0aGlzLmZyZWVWZXJ0ZXgodCl9Y29uc3Qgbj10aGlzLmdldEdlb21ldHJ5RnJvbVBhdGgodCk7dGhpcy5zZXRHZW9tZXRyeVZlcnRleENvdW50KG4sdGhpcy5nZXRQb2ludENvdW50KG4pLXRoaXMuZ2V0UGF0aFNpemUodCkpfXRoaXMuc2V0UGF0aFNpemUodCwwKX1nZXROZXh0UGF0aCh0KXtyZXR1cm4gdGhpcy5tX3BhdGhJbmRleExpc3QuZ2V0RmllbGQodCwyKX1nZXRQcmV2UGF0aCh0KXtyZXR1cm4gdGhpcy5tX3BhdGhJbmRleExpc3QuZ2V0RmllbGQodCwxKX1nZXRQYXRoU2l6ZSh0KXtyZXR1cm4gdGhpcy5tX3BhdGhJbmRleExpc3QuZ2V0RmllbGQodCwzKX1pc0Nsb3NlZFBhdGgodCl7cmV0dXJuISEoMSZ0aGlzLmdldFBhdGhGbGFncyh0KSl9c2V0Q2xvc2VkUGF0aCh0LGUpe2lmKHRoaXMuaXNDbG9zZWRQYXRoKHQpPT09ZSlyZXR1cm47aWYodGhpcy5nZXRQYXRoU2l6ZSh0KT4wKXtjb25zdCBzPXRoaXMuZ2V0Rmlyc3RWZXJ0ZXgodCksbj10aGlzLmdldExhc3RWZXJ0ZXgodCk7aWYoZSl7dGhpcy5zZXROZXh0VmVydGV4KG4scyksdGhpcy5zZXRQcmV2VmVydGV4KHMsbik7Y29uc3QgdD10aGlzLmdldFZlcnRleEluZGV4KG4pO3RoaXMuc2V0U2VnbWVudFRvSW5kZXgodCxudWxsKX1lbHNle3RoaXMuc2V0TmV4dFZlcnRleChuLGNyKSx0aGlzLnNldFByZXZWZXJ0ZXgocyxjcik7Y29uc3QgdD10aGlzLmdldFZlcnRleEluZGV4KG4pO3RoaXMuc2V0U2VnbWVudFRvSW5kZXgodCxudWxsKX19Y29uc3Qgcz0oMXx0aGlzLmdldFBhdGhGbGFncyh0KSktMTt0aGlzLnNldFBhdGhGbGFncyh0LHN8KGU/MTowKSl9Y2xvc2VBbGxQYXRocyh0KXtzKDApfWlzU3Ryb25nUGF0aFN0YXJ0KHQpe3JldHVybiEhKDgmdGhpcy5nZXRQYXRoRmxhZ3ModCkpfWlzU3Ryb25nUGF0aEVuZCh0KXtyZXR1cm4hISgxNiZ0aGlzLmdldFBhdGhGbGFncyh0KSl9c2V0U3Ryb25nUGF0aFN0YXJ0KHQsZSl7Y29uc3Qgcz0oOHx0aGlzLmdldFBhdGhGbGFncyh0KSktODt0aGlzLnNldFBhdGhGbGFncyh0LHN8KGU/ODowKSl9c2V0U3Ryb25nUGF0aEVuZCh0LGUpe2NvbnN0IHM9KDE2fHRoaXMuZ2V0UGF0aEZsYWdzKHQpKS0xNjt0aGlzLnNldFBhdGhGbGFncyh0LHN8KGU/MTY6MCkpfWdldEdlb21ldHJ5RnJvbVBhdGgodCl7cmV0dXJuIHRoaXMubV9wYXRoSW5kZXhMaXN0LmdldEZpZWxkKHQsNyl9aXNFeHRlcmlvcih0KXtyZXR1cm4hISgyJnRoaXMuZ2V0UGF0aEZsYWdzKHQpKX1zZXRFeHRlcmlvcih0LGUpe2NvbnN0IHM9KDJ8dGhpcy5nZXRQYXRoRmxhZ3ModCkpLTI7dGhpcy5zZXRQYXRoRmxhZ3ModCxzfChlPzI6MCkpfWdldFJpbmdBcmVhKHQpe2lmKHRoaXMuaXNSaW5nQXJlYVZhbGlkKHQpKXJldHVybiB0aGlzLm1fcGF0aEFyZWFzW3RoaXMuZ2V0UGF0aEluZGV4KHQpXTtjb25zdCBlPXRoaXMuZ2V0Rmlyc3RWZXJ0ZXgodCk7aWYoZT09PWNyKXJldHVybiAwO2NvbnN0IHM9dGhpcy5nZXRYWShlKSxuPW5ldyBwdCgwKSxyPXRoaXMuZ2V0UGF0aFNpemUodCk7aWYocj4yKXtjb25zdCB0PXMuY2xvbmUoKSxpPXQueCxvPXQueTtsZXQgYT10aGlzLmdldE5leHRWZXJ0ZXgoZSk7Y29uc3QgaD10aGlzLmdldFhZKGEpO2E9dGhpcy5nZXROZXh0VmVydGV4KGEpO2NvbnN0IHU9US5nZXROQU4oKTtmb3IobGV0IGU9MjtlPHI7ZSsrLGE9dGhpcy5nZXROZXh0VmVydGV4KGEpKXRoaXMucXVlcnlYWShhLHUpLG4ucGUoKHUueC10LngpKihoLnktbykpLHQuc2V0Q29vcmRzUG9pbnQyRChoKSxoLnNldENvb3Jkc1BvaW50MkQodSk7bi5wZSgoaS10LngpKihoLnktbykpfWlmKHRoaXMuaGFzQ3VydmVzKCkpe2xldCB0PWU7Zm9yKGxldCBlPTA7ZTxyO2UrKyx0PXRoaXMuZ2V0TmV4dFZlcnRleCh0KSl7Y29uc3QgZT10aGlzLmdldFNlZ21lbnQodCk7aWYobnVsbD09PWV8fGUuZ2V0R2VvbWV0cnlUeXBlKCk9PT1pLmVudW1MaW5lKWNvbnRpbnVlO2NvbnN0IHM9MiplLmNhbGN1bGF0ZUFyZWEyREhlbHBlcigpO24ucGUocyl9fXRoaXMuc2V0UmluZ0FyZWFWYWxpZCh0LCEwKTtjb25zdCBvPS41Km4uZ2V0UmVzdWx0KCk7cmV0dXJuIHRoaXMubV9wYXRoQXJlYXNbdGhpcy5nZXRQYXRoSW5kZXgodCldPW8sb31nZXRQYXRoSW5kZXhJbnRlcm5hbCh0KXtyZXR1cm4gdGhpcy5nZXRQYXRoSW5kZXgodCl9Z2V0UGF0aEludGVybmFsSW5kZXhGcm9tVmVydGV4KHQpe3JldHVybiB0aGlzLmdldFBhdGhJbmRleCh0aGlzLmdldFBhdGhGcm9tVmVydGV4KHQpKX1zZXRQYXRoVXNlckluZGV4KHQsZSxzKXtjb25zdCBuPXRoaXMubV9wYXRoaW5kaWNlc1tlXSxpPXRoaXMuZ2V0UGF0aEluZGV4KHQpO24uc2l6ZSgpPHRoaXMubV9wYXRoQXJlYXMubGVuZ3RoJiZuLnJlc2l6ZSh0aGlzLm1fcGF0aEFyZWFzLmxlbmd0aCwtMSksbi53cml0ZShpLHMpfWdldFBhdGhVc2VySW5kZXgodCxlKXtjb25zdCBzPXRoaXMuZ2V0UGF0aEluZGV4KHQpLG49dGhpcy5tX3BhdGhpbmRpY2VzW2VdO3JldHVybiBzPG4uc2l6ZSgpP24ucmVhZChzKTotMX1jcmVhdGVQYXRoVXNlckluZGV4KCl7Zm9yKGxldCBlPTA7ZTx0aGlzLm1fcGF0aGluZGljZXMubGVuZ3RoO2UrKylpZihudWxsPT09dGhpcy5tX3BhdGhpbmRpY2VzW2VdKXJldHVybiB0aGlzLm1fcGF0aGluZGljZXNbZV09dGhpcy5hbGxvY2F0ZVBhdGhJbmRleCgpLGU7dGhpcy5tX3BhdGhpbmRpY2VzLnB1c2godGhpcy5hbGxvY2F0ZVBhdGhJbmRleCgpKTtjb25zdCB0PXRoaXMubV9wYXRoaW5kaWNlcy5sZW5ndGgtMTtyZXR1cm4gcyh0Pj0wJiZ0PD1OdW1iZXIuTUFYX1NBRkVfSU5URUdFUiksdH1maWxsUGF0aFVzZXJJbmRleEZvckdlb21ldHJ5KHQsZSxzKXtjb25zdCBuPXRoaXMubV9wYXRoaW5kaWNlc1tlXSxpPW4uc2l6ZSgpO2ZvcihsZXQgcj10aGlzLmdldEZpcnN0UGF0aCh0KTtyIT09Y3I7cj10aGlzLmdldE5leHRQYXRoKHIpKXtjb25zdCB0PXRoaXMuZ2V0UGF0aEluZGV4KHIpO3Q8aSYmbi53cml0ZSh0LHMpfX1yZW1vdmVQYXRoVXNlckluZGV4KHQpe2Zvcih0aGlzLnJlY3ljbGVQYXRoVXNlckluZGV4KHRoaXMubV9wYXRoaW5kaWNlc1t0XSksdGhpcy5tX3BhdGhpbmRpY2VzW3RdPW51bGw7dGhpcy5tX3BhdGhpbmRpY2VzLmxlbmd0aD4wJiZudWxsPT09dGhpcy5tX3BhdGhpbmRpY2VzLmF0KC0xKTspdGhpcy5tX3BhdGhpbmRpY2VzLnBvcCgpfW1vdmVQYXRoKHQscyxuKXtpZihuPT09Y3ImJmUoXCJcIikscz09PW4pcmV0dXJuO2NvbnN0IGk9dGhpcy5nZXROZXh0UGF0aChuKTtsZXQgcj10aGlzLmdldFByZXZQYXRoKG4pO2NvbnN0IG89dGhpcy5nZXRHZW9tZXRyeUZyb21QYXRoKG4pO3I9PT1jcj90aGlzLnNldEZpcnN0UGF0aChvLGkpOnRoaXMuc2V0TmV4dFBhdGgocixpKSxpPT09Y3I/dGhpcy5zZXRMYXN0UGF0aChvLHIpOnRoaXMuc2V0UHJldlBhdGgoaSxyKSx0aGlzLnNldEdlb21ldHJ5VmVydGV4Q291bnQobyx0aGlzLmdldFBvaW50Q291bnQobyktdGhpcy5nZXRQYXRoU2l6ZShuKSksdGhpcy5zZXRHZW9tZXRyeVBhdGhDb3VudChvLHRoaXMuZ2V0UGF0aENvdW50KG8pLTEpLHI9cz09PWNyP3RoaXMuZ2V0TGFzdFBhdGgodCk6dGhpcy5nZXRQcmV2UGF0aChzKSx0aGlzLnNldFByZXZQYXRoKG4sciksdGhpcy5zZXROZXh0UGF0aChuLHMpLHM9PT1jcj90aGlzLnNldExhc3RQYXRoKHQsbik6dGhpcy5zZXRQcmV2UGF0aChzLG4pLHI9PT1jcj90aGlzLnNldEZpcnN0UGF0aCh0LG4pOnRoaXMuc2V0TmV4dFBhdGgocixuKSx0aGlzLnNldEdlb21ldHJ5VmVydGV4Q291bnQodCx0aGlzLmdldFBvaW50Q291bnQodCkrdGhpcy5nZXRQYXRoU2l6ZShuKSksdGhpcy5zZXRHZW9tZXRyeVBhdGhDb3VudCh0LHRoaXMuZ2V0UGF0aENvdW50KHQpKzEpLHRoaXMuc2V0UGF0aEdlb21ldHJ5KG4sdCl9YWRkVmVydGV4KHQsZSl7dGhpcy5tX3ZlcnRpY2VzLmdldFBvaW50QnlWYWwodGhpcy5nZXRWZXJ0ZXhJbmRleChlKSx0aGlzLmdldEhlbHBlclBvaW50KCkpO3JldHVybiB0aGlzLmluc2VydFZlcnRleF8odCxjcix0aGlzLmdldEhlbHBlclBvaW50KCksITEpfWluc2VydFZlcnRleCh0LGUscyl7cmV0dXJuIHRoaXMuaW5zZXJ0VmVydGV4Xyh0LGUscywhMCl9cmVtb3ZlVmVydGV4KHQsZSl7Y29uc3Qgcz10aGlzLmdldFBhdGhGcm9tVmVydGV4KHQpLG49dGhpcy5nZXRQcmV2VmVydGV4KHQpLGk9dGhpcy5nZXROZXh0VmVydGV4KHQpO24hPT1jciYmdGhpcy5zZXROZXh0VmVydGV4KG4saSk7Y29uc3Qgcj10aGlzLmdldFBhdGhTaXplKHMpO3Q9PT10aGlzLmdldEZpcnN0VmVydGV4KHMpJiZ0aGlzLnNldEZpcnN0VmVydGV4KHMscj4xP2k6Y3IpLGkhPT1jciYmdGhpcy5zZXRQcmV2VmVydGV4KGksbiksdD09PXRoaXMuZ2V0TGFzdFZlcnRleChzKSYmdGhpcy5zZXRMYXN0VmVydGV4KHMscj4xP246Y3IpO2lmKHRoaXMuaGFzQ3VydmVzKCkmJm4hPT1jciYmaSE9PWNyKXtjb25zdCBzPXRoaXMuZ2V0VmVydGV4SW5kZXgodCkscj10aGlzLmdldFZlcnRleEluZGV4KG4pLG89dGhpcy5nZXRWZXJ0ZXhJbmRleChpKTtpZihlKXtjb25zdCB0PXRoaXMuZ2V0U2VnbWVudEZyb21JbmRleChyKTtpZihudWxsIT09dCl7Y29uc3QgZT10aGlzLm1fdmVydGljZXMuZ2V0WFkobyk7dC5zZXRFbmRYWShlKSx0Lm5vcm1hbGl6ZUFmdGVyRW5kcG9pbnRDaGFuZ2UoKX10aGlzLnNldFNlZ21lbnRUb0luZGV4KHMsbnVsbCl9ZWxzZXtjb25zdCB0PXRoaXMuZ2V0U2VnbWVudEZyb21JbmRleChzKTtpZih0aGlzLnNldFNlZ21lbnRUb0luZGV4KHMsbnVsbCksbnVsbCE9PXQpe2NvbnN0IGU9dGhpcy5tX3ZlcnRpY2VzLmdldFhZKHIpO3Quc2V0U3RhcnRYWShlKSx0Lm5vcm1hbGl6ZUFmdGVyRW5kcG9pbnRDaGFuZ2UoKX10aGlzLnNldFNlZ21lbnRUb0luZGV4KHIsdCl9fXRoaXMuc2V0UGF0aFNpemUocyxyLTEpO2NvbnN0IG89dGhpcy5nZXRHZW9tZXRyeUZyb21QYXRoKHMpO3JldHVybiB0aGlzLnNldEdlb21ldHJ5VmVydGV4Q291bnQobyx0aGlzLmdldFBvaW50Q291bnQobyktMSksdGhpcy5mcmVlVmVydGV4KHQpLGl9cmVtb3ZlVmVydGljZXModCxlKXtzKHQhPT1lKTtjb25zdCBuPXRoaXMuZ2V0UGF0aEZyb21WZXJ0ZXgodCksaT10aGlzLmdldFByZXZWZXJ0ZXgodCkscj10aGlzLmdldFByZXZWZXJ0ZXgoZSk7aSE9PWNyJiZ0aGlzLnNldE5leHRWZXJ0ZXgoaSxlKTtsZXQgbz10aGlzLmdldFBhdGhTaXplKG4pO2NvbnN0IGE9dGhpcy5nZXRWZXJ0ZXhJbmRleCh0KTt0aGlzLnNldFNlZ21lbnRUb0luZGV4KGEsbnVsbCksdGhpcy5zZXRQcmV2VmVydGV4KGUsaSksdGhpcy5zZXRQcmV2VmVydGV4KHQsY3IpLHRoaXMuc2V0TmV4dFZlcnRleChyLGNyKTtsZXQgaD0wLHU9dDtjb25zdCBtPXRoaXMuZ2V0Rmlyc3RWZXJ0ZXgobik7bGV0IGw9ITE7Zm9yKDs7KXtjb25zdCB0PXRoaXMuZ2V0TmV4dFZlcnRleCh1KTtpZihsfHw9bT09PXUsdGhpcy5mcmVlVmVydGV4KHUpLGgrKyx1PT09cilicmVhazt1PXR9by09aCxsJiZ0aGlzLnNldEZpcnN0VmVydGV4KG4sbz4wP2U6Y3IpLHRoaXMuc2V0UGF0aFNpemUobixvKTtjb25zdCBjPXRoaXMuZ2V0R2VvbWV0cnlGcm9tUGF0aChuKTt0aGlzLnNldEdlb21ldHJ5VmVydGV4Q291bnQoYyx0aGlzLmdldFBvaW50Q291bnQoYyktaCl9Z2V0Rmlyc3RWZXJ0ZXgodCl7cmV0dXJuIHRoaXMubV9wYXRoSW5kZXhMaXN0LmdldEZpZWxkKHQsNCl9Z2V0TGFzdFZlcnRleCh0KXtyZXR1cm4gdGhpcy5tX3BhdGhJbmRleExpc3QuZ2V0RmllbGQodCw1KX1nZXROZXh0VmVydGV4KHQpe3JldHVybiB0aGlzLm1fdmVydGV4SW5kZXhMaXN0LmdldEZpZWxkKHQsMil9Z2V0UHJldlZlcnRleCh0KXtyZXR1cm4gdGhpcy5tX3ZlcnRleEluZGV4TGlzdC5nZXRGaWVsZCh0LDEpfWdldE5leHRWZXJ0ZXhFeCh0LGUpe3JldHVybiBlPjA/dGhpcy5tX3ZlcnRleEluZGV4TGlzdC5nZXRGaWVsZCh0LDIpOnRoaXMubV92ZXJ0ZXhJbmRleExpc3QuZ2V0RmllbGQodCwxKX1nZXRQcmV2VmVydGV4RXgodCxlKXtyZXR1cm4gZT4wP3RoaXMubV92ZXJ0ZXhJbmRleExpc3QuZ2V0RmllbGQodCwxKTp0aGlzLm1fdmVydGV4SW5kZXhMaXN0LmdldEZpZWxkKHQsMil9Z2V0UGF0aEZyb21WZXJ0ZXgodCl7cmV0dXJuIHRoaXMubV92ZXJ0ZXhJbmRleExpc3QuZ2V0RmllbGQodCwzKX1hZGRQb2ludCh0LGUpe3JldHVybiB0aGlzLmluc2VydFZlcnRleF8odCxjcixlLCExKX1nZXRHZW9tZXRyeUZyb21WZXJ0ZXgodCl7cmV0dXJuIHRoaXMuZ2V0R2VvbWV0cnlGcm9tUGF0aCh0aGlzLmdldFBhdGhGcm9tVmVydGV4KHQpKX1yZXBsYWNlTmFOcyh0LGUpe3RoaXMubV92ZXJ0ZXhEZXNjcmlwdGlvbi5oYXNBdHRyaWJ1dGUodCl8fGgoXCJcIiksdGhpcy5tX3ZlcnRpY2VzLnJlcGxhY2VOYU5zKHQsZSl9cmVtb3ZlTmFOVmVydGljZXMoKXtmb3IobGV0IHQ9dGhpcy5nZXRGaXJzdEdlb21ldHJ5KCk7dCE9PWNyO3Q9dGhpcy5nZXROZXh0R2VvbWV0cnkodCkpZm9yKGxldCBlPXRoaXMuZ2V0Rmlyc3RQYXRoKHQpO2UhPT1jcjtlPXRoaXMuZ2V0TmV4dFBhdGgoZSkpe2xldCB0PXRoaXMuZ2V0Rmlyc3RWZXJ0ZXgoZSk7Zm9yKGxldCBzPTAsbj10aGlzLmdldFBhdGhTaXplKGUpO3M8bjtzKyspdD10aGlzLmdldFhZKHQpLmlzRmluaXRlKCk/dGhpcy5nZXROZXh0VmVydGV4KHQpOnRoaXMucmVtb3ZlVmVydGV4KHQsITApfX1xdWVyeVZlcnRleEl0ZXJhdG9yKHQ9Y3Ipe3JldHVybiB0aGlzLnF1ZXJ5VmVydGV4SXRlcmF0b3JFeCghMSx0KX1xdWVyeVZlcnRleEl0ZXJhdG9yRXgodCxlPWNyKXtsZXQgcz1jcixuPWNyLGk9Y3Iscj1jcixvPTAsYT0hMTtmb3Iocz1lIT09Y3I/ZTp0aGlzLmdldEZpcnN0R2VvbWV0cnkoKTtzIT09Y3I7cz10aGlzLmdldE5leHRHZW9tZXRyeShzKSlpZighdHx8Yyh0aGlzLmdldEdlb21ldHJ5VHlwZShzKSkpe2ZvcihuPXRoaXMuZ2V0Rmlyc3RQYXRoKHMpO24hPT1jcjtuPXRoaXMuZ2V0TmV4dFBhdGgobikpaWYoaT10aGlzLmdldEZpcnN0VmVydGV4KG4pLHI9aSxvPTAsaSE9PWNyKXthPSEwO2JyZWFrfWlmKGF8fGUhPT1jcilicmVha31yZXR1cm4gYXx8KHM9Y3IpLHByLmNyZWF0ZV8odGhpcyxzLG4saSxyLG8sdCwhMSxlIT09Y3IpfXF1ZXJ5VmVydGV4SXRlcmF0b3JPblNlbGVjdGlvbih0PWNyKXtyZXR1cm4gdGhpcy5tX3NlbGVjdGlvbj9wci5jcmVhdGVfKHRoaXMsdCxjcixjcixjciwtMSwhMSwhMCx0IT09Y3IpOnRoaXMucXVlcnlWZXJ0ZXhJdGVyYXRvckV4KCExLHQpfWhhc1NlbGVjdGlvbigpe3JldHVybiB0aGlzLm1fc2VsZWN0aW9ufWNyZWF0ZUVtcHR5U2VsZWN0aW9uKCl7cygwKX1yZW1vdmVTZWxlY3Rpb24oKXt0aGlzLm1fc2VsZWN0aW9uJiYodGhpcy5tX3NlbGVjdGVkVmVydGljZXMubGVuZ3RoPTAsdGhpcy5yZW1vdmVVc2VySW5kZXgodGhpcy5tX3NlbGVjdGlvbkluZGV4KSx0aGlzLm1fc2VsZWN0aW9uSW5kZXg9LTEsdGhpcy5tX3NlbGVjdGlvbj0hMSx0aGlzLm1fc2VsZWN0ZWRDb3VudD0wKX1zZWxlY3QodCl7cmV0dXJuISF0aGlzLnNlbGVjdGVkKHQpfHwodGhpcy5zZXRVc2VySW5kZXgodCx0aGlzLm1fc2VsZWN0aW9uSW5kZXgsdGhpcy5tX3NlbGVjdGVkVmVydGljZXMubGVuZ3RoKSx0aGlzLm1fc2VsZWN0ZWRWZXJ0aWNlcy5wdXNoKHQpLHRoaXMubV9zZWxlY3RlZENvdW50KyssITEpfXVuc2VsZWN0KHQpe2lmKCF0aGlzLm1fc2VsZWN0aW9uKXJldHVybjtjb25zdCBlPXRoaXMuZ2V0VXNlckluZGV4KHQsdGhpcy5tX3NlbGVjdGlvbkluZGV4KTtlPj0wJiYodGhpcy5tX3NlbGVjdGVkVmVydGljZXNbZV09Y3IsdGhpcy5zZXRVc2VySW5kZXgodCx0aGlzLm1fc2VsZWN0aW9uSW5kZXgsLTEpLHRoaXMubV9zZWxlY3RlZENvdW50LS0pfXNlbGVjdGVkKHQpe3JldHVybiF0aGlzLm1fc2VsZWN0aW9ufHx0aGlzLnNlbGVjdGVkXyh0KX1nZXRTZWxlY3RlZENvdW50KCl7cmV0dXJuIHRoaXMubV9zZWxlY3Rpb24/dGhpcy5tX3NlbGVjdGVkQ291bnQ6dGhpcy5nZXRUb3RhbFBvaW50Q291bnQoKX1jcmVhdGVTZWxlY3Rpb25Gb3JDcmFja2luZ0FuZENsdXN0ZXJpbmcodCxlKXtyZXR1cm4gcygwKSwhMX1wZWVsQUxvb3AodCxlKXt0aGlzLnBlZWxBTG9vcF8odCxlLCExKX1wZWVsQUxvb3BJbnRvQVBhdGgodCxlKXtyZXR1cm4gdGhpcy5wZWVsQUxvb3BfKHQsZSwhMCl9YXBwbHlUcmFuc2Zvcm1hdGlvbih0KXtpZih0aGlzLm1fdmVydGljZXNNcC5hcHBseVRyYW5zZm9ybWF0aW9uKHQpLG51bGwhPT10aGlzLm1fc2VnbWVudHMpZm9yKGxldCBlPTAscz10aGlzLm1fc2VnbWVudHMubGVuZ3RoO2U8cztlKyspdGhpcy5tX3NlZ21lbnRzW2VdJiZ0aGlzLm1fc2VnbWVudHNbZV0uYXBwbHlUcmFuc2Zvcm1hdGlvbih0KX1zZXRHZW9tZXRyeVR5cGUodCxlKXt0aGlzLm1fZ2VvbWV0cnlJbmRleExpc3Quc2V0RmllbGQodCwyLGUpfXNwbGl0U2VnbWVudFdpdGhJbnRlcnNlY3Rvcih0LGUscyxuLGkpe24/dGhpcy5zcGxpdFNlZ21lbnRGb3J3YXJkKHQsZSxzLCEwLGkpOnRoaXMuc3BsaXRTZWdtZW50QmFja3dhcmQodCxlLHMsITAsaSl9c2V0UHJldlZlcnRleCh0LGUpe3RoaXMubV92ZXJ0ZXhJbmRleExpc3Quc2V0RmllbGQodCwxLGUpfXNldE5leHRWZXJ0ZXgodCxlKXt0aGlzLm1fdmVydGV4SW5kZXhMaXN0LnNldEZpZWxkKHQsMixlKX1zZXRQYXRoVG9WZXJ0ZXgodCxlKXt0aGlzLm1fdmVydGV4SW5kZXhMaXN0LnNldEZpZWxkKHQsMyxlKX1zZXRQYXRoU2l6ZSh0LGUpe3RoaXMubV9wYXRoSW5kZXhMaXN0LnNldEZpZWxkKHQsMyxlKX1zZXRGaXJzdFZlcnRleCh0LGUpe3RoaXMubV9wYXRoSW5kZXhMaXN0LnNldEZpZWxkKHQsNCxlKX1zZXRMYXN0VmVydGV4KHQsZSl7dGhpcy5tX3BhdGhJbmRleExpc3Quc2V0RmllbGQodCw1LGUpfWdldFNlZ21lbnQodCl7aWYobnVsbCE9dGhpcy5tX3NlZ21lbnRzKXtjb25zdCBlPXRoaXMuZ2V0VmVydGV4SW5kZXgodCk7cmV0dXJuIHRoaXMuZ2V0U2VnbWVudEZyb21JbmRleChlKX1yZXR1cm4gbnVsbH1pc0N1cnZlKHQpe2lmKG51bGw9PT10aGlzLm1fc2VnbWVudHMpcmV0dXJuITE7Y29uc3QgZT10aGlzLmdldFZlcnRleEluZGV4KHQpO3JldHVybiB0aGlzLm1fc2VnbWVudHMubGVuZ3RoPmUmJm51bGwhPT10aGlzLm1fc2VnbWVudHNbZV19cXVlcnlTZWdtZW50KHQsZSxzPSEwLG49ITEpe2NvbnN0IGk9dGhpcy5nZXROZXh0VmVydGV4KHQpO2lmKGk9PT1jcilyZXR1cm4hMTtjb25zdCByPXRoaXMuZ2V0U2VnbWVudCh0KTtpZighcilyZXR1cm4hcyYmKHRoaXMucXVlcnlMaW5lQ29ubmVjdG9yKHQsZS5jcmVhdGVMaW5lKCksbiksITApO2lmKGUuY29weUZyb20ociwhMCksbilyZXR1cm4hMDtpZih0aGlzLm1fdmVydGV4RGVzY3JpcHRpb24uZ2V0QXR0cmlidXRlQ291bnQoKT4xKXtjb25zdCBzPXRoaXMuZ2V0SGVscGVyUG9pbnQoKTt0aGlzLnF1ZXJ5UG9pbnQodCxzKSxlLmdldCgpLnNldFN0YXJ0KHMpLHRoaXMucXVlcnlQb2ludChpLHMpLGUuZ2V0KCkuc2V0RW5kKHMpfXJldHVybiEwfWdldFNlZ21lbnRGcm9tSW5kZXgodCl7Y29uc3QgZT1udWxsIT09dGhpcy5tX3NlZ21lbnRzJiZ0aGlzLm1fc2VnbWVudHMubGVuZ3RoPnQ/dGhpcy5tX3NlZ21lbnRzW3RdOm51bGw7cmV0dXJuIGV8fG51bGx9Z2V0QW5kQ2xlYXJTZWdtZW50RnJvbUluZGV4KHQpe2NvbnN0IGU9bnVsbCE9PXRoaXMubV9zZWdtZW50cyYmdGhpcy5tX3NlZ21lbnRzLmxlbmd0aD50P3RoaXMubV9zZWdtZW50c1t0XTpudWxsO3JldHVybiBlfHxudWxsfXNldFNlZ21lbnRUb0luZGV4KHQsZSl7aWYodGhpcy5tX2hhc0ZvcmNlU2V0RW52ZWxvcGU9MCxudWxsPT09dGhpcy5tX3NlZ21lbnRzKXtpZighZSlyZXR1cm47dGhpcy5tX3NlZ21lbnRzPVtdLHRoaXMubV9zZWdtZW50cy5sZW5ndGg9dGhpcy5tX3ZlcnRpY2VzLmdldFBvaW50Q291bnQoKX10Pj10aGlzLm1fc2VnbWVudHMubGVuZ3RoJiYodGhpcy5tX3NlZ21lbnRzLmxlbmd0aD10KzEpLHRoaXMubV9zZWdtZW50c1t0XT1lfXNldEdlb21ldHJ5UGF0aENvdW50KHQsZSl7dGhpcy5tX2dlb21ldHJ5SW5kZXhMaXN0LnNldEZpZWxkKHQsNixlKX1zZXRHZW9tZXRyeVZlcnRleENvdW50KHQsZSl7dGhpcy5tX2dlb21ldHJ5SW5kZXhMaXN0LnNldEZpZWxkKHQsNSxlKX1yaW5nUGFyZW50YWdlQ2hlY2tJbnRlcm5hbCh0LGUpe3JldHVybiBzKDApLCExfXJldmVyc2VSaW5nSW50ZXJuYWwodCl7Y29uc3QgZT10aGlzLmhhc0N1cnZlcygpLHM9dGhpcy5oYXNTZWdtZW50UGFyZW50YWdlKCk7bGV0IG49bnVsbCxpPS0xLHI9dDtpZihlKXtjb25zdCB0PXRoaXMuZ2V0VmVydGV4SW5kZXgocik7bj10aGlzLmdldEFuZENsZWFyU2VnbWVudEZyb21JbmRleCh0KX1zJiYoaT10aGlzLmdldFNlZ21lbnRQYXJlbnRhZ2UocikpO2Rve2NvbnN0IHQ9dGhpcy5nZXRQcmV2VmVydGV4KHIpLG89dGhpcy5nZXROZXh0VmVydGV4KHIpO2lmKHRoaXMuc2V0TmV4dFZlcnRleChyLHQpLHRoaXMuc2V0UHJldlZlcnRleChyLG8pLGUpe2NvbnN0IHQ9dGhpcy5nZXRWZXJ0ZXhJbmRleChvKSxlPXRoaXMuZ2V0U2VnbWVudEZyb21JbmRleCh0KTtuJiZuLnJldmVyc2UoKSx0aGlzLnNldFNlZ21lbnRUb0luZGV4KHQsbiksbj1lfWlmKHMpe2NvbnN0IHQ9dGhpcy5nZXRTZWdtZW50UGFyZW50YWdlKG8pO3RoaXMuc2V0U2VnbWVudFBhcmVudGFnZVByZXNlcnZlQnJlYWsobyxpKSxpPXR9cj1vfXdoaWxlKHIhPT10KTt0aGlzLmRiZ1ZlcmlmeUludGVncml0eSh0KX1zZXRUb3RhbFBvaW50Q291bnQodCl7dGhpcy5tX3BvaW50Q291bnQ9dH1yZW1vdmVQYXRoT25seSh0KXtjb25zdCBlPXRoaXMuZ2V0UHJldlBhdGgodCkscz10aGlzLmdldE5leHRQYXRoKHQpLG49dGhpcy5nZXRHZW9tZXRyeUZyb21QYXRoKHQpO2UhPT1jcj90aGlzLnNldE5leHRQYXRoKGUscyk6dGhpcy5zZXRGaXJzdFBhdGgobixzKSxzIT09Y3I/dGhpcy5zZXRQcmV2UGF0aChzLGUpOnRoaXMuc2V0TGFzdFBhdGgobixlKSx0aGlzLnNldEZpcnN0VmVydGV4KHQsY3IpLHRoaXMuc2V0TGFzdFZlcnRleCh0LGNyKSx0aGlzLmZyZWVQYXRoKHQpfWluc2VydENsb3NlZFBhdGgodCxlLHMsbixpKXtjb25zdCByPXRoaXMuaW5zZXJ0UGF0aCh0LGNyKTtsZXQgbz0wLGE9cztmb3IoaVswXT0hMTs7KXthPT09biYmKGlbMF09ITApLHRoaXMuc2V0UGF0aFRvVmVydGV4KGEsciksbysrO2NvbnN0IHQ9dGhpcy5nZXROZXh0VmVydGV4KGEpO2lmKHQ9PT1zKWJyZWFrO2E9dH1yZXR1cm4gdGhpcy5zZXRDbG9zZWRQYXRoKHIsITApLHRoaXMuc2V0UGF0aFNpemUocixvKSxpWzBdJiYocz1uKSx0aGlzLnNldEZpcnN0VmVydGV4KHIscyksdGhpcy5zZXRMYXN0VmVydGV4KHIsdGhpcy5nZXRQcmV2VmVydGV4KHMpKSx0aGlzLnNldFJpbmdBcmVhVmFsaWQociwhMSkscn1maW5kVmVydGV4MkQodCxlKXtyZXR1cm4gcygwKSwwfWZpbmRWZXJ0ZXgzRCh0LGUsbil7cmV0dXJuIHMoMCksMH1kYmdWZXJpZnlNb25vdG9uZSgpe31kYmdDaGVja1NlbGVjdGlvbigpe31kYmdWZXJpZnlTZWdtZW50KHQpe31kYmdWZXJpZnlJbnRlZ3JpdHkodCxlPSEwKXt9ZGJnVmVyaWZ5VmVydGV4Q291bnRzKCl7fWRiZ1ZlcmlmeUN1cnZlcygpe31kYmdEdW1wR2VvbWV0cnkodCxlKXt9Z2V0TmV4dE50aFZlcnRleCh0LGUpe2lmKDA9PT1lKXJldHVybiB0O2xldCBzPXQ7Zm9yKGxldCBuPTA7bjxlOysrbilpZihzPWU+MD90aGlzLmdldE5leHRWZXJ0ZXgocyk6dGhpcy5nZXRQcmV2VmVydGV4KHMpLHM9PT1jcilyZXR1cm4gY3I7cmV0dXJuIHN9cmVtb3ZlVmVydGV4SW50ZXJuYWwodCxlKXtjb25zdCBzPXRoaXMuZ2V0UHJldlZlcnRleCh0KSxuPXRoaXMuZ2V0TmV4dFZlcnRleCh0KTtzIT09Y3ImJnRoaXMuc2V0TmV4dFZlcnRleChzLG4pLG4hPT1jciYmdGhpcy5zZXRQcmV2VmVydGV4KG4scyk7aWYodGhpcy5oYXNDdXJ2ZXMoKSYmcyE9PWNyJiZuIT09Y3Ipe2NvbnN0IGk9dGhpcy5nZXRWZXJ0ZXhJbmRleCh0KSxyPXRoaXMuZ2V0VmVydGV4SW5kZXgocyksbz10aGlzLmdldFZlcnRleEluZGV4KG4pO2lmKGUpe2NvbnN0IHQ9dGhpcy5nZXRTZWdtZW50RnJvbUluZGV4KHIpO2lmKG51bGwhPT10KXtjb25zdCBlPXRoaXMubV92ZXJ0aWNlcy5nZXRYWShvKTt0LnNldEVuZFhZKGUpLHQubm9ybWFsaXplQWZ0ZXJFbmRwb2ludENoYW5nZSgpfXRoaXMuc2V0U2VnbWVudFRvSW5kZXgoaSxudWxsKX1lbHNle2NvbnN0IHQ9dGhpcy5nZXRTZWdtZW50RnJvbUluZGV4KGkpO2lmKHRoaXMuc2V0U2VnbWVudFRvSW5kZXgoaSxudWxsKSxudWxsIT09dCl7Y29uc3QgZT10aGlzLm1fdmVydGljZXMuZ2V0WFkocik7dC5zZXRTdGFydFhZKGUpLHQubm9ybWFsaXplQWZ0ZXJFbmRwb2ludENoYW5nZSgpfXRoaXMuc2V0U2VnbWVudFRvSW5kZXgocix0KX19cmV0dXJuIHRoaXMuZnJlZVZlcnRleCh0KSxufWlzUmluZ0FyZWFWYWxpZCh0KXtyZXR1cm4hISg0JnRoaXMuZ2V0UGF0aEZsYWdzKHQpKX1zZXRSaW5nQXJlYVZhbGlkKHQsZSl7Y29uc3Qgcz0oNHx0aGlzLmdldFBhdGhGbGFncyh0KSktNDt0aGlzLnNldFBhdGhGbGFncyh0LHN8KGU/NDowKSl9Y29tcGFyZVZlcnRpY2VzU2ltcGxlWSh0LGUpe3JldHVybiB0aGlzLnF1ZXJ5WFkodCx0aGlzLm1fd29ya1BvaW50MkQpLHRoaXMucXVlcnlYWShlLHRoaXMubV93b3JrUG9pbnQyXzJEKSx0aGlzLm1fd29ya1BvaW50MkQuY29tcGFyZSh0aGlzLm1fd29ya1BvaW50Ml8yRCl9Y29tcGFyZVZlcnRpY2VzU2ltcGxlWTNEKHQsZSl7cmV0dXJuIHRoaXMuZ2V0WFlaKHQpLmNvbXBhcmUodGhpcy5nZXRYWVooZSkpfWNvbXBhcmVWZXJ0aWNlc1NpbXBsZVgodCxlKXtyZXR1cm4gdGhpcy5nZXRYWSh0KS5jb21wYXJlWCh0aGlzLmdldFhZKGUpKX1zb3J0VmVydGljZXNTaW1wbGVCeVlIZWFwTWVyZ2UodCxlKXtzKDApfXNvcnRWZXJ0aWNlc1NpbXBsZUJ5WSh0LGUscyl7dGhpcy5tX2J1Y2tldFNvcnQuc29ydCh0LGUscyxuZXcgZHIodGhpcykpfXNvcnRWZXJ0aWNlc1NpbXBsZUJ5WCh0LGUsbil7cygwKX1zb3J0VmVydGljZXNTaW1wbGVCeVkzRCh0LGUsbil7cygwKX1zbmFwVmVydGV4Rm9yUG9sZUNsaXBwaW5nKHQsZSl7Y29uc3Qgcz10aGlzLmdldFByZXZWZXJ0ZXgodCk7cyE9PWNyJiZ0aGlzLnJlcGxhY2VDdXJ2ZVdpdGhMaW5lKHMpO3RoaXMuZ2V0TmV4dFZlcnRleCh0KSE9PWNyJiZ0aGlzLnJlcGxhY2VDdXJ2ZVdpdGhMaW5lKHQpO2NvbnN0IG49bmV3IFE7dGhpcy5xdWVyeVhZKHQsbiksbi55PWUsdGhpcy5zZXRYWSh0LG4pfXNldFNlZ21lbnRQYXJlbnRhZ2VBbmRCcmVhayh0LGUsbj0hMCl7aWYoLTE9PT10aGlzLm1fc2VnbWVudFBhcmVudGFnZUluZGV4KXtpZigtMT09PWUpcmV0dXJuO3RoaXMubV9zZWdtZW50UGFyZW50YWdlSW5kZXg9dGhpcy5jcmVhdGVVc2VySW5kZXgoKX1lPj0wJiYocyhlPD1ZdCgpPj4xKSxlPDw9MSxlfD1uPzE6MCksdGhpcy5zZXRVc2VySW5kZXgodCx0aGlzLm1fc2VnbWVudFBhcmVudGFnZUluZGV4LGUpfXNldFNlZ21lbnRQYXJlbnRhZ2VQcmVzZXJ2ZUJyZWFrKHQsZSl7aWYocyhlPj0tMSksLTE9PT10aGlzLm1fc2VnbWVudFBhcmVudGFnZUluZGV4KXtpZigtMT09PWUpcmV0dXJuO3RoaXMubV9zZWdtZW50UGFyZW50YWdlSW5kZXg9dGhpcy5jcmVhdGVVc2VySW5kZXgoKX1pZihlPj0wKXtzKGU8PVl0KCk+PjEpLGU8PD0xO2V8PXRoaXMuZ2V0U2VnbWVudFBhcmVudGFnZUJyZWFrVmVydGV4KHQpPzE6MH10aGlzLnNldFVzZXJJbmRleCh0LHRoaXMubV9zZWdtZW50UGFyZW50YWdlSW5kZXgsZSl9Z2V0U2VnbWVudFBhcmVudGFnZSh0KXtpZigtMT09PXRoaXMubV9zZWdtZW50UGFyZW50YWdlSW5kZXgpcmV0dXJuLTE7Y29uc3QgZT10aGlzLmdldFVzZXJJbmRleCh0LHRoaXMubV9zZWdtZW50UGFyZW50YWdlSW5kZXgpO3JldHVybiBlPDA/ZTplPj4xfWdldE9yaWdpbmFsU2VnbWVudEluZm8odCl7aWYoLTEhPT10aGlzLm1fc2VnbWVudFBhcmVudGFnZUluZGV4KXtjb25zdCBlPXRoaXMuZ2V0U2VnbWVudFBhcmVudGFnZSh0KTtyZXR1cm4gbmV3IGZyKGUpfXJldHVybiBuZXcgZnIoLTEpfXNldFNlZ21lbnRQYXJlbnRhZ2VCcmVha1ZlcnRleCh0LGUpe2lmKC0xPT09dGhpcy5tX3NlZ21lbnRQYXJlbnRhZ2VJbmRleClyZXR1cm47bGV0IHM9dGhpcy5nZXRVc2VySW5kZXgodCx0aGlzLm1fc2VnbWVudFBhcmVudGFnZUluZGV4KTtzPDB8fCEhKDEmcykhPT1lJiYoZT9zfD0xOnMmPVl0KCk+PjE8PDEsdGhpcy5zZXRVc2VySW5kZXgodCx0aGlzLm1fc2VnbWVudFBhcmVudGFnZUluZGV4LHMpKX1nZXRTZWdtZW50UGFyZW50YWdlQnJlYWtWZXJ0ZXgodCl7aWYoLTE9PT10aGlzLm1fc2VnbWVudFBhcmVudGFnZUluZGV4KXJldHVybiEwO2NvbnN0IGU9dGhpcy5nZXRVc2VySW5kZXgodCx0aGlzLm1fc2VnbWVudFBhcmVudGFnZUluZGV4KTtyZXR1cm4gZTwwfHwhISgxJmUpfWlzRGlzY29udGludW91c1NlZ21lbnRQYXJlbnRhZ2UodCl7Y29uc3QgZT10aGlzLmdldFByZXZWZXJ0ZXgodCk7aWYoZT09PWNyKXJldHVybiExO3JldHVybiB0aGlzLmdldFNlZ21lbnRQYXJlbnRhZ2UoZSkhPT10aGlzLmdldFNlZ21lbnRQYXJlbnRhZ2UodCl9c2V0Q3VydmVTdGl0Y2hlclBvaW50ZXIodCl7dGhpcy5tX2N1cnZlU3RpdGNoZXI9dH1oYXNTZWdtZW50UGFyZW50YWdlKCl7cmV0dXJuLTEhPT10aGlzLm1fc2VnbWVudFBhcmVudGFnZUluZGV4fWRlbGV0ZVNlZ21lbnRQYXJlbnRhZ2UoKXstMSE9PXRoaXMubV9zZWdtZW50UGFyZW50YWdlSW5kZXgmJih0aGlzLnJlbW92ZVVzZXJJbmRleCh0aGlzLm1fc2VnbWVudFBhcmVudGFnZUluZGV4KSx0aGlzLm1fc2VnbWVudFBhcmVudGFnZUluZGV4PS0xKSx0aGlzLm1fY3VydmVTdGl0Y2hlcj1udWxsfWNsZWFyU2VnbWVudHMoKXt0aGlzLm1fc2VnbWVudHM9bnVsbH19ZnVuY3Rpb24geXIodCl7aWYodC5pc0VtcHR5KCkpcmV0dXJuIG5ldyB1cih7dmQ6dC5nZXREZXNjcmlwdGlvbigpfSk7aWYoYyh0LmdldEdlb21ldHJ5VHlwZSgpKSYmdC5oYXNOb25MaW5lYXJTZWdtZW50cygpKXJldHVybiBDcih0KTtjb25zdCBlPXQuZ2V0SW1wbCgpLHM9ZS5nZXRQb2ludENvdW50KCk7aWYoczw9Mil7aWYoMT09PXN8fGUuZ2V0WFkoMCkuZXF1YWxzKGUuZ2V0WFkoMSkpKXtjb25zdCB0PW5ldyBxKHt2ZDplLmdldERlc2NyaXB0aW9uKCl9KTtyZXR1cm4gZS5nZXRQb2ludEJ5VmFsKDAsdCksdH17Y29uc3QgdD1uZXcgcSxzPW5ldyBPcyh7dmQ6ZS5nZXREZXNjcmlwdGlvbigpfSk7cmV0dXJuIGUuZ2V0UG9pbnRCeVZhbCgwLHQpLHMuc3RhcnRQYXRoUG9pbnQodCksZS5nZXRQb2ludEJ5VmFsKDEsdCkscy5saW5lVG9Qb2ludCh0KSxzfX1jb25zdCBuPWUuZ2V0QXR0cmlidXRlU3RyZWFtUmVmKDApLGk9bmV3IHdyKHtzdHJlYW06bixuOnN9KTtsZXQgcj0wLG89MTtjb25zdCBhPW4ucmVhZFBvaW50MkQocjw8MSksaD1uZXcgUTtmb3IoO288cyYmbi5xdWVyeVBvaW50MkQobzw8MSxoKS5lcXVhbHMoYSk7KW8rKztpZihpLm1fdHJlZUh1bGwuYWRkRWxlbWVudChyKSxvPHMpe2kubV90cmVlSHVsbC5hZGRCaWdnZXN0RWxlbWVudChvKTtjb25zdCB0PW5ldyBRO2ZvcihsZXQgcz1vKzE7czxlLmdldFBvaW50Q291bnQoKTtzKyspe24ucXVlcnlQb2ludDJEKHM8PDEsdCk7Y29uc3QgZT1pLnRyZWVIdWxsKHQpOy0xIT09ZSYmaS5tX3RyZWVIdWxsLnNldEVsZW1lbnQoZSxzKX19Y29uc3QgdT1lLmdldERlc2NyaXB0aW9uKCksbT11LmdldEF0dHJpYnV0ZUNvdW50KCk+MSxsPWkubV90cmVlSHVsbC5zaXplKCk7bGV0IGc9bnVsbDtpZihsPj0yKXtnPWw+PTM/bmV3IHVyKHt2ZDp1fSk6bmV3IE9zKHt2ZDp1fSk7Y29uc3QgdD1nLmdldEltcGwoKTt0LnJlc2VydmUoaS5tX3RyZWVIdWxsLnNpemUoKSksdC5hZGRQYXRoUG9pbnQyRChudWxsLDAsITApO2NvbnN0IHM9bmV3IFE7Zm9yKGxldCByPWkubV90cmVlSHVsbC5nZXRGaXJzdCgpOy0xIT09cjtyPWkubV90cmVlSHVsbC5nZXROZXh0KHIpKWlmKG0pe2NvbnN0IHM9bmV3IHE7ZS5nZXRQb2ludEJ5VmFsKGkubV90cmVlSHVsbC5nZXRFbGVtZW50KHIpLHMpLHQuaW5zZXJ0UG9pbnQoMCwtMSxzKX1lbHNlIG4ucXVlcnlQb2ludDJEKGkubV90cmVlSHVsbC5nZXRFbGVtZW50KHIpPDwxLHMpLHQuaW5zZXJ0UG9pbnQyRCgwLC0xLHMpfWVsc2UgaWYobSl7Y29uc3QgdD1uZXcgcSh7dmQ6dX0pO2UuZ2V0UG9pbnRCeVZhbChpLm1fdHJlZUh1bGwuZ2V0RWxlbWVudChpLm1fdHJlZUh1bGwuZ2V0Rmlyc3QoKSksdCksZz10fWVsc2V7Y29uc3QgdD1uLnJlYWRQb2ludDJEKGkubV90cmVlSHVsbC5nZXRFbGVtZW50KGkubV90cmVlSHVsbC5nZXRGaXJzdCgpKTw8MSk7Zz1uZXcgcSh0KX1yZXR1cm4gZ31mdW5jdGlvbiB4cih0LGUscyxuPSExKXtpZihlPD0yNjIxNDQpcmV0dXJuIElyKHQsZSxzLG4pO2NvbnN0IGk9bmV3IHdyKHtwb2ludHM6dCxuOmV9KSxyPTA7bGV0IG89MTtjb25zdCBhPXRbcl07Zm9yKDtvPGUmJnRbb10uZXF1YWxzKGEpOylvKys7aWYoaS5tX3RyZWVIdWxsLmFkZEVsZW1lbnQociksbzxlKXtpLm1fdHJlZUh1bGwuYWRkQmlnZ2VzdEVsZW1lbnQobyk7Zm9yKGxldCBzPW8rMTtzPGU7cysrKXtjb25zdCBlPXRbc10sbj1pLnRyZWVIdWxsKGUpOy0xIT09biYmaS5tX3RyZWVIdWxsLnNldEVsZW1lbnQobixzKX19bGV0IGg9MDtmb3IobGV0IHU9aS5tX3RyZWVIdWxsLmdldEZpcnN0KCk7LTEhPT11O3U9aS5tX3RyZWVIdWxsLmdldE5leHQodSkpc1toKytdPWkubV90cmVlSHVsbC5nZXRFbGVtZW50KHUpO3JldHVybiBofWZ1bmN0aW9uIENyKHQpe3ModC5oYXNOb25MaW5lYXJTZWdtZW50cygpJiYhdC5pc0VtcHR5KCkpO2NvbnN0IGU9bmV3IHdyO3JldHVybiBlLmFkZEdlb21ldHJ5KHQpLGUuZ2V0Qm91bmRpbmdHZW9tZXRyeSgpfWZ1bmN0aW9uIHZyKHQscyxuKXtpZigoczwwfHxzPj10LmdldFBhdGhDb3VudCgpKSYmZShcInBhdGggaW5kZXhcIiksdC5oYXNOb25MaW5lYXJTZWdtZW50c1BhdGgocykpcmV0dXJuITE7Y29uc3QgaT10LmdldEltcGwoKSxyPWkuZ2V0UGF0aFN0YXJ0KHMpLG89aS5nZXRQYXRoRW5kKHMpLGE9IWkuaXNDbG9zZWRQYXRoKHMpJiZpLmlzQ2xvc2VkUGF0aEluWFlQbGFuZShzKSxoPWkuZ2V0QXR0cmlidXRlU3RyZWFtUmVmKDApLHU9MipyO2xldCBtPTIqbztpZihhJiYobS09MiksbS11PDYpcmV0dXJuITA7Y29uc3QgbD1oLnJlYWRQb2ludDJEKHUpLGM9aC5yZWFkUG9pbnQyRCh1KzIpLGc9aC5yZWFkUG9pbnQyRCh1KzQpO2lmKCFNcihRLm9yaWVudGF0aW9uUm9idXN0KGMsZyxsKSkpcmV0dXJuITE7Y29uc3QgZD1jLmNsb25lKCksXz1uZXcgUTtmb3IobGV0IGU9dSs2O2U8bTtlKz0yKXtfLmFzc2lnbihjKSxjLmFzc2lnbihnKSxoLnF1ZXJ5UG9pbnQyRChlLGcpO2lmKCFNcihRLm9yaWVudGF0aW9uUm9idXN0KGMsZyxsKSkpcmV0dXJuITE7aWYoIU1yKFEub3JpZW50YXRpb25Sb2J1c3QoZCxnLGwpKSlyZXR1cm4hMTtpZighTXIoUS5vcmllbnRhdGlvblJvYnVzdChjLGcsXykpKXJldHVybiExfXJldHVybiEwfWZ1bmN0aW9uIGJyKHQsZSxzKXt0LnNldE5BTigpLGUuc2V0Q29vcmRzKDEsMCkscy5zZXRDb29yZHMoMCwwKX1mdW5jdGlvbiBTcih0LGUscyxuLHIpe2lmKGJyKHMsbixyKSx0LmlzRW1wdHkoKSlyZXR1cm47aWYodC5nZXRHZW9tZXRyeVR5cGUoKT09PWkuZW51bVBvaW50KXJldHVybiB2b2lkIHMuYXNzaWduKHQuZ2V0WFkoKSk7Y29uc3Qgbz10LGE9by5nZXRQb2ludENvdW50KCk7MCE9PWEmJigxIT09YT9FcihvLGEsZSxzLG4scik6cy5hc3NpZ24oby5nZXRYWSgwKSkpfWZ1bmN0aW9uIEVyKHQsZSxzLG4saSxyKXtpZigyPT09ZSl7Y29uc3QgZT10LmdldFhZKDApLHM9dC5nZXRYWSgxKTtuLmFzc2lnbihlLmFkZChzKS5tdWwoLjUpKTtjb25zdCBvPXMuc3ViKGUpO2k9WHIobyksci5zZXRDb29yZHMoLjUqby5sZW5ndGgoKSwwKX1lbHNle2xldCBvPU51bWJlci5NQVhfVkFMVUU7Y29uc3QgYT1bMCwxLDAsMF0saD1uZXcgUHQoNCwyKTtmb3IoaC5zZXQoMCwwLDApLGguc2V0KDAsMSwxKSxoLnNldCgxLDAsMSksaC5zZXQoMSwxLDIpO2FbMF08ZTsrK2FbMF0scXIoaCwwLGUpKXthWzFdPT09YVswXSYmKCsrYVsxXSxxcihoLDEsZSkpO2ZvcihsZXQgcz0xOzsrK3Mpe2Zvcig7Oyl7Y29uc3Qgbj1Gcih0LmdldFhZKGguZ2V0KDAsMCkpLHQuZ2V0WFkoaC5nZXQoMCwxKSksdC5nZXRYWShoLmdldChzLDApKSx0LmdldFhZKGguZ2V0KHMsMSkpLDJecyk7aWYobj4wKWJyZWFrO2lmKCsrYVtzXSxxcihoLHMsZSksMD09PW4pYnJlYWt9aWYoMz09PXMpYnJlYWs7YVtzKzFdPGFbc10mJihhW3MrMV09YVtzXSxoLnNldChzKzEsMCxoLmdldChzLDApKSxoLnNldChzKzEsMSxoLmdldChzLDEpKSl9Y29uc3QgdT10LmdldFhZKGguZ2V0KDAsMCkpLmFkZCh0LmdldFhZKGguZ2V0KDIsMCkpKS5tdWwoLjUpLG09WHIodC5nZXRYWShoLmdldCgwLDEpKS5zdWIodC5nZXRYWShoLmdldCgwLDApKSkpLGw9bmV3IFE7bGV0IGMsZztpZihsLng9TWF0aC5tYXgoMCxtLmRvdFByb2R1Y3QodC5nZXRYWShoLmdldCgxLDApKS5zdWIodC5nZXRYWShoLmdldCgzLDApKSkpKSxsLnk9TWF0aC5tYXgoMCxtLmNyb3NzUHJvZHVjdCh0LmdldFhZKGguZ2V0KDAsMCkpLnN1Yih0LmdldFhZKGguZ2V0KDIsMCkpKSkpLHM/KGM9bC54KmwueSxnPWM8byk6KGM9bC55LGc9YzxvKSxnKXtvPWM7Y29uc3QgZT10LmdldFhZKGguZ2V0KDEsMCkpLHM9dC5nZXRYWShoLmdldCgzLDApKSxhPWUuYWRkKHMpLm11bCguNSkuc3ViKHUpO24uYXNzaWduKHUuYWRkKG0ubXVsKG0uZG90UHJvZHVjdChhKSkpKSxpLmFzc2lnbihtKSxyLmFzc2lnbihsKX19ci5tdWxUaGlzKC41KSxyLng8ci55JiYoci55PWV0KHIueCxyLng9ci55KSxpLmxlZnRQZXJwZW5kaWN1bGFyVGhpcygpKX1pLnk8MD9pLm5lZ2F0ZVRoaXMoKTowPT09aS55JiYoaS54PTEpfVByLnN0X2RlZmF1bHRSYW5rPTE7Y2xhc3MgRHJ7Y29uc3RydWN0b3IodCl7dGhpcy5tX2hhbmRsZVA9LTEsdGhpcy5tX2hhbmRsZVE9LTEsdGhpcy5tX2N1cnJlbnRTdXBwb3J0PS0xLHRoaXMubV9hcmVhPTAsdGhpcy5tX2JEb25lPSEwLHMoMCksdGhpcy5tX2NvbnZleEh1bGw9dCx0aGlzLm1fZnVuY3Rpb249dGhpcy5kb25lX31uZXh0KCl7cmV0dXJuIHMoMCksITF9Z2V0X3ZlcnRleF9oYW5kbGVfcCgpe3JldHVybiBzKDApLDB9Z2V0X3ZlcnRleF9oYW5kbGVfcSgpe3JldHVybiBzKDApLDB9Z2V0X2N1cnJlbnRfc3VwcG9ydCgpe3JldHVybiBzKDApLDB9Z2V0TmV4dCh0KXtyZXR1cm4gcygwKSwwfWdldFByZXYodCl7cmV0dXJuIHMoMCksMH1pbnRpYWxpemVfKCl7cmV0dXJuIHMoMCksITF9aW5jcmVtZW50Xygpe3JldHVybiBzKDApLCExfWluY3JlbWVudF9xXygpe3JldHVybiBzKDApLCExfWluY3JlbWVudF9wXygpe3JldHVybiBzKDApLCExfXBhcmFsbGVsX2VkZ2Vfd2l0aF9xX3N1cHBvcnRfKCl7cmV0dXJuIHMoMCksITF9cGFyYWxsZWxfZWRnZV93aXRoX3Bfc3VwcG9ydF8oKXtyZXR1cm4gcygwKSwhMX1kb25lXygpe3JldHVybiBzKDApLCExfX1jbGFzcyB3cntudWxsR2V0WFkodCl7cmV0dXJuIGgoXCJtX2dldFhZIGlzIG51bGxcIikse319bnVsbERlbGV0ZU5vZGUodCl7aChcIm1fZGVsZXRlTm9kZSBpcyBudWxsXCIpfWNvbnN0cnVjdG9yKHQpe3JldHVybiB0aGlzLm1fdHJlZUh1bGw9bmV3IGosdGhpcy5tX3NoYXBlPW51bGwsdGhpcy5tX3N0cmVhbT1udWxsLHRoaXMubV9wb2ludHM9bnVsbCx0aGlzLm1fZ2VvbWV0cnlIYW5kbGU9LTEsdGhpcy5tX3BhdGhIYW5kbGU9LTEsdGhpcy5tX2dldFhZPXRoaXMubnVsbEdldFhZLHRoaXMubV9kZWxldGVOb2RlPXRoaXMubnVsbERlbGV0ZU5vZGUsdD90LnN0cmVhbT8odGhpcy5tX3RyZWVIdWxsLnNldENhcGFjaXR5KE1hdGgubWluKDIwLHQubikpLHRoaXMubV9zdHJlYW09dC5zdHJlYW0sdGhpcy5tX2dldFhZPXRoaXMuZ2V0WFlTdHJlYW0sdGhpcy5tX2RlbGV0ZU5vZGU9dGhpcy5kZWxldGVOb2RlU3RyZWFtLHRoaXMubV9wb2ludHM9bnVsbCx0aGlzLm1fZ2VvbWV0cnlIYW5kbGU9Y3Isdm9pZCh0aGlzLm1fcGF0aEhhbmRsZT1jcikpOnQucG9pbnRzPyh0aGlzLm1fdHJlZUh1bGwuc2V0Q2FwYWNpdHkoTWF0aC5taW4oMjAsdC5uKSksdGhpcy5tX3BvaW50cz10LnBvaW50cyx0aGlzLm1fZ2V0WFk9dGhpcy5nZXRYWVBvaW50cyx0aGlzLm1fZGVsZXRlTm9kZT10aGlzLmRlbGV0ZU5vZGVQb2ludHMsdGhpcy5tX3N0cmVhbT1udWxsLHRoaXMubV9nZW9tZXRyeUhhbmRsZT1jcix2b2lkKHRoaXMubV9wYXRoSGFuZGxlPWNyKSk6dm9pZCBkKFwidW5yZWNvZ25pemVkIGNvbnN0cnVjdG9yIHBhcmFtZXRlclwiKToodGhpcy5tX3RyZWVIdWxsLnNldENhcGFjaXR5KDIwKSx0aGlzLm1fc2hhcGU9bmV3IFByLHRoaXMubV9nZW9tZXRyeUhhbmRsZT10aGlzLm1fc2hhcGUuY3JlYXRlR2VvbWV0cnkoaS5lbnVtTXVsdGlQb2ludCksdGhpcy5tX3BhdGhIYW5kbGU9dGhpcy5tX3NoYXBlLmluc2VydFBhdGgodGhpcy5tX2dlb21ldHJ5SGFuZGxlLGNyKSx0aGlzLm1fZ2V0WFk9dGhpcy5nZXRYWVNoYXBlLHRoaXMubV9kZWxldGVOb2RlPXRoaXMuZGVsZXRlTm9kZVNoYXBlLHRoaXMubV9zdHJlYW09bnVsbCx2b2lkKHRoaXMubV9wb2ludHM9bnVsbCkpfWdldFhZU2hhcGUodCl7cmV0dXJuIHRoaXMubV9zaGFwZS5nZXRYWSh0KX1nZXRYWVN0cmVhbSh0KXtyZXR1cm4gdGhpcy5tX3N0cmVhbS5yZWFkUG9pbnQyRCh0PDwxKX1nZXRYWVBvaW50cyh0KXtyZXR1cm4gcygwKSxuZXcgUX1kZWxldGVOb2RlU2hhcGUodCl7Y29uc3QgZT10aGlzLm1fdHJlZUh1bGwuZ2V0RWxlbWVudCh0KTt0aGlzLm1fdHJlZUh1bGwuZGVsZXRlTm9kZSh0KSx0aGlzLm1fc2hhcGUucmVtb3ZlVmVydGV4KGUsITEpfWRlbGV0ZU5vZGVTdHJlYW0odCl7dGhpcy5tX3RyZWVIdWxsLmRlbGV0ZU5vZGUodCl9ZGVsZXRlTm9kZVBvaW50cyh0KXtzKDApfWFkZEdlb21ldHJ5KHMpe2lmKHMuaXNFbXB0eSgpKXJldHVybjtjb25zdCBuPXMuZ2V0R2VvbWV0cnlUeXBlKCk7aWYobj09PWkuZW51bUdlb21ldHJ5Q29sbGVjdGlvbil7Y29uc3QgdD1zO2ZvcihsZXQgZT0wLHM9dC5nZXRHZW9tZXRyeUNvdW50KCk7ZTxzO2UrKyl0aGlzLmFkZEdlb21ldHJ5KHQuZ2V0R2VvbWV0cnkoZSkpfWVsc2UgdChuKT90aGlzLmFkZE11bHRpVmVydGV4R2VvbWV0cnkocyk6bShuKT90aGlzLmFkZFNlZ21lbnQocywhMSk6bj09PWkuZW51bUVudmVsb3BlP3RoaXMuYWRkRW52ZWxvcGUocyk6bj09PWkuZW51bVBvaW50P3RoaXMuYWRkUG9pbnQocyk6ZShcIkNvbnZleF9odWxsOiBnZW9tZXRyeSBub3Qgc3VwcG9ydGVkXCIpfWdldEJvdW5kaW5nR2VvbWV0cnkoKXtjb25zdCB0PW5ldyBxLGU9dGhpcy5tX3RyZWVIdWxsLmdldEZpcnN0KCkscz1uZXcgdXIoe3ZkOnRoaXMubV9zaGFwZS5nZXRWZXJ0ZXhEZXNjcmlwdGlvbigpfSk7aWYoMD09PXRoaXMubV90cmVlSHVsbC5zaXplKCkpcmV0dXJuIHM7cy5yZXNlcnZlKHRoaXMubV90cmVlSHVsbC5zaXplKCkpLHRoaXMubV9zaGFwZS5xdWVyeVBvaW50KHRoaXMubV90cmVlSHVsbC5nZXRFbGVtZW50KGUpLHQpLHMuc3RhcnRQYXRoUG9pbnQodCk7Zm9yKGxldCBuPXRoaXMubV90cmVlSHVsbC5nZXROZXh0KGUpOy0xIT09bjtuPXRoaXMubV90cmVlSHVsbC5nZXROZXh0KG4pKXRoaXMubV9zaGFwZS5xdWVyeVBvaW50KHRoaXMubV90cmVlSHVsbC5nZXRFbGVtZW50KG4pLHQpLHMubGluZVRvUG9pbnQodCk7cmV0dXJuIHN9Z2V0QW50aXBvZGFsUGFpcnNJdGVyYXRvcigpe3JldHVybiBzKDApLG5ldyBEcih0aGlzKX1nZXRYWSh0KXtyZXR1cm4gcygwKSxuZXcgUX1nZXRYWVdpdGhJbmRleCh0KXtyZXR1cm4gcygwKSxuZXcgUX1nZXRGaXJzdCgpe3JldHVybiBzKDApLDB9Z2V0TGFzdCgpe3JldHVybiBzKDApLDB9Z2V0TmV4dCh0KXtyZXR1cm4gcygwKSwwfWdldFByZXYodCl7cmV0dXJuIHMoMCksMH1nZXRWZXJ0ZXhJbmRleCh0KXtyZXR1cm4gcygwKSwwfWdldFBvaW50Q291bnQoKXtyZXR1cm4gcygwKSwwfWFkZE11bHRpVmVydGV4R2VvbWV0cnkodCl7Y29uc3QgZT1uZXcgcSxzPXQuZ2V0SW1wbCgpLG49bmV3IFE7Zm9yKGxldCBpPTA7aTx0LmdldFBvaW50Q291bnQoKTtpKyspe3MucXVlcnlYWShpLG4pO2NvbnN0IHI9dGhpcy5hZGRQb2ludDJEKG4pO2lmKC0xIT09cil7dC5nZXRQb2ludEJ5VmFsKGksZSk7Y29uc3Qgcz10aGlzLm1fc2hhcGUuYWRkUG9pbnQodGhpcy5tX3BhdGhIYW5kbGUsZSk7dGhpcy5tX3RyZWVIdWxsLnNldEVsZW1lbnQocixzKX19aWYoYyh0LmdldEdlb21ldHJ5VHlwZSgpKSl7Y29uc3QgZT10O2lmKGUuaGFzTm9uTGluZWFyU2VnbWVudHMoKSl7Y29uc3QgdD1lLnF1ZXJ5U2VnbWVudEl0ZXJhdG9yKCk7Zm9yKDt0Lm5leHRQYXRoKCk7KWZvcig7dC5oYXNOZXh0U2VnbWVudCgpOyl7Y29uc3QgZT10Lm5leHRDdXJ2ZSgpO251bGwhPT1lJiZ0aGlzLmFkZFNlZ21lbnQoZSwhMCl9fX19YWRkRW52ZWxvcGUodCl7Y29uc3QgZT1uZXcgcTtmb3IobGV0IHM9MDtzPDQ7cysrKXtjb25zdCBuPW5ldyBRO3QucXVlcnlDb3JuZXIocyxuKTtjb25zdCBpPXRoaXMuYWRkUG9pbnQyRChuKTtpZigtMSE9PWkpe3QucXVlcnlDb3JuZXJCeVZhbChzLGUpO2NvbnN0IG49dGhpcy5tX3NoYXBlLmFkZFBvaW50KHRoaXMubV9wYXRoSGFuZGxlLGUpO3RoaXMubV90cmVlSHVsbC5zZXRFbGVtZW50KGksbil9fX1zdGF0aWMgcXVlcnlTZWdtZW50Q29udHJvbFBvaW50cyh0LG4scil7Y29uc3Qgbz10LmdldEdlb21ldHJ5VHlwZSgpO2lmKHMobyE9PWkuZW51bUxpbmUpLG89PT1pLmVudW1FbGxpcHRpY0FyYyl7Y29uc3QgZT10LHM9NjAqTWF0aC5QSS8xODAsaT1NYXRoLmFicyhlLmdldFN3ZWVwQW5nbGUoKSk7aWYoaT5zKXtjb25zdCB0PU1hdGgubWluKDYsTWF0aC5jZWlsKGkvcykpLHI9MS90LG89bmV3IGZtO2UucXVlcnlTdGFydChuWzBdKTtsZXQgYT0xO2ZvcihsZXQgcz0wO3M8dDtzKyspe2UucXVlcnlDdXQocypyLChzKzEpKnIsbyk7Y29uc3QgaT1sdChRLDMpO0J1KG8uZ2V0KCksaSk7Y29uc3QgaD1RLmNhbGN1bGF0ZUxlbmd0aChpLDMpLHU9US5jYWxjdWxhdGVMZW5ndGgoaSwyKSxtPWg+MD91L2g6LjU7czx0LTE/by5nZXQoKS5xdWVyeUVuZChuW2ErMV0pOmUucXVlcnlFbmQoblthKzFdKSxxLmxlcnAoblthLTFdLG5bYSsxXSxtLG5bYV0pLG5bYV0uc2V0WFkoaVsxXSksYSs9Mn1yZXR1cm4gYX17Y29uc3QgZT1sdChRLDMpO0J1KHQsZSk7Y29uc3Qgcz1RLmNhbGN1bGF0ZUxlbmd0aChlLDMpO3QucXVlcnlTdGFydChuWzBdKSx0LnF1ZXJ5RW5kKG5bMl0pO2NvbnN0IGk9US5jYWxjdWxhdGVMZW5ndGgoZSwyKSxyPXM+MD9pL3M6LjU7cmV0dXJuIHEubGVycChuWzBdLG5bMl0scixuWzFdKSxuWzFdLnNldFhZKGVbMV0pLDN9fWlmKG89PT1pLmVudW1CZXppZXIpe2NvbnN0IGU9dCxzPWx0KFEsNCk7ZS5xdWVyeUNvbnRyb2xQb2ludHMocyk7Y29uc3QgaT1RLmNhbGN1bGF0ZUxlbmd0aChzLDQpLHI9US5jYWxjdWxhdGVMZW5ndGgocywyKSxvPVEuY2FsY3VsYXRlTGVuZ3RoKHMsMyk7dC5xdWVyeVN0YXJ0KG5bMF0pLHQucXVlcnlFbmQoblszXSk7Y29uc3QgYT1pPjA/ci9pOi41O3EubGVycChuWzBdLG5bM10sYSxuWzFdKSxuWzFdLnNldFhZKHNbMV0pO2NvbnN0IGg9aT4wP28vaTouNTtyZXR1cm4gcS5sZXJwKG5bMF0sblszXSxoLG5bMl0pLG5bMl0uc2V0WFkoc1syXSksNH1pZihvPT09aS5lbnVtQmV6aWVyMil7Y29uc3QgZT10LHM9bHQoUSwzKTtlLnF1ZXJ5Q29udHJvbFBvaW50cyhzKTtjb25zdCBpPVEuY2FsY3VsYXRlTGVuZ3RoKHMsMyk7dC5xdWVyeVN0YXJ0KG5bMF0pLHQucXVlcnlFbmQoblsyXSk7Y29uc3Qgcj1RLmNhbGN1bGF0ZUxlbmd0aChzLDIpLG89aT4wP3IvaTouNTtyZXR1cm4gcS5sZXJwKG5bMF0sblsyXSxvLG5bMV0pLG5bMV0uc2V0WFkoc1sxXSksM31pZihvPT09aS5lbnVtUmF0aW9uYWxCZXppZXIyKXtjb25zdCBlPXQscz1sdChRLDMpO2UucXVlcnlDb250cm9sUG9pbnRzKHMpO2NvbnN0IGk9US5jYWxjdWxhdGVMZW5ndGgocywzKTt0LnF1ZXJ5U3RhcnQoblswXSksdC5xdWVyeUVuZChuWzJdKTtjb25zdCByPVEuY2FsY3VsYXRlTGVuZ3RoKHMsMiksbz1pPjA/ci9pOi41O3JldHVybiBxLmxlcnAoblswXSxuWzJdLG8sblsxXSksblsxXS5zZXRYWShzWzFdKSwzfWUoXCJDb252ZXhfaHVsbDogc2VnbWVudCB0eXBlIG5vdCBzdXBwb3J0ZWRcIil9YWRkU2VnbWVudCh0LGUpe2lmKCFlKXtjb25zdCBlPW5ldyBxLHM9dC5nZXRTdGFydFhZKCksbj10aGlzLmFkZFBvaW50MkQocyk7aWYoLTEhPT1uKXt0LnF1ZXJ5U3RhcnQoZSk7Y29uc3Qgcz10aGlzLm1fc2hhcGUuYWRkUG9pbnQodGhpcy5tX3BhdGhIYW5kbGUsZSk7dGhpcy5tX3RyZWVIdWxsLnNldEVsZW1lbnQobixzKX1jb25zdCBpPXQuZ2V0RW5kWFkoKSxyPXRoaXMuYWRkUG9pbnQyRChpKTtpZigtMSE9PXIpe3QucXVlcnlFbmQoZSk7Y29uc3Qgcz10aGlzLm1fc2hhcGUuYWRkUG9pbnQodGhpcy5tX3BhdGhIYW5kbGUsZSk7dGhpcy5tX3RyZWVIdWxsLnNldEVsZW1lbnQocixzKX19aWYodC5pc0N1cnZlKCkpe2NvbnN0IGU9bHQocSwxMyk7Zm9yKGxldCBzPTEsbj13ci5xdWVyeVNlZ21lbnRDb250cm9sUG9pbnRzKHQsZSxlLmxlbmd0aCktMTtzPG47KytzKXtjb25zdCB0PWVbc10uZ2V0WFkoKSxuPXRoaXMuYWRkUG9pbnQyRCh0KTtpZigtMSE9PW4pe2NvbnN0IHQ9dGhpcy5tX3NoYXBlLmFkZFBvaW50KHRoaXMubV9wYXRoSGFuZGxlLGVbc10pO3RoaXMubV90cmVlSHVsbC5zZXRFbGVtZW50KG4sdCl9fX19YWRkUG9pbnQodCl7Y29uc3QgZT10LmdldFhZKCkscz10aGlzLmFkZFBvaW50MkQoZSk7aWYoLTEhPT1zKXtjb25zdCBlPXRoaXMubV9zaGFwZS5hZGRQb2ludCh0aGlzLm1fcGF0aEhhbmRsZSx0KTt0aGlzLm1fdHJlZUh1bGwuc2V0RWxlbWVudChzLGUpfX1hZGRQb2ludDJEKHQpe2xldCBlPS0xO2lmKDA9PT10aGlzLm1fdHJlZUh1bGwuc2l6ZSgpKXJldHVybiBlPXRoaXMubV90cmVlSHVsbC5hZGRFbGVtZW50KC00KSxlO2lmKDE9PT10aGlzLm1fdHJlZUh1bGwuc2l6ZSgpKXtjb25zdCBzPXRoaXMubV90cmVlSHVsbC5nZXRFbGVtZW50KHRoaXMubV90cmVlSHVsbC5nZXRGaXJzdCgpKSxuPXRoaXMubV9zaGFwZS5nZXRYWShzKTtyZXR1cm4gdC5lcXVhbHMobil8fChlPXRoaXMubV90cmVlSHVsbC5hZGRCaWdnZXN0RWxlbWVudCgtNSkpLGV9cmV0dXJuIGU9dGhpcy50cmVlSHVsbCh0KSxlfXRyZWVIdWxsKHQpe2xldCBlPS0xO2Rve2NvbnN0IHM9dGhpcy5tX3RyZWVIdWxsLmdldEZpcnN0KCksbj10aGlzLm1fdHJlZUh1bGwuZ2V0TGFzdCgpLGk9dGhpcy5tX3RyZWVIdWxsLmdldEVsZW1lbnQocykscj10aGlzLm1fdHJlZUh1bGwuZ2V0RWxlbWVudChuKSxvPXRoaXMubV9nZXRYWShpKSxhPXRoaXMubV9nZXRYWShyKSxoPVEub3JpZW50YXRpb25Sb2J1c3QoYSx0LG8pO2lmKE1yKGgpKXtlPXRoaXMubV90cmVlSHVsbC5hZGRCaWdnZXN0RWxlbWVudCgtMSk7Y29uc3QgaT10aGlzLnRyZWVIdWxsV2Fsa0JhY2t3YXJkKHQsbixzKTtpIT09cyYmdGhpcy50cmVlSHVsbFdhbGtGb3J3YXJkKHQscyx0aGlzLm1fdHJlZUh1bGwuZ2V0UHJldihpKSk7YnJlYWt9aWYoWXIoaCkpe2xldCBpPXRoaXMubV90cmVlSHVsbC5nZXRSb290KCkscj10aGlzLm1fdHJlZUh1bGwuZ2V0Rmlyc3QoKSxhPXRoaXMubV90cmVlSHVsbC5nZXRMYXN0KCksaD0tMSx1PS0xLG09LTE7Zm9yKDtyIT09dGhpcy5tX3RyZWVIdWxsLmdldFByZXYoYSk7KXt1PXRoaXMubV90cmVlSHVsbC5nZXRFbGVtZW50KGkpO2NvbnN0IGU9dGhpcy5tX2dldFhZKHUpO1lyKFEub3JpZW50YXRpb25Sb2J1c3QoZSx0LG8pKT8oYT1pLGk9dGhpcy5tX3RyZWVIdWxsLmdldExlZnQoaSkpOihyPWksaT10aGlzLm1fdHJlZUh1bGwuZ2V0UmlnaHQoaSkpfWk9YSxoPXIsdT10aGlzLm1fdHJlZUh1bGwuZ2V0RWxlbWVudChpKSxtPXRoaXMubV90cmVlSHVsbC5nZXRFbGVtZW50KGgpO2NvbnN0IGw9dGhpcy5tX2dldFhZKHUpLGM9dGhpcy5tX2dldFhZKG0pO2lmKGghPT1zKXtpZighTXIoUS5vcmllbnRhdGlvblJvYnVzdChjLHQsbCkpKWJyZWFrfWU9dGhpcy5tX3RyZWVIdWxsLmFkZEVsZW1lbnRBdFBvc2l0aW9uKGgsaSwtMiwhMCwhMSksdGhpcy50cmVlSHVsbFdhbGtGb3J3YXJkKHQsaSxuKSx0aGlzLnRyZWVIdWxsV2Fsa0JhY2t3YXJkKHQsaCxzKTticmVha317Y29uc3QgaT1Ocih0LGEsbyk7aWYoLTE9PT1pKXtjb25zdCBpPXRoaXMubV90cmVlSHVsbC5nZXRQcmV2KG4pO3RoaXMubV90cmVlSHVsbC5kZWxldGVOb2RlKG4pLGU9dGhpcy5tX3RyZWVIdWxsLmFkZEJpZ2dlc3RFbGVtZW50KC0zKSx0aGlzLnRyZWVIdWxsV2Fsa0JhY2t3YXJkKHQsaSxzKX1lbHNlIGlmKDE9PT1pKXtjb25zdCBpPXRoaXMubV90cmVlSHVsbC5nZXROZXh0KHMpO3RoaXMubV90cmVlSHVsbC5kZWxldGVOb2RlKHMpLGU9dGhpcy5tX3RyZWVIdWxsLmFkZEVsZW1lbnRBdFBvc2l0aW9uKC0xLGksLTMsITAsITEpLHRoaXMudHJlZUh1bGxXYWxrRm9yd2FyZCh0LGksbil9YnJlYWt9fXdoaWxlKDApO3JldHVybiBlfXRyZWVIdWxsV2Fsa0ZvcndhcmQodCxlLHMpe2lmKGU9PT1zKXJldHVybiBzO2xldCBuPWUsaT10aGlzLm1fdHJlZUh1bGwuZ2V0RWxlbWVudChuKSxyPXRoaXMubV90cmVlSHVsbC5nZXROZXh0KG4pO2NvbnN0IG89dGhpcy5tX2dldFhZKGkpO2Zvcig7biE9PXMmJnRoaXMubV90cmVlSHVsbC5zaXplKCk+Mjspe2NvbnN0IGU9dGhpcy5tX3RyZWVIdWxsLmdldEVsZW1lbnQocikscz10aGlzLm1fZ2V0WFkoZSk7aWYoTXIoUS5vcmllbnRhdGlvblJvYnVzdChzLHQsbykpKWJyZWFrO2NvbnN0IGE9bjtuPXIsaT1lLG8uYXNzaWduKHMpLHI9dGhpcy5tX3RyZWVIdWxsLmdldE5leHQobiksdGhpcy5tX2RlbGV0ZU5vZGUoYSl9cmV0dXJuIG59dHJlZUh1bGxXYWxrQmFja3dhcmQodCxlLHMpe2lmKGU9PT1zKXJldHVybiBzO2xldCBuPWUsaT10aGlzLm1fdHJlZUh1bGwuZ2V0RWxlbWVudChuKSxyPXRoaXMubV90cmVlSHVsbC5nZXRQcmV2KG4pO2NvbnN0IG89dGhpcy5tX2dldFhZKGkpO2Zvcig7biE9PXMmJnRoaXMubV90cmVlSHVsbC5zaXplKCk+Mjspe2NvbnN0IGU9dGhpcy5tX3RyZWVIdWxsLmdldEVsZW1lbnQocikscz10aGlzLm1fZ2V0WFkoZSk7aWYoTXIoUS5vcmllbnRhdGlvblJvYnVzdChvLHQscykpKWJyZWFrO2NvbnN0IGE9bjtuPXIsaT1lLG8uYXNzaWduKHMpLHI9dGhpcy5tX3RyZWVIdWxsLmdldFByZXYobiksdGhpcy5tX2RlbGV0ZU5vZGUoYSl9cmV0dXJuIG59fWZ1bmN0aW9uIEFyKHQsZSxzKXtjb25zdCBuPWUuc3ViKHQpLGk9cy5zdWIoZSk7aWYoMD09PW4ueClyZXR1cm4gaS54PjA/LTE6MDtpZigwPT09bi55KXJldHVybiBpLnk+MD8xOmkueTwwPy0xOjA7Y29uc3Qgcj1uLmNyb3NzUHJvZHVjdChpKSxvPTQqTnVtYmVyLkVQU0lMT04qKE1hdGguYWJzKGkueCpuLnkpK01hdGguYWJzKGkueSpuLngpKTtyZXR1cm4gcj5vPzE6cjwtbz8tMTpRLm9yaWVudGF0aW9uUm9idXN0KHQsZSxzKX1mdW5jdGlvbiBUcih0LGUscyl7Y29uc3Qgbj1lLnN1Yih0KSxpPXMuc3ViKGUpO2lmKDA9PT1uLngpcmV0dXJuIGkueDwwPy0xOjA7aWYoMD09PW4ueSlyZXR1cm4gaS55PjA/LTE6aS55PDA/MTowO2NvbnN0IHI9bi5jcm9zc1Byb2R1Y3QoaSksbz00Kk51bWJlci5FUFNJTE9OKihNYXRoLmFicyhpLngqbi55KStNYXRoLmFicyhpLnkqbi54KSk7cmV0dXJuIHI+bz8xOnI8LW8/LTE6US5vcmllbnRhdGlvblJvYnVzdCh0LGUscyl9ZnVuY3Rpb24gSXIodCxlLHMsbil7Y29uc3QgaT1uZXcgVygwKTtmb3IobGV0IGg9MDtoPGU7aCsrKWkuYWRkKGgpO2NvbnN0IHI9e3VzZXJTb3J0KGUscyxuKXtuLnNvcnQoZSxzLCgoZSxzKT0+dFtlXS5jb21wYXJlWCh0W3NdKSkpfSxnZXRWYWx1ZTplPT50W2VdLnh9O258fEcuc29ydEV4KGksMCxlLHIpO2xldCBvPTA7dDpmb3IobGV0IGg9MDtoPGU7KytoKXtjb25zdCBlPWkucmVhZChoKTtmb3IoO28+PTI7KXtjb25zdCBuPXNbby0yXSxyPXNbby0xXTtpZih0W3JdLmVxdWFscyh0W2VdKSl7aS53cml0ZShoLC0xKTtjb250aW51ZSB0fWlmKCEoQXIodFtuXSx0W3JdLHRbZV0pPj0wKSl7cj09PWkucmVhZChoLTEpJiZpLndyaXRlKGgtMSwtMSk7YnJlYWt9by0tfXNbbysrXT1lLDI9PT1vJiZ0W2VdLmVxdWFscyh0W3NbMF1dKSYmKGkud3JpdGUoMSwtMSksby0tKX1jb25zdCBhPW8rMTt0OmZvcihsZXQgaD1lLTI7aD49MDstLWgpe2NvbnN0IGU9aS5yZWFkKGgpO2lmKCEoZTwwKSl7Zm9yKDtvPj1hOyl7Y29uc3Qgbj1zW28tMl0saT1zW28tMV07aWYodFtpXS5lcXVhbHModFtlXSkpY29udGludWUgdDtpZighKFRyKHRbbl0sdFtpXSx0W2VdKT49MCkpYnJlYWs7by0tfWlmKDAhPT1oKXtjb25zdCBuPXNbby0xXTtzW28rK109ZSx0W2VdLmVxdWFscyh0W25dKSYmby0tfX19cmV0dXJuIG8+MSYmdFtzWzBdXS5lcXVhbHModFtzW28tMV1dKSYmby0tLG99ZnVuY3Rpb24gTXIodCl7cmV0dXJuIHQ8MH1mdW5jdGlvbiBZcih0KXtyZXR1cm4gdD4wfWZ1bmN0aW9uIE5yKHQsZSxzKXtsZXQgbj0tMTtpZihlLnk9PT1zLnkpbj0wO2Vsc2UgaWYoZS54PT09cy54KW49MTtlbHNle249TWF0aC5hYnMoZS54LXMueCk+PU1hdGguYWJzKGUueS1zLnkpPzA6MX1sZXQgaT0tMTtyZXR1cm4gaT1lW25dPHNbbl0/dFtuXTxlW25dPy0xOnNbbl08dFtuXT8xOjA6ZVtuXTx0W25dPy0xOnRbbl08c1tuXT8xOjAsaX1mdW5jdGlvbiBYcih0KXtyZXR1cm4odD10LmNsb25lKCkpLmRpdlRoaXMoTWF0aC5tYXgoTWF0aC5hYnModC54KSxNYXRoLmFicyh0LnkpKSksdC5ub3JtYWxpemUoKSx0fWZ1bmN0aW9uIHFyKHQsZSxzKXt0LmluYyhlLDApPT09cyYmdC5zZXQoZSwwLDApLHQuaW5jKGUsMSk9PT1zJiZ0LnNldChlLDEsMCl9ZnVuY3Rpb24gRnIodCxzLG4saSxyKXtzd2l0Y2gocil7Y2FzZSAwOmJyZWFrO2Nhc2UgMTpzLnJpZ2h0UGVycGVuZGljdWxhclRoaXMoKSx0LnJpZ2h0UGVycGVuZGljdWxhclRoaXMoKTticmVhaztjYXNlIDI6cy5uZWdhdGVUaGlzKCksdC5uZWdhdGVUaGlzKCk7YnJlYWs7Y2FzZSAzOnMubGVmdFBlcnBlbmRpY3VsYXJUaGlzKCksdC5sZWZ0UGVycGVuZGljdWxhclRoaXMoKTticmVhaztkZWZhdWx0OmUoXCJcIil9cmV0dXJuIFEub3JpZW50YXRpb25Sb2J1c3RFeCh0LHMsbixpKX1jbGFzcyBWcntjb25zdHJ1Y3Rvcigpe3RoaXMubGVuZ3RoPU51bWJlci5OYU4sdGhpcy5zcGVjaWFsUG9pbnRzPVtdfXNwZWNpYWxQb2ludHNDb3VudCgpe3JldHVybiB0aGlzLnNwZWNpYWxQb2ludHMubGVuZ3RofX1mdW5jdGlvbiBMcih0KXtyZXR1cm4gUnIodC5jYWxjdWxhdGVVcHBlckxlbmd0aDJEKCkpfWZ1bmN0aW9uIFJyKHQpe3JldHVybiAyNTYqZHQoKSp0fWZ1bmN0aW9uIHpyKHQpe2NvbnN0IGU9US5kaXN0YW5jZSh0LmdldFN0YXJ0WFkoKSx0LmdldEVuZFhZKCkpLHM9dC5jYWxjdWxhdGVVcHBlckxlbmd0aDJEKCk7cmV0dXJuIHMtZTw9OCpOdW1iZXIuRVBTSUxPTipzfWZ1bmN0aW9uIEJyKHQsZSxzPSExKXtlWzFdLnNldENvb3Jkcyh0Lm1fY3BbMF0ueC10LmdldFN0YXJ0WCgpLHQubV9jcFswXS55LXQuZ2V0U3RhcnRZKCkpLGVbMV0ubXVsVGhpcygzKSxlWzJdLnNldENvb3Jkcyh0Lm1fY3BbMV0ueC10Lm1fY3BbMF0ueCx0Lm1fY3BbMV0ueS10Lm1fY3BbMF0ueSksZVsyXS5tdWxUaGlzKDMpLGVbM109dC5nZXRFbmRYWSgpLnN1Yih0LmdldFN0YXJ0WFkoKSksZVszXS5zdWJUaGlzKGVbMl0pLGVbMl0uc3ViVGhpcyhlWzFdKSxzP2VbMF0uc2V0Q29vcmRzKDAsMCk6ZVswXT10LmdldFN0YXJ0WFkoKX1mdW5jdGlvbiBrcih0LGUscyl7Y29uc3Qgbj1sdChRLDQpO3QucXVlcnlDb250cm9sUG9pbnRzKG4pLFdyKG4sZSxzKX1mdW5jdGlvbiBHcih0LGUscyl7Y29uc3Qgbj1sdChRLDQpO3QucXVlcnlDb250cm9sUG9pbnRzKG4pLGpyKG4sZSxzKX1mdW5jdGlvbiBXcih0LGUscyl7bGV0IG49dFsxXS54O24tPXRbMF0ueCxuKj0zO2xldCBpPXRbMl0ueDtpLT10WzFdLngsaSo9MztsZXQgcj10WzNdLng7ci09dFswXS54LHItPWksaS09bixlWzNdLnNldFdpdGhFcHMociksZVsyXS5zZXRXaXRoRXBzKGkpLGVbMV0uc2V0V2l0aEVwcyhuKSxzP2VbMF0uc2V0KDApOmVbMF0uc2V0KHRbMF0ueCl9ZnVuY3Rpb24ganIodCxlLHMpe2xldCBuPXRbMV0ueTtuLT10WzBdLnksbio9MztsZXQgaT10WzJdLnk7aS09dFsxXS55LGkqPTM7bGV0IHI9dFszXS55O3ItPXRbMF0ueSxyLT1pLGktPW4sZVszXS5zZXRXaXRoRXBzKHIpLGVbMl0uc2V0V2l0aEVwcyhpKSxlWzFdLnNldFdpdGhFcHMobikscz9lWzBdLnNldCgwKTplWzBdLnNldCh0WzBdLnkpfWZ1bmN0aW9uIFpyKHQsZSxzPSExKXtjb25zdCBuPWx0KFhlLDQpO25bMF0uYXNzaWduUG9pbnQyRCh0WzBdKSxuWzFdLmFzc2lnblBvaW50MkQodFsxXSksblsyXS5hc3NpZ25Qb2ludDJEKHRbMl0pLG5bM10uYXNzaWduUG9pbnQyRCh0WzNdKSxlWzFdLnNldENvb3JkcyhuWzFdLnguc3ViKG5bMF0ueCksblsxXS55LnN1YihuWzBdLnkpKSxlWzFdLm11bFRoaXMoaXQuY29uc3RydWN0SW50MzIoMykpLGVbMl0uc2V0Q29vcmRzKG5bMl0ueC5zdWIoblsxXS54KSxuWzJdLnkuc3ViKG5bMV0ueSkpLGVbMl0ubXVsVGhpcyhpdC5jb25zdHJ1Y3RJbnQzMigzKSksZVszXT1uWzNdLnN1YihuWzBdKSxlWzNdPWVbM10uc3ViKGVbMl0pLGVbMl09ZVsyXS5zdWIoZVsxXSkscz9lWzBdLnNldENvb3JkcygkdCwkdCk6ZVswXT1uWzBdLmNsb25lKCl9ZnVuY3Rpb24gSHIodCxlLHMpe2lmKHMpe2lmKGU8MClyZXR1cm4gZTtpZihlPjEpcmV0dXJuIGUtMStIcih0LDEsITEpfWlmKHQuaXNEZWdlbmVyYXRlKDApKXJldHVybiAwO2NvbnN0IG49MT09PWUsaT1Rcih0KTtpZihuJiYhTnVtYmVyLmlzTmFOKGkubGVuZ3RoKSYmIU51bWJlci5pc05hTihpLmxlbmd0aCkpcmV0dXJuIGkubGVuZ3RoO2NvbnN0IHI9THIodCksbz1yL3QuY2FsY3VsYXRlVXBwZXJMZW5ndGgyRCgpO2xldCBhPTAsaD0wO2ZvcihsZXQgdT0xLG09aS5zcGVjaWFsUG9pbnRzQ291bnQoKTt1PG07dSsrKXtjb25zdCBzPWkuc3BlY2lhbFBvaW50c1t1XTtpZihhKz0kbyh0LGgsTWF0aC5taW4oZSxzKSxvLHIpLGU8PXMpYnJlYWs7aD1zfXJldHVybiBuJiYoaS5sZW5ndGg9YSksYX1mdW5jdGlvbiBVcih0LGUscyl7Y29uc3Qgbj1Icih0LDEsITEpO2lmKGU8PTApcmV0dXJuIGU7aWYoZT49bilyZXR1cm4gZS1uKzE7Y29uc3QgaT1bMF07cmV0dXJuIDEhPT10bihuZXcgSm8odCxlKSxILnVuaXQoKSwxLGkpJiZoKFwiXCIpLGlbMF19ZnVuY3Rpb24gT3IodCxzLG4pe3ZvaWQgMD09PW4mJihuPXMscz0wKTtjb25zdCBpPW5ldyBRO2lmKHM8MHx8bj4xKXJldHVybiBpLnNldE5BTigpLGk7aWYocz5uJiZlKFwiY2FsY3VsYXRlX3N1Yl93ZWlnaHRlZENlbnRyb2lkXCIpLHM9PT1ufHx0LmlzRGVnZW5lcmF0ZSgwKSlyZXR1cm4gaS5zZXRDb29yZHMoMCwwKSxpO2NvbnN0IHI9UXIodCksbz1Mcih0KSxhPW8vdC5jYWxjdWxhdGVVcHBlckxlbmd0aDJEKCk7bGV0IGg9cyx1PTA7Zm9yKGxldCBlPTEsbT1yLnNwZWNpYWxQb2ludHNDb3VudCgpO2U8bTtlKyspaWYoczxyLnNwZWNpYWxQb2ludHNbZV0pe3U9ZS0xO2JyZWFrfWkuc2V0Q29vcmRzKDAsMCk7Zm9yKGxldCBlPXUrMSxtPXIuc3BlY2lhbFBvaW50c0NvdW50KCk7ZTxtO2UrKyl7Y29uc3Qgcz1NYXRoLm1pbihyLnNwZWNpYWxQb2ludHNbZV0sbiksdT10YSh0LGgscyxhLG8pO2lmKGkuYWRkVGhpcyh1KSxoPXMsbjw9ci5zcGVjaWFsUG9pbnRzW2VdKWJyZWFrfXJldHVybiBpLmFkZCh0LmdldFN0YXJ0WFkoKS5tdWwodC5jYWxjdWxhdGVMZW5ndGgyRCgpKSl9ZnVuY3Rpb24gUXIodCl7aWYodC5tX2NhY2hlZFZhbHVlcylyZXR1cm4gdC5tX2NhY2hlZFZhbHVlcztjb25zdCBlPW5ldyBWcixzPWx0KGF0LDgpLG49bHQoUSw0KTt0LnF1ZXJ5Q29udHJvbFBvaW50cyhuKTtjb25zdCBpPWpvKG4scyk7ZS5zcGVjaWFsUG9pbnRzPVtdO2ZvcihsZXQgcj0wO3I8aTtyKyspZS5zcGVjaWFsUG9pbnRzLnB1c2goc1tyXS52YWx1ZSgpKTtyZXR1cm4gS3IodCxlKSxlfWZ1bmN0aW9uIEpyKHQpe2xldCBlPW51bGw7cmV0dXJuIGU9dC5tX2NhY2hlZFZhbHVlcyxlfWZ1bmN0aW9uIEtyKHQsZSl7dC5tX2NhY2hlZFZhbHVlcz1lfWZ1bmN0aW9uICRyKHQpe3QubV9jYWNoZWRWYWx1ZXM9bnVsbH1mdW5jdGlvbiB0byh0LGUpe2UubV9jYWNoZWRWYWx1ZXM9ZXQodC5tX2NhY2hlZFZhbHVlcyx0Lm1fY2FjaGVkVmFsdWVzPWUubV9jYWNoZWRWYWx1ZXMpfWZ1bmN0aW9uIGVvKHQsZSxzLG4pe2lmKGUuaXNFcXVhbCh0Lm1fWFN0YXJ0LHQubV9ZU3RhcnQpJiZzLmlzRXF1YWwodC5tX1hFbmQsdC5tX1lFbmQpKXJldHVybjtjb25zdCBpPSEhbiYmdC5pc01vbm90b25lUXVpY2tBbmREaXJ0eSgpLHI9bmV3IGxlLG89bHQoUSwzKTtvWzBdLnNldENvb3Jkcyh0Lm1fWFN0YXJ0LHQubV9ZU3RhcnQpLG9bMl0uc2V0Q29vcmRzKHQubV9YRW5kLHQubV9ZRW5kKTtjb25zdCBhPW5ldyBRO2Euc2V0U3ViKG9bMl0sb1swXSksYS5sZWZ0UGVycGVuZGljdWxhclRoaXMoKSxvWzFdLnNldEFkZChvWzBdLGEpO2NvbnN0IGg9bHQoUSwzKTtoWzBdLnNldENvb3Jkc1BvaW50MkQoZSksaFsyXS5zZXRDb29yZHNQb2ludDJEKHMpLGEuc2V0U3ViKGhbMl0saFswXSksYS5sZWZ0UGVycGVuZGljdWxhclRoaXMoKSxoWzFdLnNldEFkZChoWzBdLGEpLHIuc2V0RnJvbVR3b1RyaWFuZ2xlcyhvLGgpP3IudHJhbnNmb3JtUG9pbnRzMkQodC5tX2NwLDIsdC5tX2NwKTooeHQoZSxzLDEvMyx0Lm1fY3BbMF0pLHh0KGUscywyLzMsdC5tX2NwWzFdKSksdC5jaGFuZ2VFbmRQb2ludHMyRChlLHMpLGkmJmxvKHQpfWZ1bmN0aW9uIHNvKHQsZSxzLG4saSl7cmV0dXJue3RtaW46dCx0bWF4OmUsdDpzLGQ6bixwdDppLmNsb25lKCl9fWZ1bmN0aW9uIG5vKHQsZSxzLG4pe2NvbnN0IGk9bHQoUSw0KTt0LnF1ZXJ5Q29udHJvbFBvaW50cyhpKTtjb25zdCByPVUoMTgsTmFOKSxvPXRuKG5ldyBWbyhpLGUsTmFOKSxILmNvbnN0cnVjdChzLG4pLDE4LHIpLGE9bmV3IFE7dC5xdWVyeUNvb3JkMkQocyxhKTtsZXQgaD1zLHU9US5kaXN0YW5jZShhLGUpO2NvbnN0IG09bmV3IFE7dC5xdWVyeUNvb3JkMkQobixtKTtjb25zdCBsPVEuZGlzdGFuY2UobSxlKTtsPHUmJih1PWwsaD1uLGEuYXNzaWduKG0pKTtmb3IobGV0IGM9MDtjPG87YysrKXt0LnF1ZXJ5Q29vcmQyRChyW2NdLG0pO2NvbnN0IHM9US5kaXN0YW5jZShtLGUpO3M8dSYmKHU9cyxoPXJbY10sYS5hc3NpZ24obSkpfXJldHVybiBzbyhzLG4saCx1LGEpfWZ1bmN0aW9uIGlvKHQsZSl7Y29uc3Qgbj1sdChhdCw0KTtrcih0LG4sITApO2NvbnN0IGk9bHQoYXQsNCk7R3IodCxpLCEwKTtjb25zdCByPW5bM10uY2xvbmUoKSxvPW5bMl0uY2xvbmUoKSxhPW5bMV0uY2xvbmUoKSxoPWlbM10uY2xvbmUoKSx1PWlbMl0uY2xvbmUoKSxtPWlbMV0uY2xvbmUoKSxsPW8ubXVsRShhKS5hZGRFKHUubXVsRShtKSkubXVsKDQpLGM9by5tdWxFKG8pLm11bCg4KS5hZGRFKHIubXVsRShhKS5tdWwoMTIpKS5hZGRFKHUubXVsRSh1KS5tdWwoOCkuYWRkRShoLm11bEUobSkubXVsKDEyKSkpLGc9ci5tdWxFKG8pLmFkZEUoaC5tdWxFKHUpKS5tdWwoMzYpLGQ9ci5tdWxFKHIpLmFkZEUoaC5tdWxFKGgpKS5tdWwoMzYpLF89bHQoYXQsMykscD1kbihkLGcsYyxsLG5ldyBIKDAsMSksITEsXyk7aWYocyhwPD0zKSxwPjApe2NvbnN0IHM9dW8odCwxLDApLnNxckxlbmd0aCgpLG49dW8odCwxLDEpLnNxckxlbmd0aCgpO2xldCBpPXM7ZS5zZXQoMCksaTxuJiYoaT1uLGUuc2V0KDEpKTtmb3IobGV0IHI9MDtyPHA7cisrKXtjb25zdCBzPXVvKHQsMSxfW3JdLnZhbHVlKCkpLnNxckxlbmd0aCgpO3M8aSYmKGk9cyxlPV9bcl0pfX19ZnVuY3Rpb24gcm8odCxlLHMsbil7aWYoMT09PWUpe2NvbnN0IGU9MS1zLGk9ZSplLHI9cypzLG89dFsxXS5zdWIodFswXSksYT10WzJdLnN1Yih0WzFdKSxoPXRbM10uc3ViKHRbMl0pLHU9by5tdWwoaSkuYWRkKGEubXVsKDIqZSpzKSkuYWRkKGgubXVsKHIpKTtuLmFzc2lnbih1Lm11bCgzKSl9ZWxzZSBpZigyPT09ZSl7Y29uc3QgZT0xLXMsaT10WzJdLnN1Yih0WzFdKS5zdWIodFsxXS5zdWIodFswXSkpLHI9dFszXS5zdWIodFsyXSkuc3ViKHRbMl0uc3ViKHRbMV0pKSxvPWkubXVsKGUpLmFkZChyLm11bChzKSk7bi5hc3NpZ24oby5tdWwoNikpfWVsc2UgaWYoMz09PWUpe2NvbnN0IGU9dFsyXS5zdWIodFsxXSkscz10WzNdLnN1YihlLm11bCgzKSkuc3ViKHRbMF0pO24uYXNzaWduKHMubXVsKDYpKX1lbHNlIG4uc2V0Q29vcmRzKDAsMCl9ZnVuY3Rpb24gb28odCxlLHMsbil7e2NvbnN0IGU9aHQuc3ViRShzKSxpPWUuc3FyKCkscj1zLnNxcigpLG89dFsxXS5zdWJFKHRbMF0pLm11bEUoaSkuYWRkRSh0WzJdLnN1YkUodFsxXSkubXVsRShuZXcgYXQoMikubXVsRShlKS5tdWxFKHMpKSkuYWRkRSh0WzNdLnN1YkUodFsyXSkubXVsRShyKSk7bi5zZXRFKG8ubXVsRShuZXcgYXQoMykpKX19ZnVuY3Rpb24gYW8odCxlLHMpe2NvbnN0IG49bmV3IFE7cmV0dXJuIHJvKHQsZSxzLG4pLG59ZnVuY3Rpb24gaG8odCxlLHMpe2NvbnN0IG49W1llLmNvbnN0cnVjdFBvaW50MkQodFswXSksWWUuY29uc3RydWN0UG9pbnQyRCh0WzFdKSxZZS5jb25zdHJ1Y3RQb2ludDJEKHRbMl0pLFllLmNvbnN0cnVjdFBvaW50MkQodFszXSldLGk9bmV3IFllO3JldHVybiBvbyhuLGUscyxpKSxpfWZ1bmN0aW9uIHVvKHQsZSxzKXtjb25zdCBuPWx0KFEsNCk7cmV0dXJuIHQucXVlcnlDb250cm9sUG9pbnRzKG4pLGFvKG4sZSxzKX1mdW5jdGlvbiBtbyh0KXtjb25zdCBlPXQubV9jcFswXS5zdWIodC5nZXRTdGFydFhZKCkpLHM9dC5tX2NwWzFdLnN1Yih0Lm1fY3BbMF0pLG49dC5nZXRFbmRYWSgpLnN1Yih0LmdldFN0YXJ0WFkoKSk7ZS5tdWxUaGlzKDMpLHMubXVsVGhpcygzKSxuLnN1YlRoaXMocykscy5zdWJUaGlzKGUpO3JldHVybigzKm4ueCooMipzLnkrNSplLnkpLTMqbi55KigyKnMueCs1KmUueCkrMTAqKHMueCplLnktcy55KmUueCkpLzYwfWZ1bmN0aW9uIGxvKHQpe2NvbnN0IGU9bHQoUSw0KTt0LnF1ZXJ5Q29udHJvbFBvaW50cyhlKTtjb25zdCBzPWNvKGUpO3JldHVybiBzJiYodC5tX2NwWzBdLnNldENvb3Jkc1BvaW50MkQoZVsxXSksdC5tX2NwWzFdLnNldENvb3Jkc1BvaW50MkQoZVsyXSksdC5hZnRlckNvbXBsZXRlZE1vZGlmaWNhdGlvbigpKSxzfWZ1bmN0aW9uIGNvKHQpe3JldHVybiBGZSh0KX1mdW5jdGlvbiBnbyh0KXtyZXR1cm4gVmUodCl9ZnVuY3Rpb24gX28odCxlLHMpe2NvbnN0IG49bmV3IFEsaT1uZXcgUSxyPW5ldyBRLG89bmV3IFEsYT1uZXcgUTtlPD0uNT8oWHQoMix0WzBdLHRbMV0sZSxuKSxYdCgyLHRbMV0sdFsyXSxlLGkpLFh0KDIsdFsyXSx0WzNdLGUsciksWHQoMixuLGksZSxvKSxYdCgyLGkscixlLGEpLFh0KDIsbyxhLGUscykpOihxdCgyLHRbMF0sdFsxXSxlLG4pLHF0KDIsdFsxXSx0WzJdLGUsaSkscXQoMix0WzJdLHRbM10sZSxyKSxxdCgyLG4saSxlLG8pLHF0KDIsaSxyLGUsYSkscXQoMixvLGEsZSxzKSl9ZnVuY3Rpb24gcG8odCxlLG4saSl7cyhlPj0wJiZlPD0xKTtjb25zdCByPW5ldyBRLG89bmV3IFEsYT1uZXcgUSxoPW5ldyBRLHU9bmV3IFEsbT1uZXcgUTtlPD0uNT8oWHQoMix0WzBdLHRbMV0sZSxyKSxYdCgyLHRbMV0sdFsyXSxlLG8pLFh0KDIsdFsyXSx0WzNdLGUsYSksWHQoMixyLG8sZSxoKSxYdCgyLG8sYSxlLHUpLFh0KDIsaCx1LGUsbSkpOihxdCgyLHRbMF0sdFsxXSxlLHIpLHF0KDIsdFsxXSx0WzJdLGUsbykscXQoMix0WzJdLHRbM10sZSxhKSxxdCgyLHIsbyxlLGgpLHF0KDIsbyxhLGUsdSkscXQoMixoLHUsZSxtKSk7Y29uc3QgbD10WzNdLmNsb25lKCk7biYmKG5bMF0uYXNzaWduKHRbMF0pLG5bMV0uYXNzaWduKHIpLG5bMl0uYXNzaWduKGgpLG5bM10uYXNzaWduKG0pKSxpJiYoaVswXS5hc3NpZ24obSksaVsxXS5hc3NpZ24odSksaVsyXS5hc3NpZ24oYSksaVszXS5hc3NpZ24obCkpfWZ1bmN0aW9uIGZvKHQsZSxuLGkpe2lmKHMoZT49MCYmbjw9MSYmZTw9biksZT09PW4pe2NvbnN0IHM9bmV3IFE7cmV0dXJuIFBvKHQsZSxzKSxpWzBdLmFzc2lnbihzKSxpWzFdLmFzc2lnbihzKSxpWzJdLmFzc2lnbihzKSx2b2lkIGlbM10uYXNzaWduKHMpfWlmKDA9PT1lJiYxPT09bil7Zm9yKGxldCBlPTA7ZTw0OysrZSlpW2VdLmFzc2lnbih0W2VdKTtyZXR1cm59Y29uc3Qgcj1sdChRLDQpO3BvKHQsbixyLG51bGwpLHBvKHIsbj4wP2UvbjowLG51bGwsciksUG8odCxlLHJbMF0pLFBvKHQsbixyWzNdKSxpWzBdLnNldENvb3Jkc1BvaW50MkQoclswXSksaVsxXS5zZXRDb29yZHNQb2ludDJEKHJbMV0pLGlbMl0uc2V0Q29vcmRzUG9pbnQyRChyWzJdKSxpWzNdLnNldENvb3Jkc1BvaW50MkQoclszXSl9ZnVuY3Rpb24gUG8odCxlLHMsbil7aWYobil7aWYoZTwwKXtyZXR1cm4gdm9pZCBfcyhuZXcgcG0oe3N0YXJ0OnRbMF0sZW5kOnRbMF0uYWRkKENvKHQsMCkuZ2V0VW5pdFZlY3RvcigpKX0pLGUscyl9aWYoZT4xKXtyZXR1cm4gdm9pZCBfcyhuZXcgcG0oe3N0YXJ0OnRbM10sZW5kOnRbM10uYWRkKENvKHQsMSkuZ2V0VW5pdFZlY3RvcigpKX0pLGUtMSxzKX19aWYoZTw9LjUpe2NvbnN0IG49bmV3IFE7WHQoMix0WzBdLHRbMV0sZSxuKTtjb25zdCBpPW5ldyBRO1h0KDIsdFsxXSx0WzJdLGUsaSk7Y29uc3Qgcj1uZXcgUTtYdCgyLHRbMl0sdFszXSxlLHIpO2NvbnN0IG89bmV3IFE7WHQoMixuLGksZSxvKTtjb25zdCBhPW5ldyBRO1h0KDIsaSxyLGUsYSksWHQoMixvLGEsZSxzKX1lbHNle2NvbnN0IG49bmV3IFE7cXQoMix0WzBdLHRbMV0sZSxuKTtjb25zdCBpPW5ldyBRO3F0KDIsdFsxXSx0WzJdLGUsaSk7Y29uc3Qgcj1uZXcgUTtxdCgyLHRbMl0sdFszXSxlLHIpO2NvbnN0IG89bmV3IFE7cXQoMixuLGksZSxvKTtjb25zdCBhPW5ldyBRO3F0KDIsaSxyLGUsYSkscXQoMixvLGEsZSxzKX19ZnVuY3Rpb24geW8odCxlLHMpe2lmKGUudmFsdWUoKTw9LjUpe2NvbnN0IG49bmV3IFllO0Z0KDIsWWUuY29uc3RydWN0UG9pbnQyRCh0WzBdKSxZZS5jb25zdHJ1Y3RQb2ludDJEKHRbMV0pLGUsbik7Y29uc3QgaT1uZXcgWWU7RnQoMixZZS5jb25zdHJ1Y3RQb2ludDJEKHRbMV0pLFllLmNvbnN0cnVjdFBvaW50MkQodFsyXSksZSxpKTtjb25zdCByPW5ldyBZZTtGdCgyLFllLmNvbnN0cnVjdFBvaW50MkQodFsyXSksWWUuY29uc3RydWN0UG9pbnQyRCh0WzNdKSxlLHIpO2NvbnN0IG89bmV3IFllO0Z0KDIsbixpLGUsbyk7Y29uc3QgYT1uZXcgWWU7RnQoMixpLHIsZSxhKSxGdCgyLG8sYSxlLHMpfWVsc2V7Y29uc3Qgbj1uZXcgWWU7VnQoMixZZS5jb25zdHJ1Y3RQb2ludDJEKHRbMF0pLFllLmNvbnN0cnVjdFBvaW50MkQodFsxXSksZSxuKTtjb25zdCBpPW5ldyBZZTtWdCgyLFllLmNvbnN0cnVjdFBvaW50MkQodFsxXSksWWUuY29uc3RydWN0UG9pbnQyRCh0WzJdKSxlLGkpO2NvbnN0IHI9bmV3IFllO1Z0KDIsWWUuY29uc3RydWN0UG9pbnQyRCh0WzJdKSxZZS5jb25zdHJ1Y3RQb2ludDJEKHRbM10pLGUscik7Y29uc3Qgbz1uZXcgWWU7VnQoMixuLGksZSxvKTtjb25zdCBhPW5ldyBZZTtWdCgyLGkscixlLGEpLFZ0KDIsbyxhLGUscyl9fWZ1bmN0aW9uIHhvKHQsZSxzKXtjb25zdCBuPWx0KFEsNCk7dC5xdWVyeUNvbnRyb2xQb2ludHMobikseW8obixlLHMpfWZ1bmN0aW9uIENvKHQsZSl7Y29uc3Qgcz1fdChlLDAsMSk7bGV0IG49YW8odCwxLHMpO3JldHVybiBuLmlzWmVybygpJiYobj1hbyh0LDIscyksbi5pc1plcm8oKT9uPWFvKHQsMyxzKToxPT09cyYmbi5uZWdhdGVUaGlzKCkpLG59ZnVuY3Rpb24gdm8odCxlLHMpe2NvbnN0IG49bHQoUSw0KTt0LnF1ZXJ5Q29udHJvbFBvaW50cyhuKSxibyhuLGUscyl9ZnVuY3Rpb24gYm8odCxlLHMpe2UudmFsdWUoKTwwJiZlLnNldCgwLGUuZXBzKCkpLGUudmFsdWUoKT4xJiZlLnNldCgxLGUuZXBzKCkpLHMuc2V0RShobyh0LDEsZSkpfWZ1bmN0aW9uIFNvKHQsZSxzLG4saSl7aWYoaSl7aWYoMCE9PWFtKGUscykpcmV0dXJuIHQ/NDoyfWVsc2UgaWYoTGUoZSxzKSlyZXR1cm4gMTtyZXR1cm4gMCE9PVRvKHQsZSxzLG51bGwsbnVsbCxudWxsLG4sdm9pZCAwIT09aSYmaSwhMCwhMSk/NDowfWZ1bmN0aW9uIEVvKHQsZSxzLG4saSl7aWYoaSl7aWYoMCE9PWFtKGUscykpcmV0dXJuIHQ/NDoyfWVsc2UgaWYoTGUoZSxzKSlyZXR1cm4gMTtyZXR1cm4gMCE9PUlvKHQsZSxzLG51bGwsbnVsbCxudWxsLG4sdm9pZCAwIT09aSYmaSwhMCwhMSk/NDowfWZ1bmN0aW9uIERvKHQsZSxzLG4saSl7aWYoaSl7aWYoMCE9PWFtKGUscykpcmV0dXJuIDJ9ZWxzZSBpZihMZShlLHMpKXJldHVybiAxO3JldHVybiAwIT09TW8odCxlLHMsbnVsbCxudWxsLG51bGwsbix2b2lkIDAhPT1pJiZpLCEwLCExKT80OjB9ZnVuY3Rpb24gd28odCxlLHMsbixpKXtpZihpKXtpZigwIT09YW0oZSxzKSlyZXR1cm4gdD80OjJ9ZWxzZSBpZihMZShlLHMpKXJldHVybiAxO3JldHVybiAwIT09WW8odCxlLHMsbnVsbCxudWxsLG51bGwsbix2b2lkIDAhPT1pJiZpLCEwLCExKT80OjB9ZnVuY3Rpb24gQW8odCxlLHMsbixpKXtpZihpKXtpZigwIT09YW0oZSxzKSlyZXR1cm4gdD80OjJ9ZWxzZSBpZihMZShlLHMpKXJldHVybiAxO3JldHVybiAwIT09Tm8odCxlLHMsbnVsbCxudWxsLG51bGwsbixpPz8hMSwhMCwhMSk/NDowfWZ1bmN0aW9uIFRvKHQsZSxzLG4saSxyLG8sYSxoLHUpe2lmKG51bGwhPT1pJiYoaS5sZW5ndGg9MCksbnVsbCE9ciYmKHIubGVuZ3RoPTApLG51bGwhPT1uJiYobi5sZW5ndGg9MCkscy5pc0RlZ2VuZXJhdGUoMCkpe2NvbnN0IHQ9WzAsMCwwXSxhPWUuaW50ZXJzZWN0UG9pbnQocy5nZXRTdGFydFhZKCksdCxvKTtpZihhPjApe2lmKG51bGwhPT1pKWZvcihsZXQgZT0wO2U8YTtlKyspaS5wdXNoKHRbZV0pO2lmKG51bGwhPT1yKWZvcihsZXQgdD0wO3Q8YTt0Kyspci5wdXNoKDApO2lmKG51bGwhPW4pZm9yKGxldCBzPTA7czxhO3MrKyl7Y29uc3QgaT1uZXcgUTtlLnF1ZXJ5Q29vcmQyRCh0W3NdLGkpLG4ucHVzaChpKX19cmV0dXJuIGF9Y29uc3QgbT1ycyhlLHMpO2lmKG9zKGUscyxvPU1hdGgubWF4KG8sbSkpKXJldHVybiAwO2NvbnN0IGw9bHQoUSw0KTtCcihlLGwpO2NvbnN0IGM9cy5nZXRFbmRYWSgpO2Muc3ViVGhpcyhzLmdldFN0YXJ0WFkoKSk7Y29uc3QgZz1jLmNsb25lKCk7Zy5sZWZ0UGVycGVuZGljdWxhclRoaXMoKTtsZXQgZD0zKmxbM10uZG90UHJvZHVjdChnKSxfPTIqbFsyXS5kb3RQcm9kdWN0KGcpLHA9bFsxXS5kb3RQcm9kdWN0KGcpO2NvbnN0IGY9VSgxNSxOdW1iZXIuTmFOKSxQPVUoMTUsTnVtYmVyLk5hTik7bGV0IHk9c24oZCxfLHAsSC51bml0KCksITEsZik7eTwwJiYoZlswXT0wLGZbMV09MSx5PTIpO2xldCB4LEM9MDtmb3IobGV0IFM9MCxFPUM7Uzx5OysrUyl7Y29uc3QgdD1lLmdldENvb3JkMkQoZltTK0VdKTtQW0NdPXMuZ2V0Q2xvc2VzdENvb3JkaW5hdGUodCwhMSksUS5kaXN0YW5jZSh0LHMuZ2V0Q29vcmQyRChQW0NdKSk8PW8mJihmW0NdPWZbUytFXSxDKyspfWlmKGxbMF0uc3ViVGhpcyhzLmdldFN0YXJ0WFkoKSksTWF0aC5hYnMoYy54KT49TWF0aC5hYnMoYy55KSl7Y29uc3QgdD1jLnkvYy54O2Q9bFszXS55LWxbM10ueCp0LF89bFsyXS55LWxbMl0ueCp0LHA9bFsxXS55LWxbMV0ueCp0LHg9bFswXS55LWxbMF0ueCp0fWVsc2V7Y29uc3QgdD1jLngvYy55O2Q9bFszXS54LWxbM10ueSp0LF89bFsyXS54LWxbMl0ueSp0LHA9bFsxXS54LWxbMV0ueSp0LHg9bFswXS54LWxbMF0ueSp0fWNvbnN0IHY9ZS5nZXRFbmRYWSgpLmVxdWFscyhzLmdldFN0YXJ0WFkoKSl8fGUuZ2V0RW5kWFkoKS5lcXVhbHMocy5nZXRFbmRYWSgpKSxiPVswLDAsMF07eT1ubihkLF8scCx4LEgudW5pdCgpLHYsYik7Zm9yKGxldCBTPTAsRT1DO1M8eTsrK1Mpe2ZbUytFXT1iW1NdO2NvbnN0IHQ9ZS5nZXRDb29yZDJEKGZbUytFXSk7UFtDXT1zLmdldENsb3Nlc3RDb29yZGluYXRlKHQsITEpO1EuZGlzdGFuY2UodCxzLmdldENvb3JkMkQoUFtDXSkpPD1vJiYoZltDXT1mW1MrRV0sQysrKX15PWUuaW50ZXJzZWN0UG9pbnQocy5nZXRTdGFydFhZKCksYixvKTtmb3IobGV0IFM9MDtTPHk7UysrKWZbQ109YltTXSxQW0MrK109MDt5PWUuaW50ZXJzZWN0UG9pbnQocy5nZXRFbmRYWSgpLGIsbyk7Zm9yKGxldCBTPTA7Uzx5O1MrKylmW0NdPWJbU10sUFtDKytdPTE7cmV0dXJuIDAhPT1zLmludGVyc2VjdFBvaW50KGUuZ2V0U3RhcnRYWSgpLGIsbykmJihQW0NdPWJbMF0sZltDKytdPTApLDAhPT1zLmludGVyc2VjdFBvaW50KGUuZ2V0RW5kWFkoKSxiLG8pJiYoUFtDXT1iWzBdLGZbQysrXT0xKSwwPT09Qz8wOmNtKHQsZSxzLGYsUCxDLG4saSxyLG8sYSxoLHUpfWZ1bmN0aW9uIElvKHQsZSxzLG4saSxyLG8sYSxoLHUpe2lmKFN1KHMpKXtyZXR1cm4gVG8odCxlLG5ldyBwbSh7c3RhcnQ6cy5nZXRTdGFydFhZKCksZW5kOnMuZ2V0RW5kWFkoKX0pLG4saSxyLG8sYSxoLHUpfWNvbnN0IG09cnMoZSxzKTtpZihvcyhlLHMsbz1NYXRoLm1heChvLG0pKSlyZXR1cm4gMDtjb25zdCBsPVtdLGM9W10sZz1bXSxkPWx0KFEsNCk7e2UucXVlcnlDb250cm9sUG9pbnRzKGQpO2NvbnN0IHQ9bHQoUSw0KSxuPW5ldyBsZTtzLmNhbm9uaWNUb1dvcmxkVHJhbnNmb3JtYXRpb24obik7Y29uc3QgaT1uZXcgbGU7aS5zZXRJbnZlcnQobiksaS50cmFuc2Zvcm1Qb2ludHMyRChkLDQsdCk7Y29uc3Qgcj1sdChYZSw0KTtacih0LHIpO2NvbnN0IGg9W3JbMF0ueCxyWzFdLngsclsyXS54LHJbM10ueF0sdT1bclswXS55LHJbMV0ueSxyWzJdLnksclszXS55XSxtPWx0KGl0LDMpO21bMF0uc2V0RG91YmxlKHMuZ2V0U2VtaU1pbm9yQXhpcygpKSxtWzBdLnNxclRoaXMoKSxtWzFdLnNldERvdWJsZShzLmdldFNlbWlNYWpvckF4aXMoKSksbVsxXS5zcXJUaGlzKCksbVsyXS5zZXRUaGlzKG1bMF0pLG1bMl0ubXVsVGhpcyhtWzFdKSxtWzJdLm5lZ2F0ZVRoaXMoKTtjb25zdCBfPXFuKGgsMyx1LDMsbnVsbCwwLG0sITAsSC51bml0KCksSC51bml0KCksYyxhKTtpZihfPjApe2xldCB0PTA7Zm9yKGxldCBuPTA7bjxfO24rKyl7Y29uc3QgaT1uZXcgUTtlLnF1ZXJ5Q29vcmQyRChjW25dLGkpO2NvbnN0IHI9cy5nZXRDbG9zZXN0Q29vcmRpbmF0ZShpLCExKSxhPW5ldyBRO3MucXVlcnlDb29yZDJEKHIsYSk7US5kaXN0YW5jZShpLGEpPD1vJiYobC5wdXNoKGkuY2xvbmUoKSksY1t0XT1jW25dLGcucHVzaChyKSx0KyspfWMubGVuZ3RoPXQsbC5sZW5ndGg9dH19Y29uc3QgXz1bMCwxXTtmb3IobGV0IHA9MDtwPDI7cCsrKXtjb25zdCB0PTA9PT1wP3MuZ2V0U3RhcnRYWSgpOnMuZ2V0RW5kWFkoKSxlPVswXTtMbyhkLHQsSC51bml0KCksITEsLTEsMSxlKTtjb25zdCBuPW5ldyBRO1BvKGQsZVswXSxuKTtRLmRpc3RhbmNlKHQsbik8PW8mJihjLnB1c2goZVswXSksZy5wdXNoKF9bcF0pLGwucHVzaChuLmNsb25lKCkpKX1mb3IobGV0IHA9MDtwPDI7cCsrKXtjb25zdCB0PVswLDNdO3tjb25zdCBlPXMuZ2V0Q2xvc2VzdENvb3JkaW5hdGUoZFt0W3BdXSwhMSksbj1uZXcgUTtzLnF1ZXJ5Q29vcmQyRChlLG4pO1EuZGlzdGFuY2UoZFt0W3BdXSxuKTw9byYmKGMucHVzaChfW3BdKSxnLnB1c2goZSksbC5wdXNoKG4uY2xvbmUoKSkpfX1yZXR1cm4gY20odCxlLHMsYyxnLGMubGVuZ3RoLG4saSxyLG8sYSxoLHUpfWZ1bmN0aW9uIE1vKHQsZSxuLGkscixvLGEsaCx1LG0pe2NvbnN0IGw9bHQoUSw0KTtlLnF1ZXJ5Q29udHJvbFBvaW50cyhsKTtjb25zdCBjPWx0KFEsNCk7aWYobi5xdWVyeUNvbnRyb2xQb2ludHMoYyksYXMobCxjLDQpPDApcmV0dXJuIE1vKHQsbixlLGksbyxyLGEsaCx1LCFtKTtjb25zdCBnPXJzKGUsbik7aWYob3MoZSxuLGE9TWF0aC5tYXgoYSxnKSkpcmV0dXJuIDA7aWYoZWEoZSxuLGkscixvLGEsaCx1LG0pKXJldHVybiAyO2NvbnN0IGQ9bmV3IEgoMCwxKSxfPW5ldyBIKDAsMSk7e2NvbnN0IHQ9bmV3IERlO0ZvKGwsbmV3IEgoMCwxKSx0KTtjb25zdCBlPW5ldyBEZTtGbyhjLG5ldyBIKDAsMSksZSk7Y29uc3Qgcz1NYXRoLm1heCh0Lm1heERpbSgpLGUubWF4RGltKCkpO2lmKHQuaW5mbGF0ZSgzKmEpLGUuaW5mbGF0ZSgzKmEpLCF0LmludGVyc2VjdFcoZSkpcmV0dXJuIDA7aWYodC5tYXhEaW0oKTwuMSpzKXtpZihPbyhsLHQsZCksZC5pc0VtcHR5KCkpcmV0dXJuIDA7aWYoT28oYyx0LF8pLF8uaXNFbXB0eSgpKXJldHVybiAwO2ZvKGwsZC52bWluLGQudm1heCxsKSxmbyhjLF8udm1pbixfLnZtYXgsYyl9fWNvbnN0IHA9ZG0obCwzLGMsMyxhKTtpZigwPT09cClyZXR1cm4gMDtjb25zdCBmPVtdLFA9W10seT1bXTtsZXQgeD0hMTtpZigtMT09PXApe2NvbnN0IHQ9bHQoWGUsNCk7WnIobCx0KTtjb25zdCBlPVt0WzBdLngsdFsxXS54LHRbMl0ueCx0WzNdLnhdLHM9W3RbMF0ueSx0WzFdLnksdFsyXS55LHRbM10ueV0sbj1sdChYZSw0KTtacihjLG4pO2NvbnN0IGk9W10scj1bXSxvPVluKGUsMyxzLDMsbnVsbCwwLFtuWzBdLngsblsxXS54LG5bMl0ueCxuWzNdLnhdLDMsW25bMF0ueSxuWzFdLnksblsyXS55LG5bM10ueV0sMyxudWxsLDAsITAsSC51bml0KCksSC51bml0KCksaSxyLHUpO2lmKG8+MClmb3IobGV0IGg9MDtoPG87aCsrKXtjb25zdCB0PW5ldyBRO1BvKGMscltoXSx0KTtjb25zdCBlPW5ldyBRO1BvKGwsaVtoXSxlKTtRLmRpc3RhbmNlKGUsdCk8PWEmJihmLnB1c2goZS5jbG9uZSgpKSx5LnB1c2gocltoXSksUC5wdXNoKGlbaF0pKX1lbHNlLTE9PT1vJiYoeD0hMCl9Zm9yKGxldCBzPTA7czwyO3MrKyl7Y29uc3QgdD0wPT09cz9sOmMsZT0wPT09cz9jOmw7Zm9yKGxldCBuPTA7bjwyO24rKyl7Y29uc3QgaT0wPT09bj8wOjMscj1bMF07TG8oZSx0W2ldLEgudW5pdCgpLCExLC0xLDEscik7Y29uc3Qgbz1uZXcgUTtQbyhlLHJbMF0sbyk7US5kaXN0YW5jZSh0W2ldLG8pPD1hJiYoMD09PXM/KFAucHVzaCgwPT09aT8wOjEpLHkucHVzaChyWzBdKSk6KHkucHVzaCgwPT09aT8wOjEpLFAucHVzaChyWzBdKSksZi5wdXNoKG8uY2xvbmUoKSkpfX1pZigwPT09UC5sZW5ndGgmJngpe2NvbnN0IHQ9ZS5jYWxjdWxhdGVVcHBlckxlbmd0aDJEKCk+bi5jYWxjdWxhdGVVcHBlckxlbmd0aDJEKCk7e2NvbnN0IGk9WzAsMF07aWYoMj09PUdvKHQ/ZTpuLGksITApJiYocyhILnVuaXQoKS5jb250YWluc0Nvb3JkaW5hdGUoaVswXSkpLCFILnVuaXQoKS5jb250YWluc0Nvb3JkaW5hdGUoaVsxXSkpKXtjb25zdCBlPW5ldyBRO1BvKHQ/bDpjLGlbMF0sZSk7Y29uc3Qgcz1bMCwwXTsxPT09TG8odD9jOmwsZSxILnVuaXQoKSwhMSwtMSwyLHMpJiYoZi5wdXNoKGUuY2xvbmUoKSksUC5wdXNoKHQ/aVswXTpzWzBdKSx5LnB1c2godD9zWzBdOmlbMF0pKX19fWlmKDA9PT1QLmxlbmd0aClyZXR1cm4gMDtpZighZC5lcXVhbHNSYW5nZSgwLDEpKWZvcihsZXQgcz0wO3M8UC5sZW5ndGg7KytzKVBbc109aWEucmVjYWxjdWxhdGVQYXJlbnRUKGQudm1pbixkLnZtYXgsUFtzXSk7aWYoIV8uZXF1YWxzUmFuZ2UoMCwxKSlmb3IobGV0IHM9MDtzPHkubGVuZ3RoOysrcyl5W3NdPWlhLnJlY2FsY3VsYXRlUGFyZW50VChfLnZtaW4sXy52bWF4LHlbc10pO3JldHVybiBjbSh0LGUsbixQLHksUC5sZW5ndGgsaSxyLG8sYSxoLHUsbSl9ZnVuY3Rpb24gWW8odCxlLG4saSxyLG8sYSxoLHUsbSl7Y29uc3QgbD1ycyhlLG4pO2lmKG4uaXNEZWdlbmVyYXRlVG9MaW5lSGVscGVyKGwpKXtjb25zdCBzPW5ldyBwbSh7c3RhcnQ6bi5nZXRTdGFydFhZKCksZW5kOm4uZ2V0RW5kWFkoKX0pLGw9VG8odCxlLHMsaSxyLG8sYSxoLHUsbSk7aWYobylmb3IobGV0IHQ9MDt0PGw7Kyt0KXtjb25zdCBlPXMuZ2V0Q29vcmQyRChvW3RdKTtvW3RdPW4uZ2V0Q2xvc2VzdENvb3JkaW5hdGUoZSwhMSl9cmV0dXJuIGx9aWYob3MoZSxuLGE9TWF0aC5tYXgoYSxsKSkpcmV0dXJuIDA7Y29uc3QgYz1sdChRLDQpO2UucXVlcnlDb250cm9sUG9pbnRzKGMpO2NvbnN0IGc9bHQoUSwzKTtuLnF1ZXJ5Q29udHJvbFBvaW50cyhnKTtjb25zdCBkPW5ldyBIKDAsMSksXz1uZXcgSCgwLDEpLHA9WzAsMCwwXTtuLnF1ZXJ5V2VpZ2h0cyhwKTtjb25zdCBmPVsxLGZoKHApLDFdO3tjb25zdCB0PW5ldyBEZTtGbyhjLG5ldyBIKDAsMSksdCk7Y29uc3QgZT1uZXcgRGU7V2EoZyxmLG5ldyBIKDAsMSksZSk7Y29uc3Qgcz1NYXRoLm1heCh0Lm1heERpbSgpLGUubWF4RGltKCkpO2lmKHQuaW5mbGF0ZSgzKmEpLGUuaW5mbGF0ZSgzKmEpLCF0LmludGVyc2VjdFcoZSkpcmV0dXJuIDA7aWYodC5tYXhEaW0oKTwuMSpzKXtpZihPbyhjLHQsZCksZC5pc0VtcHR5KCkpcmV0dXJuIDA7aWYocGgoZyxmLHQsXyksXy5pc0VtcHR5KCkpcmV0dXJuIDA7Zm8oYyxkLnZtaW4sZC52bWF4LGMpLFFhKGcsZixfLnZtaW4sXy52bWF4LGcsZil9fWNvbnN0IFA9ZG0oYywzLGcsMixhKTtpZigwPT09UClyZXR1cm4gMDtjb25zdCB5PVtdLHg9W10sQz1bXTtpZigtMT09PVApe2NvbnN0IHQ9bHQoWGUsNCk7WnIoYyx0KTtjb25zdCBlPVt0WzBdLngsdFsxXS54LHRbMl0ueCx0WzNdLnhdLHM9W3RbMF0ueSx0WzFdLnksdFsyXS55LHRbM10ueV0sbj1sdChpdCwzKSxpPWx0KGl0LDMpLHI9bHQoaXQsMyk7aGgoZyxmLG4saSxyKTtjb25zdCBvPVtdLGg9W10sbT1ZbihuLDIsaSwyLHIsMixlLDMscywzLG51bGwsMCwhMCxILnVuaXQoKSxILnVuaXQoKSxoLG8sdSk7aWYobT4wKWZvcihsZXQgdT0wO3U8bTt1Kyspe2NvbnN0IHQ9bmV3IFE7UG8oYyxvW3VdLHQpO2NvbnN0IGU9bmV3IFE7X2goZyxmLGhbdV0sZSk7US5kaXN0YW5jZSh0LGUpPD1hJiYoeS5wdXNoKHQuY2xvbmUoKSkseC5wdXNoKG9bdV0pLEMucHVzaChoW3VdKSl9fWZvcihsZXQgdj0wO3Y8Mjt2Kyspe2xldCB0LGU7MD09PXY/KHQ9YyxlPWcpOihlPWMsdD1nKTtmb3IobGV0IG49MDtuPDI7bisrKXtjb25zdCBpPTA9PT1uPzA6dC5sZW5ndGgtMSxyPVswXSxvPW5ldyBRO2lmKDA9PT12KXtjb25zdCBuPXphKGUsZix0W2ldLEgudW5pdCgpLCExLC0xLDEscik7cygxPT09biksX2goZSxmLHJbMF0sbyl9ZWxzZXtjb25zdCBuPUxvKGUsdFtpXSxILnVuaXQoKSwhMSwtMSwxLHIpO3MoMT09PW4pLFBvKGUsclswXSxvKX1RLmRpc3RhbmNlKHRbaV0sbyk8PWEmJigwPT09dj8oeC5wdXNoKDA9PT1pPzA6MSksQy5wdXNoKHJbMF0pKTooQy5wdXNoKDA9PT1pPzA6MSkseC5wdXNoKHJbMF0pKSx5LnB1c2goby5jbG9uZSgpKSl9fWlmKDA9PT14Lmxlbmd0aClyZXR1cm4gMDtpZighZC5lcXVhbHNSYW5nZSgwLDEpKWZvcihsZXQgcz0wO3M8eC5sZW5ndGg7KytzKXhbc109aWEucmVjYWxjdWxhdGVQYXJlbnRUKGQudm1pbixkLnZtYXgseFtzXSk7aWYoIV8uZXF1YWxzUmFuZ2UoMCwxKSlmb3IobGV0IHM9MDtzPEMubGVuZ3RoOysrcylDW3NdPUVuLnJlY2FsY3VsYXRlUGFyZW50VChfLnZtaW4sXy52bWF4LENbc10pO2ZvcihsZXQgcz0wO3M8Qy5sZW5ndGg7KytzKUNbc109UGgocCxDW3NdKTtyZXR1cm4gY20odCxlLG4seCxDLHgubGVuZ3RoLGkscixvLGEsaCx1LG0pfWZ1bmN0aW9uIE5vKHQsZSxuLGkscixvLGEsaCx1LG0pe2NvbnN0IGw9cnMoZSxuKTtpZihvcyhlLG4sYT1NYXRoLm1heChhLGwpKSlyZXR1cm4gMDtjb25zdCBjPWx0KFEsNCk7ZS5xdWVyeUNvbnRyb2xQb2ludHMoYyk7Y29uc3QgZz1sdChRLDMpO24ucXVlcnlDb250cm9sUG9pbnRzKGcpO2NvbnN0IGQ9ZG0oYywzLGcsMixhKTtpZigwPT09ZClyZXR1cm4gMDtjb25zdCBfPVtdLHA9W10sZj1bXTtpZigtMT09PWQpe2NvbnN0IHQ9bHQoWGUsNCk7WnIoYyx0KTtjb25zdCBzPVt0WzBdLngsdFsxXS54LHRbMl0ueCx0WzNdLnhdLGk9W3RbMF0ueSx0WzFdLnksdFsyXS55LHRbM10ueV0scj1sdChYZSwzKTtXaShnLHIpO2NvbnN0IG89WW4oW3JbMF0ueCxyWzFdLngsclsyXS54XSwyLFtyWzBdLnksclsxXS55LHJbMl0ueV0sMixudWxsLDAscywzLGksMyxudWxsLDAsITAsSC51bml0KCksSC51bml0KCksZixwLGgpO2lmKG8+MCl7bGV0IHQ9MDtmb3IobGV0IHM9MDtzPG87cysrKXtjb25zdCBpPW5ldyBRO2UucXVlcnlDb29yZDJEKHBbc10saSk7Y29uc3Qgcj1uZXcgUTtuLnF1ZXJ5Q29vcmQyRChmW3NdLHIpO1EuZGlzdGFuY2UoaSxyKTw9YSYmKF8ucHVzaChpLmNsb25lKCkpLHBbdF09cFtzXSxmW3RdPWZbc10sdCsrKX1wLmxlbmd0aD10LF8ubGVuZ3RoPXR9fWZvcihsZXQgUD0wO1A8MjtQKyspe2xldCB0LGU7MD09PVA/KHQ9YyxlPWcpOihlPWMsdD1nKTtmb3IobGV0IG49MDtuPDI7bisrKXtjb25zdCBpPTA9PT1uPzA6dC5sZW5ndGgtMSxyPVswXSxvPW5ldyBRO2lmKDA9PT1QKXZpKGUsdFtpXSxyKSxqaShlLHJbMF0sbyk7ZWxzZXtjb25zdCBuPUxvKGUsdFtpXSxILnVuaXQoKSwhMSwtMSwxLHIpO3MoMT09PW4pLFBvKGUsclswXSxvKX1RLmRpc3RhbmNlKHRbaV0sbyk8PWEmJigwPT09UD8ocC5wdXNoKDA9PT1pPzA6MSksZi5wdXNoKHJbMF0pKTooZi5wdXNoKDA9PT1pPzA6MSkscC5wdXNoKHJbMF0pKSxfLnB1c2goby5jbG9uZSgpKSl9fXJldHVybiBjbSh0LGUsbixwLGYscC5sZW5ndGgsaSxyLG8sYSxoLHUsbSl9ZnVuY3Rpb24gWG8odCxlLGkscixvKXtjb25zdCBhPW5ldyBEZTtpZihxbyh0LEgudW5pdCgpLGEpLGEuaW5mbGF0ZShyKSwhYS5pc0ludGVyc2VjdGluZ1BvaW50MkQoZSkpcmV0dXJuIDA7Y29uc3QgaD1Rcih0KTtsZXQgdT0wLG09aC5zcGVjaWFsUG9pbnRzWzBdO2NvbnN0IGw9W107Zm9yKGxldCBuPTEsYz1oLnNwZWNpYWxQb2ludHMubGVuZ3RoO248YzsrK24pe2NvbnN0IGk9aC5zcGVjaWFsUG9pbnRzW25dLHI9bm8odCxlLG0saSk7aWYoMD09PWwubGVuZ3RoKWwucHVzaChyKTtlbHNlIGlmKHIudD09PXIudG1pbilzKGwuYXQoLTEpLmQ8PXIuZCksbC5hdCgtMSkudG1heD1yLnRtYXg7ZWxzZSBpZihsLmF0KC0xKS50PT09bC5hdCgtMSkudG1heCl7cyhsLmF0KC0xKS5kPj1yLmQpO2NvbnN0IHQ9bC5hdCgtMSkudG1pbjtsW2wubGVuZ3RoLTFdPXIsbC5hdCgtMSkudG1pbj10fWVsc2UgbC5wdXNoKHIpO209aX1mb3IoY29uc3QgcyBvZiBsKWlmKHMuZDw9cil7Y29uc3QgdD1zLnQ7aT8odT49aS5sZW5ndGgmJm4oXCJcIiksaVt1XT10LHUrKyk6dSsrfXJldHVybiB1fWZ1bmN0aW9uIHFvKHQsZSxzKXtjb25zdCBuPWx0KFEsNCk7dC5xdWVyeUNvbnRyb2xQb2ludHMobiksRm8obixlLHMpfWZ1bmN0aW9uIEZvKHQsZSxzKXtpZihlLmVxdWFsc1JhbmdlKDAsMSkpcmV0dXJuIHZvaWQgcy5zZXRGcm9tUG9pbnRzKHQsNCk7Y29uc3Qgbj1sdChRLDQpO2ZvKHQsZS52bWluLGUudm1heCxuKSxzLnNldEZyb21Qb2ludHMobiw0KX1sZXQgVm89Y2xhc3N7Y29uc3RydWN0b3IodCxlLHMpe3RoaXMuZGJnQ291bnRlcj0wLHRoaXMuY29udHJvbFBvaW50cz10LHRoaXMucG9pbnQ9ZS5jbG9uZSgpLHRoaXMubWF4RGlzdGFuY2U9c31nZXRNYXhEZXJpdmF0aXZlKCl7cmV0dXJuIDZ9Z2V0VmFsdWUodCxlKXtzd2l0Y2godCl7Y2FzZSAwOntjb25zdCB0PW5ldyBRO1BvKHRoaXMuY29udHJvbFBvaW50cyxlLHQpO2NvbnN0IHM9YW8odGhpcy5jb250cm9sUG9pbnRzLDEsZSk7cmV0dXJuIDIqdC5zdWIodGhpcy5wb2ludCkuZG90UHJvZHVjdChzKX1jYXNlIDE6e2NvbnN0IHQ9bmV3IFE7UG8odGhpcy5jb250cm9sUG9pbnRzLGUsdCk7Y29uc3Qgcz1hbyh0aGlzLmNvbnRyb2xQb2ludHMsMSxlKSxuPWFvKHRoaXMuY29udHJvbFBvaW50cywyLGUpO3JldHVybiAyKih0LnN1Yih0aGlzLnBvaW50KS5kb3RQcm9kdWN0KG4pK3MuZG90UHJvZHVjdChzKSl9Y2FzZSAyOntjb25zdCB0PW5ldyBRO1BvKHRoaXMuY29udHJvbFBvaW50cyxlLHQpO2NvbnN0IHM9YW8odGhpcy5jb250cm9sUG9pbnRzLDEsZSksbj1hbyh0aGlzLmNvbnRyb2xQb2ludHMsMixlKSxpPWFvKHRoaXMuY29udHJvbFBvaW50cywzLGUpO3JldHVybiAyKih0LnN1Yih0aGlzLnBvaW50KS5kb3RQcm9kdWN0KGkpKzMqcy5kb3RQcm9kdWN0KG4pKX1jYXNlIDM6e2NvbnN0IHQ9YW8odGhpcy5jb250cm9sUG9pbnRzLDEsZSkscz1hbyh0aGlzLmNvbnRyb2xQb2ludHMsMixlKSxuPWFvKHRoaXMuY29udHJvbFBvaW50cywzLGUpO3JldHVybiAyKig0KnQuZG90UHJvZHVjdChuKSszKnMuc3FyTGVuZ3RoKCkpfWNhc2UgNDp7Y29uc3QgdD1hbyh0aGlzLmNvbnRyb2xQb2ludHMsMixlKSxzPWFvKHRoaXMuY29udHJvbFBvaW50cywzLGUpO3JldHVybiAyKigxMCp0LmRvdFByb2R1Y3QocykpfWNhc2UgNTp7Y29uc3QgdD1hbyh0aGlzLmNvbnRyb2xQb2ludHMsMyxlKTtyZXR1cm4gMiooMTAqdC5kb3RQcm9kdWN0KHQpKX1kZWZhdWx0OnJldHVybiAwfX1nZXRFcnJvcih0KXtyZXR1cm4gMH1pc0ludGVyZXN0aW5nSW50ZXJ2YWwodCxlKXtpZih0Pj0wJiZlPD0xKXtjb25zdCBzPWx0KFEsNCk7Zm8odGhpcy5jb250cm9sUG9pbnRzLHQsZSxzKTtjb25zdCBuPW5ldyBEZTtpZihuLnNldEZyb21Qb2ludHMocyw0KSxNYXRoLnNxcnQobi5zcXJNaW5EaXN0YW5jZSh0aGlzLnBvaW50KSk+dGhpcy5tYXhEaXN0YW5jZSlyZXR1cm4hMX1yZXR1cm4hMH19O2Z1bmN0aW9uIExvKHQsZSxuLGkscixvLGEpe18oSC51bml0KCkuY29udGFpbnMobikmJm8+MCxcImdldENsb3Nlc3RDb29yZGluYXRlXCIpLChyPDB8fE51bWJlci5pc05hTihyKSkmJihyPU51bWJlci5NQVhfVkFMVUUpO2NvbnN0IGg9W10sdT1uZXcgUTtQbyh0LG4udm1pbix1KTtsZXQgbT1RLmRpc3RhbmNlKHUsZSk7aWYobTw9ciYmaC5wdXNoKG5ldyBRKG4udm1pbixtKSksbi52bWluIT09bi52bWF4JiYoUG8odCxuLnZtYXgsdSksbT1RLmRpc3RhbmNlKHUsZSksbTw9ciYmaC5wdXNoKG5ldyBRKG4udm1heCxtKSkpLG4ud2lkdGgoKT4wKXtjb25zdCBzPVUoMTgsTnVtYmVyLk5hTiksaT10bihuZXcgVm8odCxlLHIpLG4sMTgscyk7Zm9yKGxldCBuPTA7bjxpO24rKylQbyh0LHNbbl0sdSksbT1RLmRpc3RhbmNlKHUsZSksbT5yfHxoLnB1c2gobmV3IFEoc1tuXSxtKSl9aWYoaSl7cyhuLmVxdWFscyhILnVuaXQoKSkpO3tQbyh0LC0xLHUsITApO2NvbnN0IHM9bmV3IFE7UG8odCwwLHMpO2NvbnN0IG49bmV3IHBtKHtzdGFydDp1LGVuZDpzfSksaT1uLmdldENsb3Nlc3RDb29yZGluYXRlKGUsITApO2k8MSYmKHUuYXNzaWduKG4uZ2V0Q29vcmQyRChpKSksbT1RLmRpc3RhbmNlKHUsZSksbTw9ciYmaC5wdXNoKG5ldyBRKGktMSxtKSkpfXtQbyh0LDIsdSwhMCk7Y29uc3Qgcz1uZXcgUTtQbyh0LG4udm1heCxzKTtjb25zdCBpPW5ldyBwbSh7c3RhcnQ6cyxlbmQ6dX0pLG89aS5nZXRDbG9zZXN0Q29vcmRpbmF0ZShlLCEwKTtvPjAmJih1LmFzc2lnbihpLmdldENvb3JkMkQobykpLG09US5kaXN0YW5jZSh1LGUpLG08PXImJmgucHVzaChuZXcgUSgxK28sbSkpKX19aWYoIWgubGVuZ3RoKXJldHVybiAwO2guc29ydCgoKHQsZSk9PnQuY29tcGFyZShlKSkpO2xldCBsPTA7Y29uc3QgYz1oWzBdLng7aWYoYVtsKytdPWMsbDxvKXtjb25zdCBlPVoodCw0LCExKS50b3RhbCgpLHM9aFswXS55O2ZvcihsZXQgdD0xLG49aC5sZW5ndGg7dDxuO3QrKylpZihoW3RdLnk+cytlKXtoLmxlbmd0aD10O2JyZWFrfWguc29ydCgoKHQsZSk9PkJ0KHQueCxlLngpKSksbD0wLGFbbCsrXT1oWzBdLng7Zm9yKGxldCB0PTEsbj1oLmxlbmd0aDt0PG47dCsrKWhbdF0ueCE9PWFbbC0xXSYmbDxvJiYoYVtsKytdPWhbdF0ueCl9cmV0dXJuIGx9ZnVuY3Rpb24gUm8odCxlLHMsbixpLHIsbyl7Y29uc3QgYT1sdChRLDQpO3JldHVybiB0LnF1ZXJ5Q29udHJvbFBvaW50cyhhKSxMbyhhLGUscyxuLGkscixvKX1mdW5jdGlvbiB6byh0KXtyZXR1cm4gdC5nZXRTdGFydFhZKCkubm9ybSgxKSt0LmdldEVuZFhZKCkubm9ybSgxKSt0Lm1fY3BbMF0ubm9ybSgxKSt0Lm1fY3BbMV0ubm9ybSgxKX1mdW5jdGlvbiBCbyh0KXtyZXR1cm4gdFswXS5ub3JtKDEpK3RbMV0ubm9ybSgxKSt0WzJdLm5vcm0oMSkrdFszXS5ub3JtKDEpfWZ1bmN0aW9uIGtvKHQsZSxuKXtpZihzKG4+PTIpLDI9PT1uKXtjb25zdCBzPW5ldyBRO3h0KGVbMF0sZVtuLTFdLDEvMyxzKTtjb25zdCBpPW5ldyBRO3JldHVybiB4dChlWzBdLGVbbi0xXSwyLzMsaSksdm9pZCB0LmNvbnN0cnVjdChlWzBdLHMsaSxlW24tMV0pfWNvbnN0IGk9ZVswXSxyPWVbbi0xXSxvPVswLDBdLGE9Um8odCxpLEgudW5pdCgpLCExLE51bWJlci5OYU4sMixvKSxoPVswLDBdLHU9Um8odCxyLEgudW5pdCgpLCExLE51bWJlci5OYU4sMixoKSxtPVtdO2ZvcihsZXQgcz0wO3M8YTtzKyspZm9yKGxldCBhPTA7YTx1O2ErKyl7Y29uc3QgdT1vW3NdLGw9aFthXSxjPXU+bCxnPShzLG8pPT57Y29uc3QgYT1VKG4tMixOdW1iZXIuTmFOKSxoPSgpPT57bGV0IHQ9MDtmb3IobGV0IHM9MSxpPW4tMTtzPGk7cysrKXt0Kz1RLmRpc3RhbmNlKGVbcy0xXSxlW3NdKTtjb25zdCBuPXQ7YVtzLTFdPW59dCs9US5kaXN0YW5jZShlW24tMl0sZVtuLTFdKSxjJiZhLnJldmVyc2UoKTtmb3IobGV0IGU9MSxzPW4tMTtlPHM7ZSsrKWFbZS0xXS89dCxjJiYoYVtlLTFdPTEtYVtlLTFdKX07bGV0IG09ITEsZz0hMTt7Y29uc3QgZT1uZXcgZm07Yz8odC5xdWVyeUN1dChsLHUsZSwhMCkscy5hc3NpZ24oZS5nZXQoKS5nZXRDb250cm9sUG9pbnQyKCkpLG8uYXNzaWduKGUuZ2V0KCkuZ2V0Q29udHJvbFBvaW50MSgpKSk6KHQucXVlcnlDdXQodSxsLGUsITApLHMuYXNzaWduKGUuZ2V0KCkuZ2V0Q29udHJvbFBvaW50MSgpKSxvLmFzc2lnbihlLmdldCgpLmdldENvbnRyb2xQb2ludDIoKSkpLGkuZXF1YWxzKHMpJiYobT0hMCksci5lcXVhbHMobykmJihnPSEwKX1oKCk7bGV0IGQ9TnVtYmVyLk1BWF9WQUxVRTtjb25zdCBfPXMuY2xvbmUoKSxwPW8uY2xvbmUoKTtmb3IobGV0IHQ9MDt0PDU7dCsrKXtkPXNhKCEwLCExLGksXyxwLHIsbSxnLGEsbi0yLGUsbil9Zm9yKGxldCB0PTA7dDwzMDt0Kyspe2NvbnN0IHQ9Xy5jbG9uZSgpO3AuY2xvbmUoKTtjb25zdCBzPXNhKCEwLCEwLGksXyxwLHIsbSxnLGEsbi0yLGUsbik7aWYoZDw9cyYmdC5lcXVhbHMoXykmJnQuZXF1YWxzKHApKWJyZWFrO2Q9c31oKCk7bGV0IGY9ITEsUD1OdW1iZXIuTUFYX1ZBTFVFO2NvbnN0IHk9cy5jbG9uZSgpLHg9by5jbG9uZSgpO2ZvcihsZXQgdD0wO3Q8MzA7dCsrKXtjb25zdCB0PXkuY2xvbmUoKTt4LmNsb25lKCk7Y29uc3Qgcz1zYShmLCEwLGkseSx4LHIsbSxnLGEsbi0yLGUsbik7aWYoUDw9cyYmdC5lcXVhbHMoeSkmJnQuZXF1YWxzKHgpKWJyZWFrO2Y9ITAsUD1zfXJldHVybiBQPGQ/KHMuYXNzaWduKHkpLG8uYXNzaWduKHgpKToocy5hc3NpZ24oXyksby5hc3NpZ24ocCksUD1kKSxQfSxkPW5ldyBRLF89bmV3IFEscD1bZyhkLF8pLFEuZGlzdGFuY2UoaSxkKStRLmRpc3RhbmNlKGQsXykrUS5kaXN0YW5jZShfLHIpLGQueCxkLnksXy54LF8ueV07bS5zcGxpY2UobS5sZW5ndGgsMCwuLi5wKX1sZXQgbD1tWzBdLGM9bVsxXSxnPTA7Zm9yKGxldCBzPTY7czxtLmxlbmd0aDtzKz02KW1bc108bCYmKGw9bVtzXSxjPW1bcysxXSxnPXMpO2xldCBkPWc7Zm9yKGxldCBzPTA7czxtLmxlbmd0aDtzKz02KXMhPT1nJiZtW3MrMV08YyYmTWF0aC5hYnMobC1tW3NdKTwxMCpsJiYoYz1tW3MrMV0sZD1zKTt0LmNvbnN0cnVjdChpLG5ldyBRKG1bZCsyXSxtW2QrM10pLG5ldyBRKG1bZCs0XSxtW2QrNV0pLHIpfWZ1bmN0aW9uIEdvKHQsZSxzPSExKXtjb25zdCBuPWx0KFEsNCk7dC5xdWVyeUNvbnRyb2xQb2ludHMobik7Y29uc3QgaT1sdChYZSw0KTtsZXQgcixvLGE7WnIobixpLCEwKTtjb25zdCBoPWlbM10ueC5pc1plcm8oKSx1PWlbM10ueS5pc1plcm8oKTtpZihofHx1KWlmKGgmJiF1KXtpZihpWzJdLnguaXNaZXJvKCkpcmV0dXJuIDA7cj1pWzFdLnguZGl2KGlbMl0ueCkubmVnYXRlKCksbz1pWzJdLnkuZGl2KGlbM10ueSksYT1pWzFdLnkuZGl2KGlbM10ueSl9ZWxzZXtpZihofHwhdSlyZXR1cm4gMDtpZihpWzJdLnkuaXNaZXJvKCkpcmV0dXJuIDA7cj1pWzFdLnkuZGl2KGlbMl0ueSkubmVnYXRlKCksbz1pWzJdLnguZGl2KGlbM10ueCksYT1pWzFdLnguZGl2KGlbM10ueCl9ZWxzZXtpWzJdLnguZGl2VGhpcyhpWzNdLngpLGlbMV0ueC5kaXZUaGlzKGlbM10ueCksaVsyXS55LmRpdlRoaXMoaVszXS55KSxpWzFdLnkuZGl2VGhpcyhpWzNdLnkpO2NvbnN0IHQ9aVsyXS54LnN1YihpWzJdLnkpO2lmKHQuaXNaZXJvKCkpcmV0dXJuIDA7cj1pWzFdLnguc3ViKGlbMV0ueSkuZGl2KHQpLm5lZ2F0ZSgpLG89aVsyXS54LmNsb25lKCksYT1pWzFdLnguY2xvbmUoKX1pZighcyYmci5hYnMoKS52YWx1ZSgpPjIpcmV0dXJuIDA7Y29uc3QgbT1bMCwwXSxsPXQuZ2V0U3RhcnRYWSgpLmVxdWFscyh0LmdldEVuZFhZKCkpLGM9c24oMSwtci50b0RvdWJsZSgpLHIuYWRkKG8pLm11bChyKS5hZGQoYSkudG9Eb3VibGUoKSxILnVuaXQoKSxsLG0pO2lmKDA9PT1jKXJldHVybiAwO2lmKG1bMF0+PTAmJm1bMF08PTEpe2NvbnN0IHQ9ci50b0RvdWJsZSgpLW1bMF07aWYoc3x8dD49MCYmdDw9MSlyZXR1cm4gZVswXT1tWzBdLGVbMV09dCxlWzBdPmVbMV0mJihlWzFdPWV0KGVbMF0sZVswXT1lWzFdKSksMn1pZigyPT09YyYmbVsxXT49MCYmbVsxXTw9MSl7Y29uc3QgdD1yLnRvRG91YmxlKCktbVsxXTtpZihzfHx0Pj0wJiZ0PD0xKXJldHVybiBlWzBdPW1bMV0sZVsxXT10LGVbMF0+ZVsxXSYmKGVbMV09ZXQoZVswXSxlWzBdPWVbMV0pKSwyfXJldHVybiAwfWZ1bmN0aW9uIFdvKHQsZSxzKXtjb25zdCBuPXRbMV0ubXVsRShlWzJdKS5zdWJUaGlzRSh0WzJdLm11bEUoZVsxXSkpLGk9dFsxXS5tdWxFKGVbM10pLnN1YlRoaXNFKHRbM10ubXVsRShlWzFdKSkubXVsVGhpcygzKSxyPXRbMl0ubXVsRShlWzNdKS5zdWJUaGlzRSh0WzNdLm11bEUoZVsyXSkpLm11bFRoaXMoMyksbz1sdChhdCwyKTtsZXQgYT1nbihyLGksbixuZXcgSCgwLDEpLCExLG8pO2E8MCYmKGE9MCk7bGV0IGg9MDtmb3IobGV0IHU9MDt1PGE7dSsrKWd0KG9bdV0udmFsdWUoKSwwLDEpfHwoc1toXS5zZXRFKG9bdV0pLGgrKyk7cmV0dXJuIGh9ZnVuY3Rpb24gam8odCxlKXtlWzBdLnNldCgwKTtsZXQgbj0xO2NvbnN0IGk9bHQoYXQsNCk7V3IodCxpLCEwKTtjb25zdCByPWx0KGF0LDQpO2pyKHQsciwhMCk7e2NvbnN0IHQ9aVszXS5tdWwoMykscz1pWzJdLm11bCgyKSxyPWlbMV0uY2xvbmUoKSxvPWx0KGF0LDIpO2xldCBhPWduKHQscyxyLG5ldyBIKDAsMSksITEsbyk7YTwwJiYoYT0wKTtmb3IobGV0IGk9MDtpPGE7aSsrKWd0KG9baV0udmFsdWUoKSwwLDEpfHwoZVtuXT1vW2ldLG4rKyl9e2NvbnN0IHQ9clszXS5tdWwoMykscz1yWzJdLm11bCgyKSxpPXJbMV0uY2xvbmUoKSxvPWx0KGF0LDIpO2xldCBhPWduKHQscyxpLG5ldyBIKDAsMSksITEsbyk7YTwwJiYoYT0wKTtmb3IobGV0IHI9MDtyPGE7cisrKWd0KG9bcl0udmFsdWUoKSwwLDEpfHwoZVtuXT1vW3JdLG4rKyl9aWYobis9V28oaSxyLGUuc2xpY2UobikpLGVbbl0uc2V0KDEpLG4rKyxuPjIpe3R0KGUsMCxuLCgodCxlKT0+e2NvbnN0IHM9dC52YWx1ZSgpLG49ZS52YWx1ZSgpO3JldHVybiBzPG4/LTE6cz5uPzE6MH0pKTtsZXQgcz0wO2NvbnN0IGk9ZVswXS5jbG9uZSgpO2xldCByPTA7Y29uc3Qgbz1Cbyh0KSpkdCgpLGE9bmV3IFE7X28odCxlWzBdLnZhbHVlKCksYSk7Zm9yKGxldCBoPTE7aDxuO2grKyl7Y29uc3Qgbj1uZXcgUTtpZihfbyh0LGVbaF0udmFsdWUoKSxuKSxlW2hdLmVxKGkpfHxuLmlzRXF1YWxQb2ludDJEKGEsbykpe2lmKDAhPT1zKXtpZigwPT09ZVtoXS5lcHMoKSlpLnNldEUoZVtoXSkscj0wO2Vsc2UgaWYoMCE9PXIpe2NvbnN0IHQ9enQoMS9lW2hdLmVwcygpKSxzPTEvcixuPXQrcztpLnNldCgoZVtoXS52YWx1ZSgpKnQraS52YWx1ZSgpKnMpL24pLHI9MS9uLGkuc2V0RXJyb3IoTWF0aC5zcXJ0KHIpKX1lW3NdLnNldEUoaSksX28odCxpLnZhbHVlKCksYSl9fWVsc2UgcysrLGVbc10uc2V0RShlW2hdKSxpLnNldEUoZVtoXSksX28odCxpLnZhbHVlKCksYSkscj16dChlW2hdLmVwcygpKX1zKyssbj1zfXJldHVybiAxPT09biYmKG49MixlWzFdLnNldCgxKSkscygwPT09ZVswXS52YWx1ZSgpKSxzKDE9PT1lW24tMV0udmFsdWUoKSksbn1mdW5jdGlvbiBabyh0LGUscyxuLGkpe2NvbnN0IHI9bHQoYXQsNCksbz1sdChhdCwzKSxhPW5ldyBIKDAsMSk7bGV0IGg9MDtpZihlKXtpZihqcih0LHIsITEpLGg9ZG4oclszXSxyWzJdLHJbMV0sclswXS5zdWIocyksYSwhMSxvKSxuKWZvcihsZXQgdT0wO3U8aDt1Kyspe2NvbnN0IGU9bmV3IFE7UG8odCxvW3VdLnZhbHVlKCksZSksblt1XT1lLnh9fWVsc2UgaWYoV3IodCxyLCExKSxoPWRuKHJbM10sclsyXSxyWzFdLHJbMF0uc3ViKHMpLGEsITEsbyksbilmb3IobGV0IHU9MDt1PGg7dSsrKXtjb25zdCBlPW5ldyBRO1BvKHQsb1t1XS52YWx1ZSgpLGUpLG5bdV09ZS55fWlmKGkpZm9yKGxldCB1PTA7dTxoO3UrKylpW3VdPW9bdV0udmFsdWUoKTtlbHNlIG4mJnR0KG4sMCxoLEJ0KTtyZXR1cm4gaH1mdW5jdGlvbiBIbyh0LGUscyxuKXtjb25zdCBpPVVvKHQsZSxzLG4uZ2V0RW52ZWxvcGUyRCgpKTtpZihpLmlzRW1wdHkoKSlyZXR1cm4gbmV3IEgoaSk7Y29uc3Qgcj1sdChRLHMpO2ZvcihsZXQgYT0wO2E8czsrK2Epbi54eVJvdCh0W2FdLHJbYV0pO2NvbnN0IG89VW8ocixlLHMsbi5nZXRSb3RhdGVkRW52ZWxvcGUyRCgpKTtyZXR1cm4gaS5pbnRlcnNlY3QobmV3IEgobykpLG5ldyBIKGkpfWZ1bmN0aW9uIFVvKHQsZSxzLG4pe2NvbnN0IGk9bHQoUSxzKTtmb3IobGV0IGE9MDthPHM7KythKWlbYV09bmV3IFEoYS8ocy0xKSwwKTtjb25zdCByPSh0LGUscyxuKT0+e2NvbnN0IGk9LjEscj1uZXcgYXQoZS54KS5zdWJFKG5ldyBhdCh0LngpKS5kaXZFKG5ldyBhdChlLnkpLnN1YkUobmV3IGF0KHQueSkpKS5tdWxFKG5ldyBhdChzKS5zdWJFKG5ldyBhdCh0LnkpKSkuYWRkRShuZXcgYXQodC54KSk7aWYoci5lcHMoKT5pKXtjb25zdCBuPShlLngtdC54KS8oZS55LXQueSkqKHMtdC55KSt0Lng7ci5zZXQobixkdCgpKX1pZihyLmx0KG5ldyBhdCgwKSl8fHIuZ3QobmV3IGF0KDEpKSlyZXR1cm4hMTtsZXQgbz1yLnZhbHVlKCktci5lcHMoKTtvPV90KG8sMCwxKTtsZXQgYT1yLnZhbHVlKCkrci5lcHMoKTtyZXR1cm4gYT1fdChhLDAsMSksbi5tZXJnZUNvb3JkaW5hdGUobyksbi5tZXJnZUNvb3JkaW5hdGUoYSksITB9LG89W107e2NvbnN0IGU9KHQsZSk9PntvLmxlbmd0aD1zO2NvbnN0IG49eHIoaSxzLG8sITApLGE9bmV3IEg7YS5zZXRFbXB0eSgpO2NvbnN0IGg9cz0+cy55PHQ/LTE6cy55PmU/MTowO2xldCB1PWlbb1swXV0sbT1oKHUpOzA9PT1tJiZhLm1lcmdlQ29vcmRpbmF0ZSh1LngpO2ZvcihsZXQgcz0xO3M8PW47KytzKXtjb25zdCBsPWlbb1tzJW5dXSxjPWgobCk7MD09PWMmJmEubWVyZ2VDb29yZGluYXRlKGwueCk7bGV0IGc9MDtjIT09bSYmKGc9YyptPT09MD8xPT09Y3x8MT09PW0/MjoxOjMsMSZnJiZyKHUsbCx0LGEpLDImZyYmcih1LGwsZSxhKSksdT1sLG09Y31yZXR1cm4gYX07Zm9yKGxldCBuPTA7bjxzOysrbilpW25dLnk9dFtuXS54O2NvbnN0IGE9ZShuLnhtaW4sbi54bWF4KTtpZihhLmlzRW1wdHkoKSlyZXR1cm4gbmV3IEgoYSk7Zm9yKGxldCBuPTA7bjxzOysrbilpW25dLnk9dFtuXS55O2NvbnN0IGg9ZShuLnltaW4sbi55bWF4KTtyZXR1cm4gYS5pbnRlcnNlY3QobmV3IEgoaCkpLG5ldyBIKGEpfX1mdW5jdGlvbiBPbyh0LGUscyl7cy5zZXRFbXB0eSgpLHMubWVyZ2UoSG8odCxudWxsLDQsZSkpfWZ1bmN0aW9uIFFvKHQsZSxzKXtzLmxlbmd0aD0wO3tjb25zdCBlPW5ldyBhdDtpbyh0LGUpO2NvbnN0IG49bmV3IFllO2lmKHZvKHQsZSxuKSxuLmlzWmVybygpKXJldHVybiBlLmlzWmVybygpfHxlLmVxKG5ldyBhdCgxKSk/MDoocy5wdXNoKGUudmFsdWUoKSksMSl9Y29uc3Qgbj1sdChhdCw0KTtrcih0LG4sITApO2NvbnN0IGk9bHQoYXQsNCk7R3IodCxpLCEwKTtjb25zdCByPWx0KGF0LDYpLG89blszXS5uZWdhdGUoKS5tdWxFKGlbMV0pLmFkZEUoblsyXS5tdWxFKGlbMl0pLm11bCgyKSkuYWRkRShuWzFdLm11bEUoaVszXSkpLGE9blszXS5uZWdhdGUoKS5tdWxFKGlbMV0pLnN1YkUoblsyXS5tdWxFKGlbMl0pLm11bCgyKSkuYWRkRShuWzFdLm11bEUoaVszXSkpLGg9blsyXS5tdWxFKG5bMl0pLnN1YkUoaVsyXS5tdWxFKGlbMl0pKTtyWzBdPWlbMV0ubXVsRShpWzFdKS5tdWxFKG8pLmFkZEUoblsxXS5tdWxFKG5bMV0pLm11bEUoYSkpLmFkZEUoblsxXS5tdWxFKGlbMV0pLm11bEUoaCkubXVsKDIpKS5tdWwoNiksclsxXT1uWzJdLm11bEUoaVsxXSkuc3ViRShuWzFdLm11bEUoaVsyXSkpLm11bEUoblsyXS5tdWxFKG5bMl0pLmFkZEUoblsxXS5tdWxFKG5bM10pLm11bCgyKSkuYWRkRShpWzJdLm11bEUoaVsyXSkpLmFkZEUoaVsxXS5tdWxFKGlbM10pLm11bCgyKSkpLm11bCgyNCk7Y29uc3QgdT1uWzFdLm11bEUoaVsyXSkubXVsRShpWzJdKS5tdWxFKGlbM10pLG09blsyXS5tdWxFKG5bMl0pLm11bEUoblszXSkubXVsRShpWzFdKS5zdWJFKHUpLm11bCgxNTYpLGw9blszXS5tdWxFKGlbMV0pLnN1YkUoblsxXS5tdWxFKGlbM10pKSxjPW5bM10ubXVsRShpWzFdKS5zdWJFKG5bMV0ubXVsRShpWzNdKSksZz1uWzFdLm11bEUoblszXSkubXVsRShjKS5hZGRFKGlbMV0ubXVsRShpWzNdKS5tdWxFKGwpKS5tdWwoNzIpLGQ9aVsxXS5tdWxFKGlbM10pLnN1YkUoblsxXS5tdWxFKG5bM10pKSxfPW5bMl0ubXVsRShpWzJdKS5tdWxFKGQpLm11bCgxMjApLHA9blsxXS5tdWxFKG5bMl0pLm11bEUoblsyXSkubXVsRShpWzNdKSxmPW5bM10ubXVsRShpWzFdKS5tdWxFKGlbMl0pLm11bEUoaVsyXSkuc3ViRShwKS5tdWwoMzYpO3JbMl09bS5hZGRFKGcpLmFkZEUoXykuYWRkRShmKTtjb25zdCBQPW5bMl0ubXVsRShuWzNdKS5tdWxFKG5bM10pLm11bEUoaVsxXSkuc3ViRShuWzFdLm11bEUoaVsyXSkubXVsRShpWzNdKS5tdWxFKGlbM10pKS5tdWwoMzYwKSx5PW5bMl0ubXVsRShpWzJdKS5tdWxFKG5bMl0ubXVsRShuWzNdKS5zdWJFKGlbMl0ubXVsRShpWzNdKSkpLmFkZEUoblszXS5tdWxFKGlbMl0pLm11bEUoaVsyXSkubXVsRShpWzJdKSkuc3ViRShuWzJdLm11bEUoblsyXSkubXVsRShuWzJdKS5tdWxFKGlbM10pKS5tdWwoMjQpLHg9blsyXS5tdWxFKGlbMV0pLm11bEUoaVszXSkubXVsRShpWzNdKS5zdWJFKG5bMV0ubXVsRShuWzNdKS5tdWxFKG5bM10pLm11bEUoaVsyXSkpLm11bCg3MiksQz1uWzNdLm11bEUoaVszXSkubXVsRShpWzFdLm11bEUoaVsyXSkuc3ViRShuWzFdLm11bEUoblsyXSkpKS5tdWwoMjg4KTtyWzNdPVAuYWRkRSh5KS5hZGRFKHgpLmFkZEUoQykscls0XT1pWzNdLm11bEUoaVszXSkuYWRkRShuWzNdLm11bEUoblszXSkpLm11bEUoblszXS5tdWxFKGlbMV0pLnN1YkUoblsxXS5tdWxFKGlbM10pKSkubXVsKDI3MCkuYWRkRShuWzNdLm11bEUoaVsyXSkuc3ViRShuWzJdLm11bEUoaVszXSkpKS5tdWxFKG5bMl0ubXVsRShuWzNdKS5hZGRFKGlbMl0ubXVsRShpWzNdKSkpLm11bCgxODApLHJbNV09blszXS5tdWxFKGlbMl0pLnN1YkUoblsyXS5tdWxFKGlbM10pKS5tdWxFKG5bM10ubXVsRShuWzNdKS5hZGRFKGlbM10ubXVsRShpWzNdKSkpLm11bCgyMTYpO2NvbnN0IHY9bHQoYXQsNSksYj1fbihyLDUsbmV3IEgoMCwxKSwhMSx2LDUpO2lmKGI+MCl7bGV0IG49TWF0aC5hYnModC5nZXRDdXJ2YXR1cmUoMCkpLGk9MDtjb25zdCByPU1hdGguYWJzKHQuZ2V0Q3VydmF0dXJlKDEpKTsocj5ufHwhTnVtYmVyLmlzRmluaXRlKHIpKSYmKGk9MSk7Zm9yKGxldCBlPTA7ZTxiO2UrKyl7Y29uc3Qgcz1NYXRoLmFicyh0LmdldEN1cnZhdHVyZSh2W2VdLnZhbHVlKCkpKTt0LmdldENvb3JkMkQodltlXS52YWx1ZSgpKSwocz5ufHwhTnVtYmVyLmlzRmluaXRlKHMpKSYmKG49cyxpPXZbZV0udmFsdWUoKSl9aWYoKCFOdW1iZXIuaXNGaW5pdGUobil8fDEvbjxlKSYmIWd0KGksMCwxKSl7Y29uc3QgZT10LmdldENvb3JkMkQoaSk7aWYoIWUuZXF1YWxzKHQuZ2V0U3RhcnRYWSgpKSYmIWUuZXF1YWxzKHQuZ2V0RW5kWFkoKSkpcmV0dXJuIHMucHVzaChpKSwxfX1pZighdC5pc0Nsb3NlZCgpKXtjb25zdCBlPVswLDBdLG49R28odCxlLCExKTtmb3IobGV0IHQ9MDt0PG47dCsrKWVbdF0+MCYmZVt0XTwxJiZzLnB1c2goZVt0XSk7cmV0dXJuIHMubGVuZ3RofXJldHVybiAwfWNsYXNzIEpve2NvbnN0cnVjdG9yKHQsZSl7dGhpcy5iPXQsdGhpcy5sZW49ZX1nZXRNYXhEZXJpdmF0aXZlKCl7cmV0dXJuIDF9Z2V0VmFsdWUodCxlKXtyZXR1cm4gMD09PXQ/dGhpcy5sZW4tSHIodGhpcy5iLGUsITEpOjB9Z2V0RXJyb3IodCl7cmV0dXJuIDB9fWZ1bmN0aW9uIEtvKHQsZSxuLGkscixvLGEpe2Zvcig7Oyl7Y29uc3QgaD1RLmRpc3RhbmNlKGVbMF0sZVszXSksdT1RLmRpc3RhbmNlKGVbMF0sZVsxXSkrUS5kaXN0YW5jZShlWzFdLGVbMl0pK1EuZGlzdGFuY2UoZVsyXSxlWzNdKTtpZih1LWg8PWkrbip1KXJldHVybiB0K3J0KGgsdSwuNSk7Y29uc3QgbT10PT5hbyhlLDEsdCkubGVuZ3RoKCk7e3MoYTwxMik7bGV0IGg9bSgwKSxsPW0oMSk7clswXSs9MixoPmwmJihsPWV0KGgsaD1sKSxlWzNdPWV0KGVbMF0sZVswXT1lWzNdKSxlWzJdPWV0KGVbMV0sZVsxXT1lWzJdKSk7bGV0IGM9aC8oaCtsKSxnPTEsZD11O2Zvcig7YzwxLzMyJiZkPj0zMiooaStuKmQpOyl7Zy89NDtjb25zdCB0PW0oZyk7clswXSsrLGM9aC8odCtoKTtjb25zdCBzPW5ldyBRO2lmKFBvKGUsLjUqZyxzKSxkPVEuZGlzdGFuY2UocyxlWzBdKSxkPD1pKXtjb25zdCB0PW5ldyBRO1BvKGUsZyx0KSxkKz1RLmRpc3RhbmNlKHQscyl9fWlmKDEhPT1nKXtjb25zdCBzPWx0KFEsNCk7cG8oZSxnLGUscyksdD1Lbyh0LHMsbixpLHIsMCxhKzEpLG8rKyxhKys7Y29udGludWV9fWNvbnN0IGw9ODtyWzBdKz1sO2NvbnN0IGM9aHIobCxtLDAsMSksZz0xNjtyWzBdKz1nO2NvbnN0IGQ9aHIoZyxtLDAsMSk7bGV0IF89TWF0aC5hYnMoYy1kKT5pK24qdTtpZighXylyZXR1cm4gdCtkO2lmKG88Myl7Y29uc3Qgcz1sdChRLDQpO3BvKGUsLjUsZSxzKSx0PUtvKHQscyxuLGkscixvKzEsYSsxKSxvKyssYSsrO2NvbnRpbnVlfWNvbnN0IHA9MzI7clswXSs9cDtjb25zdCBmPWhyKHAsbSwwLDEpO2lmKF89TWF0aC5hYnMoZC1mKT5pK24qdSwhXylyZXR1cm4gdCtmO2NvbnN0IFA9NjQ7clswXSs9UDtjb25zdCB5PWhyKFAsbSwwLDEpO2lmKF89TWF0aC5hYnMoZi15KT5pK24qdSwhXylyZXR1cm4gdCt5O2NvbnN0IHg9MTI4O3JbMF0rPXg7Y29uc3QgQz1ocih4LG0sMCwxKTtyZXR1cm4gXz1NYXRoLmFicyh5LUMpPmkrbip1LHQrQ319ZnVuY3Rpb24gJG8odCxlLHMsbixpKXtpZihzPT09ZSlyZXR1cm4gMDtjb25zdCByPWx0KFEsNCk7dC5xdWVyeUNvbnRyb2xQb2ludHMocik7Y29uc3Qgbz1sdChRLDQpO2ZvKHIsZSxzLG8pO3JldHVybiBLbygwLG8sbixpLFswXSwwLDApfWZ1bmN0aW9uIHRhKHQsZSxzLG4saSl7bGV0IHI9ITA7Y29uc3Qgbz1Kbig1LGUscyxuLGksKGU9Pntjb25zdCBzPXVvKHQsMSxlKTtyZXR1cm4ocj90LmdldENvb3JkWChlKS10LmdldFN0YXJ0WCgpOnQuZ2V0Q29vcmRZKGUpLXQuZ2V0U3RhcnRZKCkpKnMubGVuZ3RoKCl9KSk7cj0hMTtjb25zdCBhPUpuKDUsZSxzLG4saSwoZT0+e2NvbnN0IHM9dW8odCwxLGUpO3JldHVybihyP3QuZ2V0Q29vcmRYKGUpLXQuZ2V0U3RhcnRYKCk6dC5nZXRDb29yZFkoZSktdC5nZXRTdGFydFkoKSkqcy5sZW5ndGgoKX0pKTtyZXR1cm4gbmV3IFEobyxhKX1mdW5jdGlvbiBlYSh0LGUscyxuLGkscixvLGEsaCl7Y29uc3QgdT1sdChRLDQpO3QucXVlcnlDb250cm9sUG9pbnRzKHUpO2NvbnN0IG09bHQoUSw0KTtpZihlLnF1ZXJ5Q29udHJvbFBvaW50cyhtKSx1WzBdLmVxdWFscyhtWzBdKSl7aWYodVsxXS5lcXVhbHMobVsxXSkmJnVbMl0uZXF1YWxzKG1bMl0pJiZ1WzNdLmVxdWFscyhtWzNdKSlyZXR1cm4gcyYmKHMubGVuZ3RoPTAscy5wdXNoKHVbMF0pLHMucHVzaCh1WzNdKSksbiYmKG4ubGVuZ3RoPTAsbi5wdXNoKDApLG4ucHVzaCgxKSksaSYmKGkubGVuZ3RoPTAsaS5wdXNoKDApLGkucHVzaCgxKSksITA7aWYoIXVbMF0uZXF1YWxzKG1bM10pKXJldHVybiExfXJldHVybiEhKHVbMF0uZXF1YWxzKG1bM10pJiZ1WzFdLmVxdWFscyhtWzJdKSYmdVsyXS5lcXVhbHMobVsxXSkmJnVbM10uZXF1YWxzKG1bMF0pKSYmKG4mJihuLmxlbmd0aD0wLG4ucHVzaCgwKSxuLnB1c2goMSksaCYmKG5bMV09ZXQoblswXSxuWzBdPW5bMV0pKSksaSYmKGkubGVuZ3RoPTAsaS5wdXNoKDEpLGkucHVzaCgwKSxoJiYoaVsxXT1ldChpWzBdLGlbMF09aVsxXSkpKSxzJiYocy5sZW5ndGg9MCxzLnB1c2godVswXSkscy5wdXNoKHVbM10pLGgmJihzWzFdPWV0KHNbMF0sc1swXT1zWzFdKSkpLCEwKX1mdW5jdGlvbiBzYSh0LGUsbixpLHIsbyxhLGgsdSxtLGwsYyl7cyhtKzI9PT1jKTtsZXQgZz0wLGQ9MCxfPTAscD0wLGY9MCxQPTAseT0wO2NvbnN0IHg9KHQsZSk9Pntjb25zdCBzPTEtZSxhPW4ubXVsKG9lKHMpKSxoPWkubXVsKDMqZSpzKnMpLHU9ci5tdWwoMyplKmUqcyksbT1vLm11bChvZShlKSk7cmV0dXJuIGEuYWRkKGgpLmFkZCh1KS5hZGQobSkuc3ViKGxbdF0pLnNxckxlbmd0aCgpfTtmb3IobGV0IHM9MSx2PWMtMTtzPHY7cysrKXtsZXQgZT11W3MtMV07aWYodCl7cz4yPyhlPV90KDIqdVtzLTJdLXVbcy0zXSwwLDEpLHVbcy0xXT1lKToyPT09cyYmKGU9X3QoMip1W3MtMl0sMCwxKSx1W3MtMV09ZSk7Y29uc3QgdD0odCxlLHMpPT57bGV0IGE9LTE7Zm9yKGxldCBoPTA7IShNYXRoLmFicyhlLWEpPDFlLTEyKSYmMTAhPT1oO2grKyl7Y29uc3QgaD1lKmUsdT0xLWUsbT11KnUsYz1tKnUsZz1uLngtMippLngrci54LGQ9bi54LTMqaS54KzMqci54LW8ueCxfPW4ueS0yKmkueStyLnkscD1uLnktMyppLnkrMypyLnktby55LGY9bi54LWkueC0yKmcqZStkKmgsUD0tbFt0XS54K24ueCpjK2UqKDMqaS54Km0rZSooMypyLngqdStvLngqZSkpLHk9bi55LWkueS0yKl8qZStwKmgseD0tbFt0XS55K24ueSpjK2UqKDMqaS55Km0rZSooMypyLnkqdStvLnkqZSkpLEM9LTYqKGYqUCt5KngpLHY9NiooMyp6dChmKS0oLTIqZysyKmQqZSkqUCkrNiooMyp6dCh5KS0oLTIqXysyKnAqZSkqeCk7aWYoYT1lLDA9PT12KWJyZWFrO2U9X3QoZS1DL3YscywxKX1yZXR1cm4gYX07e2NvbnN0IGU9eChzLHVbcy0xXSk7bGV0IG49dChzLHVbcy0xXSwwKSxpPXgocyxuKTtpZigxLjAxKmU8aSl7Y29uc3QgZT1zPjE/dVtzLTJdOjAscj10KHMsLjMqKHVbcy0xXS1lKStlLDApLG89eChzLHIpO288aSYmKGk9byxuPXIpfWU+aSYmKHVbcy0xXT1uKX19Y29uc3QgYT11W3MtMV0saD1hKmEsbT1oKmEsYz0xLWEsQz1jKmMsdj1DKmM7Zys9MypoKkMqQyxkKz0zKm0qdixfKz0zKmgqaCpDO2NvbnN0IGI9LSh2Km4ueCttKm8ueC1sW3NdLngpO3ArPWIqYSpDLGYrPWIqaCpjO2NvbnN0IFM9LSh2Km4ueSttKm8ueS1sW3NdLnkpO1ArPVMqYSpDLHkrPVMqaCpjfWlmKGUpe2NvbnN0IHQ9ZypfLWQqZDtNYXRoLmFicyh0KT49MWUtMTIqKE1hdGguYWJzKGcqXykrTWF0aC5hYnMoZCpkKSkrMWUtMTA/KGF8fChpLng9KHAqXy1mKmQpL3QsaS55PShQKl8teSpkKS90KSxofHwoci54PShnKmYtZCpwKS90LHIueT0oZyp5LWQqUCkvdCkpOih4dChuLG8sLjMsaSkseHQobixvLC42LHIpKX1sZXQgQz0wO2ZvcihsZXQgcz0xLHY9Yy0xO3M8djtzKyspQys9eChzLHVbcy0xXSk7cmV0dXJuIEN9dmFyIG5hPWI7Y2xhc3MgaWEgZXh0ZW5kcyBnc3tjb25zdHJ1Y3Rvcih0KXt0JiZ0LmNwPyhzdXBlcih7c3RhcnQ6dC5jcFswXSxlbmQ6dC5jcFszXSx2ZDp0LnZkfSksdGhpcy5tX2NwPWx0KFEsMiksdGhpcy5tX2NwWzBdLmFzc2lnbih0LmNwWzFdKSx0aGlzLm1fY3BbMV0uYXNzaWduKHQuY3BbMl0pKTp2b2lkIDA9PT10fHx2dCh0LFwidmRcIik/KHN1cGVyKHt2ZDp0Py52ZCxYU3RhcnQ6MCxZU3RhcnQ6MCxYRW5kOjAsWUVuZDowfSksdGhpcy5tX2NwPWx0KFEsMiksdGhpcy5tX2NwWzBdLnNldENvb3JkcygwLDApLHRoaXMubV9jcFsxXS5zZXRDb29yZHMoMCwwKSk6dC5mcm9tPyhzdXBlcih7c3RhcnQ6dC5mcm9tLGVuZDp0LnRvLHZkOnQudmR9KSx0aGlzLm1fY3A9bHQoUSwyKSx0aGlzLm1fY3BbMF0uYXNzaWduKHQuY3AxKSx0aGlzLm1fY3BbMV0uYXNzaWduKHQuY3AyKSk6KHN1cGVyKHtYU3RhcnQ6MCxZU3RhcnQ6MCxYRW5kOjAsWUVuZDowLHZkOnQudmR9KSxoKFwidW5yZWNvZ25pemVkIGNvbnN0cnVjdG9yIHBhcmFtc1wiKSx0aGlzLm1fY3A9bHQoUSwyKSx0aGlzLm1fY3BbMF0uc2V0Q29vcmRzKDAsMCksdGhpcy5tX2NwWzFdLnNldENvb3JkcygwLDApKSx0aGlzLm1fY2FjaGVkVmFsdWVzPTB9Z2V0Qm91bmRhcnkoKXtyZXR1cm4gS3ModGhpcyl9Y29uc3RydWN0KHQsZSxzLG4pe3RoaXMubV9YU3RhcnQ9dC54LHRoaXMubV9ZU3RhcnQ9dC55LHRoaXMubV9YRW5kPW4ueCx0aGlzLm1fWUVuZD1uLnksdGhpcy5tX2NwWzBdLmFzc2lnbihlKSx0aGlzLm1fY3BbMV0uYXNzaWduKHMpLHRoaXMuYWZ0ZXJDb21wbGV0ZWRNb2RpZmljYXRpb24oKX1jb25zdHJ1Y3RQb2ludHModCl7dGhpcy5tX1hTdGFydD10WzBdLngsdGhpcy5tX1lTdGFydD10WzBdLnksdGhpcy5tX1hFbmQ9dFszXS54LHRoaXMubV9ZRW5kPXRbM10ueSx0aGlzLm1fY3BbMF0uYXNzaWduKHRbMV0pLHRoaXMubV9jcFsxXS5hc3NpZ24odFsyXSksdGhpcy5hZnRlckNvbXBsZXRlZE1vZGlmaWNhdGlvbigpfWNvbnN0cnVjdEZyb21RdWFkcmF0aWModCl7Y29uc3QgZT1sdChRLDQpO0tpKHQsZSksdGhpcy5jb25zdHJ1Y3RQb2ludHMoZSl9Y29uc3RydWN0RnJvbVF1YWRyYXRpY1NlZ21lbnQodCl7dGhpcy5kcm9wQWxsQXR0cmlidXRlcygpLHRoaXMuYXNzaWduVmVydGV4RGVzY3JpcHRpb24odC5nZXREZXNjcmlwdGlvbigpKSx0aGlzLm1fWFN0YXJ0PXQuZ2V0U3RhcnRYKCksdGhpcy5tX1lTdGFydD10LmdldFN0YXJ0WSgpLHRoaXMubV9YRW5kPXQuZ2V0RW5kWCgpLHRoaXMubV9ZRW5kPXQuZ2V0RW5kWSgpLER0KDIsdC5nZXRTdGFydFhZKCksdC5nZXRDb250cm9sUG9pbnQxKCksMi8zLHRoaXMubV9jcFswXSksRHQoMix0LmdldENvbnRyb2xQb2ludDEoKSx0LmdldEVuZFhZKCksMS8zLHRoaXMubV9jcFsxXSksdGhpcy5hZnRlckNvbXBsZXRlZE1vZGlmaWNhdGlvbigpLHNzKHRoaXMsdCl9Z2V0R2VvbWV0cnlUeXBlKCl7cmV0dXJuIGkuZW51bUJlemllcn1xdWVyeUVudmVsb3BlKHQpe2lmKDIhPT10Lm1fRW52ZWxvcGVUeXBlKXJldHVybiB2b2lkIHMoMCk7aWYodC5zZXRDb29yZHModGhpcy5nZXRTdGFydFhZKCkpLHQubWVyZ2VOZSh0aGlzLmdldEVuZFhZKCkpLHQuY29udGFpbnModGhpcy5tX2NwWzBdKSYmdC5jb250YWlucyh0aGlzLm1fY3BbMV0pKXJldHVybjtjb25zdCBlPUpyKHRoaXMpO2lmKG51bGwhPT1lKXtjb25zdCBzPW5ldyBRO2Zvcihjb25zdCBuIG9mIGUuc3BlY2lhbFBvaW50cyl0aGlzLnF1ZXJ5Q29vcmQyRChuLHMpLHQubWVyZ2VOZShzKTtyZXR1cm59Y29uc3Qgbj1sdChhdCw4KSxpPWx0KFEsNCk7dGhpcy5xdWVyeUNvbnRyb2xQb2ludHMoaSk7Y29uc3Qgcj1qbyhpLG4pLG89bmV3IFE7Zm9yKGxldCBzPTE7czxyLTE7cysrKXRoaXMucXVlcnlDb29yZDJEKG5bc10udmFsdWUoKSxvKSx0Lm1lcmdlTmUobyl9YXBwbHlUcmFuc2Zvcm1hdGlvbih0KXtpZigxPT09dC5tX1RyYW5zZm9ybWF0aW9uVHlwZSl7Y29uc3QgZT1sdChRLDQpO3JldHVybiB0aGlzLnF1ZXJ5Q29udHJvbFBvaW50cyhlKSx0LnRyYW5zZm9ybVBvaW50czJEKGUsNCxlKSx0aGlzLnNldFN0YXJ0WFkoZVswXSksdGhpcy5tX2NwWzBdLmFzc2lnbihlWzFdKSx0aGlzLm1fY3BbMV0uYXNzaWduKGVbMl0pLHRoaXMuc2V0RW5kWFkoZVszXSksdm9pZCAkcih0aGlzKX1zKDApfWNyZWF0ZUluc3RhbmNlKCl7cmV0dXJuIG5ldyBpYSh7dmQ6dGhpcy5tX2Rlc2NyaXB0aW9ufSl9Y2FsY3VsYXRlTGVuZ3RoMkQoKXtyZXR1cm4gSHIodGhpcywxLCExKX1jYWxjdWxhdGVMb3dlckxlbmd0aDJEKCl7cmV0dXJuIFEuZGlzdGFuY2UodGhpcy5nZXRTdGFydFhZKCksdGhpcy5nZXRFbmRYWSgpKX1jYWxjdWxhdGVVcHBlckxlbmd0aDJEKCl7cmV0dXJuIFEuZGlzdGFuY2UodGhpcy5nZXRTdGFydFhZKCksdGhpcy5tX2NwWzBdKStRLmRpc3RhbmNlKHRoaXMubV9jcFswXSx0aGlzLm1fY3BbMV0pK1EuZGlzdGFuY2UodGhpcy5nZXRFbmRYWSgpLHRoaXMubV9jcFsxXSl9cXVlcnlDb29yZDJEKHQsZSl7cmV0dXJuIHRoaXMucXVlcnlDb29yZDJERXh0ZW5kcyh0LGUsITApfXF1ZXJ5Q29vcmQyRE1QKHQsZSl7cygwKX1xdWVyeUNvb3JkMkRFeHRlbmRzKHQsZSxzKXtjb25zdCBuPWx0KFEsNCk7dGhpcy5xdWVyeUNvbnRyb2xQb2ludHMobiksUG8obix0LGUscyl9cXVlcnlDb29yZDJERSh0LGUpe3hvKHRoaXMsdCxlKX1nZXRDb29yZFgodCl7aWYodDwwfHx0PjEpe2NvbnN0IGU9bmV3IFE7cmV0dXJuIHRoaXMucXVlcnlDb29yZDJERXh0ZW5kcyh0LGUsITApLGUueH1jb25zdCBlPXJ0KHRoaXMuZ2V0U3RhcnRYKCksdGhpcy5tX2NwWzBdLngsdCkscz1ydCh0aGlzLm1fY3BbMF0ueCx0aGlzLm1fY3BbMV0ueCx0KSxuPXJ0KHRoaXMubV9jcFsxXS54LHRoaXMuZ2V0RW5kWCgpLHQpLGk9cnQoZSxzLHQpLHI9cnQocyxuLHQpO3JldHVybiBydChpLHIsdCl9Z2V0Q29vcmRZKHQpe2lmKHQ8MHx8dD4xKXtjb25zdCBlPW5ldyBRO3JldHVybiB0aGlzLnF1ZXJ5Q29vcmQyREV4dGVuZHModCxlLCEwKSxlLnl9Y29uc3QgZT1ydCh0aGlzLmdldFN0YXJ0WSgpLHRoaXMubV9jcFswXS55LHQpLHM9cnQodGhpcy5tX2NwWzBdLnksdGhpcy5tX2NwWzFdLnksdCksbj1ydCh0aGlzLm1fY3BbMV0ueSx0aGlzLmdldEVuZFkoKSx0KSxpPXJ0KGUscyx0KSxyPXJ0KHMsbix0KTtyZXR1cm4gcnQoaSxyLHQpfWN1dCh0LGUscyl7Y29uc3Qgbj1uZXcgZm07cmV0dXJuIHRoaXMucXVlcnlDdXQodCxlLG4scyksbi5yZWxlYXNlU2VnbWVudCgpfXF1ZXJ5Q3V0KHQsZSxzLG4pe2NvbnN0IGk9cy5jcmVhdGVDdWJpY0JlemllcigpO2lmKHRoaXMuY3V0QmV6aWVySWdub3JlQXR0cmlidXRlcyh0LGUsaSksbilyZXR1cm47aS5hc3NpZ25WZXJ0ZXhEZXNjcmlwdGlvbih0aGlzLm1fZGVzY3JpcHRpb24pO2NvbnN0IHI9dGhpcy5tX2Rlc2NyaXB0aW9uLmdldEF0dHJpYnV0ZUNvdW50KCk7aWYocj4xKXtmb3IobGV0IGU9MTtlPHI7ZSsrKXtjb25zdCBzPXRoaXMubV9kZXNjcmlwdGlvbi5nZXRTZW1hbnRpY3MoZSksbj1uYS5nZXRDb21wb25lbnRDb3VudChzKTtmb3IobGV0IGU9MDtlPG47ZSsrKXtjb25zdCBuPXRoaXMuZ2V0QXR0cmlidXRlQXNEYmwodCxzLGUpO2kuc2V0U3RhcnRBdHRyaWJ1dGUocyxlLG4pfX1mb3IobGV0IHQ9MTt0PHI7dCsrKXtjb25zdCBzPXRoaXMubV9kZXNjcmlwdGlvbi5nZXRTZW1hbnRpY3ModCksbj1uYS5nZXRDb21wb25lbnRDb3VudChzKTtmb3IobGV0IHQ9MDt0PG47dCsrKXtjb25zdCBuPXRoaXMuZ2V0QXR0cmlidXRlQXNEYmwoZSxzLHQpO2kuc2V0RW5kQXR0cmlidXRlKHMsdCxuKX19fX1xdWVyeURlcml2YXRpdmUodCxlKXt2byh0aGlzLHQsZSl9Y3V0QmV6aWVySWdub3JlQXR0cmlidXRlcyh0LHMsbil7KHQ8MHx8cz4xfHx0PnMpJiZlKFwiQ3ViaWNfYmV6aWVyLmN1dF9iZXppZXJfaWdub3JlX2F0dHJpYnV0ZXNcIik7Y29uc3QgaT1sdChRLDQpO3RoaXMucXVlcnlDb250cm9sUG9pbnRzKGkpO2NvbnN0IHI9bHQoUSw0KTtmbyhpLHQscyxyKSxuLnNldENvbnRyb2xQb2ludHMocil9c3BsaXRCZXppZXJJZ25vcmVBdHRyaWJ1dGVzKHQscyxuKXt0aGlzPT09cyYmdGhpcz09PW4mJmUoXCJDdWJpY19iZXppZXIuc3BsaXRfYmV6aWVyX2lnbm9yZV9hdHRyaWJ1dGVzXCIpO2NvbnN0IGk9bHQoUSw0KTt0aGlzLnF1ZXJ5Q29udHJvbFBvaW50cyhpKTtjb25zdCByPWx0KFEsNCksbz1sdChRLDQpO3BvKGksdCxyLG8pLHMmJnMuc2V0Q29udHJvbFBvaW50cyhyKSxuJiZuLnNldENvbnRyb2xQb2ludHMobyl9Z2V0QXR0cmlidXRlQXNEYmwodCxlLHMpe2lmKDA9PT1lKXJldHVybiAwPT09cz90aGlzLmdldENvb3JkWCh0KTp0aGlzLmdldENvb3JkWSh0KTtpZigwPT09dClyZXR1cm4gdGhpcy5nZXRTdGFydEF0dHJpYnV0ZUFzRGJsKGUscyk7aWYoMT09PXQpcmV0dXJuIHRoaXMuZ2V0RW5kQXR0cmlidXRlQXNEYmwoZSxzKTtjb25zdCBuPXRoaXMuZ2V0U3RhcnRBdHRyaWJ1dGVBc0RibChlLHMpLGk9dGhpcy5nZXRFbmRBdHRyaWJ1dGVBc0RibChlLHMpLHI9dGhpcy5jYWxjdWxhdGVMZW5ndGgyRCgpLG89cj4wP3RoaXMudFRvTGVuZ3RoKHQpL3I6MCxhPW5hLmdldEludGVycG9sYXRpb24oZSk7cmV0dXJuIEN0KGEsbixpLG8sbmEuZ2V0RGVmYXVsdFZhbHVlKGUpKX1nZXRDbG9zZXN0Q29vcmRpbmF0ZSh0LGUpe2NvbnN0IHM9W051bWJlci5OYU5dO3JldHVybiBSbyh0aGlzLHQsSC51bml0KCksZSwtMSwxLHMpLHNbMF19Z2V0Q2xvc2VzdENvb3JkaW5hdGVPbkludGVydmFsKHQsZSxzPS0xKXtjb25zdCBuPVtOdW1iZXIuTmFOXTtyZXR1cm4gMD09PVJvKHRoaXMsdCxlLCExLHMsMSxuKT9OdW1iZXIuTmFOOm5bMF19Z2V0WU1vbm90b25pY1BhcnRzKHQsZT0hMSl7cmV0dXJuIHRoaXMuZ2V0TW9ub3RvbmljUGFydHModCxlKX1nZXRNb25vdG9uaWNQYXJ0cyh0LG4pe3QubGVuZ3RoPDImJmUoXCJcIik7Y29uc3QgaT1Rcih0aGlzKTtpZigyPT09aS5zcGVjaWFsUG9pbnRzQ291bnQoKSYmdGhpcy5pc01vbm90b25lUXVpY2tBbmREaXJ0eSgpKXJldHVybiAwO2xldCByPTA7cyh0Lmxlbmd0aD49aS5zcGVjaWFsUG9pbnRzQ291bnQoKS0xKTtmb3IobGV0IGU9MSxzPWkuc3BlY2lhbFBvaW50c0NvdW50KCk7ZTxzOysrZSl0aGlzLnF1ZXJ5Q3V0KGkuc3BlY2lhbFBvaW50c1tlLTFdLGkuc3BlY2lhbFBvaW50c1tlXSx0W3JdLG4pLHIrKztmb3IobGV0IGU9MDtlPHI7KytlKXtsbyh0W2VdLmdldCgpKX1yZXR1cm4gcn1pbnRlcnNlY3Rpb25XaXRoQXhpczJEKHQsZSxzLG4pe2NvbnN0IGk9bHQoUSw0KTtyZXR1cm4gdGhpcy5xdWVyeUNvbnRyb2xQb2ludHMoaSksWm8oaSx0LGUscyxuKX1pbnRlcnNlY3Rpb25PZllNb25vdG9uaWNXaXRoQXhpc1godCxlKXtpZih0aGlzLm1fWVN0YXJ0PT09dGhpcy5tX1lFbmQpcmV0dXJuIHQ9PT10aGlzLm1fWVN0YXJ0P2U6TnVtYmVyLk5hTjtpZih0PT09dGhpcy5tX1lTdGFydClyZXR1cm4gdGhpcy5tX1hTdGFydDtpZih0PT09dGhpcy5tX1lFbmQpcmV0dXJuIHRoaXMubV9YRW5kO2NvbnN0IG49WzAsMF0saT10aGlzLmludGVyc2VjdGlvbldpdGhBeGlzMkQoITAsdCxuLG51bGwpO3JldHVybiBzKDIhPT1pKSwtMT09PWk/ZTpuWzBdfWlzQ3VydmUoKXtyZXR1cm4hMH1pc0RlZ2VuZXJhdGUodCl7cmV0dXJuIFJlKHRoaXMsdCl9aXNEZWdlbmVyYXRlM0QodCxlKXtyZXR1cm4gcygwKSwhMX1xdWVyeUxvb3NlRW52ZWxvcGUodCl7aWYoMj09PXQubV9FbnZlbG9wZVR5cGUpcmV0dXJuIHQuc2V0Q29vcmRzKHtwdDp0aGlzLmdldFN0YXJ0WFkoKX0pLHQubWVyZ2VOZSh0aGlzLm1fY3BbMF0pLHQubWVyZ2VOZSh0aGlzLm1fY3BbMV0pLHZvaWQgdC5tZXJnZU5lKHRoaXMuZ2V0RW5kWFkoKSk7cygwKX1jbG9uZSh0KXtjb25zdCBlPXRoaXMuY3JlYXRlSW5zdGFuY2UoKTtyZXR1cm4gdGhpcy5jb3B5VG8oZSksZX1xdWVyeUludGVydmFsKHQsZSl7aWYoMD09PXQpe2NvbnN0IHQ9bWUuY29uc3RydWN0RW1wdHkoKTt0aGlzLnF1ZXJ5RW52ZWxvcGUodCk7Y29uc3Qgcz1ILmNvbnN0cnVjdEVtcHR5KCk7cmV0dXJuIDA9PT1lP3QucXVlcnlJbnRlcnZhbFgocyk6dC5xdWVyeUludGVydmFsWShzKSxzfXJldHVybiBzdXBlci5xdWVyeUludGVydmFsKHQsZSl9cXVlcnlMb29zZUVudmVsb3BlT25JbnRlcnZhbCh0LGUpe2NvbnN0IHM9bHQoUSw0KTt0aGlzLnF1ZXJ5Q29udHJvbFBvaW50cyhzKSxmbyhzLHQudm1pbix0LnZtYXgscyksZS5zZXRGcm9tUG9pbnRzKHMsNCl9Y2hhbmdlRW5kUG9pbnRzMkQodCxlKXtpZih0LmlzRXF1YWwodGhpcy5tX1hTdGFydCx0aGlzLm1fWVN0YXJ0KSYmZS5pc0VxdWFsKHRoaXMubV9YRW5kLHRoaXMubV9ZRW5kKSlyZXR1cm47Y29uc3Qgcz10aGlzLm1fY3BbMF0uaXNFcXVhbCh0aGlzLm1fWFN0YXJ0LHRoaXMubV9ZU3RhcnQpLG49dGhpcy5tX2NwWzBdLmlzRXF1YWwodGhpcy5tX1hFbmQsdGhpcy5tX1lFbmQpLGk9dGhpcy5tX2NwWzFdLmlzRXF1YWwodGhpcy5tX1hTdGFydCx0aGlzLm1fWVN0YXJ0KSxyPXRoaXMubV9jcFsxXS5pc0VxdWFsKHRoaXMubV9YRW5kLHRoaXMubV9ZRW5kKTt0aGlzLnNldFN0YXJ0WFkodCksdGhpcy5zZXRFbmRYWShlKSxzP3RoaXMubV9jcFswXS5zZXRDb29yZHNQb2ludDJEKHQpOm4mJnRoaXMubV9jcFswXS5zZXRDb29yZHNQb2ludDJEKGUpLHI/dGhpcy5tX2NwWzFdLnNldENvb3Jkc1BvaW50MkQoZSk6aSYmdGhpcy5tX2NwWzFdLnNldENvb3Jkc1BvaW50MkQodCksdGhpcy5ub3JtYWxpemVBZnRlckVuZHBvaW50Q2hhbmdlKCl9dFRvTGVuZ3RoKHQpe3JldHVybiBIcih0aGlzLHQsITApfWxlbmd0aFRvVCh0KXtyZXR1cm4gVXIodGhpcyx0KX1jYWxjdWxhdGVXZWlnaHRlZEFyZWFDZW50cm9pZDJEKHQpe2NvbnN0IGU9bHQoUSw0KTtCcih0aGlzLGUpO2NvbnN0IHM9ZVszXSxuPWVbMl0saT1lWzFdLHI9bmV3IFE7ci54PSg1KnMueCpzLngqKDcqbi55KzE2KmkueSkrcy54KigtMzUqcy55Km4ueCs0MCpuLngqbi55LTgwKnMueSppLngrMTQwKm4ueCppLnkrMTEyKmkueCppLnkpLTIqKHMueSooMjAqbi54Km4ueCs3MCpuLngqaS54KzU2KmkueCppLngpLTcqKDQqbi54KzUqaS54KSooLW4ueSppLngrbi54KmkueSkpKS84NDAsci55PSgtNSpzLnkqcy55Kig3Km4ueCsxNippLngpK3MueSooNSpzLngqKDcqbi55KzE2KmkueSktNCooMTAqbi54Km4ueSszNSpuLnkqaS54KzI4KmkueCppLnkpKSsyKigtNyooNCpuLnkrNSppLnkpKihuLnkqaS54LW4ueCppLnkpK3MueCooMjAqbi55Km4ueSs3MCpuLnkqaS55KzU2KmkueSppLnkpKSkvODQwO2NvbnN0IG89bW8odGhpcyk7cmV0dXJuIHIueCs9KGVbMF0ueC10LngpKm8sci55Kz0oZVswXS55LXQueSkqbyxyfWNhbGN1bGF0ZVdlaWdodGVkQ2VudHJvaWQyRCgpe2NvbnN0IHQ9bmV3IFE7cmV0dXJuIHRoaXMuaXNEZWdlbmVyYXRlKDApPyh0LnNldENvb3JkcygwLDApLHQpOnpyKHRoaXMpPyh0LmFzc2lnbih0aGlzLmdldENvb3JkMkQoLjUpLm11bCh0aGlzLmNhbGN1bGF0ZUxlbmd0aDJEKCkpKSx0KToodC5hc3NpZ24oT3IodGhpcywxKSksdCl9Z2V0Q29udHJvbFBvaW50MSgpe3JldHVybiB0aGlzLm1fY3BbMF0uY2xvbmUoKX1zZXRDb250cm9sUG9pbnQxKHQpe3RoaXMubV9jcFswXS5zZXRDb29yZHNQb2ludDJEKHQpLHRoaXMuYWZ0ZXJDb21wbGV0ZWRNb2RpZmljYXRpb24oKX1nZXRDb250cm9sUG9pbnQyKCl7cmV0dXJuIHRoaXMubV9jcFsxXS5jbG9uZSgpfXNldENvbnRyb2xQb2ludDIodCl7dGhpcy5tX2NwWzFdLnNldENvb3Jkc1BvaW50MkQodCksdGhpcy5hZnRlckNvbXBsZXRlZE1vZGlmaWNhdGlvbigpfXF1ZXJ5Q29udHJvbFBvaW50cyh0KXt0WzBdLmFzc2lnbih0aGlzLmdldFN0YXJ0WFkoKSksdFsxXS5hc3NpZ24odGhpcy5tX2NwWzBdKSx0WzJdLmFzc2lnbih0aGlzLm1fY3BbMV0pLHRbM10uYXNzaWduKHRoaXMuZ2V0RW5kWFkoKSl9cXVlcnlDb250cm9sUG9pbnRzSGVscGVyKHQpe3JldHVybiB0aGlzLnF1ZXJ5Q29udHJvbFBvaW50cyh0KSw0fXNldENvbnRyb2xQb2ludHModCl7Zm9yKGxldCBzPTA7czw0O3MrKyl0W3NdLmlzTkFOKCkmJmUoXCJOQU4gY29udHJvbCBwb2ludHMgaW4gYmV6aWVyIGFyZSBub3Qgc3VwcG9ydGVkXCIpO3RoaXMubV9YU3RhcnQ9dFswXS54LHRoaXMubV9ZU3RhcnQ9dFswXS55LHRoaXMubV9jcFswXS5zZXRDb29yZHNQb2ludDJEKHRbMV0pLHRoaXMubV9jcFsxXS5zZXRDb29yZHNQb2ludDJEKHRbMl0pLHRoaXMubV9YRW5kPXRbM10ueCx0aGlzLm1fWUVuZD10WzNdLnksdGhpcy5hZnRlckNvbXBsZXRlZE1vZGlmaWNhdGlvbigpfWdldFRhbmdlbnQodCl7Y29uc3QgZT1sdChRLDQpO3JldHVybiB0aGlzLnF1ZXJ5Q29udHJvbFBvaW50cyhlKSxDbyhlLHQpfWdldERlcml2YXRpdmUodCl7Y29uc3QgZT1sdChRLDQpO3JldHVybiB0aGlzLnF1ZXJ5Q29udHJvbFBvaW50cyhlKSxhbyhlLDEsdCl9Z2V0Q3VydmF0dXJlKHQpe2NvbnN0IGU9dW8odGhpcywxLHQpLHM9dW8odGhpcywyLHQpLG49ZS5zcXJMZW5ndGgoKTtpZigwPT09bilyZXR1cm4gTnVtYmVyLk5hTjtlLmRpdlRoaXMoTWF0aC5zcXJ0KG4pKTtyZXR1cm4gZS5jcm9zc1Byb2R1Y3Qocykvbn1pc0ludGVyc2VjdGluZ1BvaW50KHQsZSxzKXtpZihzJiYodC5lcXVhbHModGhpcy5nZXRTdGFydFhZKCkpfHx0LmVxdWFscyh0aGlzLmdldEVuZFhZKCkpKSlyZXR1cm4hMTtjb25zdCBuPW5ldyBtZTtpZih0aGlzLnF1ZXJ5TG9vc2VFbnZlbG9wZShuKSxuLmluZmxhdGVDb29yZHMoZSxlKSwhbi5jb250YWlucyh0KSlyZXR1cm4hMTtjb25zdCBpPXRoaXMuZ2V0Q2xvc2VzdENvb3JkaW5hdGUodCwhMSkscj1uZXcgUTt0aGlzLnF1ZXJ5Q29vcmQyRChpLHIpO3JldHVybiBRLmRpc3RhbmNlKHIsdCk8PWV9aXNJbnRlcnNlY3RpbmdQb2ludDNEKHQsZSxuLGkscj0xKXtyZXR1cm4gcygwKSwhMX1pc01vbm90b25lUXVpY2tBbmREaXJ0eSgpe2NvbnN0IHQ9bHQoUSw0KTtyZXR1cm4gdGhpcy5xdWVyeUNvbnRyb2xQb2ludHModCksZ28odCl9Z2V0TW9ub3RvbmljUGFydFBhcmFtcyh0LG4pe2NvbnN0IGk9UXIodGhpcykscj1pLnNwZWNpYWxQb2ludHNDb3VudCgpO2lmKHModXMuc19tYXhNb25vdG9uaWNQYXJ0UGFyYW1zPj1yKSwhbilyZXR1cm4gaS5zcGVjaWFsUG9pbnRzQ291bnQoKTt0PHImJmUoXCJcIik7Zm9yKGxldCBlPTA7ZTxyO2UrKyluW2VdPWkuc3BlY2lhbFBvaW50c1tlXTtyZXR1cm4gcn1ub3JtYWxpemVBZnRlckVuZHBvaW50Q2hhbmdlKCl7cmV0dXJuITF9b3JpZW50Qm90dG9tVXAoKXtpZih0aGlzLm1fWUVuZDx0aGlzLm1fWVN0YXJ0fHx0aGlzLm1fWUVuZD09PXRoaXMubV9ZU3RhcnQmJnRoaXMubV9YRW5kPHRoaXMubV9YU3RhcnQpe3RoaXMubV9YRW5kPWV0KHRoaXMubV9YU3RhcnQsdGhpcy5tX1hTdGFydD10aGlzLm1fWEVuZCksdGhpcy5tX1lFbmQ9ZXQodGhpcy5tX1lTdGFydCx0aGlzLm1fWVN0YXJ0PXRoaXMubV9ZRW5kKTtmb3IobGV0IHQ9MCxlPXRoaXMubV9kZXNjcmlwdGlvbi5nZXRUb3RhbENvbXBvbmVudENvdW50KCktMjt0PGU7dCsrKXRoaXMubV9hdHRyaWJ1dGVzW3QrZV09ZXQodGhpcy5tX2F0dHJpYnV0ZXNbdF0sdGhpcy5tX2F0dHJpYnV0ZXNbdF09dGhpcy5tX2F0dHJpYnV0ZXNbdCtlXSk7dGhpcy5tX2NwWzFdPWV0KHRoaXMubV9jcFswXSx0aGlzLm1fY3BbMF09dGhpcy5tX2NwWzFdKSx0aGlzLm1fY2FjaGVkVmFsdWVzPW51bGx9fWZpbmRNaW5EZXJpdigpe2NvbnN0IHQ9bmV3IGF0O3JldHVybiBpbyh0aGlzLHQpLHQudmFsdWUoKX1pc0xpbmUoKXtyZXR1cm4hMX1pc0RlZ2VuZXJhdGVUb0xpbmVIZWxwZXIodCl7Y29uc3QgZT1sdChRLDQpO3RoaXMucXVlcnlDb250cm9sUG9pbnRzKGUpO2NvbnN0IHM9ZVszXS5zdWIoZVswXSksbj1zLmxlbmd0aCgpO2lmKFEuZGlzdGFuY2UoZVswXSxlWzFdKStRLmRpc3RhbmNlKGVbMl0sZVsxXSkrUS5kaXN0YW5jZShlWzJdLGVbM10pLW4+dClyZXR1cm4hMTtjb25zdCBpPXQ7bGV0IHI9ZVsxXS5jbG9uZSgpO3Iuc3ViVGhpcyhlWzBdKTtsZXQgbz1NYXRoLmFicyhyLmNyb3NzUHJvZHVjdChzKSkvbjtyZXR1cm4hKG8+aSkmJihyPWVbMl0uY2xvbmUoKSxyLnN1YlRoaXMoZVsxXSksbz1NYXRoLmFicyhyLmNyb3NzUHJvZHVjdChzKSkvbiwhKG8+aSkpfWNvcHlJZ25vcmVBdHRyaWJ1dGVzKHQpe2NvbnN0IGU9bHQoUSw0KTt0aGlzLnF1ZXJ5Q29udHJvbFBvaW50cyhlKSx0LnNldENvbnRyb2xQb2ludHMoZSl9Y2FsY3VsYXRlQXJlYTJESGVscGVyKCl7cmV0dXJuIG1vKHRoaXMpfWFic05vcm0oKXtyZXR1cm4gem8odGhpcyl9cXVlcnlFbnZlbG9wZVcodCxlKXtxbyh0aGlzLHQsZSl9c2V0U2VnbWVudEZyb21Db29yZHNGb3JTdGl0Y2hlcih0LGUpe2tvKHRoaXMsdCxlKX13cml0ZUluQnVmZmVyU3RyZWFtKHQsZSl7Y29uc3Qgcz1uZXcgRmxvYXQ2NEFycmF5KDQpO3JldHVybiB0aGlzLndyaXRlSW5CdWZmZXJfKHMpLHQud3JpdGVSYW5nZUZyb21BcnJheShlLHMubGVuZ3RoLHMsITAsMSksZStzLmxlbmd0aH13cml0ZUluQnVmZmVyXyh0KXtyZXR1cm4gdFswXT10aGlzLm1fY3BbMF0ueCx0WzFdPXRoaXMubV9jcFswXS55LHRbMl09dGhpcy5tX2NwWzFdLngsdFszXT10aGlzLm1fY3BbMV0ueSw0fXJlYWRGcm9tQnVmZmVyU3RyZWFtKHQsZSl7Y29uc3Qgcz1uZXcgRmxvYXQ2NEFycmF5KDQpO3QucXVlcnlSYW5nZShlLHMubGVuZ3RoLHMsITAsMSksdGhpcy5yZWFkRnJvbUJ1ZmZlcl8ocyl9cmVhZEZyb21CdWZmZXJfKHQpe3RoaXMubV9jcD1sdChRLDIpLHRoaXMubV9jcFswXS54PXRbMF0sdGhpcy5tX2NwWzBdLnk9dFsxXSx0aGlzLm1fY3BbMV0ueD10WzJdLHRoaXMubV9jcFsxXS55PXRbM10sdGhpcy5tX2NhY2hlZFZhbHVlcz1udWxsfXNuYXBDb250cm9sUG9pbnRzKHQpe2NvbnN0IGU9bHQoUSw0KTt0aGlzLnF1ZXJ5Q29udHJvbFBvaW50cyhlKTtjb25zdCBzPShlLHMsbik9PntsZXQgaT0hMTtpZihRLnNxckRpc3RhbmNlKGUsbik8PXQpe2k9IWUuZXF1YWxzKG4pLGUuc2V0Q29vcmRzUG9pbnQyRChuKTtRLnNxckRpc3RhbmNlKHMsbik8PXQmJihpfHw9IXMuZXF1YWxzKG4pLHMuc2V0Q29vcmRzUG9pbnQyRChuKSl9cmV0dXJuIGl9LG49cyhlWzFdLGVbMl0sZVswXSksaT1zKGVbMl0sZVsxXSxlWzNdKTtyZXR1cm4obnx8aSkmJnRoaXMuc2V0Q29udHJvbFBvaW50cyhlKSxufHxpfW5lZWRzU25hcENvbnRyb2xQb2ludHModCl7aWYoIXQpcmV0dXJuITE7Y29uc3QgZT1sdChRLDQpO3RoaXMucXVlcnlDb250cm9sUG9pbnRzKGUpO2NvbnN0IHM9KGUscyxuKT0+e2xldCBpPSExO2lmKFEuc3FyRGlzdGFuY2UoZSxuKTw9dCl7aT0hZS5lcXVhbHMobiksZS5zZXRDb29yZHNQb2ludDJEKG4pO1Euc3FyRGlzdGFuY2UocyxuKTw9dCYmKGl8fD0hcy5lcXVhbHMobikscy5zZXRDb29yZHNQb2ludDJEKG4pKX1yZXR1cm4gaX0sbj1zKGVbMV0sZVsyXSxlWzBdKSxpPXMoZVsyXSxlWzFdLGVbM10pO3JldHVybiBufHxpfWNhbGN1bGF0ZVNwZWNpYWxQb2ludHNGb3JDcmFja2luZyh0LGUpe3JldHVybiBRbyh0aGlzLHQsZSl9ZW5zdXJlWFlNb25vdG9uZSgpe3JldHVybiBsbyh0aGlzKX1zZXRDb29yZHNGb3JJbnRlcnNlY3Rvcih0LGUscyl7ZW8odGhpcyx0LGUscyl9Y29weVRvSW1wbCh0KXtjb25zdCBlPXQ7ZS5tX2NwWzBdLmFzc2lnbih0aGlzLm1fY3BbMF0pLGUubV9jcFsxXS5hc3NpZ24odGhpcy5tX2NwWzFdKSxLcihlLEpyKHRoaXMpKX1yZXZlcnNlSW1wbCgpe3RoaXMubV9jcFsxXT1ldCh0aGlzLm1fY3BbMF0sdGhpcy5tX2NwWzBdPXRoaXMubV9jcFsxXSl9ZXF1YWxzSW1wbCh0KXtjb25zdCBlPXQscz0wLG49MTtyZXR1cm4hIXRoaXMubV9jcFswXS5lcXVhbHMoZS5tX2NwW3NdKSYmISF0aGlzLm1fY3BbMV0uZXF1YWxzKGUubV9jcFtuXSl9ZXF1YWxzSW1wbFRvbCh0LGUpe2NvbnN0IHM9dCxuPTAsaT0xO3JldHVybiEhdGhpcy5tX2NwWzBdLmlzRXF1YWxQb2ludDJEKHMubV9jcFtuXSxlKSYmISF0aGlzLm1fY3BbMV0uaXNFcXVhbFBvaW50MkQocy5tX2NwW2ldLGUpfXN3YXBJbXBsKHQpe2NvbnN0IGU9dDtlLm1fY3BbMF09ZXQodGhpcy5tX2NwWzBdLHRoaXMubV9jcFswXT1lLm1fY3BbMF0pLGUubV9jcFsxXT1ldCh0aGlzLm1fY3BbMV0sdGhpcy5tX2NwWzFdPWUubV9jcFsxXSksdG8odGhpcyxlKX1hZnRlckNvbXBsZXRlZE1vZGlmaWNhdGlvbigpeyRyKHRoaXMpfWlzSW50ZXJzZWN0aW5nKHQsZSxzKXtyZXR1cm4gMCE9PXJtKCExLHRoaXMsdCxlLHMpfWludGVyc2VjdCh0LGUscyxuLGkpe3JldHVybiB1bSghMSx0aGlzLHQsZSxzLG4saSl9aW50ZXJzZWN0UG9pbnQodCxlLHMpe3JldHVybiBYbyh0aGlzLHQsZSxzKX1lbmRQb2ludE1vZGlmaWVkKCl7JHIodGhpcyl9Y2xlYXJFbmRQb2ludE1vZGlmaWVkKCl7fX1pYS50eXBlPWkuZW51bUJlemllcjtjbGFzcyByYXtjb25zdHJ1Y3Rvcigpe3RoaXMubGVuZ3RoPU51bWJlci5OYU4sdGhpcy5hcmVhPU51bWJlci5OYU4sdGhpcy5jZW50cm9pZFg9TnVtYmVyLk5hTix0aGlzLmNlbnRyb2lkWT0wLHRoaXMuc3BlY2lhbFBvaW50cz1bXSx0aGlzLnNwZWNpYWxQb2ludHNMZW5ndGg9W119c3BlY2lhbFBvaW50c0NvdW50KCl7cmV0dXJuIHRoaXMuc3BlY2lhbFBvaW50cy5sZW5ndGh9fWZ1bmN0aW9uIG9hKHQsZSxuLGkscixvLGEsaCl7Zm9yKDs7KXtjb25zdCB1PVEuZGlzdGFuY2UoZVswXSxlWzJdKSxtPVEuZGlzdGFuY2UoZVswXSxlWzFdKStRLmRpc3RhbmNlKGVbMV0sZVsyXSk7aWYobS11PD1yK2kqbSlyZXR1cm4gdCtydCh1LG0sLjUpO2NvbnN0IGw9bHQoUSw0KSxjPXQ9PntmYShlLG4sMSx0LGwpO3JldHVybiBsWzFdLmxlbmd0aCgpfTtpZigwPT09YSYmaDw4KXtzKGg8OCk7bGV0IHU9YygwKSxsPWMoMSk7b1swXSs9Mix1PmwmJihsPWV0KHUsdT1sKSxlWzJdPWV0KGVbMF0sZVswXT1lWzJdKSxuWzJdPWV0KG5bMF0sblswXT1uWzJdKSk7bGV0IGc9dS8odStsKSxkPTEsXz1tO2Zvcig7ZzwxLzMyJiZfPj1yK2kqXzspe2QvPTQ7Y29uc3QgdD1jKGQpO29bMF0rKyxnPXUvKHQrdSk7Y29uc3Qgcz1uZXcgUTtpZihfaChlLG4sLjUqZCxzKSxfPVEuZGlzdGFuY2UocyxlWzBdKSxfPD1yKXtjb25zdCB0PW5ldyBRO19oKGUsbixkLHQpLF8rPVEuZGlzdGFuY2UodCxzKX19aWYoMSE9PWQpe2NvbnN0IHM9bHQoUSwzKSx1PVswLDAsMF07T2EoZSxuLGQsZSxuLHMsdSksdD1vYSh0LHMsdSxpLHIsbywwLGgrMSksYSsrLGgrKztjb250aW51ZX19bGV0IGc9ITE7Y29uc3QgZD04O29bMF0rPWQ7Y29uc3QgXz1ocihkLGMsMCwxKSxwPTE2O29bMF0rPXA7Y29uc3QgZj1ocihwLGMsMCwxKTtpZihnPU1hdGguYWJzKF8tZik+citpKm0sIWcpcmV0dXJuIHQrZjtpZihhPDgmJmg8OSl7Y29uc3Qgcz1sdChRLDMpLHU9WzAsMCwwXTtPYShlLG4sLjUsZSxuLHMsdSksdD1vYSh0LHMsdSxpLHIsbyxhKzEsaCsxKSxhKyssaCsrO2NvbnRpbnVlfWNvbnN0IFA9MzI7b1swXSs9UDtjb25zdCB5PWhyKFAsYywwLDEpO2lmKGc9TWF0aC5hYnMoZi15KT5yK2kqbSwhZylyZXR1cm4gdCt5O2NvbnN0IHg9NjQ7b1swXSs9eDtjb25zdCBDPWhyKHgsYywwLDEpO2lmKGc9TWF0aC5hYnMoeS1DKT5yK2kqbSwhZylyZXR1cm4gdCtDO2NvbnN0IHY9MTI4O29bMF0rPXY7Y29uc3QgYj1ocih2LGMsMCwxKTtyZXR1cm4gZz1NYXRoLmFicyhDLWIpPnIraSptLHQrYn19ZnVuY3Rpb24gYWEodCxlLHMsbixpKXtpZihzPT09ZSlyZXR1cm4gMDtjb25zdCByPWx0KFEsMyksbz1bMCwwLDBdO3QucXVlcnlDb250cm9sUG9pbnRzKHIpLHQucXVlcnlXZWlnaHRzKG8pO2NvbnN0IGE9WzAsMCwwXSxoPWx0KFEsMyk7UWEocixvLGUscyxoLGEpO3JldHVybiBvYSgwLGgsYSxuLGksWzBdLDAsMCl9Y2xhc3MgaGF7Y29uc3RydWN0b3IodCxlLHMpe3RoaXMuY29udHJvbFBvaW50cz1jdCh0LDMpLHRoaXMud2VpZ2h0cz1bMCwwLDBdLEsodGhpcy53ZWlnaHRzLGUsMCwwLDMpLHRoaXMucG9pbnQ9cy5jbG9uZSgpfWdldE1heERlcml2YXRpdmUoKXtyZXR1cm4gM31nZXRWYWx1ZSh0LGUpe2lmKDA9PT10KXtjb25zdCB0PW5ldyBRO19oKHRoaXMuY29udHJvbFBvaW50cyx0aGlzLndlaWdodHMsZSx0KTtjb25zdCBzPWx0KFEsNCk7ZmEodGhpcy5jb250cm9sUG9pbnRzLHRoaXMud2VpZ2h0cywxLGUscyk7cmV0dXJuIDIqdC5zdWIodGhpcy5wb2ludCkuZG90UHJvZHVjdChzWzFdKX1pZigxPT09dCl7Y29uc3QgdD1uZXcgUTtfaCh0aGlzLmNvbnRyb2xQb2ludHMsdGhpcy53ZWlnaHRzLGUsdCk7Y29uc3Qgcz1sdChRLDQpO2ZhKHRoaXMuY29udHJvbFBvaW50cyx0aGlzLndlaWdodHMsMixlLHMpO3JldHVybiAyKih0LnN1Yih0aGlzLnBvaW50KS5kb3RQcm9kdWN0KHNbMl0pK3NbMV0uZG90UHJvZHVjdChzWzFdKSl9aWYoMj09PXQpe2NvbnN0IHQ9bmV3IFE7X2godGhpcy5jb250cm9sUG9pbnRzLHRoaXMud2VpZ2h0cyxlLHQpO2NvbnN0IHM9bHQoUSw0KTtmYSh0aGlzLmNvbnRyb2xQb2ludHMsdGhpcy53ZWlnaHRzLDMsZSxzKTtyZXR1cm4gMioodC5zdWIodGhpcy5wb2ludCkuZG90UHJvZHVjdChzWzNdKSszKnNbMV0uZG90UHJvZHVjdChzWzJdKSl9cmV0dXJuIDB9Z2V0RXJyb3IodCl7cmV0dXJuIHMoMCksMH19ZnVuY3Rpb24gdWEodCxlLHMsbil7Y29uc3QgaT1CYSgwLDAsMCwwLFEuZ2V0TkFOKCkpLHI9VSgxOCxOdW1iZXIuTmFOKSxvPWx0KFEsMyk7dC5xdWVyeUNvbnRyb2xQb2ludHMobyksb1syXS5zdWJUaGlzKGUpLG9bMV0uc3ViVGhpcyhlKSxvWzBdLnN1YlRoaXMoZSk7Y29uc3QgYT1bMCwwLDBdO3QucXVlcnlXZWlnaHRzKGEpO2NvbnN0IGg9WzEsZmgoYSksMV0sdT15aChhLHMpLG09eWgoYSxuKSxsPXRuKG5ldyBoYShvLGgsbmV3IFEoMCwwKSksSC5jb25zdHJ1Y3QodSxtKSwxOCxyKTtfaChvLGgsdSxpLnB0KSxpLnQ9dSxpLmQ9US5kaXN0YW5jZShpLnB0LG5ldyBRKDAsMCkpO2NvbnN0IGM9bmV3IFE7X2gobyxoLG0sYyk7Y29uc3QgZz1RLmRpc3RhbmNlKGMsbmV3IFEoMCwwKSk7ZzxpLmQmJihpLmQ9ZyxpLnQ9bSxpLnB0LmFzc2lnbihjKSk7Zm9yKGxldCBkPTA7ZDxsO2QrKyl7X2gobyxoLHJbZF0sYyk7Y29uc3QgdD1RLmRpc3RhbmNlKGMsbmV3IFEoMCwwKSk7dDxpLmQmJihpLmQ9dCxpLnQ9UGgoYSxyW2RdKSxpLnB0LmFzc2lnbihjKSl9cmV0dXJuIGl9ZnVuY3Rpb24gbWEodCxlLHMsbixpKXtsZXQgcj0hMDtjb25zdCBvPWx0KFEsNCksYT1Kbig1LGUscyxuLGksKGU9PntwYSh0LDEsZSxvKTtyZXR1cm4ocj90LmdldENvb3JkWChlKS10LmdldFN0YXJ0WCgpOnQuZ2V0Q29vcmRZKGUpLXQuZ2V0U3RhcnRZKCkpKm9bMV0ubGVuZ3RoKCl9KSk7cj0hMTtjb25zdCBoPUpuKDUsZSxzLG4saSwoZT0+e3BhKHQsMSxlLG8pO3JldHVybihyP3QuZ2V0Q29vcmRYKGUpLXQuZ2V0U3RhcnRYKCk6dC5nZXRDb29yZFkoZSktdC5nZXRTdGFydFkoKSkqb1sxXS5sZW5ndGgoKX0pKTtyZXR1cm4gbmV3IFEoYSxoKX1mdW5jdGlvbiBsYSh0KXt0Lm1fY2FjaGVkVmFsdWVzPW51bGx9ZnVuY3Rpb24gY2EodCxlKXtlLm1fY2FjaGVkVmFsdWVzPWV0KHQubV9jYWNoZWRWYWx1ZXMsdC5tX2NhY2hlZFZhbHVlcz1lLm1fY2FjaGVkVmFsdWVzKX1mdW5jdGlvbiBnYSh0KXtpZih0Lm1fY2FjaGVkVmFsdWVzKXJldHVybiB0Lm1fY2FjaGVkVmFsdWVzO2NvbnN0IGU9bmV3IHJhLHM9bHQoUSwzKTt0LnF1ZXJ5Q29udHJvbFBvaW50cyhzKTtjb25zdCBuPVswLDAsMF07cmV0dXJuIHQucXVlcnlXZWlnaHRzKG4pLGRhKHMsbixlLnNwZWNpYWxQb2ludHMpLExhKHQsZSksZX1mdW5jdGlvbiBkYSh0LGUscyl7aWYoMD09PWVbMV0pcmV0dXJuIHMubGVuZ3RoPTAscy5wdXNoKDApLHZvaWQgcy5wdXNoKDEpO2NvbnN0IG49bHQoYXQsOCk7blswXS5zZXQoMCk7bGV0IGk9MTt7Y29uc3Qgcz1uZXcgYXQodFsxXS54KS5zdWJUaGlzKHRbMF0ueCkubXVsVGhpcyhlWzFdKS5tdWxUaGlzKGVbMF0pLHI9bmV3IGF0KHRbMl0ueCkuc3ViVGhpcyh0WzBdLngpLm11bFRoaXMoZVsyXSkubXVsVGhpcyhlWzBdKSxvPXMuc3ViRShyKS5hZGRUaGlzRShuZXcgYXQodFsyXS54KS5zdWJUaGlzKHRbMV0ueCkubXVsVGhpcyhlWzJdKS5tdWxUaGlzKGVbMV0pKTtyLnN1YlRoaXNFKHMubXVsKDIpKTtjb25zdCBhPWx0KGF0LDIpO2xldCBoPWduKG8scixzLG5ldyBIKDAsMSksITEsYSk7aDwwJiYoaD0wKTtmb3IobGV0IHQ9MDt0PGg7dCsrKWd0KGFbdF0udmFsdWUoKSwwLDEpfHwobltpXT1hW3RdLGkrKyl9e2NvbnN0IHM9bmV3IGF0KHRbMV0ueSkuc3ViVGhpcyh0WzBdLnkpLm11bFRoaXMoZVsxXSkubXVsVGhpcyhlWzBdKSxyPW5ldyBhdCh0WzJdLnkpLnN1YlRoaXModFswXS55KS5tdWxUaGlzKGVbMl0pLm11bFRoaXMoZVswXSksbz1zLnN1YkUocikuYWRkVGhpc0UobmV3IGF0KHRbMl0ueSkuc3ViVGhpcyh0WzFdLnkpLm11bFRoaXMoZVsyXSkubXVsVGhpcyhlWzFdKSk7ci5zdWJUaGlzRShzLm11bCgyKSk7Y29uc3QgYT1sdChhdCwyKTtsZXQgaD1nbihvLHIscyxuZXcgSCgwLDEpLCExLGEpO2g8MCYmKGg9MCk7Zm9yKGxldCB0PTA7dDxoO3QrKylndChhW3RdLnZhbHVlKCksMCwxKXx8KG5baV09YVt0XSxpKyspfWlmKG5baV0uc2V0KDEpLGkrKyxpPjIpe3R0KG4sMCxpLCgodCxlKT0+QnQodC52YWx1ZSgpLGUudmFsdWUoKSkpKTtsZXQgdD0wLGU9blswXS52YWx1ZSgpLHM9MTtmb3IobGV0IHI9MTtyPGk7cisrKW5bcl0uZXEobltyLTFdKT8oZSs9bltyXS52YWx1ZSgpLHMrKyk6KHM+MSYmKGUvPXMsblt0XS5zZXQoZSkpLHQrKyxuW3RdPW5bcl0sZT1uW3JdLnZhbHVlKCkscz0xKTt0KyssaT10fW5bMF0uc2V0KDApLG5baS0xXS5zZXQoMSkscy5sZW5ndGg9aTtmb3IobGV0IHI9MDtyPGk7cisrKXNbcl09bltyXS52YWx1ZSgpfWZ1bmN0aW9uIF9hKHQsZSxzKXtpZihzKXtpZihlPDApcmV0dXJuIGU7aWYoZT4xKXJldHVybiBlLTErX2EodCwxLCExKX1pZih0LmlzRGVnZW5lcmF0ZSgwKSlyZXR1cm4gMDtjb25zdCBuPTE9PT1lLGk9Z2EodCk7aWYobiYmIU51bWJlci5pc05hTihpLmxlbmd0aCkpcmV0dXJuIGkubGVuZ3RoO2NvbnN0IHI9WGEodCksbz1yL3QuY2FsY3VsYXRlVXBwZXJMZW5ndGgyRCgpO2xldCBhPTAsaD0wO2ZvcihsZXQgdT0xLG09aS5zcGVjaWFsUG9pbnRzQ291bnQoKTt1PG07dSsrKXtjb25zdCBzPWkuc3BlY2lhbFBvaW50c1t1XTtpZihhKz1hYSh0LGgsTWF0aC5taW4oZSxzKSxvLHIpLGU8PXMpYnJlYWs7aD1zfXJldHVybiBuJiYoaS5sZW5ndGg9YSksYX1mdW5jdGlvbiBwYSh0LGUscyxuKXtjb25zdCBpPWx0KFEsMyk7dC5xdWVyeUNvbnRyb2xQb2ludHMoaSk7Y29uc3Qgcj1bMCwwLDBdO3QucXVlcnlXZWlnaHRzKHIpLGZhKGkscixlLHMsbil9ZnVuY3Rpb24gZmEodCxlLHMsbixpKXtjb25zdCByPVt0WzBdLHRbMV0sdFsyXV0sbz1bZVswXSxlWzFdLGVbMl1dLGE9bHQoUSw0KTtQYShyLG8scyxuLGEpO2ZvcihsZXQgaD0wO2g8PXM7aCsrKWlbaF0uc2V0Q29vcmRzKGFbaF0ueCxhW2hdLnkpfWZ1bmN0aW9uIFBhKHQsZSxuLGkscil7cyhuPjApO2NvbnN0IG89W3RbMF0uY2xvbmUoKSx0WzFdLmNsb25lKCksdFsyXS5jbG9uZSgpXTtpZighb1swXS5pc1plcm8oKSl7Zm9yKGxldCB0PTE7dDwzOysrdClvW3RdLnN1YlRoaXMob1swXSk7b1swXS5zZXRDb29yZHMoMCwwKX1jb25zdCBhPXlhKG8sZSwwLGkpLHU9Q2EoZSwwLGkpLG09YS5kaXZpZGUodSk7aWYoclswXS5hc3NpZ24obSksMD09PW4pcmV0dXJuO2NvbnN0IGw9W2VbMV0qZVswXSxlWzJdKmVbMF0qLjUsZVsxXSplWzJdXSxjPVt0WzFdLnN1Yih0WzBdKSx0WzJdLnN1Yih0WzBdKSx0WzJdLnN1Yih0WzFdKV0sZz11KnUsZD15YShjLGwsMCxpKS5tdWwoMikuZGl2aWRlKGcpO2lmKHJbMV0uYXNzaWduKGQpLDE9PT1uKXJldHVybjtjb25zdCBfPUNhKGUsMSxpKSxwPTIqdSpfLGY9eWEoYyxsLDEsaSkubXVsKDIpLnN1YihkLm11bChwKSkuZGl2aWRlKGcpO2lmKHJbMl0uYXNzaWduKGYpLDI9PT1uKXJldHVybjtjb25zdCBQPXlhKGMsbCwyLGkpLm11bCgyKSx5PTIqKF8qXyt1KkNhKGUsMixpKSkseD1QLnN1YihmLm11bChwKS5tdWwoMikpLnN1YihkLm11bCh5KSkuZGl2aWRlKGcpO3JbM10uYXNzaWduKHgpLDMhPT1uJiZoKFwiXCIpfWZ1bmN0aW9uIHlhKHQsZSxzLG4pe2lmKDA9PT1zKXtpZihuPD0uNSl7Y29uc3Qgcz1uZXcgUTtYdCgyLHRbMF0ubXVsKGVbMF0pLHRbMV0ubXVsKGVbMV0pLG4scyk7Y29uc3QgaT1uZXcgUTtYdCgyLHRbMV0ubXVsKGVbMV0pLHRbMl0ubXVsKGVbMl0pLG4saSk7Y29uc3Qgcj1uZXcgUTtyZXR1cm4gWHQoMixzLGksbixyKSxyfXtjb25zdCBzPW5ldyBRO3F0KDIsdFswXS5tdWwoZVswXSksdFsxXS5tdWwoZVsxXSksbixzKTtjb25zdCBpPW5ldyBRO3F0KDIsdFsxXS5tdWwoZVsxXSksdFsyXS5tdWwoZVsyXSksbixpKTtjb25zdCByPW5ldyBRO3JldHVybiBxdCgyLHMsaSxuLHIpLHJ9fWlmKDE9PT1zKXtjb25zdCBzPXRbMV0ubXVsKGVbMV0pLGk9cy5zdWIodFswXS5tdWwoZVswXSkpLm11bCgxLW4pLmFkZCh0WzJdLm11bChlWzJdKS5zdWIocykubXVsKG4pKTtyZXR1cm4gaS5tdWxUaGlzKDIpLGl9aWYoMj09PXMpe2NvbnN0IHM9dFsxXS5tdWwoZVsxXSksbj10WzJdLm11bChlWzJdKS5zdWIocykuc3ViKHMuc3ViKHRbMF0ubXVsKGVbMF0pKSk7cmV0dXJuIG4ubXVsVGhpcygyKSxufWgoXCJcIil9ZnVuY3Rpb24geGEodCxlLHMsbil7aWYobi50b0RvdWJsZSgpPD0uNSl7Y29uc3Qgcz1uZXcgWWU7RnQoMix0WzBdLm11bEUoZVswXSksdFsxXS5tdWxFKGVbMV0pLG4scyk7Y29uc3QgaT1uZXcgWWU7RnQoMix0WzFdLm11bEUoZVsxXSksdFsyXS5tdWxFKGVbMl0pLG4saSk7Y29uc3Qgcj1uZXcgWWU7cmV0dXJuIEZ0KDIscyxpLG4scikscn17Y29uc3Qgcz1uZXcgWWU7VnQoMix0WzBdLm11bEUoZVswXSksdFsxXS5tdWxFKGVbMV0pLG4scyk7Y29uc3QgaT1uZXcgWWU7VnQoMix0WzFdLm11bEUoZVsxXSksdFsyXS5tdWxFKGVbMl0pLG4saSk7Y29uc3Qgcj1uZXcgWWU7cmV0dXJuIFZ0KDIscyxpLG4scikscn19ZnVuY3Rpb24gQ2EodCxlLHMpe2lmKDA9PT1lKXtjb25zdCBlPXJ0KHRbMF0sdFsxXSxzKSxuPXJ0KHRbMV0sdFsyXSxzKTtyZXR1cm4gcnQoZSxuLHMpfWlmKDE9PT1lKXtyZXR1cm4gMiooKDEtcykqKHRbMV0tdFswXSkrKHRbMl0tdFsxXSkqcyl9aWYoMj09PWUpe3JldHVybiAyKih0WzJdLXRbMV0tKHRbMV0tdFswXSkpfWgoXCJcIil9ZnVuY3Rpb24gdmEodCxlLHMpe2lmKHMudG9Eb3VibGUoKTw9LjUpe2NvbnN0IGU9VXQodFswXSx0WzFdLHMpLG49VXQodFsxXSx0WzJdLHMpO3JldHVybiBVdChlLG4scyl9e2NvbnN0IGU9T3QodFswXSx0WzFdLHMpLG49T3QodFsxXSx0WzJdLHMpO3JldHVybiBPdChlLG4scyl9fWZ1bmN0aW9uIGJhKHQsZSxzLG4saSl7Y29uc3Qgcj1bWWUuY29uc3RydWN0UG9pbnQyRCh0WzBdKSxZZS5jb25zdHJ1Y3RQb2ludDJEKHRbMV0pLFllLmNvbnN0cnVjdFBvaW50MkQodFsyXSldO3JbMl0uc3ViVGhpc0UoclswXSksclsxXS5zdWJUaGlzRShyWzBdKSxyWzBdLnNldENvb3JkcygwLDApO1NhKHIsW25ldyBhdChlWzBdKSxuZXcgYXQoZVsxXSksbmV3IGF0KGVbMl0pXSxzLG4saSl9ZnVuY3Rpb24gU2EodCxlLG4saSxyKXtzKG4+MCk7Y29uc3Qgbz1bdFswXS5jbG9uZSgpLHRbMV0uY2xvbmUoKSx0WzJdLmNsb25lKCldO2lmKCFvWzBdLmlzWmVybygpKXtmb3IobGV0IHQ9MTt0PDM7Kyt0KW9bdF0uc3ViVGhpc0Uob1swXSk7b1swXT1ZZS5jb25zdHJ1Y3RDb29yZHMoMCwwKX1jb25zdCBhPXhhKG8sZSwwLGkpLGg9dmEoZSwwLGkpLHU9YS5kaXZFKGgpO3JbMF0uc2V0RSh1KTtjb25zdCBtPVtlWzFdLm11bEUoZVswXSksZVsyXS5tdWxFKGVbMF0pLm11bCguNSksZVsxXS5tdWxFKGVbMl0pXSxsPXhhKFt0WzFdLnN1YkUodFswXSksdFsyXS5zdWJFKHRbMF0pLHRbMl0uc3ViRSh0WzFdKV0sbSwwLGkpLm11bCgyKSxjPWguc3FyKCksZz1sLmRpdkUoYyk7clsxXS5zZXRFKGcpfWZ1bmN0aW9uIEVhKHQsZSxzKXtjb25zdCBuPWx0KFEsMyk7dC5xdWVyeUNvbnRyb2xQb2ludHMobik7Y29uc3QgaT1VKDMsTnVtYmVyLk5hTik7dC5xdWVyeVdlaWdodHMoaSksRGEobixpLGUscyl9ZnVuY3Rpb24gRGEodCxlLHMsbil7cy52YWx1ZSgpPDAmJnMuc2V0KDAscy5lcHMoKSkscy52YWx1ZSgpPjEmJnMuc2V0KDEscy5lcHMoKSk7Y29uc3QgaT1sdChZZSw0KTtiYSh0LGUsMSxzLGkpLG4uc2V0RShpWzFdKX1mdW5jdGlvbiB3YSh0LGUscyl7Y29uc3Qgbj1fdChzLDAsMSksaT1sdChRLDQpO2lmKGZhKHQsZSwzLG4saSksaVsxXS5pc1plcm8oKSl7aWYoaVsyXS5pc1plcm8oKSlyZXR1cm4gaVszXTt7Y29uc3QgdD1pWzJdLmNsb25lKCk7cmV0dXJuIDE9PT1uJiZ0Lm5lZ2F0ZVRoaXMoKSx0fX1yZXR1cm4gaVsxXX1jbGFzcyBBYXtjb25zdHJ1Y3Rvcih0LGUpe3RoaXMubGVuPTAsdGhpcy5iPXQsdGhpcy5sZW49ZX1nZXRNYXhEZXJpdmF0aXZlKCl7cmV0dXJuIDF9Z2V0VmFsdWUodCxlKXtyZXR1cm4gMD09PXQ/dGhpcy5sZW4tX2EodGhpcy5iLGUsITEpOjB9Z2V0RXJyb3IodCl7cmV0dXJuIHMoMCksMH19ZnVuY3Rpb24gVGEodCxlLHMpe2NvbnN0IG49X2EodCwxLCExKTtpZihlPD0wKXJldHVybiBlO2lmKGU+PW4pcmV0dXJuIGUtbisxO2NvbnN0IGk9WzBdO3JldHVybiAxIT09dG4obmV3IEFhKHQsZSksSC51bml0KCksMSxpKSYmaChcIlwiKSxpWzBdfWZ1bmN0aW9uIElhKHQpe2NvbnN0IGU9bHQoUSwzKSxzPVswLDAsMF07cmV0dXJuIHQucXVlcnlDb250cm9sUG9pbnRzKGUpLHQucXVlcnlXZWlnaHRzKHMpLE1hKGUscyl9ZnVuY3Rpb24gTWEodCxlKXtjb25zdCBuPWZoKGUpO2lmKDE9PT1uKXtyZXR1cm4gZmkodCl9aWYoMD09PW4pcmV0dXJuIDA7Y29uc3QgaT1bbmV3IFEoMCwwKSx0WzFdLnN1Yih0WzBdKSx0WzJdLnN1Yih0WzBdKV0scj1pWzFdLmNyb3NzUHJvZHVjdChpWzJdKTtpZihuPDEpe3Mobj4wKTtjb25zdCB0PTEtbjtsZXQgZTtpZih0PC4wMSllPS0xLzMrdCooMi8xNSt0KigzLzM1K3QqKDE2LzMxNSt0KigyMC82OTMrdCooMTYvMTAwMSt0Kig1Ni82NDM1KSkpKSkpO2Vsc2V7Y29uc3Qgcz10KigxK24pLGk9TWF0aC5hdGFuMihNYXRoLnNxcnQodCksTWF0aC5zcXJ0KDErbikpO2U9biooLjUqbi1oZShzKSppKS9zfXJldHVybiByKmV9e2NvbnN0IHQ9KG4tMSkqKG4rMSk7cmV0dXJuLjI1Km4vTWF0aC5wb3codCwxLjUpKigtMipuKk1hdGguc3FydCh0KSpyLTQqaVsxXS55KmlbMl0ueCpNYXRoLmF0YW5oKE1hdGguc3FydCgobi0xKS8obisxKSkpLWlbMV0ueCppWzJdLnkqTWF0aC5sb2coMipuKihuLU1hdGguc3FydCh0KSktMSkpfX1mdW5jdGlvbiBZYSh0LGUpe2NvbnN0IG49ZmgoZSk7aWYoMT09PW4pe2NvbnN0IGU9bHQoUSwzKTt6aSh0LGUpO2NvbnN0IHM9ZVsyXS5jbG9uZSgpLG49ZVsxXS5jbG9uZSgpLGk9bmV3IFEscj1zLnkqbi54LXMueCpuLnk7cmV0dXJuIGkueD0tKDQqcy54KzUqbi54KSpyLzYwLGkueT0tKDQqcy55KzUqbi55KSpyLzYwLGl9aWYoMD09PW4pcmV0dXJuIG5ldyBRKDAsMCk7cyhuPjApO2NvbnN0IGk9dFsxXS5zdWIodFswXSkscj10WzJdLnN1Yih0WzBdKTtpZihuPDEpe2NvbnN0IHQ9TWF0aC5zcXJ0KDEtbiksZT1NYXRoLnNxcnQoMStuKSxzPShpLnkqci54LWkueCpyLnkpKm4vTWF0aC5wb3codCplLDUpLzEyLG89TWF0aC5hdGFuMih0LGUpLGE9bip0KmUsaD1uKm4sdT1pLm11bCgyKigyK2gpKSxtPXIubXVsKDIqaC01KSxsPXUuYWRkKG0pLm11bChhKSxjPXIuc3ViKGkubXVsKDIqaCkpLm11bCg2Km8pO3JldHVybiBsLmFkZChjKS5tdWwocyl9e2NvbnN0IHQ9TWF0aC5zcXJ0KG4tMSksZT1NYXRoLnNxcnQobisxKSxzPShpLnkqci54LWkueCpyLnkpKm4vTWF0aC5wb3codCplLDUpLzEyLG89TWF0aC5hdGFuaCh0L2UpLGE9bip0KmUsaD1uKm4sdT1pLm11bCg0KS5zdWIoci5tdWwoNSkpLG09aS5hZGQocikubXVsKDIqaCksbD11LmFkZChtKS5tdWwoYSksYz1yLnN1YihpLm11bCgyKmgpKS5tdWwoNipvKTtyZXR1cm4gbC5hZGQoYykubXVsKHMpfX1mdW5jdGlvbiBOYSh0KXtjb25zdCBlPWx0KFEsMykscz1bMCwwLDBdO3JldHVybiB0LnF1ZXJ5Q29udHJvbFBvaW50cyhlKSx0LnF1ZXJ5V2VpZ2h0cyhzKSxZYShlLHMpfWZ1bmN0aW9uIFhhKHQpe3JldHVybiBxYSh0LmNhbGN1bGF0ZVVwcGVyTGVuZ3RoMkQoKSl9ZnVuY3Rpb24gcWEodCl7cmV0dXJuIDI1NipkdCgpKnR9ZnVuY3Rpb24gRmEodCl7aWYoMD09PXQubV93ZWlnaHRzWzFdKXJldHVybiEwO2NvbnN0IGU9US5kaXN0YW5jZSh0LmdldFN0YXJ0WFkoKSx0LmdldEVuZFhZKCkpLHM9dC5jYWxjdWxhdGVVcHBlckxlbmd0aDJEKCk7cmV0dXJuIHMtZTw9OCpOdW1iZXIuRVBTSUxPTipzfWZ1bmN0aW9uIFZhKHQpe3JldHVybiB0Lm1fY2FjaGVkVmFsdWVzfWZ1bmN0aW9uIExhKHQsZSl7dC5tX2NhY2hlZFZhbHVlcz1lfWZ1bmN0aW9uIFJhKHQsZSxzLG4saSl7Y29uc3Qgcj1sdChRLDMpO3QucXVlcnlDb250cm9sUG9pbnRzKHIpO2NvbnN0IG89WzAsMCwwXTt0LnF1ZXJ5V2VpZ2h0cyhvKTtjb25zdCBhPVswXTtyZXR1cm4gMT09PXphKHIsbyxlLEgudW5pdCgpLG4saSwxLGEpP2FbMF06TnVtYmVyLk5hTn1mdW5jdGlvbiB6YSh0LGUsbixpLHIsbyxhLGgpe18oSC51bml0KCkuY29udGFpbnMoaSkmJmE+MCxcIlwiKSwobzwwfHxOdW1iZXIuaXNOYU4obykpJiYobz1OdW1iZXIuTUFYX1ZBTFVFKTtjb25zdCB1PW5ldyBBcnJheSgzKTtmb3IobGV0IHM9MDtzPDM7KytzKXVbc109dFtzXS5zdWIobik7Y29uc3QgbT1maChlKSxsPVhlLmNvbnN0cnVjdFBvaW50MkQodVswXSksYz1YZS5jb25zdHJ1Y3RQb2ludDJEKHVbMV0pLGc9WGUuY29uc3RydWN0UG9pbnQyRCh1WzJdKSxkPWl0LmNvbnN0cnVjdERvdWJsZShtKSxwPWQuY2xvbmUoKTtwLmxkZXhwVGhpcygxKTtjb25zdCBmPWwuZG90UHJvZHVjdChjLnN1YihsKSkubXVsKGQpLFA9ZC5tdWwoZC5hZGREb3VibGUoMikpLHk9Zy5zdWIoYy5tdWwoUC5sZGV4cCgxKSkpLHg9Yy5zcXJMZW5ndGgoKS5tdWwoZC5tdWwoZCkubGRleHAoMSkpLmFkZChsLnNxckxlbmd0aCgpLm11bChkLmxkZXhwKDIpLnN1YkRvdWJsZSgxKSkpLmFkZChsLmRvdFByb2R1Y3QoeSkpLEM9Zy5zdWIoYy5tdWwocCkpLmFkZChsLm11bChwLnN1YkRvdWJsZSgxKSkpLHY9Yy5tdWwoZCkuc3ViKGwpLmRvdFByb2R1Y3QoQykubXVsRG91YmxlKDMpLGI9Yy5kb3RQcm9kdWN0KGcpLm11bChkLnN1YkRvdWJsZSgzKS5tdWwoZCkpLmxkZXhwKDEpLFM9Yy5zcXJMZW5ndGgoKS5tdWwoZC5tdWwoZCkubGRleHAoMikpLEU9bC5zcXJMZW5ndGgoKS5tdWwoZC5sZGV4cCgyKS5zdWJEb3VibGUoMykpLEQ9bC5kb3RQcm9kdWN0KGcuc3ViKGMubXVsKGQubXVsRG91YmxlKDMpLnN1YkRvdWJsZSgxKSkubXVsKGQpKSkubGRleHAoMSksdz1nLnNxckxlbmd0aCgpLmFkZFRoaXMoYikuYWRkVGhpcyhTKS5hZGRUaGlzKEUpLmFkZFRoaXMoRCksQT1sLmFkZChnKS5zdWIoYy5tdWwocCkpLFQ9ZC5zdWJEb3VibGUoMSksST1nLnN1YihsKS5kb3RQcm9kdWN0KEEpLm11bChUKSxNPW5ldyBRKDAsMCksWT1bXTtsZXQgTj1uZXcgUTtfaCh1LGUsaS52bWluLE4pO2xldCBYPVEuZGlzdGFuY2UoTixNKTtpZihYPD1vJiZZLnB1c2gobmV3IFEoaS52bWluLFgpKSxpLnZtaW4hPT1pLnZtYXgmJihfaCh1LGUsaS52bWF4LE4pLFg9US5kaXN0YW5jZShOLE0pLFg8PW8mJlkucHVzaChuZXcgUShpLnZtYXgsWCkpKSxpLndpZHRoKCk+MCl7Y29uc3QgdD11WzJdLmlzWmVybygpLHM9bHQoaXQsNCksbj1SbihJLHcsdix4LGYsNTgsaSx0LHMpO2ZvcihsZXQgcj0wO3I8bjtyKyspe2lmKCFpLmNvbnRhaW5zRXhjbHVzaXZlQ29vcmRpbmF0ZShzW3JdLnRvRG91YmxlKCkpKWNvbnRpbnVlO2xldCB0PXNbcl0udG9Eb3VibGUoKTt0PVBoKGUsdCk7Y29uc3Qgbj1uZXcgUTtfaCh1LGUsdCxuKSxYPVEuZGlzdGFuY2UobixNKSxYPD1vJiZZLnB1c2gobmV3IFEodCxYKSl9fWlmKHIpe3MoaS5lcXVhbHMoSC51bml0KCkpKTt7X2godSxlLC0xLE4sITApO2NvbnN0IHQ9bmV3IFE7X2godSxlLDAsdCk7Y29uc3Qgcz1uZXcgcG0oe3N0YXJ0Ok4sZW5kOnR9KSxuPXMuZ2V0Q2xvc2VzdENvb3JkaW5hdGUoTSwhMCk7bjwxJiYoTj1zLmdldENvb3JkMkQobiksWD1RLmRpc3RhbmNlKE4sTSksWDw9byYmWS5wdXNoKG5ldyBRKG4tMSxYKSkpfXtfaCh1LGUsMixOLCEwKTtjb25zdCB0PW5ldyBRO19oKHUsZSxpLnZtYXgsdCk7Y29uc3Qgcz1uZXcgcG0oe3N0YXJ0OnQsZW5kOk59KSxuPXMuZ2V0Q2xvc2VzdENvb3JkaW5hdGUoTSwhMCk7bj4wJiYoTj1zLmdldENvb3JkMkQobiksWD1RLmRpc3RhbmNlKE4sTSksWDw9byYmWS5wdXNoKG5ldyBRKDErbixYKSkpfX1pZighWS5sZW5ndGgpcmV0dXJuIDA7WS5zb3J0KCgodCxlKT0+dC5jb21wYXJlKGUpKSk7bGV0IHE9MDtjb25zdCBGPVlbMF0ueDtpZihoW3ErK109RixxPGEpe2NvbnN0IHQ9Wih1LDQsITEpLnRvdGFsKCksZT1ZWzBdLnk7Zm9yKGxldCBzPTEsbj1ZLmxlbmd0aDtzPG47cysrKWlmKFlbc10ueT5lK3Qpe1kubGVuZ3RoPXM7YnJlYWt9WS5zb3J0KCgodCxlKT0+QnQodC54LGUueCkpKSxxPTAsaFtxKytdPVlbMF0ueDtmb3IobGV0IHM9MSxuPVkubGVuZ3RoO3M8bjtzKyspWVtzXS54IT09aFtxLTFdJiZxPGEmJihoW3ErK109WVtzXS54KX1yZXR1cm4gcX1mdW5jdGlvbiBCYSh0LGUscyxuLGkpe3JldHVybnt0bWluOnQsdG1heDplLHQ6cyxkOm4scHQ6aS5jbG9uZSgpfX1mdW5jdGlvbiBrYSh0LGUsbixpLHIpe2NvbnN0IG89bmV3IERlO2lmKEdhKHQsSC51bml0KCksbyksby5pbmZsYXRlKGkpLCFvLmlzSW50ZXJzZWN0aW5nUG9pbnQyRChlKSlyZXR1cm4gMDtjb25zdCBhPWdhKHQpO2xldCBoPTA7Y29uc3QgdT1bXTtsZXQgbT1hLnNwZWNpYWxQb2ludHNbMF07Zm9yKGxldCBsPTEsYz1hLnNwZWNpYWxQb2ludHMubGVuZ3RoO2w8YzsrK2wpe2NvbnN0IG49YS5zcGVjaWFsUG9pbnRzW2xdLGk9dWEodCxlLG0sbik7aWYoMD09PXUubGVuZ3RoKXUucHVzaChpKTtlbHNlIGlmKGkudD09PWkudG1pbilzKHUuYXQoLTEpLmQ8PWkuZCksdS5hdCgtMSkudG1heD1pLnRtYXg7ZWxzZSBpZih1LmF0KC0xKS50PT09dS5hdCgtMSkudG1heCl7cyh1LmF0KC0xKS5kPj1pLmQpO2NvbnN0IHQ9dS5hdCgtMSkudG1pbjt1W3UubGVuZ3RoLTFdPWksdS5hdCgtMSkudG1pbj10fWVsc2UgdS5wdXNoKGkpO209bn1mb3IoY29uc3QgcyBvZiB1KWlmKHMuZDw9aSl7Y29uc3QgdD1zLnQ7bj8obltoXT10LGgrKyk6aCsrfXJldHVybiBofWZ1bmN0aW9uIEdhKHQsZSxzKXtjb25zdCBuPWx0KFEsMyk7dC5xdWVyeUNvbnRyb2xQb2ludHMobik7Y29uc3QgaT1bMCwwLDBdO3QucXVlcnlXZWlnaHRzKGkpLFdhKG4saSxlLHMpfWZ1bmN0aW9uIFdhKHQsZSxzLG4pe2lmKHMuZXF1YWxzUmFuZ2UoMCwxKSlyZXR1cm4gdm9pZCBuLnNldEZyb21Qb2ludHModCwzKTtjb25zdCBpPWx0KFEsMykscj1bMCwwLDBdO1FhKHQsZSxzLnZtaW4scy52bWF4LGksciksbi5zZXRGcm9tUG9pbnRzKGksMyl9ZnVuY3Rpb24gamEodCl7Y29uc3QgZT1udCh0WzBdLnksdFsxXS55KSxzPW50KHRbMV0ueSx0WzJdLnkpO2lmKGU+PTAmJnM+PTB8fGU8PTAmJnM8PTApe2NvbnN0IGU9bnQodFswXS54LHRbMV0ueCkscz1udCh0WzFdLngsdFsyXS54KTtpZihlPj0wJiZzPj0wfHxlPD0wJiZzPD0wKXJldHVybiEwfXJldHVybiExfWZ1bmN0aW9uIFphKHQpe2NvbnN0IGU9bHQoUSwzKTt0LnF1ZXJ5Q29udHJvbFBvaW50cyhlKTtjb25zdCBzPUhhKGUpO3JldHVybiBzJiYodC5tX2NwLnNldENvb3Jkc1BvaW50MkQoZVsxXSksdC5hZnRlckNvbXBsZXRlZE1vZGlmaWNhdGlvbigpKSxzfWZ1bmN0aW9uIEhhKHQpe2xldCBlPSExO2ZvcihsZXQgcz0wO3M8MjtzKyspe2NvbnN0IG49bnQodFswXVtzXSx0WzJdW3NdKTtuPjA/KG50KHRbMF1bc10sdFsxXVtzXSk8MCYmKHRbMV1bc109dFswXVtzXSxlPSEwKSxudCh0WzFdW3NdLHRbMl1bc10pPDAmJih0WzFdW3NdPXRbMl1bc10sZT0hMCkpOm48MD8obnQodFswXVtzXSx0WzFdW3NdKT4wJiYodFsxXVtzXT10WzBdW3NdLGU9ITApLG50KHRbMV1bc10sdFsyXVtzXSk+MCYmKHRbMV1bc109dFsyXVtzXSxlPSEwKSk6dFsxXVtzXSE9PXRbMF1bc10mJih0WzFdW3NdPXRbMF1bc10sZT0hMCl9cmV0dXJuIGV9ZnVuY3Rpb24gVWEodCxzLG4pe3ZvaWQgMD09PW4mJihuPXMscz0wKTtjb25zdCBpPW5ldyBRO2lmKHM8MHx8bj4xKXJldHVybiBpLnNldE5BTigpLGk7aWYocz5uJiZlKFwiY2FsY3VsYXRlX3N1Yl93ZWlnaHRlZF9jZW50cm9pZFwiKSxzPT09bnx8dC5pc0RlZ2VuZXJhdGUoMCkpcmV0dXJuIGkuc2V0Q29vcmRzKDAsMCksaTtjb25zdCByPWdhKHQpLG89WGEodCksYT1vL3QuY2FsY3VsYXRlVXBwZXJMZW5ndGgyRCgpO2xldCBoPXMsdT0wO2ZvcihsZXQgZT0xLG09ci5zcGVjaWFsUG9pbnRzQ291bnQoKTtlPG07ZSsrKWlmKHM8ci5zcGVjaWFsUG9pbnRzW2VdKXt1PWUtMTticmVha31pLnNldENvb3JkcygwLDApO2ZvcihsZXQgZT11KzEsbT1yLnNwZWNpYWxQb2ludHNDb3VudCgpO2U8bTtlKyspe2NvbnN0IHM9TWF0aC5taW4oci5zcGVjaWFsUG9pbnRzW2VdLG4pLHU9bWEodCxoLHMsYSxvKTtpZihpLmFkZFRoaXModSksaD1zLG48PXIuc3BlY2lhbFBvaW50c1tlXSlicmVha31yZXR1cm4gaS5hZGQodC5nZXRTdGFydFhZKCkubXVsKHQuY2FsY3VsYXRlTGVuZ3RoMkQoKSkpfWZ1bmN0aW9uIE9hKHQsZSxuLGkscixvLGEpe3Mobj49MCYmbjw9MSYmaSE9PW8mJnIhPT1hKSxzKGVbMF0+MCYmZVsyXT4wJiZlWzFdPj0wKTtjb25zdCBoPVsxLGZoKGUpLDFdLHU9eWgoZSxuKSxtPWN0KHQsMyksbD1sdChTLDMpO3VoKG0saCxsKTtjb25zdCBjPWx0KFMsMyksZz1sdChTLDMpO3hoKGwsdSxpP2M6bnVsbCxvP2c6bnVsbCksQ2goZSxuLHIsYSk7Y29uc3QgZD1qYShtKTtpZihpKXtmb3IobGV0IHQ9MDt0PDM7Kyt0KWRoKGNbdF0saVt0XSk7YmgobSxpKSxkJiZIYShpKX1pZihvKXtmb3IobGV0IHQ9MDt0PDM7Kyt0KWRoKGdbdF0sb1t0XSk7YmgobSxvKSxkJiZIYShvKX19ZnVuY3Rpb24gUWEodCxlLG4saSxyLG8pe2lmKHMobj49MCYmaTw9MSYmbjw9aSksbj09PWkpe2NvbnN0IHM9bmV3IFEsaT1taCh0LGUsbixzKTtyZXR1cm4gdmgodCxzKSxyWzBdLmFzc2lnbihzKSxyWzFdLmFzc2lnbihzKSxyWzJdLmFzc2lnbihzKSxvWzBdPWksb1sxXT1pLHZvaWQob1syXT1pKX1pZigwPT09biYmMT09PWkpcmV0dXJuIHJbMF0uYXNzaWduKHRbMF0pLHJbMV0uYXNzaWduKHRbMV0pLHJbMl0uYXNzaWduKHRbMl0pLG9bMF09ZVswXSxvWzFdPWVbMV0sdm9pZChvWzJdPWVbMl0pO2NvbnN0IGE9bHQoUywzKTt7Y29uc3Qgcz1bMSxmaChlKSwxXSxyPXloKGUsbiksbz15aChlLGkpO3VoKHQscyxhKSx4aChhLG8sYSxudWxsKTt4aChhLHI+PW8/MTpyL28sbnVsbCxhKX1jb25zdCBoPVswLDAsMF07Q2goZSxpLGgsbnVsbCksQ2goaCxuL2ksbnVsbCxoKTtjb25zdCB1PWphKHQpLG09bHQoUSwzKTtkaChhWzFdLG1bMV0pLF9oKHQsZSxuLG1bMF0pLF9oKHQsZSxpLG1bMl0pLGJoKHQsbSk7Zm9yKGxldCBzPTA7czwzOysrcylyW3NdLmFzc2lnbihtW3NdKSxvW3NdPWhbc107dSYmSGEocil9ZnVuY3Rpb24gSmEodCxlLHMpe2NvbnN0IG49ZmgoZSksaT1bMSxuLDFdLHI9NCpuLygzKigxK24pKTtzWzBdLmFzc2lnbih0WzBdKSxzWzNdLmFzc2lnbih0WzJdKSx4dCh0WzBdLHRbMV0scixzWzFdKSx4dCh0WzJdLHRbMV0scixzWzJdKSxuZXcgaWEoe2NwOnN9KSxuZXcgRW4oe3BvaW50czp0LHdlaWdodDpufSk7bGV0IG89MCxhPS4xLGg9MDtmb3IobGV0IHU9MDt1PDk7dSsrLGErPS4xKXtjb25zdCBlPW5ldyBRO19oKHQsaSxhLGUpO2NvbnN0IG49bmV3IFE7UG8ocyxhLG4pO2NvbnN0IHI9US5zcXJEaXN0YW5jZShlLG4pO3I+byYmKG89cixoPWEpfXtjb25zdCBlPW5ldyBRO19oKHQsaSxoLGUpO2NvbnN0IG49WzBdO0xvKHMsZSxILnVuaXQoKSwhMSwtMSwxLG4pO2NvbnN0IHI9bmV3IFE7cmV0dXJuIFBvKHMsblswXSxyKSxvPVEuc3FyRGlzdGFuY2UoZSxyKSxNYXRoLnNxcnQobyl9fWZ1bmN0aW9uIEthKHQsZSxzLG4pe2lmKGUuaXNFcXVhbCh0Lm1fWFN0YXJ0LHQubV9ZU3RhcnQpJiZzLmlzRXF1YWwodC5tX1hFbmQsdC5tX1lFbmQpKXJldHVybjtjb25zdCBpPSEhbiYmdC5pc01vbm90b25lUXVpY2tBbmREaXJ0eSgpLHI9bmV3IGxlLG89bHQoUSwzKTtvWzBdLnNldENvb3Jkcyh0Lm1fWFN0YXJ0LHQubV9ZU3RhcnQpLG9bMl0uc2V0Q29vcmRzKHQubV9YRW5kLHQubV9ZRW5kKTtjb25zdCBhPW5ldyBRO2Euc2V0U3ViKG9bMl0sb1swXSksYS5sZWZ0UGVycGVuZGljdWxhclRoaXMoKSxvWzFdLnNldEFkZChvWzBdLGEpO2NvbnN0IGg9bHQoUSwzKTtoWzBdLnNldENvb3Jkc1BvaW50MkQoZSksaFsyXS5zZXRDb29yZHNQb2ludDJEKHMpLGEuc2V0U3ViKGhbMl0saFswXSksYS5sZWZ0UGVycGVuZGljdWxhclRoaXMoKSxoWzFdLnNldEFkZChoWzBdLGEpLHIuc2V0RnJvbVR3b1RyaWFuZ2xlcyhvLGgpP3IudHJhbnNmb3JtSW5QbGFjZSh0Lm1fY3ApOnh0KGUscywuNSx0Lm1fY3ApLHQuY2hhbmdlRW5kUG9pbnRzMkQoZSxzKSxpJiZaYSh0KX1mdW5jdGlvbiAkYSh0LGUscyxuLGkpe2lmKGkpe2lmKDAhPT1hbShlLHMpKXJldHVybiB0PzQ6Mn1lbHNlIGlmKExlKGUscykpcmV0dXJuIDE7cmV0dXJuIDAhPT1uaCh0LGUscyxudWxsLG51bGwsbnVsbCxuLHZvaWQgMCE9PWkmJmksITAsITEpPzQ6MH1mdW5jdGlvbiB0aCh0LGUscyxuLGkpe2lmKGkpe2lmKDAhPT1hbShlLHMpKXJldHVybiB0PzQ6Mn1lbHNlIGlmKExlKGUscykpcmV0dXJuIDE7cmV0dXJuIDAhPT1paCh0LGUscyxudWxsLG51bGwsbnVsbCxuLGk/PyExLCEwLCExKT80OjB9ZnVuY3Rpb24gZWgodCxlLHMsbixpKXtpZihpKXtjb25zdCBuPWFtKGUscyk7aWYoMCE9PW4pe2lmKHQpe2lmKDE9PT1uKXtpZihlLm1fd2VpZ2h0c1swXT09PXMubV93ZWlnaHRzWzBdJiZlLm1fd2VpZ2h0c1sxXT09PXMubV93ZWlnaHRzWzFdJiZlLm1fd2VpZ2h0c1syXT09PXMubV93ZWlnaHRzWzJdKXJldHVybiAyfWVsc2UgaWYoZS5tX3dlaWdodHNbMF09PT1zLm1fd2VpZ2h0c1syXSYmZS5tX3dlaWdodHNbMV09PT1zLm1fd2VpZ2h0c1sxXSYmZS5tX3dlaWdodHNbMl09PT1zLm1fd2VpZ2h0c1swXSlyZXR1cm4gMjtyZXR1cm4gNH1yZXR1cm4gMn19ZWxzZSBpZihMZShlLHMpKXJldHVybiAxO3JldHVybiAwIT09cmgodCxlLHMsbnVsbCxudWxsLG51bGwsbix2b2lkIDAhPT1pJiZpLCEwLCExKT80OjB9ZnVuY3Rpb24gc2godCxlLHMsbixpKXtpZihpKXtpZigwIT09YW0oZSxzKSlyZXR1cm4gdD80OjJ9ZWxzZSBpZihMZShlLHMpKXJldHVybiAxO3JldHVybiAwIT09b2godCxlLHMsbnVsbCxudWxsLG51bGwsbixpPz8hMSwhMCwhMSk/NDowfWZ1bmN0aW9uIG5oKHQsZSxuLGkscixvLGEsaCx1LG0pe2lmKG51bGwhPT1yJiYoci5sZW5ndGg9MCksbnVsbCE9PW8mJihvLmxlbmd0aD0wKSxudWxsIT09aSYmKGkubGVuZ3RoPTApLG4uaXNEZWdlbmVyYXRlKDApKXtjb25zdCB0PVswLDBdLHM9ZS5pbnRlcnNlY3RQb2ludChuLmdldFN0YXJ0WFkoKSx0LGEpO2lmKHM+MCl7aWYobnVsbCE9PXIpZm9yKGxldCBlPTA7ZTxzO2UrKylyLnB1c2godFtlXSk7aWYobnVsbCE9bylmb3IobGV0IHQ9MDt0PHM7dCsrKW8ucHVzaCgwKTtpZihudWxsIT1pKWZvcihsZXQgbj0wO248cztuKyspe2NvbnN0IHM9bmV3IFE7ZS5xdWVyeUNvb3JkMkQodFtuXSxzKSxpLnB1c2gocyl9fXJldHVybiBzfWNvbnN0IGw9cnMoZSxuKTtpZihhPU1hdGgubWF4KGEsbCksZS5pc0RlZ2VuZXJhdGVUb0xpbmVIZWxwZXIobCkpe2NvbnN0IHQ9bmV3IHBtKHtzdGFydDplLmdldFN0YXJ0WFkoKSxlbmQ6ZS5nZXRFbmRYWSgpfSkscz1Ecyh0LG4saSxyLG8sYSxoLG0pO2lmKHIpZm9yKGxldCBuPTA7bjxzOysrbil7Y29uc3Qgcz10LmdldENvb3JkMkQocltuXSk7cltuXT1lLmdldENsb3Nlc3RDb29yZGluYXRlKHMsITEpfXJldHVybiBzfWlmKG9zKGUsbixhKSlyZXR1cm4gMDtjb25zdCBjPWx0KFEsMyk7ZS5xdWVyeUNvbnRyb2xQb2ludHMoYyk7Y29uc3QgZz1bMCwwLDBdO2UucXVlcnlXZWlnaHRzKGcpO2NvbnN0IGQ9WzEsZmgoZyksMV0sXz1uLmdldEVuZFhZKCkuc3ViKG4uZ2V0U3RhcnRYWSgpKSxwPV8uY2xvbmUoKTtwLmxlZnRQZXJwZW5kaWN1bGFyVGhpcygpO2NvbnN0IGY9Y1swXS5jbG9uZSgpLFA9Y1sxXS5jbG9uZSgpLHk9Y1syXS5jbG9uZSgpLHg9UC5zdWIoZiksQz15LnN1YihmKSx2PXkuc3ViKFApLGI9ZFswXSxTPWRbMV0sRT1kWzJdLEQ9YipTLHc9YipFLEE9UypFLFQ9eC5kb3RQcm9kdWN0KHApKkQsST1DLmRvdFByb2R1Y3QocCkqdztsZXQgTT1ULFk9SS0yKlQsTj12LmRvdFByb2R1Y3QocCkqQStJLUk7Y29uc3QgWD1VKDEzLE51bWJlci5OYU4pLHE9VSgxMyxOdW1iZXIuTmFOKTtsZXQgRj1zbihOLFksTSxILnVuaXQoKSwhMSxYKTtGPDAmJihYWzBdPTAsWFsxXT0xLEY9Mik7bGV0IFY9MDtmb3IobGV0IHM9MCxrPVY7czxGOysrcyl7Y29uc3QgdD1uZXcgUTtfaChjLGQsWFtzK2tdLHQpLHFbVl09bi5nZXRDbG9zZXN0Q29vcmRpbmF0ZSh0LCExKTtRLmRpc3RhbmNlKHQsbi5nZXRDb29yZDJEKHFbVl0pKTw9YSYmKFhbVl09WFtzK2tdLFYrKyl9Y29uc3QgTD1sdChRLDMpLFI9bHQoUSwzKTtpZihlLnF1ZXJ5Q29udHJvbFBvaW50cyhSKSxSWzBdLnN1YlRoaXMobi5nZXRTdGFydFhZKCkpLFJbMV0uc3ViVGhpcyhuLmdldFN0YXJ0WFkoKSksUlsyXS5zdWJUaGlzKG4uZ2V0U3RhcnRYWSgpKSxhaChSLGQsTCwhMSksTWF0aC5hYnMoXy54KT49TWF0aC5hYnMoXy55KSl7Y29uc3QgdD1fLnkvXy54O049TFsyXS55LUxbMl0ueCp0LFk9TFsxXS55LUxbMV0ueCp0LE09TFswXS55LUxbMF0ueCp0fWVsc2V7Y29uc3QgdD1fLngvXy55O049TFsyXS54LUxbMl0ueSp0LFk9TFsxXS54LUxbMV0ueSp0LE09TFswXS54LUxbMF0ueSp0fWNvbnN0IHo9ZS5nZXRFbmRYWSgpLmVxdWFscyhuLmdldFN0YXJ0WFkoKSl8fGUuZ2V0RW5kWFkoKS5lcXVhbHMobi5nZXRFbmRYWSgpKSxCPVswLDBdO0Y9c24oTixZLE0sSC51bml0KCkseixCKTtmb3IobGV0IHM9MCxrPVY7czxGOysrcyl7WFtzK2tdPUJbc107Y29uc3QgdD1uZXcgUTtfaChjLGQsWFtzK2tdLHQpLHFbVl09bi5nZXRDbG9zZXN0Q29vcmRpbmF0ZSh0LCExKTtRLmRpc3RhbmNlKHQsbi5nZXRDb29yZDJEKHFbVl0pKTw9YSYmKFhbVl09WFtzK2tdLFYrKyl9cyhWPFgubGVuZ3RoKzQpO2ZvcihsZXQgcz0wO3M8VjtzKyspWFtzXT1QaChnLFhbc10pO0Y9ZS5pbnRlcnNlY3RQb2ludChuLmdldFN0YXJ0WFkoKSxCLGEpO2ZvcihsZXQgcz0wO3M8RjtzKyspWFtWXT1CW3NdLHFbVisrXT0wO0Y9ZS5pbnRlcnNlY3RQb2ludChuLmdldEVuZFhZKCksQixhKTtmb3IobGV0IHM9MDtzPEY7cysrKVhbVl09QltzXSxxW1YrK109MTtGPW4uaW50ZXJzZWN0UG9pbnQoZS5nZXRTdGFydFhZKCksQixhKTtmb3IobGV0IHM9MDtzPEY7cysrKXFbVl09QltzXSxYW1YrK109MDtGPW4uaW50ZXJzZWN0UG9pbnQoZS5nZXRFbmRYWSgpLEIsYSk7Zm9yKGxldCBzPTA7czxGO3MrKylxW1ZdPUJbc10sWFtWKytdPTE7cmV0dXJuIDA9PT1WPzA6Y20odCxlLG4sWCxxLFYsaSxyLG8sYSxoLHUsbSl9ZnVuY3Rpb24gaWgodCxlLHMsbixpLHIsbyxhLGgsdSl7aWYoU3Uocykpe3JldHVybiBuaCh0LGUsbmV3IHBtKHtzdGFydDpzLmdldFN0YXJ0WFkoKSxlbmQ6cy5nZXRFbmRYWSgpfSksbixpLHIsbyxhLGgsdSl9Y29uc3QgbT1ycyhlLHMpO2lmKG9zKGUscyxvPU1hdGgubWF4KG8sbSkpKXJldHVybiAwO2NvbnN0IGw9W10sYz1bXSxnPWx0KFEsNCk7e2UucXVlcnlDb250cm9sUG9pbnRzKGcpO2NvbnN0IHQ9bHQoUSw0KSxuPW5ldyBsZTtzLmNhbm9uaWNUb1dvcmxkVHJhbnNmb3JtYXRpb24obik7Y29uc3QgaT1uZXcgbGU7aS5zZXRJbnZlcnQobiksaS50cmFuc2Zvcm1Qb2ludHMyRChnLDQsdCk7Y29uc3Qgcj1sdChpdCwzKSxoPWx0KGl0LDMpLHU9bHQoaXQsMyksbT1bMCwwLDBdO2UucXVlcnlXZWlnaHRzKG0pLGhoKHQsbSxyLGgsdSk7Y29uc3QgZD1sdChpdCwzKTtkWzBdLnNldERvdWJsZShzLmdldFNlbWlNaW5vckF4aXMoKSksZFswXS5zcXJUaGlzKCksZFsxXS5zZXREb3VibGUocy5nZXRTZW1pTWFqb3JBeGlzKCkpLGRbMV0uc3FyVGhpcygpLGRbMl0uc2V0VGhpcyhkWzBdKSxkWzJdLm11bFRoaXMoZFsxXSksZFsyXS5uZWdhdGVUaGlzKCk7Y29uc3QgXz1xbihyLDIsaCwyLHUsMixkLCEwLEgudW5pdCgpLEgudW5pdCgpLGwsYSk7aWYoXz4wKXtsZXQgdD0wO2ZvcihsZXQgbj0wO248XztuKyspe2NvbnN0IGk9bmV3IFE7ZS5xdWVyeUNvb3JkMkQobFtuXSxpKTtjb25zdCByPXMuZ2V0Q2xvc2VzdENvb3JkaW5hdGUoaSwhMSksYT1uZXcgUTtzLnF1ZXJ5Q29vcmQyRChyLGEpO1EuZGlzdGFuY2UoaSxhKTw9byYmKGxbdF09bFtuXSxjLnB1c2gociksdCsrKX1sLmxlbmd0aD10fX1jb25zdCBkPVswLDFdO2ZvcihsZXQgXz0wO188MjtfKyspe2NvbnN0IHQ9MD09PV8/cy5nZXRTdGFydFhZKCk6cy5nZXRFbmRYWSgpLG49UmEoZSx0LEgudW5pdCgpLCExLC0xKSxpPW5ldyBRO2UucXVlcnlDb29yZDJEKG4saSk7US5kaXN0YW5jZSh0LGkpPD1vJiYobC5wdXNoKG4pLGMucHVzaChkW19dKSl9Zm9yKGxldCBfPTA7XzwyO18rKyl7Y29uc3QgdD1bMCwzXTt7Y29uc3QgZT1zLmdldENsb3Nlc3RDb29yZGluYXRlKGdbdFtfXV0sITEpLG49bmV3IFE7cy5xdWVyeUNvb3JkMkQoZSxuKTtRLmRpc3RhbmNlKGdbdFtfXV0sbik8PW8mJihsLnB1c2goZFtfXSksYy5wdXNoKGUpKX19cmV0dXJuIGNtKHQsZSxzLGwsYyxsLmxlbmd0aCxuLGkscixvLGEsaCx1KX1mdW5jdGlvbiByaCh0LGUsbixpLHIsbyxhLGgsdSxtKXtjb25zdCBsPWx0KFEsMyk7ZS5xdWVyeUNvbnRyb2xQb2ludHMobCk7Y29uc3QgYz1sdChRLDMpO2lmKG4ucXVlcnlDb250cm9sUG9pbnRzKGMpLGFzKGwsYywzKTwwKXJldHVybiByaCh0LG4sZSxpLG8scixhLGgsdSwhbSk7Y29uc3QgZz1ycyhlLG4pO2lmKGUuaXNEZWdlbmVyYXRlVG9MaW5lSGVscGVyKGcpKXtjb25zdCBzPW5ldyBwbSh7c3RhcnQ6ZS5nZXRTdGFydFhZKCksZW5kOmUuZ2V0RW5kWFkoKX0pLGw9bmgodCxuLHMsaSxvLHIsYSxoLHUsIW0pO2lmKHIpZm9yKGxldCB0PTA7dDxsOysrdCl7Y29uc3Qgbj1zLmdldENvb3JkMkQoclt0XSk7clt0XT1lLmdldENsb3Nlc3RDb29yZGluYXRlKG4sITEpfXJldHVybiBsfWlmKG4uaXNEZWdlbmVyYXRlVG9MaW5lSGVscGVyKGcpKXtjb25zdCBzPW5ldyBwbSh7c3RhcnQ6bi5nZXRTdGFydFhZKCksZW5kOm4uZ2V0RW5kWFkoKX0pLGw9bmgodCxlLHMsaSxyLG8sYSxoLHUsbSk7aWYobylmb3IobGV0IHQ9MDt0PGw7Kyt0KXtjb25zdCBlPXMuZ2V0Q29vcmQyRChvW3RdKTtvW3RdPW4uZ2V0Q2xvc2VzdENvb3JkaW5hdGUoZSwhMSl9cmV0dXJuIGx9aWYob3MoZSxuLGE9TWF0aC5tYXgoYSxnKSkpcmV0dXJuIDA7Y29uc3QgZD1VKDMsTnVtYmVyLk5hTik7ZS5xdWVyeVdlaWdodHMoZCk7Y29uc3QgXz1VKDMsTnVtYmVyLk5hTik7bi5xdWVyeVdlaWdodHMoXyk7Y29uc3QgcD1bMSxmaChkKSwxXSxmPVsxLGZoKF8pLDFdLFA9bmV3IEgoMCwxKSx5PW5ldyBIKDAsMSk7e2NvbnN0IHQ9RGUuY29uc3RydWN0RW1wdHkoKTtXYShsLHAsbmV3IEgoMCwxKSx0KTtjb25zdCBlPURlLmNvbnN0cnVjdEVtcHR5KCk7V2EoYyxmLG5ldyBIKDAsMSksZSk7Y29uc3Qgcz1NYXRoLm1heCh0Lm1heERpbSgpLGUubWF4RGltKCkpO2lmKHQuaW5mbGF0ZSgzKmEpLGUuaW5mbGF0ZSgzKmEpLCF0LmludGVyc2VjdFcoZSkpcmV0dXJuIDA7aWYodC5tYXhEaW0oKTwuMSpzKXtpZihwaChsLHAsdCxQKSxwaChjLGYsdCx5KSxQLmlzRW1wdHkoKXx8eS5pc0VtcHR5KCkpcmV0dXJuIDA7UWEobCxwLFAudm1pbixQLnZtYXgsbCxwKSxRYShjLGYseS52bWluLHkudm1heCxjLGYpfX1jb25zdCB4PWRtKGwsMixjLDIsYSk7aWYoMD09PXgpcmV0dXJuIDA7Y29uc3QgQz1bXSx2PVtdO2lmKC0xPT09eCl7Y29uc3QgdD1sdChpdCwzKSxlPWx0KGl0LDMpLHM9bHQoaXQsMyk7aGgobCxwLHQsZSxzKTtjb25zdCBuPWx0KGl0LDMpLGk9bHQoaXQsMykscj1sdChpdCwzKTtoaChjLGYsbixpLHIpO2NvbnN0IG89W10sZz1bXSxkPVluKHQsMixlLDIscywyLG4sMixpLDIsciwyLCEwLEgudW5pdCgpLEgudW5pdCgpLG8sZyxoLHUsbSk7aWYoZD4wKWZvcihsZXQgaD0wO2g8ZDtoKyspe2NvbnN0IHQ9bmV3IFE7X2goYyxmLGdbaF0sdCk7Y29uc3QgZT1uZXcgUTtfaChsLHAsb1toXSxlKTtRLmRpc3RhbmNlKGUsdCk8PWEmJihDLnB1c2gob1toXSksdi5wdXNoKGdbaF0pKX19Zm9yKGxldCBiPTA7YjwyO2IrKyl7bGV0IHQsZSxuOzA9PT1iPyh0PWwsZT1jLG49Zik6KHQ9YyxlPWwsbj1wKTtmb3IobGV0IGk9MDtpPDI7aSsrKXtjb25zdCByPTA9PT1pPzA6dC5sZW5ndGgtMSxvPW5ldyBRLGg9WzBdLHU9emEoZSxuLHRbcl0sSC51bml0KCksITEsLTEsMSxoKTtzKDE9PT11KSxfaChlLG4saFswXSxvKSxRLmRpc3RhbmNlKHRbcl0sbyk8PWEmJigwPT09Yj8oQy5wdXNoKDA9PT1yPzA6MSksdi5wdXNoKGhbMF0pKToodi5wdXNoKDA9PT1yPzA6MSksQy5wdXNoKGhbMF0pKSl9fWlmKDA9PT1DLmxlbmd0aClyZXR1cm4gMDtpZighUC5lcXVhbHNSYW5nZSgwLDEpKWZvcihsZXQgcz0wO3M8Qy5sZW5ndGg7KytzKUNbc109RW4ucmVjYWxjdWxhdGVQYXJlbnRUKFAudm1pbixQLnZtYXgsQ1tzXSk7aWYoIXkuZXF1YWxzUmFuZ2UoMCwxKSlmb3IobGV0IHM9MDtzPHYubGVuZ3RoOysrcyl2W3NdPUVuLnJlY2FsY3VsYXRlUGFyZW50VCh5LnZtaW4seS52bWF4LHZbc10pO2ZvcihsZXQgcz0wO3M8Qy5sZW5ndGg7KytzKUNbc109UGgoZCxDW3NdKTtmb3IobGV0IHM9MDtzPHYubGVuZ3RoOysrcyl2W3NdPVBoKF8sdltzXSk7cmV0dXJuIGNtKHQsZSxuLEMsdixDLmxlbmd0aCxpLHIsbyxhLGgsdSxtKX1mdW5jdGlvbiBvaCh0LGUscyxuLGkscixvLGEsaCx1KXtpZihlLmlzTGluZSgpKXtyZXR1cm4gVmkodCxzLG5ldyBwbSh7c3RhcnQ6ZS5nZXRTdGFydFhZKCksZW5kOmUuZ2V0RW5kWFkoKX0pLG4scixpLG8sYSxoLCF1KX1pZihzLmlzTGluZSgpKXtyZXR1cm4gbmgodCxlLG5ldyBwbSh7c3RhcnQ6cy5nZXRTdGFydFhZKCksZW5kOnMuZ2V0RW5kWFkoKX0pLG4saSxyLG8sYSxoLHUpfWNvbnN0IG09cnMoZSxzKTtpZihvcyhlLHMsbz1NYXRoLm1heChvLG0pKSlyZXR1cm4gMDtjb25zdCBsPWx0KFEsMyk7ZS5xdWVyeUNvbnRyb2xQb2ludHMobCk7Y29uc3QgYz1sdChRLDMpO3MucXVlcnlDb250cm9sUG9pbnRzKGMpO2NvbnN0IGc9ZG0obCwyLGMsMixvKTtpZigwPT09ZylyZXR1cm4gMDtjb25zdCBkPVtdLF89W107aWYoLTE9PT1nKXtjb25zdCB0PWx0KGl0LDMpLG49bHQoaXQsMyksaT1sdChpdCwzKSxyPVswLDAsMF07ZS5xdWVyeVdlaWdodHMociksaGgobCxyLHQsbixpKTtjb25zdCBtPWx0KFhlLDMpO1dpKGMsbSk7Y29uc3QgZz1Zbih0LDIsbiwyLGksMixbbVswXS54LG1bMV0ueCxtWzJdLnhdLDIsW21bMF0ueSxtWzFdLnksbVsyXS55XSwyLG51bGwsMCwhMCxILnVuaXQoKSxILnVuaXQoKSxkLF8sYSxoLHUpO2lmKGc+MCl7bGV0IHQ9MDtmb3IobGV0IG49MDtuPGc7bisrKXtjb25zdCBpPW5ldyBRO3MucXVlcnlDb29yZDJEKF9bbl0saSk7Y29uc3Qgcj1uZXcgUTtlLnF1ZXJ5Q29vcmQyRChkW25dLHIpLFEuZGlzdGFuY2UocixpKTw9byYmKGRbdF09ZFtuXSxfW3RdPV9bbl0sdCsrKX1kLmxlbmd0aD10LF8ubGVuZ3RoPXR9fWZvcihsZXQgcD0wO3A8MjtwKyspe2xldCB0O3Q9MD09PXA/bDpjO2ZvcihsZXQgbj0wO248MjtuKyspe2NvbnN0IGk9MD09PW4/MDp0Lmxlbmd0aC0xO2xldCByO2NvbnN0IGE9bmV3IFE7MD09PXA/KHI9Q2kocyx0W2ldLEgudW5pdCgpLCExKSxzLnF1ZXJ5Q29vcmQyRChyLGEpKToocj1SYShlLHRbaV0sSC51bml0KCksITEsLTEpLGUucXVlcnlDb29yZDJEKHIsYSkpLFEuZGlzdGFuY2UodFtpXSxhKTw9byYmKDA9PT1wPyhkLnB1c2goMD09PWk/MDoxKSxfLnB1c2gocikpOihfLnB1c2goMD09PWk/MDoxKSxkLnB1c2gocikpKX19cmV0dXJuIGNtKHQsZSxzLGQsXyxkLmxlbmd0aCxuLGkscixvLGEsaCx1KX1mdW5jdGlvbiBhaCh0LGUscyxuPSExKXtjb25zdCBpPWx0KFEsMyk7bj8oaVswXS5zZXRDb29yZHNQb2ludDJEKHRbMF0pLGlbMV0uc2V0Q29vcmRzUG9pbnQyRCh0WzFdKSxpWzFdLnN1YlRoaXMoaVswXSksaVsyXS5zZXRDb29yZHNQb2ludDJEKHRbMl0pLGlbMl0uc3ViVGhpcyhpWzBdKSxpWzBdLnNldENvb3JkcygwLDApKTooaVswXS5zZXRDb29yZHNQb2ludDJEKHRbMF0pLGlbMV0uc2V0Q29vcmRzUG9pbnQyRCh0WzFdKSxpWzJdLnNldENvb3Jkc1BvaW50MkQodFsyXSkpLGlbMF0ubXVsVGhpcyhlWzBdKSxpWzFdLm11bFRoaXMoZVsxXSksaVsyXS5tdWxUaGlzKGVbMl0pLHNbMV0uc2V0Q29vcmRzKGlbMV0ueC1pWzBdLngsaVsxXS55LWlbMF0ueSksc1syXS5zZXRDb29yZHNQb2ludDJEKGlbMl0uc3ViKGlbMV0pKSxzWzJdLnN1YlRoaXMoc1sxXSksc1sxXS54Kj0yLHNbMV0ueSo9MixzWzBdLnNldENvb3Jkc1BvaW50MkQoaVswXSl9ZnVuY3Rpb24gaGgodCxlLHMsbixpKXtjb25zdCByPWl0LmNvbnN0cnVjdERvdWJsZShlWzBdKSxvPWl0LmNvbnN0cnVjdERvdWJsZShlWzFdKSxhPWl0LmNvbnN0cnVjdERvdWJsZShlWzJdKTtzWzBdLnNldERvdWJsZSh0WzBdLngpLHNbMF0ubXVsVGhpcyhyKSxzWzFdLnNldERvdWJsZSh0WzFdLngpLHNbMV0ubXVsVGhpcyhvKSxzWzJdLnNldERvdWJsZSh0WzJdLngpLHNbMl0ubXVsVGhpcyhhKSxzWzJdLnN1YlRoaXMoc1sxXSksc1sxXS5zdWJUaGlzKHNbMF0pLHNbMl0uc3ViVGhpcyhzWzFdKSxzWzFdLmxkZXhwVGhpcygxKSxuWzBdLnNldERvdWJsZSh0WzBdLnkpLG5bMF0ubXVsVGhpcyhyKSxuWzFdLnNldERvdWJsZSh0WzFdLnkpLG5bMV0ubXVsVGhpcyhvKSxuWzJdLnNldERvdWJsZSh0WzJdLnkpLG5bMl0ubXVsVGhpcyhhKSxuWzJdLnN1YlRoaXMoblsxXSksblsxXS5zdWJUaGlzKG5bMF0pLG5bMl0uc3ViVGhpcyhuWzFdKSxuWzFdLmxkZXhwVGhpcygxKSxpWzBdLnNldERvdWJsZShlWzBdKSxpWzFdLnNldERvdWJsZShlWzFdKSxpWzJdLnNldFRoaXMoaVsxXSksaVsyXS5sZGV4cFRoaXMoMSksaVsyXS5uZWdhdGVUaGlzKCksaVsyXS5hZGRUaGlzKGlbMF0pLGlbMl0uYWRkRG91YmxlVGhpcyhlWzJdKSxpWzFdLnN1YlRoaXMoaVswXSksaVsxXS5sZGV4cFRoaXMoMSl9ZnVuY3Rpb24gdWgodCxlLHMpe2ZvcihsZXQgbj0wO248MzsrK24pc1tuXS5zZXRDb29yZHNQb2ludDJEWih0W25dLm11bChlW25dKSxlW25dKX1mdW5jdGlvbiBtaCh0LGUscyxuKXtpZigwPT09cylyZXR1cm4gbi5hc3NpZ24odFswXSksZVswXTtpZigxPT09cylyZXR1cm4gbi5hc3NpZ24odFsyXSksZVsyXTtjb25zdCBpPVt0WzBdLngqZVswXSx0WzFdLngqZVsxXSx0WzJdLngqZVsyXV0scj1bdFswXS55KmVbMF0sdFsxXS55KmVbMV0sdFsyXS55KmVbMl1dLG89W2VbMF0sZVsxXSxlWzJdXSxhPXM7bGV0IGgsdSxtO2lmKHM8PS41KXtjb25zdCB0PWJ0KGlbMF0saVsxXSxhKSxlPWJ0KGlbMV0saVsyXSxhKTtoPXJ0KHQsZSxhKTtjb25zdCBzPWJ0KHJbMF0sclsxXSxhKSxuPWJ0KHJbMV0sclsyXSxhKTt1PXJ0KHMsbixhKTtjb25zdCBsPWJ0KG9bMF0sb1sxXSxhKSxjPWJ0KG9bMV0sb1syXSxhKTttPWJ0KGwsYyxhKX1lbHNle2NvbnN0IHQ9U3QoaVswXSxpWzFdLGEpLGU9U3QoaVsxXSxpWzJdLGEpO2g9U3QodCxlLGEpO2NvbnN0IHM9U3QoclswXSxyWzFdLGEpLG49U3QoclsxXSxyWzJdLGEpO3U9U3QocyxuLGEpO2NvbnN0IGw9U3Qob1swXSxvWzFdLGEpLGM9U3Qob1sxXSxvWzJdLGEpO209U3QobCxjLGEpfXJldHVybiBoLz1tLHUvPW0sbi5zZXRDb29yZHMoaCx1KSx2aCh0LG4pLG19ZnVuY3Rpb24gbGgodCxlLHMpe2NvbnN0IG49bHQoUSwzKTt0LnF1ZXJ5Q29udHJvbFBvaW50cyhuKTtjb25zdCBpPVswLDAsMF07dC5xdWVyeVdlaWdodHMoaSk7Y2goW1llLmNvbnN0cnVjdFBvaW50MkQoblswXSksWWUuY29uc3RydWN0UG9pbnQyRChuWzFdKSxZZS5jb25zdHJ1Y3RQb2ludDJEKG5bMl0pXSxbbmV3IGF0KGlbMF0pLG5ldyBhdChpWzFdKSxuZXcgYXQoaVsyXSldLGUscyl9ZnVuY3Rpb24gY2godCxlLHMsbil7aWYoMD09PXMudmFsdWUoKSlyZXR1cm4gdm9pZCBuLnNldEUodFswXSk7aWYoMT09PXMudmFsdWUoKSlyZXR1cm4gdm9pZCBuLnNldEUodFsyXSk7Y29uc3QgaT1bdFswXS54Lm11bEUoZVswXSksdFsxXS54Lm11bEUoZVsxXSksdFsyXS54Lm11bEUoZVsyXSldLHI9W3RbMF0ueS5tdWxFKGVbMF0pLHRbMV0ueS5tdWxFKGVbMV0pLHRbMl0ueS5tdWxFKGVbMl0pXSxvPVtlWzBdLmNsb25lKCksZVsxXS5jbG9uZSgpLGVbMl0uY2xvbmUoKV0sYT1uZXcgYXQsaD1uZXcgYXQsdT1uZXcgYXQ7aWYocy52YWx1ZSgpPD0uNSl7Y29uc3QgdD1VdChpWzBdLGlbMV0scyksZT1VdChpWzFdLGlbMl0scyk7YS5zZXRFKFV0KHQsZSxzKSk7Y29uc3Qgbj1VdChyWzBdLHJbMV0scyksbT1VdChyWzFdLHJbMl0scyk7aC5zZXRFKFV0KG4sbSxzKSk7Y29uc3QgbD1VdChvWzBdLG9bMV0scyksYz1VdChvWzFdLG9bMl0scyk7dS5zZXRFKFV0KGwsYyxzKSl9ZWxzZXtjb25zdCB0PU90KGlbMF0saVsxXSxzKSxlPU90KGlbMV0saVsyXSxzKTthLnNldEUoT3QodCxlLHMpKTtjb25zdCBuPU90KHJbMF0sclsxXSxzKSxtPU90KHJbMV0sclsyXSxzKTtoLnNldEUoT3QobixtLHMpKTtjb25zdCBsPU90KG9bMF0sb1sxXSxzKSxjPU90KG9bMV0sb1syXSxzKTt1LnNldEUoT3QobCxjLHMpKX1hLmRpdlRoaXNFKHUpLGguZGl2VGhpc0UodSk7Y29uc3QgbT1uZXcgUShhLnZhbHVlKCksaC52YWx1ZSgpKTt2aChbdFswXS52YWx1ZSgpLHRbMV0udmFsdWUoKSx0WzJdLnZhbHVlKCldLG0pLG4ueC5zZXQobS54LGEuZXBzKCkpLG4ueS5zZXQobS55LGguZXBzKCkpfWZ1bmN0aW9uIGdoKHQsZSxzLG4pe2NvbnN0IGk9cy5sdGUoUnQpP2l0LmxlcnBMbzppdC5sZXJwSGksW3IsbyxhXT1bZS5tYXAoKChlLHMpPT50W3NdLngubXVsKGUpKSksZS5tYXAoKChlLHMpPT50W3NdLnkubXVsKGUpKSksZV0ubWFwKCgoW3QsZSxuXSk9PmkoaSh0LGUscyksaShlLG4scykscykpKSxoPW5ldyBRKHIuZGl2VGhpcyhhKS52YWx1ZSgpLG8uZGl2VGhpcyhhKS52YWx1ZSgpKTt2aCh0Lm1hcCgodD0+dC5hc1BvaW50MkQoKSkpLGgpLG4ueD1pdC5jb25zdHJ1Y3REb3VibGUoaC54KSxuLnk9aXQuY29uc3RydWN0RG91YmxlKGgueSl9ZnVuY3Rpb24gZGgodCxlKXtyZXR1cm4gZS5zZXRDb29yZHModC54L3Queix0LnkvdC56KSx0Lnp9ZnVuY3Rpb24gX2godCxlLHMsbixpKXtpZihpKXtpZihzPDApe3JldHVybiB2b2lkIF9zKG5ldyBwbSh7c3RhcnQ6dFswXSxlbmQ6dFswXS5hZGQod2EodCxlLDApLmdldFVuaXRWZWN0b3IoKSl9KSxzLG4pfWlmKHM+MSl7cmV0dXJuIHZvaWQgX3MobmV3IHBtKHtzdGFydDp0WzJdLGVuZDp0WzJdLmFkZCh3YSh0LGUsMSkuZ2V0VW5pdFZlY3RvcigpKX0pLHMtMSxuKX19bWgodCxlLHMsbil9ZnVuY3Rpb24gcGgodCxlLHMsbil7bi5zZXRFbXB0eSgpO2NvbnN0IGk9W107aS5wdXNoKG5ldyBIKDAsMSkpO2NvbnN0IHI9LjUqTWF0aC5tYXgocy53aWR0aCgpLHMuaGVpZ2h0KCkpO2Zvcig7aS5sZW5ndGg7KXtjb25zdCBvPWkuYXQoLTEpO2kucG9wKCk7Y29uc3QgYT1uZXcgRGU7aWYoV2EodCxlLG8sYSksYS5pc0ludGVyc2VjdGluZ1cocykpe2NvbnN0IHQ9TWF0aC5tYXgoYS53aWR0aCgpLGEuaGVpZ2h0KCkpO2lmKHMuY29udGFpbnNXKGEpfHx0PD1yfHxvLndpZHRoKCk8MWUtMTIpbi5tZXJnZShvKTtlbHNle2NvbnN0IHQ9by5nZXRDZW50ZXIoKTtpLnB1c2goSC5jb25zdHJ1Y3Qoby52bWluLHQpKSxpLnB1c2goSC5jb25zdHJ1Y3QodCxvLnZtYXgpKX19fX1mdW5jdGlvbiBmaCh0KXtyZXR1cm4gdFsxXS9NYXRoLnNxcnQodFswXSp0WzJdKX1mdW5jdGlvbiBQaCh0LGUpe2NvbnN0IHM9TWF0aC5zcXJ0KHRbMl0vdFswXSk7cmV0dXJuIGUvcnQocywxLGUpfWZ1bmN0aW9uIHloKHQsZSl7Y29uc3Qgcz1NYXRoLnNxcnQodFswXS90WzJdKTtyZXR1cm4gZS9ydChzLDEsZSl9ZnVuY3Rpb24geGgodCxlLG4saSl7cyhlPj0wJiZlPD0xKTsobmV3IFMpLnNldENvb3Jkc1BvaW50M0QodFswXSk7KG5ldyBTKS5zZXRDb29yZHNQb2ludDNEKHRbMV0pOyhuZXcgUykuc2V0Q29vcmRzUG9pbnQzRCh0WzJdKTtjb25zdCByPW5ldyBTLG89bmV3IFMsYT1uZXcgUztEdCgzLHRbMF0sdFsxXSxlLHIpLER0KDMsdFsxXSx0WzJdLGUsbyksRHQoMyxyLG8sZSxhKTtjb25zdCBoPXRbMl0uY2xvbmUoKTtuJiYoblswXS5hc3NpZ24odFswXSksblsxXS5hc3NpZ24ociksblsyXS5hc3NpZ24oYSkpLGkmJihpWzBdLmFzc2lnbihhKSxpWzFdLmFzc2lnbihvKSxpWzJdLmFzc2lnbihoKSl9ZnVuY3Rpb24gQ2godCxlLG4saSl7Y29uc3Qgcj1bdFswXSx0WzFdLHRbMl1dO3MoZT49MCYmZTw9MSYmbiE9PWkpO2NvbnN0IG89cnQoclswXSxyWzFdLGUpLGE9cnQoclsxXSxyWzJdLGUpLGg9cnQobyxhLGUpO24mJihuWzBdPXJbMF0sblsxXT1vLG5bMl09aCksaSYmKGlbMF09aCxpWzFdPWEsaVsyXT1yWzJdKX1mdW5jdGlvbiB2aCh0LGUpe2NvbnN0IHM9SC5jb25zdHJ1Y3RFbXB0eSgpO3Mudm1pbj1zLnZtYXg9dFswXS54LHMubWVyZ2VOZUNvb3JkaW5hdGUodFsxXS54KSxzLm1lcmdlTmVDb29yZGluYXRlKHRbMl0ueCksZS54PV90KGUueCxzLnZtaW4scy52bWF4KSxzLnZtaW49cy52bWF4PXRbMF0ueSxzLm1lcmdlTmVDb29yZGluYXRlKHRbMV0ueSkscy5tZXJnZU5lQ29vcmRpbmF0ZSh0WzJdLnkpLGUueT1fdChlLnkscy52bWluLHMudm1heCl9ZnVuY3Rpb24gYmgodCxlKXtjb25zdCBzPW5ldyBIO3Mudm1pbj1zLnZtYXg9dFswXS54LHMubWVyZ2VOZUNvb3JkaW5hdGUodFsxXS54KSxzLm1lcmdlTmVDb29yZGluYXRlKHRbMl0ueCksZVswXS54PV90KGVbMF0ueCxzLnZtaW4scy52bWF4KSxlWzFdLng9X3QoZVsxXS54LHMudm1pbixzLnZtYXgpLGVbMl0ueD1fdChlWzJdLngscy52bWluLHMudm1heCkscy52bWluPXMudm1heD10WzBdLnkscy5tZXJnZU5lQ29vcmRpbmF0ZSh0WzFdLnkpLHMubWVyZ2VOZUNvb3JkaW5hdGUodFsyXS55KSxlWzBdLnk9X3QoZVswXS55LHMudm1pbixzLnZtYXgpLGVbMV0ueT1fdChlWzFdLnkscy52bWluLHMudm1heCksZVsyXS55PV90KGVbMl0ueSxzLnZtaW4scy52bWF4KX1jb25zdCBTaD1LdC8xODAsRWg9MTgwL0t0O2Z1bmN0aW9uIERoKHQpe2xldCBlPXQ7cmV0dXJuIGU+PS0zNjAmJmU8NzIwPyhlPDA/ZSs9MzYwOmU+PTM2MCYmKGUtPTM2MCksZSk6KGU9UXQoZSwzNjApLGU8MCYmKGUrPTM2MCksZSl9ZnVuY3Rpb24gd2godCl7bGV0IGU9dDtyZXR1cm4gZT1EaChlKSxlPjE4MCYmKGUtPTM2MCksZX1mdW5jdGlvbiBBaCh0KXtyZXR1cm4gdCpTaH1mdW5jdGlvbiBUaCh0KXtyZXR1cm4gdCpFaH1mdW5jdGlvbiBJaCh0KXtjb25zdCBlPWt0KCk7bGV0IHM9dDtyZXR1cm4gcz49LWUmJnM8MiplPyhzPDAmJihzKz1lKSxzPj1lJiYocy09ZSkscyk6KHM9UXQocyxlKSxzPDAmJihzKz1lKSxzKX1mdW5jdGlvbiBNaCh0KXtjb25zdCBlPXd0KCk7bGV0IHM9dDtyZXR1cm4gcz4tZSYmczw9ZXx8KHM9SWgocykscz5lJiYocy09a3QoKSkpLHN9ZnVuY3Rpb24gWWgodCxlKXtyZXR1cm4gd2goZS10KX12YXIgTmg9YjtjbGFzcyBYaCBleHRlbmRzIGdze2NvbnN0cnVjdG9yKHQpe2lmKHZvaWQgMD09PXR8fHZ0KHQsXCJ2ZFwiKSlyZXR1cm4gc3VwZXIoe3ZkOnQ/LnZkLFhTdGFydDowLFlTdGFydDowLFhFbmQ6MCxZRW5kOjB9KSx0aGlzLm1fc2VtaU1ham9yQXhpcz0wLHRoaXMubV9taW5vck1ham9yUmF0aW89MSx0aGlzLm1fcm90YXRpb249MCx0aGlzLm1fY29zcj0xLHRoaXMubV9zaW5yPTAsdGhpcy5tX2NlbnRlcj1uZXcgUSgwLDApLHRoaXMubV9zd2VlcEFuZ2xlPTAsdGhpcy5tX3N0YXJ0QW5nbGU9MCx0aGlzLm1faW50ZXJpb3I9bmV3IFEoMCwwKSx2b2lkKHRoaXMubV9iaXRzPTApO2lmKHQuY29weSlyZXR1cm4gc3VwZXIodCksdm9pZCh0aGlzIT09dC5jb3B5JiYodGhpcy5tX2NlbnRlcj1uZXcgUSgwLDApLHRoaXMubV9pbnRlcmlvcj1uZXcgUSgwLDApLHQuY29weS5jb3B5VG9JbXBsKHRoaXMpKSk7aWYodC5tb3ZlKXN1cGVyKHQpLHRoaXMubV9zZW1pTWFqb3JBeGlzPXQubW92ZS5tX3NlbWlNYWpvckF4aXMsdGhpcy5tX21pbm9yTWFqb3JSYXRpbz10Lm1vdmUubV9taW5vck1ham9yUmF0aW8sdGhpcy5tX3JvdGF0aW9uPXQubW92ZS5tX3JvdGF0aW9uLHRoaXMubV9jb3NyPXQubW92ZS5tX2Nvc3IsdGhpcy5tX3NpbnI9dC5tb3ZlLm1fc2lucix0aGlzLm1fY2VudGVyPXQubW92ZS5tX2NlbnRlci5jbG9uZSgpLHRoaXMubV9zd2VlcEFuZ2xlPXQubW92ZS5tX3N3ZWVwQW5nbGUsdGhpcy5tX3N0YXJ0QW5nbGU9dC5tb3ZlLm1fc3RhcnRBbmdsZSx0aGlzLm1faW50ZXJpb3I9dC5tb3ZlLm1faW50ZXJpb3IuY2xvbmUoKSx0aGlzLm1fYml0cz10Lm1vdmUubV9iaXRzLHRoaXMubV9jYWNoZWRWYWx1ZXM9dC5tb3ZlLm1fY2FjaGVkVmFsdWVzLHQubW92ZS5tX2NhY2hlZFZhbHVlcz1udWxsO2Vsc2V7aWYodC5mcm9tUG9pbnQpcmV0dXJuIHN1cGVyKHtYU3RhcnQ6MCxZU3RhcnQ6MCxYRW5kOjAsWUVuZDowfSksdGhpcy5tX2NlbnRlcj1uZXcgUSgwLDApLHRoaXMubV9pbnRlcmlvcj1uZXcgUSgwLDApLHZvaWQgdGhpcy5jb25zdHJ1Y3RDaXJjdWxhckFyY1RocmVlUG9pbnQodC5mcm9tUG9pbnQsdC50b1BvaW50LHQuaW50ZXJpb3JQb2ludCk7aWYodC5jZW50ZXIpcmV0dXJuIHN1cGVyKHtYU3RhcnQ6MCxZU3RhcnQ6MCxYRW5kOjAsWUVuZDowfSksdGhpcy5tX2NlbnRlcj1uZXcgUSgwLDApLHRoaXMubV9pbnRlcmlvcj1uZXcgUSgwLDApLHZvaWQgdGhpcy5jb25zdHJ1Y3RDaXJjbGVSYWRpdXModC5yYWRpdXMsdC5jZW50ZXIsdC5iSXNDb3VudGVyQ2xvY2t3aXNlKTtpZih0LnNlbWlNYWpvckF4aXMpcmV0dXJuIHN1cGVyKHtYU3RhcnQ6MCxZU3RhcnQ6MCxYRW5kOjAsWUVuZDowfSksdm9pZCB0aGlzLmNvbnN0cnVjdEVsbGlwdGljQXJjRW5kUG9pbnRzKHQuZnJvbVBvaW50LHQudG9Qb2ludCx0LnNlbWlNYWpvckF4aXMsdC5taW5vck1ham9yUmF0aW8sdC5heGlzWFJvdGF0aW9uUmFkLHQuYkJpZ0FyYyx0LmJJc0NvdW50ZXJDbG9ja3dpc2UpfX1nZXRCb3VuZGFyeSgpe3JldHVybiBLcyh0aGlzKX1hc3NpZ25Db3B5KHQpe3JldHVybiB0aGlzIT09dCYmdC5jb3B5VG8odGhpcyksdGhpc31jb25zdHJ1Y3RDaXJjbGVSYWRpdXModCxlLHM9ITEpe3JldHVybiB0aGlzLmNvbnN0cnVjdEVsbGlwc2UodCwxLGUsMCxzKSx0aGlzLnNldFByb2plY3Rpb25CZWhhdmlvcigwKSx0aGlzLmFmdGVyQ29tcGxldGVkTW9kaWZpY2F0aW9uKCksdGhpc31jb25zdHJ1Y3RDaXJjbGVDZW50ZXJBbmRQb2ludCh0LGUscz0hMSl7Y29uc3Qgbj1RLmRpc3RhbmNlKHQsZSk7cmV0dXJuIHRoaXMuY29uc3RydWN0RWxsaXB0aWNBcmNFbmRQb2ludHNDZW50ZXIoZSxlLG4sMSwwLCEwLHMsdCksdGhpcy5zZXRQcm9qZWN0aW9uQmVoYXZpb3IoMCksdGhpcy5hZnRlckNvbXBsZXRlZE1vZGlmaWNhdGlvbigpLHRoaXN9Y29uc3RydWN0VHdvUG9pbnRDaXJjbGUodCxlLHM9ITEpe2NvbnN0IG49US5sZXJwKHQsZSwuNSk7cmV0dXJuIHRoaXMuY29uc3RydWN0Q2lyY2xlQ2VudGVyQW5kUG9pbnQobix0LHMpLHRoaXN9Y29uc3RydWN0TGluZUVsbGlwdGljQXJjKHQsZSl7cmV0dXJuIGJ1KHRoaXMsdCxlLDEpLHRoaXN9Y29uc3RydWN0TGluZUNpcmN1bGFyQXJjKHQsZSl7cmV0dXJuIGJ1KHRoaXMsdCxlLDApLHRoaXN9Y29uc3RydWN0RWxsaXBzZSh0LGUscyxuLGk9ITEpe3RoaXMubV9zZW1pTWFqb3JBeGlzPU1hdGguYWJzKHQpLHRoaXMubV9taW5vck1ham9yUmF0aW89TWF0aC5hYnMoZSksdGhpcy5tX21pbm9yTWFqb3JSYXRpbz4xJiYodGhpcy5tX3NlbWlNYWpvckF4aXMqPXRoaXMubV9taW5vck1ham9yUmF0aW8sdGhpcy5tX21pbm9yTWFqb3JSYXRpbz0xL3RoaXMubV9taW5vck1ham9yUmF0aW8pO2NvbnN0IHI9bmV3IFEoMCx0aGlzLm1fbWlub3JNYWpvclJhdGlvKnRoaXMubV9zZW1pTWFqb3JBeGlzKSxvPU1hdGguY29zKG4pLGE9TWF0aC5zaW4obik7cmV0dXJuIHIucm90YXRlRGlyZWN0KG8sYSksci5hZGRUaGlzKHMpLHRoaXMuY29uc3RydWN0RWxsaXB0aWNBcmNFbmRQb2ludHNDZW50ZXIocixyLHRoaXMubV9zZW1pTWFqb3JBeGlzLHRoaXMubV9taW5vck1ham9yUmF0aW8sbiwhMCxpLHMpLHRoaXN9aW5mbGF0ZSh0KXtpZih0aGlzLmlzRGVnZW5lcmF0ZVRvTGluZSgpKXJldHVybjtsZXQgZT10aGlzLmdldFNlbWlNaW5vckF4aXMoKSt0O2lmKGU9ZTw9MD8wOih0aGlzLmdldFNlbWlNYWpvckF4aXMoKSt0KS90aGlzLmdldFNlbWlNYWpvckF4aXMoKSx0aGlzLmlzQ2lyY3VsYXIoKSl7Y29uc3QgdD1uZXcgbGU7dC5zZXRTaGlmdENvb3JkcygtdGhpcy5tX2NlbnRlci54LC10aGlzLm1fY2VudGVyLnkpLHQuc2NhbGUoZSxlKSx0LnNoaWZ0Q29vcmRzKHRoaXMubV9jZW50ZXIueCx0aGlzLm1fY2VudGVyLnkpLHRoaXMuYXBwbHlUcmFuc2Zvcm1hdGlvbih0KX1lbHNle2NvbnN0IHQ9bmV3IGxlO3RoaXMuY2Fub25pY1RvV29ybGRUcmFuc2Zvcm1hdGlvbih0KTtjb25zdCBzPXQuY2xvbmUoKTtzLmludmVydFByZWNpc2VUaGlzKCkscy5zY2FsZShlLGUpLHMubXVsdGlwbHkodCksdGhpcy5hcHBseVRyYW5zZm9ybWF0aW9uKHMpfX1jb25zdHJ1Y3RFbmNsb3NpbmdDaXJjbGUodCxlLHM9ITEpe3JldHVybiBqdSh0aGlzLHQsZSxzKSx0aGlzfWNvbnN0cnVjdFRocmVlUG9pbnRDaXJjbGUodCxlLHMsbj0hMSl7aWYodC5lcXVhbHMoZSl8fGUuZXF1YWxzKHMpfHx0LmVxdWFscyhzKSl7Y29uc3QgaT10LmNsb25lKCkscj1lLmNsb25lKCksbz1zLmNsb25lKCk7cmV0dXJuIGkuZXF1YWxzKHIpJiZyLmFzc2lnbihvKSx0aGlzLmNvbnN0cnVjdFR3b1BvaW50Q2lyY2xlKGkscixuKX17Y29uc3QgaT1RLmNhbGN1bGF0ZUNpcmNsZUNlbnRlckZyb21UaHJlZVBvaW50cyh0LGUscyk7aWYoIWkuaXNGaW5pdGUoKXx8IU51bWJlci5pc0Zpbml0ZShRLmRpc3RhbmNlKHQsaSkpKXtjb25zdCBuPVEuZGlzdGFuY2UodCxlKSxpPVEuZGlzdGFuY2UodCxzKTt0aGlzLmNvbnN0cnVjdExpbmVDaXJjdWxhckFyYyh0LG4+PWk/ZTpzKX1yZXR1cm4gdGhpcy5jb25zdHJ1Y3RDaXJjbGVDZW50ZXJBbmRQb2ludChpLHQsbil9fWNvbnN0cnVjdENpcmN1bGFyQXJjVGhyZWVQb2ludCh0LGUscyl7Y29uc3Qgbj1uZXcgYXQodC54KSxpPW5ldyBhdChlLngpLHI9bmV3IGF0KHMueCksbz1uZXcgYXQodC55KSxhPW5ldyBhdChlLnkpLGg9bmV3IGF0KHMueSksdT1uZXcgYXQoLjUpLG09aS5zdWJFKG4pLGw9YS5zdWJFKG8pLGM9ci5zdWJFKG4pLGc9aC5zdWJFKG8pLGQ9bS5tdWxFKGcpLnN1YlRoaXNFKGwubXVsRShjKSk7aWYoZC5zY2FsZUVycm9yKDEwKSxkLmlzWmVybygpKXtpZighbS5pc1plcm8oKXx8IWwuaXNaZXJvKCkpcmV0dXJuIGJ1KHRoaXMsdCxlLDApLHRoaXM7e2NvbnN0IG49dC5jbG9uZSgpLmFkZFRoaXMoZSkubXVsVGhpcyguNSkuYWRkVGhpcyhzKS5tdWxUaGlzKC41KSxpPXMuc3ViKG4pLmxlbmd0aCgpO3RoaXMuY29uc3RydWN0RWxsaXB0aWNBcmNFbmRQb2ludHNDZW50ZXIodCxlLGksMSwwLCEwLCExLG4pLHRoaXMubV9pbnRlcmlvci5hc3NpZ24ocyl9cmV0dXJuIHRoaXMuc2V0UHJvamVjdGlvbkJlaGF2aW9yKDApLHRoaXN9Y29uc3QgXz1tLnNxcigpLmFkZFRoaXNFKGwuc3FyKCkpLm11bFRoaXNFKHUpLHA9Yy5zcXIoKS5hZGRUaGlzRShnLnNxcigpKS5tdWxUaGlzRSh1KSxmPV8ubXVsRShnKS5zdWJUaGlzRShwLm11bEUobCkpLFA9bS5tdWxFKHApLnN1YlRoaXNFKGMubXVsRShfKSk7Zi5kaXZUaGlzRShkKSxQLmRpdlRoaXNFKGQpO2NvbnN0IHk9Zi5zcXIoKS5hZGRUaGlzRShQLnNxcigpKTt5LnNxcnRUaGlzKCk7Y29uc3QgeD1mLmFkZEUobiksQz1QLmFkZEUobyk7bGV0IHY9dC54LXgudmFsdWUoKSxiPXQueS1DLnZhbHVlKCk7Y29uc3QgUz1NYXRoLmF0YW4yKGIsdik7dj1lLngteC52YWx1ZSgpLGI9ZS55LUMudmFsdWUoKTtjb25zdCBFPU1hdGguYXRhbjIoYix2KTt2PXMueC14LnZhbHVlKCksYj1zLnktQy52YWx1ZSgpO2NvbnN0IEQ9TWF0aC5hdGFuMihiLHYpO2xldCB3PUQtMip3dCgpO2Zvcig7dzxTOyl3Kz0yKnd0KCk7bGV0IEE9RS0yKnd0KCk7Zm9yKDtBPHc7KUErPTIqd3QoKTtsZXQgVD1EKzIqd3QoKTtmb3IoO1Q+UzspVC09Mip3dCgpO2xldCBJLE09RSsyKnd0KCk7Zm9yKDtNPlQ7KU0tPTIqd3QoKTtJPUEtUzxTLU0/QS1TOk0tUztjb25zdCBZPW5ldyBRKHgudmFsdWUoKSxDLnZhbHVlKCkpO3JldHVybiB0aGlzLmNvbnN0cnVjdEVsbGlwdGljQXJjRW5kUG9pbnRzQ2VudGVyKHQsZSx5LnZhbHVlKCksMSwwLE1hdGguYWJzKEkpPnd0KCksST4wLFkpLHRoaXMubV9pbnRlcmlvci5hc3NpZ24ocyksdGhpcy5zZXRQcm9qZWN0aW9uQmVoYXZpb3IoMCksdGhpcy5hZnRlckNvbXBsZXRlZE1vZGlmaWNhdGlvbigpLHRoaXN9Y29uc3RydWN0Q2lyY3VsYXJBcmModCxlLHMsbil7cmV0dXJuIHRoaXMuY29uc3RydWN0RWxsaXB0aWNBcmNHZW5lcmFsKHQsMSxlLHMsbiwwKSx0aGlzLnNldFByb2plY3Rpb25CZWhhdmlvcigwKSx0aGlzLmFmdGVyQ29tcGxldGVkTW9kaWZpY2F0aW9uKCksdGhpc31jb25zdHJ1Y3RFbGxpcHRpY0FyY0VuZFBvaW50cyh0LGUscyxuLGkscixvKXtyZXR1cm4gdnUodGhpcyx0LGUscyxuLGkscixvKX1jb25zdHJ1Y3RFbGxpcHRpY0FyY0VuZFBvaW50c0NlbnRlcih0LGUscyxuLGkscixvLGEpe3JldHVybiB2dSh0aGlzLHQsZSxzLG4saSxyLG8sYSl9Y29uc3RydWN0RWxsaXB0aWNBcmNHZW5lcmFsKHQsZSxzLG4saSxyKXt0aGlzLm1fc2VtaU1ham9yQXhpcz1NYXRoLmFicyh0KSx0aGlzLm1fbWlub3JNYWpvclJhdGlvPU1hdGguYWJzKGUpLHRoaXMubV9taW5vck1ham9yUmF0aW8+MSYmKHRoaXMubV9zZW1pTWFqb3JBeGlzKj10aGlzLm1fbWlub3JNYWpvclJhdGlvLHRoaXMubV9taW5vck1ham9yUmF0aW89MS90aGlzLm1fbWlub3JNYWpvclJhdGlvKTtjb25zdCBvPU1oKHIpLGE9TWF0aC5jb3MobyksaD1NYXRoLnNpbihvKSx1PW5ldyBRKHRoaXMubV9zZW1pTWFqb3JBeGlzLHRoaXMubV9taW5vck1ham9yUmF0aW8qdGhpcy5tX3NlbWlNYWpvckF4aXMpLG09US5nZXROQU4oKSxsPU1oKG4pO20ueD11LngqTWF0aC5jb3MobCksbS55PXUueSpNYXRoLnNpbihsKSxtLnJvdGF0ZURpcmVjdChhLGgpLG0uYWRkVGhpcyhzKTtjb25zdCBjPUF0KGksa3QoKSk7bGV0IGc9YztNYXRoLmFicyhnKT09PWt0KCkmJihnPTApO2NvbnN0IGQ9US5nZXROQU4oKTtyZXR1cm4gZC54PXUueCpNYXRoLmNvcyhsK2cpLGQueT11LnkqTWF0aC5zaW4obCtnKSxkLnJvdGF0ZURpcmVjdChhLGgpLGQuYWRkVGhpcyhzKSx0aGlzLmNvbnN0cnVjdEVsbGlwdGljQXJjRW5kUG9pbnRzQ2VudGVyKG0sZCx0aGlzLm1fc2VtaU1ham9yQXhpcyx0aGlzLm1fbWlub3JNYWpvclJhdGlvLG8sTWF0aC5hYnMoYyk+d3QoKSxjPjAscyl9Y29uc3RydWN0RWxsaXB0aWNBcmNBc05VUkIodCxzLG4saSl7KGk+PTF8fGk8MCkmJmUoXCJjb25zdHJ1Y3RfZWxsaXB0aWNfYXJjX2FzX05VUkI6IHdlaWdodFwiKSxzLmlzRmluaXRlKCl8fGUoXCJjb25zdHJ1Y3RfZWxsaXB0aWNfYXJjX2FzX05VUkI6IGNvbnRyb2xfcG9pbnRcIik7cmV0dXJuIGt1KFt0LHMsbl0saSppLG51bGwsITEsdGhpcyksdGhpc31jb25zdHJ1Y3RDYW5vbmljKHQpe3JldHVybiB0aGlzLmFzc2lnbkNvcHkodCksdC5pc0RlZ2VuZXJhdGVUb0xpbmUoKXx8dC5tX2NlbnRlci5pc0VxdWFsKDAsMCkmJjA9PT10aGlzLm1fcm90YXRpb258fCh0aGlzLm1fWFN0YXJ0PXQuZ2V0U2VtaU1ham9yQXhpcygpKk1hdGguY29zKHQubV9zdGFydEFuZ2xlKSx0aGlzLm1fWVN0YXJ0PXQuZ2V0U2VtaU1pbm9yQXhpcygpKk1hdGguc2luKHQubV9zdGFydEFuZ2xlKSx0aGlzLm1fWEVuZD10LmdldFNlbWlNYWpvckF4aXMoKSpNYXRoLmNvcyh0LmdldEVuZEFuZ2xlKCkpLHRoaXMubV9ZRW5kPXQuZ2V0U2VtaU1pbm9yQXhpcygpKk1hdGguc2luKHQuZ2V0RW5kQW5nbGUoKSksdGhpcy5tX2NlbnRlci5zZXRDb29yZHMoMCwwKSx0aGlzLm1fcm90YXRpb249MCx0aGlzLm1fY29zcj0xLHRoaXMubV9zaW5yPTAsSHUodGhpcyksdGhpcy5hZnRlckNvbXBsZXRlZE1vZGlmaWNhdGlvbigpLHQhPT10aGlzJiZzcyh0aGlzLHQpKSx0aGlzfWlzQ2lyY3VsYXIoKXtyZXR1cm4gMT09PXRoaXMubV9taW5vck1ham9yUmF0aW8mJjA9PT10aGlzLm1fcm90YXRpb24mJiF0aGlzLmlzRGVnZW5lcmF0ZVRvTGluZSgpfWlzRGVnZW5lcmF0ZVRvTGluZUhlbHBlcih0KXtpZih0aGlzLmlzTGluZSgpKXJldHVybiEwO2lmKHRoaXMuaXNNYWpvcigpKXJldHVybiExO2NvbnN0IGU9dGhpcy5nZXRFbmRYWSgpLnN1Yih0aGlzLmdldFN0YXJ0WFkoKSkubGVuZ3RoKCk7cmV0dXJuISh0aGlzLmNhbGN1bGF0ZUxlbmd0aDJEKCktZT50KX1pc0RlZ2VuZXJhdGVUb0xpbmUoKXtyZXR1cm4gU3UodGhpcyl9Z2V0Q2VudGVyKCl7cmV0dXJuIHRoaXMubV9jZW50ZXIuY2xvbmUoKX1zZXRDZW50ZXIodCl7aWYoIXRoaXMubV9jZW50ZXIuaXNOQU4oKSl7Y29uc3QgZT10LnN1Yih0aGlzLm1fY2VudGVyKTt0aGlzLm1fWFN0YXJ0Kz1lLngsdGhpcy5tX1lTdGFydCs9ZS55LHRoaXMubV9YRW5kKz1lLngsdGhpcy5tX1lFbmQrPWUueSx0aGlzLm1faW50ZXJpb3IuYWRkVGhpcyhlKSx0aGlzLm1fY2VudGVyLmFzc2lnbih0KSx0aGlzLmVuZFBvaW50TW9kaWZpZWQoKSx0aGlzLm5vcm1hbGl6ZUFmdGVyRW5kcG9pbnRDaGFuZ2UoKX19Z2V0QXhpc1hSb3RhdGlvbigpe3JldHVybiB0aGlzLm1fcm90YXRpb259Z2V0U2VtaUF4ZXMoKXtyZXR1cm4gUS5jb25zdHJ1Y3QodGhpcy5tX3NlbWlNYWpvckF4aXMsdGhpcy5tX3NlbWlNYWpvckF4aXMqdGhpcy5tX21pbm9yTWFqb3JSYXRpbyl9Z2V0U2VtaU1ham9yQXhpcygpe3JldHVybiB0aGlzLm1fc2VtaU1ham9yQXhpc31nZXRTZW1pTWlub3JBeGlzKCl7cmV0dXJuIHRoaXMubV9zZW1pTWFqb3JBeGlzKnRoaXMubV9taW5vck1ham9yUmF0aW99Z2V0TWlub3JNYWpvclJhdGlvKCl7cmV0dXJuIHRoaXMubV9taW5vck1ham9yUmF0aW99aXNDbG9ja3dpc2UoKXtyZXR1cm4hWHUodGhpcyl9aXNNYWpvcigpe3JldHVybiBGdSh0aGlzKX1nZXRTd2VlcEFuZ2xlKCl7cmV0dXJuIHRoaXMubV9zd2VlcEFuZ2xlfWdldFN0YXJ0QW5nbGUoKXtyZXR1cm4gdGhpcy5tX3N0YXJ0QW5nbGV9Z2V0RW5kQW5nbGUoKXtyZXR1cm4gdGhpcy5tX3N0YXJ0QW5nbGUrdGhpcy5tX3N3ZWVwQW5nbGV9Z2V0R2VvbWV0cnlUeXBlKCl7cmV0dXJuIGkuZW51bUVsbGlwdGljQXJjfXF1ZXJ5RW52ZWxvcGUodCl7aWYoND09PXQubV9FbnZlbG9wZVR5cGUpe3Quc2V0RW1wdHkoKSx0LmFzc2lnblZlcnRleERlc2NyaXB0aW9uKHRoaXMubV9kZXNjcmlwdGlvbik7Y29uc3QgZT1tZS5jb25zdHJ1Y3RFbXB0eSgpO3RoaXMucXVlcnlFbnZlbG9wZShlKSx0LnNldEVudmVsb3BlKGUpO2ZvcihsZXQgcz0xLG49dGhpcy5tX2Rlc2NyaXB0aW9uLmdldEF0dHJpYnV0ZUNvdW50KCk7czxuO3MrKyl7Y29uc3QgZT10aGlzLm1fZGVzY3JpcHRpb24uZ2V0U2VtYW50aWNzKHMpO2ZvcihsZXQgbj0wLGk9TmguZ2V0Q29tcG9uZW50Q291bnQoZSk7czxpO3MrKyl7Y29uc3Qgcz10aGlzLnF1ZXJ5SW50ZXJ2YWwoZSxuKTt0LnNldEludGVydmFsRW52ZWxvcGUoZSxuLHMpfX19ZWxzZSAyPT09dC5tX0VudmVsb3BlVHlwZT9LdSh0aGlzLEgudW5pdCgpLHQpOmEoXCIzZCBub3QgaW1wbFwiKX1hcHBseVRyYW5zZm9ybWF0aW9uKHQpe0F1KHRoaXMsdCwhMSxudWxsLG51bGwpfWNyZWF0ZUluc3RhbmNlKCl7cmV0dXJuIG5ldyBYaH1jYWxjdWxhdGVMZW5ndGgyRCgpe3JldHVybiBwdSh0aGlzLDAsMSl9cXVlcnlDb250cm9sUG9pbnRzSGVscGVyKHQpe2goXCJcIil9cXVlcnlDb29yZDJEKHQsZSl7aWYoU3UodGhpcykpcHModCx0aGlzLmdldFN0YXJ0WFkoKSx0aGlzLmdldEVuZFhZKCksZSk7ZWxzZSBpZigwPT09dCllLmFzc2lnbihRLmNvbnN0cnVjdCh0aGlzLm1fWFN0YXJ0LHRoaXMubV9ZU3RhcnQpKTtlbHNlIGlmKDE9PT10KWUuYXNzaWduKFEuY29uc3RydWN0KHRoaXMubV9YRW5kLHRoaXMubV9ZRW5kKSk7ZWxzZXtjb25zdCBzPWN1KHRoaXMsdCksbj1uZXcgUSh0aGlzLm1fc2VtaU1ham9yQXhpcypNYXRoLmNvcyhzKSx0aGlzLmdldFNlbWlNaW5vckF4aXMoKSpNYXRoLnNpbihzKSk7bi5yb3RhdGVEaXJlY3QodGhpcy5tX2Nvc3IsdGhpcy5tX3NpbnIpLG4uYWRkVGhpcyh0aGlzLm1fY2VudGVyKSxlLmFzc2lnbihuKX19cXVlcnlDb29yZDJERSh0LGUpe251KHRoaXMsdCxlKX1xdWVyeUNvb3JkMkRNUCh0LGUpe2EoXCJcIil9Z2V0Q29vcmRYKHQpe2NvbnN0IGU9bmV3IFE7cmV0dXJuIHRoaXMucXVlcnlDb29yZDJEKHQsZSksZS54fWdldENvb3JkWSh0KXtjb25zdCBlPW5ldyBRO3JldHVybiB0aGlzLnF1ZXJ5Q29vcmQyRCh0LGUpLGUueX1jdXQodCxlLHMpe2NvbnN0IG49bmV3IGZtO3JldHVybiB0aGlzLnF1ZXJ5Q3V0KHQsZSxuLHMpLG4ucmVsZWFzZVNlZ21lbnQoKX1xdWVyeUN1dCh0LGUscyxuKXtjb25zdCBpPXMuY3JlYXRlRWxsaXB0aWNBcmMoKTtuJiZpLmRyb3BBbGxBdHRyaWJ1dGVzKCk7bGV0IHI9MD09PXQmJjE9PT1lO2lmKHImJiFuKXJldHVybiB2b2lkIHRoaXMuY29weVRvKGkpO2NvbnN0IG89US5nZXROQU4oKTt0aGlzLnF1ZXJ5Q29vcmQyRCh0LG8pO2NvbnN0IGE9US5nZXROQU4oKTtpZih0aGlzLnF1ZXJ5Q29vcmQyRChlLGEpLCFyKWlmKG8uZXF1YWxzKGEpKWUtdD4uNSYmdGhpcy5pc01ham9yKCkmJnRoaXMuaXNDbG9zZWQoKT8ocj0hMCx0PTAsZT0xKToxPT09ZT90PWU6ZT10O2Vsc2UgaWYodD4wJiZvLmlzRXF1YWwodGhpcy5tX1hTdGFydCx0aGlzLm1fWVN0YXJ0KSYmKHQ9MCksZTwxJiZhLmlzRXF1YWwodGhpcy5tX1hFbmQsdGhpcy5tX1lFbmQpJiYoZT0xKSxyPTA9PT10JiYxPT09ZSxyJiYhbilyZXR1cm4gdm9pZCB0aGlzLmNvcHlUbyhpKTtpZihpLm1fY2VudGVyLmFzc2lnbih0aGlzLm1fY2VudGVyKSxpLm1fc2VtaU1ham9yQXhpcz10aGlzLm1fc2VtaU1ham9yQXhpcyxpLm1fbWlub3JNYWpvclJhdGlvPXRoaXMubV9taW5vck1ham9yUmF0aW8saS5tX2ludGVyaW9yLmFzc2lnbih0aGlzLm1faW50ZXJpb3IpLGkubV9yb3RhdGlvbj10aGlzLm1fcm90YXRpb24saS5tX2Nvc3I9dGhpcy5tX2Nvc3IsaS5tX3NpbnI9dGhpcy5tX3NpbnIsaS5tX3N3ZWVwQW5nbGU9dGhpcy5tX3N3ZWVwQW5nbGUsaS5tX3N0YXJ0QW5nbGU9dGhpcy5tX3N0YXJ0QW5nbGUsaS5tX2JpdHM9dGhpcy5tX2JpdHMsamUoaSxvLngsby55KSxIZShpLGEueCxhLnkpLHIpcmV0dXJuIHZvaWQgSXUoaSxmdSh0aGlzKSk7aS5tX3N0YXJ0QW5nbGU9Y3UodGhpcyx0KSxpLm1fc3dlZXBBbmdsZT1jdSh0aGlzLGUpLWkubV9zdGFydEFuZ2xlLGkubV9zdGFydEFuZ2xlPWF1KGkubV9zdGFydEFuZ2xlKSxxdShpLE1hdGguYWJzKGkubV9zd2VlcEFuZ2xlKT53dCgpKSxuJiZpLmFzc2lnblZlcnRleERlc2NyaXB0aW9uKHRoaXMubV9kZXNjcmlwdGlvbiksSHUoaSksbXUoaSk7Y29uc3QgaD10aGlzLm1fZGVzY3JpcHRpb24uZ2V0QXR0cmlidXRlQ291bnQoKTtpZihoPjEmJiFuKXtmb3IobGV0IGU9MTtlPGg7ZSsrKXtjb25zdCBzPXRoaXMubV9kZXNjcmlwdGlvbi5nZXRTZW1hbnRpY3MoZSksbj1OaC5nZXRDb21wb25lbnRDb3VudChzKTtmb3IobGV0IGU9MDtlPG47ZSsrKXtjb25zdCBuPXRoaXMuZ2V0QXR0cmlidXRlQXNEYmwodCxzLGUpO2kuc2V0U3RhcnRBdHRyaWJ1dGUocyxlLG4pfX1mb3IobGV0IHQ9MTt0PGg7dCsrKXtjb25zdCBzPXRoaXMubV9kZXNjcmlwdGlvbi5nZXRTZW1hbnRpY3ModCksbj1OaC5nZXRDb21wb25lbnRDb3VudChzKTtmb3IobGV0IHQ9MDt0PG47dCsrKXtjb25zdCBuPXRoaXMuZ2V0QXR0cmlidXRlQXNEYmwoZSxzLHQpO2kuc2V0RW5kQXR0cmlidXRlKHMsdCxuKX19fWkuYWZ0ZXJDb21wbGV0ZWRNb2RpZmljYXRpb24oKX1xdWVyeURlcml2YXRpdmUodCxlKXtzbSh0aGlzLHQsZSl9Y3V0QXJjSWdub3JlQXR0cmlidXRlcyh0LGUscyl7bGV0IG49MD09PXQmJjE9PT1lO2NvbnN0IGk9bmV3IFE7dGhpcy5xdWVyeUNvb3JkMkQodCxpKTtjb25zdCByPW5ldyBRO3RoaXMucXVlcnlDb29yZDJEKGUsciksbnx8KGkuZXF1YWxzKHIpP2UtdD4uNSYmdGhpcy5pc01ham9yKCkmJnRoaXMuaXNDbG9zZWQoKT8obj0hMCx0PTAsZT0xKToxPT09ZT90PWU6ZT10Oih0PjAmJmkuaXNFcXVhbCh0aGlzLm1fWFN0YXJ0LHRoaXMubV9ZU3RhcnQpJiYodD0wKSxlPDEmJnIuaXNFcXVhbCh0aGlzLm1fWEVuZCx0aGlzLm1fWUVuZCkmJihlPTEpLG49MD09PXQmJjE9PT1lKSkscy5tX2NlbnRlci5hc3NpZ24odGhpcy5tX2NlbnRlcikscy5tX3NlbWlNYWpvckF4aXM9dGhpcy5tX3NlbWlNYWpvckF4aXMscy5tX21pbm9yTWFqb3JSYXRpbz10aGlzLm1fbWlub3JNYWpvclJhdGlvLHMubV9pbnRlcmlvci5hc3NpZ24odGhpcy5tX2ludGVyaW9yKSxzLm1fcm90YXRpb249dGhpcy5tX3JvdGF0aW9uLHMubV9jb3NyPXRoaXMubV9jb3NyLHMubV9zaW5yPXRoaXMubV9zaW5yLHMubV9zd2VlcEFuZ2xlPXRoaXMubV9zd2VlcEFuZ2xlLHMubV9zdGFydEFuZ2xlPXRoaXMubV9zdGFydEFuZ2xlLHMubV9iaXRzPXRoaXMubV9iaXRzLGplKHMsaS54LGkueSksSGUocyxyLngsci55KSxuP0l1KHMsZnUodGhpcykpOihzLm1fc3RhcnRBbmdsZT1jdSh0aGlzLHQpLHMubV9zd2VlcEFuZ2xlPWN1KHRoaXMsZSktcy5tX3N0YXJ0QW5nbGUscy5tX3N0YXJ0QW5nbGU9YXUocy5tX3N0YXJ0QW5nbGUpLHF1KHMsTWF0aC5hYnMocy5tX3N3ZWVwQW5nbGUpPk1hdGguUEkpLEh1KHMpLHMuYWZ0ZXJDb21wbGV0ZWRNb2RpZmljYXRpb24oKSl9Y2hhbmdlRW5kUG9pbnRzMkQodCxlKXt5dSh0aGlzLHQsZSwhMSl9Z2V0QXR0cmlidXRlQXNEYmwodCxlLHMpe2lmKDA9PT1lKXJldHVybiAwPT09cz90aGlzLmdldENvb3JkWCh0KTp0aGlzLmdldENvb3JkWSh0KTtpZigwPT09dClyZXR1cm4gdGhpcy5nZXRTdGFydEF0dHJpYnV0ZUFzRGJsKGUscyk7aWYoMT09PXQpcmV0dXJuIHRoaXMuZ2V0RW5kQXR0cmlidXRlQXNEYmwoZSxzKTtjb25zdCBuPXRoaXMuY2FsY3VsYXRlTGVuZ3RoMkQoKSxpPW4+MD90aGlzLnRUb0xlbmd0aCh0KS9uOjAscj1OaC5nZXRJbnRlcnBvbGF0aW9uKGUpLG89dGhpcy5nZXRTdGFydEF0dHJpYnV0ZUFzRGJsKGUscyksYT10aGlzLmdldEVuZEF0dHJpYnV0ZUFzRGJsKGUscyk7cmV0dXJuIEN0KHIsbyxhLGksTmguZ2V0RGVmYXVsdFZhbHVlKGUpKX1nZXRDbG9zZXN0Q29vcmRpbmF0ZSh0LGUpe3JldHVybiAkdSh0aGlzLHQsSC51bml0KCksZSl9Z2V0Q2xvc2VzdENvb3JkaW5hdGVPbkludGVydmFsKHQsZSxzPS0xKXtyZXR1cm4gJHUodGhpcyx0LGUsITEpfWdldFlNb25vdG9uaWNQYXJ0cyh0LG49ITEpe3QubGVuZ3RoPDImJmUoXCJcIik7Y29uc3QgaT10aGlzLmdldFNlbWlBeGVzKCkscj1NYXRoLmF0YW4yKGkueSp0aGlzLm1fY29zcixpLngqdGhpcy5tX3NpbnIpLG89cit3dCgpLGE9VSgzLE51bWJlci5OYU4pO2xldCBoPTA7aWYoYVswXT1sdSh0aGlzLHIpLGFbMF0+MCYmYVswXTwxJiZoKyssYVsxXT1sdSh0aGlzLG8pLGFbMV0+MCYmYVsxXTwxJiYoYVtoXT1hWzFdLGgrKyksMD09PWgpcmV0dXJuIDA7YVtoXT0xLGgrKyxzKHQubGVuZ3RoPj1oKTtsZXQgdT0wO2ZvcihsZXQgZT0wO2U8aDtlKyspe2NvbnN0IHM9YVtlXTt0aGlzLnF1ZXJ5Q3V0KHUscyx0W2VdLG4pLHU9c31yZXR1cm4gaH1nZXRNb25vdG9uaWNQYXJ0cyh0LG4pe2lmKHQubGVuZ3RoPDQmJmUoXCJcIiksdGhpcy5pc0RlZ2VuZXJhdGVUb0xpbmUoKSlyZXR1cm4gdFswXS5jcmVhdGVFbGxpcHRpY0FyYygpLmFzc2lnbkNvcHkodGhpcyksbiYmdFswXS5nZXQoKS5kcm9wQWxsQXR0cmlidXRlcygpLDE7Y29uc3QgaT10aGlzLmdldFNlbWlBeGVzKCkscj1VKDQsTnVtYmVyLk5hTik7clswXT1NYXRoLmF0YW4yKGkueSp0aGlzLm1fY29zcixpLngqdGhpcy5tX3NpbnIpLHJbMV09clswXSt3dCgpLHJbMl09TWF0aC5hdGFuMigtaS55KnRoaXMubV9zaW5yLGkueCp0aGlzLm1fY29zciksclszXT1yWzJdK3d0KCk7Y29uc3Qgbz1VKDUsTnVtYmVyLk5hTik7bGV0IGE9MDtmb3IobGV0IGU9MDtlPDQ7ZSsrKW9bYV09bHUodGhpcyxyW2VdKSxvW2FdPjAmJm9bYV08MSYmYSsrO2lmKDA9PT1hKXJldHVybiAwO0V0KG8sYSksb1thLTFdPDEmJihvW2FdPTEsYSsrKSxzKHQubGVuZ3RoPj1hKTtsZXQgaD0wO2ZvcihsZXQgZT0wO2U8YTtlKyspe2NvbnN0IHM9b1tlXTt0aGlzLnF1ZXJ5Q3V0KGgscyx0W2VdLG4pLGg9c31yZXR1cm4gYX1pbnRlcnNlY3Rpb25XaXRoQXhpczJEKHQsZSxzLG4pe2lmKFN1KHRoaXMpKXtyZXR1cm4gbmV3IHBtKHtzdGFydDp0aGlzLmdldFN0YXJ0WFkoKSxlbmQ6dGhpcy5nZXRFbmRYWSgpfSkuaW50ZXJzZWN0aW9uV2l0aEF4aXMyRCh0LGUscyxuKX1sZXQgaSxyO2NvbnN0IG89bmV3IGF0KGUpLGE9dGhpcy5nZXRTZW1pQXhlcygpO2lmKHQpe2lmKGU+dGhpcy5tX2NlbnRlci55K2EueHx8ZTx0aGlzLm1fY2VudGVyLnktYS54KXJldHVybiAwO2k9bmV3IGF0KGEueCkubXVsVGhpcyh0aGlzLm1fc2lucikscj1uZXcgYXQoYS55KS5tdWxUaGlzKHRoaXMubV9jb3NyKSxvLnN1YlRoaXModGhpcy5tX2NlbnRlci55KX1lbHNle2lmKGU+dGhpcy5tX2NlbnRlci54K2EueHx8ZTx0aGlzLm1fY2VudGVyLngtYS54KXJldHVybiAwO2k9bmV3IGF0KGEueCkubXVsVGhpcyh0aGlzLm1fY29zcikscj1uZXcgYXQoYS55KS5tdWxUaGlzKC10aGlzLm1fc2luciksby5zdWJUaGlzKHRoaXMubV9jZW50ZXIueCl9Y29uc3QgaD1pLnNxcigpLHU9ci5zcXIoKSxtPWguYWRkRSh1KSxsPXIubXVsRShvKS5tdWxUaGlzKC0yKSxjPW8uc3FyKCkuc3ViVGhpc0UoaCksZz1sLnNxcigpLnN1YlRoaXNFKG0ubXVsRShjKS5tdWxUaGlzKDQpKSxkPWkubXVsRShvKS5tdWxUaGlzKC0yKSxfPW8uc3FyKCkuc3ViVGhpc0UodSkscD1kLnNxcigpLnN1YlRoaXNFKG0ubXVsRShfKS5tdWxUaGlzKDQpKTtsZXQgZj1nLmVwcygpKk1hdGguYWJzKHAudmFsdWUoKSk8PXAuZXBzKCkqTWF0aC5hYnMoZy52YWx1ZSgpKTtmP2kuaXNaZXJvKCkmJihmPSExKTpyLmlzWmVybygpJiYoZj0hMCksZnx8KGwuc2V0RShkKSxjLnNldEUoXykpO2NvbnN0IFA9bHQoYXQsMik7bGV0IHk9Z24obSxsLGMsSC5jb25zdHJ1Y3QoLTEsMSksITEsUCk7aWYoMD09PXkpcmV0dXJuIDA7Y29uc3QgeD1bMCwwXTtsZXQgQz0wO2ZvcihsZXQgdj0wO3Y8eTt2Kyspe2NvbnN0IHQ9bmV3IGF0LGU9bmV3IGF0O2Y/KHQuc2V0RShQW3ZdKSxlLnNldEUoby5zdWJFKHIubXVsRShQW3ZdKSkuZGl2VGhpc0UoaSkpKTooZS5zZXRFKFBbdl0pLHQuc2V0RShvLnN1YkUoaS5tdWxFKFBbdl0pKS5kaXZUaGlzRShyKSkpO2NvbnN0IHM9bHUodGhpcyxNYXRoLmF0YW4yKHQudmFsdWUoKSxlLnZhbHVlKCkpKTtzPj0wJiZzPD0xJiYoeFtDXT1zLEMrKyl9cmV0dXJuIHk9QywwPT09eT8wOigyPT09eSYmeFswXT54WzFdJiYoeFsxXT1ldCh4WzBdLHhbMF09eFsxXSkpLG4mJksobix4LDAsMCx5KSxzJiYoc1swXT10P3RoaXMuZ2V0Q29vcmRYKHhbMF0pOnRoaXMuZ2V0Q29vcmRZKHhbMF0pLHk+MSYmKHNbMV09dD90aGlzLmdldENvb3JkWCh4WzFdKTp0aGlzLmdldENvb3JkWSh4WzFdKSwhbiYmc1swXT5zWzFdJiYoc1sxXT1ldChzWzBdLHNbMF09c1sxXSkpKSkseSl9aW50ZXJzZWN0aW9uT2ZZTW9ub3RvbmljV2l0aEF4aXNYKHQsZSl7aWYodGhpcy5tX1lTdGFydD09PXRoaXMubV9ZRW5kKXJldHVybiB0PT09dGhpcy5tX1lTdGFydD9lOk51bWJlci5OYU47aWYodD09PXRoaXMubV9ZU3RhcnQpcmV0dXJuIHRoaXMubV9YU3RhcnQ7aWYodD09PXRoaXMubV9ZRW5kKXJldHVybiB0aGlzLm1fWEVuZDtjb25zdCBzPVswLDBdO3JldHVybi0xPT09dGhpcy5pbnRlcnNlY3Rpb25XaXRoQXhpczJEKCEwLHQscyxudWxsKT9lOnNbMF19aXNDdXJ2ZSgpe3JldHVybiEwfWlzRGVnZW5lcmF0ZSh0KXtyZXR1cm4gUmUodGhpcyx0KX1pc0RlZ2VuZXJhdGUzRCh0LGUpe3JldHVybiBzKDApLCExfXF1ZXJ5TG9vc2VFbnZlbG9wZSh0KXszIT09dC5tX0VudmVsb3BlVHlwZT90aGlzLnF1ZXJ5TG9vc2VFbnZlbG9wZU9uSW50ZXJ2YWwobmV3IEgoMCwxKSx0KTphKFwiM2Qgbm90IGltcGxcIil9Y2xvbmUodCl7Y29uc3QgZT1uZXcgWGg7cmV0dXJuIHRoaXMuY29weVRvKGUpLGV9cXVlcnlJbnRlcnZhbCh0LGUpe2lmKDA9PT10KXtpZihTdSh0aGlzKSlyZXR1cm4gMD09PWU/SC5jb25zdHJ1Y3QodGhpcy5nZXRTdGFydFgoKSx0aGlzLmdldEVuZFgoKSk6SC5jb25zdHJ1Y3QodGhpcy5nZXRTdGFydFkoKSx0aGlzLmdldEVuZFkoKSk7bGV0IHQ7Y29uc3Qgcz10aGlzLmdldFNlbWlBeGVzKCk7dD0wPT09ZT9NYXRoLmF0YW4yKC1zLnkqdGhpcy5tX3NpbnIscy54KnRoaXMubV9jb3NyKTpNYXRoLmF0YW4yKHMueSp0aGlzLm1fY29zcixzLngqdGhpcy5tX3NpbnIpO2NvbnN0IG49dCtNYXRoLlBJLGk9WzAsMF07aVswXT1sdSh0aGlzLHQpLGlbMV09bHUodGhpcyxuKTtjb25zdCByPTA9PT1lP0guY29uc3RydWN0KHRoaXMuZ2V0U3RhcnRYKCksdGhpcy5nZXRFbmRYKCkpOkguY29uc3RydWN0KHRoaXMuZ2V0U3RhcnRZKCksdGhpcy5nZXRFbmRZKCkpLG89bmV3IFE7Zm9yKGxldCBhPTA7YTwyO2ErKyl7Y29uc3QgdD1pW2FdO3Q+MCYmdDwxJiYodGhpcy5xdWVyeUNvb3JkMkQodCxvKSxyLm1lcmdlTmVDb29yZGluYXRlKDA9PT1lP28ueDpvLnkpKX1yZXR1cm4gcn1yZXR1cm4gc3VwZXIucXVlcnlJbnRlcnZhbCh0LGUpfXF1ZXJ5TG9vc2VFbnZlbG9wZU9uSW50ZXJ2YWwodCxlKXtjb25zdCBzPW5ldyBIKDAsMSk7aWYocy5pbnRlcnNlY3QodCkscy5pc0VtcHR5KCkpcmV0dXJuIHZvaWQgZS5zZXRFbXB0eSgpO2lmKFN1KHRoaXMpKXJldHVybiBlLnNldENvb3Jkcyh0aGlzLmdldENvb3JkMkQocy52bWluKSksdm9pZCBlLm1lcmdlTmUodGhpcy5nZXRDb29yZDJEKHMudm1heCkpO2NvbnN0IG49dGhpcy5nZXRDb29yZDJEKHMudm1pbiksaT10aGlzLmdldENvb3JkMkQocy52bWF4KTtpZigxPT09dGhpcy5tX21pbm9yTWFqb3JSYXRpbyYmTWF0aC5hYnModGhpcy5tX3N3ZWVwQW5nbGUpKnMud2lkdGgoKTw9VHQpe2xldCB0PVEubGVycChuLGksLjUpO2NvbnN0IHM9dC5zdWIodGhpcy5tX2NlbnRlcik7cmV0dXJuIHMubm9ybWFsaXplKCksdD10LmFkZChzLm11bCguNSpRLmRpc3RhbmNlKG4saSkpKSxlLnNldENvb3JkcyhuKSxlLm1lcmdlTmUoaSksdm9pZCBlLm1lcmdlTmUodCl9S3UodGhpcyxzLGUpfXRUb0xlbmd0aCh0KXtyZXR1cm4gU3UodGhpcyk/dCpRLmRpc3RhbmNlKHRoaXMuZ2V0U3RhcnRYWSgpLHRoaXMuZ2V0RW5kWFkoKSk6MT09PXRoaXMubV9taW5vck1ham9yUmF0aW8/TWF0aC5hYnModGhpcy5nZXRTd2VlcEFuZ2xlKCkqdCkqdGhpcy5tX3NlbWlNYWpvckF4aXM6RXUodGhpcyx0KX1wYXJhbWV0cmljQW5nbGVUb1QodCl7cmV0dXJuIGx1KHRoaXMsdCl9dFRvUGFyYW1ldHJpY0FuZ2xlKHQpe3JldHVybiBjdSh0aGlzLHQpfWxlbmd0aFRvVCh0KXtpZihTdSh0aGlzKSl7Y29uc3QgZT1RLmRpc3RhbmNlKHRoaXMuZ2V0U3RhcnRYWSgpLHRoaXMuZ2V0RW5kWFkoKSk7cmV0dXJuIDA9PT1lPzA6dC9lfWlmKDE9PT10aGlzLm1fbWlub3JNYWpvclJhdGlvKXtjb25zdCBlPU1hdGguYWJzKHRoaXMuZ2V0U3dlZXBBbmdsZSgpKSp0aGlzLm1fc2VtaU1ham9yQXhpcztyZXR1cm4gMD09PWU/MDp0L2V9cmV0dXJuIER1KHRoaXMsdCl9Y2FsY3VsYXRlV2VpZ2h0ZWRBcmVhQ2VudHJvaWQyRCh0KXtpZihTdSh0aGlzKSl7Y29uc3QgdD1uZXcgUTtyZXR1cm4gdC5zZXRDb29yZHMoMCwwKSx0fWNvbnN0IGU9WnUodGhpcykscz10aGlzLmdldFN0YXJ0WFkoKS5zdWIodGhpcy5tX2NlbnRlciksbj10aGlzLmdldEVuZFhZKCkuc3ViKHRoaXMubV9jZW50ZXIpLGk9dGhpcy5tX3NlbWlNYWpvckF4aXMscj10aGlzLmdldFNlbWlNaW5vckF4aXMoKSxvPXRoaXMubV9zdGFydEFuZ2xlK3RoaXMubV9zd2VlcEFuZ2xlLGE9bmV3IFE7YS54PWkqciooaSp0aGlzLm1fY29zciooLU1hdGguc2luKG8pK01hdGguc2luKHRoaXMubV9zdGFydEFuZ2xlKSkrciooLU1hdGguY29zKG8pK01hdGguY29zKHRoaXMubV9zdGFydEFuZ2xlKSkqdGhpcy5tX3NpbnIpLzMsYS55PWkqcioociooTWF0aC5jb3MobyktTWF0aC5jb3ModGhpcy5tX3N0YXJ0QW5nbGUpKSp0aGlzLm1fY29zcitpKigtTWF0aC5zaW4obykrTWF0aC5zaW4odGhpcy5tX3N0YXJ0QW5nbGUpKSp0aGlzLm1fc2lucikvMztjb25zdCBoPW4uYWRkKHMpLm11bChuLmNyb3NzUHJvZHVjdChzKS82KTtyZXR1cm4gYS54LT1oLngsYS55LT1oLnksYS5hZGQodGhpcy5tX2NlbnRlci5zdWIodCkubXVsKGUpKX1jYWxjdWxhdGVXZWlnaHRlZENlbnRyb2lkMkQoKXtjb25zdCB0PW5ldyBRO2lmKHRoaXMuaXNEZWdlbmVyYXRlKDApKXJldHVybiB0LnNldENvb3JkcygwLDApLHQ7aWYoU3UodGhpcykpcmV0dXJuIHQuYXNzaWduKHRoaXMuZ2V0Q29vcmQyRCguNSkubXVsKHRoaXMuY2FsY3VsYXRlTGVuZ3RoMkQoKSkpLHQ7bGV0IGU9dGhpcy5tX3N0YXJ0QW5nbGUscz10aGlzLm1fc3RhcnRBbmdsZSt0aGlzLm1fc3dlZXBBbmdsZTtpZihzPGUpe2NvbnN0IHQ9ZTtlPXMscz10fWNvbnN0IG49TWF0aC5zaW4oZSksaT1NYXRoLnNpbihzKSxyPU1hdGguY29zKGUpLG89TWF0aC5jb3Mocyk7aWYoMT09PXRoaXMubV9taW5vck1ham9yUmF0aW8pe2NvbnN0IGU9dGhpcy5nZXRTZW1pTWFqb3JBeGlzKCkscz1lKmUsYT1zKihpLW4pLGg9cyooci1vKTt0LnNldENvb3JkcyhhLGgpfWVsc2V7Y29uc3QgZT10aGlzLmdldFNlbWlNYWpvckF4aXMoKSxzPXRoaXMuZ2V0U2VtaU1pbm9yQXhpcygpLGE9ZSplLGg9cypzLHU9ZSpzLG09YS1oLGw9bS9oLGM9bS9hLGc9TWF0aC5zcXJ0KGwpLGQ9TWF0aC5zcXJ0KGMpLF89LjUqdSooTWF0aC5hc2luaChnKmkpL2craSpNYXRoLnNxcnQoMStsKmkqaSkpLS41KnUqKE1hdGguYXNpbmgoZypuKS9nK24qTWF0aC5zcXJ0KDErbCpuKm4pKSxwPS0uNSp1KihNYXRoLmFzaW4oZCpvKS9kK28qTWF0aC5zcXJ0KDEtYypvKm8pKS0gLS41KnUqKE1hdGguYXNpbihkKnIpL2QrcipNYXRoLnNxcnQoMS1jKnIqcikpO3Quc2V0Q29vcmRzKF8scCl9cmV0dXJuIHQucm90YXRlRGlyZWN0KHRoaXMubV9jb3NyLHRoaXMubV9zaW5yKSx0LmFzc2lnbih0LmFkZCh0aGlzLm1fY2VudGVyLm11bCh0aGlzLmNhbGN1bGF0ZUxlbmd0aDJEKCkpKSksdH1pc0ludGVyc2VjdGluZ1BvaW50KHQsZSxzKXtpZihzJiYodC5pc0VxdWFsUG9pbnQyRCh0aGlzLmdldFN0YXJ0WFkoKSl8fHQuaXNFcXVhbFBvaW50MkQodGhpcy5nZXRFbmRYWSgpKSkpcmV0dXJuITE7aWYoIVN1KHRoaXMpKXtjb25zdCBzPVEuZGlzdGFuY2UodCx0aGlzLm1fY2VudGVyKSxuPXRoaXMuZ2V0U2VtaUF4ZXMoKTtpZihzPG4ueC1lfHxzPm4ueStlKXJldHVybiExfWNvbnN0IG49dGhpcy5nZXRDbG9zZXN0Q29vcmRpbmF0ZSh0LCExKSxpPW5ldyBRO3RoaXMucXVlcnlDb29yZDJEKG4saSk7cmV0dXJuIFEuZGlzdGFuY2UoaSx0KTw9ZX1pc0ludGVyc2VjdGluZ1BvaW50M0QodCxlLG4saSxyPTEpe3JldHVybiBzKDApLCExfWdldFRhbmdlbnQodCl7aWYoU3UodGhpcykpcmV0dXJuIHRoaXMuZ2V0RW5kWFkoKS5zdWIodGhpcy5nZXRTdGFydFhZKCkpO3tjb25zdCBlPWN1KHRoaXMsdCkscz1uZXcgUTtyZXR1cm4gcy5zZXRDb29yZHMoLXRoaXMubV9zZW1pTWFqb3JBeGlzKk1hdGguc2luKGUpLHRoaXMuZ2V0U2VtaU1pbm9yQXhpcygpKk1hdGguY29zKGUpKSx0aGlzLm1fcm90YXRpb24mJnMucm90YXRlRGlyZWN0KHRoaXMubV9jb3NyLHRoaXMubV9zaW5yKSxzLnNjYWxlKHRoaXMuZ2V0U3dlZXBBbmdsZSgpKSxzfX1nZXREZXJpdmF0aXZlKHQpe2lmKFN1KHRoaXMpKXJldHVybiB0aGlzLmdldEVuZFhZKCkuc3ViKHRoaXMuZ2V0U3RhcnRYWSgpKTt7Y29uc3QgZT1jdSh0aGlzLHQpLHM9bmV3IFE7cmV0dXJuIHMuc2V0Q29vcmRzKC10aGlzLm1fc2VtaU1ham9yQXhpcypNYXRoLnNpbihlKSx0aGlzLmdldFNlbWlNaW5vckF4aXMoKSpNYXRoLmNvcyhlKSksdGhpcy5tX3JvdGF0aW9uJiZzLnJvdGF0ZURpcmVjdCh0aGlzLm1fY29zcix0aGlzLm1fc2lucikscy5zY2FsZSh0aGlzLmdldFN3ZWVwQW5nbGUoKSksc319bm9ybWFsaXplQWZ0ZXJFbmRwb2ludENoYW5nZSgpe3JldHVybiEhTHUodGhpcykmJihTdSh0aGlzKT8oUnUodGhpcyksITEpOnp1KHRoaXMsITEpKX1wcm9qZWN0aW9uQmVoYXZpb3IoKXtyZXR1cm4oNCZ0aGlzLm1fYml0cyk+PjJ9c2V0UHJvamVjdGlvbkJlaGF2aW9yKHQpe3RoaXMubV9iaXRzPS01JnRoaXMubV9iaXRzfHQ8PDJ9Y29udmVydFRvQ2Fub25pYyh0KXtjb25zdCBlPW5ldyBRKHQueCx0LnkpO3JldHVybiBlLnN1YlRoaXModGhpcy5tX2NlbnRlciksZS5yb3RhdGVSZXZlcnNlKHRoaXMubV9jb3NyLHRoaXMubV9zaW5yKSxlfWNvbnZlcnRGcm9tQ2Fub25pYyh0KXtjb25zdCBlPW5ldyBRKHQueCx0LnkpO3JldHVybiBlLnJvdGF0ZURpcmVjdCh0aGlzLm1fY29zcix0aGlzLm1fc2luciksZS5hZGRUaGlzKHRoaXMubV9jZW50ZXIpLGV9Y2Fub25pY1RvV29ybGRUcmFuc2Zvcm1hdGlvbih0KXt0LnNldFJvdGF0ZSh0aGlzLm1fY29zcix0aGlzLm1fc2luciksdC5zaGlmdENvb3Jkcyh0aGlzLm1fY2VudGVyLngsdGhpcy5tX2NlbnRlci55KX1nZXRDdXJ2YXR1cmUodCl7Y29uc3QgZT1jdSh0aGlzLHQpLHM9bmV3IFEsbj10aGlzLmdldFNlbWlNaW5vckF4aXMoKTtzLnNldENvb3JkcygtdGhpcy5tX3NlbWlNYWpvckF4aXMqTWF0aC5zaW4oZSksbipNYXRoLmNvcyhlKSk7Y29uc3QgaT1uZXcgUTtpLnNldENvb3JkcygtdGhpcy5tX3NlbWlNYWpvckF4aXMqTWF0aC5jb3MoZSksLW4qTWF0aC5zaW4oZSkpLHRoaXMubV9yb3RhdGlvbiYmKHMucm90YXRlRGlyZWN0KHRoaXMubV9jb3NyLHRoaXMubV9zaW5yKSxpLnJvdGF0ZURpcmVjdCh0aGlzLm1fY29zcix0aGlzLm1fc2lucikpO2NvbnN0IHI9cy5zcXJMZW5ndGgoKTtpZigwPT09cilyZXR1cm4gTnVtYmVyLk5hTjtjb25zdCBvPU1hdGguc3FydChyKTtzLmRpdlRoaXMobyk7cmV0dXJuIHMuY3Jvc3NQcm9kdWN0KGkpL3J9Z2V0TW9ub3RvbmljUGFydFBhcmFtcyh0LHMpe2NvbnN0IG49VSg2LE51bWJlci5OYU4pO25bMF09MDtsZXQgaT0xO2lmKHRoaXMuaXNEZWdlbmVyYXRlVG9MaW5lKCkpblsxXT0xLGk9MjtlbHNle2NvbnN0IHQ9dGhpcy5nZXRTZW1pQXhlcygpLGU9VSg0LE51bWJlci5OYU4pO3RoaXMubV9yb3RhdGlvbj8oZVswXT1NYXRoLmF0YW4yKHQueSp0aGlzLm1fY29zcix0LngqdGhpcy5tX3NpbnIpLGVbMV09ZVswXStNYXRoLlBJLGVbMl09TWF0aC5hdGFuMigtdC55KnRoaXMubV9zaW5yLHQueCp0aGlzLm1fY29zciksZVszXT1lWzJdK01hdGguUEkpOihlWzBdPTAsZVsxXT1NYXRoLlBJLGVbMl09LjUqTWF0aC5QSSxlWzNdPUl0KCkpO2ZvcihsZXQgcz0wO3M8NDtzKyspe2NvbnN0IHQ9bHUodGhpcyxlW3NdKTt0PjAmJnQ8MSYmKG5baV09dCxpKyspfWk+MiYmRXQobixpKSxuW2ldPTEsaSsrfWlmKHMpe3Q8aSYmZShcIlwiKTtmb3IobGV0IHQ9MDt0PGk7dCsrKXNbdF09blt0XX1yZXR1cm4gaX1jYWxjdWxhdGVMb3dlckxlbmd0aDJEKCl7Y29uc3QgdD1RLmRpc3RhbmNlKHRoaXMuZ2V0U3RhcnRYWSgpLHRoaXMuZ2V0RW5kWFkoKSk7aWYodGhpcy5pc0RlZ2VuZXJhdGVUb0xpbmUoKSlyZXR1cm4gdDtjb25zdCBlPU1hdGguYWJzKHRoaXMubV9zd2VlcEFuZ2xlKSp0aGlzLmdldFNlbWlNaW5vckF4aXMoKTtyZXR1cm4gTWF0aC5tYXgoZSx0KX1jYWxjdWxhdGVVcHBlckxlbmd0aDJEKCl7Y29uc3QgdD1RLmRpc3RhbmNlKHRoaXMuZ2V0U3RhcnRYWSgpLHRoaXMuZ2V0RW5kWFkoKSk7aWYodGhpcy5pc0RlZ2VuZXJhdGVUb0xpbmUoKSlyZXR1cm4gdDtjb25zdCBlPU1hdGguYWJzKHRoaXMubV9zd2VlcEFuZ2xlKSp0aGlzLmdldFNlbWlNYWpvckF4aXMoKTtyZXR1cm4gTWF0aC5tYXgoZSx0KX1vcmllbnRCb3R0b21VcCgpe2lmKHRoaXMubV9ZRW5kPHRoaXMubV9ZU3RhcnR8fHRoaXMubV9ZRW5kPT09dGhpcy5tX1lTdGFydCYmdGhpcy5tX1hFbmQ8dGhpcy5tX1hTdGFydCl7dGhpcy5tX1hFbmQ9ZXQodGhpcy5tX1hTdGFydCx0aGlzLm1fWFN0YXJ0PXRoaXMubV9YRW5kKSx0aGlzLm1fWUVuZD1ldCh0aGlzLm1fWVN0YXJ0LHRoaXMubV9ZU3RhcnQ9dGhpcy5tX1lFbmQpO2ZvcihsZXQgdD0wLGU9dGhpcy5tX2Rlc2NyaXB0aW9uLmdldFRvdGFsQ29tcG9uZW50Q291bnQoKS0yO3Q8ZTt0KyspdGhpcy5tX2F0dHJpYnV0ZXNbdCtlXT1ldCh0aGlzLm1fYXR0cmlidXRlc1t0XSx0aGlzLm1fYXR0cmlidXRlc1t0XT10aGlzLm1fYXR0cmlidXRlc1t0K2VdKTt0aGlzLm1fc3RhcnRBbmdsZT10aGlzLm1fc3RhcnRBbmdsZSt0aGlzLm1fc3dlZXBBbmdsZSx0aGlzLm1fc3dlZXBBbmdsZT0tdGhpcy5tX3N3ZWVwQW5nbGV9fWlzTGluZSgpe3JldHVybiBTdSh0aGlzKX1jb3B5SWdub3JlQXR0cmlidXRlcyh0KXt0Lm1fWFN0YXJ0PXRoaXMubV9YU3RhcnQsdC5tX1lTdGFydD10aGlzLm1fWVN0YXJ0LHQubV9YRW5kPXRoaXMubV9YRW5kLHQubV9ZRW5kPXRoaXMubV9ZRW5kLHQubV9jZW50ZXIuYXNzaWduKHRoaXMubV9jZW50ZXIpLHQubV9zZW1pTWFqb3JBeGlzPXRoaXMubV9zZW1pTWFqb3JBeGlzLHQubV9taW5vck1ham9yUmF0aW89dGhpcy5tX21pbm9yTWFqb3JSYXRpbyx0Lm1faW50ZXJpb3IuYXNzaWduKHRoaXMubV9pbnRlcmlvciksdC5tX3JvdGF0aW9uPXRoaXMubV9yb3RhdGlvbix0Lm1fY29zcj10aGlzLm1fY29zcix0Lm1fc2lucj10aGlzLm1fc2lucix0Lm1fc3dlZXBBbmdsZT10aGlzLm1fc3dlZXBBbmdsZSx0Lm1fc3RhcnRBbmdsZT10aGlzLm1fc3RhcnRBbmdsZSx0Lm1fYml0cz10aGlzLm1fYml0cyxNdSh0KX1jYWxjdWxhdGVBcmVhMkRIZWxwZXIoKXtyZXR1cm4gWnUodGhpcyl9YWJzTm9ybSgpe2xldCB0PXRoaXMuZ2V0U3RhcnRYWSgpLm5vcm0oMSkrdGhpcy5nZXRFbmRYWSgpLm5vcm0oMSk7cmV0dXJuIHRoaXMuaXNEZWdlbmVyYXRlVG9MaW5lKCl8fCh0Kz10aGlzLm1fY2VudGVyLm5vcm0oMSksdCs9dGhpcy5tX3NlbWlNYWpvckF4aXMpLHR9cXVlcnlFbnZlbG9wZVcodCxlKXtpZihlLnNldENvb3Jkcyh0aGlzLmdldENvb3JkMkQodC52bWluKSksZS5tZXJnZU5lKHRoaXMuZ2V0Q29vcmQyRCh0LnZtYXgpKSxTdSh0aGlzKSlyZXR1cm47Y29uc3Qgcz10aGlzLmdldFNlbWlBeGVzKCksbj1VKDgsTnVtYmVyLk5hTik7e2NvbnN0IHQ9TWF0aC5hdGFuMigtcy55KnRoaXMubV9zaW5yLHMueCp0aGlzLm1fY29zciksZT10K01hdGguUEksaT1NYXRoLmF0YW4yKHMueSp0aGlzLm1fY29zcixzLngqdGhpcy5tX3NpbnIpLHI9aStNYXRoLlBJO25bMF09bHUodGhpcyx0KSxuWzFdPWx1KHRoaXMsZSksblsyXT1sdSh0aGlzLGkpLG5bM109bHUodGhpcyxyKX17Y29uc3QgdD10aGlzLm1fY29zcit0aGlzLm1fc2lucixlPXRoaXMubV9jb3NyLXRoaXMubV9zaW5yLGk9TWF0aC5hdGFuMigtcy55KnQscy54KmUpLHI9aStNYXRoLlBJLG89TWF0aC5hdGFuMihzLnkqZSxzLngqdCksYT1vK01hdGguUEk7bls0XT1sdSh0aGlzLGkpLG5bNV09bHUodGhpcyxyKSxuWzZdPWx1KHRoaXMsbyksbls3XT1sdSh0aGlzLGEpfWNvbnN0IGk9US5nZXROQU4oKTtmb3IobGV0IHI9MDtyPDg7cisrKXtjb25zdCBzPW5bcl07dC5jb250YWluc0V4Y2x1c2l2ZUNvb3JkaW5hdGUocykmJih0aGlzLnF1ZXJ5Q29vcmQyRChzLGkpLGUubWVyZ2VOZShpKSl9fXNldFNlZ21lbnRGcm9tQ29vcmRzRm9yU3RpdGNoZXIodCxlKXt4dSh0aGlzLHQsZSl9d3JpdGVJbkJ1ZmZlclN0cmVhbSh0LGUpe2NvbnN0IHM9bmV3IEZsb2F0NjRBcnJheSgxMCk7cmV0dXJuIHNbMF09dGhpcy5tX2JpdHMsc1sxXT10aGlzLm1fc2VtaU1ham9yQXhpcyxzWzJdPXRoaXMubV9taW5vck1ham9yUmF0aW8sc1szXT10aGlzLm1fcm90YXRpb24sc1s0XT10aGlzLm1fY2VudGVyLngsc1s1XT10aGlzLm1fY2VudGVyLnksc1s2XT10aGlzLm1fc3dlZXBBbmdsZSxzWzddPXRoaXMubV9zdGFydEFuZ2xlLHNbOF09dGhpcy5tX2ludGVyaW9yLngsc1s5XT10aGlzLm1faW50ZXJpb3IueSx0LndyaXRlUmFuZ2VGcm9tQXJyYXkoZSxzLmxlbmd0aCxzLCEwLDEpLGUrcy5sZW5ndGh9cmVhZEZyb21CdWZmZXJTdHJlYW0odCxlKXtjb25zdCBzPW5ldyBGbG9hdDY0QXJyYXkoMTApO3QucXVlcnlSYW5nZShlLHMubGVuZ3RoLHMsITAsMSksdGhpcy5tX2JpdHM9c1swXSx0aGlzLm1fc2VtaU1ham9yQXhpcz1zWzFdLHRoaXMubV9taW5vck1ham9yUmF0aW89c1syXSx0aGlzLm1fcm90YXRpb249c1szXSx0aGlzLm1fY2VudGVyLng9c1s0XSx0aGlzLm1fY2VudGVyLnk9c1s1XSx0aGlzLm1fc3dlZXBBbmdsZT1zWzZdLHRoaXMubV9zdGFydEFuZ2xlPXNbN10sdGhpcy5tX2ludGVyaW9yLng9c1s4XSx0aGlzLm1faW50ZXJpb3IueT1zWzldLHRoaXMubV9jb3NyPU1hdGguY29zKHRoaXMubV9yb3RhdGlvbiksdGhpcy5tX3NpbnI9TWF0aC5zaW4odGhpcy5tX3JvdGF0aW9uKSx0aGlzLm1fY2FjaGVkVmFsdWVzPW51bGx9c25hcENvbnRyb2xQb2ludHModCl7cmV0dXJuITF9bmVlZHNTbmFwQ29udHJvbFBvaW50cyh0KXtyZXR1cm4hMX1jYWxjdWxhdGVTcGVjaWFsUG9pbnRzRm9yQ3JhY2tpbmcodCxlKXtyZXR1cm4gaChcInNob3VsZCBub3QxOyBiZSBjYWxsZWRcIiksMH1lbnN1cmVYWU1vbm90b25lKCl7aWYoU3UodGhpcykpcmV0dXJuITE7aWYodGhpcy5nZXRTdGFydFhZKCkuZXF1YWxzKHRoaXMuZ2V0RW5kWFkoKSkpcmV0dXJuIGJ1KHRoaXMsdGhpcy5nZXRTdGFydFhZKCksdGhpcy5nZXRFbmRYWSgpLHRoaXMucHJvamVjdGlvbkJlaGF2aW9yKCkpLCEwO2NvbnN0IHQ9bHQoUSwzKTtsZXQgZT1CdSh0aGlzLHQpO2lmKEhhKHQpKXtsZXQgcz0hMTtpZigwPT09dGhpcy5wcm9qZWN0aW9uQmVoYXZpb3IoKSl7Y29uc3Qgbj1uZXcgbWU7bi5zZXRDb29yZHMoe3B0OnRbMF19KSxuLm1lcmdlTmUodFsyXSk7Y29uc3QgaT1uZXcgUTtpLnNldFN1Yih0WzJdLHRbMF0pLGkubGVmdFBlcnBlbmRpY3VsYXJUaGlzKCksaS5ub3JtYWxpemUoKSxpLnNjYWxlKFEuZGlzdGFuY2UodFsyXSx0WzBdKSk7Y29uc3Qgcj1RLmxlcnAodFsyXSx0WzBdLC41KSxvPXIuc3ViKGkpLGE9ci5hZGQoaSk7bi5jbGlwTGluZShvLGEpO2NvbnN0IGg9US5nZXRDbG9zZXN0Q29vcmRpbmF0ZShvLGEsdFsxXSwhMSk7dFsxXT1RLmxlcnAobyxhLGgpO2NvbnN0IHU9dFsyXS5zdWIodFsxXSksbT10WzBdLnN1Yih0WzFdKSxsPXUuY3Jvc3NQcm9kdWN0KG0pLGM9dS5kb3RQcm9kdWN0KG0pO2U9eXQoKS1NYXRoLmFicyguNSpNYXRoLmF0YW4yKGwsYykpLHM9ITB9cmV0dXJuIGt1KHQsZSplLG51bGwscyx0aGlzKSwhMH1yZXR1cm4hMX1zZXRDb29yZHNGb3JJbnRlcnNlY3Rvcih0LGUscyl7eXUodGhpcyx0LGUscyl9Z2V0SW50ZXJpb3JQb2ludCgpe3JldHVybiB0aGlzLm1faW50ZXJpb3IuY2xvbmUoKX1jb3B5VG9JbXBsKHQpe2NvbnN0IGU9dDtlLm1fY2VudGVyLmFzc2lnbih0aGlzLm1fY2VudGVyKSxlLm1fc2VtaU1ham9yQXhpcz10aGlzLm1fc2VtaU1ham9yQXhpcyxlLm1fbWlub3JNYWpvclJhdGlvPXRoaXMubV9taW5vck1ham9yUmF0aW8sZS5tX2ludGVyaW9yLmFzc2lnbih0aGlzLm1faW50ZXJpb3IpLGUubV9yb3RhdGlvbj10aGlzLm1fcm90YXRpb24sZS5tX2Nvc3I9dGhpcy5tX2Nvc3IsZS5tX3NpbnI9dGhpcy5tX3NpbnIsZS5tX3N3ZWVwQW5nbGU9dGhpcy5tX3N3ZWVwQW5nbGUsZS5tX3N0YXJ0QW5nbGU9dGhpcy5tX3N0YXJ0QW5nbGUsZS5tX2JpdHM9dGhpcy5tX2JpdHMsSXUoZSxmdSh0aGlzKSl9cmV2ZXJzZUltcGwoKXtOdSh0aGlzLCFYdSh0aGlzKSksbXUodGhpcyksKDAhPT10aGlzLnByb2plY3Rpb25CZWhhdmlvcigpfHx0aGlzLmdldFN0YXJ0WFkoKS5lcXVhbHModGhpcy5nZXRFbmRYWSgpKSkmJkh1KHRoaXMpfWVxdWFsc0ltcGwodCl7Y29uc3QgZT10O2lmKHRoaXMubV9iaXRzIT09ZS5tX2JpdHMpcmV0dXJuITE7aWYodGhpcy5tX3NlbWlNYWpvckF4aXMhPT1lLm1fc2VtaU1ham9yQXhpcylyZXR1cm4hMTtpZih0aGlzLm1fbWlub3JNYWpvclJhdGlvIT09ZS5tX21pbm9yTWFqb3JSYXRpbylyZXR1cm4hMTtpZighKHRoaXMubV9jZW50ZXIuaXNFcXVhbFBvaW50MkQoZS5tX2NlbnRlcil8fHRoaXMubV9jZW50ZXIuaXNOQU4oKSYmZS5tX2NlbnRlci5pc05BTigpKSlyZXR1cm4hMTtpZih0aGlzLm1fcm90YXRpb24hPT1lLm1fcm90YXRpb24pcmV0dXJuITE7aWYoIXRoaXMubV9pbnRlcmlvci5lcXVhbHMoZS5tX2ludGVyaW9yKSlyZXR1cm4hMTtjb25zdCBzPWUubV9zd2VlcEFuZ2xlO2lmKHRoaXMubV9zd2VlcEFuZ2xlIT09cylyZXR1cm4hMTtjb25zdCBuPWUubV9zdGFydEFuZ2xlO3JldHVybiB0aGlzLm1fc3RhcnRBbmdsZT09PW59ZXF1YWxzSW1wbFRvbCh0LGUpe2NvbnN0IHM9dDtpZih0aGlzLm1fYml0cyE9PXMubV9iaXRzKXJldHVybiExO2lmKHRoaXMubV9jZW50ZXIuaXNOQU4oKSYmcy5tX2NlbnRlci5pc05BTigpKXJldHVybiEwO2lmKHRoaXMubV9jZW50ZXIuaXNOQU4oKSE9PXMubV9jZW50ZXIuaXNOQU4oKSlyZXR1cm4hMTtpZighdGhpcy5nZXRTZW1pQXhlcygpLmlzRXF1YWxQb2ludDJEKHMuZ2V0U2VtaUF4ZXMoKSxlKSlyZXR1cm4hMTtpZighdGhpcy5tX2NlbnRlci5pc0VxdWFsUG9pbnQyRChzLm1fY2VudGVyLGUpKXJldHVybiExO2NvbnN0IG49TWF0aC5hYnMoQWgod2goVGgodGhpcy5tX3JvdGF0aW9uLXMubV9yb3RhdGlvbikpKSksaT1NYXRoLmFicyh3dCgpLW4pLHI9TWF0aC5taW4obixpKTtpZih0aGlzLm1fc2VtaU1ham9yQXhpcypNYXRoLmFicyhyKT5lKXJldHVybiExO2NvbnN0IG89dGhpcy5nZXRDb29yZDJEKC41KSxhPXMuZ2V0Q29vcmQyRCguNSk7cmV0dXJuISFvLmlzRXF1YWxQb2ludDJEKGEsZSl9c3dhcEltcGwodCl7Y29uc3QgZT10O3RoaXMubV9jZW50ZXI9ZXQoZS5tX2NlbnRlcixlLm1fY2VudGVyPXRoaXMubV9jZW50ZXIpLHRoaXMubV9zZW1pTWFqb3JBeGlzPWV0KGUubV9zZW1pTWFqb3JBeGlzLGUubV9zZW1pTWFqb3JBeGlzPXRoaXMubV9zZW1pTWFqb3JBeGlzKSx0aGlzLm1fbWlub3JNYWpvclJhdGlvPWV0KGUubV9taW5vck1ham9yUmF0aW8sZS5tX21pbm9yTWFqb3JSYXRpbz10aGlzLm1fbWlub3JNYWpvclJhdGlvKSx0aGlzLm1faW50ZXJpb3I9ZXQoZS5tX2ludGVyaW9yLGUubV9pbnRlcmlvcj10aGlzLm1faW50ZXJpb3IpLHRoaXMubV9yb3RhdGlvbj1ldChlLm1fcm90YXRpb24sZS5tX3JvdGF0aW9uPXRoaXMubV9yb3RhdGlvbiksdGhpcy5tX2Nvc3I9ZXQoZS5tX2Nvc3IsZS5tX2Nvc3I9dGhpcy5tX2Nvc3IpLHRoaXMubV9zaW5yPWV0KGUubV9zaW5yLGUubV9zaW5yPXRoaXMubV9zaW5yKSx0aGlzLm1fc3dlZXBBbmdsZT1ldChlLm1fc3dlZXBBbmdsZSxlLm1fc3dlZXBBbmdsZT10aGlzLm1fc3dlZXBBbmdsZSksdGhpcy5tX3N0YXJ0QW5nbGU9ZXQoZS5tX3N0YXJ0QW5nbGUsZS5tX3N0YXJ0QW5nbGU9dGhpcy5tX3N0YXJ0QW5nbGUpLHRoaXMubV9iaXRzPWV0KGUubV9iaXRzLGUubV9iaXRzPXRoaXMubV9iaXRzKSxZdSh0aGlzLGUpfWFmdGVyQ29tcGxldGVkTW9kaWZpY2F0aW9uKCl7UnUodGhpcyksTXUodGhpcyl9aW50ZXJzZWN0KHQsZSxzLG4saSl7cmV0dXJuIHVtKCExLHRoaXMsdCxlLHMsbixpKX1pbnRlcnNlY3RQb2ludCh0LGUscyl7aWYoZS5sZW5ndGg8MiYmbihcIlwiKSxTdSh0aGlzKSl7cmV0dXJuIG5ldyBwbSh7c3RhcnQ6dGhpcy5nZXRTdGFydFhZKCksZW5kOnRoaXMuZ2V0RW5kWFkoKX0pLmludGVyc2VjdFBvaW50KHQsZSxzKX17Y29uc3QgZT1RLmRpc3RhbmNlKHQsdGhpcy5tX2NlbnRlcik7aWYoZT50aGlzLm1fc2VtaU1ham9yQXhpcytzfHxlPHRoaXMuZ2V0U2VtaU1pbm9yQXhpcygpLXMpcmV0dXJuIDB9Y29uc3QgaT10aGlzLmdldENsb3Nlc3RDb29yZGluYXRlKHQsITEpLHI9US5nZXROQU4oKTtyZXR1cm4gdGhpcy5xdWVyeUNvb3JkMkQoaSxyKSxRLmRpc3RhbmNlKHIsdCk8PXM/Z3QoaSwwLDEpJiYodGhpcy5xdWVyeUNvb3JkMkQoMD09PWk/MTowLHIpLFEuZGlzdGFuY2Uocix0KTw9cyk/KGUmJihlWzBdPTAsZVsxXT0xKSwyKTooZSYmKGVbMF09aSksMSk6MH1pc0ludGVyc2VjdGluZyh0LGUscyl7cmV0dXJuIDAhPT1ybSghMSx0aGlzLHQsZSxzKX1lbmRQb2ludE1vZGlmaWVkKCl7dGhpcy5tX2JpdHN8PTgsTXUodGhpcyl9Y2xlYXJFbmRQb2ludE1vZGlmaWVkKCl7UnUodGhpcyl9fWZ1bmN0aW9uIHFoKHQsZSxzKXt0LmlzRW1wdHkoKSYmbyhcIlwiKSxmKHQpO2NvbnN0IG49dC5nZXRJbXBsKCksaT1bXTtyZXR1cm4gTGgobi5nZXRQb2ludENvdW50KCksaSksUmgoVmgobiksaSxuLmdldFBvaW50Q291bnQoKSxlKX1mdW5jdGlvbiBGaCh0LGUscyxuKXtjb25zdCBpPVtdO3JldHVybiBMaChlLGkpLFJoKHQsaSxlLHMpfWZ1bmN0aW9uIFZoKHQpe3JldHVybnthdDplPT50LmdldFhZKGUpfX1mdW5jdGlvbiBMaCh0LGUpe2UubGVuZ3RoPXQ7Zm9yKGxldCBzPTA7czxlLmxlbmd0aDsrK3MpZVtzXT1zO3Q+MyYmcGUodCxlKX1mdW5jdGlvbiBSaCh0LGUscyxuLGkpe2xldCByPTA7Y29uc3Qgbz1bMCwwLDBdO2xldCBhPTA7Y29uc3QgaD0zO2xldCB1PTA7Zm9yKGxldCBtPTA7bTxoOysrbSl7bGV0IGk9ITE7Zm9yKDt1PHM7KXtjb25zdCBzPXQuYXQoZVt1XSk7bGV0IGw9MTtpZigzPT09cj9sPVEuaW5DaXJjbGVSb2J1c3QodC5hdChuWzBdKSx0LmF0KG5bMV0pLHQuYXQoblsyXSkscyk6Mj09PXI/bD1RLmluQ2lyY2xlUm9idXN0M1BvaW50KHQuYXQoblswXSksdC5hdChuWzFdKSxzKToxPT09ciYmcy5lcXVhbHModC5hdChuWzBdKSkmJihsPTApLGw8PTApe2lmKGw8MCYmbSsxPGgpe2VbYV09ZXQoZVt1XSxlW3VdPWVbYV0pO2ZvcihsZXQgdD0wO3Q8cjt0KyspaWYoblt0XT09PWVbdV0pe29bdF09dTticmVha31hKyt9dSsrO2NvbnRpbnVlfWk9ITA7bGV0IGM9MDtmb3IobGV0IHQ9MDt0PHI7dCsrKW9bdF0+dSYmKG5bY109blt0XSxvW2NdPW9bdF0sYysrKTtyPWMsbltyXT1lW3VdLG9bcl09dSxyKysscjwzP3U9YTooMT09PVEub3JpZW50YXRpb25Sb2J1c3QodC5hdChuWzBdKSx0LmF0KG5bMV0pLHQuYXQoblsyXSkpJiYoblsyXT1ldChuWzBdLG5bMF09blsyXSksb1syXT1ldChvWzBdLG9bMF09b1syXSkpLHUrKyl9aWYoIWkpYnJlYWs7aWYobSsxPGgpe2E9MDtsZXQgcz0hMTtmb3IobGV0IHQ9MDt0PHI7dCsrKWZvcihsZXQgZT10KzE7ZTxyO2UrKylvW3RdPm9bZV0mJihvW2VdPWV0KG9bdF0sb1t0XT1vW2VdKSxuW2VdPWV0KG5bdF0sblt0XT1uW2VdKSxzPSEwKTtmb3IobGV0IHQ9MDt0PHI7dCsrKWVbb1t0XV09ZXQoZVt0XSxlW3RdPWVbb1t0XV0pLG9bdF09dDtzJiYzPT09ciYmMT09PVEub3JpZW50YXRpb25Sb2J1c3QodC5hdChuWzBdKSx0LmF0KG5bMV0pLHQuYXQoblsyXSkpJiYoblsyXT1ldChuWzBdLG5bMF09blsyXSksb1syXT1ldChvWzBdLG9bMF09b1syXSkpfXU9cn1yZXR1cm4gcn1mdW5jdGlvbiB6aCh0LGUscyxuLGkscil7cmV0dXJuIG5ldyBqaCgwLDAsMCxudWxsLCExLEooKSkuZGVuc2lmeUV4KHQsZSxzLG4sITEscil9ZnVuY3Rpb24gQmgodCxzLG4scil7cmV0dXJuIE51bWJlci5pc0Zpbml0ZShzKXx8ZShcInJlcGxhY2VfYWxsX2N1cnZlc193aXRoX2JlemllcnM6IG1heERldmlhdGlvblwiKSxPaChpLmVudW1CZXppZXIsdCxzLG4pfWZ1bmN0aW9uIGtoKHQsZSxuLHIsbyxoLHUsbSl7aCYmKGgubGVuZ3RoPTApLHUmJih1Lmxlbmd0aD0wKTtjb25zdCBsPXQuZ2V0R2VvbWV0cnlUeXBlKCk7aWYobD09PWkuZW51bUxpbmUpcmV0dXJuIGgmJihoLnB1c2godC5nZXRTdGFydFhZKCkpLGgucHVzaChRLmdldE5BTigpKSxoLnB1c2goUS5nZXROQU4oKSksaC5wdXNoKHQuZ2V0RW5kWFkoKSkpLHUmJih1LnB1c2goMCksdS5wdXNoKDEpKSwxO2lmKGw9PT1pLmVudW1CZXppZXIpe2lmKCFyKXJldHVybiBoJiYoaC5wdXNoKHQuZ2V0U3RhcnRYWSgpKSxoLnB1c2godC5nZXRDb250cm9sUG9pbnQxKCkpLGgucHVzaCh0LmdldENvbnRyb2xQb2ludDIoKSksaC5wdXNoKHQuZ2V0RW5kWFkoKSkpLHUmJih1LnB1c2goMCksdS5wdXNoKDEpKSwxO2NvbnN0IGU9VSg5LE51bWJlci5OYU4pO2xldCBzPXQuZ2V0TW9ub3RvbmljUGFydFBhcmFtcyhlLmxlbmd0aCxlKTtpZihlLmxlbmd0aD1zLHM9WmgodCxuLGUpLDI9PT1zJiZvJiYoZVsxXT0uNSxlLnB1c2goMSkscz0zKSx1JiZ1LnNwbGljZSgwLDAsLi4uZS5zbGljZSgwLHMpKSxoKXtjb25zdCBuPW5ldyBmbTtmb3IobGV0IGk9MTtpPHM7aSsrKXtjb25zdCBzPWVbaS0xXSxyPWVbaV07dC5xdWVyeUN1dChzLHIsbiwhMCk7Y29uc3Qgbz1uLmdldCgpO2xvKG8pLDE9PT1pJiZoLnB1c2goby5nZXRTdGFydFhZKCkpLGgucHVzaChvLmdldENvbnRyb2xQb2ludDEoKSksaC5wdXNoKG8uZ2V0Q29udHJvbFBvaW50MigpKSxoLnB1c2goby5nZXRFbmRYWSgpKX19cmV0dXJuIHMtMX1pZihsPT09aS5lbnVtRWxsaXB0aWNBcmMpe2NvbnN0IGk9dDtpZihpLmlzRGVnZW5lcmF0ZVRvTGluZSgpfHxpLmlzRGVnZW5lcmF0ZSgwKSlyZXR1cm4gaCYmKGgucHVzaCh0LmdldFN0YXJ0WFkoKSksaC5wdXNoKFEuZ2V0TkFOKCkpLGgucHVzaChRLmdldE5BTigpKSxoLnB1c2godC5nZXRFbmRYWSgpKSksdSYmKHUucHVzaCgwKSx1LnB1c2goMSkpLDE7aWYociYmKG98fCFpLmlzTW9ub3RvbmVRdWlja0FuZERpcnR5KCkpKXtjb25zdCBhPVUoNixOdW1iZXIuTmFOKTtsZXQgbT1pLmdldE1vbm90b25pY1BhcnRQYXJhbXMoYS5sZW5ndGgsYSk7YS5sZW5ndGg9bSxtPVpoKHQsbixhKSwyPT09bSYmbyYmKGFbMV09LjUsYS5wdXNoKDEpLG09Myk7bGV0IGw9MDtpZihtPjIpe2NvbnN0IHQ9bmV3IGZtLG89dXx8W107bGV0IGM9MDtmb3IobGV0IGc9MTtnPG07ZysrKXtjb25zdCBkPWFbY10sXz1hW2ddO2lmKGkucXVlcnlDdXQoZCxfLHQsITApLHQuZ2V0KCkuaXNEZWdlbmVyYXRlKDApKWNvbnRpbnVlO2NvbnN0IHA9by5sZW5ndGgsZj1RaCgxPT09Zyx0LmdldCgpLGUsbixyLGgsdSk7cyhmPjApLGwrPWY7Y29uc3QgUD1nPT09bS0xLHk9YVtjXSx4PXQuZ2V0KCkuZ2V0U3dlZXBBbmdsZSgpL2kuZ2V0U3dlZXBBbmdsZSgpO2ZvcihsZXQgdD1wLGU9by5sZW5ndGg7dDxlO3QrKylpZihvW3RdPSFQfHx0KzE8ZT95K29bdF0qeDoxLGgpe2NvbnN0IGU9Myp0LHM9aS5nZXRDb29yZDJEKG9bdF0pO2lmKGhbZV0uc2V0Q29vcmRzUG9pbnQyRChzKSxlPjApe2NvKGguc2xpY2UoZS0zKSl9fWM9Z31yZXR1cm4gbH19cmV0dXJuIFFoKCEwLGksZSxuLHIsaCx1KX1pZihsPT09aS5lbnVtUmF0aW9uYWxCZXppZXIyKXtjb25zdCBzPXQ7aWYociYmKG98fCFzLmlzTW9ub3RvbmVRdWlja0FuZERpcnR5KCkpKXtjb25zdCBpPVUoNixOdW1iZXIuTmFOKTtsZXQgcj1zLmdldE1vbm90b25pY1BhcnRQYXJhbXMoaS5sZW5ndGgsaSk7aS5sZW5ndGg9cixyPVpoKHQsbixpKSwyPT09ciYmbyYmKGlbMV09LjUsaS5wdXNoKDEpLHI9Myk7bGV0IGE9MDtpZihyPjIpe2NvbnN0IHQ9bmV3IGZtLG89dXx8W107Zm9yKGxldCBtPTE7bTxyO20rKyl7Y29uc3QgbD1pW20tMV0sYz1pW21dO3MucXVlcnlDdXQobCxjLHQsITApO2NvbnN0IGc9by5sZW5ndGg7YSs9S2goMT09PW0sdC5nZXQoKSxlLG4sITEsaCx1KTtjb25zdCBkPW09PT1yLTEsXz1pW20tMV07Zm9yKGxldCB0PWcsZT1vLmxlbmd0aDt0PGU7dCsrKWlmKG9bdF09IWR8fHQrMTxlP18rb1t0XToxLGgpe2NvbnN0IGU9Myp0LG49cy5nZXRDb29yZDJEKG9bdF0pO2lmKGhbZV0uc2V0Q29vcmRzUG9pbnQyRChuKSxlPjApe0FpKGguc2xpY2UoZS0zKSl9fX1yZXR1cm4gYX19cmV0dXJuIEtoKCEwLHMsZSxuLHIsaCx1KX1pZihsPT09aS5lbnVtQmV6aWVyMil7Y29uc3Qgcz10LGk9bHQoUSwzKTtzLnF1ZXJ5Q29udHJvbFBvaW50cyhpKTtjb25zdCBhPW5ldyBpYTthLmNvbnN0cnVjdEZyb21RdWFkcmF0aWMoaSk7Y29uc3QgbT1raChhLGUsbixyLG8saCx1KTtpZihudWxsIT1oJiZudWxsIT11KXtjb25zdCB0PTM7Zm9yKGxldCBlPTEsbj0wO2U8bTsrK2Usbis9dCl7Y29uc3QgaT1uZXcgUTtzLnF1ZXJ5Q29vcmQyRCh1W2VdLGkpO2NvbnN0IG89aFtuK3RdO2lmKCFpLmVxdWFscyhvKSYmKGhbbit0XS5zZXRDb29yZHNQb2ludDJEKGkpLHIpKXtjbyhoLnNsaWNlKG4sbis0KSl9fX1yZXR1cm4gbX1hKFwiXCIpfWZ1bmN0aW9uIEdoKHQsZSxzLG4scixvLGgsdSl7byYmKG8ubGVuZ3RoPTApLGgmJihoLmxlbmd0aD0wKTtjb25zdCBtPXQuZ2V0R2VvbWV0cnlUeXBlKCk7aWYobT09PWkuZW51bUxpbmUpcmV0dXJuIG8mJihvLnB1c2godC5nZXRTdGFydFhZKCkpLG8ucHVzaChRLmdldE5BTigpKSxvLnB1c2godC5nZXRFbmRYWSgpKSksaCYmKGgucHVzaCgwKSxoLnB1c2goMSkpLDE7aWYobT09PWkuZW51bUJlemllcjIpe2NvbnN0IGU9VSg5LE51bWJlci5OYU4pO2xldCBuPXQuZ2V0TW9ub3RvbmljUGFydFBhcmFtcyhlLmxlbmd0aCxlKTtpZihlLmxlbmd0aD1uLG49WmgodCxzLGUpLGgmJmguc3BsaWNlKDAsMCwuLi5lLnNsaWNlKDAsbikpLG8pe2NvbnN0IHM9bmV3IGZtO2ZvcihsZXQgaT0xO2k8bjtpKyspe2NvbnN0IG49ZVtpLTFdLHI9ZVtpXTt0LnF1ZXJ5Q3V0KG4scixzLCEwKTtjb25zdCBhPXMuZ2V0KCk7d2koYSksMT09PWkmJm8ucHVzaChhLmdldFN0YXJ0WFkoKSksby5wdXNoKGEuZ2V0Q29udHJvbFBvaW50MSgpKSxvLnB1c2goYS5nZXRFbmRYWSgpKX19cmV0dXJuIG4tMX1pZihtPT09aS5lbnVtRWxsaXB0aWNBcmMpe2NvbnN0IGk9dDtpZihpLmlzRGVnZW5lcmF0ZVRvTGluZSgpfHxpLmlzRGVnZW5lcmF0ZSgwKSlyZXR1cm4gbyYmKG8ucHVzaCh0LmdldFN0YXJ0WFkoKSksby5wdXNoKFEuZ2V0TkFOKCkpLG8ucHVzaCh0LmdldEVuZFhZKCkpKSxoJiYoaC5wdXNoKDApLGgucHVzaCgxKSksMTtpZighaS5pc01vbm90b25lUXVpY2tBbmREaXJ0eSgpKXtjb25zdCBuPVUoNixOdW1iZXIuTmFOKTtsZXQgcj1pLmdldE1vbm90b25pY1BhcnRQYXJhbXMobi5sZW5ndGgsbik7bi5sZW5ndGg9cixyPVpoKHQscyxuKTtsZXQgYT0wO2lmKHI+Mil7Y29uc3QgdD1uZXcgZm0sdT1ofHxbXTtmb3IobGV0IG09MTttPHI7bSsrKXtjb25zdCBsPW5bbS0xXSxjPW5bbV07aS5xdWVyeUN1dChsLGMsdCwhMCk7Y29uc3QgZz11Lmxlbmd0aDthKz0kaCgxPT09bSx0LmdldCgpLGUscywhMSxvLGgpO2NvbnN0IGQ9bT09PXItMSxfPW5bbS0xXSxwPXQuZ2V0KCkuZ2V0U3dlZXBBbmdsZSgpL2kuZ2V0U3dlZXBBbmdsZSgpO2ZvcihsZXQgdD1nLGU9dS5sZW5ndGg7dDxlO3QrKylpZih1W3RdPSFkfHx0KzE8ZT9fK3VbdF0qcDoxLG8pe2NvbnN0IGU9Mip0LHM9aS5nZXRDb29yZDJEKHVbdF0pO2lmKG9bZV0uc2V0Q29vcmRzUG9pbnQyRChzKSxlPjApe0FpKG8uc2xpY2UoZS0yKSl9fX1yZXR1cm4gYX19cmV0dXJuIFFoKCEwLGksZSxzLG4sbyxoKX1pZihtPT09aS5lbnVtQmV6aWVyKXtjb25zdCBpPXQ7aWYoIWkuaXNNb25vdG9uZVF1aWNrQW5kRGlydHkoKSl7Y29uc3Qgbj1VKDYsTnVtYmVyLk5hTik7bGV0IHI9aS5nZXRNb25vdG9uaWNQYXJ0UGFyYW1zKG4ubGVuZ3RoLG4pO24ubGVuZ3RoPXIscj1aaCh0LHMsbik7bGV0IGE9MDtpZihyPjIpe2NvbnN0IHQ9bmV3IGZtLHU9aHx8W107Zm9yKGxldCBtPTE7bTxyO20rKyl7Y29uc3QgbD1uW20tMV0sYz1uW21dO2kucXVlcnlDdXQobCxjLHQsITApO2NvbnN0IGc9dS5sZW5ndGg7YSs9dHUoMT09PW0sdC5nZXQoKSxlLHMsITEsbyxoKTtjb25zdCBkPW09PT1yLTEsXz1uW20tMV07Zm9yKGxldCB0PWcsZT11Lmxlbmd0aDt0PGU7dCsrKWlmKHVbdF09IWR8fHQrMTxlP18rdVt0XToxLG8pe2NvbnN0IGU9Mip0LHM9aS5nZXRDb29yZDJEKHVbdF0pO2lmKG9bZV0uc2V0Q29vcmRzUG9pbnQyRChzKSxlPjApe0FpKG8uc2xpY2UoZS0yKSl9fX1yZXR1cm4gYX19cmV0dXJuIHR1KCEwLGksZSxzLG4sbyxoKX1pZihtPT09aS5lbnVtUmF0aW9uYWxCZXppZXIyKXtjb25zdCBpPXQ7aWYoIWkuaXNNb25vdG9uZVF1aWNrQW5kRGlydHkoKSl7Y29uc3Qgbj1VKDYsTnVtYmVyLk5hTik7bGV0IHI9aS5nZXRNb25vdG9uaWNQYXJ0UGFyYW1zKG4ubGVuZ3RoLG4pO24ubGVuZ3RoPXIscj1aaCh0LHMsbik7bGV0IGE9MDtpZihyPjIpe2NvbnN0IHQ9bmV3IGZtLHU9aHx8W107Zm9yKGxldCBtPTE7bTxyO20rKyl7Y29uc3QgbD1uW20tMV0sYz1uW21dO2kucXVlcnlDdXQobCxjLHQsITApO2NvbnN0IGc9dS5sZW5ndGg7YSs9SmgoMT09PW0sdC5nZXQoKSxlLHMsITEsbyxoKTtjb25zdCBkPW09PT1yLTEsXz1uW20tMV07Zm9yKGxldCB0PWcsZT11Lmxlbmd0aDt0PGU7dCsrKWlmKHVbdF09IWR8fHQrMTxlP18rdVt0XToxLG8pe2NvbnN0IGU9Mip0LHM9aS5nZXRDb29yZDJEKHVbdF0pO2lmKG9bZV0uc2V0Q29vcmRzUG9pbnQyRChzKSxlPjApe0FpKG8uc2xpY2UoZS0yKSl9fX1yZXR1cm4gYX19cmV0dXJuIEpoKCEwLGksZSxzLG4sbyxoKX1hKFwiXCIpfWZ1bmN0aW9uIFdoKHQsZSxuLHIsbyxhLGgsdSxtKXtjb25zdCBsPXQuZ2V0R2VvbWV0cnlUeXBlKCk7aWYoYSYmKGEubGVuZ3RoPTAsaC5sZW5ndGg9MCksdSYmKHUubGVuZ3RoPTApLGw9PT1pLmVudW1FbGxpcHRpY0FyYyl7Y29uc3QgZT10O2lmKGUuaXNEZWdlbmVyYXRlVG9MaW5lKCl8fGUuaXNEZWdlbmVyYXRlKDApKXJldHVybiBhJiYoYS5wdXNoKHQuZ2V0U3RhcnRYWSgpKSxhLnB1c2goUS5nZXROQU4oKSksYS5wdXNoKHQuZ2V0RW5kWFkoKSksaC5wdXNoKE51bWJlci5OYU4pLGgucHVzaChOdW1iZXIuTmFOKSxoLnB1c2goTnVtYmVyLk5hTikpLHUmJih1LnB1c2goMCksdS5wdXNoKDEpKSwxfWNvbnN0IGM9VSg5LE51bWJlci5OYU4pO2xldCBnO2lmKG8pZz10LmdldE1vbm90b25pY1BhcnRQYXJhbXMoYy5sZW5ndGgsYyksYy5sZW5ndGg9ZyxnPVpoKHQsbixjKTtlbHNle2lmKGc9MixjWzBdPTAsY1sxXT0xLGw9PT1YaC50eXBlKXtjb25zdCBlPXQuZ2V0U3dlZXBBbmdsZSgpO2lmKGU+LjkqTWF0aC5QSSl7Y29uc3QgdD0yKk1hdGguUEkvMztNYXRoLm1pbigzLE1hdGgudHJ1bmMoZS90Ky41KSk+Mj8oY1swXT0wLGNbMV09MS8zLGNbMl09Mi8zLGNbM109MSxnPTQpOihjWzBdPTAsY1sxXT0uNSxjWzJdPTEsZz0zKX19ZWxzZSBzKGw9PT1Fbi50eXBlKTtjLmxlbmd0aD1nfWlmKDI9PT1nJiZyJiYoY1sxXT0uNSxjLnB1c2goMSksZz0zKSxhKXtjb25zdCBlPW5ldyBmbTtsZXQgcz0xO2Zvcig7czxnOyl7Y29uc3Qgbj1jW3MtMV0scj1jW3NdO3QucXVlcnlDdXQobixyLGUsITApO2NvbnN0IHU9bHQoUSwzKSxtPVsxLDEsMV07aWYobD09PWkuZW51bUVsbGlwdGljQXJjKXtjb25zdCB0PWUuZ2V0KCk7aWYoTWF0aC5hYnModC5nZXRTd2VlcEFuZ2xlKCkpPi45Kk1hdGguUEkpe2NvbnN0IHQ9KHItbikvMztjLnNwbGljZShzLDAsbit0KSxjLnNwbGljZShzKzEsMCxuKzIqdCksZys9Mjtjb250aW51ZX1tWzFdPUJ1KHQsdSl9ZWxzZXtjb25zdCB0PWUuZ2V0KCk7dC5xdWVyeUNvbnRyb2xQb2ludHModSksdC5xdWVyeVdlaWdodHMobSl9byYmSGEodSksMT09PXMmJihhLnB1c2godVswXS5jbG9uZSgpKSxoLnB1c2gobVswXSkpLGEucHVzaCh1WzFdLmNsb25lKCkpLGEucHVzaCh1WzJdLmNsb25lKCkpLGgucHVzaChtWzFdKSxoLnB1c2gobVsyXSkscysrfX1yZXR1cm4gdSYmKHUubGVuZ3RoPWcsSyh1LGMsMCwwLGcpKSxnLTF9WGgudHlwZT1pLmVudW1FbGxpcHRpY0FyYztjbGFzcyBqaHtzdGF0aWMgY29uc3RydWN0RGVmYXVsdCh0KXtyZXR1cm4gbmV3IGpoKDAsMCwwLHQsITEsSigpKX1jb25zdHJ1Y3Rvcih0LGUscyxuLGkscil7dGhpcy5tX3NlZ21lbnRCdWZmZXI9bnVsbCx0aGlzLm1fZHVtbXlQb2ludD1uZXcgcSx0aGlzLm1fcHJvZ3Jlc3NDb3VudGVyPTAsdGhpcy5tX3Byb2dyZXNzVHJhY2tlcj1uLHRoaXMubV9iU2V0RGVuc2lmeUZsYWc9aSx0aGlzLm1fbWF4TGVuZ3RoPXQsdGhpcy5tX21heERldmlhdGlvbj1lLHRoaXMubV9tYXhBbmdsZT1zPnl0KCk/eXQoKTpzLHRoaXMubV9jb3NNYXhBbmdsZT1NYXRoLmNvcyh0aGlzLm1fbWF4QW5nbGUpLHRoaXMubV9iT25seUN1cnZlRGVuc2lmeT10aGlzLm1fbWF4QW5nbGU+MHx8dGhpcy5tX21heERldmlhdGlvbj4wLHRoaXMubV9tYXhTZWdtZW50c1BlckN1cnZlPXIsXyh0aGlzLm1fbWF4U2VnbWVudHNQZXJDdXJ2ZT4wLFwidGhpcy5tX21heFNlZ21lbnRzUGVyQ3VydmUgPiAwXCIpLHRoaXMubV9taW5TdGVwPTEvdGhpcy5tX21heFNlZ21lbnRzUGVyQ3VydmV9ZGVuc2lmeSh0KXtyZXR1cm4gdGhpcy5kZW5zaWZ5R2VvbSh0KX1kZW5zaWZ5U2VnbWVudCh0LGUpe3RoaXMuZGVuc2lmeVNlZ21lbnRFeCh0LG51bGwsITAsITEsZSl9ZGVuc2lmeUV4KHQsZSxzLG4saSxyKXtyZXR1cm4gdGhpcy5tX21heExlbmd0aD1lLHRoaXMubV9tYXhEZXZpYXRpb249cyx0aGlzLm1fbWF4QW5nbGU9bj55dCgpP3l0KCk6bix0aGlzLm1fY29zTWF4QW5nbGU9TWF0aC5jb3ModGhpcy5tX21heEFuZ2xlKSx0aGlzLm1fYk9ubHlDdXJ2ZURlbnNpZnk9dGhpcy5tX21heEFuZ2xlPjB8fHRoaXMubV9tYXhEZXZpYXRpb24+MCx0aGlzLm1fYlNldERlbnNpZnlGbGFnPWksdGhpcy5tX21heFNlZ21lbnRzUGVyQ3VydmU9cixfKHRoaXMubV9tYXhTZWdtZW50c1BlckN1cnZlPjAsXCJ0aGlzLm1fbWF4U2VnbWVudHNQZXJDdXJ2ZSA+IDBcIiksdGhpcy5tX21pblN0ZXA9MS90aGlzLm1fbWF4U2VnbWVudHNQZXJDdXJ2ZSx0aGlzLmRlbnNpZnlHZW9tKHQpfWRlbnNpZnlHZW9tKHQpe2lmKHQuaXNFbXB0eSgpfHx0LmdldERpbWVuc2lvbigpPDEpcmV0dXJuIHQ7Y29uc3QgZT10LmdldEdlb21ldHJ5VHlwZSgpO3JldHVybiBwKGUpP3Q6YyhlKT90aGlzLmRlbnNpZnlNdWx0aVBhdGgodCk6bShlKT90aGlzLmRlbnNpZnlTZWdtZW50SW1wbCh0KTplPT09aS5lbnVtRW52ZWxvcGU/dGhpcy5kZW5zaWZ5RW52ZWxvcGUodCk6dm9pZCBoKFwiXCIpfWRlbnNpZnlTZWdtZW50RXgodCxlLHMsbixyKXtjb25zdCBvPXQuZ2V0R2VvbWV0cnlUeXBlKCk7aWYoISh0aGlzLm1fbWF4TGVuZ3RoPjB8fHRoaXMubV9iT25seUN1cnZlRGVuc2lmeSYmbyE9PWkuZW51bUxpbmUpJiYoIW58fHMpKXJldHVybiB2b2lkKGU/bz09PWkuZW51bUxpbmU/ZS5hZGRTZWdtZW50KHQscyk6KHMmJih0LnF1ZXJ5U3RhcnQodGhpcy5tX2R1bW15UG9pbnQpLGUuc3RhcnRQYXRoUG9pbnQodGhpcy5tX2R1bW15UG9pbnQpKSx0LnF1ZXJ5RW5kKHRoaXMubV9kdW1teVBvaW50KSxlLmxpbmVUb1BvaW50KHRoaXMubV9kdW1teVBvaW50KSk6KHMmJnIucHVzaCgwKSxyLnB1c2goMSkpKTtpZihvPT09aS5lbnVtQmV6aWVyKXJldHVybiB2b2lkIHRoaXMuZGVuc2lmeUN1YmljQmV6aWVyKHQsZSxzLG4scik7aWYobz09PWkuZW51bVJhdGlvbmFsQmV6aWVyMilyZXR1cm4gdm9pZCB0aGlzLmRlbnNpZnlSYXRpb25hbEJlemllcjIodCxlLHMsbixyKTtpZihvPT09aS5lbnVtQmV6aWVyMilyZXR1cm4gdm9pZCB0aGlzLmRlbnNpZnlCZXppZXIyKHQsZSxzLG4scik7aWYobz09PWkuZW51bUVsbGlwdGljQXJjJiYhdC5pc0xpbmUoKSYmdC5nZXRNaW5vck1ham9yUmF0aW8oKTwuMjUpcmV0dXJuIHZvaWQgdGhpcy5kZW5zaWZ5RWxsaXB0aWNBcmModCxlLHMsbixyKTtsZXQgYT0xO3RoaXMubV9tYXhMZW5ndGg+MCYmKGE9dGhpcy5jYWxjdWxhdGVMZW5ndGhTdWJkaXZpc2lvblN0ZXAodCx0aGlzLm1fbWF4TGVuZ3RoKSksdGhpcy5tX21heERldmlhdGlvbj4wJiYoYT1NYXRoLm1pbihhLHRoaXMuY2FsY3VsYXRlRGV2aWF0aW9uU3ViZGl2aXNpb25TdGVwKHQsdGhpcy5tX21heERldmlhdGlvbikpKSx0aGlzLm1fbWF4QW5nbGU+MCYmKGE9TWF0aC5taW4oYSx0aGlzLmNhbGN1bGF0ZUFuZ3VsYXJTdWJkaXZpc2lvblN0ZXAodCx0aGlzLm1fbWF4QW5nbGUpKSksdGhpcy5kZW5zaWZ5U2VnbWVudEJ5TGVuZ3RoKHQsYSxlLHMsbixyKX1kZW5zaWZ5TXVsdGlQYXRoKHQpe2lmKCF0Lmhhc05vbkxpbmVhclNlZ21lbnRzKCkpe2lmKDE9PT10LmdldERlc2NyaXB0aW9uKCkuZ2V0QXR0cmlidXRlQ291bnQoKSlyZXR1cm4gdGhpcy5kZW5zaWZ5TXVsdGlQYXRoTGluZWFyKHQpO2lmKCEodGhpcy5tX21heExlbmd0aD4wKSlyZXR1cm4gdH1jb25zdCBlPXQuY3JlYXRlSW5zdGFuY2UoKTtpZihlLmdldEdlb21ldHJ5VHlwZSgpPT09aS5lbnVtUG9seWdvbil7ZS5zZXRGaWxsUnVsZSh0LmdldEZpbGxSdWxlKCkpfWUucmVzZXJ2ZSh0LmdldFBvaW50Q291bnQoKSk7Y29uc3Qgcz10LmdldEltcGwoKS5xdWVyeVNlZ21lbnRJdGVyYXRvcigpO2Zvcig7cy5uZXh0UGF0aCgpOyl7bGV0IHQ9ITA7Zm9yKDtzLmhhc05leHRTZWdtZW50KCk7KXtjb25zdCBuPXMubmV4dFNlZ21lbnQoKSxpPXMuaXNDbG9zaW5nU2VnbWVudCgpO3RoaXMuZGVuc2lmeVNlZ21lbnRFeChuLGUsdCxpLG51bGwpLGkmJmUuY2xvc2VQYXRoV2l0aExpbmUoKSx0PSExfX1yZXR1cm4gZX1kZW5zaWZ5U2VnbWVudEltcGwodCl7Y29uc3QgZT1uZXcgT3Moe3ZkOnQuZ2V0RGVzY3JpcHRpb24oKX0pLHM9WzBdO3JldHVybiB0aGlzLmRlbnNpZnlTZWdtZW50RXgodCxlLCEwLCExLHMpLGV9ZGVuc2lmeUVudmVsb3BlKHQpe2NvbnN0IGU9bmV3IHVyKHt2ZDp0LmdldERlc2NyaXB0aW9uKCl9KTtlLmFkZEVudmVsb3BlKHQsITEpO2NvbnN0IHM9bWUuY29uc3RydWN0RW1wdHkoKTt0LnF1ZXJ5RW52ZWxvcGUocyk7Y29uc3Qgbj1zLndpZHRoKCksaT1zLmhlaWdodCgpO3JldHVybiEodGhpcy5tX21heExlbmd0aD4wKXx8bjw9dGhpcy5tX21heExlbmd0aCYmaTw9dGhpcy5tX21heExlbmd0aD9lOnRoaXMuZGVuc2lmeU11bHRpUGF0aChlKX1kZW5zaWZ5TXVsdGlQYXRoTGluZWFyKHQpe2lmKCEodGhpcy5tX21heExlbmd0aD4wKSlyZXR1cm4gdDtjb25zdCBlPXQuY3JlYXRlSW5zdGFuY2UoKTtpZihlLmdldEdlb21ldHJ5VHlwZSgpPT09aS5lbnVtUG9seWdvbil7ZS5zZXRGaWxsUnVsZSh0LmdldEZpbGxSdWxlKCkpfWUucmVzZXJ2ZSh0LmdldFBvaW50Q291bnQoKSk7Y29uc3Qgcz1lLmdldEltcGwoKSxuPXQuZ2V0SW1wbCgpLHI9bi5nZXRBdHRyaWJ1dGVTdHJlYW1SZWYoMCksbz1uZXcgcG07Zm9yKGxldCBpPTAsYT1uLmdldFBhdGhDb3VudCgpO2k8YTtpKyspe2NvbnN0IHQ9bi5pc0Nsb3NlZFBhdGgoaSk7aWYoMD09PW4uZ2V0UGF0aFNpemUoaSkpY29udGludWU7Y29uc3QgYT1uLmdldFBhdGhTdGFydChpKSxoPXIucmVhZFBvaW50MkQoMiphKSx1PWguY2xvbmUoKTtzLnN0YXJ0UGF0aChoKTtmb3IobGV0IG09YSsxLGw9bi5nZXRQYXRoRW5kKGkpO208bDttKyspe2NvbnN0IHQ9ci5yZWFkUG9pbnQyRCgyKm0pLG49US5kaXN0YW5jZSh1LHQpO2lmKG4+dGhpcy5tX21heExlbmd0aCl7bGV0IGU9TWF0aC5jZWlsKG4vdGhpcy5tX21heExlbmd0aCk7ZT5KKCkmJihlPUooKSk7Y29uc3QgaT0xL2U7bGV0IHIsYSxoO3UuY29tcGFyZSh0KTwwPyhvLnNldFN0YXJ0WFkodSksby5zZXRFbmRYWSh0KSxyPTAsYT0xKTooby5zZXRTdGFydFhZKHQpLG8uc2V0RW5kWFkodSkscj1lLTIsYT0tMSk7Zm9yKGxldCB0PTAsbj1lLTE7dDxuO3QrKyxyKz1hKXt0aGlzLnByb2dyZXNzXygpLGg9aSoocisxKTtjb25zdCB0PW5ldyBRO28ucXVlcnlDb29yZDJEKGgsdCkscy5saW5lVG8odCksdGhpcy5tX2JTZXREZW5zaWZ5RmxhZyYmcy5zZXRBdHRyaWJ1dGVOb0N1cnZlcygxMCxzLmdldFBvaW50Q291bnQoKS0xLDAsMSl9fWVsc2UgdGhpcy5wcm9ncmVzc18oKTtlLmxpbmVUbyh0KSx1LmFzc2lnbih0KX1pZih0KXtjb25zdCB0PVEuZGlzdGFuY2UodSxoKTtpZih0PnRoaXMubV9tYXhMZW5ndGgpe2NvbnN0IGU9aDtsZXQgbj1NYXRoLmNlaWwodC90aGlzLm1fbWF4TGVuZ3RoKTtuPkooKSYmKG49SigpKTtjb25zdCBpPTEvbjtsZXQgcixhO3UuY29tcGFyZShlKTwwPyhvLnNldFN0YXJ0WFkodSksby5zZXRFbmRYWShlKSxyPTAsYT0xKTooby5zZXRTdGFydFhZKGUpLG8uc2V0RW5kWFkodSkscj1uLTIsYT0tMSk7Y29uc3QgbT1uZXcgUSgwLDApO2xldCBsO2ZvcihsZXQgdD0wLGg9bi0xO3Q8aDt0Kysscis9YSl0aGlzLnByb2dyZXNzXygpLGw9aSoocisxKSxvLnF1ZXJ5Q29vcmQyRChsLG0pLHMubGluZVRvKG0pLHRoaXMubV9iU2V0RGVuc2lmeUZsYWcmJnMuc2V0QXR0cmlidXRlTm9DdXJ2ZXMoMTAscy5nZXRQb2ludENvdW50KCktMSwwLDEpfXMuY2xvc2VQYXRoV2l0aExpbmUoKX19cmV0dXJuIGV9ZGVuc2lmeVNlZ21lbnRCeUxlbmd0aCh0LGUsbixyLG8saCl7cyh0LmdldEdlb21ldHJ5VHlwZSgpIT09aS5lbnVtQmV6aWVyKTtsZXQgdT10LmdldFN0YXJ0WFkoKS5jb21wYXJlKHQuZ2V0RW5kWFkoKSk7aWYoMD09PXUmJmU8MSl7dC5nZXRHZW9tZXRyeVR5cGUoKT09PWkuZW51bUVsbGlwdGljQXJjP3U9dC5nZXRTd2VlcEFuZ2xlKCk8MD8xOi0xOmEoXCJkZW5zaWZ5IHNlZ21lbnQgYnkgbGVuZ3RoXCIpfWxldCBtPTA7aWYociYmKG4/KHQucXVlcnlTdGFydCh0aGlzLm1fZHVtbXlQb2ludCksbi5zdGFydFBhdGhQb2ludCh0aGlzLm1fZHVtbXlQb2ludCkpOmgucHVzaCgwKSwrK20pLGUqdGhpcy5tX21heFNlZ21lbnRzUGVyQ3VydmU8MSYmKGU9MS90aGlzLm1fbWF4U2VnbWVudHNQZXJDdXJ2ZSksZTwxKXt0aGlzLm1fc2VnbWVudEJ1ZmZlcnx8KHRoaXMubV9zZWdtZW50QnVmZmVyPW5ldyBmbSk7bGV0IHM9TWF0aC5jZWlsKDEvZSk7cz5KKCkmJihzPUooKSksZT0xL3MsdGhpcy5tX3NlZ21lbnRCdWZmZXIuY3JlYXRlKHQuZ2V0R2VvbWV0cnlUeXBlKCkpO2xldCBpLHIsbyxhPXQ7dTwwPyhpPTAscj0xKToodC5jb3B5VG8odGhpcy5tX3NlZ21lbnRCdWZmZXIuZ2V0KCkpLHRoaXMubV9zZWdtZW50QnVmZmVyLmdldCgpLnJldmVyc2UoKSxpPXMtMixyPS0xLGE9dGhpcy5tX3NlZ21lbnRCdWZmZXIuZ2V0KCkpO2NvbnN0IGw9cy0xO2ZvcihsZXQgdD0wO3Q8bDt0KyssaSs9cilvPWUqKGkrMSksbj8oYS5xdWVyeUNvb3JkKG8sdGhpcy5tX2R1bW15UG9pbnQpLG4ubGluZVRvUG9pbnQodGhpcy5tX2R1bW15UG9pbnQpLHRoaXMubV9iU2V0RGVuc2lmeUZsYWcmJjEhPT1vJiYwIT09byYmbi5zZXRBdHRyaWJ1dGUoMTAsbi5nZXRQb2ludENvdW50KCktMSwwLDEpKTpoLnB1c2godT4wPzEtbzpvKSx0aGlzLnByb2dyZXNzXygpO289MSxtKz1sfSghb3x8byYmciYmbTwyKSYmKG4/KHQucXVlcnlFbmQodGhpcy5tX2R1bW15UG9pbnQpLG4ubGluZVRvUG9pbnQodGhpcy5tX2R1bW15UG9pbnQpKTpoLnB1c2goMSkpfWRlbnNpZnlDdWJpY0Jlemllcih0LGUscyxuLGkpe2NvbnN0IHI9bmV3IGlhO2xldCBvPXQ7Y29uc3QgYT10LmNhbGN1bGF0ZVVwcGVyTGVuZ3RoMkQoKTtsZXQgaD10LmdldFN0YXJ0WFkoKS5jb21wYXJlKHQuZ2V0RW5kWFkoKSk7aWYoMD09PWgmJmE+MCl7Y29uc3QgZT1sdChRLDQpO3QucXVlcnlDb250cm9sUG9pbnRzKGUpLGg9ZVsxXS5jb21wYXJlKGVbMl0pLDA9PT1oJiYoaD1lWzFdLmNvbXBhcmUoZVswXSkpfWg+MCYmKHQuY29weVRvKHIpLHIucmV2ZXJzZSgpLG89cik7bGV0IHU9MDtzJiYoZT8odC5xdWVyeVN0YXJ0KHRoaXMubV9kdW1teVBvaW50KSxlLnN0YXJ0UGF0aFBvaW50KHRoaXMubV9kdW1teVBvaW50KSk6aS5wdXNoKDApLCsrdSk7Y29uc3QgbT1bXSxsPVtdLGM9TWF0aC50cnVuYyhNYXRoLmxvZzIodGhpcy5tX21heFNlZ21lbnRzUGVyQ3VydmUpKTtsZXQgZz0hMCxkPTA7aWYoaD4wKWZvcihtLnB1c2goW28uZ2V0U3RhcnRYWSgpLG8uZ2V0Q29udHJvbFBvaW50MSgpLG8uZ2V0Q29udHJvbFBvaW50MigpLG8uZ2V0RW5kWFkoKSxuZXcgUSgwLDEpXSksbC5wdXNoKDApO20ubGVuZ3RoOyl7dGhpcy5wcm9ncmVzc18oKTtjb25zdCB0PW0uYXQoLTEpLHI9bC5hdCgtMSksYT10WzRdLngsaD10WzRdLnk7aWYocjxjJiZ0aGlzLmJlemllck5lZWRzU3BsaXQodCkpe2cmJihkPW8uZmluZE1pbkRlcml2KCksZz0hMSk7bGV0IGU9LjUqKGEraCk7TWF0aC5hYnMoZC1lKTwuNCooaC1hKSYmKGU9ZCk7Y29uc3Qgcz0oZS1hKS8oaC1hKSxuPXRbMF0ubXVsKDEtcykuYWRkKHRbMV0ubXVsKHMpKSxpPXRbMV0ubXVsKDEtcykuYWRkKHRbMl0ubXVsKHMpKSx1PXRbMl0ubXVsKDEtcykuYWRkKHRbM10ubXVsKHMpKSxjPW4ubXVsKDEtcykuYWRkKGkubXVsKHMpKSxfPWkubXVsKDEtcykuYWRkKHUubXVsKHMpKSxwPWMubXVsKDEtcykuYWRkKF8ubXVsKHMpKSxmPXRbM107dFsxXT1uLHRbMl09Yyx0WzNdPXAsdFs0XS5zZXRDb29yZHMoYSxlKTtjb25zdCBQPVtwLF8sdSxmLG5ldyBRKGUsaCldO20ucHVzaChQKSxsW2wubGVuZ3RoLTFdPXIrMSxsLnB1c2gocisxKX1lbHNlIG0ucG9wKCksbC5wb3AoKSwobS5sZW5ndGg+MHx8IW58fG4mJnMmJnU8MikmJihlPyhvLnF1ZXJ5Q29vcmQoYSx0aGlzLm1fZHVtbXlQb2ludCksZS5saW5lVG9Qb2ludCh0aGlzLm1fZHVtbXlQb2ludCksdGhpcy5tX2JTZXREZW5zaWZ5RmxhZyYmMSE9PWEmJjAhPT1hJiZlLnNldEF0dHJpYnV0ZSgxMCxlLmdldFBvaW50Q291bnQoKS0xLDAsMSkpOmkucHVzaCgxLWEpLCsrdSl9ZWxzZSBmb3IobS5wdXNoKFtvLmdldFN0YXJ0WFkoKSxvLmdldENvbnRyb2xQb2ludDEoKSxvLmdldENvbnRyb2xQb2ludDIoKSxvLmdldEVuZFhZKCksbmV3IFEoMCwxKV0pLGwucHVzaCgwKTttLmxlbmd0aDspe3RoaXMucHJvZ3Jlc3NfKCk7Y29uc3QgdD1tLmF0KC0xKSxyPWwuYXQoLTEpLGE9dFs0XS54LGg9dFs0XS55O2lmKHI8YyYmdGhpcy5iZXppZXJOZWVkc1NwbGl0KHQpKXtnJiYoZD1vLmZpbmRNaW5EZXJpdigpLGc9ITEpO2xldCBlPS41KihhK2gpO01hdGguYWJzKGQtZSk8LjQqKGgtYSkmJihlPWQpO2NvbnN0IHM9KGUtYSkvKGgtYSksbj10WzBdLm11bCgxLXMpLmFkZCh0WzFdLm11bChzKSksaT10WzFdLm11bCgxLXMpLmFkZCh0WzJdLm11bChzKSksdT10WzJdLm11bCgxLXMpLmFkZCh0WzNdLm11bChzKSksYz1uLm11bCgxLXMpLmFkZChpLm11bChzKSksXz1pLm11bCgxLXMpLmFkZCh1Lm11bChzKSkscD1jLm11bCgxLXMpLmFkZChfLm11bChzKSksZj10WzBdO3RbMF09cCx0WzFdPV8sdFsyXT11LHRbNF0uc2V0Q29vcmRzKGUsaCk7Y29uc3QgUD1bZixuLGMscCxuZXcgUShhLGUpXTttLnB1c2goUCksbFtsLmxlbmd0aC0xXT1yKzEsbC5wdXNoKHIrMSl9ZWxzZSBtLnBvcCgpLGwucG9wKCksKG0ubGVuZ3RoPjB8fCFufHxuJiZzJiZ1PDIpJiYoZT8oby5xdWVyeUNvb3JkKGgsdGhpcy5tX2R1bW15UG9pbnQpLGUubGluZVRvUG9pbnQodGhpcy5tX2R1bW15UG9pbnQpLHRoaXMubV9iU2V0RGVuc2lmeUZsYWcmJjEhPT1oJiYwIT09aCYmZS5zZXRBdHRyaWJ1dGUoMTAsZS5nZXRQb2ludENvdW50KCktMSwwLDEpKTppLnB1c2goaCksKyt1KX19ZGVuc2lmeVJhdGlvbmFsQmV6aWVyMih0LGUscyxuLGkpe2NvbnN0IHI9bmV3IEVuO2xldCBvPXQ7Y29uc3QgYT10LmNhbGN1bGF0ZVVwcGVyTGVuZ3RoMkQoKTtsZXQgaD10LmdldFN0YXJ0WFkoKS5jb21wYXJlKHQuZ2V0RW5kWFkoKSk7MD09PWgmJmE+MCYmKGg9MCksaD4wJiYodC5jb3B5VG8ociksci5yZXZlcnNlKCksbz1yKTtsZXQgdT0wO3MmJihlPyh0LnF1ZXJ5U3RhcnQodGhpcy5tX2R1bW15UG9pbnQpLGUuc3RhcnRQYXRoUG9pbnQodGhpcy5tX2R1bW15UG9pbnQpKTppLnB1c2goMCksKyt1KTtjb25zdCBtPU1hdGgudHJ1bmMoTWF0aC5sb2cyKHRoaXMubV9tYXhTZWdtZW50c1BlckN1cnZlKSksbD1uZXcgRW4sYz1bXSxnPVtdO2ZvcihjLnB1c2gobmV3IEgoMCwxKSksZy5wdXNoKDApO2MubGVuZ3RoOyl7dGhpcy5wcm9ncmVzc18oKTtjb25zdCB0PWMuYXQoLTEpLmNsb25lKCkscj1nLmF0KC0xKTtpZihyPG0mJnRoaXMucmF0aW9uYWxCZXppZXIyTmVlZHNTcGxpdChvLGwsdC52bWluLHQudm1heCkpe2NvbnN0IGU9dC5nZXRDZW50ZXIoKTtoPjA/KGMuYXQoLTEpLnZtYXg9ZSxjLnB1c2gobmV3IEgoZSx0LnZtYXgpKSk6KGMuYXQoLTEpLnZtaW49ZSxjLnB1c2gobmV3IEgodC52bWluLGUpKSksZ1tnLmxlbmd0aC0xXT1yKzEsZy5wdXNoKHIrMSl9ZWxzZSBpZihjLnBvcCgpLGcucG9wKCksYy5sZW5ndGg+MHx8IW58fG4mJnMmJnU8Mil7Y29uc3Qgcz1oPjA/dC52bWluOnQudm1heDtlPyhvLnF1ZXJ5Q29vcmQocyx0aGlzLm1fZHVtbXlQb2ludCksZS5saW5lVG9Qb2ludCh0aGlzLm1fZHVtbXlQb2ludCksdGhpcy5tX2JTZXREZW5zaWZ5RmxhZyYmMSE9PXMmJjAhPT1zJiZlLnNldEF0dHJpYnV0ZSgxMCxlLmdldFBvaW50Q291bnQoKS0xLDAsMSkpOmkucHVzaChoPjA/MS1zOnMpLCsrdX19fWRlbnNpZnlCZXppZXIyKHQsZSxzLG4saSl7Y29uc3Qgcj1uZXcgd247bGV0IG89dDtjb25zdCBhPXQuY2FsY3VsYXRlVXBwZXJMZW5ndGgyRCgpO2xldCBoPXQuZ2V0U3RhcnRYWSgpLmNvbXBhcmUodC5nZXRFbmRYWSgpKTswPT09aCYmYT4wJiYoaD0wKSxoPjAmJih0LmNvcHlUbyhyKSxyLnJldmVyc2UoKSxvPXIpO2xldCB1PTA7cyYmKGU/KHQucXVlcnlTdGFydCh0aGlzLm1fZHVtbXlQb2ludCksZS5zdGFydFBhdGhQb2ludCh0aGlzLm1fZHVtbXlQb2ludCkpOmkucHVzaCgwKSwrK3UpO2NvbnN0IG09TWF0aC5jZWlsKE1hdGgubG9nMih0aGlzLm1fbWF4U2VnbWVudHNQZXJDdXJ2ZSkpLGw9bmV3IHduLGM9W10sZz1bXTtmb3IoYy5wdXNoKG5ldyBIKDAsMSkpLGcucHVzaCgwKTtjLmxlbmd0aDspe3RoaXMucHJvZ3Jlc3NfKCk7Y29uc3QgdD1jLmF0KC0xKS5jbG9uZSgpLHI9Zy5hdCgtMSk7aWYocjxtJiZ0aGlzLmJlemllcjJOZWVkc1NwbGl0KG8sbCx0LnZtaW4sdC52bWF4KSl7Y29uc3QgZT10LmdldENlbnRlcigpO2g+MD8oYy5hdCgtMSkudm1heD1lLGMucHVzaChuZXcgSChlLHQudm1heCkpKTooYy5hdCgtMSkudm1pbj1lLGMucHVzaChuZXcgSCh0LnZtaW4sZSkpKSxnW2cubGVuZ3RoLTFdPXIrMSxnLnB1c2gocisxKX1lbHNlIGlmKGMucG9wKCksZy5wb3AoKSxjLmxlbmd0aD4wfHwhbnx8biYmcyYmdTwyKXtjb25zdCBzPWg+MD90LnZtaW46dC52bWF4O2U/KG8ucXVlcnlDb29yZChzLHRoaXMubV9kdW1teVBvaW50KSxlLmxpbmVUb1BvaW50KHRoaXMubV9kdW1teVBvaW50KSx0aGlzLm1fYlNldERlbnNpZnlGbGFnJiYxIT09cyYmMCE9PXMmJmUuc2V0QXR0cmlidXRlKDEwLGUuZ2V0UG9pbnRDb3VudCgpLTEsMCwxKSk6aS5wdXNoKGg+MD8xLXM6cyksKyt1fX19ZGVuc2lmeUVsbGlwdGljQXJjKHQsZSxzLG4saSl7Y29uc3Qgcj1uZXcgWGg7bGV0IG89dDtjb25zdCBhPXQuY2FsY3VsYXRlVXBwZXJMZW5ndGgyRCgpO2xldCBoPXQuZ2V0U3RhcnRYWSgpLmNvbXBhcmUodC5nZXRFbmRYWSgpKTswPT09aCYmYT4wJiYoaD10LmlzQ2xvY2t3aXNlKCk/MDoxKSxoPjAmJih0LmNvcHlUbyhyKSxyLnJldmVyc2UoKSxvPXIpO2xldCB1PTA7cyYmKGU/KHQucXVlcnlTdGFydCh0aGlzLm1fZHVtbXlQb2ludCksZS5zdGFydFBhdGhQb2ludCh0aGlzLm1fZHVtbXlQb2ludCkpOmkucHVzaCgwKSwrK3UpO2NvbnN0IG09TWF0aC50cnVuYyhNYXRoLmxvZzIodGhpcy5tX21heFNlZ21lbnRzUGVyQ3VydmUpKSxsPW5ldyBYaCxjPVtdLGc9W107Zm9yKGMucHVzaChuZXcgSCgwLDEpKSxnLnB1c2goMCk7Yy5sZW5ndGg7KXt0aGlzLnByb2dyZXNzXygpO2NvbnN0IHQ9Yy5hdCgtMSkuY2xvbmUoKSxyPWcuYXQoLTEpO2lmKHI8bSYmdGhpcy5lbGxpcHRpY0FyY05lZWRzU3BsaXQobyxsLHQudm1pbix0LnZtYXgpKXtjb25zdCBlPXQuZ2V0Q2VudGVyKCk7aD4wPyhjLmF0KC0xKS52bWF4PWUsYy5wdXNoKG5ldyBIKGUsdC52bWF4KSkpOihjLmF0KC0xKS52bWluPWUsYy5wdXNoKG5ldyBIKHQudm1pbixlKSkpLGdbZy5sZW5ndGgtMV09cisxLGcucHVzaChyKzEpfWVsc2UgaWYoYy5wb3AoKSxnLnBvcCgpLGMubGVuZ3RoPjB8fCFufHxuJiZzJiZ1PDIpe2NvbnN0IHM9aD4wP3Qudm1pbjp0LnZtYXg7ZT8oby5xdWVyeUNvb3JkKHMsdGhpcy5tX2R1bW15UG9pbnQpLGUubGluZVRvUG9pbnQodGhpcy5tX2R1bW15UG9pbnQpLHRoaXMubV9iU2V0RGVuc2lmeUZsYWcmJjEhPT1zJiYwIT09cyYmZS5zZXRBdHRyaWJ1dGUoMTAsZS5nZXRQb2ludENvdW50KCktMSwwLDEpKTppLnB1c2goaD4wPzEtczpzKSwrK3V9fX1jYWxjdWxhdGVMZW5ndGhTdWJkaXZpc2lvblN0ZXAodCxlKXtjb25zdCBzPXQuY2FsY3VsYXRlVXBwZXJMZW5ndGgyRCgpO2lmKCF0LmlzQ3VydmUoKSlyZXR1cm4gcz9lL3M6MTtpZih0LmdldEdlb21ldHJ5VHlwZSgpPT09aS5lbnVtRWxsaXB0aWNBcmMpe2NvbnN0IG49dDtpZihuLmlzQ2lyY3VsYXIoKXx8bi5pc0RlZ2VuZXJhdGUoMCl8fG4uaXNEZWdlbmVyYXRlVG9MaW5lKCkpe2xldCB0PWUvcztyZXR1cm4gdDx0aGlzLm1fbWluU3RlcCYmKHQ9dGhpcy5tX21pblN0ZXApLHR9cmV0dXJuIGUvcypuLmdldFNlbWlBeGVzKCkueS9uLmdldFNlbWlBeGVzKCkueH10LmdldEdlb21ldHJ5VHlwZSgpPT09aS5lbnVtQmV6aWVyJiZhKFwiXCIpLGEoXCJcIil9Y2FsY3VsYXRlRGV2aWF0aW9uU3ViZGl2aXNpb25TdGVwKHQsZSl7aWYoIXQuaXNDdXJ2ZSgpKXJldHVybiAxO2lmKHQuZ2V0R2VvbWV0cnlUeXBlKCk9PT1pLmVudW1FbGxpcHRpY0FyYyl7Y29uc3Qgcz10O2lmKHMuaXNEZWdlbmVyYXRlKDApfHxzLmlzRGVnZW5lcmF0ZVRvTGluZSgpKXJldHVybiAxO3tjb25zdCBuPXMuZ2V0U2VtaU1ham9yQXhpcygpLGk9MS1lL247bGV0IHI9TWF0aC5QSS8yO2lmKGk+MCl7Y29uc3QgdD00Kk1hdGguc3FydChlL24qLjUpO3I9TWF0aC5taW4oTWF0aC5QSS8yLE1hdGguYWJzKHQpKX1yPU1hdGgubWF4KHIsMipNYXRoLlBJL3RoaXMubV9tYXhTZWdtZW50c1BlckN1cnZlKTtjb25zdCBvPXIqbjtyZXR1cm4gdGhpcy5jYWxjdWxhdGVMZW5ndGhTdWJkaXZpc2lvblN0ZXAodCxvKX19YShcIlwiKX1jYWxjdWxhdGVBbmd1bGFyU3ViZGl2aXNpb25TdGVwKHQsZSl7aWYoIXQuaXNDdXJ2ZSgpKXJldHVybiAxO2lmKHQuZ2V0R2VvbWV0cnlUeXBlKCk9PT1pLmVudW1FbGxpcHRpY0FyYyl7Y29uc3Qgcz10O3JldHVybiBzLmlzRGVnZW5lcmF0ZSgwKXx8cy5pc0RlZ2VuZXJhdGVUb0xpbmUoKT8xOnRoaXMuY2FsY3VsYXRlTGVuZ3RoU3ViZGl2aXNpb25TdGVwKHQsZSpzLmdldFNlbWlNaW5vckF4aXMoKSl9YShcIlwiKX1yYXRpb25hbEJlemllcjJOZWVkc1NwbGl0KHQsZSxzLG4pe3QuY3V0QmV6aWVySWdub3JlQXR0cmlidXRlcyhzLG4sZSk7bGV0IGk9ITE7aWYodGhpcy5tX21heExlbmd0aD4wKXtpZihlLmNhbGN1bGF0ZVVwcGVyTGVuZ3RoMkQoKT50aGlzLm1fbWF4TGVuZ3RoKXJldHVybiBpPSEwLCEwfWNvbnN0IHI9bHQoUSwzKTtlLnF1ZXJ5Q29udHJvbFBvaW50cyhyKTtjb25zdCBvPVswLDAsMF07cmV0dXJuIGUucXVlcnlXZWlnaHRzKG8pLCFpJiZ0aGlzLm1fbWF4RGV2aWF0aW9uPjAmJihpPSFqaC5jaGVja1JhdGlvbmFsQmV6aWVyMk1heERldmlhdGlvbihyLG8sdGhpcy5tX21heERldmlhdGlvbikpLCFpJiZ0aGlzLm1fbWF4QW5nbGU+MCYmKGk9IWpoLmNoZWNrUmF0aW9uYWxCZXppZXIyTWF4QW5nbGUocixvLHRoaXMubV9jb3NNYXhBbmdsZSkpLGl9YmV6aWVyMk5lZWRzU3BsaXQodCxlLHMsbil7dC5jdXRCZXppZXJJZ25vcmVBdHRyaWJ1dGVzKHMsbixlKTtsZXQgaT0hMTtpZih0aGlzLm1fbWF4TGVuZ3RoPjApe2lmKGUuY2FsY3VsYXRlVXBwZXJMZW5ndGgyRCgpPnRoaXMubV9tYXhMZW5ndGgpcmV0dXJuIGk9ITAsITB9Y29uc3Qgcj1sdChRLDMpO3JldHVybiBlLnF1ZXJ5Q29udHJvbFBvaW50cyhyKSwhaSYmdGhpcy5tX21heERldmlhdGlvbj4wJiYoaT0hamguY2hlY2tCZXppZXIyTWF4RGV2aWF0aW9uKHIsdGhpcy5tX21heERldmlhdGlvbikpLCFpJiZ0aGlzLm1fbWF4QW5nbGU+MCYmKGk9IWpoLmNoZWNrQmV6aWVyMk1heEFuZ2xlKHIsdGhpcy5tX2Nvc01heEFuZ2xlKSksaX1lbGxpcHRpY0FyY05lZWRzU3BsaXQodCxlLHMsbil7dC5jdXRBcmNJZ25vcmVBdHRyaWJ1dGVzKHMsbixlKTtsZXQgaT0hMTtpZih0aGlzLm1fbWF4TGVuZ3RoPjApe2lmKGUuY2FsY3VsYXRlVXBwZXJMZW5ndGgyRCgpPnRoaXMubV9tYXhMZW5ndGgpcmV0dXJuIGk9ITAsITB9cmV0dXJuIWkmJnRoaXMubV9tYXhEZXZpYXRpb24+MCYmKGk9IWpoLmNoZWNrRWxsaXB0aWNBcmNNYXhEZXZpYXRpb24oZSx0aGlzLm1fbWF4RGV2aWF0aW9uKSksIWkmJnRoaXMubV9tYXhBbmdsZT4wJiYoaT0hamguY2hlY2tFbGxpcHRpY0FyY01heEFuZ2xlKGUsdGhpcy5tX2Nvc01heEFuZ2xlKSksaX1iZXppZXJOZWVkc1NwbGl0KHQpe2xldCBlPSExO2lmKHRoaXMubV9tYXhMZW5ndGg+MCl7aWYoUS5kaXN0YW5jZSh0WzBdLHRbMV0pK1EuZGlzdGFuY2UodFsxXSx0WzJdKStRLmRpc3RhbmNlKHRbMl0sdFszXSk+dGhpcy5tX21heExlbmd0aClyZXR1cm4gZT0hMCwhMH1yZXR1cm4hZSYmdGhpcy5tX21heERldmlhdGlvbj4wJiYoZT0hamguY2hlY2tCZXppZXJNYXhEZXZpYXRpb24odCx0aGlzLm1fbWF4RGV2aWF0aW9uKSksIWUmJnRoaXMubV9tYXhBbmdsZT4wJiYoZT0hamguY2hlY2tCZXppZXJNYXhBbmdsZSh0LHRoaXMubV9jb3NNYXhBbmdsZSkpLGV9cHJvZ3Jlc3NfKCl7fXN0YXRpYyBjaGVja0Jlemllck1heERldmlhdGlvbih0LGUpe2NvbnN0IHM9dFszXS5zdWIodFswXSk7aWYocy5zcXJMZW5ndGgoKT4wKXtjb25zdCBuPXMuY2xvbmUoKTtuLmxlZnRQZXJwZW5kaWN1bGFyVGhpcygpLG4ubm9ybWFsaXplKCk7Y29uc3QgaT1uLmRvdFByb2R1Y3QodFswXS5zdWIodFsxXSkpLHI9bi5kb3RQcm9kdWN0KHRbMF0uc3ViKHRbMl0pKTtpZihNYXRoLm1heChNYXRoLmFicyhpKSxNYXRoLmFicyhyKSk8PWUpe2NvbnN0IGU9bmV3IFE7UG8odCwuNSxlLCExKTtjb25zdCBuPWUuc3ViKHRbMF0pLmRvdFByb2R1Y3Qocyk7cmV0dXJuIG4+PTAmJm48PXMuc3FyTGVuZ3RoKCl9cmV0dXJuITF9cmV0dXJuIE1hdGgubWF4KHRbMF0uc3ViKHRbMV0pLnNxckxlbmd0aCgpLHRbMF0uc3ViKHRbMl0pLnNxckxlbmd0aCgpKTw9ZSplfXN0YXRpYyBjaGVja0Jlemllck1heEFuZ2xlKHQsZSl7aWYodFswXS5lcXVhbHModFszXSkpcmV0dXJuISghdFswXS5lcXVhbHModFsxXSl8fCF0WzFdLmVxdWFscyh0WzJdKSk7Y29uc3Qgcz10WzNdLnN1Yih0WzBdKTtzLm5vcm1hbGl6ZSgpO3tjb25zdCBuPXRbMV0uc3ViKHRbMF0pLGk9bi5kb3RQcm9kdWN0KHMpO2lmKGk8MClyZXR1cm4hMTtpZihuLmxlbmd0aCgpKmU+aSlyZXR1cm4hMX17Y29uc3Qgbj10WzJdLnN1Yih0WzBdKSxpPW4uZG90UHJvZHVjdChzKTtpZihpPDApcmV0dXJuITE7aWYobi5sZW5ndGgoKSplPmkpcmV0dXJuITF9e2NvbnN0IG49dFsyXS5zdWIodFsxXSksaT1uLmRvdFByb2R1Y3Qocyk7aWYoaTwwKXJldHVybiExO2lmKG4ubGVuZ3RoKCkqZT5pKXJldHVybiExfXJldHVybiEwfXN0YXRpYyBjaGVja1JhdGlvbmFsQmV6aWVyMk1heERldmlhdGlvbih0LGUscyl7aWYoMD09PWVbMV0pcmV0dXJuITE7Y29uc3Qgbj10WzJdLnN1Yih0WzBdKTtpZihuLnNxckxlbmd0aCgpPjApe2NvbnN0IGU9bi5jbG9uZSgpO2UubGVmdFBlcnBlbmRpY3VsYXJUaGlzKCksZS5ub3JtYWxpemUoKTtjb25zdCBpPWUuZG90UHJvZHVjdCh0WzBdLnN1Yih0WzFdKSk7aWYoTWF0aC5hYnMoaSk8PXMpe2NvbnN0IGU9dFsxXS5zdWIodFswXSkuZG90UHJvZHVjdChuKTtyZXR1cm4gZT49MCYmZTw9bi5zcXJMZW5ndGgoKX1yZXR1cm4hMX1yZXR1cm4gdFswXS5zdWIodFsxXSkuc3FyTGVuZ3RoKCk8PXMqc31zdGF0aWMgY2hlY2tSYXRpb25hbEJlemllcjJNYXhBbmdsZSh0LGUscyl7aWYoMD09PWVbMV0pcmV0dXJuITE7aWYodFswXS5lcXVhbHModFsyXSkpcmV0dXJuISF0WzBdLmVxdWFscyh0WzFdKTtjb25zdCBuPXRbMl0uc3ViKHRbMF0pO24ubm9ybWFsaXplKCk7e2NvbnN0IGU9dFsxXS5zdWIodFswXSksaT1lLmRvdFByb2R1Y3Qobik7aWYoaTwwKXJldHVybiExO2lmKGUubGVuZ3RoKCkqcz5pKXJldHVybiExfXJldHVybiEwfXN0YXRpYyBjaGVja0JlemllcjJNYXhEZXZpYXRpb24odCxlKXtjb25zdCBzPXRbMl0uc3ViKHRbMF0pO2lmKHMuc3FyTGVuZ3RoKCk+MCl7Y29uc3Qgbj1zLmNsb25lKCk7bi5sZWZ0UGVycGVuZGljdWxhclRoaXMoKSxuLm5vcm1hbGl6ZSgpO2NvbnN0IGk9bi5kb3RQcm9kdWN0KHRbMF0uc3ViKHRbMV0pKTtpZihNYXRoLmFicyhpKTw9ZSl7Y29uc3QgZT10WzFdLnN1Yih0WzBdKS5kb3RQcm9kdWN0KHMpO3JldHVybiBlPj0wJiZlPD1zLnNxckxlbmd0aCgpfXJldHVybiExfXJldHVybiB0WzBdLnN1Yih0WzFdKS5zcXJMZW5ndGgoKTw9ZSplfXN0YXRpYyBjaGVja0JlemllcjJNYXhBbmdsZSh0LGUpe2lmKHRbMF0uZXF1YWxzKHRbMl0pKXJldHVybiEhdFswXS5lcXVhbHModFsxXSk7Y29uc3Qgcz10WzJdLnN1Yih0WzBdKTtzLm5vcm1hbGl6ZSgpO3tjb25zdCBuPXRbMV0uc3ViKHRbMF0pLGk9bi5kb3RQcm9kdWN0KHMpO2lmKGk8MClyZXR1cm4hMTtpZihuLmxlbmd0aCgpKmU+aSlyZXR1cm4hMX1yZXR1cm4hMH1zdGF0aWMgY2hlY2tFbGxpcHRpY0FyY01heERldmlhdGlvbih0LGUpe2lmKE1hdGguYWJzKHQuZ2V0U3dlZXBBbmdsZSgpKTxNYXRoLlBJKXtjb25zdCBzPXQuZ2V0RW5kWFkoKS5zdWIodC5nZXRTdGFydFhZKCkpLG49WzAsMF07aWYoMT09PXRtKHQscyxuKSl7Y29uc3Qgcz10LmdldENvb3JkMkQoblswXSksaT1RLmdldENsb3Nlc3RDb29yZGluYXRlKHQuZ2V0U3RhcnRYWSgpLHQuZ2V0RW5kWFkoKSxzKSxyPW5ldyBRO3h0KHQuZ2V0U3RhcnRYWSgpLHQuZ2V0RW5kWFkoKSxpLHIpO3JldHVybiBRLmRpc3RhbmNlKHMscik8PWV9fWNvbnN0IHM9dC5nZXRDb29yZDJEKC41KSxuPW5ldyBRO3h0KHQuZ2V0RW5kWFkoKSx0LmdldFN0YXJ0WFkoKSwuNSxuKTtyZXR1cm4gUS5kaXN0YW5jZShzLG4pPD1lfXN0YXRpYyBjaGVja0VsbGlwdGljQXJjTWF4QW5nbGUodCxlKXtjb25zdCBzPXQuZ2V0VGFuZ2VudCgwKSxuPXQuZ2V0VGFuZ2VudCgxKSxpPXMuZG90UHJvZHVjdChuKTtyZXR1cm4hKGk8MCkmJiEocy5sZW5ndGgoKSpuLmxlbmd0aCgpKmU+aSl9c3RhdGljIGNoZWNrVHlwZUZvclJlcGxhY2UodCxlKXtyZXR1cm4gdC5nZXRHZW9tZXRyeVR5cGUoKT09PWUmJihlIT09aS5lbnVtRWxsaXB0aWNBcmN8fHQuaXNDaXJjdWxhcigpKX19ZnVuY3Rpb24gWmgodCxlLHMpe2NvbnN0IG49cy5sZW5ndGg7aWYoZTw9MHx8bjw9MilyZXR1cm4gbjtsZXQgaT0wO2NvbnN0IHI9VShuLTEsTnVtYmVyLk5hTik7Zm9yKGxldCBvPTEsYT1uO288YTtvKyspe2NvbnN0IGU9dC50VG9MZW5ndGgoc1tvXSk7cltvLTFdPWUtaSxpPWV9Zm9yKDtyLmxlbmd0aD4xOyl7Y29uc3QgdD1yLmZpbmRJbmRleCgodD0+dDw9MiplKSk7aWYoLTE9PT10KWJyZWFrO2xldCBuPXQrMSxpPXQrMTtpZih0PjApe2NvbnN0IGU9dC0xOyhpPT09ci5sZW5ndGh8fHJbZV0+cltpXSkmJihpPWUsbi0tKX1yW2ldKz1yW3RdLHIuc3BsaWNlKHQsMSkscy5zcGxpY2UobiwxKX1yZXR1cm4gcy5sZW5ndGh9ZnVuY3Rpb24gSGgodCxlLHMsbixpKXtjb25zdCByPVtdLG89W10sYT1raChlLHMsMCxuLCExLHIsbyksaD1uZXcgaWE7bGV0IHU9aTtjb25zdCBtPWUuZ2V0RGVzY3JpcHRpb24oKTtoLmFzc2lnblZlcnRleERlc2NyaXB0aW9uKG0pO2NvbnN0IGw9bS5nZXRBdHRyaWJ1dGVDb3VudCgpPjEsYz1uZXcgcSxnPW5ldyBwbTtmb3IobGV0IGQ9MCxfPTA7ZDxhO2QrKyl7aWYocltfKzFdLmlzTkFOKCkpe2lmKGwpe2xldCB0PW9bZF07ZS5xdWVyeUNvb3JkKHQsYyksZy5zZXRTdGFydChjKSx0PW9bZCsxXSxlLnF1ZXJ5Q29vcmQodCxjKSxnLnNldEVuZChjKX1nLnNldFN0YXJ0WFkocltfXSksZy5zZXRFbmRYWShyW18rM10pLHQuYWRkU2VnbWVudChnLHUpfWVsc2V7aWYobCl7bGV0IHQ9b1tkXTtlLnF1ZXJ5Q29vcmQodCxjKSxoLnNldFN0YXJ0KGMpLHQ9b1tkKzFdLGUucXVlcnlDb29yZCh0LGMpLGguc2V0RW5kKGMpfWguc2V0U3RhcnRYWShyW19dKSxoLnNldENvbnRyb2xQb2ludDEocltfKzFdKSxoLnNldENvbnRyb2xQb2ludDIocltfKzJdKSxoLnNldEVuZFhZKHJbXyszXSksdC5hZGRTZWdtZW50KGgsdSl9Xys9Myx1PSExfX1mdW5jdGlvbiBVaCh0LGUscyxuLGkpe2NvbnN0IHI9W10sbz1bXSxhPUdoKGUscywwLG4sITEscixvKSxoPW5ldyB3bjtsZXQgdT1pO2NvbnN0IG09ZS5nZXREZXNjcmlwdGlvbigpO2guYXNzaWduVmVydGV4RGVzY3JpcHRpb24obSk7Y29uc3QgbD1tLmdldEF0dHJpYnV0ZUNvdW50KCk+MSxjPW5ldyBxLGc9bmV3IHBtO2ZvcihsZXQgZD0wLF89MDtkPGE7ZCsrKXtpZihyW18rMV0uaXNOQU4oKSl7aWYobCl7bGV0IHQ9b1tkXTtlLnF1ZXJ5Q29vcmQodCxjKSxnLnNldFN0YXJ0KGMpLHQ9b1tkKzFdLGUucXVlcnlDb29yZCh0LGMpLGcuc2V0RW5kKGMpfWcuc2V0U3RhcnRYWShyW19dKSxnLnNldEVuZFhZKHJbXysyXSksdC5hZGRTZWdtZW50KGcsdSl9ZWxzZXtpZihsKXtsZXQgdD1vW2RdO2UucXVlcnlDb29yZCh0LGMpLGguc2V0U3RhcnQoYyksdD1vW2QrMV0sZS5xdWVyeUNvb3JkKHQsYyksaC5zZXRFbmQoYyl9aC5zZXRTdGFydFhZKHJbX10pLGguc2V0Q29udHJvbFBvaW50MShyW18rMV0pLGguc2V0RW5kWFkocltfKzJdKSx0LmFkZFNlZ21lbnQoaCx1KX1fKz0yLHU9ITF9fWZ1bmN0aW9uIE9oKHQsZSxuLHIsbyl7cyh0PT09aS5lbnVtQmV6aWVyfHx0PT09aS5lbnVtRWxsaXB0aWNBcmN8fHQ9PT1pLmVudW1CZXppZXIyKTtjb25zdCBhPWUuY3JlYXRlSW5zdGFuY2UoKTthLmdldEdlb21ldHJ5VHlwZSgpPT09aS5lbnVtUG9seWdvbiYmYS5zZXRGaWxsUnVsZShlLmdldEZpbGxSdWxlKCkpO2NvbnN0IHU9ZS5xdWVyeVNlZ21lbnRJdGVyYXRvcigpO2ZvcihsZXQgbT0wLGw9ZS5nZXRQYXRoQ291bnQoKTttPGw7KyttKXtpZighZS5oYXNOb25MaW5lYXJTZWdtZW50c1BhdGgobSkpe2EuYWRkUGF0aChlLG0sITApO2NvbnRpbnVlfWNvbnN0IG89ZS5nZXRQYXRoU3RhcnQobSk7bGV0IGw9ITAsYz0wO2Zvcih1LnJlc2V0VG9QYXRoKG0pLHModS5uZXh0UGF0aCgpKTt1Lmhhc05leHRTZWdtZW50KCk7KXtjb25zdCBzPXUubmV4dEN1cnZlKCk7aWYoIXMpYnJlYWs7e2NvbnN0IGc9dS5nZXRTdGFydFBvaW50SW5kZXgoKS1vLGQ9Zy1jO2Q+MCYmKGEuYWRkU2VnbWVudHNGcm9tUGF0aChlLG0sYyxkLGwpLGw9ITEpLGM9ZysxLHQ9PT1pLmVudW1CZXppZXI/SGgoYSxzLG4scixsKTp0PT09aS5lbnVtQmV6aWVyMj9VaChhLHMsbixyLGwpOmgoXCJcIiksbD0hMX19Y29uc3QgZz1lLmdldFNlZ21lbnRDb3VudFBhdGgobSk7Zy1jIT09MCYmYS5hZGRTZWdtZW50c0Zyb21QYXRoKGUsbSxjLGctYyxsKX1yZXR1cm4gYX1mdW5jdGlvbiBRaCh0LGUscyxuLGkscixvLGEpe2NvbnN0IGg9ZS5jbG9uZSgpO2guZHJvcEFsbEF0dHJpYnV0ZXMoKTtjb25zdCB1PSh0LGUscyxuKT0+KGUmJih0JiZlLnB1c2gobi5nZXRTdGFydFhZKCkpLGUucHVzaChRLmdldE5BTigpKSxlLnB1c2goUS5nZXROQU4oKSksZS5wdXNoKG4uZ2V0RW5kWFkoKSkpLHMmJih0JiZzLnB1c2goMCkscy5wdXNoKDEpKSwxKTtpZihoLmlzRGVnZW5lcmF0ZVRvTGluZSgpfHxoLmlzRGVnZW5lcmF0ZSgwKSlyZXR1cm4gdSh0LHIsbyxlKTtjb25zdCBtPWguZ2V0U3RhcnRYWSgpLGw9aC5nZXRFbmRYWSgpLGM9aC5nZXRTZW1pQXhlcygpLGc9bmV3IGxlO2lmKGguaXNDaXJjdWxhcigpKWcuc2V0SWRlbnRpdHkoKTtlbHNle2NvbnN0IHQ9aC5nZXRBeGlzWFJvdGF0aW9uKCk7Zy5zZXRTY2FsZUNvb3JkcygxLGguZ2V0TWlub3JNYWpvclJhdGlvKCkpLGcucm90YXRlQW5nbGUodCl9Y29uc3QgZD1oLmdldENlbnRlcigpO2cuc2hpZnQoZCk7Y29uc3QgXz1nLmNsb25lKCk7Xy5pbnZlcnRUaGlzKCksaC5hcHBseVRyYW5zZm9ybWF0aW9uKF8pO2NvbnN0IHA9aC5nZXRTd2VlcEFuZ2xlKCk7aWYoMD09PXApcmV0dXJuIHUodCxyLG8sZSk7Y29uc3QgZj1tZS5jb25zdHJ1Y3RFbXB0eSgpO2Yuc2V0Q29vcmRzKHtjZW50ZXI6ZCx3aWR0aDoyKmMueCxoZWlnaHQ6MipjLnh9KTtjb25zdCBQPS4wNSpmLmNhbGN1bGF0ZVRvbGVyYW5jZUZyb21FbnZlbG9wZSgpLHk9TWF0aC5tYXgocy9jLngsUC9jLngpO2xldCB4PTQqTWF0aC5wb3coeS8uMDc0MSwxLzYpO3g9TWF0aC5taW4oeCxNYXRoLlBJLzIpO2NvbnN0IEM9SWgoaC5nZXRTdGFydEFuZ2xlKCkpO2xldCB2PXA+MD9NYXRoLmZsb29yKEMveCk6TWF0aC5jZWlsKEMveCk7dio9eDtjb25zdCBiPXA+MD94Oi14O3YrYj09PUMmJih2Kz1iKTtsZXQgUz00LzMqTWF0aC50YW4oTWF0aC5hYnMoeCkvNCk7cD4wJiYoUz0tUyksbyYmdCYmby5wdXNoKDApO2NvbnN0IEU9eC9NYXRoLmFicyhwKTtsZXQgRD0odi1DKS9wO2NvbnN0IHc9bS5jbG9uZSgpLEE9bmV3IFE7aC5xdWVyeUNvb3JkMkQoMCxBKTtjb25zdCBUPUEuY2xvbmUoKSxJPTEtLjAxKkU7bGV0IE09MCxZPTA7Zm9yKDtEPDE7KXtsZXQgcztpZihEKz1FLFk+MCYmRDxJKXM9UztlbHNle0Q+PUkmJihEPTEpO2NvbnN0IHQ9KEQtWSkqcDtzPTQvMypNYXRoLnRhbihNYXRoLmFicyh0KS80KSxwPjAmJihzPS1zKX1oLnF1ZXJ5Q29vcmQyRChELEEpO2NvbnN0IGE9bmV3IFE7Zy5xdWVyeVRyYW5zZm9ybShBLGEpO2NvbnN0IHU9ZS5nZXRDbG9zZXN0Q29vcmRpbmF0ZShhLCExKTtpZihlLnF1ZXJ5Q29vcmQyRCh1LGEpLDEhPT1EJiYoUS5kaXN0YW5jZSh3LGEpPD0yKm58fFEuZGlzdGFuY2UoYSxsKTw9MipuKSljb250aW51ZTt3LnNldENvb3Jkc1BvaW50MkQoYSk7Y29uc3QgYz1sdChRLDQpO2NbMF0uYXNzaWduKFQpLGNbM10uYXNzaWduKEEpLGNbMV0ucmlnaHRQZXJwZW5kaWN1bGFyT3RoZXIoVCksY1sxXS5zY2FsZUFkZFRoaXMocyxUKSxjWzJdLmxlZnRQZXJwZW5kaWN1bGFyT3RoZXIoQSksY1syXS5zY2FsZUFkZFRoaXMocyxBKSxnLnRyYW5zZm9ybVBvaW50czJEKGMsMyxjKSxjWzNdLmFzc2lnbihhKSwwPT09WSYmY1swXS5zZXRDb29yZHNQb2ludDJEKG0pLDE9PT1EJiZjWzNdLnNldENvb3Jkc1BvaW50MkQobCksaSYmY28oYyk7bGV0IGQ9ITA7Zm9yKGxldCB0PTE7dDw0O3QrKylpZighY1t0XS5pc0VxdWFsUG9pbnQyRChjWzBdKSl7ZD0hMTticmVha31kfHwobyYmby5wdXNoKHUpLHImJigwPT09WSYmdCYmci5wdXNoKGNbMF0uY2xvbmUoKSksci5wdXNoKGNbMV0uY2xvbmUoKSksci5wdXNoKGNbMl0uY2xvbmUoKSksci5wdXNoKGNbM10uY2xvbmUoKSkpLE0rKyksWT1ELFQuc2V0Q29vcmRzUG9pbnQyRChBKX1yZXR1cm4gTX1mdW5jdGlvbiBKaCh0LGUscyxuLGkscixvLGEpe2UuY2xvbmUoKS5kcm9wQWxsQXR0cmlidXRlcygpO2NvbnN0IGg9bmV3IG1lO2UucXVlcnlMb29zZUVudmVsb3BlKGgpO2NvbnN0IHU9LjA1KmguY2FsY3VsYXRlVG9sZXJhbmNlRnJvbUVudmVsb3BlKCksbT1NYXRoLm1heChzLHUpO28mJnQmJm8ucHVzaCgwKTtsZXQgbD0wO2NvbnN0IGM9bHQoUSwzKTtlLnF1ZXJ5Q29udHJvbFBvaW50cyhjKTtjb25zdCBnPVswLDAsMF07ZS5xdWVyeVdlaWdodHMoZyk7Y29uc3QgZD1bXSxfPVUoOSxOdW1iZXIuTmFOKTtsZXQgcD1lLmdldE1vbm90b25pY1BhcnRQYXJhbXMoXy5sZW5ndGgsXyk7Xy5sZW5ndGg9cCxwPVpoKGUsbixfKTtsZXQgZj0wLFA9dDtmb3IobGV0IHk9MTt5PHA7eSsrKXtjb25zdCB0PV9beV07Zm9yKGQucHVzaChmKSxkLnB1c2godCk7ZC5sZW5ndGg+MTspe2NvbnN0IHQ9ZC5hdCgtMSk7ZC5wb3AoKTtjb25zdCBlPWQuYXQoLTEpLHM9bHQoUSwzKTtRYShjLGcsdCxlLHMsWzAsMCwwXSk7Y29uc3Qgbj1sdChRLDMpLGk9SmkocyxnLG4pLGE9MTYsaD1kLmxlbmd0aD5hO20+PWl8fGg/KG8ucHVzaChlKSxyJiYoUCYmKHIucHVzaChuWzBdKSxQPSExKSxyLnB1c2goblsxXSksci5wdXNoKG5bMl0pKSxsKyspOihkLnB1c2goLjUqKHQrZSkpLGQucHVzaCh0KSl9Zj10fXJldHVybiBsfWZ1bmN0aW9uIEtoKHQsZSxzLG4saSxyLG8sYSl7ZS5jbG9uZSgpLmRyb3BBbGxBdHRyaWJ1dGVzKCk7Y29uc3QgaD1uZXcgbWU7ZS5xdWVyeUxvb3NlRW52ZWxvcGUoaCk7Y29uc3QgdT0uMDUqaC5jYWxjdWxhdGVUb2xlcmFuY2VGcm9tRW52ZWxvcGUoKSxtPU1hdGgubWF4KHMsdSk7byYmdCYmby5wdXNoKDApO2xldCBsPTA7Y29uc3QgYz1sdChRLDMpO2UucXVlcnlDb250cm9sUG9pbnRzKGMpO2NvbnN0IGc9WzAsMCwwXTtlLnF1ZXJ5V2VpZ2h0cyhnKTtjb25zdCBkPVtdLF89VSg5LE51bWJlci5OYU4pO2xldCBwPTA7aT8ocD1lLmdldE1vbm90b25pY1BhcnRQYXJhbXMoXy5sZW5ndGgsXyksXy5sZW5ndGg9cCxwPVpoKGUsbixfKSk6KF8ubGVuZ3RoPTIscD0yLF9bMF09MCxfWzFdPTEpO2xldCBmPTAsUD10O2ZvcihsZXQgeT0xO3k8cDt5Kyspe2NvbnN0IHQ9X1t5XTtmb3IoZC5sZW5ndGg9MCxkLnB1c2godCksZC5wdXNoKGYpO2QubGVuZ3RoPjE7KXtjb25zdCB0PWQuYXQoLTEpO2QucG9wKCk7Y29uc3QgZT1kLmF0KC0xKSxzPWx0KFEsMyksbj1bMCwwLDBdO1FhKGMsZyx0LGUscyxuKTtjb25zdCBpPWx0KFEsNCksYT1KYShzLG4saSksaD0xNix1PWQubGVuZ3RoPmg7bT49YXx8dT8oby5wdXNoKGUpLHImJihQJiYoci5wdXNoKGlbMF0pLFA9ITEpLHIucHVzaChpWzFdKSxyLnB1c2goaVsyXSksci5wdXNoKGlbM10pKSxsKyspOihkLnB1c2goLjUqKHQrZSkpLGQucHVzaCh0KSl9Zj10fXJldHVybiBsfWZ1bmN0aW9uICRoKHQsZSxzLG4saSxyLG8sYSl7Y29uc3QgaD1lLmNsb25lKCk7aWYoaC5kcm9wQWxsQXR0cmlidXRlcygpLGguaXNEZWdlbmVyYXRlVG9MaW5lKCl8fDA9PT1oLmdldFN3ZWVwQW5nbGUoKSlyZXR1cm4gciYmKHQmJnIucHVzaChlLmdldFN0YXJ0WFkoKSksci5wdXNoKFEuZ2V0TkFOKCkpLHIucHVzaChlLmdldEVuZFhZKCkpKSxvJiYodCYmby5wdXNoKDApLG8ucHVzaCgxKSksMTtjb25zdCB1PWguZ2V0U3RhcnRYWSgpLG09aC5nZXRFbmRYWSgpLGw9aC5nZXRTZW1pQXhlcygpLGM9bmV3IGxlO2lmKGguaXNDaXJjdWxhcigpKWMuc2V0SWRlbnRpdHkoKTtlbHNle2NvbnN0IHQ9aC5nZXRBeGlzWFJvdGF0aW9uKCk7Yy5zZXRTY2FsZUNvb3JkcygxLGguZ2V0TWlub3JNYWpvclJhdGlvKCkpLGMucm90YXRlQW5nbGUodCl9Y29uc3QgZz1oLmdldENlbnRlcigpO2Muc2hpZnQoZyk7Y29uc3QgZD1jLmNsb25lKCk7ZC5pbnZlcnRUaGlzKCksaC5hcHBseVRyYW5zZm9ybWF0aW9uKGQpO2NvbnN0IF89bWUuY29uc3RydWN0RW1wdHkoKTtfLnNldENvb3Jkcyh7Y2VudGVyOmcsd2lkdGg6MipsLngsaGVpZ2h0OjIqbC54fSk7Y29uc3QgcD0uMDUqXy5jYWxjdWxhdGVUb2xlcmFuY2VGcm9tRW52ZWxvcGUoKSxmPU1hdGgubWF4KHMvbC54LHAvbC54KSxQPU1hdGguc3FydCgyKmYrZipmKTtsZXQgeT0yKk1hdGguc3FydCgyKlAqKDErZi1QKSk7eT1NYXRoLm1pbih5LE1hdGguUEkvMik7Y29uc3QgeD1oLmdldFN3ZWVwQW5nbGUoKSxDPU1hdGguY2VpbChNYXRoLmFicyh4KS95KSx2PU1hdGgubWF4KEMsMSk7eT14L3Y7Y29uc3QgYj0xL3Y7bGV0IFM9TWF0aC50YW4oTWF0aC5hYnMoeSkvMik7eD4wJiYoUz0tUyksbyYmdCYmby5wdXNoKDApO2NvbnN0IEU9bmV3IFE7aC5xdWVyeUNvb3JkMkQoMCxFKTtmb3IobGV0IEQ9MDtEPHY7RCsrKXtjb25zdCBlPUUuY2xvbmUoKSxzPShEKzEpKmI7aWYobyYmby5wdXNoKHMpLCFyKWNvbnRpbnVlO2gucXVlcnlDb29yZDJEKHMsRSk7Y29uc3Qgbj1sdChRLDMpO25bMF0uYXNzaWduKGUpLG5bMl0uYXNzaWduKEUpLG5bMV0ucmlnaHRQZXJwZW5kaWN1bGFyT3RoZXIoblswXSksblsxXS5tdWxUaGlzKFMpLG5bMV0uYWRkVGhpcyhuWzBdKSxjLnRyYW5zZm9ybVBvaW50czJEKG4sMyxuKSwwPT09RCYmblswXS5zZXRDb29yZHNQb2ludDJEKHUpLEQ9PT12LTEmJm5bMl0uc2V0Q29vcmRzUG9pbnQyRChtKSwwPT09RCYmdCYmci5wdXNoKG5bMF0pLHIucHVzaChuWzFdKSxyLnB1c2goblsyXSl9cmV0dXJuIHZ9ZnVuY3Rpb24gdHUodCxlLHMsbixpLHIsbyxhKXtlLmNsb25lKCkuZHJvcEFsbEF0dHJpYnV0ZXMoKTtjb25zdCBoPW5ldyBtZTtlLnF1ZXJ5TG9vc2VFbnZlbG9wZShoKTtjb25zdCB1PS4wNSpoLmNhbGN1bGF0ZVRvbGVyYW5jZUZyb21FbnZlbG9wZSgpLG09TWF0aC5tYXgocyx1KTtvJiZ0JiZvLnB1c2goMCk7bGV0IGw9MDtjb25zdCBjPWx0KFEsNCk7ZS5xdWVyeUNvbnRyb2xQb2ludHMoYyk7Y29uc3QgZz1bXSxkPVUoOSxOdW1iZXIuTmFOKTtsZXQgXz1lLmdldE1vbm90b25pY1BhcnRQYXJhbXMoZC5sZW5ndGgsZCk7ZC5sZW5ndGg9XyxfPVpoKGUsbixkKTtsZXQgcD0wLGY9dDtmb3IobGV0IFA9MTtQPF87UCsrKXtjb25zdCB0PWRbUF07Zm9yKGcucHVzaChwKSxnLnB1c2godCk7Zy5sZW5ndGg+MTspe2NvbnN0IHQ9Zy5hdCgtMSk7Zy5wb3AoKTtjb25zdCBlPWcuYXQoLTEpLHM9bHQoUSw0KTtmbyhjLHQsZSxzKTtjb25zdCBuPWx0KFEsMyksaT1RaShzLG4pLGE9MTYsaD1nLmxlbmd0aD5hO20+PWl8fGg/KG8ucHVzaChlKSxyJiYoZiYmKHIucHVzaChuWzBdKSxmPSExKSxyLnB1c2goblsxXSksci5wdXNoKG5bMl0pKSxsKyspOihnLnB1c2goLjUqKHQrZSkpLGcucHVzaCh0KSl9cD10fXJldHVybiBsfWZ1bmN0aW9uIGV1KCl7cmV0dXJue2UyOjAsY29tcGxldGVFOjB9fWNsYXNzIHN1e2NvbnN0cnVjdG9yKHQsZSl7dGhpcy5tX2FyYz10LHRoaXMubV9zcXJDaG9yZExlbmd0aD1lfWdldE1heERlcml2YXRpdmUoKXtyZXR1cm4gMX1nZXRWYWx1ZSh0LGUpe3JldHVybiAwPT09dD9RLnNxckRpc3RhbmNlKHRoaXMubV9hcmMuZ2V0Q29vcmQyRChlKSx0aGlzLm1fYXJjLmdldENvb3JkMkQoMS1lKSktdGhpcy5tX3NxckNob3JkTGVuZ3RoOjB9Z2V0RXJyb3IodCl7cmV0dXJuIDB9fWZ1bmN0aW9uIG51KHQsZSxzKXtpZihTdSh0KSl7Q3MobmV3IHBtKHtzdGFydDp0LmdldFN0YXJ0WFkoKSxlbmQ6dC5nZXRFbmRYWSgpfSksZSxzKX1lbHNlIGlmKDA9PT1lLnZhbHVlKCkpcy5zZXQodC5nZXRTdGFydFhZKCkpO2Vsc2UgaWYoMT09PWUudmFsdWUoKSlzLnNldCh0LmdldEVuZFhZKCkpO2Vsc2V7Y29uc3Qgbj1uZXcgYXQ7Z3UodCxlLG4pO2NvbnN0IGk9bmV3IGF0LHI9bmV3IGF0O2F0LnN0X2Nvc0FuZFNpbihuLGkscik7Y29uc3Qgbz1ZZS5jb25zdHJ1Y3RDb29yZHNFKG5ldyBhdCh0Lm1fc2VtaU1ham9yQXhpcykubXVsVGhpc0UoaSksbmV3IGF0KHQubV9zZW1pTWFqb3JBeGlzKS5tdWxUaGlzKHQubV9taW5vck1ham9yUmF0aW8pLm11bFRoaXNFKHIpKSxhPW5ldyBhdCh0Lm1fcm90YXRpb24pO2F0LnN0X2Nvc0FuZFNpbihhLGksciksby5yb3RhdGVEaXJlY3QoaSxyKSxvLmFkZFRoaXNFKFllLmNvbnN0cnVjdFBvaW50MkQodC5tX2NlbnRlcikpLHMuc2V0RShvKX19ZnVuY3Rpb24gaXUodCxlKXtyZXR1cm4gdC5jb252ZXJ0VG9DYW5vbmljKGUpfWZ1bmN0aW9uIHJ1KHQsZSl7Y29uc3Qgcz1uZXcgSCh0LmdldFN0YXJ0QW5nbGUoKSx0LmdldEVuZEFuZ2xlKCkpO3Mubm9ybWFsaXplKCk7Y29uc3Qgbj1rdCgpLGk9UXQoZSxuKTtpZihpPHMudm1pbil7bGV0IHQ9aStuO2Zvcig7dDxzLnZtaW47KXQrPW47cmV0dXJuIHMuY29udGFpbnNDb29yZGluYXRlKHQpP3Q6cy52bWluLWk8dC1zLnZtYXg/aTp0fWlmKGk+cy52bWF4KXtsZXQgdD1pLW47Zm9yKDt0PnMudm1heDspdC09bjtyZXR1cm4gcy5jb250YWluc0Nvb3JkaW5hdGUodCl8fHMudm1pbi10PGktcy52bWF4P3Q6aX1yZXR1cm4gaX1mdW5jdGlvbiBvdSh0LGUscyxuKXtsZXQgaT10Lm1fc3RhcnRBbmdsZSxyPXQubV9zd2VlcEFuZ2xlO2NvbnN0IG89MWUtMTI7Zm9yKDtpPnd0KCk7KWktPTIqd3QoKTtmb3IoO2k8PS13dCgpOylpKz0yKnd0KCk7aWYoIU51bWJlci5pc05hTihlKSl7Zm9yKDtlPnd0KCk7KWUtPTIqd3QoKTtmb3IoO2U8PS13dCgpOyllKz0yKnd0KCk7IXMmJmU+aSYmKGUtPTIqd3QoKSkscyYmZTxpJiYoZSs9Mip3dCgpKSxyPWUtaSxNYXRoLmFicyhyKTxvJiYhbiYmKHI9cz8yKnd0KCk6LTIqd3QoKSksTWF0aC5hYnMocik+Mip3dCgpLW8mJm4mJihyPTApfU1hdGguYWJzKHIpPjIqd3QoKS1vJiYocj1yPj0wPzIqd3QoKTotMip3dCgpLHQuc2V0RW5kWFkodC5nZXRTdGFydFhZKCkpKSxNYXRoLmFicyhyKTxvJiYocj0wLHQuc2V0RW5kWFkodC5nZXRTdGFydFhZKCkpKSxuPU1hdGguYWJzKHIpPD13dCgpLHImJihzPXI+MCksdC5tX3N0YXJ0QW5nbGU9YXUoaSksdC5tX3N3ZWVwQW5nbGU9cixxdSh0LCFuKSxOdSh0LHMpfWZ1bmN0aW9uIGF1KHQpe2xldCBlPXQscz0hMTtyZXR1cm4gZTw9LXd0KCk/KGUrPWt0KCkscz0hMCk6ZT53dCgpJiYoZS09a3QoKSxzPSEwKSxlPD0td3QoKT8oZT1RdChlLGt0KCkpLGU8PS13dCgpJiYoZSs9a3QoKSkscz0hMCk6ZT53dCgpJiYoZT1RdChlLGt0KCkpLGU+d3QoKSYmKGUtPWt0KCkpLHM9ITApLHMmJihlPnd0KCl8fGU8PS13dCgpKSYmKGU9d3QoKSksZX1mdW5jdGlvbiBodSh0LGUscyl7Y29uc3Qgbj1zLGk9bi5nZXRTZW1pQXhlcygpO2xldCByPW5ldyBRKGkueCpNYXRoLmNvcyh0WzBdKSxpLnkqTWF0aC5zaW4odFswXSkpO3JldHVybiByPW4uY29udmVydEZyb21DYW5vbmljKHIpLFEuc3FyRGlzdGFuY2UocixuLmdldFN0YXJ0WFkoKSl9ZnVuY3Rpb24gdXUodCxlLHMpe2NvbnN0IG49cyxpPW4uZ2V0U2VtaUF4ZXMoKSxyPXRbMF0rbi5nZXRTdGFydEFuZ2xlKCk7bGV0IG89bmV3IFEoaS54Kk1hdGguY29zKHIpLGkueSpNYXRoLnNpbihyKSk7cmV0dXJuIG89bi5jb252ZXJ0RnJvbUNhbm9uaWMobyksUS5zcXJEaXN0YW5jZShvLG4uZ2V0RW5kWFkoKSl9ZnVuY3Rpb24gbXUodCl7aWYodC5tX2NlbnRlci5pc05BTigpKXJldHVybiB0Lm1fc3RhcnRBbmdsZT0wLHZvaWQodC5tX3N3ZWVwQW5nbGU9MCk7Y29uc3QgZT10LmdldFN0YXJ0WFkoKSxzPXQuZ2V0RW5kWFkoKSxuPWUuZXF1YWxzKHMpLGk9RnUodCkscj1YdSh0KSxvPXQucHJvamVjdGlvbkJlaGF2aW9yKCk7aWYobil7Y29uc3Qgcz10LmNvbnZlcnRUb0Nhbm9uaWMoZSksbj1uZXcgUSh0Lm1fc2VtaU1ham9yQXhpcyx0Lm1fc2VtaU1ham9yQXhpcyp0Lm1fbWlub3JNYWpvclJhdGlvKTtzLngvPW4ueCxzLnkvPW4ueSx0Lm1fc3RhcnRBbmdsZT1hdShNYXRoLmF0YW4yKHMueSxzLngpKSx0Lm1fc3dlZXBBbmdsZT1pP3I/a3QoKTota3QoKTowfWVsc2V7Y29uc3Qgbj10LmNvbnZlcnRUb0Nhbm9uaWMoZSksYT1uZXcgUSh0Lm1fc2VtaU1ham9yQXhpcyx0Lm1fc2VtaU1ham9yQXhpcyp0Lm1fbWlub3JNYWpvclJhdGlvKTtuLngvPWEueCxuLnkvPWEueTtjb25zdCBoPXQuY29udmVydFRvQ2Fub25pYyhzKTtoLngvPWEueCxoLnkvPWEueSx0Lm1fc3RhcnRBbmdsZT1NYXRoLmF0YW4yKG4ueSxuLngpLHQubV9zd2VlcEFuZ2xlPVEuY2FsY3VsYXRlQW5nbGUobixoKSxyP3QubV9zd2VlcEFuZ2xlPDAmJih0Lm1fc3dlZXBBbmdsZSs9a3QoKSk6dC5tX3N3ZWVwQW5nbGU+MCYmKHQubV9zd2VlcEFuZ2xlLT1rdCgpKSx0Lm1fc3RhcnRBbmdsZT1hdSh0Lm1fc3RhcnRBbmdsZSk7bGV0IHU9aHUoW3QubV9zdGFydEFuZ2xlXSwxLHQpO2lmKHU9TWF0aC5zcXJ0KHUpLHU+LjI1KmlzKHQpKXtjb25zdCBlPXQubV9zdGFydEFuZ2xlLTFlLTQscz10Lm1fc3RhcnRBbmdsZSsxZS00LG49WzBdO3JuKGh1LHQsMSxbdC5tX3N0YXJ0QW5nbGVdLFtlXSxbc10sMWUtMTQsbiksdC5tX3N0YXJ0QW5nbGU9YXUoblswXSl9aWYodT11dShbdC5tX3N3ZWVwQW5nbGVdLDEsdCksdT1NYXRoLnNxcnQodSksdT4uMjUqaXModCkpe2NvbnN0IGU9dC5tX3N3ZWVwQW5nbGUtMWUtNCxzPXQubV9zd2VlcEFuZ2xlKzFlLTQsbj1bMF07cm4odXUsdCwxLFt0Lm1fc3dlZXBBbmdsZV0sW2VdLFtzXSwxZS0xNCxuKSx0Lm1fc3dlZXBBbmdsZT1uWzBdfWNvbnN0IG09TWF0aC5hYnModC5tX3N3ZWVwQW5nbGUpPnd0KCk7aWYocXUodCxtKSxpIT09bSYmIWkmJk1hdGguYWJzKHQubV9zd2VlcEFuZ2xlKT4xLjUqd3QoKSlyZXR1cm4gdm9pZCBidSh0LGUscyxvKTtpZigwPT09dC5tX3N3ZWVwQW5nbGV8fHIhPT10Lm1fc3dlZXBBbmdsZT4wKXJldHVybiB2b2lkIGJ1KHQsZSxzLG8pfX1mdW5jdGlvbiBsdSh0LGUpe3JldHVybihydSh0LGUpLXQuZ2V0U3RhcnRBbmdsZSgpKS90LmdldFN3ZWVwQW5nbGUoKX1mdW5jdGlvbiBjdSh0LGUpe3JldHVybiB0Lm1fc3RhcnRBbmdsZStlKnQubV9zd2VlcEFuZ2xlfWZ1bmN0aW9uIGd1KHQsZSxzKXtzLmFzc2lnbihuZXcgYXQodC5tX3N0YXJ0QW5nbGUpLmFkZEUoZS5tdWxFKG5ldyBhdCh0Lm1fc3dlZXBBbmdsZSkpKSl9ZnVuY3Rpb24gZHUodCxlKXtjb25zdCBzPW5ldyBhdCh0Lm1fY29zcikuc3FyVGhpcygpLG49bmV3IGF0KHQubV9zaW5yKS5zcXJUaGlzKCksaT1uZXcgYXQodC5tX21pbm9yTWFqb3JSYXRpbykscj1uZXcgYXQoMS90Lm1fbWlub3JNYWpvclJhdGlvKSxvPWkubXVsRShzKS5hZGRUaGlzRShyLm11bEUobikpLGE9aS5zdWJFKHIpLm11bFRoaXMoMip0Lm1fY29zcip0Lm1fc2luciksaD1pLm11bEUobikuYWRkVGhpc0Uoci5tdWxFKHMpKTtlWzBdPW8sZVsxXT1hLGVbMl09aCxlWzNdPW5ldyBhdCgtdC5tX3NlbWlNYWpvckF4aXMpLm11bFRoaXModC5tX3NlbWlNYWpvckF4aXMpLm11bFRoaXModC5tX21pbm9yTWFqb3JSYXRpbyl9ZnVuY3Rpb24gX3UodCxlKXtjb25zdCBzPW5ldyBOZTtzLmExMS5zZXRFKHRbMF0pLHMuYTEyPWF0LnN0X211bEJ5UG93ZXIyKHRbMV0sLjUpLHMuYTIxLnNldEUocy5hMTIpLHMuYTIyLnNldEUodFsyXSk7Y29uc3Qgbj1bUS5nZXROQU4oKSxRLmdldE5BTigpXSxpPVtuZXcgYXQsbmV3IGF0XTtzLmVpZ2VuU3ltbWV0cmljKGksbik7Y29uc3Qgcj10WzNdLmNsb25lKCk7ci5uZWdhdGVUaGlzKCksci5pbnZUaGlzKCksaVswXS5tdWxUaGlzRShyKSxpWzFdLm11bFRoaXNFKHIpLGlbMF0uc3FydFRoaXMoKS5pbnZUaGlzKCksaVsxXS5zcXJ0VGhpcygpLmludlRoaXMoKSxlLng9aVswXS50b0RvdWJsZSgpLGUueT1pWzFdLnRvRG91YmxlKCk7cmV0dXJuIE1hdGguYXRhbjIoblswXS55LG5bMF0ueCl9ZnVuY3Rpb24gcHUodCxlLHMpe2lmKFN1KHQpKXJldHVybihzLWUpKlEuZGlzdGFuY2UodC5nZXRTdGFydFhZKCksdC5nZXRFbmRYWSgpKTtpZigxPT09dC5tX21pbm9yTWFqb3JSYXRpbylyZXR1cm4gTWF0aC5hYnModC5nZXRTd2VlcEFuZ2xlKCkqKGUtcykpKnQubV9zZW1pTWFqb3JBeGlzO2NvbnN0IG49RXUodCxlKTtyZXR1cm4gRXUodCxzKS1ufWZ1bmN0aW9uIGZ1KHQpe3JldHVybiB0Lm1fY2FjaGVkVmFsdWVzfWZ1bmN0aW9uIFB1KHQpe2lmKHQubV9jYWNoZWRWYWx1ZXMpcmV0dXJuIHQubV9jYWNoZWRWYWx1ZXM7Y29uc3QgZT1ldSgpO3JldHVybiBlLmUyPUN1KHQpLGUuY29tcGxldGVFPUp0KGUuZTIpLHQubV9jYWNoZWRWYWx1ZXM9ZSxlfWZ1bmN0aW9uIHl1KHQsZSxzLG4pe2lmKCFlLmlzRXF1YWwodC5tX1hTdGFydCx0Lm1fWVN0YXJ0KXx8IXMuaXNFcXVhbCh0Lm1fWEVuZCx0Lm1fWUVuZCkpe2lmKFN1KHQpKXJldHVybiB0Lm1fWFN0YXJ0PWUueCx0Lm1fWVN0YXJ0PWUueSx0Lm1fWEVuZD1zLngsdC5tX1lFbmQ9cy55LEh1KHQpLHZvaWQgdC5hZnRlckNvbXBsZXRlZE1vZGlmaWNhdGlvbigpO2lmKG4mJk1hdGguYWJzKHQuZ2V0U3dlZXBBbmdsZSgpKTw9MS4wMSp5dCgpKXtjb25zdCBuPWx0KFEsMyksaT1CdSh0LG4pO2lmKGphKG4pKXtuWzBdLmFzc2lnbihlKSxuWzJdLmFzc2lnbihzKSxIYShuKTtpZigwPT09dC5wcm9qZWN0aW9uQmVoYXZpb3IoKSl7bGV0IGU9MCxzPTI7US5zcXJEaXN0YW5jZShuWzFdLG5bMF0pPFEuc3FyRGlzdGFuY2UoblsxXSxuWzJdKSYmKHM9ZXQoZSxlPXMpKTtjb25zdCBpPW5bc10uc3ViKG5bZV0pLHI9aS5sZW5ndGgoKTtpLmRpdlRoaXMocik7Y29uc3Qgbz1uWzFdLnN1YihuW2VdKSxhPW8ubGVuZ3RoKCksaD1vLmRvdFByb2R1Y3QoaSkvYSx1PW8uY3Jvc3NQcm9kdWN0KGkpL2EsbT1uZXcgUTt4dChuW2VdLG5bc10sLjUsbSk7Y29uc3QgbD0uNSpyL3UqX3QoMS1oLDAsMSksYz1uWzFdLnNpZGUobltlXSxuW3NdKSxnPWkuY2xvbmUoKTtjP2cubGVmdFBlcnBlbmRpY3VsYXJUaGlzKCk6Zy5yaWdodFBlcnBlbmRpY3VsYXJUaGlzKCk7Y29uc3QgZD1tLnN1YihnLm11bChsKSk7dC5jb25zdHJ1Y3RDaXJjdWxhckFyY1RocmVlUG9pbnQoblswXSxuWzJdLGQpfWVsc2Uga3UobixpKmksbnVsbCwhMSx0KTtyZXR1cm59fTA9PT10LnByb2plY3Rpb25CZWhhdmlvcigpP25tKHQsZSxzKTppbSh0LGUscyl9fWZ1bmN0aW9uIHh1KHQsZSxzKXtjb25zdCBuPTA9PT10LnByb2plY3Rpb25CZWhhdmlvcigpO2lmKHM8PTIpcmV0dXJuIHZvaWQgYnUodCxlWzBdLGVbcy0xXSxuPzA6MSk7aWYobil7dC5jb25zdHJ1Y3RDaXJjdWxhckFyY1RocmVlUG9pbnQoZVswXSxlW3MtMV0sZVtNYXRoLnRydW5jKHMvMildKTtjb25zdCBuPW5ldyBRO3JldHVybiB0LnF1ZXJ5Q29vcmQyRCguNSxuKSx2b2lkIHQubV9pbnRlcmlvci5zZXRDb29yZHNQb2ludDJEKG4pfWNvbnN0IGk9dC5nZXRTZW1pTWFqb3JBeGlzKCkscj10LmdldE1pbm9yTWFqb3JSYXRpbygpLG89dC5nZXRBeGlzWFJvdGF0aW9uKCksYT10LmdldENlbnRlcigpLGg9bmV3IEFycmF5KDQpO2hbMF09dC5pc01ham9yKCksaFsxXT0haFswXSxoWzJdPWhbMF0saFszXT0haFswXTtjb25zdCB1PW5ldyBBcnJheSg0KTt1WzBdPXQuaXNDbG9ja3dpc2UoKSx1WzFdPXVbMF0sdVsyXT0hdVswXSx1WzNdPSF1WzBdO2NvbnN0IG09TWF0aC50cnVuYyhzPDU/MToocys0KS81KSxsPWx0KFhoLDQpLGM9VSg0LE51bWJlci5OYU4pO2xldCBnPTA7Zm9yKGxldCBkPTA7ZDw0O2QrKyl7bFtkXS5jb25zdHJ1Y3RFbGxpcHRpY0FyY0VuZFBvaW50c0NlbnRlcihlWzBdLGVbcy0xXSxpLHIsbyxoW2RdLHVbZF0sYSksY1tkXT0wO2xldCB0PTA7Zm9yKGxldCBuPW07bjxzLTE7bis9bSl7Y29uc3Qgcz1sW2RdLmdldENsb3Nlc3RDb29yZGluYXRlKGVbbl0sITEpO2NbZF0rPVEuc3FyRGlzdGFuY2UobFtkXS5nZXRDb29yZDJEKHMpLGVbbl0pLHQrK31jW2RdLz10LGNbZF08Y1tnXSYmKGc9ZCl9dC5hc3NpZ25Db3B5KGxbZ10pfWZ1bmN0aW9uIEN1KHQpe3JldHVybiAxLXp0KHQubV9taW5vck1ham9yUmF0aW8pfWZ1bmN0aW9uIHZ1KHQsZSxzLG4saSxyLG8sYSxoKXtyZXR1cm4gdC5tX2JpdHM9MCx0Lm1fcm90YXRpb249cixXZSh0LGUpLFplKHQscyksdC5tX2Nvc3I9TWF0aC5jb3MociksdC5tX3NpbnI9TWF0aC5zaW4ocikscXUodCxvKSxOdSh0LGEpLHZvaWQgMCE9PWg/dC5tX2NlbnRlci5hc3NpZ24oaCk6dC5tX2NlbnRlci5zZXROQU4oKSx0LnNldFByb2plY3Rpb25CZWhhdmlvcigxKSx0Lm1fc2VtaU1ham9yQXhpcz1uLHQubV9taW5vck1ham9yUmF0aW89aSx6dSh0LHZvaWQgMD09PWgpfWZ1bmN0aW9uIGJ1KHQsZSxzLG4pe3QubV9iaXRzPTAsdC5tX3JvdGF0aW9uPTAsV2UodCxlKSxaZSh0LHMpLHQubV9pbnRlcmlvci5hc3NpZ24oZS5hZGQocykubXVsKC41KSksdC5tX3N0YXJ0QW5nbGU9MCx0Lm1fc3dlZXBBbmdsZT0wLHQubV9jb3NyPTEsdC5tX3NpbnI9MCxxdSh0LCExKSxOdSh0LCExKSx0Lm1fY2VudGVyLnNldE5BTigpLHQubV9zZW1pTWFqb3JBeGlzPTEsdC5tX21pbm9yTWFqb3JSYXRpbz0wLHQuc2V0UHJvamVjdGlvbkJlaGF2aW9yKG4pLHQuYWZ0ZXJDb21wbGV0ZWRNb2RpZmljYXRpb24oKX1mdW5jdGlvbiBTdSh0KXtyZXR1cm4gdC5tX2NlbnRlci5pc05BTigpfWZ1bmN0aW9uIEV1KHQsZSl7aWYoMD09PWUpcmV0dXJuIDA7Y29uc3Qgcz1QdSh0KSxuPWN1KHQsZSksaT15dCgpLHI9d3UodCksbz1XdChuK2kscy5lMixzLmNvbXBsZXRlRSksYT10Lm1fc2VtaU1ham9yQXhpcyooby1yKTtyZXR1cm4gTWF0aC5hYnMoYSl9ZnVuY3Rpb24gRHUodCxlKXtpZihTdSh0KSl7Y29uc3Qgcz1RLmRpc3RhbmNlKHQuZ2V0U3RhcnRYWSgpLHQuZ2V0RW5kWFkoKSk7cmV0dXJuIDA9PT1zPzA6ZS9zfWlmKDE9PT10Lm1fbWlub3JNYWpvclJhdGlvKXtjb25zdCBzPU1hdGguYWJzKHQuZ2V0U3dlZXBBbmdsZSgpKnQubV9zZW1pTWFqb3JBeGlzKTtyZXR1cm4gMD09PXM/MDplL3N9aWYoMD09PWUpcmV0dXJuIDA7Y29uc3Qgcz10LmdldFN3ZWVwQW5nbGUoKTtpZigwPT09cylyZXR1cm4uNTtjb25zdCBuPVB1KHQpLGk9eXQoKSxyPXd1KHQpO3M8MCYmKGU9LWUpO2NvbnN0IG89ZS90Lm1fc2VtaU1ham9yQXhpcytyO2xldCBhPWp0KG8sbi5lMixuLmNvbXBsZXRlRSk7YS09aSxhLT10LmdldFN0YXJ0QW5nbGUoKTtyZXR1cm4gYS9zfWZ1bmN0aW9uIHd1KHQpe2NvbnN0IGU9UHUodCk7cmV0dXJuIFd0KHQuZ2V0U3RhcnRBbmdsZSgpK3l0KCksZS5lMixlLmNvbXBsZXRlRSl9ZnVuY3Rpb24gQXUodCxlLG4saSxyKXtpZigyPT09ZS5tX1RyYW5zZm9ybWF0aW9uVHlwZSlyZXR1cm4gdm9pZCBzKDApO2lmKHMoIUx1KHQpKSxlLmlzSWRlbnRpdHkoKSYmKCFpfHxpLmVxdWFscyh0LmdldFN0YXJ0WFkoKSkmJnIuZXF1YWxzKHQuZ2V0RW5kWFkoKSkpKXJldHVybjtNdSh0KTtsZXQgbz1RLmdldE5BTigpLGE9US5nZXROQU4oKTtpZihudWxsPT09aT8oby54PXQubV9YU3RhcnQsby55PXQubV9ZU3RhcnQsZS50cmFuc2Zvcm1JblBsYWNlKG8pLGEueD10Lm1fWEVuZCxhLnk9dC5tX1lFbmQsZS50cmFuc2Zvcm1JblBsYWNlKGEpKToobz1pLGE9ciksU3UodCkpcmV0dXJuIHQubV9YU3RhcnQ9by54LHQubV9ZU3RhcnQ9by55LHQubV9YRW5kPWEueCx2b2lkKHQubV9ZRW5kPWEueSk7Y29uc3QgaD10Lm1fY2VudGVyLmNsb25lKCk7aWYoZS50cmFuc2Zvcm1JblBsYWNlKGgpLG58fGUuaXNVbmlmb3JtTm9Sb3RhdGlvbigpKXtsZXQgcz1YdSh0KTtlLmlzUmVmbGVjdGl2ZSgpJiYocz0hcyk7aWYoMD09PXQucHJvamVjdGlvbkJlaGF2aW9yKCkpe2lmKCFvLmVxdWFscyhhKSl7Y29uc3Qgcz10Lm1faW50ZXJpb3IuY2xvbmUoKTtyZXR1cm4gZS50cmFuc2Zvcm1JblBsYWNlKHMpLHZvaWQgdC5jb25zdHJ1Y3RDaXJjdWxhckFyY1RocmVlUG9pbnQobyxhLHMpfXJldHVybiB2b2lkIFR1KHQsbyxhLGgscywhMSl9Y29uc3Qgbj1uZXcgUSh0Lm1fY29zcix0Lm1fc2lucik7ZS50cmFuc2Zvcm1XaXRob3V0VHJhbnNsYXRlSW5QbGFjZShuKTtjb25zdCBpPU1hdGguYXRhbjIobi55LG4ueCkscj10LmdldFNlbWlBeGVzKCk7ZS50cmFuc2Zvcm1XaXRob3V0VHJhbnNsYXRlSW5QbGFjZShyKTtjb25zdCB1PXQubV9jZW50ZXIuY2xvbmUoKTtyZXR1cm4gZS50cmFuc2Zvcm1JblBsYWNlKHUpLHZvaWQgdC5jb25zdHJ1Y3RFbGxpcHRpY0FyY0VuZFBvaW50c0NlbnRlcihvLGEsci54LHIueS9yLngsaSx0LmlzTWFqb3IoKSxzLHUpfXt7Y29uc3Qgcz1uZXcgQXJyYXkoNCk7ZHUodCxzKTtjb25zdCBuPW5ldyBOZTtuLmExMS5zZXRFKHNbMF0pLG4uYTEyLnNldEUoc1sxXSksbi5hMTIubXVsVGhpc0J5UG93ZXIyKC41KSxuLmEyMS5zZXRFKG4uYTEyKSxuLmEyMi5zZXRFKHNbMl0pO2lmKCFuLmRldCgpLmlzWmVybygpKXtjb25zdCBpPW5ldyBOZTtpZihpLmExMS5zZXQoZS54eCksaS5hMTIuc2V0KGUueHkpLGkuYTIxLnNldChlLnl4KSxpLmEyMi5zZXQoZS55eSksaS5pbnZlcnRUaGlzKCkpe2NvbnN0IHI9aS5jbG9uZSgpO3IudHJhbnNwb3NlVGhpcygpO2NvbnN0IHU9bi5jbG9uZSgpO3UubXVsVGhpcyhpKSx1Lm11bExlZnRUaGlzKHIpO2lmKCF1LmRldCgpLmlzWmVybygpKXtjb25zdCBuPWx0KGF0LDQpO25bMF0uc2V0RSh1LmExMSksblsxXS5zZXRFKHUuYTEyKSxuWzFdLm11bFRoaXNCeVBvd2VyMigyKSxuWzJdLnNldEUodS5hMjIpLG5bM10uc2V0RShzWzNdKTtjb25zdCBpPVEuZ2V0TkFOKCkscj1fdShuLGkpO2xldCBtPVh1KHQpO3JldHVybiBlLmlzUmVmbGVjdGl2ZSgpJiYobT0hbSksdm9pZCB0LmNvbnN0cnVjdEVsbGlwdGljQXJjRW5kUG9pbnRzQ2VudGVyKG8sYSxpLngsaS55L2kueCxyLHQuaXNNYWpvcigpLG0saCl9fX19Y29uc3Qgcz1bUS5nZXROQU4oKSxRLmdldE5BTigpLFEuZ2V0TkFOKCldO3NbMF0uc2V0Q29vcmRzKHQuZ2V0U2VtaU1ham9yQXhpcygpLDApLHNbMF0ucm90YXRlRGlyZWN0KHQubV9jb3NyLHQubV9zaW5yKSxzWzFdLnNldENvb3Jkcyh0LmdldFNlbWlNYWpvckF4aXMoKSx0LmdldFNlbWlNaW5vckF4aXMoKSksc1sxXS5yb3RhdGVEaXJlY3QodC5tX2Nvc3IsdC5tX3NpbnIpLHNbMl0uc2V0Q29vcmRzKDAsdC5nZXRTZW1pTWlub3JBeGlzKCkpLHNbMl0ucm90YXRlRGlyZWN0KHQubV9jb3NyLHQubV9zaW5yKTtsZXQgbj10LmlzQ2xvY2t3aXNlKCk7biYmKHNbMl09ZXQoc1swXSxzWzBdPXNbMl0pKTtjb25zdCBpPS41O2UudHJhbnNmb3JtV2l0aG91dFRyYW5zbGF0ZUFycmF5KHMsMyxzKSxlLmlzUmVmbGVjdGl2ZSgpJiYobj0hbik7Y29uc3Qgcj1uZXcgUSgwLDApLHU9dC5jcmVhdGVJbnN0YW5jZSgpO2t1KHMsaSxyLCExLHUpLHQuY29uc3RydWN0RWxsaXB0aWNBcmNFbmRQb2ludHNDZW50ZXIobyxhLHUuZ2V0U2VtaU1ham9yQXhpcygpLHUuZ2V0TWlub3JNYWpvclJhdGlvKCksdS5nZXRBeGlzWFJvdGF0aW9uKCksdC5pc01ham9yKCksIW4saCl9fWZ1bmN0aW9uIFR1KHQsZSxzLG4saSxyKXtjb25zdCBvPS41KihuLnN1YihlKS5sZW5ndGgoKStuLnN1YihzKS5sZW5ndGgoKSk7dC5tX2NlbnRlci5hc3NpZ24obiksdC5tX3N0YXJ0QW5nbGU9TWF0aC5hdGFuMihlLnktdC5tX2NlbnRlci55LGUueC10Lm1fY2VudGVyLngpO291KHQsTWF0aC5hdGFuMihzLnktdC5tX2NlbnRlci55LHMueC10Lm1fY2VudGVyLngpLGkscik7Y29uc3QgYT10LmNvbnN0cnVjdEVsbGlwdGljQXJjRW5kUG9pbnRzQ2VudGVyKGUscyxvLDEsMCxNYXRoLmFicyh0Lm1fc3dlZXBBbmdsZSk+TWF0aC5QSSx0Lm1fc3dlZXBBbmdsZT4wLG4pO3JldHVybiB0LnNldFByb2plY3Rpb25CZWhhdmlvcigwKSxhfWZ1bmN0aW9uIEl1KHQsZSl7dC5tX2NhY2hlZFZhbHVlcz1lfWZ1bmN0aW9uIE11KHQpe3QubV9jYWNoZWRWYWx1ZXM9bnVsbH1mdW5jdGlvbiBZdSh0LGUpe2UubV9jYWNoZWRWYWx1ZXM9ZXQodC5tX2NhY2hlZFZhbHVlcyx0Lm1fY2FjaGVkVmFsdWVzPWUubV9jYWNoZWRWYWx1ZXMpfWZ1bmN0aW9uIE51KHQsZSl7Y29uc3Qgcz1lPzE6MDt0Lm1fYml0cz0tMiZ0Lm1fYml0c3xzfWZ1bmN0aW9uIFh1KHQpe3JldHVybiEhKDEmdC5tX2JpdHMpfWZ1bmN0aW9uIHF1KHQsZSl7Y29uc3Qgcz1lPzE6MDt0Lm1fYml0cz0tMyZ0Lm1fYml0c3xzPDwxfWZ1bmN0aW9uIEZ1KHQpe3JldHVybiEhKDImdC5tX2JpdHMpfWZ1bmN0aW9uIFZ1KHQpe2lmKHQubV9jZW50ZXIuaXNOQU4oKSlyZXR1cm4hMTtjb25zdCBlPTgscz1uZXcgWWU7cy5zZXRXaXRoRXBzKHQuZ2V0U3RhcnRYWSgpLGUpLHMuc3ViVGhpc0UoKG5ldyBZZSkuc2V0V2l0aEVwcyh0Lm1fY2VudGVyLGUpKTtjb25zdCBuPW5ldyBhdDtuLnNldFdpdGhFcHModC5tX3JvdGF0aW9uLGUpO2NvbnN0IGk9bmV3IGF0LHI9bmV3IGF0O2F0LnN0X2Nvc0FuZFNpbihuLGkscikscy5yb3RhdGVSZXZlcnNlKGkscik7Y29uc3Qgbz1uZXcgWWU7by5zZXRXaXRoRXBzKHQuZ2V0RW5kWFkoKSksby5zdWJUaGlzRShZZS5jb25zdHJ1Y3RQb2ludDJEKHQubV9jZW50ZXIpKSxvLnJvdGF0ZVJldmVyc2UoaSxyKTtjb25zdCBhPW5ldyBhdDthLnNldFdpdGhFcHModC5tX3NlbWlNYWpvckF4aXMsZSk7Y29uc3QgaD1hLmNsb25lKCksdT1uZXcgYXQ7dS5zZXRXaXRoRXBzKHQubV9taW5vck1ham9yUmF0aW8pLGgubXVsVGhpc0UodSkscy54LmRpdlRoaXNFKGEpLHMueS5kaXZUaGlzRShoKSxvLnguZGl2VGhpc0UoYSksby55LmRpdlRoaXNFKGgpO2NvbnN0IG09cy54LnNxcigpLmFkZFRoaXNFKHMueS5zcXIoKSkuc3ViVGhpc0UoaHQpLGw9by54LnNxcigpLmFkZFRoaXNFKG8ueS5zcXIoKSkuc3ViVGhpc0UoaHQpO3JldHVybiFtLmlzWmVybygpfHwhbC5pc1plcm8oKX1mdW5jdGlvbiBMdSh0KXtyZXR1cm4hISg4JnQubV9iaXRzKX1mdW5jdGlvbiBSdSh0KXt0Lm1fYml0cyY9LTl9ZnVuY3Rpb24genUodCxlKXtSdSh0KTtjb25zdCBuPXQuZ2V0U3RhcnRYWSgpLGk9dC5nZXRFbmRYWSgpO2xldCByPSExO2NvbnN0IG89RnUodCksYT1YdSh0KSxoPXQucHJvamVjdGlvbkJlaGF2aW9yKCksdT1uLmVxdWFscyhpKTtsZXQgbT0wPT09dC5tX21pbm9yTWFqb3JSYXRpb3x8MD09PXQubV9zZW1pTWFqb3JBeGlzO2lmKE51bWJlci5pc05hTih0Lm1fbWlub3JNYWpvclJhdGlvKSYmKDA9PT10Lm1fc2VtaU1ham9yQXhpcz90Lm1fbWlub3JNYWpvclJhdGlvPTE6ZyhcIk5BTiBtaW5vciBtYWpvciByYXRpbyBhbmQgbm9uLXplcm8gbWFqb3IgYXhpc1wiKSksbXx8PWU/dTp0Lm1fY2VudGVyLmlzTkFOKCksbSlyZXR1cm4gYnUodCxuLGksaCksITA7dC5tX3NlbWlNYWpvckF4aXM9TWF0aC5hYnModC5tX3NlbWlNYWpvckF4aXMpLHQubV9taW5vck1ham9yUmF0aW89TWF0aC5hYnModC5tX21pbm9yTWFqb3JSYXRpbyksdC5tX21pbm9yTWFqb3JSYXRpbz4xJiYodC5tX3NlbWlNYWpvckF4aXMqPXQubV9taW5vck1ham9yUmF0aW8sdC5tX21pbm9yTWFqb3JSYXRpbz0xL3QubV9taW5vck1ham9yUmF0aW8pO2NvbnN0IGw9bmV3IFEodC5tX3NlbWlNYWpvckF4aXMsdC5tX3NlbWlNYWpvckF4aXMqdC5tX21pbm9yTWFqb3JSYXRpbyk7aWYocyhsLnk+MCYmbC54Pj1sLnkpLHUpe2NvbnN0IGU9dC5jb252ZXJ0VG9DYW5vbmljKG4pO3MoIWwuaXNaZXJvKCkpLGUueC89bC54LGUueS89bC55O2NvbnN0IGk9TWF0aC5zcXJ0KHp0KGUueCkrenQoZS55KSk7aWYocj0xIT09aSx0Lm1fc2VtaU1ham9yQXhpcyo9aSxsLm11bFRoaXMoaSksdC5tX3N0YXJ0QW5nbGU9YXUoTWF0aC5hdGFuMihlLnksZS54KSksIW8pcmV0dXJuIHQubV9pbnRlcmlvci5hc3NpZ24obiksdC5tX3N3ZWVwQW5nbGU9MCx0LmFmdGVyQ29tcGxldGVkTW9kaWZpY2F0aW9uKCkscjt0Lm1fc3dlZXBBbmdsZT1hP2t0KCk6LWt0KCl9ZWxzZXtsZXQgZT10Lm1fY2VudGVyLmlzTkFOKCl8fFZ1KHQpO2lmKCFlKXtjb25zdCBzPXQuY29udmVydFRvQ2Fub25pYyhuKTtzLngvPWwueCxzLnkvPWwueTtjb25zdCByPW5ldyBRKDEsMCk7dC5tX3N0YXJ0QW5nbGU9US5jYWxjdWxhdGVBbmdsZShyLHMpO2NvbnN0IG89dC5jb252ZXJ0VG9DYW5vbmljKGkpO28ueC89bC54LG8ueS89bC55LHQubV9zd2VlcEFuZ2xlPVEuY2FsY3VsYXRlQW5nbGUocyxvKSxlPSFXdSh0KX1pZihlKXtyPSEwO2NvbnN0IGU9bi5zdWIoaSkubXVsVGhpcyguNSk7ZS5yb3RhdGVSZXZlcnNlKHQubV9jb3NyLHQubV9zaW5yKTtsZXQgcz16dChlLngvbC54KSt6dChlLnkvbC55KTtzPjEmJihzPU1hdGguc3FydChzKSx0Lm1fc2VtaU1ham9yQXhpcyo9cyxsLm11bFRoaXMocykpO2NvbnN0IGg9bmV3IFEoMCwwKTt7Y29uc3QgdD1sLngqbC54LHM9bC55KmwueSxuPXQqZS55KmUueStzKmUueCplLngsaT10KnMtbjtpZihpPjApe2NvbnN0IHQ9TWF0aC5zcXJ0KGkvbik7aC5zZXRDb29yZHMobC54KmUueS9sLnksLWwueSplLngvbC54KSxoLm11bFRoaXModCksbz09PWEmJmgubmVnYXRlVGhpcygpfX17Y29uc3QgZT1uZXcgUShoLngsaC55KTtlLnJvdGF0ZURpcmVjdCh0Lm1fY29zcix0Lm1fc2luciksZS5hZGRUaGlzKG4uYWRkKGkpLm11bFRoaXMoLjUpKSx0Lm1fY2VudGVyLmFzc2lnbihlKX19aWYobXUodCksIVd1KHQpKXJldHVybiBidSh0LG4saSxoKSwhMH1yZXR1cm4gSHUodCksdC5hZnRlckNvbXBsZXRlZE1vZGlmaWNhdGlvbigpLHJ9ZnVuY3Rpb24gQnUodCxlKXtzKE1hdGguYWJzKHQuZ2V0U3dlZXBBbmdsZSgpKTwxNSpNYXRoLlBJLzE2KTtjb25zdCBuPXQuZ2V0U2VtaU1ham9yQXhpcygpLGk9dC5nZXRTZW1pTWlub3JBeGlzKCk7bGV0IHI7aWYoMD09PW4pcmV0dXJuIGVbMF0uc2V0Q29vcmRzUG9pbnQyRCh0LmdldFN0YXJ0WFkoKSksZVsxXS5zZXRDb29yZHNQb2ludDJEKHQuZ2V0U3RhcnRYWSgpKSxlWzJdLnNldENvb3Jkc1BvaW50MkQodC5nZXRTdGFydFhZKCkpLHI9MSxyO2lmKDA9PT1pKXJldHVybiBlWzBdLnNldENvb3Jkc1BvaW50MkQodC5nZXRTdGFydFhZKCkpLGVbMl0uc2V0Q29vcmRzUG9pbnQyRCh0LmdldEVuZFhZKCkpLGVbMV09US5sZXJwKGVbMF0sZVsyXSwuNSkscj0xLHI7Y29uc3Qgbz10LmdldFN3ZWVwQW5nbGUoKSxhPXQuZ2V0U3RhcnRBbmdsZSgpLGg9YStvLHU9bmV3IFEoLW4qTWF0aC5zaW4oYSksaSpNYXRoLmNvcyhhKSksbT1uZXcgUSgtbipNYXRoLnNpbihoKSxpKk1hdGguY29zKGgpKTt1Lm5vcm1hbGl6ZSgpLG0ubm9ybWFsaXplKCksdS5yb3RhdGVEaXJlY3QodC5tX2Nvc3IsdC5tX3NpbnIpLG0ucm90YXRlRGlyZWN0KHQubV9jb3NyLHQubV9zaW5yKSxlWzBdLnNldENvb3Jkc1BvaW50MkQodC5nZXRTdGFydFhZKCkpLGVbMl0uc2V0Q29vcmRzUG9pbnQyRCh0LmdldEVuZFhZKCkpLGVbMV0uc2V0U3ViKGVbMl0sZVswXSk7Y29uc3QgbD11LmNyb3NzUHJvZHVjdChtKTtlWzFdLmFzc2lnbih1Lm11bChlWzFdLmNyb3NzUHJvZHVjdChtKS9sKSksZVsxXS5hZGRUaGlzKGVbMF0pO3JldHVybiByPU1hdGguY29zKC41Km8pLHJ9ZnVuY3Rpb24ga3UodCxlLG4saSxyKXtpZihpKXtjb25zdCBzPS41LG49TWF0aC5zcXJ0KGUpLGk9enQoMS1zKSsyKm4qcyooMS1zKSt6dChzKSxvPXRbMF0ubXVsKHp0KDEtcykpLmFkZCh0WzFdLm11bCgyKm4qcyooMS1zKSkpLmFkZCh0WzJdLm11bCh6dChzKSkpLmRpdlRoaXMoaSk7cmV0dXJuIHIuY29uc3RydWN0Q2lyY3VsYXJBcmNUaHJlZVBvaW50KHRbMF0sdFsyXSxvKSwhMH1jb25zdCBvPXRbMF0uc3ViKHRbMV0pLGE9dFsyXS5zdWIodFsxXSksaD1vLmNyb3NzUHJvZHVjdChhKSx1PW8uZG90UHJvZHVjdChhKSxtPWU7cyhtPD0xKSxzKG0+MCk7Y29uc3QgbD0uNS8oMS1tKSxjPW8uc3FyTGVuZ3RoKCksZz11LGQ9YS5zcXJMZW5ndGgoKSxfPXp0KGgpLHA9by5zdWIoYSkuc3FyTGVuZ3RoKCk7aWYoMD09PV8pcmV0dXJuIGJ1KHIsdFswXSx0WzJdLDEpLCExO2lmKHU8PS1NYXRoLnNxcnQoYykqTWF0aC5zcXJ0KGQpKXJldHVybiBidShyLHRbMF0sdFsyXSwxKSwhMTtjb25zdCBmPVswLDBdLFA9bmV3IEg7UC5zZXRJbmZpbml0ZSgpO2NvbnN0IHk9c24oMipfLC0ocC9tKzQqZyksMiooMS1tKS9tLFAsITEsZik7aWYoMD09PXkpcmV0dXJuIGJ1KHIsdFswXSx0WzJdLDEpLCExOzE9PT15JiYoZlsxXT1mWzBdKTtjb25zdCB4PU1hdGguc3FydChsL2ZbMF0pLEM9TWF0aC5zcXJ0KGwvZlsxXSksdj0uNS9tO2xldCBiPXYtZCpmWzBdLFM9di1jKmZbMF07TWF0aC5hYnMoYik+TWF0aC5hYnMoUyk/Uz1nKmZbMF0tdisxOmI9ZypmWzBdLXYrMTtjb25zdCBFPW8ubXVsKGIpLmFkZChhLm11bChTKSksRD1FLm5vcm0oMSk8MWUtMTUqeD8wOk1hdGguYXRhbjIoRS55LEUueCkrTWF0aC5QSSx3PW8uYWRkKGEpLEE9bj9uLmNsb25lKCk6dFsxXS5hZGQody5tdWwobCkpLFQ9dFswXS5zdWIoQSksST10WzJdLnN1YihBKSxNPVQuY3Jvc3NQcm9kdWN0KEkpPDAsWT0hMTtuZXcgWGg7cmV0dXJuIHIuY29uc3RydWN0RWxsaXB0aWNBcmNFbmRQb2ludHNDZW50ZXIodFswXSx0WzJdLHgsQy94LEQsWSwhTSxBKX1mdW5jdGlvbiBHdSh0LGUscyxuLGkpe3JldHVybiBrdSh0LGUscyxuLGkpfWZ1bmN0aW9uIFd1KHQpe2NvbnN0IGU9aXModCk7bGV0IHM9ITE7e2NvbnN0IG49bmV3IFEodC5tX3NlbWlNYWpvckF4aXMqTWF0aC5jb3ModC5tX3N0YXJ0QW5nbGUpLHQuZ2V0U2VtaU1pbm9yQXhpcygpKk1hdGguc2luKHQubV9zdGFydEFuZ2xlKSk7bi5yb3RhdGVEaXJlY3QodC5tX2Nvc3IsdC5tX3NpbnIpLG4uYWRkVGhpcyh0Lm1fY2VudGVyKTtzPVEuZGlzdGFuY2UodC5nZXRTdGFydFhZKCksbik+ZX1sZXQgbj0hMTtpZighcyl7Y29uc3Qgcz1uZXcgUSh0Lm1fc2VtaU1ham9yQXhpcypNYXRoLmNvcyh0Lm1fc3RhcnRBbmdsZSt0Lm1fc3dlZXBBbmdsZSksdC5nZXRTZW1pTWlub3JBeGlzKCkqTWF0aC5zaW4odC5tX3N0YXJ0QW5nbGUrdC5tX3N3ZWVwQW5nbGUpKTtzLnJvdGF0ZURpcmVjdCh0Lm1fY29zcix0Lm1fc2lucikscy5hZGRUaGlzKHQubV9jZW50ZXIpO249US5kaXN0YW5jZSh0LmdldEVuZFhZKCkscyk+ZX1yZXR1cm4hcyYmIW59ZnVuY3Rpb24ganUodCxzLG4saSl7MD09PW4mJmUoXCJjb25zdHJ1Y3RfZW5jbG9zaW5nX2NpcmNsZVwiKTtjb25zdCByPVswLDAsMF0sbz1GaChzLG4scik7aWYoMT09PW8pdC5jb25zdHJ1Y3RDaXJjbGVSYWRpdXMoMCxzW3JbMF1dLGkpO2Vsc2UgaWYoMj09PW8pe2NvbnN0IGU9US5sZXJwKHNbclswXV0sc1tyWzFdXSwuNSksbj1RLmRpc3RhbmNlKHNbclswXV0sZSksbz1RLmRpc3RhbmNlKHNbclsxXV0sZSk7dC5jb25zdHJ1Y3RDaXJjbGVSYWRpdXMoTWF0aC5tYXgobixvKSxlLGkpfWVsc2UgaWYoMz09PW8pe2NvbnN0IGU9US5jYWxjdWxhdGVDaXJjbGVDZW50ZXJGcm9tVGhyZWVQb2ludHMoc1tyWzBdXSxzW3JbMV1dLHNbclsyXV0pLG49US5kaXN0YW5jZShzW3JbMF1dLGUpLG89US5kaXN0YW5jZShzW3JbMV1dLGUpLGE9US5kaXN0YW5jZShzW3JbMl1dLGUpO3QuY29uc3RydWN0Q2lyY2xlUmFkaXVzKE1hdGgubWF4KG4sbyxhKSxlLGkpfWVsc2UgaChcInVuZXhwZWN0ZWRcIil9ZnVuY3Rpb24gWnUodCl7aWYoU3UodCkpcmV0dXJuIDA7aWYodC5pc0RlZ2VuZXJhdGUoMCkpcmV0dXJuIDA7Y29uc3QgZT10Lm1fc2VtaU1ham9yQXhpcyxzPXQuZ2V0U2VtaU1pbm9yQXhpcygpLG49ZSplK3MqcyxpPXQuZ2V0U3RhcnRBbmdsZSgpLHI9dC5nZXRFbmRBbmdsZSgpLG89dC5tX2NlbnRlci55LXQubV9ZU3RhcnQsYT10Lm1fY29zcixoPXQubV9zaW5yO2xldCB1PTEsbT0wO3QubV9yb3RhdGlvbiYmKHU9KGEtaCkqKGEraCksbT0yKmEqaCk7Y29uc3QgbD0oKC0uNSooci1pKSsuMjUqdSooMipNYXRoLmNvcyhyK2kpKk1hdGguc2luKHItaSkpKSpzKy0yKk1hdGguc2luKC41KihyK2kpKSpNYXRoLnNpbiguNSooci1pKSkqYSpvKSplL247bGV0IGM9MDtpZih0Lm1fcm90YXRpb24pe2M9LjEyNSooLTIqTWF0aC5zaW4ocitpKSpNYXRoLnNpbihyLWkpKSptLXMqby9uKigyKk1hdGguY29zKC41KihyK2kpKSpNYXRoLnNpbiguNSooci1pKSkpKmh9cmV0dXJuIG4qKGwrYykrLS41Kih0Lm1fWEVuZC10Lm1fWFN0YXJ0KSoodC5tX1lFbmQtdC5tX1lTdGFydCl9ZnVuY3Rpb24gSHUodCl7dC5xdWVyeUNvb3JkMkQoLjUsdC5tX2ludGVyaW9yKX1mdW5jdGlvbiBVdSh0LGUscyxuLGkpe2lmKGkpe2lmKDAhPT1hbShlLHMpKXJldHVybiAyfWVsc2UgaWYoTGUoZSxzKSlyZXR1cm4gMTtyZXR1cm4gMCE9PVF1KHQsZSxzLG51bGwsbnVsbCxudWxsLG4sdm9pZCAwIT09aSYmaSwhMCwhMSk/NDowfWZ1bmN0aW9uIE91KHQsZSxzLG4saSl7aWYoaSl7aWYoMCE9PWFtKGUscykpcmV0dXJuIDJ9ZWxzZSBpZihMZShlLHMpKXJldHVybiAxO3JldHVybiAwIT09SnUodCxlLHMsbnVsbCxudWxsLG51bGwsbix2b2lkIDAhPT1pJiZpLCEwLCExKT80OjB9ZnVuY3Rpb24gUXUodCxlLG4saSxyLG8sYSxoLHUsbSl7aWYoU3UoZSkpe3JldHVybiBEcyhuZXcgcG0oe3N0YXJ0OmUuZ2V0U3RhcnRYWSgpLGVuZDplLmdldEVuZFhZKCl9KSxuLGkscixvLGEsaCxtKX1udWxsIT09ciYmKHIubGVuZ3RoPTApLG51bGwhPT1vJiYoby5sZW5ndGg9MCksbnVsbCE9PWkmJihpLmxlbmd0aD0wKTtjb25zdCBsPXJzKGUsbik7aWYob3MoZSxuLGE9TWF0aC5tYXgobCxhKSkpcmV0dXJuIDA7Y29uc3QgYz1uLmdldFN0YXJ0WFkoKTtjLnN1YlRoaXMoZS5tX2NlbnRlcik7Y29uc3QgZz1uLmdldEVuZFhZKCk7Zy5zdWJUaGlzKGUubV9jZW50ZXIpLGMucm90YXRlUmV2ZXJzZShlLm1fY29zcixlLm1fc2luciksZy5yb3RhdGVSZXZlcnNlKGUubV9jb3NyLGUubV9zaW5yKTtjb25zdCBkPWcuY2xvbmUoKTtkLnN1YlRoaXMoYyk7Y29uc3QgXz1lLm1fc2VtaU1ham9yQXhpcyxwPTEvXyxmPWUuZ2V0U2VtaU1pbm9yQXhpcygpLFA9MS9mLHk9ZC5jbG9uZSgpO3kubGVmdFBlcnBlbmRpY3VsYXJUaGlzKCk7Y29uc3QgeD1NYXRoLmF0YW4yKGYqeS55LF8qeS54KSxDPVUoMTYsTnVtYmVyLk5hTiksdj1VKDE2LE51bWJlci5OYU4pO2xldCBiPTA7Y29uc3QgUz1beCx4K01hdGguUEldO2ZvcihsZXQgcz0wO3M8MjsrK3Mpe2NvbnN0IHQ9bHUoZSxTW3NdKTtpZih0Pj0wJiZ0PD0xKXtDW2JdPXQ7Y29uc3Qgcz1lLmdldENvb3JkMkQoQ1tiXSk7dltiXT1uLmdldENsb3Nlc3RDb29yZGluYXRlKHMsITEpLFEuZGlzdGFuY2UocyxuLmdldENvb3JkMkQodltiXSkpPD1hJiZiKyt9fWNvbnN0IEU9Yy54KnAsRD1jLnkqUCx3PWQueCpwLEE9ZC55KlA7bGV0IFQ9c24odyp3K0EqQSwyKihFKncrRCpBKSxFKkUrRCpELTEsSC51bml0KCksITEsdik7cyhUPj0wKTtmb3IobGV0IHM9MDtzPFQ7cysrKXtjb25zdCB0PWQubXVsKHZbc10pLmFkZChjKTt0LngqPXAsdC55Kj1QO2NvbnN0IGk9bHUoZSxNYXRoLmF0YW4yKHQueSx0LngpKTtpZihpPj0wJiZpPD0xKXtDW2JdPWk7Y29uc3QgdD1lLmdldENvb3JkMkQoaSk7dltiXT1uLmdldENsb3Nlc3RDb29yZGluYXRlKHQsITEpLFEuZGlzdGFuY2UodCxuLmdldENvb3JkMkQodltiXSkpPD1hJiZiKyt9fXMoYjxDLmxlbmd0aCs0KTtjb25zdCBJPVUoMTYsTnVtYmVyLk5hTik7VD1lLmludGVyc2VjdFBvaW50KG4uZ2V0U3RhcnRYWSgpLEksYSk7Zm9yKGxldCBzPTA7czxUO3MrKyxiKyspQ1tiXT1JW3NdLHZbYl09MDtUPWUuaW50ZXJzZWN0UG9pbnQobi5nZXRFbmRYWSgpLEksYSk7Zm9yKGxldCBzPTA7czxUO3MrKyxiKyspQ1tiXT1JW3NdLHZbYl09MTtUPW4uaW50ZXJzZWN0UG9pbnQoZS5nZXRTdGFydFhZKCksSSxhKTtmb3IobGV0IHM9MDtzPFQ7cysrLGIrKylDW2JdPTAsdltiXT1JW3NdO1Q9bi5pbnRlcnNlY3RQb2ludChlLmdldEVuZFhZKCksSSxhKTtmb3IobGV0IHM9MDtzPFQ7cysrLGIrKylDW2JdPTEsdltiXT1JW3NdO3JldHVybiAwPT09Yj8wOmNtKHQsZSxuLEMsdixiLGkscixvLGEsaCx1LG0pfWZ1bmN0aW9uIEp1KHQsZSxuLGkscixvLGEsaCx1LG0pe2lmKFN1KGUpKXtjb25zdCBzPW5ldyBwbSh7c3RhcnQ6ZS5nZXRTdGFydFhZKCksZW5kOmUuZ2V0RW5kWFkoKX0pO3JldHVybiBRdSh0LG4scyxpLG8scixhLGgsdSwhMCl9aWYoU3Uobikpe2NvbnN0IHM9bmV3IHBtKHtzdGFydDpuLmdldFN0YXJ0WFkoKSxlbmQ6bi5nZXRFbmRYWSgpfSk7cmV0dXJuIFF1KHQsZSxzLGkscixvLGEsaCx1LG0pfWNvbnN0IGw9cnMoZSxuKTthPU1hdGgubWF4KGEsbCk7bGV0IGM9ITE7e2NvbnN0IHQ9ZS5nZXRTZW1pQXhlcygpLGk9ZS5nZXRDZW50ZXIoKSxtPW4uZ2V0U2VtaUF4ZXMoKSxsPW4uZ2V0Q2VudGVyKCksZz1RLmRpc3RhbmNlKGwsaSksZD10LngrbS54O2lmKGc+ZCthKXJldHVybiAwO2lmKHQueT5tLngpe2lmKGcrbS54K2E8dC55KXJldHVybiAwfWVsc2UgaWYobS55PnQueCYmZyt0LngrYTxtLnkpcmV0dXJuIDA7aWYodSYmIWgpe2NvbnN0IGk9MT09PWUubV9taW5vck1ham9yUmF0aW8mJmUuaXNDbG9zZWQoKSYmZS5pc01ham9yKCksYT0xPT09bi5tX21pbm9yTWFqb3JSYXRpbyYmbi5pc0Nsb3NlZCgpJiZuLmlzTWFqb3IoKTtpZihpJiZhJiYoYz0hMCxnPD1kKSl7aWYoTWF0aC5tYXgodC54LG0ueCk8PU1hdGgubWluKHQueCxtLngpK2cpcmV0dXJuIHMoIXImJiFvKSwxfX19aWYoIWMmJm9zKGUsbixhKSlyZXR1cm4gMDtjb25zdCBnPVtdLGQ9W10sXz0hMSxwPSExLGY9V2goZSwwLDAsXyxwLGcsZCxudWxsKSxQPVtdLHk9W10seD1XaChuLDAsMCxfLHAsUCx5LG51bGwpO2lmKDE9PT1mJiYxPT09eCl7Y29uc3QgdD1uZXcgRW4oe3BvaW50czpnLHdlaWdodHM6ZH0pLHM9bmV3IEVuKHtwb2ludHM6UCx3ZWlnaHRzOnl9KSxsPVtdLGM9W10sXz1yaCghMSx0LHMsaSxudWxsPT09cj9udWxsOmwsbnVsbD09PW8/bnVsbDpjLGEsaCx1LG0pO2lmKF8+MCYmbnVsbCE9PXJ8fG51bGwhPT1vKXtyJiYoci5sZW5ndGg9MCksbyYmKG8ubGVuZ3RoPTApO2ZvcihsZXQgaT0wO2k8XzsrK2kpe2lmKHIpaWYoZ3QobFtpXSwwLDEpKXIucHVzaChsW2ldKTtlbHNle2NvbnN0IHM9dC50VG9MZW5ndGgobFtpXSksbj1lLmxlbmd0aFRvVChzKTtyLnB1c2gobil9aWYobylpZihndChjW2ldLDAsMSkpby5wdXNoKGNbaV0pO2Vsc2V7Y29uc3QgdD1zLnRUb0xlbmd0aChjW2ldKSxlPW4ubGVuZ3RoVG9UKHQpO28ucHVzaChlKX19fXJldHVybiBffWxldCBDPVtdO2NvbnN0IHY9W107bGV0IGI9MDtjb25zdCBTPXUmJiFoO2ZvcihsZXQgcz0wO3M8ZjtzKyspe2NvbnN0IHQ9bmV3IEVuKHtwb2ludHM6Zy5zbGljZSgyKnMsMipzKzMpLHdlaWdodHM6ZC5zbGljZSgyKnMsMipzKzMpfSk7bGV0IGk9MDtmb3IobGV0IHI9MDtyPHg7cisrKXt2Lmxlbmd0aDw9ciYmdi5wdXNoKG5ldyBFbih7cG9pbnRzOlAuc2xpY2UoMipyLDIqciszKSx3ZWlnaHRzOnkuc2xpY2UoMipyLDIqciszKX0pKTtjb25zdCBvPVtdLGg9W10sdT1TP251bGw6byxtPVM/bnVsbDpoLGw9cmgoITEsdCx2W3JdLG51bGwsdSxtLGEsITEsUywhMSk7aWYobD4wJiZTKXJldHVybiAxO2ZvcihsZXQgYT0wO2E8bDsrK2Epe2lmKDA9PT1vW2FdJiYwPT09cylvW2FdPTA7ZWxzZSBpZigxPT09b1thXSYmcz09PWYtMSlvW2FdPTE7ZWxzZXtjb25zdCBzPXQudFRvTGVuZ3RoKG9bYV0pK2Isbj1lLmxlbmd0aFRvVChzKTtvW2FdPW59aWYoMD09PWhbYV0mJjA9PT1yKWhbYV09MDtlbHNlIGlmKDE9PT1oW2FdJiZyPT09eC0xKWhbYV09MTtlbHNle2NvbnN0IHQ9dltyXS50VG9MZW5ndGgoaFthXSkraSxlPW4ubGVuZ3RoVG9UKHQpO2hbYV09ZX1DLnB1c2goTXQob1thXSxoW2FdKSl9aSs9dltyXS5jYWxjdWxhdGVMZW5ndGgyRCgpfWIrPXQuY2FsY3VsYXRlTGVuZ3RoMkQoKX1pZigwPT09Qy5sZW5ndGgpcmV0dXJuIDA7aWYoaCYmKEM9Qy5maWx0ZXIoKHQ9PiFndCh0LmZpcnN0LDAsMSl8fCFndCh0LnNlY29uZCwwLDEpfHwhZS5nZXRDb29yZDJEKHQuZmlyc3QpLmVxdWFscyhuLmdldENvb3JkMkQodC5zZWNvbmQpKSkpKSx1KXJldHVybiBDLmxlbmd0aDtjb25zdCBFPVtdLEQ9W107Zm9yKGNvbnN0IHMgb2YgQylFLnB1c2gocy5maXJzdCksRC5wdXNoKHMuc2Vjb25kKTtyZXR1cm4gY20odCxlLG4sRSxELEUubGVuZ3RoLGkscixvLGEsaCx1LG0pfWZ1bmN0aW9uIEt1KHQsZSxzKXtpZihzLnNldENvb3Jkcyh0LmdldENvb3JkMkQoZS52bWluKSkscy5tZXJnZU5lKHQuZ2V0Q29vcmQyRChlLnZtYXgpKSxTdSh0KSlyZXR1cm47Y29uc3Qgbj10LmdldFNlbWlBeGVzKCksaT1bMCwwLDAsMF07e2NvbnN0IGU9TWF0aC5hdGFuMigtbi55KnQubV9zaW5yLG4ueCp0Lm1fY29zcikscz1lK01hdGguUEkscj1NYXRoLmF0YW4yKG4ueSp0Lm1fY29zcixuLngqdC5tX3NpbnIpLG89citNYXRoLlBJO2lbMF09bHUodCxlKSxpWzFdPWx1KHQscyksaVsyXT1sdSh0LHIpLGlbM109bHUodCxvKX1jb25zdCByPW5ldyBRO2ZvcihsZXQgbz0wO288NDtvKyspe2NvbnN0IG49aVtvXTtlLmNvbnRhaW5zRXhjbHVzaXZlQ29vcmRpbmF0ZShuKSYmKHQucXVlcnlDb29yZDJEKG4scikscy5tZXJnZU5lKHIpKX19ZnVuY3Rpb24gJHUodCxlLG4saSxyKXtpZigwPT09dC5tX3NlbWlNYWpvckF4aXMpcmV0dXJuIG4udm1pbjtsZXQgbz1RLmdldE5BTigpO3QucXVlcnlDb29yZDJEKG4udm1pbixvKTtsZXQgYT1RLmdldE5BTigpO2lmKHQucXVlcnlDb29yZDJEKG4udm1heCxhKSxTdSh0KSl7cmV0dXJuIG5ldyBwbSh7c3RhcnQ6byxlbmQ6YX0pLmdldENsb3Nlc3RDb29yZGluYXRlKGUsaSl9Y29uc3QgaD1pdSh0LGUpO2lmKG89aXUodCxvKSxhPWl1KHQsYSksMT09PXQubV9taW5vck1ham9yUmF0aW8pe2lmKGguaXNFcXVhbCgwLDApKXJldHVybiBuLnZtaW47Y29uc3QgZT1sdSh0LE1hdGguYXRhbjIoaC55LGgueCkpO2lmKGl8fG4uY29udGFpbnNDb29yZGluYXRlKGUpKXJldHVybiBlO3JldHVybiBRLmRpc3RhbmNlKGgsbyk8PVEuZGlzdGFuY2UoaCxhKT9uLnZtaW46bi52bWF4fWNvbnN0IHU9dC5nZXRTZW1pTWFqb3JBeGlzKCksbT10LmdldFNlbWlNaW5vckF4aXMoKSxsPSh1LW0pKih1K20pLGM9enQobCksZz1oLngsZD1oLnksXz16dChtKmQpLHA9bSpsKmQqMixmPVtuZXcgYXQoXyksbmV3IGF0KHApLG5ldyBhdChjLXp0KHUqZyktXyksbmV3IGF0KC1wKSxuZXcgYXQoLWMpXSxQPWx0KGF0LDQpLHk9X24oZiw0LG5ldyBIKC0xLDEpLCExLFAsNCk7bGV0IHg9bi52bWluLEM9US5zcXJEaXN0YW5jZShoLG8pO3tjb25zdCB0PVEuc3FyRGlzdGFuY2UoaCxhKTt0PEMmJih4PW4udm1heCxDPXQpfXMoIWkpO2xldCB2PVUoOCxOdW1iZXIuTmFOKTtmb3IobGV0IHM9MDtzPHk7KytzKXtjb25zdCBlPVBbc10udmFsdWUoKSxuPU1hdGguc3FydCgxLWUqZSksaT1NYXRoLmF0YW4yKGUsbikscj1NYXRoLmF0YW4yKGUsLW4pO3ZbMipzXT1sdSh0LGkpLHZbMipzKzFdPWx1KHQscil9dj12LnNsaWNlKDAsMip5KSxHdCh2KTtmb3IobGV0IHM9MCxiPTIqeTtzPGI7KytzKWlmKHZbc10+bi52bWluJiZ2W3NdPG4udm1heCl7Y29uc3Qgbj1RLnNxckRpc3RhbmNlKGUsdC5nZXRDb29yZDJEKHZbc10pKTtDPm4mJihDPW4seD12W3NdKX1yZXR1cm4geH1mdW5jdGlvbiB0bSh0LGUsbil7cyghU3UodCkpO2NvbnN0IGk9bmV3IGxlO2kuc2V0Um90YXRlQW5nbGUoLXQuZ2V0QXhpc1hSb3RhdGlvbigpKTtjb25zdCByPW5ldyBRO2kucXVlcnlUcmFuc2Zvcm0oZSxyKTtjb25zdCBvPU1hdGguYXRhbjIoLXIueCp0LmdldE1pbm9yTWFqb3JSYXRpbygpLHIueSksYT1vK3d0KCk7bGV0IGg9bHUodCxvKSx1PWx1KHQsYSk7dTxoJiYodT1ldChoLGg9dSkpO2xldCBtPTA7cmV0dXJuIGg+PTAmJmg8PTEmJihuW20rK109aCksdT49MCYmdTw9MSYmKG5bbSsrXT11KSxtfWZ1bmN0aW9uIGVtKHQsZSxzKXtyZXR1cm4gdC5tX3NlbWlNYWpvckF4aXM9PT1lLm1fc2VtaU1ham9yQXhpcyYmKHQuaXNNYWpvcigpIT09ZS5pc01ham9yKCkmJighIXQubV9jZW50ZXIuZXF1YWxzKGUubV9jZW50ZXIpJiYodC5tX3NpbnI9PT1lLm1fc2luciYmKHQubV9jb3NyPT09ZS5tX2Nvc3ImJih0Lm1fbWlub3JNYWpvclJhdGlvPT09ZS5tX21pbm9yTWFqb3JSYXRpbyYmKHM/dC5pc0Nsb2Nrd2lzZSgpIT09ZS5pc0Nsb2Nrd2lzZSgpOnQuaXNDbG9ja3dpc2UoKT09PWUuaXNDbG9ja3dpc2UoKSkpKSkpKX1mdW5jdGlvbiBzbSh0LGUscyl7aWYoU3UodCkpcy5zZXRFKFllLmNvbnN0cnVjdFBvaW50MkQodC5nZXRFbmRYWSgpKS5zdWJFKFllLmNvbnN0cnVjdFBvaW50MkQodC5nZXRTdGFydFhZKCkpKSk7ZWxzZXtjb25zdCBuPW5ldyBhdDtndSh0LGUsbik7Y29uc3QgaT1uZXcgWWU7aWYoaS5zZXRDb29yZHNFKG5ldyBhdCh0Lm1fc2VtaU1ham9yQXhpcykubmVnYXRlKCkubXVsRSgobmV3IGF0KS5zZXRTaW4obikpLG5ldyBhdCh0LmdldFNlbWlNaW5vckF4aXMoKSkubXVsRSgobmV3IGF0KS5zZXRDb3MobikpKSx0Lm1fcm90YXRpb24pe2NvbnN0IGU9bmV3IGF0KHQubV9yb3RhdGlvbik7aS5yb3RhdGVEaXJlY3QoKG5ldyBhdCkuc2V0Q29zKGUpLChuZXcgYXQpLnNldFNpbihlKSl9aS5zY2FsZVRoaXMobmV3IGF0KHQuZ2V0U3dlZXBBbmdsZSgpKSkscy5zZXRFKGkpfX1mdW5jdGlvbiBubSh0LGUscyxuKXtjb25zdCBpPXQuZ2V0U3RhcnRYWSgpLHI9dC5nZXRFbmRYWSgpLG89aS5lcXVhbHMociksYT1lLmVxdWFscyhzKTtpZighbyYmIWEpe2NvbnN0IG49bmV3IGxlO24uc2V0U2hpZnRDb29yZHMoLXQubV9YU3RhcnQsLXQubV9ZU3RhcnQpO2NvbnN0IG89US5kaXN0YW5jZShlLHMpLGE9US5kaXN0YW5jZShpLHIpLGg9by9hO24uc2NhbGUoaCxoKTtjb25zdCB1PXIuc3ViKGkpO3UuZGl2VGhpcyhhKTtjb25zdCBtPXMuc3ViKGUpO20uZGl2VGhpcyhvKTtjb25zdCBsPXUuY3Jvc3NQcm9kdWN0KG0pLGM9bS5kb3RQcm9kdWN0KHUpO3JldHVybiBuLnJvdGF0ZShjLGwpLG4uc2hpZnRDb29yZHMoZS54LGUueSksdm9pZCBBdSh0LG4sITAsZSxzKX1jb25zdCBoPW5ldyBRO2lmKHQucXVlcnlDb29yZDJEKC41LGgpLGEpe2lmKG8pe2NvbnN0IG49dC5tX2NlbnRlci5hZGQoZS5zdWIoaSkpO3QuY29uc3RydWN0RWxsaXB0aWNBcmNFbmRQb2ludHNDZW50ZXIoZSxzLHQuZ2V0U2VtaU1ham9yQXhpcygpLDEsMCwhMCwhdC5pc0Nsb2Nrd2lzZSgpLG4pLHQuc2V0UHJvamVjdGlvbkJlaGF2aW9yKDApfWVsc2UgaWYodC5pc01ham9yKCkpe2NvbnN0IG49aC5zdWIoZSkuZ2V0VW5pdFZlY3RvcigpLm11bCgyKnQuZ2V0U2VtaU1ham9yQXhpcygpKS5hZGQoZSk7dC5jb25zdHJ1Y3RDaXJjdWxhckFyY1RocmVlUG9pbnQoZSxzLG4pfWVsc2UgdC5jb25zdHJ1Y3RDaXJjdWxhckFyY1RocmVlUG9pbnQoZSxzLGUpO3JldHVybn1jb25zdCB1PWUuYWRkKHMpLm11bCguNSksbT1zLnN1YihlKTttLnJpZ2h0UGVycGVuZGljdWxhclRoaXMoKTtjb25zdCBsPXUuYWRkKG0pLGM9US5nZXRDbG9zZXN0Q29vcmRpbmF0ZSh1LGwsdC5nZXRDZW50ZXIoKSwhMCksZz1uZXcgUTt4dCh1LGwsYyxnKTtjb25zdCBkPVEuZGlzdGFuY2UoZSxnKTt0LmNvbnN0cnVjdEVsbGlwdGljQXJjRW5kUG9pbnRzQ2VudGVyKGUscyxkLDEsMCwhMCwhdC5pc0Nsb2Nrd2lzZSgpLGcpLHQuc2V0UHJvamVjdGlvbkJlaGF2aW9yKDApfWZ1bmN0aW9uIGltKHQsZSxuLGkpe2NvbnN0IHI9dC5nZXRTdGFydFhZKCksbz10LmdldEVuZFhZKCksYT1yLmVxdWFscyhvKSxoPWUuZXF1YWxzKG4pO2lmKCFhJiYhaCl7Y29uc3Qgcz1uZXcgbGU7cmV0dXJuIHMuaW5pdGlhbGl6ZUZyb21Ud29Qb2ludHMocixvLGUsbiksQXUodCxzLCEwLGUsbiksdC5lbmRQb2ludE1vZGlmaWVkKCksdm9pZCB0Lm5vcm1hbGl6ZUFmdGVyRW5kcG9pbnRDaGFuZ2UoKX1pZighdC5pc01ham9yKCkpcmV0dXJuIHZvaWQgYnUodCxlLG4sMSk7aWYoYSYmaCl7Y29uc3Qgcz10Lm1fY2VudGVyLmFkZChlLnN1YihyKSk7cmV0dXJuIHZvaWQgdC5jb25zdHJ1Y3RFbGxpcHRpY0FyY0VuZFBvaW50c0NlbnRlcihlLG4sdC5nZXRTZW1pTWFqb3JBeGlzKCksdC5nZXRNaW5vck1ham9yUmF0aW8oKSx0LmdldEF4aXNYUm90YXRpb24oKSwhMCwhdC5pc0Nsb2Nrd2lzZSgpLHMpfWlmKCFhKXtjb25zdCBzPS41KihrdCgpLU1hdGguYWJzKHQuZ2V0U3dlZXBBbmdsZSgpKSksaT0odC5nZXRTd2VlcEFuZ2xlKCkrcypOdCh0LmdldFN3ZWVwQW5nbGUoKSkpL3QuZ2V0U3dlZXBBbmdsZSgpLHI9bmV3IFE7dC5xdWVyeUNvb3JkMkQoaSxyKSx0LmNvbnN0cnVjdEVsbGlwdGljQXJjRW5kUG9pbnRzQ2VudGVyKHIscix0LmdldFNlbWlNYWpvckF4aXMoKSx0LmdldE1pbm9yTWFqb3JSYXRpbygpLHQuZ2V0QXhpc1hSb3RhdGlvbigpLCEwLCF0LmlzQ2xvY2t3aXNlKCksdC5nZXRDZW50ZXIoKSk7Y29uc3Qgbz10LmdldENlbnRlcigpLmFkZChlLnN1YihyKSk7cmV0dXJuIHZvaWQgdC5jb25zdHJ1Y3RFbGxpcHRpY0FyY0VuZFBvaW50c0NlbnRlcihlLG4sdC5nZXRTZW1pTWFqb3JBeGlzKCksdC5nZXRNaW5vck1ham9yUmF0aW8oKSx0LmdldEF4aXNYUm90YXRpb24oKSwhMCwhdC5pc0Nsb2Nrd2lzZSgpLG8pfWNvbnN0IHU9US5zcXJEaXN0YW5jZShlLG4pO2xldCBtPS4yNSxsPS43NTtpZih1PFEuc3FyRGlzdGFuY2UodC5nZXRDb29yZDJEKC4yNSksdC5nZXRDb29yZDJEKC43NSkpKXtjb25zdCBlPVswXSxuPXRuKG5ldyBzdSh0LHUpLEguY29uc3RydWN0KDAsLjI1KSwxLGUpO24+MCYmKHMoMT09PW4pLG09ZVswXSxsPTEtZVswXSl9Y29uc3QgYz10LmdldENvb3JkMkQobSksZz10LmdldENvb3JkMkQobCk7cyghYy5lcXVhbHMoZykpLHQuY29uc3RydWN0RWxsaXB0aWNBcmNFbmRQb2ludHNDZW50ZXIoYyxnLHQuZ2V0U2VtaU1ham9yQXhpcygpLHQuZ2V0TWlub3JNYWpvclJhdGlvKCksdC5nZXRBeGlzWFJvdGF0aW9uKCksITAsIXQuaXNDbG9ja3dpc2UoKSx0Lm1fY2VudGVyKSxpbSh0LGUsbil9ZnVuY3Rpb24gcm0odCxlLHMsbixpKXtyZXR1cm4gb20odCwhMSxlLHMsbixpKX1mdW5jdGlvbiBvbSh0LGUscyxuLHIsbyl7Y29uc3QgYT1zLmdldEdlb21ldHJ5VHlwZSgpLHU9bi5nZXRHZW9tZXRyeVR5cGUoKSxtPU1hdGgubWF4KHIscnMocyxuKSk7aWYoYT09PWkuZW51bUxpbmUmJnU9PT1pLmVudW1MaW5lKXJldHVybiBFcyhzLG4sbSxvKTtsZXQgbD1zLGM9bixnPXMuZ2V0U3RhcnRYWSgpLGQ9cy5nZXRFbmRYWSgpO2lmKGcuY29tcGFyZShkKT4wJiYobD1zLmNsb25lKCkucmV2ZXJzZSgpKSxnPW4uZ2V0U3RhcnRYWSgpLGQ9bi5nZXRFbmRYWSgpLGcuY29tcGFyZShkKT4wJiYoYz1uLmNsb25lKCkucmV2ZXJzZSgpKSxlKXtpZihzLmVxdWFscyhuKSlyZXR1cm4gMjtpZihHZShzLG4sbSkpcmV0dXJuIDR9c3dpdGNoKGEpe2Nhc2UgaS5lbnVtTGluZTpzd2l0Y2godSl7Y2FzZSBpLmVudW1FbGxpcHRpY0FyYzpyZXR1cm4gVXUodCxjLGwsbSxvKTtjYXNlIGkuZW51bUJlemllcjpyZXR1cm4gU28odCxjLGwsbSxvKTtjYXNlIGkuZW51bVJhdGlvbmFsQmV6aWVyMjpyZXR1cm4gJGEodCxjLGwsbSxvKTtjYXNlIGkuZW51bUJlemllcjI6cmV0dXJuIFhpKHQsYyxsLG0sbyk7ZGVmYXVsdDpoKFwiXCIpfWJyZWFrO2Nhc2UgaS5lbnVtRWxsaXB0aWNBcmM6c3dpdGNoKHUpe2Nhc2UgaS5lbnVtTGluZTpyZXR1cm4gVXUodCxsLGMsbSxvKTtjYXNlIGkuZW51bUVsbGlwdGljQXJjOnJldHVybiBPdSh0LGwsYyxtLG8pO2Nhc2UgaS5lbnVtQmV6aWVyOnJldHVybiBFbyh0LGMsbCxtLG8pO2Nhc2UgaS5lbnVtUmF0aW9uYWxCZXppZXIyOnJldHVybiB0aCh0LGMsbCxtLG8pO2Nhc2UgaS5lbnVtQmV6aWVyMjpyZXR1cm4gcWkodCxjLGwsbSxvKTtkZWZhdWx0OmgoXCJcIil9YnJlYWs7Y2FzZSBpLmVudW1CZXppZXI6c3dpdGNoKHUpe2Nhc2UgaS5lbnVtTGluZTpyZXR1cm4gU28odCxsLGMsbSxvKTtjYXNlIGkuZW51bUVsbGlwdGljQXJjOnJldHVybiBFbyh0LGwsYyxtLG8pO2Nhc2UgaS5lbnVtQmV6aWVyOnJldHVybiBEbyh0LGwsYyxtLG8pO2Nhc2UgaS5lbnVtUmF0aW9uYWxCZXppZXIyOnJldHVybiB3byh0LGwsYyxtLG8pO2Nhc2UgaS5lbnVtQmV6aWVyMjpyZXR1cm4gQW8odCxsLGMsbSxvKTtkZWZhdWx0OmgoXCJcIil9YnJlYWs7Y2FzZSBpLmVudW1SYXRpb25hbEJlemllcjI6c3dpdGNoKHUpe2Nhc2UgaS5lbnVtTGluZTpyZXR1cm4gJGEodCxsLGMsbSxvKTtjYXNlIGkuZW51bUVsbGlwdGljQXJjOnJldHVybiB0aCh0LGwsYyxtLG8pO2Nhc2UgaS5lbnVtQmV6aWVyOnJldHVybiB3byh0LGMsbCxtLG8pO2Nhc2UgaS5lbnVtUmF0aW9uYWxCZXppZXIyOnJldHVybiBlaCh0LGwsYyxtLG8pO2Nhc2UgaS5lbnVtQmV6aWVyMjpyZXR1cm4gc2godCxsLGMsbSxvKTtkZWZhdWx0OmgoXCJcIil9YnJlYWs7Y2FzZSBpLmVudW1CZXppZXIyOnN3aXRjaCh1KXtjYXNlIGkuZW51bUxpbmU6cmV0dXJuIFhpKHQsbCxjLG0sbyk7Y2FzZSBpLmVudW1FbGxpcHRpY0FyYzpyZXR1cm4gcWkodCxsLGMsbSxvKTtjYXNlIGkuZW51bUJlemllcjpyZXR1cm4gQW8odCxjLGwsbSxvKTtjYXNlIGkuZW51bVJhdGlvbmFsQmV6aWVyMjpyZXR1cm4gc2godCxjLGwsbSxvKTtjYXNlIGkuZW51bUJlemllcjI6cmV0dXJuIEZpKHQsbCxjLG0sbyk7ZGVmYXVsdDpoKFwiXCIpfWJyZWFrO2RlZmF1bHQ6aChcIlwiKX19ZnVuY3Rpb24gYW0odCxlLHM9ITApe2lmKCFzJiYhaG0odCxlKSlyZXR1cm4gMDtjb25zdCBuPXQuaXNMaW5lKCkmJmUuaXNMaW5lKCk7aWYodC5nZXRTdGFydFhZKCkuZXF1YWxzKGUuZ2V0U3RhcnRYWSgpKSYmdC5nZXRFbmRYWSgpLmVxdWFscyhlLmdldEVuZFhZKCkpKXtjb25zdCBzPTE7aWYobilyZXR1cm4gcztjb25zdCByPXQuZ2V0R2VvbWV0cnlUeXBlKCk7aWYociE9PWUuZ2V0R2VvbWV0cnlUeXBlKCkpcmV0dXJuIDA7aWYocj09PWkuZW51bUJlemllcil7Y29uc3Qgbj10LGk9ZTtyZXR1cm4gbi5nZXRDb250cm9sUG9pbnQxKCkuZXF1YWxzKGkuZ2V0Q29udHJvbFBvaW50MSgpKSYmbi5nZXRDb250cm9sUG9pbnQyKCkuZXF1YWxzKGkuZ2V0Q29udHJvbFBvaW50MigpKT9zOjB9aWYocj09PWkuZW51bUVsbGlwdGljQXJjKXtyZXR1cm4gZW0odCxlLCExKT9zOjB9aWYocj09PWkuZW51bVJhdGlvbmFsQmV6aWVyMil7Y29uc3Qgbj10LGk9ZTtpZihuLmdldENvbnRyb2xQb2ludDEoKS5lcXVhbHMoaS5nZXRDb250cm9sUG9pbnQxKCkpJiZuLmdldFN0YW5kYXJkRm9ybVdlaWdodCgpPT09aS5nZXRTdGFuZGFyZEZvcm1XZWlnaHQoKSlyZXR1cm4gc31lbHNlIGlmKHI9PT1pLmVudW1CZXppZXIyKXtjb25zdCBuPWU7aWYodC5nZXRDb250cm9sUG9pbnQxKCkuZXF1YWxzKG4uZ2V0Q29udHJvbFBvaW50MSgpKSlyZXR1cm4gc31yZXR1cm4gMH1pZih0LmdldFN0YXJ0WFkoKS5lcXVhbHMoZS5nZXRFbmRYWSgpKSYmdC5nZXRFbmRYWSgpLmVxdWFscyhlLmdldFN0YXJ0WFkoKSkpe2NvbnN0IHM9LTE7aWYobilyZXR1cm4gcztjb25zdCByPXQuZ2V0R2VvbWV0cnlUeXBlKCk7aWYociE9PWUuZ2V0R2VvbWV0cnlUeXBlKCkpcmV0dXJuIDA7aWYocj09PWkuZW51bUJlemllcil7Y29uc3Qgbj10LGk9ZTtyZXR1cm4gbi5nZXRDb250cm9sUG9pbnQxKCkuZXF1YWxzKGkuZ2V0Q29udHJvbFBvaW50MigpKSYmbi5nZXRDb250cm9sUG9pbnQyKCkuZXF1YWxzKGkuZ2V0Q29udHJvbFBvaW50MSgpKT9zOjB9aWYocj09PWkuZW51bUVsbGlwdGljQXJjKXtyZXR1cm4gZW0odCxlLCEwKT9zOi0xfWlmKHI9PT1pLmVudW1SYXRpb25hbEJlemllcjIpe2NvbnN0IG49dCxpPWU7aWYobi5nZXRDb250cm9sUG9pbnQxKCkuZXF1YWxzKGkuZ2V0Q29udHJvbFBvaW50MSgpKSYmbi5nZXRTdGFuZGFyZEZvcm1XZWlnaHQoKT09PWkuZ2V0U3RhbmRhcmRGb3JtV2VpZ2h0KCkpcmV0dXJuIHN9ZWxzZSBpZihyPT09aS5lbnVtQmV6aWVyMil7Y29uc3Qgbj1lO2lmKHQuZ2V0Q29udHJvbFBvaW50MSgpLmVxdWFscyhuLmdldENvbnRyb2xQb2ludDEoKSkpcmV0dXJuIHN9cmV0dXJuIDB9cmV0dXJuIDB9ZnVuY3Rpb24gaG0odCxlKXtjb25zdCBzPXQuZ2V0R2VvbWV0cnlUeXBlKCk7cmV0dXJuIHM9PT1lLmdldEdlb21ldHJ5VHlwZSgpJiYocyE9PWkuZW51bUVsbGlwdGljQXJjfHx0LnByb2plY3Rpb25CZWhhdmlvcigpPT09ZS5wcm9qZWN0aW9uQmVoYXZpb3IoKSl9ZnVuY3Rpb24gdW0odCxzLG4scixvLGEsdSl7IW8mJmEmJmUoXCJcIik7Y29uc3QgbT1zLmdldEdlb21ldHJ5VHlwZSgpLGw9bi5nZXRHZW9tZXRyeVR5cGUoKSxjPU1hdGgubWF4KHUscnMocyxuKSk7aWYociYmKHIubGVuZ3RoPTApLG8mJihvLmxlbmd0aD0wKSxhJiYoYS5sZW5ndGg9MCksbT09PWkuZW51bUxpbmUmJmw9PT1pLmVudW1MaW5lKXJldHVybiBEcyhzLG4scixvLGEsYywhMSwhMSk7bGV0IGc9cyxkPW4sXz1zLmdldFN0YXJ0WFkoKSxwPXMuZ2V0RW5kWFkoKSxmPSExLFA9ITE7Xy5jb21wYXJlKHApPjAmJihnPXMuY2xvbmUoITApLnJldmVyc2UoKSxmPSEwKSxfPW4uZ2V0U3RhcnRYWSgpLHA9bi5nZXRFbmRYWSgpLF8uY29tcGFyZShwKT4wJiYoZD1uLmNsb25lKCEwKS5yZXZlcnNlKCksUD0hMCk7bGV0IHk9MDtzd2l0Y2gobSl7Y2FzZSBpLmVudW1MaW5lOnN3aXRjaChsKXtjYXNlIGkuZW51bUVsbGlwdGljQXJjOnk9UXUodCxkLGcscixhLG8sYywhMSwhMSwhMCk7YnJlYWs7Y2FzZSBpLmVudW1CZXppZXI6eT1Ubyh0LGQsZyxyLGEsbyxjLCExLCExLCEwKTticmVhaztjYXNlIGkuZW51bVJhdGlvbmFsQmV6aWVyMjp5PW5oKHQsZCxnLHIsYSxvLGMsITEsITEsITApO2JyZWFrO2Nhc2UgaS5lbnVtQmV6aWVyMjp5PVZpKHQsZCxnLHIsYSxvLGMsITEsITEsITApO2JyZWFrO2RlZmF1bHQ6aChcIlwiKX1icmVhaztjYXNlIGkuZW51bUVsbGlwdGljQXJjOnN3aXRjaChsKXtjYXNlIGkuZW51bUxpbmU6eT1RdSh0LGcsZCxyLG8sYSxjLCExLCExLCExKTticmVhaztjYXNlIGkuZW51bUVsbGlwdGljQXJjOnk9SnUodCxnLGQscixvLGEsYywhMSwhMSwhMSk7YnJlYWs7Y2FzZSBpLmVudW1CZXppZXI6eT1Jbyh0LGQsZyxyLGEsbyxjLCExLCExLCEwKTticmVhaztjYXNlIGkuZW51bVJhdGlvbmFsQmV6aWVyMjp5PWloKHQsZCxnLHIsYSxvLGMsITEsITEsITApO2JyZWFrO2Nhc2UgaS5lbnVtQmV6aWVyMjp5PUxpKHQsZCxnLHIsYSxvLGMsITEsITEsITApO2JyZWFrO2RlZmF1bHQ6aChcIlwiKX1icmVhaztjYXNlIGkuZW51bVJhdGlvbmFsQmV6aWVyMjpzd2l0Y2gobCl7Y2FzZSBpLmVudW1MaW5lOnk9bmgodCxnLGQscixvLGEsYywhMSwhMSwhMSk7YnJlYWs7Y2FzZSBpLmVudW1FbGxpcHRpY0FyYzp5PWloKHQsZyxkLHIsbyxhLGMsITEsITEsITEpO2JyZWFrO2Nhc2UgaS5lbnVtQmV6aWVyOnk9WW8odCxkLGcscixhLG8sYywhMSwhMSwhMCk7YnJlYWs7Y2FzZSBpLmVudW1SYXRpb25hbEJlemllcjI6eT1yaCh0LGcsZCxyLG8sYSxjLCExLCExLCExKTticmVhaztjYXNlIGkuZW51bUJlemllcjI6eT1vaCh0LGcsZCxyLG8sYSxjLCExLCExLCExKTticmVhaztkZWZhdWx0OmgoXCJcIil9YnJlYWs7Y2FzZSBpLmVudW1CZXppZXIyOnN3aXRjaChsKXtjYXNlIGkuZW51bUxpbmU6eT1WaSh0LGcsZCxyLG8sYSxjLCExLCExLCExKTticmVhaztjYXNlIGkuZW51bUVsbGlwdGljQXJjOnk9TGkodCxnLGQscixvLGEsYywhMSwhMSwhMSk7YnJlYWs7Y2FzZSBpLmVudW1CZXppZXI6eT1Obyh0LGQsZyxyLGEsbyxjLCExLCExLCEwKTticmVhaztjYXNlIGkuZW51bVJhdGlvbmFsQmV6aWVyMjp5PW9oKHQsZCxnLHIsYSxvLGMsITEsITEsITApO2JyZWFrO2Nhc2UgaS5lbnVtQmV6aWVyMjp5PVJpKHQsZyxkLHIsbyxhLGMsITEsITEsITEpO2JyZWFrO2RlZmF1bHQ6aChcIlwiKX1icmVhaztjYXNlIGkuZW51bUJlemllcjpzd2l0Y2gobCl7Y2FzZSBpLmVudW1MaW5lOnk9VG8odCxnLGQscixvLGEsYywhMSwhMSwhMSk7YnJlYWs7Y2FzZSBpLmVudW1FbGxpcHRpY0FyYzp5PUlvKHQsZyxkLHIsbyxhLGMsITEsITEsITEpO2JyZWFrO2Nhc2UgaS5lbnVtQmV6aWVyOnk9TW8odCxnLGQscixvLGEsYywhMSwhMSwhMSk7YnJlYWs7Y2FzZSBpLmVudW1SYXRpb25hbEJlemllcjI6eT1Zbyh0LGcsZCxyLG8sYSxjLCExLCExLCExKTticmVhaztjYXNlIGkuZW51bUJlemllcjI6eT1Obyh0LGcsZCxyLG8sYSxjLCExLCExLCExKTticmVhaztkZWZhdWx0OmgoXCJcIil9YnJlYWs7ZGVmYXVsdDpoKFwiXCIpfWlmKGYpe2lmKG8pe2ZvcihsZXQgdD0wO3Q8eTt0Kyspb1t0XT0xLW9bdF07by5yZXZlcnNlKCl9ciYmci5yZXZlcnNlKCksYSYmYS5yZXZlcnNlKCl9aWYoUCYmYSlmb3IobGV0IGU9MDtlPHk7ZSsrKWFbZV09MS1hW2VdO3JldHVybiB5fWZ1bmN0aW9uIG1tKHQsZSxzKXtpZihlPT09cylyZXR1cm4gMDtlPnMmJihzPWV0KGUsZT1zKSk7cmV0dXJuIHQuY3V0KGUscywhMCkuY2FsY3VsYXRlVXBwZXJMZW5ndGgyRCgpfWZ1bmN0aW9uIGxtKHQsZSxzLG4saSl7Y29uc3Qgcj1bXSxvPVtdLGE9W107Zm9yKGxldCB1PTAsbT1pO3U8bTt1Kyspci5wdXNoKHQuY2FsY3VsYXRlU3ViTGVuZ3RoRnJvbVN0YXJ0KHNbdV0pKSxvLnB1c2goZS5jYWxjdWxhdGVTdWJMZW5ndGhGcm9tU3RhcnQoblt1XSkpLGd0KHNbdV0sMCwxKSYmZ3Qoblt1XSwwLDEpJiZ0LmdldENvb3JkMkQoc1t1XSkuZXF1YWxzKGUuZ2V0Q29vcmQyRChuW3VdKSkmJmEucHVzaCh1KTtpZigwPT09YS5sZW5ndGh8fGEubGVuZ3RoPT09aSlyZXR1cm47YS5zb3J0KCgodCxlKT0+c1t0XTxzW2VdPy0xOnNbdF0+c1tlXT8xOm5bdF08bltlXT8tMTpuW3RdPm5bZV0/MTowKSk7bGV0IGg9LTE7Zm9yKGNvbnN0IHUgb2YgYSl7aWYoaD49MCYmc1t1XT09PXNbaF0mJnNbdV09PT1zW2hdKXtoPXU7Y29udGludWV9aD11O2NvbnN0IGE9W107YS5sZW5ndGg9aTtmb3IobGV0IHQ9MDt0PGEubGVuZ3RoOysrdClhW3RdPXQ7YS5zb3J0KCgodCxlKT0+e2NvbnN0IHM9clt1XSxuPW9bdV0saT1yW3RdLXMsYT1vW3RdLW4saD1pKmkrYSphLG09cltlXS1zLGw9b1tlXS1uLGM9bSptK2wqbDtyZXR1cm4gaDxjPy0xOmg+Yz8xOjB9KSk7Zm9yKGxldCByPTA7cjxpO3IrKyl7Y29uc3QgaT1hW3JdO2lmKGk9PT11fHxzW2ldPT09c1t1XSYmbltpXT09PW5bdV18fGd0KHNbaV0sMCwxKSYmZ3QobltpXSwwLDEpKWNvbnRpbnVlO2NvbnN0IG89KHMsbixpLHIpPT57Y29uc3Qgbz1uZXcgWWUsYT1uZXcgYXQ7YS5zZXRXaXRoRXBzKDEpO2NvbnN0IGg9bmV3IGF0O2guc2V0KG4sYS5lcHMoKSksdC5xdWVyeUNvb3JkMkRFKGgsbyk7Y29uc3QgdT1uZXcgWWU7dC5xdWVyeUNvb3JkMkRFKG5ldyBhdChzKSx1KTtsZXQgbT0hMTtyZXR1cm4gby5lcSh1KSYmKGguc2V0KHIsYS5lcHMoKSksZS5xdWVyeUNvb3JkMkRFKGgsbyksZS5xdWVyeUNvb3JkMkRFKG5ldyBhdChpKSx1KSxtPW8uZXEodSkpLCFtfSxoPVEuZ2V0TkFOKCk7dC5xdWVyeUNvb3JkMkQoc1tpXSxoKTtjb25zdCBtPVEuZ2V0TkFOKCk7ZS5xdWVyeUNvb3JkMkQobltpXSxtKTtpZigwPT09US5kaXN0YW5jZShoLG0pJiZvKHNbdV0sc1tpXSxuW3VdLG5baV0pKWJyZWFrO2NvbnN0IGw9bmV3IEgobltpXSxuW3VdKTtsLm5vcm1hbGl6ZU5vTkFOKCk7Y29uc3QgYz1uZXcgSChzW2ldLHNbdV0pO2Mubm9ybWFsaXplTm9OQU4oKTtsZXQgZz0tMSxkPU51bWJlci5QT1NJVElWRV9JTkZJTklUWSxfPU51bWJlci5QT1NJVElWRV9JTkZJTklUWSxwPXNbaV07aC5hc3NpZ24odC5nZXRDb29yZDJEKHApKTtmb3IobGV0IHI9MDtyPDU7cisrKXtjb25zdCByPWUuZ2V0Q2xvc2VzdENvb3JkaW5hdGVPbkludGVydmFsKGgsbCwtMSk7bS5hc3NpZ24oZS5nZXRDb29yZDJEKHIpKTtjb25zdCBhPVEuZGlzdGFuY2UoaCxtKTtpZihwPXQuZ2V0Q2xvc2VzdENvb3JkaW5hdGVPbkludGVydmFsKG0sYywtMSkscD09PXNbdV0mJnI9PT1uW3VdKXtnPTE7YnJlYWt9aC5hc3NpZ24odC5nZXRDb29yZDJEKHApKTtjb25zdCBmPVEuZGlzdGFuY2UobSxoKTtpZighKGY8XyYmYTxkKSl7Zz0wO2JyZWFrfWlmKDA9PT1mJiYwPT09YSl7byhzW3VdLHNbaV0sblt1XSxuW2ldKT8oc1tpXT1wLG5baV09cixnPTApOmc9MTticmVha31fPWYsZD1hfWlmKC0xPT09ZyYmKGc9Z3Qoc1tpXSwwLDEpfHxndChuW2ldLDAsMSk/MDoxKSwxIT09ZylicmVhaztzW2ldPXNbdV0sbltpXT1uW3VdfX19ZnVuY3Rpb24gY20odCxlLHMsbixpLHIsbyxhLGgsdSxtLGwsYyl7aWYoIXIpcmV0dXJuIDA7Y29uc3QgZz0odCxlKT0+e2ZvcihsZXQgcz0wO3M8cjsrK3Mpe2xldCBuPWVbc107aWYoZ3QobiwwLDEpKXtuPW5lKG4pO2NvbnRpbnVlfWNvbnN0IGk9dC5nZXRDb29yZDJEKG4pO248LjU/aS5lcXVhbHModC5nZXRTdGFydFhZKCkpJiZtbSh0LDAsbik8PWlzKHQpJiYoZVtzXT0wKTppLmVxdWFscyh0LmdldEVuZFhZKCkpJiZtbSh0LG4sMSk8PWlzKHQpJiYoZVtzXT0xKX19O2coZSxuKSxnKHMsaSksbG0oZSxzLG4saSxyKTtjb25zdCBkPVtdO2ZvcihsZXQgZj0wLFA9cjtmPFA7ZisrKWQucHVzaChmKTtjb25zdCBfPSh0LGUpPT5jP2llKGlbdF0sblt0XSxpW2VdLG5bZV0pOmllKG5bdF0saVt0XSxuW2VdLGlbZV0pO2lmKGQubGVuZ3RoPjEpe2Quc29ydChfKTtjb25zdCB0PU1hdGgubWF4KGlzKGUpLGlzKHMpKTtsZXQgcj0wO2ZvcihsZXQgbz0xLGE9ZC5sZW5ndGg7bzxhO28rKyl7Y29uc3QgYT1uW2Rbcl1dLGg9bltkW29dXSx1PWlbZFtyXV0sbT1pW2Rbb11dO2lmKGEhPT1ofHx1IT09bSlpZighKG1tKGUsYSxoKTw9dCYmbW0ocyx1LG0pPD10KXx8Z3QoYSwwLDEpJiZndCh1LDAsMSl8fGd0KGgsMCwxKSYmZ3QobSwwLDEpKXIrKyxkW3JdPWRbb107ZWxzZXtjb25zdCB0PVEuZGlzdGFuY2UoZS5nZXRDb29yZDJEKGEpLHMuZ2V0Q29vcmQyRCh1KSksbj1RLmRpc3RhbmNlKGUuZ2V0Q29vcmQyRChoKSxzLmdldENvb3JkMkQobSkpO2lmKHQ8PW4pY29udGludWU7aWYobjx0KXtkW3JdPWRbb107Y29udGludWV9fX1pZihkLmxlbmd0aD1yKzEsMT09PWQubGVuZ3RoJiYwIT09ZFswXSYmKG5bMF09bltkWzBdXSxpWzBdPWlbZFswXV0sZFswXT0wKSxkLmxlbmd0aD4yKXtjb25zdCB0PUguY29uc3RydWN0RW1wdHkoKSxyPUguY29uc3RydWN0RW1wdHkoKTt0LnNldENvb3JkcyhuW2RbMF1dLG5bZC5hdCgtMSldKSxyLnNldENvb3JkcyhpW2RbMF1dLGlbZC5hdCgtMSldKTtsZXQgbz0hMDtmb3IobGV0IGU9MSxzPWQubGVuZ3RoLTE7ZTxzO2UrKylpZighdC5jb250YWluc0Nvb3JkaW5hdGUobltkW2VdXSl8fCFyLmNvbnRhaW5zQ29vcmRpbmF0ZShpW2RbZV1dKSl7bz0hMTticmVha31pZihvKXtjb25zdCBuPVsuNSwuMiwuNywuMSwuMywuNCwuNiwuOCwuOV07Zm9yKGxldCBpPTA7aTxuLmxlbmd0aDtpKyspe2xldCBhPXJ0KHQudm1pbix0LnZtYXgsbltpXSk7Y29uc3QgaD1lLmdldENvb3JkMkQoYSk7aWYoIXMuaXNDbG9zZXJUaGFuRGlzdGFuY2UoaCxyLHUpKXtvPSExO2JyZWFrfWE9cnQoci52bWluLHIudm1heCxuW2ldKTtjb25zdCBtPXMuZ2V0Q29vcmQyRChhKTtpZighZS5pc0Nsb3NlclRoYW5EaXN0YW5jZShtLHQsdSkpe289ITE7YnJlYWt9fX1vJiYoZFsxXT1kLmF0KC0xKSxkLmxlbmd0aD0yKX19aWYoMT09PWQubGVuZ3RoJiZ0KXtjb25zdCB0PTAscj0wO2tlKGUscyxuWzBdLGlbMF0sdSwxLFt0XSxbcl0pJiYoZC5wdXNoKDEpLG5bMV09dCxpWzFdPXIsZC5zb3J0KF8pKX1pZihtJiYxPT09ZC5sZW5ndGgpe2xldCB0PSEwO2ZvcihsZXQgcj0wLG89ZC5sZW5ndGg7cjxvO3IrKyl7aWYoZ3QobltkW3JdXSwwLDEpJiZndChpW2Rbcl1dLDAsMSkpe2lmKDA9PT1RLmRpc3RhbmNlKGUuZ2V0Q29vcmQyRChuW2Rbcl1dKSxzLmdldENvb3JkMkQoaVtkW3JdXSkpKWNvbnRpbnVlfXQ9ITE7YnJlYWt9aWYodClyZXR1cm4gMH1sZXQgcD0wO2ZvcihsZXQgZj0wLFA9ZC5sZW5ndGg7ZjxQO2YrKyl7aWYoYSYmYS5wdXNoKG5bZFtmXV0pLGgmJmgucHVzaChpW2RbZl1dKSxvKXtjb25zdCB0PVEuZ2V0TkFOKCk7ZS5xdWVyeUNvb3JkMkQobltkW2ZdXSx0KSxvLnB1c2godCl9cCsrfXJldHVybiBwfWZ1bmN0aW9uIGdtKHQsZSxzLG4saSxyLG8sYSxoKXtpZihndChzLDAsMSkmJmd0KG4sMCwxKSl7aWYoMD09PVEuZGlzdGFuY2UodC5nZXRDb29yZDJEKHMpLGUuZ2V0Q29vcmQyRChuKSkpe2NvbnN0IHU9MWUtMTIsbT1uZXcgWWUsbD1OdW1iZXIuRVBTSUxPTjtpZih0LnF1ZXJ5RGVyaXZhdGl2ZShuZXcgYXQocyxsKSxtKSxtLmlzVHJ1ZVplcm8oKSl7Y29uc3QgZT0xPT09cz8tMWUtMTI6dTt0LnF1ZXJ5RGVyaXZhdGl2ZShuZXcgYXQocyxsKS5hZGQoZSksbSl9MT09PXMmJm0ubmVnYXRlVGhpcygpO2NvbnN0IGM9bmV3IFllO2lmKGUucXVlcnlEZXJpdmF0aXZlKG5ldyBhdChuLGwpLGMpLGMuaXNUcnVlWmVybygpKXtjb25zdCB0PTE9PT1zPy0xZS0xMjp1O2UucXVlcnlEZXJpdmF0aXZlKG5ldyBhdChuLGwpLmFkZCh0KSxjKX0xPT09biYmYy5uZWdhdGVUaGlzKCksbS5pc1plcm8oKXx8bS5ub3JtYWxpemUoKSxjLmlzWmVybygpfHxjLm5vcm1hbGl6ZSgpO2NvbnN0IGc9bS5kb3RQcm9kdWN0KGMpLGQ9bS5jcm9zc1Byb2R1Y3QoYyk7ZC5zY2FsZUVycm9yKDMpO2NvbnN0IF89KCk9PntpZihoKXJldHVybi4wMDE7e2NvbnN0IHM9dC5jYWxjdWxhdGVVcHBlckxlbmd0aDJEKCksbj1lLmNhbGN1bGF0ZVVwcGVyTGVuZ3RoMkQoKTtyZXR1cm4gTWF0aC5taW4oLjAxKmkvTWF0aC5taW4ocyxuKSwxZS0xMCl9fTtpZihnLmdlKHV0KSYmKGQuaXNaZXJvKCl8fE1hdGguYWJzKGQudmFsdWUoKSk8XygpKSl7cmV0dXJuIEJlKHQsZSxzLG4saSxyLG8sYSl9fX1yZXR1cm4gMH1mdW5jdGlvbiBkbSh0LGUsbixpLHIpe2xldCBvPS0xLGE9LTEsaD0tMSx1PS0xO3tjb25zdCBzPVswLGVdLHI9W2UsMF0sbT1bMCxpXSxsPVtpLDBdO2ZvcihsZXQgZT0wO2U8MiYmLTE9PT1vOysrZSlmb3IobGV0IGk9MDtpPDI7KytpKWlmKHRbc1tlXV0uZXF1YWxzKG5bbVtpXV0pKXtvPXNbZV0sYT1yW2VdLGg9bVtpXSx1PWxbaV07YnJlYWt9fWlmKC0xPT09byl7Y29uc3Qgcz1uZXcgRGU7cy5zZXRGcm9tUG9pbnRzKHQsZSsxKTtjb25zdCBvPW5ldyBEZTtyZXR1cm4gby5zZXRGcm9tUG9pbnRzKG4saSsxKSxvLmluZmxhdGUocikscy5pc0ludGVyc2VjdGluZ1cobyk/LTE6MH17Y29uc3QgbT1VKGUrMSxOdW1iZXIuTmFOKSxsPXhyKHQsZSsxLG0pO3MobD4xKTtsZXQgYz0wLGc9MDtmb3IobGV0IHQ9MDt0PGw7Kyt0KW89PT1tW3RdJiYoZz10LGMrKyksYT09PW1bdF0mJmMrKztpZigyIT09YylyZXR1cm4tMTtjb25zdCBkPVUoaSsxLE51bWJlci5OYU4pLF89eHIobixpKzEsZCk7cyhfPjEpLGM9MDtsZXQgcD0wO2ZvcihsZXQgdD0wO3Q8XzsrK3QpaD09PWRbdF0mJihwPXQsYysrKSx1PT09ZFt0XSYmYysrO2lmKDIhPT1jKXJldHVybi0xO2NvbnN0IGY9dFttWyhnK2wtMSklbF1dLFA9dFttWyhnKzEpJWxdXSx5PW5bZFsocCtfLTEpJV9dXSx4PW5bZFsocCsxKSVfXV0sQz10W29dLHY9W2YsUCx5LHhdLGI9WzAsMSwyLDNdO2Iuc29ydCgoKHQsZSk9PlEuY29tcGFyZVZlY3RvcnNPcmlnaW4oQyx2W3RdLHZbZV0pKSk7bGV0IFM9YlswXTtmb3IobGV0IHQ9MTt0PDQ7dCsrKXtpZihiW3RdIT09KFMrMSklNClyZXR1cm4tMTtTPWJbdF19e2NvbnN0IHQ9Zi5zdWIoQyksZT14LnN1YihDKSxzPWUuZG90UHJvZHVjdCh0KTtpZihzPjApe2NvbnN0IG49ZS5jcm9zc1Byb2R1Y3QodCksaT1NYXRoLmFicyhNYXRoLmF0YW4yKG4scykpLG89aSp0Lmxlbmd0aCgpLGE9aSplLmxlbmd0aCgpO2lmKG88PXJ8fGE8PXIpcmV0dXJuLTF9fXtjb25zdCB0PVAuc3ViKEMpLGU9eS5zdWIoQykscz1lLmRvdFByb2R1Y3QodCk7aWYocz4wKXtjb25zdCBuPWUuY3Jvc3NQcm9kdWN0KHQpLGk9TWF0aC5hYnMoTWF0aC5hdGFuMihuLHMpKSxvPWkqdC5sZW5ndGgoKSxhPWkqZS5sZW5ndGgoKTtpZihvPD1yfHxhPD1yKXJldHVybi0xfX1yZXR1cm4gMX19dmFyIF9tPWI7Y2xhc3MgcG0gZXh0ZW5kcyBkc3tjb25zdHJ1Y3Rvcih0KXtzdXBlcih0fHx7WFN0YXJ0OjAsWVN0YXJ0OjAsWEVuZDowLFlFbmQ6MH0pfWFzc2lnbk1vdmUodCl7cmV0dXJuIHRoaXMhPT10JiYodGhpcy5tX2Rlc2NyaXB0aW9uPXQubV9kZXNjcmlwdGlvbix0Lm1fZGVzY3JpcHRpb249bnVsbCx0aGlzLm1fYXR0cmlidXRlcz10Lm1fYXR0cmlidXRlcyx0Lm1fYXR0cmlidXRlcz1udWxsLHRoaXMubV9YU3RhcnQ9dC5tX1hTdGFydCx0Lm1fWFN0YXJ0PU51bWJlci5OYU4sdGhpcy5tX1lTdGFydD10Lm1fWVN0YXJ0LHRoaXMubV9YRW5kPXQubV9YRW5kLHQubV9YRW5kPU51bWJlci5OYU4sdGhpcy5tX1lFbmQ9dC5tX1lFbmQpLHRoaXN9YXNzaWduQ29weSh0KXtyZXR1cm4gdGhpcyE9PXQmJnQuY29weVRvKHRoaXMpLHRoaXN9Y2FsY3VsYXRlTG93ZXJMZW5ndGgzRCgpe3JldHVybiBzKDApLDB9Y2FsY3VsYXRlVXBwZXJMZW5ndGgzRCgpe3JldHVybiBzKDApLDB9Y2hhbmdlRW5kUG9pbnRzM0QodCxlKXtzKDApfWdldENsb3Nlc3RDb29yZGluYXRlM0QodCxlLG4pe3JldHVybiBzKDApLDB9Z2V0Qm91bmRhcnkoKXtyZXR1cm4gS3ModGhpcyl9Z2V0QXR0cmlidXRlQXNEYmwodCxlLHMpe2lmKDA9PT1lKXJldHVybiAwPT09cz9mcyh0aGlzLHQpOlBzKHRoaXMsdCk7Y29uc3Qgbj1fbS5nZXRJbnRlcnBvbGF0aW9uKGUpLGk9dGhpcy5nZXRTdGFydEF0dHJpYnV0ZUFzRGJsKGUscykscj10aGlzLmdldEVuZEF0dHJpYnV0ZUFzRGJsKGUscyk7cmV0dXJuIEN0KG4saSxyLHQsX20uZ2V0RGVmYXVsdFZhbHVlKGUpKX1jb25zdHJ1Y3RGcm9tQ29vcmRzKHQsZSxzLG4pe3RoaXMuZHJvcEFsbEF0dHJpYnV0ZXMoKSx0aGlzLnNldFN0YXJ0WFlDb29yZHModCxlKSx0aGlzLnNldEVuZFhZQ29vcmRzKHMsbil9Y29uc3RydWN0KHQsZSl7dGhpcy5kcm9wQWxsQXR0cmlidXRlcygpLHRoaXMuc2V0U3RhcnRYWSh0KSx0aGlzLnNldEVuZFhZKGUpfWNvbnN0cnVjdDNEKHQsZSl7cygwKX1jb25zdHJ1Y3RQb2ludCh0LGUpe3RoaXMuYXNzaWduVmVydGV4RGVzY3JpcHRpb24odC5nZXREZXNjcmlwdGlvbigpKSx0aGlzLm1lcmdlVmVydGV4RGVzY3JpcHRpb24oZS5nZXREZXNjcmlwdGlvbigpKSx0aGlzLnNldFN0YXJ0KHQpLHRoaXMuc2V0RW5kKGUpfWdldEdlb21ldHJ5VHlwZSgpe3JldHVybiBwbS50eXBlfXF1ZXJ5RW52ZWxvcGUodCl7aWYoND09PXQubV9FbnZlbG9wZVR5cGUpe3Quc2V0RW1wdHkoKSx0LmFzc2lnblZlcnRleERlc2NyaXB0aW9uKHRoaXMubV9kZXNjcmlwdGlvbik7Y29uc3QgZT1tZS5jb25zdHJ1Y3RFbXB0eSgpO3RoaXMucXVlcnlFbnZlbG9wZShlKSx0LnNldEVudmVsb3BlKGUpO2ZvcihsZXQgcz0xLG49dGhpcy5tX2Rlc2NyaXB0aW9uLmdldEF0dHJpYnV0ZUNvdW50KCk7czxuO3MrKyl7Y29uc3QgZT10aGlzLm1fZGVzY3JpcHRpb24uZ2V0U2VtYW50aWNzKHMpO2ZvcihsZXQgbj0wLGk9X20uZ2V0Q29tcG9uZW50Q291bnQoZSk7czxpO3MrKyl7Y29uc3Qgcz10aGlzLnF1ZXJ5SW50ZXJ2YWwoZSxuKTt0LnNldEludGVydmFsRW52ZWxvcGUoZSxuLHMpfX19ZWxzZSAyPT09dC5tX0VudmVsb3BlVHlwZT90LnNldENvb3Jkcyh7eG1pbjp0aGlzLm1fWFN0YXJ0LHltaW46dGhpcy5tX1lTdGFydCx4bWF4OnRoaXMubV9YRW5kLHltYXg6dGhpcy5tX1lFbmR9KTozPT09dC5tX0VudmVsb3BlVHlwZT8odC5zZXRFbXB0eSgpLHQubWVyZ2VDb29yZHModGhpcy5tX1hTdGFydCx0aGlzLm1fWVN0YXJ0LHRzKHRoaXMsMCwxLDApKSx0Lm1lcmdlQ29vcmRzKHRoaXMubV9YRW5kLHRoaXMubV9ZRW5kLHRzKHRoaXMsMSwxLDApKSk6YShcImVudiB0eXBlIG5vdCBpbXBsXCIpfWFwcGx5VHJhbnNmb3JtYXRpb24odCl7cyh0IGluc3RhbmNlb2YgbGUpO2NvbnN0IGU9bmV3IFE7ZS54PXRoaXMubV9YU3RhcnQsZS55PXRoaXMubV9ZU3RhcnQsdC50cmFuc2Zvcm1JblBsYWNlKGUpLHRoaXMubV9YU3RhcnQ9ZS54LHRoaXMubV9ZU3RhcnQ9ZS55LGUueD10aGlzLm1fWEVuZCxlLnk9dGhpcy5tX1lFbmQsdC50cmFuc2Zvcm1JblBsYWNlKGUpLHRoaXMubV9YRW5kPWUueCx0aGlzLm1fWUVuZD1lLnl9Y3JlYXRlSW5zdGFuY2UoKXtyZXR1cm4gbmV3IHBtKHt2ZDp0aGlzLm1fZGVzY3JpcHRpb259KX1jYWxjdWxhdGVMZW5ndGgyRCgpe3JldHVybiBNYXRoLnNxcnQoWHModGhpcykpfWNhbGN1bGF0ZUxlbmd0aDNEKHQpe3JldHVybiBzKDApLDB9Y2hhbmdlRW5kUG9pbnRzMkQodCxlKXt0aGlzLnNldFN0YXJ0WFkodCksdGhpcy5zZXRFbmRYWShlKSx0aGlzLm5vcm1hbGl6ZUFmdGVyRW5kcG9pbnRDaGFuZ2UoKX1xdWVyeUNvbnRyb2xQb2ludHNIZWxwZXIodCl7cmV0dXJuIHModC5sZW5ndGg+PTIpLHRbMF09dGhpcy5nZXRTdGFydFhZKCksdFsxXT10aGlzLmdldEVuZFhZKCksMn1xdWVyeUNvb3JkMkQodCxlKXtyZXR1cm4gX3ModGhpcyx0LGUpfXF1ZXJ5Q29vcmQzRCh0LGUpe3MoMCl9Z2V0Q29vcmRaKHQpe3JldHVybiB5cyh0aGlzLHQpfXF1ZXJ5Q29vcmQyREUodCxlKXtDcyh0aGlzLHQsZSl9cXVlcnlDb29yZDJETVAodCxlKXtlLmFzc2lnblBvaW50MkQodGhpcy5nZXRTdGFydFhZKCkpO2NvbnN0IHM9WGUuY29uc3RydWN0UG9pbnQyRCh0aGlzLmdldEVuZFhZKCkpO3Muc3ViVGhpcyhlKSxzLm11bFRoaXMoaXQuY29uc3RydWN0RG91YmxlKHQpKSxlLmFkZFRoaXMocyl9Z2V0Q29vcmRYKHQpe3JldHVybiBmcyh0aGlzLHQpfWdldENvb3JkWSh0KXtyZXR1cm4gUHModGhpcyx0KX1jdXQodCxlLHMpe2NvbnN0IG49bmV3IGZtO3JldHVybiB0aGlzLnF1ZXJ5Q3V0KHQsZSxuLHMpLG4ucmVsZWFzZVNlZ21lbnQoKX1xdWVyeUN1dCh0LGUscyxuKXtjb25zdCBpPXMuY3JlYXRlTGluZSgpO24mJmkuYXNzaWduVmVydGV4RGVzY3JpcHRpb24odGhpcy5tX2Rlc2NyaXB0aW9uKTtjb25zdCByPVEuZ2V0TkFOKCk7aWYoX3ModGhpcyx0LHIpLGkuc2V0U3RhcnRYWUNvb3JkcyhyLngsci55KSxfcyh0aGlzLGUsciksaS5zZXRFbmRYWUNvb3JkcyhyLngsci55KSwhbilmb3IobGV0IG89MSxhPXRoaXMubV9kZXNjcmlwdGlvbi5nZXRBdHRyaWJ1dGVDb3VudCgpO288YTtvKyspe2NvbnN0IHM9dGhpcy5tX2Rlc2NyaXB0aW9uLmdldFNlbWFudGljcyhvKSxuPV9tLmdldENvbXBvbmVudENvdW50KHMpO2ZvcihsZXQgcj0wO3I8bjtyKyspe2NvbnN0IG49dGhpcy5nZXRBdHRyaWJ1dGVBc0RibCh0LHMscik7aS5zZXRTdGFydEF0dHJpYnV0ZShzLHIsbik7Y29uc3Qgbz10aGlzLmdldEF0dHJpYnV0ZUFzRGJsKGUscyxyKTtpLnNldEVuZEF0dHJpYnV0ZShzLHIsbyl9fX1xdWVyeURlcml2YXRpdmUodCxlKXt4cyh0aGlzLHQsZSl9Z2V0Q2xvc2VzdENvb3JkaW5hdGUodCxlKXtyZXR1cm4gUS5nZXRDbG9zZXN0Q29vcmRpbmF0ZSh0aGlzLmdldFN0YXJ0WFkoKSx0aGlzLmdldEVuZFhZKCksdCxlKX1nZXRDbG9zZXN0Q29vcmRpbmF0ZU9uSW50ZXJ2YWwodCxlLHM9LTEpe2NvbnN0IG49bmV3IFE7dGhpcy5xdWVyeUNvb3JkMkQoZS52bWluLG4pO2NvbnN0IGk9bmV3IFE7dGhpcy5xdWVyeUNvb3JkMkQoZS52bWF4LGkpO2NvbnN0IHI9US5nZXRDbG9zZXN0Q29vcmRpbmF0ZShuLGksdCwhMSk7cmV0dXJuIHVzLnJlY2FsY3VsYXRlUGFyZW50VChlLnZtaW4sZS52bWF4LHIpfWludGVyc2VjdGlvbk9mWU1vbm90b25pY1dpdGhBeGlzWCh0LGUpe2NvbnN0IHM9dGhpcy5tX1lFbmQtdGhpcy5tX1lTdGFydDtpZighcylyZXR1cm4gdD09PXRoaXMubV9ZRW5kP2U6TnVtYmVyLk5hTjtjb25zdCBuPSh0LXRoaXMubV9ZU3RhcnQpL3M7bGV0IGk9ZnModGhpcyxuKTtyZXR1cm4gMT09PW4mJihpPXRoaXMubV9YRW5kKSxpfWlzQ3VydmUoKXtyZXR1cm4hMX1pc01vbm90b25lUXVpY2tBbmREaXJ0eSgpe3JldHVybiEwfWlzRGVnZW5lcmF0ZSh0KXtjb25zdCBlPXRoaXMubV9YU3RhcnQtdGhpcy5tX1hFbmQscz10aGlzLm1fWVN0YXJ0LXRoaXMubV9ZRW5kO3JldHVybiBNYXRoLnNxcnQoZSplK3Mqcyk8PXR9aXNEZWdlbmVyYXRlM0QodCxlKXtyZXR1cm4gcygwKSwhMX1xdWVyeUxvb3NlRW52ZWxvcGUodCl7dGhpcy5xdWVyeUVudmVsb3BlKHQpfWNsb25lKHQpe2NvbnN0IGU9bmV3IHBtO3JldHVybiB0aGlzLmNvcHlUbyhlKSxlfXRUb0xlbmd0aCh0KXtyZXR1cm4gdCp0aGlzLmNhbGN1bGF0ZUxlbmd0aDJEKCl9bGVuZ3RoVG9UKHQpe2NvbnN0IGU9dGhpcy5jYWxjdWxhdGVMZW5ndGgyRCgpO3JldHVybiAwIT09ZT90L2U6MH1jYWxjdWxhdGVXZWlnaHRlZEFyZWFDZW50cm9pZDJEKHQpe2NvbnN0IGU9bmV3IFE7cmV0dXJuIGUuc2V0Q29vcmRzKDAsMCksZX1jYWxjdWxhdGVXZWlnaHRlZENlbnRyb2lkMkQoKXtyZXR1cm4gdGhpcy5nZXRDb29yZDJEKC41KS5tdWwodGhpcy5jYWxjdWxhdGVMZW5ndGgyRCgpKX1nZXRUYW5nZW50KHQpe2NvbnN0IGU9US5nZXROQU4oKTtyZXR1cm4gZS5zZXRTdWIodGhpcy5nZXRFbmRYWSgpLHRoaXMuZ2V0U3RhcnRYWSgpKSxlfWdldERlcml2YXRpdmUodCl7Y29uc3QgZT1uZXcgUTtyZXR1cm4gZS5zZXRTdWIodGhpcy5nZXRFbmRYWSgpLHRoaXMuZ2V0U3RhcnRYWSgpKSxlfWdldEN1cnZhdHVyZSh0KXtyZXR1cm4gMH1pc0ludGVyc2VjdGluZ1BvaW50KHQsZSxzKXtyZXR1cm4gSXModGhpcyx0LGUscyk+PTB9aXNJbnRlcnNlY3RpbmdQb2ludDNEKHQsZSxuLGkscj0xKXtyZXR1cm4gcygwKSwhMX1nZXRZTW9ub3RvbmljUGFydHModCxlKXtyZXR1cm4gMH1nZXRNb25vdG9uaWNQYXJ0cyh0LGUpe3JldHVybiAwfWdldE1vbm90b25pY1BhcnRQYXJhbXModCxzKXtyZXR1cm4gcyYmKHQ8MiYmZShcIlwiKSxzWzBdPTAsc1sxXT0xKSwyfWludGVyc2VjdGlvbldpdGhBeGlzMkQodCxlLHMsbil7aWYodCl7Y29uc3QgdD10aGlzLm1fWUVuZC10aGlzLm1fWVN0YXJ0O2lmKCF0KXJldHVybiBlPT09dGhpcy5tX1lFbmQ/LTE6MDtjb25zdCBpPShlLXRoaXMubV9ZU3RhcnQpL3Q7cmV0dXJuIGk8MHx8aT4xPzA6KHMmJihzWzBdPWZzKHRoaXMsaSkpLG4mJihuWzBdPWkpLDEpfXtjb25zdCB0PXRoaXMubV9YRW5kLXRoaXMubV9YU3RhcnQ7aWYoIXQpcmV0dXJuIGU9PT10aGlzLm1fWEVuZD8tMTowO2NvbnN0IGk9KGUtdGhpcy5tX1hTdGFydCkvdDtyZXR1cm4gaTwwfHxpPjE/MDoocyYmKHNbMF09UHModGhpcyxpKSksbiYmKG5bMF09aSksMSl9fWNhbGN1bGF0ZVVwcGVyTGVuZ3RoMkQoKXtyZXR1cm4gdGhpcy5jYWxjdWxhdGVMZW5ndGgyRCgpfWNhbGN1bGF0ZUxvd2VyTGVuZ3RoMkQoKXtyZXR1cm4gdGhpcy5jYWxjdWxhdGVMZW5ndGgyRCgpfW5vcm1hbGl6ZUFmdGVyRW5kcG9pbnRDaGFuZ2UoKXtyZXR1cm4hMX1xdWVyeUxvb3NlRW52ZWxvcGVPbkludGVydmFsKHQsZSl7aWYoMj09PWUubV9FbnZlbG9wZVR5cGUpe2xldCBzPV90KHQudm1pbiwwLDEpO2NvbnN0IG49bmV3IFE7cmV0dXJuIHRoaXMucXVlcnlDb29yZDJEKHMsbiksZS5zZXRDb29yZHMoe3B0Om59KSxzPV90KHQudm1heCwwLDEpLHRoaXMucXVlcnlDb29yZDJEKHMsbiksdm9pZCBlLm1lcmdlTmUobil9YShcIjNkIGRzdCBub3QgaW1wbFwiKX1vcmllbnRCb3R0b21VcCgpe1NzKHRoaXMpfWlzTGluZSgpe3JldHVybiEwfWlzRGVnZW5lcmF0ZVRvTGluZUhlbHBlcih0KXtyZXR1cm4hMH1jb3B5SWdub3JlQXR0cmlidXRlcyh0KXt0LnNldFN0YXJ0WFkodGhpcy5nZXRTdGFydFhZKCkpLHQuc2V0RW5kWFkodGhpcy5nZXRFbmRYWSgpKSx0Lm5vcm1hbGl6ZUFmdGVyRW5kcG9pbnRDaGFuZ2UoKX1jYWxjdWxhdGVBcmVhMkRIZWxwZXIoKXtyZXR1cm4gMH1hYnNOb3JtWFlaKHQpe3JldHVybiBicyh0aGlzLHQpfWFic05vcm0oKXtyZXR1cm4gdGhpcy5nZXRTdGFydFhZKCkubm9ybSgxKSt0aGlzLmdldEVuZFhZKCkubm9ybSgxKX1xdWVyeUVudmVsb3BlVyh0LGUpe2Uuc2V0Q29vcmRzKHRoaXMuZ2V0Q29vcmQyRCh0LnZtaW4pKSxlLm1lcmdlTmUodGhpcy5nZXRDb29yZDJEKHQudm1heCkpfXNldFNlZ21lbnRGcm9tQ29vcmRzRm9yU3RpdGNoZXIodCxlKXt2cyh0aGlzLHRbMF0sdFtlLTFdKX13cml0ZUluQnVmZmVyU3RyZWFtKHQsZSl7cmV0dXJuIHMoMCksMH1yZWFkRnJvbUJ1ZmZlclN0cmVhbSh0LGUpe3MoMCl9c25hcENvbnRyb2xQb2ludHModCl7cmV0dXJuITF9bmVlZHNTbmFwQ29udHJvbFBvaW50cyh0KXtyZXR1cm4hMX1jYWxjdWxhdGVTcGVjaWFsUG9pbnRzRm9yQ3JhY2tpbmcodCxlKXtyZXR1cm4gMH1lbnN1cmVYWU1vbm90b25lKCl7cmV0dXJuITF9c2V0Q29vcmRzRm9ySW50ZXJzZWN0b3IodCxlLHMpe3ZzKHRoaXMsdCxlKX1zdGF0aWMgaXNJbnRlcnNlY3RpbmdMaW5lTGluZSh0LGUscyxuKXtyZXR1cm4gRXModCxlLHMsbil9c3RhdGljIGlzSW50ZXJzZWN0aW5nTGluZUxpbmVfKHQsZSxzLG4pe3JldHVybiBFcyh0LGUscyxuKX1jb3B5VG9JbXBsKHQpe31yZXZlcnNlSW1wbCgpe31lcXVhbHNJbXBsKHQpe3JldHVybiEwfWVxdWFsc0ltcGxUb2wodCxlKXtyZXR1cm4hMH1zd2FwSW1wbCh0KXt9YWZ0ZXJDb21wbGV0ZWRNb2RpZmljYXRpb24oKXt9ZW5kUG9pbnRNb2RpZmllZCgpe31jbGVhckVuZFBvaW50TW9kaWZpZWQoKXt9aW50ZXJzZWN0KHQsZSxzLG4saSl7cmV0dXJuIHVtKCExLHRoaXMsdCxlLHMsbixpKX1pbnRlcnNlY3RQb2ludCh0LGUscyl7ZS5sZW5ndGg8MSYmbihcIlwiKTtjb25zdCBpPUlzKHRoaXMsdCxzLCExKTtyZXR1cm4gaT49MD8oZSYmKGVbMF09aSksMSk6MH1pc0ludGVyc2VjdGluZyh0LGUscyl7cmV0dXJuIDAhPT1ybSghMSx0aGlzLHQsZSxzKX19cG0udHlwZT1pLmVudW1MaW5lO2NsYXNzIGZte2NvbnN0cnVjdG9yKHQpe3RoaXMubV9zZWc9bnVsbCx0aGlzLm1fY3VydmVzPW51bGwsdGhpcy5tX2xpbmVCdWZmZXI9bmV3IHBtLHRoaXMubV9tYXNrPTAsdGhpcy5tX2FjdGl2ZT0wLHZvaWQgMCE9PXQmJih0LmNvcHk/dC5jb3B5LmNvcHlUbyh0aGlzLCExKTp0Lm1vdmU/dGhpcy5hc3NpZ25Nb3ZlKHQubW92ZSk6dC5zZWdtZW50P3RoaXMuY29weUZyb20odC5zZWdtZW50LCEhdC5iSWdub3JlQXR0cmlidXRlcyk6aChcImJhZCBjb25zdHJ1Y3RvciBwYXJhbXNcIikpfWFzc2lnbkNvcHkodCl7cmV0dXJuIHQgaW5zdGFuY2VvZiBmbT90aGlzIT09dCYmdC5jb3B5VG8odGhpcywhMSk6dGhpcy5jb3B5RnJvbSh0LCExKSx0aGlzfWFzc2lnbk1vdmUodCl7aWYodCBpbnN0YW5jZW9mIGZtKXtpZih0aGlzPT09dClyZXR1cm4gdGhpczt0aGlzLnJlc2V0KCksMSZ0Lm1fbWFzayYmKHRoaXMubV9saW5lQnVmZmVyPXQubV9saW5lQnVmZmVyLHQubV9saW5lQnVmZmVyPW51bGwsdGhpcy5tX21hc2s9MSksdGhpcy5tX2N1cnZlcz10Lm1fY3VydmVzLHRoaXMubV9tYXNrPXQubV9tYXNrLHRoaXMubV9hY3RpdmU9dC5tX2FjdGl2ZSx0LnJlc2V0KCksdGhpcy5tX3NlZz10aGlzLmFjdGl2ZVNlZ21lbnQoKSx0Lm1fc2VnPW51bGx9ZWxzZXtpZih0aGlzLm1fc2VnPT09dClyZXR1cm4gdGhpczt0aGlzLmNyZWF0ZSh0LmdldEdlb21ldHJ5VHlwZSgpKSx0aGlzLm1fc2VnLnN3YXAodCl9cmV0dXJuIHRoaXN9YWN0aXZlU2VnbWVudCgpe3N3aXRjaCh0aGlzLm1fYWN0aXZlKXtjYXNlIDA6cmV0dXJuIG51bGw7Y2FzZSAxOnJldHVybiB0aGlzLmxpbmUoKTtjYXNlIDI6cmV0dXJuIHRoaXMuYXJjKCk7Y2FzZSA0OnJldHVybiB0aGlzLmJlemllcjMoKTtjYXNlIDg6cmV0dXJuIHRoaXMuYmV6aWVyMigpO2Nhc2UgMTY6cmV0dXJuIHRoaXMucmJlemllcjIoKTtkZWZhdWx0OmgoXCJcIil9fWdldCgpe3JldHVybiB0aGlzLm1fc2VnfXJlc2V0KCl7MSZ0aGlzLm1fbWFzayYmKHRoaXMubV9saW5lQnVmZmVyPW51bGwpLHRoaXMubV9tYXNrPjEmJih0aGlzLm1fY3VydmVzPW51bGwpLHRoaXMubV9tYXNrPTAsdGhpcy5tX2FjdGl2ZT0wfWVtcHR5KCl7cmV0dXJuIG51bGw9PT10aGlzLm1fc2VnfWNvcHlUbyh0LGUpe3RoaXMhPT10JiYodGhpcy5lbXB0eSgpP3QubV9zZWc9bnVsbDp0LmNvcHlGcm9tKHRoaXMubV9zZWcsZSkpfWNvcHlUb1dpdGhaKHQsZSl7cygwKX1jcmVhdGVJbXBsKHQpe3N3aXRjaCh0KXtjYXNlIGkuZW51bUxpbmU6MSZ0aGlzLm1fbWFza3x8KHRoaXMubV9saW5lQnVmZmVyPW5ldyBwbSx0aGlzLm1fbWFza3w9MSx0aGlzLm1fYWN0aXZlPTEpO2JyZWFrO2Nhc2UgaS5lbnVtRWxsaXB0aWNBcmM6MiZ0aGlzLm1fbWFza3x8KHRoaXMubV9jdXJ2ZXM9bmV3IFhoLHRoaXMubV9tYXNrPTEmdGhpcy5tX21hc2t8Mix0aGlzLm1fYWN0aXZlPTIpO2JyZWFrO2Nhc2UgaS5lbnVtQmV6aWVyOjQmdGhpcy5tX21hc2t8fCh0aGlzLm1fY3VydmVzPW5ldyBpYSx0aGlzLm1fbWFzaz0xJnRoaXMubV9tYXNrfDQsdGhpcy5tX2FjdGl2ZT00KTticmVhaztjYXNlIGkuZW51bUJlemllcjI6OCZ0aGlzLm1fbWFza3x8KHRoaXMubV9jdXJ2ZXM9bmV3IHduLHRoaXMubV9tYXNrPTEmdGhpcy5tX21hc2t8OCx0aGlzLm1fYWN0aXZlPTgpO2JyZWFrO2Nhc2UgaS5lbnVtUmF0aW9uYWxCZXppZXIyOjE2JnRoaXMubV9tYXNrfHwodGhpcy5tX2N1cnZlcz1uZXcgRW4sdGhpcy5tX21hc2s9MSZ0aGlzLm1fbWFza3wxNix0aGlzLm1fYWN0aXZlPTE2KTticmVhaztkZWZhdWx0OmUoXCJcIil9fWNyZWF0ZSh0KXt0PT09aS5lbnVtTGluZT90aGlzLmNyZWF0ZUxpbmUoKTp0PT09aS5lbnVtRWxsaXB0aWNBcmM/dGhpcy5jcmVhdGVFbGxpcHRpY0FyYygpOnQ9PT1pLmVudW1CZXppZXI/dGhpcy5jcmVhdGVDdWJpY0JlemllcigpOnQ9PT1pLmVudW1SYXRpb25hbEJlemllcjI/dGhpcy5jcmVhdGVRdWFkcmF0aWNSYXRpb25hbEJlemllcigpOnQ9PT1pLmVudW1CZXppZXIyP3RoaXMuY3JlYXRlUXVhZHJhdGljQmV6aWVyKCk6ZShcIlNlZ21lbnRfYnVmZmVyLmNyZWF0ZVwiKX1jb3B5RnJvbSh0LGUpe3RoaXMubV9zZWchPT10JiYodGhpcy5jcmVhdGUodC5nZXRHZW9tZXRyeVR5cGUoKSksZT90LmNvcHlJZ25vcmVBdHRyaWJ1dGVzKHRoaXMubV9zZWcpOnQuY29weVRvKHRoaXMubV9zZWcpKX1jb3B5RnJvbVdpdGhaKHQsZSl7cygwKX1saW5lKCl7cmV0dXJuIHRoaXMubV9saW5lQnVmZmVyfWFyYygpe3JldHVybiB0aGlzLm1fY3VydmVzfWJlemllcjMoKXtyZXR1cm4gdGhpcy5tX2N1cnZlc31iZXppZXIyKCl7cmV0dXJuIHRoaXMubV9jdXJ2ZXN9cmJlemllcjIoKXtyZXR1cm4gdGhpcy5tX2N1cnZlc31jcmVhdGVMaW5lKCl7cmV0dXJuIHRoaXMuY3JlYXRlSW1wbChpLmVudW1MaW5lKSx0aGlzLm1fc2VnPXRoaXMubGluZSgpLHRoaXMubGluZSgpfWNyZWF0ZUVsbGlwdGljQXJjKCl7cmV0dXJuIHRoaXMuY3JlYXRlSW1wbChpLmVudW1FbGxpcHRpY0FyYyksdGhpcy5tX3NlZz10aGlzLmFyYygpLHRoaXMuYXJjKCl9Y3JlYXRlQ3ViaWNCZXppZXIoKXtyZXR1cm4gdGhpcy5jcmVhdGVJbXBsKGkuZW51bUJlemllciksdGhpcy5tX3NlZz10aGlzLmJlemllcjMoKSx0aGlzLmJlemllcjMoKX1jcmVhdGVRdWFkcmF0aWNSYXRpb25hbEJlemllcigpe3JldHVybiB0aGlzLmNyZWF0ZUltcGwoaS5lbnVtUmF0aW9uYWxCZXppZXIyKSx0aGlzLm1fc2VnPXRoaXMucmJlemllcjIoKSx0aGlzLnJiZXppZXIyKCl9Y3JlYXRlUXVhZHJhdGljQmV6aWVyKCl7cmV0dXJuIHRoaXMuY3JlYXRlSW1wbChpLmVudW1CZXppZXIyKSx0aGlzLm1fc2VnPXRoaXMuYmV6aWVyMigpLHRoaXMuYmV6aWVyMigpfXJlbGVhc2VTZWdtZW50KCl7aWYodGhpcy5tX3NlZz1udWxsLDA9PT10aGlzLm1fYWN0aXZlJiZoKFwicmVsZWFzZVNlZ21lbnRcIiksMSZ0aGlzLm1fYWN0aXZlKXtjb25zdCB0PXRoaXMubGluZSgpO3JldHVybiB0aGlzLm1fbWFzay09MSx0aGlzLm1fYWN0aXZlPTAsdGhpcy5tX2xpbmVCdWZmZXI9bnVsbCx0fWxldCB0O3JldHVybiAyJnRoaXMubV9hY3RpdmU/dD10aGlzLmFyYygpOjQmdGhpcy5tX2FjdGl2ZT90PXRoaXMuYmV6aWVyMygpOjgmdGhpcy5tX2FjdGl2ZT90PXRoaXMuYmV6aWVyMigpOjE2JnRoaXMubV9hY3RpdmU/dD10aGlzLnJiZXppZXIyKCk6aChcInJlbGVhc2VTZWdtZW50XCIpLHRoaXMubV9tYXNrLT10aGlzLm1fYWN0aXZlLHRoaXMubV9hY3RpdmU9MCx0aGlzLm1fY3VydmVzPW51bGwsdH1lcXVhbHModCl7cmV0dXJuIHQgaW5zdGFuY2VvZiBmbT90aGlzPT09dHx8KHRoaXMuZW1wdHkoKT90LmVtcHR5KCk6IXQuZW1wdHkoKSYmdGhpcy5nZXQoKS5lcXVhbHModC5nZXQoKSkpOihhKFwic2VnIGNvbXBhcmlzb24gbm90IHlldCBpbXBsXCIpLCExKX19ZXhwb3J0e1NzIGFzICQsUnUgYXMgQSxUdSBhcyBCLHdyIGFzIEMsamggYXMgRCxQciBhcyBFLG91IGFzIEYsbHMgYXMgRyxrcyBhcyBILExzIGFzIEksUnMgYXMgSixKcyBhcyBLLHBtIGFzIEwsRWUgYXMgTSxraCBhcyBOLFdoIGFzIE8sT3MgYXMgUCxybSBhcyBRLHplIGFzIFIsZm0gYXMgUyxFbiBhcyBULGZoIGFzIFUsR3UgYXMgVix1cyBhcyBXLHByIGFzIFgsb20gYXMgWSx1bSBhcyBaLGlzIGFzIF8sdXIgYXMgYSxZZSBhcyBhMCxhbSBhcyBhMSxobSBhcyBhMixnbSBhcyBhMyxYZSBhcyBhNCxjdSBhcyBhNSxmciBhcyBhNixZaCBhcyBhNyxfZSBhcyBhOCxUaCBhcyBhOSxBaCBhcyBiLEtzIGFzIGMsemggYXMgZCxTciBhcyBlLHlyIGFzIGYsY3MgYXMgZyxQZSBhcyBoLHZyIGFzIGksVHMgYXMgaixxaCBhcyBrLFhoIGFzIGwsRmggYXMgbSxjciBhcyBuLGdyIGFzIG8sQmggYXMgcCxzbiBhcyBxLHhlIGFzIHIscGUgYXMgcyx0biBhcyB0LGxvIGFzIHUsZmUgYXMgdixCciBhcyB3LEpuIGFzIHgsaWEgYXMgeSxMdSBhcyB6fTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjMzL2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7RyBhcyBlfWZyb21cIi4vU2ltcGxlR2VvbWV0cnlDdXJzb3IuanNcIjtpbXBvcnR7YSBhcyB0LGMgYXMgcyxHIGFzIGksaSBhcyBuLGcgYXMgcixkIGFzIGh9ZnJvbVwiLi9HZW9tZXRyeS5qc1wiO2ltcG9ydHtjIGFzIG19ZnJvbVwiLi9FbnZlbG9wZS5qc1wiO2ltcG9ydHtFbnZlbG9wZTJEIGFzIGF9ZnJvbVwiLi9FbnZlbG9wZTJELmpzXCI7aW1wb3J0e0UgYXMgbyxuIGFzIHgsTCBhcyBwLFMgYXMgY31mcm9tXCIuL011bHRpUGF0aEltcGwuanNcIjtpbXBvcnR7ZCBhcyBsLG0gYXMgXyxQIGFzIHUsZSBhcyBnLGYgYXMgeX1mcm9tXCIuL1BvaW50MkQuanNcIjtmdW5jdGlvbiBmKGUsdCxzLGksbil7cmV0dXJuIHYoZSx0LG51bGwscyxpLG4pfWZ1bmN0aW9uIHYoZSxzLG8seCxwLGMpe2NvbnN0IGw9ZS5nZXRHZW9tZXRyeVR5cGUoKTtpZihsPT09aS5lbnVtUG9pbnQpe2NvbnN0IHQ9ZS5nZXRYWSgpO3JldHVybiBzLmNvbnRhaW5zKHQpP2U6ZS5jcmVhdGVJbnN0YW5jZSgpfWlmKGw9PT1pLmVudW1FbnZlbG9wZSl7Y29uc3QgdD1hLmNvbnN0cnVjdEVtcHR5KCk7aWYoZS5xdWVyeUVudmVsb3BlKHQpLHQuaW50ZXJzZWN0KHMpKXtjb25zdCBzPWUuY2xvbmUoKTtyZXR1cm4gcy5zZXRFbnZlbG9wZSh0KSxzfXJldHVybiBlLmNyZWF0ZUluc3RhbmNlKCl9aWYoZS5pc0VtcHR5KCkpcmV0dXJuIGU7aWYocy5pc0VtcHR5KCkpcmV0dXJuIGUuY3JlYXRlSW5zdGFuY2UoKTtjb25zdCBfPXMuY2xvbmUoKTt7Y29uc3QgdD1uZXcgYTtpZihlLnF1ZXJ5TG9vc2VFbnZlbG9wZSh0KSxfLmNvbnRhaW5zRW52ZWxvcGUodCkpcmV0dXJuIGU7aWYoIV8uaXNJbnRlcnNlY3RpbmcodCkpcmV0dXJuIGUuY3JlYXRlSW5zdGFuY2UoKTswPT09cCYmKHQuaW50ZXJzZWN0KF8pLHQuaW5mbGF0ZShNYXRoLm1heCguMSp0Lm1heERpbWVuc2lvbigpLDEpKSx0LmludGVyc2VjdChfKSxfLmFzc2lnbih0KSl9bGV0IHU9eDtpZigobnVsbCE9PW98fE51bWJlci5pc05hTih1KSkmJih1PW0obyxfLCExKS50b3RhbCgpKSxsPT09aS5lbnVtR2VvbWV0cnlDb2xsZWN0aW9uKXtjb25zdCB0PWUscz1lLmNyZWF0ZUluc3RhbmNlKCk7Zm9yKGxldCBlPTAsaT10LmdldEdlb21ldHJ5Q291bnQoKTtlPGk7ZSsrKXtjb25zdCBpPXQuZ2V0R2VvbWV0cnkoZSk7aWYoaS5pc0VtcHR5KCkpY29udGludWU7Y29uc3Qgbj1mKGksXyx1LHAsYyk7bi5pc0VtcHR5KCl8fChuPT09aT9zLmFkZEdlb21ldHJ5KG4uY2xvbmUoKSk6cy5hZGRHZW9tZXRyeShuKSl9cmV0dXJuIHN9bihsKXx8dChcIkNsaXA6IGdlb21ldHJ5IG5vdCBzdXBwb3J0ZWRcIik7Y29uc3QgZz1lLmdldEltcGwoKS5nZXRBY2NlbGVyYXRvcnMoKTtpZihudWxsIT09Zyl7Y29uc3QgZT1nLmdldFJhc3Rlcml6ZWRHZW9tZXRyeSgpO3IobnVsbD09PWUpfXN3aXRjaChsKXtjYXNlIGkuZW51bU11bHRpUG9pbnQ6e2NvbnN0IHQ9ZTtsZXQgcztjb25zdCBpPXQuZ2V0UG9pbnRDb3VudCgpLG49dC5nZXRJbXBsKCkuZ2V0QXR0cmlidXRlU3RyZWFtUmVmKDApO2xldCBoPTA7Zm9yKGxldCBlPTA7ZTxpO2UrKyl7Y29uc3QgaT1uLnJlYWRQb2ludDJEKDIqZSk7Xy5jb250YWlucyhpKXx8KDA9PT1oJiYocz10LmNyZWF0ZUluc3RhbmNlKCkpLGg8ZSYmcy5hZGRQb2ludHModCxoLGUpLGg9ZSsxKX1yZXR1cm4gaD4wJiZzLmFkZFBvaW50cyh0LGgsaSksMD09PWg/dDoocihudWxsIT09cykscyl9Y2FzZSBpLmVudW1Qb2x5Z29uOmNhc2UgaS5lbnVtUG9seWxpbmU6cmV0dXJuIFAoZSxfLHUscCxjKTtkZWZhdWx0OmgoXCJcIil9fWZ1bmN0aW9uIGQoZSx0LHMsaSxuLHIpe2NvbnN0IGg9bmV3IEUodCxyKSxtPW5ldyBhO3JldHVybiBlLnF1ZXJ5TG9vc2VFbnZlbG9wZShtKSx0LmNvbnRhaW5zRW52ZWxvcGUobSk/ZTp0LmlzSW50ZXJzZWN0aW5nKG0pP2guY2xpcFBvbGVzT3V0KGUsbik6ZS5jcmVhdGVJbnN0YW5jZSgpfWZ1bmN0aW9uIFAoZSx0LHMsaSxuKXtyZXR1cm4gbmV3IEUodCxuKS5jbGlwTXVsdGlQYXRoMihlLHMsaSl9Y2xhc3MgRXtjb25zdHJ1Y3RvcihlLHQpe3RoaXMubV9zaGFwZT1uZXcgbyx0aGlzLm1fZ2VvbWV0cnk9eCx0aGlzLm1fdmVydGljZXNPbkV4dGVudEluZGV4PS0xLHRoaXMubV92ZXJ0aWNlc09uRXh0ZW50PVtdLHRoaXMubV9wcm9ncmVzc0NvdW50ZXI9MCx0aGlzLm1fZXh0ZW50PW5ldyBhKGUpLHRoaXMubV9wcm9ncmVzc1RyYWNrZXI9dH1wcm9ncmVzc18oKXt9Y2xpcE11bHRpUGF0aDIoZSx0LHMpe3JldHVybiBlLmdldEdlb21ldHJ5VHlwZSgpPT09aS5lbnVtUG9seWdvbj90aGlzLmNsaXBQb2x5Z29uT3JQcm9qZWN0ZWRQb2x5bGluZTIoZSxzKTp0aGlzLmNsaXBQb2x5bGluZShlLHQpfWNsaXBQb2x5Z29uT3JQcm9qZWN0ZWRQb2x5bGluZTIoZSx0KXtjb25zdCBzPWUuZ2V0R2VvbWV0cnlUeXBlKCk9PT1pLmVudW1Qb2x5bGluZTtpZigwPT09dGhpcy5tX2V4dGVudC53aWR0aCgpfHwwPT09dGhpcy5tX2V4dGVudC5oZWlnaHQoKSlyZXR1cm4gZS5jcmVhdGVJbnN0YW5jZSgpO2NvbnN0IG49YS5jb25zdHJ1Y3RFbXB0eSgpO2UucXVlcnlMb29zZUVudmVsb3BlKG4pLHRoaXMubV9nZW9tZXRyeT1zP3RoaXMubV9zaGFwZS5hZGRHZW9tZXRyeShlKTp0aGlzLm1fc2hhcGUuYWRkR2VvbWV0cnkoZSx0aGlzLm1fZXh0ZW50KTtjb25zdCBoPWEuY29uc3RydWN0RW1wdHkoKSxtPWEuY29uc3RydWN0RW1wdHkoKSxvPW5ldyB1LGM9bmV3IHUsZz1sKDksTnVtYmVyLk5hTikseT1sKDksTnVtYmVyLk5hTiksZj1fKHUsOSk7bGV0IHY9bnVsbDtjb25zdCBkPW5ldyBwLFA9W107bGV0IEk9ITE7Zm9yKGxldCBpPTA7IUkmJmk8NDtpKyspe2xldCBlPSExO2NvbnN0IHQ9ISEoMSZpKTtsZXQgYT0wO3N3aXRjaChpKXtjYXNlIDA6YT10aGlzLm1fZXh0ZW50LnhtaW4sZT1uLnhtaW48PWEmJm4ueG1heD49YTticmVhaztjYXNlIDE6YT10aGlzLm1fZXh0ZW50LnltaW4sZT1uLnltaW48PWEmJm4ueW1heD49YTticmVhaztjYXNlIDI6YT10aGlzLm1fZXh0ZW50LnhtYXgsZT1uLnhtaW48PWEmJm4ueG1heD49YTticmVhaztjYXNlIDM6YT10aGlzLm1fZXh0ZW50LnltYXgsZT1uLnltaW48PWEmJm4ueW1heD49YX1pZihlKXtJPSEwO2ZvcihsZXQgZT10aGlzLm1fc2hhcGUuZ2V0Rmlyc3RQYXRoKHRoaXMubV9nZW9tZXRyeSk7ZSE9PXg7KXtsZXQgbj0hMCxwPS0xLGw9LTE7Y29uc3QgXz10aGlzLm1fc2hhcGUuZ2V0Rmlyc3RWZXJ0ZXgoZSk7bGV0IHU9Xztkb3t0aGlzLnByb2dyZXNzXygpLHY9dGhpcy5tX3NoYXBlLmdldFNlZ21lbnQodSk7bGV0IGU9djtpZihudWxsPT09ZSl7Y29uc3QgdD10aGlzLm1fc2hhcGUuZ2V0TmV4dFZlcnRleCh1KTtpZih0PT09eCl7cihzKSwwPT09cCYmUC5wdXNoKHUpO2JyZWFrfXRoaXMubV9zaGFwZS5xdWVyeVhZKHUsbyksZC5zZXRTdGFydFhZKG8pLHRoaXMubV9zaGFwZS5xdWVyeVhZKHQsYyksZC5zZXRFbmRYWShjKSxlPWR9ZS5xdWVyeUxvb3NlRW52ZWxvcGUoaCk7bGV0IF89RS5jaGVja1NlZ21lbnRJbnRlcnNlY3Rpb24oaCxpLGEpO2UuaXNDdXJ2ZSgpJiYwPT09XyYmZS5pc0N1cnZlKCkmJihkLnNldFN0YXJ0WFkoZS5nZXRTdGFydFhZKCkpLGQuc2V0RW5kWFkoZS5nZXRFbmRYWSgpKSx0aGlzLm1fc2hhcGUucmVwbGFjZUN1cnZlV2l0aExpbmUodSksZT1kLGQucXVlcnlFbnZlbG9wZShoKSxfPUUuY2hlY2tTZWdtZW50SW50ZXJzZWN0aW9uKGgsaSxhKSk7bGV0IFY9MCxYPXg7aWYoLTE9PT1fKXtjb25zdCBzPWUuaW50ZXJzZWN0aW9uV2l0aEF4aXMyRCh0LGEsZyx5KTtpZihzPjApe2xldCBpPW51bGw7aWYoZS5pc0N1cnZlKCkpe2k9ZixyKHM8PTkpO2ZvcihsZXQgZT0wO2U8cztlKyspdD9mW2VdLnNldENvb3JkcyhnW2VdLGEpOmZbZV0uc2V0Q29vcmRzKGEsZ1tlXSk7Vj10aGlzLm1fc2hhcGUuc3BsaXRTZWdtZW50QXhpc0F3YXJlKHUseSxzLGksdD8xOjApfWVsc2UgVj10aGlzLm1fc2hhcGUuc3BsaXRTZWdtZW50QXhpc0F3YXJlKHUseSxzLG51bGwsLTEpfWVsc2UgVj0wO1YrPTE7bGV0IGg9dSx4PXRoaXMubV9zaGFwZS5nZXROZXh0VmVydGV4KGgpO2U9bnVsbDtmb3IobGV0IGU9MDtlPFY7ZSsrKXt0aGlzLm1fc2hhcGUucXVlcnlYWShoLG8pLHRoaXMubV9zaGFwZS5xdWVyeVhZKHgsYyksdj10aGlzLm1fc2hhcGUuZ2V0U2VnbWVudChoKTtsZXQgZT12O251bGw9PT1lJiYoZC5zZXRTdGFydFhZKG8pLGQuc2V0RW5kWFkoYyksZT1kKSxlLnF1ZXJ5RW52ZWxvcGUobSk7bGV0IHM9RS5jaGVja1NlZ21lbnRJbnRlcnNlY3Rpb24obSxpLGEpO2lmKGUuaXNDdXJ2ZSgpJiYwPT09cyYmKHRoaXMubV9zaGFwZS5yZXBsYWNlQ3VydmVXaXRoTGluZShoKSxkLnNldFN0YXJ0WFkobyksZC5zZXRFbmRYWShjKSxlPWQsZS5xdWVyeUVudmVsb3BlKG0pLHM9RS5jaGVja1NlZ21lbnRJbnRlcnNlY3Rpb24obSxpLGEpKSwtMT09PXMpe2lmKHQpe01hdGguYWJzKG8ueS1hKTxNYXRoLmFicyhjLnktYSk/KG8ueT1hLHRoaXMubV9zaGFwZS5zZXRYWShoLG8pKTooYy55PWEsdGhpcy5tX3NoYXBlLnNldFhZKHgsYykpfWVsc2V7TWF0aC5hYnMoby54LWEpPE1hdGguYWJzKGMueC1hKT8oby54PWEsdGhpcy5tX3NoYXBlLnNldFhZKGgsbykpOihjLng9YSx0aGlzLm1fc2hhcGUuc2V0WFkoeCxjKSl9dj10aGlzLm1fc2hhcGUuZ2V0U2VnbWVudChoKSxlPXYsbnVsbD09PWUmJihkLnNldFN0YXJ0WFkobyksZC5zZXRFbmRYWShjKSxlPWQpLGUucXVlcnlFbnZlbG9wZShtKSxzPUUuY2hlY2tTZWdtZW50SW50ZXJzZWN0aW9uKG0saSxhKSwtMT09PXMmJihzPUUuY2hlY2tTZWdtZW50SW50ZXJzZWN0aW9uTG9vc2UobSxpLGEpKX1jb25zdCByPXA7cD1zLC0xPT09bCYmKGw9cCksMD09PXImJjE9PT1wfHwxPT09ciYmMD09PXB8fDA9PT1yJiYwPT09cCYmUC5wdXNoKGgpLDE9PT1wJiYoST0hMSxuPSExKSxoPXgsWD1oLHg9dGhpcy5tX3NoYXBlLmdldE5leHRWZXJ0ZXgoeCl9fWlmKDA9PT1WKXtjb25zdCBlPXA7cD1fLC0xPT09bCYmKGw9cCksMD09PWUmJnA+PTF8fGU+PTEmJjA9PT1wfHwwPT09ZSYmMD09PXAmJlAucHVzaCh1KSwxPT09cCYmKEk9ITEsbj0hMSksWD10aGlzLm1fc2hhcGUuZ2V0TmV4dFZlcnRleCh1KX1pZih1PVgsUC5sZW5ndGg+PTI1Nil7Zm9yKGxldCBlPTEsdD1QLmxlbmd0aC0xO2U8dDtlKyspe2NvbnN0IHQ9UFtlXTtzP3RoaXMubV9zaGFwZS5zbmFwVmVydGV4Rm9yUG9sZUNsaXBwaW5nKHQsYSk6dGhpcy5tX3NoYXBlLnJlbW92ZVZlcnRleCh0LCExKX1QWzFdPVAuYXQoLTEpLFAubGVuZ3RoPTJ9fXdoaWxlKHUhPT1fKTtpZighbil7MCE9PWx8fCFzJiYwIT09cCYmMiE9PXB8fFAucHVzaChfKTtmb3IobGV0IGU9MCx0PVAubGVuZ3RoO2U8dDtlKyspe2NvbnN0IHQ9UFtlXTtzP3RoaXMubV9zaGFwZS5zbmFwVmVydGV4Rm9yUG9sZUNsaXBwaW5nKHQsYSk6dGhpcy5tX3NoYXBlLnJlbW92ZVZlcnRleCh0LCExKX19UC5sZW5ndGg9MCxlPW58fDA9PT10aGlzLm1fc2hhcGUuZ2V0UGF0aFNpemUoZSk/dGhpcy5tX3NoYXBlLnJlbW92ZVBhdGgoZSk6dGhpcy5tX3NoYXBlLmdldE5leHRQYXRoKGUpfX19aWYoSSlyZXR1cm4gZS5jcmVhdGVJbnN0YW5jZSgpO3Y9bnVsbCxzP3RoaXMucmVtb3ZlU3Bpa2VzQWxvbmdQb2xlcygpOnRoaXMucmVzb2x2ZUJvdW5kYXJ5T3ZlcmxhcHMoKSx0PjAmJnRoaXMuZGVuc2lmeUFsb25nQ2xpcEV4dGVudCh0KTtjb25zdCBWPXRoaXMubV9zaGFwZS5nZXRHZW9tZXRyeSh0aGlzLm1fZ2VvbWV0cnkpO2lmKFYuZ2V0R2VvbWV0cnlUeXBlKCk9PT1pLmVudW1Qb2x5Z29uKXtWLnNldEZpbGxSdWxlKGUuZ2V0RmlsbFJ1bGUoKSl9cmV0dXJuIFZ9Y2xpcFBvbHlsaW5lKGUsdCl7Y29uc3Qgcz1hLmNvbnN0cnVjdEVtcHR5KCksaT1hLmNvbnN0cnVjdEVtcHR5KCksbj1sKDksTnVtYmVyLk5hTikscj1sKDksTnVtYmVyLk5hTiksaD1uZXcgYztsZXQgbT1lO2NvbnN0IG89YS5jb25zdHJ1Y3RFbXB0eSgpO2UucXVlcnlMb29zZUVudmVsb3BlKG8pO2ZvcihsZXQgYT0wO2E8NDthKyspe2xldCB0PSExO2NvbnN0IHg9ISEoMSZhKTtsZXQgcD0wO3N3aXRjaChhKXtjYXNlIDA6cD10aGlzLm1fZXh0ZW50LnhtaW4sdD1vLnhtaW48PXAmJm8ueG1heD49cDticmVhaztjYXNlIDE6cD10aGlzLm1fZXh0ZW50LnltaW4sdD1vLnltaW48PXAmJm8ueW1heD49cDticmVhaztjYXNlIDI6cD10aGlzLm1fZXh0ZW50LnhtYXgsdD1vLnhtaW48PXAmJm8ueG1heD49cDticmVhaztjYXNlIDM6cD10aGlzLm1fZXh0ZW50LnltYXgsdD1vLnltaW48PXAmJm8ueW1heD49cH1pZighdCljb250aW51ZTtjb25zdCBjPW07bT1lLmNyZWF0ZUluc3RhbmNlKCk7Y29uc3QgbD1jLmdldEltcGwoKS5xdWVyeVNlZ21lbnRJdGVyYXRvcigpO2wucmVzZXRUb0ZpcnN0UGF0aCgpO2NvbnN0IF89bmV3IHUsZz1uZXcgdTtmb3IoO2wubmV4dFBhdGgoKTspe2xldCBlPS0xLHQ9ITA7Zm9yKDtsLmhhc05leHRTZWdtZW50KCk7KXt0aGlzLnByb2dyZXNzXygpO2NvbnN0IG89bC5uZXh0U2VnbWVudCgpLGM9by5pc0RlZ2VuZXJhdGUoMCk7by5xdWVyeUxvb3NlRW52ZWxvcGUocyk7Y29uc3QgdT1FLmNoZWNrU2VnbWVudEludGVyc2VjdGlvbihzLGEscCk7aWYoLTE9PT11KXtjb25zdCBzPW8uaW50ZXJzZWN0aW9uV2l0aEF4aXMyRCh4LHAsbixyKTtsZXQgbD0wO18uYXNzaWduKG8uZ2V0U3RhcnRYWSgpKTtmb3IobGV0IHU9MDt1PD1zO3UrKyl7Y29uc3QgeT11PHM/clt1XToxO2lmKGw9PT15KWNvbnRpbnVlO28ucXVlcnlDdXQobCx5LGgsITEpO2NvbnN0IGY9aC5nZXQoKTtsZXQgdj0hMTtpZihmLmdldFN0YXJ0WFkoKS5lcXVhbHMoXyl8fChmLnNldFN0YXJ0WFkoXyksdj0hMCksdTxzJiYoeD8oZy54PW5bdV0sZy55PXApOihnLng9cCxnLnk9blt1XSksZi5nZXRFbmRYWSgpLmVxdWFscyhnKXx8KGYuc2V0RW5kWFkoZyksdj0hMCkpLHYmJmYubm9ybWFsaXplQWZ0ZXJFbmRwb2ludENoYW5nZSgpLCFjJiZmLmlzRGVnZW5lcmF0ZSgwKSljb250aW51ZTtmLnF1ZXJ5RW52ZWxvcGUoaSk7bGV0IGQ9RS5jaGVja1NlZ21lbnRJbnRlcnNlY3Rpb24oaSxhLHApO2lmKC0xPT09ZCl7Y29uc3QgZT1mLmdldFN0YXJ0WFkoKSx0PWYuZ2V0RW5kWFkoKTtpZih2PSExLHgpe01hdGguYWJzKGUueS1wKTxNYXRoLmFicyh0LnktcCk/KGUueT1wLGYuc2V0U3RhcnRYWShlKSxlLmVxdWFscyhmLmdldFN0YXJ0WFkoKSl8fChmLnNldFN0YXJ0WFkoZSksdj0hMCkpOih0Lnk9cCx0LmVxdWFscyhmLmdldEVuZFhZKCkpfHwoZi5zZXRFbmRYWSh0KSx2PSEwKSl9ZWxzZXtNYXRoLmFicyhlLngtcCk8TWF0aC5hYnModC54LXApPyhlLng9cCxlLmVxdWFscyhmLmdldFN0YXJ0WFkoKSl8fChmLnNldFN0YXJ0WFkoZSksdj0hMCkpOih0Lng9cCx0LmVxdWFscyhmLmdldEVuZFhZKCkpfHwoZi5zZXRFbmRYWSh0KSx2PSEwKSl9diYmZi5ub3JtYWxpemVBZnRlckVuZHBvaW50Q2hhbmdlKCksZi5xdWVyeUVudmVsb3BlKGkpLGQ9RS5jaGVja1NlZ21lbnRJbnRlcnNlY3Rpb24oaSxhLHApLC0xPT09ZCYmKGQ9RS5jaGVja1NlZ21lbnRJbnRlcnNlY3Rpb25Mb29zZShpLGEscCkpfV8uYXNzaWduKGYuZ2V0RW5kWFkoKSksbD15LGU9ZCxlPj0xPyhtLmFkZFNlZ21lbnQoZix0KSx0PSExKTp0PSEwfX1lbHNlIGU9dSxlPj0xPyhtLmFkZFNlZ21lbnQobyx0KSx0PSExKTp0PSEwfX19cmV0dXJuIG19c3RhdGljIGNoZWNrU2VnbWVudEludGVyc2VjdGlvbihlLHQscyl7c3dpdGNoKHQpe2Nhc2UgMDpyZXR1cm4gZS54bWluPHMmJmUueG1heDw9cz8wOmUueG1pbj49cz9lLnhtYXg9PT1zPzI6MTotMTtjYXNlIDE6cmV0dXJuIGUueW1pbjxzJiZlLnltYXg8PXM/MDplLnltaW4+PXM/ZS55bWF4PT09cz8yOjE6LTE7Y2FzZSAyOnJldHVybiBlLnhtaW4+PXMmJmUueG1heD5zPzA6ZS54bWF4PD1zP2UueG1pbj09PXM/MjoxOi0xO2Nhc2UgMzpyZXR1cm4gZS55bWluPj1zJiZlLnltYXg+cz8wOmUueW1heDw9cz9lLnltaW49PT1zPzI6MTotMX1yZXR1cm4gaChcIlwiKSwwfXN0YXRpYyBjaGVja1NlZ21lbnRJbnRlcnNlY3Rpb25Mb29zZShlLHQscyl7c3dpdGNoKHQpe2Nhc2UgMDp7Y29uc3QgdD1NYXRoLmFicyhlLnhtaW4tcyksaT1NYXRoLmFicyhlLnhtYXgtcyk7cmV0dXJuIGUueG1pbjxzP3Q+aT8wOjE6KGgoXCJcIiksMSl9Y2FzZSAxOntjb25zdCB0PU1hdGguYWJzKGUueW1pbi1zKSxpPU1hdGguYWJzKGUueW1heC1zKTtyZXR1cm4gZS55bWluPHM/dD5pPzA6MTooaChcIlwiKSwxKX1jYXNlIDI6e2NvbnN0IHQ9TWF0aC5hYnMoZS54bWluLXMpLGk9TWF0aC5hYnMoZS54bWF4LXMpO3JldHVybiBlLnhtYXg+cz90PGk/MDoxOihoKFwiXCIpLDEpfWNhc2UgMzp7Y29uc3QgdD1NYXRoLmFicyhlLnltaW4tcyksaT1NYXRoLmFicyhlLnltYXgtcyk7cmV0dXJuIGUueW1heD5zP3Q8aT8wOjE6KGgoXCJcIiksMSl9fXJldHVybiBoKFwiXCIpLDB9cmVzb2x2ZUJvdW5kYXJ5T3ZlcmxhcHMoKXt0aGlzLm1fdmVydGljZXNPbkV4dGVudEluZGV4PS0xLHRoaXMuc3BsaXRTZWdtZW50cyghMSx0aGlzLm1fZXh0ZW50LnhtaW4pLHRoaXMuc3BsaXRTZWdtZW50cyghMSx0aGlzLm1fZXh0ZW50LnhtYXgpLHRoaXMuc3BsaXRTZWdtZW50cyghMCx0aGlzLm1fZXh0ZW50LnltaW4pLHRoaXMuc3BsaXRTZWdtZW50cyghMCx0aGlzLm1fZXh0ZW50LnltYXgpLHRoaXMubV92ZXJ0aWNlc09uRXh0ZW50Lmxlbmd0aD0wLHRoaXMubV92ZXJ0aWNlc09uRXh0ZW50SW5kZXg9dGhpcy5tX3NoYXBlLmNyZWF0ZVVzZXJJbmRleCgpO2NvbnN0IGU9bmV3IHU7Zm9yKGxldCB0PXRoaXMubV9zaGFwZS5nZXRGaXJzdFBhdGgodGhpcy5tX2dlb21ldHJ5KTt0IT09eDt0PXRoaXMubV9zaGFwZS5nZXROZXh0UGF0aCh0KSl7bGV0IHM9dGhpcy5tX3NoYXBlLmdldEZpcnN0VmVydGV4KHQpO2ZvcihsZXQgaT0wLG49dGhpcy5tX3NoYXBlLmdldFBhdGhTaXplKHQpO2k8bjtpKysscz10aGlzLm1fc2hhcGUuZ2V0TmV4dFZlcnRleChzKSl0aGlzLnByb2dyZXNzXygpLHRoaXMubV9zaGFwZS5xdWVyeVhZKHMsZSksdGhpcy5tX2V4dGVudC54bWluIT09ZS54JiZ0aGlzLm1fZXh0ZW50LnhtYXghPT1lLngmJnRoaXMubV9leHRlbnQueW1pbiE9PWUueSYmdGhpcy5tX2V4dGVudC55bWF4IT09ZS55fHwodGhpcy5tX3NoYXBlLnNldFVzZXJJbmRleChzLHRoaXMubV92ZXJ0aWNlc09uRXh0ZW50SW5kZXgsdGhpcy5tX3ZlcnRpY2VzT25FeHRlbnQubGVuZ3RoKSx0aGlzLm1fdmVydGljZXNPbkV4dGVudC5wdXNoKHMpKX10aGlzLmRiZ0NoZWNrUGF0aEZpcnN0KCksdGhpcy5yZXNvbHZlT3ZlcmxhcHMoITEsdGhpcy5tX2V4dGVudC54bWluKSx0aGlzLmRiZ0NoZWNrUGF0aEZpcnN0KCksdGhpcy5yZXNvbHZlT3ZlcmxhcHMoITEsdGhpcy5tX2V4dGVudC54bWF4KSx0aGlzLmRiZ0NoZWNrUGF0aEZpcnN0KCksdGhpcy5yZXNvbHZlT3ZlcmxhcHMoITAsdGhpcy5tX2V4dGVudC55bWluKSx0aGlzLmRiZ0NoZWNrUGF0aEZpcnN0KCksdGhpcy5yZXNvbHZlT3ZlcmxhcHMoITAsdGhpcy5tX2V4dGVudC55bWF4KSx0aGlzLmZpeFBhdGhzKCl9ZGVuc2lmeUFsb25nQ2xpcEV4dGVudChlKXtjb25zdCB0PW5ldyB1KDAsMCkscz1uZXcgdSgwLDApLGk9bCgyMDQ4LE51bWJlci5OYU4pO2ZvcihsZXQgbj10aGlzLm1fc2hhcGUuZ2V0Rmlyc3RQYXRoKHRoaXMubV9nZW9tZXRyeSk7biE9PXg7bj10aGlzLm1fc2hhcGUuZ2V0TmV4dFBhdGgobikpe2NvbnN0IG09dGhpcy5tX3NoYXBlLmdldEZpcnN0VmVydGV4KG4pO2xldCBhPW07ZG97Y29uc3Qgbj10aGlzLm1fc2hhcGUuZ2V0TmV4dFZlcnRleChhKTt0aGlzLm1fc2hhcGUucXVlcnlYWShhLHQpO2xldCBtPS0xO2lmKHQueD09PXRoaXMubV9leHRlbnQueG1pbj8odGhpcy5tX3NoYXBlLnF1ZXJ5WFkobixzKSxzLng9PT10aGlzLm1fZXh0ZW50LnhtaW4mJihtPTEpKTp0Lng9PT10aGlzLm1fZXh0ZW50LnhtYXgmJih0aGlzLm1fc2hhcGUucXVlcnlYWShuLHMpLHMueD09PXRoaXMubV9leHRlbnQueG1heCYmKG09MSkpLHQueT09PXRoaXMubV9leHRlbnQueW1pbj8odGhpcy5tX3NoYXBlLnF1ZXJ5WFkobixzKSxzLnk9PT10aGlzLm1fZXh0ZW50LnltaW4mJihtPTApKTp0Lnk9PT10aGlzLm1fZXh0ZW50LnltYXgmJih0aGlzLm1fc2hhcGUucXVlcnlYWShuLHMpLHMueT09PXRoaXMubV9leHRlbnQueW1heCYmKG09MCkpLC0xPT09bSl7YT1uO2NvbnRpbnVlfWlmKHRoaXMuaXNDdXJ2ZShhKSl7YT1uO2NvbnRpbnVlfWNvbnN0IG89dC5jbG9uZSgpLHg9bmV3IHUoMCwwKTtpZihtKXtjb25zdCBpPXQueS10aGlzLm1fZXh0ZW50LnltaW47eC55PWcocy55LXQueSksby55PWUqeShNYXRoLmZsb29yKE1hdGguYWJzKGkpL2UpLGkpK3RoaXMubV9leHRlbnQueW1pbix4Lnk8MCYmKG8ueSs9ZSl9ZWxzZXtjb25zdCBpPXQueC10aGlzLm1fZXh0ZW50LnhtaW47eC54PWcocy54LXQueCksby54PWUqeShNYXRoLmZsb29yKE1hdGguYWJzKGkpL2UpLGkpK3RoaXMubV9leHRlbnQueG1pbix4Lng8MCYmKG8ueCs9ZSl9Y29uc3QgcD1tP3MueS10Lnk6cy54LXQueCxjPU1hdGguYWJzKHApO2lmKGMvZT42NTUzNiYmaChcIlwiKSxjPjApe2NvbnN0IHM9TWF0aC50cnVuYyhjL2UpKzI7aS5sZW5ndGg8cyYmKGkubGVuZ3RoPXMpO2xldCBuPTA7Zm9yKGxldCBoPTA7O2grKyl7Y29uc3Qgcz1vLmFkZCh4Lm11bChoKmUpKSxhPShtP3MueS10Lnk6cy54LXQueCkvcDtpZihhPj0xKWJyZWFrO2E8PTB8fChyKG48PWkubGVuZ3RoKSxpW25dPWEsbisrKX0wIT09biYmdGhpcy5tX3NoYXBlLnNwbGl0U2VnbWVudChhLGksbil9YT1ufXdoaWxlKGEhPT1tKX19c3BsaXRTZWdtZW50cyhlLHQpe2xldCBzPS0xO2NvbnN0IGk9bmV3IHUsbj1bXTtmb3IobGV0IF89dGhpcy5tX3NoYXBlLmdldEZpcnN0UGF0aCh0aGlzLm1fZ2VvbWV0cnkpO18hPT14O189dGhpcy5tX3NoYXBlLmdldE5leHRQYXRoKF8pKXtsZXQgcj10aGlzLm1fc2hhcGUuZ2V0Rmlyc3RWZXJ0ZXgoXyksaD14O2ZvcihsZXQgbT0wLGE9dGhpcy5tX3NoYXBlLmdldFBhdGhTaXplKF8pO208YTttKysscj1oKWlmKHRoaXMucHJvZ3Jlc3NfKCksaD10aGlzLm1fc2hhcGUuZ2V0TmV4dFZlcnRleChyKSx0aGlzLm1fc2hhcGUucXVlcnlYWShyLGkpLChlP2kueT09PXQ6aS54PT09dCkmJih0aGlzLm1fc2hhcGUucXVlcnlYWShoLGkpLGU/aS55PT09dDppLng9PT10KSl7aWYodGhpcy5pc0N1cnZlKHIpKWNvbnRpbnVlOy0xPT09cyYmKHM9dGhpcy5tX3NoYXBlLmNyZWF0ZVVzZXJJbmRleCgpKSwxIT09dGhpcy5tX3NoYXBlLmdldFVzZXJJbmRleChyLHMpJiYobi5wdXNoKHIpLHRoaXMubV9zaGFwZS5zZXRVc2VySW5kZXgocixzLDEpKSwxIT09dGhpcy5tX3NoYXBlLmdldFVzZXJJbmRleChoLHMpJiYobi5wdXNoKGgpLHRoaXMubV9zaGFwZS5zZXRVc2VySW5kZXgoaCxzLDEpKX19aWYoLTEhPT1zJiZ0aGlzLm1fc2hhcGUucmVtb3ZlVXNlckluZGV4KHMpLG4ubGVuZ3RoPDMpcmV0dXJuO24uc29ydCgoKGUsdCk9PnRoaXMuY29tcGFyZVZlcnRpY2VzKGUsdCkpKTtjb25zdCByPW5ldyB1LGg9bmV3IHUsbT1uZXcgdTtoLnNldE5BTigpO2xldCBhPS0xO2xldCBvPVtdLHA9W107Y29uc3QgYz10aGlzLm1fc2hhcGUuY3JlYXRlVXNlckluZGV4KCksbD10aGlzLm1fc2hhcGUuY3JlYXRlVXNlckluZGV4KCk7Zm9yKGxldCB4PTAsXz1uLmxlbmd0aDt4PF87eCsrKXtjb25zdCBzPW5beF07aWYodGhpcy5tX3NoYXBlLnF1ZXJ5WFkocyxpKSwhaS5pc0VxdWFsUG9pbnQyRChoKSl7aWYoLTE9PT1hKXthPXgsaC5zZXRDb29yZHNQb2ludDJEKGkpO2NvbnRpbnVlfWZvcihsZXQgaT1hO2k8eDtpKyspe2NvbnN0IHM9bltpXSxtPXRoaXMubV9zaGFwZS5nZXROZXh0VmVydGV4KHMpLGE9dGhpcy5tX3NoYXBlLmdldFByZXZWZXJ0ZXgocyk7bGV0IHg9ITE7dGhpcy5tX3NoYXBlLnF1ZXJ5WFkobSxyKSxoLmNvbXBhcmUocik8MCYmKGU/ci55PT09dDpyLng9PT10KSYmKHRoaXMuaXNDdXJ2ZShzKXx8KG8ucHVzaChzKSx4PSEwLHRoaXMubV9zaGFwZS5zZXRVc2VySW5kZXgocyxsLDEpKSksdGhpcy5tX3NoYXBlLnF1ZXJ5WFkoYSxyKSxoLmNvbXBhcmUocik8MCYmKGU/ci55PT09dDpyLng9PT10KSYmKHRoaXMuaXNDdXJ2ZShhKXx8KHh8fG8ucHVzaChzKSx0aGlzLm1fc2hhcGUuc2V0VXNlckluZGV4KHMsYywxKSkpfWZvcihsZXQgZT0wLHQ9by5sZW5ndGg7ZTx0O2UrKyl7Y29uc3QgdD1vW2VdLHM9dGhpcy5tX3NoYXBlLmdldFVzZXJJbmRleCh0LGMpLG49dGhpcy5tX3NoYXBlLmdldFVzZXJJbmRleCh0LGwpO2lmKDE9PT1zKXtjb25zdCBlPXRoaXMubV9zaGFwZS5nZXRQcmV2VmVydGV4KHQpO3RoaXMubV9zaGFwZS5xdWVyeVhZKGUsbSk7bGV0IHM9MDtpZighbS5pc0VxdWFsUG9pbnQyRChpKSl7Y29uc3Qgbj11LmRpc3RhbmNlKGgsbSk7cz11LmRpc3RhbmNlKG0saSkvbiwwPT09cz9zPU51bWJlci5FUFNJTE9OOjE9PT1zJiYocz0xLU51bWJlci5FUFNJTE9OKSx0aGlzLm1fc2hhcGUuc3BsaXRTZWdtZW50KGUsW3NdLDEpO2NvbnN0IHI9dGhpcy5tX3NoYXBlLmdldFByZXZWZXJ0ZXgodCk7dGhpcy5tX3NoYXBlLnNldFhZKHIsaSkscC5wdXNoKHIpLHRoaXMubV9zaGFwZS5zZXRVc2VySW5kZXgocixjLDEpLHRoaXMubV9zaGFwZS5zZXRVc2VySW5kZXgocixsLC0xKX19aWYoMT09PW4pe2NvbnN0IGU9dGhpcy5tX3NoYXBlLmdldE5leHRWZXJ0ZXgodCk7dGhpcy5tX3NoYXBlLnF1ZXJ5WFkoZSxtKTtsZXQgcz0wO2lmKCFtLmlzRXF1YWxQb2ludDJEKGkpKXtjb25zdCBlPXUuZGlzdGFuY2UoaCxtKTtzPXUuZGlzdGFuY2UoaCxpKS9lLDA9PT1zP3M9TnVtYmVyLkVQU0lMT046MT09PXMmJihzPTEtTnVtYmVyLkVQU0lMT04pLHRoaXMubV9zaGFwZS5zcGxpdFNlZ21lbnQodCxbc10sMSk7Y29uc3Qgbj10aGlzLm1fc2hhcGUuZ2V0TmV4dFZlcnRleCh0KTt0aGlzLm1fc2hhcGUuc2V0WFkobixpKSxwLnB1c2gobiksdGhpcy5tX3NoYXBlLnNldFVzZXJJbmRleChuLGMsLTEpLHRoaXMubV9zaGFwZS5zZXRVc2VySW5kZXgobixsLDEpfX19Y29uc3Qgcz1vO289cCxwPXMscC5sZW5ndGg9MCxhPXgsaC5zZXRDb29yZHNQb2ludDJEKGkpfX10aGlzLm1fc2hhcGUucmVtb3ZlVXNlckluZGV4KGMpLHRoaXMubV9zaGFwZS5yZW1vdmVVc2VySW5kZXgobCl9cmVzb2x2ZU92ZXJsYXBzKGUsdCl7Y29uc3Qgcz1uZXcgdSxpPVtdO2xldCBuPS0xO2ZvcihsZXQgcj0wLG89dGhpcy5tX3ZlcnRpY2VzT25FeHRlbnQubGVuZ3RoO3I8bztyKyspe3RoaXMucHJvZ3Jlc3NfKCk7Y29uc3QgaD10aGlzLm1fdmVydGljZXNPbkV4dGVudFtyXTtpZihoPT09eCljb250aW51ZTtjb25zdCBtPXRoaXMubV9zaGFwZS5nZXROZXh0VmVydGV4KGgpO2lmKHRoaXMubV9zaGFwZS5xdWVyeVhZKGgscyksKGU/cy55PT09dDpzLng9PT10KSYmKHRoaXMubV9zaGFwZS5xdWVyeVhZKG0scyksZT9zLnk9PT10OnMueD09PXQpKXtpZih0aGlzLmlzQ3VydmUoaCkpY29udGludWU7LTE9PT1uJiYobj10aGlzLm1fc2hhcGUuY3JlYXRlVXNlckluZGV4KCkpLC0yIT09dGhpcy5tX3NoYXBlLmdldFVzZXJJbmRleChoLG4pJiYoaS5wdXNoKGgpLHRoaXMubV9zaGFwZS5zZXRVc2VySW5kZXgoaCxuLC0yKSksLTIhPT10aGlzLm1fc2hhcGUuZ2V0VXNlckluZGV4KG0sbikmJihpLnB1c2gobSksdGhpcy5tX3NoYXBlLnNldFVzZXJJbmRleChtLG4sLTIpKX19aWYoMD09PWkubGVuZ3RoKXJldHVybiB2b2lkKC0xIT09biYmdGhpcy5tX3NoYXBlLnJlbW92ZVVzZXJJbmRleChuKSk7cigtMSE9PW4pLGkuc29ydCgoKGUsdCk9PnRoaXMuY29tcGFyZVZlcnRpY2VzKGUsdCkpKTtmb3IobGV0IHI9MCxvPWkubGVuZ3RoO3I8bztyKyspe2NvbnN0IGU9aVtyXTt0aGlzLm1fc2hhcGUuc2V0VXNlckluZGV4KGUsbixyKX1jb25zdCBoPW5ldyB1LG09bmV3IHU7bS5zZXROQU4oKTtsZXQgYT0tMTtmb3IobGV0IHI9MCxvPWkubGVuZ3RoO3I8bztyKyspe3RoaXMucHJvZ3Jlc3NfKCk7Y29uc3Qgbz1pW3JdO2lmKG8hPT14JiYodGhpcy5tX3NoYXBlLnF1ZXJ5WFkobyxzKSwhcy5pc0VxdWFsUG9pbnQyRChtKSkpe2lmKC0xIT09YSlmb3IoOzspe2xldCBzPSExO2NvbnN0IG89cjtmb3IobGV0IHA9YTtwPG87cCsrKXtjb25zdCBhPWlbcF07aWYoYT09PXgpY29udGludWU7bGV0IG89eDtjb25zdCBjPXRoaXMubV9zaGFwZS5nZXROZXh0VmVydGV4KGEpO3RoaXMubV9zaGFwZS5xdWVyeVhZKGMsaCksbS5jb21wYXJlKGgpPDAmJihlP2gueT09PXQ6aC54PT09dCkmJih0aGlzLmlzQ3VydmUoYSl8fChvPWMpKTtsZXQgbD14O2NvbnN0IF89dGhpcy5tX3NoYXBlLmdldFByZXZWZXJ0ZXgoYSk7aWYodGhpcy5tX3NoYXBlLnF1ZXJ5WFkoXyxoKSxtLmNvbXBhcmUoaCk8MCYmKGU/aC55PT09dDpoLng9PT10KSYmKHRoaXMuaXNDdXJ2ZShfKXx8KGw9XykpLG89PT14fHxsPT09eCl7aWYobyE9PXh8fGwhPT14KXtmb3IobGV0IGM9cCsxO2M8cjtjKyspe2NvbnN0IHI9aVtjXTtpZihyPT09eCljb250aW51ZTtjb25zdCBwPXRoaXMubV9zaGFwZS5nZXROZXh0VmVydGV4KHIpO2xldCBfPXg7dGhpcy5tX3NoYXBlLnF1ZXJ5WFkocCxoKSxtLmNvbXBhcmUoaCk8MCYmKGU/aC55PT09dDpoLng9PT10KSYmKHRoaXMuaXNDdXJ2ZShyKXx8KF89cCkpO2NvbnN0IHU9dGhpcy5tX3NoYXBlLmdldFByZXZWZXJ0ZXgocik7bGV0IGc9eDtpZih0aGlzLm1fc2hhcGUucXVlcnlYWSh1LGgpLG0uY29tcGFyZShoKTwwJiYoZT9oLnk9PT10OmgueD09PXQpJiYodGhpcy5pc0N1cnZlKHUpfHwoZz11KSksXyE9PXgmJmchPT14KXt0aGlzLmJlZm9yZVJlbW92ZVZlcnRleChyLGksbiksdGhpcy5tX3NoYXBlLnJlbW92ZVZlcnRleChyLCExKSx0aGlzLmJlZm9yZVJlbW92ZVZlcnRleChfLGksbiksdGhpcy5tX3NoYXBlLnJlbW92ZVZlcnRleChfLCExKSxzPSEwO2JyZWFrfWlmKG8hPT14JiZnIT09eCl7dGhpcy5yZW1vdmVPdmVybGFwKGksYSxvLHIsZyxuKSxzPSEwO2JyZWFrfWlmKGwhPT14JiZfIT09eCl7dGhpcy5yZW1vdmVPdmVybGFwKGkscixfLGEsbCxuKSxzPSEwO2JyZWFrfX1pZihzKWJyZWFrfX1lbHNlIHRoaXMuYmVmb3JlUmVtb3ZlVmVydGV4KGEsaSxuKSx0aGlzLm1fc2hhcGUucmVtb3ZlVmVydGV4KGEsITEpLHRoaXMuYmVmb3JlUmVtb3ZlVmVydGV4KG8saSxuKSx0aGlzLm1fc2hhcGUucmVtb3ZlVmVydGV4KG8sITEpLHM9ITB9aWYoIXMpYnJlYWt9YT1yLG0uc2V0Q29vcmRzUG9pbnQyRChzKX19dGhpcy5tX3NoYXBlLnJlbW92ZVVzZXJJbmRleChuKX1iZWZvcmVSZW1vdmVWZXJ0ZXgoZSx0LHMpe2xldCBpPXRoaXMubV9zaGFwZS5nZXRVc2VySW5kZXgoZSxzKTtyKGk+PTApLHRbaV09eCxpPXRoaXMubV9zaGFwZS5nZXRVc2VySW5kZXgoZSx0aGlzLm1fdmVydGljZXNPbkV4dGVudEluZGV4KSxyKGk+PTApLHRoaXMubV92ZXJ0aWNlc09uRXh0ZW50W2ldPXg7Y29uc3Qgbj10aGlzLm1fc2hhcGUuZ2V0UGF0aEZyb21WZXJ0ZXgoZSk7aWYobiE9PXgpe3RoaXMubV9zaGFwZS5nZXRGaXJzdFZlcnRleChuKT09PWUmJih0aGlzLm1fc2hhcGUuc2V0Rmlyc3RWZXJ0ZXgobix4KSx0aGlzLm1fc2hhcGUuc2V0TGFzdFZlcnRleChuLHgpKX19cmVtb3ZlT3ZlcmxhcChlLHQscyxpLG4scil7dGhpcy5tX3NoYXBlLnNldE5leHRWZXJ0ZXgodCxpKSx0aGlzLm1fc2hhcGUuc2V0UHJldlZlcnRleChpLHQpLHRoaXMubV9zaGFwZS5zZXRQcmV2VmVydGV4KHMsbiksdGhpcy5tX3NoYXBlLnNldE5leHRWZXJ0ZXgobixzKSx0aGlzLmJlZm9yZVJlbW92ZVZlcnRleChpLGUsciksdGhpcy5tX3NoYXBlLnJlbW92ZVZlcnRleEludGVybmFsKGksITEpLHRoaXMuYmVmb3JlUmVtb3ZlVmVydGV4KG4sZSxyKSx0aGlzLm1fc2hhcGUucmVtb3ZlVmVydGV4SW50ZXJuYWwobiwhMCl9cmVtb3ZlU3Bpa2VzQWxvbmdQb2xlcygpe3RoaXMucmVtb3ZlU3Bpa2VzT25Qb2xlKHRoaXMubV9leHRlbnQueW1pbiksdGhpcy5yZW1vdmVTcGlrZXNPblBvbGUodGhpcy5tX2V4dGVudC55bWF4KX1yZW1vdmVTcGlrZXNPblBvbGUoZSl7Zm9yKGxldCB0PXRoaXMubV9zaGFwZS5nZXRGaXJzdFBhdGgodGhpcy5tX2dlb21ldHJ5KTt0IT09eDt0PXRoaXMubV9zaGFwZS5nZXROZXh0UGF0aCh0KSl7Y29uc3Qgcz10aGlzLm1fc2hhcGUuZ2V0UGF0aFNpemUodCk7aWYoczwzKWNvbnRpbnVlO2xldCBpPXRoaXMubV9zaGFwZS5nZXRGaXJzdFZlcnRleCh0KTtjb25zdCBuPW5ldyB1O3RoaXMubV9zaGFwZS5xdWVyeVhZKGksbik7bGV0IHI9bi55PT09ZSYmIXRoaXMuaXNDdXJ2ZShpKTtpPXRoaXMubV9zaGFwZS5nZXROZXh0VmVydGV4KGkpO2NvbnN0IGg9bmV3IHU7dGhpcy5tX3NoYXBlLnF1ZXJ5WFkoaSxoKTtsZXQgbT1oLnk9PT1lJiYhdGhpcy5pc0N1cnZlKGkpO2k9dGhpcy5tX3NoYXBlLmdldE5leHRWZXJ0ZXgoaSk7Y29uc3QgYT1uZXcgdTtmb3IobGV0IHQ9MCxvPXMtMjt0PG87dCsrLGk9dGhpcy5tX3NoYXBlLmdldE5leHRWZXJ0ZXgoaSkpe3RoaXMucHJvZ3Jlc3NfKCksdGhpcy5tX3NoYXBlLnF1ZXJ5WFkoaSxhKTtjb25zdCB0PWEueT09PWU7aWYobSYmciYmdCl7aWYoKGgueC1uLngpKihhLngtaC54KTw9MCl7dGhpcy5tX3NoYXBlLnJlbW92ZVZlcnRleCh0aGlzLm1fc2hhcGUuZ2V0UHJldlZlcnRleChpKSwhMSksaC5zZXRDb29yZHNQb2ludDJEKGEpLG09dCYmIXRoaXMuaXNDdXJ2ZShpKTtjb250aW51ZX19bi5zZXRDb29yZHNQb2ludDJEKGgpLHI9bSxoLnNldENvb3Jkc1BvaW50MkQoYSksbT10JiYhdGhpcy5pc0N1cnZlKGkpfX19Zml4UGF0aHMoKXtmb3IobGV0IG49MCxyPXRoaXMubV92ZXJ0aWNlc09uRXh0ZW50Lmxlbmd0aDtuPHI7bisrKXtjb25zdCBlPXRoaXMubV92ZXJ0aWNlc09uRXh0ZW50W25dO2UhPT14JiZ0aGlzLm1fc2hhcGUuc2V0UGF0aFRvVmVydGV4KGUseCl9Y29uc3QgZT10aGlzLm1fc2hhcGUuaGFzQ3VydmVzKCk7bGV0IHQ9MCxzPTA7Zm9yKGxldCBuPXRoaXMubV9zaGFwZS5nZXRGaXJzdFBhdGgodGhpcy5tX2dlb21ldHJ5KTtuIT09eDspe2NvbnN0IGU9dGhpcy5tX3NoYXBlLmdldEZpcnN0VmVydGV4KG4pO2lmKGU9PT14fHxuIT09dGhpcy5tX3NoYXBlLmdldFBhdGhGcm9tVmVydGV4KGUpKXtjb25zdCBlPW47bj10aGlzLm1fc2hhcGUuZ2V0TmV4dFBhdGgobiksdGhpcy5tX3NoYXBlLnNldEZpcnN0VmVydGV4KGUseCksdGhpcy5tX3NoYXBlLnJlbW92ZVBhdGhPbmx5KGUpO2NvbnRpbnVlfWxldCBpPWUscj0wO2Rve3RoaXMubV9zaGFwZS5zZXRQYXRoVG9WZXJ0ZXgoaSxuKSxyKyssaT10aGlzLm1fc2hhcGUuZ2V0TmV4dFZlcnRleChpKX13aGlsZShpIT09ZSk7dGhpcy5tX3NoYXBlLnNldFJpbmdBcmVhVmFsaWQobiwhMSksdGhpcy5tX3NoYXBlLnNldExhc3RWZXJ0ZXgobix0aGlzLm1fc2hhcGUuZ2V0UHJldlZlcnRleChlKSksdGhpcy5tX3NoYXBlLnNldFBhdGhTaXplKG4scikscys9cix0Kyssbj10aGlzLm1fc2hhcGUuZ2V0TmV4dFBhdGgobil9Zm9yKGxldCBuPTAsaD10aGlzLm1fdmVydGljZXNPbkV4dGVudC5sZW5ndGg7bjxoO24rKyl7bGV0IGk9dGhpcy5tX3ZlcnRpY2VzT25FeHRlbnRbbl07aWYoaT09PXgpY29udGludWU7bGV0IGg9dGhpcy5tX3NoYXBlLmdldFBhdGhGcm9tVmVydGV4KGkpO2lmKGghPT14KWNvbnRpbnVlO2g9dGhpcy5tX3NoYXBlLmluc2VydFBhdGgodGhpcy5tX2dlb21ldHJ5LHgpO2xldCBtPSExLGE9MDtjb25zdCBvPWk7ZG97dGhpcy5tX3NoYXBlLnNldFBhdGhUb1ZlcnRleChpLGgpLGErKyxlJiZhPD0yJiYobXx8PXRoaXMuaXNDdXJ2ZShpKSksaT10aGlzLm1fc2hhcGUuZ2V0TmV4dFZlcnRleChpKX13aGlsZShpIT09byk7aWYobT8wPT09YTphPD0yKXtsZXQgZT10aGlzLm1fc2hhcGUuZ2V0VXNlckluZGV4KG8sdGhpcy5tX3ZlcnRpY2VzT25FeHRlbnRJbmRleCk7cihlPj0wKSx0aGlzLm1fdmVydGljZXNPbkV4dGVudFtlXT14O2NvbnN0IHQ9dGhpcy5tX3NoYXBlLnJlbW92ZVZlcnRleChvLCExKTsyPT09YSYmKGU9dGhpcy5tX3NoYXBlLmdldFVzZXJJbmRleCh0LHRoaXMubV92ZXJ0aWNlc09uRXh0ZW50SW5kZXgpLGU+PTAmJih0aGlzLm1fdmVydGljZXNPbkV4dGVudFtlXT14KSx0aGlzLm1fc2hhcGUucmVtb3ZlVmVydGV4KHQsITEpKTtjb25zdCBzPWg7aD10aGlzLm1fc2hhcGUuZ2V0TmV4dFBhdGgoaCksdGhpcy5tX3NoYXBlLnNldEZpcnN0VmVydGV4KHMseCksdGhpcy5tX3NoYXBlLnJlbW92ZVBhdGhPbmx5KHMpfWVsc2UgdGhpcy5tX3NoYXBlLnNldENsb3NlZFBhdGgoaCwhMCksdGhpcy5tX3NoYXBlLnNldFBhdGhTaXplKGgsYSksdGhpcy5tX3NoYXBlLnNldEZpcnN0VmVydGV4KGgsbyksdGhpcy5tX3NoYXBlLnNldExhc3RWZXJ0ZXgoaCx0aGlzLm1fc2hhcGUuZ2V0UHJldlZlcnRleChvKSksdGhpcy5tX3NoYXBlLnNldFJpbmdBcmVhVmFsaWQoaCwhMSkscys9YSx0Kyt9dGhpcy5tX3NoYXBlLnNldEdlb21ldHJ5UGF0aENvdW50KHRoaXMubV9nZW9tZXRyeSx0KSx0aGlzLm1fc2hhcGUuc2V0R2VvbWV0cnlWZXJ0ZXhDb3VudCh0aGlzLm1fZ2VvbWV0cnkscyk7bGV0IGk9MDtmb3IobGV0IG49dGhpcy5tX3NoYXBlLmdldEZpcnN0R2VvbWV0cnkoKTtuIT09eDtuPXRoaXMubV9zaGFwZS5nZXROZXh0R2VvbWV0cnkobikpaSs9dGhpcy5tX3NoYXBlLmdldFBvaW50Q291bnQobik7dGhpcy5tX3NoYXBlLnNldFRvdGFsUG9pbnRDb3VudChpKX1kYmdDaGVja1BhdGhGaXJzdCgpe31pc0N1cnZlKGUpe3JldHVybiBudWxsIT09dGhpcy5tX3NoYXBlLmdldFNlZ21lbnQoZSl9Y29tcGFyZVZlcnRpY2VzKGUsdCl7Y29uc3Qgcz1uZXcgdTt0aGlzLm1fc2hhcGUucXVlcnlYWShlLHMpO2NvbnN0IGk9bmV3IHU7dGhpcy5tX3NoYXBlLnF1ZXJ5WFkodCxpKTtyZXR1cm4gcy5jb21wYXJlKGkpfWNsaXBQb2xlc091dChlLHQpe3JldHVybiB0aGlzLmNsaXBQb2x5Z29uT3JQcm9qZWN0ZWRQb2x5bGluZTIoZSx0KX19Y2xhc3MgSXtnZXRPcGVyYXRvclR5cGUoKXtyZXR1cm4gMTAwMDR9c3VwcG9ydHNDdXJ2ZXMoKXtyZXR1cm4hMH1hY2NlbGVyYXRlR2VvbWV0cnkoZSx0LHMpe3JldHVybiExfWNhbkFjY2VsZXJhdGVHZW9tZXRyeShlKXtyZXR1cm4hMX1leGVjdXRlTWFueShlLHQscyxpKXtyZXR1cm4gbmV3IFYoZSx0LHMsaSl9ZXhlY3V0ZShlLHQscyxpKXtyZXR1cm4gWChlLHQscyxpKX19Y2xhc3MgViBleHRlbmRzIGV7Y29uc3RydWN0b3IoZSxzLGksbil7c3VwZXIoKSx0aGlzLm1fcHJvZ3Jlc3NUcmFja2VyPW4sdGhpcy5tX2luZGV4PS0xLGV8fHQoXCJcIiksdGhpcy5tX2VudmVsb3BlPXMsdGhpcy5tX2lucHV0R2VvbWV0cnlDdXJzb3I9ZSx0aGlzLm1fc3BhdGlhbFJlZkltcGw9aSx0aGlzLm1fdG9sZXJhbmNlPW0oaSxzLCExKS50b3RhbCgpfW5leHQoKXtsZXQgZTtyZXR1cm4oZT10aGlzLm1faW5wdXRHZW9tZXRyeUN1cnNvci5uZXh0KCkpPyhzKGUpLHRoaXMubV9pbmRleD10aGlzLm1faW5wdXRHZW9tZXRyeUN1cnNvci5nZXRHZW9tZXRyeUlEKCksZihlLHRoaXMubV9lbnZlbG9wZSx0aGlzLm1fdG9sZXJhbmNlLDAsdGhpcy5tX3Byb2dyZXNzVHJhY2tlcikpOm51bGx9Z2V0R2VvbWV0cnlJRCgpe3JldHVybiB0aGlzLm1faW5kZXh9dG9jaygpe3JldHVybiEwfWdldFJhbmsoKXtyZXR1cm4gMX19ZnVuY3Rpb24gWChlLHQscyxpKXtyZXR1cm4gdihlLHQscyxOdW1iZXIuTmFOLDAsaSl9ZXhwb3J0e0kgYXMgTyxkIGFzIGEsZiBhcyBjfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjMzL2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5jbGFzcyBle2Fzc2lnbihlKXt0aGlzLm1fcmVhc29uPWUubV9yZWFzb24sdGhpcy5tX3ZlcnRleEluZGV4MT1lLm1fdmVydGV4SW5kZXgxLHRoaXMubV92ZXJ0ZXhJbmRleDI9ZS5tX3ZlcnRleEluZGV4Mn1jb25zdHJ1Y3RvcihlLHQscyl7dm9pZCAwIT09ZT8odGhpcy5tX3JlYXNvbj1lLHRoaXMubV92ZXJ0ZXhJbmRleDE9dCx0aGlzLm1fdmVydGV4SW5kZXgyPXMpOih0aGlzLm1fcmVhc29uPTAsdGhpcy5tX3ZlcnRleEluZGV4MT0tMSx0aGlzLm1fdmVydGV4SW5kZXgyPS0yKX1jbGVhcigpe3RoaXMubV9yZWFzb249MCx0aGlzLm1fdmVydGV4SW5kZXgxPS0xLHRoaXMubV92ZXJ0ZXhJbmRleDI9LTF9fWV4cG9ydHtlIGFzIE5vblNpbXBsZVJlc3VsdH07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4zMy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e0cgYXMgZX1mcm9tXCIuL1NpbXBsZUdlb21ldHJ5Q3Vyc29yLmpzXCI7aW1wb3J0e2MgYXMgdH1mcm9tXCIuL0dlb21ldHJ5LmpzXCI7aW1wb3J0e2QgYXMgcixEIGFzIHN9ZnJvbVwiLi9NdWx0aVBhdGhJbXBsLmpzXCI7dmFyIG49cztjbGFzcyBpIGV4dGVuZHMgZXtjb25zdHJ1Y3RvcihlLHQscixzLGksbSl7c3VwZXIoKSx0aGlzLm1fZGVuc2lmaWNhdG9yPW5ldyBuKHQscixzLG0sITEsaSksdGhpcy5tX2luZGV4PS0xLHRoaXMubV9pbnB1dEdlb21zPWV9dG9jaygpe3JldHVybiEwfWdldFJhbmsoKXtyZXR1cm4gMX1uZXh0KCl7bGV0IGU9bnVsbDtmb3IoO2U9dGhpcy5tX2lucHV0R2VvbXMubmV4dCgpOylyZXR1cm4gdChlKSx0aGlzLm1faW5kZXg9dGhpcy5tX2lucHV0R2VvbXMuZ2V0R2VvbWV0cnlJRCgpLHRoaXMuZGVuc2lmeShlKTtyZXR1cm4gbnVsbH1nZXRHZW9tZXRyeUlEKCl7cmV0dXJuIHRoaXMubV9pbmRleH1kZW5zaWZ5KGUpe3JldHVybiB0aGlzLm1fZGVuc2lmaWNhdG9yLmRlbnNpZnkoZSl9fWNsYXNzIG17Z2V0T3BlcmF0b3JUeXBlKCl7cmV0dXJuIDEwMjAyfWFjY2VsZXJhdGVHZW9tZXRyeShlLHQscil7cmV0dXJuITF9Y2FuQWNjZWxlcmF0ZUdlb21ldHJ5KGUpe3JldHVybiExfXN1cHBvcnRzQ3VydmVzKCl7cmV0dXJuITB9ZXhlY3V0ZU1hbnkoZSx0LHIscyxuLG09MTJlMyl7cmV0dXJuIG5ldyBpKGUsdCxyLHMsbSxuKX1leGVjdXRlKGUsdCxzLG4saSxtPTEyZTMpe3JldHVybiByKGUsdCxzLG4saSxtKX19ZXhwb3J0e20gYXMgT307XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4zMy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e0VudmVsb3BlMkQgYXMgZX1mcm9tXCIuL0VudmVsb3BlMkQuanNcIjtpbXBvcnR7YSBhcyB0LGMgYXMgcyxHIGFzIG4sZiBhcyByLGQgYXMgaSxoIGFzIG8sZyBhcyBhLHkgYXMgaCx6IGFzIG0sdiBhcyBsLEEgYXMgZyx0IGFzIHUscCBhcyBjLHIgYXMgXyxpIGFzIGQsZSBhcyBwLEIgYXMgZixDIGFzIHgsbyBhcyB5LHcgYXMgUCxsIGFzIEUscSBhcyBTLEQgYXMgQ31mcm9tXCIuL0dlb21ldHJ5LmpzXCI7aW1wb3J0e1AgYXMgSSxJIGFzIGIsSiBhcyB3LGEgYXMgdixNIGFzIE4sSyBhcyBULEUgYXMgRyxjIGFzIEQsZyBhcyBWLFMgYXMgRixMIGFzIEgsTiBhcyBrLE8gYXMgQSxuIGFzIE0sUSBhcyBVLFIgYXMgcSx5IGFzIEIsVCBhcyBPLEQgYXMgWSxsIGFzIFIsVSBhcyBYLFYgYXMgTCxXIGFzIHosWCBhcyBXLFkgYXMgaixaLF8gYXMgSywkIGFzIFEsYTAgYXMgSixhMSBhcyAkLGEyIGFzIGVlLGEzIGFzIHRlLGE0IGFzIHNlLGE1IGFzIG5lLGE2IGFzIHJlLGE3IGFzIGllLGE4IGFzIG9lLGE5IGFzIGFlLGIgYXMgaGV9ZnJvbVwiLi9NdWx0aVBhdGhJbXBsLmpzXCI7aW1wb3J0e2IgYXMgbWUsYSBhcyBsZSxMIGFzIGdlLE0gYXMgdWUsaSBhcyBjZSxnIGFzIF9lLGMgYXMgZGUsRSBhcyBwZSxQIGFzIGZlLEMgYXMgeGUsZSBhcyB5ZSxOIGFzIFBlLFQgYXMgRWUsUSBhcyBTZSxBIGFzIENlLEIgYXMgSWUsUiBhcyBiZSxVIGFzIHdlLFcgYXMgdmUsViBhcyBOZSxYIGFzIFRlLG4gYXMgR2UsWSBhcyBEZSxGIGFzIFZlLFogYXMgRmUsXyBhcyBIZSwkIGFzIGtlLGEwIGFzIEFlLGExIGFzIE1lLGggYXMgVWUsYTIgYXMgcWUsUyBhcyBCZSx4IGFzIE9lLGEzIGFzIFllLGQgYXMgUmUsYTQgYXMgWGUsYTUgYXMgTGUsYTYgYXMgemUsZiBhcyBXZX1mcm9tXCIuL0VudmVsb3BlLmpzXCI7aW1wb3J0e2F0IGFzIGplLGF1IGFzIFplLGQgYXMgS2UsUCBhcyBRZSxhdiBhcyBKZSx2IGFzICRlLGF3IGFzIGV0LG4gYXMgdHQsUSBhcyBzdCxheCBhcyBudCxjIGFzIHJ0LGUgYXMgaXQsciBhcyBvdCxFIGFzIGF0LE8gYXMgaHQsbCBhcyBtdCxtIGFzIGx0LEsgYXMgZ3QsYSBhcyB1dCxheSBhcyBjdCxCIGFzIF90LGF6IGFzIGR0LFMgYXMgcHQscSBhcyBmdCxmIGFzIHh0LGFBIGFzIHl0LGFCIGFzIFB0LGcgYXMgRXQsVSBhcyBTdCxvIGFzIEN0LHMgYXMgSXQsaiBhcyBidCxiIGFzIHd0LGkgYXMgdnQsaCBhcyBOdCxrIGFzIFR0LGE4IGFzIEd0LGFDIGFzIER0LE0gYXMgVnQsSiBhcyBGdCxhRCBhcyBIdCxhRSBhcyBrdCxIIGFzIEF0LGFGIGFzIE10LGFHIGFzIFV0LGFIIGFzIHF0LGFJIGFzIEJ0LGFKIGFzIE90LGFxIGFzIFl0LHkgYXMgUnQsYUsgYXMgWHQscCBhcyBMdH1mcm9tXCIuL1BvaW50MkQuanNcIjtpbXBvcnR7YiBhcyB6dCxjIGFzIFd0fWZyb21cIi4vdHNsaWIuZXM2LmpzXCI7aW1wb3J0e1QgYXMganR9ZnJvbVwiLi9UcmFuc2Zvcm1hdGlvbjJELmpzXCI7aW1wb3J0e2MgYXMgWnQsTyBhcyBLdCxhIGFzIFF0fWZyb21cIi4vT3BlcmF0b3JDbGlwLmpzXCI7aW1wb3J0e08gYXMgSnR9ZnJvbVwiLi9PcGVyYXRvckRlbnNpZnkuanNcIjtpbXBvcnR7UyBhcyAkdCxHIGFzIGVzfWZyb21cIi4vU2ltcGxlR2VvbWV0cnlDdXJzb3IuanNcIjtpbXBvcnR7Tm9uU2ltcGxlUmVzdWx0IGFzIHRzfWZyb21cIi4vT3BlcmF0b3JEZWZpbml0aW9ucy5qc1wiO2NsYXNzIHNze2NvbnN0cnVjdG9yKGUpe2lmKHRoaXMubV9nZW9tPXRoaXMubV9zcj1udWxsLGUpe2lmKGUubW92ZSlyZXR1cm4gdGhpcy5tX2dlb209ZS5tb3ZlLm1fZ2VvbSxlLm1vdmUubV9nZW9tPW51bGwsdGhpcy5tX3NyPWUubW92ZS5tX3NyLHZvaWQoZS5tb3ZlLm1fc3I9bnVsbCk7aWYoZS5jb3B5KXJldHVybiB0aGlzLm1fZ2VvbT1lLmNvcHkubV9nZW9tP2UuY29weS5tX2dlb20uY2xvbmUoKTpudWxsLHZvaWQodGhpcy5tX3NyPWUuY29weS5tX3NyKTtlLmdlb20mJih0aGlzLm1fZ2VvbT1lLmdlb20pLGUuc3ImJih0aGlzLm1fc3I9ZS5zcil9fWdldEdlb21ldHJ5KCl7cmV0dXJuIHRoaXMubV9nZW9tfWdldFNwYXRpYWxSZWZlcmVuY2UoKXtyZXR1cm4gdGhpcy5tX3NyfXNldEdlb21ldHJ5KGUpe3RoaXMubV9nZW9tPWV9c2V0U3BhdGlhbFJlZmVyZW5jZShlKXt0aGlzLm1fc3I9ZX1lcXVhbHMoZSx0KXtjb25zdCBzPWU7cmV0dXJuISghdGhpcy5tX3NyJiZzLm1fc3IpJiYoISh0aGlzLm1fc3ImJiFzLm1fc3IpJiYoISghdGhpcy5tX2dlb20mJnMubV9nZW9tKSYmKCEodGhpcy5tX2dlb20mJiFzLm1fZ2VvbSkmJighKHRoaXMubV9zciYmcy5tX3NyJiYhdGhpcy5tX3NyLmVxdWFscyhzLm1fc3IpKSYmISh0aGlzLm1fZ2VvbSYmcy5tX2dlb20mJiF0aGlzLm1fZ2VvbS5lcXVhbHMocy5tX2dlb20sdCkpKSkpKX1jbG9uZSgpe2xldCBlPW51bGw7cmV0dXJuIHRoaXMubV9nZW9tJiYoZT10aGlzLm1fZ2VvbS5jbG9uZSgpKSxuZXcgc3Moe2dlb206ZSxzcjp0aGlzLm1fc3J9KX1oYXNHZW9tKCl7cmV0dXJuISF0aGlzLm1fZ2VvbX19Y2xhc3MgbnN7Y29uc3RydWN0b3IoZSl7dGhpcy5tX2ZhY3Rvcj0xLHRoaXMubV93a2lkPTAsdGhpcy5tX3BlVW5pdD1udWxsLGUmJih0aGlzLm1fcGVVbml0PWUsdGhpcy5tX2ZhY3Rvcj1lLmdldFVuaXRGYWN0b3IoKSx0aGlzLm1fd2tpZD1lLmdldENvZGUoKSx0aGlzLm1fd2tpZDwwJiYodGhpcy5tX3draWQ9MCkpfWdldE5hbWUoKXtyZXR1cm4gdGhpcy5tX3BlVW5pdD90aGlzLm1fcGVVbml0LmdldE5hbWUoKTpcIlwifWdldElEKCl7cmV0dXJuIHRoaXMubV93a2lkfWdldENvbnZlcnNpb25GYWN0b3IoZSl7cmV0dXJuIHRoaXMuZ2V0VW5pdFR5cGUoKSE9PWUuZ2V0VW5pdFR5cGUoKSYmdChcInVuaXQgdHlwZSBtaXNtYXRjaFwiKSx0aGlzLmdldFVuaXRUb0Jhc2VGYWN0b3IoKS9lLmdldFVuaXRUb0Jhc2VGYWN0b3IoKX1nZXRVbml0VG9CYXNlRmFjdG9yKCl7cmV0dXJuIHRoaXMubV9mYWN0b3J9Z2V0SGFzaENvZGUoKXtyZXR1cm4gamUoWmUodGhpcy5nZXRVbml0VHlwZSgpKSxaZSh0aGlzLmdldFVuaXRUb0Jhc2VGYWN0b3IoKSkpfWVxdWFscyhlKXtyZXR1cm4hIWUmJih0aGlzLmdldFVuaXRUeXBlKCk9PT1lLmdldFVuaXRUeXBlKCkmJnRoaXMuZ2V0VW5pdFRvQmFzZUZhY3RvcigpPT09ZS5nZXRVbml0VG9CYXNlRmFjdG9yKCkmJnRoaXMuZ2V0SUQoKT09PWUuZ2V0SUQoKSYmdGhpcy5nZXROYW1lKCk9PT1lLmdldE5hbWUoKSl9c3RhdGljIGlzVmFsaWRXa2lkKGUpe3JldHVybiExfX1jb25zdCBycz17MzMwOjEwNDg3OCw1MDA6MTA0ODc5LDEzMDA6MTA0ODk5LDE0NTA6MTA0OTg2LDIyMzA6MTA0OTg4LDM4MDA6MTA0OTc4LDVlMzoxMDQ5MTksNjIwMDoxMDQ5MDYsODIwMDoxMDQ5MDksOTUwMDoxMDQ5MjcsOTYwMDoxMDQ5NzcsMWU0OlsxMDQ5MTEsMTA0OTM2XSwxMWUzOjEwNDk0MSwxMTA4MDoxMDQ4NzIsMTExMDA6MTA0OTA3LDEyZTM6MTA0OTIwLDEyNDAwOjEwNDk5NSwxM2UzOjEwNDk0OCwxNGUzOlsxMDQ5MjMsMTA0OTg5XSwxNWUzOlsxMDQ5MTMsMTA0OTU0XSwxNTEwMDoxMDQ5NzYsMTZlMzpbMTA0OTI2LDEwNDkzMV0sMThlMzpbMTA0OTIyLDEwNDk4Ml0sMjFlMzoxMDQ5NDcsMjE1MDA6MTA0ODc3LDI3ZTM6WzEwNDk1MCwxMDQ5NTddLDI5ZTM6MTA0OTY0LDNlNDoxMDQ5MjEsMzFlMzoxMDQ5NDksMzNlMzoxMDQ5NDYsNGU0OlsxMDQ5MTQsMTA0OTY3XSw0MDYwMDoxMDQ4OTcsNDE5MDA6MTA0OTM3LDQyZTM6MTA0OTUxLDQzMTAwOjEwNDk5Myw0OTMwMDoxMDQ5MjQsNTAxMDA6MTA0OTM5LDU0ZTM6MTA0OTU1LDU4MjAwOjEwNDk4MSw1OTUwMDoxMDQ5MzAsNzRlMzoxMDQ5NjEsNzdlMzoxMDQ5NTYsNzllMzoxMDQ5NjIsODM1MDA6MTA0OTEwLDg1ZTM6MTA0OTE3LDg4ODAwOjEwNDkzNCw4OTIwMDoxMDQ5ODUsOTZlMzoxMDQ5OTcsMTA0ZTM6MTA0OTYzLDEwNjUwMDoxMDQ4OTgsMTFlNDoxMDQ5MzgsMTMzZTM6MTA0OTMyLDEzNWUzOjEwNDk4MywxN2U0OjEwNDk2NSwxOTgyMDA6MTA0OTg3LDE5ODYzMDoxMDQ5MzUsMjA4ZTM6MTA0OTY2LDIzNTgwMDoxMDQ5NTIsMjQ5NDAwOjEwNDkyOSwyNTIxMDA6MTA0OTgwLDI1NWUzOjEwNDk3Myw0N2U0OjEwNDk3Miw1Mjk4MDA6MTA0OTQyLDUzMWUzOjEwNDk5Niw1NmU0OjEwNDkyOCw1NjE0MDA6MTA0OTc5LDU3ODkwMDoxMDQ5NDUsNTg0NzAwOjEwNDk1OSw1OTNlMzoxMDQ5NzAsNjA2ZTM6MTA0OTk5LDcxOGUzOjEwNDkzMyw3NDU3MDA6MTA0OTg0LDc2MTQwMDoxMDQ5NTMsNzYzNTAwOjEwNDk5NCw3NjRlMzoxMDQ5NDAsNzg4OTAwOjEwNDk1OCwxMTg4MzAwOjEwNDk5OCwxMTk1ZTM6MTA0OTY5LDEzNTI2MDA6MTA0OTY4LDE1NjA4MDA6MTA0ODc0LDE1NjIwOTA6MTA0OTE1LDE3Mzc0MDA6MTA0OTAzLDE4MjE0NjA6MTA0OTE4LDE4MjE0OTA6MTA0ODc2LDI0MDkzMDA6MTA0OTEyLDI0MTAzMDA6MTA0ODczLDI0Mzk0MDA6MTA0OTc0LDI0Mzk3MDA6MTA0OTAwLDI1NzVlMzoxMDQ5NDMsMjYzMTIwMDoxMDQ4NzUsMjYzMjM0NToxMDQ5MTYsMzM5MzQwMDoxMDQ5MDQsMzM5NjE5MDpbMTA0OTA1LDEwNDk3MV0sNjA1MWUzOjEwNDkwMSw2MDUxODAwOjEwNDkwMiw2MzdlNDoxMDQxMjgsNjM3MDk5NzpbNDA1MiwzNzAwOF0sNjM3MWUzOjQwMzUsNjM3MTAwNzo0MDQ3LDYzNzEyMjg6WzQwNTMsMTAzNDZdLDYzNzYwNDU6WzgwNDIsODA0M10sNjM3NjUyMzpbNDAyNyw0OTAxLDQ5MDJdLDYzNzY4OTY6MzcwMDcsNjM3ODEzNTpbNDEyMiw0MzIyLDQzMjQsNDcyMCw0OTg1LDQ5ODddLDYzNzgxMzY6WzQ3NDAsNDkyMyw3Njc4LDc2ODAsOTQ3NCw5NDc1LDEwNDAxNywxMDQwMThdLDYzNzgxMzc6WzM4MjMsMzgyNCwzODg4LDM4ODksNDAxNyw0MDE5LDQwMjMsNDAzMSw0MDQwLDQwNDYsNDA1NSw0MDc0LDQwNzUsNDA4MCw0MDgxLDQxMjEsNDEyNiw0MTMwLDQxMzMsNDE0MCw0MTQxLDQxNDgsNDE1MSw0MTUyLDQxNjMsNDE2Niw0MTY3LDQxNzAsNDE3MSw0MTcyLDQxNzMsNDE3Niw0MTgwLDQxODksNDE5MCw0MjU4LDQyNjksNDI4Myw0MzE4LDQzMTksNDMyNiw0NDYzLDQ0NjYsNDQ2OSw0NDcwLDQ0ODAsNDQ4Miw0NDgzLDQ0OTAsNDU1Nyw0NTU4LDQ2MTIsNDYxNyw0NjE5LDQ2MjQsNDYyNyw0NjU5LDQ2NjEsNDY2Nyw0NjY5LDQ2NzAsNDY3NCw0Njg2LDQ2ODcsNDY5Myw0Njk0LDQ3MDIsNDczNyw0NzQyLDQ3NDcsNDc0OSw0NzUwLDQ3NTUsNDc1Niw0NzU3LDQ3NTgsNDc1OSw0NzYxLDQ3NjIsNDc2Myw0NzY0LDQ3NjUsNDg4Myw0ODg1LDQ4ODcsNDg4OSw0ODkzLDQ4OTUsNDg5OCw0OTA3LDQ5MDksNDkyMSw0OTI1LDQ5MjcsNDkyOSw0OTMxLDQ5MzMsNDkzNSw0OTM3LDQ5MzksNDk0MSw0OTQzLDQ5NDUsNDk0Nyw0OTQ5LDQ5NTEsNDk1Myw0OTU1LDQ5NTcsNDk1OSw0OTYxLDQ5NjMsNDk2NSw0OTY3LDQ5NzEsNDk3NSw0OTc3LDQ5NzksNDk4MSw0OTgzLDQ5ODksNDk5Nyw0OTk5LDUwMTIsNTAxMyw1MjQ1LDUyNDYsNTI1MSw1MjUyLDUyNjMsNTI2NCw1MzIzLDUzMjQsNTM0MCw1MzQyLDUzNTMsNTM1NCw1MzU5LDUzNjAsNTM2NCw1MzY1LDUzNzAsNTM3MSw1MzcyLDUzNzMsNTM4MCw1MzgxLDUzOTIsNTM5Myw1NDg4LDU0ODksNTU0NSw1NTQ2LDU1OTIsNTU5Myw1ODg1LDU4ODYsNjEzNCw2MTM1LDYzMTAsNjMxMSw2MzE4LDYzMTksNjMyMSw2MzIyLDYzMjQsNjMyNSw2MzY0LDYzNjUsNjY2Nyw2NjY4LDY3MDUsNjcwNiw2NzgyLDY3ODMsNjk4MCw2OTgyLDY5ODMsNjk4Nyw2OTg5LDY5OTAsNzAzNCw3MDM1LDcwMzYsNzAzNyw3MDM4LDcwMzksNzA0MCw3MDQxLDcwNDIsNzA3Miw3MDczLDcwODQsNzA4NSw3MDg2LDcwODcsNzEzMyw3MTM1LDcxMzYsNzEzOCw3MTM5LDczNzIsNzM3Myw3NjU3LDc2NTksNzY2MSw3NjYzLDc2NjUsNzY4NSw3Njg2LDc3OTcsNzc5OCw3ODE2LDc4NDMsNzg0NCw3ODgwLDc4ODEsNzg4NSw3ODg2LDc5MDAsNzkwMSw3OTAyLDc5MDMsNzkwNCw3OTA1LDc5MDYsNzkwNyw3OTA4LDc5MDksNzkxMCw3OTExLDc5MTIsNzkxNSw3OTE3LDc5MTksNzkyMSw3OTIzLDc5MjUsNzkyNyw3OTI5LDc5MzEsODA4NSw4MDg2LDgyMzEsODIzMiw4MjM1LDgyMzcsODIzOSw4MjQwLDgyNDQsODI0Niw4MjQ4LDgyNDksODI1MSw4MjUyLDgyNTQsODI1NSw4Mzk5LDg0MDMsODQyNiw4NDI3LDg0NDksODU0Miw4NTQ0LDg1NDUsODY4NCw4Njg1LDg2OTgsODY5OSw4ODE3LDg4MTgsODg2MCw4ODg4LDg4OTksODkwMCw4OTAxLDg5MDIsODkwNiw4OTA3LDg5MTYsODkxOCw4OTIwLDg5MjIsODkyNCw4OTI2LDg5MjgsODkzMCw4OTMyLDg5MzQsODkzNiw4OTM4LDg5NDAsODk0Miw4OTQ0LDg5NDYsODk0OCw4OTQ5LDg5NzIsODk3Myw4OTc0LDg5NzUsODk3Niw4OTc3LDg5NzgsODk3OSw4OTgwLDg5ODEsODk4Miw4OTgzLDg5ODQsODk4NSw4OTg2LDg5ODcsODk4OCw4OTg5LDg5OTAsODk5MSw4OTkyLDg5OTMsODk5NCw4OTk1LDg5OTYsODk5Nyw4OTk4LDg5OTksOWUzLDkwMDIsOTAwMyw5MDA1LDkwMDYsOTAwOCw5MDA5LDkwMTEsOTAxMiw5MDEzLDkwMTQsOTAxNiw5MDE3LDkwMTgsOTAxOSw5MDUzLDkwNTQsOTA1NSw5MDU2LDkwNTcsOTA1OSw5MDYwLDkwNjEsOTA2Miw5MDYzLDkwNjQsOTA2NSw5MDY2LDkwNjcsOTA2OCw5MDY5LDkwNzEsOTA3Miw5MDc0LDkwNzUsOTEzOSw5MTQwLDkxNDcsOTE0OCw5MTUyLDkxNTMsOTE4Myw5MTg0LDkyOTMsOTI5NCw5Mjk5LDkzMDgsOTMwOSw5MzMyLDkzMzMsOTM2NCw5MzcyLDkzNzksOTM4MCw5Mzg0LDk0NTMsOTQ2OSw5NDcwLDk1NDYsOTU0Nyw5Njk1LDk2OTYsOTcwMSw5NzAyLDk3MzksOTc1NCw5NzU1LDk3NTgsOTc2Myw5Nzc2LDk3NzcsOTc3OCw5Nzc5LDk3ODEsOTc4Miw5NzgzLDk3ODQsOTg2Niw5ODcxLDk5MzksOTk2NCw5OTY5LDk5NzQsOTk4OSw5OTkwLDEwMTc1LDEwMTc3LDEwMTc4LDEwMTg1LDEwMTkxLDEwMTk2LDEwMjA0LDEwMjA5LDEwMjE0LDEwMjE5LDEwMjI0LDEwMjI5LDEwMjM3LDEwMjcyLDEwMjc3LDEwMjgzLDEwMjg0LDEwMjk4LDEwMjk5LDEwMzAwLDEwMzA0LDEwMzA1LDEwMzA3LDEwMzA5LDEwMzEwLDEwMzExLDEwMzEyLDEwMzI3LDEwMzI4LDEwNDEzLDEwNDE0LDEwNDY4LDEwNDc0LDEwNDc1LDEwNTcwLDEwNTcxLDEwNjA1LDEwNjA2LDEwNjIzLDEwNjI4LDEwNjM4LDEwNjM5LDEwNjcwLDEwNjcxLDEwNjcyLDEwNjczLDEwNjg5LDEwNjkwLDEwNzI0LDEwNzI1LDEwNzM4LDEwNzM5LDEwNzYxLDEwNzYyLDEwNzgwLDEwNzgxLDEwNzg0LDEwNzg1LDEwNzk5LDEwODAwLDIwMDMzLDIwMDQwLDIwMDQxLDIwMDQ1LDIwMDQ2LDEwNDAwOSwxMDQwMTAsMTA0MDExLDEwNDAxMiwxMDQwMTMsMTA0MDE0LDEwNDAxNSwxMDQwMTYsMTA0MDE5LDEwNDAyMCwxMDQwMjEsMTA0MDIyLDEwNDAyNCwxMDQwMjcsMTA0MDI4LDEwNDA1MCwxMDQxMDAsMTA0MTA3LDEwNDEwOCwxMDQxMTAsMTA0MTExLDEwNDExNCwxMDQxMTUsMTA0MTE2LDEwNDExNywxMDQxMTgsMTA0MTE5LDEwNDEyMCwxMDQxMjEsMTA0MTIyLDEwNDEyMywxMDQxMjQsMTA0MTI5LDEwNDEzMywxMDQxMzQsMTA0MTM3LDEwNDE0MSwxMDQxNDIsMTA0MTQzLDEwNDE0NCwxMDQxNDUsMTA0MTc5LDEwNDE4MCwxMDQxODEsMTA0MTgyLDEwNDE4MywxMDQxODQsMTA0MTg1LDEwNDE4NiwxMDQxOTksMTA0MjIzLDEwNDI1NywxMDQyNTgsMTA0MjU5LDEwNDI2MCwxMDQyODYsMTA0Mjg3LDEwNDYwMiwxMDQ2MTMsMTA0NjQ0LDEwNDY0NSwxMDQ2NDYsMTA0NjQ3LDEwNDY1MywxMDQ4MDQsMTA0ODk2LDEwNDk5MV0sNjM3ODE0MDo0NjEwLDYzNzgxNDU6WzQwMjUsNDI3Niw0NzYwLDQ4OTEsMzcwMDFdLDYzNzgxNTA6MzcwMDMsNjM3ODE1NTpbMzcwMDQsMzcyMDddLDYzNzgxNjA6WzM4MjEsNDAwMyw0MDIxLDQwMzYsNDIwMiw0MjAzLDQyMzcsNDIzOCw0MjkxLDQ2MTgsNDcwOCw1NTI3LDM3MjMxLDEwNDAyMywxMDQxMzZdLDYzNzgxNjY6MzcwMDIsNjM3ODIwMDpbNDAyMCw0MjI5LDQyODYsNDMwMyw0NzA2XSw2Mzc4MjQ1Ols0MDI0LDQxNDcsNDE2NCw0MTc4LDQxNzksNDE5MSw0MjAwLDQyMDUsNDIxNCw0Mjg0LDQzMTcsNDU1NSw0Njc2LDQ2NzcsNDY3OCw0OTkxLDQ5OTMsNTU2MCw1NTYxLDM3MjU3LDEwNDEzNV0sNjM3ODI3MDpbNDczMiwzNzAwNSwzNzIyOV0sNjM3ODI3MzpbNDA1NCwxMDM0NV0sNjM3ODMwMDpbNDAyOSw0MTY4LDQxNzRdLDYzNzgzODg6WzQwMjIsNDEyMyw0MTUzLDQxNTQsNDE1OCw0MTU5LDQxNjAsNDE2MSw0MTY1LDQxODEsNDE4Miw0MTgzLDQxODQsNDE4NSw0MTkyLDQxOTQsNDE5NSw0MTk2LDQxOTksNDIwNCw0MjA3LDQyMDgsNDIxNSw0MjE4LDQyMjEsNDIyNCw0MjI1LDQyMzAsNDIzMSw0MjMzLDQyMzUsNDIzNiw0MjQ3LDQyNDgsNDI0OSw0MjU0LDQyNTUsNDI1OSw0MjY0LDQyNjUsNDI3MSw0MjcyLDQyNzQsNDI4NSw0Mjg3LDQyODgsNDI5Miw0Mjk3LDQzMDksNDMxMSw0MzEzLDQzMTYsNDQ3Miw0NDc1LDQ2MTEsNDYxNCw0NjE1LDQ2MTYsNDYyMSw0NjIyLDQ2MjMsNDYyNSw0NjI2LDQ2MjgsNDYyOSw0NjMwLDQ2MzEsNDYzMiw0NjMzLDQ2MzYsNDYzNyw0NjM5LDQ2NDEsNDY0Miw0NjQzLDQ2NDQsNDY0NSw0NjQ2LDQ2NTgsNDY2MCw0NjYyLDQ2NjMsNDY2NCw0NjY1LDQ2NjgsNDY3Miw0NjczLDQ2ODQsNDY4OCw0Njg5LDQ2OTAsNDY5MSw0NjkyLDQ2OTgsNDcwNCw0NzA1LDQ3MDcsNDcwOSw0NzEwLDQ3MTEsNDcxMiw0NzE0LDQ3MTUsNDcxNiw0NzE4LDQ3MTksNDcyMSw0NzIyLDQ3MjQsNDcyNSw0NzI3LDQ3MjgsNDcyOSw0NzMwLDQ3MzMsNDczNCw0NzM1LDQ3MzksNDc0MSw0NzUzLDQ3NTQsNDgwMiw0ODAzLDQ4MDYsNDgwOSw0ODEwLDQ4MjMsNDgyNCw0OTAwLDU1MjQsNjg4Myw4NDI4LDg0MzAsODQzMSw5MjQ4LDkyNTEsOTI1Myw5NDAzLDk4OTMsMTAxNTgsMTAyNDksMTAyNTIsMTA2MzUsMTA2MzYsMTA3MzUsMTA3MzYsMTA3NTgsMzcyMDEsMzcyMDQsMzcyMDUsMzcyMTIsMzcyMTMsMzcyMTQsMzcyMTUsMzcyMTYsMzcyMTcsMzcyMTgsMzcyMTksMzcyMjEsMzcyMjIsMzcyMjQsMzcyMjYsMzcyMjcsMzcyMzAsMzcyMzIsMzcyMzMsMzcyMzQsMzcyMzUsMzcyMzcsMzcyMzgsMzcyNDEsMzcyNDIsMzcyNDUsMzcyNDYsMzcyNDcsMzcyNDksMzcyNTAsMzcyNTEsMzcyNTMsMzcyNTksMTA0MTA0LDEwNDEwNiwxMDQxMjUsMTA0MTI2LDEwNDEyNywxMDQxMzAsMTA0MTM4LDEwNDI0OF0sNjM3ODUyMzoxMDQ3ODYsMjQ3NjRlMzoxMDQ5NjAsMjU1NTllMzoxMDQ5NDQsNjAyNjhlMzoxMDQ5MjUsNzE0OTJlMzoxMDQ5MDgsNjk1N2U1OjEwNDk3NSw2Mzc3Mzk3LjE1NTpbMzgxOSwzOTA2LDQwMDQsNDEyMCw0MTI0LDQxMjUsNDE0OSw0MTUwLDQxNTYsNDE2Miw0MjExLDQyMTksNDI1Nyw0MjYyLDQyODAsNDI4OSw0Mjk0LDQyOTUsNDMwMSw0MzA2LDQzMDgsNDMxMiw0MzE0LDQ2MTMsNDY2Niw0NzQ1LDQ3NDYsNDgwMSw0ODA0LDQ4MDUsNDgwOCw0ODEzLDQ4MTQsNDgxNSw0ODE4LDQ4MjAsNDkwNCw1MTMyLDUyMjgsNTIyOSw1NjgxLDU4MzAsODM1MSw5MjY3LDEwMjY4LDM3MjU1LDEwNDEwMSwxMDQxMDIsMTA0MTA1LDEwNDEzMSwxMDQ2NDgsMTA0Njk2LDEwNDY5NywxMDQ5OTAsMTA0OTkyXSw2Mzc3NTYzLjM5NjpbNDAwMSw0MTg4LDQyNzcsNDI3OCw0Mjc5XSw2Mzc3MzQwLjE4OTpbNDAwMiw0Mjk5LDQzMDBdLDYzNzc0OTIuMDE4Ols0MDA1LDQyNzMsNDgxN10sNjM3NzQ4My44NjUyODA0MTg6WzQwMDYsNDI5M10sNjM3ODI5My42NDUyMDg3NTk6WzQwMDcsNDE1Nyw0MzAyLDQ3MzgsNTQ2NF0sNjM3ODIwNi40Ols0MDA4LDQxMjcsNDEyOCw0MTI5LDQxMzUsNDEzNiw0MTM3LDQxMzgsNDEzOSw0MTY5LDQyMTYsNDI0Miw0MjUzLDQyNjcsNDYwOCw0NjA5LDQ2MzgsNDY3NSw0NjgzLDQ2OTUsNDcxNyw0NzIzLDQ3MjYsNDk5NSw1NDUxLDU0NjcsMzcyMjAsMzcyMzksMzcyNDMsMzcyNTIsMzcyNjAsMTA0ZTMsMTA0MTA5LDEwNDExMiwxMDQxMTMsMTA0MTMyXSw2Mzc4NDUwLjA0NzpbNDAwOSw0MjY4XSw2Mzc4MzAwLjc4OTpbNDAxMCw0MjgxXSw2Mzc4MjQ5LjI6WzQwMTEsNDAxNCw0MTU1LDQxOTMsNDIwNiw0MjEzLDQyMjMsNDIyNiw0MjI3LDQyMjgsNDI1Miw0MjYxLDQyNjYsNDI3NSw0MjgyLDQyOTYsNDMwNCw0MzEwLDQzMTUsNDY3MSw0ODA3LDQ4MTEsNDgxNiw0ODIxLDM3MjIzLDM3MjI1LDEwNDEzOSwxMDQxNDAsMTA0MjYxLDEwNDMwNF0sNjM3ODI0OS4xNDU6WzQwMTIsNDAxMyw0MTMyLDQxMzQsNDE0Miw0MTQzLDQxNzUsNDE5Nyw0MTk4LDQyMDEsNDIwOSw0MjEwLDQyMTIsNDIyMCw0MjIyLDQyMzIsNDIzNCw0MjQ2LDQyNTAsNDI1MSw0MjU2LDQyNjAsNDI2Myw0MjcwLDQzMDUsNDMwNyw0NjAwLDQ2MDEsNDYwMiw0NjAzLDQ2MDQsNDYwNSw0NjA2LDQ2MDcsNDYyMCw0Njc5LDQ2ODAsNDY5Niw0Njk3LDQ2OTksNDcwMCw0NzAxLDQ3MDMsNDcxMyw0NzMxLDQ3MzYsNDc0Myw0NzQ0LDQ4MTIsNDgxOSw2ODgxLDY4ODIsNjg5Miw2ODk0LDg2OTQsMzcyMDYsMzcyMDgsMzcyMTEsMzcyMjgsMzcyNDAsMzcyNTQsMTA0MDI1LDEwNDAyNiwxMDQxMDMsMTA0MzA1XSw2Mzc3Mjc2LjM0NTpbNDAxNSw0MTMxLDQxNDQsNDIzOSw0MjQwLDQyNDQsNDY4Miw1MjMzLDYyMDcsMzcyMDIsMTA0MjU2LDEwNDY2NCwxMDQ2OTNdLDYzNzcyOTguNTU2Ols0MDE2LDQyOThdLDYzNzczMDQuMDYzOls0MDE4LDQyNDVdLDYzNzgyOTguMzpbNDAyOCw0OTAzXSw2Mzc4MTM2LjI6NDAzMiw2Mzc4MTM2LjM6NDAzMyw2Mzc4MjQ5LjE0NDgwODAxMTpbNDAzNCw0MjQxXSwyMDkyMjkzMS44Ols0MDQyLDQyNDNdLDYzNzczMDEuMjQzOls0MDQ0LDQxNDUsMzcyMDNdLDYzNzcyOTkuMTUxOls0MDQ1LDQxNDZdLDYzNzcwMTkuMjc6WzQ2NTcsMTAyNTYsMTAyNjAsMTAyNjVdLDYzNzgzMDYuMzY5NjpbNDc0OCw0NzUyXSw2Mzc3Mjk1LjY2NDpbNDc1MSwzNzAwNl0sNjM3ODEzNi41Ols3NjgyLDc2ODNdLDYzNzEwMDguNzcxNDoxMDQwNDcsNjM3ODQxOC45NDE6WzEwNDcwMCwxMDQ3MjYsMTA0NzYwXSw2Mzc4NTg2LjU4MTpbMTA0NzAxLDEwNDc0M10sNjM3ODUwNS44MDk6MTA0NzAyLDYzNzg1NDQuODIzOjEwNDcwMyw2Mzc4NDkwLjU2OToxMDQ3MDQsNjM3ODQ3MC43NTc6WzEwNDcwNSwxMDQ3NzZdLDYzNzg0MDMuNzAxOlsxMDQ3MDYsMTA0NzUwXSw2Mzc4NDM0LjE4MTpbMTA0NzA3LDEwNDcyNCwxMDQ3MzksMTA0NzY0XSw2Mzc4NDU0LjkwNzoxMDQ3MDgsNjM3ODQwMC42NTM6MTA0NzA5LDYzNzg1NjcuMzc4OjEwNDcxMCw2Mzc4NTQ2Ljk1NzpbMTA0NzExLDEwNDcxNywxMDQ3ODBdLDYzNzg0NzYuODUzOlsxMDQ3MTIsMTA0NzM2XSw2Mzc4NDExLjMyMTpbMTA0NzEzLDEwNDcyOF0sNjM3ODY0Ny41NDE6WzEwNDcxNCwxMDQ3MTVdLDYzNzg1MTQuOTUzOlsxMDQ3MTYsMTA0NzgyXSw2Mzc4NDIxLjk4OTpbMTA0NzE4LDEwNDc3MF0sNjM3ODQ4MS40MjU6WzEwNDcxOSwxMDQ3NTMsMTA0Nzc0LDEwNDc4MV0sNjM3ODUxOC4wMDE6WzEwNDcyMCwxMDQ3MjVdLDYzNzg1MjEuMDQ5OlsxMDQ3MjEsMTA0NzIzLDEwNDczMSwxMDQ3NDUsMTA0NzQ4XSw2Mzc4NDY0LjY2MToxMDQ3MjIsNjM3ODQzNi42MTk6MTA0NzI3LDYzNzg1NzQuMzg5OlsxMDQ3MjksMTA0NzMwXSw2Mzc4NDcyLjI4MTpbMTA0NzMyLDEwNDc1Nl0sNjM3ODQ5OC4xODk6WzEwNDczMywxMDQ3NDZdLDYzNzg0NDkuNDIxOlsxMDQ3MzQsMTA0NzY2XSw2Mzc4NTI1LjYyMTpbMTA0NzM1LDEwNDc1NF0sNjM3ODQ2Ni4xODU6MTA0NzM3LDYzNzg0OTYuNjY1OjEwNDczOCw2Mzc4NjQzLjU3OToxMDQ3NDAsNjM3ODU1OS43NTg6MTA0NzQxLDYzNzg0MTQuMzY5OlsxMDQ3NDIsMTA0NzYzLDEwNDc3Ml0sNjM3ODQ0MS44MDE6MTA0NzQ0LDYzNzg1MDIuNzYxOlsxMDQ3NDcsMTA0NzU5LDEwNDc3MywxMDQ3NzVdLDYzNzg2MTcuMDYxOjEwNDc0OSw2Mzc4NjI0LjY4MTpbMTA0NzUxLDEwNDc2NV0sNjM3ODQ2OC42MjM6MTA0NzUyLDYzNzg0NDUuNzYzOlsxMDQ3NTUsMTA0NzU4LDEwNDc2MV0sNjM3ODY3MC40MDE6MTA0NzU3LDYzNzg0MzguNzUzOjEwNDc2Miw2Mzc4NTQzLjkwOToxMDQ3NjcsNjM3ODYwNS43ODM6MTA0NzY4LDYzNzg1NDAuODYxOjEwNDc2OSw2Mzc4NDQzLjMyNTpbMTA0NzcxLDEwNDc4NF0sNjM3ODU0OC40ODE6MTA0Nzc3LDYzNzg0NjMuNzQ2OjEwNDc3OCw2Mzc4NDI2LjU2MToxMDQ3NzksNjM3ODQ1My42ODg6MTA0NzgzLDYzNzg1MzAuMTkzOjEwNDc4NSw2Mzc4Mzc2LjI3MTpbMTA0ODAwLDEwNDgyOF0sNjM3ODQ3MS45MjoxMDQ4MDEsNjM3ODQ3Mi45MzE6MTA0ODAyLDYzNzg0MTEuMzUxOjEwNDgwMyw2Mzc4MzgwLjk5MToxMDQ4MDUsNjM3ODQxNC45NjoxMDQ4MDYsNjM3ODM0NS4wOTpbMTA0ODA3LDEwNDgxOSwxMDQ4NDQsMTA0ODcwXSw2Mzc4NDEyLjU0MjoxMDQ4MDgsNjM3ODQ3MC40MDE6MTA0ODA5LDYzNzgzNzYuMzMxOjEwNDgxMCw2Mzc4Mzc5LjAzMToxMDQ4MTEsNjM3ODQwNy42MjE6MTA0ODEyLDYzNzgzNzYuODExOlsxMDQ4MTMsMTA0ODI3XSw2Mzc4MzEzLjkyOjEwNDgxNCw2Mzc4NDE0LjkzOjEwNDgxNSw2Mzc4NDEzLjAyMToxMDQ4MTYsNjM3ODM4MC4zODE6MTA0ODE3LDYzNzg1MzAuODUxOjEwNDgxOCw2Mzc4NTkxLjUyMToxMDQ4MjAsNjM3ODM3OC44ODE6MTA0ODIxLDYzNzg0MDguNDgxOlsxMDQ4MjIsMTA0ODMyXSw2Mzc4Mzc1LjYwMTpbMTA0ODIzLDEwNDgzOF0sNjM3ODQwOC4wNDE6MTA0ODI0LDYzNzg2NTUuMDcxOjEwNDgyNSw2Mzc4NDA5LjE1MToxMDQ4MjYsNjM3ODMxNS43OlsxMDQ4MjksMTA0ODQwLDEwNDg0NSwxMDQ4NTFdLDYzNzgyODUuODY6WzEwNDgzMCwxMDQ4MzUsMTA0ODU5XSw2Mzc4Mzc5LjMwMToxMDQ4MzEsNjM3ODU2MC4xMjE6MTA0ODMzLDYzNzg1MzEuODIxOjEwNDgzNCw2Mzc4NTAwLjY6MTA0ODM2LDYzNzgzNzYuMDQxOjEwNDgzNyw2Mzc4NDA2LjYwMToxMDQ4MzksNjM3ODQzOC45OTE6MTA0ODQxLDYzNzgzNDUuNDI6MTA0ODQyLDYzNzg1OTMuODY6MTA0ODQzLDYzNzgzODEuMjcxOlsxMDQ4NDYsMTA0ODQ3XSw2Mzc4NDEzLjY3MToxMDQ4NDgsNjM3ODM0NC4zNzc6MTA0ODQ5LDYzNzg1NjMuODkxOjEwNDg1MCw2Mzc4NDA4LjA5MToxMDQ4NTIsNjM3ODM3Ny42NzE6MTA0ODUzLDYzNzg0NzIuNzUxOjEwNDg1NCw2Mzc4NDEyLjUxMToxMDQ4NTUsNjM3ODQwNy4yODE6MTA0ODU2LDYzNzg1MzQuNDUxOjEwNDg1Nyw2Mzc4NDA2LjA1MToxMDQ4NTgsNjM3ODUzMi45MjE6MTA0ODYwLDYzNzgzODAuMDkxOjEwNDg2MSw2Mzc4NDA4Ljk0MToxMDQ4NjIsNjM3ODYyNC4xNzE6MTA0ODYzLDYzNzgzNzcuNDExOjEwNDg2NCw2Mzc4NDc0LjU5MToxMDQ4NjUsNjM3ODQwNy4xNDE6MTA0ODY2LDYzNzgzNzYuODcxOjEwNDg2Nyw2Mzc4Mzc1LjI1MToxMDQ4NjgsNjM3ODQwNS45NzE6MTA0ODY5LDYzNzg0MzcuNjUxOjEwNDg3MX07ZnVuY3Rpb24gaXMoKXtmb3IoY29uc3QgZSBpbiBycylkZWxldGUgcnNbZV19Y2xhc3Mgb3MgZXh0ZW5kcyBuc3tjb25zdHJ1Y3RvcihlKXtpZihcIm51bWJlclwiPT10eXBlb2YgZSlyZXR1cm4gc3VwZXIoKSx0aGlzLm1fZmFjdG9yPWUsdm9pZCh0aGlzLm1fd2tpZD0wKTtzdXBlcihlKX1nZXRVbml0VHlwZSgpe3JldHVybiAxfWNvbnZlcnRGcm9tUmFkaWFucyhlKXtyZXR1cm4gZS90aGlzLmdldFVuaXRUb0Jhc2VGYWN0b3IoKX1jb252ZXJ0VG9SYWRpYW5zKGUpe3JldHVybiBlKnRoaXMuZ2V0VW5pdFRvQmFzZUZhY3RvcigpfX1mdW5jdGlvbiBhcyhlKXtyZXR1cm4gbmV3IGJ1fWZ1bmN0aW9uIGhzKGUpe3JldHVybiBlLmdldFR5cGUoKT09PWJjLlBFX1RZUEVfTElOVU5JVD9uZXcgYnUoZSk6ZS5nZXRUeXBlKCk9PT1iYy5QRV9UWVBFX0FOR1VOSVQ/bmV3IG9zKGUpOnZvaWQgdChcInBlVW5pdFwiKX1mdW5jdGlvbiBtcyhlKXtjb25zdCBzPUhjKG51bGwpO3JldHVybiBlLmdldFR5cGUoKT09PWJjLlBFX1RZUEVfUFJPSkNTfHxlLmdldFR5cGUoKT09PWJjLlBFX1RZUEVfR0VPR0NTP3MucmVzZXQoZS5nZXRVbml0KCkpOnQoXCJQRV9jb29yZF9zeXNcIikscy5nZXQoKXx8aShcImNhbm5vdCBjcmVhdGUgdW5pdHMgZnJvbSBjb29yZCBzeXNcIiksaHMocy5nZXQoKSl9Y2xhc3MgbHN7Y29uc3RydWN0b3IoZSxzLG4pe3ZvaWQgMD09PWU/KHRoaXMueD1uZXcgQXQsdGhpcy55PW5ldyBBdCx0aGlzLno9bmV3IEF0KTplIGluc3RhbmNlb2YgUmU/KHRoaXMueD1uZXcgQXQoZS54KSx0aGlzLnk9bmV3IEF0KGUueSksdGhpcy56PW5ldyBBdChlLnopKTplIGluc3RhbmNlb2YgQXQ/KHRoaXMueD1lLmNsb25lKCksdGhpcy55PXMuY2xvbmUoKSx0aGlzLno9bi5jbG9uZSgpKTp0KFwiRVBvaW50M0QgY29uc3RydWN0b3JcIil9ZG90UHJvZHVjdChlKXtyZXR1cm4gdGhpcy54Lm11bEUoZS54KS5hZGRFKHRoaXMueS5tdWxFKGUueSkpLmFkZEUodGhpcy56Lm11bEUoZS56KSl9Y3Jvc3NQcm9kdWN0KGUpe3JldHVybiBuZXcgbHModGhpcy55Lm11bEUoZS56KS5zdWJFKHRoaXMuei5tdWxFKGUueSkpLHRoaXMuei5tdWxFKGUueCkuc3ViRSh0aGlzLngubXVsRShlLnopKSx0aGlzLngubXVsRShlLnkpLnN1YkUodGhpcy55Lm11bEUoZS54KSkpfWNyb3NzUHJvZHVjdFZlY3RvcihlKXtjb25zdCB0PXRoaXMueS5tdWxFKGUueikuc3ViRShlLnkubXVsRSh0aGlzLnopKSxzPWUueC5tdWxFKHRoaXMueikuc3ViRSh0aGlzLngubXVsRShlLnopKSxuPXRoaXMueC5tdWxFKGUueSkuc3ViRShlLngubXVsRSh0aGlzLnkpKTtyZXR1cm4gbmV3IGxzKHQscyxuKX1zcXJMZW5ndGgoKXtyZXR1cm4gdGhpcy54Lm11bEUodGhpcy54KS5hZGRFKHRoaXMueS5tdWxFKHRoaXMueSkpLmFkZEUodGhpcy56Lm11bEUodGhpcy56KSl9bGVuZ3RoKCl7cmV0dXJuIHRoaXMuc3FyTGVuZ3RoKCkuc3FydCgpfXN0YXRpYyBkaXN0YW5jZShlLHQpe3JldHVybiBlLnN1Yih0KS5sZW5ndGgoKX1uZWdhdGUoKXtyZXR1cm4gbmV3IGxzKHRoaXMueC5uZWdhdGUoKSx0aGlzLnkubmVnYXRlKCksdGhpcy56Lm5lZ2F0ZSgpKX1hZGQoZSl7cmV0dXJuIG5ldyBscyh0aGlzLnguYWRkRShlLngpLHRoaXMueS5hZGRFKGUueSksdGhpcy56LmFkZEUoZS56KSl9c3ViKGUpe3JldHVybiBuZXcgbHModGhpcy54LnN1YkUoZS54KSx0aGlzLnkuc3ViRShlLnkpLHRoaXMuei5zdWJFKGUueikpfXN1YlRoaXMoZSl7cmV0dXJuIHRoaXMueC5zdWJUaGlzRShlLngpLHRoaXMueS5zdWJUaGlzRShlLnkpLHRoaXMuei5zdWJUaGlzRShlLnopLHRoaXN9YWRkVGhpcyhlKXtyZXR1cm4gdGhpcy54LmFkZFRoaXNFKGUueCksdGhpcy55LmFkZFRoaXNFKGUueSksdGhpcy56LmFkZFRoaXNFKGUueiksdGhpc31tdWwoZSl7cmV0dXJuIG5ldyBscyh0aGlzLngubXVsRShlKSx0aGlzLnkubXVsRShlKSx0aGlzLnoubXVsRShlKSl9ZGl2KGUpe3JldHVybiBuZXcgbHModGhpcy54LmRpdkUoZSksdGhpcy55LmRpdkUoZSksdGhpcy56LmRpdkUoZSkpfWVxKGUpe3JldHVybiB0aGlzLnguZXEoZS54KSYmdGhpcy55LmVxKGUueSkmJnRoaXMuei5lcShlLnopfWlzWmVybygpe3JldHVybiB0aGlzLnguaXNaZXJvKCkmJnRoaXMueS5pc1plcm8oKSYmdGhpcy56LmlzWmVybygpfXZhbHVlKCl7cmV0dXJuIFJlLmNvbnN0cnVjdCh0aGlzLngudmFsdWUoKSx0aGlzLnkudmFsdWUoKSx0aGlzLnoudmFsdWUoKSl9fWNsYXNzIGdze2NvbnN0cnVjdG9yKGUpe2lmKHRoaXMubV9vcmlnaW49bmV3IFJlLHRoaXMubV9ub3JtYWw9bmV3IFJlLHRoaXMubV9heGlzWD1uZXcgUmUsdGhpcy5tX2F4aXNZPW5ldyBSZSwhZSlyZXR1cm4gdGhpcy5tX29yaWdpbj1uZXcgUmUsdGhpcy5tX25vcm1hbD1uZXcgUmUoMCwwLDEpLHRoaXMubV9heGlzWD1uZXcgUmUoMSwwLDApLHZvaWQodGhpcy5tX2F4aXNZPW5ldyBSZSgwLDEsMCkpO2UucHQwJiZlLnB0MSYmZS5wdDI/dGhpcy5zZXRGcm9tUG9pbnRzKGUucHQwLGUucHQxLGUucHQyKTphKDAsYHVuaW1wbGVtZW50ZWQgY29uc3RydWN0b3Igb3B0aW9ucyAke0pTT04uc3RyaW5naWZ5KGUpfWApfWFzc2lnbihlKXtyZXR1cm4gYSgwKSx0aGlzfXNldChlLHQscyxuKXthKDApfXNldEZyb21Qb2ludHMoZSx0LHMpe2xldCBuPXQuc3ViKGUpO2NvbnN0IHI9cy5zdWIoZSk7dGhpcy5tX25vcm1hbD1uLmNyb3NzUHJvZHVjdFZlY3RvcihyKTtsZXQgaT0hMDtpZih0aGlzLm1fbm9ybWFsLmlzWmVybygpKXtpZihpPSExLG4uaXNaZXJvKCkmJihuPXIpLG4uaXNaZXJvKCkpe2NvbnN0IHQ9MCxzPTE7cmV0dXJuIHRoaXMubV9ub3JtYWwuc2V0Q29vcmRzKHQsdCxzKSx0aGlzLm1fYXhpc1guc2V0Q29vcmRzKHMsdCx0KSx0aGlzLm1fYXhpc1kuc2V0Q29vcmRzKHQscyx0KSx0aGlzLm1fb3JpZ2luPWUsITF9dGhpcy5tX2F4aXNYPW4uZ2V0VW5pdFZlY3RvcigpLHRoaXMubV9ub3JtYWw9dGhpcy5tX2F4aXNYLmNyZWF0ZUFQZXJwZW5kaWN1bGFyKCl9ZWxzZSB0aGlzLm1fbm9ybWFsLm5vcm1hbGl6ZVRoaXMoKSx0aGlzLm1fYXhpc1g9bi5nZXRVbml0VmVjdG9yKCk7cmV0dXJuIHRoaXMubV9heGlzWT10aGlzLm1fbm9ybWFsLmNyb3NzUHJvZHVjdFZlY3Rvcih0aGlzLm1fYXhpc1gpLHRoaXMubV9vcmlnaW49ZSxpfWdldENvb3JkKGUsdCl7cmV0dXJuIGEoMCkse319Z2V0Q29vcmQyRChlKXtyZXR1cm4gYSgwKSx7fX1nZXRDb29yZFgoZSx0KXtyZXR1cm4gYSgwKSwwfWdldENvb3JkWShlLHQpe3JldHVybiBhKDApLDB9Z2V0Q29vcmRaKGUsdCl7cmV0dXJuIGEoMCksMH1zZXRQcmVmZXJyZWRBeGlzWChlKXthKDApfWdldE9yaWdpbigpe3JldHVybiBhKDApLHt9fWdldE5vcm1hbCgpe3JldHVybiBhKDApLHt9fWdldEF4aXNYKCl7cmV0dXJuIHRoaXMubV9heGlzWC5jbG9uZSgpfWdldEF4aXNZKCl7cmV0dXJuIHRoaXMubV9heGlzWS5jbG9uZSgpfXNldEF4aXNYKGUsdD0hMSl7YSgwKX1zZXRBeGlzWShlLHQ9ITEpe2EoMCl9cmVjYWxjdWxhdGVBeGlzWSgpe2EoMCl9c2V0T3JpZ2luKGUpe2EoMCl9c2V0Tm9ybWFsKGUsdCl7YSgwKX1pbnRlcnNlY3QoZSx0KXtyZXR1cm4gYSgwKSwhMX1pbnRlcnNlY3RMaW5lKGUpe3JldHVybiBhKDApLDB9aW50ZXJzZWN0TGluZUV4KGUsdCl7cmV0dXJuIGEoMCksMH1jbG9zZXN0Q29vcmRpbmF0ZShlKXtjb25zdCB0PWUuc3ViKHRoaXMubV9vcmlnaW4pLHM9bmV3IFFlO3JldHVybiBzLng9dC5kb3RQcm9kdWN0KHRoaXMubV9heGlzWCkscy55PXQuZG90UHJvZHVjdCh0aGlzLm1fYXhpc1kpLHN9cHJvamVjdFZlY3RvcihlKXtyZXR1cm4gYSgwKSx7fX1zaWduZWREaXN0YW5jZShlKXtyZXR1cm4gYSgwKSwwfWRpc3RhbmNlKGUpe3JldHVybiBhKDApLDB9fWZ1bmN0aW9uIHVzKGUsdCl7cmV0dXJuITF9ZnVuY3Rpb24gY3MoZSx0LHMsbixyPTEwMCxpPXVzKXtsZXQgbyxoLG0sbCxnLHUsYyxfLGQ7YShuPjApO2xldCBwLGYseCx5PTAsUD0wO2NvbnN0IEU9WXQoKTt0PnMmJihzPXJ0KHQsdD1zKSk7Y29uc3QgUz1lKHQpLEM9ZShzKTtTPEM/KG89aD1tPXQsbD1nPXU9Uyk6KG89aD1tPXMsbD1nPXU9Qyk7bGV0IEk9MDtmb3IoO0k8ciYmKHg9LjUqKHMtdCksZD10K3gscD1uKihNYXRoLmFicyhvKSsuMjUpLGY9MipwLCEoaShvLGwpfHxNYXRoLmFicyhvLWQpPD1mLXgpKTsrK0kpe2lmKE1hdGguYWJzKFApPnApe2NvbnN0IGU9KG8taCkqKGwtdSk7bGV0IG49KG8tbSkqKGwtZykscj0oby1tKSpuLShvLWgpKmU7bj0yKihuLWUpLG4+MCYmKHI9LXIpLG49TWF0aC5hYnMobik7Y29uc3QgaT1QO1A9eSxNYXRoLmFicyhyKT49TWF0aC5hYnMobippKi41KXx8cjw9bioodC1vKXx8cj49bioocy1vKT8oUD1vPj1kP3QtbzpzLW8seT1ZdCgpKlApOih5PXIvbixfPW8reSwoXy10PGZ8fHMtXzxmKSYmKHk9ZC1vPDA/LU1hdGguYWJzKHApOk1hdGguYWJzKHApKSl9ZWxzZSBQPW8+PWQ/dC1vOnMtbyx5PVAqRTtfPW8reSxjPWUoXyksYzxsPyhfPj1vP3Q9bzpzPW8sbT1oLGg9byxvPV8sdT1nLGc9bCxsPWMpOihfPG8/dD1fOnM9XyxjPD1nfHxoPT09bz8obT1oLGg9Xyx1PWcsZz1jKTooYzw9dXx8bT09PW98fG09PT1oKSYmKG09Xyx1PWMpKX1yZXR1cm4gbXQobyxsKX1mdW5jdGlvbiBfcyhlLHQscyl7aWYoZT5zKXtlLT1NYXRoLmNlaWwoKGUtcykvTHQpKkx0fWVsc2UgaWYoZTx0KXtlKz1NYXRoLmNlaWwoKHQtZSkvTHQpKkx0fXJldHVybiBlfWZ1bmN0aW9uIGRzKGUsdCxzKXtyZXR1cm4gcHMoZSx0LHMsMCl9ZnVuY3Rpb24gcHMoZSx0LHMsbil7Y29uc3Qgcj1zLngsaT1zLnk7cmV0dXJuIHhzKGUsdCxNYXRoLmNvcyhyKSxNYXRoLnNpbihyKSxNYXRoLmNvcyhpKSxNYXRoLnNpbihpKSxuKX1mdW5jdGlvbiBmcyhlLHQscyxuLHIsaSl7cmV0dXJuIHhzKGUsdCxzLG4scixpLDApfWZ1bmN0aW9uIHhzKGUsdCxzLG4scixpLG8pe2NvbnN0IGE9ZS9NYXRoLnNxcnQoMS10KmkqaSksaD1hK28sbT1oKnIqcyxsPWgqcipuLGc9KGEqKDEtdCkrbykqaTtyZXR1cm4gUmUuY29uc3RydWN0KG0sbCxnKX1mdW5jdGlvbiB5cyhlLHQscyl7Y29uc3Qgbj1uZXcgQXQscj1uZXcgQXQsaT1uZXcgQXQsbz1uZXcgQXQ7bi5zZXRDb3Mocy54KSxyLnNldFNpbihzLngpLGkuc2V0Q29zKHMueSksby5zZXRTaW4ocy55KTtjb25zdCBhPW8ubmVnYXRlKCkubXVsRShvLm11bCh0KSkuYWRkKDEpLnNxcnQoKSxoPW5ldyBBdChlKS5kaXZFKGEpLG09aC5tdWxFKGkpLm11bEUobiksbD1oLm11bEUoaSkubXVsRShyKSxnPWgubXVsKDEtdCkubXVsRShvKTtyZXR1cm4gbmV3IGxzKG0sbCxnKX1mdW5jdGlvbiBQcyhlLHQscyl7Y29uc3Qgbj1zLngscj1zLnksaT1zLnosbz1NYXRoLmF0YW4yKHIsbiksYT1NYXRoLnNxcnQobipuK3IqciksaD1NYXRoLmF0YW4yKGksKDEtdCkqYSk7cmV0dXJuIFFlLmNvbnN0cnVjdChvLGgpfWZ1bmN0aW9uIEVzKGUsdCxzKXtjb25zdCBuPTEtdCxyPWUvTWF0aC5zcXJ0KHV0KHMueCkrdXQocy55KSt1dChzLnopL24pO3JldHVybiBzLm11bChyKX1mdW5jdGlvbiBTcyhlLHQscyxuLHIpe2NvbnN0IGk9ZHMoZSx0LHMpLG89ZHMoZSx0LG4pO3JldHVybiBQcyhlLHQsUmUubGVycChpLG8scikpfWZ1bmN0aW9uIENzKGUsdCxzKXtjb25zdCBuPW5ldyBSZTtyZXR1cm4gbi5zZXRDcm9zc1Byb2R1Y3RWZWN0b3IodCxzKSxNYXRoLmFicyhNYXRoLmF0YW4yKG4ubGVuZ3RoKCksdC5kb3RQcm9kdWN0KHMpKSkqZX1mdW5jdGlvbiBJcyhlLHQscyxuLHIpe2NvbnN0IGk9cy5nZXRVbml0VmVjdG9yKCksbz1uLmdldFVuaXRWZWN0b3IoKSxhPXQuZ2V0VW5pdFZlY3RvcigpLGg9bmV3IFJlO2lmKGguc2V0Q3Jvc3NQcm9kdWN0VmVjdG9yKGksbyksIWguaXNaZXJvKCkpe2gubm9ybWFsaXplVGhpcygpO2NvbnN0IHQ9YS5zdWIoaC5tdWwoaC5kb3RQcm9kdWN0KGEpKSk7aWYoIXQuaXNaZXJvKCkpe3Qubm9ybWFsaXplVGhpcygpO2NvbnN0IHM9aS5hZGQobykubXVsKC41KTtpZihzLmRvdFByb2R1Y3QodCk+cy5kb3RQcm9kdWN0KGkpKXtjb25zdCBzPU1hdGguYWJzKGguZG90UHJvZHVjdChhKSksbj1NYXRoLmFzaW4ocyk7cmV0dXJuIHIuYXNzaWduKHQuZ2V0VW5pdFZlY3RvcigpLm11bChlKSksbiplfX19Y29uc3QgbT1DcygxLGksYSksbD1DcygxLG8sYSk7cmV0dXJuIG08PWw/KHIuYXNzaWduKHMpLG0qZSk6KHIuYXNzaWduKG4pLGwqZSl9ZnVuY3Rpb24gYnMoZSx0LHMsbil7Y29uc3Qgcj17c3RhY2s6W10sZXJyb3I6dm9pZCAwLGhhc0Vycm9yOiExfTt0cnl7Y29uc3QgaT16dChyLG5ldyBDYywhMSk7cmV0dXJuIERjLmdlb2RldGljRGlzdGFuY2UoZSx0LHMueCxzLnksbi54LG4ueSxpLG51bGwsbnVsbCxiYy5QRV9MSU5FVFlQRV9HRU9ERVNJQyksaS52YWx9Y2F0Y2goaSl7ci5lcnJvcj1pLHIuaGFzRXJyb3I9ITB9ZmluYWxseXtXdChyKX19ZnVuY3Rpb24gd3MoZSx0LHMsbixyKXtzd2l0Y2goYShzLmlzRmluaXRlKCkmJm4uaXNGaW5pdGUoKSkscil7Y2FzZSAwOnJldHVybiBicyhlLHQscyxuKTtjYXNlIDE6cmV0dXJuIFRzKGUsdCxzKTtjYXNlIDI6Y2FzZSAzOntjb25zdCByPWRzKGUsdCxzKSxpPWRzKGUsdCxuKTtyZXR1cm4gUmUuZGlzdGFuY2UocixpKX1kZWZhdWx0OnUoXCJcIil9fWZ1bmN0aW9uIHZzKGUsdCxzLG4scixpPTAsbyl7aWYoMj09PWl8fDM9PT1pKXJldHVybiBOcyhlLHQscyxuLHIsMz09PWksbyk7Y29uc3QgYT1QcyhlLHQscyksaD1zPT57Y29uc3Qgbz1QcyhlLHQsUmUubGVycChuLHIscykpO3JldHVybiB3cyhlLHQsYSxvLGkpfSxtPVJlLmRpc3RhbmNlKG4scik7aWYobT4wKXtjb25zdCBzPU9zKGUsbSkse2ZpcnN0Omksc2Vjb25kOmF9PWNzKGgsMCwxLHMpO3JldHVybiBvJiZvLmFzc2lnbihFcyhlLHQsUmUubGVycChuLHIsaSkpKSxtdChpLGEpfXtjb25zdCBlPWgoMCk7cmV0dXJuIG8mJm8uYXNzaWduKG4pLG10KC41LGUpfX1mdW5jdGlvbiBOcyhlLHQscyxuLHIsaT0hMSxvKXtjb25zdCBhPUVzKGUsdCxzKTtpZihpKXtjb25zdCBpPW5ldyBncyh7cHQwOm5ldyBSZSgwLDAsMCkscHQxOm4scHQyOnJ9KSxoPWkuY2xvc2VzdENvb3JkaW5hdGUocyksbT1pLmNsb3Nlc3RDb29yZGluYXRlKG4pLGw9aS5jbG9zZXN0Q29vcmRpbmF0ZShyKSxnPVFlLmdldENsb3Nlc3RDb29yZGluYXRlKG0sbCxoKSx1PUVzKGUsdCxSZS5sZXJwKG4scixnKSksYz1SZS5kaXN0YW5jZSh1LGEpO3JldHVybiBvJiZvLmFzc2lnbih1KSxtdChnLGMpfWNvbnN0IGg9cz0+e2NvbnN0IGk9RXMoZSx0LFJlLmxlcnAobixyLHMpKTtyZXR1cm4gUmUuZGlzdGFuY2UoaSxhKX0sbT1SZS5kaXN0YW5jZShuLHIpO2lmKG0+MCl7Y29uc3Qgcz1PcyhlLG0pLHtmaXJzdDppLHNlY29uZDphfT1jcyhoLDAsMSxzKTtyZXR1cm4gbyYmby5hc3NpZ24oRXMoZSx0LFJlLmxlcnAobixyLGkpKSksbXQoaSxhKX17Y29uc3QgZT1SZS5kaXN0YW5jZShzLG4pO3JldHVybiBvJiZvLmFzc2lnbihzKSxtdCguNSxlKX19ZnVuY3Rpb24gVHMoZSx0LHMsbil7Y29uc3Qgcj17c3RhY2s6W10sZXJyb3I6dm9pZCAwLGhhc0Vycm9yOiExfTt0cnl7Y29uc3Qgbj16dChyLG5ldyBDYywhMSk7cmV0dXJuIERjLmdyZWF0RWxsaXB0aWNEaXN0YW5jZShlLHQscy54LHMueSxzLngscy55LG4sbnVsbCxudWxsKSxuLnZhbH1jYXRjaChpKXtyLmVycm9yPWksci5oYXNFcnJvcj0hMH1maW5hbGx5e1d0KHIpfX1mdW5jdGlvbiBHcyhlLHQscyxuLHIpe2lmKE1hdGguYWJzKHMueC1uLngpPk1hdGguUEkpcmV0dXJuIE51bWJlci5OYU47aWYoTWF0aC5hYnMocy55KT5DdHx8TWF0aC5hYnMobi55KT5DdClyZXR1cm4gTnVtYmVyLk5hTjtpZigoTWF0aC5hYnMocy55KT09PUN0fHxNYXRoLmFicyhuLnkpPT09Q3QpJiZzLnghPT1uLngpcmV0dXJuIE51bWJlci5OYU47Y29uc3R7Zmlyc3Q6aSxzZWNvbmQ6b309a3Qocy54LG4ueCk7bGV0IGE9cjthPV9zKGEsaSxvKTtpZighYXQuY29uc3RydWN0KHMueCxuLngpLmNvbnRhaW5zQ29vcmRpbmF0ZShhKSlyZXR1cm4gTnVtYmVyLk5hTjtjb25zdCBoPUouY29uc3RydWN0UG9pbnQyRChzKSxtPUouY29uc3RydWN0UG9pbnQyRChuKSxsPXlzKDEsdCxoKSxnPXlzKDEsdCxtKSx1PWwuY3Jvc3NQcm9kdWN0VmVjdG9yKGcpO2lmKHUuei5pc1plcm8oKSl7cmV0dXJuIHMueX1jb25zdCBjPXUueC5kaXZFKHUuei5uZWdhdGUoKSksXz11LnkuZGl2RSh1LnoubmVnYXRlKCkpLGQ9Yy5tdWxFKGMpLmFkZEUoXy5tdWxFKF8pKS5zcXJ0KCk7aWYoZC5pc1plcm8oKXx8Yy5pc1plcm8oKSYmXy5pc1plcm8oKSl7cmV0dXJuIHMueX1jb25zdCBwPU1hdGguYXRhbjIoXy52YWx1ZSgpLGMudmFsdWUoKSk7bGV0IGY9TWF0aC5hdGFuMihkLnZhbHVlKCkqTWF0aC5jb3MocC1hKSwxLXQpO2NvbnN0IHg9ZHMoMSx0LFFlLmNvbnN0cnVjdChhLGYpKSx5PVJlLmNvbnN0cnVjdCh4LngseC55LC14LnopLFA9dS52YWx1ZSgpLmRvdFByb2R1Y3QoeCksRT11LnZhbHVlKCkuZG90UHJvZHVjdCh5KTtyZXR1cm4gTWF0aC5hYnMoRSk8TWF0aC5hYnMoUCkmJihmPS1mKSxmfWZ1bmN0aW9uIERzKGUsdCxzLG4scixpKXtpZihpWzBdPU51bWJlci5OYU4saVsxXT1OdW1iZXIuTmFOLE1hdGguYWJzKHMueC1uLngpPk1hdGguUEkpcmV0dXJuIDA7aWYoTWF0aC5hYnMocy55KT5DdHx8TWF0aC5hYnMobi55KT5DdClyZXR1cm4gMDtpZigoTWF0aC5hYnMocy55KT09PUN0fHxNYXRoLmFicyhuLnkpPT09Q3QpJiZzLnghPT1uLngpcmV0dXJuIDA7aWYoTWF0aC5hYnMocik+PUN0KXJldHVybiAwO2lmKHMueT4wJiZuLnk+MCYmcy55PnImJm4ueT5yfHxzLnk8MCYmbi55PDAmJnMueTxyJiZuLnk8cilyZXR1cm4gMDtjb25zdCBvPUouY29uc3RydWN0UG9pbnQyRChzKSxhPUouY29uc3RydWN0UG9pbnQyRChuKSxoPXlzKDEsdCxvKSxtPXlzKDEsdCxhKSxsPWguY3Jvc3NQcm9kdWN0VmVjdG9yKG0pO2lmKGwuei5pc1plcm8oKSl7cmV0dXJuIGF0LmNvbnN0cnVjdChzLnksbi55KS5jb250YWluc0Nvb3JkaW5hdGUocik/KGlbMF09cy54LDEpOjB9Y29uc3QgZz1sLnguZGl2RShsLnoubmVnYXRlKCkpLHU9bC55LmRpdkUobC56Lm5lZ2F0ZSgpKSxjPWcubXVsRShnKS5hZGRFKHUubXVsRSh1KSkuc3FydCgpO2lmKGMuaXNaZXJvKCl8fGcuaXNaZXJvKCkmJnUuaXNaZXJvKCkpcmV0dXJuIDA9PT1yPyhpWzBdPXMueCxpWzFdPW4ueCwyKTowO2NvbnN0IF89KDEtdCkqTWF0aC50YW4ocikvYy52YWx1ZSgpO2lmKE1hdGguYWJzKF8pPjEpcmV0dXJuIDA7Y29uc3QgZD1NYXRoLmFjb3MoXykscD1NYXRoLmF0YW4yKHUudmFsdWUoKSxnLnZhbHVlKCkpLGY9cC1kO2xldCB4PXArZDtjb25zdCB5PU1hdGgubWluKHMueCxuLngpLFA9TWF0aC5tYXgocy54LG4ueCk7X3MoZix5LFApLDAhPT1yP19zKHgseSxQKTp4PWY7bGV0IEU9MDtyZXR1cm4geTw9ZiYmZjw9UCYmKGlbRV09ZixFKyspLHghPT1mJiZ5PD14JiZ4PD1QJiYoaVtFXT14LEUrKyksRX1mdW5jdGlvbiBWcyhlLHQpe3RbMF0+LjUqTWF0aC5QST8oZVswXSs9TWF0aC5QSSx0WzBdPU1hdGguUEktdFswXSk6dFswXTwuNSotTWF0aC5QSSYmKGVbMF0tPU1hdGguUEksdFswXT0tTWF0aC5QSS10WzBdKSxhKHRbMF0+PS41Ki1NYXRoLlBJJiZ0WzBdPD0uNSpNYXRoLlBJKX1mdW5jdGlvbiBGcyhlLHQpe3JldHVybiBlKk1hdGguc3FydCgxLXQpfWZ1bmN0aW9uIEhzKGUpe3JldHVybiAxLWV9ZnVuY3Rpb24ga3MoZSx0LHMsbixyKXtuPUl0KG4sLUN0LEN0KSxyPUl0KHIsLUN0LEN0KTtjb25zdCBpPUN0LS4wMztsZXQgbztvPW4+aSYmcj5pfHxuPC1pJiZyPC1pP0FzKGUsbixyKTpNcyhlLHIpLU1zKGUsbik7cmV0dXJuLjUqKHMtdCkqbypIcyhlKX1mdW5jdGlvbiBBcyhlLHQscyl7bGV0IG49MTtpZih0PDAmJihuPS0xLHQ9LXQscz0tcyksMCE9PWUpe2NvbnN0IHI9ZSplLGk9ciplLG89WzEsKDErMTEqZSkvMTIsKDErMTE4KmUrMjQxKnIpLzM2MCwoMSsxMDg5KmUrMTA0MTkqcis4NjUxKmkpLzIwMTYwLCgxKzk4MzYqZSszMTgyNDYqcisxMDI3NDM2KmkrNDU4ODgxKihpKmUpKS8xODE0NDAwXSxhPXQ9PntsZXQgcz0wO2NvbnN0IG49dXQodCkvKGUtMSk7Zm9yKGxldCBlPW8ubGVuZ3RoLTE7ZT49MDstLWUpcz1vW2VdK3MqbjtyZXR1cm4gcyo9LXV0KHQvKDEtZSkpLHN9LGg9YShDdC10KTtyZXR1cm4oYShDdC1zKS1oKSpufXtjb25zdCBlPUN0LXQscj1DdC1zLGk9LTQqdXQoTWF0aC5zaW4oZS8yKSk7cmV0dXJuKC00KnV0KE1hdGguc2luKHIvMikpLWkpKm59fWZ1bmN0aW9uIE1zKGUsdCl7aWYoMD09PXQpcmV0dXJuIDA7Y29uc3Qgcz1NYXRoLnNpbih0KTtsZXQgbj1zLHI9cztpZigwIT09ZSl7bi89MS1lKnMqcztjb25zdCB0PU1hdGguc3FydChlKTtyPXMqUnQodCpzKX1yZXR1cm4gbityfWZ1bmN0aW9uIFVzKGUsdCl7cmV0dXJuIGUvTWF0aC5zcXJ0KDEtdCl9ZnVuY3Rpb24gcXMoZSx0KXtyZXR1cm4oMS10KSplfWZ1bmN0aW9uIEJzKGUsdCxzKXtjb25zdCBuPXMvKDIqcXMoZSx0KSkscj1uKm47cmV0dXJuIHMqKDEtciooLjE2NjY2NjY2NjY2NjY2NjY2LS4wMDgzMzMzMzMzMzMzMzMzMzMqcikpfWZ1bmN0aW9uIE9zKGUsdCl7aWYoMCE9PXQpe2NvbnN0IHM9ZSpPdCgpL3Q7cmV0dXJuIE1hdGgubWluKHMsMWUtMTApfXJldHVybiAwfWNsYXNzIFlze2NvbnN0cnVjdG9yKGUpe3RoaXMubV9jdXJyZW50U2hpZnQ9NjNuLHRoaXMubV9jdXJyZW50RWx0PTBuLHRoaXMubV9pQ3VycmVudEVsdD0tMSx0aGlzLm1fcGFyZW50PWUsdGhpcy5tX2FpU2V0RWx0cz1lLm1fYml0cy5mbGF0TWFwKCgoZSx0KT0+dCkpfW5leHQoKXtpZih0aGlzLm1fY3VycmVudFNoaWZ0KyssNjRuPT09dGhpcy5tX2N1cnJlbnRTaGlmdCl7aWYodGhpcy5tX2lDdXJyZW50RWx0KyssdGhpcy5tX2lDdXJyZW50RWx0PT09dGhpcy5tX2FpU2V0RWx0cy5sZW5ndGgpcmV0dXJuIFlzLm5wb3MoKTt0aGlzLm1fY3VycmVudFNoaWZ0PTBuLHRoaXMubV9jdXJyZW50RWx0PXRoaXMubV9wYXJlbnQubV9iaXRzW3RoaXMubV9haVNldEVsdHNbdGhpcy5tX2lDdXJyZW50RWx0XV19Zm9yKDt0aGlzLm1fY3VycmVudFNoaWZ0PDYzbiYmISh0aGlzLm1fY3VycmVudEVsdCYxbjw8dGhpcy5tX2N1cnJlbnRTaGlmdCk7KXRoaXMubV9jdXJyZW50U2hpZnQrKztyZXR1cm4gdGhpcy5tX2N1cnJlbnRFbHQmMW48PHRoaXMubV9jdXJyZW50U2hpZnQ/NjQqdGhpcy5tX2FpU2V0RWx0c1t0aGlzLm1faUN1cnJlbnRFbHRdK051bWJlcih0aGlzLm1fY3VycmVudFNoaWZ0KTp0aGlzLm5leHQoKX1zdGF0aWMgbnBvcygpe3JldHVybiBOdW1iZXIuTUFYX1NBRkVfSU5URUdFUn19ZnVuY3Rpb24gUnMoZSl7cmV0dXJuIDFuPDwoMHgzZm4mQmlnSW50KGUpKX1mdW5jdGlvbiBYcyhlKXtyZXR1cm4gZT4+Nn1jbGFzcyBMc3tjb25zdHJ1Y3RvcihlKXt0aGlzLm1fYml0cz1bXSx2b2lkIDAhPT1lJiZlLmNvcHkmJih0aGlzLm1fYml0cz1lLmNvcHkubV9iaXRzLnNsaWNlKCkpfWFzc2lnbk1vdmUoKXtyZXR1cm4gdGhpc31hc3NpZ25Db3B5KCl7cmV0dXJuIHRoaXN9aGFzQml0KGUpe2NvbnN0IHQ9UnMoZSkscz1YcyhlKTtyZXR1cm4gdm9pZCAwIT09dGhpcy5tX2JpdHNbc10mJiEhKHRoaXMubV9iaXRzW3NdJnQpfXNldEJpdChlKXtjb25zdCB0PVJzKGUpLHM9WHMoZSk7dm9pZCAwPT09dGhpcy5tX2JpdHNbc10mJih0aGlzLm1fYml0c1tzXT0wbiksdGhpcy5tX2JpdHNbc118PXR9Y2xlYXJCaXQoZSl7fWZsaXBCaXQoZSl7Y29uc3QgdD1ScyhlKSxzPVhzKGUpO3JldHVybiB2b2lkIDA9PT10aGlzLm1fYml0c1tzXSYmKHRoaXMubV9iaXRzW3NdPTBuKSx0aGlzLm1fYml0c1tzXV49dCwwbiE9PSh0aGlzLm1fYml0c1tzXSZ0KX1jbGVhcigpe3RoaXMubV9iaXRzLmxlbmd0aD0wfWlzWmVybygpe2xldCBlPTA7cmV0dXJuIHRoaXMubV9iaXRzLmZvckVhY2goKHQ9PntlfD10PzI6MX0pKSwhKDImZSl9ZXF1YWxzKGUpe2lmKHRoaXM9PT1lKXJldHVybiEwO2lmKHRoaXMubV9iaXRzLmxlbmd0aCE9PWUubV9iaXRzLmxlbmd0aClyZXR1cm4hMTtsZXQgdD0wO3JldHVybiB0aGlzLm1fYml0cy5mb3JFYWNoKCgocyxuKT0+e3R8PXM9PT1lLm1fYml0c1tuXT8yOjF9KSksISgxJnQpJiYoZS5tX2JpdHMuZm9yRWFjaCgoKGUscyk9Pnt0fD1lPT09dGhpcy5tX2JpdHNbc10/MjoxfSkpLCEoMSZ0KSl9bm90RXF1YWxzKGUpe3JldHVybiF0aGlzLmVxdWFscyhlKX1hc3NpZ25PcihlKXtyZXR1cm4gZS5tX2JpdHMuZm9yRWFjaCgoKGUsdCk9Pnt2b2lkIDA9PT10aGlzLm1fYml0c1t0XT90aGlzLm1fYml0c1t0XT1lOnRoaXMubV9iaXRzW3RdfD1lfSkpLHRoaXN9YXNzaWduU3VidHJhY3QoZSl7cmV0dXJuIGUubV9iaXRzLmZvckVhY2goKChlLHQpPT57dm9pZCAwIT09dGhpcy5tX2JpdHNbdF0mJih0aGlzLm1fYml0c1t0XSY9fmUpfSkpLHRoaXN9YXNzaWduQW5kKGUpe3JldHVybiBlLm1fYml0cy5mb3JFYWNoKCgoZSx0KT0+e3ZvaWQgMCE9PXRoaXMubV9iaXRzW3RdJiYodGhpcy5tX2JpdHNbdF0mPWUpfSkpLHRoaXN9YXNzaWduWG9yKGUpe3JldHVybiBlLm1fYml0cy5mb3JFYWNoKCgoZSx0KT0+e3ZvaWQgMD09PXRoaXMubV9iaXRzW3RdP3RoaXMubV9iaXRzW3RdPWU6dGhpcy5tX2JpdHNbdF1ePWV9KSksdGhpc31nZXRIYXNoQ29kZSgpe3JldHVybiB0aGlzLm1fYml0cy5yZWR1Y2UoKChlLHQpPT5QdChlLHQpKSxaZSgwKSl9Z2V0VW5vcmRlcmVkQml0SXRlcmF0b3IoKXtyZXR1cm4gbmV3IFlzKHRoaXMpfX1jbGFzcyB6c3tjb25zdHJ1Y3RvcihlLHQpe3RoaXMubV9tYXA9bmV3IE1hcCx0aGlzLm1faGY9ZSx0aGlzLm1fZWY9dH1hZGQoZSl7Y29uc3QgdD10aGlzLm1faGYoZSk7aWYoIXRoaXMubV9tYXAuaGFzKHQpKXJldHVybiB0aGlzLm1fbWFwLnNldCh0LGUpLHRoaXM7Y29uc3Qgcz10aGlzLm1fbWFwLmdldCh0KTtyZXR1cm4gcyBpbnN0YW5jZW9mIEFycmF5P3MuZmluZCgodD0+dGhpcy5tX2VmKHQsZSkpKXx8cy5wdXNoKGUpOnRoaXMubV9lZihzLGUpfHx0aGlzLm1fbWFwLnNldCh0LFtzLGVdKSx0aGlzfWNsZWFyKCl7dGhpcy5tX21hcC5jbGVhcigpfWRlbGV0ZShlKXtyZXR1cm4hMX1oYXMoZSl7Y29uc3QgdD10aGlzLm1faGYoZSk7aWYoIXRoaXMubV9tYXAuaGFzKHQpKXJldHVybiExO2NvbnN0IHM9dGhpcy5tX21hcC5nZXQodCk7cmV0dXJuIHMgaW5zdGFuY2VvZiBBcnJheT92b2lkIDAhPT1zLmZpbmQoKHQ9PnRoaXMubV9lZih0LGUpKSk6dGhpcy5tX2VmKHMsZSl9Z2V0KGUpe2NvbnN0IHQ9dGhpcy5tX2hmKGUpLHM9dGhpcy5tX21hcC5nZXQodCk7aWYodm9pZCAwIT09cylyZXR1cm4gcyBpbnN0YW5jZW9mIEFycmF5P3MuZmluZCgodD0+dGhpcy5tX2VmKHQsZSkpKTpzfWdldCBzaXplKCl7bGV0IGU9MDtmb3IoY29uc3QgdCBvZiB0aGlzLm1fbWFwLnZhbHVlcygpKWUrPXQgaW5zdGFuY2VvZiBBcnJheT90Lmxlbmd0aDoxO3JldHVybiBlfWZvckVhY2goZSx0KXt9W1N5bWJvbC5pdGVyYXRvcl0oKXtyZXR1cm4obmV3IFNldClbU3ltYm9sLml0ZXJhdG9yXSgpfWVudHJpZXMoKXtyZXR1cm4obmV3IFNldCkuZW50cmllcygpfWtleXMoKXtyZXR1cm4obmV3IFNldCkua2V5cygpfXZhbHVlcygpe3JldHVybihuZXcgU2V0KS52YWx1ZXMoKX1nZXRbU3ltYm9sLnRvU3RyaW5nVGFnXSgpe3JldHVyblwiVmFsdWVTZXRcIn19Y2xhc3MgV3MgZXh0ZW5kcyBZZXtjb25zdHJ1Y3RvcihlKXtzdXBlcigpLHRoaXMubV9idWZmZXJMZWZ0PW5ldyBGLHRoaXMubV9idWZmZXJSaWdodD1uZXcgRix0aGlzLm1faW50ZXJ2YWxMZWZ0PWF0LmNvbnN0cnVjdEVtcHR5KCksdGhpcy5tX2ludGVydmFsUmlnaHQ9YXQuY29uc3RydWN0RW1wdHkoKSx0aGlzLm1feVNjYW5saW5lPU51bWJlci5OYU4sdGhpcy5tX2hlbHBlcj1lfWNvbXBhcmUoZSx0LHMpe2NvbnN0IG49dCxyPWUuZ2V0RWxlbWVudChzKTt0aGlzLm1faGVscGVyLnF1ZXJ5U2VnbWVudFhZKG4sdGhpcy5tX2J1ZmZlckxlZnQpLHRoaXMubV9oZWxwZXIucXVlcnlTZWdtZW50WFkocix0aGlzLm1fYnVmZmVyUmlnaHQpO2NvbnN0IGk9dGhpcy5tX2J1ZmZlckxlZnQuZ2V0KCksbz10aGlzLm1fYnVmZmVyUmlnaHQuZ2V0KCk7aWYodGhpcy5tX2ludGVydmFsTGVmdC5zZXRDb29yZHMoaS5nZXRTdGFydFgoKSxpLmdldEVuZFgoKSksdGhpcy5tX2ludGVydmFsUmlnaHQuc2V0Q29vcmRzKG8uZ2V0U3RhcnRYKCksby5nZXRFbmRYKCkpLHRoaXMubV9pbnRlcnZhbExlZnQudm1heDx0aGlzLm1faW50ZXJ2YWxSaWdodC52bWluKXJldHVybi0xO2lmKHRoaXMubV9pbnRlcnZhbExlZnQudm1pbj50aGlzLm1faW50ZXJ2YWxSaWdodC52bWF4KXJldHVybiAxO2NvbnN0IGE9aS5nZXRTdGFydFkoKT09PWkuZ2V0RW5kWSgpLGg9by5nZXRTdGFydFkoKT09PW8uZ2V0RW5kWSgpO2lmKGF8fGgpe2lmKGEmJmgpcmV0dXJuIDA7aWYoaS5nZXRTdGFydFkoKT09PW8uZ2V0U3RhcnRZKCkmJmkuZ2V0U3RhcnRYKCk9PT1vLmdldFN0YXJ0WCgpKXJldHVybiBhPzE6LTE7aWYoaS5nZXRFbmRZKCk9PT1vLmdldEVuZFkoKSYmaS5nZXRFbmRYKCk9PT1vLmdldEVuZFgoKSlyZXR1cm4gYT8tMToxfWxldCBtPWkuaW50ZXJzZWN0aW9uT2ZZTW9ub3RvbmljV2l0aEF4aXNYKHRoaXMubV95U2NhbmxpbmUsdGhpcy5tX2ludGVydmFsTGVmdC52bWluKSxsPW8uaW50ZXJzZWN0aW9uT2ZZTW9ub3RvbmljV2l0aEF4aXNYKHRoaXMubV95U2NhbmxpbmUsdGhpcy5tX2ludGVydmFsUmlnaHQudm1pbik7aWYobT09PWwpe2NvbnN0IGU9aS5nZXRFbmRZKCksdD1vLmdldEVuZFkoKSxzPU1hdGgubWluKGUsdCk7bGV0IG49LjUqKHMrdGhpcy5tX3lTY2FubGluZSk7bj09PXRoaXMubV95U2NhbmxpbmUmJihuPXMpLG09aS5pbnRlcnNlY3Rpb25PZllNb25vdG9uaWNXaXRoQXhpc1gobix0aGlzLm1faW50ZXJ2YWxMZWZ0LnZtaW4pLGw9by5pbnRlcnNlY3Rpb25PZllNb25vdG9uaWNXaXRoQXhpc1gobix0aGlzLm1faW50ZXJ2YWxSaWdodC52bWluKX1yZXR1cm4gbTxsPy0xOm0+bD8xOjB9c2V0WShlKXt0aGlzLm1feVNjYW5saW5lPWV9fWNsYXNzIGpze2NvbnN0cnVjdG9yKGUpe3RoaXMubV9zZWdtZW50QnVmZmVyPW5ldyBGLHRoaXMubV9wb2ludD1RZS5nZXROQU4oKSx0aGlzLm1fcGFyZW50PWV9c2V0UG9pbnRYWShlKXt0aGlzLm1fcG9pbnQuYXNzaWduKGUpfWNvbXBhcmUoZSx0KXtjb25zdCBzPWUuZ2V0RWxlbWVudCh0KTt0aGlzLm1fcGFyZW50LnF1ZXJ5U2VnbWVudFhZKHMsdGhpcy5tX3NlZ21lbnRCdWZmZXIpO2NvbnN0IG49dGhpcy5tX3NlZ21lbnRCdWZmZXIuZ2V0KCkscj1uZXcgYXQ7aWYoci5zZXRDb29yZHMobi5nZXRTdGFydFgoKSxuLmdldEVuZFgoKSksdGhpcy5tX3BvaW50Lng8ci52bWluKXJldHVybi0xO2lmKHRoaXMubV9wb2ludC54PnIudm1heClyZXR1cm4gMTtjb25zdCBpPW4uaW50ZXJzZWN0aW9uT2ZZTW9ub3RvbmljV2l0aEF4aXNYKHRoaXMubV9wb2ludC55LHRoaXMubV9wb2ludC54KTtyZXR1cm4gdGhpcy5tX3BvaW50Lng8aT8tMTp0aGlzLm1fcG9pbnQueD5pPzE6MH19dmFyIFpzLEtzO2Z1bmN0aW9uIFFzKGUsdCl7cmV0dXJue3BhcmVudGFnZTplLHJhbms6dH19ZnVuY3Rpb24gSnMoZSx0KXtjb25zdCBzPWUubGVuZ3RoO2lmKHMhPT10Lmxlbmd0aClyZXR1cm4hMTtjb25zdCBuPWVbMF0ucGFyZW50YWdlO2lmKG4hPT10WzBdLnBhcmVudGFnZSlyZXR1cm4hMTtpZigtMT09PW4pcmV0dXJuITA7Zm9yKGxldCByPTE7cjxzOysrcilpZihlW3JdLnBhcmVudGFnZSE9PXRbcl0ucGFyZW50YWdlKXJldHVybiExO3JldHVybiEwfWZ1bmN0aW9uICRzKGUsdCxzKXtzLmxlbmd0aD0wO2xldCBuPSExO3tsZXQgcj1lLmdldEhhbGZFZGdlVmVydGV4SXRlcmF0b3IodCk7Zm9yKDtyIT09TTspe2NvbnN0IHQ9ZS5nZXRWZXJ0ZXhGcm9tVmVydGV4SXRlcmF0b3IociksaT1lLmdldFNoYXBlKCkuZ2V0U2VnbWVudFJhbmsodCksbz1lLmdldFNoYXBlKCkuZ2V0U2VnbWVudFBhcmVudGFnZSh0KTtufHw9bz49MCxzLnB1c2goUXMobyxpKSkscj1lLmluY3JlbWVudFZlcnRleEl0ZXJhdG9yKHIpfX17bGV0IHI9ZS5nZXRIYWxmRWRnZVZlcnRleEl0ZXJhdG9yKGUuZ2V0SGFsZkVkZ2VUd2luKHQpKTtmb3IoO3IhPT1NOyl7Y29uc3QgdD1lLmdldFZlcnRleEZyb21WZXJ0ZXhJdGVyYXRvcihyKSxpPWUuZ2V0U2hhcGUoKS5nZXRTZWdtZW50UmFuayh0KSxvPWUuZ2V0U2hhcGUoKS5nZXRTZWdtZW50UGFyZW50YWdlKHQpO258fD1vPj0wLHMucHVzaChRcyhvLGkpKSxyPWUuaW5jcmVtZW50VmVydGV4SXRlcmF0b3Iocil9fW4mJnMuc29ydCgoKGUsdCk9PmUucmFuaz50LnJhbms/LTE6ZS5yYW5rPHQucmFuaz8xOmUucGFyZW50YWdlPHQucGFyZW50YWdlPy0xOmUucGFyZW50YWdlPnQucGFyZW50YWdlPzE6MCkpLC0xPT09c1swXS5wYXJlbnRhZ2UmJihzLmxlbmd0aD0xKX1mdW5jdGlvbiBlbigpe3JldHVybiBuZXcgenMoKGU9PmUuZ2V0SGFzaENvZGUoKSksKChlLHQpPT5lLmVxdWFscyh0KSkpfSFmdW5jdGlvbihlKXtlW2UuZW51bUlucHV0TW9kZUJ1aWxkR3JhcGg9MF09XCJlbnVtSW5wdXRNb2RlQnVpbGRHcmFwaFwiLGVbZS5lbnVtSW5wdXRNb2RlU2ltcGxpZnlBbHRlcm5hdGU9MV09XCJlbnVtSW5wdXRNb2RlU2ltcGxpZnlBbHRlcm5hdGVcIixlW2UuZW51bUlucHV0TW9kZVNpbXBsaWZ5V2luZGluZz0yXT1cImVudW1JbnB1dE1vZGVTaW1wbGlmeVdpbmRpbmdcIn0oWnN8fChacz17fSkpLGZ1bmN0aW9uKGUpe2VbZS5lbnVtU2VnbWVudFBhcmVudGFnZUJyZWFrTm9kZT0xXT1cImVudW1TZWdtZW50UGFyZW50YWdlQnJlYWtOb2RlXCIsZVtlLmVudW1QYXRoQnJlYWtOb2RlPTJdPVwiZW51bVBhdGhCcmVha05vZGVcIn0oS3N8fChLcz17fSkpO2NsYXNzIHRue2NvbnN0cnVjdG9yKCl7dGhpcy5tX3NoYXBlPW51bGwsdGhpcy5tX2NsdXN0ZXJEYXRhPW5ldyBCZSg4KSx0aGlzLm1fY2x1c3RlclZlcnRpY2VzPW5ldyBCZSgyKSx0aGlzLm1fZmlyc3RDbHVzdGVyPU0sdGhpcy5tX2xhc3RDbHVzdGVyPU0sdGhpcy5tX2hhbGZFZGdlRGF0YT1uZXcgQmUoOCksdGhpcy5tX2NoYWluRGF0YT1uZXcgQmUoOCksdGhpcy5tX2NoYWluQXJlYXM9bnVsbCx0aGlzLm1fY2hhaW5QZXJpbWV0ZXJzPW51bGwsdGhpcy5tX3VuaXZlcnNlQ2hhaW49LTEsdGhpcy5tX3NpbXBsaWZpZWRHZW9tZXRyeT0tMSx0aGlzLm1fZWRnZUluZGljZXM9W10sdGhpcy5tX2NsdXN0ZXJJbmRpY2VzPVtdLHRoaXMubV9jaGFpbkluZGljZXM9W10sdGhpcy5tX2JCdWlsZEdlb21ldHJ5UGFyZW50YWdlU2V0cz0hMSx0aGlzLm1fY2hhaW5CaXRTZXRJbmRleD0tMSx0aGlzLm1fZWRnZUJpdFNldEluZGV4PS0xLHRoaXMubV9lZGdlQml0U2V0SW5kZXhMZWZ0PS0xLHRoaXMubV9lbXB0eUJpdFNldD1udWxsLHRoaXMubV9nZW9tZXRyeU1hcElEPW51bGwsdGhpcy5tX3VuaXF1ZUJpdFNldHM9bnVsbCx0aGlzLm1fY2hhaW5CaXRTZXRzPVtdLHRoaXMubV9lZGdlQml0U2V0cz1bXSx0aGlzLm1fY2hlY2tEaXJ0eVBsYW5lc3dlZXBUb2xlcmFuY2U9TnVtYmVyLk5hTix0aGlzLm1fZ2VvbWV0cnlJREluZGV4PS0xLHRoaXMubV9jbHVzdGVySW5kZXg9LTEsdGhpcy5tX2hhbGZFZGdlSW5kZXg9LTEsdGhpcy5tX3RtcEhhbGZFZGdlUGFyZW50YWdlSW5kZXg9LTEsdGhpcy5tX3RtcEhhbGZFZGdlUGFyZW50YWdlSW5kZXhMZWZ0PS0xLHRoaXMubV90bXBIYWxmRWRnZVdpbmRpbmdOdW1iZXJJbmRleD0tMSx0aGlzLm1fdG1wSGFsZkVkZ2VPZGRFdmVuTnVtYmVySW5kZXg9LTEsdGhpcy5tX3NlZ21lbnRQYXJlbnRhZ2VJbmRleD0tMSx0aGlzLm1fc2VnbWVudEluZGV4SGU9LTEsdGhpcy5tX2NsdXN0ZXJCcmVha05vZGVJbmRleD0tMSx0aGlzLm1fdW5pdmVyc2VHZW9tSUQ9LTEsdGhpcy5tX3BvaW50Q291bnQ9MCx0aGlzLm1fcHJvZ3Jlc3NDb3VudGVyPTAsdGhpcy5tX2JCdWlsZENoYWlucz0hMCx0aGlzLm1fYkRpcnR5Q2hlY2tGYWlsZWQ9ITF9c2V0Q2hlY2tEaXJ0eVBsYW5lc3dlZXBUb2xlcmFuY2UoZSl7dGhpcy5tX2NoZWNrRGlydHlQbGFuZXN3ZWVwVG9sZXJhbmNlPWV9ZGlydHlDaGVja0ZhaWxlZCgpe3JldHVybiB0aGlzLm1fYkRpcnR5Q2hlY2tGYWlsZWR9Z2V0U2hhcGUoKXtyZXR1cm4gdGhpcy5tX3NoYXBlfXNldEVkaXRTaGFwZShlLHQscz0hMCxuPSExKXtuP3RoaXMuc2V0RWRpdFNoYXBlSW1wbDNEXyhlLFpzLmVudW1JbnB1dE1vZGVCdWlsZEdyYXBoLG51bGwsdCwhMSk6dGhpcy5zZXRFZGl0U2hhcGVJbXBsXyhlLFpzLmVudW1JbnB1dE1vZGVCdWlsZEdyYXBoLG51bGwsdCxzKX1zZXRBbmRTaW1wbGlmeUVkaXRTaGFwZUFsdGVybmF0ZShlLHQscz1udWxsLHI9ITEpe2NvbnN0IGk9W107aS5wdXNoKHQpLHRoaXMubV9zaW1wbGlmaWVkR2VvbWV0cnk9dCxyP3RoaXMuc2V0RWRpdFNoYXBlSW1wbDNEXyhlLFpzLmVudW1JbnB1dE1vZGVTaW1wbGlmeUFsdGVybmF0ZSxpLHMsITEpOnRoaXMuc2V0RWRpdFNoYXBlSW1wbF8oZSxacy5lbnVtSW5wdXRNb2RlU2ltcGxpZnlBbHRlcm5hdGUsaSxzLGUuZ2V0R2VvbWV0cnlUeXBlKHQpPT09bi5lbnVtUG9seWdvbil9c2V0QW5kU2ltcGxpZnlFZGl0U2hhcGVXaW5kaW5nKGUsdCxzPW51bGwpe2NvbnN0IG49W107bi5wdXNoKHQpLHRoaXMubV9zaW1wbGlmaWVkR2VvbWV0cnk9dCx0aGlzLnNldEVkaXRTaGFwZUltcGxfKGUsWnMuZW51bUlucHV0TW9kZVNpbXBsaWZ5V2luZGluZyxuLHMsITApfXJlbW92ZVNoYXBlKCl7bnVsbCE9PXRoaXMubV9zaGFwZSYmKC0xIT09dGhpcy5tX2dlb21ldHJ5SURJbmRleCYmKHRoaXMubV9zaGFwZS5yZW1vdmVHZW9tZXRyeVVzZXJJbmRleCh0aGlzLm1fZ2VvbWV0cnlJREluZGV4KSx0aGlzLm1fZ2VvbWV0cnlJREluZGV4PS0xKSwtMSE9PXRoaXMubV9jbHVzdGVySW5kZXgmJih0aGlzLm1fc2hhcGUucmVtb3ZlVXNlckluZGV4KHRoaXMubV9jbHVzdGVySW5kZXgpLHRoaXMubV9jbHVzdGVySW5kZXg9LTEpLC0xIT09dGhpcy5tX2hhbGZFZGdlSW5kZXgmJih0aGlzLm1fc2hhcGUucmVtb3ZlVXNlckluZGV4KHRoaXMubV9oYWxmRWRnZUluZGV4KSx0aGlzLm1faGFsZkVkZ2VJbmRleD0tMSksLTEhPT10aGlzLm1fdG1wSGFsZkVkZ2VQYXJlbnRhZ2VJbmRleCYmKHRoaXMuZGVsZXRlVXNlckluZGV4Rm9ySGFsZkVkZ2VzKHRoaXMubV90bXBIYWxmRWRnZVBhcmVudGFnZUluZGV4KSx0aGlzLm1fdG1wSGFsZkVkZ2VQYXJlbnRhZ2VJbmRleD0tMSksLTEhPT10aGlzLm1fdG1wSGFsZkVkZ2VQYXJlbnRhZ2VJbmRleExlZnQmJih0aGlzLmRlbGV0ZVVzZXJJbmRleEZvckhhbGZFZGdlcyh0aGlzLm1fdG1wSGFsZkVkZ2VQYXJlbnRhZ2VJbmRleExlZnQpLHRoaXMubV90bXBIYWxmRWRnZVBhcmVudGFnZUluZGV4TGVmdD0tMSksLTEhPT10aGlzLm1fdG1wSGFsZkVkZ2VXaW5kaW5nTnVtYmVySW5kZXgmJih0aGlzLmRlbGV0ZVVzZXJJbmRleEZvckhhbGZFZGdlcyh0aGlzLm1fdG1wSGFsZkVkZ2VXaW5kaW5nTnVtYmVySW5kZXgpLHRoaXMubV90bXBIYWxmRWRnZVdpbmRpbmdOdW1iZXJJbmRleD0tMSksLTEhPT10aGlzLm1fdG1wSGFsZkVkZ2VPZGRFdmVuTnVtYmVySW5kZXgmJih0aGlzLmRlbGV0ZVVzZXJJbmRleEZvckhhbGZFZGdlcyh0aGlzLm1fdG1wSGFsZkVkZ2VPZGRFdmVuTnVtYmVySW5kZXgpLHRoaXMubV90bXBIYWxmRWRnZU9kZEV2ZW5OdW1iZXJJbmRleD0tMSksLTEhPT10aGlzLm1fc2VnbWVudFBhcmVudGFnZUluZGV4JiYodGhpcy5kZWxldGVVc2VySW5kZXhGb3JIYWxmRWRnZXModGhpcy5tX3NlZ21lbnRQYXJlbnRhZ2VJbmRleCksdGhpcy5tX3NlZ21lbnRQYXJlbnRhZ2VJbmRleD0tMSksLTEhPT10aGlzLm1fc2VnbWVudEluZGV4SGUmJih0aGlzLmRlbGV0ZVVzZXJJbmRleEZvckhhbGZFZGdlcyh0aGlzLm1fc2VnbWVudEluZGV4SGUpLHRoaXMubV9zZWdtZW50SW5kZXhIZT0tMSksLTEhPT10aGlzLm1fY2x1c3RlckJyZWFrTm9kZUluZGV4JiYodGhpcy5kZWxldGVVc2VySW5kZXhGb3JDbHVzdGVycyh0aGlzLm1fY2x1c3RlckJyZWFrTm9kZUluZGV4KSx0aGlzLm1fY2x1c3RlckJyZWFrTm9kZUluZGV4PS0xKSx0aGlzLmRlbGV0ZUVkZ2VCaXRTZXRzXygpLHRoaXMuZGVsZXRlQ2hhaW5CaXRTZXRzXygpLHRoaXMubV9lbXB0eUJpdFNldD1udWxsLHRoaXMubV9nZW9tZXRyeU1hcElEPW51bGwsdGhpcy5tX3NoYXBlPW51bGwsdGhpcy5tX2NsdXN0ZXJEYXRhLmRlbGV0ZUFsbCghMCksdGhpcy5tX2NsdXN0ZXJWZXJ0aWNlcy5kZWxldGVBbGwoITApLHRoaXMubV9maXJzdENsdXN0ZXI9TSx0aGlzLm1fbGFzdENsdXN0ZXI9TSx0aGlzLm1faGFsZkVkZ2VEYXRhLmRlbGV0ZUFsbCghMCksdGhpcy5tX2VkZ2VJbmRpY2VzLmxlbmd0aD0wLHRoaXMubV9jbHVzdGVySW5kaWNlcy5sZW5ndGg9MCx0aGlzLm1fY2hhaW5JbmRpY2VzLmxlbmd0aD0wLHRoaXMubV9jaGFpbkRhdGEuZGVsZXRlQWxsKCEwKSx0aGlzLm1fdW5pdmVyc2VDaGFpbj1NLHRoaXMubV9jaGFpbkFyZWFzPW51bGwpfWdldENsdXN0ZXJIYWxmRWRnZShlKXtyZXR1cm4gdGhpcy5tX2NsdXN0ZXJEYXRhLmdldEZpZWxkKGUsMil9cXVlcnlYWShlLHQpe2NvbnN0IHM9dGhpcy5nZXRDbHVzdGVyVmVydGV4SW5kZXhfKGUpO3QuYXNzaWduKHRoaXMubV9zaGFwZS5nZXRYWVdpdGhJbmRleChzKSl9cXVlcnlYWVooZSx0KXthKDApfWdldENsdXN0ZXJQYXJlbnRhZ2UoZSl7cmV0dXJuIHRoaXMubV9jbHVzdGVyRGF0YS5nZXRGaWVsZChlLDEpfWdldEZpcnN0Q2x1c3Rlcigpe3JldHVybiB0aGlzLm1fZmlyc3RDbHVzdGVyfWdldFByZXZDbHVzdGVyKGUpe3JldHVybiB0aGlzLm1fY2x1c3RlckRhdGEuZ2V0RmllbGQoZSwzKX1nZXROZXh0Q2x1c3RlcihlKXtyZXR1cm4gdGhpcy5tX2NsdXN0ZXJEYXRhLmdldEZpZWxkKGUsNCl9Z2V0Q2x1c3RlckNoYWluKGUpe3JldHVybiB0aGlzLm1fY2x1c3RlckRhdGEuZ2V0RmllbGQoZSw2KX1nZXRDbHVzdGVyVmVydGV4SXRlcmF0b3IoZSl7cmV0dXJuIHRoaXMubV9jbHVzdGVyRGF0YS5nZXRGaWVsZChlLDcpfWluY3JlbWVudFZlcnRleEl0ZXJhdG9yKGUpe3JldHVybiB0aGlzLm1fY2x1c3RlclZlcnRpY2VzLmdldEZpZWxkKGUsMSl9Z2V0VmVydGV4RnJvbVZlcnRleEl0ZXJhdG9yKGUpe3JldHVybiB0aGlzLm1fY2x1c3RlclZlcnRpY2VzLmdldEZpZWxkKGUsMCl9Z2V0Q2x1c3RlclVzZXJJbmRleChlLHQpe2NvbnN0IHM9dGhpcy5nZXRDbHVzdGVySW5kZXhfKGUpLG49dGhpcy5tX2NsdXN0ZXJJbmRpY2VzW3RdO3JldHVybiBuLnNpemUoKTw9cz8tMTpuLnJlYWQocyl9c2V0Q2x1c3RlclVzZXJJbmRleChlLHQscyl7Y29uc3Qgbj10aGlzLmdldENsdXN0ZXJJbmRleF8oZSkscj10aGlzLm1fY2x1c3RlckluZGljZXNbdF07ci5zaXplKCk8PW4mJnIucmVzaXplKHRoaXMubV9jbHVzdGVyRGF0YS5zaXplKCksLTEpLHIud3JpdGUobixzKX1oYXNDbHVzdGVyVXNlckluZGV4RmxhZ3MoZSx0LHMpe2lmKC0xPT09dClyZXR1cm4hMTtjb25zdCBuPXRoaXMuZ2V0Q2x1c3RlclVzZXJJbmRleChlLHQpO3JldHVybi0xIT09biYmMCE9PShzJm4pfXNldENsdXN0ZXJVc2VySW5kZXhGbGFncyhlLHQscyl7Y29uc3Qgbj10aGlzLmdldENsdXN0ZXJJbmRleF8oZSkscj10aGlzLm1fY2x1c3RlckluZGljZXNbdF07ci5zaXplKCk8PW4mJnIucmVzaXplKHRoaXMubV9jbHVzdGVyRGF0YS5zaXplKCksLTEpO2xldCBpPXIucmVhZChuKTstMT09PWkmJihpPTApLHIud3JpdGUobixzfGkpfWNsZWFyQ2x1c3RlclVzZXJJbmRleEZsYWdzKGUsdCxzKXtjb25zdCBuPXRoaXMuZ2V0Q2x1c3RlckluZGV4XyhlKSxyPXRoaXMubV9jbHVzdGVySW5kaWNlc1t0XTtyLnNpemUoKTw9biYmci5yZXNpemUodGhpcy5tX2NsdXN0ZXJEYXRhLnNpemUoKSwtMSk7bGV0IGk9ci5yZWFkKG4pOy0xPT09aSYmKGk9MCksci53cml0ZShuLH5zJmkpfWNyZWF0ZVVzZXJJbmRleEZvckNsdXN0ZXJzKGU9LTEpe2NvbnN0IHQ9bmV3IENlKHRoaXMubV9jbHVzdGVyRGF0YS5jYXBhY2l0eSgpLGUpO2ZvcihsZXQgcz0wLG49dGhpcy5tX2NsdXN0ZXJJbmRpY2VzLmxlbmd0aDtzPG47cysrKWlmKG51bGw9PT10aGlzLm1fY2x1c3RlckluZGljZXNbc10pcmV0dXJuIHRoaXMubV9jbHVzdGVySW5kaWNlc1tzXT10LHM7dGhpcy5tX2NsdXN0ZXJJbmRpY2VzLnB1c2godCk7cmV0dXJuIHRoaXMubV9jbHVzdGVySW5kaWNlcy5sZW5ndGgtMX1kZWxldGVVc2VySW5kZXhGb3JDbHVzdGVycyhlKXt0aGlzLm1fY2x1c3RlckluZGljZXNbZV09bnVsbH1nZXRIYWxmRWRnZU9yaWdpbihlKXtyZXR1cm4gdGhpcy5tX2hhbGZFZGdlRGF0YS5nZXRGaWVsZChlLDEpfWdldEhhbGZFZGdlVG8oZSl7cmV0dXJuIHRoaXMuZ2V0SGFsZkVkZ2VPcmlnaW4odGhpcy5nZXRIYWxmRWRnZVR3aW4oZSkpfWdldEhhbGZFZGdlVHdpbihlKXtyZXR1cm4gdGhpcy5tX2hhbGZFZGdlRGF0YS5nZXRGaWVsZChlLDQpfWdldEhhbGZFZGdlUHJldihlKXtyZXR1cm4gdGhpcy5tX2hhbGZFZGdlRGF0YS5nZXRGaWVsZChlLDUpfWdldEhhbGZFZGdlTmV4dChlKXtyZXR1cm4gdGhpcy5tX2hhbGZFZGdlRGF0YS5nZXRGaWVsZChlLDYpfWdldEhhbGZFZGdlQ2hhaW4oZSl7cmV0dXJuIHRoaXMubV9oYWxmRWRnZURhdGEuZ2V0RmllbGQoZSwyKX1nZXRIYWxmRWRnZUZhY2VQYXJlbnRhZ2UoZSl7cmV0dXJuIHRoaXMuZ2V0Q2hhaW5QYXJlbnRhZ2UodGhpcy5nZXRIYWxmRWRnZUNoYWluKGUpKX1nZXRIYWxmRWRnZVZlcnRleEl0ZXJhdG9yKGUpe3JldHVybiB0aGlzLm1faGFsZkVkZ2VEYXRhLmdldEZpZWxkKGUsNyl9Z2V0SGFsZkVkZ2VGcm9tWFkoZSx0KXt0aGlzLnF1ZXJ5WFkodGhpcy5nZXRIYWxmRWRnZU9yaWdpbihlKSx0KX1nZXRIYWxmRWRnZVRvWFkoZSx0KXt0aGlzLnF1ZXJ5WFkodGhpcy5nZXRIYWxmRWRnZVRvKGUpLHQpfWlzSGFsZkVkZ2VDdXJ2ZShlKXtpZigtMSE9PXRoaXMubV9zZWdtZW50SW5kZXhIZSl7cmV0dXJuLTEhPT10aGlzLmdldEhhbGZFZGdlVXNlckluZGV4KGUsdGhpcy5tX3NlZ21lbnRJbmRleEhlKX1yZXR1cm4hMX1nZXRIYWxmRWRnZUZyb21YWVooZSx0KXthKDApfWdldEhhbGZFZGdlVG9YWVooZSx0KXthKDApfWdldEhhbGZFZGdlUGFyZW50YWdlKGUpe3JldHVybiB0aGlzLm1faGFsZkVkZ2VEYXRhLmdldEZpZWxkKGUsMykmdG4uY19FZGdlUGFyZW50YWdlTWFza31nZXRIYWxmRWRnZVVzZXJJbmRleChlLHQpe2NvbnN0IHM9dGhpcy5nZXRIYWxmRWRnZUluZGV4XyhlKSxuPXRoaXMubV9lZGdlSW5kaWNlc1t0XTtyZXR1cm4gbi5zaXplKCk8PXM/LTE6bi5yZWFkKHMpfXNldEhhbGZFZGdlVXNlckluZGV4KGUsdCxzKXtjb25zdCBuPXRoaXMuZ2V0SGFsZkVkZ2VJbmRleF8oZSkscj10aGlzLm1fZWRnZUluZGljZXNbdF07ci5zaXplKCk8PW4mJnIucmVzaXplKHRoaXMubV9oYWxmRWRnZURhdGEuc2l6ZSgpLC0xKSxyLndyaXRlKG4scyl9Y3JlYXRlVXNlckluZGV4Rm9ySGFsZkVkZ2VzKGUpe3ZvaWQgMD09PWUmJihlPS0xKTtjb25zdCB0PW5ldyBDZSh0aGlzLm1faGFsZkVkZ2VEYXRhLmNhcGFjaXR5KCksZSk7Zm9yKGxldCBuPTAscj10aGlzLm1fZWRnZUluZGljZXMubGVuZ3RoO248cjtuKyspaWYobnVsbD09PXRoaXMubV9lZGdlSW5kaWNlc1tuXSlyZXR1cm4gdGhpcy5tX2VkZ2VJbmRpY2VzW25dPXQsbjt0aGlzLm1fZWRnZUluZGljZXMucHVzaCh0KTtjb25zdCBzPXRoaXMubV9lZGdlSW5kaWNlcy5sZW5ndGgtMTtyZXR1cm4gYShzPj0wJiZzPD1OdW1iZXIuTUFYX1NBRkVfSU5URUdFUiksc31kZWxldGVVc2VySW5kZXhGb3JIYWxmRWRnZXMoZSl7dGhpcy5tX2VkZ2VJbmRpY2VzW2VdPW51bGx9ZGVsZXRlRWRnZXNCcmVha0ZhY2VzXyhlKXtmb3IobGV0IHQ9MCxzPWUubGVuZ3RoO3Q8czt0Kyspe2NvbnN0IHM9ZVt0XSxuPXRoaXMuZ2V0SGFsZkVkZ2VDaGFpbihzKSxyPXRoaXMuZ2V0SGFsZkVkZ2VUd2luKHMpLGk9dGhpcy5nZXRIYWxmRWRnZUNoYWluKHIpO3RoaXMuc2V0Q2hhaW5IYWxmRWRnZV8obixNKSx0aGlzLnNldENoYWluSGFsZkVkZ2VfKGksTSksdGhpcy51cGRhdGVWZXJ0ZXhUb0hhbGZFZGdlQ29ubmVjdGlvbl8ocywhMCksdGhpcy5kZWxldGVFZGdlSW1wbF8ocyl9fWRvZXNIYWxmRWRnZUJlbG9uZ1RvQVBvbHlnb25JbnRlcmlvcihlLHQpe3JldHVybiBhKDApLCExfWRvZXNIYWxmRWRnZUJlbG9uZ1RvQVBvbHlnb25FeHRlcmlvcihlLHQpe3JldHVybiBhKDApLCExfWRvZXNIYWxmRWRnZUJlbG9uZ1RvQVBvbHlnb25Cb3VuZGFyeShlLHQpe3JldHVybiBhKDApLCExfWRvZXNIYWxmRWRnZUJlbG9uZ1RvQVBvbHlsaW5lSW50ZXJpb3IoZSx0KXtyZXR1cm4gYSgwKSwhMX1kb2VzSGFsZkVkZ2VCZWxvbmdUb0FQb2x5bGluZUV4dGVyaW9yKGUsdCl7cmV0dXJuIGEoMCksITF9ZG9lc0NsdXN0ZXJCZWxvbmdUb0FQb2x5Z29uSW50ZXJpb3IoZSx0KXtyZXR1cm4gYSgwKSwhMX1kb2VzQ2x1c3RlckJlbG9uZ1RvQVBvbHlnb25FeHRlcmlvcihlLHQpe3JldHVybiBhKDApLCExfWRvZXNDbHVzdGVyQmVsb25nVG9BUG9seWdvbkJvdW5kYXJ5KGUsdCl7cmV0dXJuIGEoMCksITF9Z2V0Rmlyc3RDaGFpbigpe3JldHVybiB0aGlzLm1fdW5pdmVyc2VDaGFpbn1nZXRDaGFpbkhhbGZFZGdlKGUpe3JldHVybiB0aGlzLm1fY2hhaW5EYXRhLmdldEZpZWxkKGUsMSl9Z2V0Q2hhaW5QYXJlbnRhZ2UoZSl7cmV0dXJuIHRoaXMubV9jaGFpbkRhdGEuZ2V0RmllbGQoZSwyKX1nZXRDaGFpblBhcmVudChlKXtyZXR1cm4gdGhpcy5tX2NoYWluRGF0YS5nZXRGaWVsZChlLDMpfWdldENoYWluRmlyc3RJc2xhbmQoZSl7cmV0dXJuIHRoaXMubV9jaGFpbkRhdGEuZ2V0RmllbGQoZSw0KX1nZXRDaGFpbk5leHRJblBhcmVudChlKXtyZXR1cm4gdGhpcy5tX2NoYWluRGF0YS5nZXRGaWVsZChlLDUpfWdldENoYWluTmV4dChlKXtyZXR1cm4gdGhpcy5tX2NoYWluRGF0YS5nZXRGaWVsZChlLDcpfWdldENoYWluQXJlYShlKXtjb25zdCB0PXRoaXMuZ2V0Q2hhaW5JbmRleF8oZSk7bGV0IHM9dGhpcy5tX2NoYWluQXJlYXMucmVhZCh0KTtyZXR1cm4gTnVtYmVyLmlzTmFOKHMpJiYodGhpcy51cGRhdGVDaGFpbkFyZWFBbmRQZXJpbWV0ZXJfKGUpLHM9dGhpcy5tX2NoYWluQXJlYXMucmVhZCh0KSksc31nZXRDaGFpblBlcmltZXRlcihlKXtyZXR1cm4gYSgwKSwwfWdldENoYWluVXNlckluZGV4KGUsdCl7Y29uc3Qgcz10aGlzLmdldENoYWluSW5kZXhfKGUpLG49dGhpcy5tX2NoYWluSW5kaWNlc1t0XTtyZXR1cm4gbi5zaXplKCk8PXM/LTE6bi5yZWFkKHMpfXNldENoYWluVXNlckluZGV4KGUsdCxzKXtjb25zdCBuPXRoaXMuZ2V0Q2hhaW5JbmRleF8oZSkscj10aGlzLm1fY2hhaW5JbmRpY2VzW3RdO3Iuc2l6ZSgpPD1uJiZyLnJlc2l6ZSh0aGlzLm1fY2hhaW5EYXRhLnNpemUoKSwtMSksci53cml0ZShuLHMpfWNyZWF0ZVVzZXJJbmRleEZvckNoYWlucygpe2NvbnN0IGU9bmV3IENlKHRoaXMubV9jaGFpbkRhdGEuY2FwYWNpdHkoKSwtMSk7Zm9yKGxldCB0PTAscz10aGlzLm1fY2hhaW5JbmRpY2VzLmxlbmd0aDt0PHM7dCsrKWlmKG51bGw9PT10aGlzLm1fY2hhaW5JbmRpY2VzW3RdKXJldHVybiB0aGlzLm1fY2hhaW5JbmRpY2VzW3RdPWUsdDt0aGlzLm1fY2hhaW5JbmRpY2VzLnB1c2goZSk7cmV0dXJuIHRoaXMubV9jaGFpbkluZGljZXMubGVuZ3RoLTF9ZGVsZXRlVXNlckluZGV4Rm9yQ2hhaW5zKGUpe3RoaXMubV9jaGFpbkluZGljZXNbZV09bnVsbH1leHRyYWN0UG9seWdvbkZyb21DaGFpbkFuZElzbGFuZHMoZSx0LHMscil7Y29uc3QgaT10PT09TT9lLmNyZWF0ZUdlb21ldHJ5KG4uZW51bVBvbHlnb24pOnQsbz1uZXcgRjt0aGlzLmV4dHJhY3RQb2x5Z29uUGF0aEZyb21DaGFpbl8oZSxpLHMscixvKTtmb3IobGV0IG49dGhpcy5nZXRDaGFpbkZpcnN0SXNsYW5kKHMpO24hPT1NO249dGhpcy5nZXRDaGFpbk5leHRJblBhcmVudChuKSl0aGlzLmV4dHJhY3RQb2x5Z29uUGF0aEZyb21DaGFpbl8oZSxpLG4scixvKTtyZXR1cm4gaX1nZXRHZW9tZXRyeUlEKGUpe2NvbnN0IHQ9dGhpcy5tX3NoYXBlLmdldEdlb21ldHJ5VXNlckluZGV4KGUsdGhpcy5tX2dlb21ldHJ5SURJbmRleCk7cmV0dXJuIGEodD49MCksMTw8TWF0aC5taW4odCwzMSl9Z2V0Q2x1c3RlckZyb21WZXJ0ZXgoZSl7cmV0dXJuIHRoaXMubV9zaGFwZS5nZXRVc2VySW5kZXgoZSx0aGlzLm1fY2x1c3RlckluZGV4KX1nZXRIYWxmRWRnZUZyb21WZXJ0ZXgoZSl7cmV0dXJuIHRoaXMubV9zaGFwZS5nZXRVc2VySW5kZXgoZSx0aGlzLm1faGFsZkVkZ2VJbmRleCl9YnVpbGRHZW9tZXRyeVBhcmVudGFnZVNldHMoKXt0aGlzLm1fYkJ1aWxkR2VvbWV0cnlQYXJlbnRhZ2VTZXRzPSEwfWdldENoYWluQml0U2V0KGUpe2lmKGEodGhpcy5tX2JCdWlsZEdlb21ldHJ5UGFyZW50YWdlU2V0cyksLTE9PT10aGlzLm1fY2hhaW5CaXRTZXRJbmRleClyZXR1cm4gdGhpcy5nZXRFbXB0eVNldCgpO2NvbnN0IHQ9dGhpcy5nZXRDaGFpblVzZXJJbmRleChlLHRoaXMubV9jaGFpbkJpdFNldEluZGV4KTthKHQ+PTApO2xldCBzPXRoaXMubV9jaGFpbkJpdFNldHMuYXQodCk7cmV0dXJuIHN8fChzPXRoaXMuZ2V0RW1wdHlTZXQoKSksc31nZXRDaGFpbkJvdW5kYXJ5Qml0U2V0KGUpe2EodGhpcy5tX2JCdWlsZEdlb21ldHJ5UGFyZW50YWdlU2V0cyk7Y29uc3QgdD1uZXcgTHMscz1lPT57Y29uc3Qgcz10aGlzLmdldENoYWluSGFsZkVkZ2UoZSk7bGV0IG49cztkb3tjb25zdCBlPXRoaXMuZ2V0RWRnZUJpdFNldF8obik7bnVsbCE9PWUmJnQuYXNzaWduT3IoZSk7Y29uc3Qgcz10aGlzLmdldEVkZ2VCaXRTZXRfKHRoaXMuZ2V0SGFsZkVkZ2VUd2luKG4pKTtudWxsIT09cyYmdC5hc3NpZ25PcihzKSxuPXRoaXMuZ2V0SGFsZkVkZ2VOZXh0KG4pfXdoaWxlKG4hPT1zKX07cyhlKTtmb3IobGV0IG49dGhpcy5nZXRDaGFpbkZpcnN0SXNsYW5kKGUpO24hPT1NO249dGhpcy5nZXRDaGFpbk5leHRJblBhcmVudChuKSlzKGUpO3JldHVybiB0fWdldENoYWluUG9seWdvbnMoZSl7cmV0dXJuIGEoMCksW119Z2V0R2VvbWV0cmllc0Zyb21CaXRzKGUpe2lmKCF0aGlzLm1fYkJ1aWxkR2VvbWV0cnlQYXJlbnRhZ2VTZXRzfHxudWxsPT09ZSlyZXR1cm5bXTtpZihudWxsPT09dGhpcy5tX2dlb21ldHJ5TWFwSUQpe3RoaXMubV9nZW9tZXRyeU1hcElEPW5ldyBNYXA7Zm9yKGxldCBlPXRoaXMubV9zaGFwZS5nZXRGaXJzdEdlb21ldHJ5KCk7ZSE9PU07ZT10aGlzLm1fc2hhcGUuZ2V0TmV4dEdlb21ldHJ5KGUpKXRoaXMubV9nZW9tZXRyeU1hcElELnNldCh0aGlzLm1fc2hhcGUuZ2V0R2VvbWV0cnlVc2VySW5kZXgoZSx0aGlzLm1fZ2VvbWV0cnlJREluZGV4KSxlKX1jb25zdCB0PVtdLHM9ZS5nZXRVbm9yZGVyZWRCaXRJdGVyYXRvcigpO2ZvcihsZXQgbj1zLm5leHQoKTtuIT09WXMubnBvcygpO249cy5uZXh0KCkpYSh0aGlzLm1fZ2VvbWV0cnlNYXBJRC5oYXMobikpLHQucHVzaCh0aGlzLm1fZ2VvbWV0cnlNYXBJRC5nZXQobikpO3JldHVybiB0fWdldFZlcnRleERvbWluYW50KGUsdCl7aWYodD09PU0pcmV0dXJuIGU7Y29uc3Qgcz10aGlzLmdldENsdXN0ZXJGcm9tVmVydGV4KGUpO3JldHVybiB0aGlzLmdldFZlcnRleERvbWluYW50RnJvbUNsdXN0ZXIocyx0KX1nZXRWZXJ0ZXhEb21pbmFudEZyb21DbHVzdGVyKGUsdCl7aWYodCE9PU0pe2xldCBzPU07Zm9yKGxldCBuPXRoaXMuZ2V0Q2x1c3RlclZlcnRleEl0ZXJhdG9yKGUpO24hPT1NO249dGhpcy5pbmNyZW1lbnRWZXJ0ZXhJdGVyYXRvcihuKSl7Y29uc3QgZT10aGlzLmdldFZlcnRleEZyb21WZXJ0ZXhJdGVyYXRvcihuKTtzPT09TSYmKHM9ZSk7Y29uc3Qgcj10aGlzLm1fc2hhcGUuZ2V0UGF0aEZyb21WZXJ0ZXgoZSk7aWYodGhpcy5tX3NoYXBlLmdldEdlb21ldHJ5RnJvbVBhdGgocik9PT10KXtzPWU7YnJlYWt9fXJldHVybiBzfXtjb25zdCB0PXRoaXMuZ2V0Q2x1c3RlclZlcnRleEl0ZXJhdG9yKGUpO2lmKHQhPT1NKXtyZXR1cm4gdGhpcy5nZXRWZXJ0ZXhGcm9tVmVydGV4SXRlcmF0b3IodCl9cmV0dXJuIE19fWlzQnJlYWtOb2RlKGUpe3JldHVybiB0aGlzLmhhc0NsdXN0ZXJVc2VySW5kZXhGbGFncyhlLHRoaXMubV9jbHVzdGVyQnJlYWtOb2RlSW5kZXgsS3MuZW51bVNlZ21lbnRQYXJlbnRhZ2VCcmVha05vZGUpfXNldEJyZWFrTm9kZShlLHQpe2EoLTEhPT10aGlzLm1fY2x1c3RlckJyZWFrTm9kZUluZGV4KSx0P3RoaXMuc2V0Q2x1c3RlclVzZXJJbmRleEZsYWdzKGUsdGhpcy5tX2NsdXN0ZXJCcmVha05vZGVJbmRleCxLcy5lbnVtU2VnbWVudFBhcmVudGFnZUJyZWFrTm9kZSk6dGhpcy5jbGVhckNsdXN0ZXJVc2VySW5kZXhGbGFncyhlLHRoaXMubV9jbHVzdGVyQnJlYWtOb2RlSW5kZXgsS3MuZW51bVNlZ21lbnRQYXJlbnRhZ2VCcmVha05vZGUpfWlzU3Ryb25nUGF0aE5vZGUoZSl7cmV0dXJuIHRoaXMuaGFzQ2x1c3RlclVzZXJJbmRleEZsYWdzKGUsdGhpcy5tX2NsdXN0ZXJCcmVha05vZGVJbmRleCxLcy5lbnVtUGF0aEJyZWFrTm9kZSl9c2V0U3Ryb25nUGF0aE5vZGUoZSx0KXtpZigtMT09PXRoaXMubV9jbHVzdGVyQnJlYWtOb2RlSW5kZXgpe2lmKCF0KXJldHVybjt0aGlzLm1fY2x1c3RlckJyZWFrTm9kZUluZGV4PXRoaXMuY3JlYXRlVXNlckluZGV4Rm9yQ2x1c3RlcnMoKX10P3RoaXMuc2V0Q2x1c3RlclVzZXJJbmRleEZsYWdzKGUsdGhpcy5tX2NsdXN0ZXJCcmVha05vZGVJbmRleCxLcy5lbnVtUGF0aEJyZWFrTm9kZSk6dGhpcy5jbGVhckNsdXN0ZXJVc2VySW5kZXhGbGFncyhlLHRoaXMubV9jbHVzdGVyQnJlYWtOb2RlSW5kZXgsS3MuZW51bVBhdGhCcmVha05vZGUpfWdldFNlZ21lbnRQYXJlbnRhZ2UoZSl7aWYoLTE9PT10aGlzLm1fc2VnbWVudFBhcmVudGFnZUluZGV4KXJldHVybi0xO2NvbnN0IHQ9dGhpcy5nZXRIYWxmRWRnZVVzZXJJbmRleChlLHRoaXMubV9zZWdtZW50UGFyZW50YWdlSW5kZXgpO3JldHVybiB0Pj0wP3Q6LTF9aXNDcm9zc3JvYWRBaGVhZChlKXtjb25zdCB0PXRoaXMuZ2V0SGFsZkVkZ2VOZXh0KGUpO2lmKHRoaXMuaXNTdHJvbmdQYXRoTm9kZSh0aGlzLmdldEhhbGZFZGdlT3JpZ2luKHQpKSlyZXR1cm4hMDtjb25zdCBzPXRoaXMuZ2V0SGFsZkVkZ2VUd2luKHQpLG49dGhpcy5nZXRIYWxmRWRnZU5leHQocyk7cmV0dXJuIGUhPT10aGlzLmdldEhhbGZFZGdlVHdpbihuKX1pc0Nyb3Nzcm9hZEJlaGluZChlKXtyZXR1cm4gYSgwKSwhMX1nZXRIYWxmRWRnZUNvbm5lY3RvcihlLHQpe2NvbnN0IHM9dGhpcy5nZXRDbHVzdGVySGFsZkVkZ2UoZSk7aWYocz09PU0pcmV0dXJuIE07bGV0IG49cyxyPU0saT1NO2Rve2lmKHRoaXMuZ2V0SGFsZkVkZ2VUbyhuKT09PXQpcmV0dXJuIG47aWYocj09PU0pe2lmKHI9dGhpcy5nZXRDbHVzdGVySGFsZkVkZ2UodCkscj09PU0pcmV0dXJuIE07aT1yfWlmKHRoaXMuZ2V0SGFsZkVkZ2VUbyhpKT09PWUpcmV0dXJuIG49dGhpcy5nZXRIYWxmRWRnZVR3aW4oaSksbjtuPXRoaXMuZ2V0SGFsZkVkZ2VOZXh0KHRoaXMuZ2V0SGFsZkVkZ2VUd2luKG4pKSxpPXRoaXMuZ2V0SGFsZkVkZ2VOZXh0KHRoaXMuZ2V0SGFsZkVkZ2VUd2luKGkpKX13aGlsZShuIT09cyYmaSE9PXIpO3JldHVybiBNfXF1ZXJ5U2VnbWVudFhZKGUsdCl7aWYoLTEhPT10aGlzLm1fc2VnbWVudEluZGV4SGUpe2xldCBzPXRoaXMuZ2V0SGFsZkVkZ2VVc2VySW5kZXgoZSx0aGlzLm1fc2VnbWVudEluZGV4SGUpO2lmKC0xIT09cyl7aWYoLTIhPT1zKXtjb25zdCBlPXRoaXMubV9zaGFwZS5nZXRTZWdtZW50RnJvbUluZGV4KHMpO3QuY29weUZyb20oZSwhMCl9ZWxzZXtzPXRoaXMuZ2V0SGFsZkVkZ2VVc2VySW5kZXgodGhpcy5nZXRIYWxmRWRnZVR3aW4oZSksdGhpcy5tX3NlZ21lbnRJbmRleEhlKTtjb25zdCBuPXRoaXMubV9zaGFwZS5nZXRTZWdtZW50RnJvbUluZGV4KHMpO3QuY29weUZyb20obiwhMCksdC5nZXQoKS5yZXZlcnNlKCl9cmV0dXJufX10LmNyZWF0ZUxpbmUoKTtjb25zdCBzPXQuZ2V0KCksbj1RZS5nZXROQU4oKTt0aGlzLmdldEhhbGZFZGdlRnJvbVhZKGUsbikscy5zZXRTdGFydFhZKG4pLHRoaXMuZ2V0SGFsZkVkZ2VUb1hZKGUsbikscy5zZXRFbmRYWShuKX1pc0N1cnZlRWRnZShlKXtpZigtMSE9PXRoaXMubV9zZWdtZW50SW5kZXhIZSl7cmV0dXJuLTEhPT10aGlzLmdldEhhbGZFZGdlVXNlckluZGV4KGUsdGhpcy5tX3NlZ21lbnRJbmRleEhlKX1yZXR1cm4hMX1jb21wYXJlRWRnZUFuZ2xlc0N1cnZlSGVscGVyXyhlLHQscyl7Y29uc3Qgbj1uZXcgRixyPW5ldyBGO3RoaXMucXVlcnlTZWdtZW50WFkoZSxuKSx0aGlzLnF1ZXJ5U2VnbWVudFhZKHQscik7Y29uc3QgaT1uLmdldCgpLG89ci5nZXQoKTtpZihpLmVxdWFscyhvKSlyZXR1cm4gMDtjb25zdCBoPW5ldyBRZTt0aGlzLmdldEhhbGZFZGdlRnJvbVhZKGUsaCk7Y29uc3QgbT1uZXcgUWU7dGhpcy5nZXRIYWxmRWRnZVRvWFkoZSxtKTtjb25zdCBsPW5ldyBRZTt0aGlzLmdldEhhbGZFZGdlVG9YWSh0LGwpLGEoIW0uaXNFcXVhbFBvaW50MkQobCkpO3JldHVybiBxKGksbyl9Y29tcGFyZUVkZ2VBbmdsZXNIZWxwZXJfKGUsdCxzKXtpZihlPT09dClyZXR1cm4gMDtpZih0aGlzLmlzSGFsZkVkZ2VDdXJ2ZShlKXx8dGhpcy5pc0hhbGZFZGdlQ3VydmUodCkpcmV0dXJuIHRoaXMuY29tcGFyZUVkZ2VBbmdsZXNDdXJ2ZUhlbHBlcl8oZSx0LHMpO2NvbnN0IG49UWUuZ2V0TkFOKCk7dGhpcy5nZXRIYWxmRWRnZVRvWFkoZSxuKTtjb25zdCByPVFlLmdldE5BTigpO2lmKHRoaXMuZ2V0SGFsZkVkZ2VUb1hZKHQsciksbi5pc0VxdWFsUG9pbnQyRChyKSlyZXR1cm4gMDtjb25zdCBpPVFlLmdldE5BTigpO3RoaXMuZ2V0SGFsZkVkZ2VGcm9tWFkoZSxpKTtjb25zdCBvPVFlLmdldE5BTigpO28uc2V0U3ViKG4saSk7Y29uc3QgYT1RZS5nZXROQU4oKTtpZihhLnNldFN1YihyLGkpLCFzfHxhLnk+PTAmJm8ueT4wKXtyZXR1cm4gUWUuY29tcGFyZVZlY3RvcnMobyxhKX1yZXR1cm4gMH1jb21wYXJlRWRnZUFuZ2xlc18oZSx0KXtyZXR1cm4gdGhpcy5jb21wYXJlRWRnZUFuZ2xlc0hlbHBlcl8oZSx0LCExKX1jb21wYXJlRWRnZUFuZ2xlc0ZvclBhaXJfKGUsdCl7cmV0dXJuIHRoaXMuY29tcGFyZUVkZ2VBbmdsZXNIZWxwZXJfKGUsdCwhMCl9Y29tcGFyZUVkZ2VBbmdsZXMzRF8oZSx0KXtyZXR1cm4gYSgwKSwwfWNvbXBhcmVFZGdlQW5nbGVzRm9yUGFpcjNEXyhlLHQpe3JldHVybiBhKDApLDB9ZGJnRHVtcENoYWluc18oKXt9ZGJnRHVtcENoYWluVG9Qb2x5Z29uXyhlLHQpe31kZWxldGVFZGdlSW50ZXJuYWxfKGUpe2NvbnN0IHQ9dGhpcy5nZXRIYWxmRWRnZUNoYWluKGUpLHM9dGhpcy5nZXRIYWxmRWRnZVR3aW4oZSksbj10aGlzLmdldEhhbGZFZGdlQ2hhaW4ocyk7YShuPT09dCksYShlPT09dGhpcy5nZXRIYWxmRWRnZU5leHQocyl8fHM9PT10aGlzLmdldEhhbGZFZGdlTmV4dChlKSk7bGV0IHI9dGhpcy5nZXRIYWxmRWRnZU5leHQoZSk7cj09PXMmJihyPXRoaXMuZ2V0SGFsZkVkZ2VOZXh0KHIpLHI9PT1lJiYocj1NKSk7Y29uc3QgaT10aGlzLmdldENoYWluSW5kZXhfKHQpLG89dGhpcy5tX2NoYWluQXJlYXMucmVhZChpKTtOdW1iZXIuaXNOYU4obyl8fCh0aGlzLnNldENoYWluQXJlYV8odCxOdW1iZXIuTmFOKSx0aGlzLnNldENoYWluUGVyaW1ldGVyXyh0LE51bWJlci5OYU4pKTtjb25zdCBoPXRoaXMuZ2V0Q2hhaW5IYWxmRWRnZSh0KTtoIT09ZSYmaCE9PXN8fHRoaXMuc2V0Q2hhaW5IYWxmRWRnZV8odCxyKSx0aGlzLnVwZGF0ZVZlcnRleFRvSGFsZkVkZ2VDb25uZWN0aW9uXyhlLCEwKSx0aGlzLmRlbGV0ZUVkZ2VJbXBsXyhlKX1nZXRGaXJzdFVudmlzaXRlZEhhbGZFZGdlT25DbHVzdGVyXyhlLHQscyl7bGV0IG49dCE9PU0/dDp0aGlzLmdldENsdXN0ZXJIYWxmRWRnZShlKTtpZihuPT09TSlyZXR1cm4gTTtjb25zdCByPW47Zm9yKDs7KXtpZigxIT09dGhpcy5nZXRIYWxmRWRnZVVzZXJJbmRleChuLHMpKXJldHVybiBuO2NvbnN0IGU9dGhpcy5nZXRIYWxmRWRnZU5leHQodGhpcy5nZXRIYWxmRWRnZVR3aW4obikpO2lmKGU9PT1yKXJldHVybiBNO249ZX19cmVtb3ZlU3Bpa2VzXygpe2xldCBlPSExO2NvbnN0IHQ9dGhpcy5jcmVhdGVVc2VySW5kZXhGb3JIYWxmRWRnZXMoKTtmb3IobGV0IHM9dGhpcy5nZXRGaXJzdENsdXN0ZXIoKTtzIT09TTtzPXRoaXMuZ2V0TmV4dENsdXN0ZXIocykpe2xldCBuPU07Zm9yKDs7KXtsZXQgcj10aGlzLmdldEZpcnN0VW52aXNpdGVkSGFsZkVkZ2VPbkNsdXN0ZXJfKHMsbix0KTtpZihyPT09TSlicmVhaztuPXRoaXMuZ2V0SGFsZkVkZ2VOZXh0KHRoaXMuZ2V0SGFsZkVkZ2VUd2luKHIpKTtsZXQgaT1yO2Zvcig7Oyl7Y29uc3Qgcz10aGlzLmdldEhhbGZFZGdlTmV4dChpKSxvPXRoaXMuZ2V0SGFsZkVkZ2VQcmV2KGkpLGE9dGhpcy5nZXRIYWxmRWRnZVR3aW4oaSk7aWYobz09PWEpe2lmKHRoaXMuZGVsZXRlRWRnZUludGVybmFsXyhpKSxlPSEwLG4hPT1pJiZuIT09YXx8KG49TSksaT09PXJ8fG89PT1yKXtpZihyPXMsaT09PXJ8fG89PT1yKWJyZWFrO2k9cztjb250aW51ZX19ZWxzZSB0aGlzLnNldEhhbGZFZGdlVXNlckluZGV4KGksdCwxKTtpZihpPXMsaT09PXIpYnJlYWt9fX1yZXR1cm4gdGhpcy5kZWxldGVVc2VySW5kZXhGb3JIYWxmRWRnZXModCksZX1wcm9ncmVzc18oZSx0PSExKXt9bmV3Q2x1c3Rlcl8oKXtjb25zdCBlPXRoaXMubV9jbHVzdGVyRGF0YS5uZXdFbGVtZW50KCk7cmV0dXJuIHRoaXMubV9jbHVzdGVyRGF0YS5zZXRGaWVsZChlLDEsMCksZX1uZXdIYWxmRWRnZVBhaXJfKCl7Y29uc3QgZT10aGlzLm1faGFsZkVkZ2VEYXRhLm5ld0VsZW1lbnQoKTt0aGlzLm1faGFsZkVkZ2VEYXRhLnNldEZpZWxkKGUsMiwwKSx0aGlzLm1faGFsZkVkZ2VEYXRhLnNldEZpZWxkKGUsMywwKTtjb25zdCB0PXRoaXMubV9oYWxmRWRnZURhdGEubmV3RWxlbWVudCgpO3JldHVybiB0aGlzLm1faGFsZkVkZ2VEYXRhLnNldEZpZWxkKHQsMiwwKSx0aGlzLm1faGFsZkVkZ2VEYXRhLnNldEZpZWxkKHQsMywwKSx0aGlzLnNldEhhbGZFZGdlVHdpbl8oZSx0KSx0aGlzLnNldEhhbGZFZGdlVHdpbl8odCxlKSxlfW5ld0NoYWluXygpe2NvbnN0IGU9dGhpcy5tX2NoYWluRGF0YS5uZXdFbGVtZW50KCk7cmV0dXJuIHRoaXMubV9jaGFpbkRhdGEuc2V0RmllbGQoZSwyLDApLGV9ZGVsZXRlQ2hhaW5fKGUpe3JldHVybiBhKDApLDB9Z2V0Q2x1c3RlckluZGV4XyhlKXtyZXR1cm4gdGhpcy5tX2NsdXN0ZXJEYXRhLmVsZW1lbnRUb0luZGV4KGUpfXNldENsdXN0ZXJWZXJ0ZXhJdGVyYXRvcl8oZSx0KXt0aGlzLm1fY2x1c3RlckRhdGEuc2V0RmllbGQoZSw3LHQpfXNldENsdXN0ZXJIYWxmRWRnZV8oZSx0KXt0aGlzLm1fY2x1c3RlckRhdGEuc2V0RmllbGQoZSwyLHQpfXNldENsdXN0ZXJQYXJlbnRhZ2VfKGUsdCl7dGhpcy5tX2NsdXN0ZXJEYXRhLnNldEZpZWxkKGUsMSx0KX1zZXRQcmV2Q2x1c3Rlcl8oZSx0KXt0aGlzLm1fY2x1c3RlckRhdGEuc2V0RmllbGQoZSwzLHQpfXNldE5leHRDbHVzdGVyXyhlLHQpe3RoaXMubV9jbHVzdGVyRGF0YS5zZXRGaWVsZChlLDQsdCl9c2V0Q2x1c3RlclZlcnRleEluZGV4XyhlLHQpe3RoaXMubV9jbHVzdGVyRGF0YS5zZXRGaWVsZChlLDUsdCl9Z2V0Q2x1c3RlclZlcnRleEluZGV4XyhlKXtyZXR1cm4gdGhpcy5tX2NsdXN0ZXJEYXRhLmdldEZpZWxkKGUsNSl9c2V0Q2x1c3RlckNoYWluXyhlLHQpe3RoaXMubV9jbHVzdGVyRGF0YS5zZXRGaWVsZChlLDYsdCl9YWRkQ2x1c3RlclRvRXh0ZXJpb3JDaGFpbl8oZSx0KXt0aGlzLnNldENsdXN0ZXJDaGFpbl8odCxlKX1nZXRIYWxmRWRnZUluZGV4XyhlKXtyZXR1cm4gdGhpcy5tX2hhbGZFZGdlRGF0YS5lbGVtZW50VG9JbmRleChlKX1zZXRIYWxmRWRnZU9yaWdpbl8oZSx0KXt0aGlzLm1faGFsZkVkZ2VEYXRhLnNldEZpZWxkKGUsMSx0KX1zZXRIYWxmRWRnZVR3aW5fKGUsdCl7dGhpcy5tX2hhbGZFZGdlRGF0YS5zZXRGaWVsZChlLDQsdCl9c2V0SGFsZkVkZ2VQcmV2XyhlLHQpe3RoaXMubV9oYWxmRWRnZURhdGEuc2V0RmllbGQoZSw1LHQpfXNldEhhbGZFZGdlTmV4dF8oZSx0KXt0aGlzLm1faGFsZkVkZ2VEYXRhLnNldEZpZWxkKGUsNix0KX1zZXRIYWxmRWRnZUNoYWluXyhlLHQpe3RoaXMubV9oYWxmRWRnZURhdGEuc2V0RmllbGQoZSwyLHQpfXNldEhhbGZFZGdlUGFyZW50YWdlXyhlLHQpe3RoaXMubV9oYWxmRWRnZURhdGEuc2V0RmllbGQoZSwzLHQpfWdldEhhbGZFZGdlUGFyZW50YWdlTWFza18oZSl7cmV0dXJuIHRoaXMubV9oYWxmRWRnZURhdGEuZ2V0RmllbGQoZSwzKX1zZXRIYWxmRWRnZVZlcnRleEl0ZXJhdG9yXyhlLHQpe3RoaXMubV9oYWxmRWRnZURhdGEuc2V0RmllbGQoZSw3LHQpfXVwZGF0ZVZlcnRleFRvSGFsZkVkZ2VDb25uZWN0aW9uSGVscGVyXyhlLHQpe2NvbnN0IHM9dD9NOmU7Zm9yKGxldCBuPXRoaXMuZ2V0SGFsZkVkZ2VWZXJ0ZXhJdGVyYXRvcihlKTtuIT09TTtuPXRoaXMuaW5jcmVtZW50VmVydGV4SXRlcmF0b3Iobikpe2NvbnN0IGU9dGhpcy5nZXRWZXJ0ZXhGcm9tVmVydGV4SXRlcmF0b3Iobik7dGhpcy5tX3NoYXBlLnNldFVzZXJJbmRleChlLHRoaXMubV9oYWxmRWRnZUluZGV4LHMpfX11cGRhdGVWZXJ0ZXhUb0hhbGZFZGdlQ29ubmVjdGlvbl8oZSx0KXtlIT09TSYmKHRoaXMudXBkYXRlVmVydGV4VG9IYWxmRWRnZUNvbm5lY3Rpb25IZWxwZXJfKGUsdCksdGhpcy51cGRhdGVWZXJ0ZXhUb0hhbGZFZGdlQ29ubmVjdGlvbkhlbHBlcl8odGhpcy5nZXRIYWxmRWRnZVR3aW4oZSksdCkpfWdldENoYWluSW5kZXhfKGUpe3JldHVybiB0aGlzLm1fY2hhaW5EYXRhLmVsZW1lbnRUb0luZGV4KGUpfXNldENoYWluSGFsZkVkZ2VfKGUsdCl7dGhpcy5tX2NoYWluRGF0YS5zZXRGaWVsZChlLDEsdCl9c2V0Q2hhaW5QYXJlbnRhZ2VfKGUsdCl7dGhpcy5tX2NoYWluRGF0YS5zZXRGaWVsZChlLDIsdCl9c2V0Q2hhaW5QYXJlbnRfKGUsdCl7dGhpcy5tX2NoYWluRGF0YS5zZXRGaWVsZChlLDMsdCk7Y29uc3Qgcz10aGlzLmdldENoYWluRmlyc3RJc2xhbmQodCk7dGhpcy5zZXRDaGFpbk5leHRJblBhcmVudF8oZSxzKSx0aGlzLnNldENoYWluRmlyc3RJc2xhbmRfKHQsZSl9c2V0Q2hhaW5GaXJzdElzbGFuZF8oZSx0KXt0aGlzLm1fY2hhaW5EYXRhLnNldEZpZWxkKGUsNCx0KX1zZXRDaGFpbk5leHRJblBhcmVudF8oZSx0KXt0aGlzLm1fY2hhaW5EYXRhLnNldEZpZWxkKGUsNSx0KX1zZXRDaGFpblByZXZfKGUsdCl7dGhpcy5tX2NoYWluRGF0YS5zZXRGaWVsZChlLDYsdCl9c2V0Q2hhaW5OZXh0XyhlLHQpe3RoaXMubV9jaGFpbkRhdGEuc2V0RmllbGQoZSw3LHQpfXNldENoYWluQXJlYV8oZSx0KXtjb25zdCBzPXRoaXMuZ2V0Q2hhaW5JbmRleF8oZSk7dGhpcy5tX2NoYWluQXJlYXMud3JpdGUocyx0KX1zZXRDaGFpblBlcmltZXRlcl8oZSx0KXtjb25zdCBzPXRoaXMuZ2V0Q2hhaW5JbmRleF8oZSk7dGhpcy5tX2NoYWluUGVyaW1ldGVycy53cml0ZShzLHQpfXVwZGF0ZUNoYWluQXJlYUFuZFBlcmltZXRlcl8oZSl7Y29uc3QgdD10aGlzLm1fc2hhcGUuaGFzQ3VydmVzKCkscz1uZXcgZ3QoMCksbj1uZXcgZ3QoMCkscj10aGlzLmdldENoYWluSGFsZkVkZ2UoZSksaT1RZS5nZXROQU4oKSxvPVFlLmdldE5BTigpLGE9UWUuZ2V0TkFOKCk7dGhpcy5nZXRIYWxmRWRnZUZyb21YWShyLGkpLG8uc2V0Q29vcmRzUG9pbnQyRChpKTtsZXQgaD1yO2Rve3RoaXMuZ2V0SGFsZkVkZ2VUb1hZKGgsYSksdCYmdGhpcy5pc0N1cnZlRWRnZShoKXx8bi5wZShRZS5kaXN0YW5jZShvLGEpKTt0aGlzLmdldEhhbGZFZGdlQ2hhaW4odGhpcy5nZXRIYWxmRWRnZVR3aW4oaCkpIT09ZSYmcy5wZSgoYS54LWkueC0oby54LWkueCkpKihhLnktaS55KyhvLnktaS55KSkqLjUpLG8uc2V0Q29vcmRzUG9pbnQyRChhKSxoPXRoaXMuZ2V0SGFsZkVkZ2VOZXh0KGgpfXdoaWxlKGghPT1yKTtpZih0KXtjb25zdCB0PW5ldyBGO2g9cjtkb3t0aGlzLmdldEhhbGZFZGdlVG9YWShoLGEpO2NvbnN0IHI9dGhpcy5pc0N1cnZlRWRnZShoKTtyJiYodGhpcy5xdWVyeVNlZ21lbnRYWShoLHQpLG4ucGUodC5nZXQoKS5jYWxjdWxhdGVMZW5ndGgyRCgpKSk7aWYodGhpcy5nZXRIYWxmRWRnZUNoYWluKHRoaXMuZ2V0SGFsZkVkZ2VUd2luKGgpKSE9PWUmJnIpe2NvbnN0IGU9dC5nZXQoKS5jYWxjdWxhdGVBcmVhMkRIZWxwZXIoKTtzLnBlKGUpfWg9dGhpcy5nZXRIYWxmRWRnZU5leHQoaCl9d2hpbGUoaCE9PXIpfWNvbnN0IG09dGhpcy5nZXRDaGFpbkluZGV4XyhlKTt0aGlzLm1fY2hhaW5BcmVhcy53cml0ZShtLHMuZ2V0UmVzdWx0KCkpLHRoaXMubV9jaGFpblBlcmltZXRlcnMud3JpdGUobSxuLmdldFJlc3VsdCgpKX1nZXRDaGFpblRvcG1vc3RFZGdlXyhlKXtyZXR1cm4gYSgwKSwwfXBsYW5lU3dlZXBQYXJlbnRhZ2VfKGUsdCl7Y29uc3Qgcz1uZXcgV3ModGhpcyksbj1uZXcgRWU7bi5zZXRDYXBhY2l0eShNYXRoLnRydW5jKHRoaXMubV9wb2ludENvdW50LzIpKSxuLnNldENvbXBhcmF0b3Iocyk7Y29uc3Qgcj1bXSxpPXRoaXMuY3JlYXRlVXNlckluZGV4Rm9ySGFsZkVkZ2VzKCk7bGV0IG89bnVsbDtjb25zdCBhPVFlLmdldE5BTigpO2ZvcihsZXQgaD10aGlzLmdldEZpcnN0Q2x1c3RlcigpO2ghPT1NO2g9dGhpcy5nZXROZXh0Q2x1c3RlcihoKSl7dGhpcy5wcm9ncmVzc18odCk7Y29uc3QgbT10aGlzLmdldENsdXN0ZXJIYWxmRWRnZShoKTtpZihtIT09TSl7aWYoci5sZW5ndGg9MCwhdGhpcy50cnlPcHRpbWl6ZWRJbnNlcnRpb25fKG4saSxyLGgsbSkpe3RoaXMucXVlcnlYWShoLGEpLHMuc2V0WShhLnkpO2xldCBlPW07ZG97Y29uc3QgdD10aGlzLmdldEhhbGZFZGdlVXNlckluZGV4KGUsaSk7LTEhPT10JiYobi5kZWxldGVOb2RlKHQpLHRoaXMuc2V0SGFsZkVkZ2VVc2VySW5kZXgoZSxpLEJlLmltcG9zc2libGVJbmRleDIoKSkpLGU9dGhpcy5nZXRIYWxmRWRnZU5leHQodGhpcy5nZXRIYWxmRWRnZVR3aW4oZSkpfXdoaWxlKG0hPT1lKTtlPW07ZG97aWYoLTE9PT10aGlzLmdldEhhbGZFZGdlVXNlckluZGV4KGUsaSkpe2NvbnN0IHQ9bi5hZGRFbGVtZW50KGUpO3IucHVzaCh0KX1lPXRoaXMuZ2V0SGFsZkVkZ2VOZXh0KHRoaXMuZ2V0SGFsZkVkZ2VUd2luKGUpKX13aGlsZShtIT09ZSl9Zm9yKGxldCB0PXIubGVuZ3RoLTE7dD49MDt0LS0pe2NvbnN0IHM9clt0XSxvPW4uZ2V0RWxlbWVudChzKSxhPXRoaXMuZ2V0SGFsZkVkZ2VUd2luKG8pO3RoaXMuc2V0SGFsZkVkZ2VVc2VySW5kZXgoYSxpLHMpLHRoaXMucGxhbmVTd2VlcFBhcmVudGFnZVByb3BhZ2F0ZVBhcmVudGFnZV8obixzLGUpfX1lbHNlIGlmKHRoaXMuZ2V0Q2x1c3RlckNoYWluKGgpPT09TSl7bnVsbD09PW8mJihvPW5ldyBqcyh0aGlzKSksdGhpcy5xdWVyeVhZKGgsYSksby5zZXRQb2ludFhZKGEpO2NvbnN0IGU9bi5zZWFyY2hMb3dlckJvdW5kKG8pO2xldCB0PXRoaXMubV91bml2ZXJzZUNoYWluO2lmKC0xIT09ZSl7bGV0IHM9bi5nZXRFbGVtZW50KGUpO3RoaXMuZ2V0SGFsZkVkZ2VDaGFpbihzKT09PXRoaXMuZ2V0SGFsZkVkZ2VDaGFpbih0aGlzLmdldEhhbGZFZGdlVHdpbihzKSkmJihzPXRoaXMuZ2V0TGVmdFNraXBQb2x5bGluZXNfKG4sZSkpLHMhPT1NJiYodD10aGlzLmdldEhhbGZFZGdlQ2hhaW4ocykpfXRoaXMuYWRkQ2x1c3RlclRvRXh0ZXJpb3JDaGFpbl8odCxoKX19dGhpcy5kZWxldGVVc2VySW5kZXhGb3JIYWxmRWRnZXMoaSl9cGxhbmVTd2VlcFBhcmVudGFnZVByb3BhZ2F0ZVBhcmVudGFnZV8oZSx0LHMpe2NvbnN0IG49ZS5nZXRFbGVtZW50KHQpLHI9dGhpcy5nZXRIYWxmRWRnZUNoYWluKG4pO2lmKHRoaXMuZ2V0Q2hhaW5QYXJlbnQocikhPT1NKXJldHVybjtjb25zdCBpPXRoaXMuZ2V0TGVmdFNraXBQb2x5bGluZXNfKGUsdCksbz10aGlzLmdldEhhbGZFZGdlVHdpbihuKSxoPXRoaXMuZ2V0SGFsZkVkZ2VDaGFpbihvKTtsZXQgbT10aGlzLmdldENoYWluUGFyZW50KHIpLGw9dGhpcy5nZXRDaGFpblBhcmVudChoKTtpZihpPT09TSltPT09TSYmKGg9PT1yPyh0aGlzLnNldENoYWluUGFyZW50XyhoLHRoaXMubV91bml2ZXJzZUNoYWluKSxsPXRoaXMubV91bml2ZXJzZUNoYWluLG09bCk6KGw9PT1NJiYodGhpcy5zZXRDaGFpblBhcmVudF8oaCx0aGlzLm1fdW5pdmVyc2VDaGFpbiksbD10aGlzLm1fdW5pdmVyc2VDaGFpbiksdGhpcy5zZXRDaGFpblBhcmVudF8ocixoKSxtPWgpKTtlbHNle2NvbnN0IGU9dGhpcy5nZXRIYWxmRWRnZUNoYWluKGkpO2lmKGw9PT1NKXtpZih0aGlzLmdldENoYWluQXJlYShlKTw9MCl7Y29uc3QgdD10aGlzLmdldENoYWluUGFyZW50KGUpO3RoaXMuc2V0Q2hhaW5QYXJlbnRfKGgsdCksbD10fWVsc2UgdGhpcy5zZXRDaGFpblBhcmVudF8oaCxlKSxsPWU7aD09PXImJihtPWwpfX1tPT09TSYmKHRoaXMudHJ5U2V0Q2hhaW5QYXJlbnRGcm9tVHdpbl8ocixoKSxtPXRoaXMuZ2V0Q2hhaW5QYXJlbnQocikpLGEobSE9PU0pLHM9PT1acy5lbnVtSW5wdXRNb2RlQnVpbGRHcmFwaD90aGlzLnByb3BhZ2F0ZVBhcmVudGFnZUJ1aWxkR3JhcGhfKGUsdCxuLGkpOnM9PT1acy5lbnVtSW5wdXRNb2RlU2ltcGxpZnlXaW5kaW5nP3RoaXMucHJvcGFnYXRlUGFyZW50YWdlV2luZGluZ18oZSx0LG4saSxvLHIsaCk6cz09PVpzLmVudW1JbnB1dE1vZGVTaW1wbGlmeUFsdGVybmF0ZSYmdGhpcy5wcm9wYWdhdGVQYXJlbnRhZ2VBbHRlcm5hdGVfKGUsdCxuLGksbyxyLGgpfXByb3BhZ2F0ZVBhcmVudGFnZUJ1aWxkR3JhcGhfKGUsdCxzLG4pe2xldCByLGk9dDtuPT09TT8oaT1lLmdldE5leHQoaSkscj10aGlzLmdldEhhbGZFZGdlQ2hhaW4ocykpOnI9dGhpcy5nZXRIYWxmRWRnZUNoYWluKG4pO2xldCBvPW51bGwsYT10aGlzLmdldENoYWluUGFyZW50YWdlKHIpO2Zvcih0aGlzLm1fYkJ1aWxkR2VvbWV0cnlQYXJlbnRhZ2VTZXRzJiYobz10aGlzLmdldENoYWluQml0U2V0KHIpKTstMSE9PWk7aT1lLmdldE5leHQoaSkpe2NvbnN0IHQ9ZS5nZXRFbGVtZW50KGkpLHM9dGhpcy5nZXRIYWxmRWRnZVR3aW4odCk7cj10aGlzLmdldEhhbGZFZGdlQ2hhaW4odCk7Y29uc3Qgbj10aGlzLmdldEhhbGZFZGdlQ2hhaW4ocyk7aWYodGhpcy5tX2JCdWlsZEdlb21ldHJ5UGFyZW50YWdlU2V0cyl7bGV0IGU9dGhpcy5nZXRDaGFpbkJpdFNldChuKTtlPW5ldyBMcyh7Y29weTplfSksZS5hc3NpZ25PcihvKSx0aGlzLnNldENoYWluQml0U2V0XyhuLGUpO2xldCBzPXRoaXMuZ2V0Q2hhaW5CaXRTZXQocik7Y29uc3QgaT10aGlzLmdldExlZnRFZGdlQml0U2V0Xyh0KSxhPW5ldyBMcyh7Y29weTpvfSk7aWYoYS5hc3NpZ25TdWJ0cmFjdChpKSxhLmlzWmVybygpKWJyZWFrO3M9bmV3IExzKHtjb3B5OnN9KSxzLmFzc2lnbk9yKGEpLHRoaXMuc2V0Q2hhaW5CaXRTZXRfKHIscyksbz1zfWNvbnN0IGg9dGhpcy5nZXRDaGFpblBhcmVudGFnZShuKSxtPWh8YTttIT09aCYmdGhpcy5zZXRDaGFpblBhcmVudGFnZV8obixtKTtsZXQgbD10aGlzLmdldENoYWluUGFyZW50YWdlKHIpO2NvbnN0IGc9YSZ+dGhpcy5nZXRIYWxmRWRnZVVzZXJJbmRleCh0LHRoaXMubV90bXBIYWxmRWRnZVBhcmVudGFnZUluZGV4TGVmdCk7aWYoZyYmKGx8PWcsdGhpcy5zZXRDaGFpblBhcmVudGFnZV8ocixsKSksMD09PWcpYnJlYWs7YT1sfX1wcm9wYWdhdGVQYXJlbnRhZ2VXaW5kaW5nXyhlLHQscyxuLHIsaSxvKXtpZihpPT09bylyZXR1cm47bGV0IGg9dGhpcy5nZXRIYWxmRWRnZVVzZXJJbmRleChzLHRoaXMubV90bXBIYWxmRWRnZVdpbmRpbmdOdW1iZXJJbmRleCk7aCs9dGhpcy5nZXRIYWxmRWRnZVVzZXJJbmRleChyLHRoaXMubV90bXBIYWxmRWRnZVdpbmRpbmdOdW1iZXJJbmRleCk7bGV0IG09MDtjb25zdCBsPVtdLGc9W107Zy5wdXNoKDApO2ZvcihsZXQgdT1lLmdldEZpcnN0KCk7dSE9PXQ7dT1lLmdldE5leHQodSkpe2NvbnN0IHQ9ZS5nZXRFbGVtZW50KHUpLHM9dGhpcy5nZXRIYWxmRWRnZVR3aW4odCksbj10aGlzLmdldEhhbGZFZGdlQ2hhaW4odCkscj10aGlzLmdldEhhbGZFZGdlQ2hhaW4ocyk7aWYobiE9PXIpe2xldCBlPXRoaXMuZ2V0SGFsZkVkZ2VVc2VySW5kZXgodCx0aGlzLm1fdG1wSGFsZkVkZ2VXaW5kaW5nTnVtYmVySW5kZXgpO2UrPXRoaXMuZ2V0SGFsZkVkZ2VVc2VySW5kZXgocyx0aGlzLm1fdG1wSGFsZkVkZ2VXaW5kaW5nTnVtYmVySW5kZXgpLG0rPWU7bGV0IGk9ITE7MCE9PWwubGVuZ3RoJiZsLmF0KC0xKT09PXImJihnLnBvcCgpLGwucG9wKCksaT0hMCksYSh0aGlzLmdldENoYWluUGFyZW50KHIpIT09TSksaSYmdGhpcy5nZXRDaGFpblBhcmVudChyKT09PW58fChnLnB1c2gobSksbC5wdXNoKG4pKX19aWYobSs9aCwwIT09bC5sZW5ndGgmJmwuYXQoLTEpPT09byYmKGcucG9wKCksbC5wb3AoKSksMCE9PW0pe2lmKDA9PT1nLmF0KC0xKSl7Y29uc3QgZT10aGlzLm1fc2ltcGxpZmllZEdlb21ldHJ5LHQ9dGhpcy5nZXRHZW9tZXRyeUlEKGUpO3RoaXMuc2V0Q2hhaW5QYXJlbnRhZ2VfKGksdCl9fWVsc2UgaWYoMCE9PWcuYXQoLTEpKXtjb25zdCBlPXRoaXMubV9zaW1wbGlmaWVkR2VvbWV0cnksdD10aGlzLmdldEdlb21ldHJ5SUQoZSk7dGhpcy5zZXRDaGFpblBhcmVudGFnZV8oaSx0KX19cHJvcGFnYXRlUGFyZW50YWdlQWx0ZXJuYXRlXyhlLHQscyxuLHIsaSxvKXtjb25zdCBhPXRoaXMubV9zaW1wbGlmaWVkR2VvbWV0cnksaD10aGlzLmdldEdlb21ldHJ5SUQoYSk7aWYobj09PU0pe3RoaXMuc2V0Q2hhaW5QYXJlbnRhZ2VfKG8sdGhpcy5tX3VuaXZlcnNlR2VvbUlEKTsxJnRoaXMuZ2V0SGFsZkVkZ2VVc2VySW5kZXgocyx0aGlzLm1fdG1wSGFsZkVkZ2VPZGRFdmVuTnVtYmVySW5kZXgpP3RoaXMuc2V0Q2hhaW5QYXJlbnRhZ2VfKGksaCk6dGhpcy5zZXRDaGFpblBhcmVudGFnZV8oaSx0aGlzLm1fdW5pdmVyc2VHZW9tSUQpfWVsc2V7Y29uc3QgZT10aGlzLmdldENoYWluUGFyZW50YWdlKG8pO2lmKDA9PT1lKXtjb25zdCBlPXRoaXMuZ2V0SGFsZkVkZ2VDaGFpbihuKSx0PXRoaXMuZ2V0Q2hhaW5QYXJlbnRhZ2UoZSk7dGhpcy5zZXRDaGFpblBhcmVudGFnZV8obyx0KTsxJnRoaXMuZ2V0SGFsZkVkZ2VVc2VySW5kZXgocyx0aGlzLm1fdG1wSGFsZkVkZ2VPZGRFdmVuTnVtYmVySW5kZXgpP3RoaXMuc2V0Q2hhaW5QYXJlbnRhZ2VfKGksdD09PWg/dGhpcy5tX3VuaXZlcnNlR2VvbUlEOmgpOnRoaXMuc2V0Q2hhaW5QYXJlbnRhZ2VfKGksdCl9ZWxzZXsxJnRoaXMuZ2V0SGFsZkVkZ2VVc2VySW5kZXgocyx0aGlzLm1fdG1wSGFsZkVkZ2VPZGRFdmVuTnVtYmVySW5kZXgpP3RoaXMuc2V0Q2hhaW5QYXJlbnRhZ2VfKGksZT09PWg/dGhpcy5tX3VuaXZlcnNlR2VvbUlEOmgpOnRoaXMuc2V0Q2hhaW5QYXJlbnRhZ2VfKGksZSl9fX10cnlPcHRpbWl6ZWRJbnNlcnRpb25fKGUsdCxzLG4scil7bGV0IGk9cixvPS0xLGE9TSxoPTA7ZG97aWYoMj09PWgpcmV0dXJuITE7Y29uc3QgZT10aGlzLmdldEhhbGZFZGdlVXNlckluZGV4KGksdCk7aWYoLTEhPT1lKXtpZigtMSE9PW8pcmV0dXJuITE7bz1lfWVsc2V7aWYoYSE9PU0pcmV0dXJuITE7YT1pfWgrKyxpPXRoaXMuZ2V0SGFsZkVkZ2VOZXh0KHRoaXMuZ2V0SGFsZkVkZ2VUd2luKGkpKX13aGlsZShyIT09aSk7cmV0dXJuIGEhPT1NJiYtMSE9PW8mJih0aGlzLnNldEhhbGZFZGdlVXNlckluZGV4KGUuZ2V0RWxlbWVudChvKSx0LEJlLmltcG9zc2libGVJbmRleDIoKSksZS5zZXRFbGVtZW50KG8sYSkscy5wdXNoKG8pLCEwKX10cnlTZXRDaGFpblBhcmVudEZyb21Ud2luXyhlLHQpe2NvbnN0IHM9dGhpcy5nZXRDaGFpbkFyZWEoZSk7aWYoMD09PXMpcmV0dXJuITE7Y29uc3Qgbj10aGlzLmdldENoYWluQXJlYSh0KTtpZihzPjAmJm48MHx8czwwJiZuPjApcmV0dXJuIHRoaXMuc2V0Q2hhaW5QYXJlbnRfKGUsdCksITA7e2NvbnN0IHM9dGhpcy5nZXRDaGFpblBhcmVudCh0KTtpZihzIT09TSlyZXR1cm4gdGhpcy5zZXRDaGFpblBhcmVudF8oZSxzKSwhMH1yZXR1cm4hMX1jcmVhdGVIYWxmRWRnZXNfKGUsdCl7dGhpcy5tX2hhbGZFZGdlSW5kZXg9dGhpcy5tX3NoYXBlLmNyZWF0ZVVzZXJJbmRleCgpO2ZvcihsZXQgcz0wLHI9dC5zaXplKCk7czxyO3MrKyl7Y29uc3Qgcj10LnJlYWQocyksaT10aGlzLm1fc2hhcGUuZ2V0VXNlckluZGV4KHIsdGhpcy5tX2NsdXN0ZXJJbmRleCksYT10aGlzLm1fc2hhcGUuZ2V0UGF0aEZyb21WZXJ0ZXgociksaD10aGlzLm1fc2hhcGUuZ2V0R2VvbWV0cnlGcm9tUGF0aChhKSxtPXRoaXMubV9zaGFwZS5nZXRHZW9tZXRyeVR5cGUoaCk7aWYobyhtKSl7Y29uc3QgdD10aGlzLm1fc2hhcGUuZ2V0TmV4dFZlcnRleChyKTtpZih0PT09TSljb250aW51ZTtjb25zdCBzPXRoaXMubV9zaGFwZS5nZXRVc2VySW5kZXgodCx0aGlzLm1fY2x1c3RlckluZGV4KTtpZihpPT09cyljb250aW51ZTtjb25zdCBvPXRoaXMubmV3SGFsZkVkZ2VQYWlyXygpLGE9dGhpcy5nZXRIYWxmRWRnZVR3aW4obyksbD10aGlzLm1fY2x1c3RlclZlcnRpY2VzLm5ld0VsZW1lbnQoKTt0aGlzLm1fY2x1c3RlclZlcnRpY2VzLnNldEZpZWxkKGwsMCxyKSx0aGlzLm1fY2x1c3RlclZlcnRpY2VzLnNldEZpZWxkKGwsMSwtMSksdGhpcy5zZXRIYWxmRWRnZVZlcnRleEl0ZXJhdG9yXyhvLGwpLHRoaXMubV9zaGFwZS5zZXRVc2VySW5kZXgocix0aGlzLm1faGFsZkVkZ2VJbmRleCxvKSx0aGlzLnNldEhhbGZFZGdlT3JpZ2luXyhvLGkpO2NvbnN0IGc9dGhpcy5nZXRDbHVzdGVySGFsZkVkZ2UoaSk7aWYoZz09PU0pdGhpcy5zZXRDbHVzdGVySGFsZkVkZ2VfKGksbyksdGhpcy5zZXRIYWxmRWRnZVByZXZfKG8sYSksdGhpcy5zZXRIYWxmRWRnZU5leHRfKGEsbyk7ZWxzZXtjb25zdCBlPXRoaXMuZ2V0SGFsZkVkZ2VQcmV2KGcpO3RoaXMuc2V0SGFsZkVkZ2VQcmV2XyhnLGEpLHRoaXMuc2V0SGFsZkVkZ2VOZXh0XyhhLGcpLHRoaXMuc2V0SGFsZkVkZ2VOZXh0XyhlLG8pLHRoaXMuc2V0SGFsZkVkZ2VQcmV2XyhvLGUpfXRoaXMuc2V0SGFsZkVkZ2VPcmlnaW5fKGEscyk7Y29uc3QgdT10aGlzLmdldENsdXN0ZXJIYWxmRWRnZShzKTtpZih1PT09TSl0aGlzLnNldENsdXN0ZXJIYWxmRWRnZV8ocyxhKSx0aGlzLnNldEhhbGZFZGdlTmV4dF8obyxhKSx0aGlzLnNldEhhbGZFZGdlUHJldl8oYSxvKTtlbHNle2NvbnN0IGU9dGhpcy5nZXRIYWxmRWRnZVByZXYodSk7dGhpcy5zZXRIYWxmRWRnZVByZXZfKHUsbyksdGhpcy5zZXRIYWxmRWRnZU5leHRfKG8sdSksdGhpcy5zZXRIYWxmRWRnZU5leHRfKGUsYSksdGhpcy5zZXRIYWxmRWRnZVByZXZfKGEsZSl9Y29uc3QgYz10aGlzLmdldEdlb21ldHJ5SUQoaCk7aWYoZT09PVpzLmVudW1JbnB1dE1vZGVCdWlsZEdyYXBoKXtjb25zdCBlPW09PT1uLmVudW1Qb2x5Z29uP2M6MDtpZih0aGlzLnNldEhhbGZFZGdlVXNlckluZGV4KGEsdGhpcy5tX3RtcEhhbGZFZGdlUGFyZW50YWdlSW5kZXgsMCksdGhpcy5zZXRIYWxmRWRnZVVzZXJJbmRleChvLHRoaXMubV90bXBIYWxmRWRnZVBhcmVudGFnZUluZGV4LGUpLHRoaXMuc2V0SGFsZkVkZ2VVc2VySW5kZXgoYSx0aGlzLm1fdG1wSGFsZkVkZ2VQYXJlbnRhZ2VJbmRleExlZnQsZSksdGhpcy5zZXRIYWxmRWRnZVVzZXJJbmRleChvLHRoaXMubV90bXBIYWxmRWRnZVBhcmVudGFnZUluZGV4TGVmdCwwKSx0aGlzLm1fYkJ1aWxkR2VvbWV0cnlQYXJlbnRhZ2VTZXRzKXtjb25zdCBlPW5ldyBMcyx0PXRoaXMubV9zaGFwZS5nZXRHZW9tZXRyeVVzZXJJbmRleChoLHRoaXMubV9nZW9tZXRyeUlESW5kZXgpO2Uuc2V0Qml0KHQpLHRoaXMuc2V0RWRnZUJpdFNldF8obyxlKSx0aGlzLnNldEVkZ2VCaXRTZXRfKGEsbnVsbCksdGhpcy5zZXRMZWZ0RWRnZUJpdFNldF8oYSxlKSx0aGlzLnNldExlZnRFZGdlQml0U2V0XyhvLG51bGwpfX1lbHNlIGlmKGU9PT1acy5lbnVtSW5wdXRNb2RlU2ltcGxpZnlXaW5kaW5nKXtjb25zdCBlPXRoaXMubV9zaGFwZS5nZXRYWShyKSxzPXRoaXMubV9zaGFwZS5nZXRYWSh0KTtsZXQgbj0wLGk9MDtlLmNvbXBhcmUocyk8MD9uPTE6aT0tMSx0aGlzLnNldEhhbGZFZGdlVXNlckluZGV4KG8sdGhpcy5tX3RtcEhhbGZFZGdlV2luZGluZ051bWJlckluZGV4LG4pLHRoaXMuc2V0SGFsZkVkZ2VVc2VySW5kZXgoYSx0aGlzLm1fdG1wSGFsZkVkZ2VXaW5kaW5nTnVtYmVySW5kZXgsaSl9ZWxzZSBlPT09WnMuZW51bUlucHV0TW9kZVNpbXBsaWZ5QWx0ZXJuYXRlJiYodGhpcy5zZXRIYWxmRWRnZVVzZXJJbmRleChvLHRoaXMubV90bXBIYWxmRWRnZU9kZEV2ZW5OdW1iZXJJbmRleCwxKSx0aGlzLnNldEhhbGZFZGdlVXNlckluZGV4KGEsdGhpcy5tX3RtcEhhbGZFZGdlT2RkRXZlbk51bWJlckluZGV4LDEpKTtjb25zdCBfPW09PT1uLmVudW1Qb2x5Z29uP3RuLmNfRWRnZUJpdE1hc2s6MDt0aGlzLnNldEhhbGZFZGdlUGFyZW50YWdlXyhvLGN8XyksdGhpcy5zZXRIYWxmRWRnZVBhcmVudGFnZV8oYSxjfF8pfX1pZih0aGlzLm1fc2hhcGUuaGFzQ3VydmVzKCkpe3RoaXMubV9zZWdtZW50SW5kZXhIZT10aGlzLmNyZWF0ZVVzZXJJbmRleEZvckhhbGZFZGdlcygpO2ZvcihsZXQgZT0wLHM9dC5zaXplKCk7ZTxzO2UrKyl7Y29uc3Qgcz10LnJlYWQoZSk7aWYodGhpcy5tX3NoYXBlLmdldFNlZ21lbnQocykpe2NvbnN0IGU9dGhpcy5tX3NoYXBlLmdldFVzZXJJbmRleChzLHRoaXMubV9oYWxmRWRnZUluZGV4KTtlIT09TSYmKHRoaXMuc2V0SGFsZkVkZ2VVc2VySW5kZXgoZSx0aGlzLm1fc2VnbWVudEluZGV4SGUsdGhpcy5tX3NoYXBlLmdldFZlcnRleEluZGV4KHMpKSx0aGlzLnNldEhhbGZFZGdlVXNlckluZGV4KHRoaXMuZ2V0SGFsZkVkZ2VUd2luKGUpLHRoaXMubV9zZWdtZW50SW5kZXhIZSwtMikpfX19fW1lcmdlVmVydGV4TGlzdHNPZkVkZ2VzXyhlLHQpe3tjb25zdCBzPXRoaXMuZ2V0SGFsZkVkZ2VWZXJ0ZXhJdGVyYXRvcih0KTtpZihzIT09TSl7Y29uc3Qgbj10aGlzLmdldEhhbGZFZGdlVmVydGV4SXRlcmF0b3IoZSk7dGhpcy5tX2NsdXN0ZXJWZXJ0aWNlcy5zZXRGaWVsZChzLDEsbiksdGhpcy5zZXRIYWxmRWRnZVZlcnRleEl0ZXJhdG9yXyhlLHMpLHRoaXMuc2V0SGFsZkVkZ2VWZXJ0ZXhJdGVyYXRvcl8odCxNKX19Y29uc3Qgcz10aGlzLmdldEhhbGZFZGdlVHdpbihlKSxuPXRoaXMuZ2V0SGFsZkVkZ2VUd2luKHQpO3tjb25zdCBlPXRoaXMuZ2V0SGFsZkVkZ2VWZXJ0ZXhJdGVyYXRvcihuKTtpZihlIT09TSl7Y29uc3QgdD10aGlzLmdldEhhbGZFZGdlVmVydGV4SXRlcmF0b3Iocyk7dGhpcy5tX2NsdXN0ZXJWZXJ0aWNlcy5zZXRGaWVsZChlLDEsdCksdGhpcy5zZXRIYWxmRWRnZVZlcnRleEl0ZXJhdG9yXyhzLGUpLHRoaXMuc2V0SGFsZkVkZ2VWZXJ0ZXhJdGVyYXRvcl8obixNKX19aWYoLTEhPT10aGlzLm1fc2VnbWVudEluZGV4SGUpe2xldCByPXRoaXMuZ2V0SGFsZkVkZ2VVc2VySW5kZXgoZSx0aGlzLm1fc2VnbWVudEluZGV4SGUpO2lmKC0xIT09cil7aWYoLTI9PT1yKXtjb25zdCBzPXRoaXMuZ2V0SGFsZkVkZ2VVc2VySW5kZXgodCx0aGlzLm1fc2VnbWVudEluZGV4SGUpO3RoaXMuc2V0SGFsZkVkZ2VVc2VySW5kZXgoZSx0aGlzLm1fc2VnbWVudEluZGV4SGUscyl9aWYocj10aGlzLmdldEhhbGZFZGdlVXNlckluZGV4KHMsdGhpcy5tX3NlZ21lbnRJbmRleEhlKSwtMj09PXIpe2NvbnN0IGU9dGhpcy5nZXRIYWxmRWRnZVVzZXJJbmRleChuLHRoaXMubV9zZWdtZW50SW5kZXhIZSk7dGhpcy5zZXRIYWxmRWRnZVVzZXJJbmRleChzLHRoaXMubV9zZWdtZW50SW5kZXhIZSxlKX19fX1zb3J0SGFsZkVkZ2VzQnlBbmdsZV8oZSl7Y29uc3QgdD1bXTtmb3IobGV0IHM9dGhpcy5nZXRGaXJzdENsdXN0ZXIoKTtzIT09TTtzPXRoaXMuZ2V0TmV4dENsdXN0ZXIocykpe3QubGVuZ3RoPTA7Y29uc3Qgbj10aGlzLmdldENsdXN0ZXJIYWxmRWRnZShzKTtpZihuIT09TSl7bGV0IHI9bjtkb3t0LnB1c2gocikscj10aGlzLmdldEhhbGZFZGdlTmV4dCh0aGlzLmdldEhhbGZFZGdlVHdpbihyKSl9d2hpbGUociE9PW4pO2lmKHQubGVuZ3RoPjEpe2xldCByPSEwO3QubGVuZ3RoPjI/KHQuc29ydCgoKGUsdCk9PnRoaXMuY29tcGFyZUVkZ2VBbmdsZXNfKGUsdCkpKSx0LnB1c2godFswXSkpOnRoaXMuY29tcGFyZUVkZ2VBbmdsZXNGb3JQYWlyXyh0WzBdLHRbMV0pPjA/dFsxXT1ydCh0WzBdLHRbMF09dFsxXSk6cj0hMTtsZXQgaT10WzBdLG89aSxhPXRoaXMuZ2V0SGFsZkVkZ2VUbyhvKSxoPXRoaXMuZ2V0SGFsZkVkZ2VUd2luKG8pLG09TTtmb3IobGV0IHM9MSxuPXQubGVuZ3RoO3M8bjtzKyspe2NvbnN0IG49dFtzXSxyPXRoaXMuZ2V0SGFsZkVkZ2VUd2luKG4pLGw9dGhpcy5nZXRIYWxmRWRnZU9yaWdpbihyKTtpZihsIT09YXx8bj09PW8pdGhpcy51cGRhdGVWZXJ0ZXhUb0hhbGZFZGdlQ29ubmVjdGlvbl8obSwhMSksbT1NLG89bixhPWwsaD1yO2Vsc2V7aWYoZT09PVpzLmVudW1JbnB1dE1vZGVCdWlsZEdyYXBoKXtjb25zdCBlPXRoaXMuZ2V0SGFsZkVkZ2VQYXJlbnRhZ2VNYXNrXyhvKXx0aGlzLmdldEhhbGZFZGdlUGFyZW50YWdlTWFza18obik7aWYodGhpcy5zZXRIYWxmRWRnZVBhcmVudGFnZV8obyxlKSx0aGlzLnNldEhhbGZFZGdlUGFyZW50YWdlXyhoLGUpLHRoaXMuc2V0SGFsZkVkZ2VVc2VySW5kZXgobyx0aGlzLm1fdG1wSGFsZkVkZ2VQYXJlbnRhZ2VJbmRleCx0aGlzLmdldEhhbGZFZGdlVXNlckluZGV4KG8sdGhpcy5tX3RtcEhhbGZFZGdlUGFyZW50YWdlSW5kZXgpfHRoaXMuZ2V0SGFsZkVkZ2VVc2VySW5kZXgobix0aGlzLm1fdG1wSGFsZkVkZ2VQYXJlbnRhZ2VJbmRleCkpLHRoaXMuc2V0SGFsZkVkZ2VVc2VySW5kZXgoaCx0aGlzLm1fdG1wSGFsZkVkZ2VQYXJlbnRhZ2VJbmRleCx0aGlzLmdldEhhbGZFZGdlVXNlckluZGV4KGgsdGhpcy5tX3RtcEhhbGZFZGdlUGFyZW50YWdlSW5kZXgpfHRoaXMuZ2V0SGFsZkVkZ2VVc2VySW5kZXgocix0aGlzLm1fdG1wSGFsZkVkZ2VQYXJlbnRhZ2VJbmRleCkpLHRoaXMuc2V0SGFsZkVkZ2VVc2VySW5kZXgobyx0aGlzLm1fdG1wSGFsZkVkZ2VQYXJlbnRhZ2VJbmRleExlZnQsdGhpcy5nZXRIYWxmRWRnZVVzZXJJbmRleChvLHRoaXMubV90bXBIYWxmRWRnZVBhcmVudGFnZUluZGV4TGVmdCl8dGhpcy5nZXRIYWxmRWRnZVVzZXJJbmRleChuLHRoaXMubV90bXBIYWxmRWRnZVBhcmVudGFnZUluZGV4TGVmdCkpLHRoaXMuc2V0SGFsZkVkZ2VVc2VySW5kZXgoaCx0aGlzLm1fdG1wSGFsZkVkZ2VQYXJlbnRhZ2VJbmRleExlZnQsdGhpcy5nZXRIYWxmRWRnZVVzZXJJbmRleChoLHRoaXMubV90bXBIYWxmRWRnZVBhcmVudGFnZUluZGV4TGVmdCl8dGhpcy5nZXRIYWxmRWRnZVVzZXJJbmRleChyLHRoaXMubV90bXBIYWxmRWRnZVBhcmVudGFnZUluZGV4TGVmdCkpLHRoaXMubV9iQnVpbGRHZW9tZXRyeVBhcmVudGFnZVNldHMpe2xldCBlLHQscztlPXRoaXMuZ2V0RWRnZUJpdFNldF8obyksdD10aGlzLmdldEVkZ2VCaXRTZXRfKG4pLHM9bmV3IExzKHtjb3B5OmV9KSxzLmFzc2lnbk9yKHQpLHRoaXMuc2V0RWRnZUJpdFNldF8obyxzKSxlPXRoaXMuZ2V0RWRnZUJpdFNldF8oaCksdD10aGlzLmdldEVkZ2VCaXRTZXRfKHIpLHM9bmV3IExzKHtjb3B5OmV9KSxzLmFzc2lnbk9yKHQpLHRoaXMuc2V0RWRnZUJpdFNldF8oaCxzKSxlPXRoaXMuZ2V0TGVmdEVkZ2VCaXRTZXRfKG8pLHQ9dGhpcy5nZXRMZWZ0RWRnZUJpdFNldF8obikscz1uZXcgTHMoe2NvcHk6ZX0pLHMuYXNzaWduT3IodCksdGhpcy5zZXRMZWZ0RWRnZUJpdFNldF8obyxzKSxlPXRoaXMuZ2V0TGVmdEVkZ2VCaXRTZXRfKGgpLHQ9dGhpcy5nZXRMZWZ0RWRnZUJpdFNldF8ocikscz1uZXcgTHMoe2NvcHk6ZX0pLHMuYXNzaWduT3IodCksdGhpcy5zZXRMZWZ0RWRnZUJpdFNldF8oaCxzKX19ZWxzZSBpZigtMSE9PXRoaXMubV90bXBIYWxmRWRnZVdpbmRpbmdOdW1iZXJJbmRleCl7Y29uc3QgZT10aGlzLmdldEhhbGZFZGdlVXNlckluZGV4KG8sdGhpcy5tX3RtcEhhbGZFZGdlV2luZGluZ051bWJlckluZGV4KSt0aGlzLmdldEhhbGZFZGdlVXNlckluZGV4KG4sdGhpcy5tX3RtcEhhbGZFZGdlV2luZGluZ051bWJlckluZGV4KSx0PXRoaXMuZ2V0SGFsZkVkZ2VVc2VySW5kZXgoaCx0aGlzLm1fdG1wSGFsZkVkZ2VXaW5kaW5nTnVtYmVySW5kZXgpK3RoaXMuZ2V0SGFsZkVkZ2VVc2VySW5kZXgocix0aGlzLm1fdG1wSGFsZkVkZ2VXaW5kaW5nTnVtYmVySW5kZXgpO3RoaXMuc2V0SGFsZkVkZ2VVc2VySW5kZXgobyx0aGlzLm1fdG1wSGFsZkVkZ2VXaW5kaW5nTnVtYmVySW5kZXgsZSksdGhpcy5zZXRIYWxmRWRnZVVzZXJJbmRleChoLHRoaXMubV90bXBIYWxmRWRnZVdpbmRpbmdOdW1iZXJJbmRleCx0KX1lbHNlIGlmKC0xIT09dGhpcy5tX3RtcEhhbGZFZGdlT2RkRXZlbk51bWJlckluZGV4KXtjb25zdCBlPXRoaXMuZ2V0SGFsZkVkZ2VVc2VySW5kZXgobyx0aGlzLm1fdG1wSGFsZkVkZ2VPZGRFdmVuTnVtYmVySW5kZXgpK3RoaXMuZ2V0SGFsZkVkZ2VVc2VySW5kZXgobix0aGlzLm1fdG1wSGFsZkVkZ2VPZGRFdmVuTnVtYmVySW5kZXgpLHQ9dGhpcy5nZXRIYWxmRWRnZVVzZXJJbmRleChoLHRoaXMubV90bXBIYWxmRWRnZU9kZEV2ZW5OdW1iZXJJbmRleCkrdGhpcy5nZXRIYWxmRWRnZVVzZXJJbmRleChyLHRoaXMubV90bXBIYWxmRWRnZU9kZEV2ZW5OdW1iZXJJbmRleCk7dGhpcy5zZXRIYWxmRWRnZVVzZXJJbmRleChvLHRoaXMubV90bXBIYWxmRWRnZU9kZEV2ZW5OdW1iZXJJbmRleCxlKSx0aGlzLnNldEhhbGZFZGdlVXNlckluZGV4KGgsdGhpcy5tX3RtcEhhbGZFZGdlT2RkRXZlbk51bWJlckluZGV4LHQpfXRoaXMubWVyZ2VWZXJ0ZXhMaXN0c09mRWRnZXNfKG8sbiksdGhpcy5kZWxldGVFZGdlSW1wbF8obiksbT1vLHRbc109TSxuPT09aSYmKHRbMF09TSxpPU0pfX1pZih0aGlzLnVwZGF0ZVZlcnRleFRvSGFsZkVkZ2VDb25uZWN0aW9uXyhtLCExKSxtPU0sIXIpe2k9TTtmb3IobGV0IGU9MCxzPXQubGVuZ3RoO2U8cztlKyspe2NvbnN0IHM9dFtlXTtpZihzIT09TSl7aT1zO2JyZWFrfX1uIT09aSYmdGhpcy5zZXRDbHVzdGVySGFsZkVkZ2VfKHMsaSk7Y29udGludWV9aT1NO2ZvcihsZXQgZT0wLHM9dC5sZW5ndGg7ZTxzO2UrKyl7Y29uc3Qgcz10W2VdO2lmKHM9PT1NKWNvbnRpbnVlO2lmKGk9PT1NKXtpPXMsbz1pLGE9dGhpcy5nZXRIYWxmRWRnZVRvKG8pLGg9dGhpcy5nZXRIYWxmRWRnZVR3aW4obyk7Y29udGludWV9aWYocz09PW8pY29udGludWU7Y29uc3Qgbj10aGlzLmdldEhhbGZFZGdlVHdpbihzKSxyPXRoaXMuZ2V0SGFsZkVkZ2VPcmlnaW4obik7dGhpcy5zZXRIYWxmRWRnZU5leHRfKGgscyksdGhpcy5zZXRIYWxmRWRnZVByZXZfKHMsaCksbz1zLGE9cixoPW59dGhpcy5zZXRDbHVzdGVySGFsZkVkZ2VfKHMsaSl9fX19c29ydEhhbGZFZGdlc0J5QW5nbGUzRF8oZSl7YSgwKX1idWlsZENoYWluc18oZSl7dGhpcy5tX3VuaXZlcnNlQ2hhaW49dGhpcy5uZXdDaGFpbl8oKSx0aGlzLnNldENoYWluSGFsZkVkZ2VfKHRoaXMubV91bml2ZXJzZUNoYWluLE0pO2xldCB0PXRoaXMubV91bml2ZXJzZUNoYWluO2NvbnN0IHM9dGhpcy5jcmVhdGVVc2VySW5kZXhGb3JIYWxmRWRnZXMoKTtmb3IobGV0IG49dGhpcy5nZXRGaXJzdENsdXN0ZXIoKTtuIT09TTtuPXRoaXMuZ2V0TmV4dENsdXN0ZXIobikpe2NvbnN0IGU9dGhpcy5nZXRDbHVzdGVySGFsZkVkZ2Uobik7aWYoZSE9PU0pe2xldCBuPWU7ZG97aWYoMSE9PXRoaXMuZ2V0SGFsZkVkZ2VVc2VySW5kZXgobixzKSl7Y29uc3QgZT10aGlzLm5ld0NoYWluXygpO3RoaXMuc2V0Q2hhaW5IYWxmRWRnZV8oZSxuKSx0aGlzLnNldENoYWluUHJldl8oZSx0KSx0aGlzLnNldENoYWluTmV4dF8odCxlKTtsZXQgcj1udWxsO3RoaXMubV9iQnVpbGRHZW9tZXRyeVBhcmVudGFnZVNldHMmJihyPW5ldyBMcyksdD1lO2xldCBpPTAsbz1uO2Rvey0xIT09dGhpcy5tX3RtcEhhbGZFZGdlUGFyZW50YWdlSW5kZXgmJihpfD10aGlzLmdldEhhbGZFZGdlVXNlckluZGV4KG8sdGhpcy5tX3RtcEhhbGZFZGdlUGFyZW50YWdlSW5kZXgpKSx0aGlzLm1fYkJ1aWxkR2VvbWV0cnlQYXJlbnRhZ2VTZXRzJiZyLmFzc2lnbk9yKHRoaXMuZ2V0RWRnZUJpdFNldF8obykpLHRoaXMuc2V0SGFsZkVkZ2VDaGFpbl8obyxlKSx0aGlzLnNldEhhbGZFZGdlVXNlckluZGV4KG8scywxKSxvPXRoaXMuZ2V0SGFsZkVkZ2VOZXh0KG8pfXdoaWxlKG8hPT1uKTt0aGlzLm1fYkJ1aWxkR2VvbWV0cnlQYXJlbnRhZ2VTZXRzJiZ0aGlzLnNldENoYWluQml0U2V0XyhlLHIpLHRoaXMuc2V0Q2hhaW5QYXJlbnRhZ2VfKGUsaSl9bj10aGlzLmdldEhhbGZFZGdlTmV4dCh0aGlzLmdldEhhbGZFZGdlVHdpbihuKSl9d2hpbGUobiE9PWUpfX10aGlzLm1fY2hhaW5BcmVhcz1uZXcgT2UodGhpcy5tX2NoYWluRGF0YS5zaXplKCksTnVtYmVyLk5hTiksdGhpcy5tX2NoYWluUGVyaW1ldGVycz1uZXcgT2UodGhpcy5tX2NoYWluRGF0YS5zaXplKCksTnVtYmVyLk5hTiksdGhpcy5zZXRDaGFpbkFyZWFfKHRoaXMubV91bml2ZXJzZUNoYWluLE51bWJlci5QT1NJVElWRV9JTkZJTklUWSksdGhpcy5zZXRDaGFpblBlcmltZXRlcl8odGhpcy5tX3VuaXZlcnNlQ2hhaW4sTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZKSx0aGlzLmRlbGV0ZVVzZXJJbmRleEZvckhhbGZFZGdlcyhzKX1zaW1wbGlmeV8oZSl7YSgwKX1zaW1wbGlmeUFsdGVybmF0ZV8oKXthKDApfXNpbXBsaWZ5V2luZGluZ18oKXthKDApfXNldEVkaXRTaGFwZUltcGxfKGUsdCxzLG4scil7dGhpcy5yZW1vdmVTaGFwZSgpLHRoaXMubV9iQnVpbGRDaGFpbnM9cix0aGlzLm1fc2hhcGU9ZSx0aGlzLm1fZ2VvbWV0cnlJREluZGV4PXRoaXMubV9zaGFwZS5jcmVhdGVHZW9tZXRyeVVzZXJJbmRleCgpO2xldCBpPXRoaXMubV9zaGFwZS5nZXRUb3RhbFBvaW50Q291bnQoKTtpZihzKXtpPTA7Zm9yKGxldCBlPTAsdD1zLmxlbmd0aDtlPHQ7ZSsrKWkrPXRoaXMubV9zaGFwZS5nZXRQb2ludENvdW50KHNbZV0pfWNvbnN0IG89bmV3IENlKDApO2xldCBhPTAsaD0wO3tsZXQgZT1udWxsIT1zP3NbMF06dGhpcy5tX3NoYXBlLmdldEZpcnN0R2VvbWV0cnkoKSx0PTE7Zm9yKDtlIT09TTspe3RoaXMubV9zaGFwZS5zZXRHZW9tZXRyeVVzZXJJbmRleChlLHRoaXMubV9nZW9tZXRyeUlESW5kZXgsaCsrKTtmb3IobGV0IHQ9dGhpcy5tX3NoYXBlLmdldEZpcnN0UGF0aChlKTt0IT09TTt0PXRoaXMubV9zaGFwZS5nZXROZXh0UGF0aCh0KSl7bGV0IGU9dGhpcy5tX3NoYXBlLmdldEZpcnN0VmVydGV4KHQpO2ZvcihsZXQgcz0wLG49dGhpcy5tX3NoYXBlLmdldFBhdGhTaXplKHQpO3M8bjtzKyspby5hZGQoZSksZT10aGlzLm1fc2hhcGUuZ2V0TmV4dFZlcnRleChlKX1wKHRoaXMubV9zaGFwZS5nZXRHZW9tZXRyeVR5cGUoZSkpfHwoYSs9dGhpcy5tX3NoYXBlLmdldFBhdGhDb3VudChlKSksbnVsbCE9cz8oZT10PHMubGVuZ3RoP3NbdF06TSx0KyspOmU9dGhpcy5tX3NoYXBlLmdldE5leHRHZW9tZXRyeShlKX19dGhpcy5tX3VuaXZlcnNlR2VvbUlEPTE8PE1hdGgubWluKGgsMzEpLHRoaXMubV9wb2ludENvdW50PW8uc2l6ZSgpLHRoaXMubV9zaGFwZS5zb3J0VmVydGljZXNTaW1wbGVCeVkobywwLHRoaXMubV9wb2ludENvdW50KSx0aGlzLm1fY2x1c3RlclZlcnRpY2VzLnNldENhcGFjaXR5KHRoaXMubV9wb2ludENvdW50KSx0aGlzLnByb2dyZXNzXyhuLCEwKSx0aGlzLm1fY2x1c3RlckRhdGEuc2V0Q2FwYWNpdHkodGhpcy5tX3BvaW50Q291bnQrMTApLHRoaXMubV9oYWxmRWRnZURhdGEuc2V0Q2FwYWNpdHkoMip0aGlzLm1fcG9pbnRDb3VudCszMiksdGhpcy5tX2NoYWluRGF0YS5zZXRDYXBhY2l0eShNYXRoLm1heCgzMixhKSksdGhpcy5tX2NsdXN0ZXJJbmRleD10aGlzLm1fc2hhcGUuY3JlYXRlVXNlckluZGV4KCk7Y29uc3QgbT1RZS5nZXROQU4oKTtsZXQgbD0wO2NvbnN0IGc9UWUuZ2V0TkFOKCk7Zm9yKGxldCB1PTA7dTw9dGhpcy5tX3BvaW50Q291bnQ7dSsrKXtpZih1PHRoaXMubV9wb2ludENvdW50KXtjb25zdCBlPW8ucmVhZCh1KTt0aGlzLm1fc2hhcGUucXVlcnlYWShlLGcpfWVsc2UgZy5zZXROQU4oKTtpZighbS5pc0VxdWFsUG9pbnQyRChnKSl7aWYobDx1KXtjb25zdCBlPXRoaXMubmV3Q2x1c3Rlcl8oKTtsZXQgdD1NLHM9LTE7Zm9yKGxldCBuPWw7bjx1O24rKyl7cz1vLnJlYWQobiksdGhpcy5tX3NoYXBlLnNldFVzZXJJbmRleChzLHRoaXMubV9jbHVzdGVySW5kZXgsZSk7Y29uc3Qgcj10aGlzLm1fY2x1c3RlclZlcnRpY2VzLm5ld0VsZW1lbnQoKTt0aGlzLm1fY2x1c3RlclZlcnRpY2VzLnNldEZpZWxkKHIsMCxzKSx0aGlzLm1fY2x1c3RlclZlcnRpY2VzLnNldEZpZWxkKHIsMSx0KSx0PXI7Y29uc3QgaT10aGlzLm1fc2hhcGUuZ2V0UGF0aEZyb21WZXJ0ZXgocyksYT10aGlzLm1fc2hhcGUuZ2V0R2VvbWV0cnlGcm9tUGF0aChpKSxoPXRoaXMuZ2V0R2VvbWV0cnlJRChhKTt0aGlzLnNldENsdXN0ZXJQYXJlbnRhZ2VfKGUsdGhpcy5nZXRDbHVzdGVyUGFyZW50YWdlKGUpfGgpfXRoaXMuc2V0Q2x1c3RlclZlcnRleEl0ZXJhdG9yXyhlLHQpLHRoaXMuc2V0Q2x1c3RlclZlcnRleEluZGV4XyhlLHRoaXMubV9zaGFwZS5nZXRWZXJ0ZXhJbmRleChzKSksdGhpcy5tX2xhc3RDbHVzdGVyIT09TSYmdGhpcy5zZXROZXh0Q2x1c3Rlcl8odGhpcy5tX2xhc3RDbHVzdGVyLGUpLHRoaXMuc2V0UHJldkNsdXN0ZXJfKGUsdGhpcy5tX2xhc3RDbHVzdGVyKSx0aGlzLm1fbGFzdENsdXN0ZXI9ZSx0aGlzLm1fZmlyc3RDbHVzdGVyPT09TSYmKHRoaXMubV9maXJzdENsdXN0ZXI9ZSl9bD11LG0uc2V0Q29vcmRzUG9pbnQyRChnKX19aWYodGhpcy5tX3NoYXBlLmhhc1NlZ21lbnRQYXJlbnRhZ2UoKSl7LTE9PT10aGlzLm1fY2x1c3RlckJyZWFrTm9kZUluZGV4JiYodGhpcy5tX2NsdXN0ZXJCcmVha05vZGVJbmRleD10aGlzLmNyZWF0ZVVzZXJJbmRleEZvckNsdXN0ZXJzKCkpO2ZvcihsZXQgZT0wO2U8dGhpcy5tX3BvaW50Q291bnQ7ZSsrKXtjb25zdCB0PW8ucmVhZChlKTtpZih0aGlzLm1fc2hhcGUuZ2V0U2VnbWVudFBhcmVudGFnZUJyZWFrVmVydGV4KHQpKXtjb25zdCBlPXRoaXMuZ2V0Q2x1c3RlckZyb21WZXJ0ZXgodCk7dGhpcy5zZXRCcmVha05vZGUoZSwhMCl9fX10aGlzLnByb2dyZXNzXyhuLCEwKTt7bGV0IGU9bnVsbCE9cz9zWzBdOnRoaXMubV9zaGFwZS5nZXRGaXJzdEdlb21ldHJ5KCksdD0xO2Zvcig7ZSE9PU07KXtmb3IobGV0IHQ9dGhpcy5tX3NoYXBlLmdldEZpcnN0UGF0aChlKTt0IT09TTt0PXRoaXMubV9zaGFwZS5nZXROZXh0UGF0aCh0KSl7aWYodGhpcy5tX3NoYXBlLmlzU3Ryb25nUGF0aFN0YXJ0KHQpKXtjb25zdCBlPXRoaXMubV9zaGFwZS5nZXRGaXJzdFZlcnRleCh0KSxzPXRoaXMuZ2V0Q2x1c3RlckZyb21WZXJ0ZXgoZSk7dGhpcy5zZXRTdHJvbmdQYXRoTm9kZShzLCEwKX1pZih0aGlzLm1fc2hhcGUuaXNTdHJvbmdQYXRoRW5kKHQpKXtjb25zdCBlPXRoaXMubV9zaGFwZS5pc0Nsb3NlZFBhdGgodCk/dGhpcy5tX3NoYXBlLmdldEZpcnN0VmVydGV4KHQpOnRoaXMubV9zaGFwZS5nZXRMYXN0VmVydGV4KHQpLHM9dGhpcy5nZXRDbHVzdGVyRnJvbVZlcnRleChlKTt0aGlzLnNldFN0cm9uZ1BhdGhOb2RlKHMsITApfX1udWxsIT1zPyhlPXQ8cy5sZW5ndGg/c1t0XTpNLHQrKyk6ZT10aGlzLm1fc2hhcGUuZ2V0TmV4dEdlb21ldHJ5KGUpfX1pZih0PT09WnMuZW51bUlucHV0TW9kZUJ1aWxkR3JhcGgmJih0aGlzLm1fdG1wSGFsZkVkZ2VQYXJlbnRhZ2VJbmRleD10aGlzLmNyZWF0ZVVzZXJJbmRleEZvckhhbGZFZGdlcygpLHRoaXMubV90bXBIYWxmRWRnZVBhcmVudGFnZUluZGV4TGVmdD10aGlzLmNyZWF0ZVVzZXJJbmRleEZvckhhbGZFZGdlcygpKSx0PT09WnMuZW51bUlucHV0TW9kZVNpbXBsaWZ5V2luZGluZyYmKHRoaXMubV90bXBIYWxmRWRnZVdpbmRpbmdOdW1iZXJJbmRleD10aGlzLmNyZWF0ZVVzZXJJbmRleEZvckhhbGZFZGdlcygpKSx0PT09WnMuZW51bUlucHV0TW9kZVNpbXBsaWZ5QWx0ZXJuYXRlJiYodGhpcy5tX3RtcEhhbGZFZGdlT2RkRXZlbk51bWJlckluZGV4PXRoaXMuY3JlYXRlVXNlckluZGV4Rm9ySGFsZkVkZ2VzKCkpLHRoaXMuY3JlYXRlSGFsZkVkZ2VzXyh0LG8pLHRoaXMuZGJnTmF2aWdhdGVfKCksdGhpcy5zb3J0SGFsZkVkZ2VzQnlBbmdsZV8odCksIU51bWJlci5pc05hTih0aGlzLm1fY2hlY2tEaXJ0eVBsYW5lc3dlZXBUb2xlcmFuY2UpJiYhdGhpcy5jaGVja1N0cnVjdHVyZUFmdGVyRGlydHlTd2VlcF8oKSlyZXR1cm4gdGhpcy5tX2JEaXJ0eUNoZWNrRmFpbGVkPSEwLHZvaWQgdGhpcy5jbGVhblNldEVkaXRTaGFwZUltcGxfKCk7dGhpcy5idWlsZENoYWluc18odCksLTEhPT10aGlzLm1fdG1wSGFsZkVkZ2VQYXJlbnRhZ2VJbmRleCYmKHRoaXMuZGVsZXRlVXNlckluZGV4Rm9ySGFsZkVkZ2VzKHRoaXMubV90bXBIYWxmRWRnZVBhcmVudGFnZUluZGV4KSx0aGlzLm1fdG1wSGFsZkVkZ2VQYXJlbnRhZ2VJbmRleD0tMSksdGhpcy5tX2JCdWlsZENoYWlucyYmdGhpcy5wbGFuZVN3ZWVwUGFyZW50YWdlXyh0LG4pLC0xIT09dGhpcy5tX3RtcEhhbGZFZGdlUGFyZW50YWdlSW5kZXhMZWZ0JiYodGhpcy5kZWxldGVVc2VySW5kZXhGb3JIYWxmRWRnZXModGhpcy5tX3RtcEhhbGZFZGdlUGFyZW50YWdlSW5kZXhMZWZ0KSx0aGlzLm1fdG1wSGFsZkVkZ2VQYXJlbnRhZ2VJbmRleExlZnQ9LTEpLHRoaXMuZGJnQ2hrQ2hhaW5QYXJlbnRzXygpLHRoaXMuZGJnRHVtcENoYWluc18oKSx0aGlzLm1lcmdlU2VnbWVudFBhcmVudGFnZV8oKSx0aGlzLmRiZ05hdmlnYXRlXygpLHRoaXMuZGJnRHVtcENoYWluc18oKSx0aGlzLmNsZWFuU2V0RWRpdFNoYXBlSW1wbF8oKX1zZXRFZGl0U2hhcGVJbXBsM0RfKGUsdCxzLG4scil7YSgwKX1jbGVhblNldEVkaXRTaGFwZUltcGxfKCl7LTEhPT10aGlzLm1fdG1wSGFsZkVkZ2VQYXJlbnRhZ2VJbmRleCYmKHRoaXMuZGVsZXRlVXNlckluZGV4Rm9ySGFsZkVkZ2VzKHRoaXMubV90bXBIYWxmRWRnZVBhcmVudGFnZUluZGV4KSx0aGlzLm1fdG1wSGFsZkVkZ2VQYXJlbnRhZ2VJbmRleD0tMSksLTEhPT10aGlzLm1fdG1wSGFsZkVkZ2VQYXJlbnRhZ2VJbmRleExlZnQmJih0aGlzLmRlbGV0ZVVzZXJJbmRleEZvckhhbGZFZGdlcyh0aGlzLm1fdG1wSGFsZkVkZ2VQYXJlbnRhZ2VJbmRleExlZnQpLHRoaXMubV90bXBIYWxmRWRnZVBhcmVudGFnZUluZGV4TGVmdD0tMSksLTEhPT10aGlzLm1fdG1wSGFsZkVkZ2VXaW5kaW5nTnVtYmVySW5kZXgmJih0aGlzLmRlbGV0ZVVzZXJJbmRleEZvckhhbGZFZGdlcyh0aGlzLm1fdG1wSGFsZkVkZ2VXaW5kaW5nTnVtYmVySW5kZXgpLHRoaXMubV90bXBIYWxmRWRnZVdpbmRpbmdOdW1iZXJJbmRleD0tMSksLTEhPT10aGlzLm1fdG1wSGFsZkVkZ2VPZGRFdmVuTnVtYmVySW5kZXgmJih0aGlzLmRlbGV0ZVVzZXJJbmRleEZvckhhbGZFZGdlcyh0aGlzLm1fdG1wSGFsZkVkZ2VPZGRFdmVuTnVtYmVySW5kZXgpLHRoaXMubV90bXBIYWxmRWRnZU9kZEV2ZW5OdW1iZXJJbmRleD0tMSl9Y2xlYW5TZXRFZGl0U2hhcGVJbXBsM0RfKCl7YSgwKX1kYmdOYXZpZ2F0ZV8oKXt9ZGJnQ2hrQ2hhaW5QYXJlbnRzXygpe31kZWxldGVFZGdlSW1wbF8oZSl7Y29uc3QgdD10aGlzLmdldEhhbGZFZGdlTmV4dChlKSxzPXRoaXMuZ2V0SGFsZkVkZ2VQcmV2KGUpLG49dGhpcy5nZXRIYWxmRWRnZVR3aW4oZSkscj10aGlzLmdldEhhbGZFZGdlTmV4dChuKSxpPXRoaXMuZ2V0SGFsZkVkZ2VQcmV2KG4pO3QhPT1uJiYodGhpcy5zZXRIYWxmRWRnZU5leHRfKGksdCksdGhpcy5zZXRIYWxmRWRnZVByZXZfKHQsaSkpLHMhPT1uJiYodGhpcy5zZXRIYWxmRWRnZU5leHRfKHMsciksdGhpcy5zZXRIYWxmRWRnZVByZXZfKHIscykpO2NvbnN0IG89dGhpcy5nZXRIYWxmRWRnZU9yaWdpbihlKTt0aGlzLmdldENsdXN0ZXJIYWxmRWRnZShvKT09PWUmJihyIT09ZT90aGlzLnNldENsdXN0ZXJIYWxmRWRnZV8obyxyKTp0aGlzLnNldENsdXN0ZXJIYWxmRWRnZV8obyxNKSk7Y29uc3QgYT10aGlzLmdldEhhbGZFZGdlT3JpZ2luKG4pO3RoaXMuZ2V0Q2x1c3RlckhhbGZFZGdlKGEpPT09biYmKHQhPT1uP3RoaXMuc2V0Q2x1c3RlckhhbGZFZGdlXyhhLHQpOnRoaXMuc2V0Q2x1c3RlckhhbGZFZGdlXyhhLE0pKSx0aGlzLm1faGFsZkVkZ2VEYXRhLmRlbGV0ZUVsZW1lbnQoZSksdGhpcy5tX2hhbGZFZGdlRGF0YS5kZWxldGVFbGVtZW50KG4pfWdldExlZnRTa2lwUG9seWxpbmVzXyhlLHQpe2xldCBzPXQ7Zm9yKDs7KXtpZihzPWUuZ2V0UHJldihzKSwtMT09PXMpcmV0dXJuIE07e2NvbnN0IHQ9ZS5nZXRFbGVtZW50KHMpO2lmKHRoaXMuZ2V0SGFsZkVkZ2VDaGFpbih0KSE9PXRoaXMuZ2V0SGFsZkVkZ2VDaGFpbih0aGlzLmdldEhhbGZFZGdlVHdpbih0KSkpcmV0dXJuIHR9fX1jaGVja1N0cnVjdHVyZUFmdGVyRGlydHlTd2VlcF8oKXtjb25zdCBlPXV0KHRoaXMubV9jaGVja0RpcnR5UGxhbmVzd2VlcFRvbGVyYW5jZSksdD1uZXcgUWUscz1uZXcgUWUsbj1uZXcgUWUscj1uZXcgUWUsaT1uZXcgUWU7Zm9yKGxldCBvPXRoaXMuZ2V0Rmlyc3RDbHVzdGVyKCk7byE9PU07bz10aGlzLmdldE5leHRDbHVzdGVyKG8pKXtjb25zdCBhPXRoaXMuZ2V0Q2x1c3RlckhhbGZFZGdlKG8pO2lmKGEhPT1NKXtsZXQgbz1hO3RoaXMuZ2V0SGFsZkVkZ2VGcm9tWFkobyx0KSx0aGlzLmdldEhhbGZFZGdlVG9YWShvLHMpLG4uc2V0U3ViKHMsdCk7bGV0IGg9bi5zcXJMZW5ndGgoKTtkb3tjb25zdCBhPW87aWYobz10aGlzLmdldEhhbGZFZGdlTmV4dCh0aGlzLmdldEhhbGZFZGdlVHdpbihvKSksbyE9PWEpe3RoaXMuZ2V0SGFsZkVkZ2VUb1hZKG8sciksaS5zZXRTdWIocix0KTtjb25zdCBhPWkuc3FyTGVuZ3RoKCksbT1pLmNyb3NzUHJvZHVjdChuKSxsPW0qbS8oYSpoKTtpZihNYXRoLm1pbihhLGgpKmw8PWUpe2lmKGkuZG90UHJvZHVjdChuKT49MClyZXR1cm4hMX1uLmFzc2lnbihpKSxoPWEscy5hc3NpZ24ocil9fXdoaWxlKG8hPT1hKX19cmV0dXJuITB9ZXh0cmFjdFBvbHlnb25QYXRoRnJvbUNoYWluXyhlLHQscyxuLHIpe2NvbnN0IGk9dGhpcy5tX3NoYXBlLmhhc1NlZ21lbnRQYXJlbnRhZ2UoKSxvPXRoaXMuZ2V0Q2hhaW5IYWxmRWRnZShzKTtsZXQgYT1vLGg9TTtjb25zdCBtPW5ldyBmZTtkb3tjb25zdCBvPXRoaXMuZ2V0SGFsZkVkZ2VUd2luKGEpO2lmKHRoaXMuZ2V0SGFsZkVkZ2VDaGFpbihvKSE9PXMpe2xldCBzPU07Y29uc3Qgbz10aGlzLmdldEhhbGZFZGdlT3JpZ2luKGEpO2lmKG49PT1NKXtjb25zdCBlPXRoaXMuZ2V0Q2x1c3RlclZlcnRleEl0ZXJhdG9yKG8pO3M9dGhpcy5nZXRWZXJ0ZXhGcm9tVmVydGV4SXRlcmF0b3IoZSl9ZWxzZSBmb3IobGV0IGU9dGhpcy5nZXRDbHVzdGVyVmVydGV4SXRlcmF0b3Iobyk7ZSE9PU07ZT10aGlzLmluY3JlbWVudFZlcnRleEl0ZXJhdG9yKGUpKXtjb25zdCB0PXRoaXMuZ2V0VmVydGV4RnJvbVZlcnRleEl0ZXJhdG9yKGUpO3M9PT1NJiYocz10KTtjb25zdCByPXRoaXMubV9zaGFwZS5nZXRQYXRoRnJvbVZlcnRleCh0KTtpZih0aGlzLm1fc2hhcGUuZ2V0R2VvbWV0cnlGcm9tUGF0aChyKT09PW4pe3M9dDticmVha319bGV0IGw7aWYoaD09PU0mJihoPWUuaW5zZXJ0UGF0aCh0LE0pLGUuc2V0Q2xvc2VkUGF0aChoLCEwKSksdGhpcy5tX3NoYXBlPT09ZT9sPWUuYWRkVmVydGV4KGgscyk6KHRoaXMubV9zaGFwZS5xdWVyeVBvaW50KHMsbSksbD1lLmFkZFBvaW50KGgsbSkpLHRoaXMuaXNIYWxmRWRnZUN1cnZlKGEpJiYodGhpcy5xdWVyeVNlZ21lbnRYWShhLHIpLGUuc2V0U2VnbWVudFRvSW5kZXgoZS5nZXRWZXJ0ZXhJbmRleChsKSxyLmdldCgpLmNsb25lKCkpKSxpKXtjb25zdCB0PXRoaXMuZ2V0U2VnbWVudFBhcmVudGFnZShhKTtlLnNldFNlZ21lbnRQYXJlbnRhZ2VBbmRCcmVhayhsLHQsdGhpcy5pc0JyZWFrTm9kZShvKSl9fWE9dGhpcy5nZXRIYWxmRWRnZU5leHQoYSl9d2hpbGUoYSE9PW8pfW1lcmdlU2VnbWVudFBhcmVudGFnZV8oKXtpZighdGhpcy5tX3NoYXBlLmhhc1NlZ21lbnRQYXJlbnRhZ2UoKSlyZXR1cm47YSgtMSE9PXRoaXMubV9jbHVzdGVyQnJlYWtOb2RlSW5kZXgpLGEoLTE9PT10aGlzLm1fc2VnbWVudFBhcmVudGFnZUluZGV4KTtmb3IobGV0IG49dGhpcy5nZXRGaXJzdENsdXN0ZXIoKTtuIT09TTtuPXRoaXMuZ2V0TmV4dENsdXN0ZXIobikpe2xldCBlPTA7Y29uc3QgdD10aGlzLmdldENsdXN0ZXJIYWxmRWRnZShuKTtpZih0IT09TSl7bGV0IHM9dDtkb3tlKysscz10aGlzLmdldEhhbGZFZGdlTmV4dCh0aGlzLmdldEhhbGZFZGdlVHdpbihzKSl9d2hpbGUocyE9PXQmJmU8Myl9MiE9PWUmJnRoaXMuc2V0QnJlYWtOb2RlKG4sITApfWxldCBlPVtdLHQ9W107dGhpcy5tX3NlZ21lbnRQYXJlbnRhZ2VJbmRleD10aGlzLmNyZWF0ZVVzZXJJbmRleEZvckhhbGZFZGdlcygpO2NvbnN0IHM9dGhpcy5jcmVhdGVVc2VySW5kZXhGb3JIYWxmRWRnZXMoKTtmb3IobGV0IG49dGhpcy5nZXRGaXJzdENsdXN0ZXIoKTtuIT09TTtuPXRoaXMuZ2V0TmV4dENsdXN0ZXIobikpe2NvbnN0IHI9dGhpcy5nZXRDbHVzdGVySGFsZkVkZ2Uobik7aWYociE9PU0pe2xldCBuPSExLGk9cjtkb3tsZXQgcj1pO2Zvcig7LTE9PT10aGlzLmdldEhhbGZFZGdlVXNlckluZGV4KHIscyk7KXtjb25zdCBpPXRoaXMuZ2V0SGFsZkVkZ2VOZXh0KHIpLG89dGhpcy5nZXRIYWxmRWRnZVR3aW4ocik7JHModGhpcyxyLHQpO2NvbnN0IGE9dC5hdCgtMSkucGFyZW50YWdlO2lmKCFuKXtjb25zdCB0PXRoaXMuZ2V0SGFsZkVkZ2VPcmlnaW4ocik7aWYoIXRoaXMuaXNCcmVha05vZGUodCkpe2NvbnN0IHQ9dGhpcy5nZXRIYWxmRWRnZVByZXYocik7ciE9PXQmJigkcyh0aGlzLHQsZSksbj0hMCl9fWlmKG4mJiFKcyh0LGUpKXtjb25zdCBlPXRoaXMuZ2V0SGFsZkVkZ2VPcmlnaW4ocik7dGhpcy5zZXRCcmVha05vZGUoZSwhMCl9ZT1ydCh0LHQ9ZSksbj0hMDtjb25zdCBoPXRoaXMuZ2V0SGFsZkVkZ2VPcmlnaW4oaSk7dGhpcy5pc0JyZWFrTm9kZShoKSYmKG49ITEpLHRoaXMuc2V0SGFsZkVkZ2VVc2VySW5kZXgocix0aGlzLm1fc2VnbWVudFBhcmVudGFnZUluZGV4LGEpLHRoaXMuc2V0SGFsZkVkZ2VVc2VySW5kZXgobyx0aGlzLm1fc2VnbWVudFBhcmVudGFnZUluZGV4LGEpLHRoaXMuc2V0SGFsZkVkZ2VVc2VySW5kZXgocixzLDEpLHRoaXMuc2V0SGFsZkVkZ2VVc2VySW5kZXgobyxzLDEpLHI9aX1pPXRoaXMuZ2V0SGFsZkVkZ2VOZXh0KHRoaXMuZ2V0SGFsZkVkZ2VUd2luKGkpKX13aGlsZShpIT09cil9fXRoaXMuZGVsZXRlVXNlckluZGV4Rm9ySGFsZkVkZ2VzKHMpfXJlZ2lzdGVyTmV3Qml0U2V0KGUpe2lmKG51bGw9PT10aGlzLm1fdW5pcXVlQml0U2V0cyYmKHRoaXMubV91bmlxdWVCaXRTZXRzPWVuKCksdGhpcy5tX3VuaXF1ZUJpdFNldHMuYWRkKHRoaXMuZ2V0RW1wdHlTZXQoKSkpLG51bGw9PT1lKXJldHVybiB0aGlzLmdldEVtcHR5U2V0KCk7cmV0dXJuIHRoaXMubV91bmlxdWVCaXRTZXRzLmhhcyhlKT90aGlzLm1fdW5pcXVlQml0U2V0cy5nZXQoZSk6KHRoaXMubV91bmlxdWVCaXRTZXRzLmFkZChlKSxlKX1nZXRMZWZ0RWRnZUJpdFNldF8oZSl7Y29uc3QgdD10aGlzLmdldEhhbGZFZGdlVXNlckluZGV4KGUsdGhpcy5tX2VkZ2VCaXRTZXRJbmRleExlZnQpO3JldHVybiBhKHQ+PTApLGEodGhpcy5tX2VkZ2VCaXRTZXRzLmF0KHQpKSx0aGlzLm1fZWRnZUJpdFNldHMuYXQodCl9Z2V0RWRnZUJpdFNldF8oZSl7Y29uc3QgdD10aGlzLmdldEhhbGZFZGdlVXNlckluZGV4KGUsdGhpcy5tX2VkZ2VCaXRTZXRJbmRleCk7cmV0dXJuIGEodD49MCksdGhpcy5tX2VkZ2VCaXRTZXRzLmF0KHQpfXNldEVkZ2VCaXRTZXRfKGUsdCl7YSh0aGlzLm1fYkJ1aWxkR2VvbWV0cnlQYXJlbnRhZ2VTZXRzKSx0PXRoaXMucmVnaXN0ZXJOZXdCaXRTZXQodCksLTE9PT10aGlzLm1fZWRnZUJpdFNldEluZGV4JiYodGhpcy5tX2VkZ2VCaXRTZXRJbmRleD10aGlzLmNyZWF0ZVVzZXJJbmRleEZvckhhbGZFZGdlcygpKTtjb25zdCBzPXRoaXMuZ2V0SGFsZkVkZ2VVc2VySW5kZXgoZSx0aGlzLm1fZWRnZUJpdFNldEluZGV4KTstMSE9PXM/dGhpcy5tX2VkZ2VCaXRTZXRzW3NdPXQ6KHRoaXMuc2V0SGFsZkVkZ2VVc2VySW5kZXgoZSx0aGlzLm1fZWRnZUJpdFNldEluZGV4LHRoaXMubV9lZGdlQml0U2V0cy5sZW5ndGgpLHRoaXMubV9lZGdlQml0U2V0cy5wdXNoKHQpKX1zZXRMZWZ0RWRnZUJpdFNldF8oZSx0KXthKHRoaXMubV9iQnVpbGRHZW9tZXRyeVBhcmVudGFnZVNldHMpLHQ9dGhpcy5yZWdpc3Rlck5ld0JpdFNldCh0KSwtMT09PXRoaXMubV9lZGdlQml0U2V0SW5kZXhMZWZ0JiYodGhpcy5tX2VkZ2VCaXRTZXRJbmRleExlZnQ9dGhpcy5jcmVhdGVVc2VySW5kZXhGb3JIYWxmRWRnZXMoKSk7Y29uc3Qgcz10aGlzLmdldEhhbGZFZGdlVXNlckluZGV4KGUsdGhpcy5tX2VkZ2VCaXRTZXRJbmRleExlZnQpOy0xIT09cz90aGlzLm1fZWRnZUJpdFNldHNbc109dDoodGhpcy5zZXRIYWxmRWRnZVVzZXJJbmRleChlLHRoaXMubV9lZGdlQml0U2V0SW5kZXhMZWZ0LHRoaXMubV9lZGdlQml0U2V0cy5sZW5ndGgpLHRoaXMubV9lZGdlQml0U2V0cy5wdXNoKHQpKX1zZXRDaGFpbkJpdFNldF8oZSx0KXthKHRoaXMubV9iQnVpbGRHZW9tZXRyeVBhcmVudGFnZVNldHMpLHQ9dGhpcy5yZWdpc3Rlck5ld0JpdFNldCh0KSwtMT09PXRoaXMubV9jaGFpbkJpdFNldEluZGV4JiYodGhpcy5tX2NoYWluQml0U2V0SW5kZXg9dGhpcy5jcmVhdGVVc2VySW5kZXhGb3JDaGFpbnMoKSk7Y29uc3Qgcz10aGlzLmdldENoYWluVXNlckluZGV4KGUsdGhpcy5tX2NoYWluQml0U2V0SW5kZXgpOy0xIT09cz90aGlzLm1fY2hhaW5CaXRTZXRzW3NdPXQ6KHRoaXMuc2V0Q2hhaW5Vc2VySW5kZXgoZSx0aGlzLm1fY2hhaW5CaXRTZXRJbmRleCx0aGlzLm1fY2hhaW5CaXRTZXRzLmxlbmd0aCksdGhpcy5tX2NoYWluQml0U2V0cy5wdXNoKHQpKX1nZXRFbXB0eVNldCgpe3JldHVybiB0aGlzLm1fZW1wdHlCaXRTZXR8fCh0aGlzLm1fZW1wdHlCaXRTZXQ9bmV3IExzKSx0aGlzLm1fZW1wdHlCaXRTZXR9ZGVsZXRlRWRnZUJpdFNldHNfKCl7LTEhPT10aGlzLm1fZWRnZUJpdFNldEluZGV4JiYodGhpcy5kZWxldGVVc2VySW5kZXhGb3JIYWxmRWRnZXModGhpcy5tX2VkZ2VCaXRTZXRJbmRleCksdGhpcy5tX2VkZ2VCaXRTZXRJbmRleD0tMSksLTEhPT10aGlzLm1fZWRnZUJpdFNldEluZGV4TGVmdCYmKHRoaXMuZGVsZXRlVXNlckluZGV4Rm9ySGFsZkVkZ2VzKHRoaXMubV9lZGdlQml0U2V0SW5kZXhMZWZ0KSx0aGlzLm1fZWRnZUJpdFNldEluZGV4TGVmdD0tMSksdGhpcy5tX2VkZ2VCaXRTZXRzLmxlbmd0aD0wLHRoaXMubV91bmlxdWVCaXRTZXRzPW51bGx9ZGVsZXRlQ2hhaW5CaXRTZXRzXygpey0xIT09dGhpcy5tX2NoYWluQml0U2V0SW5kZXgmJih0aGlzLmRlbGV0ZVVzZXJJbmRleEZvckNoYWlucyh0aGlzLm1fY2hhaW5CaXRTZXRJbmRleCksdGhpcy5tX2NoYWluQml0U2V0SW5kZXg9LTEsdGhpcy5tX2NoYWluQml0U2V0cy5sZW5ndGg9MCl9ZGJnUHJpbnRFZGdlXyhlKXt9ZGJnVmVyaWZ5RWRnZVNlZ21lbnQoZSl7fX10bi5jX0VkZ2VQYXJlbnRhZ2VNYXNrPX4oMTw8MzEpLHRuLmNfRWRnZUJpdE1hc2s9MTw8MzE7Y2xhc3Mgc257ZnJlZU5vZGVfKGUpe3RoaXMubV9saXN0Tm9kZXMuZGVsZXRlRWxlbWVudChlKX1uZXdOb2RlXygpe3JldHVybiB0aGlzLm1fbGlzdE5vZGVzLm5ld0VsZW1lbnQoKX1mcmVlTGlzdF8oZSl7dGhpcy5tX2xpc3RzLmRlbGV0ZUVsZW1lbnQoZSl9bmV3TGlzdF8oKXtyZXR1cm4gdGhpcy5tX2xpc3RzLm5ld0VsZW1lbnQoKX1Jbml0XyhlKXthKDApfWNvbnN0cnVjdG9yKGUpe3RoaXMubV9saXN0Tm9kZXM9bmV3IEJlKDIpLHRoaXMubV9saXN0T2ZMaXN0cz1zbi5zdF9udWxsTm9kZSgpLHRoaXMubV9iQWxsb3dOYXZpZ2F0aW9uQmV0d2Vlbkxpc3RzPSEwLHZvaWQgMD09PWUmJihlPSEwKSx0aGlzLm1fYkFsbG93TmF2aWdhdGlvbkJldHdlZW5MaXN0cz1lLHRoaXMubV9saXN0cz1uZXcgQmUodGhpcy5tX2JBbGxvd05hdmlnYXRpb25CZXR3ZWVuTGlzdHM/NDoyKX1jcmVhdGVMaXN0KCl7Y29uc3QgZT10aGlzLm5ld0xpc3RfKCk7cmV0dXJuIHRoaXMubV9iQWxsb3dOYXZpZ2F0aW9uQmV0d2Vlbkxpc3RzJiYodGhpcy5tX2xpc3RzLnNldEZpZWxkKGUsMyx0aGlzLm1fbGlzdE9mTGlzdHMpLHRoaXMubV9saXN0T2ZMaXN0cyE9PXNuLnN0X251bGxOb2RlKCkmJnRoaXMubV9saXN0cy5zZXRGaWVsZCh0aGlzLm1fbGlzdE9mTGlzdHMsMixlKSx0aGlzLm1fbGlzdE9mTGlzdHM9ZSksZX1kZWxldGVMaXN0KGUpe2xldCB0PXRoaXMuZ2V0Rmlyc3QoZSk7Zm9yKDt0IT09c24uc3RfbnVsbE5vZGUoKTspe2NvbnN0IGU9dDt0PXRoaXMuZ2V0TmV4dCh0KSx0aGlzLmZyZWVOb2RlXyhlKX1pZih0aGlzLm1fYkFsbG93TmF2aWdhdGlvbkJldHdlZW5MaXN0cyl7Y29uc3QgdD10aGlzLm1fbGlzdHMuZ2V0RmllbGQoZSwyKSxzPXRoaXMubV9saXN0cy5nZXRGaWVsZChlLDMpO3QhPT1zbi5zdF9udWxsTm9kZSgpP3RoaXMubV9saXN0cy5zZXRGaWVsZCh0LDMscyk6dGhpcy5tX2xpc3RPZkxpc3RzPXMscyE9PXNuLnN0X251bGxOb2RlKCkmJnRoaXMubV9saXN0cy5zZXRGaWVsZChzLDIsdCl9dGhpcy5mcmVlTGlzdF8oZSl9cmVzZXJ2ZUxpc3RzKGUpe3RoaXMubV9saXN0cy5zZXRDYXBhY2l0eShlKX1hZGRFbGVtZW50KGUsdCl7dGhpcy5tX2xpc3RzLmdldEZpZWxkKGUsMCk7Y29uc3Qgcz10aGlzLm1fbGlzdHMuZ2V0RmllbGQoZSwxKSxuPXRoaXMubmV3Tm9kZV8oKTtyZXR1cm4gcyE9PXNuLnN0X251bGxOb2RlKCk/KHRoaXMubV9saXN0Tm9kZXMuc2V0RmllbGQocywxLG4pLHRoaXMubV9saXN0cy5zZXRGaWVsZChlLDEsbikpOih0aGlzLm1fbGlzdHMuc2V0RmllbGQoZSwwLG4pLHRoaXMubV9saXN0cy5zZXRGaWVsZChlLDEsbikpLHRoaXMubV9saXN0Tm9kZXMuc2V0RmllbGQobiwwLHQpLG59cmVzZXJ2ZU5vZGVzKGUpe3RoaXMubV9saXN0Tm9kZXMuc2V0Q2FwYWNpdHkoZSl9ZGVsZXRlRWxlbWVudERpcmVjdChlLHQscyl7dCE9PXNuLnN0X251bGxOb2RlKCk/KHRoaXMubV9saXN0Tm9kZXMuc2V0RmllbGQodCwxLHRoaXMubV9saXN0Tm9kZXMuZ2V0RmllbGQocywxKSksdGhpcy5tX2xpc3RzLmdldEZpZWxkKGUsMSk9PT1zJiZ0aGlzLm1fbGlzdHMuc2V0RmllbGQoZSwxLHQpKToodGhpcy5tX2xpc3RzLnNldEZpZWxkKGUsMCx0aGlzLm1fbGlzdE5vZGVzLmdldEZpZWxkKHMsMSkpLHRoaXMubV9saXN0cy5nZXRGaWVsZChlLDEpPT09cyYmdGhpcy5tX2xpc3RzLnNldEZpZWxkKGUsMSxzbi5zdF9udWxsTm9kZSgpKSksdGhpcy5mcmVlTm9kZV8ocyl9ZGVsZXRlRWxlbWVudFNlYXJjaChlLHQpe2xldCBzPS0xLG49dGhpcy5nZXRGaXJzdChlKTtmb3IoO24hPT10OylzPW4sbj10aGlzLmdldE5leHQobik7dGhpcy5kZWxldGVFbGVtZW50RGlyZWN0KGUscyx0KX1jb25jYXRlbmF0ZUxpc3RzKGUsdCl7Y29uc3Qgcz10aGlzLm1fbGlzdHMuZ2V0RmllbGQoZSwxKSxuPXRoaXMubV9saXN0cy5nZXRGaWVsZCh0LDApO2lmKG4hPT1zbi5zdF9udWxsTm9kZSgpJiYocyE9PXNuLnN0X251bGxOb2RlKCk/KHRoaXMubV9saXN0Tm9kZXMuc2V0RmllbGQocywxLG4pLHRoaXMubV9saXN0cy5zZXRGaWVsZChlLDEsdGhpcy5tX2xpc3RzLmdldEZpZWxkKHQsMSkpKToodGhpcy5tX2xpc3RzLnNldEZpZWxkKGUsMCxuKSx0aGlzLm1fbGlzdHMuc2V0RmllbGQoZSwxLHRoaXMubV9saXN0cy5nZXRGaWVsZCh0LDEpKSkpLHRoaXMubV9iQWxsb3dOYXZpZ2F0aW9uQmV0d2Vlbkxpc3RzKXtjb25zdCBlPXRoaXMubV9saXN0cy5nZXRGaWVsZCh0LDIpLHM9dGhpcy5tX2xpc3RzLmdldEZpZWxkKHQsMyk7ZSE9PXNuLnN0X251bGxOb2RlKCk/dGhpcy5tX2xpc3RzLnNldEZpZWxkKGUsMyxzKTp0aGlzLm1fbGlzdE9mTGlzdHM9cyxzIT09c24uc3RfbnVsbE5vZGUoKSYmdGhpcy5tX2xpc3RzLnNldEZpZWxkKHMsMixlKX1yZXR1cm4gdGhpcy5mcmVlTGlzdF8odCksZX1nZXRFbGVtZW50KGUpe3JldHVybiB0aGlzLm1fbGlzdE5vZGVzLmdldEZpZWxkKGUsMCl9Z2V0RGF0YShlKXtyZXR1cm4gdGhpcy5nZXRFbGVtZW50KGUpfXNldEVsZW1lbnQoZSx0KXthKDApfWdldE5leHQoZSl7cmV0dXJuIHRoaXMubV9saXN0Tm9kZXMuZ2V0RmllbGQoZSwxKX1nZXRGaXJzdChlKXtyZXR1cm4gdGhpcy5tX2xpc3RzLmdldEZpZWxkKGUsMCl9Z2V0Rmlyc3RFbGVtZW50KGUpe2NvbnN0IHQ9dGhpcy5nZXRGaXJzdChlKTtyZXR1cm4gdGhpcy5nZXRFbGVtZW50KHQpfXN0YXRpYyBzdF9udWxsTm9kZSgpe3JldHVybi0xfWNsZWFyKCl7dGhpcy5tX2xpc3ROb2Rlcy5kZWxldGVBbGwoITApLHRoaXMubV9saXN0cy5kZWxldGVBbGwoITApLHRoaXMubV9saXN0T2ZMaXN0cz1zbi5zdF9udWxsTm9kZSgpfWlzRW1wdHkoZSl7cmV0dXJuIGEoMCksITF9Z2V0Tm9kZUNvdW50KCl7cmV0dXJuIHRoaXMubV9saXN0Tm9kZXMuc2l6ZSgpfWdldExpc3RDb3VudCgpe3JldHVybiB0aGlzLm1fbGlzdHMuc2l6ZSgpfWdldEZpcnN0TGlzdCgpe3JldHVybiB0aGlzLm1fbGlzdE9mTGlzdHN9Z2V0TmV4dExpc3QoZSl7cmV0dXJuIHRoaXMubV9saXN0cy5nZXRGaWVsZChlLDMpfX1mdW5jdGlvbiBubihlPS0xKXtyZXR1cm57bV92YWx1ZTplLG1fbGluZTpuZXcgSCxtX3NlZ21lbnQ6bnVsbCxtX3NlZ21lbnRJbmZvOm5ldyByZSgtMSksbV9lbnY6bmV3IGF0KDAsMCksbV9keGR5OjU1NTU1NTU1LG1fYkhvcml6b250YWw6ITEsbV9iQ3VydmU6ITF9fWNvbnN0IHJuPTY3O2NsYXNzIG9uIGV4dGVuZHMgWWV7Y29uc3RydWN0b3IoZSx0LHMpe3N1cGVyKCEwKSx0aGlzLm1fYkludGVyc2VjdGlvbkRldGVjdGVkPSExLHRoaXMubV9ub25TaW1wbGVSZXN1bHQ9bmV3IHRzLHRoaXMubV90ZW1wU2ltcGxlRWRnZTE9bm4oKSx0aGlzLm1fdGVtcFNpbXBsZUVkZ2UyPW5uKCksdGhpcy5tX3ByZXYxPU0sdGhpcy5tX3ByZXYyPU0sdGhpcy5tX3ZlcnRleDE9TSx0aGlzLm1fdmVydGV4Mj1NLHRoaXMubV9jdXJyZW50Tm9kZT0tMSx0aGlzLm1fcHJldlgxPU51bWJlci5OYU4sdGhpcy5tX3ByZXZYMj1OdW1iZXIuTmFOLHRoaXMubV9wcmV2WT1OdW1iZXIuTmFOLHRoaXMubV9wcmV2WD0wLHRoaXMubV9zd2VlcFk9TnVtYmVyLk5hTix0aGlzLm1fc3dlZXBYPTAsdGhpcy5tX3B0U3dlZXA9bmV3IFFlLHRoaXMubV9zaW1wbGVFZGdlc0NhY2hlPVtdLHRoaXMubV9zaW1wbGVFZGdlc1JlY3ljbGU9W10sdGhpcy5tX2NPdXRzdGFuZGluZ0NvbnN0cnVjdGVkRWRnZXM9MCx0aGlzLm1fc2hhcGU9ZSx0aGlzLm1fYlNoYXBlSGFzU2VnbWVudHM9dGhpcy5tX3NoYXBlLmhhc0N1cnZlcygpLHRoaXMubV90b2xlcmFuY2U9dCx0aGlzLm1fdG9sZXJhbmNlMTA9MTAqdCx0aGlzLm1fYklzU2ltcGxlPXM7Y29uc3Qgbj1NYXRoLnRydW5jKE1hdGgubWluKDMqZS5nZXRUb3RhbFBvaW50Q291bnQoKS8yLHJuKSkscj1NYXRoLm1pbig3LG4pO3RoaXMubV9zaW1wbGVFZGdlc0NhY2hlLmxlbmd0aD1yfXRyeUdldENhY2hlZEVkZ2VfKGUpe2NvbnN0IHQ9dGhpcy5tX3NpbXBsZUVkZ2VzQ2FjaGVbKGUmYnQoKSkldGhpcy5tX3NpbXBsZUVkZ2VzQ2FjaGUubGVuZ3RoXTtyZXR1cm4gdCYmdC5tX3ZhbHVlPT09ZT90Om51bGx9dHJ5RGVsZXRlQ2FjaGVkRWRnZV8oZSl7Y29uc3QgdD0oZSZidCgpKSV0aGlzLm1fc2ltcGxlRWRnZXNDYWNoZS5sZW5ndGgscz10aGlzLm1fc2ltcGxlRWRnZXNDYWNoZVt0XTtzJiZzLm1fdmFsdWU9PT1lJiYodGhpcy5tX3NpbXBsZUVkZ2VzUmVjeWNsZS5wdXNoKHMpLHRoaXMubV9zaW1wbGVFZGdlc0NhY2hlW3RdPW51bGwpfXRyeUNyZWF0ZUNhY2hlZEVkZ2VfKGUpe2NvbnN0IHQ9KGUmYnQoKSkldGhpcy5tX3NpbXBsZUVkZ2VzQ2FjaGUubGVuZ3RoO2xldCBzPXRoaXMubV9zaW1wbGVFZGdlc0NhY2hlW3RdO3JldHVybiBzP251bGw6KDA9PT10aGlzLm1fc2ltcGxlRWRnZXNSZWN5Y2xlLmxlbmd0aD8ocz1ubigpLHRoaXMubV9jT3V0c3RhbmRpbmdDb25zdHJ1Y3RlZEVkZ2VzKyspOnM9dGhpcy5tX3NpbXBsZUVkZ2VzUmVjeWNsZS5wb3AoKSxzLm1fdmFsdWU9ZSx0aGlzLm1fc2ltcGxlRWRnZXNDYWNoZVt0XT1zLHMpfWluaXRTaW1wbGVFZGdlXyhlLHQpe3RoaXMubV9iU2hhcGVIYXNTZWdtZW50cyYmdGhpcy5pbml0U2ltcGxlRWRnZUhlbHBlcl8oZSx0KXx8ZS5tX2JDdXJ2ZXx8KHRoaXMubV9zaGFwZS5xdWVyeUxpbmVDb25uZWN0b3IodCxlLm1fbGluZSwhMCksZS5tX3NlZ21lbnQ9ZS5tX2xpbmUsZS5tX2Vudi5zZXRDb29yZHNOb05BTihlLm1fbGluZS5nZXRTdGFydFgoKSxlLm1fbGluZS5nZXRFbmRYKCkpLGUubV9lbnYudm1heCs9dGhpcy5tX3RvbGVyYW5jZSxlLm1fbGluZS5vcmllbnRCb3R0b21VcCgpLGUubV9iSG9yaXpvbnRhbD1lLm1fbGluZS5nZXRFbmRZKCk9PT1lLm1fbGluZS5nZXRTdGFydFkoKSxlLm1fYkhvcml6b250YWx8fChlLm1fZHhkeT0oZS5tX2xpbmUuZ2V0RW5kWCgpLWUubV9saW5lLmdldFN0YXJ0WCgpKS8oZS5tX2xpbmUuZ2V0RW5kWSgpLWUubV9saW5lLmdldFN0YXJ0WSgpKSkpfWluaXRTaW1wbGVFZGdlSGVscGVyXyhlLHQpe2lmKGUubV9zZWdtZW50PXRoaXMubV9zaGFwZS5nZXRTZWdtZW50KHQpLGUubV9zZWdtZW50SW5mbz10aGlzLm1fc2hhcGUuZ2V0T3JpZ2luYWxTZWdtZW50SW5mbyh0KSxlLm1fYkN1cnZlPW51bGwhPT1lLm1fc2VnbWVudCxlLm1fYkN1cnZlKXtjb25zdCB0PWUubV9zZWdtZW50LmNsb25lKCk7cmV0dXJuIHQub3JpZW50Qm90dG9tVXAoKSxlLm1fc2VnbWVudD10LGUubV9lbnY9ZS5tX3NlZ21lbnQucXVlcnlJbnRlcnZhbCgwLDApLGUubV9lbnYudm1heCs9dGhpcy5tX3RvbGVyYW5jZSwhMH1yZXR1cm4hMX1jb21wYXJlVHdvU2VnbWVudHNfKGUsdCl7Y29uc3Qgcz1lLmdldFN0YXJ0WFkoKSxuPWUuZ2V0RW5kWFkoKSxyPXQuZ2V0U3RhcnRYWSgpLGk9dC5nZXRFbmRYWSgpO2lmKHRoaXMubV9wdFN3ZWVwLnNldENvb3Jkcyh0aGlzLm1fc3dlZXBYLHRoaXMubV9zd2VlcFkpLHMuaXNFcXVhbFBvaW50MkQocikmJnRoaXMubV9zd2VlcFk9PT1zLnkpe3RoaXMubV9wdFN3ZWVwLmFzc2lnbihuLmNvbXBhcmUoaSk8MD9uOmkpO2NvbnN0IHM9ZS5pbnRlcnNlY3Rpb25PZllNb25vdG9uaWNXaXRoQXhpc1godGhpcy5tX3B0U3dlZXAueSx0aGlzLm1fcHRTd2VlcC54KSxyPXQuaW50ZXJzZWN0aW9uT2ZZTW9ub3RvbmljV2l0aEF4aXNYKHRoaXMubV9wdFN3ZWVwLnksdGhpcy5tX3B0U3dlZXAueCk7aWYoTWF0aC5hYnMocy1yKT50aGlzLm1fdG9sZXJhbmNlKXJldHVybiBzPHI/LTE6MX1jb25zdCBvPXMuY29tcGFyZShyKTwwP3I6cyxhPW4uY29tcGFyZShpKTwwP246aTtsZXQgaD0wLG09MDtmb3IobGV0IGw9MTtsPDU7bCsrKXtTdChvLGEsbC81LHRoaXMubV9wdFN3ZWVwKTtjb25zdCBzPWUuaW50ZXJzZWN0aW9uT2ZZTW9ub3RvbmljV2l0aEF4aXNYKHRoaXMubV9wdFN3ZWVwLnksdGhpcy5tX3B0U3dlZXAueCksbj10LmludGVyc2VjdGlvbk9mWU1vbm90b25pY1dpdGhBeGlzWCh0aGlzLm1fcHRTd2VlcC55LHRoaXMubV9wdFN3ZWVwLngpLHI9TWF0aC5hYnMocy1uKTtyPmgmJihoPXIsbT1zPG4/LTE6MSl9cmV0dXJuIDA9PT1tP3RoaXMuZXJyb3JDcmFja2luZygpOm19Y29tcGFyZU5vbkhvcml6b250YWxfKGUsdCl7aWYoZS5tX2xpbmUuZ2V0U3RhcnRZKCk9PT10Lm1fbGluZS5nZXRTdGFydFkoKSYmZS5tX2xpbmUuZ2V0U3RhcnRYKCk9PT10Lm1fbGluZS5nZXRTdGFydFgoKSlyZXR1cm4gZS5tX2xpbmUuZ2V0RW5kWSgpPT09dC5tX2xpbmUuZ2V0RW5kWSgpJiZlLm1fbGluZS5nZXRFbmRYKCk9PT10Lm1fbGluZS5nZXRFbmRYKCk/dGhpcy5tX2JJc1NpbXBsZT90aGlzLmVycm9yQ29pbmNpZGVudCgpOjA6dGhpcy5jb21wYXJlTm9uSG9yaXpvbnRhbFVwcGVyRW5kXyhlLHQpO2lmKGUubV9saW5lLmdldEVuZFkoKT09PXQubV9saW5lLmdldEVuZFkoKSYmZS5tX2xpbmUuZ2V0RW5kWCgpPT09dC5tX2xpbmUuZ2V0RW5kWCgpKXJldHVybiB0aGlzLmNvbXBhcmVOb25Ib3Jpem9udGFsTG93ZXJFbmRfKGUsdCk7Y29uc3Qgcz10aGlzLmNvbXBhcmVOb25Ib3Jpem9udGFsTG93ZXJFbmRfKGUsdCksbj10aGlzLmNvbXBhcmVOb25Ib3Jpem9udGFsVXBwZXJFbmRfKGUsdCk7cmV0dXJuIHM8MCYmbjwwPy0xOnM+MCYmbj4wPzE6dGhpcy5lcnJvckNyYWNraW5nKCl9Y29tcGFyZUhvcml6b250YWwxQ2FzZTFfKGUsdCl7aWYoZS5nZXRFbmRYKCk+dC5nZXRFbmRYKCkpe2lmKHQuZ2V0RW5kWCgpPnQuZ2V0U3RhcnRYKCkmJnQuZ2V0RW5kWSgpLXQuZ2V0U3RhcnRZKCk8Mip0aGlzLm1fdG9sZXJhbmNlJiZlLmlzSW50ZXJzZWN0aW5nUG9pbnQodC5nZXRFbmRYWSgpLHRoaXMubV90b2xlcmFuY2UsITApKXJldHVybiB0aGlzLmVycm9yQ3JhY2tpbmcoKX1lbHNle2lmKCh0LmdldEVuZFkoKS10LmdldFN0YXJ0WSgpKS8odC5nZXRFbmRYKCktdC5nZXRTdGFydFgoKSkqKGUuZ2V0RW5kWCgpLWUuZ2V0U3RhcnRYKCkpPHRoaXMubV90b2xlcmFuY2UxMCYmdC5pc0ludGVyc2VjdGluZ1BvaW50KGUuZ2V0RW5kWFkoKSx0aGlzLm1fdG9sZXJhbmNlLCEwKSlyZXR1cm4gdGhpcy5lcnJvckNyYWNraW5nKCl9cmV0dXJuIDF9Y29tcGFyZUhvcml6b250YWwxQ2FzZTJfKGUsdCl7aWYoZS5nZXRTdGFydFgoKTx0LmdldFN0YXJ0WCgpKXtpZih0LmdldEVuZFgoKT50LmdldFN0YXJ0WCgpJiZ0LmdldEVuZFkoKS10LmdldFN0YXJ0WSgpPDIqdGhpcy5tX3RvbGVyYW5jZSYmZS5pc0ludGVyc2VjdGluZ1BvaW50KHQuZ2V0RW5kWFkoKSx0aGlzLm1fdG9sZXJhbmNlLCEwKSlyZXR1cm4gdGhpcy5lcnJvckNyYWNraW5nKCl9ZWxzZXtpZigodC5nZXRFbmRZKCktdC5nZXRTdGFydFkoKSkvKHQuZ2V0RW5kWCgpLXQuZ2V0U3RhcnRYKCkpKihlLmdldFN0YXJ0WCgpLWUuZ2V0RW5kWCgpKTx0aGlzLm1fdG9sZXJhbmNlMTAmJnQuaXNJbnRlcnNlY3RpbmdQb2ludChlLmdldFN0YXJ0WFkoKSx0aGlzLm1fdG9sZXJhbmNlLCEwKSlyZXR1cm4gdGhpcy5lcnJvckNyYWNraW5nKCl9cmV0dXJuLTF9Y29tcGFyZUhvcml6b250YWwxQ2FzZTNfKGUsdCl7Y29uc3Qgcz1RZS5nZXROQU4oKTtzLnNldFN1Yih0LmdldEVuZFhZKCksdC5nZXRTdGFydFhZKCkpLHMucmlnaHRQZXJwZW5kaWN1bGFyVGhpcygpLHMubm9ybWFsaXplKCk7Y29uc3Qgbj1RZS5nZXROQU4oKTtuLnNldFN1YihlLmdldFN0YXJ0WFkoKSx0LmdldFN0YXJ0WFkoKSk7Y29uc3Qgcj1RZS5nZXROQU4oKTtyLnNldFN1YihlLmdldEVuZFhZKCksdC5nZXRTdGFydFhZKCkpO2NvbnN0IGk9bi5kb3RQcm9kdWN0KHMpLG89ci5kb3RQcm9kdWN0KHMpLGE9TWF0aC5hYnMoaSksaD1NYXRoLmFicyhvKTtpZihhPGgpe2lmKGE8dGhpcy5tX3RvbGVyYW5jZTEwJiZ0LmlzSW50ZXJzZWN0aW5nUG9pbnQoZS5nZXRTdGFydFhZKCksdGhpcy5tX3RvbGVyYW5jZSwhMCkpcmV0dXJuIHRoaXMuZXJyb3JDcmFja2luZygpfWVsc2UgaWYoaDx0aGlzLm1fdG9sZXJhbmNlMTAmJnQuaXNJbnRlcnNlY3RpbmdQb2ludChlLmdldEVuZFhZKCksdGhpcy5tX3RvbGVyYW5jZSwhMCkpcmV0dXJuIHRoaXMuZXJyb3JDcmFja2luZygpO3JldHVybiBpPDAmJm88MD8tMTppPjAmJm8+MD8xOnRoaXMuZXJyb3JDcmFja2luZygpfWNvbXBhcmVIb3Jpem9udGFsMV8oZSx0KXtyZXR1cm4gZS5nZXRTdGFydFkoKT09PXQuZ2V0U3RhcnRZKCkmJmUuZ2V0U3RhcnRYKCk9PT10LmdldFN0YXJ0WCgpP3RoaXMuY29tcGFyZUhvcml6b250YWwxQ2FzZTFfKGUsdCk6ZS5nZXRFbmRZKCk9PT10LmdldEVuZFkoKSYmZS5nZXRFbmRYKCk9PT10LmdldEVuZFgoKT90aGlzLmNvbXBhcmVIb3Jpem9udGFsMUNhc2UyXyhlLHQpOnRoaXMuY29tcGFyZUhvcml6b250YWwxQ2FzZTNfKGUsdCl9Y29tcGFyZUhvcml6b250YWwyXyhlLHQpe3JldHVybiBlLmdldEVuZFkoKT09PXQuZ2V0RW5kWSgpJiZlLmdldEVuZFgoKT09PXQuZ2V0RW5kWCgpJiZlLmdldFN0YXJ0WSgpPT09dC5nZXRTdGFydFkoKSYmZS5nZXRTdGFydFgoKT09PXQuZ2V0U3RhcnRYKCk/dGhpcy5tX2JJc1NpbXBsZT90aGlzLmVycm9yQ29pbmNpZGVudCgpOjA6dGhpcy5lcnJvckNyYWNraW5nKCl9Y29tcGFyZU5vbkhvcml6b250YWxMb3dlckVuZF8oZSx0KXtsZXQgcz0xO2lmKGUubV9saW5lLmdldFN0YXJ0WSgpPHQubV9saW5lLmdldFN0YXJ0WSgpKXtzPS0xO2NvbnN0IG49ZTtlPXQsdD1ufWNvbnN0IG49ZS5tX2xpbmUscj10Lm1fbGluZSxpPW4uZ2V0U3RhcnRYKCktci5nZXRTdGFydFgoKSxvPXQubV9keGR5KihuLmdldFN0YXJ0WSgpLXIuZ2V0U3RhcnRZKCkpLGE9dGhpcy5tX3RvbGVyYW5jZTEwO3JldHVybiBpPG8tYT8tczppPm8rYT9zOnIuaXNJbnRlcnNlY3RpbmdQb2ludChuLmdldFN0YXJ0WFkoKSx0aGlzLm1fdG9sZXJhbmNlLCEwKT90aGlzLmVycm9yQ3JhY2tpbmcoKTppPG8/LXM6c31jb21wYXJlTm9uSG9yaXpvbnRhbFVwcGVyRW5kXyhlLHQpe2xldCBzPTE7aWYodC5tX2xpbmUuZ2V0RW5kWSgpPGUubV9saW5lLmdldEVuZFkoKSl7cz0tMTtjb25zdCBuPWU7ZT10LHQ9bn1jb25zdCBuPWUubV9saW5lLHI9dC5tX2xpbmUsaT1uLmdldEVuZFgoKS1yLmdldFN0YXJ0WCgpLG89dC5tX2R4ZHkqKG4uZ2V0RW5kWSgpLXIuZ2V0U3RhcnRZKCkpLGE9dGhpcy5tX3RvbGVyYW5jZTEwO3JldHVybiBpPG8tYT8tczppPm8rYT9zOnIuaXNJbnRlcnNlY3RpbmdQb2ludChuLmdldEVuZFhZKCksdGhpcy5tX3RvbGVyYW5jZSwhMCk/dGhpcy5lcnJvckNyYWNraW5nKCk6aTxvPy1zOnN9ZXJyb3JDb2luY2lkZW50KCl7dGhpcy5tX2JJbnRlcnNlY3Rpb25EZXRlY3RlZD0hMDtjb25zdCBlPTc7cmV0dXJuIHRoaXMubV9ub25TaW1wbGVSZXN1bHQ9bmV3IHRzKGUsdGhpcy5tX3ZlcnRleDEsdGhpcy5tX3ZlcnRleDIpLC0xfWVycm9yQ3JhY2tpbmcoKXtpZih0aGlzLm1fYkludGVyc2VjdGlvbkRldGVjdGVkPSEwLHRoaXMubV9iSXNTaW1wbGUpe2NvbnN0IGU9Njt0aGlzLm1fbm9uU2ltcGxlUmVzdWx0PW5ldyB0cyhlLHRoaXMubV92ZXJ0ZXgxLHRoaXMubV92ZXJ0ZXgyKX1lbHNlIHRoaXMubV9wcmV2MT1NLHRoaXMubV9wcmV2Mj1NLHRoaXMubV92ZXJ0ZXgxPU0sdGhpcy5tX3ZlcnRleDI9TTtyZXR1cm4tMX1jb21wYXJlU2VnbWVudHNfKGUsdCxzLG4pe2lmKHMubV9lbnYudm1heDxuLm1fZW52LnZtaW4pcmV0dXJuLTE7aWYobi5tX2Vudi52bWF4PHMubV9lbnYudm1pbilyZXR1cm4gMTtpZighcy5tX2JDdXJ2ZSYmIW4ubV9iQ3VydmUpe2xldCBlPXMubV9iSG9yaXpvbnRhbD8xOjA7cmV0dXJuIGV8PW4ubV9iSG9yaXpvbnRhbD8yOjAsMD09PWU/dGhpcy5jb21wYXJlTm9uSG9yaXpvbnRhbF8ocyxuKToxPT09ZT90aGlzLmNvbXBhcmVIb3Jpem9udGFsMV8ocy5tX2xpbmUsbi5tX2xpbmUpOjI9PT1lPy0xKnRoaXMuY29tcGFyZUhvcml6b250YWwxXyhuLm1fbGluZSxzLm1fbGluZSk6dGhpcy5jb21wYXJlSG9yaXpvbnRhbDJfKHMubV9saW5lLG4ubV9saW5lKX1pZih0aGlzLm1fYkludGVyc2VjdGlvbkRldGVjdGVkKXJldHVybi0xO2NvbnN0IHI9dGhpcy5tX3ByZXZZPT09dGhpcy5tX3N3ZWVwWSYmdGhpcy5tX3ByZXZYPT09dGhpcy5tX3N3ZWVwWDtsZXQgaSxvO2lmKHImJmU9PT10aGlzLm1fcHJldjE/aT10aGlzLm1fcHJldlgxOihpPU51bWJlci5OYU4sdGhpcy5tX3ByZXYxPU0pLHImJnQ9PT10aGlzLm1fcHJldjI/bz10aGlzLm1fcHJldlgyOihvPU51bWJlci5OYU4sdGhpcy5tX3ByZXYyPU0pLHRoaXMubV9wcmV2WT10aGlzLm1fc3dlZXBZLHRoaXMubV9wcmV2WD10aGlzLm1fc3dlZXBYLE51bWJlci5pc05hTihpKSl7dGhpcy5tX3ByZXYxPWU7Y29uc3QgdD1zLm1fc2VnbWVudC5pbnRlcnNlY3Rpb25PZllNb25vdG9uaWNXaXRoQXhpc1godGhpcy5tX3N3ZWVwWSx0aGlzLm1fc3dlZXBYKTtpPXQsdGhpcy5tX3ByZXZYMT10fWlmKE51bWJlci5pc05hTihvKSl7dGhpcy5tX3ByZXYyPXQ7Y29uc3QgZT1uLm1fc2VnbWVudC5pbnRlcnNlY3Rpb25PZllNb25vdG9uaWNXaXRoQXhpc1godGhpcy5tX3N3ZWVwWSx0aGlzLm1fc3dlZXBYKTtvPWUsdGhpcy5tX3ByZXZYMj1lfWNvbnN0IGE9aighMCwhMCxzLm1fc2VnbWVudCxuLm1fc2VnbWVudCx0aGlzLm1fdG9sZXJhbmNlLCEwKTtyZXR1cm4gMCE9PWE/Mj09PWE/dGhpcy5tX2JJc1NpbXBsZT90aGlzLmVycm9yQ29pbmNpZGVudCgpOnMubV9zZWdtZW50SW5mby5lcXVhbHMobi5tX3NlZ21lbnRJbmZvKT8wOnRoaXMuZXJyb3JDcmFja2luZygpOnRoaXMuZXJyb3JDcmFja2luZygpOk1hdGguYWJzKGktbyk8PXRoaXMubV90b2xlcmFuY2U/dGhpcy5jb21wYXJlVHdvU2VnbWVudHNfKHMubV9zZWdtZW50LG4ubV9zZWdtZW50KTppPG8/LTE6aT5vPzE6MH1jbGVhckludGVyc2VjdGlvbkRldGVjdGVkRmxhZygpe3RoaXMubV9iSW50ZXJzZWN0aW9uRGV0ZWN0ZWQ9ITF9aW50ZXJzZWN0aW9uRGV0ZWN0ZWQoKXtyZXR1cm4gdGhpcy5tX2JJbnRlcnNlY3Rpb25EZXRlY3RlZH1nZXRMYXN0Q29tcGFyZWROb2RlKCl7cmV0dXJuIHRoaXMubV9jdXJyZW50Tm9kZX1nZXRSZXN1bHQoKXtyZXR1cm4gdGhpcy5tX25vblNpbXBsZVJlc3VsdH1zZXRTd2VlcFkoZSx0KXt0aGlzLm1fc3dlZXBZPWUsdGhpcy5tX3N3ZWVwWD10LHRoaXMubV9wcmV2MT1NLHRoaXMubV9wcmV2Mj1NLHRoaXMubV92ZXJ0ZXgxPU0sdGhpcy5tX3ZlcnRleDI9TX1jb21wYXJlKGUsdCxzKXtpZih0aGlzLm1fYkludGVyc2VjdGlvbkRldGVjdGVkKXJldHVybi0xO2NvbnN0IG49ZS5nZXRFbGVtZW50KHMpLHI9dDtyZXR1cm4gdGhpcy5tX2N1cnJlbnROb2RlPXMsdGhpcy5jb21wYXJlU2VnbWVudHMocixyLG4sbil9Y29tcGFyZVNlZ21lbnRzKGUsdCxzLG4pe2xldCByPXRoaXMudHJ5R2V0Q2FjaGVkRWRnZV8oZSk7bnVsbD09PXI/dGhpcy5tX3ZlcnRleDE9PT10P3I9dGhpcy5tX3RlbXBTaW1wbGVFZGdlMToodGhpcy5tX3ZlcnRleDE9dCxyPXRoaXMudHJ5Q3JlYXRlQ2FjaGVkRWRnZV8oZSksbnVsbD09PXImJihyPXRoaXMubV90ZW1wU2ltcGxlRWRnZTEsdGhpcy5tX3RlbXBTaW1wbGVFZGdlMS5tX3ZhbHVlPWUpLHRoaXMuaW5pdFNpbXBsZUVkZ2VfKHIsdCkpOnRoaXMubV92ZXJ0ZXgxPXQ7bGV0IGk9dGhpcy50cnlHZXRDYWNoZWRFZGdlXyhzKTtyZXR1cm4gbnVsbD09PWk/dGhpcy5tX3ZlcnRleDI9PT1uP2k9dGhpcy5tX3RlbXBTaW1wbGVFZGdlMjoodGhpcy5tX3ZlcnRleDI9bixpPXRoaXMudHJ5Q3JlYXRlQ2FjaGVkRWRnZV8ocyksbnVsbD09PWkmJihpPXRoaXMubV90ZW1wU2ltcGxlRWRnZTIsdGhpcy5tX3RlbXBTaW1wbGVFZGdlMi5tX3ZhbHVlPXMpLHRoaXMuaW5pdFNpbXBsZUVkZ2VfKGksbikpOnRoaXMubV92ZXJ0ZXgyPW4sdGhpcy5jb21wYXJlU2VnbWVudHNfKHQsbixyLGkpfW9uRGVsZXRlKGUpe3RoaXMudHJ5RGVsZXRlQ2FjaGVkRWRnZV8oZSl9b25TZXQoZSl7dGhpcy50cnlEZWxldGVDYWNoZWRFZGdlXyhlKX1vbkVuZFNlYXJjaChlKXt0aGlzLnRyeURlbGV0ZUNhY2hlZEVkZ2VfKGUpfW9uQWRkVW5pcXVlRWxlbWVudEZhaWxlZChlKXt0aGlzLnRyeURlbGV0ZUNhY2hlZEVkZ2VfKGUpfX1jbGFzcyBhbntjb25zdHJ1Y3RvcihlLHQpe3RoaXMubV9iSW50ZXJzZWN0aW9uRGV0ZWN0ZWQ9ITEsdGhpcy5tX3BvaW50T2ZJbnRlcmVzdD1RZS5nZXROQU4oKSx0aGlzLm1fbGluZTE9bmV3IEgsdGhpcy5tX3NlZzE9bnVsbCx0aGlzLm1fZW52PWF0LmNvbnN0cnVjdEVtcHR5KCksdGhpcy5tX3ZlcnRleDE9LTEsdGhpcy5tX2N1cnJlbnROb2RlPS0xLHRoaXMubV9taW5EaXN0PU51bWJlci5NQVhfVkFMVUUsdGhpcy5tX3NoYXBlPWUsdGhpcy5tX3RvbGVyYW5jZT10fWdldEN1cnJlbnROb2RlKCl7cmV0dXJuIHRoaXMubV9jdXJyZW50Tm9kZX1jbGVhckludGVyc2VjdGlvbkRldGVjdGVkRmxhZygpe3RoaXMubV9iSW50ZXJzZWN0aW9uRGV0ZWN0ZWQ9ITEsdGhpcy5tX21pbkRpc3Q9TnVtYmVyLk1BWF9WQUxVRX1pbnRlcnNlY3Rpb25EZXRlY3RlZCgpe3JldHVybiB0aGlzLm1fYkludGVyc2VjdGlvbkRldGVjdGVkfXNldFBvaW50KGUpe3RoaXMubV9wb2ludE9mSW50ZXJlc3QuYXNzaWduKGUpfWNvbXBhcmUoZSx0KXtjb25zdCBzPWUuZ2V0RWxlbWVudCh0KTtyZXR1cm4gdGhpcy5jb21wYXJlVmVydGV4KGUsdCxzKX1jb21wYXJlVmVydGV4KHQscyxuKXtsZXQgcixpPXRoaXMubV9zaGFwZS5nZXRTZWdtZW50KG4pLG89ITA7aWYobnVsbD09aSl0aGlzLm1fc2hhcGUucXVlcnlMaW5lQ29ubmVjdG9yKG4sdGhpcy5tX2xpbmUxLCEwKSx0aGlzLm1fZW52LnNldENvb3Jkc05vTkFOKHRoaXMubV9saW5lMS5nZXRTdGFydFgoKSx0aGlzLm1fbGluZTEuZ2V0RW5kWCgpKSxpPXRoaXMubV9saW5lMSxyPXRoaXMubV9saW5lMS5nZXRTdGFydFkoKT09PXRoaXMubV9saW5lMS5nZXRFbmRZKCk7ZWxzZXtjb25zdCB0PWUuY29uc3RydWN0RW1wdHkoKTtpLnF1ZXJ5TG9vc2VFbnZlbG9wZSh0KSx0LnF1ZXJ5SW50ZXJ2YWxYKHRoaXMubV9lbnYpLHI9MD09PXQuaGVpZ2h0KCksbz0hMX1pZih0aGlzLm1fcG9pbnRPZkludGVyZXN0LngrdGhpcy5tX3RvbGVyYW5jZTx0aGlzLm1fZW52LnZtaW4pcmV0dXJuLTE7aWYodGhpcy5tX3BvaW50T2ZJbnRlcmVzdC54LXRoaXMubV90b2xlcmFuY2U+dGhpcy5tX2Vudi52bWF4KXJldHVybiAxO2lmKHIpcmV0dXJuIHRoaXMubV9jdXJyZW50Tm9kZT1zLHRoaXMubV9iSW50ZXJzZWN0aW9uRGV0ZWN0ZWQ9ITAsMDtsZXQgYT0wO2lmKG8pe1EodGhpcy5tX2xpbmUxKTtjb25zdCBlPXRoaXMubV9saW5lMS5nZXRTdGFydFhZKCksdD1uZXcgUWU7dC5zZXRTdWIodGhpcy5tX2xpbmUxLmdldEVuZFhZKCksZSksdC5yaWdodFBlcnBlbmRpY3VsYXJUaGlzKCk7Y29uc3Qgcz1uZXcgUWU7cy5zZXRTdWIodGhpcy5tX3BvaW50T2ZJbnRlcmVzdCxlKSxhPXQuZG90UHJvZHVjdChzKSxhLz10Lmxlbmd0aCgpfWVsc2V7YT1pLmludGVyc2VjdGlvbk9mWU1vbm90b25pY1dpdGhBeGlzWCh0aGlzLm1fcG9pbnRPZkludGVyZXN0LnksdGhpcy5tX3BvaW50T2ZJbnRlcmVzdC54KS10aGlzLm1fcG9pbnRPZkludGVyZXN0Lnh9aWYoYTwxMCotdGhpcy5tX3RvbGVyYW5jZSlyZXR1cm4tMTtpZihhPjEwKnRoaXMubV90b2xlcmFuY2UpcmV0dXJuIDE7aWYoaS5pc0ludGVyc2VjdGluZ1BvaW50KHRoaXMubV9wb2ludE9mSW50ZXJlc3QsdGhpcy5tX3RvbGVyYW5jZSkpe01hdGguYWJzKGEpPHRoaXMubV9taW5EaXN0JiYodGhpcy5tX2N1cnJlbnROb2RlPXMsdGhpcy5tX21pbkRpc3Q9YSksdGhpcy5tX2JJbnRlcnNlY3Rpb25EZXRlY3RlZD0hMH1yZXR1cm4gYTwwPy0xOmE+MD8xOjB9fWNsYXNzIGhue2NvbnN0cnVjdG9yKGUsdCl7dGhpcy5tX2xpc3RzPW5ldyBzbighMSksdGhpcy5tX2hhc2g9dCx0aGlzLm1faGFzaEJ1Y2tldHM9bmV3IEludDMyQXJyYXkoZSksdGhpcy5tX2hhc2hCdWNrZXRzLmZpbGwoaG4uc3RfbnVsbE5vZGUoKSksdGhpcy5tX2JpdEZpbHRlcj1uZXcgSW50MzJBcnJheSgxMCplKzMxPj41KX1yZXNlcnZlRWxlbWVudHMoZSl7dGhpcy5tX2xpc3RzLnJlc2VydmVMaXN0cyhNYXRoLm1pbih0aGlzLm1faGFzaEJ1Y2tldHMubGVuZ3RoLGUpKSx0aGlzLm1fbGlzdHMucmVzZXJ2ZU5vZGVzKGUpfWFkZEVsZW1lbnQoZSx0KXt2b2lkIDA9PT10JiYodD10aGlzLm1faGFzaC5nZXRIYXNoKGUpKTtjb25zdCBzPXQlKHRoaXMubV9iaXRGaWx0ZXIubGVuZ3RoPDw1KTt0aGlzLm1fYml0RmlsdGVyW3M+PjVdfD0xPDwoMzEmcyk7Y29uc3Qgbj10JXRoaXMubV9oYXNoQnVja2V0cy5sZW5ndGg7bGV0IHI9dGhpcy5tX2hhc2hCdWNrZXRzW25dO3I9PT1zbi5zdF9udWxsTm9kZSgpJiYocj10aGlzLm1fbGlzdHMuY3JlYXRlTGlzdCgpLHRoaXMubV9oYXNoQnVja2V0c1tuXT1yKTtyZXR1cm4gdGhpcy5tX2xpc3RzLmFkZEVsZW1lbnQocixlKX1kZWxldGVFbGVtZW50KGUscyl7dm9pZCAwPT09cyYmKHM9dGhpcy5tX2hhc2guZ2V0SGFzaChlKSk7Y29uc3Qgbj1zJXRoaXMubV9oYXNoQnVja2V0cy5sZW5ndGgscj10aGlzLm1faGFzaEJ1Y2tldHNbbl07cj09PXNuLnN0X251bGxOb2RlKCkmJnQoXCJcIik7bGV0IGk9dGhpcy5tX2xpc3RzLmdldEZpcnN0KHIpLG89c24uc3RfbnVsbE5vZGUoKTtmb3IoO2khPT1zbi5zdF9udWxsTm9kZSgpOyl7Y29uc3QgdD10aGlzLm1fbGlzdHMuZ2V0RGF0YShpKSxzPXRoaXMubV9saXN0cy5nZXROZXh0KGkpO3Q9PT1lPyh0aGlzLm1fbGlzdHMuZGVsZXRlRWxlbWVudERpcmVjdChyLG8saSksdGhpcy5tX2xpc3RzLmdldEZpcnN0KHIpPT09c24uc3RfbnVsbE5vZGUoKSYmKHRoaXMubV9saXN0cy5kZWxldGVMaXN0KHIpLHRoaXMubV9oYXNoQnVja2V0c1tuXT1zbi5zdF9udWxsTm9kZSgpKSk6bz1pLGk9c319Z2V0Rmlyc3RJbkJ1Y2tldChlKXtjb25zdCB0PWUlKHRoaXMubV9iaXRGaWx0ZXIubGVuZ3RoPDw1KTtpZighKHRoaXMubV9iaXRGaWx0ZXJbdD4+NV0mMTw8KDMxJnQpKSlyZXR1cm4gc24uc3RfbnVsbE5vZGUoKTtjb25zdCBzPWUldGhpcy5tX2hhc2hCdWNrZXRzLmxlbmd0aCxuPXRoaXMubV9oYXNoQnVja2V0c1tzXTtyZXR1cm4gbj09PXNuLnN0X251bGxOb2RlKCk/c24uc3RfbnVsbE5vZGUoKTp0aGlzLm1fbGlzdHMuZ2V0Rmlyc3Qobil9Z2V0TmV4dEluQnVja2V0KGUpe3JldHVybiB0aGlzLm1fbGlzdHMuZ2V0TmV4dChlKX1maW5kTm9kZShlKXtjb25zdCB0PXRoaXMubV9oYXNoLmdldEhhc2goZSk7bGV0IHM9dGhpcy5nZXRGaXJzdEluQnVja2V0KHQpO2Zvcig7cyE9PXNuLnN0X251bGxOb2RlKCk7KXtjb25zdCB0PXRoaXMubV9saXN0cy5nZXREYXRhKHMpO2lmKHRoaXMubV9oYXNoLmVxdWFsKHQsZSkpcmV0dXJuIHM7cz10aGlzLm1fbGlzdHMuZ2V0TmV4dChzKX1yZXR1cm4gc24uc3RfbnVsbE5vZGUoKX1kZWxldGVOb2RlKGUpe2NvbnN0IHM9dGhpcy5nZXRFbGVtZW50KGUpLG49dGhpcy5tX2hhc2guZ2V0SGFzaChzKSV0aGlzLm1faGFzaEJ1Y2tldHMubGVuZ3RoLHI9dGhpcy5tX2hhc2hCdWNrZXRzW25dO3I9PT1zbi5zdF9udWxsTm9kZSgpJiZ0KFwiXCIpLHRoaXMubV9saXN0cy5kZWxldGVFbGVtZW50U2VhcmNoKHIsZSksdGhpcy5tX2xpc3RzLmdldEZpcnN0KHIpPT09c24uc3RfbnVsbE5vZGUoKSYmKHRoaXMubV9saXN0cy5kZWxldGVMaXN0KHIpLHRoaXMubV9oYXNoQnVja2V0c1tuXT1zbi5zdF9udWxsTm9kZSgpKX1nZXRFbGVtZW50KGUpe3JldHVybiB0aGlzLm1fbGlzdHMuZ2V0RGF0YShlKX1zdGF0aWMgc3RfbnVsbE5vZGUoKXtyZXR1cm4gc24uc3RfbnVsbE5vZGUoKX1jbGVhcigpe2EoMCl9c2l6ZSgpe3JldHVybiB0aGlzLm1fbGlzdHMuZ2V0Tm9kZUNvdW50KCl9ZGJnUHJpbnRCdWNrZXRIaXN0b2dyYW0oKXt9fWZ1bmN0aW9uIG1uKGUsdCxzLG4scil7Y29uc3QgaT1uZXcgZm4ocik7cmV0dXJuIGkubV9zaGFwZT1lLGkubV9zcXJUb2xlcmFuY2U9dCp0LGkubV9jZWxsU2l6ZT0yKnQsaS5tX2ludkNlbGxTaXplPTEvaS5tX2NlbGxTaXplLGkubV9nZW9tZXRyeT1zLGkubV9iVHJhY2tDaGFuZ2VzPW4saS5tX2JIYXNTZWdtZW50UGFyZW50YWdlPWUuaGFzU2VnbWVudFBhcmVudGFnZSgpLGkuY2x1c3Rlck5vblJlY2lwcm9jYWwoKX1mdW5jdGlvbiBsbihlLHQscyxuLHIpe2NvbnN0IGk9ZS1zLG89dC1uO3JldHVybiBpKmkrbypvPD1yfWZ1bmN0aW9uIGduKCl7cmV0dXJue3B0Om5ldyBRZSx3ZWlnaHQ6MCxyYW5rOjAsYk1lcmdlZDohMX19ZnVuY3Rpb24gdW4oZSx0LHMsbixyLGkpe2NvbnN0IG89Z24oKSxhPXMrcjtsZXQgaD0hMSxtPWUueDtlLnghPT10LngmJihuPT09aSYmKG09KGUueCpzK3QueCpyKS9hKSxoPSEwKTtsZXQgbD1lLnk7cmV0dXJuIGUueSE9PXQueSYmKG49PT1pJiYobD0oZS55KnMrdC55KnIpL2EpLGg9ITApLG4hPT1pP24+aT8oby5yYW5rPW4sby53ZWlnaHQ9cyxvLnB0PWUpOihvLnJhbms9aSxvLndlaWdodD1yLG8ucHQ9dCk6KG8ucHQuc2V0Q29vcmRzKG0sbCksby53ZWlnaHQ9YSxvLnJhbms9biksby5iTWVyZ2VkPWgsb31mdW5jdGlvbiBjbihlLHQscyxuLHIsaSxvLGEsaCl7Y29uc3QgbT1lLmVxdWFscyh0KTtpZihuPmkpcmV0dXJuIG8uYXNzaWduQ29weShlKSxoWzBdPW4sYVswXT1zLG07aWYoaT5uKXJldHVybiBvPXQsaFswXT1pLGFbMF09cixtO28uYXNzaWduQ29weShlKTtjb25zdCBsPXVuKGUuZ2V0WFkoKSx0LmdldFhZKCkscyxuLHIsaSk7cmV0dXJuIG8uc2V0WFkobC5wdCksYVswXT1sLndlaWdodCxoWzBdPWwucmFuayxtfWZ1bmN0aW9uIF9uKGUsdCxzLG4scil7Y29uc3QgaT1uZXcgZm4ocik7cmV0dXJuIGkubV9zaGFwZT1lLGkubV9zcXJUb2xlcmFuY2U9dCp0LGkubV9jZWxsU2l6ZT0yKnQsaS5tX2ludkNlbGxTaXplPTEvaS5tX2NlbGxTaXplLGkubV9nZW9tZXRyeT1zLGkubV9iVHJhY2tDaGFuZ2VzPSExLGkubmVlZHNDbHVzdGVyaW5nKCl9ZnVuY3Rpb24gZG4oZSx0KXtjb25zdCBzPVh0KGUpO3JldHVybiBNdChzLHQpfWNsYXNzIHBue2NvbnN0cnVjdG9yKGUsdCxzLG4scil7dGhpcy5tX3dvcmtQdD1uZXcgUWUsdGhpcy5tX3NoYXBlPWUsdGhpcy5tX3NxclRvbGVyYW5jZT1zLHRoaXMubV9pbnZDZWxsU2l6ZT1uLHRoaXMubV9vcmlnaW49dC5jbG9uZSgpLHRoaXMubV9oYXNoVmFsdWVzPXJ9Z2V0SGFzaChlKXtyZXR1cm4gdGhpcy5tX3NoYXBlLmdldFVzZXJJbmRleChlLHRoaXMubV9oYXNoVmFsdWVzKX1jYWxjdWxhdGVIYXNoRnJvbVZlcnRleChlKXt0aGlzLm1fc2hhcGUucXVlcnlYWShlLHRoaXMubV93b3JrUHQpO2NvbnN0IHQ9dGhpcy5tX3dvcmtQdC54LXRoaXMubV9vcmlnaW4ueCxzPU1hdGgudHJ1bmModCp0aGlzLm1faW52Q2VsbFNpemUrLjUpLG49dGhpcy5tX3dvcmtQdC55LXRoaXMubV9vcmlnaW4ueTtyZXR1cm4gZG4ocyxNYXRoLnRydW5jKG4qdGhpcy5tX2ludkNlbGxTaXplKy41KSl9ZXF1YWwoZSx0KXtyZXR1cm4gYSgwKSwhMX19Y2xhc3MgZm57Y29uc3RydWN0b3IoZSl7dGhpcy5tX29yaWdpbj1RZS5nZXROQU4oKSx0aGlzLm1fc3FyVG9sZXJhbmNlPTAsdGhpcy5tX2NlbGxTaXplPTAsdGhpcy5tX2ludkNlbGxTaXplPTAsdGhpcy5tX2dlb21ldHJ5PU0sdGhpcy5tX2J1Y2tldEFycmF5PUtlKDQsTnVtYmVyLk5hTiksdGhpcy5tX2J1Y2tldEhhc2g9S2UoNCxOdW1iZXIuTmFOKSx0aGlzLm1fZGJnQ2FuZGlkYXRlQ2hlY2tDb3VudD0wLHRoaXMubV9uc3I9bmV3IHRzLHRoaXMubV9oYXNoVmFsdWVzPS0xLHRoaXMubV9uZXdDbHVzdGVycz0tMSx0aGlzLm1fYlRyYWNrQ2hhbmdlcz0hMSx0aGlzLm1fYkhhc1NlZ21lbnRQYXJlbnRhZ2U9ITEsdGhpcy5tX3NoYXBlPW51bGwsdGhpcy5tX2NsdXN0ZXJzPW5ldyBzbix0aGlzLm1faGFzaEZ1bmN0aW9uPW51bGwsdGhpcy5tX2hhc2hUYWJsZT1udWxsLHRoaXMubV9wcm9ncmVzc0NvdW50ZXI9MCx0aGlzLm1fcHJvZ3Jlc3NUcmFja2VyPWV9cHJvZ3Jlc3NfKCl7fWNvbGxlY3RDbHVzdGVyQ2FuZGlkYXRlcyhlLHQpe2NvbnN0IHM9UWUuZ2V0TkFOKCk7dGhpcy5tX3NoYXBlLnF1ZXJ5WFkoZSxzKTtjb25zdCBuPShzLngtdGhpcy5tX29yaWdpbi54KSp0aGlzLm1faW52Q2VsbFNpemUscj0ocy55LXRoaXMubV9vcmlnaW4ueSkqdGhpcy5tX2ludkNlbGxTaXplLGk9TWF0aC50cnVuYyhuKSxvPU1hdGgudHJ1bmMocik7bGV0IGE9MDtmb3IobGV0IGg9MDtoPD0xO2grPTEpZm9yKGxldCBlPTA7ZTw9MTtlKz0xKXtjb25zdCB0PWRuKGkraCxvK2UpLHM9dGhpcy5tX2hhc2hUYWJsZS5nZXRGaXJzdEluQnVja2V0KHQpO3MhPT1obi5zdF9udWxsTm9kZSgpJiYodGhpcy5tX2J1Y2tldEFycmF5W2FdPXMsdGhpcy5tX2J1Y2tldEhhc2hbYV09dCxhKyspfWZvcihsZXQgaD1hLTE7aD49MTtoLS0pe2NvbnN0IGU9dGhpcy5tX2J1Y2tldEFycmF5W2hdO2ZvcihsZXQgdD1oLTE7dD49MDt0LS0paWYoZT09PXRoaXMubV9idWNrZXRBcnJheVt0XSl7dGhpcy5tX2J1Y2tldEhhc2hbdF09LTEsYS0tLGghPT1hJiYodGhpcy5tX2J1Y2tldEhhc2hbaF09dGhpcy5tX2J1Y2tldEhhc2hbYV0sdGhpcy5tX2J1Y2tldEFycmF5W2hdPXRoaXMubV9idWNrZXRBcnJheVthXSk7YnJlYWt9fWZvcihsZXQgaD0wO2g8YTtoKyspdGhpcy5jb2xsZWN0TmVhcmVzdE5laWdoYm91ckNhbmRpZGF0ZXMoZSx0aGlzLm1fYnVja2V0SGFzaFtoXSxzLHRoaXMubV9idWNrZXRBcnJheVtoXSx0KX1jb2xsZWN0TmVhcmVzdE5laWdoYm91ckNhbmRpZGF0ZXMoZSx0LHMsbixyKXtjb25zdCBpPVFlLmdldE5BTigpO2ZvcihsZXQgbz1uO28hPT1obi5zdF9udWxsTm9kZSgpO289dGhpcy5tX2hhc2hUYWJsZS5nZXROZXh0SW5CdWNrZXQobykpe2NvbnN0IG49dGhpcy5tX2hhc2hUYWJsZS5nZXRFbGVtZW50KG8pO2U9PT1ufHwtMSE9PXQmJnRoaXMubV9zaGFwZS5nZXRVc2VySW5kZXgobix0aGlzLm1faGFzaFZhbHVlcykhPT10fHwodGhpcy5tX3NoYXBlLnF1ZXJ5WFkobixpKSxsbihzLngscy55LGkueCxpLnksdGhpcy5tX3NxclRvbGVyYW5jZSkmJnIucHVzaChvKSl9fW1lcmdlQ2x1c3RlcnMoZSx0LHMpe2xldCBuPXRoaXMubV9zaGFwZS5nZXRVc2VySW5kZXgoZSx0aGlzLm1fbmV3Q2x1c3RlcnMpO2NvbnN0IHI9dGhpcy5tX3NoYXBlLmdldFVzZXJJbmRleCh0LHRoaXMubV9uZXdDbHVzdGVycyk7LTE9PT1uJiYobj10aGlzLm1fY2x1c3RlcnMuY3JlYXRlTGlzdCgpLHRoaXMubV9jbHVzdGVycy5hZGRFbGVtZW50KG4sZSksdGhpcy5tX3NoYXBlLnNldFVzZXJJbmRleChlLHRoaXMubV9uZXdDbHVzdGVycyxuKSksLTE9PT1yP3RoaXMubV9jbHVzdGVycy5hZGRFbGVtZW50KG4sdCk6dGhpcy5tX2NsdXN0ZXJzLmNvbmNhdGVuYXRlTGlzdHMobixyKSx0aGlzLm1fc2hhcGUuc2V0VXNlckluZGV4KHQsdGhpcy5tX25ld0NsdXN0ZXJzLEJlLmltcG9zc2libGVJbmRleDIoKSk7Y29uc3QgaT10aGlzLm1lcmdlVmVydGljZXMoZSx0KTtpZihzKXtjb25zdCB0PXRoaXMubV9oYXNoRnVuY3Rpb24uY2FsY3VsYXRlSGFzaEZyb21WZXJ0ZXgoZSk7dGhpcy5tX3NoYXBlLnNldFVzZXJJbmRleChlLHRoaXMubV9oYXNoVmFsdWVzLHQpfXJldHVybiBpfW1lcmdlVmVydGljZXMoZSx0KXtjb25zdCBzPVFlLmdldE5BTigpO3RoaXMubV9zaGFwZS5xdWVyeVhZKGUscyk7Y29uc3Qgbj1RZS5nZXROQU4oKTt0aGlzLm1fc2hhcGUucXVlcnlYWSh0LG4pO2NvbnN0IHI9dGhpcy5tX3NoYXBlLmdldFJhbmsoZSksaT10aGlzLm1fc2hhcGUuZ2V0UmFuayh0KSxvPXRoaXMubV9zaGFwZS5nZXRXZWlnaHQoZSksYT10aGlzLm1fc2hhcGUuZ2V0V2VpZ2h0KHQpO2xldCBoLG0sbCxnLHU9ITE7aWYocj09PWk/KGg9cixtPW8rYSxsPXMueCxzLnghPT1uLngmJihsPShzLngqbytuLngqYSkvbSx1PSEwKSxnPXMueSxzLnkhPT1uLnkmJihnPShzLnkqbytuLnkqYSkvbSx1PSEwKSk6KHI+aT8obD1zLngsZz1zLnksbT1vLGg9cik6KGw9bi54LGc9bi55LG09YSxoPWkpLHU9IXMuZXF1YWxzKG4pKSx1JiYodGhpcy5tX3NoYXBlLnNldFhZTW9ub3RvbmljKGUsbCxnKSx0aGlzLm1fYlRyYWNrQ2hhbmdlcyYmdGhpcy5tX3NoYXBlLnNldEdlb21ldHJ5TW9kaWZpZWRXaXRoVmVydGV4KGUsITApLHRoaXMubV9iSGFzU2VnbWVudFBhcmVudGFnZSkpe2NvbnN0IHM9dGhpcy5tX3NoYXBlLmdldFNlZ21lbnRQYXJlbnRhZ2VCcmVha1ZlcnRleChlKXx8dGhpcy5tX3NoYXBlLmdldFNlZ21lbnRQYXJlbnRhZ2VCcmVha1ZlcnRleCh0KTt0aGlzLm1fc2hhcGUuc2V0U2VnbWVudFBhcmVudGFnZUJyZWFrVmVydGV4KGUscyksdGhpcy5tX3NoYXBlLnNldFNlZ21lbnRQYXJlbnRhZ2VCcmVha1ZlcnRleCh0LHMpfXJldHVybiB0aGlzLm1fc2hhcGUuc2V0V2VpZ2h0KGUsbSksdGhpcy5tX3NoYXBlLnNldFJhbmsoZSxoKSx1fW5lZWRzQ2x1c3RlcmluZygpe2NvbnN0IGU9e3N0YWNrOltdLGVycm9yOnZvaWQgMCxoYXNFcnJvcjohMX07dHJ5e3p0KGUsTnQoKCgpPT57dGhpcy5tX2hhc2hUYWJsZT1udWxsLHRoaXMubV9oYXNoRnVuY3Rpb249bnVsbCx0aGlzLm1fc2hhcGUucmVtb3ZlVXNlckluZGV4KHRoaXMubV9oYXNoVmFsdWVzKSx0aGlzLm1fc2hhcGUucmVtb3ZlVXNlckluZGV4KHRoaXMubV9uZXdDbHVzdGVycyl9KSksITEpO2NvbnN0IHQ9dGhpcy5tX3NoYXBlLmdldFNlbGVjdGVkQ291bnQoKSxzPXRoaXMubV9zaGFwZS5nZXRFbnZlbG9wZTJEKHRoaXMubV9wcm9ncmVzc1RyYWNrZXIpO3RoaXMubV9vcmlnaW4uYXNzaWduKHMuZ2V0TG93ZXJMZWZ0KCkpO2NvbnN0IG49TWF0aC5tYXgocy5oZWlnaHQoKSxzLndpZHRoKCkpLyh2dCgpLTEpO3RoaXMubV9jZWxsU2l6ZTxuJiYodGhpcy5tX2NlbGxTaXplPW4sdGhpcy5tX2ludkNlbGxTaXplPTEvdGhpcy5tX2NlbGxTaXplKSx0aGlzLm1fY2x1c3RlcnMuY2xlYXIoKSx0aGlzLm1fY2x1c3RlcnMucmVzZXJ2ZUxpc3RzKHRoaXMubV9zaGFwZS5nZXRTZWxlY3RlZENvdW50KCkvMysxKSx0aGlzLm1fY2x1c3RlcnMucmVzZXJ2ZU5vZGVzKHRoaXMubV9zaGFwZS5nZXRTZWxlY3RlZENvdW50KCkvMysxKSx0aGlzLm1faGFzaFZhbHVlcz10aGlzLm1fc2hhcGUuY3JlYXRlVXNlckluZGV4KCksdGhpcy5tX25ld0NsdXN0ZXJzPXRoaXMubV9zaGFwZS5jcmVhdGVVc2VySW5kZXgoKSx0aGlzLm1faGFzaEZ1bmN0aW9uPW5ldyBwbih0aGlzLm1fc2hhcGUsdGhpcy5tX29yaWdpbix0aGlzLm1fc3FyVG9sZXJhbmNlLHRoaXMubV9pbnZDZWxsU2l6ZSx0aGlzLm1faGFzaFZhbHVlcyksdGhpcy5tX2hhc2hUYWJsZT1uZXcgaG4oNCp0LzMsdGhpcy5tX2hhc2hGdW5jdGlvbiksdGhpcy5tX2hhc2hUYWJsZS5yZXNlcnZlRWxlbWVudHModGhpcy5tX3NoYXBlLmdldFNlbGVjdGVkQ291bnQoKSk7bGV0IHI9ITE7Zm9yKGxldCBlPTA7ZTwyO2UrKyl7Y29uc3QgdD1bXSxzPXRoaXMubV9zaGFwZS5xdWVyeVZlcnRleEl0ZXJhdG9yT25TZWxlY3Rpb24odGhpcy5tX2dlb21ldHJ5KTtmb3IobGV0IG49cy5uZXh0KCk7biE9PU07bj1zLm5leHQoKSl7aWYodGhpcy5wcm9ncmVzc18oKSxlPjAmJnRoaXMubV9zaGFwZS5nZXRVc2VySW5kZXgobix0aGlzLm1fbmV3Q2x1c3RlcnMpPT09QmUuaW1wb3NzaWJsZUluZGV4MigpKWNvbnRpbnVlO2xldCBzO2lmKDA9PT1lPyhzPXRoaXMubV9oYXNoRnVuY3Rpb24uY2FsY3VsYXRlSGFzaEZyb21WZXJ0ZXgobiksdGhpcy5tX3NoYXBlLnNldFVzZXJJbmRleChuLHRoaXMubV9oYXNoVmFsdWVzLHMpKTpzPXRoaXMubV9zaGFwZS5nZXRVc2VySW5kZXgobix0aGlzLm1faGFzaFZhbHVlcyksdGhpcy5jb2xsZWN0Q2x1c3RlckNhbmRpZGF0ZXMobix0KSwwIT09dC5sZW5ndGgpe2ZvcihsZXQgZT0wLHM9dC5sZW5ndGg7ZTxzO2UrKyl7dGhpcy5wcm9ncmVzc18oKTtjb25zdCBzPXRbZV0saT10aGlzLm1faGFzaFRhYmxlLmdldEVsZW1lbnQocyk7aWYodGhpcy5tX2hhc2hUYWJsZS5kZWxldGVOb2RlKHMpLCF0aGlzLm1fc2hhcGUuaXNFcXVhbFhZKG4saSkpcmV0dXJuIHRoaXMubV9uc3I9bmV3IHRzKDUsdGhpcy5tX3NoYXBlLmdldFZlcnRleEluZGV4KG4pLHRoaXMubV9zaGFwZS5nZXRWZXJ0ZXhJbmRleChpKSkscj0hMCxyO3RoaXMubWVyZ2VDbHVzdGVycyhuLGksITEpfXQubGVuZ3RoPTB9MD09PWUmJnRoaXMubV9oYXNoVGFibGUuYWRkRWxlbWVudChuLHMpfX1yZXR1cm4gcn1jYXRjaCh0KXtlLmVycm9yPXQsZS5oYXNFcnJvcj0hMH1maW5hbGx5e1d0KGUpfX1jbHVzdGVyTm9uUmVjaXByb2NhbCgpe2NvbnN0IGU9dGhpcy5tX3NoYXBlLmdldFNlbGVjdGVkQ291bnQoKSx0PXRoaXMubV9zaGFwZS5nZXRFbnZlbG9wZTJEKHRoaXMubV9wcm9ncmVzc1RyYWNrZXIpO3RoaXMubV9vcmlnaW49dC5nZXRMb3dlckxlZnQoKTtjb25zdCBzPU1hdGgubWF4KHQuaGVpZ2h0KCksdC53aWR0aCgpKS8odnQoKS0xKTt0aGlzLm1fY2VsbFNpemU8cyYmKHRoaXMubV9jZWxsU2l6ZT1zLHRoaXMubV9pbnZDZWxsU2l6ZT0xL3RoaXMubV9jZWxsU2l6ZSksdGhpcy5tX2NsdXN0ZXJzLmNsZWFyKCksdGhpcy5tX2NsdXN0ZXJzLnJlc2VydmVMaXN0cyhNYXRoLnRydW5jKHRoaXMubV9zaGFwZS5nZXRTZWxlY3RlZENvdW50KCkvMysxKSksdGhpcy5tX2NsdXN0ZXJzLnJlc2VydmVOb2RlcyhNYXRoLnRydW5jKHRoaXMubV9zaGFwZS5nZXRTZWxlY3RlZENvdW50KCkvMysxKSksdGhpcy5tX2hhc2hWYWx1ZXM9dGhpcy5tX3NoYXBlLmNyZWF0ZVVzZXJJbmRleCgpLHRoaXMubV9uZXdDbHVzdGVycz10aGlzLm1fc2hhcGUuY3JlYXRlVXNlckluZGV4KCksdGhpcy5tX2hhc2hGdW5jdGlvbj1uZXcgcG4odGhpcy5tX3NoYXBlLHRoaXMubV9vcmlnaW4sdGhpcy5tX3NxclRvbGVyYW5jZSx0aGlzLm1faW52Q2VsbFNpemUsdGhpcy5tX2hhc2hWYWx1ZXMpLHRoaXMubV9oYXNoVGFibGU9bmV3IGhuKE1hdGgudHJ1bmMoNCplLzMpLHRoaXMubV9oYXNoRnVuY3Rpb24pLHRoaXMubV9oYXNoVGFibGUucmVzZXJ2ZUVsZW1lbnRzKHRoaXMubV9zaGFwZS5nZXRTZWxlY3RlZENvdW50KCkpO2xldCBuPSExO3tjb25zdCBlPXRoaXMubV9zaGFwZS5xdWVyeVZlcnRleEl0ZXJhdG9yT25TZWxlY3Rpb24odGhpcy5tX2dlb21ldHJ5KTtmb3IobGV0IHQ9ZS5uZXh0KCk7dCE9PU07dD1lLm5leHQoKSl7dGhpcy5wcm9ncmVzc18oKTtjb25zdCBlPXRoaXMubV9oYXNoRnVuY3Rpb24uY2FsY3VsYXRlSGFzaEZyb21WZXJ0ZXgodCk7dGhpcy5tX3NoYXBlLnNldFVzZXJJbmRleCh0LHRoaXMubV9oYXNoVmFsdWVzLGUpLHRoaXMubV9oYXNoVGFibGUuYWRkRWxlbWVudCh0LGUpfX17Y29uc3QgZT1bXSx0PXRoaXMubV9zaGFwZS5xdWVyeVZlcnRleEl0ZXJhdG9yT25TZWxlY3Rpb24odGhpcy5tX2dlb21ldHJ5KTtmb3IobGV0IHM9dC5uZXh0KCk7cyE9PU07cz10Lm5leHQoKSl7aWYodGhpcy5tX3NoYXBlLmdldFVzZXJJbmRleChzLHRoaXMubV9uZXdDbHVzdGVycyk9PT1CZS5pbXBvc3NpYmxlSW5kZXgyKCkpY29udGludWU7bGV0IHQ9dGhpcy5tX3NoYXBlLmdldFVzZXJJbmRleChzLHRoaXMubV9oYXNoVmFsdWVzKTt0aGlzLm1faGFzaFRhYmxlLmRlbGV0ZUVsZW1lbnQocyx0KTtsZXQgcj0hMTtmb3IoO3RoaXMuY29sbGVjdENsdXN0ZXJDYW5kaWRhdGVzKHMsZSksMCE9PWUubGVuZ3RoOyl7bGV0IHQ9MDtmb3IobGV0IG49MCxyPWUubGVuZ3RoO248cjtuKyspe3RoaXMucHJvZ3Jlc3NfKCk7Y29uc3QgaT1lW25dLG89dGhpcy5tX2hhc2hUYWJsZS5nZXRFbGVtZW50KGkpO3RoaXMubV9oYXNoVGFibGUuZGVsZXRlTm9kZShpKTtjb25zdCBhPW4rMT09PXI7dHw9dGhpcy5tZXJnZUNsdXN0ZXJzKHMsbyxhKT8xOjB9aWYocnx8PTAhPT10LG58fD0wIT09dCxlLmxlbmd0aD0wLCF0KWJyZWFrfXImJih0PXRoaXMubV9zaGFwZS5nZXRVc2VySW5kZXgocyx0aGlzLm1faGFzaFZhbHVlcykpLHRoaXMubV9oYXNoVGFibGUuYWRkRWxlbWVudChzLHQpfWUubGVuZ3RoPTB9cmV0dXJuIG4mJnRoaXMuYXBwbHlDbHVzdGVyUG9zaXRpb25zXygpLHRoaXMubV9oYXNoVGFibGU9bnVsbCx0aGlzLm1faGFzaEZ1bmN0aW9uPW51bGwsdGhpcy5tX3NoYXBlLnJlbW92ZVVzZXJJbmRleCh0aGlzLm1faGFzaFZhbHVlcyksdGhpcy5tX3NoYXBlLnJlbW92ZVVzZXJJbmRleCh0aGlzLm1fbmV3Q2x1c3RlcnMpLG59YXBwbHlDbHVzdGVyUG9zaXRpb25zXygpe2NvbnN0IGU9UWUuZ2V0TkFOKCk7Zm9yKGxldCB0PXRoaXMubV9jbHVzdGVycy5nZXRGaXJzdExpc3QoKTt0IT09c24uc3RfbnVsbE5vZGUoKTt0PXRoaXMubV9jbHVzdGVycy5nZXROZXh0TGlzdCh0KSl7bGV0IHM9dGhpcy5tX2NsdXN0ZXJzLmdldEZpcnN0KHQpO2NvbnN0IG49dGhpcy5tX2NsdXN0ZXJzLmdldEVsZW1lbnQocyk7dGhpcy5tX3NoYXBlLnF1ZXJ5WFkobixlKTtjb25zdCByPXRoaXMubV9zaGFwZS5nZXRSYW5rKG4pLGk9dGhpcy5tX3NoYXBlLmdldFdlaWdodChuKTtmb3Iocz10aGlzLm1fY2x1c3RlcnMuZ2V0TmV4dChzKTtzIT09c24uc3RfbnVsbE5vZGUoKTtzPXRoaXMubV9jbHVzdGVycy5nZXROZXh0KHMpKXtjb25zdCB0PXRoaXMubV9jbHVzdGVycy5nZXRFbGVtZW50KHMpO2lmKHRoaXMubV9iVHJhY2tDaGFuZ2VzP3RoaXMubV9zaGFwZS5pc0VxdWFsWFlQb2ludDJEKHQsZSl8fCh0aGlzLm1fc2hhcGUuc2V0WFlNb25vdG9uaWNQb2ludDJEKHQsZSksdGhpcy5tX3NoYXBlLnNldEdlb21ldHJ5TW9kaWZpZWRXaXRoVmVydGV4KHQsITApKTp0aGlzLm1fc2hhcGUuc2V0WFlNb25vdG9uaWNQb2ludDJEKHQsZSksdGhpcy5tX2JIYXNTZWdtZW50UGFyZW50YWdlKXtjb25zdCBlPXRoaXMubV9zaGFwZS5nZXRTZWdtZW50UGFyZW50YWdlQnJlYWtWZXJ0ZXgobil8fHRoaXMubV9zaGFwZS5nZXRTZWdtZW50UGFyZW50YWdlQnJlYWtWZXJ0ZXgodCk7dGhpcy5tX3NoYXBlLnNldFNlZ21lbnRQYXJlbnRhZ2VCcmVha1ZlcnRleChuLGUpLHRoaXMubV9zaGFwZS5zZXRTZWdtZW50UGFyZW50YWdlQnJlYWtWZXJ0ZXgodCxlKX10aGlzLm1fc2hhcGUuc2V0V2VpZ2h0KHQsaSksdGhpcy5tX3NoYXBlLnNldFJhbmsodCxyKX19fX1jbGFzcyB4bntjb25zdHJ1Y3Rvcigpe3RoaXMubV9pbnB1dFBhcnRzPVtdLHRoaXMubV9yZXN1bHRQYXJ0czE9W10sdGhpcy5tX3Jlc3VsdFBhcnRzMj1bXSx0aGlzLm1fcmVzdWx0U2VnbWVudHM9W10sdGhpcy5tX2ZyZWVTZWdtZW50cz1bXSx0aGlzLm1faW5wdXRTZWdtZW50cz1bXSx0aGlzLm1fcGFyYW0xPVtdLHRoaXMubV9wYXJhbTI9W10sdGhpcy5tX3RvbGVyYW5jZT0wLHRoaXMubV90b2xlcmFuY2VaPTAsdGhpcy5tX3BvaW50PW5ldyBmZSx0aGlzLm1fcG9pbnRXZWlnaHQ9MSx0aGlzLm1fbWF4RGVuc2lmeUxpbWl0PTAsdGhpcy5tX3BvaW50UmFuaz0wLHRoaXMubV9jaGFuZ2VkMT0hMSx0aGlzLm1fY2hhbmdlZDI9ITEsdGhpcy5tX2FkYXB0aXZlRGVuc2lmeT0hMX1jbGVhcigpe3RoaXMuZnJlZUFsbFJlc3VsdFNlZ21lbnRzKCksdGhpcy5tX2lucHV0U2VnbWVudHMubGVuZ3RoPTAsdGhpcy5tX2lucHV0UGFydHMubGVuZ3RoPTAsdGhpcy5tX3Jlc3VsdFBhcnRzMS5sZW5ndGg9MCx0aGlzLm1fcmVzdWx0UGFydHMyLmxlbmd0aD0wLHRoaXMubV9wYXJhbTEubGVuZ3RoPTAsdGhpcy5tX3BhcmFtMi5sZW5ndGg9MCx0aGlzLm1fYWRhcHRpdmVEZW5zaWZ5PSExLHRoaXMubV9jaGFuZ2VkMT0hMSx0aGlzLm1fY2hhbmdlZDI9ITF9bmV3SW50ZXJzZWN0aW9uUGFydF8oZSx0LHMsbixyLGksbyxhLGgsbSl7cmV0dXJuIFBuKGUsdCxzLG4scixpLG8sYSxoLG0pfXB1c2hTZWdtZW50KGUsdCxzLG4scixpLG8sYSxoLG0pe3JldHVybiB0aGlzLm1faW5wdXRQYXJ0cy5wdXNoKHRoaXMubmV3SW50ZXJzZWN0aW9uUGFydF8odGhpcy5tX2lucHV0U2VnbWVudHMubGVuZ3RoLHQscyxuLHIsaSxvLGEsaCxtKSksdGhpcy5tX2lucHV0U2VnbWVudHMucHVzaChlKSx0aGlzLm1faW5wdXRQYXJ0cy5sZW5ndGgtMX1nZXRSZXN1bHRTZWdtZW50Q291bnQoZSl7cmV0dXJuIHRoaXMubV9hZGFwdGl2ZURlbnNpZnk/MD09PWU/dGhpcy5tX3BhcmFtMS5sZW5ndGgtMTp0aGlzLm1fcGFyYW0yLmxlbmd0aC0xOjA9PT1lP3RoaXMubV9yZXN1bHRQYXJ0czEubGVuZ3RoOnRoaXMubV9yZXN1bHRQYXJ0czIubGVuZ3RofWdldFJlc3VsdFBhcnRfKGUsdCl7cmV0dXJuIDA9PT1lP3RoaXMubV9yZXN1bHRQYXJ0czFbdF06dGhpcy5tX3Jlc3VsdFBhcnRzMlt0XX1nZXRSZXN1bHRTZWdtZW50KGUsdCl7cmV0dXJuIHRoaXMubV9yZXN1bHRTZWdtZW50c1t0aGlzLmdldFJlc3VsdFBhcnRfKGUsdCkuc2VnbWVudEluZGV4XS5nZXQoKX1nZXRTZWdtZW50Q2hhbmdlZChlKXtyZXR1cm4gMD09PWU/dGhpcy5tX2NoYW5nZWQxOnRoaXMubV9jaGFuZ2VkMn1nZXRSZXN1bHRTZWdtZW50U3RhcnRQb2ludFdlaWdodChlLHQpe3JldHVybiB0aGlzLmdldFJlc3VsdFBhcnRfKGUsdCkud2VpZ2h0U3RhcnR9Z2V0UmVzdWx0U2VnbWVudFN0YXJ0UG9pbnRSYW5rKGUsdCl7cmV0dXJuIHRoaXMuZ2V0UmVzdWx0UGFydF8oZSx0KS5yYW5rU3RhcnR9Z2V0UmVzdWx0U2VnbWVudFNlZ21lbnRQYXJlbnRhZ2UoZSx0KXtyZXR1cm4gdGhpcy5nZXRSZXN1bHRQYXJ0XyhlLHQpLnNlZ21lbnRQYXJlbnRhZ2V9Z2V0UmVzdWx0U2VnbWVudFN0YXJ0UG9pbnRJc0JyZWFrKGUsdCl7cmV0dXJuIHRoaXMuZ2V0UmVzdWx0UGFydF8oZSx0KS51LmJCcmVha1N0YXJ0fWdldFJlc3VsdFNlZ21lbnRFbmRQb2ludFdlaWdodChlLHQpe3JldHVybiB0aGlzLmdldFJlc3VsdFBhcnRfKGUsdCkud2VpZ2h0RW5kfWdldFJlc3VsdFNlZ21lbnRFbmRQb2ludFJhbmsoZSx0KXtyZXR1cm4gdGhpcy5nZXRSZXN1bHRQYXJ0XyhlLHQpLnJhbmtFbmR9Z2V0UmVzdWx0U2VnbWVudEVuZFBvaW50SXNCcmVhayhlLHQpe3JldHVybiB0aGlzLmdldFJlc3VsdFBhcnRfKGUsdCkudS5iQnJlYWtFbmR9Z2V0UmVzdWx0U2VnbWVudEludGVyaW9yUmFuayhlLHQpe3JldHVybiB0aGlzLmdldFJlc3VsdFBhcnRfKGUsdCkucmFua0ludGVyaW9yfWdldFJlc3VsdFNlZ21lbnRJbnRlcmlvcldlaWdodChlLHQpe3JldHVybiB0aGlzLmdldFJlc3VsdFBhcnRfKGUsdCkud2VpZ2h0SW50ZXJpb3J9Z2V0UmVzdWx0UG9pbnQoKXtyZXR1cm4gdGhpcy5tX3BvaW50fWdldFJlc3VsdFBvaW50V2VpZ2h0KCl7cmV0dXJuIHRoaXMubV9wb2ludFdlaWdodH1nZXRSZXN1bHRQb2ludFJhbmsoKXtyZXR1cm4gdGhpcy5tX3BvaW50UmFua31nZXRSZXN1bHRQb2ludENoYW5nZWQoKXtyZXR1cm4gdGhpcy5tX2NoYW5nZWQyfWludGVyc2VjdExpbmVzKGUsdCl7MiE9PXRoaXMubV9pbnB1dFNlZ21lbnRzLmxlbmd0aCYmaShcIlwiKSx0aGlzLm1fY2hhbmdlZDE9ITEsdGhpcy5tX2NoYW5nZWQyPSExLHRoaXMubV90b2xlcmFuY2U9ZTtjb25zdCBzPXV0KGUqeG4uY19zbWFsbFRvbGVyYW5jZUZhY3Rvcik7bGV0IG49ITE7Y29uc3Qgcj10aGlzLm1faW5wdXRQYXJ0c1swXSxvPXRoaXMubV9pbnB1dFBhcnRzWzFdLGE9dGhpcy5tX2lucHV0U2VnbWVudHNbci5zZWdtZW50SW5kZXhdLGg9dGhpcy5tX2lucHV0U2VnbWVudHNbby5zZWdtZW50SW5kZXhdO2lmKHR8fDUmVSghMCxhLGgsZSwhMCkpe2NvbnN0IHQ9WighMCxhLGgsbnVsbCx0aGlzLm1fcGFyYW0xLHRoaXMubV9wYXJhbTIsZSk7MD09PXQmJmkoXCJcIik7Y29uc3QgbT1uZXcgQXJyYXkodCk7Zm9yKGxldCBlPTA7ZTx0OysrZSltW2VdPVFlLmdldE5BTigpO2NvbnN0IGw9bmV3IEZsb2F0NjRBcnJheSh0KSxnPW5ldyBJbnQzMkFycmF5KHQpLHU9bmV3IEFycmF5KHQpLGM9bmV3IEFycmF5KHQpO2ZvcihsZXQgZT0wO2U8dDsrK2UpdVtlXT1FbigpLGNbZV09RW4oKTtmb3IobGV0IGU9MDtlPHQ7ZSsrKXtjb25zdCB0PXRoaXMubV9wYXJhbTFbZV0saT10aGlzLm1fcGFyYW0yW2VdO2xldCBfLGQ9ci5yYW5rSW50ZXJpb3IscD1yLndlaWdodEludGVyaW9yOzA9PT10PyhkPXIucmFua1N0YXJ0LHA9ci53ZWlnaHRTdGFydCxfPXIudS5iQnJlYWtTdGFydCk6MT09PXQ/KGQ9ci5yYW5rRW5kLHA9ci53ZWlnaHRFbmQsXz1yLnUuYkJyZWFrRW5kKToodGhpcy5tX2NoYW5nZWQxPSEwLF89ITEpO2xldCBmLHg9by5yYW5rSW50ZXJpb3IseT1vLndlaWdodEludGVyaW9yOzA9PT1pPyh4PW8ucmFua1N0YXJ0LHk9by53ZWlnaHRTdGFydCxmPW8udS5iQnJlYWtTdGFydCk6MT09PWk/KHg9by5yYW5rRW5kLHk9by53ZWlnaHRFbmQsZj1vLnUuYkJyZWFrRW5kKToodGhpcy5tX2NoYW5nZWQyPSEwLGY9ITEpO2NvbnN0IFA9ZCxFPXg7bGV0IFM9MSxDPTAsST1RZS5nZXROQU4oKTtpZihQPT09RSl7Y29uc3Qgbj1hLmdldENvb3JkMkQodCkscj1oLmdldENvb3JkMkQoaSk7Uz1wK3k7Qz1kLFN0KG4scix5L1MsSSk7Y29uc3Qgbz1RZS5zcXJEaXN0YW5jZShJLG4pLG09UWUuc3FyRGlzdGFuY2UoSSxyKTt1W2VdLmJCaWdNb3ZlPW8+cyxjW2VdLmJCaWdNb3ZlPW0+cyx0aGlzLm1fY2hhbmdlZDF8fG4uZXF1YWxzKEkpfHwodGhpcy5tX2NoYW5nZWQxPSEwKSx0aGlzLm1fY2hhbmdlZDJ8fHIuZXF1YWxzKEkpfHwodGhpcy5tX2NoYW5nZWQyPSEwKX1lbHNlIGlmKFA+RSl7ST1hLmdldENvb3JkMkQodCk7Y29uc3Qgbj1oLmdldENvb3JkMkQoaSk7Uz1wLEM9ZDtjb25zdCByPVFlLnNxckRpc3RhbmNlKEksbik7dVtlXS5iQmlnTW92ZT0hMSxjW2VdLmJCaWdNb3ZlPXI+cyx0aGlzLm1fY2hhbmdlZDJ8fG4uZXF1YWxzKEkpfHwodGhpcy5tX2NoYW5nZWQyPSEwKX1lbHNle0k9aC5nZXRDb29yZDJEKGkpLFM9eSxDPXg7Y29uc3Qgbj1hLmdldENvb3JkMkQodCkscj1RZS5zcXJEaXN0YW5jZShJLG4pO3VbZV0uYkJpZ01vdmU9cj5zLGNbZV0uYkJpZ01vdmU9ITEsdGhpcy5tX2NoYW5nZWQxfHxuLmVxdWFscyhJKXx8KHRoaXMubV9jaGFuZ2VkMT0hMCl9bVtlXS5hc3NpZ24oSSksbFtlXT1TLGdbZV09Qyx1W2VdLmJJc0JyZWFrPV98fGYsY1tlXS5iSXNCcmVhaz1ffHxmLG58fD11W2VdLmJCaWdNb3ZlfHxjW2VdLmJCaWdNb3ZlfWNvbnN0IF89ci5yYW5rSW50ZXJpb3IsZD1yLndlaWdodEludGVyaW9yO2xldCBwPTAsZj0tMTtmb3IobGV0IHM9MDtzPD10O3MrKyl7Y29uc3Qgbj1zPHQ/dGhpcy5tX3BhcmFtMVtzXToxO2lmKG4hPT1wKXtjb25zdCBpPXRoaXMuYWxsb2NSZXN1bHRTZWdtZW50KCksbz10aGlzLm1fcmVzdWx0U2VnbWVudHNbaV07bGV0IGgsYyx4LHk7YS5xdWVyeUN1dChwLG4sbywhMSksby5nZXQoKS5zbmFwQ29udHJvbFBvaW50cyhlKmUpO2xldCBQPSExLEU9ITEsUz0hMSxDPSExLEk9ITEsYj1RZS5nZXROQU4oKSx3PVFlLmdldE5BTigpOy0xIT09Zj8oYz1nW2ZdLGg9bFtmXSxQPXVbZl0uYkJpZ01vdmUsYi5hc3NpZ24obVtmXSksUz11W2ZdLmJJc0JyZWFrLEk9ITApOihoPXIud2VpZ2h0U3RhcnQsYz1yLnJhbmtTdGFydCxiPW8uZ2V0KCkuZ2V0U3RhcnRYWSgpLFM9ci51LmJCcmVha1N0YXJ0KSxzPHQ/KHk9Z1tzXSx4PWxbc10sRT11W3NdLmJCaWdNb3ZlLHcuYXNzaWduKG1bc10pLEM9dVtzXS5iSXNCcmVhayxJPSEwKTooeD1yLndlaWdodEVuZCx5PXIucmFua0VuZCx3PW8uZ2V0KCkuZ2V0RW5kWFkoKSxDPXIudS5iQnJlYWtFbmQpLEkmJm8uZ2V0KCkuc2V0Q29vcmRzRm9ySW50ZXJzZWN0b3IoYix3LCEwKSx0aGlzLm1fcmVzdWx0UGFydHMxLnB1c2godGhpcy5uZXdJbnRlcnNlY3Rpb25QYXJ0XyhpLGgsYyx4LHksZCxfLFMsQyxyLnNlZ21lbnRQYXJlbnRhZ2UpKTtjb25zdCB2PXRoaXMubV9yZXN1bHRQYXJ0czEuYXQoLTEpO3YudS5iQmlnTW92ZVN0YXJ0PVAsdi51LmJCaWdNb3ZlRW5kPUUscD1uLGY9c31lbHNlLTE9PT1mJiYoZj1zKX1jb25zdCB4PUtlKHQsMCk7Zm9yKGxldCBlPTA7ZTx0O2UrKyl4W2VdPWU7dD4yPyh4LnNvcnQoKChlLHQpPT50aGlzLm1fcGFyYW0yW2VdPHRoaXMubV9wYXJhbTJbdF0/LTE6dGhpcy5tX3BhcmFtMltlXT50aGlzLm1fcGFyYW0yW3RdPzE6MCkpLCRlKHRoaXMubV9wYXJhbTIpKToyPT09dCYmdGhpcy5tX3BhcmFtMlswXT50aGlzLm1fcGFyYW0yWzFdJiYodGhpcy5tX3BhcmFtMlsxXT1ydCh0aGlzLm1fcGFyYW0yWzBdLHRoaXMubV9wYXJhbTJbMF09dGhpcy5tX3BhcmFtMlsxXSkseFsxXT1ydCh4WzBdLHhbMF09eFsxXSkpO2NvbnN0IHk9by5yYW5rSW50ZXJpb3IsUD1vLndlaWdodEludGVyaW9yO3A9MCxmPS0xO2ZvcihsZXQgcz0wO3M8PXQ7cysrKXtjb25zdCBuPXM8dD90aGlzLm1fcGFyYW0yW3NdOjE7aWYobiE9PXApe2NvbnN0IHI9dGhpcy5hbGxvY1Jlc3VsdFNlZ21lbnQoKSxpPXRoaXMubV9yZXN1bHRTZWdtZW50c1tyXTtsZXQgYSx1LF8sZDtoLnF1ZXJ5Q3V0KHAsbixpLCExKSxpLmdldCgpLnNuYXBDb250cm9sUG9pbnRzKGUqZSk7bGV0IEU9UWUuZ2V0TkFOKCksUz1RZS5nZXROQU4oKSxDPSExLEk9ITEsYj0hMSx3PSExLHY9ITE7aWYoLTEhPT1mKXtjb25zdCBlPXhbZl07YT1sW2VdLHU9Z1tlXSxFLmFzc2lnbihtW2VdKSxiPWNbZV0uYkJpZ01vdmUsQz1jW2VdLmJJc0JyZWFrLHY9ITB9ZWxzZSBhPW8ud2VpZ2h0U3RhcnQsdT1vLnJhbmtTdGFydCxFPWkuZ2V0KCkuZ2V0U3RhcnRYWSgpLEM9by51LmJCcmVha1N0YXJ0O2lmKHMhPT10KXtjb25zdCBlPXhbc107Xz1sW2VdLGQ9Z1tlXSxTLmFzc2lnbihtW2VdKSx3PWNbZV0uYkJpZ01vdmUsST1jW2VdLmJJc0JyZWFrLHY9ITB9ZWxzZSBfPW8ud2VpZ2h0RW5kLGQ9by5yYW5rRW5kLFM9aS5nZXQoKS5nZXRFbmRYWSgpLEk9by51LmJCcmVha0VuZDt2JiZpLmdldCgpLnNldENvb3Jkc0ZvckludGVyc2VjdG9yKEUsUywhMCksdGhpcy5tX3Jlc3VsdFBhcnRzMi5wdXNoKHRoaXMubmV3SW50ZXJzZWN0aW9uUGFydF8ocixhLHUsXyxkLFAseSxDLEksby5zZWdtZW50UGFyZW50YWdlKSk7Y29uc3QgTj10aGlzLm1fcmVzdWx0UGFydHMyLmF0KC0xKTtOLnUuYkJpZ01vdmVTdGFydD1iLE4udS5iQmlnTW92ZUVuZD13LHA9bixmPXN9ZWxzZS0xPT09ZiYmKGY9cyl9cmV0dXJuIG4/MzoyfXJldHVybiAwfWludGVyc2VjdExpbmVzM0QoZSx0LHMsbil7cmV0dXJuIGEoMCksMX1pbnRlcnNlY3QyRChlLHQpe2NvbnN0IHM9dGhpcy5tX2lucHV0UGFydHNbMF0scj10aGlzLm1faW5wdXRQYXJ0c1sxXSxpPXRoaXMubV9pbnB1dFNlZ21lbnRzW3Muc2VnbWVudEluZGV4XS5nZXRHZW9tZXRyeVR5cGUoKSxvPXRoaXMubV9pbnB1dFNlZ21lbnRzW3Iuc2VnbWVudEluZGV4XS5nZXRHZW9tZXRyeVR5cGUoKTtpZihpIT09bi5lbnVtTGluZXx8byE9PW4uZW51bUxpbmUpe3JldHVybiBuZXcgYm4odGhpcykuaW50ZXJzZWN0Q3VydmVzKGUsdCl9cmV0dXJuIHRoaXMuaW50ZXJzZWN0TGluZXMoZSx0KX1pbnRlcnNlY3QyREV4KGUsdCxzLG4scil7dGhpcy5tX3BvaW50LmFzc2lnbkNvcHkodCksMSE9PXRoaXMubV9pbnB1dFNlZ21lbnRzLmxlbmd0aCYmaShcIlwiKSx0aGlzLm1fdG9sZXJhbmNlPWUsdGhpcy5tX2NoYW5nZWQxPSExLHRoaXMubV9jaGFuZ2VkMj0hMTtjb25zdCBvPXV0KGUqeG4uY19zbWFsbFRvbGVyYW5jZUZhY3Rvcik7bGV0IGE9ITE7Y29uc3QgaD10aGlzLm1faW5wdXRQYXJ0c1swXSxtPXRoaXMubV9pbnB1dFNlZ21lbnRzW2guc2VnbWVudEluZGV4XTtpZihyfHxtLmlzSW50ZXJzZWN0aW5nUG9pbnQodC5nZXRYWSgpLGUsITApKXt0aGlzLm1fcGFyYW0xPUtlKDE2LE51bWJlci5OYU4pO2NvbnN0IHI9bS5nZXRDbG9zZXN0Q29vcmRpbmF0ZSh0LmdldFhZKCksITEpO3RoaXMubV9wYXJhbTFbMF09cjtsZXQgaT1oLnJhbmtJbnRlcmlvcixsPWgud2VpZ2h0SW50ZXJpb3I7MD09PXI/KGk9aC5yYW5rU3RhcnQsbD1oLndlaWdodFN0YXJ0KToxPT09cj8oaT1oLnJhbmtFbmQsbD1oLndlaWdodEVuZCk6dGhpcy5tX2NoYW5nZWQxPSEwO2xldCBnPWk7Y29uc3QgdT1zLGM9bjtnPT09dSYmbS5pc0N1cnZlKCkmJihnPXUrMSk7bGV0IF89MSxkPTA7Y29uc3QgcD1uZXcgUWU7aWYoZz09PXUpe2NvbnN0IGU9bS5nZXRDb29yZDJEKHIpLHM9dC5nZXRYWSgpO189bCtjLGQ9aTtTdChlLHMsYy9fLHApLHRoaXMubV9jaGFuZ2VkMXx8ZS5lcXVhbHMocCl8fCh0aGlzLm1fY2hhbmdlZDE9ITApLHRoaXMubV9jaGFuZ2VkMnx8cy5lcXVhbHMocCl8fCh0aGlzLm1fY2hhbmdlZDI9ITApO2E9UWUuc3FyRGlzdGFuY2UocCxlKT5vfWVsc2UgaWYoZz51KXAuYXNzaWduKG0uZ2V0Q29vcmQyRChyKSksXz1sLGQ9aSx0aGlzLm1fY2hhbmdlZDJ8fHAuZXF1YWxzKHQuZ2V0WFkoKSl8fCh0aGlzLm1fY2hhbmdlZDI9ITApO2Vsc2V7cC5hc3NpZ24obS5nZXRDb29yZDJEKHIpKSxfPWMsZD11LHRoaXMubV9jaGFuZ2VkMXx8cC5lcXVhbHModC5nZXRYWSgpKXx8KHRoaXMubV9jaGFuZ2VkMT0hMCk7YT1RZS5zcXJEaXN0YW5jZShwLHQuZ2V0WFkoKSk+b31sZXQgZj0wLHg9LTE7Y29uc3QgeT0xO2ZvcihsZXQgdD0wO3Q8PXk7dCsrKXtjb25zdCBzPXQ8eT90aGlzLm1fcGFyYW0xWzBdOjE7aWYocyE9PWYpe2NvbnN0IG49dGhpcy5hbGxvY1Jlc3VsdFNlZ21lbnQoKSxyPXRoaXMubV9yZXN1bHRTZWdtZW50c1tuXTttLnF1ZXJ5Q3V0KGYscyxyKSxyLmdldCgpLnNuYXBDb250cm9sUG9pbnRzKGUqZSk7bGV0IGk9aC53ZWlnaHRTdGFydCxvPWgud2VpZ2h0RW5kLGE9aC5yYW5rU3RhcnQsbD1oLnJhbmtFbmQ7Y29uc3QgZz1oLnJhbmtJbnRlcmlvcix1PWgud2VpZ2h0SW50ZXJpb3I7bGV0IGM9aC51LmJCcmVha1N0YXJ0LFA9aC51LmJCcmVha0VuZDstMSE9PXgmJihpPV8sYT1kLGM9ITAsci5nZXQoKS5zZXRDb29yZHNGb3JJbnRlcnNlY3RvcihwLHIuZ2V0KCkuZ2V0RW5kWFkoKSwhMCkpLHQhPT15JiYobz1fLGw9ZCxQPSEwLHIuZ2V0KCkuc2V0Q29vcmRzRm9ySW50ZXJzZWN0b3Ioci5nZXQoKS5nZXRTdGFydFhZKCkscCwhMCkpLGY9cyx0aGlzLm1fcmVzdWx0UGFydHMxLnB1c2godGhpcy5uZXdJbnRlcnNlY3Rpb25QYXJ0XyhuLGksYSxvLGwsdSxnLGMsUCxoLnNlZ21lbnRQYXJlbnRhZ2UpKX14PXR9cmV0dXJuIHRoaXMubV9wb2ludC5zZXRYWShwKSx0aGlzLm1fcG9pbnRXZWlnaHQ9Xyx0aGlzLm1fcG9pbnRSYW5rPWQsYT8zOjJ9cmV0dXJuIDB9aW50ZXJzZWN0M0QoZSx0LHMsbil7cmV0dXJuIGEoMCksMX1pbnRlcnNlY3QzREV4KGUsdCxzLG4scixpLG8pe3JldHVybiBhKDApLDF9Z2V0VG9sZXJhbmNlKCl7cmV0dXJuIHRoaXMubV90b2xlcmFuY2V9ZnJlZUFsbFJlc3VsdFNlZ21lbnRzKCl7dGhpcy5tX3Jlc3VsdFNlZ21lbnRzLmxlbmd0aD0wLHRoaXMubV9mcmVlU2VnbWVudHMubGVuZ3RoPTB9ZnJlZVJlc3VsdFNlZ21lbnQoZSl7dGhpcy5tX2ZyZWVTZWdtZW50cy5wdXNoKGUpfWFsbG9jUmVzdWx0U2VnbWVudCgpe2lmKHRoaXMubV9mcmVlU2VnbWVudHMubGVuZ3RoKXtyZXR1cm4gdGhpcy5tX2ZyZWVTZWdtZW50cy5wb3AoKX1jb25zdCBlPW5ldyBGLHQ9dGhpcy5tX3Jlc3VsdFNlZ21lbnRzLmxlbmd0aDtyZXR1cm4gdGhpcy5tX3Jlc3VsdFNlZ21lbnRzLnB1c2goZSksdH1hbGxvY1Jlc3VsdFNlZ21lbnRGcm9tQnVmZmVyKGUpe2lmKHRoaXMubV9mcmVlU2VnbWVudHMubGVuZ3RoKXtyZXR1cm4gdGhpcy5tX2ZyZWVTZWdtZW50cy5wb3AoKX1jb25zdCB0PW5ldyBGKHtjb3B5OmV9KSxzPXRoaXMubV9yZXN1bHRTZWdtZW50cy5sZW5ndGg7cmV0dXJuIHRoaXMubV9yZXN1bHRTZWdtZW50cy5wdXNoKHQpLHN9YWxsb2NSZXN1bHRTZWdtZW50RnJvbVNlZ21lbnQoZSl7aWYodGhpcy5tX2ZyZWVTZWdtZW50cy5sZW5ndGgpe3JldHVybiB0aGlzLm1fZnJlZVNlZ21lbnRzLnBvcCgpfWNvbnN0IHQ9bmV3IEYoe3NlZ21lbnQ6ZX0pLHM9dGhpcy5tX3Jlc3VsdFNlZ21lbnRzLmxlbmd0aDtyZXR1cm4gdGhpcy5tX3Jlc3VsdFNlZ21lbnRzLnB1c2godCksc319ZnVuY3Rpb24geW4oZSx0KXtyZXR1cm57YkJpZ01vdmVTdGFydDohMSxiQmlnTW92ZUVuZDohMSxiQnJlYWtTdGFydDplLGJCcmVha0VuZDp0fX1mdW5jdGlvbiBQbihlLHQscyxuLHIsaSxvLGEsaCxtKXtyZXR1cm57c2VnbWVudEluZGV4OmUsd2VpZ2h0U3RhcnQ6dCxyYW5rU3RhcnQ6cyx3ZWlnaHRFbmQ6bixyYW5rRW5kOnIsd2VpZ2h0SW50ZXJpb3I6aSxyYW5rSW50ZXJpb3I6byxzZWdtZW50UGFyZW50YWdlOm0sdTp5bihhLGgpfX1mdW5jdGlvbiBFbigpe3JldHVybntiQmlnTW92ZTohMSxiSXNCcmVhazohMX19eG4ubWF4V2VpZ2h0PS4xKk51bWJlci5NQVhfVkFMVUUseG4uY19zbWFsbFRvbGVyYW5jZUZhY3Rvcj0uMDEseG4uY19tYXhHZW9tZXRyeVR5cGVUb1JhbmtEZWx0YT04O2xldCBTbj1jbGFzc3tjb25zdHJ1Y3Rvcigpe3RoaXMuc3RhcnQ9bnVsbCx0aGlzLmVuZD1udWxsLHRoaXMuZXF1YWxFZGdlPW51bGwsdGhpcy5zZWdtZW50SW5kZXg9LTEsdGhpcy5zZWdtZW50UGFyZW50YWdlPS0xLHRoaXMud2VpZ2h0PTAsdGhpcy5yYW5rPTB9aGFzU2VnbWVudCgpe3JldHVybiB0aGlzLnNlZ21lbnRJbmRleD49MH10cmFuc2ZlckF0dHJpYnV0ZXMoZSx0LHMpe2lmKDE9PT10LmdldERlc2NyaXB0aW9uKCkuZ2V0QXR0cmlidXRlQ291bnQoKSlyZXR1cm47Y29uc3Qgbj1lLnBhcmVudC5tX3Jlc3VsdFNlZ21lbnRzW3RoaXMuc2VnbWVudEluZGV4XS5nZXQoKS5nZXRTdGFydFhZKCkscj1lLnBhcmVudC5tX3Jlc3VsdFNlZ21lbnRzW3RoaXMuc2VnbWVudEluZGV4XS5nZXQoKS5nZXRFbmRYWSgpLGk9bmV3IGZlO3QucXVlcnlTdGFydChpKSxzPyhpLnNldFhZKG4pLGUucGFyZW50Lm1fcmVzdWx0U2VnbWVudHNbdGhpcy5zZWdtZW50SW5kZXhdLmdldCgpLnNldFN0YXJ0KGkpKTooaS5zZXRYWShyKSxlLnBhcmVudC5tX3Jlc3VsdFNlZ21lbnRzW3RoaXMuc2VnbWVudEluZGV4XS5nZXQoKS5zZXRFbmQoaSkpLHQucXVlcnlFbmQoaSkscz8oaS5zZXRYWShyKSxlLnBhcmVudC5tX3Jlc3VsdFNlZ21lbnRzW3RoaXMuc2VnbWVudEluZGV4XS5nZXQoKS5zZXRFbmQoaSkpOihpLnNldFhZKG4pLGUucGFyZW50Lm1fcmVzdWx0U2VnbWVudHNbdGhpcy5zZWdtZW50SW5kZXhdLmdldCgpLnNldFN0YXJ0KGkpKX1jb3B5RnJvbVdoZW5PdmVybGFwKGUsdCxzKXt0aGlzLmVxdWFsRWRnZT10LHQuZXF1YWxFZGdlPXRoaXMsdGhpcy5zZWdtZW50SW5kZXg9ZS5wYXJlbnQuYWxsb2NSZXN1bHRTZWdtZW50RnJvbUJ1ZmZlcihlLnBhcmVudC5tX3Jlc3VsdFNlZ21lbnRzW3Quc2VnbWVudEluZGV4XSksdGhpcy5zZWdtZW50UGFyZW50YWdlPXQuc2VnbWVudFBhcmVudGFnZSx0aGlzLndlaWdodD10LndlaWdodCx0aGlzLnJhbms9dC5yYW5rLHM/KHRoaXMuc3RhcnQuY29weUZyb20odC5zdGFydCksdGhpcy5lbmQuY29weUZyb20odC5lbmQpKToodGhpcy5zdGFydC5jb3B5RnJvbSh0LmVuZCksdGhpcy5lbmQuY29weUZyb20odC5zdGFydCksZS5wYXJlbnQubV9yZXN1bHRTZWdtZW50c1t0aGlzLnNlZ21lbnRJbmRleF0uZ2V0KCkucmV2ZXJzZSgpKX1nZXRFbmQoKXtyZXR1cm4gdGhpcy5lbmR9Z2V0TmV4dEluQ2hhaW4oKXtyZXR1cm4gdGhpcy5lbmQubmV4dEluQ2hhaW59Z2V0UHJldkluQ2hhaW4oKXtyZXR1cm4gdGhpcy5zdGFydC5wcmV2SW5DaGFpbn19O2NsYXNzIENue2NvbnN0cnVjdG9yKCl7dGhpcy5oYXNoPTAsdGhpcy5wdD1uZXcgUWUsdGhpcy5wcmV2SW5DaGFpbj1udWxsLHRoaXMubmV4dEluQ2hhaW49bnVsbCx0aGlzLnByZXZJbkhhc2g9bnVsbCx0aGlzLm5leHRJbkhhc2g9bnVsbCx0aGlzLnByZXZFcXVhbD1udWxsLHRoaXMubmV4dEVxdWFsPW51bGwsdGhpcy53ZWlnaHQ9MCx0aGlzLnJhbms9MCx0aGlzLmJCaWdNb3ZlPSExLHRoaXMuYklzQnJlYWs9ITF9Y29weUZyb20oZSl7dGhpcy5wdC5hc3NpZ24oZS5wdCksdGhpcy53ZWlnaHQ9ZS53ZWlnaHQsdGhpcy5yYW5rPWUucmFuayx0aGlzLmJCaWdNb3ZlPWUuYkJpZ01vdmUsdGhpcy5iSXNCcmVhaz1lLmJJc0JyZWFrfW5leHROb2RlKCl7cmV0dXJuIHRoaXMubmV4dEluQ2hhaW4/dGhpcy5uZXh0SW5DaGFpbi5lbmQ6bnVsbH1wcmV2Tm9kZSgpe3JldHVybiB0aGlzLnByZXZJbkNoYWluP3RoaXMucHJldkluQ2hhaW4uc3RhcnQ6bnVsbH1lcXVhbExpc3RIZWFkKCl7bGV0IGU9dGhpcztmb3IoO251bGwhPT1lLnByZXZFcXVhbDtlPWUucHJldkVxdWFsKTtyZXR1cm4gZX19ZnVuY3Rpb24gSW4oZSx0LHMsbil7cmV0dXJue2VkZ2UxOmUsZWRnZTI6dCxyZWN1cnNpb246cyxiSXNJbnRlcnNlY3Rpbmc6bn19Y2xhc3MgYm57Y29uc3RydWN0b3IoZSl7dGhpcy5tX3BhaXJzPVtdLHRoaXMubV9jaGFpbk9yaWdpbjE9bnVsbCx0aGlzLm1fY2hhaW5PcmlnaW4yPW51bGwsdGhpcy5tX25ld05vZGVzPVtdLHRoaXMubV9oYXNoVGFibGVPZkVxdWFscz1bXSx0aGlzLm1faGFzaFRhYmxlT2ZFcXVhbHNTaXplPTAsdGhpcy5tX29yaWdpbj1uZXcgUWUsdGhpcy5tX2NlbGw9bmV3IFFlLHRoaXMucGFyZW50PWV9YWRkU2VnbWVudChlLHQscyxuLHIsaSxvLGgsbSxsLGcpe2NvbnN0IHU9dGhpcy5uZXdOb2RlKHRoaXMucGFyZW50Lm1fcmVzdWx0U2VnbWVudHNbZV0uZ2V0KCkuZ2V0U3RhcnRYWSgpLHMsbixtKSxjPXRoaXMubmV3Tm9kZSh0aGlzLnBhcmVudC5tX3Jlc3VsdFNlZ21lbnRzW2VdLmdldCgpLmdldEVuZFhZKCkscixpLGwpO3RoaXMubmV3RWRnZSh1LGMsZSxvLGgsZyksbnVsbD09PXRoaXMubV9jaGFpbk9yaWdpbjE/dGhpcy5tX2NoYWluT3JpZ2luMT11Om51bGw9PT10aGlzLm1fY2hhaW5PcmlnaW4yP3RoaXMubV9jaGFpbk9yaWdpbjI9dTphKDApfWludGVyc2VjdEN1cnZlc0hlbHBlcihlLHQscyxyLG8pe2NvbnN0IGg9dGhpcy5nZXRTZWdtZW50KGUpLmdldCgpLG09dGhpcy5nZXRTZWdtZW50KHQpLmdldCgpO2lmKGguaXNEZWdlbmVyYXRlKDApfHxtLmlzRGVnZW5lcmF0ZSgwKSlyZXR1cm4gMDtjb25zdCBsPXRoaXMudHJ5T3ZlcmxhcEludGVyc2VjdEN1cnZlcyhlLHQscyxyKTtpZigwIT09bClyZXR1cm4gbDtjb25zdCBnPXV0KC4wMSpzKTtsZXQgdT0hMSxjPXRoaXMucHJvY2Vzc1NoYXJwQ29ybmVycyhoLG0scyxvPjQpO2NvbnN0IF89Yz4wO2lmKCFfKXtpZighKHJ8fDUmaighMCwhMSxoLG0scywhMCkpKXJldHVybiAwO2M9WighMCxoLG0sbnVsbCx0aGlzLnBhcmVudC5tX3BhcmFtMSx0aGlzLnBhcmVudC5tX3BhcmFtMixzKX0wPT09YyYmaShcIlwiKTtjb25zdCBkPWguZ2V0R2VvbWV0cnlUeXBlKCkscD1tLmdldEdlb21ldHJ5VHlwZSgpLGY9bHQoUWUsYykseD1sdChRZSxjKSx5PUtlKGMsTnVtYmVyLk5hTiksUD1LZShjLE51bWJlci5OYU4pLEU9S2UoYyxOdW1iZXIuTmFOKSxTPUtlKGMsTnVtYmVyLk5hTiksQz1UdChFbixjKSxJPVR0KEVuLGMpO2xldCBiPSExLHc9ITE7Zm9yKGxldCBuPTA7bjxjO24rKyl7Y29uc3Qgcj10aGlzLnBhcmVudC5tX3BhcmFtMVtuXSxpPXRoaXMucGFyZW50Lm1fcGFyYW0yW25dO2xldCBvPWUucmFuayxhPWUud2VpZ2h0LGw9ITAsYz0hMTswPT09cj8obz1lLnN0YXJ0LnJhbmssYT1lLnN0YXJ0LndlaWdodCxjPWUuc3RhcnQuYklzQnJlYWspOjE9PT1yPyhvPWUuZW5kLnJhbmssYT1lLmVuZC53ZWlnaHQsYz1lLmVuZC5iSXNCcmVhayk6KGI9ITAsbD0hMSk7bGV0IHY9dC5yYW5rLE49dC53ZWlnaHQsVD0hMSxHPSEwOzA9PT1pPyh2PXQuc3RhcnQucmFuayxOPXQuc3RhcnQud2VpZ2h0LFQ9dC5zdGFydC5iSXNCcmVhayk6MT09PWk/KHY9dC5lbmQucmFuayxOPXQuZW5kLndlaWdodCxUPXQuZW5kLmJJc0JyZWFrKToodz0hMCxHPSExKTtsZXQgRD1vLFY9djtpZihEPT09ViYmKEQqPXhuLmNfbWF4R2VvbWV0cnlUeXBlVG9SYW5rRGVsdGEsVio9eG4uY19tYXhHZW9tZXRyeVR5cGVUb1JhbmtEZWx0YSxEKz13bihkLGgsITEpLFYrPXduKHAsbSwhMSkpLGwmJkcmJlY9PT1EKXtjb25zdCBlPWguZ2V0Q29vcmQyRChyKSx0PW0uZ2V0Q29vcmQyRChpKTtlLmVxdWFscyh0KSYmKFY9RC0xKX1sZXQgRj0xLEg9MCxrPTEsQT0wO2NvbnN0IE09bmV3IFFlLFU9bmV3IFFlLHE9aC5nZXRDb29yZDJEKHIpLEI9bS5nZXRDb29yZDJEKGkpO2lmKF8mJlFlLmRpc3RhbmNlKHEsQik+cylNLnNldENvb3Jkc1BvaW50MkQocSksVS5zZXRDb29yZHNQb2ludDJEKEIpLEY9YSxrPU4sSD1vLEE9dixDW25dLmJCaWdNb3ZlPSExLElbbl0uYkJpZ01vdmU9ITEsYz0hMCxUPSEwO2Vsc2UgaWYoRD09PVYpe2s9Rj1hK04sQT1IPW87U3QocSxCLE4vRixNKSxVLnNldENvb3Jkc1BvaW50MkQoTSk7Y29uc3QgZT1RZS5zcXJEaXN0YW5jZShNLHEpLHQ9UWUuc3FyRGlzdGFuY2UoTSxCKTtDW25dLmJCaWdNb3ZlPWU+ZyxJW25dLmJCaWdNb3ZlPXQ+ZyxifHxxLmVxdWFscyhNKXx8KGI9ITApLHd8fEIuZXF1YWxzKFUpfHwodz0hMCl9ZWxzZSBpZihEPlYpe00uc2V0Q29vcmRzUG9pbnQyRChxKSxVLnNldENvb3Jkc1BvaW50MkQoTSksaz1GPWEsQT1IPW87Y29uc3QgZT1RZS5zcXJEaXN0YW5jZShNLEIpO0Nbbl0uYkJpZ01vdmU9ITEsSVtuXS5iQmlnTW92ZT1lPmcsd3x8Qi5lcXVhbHMoVSl8fCh3PSEwKX1lbHNle1Uuc2V0Q29vcmRzUG9pbnQyRChCKSxNLnNldENvb3Jkc1BvaW50MkQoVSksaz1GPU4sQT1IPXY7Y29uc3QgZT1RZS5zcXJEaXN0YW5jZShNLHEpO0Nbbl0uYkJpZ01vdmU9ZT5nLElbbl0uYkJpZ01vdmU9ITEsYnx8cS5lcXVhbHMoTSl8fChiPSEwKX1mW25dLmFzc2lnbihNKSx4W25dLmFzc2lnbihVKSx5W25dPUYsUFtuXT1rLEVbbl09SCxTW25dPUEsQ1tuXS5iSXNCcmVhaz1jfHxULElbbl0uYklzQnJlYWs9Y3x8VCx1fHw9Q1tuXS5iQmlnTW92ZXx8SVtuXS5iQmlnTW92ZSxuPjAmJihyIT09dGhpcy5wYXJlbnQubV9wYXJhbTFbbi0xXSYmaSE9PXRoaXMucGFyZW50Lm1fcGFyYW0yW24tMV18fChFW25dPD1FW24tMV0/KGZbbl0uYXNzaWduKHhbbi0xXSkseVtuXT1QW24tMV0sRVtuXT1TW24tMV0seFtuXS5hc3NpZ24oeFtuLTFdKSxQW25dPVBbbi0xXSxTW25dPVNbbi0xXSxDW25dLmJCaWdNb3ZlfHw9Q1tuLTFdLmJCaWdNb3ZlLElbbl0uYkJpZ01vdmV8fD1JW24tMV0uYkJpZ01vdmUsQ1tuXS5iSXNCcmVha3x8PUNbbi0xXS5iSXNCcmVhayxJW25dLmJJc0JyZWFrfHw9SVtuLTFdLmJJc0JyZWFrKTooZltuLTFdLmFzc2lnbihmW25dKSx5W24tMV09eVtuXSxFW24tMV09RVtuXSx4W24tMV0uYXNzaWduKHhbbl0pLFBbbi0xXT1QW25dLFNbbi0xXT1TW25dLENbbi0xXS5iQmlnTW92ZXx8PUNbbl0uYkJpZ01vdmUsSVtuLTFdLmJCaWdNb3ZlfHw9SVtuXS5iQmlnTW92ZSxDW24tMV0uYklzQnJlYWt8fD1DW25dLmJJc0JyZWFrLElbbi0xXS5iSXNCcmVha3x8PUlbbl0uYklzQnJlYWspKSl9aWYoIShifHx3fHwyIT09Y3x8ZD09PW4uZW51bUxpbmUmJnA9PT1uLmVudW1MaW5lKSl7aWYodGhpcy5wcm9jZXNzRG91Ymx5Q29ubmVjdGVkRWRnZXMoZSx0LG8rMSxzKSlyZXR1cm4gdGhpcy5wYXJlbnQubV9jaGFuZ2VkMT0hMCx0aGlzLnBhcmVudC5tX2NoYW5nZWQyPSEwLDI7YSgwKX10aGlzLnBhcmVudC5tX2NoYW5nZWQxfHw9Yix0aGlzLnBhcmVudC5tX2NoYW5nZWQyfHw9dztsZXQgdj1lLE49ZS5lbmQud2VpZ2h0LFQ9ZS5lbmQucmFuayxHPWUuZW5kLmJCaWdNb3ZlLEQ9ZS5lbmQuYklzQnJlYWssVj0wLEY9LTE7Zm9yKGxldCBuPTA7bjw9YztuKyspe2NvbnN0IHQ9bjxjP3RoaXMucGFyZW50Lm1fcGFyYW0xW25dOjE7aWYodCE9PVYpe2NvbnN0IHI9dGhpcy5wYXJlbnQuYWxsb2NSZXN1bHRTZWdtZW50KCksaT10aGlzLnBhcmVudC5tX3Jlc3VsdFNlZ21lbnRzW3JdO2xldCBvLGEsbSxsO2gucXVlcnlDdXQoVix0LGksITEpLGkuZ2V0KCkuc25hcENvbnRyb2xQb2ludHMocypzKTtsZXQgZz0hMSx1PSExLF89ITEsZD0hMTtjb25zdCBwPW5ldyBRZSx4PW5ldyBRZTstMSE9PUY/KGE9RVtGXSxvPXlbRl0sXz1DW0ZdLmJCaWdNb3ZlLGc9Q1tGXS5iSXNCcmVhayxwLmFzc2lnbihmW0ZdKSk6KG89ZS5zdGFydC53ZWlnaHQsYT1lLnN0YXJ0LnJhbmssXz1lLnN0YXJ0LmJCaWdNb3ZlLGc9ZS5zdGFydC5iSXNCcmVhayxwLmFzc2lnbihpLmdldCgpLmdldFN0YXJ0WFkoKSkpLG48Yz8obD1FW25dLG09eVtuXSxkPUNbbl0uYkJpZ01vdmUsdT1DW25dLmJJc0JyZWFrLHguYXNzaWduKGZbbl0pKToobT1OLGw9VCxkPUcsdT1ELHguYXNzaWduKGkuZ2V0KCkuZ2V0RW5kWFkoKSkpO2xldCBQPXY7dDwxJiYodGhpcy5zcGxpdEVkZ2VJblBsYWNlKHYpLFA9di5nZXROZXh0SW5DaGFpbigpKSx0aGlzLnVwZGF0ZVNlZ21lbnRPbmx5KHYsciksMD09PXYuc3RhcnQuaGFzaHx8di5zdGFydC5wdC5lcXVhbHMocCl8fCh0aGlzLm1fbmV3Tm9kZXMucHVzaCh2LnN0YXJ0KSx0aGlzLnJlbW92ZU5vZGVGcm9tSGFzaCh2LnN0YXJ0KSx2LnN0YXJ0Lmhhc2g9MCksMD09PXYuZW5kLmhhc2h8fHYuZW5kLnB0LmVxdWFscyh4KXx8KHRoaXMubV9uZXdOb2Rlcy5wdXNoKHYuZW5kKSx0aGlzLnJlbW92ZU5vZGVGcm9tSGFzaCh2LmVuZCksdi5lbmQuaGFzaD0wKSx2LnN0YXJ0LnB0LmFzc2lnbihwKSx2LmVuZC5wdC5hc3NpZ24oeCksdi5zdGFydC5iQmlnTW92ZXx8PV8sdi5lbmQuYkJpZ01vdmV8fD1kLHYuc3RhcnQuYklzQnJlYWt8fD1nLHYuZW5kLmJJc0JyZWFrfHw9dSx2LnN0YXJ0LndlaWdodD1vLHYuc3RhcnQucmFuaz1hLHYuZW5kLndlaWdodD1tLHYuZW5kLnJhbms9bCx2PVAsVj10LEY9bn1lbHNlLTE9PT1GJiYoRj1uKX1jb25zdCBIPXYuZ2V0TmV4dEluQ2hhaW4oKSxrPVtdO2subGVuZ3RoPWM7Zm9yKGxldCBuPTA7bjxjO24rKylrW25dPW47Yz4yPyhrLnNvcnQoKChlLHQpPT5HdCh0aGlzLnBhcmVudC5tX3BhcmFtMltlXSx0aGlzLnBhcmVudC5tX3BhcmFtMlt0XSkpKSx0aGlzLnBhcmVudC5tX3BhcmFtMi5zb3J0KEd0KSk6Mj09PWMmJnRoaXMucGFyZW50Lm1fcGFyYW0yWzBdPnRoaXMucGFyZW50Lm1fcGFyYW0yWzFdJiYodGhpcy5wYXJlbnQubV9wYXJhbTJbMV09cnQodGhpcy5wYXJlbnQubV9wYXJhbTJbMF0sdGhpcy5wYXJlbnQubV9wYXJhbTJbMF09dGhpcy5wYXJlbnQubV9wYXJhbTJbMV0pLGtbMV09cnQoa1swXSxrWzBdPWtbMV0pKSx2PXQsTj10LmVuZC53ZWlnaHQsVD10LmVuZC5yYW5rLEc9dC5lbmQuYkJpZ01vdmUsRD10LmVuZC5iSXNCcmVhayxWPTAsRj0tMTtmb3IobGV0IG49MDtuPD1jO24rKyl7Y29uc3QgZT1uPGM/dGhpcy5wYXJlbnQubV9wYXJhbTJbbl06MTtpZihlIT09Vil7Y29uc3Qgcj10aGlzLnBhcmVudC5hbGxvY1Jlc3VsdFNlZ21lbnQoKSxpPXRoaXMucGFyZW50Lm1fcmVzdWx0U2VnbWVudHNbcl07bGV0IG8sYSxoLGw7bS5xdWVyeUN1dChWLGUsaSwhMSksaS5nZXQoKS5zbmFwQ29udHJvbFBvaW50cyhzKnMpO2NvbnN0IGc9bmV3IFFlLHU9bmV3IFFlO2xldCBfPSExLGQ9ITEscD0hMSxmPSExO2lmKC0xIT09Ril7Y29uc3QgZT1rW0ZdO289UFtlXSxhPVNbZV0sZy5hc3NpZ24oeFtlXSkscD1JW2VdLmJCaWdNb3ZlLF89SVtlXS5iSXNCcmVha31lbHNlIG89dC5zdGFydC53ZWlnaHQsYT10LnN0YXJ0LnJhbmsscD10LnN0YXJ0LmJCaWdNb3ZlLF89dC5zdGFydC5iSXNCcmVhayxnLmFzc2lnbihpLmdldCgpLmdldFN0YXJ0WFkoKSk7aWYobiE9PWMpe2NvbnN0IGU9a1tuXTtoPVBbZV0sbD1TW2VdLHUuYXNzaWduKHhbZV0pLGY9SVtlXS5iQmlnTW92ZSxkPUlbZV0uYklzQnJlYWt9ZWxzZSBoPU4sbD1ULGY9RyxkPUQsdS5hc3NpZ24oaS5nZXQoKS5nZXRFbmRYWSgpKTtsZXQgeT12O2U8MSYmKHRoaXMuc3BsaXRFZGdlSW5QbGFjZSh2KSx5PXYuZ2V0TmV4dEluQ2hhaW4oKSksdGhpcy51cGRhdGVTZWdtZW50T25seSh2LHIpLDA9PT12LnN0YXJ0Lmhhc2h8fHYuc3RhcnQucHQuZXF1YWxzKGcpfHwodGhpcy5tX25ld05vZGVzLnB1c2godi5zdGFydCksdGhpcy5yZW1vdmVOb2RlRnJvbUhhc2godi5zdGFydCksdi5zdGFydC5oYXNoPTApLDA9PT12LmVuZC5oYXNofHx2LmVuZC5wdC5lcXVhbHModSl8fCh0aGlzLm1fbmV3Tm9kZXMucHVzaCh2LmVuZCksdGhpcy5yZW1vdmVOb2RlRnJvbUhhc2godi5lbmQpLHYuZW5kLmhhc2g9MCksdi5zdGFydC5wdC5hc3NpZ24oZyksdi5lbmQucHQuYXNzaWduKHUpLHYuc3RhcnQuYkJpZ01vdmV8fD1wLHYuZW5kLmJCaWdNb3ZlfHw9Zix2LnN0YXJ0LmJJc0JyZWFrfHw9Xyx2LmVuZC5iSXNCcmVha3x8PWQsdi5zdGFydC53ZWlnaHQ9byx2LnN0YXJ0LnJhbms9YSx2LmVuZC53ZWlnaHQ9aCx2LmVuZC5yYW5rPWwsdj15LFY9ZSxGPW59ZWxzZS0xPT09RiYmKEY9bil9Y29uc3QgQT12LmdldE5leHRJbkNoYWluKCk7cmV0dXJuIHRoaXMucG9zdFByb2Nlc3NSZXN1bHRQYXJ0c0ZvckN1cnZlcyhlLEgsdCxBLG8rMSksdT8zOjJ9aW50ZXJzZWN0Q3VydmVzKHQscyl7MiE9PXRoaXMucGFyZW50Lm1faW5wdXRTZWdtZW50cy5sZW5ndGgmJmkoXCJcIiksdGhpcy5wYXJlbnQubV9jaGFuZ2VkMT0hMSx0aGlzLnBhcmVudC5tX2NoYW5nZWQyPSExLHRoaXMucGFyZW50Lm1fdG9sZXJhbmNlPXQsdGhpcy5tX2hhc2hUYWJsZU9mRXF1YWxzU2l6ZT0wLHRoaXMubV9oYXNoVGFibGVPZkVxdWFscz1KZSgxNik7Y29uc3Qgbj1lLmNvbnN0cnVjdEVtcHR5KCk7Zm9yKGxldCBpPTA7aTwyO2krKyl7Y29uc3QgdD10aGlzLnBhcmVudC5hbGxvY1Jlc3VsdFNlZ21lbnRGcm9tU2VnbWVudCh0aGlzLnBhcmVudC5tX2lucHV0U2VnbWVudHNbdGhpcy5wYXJlbnQubV9pbnB1dFBhcnRzW2ldLnNlZ21lbnRJbmRleF0pLHM9ZS5jb25zdHJ1Y3RFbXB0eSgpO3RoaXMucGFyZW50Lm1faW5wdXRTZWdtZW50c1t0aGlzLnBhcmVudC5tX2lucHV0UGFydHNbaV0uc2VnbWVudEluZGV4XS5xdWVyeUxvb3NlRW52ZWxvcGUocyksbi5tZXJnZUVudmVsb3BlMkQocyk7Y29uc3Qgcj10aGlzLnBhcmVudC5tX2lucHV0UGFydHNbaV07dGhpcy5hZGRTZWdtZW50KHQsMCxyLndlaWdodFN0YXJ0LHIucmFua1N0YXJ0LHIud2VpZ2h0RW5kLHIucmFua0VuZCxyLndlaWdodEludGVyaW9yLHIucmFua0ludGVyaW9yLHIudS5iQnJlYWtTdGFydCxyLnUuYkJyZWFrRW5kLHIuc2VnbWVudFBhcmVudGFnZSl9bi5pbmZsYXRlQ29vcmRzKDEwMCp0LDEwMCp0KSx0aGlzLm1fb3JpZ2luLmFzc2lnbihuLmdldExvd2VyTGVmdCgpKSx0aGlzLm1fY2VsbC5zZXRDb29yZHMoMip0LDIqdCksdGhpcy5tX3BhaXJzLnB1c2goSW4odGhpcy5tX2NoYWluT3JpZ2luMS5uZXh0SW5DaGFpbix0aGlzLm1fY2hhaW5PcmlnaW4yLm5leHRJbkNoYWluLDAscykpO2xldCByPTAsbz0hMDtmb3IoO3RoaXMubV9wYWlycy5sZW5ndGg7KXtjb25zdCBlPXRoaXMubV9wYWlycy5hdCgtMSk7dGhpcy5tX3BhaXJzLnBvcCgpLGEoZS5yZWN1cnNpb24+PTApLGEoZS5yZWN1cnNpb248PTI1NiksdGhpcy5jbHVzdGVyTm9kZXModCk7Y29uc3Qgcz10aGlzLmludGVyc2VjdEN1cnZlc0hlbHBlcihlLmVkZ2UxLGUuZWRnZTIsdCxlLmJJc0ludGVyc2VjdGluZyxlLnJlY3Vyc2lvbik7byYmKG89ITEscj1zKX1mb3IobGV0IGU9MDtlPDI7ZSsrKXtjb25zdCB0PTA9PT1lP3RoaXMucGFyZW50Lm1fcmVzdWx0UGFydHMxOnRoaXMucGFyZW50Lm1fcmVzdWx0UGFydHMyO2ZvcihsZXQgcz0oMD09PWU/dGhpcy5tX2NoYWluT3JpZ2luMTp0aGlzLm1fY2hhaW5PcmlnaW4yKS5uZXh0SW5DaGFpbjtudWxsIT1zO3M9cy5nZXROZXh0SW5DaGFpbigpKXQucHVzaCh0aGlzLnBhcmVudC5uZXdJbnRlcnNlY3Rpb25QYXJ0XyhzLnNlZ21lbnRJbmRleCxzLnN0YXJ0LndlaWdodCxzLnN0YXJ0LnJhbmsscy5lbmQud2VpZ2h0LHMuZW5kLnJhbmsscy53ZWlnaHQscy5yYW5rLHMuc3RhcnQuYklzQnJlYWsscy5lbmQuYklzQnJlYWsscy5zZWdtZW50UGFyZW50YWdlKSksdC5hdCgtMSkudS5iQmlnTW92ZVN0YXJ0PXMuc3RhcnQuYkJpZ01vdmUsdC5hdCgtMSkudS5iQmlnTW92ZUVuZD1zLmVuZC5iQmlnTW92ZX1yZXR1cm4gcn10cnlPdmVybGFwSW50ZXJzZWN0Q3VydmVzKGUsdCxzLG4pe2NvbnN0IHI9dGhpcy5wYXJlbnQubV9yZXN1bHRTZWdtZW50c1tlLnNlZ21lbnRJbmRleF0uZ2V0KCksaT10aGlzLnBhcmVudC5tX3Jlc3VsdFNlZ21lbnRzW3Quc2VnbWVudEluZGV4XS5nZXQoKSxvPXIuZ2V0U3RhcnRYWSgpLmVxdWFscyhpLmdldFN0YXJ0WFkoKSkmJnIuZ2V0RW5kWFkoKS5lcXVhbHMoaS5nZXRFbmRYWSgpKSxoPXIuZ2V0U3RhcnRYWSgpLmVxdWFscyhpLmdldEVuZFhZKCkpJiZyLmdldEVuZFhZKCkuZXF1YWxzKGkuZ2V0U3RhcnRYWSgpKTtpZighbyYmIWgpcmV0dXJuIDA7Y29uc3QgbT0kKHIsaSwhMCk7aWYoMCE9PW0mJmVlKHIsaSkmJmUuc2VnbWVudFBhcmVudGFnZT09PXQuc2VnbWVudFBhcmVudGFnZSl7bGV0IGU9ITE7aWYobT4wKWU9ci5lcXVhbHMoaSk7ZWxzZXthKC0xPT09bSk7Y29uc3QgdD1uZXcgRih7c2VnbWVudDppfSk7dC5nZXQoKS5yZXZlcnNlKCksZT1yLmVxdWFscyh0LmdldCgpKX1pZihlKXJldHVybiAxfWNvbnN0IGw9cyp4bi5jX3NtYWxsVG9sZXJhbmNlRmFjdG9yO2xldCBnPSExO2lmKDA9PT1tKXtjb25zdCBlPVsuNSwuMjUsLjc1LC4xMjUsLjM3NSwuNjI1LC44NzUsLjU2MjUsLjMxMjVdO2ZvcihsZXQgdD0wLG49ZS5sZW5ndGg7dDxuOysrdCl7Y29uc3Qgbj1lW3RdLG89bmV3IFFlO3IucXVlcnlDb29yZDJEKG4sbyk7Y29uc3QgYT1pLmdldENsb3Nlc3RDb29yZGluYXRlKG8sITEpLGg9bmV3IFFlO2kucXVlcnlDb29yZDJEKGEsaCk7Y29uc3QgbT1RZS5kaXN0YW5jZShvLGgpO2lmKG0+cylyZXR1cm4gMDtnfHw9bT5sfWZvcihsZXQgdD0wLG49ZS5sZW5ndGg7dDxuOysrdCl7Y29uc3Qgbj1lW3RdLG89bmV3IFFlO2kucXVlcnlDb29yZDJEKG4sbyk7Y29uc3QgYT1yLmdldENsb3Nlc3RDb29yZGluYXRlKG8sITEpLGg9bmV3IFFlO3IucXVlcnlDb29yZDJEKGEsaCk7Y29uc3QgbT1RZS5kaXN0YW5jZShvLGgpO2lmKG0+cylyZXR1cm4gMDtnfHw9bT5sfX1sZXQgdT1lLnJhbmssYz10LnJhbms7cmV0dXJuIHU9PT1jJiYodSo9eG4uY19tYXhHZW9tZXRyeVR5cGVUb1JhbmtEZWx0YSxjKj14bi5jX21heEdlb21ldHJ5VHlwZVRvUmFua0RlbHRhLHUrPXduKHIuZ2V0R2VvbWV0cnlUeXBlKCksciwhMCksYys9d24oaS5nZXRHZW9tZXRyeVR5cGUoKSxpLCEwKSksdT5jPyh0LmNvcHlGcm9tV2hlbk92ZXJsYXAodGhpcyxlLG8pLHQudHJhbnNmZXJBdHRyaWJ1dGVzKHRoaXMscixvKSk6Yz51PyhlLmNvcHlGcm9tV2hlbk92ZXJsYXAodGhpcyx0LG8pLGUudHJhbnNmZXJBdHRyaWJ1dGVzKHRoaXMsaSxvKSk6ZS5zZWdtZW50UGFyZW50YWdlPD10LnNlZ21lbnRQYXJlbnRhZ2U/KGUud2VpZ2h0PWUud2VpZ2h0K3Qud2VpZ2h0LHQuY29weUZyb21XaGVuT3ZlcmxhcCh0aGlzLGUsbyksdC50cmFuc2ZlckF0dHJpYnV0ZXModGhpcyxyLG8pKToodC53ZWlnaHQ9ZS53ZWlnaHQrdC53ZWlnaHQsZS5jb3B5RnJvbVdoZW5PdmVybGFwKHRoaXMsdCxvKSxlLnRyYW5zZmVyQXR0cmlidXRlcyh0aGlzLGksbykpLGc/MzoyfXBvc3RQcm9jZXNzUmVzdWx0UGFydHNGb3JDdXJ2ZXMoZSx0LHMsbixyKXtyPT09RHQoKSYmaShcImN1cnZlX2hlbHBlclwiKTtmb3IobGV0IGk9ZTtpIT09dDtpPWkuZ2V0TmV4dEluQ2hhaW4oKSl0aGlzLnVwZGF0ZVNlZ21lbnRUb05vZGVzKGkpO2ZvcihsZXQgaT1zO2khPT1uO2k9aS5nZXROZXh0SW5DaGFpbigpKXRoaXMudXBkYXRlU2VnbWVudFRvTm9kZXMoaSk7Zm9yKGxldCBvPWU7byE9PXQ7bz1vLmdldE5leHRJbkNoYWluKCkpe2NvbnN0IGU9by5lbmQucHQuc3ViKG8uc3RhcnQucHQpO2ZvcihsZXQgdD1zO3QhPT1uO3Q9dC5nZXROZXh0SW5DaGFpbigpKXtsZXQgcz0wO2lmKG8uc3RhcnQucHQuZXF1YWxzKHQuc3RhcnQucHQpJiZvLmVuZC5wdC5lcXVhbHModC5lbmQucHQpP3M9MTpvLnN0YXJ0LnB0LmVxdWFscyh0LmVuZC5wdCkmJm8uZW5kLnB0LmVxdWFscyh0LnN0YXJ0LnB0KSYmKHM9LTEpLCFzKXtsZXQgcz1vLnN0YXJ0LnB0LmVxdWFscyh0LnN0YXJ0LnB0KT8xOjA7aWYoc3x8KHM9by5lbmQucHQuZXF1YWxzKHQuZW5kLnB0KT8yOjAsc3x8KHM9by5lbmQucHQuZXF1YWxzKHQuc3RhcnQucHQpPzM6MCxzfHwocz1vLnN0YXJ0LnB0LmVxdWFscyh0LmVuZC5wdCk/NDowKSkpLHMpe2NvbnN0IG49dC5lbmQucHQuc3ViKHQuc3RhcnQucHQpLGE9ZS5kb3RQcm9kdWN0KG4pO2xldCBoO3N3aXRjaChzKXtjYXNlIDE6Y2FzZSAyOmg9YT4wO2JyZWFrO2Nhc2UgMzpjYXNlIDQ6aD1hPDA7YnJlYWs7ZGVmYXVsdDppKFwicG9zdF9wcm9jZXNzX3Jlc3VsdF9wYXJ0c19mb3JfY3VydmVzX1wiKX1oJiZ0aGlzLm1fcGFpcnMucHVzaChJbihvLHQsciwhMSkpfWNvbnRpbnVlfWNvbnN0IG49dGhpcy5wYXJlbnQubV9yZXN1bHRTZWdtZW50c1tvLnNlZ21lbnRJbmRleF0sYT10aGlzLnBhcmVudC5tX3Jlc3VsdFNlZ21lbnRzW3Quc2VnbWVudEluZGV4XSxoPVsuNSwuMjUsLjc1XTtmb3IobGV0IGU9MCx0PWgubGVuZ3RoO2U8dDsrK2Upe2NvbnN0IHQ9aFtlXSxyPW5ldyBRZTtuLmdldCgpLnF1ZXJ5Q29vcmQyRCh0LHIpO2NvbnN0IGk9YS5nZXQoKS5nZXRDbG9zZXN0Q29vcmRpbmF0ZShyLCExKSxvPW5ldyBRZTthLmdldCgpLnF1ZXJ5Q29vcmQyRChpLG8pO2lmKFFlLmRpc3RhbmNlKHIsbyk+dGhpcy5wYXJlbnQubV90b2xlcmFuY2Upe3M9MDticmVha319aWYoIXMpe3RoaXMubV9wYWlycy5wdXNoKEluKG8sdCxyLCExKSk7Y29udGludWV9Zm9yKGxldCBlPTAsdD1oLmxlbmd0aDtlPHQ7KytlKXtjb25zdCB0PWhbZV0scj1uZXcgUWU7YS5nZXQoKS5xdWVyeUNvb3JkMkQodCxyKTtjb25zdCBpPW4uZ2V0KCkuZ2V0Q2xvc2VzdENvb3JkaW5hdGUociwhMSksbz1uZXcgUWU7bi5nZXQoKS5xdWVyeUNvb3JkMkQoaSxvKTtpZihRZS5kaXN0YW5jZShyLG8pPnRoaXMucGFyZW50Lm1fdG9sZXJhbmNlKXtzPTA7YnJlYWt9fWlmKCFzKXt0aGlzLm1fcGFpcnMucHVzaChJbihvLHQsciwhMSkpO2NvbnRpbnVlfW8uZXF1YWxFZGdlPXQsdC5lcXVhbEVkZ2U9bztsZXQgbT1vLnJhbmssbD10LnJhbms7bT09PWwmJihtKj14bi5jX21heEdlb21ldHJ5VHlwZVRvUmFua0RlbHRhLGwqPXhuLmNfbWF4R2VvbWV0cnlUeXBlVG9SYW5rRGVsdGEsbSs9d24obi5nZXQoKS5nZXRHZW9tZXRyeVR5cGUoKSxuLmdldCgpLCEwKSxsKz13bihhLmdldCgpLmdldEdlb21ldHJ5VHlwZSgpLGEuZ2V0KCksITApKSxtPmx8fG09PT1sJiZvLnNlZ21lbnRQYXJlbnRhZ2U8PXQuc2VnbWVudFBhcmVudGFnZT8obi5jb3B5VG8oYSwhMSksdC5zZWdtZW50UGFyZW50YWdlPW8uc2VnbWVudFBhcmVudGFnZSwtMT09PXMmJmEuZ2V0KCkucmV2ZXJzZSgpKTooYS5jb3B5VG8obiwhMSksby5zZWdtZW50UGFyZW50YWdlPXQuc2VnbWVudFBhcmVudGFnZSwtMT09PXMmJm4uZ2V0KCkucmV2ZXJzZSgpKTticmVha319dGhpcy51cGRhdGVBdHRhY2hlZEVkZ2VzQWZ0ZXJOb2RlQ2hhbmdlKGUuc3RhcnQpLHQmJnRoaXMudXBkYXRlQXR0YWNoZWRFZGdlc0FmdGVyTm9kZUNoYW5nZSh0LnN0YXJ0KSx0aGlzLnVwZGF0ZUF0dGFjaGVkRWRnZXNBZnRlck5vZGVDaGFuZ2Uocy5zdGFydCksbiYmdGhpcy51cGRhdGVBdHRhY2hlZEVkZ2VzQWZ0ZXJOb2RlQ2hhbmdlKG4uc3RhcnQpfXByb2Nlc3NEb3VibHlDb25uZWN0ZWRFZGdlcyhlLHQscyxuKXtzPT09RHQoKSYmaShcImN1cnZlX2hlbHBlclwiKTtjb25zdCByPXRoaXMuZ2V0U2VnbWVudChlKS5nZXQoKSxvPXRoaXMuZ2V0U2VnbWVudCh0KS5nZXQoKSxhPXIuZ2V0U3RhcnRYWSgpLmVxdWFscyhvLmdldFN0YXJ0WFkoKSkmJnIuZ2V0RW5kWFkoKS5lcXVhbHMoby5nZXRFbmRYWSgpKT8xOnIuZ2V0RW5kWFkoKS5lcXVhbHMoby5nZXRTdGFydFhZKCkpJiZyLmdldFN0YXJ0WFkoKS5lcXVhbHMoby5nZXRFbmRYWSgpKT8tMTowO2lmKDAhPT1hKXtjb25zdCBpPW5ldyBGO3IucXVlcnlDdXQoMCwuNSxpKSxpLmdldCgpLnNuYXBDb250cm9sUG9pbnRzKG4qbik7Y29uc3QgaD1uZXcgRjtyLnF1ZXJ5Q3V0KC41LDEsaCksaC5nZXQoKS5zbmFwQ29udHJvbFBvaW50cyhuKm4pLHRoaXMuc3BsaXRFZGdlSW5QbGFjZShlKSxlLmVuZC5wdD1pLmdldCgpLmdldEVuZFhZKCksZS5zZWdtZW50SW5kZXg9dGhpcy5wYXJlbnQuYWxsb2NSZXN1bHRTZWdtZW50RnJvbUJ1ZmZlcihpKSxlLmdldE5leHRJbkNoYWluKCkuc2VnbWVudEluZGV4PXRoaXMucGFyZW50LmFsbG9jUmVzdWx0U2VnbWVudEZyb21CdWZmZXIoaCk7bGV0IG09by5nZXRDbG9zZXN0Q29vcmRpbmF0ZShlLmVuZC5wdCwhMSk7cmV0dXJuIE1hdGguYWJzKG0tLjUpPi4yJiYobT0uNSksby5xdWVyeUN1dCgwLG0saSksaS5nZXQoKS5zbmFwQ29udHJvbFBvaW50cyhuKm4pLG8ucXVlcnlDdXQobSwxLGgpLGguZ2V0KCkuc25hcENvbnRyb2xQb2ludHMobipuKSx0aGlzLnNwbGl0RWRnZUluUGxhY2UodCksdC5lbmQucHQ9aS5nZXQoKS5nZXRFbmRYWSgpLHQuc2VnbWVudEluZGV4PXRoaXMucGFyZW50LmFsbG9jUmVzdWx0U2VnbWVudEZyb21CdWZmZXIoaSksdC5nZXROZXh0SW5DaGFpbigpLnNlZ21lbnRJbmRleD10aGlzLnBhcmVudC5hbGxvY1Jlc3VsdFNlZ21lbnRGcm9tQnVmZmVyKGgpLGE+MD8odGhpcy5tX3BhaXJzLnB1c2goSW4oZSx0LHMsITEpKSx0aGlzLm1fcGFpcnMucHVzaChJbihlLmdldE5leHRJbkNoYWluKCksdC5nZXROZXh0SW5DaGFpbigpLHMsITEpKSk6KHRoaXMubV9wYWlycy5wdXNoKEluKGUsdC5nZXROZXh0SW5DaGFpbigpLHMsITEpKSx0aGlzLm1fcGFpcnMucHVzaChJbihlLmdldE5leHRJbkNoYWluKCksdCxzLCExKSkpLCEwfXJldHVybiExfW5ld05vZGUoZSx0LHMsbil7Y29uc3Qgcj1uZXcgQ247cmV0dXJuIHRoaXMubV9uZXdOb2Rlcy5wdXNoKHIpLHIucHQ9ZSxyLnJhbms9cyxyLndlaWdodD10LHIuYklzQnJlYWs9bixyfW5ld0VkZ2UoZSx0LHMsbixyLGkpe2NvbnN0IG89bmV3IFNuO3JldHVybiBvLnN0YXJ0PWUsby5lbmQ9dCxlLm5leHRJbkNoYWluPW8sdC5wcmV2SW5DaGFpbj1vLG8uc2VnbWVudEluZGV4PXMsby5zZWdtZW50UGFyZW50YWdlPWksby5yYW5rPXIsby53ZWlnaHQ9bixvfXNwbGl0RWRnZUluUGxhY2UoZSl7ZS5zZWdtZW50SW5kZXg9LTE7Y29uc3QgdD1uZXcgU24scz1uZXcgQ247dGhpcy5tX25ld05vZGVzLnB1c2gocykscy5wdC5zZXROQU4oKSxzLm5leHRJbkNoYWluPXQscy5wcmV2SW5DaGFpbj1lLHMucHJldkluSGFzaD1udWxsLHMubmV4dEluSGFzaD1udWxsLHMucHJldkVxdWFsPW51bGwscy5uZXh0RXF1YWw9bnVsbCxzLndlaWdodD1lLndlaWdodCxzLnJhbms9ZS5yYW5rLHMuYklzQnJlYWs9ITEscy5iQmlnTW92ZT0hMSx0LnN0YXJ0PXMsdC5zZWdtZW50SW5kZXg9LTEsdC5lbmQ9ZS5lbmQsdC5lbmQucHJldkluQ2hhaW49dCx0LnJhbms9ZS5yYW5rLHQud2VpZ2h0PWUud2VpZ2h0LHQuc2VnbWVudFBhcmVudGFnZT1lLnNlZ21lbnRQYXJlbnRhZ2UsZS5lbmQ9cyxlLmVxdWFsRWRnZSYmKGUuZXF1YWxFZGdlLmVxdWFsRWRnZT1udWxsKSxlLmVxdWFsRWRnZT1udWxsfXVwZGF0ZVNlZ21lbnRPbmx5KGUsdCl7ZS5zZWdtZW50SW5kZXg9dH11cGRhdGVBdHRhY2hlZEVkZ2VzQWZ0ZXJOb2RlQ2hhbmdlKGUpe2ZvcihsZXQgdD1lLmVxdWFsTGlzdEhlYWQoKTtudWxsIT09dDt0PXQubmV4dEVxdWFsKXRoaXMudXBkYXRlQXR0YWNoZWRFZGdlc0FmdGVyTm9kZUNoYW5nZUltcGwodCl9dXBkYXRlQXR0YWNoZWRFZGdlc0FmdGVyTm9kZUNoYW5nZUltcGwoZSl7Y29uc3QgdD1lLnByZXZJbkNoYWluO2lmKHQmJnQuaGFzU2VnbWVudCgpKXtjb25zdCBzPXRoaXMuZ2V0U2VnbWVudCh0KS5nZXQoKTtlLnB0LmVxdWFscyhzLmdldEVuZFhZKCkpfHwocy5zZXRDb29yZHNGb3JJbnRlcnNlY3Rvcih0LnN0YXJ0LnB0LHQuZW5kLnB0LCExKSxzLmVuc3VyZVhZTW9ub3RvbmUoKSl9Y29uc3Qgcz1lLm5leHRJbkNoYWluO2lmKHMmJnMuaGFzU2VnbWVudCgpKXtjb25zdCB0PXRoaXMuZ2V0U2VnbWVudChzKS5nZXQoKTtlLnB0LmVxdWFscyh0LmdldFN0YXJ0WFkoKSl8fCh0LnNldENvb3Jkc0ZvckludGVyc2VjdG9yKHMuc3RhcnQucHQscy5lbmQucHQsITEpLHQuZW5zdXJlWFlNb25vdG9uZSgpKX19dXBkYXRlU2VnbWVudFRvTm9kZXMoZSl7Y29uc3QgdD10aGlzLmdldFNlZ21lbnQoZSkuZ2V0KCk7ZS5zdGFydC5wdC5lcXVhbHModC5nZXRTdGFydFhZKCkpJiZlLmVuZC5wdC5lcXVhbHModC5nZXRFbmRYWSgpKXx8KHQuc2V0Q29vcmRzRm9ySW50ZXJzZWN0b3IoZS5zdGFydC5wdCxlLmVuZC5wdCwhMSksdC5lbnN1cmVYWU1vbm90b25lKCkpLHRoaXMudXBkYXRlQXR0YWNoZWRFZGdlc0FmdGVyTm9kZUNoYW5nZShlLnN0YXJ0KSx0aGlzLnVwZGF0ZUF0dGFjaGVkRWRnZXNBZnRlck5vZGVDaGFuZ2UoZS5lbmQpfWdldFNlZ21lbnQoZSl7cmV0dXJuIHRoaXMucGFyZW50Lm1fcmVzdWx0U2VnbWVudHNbZS5zZWdtZW50SW5kZXhdfWNsdXN0ZXJOb2RlcyhlKXtsZXQgdD0hMTtjb25zdCBzPVtdLG49W10scj1bXTtmb3IobGV0IGk9MCxvPXRoaXMubV9uZXdOb2Rlcy5sZW5ndGg7aTxvO2krKyl7Y29uc3QgZT10aGlzLm1fbmV3Tm9kZXNbaV07aWYobnVsbD09PWUpY29udGludWU7bGV0IHQ9ZTtmb3IobGV0IHM9aSsxO3M8bztzKyspe2NvbnN0IG49dGhpcy5tX25ld05vZGVzW3NdO251bGwhPT1uJiYoZS5wdC5lcXVhbHMobi5wdCkmJih0Lm5leHRJbkhhc2g9bixuLnByZXZJbkhhc2g9dCx0PW4sdGhpcy5tX25ld05vZGVzW3NdPW51bGwpKX19Zm9yKGxldCBpPTAsbz10aGlzLm1fbmV3Tm9kZXMubGVuZ3RoO2k8bztpKyspe2NvbnN0IG89dGhpcy5tX25ld05vZGVzW2ldO2lmKG51bGw9PW8pY29udGludWU7Zm9yKG8uaGFzaD10aGlzLmNhbGN1bGF0ZUhhc2goby5wdCk7Oyl7Y29uc3QgaT1KZSg0KSxhPXRoaXMuaGFzaFRhYmxlQmluc1RvQ2hlY2sobyxpKTtmb3IobGV0IHQ9MDt0PGE7dCsrKWlmKG51bGwhPT1pW3RdKWZvcihsZXQgYT1pW3RdO251bGwhPT1hOyl7Y29uc3QgdD1hLm5leHRJbkhhc2g7UWUuZGlzdGFuY2Uoby5wdCxhLnB0KTw9ZSYmKHMucHVzaChhKSx0aGlzLnJlbW92ZU5vZGVGcm9tSGFzaChhKSxhLmhhc2g9MCxyLnB1c2goYSksbi5wdXNoKGEpKSxhPXR9bGV0IGg9ITE7Zm9yKGNvbnN0IGUgb2YgcylpZighby5wdC5lcXVhbHMoZS5wdCkpe2NvbnN0IHM9dW4oby5wdCxlLnB0LG8ud2VpZ2h0LG8ucmFuayxlLndlaWdodCxlLnJhbmspO28ucHQuYXNzaWduKHMucHQpLG8ud2VpZ2h0PXMud2VpZ2h0LG8ucmFuaz1zLnJhbmssaD0hMCx0PSEwfWlmKHMubGVuZ3RoPTAsIWgpYnJlYWs7by5oYXNoPXRoaXMuY2FsY3VsYXRlSGFzaChvLnB0KX1yLnB1c2gobyksbi5wdXNoKG8pO2ZvcihsZXQgZT1vLm5leHRJbkhhc2g7bnVsbCE9PWU7KXtlLnByZXZJbkhhc2g9bnVsbDtjb25zdCB0PWUubmV4dEluSGFzaDtlLm5leHRJbkhhc2g9bnVsbCxyLnB1c2goZSksbi5wdXNoKGUpLGU9dH1jb25zdCBhPW8uaGFzaDtsZXQgaD1udWxsLG09bnVsbDtmb3IoY29uc3QgZSBvZiBuKW8hPT1lJiYoZS5oYXNoPWEsZS5wdC5hc3NpZ24oby5wdCksZS5yYW5rPW8ucmFuayxlLndlaWdodD1vLndlaWdodCksZS5wcmV2SW5IYXNoPWgsaCYmKGgubmV4dEluSGFzaD1lKSxlLnByZXZFcXVhbD1tLGUubmV4dEVxdWFsPW51bGwsbSYmKG0ubmV4dEVxdWFsPWUpLG09ZSxoPWU7Y29uc3QgbD1hJXRoaXMubV9oYXNoVGFibGVPZkVxdWFscy5sZW5ndGg7aC5uZXh0SW5IYXNoPXRoaXMubV9oYXNoVGFibGVPZkVxdWFsc1tsXSxudWxsIT09dGhpcy5tX2hhc2hUYWJsZU9mRXF1YWxzW2xdJiYodGhpcy5tX2hhc2hUYWJsZU9mRXF1YWxzW2xdLnByZXZJbkhhc2g9aCksdGhpcy5tX2hhc2hUYWJsZU9mRXF1YWxzW2xdPW5bMF0sdGhpcy5tX2hhc2hUYWJsZU9mRXF1YWxzU2l6ZSs9bi5sZW5ndGgsbi5sZW5ndGg9MCx0aGlzLnJlaGFzaElmTmVlZGVkKCl9aWYodGhpcy5tX25ld05vZGVzLmxlbmd0aD0wLHQpZm9yKGNvbnN0IGkgb2Ygcil0aGlzLnVwZGF0ZUF0dGFjaGVkRWRnZXNBZnRlck5vZGVDaGFuZ2UoaSl9cmVoYXNoSWZOZWVkZWQoKXtpZigyKnRoaXMubV9oYXNoVGFibGVPZkVxdWFsc1NpemU+dGhpcy5tX2hhc2hUYWJsZU9mRXF1YWxzLmxlbmd0aCl7Y29uc3QgZT10aGlzLm1faGFzaFRhYmxlT2ZFcXVhbHM7dGhpcy5tX2hhc2hUYWJsZU9mRXF1YWxzPUplKDIqZS5sZW5ndGgpLHRoaXMubV9oYXNoVGFibGVPZkVxdWFsc1NpemU9MDtmb3IoY29uc3QgdCBvZiBlKXtsZXQgZT10O2Zvcig7ZTspe2NvbnN0IHQ9ZS5uZXh0SW5IYXNoO2UubmV4dEluSGFzaD1udWxsLGUucHJldkluSGFzaD1udWxsLHRoaXMuYWRkTm9kZVRvSGFzaEltcGwoZSksZT10fX19fWFkZE5vZGVUb0hhc2hJbXBsKGUpe2NvbnN0IHQ9ZS5oYXNoJXRoaXMubV9oYXNoVGFibGVPZkVxdWFscy5sZW5ndGgscz10aGlzLm1faGFzaFRhYmxlT2ZFcXVhbHNbdF07ZS5uZXh0SW5IYXNoPXMsbnVsbCE9PXMmJihzLnByZXZJbkhhc2g9ZSksdGhpcy5tX2hhc2hUYWJsZU9mRXF1YWxzW3RdPWUsdGhpcy5tX2hhc2hUYWJsZU9mRXF1YWxzU2l6ZSsrfXJlbW92ZU5vZGVGcm9tSGFzaChlKXtjb25zdCB0PWUuaGFzaCV0aGlzLm1faGFzaFRhYmxlT2ZFcXVhbHMubGVuZ3RoLHM9ZS5wcmV2SW5IYXNoLG49ZS5uZXh0SW5IYXNoO3M/cy5uZXh0SW5IYXNoPW46dGhpcy5tX2hhc2hUYWJsZU9mRXF1YWxzW3RdPW4sbiYmKG4ucHJldkluSGFzaD1zKSx0aGlzLm1faGFzaFRhYmxlT2ZFcXVhbHNTaXplLS0sZS5wcmV2SW5IYXNoPW51bGwsZS5uZXh0SW5IYXNoPW51bGx9aGFzaFRhYmxlQmluc1RvQ2hlY2soZSx0KXtjb25zdCBzPShlLnB0LngtdGhpcy5tX29yaWdpbi54KS90aGlzLm1fY2VsbC54LG49KGUucHQueS10aGlzLm1fb3JpZ2luLnkpL3RoaXMubV9jZWxsLnkscj12dCgpLTEsaT1NYXRoLnJvdW5kKEl0KHMsLTIxNDc0ODM2NDYscikpLG89TWF0aC5yb3VuZChJdChuLC0yMTQ3NDgzNjQ2LHIpKTtsZXQgYT1pfG88PDMyO2E9WmUoYSksdFswXT10aGlzLm1faGFzaFRhYmxlT2ZFcXVhbHNbYSV0aGlzLm1faGFzaFRhYmxlT2ZFcXVhbHMubGVuZ3RoXTtsZXQgaD1pKzF8bzw8MzI7aD1aZShoKTtsZXQgbT0xO3RbMV09dGhpcy5tX2hhc2hUYWJsZU9mRXF1YWxzW2gldGhpcy5tX2hhc2hUYWJsZU9mRXF1YWxzLmxlbmd0aF0sdFsxXSE9PXRbMF0mJihtPTIpO2xldCBsPWkrMXxvKzE8PDMyO2w9WmUobCksdFttXT10aGlzLm1faGFzaFRhYmxlT2ZFcXVhbHNbbCV0aGlzLm1faGFzaFRhYmxlT2ZFcXVhbHMubGVuZ3RoXTtmb3IobGV0IHU9MDt1PG07dSsrKWlmKHRbbV09PT10W3VdKXttLS07YnJlYWt9bSsrO2xldCBnPWl8bysxPDwzMjtnPVplKGcpLHRbbV09dGhpcy5tX2hhc2hUYWJsZU9mRXF1YWxzW2cldGhpcy5tX2hhc2hUYWJsZU9mRXF1YWxzLmxlbmd0aF07Zm9yKGxldCB1PTA7dTxtO3UrKylpZih0W21dPT09dFt1XSl7bS0tO2JyZWFrfXJldHVybiBtKyssbX1jYWxjdWxhdGVIYXNoKGUpe2NvbnN0IHQ9KGUueC10aGlzLm1fb3JpZ2luLngpL3RoaXMubV9jZWxsLngscz0oZS55LXRoaXMubV9vcmlnaW4ueSkvdGhpcy5tX2NlbGwueSxuPXZ0KCktMTtsZXQgcj1NYXRoLnJvdW5kKEl0KHQsLTIxNDc0ODM2NDYsbikpfE1hdGgucm91bmQoSXQocywtMjE0NzQ4MzY0NixuKSk8PDMyO3JldHVybiByPVplKHIpLDA9PT1yJiYocj0xKSxyfXByb2Nlc3NTaGFycENvcm5lcnMoZSx0LHMsbil7aWYodGhpcy5wYXJlbnQubV9wYXJhbTEubGVuZ3RoPTAsdGhpcy5wYXJlbnQubV9wYXJhbTIubGVuZ3RoPTAsZS5nZXRTdGFydFhZKCkuZXF1YWxzKHQuZ2V0U3RhcnRYWSgpKSl7Y29uc3Qgcj1bMCwwXSxpPVswLDBdLG89dGUoZSx0LDAsMCxzLDIscixpLG4pO2lmKG8pe3RoaXMucGFyZW50Lm1fcGFyYW0xLnB1c2goMCksdGhpcy5wYXJlbnQubV9wYXJhbTIucHVzaCgwKTtmb3IobGV0IGU9MDtlPG87ZSsrKXRoaXMucGFyZW50Lm1fcGFyYW0xLnB1c2gocltlXSksdGhpcy5wYXJlbnQubV9wYXJhbTIucHVzaChpW2VdKTtyZXR1cm4gbysxfX1pZihlLmdldEVuZFhZKCkuZXF1YWxzKHQuZ2V0RW5kWFkoKSkpe2NvbnN0IHI9WzAsMF0saT1bMCwwXSxvPXRlKGUsdCwxLDEscywyLHIsaSxuKTtpZihvKXtmb3IobGV0IGU9MDtlPG87ZSsrKXRoaXMucGFyZW50Lm1fcGFyYW0xLnB1c2gocltlXSksdGhpcy5wYXJlbnQubV9wYXJhbTIucHVzaChpW2VdKTtyZXR1cm4gdGhpcy5wYXJlbnQubV9wYXJhbTEucHVzaCgxKSx0aGlzLnBhcmVudC5tX3BhcmFtMi5wdXNoKDEpLG8rMX19aWYoZS5nZXRTdGFydFhZKCkuZXF1YWxzKHQuZ2V0RW5kWFkoKSkpe2NvbnN0IHI9WzAsMF0saT1bMCwwXSxvPXRlKGUsdCwwLDEscywyLHIsaSxuKTtpZihvKXt0aGlzLnBhcmVudC5tX3BhcmFtMS5wdXNoKDApLHRoaXMucGFyZW50Lm1fcGFyYW0yLnB1c2goMSk7Zm9yKGxldCBlPTA7ZTxvO2UrKyl0aGlzLnBhcmVudC5tX3BhcmFtMS5wdXNoKHJbZV0pLHRoaXMucGFyZW50Lm1fcGFyYW0yLnB1c2goaVtlXSk7cmV0dXJuIG8rMX19aWYoZS5nZXRFbmRYWSgpLmVxdWFscyh0LmdldFN0YXJ0WFkoKSkpe2NvbnN0IHI9WzAsMF0saT1bMCwwXSxvPXRlKGUsdCwxLDAscywyLHIsaSxuKTtpZihvKXtmb3IobGV0IGU9MDtlPG87ZSsrKXRoaXMucGFyZW50Lm1fcGFyYW0xLnB1c2gocltlXSksdGhpcy5wYXJlbnQubV9wYXJhbTIucHVzaChpW2VdKTtyZXR1cm4gdGhpcy5wYXJlbnQubV9wYXJhbTEucHVzaCgxKSx0aGlzLnBhcmVudC5tX3BhcmFtMi5wdXNoKDApLG8rMX19cmV0dXJuIDB9fWZ1bmN0aW9uIHduKGUsdCxzKXtsZXQgcj0wO3N3aXRjaChlKXtjYXNlIG4uZW51bUxpbmU6cj0wO2JyZWFrO2Nhc2Ugbi5lbnVtQmV6aWVyOnI9MjticmVhaztjYXNlIG4uZW51bVJhdGlvbmFsQmV6aWVyMjpyPTM7YnJlYWs7Y2FzZSBuLmVudW1CZXppZXIyOnI9MTticmVhaztjYXNlIG4uZW51bUVsbGlwdGljQXJjOnI9MD09PXQucHJvamVjdGlvbkJlaGF2aW9yKCk/NTo0O2JyZWFrO2RlZmF1bHQ6aShcIlwiKX1yZXR1cm4gcz81LXI6cn1jbGFzcyB2biBleHRlbmRzIG9ue2NvbnN0cnVjdG9yKGUpe3N1cGVyKGUubV9zaGFwZSxlLm1fdG9sZXJhbmNlLCExKSx0aGlzLm1fcGFyZW50PWV9Y29tcGFyZShlLHQscyl7aWYodGhpcy5tX2JJbnRlcnNlY3Rpb25EZXRlY3RlZClyZXR1cm4tMTtjb25zdCBuPWUuZ2V0RWxlbWVudChzKSxyPXRoaXMubV9wYXJlbnQuZ2V0RWRnZU9yaWdpblZlcnRpY2VzKHQpLGk9dGhpcy5tX3BhcmVudC5tX2VkZ2VWZXJ0aWNlcy5nZXRGaXJzdEVsZW1lbnQociksbz10aGlzLm1fcGFyZW50LmdldEVkZ2VPcmlnaW5WZXJ0aWNlcyhuKSxhPXRoaXMubV9wYXJlbnQubV9lZGdlVmVydGljZXMuZ2V0Rmlyc3RFbGVtZW50KG8pO3JldHVybiB0aGlzLm1fY3VycmVudE5vZGU9cyx0aGlzLmNvbXBhcmVTZWdtZW50cyh0LGksbixhKX19Y2xhc3MgTm4gZXh0ZW5kcyBhbntjb25zdHJ1Y3RvcihlKXtzdXBlcihlLm1fc2hhcGUsZS5tX3RvbGVyYW5jZSksdGhpcy5tX3BhcmVudD1lfWNvbXBhcmUoZSx0KXtpZih0aGlzLm1fYkludGVyc2VjdGlvbkRldGVjdGVkKXJldHVybi0xO2NvbnN0IHM9ZS5nZXRFbGVtZW50KHQpLG49dGhpcy5tX3BhcmVudC5nZXRFZGdlT3JpZ2luVmVydGljZXMocykscj10aGlzLm1fcGFyZW50Lm1fZWRnZVZlcnRpY2VzLmdldEZpcnN0RWxlbWVudChuKTtyZXR1cm4gdGhpcy5tX2N1cnJlbnROb2RlPXQsdGhpcy5jb21wYXJlVmVydGV4KGUsdCxyKX19Y2xhc3MgVG4gZXh0ZW5kcyBZZXtjb25zdHJ1Y3RvcihlKXtzdXBlcigpLHRoaXMucHQxPVFlLmdldE5BTigpLHRoaXMucHQyPVFlLmdldE5BTigpLHRoaXMubV9zaGFwZT1lfWNvbXBhcmUoZSx0LHMpe3RoaXMubV9zaGFwZS5xdWVyeVhZKHQsdGhpcy5wdDEpO2NvbnN0IG49ZS5nZXRFbGVtZW50KHMpO3JldHVybiB0aGlzLm1fc2hhcGUucXVlcnlYWShuLHRoaXMucHQyKSx0aGlzLnB0MS5jb21wYXJlKHRoaXMucHQyKX19Y2xhc3MgR257Y29uc3RydWN0b3IoZSl7dGhpcy5tX3BvaW50PVFlLmdldE5BTigpLHRoaXMubV9wdD1RZS5nZXROQU4oKSx0aGlzLm1fc2hhcGU9ZX1zZXRQb2ludChlKXt0aGlzLm1fcG9pbnQuc2V0Q29vcmRzUG9pbnQyRChlKX1jb21wYXJlKGUsdCl7Y29uc3Qgcz1lLmdldEVsZW1lbnQodCk7cmV0dXJuIHRoaXMubV9zaGFwZS5xdWVyeVhZKHMsdGhpcy5tX3B0KSx0aGlzLm1fcG9pbnQuY29tcGFyZSh0aGlzLm1fcHQpfX1jbGFzcyBEbntjb25zdHJ1Y3RvcihlLHQpe3RoaXMubV9zaGFwZT1udWxsLHRoaXMubV9wcm9ncmVzc1RyYWNrZXI9bnVsbCx0aGlzLm1fZWRnZXM9bmV3IEJlKDgpLHRoaXMubV9jbHVzdGVycz1uZXcgQmUoNSksdGhpcy5tX2NsdXN0ZXJWZXJ0aWNlcz1uZXcgc24oITEpLHRoaXMubV9lZGdlVmVydGljZXM9bmV3IHNuKCExKSx0aGlzLm1faGVscGVyUG9pbnQ9bmV3IGZlLHRoaXMubV9ldmVudFE9bmV3IEVlLHRoaXMubV9zd2VlcFN0cnVjdHVyZT1uZXcgRWUsdGhpcy5tX2JDb21wbGljYXRpb25zPSExLHRoaXMubV9zd2VlcENvbXBhcmF0b3I9bnVsbCx0aGlzLm1fdGVtcEVkZ2VCdWZmZXI9W10sdGhpcy5tX21vZGlmaWVkQ2x1c3RlcnM9W10sdGhpcy5tX2VkZ2VzVG9JbnNlcnRJblN3ZWVwU3RydWN0dXJlPVtdLHRoaXMubV9wcmV2TmVpZ2hib3VyPS0xLHRoaXMubV9uZXh0TmVpZ2hib3VyPS0xLHRoaXMubV9iQ29udGludWluZ1NlZ21lbnRDaGFpbk9wdGltaXphdGlvbj0hMSx0aGlzLm1fcHJvZ3Jlc3NDb3VudGVyPTAsdGhpcy5tX3NlZ21lbnRJbnRlcnNlY3Rvcj1uZXcgeG4sdGhpcy5tX3NlZ0J1ZjE9bmV3IEYsdGhpcy5tX3NlZ0J1ZjI9bmV3IEYsdGhpcy5tX3N3ZWVwUG9pbnQ9bmV3IFFlKDAsMCksdGhpcy5tX3RvbGVyYW5jZT0wLHRoaXMubV90b2xlcmFuY2VTcXI9MCx0aGlzLm1fc3dlZXBQb2ludENsdXN0ZXI9LTEsdGhpcy5tX3ZlcnRleENsdXN0ZXJJbmRleD0tMSx0aGlzLm1fYkNyYWNrZWQ9ITEsdGhpcy5tX2JTd2VlcFBvaW50Q2x1c3Rlcldhc01vZGlmaWVkPSExLHRoaXMubV9wcm9ncmVzc1RyYWNrZXI9ZSx0aGlzLm1fYlRyYWNrQ2hhbmdlcz10fWhhZENvbXBsaWNhdGlvbnMoKXtyZXR1cm4gdGhpcy5tX2JDb21wbGljYXRpb25zfXN3ZWVwKGUsdCl7Y29uc3Qgcz1uZXcganQ7cy5zZXRTd2FwQ29vcmRpbmF0ZXMoKSxlLmFwcGx5VHJhbnNmb3JtYXRpb24ocyksdGhpcy5zZXRFZGl0U2hhcGVfKGUpLHRoaXMubV9iQ3JhY2tlZD0hMSx0aGlzLm1fdG9sZXJhbmNlPXQsdGhpcy5tX3RvbGVyYW5jZVNxcj10KnQ7bGV0IG49dGhpcy5zd2VlcEltcGxfKCk7cmV0dXJuIGUuYXBwbHlUcmFuc2Zvcm1hdGlvbihzKSxufHwodGhpcy5maWxsRXZlbnRRdWV1ZVBhc3MyKCksbj10aGlzLnN3ZWVwSW1wbF8oKXx8biksdGhpcy5tX3NoYXBlLnJlbW92ZVVzZXJJbmRleCh0aGlzLm1fdmVydGV4Q2x1c3RlckluZGV4KSx0aGlzLm1fc2hhcGU9bnVsbCx0aGlzLm1fYkNyYWNrZWR9c3dlZXBWZXJ0aWNhbChlLHQpe3RoaXMuc2V0RWRpdFNoYXBlXyhlKSx0aGlzLm1fYkNyYWNrZWQ9ITEsdGhpcy5tX3RvbGVyYW5jZT10LHRoaXMubV90b2xlcmFuY2VTcXI9dCp0LHRoaXMubV9iQ29tcGxpY2F0aW9ucz0hMTtsZXQgcz10aGlzLnN3ZWVwSW1wbF8oKTtpZighdGhpcy5tX2JDb21wbGljYXRpb25zKXtjb25zdCBuPWUuZmlsdGVyQ2xvc2VQb2ludHModCwhMCwhMSx0aGlzLm1fYlRyYWNrQ2hhbmdlcyxNKTt0aGlzLm1fYkNvbXBsaWNhdGlvbnM9MT09PW4sc3x8PTE9PT1ufXJldHVybi0xIT09dGhpcy5tX3ZlcnRleENsdXN0ZXJJbmRleCYmKHRoaXMubV9zaGFwZS5yZW1vdmVVc2VySW5kZXgodGhpcy5tX3ZlcnRleENsdXN0ZXJJbmRleCksdGhpcy5tX3ZlcnRleENsdXN0ZXJJbmRleD0tMSksdGhpcy5tX3NoYXBlPW51bGwsc31nZXRFZGdlQ2x1c3RlcihlLHQpe3JldHVybiB0aGlzLm1fZWRnZXMuZ2V0RmllbGQoZSwwK3QpfXNldEVkZ2VDbHVzdGVyXyhlLHQscyl7dGhpcy5tX2VkZ2VzLnNldEZpZWxkKGUsMCt0LHMpfWdldEVkZ2VPcmlnaW5WZXJ0aWNlcyhlKXtyZXR1cm4gdGhpcy5tX2VkZ2VzLmdldEZpZWxkKGUsMil9c2V0RWRnZU9yaWdpblZlcnRpY2VzXyhlLHQpe3RoaXMubV9lZGdlcy5zZXRGaWVsZChlLDIsdCl9Z2V0TmV4dEVkZ2VFeChlLHQpe3JldHVybiB0aGlzLm1fZWRnZXMuZ2V0RmllbGQoZSwzK3QpfXNldE5leHRFZGdlRXhfKGUsdCxzKXt0aGlzLm1fZWRnZXMuc2V0RmllbGQoZSwzK3Qscyl9Z2V0RWRnZVN3ZWVwTm9kZShlKXtyZXR1cm4gdGhpcy5tX2VkZ2VzLmdldEZpZWxkKGUsNyl9c2V0RWRnZVN3ZWVwTm9kZV8oZSx0KXt0aGlzLm1fZWRnZXMuc2V0RmllbGQoZSw3LHQpfWdldE5leHRFZGdlKGUsdCl7Y29uc3Qgcz10aGlzLmdldEVkZ2VFbmQoZSx0KTtyZXR1cm4gdGhpcy5tX2VkZ2VzLmdldEZpZWxkKGUsMytzKX1zZXROZXh0RWRnZV8oZSx0LHMpe2NvbnN0IG49dGhpcy5nZXRFZGdlRW5kKGUsdCk7dGhpcy5tX2VkZ2VzLnNldEZpZWxkKGUsMytuLHMpfWdldFByZXZFZGdlKGUsdCl7Y29uc3Qgcz10aGlzLmdldEVkZ2VFbmQoZSx0KTtyZXR1cm4gdGhpcy5tX2VkZ2VzLmdldEZpZWxkKGUsNStzKX1zZXRQcmV2RWRnZV8oZSx0LHMpe2NvbnN0IG49dGhpcy5nZXRFZGdlRW5kKGUsdCk7dGhpcy5tX2VkZ2VzLnNldEZpZWxkKGUsNStuLHMpfWdldENsdXN0ZXJWZXJ0aWNlcyhlKXtyZXR1cm4gdGhpcy5tX2NsdXN0ZXJzLmdldEZpZWxkKGUsMCl9c2V0Q2x1c3RlclZlcnRpY2VzXyhlLHQpe3RoaXMubV9jbHVzdGVycy5zZXRGaWVsZChlLDAsdCl9Z2V0Q2x1c3RlclN3ZWVwRWRnZUxpc3QoZSl7cmV0dXJuIHRoaXMubV9jbHVzdGVycy5nZXRGaWVsZChlLDIpfXNldENsdXN0ZXJTd2VlcEVkZ2VMaXN0XyhlLHQpe3RoaXMubV9jbHVzdGVycy5zZXRGaWVsZChlLDIsdCl9Z2V0Q2x1c3RlckZpcnN0RWRnZShlKXtyZXR1cm4gdGhpcy5tX2NsdXN0ZXJzLmdldEZpZWxkKGUsMSl9c2V0Q2x1c3RlckZpcnN0RWRnZV8oZSx0KXt0aGlzLm1fY2x1c3RlcnMuc2V0RmllbGQoZSwxLHQpfWdldENsdXN0ZXJFdmVudFFOb2RlKGUpe3JldHVybiB0aGlzLm1fY2x1c3RlcnMuZ2V0RmllbGQoZSwzKX1zZXRDbHVzdGVyRXZlbnRRTm9kZV8oZSx0KXt0aGlzLm1fY2x1c3RlcnMuc2V0RmllbGQoZSwzLHQpfW5ld0NsdXN0ZXJfKGUpe2NvbnN0IHQ9dGhpcy5tX2NsdXN0ZXJzLm5ld0VsZW1lbnQoKSxzPXRoaXMubV9jbHVzdGVyVmVydGljZXMuY3JlYXRlTGlzdCgpO3JldHVybiB0aGlzLnNldENsdXN0ZXJWZXJ0aWNlc18odCxzKSxlIT09TSYmKHRoaXMubV9jbHVzdGVyVmVydGljZXMuYWRkRWxlbWVudChzLGUpLHRoaXMubV9zaGFwZS5zZXRVc2VySW5kZXgoZSx0aGlzLm1fdmVydGV4Q2x1c3RlckluZGV4LHQpKSx0fWRlbGV0ZUNsdXN0ZXJfKGUpe3RoaXMubV9jbHVzdGVycy5kZWxldGVFbGVtZW50KGUpfWFkZFZlcnRleFRvQ2x1c3Rlcl8oZSx0KXtjb25zdCBzPXRoaXMuZ2V0Q2x1c3RlclZlcnRpY2VzKGUpO3RoaXMubV9jbHVzdGVyVmVydGljZXMuYWRkRWxlbWVudChzLHQpLHRoaXMubV9zaGFwZS5zZXRVc2VySW5kZXgodCx0aGlzLm1fdmVydGV4Q2x1c3RlckluZGV4LGUpfW5ld0VkZ2VfKGUpe2NvbnN0IHQ9dGhpcy5tX2VkZ2VzLm5ld0VsZW1lbnQoKSxzPXRoaXMubV9lZGdlVmVydGljZXMuY3JlYXRlTGlzdCgpO3JldHVybiB0aGlzLnNldEVkZ2VPcmlnaW5WZXJ0aWNlc18odCxzKSwtMSE9PWUmJnRoaXMubV9lZGdlVmVydGljZXMuYWRkRWxlbWVudChzLGUpLHR9YWRkVmVydGV4VG9FZGdlXyhlLHQpe2NvbnN0IHM9dGhpcy5nZXRFZGdlT3JpZ2luVmVydGljZXMoZSk7dGhpcy5tX2VkZ2VWZXJ0aWNlcy5hZGRFbGVtZW50KHMsdCl9ZGVsZXRlRWRnZV8oZSl7dGhpcy5tX2VkZ2VzLmRlbGV0ZUVsZW1lbnQoZSk7Y29uc3QgdD10aGlzLm1fZWRnZXNUb0luc2VydEluU3dlZXBTdHJ1Y3R1cmUuZmluZEluZGV4KCh0PT50PT09ZSkpO3Q+PTAmJnl0KHRoaXMubV9lZGdlc1RvSW5zZXJ0SW5Td2VlcFN0cnVjdHVyZSx0KX1hZGRFZGdlVG9DbHVzdGVyKGUsdCl7LTE9PT10aGlzLmdldEVkZ2VDbHVzdGVyKGUsMCk/dGhpcy5zZXRFZGdlQ2x1c3Rlcl8oZSwwLHQpOi0xPT09dGhpcy5nZXRFZGdlQ2x1c3RlcihlLDEpP3RoaXMuc2V0RWRnZUNsdXN0ZXJfKGUsMSx0KTppKFwiXCIpLHRoaXMuYWRkRWRnZVRvQ2x1c3RlckltcGxfKGUsdCl9YWRkRWRnZVRvQ2x1c3RlckltcGxfKGUsdCl7Y29uc3Qgcz10aGlzLmdldENsdXN0ZXJGaXJzdEVkZ2UodCk7aWYoLTEhPT1zKXtjb25zdCBuPXRoaXMuZ2V0TmV4dEVkZ2Uocyx0KTt0aGlzLnNldFByZXZFZGdlXyhuLHQsZSksdGhpcy5zZXROZXh0RWRnZV8oZSx0LG4pLHRoaXMuc2V0TmV4dEVkZ2VfKHMsdCxlKSx0aGlzLnNldFByZXZFZGdlXyhlLHQscyl9ZWxzZSB0aGlzLnNldFByZXZFZGdlXyhlLHQsZSksdGhpcy5zZXROZXh0RWRnZV8oZSx0LGUpLHRoaXMuc2V0Q2x1c3RlckZpcnN0RWRnZV8odCxlKX1nZXRFZGdlRW5kKGUsdCl7cmV0dXJuIHRoaXMuZ2V0RWRnZUNsdXN0ZXIoZSwwKT09PXQ/MDoxfW1lcmdlQ2x1c3RlcnNfKGUsdCl7dGhpcy5kYmdDaGVja0NsdXN0ZXJfKGUpLHRoaXMuZGJnQ2hlY2tDbHVzdGVyXyh0KTtjb25zdCBzPXRoaXMuZ2V0Q2x1c3RlckV2ZW50UU5vZGUodCk7LTEhPT1zJiYodGhpcy5tX2V2ZW50US5kZWxldGVOb2RlKHMpLHRoaXMuc2V0Q2x1c3RlckV2ZW50UU5vZGVfKHQsLTEpKTtsZXQgbj10aGlzLmdldENsdXN0ZXJGaXJzdEVkZ2UoZSkscj10aGlzLmdldENsdXN0ZXJGaXJzdEVkZ2UodCk7aWYoLTEhPT1yKXtsZXQgcz1yLGk9cixvPSExO2Rve3RoaXMuZGJnQ2hlY2tFZGdlXyhzKSxvPSExO2NvbnN0IG49dGhpcy5nZXRFZGdlRW5kKHMsdCksYT10aGlzLmdldE5leHRFZGdlRXgocyxuKTtpZih0aGlzLmdldEVkZ2VDbHVzdGVyKHMsbisxJjEpPT09ZSl7dGhpcy5kaXNjb25uZWN0RWRnZV8ocyk7Y29uc3QgZT10aGlzLmdldEVkZ2VPcmlnaW5WZXJ0aWNlcyhzKTtpZih0aGlzLm1fZWRnZVZlcnRpY2VzLmRlbGV0ZUxpc3QoZSksdGhpcy5kZWxldGVFZGdlXyhzKSxzPT09YSl7cj0tMTticmVha31yPT09cyYmKHI9dGhpcy5nZXRDbHVzdGVyRmlyc3RFZGdlKHQpLGk9YSxvPSEwKX1zPWF9d2hpbGUocyE9PWl8fG8pO2lmKC0xIT09cil7ZG97Y29uc3Qgbj10aGlzLmdldEVkZ2VFbmQocyx0KSxyPXRoaXMuZ2V0TmV4dEVkZ2VFeChzLG4pO3RoaXMuc2V0RWRnZUNsdXN0ZXJfKHMsbixlKSxzPXJ9d2hpbGUocyE9PWkpO2lmKG49dGhpcy5nZXRDbHVzdGVyRmlyc3RFZGdlKGUpLC0xIT09bil7Y29uc3QgdD10aGlzLmdldE5leHRFZGdlKG4sZSkscz10aGlzLmdldE5leHRFZGdlKHIsZSk7dD09PW4/KHRoaXMuc2V0Q2x1c3RlckZpcnN0RWRnZV8oZSxyKSx0aGlzLmFkZEVkZ2VUb0NsdXN0ZXJJbXBsXyhuLGUpLHRoaXMuc2V0Q2x1c3RlckZpcnN0RWRnZV8oZSxuKSk6cz09PXImJnRoaXMuYWRkRWRnZVRvQ2x1c3RlckltcGxfKHIsZSksdGhpcy5zZXROZXh0RWRnZV8ocixlLHQpLHRoaXMuc2V0UHJldkVkZ2VfKHQsZSxyKSx0aGlzLnNldE5leHRFZGdlXyhuLGUscyksdGhpcy5zZXRQcmV2RWRnZV8ocyxlLG4pfWVsc2UgdGhpcy5zZXRDbHVzdGVyRmlyc3RFZGdlXyhlLHIpfX1jb25zdCBpPXRoaXMuZ2V0Q2x1c3RlclZlcnRpY2VzKGUpLG89dGhpcy5nZXRDbHVzdGVyVmVydGljZXModCk7Zm9yKGxldCBhPXRoaXMubV9jbHVzdGVyVmVydGljZXMuZ2V0Rmlyc3Qobyk7LTEhPT1hO2E9dGhpcy5tX2NsdXN0ZXJWZXJ0aWNlcy5nZXROZXh0KGEpKXtjb25zdCB0PXRoaXMubV9jbHVzdGVyVmVydGljZXMuZ2V0RWxlbWVudChhKTt0aGlzLm1fc2hhcGUuc2V0VXNlckluZGV4KHQsdGhpcy5tX3ZlcnRleENsdXN0ZXJJbmRleCxlKX10aGlzLm1fY2x1c3RlclZlcnRpY2VzLmNvbmNhdGVuYXRlTGlzdHMoaSxvKSx0aGlzLmRlbGV0ZUNsdXN0ZXJfKHQpLHRoaXMuZGJnQ2hlY2tDbHVzdGVyXyhlKX1tZXJnZUVkZ2VzXyhlLHQpe3RoaXMuZGJnQ2hlY2tFZGdlXyhlKSx0aGlzLmRiZ0NoZWNrRWRnZV8odCk7Y29uc3Qgcz10aGlzLmdldEVkZ2VDbHVzdGVyKGUsMCksbj10aGlzLmdldEVkZ2VDbHVzdGVyKGUsMSkscj10aGlzLmdldEVkZ2VDbHVzdGVyKHQsMCksaT10aGlzLmdldEVkZ2VDbHVzdGVyKHQsMSksbz10aGlzLmdldEVkZ2VPcmlnaW5WZXJ0aWNlcyhlKSxhPXRoaXMuZ2V0RWRnZU9yaWdpblZlcnRpY2VzKHQpO2lmKHRoaXMubV9lZGdlVmVydGljZXMuY29uY2F0ZW5hdGVMaXN0cyhvLGEpLHQ9PT10aGlzLmdldENsdXN0ZXJGaXJzdEVkZ2UocykmJnRoaXMuc2V0Q2x1c3RlckZpcnN0RWRnZV8ocyxlKSx0PT09dGhpcy5nZXRDbHVzdGVyRmlyc3RFZGdlKG4pJiZ0aGlzLnNldENsdXN0ZXJGaXJzdEVkZ2VfKG4sZSksdGhpcy5kaXNjb25uZWN0RWRnZV8odCksdGhpcy5kZWxldGVFZGdlXyh0KSwhKHM9PT1yJiZuPT09aXx8bj09PXImJnM9PT1pKSl7Y29uc3QgZT10aGlzLmdldENsdXN0ZXJYWShzKSx0PXRoaXMuZ2V0Q2x1c3RlclhZKHIpO2UuaXNFcXVhbFBvaW50MkQodCk/KHMhPT1yJiZ0aGlzLm1lcmdlQ2x1c3RlcnNfKHMsciksbiE9PWkmJnRoaXMubWVyZ2VDbHVzdGVyc18obixpKSk6KG4hPT1yJiZ0aGlzLm1lcmdlQ2x1c3RlcnNfKG4scikscyE9PWkmJnRoaXMubWVyZ2VDbHVzdGVyc18ocyxpKSl9dGhpcy5kYmdDaGVja0VkZ2VfKGUpfWRpc2Nvbm5lY3RFZGdlXyhlKXtjb25zdCB0PXRoaXMuZ2V0RWRnZUNsdXN0ZXIoZSwwKSxzPXRoaXMuZ2V0RWRnZUNsdXN0ZXIoZSwxKTt0aGlzLmRpc2Nvbm5lY3RFZGdlRnJvbUNsdXN0ZXJfKGUsdCksdGhpcy5kaXNjb25uZWN0RWRnZUZyb21DbHVzdGVyXyhlLHMpfWRpc2Nvbm5lY3RFZGdlRnJvbUNsdXN0ZXJfKGUsdCl7Y29uc3Qgcz10aGlzLmdldE5leHRFZGdlKGUsdCksbj10aGlzLmdldFByZXZFZGdlKGUsdCkscj10aGlzLmdldENsdXN0ZXJGaXJzdEVkZ2UodCk7cyE9PWU/KHRoaXMuc2V0TmV4dEVkZ2VfKG4sdCxzKSx0aGlzLnNldFByZXZFZGdlXyhzLHQsbikscj09PWUmJnRoaXMuc2V0Q2x1c3RlckZpcnN0RWRnZV8odCxzKSk6dGhpcy5zZXRDbHVzdGVyRmlyc3RFZGdlXyh0LC0xKX1hcHBseUludGVyc2VjdG9yVG9FZGl0U2hhcGVfKGUsdCxzKXtsZXQgbj10aGlzLm1fZWRnZVZlcnRpY2VzLmdldEZpcnN0KGUpO2NvbnN0IHI9dGhpcy5tX2VkZ2VWZXJ0aWNlcy5nZXRFbGVtZW50KG4pLGk9dGhpcy5nZXRDbHVzdGVyRnJvbVZlcnRleChyKSxvPXRoaXMubV9zaGFwZS5nZXROZXh0VmVydGV4KHIpLGE9dGhpcy5nZXRDbHVzdGVyRnJvbVZlcnRleChvKSxoPXRoaXMubV9zaGFwZS5nZXRYWShyKSxtPXRoaXMubV9zaGFwZS5nZXRYWShvKTtsZXQgbD0hMSxnPSExO2NvbnN0IHU9dC5nZXRSZXN1bHRTZWdtZW50KHMsMCkuZ2V0U3RhcnRYWSgpLGM9dC5nZXRSZXN1bHRTZWdtZW50KHMsdC5nZXRSZXN1bHRTZWdtZW50Q291bnQocyktMSkuZ2V0RW5kWFkoKTtoLmVxdWFscyh1KXx8KGw9ITApLG0uZXF1YWxzKGMpfHwoZz0hMCksdGhpcy5tX3NoYXBlLnNwbGl0U2VnbWVudFdpdGhJbnRlcnNlY3RvcihyLHQscywhMCwhMCk7Y29uc3QgXz10aGlzLm1fYlRyYWNrQ2hhbmdlcyYmdC5nZXRTZWdtZW50Q2hhbmdlZChzKTtmb3IoXyYmdGhpcy5tX3NoYXBlLnNldEdlb21ldHJ5TW9kaWZpZWRXaXRoVmVydGV4KHIsITApLG49dGhpcy5tX2VkZ2VWZXJ0aWNlcy5nZXROZXh0KG4pOy0xIT09bjtuPXRoaXMubV9lZGdlVmVydGljZXMuZ2V0TmV4dChuKSl7Y29uc3QgZT10aGlzLm1fZWRnZVZlcnRpY2VzLmdldEVsZW1lbnQobikscj10aGlzLmdldENsdXN0ZXJGcm9tVmVydGV4KGUpPT09aTt0aGlzLm1fc2hhcGUuc3BsaXRTZWdtZW50V2l0aEludGVyc2VjdG9yKGUsdCxzLHIsITApLF8mJnRoaXMubV9zaGFwZS5zZXRHZW9tZXRyeU1vZGlmaWVkV2l0aFZlcnRleChlLCEwKX1pZihsJiZ0aGlzLnVwZGF0ZUNsdXN0ZXJYWSghMCxpLHUsdC5nZXRSZXN1bHRTZWdtZW50U3RhcnRQb2ludFdlaWdodChzLDApLHQuZ2V0UmVzdWx0U2VnbWVudFN0YXJ0UG9pbnRSYW5rKHMsMCkpLGcpe2NvbnN0IGU9dC5nZXRSZXN1bHRTZWdtZW50Q291bnQocyktMTt0aGlzLnVwZGF0ZUNsdXN0ZXJYWSghMCxhLGMsdC5nZXRSZXN1bHRTZWdtZW50RW5kUG9pbnRXZWlnaHQocyxlKSx0LmdldFJlc3VsdFNlZ21lbnRFbmRQb2ludFJhbmsocyxlKSl9fWNyZWF0ZUVkZ2VzQW5kQ2x1c3RlcnNGcm9tU3BsaXRFZGdlXyhlLHQscyl7dGhpcy5kYmdDaGVja05ld0VkZ2VzQXJyYXlfKCk7Y29uc3Qgbj10aGlzLmdldEVkZ2VPcmlnaW5WZXJ0aWNlcyhlKSxyPXRoaXMuZ2V0RWRnZUNsdXN0ZXIoZSwwKSxpPXRoaXMuZ2V0RWRnZUNsdXN0ZXIoZSwxKTtsZXQgbz10aGlzLm5ld0VkZ2VfKC0xKTt0aGlzLm1fZWRnZXNUb0luc2VydEluU3dlZXBTdHJ1Y3R1cmUucHVzaChvKTtjb25zdCBhPUJlLmltcG9zc2libGVJbmRleDMoKTt0aGlzLnNldEVkZ2VTd2VlcE5vZGVfKG8sYSksdGhpcy5tX3RlbXBFZGdlQnVmZmVyLnB1c2gobyksdGhpcy5hZGRFZGdlVG9DbHVzdGVyKG8scik7Y29uc3QgaD10LmdldFJlc3VsdFNlZ21lbnRDb3VudChzKTtmb3IobGV0IG09MTttPGg7bSsrKXtjb25zdCBlPXRoaXMubmV3Q2x1c3Rlcl8oLTEpO3RoaXMubV9tb2RpZmllZENsdXN0ZXJzLnB1c2goZSksdGhpcy5tX3RlbXBFZGdlQnVmZmVyLnB1c2goZSksdGhpcy5hZGRFZGdlVG9DbHVzdGVyKG8sZSk7Y29uc3QgdD10aGlzLm5ld0VkZ2VfKC0xKTt0aGlzLm1fZWRnZXNUb0luc2VydEluU3dlZXBTdHJ1Y3R1cmUucHVzaCh0KSx0aGlzLnNldEVkZ2VTd2VlcE5vZGVfKHQsYSksdGhpcy5tX3RlbXBFZGdlQnVmZmVyLnB1c2godCksdGhpcy5hZGRFZGdlVG9DbHVzdGVyKHQsZSksbz10fXRoaXMuYWRkRWRnZVRvQ2x1c3RlcihvLGkpO2ZvcihsZXQgbT10aGlzLm1fZWRnZVZlcnRpY2VzLmdldEZpcnN0KG4pOy0xIT09bTttPXRoaXMubV9lZGdlVmVydGljZXMuZ2V0TmV4dChtKSl7bGV0IGU9dGhpcy5tX2VkZ2VWZXJ0aWNlcy5nZXRFbGVtZW50KG0pO2lmKHRoaXMuZ2V0Q2x1c3RlckZyb21WZXJ0ZXgoZSk9PT1yKXtsZXQgdD0wO2NvbnN0IHM9dGhpcy5tX3RlbXBFZGdlQnVmZmVyLmxlbmd0aDtkb3tpZih0PjApe2NvbnN0IHM9dGhpcy5tX3RlbXBFZGdlQnVmZmVyW3QtMV07dGhpcy5hZGRWZXJ0ZXhUb0NsdXN0ZXJfKHMsZSl9Y29uc3Qgcz10aGlzLm1fdGVtcEVkZ2VCdWZmZXJbdF07dCs9Mix0aGlzLmFkZFZlcnRleFRvRWRnZV8ocyxlKSxlPXRoaXMubV9zaGFwZS5nZXROZXh0VmVydGV4KGUpfXdoaWxlKHQ8cyl9ZWxzZXtsZXQgdD10aGlzLm1fdGVtcEVkZ2VCdWZmZXIubGVuZ3RoLTE7ZG97aWYodDx0aGlzLm1fdGVtcEVkZ2VCdWZmZXIubGVuZ3RoLTIpe2NvbnN0IHM9dGhpcy5tX3RlbXBFZGdlQnVmZmVyW3QrMV07dGhpcy5hZGRWZXJ0ZXhUb0NsdXN0ZXJfKHMsZSl9Y29uc3Qgcz10aGlzLm1fdGVtcEVkZ2VCdWZmZXJbdF07dC09Mix0aGlzLmFkZFZlcnRleFRvRWRnZV8ocyxlKSxlPXRoaXMubV9zaGFwZS5nZXROZXh0VmVydGV4KGUpfXdoaWxlKHQ+PTApfX10aGlzLm1fdGVtcEVkZ2VCdWZmZXIubGVuZ3RoPTAsdGhpcy5kYmdDaGVja05ld0VkZ2VzQXJyYXlfKCl9Z2V0VmVydGV4RnJvbUNsdXN0ZXJJbmRleChlKXtjb25zdCB0PXRoaXMuZ2V0Q2x1c3RlclZlcnRpY2VzKGUpO3JldHVybiB0aGlzLm1fY2x1c3RlclZlcnRpY2VzLmdldEZpcnN0RWxlbWVudCh0KX1nZXRDbHVzdGVyRnJvbVZlcnRleChlKXtyZXR1cm4gdGhpcy5tX3NoYXBlLmdldFVzZXJJbmRleChlLHRoaXMubV92ZXJ0ZXhDbHVzdGVySW5kZXgpfXByb2Nlc3NTcGxpdEhlbHBlcjFfKGUsdCxzKXtjb25zdCBuPXRoaXMuZ2V0RWRnZUNsdXN0ZXIodCwwKSxyPXRoaXMuZ2V0Q2x1c3RlclhZKG4pLGk9dGhpcy5nZXRFZGdlQ2x1c3Rlcih0LDEpLG89dGhpcy5nZXRDbHVzdGVyWFkoaSksYT1zLmdldFJlc3VsdFNlZ21lbnRDb3VudChlKTtsZXQgaD1zLmdldFJlc3VsdFNlZ21lbnQoZSwwKTtjb25zdCBtPWguZ2V0U3RhcnRYWSgpO2lmKCFyLmlzRXF1YWxQb2ludDJEKG0pKXtpZighdGhpcy5tX2JDb21wbGljYXRpb25zKXtyLmNvbXBhcmUodGhpcy5tX3N3ZWVwUG9pbnQpKm0uY29tcGFyZSh0aGlzLm1fc3dlZXBQb2ludCk8MCYmKHRoaXMubV9iQ29tcGxpY2F0aW9ucz0hMCl9dGhpcy5nZXRBZmZlY3RlZEVkZ2VzKG4sdGhpcy5tX3RlbXBFZGdlQnVmZmVyKSx0aGlzLm1fbW9kaWZpZWRDbHVzdGVycy5wdXNoKG4pfWlmKCF0aGlzLm1fYkNvbXBsaWNhdGlvbnMmJmE+MSl7Y29uc3QgZT1yLmNvbXBhcmUobyksdD1oLmdldEVuZFhZKCk7KHIuY29tcGFyZSh0KSE9PWV8fHQuY29tcGFyZShvKSE9PWV8fHQuY29tcGFyZSh0aGlzLm1fc3dlZXBQb2ludCk8MCkmJih0aGlzLm1fYkNvbXBsaWNhdGlvbnM9ITApfWg9cy5nZXRSZXN1bHRTZWdtZW50KGUsYS0xKTtjb25zdCBsPWguZ2V0RW5kWFkoKTtpZighby5pc0VxdWFsUG9pbnQyRChsKSl7aWYoIXRoaXMubV9iQ29tcGxpY2F0aW9ucyl7by5jb21wYXJlKHRoaXMubV9zd2VlcFBvaW50KSpsLmNvbXBhcmUodGhpcy5tX3N3ZWVwUG9pbnQpPDAmJih0aGlzLm1fYkNvbXBsaWNhdGlvbnM9ITApfXRoaXMuZ2V0QWZmZWN0ZWRFZGdlcyhpLHRoaXMubV90ZW1wRWRnZUJ1ZmZlciksdGhpcy5tX21vZGlmaWVkQ2x1c3RlcnMucHVzaChpKX10aGlzLm1fdGVtcEVkZ2VCdWZmZXIucHVzaCh0KTtmb3IobGV0IGc9MCx1PXRoaXMubV90ZW1wRWRnZUJ1ZmZlci5sZW5ndGg7Zzx1O2crKyl7Y29uc3QgZT10aGlzLm1fdGVtcEVkZ2VCdWZmZXJbZ10scz10aGlzLmdldEVkZ2VTd2VlcE5vZGUoZSk7QmUuaXNWYWxpZEVsZW1lbnQocykmJih0aGlzLm1fc3dlZXBTdHJ1Y3R1cmUuZGVsZXRlTm9kZShzKSx0aGlzLnNldEVkZ2VTd2VlcE5vZGVfKGUsLTEpKTtjb25zdCBuPUJlLmltcG9zc2libGVJbmRleDMoKTtlIT09dCYmdGhpcy5nZXRFZGdlU3dlZXBOb2RlKGUpIT09biYmKHRoaXMubV9lZGdlc1RvSW5zZXJ0SW5Td2VlcFN0cnVjdHVyZS5wdXNoKGUpLHRoaXMuc2V0RWRnZVN3ZWVwTm9kZV8oZSxuKSl9dGhpcy5tX3RlbXBFZGdlQnVmZmVyLmxlbmd0aD0wfWNoZWNrQW5kRml4SW50ZXJzZWN0aW9uXyhlLHQpe2NvbnN0IHM9dGhpcy5tX3N3ZWVwU3RydWN0dXJlLmdldEVsZW1lbnQoZSk7cmV0dXJuIHRoaXMubV9zd2VlcENvbXBhcmF0b3IuY29tcGFyZSh0aGlzLm1fc3dlZXBTdHJ1Y3R1cmUscyx0KSwhIXRoaXMubV9zd2VlcENvbXBhcmF0b3IuaW50ZXJzZWN0aW9uRGV0ZWN0ZWQoKSYmKHRoaXMubV9zd2VlcENvbXBhcmF0b3IuY2xlYXJJbnRlcnNlY3Rpb25EZXRlY3RlZEZsYWcoKSx0aGlzLmZpeEludGVyc2VjdGlvbl8oZSx0KSwhMCl9Zml4SW50ZXJzZWN0aW9uXyhlLHQpe3RoaXMubV9iQ3JhY2tlZD0hMDtjb25zdCBzPXRoaXMubV9zd2VlcFN0cnVjdHVyZS5nZXRFbGVtZW50KGUpLG49dGhpcy5tX3N3ZWVwU3RydWN0dXJlLmdldEVsZW1lbnQodCk7bGV0IHI9bnVsbCxpPW51bGw7Y29uc3Qgbz10aGlzLmdldEVkZ2VPcmlnaW5WZXJ0aWNlcyhzKSxhPXRoaXMubV9lZGdlVmVydGljZXMuZ2V0Rmlyc3RFbGVtZW50KG8pLGg9dGhpcy5nZXRFZGdlT3JpZ2luVmVydGljZXMobiksbT10aGlzLm1fZWRnZVZlcnRpY2VzLmdldEZpcnN0RWxlbWVudChoKTt0aGlzLm1fc2hhcGUucXVlcnlTZWdtZW50KGEsdGhpcy5tX3NlZ0J1ZjEsITEsITEpLHI9dGhpcy5tX3NlZ0J1ZjEuZ2V0KCk7Y29uc3QgbD10aGlzLm1fc2hhcGUuZ2V0TmV4dFZlcnRleChhKSxnPXRoaXMubV9zaGFwZS5nZXRXZWlnaHQoYSksdT10aGlzLm1fc2hhcGUuZ2V0U2VnbWVudFBhcmVudGFnZUJyZWFrVmVydGV4KGEpLGM9dGhpcy5tX3NoYXBlLmdldFdlaWdodChsKSxfPXRoaXMubV9zaGFwZS5nZXRTZWdtZW50UGFyZW50YWdlQnJlYWtWZXJ0ZXgobCksZD10aGlzLm1fc2hhcGUuZ2V0U2VnbWVudFdlaWdodChhKSxwPXRoaXMubV9zaGFwZS5nZXRSYW5rKGEpLGY9dGhpcy5tX3NoYXBlLmdldFJhbmsobCkseD10aGlzLm1fc2hhcGUuZ2V0U2VnbWVudFJhbmsoYSkseT10aGlzLm1fc2hhcGUuZ2V0U2VnbWVudFBhcmVudGFnZShhKTt0aGlzLm1fc2hhcGUucXVlcnlTZWdtZW50KG0sdGhpcy5tX3NlZ0J1ZjIsITEsITEpLGk9dGhpcy5tX3NlZ0J1ZjIuZ2V0KCk7Y29uc3QgUD10aGlzLm1fc2hhcGUuZ2V0TmV4dFZlcnRleChtKSxFPXRoaXMubV9zaGFwZS5nZXRXZWlnaHQobSksUz10aGlzLm1fc2hhcGUuZ2V0U2VnbWVudFBhcmVudGFnZUJyZWFrVmVydGV4KG0pLEM9dGhpcy5tX3NoYXBlLmdldFdlaWdodChQKSxJPXRoaXMubV9zaGFwZS5nZXRTZWdtZW50UGFyZW50YWdlQnJlYWtWZXJ0ZXgoUCksYj10aGlzLm1fc2hhcGUuZ2V0U2VnbWVudFdlaWdodChtKSx3PXRoaXMubV9zaGFwZS5nZXRSYW5rKG0pLHY9dGhpcy5tX3NoYXBlLmdldFJhbmsoUCksTj10aGlzLm1fc2hhcGUuZ2V0U2VnbWVudFJhbmsobSksVD10aGlzLm1fc2hhcGUuZ2V0U2VnbWVudFBhcmVudGFnZShtKTt0aGlzLm1fc2VnbWVudEludGVyc2VjdG9yLnB1c2hTZWdtZW50KHIsZyxwLGMsZixkLHgsdSxfLHkpLHRoaXMubV9zZWdtZW50SW50ZXJzZWN0b3IucHVzaFNlZ21lbnQoaSxFLHcsQyx2LGIsTixTLEksVCksMz09PXRoaXMubV9zZWdtZW50SW50ZXJzZWN0b3IuaW50ZXJzZWN0MkQodGhpcy5tX3RvbGVyYW5jZSwhMCkmJih0aGlzLm1fYkNvbXBsaWNhdGlvbnM9ITApLHRoaXMuc3BsaXRFZGdlXyhzLG4sLTEsdGhpcy5tX3NlZ21lbnRJbnRlcnNlY3RvciksdGhpcy5tX3NlZ21lbnRJbnRlcnNlY3Rvci5jbGVhcigpfWZpeEludGVyc2VjdGlvblBvaW50U2VnbWVudF8oZSx0KXt0aGlzLm1fYkNyYWNrZWQ9ITA7Y29uc3Qgcz10aGlzLm1fc3dlZXBTdHJ1Y3R1cmUuZ2V0RWxlbWVudCh0KTtsZXQgbj1udWxsO2NvbnN0IHI9dGhpcy5nZXRFZGdlT3JpZ2luVmVydGljZXMocyksaT10aGlzLm1fZWRnZVZlcnRpY2VzLmdldEZpcnN0RWxlbWVudChyKTt0aGlzLm1fc2hhcGUucXVlcnlTZWdtZW50KGksdGhpcy5tX3NlZ0J1ZjEsITEsITEpLG49dGhpcy5tX3NlZ0J1ZjEuZ2V0KCk7Y29uc3Qgbz10aGlzLm1fc2hhcGUuZ2V0TmV4dFZlcnRleChpKSxhPXRoaXMubV9zaGFwZS5nZXRXZWlnaHQoaSksaD10aGlzLm1fc2hhcGUuZ2V0U2VnbWVudFBhcmVudGFnZUJyZWFrVmVydGV4KGkpLG09dGhpcy5tX3NoYXBlLmdldFdlaWdodChvKSxsPXRoaXMubV9zaGFwZS5nZXRTZWdtZW50UGFyZW50YWdlQnJlYWtWZXJ0ZXgobyksZz10aGlzLm1fc2hhcGUuZ2V0U2VnbWVudFdlaWdodChpKSx1PXRoaXMubV9zaGFwZS5nZXRSYW5rKGkpLGM9dGhpcy5tX3NoYXBlLmdldFJhbmsobyksXz10aGlzLm1fc2hhcGUuZ2V0U2VnbWVudFJhbmsoaSksZD10aGlzLm1fc2hhcGUuZ2V0U2VnbWVudFBhcmVudGFnZShpKSxwPXRoaXMuZ2V0Q2x1c3RlckZpcnN0VmVydGV4KGUpO3RoaXMubV9zZWdtZW50SW50ZXJzZWN0b3IucHVzaFNlZ21lbnQobixhLHUsbSxjLGcsXyxoLGwsZCksdGhpcy5tX3NoYXBlLnF1ZXJ5UG9pbnQocCx0aGlzLm1faGVscGVyUG9pbnQpO2NvbnN0IGY9dGhpcy5tX3NoYXBlLmdldFdlaWdodChwKSx4PXRoaXMubV9zaGFwZS5nZXRSYW5rKHApO3RoaXMubV9zZWdtZW50SW50ZXJzZWN0b3IuaW50ZXJzZWN0MkRFeCh0aGlzLm1fdG9sZXJhbmNlLHRoaXMubV9oZWxwZXJQb2ludCx4LGYsITApLHRoaXMuc3BsaXRFZGdlXyhzLC0xLGUsdGhpcy5tX3NlZ21lbnRJbnRlcnNlY3RvciksdGhpcy5tX3NlZ21lbnRJbnRlcnNlY3Rvci5jbGVhcigpfWluc2VydE5ld0VkZ2VzXygpe2lmKDA9PT10aGlzLm1fZWRnZXNUb0luc2VydEluU3dlZXBTdHJ1Y3R1cmUubGVuZ3RoKXJldHVybiEwO3RoaXMuZGJnQ2hlY2tOZXdFZGdlc0FycmF5XygpO2xldCBlPSEwLHQ9MDtjb25zdCBzPXRoaXMubV9lZGdlc1RvSW5zZXJ0SW5Td2VlcFN0cnVjdHVyZS5sZW5ndGgsbj1NYXRoLm1heCgyKnMrMjAwLHRoaXMubV9zd2VlcFN0cnVjdHVyZS5zaXplKCkrMjAwKTtmb3IoO3RoaXMubV9lZGdlc1RvSW5zZXJ0SW5Td2VlcFN0cnVjdHVyZS5sZW5ndGg7KXtpZih0aGlzLm1fZWRnZXNUb0luc2VydEluU3dlZXBTdHJ1Y3R1cmUubGVuZ3RoPk1hdGgubWF4KDEwMCx0aGlzLm1fc2hhcGUuZ2V0VG90YWxQb2ludENvdW50KCkpfHx0Pm4pe3RoaXMubV9lZGdlc1RvSW5zZXJ0SW5Td2VlcFN0cnVjdHVyZS5sZW5ndGg9MCx0aGlzLm1fYkNvbXBsaWNhdGlvbnM9ITAsZT0hMTticmVha31jb25zdCBzPXRoaXMubV9lZGdlc1RvSW5zZXJ0SW5Td2VlcFN0cnVjdHVyZS5hdCgtMSk7dGhpcy5tX2VkZ2VzVG9JbnNlcnRJblN3ZWVwU3RydWN0dXJlLnBvcCgpLHRoaXMuc2V0RWRnZVN3ZWVwTm9kZV8ocywtMSk7Y29uc3Qgcj10aGlzLmlzRWRnZU9uU3dlZXBMaW5lXyhzKTtCZS5pc1ZhbGlkRWxlbWVudChyKT8odGhpcy5pbnNlcnROZXdFZGdlVG9Td2VlcFN0cnVjdHVyZV8ocyxyKSx0KyspOnIhPT1CZS5pbXBvc3NpYmxlSW5kZXgyKCkmJihlPSExKSx0aGlzLm1fYkNvbnRpbnVpbmdTZWdtZW50Q2hhaW5PcHRpbWl6YXRpb249ITF9cmV0dXJuIGV9aW5zZXJ0TmV3RWRnZVRvU3dlZXBTdHJ1Y3R1cmVfKGUsdCl7bGV0IHM7aWYodGhpcy5tX2JDb250aW51aW5nU2VnbWVudENoYWluT3B0aW1pemF0aW9uPyhzPXRoaXMubV9zd2VlcFN0cnVjdHVyZS5hZGRFbGVtZW50QXRQb3NpdGlvbih0aGlzLm1fcHJldk5laWdoYm91cix0aGlzLm1fbmV4dE5laWdoYm91cixlLCEwLCEwKSx0aGlzLm1fYkNvbnRpbnVpbmdTZWdtZW50Q2hhaW5PcHRpbWl6YXRpb249ITEpOnM9dGhpcy5tX3N3ZWVwU3RydWN0dXJlLmFkZFVuaXF1ZUVsZW1lbnQoZSksLTE9PT1zKXtjb25zdCB0PXRoaXMubV9zd2VlcFN0cnVjdHVyZS5nZXREdXBsaWNhdGVFbGVtZW50KCkscz10aGlzLm1fc3dlZXBTdHJ1Y3R1cmUuZ2V0RWxlbWVudCh0KTtyZXR1cm4gdGhpcy5tZXJnZUVkZ2VzXyhzLGUpLCExfWlmKHRoaXMuc2V0RWRnZVN3ZWVwTm9kZV8oZSxzKSx0aGlzLm1fc3dlZXBDb21wYXJhdG9yLmludGVyc2VjdGlvbkRldGVjdGVkKCkpe3RoaXMubV9zd2VlcENvbXBhcmF0b3IuY2xlYXJJbnRlcnNlY3Rpb25EZXRlY3RlZEZsYWcoKTtjb25zdCBlPXRoaXMubV9zd2VlcENvbXBhcmF0b3IuZ2V0TGFzdENvbXBhcmVkTm9kZSgpO3JldHVybiB0aGlzLm1fcHJldk5laWdoYm91cj09PWUmJih0aGlzLm1fcHJldk5laWdoYm91cj0tMSksdGhpcy5tX25leHROZWlnaGJvdXI9PT1lJiYodGhpcy5tX25leHROZWlnaGJvdXI9LTEpLHRoaXMuZml4SW50ZXJzZWN0aW9uXyhlLHMpLCEwfXJldHVybiExfWlzRWRnZU9uU3dlZXBMaW5lXyhlKXtjb25zdCB0PXRoaXMuZ2V0RWRnZUNsdXN0ZXIoZSwwKSxzPXRoaXMuZ2V0RWRnZUNsdXN0ZXIoZSwxKSxuPXRoaXMuZ2V0Q2x1c3RlclhZKHQpLHI9dGhpcy5nZXRDbHVzdGVyWFkocyk7aWYoUWUuc3FyRGlzdGFuY2UobixyKTw9dGhpcy5tX3RvbGVyYW5jZVNxcilyZXR1cm4gdGhpcy5tX2JDb21wbGljYXRpb25zPSEwLC0xO2NvbnN0IGk9bi5jb21wYXJlKHRoaXMubV9zd2VlcFBvaW50KSxvPXIuY29tcGFyZSh0aGlzLm1fc3dlZXBQb2ludCk7cmV0dXJuIGk8PTAmJm8+MD9zOm88PTAmJmk+MD90Omk+MCYmbz4wP0JlLmltcG9zc2libGVJbmRleDIoKTotMX1maWxsRXZlbnRRdWV1ZSgpe2NvbnN0IGU9bmV3IENlKDApLHQ9dGhpcy5tX3NoYXBlLnF1ZXJ5VmVydGV4SXRlcmF0b3JPblNlbGVjdGlvbigpO2ZvcihsZXQgcj10Lm5leHQoKTtyIT09TTtyPXQubmV4dCgpKS0xIT09dGhpcy5tX3NoYXBlLmdldFVzZXJJbmRleChyLHRoaXMubV92ZXJ0ZXhDbHVzdGVySW5kZXgpJiZlLmFkZChyKTt0aGlzLm1fc2hhcGUuc29ydFZlcnRpY2VzU2ltcGxlQnlZKGUsMCxlLnNpemUoKSksdGhpcy5wcm9ncmVzc18oITApLHRoaXMubV9ldmVudFEuY2xlYXIoKSx0aGlzLm1fZXZlbnRRLnNldENhcGFjaXR5KGUuc2l6ZSgpKSx0aGlzLm1fZXZlbnRRLnNldENvbXBhcmF0b3IobmV3IFRuKHRoaXMubV9zaGFwZSkpO2NvbnN0IHM9UWUuZ2V0TkFOKCk7cy5zZXROQU4oKTtsZXQgbj0tMTtmb3IobGV0IHI9MCxpPWUuc2l6ZSgpO3I8aTtyKyspe2NvbnN0IHQ9ZS5yZWFkKHIpO2lmKHRoaXMubV9zaGFwZS5nZXRYWSh0KS5pc0VxdWFsUG9pbnQyRChzKSl7Y29uc3QgZT10aGlzLm1fc2hhcGUuZ2V0VXNlckluZGV4KHQsdGhpcy5tX3ZlcnRleENsdXN0ZXJJbmRleCk7dGhpcy5tZXJnZUNsdXN0ZXJzXyhuLGUpO2NvbnRpbnVlfW49dGhpcy5nZXRDbHVzdGVyRnJvbVZlcnRleCh0KSx0aGlzLm1fc2hhcGUucXVlcnlYWSh0LHMpO2NvbnN0IGk9dGhpcy5tX2V2ZW50US5hZGRCaWdnZXN0RWxlbWVudCh0KTt0aGlzLnNldENsdXN0ZXJFdmVudFFOb2RlXyhuLGkpfX1maWxsRXZlbnRRdWV1ZVBhc3MyKCl7Y29uc3QgZT1uZXcgQ2UoMCk7Zm9yKGxldCB0PXRoaXMubV9ldmVudFEuZ2V0Rmlyc3QoKTstMSE9PXQ7dD10aGlzLm1fZXZlbnRRLmdldE5leHQodCkpe2NvbnN0IHM9dGhpcy5tX2V2ZW50US5nZXRFbGVtZW50KHQpO2UuYWRkKHMpfXRoaXMubV9ldmVudFEuY2xlYXIoKSx0aGlzLm1fc2hhcGUuc29ydFZlcnRpY2VzU2ltcGxlQnlZKGUsMCxlLnNpemUoKSksdGhpcy5wcm9ncmVzc18oITApO2ZvcihsZXQgdD0wLHM9ZS5zaXplKCk7dDxzO3QrKyl7Y29uc3Qgcz1lLnJlYWQodCksbj10aGlzLmdldENsdXN0ZXJGcm9tVmVydGV4KHMpLHI9dGhpcy5tX2V2ZW50US5hZGRCaWdnZXN0RWxlbWVudChzKTt0aGlzLnNldENsdXN0ZXJFdmVudFFOb2RlXyhuLHIpfX1nZXRBZmZlY3RlZEVkZ2VzKGUsdCl7Y29uc3Qgcz10aGlzLmdldENsdXN0ZXJGaXJzdEVkZ2UoZSk7aWYoLTE9PT1zKXJldHVybjtsZXQgbj1zO2Rve2NvbnN0IHM9dGhpcy5nZXRFZGdlU3dlZXBOb2RlKG4pO0JlLmlzVmFsaWRFbGVtZW50KHMpJiZ0LnB1c2gobiksbj10aGlzLmdldE5leHRFZGdlKG4sZSl9d2hpbGUobiE9PXMpfXVwZGF0ZUNsdXN0ZXJYWShlLHQscyxuLHIpe2NvbnN0IGk9dGhpcy5nZXRDbHVzdGVyVmVydGljZXModCk7Zm9yKGxldCBvPXRoaXMubV9jbHVzdGVyVmVydGljZXMuZ2V0Rmlyc3QoaSk7LTEhPT1vO289dGhpcy5tX2NsdXN0ZXJWZXJ0aWNlcy5nZXROZXh0KG8pKXtjb25zdCB0PXRoaXMubV9jbHVzdGVyVmVydGljZXMuZ2V0RWxlbWVudChvKTt0aGlzLm1fc2hhcGUuc2V0WFlNb25vdG9uaWNQb2ludDJEKHQscyksdGhpcy5tX3NoYXBlLnNldFdlaWdodCh0LG4pLHRoaXMubV9zaGFwZS5zZXRSYW5rKHQsciksZSYmdGhpcy5tX2JUcmFja0NoYW5nZXMmJnRoaXMubV9zaGFwZS5zZXRHZW9tZXRyeU1vZGlmaWVkV2l0aFZlcnRleCh0LCEwKSx0aGlzLm1fc2hhcGUuc2V0U2VnbWVudFBhcmVudGFnZUJyZWFrVmVydGV4KHQsITApfX1zcGxpdEVkZ2VfKGUsdCxzLG4pe3RoaXMuZGJnQ2hlY2tFZGdlXyhlKSwtMSE9PXQmJnRoaXMuZGJnQ2hlY2tFZGdlXyh0KSx0aGlzLmRpc2Nvbm5lY3RFZGdlXyhlKSwtMSE9PXQmJnRoaXMuZGlzY29ubmVjdEVkZ2VfKHQpLHRoaXMucHJvY2Vzc1NwbGl0SGVscGVyMV8oMCxlLG4pLC0xIT09dCYmdGhpcy5wcm9jZXNzU3BsaXRIZWxwZXIxXygxLHQsbiksLTEhPT1zJiZuLmdldFJlc3VsdFBvaW50Q2hhbmdlZCgpJiZ0aGlzLm1fbW9kaWZpZWRDbHVzdGVycy5wdXNoKHMpO2ZvcihsZXQgbz0wLGE9dGhpcy5tX21vZGlmaWVkQ2x1c3RlcnMubGVuZ3RoO288YTtvKyspe2NvbnN0IGU9dGhpcy5tX21vZGlmaWVkQ2x1c3RlcnNbb10sdD10aGlzLmdldENsdXN0ZXJFdmVudFFOb2RlKGUpOy0xIT09dCYmKHRoaXMubV9ldmVudFEuZGVsZXRlTm9kZSh0KSx0aGlzLnNldENsdXN0ZXJFdmVudFFOb2RlXyhlLC0xKSl9Y29uc3Qgcj10aGlzLmdldEVkZ2VPcmlnaW5WZXJ0aWNlcyhlKSxpPS0xIT09dD90aGlzLmdldEVkZ2VPcmlnaW5WZXJ0aWNlcyh0KTotMTtpZih0aGlzLmFwcGx5SW50ZXJzZWN0b3JUb0VkaXRTaGFwZV8ocixuLDApLC0xIT09aSl0aGlzLmFwcGx5SW50ZXJzZWN0b3JUb0VkaXRTaGFwZV8oaSxuLDEpO2Vsc2V7Y29uc3QgZT1uLmdldFJlc3VsdFBvaW50KCkuZ2V0WFkoKTt0aGlzLnVwZGF0ZUNsdXN0ZXJYWShuLmdldFJlc3VsdFBvaW50Q2hhbmdlZCgpLHMsZSxuLmdldFJlc3VsdFBvaW50V2VpZ2h0KCksbi5nZXRSZXN1bHRQb2ludFJhbmsoKSl9dGhpcy5jcmVhdGVFZGdlc0FuZENsdXN0ZXJzRnJvbVNwbGl0RWRnZV8oZSxuLDApLC0xIT09dCYmdGhpcy5jcmVhdGVFZGdlc0FuZENsdXN0ZXJzRnJvbVNwbGl0RWRnZV8odCxuLDEpLHRoaXMubV9lZGdlVmVydGljZXMuZGVsZXRlTGlzdChyKSx0aGlzLmRlbGV0ZUVkZ2VfKGUpLC0xIT09dCYmKHRoaXMubV9lZGdlVmVydGljZXMuZGVsZXRlTGlzdChpKSx0aGlzLmRlbGV0ZUVkZ2VfKHQpKTtmb3IobGV0IG89MCxhPXRoaXMubV9tb2RpZmllZENsdXN0ZXJzLmxlbmd0aDtvPGE7bysrKXtjb25zdCBlPXRoaXMubV9tb2RpZmllZENsdXN0ZXJzW29dO2U9PT10aGlzLm1fc3dlZXBQb2ludENsdXN0ZXImJih0aGlzLm1fYlN3ZWVwUG9pbnRDbHVzdGVyV2FzTW9kaWZpZWQ9ITApO2xldCB0PXRoaXMuZ2V0Q2x1c3RlckV2ZW50UU5vZGUoZSk7aWYoLTE9PT10KXtjb25zdCBzPXRoaXMuZ2V0Q2x1c3RlckZpcnN0VmVydGV4KGUpO2lmKHQ9dGhpcy5tX2V2ZW50US5hZGRVbmlxdWVFbGVtZW50KHMpLC0xPT09dCl7Y29uc3QgdD10aGlzLm1fZXZlbnRRLmdldER1cGxpY2F0ZUVsZW1lbnQoKSxzPXRoaXMubV9ldmVudFEuZ2V0RWxlbWVudCh0KSxuPXRoaXMuZ2V0Q2x1c3RlckZyb21WZXJ0ZXgocyk7dGhpcy5tZXJnZUNsdXN0ZXJzXyhuLGUpfWVsc2UgdGhpcy5zZXRDbHVzdGVyRXZlbnRRTm9kZV8oZSx0KX19dGhpcy5tX21vZGlmaWVkQ2x1c3RlcnMubGVuZ3RoPTB9Z2V0Q2x1c3RlclhZKGUpe2NvbnN0IHQ9dGhpcy5nZXRDbHVzdGVyRmlyc3RWZXJ0ZXgoZSk7cmV0dXJuIHRoaXMubV9zaGFwZS5nZXRYWSh0KX1nZXRDbHVzdGVyRmlyc3RWZXJ0ZXgoZSl7Y29uc3QgdD10aGlzLmdldENsdXN0ZXJWZXJ0aWNlcyhlKTtyZXR1cm4gdGhpcy5tX2NsdXN0ZXJWZXJ0aWNlcy5nZXRGaXJzdEVsZW1lbnQodCl9ZGJnQ2hlY2tFZGdlXyhlKXt9ZGJnQ2hlY2tDbHVzdGVyXyhlKXt9ZGJnQ2hlY2tOZXdFZGdlc0FycmF5Xygpe31kYmdTYXZlU3dlZXBTdHJ1Y3R1cmVfKGUpe31zd2VlcEltcGxfKCl7dGhpcy5wcm9ncmVzc18oITApLHRoaXMubV9iU3dlZXBQb2ludENsdXN0ZXJXYXNNb2RpZmllZD0hMSx0aGlzLm1fc3dlZXBQb2ludENsdXN0ZXI9LTEsbnVsbD09PXRoaXMubV9zd2VlcENvbXBhcmF0b3ImJih0aGlzLm1fc3dlZXBTdHJ1Y3R1cmUuZGlzYWJsZUJhbGFuY2luZygpLHRoaXMubV9zd2VlcENvbXBhcmF0b3I9bmV3IHZuKHRoaXMpLHRoaXMubV9zd2VlcFN0cnVjdHVyZS5zZXRDb21wYXJhdG9yKHRoaXMubV9zd2VlcENvbXBhcmF0b3IpKTtjb25zdCBlPVtdO2xldCB0PW51bGwscz1udWxsO3RoaXMubV9wcmV2TmVpZ2hib3VyPS0xLHRoaXMubV9uZXh0TmVpZ2hib3VyPS0xLHRoaXMubV9iQ29udGludWluZ1NlZ21lbnRDaGFpbk9wdGltaXphdGlvbj0hMTtjb25zdCBuPUJlLmltcG9zc2libGVJbmRleDIoKSxyPUJlLmltcG9zc2libGVJbmRleDMoKTtmb3IobGV0IGk9dGhpcy5tX2V2ZW50US5nZXRGaXJzdCgpOy0xIT09aTspe3RoaXMucHJvZ3Jlc3NfKCksdGhpcy5kYmdDaGVja1N3ZWVwU3RydWN0dXJlXygpLHRoaXMubV9iQ29udGludWluZ1NlZ21lbnRDaGFpbk9wdGltaXphdGlvbj0hMSx0aGlzLm1fcHJldk5laWdoYm91cj0tMSx0aGlzLm1fbmV4dE5laWdoYm91cj0tMTtjb25zdCBvPXRoaXMubV9ldmVudFEuZ2V0RWxlbWVudChpKTt0aGlzLm1fc3dlZXBQb2ludENsdXN0ZXI9dGhpcy5nZXRDbHVzdGVyRnJvbVZlcnRleChvKSx0aGlzLm1fc2hhcGUucXVlcnlYWShvLHRoaXMubV9zd2VlcFBvaW50KSx0aGlzLm1fc3dlZXBDb21wYXJhdG9yLnNldFN3ZWVwWSh0aGlzLm1fc3dlZXBQb2ludC55LHRoaXMubV9zd2VlcFBvaW50LngpO2xldCBhPSExO3tjb25zdCB0PXRoaXMuZ2V0Q2x1c3RlckZpcnN0RWRnZSh0aGlzLm1fc3dlZXBQb2ludENsdXN0ZXIpO2lmKGE9LTE9PT10LCFhKXtsZXQgcz10O2Rve2NvbnN0IHQ9dGhpcy5nZXRFZGdlU3dlZXBOb2RlKHMpOy0xPT09dD8odGhpcy5tX2VkZ2VzVG9JbnNlcnRJblN3ZWVwU3RydWN0dXJlLnB1c2gocyksdGhpcy5zZXRFZGdlU3dlZXBOb2RlXyhzLHIpKTp0IT09ciYmZS5wdXNoKHQpLHM9dGhpcy5nZXROZXh0RWRnZShzLHRoaXMubV9zd2VlcFBvaW50Q2x1c3Rlcil9d2hpbGUocyE9PXQpfX1pZighdGhpcy5tX3N3ZWVwU3RydWN0dXJlLmlzQXV0b0JhbGFuY2luZygpJiYodGhpcy5tX3N3ZWVwU3RydWN0dXJlLmdldE1heERlcHRoRXZlcigpPjR8fHRoaXMubV9lZGdlc1RvSW5zZXJ0SW5Td2VlcFN0cnVjdHVyZS5sZW5ndGg+MTApJiZ0aGlzLm1fc3dlZXBTdHJ1Y3R1cmUuZW5hYmxlQmFsYW5jaW5nKCksZS5sZW5ndGg+MCl7dGhpcy5tX2JDb250aW51aW5nU2VnbWVudENoYWluT3B0aW1pemF0aW9uPTE9PT1lLmxlbmd0aCYmMT09PXRoaXMubV9lZGdlc1RvSW5zZXJ0SW5Td2VlcFN0cnVjdHVyZS5sZW5ndGg7Zm9yKGxldCByPTAsaT1lLmxlbmd0aDtyPGk7cisrKXtjb25zdCB0PXRoaXMubV9zd2VlcFN0cnVjdHVyZS5nZXRFbGVtZW50KGVbcl0pO3RoaXMuc2V0RWRnZVN3ZWVwTm9kZV8odCxuKX1sZXQgdD1uLHM9bjtmb3IobGV0IHI9MCxpPWUubGVuZ3RoO3I8aTtyKyspe2NvbnN0IGk9ZVtyXTtpZih0PT09bil7Y29uc3QgZT10aGlzLm1fc3dlZXBTdHJ1Y3R1cmUuZ2V0UHJldihpKTtpZigtMSE9PWUpe2NvbnN0IHM9dGhpcy5tX3N3ZWVwU3RydWN0dXJlLmdldEVsZW1lbnQoZSk7dGhpcy5nZXRFZGdlU3dlZXBOb2RlKHMpIT09biYmKHQ9ZSl9ZWxzZSB0PS0xfWlmKHM9PT1uKXtjb25zdCBlPXRoaXMubV9zd2VlcFN0cnVjdHVyZS5nZXROZXh0KGkpO2lmKC0xIT09ZSl7Y29uc3QgdD10aGlzLm1fc3dlZXBTdHJ1Y3R1cmUuZ2V0RWxlbWVudChlKTt0aGlzLmdldEVkZ2VTd2VlcE5vZGUodCkhPT1uJiYocz1lKX1lbHNlIHM9LTF9aWYodCE9PW4mJnMhPT1uKWJyZWFrfWZvcihsZXQgbj0wLHI9ZS5sZW5ndGg7bjxyO24rKyl7Y29uc3QgdD1lW25dLHM9dGhpcy5tX3N3ZWVwU3RydWN0dXJlLmdldEVsZW1lbnQodCk7dGhpcy5tX3N3ZWVwU3RydWN0dXJlLmRlbGV0ZU5vZGUodCksdGhpcy5zZXRFZGdlU3dlZXBOb2RlXyhzLC0xKX1lLmxlbmd0aD0wLHRoaXMubV9wcmV2TmVpZ2hib3VyPXQsdGhpcy5tX25leHROZWlnaGJvdXI9cywtMSE9PXQmJi0xIT09cz90aGlzLm1fYkNvbnRpbnVpbmdTZWdtZW50Q2hhaW5PcHRpbWl6YXRpb258fHRoaXMuY2hlY2tBbmRGaXhJbnRlcnNlY3Rpb25fKHQscyk6LTE9PT10JiYtMT09PXMmJih0aGlzLm1fYkNvbnRpbnVpbmdTZWdtZW50Q2hhaW5PcHRpbWl6YXRpb249ITEpfWVsc2UgYSYmKG51bGw9PT10JiYodD1uZXcgTm4odGhpcykpLHQuc2V0UG9pbnQodGhpcy5tX3N3ZWVwUG9pbnQpLHRoaXMubV9zd2VlcFN0cnVjdHVyZS5zZWFyY2hVcHBlckJvdW5kKHQpLHQuaW50ZXJzZWN0aW9uRGV0ZWN0ZWQoKSYmKHQuY2xlYXJJbnRlcnNlY3Rpb25EZXRlY3RlZEZsYWcoKSx0aGlzLmZpeEludGVyc2VjdGlvblBvaW50U2VnbWVudF8odGhpcy5tX3N3ZWVwUG9pbnRDbHVzdGVyLHQuZ2V0Q3VycmVudE5vZGUoKSkpKTtjb25zdCBoPXRoaXMubV9iQ29udGludWluZ1NlZ21lbnRDaGFpbk9wdGltaXphdGlvbjshdGhpcy5pbnNlcnROZXdFZGdlc18oKSYmaCYmLTEhPT10aGlzLm1fcHJldk5laWdoYm91ciYmLTEhPT10aGlzLm1fbmV4dE5laWdoYm91ciYmdGhpcy5jaGVja0FuZEZpeEludGVyc2VjdGlvbl8odGhpcy5tX3ByZXZOZWlnaGJvdXIsdGhpcy5tX25leHROZWlnaGJvdXIpLHRoaXMubV9iU3dlZXBQb2ludENsdXN0ZXJXYXNNb2RpZmllZD8odGhpcy5tX2JTd2VlcFBvaW50Q2x1c3Rlcldhc01vZGlmaWVkPSExLG51bGw9PT1zJiYocz1uZXcgR24odGhpcy5tX3NoYXBlKSkscy5zZXRQb2ludCh0aGlzLm1fc3dlZXBQb2ludCksaT10aGlzLm1fZXZlbnRRLnNlYXJjaFVwcGVyQm91bmQocykpOmk9dGhpcy5tX2V2ZW50US5nZXROZXh0KGkpfXJldHVybiB0aGlzLm1fYkNyYWNrZWR9c2V0RWRpdFNoYXBlXyhlKXt0aGlzLm1fc2hhcGU9ZSx0aGlzLm1fdmVydGV4Q2x1c3RlckluZGV4PXRoaXMubV9zaGFwZS5jcmVhdGVVc2VySW5kZXgoKSx0aGlzLm1fZWRnZXMuc2V0Q2FwYWNpdHkoZS5nZXRTZWxlY3RlZENvdW50KCkrMzIpLHRoaXMubV9jbHVzdGVycy5zZXRDYXBhY2l0eShlLmdldFNlbGVjdGVkQ291bnQoKSksdGhpcy5tX2NsdXN0ZXJWZXJ0aWNlcy5yZXNlcnZlTGlzdHMoZS5nZXRTZWxlY3RlZENvdW50KCkpLHRoaXMubV9jbHVzdGVyVmVydGljZXMucmVzZXJ2ZU5vZGVzKGUuZ2V0U2VsZWN0ZWRDb3VudCgpKSx0aGlzLm1fZWRnZVZlcnRpY2VzLnJlc2VydmVMaXN0cyhlLmdldFNlbGVjdGVkQ291bnQoKSszMiksdGhpcy5tX2VkZ2VWZXJ0aWNlcy5yZXNlcnZlTm9kZXMoZS5nZXRTZWxlY3RlZENvdW50KCkrMzIpO2ZvcihsZXQgdD10aGlzLm1fc2hhcGUuZ2V0Rmlyc3RHZW9tZXRyeSgpO3QhPT1NO3Q9dGhpcy5tX3NoYXBlLmdldE5leHRHZW9tZXRyeSh0KSl7aWYobyh0aGlzLm1fc2hhcGUuZ2V0R2VvbWV0cnlUeXBlKHQpKSlmb3IobGV0IHM9dGhpcy5tX3NoYXBlLmdldEZpcnN0UGF0aCh0KTtzIT09TTtzPXRoaXMubV9zaGFwZS5nZXROZXh0UGF0aChzKSl7Y29uc3QgdD10aGlzLm1fc2hhcGUuZ2V0UGF0aFNpemUocyksbj10aGlzLm1fc2hhcGUuZ2V0Rmlyc3RWZXJ0ZXgocyk7aWYobj09PU0pY29udGludWU7bGV0IHI9dGhpcy5tX3NoYXBlLmdldE5leHRWZXJ0ZXgobik7aWYocj09PU18fHI9PT1uKWNvbnRpbnVlO2xldCBpPS0xO2Uuc2VsZWN0ZWQobikmJihpPXRoaXMubmV3Q2x1c3Rlcl8obikpO2xldCBvPS0xOy0xIT09aSYmZS5zZWxlY3RlZChyKSYmKG89dGhpcy5uZXdFZGdlXyhuKSx0aGlzLmFkZEVkZ2VUb0NsdXN0ZXIobyxpKSk7bGV0IGE9bztmb3IobGV0IGU9MCxzPXQtMjtlPHM7ZSsrKXtjb25zdCBlPXRoaXMubV9zaGFwZS5nZXROZXh0VmVydGV4KHIpO2xldCB0PS0xO2lmKHRoaXMubV9zaGFwZS5zZWxlY3RlZChyKSl7Y29uc3Qgcz10aGlzLm5ld0NsdXN0ZXJfKHIpOy0xIT09YSYmdGhpcy5hZGRFZGdlVG9DbHVzdGVyKGEscyksdGhpcy5tX3NoYXBlLnNlbGVjdGVkKGUpJiYodD10aGlzLm5ld0VkZ2VfKHIpLHRoaXMuYWRkRWRnZVRvQ2x1c3Rlcih0LHMpKX1hPXQscj1lfWlmKHRoaXMubV9zaGFwZS5pc0Nsb3NlZFBhdGgocykpe2NvbnN0IGU9dGhpcy5tX3NoYXBlLmdldE5leHRWZXJ0ZXgocik7aWYodGhpcy5tX3NoYXBlLnNlbGVjdGVkKHIpKXtjb25zdCB0PXRoaXMubmV3Q2x1c3Rlcl8ocik7aWYoLTEhPT1hJiZ0aGlzLmFkZEVkZ2VUb0NsdXN0ZXIoYSx0KSx0aGlzLm1fc2hhcGUuc2VsZWN0ZWQoZSkpe2NvbnN0IGU9dGhpcy5uZXdFZGdlXyhyKTt0aGlzLmFkZEVkZ2VUb0NsdXN0ZXIoZSx0KSx0aGlzLmFkZEVkZ2VUb0NsdXN0ZXIoZSxpKX19fWVsc2V7bGV0IGU9LTE7dGhpcy5tX3NoYXBlLnNlbGVjdGVkKHIpJiYoZT10aGlzLm5ld0NsdXN0ZXJfKHIpLC0xIT09YSYmdGhpcy5hZGRFZGdlVG9DbHVzdGVyKGEsZSkpfX1lbHNlIGZvcihsZXQgZT10aGlzLm1fc2hhcGUuZ2V0Rmlyc3RQYXRoKHQpO2UhPT1NO2U9dGhpcy5tX3NoYXBlLmdldE5leHRQYXRoKGUpKXtsZXQgdD10aGlzLm1fc2hhcGUuZ2V0Rmlyc3RWZXJ0ZXgoZSk7Zm9yKGxldCBzPTAsbj10aGlzLm1fc2hhcGUuZ2V0UGF0aFNpemUoZSk7czxuO3MrKyl0aGlzLm1fc2hhcGUuc2VsZWN0ZWQodCkmJnRoaXMubmV3Q2x1c3Rlcl8odCksdD10aGlzLm1fc2hhcGUuZ2V0TmV4dFZlcnRleCh0KX19dGhpcy5maWxsRXZlbnRRdWV1ZSgpfXByb2dyZXNzXyhlPSExKXt9ZGJnQ2hlY2tTd2VlcFN0cnVjdHVyZV8oKXt9fWZ1bmN0aW9uIFZuKGUsdCxzLG4pe3M+MCYmbW4oZSxzLHQsITEsbik7bmV3IEhuKG4pLmV4ZWN1dGVJbXBsXyhlLHQpfWZ1bmN0aW9uIEZuKGUsdCxzKXtyZXR1cm57dmVydGV4MDplLHZlcnRleDE6dCxkaXI6c319Y2xhc3MgSG57Y29uc3RydWN0b3IoZSl7dGhpcy5tX3NoYXBlPW51bGwsdGhpcy5tX3NwaWtlcz1bXSx0aGlzLm1fcG9pbnRzPW5ldyBDZSgwKSx0aGlzLm1fcG9pbnRzSW5kZXg9LTEsdGhpcy5tX2Rpc3NvbHZlZEVkZ2VzPTAsdGhpcy5tX3Byb2dyZXNzVHJhY2tlcj1lfWV4ZWN1dGVJbXBsXyhlLHQpe2lmKHRoaXMubV9zaGFwZT1lLGUuZ2V0UGF0aENvdW50KHQpPDImJmUuZ2V0UG9pbnRDb3VudCh0KTw2KXJldHVybjt0aGlzLm1fcG9pbnRzLnJlc2l6ZSgwKTtmb3IobGV0IGE9ZS5nZXRGaXJzdFBhdGgodCk7YSE9PU07YT1lLmdldE5leHRQYXRoKGEpKXtsZXQgdD1lLmdldEZpcnN0VmVydGV4KGEpO2ZvcihsZXQgcz0wLG49ZS5nZXRQYXRoU2l6ZShhKTtzPG47cysrLHQ9ZS5nZXROZXh0VmVydGV4KHQpKXRoaXMubV9wb2ludHMuYWRkKHQpfXRoaXMubV9wb2ludHNJbmRleD1lLmNyZWF0ZVVzZXJJbmRleCgpO2ZvcihsZXQgYT0wLGc9dGhpcy5tX3BvaW50cy5zaXplKCk7YTxnOysrYSllLnNldFVzZXJJbmRleCh0aGlzLm1fcG9pbnRzLnJlYWQoYSksdGhpcy5tX3BvaW50c0luZGV4LGEpO2Uuc29ydFZlcnRpY2VzU2ltcGxlQnlZKHRoaXMubV9wb2ludHMsMCx0aGlzLm1fcG9pbnRzLnNpemUoKSk7bGV0IHM9dGhpcy5tX3BvaW50cy5yZWFkKDApO2NvbnN0IG49ZS5nZXRYWShzKTtsZXQgcj0xLGk9MDtjb25zdCBvPVtdO2ZvcihsZXQgYT0xO2E8dGhpcy5tX3BvaW50cy5zaXplKCk7YSsrKXtjb25zdCB0PXRoaXMubV9wb2ludHMucmVhZChhKTtpZih0PT09TSljb250aW51ZTtpZigtMT09PWUuZ2V0VXNlckluZGV4KHQsdGhpcy5tX3BvaW50c0luZGV4KSljb250aW51ZTtjb25zdCBoPWUuZ2V0WFkodCk7aWYoaC5pc0VxdWFsUG9pbnQyRChuKSlyKys7ZWxzZXtpZihyPjEpe2ZvcihsZXQgdD1pO3Q8YTt0Kyspe2NvbnN0IHM9dGhpcy5tX3BvaW50cy5yZWFkKHQpO2lmKC0xPT09ZS5nZXRVc2VySW5kZXgocyx0aGlzLm1fcG9pbnRzSW5kZXgpKWNvbnRpbnVlO2NvbnN0IHI9ZS5nZXROZXh0VmVydGV4KHMpLGk9ZS5nZXRQcmV2VmVydGV4KHMpO2lmKHMhPT1yJiYhZS5pc0VxdWFsWFlQb2ludDJEKHIsbikpe2NvbnN0IGU9Rm4ocyxyLDEpO28ucHVzaChlKX1pZihzIT09aSYmaSE9PXImJiFlLmlzRXF1YWxYWVBvaW50MkQoaSxuKSl7Y29uc3QgZT1GbihzLGksLTEpO28ucHVzaChlKX19by5sZW5ndGg+MCYmdGhpcy5wcm9jZXNzQnVuY2hfKG8sbil9cz10LG4uYXNzaWduKGgpLHI9MSxpPWF9fWlmKDA9PT10aGlzLm1fZGlzc29sdmVkRWRnZXMpcmV0dXJuIGUucmVtb3ZlVXNlckluZGV4KHRoaXMubV9wb2ludHNJbmRleCksdm9pZCh0aGlzLm1fcG9pbnRzSW5kZXg9LTEpO2xldCBoPWUuZ2V0UG9pbnRDb3VudCh0KTtmb3IobGV0IGE9MDthPHRoaXMubV9wb2ludHMuc2l6ZSgpO2ErKyl7Y29uc3QgdD10aGlzLm1fcG9pbnRzLnJlYWQoYSk7aWYodD09PU0pY29udGludWU7aWYoLTEhPT1lLmdldFVzZXJJbmRleCh0LHRoaXMubV9wb2ludHNJbmRleCkpe2Uuc2V0VXNlckluZGV4KHQsdGhpcy5tX3BvaW50c0luZGV4LC0xKTtjb250aW51ZX1jb25zdCBzPWUuZ2V0UGF0aEZyb21WZXJ0ZXgodCk7ZS5nZXRGaXJzdFZlcnRleChzKT09PXQmJmUuc2V0Rmlyc3RWZXJ0ZXgocyxNKSxlLmZyZWVWZXJ0ZXgodCksdGhpcy5tX3BvaW50cy53cml0ZShhLE0pLGgtLX1jb25zdCBtPWUuY3JlYXRlUGF0aFVzZXJJbmRleCgpO2xldCBsPWUuZ2V0UGF0aENvdW50KHQpO2ZvcihsZXQgZz0wLHU9dGhpcy5tX3BvaW50cy5zaXplKCk7Zzx1OysrZyl7aWYodGhpcy5tX3BvaW50cy5yZWFkKGcpPT09TSljb250aW51ZTtsZXQgcz10aGlzLm1fcG9pbnRzLnJlYWQoZyk7aWYoLTEhPT1lLmdldFVzZXJJbmRleChzLHRoaXMubV9wb2ludHNJbmRleCkpY29udGludWU7bGV0IG49ZS5nZXRQYXRoRnJvbVZlcnRleChzKSxyPS0xO2lmKDI9PT1lLmdldFBhdGhVc2VySW5kZXgobixtKSl7bj1NO2ZvcihsZXQgdD1lLmdldE5leHRWZXJ0ZXgocyk7dCE9PXM7dD1lLmdldE5leHRWZXJ0ZXgodCkpe2NvbnN0IHI9ZS5nZXRQYXRoRnJvbVZlcnRleCh0KTtpZigyIT09ZS5nZXRQYXRoVXNlckluZGV4KHIsbSkpe249cixzPXQ7YnJlYWt9fW49PT1NJiYobj1lLmluc2VydFBhdGgodCxNKSxlLnNldENsb3NlZFBhdGgobiwhMCksbCsrKSxhKG4hPT1NKX1lLnNldFBhdGhVc2VySW5kZXgobixtLDIpLHI9ZS5nZXRGaXJzdFZlcnRleChuKTtsZXQgaT0wLG89ITEsaD1zO2Rve3I9PT1oJiYobz0hMCksZS5zZXRVc2VySW5kZXgoaCx0aGlzLm1fcG9pbnRzSW5kZXgsMSk7Y29uc3QgdD1lLmdldFBhdGhGcm9tVmVydGV4KGgpO3QhPT1uJiYoMiE9PWUuZ2V0UGF0aFVzZXJJbmRleCh0LG0pJiYoZS5zZXRQYXRoVXNlckluZGV4KHQsbSwxKSxlLnNldEZpcnN0VmVydGV4KHQsTSkpLGUuc2V0UGF0aFRvVmVydGV4KGgsbikpLGkrKyxoPWUuZ2V0TmV4dFZlcnRleChoKX13aGlsZShoIT09cyk7b3x8ZS5zZXRGaXJzdFZlcnRleChuLHMpLGUuc2V0UGF0aFNpemUobixpKX1mb3IobGV0IGE9ZS5nZXRGaXJzdFBhdGgodCk7YSE9PU07KXtjb25zdCB0PWUuZ2V0TmV4dFBhdGgoYSk7MSE9PWUuZ2V0UGF0aFVzZXJJbmRleChhLG0pJiZlLmdldEZpcnN0VmVydGV4KGEpIT09TXx8KGUucmVtb3ZlUGF0aE9ubHkoYSksbC0tKSxhPXR9ZS5zZXRHZW9tZXRyeVZlcnRleENvdW50KHQsaCksZS5zZXRHZW9tZXRyeVBhdGhDb3VudCh0LGwpLGUucmVtb3ZlUGF0aFVzZXJJbmRleChtKSxlLnJlbW92ZVVzZXJJbmRleCh0aGlzLm1fcG9pbnRzSW5kZXgpLHRoaXMubV9wb2ludHNJbmRleD0tMSxlLmRiZ1ZlcmlmeVZlcnRleENvdW50cygpLGUuZmlsdGVyQ2xvc2VQb2ludHMoMCwhMCwhMSwhMSx0KX1wcm9jZXNzQnVuY2hfKGUsdCl7ZS5zb3J0KCgoZSxzKT0+e2NvbnN0IG49dGhpcy5tX3NoYXBlLmdldFhZKGUudmVydGV4MSkuc3ViKHQpLHI9dGhpcy5tX3NoYXBlLmdldFhZKHMudmVydGV4MSkuc3ViKHQpLGk9UWUuY29tcGFyZVZlY3RvcnMobixyKTtyZXR1cm4gMD09PWk/ZS5kaXI8cy5kaXI/LTE6MTppfSkpO2xldCBzPTA7Y29uc3Qgbj10aGlzLm1fc2hhcGUuZ2V0WFkoZVswXS52ZXJ0ZXgxKTtsZXQgcj0xO2NvbnN0IGk9dGhpcy5tX3NoYXBlLmhhc0N1cnZlcygpO2ZvcihsZXQgbz0xLGE9ZS5sZW5ndGg7bzxhO28rKyl7Y29uc3QgdD10aGlzLm1fc2hhcGUuZ2V0WFkoZVtvXS52ZXJ0ZXgxKTtpZighKHQuaXNFcXVhbFBvaW50MkQobikmJihyKyssbysxPGEpKSl7aWYoMj09PXIpe2NvbnN0IHQ9ZVtzXSxuPWVbcysxXSxyPXQuZGlyO2lmKHIhPT1uLmRpcil7bGV0IGU9ITA7aWYoaSYmKGU9IXRoaXMubV9zaGFwZS5pc0N1cnZlKDE9PT10LmRpcj90LnZlcnRleDA6dC52ZXJ0ZXgxKSYmIXRoaXMubV9zaGFwZS5pc0N1cnZlKDE9PT1uLmRpcj9uLnZlcnRleDA6bi52ZXJ0ZXgxKSksZSl7aWYoMT09PXIpe2NvbnN0IGU9dC52ZXJ0ZXgwLHM9bi52ZXJ0ZXgwO3RoaXMubV9zaGFwZS5zZXROZXh0VmVydGV4KGUscyksdGhpcy5tX3NoYXBlLnNldFByZXZWZXJ0ZXgocyxlKSx0aGlzLm1fc2hhcGUuZ2V0UHJldlZlcnRleChlKT09PXMmJih0aGlzLm1fc2hhcGUuc2V0VXNlckluZGV4KGUsdGhpcy5tX3BvaW50c0luZGV4LC0xKSx0aGlzLm1fc2hhcGUuc2V0VXNlckluZGV4KHMsdGhpcy5tX3BvaW50c0luZGV4LC0xKSk7Y29uc3Qgcj10LnZlcnRleDEsaT1uLnZlcnRleDE7dGhpcy5tX3NoYXBlLnNldFByZXZWZXJ0ZXgocixpKSx0aGlzLm1fc2hhcGUuc2V0TmV4dFZlcnRleChpLHIpLHRoaXMubV9zaGFwZS5nZXROZXh0VmVydGV4KHIpPT09aSYmKHRoaXMubV9zaGFwZS5zZXRVc2VySW5kZXgocix0aGlzLm1fcG9pbnRzSW5kZXgsLTEpLHRoaXMubV9zaGFwZS5zZXRVc2VySW5kZXgoaSx0aGlzLm1fcG9pbnRzSW5kZXgsLTEpKX1lbHNle2NvbnN0IGU9dC52ZXJ0ZXgwLHM9bi52ZXJ0ZXgwO3RoaXMubV9zaGFwZS5zZXRQcmV2VmVydGV4KGUscyksdGhpcy5tX3NoYXBlLnNldE5leHRWZXJ0ZXgocyxlKSx0aGlzLm1fc2hhcGUuZ2V0TmV4dFZlcnRleChlKT09PXMmJih0aGlzLm1fc2hhcGUuc2V0VXNlckluZGV4KGUsdGhpcy5tX3BvaW50c0luZGV4LC0xKSx0aGlzLm1fc2hhcGUuc2V0VXNlckluZGV4KHMsdGhpcy5tX3BvaW50c0luZGV4LC0xKSk7Y29uc3Qgcj10LnZlcnRleDEsaT1uLnZlcnRleDE7dGhpcy5tX3NoYXBlLnNldE5leHRWZXJ0ZXgocixpKSx0aGlzLm1fc2hhcGUuc2V0UHJldlZlcnRleChpLHIpLHRoaXMubV9zaGFwZS5nZXRQcmV2VmVydGV4KHIpPT09aSYmKHRoaXMubV9zaGFwZS5zZXRVc2VySW5kZXgocix0aGlzLm1fcG9pbnRzSW5kZXgsLTEpLHRoaXMubV9zaGFwZS5zZXRVc2VySW5kZXgoaSx0aGlzLm1fcG9pbnRzSW5kZXgsLTEpKX10aGlzLm1fZGlzc29sdmVkRWRnZXMrPTJ9fX1uLmFzc2lnbih0KSxzPW8scj0xfX1lLmxlbmd0aD0wfX1mdW5jdGlvbiBrbihlKXtmb3IobGV0IHQ9ZS5nZXRGaXJzdEdlb21ldHJ5KCk7dCE9PU07dD1lLmdldE5leHRHZW9tZXRyeSh0KSlpZihvKGUuZ2V0R2VvbWV0cnlUeXBlKHQpKSlyZXR1cm4hMDtyZXR1cm4hMX1mdW5jdGlvbiBBbihlLHQscyxuKXtpZigha24oZSkpcmV0dXJuITE7Y29uc3Qgcj1uZXcgQm4obik7ci5tX3NoYXBlPWUsci5tX3RvbGVyYW5jZT10LHIubV9iVHJhY2tDaGFuZ2VzPXM7bGV0IGk9ITE7Y29uc3Qgbz1lLmhhc0N1cnZlcygpPzU6MTU7cmV0dXJuIGk9ZS5nZXRUb3RhbFBvaW50Q291bnQoKTxvP3IuY3JhY2tCcnV0ZUZvcmNlXygpOnIuY3JhY2tlclBsYW5lU3dlZXBfKCksaX1mdW5jdGlvbiBNbihlLHQscyxuLHIpe2lmKCFrbih0KSlyZXR1cm4hMTtsZXQgaT1uZXcgQm4ocik7aWYoaS5tX3NoYXBlPXQsaS5tX3RvbGVyYW5jZT1zLGkubV9iQWxsb3dDb2luY2lkZW50PWUsaS5tX2JOZWVkc05vblNpbXBsZVJlc3VsdD1udWxsIT09bixpLm5lZWRzQ3JhY2tpbmdJbXBsXygpKXJldHVybiBuJiZuLmFzc2lnbihpLm1fbm9uU2ltcGxlUmVzdWx0KSwhMDtjb25zdCBvPW5ldyBqdDtvLnNldFN3YXBDb29yZGluYXRlcygpLHQuYXBwbHlUcmFuc2Zvcm1hdGlvbihvKSxpPW5ldyBCbihyKSxpLm1fc2hhcGU9dCxpLm1fdG9sZXJhbmNlPXMsaS5tX2JBbGxvd0NvaW5jaWRlbnQ9ZSxpLm1fYk5lZWRzTm9uU2ltcGxlUmVzdWx0PW51bGwhPT1uO2NvbnN0IGE9aS5uZWVkc0NyYWNraW5nSW1wbF8oKTtyZXR1cm4gdC5hcHBseVRyYW5zZm9ybWF0aW9uKG8pLCEhYSYmKG4mJm4uYXNzaWduKGkubV9ub25TaW1wbGVSZXN1bHQpLCEwKX1mdW5jdGlvbiBVbihlLHQscyxuKXtjb25zdCByPXQuZ2V0R2VvbWV0cnlUeXBlKCk7aWYobyhyKSl7cmV0dXJuIG5ldyBCbihuKS5jcmFja0FXaXRoQk11bHRpUGF0aF8oZSx0LHMpfXUoXCJjcmFja19BX3dpdGhfQlwiKX1mdW5jdGlvbiBxbihlLHQpe3JldHVybnt0OmUsaW5kZXg6dH19Y2xhc3MgQm57Y3JhY2tCcnV0ZUZvcmNlXygpe2xldCBlPXRoaXMuY3JhY2tCcnV0ZUZvcmNlSW1wbF8oKTtpZighZSYmdGhpcy5tX3NoYXBlLmhhc0N1cnZlcygpKXtjb25zdCB0PW5ldyBqdDt0LnNldFN3YXBDb29yZGluYXRlcygpLHRoaXMubV9zaGFwZS5hcHBseVRyYW5zZm9ybWF0aW9uKHQpLGU9dGhpcy5jcmFja0JydXRlRm9yY2VJbXBsXygpLHRoaXMubV9zaGFwZS5hcHBseVRyYW5zZm9ybWF0aW9uKHQpfXJldHVybiBlfWNyYWNrQnJ1dGVGb3JjZUltcGxfKCl7bGV0IHQ9ITE7Y29uc3Qgcz1uZXcgRixuPW5ldyBGLHI9ZS5jb25zdHJ1Y3RFbXB0eSgpLGk9ZS5jb25zdHJ1Y3RFbXB0eSgpLG89ITEsaD1uZXcgZmUsbT1uZXcgeG4sbD10aGlzLm1fc2hhcGUuZ2V0VG90YWxQb2ludENvdW50KCksZz1sKmwqMix1PXRoaXMubV9zaGFwZS5xdWVyeVZlcnRleEl0ZXJhdG9yT25TZWxlY3Rpb24oKTtmb3IobGV0IGU9dS5uZXh0KCk7ZSE9PU07ZT11Lm5leHQoKSl7Y29uc3QgbD10aGlzLm1fc2hhcGUuZ2V0R2VvbWV0cnlUeXBlKHUuY3VycmVudEdlb21ldHJ5KCkpO2xldCBjPTEsXz0xLGQ9MSxmPTAseD0wLHk9MDtjb25zdCBQPXRoaXMubV9zaGFwZS5nZXRTZWdtZW50UGFyZW50YWdlKGUpO2xldCBFPSExLFM9ITEsQz1udWxsLEk9ITE7aWYocChsKSljPXRoaXMubV9zaGFwZS5nZXRXZWlnaHQoZSksZj10aGlzLm1fc2hhcGUuZ2V0UmFuayhlKTtlbHNle2lmKEM9dGhpcy5nZXRTZWdtZW50XyhlLHMpLG51bGw9PT1DKWNvbnRpbnVlO2NvbnN0IHQ9dGhpcy5tX3NoYXBlLmdldFZlcnRleEluZGV4KGUpO2M9dGhpcy5tX3NoYXBlLmdldFdlaWdodFdpdGhJbmRleCh0KSxmPXRoaXMubV9zaGFwZS5nZXRSYW5rV2l0aEluZGV4KHQpLGQ9dGhpcy5tX3NoYXBlLmdldFNlZ21lbnRXZWlnaHRXaXRoSW5kZXgodCkseT10aGlzLm1fc2hhcGUuZ2V0U2VnbWVudFJhbmtXaXRoSW5kZXgodCksRT10aGlzLm1fc2hhcGUuZ2V0U2VnbWVudFBhcmVudGFnZUJyZWFrVmVydGV4KGUpO3tjb25zdCB0PXRoaXMubV9zaGFwZS5nZXROZXh0VmVydGV4KGUpO189dGhpcy5tX3NoYXBlLmdldFdlaWdodCh0KSx4PXRoaXMubV9zaGFwZS5nZXRSYW5rKHQpLFM9dGhpcy5tX3NoYXBlLmdldFNlZ21lbnRQYXJlbnRhZ2VCcmVha1ZlcnRleCh0KX1pZihDLnF1ZXJ5TG9vc2VFbnZlbG9wZShyKSxyLmluZmxhdGVDb29yZHModGhpcy5tX3RvbGVyYW5jZSx0aGlzLm1fdG9sZXJhbmNlKSxDLmlzRGVnZW5lcmF0ZSh0aGlzLm1fdG9sZXJhbmNlKSl7aWYoIUMuaXNEZWdlbmVyYXRlKDApKWNvbnRpbnVlO0k9ITAsQz1udWxsfX1jb25zdCBiPW5ldyBXKHtjb3B5OnV9KTtsZXQgdz1iLm5leHQoKTt3IT09TSYmKHc9Yi5uZXh0KCkpO2xldCB2PTA7Zm9yKDt3IT09TTt3PWIubmV4dCgpKXtpZigwIT09dil7di0tO2NvbnRpbnVlfWlmKHRoaXMubV9zaGFwZS5nZXRUb3RhbFBvaW50Q291bnQoKT5nKXJldHVybiB0O3RoaXMucHJvZ3Jlc3NfKCk7Y29uc3QgbD10aGlzLm1fc2hhcGUuZ2V0R2VvbWV0cnlUeXBlKGIuY3VycmVudEdlb21ldHJ5KCkpO2xldCBOPW51bGwsVD0hMSxHPTAsRD0wLFY9MCxGPTAsSD0wLGs9MCxBPSExLFU9ITE7Y29uc3QgcT10aGlzLm1fc2hhcGUuZ2V0U2VnbWVudFBhcmVudGFnZSh3KTtpZihwKGwpKUc9dGhpcy5tX3NoYXBlLmdldFdlaWdodCh3KSxGPXRoaXMubV9zaGFwZS5nZXRSYW5rKHcpO2Vsc2V7aWYoTj10aGlzLmdldFNlZ21lbnRfKHcsbiksbnVsbD09PU4pY29udGludWU7Y29uc3QgZT10aGlzLm1fc2hhcGUuZ2V0VmVydGV4SW5kZXgodyk7Rz10aGlzLm1fc2hhcGUuZ2V0V2VpZ2h0V2l0aEluZGV4KGUpLEY9dGhpcy5tX3NoYXBlLmdldFJhbmtXaXRoSW5kZXgoZSksVj10aGlzLm1fc2hhcGUuZ2V0U2VnbWVudFdlaWdodFdpdGhJbmRleChlKSxrPXRoaXMubV9zaGFwZS5nZXRTZWdtZW50UmFua1dpdGhJbmRleChlKSxBPXRoaXMubV9zaGFwZS5nZXRTZWdtZW50UGFyZW50YWdlQnJlYWtWZXJ0ZXgodyk7e2NvbnN0IGU9dGhpcy5tX3NoYXBlLmdldE5leHRWZXJ0ZXgodyk7RD10aGlzLm1fc2hhcGUuZ2V0V2VpZ2h0KGUpLEg9dGhpcy5tX3NoYXBlLmdldFJhbmsoZSksVT10aGlzLm1fc2hhcGUuZ2V0U2VnbWVudFBhcmVudGFnZUJyZWFrVmVydGV4KGUpfWlmKE4ucXVlcnlMb29zZUVudmVsb3BlKGkpLE4uaXNEZWdlbmVyYXRlKHRoaXMubV90b2xlcmFuY2UpKXtpZighTi5pc0RlZ2VuZXJhdGUoMCkpY29udGludWU7VD0hMCxOPW51bGx9fWxldCBCPTAsTz0wO2lmKG51bGwhPT1DJiZudWxsIT09Til7aWYoci5pc0ludGVyc2VjdGluZ05lKGkpKXswIT09aighMCwhMCxDLE4sdGhpcy5tX3RvbGVyYW5jZSwhMCkmJihtLnB1c2hTZWdtZW50KEMsYyxmLF8seCxkLHksRSxTLFApLG0ucHVzaFNlZ21lbnQoTixHLEYsRCxILFYsayxBLFUscSksbS5pbnRlcnNlY3QyRCh0aGlzLm1fdG9sZXJhbmNlLCEwKSx0fHw9bS5nZXRTZWdtZW50Q2hhbmdlZCgwKXx8bS5nZXRTZWdtZW50Q2hhbmdlZCgxKSxCPW0uZ2V0UmVzdWx0U2VnbWVudENvdW50KDApLE89bS5nZXRSZXN1bHRTZWdtZW50Q291bnQoMSksQitPPjAmJih0aGlzLm1fc2hhcGUuc3BsaXRTZWdtZW50V2l0aEludGVyc2VjdG9yKGUsbSwwLCEwLCEwKSx0aGlzLm1fc2hhcGUuc3BsaXRTZWdtZW50V2l0aEludGVyc2VjdG9yKHcsbSwxLCEwLCEwKSx0aGlzLm1fYlRyYWNrQ2hhbmdlcyYmKG0uZ2V0U2VnbWVudENoYW5nZWQoMCkmJnRoaXMubV9zaGFwZS5zZXRHZW9tZXRyeU1vZGlmaWVkV2l0aFZlcnRleChlLCEwKSxtLmdldFNlZ21lbnRDaGFuZ2VkKDEpJiZ0aGlzLm1fc2hhcGUuc2V0R2VvbWV0cnlNb2RpZmllZFdpdGhWZXJ0ZXgodywhMCkpKSxPPjEmJih2Kz1PLTEpLG0uY2xlYXIoKSl9fWVsc2UgaWYobnVsbCE9PUMpe2NvbnN0IHM9dGhpcy5tX3NoYXBlLmdldFhZKHcpO2lmKHIuY29udGFpbnMocykpe2lmKG0ucHVzaFNlZ21lbnQoQyxjLGYsXyx4LGQseSxFLFMsUCksdGhpcy5tX3NoYXBlLnF1ZXJ5UG9pbnQodyxoKSxtLmludGVyc2VjdDJERXgodGhpcy5tX3RvbGVyYW5jZSxoLEYsRyxvKSx0fHw9bS5nZXRTZWdtZW50Q2hhbmdlZCgwKXx8bS5nZXRSZXN1bHRQb2ludENoYW5nZWQoKSxCPW0uZ2V0UmVzdWx0U2VnbWVudENvdW50KDApLEI+MClpZih0aGlzLm1fYlRyYWNrQ2hhbmdlcyYmKG0uZ2V0U2VnbWVudENoYW5nZWQoMCkmJnRoaXMubV9zaGFwZS5zZXRHZW9tZXRyeU1vZGlmaWVkV2l0aFZlcnRleChlLCEwKSxtLmdldFNlZ21lbnRDaGFuZ2VkKDEpJiZ0aGlzLm1fc2hhcGUuc2V0R2VvbWV0cnlNb2RpZmllZFdpdGhWZXJ0ZXgodywhMCkpLHRoaXMubV9zaGFwZS5zcGxpdFNlZ21lbnRXaXRoSW50ZXJzZWN0b3IoZSxtLDAsITAsITApLFQpe2xldCBlPU07Zm9yKGxldCB0PXRoaXMubV9zaGFwZS5nZXROZXh0VmVydGV4KHcpO3QhPT1NJiZ0IT09dyYmKE49dGhpcy5nZXRTZWdtZW50Xyh0LG4pLGU9dCxudWxsIT1OJiZOLmlzRGVnZW5lcmF0ZSgwKSk7dD10aGlzLm1fc2hhcGUuZ2V0TmV4dFZlcnRleCh0KSk7Zm9yKGxldCB0PXc7dCE9PU0mJih0aGlzLm1fc2hhcGUuc2V0UG9pbnQodCxtLmdldFJlc3VsdFBvaW50KCksITApLHQhPT1lKTt0PXRoaXMubV9zaGFwZS5nZXROZXh0VmVydGV4KHQpKTt9ZWxzZSB0aGlzLm1fc2hhcGUuc2V0UG9pbnQodyxtLmdldFJlc3VsdFBvaW50KCksITApO20uY2xlYXIoKX19ZWxzZXtpZihudWxsPT09Tiljb250aW51ZTt7Y29uc3Qgcz10aGlzLm1fc2hhcGUuZ2V0WFkoZSk7aWYoaS5pbmZsYXRlQ29vcmRzKHRoaXMubV90b2xlcmFuY2UsdGhpcy5tX3RvbGVyYW5jZSksaS5jb250YWlucyhzKSl7aWYobS5wdXNoU2VnbWVudChOLEcsRixELEgsVixrLEEsVSxxKSx0aGlzLm1fc2hhcGUucXVlcnlQb2ludChlLGgpLG0uaW50ZXJzZWN0MkRFeCh0aGlzLm1fdG9sZXJhbmNlLGgsZixjLG8pLHR8fD1tLmdldFNlZ21lbnRDaGFuZ2VkKDApfHxtLmdldFJlc3VsdFBvaW50Q2hhbmdlZCgpLE89bS5nZXRSZXN1bHRTZWdtZW50Q291bnQoMCksTz4wKWlmKHRoaXMubV9iVHJhY2tDaGFuZ2VzJiYobS5nZXRTZWdtZW50Q2hhbmdlZCgwKSYmdGhpcy5tX3NoYXBlLnNldEdlb21ldHJ5TW9kaWZpZWRXaXRoVmVydGV4KHcsITApLG0uZ2V0U2VnbWVudENoYW5nZWQoMSkmJnRoaXMubV9zaGFwZS5zZXRHZW9tZXRyeU1vZGlmaWVkV2l0aFZlcnRleChlLCEwKSksdGhpcy5tX3NoYXBlLnNwbGl0U2VnbWVudFdpdGhJbnRlcnNlY3Rvcih3LG0sMCwhMCwhMCksdis9Ty0xLEkpe2xldCB0PU07Zm9yKGxldCBzPXRoaXMubV9zaGFwZS5nZXROZXh0VmVydGV4KGUpO3MhPT1NJiZzIT09ZSYmKE49dGhpcy5nZXRTZWdtZW50XyhzLG4pLHQ9cyxudWxsIT1OJiZOLmlzRGVnZW5lcmF0ZSgwKSk7cz10aGlzLm1fc2hhcGUuZ2V0TmV4dFZlcnRleChzKSk7Zm9yKGxldCBzPWU7cyE9PU0mJih0aGlzLm1fc2hhcGUuc2V0UG9pbnQocyxtLmdldFJlc3VsdFBvaW50KCksITApLHMhPT10KTtzPXRoaXMubV9zaGFwZS5nZXROZXh0VmVydGV4KHMpKTt9ZWxzZSB0aGlzLm1fc2hhcGUuc2V0UG9pbnQoZSxtLmdldFJlc3VsdFBvaW50KCksITApO20uY2xlYXIoKX19fWlmKEIrTyE9PTAmJjAhPT1CKXtsZXQgdD0hMTtmb3IoO0M9dGhpcy5nZXRTZWdtZW50XyhlLHMpLG51bGwhPUMmJihDLnF1ZXJ5RW52ZWxvcGUociksQy5pc0RlZ2VuZXJhdGUodGhpcy5tX3RvbGVyYW5jZSkpOyl7aWYoIShCPjEpKXt0PSEwO2JyZWFrfWU9dS5uZXh0KCksQi0tLGEoZSE9PU0pfWlmKHQpYnJlYWt9fX1yZXR1cm4gdH1jcmFja2VyUGxhbmVTd2VlcF8oKXtyZXR1cm4gdGhpcy5wbGFuZXN3ZWVwXygpfXBsYW5lc3dlZXBfKCl7cmV0dXJuIG5ldyBEbih0aGlzLm1fcHJvZ3Jlc3NUcmFja2VyLHRoaXMubV9iVHJhY2tDaGFuZ2VzKS5zd2VlcCh0aGlzLm1fc2hhcGUsdGhpcy5tX3RvbGVyYW5jZSl9bmVlZHNDcmFja2luZ0ltcGxfKCl7bGV0IGU9ITE7Y29uc3QgdD1uZXcgQ2UoMCk7dC5yZXNpemUodGhpcy5tX3NoYXBlLmdldFNlbGVjdGVkQ291bnQoKSk7Y29uc3Qgcz10aGlzLm1fc2hhcGUucXVlcnlWZXJ0ZXhJdGVyYXRvck9uU2VsZWN0aW9uKCk7Zm9yKGxldCBpPTAsZz1zLm5leHQoKTtnIT09TTsrK2ksZz1zLm5leHQoKSl0LndyaXRlKGksZyk7dGhpcy5tX3NoYXBlLnNvcnRWZXJ0aWNlc1NpbXBsZUJ5WSh0LDAsdC5zaXplKCkpLHQuYWRkKE0pO2NvbnN0IG49dGhpcy5tX3NoYXBlLmNyZWF0ZVVzZXJJbmRleCgpLHI9dGhpcy5tX3NoYXBlLmNyZWF0ZVVzZXJJbmRleCgpO3RoaXMubV9zd2VlcENvbXBhcmF0b3I9bmV3IG9uKHRoaXMubV9zaGFwZSx0aGlzLm1fdG9sZXJhbmNlLCF0aGlzLm1fYkFsbG93Q29pbmNpZGVudCksdGhpcy5tX3N3ZWVwU3RydWN0dXJlLnNldENvbXBhcmF0b3IodGhpcy5tX3N3ZWVwQ29tcGFyYXRvcik7bGV0IG89bnVsbDtjb25zdCBhPVtdLGg9W107bGV0IG09MDtjb25zdCBsPW5ldyBRZTtmb3IobGV0IGc9dC5yZWFkKG0rKyk7ZyE9PU07KXt0aGlzLm1fc2hhcGUucXVlcnlYWShnLGwpO2xldCBzPSExO2Rve2xldCBlPXRoaXMubV9zaGFwZS5nZXROZXh0VmVydGV4KGcpLGk9dGhpcy5tX3NoYXBlLmdldFByZXZWZXJ0ZXgoZyk7c3x8PWUhPT1NfHxpIT09TSxlPT09TXx8dGhpcy5tX3NoYXBlLnNlbGVjdGVkKGUpfHwoZT1NKSxpPT09TXx8dGhpcy5tX3NoYXBlLnNlbGVjdGVkKGkpfHwoaT1NKSxlIT09TSYmdGhpcy5tX3NoYXBlLmNvbXBhcmVWZXJ0aWNlc1NpbXBsZVkoZyxlKTwwJiYoaC5wdXNoKGcpLGgucHVzaChlKSksaSE9PU0mJnRoaXMubV9zaGFwZS5jb21wYXJlVmVydGljZXNTaW1wbGVZKGcsaSk8MCYmKGgucHVzaChpKSxoLnB1c2goaSkpO2NvbnN0IG89dGhpcy5tX3NoYXBlLmdldFVzZXJJbmRleChnLG4pOy0xIT09byYmKGEucHVzaChvKSx0aGlzLm1fc2hhcGUuc2V0VXNlckluZGV4KGcsbiwtMSkpO2NvbnN0IGw9dGhpcy5tX3NoYXBlLmdldFVzZXJJbmRleChnLHIpOy0xIT09bCYmKGEucHVzaChsKSx0aGlzLm1fc2hhcGUuc2V0VXNlckluZGV4KGcsciwtMSkpLGc9dC5yZWFkKG0rKyl9d2hpbGUoZyE9PU0mJnRoaXMubV9zaGFwZS5pc0VxdWFsWFlQb2ludDJEKGcsbCkpO2lmKCFzJiYobnVsbD09PW8mJihvPW5ldyBhbih0aGlzLm1fc2hhcGUsdGhpcy5tX3RvbGVyYW5jZSkpLG8uc2V0UG9pbnQobCksdGhpcy5tX3N3ZWVwU3RydWN0dXJlLnNlYXJjaFVwcGVyQm91bmQobyksby5pbnRlcnNlY3Rpb25EZXRlY3RlZCgpKSl7ZT0hMCx0aGlzLm1fYk5lZWRzTm9uU2ltcGxlUmVzdWx0JiYoaShcIm5lZWRzQ3JhY2tpbmdJTXBsX1wiKSx0aGlzLm1fbm9uU2ltcGxlUmVzdWx0PW5ldyB0cyg2LC0xLC0xKSk7YnJlYWt9bGV0IHU9MT09PWEubGVuZ3RoJiYyPT09aC5sZW5ndGg7Y29uc3QgYz0zMjthLmxlbmd0aD5jJiYkZShhKTtsZXQgXz0tMSxkPS0xO2lmKCF1KWZvcihsZXQgdD0wLG49YS5sZW5ndGg7dDxuO3QrKyl7Y29uc3Qgcz1hW3RdLG49dGhpcy5tX3N3ZWVwU3RydWN0dXJlLmdldFByZXYocyk7aWYoLTEhPT1uJiYtMT09PWEuaW5kZXhPZihuKSlpZigtMT09PV8pXz1uO2Vsc2V7aWYoZT0hMCwhdGhpcy5tX2JOZWVkc05vblNpbXBsZVJlc3VsdClicmVhazt0aGlzLm1fbm9uU2ltcGxlUmVzdWx0PW5ldyB0cyg2LC0xLC0xKX1jb25zdCByPXRoaXMubV9zd2VlcFN0cnVjdHVyZS5nZXROZXh0KHMpO2lmKC0xIT09ciYmLTE9PT1hLmluZGV4T2YocikpaWYoLTE9PT1kKWQ9cjtlbHNle2lmKGU9ITAsIXRoaXMubV9iTmVlZHNOb25TaW1wbGVSZXN1bHQpYnJlYWs7dGhpcy5tX25vblNpbXBsZVJlc3VsdD1uZXcgdHMoNiwtMSwtMSl9aWYoLTEhPT1fJiYtMSE9PWQpYnJlYWt9aWYoZSYmIXRoaXMubV9iTmVlZHNOb25TaW1wbGVSZXN1bHQpYnJlYWs7aWYodGhpcy5tX3N3ZWVwQ29tcGFyYXRvci5zZXRTd2VlcFkobC55LGwueCksIXUpe2ZvcihsZXQgZT0wLHQ9YS5sZW5ndGg7ZTx0O2UrKyl7Y29uc3QgdD1hW2VdO3RoaXMubV9zd2VlcFN0cnVjdHVyZS5kZWxldGVOb2RlKHQpfWEubGVuZ3RoPTB9aWYoIXUmJi0xIT09XyYmLTEhPT1kJiZ0aGlzLmNoZWNrRm9ySW50ZXJzZWN0aW9uc18oXyxkKSl7ZT0hMCx0aGlzLm1fYk5lZWRzTm9uU2ltcGxlUmVzdWx0JiYodGhpcy5tX25vblNpbXBsZVJlc3VsdD10aGlzLm1fc3dlZXBDb21wYXJhdG9yLmdldFJlc3VsdCgpKTticmVha31mb3IobGV0IHQ9MCxpPWgubGVuZ3RoO3Q8aTt0Kz0yKXtjb25zdCBzPWhbdF0saT1oW3QrMV07bGV0IG87aWYodT8obz10aGlzLm1fc3dlZXBTdHJ1Y3R1cmUucmVwbGFjZUVsZW1lbnRBdFBvc2l0aW9uKGFbMF0scywhMCwhMCksYS5sZW5ndGg9MCx1PSExKTpvPXRoaXMubV9zd2VlcFN0cnVjdHVyZS5hZGRFbGVtZW50KHMpLHRoaXMubV9zd2VlcENvbXBhcmF0b3IuaW50ZXJzZWN0aW9uRGV0ZWN0ZWQoKSl7dGhpcy5tX2JOZWVkc05vblNpbXBsZVJlc3VsdCYmKHRoaXMubV9ub25TaW1wbGVSZXN1bHQ9dGhpcy5tX3N3ZWVwQ29tcGFyYXRvci5nZXRSZXN1bHQoKSksZT0hMDticmVha30tMT09PXRoaXMubV9zaGFwZS5nZXRVc2VySW5kZXgoaSxuKT90aGlzLm1fc2hhcGUuc2V0VXNlckluZGV4KGksbixvKTp0aGlzLm1fc2hhcGUuc2V0VXNlckluZGV4KGkscixvKX1pZihlKWJyZWFrO2gubGVuZ3RoPTB9cmV0dXJuIHRoaXMubV9zaGFwZS5yZW1vdmVVc2VySW5kZXgobiksdGhpcy5tX3NoYXBlLnJlbW92ZVVzZXJJbmRleChyKSxlfWNoZWNrRm9ySW50ZXJzZWN0aW9uc18oZSx0KXtjb25zdCBzPXRoaXMubV9zd2VlcFN0cnVjdHVyZS5nZXRFbGVtZW50KGUpO3RoaXMubV9zd2VlcENvbXBhcmF0b3IuY29tcGFyZSh0aGlzLm1fc3dlZXBTdHJ1Y3R1cmUscyx0KTtjb25zdCBuPXRoaXMubV9zd2VlcENvbXBhcmF0b3IuaW50ZXJzZWN0aW9uRGV0ZWN0ZWQoKTtyZXR1cm4gdGhpcy5tX3N3ZWVwQ29tcGFyYXRvci5jbGVhckludGVyc2VjdGlvbkRldGVjdGVkRmxhZygpLG59Z2V0U2VnbWVudF8oZSx0KXtyZXR1cm4gQm4uc3RfZ2V0U2VnbWVudCh0aGlzLm1fc2hhcGUsZSx0KX1zdGF0aWMgc3RfZ2V0U2VnbWVudChlLHQscyl7cmV0dXJuIGUucXVlcnlTZWdtZW50KHQscywhMSwhMSk/cy5nZXQoKTpudWxsfWRiZ1ByaW50U3dlZXBFZGdlKGUpe31kYmdQcmludFN3ZWVwU3RydWN0dXJlKCl7fWRiZ1NhdmVTd2VlcFN0cnVjdHVyZShlPW51bGwpe31kYmdDaGVja1N3ZWVwU3RydWN0dXJlKCl7fXByb2dyZXNzXyhlPSExKXt0aGlzLm1fcHJvZ3Jlc3NDb3VudGVyKyt9Y3JhY2tBV2l0aEJNdWx0aVBhdGhfKHQscyxyKXtjb25zdCBpPWUuY29uc3RydWN0RW1wdHkoKTt0LnF1ZXJ5TG9vc2VFbnZlbG9wZShpKTtjb25zdCBvPWUuY29uc3RydWN0RW1wdHkoKTtpZihzLnF1ZXJ5TG9vc2VFbnZlbG9wZShvKSxvLmluZmxhdGVDb29yZHMocixyKSwhby5pc0ludGVyc2VjdGluZyhpKSlyZXR1cm4gdDtjb25zdCBoPXQuZ2V0SW1wbCgpLG09aC5nZXRBY2NlbGVyYXRvcnMoKTtsZXQgZz1udWxsLHU9bnVsbDttJiYodT1tLmdldFF1YWRUcmVlKCkpLE9uKHQsbChzKSkmJihnPVZlKGgsbyksdT1nKTtjb25zdCBjPXU/dS5nZXRJdGVyYXRvckZvclFUKCk6bnVsbCxfPXMucXVlcnlTZWdtZW50SXRlcmF0b3IoKSxkPXQucXVlcnlTZWdtZW50SXRlcmF0b3IoKSxwPUtlKDE1LE51bWJlci5OYU4pLGY9W107Zm9yKDtfLm5leHRQYXRoKCk7KWZvcig7Xy5oYXNOZXh0U2VnbWVudCgpOyl7Y29uc3QgdD1fLm5leHRTZWdtZW50KCk7aWYodSl7Yy5yZXNldEl0ZXJhdG9yKHQscik7Zm9yKGxldCBlPWMubmV4dCgpOy0xIT09ZTtlPWMubmV4dCgpKXt0aGlzLnByb2dyZXNzXygpO2NvbnN0IHM9dS5nZXRFbGVtZW50KGUpO2lmKGQucmVzZXRUb1ZlcnRleChzLC0xKSxkLmhhc05leHRTZWdtZW50KCkpe2NvbnN0IGU9ZC5uZXh0U2VnbWVudCgpLmludGVyc2VjdCh0LG51bGwscCxudWxsLHIpO2ZvcihsZXQgdD0wO3Q8ZTt0Kyspe2NvbnN0IGU9cFt0XTtpZigwPT09ZXx8MT09PWUpY29udGludWU7Y29uc3Qgcz1xbihlLGQuZ2V0U3RhcnRQb2ludEluZGV4KCkpO2YucHVzaChzKX19fX1lbHNle2NvbnN0IHM9ZS5jb25zdHJ1Y3RFbXB0eSgpO2lmKHQucXVlcnlMb29zZUVudmVsb3BlKHMpLHMuaW5mbGF0ZUNvb3JkcyhyLHIpLCFpLmlzSW50ZXJzZWN0aW5nKHMpKWNvbnRpbnVlO2ZvcihkLnJlc2V0VG9GaXJzdFBhdGgoKTtkLm5leHRQYXRoKCk7KWZvcig7ZC5oYXNOZXh0U2VnbWVudCgpOyl7Y29uc3Qgbj1kLm5leHRTZWdtZW50KCksaT1lLmNvbnN0cnVjdEVtcHR5KCk7aWYobi5xdWVyeUxvb3NlRW52ZWxvcGUoaSksIWkuaXNJbnRlcnNlY3RpbmcocykpY29udGludWU7Y29uc3Qgbz1uLmludGVyc2VjdCh0LG51bGwscCxudWxsLHIpO2ZvcihsZXQgZT0wO2U8bztlKyspe2NvbnN0IHQ9cFtlXTtpZigwPT09dHx8MT09PXQpY29udGludWU7Y29uc3Qgcz1xbih0LGQuZ2V0U3RhcnRQb2ludEluZGV4KCkpO2YucHVzaChzKX19fX1pZigwPT09Zi5sZW5ndGgpcmV0dXJuIHQ7Zi5zb3J0KCgoZSx0KT0+ZS5pbmRleDx0LmluZGV4Py0xOmUuaW5kZXg+dC5pbmRleD8xOmUudDx0LnQ/LTE6ZS50PnQudD8xOjApKTtjb25zdCB4PXQuY3JlYXRlSW5zdGFuY2UoKTtpZih4LmdldEdlb21ldHJ5VHlwZSgpPT09bi5lbnVtUG9seWdvbil7eC5zZXRGaWxsUnVsZSh0LmdldEZpbGxSdWxlKCkpfWZvcihkLnJlc2V0VG9GaXJzdFBhdGgoKTtkLm5leHRQYXRoKCkmJiFkLmhhc05leHRTZWdtZW50KCk7KTthKGQuaGFzTmV4dFNlZ21lbnQoKSk7bGV0IHk9ZC5uZXh0U2VnbWVudCgpO2NvbnN0IFA9bmV3IEY7bGV0IEU9LTE7Zm9yKGxldCBlPTAsbj1mLmxlbmd0aDtlPG47KXtjb25zdCB0PWZbZV0uaW5kZXg7bGV0IHM9ZSsxO2Zvcig7czxuJiZmW3NdLmluZGV4PT09dDspKytzO2Zvcig7ZC5nZXRTdGFydFBvaW50SW5kZXgoKTx0Oyl7dGhpcy5wcm9ncmVzc18oKTtjb25zdCBlPWQuaGFzTmV4dFNlZ21lbnQoKSx0PWQuZ2V0UGF0aEluZGV4KCk7aWYoKGV8fCFkLmlzQ2xvc2luZ1NlZ21lbnQoKXx8ZC5pc0N1cnZlKCkpJiYoYShudWxsIT09eSkseC5hZGRTZWdtZW50KHksRSE9PXQpKSxFPXQsIWUpe2ZvcihkLmlzUGF0aENsb3NlZCgpO2QubmV4dFBhdGgoKSYmIWQuaGFzTmV4dFNlZ21lbnQoKTspO2EoZC5oYXNOZXh0U2VnbWVudCgpKX15PWQubmV4dFNlZ21lbnQoKX1sZXQgcj0wO2ZvcihsZXQgbj1lO248cztuKyspe2NvbnN0IGU9ZltuXS50O2lmKGU9PT1yKWNvbnRpbnVlO2EobnVsbCE9PXkpLHkucXVlcnlDdXQocixlLFApLHI9ZTtjb25zdCB0PWQuZ2V0UGF0aEluZGV4KCk7eC5hZGRTZWdtZW50KFAuZ2V0KCksRSE9PXQpLEU9dH1jb25zdCBpPWQuaGFzTmV4dFNlZ21lbnQoKTtpZigoaXx8IWQuaXNDbG9zaW5nU2VnbWVudCgpfHxkLmlzQ3VydmUoKSkmJihhKG51bGwhPXkpLHkucXVlcnlDdXQociwxLFApLHguYWRkU2VnbWVudChQLmdldCgpLCExKSksaSl5PWQubmV4dFNlZ21lbnQoKTtlbHNle2Zvcig7ZC5uZXh0UGF0aCgpJiYhZC5oYXNOZXh0U2VnbWVudCgpOyk7eT1kLmhhc05leHRTZWdtZW50KCk/ZC5uZXh0U2VnbWVudCgpOm51bGx9ZT1zfWlmKG51bGwhPT15KXtjb25zdCBlPWQuZ2V0UGF0aEluZGV4KCk7KGQuaGFzTmV4dFNlZ21lbnQoKXx8IWQuaXNDbG9zaW5nU2VnbWVudCgpfHxkLmlzQ3VydmUoKSkmJnguYWRkU2VnbWVudCh5LEUhPT1lKSxFPWV9bGV0IFM9ZC5oYXNOZXh0U2VnbWVudCgpO2Zvcig7Oyl7aWYoIVMpe2Zvcig7ZC5uZXh0UGF0aCgpJiYoUz1kLmhhc05leHRTZWdtZW50KCksIVMpOyk7aWYoIVMpYnJlYWt9eT1kLm5leHRTZWdtZW50KCk7Y29uc3QgZT1kLmdldFBhdGhJbmRleCgpO1M9ZC5oYXNOZXh0U2VnbWVudCgpOyhTfHwhZC5pc0Nsb3NpbmdTZWdtZW50KCl8fGQuaXNDdXJ2ZSgpKSYmeC5hZGRTZWdtZW50KHksRSE9PWUpLEU9ZX1yZXR1cm4geH1jb25zdHJ1Y3RvcihlKXt0aGlzLm1fc2hhcGU9bnVsbCx0aGlzLm1fcHJvZ3Jlc3NUcmFja2VyPW51bGwsdGhpcy5tX25vblNpbXBsZVJlc3VsdD1uZXcgdHMsdGhpcy5tX3RvbGVyYW5jZT0wLHRoaXMubV9zd2VlcENvbXBhcmF0b3I9bnVsbCx0aGlzLm1fcHJvZ3Jlc3NDb3VudGVyPTAsdGhpcy5tX2JUcmFja0NoYW5nZXM9ITEsdGhpcy5tX2JOZWVkc05vblNpbXBsZVJlc3VsdD0hMSx0aGlzLm1fYkFsbG93Q29pbmNpZGVudD0hMCx0aGlzLm1fc3dlZXBTdHJ1Y3R1cmU9bmV3IEVlLHRoaXMubV9wcm9ncmVzc1RyYWNrZXI9ZX19ZnVuY3Rpb24gT24oZSx0KXtjb25zdCBzPWUuZ2V0UG9pbnRDb3VudCgpO2lmKHM8MTYpcmV0dXJuITE7Y29uc3Qgbj0xO3JldHVybiAyKnMrMSooTWF0aC5sb2cocykvTWF0aC5sb2coMikpKnQ8bipzKnR9Qm4uc19iRm9yY2VCcnV0ZUZvcmNlPSEwO2NsYXNzIFlue2NvbnN0cnVjdG9yKGUsdCl7dGhpcy5tX21vbm90b25lUGFydHM9bHQoRiwxNiksdGhpcy5tX3hPcmRzPUtlKDE2LE51bWJlci5OYU4pLHRoaXMubV9pbnB1dFBvaW50PVFlLmdldE5BTigpLHRoaXMubV9taW55PTAsdGhpcy5tX21heHk9MCx0aGlzLm1fd2luZG51bT0wLHRoaXMubV9iQWx0ZXJuYXRlPWUsdGhpcy5tX3RvbGVyYW5jZT10LHRoaXMubV90b2xlcmFuY2VTcXI9dCp0LHRoaXMubV9iVGVzdEJvcmRlcj0hIXQsdGhpcy5tX2JCcmVhaz0hMX1fRG9PbmUoZSl7aWYoIXRoaXMubV9iVGVzdEJvcmRlciYmKHRoaXMubV9iQWx0ZXJuYXRlJiZ0aGlzLm1faW5wdXRQb2ludC5lcXVhbHMoZS5nZXRTdGFydFhZKCkpfHx0aGlzLm1faW5wdXRQb2ludC5lcXVhbHMoZS5nZXRFbmRYWSgpKSkpcmV0dXJuIHZvaWQodGhpcy5tX2JCcmVhaz0hMCk7aWYoZS5nZXRTdGFydFkoKT09PXRoaXMubV9pbnB1dFBvaW50LnkmJmUuZ2V0U3RhcnRZKCk9PT1lLmdldEVuZFkoKSl7aWYodGhpcy5tX2JBbHRlcm5hdGUmJiF0aGlzLm1fYlRlc3RCb3JkZXIpe2NvbnN0IHQ9TWF0aC5taW4oZS5nZXRTdGFydFgoKSxlLmdldEVuZFgoKSkscz1NYXRoLm1heChlLmdldFN0YXJ0WCgpLGUuZ2V0RW5kWCgpKTt0aGlzLm1faW5wdXRQb2ludC54PnQmJnRoaXMubV9pbnB1dFBvaW50Lng8cyYmKHRoaXMubV9iQnJlYWs9ITApfXJldHVybn1sZXQgdD0hMTtjb25zdCBzPU1hdGgubWF4KGUuZ2V0U3RhcnRYKCksZS5nZXRFbmRYKCkpO2lmKHRoaXMubV9pbnB1dFBvaW50Lng+cyl0PSEwO2Vsc2UgaWYodGhpcy5tX2lucHV0UG9pbnQueD49TWF0aC5taW4oZS5nZXRTdGFydFgoKSxlLmdldEVuZFgoKSkpe2NvbnN0IG49ZS5pbnRlcnNlY3Rpb25PZllNb25vdG9uaWNXaXRoQXhpc1godGhpcy5tX2lucHV0UG9pbnQueSxzKTt0PSFOdW1iZXIuaXNOYU4obikmJm48PXRoaXMubV9pbnB1dFBvaW50Lnh9aWYodCl7aWYodGhpcy5tX2lucHV0UG9pbnQueT09PWUuZ2V0U3RhcnRZKCkpe2lmKHRoaXMubV9pbnB1dFBvaW50Lnk8ZS5nZXRFbmRZKCkpcmV0dXJufWVsc2UgaWYodGhpcy5tX2lucHV0UG9pbnQueT09PWUuZ2V0RW5kWSgpJiZ0aGlzLm1faW5wdXRQb2ludC55PGUuZ2V0U3RhcnRZKCkpcmV0dXJuO3RoaXMubV9iQWx0ZXJuYXRlP3RoaXMubV93aW5kbnVtXj0xOnRoaXMubV93aW5kbnVtKz1lLmdldFN0YXJ0WSgpPmUuZ2V0RW5kWSgpPzE6LTF9fV9SZXN1bHQoKXtyZXR1cm4hIXRoaXMubV93aW5kbnVtfXRlc3RCb3JkZXIoZSl7Y29uc3QgdD1lLmdldENsb3Nlc3RDb29yZGluYXRlKHRoaXMubV9pbnB1dFBvaW50LCExKSxzPWUuZ2V0Q29vcmQyRCh0KTtyZXR1cm4gUWUuc3FyRGlzdGFuY2Uocyx0aGlzLm1faW5wdXRQb2ludCk8PXRoaXMubV90b2xlcmFuY2VTcXJ9c2V0SW5wdXRQb2ludChlKXt0aGlzLm1faW5wdXRQb2ludC5zZXRDb29yZHNQb2ludDJEKGUpLHRoaXMubV9taW55PWUueS10aGlzLm1fdG9sZXJhbmNlLHRoaXMubV9tYXh5PWUueSt0aGlzLm1fdG9sZXJhbmNlfXByb2Nlc3NTZWdtZW50KGUpe2NvbnN0IHQ9ZS5xdWVyeUludGVydmFsKDAsMSk7aWYodC52bWluPnRoaXMubV9tYXh5fHx0LnZtYXg8dGhpcy5tX21pbnkpcmV0dXJuITE7aWYodGhpcy5tX2JUZXN0Qm9yZGVyJiZ0aGlzLnRlc3RCb3JkZXIoZSkpcmV0dXJuITA7aWYodC52bWluPnRoaXMubV9pbnB1dFBvaW50Lnl8fHQudm1heDx0aGlzLm1faW5wdXRQb2ludC55KXJldHVybiExO2xldCBzPTA7aWYoZS5pc0N1cnZlKCkmJigwPT09dGhpcy5tX21vbm90b25lUGFydHMubGVuZ3RoJiYodGhpcy5tX21vbm90b25lUGFydHMubGVuZ3RoPTEyOCkscz1lLmdldE1vbm90b25pY1BhcnRzKHRoaXMubV9tb25vdG9uZVBhcnRzLCEwKSxhKHRoaXMubV9tb25vdG9uZVBhcnRzLmxlbmd0aD49cykpLHM+MClmb3IobGV0IG49MDtuPHM7bisrKXtjb25zdCBlPXRoaXMubV9tb25vdG9uZVBhcnRzW25dLmdldCgpLHQ9YXQuY29uc3RydWN0KGUuZ2V0U3RhcnRZKCksZS5nZXRFbmRZKCkpO2lmKCEodC52bWluPnRoaXMubV9pbnB1dFBvaW50Lnl8fHQudm1heDx0aGlzLm1faW5wdXRQb2ludC55KSYmKHRoaXMuX0RvT25lKGUpLHRoaXMubV9iQnJlYWspKXJldHVybiEwfWVsc2UgaWYodGhpcy5fRG9PbmUoZSksdGhpcy5tX2JCcmVhaylyZXR1cm4hMDtyZXR1cm4hMX1yZXN1bHQoKXtyZXR1cm4gYSgwKSwyfX1mdW5jdGlvbiBSbih0LHMsbixyKXtjb25zdCBpPW5ldyBlO3QucXVlcnlMb29zZUVudmVsb3BlKGkpLGkuaW5mbGF0ZUNvb3JkcyhyLHIpO2NvbnN0IG89MD09PXQuZ2V0RmlsbFJ1bGUoKSxhPW5ldyBZbihvLHIpO2Euc2V0SW5wdXRQb2ludChuKTtjb25zdCBoPWkuY2xvbmUoKTtoLnhtYXg9bi54K3IsaC55bWluPW4ueS1yLGgueW1heD1uLnkrcjtjb25zdCBtPXQuZ2V0SW1wbCgpLnF1ZXJ5U2VnbWVudEl0ZXJhdG9yKCksbD1zLmdldEl0ZXJhdG9yKGgscik7Zm9yKGxldCBlPWwubmV4dCgpOy0xIT09ZTtlPWwubmV4dCgpKWlmKG0ucmVzZXRUb1ZlcnRleChzLmdldEVsZW1lbnQoZSksLTEpLG0uaGFzTmV4dFNlZ21lbnQoKSl7Y29uc3QgZT1tLm5leHRTZWdtZW50KCk7aWYoYS5wcm9jZXNzU2VnbWVudChlKSlyZXR1cm4tMX1yZXR1cm4gYS5fUmVzdWx0KCk/MTowfWZ1bmN0aW9uIFhuKGUsdCxzKXtjb25zdCBuPTA9PT1lLmdldEZpbGxSdWxlKCkscj1uZXcgWW4obixzKTtyLnNldElucHV0UG9pbnQodCk7Y29uc3QgaT1lLmdldEltcGwoKS5xdWVyeVNlZ21lbnRJdGVyYXRvcigpO2Zvcig7aS5uZXh0UGF0aCgpOylmb3IoO2kuaGFzTmV4dFNlZ21lbnQoKTspe2NvbnN0IGU9aS5uZXh0U2VnbWVudCgpO2lmKHIucHJvY2Vzc1NlZ21lbnQoZSkpcmV0dXJuLTF9cmV0dXJuIHIuX1Jlc3VsdCgpPzE6MH1mdW5jdGlvbiBMbihlLHQscyl7cmV0dXJuIHQuaXNFbXB0eSgpPzA6em4oZSx0LmdldFhZKCkscyl9ZnVuY3Rpb24gem4odCxzLG4pe2lmKHQuaXNFbXB0eSgpKXJldHVybiAwO2NvbnN0IHI9ZS5jb25zdHJ1Y3RFbXB0eSgpO2lmKHQucXVlcnlMb29zZUVudmVsb3BlKHIpLHIuaW5mbGF0ZUNvb3JkcyhuLG4pLCFyLmNvbnRhaW5zKHMpKXJldHVybiAwO2NvbnN0IGk9dC5nZXRJbXBsKCkuZ2V0QWNjZWxlcmF0b3JzKCk7aWYoaSl7aS5nZXRSYXN0ZXJpemVkR2VvbWV0cnkoKSYmYSgwKTtjb25zdCBlPWkuZ2V0UXVhZFRyZWUoKTtpZihlKXJldHVybiBSbih0LGUscyxuKX1yZXR1cm4gWG4odCxzLG4pfWZ1bmN0aW9uIFduKGUsdCl7Y29uc3Qgcz1lLmdldFBvaW50Q291bnQoKTtpZihzPDE2KXJldHVybiExO2NvbnN0IG49MTtyZXR1cm4gMipzKzEqKE1hdGgubG9nKHMpL01hdGgubG9nKDIpKSp0PG4qcyp0fWZ1bmN0aW9uIGpuKGUsdCxzLG4scil7Y29uc3QgaT1uZXcgJG4ocik7cmV0dXJuIGkubV9zaGFwZT1lLGkubV9nZW9tZXRyeT10LGkubV9zb3J0ZWRWZXJ0aWNlcz1zLGkubV9iRml4U2VsZlRhbmdlbmN5PW4saS5maXhSaW5nT3JpZW50YXRpb25fKCl9ZnVuY3Rpb24gWm4oZSx0LHMpe2NvbnN0IG49bmV3ICRuKHMpO3JldHVybiBuLm1fc2hhcGU9ZSxuLm1fZ2VvbWV0cnk9dCxuLm1fc29ydGVkVmVydGljZXM9bnVsbCxuLm1fYkZpeFNlbGZUYW5nZW5jeT0hMSxuLmZpeFJpbmdPcmllbnRhdGlvbkZvck1wMnNwXygpfWNsYXNzIEtue2dldERpcmVjdGlvbl8oZSl7cmV0dXJuIHRoaXMubV9zaGFwZS5nZXROZXh0VmVydGV4KHRoaXMuZ2V0RW5kMShlKSk9PT10aGlzLmdldEVuZDIoZSl9Z2V0RW5kXyhlKXtjb25zdCB0PXRoaXMuZ2V0RW5kMShlKSxzPXRoaXMuZ2V0RW5kMihlKTtyZXR1cm4gdGhpcy5tX3NoYXBlLmdldE5leHRWZXJ0ZXgodCk9PT1zP3M6dH1jb25zdHJ1Y3RvcihlKXt0aGlzLm1fZW5kMU5vZGVzPVtdLHRoaXMubV9lbmQyTm9kZXM9W10sdGhpcy5tX2RpcmVjdGlvbnM9W10sdGhpcy5tX3NoYXBlPWUsdGhpcy5tX2ZpcnN0RnJlZT0tMX1nZXRTZWdtZW50KGUpe3JldHVybiB0aGlzLm1fc2hhcGUuZ2V0U2VnbWVudCh0aGlzLmdldFN0YXJ0KGUpKX1pc0JvdHRvbVVwKGUpe2xldCB0PXRoaXMuZ2V0RW5kMShlKSxzPXRoaXMuZ2V0RW5kMihlKTt0aGlzLm1fc2hhcGUuZ2V0UHJldlZlcnRleCh0KT09PXMmJihzPXJ0KHQsdD1zKSk7Y29uc3Qgbj1RZS5nZXROQU4oKSxyPVFlLmdldE5BTigpO3JldHVybiB0aGlzLm1fc2hhcGUucXVlcnlYWSh0LG4pLHRoaXMubV9zaGFwZS5xdWVyeVhZKHMsciksYSghbi5lcXVhbHMocikpLG4ueTxyLnl9Z2V0U3RhcnQoZSl7Y29uc3QgdD10aGlzLmdldEVuZDEoZSkscz10aGlzLmdldEVuZDIoZSk7cmV0dXJuIHRoaXMubV9zaGFwZS5nZXROZXh0VmVydGV4KHQpPT09cz90OnN9Z2V0RW5kMShlKXtyZXR1cm4gdGhpcy5tX2VuZDFOb2Rlc1tlXX1nZXRFbmQyKGUpe3JldHVybiB0aGlzLm1fZW5kMk5vZGVzW2VdfWZyZWVFZGdlKGUpe3RoaXMubV9lbmQxTm9kZXNbZV09dGhpcy5tX2ZpcnN0RnJlZSx0aGlzLm1fZmlyc3RGcmVlPWV9bmV3RWRnZShlKXtpZigtMSE9PXRoaXMubV9maXJzdEZyZWUpe2NvbnN0IHQ9dGhpcy5tX2ZpcnN0RnJlZTtyZXR1cm4gdGhpcy5tX2ZpcnN0RnJlZT10aGlzLm1fZW5kMU5vZGVzW3RdLHRoaXMubV9lbmQxTm9kZXNbdF09ZSx0aGlzLm1fZW5kMk5vZGVzW3RdPXRoaXMubV9zaGFwZS5nZXROZXh0VmVydGV4KGUpLHR9Y29uc3QgdD10aGlzLm1fZW5kMU5vZGVzLmxlbmd0aDtyZXR1cm4gdGhpcy5tX2VuZDFOb2Rlcy5wdXNoKGUpLHRoaXMubV9lbmQyTm9kZXMucHVzaCh0aGlzLm1fc2hhcGUuZ2V0TmV4dFZlcnRleChlKSksdH1nZXRTaGFwZSgpe3JldHVybiB0aGlzLm1fc2hhcGV9Z2V0UGF0aChlKXtyZXR1cm4gdGhpcy5tX3NoYXBlLmdldFBhdGhGcm9tVmVydGV4KHRoaXMuZ2V0RW5kMShlKSl9fWxldCBRbj1jbGFzcyBleHRlbmRzIFlle2NvbnN0cnVjdG9yKGUpe3N1cGVyKCksdGhpcy5tX2xpbmUxPW5ldyBILHRoaXMubV9saW5lMj1uZXcgSCx0aGlzLm1fbGVmdEVsbT0tMSx0aGlzLm1fbGVmdHg9MCx0aGlzLm1fc2VnMT1udWxsLHRoaXMubV9oZWxwZXI9ZX1jb21wYXJlKGUsdCxzKXtjb25zdCBuPWUuZ2V0RWxlbWVudChzKSxyPXRoaXMubV9oZWxwZXIubV9lZGdlcztsZXQgaTtpZih0aGlzLm1fbGVmdEVsbT09PXQpaT10aGlzLm1fbGVmdHg7ZWxzZXtpZih0aGlzLm1fc2VnMT1yLmdldFNlZ21lbnQodCksdGhpcy5tX3NlZzEpaT10aGlzLm1fc2VnMS5pbnRlcnNlY3Rpb25PZllNb25vdG9uaWNXaXRoQXhpc1godGhpcy5tX2hlbHBlci5tX3lTY2FubGluZSwwKTtlbHNle3IuZ2V0U2hhcGUoKS5xdWVyeUxpbmVDb25uZWN0b3Ioci5nZXRTdGFydCh0KSx0aGlzLm1fbGluZTEsITApLHRoaXMubV9zZWcxPXRoaXMubV9saW5lMSxpPXRoaXMubV9saW5lMS5pbnRlcnNlY3Rpb25PZllNb25vdG9uaWNXaXRoQXhpc1godGhpcy5tX2hlbHBlci5tX3lTY2FubGluZSwwKX10aGlzLm1fbGVmdHg9aSx0aGlzLm1fbGVmdEVsbT10fWxldCBvLGE9ci5nZXRTZWdtZW50KG4pO2lmKGEpbz1hLmludGVyc2VjdGlvbk9mWU1vbm90b25pY1dpdGhBeGlzWCh0aGlzLm1faGVscGVyLm1feVNjYW5saW5lLDApO2Vsc2V7ci5nZXRTaGFwZSgpLnF1ZXJ5TGluZUNvbm5lY3RvcihyLmdldFN0YXJ0KG4pLHRoaXMubV9saW5lMiwhMCksYT10aGlzLm1fbGluZTIsbz10aGlzLm1fbGluZTIuaW50ZXJzZWN0aW9uT2ZZTW9ub3RvbmljV2l0aEF4aXNYKHRoaXMubV9oZWxwZXIubV95U2NhbmxpbmUsMCl9aWYoaT09PW8pe2NvbnN0IGU9ci5pc0JvdHRvbVVwKHQpLHM9ci5pc0JvdHRvbVVwKG4pLGg9ZT90aGlzLm1fc2VnMS5nZXRFbmRZKCk6dGhpcy5tX3NlZzEuZ2V0U3RhcnRZKCksbT1zP2EuZ2V0RW5kWSgpOmEuZ2V0U3RhcnRZKCksbD1NYXRoLm1pbihoLG0pO2xldCBnPS41KihsK3RoaXMubV9oZWxwZXIubV95U2NhbmxpbmUpO2c9PT10aGlzLm1faGVscGVyLm1feVNjYW5saW5lJiYoZz1sKSxpPXRoaXMubV9zZWcxLmludGVyc2VjdGlvbk9mWU1vbm90b25pY1dpdGhBeGlzWChnLDApLG89YS5pbnRlcnNlY3Rpb25PZllNb25vdG9uaWNXaXRoQXhpc1goZywwKSxpPT09byYmUChcIlwiKX1yZXR1cm4gaTxvPy0xOmk+bz8xOjB9cmVzZXQoKXt0aGlzLm1fbGVmdEVsbT0tMX19O2NsYXNzIEpue2NvbnN0cnVjdG9yKGUpe3RoaXMubV9ub2RlPS0xLHRoaXMubV9pbmRleD0wLHRoaXMubV9zb3J0ZWRWZXJ0aWNlcz1lLm1fc29ydGVkVmVydGljZXMsdGhpcy5tX3NvcnRlZFZlcnRpY2VzQXJyYXk9ZS5tX3NvcnRlZFZlcnRpY2VzQXJyYXksdGhpcy5tX3NvcnRlZFZlcnRpY2VzJiYodGhpcy5tX25vZGU9dGhpcy5tX3NvcnRlZFZlcnRpY2VzLmdldEZpcnN0KHRoaXMubV9zb3J0ZWRWZXJ0aWNlcy5nZXRGaXJzdExpc3QoKSkpfW5leHQoKXtpZih0aGlzLm1fc29ydGVkVmVydGljZXMpe2NvbnN0IGU9dGhpcy5tX25vZGU7aWYoLTE9PT1lKXJldHVybiBNO2NvbnN0IHQ9dGhpcy5tX3NvcnRlZFZlcnRpY2VzLmdldERhdGEoZSk7cmV0dXJuIHRoaXMubV9ub2RlPXRoaXMubV9zb3J0ZWRWZXJ0aWNlcy5nZXROZXh0KGUpLHR9aWYodGhpcy5tX2luZGV4PHRoaXMubV9zb3J0ZWRWZXJ0aWNlc0FycmF5LnNpemUoKSl7Y29uc3QgZT10aGlzLm1fc29ydGVkVmVydGljZXNBcnJheS5yZWFkKHRoaXMubV9pbmRleCk7cmV0dXJuIHRoaXMubV9pbmRleCsrLGV9cmV0dXJuIE19fWNsYXNzICRue2NvbnN0cnVjdG9yKGUpe3RoaXMubV9lZGdlcz1udWxsLHRoaXMubV9zaGFwZT1udWxsLHRoaXMubV9BRVQ9bmV3IEVlLHRoaXMubV95U2NhbmxpbmU9MCx0aGlzLm1fZ2VvbWV0cnk9TSx0aGlzLm1fdW5rbm93blJpbmdPcmllbnRhdGlvbkNvdW50PS0xLHRoaXMubV9zb3J0ZWRWZXJ0aWNlcz1udWxsLHRoaXMubV9zb3J0ZWRWZXJ0aWNlc0FycmF5PW51bGwsdGhpcy5tX3Vua25vd25Ob2Rlcz1bXSx0aGlzLm1fbm9kZTFVc2VySW5kZXg9LTEsdGhpcy5tX25vZGUyVXNlckluZGV4PS0xLHRoaXMubV9wYXRoT3JpZW50YXRpb25JbmRleD0tMSx0aGlzLm1fcGF0aFBhcmVudGFnZUluZGV4PS0xLHRoaXMubV9wYXRoUGFyZW50c0luZGV4PS0xLHRoaXMubV9wcm9ncmVzc0NvdW50ZXI9MCx0aGlzLm1fYkZpeFNlbGZUYW5nZW5jeT0hMSx0aGlzLm1fcHJvZ3Jlc3NUcmFja2VyPWUsdGhpcy5tX0FFVC5kaXNhYmxlQmFsYW5jaW5nKCksdGhpcy5tX3N3ZWVwQ29tcGFyYXRvcj1uZXcgUW4odGhpcyksdGhpcy5tX0FFVC5zZXRDb21wYXJhdG9yKHRoaXMubV9zd2VlcENvbXBhcmF0b3IpfWZpeFJpbmdPcmllbnRhdGlvbl8oKXtjb25zdCBlPXRoaXMuZml4UmluZ09yaWVudGF0aW9uSW1wbE1haW5fKCk7cmV0dXJuLTE9PT10aGlzLm1fcGF0aE9yaWVudGF0aW9uSW5kZXh8fHRoaXMuZml4UmluZ09yaWVudGF0aW9uSW1wbFNpbXBsaWZ5XygpLGV9Zml4UmluZ09yaWVudGF0aW9uRm9yTXAyc3BfKCl7cmV0dXJuIHRoaXMuZml4UmluZ09yaWVudGF0aW9uSW1wbE1haW5fKCksLTE9PT10aGlzLm1fcGF0aE9yaWVudGF0aW9uSW5kZXg/LTE6dGhpcy5maXhSaW5nT3JpZW50YXRpb25JbXBsTXAyc3BfKCl9cHJvY2Vzc0J1bmNoRm9yUmluZ09yaWVudGF0aW9uVGVzdF8oZSl7cmV0dXJuIHRoaXMucHJvY2Vzc0J1bmNoRm9yUmluZ09yaWVudGF0aW9uVGVzdE9kZEV2ZW5fKGUpfXByb2Nlc3NCdW5jaEZvclJpbmdPcmllbnRhdGlvblRlc3RPZGRFdmVuXyhlKXtsZXQgdD0hMTtpZih0aGlzLm1fZWRnZXN8fCh0aGlzLm1fZWRnZXM9bmV3IEtuKHRoaXMubV9zaGFwZSkpLHRoaXMubV91bmtub3duTm9kZXMubGVuZ3RoPTAsdGhpcy5wcm9jZXNzQnVuY2hGb3JSaW5nT3JpZW50YXRpb25SZW1vdmVFZGdlc18oZSksIXRoaXMubV9BRVQuaXNBdXRvQmFsYW5jaW5nKCkpe2xldCB0PTA7Zm9yKGxldCBzPTAsbj1lLmxlbmd0aDtzPG47cysrKXstMSE9PWVbc10mJnQrK30odD4xMHx8dGhpcy5tX0FFVC5nZXRNYXhEZXB0aEV2ZXIoKT40KSYmdGhpcy5tX0FFVC5lbmFibGVCYWxhbmNpbmcoKX1mb3IobGV0IHM9MCxuPWUubGVuZ3RoO3M8bjtzKyspe2NvbnN0IHQ9ZVtzXTt0IT09TSYmdGhpcy5pbnNlcnRFZGdlXyh0LC0xKX1mb3IobGV0IHM9MDtzPHRoaXMubV91bmtub3duTm9kZXMubGVuZ3RoJiZ0aGlzLm1fdW5rbm93blJpbmdPcmllbnRhdGlvbkNvdW50PjA7cysrKXtjb25zdCBlPXRoaXMubV91bmtub3duTm9kZXNbc10sbj10aGlzLm1fQUVULmdldEVsZW1lbnQoZSkscj10aGlzLm1fZWRnZXMuZ2V0UGF0aChuKSxpPXRoaXMubV9zaGFwZS5nZXRQYXRoVXNlckluZGV4KHIsdGhpcy5tX3BhdGhPcmllbnRhdGlvbkluZGV4KTtsZXQgbz1NO2lmKDA9PT1pKXtsZXQgcz10aGlzLm1fQUVULmdldFByZXYoZSksbj1lLHI9ITE7Zm9yKDtzIT09RWUuc3RfbnVsbE5vZGUoKTspe2NvbnN0IGU9dGhpcy5tX0FFVC5nZXRFbGVtZW50KHMpLHQ9dGhpcy5tX2VkZ2VzLmdldFBhdGgoZSk7aWYoMCE9PXRoaXMubV9zaGFwZS5nZXRQYXRoVXNlckluZGV4KHQsdGhpcy5tX3BhdGhPcmllbnRhdGlvbkluZGV4KSl7bz10O2JyZWFrfW49cyxzPXRoaXMubV9BRVQuZ2V0UHJldihzKX1pZihzPT09RWUuc3RfbnVsbE5vZGUoKSlyPSEwLHM9bjtlbHNle2NvbnN0IGU9dGhpcy5tX0FFVC5nZXRFbGVtZW50KHMpO3I9dGhpcy5tX2VkZ2VzLmlzQm90dG9tVXAoZSkscz10aGlzLm1fQUVULmdldE5leHQocykscj0hcn1kb3tjb25zdCBlPXRoaXMubV9BRVQuZ2V0RWxlbWVudChzKSxpPXRoaXMubV9lZGdlcy5nZXRQYXRoKGUpO2lmKDA9PT10aGlzLm1fc2hhcGUuZ2V0UGF0aFVzZXJJbmRleChpLHRoaXMubV9wYXRoT3JpZW50YXRpb25JbmRleCkpe2lmKHIhPT10aGlzLm1fZWRnZXMuaXNCb3R0b21VcChlKSl7Y29uc3QgZT10aGlzLm1fc2hhcGUuZ2V0Rmlyc3RWZXJ0ZXgoaSk7dGhpcy5tX3NoYXBlLnJldmVyc2VSaW5nSW50ZXJuYWwoZSksdGhpcy5tX3NoYXBlLnNldExhc3RWZXJ0ZXgoaSx0aGlzLm1fc2hhcGUuZ2V0UHJldlZlcnRleChlKSksdD0hMH1pZih0aGlzLm1fc2hhcGUuc2V0UGF0aFVzZXJJbmRleChpLHRoaXMubV9wYXRoT3JpZW50YXRpb25JbmRleCxyPzM6MiksIXIpe2xldCBlPXRoaXMubV9zaGFwZS5nZXRQYXRoVXNlckluZGV4KG8sdGhpcy5tX3BhdGhPcmllbnRhdGlvbkluZGV4KTsyPT09ZT8obz10aGlzLm1fc2hhcGUuZ2V0UGF0aFVzZXJJbmRleChvLHRoaXMubV9wYXRoUGFyZW50c0luZGV4KSxlPXRoaXMubV9zaGFwZS5nZXRQYXRoVXNlckluZGV4KG8sdGhpcy5tX3BhdGhPcmllbnRhdGlvbkluZGV4KSxhKDM9PT1lKSk6YSgzPT09ZSk7Y29uc3QgdD10aGlzLm1fc2hhcGUuZ2V0UGF0aFVzZXJJbmRleChvLHRoaXMubV9wYXRoUGFyZW50YWdlSW5kZXgpO3RoaXMubV9zaGFwZS5zZXRQYXRoVXNlckluZGV4KG8sdGhpcy5tX3BhdGhQYXJlbnRhZ2VJbmRleCxpKSx0aGlzLm1fc2hhcGUuc2V0UGF0aFVzZXJJbmRleChpLHRoaXMubV9wYXRoUGFyZW50YWdlSW5kZXgsdCksdGhpcy5tX3NoYXBlLnNldFBhdGhVc2VySW5kZXgoaSx0aGlzLm1fcGF0aFBhcmVudHNJbmRleCxvKX1pZih0aGlzLm1fdW5rbm93blJpbmdPcmllbnRhdGlvbkNvdW50LS0sIXRoaXMubV91bmtub3duUmluZ09yaWVudGF0aW9uQ291bnQpcmV0dXJuIHR9bz1pLG49cyxzPXRoaXMubV9BRVQuZ2V0TmV4dChzKSxyPSFyfXdoaWxlKG4hPT1lKX19cmV0dXJuIHR9cHJvY2Vzc0J1bmNoRm9yUmluZ09yaWVudGF0aW9uUmVtb3ZlRWRnZXNfKGUpe2ZvcihsZXQgdD0wLHM9ZS5sZW5ndGg7dDxzO3QrKyl7Y29uc3Qgcz1lW3RdLG49dGhpcy5tX3NoYXBlLmdldFVzZXJJbmRleChzLHRoaXMubV9ub2RlMVVzZXJJbmRleCkscj10aGlzLm1fc2hhcGUuZ2V0VXNlckluZGV4KHMsdGhpcy5tX25vZGUyVXNlckluZGV4KTtpZigtMSE9PW4pe2NvbnN0IGU9dGhpcy5tX0FFVC5nZXRFbGVtZW50KG4pO3RoaXMubV9lZGdlcy5mcmVlRWRnZShlKSx0aGlzLm1fc2hhcGUuc2V0VXNlckluZGV4KHMsdGhpcy5tX25vZGUxVXNlckluZGV4LC0xKX1pZigtMSE9PXIpe2NvbnN0IGU9dGhpcy5tX0FFVC5nZXRFbGVtZW50KHIpO3RoaXMubV9lZGdlcy5mcmVlRWRnZShlKSx0aGlzLm1fc2hhcGUuc2V0VXNlckluZGV4KHMsdGhpcy5tX25vZGUyVXNlckluZGV4LC0xKX1sZXQgaT0tMTstMSE9PW4mJi0xIT09cj8odGhpcy5tX0FFVC5kZWxldGVOb2RlKG4pLHRoaXMubV9BRVQuZGVsZXRlTm9kZShyKSxlW3RdPU0pOmk9LTEhPT1uP246ciwtMSE9PWkmJih0aGlzLmluc2VydEVkZ2VfKHMsaSl8fHRoaXMubV9BRVQuZGVsZXRlTm9kZShpKSxlW3RdPU0pfX1kYmdWZXJpZnlSaW5nT3JpZW50YXRpb25fKCl7fWluc2VydEVkZ2VfKGUsdCl7Y29uc3Qgcz1RZS5nZXROQU4oKSxuPVFlLmdldE5BTigpO3RoaXMubV9zaGFwZS5xdWVyeVhZKGUscyk7Y29uc3Qgcj10aGlzLm1fc2hhcGUuZ2V0TmV4dFZlcnRleChlKTt0aGlzLm1fc2hhcGUucXVlcnlYWShyLG4pO2xldCBpPSExO2lmKHMueTxuLnkpe2k9ITA7Y29uc3Qgcz10aGlzLm1fZWRnZXMubmV3RWRnZShlKTtsZXQgbjstMT09PXQ/bj10aGlzLm1fQUVULmFkZEVsZW1lbnQocyk6KG49dCx0aGlzLm1fQUVULnNldEVsZW1lbnQobixzKSk7LTE9PT10aGlzLm1fc2hhcGUuZ2V0VXNlckluZGV4KHIsdGhpcy5tX25vZGUxVXNlckluZGV4KT90aGlzLm1fc2hhcGUuc2V0VXNlckluZGV4KHIsdGhpcy5tX25vZGUxVXNlckluZGV4LG4pOnRoaXMubV9zaGFwZS5zZXRVc2VySW5kZXgocix0aGlzLm1fbm9kZTJVc2VySW5kZXgsbik7Y29uc3Qgbz10aGlzLm1fc2hhcGUuZ2V0UGF0aEZyb21WZXJ0ZXgoZSk7MD09PXRoaXMubV9zaGFwZS5nZXRQYXRoVXNlckluZGV4KG8sdGhpcy5tX3BhdGhPcmllbnRhdGlvbkluZGV4KSYmdGhpcy5tX3Vua25vd25Ob2Rlcy5wdXNoKG4pfWNvbnN0IG89dGhpcy5tX3NoYXBlLmdldFByZXZWZXJ0ZXgoZSk7aWYodGhpcy5tX3NoYXBlLnF1ZXJ5WFkobyxuKSxzLnk8bi55KXtpPSEwO2NvbnN0IHM9dGhpcy5tX2VkZ2VzLm5ld0VkZ2Uobyk7bGV0IG47LTE9PT10P249dGhpcy5tX0FFVC5hZGRFbGVtZW50KHMpOihuPXQsdGhpcy5tX0FFVC5zZXRFbGVtZW50KG4scykpOy0xPT09dGhpcy5tX3NoYXBlLmdldFVzZXJJbmRleChvLHRoaXMubV9ub2RlMVVzZXJJbmRleCk/dGhpcy5tX3NoYXBlLnNldFVzZXJJbmRleChvLHRoaXMubV9ub2RlMVVzZXJJbmRleCxuKTp0aGlzLm1fc2hhcGUuc2V0VXNlckluZGV4KG8sdGhpcy5tX25vZGUyVXNlckluZGV4LG4pO2NvbnN0IHI9dGhpcy5tX3NoYXBlLmdldFBhdGhGcm9tVmVydGV4KGUpOzA9PT10aGlzLm1fc2hhcGUuZ2V0UGF0aFVzZXJJbmRleChyLHRoaXMubV9wYXRoT3JpZW50YXRpb25JbmRleCkmJnRoaXMubV91bmtub3duTm9kZXMucHVzaChuKX1yZXR1cm4gaX1maXhSaW5nU2VsZlRhbmdlbmN5Xygpe2NvbnN0IGU9W10sdD1bXTtsZXQgcz0tMSxuPS0xO2NvbnN0IHI9bmV3IFFlO2xldCBpPU0sbz1NLGg9LTE7Y29uc3QgbT1uZXcgSm4odGhpcyk7Zm9yKGxldCBhPW0ubmV4dCgpO2EhPT1NO2E9bS5uZXh0KCkpe2NvbnN0IG09bmV3IFFlO3RoaXMubV9zaGFwZS5xdWVyeVhZKGEsbSk7Y29uc3QgbD10aGlzLm1fc2hhcGUuZ2V0UGF0aEZyb21WZXJ0ZXgoYSk7aWYoci5lcXVhbHMobSkmJm89PT1sKXtpZigtMT09PW4mJihzPXRoaXMubV9zaGFwZS5jcmVhdGVQYXRoVXNlckluZGV4KCksdGhpcy5tX3NoYXBlLmZpbGxQYXRoVXNlckluZGV4Rm9yR2VvbWV0cnkodGhpcy5tX2dlb21ldHJ5LHMsLTEpLG49dGhpcy5tX3NoYXBlLmNyZWF0ZVVzZXJJbmRleCgpLHRoaXMubV9zaGFwZS5maWxsVXNlckluZGV4Rm9yR2VvbWV0cnkodGhpcy5tX2dlb21ldHJ5LG4sLTEpKSwtMT09PWgpe2g9dC5sZW5ndGgsdGhpcy5tX3NoYXBlLnNldFVzZXJJbmRleChpLG4saCksdC5wdXNoKDEpOy0xPT09dGhpcy5tX3NoYXBlLmdldFBhdGhVc2VySW5kZXgobCxzKSYmKHRoaXMubV9zaGFwZS5zZXRQYXRoVXNlckluZGV4KGwscyxpKSxlLnB1c2gobCkpfXRoaXMubV9zaGFwZS5zZXRVc2VySW5kZXgoYSxuLGgpLHRbdC5sZW5ndGgtMV0rK31lbHNlIGg9LTEsci5hc3NpZ24obSk7aT1hLG89bH1pZigwPT09ZS5sZW5ndGgpcmV0dXJuITE7YSgtMSE9PXMpO2ZvcihsZXQgYT0wLGw9ZS5sZW5ndGg7YTxsO2ErKyl7Y29uc3Qgcj1lW2FdO2xldCBpPXRoaXMubV9zaGFwZS5nZXRQYXRoVXNlckluZGV4KHIscyk7Y29uc3Qgbz10aGlzLm1fc2hhcGUuZ2V0VXNlckluZGV4KGksbiksaD1bXSxtPVtdO2gucHVzaChpKSxtLnB1c2gobyk7Zm9yKGxldCBlPXRoaXMubV9zaGFwZS5nZXROZXh0VmVydGV4KGkpO2UhPT1pO2U9dGhpcy5tX3NoYXBlLmdldE5leHRWZXJ0ZXgoZSkpe2NvbnN0IHM9ZSxyPXRoaXMubV9zaGFwZS5nZXRVc2VySW5kZXgocyxuKTtpZigtMSE9PXIpe2lmKDA9PT1tLmxlbmd0aCl7bS5wdXNoKHIpLGgucHVzaChzKTtjb250aW51ZX1pZihtLmF0KC0xKT09PXIpe2NvbnN0IG89aC5hdCgtMSk7dGhpcy5tX3NoYXBlLnBlZWxBTG9vcEludG9BUGF0aChvLHMpLHRoaXMubV9zaGFwZS5zZXRVc2VySW5kZXgoZSxuLC0xKSx0W3JdLS0sMT09PXRbcl0mJih0W3JdPTAsbS5wb3AoKSxoLnBvcCgpKSxpPW8sZT1vfWVsc2UgaC5wdXNoKGUpLG0ucHVzaChyKX19fXJldHVybiB0aGlzLm1fc2hhcGUucmVtb3ZlUGF0aFVzZXJJbmRleChzKSx0aGlzLm1fc2hhcGUucmVtb3ZlVXNlckluZGV4KG4pLHRoaXMubV9zaGFwZS5kYmdWZXJpZnlWZXJ0ZXhDb3VudHMoKSwhMH1wcm9ncmVzc18oZT0hMSl7fWZpeFJpbmdPcmllbnRhdGlvbkltcGxNYWluXygpe2NvbnN0IGU9e3N0YWNrOltdLGVycm9yOnZvaWQgMCxoYXNFcnJvcjohMX07dHJ5e2xldCB0LHM9ITE7Y29uc3Qgbj16dChlLE50KCgoKT0+e3RoaXMubV9zb3J0ZWRWZXJ0aWNlc0FycmF5PW51bGx9KSksITEpO2lmKG51bGw9PT10aGlzLm1fc29ydGVkVmVydGljZXMpe2NvbnN0IGU9dGhpcy5tX3NoYXBlLmdldFBvaW50Q291bnQodGhpcy5tX2dlb21ldHJ5KTt0PW5ldyBDZSgwKTtmb3IobGV0IHM9dGhpcy5tX3NoYXBlLmdldEZpcnN0UGF0aCh0aGlzLm1fZ2VvbWV0cnkpO3MhPT1NO3M9dGhpcy5tX3NoYXBlLmdldE5leHRQYXRoKHMpKXtsZXQgZT10aGlzLm1fc2hhcGUuZ2V0Rmlyc3RWZXJ0ZXgocyk7Zm9yKGxldCBuPTAscj10aGlzLm1fc2hhcGUuZ2V0UGF0aFNpemUocyk7bjxyO24rKyl0LmFkZChlKSxlPXRoaXMubV9zaGFwZS5nZXROZXh0VmVydGV4KGUpfXRoaXMubV9zaGFwZS5zb3J0VmVydGljZXNTaW1wbGVCeVkodCwwLGUpLHRoaXMucHJvZ3Jlc3NfKCEwKSx0aGlzLm1fc29ydGVkVmVydGljZXNBcnJheT10fWVsc2Ugbi5iRm9yZ2V0PSEwO2lmKHRoaXMubV9iRml4U2VsZlRhbmdlbmN5JiYocz10aGlzLmZpeFJpbmdTZWxmVGFuZ2VuY3lfKCkpLDE9PT10aGlzLm1fc2hhcGUuZ2V0UGF0aENvdW50KHRoaXMubV9nZW9tZXRyeSkpe2NvbnN0IGU9dGhpcy5tX3NoYXBlLmdldEZpcnN0UGF0aCh0aGlzLm1fZ2VvbWV0cnkpLHQ9dGhpcy5tX3NoYXBlLmdldFJpbmdBcmVhKGUpO2lmKHRoaXMubV9zaGFwZS5zZXRFeHRlcmlvcihlLCEwKSx0PDApe2NvbnN0IHQ9dGhpcy5tX3NoYXBlLmdldEZpcnN0VmVydGV4KGUpO3JldHVybiB0aGlzLm1fc2hhcGUucmV2ZXJzZVJpbmdJbnRlcm5hbCh0KSx0aGlzLm1fc2hhcGUuc2V0TGFzdFZlcnRleChlLHRoaXMubV9zaGFwZS5nZXRQcmV2VmVydGV4KHQpKSwhMH1yZXR1cm4hMX10aGlzLm1fc2hhcGUuZGJnVmVyaWZ5Q3VydmVzKCksdGhpcy5tX3BhdGhPcmllbnRhdGlvbkluZGV4PXRoaXMubV9zaGFwZS5jcmVhdGVQYXRoVXNlckluZGV4KCksdGhpcy5tX3BhdGhQYXJlbnRhZ2VJbmRleD10aGlzLm1fc2hhcGUuY3JlYXRlUGF0aFVzZXJJbmRleCgpLHRoaXMubV9wYXRoUGFyZW50c0luZGV4PXRoaXMubV9zaGFwZS5jcmVhdGVQYXRoVXNlckluZGV4KCk7Zm9yKGxldCBlPXRoaXMubV9zaGFwZS5nZXRGaXJzdFBhdGgodGhpcy5tX2dlb21ldHJ5KTtlIT09TTtlPXRoaXMubV9zaGFwZS5nZXROZXh0UGF0aChlKSl0aGlzLm1fc2hhcGUuc2V0UGF0aFVzZXJJbmRleChlLHRoaXMubV9wYXRoT3JpZW50YXRpb25JbmRleCwwKSx0aGlzLm1fc2hhcGUuc2V0UGF0aFVzZXJJbmRleChlLHRoaXMubV9wYXRoUGFyZW50YWdlSW5kZXgsLTEpLHRoaXMubV9zaGFwZS5zZXRQYXRoVXNlckluZGV4KGUsdGhpcy5tX3BhdGhQYXJlbnRzSW5kZXgsLTEpO2NvbnN0IHI9W107dGhpcy5tX3lTY2FubGluZT1OdW1iZXIuTmFOO2NvbnN0IGk9UWUuZ2V0TkFOKCk7dGhpcy5tX3Vua25vd25SaW5nT3JpZW50YXRpb25Db3VudD10aGlzLm1fc2hhcGUuZ2V0UGF0aENvdW50KHRoaXMubV9nZW9tZXRyeSksdGhpcy5tX25vZGUxVXNlckluZGV4PXRoaXMubV9zaGFwZS5jcmVhdGVVc2VySW5kZXhVbmluaXRpYWxpemVkKCksdGhpcy5tX3NoYXBlLmZpbGxVc2VySW5kZXhGb3JHZW9tZXRyeSh0aGlzLm1fZ2VvbWV0cnksdGhpcy5tX25vZGUxVXNlckluZGV4LC0xKSx0aGlzLm1fbm9kZTJVc2VySW5kZXg9dGhpcy5tX3NoYXBlLmNyZWF0ZVVzZXJJbmRleFVuaW5pdGlhbGl6ZWQoKSx0aGlzLm1fc2hhcGUuZmlsbFVzZXJJbmRleEZvckdlb21ldHJ5KHRoaXMubV9nZW9tZXRyeSx0aGlzLm1fbm9kZTJVc2VySW5kZXgsLTEpO2NvbnN0IG89bmV3IEpuKHRoaXMpO2ZvcihsZXQgZT1vLm5leHQoKTtlIT09TSYmKHRoaXMucHJvZ3Jlc3NfKCksdGhpcy5tX3NoYXBlLnF1ZXJ5WFkoZSxpKSxpLnkhPT10aGlzLm1feVNjYW5saW5lJiZyLmxlbmd0aCYmKHM9dGhpcy5wcm9jZXNzQnVuY2hGb3JSaW5nT3JpZW50YXRpb25UZXN0XyhyKXx8cyx0aGlzLm1fc3dlZXBDb21wYXJhdG9yLnJlc2V0KCksci5sZW5ndGg9MCksci5wdXNoKGUpLHRoaXMubV95U2NhbmxpbmU9aS55LDAhPT10aGlzLm1fdW5rbm93blJpbmdPcmllbnRhdGlvbkNvdW50KTtlPW8ubmV4dCgpKTtyZXR1cm4gdGhpcy5tX3Vua25vd25SaW5nT3JpZW50YXRpb25Db3VudD4wJiYocz10aGlzLnByb2Nlc3NCdW5jaEZvclJpbmdPcmllbnRhdGlvblRlc3RfKHIpfHxzLHIubGVuZ3RoPTApLHRoaXMubV9zaGFwZS5yZW1vdmVVc2VySW5kZXgodGhpcy5tX25vZGUxVXNlckluZGV4KSx0aGlzLm1fc2hhcGUucmVtb3ZlVXNlckluZGV4KHRoaXMubV9ub2RlMlVzZXJJbmRleCksdGhpcy5kYmdWZXJpZnlSaW5nT3JpZW50YXRpb25fKCksc31jYXRjaCh0KXtlLmVycm9yPXQsZS5oYXNFcnJvcj0hMH1maW5hbGx5e1d0KGUpfX1maXhSaW5nT3JpZW50YXRpb25JbXBsU2ltcGxpZnlfKCl7Y29uc3QgZT1bXTtmb3IobGV0IHQ9dGhpcy5tX3NoYXBlLmdldEZpcnN0UGF0aCh0aGlzLm1fZ2VvbWV0cnkpO3QhPT1NOylpZih0aGlzLnByb2dyZXNzXygpLDM9PT10aGlzLm1fc2hhcGUuZ2V0UGF0aFVzZXJJbmRleCh0LHRoaXMubV9wYXRoT3JpZW50YXRpb25JbmRleCkpe3RoaXMubV9zaGFwZS5zZXRFeHRlcmlvcih0LCEwKTtmb3IobGV0IHI9dGhpcy5tX3NoYXBlLmdldFBhdGhVc2VySW5kZXgodCx0aGlzLm1fcGF0aFBhcmVudGFnZUluZGV4KTtyIT09TTspe2NvbnN0IHM9dGhpcy5tX3NoYXBlLmdldFBhdGhVc2VySW5kZXgocix0aGlzLm1fcGF0aFBhcmVudGFnZUluZGV4KTtlLnB1c2gociksdGhpcy5tX3NoYXBlLnNldEV4dGVyaW9yKHIsITEpLHRoaXMubV9zaGFwZS5zZXRQYXRoVXNlckluZGV4KHIsdGhpcy5tX3BhdGhQYXJlbnRhZ2VJbmRleCx0KSxyPXN9bGV0IHM9dCxuPWUubGVuZ3RoO2ZvcihsZXQgZT10aGlzLm1fc2hhcGUuZ2V0TmV4dFBhdGgodCk7bj4wJiZlIT09TTtlPXRoaXMubV9zaGFwZS5nZXROZXh0UGF0aChlKSwtLW4pe2lmKHRoaXMubV9zaGFwZS5nZXRQYXRoVXNlckluZGV4KGUsdGhpcy5tX3BhdGhQYXJlbnRhZ2VJbmRleCkhPT10KXtzPU07YnJlYWt9cz1lfWlmKDAhPT1uKXtzPXQ7Zm9yKGxldCB0PTAsbj1lLmxlbmd0aDt0PG47dCsrKXtjb25zdCBuPWVbdF07dGhpcy5tX3NoYXBlLnNldFBhdGhVc2VySW5kZXgobix0aGlzLm1fcGF0aFBhcmVudGFnZUluZGV4LHplKSx0aGlzLm1fc2hhcGUubW92ZVBhdGgodGhpcy5tX2dlb21ldHJ5LHRoaXMubV9zaGFwZS5nZXROZXh0UGF0aChzKSxuKSxzPW59fWUubGVuZ3RoPTAsdD10aGlzLm1fc2hhcGUuZ2V0TmV4dFBhdGgocyl9ZWxzZSB0PXRoaXMubV9zaGFwZS5nZXROZXh0UGF0aCh0KTt0aGlzLm1fc2hhcGUucmVtb3ZlUGF0aFVzZXJJbmRleCh0aGlzLm1fcGF0aE9yaWVudGF0aW9uSW5kZXgpLHRoaXMubV9zaGFwZS5yZW1vdmVQYXRoVXNlckluZGV4KHRoaXMubV9wYXRoUGFyZW50YWdlSW5kZXgpLHRoaXMubV9zaGFwZS5yZW1vdmVQYXRoVXNlckluZGV4KHRoaXMubV9wYXRoUGFyZW50c0luZGV4KX1maXhSaW5nT3JpZW50YXRpb25JbXBsTXAyc3BfKCl7Y29uc3QgZT10aGlzLm1fc2hhcGUuY3JlYXRlUGF0aFVzZXJJbmRleCgpO2xldCB0PTA7Y29uc3Qgcz1bXTtmb3IobGV0IG49dGhpcy5tX3NoYXBlLmdldEZpcnN0UGF0aCh0aGlzLm1fZ2VvbWV0cnkpO24hPT1NOylpZih0aGlzLnByb2dyZXNzXygpLDM9PT10aGlzLm1fc2hhcGUuZ2V0UGF0aFVzZXJJbmRleChuLHRoaXMubV9wYXRoT3JpZW50YXRpb25JbmRleCkpe3RoaXMubV9zaGFwZS5zZXRFeHRlcmlvcihuLCEwKSx0aGlzLm1fc2hhcGUuc2V0UGF0aFVzZXJJbmRleChuLGUsdCksdCsrO2ZvcihsZXQgZT10aGlzLm1fc2hhcGUuZ2V0UGF0aFVzZXJJbmRleChuLHRoaXMubV9wYXRoUGFyZW50YWdlSW5kZXgpO2UhPT1NOyl7Y29uc3QgdD10aGlzLm1fc2hhcGUuZ2V0UGF0aFVzZXJJbmRleChlLHRoaXMubV9wYXRoUGFyZW50YWdlSW5kZXgpO3MucHVzaChlKSx0aGlzLm1fc2hhcGUuc2V0RXh0ZXJpb3IoZSwhMSksdGhpcy5tX3NoYXBlLnNldFBhdGhVc2VySW5kZXgoZSx0aGlzLm1fcGF0aFBhcmVudGFnZUluZGV4LG4pLGU9dH1sZXQgcj1uLGk9cy5sZW5ndGgsbz10O2ZvcihsZXQgdD10aGlzLm1fc2hhcGUuZ2V0TmV4dFBhdGgobik7aT4wJiZ0IT09TTt0PXRoaXMubV9zaGFwZS5nZXROZXh0UGF0aCh0KSwtLWkpe2lmKHRoaXMubV9zaGFwZS5nZXRQYXRoVXNlckluZGV4KHQsdGhpcy5tX3BhdGhQYXJlbnRhZ2VJbmRleCkhPT1uKXtyPU07YnJlYWt9cj10LHRoaXMubV9zaGFwZS5zZXRQYXRoVXNlckluZGV4KHQsZSwtbyksbysrfWlmKDAhPT1pKXtyPW4sbz10O2ZvcihsZXQgdD0wLG49cy5sZW5ndGg7dDxuO3QrKyl7Y29uc3Qgbj1zW3RdO3RoaXMubV9zaGFwZS5zZXRQYXRoVXNlckluZGV4KG4sZSwtbyksbysrLHRoaXMubV9zaGFwZS5zZXRQYXRoVXNlckluZGV4KG4sdGhpcy5tX3BhdGhQYXJlbnRhZ2VJbmRleCx6ZSl9cj1ufXQ9byxzLmxlbmd0aD0wLG49dGhpcy5tX3NoYXBlLmdldE5leHRQYXRoKHIpfWVsc2Ugbj10aGlzLm1fc2hhcGUuZ2V0TmV4dFBhdGgobik7cmV0dXJuIHRoaXMubV9zaGFwZS5yZW1vdmVQYXRoVXNlckluZGV4KHRoaXMubV9wYXRoT3JpZW50YXRpb25JbmRleCksdGhpcy5tX3NoYXBlLnJlbW92ZVBhdGhVc2VySW5kZXgodGhpcy5tX3BhdGhQYXJlbnRhZ2VJbmRleCksdGhpcy5tX3NoYXBlLnJlbW92ZVBhdGhVc2VySW5kZXgodGhpcy5tX3BhdGhQYXJlbnRzSW5kZXgpLGV9fWZ1bmN0aW9uIGVyKGUsdCxzLG4scixpKXtjb25zdCBvPW5ldyB0cihpKTtyZXR1cm4gby5tX3NoYXBlPWUsby5tX2dlb21ldHJ5PXQsby5tX2tub3duU2ltcGxlUmVzdWx0PXMsby5tX2JGaXhTZWxmVGFuZ2VuY3k9bixvLm1fcG9seWxpbmVEZWdlbmVyYWNpZXM9cixvLm1fYkhhc1NlZ21lbnRQYXJlbnRhZ2U9ZS5oYXNTZWdtZW50UGFyZW50YWdlKCksby5tX2JIYXNTZWdtZW50cz1lLmhhc0N1cnZlcygpLG8uc2ltcGxpZnlfKCl9Y2xhc3MgdHJ7Y29uc3RydWN0b3IoZSl7dGhpcy5tX3NoYXBlPW51bGwsdGhpcy5tX2dlb21ldHJ5PU0sdGhpcy5tX3NvcnRlZFZlcnRpY2VzPW5ldyBQZSx0aGlzLm1fYnVuY2hFZGdlRW5kUG9pbnRzPVtdLHRoaXMubV9idW5jaEVkZ2VDZW50ZXJQb2ludHM9W10sdGhpcy5tX2J1bmNoRWRnZUluZGljZXM9W10sdGhpcy5tX3NvcnRlclNlZ21lbnRCdWZmZXIxPW51bGwsdGhpcy5tX3NvcnRlclNlZ21lbnRCdWZmZXIyPW51bGwsdGhpcy5tX2tub3duU2ltcGxlUmVzdWx0PS0xLHRoaXMubV9zb3J0ZWRWZXJ0aWNlc0xpc3RJbmRleD0tMSx0aGlzLm1fcG9seWxpbmVEZWdlbmVyYWNpZXM9TSx0aGlzLm1fdXNlckluZGV4U29ydGVkSW5kZXhUb1ZlcnRleD0tMSx0aGlzLm1fdXNlckluZGV4U29ydGVkQW5nbGVJbmRleFRvVmVydGV4PS0xLHRoaXMubV9uZXh0VmVydGV4VG9Qcm9jZXNzPS0xLHRoaXMubV9maXJzdENvaW5jaWRlbnRWZXJ0ZXg9LTEsdGhpcy5tX3Byb2dyZXNzQ291bnRlcj0wLHRoaXMubV9iRml4U2VsZlRhbmdlbmN5PSExLHRoaXMubV9iSGFzU2VnbWVudFBhcmVudGFnZT0hMSx0aGlzLm1fYkhhc1NlZ21lbnRzPSExLHRoaXMubV9wcm9ncmVzc1RyYWNrZXI9ZX1jb21wYXJlQW5nbGVzXyhlLHQpe3JldHVybiB0aGlzLm1fYkhhc1NlZ21lbnRzP3RoaXMuY29tcGFyZUFuZ2xlc0N1cnZlc18oZSx0KTp0aGlzLmNvbXBhcmVBbmdsZXNMaW5lc18oZSx0KX1jb21wYXJlQW5nbGVzTGluZXNfKGUsdCl7Y29uc3Qgcz10aGlzLm1fYnVuY2hFZGdlRW5kUG9pbnRzW2VdLG49bmV3IFFlO3RoaXMubV9zaGFwZS5xdWVyeVhZKHMsbik7Y29uc3Qgcj1uZXcgUWUsaT10aGlzLm1fYnVuY2hFZGdlRW5kUG9pbnRzW3RdO2lmKHRoaXMubV9zaGFwZS5xdWVyeVhZKGksciksbi5lcXVhbHMocikpcmV0dXJuIDA7Y29uc3Qgbz10aGlzLm1fYnVuY2hFZGdlQ2VudGVyUG9pbnRzW2VdLGE9bmV3IFFlO3RoaXMubV9zaGFwZS5xdWVyeVhZKG8sYSk7Y29uc3QgaD10aGlzLm1fYnVuY2hFZGdlQ2VudGVyUG9pbnRzW3RdLG09bmV3IFFlO3RoaXMubV9zaGFwZS5xdWVyeVhZKGgsbSk7Y29uc3QgbD1uZXcgUWU7bC5zZXRTdWIobixhKTtjb25zdCBnPW5ldyBRZTtnLnNldFN1YihyLG0pLChsLmlzWmVybygpfHxnLmlzWmVybygpKSYmUChcIlwiKTtyZXR1cm4gUWUuY29tcGFyZVZlY3RvcnMobCxnKX1jb21wYXJlQW5nbGVzQ3VydmVzXyhlLHQpe2NvbnN0IHM9dGhpcy5tX2J1bmNoRWRnZUVuZFBvaW50c1tlXSxuPXRoaXMubV9idW5jaEVkZ2VFbmRQb2ludHNbdF0scj10aGlzLm1fYnVuY2hFZGdlQ2VudGVyUG9pbnRzW2VdLGk9dGhpcy5tX2J1bmNoRWRnZUNlbnRlclBvaW50c1t0XSxvPXRoaXMubV9zaGFwZS5nZXROZXh0VmVydGV4KHIpPT09cyxhPXRoaXMubV9zaGFwZS5nZXROZXh0VmVydGV4KGkpPT09bixoPW8/dGhpcy5tX3NoYXBlLmlzQ3VydmUocik6dGhpcy5tX3NoYXBlLmlzQ3VydmUocyksbT1hP3RoaXMubV9zaGFwZS5pc0N1cnZlKGkpOnRoaXMubV9zaGFwZS5pc0N1cnZlKG4pO2lmKCFoJiYhbSlyZXR1cm4gdGhpcy5jb21wYXJlQW5nbGVzTGluZXNfKGUsdCk7dGhpcy5tX3NvcnRlclNlZ21lbnRCdWZmZXIxfHwodGhpcy5tX3NvcnRlclNlZ21lbnRCdWZmZXIxPW5ldyBGKSx0aGlzLm1fc29ydGVyU2VnbWVudEJ1ZmZlcjJ8fCh0aGlzLm1fc29ydGVyU2VnbWVudEJ1ZmZlcjI9bmV3IEYpLG8/dGhpcy5tX3NoYXBlLnF1ZXJ5U2VnbWVudChyLHRoaXMubV9zb3J0ZXJTZWdtZW50QnVmZmVyMSwhMSwhMCk6KHRoaXMubV9zaGFwZS5xdWVyeVNlZ21lbnQocyx0aGlzLm1fc29ydGVyU2VnbWVudEJ1ZmZlcjEsITEsITApLHRoaXMubV9zb3J0ZXJTZWdtZW50QnVmZmVyMS5nZXQoKS5yZXZlcnNlKCkpLGE/dGhpcy5tX3NoYXBlLnF1ZXJ5U2VnbWVudChpLHRoaXMubV9zb3J0ZXJTZWdtZW50QnVmZmVyMiwhMSwhMCk6KHRoaXMubV9zaGFwZS5xdWVyeVNlZ21lbnQobix0aGlzLm1fc29ydGVyU2VnbWVudEJ1ZmZlcjIsITEsITApLHRoaXMubV9zb3J0ZXJTZWdtZW50QnVmZmVyMi5nZXQoKS5yZXZlcnNlKCkpO3JldHVybiBxKHRoaXMubV9zb3J0ZXJTZWdtZW50QnVmZmVyMS5nZXQoKSx0aGlzLm1fc29ydGVyU2VnbWVudEJ1ZmZlcjIuZ2V0KCkpfWJlZm9yZVJlbW92ZVZlcnRleF8oZSx0KXtjb25zdCBzPXRoaXMubV9zaGFwZS5nZXRVc2VySW5kZXgoZSx0aGlzLm1fdXNlckluZGV4U29ydGVkSW5kZXhUb1ZlcnRleCk7aWYodGhpcy5tX25leHRWZXJ0ZXhUb1Byb2Nlc3M9PT1zJiYodGhpcy5tX25leHRWZXJ0ZXhUb1Byb2Nlc3M9dGhpcy5tX3NvcnRlZFZlcnRpY2VzLmdldE5leHQodGhpcy5tX25leHRWZXJ0ZXhUb1Byb2Nlc3MpKSx0aGlzLm1fZmlyc3RDb2luY2lkZW50VmVydGV4PT09cyYmKHRoaXMubV9maXJzdENvaW5jaWRlbnRWZXJ0ZXg9dGhpcy5tX3NvcnRlZFZlcnRpY2VzLmdldE5leHQodGhpcy5tX2ZpcnN0Q29pbmNpZGVudFZlcnRleCkpLHRoaXMubV9zb3J0ZWRWZXJ0aWNlcy5kZWxldGVFbGVtZW50KHRoaXMubV9zb3J0ZWRWZXJ0aWNlc0xpc3RJbmRleCxzKSx0aGlzLnJlbW92ZUFuZ2xlU29ydEluZm9fKGUpLHQpe2NvbnN0IHQ9dGhpcy5tX3NoYXBlLmdldFBhdGhGcm9tVmVydGV4KGUpO2lmKHQhPT1NKXtpZih0aGlzLm1fc2hhcGUuZ2V0Rmlyc3RWZXJ0ZXgodCk9PT1lKXtjb25zdCBzPXRoaXMubV9zaGFwZS5nZXROZXh0VmVydGV4KGUpO2lmKHMhPT1lKXtpZih0aGlzLm1fc2hhcGUuZ2V0UGF0aEZyb21WZXJ0ZXgocyk9PT10KXJldHVybiB2b2lkIHRoaXMubV9zaGFwZS5zZXRGaXJzdFZlcnRleCh0LHMpO3tjb25zdCBzPXRoaXMubV9zaGFwZS5nZXRQcmV2VmVydGV4KGUpO2lmKHMhPT1lKXtpZih0aGlzLm1fc2hhcGUuZ2V0UGF0aEZyb21WZXJ0ZXgocyk9PT10KXJldHVybiB2b2lkIHRoaXMubV9zaGFwZS5zZXRGaXJzdFZlcnRleCh0LHMpfX19dGhpcy5tX3NoYXBlLnNldEZpcnN0VmVydGV4KHQsTSksdGhpcy5tX3NoYXBlLnNldExhc3RWZXJ0ZXgodCxNKX19fX1wcm9jZXNzQnVuY2hfKCl7bGV0IGU9ITE7Y29uc3QgdD1uZXcgUWUoMCwwKTtmb3IoOzspe3RoaXMubV9idW5jaEVkZ2VFbmRQb2ludHMubGVuZ3RoPTAsdGhpcy5tX2J1bmNoRWRnZUNlbnRlclBvaW50cy5sZW5ndGg9MCx0aGlzLm1fYnVuY2hFZGdlSW5kaWNlcy5sZW5ndGg9MDtsZXQgcz10aGlzLm1fZmlyc3RDb2luY2lkZW50VmVydGV4LG49MCxyPSEwO2Zvcig7cyE9PXRoaXMubV9uZXh0VmVydGV4VG9Qcm9jZXNzOyl7Y29uc3QgZT10aGlzLm1fc29ydGVkVmVydGljZXMuZ2V0RGF0YShzKTtyJiYodGhpcy5tX3NoYXBlLnF1ZXJ5WFkoZSx0KSxyPSExKTtjb25zdCBpPXRoaXMubV9zaGFwZS5nZXRQcmV2VmVydGV4KGUpLG89dGhpcy5tX3NoYXBlLmdldE5leHRWZXJ0ZXgoZSk7dGhpcy5tX3NoYXBlLmdldFVzZXJJbmRleChpLHRoaXMubV91c2VySW5kZXhTb3J0ZWRBbmdsZUluZGV4VG9WZXJ0ZXgpIT09emUmJih0aGlzLm1fYnVuY2hFZGdlRW5kUG9pbnRzLnB1c2goaSksdGhpcy5tX3NoYXBlLnNldFVzZXJJbmRleChpLHRoaXMubV91c2VySW5kZXhTb3J0ZWRBbmdsZUluZGV4VG9WZXJ0ZXgsemUpLHRoaXMubV9idW5jaEVkZ2VDZW50ZXJQb2ludHMucHVzaChlKSx0aGlzLm1fYnVuY2hFZGdlSW5kaWNlcy5wdXNoKG4rKykpO3RoaXMubV9zaGFwZS5nZXRVc2VySW5kZXgobyx0aGlzLm1fdXNlckluZGV4U29ydGVkQW5nbGVJbmRleFRvVmVydGV4KSE9PXplJiYodGhpcy5tX2J1bmNoRWRnZUVuZFBvaW50cy5wdXNoKG8pLHRoaXMubV9zaGFwZS5zZXRVc2VySW5kZXgobyx0aGlzLm1fdXNlckluZGV4U29ydGVkQW5nbGVJbmRleFRvVmVydGV4LHplKSx0aGlzLm1fYnVuY2hFZGdlQ2VudGVyUG9pbnRzLnB1c2goZSksdGhpcy5tX2J1bmNoRWRnZUluZGljZXMucHVzaChuKyspKSxzPXRoaXMubV9zb3J0ZWRWZXJ0aWNlcy5nZXROZXh0KHMpfWlmKHRoaXMubV9idW5jaEVkZ2VFbmRQb2ludHMubGVuZ3RoPDIpezE9PT10aGlzLm1fYnVuY2hFZGdlRW5kUG9pbnRzLmxlbmd0aCYmdGhpcy5tX3NoYXBlLnNldFVzZXJJbmRleCh0aGlzLm1fYnVuY2hFZGdlRW5kUG9pbnRzWzBdLHRoaXMubV91c2VySW5kZXhTb3J0ZWRBbmdsZUluZGV4VG9WZXJ0ZXgsLTEpO2JyZWFrfXRoaXMubV9idW5jaEVkZ2VJbmRpY2VzLnNvcnQoKChlLHQpPT50aGlzLmNvbXBhcmVBbmdsZXNfKGUsdCkpKTtmb3IobGV0IGU9MCx0PXRoaXMubV9idW5jaEVkZ2VJbmRpY2VzLmxlbmd0aDtlPHQ7ZSsrKXtjb25zdCB0PXRoaXMubV9idW5jaEVkZ2VJbmRpY2VzW2VdLHM9dGhpcy5tX2J1bmNoRWRnZUVuZFBvaW50c1t0XTt0aGlzLm1fc2hhcGUuc2V0VXNlckluZGV4KHMsdGhpcy5tX3VzZXJJbmRleFNvcnRlZEFuZ2xlSW5kZXhUb1ZlcnRleCxlKX1jb25zdCBpPXRoaXMucHJvY2Vzc0Nyb3NzT3ZlcnNfKHQpO2ZvcihsZXQgZT0wLHQ9dGhpcy5tX2J1bmNoRWRnZUluZGljZXMubGVuZ3RoO2U8dDtlKyspe2NvbnN0IHQ9dGhpcy5tX2J1bmNoRWRnZUluZGljZXNbZV07aWYoLTE9PT10KWNvbnRpbnVlO2NvbnN0IHM9dGhpcy5tX2J1bmNoRWRnZUVuZFBvaW50c1t0XTt0aGlzLm1fc2hhcGUuc2V0VXNlckluZGV4KHMsdGhpcy5tX3VzZXJJbmRleFNvcnRlZEFuZ2xlSW5kZXhUb1ZlcnRleCwtMSl9aWYoIWkpYnJlYWs7ZT0hMH1yZXR1cm4gZX1wcm9jZXNzQ3Jvc3NPdmVyc18oZSl7bGV0IHQ9ITEscz0hMDtmb3IoO3M7KXtzPSExO2xldCBuPTA7LTE9PT10aGlzLm1fYnVuY2hFZGdlSW5kaWNlc1tuXSYmKG49dGhpcy5nZXROZXh0RWRnZUluZGV4XyhuKSk7bGV0IHI9dGhpcy5nZXROZXh0RWRnZUluZGV4XyhuKTtmb3IobGV0IGk9MCxvPXRoaXMubV9idW5jaEVkZ2VJbmRpY2VzLmxlbmd0aDtpPG8mJi0xIT09biYmLTEhPT1yJiZuIT09cjtpKyspe2NvbnN0IGk9dGhpcy5tX2J1bmNoRWRnZUluZGljZXNbbl0sbz10aGlzLm1fYnVuY2hFZGdlSW5kaWNlc1tyXSxhPXRoaXMubV9idW5jaEVkZ2VFbmRQb2ludHNbaV0saD10aGlzLm1fYnVuY2hFZGdlRW5kUG9pbnRzW29dO2xldCBtPXRoaXMubV9zaGFwZS5nZXROZXh0VmVydGV4KGEpLGw9ITE7dGhpcy5tX3NoYXBlLmlzRXF1YWxYWVBvaW50MkQobSxlKXx8KG09dGhpcy5tX3NoYXBlLmdldFByZXZWZXJ0ZXgoYSksbD0hMCk7bGV0IGc9dGhpcy5tX3NoYXBlLmdldE5leHRWZXJ0ZXgoaCksdT0hMTt0aGlzLm1fc2hhcGUuaXNFcXVhbFhZUG9pbnQyRChnLGUpfHwoZz10aGlzLm1fc2hhcGUuZ2V0UHJldlZlcnRleChoKSx1PSEwKTtjb25zdCBjPWw/dGhpcy5tX3NoYXBlLmdldFByZXZWZXJ0ZXgobSk6dGhpcy5tX3NoYXBlLmdldE5leHRWZXJ0ZXgobSksXz11P3RoaXMubV9zaGFwZS5nZXRQcmV2VmVydGV4KGcpOnRoaXMubV9zaGFwZS5nZXROZXh0VmVydGV4KGcpO2xldCBkPSExOyh0aGlzLnJlbW92ZVNwaWtlXyhtKXx8dGhpcy5yZW1vdmVTcGlrZV8oZyl8fHRoaXMucmVtb3ZlU3Bpa2VfKGEpfHx0aGlzLnJlbW92ZVNwaWtlXyhoKXx8dGhpcy5yZW1vdmVTcGlrZV8oYyl8fHRoaXMucmVtb3ZlU3Bpa2VfKF8pKSYmKGQ9ITApLG0hPT1nJiYoIWQmJnRoaXMubV9zaGFwZS5pc0VxdWFsWFkoYSxoKSYmKGQ9dGhpcy5yZXNvbHZlT3ZlcmxhcF8obCx1LG0sYSxnLGgpKSwhZCYmdGhpcy5tX3NoYXBlLmlzRXF1YWxYWShjLF8pJiYoZD10aGlzLnJlc29sdmVPdmVybGFwXyghbCwhdSxtLGMsZyxfKSksIWQmJnRoaXMubV9zaGFwZS5pc0VxdWFsWFkoYSxfKSYmKGQ9dGhpcy5yZXNvbHZlT3ZlcmxhcF8obCwhdSxtLGEsZyxfKSksIWQmJnRoaXMubV9zaGFwZS5pc0VxdWFsWFkoYyxoKSYmKGQ9dGhpcy5yZXNvbHZlT3ZlcmxhcF8oIWwsdSxtLGMsZyxoKSkpLGQmJih0PSEwKSxzfHw9ZCxuPWQ/dGhpcy5nZXROZXh0RWRnZUluZGV4XyhuKTpyLHI9dGhpcy5nZXROZXh0RWRnZUluZGV4XyhuKX19aWYoIXQpe2xldCBzPTA7LTE9PT10aGlzLm1fYnVuY2hFZGdlSW5kaWNlc1tzXSYmKHM9dGhpcy5nZXROZXh0RWRnZUluZGV4XyhzKSk7bGV0IG49dGhpcy5nZXROZXh0RWRnZUluZGV4XyhzKTtmb3IobGV0IHI9MCxpPXRoaXMubV9idW5jaEVkZ2VJbmRpY2VzLmxlbmd0aDtyPGkmJi0xIT09cyYmLTEhPT1uJiZzIT09bjtyKyspe2NvbnN0IHI9dGhpcy5tX2J1bmNoRWRnZUluZGljZXNbc10saT10aGlzLm1fYnVuY2hFZGdlSW5kaWNlc1tuXSxvPXRoaXMubV9idW5jaEVkZ2VFbmRQb2ludHNbcl0sYT10aGlzLm1fYnVuY2hFZGdlRW5kUG9pbnRzW2ldO2xldCBoPXRoaXMubV9zaGFwZS5nZXROZXh0VmVydGV4KG8pO3RoaXMubV9zaGFwZS5pc0VxdWFsWFlQb2ludDJEKGgsZSl8fChoPXRoaXMubV9zaGFwZS5nZXRQcmV2VmVydGV4KG8pKTtsZXQgbT10aGlzLm1fc2hhcGUuZ2V0TmV4dFZlcnRleChhKTt0aGlzLm1fc2hhcGUuaXNFcXVhbFhZUG9pbnQyRChtLGUpfHwobT10aGlzLm1fc2hhcGUuZ2V0UHJldlZlcnRleChhKSk7Y29uc3QgbD10aGlzLmdldERpcmVjdGlvbl8oaCxvKSxnPXRoaXMuZ2V0RGlyZWN0aW9uXyhtLGEpLHU9bD90aGlzLm1fc2hhcGUuZ2V0UHJldlZlcnRleChoKTp0aGlzLm1fc2hhcGUuZ2V0TmV4dFZlcnRleChoKSxjPWc/dGhpcy5tX3NoYXBlLmdldFByZXZWZXJ0ZXgobSk6dGhpcy5tX3NoYXBlLmdldE5leHRWZXJ0ZXgobSksXz10aGlzLmRldGVjdEFuZFJlc29sdmVDcm9zc092ZXJfKGwsZyxvLGgsdSxhLG0sYyk7MSE9PV8/MD09PV8/KHM9dGhpcy5nZXROZXh0RWRnZUluZGV4XyhzKSxuPXRoaXMuZ2V0TmV4dEVkZ2VJbmRleF8ocykpOihzPXRoaXMuZ2V0UHJldkVkZ2VJbmRleF8ocyksbj10aGlzLmdldE5leHRFZGdlSW5kZXhfKHMpKTp0PSEwfX1yZXR1cm4gdH1zaW1wbGlmeV8oKXtpZih0aGlzLm1fc2hhcGUuZ2V0R2VvbWV0cnlUeXBlKHRoaXMubV9nZW9tZXRyeSk9PT1uLmVudW1Qb2x5Z29uJiYxPT09dGhpcy5tX3NoYXBlLmdldEZpbGxSdWxlKHRoaXMubV9nZW9tZXRyeSkpe25ldyBLYSh0aGlzLm1fcHJvZ3Jlc3NUcmFja2VyKS5wbGFuYXJTaW1wbGlmeU5vQ3JhY2tpbmdBbmRDbHVzdGVyKHRoaXMubV9iRml4U2VsZlRhbmdlbmN5LHRoaXMubV9zaGFwZSx0aGlzLm1fZ2VvbWV0cnksMCl9bGV0IGU9ITE7dGhpcy5tX3VzZXJJbmRleFNvcnRlZEluZGV4VG9WZXJ0ZXg9LTEsdGhpcy5tX3VzZXJJbmRleFNvcnRlZEFuZ2xlSW5kZXhUb1ZlcnRleD0tMSx0aGlzLm1fdXNlckluZGV4U29ydGVkQW5nbGVJbmRleFRvVmVydGV4PXRoaXMubV9zaGFwZS5jcmVhdGVVc2VySW5kZXhVbmluaXRpYWxpemVkKCk7Y29uc3QgdD10aGlzLm1fc2hhcGUuZ2V0UG9pbnRDb3VudCh0aGlzLm1fZ2VvbWV0cnkpLHM9bmV3IENlKDApO3RoaXMubV9zaGFwZS5kYmdWZXJpZnlNb25vdG9uZSgpO2ZvcihsZXQgbj10aGlzLm1fc2hhcGUuZ2V0Rmlyc3RQYXRoKHRoaXMubV9nZW9tZXRyeSk7biE9PU07bj10aGlzLm1fc2hhcGUuZ2V0TmV4dFBhdGgobikpe2xldCBlPXRoaXMubV9zaGFwZS5nZXRGaXJzdFZlcnRleChuKTtmb3IobGV0IHQ9MCxyPXRoaXMubV9zaGFwZS5nZXRQYXRoU2l6ZShuKTt0PHI7dCsrKXRoaXMubV9zaGFwZS5zZXRVc2VySW5kZXgoZSx0aGlzLm1fdXNlckluZGV4U29ydGVkQW5nbGVJbmRleFRvVmVydGV4LC0xKSxzLmFkZChlKSxlPXRoaXMubV9zaGFwZS5nZXROZXh0VmVydGV4KGUpfXRoaXMubV9zaGFwZS5zb3J0VmVydGljZXNTaW1wbGVCeVkocywwLHQpLHRoaXMucHJvZ3Jlc3NfKCEwKSx0aGlzLm1fdXNlckluZGV4U29ydGVkSW5kZXhUb1ZlcnRleD10aGlzLm1fc2hhcGUuY3JlYXRlVXNlckluZGV4VW5pbml0aWFsaXplZCgpLHRoaXMubV9zb3J0ZWRWZXJ0aWNlcy5yZXNlcnZlTm9kZXModCksdGhpcy5tX3NvcnRlZFZlcnRpY2VzTGlzdEluZGV4PXRoaXMubV9zb3J0ZWRWZXJ0aWNlcy5jcmVhdGVMaXN0KDApO2ZvcihsZXQgbj0wO248dDtuKyspe2NvbnN0IGU9cy5yZWFkKG4pLHQ9dGhpcy5tX3NvcnRlZFZlcnRpY2VzLmFkZEVsZW1lbnQodGhpcy5tX3NvcnRlZFZlcnRpY2VzTGlzdEluZGV4LGUpO3RoaXMubV9zaGFwZS5zZXRVc2VySW5kZXgoZSx0aGlzLm1fdXNlckluZGV4U29ydGVkSW5kZXhUb1ZlcnRleCx0KX10aGlzLm1fbmV4dFZlcnRleFRvUHJvY2Vzcz0tMSx0aGlzLmNsZWFudXBTcGlrZXNfKCkmJihlPSEwKTtsZXQgcj0wLG89ITE7ZG97bz0hMSx0aGlzLm1fbmV4dFZlcnRleFRvUHJvY2Vzcz0tMSx0aGlzLm1fZmlyc3RDb2luY2lkZW50VmVydGV4PXRoaXMubV9zb3J0ZWRWZXJ0aWNlcy5nZXRGaXJzdCh0aGlzLm1fc29ydGVkVmVydGljZXNMaXN0SW5kZXgpO2NvbnN0IHQ9bmV3IFFlKDAsMCk7dGhpcy5tX2ZpcnN0Q29pbmNpZGVudFZlcnRleCE9PVBlLnN0X251bGxOb2RlKCkmJnRoaXMubV9zaGFwZS5xdWVyeVhZKHRoaXMubV9zb3J0ZWRWZXJ0aWNlcy5nZXREYXRhKHRoaXMubV9maXJzdENvaW5jaWRlbnRWZXJ0ZXgpLHQpO2xldCBzPTAsbj10aGlzLm1fZmlyc3RDb2luY2lkZW50VmVydGV4O2Zvcig7biE9PVBlLnN0X251bGxOb2RlKCkmJihuPXRoaXMubV9zb3J0ZWRWZXJ0aWNlcy5nZXROZXh0KG4pLG4hPT1QZS5zdF9udWxsTm9kZSgpKTspe3RoaXMucHJvZ3Jlc3NfKCk7Y29uc3QgZT10aGlzLm1fc29ydGVkVmVydGljZXMuZ2V0RGF0YShuKSxyPVFlLmdldE5BTigpO2lmKHRoaXMubV9zaGFwZS5xdWVyeVhZKGUsciksdC5lcXVhbHMocikpcysrO2Vsc2V7aWYocz4wKXt0aGlzLm1fbmV4dFZlcnRleFRvUHJvY2Vzcz1uO2NvbnN0IGU9dGhpcy5wcm9jZXNzQnVuY2hfKCk7bj10aGlzLm1fbmV4dFZlcnRleFRvUHJvY2VzcyxuIT09UGUuc3RfbnVsbE5vZGUoKSYmdGhpcy5tX3NoYXBlLnF1ZXJ5WFkodGhpcy5tX3NvcnRlZFZlcnRpY2VzLmdldERhdGEobiksciksZSYmKG89ITApfXQuc2V0Q29vcmRzUG9pbnQyRChyKSx0aGlzLm1fZmlyc3RDb2luY2lkZW50VmVydGV4PW4scz0wfX1pZih0aGlzLm1fbmV4dFZlcnRleFRvUHJvY2Vzcz0tMSxzPjApe3RoaXMucHJvY2Vzc0J1bmNoXygpJiYobz0hMCl9cisrPjEwJiZpKFwiXCIpLG8mJnRoaXMuZml4T3JwaGFuVmVydGljZXNfKCksdGhpcy5jbGVhbnVwU3Bpa2VzXygpJiYobz0hMCksZXx8PW99d2hpbGUobyk7cmV0dXJuIHRoaXMubV9zaGFwZS5kYmdWZXJpZnlNb25vdG9uZSgpLHRoaXMubV9zaGFwZS5kYmdWZXJpZnlDdXJ2ZXMoKSx0aGlzLm1fc2hhcGUucmVtb3ZlVXNlckluZGV4KHRoaXMubV91c2VySW5kZXhTb3J0ZWRJbmRleFRvVmVydGV4KSx0aGlzLm1fc2hhcGUucmVtb3ZlVXNlckluZGV4KHRoaXMubV91c2VySW5kZXhTb3J0ZWRBbmdsZUluZGV4VG9WZXJ0ZXgpLGU9am4odGhpcy5tX3NoYXBlLHRoaXMubV9nZW9tZXRyeSx0aGlzLm1fc29ydGVkVmVydGljZXMsdGhpcy5tX2JGaXhTZWxmVGFuZ2VuY3ksdGhpcy5tX3Byb2dyZXNzVHJhY2tlcil8fGUsdGhpcy5tX3NoYXBlLmRiZ1ZlcmlmeUN1cnZlcygpLGV9Z2V0RGlyZWN0aW9uXyhlLHQpe3JldHVybiB0aGlzLm1fc2hhcGUuZ2V0TmV4dFZlcnRleCh0KSE9PWV9ZGV0ZWN0QW5kUmVzb2x2ZUNyb3NzT3Zlcl8oZSx0LHMsbixyLGksbyxhKXtpZihuPT09bylyZXR1cm4gdGhpcy5yZW1vdmVBbmdsZVNvcnRJbmZvXyhzKSx0aGlzLnJlbW92ZUFuZ2xlU29ydEluZm9fKGkpLC0xO2NvbnN0IGg9dGhpcy5tX3NoYXBlLmdldFVzZXJJbmRleChzLHRoaXMubV91c2VySW5kZXhTb3J0ZWRBbmdsZUluZGV4VG9WZXJ0ZXgpLG09dGhpcy5tX3NoYXBlLmdldFVzZXJJbmRleChyLHRoaXMubV91c2VySW5kZXhTb3J0ZWRBbmdsZUluZGV4VG9WZXJ0ZXgpLGw9dGhpcy5tX3NoYXBlLmdldFVzZXJJbmRleChpLHRoaXMubV91c2VySW5kZXhTb3J0ZWRBbmdsZUluZGV4VG9WZXJ0ZXgpLGc9dGhpcy5tX3NoYXBlLmdldFVzZXJJbmRleChhLHRoaXMubV91c2VySW5kZXhTb3J0ZWRBbmdsZUluZGV4VG9WZXJ0ZXgpLHU9S2UoOCxOdW1iZXIuTmFOKSxjPUtlKDQsTnVtYmVyLk5hTik7dVswXT0wLGNbMF09aCx1WzFdPTAsY1sxXT1tLHVbMl09MSxjWzJdPWwsdVszXT0xLGNbM109Zztmb3IobGV0IGQ9MTtkPDQ7ZCsrKXtjb25zdCBlPWNbZF0sdD11W2RdO2xldCBzPWQtMTtmb3IoO3M+PTAmJmNbc10+ZTspY1tzKzFdPWNbc10sdVtzKzFdPXVbc10scy0tO2NbcysxXT1lLHVbcysxXT10fWxldCBfPTA7aWYodVswXSYmKF98PTEpLHVbMV0mJihffD0yKSx1WzJdJiYoX3w9NCksdVszXSYmKF98PTgpLDUhPT1fJiYxMCE9PV8pcmV0dXJuIDA7aWYoZSE9PXQmJihhPXJ0KGksaT1hKSksZSl0aGlzLm1fc2hhcGUuc2V0TmV4dFZlcnRleChhLG4pLHRoaXMubV9zaGFwZS5zZXRQcmV2VmVydGV4KG4sYSksdGhpcy5tX3NoYXBlLnNldE5leHRWZXJ0ZXgocixvKSx0aGlzLm1fc2hhcGUuc2V0UHJldlZlcnRleChvLHIpLHRoaXMubV9iSGFzU2VnbWVudFBhcmVudGFnZSYmKHRoaXMubV9zaGFwZS5zZXRTZWdtZW50UGFyZW50YWdlQnJlYWtWZXJ0ZXgobiwhMCksdGhpcy5tX3NoYXBlLnNldFNlZ21lbnRQYXJlbnRhZ2VCcmVha1ZlcnRleChvLCEwKSk7ZWxzZXtpZih0aGlzLm1fc2hhcGUuc2V0UHJldlZlcnRleChhLG4pLHRoaXMubV9zaGFwZS5zZXROZXh0VmVydGV4KG4sYSksdGhpcy5tX3NoYXBlLnNldFByZXZWZXJ0ZXgocixvKSx0aGlzLm1fc2hhcGUuc2V0TmV4dFZlcnRleChvLHIpLHRoaXMubV9iSGFzU2VnbWVudFBhcmVudGFnZSl7Y29uc3QgZT10aGlzLm1fc2hhcGUuZ2V0U2VnbWVudFBhcmVudGFnZShuKSx0PXRoaXMubV9zaGFwZS5nZXRTZWdtZW50UGFyZW50YWdlKG8pO3RoaXMubV9zaGFwZS5zZXRTZWdtZW50UGFyZW50YWdlQW5kQnJlYWsobix0LCEwKSx0aGlzLm1fc2hhcGUuc2V0U2VnbWVudFBhcmVudGFnZUFuZEJyZWFrKG8sZSwhMCl9aWYodGhpcy5tX2JIYXNTZWdtZW50cyl7Y29uc3QgZT10aGlzLm1fc2hhcGUuZ2V0VmVydGV4SW5kZXgobiksdD10aGlzLm1fc2hhcGUuZ2V0VmVydGV4SW5kZXgobykscz10aGlzLm1fc2hhcGUuZ2V0U2VnbWVudEZyb21JbmRleChlKTt0aGlzLm1fc2hhcGUuc2V0U2VnbWVudFRvSW5kZXgoZSxudWxsKTtjb25zdCByPXRoaXMubV9zaGFwZS5nZXRTZWdtZW50RnJvbUluZGV4KHQpO3RoaXMubV9zaGFwZS5zZXRTZWdtZW50VG9JbmRleCh0LG51bGwpLHRoaXMubV9zaGFwZS5zZXRTZWdtZW50VG9JbmRleChlLHIpLHRoaXMubV9zaGFwZS5zZXRTZWdtZW50VG9JbmRleCh0LHMpfX1yZXR1cm4gMX1yZXNvbHZlT3ZlcmxhcF8oZSx0LHMsbixyLGkpe3JldHVybiB0aGlzLnJlc29sdmVPdmVybGFwT2RkRXZlbl8oZSx0LHMsbixyLGkpfXJlc29sdmVPdmVybGFwT2RkRXZlbl8oZSx0LHMsbixyLGkpe2lmKGUhPT10KXtlfHwocj1ydChzLHM9ciksaT1ydChuLG49aSkpO2NvbnN0IHQ9dGhpcy5tX3NoYXBlLmdldE5leHRWZXJ0ZXgociksbz10aGlzLm1fc2hhcGUuZ2V0TmV4dFZlcnRleChzKTtpZih0aGlzLm1fc2hhcGUuc2V0TmV4dFZlcnRleChzLHQpLHRoaXMubV9zaGFwZS5zZXRQcmV2VmVydGV4KHQscyksdGhpcy5tX3NoYXBlLnNldE5leHRWZXJ0ZXgocixvKSx0aGlzLm1fc2hhcGUuc2V0UHJldlZlcnRleChvLHIpLHRoaXMubV9iSGFzU2VnbWVudHMpe2NvbnN0IGU9dGhpcy5tX3NoYXBlLmdldFZlcnRleEluZGV4KHMpLHQ9dGhpcy5tX3NoYXBlLmdldFZlcnRleEluZGV4KHIpLG49dGhpcy5tX3NoYXBlLmdldFNlZ21lbnRGcm9tSW5kZXgoZSk7dGhpcy5tX3NoYXBlLnNldFNlZ21lbnRUb0luZGV4KGUsbnVsbCk7Y29uc3QgaT10aGlzLm1fc2hhcGUuZ2V0U2VnbWVudEZyb21JbmRleCh0KTt0aGlzLm1fc2hhcGUuc2V0U2VnbWVudFRvSW5kZXgodCxudWxsKSx0aGlzLm1fc2hhcGUuc2V0U2VnbWVudFRvSW5kZXgoZSxpKSx0aGlzLm1fc2hhcGUuc2V0U2VnbWVudFRvSW5kZXgodCxuKX1pZih0aGlzLm1fYkhhc1NlZ21lbnRQYXJlbnRhZ2Upe2NvbnN0IGU9dGhpcy5tX3NoYXBlLmdldFNlZ21lbnRQYXJlbnRhZ2UocyksdD10aGlzLm1fc2hhcGUuZ2V0U2VnbWVudFBhcmVudGFnZShyKTt0aGlzLm1fc2hhcGUuc2V0U2VnbWVudFBhcmVudGFnZUFuZEJyZWFrKHMsdCwhMCksdGhpcy5tX3NoYXBlLnNldFNlZ21lbnRQYXJlbnRhZ2VBbmRCcmVhayhyLGUsITApLHRoaXMubV9zaGFwZS5zZXRTZWdtZW50UGFyZW50YWdlQnJlYWtWZXJ0ZXgobiwhMCksdGhpcy5tX3NoYXBlLnNldFNlZ21lbnRQYXJlbnRhZ2VCcmVha1ZlcnRleChpLCEwKX10aGlzLnJlbW92ZVNwaWtlXyhyKX1lbHNle2NvbnN0IG89ZT9zOm4sYT10P3I6aSxoPWU/bjpzLG09dD9pOnI7bGV0IGw9bnVsbDtpZih0aGlzLm1fYkhhc1NlZ21lbnRzKXtjb25zdCBlPXRoaXMubV9zaGFwZS5nZXRWZXJ0ZXhJbmRleChtKTtsPXRoaXMubV9zaGFwZS5nZXRTZWdtZW50RnJvbUluZGV4KGUpLHRoaXMubV9zaGFwZS5zZXRTZWdtZW50VG9JbmRleChlLG51bGwpO2NvbnN0IHQ9dGhpcy5tX3NoYXBlLmdldFZlcnRleEluZGV4KGEpO3RoaXMubV9zaGFwZS5zZXRTZWdtZW50VG9JbmRleCh0LG51bGwpO2NvbnN0IHM9dGhpcy5tX3NoYXBlLmdldFZlcnRleEluZGV4KG8pO3RoaXMubV9zaGFwZS5zZXRTZWdtZW50VG9JbmRleChzLG51bGwpfWxldCBnPS0xO3RoaXMubV9iSGFzU2VnbWVudFBhcmVudGFnZSYmKGc9dGhpcy5tX3NoYXBlLmdldFNlZ21lbnRQYXJlbnRhZ2UobSkpO2xldCB1PSExO3RoaXMubV9zaGFwZS5zZXROZXh0VmVydGV4KG8sYSksdGhpcy5tX3NoYXBlLnNldE5leHRWZXJ0ZXgoYSxvKSx0aGlzLm1fc2hhcGUuc2V0UHJldlZlcnRleChoLG0pLHRoaXMubV9zaGFwZS5zZXRQcmV2VmVydGV4KG0saCk7bGV0IGM9bTtmb3IoO2MhPT1hOyl7Y29uc3QgZT10aGlzLm1fc2hhcGUuZ2V0UHJldlZlcnRleChjKSx0PXRoaXMubV9zaGFwZS5nZXROZXh0VmVydGV4KGMpO2lmKHRoaXMubV9zaGFwZS5zZXRQcmV2VmVydGV4KGMsdCksdGhpcy5tX3NoYXBlLnNldE5leHRWZXJ0ZXgoYyxlKSx1fHw9Yz09PW8sdGhpcy5tX2JIYXNTZWdtZW50cyYmYyE9PW8pe2NvbnN0IGU9dGhpcy5tX3NoYXBlLmdldFZlcnRleEluZGV4KHQpLHM9bDtsPXRoaXMubV9zaGFwZS5nZXRTZWdtZW50RnJvbUluZGV4KGUpLG51bGwhPT1zJiZzLnJldmVyc2UoKSx0aGlzLm1fc2hhcGUuc2V0U2VnbWVudFRvSW5kZXgoZSxzKX1pZih0aGlzLm1fYkhhc1NlZ21lbnRQYXJlbnRhZ2Upe2NvbnN0IGU9dGhpcy5tX3NoYXBlLmdldFNlZ21lbnRQYXJlbnRhZ2UodCk7dGhpcy5tX3NoYXBlLnNldFNlZ21lbnRQYXJlbnRhZ2VQcmVzZXJ2ZUJyZWFrKHQsZyksZz1lfWM9dH1sZXQgXz1udWxsO2lmKCF1KXtjb25zdCBlPXRoaXMubV9zaGFwZS5nZXRQcmV2VmVydGV4KGEpLHQ9dGhpcy5tX3NoYXBlLmdldE5leHRWZXJ0ZXgoYSk7aWYodGhpcy5tX3NoYXBlLnNldFByZXZWZXJ0ZXgoYSx0KSx0aGlzLm1fc2hhcGUuc2V0TmV4dFZlcnRleChhLGUpLHRoaXMubV9iSGFzU2VnbWVudHMpe2NvbnN0IGU9dGhpcy5tX3NoYXBlLmdldFZlcnRleEluZGV4KGEpO189dGhpcy5tX3NoYXBlLmdldFNlZ21lbnRGcm9tSW5kZXgoZSksdGhpcy5tX3NoYXBlLnNldFNlZ21lbnRUb0luZGV4KGUsbnVsbCl9fWxldCBkPS0xLHA9LTE7aWYodGhpcy5tX2JIYXNTZWdtZW50UGFyZW50YWdlJiYoZD11P3RoaXMubV9zaGFwZS5nZXRTZWdtZW50UGFyZW50YWdlKG8pOnRoaXMubV9zaGFwZS5nZXRTZWdtZW50UGFyZW50YWdlKGEpLHA9dGhpcy5tX3NoYXBlLmdldFNlZ21lbnRQYXJlbnRhZ2UoaCkpLHRoaXMudHJhbnNmZXJWZXJ0ZXhEYXRhXyhhLG8pLHRoaXMuYmVmb3JlUmVtb3ZlVmVydGV4XyhhLCEwKSx0aGlzLm1fc2hhcGUucmVtb3ZlVmVydGV4SW50ZXJuYWwoYSwhMCksdGhpcy5yZW1vdmVBbmdsZVNvcnRJbmZvXyhvKSx0aGlzLnRyYW5zZmVyVmVydGV4RGF0YV8obSxoKSx0aGlzLmJlZm9yZVJlbW92ZVZlcnRleF8obSwhMCksdGhpcy5tX3NoYXBlLnJlbW92ZVZlcnRleEludGVybmFsKG0sITApLHRoaXMucmVtb3ZlQW5nbGVTb3J0SW5mb18oaCksdGhpcy5tX2JIYXNTZWdtZW50UGFyZW50YWdlJiYodGhpcy5tX3NoYXBlLnNldFNlZ21lbnRQYXJlbnRhZ2VBbmRCcmVhayhvLGQsITApLHRoaXMubV9zaGFwZS5zZXRTZWdtZW50UGFyZW50YWdlQW5kQnJlYWsoaCxwLCEwKSksXyl7Y29uc3QgZT10aGlzLm1fc2hhcGUuZ2V0VmVydGV4SW5kZXgobyk7dGhpcy5tX3NoYXBlLnNldFNlZ21lbnRUb0luZGV4KGUsXyl9fXJldHVybiEwfWNsZWFudXBTcGlrZXNfKCl7bGV0IGU9ITE7Zm9yKGxldCB0PXRoaXMubV9zaGFwZS5nZXRGaXJzdFBhdGgodGhpcy5tX2dlb21ldHJ5KTt0IT09TTspe2NvbnN0IHM9dGhpcy5tX3NoYXBlLmdldE5leHRQYXRoKHQpO2xldCBuPXRoaXMubV9zaGFwZS5nZXRGaXJzdFZlcnRleCh0KTtmb3IobGV0IHI9MCxpPXRoaXMubV9zaGFwZS5nZXRQYXRoU2l6ZSh0KTtyPGkmJmk+MTspe3RoaXMucHJvZ3Jlc3NfKCk7Y29uc3R7djpzLGJNb2RpZmllZDpvfT10aGlzLmNoZWNrQW5kQ2xlYW51cFNwaWtlXyh0LG4pO2lmKHM9PT1NKWJyZWFrO28/KGU9ITAsbj1zLHI9MCxpPXRoaXMubV9zaGFwZS5nZXRQYXRoU2l6ZSh0KSk6KG49cyxyKyspfXQ9c31yZXR1cm4gZX1jaGVja0FuZENsZWFudXBTcGlrZV8oZSx0KXtjb25zdCBzPXt2Ok0sYk1vZGlmaWVkOiExfTtsZXQgbj10aGlzLm1fc2hhcGUuZ2V0UHJldlZlcnRleCh0KSxyPXRoaXMubV9zaGFwZS5nZXROZXh0VmVydGV4KHQpLGk9TSxvPU07Zm9yKDt0aGlzLm1fc2hhcGUuaXNFcXVhbFhZKG4scikmJihpPW4sbz1yLHIhPT10KTspbj10aGlzLm1fc2hhcGUuZ2V0UHJldlZlcnRleChuKSxyPXRoaXMubV9zaGFwZS5nZXROZXh0VmVydGV4KHIpO2lmKGk9PT1NKXJldHVybiBzLnY9cixzO3MuYk1vZGlmaWVkPSEwO2ZvcihsZXQgYT10aGlzLm1fc2hhcGUuZ2V0TmV4dFZlcnRleChpKTt0aGlzLmJlZm9yZVJlbW92ZVZlcnRleF8oYSwhMSksYSE9PW87YT10aGlzLm1fc2hhcGUuZ2V0TmV4dFZlcnRleChhKSk7aWYoaT09PXQpcmV0dXJuIHRoaXMubV9wb2x5bGluZURlZ2VuZXJhY2llcyE9PU0/dGhpcy5tX3NoYXBlLm1vdmVQYXRoKHRoaXMubV9wb2x5bGluZURlZ2VuZXJhY2llcyxNLGUpOnRoaXMubV9zaGFwZS5yZW1vdmVQYXRoKGUpLHMudj1NLHM7e2NvbnN0IGU9dGhpcy5tX3NoYXBlLnBlZWxBTG9vcEludG9BUGF0aChpLG8pO3RoaXMubV9wb2x5bGluZURlZ2VuZXJhY2llcyE9PU0/dGhpcy5tX3NoYXBlLm1vdmVQYXRoKHRoaXMubV9wb2x5bGluZURlZ2VuZXJhY2llcyxNLGUpOnRoaXMubV9zaGFwZS5yZW1vdmVQYXRoKGUpfXJldHVybiBzLnY9aSxzfXJlbW92ZVNwaWtlXyhlKXtsZXQgdD10aGlzLm1fc2hhcGUuZ2V0UHJldlZlcnRleChlKSxzPXRoaXMubV9zaGFwZS5nZXROZXh0VmVydGV4KGUpLG49TSxyPU07Zm9yKDt0aGlzLm1fc2hhcGUuaXNFcXVhbFhZKHQscykmJihuPXQscj1zLHMhPT1lKTspdD10aGlzLm1fc2hhcGUuZ2V0UHJldlZlcnRleCh0KSxzPXRoaXMubV9zaGFwZS5nZXROZXh0VmVydGV4KHMpO2lmKG49PT1NKXJldHVybiExO2lmKHRoaXMubV9zaGFwZS5wZWVsQUxvb3AobixyKSx0aGlzLm1fYkhhc1NlZ21lbnRQYXJlbnRhZ2UmJih0aGlzLm1fc2hhcGUuc2V0U2VnbWVudFBhcmVudGFnZUJyZWFrVmVydGV4KG4sITApLHRoaXMubV9zaGFwZS5zZXRTZWdtZW50UGFyZW50YWdlQnJlYWtWZXJ0ZXgociwhMCkpLHRoaXMucmVtb3ZlQW5nbGVTb3J0SW5mb18obiksdGhpcy5tX3BvbHlsaW5lRGVnZW5lcmFjaWVzPT09TSlmb3IobGV0IGk9dGhpcy5tX3NoYXBlLmdldE5leHRWZXJ0ZXgocik7Oyl7Y29uc3QgZT10aGlzLm1fc2hhcGUuZ2V0TmV4dFZlcnRleChpKTtpZih0aGlzLnJlbW92ZUFuZ2xlU29ydEluZm9fKGkpLHRoaXMuYmVmb3JlUmVtb3ZlVmVydGV4XyhpLCEwKSx0aGlzLm1fc2hhcGUuc2V0U2VnbWVudFRvSW5kZXgodGhpcy5tX3NoYXBlLmdldFZlcnRleEluZGV4KGkpLG51bGwpLHRoaXMubV9zaGFwZS5yZW1vdmVWZXJ0ZXhJbnRlcm5hbChpLCExKSxpPT09cilicmVhaztpPWV9ZWxzZXtmb3IobGV0IHQ9cjs7KXtjb25zdCBlPXRoaXMubV9zaGFwZS5nZXROZXh0VmVydGV4KHQpO2lmKHRoaXMucmVtb3ZlQW5nbGVTb3J0SW5mb18odCksdGhpcy5iZWZvcmVSZW1vdmVWZXJ0ZXhfKHQsITEpLHQ9ZSx0PT09cilicmVha31jb25zdCBlPVshMV07dGhpcy5tX3NoYXBlLmluc2VydENsb3NlZFBhdGgodGhpcy5tX3BvbHlsaW5lRGVnZW5lcmFjaWVzLE0scixyLGUpfXJldHVybiEwfWZpeE9ycGhhblZlcnRpY2VzXygpe2xldCBlPTA7Zm9yKGxldCBuPXRoaXMubV9zb3J0ZWRWZXJ0aWNlcy5nZXRGaXJzdCh0aGlzLm1fc29ydGVkVmVydGljZXMuZ2V0Rmlyc3RMaXN0KCkpOy0xIT09bjtuPXRoaXMubV9zb3J0ZWRWZXJ0aWNlcy5nZXROZXh0KG4pKXtjb25zdCBlPXRoaXMubV9zb3J0ZWRWZXJ0aWNlcy5nZXREYXRhKG4pO3RoaXMubV9zaGFwZS5zZXRQYXRoVG9WZXJ0ZXgoZSxNKX1sZXQgdD0wO2ZvcihsZXQgbj10aGlzLm1fc2hhcGUuZ2V0Rmlyc3RQYXRoKHRoaXMubV9nZW9tZXRyeSk7biE9PU07KXtjb25zdCBzPXRoaXMubV9zaGFwZS5nZXRGaXJzdFZlcnRleChuKTtpZihzPT09TXx8dGhpcy5tX3NoYXBlLmdldFBhdGhGcm9tVmVydGV4KHMpIT09TSl7Y29uc3QgZT1uO249dGhpcy5tX3NoYXBlLmdldE5leHRQYXRoKG4pLHRoaXMubV9zaGFwZS5yZW1vdmVQYXRoT25seShlKTtjb250aW51ZX10aGlzLm1fc2hhcGUuc2V0UGF0aFRvVmVydGV4KHMsbik7bGV0IHI9MTtmb3IobGV0IGU9dGhpcy5tX3NoYXBlLmdldE5leHRWZXJ0ZXgocyk7ZSE9PXM7ZT10aGlzLm1fc2hhcGUuZ2V0TmV4dFZlcnRleChlKSl0aGlzLm1fc2hhcGUuc2V0UGF0aFRvVmVydGV4KGUsbikscisrO3RoaXMubV9zaGFwZS5zZXRSaW5nQXJlYVZhbGlkKG4sITEpLHRoaXMubV9zaGFwZS5zZXRQYXRoU2l6ZShuLHIpLHRoaXMubV9zaGFwZS5zZXRMYXN0VmVydGV4KG4sdGhpcy5tX3NoYXBlLmdldFByZXZWZXJ0ZXgocykpLHQrPXIsZSsrLG49dGhpcy5tX3NoYXBlLmdldE5leHRQYXRoKG4pfWZvcihsZXQgbj10aGlzLm1fc29ydGVkVmVydGljZXMuZ2V0Rmlyc3QodGhpcy5tX3NvcnRlZFZlcnRpY2VzLmdldEZpcnN0TGlzdCgpKTstMSE9PW47bj10aGlzLm1fc29ydGVkVmVydGljZXMuZ2V0TmV4dChuKSl7Y29uc3Qgcz10aGlzLm1fc29ydGVkVmVydGljZXMuZ2V0RGF0YShuKTtpZih0aGlzLm1fc2hhcGUuZ2V0UGF0aEZyb21WZXJ0ZXgocykhPT1NKWNvbnRpbnVlO2NvbnN0IHI9WyExXSxpPXRoaXMubV9zaGFwZS5pbnNlcnRDbG9zZWRQYXRoKHRoaXMubV9nZW9tZXRyeSxNLHMscyxyKTt0Kz10aGlzLm1fc2hhcGUuZ2V0UGF0aFNpemUoaSksZSsrfXRoaXMubV9zaGFwZS5zZXRHZW9tZXRyeVBhdGhDb3VudCh0aGlzLm1fZ2VvbWV0cnksZSksdGhpcy5tX3NoYXBlLnNldEdlb21ldHJ5VmVydGV4Q291bnQodGhpcy5tX2dlb21ldHJ5LHQpO2xldCBzPTA7Zm9yKGxldCBuPXRoaXMubV9zaGFwZS5nZXRGaXJzdEdlb21ldHJ5KCk7biE9PU07bj10aGlzLm1fc2hhcGUuZ2V0TmV4dEdlb21ldHJ5KG4pKXMrPXRoaXMubV9zaGFwZS5nZXRQb2ludENvdW50KG4pO3RoaXMubV9zaGFwZS5zZXRUb3RhbFBvaW50Q291bnQocyl9Z2V0TmV4dEVkZ2VJbmRleF8oZSl7aWYoLTE9PT1lKXJldHVybi0xO2ZvcihsZXQgdD0wLHM9dGhpcy5tX2J1bmNoRWRnZUluZGljZXMubGVuZ3RoLTE7dDxzO3QrKylpZihlPShlKzEpJXRoaXMubV9idW5jaEVkZ2VJbmRpY2VzLmxlbmd0aCwtMSE9PXRoaXMubV9idW5jaEVkZ2VJbmRpY2VzW2VdKXJldHVybiBlO3JldHVybi0xfWdldFByZXZFZGdlSW5kZXhfKGUpe2lmKC0xPT09ZSlyZXR1cm4tMTtmb3IobGV0IHQ9MCxzPXRoaXMubV9idW5jaEVkZ2VJbmRpY2VzLmxlbmd0aC0xO3Q8czt0KyspaWYoZT0odGhpcy5tX2J1bmNoRWRnZUluZGljZXMubGVuZ3RoK2UtMSkldGhpcy5tX2J1bmNoRWRnZUluZGljZXMubGVuZ3RoLC0xIT09dGhpcy5tX2J1bmNoRWRnZUluZGljZXNbZV0pcmV0dXJuIGU7cmV0dXJuLTF9dHJhbnNmZXJWZXJ0ZXhEYXRhXyhlLHQpe2NvbnN0IHM9dGhpcy5tX3NoYXBlLmdldFVzZXJJbmRleCh0LHRoaXMubV91c2VySW5kZXhTb3J0ZWRJbmRleFRvVmVydGV4KSxuPXRoaXMubV9zaGFwZS5nZXRVc2VySW5kZXgodCx0aGlzLm1fdXNlckluZGV4U29ydGVkQW5nbGVJbmRleFRvVmVydGV4KTt0aGlzLm1fc2hhcGUudHJhbnNmZXJBbGxEYXRhVG9UaGVWZXJ0ZXgoZSx0KSx0aGlzLm1fc2hhcGUuc2V0VXNlckluZGV4KHQsdGhpcy5tX3VzZXJJbmRleFNvcnRlZEluZGV4VG9WZXJ0ZXgscyksdGhpcy5tX3NoYXBlLnNldFVzZXJJbmRleCh0LHRoaXMubV91c2VySW5kZXhTb3J0ZWRBbmdsZUluZGV4VG9WZXJ0ZXgsbil9cmVtb3ZlQW5nbGVTb3J0SW5mb18oZSl7Y29uc3QgdD10aGlzLm1fc2hhcGUuZ2V0VXNlckluZGV4KGUsdGhpcy5tX3VzZXJJbmRleFNvcnRlZEFuZ2xlSW5kZXhUb1ZlcnRleCk7LTEhPT10JiYodGhpcy5tX2J1bmNoRWRnZUluZGljZXNbdF09LTEsdGhpcy5tX3NoYXBlLnNldFVzZXJJbmRleChlLHRoaXMubV91c2VySW5kZXhTb3J0ZWRBbmdsZUluZGV4VG9WZXJ0ZXgsLTEpKX1wcm9ncmVzc18oZT0hMSl7fX1mdW5jdGlvbiBzcihzLHIsaSxvLGEsaD0hMCl7c3dpdGNoKGlyKG8pKXtjYXNlIDA6YnJlYWs7Y2FzZSAxOnQoXCJyZWxhdGlvbiBzdHJpbmcgbGVuZ3RoIGhhcyB0byBiZSA5IGNoYXJhY3RlcnNcIik7YnJlYWs7ZGVmYXVsdDp0KFwicmVsYXRpb24gc3RyaW5nXCIpfWlmKGgpe2NvbnN0IGU9eHIobyxzLmdldERpbWVuc2lvbigpLHIuZ2V0RGltZW5zaW9uKCkpO2lmKDAhPT1lKXJldHVybiBrcihzLHIsaSxlLGEpfWxldCBtPTA7aWYoXCJudW1iZXJcIj09dHlwZW9mIGkpbT1pO2Vsc2V7Y29uc3QgdD1lLmNvbnN0cnVjdEVtcHR5KCk7cy5xdWVyeUVudmVsb3BlKHQpO2NvbnN0IG49ZS5jb25zdHJ1Y3RFbXB0eSgpO3IucXVlcnlFbnZlbG9wZShuKTtjb25zdCBvPWUuY29uc3RydWN0RW1wdHkoKTtvLnNldENvb3Jkcyh7ZW52MkQ6dH0pLG8ubWVyZ2VFbnZlbG9wZTJEKG4pLG09bGUoaSxvLCExKX1jb25zdCBsPVRyKHMsbSksZz1UcihyLG0pO2lmKGwuaXNFbXB0eSgpfHxnLmlzRW1wdHkoKSlyZXR1cm4gZnIobCxnLG8pO2NvbnN0IHU9bC5nZXRHZW9tZXRyeVR5cGUoKSxjPWcuZ2V0R2VvbWV0cnlUeXBlKCk7bGV0IF89ITE7c3dpdGNoKHUpe2Nhc2Ugbi5lbnVtUG9seWdvbjpzd2l0Y2goYyl7Y2FzZSBuLmVudW1Qb2x5Z29uOl89b3IobCxnLG0sbyxhKTticmVhaztjYXNlIG4uZW51bVBvbHlsaW5lOl89YXIobCxnLG0sbyxhKTticmVhaztjYXNlIG4uZW51bVBvaW50Ol89dXIobCxnLG0sbyk7YnJlYWs7Y2FzZSBuLmVudW1NdWx0aVBvaW50Ol89aHIobCxnLG0sbyxhKX1icmVhaztjYXNlIG4uZW51bVBvbHlsaW5lOnN3aXRjaChjKXtjYXNlIG4uZW51bVBvbHlnb246Xz1hcihnLGwsbSxHcihvKSxhKTticmVhaztjYXNlIG4uZW51bVBvbHlsaW5lOl89bXIobCxnLG0sbyxhKTticmVhaztjYXNlIG4uZW51bVBvaW50Ol89Y3IobCxnLG0sbyxhKTticmVhaztjYXNlIG4uZW51bU11bHRpUG9pbnQ6Xz1scihsLGcsbSxvLGEpfWJyZWFrO2Nhc2Ugbi5lbnVtUG9pbnQ6c3dpdGNoKGMpe2Nhc2Ugbi5lbnVtUG9seWdvbjpfPXVyKGcsbCxtLEdyKG8pKTticmVhaztjYXNlIG4uZW51bVBvbHlsaW5lOl89Y3IoZyxsLG0sR3IobyksYSk7YnJlYWs7Y2FzZSBuLmVudW1Qb2ludDpfPWRyKGwsZyxtLG8pO2JyZWFrO2Nhc2Ugbi5lbnVtTXVsdGlQb2ludDpfPV9yKGcsbCxtLEdyKG8pKX1icmVhaztjYXNlIG4uZW51bU11bHRpUG9pbnQ6c3dpdGNoKGMpe2Nhc2Ugbi5lbnVtUG9seWdvbjpfPWhyKGcsbCxtLEdyKG8pLGEpO2JyZWFrO2Nhc2Ugbi5lbnVtUG9seWxpbmU6Xz1scihnLGwsbSxHcihvKSxhKTticmVhaztjYXNlIG4uZW51bU11bHRpUG9pbnQ6Xz1ncihsLGcsbSxvLGEpO2JyZWFrO2Nhc2Ugbi5lbnVtUG9pbnQ6Xz1fcihsLGcsbSxvKX1icmVhaztkZWZhdWx0Ol89ITF9cmV0dXJuIF99ZnVuY3Rpb24gbnIodCxzLG4scil7Y29uc3QgaT1uZXcgdnI7aS5yZXNldE1hdHJpeF8oKSxpLnNldFByZWRpY2F0ZXNfKFwiVCoqKioqRioqXCIpLGkuc2V0QXJlYUFyZWFQcmVkaWNhdGVzXygpO2NvbnN0IG89ZS5jb25zdHJ1Y3RFbXB0eSgpLGE9ZS5jb25zdHJ1Y3RFbXB0eSgpO3QucXVlcnlFbnZlbG9wZShvKSxzLnF1ZXJ5RW52ZWxvcGUoYSk7bGV0IGg9ITE7aWYocXIobyxhLG4pJiYoaS5hcmVhQXJlYURpc2pvaW50UHJlZGljYXRlc18odCxzKSxoPSEwKSxofHxCcih0LHMpLGgpe3JldHVybiBwcihpLm1fbWF0cml4LGkubV9zY2wpfWxldCBtPW5ldyBHLGw9bS5hZGRHZW9tZXRyeSh0KSxnPW0uYWRkR2VvbWV0cnkocyksdT1udWxsLGM9MDtpZih0Lmhhc05vbkxpbmVhclNlZ21lbnRzKCl8fHMuaGFzTm9uTGluZWFyU2VnbWVudHMoKSl7dT1uZXcgZmE7Y29uc3QgZT1fYShuLG0uZ2V0RW52ZWxvcGUyRChyKSk7Yz1wYShlLDApLGFhKG0sZSxuLDEyZTMsdSxudWxsLHIpfXlhKG0sbmV3IHhlKG4sMCkuYWRkKGMpLHIsITEsITEpO2NvbnN0IF89bS5nZXRHZW9tZXRyeShnKS5nZXRCb3VuZGFyeSgpO2lmKG0uZmlsdGVyQ2xvc2VQb2ludHMoMCwhMCwhMCwhMSxNKSxlcihtLGwsLTEsITEsTSxyKSwwPT09bS5nZXRQb2ludENvdW50KGwpKXJldHVybiExO2VyKG0sZywtMSwhMSxNLHIpLGkuc2V0RWRpdFNoYXBlXyhtLHIpO2NvbnN0IGQ9MD09PW0uZ2V0UG9pbnRDb3VudChnKTtpZighZCl7aS5jb21wdXRlTWF0cml4VG9wb0dyYXBoSGFsZkVkZ2VzXyhsLGcpLGkubV90b3BvR3JhcGgucmVtb3ZlU2hhcGUoKTtjb25zdCBlPXByKGkubV9tYXRyaXgsaS5tX3NjbCk7aWYoIWUpcmV0dXJuIGV9Y29uc3QgcD1tLmdldEdlb21ldHJ5KGwpO209bmV3IEcsbD1tLmFkZEdlb21ldHJ5KHApLGc9bS5hZGRHZW9tZXRyeShfKSxpLnNldEVkaXRTaGFwZV8obSxyKSxpLm1fcHJlZGljYXRlQ291bnQ9MCxpLnJlc2V0TWF0cml4XygpLGkuc2V0UHJlZGljYXRlc18oZD9cIlQqKioqKkYqKlwiOlwiKioqKioqRioqXCIpLGkuc2V0QXJlYUxpbmVQcmVkaWNhdGVzXygpLGkuY29tcHV0ZU1hdHJpeFRvcG9HcmFwaEhhbGZFZGdlc18obCxnKSxpLm1fdG9wb0dyYXBoLnJlbW92ZVNoYXBlKCk7cmV0dXJuIHByKGkubV9tYXRyaXgsaS5tX3NjbCl9ZnVuY3Rpb24gcnIodCxzLG4scil7Y29uc3QgaT1uZXcgdnI7aS5yZXNldE1hdHJpeF8oKSxpLnNldFByZWRpY2F0ZXNfKFwiVCoqKioqRioqXCIpLGkuc2V0QXJlYUxpbmVQcmVkaWNhdGVzXygpO2NvbnN0IG89ZS5jb25zdHJ1Y3RFbXB0eSgpLGE9ZS5jb25zdHJ1Y3RFbXB0eSgpO3QucXVlcnlFbnZlbG9wZShvKSxzLnF1ZXJ5RW52ZWxvcGUoYSk7bGV0IGg9ITE7aWYocXIobyxhLG4pJiYoaS5hcmVhTGluZURpc2pvaW50UHJlZGljYXRlc18odCxzKSxoPSEwKSxofHxCcih0LHMpLGgpe3JldHVybiBwcihpLm1fbWF0cml4LGkubV9zY2wpfWNvbnN0IG09bmV3IEcsbD1tLmFkZEdlb21ldHJ5KHQpLGc9bS5hZGRHZW9tZXRyeShzKTtpZihpLnNldEVkaXRTaGFwZUNyYWNrQW5kQ2x1c3Rlcl8obSxuZXcgeGUobiwwKSxyKSwwPT09bS5nZXRQb2ludENvdW50KGwpKXJldHVybiExO2kuY29tcHV0ZU1hdHJpeFRvcG9HcmFwaEhhbGZFZGdlc18obCxnKSxpLm1fdG9wb0dyYXBoLnJlbW92ZVNoYXBlKCk7cmV0dXJuIHByKGkubV9tYXRyaXgsaS5tX3NjbCl9ZnVuY3Rpb24gaXIoZSl7aWYoOSE9PWUubGVuZ3RoKXJldHVybiAxO2ZvcihsZXQgdD0wO3Q8OTt0Kyspe2NvbnN0IHM9ZVt0XTtpZihcIipcIiE9PXMmJlwiVFwiIT09cyYmXCJGXCIhPT1zJiZcIjBcIiE9PXMmJlwiMVwiIT09cyYmXCIyXCIhPT1zKXJldHVybiAyfXJldHVybiAwfWZ1bmN0aW9uIG9yKHQscyxuLHIsaSl7Y29uc3Qgbz1uZXcgdnI7by5yZXNldE1hdHJpeF8oKSxvLnNldFByZWRpY2F0ZXNfKHIpLG8uc2V0QXJlYUFyZWFQcmVkaWNhdGVzXygpO2NvbnN0IGE9ZS5jb25zdHJ1Y3RFbXB0eSgpLGg9ZS5jb25zdHJ1Y3RFbXB0eSgpO3QucXVlcnlFbnZlbG9wZShhKSxzLnF1ZXJ5RW52ZWxvcGUoaCk7bGV0IG09ITE7aWYocXIoYSxoLG4pJiYoby5hcmVhQXJlYURpc2pvaW50UHJlZGljYXRlc18odCxzKSxtPSEwKSxtfHxCcih0LHMpLCFtKXtjb25zdCBlPW5ldyBHLHI9ZS5hZGRHZW9tZXRyeSh0KSxhPWUuYWRkR2VvbWV0cnkocyk7by5zZXRFZGl0U2hhcGVDcmFja0FuZENsdXN0ZXJfKGUsbmV3IHhlKG4sMCksaSksby5jb21wdXRlTWF0cml4VG9wb0dyYXBoSGFsZkVkZ2VzXyhyLGEpLG8ubV90b3BvR3JhcGgucmVtb3ZlU2hhcGUoKX1yZXR1cm4gcHIoby5tX21hdHJpeCxvLm1fc2NsKX1mdW5jdGlvbiBhcih0LHMsbixyLGkpe2NvbnN0IG89bmV3IHZyO28ucmVzZXRNYXRyaXhfKCksby5zZXRQcmVkaWNhdGVzXyhyKSxvLnNldEFyZWFMaW5lUHJlZGljYXRlc18oKTtjb25zdCBhPWUuY29uc3RydWN0RW1wdHkoKSxoPWUuY29uc3RydWN0RW1wdHkoKTt0LnF1ZXJ5RW52ZWxvcGUoYSkscy5xdWVyeUVudmVsb3BlKGgpO2xldCBtPSExO2lmKHFyKGEsaCxuKSYmKG8uYXJlYUxpbmVEaXNqb2ludFByZWRpY2F0ZXNfKHQscyksbT0hMCksbXx8QnIodCxzKSwhbSl7Y29uc3QgZT1uZXcgRyxyPWUuYWRkR2VvbWV0cnkodCksYT1lLmFkZEdlb21ldHJ5KHMpO28uc2V0RWRpdFNoYXBlQ3JhY2tBbmRDbHVzdGVyXyhlLG5ldyB4ZShuLDApLGkpLG8ubV9jbHVzdGVySW5kZXhCPW8ubV90b3BvR3JhcGguY3JlYXRlVXNlckluZGV4Rm9yQ2x1c3RlcnMoKSx3cihhLG8ubV90b3BvR3JhcGgsby5tX2NsdXN0ZXJJbmRleEIpLG8uY29tcHV0ZU1hdHJpeFRvcG9HcmFwaEhhbGZFZGdlc18ocixhKSxvLm1fdG9wb0dyYXBoLmRlbGV0ZVVzZXJJbmRleEZvckNsdXN0ZXJzKG8ubV9jbHVzdGVySW5kZXhCKSxvLm1fdG9wb0dyYXBoLnJlbW92ZVNoYXBlKCl9cmV0dXJuIHByKG8ubV9tYXRyaXgsby5tX3NjbCl9ZnVuY3Rpb24gaHIodCxzLG4scixpKXtjb25zdCBvPW5ldyB2cjtvLnJlc2V0TWF0cml4XygpLG8uc2V0UHJlZGljYXRlc18ociksby5zZXRBcmVhUG9pbnRQcmVkaWNhdGVzXygpO2NvbnN0IGE9ZS5jb25zdHJ1Y3RFbXB0eSgpLGg9ZS5jb25zdHJ1Y3RFbXB0eSgpO3QucXVlcnlFbnZlbG9wZShhKSxzLnF1ZXJ5RW52ZWxvcGUoaCk7bGV0IG09ITE7aWYocXIoYSxoLG4pJiYoby5hcmVhUG9pbnREaXNqb2ludFByZWRpY2F0ZXNfKHQpLG09ITApLG18fEJyKHQscyksIW0pe2NvbnN0IGU9bmV3IEcscj1lLmFkZEdlb21ldHJ5KHQpLGE9ZS5hZGRHZW9tZXRyeShzKTtvLnNldEVkaXRTaGFwZUNyYWNrQW5kQ2x1c3Rlcl8oZSxuZXcgeGUobiwwKSxpKSxvLmNvbXB1dGVNYXRyaXhUb3BvR3JhcGhDbHVzdGVyc18ocixhKSxvLm1fdG9wb0dyYXBoLnJlbW92ZVNoYXBlKCl9cmV0dXJuIHByKG8ubV9tYXRyaXgsby5tX3NjbCl9ZnVuY3Rpb24gbXIodCxzLG4scixpKXtjb25zdCBvPW5ldyB2cjtvLnJlc2V0TWF0cml4XygpLG8uc2V0UHJlZGljYXRlc18ociksby5zZXRMaW5lTGluZVByZWRpY2F0ZXNfKCk7Y29uc3QgYT1lLmNvbnN0cnVjdEVtcHR5KCksaD1lLmNvbnN0cnVjdEVtcHR5KCk7dC5xdWVyeUVudmVsb3BlKGEpLHMucXVlcnlFbnZlbG9wZShoKTtsZXQgbT0hMTtpZihxcihhLGgsbikmJihvLmxpbmVMaW5lRGlzam9pbnRQcmVkaWNhdGVzXyh0LHMpLG09ITApLG18fEJyKHQscyksIW0pe2NvbnN0IGU9bmV3IEcscj1lLmFkZEdlb21ldHJ5KHQpLGE9ZS5hZGRHZW9tZXRyeShzKTtvLnNldEVkaXRTaGFwZUNyYWNrQW5kQ2x1c3Rlcl8oZSxuZXcgeGUobiwwKSxpKSxvLm1fY2x1c3RlckluZGV4QT1vLm1fdG9wb0dyYXBoLmNyZWF0ZVVzZXJJbmRleEZvckNsdXN0ZXJzKCksby5tX2NsdXN0ZXJJbmRleEI9by5tX3RvcG9HcmFwaC5jcmVhdGVVc2VySW5kZXhGb3JDbHVzdGVycygpLHdyKHIsby5tX3RvcG9HcmFwaCxvLm1fY2x1c3RlckluZGV4QSksd3IoYSxvLm1fdG9wb0dyYXBoLG8ubV9jbHVzdGVySW5kZXhCKSxvLmNvbXB1dGVNYXRyaXhUb3BvR3JhcGhIYWxmRWRnZXNfKHIsYSksby5tX3RvcG9HcmFwaC5kZWxldGVVc2VySW5kZXhGb3JDbHVzdGVycyhvLm1fY2x1c3RlckluZGV4QSksby5tX3RvcG9HcmFwaC5kZWxldGVVc2VySW5kZXhGb3JDbHVzdGVycyhvLm1fY2x1c3RlckluZGV4Qiksby5tX3RvcG9HcmFwaC5yZW1vdmVTaGFwZSgpfXJldHVybiBwcihvLm1fbWF0cml4LG8ubV9zY2wpfWZ1bmN0aW9uIGxyKHQscyxuLHIsaSl7Y29uc3Qgbz1uZXcgdnI7by5yZXNldE1hdHJpeF8oKSxvLnNldFByZWRpY2F0ZXNfKHIpLG8uc2V0TGluZVBvaW50UHJlZGljYXRlc18oKTtjb25zdCBhPWUuY29uc3RydWN0RW1wdHkoKSxoPWUuY29uc3RydWN0RW1wdHkoKTt0LnF1ZXJ5RW52ZWxvcGUoYSkscy5xdWVyeUVudmVsb3BlKGgpO2xldCBtPSExO2lmKHFyKGEsaCxuKSYmKG8ubGluZVBvaW50RGlzam9pbnRQcmVkaWNhdGVzXyh0KSxtPSEwKSxtfHxCcih0LHMpLCFtKXtjb25zdCBlPW5ldyBHLHI9ZS5hZGRHZW9tZXRyeSh0KSxhPWUuYWRkR2VvbWV0cnkocyk7by5zZXRFZGl0U2hhcGVDcmFja0FuZENsdXN0ZXJfKGUsbmV3IHhlKG4sMCksaSksby5tX2NsdXN0ZXJJbmRleEE9by5tX3RvcG9HcmFwaC5jcmVhdGVVc2VySW5kZXhGb3JDbHVzdGVycygpLHdyKHIsby5tX3RvcG9HcmFwaCxvLm1fY2x1c3RlckluZGV4QSksby5jb21wdXRlTWF0cml4VG9wb0dyYXBoQ2x1c3RlcnNfKHIsYSksby5tX3RvcG9HcmFwaC5kZWxldGVVc2VySW5kZXhGb3JDbHVzdGVycyhvLm1fY2x1c3RlckluZGV4QSksby5tX3RvcG9HcmFwaC5yZW1vdmVTaGFwZSgpfXJldHVybiBwcihvLm1fbWF0cml4LG8ubV9zY2wpfWZ1bmN0aW9uIGdyKHQscyxuLHIsaSl7Y29uc3Qgbz1uZXcgdnI7by5yZXNldE1hdHJpeF8oKSxvLnNldFByZWRpY2F0ZXNfKHIpLG8uc2V0UG9pbnRQb2ludFByZWRpY2F0ZXNfKCk7Y29uc3QgYT1uZXcgZSxoPW5ldyBlO3QucXVlcnlFbnZlbG9wZShhKSxzLnF1ZXJ5RW52ZWxvcGUoaCk7bGV0IG09ITE7aWYocXIoYSxoLG4pJiYoby5wb2ludFBvaW50RGlzam9pbnRQcmVkaWNhdGVzXygpLG09ITApLCFtKXtjb25zdCBlPW5ldyBHLHI9ZS5hZGRHZW9tZXRyeSh0KSxhPWUuYWRkR2VvbWV0cnkocyk7by5zZXRFZGl0U2hhcGVDcmFja0FuZENsdXN0ZXJfKGUsbmV3IHhlKG4sMCksaSksby5jb21wdXRlTWF0cml4VG9wb0dyYXBoQ2x1c3RlcnNfKHIsYSksby5tX3RvcG9HcmFwaC5yZW1vdmVTaGFwZSgpfXJldHVybiBwcihvLm1fbWF0cml4LG8ubV9zY2wpfWZ1bmN0aW9uIHVyKHQscyxuLHIsaSl7Y29uc3Qgbz1uZXcgdnI7by5yZXNldE1hdHJpeF8oKSxvLnNldFByZWRpY2F0ZXNfKHIpLG8uc2V0QXJlYVBvaW50UHJlZGljYXRlc18oKTtjb25zdCBhPWUuY29uc3RydWN0RW1wdHkoKTt0LnF1ZXJ5RW52ZWxvcGUoYSk7Y29uc3QgaD1zLmdldFhZKCk7bGV0IG09ITE7aWYoT3IoaCxhLG4pJiYoby5hcmVhUG9pbnREaXNqb2ludFByZWRpY2F0ZXNfKHQpLG09ITApLCFtKXtjb25zdCBzPUxvKHQsaCxuKTtpZigxPT09cylvLm1fbWF0cml4WzBdPTAsby5tX21hdHJpeFsyXT0yLG8ubV9tYXRyaXhbM109LTEsby5tX21hdHJpeFs1XT0xLG8ubV9tYXRyaXhbNl09LTE7ZWxzZSBpZigyPT09cyl7by5tX21hdHJpeFs2XT0tMTtpZigwIT09dC5jYWxjdWxhdGVBcmVhMkQoKSlvLm1fbWF0cml4WzBdPS0xLG8ubV9tYXRyaXhbM109MCxvLm1fbWF0cml4WzJdPTIsby5tX21hdHJpeFs1XT0xO2Vsc2V7by5tX21hdHJpeFswXT0wLG8ubV9tYXRyaXhbM109LTEsby5tX21hdHJpeFs1XT0tMTtjb25zdCBzPWUuY29uc3RydWN0RW1wdHkoKTt0LnF1ZXJ5RW52ZWxvcGUocyksby5tX21hdHJpeFsyXT1zLmhlaWdodCgpfHxzLndpZHRoKCk/MTotMX19ZWxzZSBvLmFyZWFQb2ludERpc2pvaW50UHJlZGljYXRlc18odCl9cmV0dXJuIHByKG8ubV9tYXRyaXgscil9ZnVuY3Rpb24gY3IodCxzLG4scixpKXtjb25zdCBvPW5ldyB2cjtvLnJlc2V0TWF0cml4XygpLG8uc2V0UHJlZGljYXRlc18ociksby5zZXRMaW5lUG9pbnRQcmVkaWNhdGVzXygpO2NvbnN0IGE9ZS5jb25zdHJ1Y3RFbXB0eSgpO3QucXVlcnlFbnZlbG9wZShhKTtsZXQgaD0hMTtpZihPcihzLmdldFhZKCksYSxuKSYmKG8ubGluZVBvaW50RGlzam9pbnRQcmVkaWNhdGVzXyh0KSxoPSEwKSwhaCl7bGV0IGU9bnVsbCxyPSExLGE9ITE7aWYoby5tX3BlcmZvcm1QcmVkaWNhdGVzWzBdfHxvLm1fcGVyZm9ybVByZWRpY2F0ZXNbNl0peyFrcih0LHMsbiw0LGkpPyhvLm1fcGVyZm9ybVByZWRpY2F0ZXNbMF0mJihlPUQodCksYT0ha3IoZSxzLG4sNCxpKSxyPSEwLG8ubV9tYXRyaXhbMF09YT8tMTowKSxvLm1fbWF0cml4WzZdPS0xKTooby5tX21hdHJpeFswXT0tMSxvLm1fbWF0cml4WzZdPTApfWlmKG8ubV9wZXJmb3JtUHJlZGljYXRlc1szXSYmKG51bGwhPT1lJiZlLmlzRW1wdHkoKT9vLm1fbWF0cml4WzNdPS0xOihyfHwobnVsbD09ZSYmKGU9RCh0KSksYT0ha3IoZSxzLG4sNCxpKSxyPSEwKSxvLm1fbWF0cml4WzNdPWE/MDotMSkpLG8ubV9wZXJmb3JtUHJlZGljYXRlc1s1XSlpZihudWxsIT09ZSYmZS5pc0VtcHR5KCkpby5tX21hdHJpeFs1XT0tMTtlbHNlIGlmKHImJiFhKW8ubV9tYXRyaXhbNV09MDtlbHNle251bGw9PT1lJiYoZT1EKHQpKTtjb25zdCByPWtyKGUscyxuLDMsaSk7by5tX21hdHJpeFs1XT1yPy0xOjB9aWYoby5tX3BlcmZvcm1QcmVkaWNhdGVzWzJdKXtpZigwIT09dC5jYWxjdWxhdGVMZW5ndGgyRCgpKW8ubV9tYXRyaXhbMl09MTtlbHNle2NvbnN0IGU9bmV3IE4oe3ZkOnQuZ2V0RGVzY3JpcHRpb24oKX0pO2UuYWRkUG9pbnRzKHQsMCx0LmdldFBvaW50Q291bnQoKSk7Y29uc3Qgcj1rcihlLHMsbiwzLGkpO28ubV9tYXRyaXhbMl09cj8tMTowfX19cmV0dXJuIHByKG8ubV9tYXRyaXgsby5tX3NjbCl9ZnVuY3Rpb24gX3IodCxzLG4scixpKXtjb25zdCBvPW5ldyB2cjtvLnJlc2V0TWF0cml4XygpLG8uc2V0UHJlZGljYXRlc18ociksby5zZXRQb2ludFBvaW50UHJlZGljYXRlc18oKTtjb25zdCBhPWUuY29uc3RydWN0RW1wdHkoKTt0LnF1ZXJ5RW52ZWxvcGUoYSk7Y29uc3QgaD1zLmdldFhZKCksbT1uZXcgUWU7bGV0IGw9ITE7aWYoT3IoaCxhLG4pJiYoby5wb2ludFBvaW50RGlzam9pbnRQcmVkaWNhdGVzXygpLGw9ITApLCFsKXtsZXQgZT0hMSxzPSEwO2NvbnN0IHI9bipuO2ZvcihsZXQgbj0wO248dC5nZXRQb2ludENvdW50KCkmJih0LnF1ZXJ5WFkobixtKSxRZS5zcXJEaXN0YW5jZShtLGgpPD1yP2U9ITA6cz0hMSwhZXx8cyk7bisrKTtlPyhvLm1fbWF0cml4WzBdPTAsby5tX21hdHJpeFsyXT1zPy0xOjAsby5tX21hdHJpeFs2XT0tMSk6KG8ubV9tYXRyaXhbMF09LTEsby5tX21hdHJpeFsyXT0wLG8ubV9tYXRyaXhbNl09MCl9cmV0dXJuIHByKG8ubV9tYXRyaXgscil9ZnVuY3Rpb24gZHIoZSx0LHMsbixyKXtjb25zdCBpPWUuZ2V0WFkoKSxvPXQuZ2V0WFkoKSxhPUtlKDksLTEpO1FlLnNxckRpc3RhbmNlKGksbyk8PXMqcz9hWzBdPTA6KGFbMl09MCxhWzZdPTApLGFbOF09MjtyZXR1cm4gcHIoYSxuKX1mdW5jdGlvbiBwcihlLHQpe2ZvcihsZXQgcz0wO3M8OTtzKyspc3dpdGNoKHRbc10pe2Nhc2VcIlRcIjppZigtMT09PWVbc10pcmV0dXJuITE7YnJlYWs7Y2FzZVwiRlwiOmlmKC0xIT09ZVtzXSlyZXR1cm4hMTticmVhaztjYXNlXCIwXCI6aWYoMCE9PWVbc10pcmV0dXJuITE7YnJlYWs7Y2FzZVwiMVwiOmlmKDEhPT1lW3NdKXJldHVybiExO2JyZWFrO2Nhc2VcIjJcIjppZigyIT09ZVtzXSlyZXR1cm4hMX1yZXR1cm4hMH1mdW5jdGlvbiBmcih0LHMscil7Y29uc3QgaT1LZSg5LC0xKTtpZih0LmlzRW1wdHkoKSYmcy5pc0VtcHR5KCkpcmV0dXJuIHByKGkscik7bGV0IGEsaD0hMTt0LmlzRW1wdHkoKT8oYT1zLGg9ITApOmE9dCxpWzBdPS0xLGlbMV09LTEsaVszXT0tMSxpWzRdPS0xLGlbNl09LTEsaVs3XT0tMSxpWzhdPTI7Y29uc3QgbT1hLmdldEdlb21ldHJ5VHlwZSgpO2lmKG8obSkpaWYobT09PW4uZW51bVBvbHlnb24pe2lmKDAhPT1hLmNhbGN1bGF0ZUFyZWEyRCgpKWlbMl09MixpWzVdPTE7ZWxzZXtpWzVdPS0xO2NvbnN0IHQ9ZS5jb25zdHJ1Y3RFbXB0eSgpO2EucXVlcnlFbnZlbG9wZSh0KSxpWzJdPXQuaGVpZ2h0KCl8fHQud2lkdGgoKT8xOjB9fWVsc2V7Y29uc3QgZT0wIT09YS5jYWxjdWxhdGVMZW5ndGgyRCgpO2lbMl09ZT8xOjAsaVs1XT1UKGEpPzA6LTF9ZWxzZSBpWzJdPTAsaVs1XT0tMTtyZXR1cm4gaCYmTnIoaSkscHIoaSxyKX1mdW5jdGlvbiB4cihlLHQscyl7cmV0dXJuIHlyKGUpPzM6UHIoZSk/NDpFcihlLHQscyk/ODpTcihlLHQscyk/MTY6SXIoZSk/NjQ6Q3IoZSk/MTpicihlLHQscyk/MzI6MH1mdW5jdGlvbiB5cihlKXtyZXR1cm5cIlQqRioqRkZGKlwiPT09ZX1mdW5jdGlvbiBQcihlKXtyZXR1cm5cIkZGKkZGKioqKlwiPT09ZX1mdW5jdGlvbiBFcihlLHQscyl7cmV0dXJuKDAhPT10fHwwIT09cykmJigyPT09dCYmMj09PXM/XCJGKioqVCoqKipcIj09PWU6KDI9PT10fHwxPT09dCkmJjA9PT1zJiZcIkYqKlQqKioqKlwiPT09ZSl9ZnVuY3Rpb24gU3IoZSx0LHMpe3JldHVybiB0PnM/XCJUKioqKipUKipcIj09PWU6MT09PXQmJjE9PT1zJiZcIjAqKioqKioqKlwiPT09ZX1mdW5jdGlvbiBDcihlKXtyZXR1cm5cIlQqKioqKkZGKlwiPT09ZX1mdW5jdGlvbiBJcihlKXtyZXR1cm5cIlQqKkZGKkZGKlwiPT09ZX1mdW5jdGlvbiBicihlLHQscyl7cmV0dXJuIHQ9PT1zJiYoMSE9PXQ/XCJUKlQqKipUKipcIj09PWU6XCIxKlQqKipUKipcIj09PWUpfWZ1bmN0aW9uIHdyKGUsdCxzKXtjb25zdCBuPXQuZ2V0R2VvbWV0cnlJRChlKTtmb3IobGV0IHI9dC5nZXRGaXJzdENsdXN0ZXIoKTtyIT09TTtyPXQuZ2V0TmV4dENsdXN0ZXIocikpe2lmKDA9PT0odC5nZXRDbHVzdGVyUGFyZW50YWdlKHIpJm4pKWNvbnRpbnVlO2NvbnN0IGU9dC5nZXRDbHVzdGVySGFsZkVkZ2Uocik7aWYoZT09PU0pe3Quc2V0Q2x1c3RlclVzZXJJbmRleChyLHMsMCk7Y29udGludWV9bGV0IGk9ZSxvPTA7ZG97Y29uc3QgZT1pOzAhPT0odC5nZXRIYWxmRWRnZVBhcmVudGFnZShlKSZuKSYmbysrLGk9dC5nZXRIYWxmRWRnZU5leHQodC5nZXRIYWxmRWRnZVR3aW4oZSkpfXdoaWxlKGkhPT1lKTt0LnNldENsdXN0ZXJVc2VySW5kZXgocixzLG8pfX1jbGFzcyB2cntudWxsRnVuYygpe3JldHVybiBpKFwic2hvdWxkIG5vdCBiZSBjYWxsZWRcIiksITF9Y29uc3RydWN0b3IoKXt0aGlzLm1fY2x1c3RlckluZGV4QT0tMSx0aGlzLm1fY2x1c3RlckluZGV4Qj0tMSx0aGlzLm1fdmlzaXRlZEluZGV4PS0xLHRoaXMubV90b3BvR3JhcGg9bmV3IHRuLHRoaXMubV9tYXRyaXg9S2UoOSwwKSx0aGlzLm1fbWF4RGltPUtlKDksMCksdGhpcy5tX3BlcmZvcm1QcmVkaWNhdGVzPUtlKDksITEpLHRoaXMubV9zY2w9XCJcIix0aGlzLm1fcHJlZGljYXRlQ291bnQ9MCx0aGlzLm1fcHJlZGljYXRlc0hhbGZFZGdlPXRoaXMubnVsbEZ1bmMsdGhpcy5tX3ByZWRpY2F0ZXNDbHVzdGVyPXRoaXMubnVsbEZ1bmN9cmVzZXRNYXRyaXhfKCl7dGhpcy5tX21hdHJpeC5maWxsKC0yKSx0aGlzLm1fbWF4RGltLmZpbGwoLTIpfXNldFByZWRpY2F0ZXNfKGUpe3RoaXMubV9zY2w9ZTtmb3IobGV0IHQ9MDt0PDk7dCsrKVwiKlwiIT09dGhpcy5tX3NjbFt0XT8odGhpcy5tX3BlcmZvcm1QcmVkaWNhdGVzW3RdPSEwLHRoaXMubV9wcmVkaWNhdGVDb3VudCsrKTp0aGlzLm1fcGVyZm9ybVByZWRpY2F0ZXNbdF09ITF9c2V0UmVtYWluaW5nUHJlZGljYXRlc1RvRmFsc2VfKCl7Zm9yKGxldCBlPTA7ZTw5O2UrKyl0aGlzLm1fcGVyZm9ybVByZWRpY2F0ZXNbZV0mJi0yPT09dGhpcy5tX21hdHJpeFtlXSYmKHRoaXMubV9tYXRyaXhbZV09LTEsdGhpcy5tX3BlcmZvcm1QcmVkaWNhdGVzW2VdPSExKX1pc1ByZWRpY2F0ZUtub3duXyhlKXtyZXR1cm4tMiE9PXRoaXMubV9tYXRyaXhbZV0mJigtMT09PXRoaXMubV9tYXRyaXhbZV0/KHRoaXMubV9wZXJmb3JtUHJlZGljYXRlc1tlXT0hMSx0aGlzLm1fcHJlZGljYXRlQ291bnQtLSwhMCk6XCJUXCIhPT10aGlzLm1fc2NsW2VdJiZcIkZcIiE9PXRoaXMubV9zY2xbZV0/ISh0aGlzLm1fbWF0cml4W2VdPHRoaXMubV9tYXhEaW1bZV0pJiYodGhpcy5tX3BlcmZvcm1QcmVkaWNhdGVzW2VdPSExLHRoaXMubV9wcmVkaWNhdGVDb3VudC0tLCEwKToodGhpcy5tX3BlcmZvcm1QcmVkaWNhdGVzW2VdPSExLHRoaXMubV9wcmVkaWNhdGVDb3VudC0tLCEwKSl9c2V0QXJlYUFyZWFQcmVkaWNhdGVzXygpe3RoaXMubV9wcmVkaWNhdGVzSGFsZkVkZ2U9dGhpcy5hcmVhQXJlYVByZWRpY2F0ZXNfLHRoaXMubV9tYXhEaW1bMF09Mix0aGlzLm1fbWF4RGltWzFdPTEsdGhpcy5tX21heERpbVsyXT0yLHRoaXMubV9tYXhEaW1bM109MSx0aGlzLm1fbWF4RGltWzRdPTEsdGhpcy5tX21heERpbVs1XT0xLHRoaXMubV9tYXhEaW1bNl09Mix0aGlzLm1fbWF4RGltWzddPTEsdGhpcy5tX21heERpbVs4XT0yLHRoaXMubV9wZXJmb3JtUHJlZGljYXRlc1s4XSYmKHRoaXMubV9tYXRyaXhbOF09Mix0aGlzLm1fcGVyZm9ybVByZWRpY2F0ZXNbOF09ITEsdGhpcy5tX3ByZWRpY2F0ZUNvdW50LS0pfXNldEFyZWFMaW5lUHJlZGljYXRlc18oKXt0aGlzLm1fcHJlZGljYXRlc0hhbGZFZGdlPXRoaXMuYXJlYUxpbmVQcmVkaWNhdGVzXyx0aGlzLm1fcHJlZGljYXRlc0NsdXN0ZXI9dGhpcy5hcmVhUG9pbnRQcmVkaWNhdGVzXyx0aGlzLm1fbWF4RGltWzBdPTEsdGhpcy5tX21heERpbVsxXT0wLHRoaXMubV9tYXhEaW1bMl09Mix0aGlzLm1fbWF4RGltWzNdPTEsdGhpcy5tX21heERpbVs0XT0wLHRoaXMubV9tYXhEaW1bNV09MSx0aGlzLm1fbWF4RGltWzZdPTEsdGhpcy5tX21heERpbVs3XT0wLHRoaXMubV9tYXhEaW1bOF09Mix0aGlzLm1fcGVyZm9ybVByZWRpY2F0ZXNbOF0mJih0aGlzLm1fbWF0cml4WzhdPTIsdGhpcy5tX3BlcmZvcm1QcmVkaWNhdGVzWzhdPSExLHRoaXMubV9wcmVkaWNhdGVDb3VudC0tKX1zZXRMaW5lTGluZVByZWRpY2F0ZXNfKCl7dGhpcy5tX3ByZWRpY2F0ZXNIYWxmRWRnZT10aGlzLmxpbmVMaW5lUHJlZGljYXRlc18sdGhpcy5tX3ByZWRpY2F0ZXNDbHVzdGVyPXRoaXMubGluZVBvaW50UHJlZGljYXRlc18sdGhpcy5tX21heERpbVswXT0xLHRoaXMubV9tYXhEaW1bMV09MCx0aGlzLm1fbWF4RGltWzJdPTEsdGhpcy5tX21heERpbVszXT0wLHRoaXMubV9tYXhEaW1bNF09MCx0aGlzLm1fbWF4RGltWzVdPTAsdGhpcy5tX21heERpbVs2XT0xLHRoaXMubV9tYXhEaW1bN109MCx0aGlzLm1fbWF4RGltWzhdPTIsdGhpcy5tX3BlcmZvcm1QcmVkaWNhdGVzWzhdJiYodGhpcy5tX21hdHJpeFs4XT0yLHRoaXMubV9wZXJmb3JtUHJlZGljYXRlc1s4XT0hMSx0aGlzLm1fcHJlZGljYXRlQ291bnQtLSl9c2V0QXJlYVBvaW50UHJlZGljYXRlc18oKXt0aGlzLm1fcHJlZGljYXRlc0NsdXN0ZXI9dGhpcy5hcmVhUG9pbnRQcmVkaWNhdGVzXyx0aGlzLm1fbWF4RGltWzBdPTAsdGhpcy5tX21heERpbVsxXT0tMSx0aGlzLm1fbWF4RGltWzJdPTIsdGhpcy5tX21heERpbVszXT0wLHRoaXMubV9tYXhEaW1bNF09LTEsdGhpcy5tX21heERpbVs1XT0xLHRoaXMubV9tYXhEaW1bNl09MCx0aGlzLm1fbWF4RGltWzddPS0xLHRoaXMubV9tYXhEaW1bOF09Mix0aGlzLm1fcGVyZm9ybVByZWRpY2F0ZXNbMV0mJih0aGlzLm1fbWF0cml4WzFdPS0xLHRoaXMubV9wZXJmb3JtUHJlZGljYXRlc1sxXT0hMSx0aGlzLm1fcHJlZGljYXRlQ291bnQtLSksdGhpcy5tX3BlcmZvcm1QcmVkaWNhdGVzWzRdJiYodGhpcy5tX21hdHJpeFs0XT0tMSx0aGlzLm1fcGVyZm9ybVByZWRpY2F0ZXNbNF09ITEsdGhpcy5tX3ByZWRpY2F0ZUNvdW50LS0pLHRoaXMubV9wZXJmb3JtUHJlZGljYXRlc1s3XSYmKHRoaXMubV9tYXRyaXhbN109LTEsdGhpcy5tX3BlcmZvcm1QcmVkaWNhdGVzWzddPSExLHRoaXMubV9wcmVkaWNhdGVDb3VudC0tKSx0aGlzLm1fcGVyZm9ybVByZWRpY2F0ZXNbOF0mJih0aGlzLm1fbWF0cml4WzhdPTIsdGhpcy5tX3BlcmZvcm1QcmVkaWNhdGVzWzhdPSExLHRoaXMubV9wcmVkaWNhdGVDb3VudC0tKX1zZXRMaW5lUG9pbnRQcmVkaWNhdGVzXygpe3RoaXMubV9wcmVkaWNhdGVzQ2x1c3Rlcj10aGlzLmxpbmVQb2ludFByZWRpY2F0ZXNfLHRoaXMubV9tYXhEaW1bMF09MCx0aGlzLm1fbWF4RGltWzFdPS0xLHRoaXMubV9tYXhEaW1bMl09MSx0aGlzLm1fbWF4RGltWzNdPTAsdGhpcy5tX21heERpbVs0XT0tMSx0aGlzLm1fbWF4RGltWzVdPTAsdGhpcy5tX21heERpbVs2XT0wLHRoaXMubV9tYXhEaW1bN109LTEsdGhpcy5tX21heERpbVs4XT0yLHRoaXMubV9wZXJmb3JtUHJlZGljYXRlc1sxXSYmKHRoaXMubV9tYXRyaXhbMV09LTEsdGhpcy5tX3BlcmZvcm1QcmVkaWNhdGVzWzFdPSExLHRoaXMubV9wcmVkaWNhdGVDb3VudC0tKSx0aGlzLm1fcGVyZm9ybVByZWRpY2F0ZXNbNF0mJih0aGlzLm1fbWF0cml4WzRdPS0xLHRoaXMubV9wZXJmb3JtUHJlZGljYXRlc1s0XT0hMSx0aGlzLm1fcHJlZGljYXRlQ291bnQtLSksdGhpcy5tX3BlcmZvcm1QcmVkaWNhdGVzWzddJiYodGhpcy5tX21hdHJpeFs3XT0tMSx0aGlzLm1fcGVyZm9ybVByZWRpY2F0ZXNbN109ITEsdGhpcy5tX3ByZWRpY2F0ZUNvdW50LS0pLHRoaXMubV9wZXJmb3JtUHJlZGljYXRlc1s4XSYmKHRoaXMubV9tYXRyaXhbOF09Mix0aGlzLm1fcGVyZm9ybVByZWRpY2F0ZXNbOF09ITEsdGhpcy5tX3ByZWRpY2F0ZUNvdW50LS0pfXNldFBvaW50UG9pbnRQcmVkaWNhdGVzXygpe3RoaXMubV9wcmVkaWNhdGVzQ2x1c3Rlcj10aGlzLnBvaW50UG9pbnRQcmVkaWNhdGVzXyx0aGlzLm1fbWF4RGltWzBdPTAsdGhpcy5tX21heERpbVsxXT0tMSx0aGlzLm1fbWF4RGltWzJdPTAsdGhpcy5tX21heERpbVszXT0tMSx0aGlzLm1fbWF4RGltWzRdPS0xLHRoaXMubV9tYXhEaW1bNV09LTEsdGhpcy5tX21heERpbVs2XT0wLHRoaXMubV9tYXhEaW1bN109LTEsdGhpcy5tX21heERpbVs4XT0yLHRoaXMubV9wZXJmb3JtUHJlZGljYXRlc1sxXSYmKHRoaXMubV9tYXRyaXhbMV09LTEsdGhpcy5tX3BlcmZvcm1QcmVkaWNhdGVzWzFdPSExLHRoaXMubV9wcmVkaWNhdGVDb3VudC0tKSx0aGlzLm1fcGVyZm9ybVByZWRpY2F0ZXNbM10mJih0aGlzLm1fbWF0cml4WzNdPS0xLHRoaXMubV9wZXJmb3JtUHJlZGljYXRlc1szXT0hMSx0aGlzLm1fcHJlZGljYXRlQ291bnQtLSksdGhpcy5tX3BlcmZvcm1QcmVkaWNhdGVzWzRdJiYodGhpcy5tX21hdHJpeFs0XT0tMSx0aGlzLm1fcGVyZm9ybVByZWRpY2F0ZXNbNF09ITEsdGhpcy5tX3ByZWRpY2F0ZUNvdW50LS0pLHRoaXMubV9wZXJmb3JtUHJlZGljYXRlc1s1XSYmKHRoaXMubV9tYXRyaXhbNV09LTEsdGhpcy5tX3BlcmZvcm1QcmVkaWNhdGVzWzVdPSExLHRoaXMubV9wcmVkaWNhdGVDb3VudC0tKSx0aGlzLm1fcGVyZm9ybVByZWRpY2F0ZXNbN10mJih0aGlzLm1fbWF0cml4WzddPS0xLHRoaXMubV9wZXJmb3JtUHJlZGljYXRlc1s3XT0hMSx0aGlzLm1fcHJlZGljYXRlQ291bnQtLSksdGhpcy5tX3BlcmZvcm1QcmVkaWNhdGVzWzhdJiYodGhpcy5tX21hdHJpeFs4XT0yLHRoaXMubV9wZXJmb3JtUHJlZGljYXRlc1s4XT0hMSx0aGlzLm1fcHJlZGljYXRlQ291bnQtLSl9YXJlYUFyZWFEaXNqb2ludFByZWRpY2F0ZXNfKGUsdCl7dGhpcy5tX21hdHJpeFswXT0tMSx0aGlzLm1fbWF0cml4WzFdPS0xLHRoaXMubV9tYXRyaXhbM109LTEsdGhpcy5tX21hdHJpeFs0XT0tMSx0aGlzLmFyZWFHZW9tQ29udGFpbnNPckRpc2pvaW50UHJlZGljYXRlc18oZSx0aGlzLm1fcGVyZm9ybVByZWRpY2F0ZXNbMl0/MjotMSx0aGlzLm1fc2NsWzJdLHRoaXMubV9wZXJmb3JtUHJlZGljYXRlc1s1XT81Oi0xLHRoaXMubV9zY2xbNV0pLHRoaXMuYXJlYUdlb21Db250YWluc09yRGlzam9pbnRQcmVkaWNhdGVzXyh0LHRoaXMubV9wZXJmb3JtUHJlZGljYXRlc1s2XT82Oi0xLHRoaXMubV9zY2xbNl0sdGhpcy5tX3BlcmZvcm1QcmVkaWNhdGVzWzddPzc6LTEsdGhpcy5tX3NjbFs3XSl9YXJlYUdlb21Db250YWluc09yRGlzam9pbnRQcmVkaWNhdGVzXyh0LHMsbixyLGkpe2NvbnN0IG89LTEhPT1zLGE9LTEhPT1yO2lmKG98fGEpe2lmKCEoXCJUXCIhPT1uJiZcIkZcIiE9PW4mJm98fFwiVFwiIT09aSYmXCJGXCIhPT1pJiZhKXx8MCE9PXQuY2FsY3VsYXRlQXJlYTJEKCkpbyYmKHRoaXMubV9tYXRyaXhbc109MiksYSYmKHRoaXMubV9tYXRyaXhbcl09MSk7ZWxzZSBpZihhJiYodGhpcy5tX21hdHJpeFtyXT0tMSksbyl7Y29uc3Qgbj1lLmNvbnN0cnVjdEVtcHR5KCk7dC5xdWVyeUVudmVsb3BlKG4pLHRoaXMubV9tYXRyaXhbc109bi5oZWlnaHQoKXx8bi53aWR0aCgpPzE6MH19fWFyZWFBcmVhQ29udGFpbnNQcmVkaWNhdGVzXyhlKXt0aGlzLm1fbWF0cml4WzJdPTIsdGhpcy5tX21hdHJpeFszXT0tMSx0aGlzLm1fbWF0cml4WzRdPS0xLHRoaXMubV9tYXRyaXhbNV09MSx0aGlzLm1fbWF0cml4WzZdPS0xLHRoaXMubV9tYXRyaXhbN109LTEsdGhpcy5hcmVhR2VvbUNvbnRhaW5zT3JEaXNqb2ludFByZWRpY2F0ZXNfKGUsdGhpcy5tX3BlcmZvcm1QcmVkaWNhdGVzWzBdPzA6LTEsdGhpcy5tX3NjbFswXSx0aGlzLm1fcGVyZm9ybVByZWRpY2F0ZXNbMV0/MTotMSx0aGlzLm1fc2NsWzFdKX1hcmVhQXJlYVdpdGhpblByZWRpY2F0ZXNfKGUpe3RoaXMuYXJlYUFyZWFDb250YWluc1ByZWRpY2F0ZXNfKGUpLE5yKHRoaXMubV9tYXRyaXgpfWFyZWFMaW5lRGlzam9pbnRQcmVkaWNhdGVzXyhlLHQpe2lmKHRoaXMubV9tYXRyaXhbMF09LTEsdGhpcy5tX21hdHJpeFsxXT0tMSx0aGlzLm1fbWF0cml4WzNdPS0xLHRoaXMubV9tYXRyaXhbNF09LTEsdGhpcy5tX3BlcmZvcm1QcmVkaWNhdGVzWzZdKXtjb25zdCBlPXRoaXMubV9zY2xbNl0scz1cIlRcIj09PWV8fFwiRlwiPT09ZXx8MCE9PXQuY2FsY3VsYXRlTGVuZ3RoMkQoKTt0aGlzLm1fbWF0cml4WzZdPXM/MTowfWlmKHRoaXMubV9wZXJmb3JtUHJlZGljYXRlc1s3XSl7Y29uc3QgZT1UKHQpO3RoaXMubV9tYXRyaXhbN109ZT8wOi0xfXRoaXMuYXJlYUdlb21Db250YWluc09yRGlzam9pbnRQcmVkaWNhdGVzXyhlLHRoaXMubV9wZXJmb3JtUHJlZGljYXRlc1syXT8yOi0xLHRoaXMubV9zY2xbMl0sdGhpcy5tX3BlcmZvcm1QcmVkaWNhdGVzWzVdPzU6LTEsdGhpcy5tX3NjbFs1XSl9YXJlYUxpbmVDb250YWluc1ByZWRpY2F0ZXNfKGUsdCl7aWYodGhpcy5tX3BlcmZvcm1QcmVkaWNhdGVzWzBdKXtjb25zdCBlPXRoaXMubV9zY2xbMF0scz1cIlRcIj09PWV8fFwiRlwiPT09ZXx8MCE9PXQuY2FsY3VsYXRlTGVuZ3RoMkQoKTt0aGlzLm1fbWF0cml4WzBdPXM/MTowfWlmKHRoaXMubV9wZXJmb3JtUHJlZGljYXRlc1sxXSl7Y29uc3QgZT1UKHQpO3RoaXMubV9tYXRyaXhbMV09ZT8wOi0xfXRoaXMubV9tYXRyaXhbMl09Mix0aGlzLm1fbWF0cml4WzNdPS0xLHRoaXMubV9tYXRyaXhbNF09LTEsdGhpcy5tX21hdHJpeFs1XT0xLHRoaXMubV9tYXRyaXhbNl09LTEsdGhpcy5tX21hdHJpeFs3XT0tMX1hcmVhUG9pbnREaXNqb2ludFByZWRpY2F0ZXNfKGUpe3RoaXMubV9tYXRyaXhbMF09LTEsdGhpcy5tX21hdHJpeFszXT0tMSx0aGlzLm1fbWF0cml4WzZdPTAsdGhpcy5hcmVhR2VvbUNvbnRhaW5zT3JEaXNqb2ludFByZWRpY2F0ZXNfKGUsdGhpcy5tX3BlcmZvcm1QcmVkaWNhdGVzWzJdPzI6LTEsdGhpcy5tX3NjbFsyXSx0aGlzLm1fcGVyZm9ybVByZWRpY2F0ZXNbNV0/NTotMSx0aGlzLm1fc2NsWzVdKX1hcmVhUG9pbnRDb250YWluc1ByZWRpY2F0ZXNfKGUpe3RoaXMubV9tYXRyaXhbMF09MCx0aGlzLm1fbWF0cml4WzJdPTIsdGhpcy5tX21hdHJpeFszXT0tMSx0aGlzLm1fbWF0cml4WzVdPTEsdGhpcy5tX21hdHJpeFs2XT0tMX1saW5lTGluZURpc2pvaW50UHJlZGljYXRlc18oZSx0KXtpZih0aGlzLm1fbWF0cml4WzBdPS0xLHRoaXMubV9tYXRyaXhbMV09LTEsdGhpcy5tX21hdHJpeFszXT0tMSx0aGlzLm1fbWF0cml4WzRdPS0xLHRoaXMubV9wZXJmb3JtUHJlZGljYXRlc1syXSl7Y29uc3QgdD10aGlzLm1fc2NsWzJdLHM9XCJUXCI9PT10fHxcIkZcIj09PXR8fDAhPT1lLmNhbGN1bGF0ZUxlbmd0aDJEKCk7dGhpcy5tX21hdHJpeFsyXT1zPzE6MH1pZih0aGlzLm1fcGVyZm9ybVByZWRpY2F0ZXNbNV0pe2NvbnN0IHQ9VChlKTt0aGlzLm1fbWF0cml4WzVdPXQ/MDotMX1pZih0aGlzLm1fcGVyZm9ybVByZWRpY2F0ZXNbNl0pe2NvbnN0IGU9dGhpcy5tX3NjbFs2XSxzPVwiVFwiPT09ZXx8XCJGXCI9PT1lfHwwIT09dC5jYWxjdWxhdGVMZW5ndGgyRCgpO3RoaXMubV9tYXRyaXhbNl09cz8xOjB9aWYodGhpcy5tX3BlcmZvcm1QcmVkaWNhdGVzWzddKXtjb25zdCBlPVQodCk7dGhpcy5tX21hdHJpeFs3XT1lPzA6LTF9fWxpbmVQb2ludERpc2pvaW50UHJlZGljYXRlc18oZSl7aWYodGhpcy5tX21hdHJpeFswXT0tMSx0aGlzLm1fbWF0cml4WzNdPS0xLHRoaXMubV9wZXJmb3JtUHJlZGljYXRlc1syXSl7Y29uc3QgdD10aGlzLm1fc2NsWzJdLHM9XCJUXCI9PT10fHxcIkZcIj09PXR8fDAhPT1lLmNhbGN1bGF0ZUxlbmd0aDJEKCk7dGhpcy5tX21hdHJpeFsyXT1zPzE6MH1pZih0aGlzLm1fcGVyZm9ybVByZWRpY2F0ZXNbNV0pe2NvbnN0IHQ9VChlKTt0aGlzLm1fbWF0cml4WzVdPXQ/MDotMX10aGlzLm1fbWF0cml4WzZdPTB9cG9pbnRQb2ludERpc2pvaW50UHJlZGljYXRlc18oKXt0aGlzLm1fbWF0cml4WzBdPS0xLHRoaXMubV9tYXRyaXhbMl09MCx0aGlzLm1fbWF0cml4WzZdPTB9YXJlYUFyZWFQcmVkaWNhdGVzXyhlLHQscyl7bGV0IG49ITA7aWYodGhpcy5tX3BlcmZvcm1QcmVkaWNhdGVzWzBdKXt0aGlzLmludGVyaW9yQXJlYUludGVyaW9yQXJlYV8oZSx0LHMpO2NvbnN0IHI9dGhpcy5pc1ByZWRpY2F0ZUtub3duXygwKTtuJiY9cn1pZih0aGlzLm1fcGVyZm9ybVByZWRpY2F0ZXNbMV0pe3RoaXMuaW50ZXJpb3JBcmVhQm91bmRhcnlBcmVhXyhlLHQsMSk7Y29uc3Qgcz10aGlzLmlzUHJlZGljYXRlS25vd25fKDEpO24mJj1zfWlmKHRoaXMubV9wZXJmb3JtUHJlZGljYXRlc1syXSl7dGhpcy5pbnRlcmlvckFyZWFFeHRlcmlvckFyZWFfKGUsdCxzLDIpO2NvbnN0IHI9dGhpcy5pc1ByZWRpY2F0ZUtub3duXygyKTtuJiY9cn1pZih0aGlzLm1fcGVyZm9ybVByZWRpY2F0ZXNbM10pe3RoaXMuaW50ZXJpb3JBcmVhQm91bmRhcnlBcmVhXyhlLHMsMyk7Y29uc3QgdD10aGlzLmlzUHJlZGljYXRlS25vd25fKDMpO24mJj10fWlmKHRoaXMubV9wZXJmb3JtUHJlZGljYXRlc1s0XSl7dGhpcy5ib3VuZGFyeUFyZWFCb3VuZGFyeUFyZWFfKGUsdCxzKTtjb25zdCByPXRoaXMuaXNQcmVkaWNhdGVLbm93bl8oNCk7biYmPXJ9aWYodGhpcy5tX3BlcmZvcm1QcmVkaWNhdGVzWzVdKXt0aGlzLmJvdW5kYXJ5QXJlYUV4dGVyaW9yQXJlYV8oZSx0LHMsNSk7Y29uc3Qgcj10aGlzLmlzUHJlZGljYXRlS25vd25fKDUpO24mJj1yfWlmKHRoaXMubV9wZXJmb3JtUHJlZGljYXRlc1s2XSl7dGhpcy5pbnRlcmlvckFyZWFFeHRlcmlvckFyZWFfKGUscyx0LDYpO2NvbnN0IHI9dGhpcy5pc1ByZWRpY2F0ZUtub3duXyg2KTtuJiY9cn1pZih0aGlzLm1fcGVyZm9ybVByZWRpY2F0ZXNbN10pe3RoaXMuYm91bmRhcnlBcmVhRXh0ZXJpb3JBcmVhXyhlLHMsdCw3KTtjb25zdCByPXRoaXMuaXNQcmVkaWNhdGVLbm93bl8oNyk7biYmPXJ9cmV0dXJuIG59YXJlYUxpbmVQcmVkaWNhdGVzXyhlLHQscyl7bGV0IG49ITA7aWYodGhpcy5tX3BlcmZvcm1QcmVkaWNhdGVzWzBdKXt0aGlzLmludGVyaW9yQXJlYUludGVyaW9yTGluZV8oZSx0LHMpO2NvbnN0IHI9dGhpcy5pc1ByZWRpY2F0ZUtub3duXygwKTtuJiY9cn1pZih0aGlzLm1fcGVyZm9ybVByZWRpY2F0ZXNbMV0pe3RoaXMuaW50ZXJpb3JBcmVhQm91bmRhcnlMaW5lXyhlLHQscyx0aGlzLm1fY2x1c3RlckluZGV4Qik7Y29uc3Qgcj10aGlzLmlzUHJlZGljYXRlS25vd25fKDEpO24mJj1yfWlmKHRoaXMubV9wZXJmb3JtUHJlZGljYXRlc1syXSl7dGhpcy5pbnRlcmlvckFyZWFFeHRlcmlvckxpbmVfKGUsdCxzKTtjb25zdCByPXRoaXMuaXNQcmVkaWNhdGVLbm93bl8oMik7biYmPXJ9aWYodGhpcy5tX3BlcmZvcm1QcmVkaWNhdGVzWzNdKXt0aGlzLmJvdW5kYXJ5QXJlYUludGVyaW9yTGluZV8oZSx0LHMsdGhpcy5tX2NsdXN0ZXJJbmRleEIpO2NvbnN0IHI9dGhpcy5pc1ByZWRpY2F0ZUtub3duXygzKTtuJiY9cn1pZih0aGlzLm1fcGVyZm9ybVByZWRpY2F0ZXNbNF0pe3RoaXMuYm91bmRhcnlBcmVhQm91bmRhcnlMaW5lXyhlLHQscyx0aGlzLm1fY2x1c3RlckluZGV4Qik7Y29uc3Qgcj10aGlzLmlzUHJlZGljYXRlS25vd25fKDQpO24mJj1yfWlmKHRoaXMubV9wZXJmb3JtUHJlZGljYXRlc1s1XSl7dGhpcy5ib3VuZGFyeUFyZWFFeHRlcmlvckxpbmVfKGUsdCxzKTtjb25zdCByPXRoaXMuaXNQcmVkaWNhdGVLbm93bl8oNSk7biYmPXJ9aWYodGhpcy5tX3BlcmZvcm1QcmVkaWNhdGVzWzZdKXt0aGlzLmV4dGVyaW9yQXJlYUludGVyaW9yTGluZV8oZSx0KTtjb25zdCBzPXRoaXMuaXNQcmVkaWNhdGVLbm93bl8oNik7biYmPXN9aWYodGhpcy5tX3BlcmZvcm1QcmVkaWNhdGVzWzddKXt0aGlzLmV4dGVyaW9yQXJlYUJvdW5kYXJ5TGluZV8oZSx0LHMsdGhpcy5tX2NsdXN0ZXJJbmRleEIpO2NvbnN0IHI9dGhpcy5pc1ByZWRpY2F0ZUtub3duXyg3KTtuJiY9cn1yZXR1cm4gbn1saW5lTGluZVByZWRpY2F0ZXNfKGUsdCxzKXtsZXQgbj0hMDtpZih0aGlzLm1fcGVyZm9ybVByZWRpY2F0ZXNbMF0pe3RoaXMuaW50ZXJpb3JMaW5lSW50ZXJpb3JMaW5lXyhlLHQscyx0aGlzLm1fY2x1c3RlckluZGV4QSx0aGlzLm1fY2x1c3RlckluZGV4Qik7Y29uc3Qgcj10aGlzLmlzUHJlZGljYXRlS25vd25fKDApO24mJj1yfWlmKHRoaXMubV9wZXJmb3JtUHJlZGljYXRlc1sxXSl7dGhpcy5pbnRlcmlvckxpbmVCb3VuZGFyeUxpbmVfKGUsdCxzLHRoaXMubV9jbHVzdGVySW5kZXhBLHRoaXMubV9jbHVzdGVySW5kZXhCLDEpO2NvbnN0IHI9dGhpcy5pc1ByZWRpY2F0ZUtub3duXygxKTtuJiY9cn1pZih0aGlzLm1fcGVyZm9ybVByZWRpY2F0ZXNbMl0pe3RoaXMuaW50ZXJpb3JMaW5lRXh0ZXJpb3JMaW5lXyhlLHQscywyKTtjb25zdCByPXRoaXMuaXNQcmVkaWNhdGVLbm93bl8oMik7biYmPXJ9aWYodGhpcy5tX3BlcmZvcm1QcmVkaWNhdGVzWzNdKXt0aGlzLmludGVyaW9yTGluZUJvdW5kYXJ5TGluZV8oZSxzLHQsdGhpcy5tX2NsdXN0ZXJJbmRleEIsdGhpcy5tX2NsdXN0ZXJJbmRleEEsMyk7Y29uc3Qgcj10aGlzLmlzUHJlZGljYXRlS25vd25fKDMpO24mJj1yfWlmKHRoaXMubV9wZXJmb3JtUHJlZGljYXRlc1s0XSl7dGhpcy5ib3VuZGFyeUxpbmVCb3VuZGFyeUxpbmVfKGUsdCxzLHRoaXMubV9jbHVzdGVySW5kZXhBLHRoaXMubV9jbHVzdGVySW5kZXhCKTtjb25zdCByPXRoaXMuaXNQcmVkaWNhdGVLbm93bl8oNCk7biYmPXJ9aWYodGhpcy5tX3BlcmZvcm1QcmVkaWNhdGVzWzVdKXt0aGlzLmJvdW5kYXJ5TGluZUV4dGVyaW9yTGluZV8oZSx0LHMsdGhpcy5tX2NsdXN0ZXJJbmRleEEsNSk7Y29uc3Qgcj10aGlzLmlzUHJlZGljYXRlS25vd25fKDUpO24mJj1yfWlmKHRoaXMubV9wZXJmb3JtUHJlZGljYXRlc1s2XSl7dGhpcy5pbnRlcmlvckxpbmVFeHRlcmlvckxpbmVfKGUscyx0LDYpO2NvbnN0IHI9dGhpcy5pc1ByZWRpY2F0ZUtub3duXyg2KTtuJiY9cn1pZih0aGlzLm1fcGVyZm9ybVByZWRpY2F0ZXNbN10pe3RoaXMuYm91bmRhcnlMaW5lRXh0ZXJpb3JMaW5lXyhlLHMsdCx0aGlzLm1fY2x1c3RlckluZGV4Qiw3KTtjb25zdCByPXRoaXMuaXNQcmVkaWNhdGVLbm93bl8oNyk7biYmPXJ9cmV0dXJuIG59YXJlYVBvaW50UHJlZGljYXRlc18oZSx0LHMpe2xldCBuPSEwO2lmKHRoaXMubV9wZXJmb3JtUHJlZGljYXRlc1swXSl7dGhpcy5pbnRlcmlvckFyZWFJbnRlcmlvclBvaW50XyhlLHQpO2NvbnN0IHM9dGhpcy5pc1ByZWRpY2F0ZUtub3duXygwKTtuJiY9c31pZih0aGlzLm1fcGVyZm9ybVByZWRpY2F0ZXNbMl0pe3RoaXMuaW50ZXJpb3JBcmVhRXh0ZXJpb3JQb2ludF8oZSx0KTtjb25zdCBzPXRoaXMuaXNQcmVkaWNhdGVLbm93bl8oMik7biYmPXN9aWYodGhpcy5tX3BlcmZvcm1QcmVkaWNhdGVzWzNdKXt0aGlzLmJvdW5kYXJ5QXJlYUludGVyaW9yUG9pbnRfKGUsdCxzKTtjb25zdCByPXRoaXMuaXNQcmVkaWNhdGVLbm93bl8oMyk7biYmPXJ9aWYodGhpcy5tX3BlcmZvcm1QcmVkaWNhdGVzWzVdKXt0aGlzLmJvdW5kYXJ5QXJlYUV4dGVyaW9yUG9pbnRfKGUsdCk7Y29uc3Qgcz10aGlzLmlzUHJlZGljYXRlS25vd25fKDUpO24mJj1zfWlmKHRoaXMubV9wZXJmb3JtUHJlZGljYXRlc1s2XSl7dGhpcy5leHRlcmlvckFyZWFJbnRlcmlvclBvaW50XyhlLHQpO2NvbnN0IHM9dGhpcy5pc1ByZWRpY2F0ZUtub3duXyg2KTtuJiY9c31yZXR1cm4gbn1saW5lUG9pbnRQcmVkaWNhdGVzXyhlLHQscyl7bGV0IG49ITA7aWYodGhpcy5tX3BlcmZvcm1QcmVkaWNhdGVzWzBdKXt0aGlzLmludGVyaW9yTGluZUludGVyaW9yUG9pbnRfKGUsdCxzLHRoaXMubV9jbHVzdGVySW5kZXhBKTtjb25zdCByPXRoaXMuaXNQcmVkaWNhdGVLbm93bl8oMCk7biYmPXJ9aWYodGhpcy5tX3BlcmZvcm1QcmVkaWNhdGVzWzJdKXt0aGlzLmludGVyaW9yTGluZUV4dGVyaW9yUG9pbnRfKGUsdCxzLHRoaXMubV9jbHVzdGVySW5kZXhBKTtjb25zdCByPXRoaXMuaXNQcmVkaWNhdGVLbm93bl8oMik7biYmPXJ9aWYodGhpcy5tX3BlcmZvcm1QcmVkaWNhdGVzWzNdKXt0aGlzLmJvdW5kYXJ5TGluZUludGVyaW9yUG9pbnRfKGUsdCxzLHRoaXMubV9jbHVzdGVySW5kZXhBKTtjb25zdCByPXRoaXMuaXNQcmVkaWNhdGVLbm93bl8oMyk7biYmPXJ9aWYodGhpcy5tX3BlcmZvcm1QcmVkaWNhdGVzWzVdKXt0aGlzLmJvdW5kYXJ5TGluZUV4dGVyaW9yUG9pbnRfKGUsdCxzLHRoaXMubV9jbHVzdGVySW5kZXhBKTtjb25zdCByPXRoaXMuaXNQcmVkaWNhdGVLbm93bl8oNSk7biYmPXJ9aWYodGhpcy5tX3BlcmZvcm1QcmVkaWNhdGVzWzZdKXt0aGlzLmV4dGVyaW9yTGluZUludGVyaW9yUG9pbnRfKGUsdCxzKTtjb25zdCByPXRoaXMuaXNQcmVkaWNhdGVLbm93bl8oNik7biYmPXJ9cmV0dXJuIG59cG9pbnRQb2ludFByZWRpY2F0ZXNfKGUsdCxzKXtsZXQgbj0hMDtpZih0aGlzLm1fcGVyZm9ybVByZWRpY2F0ZXNbMF0pe3RoaXMuaW50ZXJpb3JQb2ludEludGVyaW9yUG9pbnRfKGUsdCxzKTtjb25zdCByPXRoaXMuaXNQcmVkaWNhdGVLbm93bl8oMCk7biYmPXJ9aWYodGhpcy5tX3BlcmZvcm1QcmVkaWNhdGVzWzJdKXt0aGlzLmludGVyaW9yUG9pbnRFeHRlcmlvclBvaW50XyhlLHQscywyKTtjb25zdCByPXRoaXMuaXNQcmVkaWNhdGVLbm93bl8oMik7biYmPXJ9aWYodGhpcy5tX3BlcmZvcm1QcmVkaWNhdGVzWzZdKXt0aGlzLmludGVyaW9yUG9pbnRFeHRlcmlvclBvaW50XyhlLHMsdCw2KTtjb25zdCByPXRoaXMuaXNQcmVkaWNhdGVLbm93bl8oNik7biYmPXJ9cmV0dXJuIG59aW50ZXJpb3JBcmVhSW50ZXJpb3JBcmVhXyhlLHQscyl7aWYoMj09PXRoaXMubV9tYXRyaXhbMF0pcmV0dXJuO2NvbnN0IG49dGhpcy5tX3RvcG9HcmFwaC5nZXRIYWxmRWRnZUZhY2VQYXJlbnRhZ2UoZSk7MCE9PShuJnQpJiYwIT09KG4mcykmJih0aGlzLm1fbWF0cml4WzBdPTIpfWludGVyaW9yQXJlYUJvdW5kYXJ5QXJlYV8oZSx0LHMpe2lmKDE9PT10aGlzLm1fbWF0cml4W3NdKXJldHVybjtjb25zdCBuPXRoaXMubV90b3BvR3JhcGguZ2V0SGFsZkVkZ2VGYWNlUGFyZW50YWdlKGUpLHI9dGhpcy5tX3RvcG9HcmFwaC5nZXRIYWxmRWRnZUZhY2VQYXJlbnRhZ2UodGhpcy5tX3RvcG9HcmFwaC5nZXRIYWxmRWRnZVR3aW4oZSkpOzAhPT0obiZ0KSYmMCE9PShyJnQpJiYodGhpcy5tX21hdHJpeFtzXT0xKX1pbnRlcmlvckFyZWFFeHRlcmlvckFyZWFfKGUsdCxzLG4pe2lmKDI9PT10aGlzLm1fbWF0cml4W25dKXJldHVybjtjb25zdCByPXRoaXMubV90b3BvR3JhcGguZ2V0SGFsZkVkZ2VGYWNlUGFyZW50YWdlKGUpOzAhPT0ociZ0KSYmMD09PShyJnMpJiYodGhpcy5tX21hdHJpeFtuXT0yKX1ib3VuZGFyeUFyZWFCb3VuZGFyeUFyZWFfKGUsdCxzKXtpZigxPT09dGhpcy5tX21hdHJpeFs0XSlyZXR1cm47Y29uc3Qgbj10aGlzLm1fdG9wb0dyYXBoLmdldEhhbGZFZGdlUGFyZW50YWdlKGUpO2lmKDA9PT0obiZ0KXx8MD09PShuJnMpKXtpZigwIT09dGhpcy5tX21hdHJpeFs0XSYmMSE9PXRoaXMubV90b3BvR3JhcGguZ2V0SGFsZkVkZ2VVc2VySW5kZXgodGhpcy5tX3RvcG9HcmFwaC5nZXRIYWxmRWRnZVByZXYodGhpcy5tX3RvcG9HcmFwaC5nZXRIYWxmRWRnZVR3aW4oZSkpLHRoaXMubV92aXNpdGVkSW5kZXgpKXtjb25zdCBuPXRoaXMubV90b3BvR3JhcGguZ2V0SGFsZkVkZ2VUbyhlKSxyPXRoaXMubV90b3BvR3JhcGguZ2V0Q2x1c3RlclBhcmVudGFnZShuKTtpZigwIT09KHImdCkmJjAhPT0ociZzKSlyZXR1cm4gdm9pZCh0aGlzLm1fbWF0cml4WzRdPTApfX1lbHNlIHRoaXMubV9tYXRyaXhbNF09MX1ib3VuZGFyeUFyZWFFeHRlcmlvckFyZWFfKGUsdCxzLG4pe2lmKDE9PT10aGlzLm1fbWF0cml4W25dKXJldHVybjtjb25zdCByPXRoaXMubV90b3BvR3JhcGguZ2V0SGFsZkVkZ2VGYWNlUGFyZW50YWdlKGUpLGk9dGhpcy5tX3RvcG9HcmFwaC5nZXRIYWxmRWRnZUZhY2VQYXJlbnRhZ2UodGhpcy5tX3RvcG9HcmFwaC5nZXRIYWxmRWRnZVR3aW4oZSkpOzA9PT0ociZzKSYmMD09PShpJnMpJiYodGhpcy5tX21hdHJpeFtuXT0xKX1pbnRlcmlvckFyZWFJbnRlcmlvckxpbmVfKGUsdCxzKXtpZigxPT09dGhpcy5tX21hdHJpeFswXSlyZXR1cm47Y29uc3Qgbj10aGlzLm1fdG9wb0dyYXBoLmdldEhhbGZFZGdlRmFjZVBhcmVudGFnZShlKSxyPXRoaXMubV90b3BvR3JhcGguZ2V0SGFsZkVkZ2VGYWNlUGFyZW50YWdlKHRoaXMubV90b3BvR3JhcGguZ2V0SGFsZkVkZ2VUd2luKGUpKTswIT09KG4mdCkmJjAhPT0ociZ0KSYmKHRoaXMubV9tYXRyaXhbMF09MSl9aW50ZXJpb3JBcmVhQm91bmRhcnlMaW5lXyhlLHQscyxuKXtpZigwIT09dGhpcy5tX21hdHJpeFsxXSYmMSE9PXRoaXMubV90b3BvR3JhcGguZ2V0SGFsZkVkZ2VVc2VySW5kZXgodGhpcy5tX3RvcG9HcmFwaC5nZXRIYWxmRWRnZVByZXYodGhpcy5tX3RvcG9HcmFwaC5nZXRIYWxmRWRnZVR3aW4oZSkpLHRoaXMubV92aXNpdGVkSW5kZXgpKXtjb25zdCByPXRoaXMubV90b3BvR3JhcGguZ2V0SGFsZkVkZ2VUbyhlKSxpPXRoaXMubV90b3BvR3JhcGguZ2V0Q2x1c3RlclBhcmVudGFnZShyKTtpZigwPT09KGkmdCkpe2lmKDAhPT0odGhpcy5tX3RvcG9HcmFwaC5nZXRIYWxmRWRnZUZhY2VQYXJlbnRhZ2UoZSkmdCkpe2NvbnN0IGU9dGhpcy5tX3RvcG9HcmFwaC5nZXRDbHVzdGVyVXNlckluZGV4KHIsbik7aWYoMCE9PShpJnMpJiZlJTIhPTApcmV0dXJuIHZvaWQodGhpcy5tX21hdHJpeFsxXT0wKX19fX1pbnRlcmlvckFyZWFFeHRlcmlvckxpbmVfKGUsdCxzKXtpZigyPT09dGhpcy5tX21hdHJpeFsyXSlyZXR1cm47MCE9PSh0aGlzLm1fdG9wb0dyYXBoLmdldEhhbGZFZGdlUGFyZW50YWdlKGUpJnQpJiYodGhpcy5tX21hdHJpeFsyXT0yKX1ib3VuZGFyeUFyZWFJbnRlcmlvckxpbmVfKGUsdCxzLG4pe2lmKDE9PT10aGlzLm1fbWF0cml4WzNdKXJldHVybjtjb25zdCByPXRoaXMubV90b3BvR3JhcGguZ2V0SGFsZkVkZ2VQYXJlbnRhZ2UoZSk7aWYoMD09PShyJnQpfHwwPT09KHImcykpe2lmKDAhPT10aGlzLm1fbWF0cml4WzNdJiYxIT09dGhpcy5tX3RvcG9HcmFwaC5nZXRIYWxmRWRnZVVzZXJJbmRleCh0aGlzLm1fdG9wb0dyYXBoLmdldEhhbGZFZGdlUHJldih0aGlzLm1fdG9wb0dyYXBoLmdldEhhbGZFZGdlVHdpbihlKSksdGhpcy5tX3Zpc2l0ZWRJbmRleCkpe2NvbnN0IHI9dGhpcy5tX3RvcG9HcmFwaC5nZXRIYWxmRWRnZVRvKGUpLGk9dGhpcy5tX3RvcG9HcmFwaC5nZXRDbHVzdGVyUGFyZW50YWdlKHIpO2lmKDAhPT0oaSZ0KSl7Y29uc3QgZT10aGlzLm1fdG9wb0dyYXBoLmdldENsdXN0ZXJVc2VySW5kZXgocixuKTtpZigwIT09KGkmcykmJmUlMj09MClyZXR1cm4gdm9pZCh0aGlzLm1fbWF0cml4WzNdPTApfX19ZWxzZSB0aGlzLm1fbWF0cml4WzNdPTF9Ym91bmRhcnlBcmVhQm91bmRhcnlMaW5lXyhlLHQscyxuKXtpZigwIT09dGhpcy5tX21hdHJpeFs0XSYmMSE9PXRoaXMubV90b3BvR3JhcGguZ2V0SGFsZkVkZ2VVc2VySW5kZXgodGhpcy5tX3RvcG9HcmFwaC5nZXRIYWxmRWRnZVByZXYodGhpcy5tX3RvcG9HcmFwaC5nZXRIYWxmRWRnZVR3aW4oZSkpLHRoaXMubV92aXNpdGVkSW5kZXgpKXtjb25zdCByPXRoaXMubV90b3BvR3JhcGguZ2V0SGFsZkVkZ2VUbyhlKSxpPXRoaXMubV90b3BvR3JhcGguZ2V0Q2x1c3RlclBhcmVudGFnZShyKTtpZigwIT09KGkmdCkpe2NvbnN0IGU9dGhpcy5tX3RvcG9HcmFwaC5nZXRDbHVzdGVyVXNlckluZGV4KHIsbik7aWYoMCE9PShpJnMpJiZlJTIhPTApcmV0dXJuIHZvaWQodGhpcy5tX21hdHJpeFs0XT0wKX19fWJvdW5kYXJ5QXJlYUV4dGVyaW9yTGluZV8oZSx0LHMpe2lmKDE9PT10aGlzLm1fbWF0cml4WzVdKXJldHVybjtjb25zdCBuPXRoaXMubV90b3BvR3JhcGguZ2V0SGFsZkVkZ2VQYXJlbnRhZ2UoZSk7MCE9PShuJnQpJiYwPT09KG4mcykmJih0aGlzLm1fbWF0cml4WzVdPTEpfWV4dGVyaW9yQXJlYUludGVyaW9yTGluZV8oZSx0KXtpZigxPT09dGhpcy5tX21hdHJpeFs2XSlyZXR1cm47Y29uc3Qgcz10aGlzLm1fdG9wb0dyYXBoLmdldEhhbGZFZGdlRmFjZVBhcmVudGFnZShlKSxuPXRoaXMubV90b3BvR3JhcGguZ2V0SGFsZkVkZ2VGYWNlUGFyZW50YWdlKHRoaXMubV90b3BvR3JhcGguZ2V0SGFsZkVkZ2VUd2luKGUpKTswPT09KHMmdCkmJjA9PT0obiZ0KSYmKHRoaXMubV9tYXRyaXhbNl09MSl9ZXh0ZXJpb3JBcmVhQm91bmRhcnlMaW5lXyhlLHQscyxuKXtpZigwIT09dGhpcy5tX21hdHJpeFs3XSYmMSE9PXRoaXMubV90b3BvR3JhcGguZ2V0SGFsZkVkZ2VVc2VySW5kZXgodGhpcy5tX3RvcG9HcmFwaC5nZXRIYWxmRWRnZVByZXYodGhpcy5tX3RvcG9HcmFwaC5nZXRIYWxmRWRnZVR3aW4oZSkpLHRoaXMubV92aXNpdGVkSW5kZXgpKXtjb25zdCByPXRoaXMubV90b3BvR3JhcGguZ2V0SGFsZkVkZ2VUbyhlKSxpPXRoaXMubV90b3BvR3JhcGguZ2V0Q2x1c3RlclBhcmVudGFnZShyKTtpZigwPT09KGkmdCkpe2lmKDA9PT0odGhpcy5tX3RvcG9HcmFwaC5nZXRIYWxmRWRnZUZhY2VQYXJlbnRhZ2UoZSkmdCkpe2NvbnN0IGU9dGhpcy5tX3RvcG9HcmFwaC5nZXRDbHVzdGVyVXNlckluZGV4KHIsbik7aWYoMCE9PShpJnMpJiZlJTIhPTApcmV0dXJuIHZvaWQodGhpcy5tX21hdHJpeFs3XT0wKX19fX1pbnRlcmlvckxpbmVJbnRlcmlvckxpbmVfKGUsdCxzLG4scil7aWYoMT09PXRoaXMubV9tYXRyaXhbMF0pcmV0dXJuO2NvbnN0IGk9dGhpcy5tX3RvcG9HcmFwaC5nZXRIYWxmRWRnZVBhcmVudGFnZShlKTtpZigwPT09KGkmdCl8fDA9PT0oaSZzKSl7aWYoMCE9PXRoaXMubV9tYXRyaXhbMF0mJjEhPT10aGlzLm1fdG9wb0dyYXBoLmdldEhhbGZFZGdlVXNlckluZGV4KHRoaXMubV90b3BvR3JhcGguZ2V0SGFsZkVkZ2VQcmV2KHRoaXMubV90b3BvR3JhcGguZ2V0SGFsZkVkZ2VUd2luKGUpKSx0aGlzLm1fdmlzaXRlZEluZGV4KSl7Y29uc3QgaT10aGlzLm1fdG9wb0dyYXBoLmdldEhhbGZFZGdlVG8oZSksbz10aGlzLm1fdG9wb0dyYXBoLmdldENsdXN0ZXJQYXJlbnRhZ2UoaSk7aWYoMCE9PShvJnQpJiYwIT09KG8mcykpe2NvbnN0IGU9dGhpcy5tX3RvcG9HcmFwaC5nZXRDbHVzdGVyVXNlckluZGV4KGksbiksdD10aGlzLm1fdG9wb0dyYXBoLmdldENsdXN0ZXJVc2VySW5kZXgoaSxyKTtpZihlJTI9PTAmJnQlMj09MClyZXR1cm4gdm9pZCh0aGlzLm1fbWF0cml4WzBdPTApfX19ZWxzZSB0aGlzLm1fbWF0cml4WzBdPTF9aW50ZXJpb3JMaW5lQm91bmRhcnlMaW5lXyhlLHQscyxuLHIsaSl7aWYoMCE9PXRoaXMubV9tYXRyaXhbaV0mJjEhPT10aGlzLm1fdG9wb0dyYXBoLmdldEhhbGZFZGdlVXNlckluZGV4KHRoaXMubV90b3BvR3JhcGguZ2V0SGFsZkVkZ2VQcmV2KHRoaXMubV90b3BvR3JhcGguZ2V0SGFsZkVkZ2VUd2luKGUpKSx0aGlzLm1fdmlzaXRlZEluZGV4KSl7Y29uc3Qgbz10aGlzLm1fdG9wb0dyYXBoLmdldEhhbGZFZGdlVG8oZSksYT10aGlzLm1fdG9wb0dyYXBoLmdldENsdXN0ZXJQYXJlbnRhZ2Uobyk7aWYoMCE9PShhJnQpJiYwIT09KGEmcykpe2NvbnN0IGU9dGhpcy5tX3RvcG9HcmFwaC5nZXRDbHVzdGVyVXNlckluZGV4KG8sbiksdD10aGlzLm1fdG9wb0dyYXBoLmdldENsdXN0ZXJVc2VySW5kZXgobyxyKTtpZihlJTI9PTAmJnQlMiE9MClyZXR1cm4gdm9pZCh0aGlzLm1fbWF0cml4W2ldPTApfX19aW50ZXJpb3JMaW5lRXh0ZXJpb3JMaW5lXyhlLHQscyxuKXtpZigxPT09dGhpcy5tX21hdHJpeFtuXSlyZXR1cm47Y29uc3Qgcj10aGlzLm1fdG9wb0dyYXBoLmdldEhhbGZFZGdlUGFyZW50YWdlKGUpOzAhPT0ociZ0KSYmMD09PShyJnMpJiYodGhpcy5tX21hdHJpeFtuXT0xKX1ib3VuZGFyeUxpbmVCb3VuZGFyeUxpbmVfKGUsdCxzLG4scil7aWYoMCE9PXRoaXMubV9tYXRyaXhbNF0mJjEhPT10aGlzLm1fdG9wb0dyYXBoLmdldEhhbGZFZGdlVXNlckluZGV4KHRoaXMubV90b3BvR3JhcGguZ2V0SGFsZkVkZ2VQcmV2KHRoaXMubV90b3BvR3JhcGguZ2V0SGFsZkVkZ2VUd2luKGUpKSx0aGlzLm1fdmlzaXRlZEluZGV4KSl7Y29uc3QgaT10aGlzLm1fdG9wb0dyYXBoLmdldEhhbGZFZGdlVG8oZSksbz10aGlzLm1fdG9wb0dyYXBoLmdldENsdXN0ZXJQYXJlbnRhZ2UoaSk7aWYoMCE9PShvJnQpJiYwIT09KG8mcykpe2NvbnN0IGU9dGhpcy5tX3RvcG9HcmFwaC5nZXRDbHVzdGVyVXNlckluZGV4KGksbiksdD10aGlzLm1fdG9wb0dyYXBoLmdldENsdXN0ZXJVc2VySW5kZXgoaSxyKTtpZihlJTIhPTAmJnQlMiE9MClyZXR1cm4gdm9pZCh0aGlzLm1fbWF0cml4WzRdPTApfX19Ym91bmRhcnlMaW5lRXh0ZXJpb3JMaW5lXyhlLHQscyxuLHIpe2lmKDAhPT10aGlzLm1fbWF0cml4W3JdJiYxIT09dGhpcy5tX3RvcG9HcmFwaC5nZXRIYWxmRWRnZVVzZXJJbmRleCh0aGlzLm1fdG9wb0dyYXBoLmdldEhhbGZFZGdlUHJldih0aGlzLm1fdG9wb0dyYXBoLmdldEhhbGZFZGdlVHdpbihlKSksdGhpcy5tX3Zpc2l0ZWRJbmRleCkpe2NvbnN0IHQ9dGhpcy5tX3RvcG9HcmFwaC5nZXRIYWxmRWRnZVRvKGUpO2lmKDA9PT0odGhpcy5tX3RvcG9HcmFwaC5nZXRDbHVzdGVyUGFyZW50YWdlKHQpJnMpKXtpZih0aGlzLm1fdG9wb0dyYXBoLmdldENsdXN0ZXJVc2VySW5kZXgodCxuKSUyIT0wKXJldHVybiB2b2lkKHRoaXMubV9tYXRyaXhbcl09MCl9fX1pbnRlcmlvckFyZWFJbnRlcmlvclBvaW50XyhlLHQpe2lmKDA9PT10aGlzLm1fbWF0cml4WzBdKXJldHVybjtpZigwPT09KHRoaXMubV90b3BvR3JhcGguZ2V0Q2x1c3RlclBhcmVudGFnZShlKSZ0KSl7Y29uc3Qgcz10aGlzLm1fdG9wb0dyYXBoLmdldENsdXN0ZXJDaGFpbihlKTtpZigwIT09KHRoaXMubV90b3BvR3JhcGguZ2V0Q2hhaW5QYXJlbnRhZ2UocykmdCkpcmV0dXJuIHZvaWQodGhpcy5tX21hdHJpeFswXT0wKX19aW50ZXJpb3JBcmVhRXh0ZXJpb3JQb2ludF8oZSx0KXtpZigyPT09dGhpcy5tX21hdHJpeFsyXSlyZXR1cm47MCE9PSh0aGlzLm1fdG9wb0dyYXBoLmdldENsdXN0ZXJQYXJlbnRhZ2UoZSkmdCkmJih0aGlzLm1fbWF0cml4WzJdPTIpfWJvdW5kYXJ5QXJlYUludGVyaW9yUG9pbnRfKGUsdCxzKXtpZigwPT09dGhpcy5tX21hdHJpeFszXSlyZXR1cm47Y29uc3Qgbj10aGlzLm1fdG9wb0dyYXBoLmdldENsdXN0ZXJQYXJlbnRhZ2UoZSk7MD09PShuJnQpfHwwPT09KG4mcyl8fCh0aGlzLm1fbWF0cml4WzNdPTApfWJvdW5kYXJ5QXJlYUV4dGVyaW9yUG9pbnRfKGUsdCl7aWYoMT09PXRoaXMubV9tYXRyaXhbNV0pcmV0dXJuOzAhPT0odGhpcy5tX3RvcG9HcmFwaC5nZXRDbHVzdGVyUGFyZW50YWdlKGUpJnQpJiYodGhpcy5tX21hdHJpeFs1XT0xKX1leHRlcmlvckFyZWFJbnRlcmlvclBvaW50XyhlLHQpe2lmKDA9PT10aGlzLm1fbWF0cml4WzZdKXJldHVybjtpZigwPT09KHRoaXMubV90b3BvR3JhcGguZ2V0Q2x1c3RlclBhcmVudGFnZShlKSZ0KSl7Y29uc3Qgcz10aGlzLm1fdG9wb0dyYXBoLmdldENsdXN0ZXJDaGFpbihlKTtpZigwPT09KHRoaXMubV90b3BvR3JhcGguZ2V0Q2hhaW5QYXJlbnRhZ2UocykmdCkpcmV0dXJuIHZvaWQodGhpcy5tX21hdHJpeFs2XT0wKX19aW50ZXJpb3JMaW5lSW50ZXJpb3JQb2ludF8oZSx0LHMsbil7aWYoMD09PXRoaXMubV9tYXRyaXhbMF0pcmV0dXJuO2NvbnN0IHI9dGhpcy5tX3RvcG9HcmFwaC5nZXRDbHVzdGVyUGFyZW50YWdlKGUpO2lmKDAhPT0ociZ0KSYmMCE9PShyJnMpKXtpZih0aGlzLm1fdG9wb0dyYXBoLmdldENsdXN0ZXJVc2VySW5kZXgoZSxuKSUyPT0wKXJldHVybiB2b2lkKHRoaXMubV9tYXRyaXhbMF09MCl9fWludGVyaW9yTGluZUV4dGVyaW9yUG9pbnRfKGUsdCxzLG4pe2lmKDE9PT10aGlzLm1fbWF0cml4WzJdKXJldHVybjtpZigtMT09PXRoaXMubV90b3BvR3JhcGguZ2V0Q2x1c3RlckhhbGZFZGdlKGUpKXtpZigwIT09dGhpcy5tX21hdHJpeFsyXSl7aWYoMD09PSh0aGlzLm1fdG9wb0dyYXBoLmdldENsdXN0ZXJQYXJlbnRhZ2UoZSkmcykpcmV0dXJuIHZvaWQodGhpcy5tX21hdHJpeFsyXT0wKX19ZWxzZSB0aGlzLm1fbWF0cml4WzJdPTF9Ym91bmRhcnlMaW5lSW50ZXJpb3JQb2ludF8oZSx0LHMsbil7aWYoMD09PXRoaXMubV9tYXRyaXhbM10pcmV0dXJuO2NvbnN0IHI9dGhpcy5tX3RvcG9HcmFwaC5nZXRDbHVzdGVyUGFyZW50YWdlKGUpO2lmKDAhPT0ociZ0KSYmMCE9PShyJnMpKXtpZih0aGlzLm1fdG9wb0dyYXBoLmdldENsdXN0ZXJVc2VySW5kZXgoZSxuKSUyIT0wKXJldHVybiB2b2lkKHRoaXMubV9tYXRyaXhbM109MCl9fWJvdW5kYXJ5TGluZUV4dGVyaW9yUG9pbnRfKGUsdCxzLG4pe2lmKDA9PT10aGlzLm1fbWF0cml4WzVdKXJldHVybjtjb25zdCByPXRoaXMubV90b3BvR3JhcGguZ2V0Q2x1c3RlclBhcmVudGFnZShlKTtpZigwIT09KHImdCkmJjA9PT0ociZzKSl7aWYodGhpcy5tX3RvcG9HcmFwaC5nZXRDbHVzdGVyVXNlckluZGV4KGUsbiklMiE9MClyZXR1cm4gdm9pZCh0aGlzLm1fbWF0cml4WzVdPTApfX1leHRlcmlvckxpbmVJbnRlcmlvclBvaW50XyhlLHQscyl7aWYoMD09PXRoaXMubV9tYXRyaXhbNl0pcmV0dXJuO2NvbnN0IG49dGhpcy5tX3RvcG9HcmFwaC5nZXRDbHVzdGVyUGFyZW50YWdlKGUpOzAhPT0obiZ0KXx8MD09PShuJnMpfHwodGhpcy5tX21hdHJpeFs2XT0wKX1pbnRlcmlvclBvaW50SW50ZXJpb3JQb2ludF8oZSx0LHMpe2lmKDA9PT10aGlzLm1fbWF0cml4WzBdKXJldHVybjtjb25zdCBuPXRoaXMubV90b3BvR3JhcGguZ2V0Q2x1c3RlclBhcmVudGFnZShlKTswPT09KG4mdCl8fDA9PT0obiZzKXx8KHRoaXMubV9tYXRyaXhbMF09MCl9aW50ZXJpb3JQb2ludEV4dGVyaW9yUG9pbnRfKGUsdCxzLG4pe2lmKDA9PT10aGlzLm1fbWF0cml4W25dKXJldHVybjtjb25zdCByPXRoaXMubV90b3BvR3JhcGguZ2V0Q2x1c3RlclBhcmVudGFnZShlKTswPT09KHImdCl8fDAhPT0ociZzKXx8KHRoaXMubV9tYXRyaXhbbl09MCl9Y29tcHV0ZU1hdHJpeFRvcG9HcmFwaEhhbGZFZGdlc18oZSx0KXtsZXQgcz0hMTtjb25zdCBuPXRoaXMubV90b3BvR3JhcGguZ2V0R2VvbWV0cnlJRChlKSxyPXRoaXMubV90b3BvR3JhcGguZ2V0R2VvbWV0cnlJRCh0KTt0aGlzLm1fdmlzaXRlZEluZGV4PXRoaXMubV90b3BvR3JhcGguY3JlYXRlVXNlckluZGV4Rm9ySGFsZkVkZ2VzKCk7Zm9yKGxldCBpPXRoaXMubV90b3BvR3JhcGguZ2V0Rmlyc3RDbHVzdGVyKCk7aSE9PU07aT10aGlzLm1fdG9wb0dyYXBoLmdldE5leHRDbHVzdGVyKGkpKXtjb25zdCBlPXRoaXMubV90b3BvR3JhcGguZ2V0Q2x1c3RlckhhbGZFZGdlKGkpO2lmKGU9PT1NKXtpZihudWxsIT09dGhpcy5tX3ByZWRpY2F0ZXNDbHVzdGVyJiYocz10aGlzLm1fcHJlZGljYXRlc0NsdXN0ZXIoaSxuLHIpLHMpKWJyZWFrO2NvbnRpbnVlfWxldCB0PWU7ZG97bGV0IGU9dDtpZigxIT09dGhpcy5tX3RvcG9HcmFwaC5nZXRIYWxmRWRnZVVzZXJJbmRleChlLHRoaXMubV92aXNpdGVkSW5kZXgpKWRve2lmKHM9dGhpcy5tX3ByZWRpY2F0ZXNIYWxmRWRnZShlLG4scikscylicmVhazt0aGlzLm1fdG9wb0dyYXBoLnNldEhhbGZFZGdlVXNlckluZGV4KGUsdGhpcy5tX3Zpc2l0ZWRJbmRleCwxKSxlPXRoaXMubV90b3BvR3JhcGguZ2V0SGFsZkVkZ2VOZXh0KGUpfXdoaWxlKGUhPT10JiYhcyk7aWYocylicmVhazt0PXRoaXMubV90b3BvR3JhcGguZ2V0SGFsZkVkZ2VOZXh0KHRoaXMubV90b3BvR3JhcGguZ2V0SGFsZkVkZ2VUd2luKGUpKX13aGlsZSh0IT09ZSk7aWYocylicmVha31zfHx0aGlzLnNldFJlbWFpbmluZ1ByZWRpY2F0ZXNUb0ZhbHNlXygpLHRoaXMubV90b3BvR3JhcGguZGVsZXRlVXNlckluZGV4Rm9ySGFsZkVkZ2VzKHRoaXMubV92aXNpdGVkSW5kZXgpfWNvbXB1dGVNYXRyaXhUb3BvR3JhcGhDbHVzdGVyc18oZSx0KXtsZXQgcz0hMTtjb25zdCBuPXRoaXMubV90b3BvR3JhcGguZ2V0R2VvbWV0cnlJRChlKSxyPXRoaXMubV90b3BvR3JhcGguZ2V0R2VvbWV0cnlJRCh0KTtmb3IobGV0IGk9dGhpcy5tX3RvcG9HcmFwaC5nZXRGaXJzdENsdXN0ZXIoKTtpIT09TSYmKHM9dGhpcy5tX3ByZWRpY2F0ZXNDbHVzdGVyKGksbixyKSwhcyk7aT10aGlzLm1fdG9wb0dyYXBoLmdldE5leHRDbHVzdGVyKGkpKTtzfHx0aGlzLnNldFJlbWFpbmluZ1ByZWRpY2F0ZXNUb0ZhbHNlXygpfXNldEVkaXRTaGFwZV8oZSx0KXt0aGlzLm1fdG9wb0dyYXBoLnNldEVkaXRTaGFwZShlLHQpfXNldEVkaXRTaGFwZUNyYWNrQW5kQ2x1c3Rlcl8oZSx0LHMpe2xldCByPTA7aWYoZS5oYXNDdXJ2ZXMoKSl7Y29uc3Qgbj1uZXcgZmEsaT1lLmdldEVudmVsb3BlMkQocyksbz1fYSh0LnRvdGFsKCksaSk7cj1wYShvLDApLGFhKGUsbyx0LnRvdGFsKCksMTJlMyxuLG51bGwscyksbi5jbGVhclN0aXRjaGVyKGUpfXlhKGUsdC5hZGQocikscywhMSwhMSksZS5maWx0ZXJDbG9zZVBvaW50cygwLCEwLCEwLCExLE0pO2ZvcihsZXQgaT1lLmdldEZpcnN0R2VvbWV0cnkoKTtpIT09TTtpPWUuZ2V0TmV4dEdlb21ldHJ5KGkpKWUuZ2V0R2VvbWV0cnlUeXBlKGkpPT09bi5lbnVtUG9seWdvbiYmZXIoZSxpLC0xLCExLE0scyk7dGhpcy5zZXRFZGl0U2hhcGVfKGUscyl9fWZ1bmN0aW9uIE5yKGUpe2NvbnN0IHQ9ZVsxXSxzPWVbMl0sbj1lWzVdO2VbMV09ZVszXSxlWzJdPWVbNl0sZVs1XT1lWzddLGVbM109dCxlWzZdPXMsZVs3XT1ufWZ1bmN0aW9uIFRyKHQscyxpKXtjb25zdCBvPXQuZ2V0R2VvbWV0cnlUeXBlKCk7aWYocihvKSl7Y29uc3QgZT1uZXcgSSh7dmQ6dC5nZXREZXNjcmlwdGlvbigpfSk7cmV0dXJuIGUuYWRkU2VnbWVudCh0LCEwKSxlfWlmKG89PT1uLmVudW1FbnZlbG9wZSl7Y29uc3Qgbj10LHI9ZS5jb25zdHJ1Y3RFbXB0eSgpO2lmKHQucXVlcnlFbnZlbG9wZShyKSxyLmhlaWdodCgpPD1zJiZyLndpZHRoKCk8PXMpe2NvbnN0IGU9bmV3IGZlKHt2ZDp0LmdldERlc2NyaXB0aW9uKCl9KTtyZXR1cm4gbi5nZXRDZW50ZXIoZSksZX1pZihyLmhlaWdodCgpPD1zfHxyLndpZHRoKCk8PXMpe2NvbnN0IGU9bmV3IEkoe3ZkOnQuZ2V0RGVzY3JpcHRpb24oKX0pLHM9bmV3IGZlO3JldHVybiBuLnF1ZXJ5Q29ybmVyQnlWYWwoMCxzKSxlLnN0YXJ0UGF0aFBvaW50KHMpLG4ucXVlcnlDb3JuZXJCeVZhbCgyLHMpLGUubGluZVRvUG9pbnQocyksZX1jb25zdCBpPW5ldyB2KHt2ZDp0LmdldERlc2NyaXB0aW9uKCl9KTtyZXR1cm4gaS5hZGRFbnZlbG9wZShuLCExKSxpfXJldHVybiB0fWZ1bmN0aW9uIEdyKGUpe3JldHVybmAke2VbMF19JHtlWzNdfSR7ZVs2XX0ke2VbMV19JHtlWzRdfSR7ZVs3XX0ke2VbMl19JHtlWzVdfSR7ZVs4XX1gfWNsYXNzIERye251bGxGdW5jKCl7cmV0dXJuIGkoXCJzaG91bGQgbm90IGJlIGNhbGxlZFwiKSwhMX1jb25zdHJ1Y3Rvcih0LHMsbixyPSExKXt0aGlzLm1fYkRvbmU9ITEsdGhpcy5tX3RvbGVyYW5jZT0wLHRoaXMubV9lbGVtZW50SGFuZGxlPS0xLHRoaXMubV9xdWVyeT1lLmNvbnN0cnVjdEVtcHR5KCksdGhpcy5tX2VudkludGVyPWUuY29uc3RydWN0RW1wdHkoKSx0aGlzLm1fcXVhZFRyZWU9bnVsbCx0aGlzLm1faW50ZXJzZWN0b3I9bnVsbCx0aGlzLm1fZnVuY3Rpb249dGhpcy5udWxsRnVuYztjb25zdCBpPXQuZ2V0QWNjZWxlcmF0b3JzKCk7bGV0IGE9bnVsbDtudWxsIT1pJiYoYT1yP2kuZ2V0UXVhZFRyZWVGb3JQYXRocygpOmkuZ2V0UXVhZFRyZWUoKSk7Y29uc3QgaD1zLmdldEFjY2VsZXJhdG9ycygpO2xldCBtPW51bGw7aWYobnVsbCE9aCYmKG09cj9oLmdldFF1YWRUcmVlRm9yUGF0aHMoKTpoLmdldFF1YWRUcmVlKCkpLG51bGw9PT1hJiZudWxsPT09bSYmIXIpe2NvbnN0IHI9dC5nZXRQb2ludENvdW50KCksaT1zLmdldFBvaW50Q291bnQoKTtpZihyPjEwJiZpPjEwKXtjb25zdCBoPWUuY29uc3RydWN0RW1wdHkoKSxsPWUuY29uc3RydWN0RW1wdHkoKSxnPWUuY29uc3RydWN0RW1wdHkoKTt0LnF1ZXJ5TG9vc2VFbnZlbG9wZShoKSxzLnF1ZXJ5TG9vc2VFbnZlbG9wZShsKSxoLmluZmxhdGVDb29yZHMobixuKSxsLmluZmxhdGVDb29yZHMobixuKSxnLnNldENvb3Jkcyh7ZW52MkQ6aH0pLGcuaW50ZXJzZWN0KGwpLHI+PWk/YT1vKHQuZ2V0R2VvbWV0cnlUeXBlKCkpP1ZlKHQsZyk6RmUodCxnKTptPW8ocy5nZXRHZW9tZXRyeVR5cGUoKSk/VmUocyxnKTpGZShzLGcpfX10aGlzLmNvbnN0cnVjdF8odCxhLHMsbSxuLHIpfW5leHQoKXtpZih0aGlzLm1fYlF1YWRUcmVlKXtpZih0aGlzLm1fYkRvbmUpcmV0dXJuITE7Zm9yKDt0aGlzLm1fZnVuY3Rpb24oKTspO3JldHVybiF0aGlzLm1fYkRvbmV9cmV0dXJuISF0aGlzLm1faW50ZXJzZWN0b3ImJnRoaXMubV9pbnRlcnNlY3Rvci5uZXh0KCl9Z2V0UmVkRWxlbWVudCgpe3JldHVybiB0aGlzLm1fYlF1YWRUcmVlP3RoaXMubV9iU3dhcEVsZW1lbnRzP3RoaXMubV9xdWFkVHJlZS5nZXRFbGVtZW50KHRoaXMubV9lbGVtZW50SGFuZGxlKTpvKHRoaXMubV9xdWVyeVR5cGUpP3RoaXMubV9iUGF0aHM/dGhpcy5tX3BhdGhJbmRleDp0aGlzLm1fc2VnSXRlci5nZXRTdGFydFBvaW50SW5kZXgoKTp0aGlzLm1fcG9pbnRJbmRleDp0aGlzLm1fYlN3YXBFbGVtZW50cz90aGlzLm1faW50ZXJzZWN0b3IuZ2V0Qmx1ZUVsZW1lbnQodGhpcy5tX2ludGVyc2VjdG9yLmdldEhhbmRsZUIoKSk6dGhpcy5tX2ludGVyc2VjdG9yLmdldFJlZEVsZW1lbnQodGhpcy5tX2ludGVyc2VjdG9yLmdldEhhbmRsZUEoKSl9Z2V0Qmx1ZUVsZW1lbnQoKXtyZXR1cm4gdGhpcy5tX2JRdWFkVHJlZT90aGlzLm1fYlN3YXBFbGVtZW50cz9vKHRoaXMubV9xdWVyeVR5cGUpP3RoaXMubV9iUGF0aHM/dGhpcy5tX3BhdGhJbmRleDp0aGlzLm1fc2VnSXRlci5nZXRTdGFydFBvaW50SW5kZXgoKTp0aGlzLm1fcG9pbnRJbmRleDp0aGlzLm1fcXVhZFRyZWUuZ2V0RWxlbWVudCh0aGlzLm1fZWxlbWVudEhhbmRsZSk6dGhpcy5tX2JTd2FwRWxlbWVudHM/dGhpcy5tX2ludGVyc2VjdG9yLmdldFJlZEVsZW1lbnQodGhpcy5tX2ludGVyc2VjdG9yLmdldEhhbmRsZUEoKSk6dGhpcy5tX2ludGVyc2VjdG9yLmdldEJsdWVFbGVtZW50KHRoaXMubV9pbnRlcnNlY3Rvci5nZXRIYW5kbGVCKCkpfWdldFJlZEVudmVsb3BlKCl7cmV0dXJuIHRoaXMubV9iUGF0aHN8fGMoXCJcIiksdGhpcy5tX2JRdWFkVHJlZT90aGlzLm1fYlN3YXBFbGVtZW50cz90aGlzLm1fcXVhZFRyZWUuZ2V0RWxlbWVudEV4dGVudCh0aGlzLm1fZWxlbWVudEhhbmRsZSk6dGhpcy5tX3F1ZXJ5OnRoaXMubV9iU3dhcEVsZW1lbnRzP3RoaXMubV9pbnRlcnNlY3Rvci5nZXRCbHVlRW52ZWxvcGUodGhpcy5tX2ludGVyc2VjdG9yLmdldEhhbmRsZUIoKSk6dGhpcy5tX2ludGVyc2VjdG9yLmdldFJlZEVudmVsb3BlKHRoaXMubV9pbnRlcnNlY3Rvci5nZXRIYW5kbGVBKCkpfWdldEJsdWVFbnZlbG9wZSgpe3JldHVybiB0aGlzLm1fYlBhdGhzfHxjKFwiXCIpLHRoaXMubV9iUXVhZFRyZWU/dGhpcy5tX2JTd2FwRWxlbWVudHM/dGhpcy5tX3F1ZXJ5OnRoaXMubV9xdWFkVHJlZS5nZXRFbGVtZW50RXh0ZW50KHRoaXMubV9lbGVtZW50SGFuZGxlKTp0aGlzLm1fYlN3YXBFbGVtZW50cz90aGlzLm1faW50ZXJzZWN0b3IuZ2V0UmVkRW52ZWxvcGUodGhpcy5tX2ludGVyc2VjdG9yLmdldEhhbmRsZUEoKSk6dGhpcy5tX2ludGVyc2VjdG9yLmdldEJsdWVFbnZlbG9wZSh0aGlzLm1faW50ZXJzZWN0b3IuZ2V0SGFuZGxlQigpKX1jb25zdHJ1Y3RfKHQscyxyLGksYSxoKXtjb25zdCBtPWUuY29uc3RydWN0RW1wdHkoKSxsPWUuY29uc3RydWN0RW1wdHkoKTt0LnF1ZXJ5TG9vc2VFbnZlbG9wZShtKSxyLnF1ZXJ5TG9vc2VFbnZlbG9wZShsKSxtLmluZmxhdGVDb29yZHMoYSxhKSxsLmluZmxhdGVDb29yZHMoYSxhKSx0aGlzLm1fZW52SW50ZXIuc2V0Q29vcmRzKHtlbnYyRDptfSksdGhpcy5tX2VudkludGVyLmludGVyc2VjdChsKSx0aGlzLm1fbXVsdGlWZXJ0ZXhJbXBsQT10LHRoaXMubV9tdWx0aVZlcnRleEltcGxCPXI7Y29uc3QgZz10LmdldEdlb21ldHJ5VHlwZSgpLHU9ci5nZXRHZW9tZXRyeVR5cGUoKTt0aGlzLm1fYlBhdGhzPWgsdGhpcy5tX3BhdGhJbmRleD0tMSx0aGlzLm1fcG9pbnRJbmRleD0tMSx0aGlzLm1fYlN3YXBFbGVtZW50cz0hMSx0aGlzLm1fcXVlcnlUeXBlPW4uZW51bVVua25vd24sdGhpcy5tX2JRdWFkVHJlZT0hMSxudWxsIT09cyYmKHRoaXMubV9iRG9uZT0hMSx0aGlzLm1fdG9sZXJhbmNlPWEsdGhpcy5tX3F1YWRUcmVlPXMsdGhpcy5tX3F0SXRlcj10aGlzLm1fcXVhZFRyZWUuZ2V0SXRlcmF0b3JGb3JRVCgpLHRoaXMubV9iUXVhZFRyZWU9ITAsdGhpcy5tX2JTd2FwRWxlbWVudHM9ITAsbyh1KT8odGhpcy5tX3F1ZXJ5VHlwZT11LHRoaXMubV9mdW5jdGlvbj10aGlzLm5leHRQYXRoXyxoP3RoaXMubV9wYXRoSW5kZXg9ci5nZXRQYXRoQ291bnQoKTp0aGlzLm1fc2VnSXRlcj1yLnF1ZXJ5U2VnbWVudEl0ZXJhdG9yKCkpOih0aGlzLm1fcXVlcnlUeXBlPXUsdGhpcy5tX2Z1bmN0aW9uPXRoaXMubmV4dFBvaW50Xyx0aGlzLm1fcG9pbnRJbmRleD1yLmdldFBvaW50Q291bnQoKSkpLHRoaXMubV9iUXVhZFRyZWV8fG51bGwhPT1pJiYodGhpcy5tX2JEb25lPSExLHRoaXMubV90b2xlcmFuY2U9YSx0aGlzLm1fcXVhZFRyZWU9aSx0aGlzLm1fcXRJdGVyPXRoaXMubV9xdWFkVHJlZS5nZXRJdGVyYXRvckZvclFUKCksdGhpcy5tX2JRdWFkVHJlZT0hMCx0aGlzLm1fYlN3YXBFbGVtZW50cz0hMSxvKGcpPyh0aGlzLm1fcXVlcnlUeXBlPWcsdGhpcy5tX2Z1bmN0aW9uPXRoaXMubmV4dFBhdGhfLGg/dGhpcy5tX3BhdGhJbmRleD10LmdldFBhdGhDb3VudCgpOnRoaXMubV9zZWdJdGVyPXQucXVlcnlTZWdtZW50SXRlcmF0b3IoKSk6KHRoaXMubV9xdWVyeVR5cGU9Zyx0aGlzLm1fZnVuY3Rpb249dGhpcy5uZXh0UG9pbnRfLHRoaXMubV9wb2ludEluZGV4PXQuZ2V0UG9pbnRDb3VudCgpKSksdGhpcy5tX2JRdWFkVHJlZXx8KGgmJm8oZykmJm8odSk/dGhpcy5tX2ludGVyc2VjdG9yPU1lKHQscixhKTpvKGcpJiZvKHUpPyh0aGlzLm1faW50ZXJzZWN0b3I9SGUodCxyLGEpLHRoaXMubV9iU3dhcEVsZW1lbnRzPSExKTpvKGcpJiYhbyh1KT8odGhpcy5tX2ludGVyc2VjdG9yPWtlKHQscixhKSx0aGlzLm1fYlN3YXBFbGVtZW50cz0hMSk6IW8oZykmJm8odSk/KHRoaXMubV9pbnRlcnNlY3Rvcj1rZShyLHQsYSksdGhpcy5tX2JTd2FwRWxlbWVudHM9ITApOih0aGlzLm1faW50ZXJzZWN0b3I9QWUodCxyLGEpLHRoaXMubV9iU3dhcEVsZW1lbnRzPSExKSl9bmV4dFBhdGhfKCl7cmV0dXJuIHRoaXMubV9iUGF0aHM/LTE9PT0tLXRoaXMubV9wYXRoSW5kZXg/KHRoaXMubV9iRG9uZT0hMCwhMSk6KHRoaXMubV9iU3dhcEVsZW1lbnRzP3RoaXMubV9tdWx0aVZlcnRleEltcGxCLnF1ZXJ5UGF0aEVudmVsb3BlKHRoaXMubV9wYXRoSW5kZXgsdGhpcy5tX3F1ZXJ5KTp0aGlzLm1fbXVsdGlWZXJ0ZXhJbXBsQS5xdWVyeVBhdGhFbnZlbG9wZSh0aGlzLm1fcGF0aEluZGV4LHRoaXMubV9xdWVyeSksdGhpcy5tX3F0SXRlci5yZXNldEl0ZXJhdG9yKHRoaXMubV9xdWVyeSx0aGlzLm1fdG9sZXJhbmNlKSx0aGlzLm1fZnVuY3Rpb249dGhpcy5pdGVyYXRlXywhMCk6dGhpcy5tX3NlZ0l0ZXIubmV4dFBhdGgoKT8odGhpcy5tX2Z1bmN0aW9uPXRoaXMubmV4dFNlZ21lbnRfLCEwKToodGhpcy5tX2JEb25lPSEwLCExKX1uZXh0U2VnbWVudF8oKXtpZighdGhpcy5tX3NlZ0l0ZXIuaGFzTmV4dFNlZ21lbnQoKSlyZXR1cm4gdGhpcy5tX2Z1bmN0aW9uPXRoaXMubmV4dFBhdGhfLCEwO2NvbnN0IHQ9dGhpcy5tX3NlZ0l0ZXIubmV4dFNlZ21lbnQoKSxzPW5ldyBlO3JldHVybiB0LnF1ZXJ5TG9vc2VFbnZlbG9wZShzKSwhcy5pc0ludGVyc2VjdGluZyh0aGlzLm1fZW52SW50ZXIpfHwodGhpcy5tX3F0SXRlci5yZXNldEl0ZXJhdG9yKHQsdGhpcy5tX3RvbGVyYW5jZSksdGhpcy5tX2Z1bmN0aW9uPXRoaXMuaXRlcmF0ZV8sITApfW5leHRQb2ludF8oKXtpZigtMT09PS0tdGhpcy5tX3BvaW50SW5kZXgpcmV0dXJuIHRoaXMubV9iRG9uZT0hMCwhMTtjb25zdCB0PW5ldyBRZTtpZih0aGlzLm1fYlN3YXBFbGVtZW50cyl7Y29uc3QgZT10aGlzLm1fbXVsdGlWZXJ0ZXhJbXBsQi5nZXRYWSh0aGlzLm1fcG9pbnRJbmRleCk7dC5zZXRDb29yZHNQb2ludDJEKGUpfWVsc2V7Y29uc3QgZT10aGlzLm1fbXVsdGlWZXJ0ZXhJbXBsQS5nZXRYWSh0aGlzLm1fcG9pbnRJbmRleCk7dC5zZXRDb29yZHNQb2ludDJEKGUpfXJldHVybiF0aGlzLm1fZW52SW50ZXIuY29udGFpbnModCl8fCh0aGlzLm1fcXRJdGVyLnJlc2V0SXRlcmF0b3IoZS5jb25zdHJ1Y3QodC54LHQueSx0LngsdC55KSx0aGlzLm1fdG9sZXJhbmNlKSx0aGlzLm1fZnVuY3Rpb249dGhpcy5pdGVyYXRlXywhMCl9aXRlcmF0ZV8oKXtyZXR1cm4gdGhpcy5tX2VsZW1lbnRIYW5kbGU9dGhpcy5tX3F0SXRlci5uZXh0KCksLTE9PT10aGlzLm1fZWxlbWVudEhhbmRsZSYmKG8odGhpcy5tX3F1ZXJ5VHlwZSk/KHRoaXMubV9mdW5jdGlvbj10aGlzLm1fYlBhdGhzP3RoaXMubmV4dFBhdGhfOnRoaXMubmV4dFNlZ21lbnRfLCEwKToodGhpcy5tX2Z1bmN0aW9uPXRoaXMubmV4dFBvaW50XywhMCkpfX1mdW5jdGlvbiBWcihlKXtyZXR1cm4gMj09PWU/MToxPT09ZT8yOjEyOD09PWU/NjQ6NjQ9PT1lPzEyODplfWZ1bmN0aW9uIEZyKHQscyxuKXtsZXQgcjtpZih0IGluc3RhbmNlb2Ygb2N8fG51bGw9PT10KXtjb25zdCBpPWUuY29uc3RydWN0RW1wdHkoKTtpLnNldENvb3Jkcyh7cHQ6c30pLGkubWVyZ2VFbnZlbG9wZTJEKG4pLHI9bGUodCxpLCExKX1lbHNlIHI9dDtyZXR1cm4gcn1mdW5jdGlvbiBIcih0LHMsbil7bGV0IHI7aWYodCBpbnN0YW5jZW9mIG9jfHxudWxsPT09dCl7Y29uc3QgaT1lLmNvbnN0cnVjdEVtcHR5KCk7aS5zZXRDb29yZHMoe2VudjJEOnN9KSxpLm1lcmdlRW52ZWxvcGUyRChuKSxyPWxlKHQsaSwhMSl9ZWxzZSByPXQ7cmV0dXJuIHJ9ZnVuY3Rpb24ga3IodCxpLG8sYSxoKXtpZih0LmlzRW1wdHkoKXx8aS5pc0VtcHR5KCkpcmV0dXJuIDQ9PT1hO3ModCkscyhpKTtsZXQgbT10LmdldEdlb21ldHJ5VHlwZSgpLGw9aS5nZXRHZW9tZXRyeVR5cGUoKTtpZihtPT09bi5lbnVtRW52ZWxvcGUpe2lmKGw9PT1uLmVudW1FbnZlbG9wZSlyZXR1cm4gQXIodCxpLG8sYSk7aWYobD09PW4uZW51bVBvaW50KXJldHVybiBNcihpLHQsbyxWcihhKSl9ZWxzZSBpZihtPT09bi5lbnVtUG9pbnQpe2lmKGw9PT1uLmVudW1FbnZlbG9wZSlyZXR1cm4gTXIodCxpLG8sYSk7aWYobD09PW4uZW51bVBvaW50KXJldHVybiBVcih0LGksbyxhKX1jb25zdCBnPWUuY29uc3RydWN0RW1wdHkoKTt0LnF1ZXJ5RW52ZWxvcGUoZyk7Y29uc3QgdT1lLmNvbnN0cnVjdEVtcHR5KCk7aS5xdWVyeUVudmVsb3BlKHUpO2NvbnN0IGM9SHIobyxnLHUpO2lmKHFyKGcsdSxjKSlyZXR1cm4gND09PWE7bGV0IF89ITEsZD1udWxsLHA9bnVsbCxmPW51bGwseD1udWxsO3N3aXRjaChyKG0pPyhkPW5ldyBJKHt2ZDp0LmdldERlc2NyaXB0aW9uKCl9KSxkLmFkZFNlZ21lbnQodCwhMCksZj1kLG09bi5lbnVtUG9seWxpbmUpOmY9dCxyKGwpPyhwPW5ldyBJKHt2ZDppLmdldERlc2NyaXB0aW9uKCl9KSxwLmFkZFNlZ21lbnQoaSwhMCkseD1wLGw9bi5lbnVtUG9seWxpbmUpOng9aSxtIT09bi5lbnVtRW52ZWxvcGUmJmwhPT1uLmVudW1FbnZlbG9wZT8oZi5nZXREaW1lbnNpb24oKTx4LmdldERpbWVuc2lvbigpfHxtPT09bi5lbnVtUG9pbnQmJmw9PT1uLmVudW1NdWx0aVBvaW50KSYmKGE9VnIoYSkpOm0hPT1uLmVudW1Qb2x5Z29uJiZsIT09bi5lbnVtRW52ZWxvcGUmJihhPVZyKGEpKSxtKXtjYXNlIG4uZW51bVBvbHlnb246c3dpdGNoKGwpe2Nhc2Ugbi5lbnVtUG9seWdvbjpfPVlyKGYseCxjLGEsaCk7YnJlYWs7Y2FzZSBuLmVudW1Qb2x5bGluZTpfPVJyKGYseCxjLGEsaCk7YnJlYWs7Y2FzZSBuLmVudW1Qb2ludDpfPVhyKGYseCxjLGEpO2JyZWFrO2Nhc2Ugbi5lbnVtTXVsdGlQb2ludDpfPUxyKGYseCxjLGEpO2JyZWFrO2Nhc2Ugbi5lbnVtRW52ZWxvcGU6Xz16cihmLHgsYyxhLGgpfWJyZWFrO2Nhc2Ugbi5lbnVtUG9seWxpbmU6c3dpdGNoKGwpe2Nhc2Ugbi5lbnVtUG9seWdvbjpfPVJyKHgsZixjLGEsaCk7YnJlYWs7Y2FzZSBuLmVudW1Qb2x5bGluZTpfPVdyKGYseCxjLGEsaCk7YnJlYWs7Y2FzZSBuLmVudW1Qb2ludDpfPWpyKGYseCxjLGEpO2JyZWFrO2Nhc2Ugbi5lbnVtTXVsdGlQb2ludDpfPVpyKGYseCxjLGEpO2JyZWFrO2Nhc2Ugbi5lbnVtRW52ZWxvcGU6Xz1LcihmLHgsYyxhLGgpfWJyZWFrO2Nhc2Ugbi5lbnVtUG9pbnQ6c3dpdGNoKGwpe2Nhc2Ugbi5lbnVtUG9seWdvbjpfPVhyKHgsZixjLGEpO2JyZWFrO2Nhc2Ugbi5lbnVtUG9seWxpbmU6Xz1qcih4LGYsYyxhKTticmVhaztjYXNlIG4uZW51bU11bHRpUG9pbnQ6Xz1Kcih4LGYsYyxhKX1icmVhaztjYXNlIG4uZW51bU11bHRpUG9pbnQ6c3dpdGNoKGwpe2Nhc2Ugbi5lbnVtUG9seWdvbjpfPUxyKHgsZixjLGEpO2JyZWFrO2Nhc2Ugbi5lbnVtUG9seWxpbmU6Xz1acih4LGYsYyxhKTticmVhaztjYXNlIG4uZW51bU11bHRpUG9pbnQ6Xz1RcihmLHgsYyxhKTticmVhaztjYXNlIG4uZW51bVBvaW50Ol89SnIoZix4LGMsYSk7YnJlYWs7Y2FzZSBuLmVudW1FbnZlbG9wZTpfPSRyKGYseCxjLGEpfWJyZWFrO2Nhc2Ugbi5lbnVtRW52ZWxvcGU6c3dpdGNoKGwpe2Nhc2Ugbi5lbnVtUG9seWdvbjpfPXpyKHgsZixjLGEsaCk7YnJlYWs7Y2FzZSBuLmVudW1Qb2x5bGluZTpfPUtyKHgsZixjLGEsaCk7YnJlYWs7Y2FzZSBuLmVudW1NdWx0aVBvaW50Ol89JHIoeCxmLGMsYSl9fXJldHVybiBffWZ1bmN0aW9uIEFyKHQscyxuLHIsaSl7aWYodC5pc0VtcHR5KCl8fHMuaXNFbXB0eSgpKXJldHVybiA0PT09cjtjb25zdCBvPWUuY29uc3RydWN0RW1wdHkoKTt0LnF1ZXJ5RW52ZWxvcGUobyk7Y29uc3QgYT1lLmNvbnN0cnVjdEVtcHR5KCk7cy5xdWVyeUVudmVsb3BlKGEpO2NvbnN0IGg9SHIobixvLGEpO3N3aXRjaChyKXtjYXNlIDQ6cmV0dXJuIHFyKG8sYSxoKTtjYXNlIDI6cmV0dXJuIGdvKGEsbyxoLCExKTtjYXNlIDEyODpyZXR1cm4gZ28oYSxvLGgsITApO2Nhc2UgMTpyZXR1cm4gZ28obyxhLGgsITEpO2Nhc2UgNjQ6cmV0dXJuIGdvKG8sYSxoLCEwKTtjYXNlIDM6cmV0dXJuIGhvKG8sYSxoKTtjYXNlIDg6cmV0dXJuIG1vKG8sYSxoKTtjYXNlIDMyOnJldHVybiBsbyhvLGEsaCk7Y2FzZSAxNjpyZXR1cm4hMX1yZXR1cm4hMX1mdW5jdGlvbiBNcih0LHMsbixyLGkpe2lmKHQuaXNFbXB0eSgpfHxzLmlzRW1wdHkoKSlyZXR1cm4gND09PXI7Y29uc3Qgbz10LmdldFhZKCksYT1lLmNvbnN0cnVjdEVtcHR5KCk7cy5xdWVyeUVudmVsb3BlKGEpO2NvbnN0IGg9RnIobixvLGEpO3N3aXRjaChyKXtjYXNlIDQ6cmV0dXJuIE9yKG8sYSxoKTtjYXNlIDI6Y2FzZSAxMjg6cmV0dXJuIGFvKG8sYSxoKTtjYXNlIDE6Y2FzZSA2NDpyZXR1cm4hMTtjYXNlIDM6cmV0dXJuIGlvKG8sYSxoKTtjYXNlIDg6cmV0dXJuIG9vKG8sYSxoKX1yZXR1cm4hMX1mdW5jdGlvbiBVcih0LHMsbixyLGkpe2lmKHQuaXNFbXB0eSgpfHxzLmlzRW1wdHkoKSlyZXR1cm4gND09PXI7Y29uc3Qgbz10LmdldFhZKCksYT1zLmdldFhZKCk7bGV0IGg7aWYobiBpbnN0YW5jZW9mIG9jfHxudWxsPT09bil7Y29uc3QgdD1lLmNvbnN0cnVjdEVtcHR5KCk7dC5zZXRDb29yZHMoe3B0Om99KSx0Lm1lcmdlKGEpLGg9bGUobix0LCExKX1lbHNlIGg9bjtzd2l0Y2gocil7Y2FzZSA0OnJldHVybiBubyhvLGEsaCk7Y2FzZSAyOmNhc2UgMTI4OnJldHVybiBybyhhLG8saCk7Y2FzZSAxOmNhc2UgNjQ6cmV0dXJuIHJvKG8sYSxoKTtjYXNlIDM6cmV0dXJuIHNvKG8sYSxoKX1yZXR1cm4hMX1mdW5jdGlvbiBxcih0LHMsbil7Y29uc3Qgcj1lLmNvbnN0cnVjdEVtcHR5KCk7cmV0dXJuIHIuc2V0Q29vcmRzKHtlbnYyRDpzfSksci5pbmZsYXRlQ29vcmRzKG4sbiksIXQuaXNJbnRlcnNlY3Rpbmcocil9ZnVuY3Rpb24gQnIoZSx0LHMsbj0hMSl7Y29uc3Qgcj1lLmdldEdlb21ldHJ5VHlwZSgpLGk9dC5nZXRHZW9tZXRyeVR5cGUoKTtpZihkKHIpKXtjb25zdCB0PWUuZ2V0SW1wbCgpLmdldEFjY2VsZXJhdG9ycygpO2lmKG51bGwhPT10KXtjb25zdCBlPXQuZ2V0UmFzdGVyaXplZEdlb21ldHJ5KCk7YShudWxsPT09ZSl9fWlmKGQoaSkpe2NvbnN0IGU9dC5nZXRJbXBsKCkuZ2V0QWNjZWxlcmF0b3JzKCk7aWYobnVsbCE9PWUpe2NvbnN0IHQ9ZS5nZXRSYXN0ZXJpemVkR2VvbWV0cnkoKTthKG51bGw9PT10KX19cmV0dXJuIDB9ZnVuY3Rpb24gT3IodCxzLG4scil7Y29uc3QgaT1lLmNvbnN0cnVjdEVtcHR5KCk7cmV0dXJuIGkuc2V0Q29vcmRzKHtlbnYyRDpzfSksaS5pbmZsYXRlQ29vcmRzKG4sbiksIWkuY29udGFpbnModCl9ZnVuY3Rpb24gWXIoZSx0LHMsbixyKXtzd2l0Y2gobil7Y2FzZSA0OnJldHVybiB0aShlLHQscyk7Y2FzZSAyOnJldHVybiByaSh0LGUscyxyKTtjYXNlIDEyODpyZXR1cm4gaWkodCxlLHMpO2Nhc2UgMTpyZXR1cm4gcmkoZSx0LHMscik7Y2FzZSA2NDpyZXR1cm4gaWkoZSx0LHMpO2Nhc2UgMzpyZXR1cm4gZWkoZSx0LHMscik7Y2FzZSA4OnJldHVybiBzaShlLHQscyk7Y2FzZSAzMjpyZXR1cm4gbmkoZSx0LHMscil9cmV0dXJuITF9ZnVuY3Rpb24gUnIoZSx0LHMsbixyKXtzd2l0Y2gobil7Y2FzZSA0OnJldHVybiBvaShlLHQscyk7Y2FzZSAxOnJldHVybiBtaShlLHQscyxyKTtjYXNlIDY0OnJldHVybiBsaShlLHQscyk7Y2FzZSA4OnJldHVybiBhaShlLHQscyxyKTtjYXNlIDE2OnJldHVybiBoaShlLHQscyl9cmV0dXJuITF9ZnVuY3Rpb24gWHIoZSx0LHMsbixyKXtzd2l0Y2gobil7Y2FzZSA0OnJldHVybiBnaShlLHQscyk7Y2FzZSAxOmNhc2UgNjQ6cmV0dXJuIGNpKGUsdCxzKTtjYXNlIDg6cmV0dXJuIHVpKGUsdCxzKX1yZXR1cm4hMX1mdW5jdGlvbiBMcihlLHQscyxuLHIpe3N3aXRjaChuKXtjYXNlIDQ6cmV0dXJuIF9pKGUsdCxzKTtjYXNlIDE6cmV0dXJuIGZpKGUsdCxzLCExKTtjYXNlIDY0OnJldHVybiBmaShlLHQscywhMCk7Y2FzZSA4OnJldHVybiBkaShlLHQscyk7Y2FzZSAxNjpyZXR1cm4gcGkoZSx0LHMpfXJldHVybiExfWZ1bmN0aW9uIHpyKGUsdCxzLG4scil7aWYoeWkoZSx0LHMpKXJldHVybiA0PT09bjtpZig0PT09bilyZXR1cm4hMTtzd2l0Y2gobil7Y2FzZSAyOnJldHVybiBTaShlLHQscywhMSk7Y2FzZSAxMjg6cmV0dXJuIFNpKGUsdCxzLCEwKTtjYXNlIDE6cmV0dXJuIENpKGUsdCxzLCExLHIpO2Nhc2UgNjQ6cmV0dXJuIENpKGUsdCxzLCEwLHIpO2Nhc2UgMzpyZXR1cm4geGkoZSx0LHMscik7Y2FzZSA4OnJldHVybiBQaShlLHQscyxyKTtjYXNlIDMyOnJldHVybiBFaShlLHQscyxyKTtjYXNlIDE2OnJldHVybiExfXJldHVybiExfWZ1bmN0aW9uIFdyKGUsdCxzLG4scil7c3dpdGNoKG4pe2Nhc2UgNDpyZXR1cm4gYmkoZSx0LHMpO2Nhc2UgMjpyZXR1cm4gVGkodCxlLHMscik7Y2FzZSAxMjg6cmV0dXJuIEdpKHQsZSxzLHIpO2Nhc2UgMTpyZXR1cm4gVGkoZSx0LHMscik7Y2FzZSA2NDpyZXR1cm4gR2koZSx0LHMscik7Y2FzZSAzOnJldHVybiBJaShlLHQscyxyKTtjYXNlIDg6cmV0dXJuIHdpKGUsdCxzLHIpO2Nhc2UgMzI6cmV0dXJuIE5pKGUsdCxzLHIpO2Nhc2UgMTY6cmV0dXJuIHZpKGUsdCxzLHIpfXJldHVybiExfWZ1bmN0aW9uIGpyKGUsdCxzLG4scil7c3dpdGNoKG4pe2Nhc2UgNDpyZXR1cm4gRGkoZSx0LHMpO2Nhc2UgMTpjYXNlIDY0OnJldHVybiBGaShlLHQscyk7Y2FzZSA4OnJldHVybiBWaShlLHQscyl9cmV0dXJuITF9ZnVuY3Rpb24gWnIoZSx0LHMsbixyKXtzd2l0Y2gobil7Y2FzZSA0OnJldHVybiBIaShlLHQscyk7Y2FzZSAxOmNhc2UgNjQ6cmV0dXJuIE1pKGUsdCxzKTtjYXNlIDg6cmV0dXJuIGtpKGUsdCxzKTtjYXNlIDE2OnJldHVybiBBaShlLHQscyl9cmV0dXJuITF9ZnVuY3Rpb24gS3IoZSx0LHMsbixyKXtpZihxaShlLHQscykpcmV0dXJuIDQ9PT1uO2lmKDQ9PT1uKXJldHVybiExO3N3aXRjaChuKXtjYXNlIDI6cmV0dXJuIE9pKGUsdCxzLCExKTtjYXNlIDEyODpyZXR1cm4gT2koZSx0LHMsITApO2Nhc2UgMTpjYXNlIDY0OmNhc2UgMzI6cmV0dXJuITE7Y2FzZSAzOnJldHVybiBVaShlLHQscyk7Y2FzZSA4OnJldHVybiBCaShlLHQscyxyKTtjYXNlIDE2OnJldHVybiBZaShlLHQscyl9cmV0dXJuITF9ZnVuY3Rpb24gUXIoZSx0LHMsbixyKXtzd2l0Y2gobil7Y2FzZSA0OnJldHVybiBYaShlLHQscyk7Y2FzZSAyOmNhc2UgMTI4OnJldHVybiB6aSh0LGUscyk7Y2FzZSAxOmNhc2UgNjQ6cmV0dXJuIHppKGUsdCxzKTtjYXNlIDM6cmV0dXJuIFJpKGUsdCxzKTtjYXNlIDMyOnJldHVybiBMaShlLHQscyl9cmV0dXJuITF9ZnVuY3Rpb24gSnIoZSx0LHMsbixyKXtzd2l0Y2gobil7Y2FzZSA0OnJldHVybiBqaShlLHQscyk7Y2FzZSAyOmNhc2UgMTI4OnJldHVybiBaaShlLHQscyk7Y2FzZSAxOmNhc2UgNjQ6cmV0dXJuIEtpKGUsdCxzKTtjYXNlIDM6cmV0dXJuIFdpKGUsdCxzKX1yZXR1cm4hMX1mdW5jdGlvbiAkcihlLHQscyxuLHIpe3N3aXRjaChuKXtjYXNlIDQ6cmV0dXJuIEppKGUsdCxzKTtjYXNlIDI6cmV0dXJuIGVvKGUsdCxzLCExKTtjYXNlIDEyODpyZXR1cm4gZW8oZSx0LHMsITApO2Nhc2UgMTpjYXNlIDY0OnJldHVybiExO2Nhc2UgMzpyZXR1cm4gUWkoZSx0LHMpO2Nhc2UgODpyZXR1cm4gJGkoZSx0LHMpO2Nhc2UgMTY6cmV0dXJuIHRvKGUsdCxzKX1yZXR1cm4hMX1mdW5jdGlvbiBlaSh0LHMsbixyKXtjb25zdCBpPWUuY29uc3RydWN0RW1wdHkoKSxvPWUuY29uc3RydWN0RW1wdHkoKTtpZih0LnF1ZXJ5RW52ZWxvcGUoaSkscy5xdWVyeUVudmVsb3BlKG8pLCFobyhpLG8sbikpcmV0dXJuITE7aWYoQnIodCxzKSx5byh0LHMsbikpcmV0dXJuITA7Y29uc3QgYT10LmNhbGN1bGF0ZUxlbmd0aDJEKCksaD1zLmNhbGN1bGF0ZUxlbmd0aDJEKCksbT1NYXRoLm1heCh0LmdldFBvaW50Q291bnQoKSxzLmdldFBvaW50Q291bnQoKSk7aWYoTWF0aC5hYnMoYS1oKT40Km0qbilyZXR1cm4hMTtpZih0Lmhhc05vbkxpbmVhclNlZ21lbnRzKCl8fHMuaGFzTm9uTGluZWFyU2VnbWVudHMoKSl7cmV0dXJuIHNyKHQscyxuLFwiKipGKipGRkYqXCIsciwhMSl9cmV0dXJuIFNvKHQscyxuLCEwKX1mdW5jdGlvbiB0aShlLHQscyxuKXtCcihlLHQscywhMCk7cmV0dXJuIDE9PT11byhlLHQscywhMCl9ZnVuY3Rpb24gc2koZSx0LHMsbil7cmV0dXJuIEJyKGUsdCksR28oZSx0LHMsbnVsbCl9ZnVuY3Rpb24gbmkoZSx0LHMsbil7cmV0dXJuIEJyKGUsdCksRG8oZSx0LHMsbil9ZnVuY3Rpb24gcmkodCxzLG4scil7Y29uc3QgaT1lLmNvbnN0cnVjdEVtcHR5KCksbz1lLmNvbnN0cnVjdEVtcHR5KCk7cmV0dXJuIHQucXVlcnlFbnZlbG9wZShpKSxzLnF1ZXJ5RW52ZWxvcGUobyksISFwbyhpLG8sbikmJihCcih0LHMpLFZvKHQscyxuLHIpKX1mdW5jdGlvbiBpaSh0LHMsbixyKXtjb25zdCBpPWUuY29uc3RydWN0RW1wdHkoKSxvPWUuY29uc3RydWN0RW1wdHkoKTtyZXR1cm4gdC5xdWVyeUVudmVsb3BlKGkpLHMucXVlcnlFbnZlbG9wZShvKSwhIXBvKGksbyxuKSYmKEJyKHQscyksMj09PXVvKHQscyxuLCExKSl9ZnVuY3Rpb24gb2koZSx0LHMsbil7QnIoZSx0LHMsITApO3JldHVybiAxPT09dW8oZSx0LHMsITApfWZ1bmN0aW9uIGFpKGUsdCxzLG4pe3JldHVybiBCcihlLHQpLEZvKGUsdCxzLG4pfWZ1bmN0aW9uIGhpKGUsdCxzLG4pe3JldHVybiBCcihlLHQpLEhvKGUsdCxzLG51bGwpfWZ1bmN0aW9uIG1pKHQscyxuLHIpe2NvbnN0IGk9ZS5jb25zdHJ1Y3RFbXB0eSgpLG89ZS5jb25zdHJ1Y3RFbXB0eSgpO3JldHVybiB0LnF1ZXJ5RW52ZWxvcGUoaSkscy5xdWVyeUVudmVsb3BlKG8pLCEhcG8oaSxvLG4pJiYoQnIodCxzKSxrbyh0LHMsbixyKSl9ZnVuY3Rpb24gbGkodCxzLG4scil7Y29uc3QgaT1lLmNvbnN0cnVjdEVtcHR5KCksbz1lLmNvbnN0cnVjdEVtcHR5KCk7cmV0dXJuIHQucXVlcnlFbnZlbG9wZShpKSxzLnF1ZXJ5RW52ZWxvcGUobyksISFwbyhpLG8sbikmJihCcih0LHMpLDI9PT11byh0LHMsbiwhMSkpfWZ1bmN0aW9uIGdpKGUsdCxzLG4pe3JldHVybiAwPT09WG8oZSx0LHMpfWZ1bmN0aW9uIHVpKGUsdCxzLG4pe3JldHVybiBNbyhlLHQuZ2V0WFkoKSxzKX1mdW5jdGlvbiBjaShlLHQscyxuKXtyZXR1cm4gQW8oZSx0LmdldFhZKCkscyl9ZnVuY3Rpb24gX2koZSx0LHMsbixyKXtCcihlLHQpO3JldHVybiAxPT09Y28oZSx0LHMpfWZ1bmN0aW9uIGRpKHQscyxuLHIpe0JyKHQscyk7Y29uc3QgaT1lLmNvbnN0cnVjdEVtcHR5KCk7dC5xdWVyeUVudmVsb3BlKGkpLGkuaW5mbGF0ZUNvb3JkcyhuLG4pO2NvbnN0IG89bmV3IFFlO2xldCBhPSExO2NvbnN0IGg9dC5nZXRJbXBsKCksbT1uZXcgdjtsZXQgbD10LGc9ITE7Zm9yKGxldCBlPTA7ZTxzLmdldFBvaW50Q291bnQoKTtlKyspe2lmKHMucXVlcnlYWShlLG8pLGkuY29udGFpbnMobykpe2NvbnN0IGU9TG8obCxvLG4pO2lmKDI9PT1lKWE9ITA7ZWxzZSBpZigxPT09ZSlyZXR1cm4hMX1nfHwoIVduKHQscy5nZXRQb2ludENvdW50KCktMSl8fG51bGwhPT1oLmdldEFjY2VsZXJhdG9ycygpJiZudWxsIT09aC5nZXRBY2NlbGVyYXRvcnMoKS5nZXRRdWFkVHJlZSgpP2w9dDoodC5jb3B5VG8obSksbS5nZXRJbXBsKCkuYnVpbGRRdWFkVHJlZUFjY2VsZXJhdG9yKDEpLGw9bSksZz0hMCl9cmV0dXJuISFhfWZ1bmN0aW9uIHBpKHQscyxuLHIpe0JyKHQscyk7Y29uc3QgaT1uZXcgZSxvPW5ldyBlLGE9bmV3IGU7dC5xdWVyeUVudmVsb3BlKGkpLHMucXVlcnlFbnZlbG9wZShhKSxvLnNldENvb3Jkcyh7ZW52MkQ6aX0pLG8uaW5mbGF0ZUNvb3JkcyhuLG4pO2xldCBoPSExLG09ITE7Y29uc3QgbD1uZXcgUWUsZz10LmdldEltcGwoKSx1PW5ldyB2O2xldCBjPXQsXz0hMTtmb3IobGV0IGU9MDtlPHMuZ2V0UG9pbnRDb3VudCgpO2UrKyl7aWYocy5xdWVyeVhZKGUsbCksby5jb250YWlucyhsKSl7Y29uc3QgZT1MbyhjLGwsbik7MD09PWU/bT0hMDoxPT09ZSYmKGg9ITApfWVsc2UgbT0hMDtpZihoJiZtKXJldHVybiEwO198fCghV24odCxzLmdldFBvaW50Q291bnQoKS0xKXx8bnVsbCE9PWcuZ2V0QWNjZWxlcmF0b3JzKCkmJm51bGwhPT1nLmdldEFjY2VsZXJhdG9ycygpLmdldFF1YWRUcmVlKCk/Yz10Oih0LmNvcHlUbyh1KSx1LmdldEltcGwoKS5idWlsZFF1YWRUcmVlQWNjZWxlcmF0b3IoMSksYz11KSxfPSEwKX1yZXR1cm4hMX1mdW5jdGlvbiBmaSh0LHMsbixyLGkpe2NvbnN0IG89ZS5jb25zdHJ1Y3RFbXB0eSgpLGE9ZS5jb25zdHJ1Y3RFbXB0eSgpO2lmKHQucXVlcnlFbnZlbG9wZShvKSxzLnF1ZXJ5RW52ZWxvcGUoYSksIXBvKG8sYSxuKSlyZXR1cm4hMTtCcih0LHMpO2xldCBoPSExO2NvbnN0IG09bmV3IFFlLGw9dC5nZXRJbXBsKCksZz1uZXcgdjtsZXQgdT10LGM9ITE7Zm9yKGxldCBlPTA7ZTxzLmdldFBvaW50Q291bnQoKTtlKyspe2lmKHMucXVlcnlYWShlLG0pLCFvLmNvbnRhaW5zKG0pKXJldHVybiExO2NvbnN0IGk9TG8odSxtLG4pO2lmKDE9PT1pKWg9ITA7ZWxzZSBpZigwPT09aSlyZXR1cm4hMTtpZihyJiYyPT09aSlyZXR1cm4hMTtjfHwoIVduKHQscy5nZXRQb2ludENvdW50KCktMSl8fG51bGwhPT1sLmdldEFjY2VsZXJhdG9ycygpJiZudWxsIT09bC5nZXRBY2NlbGVyYXRvcnMoKS5nZXRRdWFkVHJlZSgpP3U9dDoodC5jb3B5VG8oZyksZy5nZXRJbXBsKCkuYnVpbGRRdWFkVHJlZUFjY2VsZXJhdG9yKDEpLHU9ZyksYz0hMCl9cmV0dXJuIGh9ZnVuY3Rpb24geGkodCxzLG4scil7Y29uc3QgaT1uZXcgZSxvPW5ldyBlO2lmKHQucXVlcnlFbnZlbG9wZShpKSxzLnF1ZXJ5RW52ZWxvcGUobyksIWhvKGksbyxuKSlyZXR1cm4hMTtjb25zdCBhPW5ldyB2O3JldHVybiBhLmFkZEVudmVsb3BlKHMsITEpLGVpKHQsYSxuLHIpfWZ1bmN0aW9uIHlpKHQscyxuLHIpe0JyKHQscyk7Y29uc3QgaT1lLmNvbnN0cnVjdEVtcHR5KCksbz1lLmNvbnN0cnVjdEVtcHR5KCk7aWYodC5xdWVyeUVudmVsb3BlKGkpLHMucXVlcnlFbnZlbG9wZShvKSxwbyhvLGksbikpcmV0dXJuITE7cmV0dXJuIDA9PT1Mbyh0LG8uZ2V0TG93ZXJMZWZ0KCksMCkmJighby5jb250YWlucyh0LmdldFhZKDApKSYmIVRvKHQsbyxuKSl9ZnVuY3Rpb24gUGkodCxzLG4scil7QnIodCxzKTtjb25zdCBpPW5ldyBlLG89bmV3IGU7aWYodC5xdWVyeUVudmVsb3BlKGkpLHMucXVlcnlFbnZlbG9wZShvKSxwbyhvLGksbikpcmV0dXJuITE7aWYoby5oZWlnaHQoKTw9bnx8by53aWR0aCgpPD1uKXJldHVybiExO2NvbnN0IGE9bmV3IHY7cmV0dXJuIGEuYWRkRW52ZWxvcGUocywhMSksR28odCxhLG4scil9ZnVuY3Rpb24gRWkodCxzLG4scil7QnIodCxzKTtjb25zdCBpPW5ldyBlLG89bmV3IGU7aWYodC5xdWVyeUVudmVsb3BlKGkpLHMucXVlcnlFbnZlbG9wZShvKSxwbyhvLGksbikpcmV0dXJuITE7aWYoby5oZWlnaHQoKTw9bnx8by53aWR0aCgpPD1uKXJldHVybiExO2NvbnN0IGE9bmV3IHY7cmV0dXJuIGEuYWRkRW52ZWxvcGUocywhMSksRG8odCxhLG4scil9ZnVuY3Rpb24gU2kodCxzLG4scixpKXtjb25zdCBvPWUuY29uc3RydWN0RW1wdHkoKSxhPWUuY29uc3RydWN0RW1wdHkoKTtyZXR1cm4gdC5xdWVyeUVudmVsb3BlKG8pLHMucXVlcnlFbnZlbG9wZShhKSxyP2ZvKGEsbyxuKTpwbyhhLG8sbil9ZnVuY3Rpb24gQ2kodCxzLG4scixpKXtjb25zdCBvPWUuY29uc3RydWN0RW1wdHkoKSxhPWUuY29uc3RydWN0RW1wdHkoKTtpZih0LnF1ZXJ5RW52ZWxvcGUobykscy5xdWVyeUVudmVsb3BlKGEpLCFwbyhvLGEsbikpcmV0dXJuITE7QnIodCxzKTtjb25zdCBoPW5ldyB2O3JldHVybiBoLmFkZEVudmVsb3BlKHMsITEpLHI/Mj09PXVvKHQsaCxuLCExKTpWbyh0LGgsbixpKX1mdW5jdGlvbiBJaSh0LHMsbixyKXtjb25zdCBpPWUuY29uc3RydWN0RW1wdHkoKSxvPWUuY29uc3RydWN0RW1wdHkoKTtpZih0LnF1ZXJ5RW52ZWxvcGUoaSkscy5xdWVyeUVudmVsb3BlKG8pLCFobyhpLG8sbikpcmV0dXJuITE7aWYoQnIodCxzKSx5byh0LHMsbikpcmV0dXJuITA7aWYodC5oYXNOb25MaW5lYXJTZWdtZW50cygpfHxzLmhhc05vbkxpbmVhclNlZ21lbnRzKCkpe3JldHVybiBzcih0LHMsbixcIioqRioqRkZGKlwiLHIsITEpfXJldHVybiBTbyh0LHMsbiwhMSl9ZnVuY3Rpb24gYmkoZSx0LHMsbil7QnIoZSx0KTtjb25zdCByPWUuZ2V0SW1wbCgpLGk9dC5nZXRJbXBsKCk7cmV0dXJuIW5ldyBEcihyLGkscywhMCkubmV4dCgpfHwhSW8oZSx0LHMpfWZ1bmN0aW9uIHdpKHQscyxuLHIpe0JyKHQscyk7Y29uc3QgaT1bXSxvPWJvKHQscyxuLGkpO2lmKC0yPT09byl7Y29uc3QgaT1lLmNvbnN0cnVjdEVtcHR5KCksbz1lLmNvbnN0cnVjdEVtcHR5KCksYT1lLmNvbnN0cnVjdEVtcHR5KCk7bGV0IGgsbTtpZih0LnF1ZXJ5RW52ZWxvcGUoaSkscy5xdWVyeUVudmVsb3BlKG8pLGkuaW5mbGF0ZUNvb3JkcygxZTMqbiwxZTMqbiksby5pbmZsYXRlQ29vcmRzKDFlMypuLDFlMypuKSxhLnNldENvb3Jkcyh7ZW52MkQ6aX0pLGEuaW50ZXJzZWN0KG8pLHQuZ2V0UG9pbnRDb3VudCgpPjEwKXtpZihoPVp0KHQsYSxuLDAsciksaC5pc0VtcHR5KCkpcmV0dXJuITF9ZWxzZSBoPXQ7aWYocy5nZXRQb2ludENvdW50KCk+MTApe2lmKG09WnQocyxhLG4sMCxyKSxtLmlzRW1wdHkoKSlyZXR1cm4hMX1lbHNlIG09cztyZXR1cm4gc3IoaCxtLG4sXCJGKioqKioqKipcIixyLCExKX1pZigwIT09bylyZXR1cm4hMTtjb25zdCBhPW5ldyBOO2ZvcihsZXQgZT0wO2U8aS5sZW5ndGg7ZSs9Mil7Y29uc3QgdD1pW2VdLHM9aVtlKzFdO2EuYWRkWFkodCxzKX1jb25zdCBoPXQuZ2V0Qm91bmRhcnkoKSxtPXMuZ2V0Qm91bmRhcnkoKTtyZXR1cm4gaC5hZGRQb2ludHMobSwwLG0uZ2V0UG9pbnRDb3VudCgpKSwhaC5pc0VtcHR5KCkmJnppKGgsYSxuKX1mdW5jdGlvbiB2aSh0LHMsbixyKXtCcih0LHMpO2NvbnN0IGk9W10sbz1ibyh0LHMsbixpKTtpZigtMj09PW8pe2NvbnN0IGk9ZS5jb25zdHJ1Y3RFbXB0eSgpLG89ZS5jb25zdHJ1Y3RFbXB0eSgpLGE9ZS5jb25zdHJ1Y3RFbXB0eSgpO2xldCBoLG07aWYodC5xdWVyeUVudmVsb3BlKGkpLHMucXVlcnlFbnZlbG9wZShvKSxpLmluZmxhdGVDb29yZHMoMWUzKm4sMWUzKm4pLG8uaW5mbGF0ZUNvb3JkcygxZTMqbiwxZTMqbiksYS5zZXRDb29yZHMoe2VudjJEOml9KSxhLmludGVyc2VjdChvKSx0LmdldFBvaW50Q291bnQoKT4xMCl7aWYoaD1adCh0LGEsbiwwLHIpLGguaXNFbXB0eSgpKXJldHVybiExfWVsc2UgaD10O2lmKHMuZ2V0UG9pbnRDb3VudCgpPjEwKXtpZihtPVp0KHMsYSxuLDAsciksbS5pc0VtcHR5KCkpcmV0dXJuITF9ZWxzZSBtPXM7cmV0dXJuIHNyKGgsbSxuLFwiMCoqKioqKioqXCIsciwhMSl9aWYoMCE9PW8pcmV0dXJuITE7Y29uc3QgYT1uZXcgTjtmb3IobGV0IGU9MDtlPGkubGVuZ3RoO2UrPTIpe2NvbnN0IHQ9aVtlXSxzPWlbZSsxXTthLmFkZFhZKHQscyl9Y29uc3QgaD10LmdldEJvdW5kYXJ5KCksbT1zLmdldEJvdW5kYXJ5KCk7cmV0dXJuIGguYWRkUG9pbnRzKG0sMCxtLmdldFBvaW50Q291bnQoKSksISFoLmlzRW1wdHkoKXx8IXppKGgsYSxuKX1mdW5jdGlvbiBOaSh0LHMsbixyKXtCcih0LHMpO2NvbnN0IGk9ZS5jb25zdHJ1Y3RFbXB0eSgpLG89ZS5jb25zdHJ1Y3RFbXB0eSgpO3QucXVlcnlFbnZlbG9wZShpKSxzLnF1ZXJ5RW52ZWxvcGUobyk7Y29uc3QgYT14byhpLG8sbiksaD14byhvLGksbiksbT10Lmhhc05vbkxpbmVhclNlZ21lbnRzKCksbD1zLmhhc05vbkxpbmVhclNlZ21lbnRzKCksZz1ibyh0LHMsbixudWxsKTtpZigtMT09PWcpcmV0dXJuITE7aWYoMT09PWcpe2lmKGEmJmgpcmV0dXJuITA7aWYoIW0mJiFsKXJldHVybiBhJiYhaD8hQ28ocyx0LG4sITEpOmgmJiFhPyFDbyh0LHMsbiwhMSk6IUNvKHQscyxuLCExKSYmIUNvKHMsdCxuLCExKX1jb25zdCB1PWUuY29uc3RydWN0RW1wdHkoKSxjPWUuY29uc3RydWN0RW1wdHkoKSxfPWUuY29uc3RydWN0RW1wdHkoKTtsZXQgZCxwO3Uuc2V0Q29vcmRzKHtlbnYyRDppfSksdS5pbmZsYXRlQ29vcmRzKDFlMypuLDFlMypuKSxjLnNldENvb3Jkcyh7ZW52MkQ6b30pLGMuaW5mbGF0ZUNvb3JkcygxZTMqbiwxZTMqbiksXy5zZXRDb29yZHMoe2VudjJEOnV9KSxfLmludGVyc2VjdChjKTtsZXQgZj1cIlwiO2lmKGYrPVwiMSpcIixhKXtpZihzLmdldFBvaW50Q291bnQoKT4xMCl7aWYocD1adChzLF8sbiwwLHIpLHAuaXNFbXB0eSgpKXJldHVybiExfWVsc2UgcD1zO2YrPVwiKioqKlwifWVsc2UgcD1zLGYrPVwiVCoqKlwiO2lmKGgpe2lmKHQuZ2V0UG9pbnRDb3VudCgpPjEwKXtpZihkPVp0KHQsXyxuLDAsciksZC5pc0VtcHR5KCkpcmV0dXJuITF9ZWxzZSBkPXQ7Zis9XCIqKipcIn1lbHNlIGQ9dCxmKz1cIlQqKlwiO3JldHVybiBzcihkLHAsbixmLHIsITEpfWZ1bmN0aW9uIFRpKHQscyxuLHIpe2NvbnN0IGk9ZS5jb25zdHJ1Y3RFbXB0eSgpLG89ZS5jb25zdHJ1Y3RFbXB0eSgpO2lmKHQucXVlcnlFbnZlbG9wZShpKSxzLnF1ZXJ5RW52ZWxvcGUobyksIXBvKGksbyxuKSlyZXR1cm4hMTtpZihCcih0LHMpLHQuaGFzTm9uTGluZWFyU2VnbWVudHMoKXx8cy5oYXNOb25MaW5lYXJTZWdtZW50cygpKXtyZXR1cm4gc3IodCxzLG4sXCIqKioqKipGRipcIixyLCExKX1yZXR1cm4gQ28ocyx0LG4sITEpfWZ1bmN0aW9uIEdpKHQscyxuLHIpe2NvbnN0IGk9ZS5jb25zdHJ1Y3RFbXB0eSgpLG89ZS5jb25zdHJ1Y3RFbXB0eSgpO2lmKHQucXVlcnlFbnZlbG9wZShpKSxzLnF1ZXJ5RW52ZWxvcGUobyksIXBvKGksbyxuKSlyZXR1cm4hMTtCcih0LHMpO3JldHVybiBzcih0LHMsbixcIlQqKkZGKkZGKlwiLHIsITEpfWZ1bmN0aW9uIERpKGUsdCxzLG4pe0JyKGUsdCk7cmV0dXJuIXZvKGUsdC5nZXRYWSgpLHMpfWZ1bmN0aW9uIFZpKGUsdCxzLG4pe0JyKGUsdCk7cmV0dXJuIHFvKGUsdC5nZXRYWSgpLHMpfWZ1bmN0aW9uIEZpKGUsdCxzLG4pe0JyKGUsdCk7cmV0dXJuIE5vKGUsdC5nZXRYWSgpLHMpfWZ1bmN0aW9uIEhpKGUsdCxzLG4pe3JldHVybiBCcihlLHQpLCF3byhlLHQscywhMSl9ZnVuY3Rpb24ga2koZSx0LHMsbil7QnIoZSx0KTtjb25zdCByPWUuZ2V0SW1wbCgpLGk9dC5nZXRJbXBsKCksbz1uZXcgTixhPW5ldyBEcihyLGkscywhMSksaD1yLnF1ZXJ5U2VnbWVudEl0ZXJhdG9yKCk7bGV0IG09ITE7Zm9yKDthLm5leHQoKTspe2NvbnN0IGU9YS5nZXRSZWRFbGVtZW50KCksdD1hLmdldEJsdWVFbGVtZW50KCk7aC5yZXNldFRvVmVydGV4KGUsLTEpO2NvbnN0IG49aC5uZXh0U2VnbWVudCgpLHI9aS5nZXRYWSh0KTtuLmlzSW50ZXJzZWN0aW5nUG9pbnQocixzKSYmKG09ITAsby5hZGRQb2ludDJEKHIpKX1pZighbSlyZXR1cm4hMTtjb25zdCBsPWUuZ2V0Qm91bmRhcnkoKTtyZXR1cm4hbC5pc0VtcHR5KCkmJnppKGwsbyxzKX1mdW5jdGlvbiBBaShlLHQscyxuKXtCcihlLHQpO2NvbnN0IHI9ZS5nZXRJbXBsKCksaT10LmdldEltcGwoKSxvPWkuZ2V0UG9pbnRDb3VudCgpLGE9S2UobywhMSksaD1uZXcgRHIocixpLHMsITEpLG09ci5xdWVyeVNlZ21lbnRJdGVyYXRvcigpO2xldCBsPSExO2Zvcig7aC5uZXh0KCk7KXtjb25zdCBlPWguZ2V0UmVkRWxlbWVudCgpLHQ9aC5nZXRCbHVlRWxlbWVudCgpO20ucmVzZXRUb1ZlcnRleChlLC0xKTtjb25zdCBuPW0ubmV4dFNlZ21lbnQoKSxyPWkuZ2V0WFkodCk7bi5pc0ludGVyc2VjdGluZ1BvaW50KHIscykmJihsPSEwLGFbdF09ITApfWlmKCFsKXJldHVybiExO2xldCBnPSExO2ZvcihsZXQgXz0wO188bztfKyspaWYoIWFbX10pe2c9ITA7YnJlYWt9aWYoIWcpcmV0dXJuITE7Y29uc3QgdT1lLmdldEJvdW5kYXJ5KCk7aWYodS5pc0VtcHR5KCkpcmV0dXJuITA7Y29uc3QgYz1uZXcgTjtmb3IobGV0IF89MDtfPG87XysrKWFbX10mJmMuYWRkUG9pbnQyRChpLmdldFhZKF8pKTtyZXR1cm4hemkodSxjLHMpfWZ1bmN0aW9uIE1pKHQscyxuLHIsaSl7Y29uc3Qgbz1lLmNvbnN0cnVjdEVtcHR5KCksYT1lLmNvbnN0cnVjdEVtcHR5KCk7aWYodC5xdWVyeUVudmVsb3BlKG8pLHMucXVlcnlFbnZlbG9wZShhKSwhcG8obyxhLG4pKXJldHVybiExO0JyKHQscyk7Y29uc3QgaD13byh0LHMsbiwhMCk7aWYoIWgpcmV0dXJuIGg7Y29uc3QgbT10LmdldEJvdW5kYXJ5KCk7cmV0dXJuIG0uaXNFbXB0eSgpP2g6IXppKG0scyxuKX1mdW5jdGlvbiBVaSh0LHMsbixyKXtjb25zdCBpPW5ldyBlLG89bmV3IGU7cmV0dXJuIHQucXVlcnlFbnZlbG9wZShpKSxzLnF1ZXJ5RW52ZWxvcGUobyksIShvLmhlaWdodCgpPm4mJm8ud2lkdGgoKT5uKSYmaG8oaSxvLG4pfWZ1bmN0aW9uIHFpKHQscyxuLHIpe2NvbnN0IGk9ZS5jb25zdHJ1Y3RFbXB0eSgpLG89ZS5jb25zdHJ1Y3RFbXB0eSgpO3QucXVlcnlFbnZlbG9wZShpKSxzLnF1ZXJ5RW52ZWxvcGUobyk7Y29uc3QgYT1CbyhvLGksbik7cmV0dXJuIDA9PT1hPyFUbyh0LG8sbik6ND09PWF9ZnVuY3Rpb24gQmkodCxzLHIsbyl7Y29uc3QgYT1uZXcgZSxoPW5ldyBlO2lmKHQucXVlcnlFbnZlbG9wZShhKSxzLnF1ZXJ5RW52ZWxvcGUoaCksaC5oZWlnaHQoKTw9cnx8aC53aWR0aCgpPD1yKXJldHVybiExO2NvbnN0IG09bmV3IGUsbD1uZXcgZTtpZihtLnNldENvb3Jkcyh7ZW52MkQ6aH0pLGwuc2V0Q29vcmRzKHtlbnYyRDpofSksbS5pbmZsYXRlQ29vcmRzKHIsciksbC5pbmZsYXRlQ29vcmRzKC1yLC1yKSxsLmNvbnRhaW5zRW52ZWxvcGUoYSl8fCFhLmlzSW50ZXJzZWN0aW5nKG0pKXJldHVybiExO2NvbnN0IGc9dC5nZXRJbXBsKCkucXVlcnlTZWdtZW50SXRlcmF0b3IoKTtnLnN0cmlwQXR0cmlidXRlcygpO2NvbnN0IHU9dC5nZXRJbXBsKCkuZ2V0QWNjZWxlcmF0b3JzKCk7bGV0IGM9bnVsbCxfPW51bGw7bnVsbCE9PXUmJihjPXUuZ2V0UXVhZFRyZWUoKSxudWxsIT09YyYmKF89Yy5nZXRJdGVyYXRvcihoLHIpKSksX3x8Zy5uZXh0UGF0aCgpfHxpKFwicmVsYXRpb25hbF9vcGVyYXRpb25zXCIpO2xldCBkPSExLHA9bnVsbDtjb25zdCBmPW5ldyBRZSx4PW5ldyBRZSx5PXQuaGFzTm9uTGluZWFyU2VnbWVudHMoKTtsZXQgUD0hMTtmb3IoOzspe2lmKG51bGwhPT1fKXtjb25zdCBlPV8ubmV4dCgpO2lmKC0xPT09ZSlicmVhaztnLnJlc2V0VG9WZXJ0ZXgoYy5nZXRFbGVtZW50KGUpLC0xKSxwPWcubmV4dFNlZ21lbnQoKX1lbHNle2Zvcig7IWcuaGFzTmV4dFNlZ21lbnQoKSYmZy5uZXh0UGF0aCgpOyk7aWYoIWcuaGFzTmV4dFNlZ21lbnQoKSlicmVhaztwPWcubmV4dFNlZ21lbnQoKX1pZih5JiZwLmdldEdlb21ldHJ5VHlwZSgpIT09bi5lbnVtTGluZSl7Y29uc3QgdD1uZXcgZTtpZihwLnF1ZXJ5RW52ZWxvcGUodCksbC5jb250YWluc0VudmVsb3BlKHQpKXJldHVybiExO2lmKG0uaXNJbnRlcnNlY3RpbmcodCkpe1A9ITA7YnJlYWt9fWVsc2V7Zi5hc3NpZ24ocC5nZXRTdGFydFhZKCkpLHguYXNzaWduKHAuZ2V0RW5kWFkoKSk7bGV0IGU9bC5jbGlwTGluZShmLHgpO2lmKDAhPT1lKXJldHVybiExO2R8fChlPW0uY2xpcExpbmUoZix4KSwwIT09ZSYmKGQ9ITApKX19aWYoIVApcmV0dXJuIGQ7Y29uc3QgRT1uZXcgdjtyZXR1cm4gRS5hZGRFbnZlbG9wZShoLCExKSxhaShFLHQscixvKX1mdW5jdGlvbiBPaSh0LHMscixvLGEpe2NvbnN0IGg9ZS5jb25zdHJ1Y3RFbXB0eSgpLG09ZS5jb25zdHJ1Y3RFbXB0eSgpO2lmKHQucXVlcnlFbnZlbG9wZShoKSxzLnF1ZXJ5RW52ZWxvcGUobSksbS5oZWlnaHQoKTw9cnx8bS53aWR0aCgpPD1yKXJldHVybiExO2lmKG8pcmV0dXJuIGZvKG0saCxyKTtpZighcG8obSxoLHIpKXJldHVybiExO2NvbnN0IGw9ZS5jb25zdHJ1Y3RFbXB0eSgpO2wuc2V0Q29vcmRzKHtlbnYyRDptfSksbC5pbmZsYXRlQ29vcmRzKC1yLC1yKTtjb25zdCBnPWUuY29uc3RydWN0RW1wdHkoKTtpZihnLnNldENvb3Jkcyh7ZW52MkQ6bX0pLGcuaW5mbGF0ZUNvb3JkcyhyLHIpLGwuY29udGFpbnNFbnZlbG9wZShoKSlyZXR1cm4hMDtjb25zdCB1PXQuZ2V0SW1wbCgpLnF1ZXJ5U2VnbWVudEl0ZXJhdG9yKCk7dS5zdHJpcEF0dHJpYnV0ZXMoKSx1Lm5leHRQYXRoKCl8fGkoXCJyZWxhdGlvbmFsX29wZXJhdGlvbnNcIik7bGV0IGMsXyxkLHAsZix4LHk9ITE7Y29uc3QgUD10Lmhhc05vbkxpbmVhclNlZ21lbnRzKCk7Zm9yKFAmJihkPW5ldyBILHA9bmV3IEgsZj1uZXcgSCx4PW5ldyBILGwucXVlcnlTaWRlKDAsZCksbC5xdWVyeVNpZGUoMSxwKSxsLnF1ZXJ5U2lkZSgyLGYpLGwucXVlcnlTaWRlKDMseCkpOzspe2Zvcig7IXUuaGFzTmV4dFNlZ21lbnQoKSYmdS5uZXh0UGF0aCgpOyk7aWYoIXUuaGFzTmV4dFNlZ21lbnQoKSlicmVhaztjb25zdCBlPXUubmV4dFNlZ21lbnQoKTtpZihQJiZlLmdldEdlb21ldHJ5VHlwZSgpIT09bi5lbnVtTGluZSl7aWYoZS5pc0ludGVyc2VjdGluZyhkLHIpKXt5PSEwO2JyZWFrfWlmKGUuaXNJbnRlcnNlY3RpbmcocCxyKSl7eT0hMDticmVha31pZihlLmlzSW50ZXJzZWN0aW5nKGYscikpe3k9ITA7YnJlYWt9aWYoZS5pc0ludGVyc2VjdGluZyh4LHIpKXt5PSEwO2JyZWFrfX1lbHNle2M9ZS5nZXRTdGFydFhZKCksXz1lLmdldEVuZFhZKCk7aWYoMCE9PWwuY2xpcExpbmUoYyxfKSl7eT0hMDticmVha319fXJldHVybiB5fWZ1bmN0aW9uIFlpKHQscyxyLGkpe2NvbnN0IG89bmV3IGUsaD1uZXcgZTtpZih0LnF1ZXJ5RW52ZWxvcGUobykscy5xdWVyeUVudmVsb3BlKGgpLGguaGVpZ2h0KCk8PXJ8fGgud2lkdGgoKTw9cilyZXR1cm4hMTtjb25zdCBtPW5ldyBlO2lmKG0uc2V0Q29vcmRzKHtlbnYyRDpofSksbS5pbmZsYXRlQ29vcmRzKHIsciksbS5jb250YWluc0VudmVsb3BlKG8pKXJldHVybiExO2NvbnN0IGw9ITAsZz1uZXcgZTtpZihnLnNldENvb3Jkcyh7ZW52MkQ6aH0pLGcuaW5mbGF0ZUNvb3JkcygtciwtciksIWcuaXNJbnRlcnNlY3RpbmcobykpcmV0dXJuITE7Y29uc3QgdT10LmdldEltcGwoKS5xdWVyeVNlZ21lbnRJdGVyYXRvcigpO3Uuc3RyaXBBdHRyaWJ1dGVzKCk7Y29uc3QgYz10LmdldEltcGwoKS5nZXRBY2NlbGVyYXRvcnMoKTtsZXQgXz1udWxsLGQ9bnVsbDtpZihudWxsIT09YyYmKF89Yy5nZXRRdWFkVHJlZSgpLG51bGwhPT1fJiYoZD1fLmdldEl0ZXJhdG9yKGgscikpKSwhZCl7Y29uc3QgZT11Lm5leHRQYXRoKCk7YShlKX1sZXQgcD0hMSxmPW51bGw7Y29uc3QgeD1uZXcgUWUseT1uZXcgUWU7bGV0IFA9bnVsbCxFPW51bGwsUz1udWxsLEM9bnVsbDtmb3IodC5oYXNOb25MaW5lYXJTZWdtZW50cygpJiYoUD1uZXcgSCxFPW5ldyBILFM9bmV3IEgsQz1uZXcgSCxnLnF1ZXJ5U2lkZSgwLFApLGcucXVlcnlTaWRlKDEsRSksZy5xdWVyeVNpZGUoMixTKSxnLnF1ZXJ5U2lkZSgzLEMpKTs7KXtpZihudWxsIT09ZCl7Y29uc3QgZT1kLm5leHQoKTtpZigtMT09PWUpYnJlYWs7dS5yZXNldFRvVmVydGV4KF8uZ2V0RWxlbWVudChlKSwtMSksZj11Lm5leHRTZWdtZW50KCl9ZWxzZXtmb3IoOyF1Lmhhc05leHRTZWdtZW50KCkmJnUubmV4dFBhdGgoKTspO2lmKCF1Lmhhc05leHRTZWdtZW50KCkpYnJlYWs7Zj11Lm5leHRTZWdtZW50KCl9aWYoZi5nZXRHZW9tZXRyeVR5cGUoKT09PW4uZW51bUxpbmUpe3guYXNzaWduKGYuZ2V0U3RhcnRYWSgpKSx5LmFzc2lnbihmLmdldEVuZFhZKCkpO2lmKDAhPT1nLmNsaXBMaW5lKHgseSkpe3A9ITA7YnJlYWt9fWVsc2V7aWYoUC5pc0ludGVyc2VjdGluZyhmLHIpKXtwPSEwO2JyZWFrfWlmKEUuaXNJbnRlcnNlY3RpbmcoZixyKSl7cD0hMDticmVha31pZihTLmlzSW50ZXJzZWN0aW5nKGYscikpe3A9ITA7YnJlYWt9aWYoQy5pc0ludGVyc2VjdGluZyhmLHIpKXtwPSEwO2JyZWFrfX19cmV0dXJuIHAmJmx9ZnVuY3Rpb24gUmkodCxzLG4scil7Y29uc3QgaT1lLmNvbnN0cnVjdEVtcHR5KCksbz1lLmNvbnN0cnVjdEVtcHR5KCk7cmV0dXJuIHQucXVlcnlFbnZlbG9wZShpKSxzLnF1ZXJ5RW52ZWxvcGUobyksISFobyhpLG8sbikmJighIVBvKHQscyxuKXx8RW8odCxzLG4sITEsITAsITEpKX1mdW5jdGlvbiBYaShlLHQscyxuKXtjb25zdCByPWUsaT10LG89bmV3IERyKHIsaSxzLCExKSxhPXMqcyxoPW5ldyBRZSxtPW5ldyBRZTtmb3IoO28ubmV4dCgpOyl7Y29uc3QgZT1vLmdldFJlZEVsZW1lbnQoKSx0PW8uZ2V0Qmx1ZUVsZW1lbnQoKTtpZihyLnF1ZXJ5WFkoZSxoKSxpLnF1ZXJ5WFkodCxtKSxRZS5zcXJEaXN0YW5jZShoLG0pPD1hKXJldHVybiExfXJldHVybiEwfWZ1bmN0aW9uIExpKGUsdCxzLG4pe3JldHVybiBFbyhlLHQscywhMSwhMSwhMCl9ZnVuY3Rpb24gemkodCxzLG4scil7Y29uc3QgaT1lLmNvbnN0cnVjdEVtcHR5KCksbz1lLmNvbnN0cnVjdEVtcHR5KCk7cmV0dXJuIHQucXVlcnlFbnZlbG9wZShpKSxzLnF1ZXJ5RW52ZWxvcGUobyksISFwbyhpLG8sbikmJkVvKHMsdCxuLCEwLCExLCExKX1mdW5jdGlvbiBXaSh0LHMsbixyKXtjb25zdCBpPWUuY29uc3RydWN0RW1wdHkoKSxvPWUuY29uc3RydWN0RW1wdHkoKTtyZXR1cm4gdC5xdWVyeUVudmVsb3BlKGkpLHMucXVlcnlFbnZlbG9wZShvKSxobyhpLG8sbil9ZnVuY3Rpb24gamkoZSx0LHMsbil7cmV0dXJuIFVvKGUsdC5nZXRYWSgpLHMpfWZ1bmN0aW9uIFppKGUsdCxzLG4pe3JldHVybiBXaShlLHQscyl9ZnVuY3Rpb24gS2koZSx0LHMsbil7cmV0dXJuIWppKGUsdCxzKX1mdW5jdGlvbiBRaSh0LHMsbixyKXtjb25zdCBpPW5ldyBlLG89bmV3IGU7cmV0dXJuIHQucXVlcnlFbnZlbG9wZShpKSxzLnF1ZXJ5RW52ZWxvcGUobyksIShvLmhlaWdodCgpPm58fG8ud2lkdGgoKT5uKSYmaG8oaSxvLG4pfWZ1bmN0aW9uIEppKHQscyxuLHIpe2NvbnN0IGk9ZS5jb25zdHJ1Y3RFbXB0eSgpLG89ZS5jb25zdHJ1Y3RFbXB0eSgpO2lmKHQucXVlcnlFbnZlbG9wZShpKSxzLnF1ZXJ5RW52ZWxvcGUobykscG8obyxpLG4pKXJldHVybiExO2NvbnN0IGE9ZS5jb25zdHJ1Y3RFbXB0eSgpO2Euc2V0Q29vcmRzKHtlbnYyRDpvfSksYS5pbmZsYXRlQ29vcmRzKG4sbik7Y29uc3QgaD1uZXcgUWU7Zm9yKGxldCBlPTA7ZTx0LmdldFBvaW50Q291bnQoKTtlKyspaWYodC5xdWVyeVhZKGUsaCksYS5jb250YWlucyhoKSlyZXR1cm4hMTtyZXR1cm4hMH1mdW5jdGlvbiAkaSh0LHMsbixyKXtjb25zdCBpPW5ldyBlLG89bmV3IGUsYT1uZXcgZTtpZihzLnF1ZXJ5RW52ZWxvcGUoaSksaS5oZWlnaHQoKTw9bnx8aS53aWR0aCgpPD1uKXJldHVybiExO28uc2V0Q29vcmRzKHtlbnYyRDppfSksYS5zZXRDb29yZHMoe2VudjJEOml9KSxvLmluZmxhdGVDb29yZHMobixuKSxhLmluZmxhdGVDb29yZHMoLW4sLW4pO2NvbnN0IGg9bmV3IFFlO2xldCBtPSExO2ZvcihsZXQgZT0wO2U8dC5nZXRQb2ludENvdW50KCk7ZSsrKWlmKHQucXVlcnlYWShlLGgpLG8uY29udGFpbnMoaCkpe2lmKGEuY29udGFpbnNFeGNsdXNpdmUoaCkpcmV0dXJuITE7bT0hMH1yZXR1cm4gbX1mdW5jdGlvbiBlbyh0LHMsbixyLGkpe2NvbnN0IG89ZS5jb25zdHJ1Y3RFbXB0eSgpLGE9ZS5jb25zdHJ1Y3RFbXB0eSgpO2lmKHQucXVlcnlFbnZlbG9wZShvKSxzLnF1ZXJ5RW52ZWxvcGUoYSksYS5oZWlnaHQoKTw9bnx8YS53aWR0aCgpPD1uKXJldHVybiExO2lmKHIpcmV0dXJuIGZvKGEsbyxuKTtpZighcG8oYSxvLG4pKXJldHVybiExO2xldCBoPSExO2NvbnN0IG09ZS5jb25zdHJ1Y3RFbXB0eSgpLGw9ZS5jb25zdHJ1Y3RFbXB0eSgpO20uc2V0Q29vcmRzKHtlbnYyRDphfSksbC5zZXRDb29yZHMoe2VudjJEOmF9KSxtLmluZmxhdGVDb29yZHMoLW4sLW4pLGwuaW5mbGF0ZUNvb3JkcyhuLG4pO2NvbnN0IGc9bmV3IFFlO2ZvcihsZXQgZT0wO2U8dC5nZXRQb2ludENvdW50KCk7ZSsrKXtpZih0LnF1ZXJ5WFkoZSxnKSwhbC5jb250YWlucyhnKSlyZXR1cm4hMTttLmNvbnRhaW5zRXhjbHVzaXZlKGcpJiYoaD0hMCl9cmV0dXJuIGh9ZnVuY3Rpb24gdG8odCxzLG4scil7Y29uc3QgaT1uZXcgZSxvPW5ldyBlO2lmKHQucXVlcnlFbnZlbG9wZShpKSxzLnF1ZXJ5RW52ZWxvcGUobykscG8obyxpLG4pKXJldHVybiExO2lmKG8uaGVpZ2h0KCk8PW58fG8ud2lkdGgoKTw9bilyZXR1cm4hMTtjb25zdCBhPW5ldyBlLGg9bmV3IGU7YS5zZXRDb29yZHMoe2VudjJEOm99KSxhLmluZmxhdGVDb29yZHMoLW4sLW4pLGguc2V0Q29vcmRzKHtlbnYyRDpvfSksaC5pbmZsYXRlQ29vcmRzKG4sbik7Y29uc3QgbT1uZXcgUWU7bGV0IGw9ITEsZz0hMTtmb3IobGV0IGU9MDtlPHQuZ2V0UG9pbnRDb3VudCgpO2UrKylpZih0LnF1ZXJ5WFkoZSxtKSwhbCYmYS5jb250YWluc0V4Y2x1c2l2ZShtKSYmKGw9ITApLGd8fGguY29udGFpbnMobSl8fChnPSEwKSxsJiZnKXJldHVybiEwO3JldHVybiExfWZ1bmN0aW9uIHNvKGUsdCxzLG4pe3JldHVybiBRZS5zcXJEaXN0YW5jZShlLHQpPD1zKnN9ZnVuY3Rpb24gbm8oZSx0LHMsbil7cmV0dXJuIFFlLnNxckRpc3RhbmNlKGUsdCk+cypzfWZ1bmN0aW9uIHJvKGUsdCxzLG4pe3JldHVybiBzbyhlLHQscyl9ZnVuY3Rpb24gaW8odCxzLG4scil7Y29uc3QgaT1uZXcgZTtyZXR1cm4gaS5zZXRDb29yZHMoe3B0OnR9KSxobyhpLHMsbil9ZnVuY3Rpb24gb28odCxzLG4scil7aWYocy5oZWlnaHQoKTw9bnx8cy53aWR0aCgpPD1uKXJldHVybiExO2NvbnN0IGk9bmV3IGUsbz1uZXcgZTtyZXR1cm4gaS5zZXRDb29yZHMoe2VudjJEOnN9KSxpLmluZmxhdGVDb29yZHMobixuKSwhIWkuY29udGFpbnModCkmJihvLnNldENvb3Jkcyh7ZW52MkQ6c30pLG8uaW5mbGF0ZUNvb3JkcygtbiwtbiksIW8uY29udGFpbnNFeGNsdXNpdmUodCkpfWZ1bmN0aW9uIGFvKHQscyxuLHIpe2lmKHMuaGVpZ2h0KCk8PW58fHMud2lkdGgoKTw9bilyZXR1cm4hMTtjb25zdCBpPWUuY29uc3RydWN0RW1wdHkoKTtpLnNldENvb3Jkcyh7ZW52MkQ6c30pLGkuaW5mbGF0ZUNvb3Jkcygtbiwtbik7cmV0dXJuIGkuY29udGFpbnNFeGNsdXNpdmUodCl9ZnVuY3Rpb24gaG8oZSx0LHMsbil7cmV0dXJuIHBvKGUsdCxzKSYmcG8odCxlLHMpfWZ1bmN0aW9uIG1vKHQscyxuLHIpe2lmKHQuaGVpZ2h0KCk8PW58fHQud2lkdGgoKTw9bnx8cy5oZWlnaHQoKTw9bnx8cy53aWR0aCgpPD1uKXJldHVybiExO2NvbnN0IGk9bmV3IGU7cmV0dXJuIGkuc2V0Q29vcmRzKHtlbnYyRDp0fSksaS5pbmZsYXRlQ29vcmRzKC1uLC1uKSxpLmludGVyc2VjdChzKSwhKCFpLmlzRW1wdHkoKSYmaS5oZWlnaHQoKT5uJiZpLndpZHRoKCk+bikmJihpLnNldENvb3Jkcyh7ZW52MkQ6dH0pLGkuaW5mbGF0ZUNvb3JkcyhuLG4pLGkuaW50ZXJzZWN0KHMpLCFpLmlzRW1wdHkoKSl9ZnVuY3Rpb24gbG8odCxzLG4scil7aWYodC5oZWlnaHQoKTw9bnx8dC53aWR0aCgpPD1ufHxzLmhlaWdodCgpPD1ufHxzLndpZHRoKCk8PW4pcmV0dXJuITE7aWYocG8odCxzLG4pKXJldHVybiExO2lmKHBvKHMsdCxuKSlyZXR1cm4hMTtjb25zdCBpPW5ldyBlO3JldHVybiBpLnNldENvb3Jkcyh7ZW52MkQ6dH0pLGkuaW5mbGF0ZUNvb3JkcygtbiwtbiksaS5pbnRlcnNlY3QocyksIWkuaXNFbXB0eSgpJiYoaS5oZWlnaHQoKT5ufHxpLndpZHRoKCk+bil9ZnVuY3Rpb24gZ28odCxzLG4scixpKXtpZih0LmhlaWdodCgpPD1ufHx0LndpZHRoKCk8PW4pcmV0dXJuITE7aWYocilyZXR1cm4gZm8odCxzLG4pO2lmKCFwbyh0LHMsbikpcmV0dXJuITE7Y29uc3Qgbz1lLmNvbnN0cnVjdEVtcHR5KCk7cmV0dXJuIG8uc2V0Q29vcmRzKHtlbnYyRDp0fSksby5pbmZsYXRlQ29vcmRzKC1uLC1uKSxvLmludGVyc2VjdChzKSwhby5pc0VtcHR5KCl9ZnVuY3Rpb24gdW8odCxzLHIsaSxvKXtjb25zdCBhPW5ldyBRZSxoPW5ldyBRZSxtPWUuY29uc3RydWN0RW1wdHkoKSxsPWUuY29uc3RydWN0RW1wdHkoKSxnPXQuZ2V0SW1wbCgpLHU9cy5nZXRJbXBsKCksYz11LmdldEdlb21ldHJ5VHlwZSgpLF89bmV3IERyKGcsdSxyLCEwKTtpZighXy5uZXh0KCkpcmV0dXJuIDE7aWYoSW8odCxzLHIpKXJldHVybiBpPzQ6MDtjb25zdCBkPW5ldyB2O2xldCBwPXQ7Y29uc3QgZj1uZXcgdjtsZXQgeD1udWxsO2M9PT1uLmVudW1Qb2x5Z29uJiYoeD1zKTtjb25zdCB5PWM9PT1uLmVudW1Qb2x5Z29uP0tlKGcuZ2V0UGF0aENvdW50KCksITEpOltdLFA9S2UodS5nZXRQYXRoQ291bnQoKSwhMSk7bGV0IEU9ITEsUz0hMSxDPSExLEk9ITEsYj0hMSx3PSExO2Rve2lmKEMmJmJ8fEkmJncpYnJlYWs7aWYoQyYmSSlicmVhaztjb25zdCBlPV8uZ2V0UmVkRWxlbWVudCgpLG89Xy5nZXRCbHVlRWxlbWVudCgpO2lmKCFQW29dJiYoaC5hc3NpZ24ocy5nZXRYWShzLmdldFBhdGhTdGFydChvKSkpLG0uc2V0Q29vcmRzKHtlbnYyRDpfLmdldFJlZEVudmVsb3BlKCl9KSxtLmluZmxhdGVDb29yZHMocixyKSxtLmNvbnRhaW5zKGgpKSl7aWYoMCE9PUxvKHAsaCwwKSl7aWYoST0hMCxpKXJldHVybiA0fWVsc2Ugdz0hMDtQW29dPSEwfWlmKGM9PT1uLmVudW1Qb2x5Z29uJiYheVtlXSYmKGEuYXNzaWduKHQuZ2V0WFkodC5nZXRQYXRoU3RhcnQoZSkpKSxsLnNldENvb3Jkcyh7ZW52MkQ6Xy5nZXRCbHVlRW52ZWxvcGUoKX0pLGwuaW5mbGF0ZUNvb3JkcyhyLHIpLGwuY29udGFpbnMoYSkpKXtpZigwIT09TG8oeCxhLDApKXtpZihDPSEwLGkpcmV0dXJuIDR9ZWxzZSBiPSEwO3lbZV09ITB9aWYoRXx8KCFXbih0LHMuZ2V0UGF0aENvdW50KCktMSl8fG51bGwhPT1nLmdldEFjY2VsZXJhdG9ycygpJiZudWxsIT09Zy5nZXRBY2NlbGVyYXRvcnMoKS5nZXRRdWFkVHJlZSgpP3A9dDoodC5jb3B5VG8oZCksZC5nZXRJbXBsKCkuYnVpbGRRdWFkVHJlZUFjY2VsZXJhdG9yKDEpLHA9ZCksRT0hMCksYz09PW4uZW51bVBvbHlnb24mJiFTKXtjb25zdCBlPXM7IVduKGUsdC5nZXRQYXRoQ291bnQoKS0xKXx8bnVsbCE9PXUuZ2V0QWNjZWxlcmF0b3JzKCkmJm51bGwhPT11LmdldEFjY2VsZXJhdG9ycygpLmdldFF1YWRUcmVlKCk/eD1zOihlLmNvcHlUbyhmKSxmLmdldEltcGwoKS5idWlsZFF1YWRUcmVlQWNjZWxlcmF0b3IoMSkseD1mKSxTPSEwfX13aGlsZShfLm5leHQoKSk7aWYoIUMmJiFJKXJldHVybiAxO2lmKCFifHwhdyl7aWYoYz09PW4uZW51bVBvbHlnb24pZm9yKGxldCBlPTAsdD1nLmdldFBhdGhDb3VudCgpO2U8dDtlKyspaWYoIXlbZV0pe2I9ITA7YnJlYWt9Zm9yKGxldCBlPTAsdD11LmdldFBhdGhDb3VudCgpO2U8dDtlKyspaWYoIVBbZV0pe3c9ITA7YnJlYWt9fXJldHVybiBDJiZifHxJJiZ3fHxDJiZJPzQ6ST8yOjN9ZnVuY3Rpb24gY28odCxzLG4scixpKXtjb25zdCBvPWUuY29uc3RydWN0RW1wdHkoKTt0LnF1ZXJ5RW52ZWxvcGUobyksby5pbmZsYXRlQ29vcmRzKG4sbik7Y29uc3QgYT1uZXcgUWUsaD10LmdldEltcGwoKSxtPW5ldyB2O2xldCBsPXQsZz0hMSx1PSExLGM9ITE7Zm9yKGxldCBlPTA7ZTxzLmdldFBvaW50Q291bnQoKTtlKyspe2lmKHMucXVlcnlYWShlLGEpLG8uY29udGFpbnMoYSkpe2NvbnN0IGU9TG8obCxhLG4pO2lmKDE9PT1lKXJldHVybiB1PSEwLDQ7aWYoMj09PWUpcmV0dXJuIDQ7Yz0hMH1lbHNlIGM9ITA7Z3x8KCFXbih0LHMuZ2V0UG9pbnRDb3VudCgpLTEpfHxudWxsIT09aC5nZXRBY2NlbGVyYXRvcnMoKSYmbnVsbCE9aC5nZXRBY2NlbGVyYXRvcnMoKS5nZXRRdWFkVHJlZSgpP2w9dDoodC5jb3B5VG8obSksbS5nZXRJbXBsKCkuYnVpbGRRdWFkVHJlZUFjY2VsZXJhdG9yKDEpLGw9bSksZz0hMCl9cmV0dXJuIHU/Yz80OjI6MX1mdW5jdGlvbiBfbyh0LHMscixpLG8pe2lbMF09ITE7Y29uc3QgaD10LmdldEltcGwoKSxtPXMuZ2V0SW1wbCgpLGw9aC5xdWVyeVNlZ21lbnRJdGVyYXRvcigpLGc9bS5xdWVyeVNlZ21lbnRJdGVyYXRvcigpLHU9WzAsMF0sYz1bMCwwXSxfPW5ldyBEcihoLG0scik7bGV0IGQ9ITE7Zm9yKDtfLm5leHQoKTspe2NvbnN0IGU9Xy5nZXRSZWRFbGVtZW50KCksdD1fLmdldEJsdWVFbGVtZW50KCk7bC5yZXNldFRvVmVydGV4KGUsLTEpLGcucmVzZXRUb1ZlcnRleCh0LC0xKTtjb25zdCBzPWwubmV4dFNlZ21lbnQoKSxuPWcubmV4dFNlZ21lbnQoKTtsZXQgbz0wO2lmKE9vKHMsbik/IWQmJm4uaXNJbnRlcnNlY3RpbmcocyxyKSYmKGQ9ITApOm89bi5pbnRlcnNlY3QocyxudWxsLGMsdSxyKSwwIT09byYmKGQ9ITAsMT09PW8pKXtjb25zdCBlPXVbMF0sdD1jWzBdO2lmKGU+MCYmZTwxJiZ0PjAmJnQ8MSlyZXR1cm4gaVswXT0hMCwhMX19aWYoIWQpe2lbMF09ITA7Y29uc3Qgbz1lLmNvbnN0cnVjdEVtcHR5KCk7dC5xdWVyeUVudmVsb3BlKG8pLG8uaW5mbGF0ZUNvb3JkcyhyLHIpO2NvbnN0IGw9bmV3IHY7bGV0IGc9dCx1PSExO2ZvcihsZXQgbj0wLHI9cy5nZXRQYXRoQ291bnQoKTtuPHI7bisrKWlmKHMuZ2V0UGF0aFNpemUobik+MCl7Y29uc3Qgcj1lLmNvbnN0cnVjdEVtcHR5KCk7aWYocy5xdWVyeVBhdGhFbnZlbG9wZShuLHIpLCFvLmlzSW50ZXJzZWN0aW5nKHIpKXJldHVybiExO3tjb25zdCBlPXpuKGcscy5nZXRYWShzLmdldFBhdGhTdGFydChuKSksMCk7aWYoYSgtMSE9PWUpLDA9PT1lKXJldHVybiExfXV8fCghV24odCxzLmdldFBhdGhDb3VudCgpLTEpfHxudWxsIT09aC5nZXRBY2NlbGVyYXRvcnMoKSYmbnVsbCE9PWguZ2V0QWNjZWxlcmF0b3JzKCkuZ2V0UXVhZFRyZWUoKT9nPXQ6KHQuY29weVRvKGwpLGwuZ2V0SW1wbCgpLmJ1aWxkUXVhZFRyZWVBY2NlbGVyYXRvcigxKSxnPWwpLHU9ITApfWlmKDE9PT10LmdldFBhdGhDb3VudCgpfHxzLmdldEdlb21ldHJ5VHlwZSgpPT09bi5lbnVtUG9seWxpbmUpcmV0dXJuITA7Y29uc3QgYz1zLF89ZS5jb25zdHJ1Y3RFbXB0eSgpO2MucXVlcnlFbnZlbG9wZShfKSxfLmluZmxhdGVDb29yZHMocixyKTtjb25zdCBkPW5ldyB2O2xldCBwPWMsZj0hMTtmb3IobGV0IHM9MCxuPXQuZ2V0UGF0aENvdW50KCk7czxuO3MrKylpZih0LmdldFBhdGhTaXplKHMpPjApe2NvbnN0IG49ZS5jb25zdHJ1Y3RFbXB0eSgpO2lmKHQucXVlcnlQYXRoRW52ZWxvcGUocyxuKSxfLmlzSW50ZXJzZWN0aW5nKG4pKXtjb25zdCBlPXpuKHAsdC5nZXRYWSh0LmdldFBhdGhTdGFydChzKSksMCk7aWYoYSgtMSE9PWUpLDE9PT1lKXJldHVybiExfWZ8fCghV24oYyx0LmdldFBhdGhDb3VudCgpLTEpfHxudWxsIT09bS5nZXRBY2NlbGVyYXRvcnMoKSYmbnVsbCE9PW0uZ2V0QWNjZWxlcmF0b3JzKCkuZ2V0UXVhZFRyZWUoKT9wPWM6KGMuY29weVRvKGQpLGQuZ2V0SW1wbCgpLmJ1aWxkUXVhZFRyZWVBY2NlbGVyYXRvcigxKSxwPWQpLGY9ITApfXJldHVybiEwfXJldHVybiExfWZ1bmN0aW9uIHBvKHQscyxuKXtjb25zdCByPWUuY29uc3RydWN0RW1wdHkoKTtyZXR1cm4gci5zZXRDb29yZHMoe2VudjJEOnR9KSxyLmluZmxhdGVDb29yZHMobixuKSxyLmNvbnRhaW5zRW52ZWxvcGUocyl9ZnVuY3Rpb24gZm8odCxzLG4pe2NvbnN0IHI9ZS5jb25zdHJ1Y3RFbXB0eSgpO3JldHVybiByLnNldENvb3Jkcyh7ZW52MkQ6c30pLHIuaW5mbGF0ZUNvb3JkcyhuLG4pLHQuY29udGFpbnNFeGNsdXNpdmVFbnZlbG9wZShyKX1mdW5jdGlvbiB4byh0LHMsbil7Y29uc3Qgcj1lLmNvbnN0cnVjdEVtcHR5KCk7cmV0dXJuIHIuc2V0Q29vcmRzKHtlbnYyRDpzfSksci5pbmZsYXRlQ29vcmRzKG4sbiksIXIuY29udGFpbnModC5nZXRMb3dlckxlZnQoKSl8fCghci5jb250YWlucyh0LmdldExvd2VyUmlnaHQoKSl8fCghci5jb250YWlucyh0LmdldFVwcGVyTGVmdCgpKXx8IXIuY29udGFpbnModC5nZXRVcHBlclJpZ2h0KCkpKSl9ZnVuY3Rpb24geW8oZSx0LHMsbil7aWYoZS5nZXRQYXRoQ291bnQoKSE9PXQuZ2V0UGF0aENvdW50KCl8fGUuZ2V0UG9pbnRDb3VudCgpIT09dC5nZXRQb2ludENvdW50KCkpcmV0dXJuITE7aWYoZS5oYXNOb25MaW5lYXJTZWdtZW50cygpfHx0Lmhhc05vbkxpbmVhclNlZ21lbnRzKCkpcmV0dXJuIGUuZXF1YWxzKHQpO2NvbnN0IHI9bmV3IFFlLGk9bmV3IFFlO2xldCBvPSEwO2NvbnN0IGE9cypzO2ZvcihsZXQgaD0wO2g8ZS5nZXRQYXRoQ291bnQoKTtoKyspe2lmKGUuZ2V0UGF0aEVuZChoKSE9PXQuZ2V0UGF0aEVuZChoKSl7bz0hMTticmVha31mb3IobGV0IHM9ZS5nZXRQYXRoU3RhcnQoaCk7czx0LmdldFBhdGhFbmQoaCk7cysrKWlmKGUucXVlcnlYWShzLHIpLHQucXVlcnlYWShzLGkpLFFlLnNxckRpc3RhbmNlKHIsaSk+YSl7bz0hMTticmVha31pZighbylicmVha31yZXR1cm4hIW99ZnVuY3Rpb24gUG8oZSx0LHMsbil7aWYoZS5nZXRQb2ludENvdW50KCkhPT10LmdldFBvaW50Q291bnQoKSlyZXR1cm4hMTtjb25zdCByPW5ldyBRZSxpPW5ldyBRZTtsZXQgbz0hMDtjb25zdCBhPXMqcztmb3IobGV0IGg9MDtoPGUuZ2V0UG9pbnRDb3VudCgpO2grKylpZihlLnF1ZXJ5WFkoaCxyKSx0LnF1ZXJ5WFkoaCxpKSxRZS5zcXJEaXN0YW5jZShyLGkpPmEpe289ITE7YnJlYWt9cmV0dXJuISFvfWZ1bmN0aW9uIEVvKGUsdCxzLG4scixpLG8pe2NvbnN0IGE9ZS5nZXRJbXBsKCksaD10LmdldEltcGwoKSxtPWEuZ2V0UG9pbnRDb3VudCgpLGw9aC5nZXRQb2ludENvdW50KCksZz1LZShtLCExKSx1PXJ8fGk/S2UobCwhMSk6W10sYz1zKnMsXz1uZXcgRHIoYSxoLHMpO2Zvcig7Xy5uZXh0KCk7KXtjb25zdCBlPV8uZ2V0UmVkRWxlbWVudCgpLHQ9Xy5nZXRCbHVlRWxlbWVudCgpLHM9YS5nZXRYWShlKSxuPWguZ2V0WFkodCk7UWUuc3FyRGlzdGFuY2UocyxuKTw9YyYmKGdbZV09ITAsKHJ8fGkpJiYodVt0XT0hMCkpfWxldCBkPSExLHA9ITE7Zm9yKGxldCB5PTA7eTxtO3krKyl7Y29uc3QgZT1nW3ldO2lmKGR8fD0hZSxwfHw9ZSwocnx8bikmJmQpcmV0dXJuITF9aWYobilyZXR1cm4hMDtsZXQgZj0hMSx4PSExO2ZvcihsZXQgeT0wO3k8bDt5Kyspe2NvbnN0IGU9dVt5XTtpZihmfHw9IWUseHx8PWUsciYmZilyZXR1cm4hMX1yZXR1cm4hIXJ8fGQmJnAmJmYmJnh9ZnVuY3Rpb24gU28oZSx0LHMsbil7cmV0dXJuIENvKGUsdCxzLG4pJiZDbyh0LGUscyxuKX1mdW5jdGlvbiBDbyh0LHMsbixyKXtpZih5KHQpLHkocykscy5pc0VtcHR5KCkpcmV0dXJuITE7bGV0IG89ITA7Y29uc3QgYT1LZSgyLE51bWJlci5OYU4pLGg9S2UoMixOdW1iZXIuTmFOKSxtPVtdLGw9bmV3IFJvO2xldCBnO2NvbnN0IHU9ZS5jb25zdHJ1Y3RFbXB0eSgpLGM9ZS5jb25zdHJ1Y3RFbXB0eSgpLF89ZS5jb25zdHJ1Y3RFbXB0eSgpO3QucXVlcnlFbnZlbG9wZSh1KSxzLnF1ZXJ5RW52ZWxvcGUoYyksdS5pbmZsYXRlQ29vcmRzKG4sbiksYy5pbmZsYXRlQ29vcmRzKG4sbiksXy5zZXRDb29yZHMoe2VudjJEOnV9KSxfLmludGVyc2VjdChjKTtjb25zdCBkPXQuZ2V0SW1wbCgpLnF1ZXJ5U2VnbWVudEl0ZXJhdG9yKCkscD1zLmdldEltcGwoKS5xdWVyeVNlZ21lbnRJdGVyYXRvcigpLGY9cy5nZXRJbXBsKCkuZ2V0QWNjZWxlcmF0b3JzKCk7bGV0IHg9bnVsbCxQPW51bGwsRT1udWxsLFM9bnVsbDtpZihudWxsIT09ZiYmKHg9Zi5nZXRRdWFkVHJlZSgpLFA9Zi5nZXRRdWFkVHJlZUZvclBhdGhzKCksbnVsbCE9PVAmJihTPVAuZ2V0SXRlcmF0b3JGb3JRVCgpKSksbnVsbD09PXgpe2NvbnN0IGU9dC5nZXRQb2ludENvdW50KCksbj1zLmdldFBvaW50Q291bnQoKTtlPjEwJiZuPjEwJiYoeD1WZShzLmdldEltcGwoKSxfKSl9Zm9yKG51bGwhPT14JiYoRT14LmdldEl0ZXJhdG9yRm9yUVQoKSk7ZC5uZXh0UGF0aCgpOylmb3IoO2QuaGFzTmV4dFNlZ21lbnQoKTspe2xldCBlPWQubmV4dFNlZ21lbnQoKTtpZihlLnF1ZXJ5RW52ZWxvcGUodSksIXUuaXNJbnRlcnNlY3RpbmcoXykpcmV0dXJuIG89ITEsITE7aWYobnVsbCE9PVMmJihTLnJlc2V0SXRlcmF0b3IodSxuKSwtMT09PVMubmV4dCgpKSljb250aW51ZTtsZXQgdD0wLHM9bnVsbDtpZihudWxsIT1FKUUucmVzZXRJdGVyYXRvcihlLG4pO2Vsc2UgaWYocC5yZXNldFRvRmlyc3RQYXRoKCksIXAubmV4dFBhdGgoKSlyZXR1cm4gbz0hMSwhMTtkb3tpZih0PTAsbnVsbCE9PUUpe2NvbnN0IHI9RS5uZXh0KCk7aWYoLTE9PT1yKXJldHVybiBvPSExLCExO3AucmVzZXRUb1ZlcnRleCh4LmdldEVsZW1lbnQociksLTEpLHM9cC5uZXh0U2VnbWVudCgpLHQ9ZS5pbnRlcnNlY3QocyxudWxsLGEsaCxuKX1lbHNle2Zvcig7IXAuaGFzTmV4dFNlZ21lbnQoKTspaWYoIXAubmV4dFBhdGgoKSlyZXR1cm4gbz0hMSwhMTtzPXAubmV4dFNlZ21lbnQoKSxzLnF1ZXJ5RW52ZWxvcGUoYyksYy5pbmZsYXRlQ29vcmRzKG4sbiksdS5pc0ludGVyc2VjdGluZyhjKSYmKHQ9ZS5pbnRlcnNlY3QocyxudWxsLGEsaCxuKSl9fXdoaWxlKDIhPT10fHwwIT09YVswXXx8ciYmIShoWzBdPD1oWzFdKSk7bGV0IGY9TnVtYmVyLk5hTix5PSExO2Rve2xldCByPSExO2lmKDE9PT1hWzFdKXtpZighZC5oYXNOZXh0U2VnbWVudCgpKXt5PSEwO2JyZWFrfWU9ZC5uZXh0U2VnbWVudCgpLHI9ITB9aWYoMT09PWhbMV0mJmhbMF08PWhbMV0pe2lmKC0xPT09ZilicmVhaztpZihmPTEsIXAuaGFzTmV4dFNlZ21lbnQoKSlicmVhaztzPXAubmV4dFNlZ21lbnQoKSxyPSEwfWlmKDA9PT1oWzFdJiZoWzBdPmhbMV0pe2lmKDE9PT1mKWJyZWFrO2lmKE51bWJlci5pc05hTihmKSl7aWYoIXAuaGFzUHJldmlvdXNTZWdtZW50KCkpYnJlYWs7cC5wcmV2aW91c1NlZ21lbnQoKSxmPS0xfWlmKCFwLmhhc1ByZXZpb3VzU2VnbWVudCgpKWJyZWFrO3M9cC5wcmV2aW91c1NlZ21lbnQoKSxyPSEwfWlmKCFyKWJyZWFrO3Q9ZS5pbnRlcnNlY3QocyxudWxsLGEsaCxuKX13aGlsZSgyPT09dCYmKCFyfHxoWzBdPD1oWzFdKSk7aWYoeSljb250aW51ZTtjb25zdCBQPWUuY2FsY3VsYXRlTGVuZ3RoMkQoKTtlLnF1ZXJ5RW52ZWxvcGUodSksbS5sZW5ndGg9MCxsLm1fb3ZlcmxhcEV2ZW50cy5sZW5ndGg9MDtsZXQgQz0hMSxJPSExLGI9MDtjb25zdCB3PWxlKG51bGwsdSwhMCk7Zm9yKG51bGwhPT1FP0UucmVzZXRJdGVyYXRvcihlLG4pOihwLnJlc2V0VG9GaXJzdFBhdGgoKSxwLm5leHRQYXRoKCl8fGkoXCJyZWxhdGlvbmFsX29wZXJhdGlvbnNcIikpOzspe2lmKHQ9MCxudWxsIT09RSl7Y29uc3Qgcj1FLm5leHQoKTtpZigtMT09PXIpYnJlYWs7cC5yZXNldFRvVmVydGV4KHguZ2V0RWxlbWVudChyKSwtMSkscz1wLm5leHRTZWdtZW50KCksdD1lLmludGVyc2VjdChzLG51bGwsYSxoLG4pfWVsc2V7Zm9yKDshcC5oYXNOZXh0U2VnbWVudCgpJiZwLm5leHRQYXRoKCk7KTtpZighcC5oYXNOZXh0U2VnbWVudCgpKWJyZWFrO3M9cC5uZXh0U2VnbWVudCgpLHMucXVlcnlFbnZlbG9wZShjKSxjLmluZmxhdGVDb29yZHMobixuKSx1LmlzSW50ZXJzZWN0aW5nKGMpJiYodD1lLmludGVyc2VjdChzLG51bGwsYSxoLG4pKX1pZigyPT09dCYmKCFyfHxoWzBdPD1oWzFdKSl7Y29uc3QgZT1kLmdldFN0YXJ0UG9pbnRJbmRleCgpLHQ9ZC5nZXRQYXRoSW5kZXgoKSxzPXAuZ2V0U3RhcnRQb2ludEluZGV4KCkscj1wLmdldFBhdGhJbmRleCgpO2lmKGc9WW8oZSx0LGFbMF0sYVsxXSxzLHIsaFswXSxoWzFdKSxsLm1fb3ZlcmxhcEV2ZW50cy5wdXNoKGcpLG0ucHVzaChtLmxlbmd0aCksIShDfHxnLm1fc2NhbGFyQTA8YiYmZy5tX3NjYWxhckExPGIpKWlmKDA9PT1iJiZQKihnLm1fc2NhbGFyQTAtYik+bilDPSEwO2Vsc2UgaWYoMCE9PWImJlAqKGcubV9zY2FsYXJBMC1iKT53KUM9ITA7ZWxzZSBpZihiPWcubV9zY2FsYXJBMSxQKigxLWIpPD1ufHwxPT09Yil7ST0hMDticmVha319fWlmKCFJKXtpZighQylyZXR1cm4gbz0hMSwhMTttLmxlbmd0aD4xJiZtLnNvcnQoKChlLHQpPT5sLmNvbXBhcmVPdmVybGFwRXZlbnRzKGUsdCkpKSxiPTA7Zm9yKGxldCBlPTA7ZTxsLm1fb3ZlcmxhcEV2ZW50cy5sZW5ndGg7ZSsrKWlmKGc9bC5tX292ZXJsYXBFdmVudHNbbVtlXV0sIShnLm1fc2NhbGFyQTA8YiYmZy5tX3NjYWxhckExPGIpKXtpZigwPT09YiYmUCooZy5tX3NjYWxhckEwLWIpPm4pcmV0dXJuIG89ITEsITE7aWYoMCE9PWImJlAqKGcubV9zY2FsYXJBMC1iKT53KXJldHVybiBvPSExLCExO2lmKGI9Zy5tX3NjYWxhckExLFAqKDEtYik8PW58fDE9PT1iKWJyZWFrfWlmKFAqKDEtYik+bilyZXR1cm4gbz0hMSwhMTttLmxlbmd0aD0wLGwubV9vdmVybGFwRXZlbnRzLmxlbmd0aD0wfX1yZXR1cm4gb31mdW5jdGlvbiBJbyhlLHQscyl7Y29uc3Qgbj1lLmdldEltcGwoKSxyPXQuZ2V0SW1wbCgpLGk9bi5xdWVyeVNlZ21lbnRJdGVyYXRvcigpLG89ci5xdWVyeVNlZ21lbnRJdGVyYXRvcigpLGE9bmV3IERyKG4scixzKTtmb3IoO2EubmV4dCgpOyl7Y29uc3QgZT1hLmdldFJlZEVsZW1lbnQoKSx0PWEuZ2V0Qmx1ZUVsZW1lbnQoKTtpLnJlc2V0VG9WZXJ0ZXgoZSwtMSksby5yZXNldFRvVmVydGV4KHQsLTEpO2NvbnN0IG49aS5uZXh0U2VnbWVudCgpO2lmKG8ubmV4dFNlZ21lbnQoKS5pc0ludGVyc2VjdGluZyhuLHMpKXJldHVybiEwfXJldHVybiExfWZ1bmN0aW9uIGJvKGUsdCxzLG4pe2NvbnN0IHI9ZS5nZXRJbXBsKCksaT10LmdldEltcGwoKSxvPXIucXVlcnlTZWdtZW50SXRlcmF0b3IoKSxhPWkucXVlcnlTZWdtZW50SXRlcmF0b3IoKSxoPUtlKDIsTnVtYmVyLk5hTiksbT1uZXcgRHIocixpLHMpO2xldCBsPSExLGc9LTE7Zm9yKDttLm5leHQoKTspe2NvbnN0IGU9bS5nZXRSZWRFbGVtZW50KCksdD1tLmdldEJsdWVFbGVtZW50KCk7by5yZXNldFRvVmVydGV4KGUsLTEpLGEucmVzZXRUb1ZlcnRleCh0LC0xKTtjb25zdCByPW8ubmV4dFNlZ21lbnQoKSxpPWEubmV4dFNlZ21lbnQoKTtsZXQgdT0wO2lmKE9vKHIsaSkpe2lmKGkuaXNJbnRlcnNlY3RpbmcocixzKSlyZXR1cm4tMn1lbHNlIHU9ci5pbnRlcnNlY3QoaSxudWxsLGgsbnVsbCxzKTtpZih1KWlmKDI9PT11KXtjb25zdCBlPXIuY2FsY3VsYXRlTGVuZ3RoMkQoKSx0PWhbMF07aWYoZSooaFsxXS10KT5zKXJldHVybiBnPTEsZztsPSEwfWVsc2UgaWYoZz0wLG4pe2NvbnN0IGU9aFswXSx0PW5ldyBRZTtyLnF1ZXJ5Q29vcmQyRChlLHQpLG4ucHVzaCh0LngpLG4ucHVzaCh0LnkpfX1yZXR1cm4gbD8tMjpnfWZ1bmN0aW9uIHdvKGUsdCxzLG4pe2NvbnN0IHI9ZS5nZXRJbXBsKCksaT10LG89aS5nZXRQb2ludENvdW50KCksYT1uP0tlKG8sITEpOltdLGg9bmV3IERyKHIsaSxzLCExKSxtPXIucXVlcnlTZWdtZW50SXRlcmF0b3IoKTtmb3IoO2gubmV4dCgpOyl7Y29uc3QgZT1oLmdldFJlZEVsZW1lbnQoKSx0PWguZ2V0Qmx1ZUVsZW1lbnQoKTttLnJlc2V0VG9WZXJ0ZXgoZSwtMSk7Y29uc3Qgcj1tLm5leHRTZWdtZW50KCksbz1pLmdldFhZKHQpO2lmKHIuaXNJbnRlcnNlY3RpbmdQb2ludChvLHMpKXtpZighbilyZXR1cm4hMDthW3RdPSEwfX1pZighbilyZXR1cm4hMTtmb3IobGV0IGw9MDtsPG87bCsrKWlmKCFhW2xdKXJldHVybiExO3JldHVybiEwfWZ1bmN0aW9uIHZvKHQscyxuKXtjb25zdCByPW5ldyBRZSxpPW4qbixvPXQucXVlcnlTZWdtZW50SXRlcmF0b3IoKSxhPXQuZ2V0SW1wbCgpLmdldEFjY2VsZXJhdG9ycygpO2lmKG51bGwhPT1hKXtjb25zdCB0PWEuZ2V0UXVhZFRyZWUoKTtpZihudWxsIT09dCl7Y29uc3QgYT1lLmNvbnN0cnVjdEVtcHR5KCk7YS5zZXRDb29yZHMoe3B0OnN9KTtjb25zdCBoPXQuZ2V0SXRlcmF0b3IoYSxuKTtmb3IobGV0IGU9aC5uZXh0KCk7LTEhPT1lO2U9aC5uZXh0KCkpaWYoby5yZXNldFRvVmVydGV4KHQuZ2V0RWxlbWVudChlKSwtMSksby5oYXNOZXh0U2VnbWVudCgpKXtjb25zdCBlPW8ubmV4dFNlZ21lbnQoKSx0PWUuZ2V0Q2xvc2VzdENvb3JkaW5hdGUocywhMSk7aWYoZS5xdWVyeUNvb3JkMkQodCxyKSxRZS5zcXJEaXN0YW5jZShzLHIpPD1pKXJldHVybiEwfXJldHVybiExfX1jb25zdCBoPWUuY29uc3RydWN0RW1wdHkoKTtmb3IoO28ubmV4dFBhdGgoKTspZm9yKDtvLmhhc05leHRTZWdtZW50KCk7KXtjb25zdCBlPW8ubmV4dFNlZ21lbnQoKTtpZihlLnF1ZXJ5RW52ZWxvcGUoaCksaC5pbmZsYXRlQ29vcmRzKG4sbiksIWguY29udGFpbnMocykpY29udGludWU7Y29uc3QgdD1lLmdldENsb3Nlc3RDb29yZGluYXRlKHMsITEpO2lmKGUucXVlcnlDb29yZDJEKHQsciksUWUuc3FyRGlzdGFuY2UocyxyKTw9aSlyZXR1cm4hMH1yZXR1cm4hMX1mdW5jdGlvbiBObyhlLHQscyl7cmV0dXJuIHZvKGUsdCxzKSYmIXFvKGUsdCxzKX1mdW5jdGlvbiBUbyh0LHMscixpKXtjb25zdCBvPXQucXVlcnlTZWdtZW50SXRlcmF0b3IoKSxhPXQuZ2V0SW1wbCgpLmdldEFjY2VsZXJhdG9ycygpLGg9dC5oYXNOb25MaW5lYXJTZWdtZW50cygpO2xldCBtPW51bGwsbD1udWxsLGc9bnVsbCx1PW51bGw7aWYobnVsbCE9PWEpe2NvbnN0IHQ9YS5nZXRRdWFkVHJlZSgpO2lmKG51bGwhPT10KXtjb25zdCBpPXQuZ2V0SXRlcmF0b3IocyxyKTtoJiYobT1uZXcgSCxsPW5ldyBILGc9bmV3IEgsdT1uZXcgSCxzLnF1ZXJ5U2lkZSgwLG0pLHMucXVlcnlTaWRlKDEsbCkscy5xdWVyeVNpZGUoMixnKSxzLnF1ZXJ5U2lkZSgzLHUpKTtjb25zdCBhPWUuY29uc3RydWN0RW1wdHkoKTthLnNldENvb3Jkcyh7ZW52MkQ6c30pLGEuaW5mbGF0ZUNvb3JkcyhyLHIpO2ZvcihsZXQgZT1pLm5leHQoKTstMSE9PWU7ZT1pLm5leHQoKSlpZihvLnJlc2V0VG9WZXJ0ZXgodC5nZXRFbGVtZW50KGUpLC0xKSxvLmhhc05leHRTZWdtZW50KCkpe2NvbnN0IGU9by5uZXh0U2VnbWVudCgpO2lmKGUuZ2V0R2VvbWV0cnlUeXBlKCk9PT1uLmVudW1MaW5lKXtjb25zdCB0PWUuZ2V0U3RhcnRYWSgpLHM9ZS5nZXRFbmRYWSgpO2lmKGEuY2xpcExpbmUodCxzKSlyZXR1cm4hMDtjb250aW51ZX1pZihzLmNvbnRhaW5zKGUuZ2V0U3RhcnRYWSgpKXx8cy5jb250YWlucyhlLmdldEVuZFhZKCkpKXJldHVybiEwO2lmKGUuaXNJbnRlcnNlY3RpbmcobSxyKSlyZXR1cm4hMDtpZihlLmlzSW50ZXJzZWN0aW5nKGwscikpcmV0dXJuITA7aWYoZS5pc0ludGVyc2VjdGluZyhnLHIpKXJldHVybiEwO2lmKGUuaXNJbnRlcnNlY3RpbmcodSxyKSlyZXR1cm4hMH1yZXR1cm4hMX19aWYoaCl7bT1uZXcgSCxsPW5ldyBILGc9bmV3IEgsdT1uZXcgSCxzLnF1ZXJ5U2lkZSgwLG0pLHMucXVlcnlTaWRlKDEsbCkscy5xdWVyeVNpZGUoMixnKSxzLnF1ZXJ5U2lkZSgzLHUpO2NvbnN0IGU9dC5xdWVyeVNlZ21lbnRJdGVyYXRvcigpO2Zvcig7ZS5uZXh0UGF0aCgpOylmb3IoO2UuaGFzTmV4dFNlZ21lbnQoKTspe2NvbnN0IHQ9ZS5uZXh0U2VnbWVudCgpO2lmKHMuY29udGFpbnModC5nZXRTdGFydFhZKCkpfHxzLmNvbnRhaW5zKHQuZ2V0RW5kWFkoKSkpcmV0dXJuITA7aWYodC5pc0ludGVyc2VjdGluZyhtLHIpKXJldHVybiEwO2lmKHQuaXNJbnRlcnNlY3RpbmcobCxyKSlyZXR1cm4hMDtpZih0LmlzSW50ZXJzZWN0aW5nKGcscikpcmV0dXJuITA7aWYodC5pc0ludGVyc2VjdGluZyh1LHIpKXJldHVybiEwfX1lbHNle2NvbnN0IG49ZS5jb25zdHJ1Y3RFbXB0eSgpO24uc2V0Q29vcmRzKHtlbnYyRDpzfSksbi5pbmZsYXRlQ29vcmRzKHIscik7Y29uc3QgaT10LmdldEltcGwoKSxvPWkuZ2V0QXR0cmlidXRlU3RyZWFtUmVmKDApLGE9bmV3IFFlO2ZvcihsZXQgZT0wLHQ9aS5nZXRQYXRoQ291bnQoKTtlPHQ7ZSsrKXtsZXQgdD0hMDtjb25zdCBzPW5ldyBRZSxyPW5ldyBRZSxoPW5ldyBRZSxtPWkuZ2V0UGF0aFN0YXJ0KGUpLGw9bmV3IFFlO2ZvcihsZXQgZz1tLHU9aS5nZXRQYXRoRW5kKGUpO2c8dTtnKyspaWYodClvLnF1ZXJ5UG9pbnQyRCgyKmcscyksbC5hc3NpZ24ocyksdD0hMTtlbHNle2lmKG8ucXVlcnlQb2ludDJEKDIqZyxhKSxyLnNldENvb3Jkc1BvaW50MkQocyksaC5zZXRDb29yZHNQb2ludDJEKGEpLG4uY2xpcExpbmUocixoKSlyZXR1cm4hMDtzLmFzc2lnbihhKX1pZihpLmlzQ2xvc2VkUGF0aChlKSYmIXQmJihyLnNldENvb3Jkc1BvaW50MkQocyksaC5zZXRDb29yZHNQb2ludDJEKGwpLG4uY2xpcExpbmUocixoKSkpcmV0dXJuITB9fXJldHVybiExfWZ1bmN0aW9uIEdvKHQscyxuLHIpe2NvbnN0IGk9dC5nZXRJbXBsKCksbz1zLmdldEltcGwoKSxhPVswXSxoPVRlKGkuZ2V0SXNTaW1wbGUoMCxhKSkmJlRlKG8uZ2V0SXNTaW1wbGUoMCxhKSksbT1pLnF1ZXJ5U2VnbWVudEl0ZXJhdG9yKCksbD1vLnF1ZXJ5U2VnbWVudEl0ZXJhdG9yKCksZz1LZSgyLDApLHU9S2UoMiwwKSxjPW5ldyBEcihpLG8sbik7bGV0IF89ITE7Zm9yKDtjLm5leHQoKTspe2NvbnN0IGU9Yy5nZXRSZWRFbGVtZW50KCksdD1jLmdldEJsdWVFbGVtZW50KCk7bS5yZXNldFRvVmVydGV4KGUsLTEpLGwucmVzZXRUb1ZlcnRleCh0LC0xKTtjb25zdCBzPW0ubmV4dFNlZ21lbnQoKSxyPWwubmV4dFNlZ21lbnQoKTtsZXQgaT0wO2lmKE9vKHMscikpe2lmKHIuaXNJbnRlcnNlY3RpbmcocyxuKSl7Xz0hMDticmVha319ZWxzZSBpPXIuaW50ZXJzZWN0KHMsbnVsbCx1LGcsbik7aWYoMj09PWkpe2NvbnN0IGU9Z1swXSx0PWdbMV0scj1zLmNhbGN1bGF0ZUxlbmd0aDJEKCk7aWYoaCYmKHQtZSkqcj5uKXJldHVybiExO189ITB9ZWxzZSBpZihpKXtjb25zdCBlPWdbMF0sdD11WzBdO2lmKGU+MCYmZTwxJiZ0PjAmJnQ8MSlyZXR1cm4hMTtfPSEwfX1pZighXylyZXR1cm4hMTtjb25zdCBkPWUuY29uc3RydWN0RW1wdHkoKSxwPWUuY29uc3RydWN0RW1wdHkoKSxmPWUuY29uc3RydWN0RW1wdHkoKTtsZXQgeCx5O2lmKHQucXVlcnlFbnZlbG9wZShkKSxzLnF1ZXJ5RW52ZWxvcGUocCksZC5pbmZsYXRlQ29vcmRzKDFlMypuLDFlMypuKSxwLmluZmxhdGVDb29yZHMoMWUzKm4sMWUzKm4pLGYuc2V0Q29vcmRzKHtlbnYyRDpkfSksZi5pbnRlcnNlY3QocCksdC5nZXRQb2ludENvdW50KCk+MTApe2lmKHg9WnQodCxmLG4sMCxyKSx4LmlzRW1wdHkoKSlyZXR1cm4hMX1lbHNlIHg9dDtpZihzLmdldFBvaW50Q291bnQoKT4xMCl7aWYoeT1adChzLGYsbiwwLHIpLHkuaXNFbXB0eSgpKXJldHVybiExfWVsc2UgeT1zO3JldHVybiBzcih4LHksbixcIkYqKioqKioqKlwiLHIsITEpfWZ1bmN0aW9uIERvKHQscyxuLHIpe2NvbnN0IGk9dC5nZXRJbXBsKCksbz1zLmdldEltcGwoKSxhPVswXSxoPVRlKGkuZ2V0SXNTaW1wbGUoMCxhKSkmJlRlKG8uZ2V0SXNTaW1wbGUoMCxhKSksbT1lLmNvbnN0cnVjdEVtcHR5KCksbD1lLmNvbnN0cnVjdEVtcHR5KCksZz1lLmNvbnN0cnVjdEVtcHR5KCk7dC5xdWVyeUVudmVsb3BlKG0pLHMucXVlcnlFbnZlbG9wZShsKTtsZXQgdT0hMTtjb25zdCBjPXhvKG0sbCxuKSxfPXhvKGwsbSxuKSxkPWkucXVlcnlTZWdtZW50SXRlcmF0b3IoKSxwPW8ucXVlcnlTZWdtZW50SXRlcmF0b3IoKSxmPUtlKDIsTnVtYmVyLk5hTikseD1LZSgyLE51bWJlci5OYU4pLHk9bmV3IERyKGksbyxuKTtmb3IoO3kubmV4dCgpOyl7Y29uc3QgZT15LmdldFJlZEVsZW1lbnQoKSx0PXkuZ2V0Qmx1ZUVsZW1lbnQoKTtkLnJlc2V0VG9WZXJ0ZXgoZSwtMSkscC5yZXNldFRvVmVydGV4KHQsLTEpO2NvbnN0IHM9ZC5uZXh0U2VnbWVudCgpLHI9cC5uZXh0U2VnbWVudCgpO2xldCBpPTA7aWYoT28ocyxyKSl7aWYoci5pc0ludGVyc2VjdGluZyhzLG4pKWJyZWFrfWVsc2UgaT1yLmludGVyc2VjdChzLG51bGwseCxmLG4pO2lmKDI9PT1pKXtjb25zdCBlPWZbMF0sdD1mWzFdLHI9cy5jYWxjdWxhdGVMZW5ndGgyRCgpO2lmKGgmJih0LWUpKnI+biYmKHU9ITAsYyYmXykpcmV0dXJuITB9ZWxzZSBpZihpKXtjb25zdCBlPWZbMF0sdD14WzBdO2lmKGU+MCYmZTwxJiZ0PjAmJnQ8MSlyZXR1cm4hMH19Y29uc3QgUD1lLmNvbnN0cnVjdEVtcHR5KCksRT1lLmNvbnN0cnVjdEVtcHR5KCk7bGV0IFMsQztQLnNldENvb3Jkcyh7ZW52MkQ6bX0pLFAuaW5mbGF0ZUNvb3JkcygxZTMqbiwxZTMqbiksRS5zZXRDb29yZHMoe2VudjJEOmx9KSxFLmluZmxhdGVDb29yZHMoMWUzKm4sMWUzKm4pLGcuc2V0Q29vcmRzKHtlbnYyRDpQfSksZy5pbnRlcnNlY3QoRSk7bGV0IEk9XCJcIjtpZihJKz11P1wiKipcIjpcIlQqXCIsYyl7aWYocy5nZXRQb2ludENvdW50KCk+MTApe2lmKEM9WnQocyxnLG4sMCxyKSxDLmlzRW1wdHkoKSlyZXR1cm4hMX1lbHNlIEM9cztJKz1cIioqKipcIn1lbHNlIEM9cyxJKz1cIlQqKipcIjtpZihfKXtpZih0LmdldFBvaW50Q291bnQoKT4xMCl7aWYoUz1adCh0LGcsbiwwLHIpLFMuaXNFbXB0eSgpKXJldHVybiExfWVsc2UgUz10O0krPVwiKioqXCJ9ZWxzZSBTPXQsSSs9XCJUKipcIjtyZXR1cm4gc3IoUyxDLG4sSSxyLCExKX1mdW5jdGlvbiBWbyh0LHMsbixyKXtjb25zdCBpPVshMV0sbz1fbyh0LHMsbixpKTtpZihpWzBdKXJldHVybiBvO2NvbnN0IGE9ZS5jb25zdHJ1Y3RFbXB0eSgpO2xldCBoO2lmKHMucXVlcnlFbnZlbG9wZShhKSxhLmluZmxhdGVDb29yZHMoMWUzKm4sMWUzKm4pLHQuZ2V0UG9pbnRDb3VudCgpPjEwKXtpZihoPVp0KHQsYSxuLDAsciksaC5pc0VtcHR5KCkpcmV0dXJuITF9ZWxzZSBoPXQ7cmV0dXJuIG5yKGgscyxuLHIpfWZ1bmN0aW9uIEZvKHQscyxuLHIpe2NvbnN0IGk9dC5nZXRJbXBsKCksbz1zLmdldEltcGwoKSxhPWkucXVlcnlTZWdtZW50SXRlcmF0b3IoKSxoPW8ucXVlcnlTZWdtZW50SXRlcmF0b3IoKSxtPUtlKDIsTnVtYmVyLk5hTiksbD1LZSgyLE51bWJlci5OYU4pLGc9bmV3IERyKGksbyxuKTtsZXQgdT0hMTtmb3IoO2cubmV4dCgpOyl7Y29uc3QgZT1nLmdldFJlZEVsZW1lbnQoKSx0PWcuZ2V0Qmx1ZUVsZW1lbnQoKTthLnJlc2V0VG9WZXJ0ZXgoZSwtMSksaC5yZXNldFRvVmVydGV4KHQsLTEpO2NvbnN0IHM9YS5uZXh0U2VnbWVudCgpLHI9aC5uZXh0U2VnbWVudCgpO2xldCBpPTA7aWYoT28ocyxyKT8hdSYmci5pc0ludGVyc2VjdGluZyhzLG4pJiYodT0hMCk6aT1yLmludGVyc2VjdChzLG51bGwsbCxtLG4pLDI9PT1pKXU9ITA7ZWxzZSBpZihpKXtjb25zdCBlPW1bMF0sdD1sWzBdO2lmKGU+MCYmZTwxJiZ0PjAmJnQ8MSlyZXR1cm4hMTt1PSEwfX1pZighdSlyZXR1cm4hMTtjb25zdCBjPWUuY29uc3RydWN0RW1wdHkoKSxfPWUuY29uc3RydWN0RW1wdHkoKSxkPWUuY29uc3RydWN0RW1wdHkoKTtsZXQgcCxmO2lmKHQucXVlcnlFbnZlbG9wZShjKSxzLnF1ZXJ5RW52ZWxvcGUoXyksYy5pbmZsYXRlQ29vcmRzKDFlMypuLDFlMypuKSxfLmluZmxhdGVDb29yZHMoMWUzKm4sMWUzKm4pLGQuc2V0Q29vcmRzKHtlbnYyRDpjfSksZC5pbnRlcnNlY3QoXyksdC5nZXRQb2ludENvdW50KCk+MTApe2lmKHA9WnQodCxkLG4sMCxyKSxwLmlzRW1wdHkoKSlyZXR1cm4hMX1lbHNlIHA9dDtpZihzLmdldFBvaW50Q291bnQoKT4xMCl7aWYoZj1adChzLGQsbiwwLHIpLGYuaXNFbXB0eSgpKXJldHVybiExfWVsc2UgZj1zO3JldHVybiBzcihwLGYsbixcIkYqKioqKioqKlwiLHIsITEpfWZ1bmN0aW9uIEhvKHQscyxuLHIpe2NvbnN0IGk9dC5nZXRJbXBsKCksbz1zLmdldEltcGwoKSxhPWkucXVlcnlTZWdtZW50SXRlcmF0b3IoKSxoPW8ucXVlcnlTZWdtZW50SXRlcmF0b3IoKSxtPUtlKDIsTnVtYmVyLk5hTiksbD1LZSgyLE51bWJlci5OYU4pLGc9bmV3IERyKGksbyxuKTtsZXQgdT0hMTtmb3IoO2cubmV4dCgpOyl7Y29uc3QgZT1nLmdldFJlZEVsZW1lbnQoKSx0PWcuZ2V0Qmx1ZUVsZW1lbnQoKTthLnJlc2V0VG9WZXJ0ZXgoZSwtMSksaC5yZXNldFRvVmVydGV4KHQsLTEpO2NvbnN0IHM9YS5uZXh0U2VnbWVudCgpLHI9aC5uZXh0U2VnbWVudCgpO2xldCBpPTA7aWYoT28ocyxyKT8hdSYmci5pc0ludGVyc2VjdGluZyhzLG4pJiYodT0hMCk6aT1yLmludGVyc2VjdChzLG51bGwsbCxtLG4pLDI9PT1pKXU9ITA7ZWxzZSBpZihpKXtjb25zdCBlPW1bMF0sdD1sWzBdO2lmKGU+MCYmZTwxJiZ0PjAmJnQ8MSlyZXR1cm4hMDt1PSEwfX1pZighdSlyZXR1cm4hMTtjb25zdCBjPWUuY29uc3RydWN0RW1wdHkoKSxfPWUuY29uc3RydWN0RW1wdHkoKSxkPWUuY29uc3RydWN0RW1wdHkoKSxwPWUuY29uc3RydWN0RW1wdHkoKSxmPWUuY29uc3RydWN0RW1wdHkoKTtpZih0LnF1ZXJ5RW52ZWxvcGUoYykscy5xdWVyeUVudmVsb3BlKF8pLHhvKF8sYyxuKSl7bGV0IGUsaTtpZihkLnNldENvb3Jkcyh7ZW52MkQ6Y30pLGQuaW5mbGF0ZUNvb3JkcygxZTMqbiwxZTMqbikscC5zZXRDb29yZHMoe2VudjJEOl99KSxwLmluZmxhdGVDb29yZHMoMWUzKm4sMWUzKm4pLGYuc2V0Q29vcmRzKHtlbnYyRDpkfSksZi5pbnRlcnNlY3QocCksdC5nZXRQb2ludENvdW50KCk+MTApe2lmKGU9WnQodCxmLG4sMCxyKSxlLmlzRW1wdHkoKSlyZXR1cm4hMX1lbHNlIGU9dDtpZihzLmdldFBvaW50Q291bnQoKT4xMCl7aWYoaT1adChzLGYsbiwwLHIpLGkuaXNFbXB0eSgpKXJldHVybiExfWVsc2UgaT1zO3JldHVybiBzcihlLGksbixcIlQqKioqKioqKlwiLHIsITEpfXJldHVybiBzcih0LHMsbixcIlQqKioqKlQqKlwiLHIsITEpfWZ1bmN0aW9uIGtvKHQscyxuLHIpe2NvbnN0IGk9WyExXSxvPV9vKHQscyxuLGkpO2lmKGlbMF0pcmV0dXJuIG87Y29uc3QgYT1lLmNvbnN0cnVjdEVtcHR5KCk7bGV0IGg7aWYocy5xdWVyeUVudmVsb3BlKGEpLGEuaW5mbGF0ZUNvb3JkcygxZTMqbiwxZTMqbiksdC5nZXRQb2ludENvdW50KCk+MTApe2lmKGg9WnQodCxhLG4sMCxyKSxoLmlzRW1wdHkoKSlyZXR1cm4hMX1lbHNlIGg9dDtyZXR1cm4gcnIoaCxzLG4scil9ZnVuY3Rpb24gQW8oZSx0LHMsbil7cmV0dXJuIDE9PT1MbyhlLHQscyl9ZnVuY3Rpb24gTW8oZSx0LHMsbil7cmV0dXJuIDI9PT1MbyhlLHQscyl9ZnVuY3Rpb24gVW8oZSx0LHMsbil7Y29uc3Qgcj1uZXcgUWUsaT1zKnM7Zm9yKGxldCBvPTA7bzxlLmdldFBvaW50Q291bnQoKTtvKyspaWYoZS5xdWVyeVhZKG8sciksUWUuc3FyRGlzdGFuY2Uocix0KTw9aSlyZXR1cm4hMTtyZXR1cm4hMH1mdW5jdGlvbiBxbyhlLHQscyl7Y29uc3Qgbj1lLmdldEJvdW5kYXJ5KCk7cmV0dXJuIW4uaXNFbXB0eSgpJiYhVW8obix0LHMpfWZ1bmN0aW9uIEJvKHQscyxuKXtjb25zdCByPWUuY29uc3RydWN0RW1wdHkoKTtyZXR1cm4gci5zZXRDb29yZHMoe2VudjJEOnR9KSxyLmluZmxhdGVDb29yZHMobixuKSxyLmNvbnRhaW5zRW52ZWxvcGUocyk/MTA3Mzc0MTgyNDpyLmlzSW50ZXJzZWN0aW5nKHMpP3QuaXNJbnRlcnNlY3Rpbmcocyk/dC54bWluPHMueG1pbiYmcy54bWF4PHQueG1heD9zLnltaW48dC55bWluJiZzLnltYXg+dC55bWF4PzA6MTA3Mzc0MTgyNDp0LnltaW48cy55bWluJiZzLnltYXg8dC55bWF4P3MueG1pbjx0LnhtaW4mJnMueG1heD50LnhtYXg/MDoxMDczNzQxODI0OjA6MDo0fWZ1bmN0aW9uIE9vKGUsdCl7cmV0dXJuIGUuZ2V0R2VvbWV0cnlUeXBlKCkhPT1uLmVudW1MaW5lfHx0LmdldEdlb21ldHJ5VHlwZSgpIT09bi5lbnVtTGluZX1mdW5jdGlvbiBZbyhlLHQscyxuLHIsaSxvLGEpe3JldHVybnttX2l2ZXJ0ZXhBOmUsbV9pcGF0aEE6dCxtX3NjYWxhckEwOnMsbV9zY2FsYXJBMTpuLG1faXZlcnRleEI6cixtX2lwYXRoQjppLG1fc2NhbGFyQjA6byxtX3NjYWxhckIxOmF9fWNsYXNzIFJve2NvbnN0cnVjdG9yKCl7dGhpcy5tX292ZXJsYXBFdmVudHM9W119Y29tcGFyZU92ZXJsYXBFdmVudHMoZSx0KXtjb25zdCBzPXRoaXMubV9vdmVybGFwRXZlbnRzW2VdLG49dGhpcy5tX292ZXJsYXBFdmVudHNbdF07aWYocy5tX2lwYXRoQTxuLm1faXBhdGhBKXJldHVybi0xO2lmKHMubV9pcGF0aEE9PT1uLm1faXBhdGhBKXtpZihzLm1faXZlcnRleEE8bi5tX2l2ZXJ0ZXhBKXJldHVybi0xO2lmKHMubV9pdmVydGV4QT09PW4ubV9pdmVydGV4QSl7aWYocy5tX3NjYWxhckEwPG4ubV9zY2FsYXJBMClyZXR1cm4tMTtpZihzLm1fc2NhbGFyQTA9PT1uLm1fc2NhbGFyQTApe2lmKHMubV9zY2FsYXJBMTxuLm1fc2NhbGFyQTEpcmV0dXJuLTE7aWYocy5tX3NjYWxhckExPT09bi5tX3NjYWxhckExJiZzLm1faXZlcnRleEI8bi5tX2l2ZXJ0ZXhCKXJldHVybi0xfX19cmV0dXJuIDF9fWZ1bmN0aW9uIFhvKGUsdCxzKXtjb25zdCBuPUxuKGUsdCxzKTtyZXR1cm4gbj8xPT09bj8xOjI6MH1mdW5jdGlvbiBMbyhlLHQscyl7Y29uc3Qgbj16bihlLHQscyk7cmV0dXJuIG4/MT09PW4/MToyOjB9ZnVuY3Rpb24gem8oZSx0LHMsbixyKXtmb3IobGV0IGk9MDtpPHM7aSsrKXJbaV09TG8oZSx0W2ldLG4pfWZ1bmN0aW9uIFdvKHQscyxyLGksbyl7aWYodC5nZXRHZW9tZXRyeVR5cGUoKT09PW4uZW51bVBvbHlnb24pem8odCxzLHIsaSxvKTtlbHNlIGlmKHQuZ2V0R2VvbWV0cnlUeXBlKCk9PT1uLmVudW1FbnZlbG9wZSl7Y29uc3Qgbj1lLmNvbnN0cnVjdEVtcHR5KCk7dC5xdWVyeUVudmVsb3BlKG4pLFpvKG4scyxyLGksbyl9ZWxzZSBjKFwiXCIpfWZ1bmN0aW9uIGpvKGUsdCxzLGksbyl7Y29uc3QgYT1lLmdldEdlb21ldHJ5VHlwZSgpO2E9PT1uLmVudW1Qb2x5bGluZT8kbyhlLHQscyxpLG8pOnIoYSk/Sm8oKTpjKFwiXCIpfWZ1bmN0aW9uIFpvKGUsdCxzLG4scil7aWYoZS5pc0VtcHR5KCkpe2ZvcihsZXQgZT0wO2U8cztlKyspcltlXT0wO3JldHVybn1jb25zdCBpPWUuY2xvbmUoKTtpLmluZmxhdGVDb29yZHMoLjUqLW4sLjUqLW4pO2NvbnN0IG89ZS5jbG9uZSgpO28uaW5mbGF0ZUNvb3JkcyguNSpuLC41Km4pO2ZvcihsZXQgYT0wO2E8czthKyspaS5jb250YWlucyh0W2FdKT9yW2FdPTE6by5jb250YWlucyh0W2FdKT9yW2FdPTI6clthXT0wfWZ1bmN0aW9uIEtvKGUpe2lmKGUuaXNFbXB0eSgpKXJldHVybiAwO3N3aXRjaChlLmdldEdlb21ldHJ5VHlwZSgpKXtjYXNlIG4uZW51bU11bHRpUG9pbnQ6cmV0dXJuIGUuZ2V0SW1wbCgpLmdldFBvaW50Q291bnQoKTtjYXNlIG4uZW51bVBvbHlsaW5lOnJldHVybiBlLmdldEltcGwoKS5nZXRQYXRoQ291bnQoKTtjYXNlIG4uZW51bVBvbHlnb246cmV0dXJuIGUuZ2V0SW1wbCgpLmdldE9HQ1BvbHlnb25Db3VudCgpO2Nhc2Ugbi5lbnVtR2VvbWV0cnlDb2xsZWN0aW9uOnJldHVybiBlLmdldEdlb21ldHJ5Q291bnQoKX1yZXR1cm4gMX1mdW5jdGlvbiBRbyhlLHQscyl7aWYocy5yZXNldCgpLHQ8MylyZXR1cm47Y29uc3Qgbj1lWzBdLmNsb25lKCkscj1uLngsaT1uLnksbz1lWzFdLmNsb25lKCksYT1uZXcgUWU7Zm9yKGxldCBoPTI7aDx0O2grKylhLmFzc2lnbihlW2hdKSxzLnBlKChhLngtbi54KSooby55LWkpKSxuLmFzc2lnbihvKSxvLmFzc2lnbihhKTtzLnBlKChyLW4ueCkqKG8ueS1pKSl9ZnVuY3Rpb24gSm8oZSx0LHMsbixyKXthKDApfWZ1bmN0aW9uICRvKHQscyxuLHIsaSl7Y29uc3Qgbz10LmdldEltcGwoKSxoPW8uZ2V0QWNjZWxlcmF0b3JzKCk7bGV0IG09bnVsbDtoJiYobT1oLmdldFJhc3Rlcml6ZWRHZW9tZXRyeSgpKTtsZXQgbD1uO2ZvcihsZXQgZT0wO2U8bjtlKyspaVtlXT0xLG0mJmEoMCk7aWYobCl7aWYoaCl7bGV0IHQ9bnVsbDtudWxsIT09aCYmbnVsbCE9PWguZ2V0UXVhZFRyZWUoKSYmKHQ9aC5nZXRRdWFkVHJlZSgpKTtjb25zdCBhPW8uZ2V0UG9pbnRDb3VudCgpO2lmKG51bGw9PT10JiZhPjIwJiZhKm4+NCphK01hdGgubG9nKGEpKm4mJih0PVZlKG8pKSx0KXtsZXQgYT1udWxsO2NvbnN0IGg9by5xdWVyeVNlZ21lbnRJdGVyYXRvcigpLG09bmV3IGU7Zm9yKGxldCBlPTA7ZTxuJiZsO2UrKylpZigxPT09aVtlXSl7bS5zZXRDb29yZHMoc1tlXSksbnVsbD09PWE/YT10LmdldEl0ZXJhdG9yKG0scik6YS5yZXNldEl0ZXJhdG9yKG0scik7bGV0IG49LTE7Zm9yKGxldCBvPWEubmV4dCgpOy0xIT09bztvPWEubmV4dCgpKXtoLnJlc2V0VG9WZXJ0ZXgodC5nZXRFbGVtZW50KG8pLG4pLG49aC5nZXRQYXRoSW5kZXgoKTtpZihoLm5leHRTZWdtZW50KCkuaXNJbnRlcnNlY3RpbmdQb2ludChzW2VdLHIpKXtpW2VdPTIsbC0tO2JyZWFrfWlbZV09MH19cmV0dXJufX1jb25zdCB0PW8ucXVlcnlTZWdtZW50SXRlcmF0b3IoKTtmb3IoO3QubmV4dFBhdGgoKSYmbDspZm9yKDt0Lmhhc05leHRTZWdtZW50KCkmJmw7KXtjb25zdCBlPXQubmV4dFNlZ21lbnQoKTtmb3IobGV0IHQ9MDt0PG4mJmw7dCsrKTE9PT1pW3RdJiZlLmlzSW50ZXJzZWN0aW5nUG9pbnQoc1t0XSxyKSYmKGlbdF09MixsLS0pfX1mb3IobGV0IGU9MDtlPG47ZSsrKTE9PT1pW2VdJiYoaVtlXT0wKX1mdW5jdGlvbiBlYShlLHQscyxuLHIpe2NvbnN0IGk9Syh0KSxvPU1hdGgubWF4KDQqaSxzKTtyZXR1cm4gbmV3IG9hKHQsbnVsbCxvLE51bWJlci5OYU4scikuYXBwcm94aW1hdGVXaXRoQ2lyY2xlc0ltcGwoZSxuKX1mdW5jdGlvbiB0YSgpe3JldHVybiBOdW1iZXIuaXNOYU4odGhpcy5yYWRpdXMudmFsdWUoKSl9ZnVuY3Rpb24gc2EoKXtyZXR1cm57cHRTdGFydDpuZXcgUWUscHRFbmQ6bmV3IFFlLGNlbnRlcjpuZXcgSixyYWRpdXM6bmV3IEF0LGZjZW50ZXI6bmV3IHNlLGZyYWRpdXMyOm5ldyBWdCxtYXhFcnJvcjpOdW1iZXIuTmFOLGlzTGluZTp0YX19Y29uc3QgbmE9NSxyYT0xLzg7ZnVuY3Rpb24gaWEoZSx0LHMsbil7cmV0dXJue3B0OmUuY2xvbmUoKSx0LGVycjpzLGNoZWNrQ291bnQ6bn19Y2xhc3Mgb2F7Y29uc3RydWN0b3IoZSx0LHMsbixyKXt0aGlzLm1fbGVmdD1lLHRoaXMubV90cmFja2VyPXIsdGhpcy5tX2Vwcz1zLHRoaXMubV90cmFja2VyQ291bnRlcj0wLHRoaXMubV90b2xlcmFuY2U9bix0aGlzLm1fY2lyY2xlQ2hlY2tDb3VudGVyPTAsdGhpcy5tX2JSZXZlcnNlZExlZnQ9ITEsdGhpcy5tX2xlZnRBcmM9c2EoKX1jbG9zZVRvQ2lyY3VsYXJBcmMoZSx0LHMsbixyLGkpe2lmKHRoaXMubV9jaXJjbGVDaGVja0NvdW50ZXIrKyxpLm1heEVycm9yPTAsIW9hLmNoZWNrU3dlZXBBbmdsZShlLHQpKXJldHVybiExO2lmKGkucHRTdGFydC5zZXRDb29yZHNQb2ludDJEKHMpLGkucHRFbmQuc2V0Q29vcmRzUG9pbnQyRChyKSxlLmlzQ2lyY3VsYXIoKSl7Y29uc3QgdD1lO3JldHVybiBpLmZyYWRpdXMyPVZ0LmNvbnN0cnVjdERvdWJsZSh0LmdldFNlbWlNYWpvckF4aXMoKSkubXVsRG91YmxlKHQuZ2V0U2VtaU1ham9yQXhpcygpKSxpLnJhZGl1cy5zZXQodC5nZXRTZW1pTWFqb3JBeGlzKCkpLGkuZmNlbnRlci5hc3NpZ25Qb2ludDJEKHQuZ2V0Q2VudGVyKCkpLGkuY2VudGVyLnNldCh0LmdldENlbnRlcigpKSwhMH1jb25zdCBvPWkucHRFbmQuc3ViKGkucHRTdGFydCkuY2xvbmUoKTtvLmxlZnRQZXJwZW5kaWN1bGFyVGhpcygpLG8ubm9ybWFsaXplKCk7aWYoTWF0aC5hYnMoby5kb3RQcm9kdWN0KG4uc3ViKGkucHRTdGFydCkpKTw9dGhpcy5tX2VwcylyZXR1cm4hIXRoaXMuY29uZmlybUlzTGluZShpLG8pJiYoaS5yYWRpdXMuc2V0KE51bWJlci5OYU4pLGkuY2VudGVyLnNldENvb3JkcygwLDApLCEwKTt7Y29uc3Qgcz1pLnB0RW5kLnN1YihpLnB0U3RhcnQpLHI9bi5zdWIoaS5wdFN0YXJ0KSxvPXMuY3Jvc3NQcm9kdWN0KHIpO2lmKDA9PT1vKXJldHVybiExO2NvbnN0IGE9LjUqcy5zcXJMZW5ndGgoKSxoPS41KnIuc3FyTGVuZ3RoKCk7bGV0IG09YSpyLnktaCpzLnk7bS89bztsZXQgbD1zLngqaC1yLngqYTtsLz1vO2NvbnN0IGc9TWF0aC5zcXJ0KG0qbStsKmwpO2lmKDQqTnVtYmVyLkVQU0lMT04qZz50aGlzLm1fZXBzKXJldHVybiExO2NvbnN0IHU9bStpLnB0U3RhcnQueCxjPWwraS5wdFN0YXJ0Lnk7aS5yYWRpdXMuc2V0KGcpLGkuY2VudGVyLnNldENvb3Jkcyh1LGMpO2NvbnN0IF89dGhpcy5tYXhDaXJjbGVBcHByb3hpbWF0aW9uRXJyb3IoZSx0LGkpO2lmKF8+dGhpcy5tX2VwcylyZXR1cm4gaS5tYXhFcnJvcj1fLCExfWNvbnN0IGE9KG5ldyBzZSkuYXNzaWduUG9pbnQyRChpLnB0U3RhcnQpLGg9KG5ldyBzZSkuYXNzaWduUG9pbnQyRChpLnB0RW5kKS5zdWIoYSksbT0obmV3IHNlKS5hc3NpZ25Qb2ludDJEKG4pLnN1YihhKSxsPWguY3Jvc3NQcm9kdWN0KG0pO2lmKGwuaXNaZXJvKCkpcmV0dXJuITE7Y29uc3QgZz1oLnNxckxlbmd0aCgpLm11bERvdWJsZSguNSksdT1tLnNxckxlbmd0aCgpLm11bERvdWJsZSguNSksYz1nLm11bChtLnkpLnN1Yih1Lm11bChoLnkpKSxfPWgueC5tdWwodSkuc3ViKG0ueC5tdWwoZykpLGQ9Yy5tdWwoYykuYWRkKF8ubXVsKF8pKSxwPWwuY2xvbmUoKTtwLmludmVydFRoaXMoKSxpLmZyYWRpdXMyPWQubXVsKHApLm11bChwKSxpLmZjZW50ZXIuc2V0Q29vcmRzKGMubXVsKHApLmFkZChhLngpLF8ubXVsKHApLmFkZChhLnkpKSxpLmNlbnRlci5zZXRXaXRoRXBzKGkuZmNlbnRlci5hc1BvaW50MkQoKSksaS5yYWRpdXMuc2V0V2l0aEVwcyhNYXRoLnNxcnQoaS5mcmFkaXVzMi50b0RvdWJsZSgpKSk7Y29uc3QgZj1KLmNvbnN0cnVjdFBvaW50MkQoaS5wdFN0YXJ0KS5zdWJFKGkuY2VudGVyKSx4PUouY29uc3RydWN0UG9pbnQyRChpLnB0RW5kKS5zdWJFKGkuY2VudGVyKTtpZighZi5kb3RQcm9kdWN0KHgpLmd0KEZ0KSlyZXR1cm4hMTtjb25zdCB5PXRoaXMubWF4Q2lyY2xlQXBwcm94aW1hdGlvbkVycm9yKGUsdCxpKTtyZXR1cm4gaS5tYXhFcnJvcj15LHk8PXRoaXMubV9lcHN9c3RhdGljIGNoZWNrU3dlZXBBbmdsZShlLHQpe2lmKGUuZ2V0R2VvbWV0cnlUeXBlKCk9PT1uLmVudW1FbGxpcHRpY0FyYyl7Y29uc3Qgcz1lLG49bmUocyx0LnZtaW4pLHI9bmUocyx0LnZtYXgpO3JldHVybiEoTWF0aC5hYnMoci1uKT4uNSpDdCl9cmV0dXJuITB9Y29uZmlybUlzTGluZShlLHQpe2NvbnN0IHM9ZS5wdEVuZC5zdWIoZS5wdFN0YXJ0KTtyZXR1cm4hKE1hdGguYWJzKHQuZG90UHJvZHVjdChzLm11bCguMjUpKSk+dGhpcy5tX2VwcykmJiEoTWF0aC5hYnModC5kb3RQcm9kdWN0KHMubXVsKC43NSkpKT50aGlzLm1fZXBzKX1tYXhDaXJjbGVBcHByb3hpbWF0aW9uRXJyb3IoZSx0LHMpe2NvbnN0IHI9Wy4yNSwuNzVdLGk9Wy4xLC4yNSwuNzUsLjldO2xldCBvLGE7ZS5nZXRHZW9tZXRyeVR5cGUoKT09PW4uZW51bUVsbGlwdGljQXJjPyhvPXIsYT1yLmxlbmd0aCk6KG89aSxhPWkubGVuZ3RoKTtsZXQgaD0wO2ZvcihsZXQgbj0wO248YTsrK24pe2NvbnN0IHI9bmV3IFFlO2UucXVlcnlDb29yZDJEKGZ0KHQudm1pbix0LnZtYXgsb1tuXSkscik7Y29uc3QgaT1yLnN1YihzLmNlbnRlci52YWx1ZSgpKS5sZW5ndGgoKSxhPU1hdGguYWJzKGktcy5yYWRpdXMudmFsdWUoKSk7YT5oJiYoaD1hKX1yZXR1cm4gaH1hcHByb3hpbWF0ZVdpdGhDaXJjbGVzSW1wbChlLHQpe2xldCBzPTE7dCYmdC5wdXNoKDApO2NvbnN0IG49S2UoOSxOdW1iZXIuTmFOKTtsZXQgcjtlP3I9dGhpcy5tX2xlZnQuZ2V0TW9ub3RvbmljUGFydFBhcmFtcyhuLmxlbmd0aCxuKTooblswXT0wLG5bMV09MSxyPTIpO2NvbnN0IGk9W10sbz1bXSxhPW5ldyBRZSgwLDApO2ZvcihsZXQgaD0xO2g8cjtoKyspe2NvbnN0IGU9bmV3IGF0KG5baC0xXSxuW2hdKTtmb3IodGhpcy5tX2JSZXZlcnNlZExlZnQ9IW9hLmdvb2RPcmllbnRhdGlvbih0aGlzLm1fbGVmdCxlKSx0aGlzLm1fYlJldmVyc2VkTGVmdD8oaS5wdXNoKGlhKGEsZS52bWluLDAsMCkpLGkucHVzaChpYShhLGUudm1heCwwLDApKSk6KGkucHVzaChpYShhLGUudm1heCwwLDApKSxpLnB1c2goaWEoYSxlLnZtaW4sMCwwKSkpLGlbMF0ucHQ9dGhpcy5tX2xlZnQuZ2V0Q29vcmQyRChpWzBdLnQpLGlbMV0ucHQ9dGhpcy5tX2xlZnQuZ2V0Q29vcmQyRChpWzFdLnQpO2kubGVuZ3RoPjE7KXt0aGlzLnByb2dyZXNzXygpO2NvbnN0IGU9aS5hdCgtMSk7bGV0IG49ZS5jaGVja0NvdW50LHI9ZS5lcnI7Y29uc3QgYT1lLnB0LmNsb25lKCksaD1lLnQsbT1pW2kubGVuZ3RoLTJdLnQsbD0uNSooaCttKSxnPXRoaXMubV9sZWZ0LmdldENvb3JkMkQobCk7aWYocjw9dGhpcy5tX2Vwc3x8bj49bmEpe2NvbnN0IGU9bmV3IGF0O2lmKGUuc2V0Q29vcmRzKGgsbSksdGhpcy5jbG9zZVRvQ2lyY3VsYXJBcmModGhpcy5tX2xlZnQsZSxhLGcsaVtpLmxlbmd0aC0yXS5wdCx0aGlzLm1fbGVmdEFyYykpe3QmJih0aGlzLm1fYlJldmVyc2VkTGVmdD9vLnB1c2goaCk6dC5wdXNoKG0pKSxzKyssaS5wb3AoKTtjb250aW51ZX1uPTAscj10aGlzLm1fbGVmdEFyYy5tYXhFcnJvcn1lLnQ9bCxlLnB0LnNldENvb3Jkc1BvaW50MkQoZykscio9cmEsbisrLGUuZXJyPXIsZS5jaGVja0NvdW50PW4saS5wdXNoKGlhKGEsaCxyLG4pKX10aGlzLm1fYlJldmVyc2VkTGVmdCYmdCYmKHQubGVuZ3RoPXQubGVuZ3RoK28ubGVuZ3RoLHd0KHQsby5yZXZlcnNlKCksdC5sZW5ndGgtby5sZW5ndGgsMCxvLmxlbmd0aCksby5sZW5ndGg9MCksaS5sZW5ndGg9MH1yZXR1cm4gc31hcHByb3hpbWF0ZVdpdGhDaXJjbGVzSW1wbFBvbHlsaW5lKGUpe2NvbnN0IHQ9bmV3IEkscz1bXTtpZighdGhpcy5hcHByb3hpbWF0ZVdpdGhDaXJjbGVzSW1wbCghMCxzKSlyZXR1cm4gdDtsZXQgbj0wO2NvbnN0IHI9dGhpcy5tX2xlZnQuZ2V0U3RhcnRYWSgpO3Quc3RhcnRQYXRoKHIpO2ZvcihsZXQgaT0xO2k8cy5sZW5ndGg7KytpKWlmKGUpdC5saW5lVG8odGhpcy5tX2xlZnQuZ2V0Q29vcmQyRChzW2ldKSk7ZWxzZXtjb25zdCBlPW5ldyBRZTt0aGlzLm1fbGVmdC5xdWVyeUNvb3JkMkQoc1tpXSxlKTtjb25zdCBvPW5ldyBRZTt0aGlzLm1fbGVmdC5xdWVyeUNvb3JkMkQoLjUqKHNbaV0rbiksbyk7Y29uc3QgYT1uZXcgUjthLmNvbnN0cnVjdENpcmN1bGFyQXJjVGhyZWVQb2ludChyLGUsbyksdC5hZGRTZWdtZW50KGEsITEpLHIuYXNzaWduKGUpLG49c1tpXX1yZXR1cm4gdH1zdGF0aWMgZ29vZE9yaWVudGF0aW9uKGUsdCl7Y29uc3Qgcz1lLmdldENvb3JkMkQodC52bWluKSxuPWUuZ2V0Q29vcmQyRCh0LnZtYXgpO3JldHVybiBzLmNvbXBhcmUobik8MH1wcm9ncmVzc18oZT0hMSl7fX1mdW5jdGlvbiBhYShlLHQscyxuLHIsaSxvKXttYShlLHQscyxyLGksbyksQ2EoZSxzLG8pfWZ1bmN0aW9uIGhhKGUsdCxzLHIpe2lmKCFvKGUuZ2V0R2VvbWV0cnlUeXBlKCkpKXJldHVybiBlO2NvbnN0IGk9ZS5nZXRJbXBsKCk7aWYoIWkuaGFzTm9uTGluZWFyU2VnbWVudHMoKSlyZXR1cm4gZTtjb25zdCBhPWUuY3JlYXRlSW5zdGFuY2UoKTtpZihhLmdldEdlb21ldHJ5VHlwZSgpPT09bi5lbnVtUG9seWdvbil7YS5zZXRGaWxsUnVsZShlLmdldEZpbGxSdWxlKCkpfW5ldyBHO2NvbnN0IGg9bmV3IGZlLG09bmV3IEYsbD1bXSxnPVtdLHU9W10sYz1lLmdldERlc2NyaXB0aW9uKCkuZ2V0QXR0cmlidXRlQ291bnQoKT4xLF89aS5xdWVyeVNlZ21lbnRJdGVyYXRvcigpO2Zvcig7Xy5uZXh0UGF0aCgpOyl7bGV0IGU9ITA7Zm9yKDtfLmhhc05leHRTZWdtZW50KCk7KXtjb25zdCByPV8uaXNDbG9zaW5nU2VnbWVudCgpLGk9Xy5uZXh0U2VnbWVudCgpO2lmKCFpLmlzQ3VydmUoKSl7YS5hZGRTZWdtZW50KGksZSxyKSxlPSExO2NvbnRpbnVlfWxldCBvLGQ9ITE7Y29uc3QgcD0hMCxmPSEwO3N3aXRjaChpLmdldEdlb21ldHJ5VHlwZSgpKXtjYXNlIG4uZW51bUVsbGlwdGljQXJjOmNhc2Ugbi5lbnVtUmF0aW9uYWxCZXppZXIyOm89QShpLHQscyxwLGYsZyx1LGwpLGQ9ITA7YnJlYWs7ZGVmYXVsdDpvPWsoaSx0LHMsITAscCxnLGwpfWNvbnN0IHg9ZD8yOjM7Z1sxXS5pc05BTigpPyhtLmNyZWF0ZUxpbmUoKSxtLmdldCgpLmNvbnN0cnVjdChnWzBdLGdbeF0pKTpkPyhtLmNyZWF0ZVF1YWRyYXRpY1JhdGlvbmFsQmV6aWVyKCksbS5nZXQoKS5jb25zdHJ1Y3RBcnJheVdlaWdodHMoZyx1KSk6KG0uY3JlYXRlQ3ViaWNCZXppZXIoKSxtLmdldCgpLmNvbnN0cnVjdFBvaW50cyhnKSksYyYmZSYmKGkucXVlcnlDb29yZChsWzBdLGgpLG0uZ2V0KCkuc2V0U3RhcnQoaCkpLGMmJihpLnF1ZXJ5Q29vcmQobFsxXSxoKSxtLmdldCgpLnNldEVuZChoKSksYS5hZGRTZWdtZW50KG0uZ2V0KCksZSxyJiYxPT09byksZT0hMTtmb3IobGV0IGU9MSx0PW8scz14O2U8dDsrK2Uscys9eClnW3MrMV0uaXNOQU4oKT8obS5jcmVhdGVMaW5lKCksbS5nZXQoKS5jb25zdHJ1Y3QoZ1tzXSxnW3MreF0pKTpkPyhtLmNyZWF0ZVF1YWRyYXRpY1JhdGlvbmFsQmV6aWVyKCksbS5nZXQoKS5jb25zdHJ1Y3RBcnJheVdlaWdodHMoZy5zbGljZShzKSx1LnNsaWNlKHMpKSk6KG0uY3JlYXRlQ3ViaWNCZXppZXIoKSxtLmdldCgpLmNvbnN0cnVjdFBvaW50cyhnLnNsaWNlKHMpKSksYyYmKGkucXVlcnlDb29yZChsW2UrMV0saCksbS5nZXQoKS5zZXRFbmQoaCkpLGEuYWRkU2VnbWVudChtLmdldCgpLCExLHImJmUrMT09PXQpfX1yZXR1cm4gYX1mdW5jdGlvbiBtYShlLHQscyxuLHIsaSl7ZS5oYXNDdXJ2ZXMoKT8oZS5zZXRDdXJ2ZVN0aXRjaGVyUG9pbnRlcihuKSxuLm1faW1wbD1uZXcgeGEoaSwhMSxudWxsKSxuLm1faW1wbC5idWlsZE1vbm90b25pY0N1cnZlUGFyZW50YWdlKGUsdCxzLHIpKTpuLm1faW1wbD1udWxsfWZ1bmN0aW9uIGxhKGUsdCxzLG4scixpLG8sYSl7ZS5oYXNDdXJ2ZXMoKT8oZS5zZXRDdXJ2ZVN0aXRjaGVyUG9pbnRlcihpKSxpLm1faW1wbD1uZXcgeGEoYSwhMCxyKSxpLm1faW1wbC5idWlsZE1vbm90b25pY0N1cnZlUGFyZW50YWdlKGUsdCxzLG8pLENhKGUscyxhKSk6aS5tX2ltcGw9bnVsbH1mdW5jdGlvbiBnYShlKXtpZighZS5oYXNTZWdtZW50UGFyZW50YWdlKCkpcmV0dXJuO2NvbnN0IHQ9ZS5xdWVyeVZlcnRleEl0ZXJhdG9yT25TZWxlY3Rpb24oKTtmb3IobGV0IHM9dC5uZXh0KCk7cyE9PU07cz10Lm5leHQoKSlpZighZS5nZXRTZWdtZW50UGFyZW50YWdlQnJlYWtWZXJ0ZXgocykpe2UuZ2V0UGF0aEZyb21WZXJ0ZXgocyk7Y29uc3QgdD1lLmdldFByZXZWZXJ0ZXgocyksbj10IT09TT9lLmdldFNlZ21lbnRQYXJlbnRhZ2UodCk6LTEscj1lLmdldFNlZ21lbnRQYXJlbnRhZ2Uocyk7LTEhPT1yJiYtMSE9PW4mJnIhPT1uJiZlLnNldFNlZ21lbnRQYXJlbnRhZ2VCcmVha1ZlcnRleChzLCEwKX19ZnVuY3Rpb24gdWEoZSl7aWYoIWUuaGFzU2VnbWVudFBhcmVudGFnZSgpKXJldHVybjtnYShlKTtjb25zdCB0PW5ldyBDZSgwKSxzPWUucXVlcnlWZXJ0ZXhJdGVyYXRvck9uU2VsZWN0aW9uKCk7Zm9yKGxldCBvPXMubmV4dCgpO28hPT1NO289cy5uZXh0KCkpdC5hZGQobyk7aWYoMD09PXQuc2l6ZSgpKXJldHVybjtlLnNvcnRWZXJ0aWNlc1NpbXBsZUJ5WSh0LDAsdC5zaXplKCkpLHQuYWRkKE0pO2NvbnN0IG49UWUuZ2V0TkFOKCk7ZS5xdWVyeVhZKHQucmVhZCgwKSxuKTtsZXQgcj0wO2NvbnN0IGk9UWUuZ2V0TkFOKCk7Zm9yKGxldCBvPTEsYT10LnNpemUoKTtvPGE7bysrKXt7Y29uc3Qgcz10LnJlYWQobyk7cyE9PU0/ZS5xdWVyeVhZKHMsaSk6aS5zZXROQU4oKX1pZighaS5pc0VxdWFsUG9pbnQyRChuKSl7aWYoby1yPjEpe2xldCBzPSExO2ZvcihsZXQgbj1yO248bzsrK24pe2NvbnN0IHI9dC5yZWFkKG4pO2lmKGUuZ2V0U2VnbWVudFBhcmVudGFnZUJyZWFrVmVydGV4KHIpKXtzPSEwO2JyZWFrfX1pZighcyl7Y29uc3Qgbj0odCxzLG4pPT57Y29uc3Qgcj1lLmdldFByZXZWZXJ0ZXgodCksaT1lLmdldE5leHRWZXJ0ZXgodCk7ciE9PU0/cy5hc3NpZ24oZS5nZXRYWShyKSk6cy5zZXROQU4oKSxpIT09TT9uLmFzc2lnbihlLmdldFhZKGkpKTpuLnNldE5BTigpfSxpPW5ldyBRZSxhPW5ldyBRZTtuKHQucmVhZChyKSxpLGEpO2ZvcihsZXQgZT1yKzE7ZTxvOysrZSl7Y29uc3Qgcj10LnJlYWQoZSk7aWYocj09PU0pY29udGludWU7Y29uc3Qgbz1uZXcgUWUsaD1uZXcgUWU7bihyLG8saCk7Y29uc3QgbT0oZSx0KT0+ISEoZS5lcXVhbHModCl8fGUuaXNOQU4oKSYmdC5pc05BTigpKTtpZighKG0obyxpKSYmbShoLGEpfHxtKGgsaSkmJm0obyxhKSkpe3M9ITA7YnJlYWt9fX1pZihzKWZvcihsZXQgbj1yO248bzsrK24pZS5zZXRTZWdtZW50UGFyZW50YWdlQnJlYWtWZXJ0ZXgodC5yZWFkKG4pLCEwKX1uLnNldENvb3Jkc1BvaW50MkQoaSkscj1vfX19ZnVuY3Rpb24gY2EoZSx0KXtsZXQgcz10LmlzRW1wdHkoKT9lOmRlKG51bGwsdCwhMCkudG90YWwoKTtyZXR1cm4gcz5lJiYocz1lKSwuMTI1KnN9ZnVuY3Rpb24gX2EodCxzKXtyZXR1cm4gc3x8KHM9ZS5jb25zdHJ1Y3RFbXB0eSgpKSxjYSh0LHMpfWZ1bmN0aW9uIGRhKGUsdCl7cmV0dXJuLjEyNSplfWZ1bmN0aW9uIHBhKGUsdCl7cmV0dXJuIDMqZSszKnR9Y2xhc3MgZmF7Y29uc3RydWN0b3IoKXt0aGlzLm1faW1wbD1udWxsfXN0aXRjaEN1cnZlcyhlLHQscyxuKXt0aGlzLm1faW1wbCYmKHRoaXMubV9pbXBsLnN0aXRjaEN1cnZlcyhlLHQscyksbiYmdGhpcy5jbGVhclN0aXRjaGVyKGUpKX1jbGVhclN0aXRjaGVyKGUpe3RoaXMubV9pbXBsJiYodGhpcy5tX2ltcGwuY2xlYXJTdGl0Y2hlcihlKSx0aGlzLm1faW1wbD1udWxsKX1nZXRPcmlnaW5hbFZlcnRleEluZGV4KGUsdCl7cmV0dXJuIHRoaXMubV9pbXBsLmdldE9yaWdpbmFsVmVydGV4SW5kZXgoZSx0KX1nZXRPcmlnaW5hbFNlZ21lbnRUeXBlSW5mbyhlKXtyZXR1cm4gdGhpcy5tX2ltcGwuZ2V0T3JpZ2luYWxTZWdtZW50VHlwZUluZm8oZSl9fWNsYXNzIHhhe2NvbnN0cnVjdG9yKGUsdCxzKXt0aGlzLm1fb3JpZ2luYWxQbGFuYXJTZWdtZW50cz1bXSx0aGlzLm1fcHJvZ3Jlc3NUcmFja2VyPW51bGwsdGhpcy5tX25zcj1udWxsLHRoaXMubV9wcm9ncmVzc1RyYWNrZXI9ZSx0aGlzLm1fbnNyPXMsdGhpcy5tX3RvbGVyYW5jZT0wLHRoaXMubV9vcmlnaW5hbFZlcnRleEluZGV4PS0xLHRoaXMubV90eXBlPTEsdGhpcy5tX3Byb2dyZXNzQ291bnRlcj0wLHRoaXMubV9iSXNTaW1wbGU9dCx0aGlzLm1fZGVuc2lmaWNhdGlvbkRldmlhdGlvbj1OYU4sdGhpcy5tX21heFNlZ21lbnRzUGVyQ3VydmU9LTF9YnVpbGRNb25vdG9uaWNDdXJ2ZVBhcmVudGFnZShlLHQscyxyKXtjb25zdCBpPSExLG89ITA7aWYoIWUuaGFzQ3VydmVzKCkpcmV0dXJuO2EoIWUuaGFzU2VnbWVudFBhcmVudGFnZSgpKSx0aGlzLm1fb3JpZ2luYWxQbGFuYXJTZWdtZW50cy5sZW5ndGg9MCx0aGlzLm1fYklzU2ltcGxlJiYodGhpcy5tX29yaWdpbmFsVmVydGV4SW5kZXg9ZS5jcmVhdGVVc2VySW5kZXgoKSksdGhpcy5tX3RvbGVyYW5jZT1zO2NvbnN0IGg9bmV3IGZlLG09bmV3IEYsbD1bXSxnPVtdLHU9W107Zm9yKGxldCBjPWUuZ2V0Rmlyc3RHZW9tZXRyeSgpO2MhPT1NO2M9ZS5nZXROZXh0R2VvbWV0cnkoYykpZm9yKGxldCByPWUuZ2V0Rmlyc3RQYXRoKGMpO3IhPT1NO3I9ZS5nZXROZXh0UGF0aChyKSl7bGV0IGM9ZS5nZXRQYXRoU2l6ZShyKSxfPWUuZ2V0Rmlyc3RWZXJ0ZXgociksZD0wLHA9LTE7Zm9yKGxldCBmPTA7ZjxjO2YrKyl7bGV0IHg9ZS5nZXROZXh0VmVydGV4KF8pO2lmKCFlLnF1ZXJ5U2VnbWVudChfLG0sITAsITEpKXtfPXg7Y29udGludWV9aWYoMD09PWQpe3A9ZS5nZXRWZXJ0ZXhJbmRleChfKTtjb25zdCB0PXhhLnJlZ3VsYXJpemVDdXJ2ZShlLG0uZ2V0KCksXyxzKTtpZih0Pj0wKXt0aGlzLm1fbnNyJiYwPT09dGhpcy5tX25zci5tX3JlYXNvbiYmdGhpcy5tX25zci5hc3NpZ24obmV3IHRzKDEzLHAsLTEpKSxkPXQsYz1lLmdldFBhdGhTaXplKHIpLHg9ZS5nZXROZXh0VmVydGV4KF8pO2NvbnN0IHM9ZS5xdWVyeVNlZ21lbnQoXyxtLCEwLCExKTthKHMpfX1lbHNlIGQtLTtjb25zdCB5PWUuZ2V0VmVydGV4SW5kZXgoXyk7bGV0IFA7LTEhPT10aGlzLm1fb3JpZ2luYWxWZXJ0ZXhJbmRleCYmZS5zZXRVc2VySW5kZXgoXyx0aGlzLm1fb3JpZ2luYWxWZXJ0ZXhJbmRleCxwKSxlLnNldFNlZ21lbnRUb0luZGV4KHksbnVsbCk7bGV0IEU9ITE7c3dpdGNoKG0uZ2V0KCkuZ2V0R2VvbWV0cnlUeXBlKCkpe2Nhc2Ugbi5lbnVtRWxsaXB0aWNBcmM6Y2FzZSBuLmVudW1SYXRpb25hbEJlemllcjI6UD1BKG0uZ2V0KCksdCxzLGksbyxnLHUsbCksRT0hMDticmVhaztkZWZhdWx0Ontjb25zdCBlPSF0aGlzLm1fYklzU2ltcGxlfHwhbS5nZXQoKS5pc01vbm90b25lUXVpY2tBbmREaXJ0eSgpO1A9ayhtLmdldCgpLHQscyxlLGksZyxsKX19Y29uc3QgUz10aGlzLm1fb3JpZ2luYWxQbGFuYXJTZWdtZW50cy5sZW5ndGg7aWYoZS5zZXRTZWdtZW50UGFyZW50YWdlQW5kQnJlYWsoXyxTLCEwKSwhZ1sxXS5pc05BTigpKXtsZXQgdD1udWxsO3Q9RT9uZXcgTyh7cG9pbnRzOmcsd2VpZ2h0czp1fSk6bmV3IEIoe2NwOmd9KSx0LnNuYXBDb250cm9sUG9pbnRzKHMqcyksZS5zZXRTZWdtZW50VG9JbmRleCh5LHQpfWNvbnN0IEM9RT8yOjM7Zm9yKGxldCB0PTEsbj1QLGk9Qzt0PG47Kyt0LGkrPUMpe20uZ2V0KCkucXVlcnlDb29yZChsW3RdLGgpO2NvbnN0IG49ZS5pbnNlcnRWZXJ0ZXgocix4LGgpO2lmKC0xIT09dGhpcy5tX29yaWdpbmFsVmVydGV4SW5kZXgmJmUuc2V0VXNlckluZGV4KG4sdGhpcy5tX29yaWdpbmFsVmVydGV4SW5kZXgscCksIWdbaSsxXS5pc05BTigpKWlmKEUpe2NvbnN0IHQ9bmV3IE8oe3BvaW50czpnLnNsaWNlKGkpLHdlaWdodHM6dS5zbGljZShpKX0pO3Quc25hcENvbnRyb2xQb2ludHMocypzKSxlLnNldFNlZ21lbnRUb0luZGV4KGUuZ2V0VmVydGV4SW5kZXgobiksdCl9ZWxzZXtjb25zdCB0PW5ldyBCKHtjcDpnLnNsaWNlKGkpfSk7dC5zbmFwQ29udHJvbFBvaW50cyhzKnMpLGUuc2V0U2VnbWVudFRvSW5kZXgoZS5nZXRWZXJ0ZXhJbmRleChuKSx0KX1lLnNldFNlZ21lbnRQYXJlbnRhZ2VBbmRCcmVhayhuLFMsITEpfVA+MSYmKGYrPVAtMSxjPWUuZ2V0UGF0aFNpemUocikpLHRoaXMubV9vcmlnaW5hbFBsYW5hclNlZ21lbnRzLnB1c2gobS5yZWxlYXNlU2VnbWVudCgpKSxfPXh9fX1idWlsZExpbmVhclNlZ21lbnRQYXJlbnRhZ2UoZSx0LHMsbixyKXtpZih0aGlzLm1fdHlwZT0wLHRoaXMubV9kZW5zaWZpY2F0aW9uRGV2aWF0aW9uPXQsdGhpcy5tX21heFNlZ21lbnRzUGVyQ3VydmU9biwhZS5oYXNDdXJ2ZXMoKSlyZXR1cm47YSghZS5oYXNTZWdtZW50UGFyZW50YWdlKCkpLHRoaXMubV90b2xlcmFuY2U9cyx0aGlzLm1fb3JpZ2luYWxQbGFuYXJTZWdtZW50cz1bXSx0aGlzLm1fYklzU2ltcGxlJiYodGhpcy5tX29yaWdpbmFsVmVydGV4SW5kZXg9ZS5jcmVhdGVVc2VySW5kZXgoKSk7Y29uc3QgaT1uZXcgZmUsbz1uZXcgRixoPW5ldyBZKDAsdCwwLHRoaXMubV9wcm9ncmVzc1RyYWNrZXIsITEsbiksbT1bXTtmb3IobGV0IGw9ZS5nZXRGaXJzdEdlb21ldHJ5KCk7bCE9PU07bD1lLmdldE5leHRHZW9tZXRyeShsKSlmb3IobGV0IHQ9ZS5nZXRGaXJzdFBhdGgobCk7dCE9PU07dD1lLmdldE5leHRQYXRoKHQpKXtsZXQgbj1lLmdldFBhdGhTaXplKHQpLHI9ZS5nZXRGaXJzdFZlcnRleCh0KTtmb3IobGV0IGw9MDtsPG47bCsrKXtsZXQgbD1lLmdldE5leHRWZXJ0ZXgocik7aWYoIWUucXVlcnlTZWdtZW50KHIsbywhMCwhMSkpe3I9bDtjb250aW51ZX1pZih4YS5yZWd1bGFyaXplQ3VydmUoZSxvLmdldCgpLHIscyk+PTApe249ZS5nZXRQYXRoU2l6ZSh0KSxsPWUuZ2V0TmV4dFZlcnRleChyKTtjb25zdCBzPWUucXVlcnlTZWdtZW50KHIsbywhMCwhMSk7YShzKX1jb25zdCBnPWUuZ2V0VmVydGV4SW5kZXgocik7LTEhPT10aGlzLm1fb3JpZ2luYWxWZXJ0ZXhJbmRleCYmZS5zZXRVc2VySW5kZXgocix0aGlzLm1fb3JpZ2luYWxWZXJ0ZXhJbmRleCxnKSxlLnNldFNlZ21lbnRUb0luZGV4KGcsbnVsbCksbS5sZW5ndGg9MCxoLmRlbnNpZnlTZWdtZW50KG8uZ2V0KCksbSksdGhpcy5wcm9ncmVzc18oKTtjb25zdCB1PXRoaXMubV9vcmlnaW5hbFBsYW5hclNlZ21lbnRzLmxlbmd0aDtlLnNldFNlZ21lbnRQYXJlbnRhZ2VBbmRCcmVhayhyLHUsITApO2ZvcihsZXQgcz0xLG49bS5sZW5ndGgtMTtzPG47KytzKXtvLmdldCgpLnF1ZXJ5Q29vcmQobVtzXSxpKTtjb25zdCBuPWUuaW5zZXJ0VmVydGV4KHQsbCxpKTtlLnNldFNlZ21lbnRQYXJlbnRhZ2VBbmRCcmVhayhuLHUsITEpLC0xIT09dGhpcy5tX29yaWdpbmFsVmVydGV4SW5kZXgmJmUuc2V0VXNlckluZGV4KG4sdGhpcy5tX29yaWdpbmFsVmVydGV4SW5kZXgsZyl9dGhpcy5tX29yaWdpbmFsUGxhbmFyU2VnbWVudHMucHVzaChvLnJlbGVhc2VTZWdtZW50KCkpLHI9bH19ZS5jbGVhclNlZ21lbnRzKCl9c3RpdGNoQ3VydmVzKGUsdCxzKXt4YS5zdF9zdGl0Y2hDdXJ2ZXNJbXBsKHRoaXMsZSx0LHMsITEpfWNsZWFyU3RpdGNoZXIoZSl7dGhpcy5tX29yaWdpbmFsUGxhbmFyU2VnbWVudHMubGVuZ3RoPTAsLTEhPT10aGlzLm1fb3JpZ2luYWxWZXJ0ZXhJbmRleCYmKGUucmVtb3ZlVXNlckluZGV4KHRoaXMubV9vcmlnaW5hbFZlcnRleEluZGV4KSx0aGlzLm1fb3JpZ2luYWxWZXJ0ZXhJbmRleD0tMSksZS5kZWxldGVTZWdtZW50UGFyZW50YWdlKCl9c3RhdGljIHN0X3ZlcmlmeVBhcmVudGFnZShlKXt4YS5zdF9zdGl0Y2hDdXJ2ZXNJbXBsKG51bGwsZSxNLDAsITApfWdldE9yaWdpbmFsVmVydGV4SW5kZXgoZSx0KXtyZXR1cm4tMSE9PXRoaXMubV9vcmlnaW5hbFZlcnRleEluZGV4JiZ0IT09TT9lLmdldFVzZXJJbmRleCh0LHRoaXMubV9vcmlnaW5hbFZlcnRleEluZGV4KTotMX1nZXRPcmlnaW5hbFNlZ21lbnRUeXBlSW5mbyhlKXtpZigtMSE9PWUpe2NvbnN0IHQ9dGhpcy5tX29yaWdpbmFsUGxhbmFyU2VnbWVudHNbZV07c3dpdGNoKHQuZ2V0R2VvbWV0cnlUeXBlKCkpe2Nhc2Ugbi5lbnVtRWxsaXB0aWNBcmM6cmV0dXJuIDA9PT10LnByb2plY3Rpb25CZWhhdmlvcigpPzA6MTtjYXNlIG4uZW51bUJlemllcjpyZXR1cm4gMjtjYXNlIG4uZW51bUJlemllcjI6cmV0dXJuIDM7Y2FzZSBuLmVudW1MaW5lOnJldHVybi0xO2Nhc2Ugbi5lbnVtUmF0aW9uYWxCZXppZXIyOnJldHVybiA0O2RlZmF1bHQ6dShcIlwiKX19cmV0dXJuLTF9cHJvZ3Jlc3NfKGU9ITEpe3RoaXMubV9wcm9ncmVzc0NvdW50ZXIrK31wcm9jZXNzU3BhblNtYXJ0VGVfKGUsdCxzLG4scixpLG8pe2lmKHQ9PT1zJiYwPT09bilyZXR1cm4gYShlLmdldE5leHRWZXJ0ZXgodCk9PT1NKSxlLnNldFNlZ21lbnRUb0luZGV4KGUuZ2V0VmVydGV4SW5kZXgodCksbnVsbCksdm9pZCBlLnNldFNlZ21lbnRQYXJlbnRhZ2VBbmRCcmVhayh0LC0xKTtjb25zdCBoPWUuZ2V0TmV4dFZlcnRleCh0KSxtPWUuZ2V0WFkodCksbD1lLmdldFhZKHMpO2xldCBnLHU9MDt7bGV0IHQ9MixyPW07Zm9yKGxldCBuPWg7biE9PXM7bj1lLmdldE5leHRWZXJ0ZXgobikpe2NvbnN0IHM9ZS5nZXRYWShuKTt1Kz1RZS5kaXN0YW5jZShzLHIpLHI9cyx0Kyt9dSs9UWUuZGlzdGFuY2UobCxyKSxhKHQ9PT1uKX1pZihudWxsPT09cilyZXR1cm4gZS5zZXRTZWdtZW50VG9JbmRleChlLmdldFZlcnRleEluZGV4KHQpLG51bGwpLHZvaWQgZS5yZW1vdmVWZXJ0aWNlcyhoLHMpO2NvbnN0IGM9bztsZXQgXz1yLmdldENsb3Nlc3RDb29yZGluYXRlKG0sITEpLGQ9ci5nZXRDbG9zZXN0Q29vcmRpbmF0ZShsLCExKTtjb25zdCBwPXIuY2FsY3VsYXRlTGVuZ3RoMkQoKTtsZXQgZj1yLnRUb0xlbmd0aChfKSx4PXIudFRvTGVuZ3RoKGQpO2NvbnN0IHk9TWF0aC5hYnMoZik+MTAqYyYmTWF0aC5hYnMoZi1wKT4xMCpjLFA9TWF0aC5hYnMoeCk+MTAqYyYmTWF0aC5hYnMoeC1wKT4xMCpjLEU9ZT0+e2NvbnN0IHQ9ZS5jYWxjdWxhdGVMZW5ndGgyRCgpO3JldHVybiBNYXRoLmFicyh0LXUpPk1hdGgubWF4KC4yKnUsNCpjKT9udWxsOmV9O2xldCBTPXIuaXNDbG9zZWQoKTtpZighUyl7Y29uc3QgZT1RZS5kaXN0YW5jZShyLmdldFN0YXJ0WFkoKSxyLmdldEVuZFhZKCkpO2U8PWMmJnA+NSplJiYoUz0hMCl9aWYoUyl7bGV0IGksbyxoPW5ldyBRZTtpZigyPT09biloPVFlLmxlcnAobSxsLC41KSxpPXIuZ2V0Q2xvc2VzdENvb3JkaW5hdGUoaCwhMSksbz1yLnRUb0xlbmd0aChpKTtlbHNle2xldCBzPWUuZ2V0TmV4dE50aFZlcnRleCh0LChuLTEpLzIpO2g9ZS5nZXRYWShzKSxpPXIuZ2V0Q2xvc2VzdENvb3JkaW5hdGUoaCwhMSksbz1yLnRUb0xlbmd0aChpKTtsZXQgYT1NYXRoLmFicyhvKT4xMCpjJiZNYXRoLmFicyhvLXApPjEwKmM7aWYoIWEmJihuLTE+PTQmJihzPWUuZ2V0TmV4dE50aFZlcnRleCh0LChuLTEpLzQpLGk9ci5nZXRDbG9zZXN0Q29vcmRpbmF0ZShoLCExKSxvPXIudFRvTGVuZ3RoKGkpLGE9TWF0aC5hYnMobyk+MTAqYyYmTWF0aC5hYnMoby1wKT4xMCpjKSwhYSkpcmV0dXJufWxldCB1PSExO2NvbnN0IFM9Zj09PXg7aWYoUyl7Y29uc3Qgcz0wO2xldCBpPTIsbz00O24tMTw9NCYmKGk9cysxLG89cysyKTtjb25zdCBhPW0saD1lLmdldFhZKGUuZ2V0TmV4dE50aFZlcnRleCh0LGkpKSxsPWUuZ2V0WFkoZS5nZXROZXh0TnRoVmVydGV4KHQsbykpO3U9LVFlLm9yaWVudGF0aW9uTm9uUm9idXN0KGEsaCxsKSppdChyLmNhbGN1bGF0ZUFyZWEyREhlbHBlcigpKT4wfWVsc2UgUD95P3U9bz5mOm88eD8oZj0wLF89MCk6KGY9cCxfPTEpOm8+Zj8oeD1wLGQ9MSk6KHg9MCxkPTApO2lmKFMpZz1yLmNsb25lKCksZy5kcm9wQWxsQXR0cmlidXRlcygpLHV8fGcucmV2ZXJzZSgpLGEobS5lcXVhbHMobCkpO2Vsc2V7bGV0IGU9ITE7Xz5kJiYoZT0hMCxbXyxkXT1bZCxfXSksZz1yLmN1dChfLGQsITApLGcuZ2V0RGVzY3JpcHRpb24oKS5nZXRBdHRyaWJ1dGVDb3VudCgpLGUmJmcucmV2ZXJzZSgpfWcuc2V0Q29vcmRzRm9ySW50ZXJzZWN0b3IobSxsLCExKSxnPUUoZyksZyYmKHRoaXMucmVtb3ZlU3BhbkJldHdlZW4oZSx0LHMpLGUuc2V0U2VnbWVudFRvSW5kZXgoZS5nZXRWZXJ0ZXhJbmRleCh0KSxnKSl9ZWxzZSBpZih5fHxQKXtpZigheXx8IVApe2lmKFFlLmRpc3RhbmNlKHIuZ2V0U3RhcnRYWSgpLHIuZ2V0RW5kWFkoKSk8MTAqYyl7Y29uc3Qgbj1bbXQoXyxkKSxtdChfLGQpLG10KF8sZCldO3k/KG5bMV0uc2Vjb25kPTAsblsyXS5zZWNvbmQ9MSk6KG5bMV0uZmlyc3Q9MSxuWzJdLmZpcnN0PTApO2NvbnN0IGk9W251bGwsbnVsbCxudWxsXSxvPVswLDAsMF07bGV0IGE9TnVtYmVyLk1BWF9WQUxVRSxoPTA7Zm9yKGxldCBlPTA7ZTwzO2UrKyl7bGV0IHQ9ITE7aWYobltlXS5maXJzdD5uW2VdLnNlY29uZCl7dD0hMDtjb25zdCBzPW5bZV0uZmlyc3Q7bltlXS5maXJzdD1uW2VdLnNlY29uZCxuW2VdLnNlY29uZD1zfWlbZV09ci5jdXQobltlXS5maXJzdCxuW2VdLnNlY29uZCwhMCksaVtlXS5kcm9wQWxsQXR0cmlidXRlcygpLHQmJmlbZV0ucmV2ZXJzZSgpLGlbZV0uc2V0Q29vcmRzRm9ySW50ZXJzZWN0b3IobSxsLCExKSxvW2VdPWlbZV0uY2FsY3VsYXRlTGVuZ3RoMkQoKTtjb25zdCBzPU1hdGguYWJzKHUtb1tlXSk7czxhJiYoYT1zLGg9ZSl9cmV0dXJuIGc9aVtoXSxnPUUoZyksdm9pZChnJiYodGhpcy5yZW1vdmVTcGFuQmV0d2VlbihlLHQscyksZS5zZXRTZWdtZW50VG9JbmRleChlLmdldFZlcnRleEluZGV4KHQpLGcpKSl9fWxldCBuPSExO18+ZCYmKG49ITAsW18sZF09W2QsX10pLGc9ci5jdXQoXyxkLCEwKSxnLmRyb3BBbGxBdHRyaWJ1dGVzKCksbiYmZy5yZXZlcnNlKCksZy5zZXRDb29yZHNGb3JJbnRlcnNlY3RvcihtLGwsITEpLGc9RShnKSxnJiYodGhpcy5yZW1vdmVTcGFuQmV0d2VlbihlLHQscyksZS5zZXRTZWdtZW50VG9JbmRleChlLmdldFZlcnRleEluZGV4KHQpLGcpKX1lbHNle2lmKGc9ci5jbG9uZSgpLGcuZHJvcEFsbEF0dHJpYnV0ZXMoKSxmPngmJmcucmV2ZXJzZSgpLHU8TWF0aC5tYXgoLjc1KnAscC10aGlzLm1fZGVuc2lmaWNhdGlvbkRldmlhdGlvbioobi0xKSkpe2NvbnN0IGU9Xz5kP2Q6Xyx0PWcudFRvTGVuZ3RoKGUpK3U7bGV0IHM9Zy5sZW5ndGhUb1QodCk7cz1JdChzLGUsMSksZz1nLmN1dChlLHMsITApfWcuc2V0Q29vcmRzRm9ySW50ZXJzZWN0b3IobSxsLCExKSxnPUUoZyksZyYmKHRoaXMucmVtb3ZlU3BhbkJldHdlZW4oZSx0LHMpLGUuc2V0U2VnbWVudFRvSW5kZXgoZS5nZXRWZXJ0ZXhJbmRleCh0KSxnKSl9fXByb2Nlc3NTcGFuQ3VydmVzXyhlLHQscyxuLHIsaSxvKXtpZih0PT09cyYmMD09PW4pcmV0dXJuIGEoZS5nZXROZXh0VmVydGV4KHQpPT09TSksZS5zZXRTZWdtZW50VG9JbmRleChlLmdldFZlcnRleEluZGV4KHQpLG51bGwpLHZvaWQgZS5zZXRTZWdtZW50UGFyZW50YWdlQW5kQnJlYWsodCwtMSk7Y29uc3QgaD1lLmdldE5leHRWZXJ0ZXgodCk7e2xldCB0PTI7Zm9yKGxldCBuPWg7biE9PXM7bj1lLmdldE5leHRWZXJ0ZXgobikpdCsrO2EodD09PW4pfWlmKG51bGw9PT1yKXJldHVybiBlLnNldFNlZ21lbnRUb0luZGV4KGUuZ2V0VmVydGV4SW5kZXgodCksbnVsbCksdm9pZCBlLnJlbW92ZVZlcnRpY2VzKGgscyk7Y29uc3QgbT1lLmdldFhZKHQpLGw9ZS5nZXRYWShzKTtpZihyLmlzQ2xvc2VkKCkpe2lmKG0uaXNFcXVhbFBvaW50MkQobCkmJm0uaXNFcXVhbFBvaW50MkQoci5nZXRTdGFydFhZKCkpKXtsZXQgYTtpZihhPXRoaXMudmVyaWZ5U2VnbWVudEZpdG5lc3NDdXJ2ZXMoZSx0LHMsbixyLGksbykpe2NvbnN0IG49ci5jbG9uZSgpO3JldHVybiBuLmRyb3BBbGxBdHRyaWJ1dGVzKCksYTwwJiZuLnJldmVyc2UoKSx0aGlzLnJlbW92ZVNwYW5CZXR3ZWVuKGUsdCxzKSx2b2lkIGUuc2V0U2VnbWVudFRvSW5kZXgoZS5nZXRWZXJ0ZXhJbmRleCh0KSxuKX19fWVsc2UgaWYobS5pc0VxdWFsUG9pbnQyRChyLmdldFN0YXJ0WFkoKSkpe2lmKGwuaXNFcXVhbFBvaW50MkQoci5nZXRFbmRYWSgpKSl7Y29uc3QgaD1yLmNsb25lKCk7aC5kcm9wQWxsQXR0cmlidXRlcygpO2NvbnN0IG09dGhpcy52ZXJpZnlTZWdtZW50Rml0bmVzc0N1cnZlcyhlLHQscyxuLGgsaSxvKTtpZihtKXJldHVybiBhKG0+MCksdGhpcy5yZW1vdmVTcGFuQmV0d2VlbihlLHQscyksdm9pZCBlLnNldFNlZ21lbnRUb0luZGV4KGUuZ2V0VmVydGV4SW5kZXgodCksaCl9fWVsc2UgaWYobC5pc0VxdWFsUG9pbnQyRChyLmdldFN0YXJ0WFkoKSkmJm0uaXNFcXVhbFBvaW50MkQoci5nZXRFbmRYWSgpKSl7Y29uc3QgaD1yLmdldFJldmVyc2VkKCk7aC5kcm9wQWxsQXR0cmlidXRlcygpO2NvbnN0IG09dGhpcy52ZXJpZnlTZWdtZW50Rml0bmVzc0N1cnZlcyhlLHQscyxuLGgsaSxvKTtpZihtKXJldHVybiBhKG0+MCksdGhpcy5yZW1vdmVTcGFuQmV0d2VlbihlLHQscyksdm9pZCBlLnNldFNlZ21lbnRUb0luZGV4KGUuZ2V0VmVydGV4SW5kZXgodCksaCl9dGhpcy5wcm9jZXNzU3BhblNwbGl0U2VnbWVudEN1cnZlcyhlLHQscyxuLHIsaSxvKX1wcm9jZXNzU3Bhbl8oZSx0LHMsbixyLGksbyl7cmV0dXJuIDA9PT10aGlzLm1fdHlwZT92b2lkIHRoaXMucHJvY2Vzc1NwYW5TbWFydFRlXyhlLHQscyxuLHIsaSxvKTp2b2lkIHRoaXMucHJvY2Vzc1NwYW5DdXJ2ZXNfKGUsdCxzLG4scixpLG8pfXByb2Nlc3NTcGFuU3BsaXRTZWdtZW50Q3VydmVzKGUsdCxzLG4scixpLG8pe2lmKHIuaXNMaW5lKCkpcmV0dXJuO2lmKHRoaXMuZml0U2VnbWVudFRvU3BhbkN1cnZlcyhlLHQscyxuLHIsaSxvKSlyZXR1cm47Y29uc3QgYT1vKm87bGV0IGg9bixtPXQ7Y29uc3QgbD1lLmdldFhZKHQpO2xldCBnPXIuZ2V0Q2xvc2VzdENvb3JkaW5hdGUobCwhMSk7Y29uc3QgdT1yLmdldENvb3JkMkQoZyk7bGV0IGM9ITE7Y29uc3QgXz1RZS5zcXJEaXN0YW5jZShsLHUpO2lmKF8+YSl7Y29uc3Qgbj1lLmdldE5leHRWZXJ0ZXgodCk7aWYodGhpcy5hcHByb3hpbWF0ZVNwYW5TZWN0aW9uQ3VydmVzKGUsdCxyLGksbyksbj09PXMpcmV0dXJuO209bixjPSEwLGgtPTF9bGV0IGQ9cztjb25zdCBwPWUuZ2V0WFkocyk7Zz1yLmdldENsb3Nlc3RDb29yZGluYXRlKHAsITEpO2NvbnN0IGY9ci5nZXRDb29yZDJEKGcpO2xldCB4PSExO2NvbnN0IHk9UWUuc3FyRGlzdGFuY2UocCxmKTtpZih5PmEpe2NvbnN0IHQ9ZS5nZXRQcmV2VmVydGV4KHMpO2lmKHRoaXMuYXBwcm94aW1hdGVTcGFuU2VjdGlvbkN1cnZlcyhlLHQscixpLG8pLHQ9PT1tKXJldHVybjtkPXQseD0hMCxoLT0xfWlmKChjfHx4KSYmdGhpcy5maXRTZWdtZW50VG9TcGFuQ3VydmVzKGUsbSxkLGgscixpLG8pKXJldHVybjtsZXQgUD0hMTtpZighYyYmXz4wKXtjb25zdCBzPWUuZ2V0TmV4dFZlcnRleCh0KTtpZih0aGlzLmFwcHJveGltYXRlU3BhblNlY3Rpb25DdXJ2ZXMoZSx0LHIsaSxvKSxzPT09ZClyZXR1cm47bT1zLGM9ITAsUD0hMCxoLT0xfWlmKCF4JiZ5PjApe2NvbnN0IHQ9ZS5nZXRQcmV2VmVydGV4KHMpO2lmKHRoaXMuYXBwcm94aW1hdGVTcGFuU2VjdGlvbkN1cnZlcyhlLHQscixpLG8pLHQ9PT1tKXJldHVybjtkPXQseD0hMCxQPSEwLGgtPTF9aWYoUCYmdGhpcy5maXRTZWdtZW50VG9TcGFuQ3VydmVzKGUsbSxkLGgscixpLG8pKXJldHVybjtsZXQgRT1tO2Zvcig7Oyl7Y29uc3QgdD1lLmdldE5leHRWZXJ0ZXgoRSk7aWYodGhpcy5hcHByb3hpbWF0ZVNwYW5TZWN0aW9uQ3VydmVzKGUsRSxyLGksbyksRT10LEU9PT1kKXJldHVybn19Zml0U2VnbWVudFRvU3BhbkN1cnZlcyhlLHQscyxuLHIsaSxvKXtjb25zdCBhPVtdO2EucHVzaChlLmdldFhZKHQpKTtsZXQgaD10O2NvbnN0IG09bmV3IEY7Zm9yKDs7KXtlLnF1ZXJ5U2VnbWVudChoLG0sITEsITApO2NvbnN0IHQ9Wy4xLC4yNSwuNCwuNSwuNiwuNzUsLjksMV07bGV0IHI9MDtmb3IoY29uc3QgZSBvZiB0KXsoMj09PW58fDEmcikmJmEucHVzaChtLmdldCgpLmdldENvb3JkMkQoZSkpLHIrK31pZihoPWUuZ2V0TmV4dFZlcnRleChoKSxoPT09cylicmVha31jb25zdCBsPSgoKT0+e2xldCBlPWFbMF0uY29tcGFyZShhLmF0KC0xKSk7aWYoMD09PWUpe2NvbnN0IHQ9bmV3IGd0KDApO1FvKGEsYS5sZW5ndGgsdCksZT10LmdldFJlc3VsdCgpPj0wPy0xOjF9cmV0dXJuIGU+MH0pKCk7bCYmYS5yZXZlcnNlKCk7Y29uc3QgZz1yLmNsb25lKCk7aWYoZy5kcm9wQWxsQXR0cmlidXRlcygpLGwmJmcucmV2ZXJzZSgpLGcuc2V0U2VnbWVudEZyb21Db29yZHNGb3JTdGl0Y2hlcihhLGEubGVuZ3RoKSxsJiZnLnJldmVyc2UoKSxnLnNuYXBDb250cm9sUG9pbnRzKHRoaXMubV90b2xlcmFuY2UqdGhpcy5tX3RvbGVyYW5jZSksdGhpcy52ZXJpZnlTZWdtZW50Rml0bmVzc0N1cnZlcyhlLHQscyxuLGcsaSxvKSl7dGhpcy5yZW1vdmVTcGFuQmV0d2VlbihlLHQscyk7Y29uc3Qgbj1lLmdldFZlcnRleEluZGV4KHQpO3JldHVybiBlLnNldFNlZ21lbnRUb0luZGV4KG4sZyksITB9cmV0dXJuITF9YXBwcm94aW1hdGVTcGFuU2VjdGlvbkN1cnZlcyhlLHQscyxyLG8pe2NvbnN0IGE9bmV3IEY7aWYoIWUucXVlcnlTZWdtZW50KHQsYSwhMCwhMSkpcmV0dXJuO2NvbnN0IGg9cy5nZXRHZW9tZXRyeVR5cGUoKTtpZihoIT09YS5nZXQoKS5nZXRHZW9tZXRyeVR5cGUoKSl7aWYoaD09PW4uZW51bUVsbGlwdGljQXJjKXtpZihhLmdldCgpLmdldEdlb21ldHJ5VHlwZSgpIT09bi5lbnVtUmF0aW9uYWxCZXppZXIyKXJldHVybjtpZigwPT09cy5wcm9qZWN0aW9uQmVoYXZpb3IoKSl7Y29uc3Qgcz1bXTtlYSghMSxhLmdldCgpLG8scyx0aGlzLm1fcHJvZ3Jlc3NUcmFja2VyKTtjb25zdCBuPWUuZ2V0TmV4dFZlcnRleCh0KSxyPWUuZ2V0UGF0aEZyb21WZXJ0ZXgodCksaT1uZXcgZmU7bGV0IGg9dDtmb3IobGV0IHQ9MSxvPXMubGVuZ3RoO3Q8bzt0Kyspe2NvbnN0IG89c1t0XSxtPWEuZ2V0KCkuZ2V0Q29vcmQyRChzW3QtMV0pLGw9YS5nZXQoKS5nZXRDb29yZDJEKGZ0KHNbdC0xXSxvLC41KSk7YS5nZXQoKS5xdWVyeUNvb3JkKG8saSk7Y29uc3QgZz1pLmdldFhZKCksdT1uZXcgUjt1LmNvbnN0cnVjdENpcmN1bGFyQXJjVGhyZWVQb2ludChtLGcsbCk7bGV0IGM9TTtvPDEmJihjPWUuaW5zZXJ0VmVydGV4KHIsbixpKSksZS5zZXRTZWdtZW50VG9JbmRleChlLmdldFZlcnRleEluZGV4KGgpLHUpLGg9Y31yZXR1cm59e2NvbnN0IHM9bHQoUWUsMyk7YS5nZXQoKS5xdWVyeUNvbnRyb2xQb2ludHMocyk7Y29uc3Qgbj1bMCwwLDBdO2EuZ2V0KCkucXVlcnlXZWlnaHRzKG4pO2NvbnN0IHI9WChuKSxpPW5ldyBSO3JldHVybiBMKHMscipyLG51bGwsITEsaSksdm9pZCBlLnNldFNlZ21lbnRUb0luZGV4KGUuZ2V0VmVydGV4SW5kZXgodCksaSl9fWkoXCJhcHByb3hpbWF0ZV9zcGFuX3NlY3Rpb25fXCIpfX12ZXJpZnlTZWdtZW50Rml0bmVzc0N1cnZlcyhlLHQscyxuLHIsaSxvKXtjb25zdCBhPWUuZ2V0WFkodCksaD1lLmdldFhZKHMpO2lmKCFhLmlzRXF1YWxQb2ludDJEKHIuZ2V0U3RhcnRYWSgpKXx8IWguaXNFcXVhbFBvaW50MkQoci5nZXRFbmRYWSgpKSlyZXR1cm4gMDtsZXQgbT0wO2lmKHIuaXNDbG9zZWQoKSl7Y29uc3QgZT1yLmdldENvb3JkMkQoLjEpLnN1YihhKTttPXIuZ2V0Q29vcmQyRCguNykuc3ViKGEpLmNyb3NzUHJvZHVjdChlKT49MD8xOi0xfWNvbnN0IGw9S2Uoei5zX21heE1vbm90b25pY1BhcnRQYXJhbXMsTnVtYmVyLk5hTik7bGV0IGc9ci5nZXRNb25vdG9uaWNQYXJ0UGFyYW1zKGwubGVuZ3RoLGwpO2ctLTtjb25zdCB1PW5ldyBILGM9WzEsLjUsLjc1LC4yNV07bGV0IF89MCxkPXQ7Y29uc3QgcD1hLmNsb25lKCk7Zm9yKDs7KXtjb25zdCB0PWUuZ2V0TmV4dFZlcnRleChkKTtsZXQgbj1lLmdldFNlZ21lbnQoZCk7bnVsbD09PW4mJihlLnF1ZXJ5TGluZUNvbm5lY3RvcihkLHUsITApLG49dSk7Zm9yKGxldCBlPXQ9PT1zPzE6MDtlPGMubGVuZ3RoO2UrKyl7Y29uc3QgdD1uLmdldENvb3JkMkQoY1tlXSk7aWYoIXIuaXNDbG9zZXJUaGFuRGlzdGFuY2UodCxhdC51bml0KCksbykpcmV0dXJuIDB9aWYoZz4xKWZvcihsZXQgZT0xO2U8Zzspe2NvbnN0IHQ9ci5nZXRDb29yZDJEKGxbZV0pO24uaXNDbG9zZXJUaGFuRGlzdGFuY2UodCxhdC51bml0KCksbyk/KGxbZy0xXT1ydChsW2VdLGxbZV09bFtnLTFdKSxnLS0pOmUrK31pZihtKXtjb25zdCBlPW4uZ2V0Q29vcmQyRCguMjUpO18rPWUuc3ViKGEpLmNyb3NzUHJvZHVjdChwLnN1YihhKSkscC5hc3NpZ24oZSksZS5hc3NpZ24obi5nZXRDb29yZDJEKC43NSkpLF8rPWUuc3ViKGEpLmNyb3NzUHJvZHVjdChwLnN1YihhKSkscC5hc3NpZ24oZSl9aWYoZD10LGQ9PT1zKXJldHVybiBnPjE/MDptP188MD8tbTptOjF9fXJlbW92ZVNwYW5CZXR3ZWVuKGUsdCxzKXtlLnNldFNlZ21lbnRUb0luZGV4KGUuZ2V0VmVydGV4SW5kZXgodCksbnVsbCk7Y29uc3Qgbj1lLmdldE5leHRWZXJ0ZXgodCk7biE9PXMmJmUucmVtb3ZlVmVydGljZXMobixzKX1zdGF0aWMgc3Rfc3RpdGNoQ3VydmVzSW1wbChlLHQscyxuLHIpe2lmKCF0Lmhhc1NlZ21lbnRQYXJlbnRhZ2UoKSlyZXR1cm47Z2EodCk7bGV0IGk9cz09PU0/dC5nZXRGaXJzdEdlb21ldHJ5KCk6cztmb3IoO2khPT1NOylpZihFKHQuZ2V0R2VvbWV0cnlUeXBlKGkpKSl7Zm9yKGxldCBzPXQuZ2V0Rmlyc3RQYXRoKGkpO3MhPT1NO3M9dC5nZXROZXh0UGF0aChzKSl7bGV0IGk9dC5nZXRQYXRoU2l6ZShzKTtjb25zdCBvPXQuaXNDbG9zZWRQYXRoKHMpO28mJihpKz0xKTtsZXQgaD10LmdldEZpcnN0VmVydGV4KHMpO2NvbnN0IG09dC5nZXRTZWdtZW50UGFyZW50YWdlKGgpO2lmKG8pe2lmKC0xIT09bSYmIXQuZ2V0U2VnbWVudFBhcmVudGFnZUJyZWFrVmVydGV4KGgpKXtsZXQgZT10LmdldFByZXZWZXJ0ZXgoaCk7Y29uc3Qgcz1oO2ZvcihsZXQgbj0wOztuKyspe2NvbnN0IHI9dC5nZXRTZWdtZW50UGFyZW50YWdlKGUpO2lmKG0hPT1yKXthKC0xPT09cik7YnJlYWt9aWYoaD1lLHQuZ2V0U2VnbWVudFBhcmVudGFnZUJyZWFrVmVydGV4KGUpKWJyZWFrO2lmKGU9PT1zKXtoPXMsdC5zZXRTZWdtZW50UGFyZW50YWdlQnJlYWtWZXJ0ZXgoaCwhMCk7YnJlYWt9ZT10LmdldFByZXZWZXJ0ZXgoZSksYShuPGkpfX19ZWxzZSBhKC0xPT09bXx8dC5nZXRTZWdtZW50UGFyZW50YWdlQnJlYWtWZXJ0ZXgoaCkpO2xldCBsPWg7Zm9yKGxldCBzPTA7czxpJiZsIT09TTspe2NvbnN0IG89dC5nZXRTZWdtZW50UGFyZW50YWdlKGwpO2lmKC0xPT09byl7aWYocysrLGw9dC5nZXROZXh0VmVydGV4KGwpLGw9PT1oKWJyZWFrO2NvbnRpbnVlfWxldCBtPTAsZz1NO2NvbnN0IHU9bDttPTE7bGV0IGM9dC5nZXROZXh0VmVydGV4KHUpO2Zvcig7czxpJiZjIT09TTspe3MrKyxnPWMsbSsrO2NvbnN0IGU9dC5nZXRTZWdtZW50UGFyZW50YWdlKGMpO2lmKC0xPT09ZXx8dC5nZXRTZWdtZW50UGFyZW50YWdlQnJlYWtWZXJ0ZXgoYykpYnJlYWs7YShlPT09byksYz10LmdldE5leHRWZXJ0ZXgoYyl9aWYoZz09PU0pe2EoMCk7YnJlYWt9aWYoIXIpe2NvbnN0IHM9ZS5tX29yaWdpbmFsUGxhbmFyU2VnbWVudHNbb107ZS5wcm9jZXNzU3Bhbl8odCx1LGcsbSxzLG8sbil9aWYobD1nLGw9PT1oKWJyZWFrfX1pZihzIT09TSlicmVhaztpPXQuZ2V0TmV4dEdlb21ldHJ5KGkpfWVsc2UgaT1zPT09TT90LmdldE5leHRHZW9tZXRyeShpKTpNfXN0YXRpYyBzdF9zdGl0Y2hDdXJ2ZXNGcm9tTGluZXNJbXBsKGUsdCxzLG4scil7bGV0IGk9cz09PU0/dC5nZXRGaXJzdEdlb21ldHJ5KCk6cztmb3IoO2khPT1NOyl7Zm9yKGxldCBzPXQuZ2V0Rmlyc3RQYXRoKGkpO3MhPT1NO3M9dC5nZXROZXh0UGF0aChzKSl7bGV0IGk9dC5nZXRQYXRoU2l6ZShzKTt0LmlzQ2xvc2VkUGF0aChzKSYmKGkrPTEpO2xldCBvPSEwLGg9ITE7Y29uc3QgbT10LmdldEZpcnN0VmVydGV4KHMpO2xldCBsPW07Zm9yKGxldCBzPTA7czxpJiZsIT09TTspe2xldCBnPXQuZ2V0U2VnbWVudFBhcmVudGFnZShsKTtpZigtMT09PWd8fG8pe289ITEscysrLGw9dC5nZXROZXh0VmVydGV4KGwpLGg9ITA7Y29udGludWV9bGV0IHUsYyxfPTA7aWYoaD8odT10LmdldFByZXZWZXJ0ZXgobCksYz1sLGEodSE9PU0pLGEoYyE9PXUpLGEoLTE9PT10LmdldFNlZ21lbnRQYXJlbnRhZ2UodSl8fG09PT11KSk6KHU9bCxjPXQuZ2V0TmV4dFZlcnRleCh1KSxzKyssYShjIT09TSksYShjIT09dSksZz10LmdldFNlZ21lbnRQYXJlbnRhZ2UoYykpLF89MixoPSExLC0xPT09Z3x8dC5nZXRTZWdtZW50UGFyZW50YWdlQnJlYWtWZXJ0ZXgoYykpe2w9Yztjb250aW51ZX1sZXQgZD10LmdldE5leHRWZXJ0ZXgoYyk7Zm9yKHMrKztzPGkmJmQhPT1NOyl7Yz1kLF8rKztjb25zdCBlPXQuZ2V0U2VnbWVudFBhcmVudGFnZShkKTtpZigtMT09PWV8fHQuZ2V0U2VnbWVudFBhcmVudGFnZUJyZWFrVmVydGV4KGQpKWJyZWFrO2EoZT09PWcpLHMrKyxkPXQuZ2V0TmV4dFZlcnRleChkKX1pZighcil7Y29uc3Qgcz1lLm1fb3JpZ2luYWxQbGFuYXJTZWdtZW50c1tnXTtlLnByb2Nlc3NTcGFuXyh0LHUsYyxfLHMsZyxuKX1sPWN9fWlmKHMhPT1NKWJyZWFrO2k9dC5nZXROZXh0R2VvbWV0cnkoaSl9fXN0YXRpYyBzdF9zdGl0Y2hDdXJ2ZXNGcm9tQ3VydmVzSW1wbChlLHQscyxuLHIpe2xldCBpPXM9PT1NP3QuZ2V0Rmlyc3RHZW9tZXRyeSgpOnM7Zm9yKDtpIT09TTspaWYoRSh0LmdldEdlb21ldHJ5VHlwZShpKSkpe2ZvcihsZXQgcz10LmdldEZpcnN0UGF0aChpKTtzIT09TTtzPXQuZ2V0TmV4dFBhdGgocykpe2xldCBpPXQuZ2V0UGF0aFNpemUocyk7Y29uc3Qgbz10LmlzQ2xvc2VkUGF0aChzKTtvJiYoaSs9MSk7bGV0IGg9dC5nZXRGaXJzdFZlcnRleChzKTtpZihvKXtpZigtMSE9PXQuZ2V0U2VnbWVudFBhcmVudGFnZShoKSl7bGV0IGU9aDtmb3IobGV0IG49MDshdC5nZXRTZWdtZW50UGFyZW50YWdlQnJlYWtWZXJ0ZXgoZSk7bisrKXtpZihuPT09aSl7aD10LmdldEZpcnN0VmVydGV4KHMpLHQuc2V0U2VnbWVudFBhcmVudGFnZUJyZWFrVmVydGV4KGUsITApO2JyZWFrfWU9dC5nZXRQcmV2VmVydGV4KGUpfX19ZWxzZSBhKC0xPT09dC5nZXRTZWdtZW50UGFyZW50YWdlKGgpfHx0LmdldFNlZ21lbnRQYXJlbnRhZ2VCcmVha1ZlcnRleChoKSk7bGV0IG09aDtmb3IobGV0IHM9MDtzPGkmJm0hPT1NOyl7Y29uc3Qgbz10LmdldFNlZ21lbnRQYXJlbnRhZ2UobSk7aWYoLTE9PT1vKXtzKyssbT10LmdldE5leHRWZXJ0ZXgobSk7Y29udGludWV9bGV0IGg9MCxsPU07Y29uc3QgZz1tO2g9MTtsZXQgdT10LmdldE5leHRWZXJ0ZXgoZyk7Zm9yKDtzPGkmJnUhPT1NOyl7cysrLGw9dSxoKys7Y29uc3QgZT10LmdldFNlZ21lbnRQYXJlbnRhZ2UodSk7aWYoLTE9PT1lfHx0LmdldFNlZ21lbnRQYXJlbnRhZ2VCcmVha1ZlcnRleCh1KSlicmVhazthKGU9PT1vKSx1PXQuZ2V0TmV4dFZlcnRleCh1KX1pZihsPT09TSlicmVhaztpZighcil7Y29uc3Qgcz1lLm1fb3JpZ2luYWxQbGFuYXJTZWdtZW50c1tvXTtlLnByb2Nlc3NTcGFuXyh0LGcsbCxoLHMsbyxuKX1tPWx9fWlmKHMhPT1NKWJyZWFrO2k9dC5nZXROZXh0R2VvbWV0cnkoaSl9ZWxzZSBpPXM9PT1NP3QuZ2V0TmV4dEdlb21ldHJ5KGkpOk19c3RhdGljIHJlZ3VsYXJpemVDdXJ2ZShlLHQscyxuKXtsZXQgcj10LnNuYXBDb250cm9sUG9pbnRzKG4qbik7aWYocil7Y29uc3Qgbj1lLmdldFZlcnRleEluZGV4KHMpLHI9dC5jbG9uZSgpO2Uuc2V0U2VnbWVudFRvSW5kZXgobixyKX1pZih0LmdldEdlb21ldHJ5VHlwZSgpPT09Qi50eXBlKXtjb25zdCBpPVtdLG89dC5jYWxjdWxhdGVTcGVjaWFsUG9pbnRzRm9yQ3JhY2tpbmcobixpKTtpZihvPjApe2NvbnN0IGE9W107aWYobz4xKWZvcihsZXQgZT0wO2U8bztlKyspaWYoYS5wdXNoKHQuZ2V0Q29vcmQyRChpW2VdKSksZT4wKXtjb25zdCB0PShNYXRoLmFicyhhW2VdLngpK01hdGguYWJzKGFbZV0ueSkpKkV0KCkscz1RZS5kaXN0YW5jZShhW2UtMV0sYVtlXSk7aWYoczx0JiZzPjApe2NvbnN0IHQ9bmV3IFFlO1N0KGFbZS0xXSxhW2VdLC41LHQpLGFbZS0xXT10LGFbZV09dH19ZS5zcGxpdFNlZ21lbnQocyxpLG8pLHI9ZS5zbmFwQ29udHJvbFBvaW50cyhzLG8rMSxuKm4pfHxyO2ZvcihsZXQgdD0wO3Q8bzt0Kyspcz1lLmdldE5leHRWZXJ0ZXgocyksZS5zZXRTZWdtZW50UGFyZW50YWdlQnJlYWtWZXJ0ZXgocywhMCk7cmV0dXJuIG99fXJldHVybiByPzA6LTF9fWZ1bmN0aW9uIHlhKGUsdCxzLG4scil7cmV0dXJuIG5ldyBiYShlLHMsdCxuLHIpLmRvXygpfWZ1bmN0aW9uIFBhKGUsdCxzKXtjb25zdCBuPXllKGUpO3JldHVybiBsbih0LmdldFgoKSx0LmdldFkoKSxzLmdldFgoKSxzLmdldFkoKSx1dChuKSl9ZnVuY3Rpb24gRWEoZSx0LHM9MSxuPTEscj0xLGk9MSl7aWYobj5pKXJldHVybiBlO2lmKGk+bilyZXR1cm4gdDtjb25zdCBvPVswXSxhPVswXSxoPW5ldyBmZTtyZXR1cm4gY24oZSx0LHMsbixyLGksaCxhLG8pLGh9ZnVuY3Rpb24gU2EoZSx0LHMpe2NvbnN0IG49eWUodCkscj1TZSh0KTtyZXR1cm4hIV9uKGUsbixNLG51bGwscyl8fE1uKCEwLGUscixudWxsLHMpfWZ1bmN0aW9uIENhKGUsdCxzKXtyZXR1cm4gYmEuZml4Q3VydmVUd29Qb2ludExvb3BzKGUsdCxzKX1mdW5jdGlvbiBJYShlKXtyZXR1cm4geWUoZSl9Y2xhc3MgYmF7Y29uc3RydWN0b3IoZSx0LHMsbixyKXt0aGlzLm1fc2hhcGU9ZSx0aGlzLm1fcHJvZ3Jlc3NUcmFja2VyPXQsdGhpcy5tX3RvbGVyYW5jZT1zLHRoaXMubV9iRmlsdGVyRGVnZW5lcmF0ZVNlZ21lbnRzPW4sdGhpcy5tX2JUcmFja0NoYW5nZXM9cix0aGlzLm1fcHJvZ3Jlc3NDb3VudGVyPTB9ZG9fKCl7Y29uc3QgZT1uZXcgeGUodGhpcy5tX3RvbGVyYW5jZS50b2xlcmFuY2UsdGhpcy5tX3RvbGVyYW5jZS5yZXNvbHV0aW9uKSx0PTFlLTUscz0xZS02LG49SWEoZSk7bGV0IHI9U2UoZSk7Y29uc3Qgbz1yKigxK3QpO3IqPTErcztsZXQgYT0hMTtjb25zdCBoPXRoaXMubV9zaGFwZS5nZXRUb3RhbFBvaW50Q291bnQoKSsxMD4zMD8xZTM6KHRoaXMubV9zaGFwZS5nZXRUb3RhbFBvaW50Q291bnQoKSsxMCkqKHRoaXMubV9zaGFwZS5nZXRUb3RhbFBvaW50Q291bnQoKSsxMCksbT10aGlzLm1fc2hhcGUuaGFzUG9pbnRGZWF0dXJlcygpO2ZvcihsZXQgbD0wOztsKyspe3RoaXMubV9zaGFwZS5kYmdDaGVja1NlbGVjdGlvbigpLGw+aCYmaShcImNyYWNrX2FuZF9jbHVzdGVyX2l0ZXJhdGlvbl9leGNlZWRlZFwiKSx0aGlzLm1fc2hhcGUuZGJnVmVyaWZ5TW9ub3RvbmUoKTtsZXQgZT0tMTswPT09bCYmKGU9dGhpcy5maXJzdENyYWNrXygpLGF8fD1lPjApO2NvbnN0IHQ9dGhpcy5jbHVzdGVyXyhuKTtpZih0aGlzLm1fc2hhcGUuZGJnVmVyaWZ5TW9ub3RvbmUoKSxhfHw9dCx0aGlzLm1fYkZpbHRlckRlZ2VuZXJhdGVTZWdtZW50cyl7Y29uc3QgZT0wIT09dGhpcy5tX3NoYXBlLmZpbHRlckNsb3NlUG9pbnRzKG4sITAsITEsdGhpcy5tX2JUcmFja0NoYW5nZXMsTSk7YXx8PWUsdGhpcy5tX3NoYXBlLmRiZ1ZlcmlmeU1vbm90b25lKCl9Y29uc3Qgcz10aGlzLm1fc2hhcGUuc25hcENvbnRyb2xQb2ludHNPblNlbGVjdGlvbihvKm8pO2F8fD1zLHRoaXMubV9zaGFwZS5kYmdDaGVja1NlbGVjdGlvbigpO2xldCBnPSExO2lmKCgwPT09bCYmLTE9PT1lfHxtfHxNbighMCx0aGlzLm1fc2hhcGUscixudWxsLHRoaXMubV9wcm9ncmVzc1RyYWNrZXIpKSYmKGc9dGhpcy5jcmFja18obyksYXx8PWcsdGhpcy5tX3NoYXBlLmRiZ1ZlcmlmeU1vbm90b25lKCkpLCFnJiYhYmEuZml4Q3VydmVUd29Qb2ludExvb3BzKHRoaXMubV9zaGFwZSxuLHRoaXMubV9wcm9ncmVzc1RyYWNrZXIpKXt0aGlzLm1fc2hhcGUuZGJnVmVyaWZ5TW9ub3RvbmUoKTticmVha319cmV0dXJuIGEmJnVhKHRoaXMubV9zaGFwZSksYX1jbHVzdGVyXyhlKXtyZXR1cm4gbW4odGhpcy5tX3NoYXBlLGUsTSx0aGlzLm1fYlRyYWNrQ2hhbmdlcyx0aGlzLm1fcHJvZ3Jlc3NUcmFja2VyKX1jcmFja18oZSl7cmV0dXJuIEFuKHRoaXMubV9zaGFwZSxlLHRoaXMubV9iVHJhY2tDaGFuZ2VzLHRoaXMubV9wcm9ncmVzc1RyYWNrZXIpfXN0YXRpYyBmaXhDdXJ2ZVR3b1BvaW50TG9vcHMoZSx0LHMpe2lmKCFlLmhhc0N1cnZlcygpKXJldHVybiExO2UuZGJnVmVyaWZ5Q3VydmVzKCk7Y29uc3Qgbj1lLmNyZWF0ZVVzZXJJbmRleFVuaW5pdGlhbGl6ZWQoKSxyPW5ldyBDZSgwKSxpPWUucXVlcnlWZXJ0ZXhJdGVyYXRvck9uU2VsZWN0aW9uKCk7Zm9yKGxldCBhPWkubmV4dCgpO2EhPT1NO2E9aS5uZXh0KCkpci5hZGQoYSksZS5zZXRVc2VySW5kZXgoYSxuLC0xKTtpZigwPT09ci5zaXplKCkpcmV0dXJuITE7ci5hZGQoTSksZS5zb3J0VmVydGljZXNTaW1wbGVCeVkociwwLHIuc2l6ZSgpLTEpO2xldCBvPTA7Y29uc3QgaD1lLmdldFhZKHIucmVhZChvKSksbT1uZXcgUWUoTnVtYmVyLk5hTixOdW1iZXIuTmFOKSxsPVtdO2ZvcihsZXQgYT0xLGc9ci5zaXplKCk7YTxnOysrYSl7Y29uc3QgdD1yLnJlYWQoYSkscz10IT09TT9lLmdldFhZKHQpOm07aWYocy5lcXVhbHMoaCkpY29udGludWU7Y29uc3QgaT1bXTtmb3IobGV0IG09bzttPGE7bSsrKXtjb25zdCB0PXIucmVhZChtKSxzPWUuZ2V0UHJldlZlcnRleCh0KTtpZihzIT09TSYmLTE9PT1lLmdldFVzZXJJbmRleChzLG4pKXtjb25zdCB0PXdhKGUuZ2V0WFkocyksZS5nZXRTZWdtZW50KHMpKTswIT09UWUuc3FyRGlzdGFuY2UoaCx0Lm90aGVyUHQpJiYodC52ZXJ0PXMsdC5kaXI9LTEsaS5wdXNoKHQpKSxlLnNldFVzZXJJbmRleChzLG4sMSl9Y29uc3Qgbz1lLmdldE5leHRWZXJ0ZXgodCk7aWYobyE9PU0mJi0xPT09ZS5nZXRVc2VySW5kZXgodCxuKSl7Y29uc3Qgcz13YShlLmdldFhZKG8pLGUuZ2V0U2VnbWVudCh0KSk7MCE9PVFlLnNxckRpc3RhbmNlKGgscy5vdGhlclB0KSYmKHMudmVydD10LHMuZGlyPTEsaS5wdXNoKHMpKSxlLnNldFVzZXJJbmRleCh0LG4sMSl9fWlmKGkubGVuZ3RoPjEpe2kuc29ydCgoKGUsdCk9PlRhKGUsdCkpKTtjb25zdCBlPXdhKG0uY2xvbmUoKSxudWxsKTtpLnB1c2goZSk7bGV0IHQ9MDtmb3IobGV0IHM9MSxuPWkubGVuZ3RoO3M8bjtzKyspaWYoIWlbc10ub3RoZXJQdC5lcXVhbHMoaVtzLTFdLm90aGVyUHQpKXtpZihzLXQ+MSYmbnVsbCE9PWlbdF0uc2VnKXtsZXQgZT0hMTtjb25zdCBuPXQ7Zm9yKGxldCByPXQrMTtyPHM7cisrKWlmKCF2YShpW25dLGlbcl0pKXtlPSEwO2JyZWFrfWlmKGUpZm9yKGxldCByPXQ7cjxzJiZudWxsIT09aVtyXS5zZWc7cisrKWwucHVzaChpW3JdLnZlcnQpfXQ9c319bz1hLGguc2V0Q29vcmRzUG9pbnQyRChzKX1mb3IoY29uc3QgZyBvZiBsKXtjb25zdCBzPWUuZ2V0U2VnbWVudChnKTthKG51bGwhPT1zKTtjb25zdCBuPWUuZ2V0WFkoZykscj1lLmdldFhZKGUuZ2V0TmV4dFZlcnRleChnKSk7aWYoUWUuZGlzdGFuY2UobixyKTwzKnQpZS5zZXRTZWdtZW50VG9JbmRleChlLmdldFZlcnRleEluZGV4KGcpLG51bGwpO2Vsc2V7Y29uc3QgdD1zLmxlbmd0aFRvVCguNSpzLmNhbGN1bGF0ZUxlbmd0aDJEKCkpO2Uuc3BsaXRTZWdtZW50KGcsW3RdLDEpfX1yZXR1cm4gZS5yZW1vdmVVc2VySW5kZXgobiksbC5sZW5ndGg+MH1maXJzdENyYWNrXygpe2NvbnN0IGU9dGhpcy5tX3NoYXBlLmdldEVudmVsb3BlMkQodGhpcy5tX3Byb2dyZXNzVHJhY2tlciksdD1kZShudWxsLGUsITApLnRvdGFsKCk7aWYoNCp0PHRoaXMubV90b2xlcmFuY2UudG90YWwoKSl7bGV0IGU9ITE7Y29uc3Qgcz0xLjEqdCxuPXQscj10aGlzLmNsdXN0ZXJfKHMpO2V8fD1yO2xldCBpPTA7dGhpcy5tX2JGaWx0ZXJEZWdlbmVyYXRlU2VnbWVudHMmJihpPXRoaXMubV9zaGFwZS5maWx0ZXJDbG9zZVBvaW50cygwLCEwLCExLHRoaXMubV9iVHJhY2tDaGFuZ2VzLE0pKTtjb25zdCBvPXRoaXMuY3JhY2tfKG4pO3JldHVybiBlfHw9byxlPzE6aT8yOjB9cmV0dXJuLTF9cHJvZ3Jlc3NfKGU9ITEpe3RoaXMubV9wcm9ncmVzc0NvdW50ZXIrKywhZSYmNDA5NSZ0aGlzLm1fcHJvZ3Jlc3NDb3VudGVyfHwodGhpcy5tX3Byb2dyZXNzQ291bnRlcj0wKX19ZnVuY3Rpb24gd2EoZSx0KXtyZXR1cm57b3RoZXJQdDplLHNlZzp0LHZlcnQ6LTEsZGlyOjB9fWZ1bmN0aW9uIHZhKGUsdCl7aWYoYShlLm90aGVyUHQuZXF1YWxzKHQub3RoZXJQdCkpLG51bGw9PT1lLnNlZylyZXR1cm4gbnVsbD09PXQuc2VnO2lmKG51bGw9PT10LnNlZylyZXR1cm4hMTtjb25zdCBzPWUuc2VnLmdldEdlb21ldHJ5VHlwZSgpO2lmKHMhPT10LnNlZy5nZXRHZW9tZXRyeVR5cGUoKSlyZXR1cm4hMTtpZihzPT09bi5lbnVtQmV6aWVyKXtjb25zdCBzPWUuc2VnLG49dC5zZWc7bGV0IHI9cy5nZXRDb250cm9sUG9pbnQxKCksaT1zLmdldENvbnRyb2xQb2ludDIoKTstMT09PWUuZGlyJiYoaT1ydChyLHI9aSkpO2xldCBvPW4uZ2V0Q29udHJvbFBvaW50MSgpLGE9bi5nZXRDb250cm9sUG9pbnQyKCk7cmV0dXJuLTE9PT10LmRpciYmKGE9cnQobyxvPWEpKSxyLmVxdWFscyhvKSYmaS5lcXVhbHMoYSl9aWYocz09PW4uZW51bVJhdGlvbmFsQmV6aWVyMil7Y29uc3Qgcz1lLnNlZyxuPXQuc2VnLHI9cy5nZXRDb250cm9sUG9pbnQxKCksaT1uLmdldENvbnRyb2xQb2ludDEoKTtpZighci5lcXVhbHMoaSkpcmV0dXJuITE7Y29uc3Qgbz1bMCwwLDBdO3MucXVlcnlXZWlnaHRzKG8pLC0xPT09ZS5kaXImJihvWzJdPXJ0KG9bMF0sb1swXT1vWzJdKSk7Y29uc3QgYT1bMCwwLDBdO3JldHVybiBuLnF1ZXJ5V2VpZ2h0cyhhKSwtMT09PXQuZGlyJiYoYVsyXT1ydChhWzBdLGFbMF09YVsyXSkpLG9bMF09PT1hWzBdJiZvWzFdPT09YVsxXSYmb1syXT09PWFbMl19aShcIlwiKX1mdW5jdGlvbiBOYShlLHQpe2lmKG51bGw9PT1lLnNlZ3x8bnVsbD09PXQuc2VnKXJldHVybiBudWxsIT09ZS5zZWc/LTE6bnVsbCE9PXQuc2VnPzE6MDtjb25zdCBzPWUuc2VnLmdldEdlb21ldHJ5VHlwZSgpLG49dC5zZWcuZ2V0R2VvbWV0cnlUeXBlKCk7cmV0dXJuIHM8bj8tMTpzPm4/MTowfWZ1bmN0aW9uIFRhKGUsdCl7Y29uc3Qgcz1lLm90aGVyUHQuY29tcGFyZSh0Lm90aGVyUHQpO3JldHVybiAwIT09cz9zOk5hKGUsdCl9dmFyIEdhPW8sRGE9cixWYT1tO2Z1bmN0aW9uIEZhKGUpe3N3aXRjaChlKXtjYXNlIDE6cmV0dXJuIDE7Y2FzZSAyOnJldHVybiAyO2Nhc2UgMzpyZXR1cm4gMztjYXNlIDQ6cmV0dXJuIDQ7Y2FzZSAwOnJldHVybiAwO2RlZmF1bHQ6YSgwLFwidW5yZWNvZ25pemVkIGN1dCBzaWRlXCIpfXJldHVybiAzfWZ1bmN0aW9uIEhhKCl7cmV0dXJue3Vuc3BsaXRCZWhhdmlvcjowLGFsbENyb3NzUm9hZHNJbXBhc3NhYmxlOiExLG9nY1J1bGU6ITF9fWZ1bmN0aW9uIGthKGUsdCxzLG4pe3JldHVybiBuZXcgS2EobikuYXV0b0NvbXBsZXRlSW1wbChlLHQscyl9ZnVuY3Rpb24gQWEoZSx0LHMscixpLG8sYSl7Y29uc3QgaD1uZXcgS2EoaSk7aC5tX2JPR0NPdXRwdXQ9ITA7Y29uc3QgbT1lLmdldEdlb21ldHJ5VHlwZSgpPT09bi5lbnVtUG9seWdvbiYmMT09PWUuZ2V0RmlsbFJ1bGUoKSYmIVRlKHIpO3JldHVybiBoLnBsYW5hclNpbXBsaWZ5SW1wbF8oZSx0LG0scyxyLGksbyxhKX1mdW5jdGlvbiBNYShlLHQscyxuLHIsaSxvLGEpe3JldHVybiBuZXcgS2EoaSkucGxhbmFyU2ltcGxpZnlJbXBsXyhlLHQscyxuLHIsaSxvLGEpfWZ1bmN0aW9uIFVhKGUsdCxzLG4pe2NvbnN0IHI9bmV3IEthKG4pLGk9bmV3IEcsbz1pLmFkZEdlb21ldHJ5KHQpLGg9ci5wbGFuYXJTaW1wbGlmeU5vQ3JhY2tpbmdBbmRDbHVzdGVyKGUsaSxvLHMpO2EoaCxcInBsYW5hcl9zaW1wbGlmeV9ub19jcmFja2luZ19hbmRfY2x1c3RlclwiKTtyZXR1cm4gaS5nZXRHZW9tZXRyeShvKX1mdW5jdGlvbiBxYShlLHQscyxuLHIsaSxvKXtyZXR1cm4gYSgwKSx7fX1mdW5jdGlvbiBCYShlLHQscyxuKXtyZXR1cm4gYSgwKSx7fX1mdW5jdGlvbiBPYShlLHQscyl7cmV0dXJuIEphKGUsdCxzKX1mdW5jdGlvbiBZYSh0LHMscixpKXtpZih0LmlzRW1wdHkoKXx8cy5pc0VtcHR5KCl8fHQuZ2V0RGltZW5zaW9uKCk+cy5nZXREaW1lbnNpb24oKSlyZXR1cm4gJGEoZWgodCksdCxzLFwiLVwiKTtjb25zdCBvPW5ldyBlO3QucXVlcnlFbnZlbG9wZShvKTtjb25zdCBhPW5ldyBlO3MucXVlcnlFbnZlbG9wZShhKTtjb25zdCBoPW5ldyBlO2guc2V0Q29vcmRzKHtlbnYyRDpvfSksaC5tZXJnZUVudmVsb3BlMkQoYSk7Y29uc3QgbT1kZShyLGgsITApLGw9YS5jbG9uZSgpLGc9eWUobSk7aWYobC5pbmZsYXRlQ29vcmRzKGcsZyksIW8uaXNJbnRlcnNlY3RpbmcobCkpcmV0dXJuICRhKGVoKHQpLHQscyxcIi1cIik7Y29uc3QgdT1uZXcgS2EoaSksYz1uZXcgRyxfPWMuYWRkR2VvbWV0cnkoZWgodCkpLGQ9Yy5hZGRHZW9tZXRyeShlaChzKSk7bGV0IHA9MCxmPTAseD1udWxsO2lmKGMuaGFzQ3VydmVzKCkpe3g9bmV3IGZhO2NvbnN0IGU9Yy5nZXRFbnZlbG9wZTJEKGkpO2Y9ZGEobS50b3RhbCgpKTtjb25zdCB0PV9hKG0udG90YWwoKSxlKTtwPXBhKHQsZiksYWEoYyx0LG0udG90YWwoKSwxMmUzLHgsbnVsbCxpKX11LnNldEVkaXRTaGFwZUNyYWNrQW5kQ2x1c3RlcihjLG0uYWRkKHApKTtjb25zdCB5PXUuZGlmZmVyZW5jZShfLGQpO251bGwhPT14JiZ4LnN0aXRjaEN1cnZlcyhjLHksZiwhMCk7Y29uc3QgUD0kYShjLmdldEdlb21ldHJ5KHkpLHQscyxcIi1cIik7cmV0dXJuIEdhKFAuZ2V0R2VvbWV0cnlUeXBlKCkpJiYoUC5nZXRJbXBsKCkuc2V0SXNTaW1wbGUoNCxtLnRvdGFsKCkpLFAuZ2V0R2VvbWV0cnlUeXBlKCk9PT1uLmVudW1Qb2x5Z29uJiZQLmdldEltcGwoKS51cGRhdGVPR0NGbGFnc1Byb3RlY3RlZCgpKSxQfWZ1bmN0aW9uIFJhKHQscyxyLGkpe2lmKHQuZ2V0RGltZW5zaW9uKCk+cy5nZXREaW1lbnNpb24oKSlyZXR1cm4gJGEoZWgodCksdCxzLFwiXlwiKTtpZih0LmdldERpbWVuc2lvbigpPHMuZ2V0RGltZW5zaW9uKCkpcmV0dXJuICRhKGVoKHMpLHQscyxcIl5cIik7aWYodC5pc0VtcHR5KCkpcmV0dXJuICRhKGVoKHMpLHQscyxcIl5cIik7aWYocy5pc0VtcHR5KCkpcmV0dXJuICRhKGVoKHQpLHQscyxcIl5cIik7Y29uc3Qgbz1uZXcgZTt0LnF1ZXJ5RW52ZWxvcGUobyk7Y29uc3QgYT1uZXcgZTtzLnF1ZXJ5RW52ZWxvcGUoYSk7Y29uc3QgaD1uZXcgZTtoLnNldENvb3Jkcyh7ZW52MkQ6b30pLGgubWVyZ2VFbnZlbG9wZTJEKGEpO2NvbnN0IG09ZGUocixoLCEwKSxsPW5ldyBLYShpKSxnPW5ldyBHLHU9Zy5hZGRHZW9tZXRyeShlaCh0KSksYz1nLmFkZEdlb21ldHJ5KGVoKHMpKTtsZXQgXz0wLGQ9bnVsbDtpZihnLmhhc0N1cnZlcygpKXtkPW5ldyBmYTtjb25zdCBlPWcuZ2V0RW52ZWxvcGUyRChpKTtfPWRhKG0udG90YWwoKSk7YWEoZyxfYShtLnRvdGFsKCksZSksbS50b3RhbCgpLDEyZTMsZCxudWxsLGkpfWwuc2V0RWRpdFNoYXBlQ3JhY2tBbmRDbHVzdGVyKGcsbSk7Y29uc3QgcD1sLnN5bW1ldHJpY0RpZmZlcmVuY2UodSxjKTtudWxsIT09ZCYmZC5zdGl0Y2hDdXJ2ZXMoZyxwLF8sITApO2NvbnN0IGY9JGEoZy5nZXRHZW9tZXRyeShwKSx0LHMsXCJeXCIpO3JldHVybiBHYShmLmdldEdlb21ldHJ5VHlwZSgpKSYmKGYuZ2V0SW1wbCgpLnNldElzU2ltcGxlKDQsbS50b3RhbCgpKSxmLmdldEdlb21ldHJ5VHlwZSgpPT09bi5lbnVtUG9seWdvbiYmZi5nZXRJbXBsKCkudXBkYXRlT0dDRmxhZ3NQcm90ZWN0ZWQoKSksZn1mdW5jdGlvbiBYYShlLHQscyl7cmV0dXJuIFFhKGUsdCxzLCEwKX1mdW5jdGlvbiBMYShlLHQscyl7cmV0dXJuIGUuaXNFbXB0eSgpfHx0LmlzRW1wdHkoKT9lLmNyZWF0ZUluc3RhbmNlKCk6UGEocyxlLHQpP25ldyBmZSh7Y29weTpFYShlLHQpfSk6ZS5jcmVhdGVJbnN0YW5jZSgpfWZ1bmN0aW9uIHphKHQscyxyLGkpe2NvbnN0IG89ZS5jb25zdHJ1Y3RFbXB0eSgpO3QucXVlcnlFbnZlbG9wZShvKTtjb25zdCBhPWUuY29uc3RydWN0RW1wdHkoKTtzLnF1ZXJ5RW52ZWxvcGUoYSk7Y29uc3QgaD1lLmNvbnN0cnVjdEVtcHR5KCk7aC5zZXRDb29yZHMoe2VudjJEOm99KSxoLm1lcmdlRW52ZWxvcGUyRChhKTtjb25zdCBtPWRlKHIsaCwhMCksbD1uZXcgZShhKSxnPXllKG0pO2lmKGwuaW5mbGF0ZUNvb3JkcyhnLGcpLCFvLmlzSW50ZXJzZWN0aW5nKGwpKXtpZih0LmdldERpbWVuc2lvbigpPD1zLmdldERpbWVuc2lvbigpKXJldHVybiAkYShlaCh0LmNyZWF0ZUluc3RhbmNlKCkpLHQscyxcIiZcIik7aWYodC5nZXREaW1lbnNpb24oKT5zLmdldERpbWVuc2lvbigpKXJldHVybiAkYShlaChzLmNyZWF0ZUluc3RhbmNlKCkpLHQscyxcIiZcIil9Y29uc3QgdT1uZXcgS2EoaSksYz1uZXcgRyxfPWMuYWRkR2VvbWV0cnkoZWgodCkpLGQ9Yy5hZGRHZW9tZXRyeShlaChzKSk7bGV0IHA9MCxmPTAseD1udWxsO2lmKGMuaGFzQ3VydmVzKCkpe3g9bmV3IGZhO2NvbnN0IGU9Yy5nZXRFbnZlbG9wZTJEKGkpO2Y9ZGEobS50b3RhbCgpKTtjb25zdCB0PV9hKG0udG90YWwoKSxlKTtwPXBhKHQsZiksYWEoYyx0LG0udG90YWwoKSwxMmUzLHgsbnVsbCxpKX11LnNldEVkaXRTaGFwZUNyYWNrQW5kQ2x1c3RlcihjLG0uYWRkKHApKTtjb25zdCB5PXUuaW50ZXJzZWN0aW9uKF8sZCk7bnVsbCE9PXgmJnguc3RpdGNoQ3VydmVzKGMseSxmLCEwKTtjb25zdCBQPSRhKGMuZ2V0R2VvbWV0cnkoeSksdCxzLFwiJlwiKTtyZXR1cm4gR2EoUC5nZXRHZW9tZXRyeVR5cGUoKSkmJihQLmdldEltcGwoKS5zZXRJc1NpbXBsZSg0LG0udG90YWwoKSksUC5nZXRHZW9tZXRyeVR5cGUoKT09PW4uZW51bVBvbHlnb24mJlAuZ2V0SW1wbCgpLnVwZGF0ZU9HQ0ZsYWdzUHJvdGVjdGVkKCkpLFB9ZnVuY3Rpb24gV2EodCxzLHIsaSl7Y29uc3Qgbz1uZXcgQXJyYXkoMyksYT1lLmNvbnN0cnVjdEVtcHR5KCk7dC5xdWVyeUVudmVsb3BlKGEpO2NvbnN0IGg9ZS5jb25zdHJ1Y3RFbXB0eSgpO3MucXVlcnlFbnZlbG9wZShoKTtjb25zdCBtPWUuY29uc3RydWN0RW1wdHkoKTttLnNldENvb3Jkcyh7ZW52MkQ6YX0pLG0ubWVyZ2VFbnZlbG9wZTJEKGgpO2NvbnN0IGw9ZGUocixtLCEwKSxnPW5ldyBlKGgpLHU9eWUobCk7aWYoZy5pbmZsYXRlQ29vcmRzKHUsdSksIWEuaXNJbnRlcnNlY3RpbmcoZykpe2lmKHQuZ2V0RGltZW5zaW9uKCk8PXMuZ2V0RGltZW5zaW9uKCkpe2NvbnN0IGU9JGEoZWgodC5jcmVhdGVJbnN0YW5jZSgpKSx0LHMsXCImXCIpO3JldHVybiBvW2UuZ2V0RGltZW5zaW9uKCldPWUsb31pZih0LmdldERpbWVuc2lvbigpPnMuZ2V0RGltZW5zaW9uKCkpe2NvbnN0IGU9JGEoZWgocy5jcmVhdGVJbnN0YW5jZSgpKSx0LHMsXCImXCIpO3JldHVybiBvW2UuZ2V0RGltZW5zaW9uKCldPWUsb319Y29uc3QgYz1uZXcgS2EoaSksXz1uZXcgRyxkPV8uYWRkR2VvbWV0cnkoZWgodCkpLHA9Xy5hZGRHZW9tZXRyeShlaChzKSk7bGV0IGY9MCx4PTAseT1udWxsO2lmKF8uaGFzQ3VydmVzKCkpe3k9bmV3IGZhO2NvbnN0IGU9Xy5nZXRFbnZlbG9wZTJEKGkpO3g9ZGEobC50b3RhbCgpKTtjb25zdCB0PV9hKGwudG90YWwoKSxlKTtmPXBhKHQseCksYWEoXyx0LGwudG90YWwoKSwxMmUzLHksbnVsbCxpKX1jLnNldEVkaXRTaGFwZUNyYWNrQW5kQ2x1c3RlcihfLGwuYWRkKGYpKSxfLmRiZ1ZlcmlmeUN1cnZlcygpO2NvbnN0IFA9Yy5pbnRlcnNlY3Rpb25FeChkLHApO2Zvcihjb25zdCBlIG9mIFApe251bGwhPT15JiZ5LnN0aXRjaEN1cnZlcyhfLGUseCwhMSk7Y29uc3Qgcj0kYShfLmdldEdlb21ldHJ5KGUpLHQscyxcIiZcIik7R2Eoci5nZXRHZW9tZXRyeVR5cGUoKSkmJihyLmdldEltcGwoKS5zZXRJc1NpbXBsZSg0LGwudG90YWwoKSksci5nZXRHZW9tZXRyeVR5cGUoKT09PW4uZW51bVBvbHlnb24mJnIuZ2V0SW1wbCgpLnVwZGF0ZU9HQ0ZsYWdzUHJvdGVjdGVkKCkpLG9bci5nZXREaW1lbnNpb24oKV09cn1yZXR1cm4gbnVsbCE9PXkmJnkuY2xlYXJTdGl0Y2hlcihfKSxvfWZ1bmN0aW9uIGphKGUscyxuLHIsaSxvPSExKXswPT09cyYmdChcIm5vdCBlbm91Z2ggZ2VvbWV0cmllcyB0byBkaXNzb2x2ZVwiKTtsZXQgYT0wO2ZvcihsZXQgdD0wLGQ9czt0PGQ7dCsrKWE9TWF0aC5tYXgoZVt0XS5nZXREaW1lbnNpb24oKSxhKTtpZigyPT09YXx8MT09PWEpcmV0dXJuIG5ldyBLYShyKS5kaXNzb2x2ZU11bHRpUGF0aHNfKGEsITEsZSxzLG4saSxvKTtsZXQgaD0wLG09LTE7Zm9yKGxldCB0PTAsZD1zO3Q8ZDt0KyspZVt0XS5nZXREaW1lbnNpb24oKT09PWEmJigtMT09PW0mJihtPXQpLGVbdF0uaXNFbXB0eSgpfHwobT10LGgrKykpO2lmKGg8MilyZXR1cm4gZWgoZVttXSk7Y29uc3QgbD1HZS5jb25zdHJ1Y3RFbXB0eSgpLGc9bmV3IEc7bGV0IHU9TTtmb3IobGV0IHQ9MCxkPXM7dDxkO3QrKylpZihlW3RdLmdldERpbWVuc2lvbigpPT09YSYmIWVbdF0uaXNFbXB0eSgpKXt1PT09TT91PWcuYWRkR2VvbWV0cnkoZWgoZVt0XSkpOmcuYXBwZW5kR2VvbWV0cnkodSxlaChlW3RdKSk7Y29uc3Qgcz1HZS5jb25zdHJ1Y3RFbXB0eSgpO2VbdF0ucXVlcnlMb29zZUVudmVsb3BlKHMpLGwubWVyZ2VFbnYzRChzKX1jb25zdCBjPWRlKG4sbC5nZXRFbnZlbG9wZTJEKCksITApLF89bmV3IEthKHIpO2lmKG8pe2NvbnN0IGU9RGUobixsLmdldEVudmVsb3BlWnMoKSwhMCk7cmV0dXJuIF8ucGxhbmFyU2ltcGxpZnkzREltcGxfKGcsYyxlLDAsITApfXJldHVybiBfLm1fYk9HQ091dHB1dD0hMCxfLnBsYW5hclNpbXBsaWZ5TXVsdGlQb2ludHMoZyxjLCExLC0xKX1mdW5jdGlvbiBaYShlLHMsbixyLGksbz0hMSl7czwyJiZ0KFwibm90IGVub3VnaCBnZW9tZXRyaWVzIHRvIGRpc3NvbHZlXCIpO2xldCBhPTA7Zm9yKGxldCB0PTAscD1zO3Q8cDt0KyspYT1NYXRoLm1heChlW3RdLmdldERpbWVuc2lvbigpLGEpO2lmKDI9PT1hfHwxPT09YSlyZXR1cm4gbmV3IEthKHIpLmRpc3NvbHZlTXVsdGlQYXRoc18oYSwhMCxlLHMsbixpLG8pO2NvbnN0IGg9R2UuY29uc3RydWN0RW1wdHkoKSxtPW5ldyBHO2xldCBsPU0sZz0wLHU9LTE7Zm9yKGxldCB0PTAscD1zO3Q8cDt0KyspaWYoZVt0XS5nZXREaW1lbnNpb24oKT09PWEmJigtMT09PXUmJih1PXQpLCFlW3RdLmlzRW1wdHkoKSkpe3U9dCxsPT09TT9sPW0uYWRkR2VvbWV0cnkoZWgoZVt0XSkpOm0uYXBwZW5kR2VvbWV0cnkobCxlaChlW3RdKSk7Y29uc3Qgcz1HZS5jb25zdHJ1Y3RFbXB0eSgpO2VbdF0ucXVlcnlMb29zZUVudmVsb3BlKHMpLGgubWVyZ2VFbnYzRChzKSxnKyt9aWYoZzwyKXJldHVybiBlaChlW3VdKTtjb25zdCBjPTA9PT1hP246bnVsbCxfPWRlKGMsaC5nZXRFbnZlbG9wZTJEKCksITApLGQ9bmV3IEthKHIpO2lmKG8pe2NvbnN0IGU9RGUoYyxoLmdldEVudmVsb3BlWnMoKSwhMCk7cmV0dXJuIGQubV9iT0dDT3V0cHV0PSEwLGQucGxhbmFyU2ltcGxpZnkzREltcGxfKG0sXyxlLDAsITApfXJldHVybiBkLnBsYW5hclNpbXBsaWZ5TXVsdGlQb2ludHMobSxfLCEwLC0xKX1jbGFzcyBLYXtjb25zdHJ1Y3RvcihlKXt0aGlzLm1fdG9wb0dyYXBoPW51bGwsdGhpcy5tX21hc2tMb29rdXA9W10sdGhpcy5tX2R1bW15UHQxPVFlLmdldE5BTigpLHRoaXMubV9kdW1teVB0Mj1RZS5nZXROQU4oKSx0aGlzLm1fZnJvbUVkZ2VGb3JQb2x5bGluZXM9TSx0aGlzLm1fcHJvZ3Jlc3NDb3VudGVyPTAsdGhpcy5tX2JPR0NPdXRwdXQ9ITEsdGhpcy5tX3Byb2dyZXNzVHJhY2tlcj1lfWxpbmVzVG9Qb2x5Z29uc0ltcGwoZSx0KXtsZXQgcz0wLG49MCxyPW51bGw7aWYoZS5oYXNDdXJ2ZXMoKSl7cj1uZXcgZmE7Y29uc3QgaT1lLmdldEVudmVsb3BlMkQodGhpcy5tX3Byb2dyZXNzVHJhY2tlcik7bj1kYSh0LnRvdGFsKCkpO2NvbnN0IG89X2EodC50b3RhbCgpLGkpO3M9cGEobyxuKSxhYShlLG8sdC50b3RhbCgpLDEyZTMscixudWxsLHRoaXMubV9wcm9ncmVzc1RyYWNrZXIpfXRoaXMuc2V0RWRpdFNoYXBlQ3JhY2tBbmRDbHVzdGVyKGUsdC5hZGQocykpO2NvbnN0IGk9dGhpcy5tX3RvcG9HcmFwaC5jcmVhdGVVc2VySW5kZXhGb3JDaGFpbnMoKSxvPXRoaXMubV90b3BvR3JhcGguZ2V0Rmlyc3RDaGFpbigpO3RoaXMubV90b3BvR3JhcGguc2V0Q2hhaW5Vc2VySW5kZXgobyxpLDEpO2ZvcihsZXQgaD10aGlzLm1fdG9wb0dyYXBoLmdldENoYWluRmlyc3RJc2xhbmQobyk7aCE9PU07aD10aGlzLm1fdG9wb0dyYXBoLmdldENoYWluTmV4dEluUGFyZW50KGgpKXRoaXMubV90b3BvR3JhcGguc2V0Q2hhaW5Vc2VySW5kZXgoaCxpLDEpO2NvbnN0IGE9W107Zm9yKGxldCBoPXRoaXMubV90b3BvR3JhcGguZ2V0Rmlyc3RDaGFpbigpO2ghPT1NO2g9dGhpcy5tX3RvcG9HcmFwaC5nZXRDaGFpbk5leHQoaCkpe2lmKDE9PT10aGlzLm1fdG9wb0dyYXBoLmdldENoYWluVXNlckluZGV4KGgsaSkpY29udGludWU7dGhpcy5tX3RvcG9HcmFwaC5zZXRDaGFpblVzZXJJbmRleChoLGksMSk7Zm9yKGxldCBlPXRoaXMubV90b3BvR3JhcGguZ2V0Q2hhaW5GaXJzdElzbGFuZChoKTtlIT09TTtlPXRoaXMubV90b3BvR3JhcGguZ2V0Q2hhaW5OZXh0SW5QYXJlbnQoZSkpdGhpcy5tX3RvcG9HcmFwaC5zZXRDaGFpblVzZXJJbmRleChlLGksMSk7aWYoMD09PXRoaXMubV90b3BvR3JhcGguZ2V0Q2hhaW5BcmVhKGgpKWNvbnRpbnVlO2NvbnN0IHQ9dGhpcy5tX3RvcG9HcmFwaC5leHRyYWN0UG9seWdvbkZyb21DaGFpbkFuZElzbGFuZHMoZSxNLGgsTSk7bnVsbCE9ciYmci5zdGl0Y2hDdXJ2ZXMoZSx0LG4sITEpO2NvbnN0IHM9ZS5nZXRHZW9tZXRyeSh0KTthLnB1c2gocyl9cmV0dXJuIG5ldyAkdChhKX1hdXRvQ29tcGxldGVJbXBsKGUsdCxzKXtsZXQgbj0wLHI9MCxpPW51bGw7aWYoZS5oYXNDdXJ2ZXMoKSl7aT1uZXcgZmE7Y29uc3QgdD1lLmdldEVudmVsb3BlMkQodGhpcy5tX3Byb2dyZXNzVHJhY2tlcik7cj1kYShzLnRvdGFsKCkpO2NvbnN0IG89X2Eocy50b3RhbCgpLHQpO249cGEobyxyKSxhYShlLG8scy50b3RhbCgpLDEyZTMsaSxudWxsLHRoaXMubV9wcm9ncmVzc1RyYWNrZXIpfXRoaXMuc2V0RWRpdFNoYXBlQ3JhY2tBbmRDbHVzdGVyKGUscy5hZGQobikpO2NvbnN0IG89dGhpcy5tX3RvcG9HcmFwaC5nZXRHZW9tZXRyeUlEKHQpLGE9dGhpcy5tX3RvcG9HcmFwaC5jcmVhdGVVc2VySW5kZXhGb3JDaGFpbnMoKSxoPXRoaXMubV90b3BvR3JhcGguZ2V0Rmlyc3RDaGFpbigpO3RoaXMubV90b3BvR3JhcGguc2V0Q2hhaW5Vc2VySW5kZXgoaCxhLDEpO2ZvcihsZXQgbD10aGlzLm1fdG9wb0dyYXBoLmdldENoYWluRmlyc3RJc2xhbmQoaCk7bCE9PU07bD10aGlzLm1fdG9wb0dyYXBoLmdldENoYWluTmV4dEluUGFyZW50KGwpKXRoaXMubV90b3BvR3JhcGguc2V0Q2hhaW5Vc2VySW5kZXgobCxhLDEpO2NvbnN0IG09W107Zm9yKGxldCBsPXRoaXMubV90b3BvR3JhcGguZ2V0Rmlyc3RDaGFpbigpO2whPT1NO2w9dGhpcy5tX3RvcG9HcmFwaC5nZXRDaGFpbk5leHQobCkpe2lmKDE9PT10aGlzLm1fdG9wb0dyYXBoLmdldENoYWluVXNlckluZGV4KGwsYSkpY29udGludWU7dGhpcy5tX3RvcG9HcmFwaC5zZXRDaGFpblVzZXJJbmRleChsLGEsMSk7Zm9yKGxldCBlPXRoaXMubV90b3BvR3JhcGguZ2V0Q2hhaW5GaXJzdElzbGFuZChsKTtlIT09TTtlPXRoaXMubV90b3BvR3JhcGguZ2V0Q2hhaW5OZXh0SW5QYXJlbnQoZSkpdGhpcy5tX3RvcG9HcmFwaC5zZXRDaGFpblVzZXJJbmRleChlLGEsMSk7aWYoMCE9PXRoaXMubV90b3BvR3JhcGguZ2V0Q2hhaW5QYXJlbnRhZ2UobCkpY29udGludWU7Y29uc3QgdD10aGlzLm1fdG9wb0dyYXBoLmdldENoYWluSGFsZkVkZ2UobCk7bGV0IHM9dCxuPSExO2Rve2NvbnN0IGU9dGhpcy5tX3RvcG9HcmFwaC5nZXRIYWxmRWRnZVR3aW4ocyk7aWYodGhpcy5tX3RvcG9HcmFwaC5nZXRIYWxmRWRnZUNoYWluKGUpIT09bCYmMCE9PSh0aGlzLm1fdG9wb0dyYXBoLmdldEhhbGZFZGdlUGFyZW50YWdlKHMpJm8pKXtuPSEwO2JyZWFrfXM9dGhpcy5tX3RvcG9HcmFwaC5nZXRIYWxmRWRnZU5leHQocyl9d2hpbGUocyE9PXQpO2lmKCFuKWNvbnRpbnVlO2lmKDA9PT10aGlzLm1fdG9wb0dyYXBoLmdldENoYWluQXJlYShsKSljb250aW51ZTtjb25zdCBoPXRoaXMubV90b3BvR3JhcGguZXh0cmFjdFBvbHlnb25Gcm9tQ2hhaW5BbmRJc2xhbmRzKGUsTSxsLE0pO251bGwhPT1pJiZpLnN0aXRjaEN1cnZlcyhlLGgsciwhMSk7Y29uc3QgZz1lLmdldEdlb21ldHJ5KGgpO20ucHVzaChnKX1yZXR1cm4gbmV3ICR0KG0pfXNldEVkaXRTaGFwZShlLHQ9ITEpe251bGw9PT10aGlzLm1fdG9wb0dyYXBoJiYodGhpcy5tX3RvcG9HcmFwaD1uZXcgdG4pLHRoaXMubV90b3BvR3JhcGguc2V0RWRpdFNoYXBlKGUsdGhpcy5tX3Byb2dyZXNzVHJhY2tlciwhMCx0KX1zZXRFZGl0U2hhcGVDcmFja0FuZENsdXN0ZXIoZSx0KXt5YShlLHQsdGhpcy5tX3Byb2dyZXNzVHJhY2tlciwhMCwhMSk7Zm9yKGxldCBzPWUuZ2V0Rmlyc3RHZW9tZXRyeSgpO3MhPT1NO3M9ZS5nZXROZXh0R2VvbWV0cnkocykpZS5nZXRHZW9tZXRyeVR5cGUocyk9PT1uLmVudW1Qb2x5Z29uJiZlcihlLHMsLTEsdGhpcy5tX2JPR0NPdXRwdXQsTSx0aGlzLm1fcHJvZ3Jlc3NUcmFja2VyKTt0aGlzLnNldEVkaXRTaGFwZShlKX1zZXRIYWxmRWRnZU9yaWVudGF0aW9uc18oZSx0KXtjb25zdCBzPXRoaXMubV90b3BvR3JhcGguZ2V0U2hhcGUoKTtmb3IobGV0IG49cy5nZXRGaXJzdEdlb21ldHJ5KCk7biE9PU07bj1zLmdldE5leHRHZW9tZXRyeShuKSlpZihuPT09dClmb3IobGV0IHQ9cy5nZXRGaXJzdFBhdGgobik7dCE9PU07dD1zLmdldE5leHRQYXRoKHQpKXtsZXQgbj1zLmdldEZpcnN0VmVydGV4KHQpO2lmKG49PT1NKWNvbnRpbnVlO2xldCByPXMuZ2V0TmV4dFZlcnRleChuKTtmb3IoO3IhPT1NOyl7Y29uc3QgdD10aGlzLm1fdG9wb0dyYXBoLmdldENsdXN0ZXJGcm9tVmVydGV4KG4pLGk9dGhpcy5tX3RvcG9HcmFwaC5nZXRDbHVzdGVyRnJvbVZlcnRleChyKSxvPXRoaXMubV90b3BvR3JhcGguZ2V0SGFsZkVkZ2VDb25uZWN0b3IodCxpKTtpZihvIT09TSl7Y29uc3QgdD10aGlzLm1fdG9wb0dyYXBoLmdldEhhbGZFZGdlVHdpbihvKTt0aGlzLm1fdG9wb0dyYXBoLnNldEhhbGZFZGdlVXNlckluZGV4KG8sZSwxKSx0aGlzLm1fdG9wb0dyYXBoLnNldEhhbGZFZGdlVXNlckluZGV4KHQsZSwyKX1uPXIscj1zLmdldE5leHRWZXJ0ZXgobil9fX1mbHVzaFZlcnRpY2VzXyhlLHQpe2NvbnN0IHM9dGhpcy5tX3RvcG9HcmFwaC5nZXRTaGFwZSgpLG49cy5oYXNTZWdtZW50UGFyZW50YWdlKCkscj1uZXcgRixpPXMuaW5zZXJ0UGF0aChlLE0pO3QucHVzaCh0WzBdKTtjb25zdCBvPXQubGVuZ3RoO2xldCBhPU07Zm9yKGxldCBoPTA7aDxvO2grKyl7Y29uc3QgZT10W2hdO2lmKGE9cy5hZGRWZXJ0ZXgoaSxlKSwhbiljb250aW51ZTtjb25zdCBtPXRoaXMubV90b3BvR3JhcGguZ2V0Q2x1c3RlckZyb21WZXJ0ZXgoZSk7aWYoaD4wJiZ0aGlzLm1fdG9wb0dyYXBoLmlzQnJlYWtOb2RlKG0pJiZzLnNldFNlZ21lbnRQYXJlbnRhZ2VCcmVha1ZlcnRleChhLCEwKSxoPG8tMSl7Y29uc3QgZT10aGlzLm1fdG9wb0dyYXBoLmdldEhhbGZFZGdlQ29ubmVjdG9yKG0sdGhpcy5tX3RvcG9HcmFwaC5nZXRDbHVzdGVyRnJvbVZlcnRleCh0W2grMV0pKSxuPXRoaXMubV90b3BvR3JhcGguZ2V0U2VnbWVudFBhcmVudGFnZShlKTtzLnNldFNlZ21lbnRQYXJlbnRhZ2VBbmRCcmVhayhhLG4saD4wfHx0aGlzLm1fdG9wb0dyYXBoLmlzQnJlYWtOb2RlKG0pKSx0aGlzLm1fdG9wb0dyYXBoLmlzSGFsZkVkZ2VDdXJ2ZShlKSYmKHRoaXMubV90b3BvR3JhcGgucXVlcnlTZWdtZW50WFkoZSxyKSxzLnNldFNlZ21lbnRUb0luZGV4KHMuZ2V0VmVydGV4SW5kZXgoYSksci5nZXQoKS5jbG9uZSgpKSl9fWlmKG4pe2NvbnN0IGU9dGhpcy5tX3RvcG9HcmFwaC5nZXRDbHVzdGVyRnJvbVZlcnRleCh0W28tMV0pO3RoaXMubV90b3BvR3JhcGguaXNCcmVha05vZGUoZSkmJnMuc2V0U2VnbWVudFBhcmVudGFnZUJyZWFrVmVydGV4KGEsITApfXMuc2V0Q2xvc2VkUGF0aChpLCEwKX1wcm9jZXNzUG9seWdvbkN1dHNfKGUsdCxzLHIpe2NvbnN0IGk9dGhpcy5tX3RvcG9HcmFwaC5nZXRHZW9tZXRyeUlEKHMpLG89dGhpcy5tX3RvcG9HcmFwaC5nZXRHZW9tZXRyeUlEKHIpLGE9W10saD10aGlzLm1fdG9wb0dyYXBoLmdldFNoYXBlKCksbT10aGlzLm1fdG9wb0dyYXBoLmNyZWF0ZVVzZXJJbmRleEZvckhhbGZFZGdlcygpO2ZvcihsZXQgbD10aGlzLm1fdG9wb0dyYXBoLmdldEZpcnN0Q2x1c3RlcigpO2whPT1NO2w9dGhpcy5tX3RvcG9HcmFwaC5nZXROZXh0Q2x1c3RlcihsKSl7Y29uc3Qgcz10aGlzLm1fdG9wb0dyYXBoLmdldENsdXN0ZXJIYWxmRWRnZShsKTtpZihzPT09TSljb250aW51ZTtsZXQgcj1zO2Rve2lmKDEhPT10aGlzLm1fdG9wb0dyYXBoLmdldEhhbGZFZGdlVXNlckluZGV4KHIsbSkpe2xldCBzPXIsbD1yLGc9ITEsdT0wO2Rve2lmKHRoaXMubV90b3BvR3JhcGguc2V0SGFsZkVkZ2VVc2VySW5kZXgocyxtLDEpLCFnKXtpZigwIT09KHRoaXMubV90b3BvR3JhcGguZ2V0SGFsZkVkZ2VQYXJlbnRhZ2UocykmbykpezAhPT0odGhpcy5tX3RvcG9HcmFwaC5nZXRIYWxmRWRnZUZhY2VQYXJlbnRhZ2UocykmaSkmJihsPXMsZz0hMCl9fWlmKGcpe2NvbnN0IHQ9dGhpcy5tX3RvcG9HcmFwaC5nZXRIYWxmRWRnZU9yaWdpbihzKSxuPXRoaXMubV90b3BvR3JhcGguZ2V0Q2x1c3RlclZlcnRleEl0ZXJhdG9yKHQpLHI9dGhpcy5tX3RvcG9HcmFwaC5nZXRWZXJ0ZXhGcm9tVmVydGV4SXRlcmF0b3Iobik7aWYoYS5wdXNoKHIpLC0xIT09ZSl7aWYoMCE9PSh0aGlzLm1fdG9wb0dyYXBoLmdldEhhbGZFZGdlUGFyZW50YWdlKHMpJm8pKXt1fD10aGlzLm1fdG9wb0dyYXBoLmdldEhhbGZFZGdlVXNlckluZGV4KHMsZSl9fX1zPXRoaXMubV90b3BvR3JhcGguZ2V0SGFsZkVkZ2VOZXh0KHMpfXdoaWxlKHMhPT1sKTtpZihnJiZ0aGlzLm1fdG9wb0dyYXBoLmdldENoYWluQXJlYSh0aGlzLm1fdG9wb0dyYXBoLmdldEhhbGZFZGdlQ2hhaW4obCkpPjApe2NvbnN0IGU9aC5jcmVhdGVHZW9tZXRyeShuLmVudW1Qb2x5Z29uKTt0aGlzLmZsdXNoVmVydGljZXNfKGUsYSksLTEhPT10JiZoLnNldEdlb21ldHJ5VXNlckluZGV4KGUsdCx1KX1hLmxlbmd0aD0wfXI9dGhpcy5tX3RvcG9HcmFwaC5nZXRIYWxmRWRnZU5leHQodGhpcy5tX3RvcG9HcmFwaC5nZXRIYWxmRWRnZVR3aW4ocikpfXdoaWxlKHIhPT1zKX10aGlzLm1fdG9wb0dyYXBoLmRlbGV0ZVVzZXJJbmRleEZvckhhbGZFZGdlcyhtKX1jdXRQb2x5Z29uUG9seWxpbmVfKGUsdCxzLG4pe3RoaXMubV90b3BvR3JhcGgucmVtb3ZlU3Bpa2VzXygpO2xldCByPS0xOy0xIT09ZSYmKHI9dGhpcy5tX3RvcG9HcmFwaC5jcmVhdGVVc2VySW5kZXhGb3JIYWxmRWRnZXMoKSx0aGlzLnNldEhhbGZFZGdlT3JpZW50YXRpb25zXyhyLHMpKSx0aGlzLnByb2Nlc3NQb2x5Z29uQ3V0c18ocixlLHQscyksLTEhPT1yJiYodGhpcy5tX3RvcG9HcmFwaC5kZWxldGVVc2VySW5kZXhGb3JIYWxmRWRnZXMocikscj0tMSk7Y29uc3QgaT10aGlzLm1fdG9wb0dyYXBoLmdldFNoYXBlKCk7Zm9yKGxldCBvPWkuZ2V0Rmlyc3RHZW9tZXRyeSgpO28hPT1NO289aS5nZXROZXh0R2VvbWV0cnkobykpbyE9PXQmJm8hPT1zJiZuLnB1c2gobyk7bi5zb3J0KCgoZSx0KT0+e2NvbnN0IHM9aS5nZXRGaXJzdFBhdGgoZSksbj1pLmdldFJpbmdBcmVhKHMpLHI9aS5nZXRGaXJzdFBhdGgodCksbz1pLmdldFJpbmdBcmVhKHIpO3JldHVybiBuPG8/LTE6bj5vPzE6MH0pKX1jdXQoZSx0LHMsbixyKXtjb25zdCBvPXRoaXMubV90b3BvR3JhcGguZ2V0U2hhcGUoKS5nZXRHZW9tZXRyeVR5cGUocyksYT10aGlzLm1fdG9wb0dyYXBoLmdldFNoYXBlKCkuZ2V0R2VvbWV0cnlUeXBlKG4pLGg9bShvKSxsPW0oYSk7aWYoMiE9PWh8fDEhPT1sKWlmKDEhPT1ofHwxIT09bClpKFwiXCIpO2Vsc2V7bmV3IHNoKHRoaXMsZSx0LHMsbixyKS5EbygpfWVsc2UgdGhpcy5jdXRQb2x5Z29uUG9seWxpbmVfKHQscyxuLHIpfXByb2dyZXNzXyhlPSExKXt9aXNHb29kUGFyZW50YWdlKGUpe3JldHVybiBlPj0wJiZlPHRoaXMubV9tYXNrTG9va3VwLmxlbmd0aCYmdGhpcy5tX21hc2tMb29rdXBbZV19bm9ybWFsaXplSW5wdXRHZW9tZXRyeShlKXtjb25zdCBzPWUuZ2V0R2VvbWV0cnlUeXBlKCk7aWYocz09PW4uZW51bUVudmVsb3BlKXtjb25zdCB0PW5ldyB2KHt2ZDplLmdldERlc2NyaXB0aW9uKCl9KTtyZXR1cm4gZS5pc0VtcHR5KCl8fHQuYWRkRW52ZWxvcGUoZSwhMSksdH1pZihzPT09bi5lbnVtUG9pbnQpe2NvbnN0IHQ9bmV3IE4oe3ZkOmUuZ2V0RGVzY3JpcHRpb24oKX0pO3JldHVybiBlLmlzRW1wdHkoKXx8dC5hZGQoZSksdH1pZihyKHMpKXtjb25zdCB0PW5ldyBJKHt2ZDplLmdldERlc2NyaXB0aW9uKCl9KTtyZXR1cm4gZS5pc0VtcHR5KCl8fHQuYWRkU2VnbWVudChlLCEwKSx0fXJldHVybiBzIT09bi5lbnVtTXVsdGlQb2ludCYmcyE9PW4uZW51bVBvbHlsaW5lJiZzIT09bi5lbnVtUG9seWdvbiYmdChcIlVuZXhwZWN0ZWQgZ2VvbWV0cnkgdHlwZVwiKSxlfWRpc3NvbHZlTm9uU2ltcGxlUG9seWdvbnMoZSx0LHMsbil7YSh0PjApO2NvbnN0IHI9bmV3IEc7bGV0IGk9MCxvPS0xO2ZvcihsZXQgYT0wLGg9dDthPGg7YSsrKTI9PT1lW2FdLmdldERpbWVuc2lvbigpJiYoLTE9PT1vJiYobz1hKSxlW2FdLmlzRW1wdHkoKXx8KGkrKyxyLmFkZEdlb21ldHJ5KGVbYV0pKSk7cmV0dXJuIDA9PT1pPyhhKG8+PTApLHRoaXMubm9ybWFsaXplSW5wdXRHZW9tZXRyeShlW29dKSk6dGhpcy5wbGFuYXJTaW1wbGlmeVBvbHlnb25zKHIscywhMCwhMSwtMSwhMCl9ZGlzc29sdmVNdWx0aVBhdGhzXyh0LHMsaSxoLG0sZyx1KXthKHQ+PTEmJnQ8PTIpLGEoaD4wKTtjb25zdCBjPTgmZz8xOjIsXz1HZS5jb25zdHJ1Y3RFbXB0eSgpO2xldCBkPTAscD0tMSxmPSEwO2ZvcihsZXQgZT0wLHI9aDtlPHI7ZSsrKWlmKGlbZV0uZ2V0RGltZW5zaW9uKCk9PT10JiYoLTE9PT1wJiYocD1lKSwhaVtlXS5pc0VtcHR5KCkpKXtwPWUsZCsrO2NvbnN0IHM9R2UuY29uc3RydWN0RW1wdHkoKTtpZihpW2VdLnF1ZXJ5TG9vc2VFbnZlbG9wZShzKSxfLm1lcmdlRW52M0QocyksMj09PXQmJmYmJmlbZV0uZ2V0R2VvbWV0cnlUeXBlKCk9PT1uLmVudW1Qb2x5Z29uKWlmKDE2Jmcpe2NvbnN0IHQ9WzBdLHM9aVtlXS5nZXRJbXBsKCkuZ2V0SXNTaW1wbGUoMCx0KSxuPXRoaXMubV9iT0dDT3V0cHV0PzU9PT1zOmNlKHMpO2YmJj1ufWVsc2V7Y29uc3QgdD1VZShpW2VdLDApO2YmJj10fX1pZihkPDImJihhKHA+PTApLDA9PT1kfHwhKDE2JmcpKSlyZXR1cm4gdGhpcy5ub3JtYWxpemVJbnB1dEdlb21ldHJ5KGlbcF0pO2lmKCFmKXtjb25zdCBlPWRlKHM/bnVsbDptLF8uZ2V0RW52ZWxvcGUyRCgpLCEwKTtyZXR1cm4gdGhpcy5kaXNzb2x2ZU5vblNpbXBsZVBvbHlnb25zKGksaCxlLGcpfWNvbnN0IHg9aS5zbGljZSgwLGgpLHk9ZGUobSxfLmdldEVudmVsb3BlMkQoKSwhMCksUD0xMCp5ZSh5KTtsZXQgRT1uZXcgeGUoMCwwKTtpZih1JiYoRT1EZShtLF8uZ2V0RW52ZWxvcGVacygpLCEwKSksMT09PWQmJjE9PT10JiYyPT09YyYmIXMpcmV0dXJuIHU/cWEoKTp0aGlzLm1fYk9HQ091dHB1dD9BYSh4W3BdLHksITEsLTEsdGhpcy5tX3Byb2dyZXNzVHJhY2tlcixjLCExKTpNYSh4W3BdLHksITEsITEsLTEsdGhpcy5tX3Byb2dyZXNzVHJhY2tlcixjLCExKTtjb25zdCBTPW5ldyBxZTtTLnN0YXJ0Q29uc3RydWN0aW9uKCk7bGV0IEM9Mj09PXQ/Mzo0LGI9MDtmb3IobGV0IGw9MCxJPWg7bDxJO2wrKyl7aWYoeFtsXS5nZXREaW1lbnNpb24oKSE9PXR8fHhbbF0uaXNFbXB0eSgpKWNvbnRpbnVlO2xldCBpPXhbbF0uZ2V0R2VvbWV0cnlUeXBlKCk7aWYoaSE9PW4uZW51bUVudmVsb3BlKXtpZihyKGkpPyh4W2xdPXRoaXMubm9ybWFsaXplSW5wdXRHZW9tZXRyeSh4W2xdKSxpPW4uZW51bVBvbHlsaW5lKTphKG8oaSkpLDE9PT10KXthKGk9PT1uLmVudW1Qb2x5bGluZSk7bGV0IGU9LTE7aWYodSlhKDAsXCIzZCBub3QgaW1wbGVtZW50ZWQgeWV0XCIpO2Vsc2V7Y29uc3QgdD1bMF07ZT14W2xdLmdldEltcGwoKS5nZXRJc1NpbXBsZSh5LnRvdGFsKCksdCl9aWYodGhpcy5tX2JPR0NPdXRwdXQ/NSE9PWU6IWNlKGUpKWlmKHMpQz0tMTtlbHNle3U/YSgwLFwiM2Qgbm90IGltcGxlbWVudGVkIHlldFwiKTp0aGlzLm1fYk9HQ091dHB1dD94W2xdPUFhKHhbbF0seSwhMSwtMSx0aGlzLm1fcHJvZ3Jlc3NUcmFja2VyLGMsITEpOnhbbF09TWEoeFtsXSx5LCExLCExLC0xLHRoaXMubV9wcm9ncmVzc1RyYWNrZXIsYywhMSk7Y29uc3QgZT1bMF07YShjZSh4W2xdLmdldEltcGwoKS5nZXRJc1NpbXBsZSh5LnRvdGFsKCksZSkpKX19ZWxzZXthKGk9PT1uLmVudW1Qb2x5Z29uKTtjb25zdCBlPVswXSx0PXhbbF0uZ2V0SW1wbCgpLmdldElzU2ltcGxlKDAsZSk7YShUZSh0KSl9Y29uc3QgaD14W2xdLmdldEltcGwoKTtmb3IobGV0IHQ9MCxzPWguZ2V0UGF0aENvdW50KCk7dDxzO3QrKyl7Y29uc3Qgcz1lLmNvbnN0cnVjdEVtcHR5KCk7aC5xdWVyeUxvb3NlUGF0aEVudmVsb3BlKHQscykscy5pbmZsYXRlQ29vcmRzKFAsUCksUy5hZGRFbnZlbG9wZShiLHMpLGIrK319ZWxzZXthKGk9PT1uLmVudW1FbnZlbG9wZSk7Y29uc3QgdD1lLmNvbnN0cnVjdEVtcHR5KCk7eFtsXS5xdWVyeUxvb3NlRW52ZWxvcGUodCksdC5pbmZsYXRlQ29vcmRzKFAsUCksUy5hZGRFbnZlbG9wZShiLHQpLGIrKyxDPS0xfX1TLmVuZENvbnN0cnVjdGlvbigpO2NvbnN0IHc9YixOPUtlKHcsLTIxNDc0ODM2NDcpLFQ9S2UodywtMSk7bGV0IEQ9MDtwPS0xLGI9MDtmb3IobGV0IGU9MCxyPWg7ZTxyO2UrKyl7aWYoeFtlXS5nZXREaW1lbnNpb24oKSE9PXQpY29udGludWU7aWYoLTE9PT1wJiYocD1lKSx4W2VdLmlzRW1wdHkoKSljb250aW51ZTtwPWUsRCsrO2NvbnN0IHM9eFtlXS5nZXRHZW9tZXRyeVR5cGUoKTtpZihvKHMpKXtmb3IobGV0IHQ9MCxzPXhbZV0uZ2V0UGF0aENvdW50KCk7dDxzO3QrKylUW2JdPWUsTltiXT0tdC0xLGIrK31lbHNlIGEocz09PW4uZW51bUVudmVsb3BlKSxUW2JdPWUsTltiXT0tMSxiKyt9aWYoRDwyJiYyPT09dClyZXR1cm4gYShwPj0wKSx0aGlzLm5vcm1hbGl6ZUlucHV0R2VvbWV0cnkoeFtwXSk7bGV0IFY9dztmb3IoO1MubmV4dCgpJiZWPjA7KXt0aGlzLnByb2dyZXNzXygpO2NvbnN0IGU9Uy5nZXRIYW5kbGVBKCksdD1TLmdldEhhbmRsZUIoKSxzPVMuZ2V0RWxlbWVudChlKSxuPVMuZ2V0RWxlbWVudCh0KTtUW3NdIT09VFtuXSYmKE5bc108MCYmKFYtLSxOW3NdPS0oTltzXSsxKSksTltuXTwwJiYoVi0tLE5bbl09LShOW25dKzEpKSl9Y29uc3QgRj1uZXcgRztsZXQgSD0hMSxrPTA7Zm9yKGxldCBlPTAscj1oO2U8cjtlKyspe2lmKHhbZV0uZ2V0RGltZW5zaW9uKCkhPT10fHx4W2VdLmlzRW1wdHkoKSljb250aW51ZTtjb25zdCBzPXhbZV0uZ2V0R2VvbWV0cnlUeXBlKCkscj1rO2xldCBpPTAsaD0wO2NvbnN0IG09byhzKT94W2VdOm51bGw7Zm9yKGxldCB0PXIsbj1OLmxlbmd0aDt0PG4mJlRbdF09PT1lO3QrKylOW3RdPj0wJiYoaSsrLGgrPW0/bS5nZXRQYXRoU2l6ZShOW3RdKTpsKHhbZV0pKSxrKys7aWYoaD4uOTUqbCh4W2VdKSl7Ri5hZGRHZW9tZXRyeSh0aGlzLm5vcm1hbGl6ZUlucHV0R2VvbWV0cnkoeFtlXSkpO2ZvcihsZXQgZT1yO2U8aztlKyspTltlXTwwJiYoTltlXT0tKE5bZV0rMSkpfWVsc2V7aWYoMD09PWkpe0g9ITA7Y29udGludWV9e0g9ITAsYShvKHMpKSxhKG51bGwhPW0pO2NvbnN0IHQ9bmV3IHYoe3ZkOnhbZV0uZ2V0RGVzY3JpcHRpb24oKX0pLGk9bmV3IEkoe3ZkOnhbZV0uZ2V0RGVzY3JpcHRpb24oKX0pLGg9cz09PW4uZW51bVBvbHlnb24/dDppO2ZvcihsZXQgZT1yO2U8aztlKyspTltlXT49MCYmaC5hZGRQYXRoKG0sTltlXSwhMCk7Ri5hZGRHZW9tZXRyeShoKX19fWxldCBBO2lmKEYuZ2V0Rmlyc3RHZW9tZXRyeSgpIT09TSl7Y29uc3QgZT0yPT09dCxuPXM/ZGUobnVsbCxfLmdldEVudmVsb3BlMkQoKSwhMCk6eTtsZXQgcj1uZXcgeGUoMCwwKTtpZih1JiYocj1zP0RlKG51bGwsXy5nZXRFbnZlbG9wZVpzKCksITApOkUpLDI9PT10JiYhKDImZykpe0YuY29sbGFwc2VBbGxHZW9tZXRyaWVzVG9GaXJzdCgpO2xldCBlPTAsdD1udWxsO2lmKEYuaGFzQ3VydmVzKCkmJiFGLmhhc1NlZ21lbnRQYXJlbnRhZ2UoKSl7dD1uZXcgZmE7Y29uc3Qgcz1GLmdldEVudmVsb3BlMkQodGhpcy5tX3Byb2dyZXNzVHJhY2tlcik7ZT1kYShuLnRvdGFsKCkpO2FhKEYsX2Eobi50b3RhbCgpLHMpLG4udG90YWwoKSwxMmUzLHQsbnVsbCx0aGlzLm1fcHJvZ3Jlc3NUcmFja2VyKX1WbihGLEYuZ2V0Rmlyc3RHZW9tZXRyeSgpLG4udG90YWwoKSx0aGlzLm1fcHJvZ3Jlc3NUcmFja2VyKSxudWxsIT09dCYmdC5zdGl0Y2hDdXJ2ZXMoRixNLGUsITApfWlmKHUpQT10aGlzLnBsYW5hclNpbXBsaWZ5M0RJbXBsXyhGLG4scixjLCEwKTtlbHNlIGlmKDI9PT10KUE9dGhpcy5wbGFuYXJTaW1wbGlmeVBvbHlnb25zKEYsbixlLHMsLTEsITEpO2Vsc2V7Y29uc3QgZT1IYSgpO2Uub2djUnVsZT10aGlzLm1fYk9HQ091dHB1dCxlLmFsbENyb3NzUm9hZHNJbXBhc3NhYmxlPSEwLGUudW5zcGxpdEJlaGF2aW9yPWMsQT10aGlzLnBsYW5hclNpbXBsaWZ5UG9seWxpbmVzKEYsbixzLGUsLTEpfWlmKCFIKXtjb25zdCBlPVswXTtDPUEuZ2V0SW1wbCgpLmdldElzU2ltcGxlKG4udG90YWwoKSxlKX19ZWxzZSBhKEgpLGEocD49MCksQT0yPT09dD9uZXcgdih7dmQ6eFtwXS5nZXREZXNjcmlwdGlvbigpfSk6bmV3IEkoe3ZkOnhbcF0uZ2V0RGVzY3JpcHRpb24oKX0pO2lmKEgpe2xldCBlPTA7Zm9yKGxldCB0PTAscz1OLmxlbmd0aDt0PHM7dCsrKXtjb25zdCBzPVRbdF07aWYoIShzPDApJiZOW3RdPDApe2NvbnN0IG49eFtzXS5nZXRHZW9tZXRyeVR5cGUoKSxyPW8obik/eFtzXTpudWxsO2lmKHIpe2NvbnN0IHM9LShOW3RdKzEpO2UrPXIuZ2V0UGF0aFNpemUocyl9ZWxzZSBlKz00fX1BLnJlc2VydmUoQS5nZXRQb2ludENvdW50KCkrZSk7Zm9yKGxldCB0PTAscz1OLmxlbmd0aDt0PHM7dCsrKXtjb25zdCBlPVRbdF07aWYoIShlPDApJiZOW3RdPDApe2NvbnN0IHM9eFtlXS5nZXRHZW9tZXRyeVR5cGUoKSxpPW8ocyk/eFtlXTpudWxsO2lmKGkpe2NvbnN0IGU9LShOW3RdKzEpO0EuYWRkUGF0aChpLGUsITApfWVsc2Ugcz09PW4uZW51bUVudmVsb3BlP0EuYWRkRW52ZWxvcGUoeFtlXSwhMSk6KGEocihzKSksQS5hZGRTZWdtZW50KHhbZV0sITApKX19fWxldCBVPTA7aWYoMj09PXQ/LTEhPT1DJiYoQz0zLFU9cz8wOnkudG90YWwoKSk6KGEoMT09PXQpLHN8fC0xPT09Q3x8KFU9eS50b3RhbCgpKSksdXx8QS5nZXRJbXBsKCkuc2V0SXNTaW1wbGUoQyxVKSwhcyYmSClpZigyPT09dCl7aWYoIXUpcmV0dXJuKG5ldyBFaCkuZXhlY3V0ZShBLG0sITEsdGhpcy5tX3Byb2dyZXNzVHJhY2tlcik7YSgwLFwiM2Qgbm90IHlldCBpbXBsZW1lbnRlZFwiKX1lbHNlIDE9PT10JiYxIT09YyYmKEE9dT9CYSgpOlVhKHRoaXMubV9iT0dDT3V0cHV0LEEsYyx0aGlzLm1fcHJvZ3Jlc3NUcmFja2VyKSxBLmdldEltcGwoKS5zZXRJc1NpbXBsZShDLFUpKTtyZXR1cm4gQX1kaXNzb2x2ZVRvcG9HcmFwaENvbW1vbkVkZ2VzXygpe2NvbnN0IGU9dGhpcy5tX3RvcG9HcmFwaC5jcmVhdGVVc2VySW5kZXhGb3JIYWxmRWRnZXMoKSx0PVtdO2ZvcihsZXQgcz10aGlzLm1fdG9wb0dyYXBoLmdldEZpcnN0Q2x1c3RlcigpO3MhPT1NO3M9dGhpcy5tX3RvcG9HcmFwaC5nZXROZXh0Q2x1c3RlcihzKSl7Y29uc3Qgbj10aGlzLm1fdG9wb0dyYXBoLmdldENsdXN0ZXJIYWxmRWRnZShzKTtsZXQgcj1uO2lmKG4hPT1NKWRve3RoaXMucHJvZ3Jlc3NfKCk7aWYoMSE9PXRoaXMubV90b3BvR3JhcGguZ2V0SGFsZkVkZ2VVc2VySW5kZXgocixlKSl7Y29uc3Qgcz10aGlzLm1fdG9wb0dyYXBoLmdldEhhbGZFZGdlVHdpbihyKTt0aGlzLm1fdG9wb0dyYXBoLnNldEhhbGZFZGdlVXNlckluZGV4KHMsZSwxKSx0aGlzLm1fdG9wb0dyYXBoLnNldEhhbGZFZGdlVXNlckluZGV4KHIsZSwxKTtjb25zdCBuPXRoaXMubV90b3BvR3JhcGguZ2V0SGFsZkVkZ2VGYWNlUGFyZW50YWdlKHIpO2lmKHRoaXMuaXNHb29kUGFyZW50YWdlKG4pKXtjb25zdCBlPXRoaXMubV90b3BvR3JhcGguZ2V0SGFsZkVkZ2VGYWNlUGFyZW50YWdlKHMpO3RoaXMuaXNHb29kUGFyZW50YWdlKGUpJiZ0LnB1c2gocil9fXI9dGhpcy5tX3RvcG9HcmFwaC5nZXRIYWxmRWRnZU5leHQodGhpcy5tX3RvcG9HcmFwaC5nZXRIYWxmRWRnZVR3aW4ocikpfXdoaWxlKHIhPT1uKX10aGlzLm1fdG9wb0dyYXBoLmRlbGV0ZVVzZXJJbmRleEZvckhhbGZFZGdlcyhlKSx0aGlzLm1fdG9wb0dyYXBoLmRlbGV0ZUVkZ2VzQnJlYWtGYWNlc18odCl9Y2hvb3NlVmVydGV4QnlPcmRlcihlLHQscyxuKXtsZXQgcj1idCgpLGk9TTtmb3IobGV0IGE9dGhpcy5tX3RvcG9HcmFwaC5nZXRDbHVzdGVyVmVydGV4SXRlcmF0b3IoZSk7YSE9PU07YT10aGlzLm1fdG9wb0dyYXBoLmluY3JlbWVudFZlcnRleEl0ZXJhdG9yKGEpKXtjb25zdCBlPXRoaXMubV90b3BvR3JhcGguZ2V0VmVydGV4RnJvbVZlcnRleEl0ZXJhdG9yKGEpLG49dC5nZXRVc2VySW5kZXgoZSxzKTtuPj0wJiZuPHImJihyPW4saT1lKX1hKGkhPT1NKTtsZXQgbz10LmdldFVzZXJJbmRleChpLG4pO3JldHVybiBvPjAmJih0LnNldFVzZXJJbmRleChpLG4sLS1vKSwwPT09byYmdC5zZXRVc2VySW5kZXgoaSxzLC0xKSksaX1jaG9vc2VWZXJ0ZXhGcm9tQ2x1c3Rlcl8oZSx0KXtyZXR1cm4gdGhpcy5tX3RvcG9HcmFwaC5nZXRWZXJ0ZXhEb21pbmFudEZyb21DbHVzdGVyKGUsdCl9Y2hvb3NlVmVydGV4RnJvbVZlcnRleENsdXN0ZXJfKGUsdCl7cmV0dXJuIHRoaXMubV90b3BvR3JhcGguZ2V0VmVydGV4RG9taW5hbnQoZSx0KX1jb2xsZWN0UG9seWdvblBhdGhzUHJlc2VydmluZ0Zyb21fKGUsdCxzLHIsaSl7Y29uc3Qgbz10aGlzLm1fdG9wb0dyYXBoLmdldFNoYXBlKCk7aWYoby5nZXRHZW9tZXRyeVR5cGUoZSkhPT1uLmVudW1Qb2x5Z29uKXJldHVybjtjb25zdCBhPW8uaGFzU2VnbWVudFBhcmVudGFnZSgpLGg9bmV3IEY7Zm9yKGxldCBuPW8uZ2V0Rmlyc3RQYXRoKGUpO24hPT1NO249by5nZXROZXh0UGF0aChuKSl7Y29uc3QgZT1vLmdldEZpcnN0VmVydGV4KG4pO3RoaXMubV90b3BvR3JhcGguZ2V0Q2x1c3RlckZyb21WZXJ0ZXgoZSk7Y29uc3QgbT10aGlzLm1fdG9wb0dyYXBoLmdldEhhbGZFZGdlRnJvbVZlcnRleChlKTtpZihtPT09TSljb250aW51ZTtjb25zdCBsPXRoaXMubV90b3BvR3JhcGguZ2V0SGFsZkVkZ2VVc2VySW5kZXgobSxzKTtpZigxPT09bHx8Mj09PWwpY29udGludWU7Y29uc3QgZz10aGlzLm1fdG9wb0dyYXBoLmdldEhhbGZFZGdlRmFjZVBhcmVudGFnZShtKTtpZighdGhpcy5pc0dvb2RQYXJlbnRhZ2UoZykpe3RoaXMubV90b3BvR3JhcGguc2V0SGFsZkVkZ2VVc2VySW5kZXgobSxzLDIpO2NvbnRpbnVlfXRoaXMubV90b3BvR3JhcGguc2V0SGFsZkVkZ2VVc2VySW5kZXgobSxzLDEpO2NvbnN0IHU9by5pbnNlcnRQYXRoKHQsTSk7by5zZXRDbG9zZWRQYXRoKHUsITApO2xldCBjPW0sXz1lLGQ9dGhpcy5tX3RvcG9HcmFwaC5nZXRDbHVzdGVyRnJvbVZlcnRleChfKSxwPTE7ZG97dGhpcy5wcm9ncmVzc18oKTtjb25zdCBlPXRoaXMuY2hvb3NlVmVydGV4RnJvbVZlcnRleENsdXN0ZXJfKF8saSksdD1vLmFkZFZlcnRleCh1LGUpO2lmKHRoaXMubV90b3BvR3JhcGguaXNIYWxmRWRnZUN1cnZlKGMpJiYodGhpcy5tX3RvcG9HcmFwaC5xdWVyeVNlZ21lbnRYWShjLGgpLG8uc2V0U2VnbWVudFRvSW5kZXgoby5nZXRWZXJ0ZXhJbmRleCh0KSxoLmdldCgpLmNsb25lKCkpKSxhKXtjb25zdCBlPXRoaXMubV90b3BvR3JhcGguZ2V0U2VnbWVudFBhcmVudGFnZShjKTtvLnNldFNlZ21lbnRQYXJlbnRhZ2VBbmRCcmVhayh0LGUsdGhpcy5tX3RvcG9HcmFwaC5pc0JyZWFrTm9kZShkKSl9bGV0IG4sbTstMSE9PXImJnRoaXMubV90b3BvR3JhcGguc2V0Q2x1c3RlclVzZXJJbmRleChkLHIsMSksdGhpcy5tX3RvcG9HcmFwaC5zZXRIYWxmRWRnZVVzZXJJbmRleChjLHMsMSksYz10aGlzLm1fdG9wb0dyYXBoLmdldEhhbGZFZGdlTmV4dChjKTtkb3tuPTE9PT1wP28uZ2V0TmV4dFZlcnRleChfKTpvLmdldFByZXZWZXJ0ZXgoXyksbT1uIT09TT90aGlzLm1fdG9wb0dyYXBoLmdldENsdXN0ZXJGcm9tVmVydGV4KG4pOk19d2hpbGUobT09PWQpO2NvbnN0IGw9dGhpcy5tX3RvcG9HcmFwaC5nZXRIYWxmRWRnZU9yaWdpbihjKTtpZihsIT09bSl7ZG97bj0xPT09cD9vLmdldFByZXZWZXJ0ZXgoXyk6by5nZXROZXh0VmVydGV4KF8pLG09biE9PU0/dGhpcy5tX3RvcG9HcmFwaC5nZXRDbHVzdGVyRnJvbVZlcnRleChuKTpNfXdoaWxlKG09PT1kKTtpZihsIT09bSl7bT1sO2NvbnN0IGU9dGhpcy5tX3RvcG9HcmFwaC5nZXRDbHVzdGVyVmVydGV4SXRlcmF0b3IobSk7bj10aGlzLm1fdG9wb0dyYXBoLmdldFZlcnRleEZyb21WZXJ0ZXhJdGVyYXRvcihlKX1lbHNlIHA9LXB9ZD1tLF89bn13aGlsZShjIT09bSl9fXRvcG9PcGVyYXRpb25Qb2x5Z29uUG9seWdvbkhlbHBlcl8oZSx0LHMsbixyLGkpe3RoaXMucHJvZ3Jlc3NfKCEwKSxlIT09TSYmdGhpcy5jb2xsZWN0UG9seWdvblBhdGhzUHJlc2VydmluZ0Zyb21fKGUscyxyLGksbiksdCE9PU0mJnRoaXMuY29sbGVjdFBvbHlnb25QYXRoc1ByZXNlcnZpbmdGcm9tXyh0LHMscixpLG4pO2NvbnN0IG89bmV3IEYsYT10aGlzLm1fdG9wb0dyYXBoLmdldFNoYXBlKCk7YS5kYmdWZXJpZnlDdXJ2ZXMoKTtjb25zdCBoPWEuaGFzU2VnbWVudFBhcmVudGFnZSgpO2ZvcihsZXQgbT10aGlzLm1fdG9wb0dyYXBoLmdldEZpcnN0Q2x1c3RlcigpO20hPT1NO209dGhpcy5tX3RvcG9HcmFwaC5nZXROZXh0Q2x1c3RlcihtKSl7Y29uc3QgZT10aGlzLm1fdG9wb0dyYXBoLmdldENsdXN0ZXJIYWxmRWRnZShtKTtpZihlPT09TSljb250aW51ZTtsZXQgdD1lO2Rve3RoaXMucHJvZ3Jlc3NfKCk7Y29uc3QgZT10aGlzLm1fdG9wb0dyYXBoLmdldEhhbGZFZGdlVXNlckluZGV4KHQscik7aWYoMSE9PWUmJjIhPT1lKXtjb25zdCBlPXRoaXMubV90b3BvR3JhcGguZ2V0SGFsZkVkZ2VGYWNlUGFyZW50YWdlKHQpO2lmKHRoaXMuaXNHb29kUGFyZW50YWdlKGUpKXtjb25zdCBlPWEuaW5zZXJ0UGF0aChzLE0pO2Euc2V0Q2xvc2VkUGF0aChlLCEwKTtsZXQgbT10O2Rve2NvbnN0IHQ9dGhpcy5tX3RvcG9HcmFwaC5nZXRIYWxmRWRnZVZlcnRleEl0ZXJhdG9yKG0pO2xldCBzPU07aWYodCE9PU0pcz10aGlzLm1fdG9wb0dyYXBoLmdldFZlcnRleEZyb21WZXJ0ZXhJdGVyYXRvcih0KTtlbHNle2NvbnN0IGU9dGhpcy5tX3RvcG9HcmFwaC5nZXRIYWxmRWRnZVZlcnRleEl0ZXJhdG9yKHRoaXMubV90b3BvR3JhcGguZ2V0SGFsZkVkZ2VUd2luKG0pKTtzPXRoaXMubV90b3BvR3JhcGguZ2V0VmVydGV4RnJvbVZlcnRleEl0ZXJhdG9yKGUpLHM9YS5nZXROZXh0VmVydGV4KHMpfWNvbnN0IGw9dGhpcy5jaG9vc2VWZXJ0ZXhGcm9tVmVydGV4Q2x1c3Rlcl8ocyxuKSxnPWEuYWRkVmVydGV4KGUsbCk7aWYoaCl7Y29uc3QgZT10aGlzLm1fdG9wb0dyYXBoLmdldFNlZ21lbnRQYXJlbnRhZ2UobSksdD10aGlzLm1fdG9wb0dyYXBoLmdldEhhbGZFZGdlT3JpZ2luKG0pO2Euc2V0U2VnbWVudFBhcmVudGFnZUFuZEJyZWFrKGcsZSx0aGlzLm1fdG9wb0dyYXBoLmlzQnJlYWtOb2RlKHQpKX1pZih0aGlzLm1fdG9wb0dyYXBoLmlzSGFsZkVkZ2VDdXJ2ZShtKSYmKHRoaXMubV90b3BvR3JhcGgucXVlcnlTZWdtZW50WFkobSxvKSxhLnNldFNlZ21lbnRUb0luZGV4KGEuZ2V0VmVydGV4SW5kZXgoZyksby5nZXQoKS5jbG9uZSgpKSksdGhpcy5tX3RvcG9HcmFwaC5zZXRIYWxmRWRnZVVzZXJJbmRleChtLHIsMSksLTEhPT1pKXtjb25zdCBlPXRoaXMubV90b3BvR3JhcGguZ2V0Q2x1c3RlckZyb21WZXJ0ZXgobCk7dGhpcy5tX3RvcG9HcmFwaC5zZXRDbHVzdGVyVXNlckluZGV4KGUsaSwxKX1tPXRoaXMubV90b3BvR3JhcGguZ2V0SGFsZkVkZ2VOZXh0KG0pfXdoaWxlKG0hPT10KX1lbHNlIHRoaXMubV90b3BvR3JhcGguc2V0SGFsZkVkZ2VVc2VySW5kZXgodCxyLDIpfXQ9dGhpcy5tX3RvcG9HcmFwaC5nZXRIYWxmRWRnZU5leHQodGhpcy5tX3RvcG9HcmFwaC5nZXRIYWxmRWRnZVR3aW4odCkpfXdoaWxlKHQhPT1lKX19dG9wb09wZXJhdGlvblBvbHlnb25Qb2x5Z29uXyhlLHQscyxyPSExKXt0aGlzLmRpc3NvbHZlVG9wb0dyYXBoQ29tbW9uRWRnZXNfKCk7Y29uc3QgaT10aGlzLm1fdG9wb0dyYXBoLmdldFNoYXBlKCksbz1pLmNyZWF0ZUdlb21ldHJ5KG4uZW51bVBvbHlnb24pLGE9dGhpcy5tX3RvcG9HcmFwaC5jcmVhdGVVc2VySW5kZXhGb3JIYWxmRWRnZXMoKTtyZXR1cm4gdGhpcy50b3BvT3BlcmF0aW9uUG9seWdvblBvbHlnb25IZWxwZXJfKGUsdCxvLHMsYSwtMSksdGhpcy5tX3RvcG9HcmFwaC5kZWxldGVVc2VySW5kZXhGb3JIYWxmRWRnZXMoYSkscnx8ZXIoaSxvLDMsdGhpcy5tX2JPR0NPdXRwdXQsTSx0aGlzLm1fcHJvZ3Jlc3NUcmFja2VyKSxvfXRvcG9PcGVyYXRpb25Qb2x5bGluZV8oZSx0KXtjb25zdCBzPUhhKCk7cmV0dXJuIHMuYWxsQ3Jvc3NSb2Fkc0ltcGFzc2FibGU9ITEscy5vZ2NSdWxlPXQscy51bnNwbGl0QmVoYXZpb3I9MCx0aGlzLnRvcG9PcGVyYXRpb25Qb2x5bGluZVNpbXBsaWZ5T3JQb2x5bGluZVRvcG9IZWxwZXJfKE0sZSwhMSxzKS5maXJzdH10b3BvT3BlcmF0aW9uTXVsdGlQb2ludF8oKXtjb25zdCBlPXRoaXMubV90b3BvR3JhcGguZ2V0U2hhcGUoKSx0PWUuY3JlYXRlR2VvbWV0cnkobi5lbnVtTXVsdGlQb2ludCkscz1lLmluc2VydFBhdGgodCxNKTtmb3IobGV0IG49dGhpcy5tX3RvcG9HcmFwaC5nZXRGaXJzdENsdXN0ZXIoKTtuIT09TTtuPXRoaXMubV90b3BvR3JhcGguZ2V0TmV4dENsdXN0ZXIobikpe2NvbnN0IHQ9dGhpcy5tX3RvcG9HcmFwaC5nZXRDbHVzdGVyUGFyZW50YWdlKG4pO2lmKHRoaXMuaXNHb29kUGFyZW50YWdlKHQpKXtsZXQgdD1NO2ZvcihsZXQgcz10aGlzLm1fdG9wb0dyYXBoLmdldENsdXN0ZXJWZXJ0ZXhJdGVyYXRvcihuKTtzIT09TTtzPXRoaXMubV90b3BvR3JhcGguaW5jcmVtZW50VmVydGV4SXRlcmF0b3Iocykpe2NvbnN0IG49dGhpcy5tX3RvcG9HcmFwaC5nZXRWZXJ0ZXhGcm9tVmVydGV4SXRlcmF0b3Iocyk7dD09PU0mJih0PW4pO2NvbnN0IHI9ZS5nZXRHZW9tZXRyeUZyb21QYXRoKGUuZ2V0UGF0aEZyb21WZXJ0ZXgobikpLGk9dGhpcy5tX3RvcG9HcmFwaC5nZXRHZW9tZXRyeUlEKHIpO2lmKHRoaXMuaXNHb29kUGFyZW50YWdlKGkpKXt0PW47YnJlYWt9fWUuYWRkVmVydGV4KHMsdCl9fXJldHVybiB0fWludGVyc2VjdGlvbihlLHQpe2NvbnN0IHM9dGhpcy5tX3RvcG9HcmFwaC5nZXRTaGFwZSgpLmdldEdlb21ldHJ5VHlwZShlKSxuPXRoaXMubV90b3BvR3JhcGguZ2V0U2hhcGUoKS5nZXRHZW9tZXRyeVR5cGUodCkscj1tKHMpLG89bShuKSxoPXRoaXMubV90b3BvR3JhcGguZ2V0R2VvbWV0cnlJRChlKSxsPXRoaXMubV90b3BvR3JhcGguZ2V0R2VvbWV0cnlJRCh0KTthKGg+PTApLGEobD49MCksdGhpcy5tX21hc2tMb29rdXAubGVuZ3RoPTAsdGhpcy5tX21hc2tMb29rdXAubGVuZ3RoPTErKGh8bCksdGhpcy5tX21hc2tMb29rdXBbaHxsXT0hMDtsZXQgZz1NO3JldHVybiB0aGlzLm1fdG9wb0dyYXBoLmdldFNoYXBlKCkuZ2V0VmVydGV4RGVzY3JpcHRpb24oKS5nZXRBdHRyaWJ1dGVDb3VudCgpPjEmJihnPWUpLDI9PT1yJiYyPT09bz90aGlzLnRvcG9PcGVyYXRpb25Qb2x5Z29uUG9seWdvbl8oZSx0LGcpOjE9PT1yJiZvPjB8fDE9PT1vJiZyPjA/dGhpcy50b3BvT3BlcmF0aW9uUG9seWxpbmVfKGcsdGhpcy5tX2JPR0NPdXRwdXQpOjA9PT1yfHwwPT09bz90aGlzLnRvcG9PcGVyYXRpb25NdWx0aVBvaW50XygpOnZvaWQgaShcIlwiKX10b3BvT3BlcmF0aW9uUG9seWdvblBvbHlnb25FeChlLHQscyl7Y29uc3Qgcj10aGlzLm1fdG9wb0dyYXBoLmdldFNoYXBlKCksaT1yLmNyZWF0ZUdlb21ldHJ5KG4uZW51bVBvbHlnb24pLG89ci5jcmVhdGVHZW9tZXRyeShuLmVudW1Qb2x5bGluZSksYT1yLmNyZWF0ZUdlb21ldHJ5KG4uZW51bU11bHRpUG9pbnQpO3RoaXMuZGlzc29sdmVUb3BvR3JhcGhDb21tb25FZGdlc18oKTtsZXQgaD1NO2NvbnN0IG09dGhpcy5tX3RvcG9HcmFwaC5jcmVhdGVVc2VySW5kZXhGb3JIYWxmRWRnZXMoKSxsPXRoaXMubV90b3BvR3JhcGguY3JlYXRlVXNlckluZGV4Rm9yQ2x1c3RlcnMoKTtyLmRiZ1ZlcmlmeUN1cnZlcygpLHRoaXMudG9wb09wZXJhdGlvblBvbHlnb25Qb2x5Z29uSGVscGVyXyhlLHQsaSxzLG0sbCksci5kYmdWZXJpZnlDdXJ2ZXMoKTtjb25zdCBnPXIuaGFzU2VnbWVudFBhcmVudGFnZSgpLHU9bmV3IEY7Zm9yKGxldCBuPXRoaXMubV90b3BvR3JhcGguZ2V0Rmlyc3RDbHVzdGVyKCk7biE9PU07bj10aGlzLm1fdG9wb0dyYXBoLmdldE5leHRDbHVzdGVyKG4pKXtjb25zdCBlPXRoaXMubV90b3BvR3JhcGguZ2V0Q2x1c3RlckhhbGZFZGdlKG4pO2lmKGU9PT1NKWNvbnRpbnVlO2xldCB0PWU7ZG97bGV0IGU9dGhpcy5tX3RvcG9HcmFwaC5nZXRIYWxmRWRnZVVzZXJJbmRleCh0LG0pLGk9dGhpcy5tX3RvcG9HcmFwaC5nZXRIYWxmRWRnZVVzZXJJbmRleCh0aGlzLm1fdG9wb0dyYXBoLmdldEhhbGZFZGdlVHdpbih0KSxtKSxhPWV8aTtpZigyPT09YSl7bGV0IGg9dGhpcy5tX3RvcG9HcmFwaC5nZXRIYWxmRWRnZVBhcmVudGFnZSh0KTtpZih0aGlzLmlzR29vZFBhcmVudGFnZShoKSl7Y29uc3QgYz1yLmluc2VydFBhdGgobyxNKTtsZXQgXz10O2NvbnN0IGQ9dGhpcy5jaG9vc2VWZXJ0ZXhGcm9tQ2x1c3Rlcl8obixzKTtsZXQgcD1yLmFkZFZlcnRleChjLGQpO2lmKGcpe2NvbnN0IGU9dGhpcy5tX3RvcG9HcmFwaC5nZXRTZWdtZW50UGFyZW50YWdlKHQpLHM9dGhpcy5tX3RvcG9HcmFwaC5nZXRIYWxmRWRnZU9yaWdpbih0KTtyLnNldFNlZ21lbnRQYXJlbnRhZ2VBbmRCcmVhayhwLGUsdGhpcy5tX3RvcG9HcmFwaC5pc0JyZWFrTm9kZShzKSl9dGhpcy5tX3RvcG9HcmFwaC5pc0hhbGZFZGdlQ3VydmUodCkmJih0aGlzLm1fdG9wb0dyYXBoLnF1ZXJ5U2VnbWVudFhZKHQsdSksci5zZXRTZWdtZW50VG9JbmRleChyLmdldFZlcnRleEluZGV4KHApLHUuZ2V0KCkuY2xvbmUoKSkpLHRoaXMubV90b3BvR3JhcGguc2V0Q2x1c3RlclVzZXJJbmRleChuLGwsMSk7ZG97dGhpcy5wcm9ncmVzc18oKTtjb25zdCBuPXRoaXMubV90b3BvR3JhcGguZ2V0SGFsZkVkZ2VUbyhfKSxvPXRoaXMuY2hvb3NlVmVydGV4RnJvbUNsdXN0ZXJfKG4scyk7aWYocD1yLmFkZFZlcnRleChjLG8pLGcpe2NvbnN0IGU9dGhpcy5tX3RvcG9HcmFwaC5nZXRTZWdtZW50UGFyZW50YWdlKHQpLHM9dGhpcy5tX3RvcG9HcmFwaC5nZXRIYWxmRWRnZU9yaWdpbih0KTtyLnNldFNlZ21lbnRQYXJlbnRhZ2VBbmRCcmVhayhwLGUsdGhpcy5tX3RvcG9HcmFwaC5pc0JyZWFrTm9kZShzKSl9aWYodGhpcy5tX3RvcG9HcmFwaC5zZXRIYWxmRWRnZVVzZXJJbmRleChfLG0sMSksdGhpcy5tX3RvcG9HcmFwaC5zZXRIYWxmRWRnZVVzZXJJbmRleCh0aGlzLm1fdG9wb0dyYXBoLmdldEhhbGZFZGdlVHdpbihfKSxtLDEpLHRoaXMubV90b3BvR3JhcGguc2V0Q2x1c3RlclVzZXJJbmRleChuLGwsMSksXz10aGlzLm1fdG9wb0dyYXBoLmdldEhhbGZFZGdlTmV4dChfKSxlPXRoaXMubV90b3BvR3JhcGguZ2V0SGFsZkVkZ2VVc2VySW5kZXgoXyxtKSxpPXRoaXMubV90b3BvR3JhcGguZ2V0SGFsZkVkZ2VVc2VySW5kZXgodGhpcy5tX3RvcG9HcmFwaC5nZXRIYWxmRWRnZVR3aW4oXyksbSksYT1lfGksMiE9PWEpYnJlYWs7aWYoaD10aGlzLm1fdG9wb0dyYXBoLmdldEhhbGZFZGdlUGFyZW50YWdlKF8pLCF0aGlzLmlzR29vZFBhcmVudGFnZShoKSl7dGhpcy5tX3RvcG9HcmFwaC5zZXRIYWxmRWRnZVVzZXJJbmRleChfLG0sMSksdGhpcy5tX3RvcG9HcmFwaC5zZXRIYWxmRWRnZVVzZXJJbmRleCh0aGlzLm1fdG9wb0dyYXBoLmdldEhhbGZFZGdlVHdpbihfKSxtLDEpO2JyZWFrfXRoaXMubV90b3BvR3JhcGguaXNIYWxmRWRnZUN1cnZlKHQpJiZfIT09dCYmKHRoaXMubV90b3BvR3JhcGgucXVlcnlTZWdtZW50WFkodCx1KSxyLnNldFNlZ21lbnRUb0luZGV4KHIuZ2V0VmVydGV4SW5kZXgocCksdS5nZXQoKS5jbG9uZSgpKSl9d2hpbGUoXyE9PXQpfWVsc2UgdGhpcy5tX3RvcG9HcmFwaC5zZXRIYWxmRWRnZVVzZXJJbmRleCh0LG0sMSksdGhpcy5tX3RvcG9HcmFwaC5zZXRIYWxmRWRnZVVzZXJJbmRleCh0aGlzLm1fdG9wb0dyYXBoLmdldEhhbGZFZGdlVHdpbih0KSxtLDEpfXQ9dGhpcy5tX3RvcG9HcmFwaC5nZXRIYWxmRWRnZU5leHQodGhpcy5tX3RvcG9HcmFwaC5nZXRIYWxmRWRnZVR3aW4odCkpfXdoaWxlKHQhPT1lKX1mb3IobGV0IG49dGhpcy5tX3RvcG9HcmFwaC5nZXRGaXJzdENsdXN0ZXIoKTtuIT09TTtuPXRoaXMubV90b3BvR3JhcGguZ2V0TmV4dENsdXN0ZXIobikpe3RoaXMucHJvZ3Jlc3NfKCk7aWYoMT09PXRoaXMubV90b3BvR3JhcGguZ2V0Q2x1c3RlclVzZXJJbmRleChuLGwpKWNvbnRpbnVlO2NvbnN0IGU9dGhpcy5tX3RvcG9HcmFwaC5nZXRDbHVzdGVyUGFyZW50YWdlKG4pO2lmKHRoaXMuaXNHb29kUGFyZW50YWdlKGUpKXtoPT09TSYmKGg9ci5pbnNlcnRQYXRoKGEsTSkpO2NvbnN0IGU9dGhpcy5tX3RvcG9HcmFwaC5nZXRDbHVzdGVyVmVydGV4SXRlcmF0b3Iobik7bGV0IHQ9TTtpZihlIT09TSl7dD10aGlzLm1fdG9wb0dyYXBoLmdldFZlcnRleEZyb21WZXJ0ZXhJdGVyYXRvcihlKTtjb25zdCBuPXRoaXMuY2hvb3NlVmVydGV4RnJvbVZlcnRleENsdXN0ZXJfKHQscyk7ci5hZGRWZXJ0ZXgoaCxuKX19fXRoaXMubV90b3BvR3JhcGguZGVsZXRlVXNlckluZGV4Rm9yQ2x1c3RlcnMobCksdGhpcy5tX3RvcG9HcmFwaC5kZWxldGVVc2VySW5kZXhGb3JIYWxmRWRnZXMobSksci5kYmdWZXJpZnlDdXJ2ZXMoKSxlcihyLGksMyx0aGlzLm1fYk9HQ091dHB1dCxNLHRoaXMubV9wcm9ncmVzc1RyYWNrZXIpO2NvbnN0IGM9W00sTSxNXTtyZXR1cm4gY1swXT1hLGNbMV09byxjWzJdPWksY310b3BvT3BlcmF0aW9uUG9seWxpbmVQb2x5bGluZU9yUG9seWdvbkV4KGUsdCl7Y29uc3Qgcz1IYSgpO3JldHVybiBzLmFsbENyb3NzUm9hZHNJbXBhc3NhYmxlPSExLHMub2djUnVsZT10LHMudW5zcGxpdEJlaGF2aW9yPTAsdGhpcy50b3BvT3BlcmF0aW9uUG9seWxpbmVTaW1wbGlmeU9yUG9seWxpbmVUb3BvSGVscGVyXyhNLGUsITAscyl9dG9wb09wZXJhdGlvbk11bHRpUG9pbnQoKXtjb25zdCBlPXRoaXMubV90b3BvR3JhcGguZ2V0U2hhcGUoKSx0PWUuY3JlYXRlR2VvbWV0cnkobi5lbnVtTXVsdGlQb2ludCkscz1lLmluc2VydFBhdGgodCxNKTtmb3IobGV0IG49dGhpcy5tX3RvcG9HcmFwaC5nZXRGaXJzdENsdXN0ZXIoKTtuIT09TTtuPXRoaXMubV90b3BvR3JhcGguZ2V0TmV4dENsdXN0ZXIobikpe2NvbnN0IHQ9dGhpcy5tX3RvcG9HcmFwaC5nZXRDbHVzdGVyUGFyZW50YWdlKG4pO2lmKHRoaXMuaXNHb29kUGFyZW50YWdlKHQpKXtsZXQgdD1NO2ZvcihsZXQgcz10aGlzLm1fdG9wb0dyYXBoLmdldENsdXN0ZXJWZXJ0ZXhJdGVyYXRvcihuKTtzIT09TTtzPXRoaXMubV90b3BvR3JhcGguaW5jcmVtZW50VmVydGV4SXRlcmF0b3Iocykpe2NvbnN0IG49dGhpcy5tX3RvcG9HcmFwaC5nZXRWZXJ0ZXhGcm9tVmVydGV4SXRlcmF0b3Iocyk7dD09PU0mJih0PW4pO2NvbnN0IHI9ZS5nZXRHZW9tZXRyeUZyb21QYXRoKGUuZ2V0UGF0aEZyb21WZXJ0ZXgobikpLGk9dGhpcy5tX3RvcG9HcmFwaC5nZXRHZW9tZXRyeUlEKHIpO2lmKHRoaXMuaXNHb29kUGFyZW50YWdlKGkpKXt0PW47YnJlYWt9fWUuYWRkVmVydGV4KHMsdCl9fXJldHVybiB0fWludGVyc2VjdGlvbkV4KGUsdCl7Y29uc3Qgcz10aGlzLm1fdG9wb0dyYXBoLmdldFNoYXBlKCkuZ2V0R2VvbWV0cnlUeXBlKGUpLG49dGhpcy5tX3RvcG9HcmFwaC5nZXRTaGFwZSgpLmdldEdlb21ldHJ5VHlwZSh0KSxyPVZhKHMpLG89VmEobiksaD10aGlzLm1fdG9wb0dyYXBoLmdldEdlb21ldHJ5SUQoZSksbT10aGlzLm1fdG9wb0dyYXBoLmdldEdlb21ldHJ5SUQodCk7YShoPj0wKSxhKG0+PTApLHRoaXMubV9tYXNrTG9va3VwLmxlbmd0aD0wLHRoaXMubV9tYXNrTG9va3VwLmxlbmd0aD0xKyhofG0pLHRoaXMubV9tYXNrTG9va3VwW2h8bV09ITA7bGV0IGw9TTtpZih0aGlzLm1fdG9wb0dyYXBoLmdldFNoYXBlKCkuZ2V0VmVydGV4RGVzY3JpcHRpb24oKS5nZXRBdHRyaWJ1dGVDb3VudCgpPjEmJihsPWUpLDI9PT1yJiYyPT09bylyZXR1cm4gdGhpcy50b3BvT3BlcmF0aW9uUG9seWdvblBvbHlnb25FeChlLHQsbCk7aWYoMT09PXImJm8+MHx8MT09PW8mJnI+MCl7Y29uc3R7Zmlyc3Q6ZSxzZWNvbmQ6dH09dGhpcy50b3BvT3BlcmF0aW9uUG9seWxpbmVQb2x5bGluZU9yUG9seWdvbkV4KGwsdGhpcy5tX2JPR0NPdXRwdXQpO3JldHVyblt0LGVdfWlmKDA9PT1yfHwwPT09byl7Y29uc3QgZT1bXTtyZXR1cm4gZS5wdXNoKHRoaXMudG9wb09wZXJhdGlvbk11bHRpUG9pbnQoKSksZX1pKFwiXCIpfWdldENvbWJpbmVkSGFsZkVkZ2VQYXJlbnRhZ2UoZSl7cmV0dXJuIHRoaXMubV90b3BvR3JhcGguZ2V0SGFsZkVkZ2VQYXJlbnRhZ2UoZSl8dGhpcy5tX3RvcG9HcmFwaC5nZXRIYWxmRWRnZUZhY2VQYXJlbnRhZ2UoZSl8dGhpcy5tX3RvcG9HcmFwaC5nZXRIYWxmRWRnZUZhY2VQYXJlbnRhZ2UodGhpcy5tX3RvcG9HcmFwaC5nZXRIYWxmRWRnZVR3aW4oZSkpfXByZXZhaWxpbmdEaXJlY3Rpb24oZSx0KXtjb25zdCBzPXRoaXMuZ2V0Q29tYmluZWRIYWxmRWRnZVBhcmVudGFnZSh0KSxuPXRoaXMubV90b3BvR3JhcGguZ2V0SGFsZkVkZ2VPcmlnaW4odCkscj10aGlzLm1fdG9wb0dyYXBoLmdldEhhbGZFZGdlVG8odCk7bGV0IGk9MCxvPTA7Zm9yKGxldCBhPXRoaXMubV90b3BvR3JhcGguZ2V0Q2x1c3RlclZlcnRleEl0ZXJhdG9yKG4pO2EhPT1NO2E9dGhpcy5tX3RvcG9HcmFwaC5pbmNyZW1lbnRWZXJ0ZXhJdGVyYXRvcihhKSl7Y29uc3Qgbj10aGlzLm1fdG9wb0dyYXBoLmdldFZlcnRleEZyb21WZXJ0ZXhJdGVyYXRvcihhKSxoPWUuZ2V0UGF0aEZyb21WZXJ0ZXgobiksbT1lLmdldEdlb21ldHJ5RnJvbVBhdGgoaCksbD10aGlzLm1fdG9wb0dyYXBoLmdldEdlb21ldHJ5SUQobSksZz1lLmdldEZpcnN0VmVydGV4KGgpLHU9MCE9PShsJnMpO3UmJmc9PT1uJiYodGhpcy5tX2Zyb21FZGdlRm9yUG9seWxpbmVzPXQpO2NvbnN0IGM9ZS5nZXROZXh0VmVydGV4KG4pO2lmKGMhPT1NJiZ0aGlzLm1fdG9wb0dyYXBoLmdldENsdXN0ZXJGcm9tVmVydGV4KGMpPT09cil7aWYoaSsrLHUpe2lmKHRoaXMubV9mcm9tRWRnZUZvclBvbHlsaW5lcz09PU0mJmc9PT1jKXtjb25zdCBlPXRoaXMubV90b3BvR3JhcGguZ2V0SGFsZkVkZ2VOZXh0KHQpO3RoaXMuaXNHb29kUGFyZW50YWdlKHRoaXMuZ2V0Q29tYmluZWRIYWxmRWRnZVBhcmVudGFnZShlKSkmJih0aGlzLm1fZnJvbUVkZ2VGb3JQb2x5bGluZXM9ZSl9bysrfX1lbHNle2NvbnN0IHM9ZS5nZXRQcmV2VmVydGV4KG4pO2lmKHMhPT1NJiZ0aGlzLm1fdG9wb0dyYXBoLmdldENsdXN0ZXJGcm9tVmVydGV4KHMpPT09ciYmKGktLSx1KSl7aWYodGhpcy5tX2Zyb21FZGdlRm9yUG9seWxpbmVzPT09TSYmZz09PXMpe2NvbnN0IGU9dGhpcy5tX3RvcG9HcmFwaC5nZXRIYWxmRWRnZU5leHQodCk7dGhpcy5pc0dvb2RQYXJlbnRhZ2UodGhpcy5nZXRDb21iaW5lZEhhbGZFZGdlUGFyZW50YWdlKGUpKSYmKHRoaXMubV9mcm9tRWRnZUZvclBvbHlsaW5lcz1lKX1vLS19fX10aGlzLm1fdG9wb0dyYXBoLnF1ZXJ5WFkobix0aGlzLm1fZHVtbXlQdDEpLHRoaXMubV90b3BvR3JhcGgucXVlcnlYWShyLHRoaXMubV9kdW1teVB0Mik7cmV0dXJuKDAhPT1vP286aSkqUWUuZGlzdGFuY2UodGhpcy5tX2R1bW15UHQxLHRoaXMubV9kdW1teVB0Mil9dHJ5TW92ZVRocm91Z2hDcm9zc3JvYWRCYWNrd2FyZHMoZSx0KXtjb25zdCBzPXRoaXMubV90b3BvR3JhcGguZ2V0SGFsZkVkZ2VQcmV2KGUpLG49dGhpcy5tX3RvcG9HcmFwaC5nZXRIYWxmRWRnZVR3aW4ocyk7aWYoIXQpe2lmKHRoaXMubV90b3BvR3JhcGguaXNTdHJvbmdQYXRoTm9kZSh0aGlzLm1fdG9wb0dyYXBoLmdldEhhbGZFZGdlT3JpZ2luKGUpKSlyZXR1cm4gTTtjb25zdCB0PXRoaXMubV90b3BvR3JhcGguZ2V0SGFsZkVkZ2VUd2luKGUpO2lmKG49PT10aGlzLm1fdG9wb0dyYXBoLmdldEhhbGZFZGdlTmV4dCh0KSlyZXR1cm4gc31sZXQgcj1uLGk9TTtmb3IoO3IhPT1lOyl7Y29uc3QgZT10aGlzLmdldENvbWJpbmVkSGFsZkVkZ2VQYXJlbnRhZ2Uocik7aWYodGhpcy5pc0dvb2RQYXJlbnRhZ2UoZSkpe2lmKGkhPT1NKXJldHVybiBNO2k9dGhpcy5tX3RvcG9HcmFwaC5nZXRIYWxmRWRnZVR3aW4ocil9cj10aGlzLm1fdG9wb0dyYXBoLmdldEhhbGZFZGdlVHdpbih0aGlzLm1fdG9wb0dyYXBoLmdldEhhbGZFZGdlUHJldihyKSl9cmV0dXJuIGl9dHJ5TW92ZVRocm91Z2hDcm9zc3JvYWRGb3J3YXJkKGUsdCl7Y29uc3Qgcz10aGlzLm1fdG9wb0dyYXBoLmdldEhhbGZFZGdlTmV4dChlKSxuPXRoaXMubV90b3BvR3JhcGguZ2V0SGFsZkVkZ2VUd2luKHMpO2lmKCF0KXtjb25zdCB0PXRoaXMubV90b3BvR3JhcGguZ2V0SGFsZkVkZ2VUd2luKGUpO2lmKHRoaXMubV90b3BvR3JhcGguaXNTdHJvbmdQYXRoTm9kZSh0aGlzLm1fdG9wb0dyYXBoLmdldEhhbGZFZGdlT3JpZ2luKHQpKSlyZXR1cm4gTTtpZihuPT09dGhpcy5tX3RvcG9HcmFwaC5nZXRIYWxmRWRnZVByZXYodCkpcmV0dXJuIHN9bGV0IHI9bixpPU07Zm9yKDtyIT09ZTspe2NvbnN0IGU9dGhpcy5nZXRDb21iaW5lZEhhbGZFZGdlUGFyZW50YWdlKHIpO2lmKHRoaXMuaXNHb29kUGFyZW50YWdlKGUpKXtpZihpIT09TSlyZXR1cm4gTTtpPXRoaXMubV90b3BvR3JhcGguZ2V0SGFsZkVkZ2VUd2luKHIpfXI9dGhpcy5tX3RvcG9HcmFwaC5nZXRIYWxmRWRnZVR3aW4odGhpcy5tX3RvcG9HcmFwaC5nZXRIYWxmRWRnZU5leHQocikpfXJldHVybiBpfWlzT25BTG9vcChlLHQpe2xldCBzPWU7Y29uc3Qgbj0yKnRoaXMubV90b3BvR3JhcGguZ2V0U2hhcGUoKS5nZXRUb3RhbFBvaW50Q291bnQoKSsxMDtmb3IobGV0IHI9MDtyPG47cisrKXtpZigxPT09dGhpcy5tX3RvcG9HcmFwaC5nZXRIYWxmRWRnZVVzZXJJbmRleChzLHQpKXJldHVybiExO2NvbnN0IG49dGhpcy5tX3RvcG9HcmFwaC5nZXRIYWxmRWRnZU5leHQocyk7aWYobj09PXRoaXMubV90b3BvR3JhcGguZ2V0SGFsZkVkZ2VUd2luKHMpKXJldHVybiExO2lmKHM9bixzPT09ZSlyZXR1cm4hMH1pKFwiaXNfb25fYV9sb29wX1wiKX1yZXN0b3JlUG9seWxpbmVQYXJ0cyhlLHQscyxuLHIsaSxvLGgsbSxsKXthKHI9PT1NJiZpPj0wJiZvPj0wfHwtMT09PWkmJi0xPT09byksYSgtMT09PWgmJjEhPT1sLnVuc3BsaXRCZWhhdmlvcnx8LTEhPT1oJiYxPT09bC51bnNwbGl0QmVoYXZpb3IpO2NvbnN0IGc9bC5vZ2NSdWxlLHU9bC5hbGxDcm9zc1JvYWRzSW1wYXNzYWJsZSxjPTE9PT1sLnVuc3BsaXRCZWhhdmlvcixfPTA9PT1sLnVuc3BsaXRCZWhhdmlvcixkPXRoaXMubV90b3BvR3JhcGguZ2V0U2hhcGUoKSxwPWQuaGFzU2VnbWVudFBhcmVudGFnZSgpO2xldCBmPWUseD10aGlzLm1fdG9wb0dyYXBoLmdldEhhbGZFZGdlVHdpbihmKTtjb25zdCB5PW5ldyBGO3RoaXMubV9mcm9tRWRnZUZvclBvbHlsaW5lcz1NO2xldCBQPXRoaXMucHJldmFpbGluZ0RpcmVjdGlvbihkLGYpLEU9ZixTPU0sQz0hMSxJPSExLGI9ITE7aWYoIWMpZm9yKDs7KXtjb25zdCB0PXRoaXMubV90b3BvR3JhcGguZ2V0SGFsZkVkZ2VQcmV2KGYpO2lmKHQ9PT14KXtiPSEwO2JyZWFrfWNvbnN0IG49dGhpcy5tX3RvcG9HcmFwaC5nZXRIYWxmRWRnZU5leHQoeCk7aWYodGhpcy5tX3RvcG9HcmFwaC5pc1N0cm9uZ1BhdGhOb2RlKHRoaXMubV90b3BvR3JhcGguZ2V0SGFsZkVkZ2VPcmlnaW4obikpKXtDPSEwO2JyZWFrfWlmKHRoaXMubV90b3BvR3JhcGguZ2V0SGFsZkVkZ2VUd2luKHQpIT09bil7aWYodSl7Qz0hMDticmVha31pZihmPXRoaXMudHJ5TW92ZVRocm91Z2hDcm9zc3JvYWRCYWNrd2FyZHMoZiwhMCksZj09PU0pe0M9ITA7YnJlYWt9eD10aGlzLm1fdG9wb0dyYXBoLmdldEhhbGZFZGdlVHdpbihmKX1lbHNlIGY9dCx4PW47aWYoMT09PXRoaXMubV90b3BvR3JhcGguZ2V0SGFsZkVkZ2VVc2VySW5kZXgoZixzKSl7Yj0hMDticmVha31pZihmPT09ZSl7Uz1lLEk9ITA7YnJlYWt9Y29uc3Qgcj10aGlzLmdldENvbWJpbmVkSGFsZkVkZ2VQYXJlbnRhZ2UoZik7aWYoIXRoaXMuaXNHb29kUGFyZW50YWdlKHIpKWJyZWFrO0U9ZixQKz10aGlzLnByZXZhaWxpbmdEaXJlY3Rpb24oZCxmKX1pZihTPT09TSl7Zm9yKGY9ZSx4PXRoaXMubV90b3BvR3JhcGguZ2V0SGFsZkVkZ2VUd2luKGYpLFM9Zjs7KXtjb25zdCBlPXRoaXMubV90b3BvR3JhcGguZ2V0SGFsZkVkZ2VOZXh0KGYpLHQ9dGhpcy5tX3RvcG9HcmFwaC5pc1N0cm9uZ1BhdGhOb2RlKHRoaXMubV90b3BvR3JhcGguZ2V0SGFsZkVkZ2VPcmlnaW4oZSkpO2lmKHQpe0M9ITA7YnJlYWt9aWYoZT09PXgpe2I9ITA7YnJlYWt9aWYoLTEhPT1oKXtjb25zdCBlPXRoaXMubV90b3BvR3JhcGguZ2V0SGFsZkVkZ2VPcmlnaW4oeCk7aWYoMT09PXRoaXMubV90b3BvR3JhcGguZ2V0Q2x1c3RlclVzZXJJbmRleChlLGgpKXtDPSEwO2JyZWFrfX1jb25zdCBuPXRoaXMubV90b3BvR3JhcGguZ2V0SGFsZkVkZ2VQcmV2KHgpO2lmKHRoaXMubV90b3BvR3JhcGguZ2V0SGFsZkVkZ2VUd2luKGUpIT09bil7aWYodHx8dSl7Qz0hMDticmVha31pZihmPXRoaXMudHJ5TW92ZVRocm91Z2hDcm9zc3JvYWRGb3J3YXJkKGYsITApLGY9PT1NKXtDPSEwO2JyZWFrfXg9dGhpcy5tX3RvcG9HcmFwaC5nZXRIYWxmRWRnZVR3aW4oZil9ZWxzZSBmPWUseD1uO2lmKDE9PT10aGlzLm1fdG9wb0dyYXBoLmdldEhhbGZFZGdlVXNlckluZGV4KGYscykpe2I9ITA7YnJlYWt9Y29uc3Qgcj10aGlzLmdldENvbWJpbmVkSGFsZkVkZ2VQYXJlbnRhZ2UoZik7aWYoIXRoaXMuaXNHb29kUGFyZW50YWdlKHIpKWJyZWFrO1M9ZixQKz10aGlzLnByZXZhaWxpbmdEaXJlY3Rpb24oZCxmKX1jb25zdCB0PXRoaXMubV90b3BvR3JhcGguZ2V0SGFsZkVkZ2VPcmlnaW4oRSk7ST10aGlzLm1fdG9wb0dyYXBoLmdldEhhbGZFZGdlVG8oUyk9PT10fWVsc2UgaWYodGhpcy5tX2Zyb21FZGdlRm9yUG9seWxpbmVzIT09TSl7RT1lLFM9dGhpcy50cnlNb3ZlVGhyb3VnaENyb3Nzcm9hZEJhY2t3YXJkcyhFLCExKSxhKFMhPT1NKTtjb25zdCB0PXRoaXMubV90b3BvR3JhcGguZ2V0SGFsZkVkZ2VUd2luKEUpO3RoaXMubV90b3BvR3JhcGguZ2V0SGFsZkVkZ2VOZXh0KHQpfWxldCB3PUk7SXx8Ynx8bSYmKHc9dGhpcy5pc09uQUxvb3AoZSxzKSx3fHwodz10aGlzLmlzT25BTG9vcCh4LHMpKSk7Y29uc3Qgdj1QPj0wO2xldCBOPSExO3cmJkMmJihJPyhOPWcsdiYmKE58fGN8fF8pJiZFIT09ZSYmKGEoIWMpLEU9ZSxOPSExKSk6KGN8fHYmJl8pJiYoRT1lKSk7bGV0IFQ9MDtmb3IoZj1FO3g9dGhpcy5tX3RvcG9HcmFwaC5nZXRIYWxmRWRnZVR3aW4oZiksdGhpcy5tX3RvcG9HcmFwaC5zZXRIYWxmRWRnZVVzZXJJbmRleChmLHMsMSksdGhpcy5tX3RvcG9HcmFwaC5zZXRIYWxmRWRnZVVzZXJJbmRleCh4LHMsMSksVCsrLGYhPT1TOylmPXU/dGhpcy5tX3RvcG9HcmFwaC5nZXRIYWxmRWRnZU5leHQoZik6dGhpcy50cnlNb3ZlVGhyb3VnaENyb3Nzcm9hZEZvcndhcmQoZiwhMSk7dnx8KFM9cnQoRSxFPVMpLFM9dGhpcy5tX3RvcG9HcmFwaC5nZXRIYWxmRWRnZVR3aW4oUyksRT10aGlzLm1fdG9wb0dyYXBoLmdldEhhbGZFZGdlVHdpbihFKSk7bGV0IEc9ZC5pbnNlcnRQYXRoKHQsTSk7Zj1FO2NvbnN0IEQ9dGhpcy5tX3RvcG9HcmFwaC5nZXRIYWxmRWRnZU9yaWdpbihFKTtsZXQgVjtWPS0xIT09aT90aGlzLmNob29zZVZlcnRleEJ5T3JkZXIoRCxkLGksbyk6dGhpcy5jaG9vc2VWZXJ0ZXhGcm9tQ2x1c3Rlcl8oRCxyKSx0aGlzLm1fdG9wb0dyYXBoLmlzU3Ryb25nUGF0aE5vZGUoRCkmJmQuc2V0U3Ryb25nUGF0aFN0YXJ0KEcsITApO2xldCBIPWQuYWRkVmVydGV4KEcsViksaz1IOy0xIT09biYmdGhpcy5tX3RvcG9HcmFwaC5zZXRDbHVzdGVyVXNlckluZGV4KEQsbiwxKTtsZXQgQT0wO2NvbnN0IFU9Tj9NYXRoLnRydW5jKChUKzEpLzIpOi0xO2xldCBxPU0sQj0hMCxPPU07Zm9yKDs7KXtpZihwKXtjb25zdCBlPXRoaXMubV90b3BvR3JhcGguZ2V0U2VnbWVudFBhcmVudGFnZShmKSx0PXRoaXMubV90b3BvR3JhcGguZ2V0SGFsZkVkZ2VPcmlnaW4oZik7ZC5zZXRTZWdtZW50UGFyZW50YWdlQW5kQnJlYWsoayxlLEJ8fHRoaXMubV90b3BvR3JhcGguaXNCcmVha05vZGUodCkpfUI9ITEsdGhpcy5tX3RvcG9HcmFwaC5pc0hhbGZFZGdlQ3VydmUoZikmJih0aGlzLm1fdG9wb0dyYXBoLnF1ZXJ5U2VnbWVudFhZKGYseSksZC5zZXRTZWdtZW50VG9JbmRleChkLmdldFZlcnRleEluZGV4KGspLHkuZ2V0KCkuY2xvbmUoKSkpLHEhPT1NJiYtMSE9PW8mJmQuYWRkVG9Vc2VySW5kZXgocSxvLC0xKTtjb25zdCBlPXU/dGhpcy5tX3RvcG9HcmFwaC5nZXRIYWxmRWRnZU5leHQoZik6dGhpcy50cnlNb3ZlVGhyb3VnaENyb3Nzcm9hZEZvcndhcmQoZiwhMSkscz10aGlzLm1fdG9wb0dyYXBoLmdldEhhbGZFZGdlVG8oZik7bGV0IGE7aWYoYT0tMSE9PWk/dGhpcy5jaG9vc2VWZXJ0ZXhCeU9yZGVyKHMsZCxpLG8pOnRoaXMuY2hvb3NlVmVydGV4RnJvbUNsdXN0ZXJfKHMsciksSD1kLmFkZFZlcnRleChHLGEpLE89cywtMSE9PW4mJnRoaXMubV90b3BvR3JhcGguc2V0Q2x1c3RlclVzZXJJbmRleChzLG4sMSkscCYmdGhpcy5tX3RvcG9HcmFwaC5pc0JyZWFrTm9kZShzKSYmZC5zZXRTZWdtZW50UGFyZW50YWdlQnJlYWtWZXJ0ZXgoSCwhMCkscT1hLEErKyxOJiZBPT09VSYmKEc9ZC5pbnNlcnRQYXRoKHQsTSksSD1kLmFkZFZlcnRleChHLGEpLEI9ITAsLTEhPT1vJiZkLmFkZFRvVXNlckluZGV4KGEsbywtMSkscT1NKSxmPT09UylicmVhaztmPWUsaz1IfU8hPT1NJiZ0aGlzLm1fdG9wb0dyYXBoLmlzU3Ryb25nUGF0aE5vZGUoTykmJmQuc2V0U3Ryb25nUGF0aEVuZChHLCEwKX10b3BvT3BlcmF0aW9uUG9seWxpbmVTaW1wbGlmeV8oZSx0KXtyZXR1cm4gdGhpcy50b3BvT3BlcmF0aW9uUG9seWxpbmVTaW1wbGlmeU9yUG9seWxpbmVUb3BvSGVscGVyXyhlLE0sITEsdCkuZmlyc3R9dG9wb09wZXJhdGlvblBvbHlsaW5lU2ltcGxpZnlPclBvbHlsaW5lVG9wb0hlbHBlcl8oZSx0LHMscil7YSh0PT09TXx8ZT09PU0pO2NvbnN0IGk9dGhpcy5tX3RvcG9HcmFwaC5nZXRTaGFwZSgpLG89dD0+dD1lPT09TT90PT09TT9pLmdldEZpcnN0R2VvbWV0cnkoKTppLmdldE5leHRHZW9tZXRyeSh0KTp0PT09TT9lOk0saD1pLmNyZWF0ZUdlb21ldHJ5KG4uZW51bVBvbHlsaW5lKTtsZXQgbT0tMTtzJiYobT10aGlzLm1fdG9wb0dyYXBoLmNyZWF0ZVVzZXJJbmRleEZvckNsdXN0ZXJzKCkpO2NvbnN0IGw9dGhpcy5tX3RvcG9HcmFwaC5jcmVhdGVVc2VySW5kZXhGb3JIYWxmRWRnZXMoKSxnPXQ9PT1NP2kuY3JlYXRlVXNlckluZGV4KCk6LTEsdT10PT09TT9pLmNyZWF0ZVVzZXJJbmRleCgpOi0xO2xldCBjPS0xO2lmKDE9PT1yLnVuc3BsaXRCZWhhdmlvcil7Yz10aGlzLm1fdG9wb0dyYXBoLmNyZWF0ZVVzZXJJbmRleEZvckNsdXN0ZXJzKCk7Zm9yKGxldCBlPW8oTSk7ZSE9PU07ZT1vKGUpKWZvcihsZXQgdD1pLmdldEZpcnN0UGF0aChlKTt0IT09TTt0PWkuZ2V0TmV4dFBhdGgodCkpe3tjb25zdCBlPWkuZ2V0Rmlyc3RWZXJ0ZXgodCkscz10aGlzLm1fdG9wb0dyYXBoLmdldENsdXN0ZXJGcm9tVmVydGV4KGUpO3RoaXMubV90b3BvR3JhcGguc2V0Q2x1c3RlclVzZXJJbmRleChzLGMsMSl9aWYoIWkuaXNDbG9zZWRQYXRoKHQpKXtjb25zdCBlPWkuZ2V0TGFzdFZlcnRleCh0KSxzPXRoaXMubV90b3BvR3JhcGguZ2V0Q2x1c3RlckZyb21WZXJ0ZXgoZSk7dGhpcy5tX3RvcG9HcmFwaC5zZXRDbHVzdGVyVXNlckluZGV4KHMsYywxKX19fWlmKHQ9PT1NKXtsZXQgZT0wO2ZvcihsZXQgdD1vKE0pO3QhPT1NO3Q9byh0KSlmb3IobGV0IHM9aS5nZXRGaXJzdFBhdGgodCk7cyE9PU07cz1pLmdldE5leHRQYXRoKHMpKXtpZihpLmlzQ2xvc2VkUGF0aChzKSl7bGV0IHQ9aS5nZXRGaXJzdFZlcnRleChzKTtmb3IobGV0IG49MCxyPWkuZ2V0UGF0aFNpemUocyk7bjxyO24rKyx0PWkuZ2V0TmV4dFZlcnRleCh0KSlpLnNldFVzZXJJbmRleCh0LGcsZSsrKSxpLnNldFVzZXJJbmRleCh0LHUsMil9ZWxzZXtjb25zdCB0PWkuZ2V0Rmlyc3RWZXJ0ZXgocyk7aS5zZXRVc2VySW5kZXgodCxnLGUrKyksaS5zZXRVc2VySW5kZXgodCx1LDEpO2xldCBuPWkuZ2V0TmV4dFZlcnRleCh0KTtmb3IobGV0IHI9MSxvPWkuZ2V0UGF0aFNpemUocyktMTtyPG87KytyKWkuc2V0VXNlckluZGV4KG4sZyxlKyspLGkuc2V0VXNlckluZGV4KG4sdSwyKSxuPWkuZ2V0TmV4dFZlcnRleChuKTtpLnNldFVzZXJJbmRleChuLGcsZSsrKSxpLnNldFVzZXJJbmRleChuLHUsMSl9fX1mb3IobGV0IG49byhNKTtuIT09TTtuPW8obikpZm9yKGxldCBlPWkuZ2V0Rmlyc3RQYXRoKG4pO2UhPT1NO2U9aS5nZXROZXh0UGF0aChlKSl7bGV0IHM9aS5nZXRGaXJzdFZlcnRleChlKTtmb3IobGV0IG49MCxvPWkuZ2V0UGF0aFNpemUoZSk7bjxvO24rKyxzPWkuZ2V0TmV4dFZlcnRleChzKSl7Y29uc3QgZT10aGlzLm1fdG9wb0dyYXBoLmdldEhhbGZFZGdlRnJvbVZlcnRleChzKTtpZihlPT09TSljb250aW51ZTtpZigxPT09dGhpcy5tX3RvcG9HcmFwaC5nZXRIYWxmRWRnZVVzZXJJbmRleChlLGwpKWNvbnRpbnVlO2NvbnN0IGk9dGhpcy5nZXRDb21iaW5lZEhhbGZFZGdlUGFyZW50YWdlKGUpO2lmKHRoaXMuaXNHb29kUGFyZW50YWdlKGkpKXtjb25zdCBzPTA9PT1uO3RoaXMucmVzdG9yZVBvbHlsaW5lUGFydHMoZSxoLGwsbSx0LGcsdSxjLHMscil9fX1sZXQgXz1NO2lmKHMpe189aS5jcmVhdGVHZW9tZXRyeShuLmVudW1NdWx0aVBvaW50KTtsZXQgZT1NO2ZvcihsZXQgcz10aGlzLm1fdG9wb0dyYXBoLmdldEZpcnN0Q2x1c3RlcigpO3MhPT1NO3M9dGhpcy5tX3RvcG9HcmFwaC5nZXROZXh0Q2x1c3RlcihzKSl7dGhpcy5wcm9ncmVzc18oKTtpZigxIT09dGhpcy5tX3RvcG9HcmFwaC5nZXRDbHVzdGVyVXNlckluZGV4KHMsbSkpe2NvbnN0IG49dGhpcy5tX3RvcG9HcmFwaC5nZXRDbHVzdGVyUGFyZW50YWdlKHMpO2lmKHRoaXMuaXNHb29kUGFyZW50YWdlKG4pKXtlPT09TSYmKGU9aS5pbnNlcnRQYXRoKF8sTSkpO2NvbnN0IG49dGhpcy5tX3RvcG9HcmFwaC5nZXRDbHVzdGVyVmVydGV4SXRlcmF0b3Iocyk7aWYobiE9PU0pe2xldCByO3RoaXMubV90b3BvR3JhcGguZ2V0VmVydGV4RnJvbVZlcnRleEl0ZXJhdG9yKG4pLHI9LTEhPT1nP3RoaXMuY2hvb3NlVmVydGV4QnlPcmRlcihzLGksZyx1KTp0aGlzLmNob29zZVZlcnRleEZyb21DbHVzdGVyXyhzLHQpLGkuYWRkVmVydGV4KGUscil9fX19fXJldHVybi0xIT09dSYmaS5yZW1vdmVVc2VySW5kZXgodSksLTEhPT1nJiZpLnJlbW92ZVVzZXJJbmRleChnKSwtMSE9PW0mJmkucmVtb3ZlVXNlckluZGV4KG0pLHRoaXMubV90b3BvR3JhcGguZGVsZXRlVXNlckluZGV4Rm9ySGFsZkVkZ2VzKGwpLG10KGgsXyl9ZGlmZmVyZW5jZShlLHQpe2NvbnN0IHM9dGhpcy5tX3RvcG9HcmFwaC5nZXRTaGFwZSgpLmdldEdlb21ldHJ5VHlwZShlKSxuPXRoaXMubV90b3BvR3JhcGguZ2V0U2hhcGUoKS5nZXRHZW9tZXRyeVR5cGUodCkscj1tKHMpLG89bShuKTtpZihyPm8pcmV0dXJuIGU7Y29uc3QgYT10aGlzLm1fdG9wb0dyYXBoLmdldEdlb21ldHJ5SUQoZSksaD10aGlzLm1fdG9wb0dyYXBoLmdldEdlb21ldHJ5SUQodCk7aWYodGhpcy5tX21hc2tMb29rdXAubGVuZ3RoPTAsdGhpcy5tX21hc2tMb29rdXAubGVuZ3RoPTErKGF8aCksdGhpcy5tX21hc2tMb29rdXBbYV09ITAsMj09PXImJjI9PT1vKXtsZXQgcz1NO3JldHVybiB0aGlzLm1fdG9wb0dyYXBoLmdldFNoYXBlKCkuZ2V0VmVydGV4RGVzY3JpcHRpb24oKS5nZXRBdHRyaWJ1dGVDb3VudCgpPjEmJihzPWUpLHRoaXMudG9wb09wZXJhdGlvblBvbHlnb25Qb2x5Z29uXyhlLHQscyl9aWYoMT09PXImJjI9PT1vKXtjb25zdCB0PUhhKCk7cmV0dXJuIHQuYWxsQ3Jvc3NSb2Fkc0ltcGFzc2FibGU9ITEsdC5vZ2NSdWxlPXRoaXMubV9iT0dDT3V0cHV0LHQudW5zcGxpdEJlaGF2aW9yPTAsdGhpcy50b3BvT3BlcmF0aW9uUG9seWxpbmVTaW1wbGlmeU9yUG9seWxpbmVUb3BvSGVscGVyXyhlLE0sITEsdCkuZmlyc3R9aWYoMT09PXImJjE9PT1vKXtjb25zdCB0PUhhKCk7cmV0dXJuIHQuYWxsQ3Jvc3NSb2Fkc0ltcGFzc2FibGU9ITAsdC5vZ2NSdWxlPXRoaXMubV9iT0dDT3V0cHV0LHQudW5zcGxpdEJlaGF2aW9yPTAsdGhpcy50b3BvT3BlcmF0aW9uUG9seWxpbmVTaW1wbGlmeU9yUG9seWxpbmVUb3BvSGVscGVyXyhlLE0sITEsdCkuZmlyc3R9aWYoMD09PXIpcmV0dXJuIHRoaXMudG9wb09wZXJhdGlvbk11bHRpUG9pbnRfKCk7aShcIlwiKX1zeW1tZXRyaWNEaWZmZXJlbmNlKGUsdCl7Y29uc3Qgcz10aGlzLm1fdG9wb0dyYXBoLmdldFNoYXBlKCkuZ2V0R2VvbWV0cnlUeXBlKGUpLG49dGhpcy5tX3RvcG9HcmFwaC5nZXRTaGFwZSgpLmdldEdlb21ldHJ5VHlwZSh0KSxyPVZhKHMpLG89VmEobiksaD10aGlzLm1fdG9wb0dyYXBoLmdldEdlb21ldHJ5SUQoZSksbT10aGlzLm1fdG9wb0dyYXBoLmdldEdlb21ldHJ5SUQodCk7cmV0dXJuIGEoaD49MCksYShtPj0wKSx0aGlzLm1fbWFza0xvb2t1cC5sZW5ndGg9MCx0aGlzLm1fbWFza0xvb2t1cC5sZW5ndGg9MSsoaHxtKSx0aGlzLm1fbWFza0xvb2t1cFtoXT0hMCx0aGlzLm1fbWFza0xvb2t1cFtoXT0hMCx0aGlzLm1fbWFza0xvb2t1cFttXT0hMCwyPT09ciYmMj09PW8/dGhpcy50b3BvT3BlcmF0aW9uUG9seWdvblBvbHlnb25fKGUsdCxNKToxPT09ciYmMT09PW8/dGhpcy50b3BvT3BlcmF0aW9uUG9seWxpbmVfKE0sdGhpcy5tX2JPR0NPdXRwdXQpOjA9PT1yJiYwPT09bz90aGlzLnRvcG9PcGVyYXRpb25NdWx0aVBvaW50KCk6dm9pZCBpKFwiXCIpfXBsYW5hclNpbXBsaWZ5Tm9DcmFja2luZ0FuZENsdXN0ZXIoZSx0LHMscil7dGhpcy5tX2JPR0NPdXRwdXQ9ZSx0aGlzLm1fdG9wb0dyYXBoPW5ldyB0bjtjb25zdCBvPXQuZ2V0RmlsbFJ1bGUocyksaD10LmdldEdlb21ldHJ5VHlwZShzKTtpZigxIT09b3x8aD09PW4uZW51bU11bHRpUG9pbnQ/dGhpcy5tX3RvcG9HcmFwaC5zZXRBbmRTaW1wbGlmeUVkaXRTaGFwZUFsdGVybmF0ZSh0LHMsdGhpcy5tX3Byb2dyZXNzVHJhY2tlcik6dGhpcy5tX3RvcG9HcmFwaC5zZXRBbmRTaW1wbGlmeUVkaXRTaGFwZVdpbmRpbmcodCxzLHRoaXMubV9wcm9ncmVzc1RyYWNrZXIpLHRoaXMubV90b3BvR3JhcGguZGlydHlDaGVja0ZhaWxlZCgpKXJldHVybiExO3RoaXMubV90b3BvR3JhcGguc2V0Q2hlY2tEaXJ0eVBsYW5lc3dlZXBUb2xlcmFuY2UoTnVtYmVyLk5hTik7Y29uc3QgbT10aGlzLm1fdG9wb0dyYXBoLmdldEdlb21ldHJ5SUQocyk7aWYoYShtPj0wKSx0aGlzLm1fbWFza0xvb2t1cC5sZW5ndGg9MCx0aGlzLm1fbWFza0xvb2t1cC5sZW5ndGg9bSsxLHRoaXMubV9tYXNrTG9va3VwW21dPSEwLHQuZ2V0R2VvbWV0cnlUeXBlKHMpPT09bi5lbnVtUG9seWdvbnx8MT09PW8mJnQuZ2V0R2VvbWV0cnlUeXBlKHMpIT09bi5lbnVtTXVsdGlQb2ludCl7dC5zZXRGaWxsUnVsZShzLDApO2NvbnN0IG49dGhpcy50b3BvT3BlcmF0aW9uUG9seWdvblBvbHlnb25fKHMsTSxNKTtpZih0LnN3YXBHZW9tZXRyeShuLHMpLHQucmVtb3ZlR2VvbWV0cnkobiksMT09PW8mJnRoaXMubV9iT0dDT3V0cHV0KXJldHVybiB0aGlzLnBsYW5hclNpbXBsaWZ5Tm9DcmFja2luZ0FuZENsdXN0ZXIoZSx0LHMscil9ZWxzZSBpZih0LmdldEdlb21ldHJ5VHlwZShzKT09PW4uZW51bVBvbHlsaW5lKXtjb25zdCBlPUhhKCk7ZS5vZ2NSdWxlPXRoaXMubV9iT0dDT3V0cHV0LGUuYWxsQ3Jvc3NSb2Fkc0ltcGFzc2FibGU9ITAsZS51bnNwbGl0QmVoYXZpb3I9cjtjb25zdCBuPXRoaXMudG9wb09wZXJhdGlvblBvbHlsaW5lU2ltcGxpZnlfKHQuZ2V0Rmlyc3RHZW9tZXRyeSgpLGUpO3Quc3dhcEdlb21ldHJ5KG4scyksdC5yZW1vdmVHZW9tZXRyeShuKX1lbHNlIGlmKHQuZ2V0R2VvbWV0cnlUeXBlKHMpPT09bi5lbnVtTXVsdGlQb2ludCl7Y29uc3QgZT10aGlzLnRvcG9PcGVyYXRpb25NdWx0aVBvaW50XygpO3Quc3dhcEdlb21ldHJ5KGUscyksdC5yZW1vdmVHZW9tZXRyeShlKX1lbHNlIGkoXCJcIik7cmV0dXJuITB9dW5zcGxpdFBvbHlsaW5lRXhhY3QoZSl7cmV0dXJuIGEoMCksbmV3IEl9cGxhbmFyU2ltcGxpZnlQb2x5bGluZXMoZSx0LHMscixpKXtmb3IobGV0IF89ZS5nZXRGaXJzdEdlb21ldHJ5KCk7XyE9PU07Xz1lLmdldE5leHRHZW9tZXRyeShfKSl7Y29uc3QgdD1lLmdldEdlb21ldHJ5VHlwZShfKTthKHQ9PT1uLmVudW1Qb2x5bGluZSl9bGV0IG89MCxoPTAsbT1udWxsO2lmKGUuaGFzQ3VydmVzKCkmJiFlLmhhc1NlZ21lbnRQYXJlbnRhZ2UoKSl7bT1uZXcgZmE7Y29uc3Qgcz1lLmdldEVudmVsb3BlMkQodGhpcy5tX3Byb2dyZXNzVHJhY2tlcik7aD1kYSh0LnRvdGFsKCkpO2NvbnN0IG49X2EodC50b3RhbCgpLHMpO289cGEobixoKSxhYShlLG4sdC50b3RhbCgpLDEyZTMsbSxudWxsLHRoaXMubV9wcm9ncmVzc1RyYWNrZXIpfXtjb25zdCBzPUlhKHQuYWRkKG8pKTtlLmZpbHRlckNsb3NlUG9pbnRzKHMsITEsITEsITEsTSl9aWYodGhpcy5tX3RvcG9HcmFwaD1uZXcgdG4sNCE9PWkmJjUhPT1pKWlmKG51bGw9PT1tJiZzKXtjb25zdCBuPW5ldyBEbih0aGlzLm1fcHJvZ3Jlc3NUcmFja2VyLCExKTtuLnN3ZWVwVmVydGljYWwoZSx0LnRvdGFsKCkpLG4uaGFkQ29tcGxpY2F0aW9ucygpPyh5YShlLHQsdGhpcy5tX3Byb2dyZXNzVHJhY2tlciwhMCwhMSkscz0hMSk6dGhpcy5tX3RvcG9HcmFwaC5zZXRDaGVja0RpcnR5UGxhbmVzd2VlcFRvbGVyYW5jZSh0LnRvdGFsKCkpfWVsc2UgeWEoZSx0LmFkZChvKSx0aGlzLm1fcHJvZ3Jlc3NUcmFja2VyLCEwLCExKSxzPSExO2Vsc2Ugcz0hMTtlLnJlbW92ZVNlbGVjdGlvbigpLGUuY29sbGFwc2VBbGxHZW9tZXRyaWVzVG9GaXJzdCgpO2NvbnN0IGw9ZS5nZXRGaXJzdEdlb21ldHJ5KCk7aWYodGhpcy5tX3RvcG9HcmFwaC5zZXRBbmRTaW1wbGlmeUVkaXRTaGFwZUFsdGVybmF0ZShlLGwsdGhpcy5tX3Byb2dyZXNzVHJhY2tlciksdGhpcy5tX3RvcG9HcmFwaC5kaXJ0eUNoZWNrRmFpbGVkKCkpcmV0dXJuIGEocyYmbnVsbD09PW0pLHRoaXMubV90b3BvR3JhcGgucmVtb3ZlU2hhcGUoKSx0aGlzLm1fdG9wb0dyYXBoPW51bGwsdGhpcy5wbGFuYXJTaW1wbGlmeVBvbHlsaW5lcyhlLHQsITEsciwtMSk7dGhpcy5tX3RvcG9HcmFwaC5zZXRDaGVja0RpcnR5UGxhbmVzd2VlcFRvbGVyYW5jZShOdW1iZXIuTmFOKTtjb25zdCBnPXRoaXMubV90b3BvR3JhcGguZ2V0R2VvbWV0cnlJRChsKTthKGc+PTApLHRoaXMubV9tYXNrTG9va3VwLmxlbmd0aD0wLHRoaXMubV9tYXNrTG9va3VwLmxlbmd0aD1nKzEsdGhpcy5tX21hc2tMb29rdXBbZ109ITA7Y29uc3QgdT10aGlzLnRvcG9PcGVyYXRpb25Qb2x5bGluZVNpbXBsaWZ5XyhlLmdldEZpcnN0R2VvbWV0cnkoKSxyKTtudWxsIT09bSYmbS5zdGl0Y2hDdXJ2ZXMoZSx1LGgsITApO2NvbnN0IGM9ZS5nZXRHZW9tZXRyeSh1KTtyZXR1cm4gc3x8Yy5nZXRJbXBsKCkuc2V0SXNTaW1wbGUoNCx0LnRvdGFsKCkpLGN9cGxhbmFyU2ltcGxpZnlNdWx0aVBvaW50cyhlLHQscyxyKXtmb3IobGV0IGw9ZS5nZXRGaXJzdEdlb21ldHJ5KCk7bCE9PU07bD1lLmdldE5leHRHZW9tZXRyeShsKSl7Y29uc3QgdD1lLmdldEdlb21ldHJ5VHlwZShsKTthKHQ9PT1uLmVudW1NdWx0aVBvaW50KX10aGlzLm1fdG9wb0dyYXBoPW5ldyB0biw0IT09ciYmNSE9PXI/KHlhKGUsdCx0aGlzLm1fcHJvZ3Jlc3NUcmFja2VyLCEwLCExKSxzPSExKTpzPSExLGUucmVtb3ZlU2VsZWN0aW9uKCksZS5jb2xsYXBzZUFsbEdlb21ldHJpZXNUb0ZpcnN0KCk7Y29uc3QgaT1lLmdldEZpcnN0R2VvbWV0cnkoKTtpZih0aGlzLm1fdG9wb0dyYXBoLnNldEFuZFNpbXBsaWZ5RWRpdFNoYXBlQWx0ZXJuYXRlKGUsaSx0aGlzLm1fcHJvZ3Jlc3NUcmFja2VyKSx0aGlzLm1fdG9wb0dyYXBoLmRpcnR5Q2hlY2tGYWlsZWQoKSlyZXR1cm4gYShzKSx0aGlzLm1fdG9wb0dyYXBoLnJlbW92ZVNoYXBlKCksdGhpcy5tX3RvcG9HcmFwaD1udWxsLHRoaXMucGxhbmFyU2ltcGxpZnlNdWx0aVBvaW50cyhlLHQsITEsLTEpO3RoaXMubV90b3BvR3JhcGguc2V0Q2hlY2tEaXJ0eVBsYW5lc3dlZXBUb2xlcmFuY2UoTnVtYmVyLk5hTik7Y29uc3Qgbz10aGlzLm1fdG9wb0dyYXBoLmdldEdlb21ldHJ5SUQoaSk7YShvPj0wKSx0aGlzLm1fbWFza0xvb2t1cC5sZW5ndGg9MCx0aGlzLm1fbWFza0xvb2t1cC5sZW5ndGg9bysxLHRoaXMubV9tYXNrTG9va3VwW29dPSEwO2NvbnN0IGg9dGhpcy50b3BvT3BlcmF0aW9uTXVsdGlQb2ludCgpLG09ZS5nZXRHZW9tZXRyeShoKTtyZXR1cm4gc3x8bS5nZXRJbXBsKCkuc2V0SXNTaW1wbGUoNCx0LnRvdGFsKCkpLG19cGxhbmFyU2ltcGxpZnlQb2x5Z29ucyhlLHQscyxyLGksbyl7Zm9yKGxldCBmPWUuZ2V0Rmlyc3RHZW9tZXRyeSgpO2YhPT1NO2Y9ZS5nZXROZXh0R2VvbWV0cnkoZikpe2NvbnN0IHQ9ZS5nZXRHZW9tZXRyeVR5cGUoZik7YSh0PT09bi5lbnVtUG9seWdvbnx8dD09PW4uZW51bVBvbHlsaW5lJiZzKX1sZXQgaD0wLG09MCxsPW51bGw7aWYoZS5oYXNDdXJ2ZXMoKSYmIWUuaGFzU2VnbWVudFBhcmVudGFnZSgpKXtsPW5ldyBmYTtjb25zdCBzPWUuZ2V0RW52ZWxvcGUyRCh0aGlzLm1fcHJvZ3Jlc3NUcmFja2VyKTttPWRhKHQudG90YWwoKSk7Y29uc3Qgbj1fYSh0LnRvdGFsKCkscyk7aD1wYShuLG0pLGFhKGUsbix0LnRvdGFsKCksMTJlMyxsLG51bGwsdGhpcy5tX3Byb2dyZXNzVHJhY2tlcil9aWYobyl7eWEoZSx0LmFkZChoKSx0aGlzLm1fcHJvZ3Jlc3NUcmFja2VyLCEwLCExKTtmb3IobGV0IHQ9ZS5nZXRGaXJzdEdlb21ldHJ5KCk7dCE9PU07dD1lLmdldE5leHRHZW9tZXRyeSh0KSllLmdldEdlb21ldHJ5VHlwZSh0KT09PW4uZW51bVBvbHlnb24mJmVyKGUsdCwtMSwhMSxNLHRoaXMubV9wcm9ncmVzc1RyYWNrZXIpfWlmKHRoaXMubV90b3BvR3JhcGg9bmV3IHRuLG98fDQ9PT1pfHw1PT09aSlyPSExO2Vsc2UgaWYobnVsbD09PWwmJnIpe2NvbnN0IHM9bmV3IERuKHRoaXMubV9wcm9ncmVzc1RyYWNrZXIsITEpO3Muc3dlZXBWZXJ0aWNhbChlLHQudG90YWwoKSkscy5oYWRDb21wbGljYXRpb25zKCk/KHlhKGUsdCx0aGlzLm1fcHJvZ3Jlc3NUcmFja2VyLCEwLCExKSxyPSExKTp0aGlzLm1fdG9wb0dyYXBoLnNldENoZWNrRGlydHlQbGFuZXN3ZWVwVG9sZXJhbmNlKHQudG90YWwoKSl9ZWxzZSB5YShlLHQuYWRkKGgpLHRoaXMubV9wcm9ncmVzc1RyYWNrZXIsITAsITEpLHI9ITE7ZS5yZW1vdmVTZWxlY3Rpb24oKSxlLmNvbGxhcHNlQWxsR2VvbWV0cmllc1RvRmlyc3QoKTtjb25zdCBnPWUuZ2V0Rmlyc3RHZW9tZXRyeSgpO2lmKHM/dGhpcy5tX3RvcG9HcmFwaC5zZXRBbmRTaW1wbGlmeUVkaXRTaGFwZVdpbmRpbmcoZSxnLHRoaXMubV9wcm9ncmVzc1RyYWNrZXIpOnRoaXMubV90b3BvR3JhcGguc2V0QW5kU2ltcGxpZnlFZGl0U2hhcGVBbHRlcm5hdGUoZSxnLHRoaXMubV9wcm9ncmVzc1RyYWNrZXIpLHRoaXMubV90b3BvR3JhcGguZGlydHlDaGVja0ZhaWxlZCgpKXJldHVybiBhKHImJm51bGw9PT1sKSx0aGlzLm1fdG9wb0dyYXBoLnJlbW92ZVNoYXBlKCksdGhpcy5tX3RvcG9HcmFwaD1udWxsLHRoaXMucGxhbmFyU2ltcGxpZnlQb2x5Z29ucyhlLHQscywhMSwtMSwhMSk7dGhpcy5tX3RvcG9HcmFwaC5zZXRDaGVja0RpcnR5UGxhbmVzd2VlcFRvbGVyYW5jZShOdW1iZXIuTmFOKTtjb25zdCB1PXRoaXMubV90b3BvR3JhcGguZ2V0R2VvbWV0cnlJRChnKTthKHU+PTApLHRoaXMubV9tYXNrTG9va3VwLmxlbmd0aD0wLHRoaXMubV9tYXNrTG9va3VwLmxlbmd0aD11KzEsdGhpcy5tX21hc2tMb29rdXBbdV09ITAsZS5zZXRGaWxsUnVsZShnLDApO2NvbnN0IGM9dGhpcy5tX2JPR0NPdXRwdXQmJnMsXz1jO2xldCBkPXRoaXMudG9wb09wZXJhdGlvblBvbHlnb25Qb2x5Z29uXyhnLE0sTSxfKTtpZihjKXt0aGlzLm1fdG9wb0dyYXBoLnJlbW92ZVNoYXBlKCksdGhpcy5tX3RvcG9HcmFwaD1udWxsLGUucmVtb3ZlR2VvbWV0cnkoZyksdGhpcy5tX3RvcG9HcmFwaD1uZXcgdG4sdGhpcy5tX3RvcG9HcmFwaC5zZXRBbmRTaW1wbGlmeUVkaXRTaGFwZUFsdGVybmF0ZShlLGQsdGhpcy5tX3Byb2dyZXNzVHJhY2tlcik7ZD10aGlzLnRvcG9PcGVyYXRpb25Qb2x5Z29uUG9seWdvbl8oZCxNLE0sITEpfW51bGwhPT1sJiZsLnN0aXRjaEN1cnZlcyhlLGQsbSwhMCk7Y29uc3QgcD1lLmdldEdlb21ldHJ5KGQpO3JldHVybiBwLnNldEZpbGxSdWxlKDApLHI/cC5nZXRJbXBsKCkuc2V0SXNTaW1wbGUoMywwKToocC5nZXRJbXBsKCkuc2V0SXNTaW1wbGUoNCx0LnRvdGFsKCkpLHAuZ2V0SW1wbCgpLnVwZGF0ZU9HQ0ZsYWdzUHJvdGVjdGVkKCkpLHB9cGxhbmFyU2ltcGxpZnkzREltcGxfKGUsdCxzLG4scil7cmV0dXJuIGEoMCkse319cGxhbmFyU2ltcGxpZnlJbXBsXyhlLHQscyxyLG8sYSxoLG0pe2lmKGUuaXNFbXB0eSgpKXJldHVybiBlLmNsb25lKCk7Y29uc3QgbD1lLmdldEdlb21ldHJ5VHlwZSgpLGc9bmV3IEcsdT1nLmFkZEdlb21ldHJ5KGUpO2lmKFRlKG8pJiZsPT09bi5lbnVtUG9seWdvbiYmKHM9ITEsZy5zZXRGaWxsUnVsZSh1LDApKSxtJiYoZS5oYXNBdHRyaWJ1dGUoMSkmJmcucmVwbGFjZU5hTnMoMSwwKSxnLnJlbW92ZU5hTlZlcnRpY2VzKCkpLGw9PT1uLmVudW1Qb2x5Z29ufHxsPT09bi5lbnVtUG9seWxpbmUmJnMpcmV0dXJuIHRoaXMucGxhbmFyU2ltcGxpZnlQb2x5Z29ucyhnLHQscyxyLG8sITEpO2lmKGw9PT1JLnR5cGUpe2NvbnN0IGU9SGEoKTtyZXR1cm4gZS5hbGxDcm9zc1JvYWRzSW1wYXNzYWJsZT0hMCxlLm9nY1J1bGU9dGhpcy5tX2JPR0NPdXRwdXQsZS51bnNwbGl0QmVoYXZpb3I9aCx0aGlzLnBsYW5hclNpbXBsaWZ5UG9seWxpbmVzKGcsdCxyLGUsbyl9aWYobD09PW4uZW51bU11bHRpUG9pbnQpcmV0dXJuIHRoaXMucGxhbmFyU2ltcGxpZnlNdWx0aVBvaW50cyhnLHQscixvKTtpKFwid2hhdCBlbHNlP1wiKX19ZnVuY3Rpb24gUWEoZSx0LHMsbil7aWYoZS5pc0VtcHR5KCkpcmV0dXJuIGUuY3JlYXRlSW5zdGFuY2UoKTtpZih0LmlzRW1wdHkoKSlyZXR1cm4gbj9lLmNyZWF0ZUluc3RhbmNlKCk6bmV3IGZlKHtjb3B5OmV9KTtjb25zdCByPVtuZXcgUWVdLG89WzBdLGE9Mj09PXQuZ2V0RGltZW5zaW9uKCk7cmV0dXJuIDEhPT10LmdldERpbWVuc2lvbigpJiYyIT09dC5nZXREaW1lbnNpb24oKSYmaShcIlwiKSxyWzBdPWUuZ2V0WFkoKSxhP1dvKHQsciwxLHMudG90YWwoKSxvKTpqbyh0LHIsMSxzLnRvdGFsKCksbyksMD09PW9bMF0/ZS5jcmVhdGVJbnN0YW5jZSgpOmV9ZnVuY3Rpb24gSmEoZSx0LHMsbil7Y29uc3Qgcj1lLmNyZWF0ZUluc3RhbmNlKCksbz1sdChRZSwxMDApLGE9bmV3IEFycmF5KDEwMCksaD1lLmdldFBvaW50Q291bnQoKTtsZXQgbT0hMDtjb25zdCBsPTI9PT10LmdldERpbWVuc2lvbigpOzEhPT10LmdldERpbWVuc2lvbigpJiYyIT09dC5nZXREaW1lbnNpb24oKSYmaShcIlwiKTtmb3IobGV0IGk9MDtpPGg7KXtjb25zdCBuPWUucXVlcnlDb29yZGluYXRlcyhvLG8ubGVuZ3RoLGksLTEpLWk7bD9Xbyh0LG8sbixzLnRvdGFsKCksYSk6am8odCxvLG4scy50b3RhbCgpLGEpO2xldCBoPTA7Zm9yKGxldCB0PTA7dDxuO3QrKyl7MD09PWFbdF0mJihtJiYobT0hMSxyLmFkZFBvaW50cyhlLDAsaSkpLGghPT10JiZyLmFkZFBvaW50cyhlLGkraCxpK3QpLGg9dCsxKX1tfHxoPT09bnx8ci5hZGRQb2ludHMoZSxpK2gsaStuKSxpKz1ufXJldHVybiBtP2U6cn1mdW5jdGlvbiAkYShlLHQscyxyKXtjb25zdCBpPWUuZ2V0R2VvbWV0cnlUeXBlKCk7aWYoaT09PW4uZW51bUVudmVsb3BlKXtjb25zdCB0PW5ldyB2KHt2ZDplLmdldERlc2NyaXB0aW9uKCl9KTtyZXR1cm4gZS5pc0VtcHR5KCl8fHQuYWRkRW52ZWxvcGUoZSwhMSksdH1pZihpPT09bi5lbnVtUG9pbnQmJihcInxcIj09PXJ8fFwiXlwiPT09cikpe2NvbnN0IHQ9bmV3IE4oe3ZkOmUuZ2V0RGVzY3JpcHRpb24oKX0pO3JldHVybiBlLmlzRW1wdHkoKXx8dC5hZGQoZSksdH1pZihpPT09bi5lbnVtTGluZSl7Y29uc3QgdD1uZXcgSSh7dmQ6ZS5nZXREZXNjcmlwdGlvbigpfSk7cmV0dXJuIGUuaXNFbXB0eSgpfHx0LmFkZFNlZ21lbnQoZSwhMCksdH1pZihpPT09bi5lbnVtTXVsdGlQb2ludCYmXCItXCI9PT1yJiZ0LmdldEdlb21ldHJ5VHlwZSgpPT09bi5lbnVtUG9pbnQpe2NvbnN0IHQ9bmV3IGZlKHt2ZDplLmdldERlc2NyaXB0aW9uKCl9KTtyZXR1cm4gZS5pc0VtcHR5KCl8fGUuZ2V0UG9pbnRCeVZhbCgwLHQpLHR9aWYoaT09PW4uZW51bU11bHRpUG9pbnQmJlwiJlwiPT09ciYmdC5nZXRHZW9tZXRyeVR5cGUoKT09PW4uZW51bVBvaW50KXtjb25zdCB0PW5ldyBmZSh7dmQ6ZS5nZXREZXNjcmlwdGlvbigpfSk7cmV0dXJuIGUuaXNFbXB0eSgpfHxlLmdldFBvaW50QnlWYWwoMCx0KSx0fXJldHVybiBlfWZ1bmN0aW9uIGVoKGUpe2NvbnN0IHM9ZS5nZXRHZW9tZXRyeVR5cGUoKTtpZihzPT09bi5lbnVtRW52ZWxvcGUpe2NvbnN0IHQ9bmV3IHYoe3ZkOmUuZ2V0RGVzY3JpcHRpb24oKX0pO3JldHVybiBlLmlzRW1wdHkoKXx8dC5hZGRFbnZlbG9wZShlLCExKSx0fWlmKHM9PT1uLmVudW1Qb2ludCl7Y29uc3QgdD1uZXcgTih7dmQ6ZS5nZXREZXNjcmlwdGlvbigpfSk7cmV0dXJuIGUuaXNFbXB0eSgpfHx0LmFkZChlKSx0fWlmKERhKHMpKXtjb25zdCB0PW5ldyBJKHt2ZDplLmdldERlc2NyaXB0aW9uKCl9KTtyZXR1cm4gZS5pc0VtcHR5KCl8fHQuYWRkU2VnbWVudChlLCEwKSx0fXJldHVybiBzIT09bi5lbnVtTXVsdGlQb2ludCYmcyE9PW4uZW51bVBvbHlsaW5lJiZzIT09bi5lbnVtUG9seWdvbiYmdChcIlVuZXhwZWN0ZWQgZ2VvbWV0cnkgdHlwZVwiKSxlfWZ1bmN0aW9uIHRoKGUsdCxzLG4pe2NvbnN0IHI9cz09PU0/ZS5nZXRDbHVzdGVySGFsZkVkZ2UodCk6cztsZXQgaT1yO2EoZS5nZXRIYWxmRWRnZU9yaWdpbihyKT09PXQpO2Rve24oaSksaT1lLmdldEhhbGZFZGdlTmV4dChlLmdldEhhbGZFZGdlVHdpbihpKSl9d2hpbGUoaSE9PXIpfWNsYXNzIHNoe2NvbnN0cnVjdG9yKGUsdCxzLG4scixpKXt0aGlzLm1fclBhcmVudD1lLHRoaXMubV9yVG9wb0dyYXBoPWUubV90b3BvR3JhcGgsdGhpcy5tX3JTaGFwZT10aGlzLm1fclRvcG9HcmFwaC5nZXRTaGFwZSgpLHRoaXMubV9JREN1dHRlZT10aGlzLm1fclRvcG9HcmFwaC5nZXRHZW9tZXRyeUlEKG4pLHRoaXMubV9JREN1dHRlcj10aGlzLm1fclRvcG9HcmFwaC5nZXRHZW9tZXRyeUlEKHIpLHRoaXMubV9JREJvdGg9dGhpcy5tX0lEQ3V0dGVlfHRoaXMubV9JREN1dHRlcix0aGlzLm1fYkNvbnNpZGVyVG91Y2g9dCx0aGlzLm1fc2lkZUluZGV4PXMsdGhpcy5tX2N1dHRlZT1uLHRoaXMubV9jdXR0ZXI9cix0aGlzLm1fckN1dEhhbmRsZXM9aSx0aGlzLm1fY3V0dGVlQnJlYWRjcnVtYnNJbmRleD10aGlzLm1fclNoYXBlLmNyZWF0ZVVzZXJJbmRleFVuaW5pdGlhbGl6ZWQoKSx0aGlzLm1fY2x1c3RlclBhcmVudGFnZUluZGV4PXRoaXMubV9yU2hhcGUuY3JlYXRlVXNlckluZGV4VW5pbml0aWFsaXplZCgpO2ZvcihsZXQgbz10aGlzLm1fclNoYXBlLmdldEZpcnN0UGF0aCh0aGlzLm1fY3V0dGVlKTtvIT09TTtvPXRoaXMubV9yU2hhcGUuZ2V0TmV4dFBhdGgobykpe2xldCBlPTA7Y29uc3QgdD10aGlzLm1fclNoYXBlLmdldFBhdGhTaXplKG8pO2ZvcihsZXQgcz10aGlzLm1fclNoYXBlLmdldEZpcnN0VmVydGV4KG8pO2U8dDtlKysscz10aGlzLm1fclNoYXBlLmdldE5leHRWZXJ0ZXgocykpdGhpcy5tX3JTaGFwZS5zZXRVc2VySW5kZXgocyx0aGlzLm1fY2x1c3RlclBhcmVudGFnZUluZGV4LHRoaXMubV9yVG9wb0dyYXBoLmdldENsdXN0ZXJQYXJlbnRhZ2UodGhpcy5tX3JUb3BvR3JhcGguZ2V0Q2x1c3RlckZyb21WZXJ0ZXgocykpKX19RG8oKXt0aGlzLmN1dFBvbHlsaW5lUG9seWxpbmVfKCksdGhpcy5tX3JTaGFwZS5yZW1vdmVVc2VySW5kZXgodGhpcy5tX2N1dHRlZUJyZWFkY3J1bWJzSW5kZXgpLHRoaXMubV9yU2hhcGUucmVtb3ZlVXNlckluZGV4KHRoaXMubV9jbHVzdGVyUGFyZW50YWdlSW5kZXgpfXNldFRiZChlKXtyZXR1cm4gOHxlfWNsYXNzaWZ5U3RhbmRhcmRDdXQoZSx0LHMsbil7Y29uc3Qgcj10aGlzLm1fclNoYXBlLmdldFByZXZWZXJ0ZXgoZSksaT10aGlzLm1fclNoYXBlLmdldE5leHRWZXJ0ZXgoZSksbz1yPT09TT9NOnRoaXMubV9yVG9wb0dyYXBoLmdldEhhbGZFZGdlQ29ubmVjdG9yKHQsdGhpcy5tX3JUb3BvR3JhcGguZ2V0Q2x1c3RlckZyb21WZXJ0ZXgocikpLGE9aT09PU0/TTp0aGlzLm1fclRvcG9HcmFwaC5nZXRIYWxmRWRnZUNvbm5lY3Rvcih0LHRoaXMubV9yVG9wb0dyYXBoLmdldENsdXN0ZXJGcm9tVmVydGV4KGkpKSxoPXRoaXMubV9yVG9wb0dyYXBoLmdldEhhbGZFZGdlQ29ubmVjdG9yKHQsdGhpcy5tX3JUb3BvR3JhcGguZ2V0Q2x1c3RlckZyb21WZXJ0ZXgocykpLG09dGhpcy5tX3JUb3BvR3JhcGguZ2V0SGFsZkVkZ2VDb25uZWN0b3IodCx0aGlzLm1fclRvcG9HcmFwaC5nZXRDbHVzdGVyRnJvbVZlcnRleChuKSk7bGV0IGw9MSxnPTMyLHU9MzI7aWYodGgodGhpcy5tX3JUb3BvR3JhcGgsdCxtLChlPT57ZT09PWgmJihsPTIpLGU9PT1vJiYoZz1sKSxlPT09YSYmKHU9bCl9KSksdGhpcy5tX2JDb25zaWRlclRvdWNoKTMyIT09ZyYmdGhpcy5tX3JTaGFwZS5zZXRVc2VySW5kZXgocix0aGlzLm1fY3V0dGVlQnJlYWRjcnVtYnNJbmRleCx0aGlzLm1fclNoYXBlLmdldFVzZXJJbmRleChyLHRoaXMubV9jdXR0ZWVCcmVhZGNydW1ic0luZGV4KXxnKSwzMiE9PXUmJnRoaXMubV9yU2hhcGUuc2V0VXNlckluZGV4KGUsdGhpcy5tX2N1dHRlZUJyZWFkY3J1bWJzSW5kZXgsdGhpcy5tX3JTaGFwZS5nZXRVc2VySW5kZXgoZSx0aGlzLm1fY3V0dGVlQnJlYWRjcnVtYnNJbmRleCl8dSk7ZWxzZXtpZigzMj09PWd8fDMyPT09dSlyZXR1cm4gMTtpZihnPT09dSYmIShvPT09aHx8bz09PW18fGE9PT1ofHxhPT09bSkpcmV0dXJuIDE7dGhpcy5tX3JTaGFwZS5zZXRVc2VySW5kZXgocix0aGlzLm1fY3V0dGVlQnJlYWRjcnVtYnNJbmRleCx0aGlzLm1fclNoYXBlLmdldFVzZXJJbmRleChyLHRoaXMubV9jdXR0ZWVCcmVhZGNydW1ic0luZGV4KXxnKSx0aGlzLm1fclNoYXBlLnNldFVzZXJJbmRleChlLHRoaXMubV9jdXR0ZWVCcmVhZGNydW1ic0luZGV4LHRoaXMubV9yU2hhcGUuZ2V0VXNlckluZGV4KGUsdGhpcy5tX2N1dHRlZUJyZWFkY3J1bWJzSW5kZXgpfHUpfXJldHVybiAwfWNsYXNzaWZ5VG91Y2hDdXQoZSx0LHMsbil7Y29uc3Qgcj10aGlzLm1fclNoYXBlLmdldFByZXZWZXJ0ZXgoZSksaT10aGlzLm1fclNoYXBlLmdldE5leHRWZXJ0ZXgoZSksbz1yPT09TT9NOnRoaXMubV9yVG9wb0dyYXBoLmdldEhhbGZFZGdlQ29ubmVjdG9yKHQsdGhpcy5tX3JUb3BvR3JhcGguZ2V0Q2x1c3RlckZyb21WZXJ0ZXgocikpLGE9aT09PU0/TTp0aGlzLm1fclRvcG9HcmFwaC5nZXRIYWxmRWRnZUNvbm5lY3Rvcih0LHRoaXMubV9yVG9wb0dyYXBoLmdldENsdXN0ZXJGcm9tVmVydGV4KGkpKSxoPXM9PT1NP006dGhpcy5tX3JUb3BvR3JhcGguZ2V0SGFsZkVkZ2VDb25uZWN0b3IodCx0aGlzLm1fclRvcG9HcmFwaC5nZXRDbHVzdGVyRnJvbVZlcnRleChzKSksbT1uPT09TT9NOnRoaXMubV9yVG9wb0dyYXBoLmdldEhhbGZFZGdlQ29ubmVjdG9yKHQsdGhpcy5tX3JUb3BvR3JhcGguZ2V0Q2x1c3RlckZyb21WZXJ0ZXgobikpO2lmKCF0aGlzLm1fYkNvbnNpZGVyVG91Y2gpe2xldCB0O3JldHVybih0PWg9PT1vfHxtPT09byk/dGhpcy5tX3JTaGFwZS5zZXRVc2VySW5kZXgoZSx0aGlzLm1fY3V0dGVlQnJlYWRjcnVtYnNJbmRleCx0aGlzLnNldFRiZCh0aGlzLm1fclNoYXBlLmdldFVzZXJJbmRleChlLHRoaXMubV9jdXR0ZWVCcmVhZGNydW1ic0luZGV4KSkpOih0PWg9PT1hfHxtPT09YSkmJnRoaXMubV9yU2hhcGUuc2V0VXNlckluZGV4KHIsdGhpcy5tX2N1dHRlZUJyZWFkY3J1bWJzSW5kZXgsdGhpcy5zZXRUYmQodGhpcy5tX3JTaGFwZS5nZXRVc2VySW5kZXgocix0aGlzLm1fY3V0dGVlQnJlYWRjcnVtYnNJbmRleCkpKSx0PzA6MX1pZihvPT09TSlyZXR1cm4gdGhpcy5tX3JTaGFwZS5zZXRVc2VySW5kZXgoZSx0aGlzLm1fY3V0dGVlQnJlYWRjcnVtYnNJbmRleCx0aGlzLnNldFRiZCh0aGlzLm1fclNoYXBlLmdldFVzZXJJbmRleChlLHRoaXMubV9jdXR0ZWVCcmVhZGNydW1ic0luZGV4KSkpLDA7aWYoYT09PU0pcmV0dXJuIHRoaXMubV9yU2hhcGUuc2V0VXNlckluZGV4KHIsdGhpcy5tX2N1dHRlZUJyZWFkY3J1bWJzSW5kZXgsdGhpcy5zZXRUYmQodGhpcy5tX3JTaGFwZS5nZXRVc2VySW5kZXgocix0aGlzLm1fY3V0dGVlQnJlYWRjcnVtYnNJbmRleCkpKSwwO2lmKG89PT1hKXJldHVybiB0aGlzLm1fclNoYXBlLnNldFVzZXJJbmRleChyLHRoaXMubV9jdXR0ZWVCcmVhZGNydW1ic0luZGV4LHRoaXMuc2V0VGJkKHRoaXMubV9yU2hhcGUuZ2V0VXNlckluZGV4KHIsdGhpcy5tX2N1dHRlZUJyZWFkY3J1bWJzSW5kZXgpKSksdGhpcy5tX3JTaGFwZS5zZXRVc2VySW5kZXgoZSx0aGlzLm1fY3V0dGVlQnJlYWRjcnVtYnNJbmRleCx0aGlzLnNldFRiZCh0aGlzLm1fclNoYXBlLmdldFVzZXJJbmRleChlLHRoaXMubV9jdXR0ZWVCcmVhZGNydW1ic0luZGV4KSkpLDA7aWYobSE9PU0pe2lmKG89PT1tKXJldHVybiB0aGlzLm1fclNoYXBlLnNldFVzZXJJbmRleChlLHRoaXMubV9jdXR0ZWVCcmVhZGNydW1ic0luZGV4LHRoaXMuc2V0VGJkKHRoaXMubV9yU2hhcGUuZ2V0VXNlckluZGV4KGUsdGhpcy5tX2N1dHRlZUJyZWFkY3J1bWJzSW5kZXgpKSksMDtpZihhPT09bSlyZXR1cm4gdGhpcy5tX3JTaGFwZS5zZXRVc2VySW5kZXgocix0aGlzLm1fY3V0dGVlQnJlYWRjcnVtYnNJbmRleCx0aGlzLnNldFRiZCh0aGlzLm1fclNoYXBlLmdldFVzZXJJbmRleChyLHRoaXMubV9jdXR0ZWVCcmVhZGNydW1ic0luZGV4KSkpLDA7bGV0IHM9MTt0aCh0aGlzLm1fclRvcG9HcmFwaCx0LG0sKHQ9PntpZih0PT09byl7Y29uc3QgZT10aGlzLm1fclNoYXBlLmdldFVzZXJJbmRleChyLHRoaXMubV9jdXR0ZWVCcmVhZGNydW1ic0luZGV4KXxzO3RoaXMubV9yU2hhcGUuc2V0VXNlckluZGV4KHIsdGhpcy5tX2N1dHRlZUJyZWFkY3J1bWJzSW5kZXgsZSkscz0yfWVsc2UgaWYodD09PWEpe2NvbnN0IHQ9dGhpcy5tX3JTaGFwZS5nZXRVc2VySW5kZXgoZSx0aGlzLm1fY3V0dGVlQnJlYWRjcnVtYnNJbmRleCl8czt0aGlzLm1fclNoYXBlLnNldFVzZXJJbmRleChlLHRoaXMubV9jdXR0ZWVCcmVhZGNydW1ic0luZGV4LHQpLHM9Mn19KSl9ZWxzZXtpZihvPT09aClyZXR1cm4gdGhpcy5tX3JTaGFwZS5zZXRVc2VySW5kZXgoZSx0aGlzLm1fY3V0dGVlQnJlYWRjcnVtYnNJbmRleCx0aGlzLnNldFRiZCh0aGlzLm1fclNoYXBlLmdldFVzZXJJbmRleChlLHRoaXMubV9jdXR0ZWVCcmVhZGNydW1ic0luZGV4KSkpLDA7aWYoYT09PWgpcmV0dXJuIHRoaXMubV9yU2hhcGUuc2V0VXNlckluZGV4KHIsdGhpcy5tX2N1dHRlZUJyZWFkY3J1bWJzSW5kZXgsdGhpcy5zZXRUYmQodGhpcy5tX3JTaGFwZS5nZXRVc2VySW5kZXgocix0aGlzLm1fY3V0dGVlQnJlYWRjcnVtYnNJbmRleCkpKSwwO2xldCBzPTI7dGgodGhpcy5tX3JUb3BvR3JhcGgsdCxoLCh0PT57aWYodD09PW8pe2NvbnN0IGU9dGhpcy5tX3JTaGFwZS5nZXRVc2VySW5kZXgocix0aGlzLm1fY3V0dGVlQnJlYWRjcnVtYnNJbmRleCl8czt0aGlzLm1fclNoYXBlLnNldFVzZXJJbmRleChyLHRoaXMubV9jdXR0ZWVCcmVhZGNydW1ic0luZGV4LGUpLHM9MX1lbHNlIGlmKHQ9PT1hKXtjb25zdCB0PXRoaXMubV9yU2hhcGUuZ2V0VXNlckluZGV4KGUsdGhpcy5tX2N1dHRlZUJyZWFkY3J1bWJzSW5kZXgpfHM7dGhpcy5tX3JTaGFwZS5zZXRVc2VySW5kZXgoZSx0aGlzLm1fY3V0dGVlQnJlYWRjcnVtYnNJbmRleCx0KSxzPTF9fSkpfXJldHVybiAwfWNsYXNzaWZ5Q3V0VmVydGV4KGUsdCl7bGV0IHM9MCxuPTA7Zm9yKGxldCByPXRoaXMubV9yVG9wb0dyYXBoLmdldENsdXN0ZXJWZXJ0ZXhJdGVyYXRvcih0KTtyIT09TTtyPXRoaXMubV9yVG9wb0dyYXBoLmluY3JlbWVudFZlcnRleEl0ZXJhdG9yKHIpKXtjb25zdCBpPXRoaXMubV9yVG9wb0dyYXBoLmdldFZlcnRleEZyb21WZXJ0ZXhJdGVyYXRvcihyKTtpZih0aGlzLm1fclNoYXBlLmdldEdlb21ldHJ5RnJvbVZlcnRleChpKT09PXRoaXMubV9jdXR0ZXIpe24rKztjb25zdCByPXRoaXMubV9yU2hhcGUuZ2V0UHJldlZlcnRleChpKSxvPXRoaXMubV9yU2hhcGUuZ2V0TmV4dFZlcnRleChpKTtzKz1yPT09TXx8bz09PU0/dGhpcy5jbGFzc2lmeVRvdWNoQ3V0KGUsdCxyLG8pOnRoaXMuY2xhc3NpZnlTdGFuZGFyZEN1dChlLHQscixvKX19biYmcz09PW4mJiF0aGlzLm1fYkNvbnNpZGVyVG91Y2gmJnRoaXMubV9yU2hhcGUuc2V0VXNlckluZGV4KGUsdGhpcy5tX2NsdXN0ZXJQYXJlbnRhZ2VJbmRleCx0aGlzLm1fSURDdXR0ZWUpfWN1dFBvbHlsaW5lUG9seWxpbmVfKCl7dGhpcy5tX3JTaGFwZS5nZXRHZW9tZXRyeVR5cGUodGhpcy5tX2N1dHRlZSksdGhpcy5tX3JTaGFwZS5nZXRHZW9tZXRyeVR5cGUodGhpcy5tX2N1dHRlciksdGhpcy5tX3JQYXJlbnQubV9tYXNrTG9va3VwLmxlbmd0aD0wLHRoaXMubV9yUGFyZW50Lm1fbWFza0xvb2t1cC5sZW5ndGg9dGhpcy5tX0lEQm90aCsxLHRoaXMubV9yUGFyZW50Lm1fbWFza0xvb2t1cFt0aGlzLm1fSURCb3RoXT0hMDtmb3IobGV0IG49dGhpcy5tX3JTaGFwZS5nZXRGaXJzdFBhdGgodGhpcy5tX2N1dHRlZSk7biE9PU07bj10aGlzLm1fclNoYXBlLmdldE5leHRQYXRoKG4pKXtjb25zdCBlPXRoaXMubV9yU2hhcGUuZ2V0UGF0aFNpemUobik7bGV0IHQ9dGhpcy5tX3JTaGFwZS5nZXRGaXJzdFZlcnRleChuKTtmb3IobGV0IHM9MDtzPGU7KytzLHQ9dGhpcy5tX3JTaGFwZS5nZXROZXh0VmVydGV4KHQpKXRoaXMubV9yU2hhcGUuc2V0VXNlckluZGV4KHQsdGhpcy5tX2N1dHRlZUJyZWFkY3J1bWJzSW5kZXgsMCk7dD10aGlzLm1fclNoYXBlLmdldEZpcnN0VmVydGV4KG4pO2ZvcihsZXQgcz0wO3M8ZTsrK3MsdD10aGlzLm1fclNoYXBlLmdldE5leHRWZXJ0ZXgodCkpe2NvbnN0IGU9dGhpcy5tX3JUb3BvR3JhcGguZ2V0Q2x1c3RlckZyb21WZXJ0ZXgodCk7dGhpcy5tX3JUb3BvR3JhcGguZ2V0Q2x1c3RlclBhcmVudGFnZShlKT09PXRoaXMubV9JREJvdGgmJnRoaXMuY2xhc3NpZnlDdXRWZXJ0ZXgodCxlKX19Y29uc3QgZT0oZSx0KT0+e2xldCBzPXRoaXMubV9yU2hhcGUuZ2V0VXNlckluZGV4KGUsdGhpcy5tX2N1dHRlZUJyZWFkY3J1bWJzSW5kZXgpO2NvbnN0IG49dGhpcy5tX3JUb3BvR3JhcGguZ2V0SGFsZkVkZ2VDb25uZWN0b3IodGhpcy5tX3JUb3BvR3JhcGguZ2V0Q2x1c3RlckZyb21WZXJ0ZXgoZSksdGhpcy5tX3JUb3BvR3JhcGguZ2V0Q2x1c3RlckZyb21WZXJ0ZXgodCkpO3JldHVybih0aGlzLm1fclRvcG9HcmFwaC5nZXRIYWxmRWRnZVBhcmVudGFnZShuKSZ0aGlzLm1fSURCb3RoKT09PXRoaXMubV9JREJvdGgmJihzfD00KSxzfTtmb3IobGV0IG49dGhpcy5tX3JTaGFwZS5nZXRGaXJzdFBhdGgodGhpcy5tX2N1dHRlZSk7biE9PU07bj10aGlzLm1fclNoYXBlLmdldE5leHRQYXRoKG4pKXtsZXQgdD10aGlzLm1fclNoYXBlLmdldEZpcnN0VmVydGV4KG4pO2NvbnN0IHM9dGhpcy5tX3JTaGFwZS5pc0Nsb3NlZFBhdGgobikscj10aGlzLm1fclNoYXBlLmdldFBhdGhTaXplKG4pKyhzPzE6MCk7bGV0IGk9MSxvPTMyO2ZvcihsZXQgbj10aGlzLm1fclNoYXBlLmdldE5leHRWZXJ0ZXgodCk7aTxyOysraSx0PW4sbj10aGlzLm1fclNoYXBlLmdldE5leHRWZXJ0ZXgobikpe2NvbnN0IHM9ZSh0LG4pO3RoaXMubV9yU2hhcGUuZ2V0VXNlckluZGV4KHQsdGhpcy5tX2NsdXN0ZXJQYXJlbnRhZ2VJbmRleCk9PT10aGlzLm1fSURCb3RoJiYobz1zKSwzMiE9PW8mJnRoaXMubV9yU2hhcGUuc2V0VXNlckluZGV4KHQsdGhpcy5tX2N1dHRlZUJyZWFkY3J1bWJzSW5kZXgsb3xzKX10PXRoaXMubV9yU2hhcGUuZ2V0TGFzdFZlcnRleChuKTtsZXQgYT0zMjtpPTE7Zm9yKGxldCBuPXRoaXMubV9yU2hhcGUuZ2V0UHJldlZlcnRleCh0KTtpPHI7KytpLHQ9bixuPXRoaXMubV9yU2hhcGUuZ2V0UHJldlZlcnRleChuKSl7Y29uc3Qgcz1lKG4sdCk7dGhpcy5tX3JTaGFwZS5nZXRVc2VySW5kZXgodCx0aGlzLm1fY2x1c3RlclBhcmVudGFnZUluZGV4KT09PXRoaXMubV9JREJvdGgmJihhPXMpLDMyIT09YSYmdGhpcy5tX3JTaGFwZS5zZXRVc2VySW5kZXgobix0aGlzLm1fY3V0dGVlQnJlYWRjcnVtYnNJbmRleCxhfHMpfX1sZXQgdD1NLHM9TSxyPTMyO2NvbnN0IGk9dGhpcy5tX3JTaGFwZS5oYXNTZWdtZW50UGFyZW50YWdlKCksbz1uZXcgRjtmb3IobGV0IGE9dGhpcy5tX3JTaGFwZS5nZXRGaXJzdFBhdGgodGhpcy5tX2N1dHRlZSk7YSE9PU07YT10aGlzLm1fclNoYXBlLmdldE5leHRQYXRoKGEpKXtjb25zdCBlPXRoaXMubV9yU2hhcGUuaXNDbG9zZWRQYXRoKGEpLGg9dGhpcy5tX3JTaGFwZS5nZXRQYXRoU2l6ZShhKSsoZT8xOjApO2xldCBtPTEsbD10aGlzLm1fclNoYXBlLmdldEZpcnN0VmVydGV4KGEpLGc9TSx1PSEwO2ZvcihsZXQgYT10aGlzLm1fclNoYXBlLmdldE5leHRWZXJ0ZXgobCk7bTxoOysrbSxhPXRoaXMubV9yU2hhcGUuZ2V0TmV4dFZlcnRleChhKSl7bGV0IGU9dGhpcy5tX3JTaGFwZS5nZXRVc2VySW5kZXgobCx0aGlzLm1fY3V0dGVlQnJlYWRjcnVtYnNJbmRleCk7OD09PWU/ZT0zOihlJj0tOSw0JmU/ZT00OjMmfmV8fChlPTMpKSxlIT09cj8odCE9PU0mJihnPXRoaXMubV9yU2hhcGUuYWRkVmVydGV4KHMsbCksaSYmdGhpcy5tX3JUb3BvR3JhcGguaXNCcmVha05vZGUodGhpcy5tX3JUb3BvR3JhcGguZ2V0Q2x1c3RlckZyb21WZXJ0ZXgobCkpJiZ0aGlzLm1fclNoYXBlLnNldFNlZ21lbnRQYXJlbnRhZ2VCcmVha1ZlcnRleChnLCEwKSx0aGlzLm1fckN1dEhhbmRsZXMucHVzaCh0KSx0aGlzLm1fclNoYXBlLnNldEdlb21ldHJ5VXNlckluZGV4KHQsdGhpcy5tX3NpZGVJbmRleCxyKSksdD10aGlzLm1fclNoYXBlLmNyZWF0ZUdlb21ldHJ5KG4uZW51bVBvbHlsaW5lKSxzPXRoaXMubV9yU2hhcGUuaW5zZXJ0UGF0aCh0LE0pLHI9ZSx1PSEwKTp0aGlzLm1fclNoYXBlLmdldFVzZXJJbmRleChsLHRoaXMubV9jbHVzdGVyUGFyZW50YWdlSW5kZXgpPT09dGhpcy5tX0lEQm90aCYmNCE9PWUmJihnPXRoaXMubV9yU2hhcGUuYWRkVmVydGV4KHMsbCksaSYmdGhpcy5tX3JUb3BvR3JhcGguaXNCcmVha05vZGUodGhpcy5tX3JUb3BvR3JhcGguZ2V0Q2x1c3RlckZyb21WZXJ0ZXgobCkpJiZ0aGlzLm1fclNoYXBlLnNldFNlZ21lbnRQYXJlbnRhZ2VCcmVha1ZlcnRleChnLCEwKSxzPXRoaXMubV9yU2hhcGUuaW5zZXJ0UGF0aCh0LE0pLHU9ITApLGc9dGhpcy5tX3JTaGFwZS5hZGRWZXJ0ZXgocyxsKTtjb25zdCBoPXRoaXMubV9yVG9wb0dyYXBoLmdldENsdXN0ZXJGcm9tVmVydGV4KGwpOyF1JiZpJiZ0aGlzLm1fclRvcG9HcmFwaC5pc0JyZWFrTm9kZShoKSYmdGhpcy5tX3JTaGFwZS5zZXRTZWdtZW50UGFyZW50YWdlQnJlYWtWZXJ0ZXgoZywhMCk7Y29uc3QgbT10aGlzLm1fclRvcG9HcmFwaC5nZXRIYWxmRWRnZUZyb21WZXJ0ZXgobCk7aWYoaSl7Y29uc3QgZT10aGlzLm1fclRvcG9HcmFwaC5nZXRTZWdtZW50UGFyZW50YWdlKG0pO3RoaXMubV9yU2hhcGUuc2V0U2VnbWVudFBhcmVudGFnZUFuZEJyZWFrKGcsZSx1fHx0aGlzLm1fclRvcG9HcmFwaC5pc0JyZWFrTm9kZShoKSl9dGhpcy5tX3JUb3BvR3JhcGguaXNIYWxmRWRnZUN1cnZlKG0pJiYodGhpcy5tX3JUb3BvR3JhcGgucXVlcnlTZWdtZW50WFkobSxvKSx0aGlzLm1fclNoYXBlLnNldFNlZ21lbnRUb0luZGV4KHRoaXMubV9yU2hhcGUuZ2V0VmVydGV4SW5kZXgoZyksby5nZXQoKS5jbG9uZSgpKSksbD1hLHU9ITF9Zz10aGlzLm1fclNoYXBlLmFkZFZlcnRleChzLGwpLGkmJnRoaXMubV9yVG9wb0dyYXBoLmlzQnJlYWtOb2RlKHRoaXMubV9yVG9wb0dyYXBoLmdldENsdXN0ZXJGcm9tVmVydGV4KGwpKSYmdGhpcy5tX3JTaGFwZS5zZXRTZWdtZW50UGFyZW50YWdlQnJlYWtWZXJ0ZXgoZywhMCksdGhpcy5tX3JDdXRIYW5kbGVzLnB1c2godCksdGhpcy5tX3JTaGFwZS5zZXRHZW9tZXRyeVVzZXJJbmRleCh0LHRoaXMubV9zaWRlSW5kZXgsciksdD1NLHM9TSxyPTMyfX19ZnVuY3Rpb24gbmgoZSx0LHMpe3JldHVybiBuZXcgS2EocykubGluZXNUb1BvbHlnb25zSW1wbChlLHQpfWZ1bmN0aW9uIHJoKHQscyxvLGEsaCl7aWYoYSYmKGEubV9yZWFzb249MCxhLm1fdmVydGV4SW5kZXgxPS0xLGEubV92ZXJ0ZXhJbmRleDI9LTEpLHQuaXNFbXB0eSgpKXJldHVybiA1O2NvbnN0IG09dC5nZXRHZW9tZXRyeVR5cGUoKTtpZihtPT09bi5lbnVtUG9pbnQpcmV0dXJuIG1oKHQsYSk7Y29uc3QgbD1tZShzLHQsITEpLnRvdGFsKCk7aWYobT09PW4uZW51bUVudmVsb3BlKXtjb25zdCBzPXQsbj1uZXcgZTtyZXR1cm4gcy5xdWVyeUVudmVsb3BlKG4pLG4uaXNEZWdlbmVyYXRlKGwpPyhhJiYoYS5tX3JlYXNvbj00LGEubV92ZXJ0ZXhJbmRleDE9LTEsYS5tX3ZlcnRleEluZGV4Mj0tMSksMCk6NX1pZihyKG0pKXtjb25zdCBlPXQsbj1uZXcgSSh7dmQ6ZS5nZXREZXNjcmlwdGlvbigpfSk7cmV0dXJuIG4uYWRkU2VnbWVudChlLCEwKSxvaChuLHMsbyxhLGgpfWNvbnN0IGc9WzBdLHU9dC5nZXRJbXBsKCkuZ2V0SXNTaW1wbGUobCxnKTtsZXQgYz1vPy0xOnU7aWYoY2UoYyl8fDA9PT1jKXJldHVybiBjO2NvbnN0IF89bmV3IFBoKHQscyxjLGgsITEpO209PT1uLmVudW1NdWx0aVBvaW50fHxtPT09bi5lbnVtUG9seWxpbmV8fG09PT1uLmVudW1Qb2x5Z29uP2M9Xy5pc1NpbXBsZVBsYW5hckltcGwoKTppKFwiXCIpO3JldHVybiB0LmdldEltcGwoKS5zZXRJc1NpbXBsZShjLGwpLGEmJmEuYXNzaWduKF8ubV9ub25TaW1wbGVSZXN1bHQpLGN9ZnVuY3Rpb24gaWgodCxzLG8sYSxoKXtpZihhJiYoYS5tX3JlYXNvbj0wLGEubV92ZXJ0ZXhJbmRleDE9LTEsYS5tX3ZlcnRleEluZGV4Mj0tMSksdC5pc0VtcHR5KCkpcmV0dXJuIDU7Y29uc3QgbT10LmdldEdlb21ldHJ5VHlwZSgpO2lmKG09PT1uLmVudW1Qb2ludClyZXR1cm4gbWgodCxhKTtjb25zdCBsPW1lKHMsdCwhMSkudG90YWwoKTtpZihtPT09bi5lbnVtRW52ZWxvcGUpe2NvbnN0IHM9dCxuPW5ldyBlO3JldHVybiBzLnF1ZXJ5RW52ZWxvcGUobiksbi5pc0RlZ2VuZXJhdGUobCk/KGEmJihhLm1fcmVhc29uPTQsYS5tX3ZlcnRleEluZGV4MT0tMSxhLm1fdmVydGV4SW5kZXgyPS0xKSwwKTo1fWlmKHIobSkpe2NvbnN0IGU9dCxuPW5ldyBJKHt2ZDplLmdldERlc2NyaXB0aW9uKCl9KTtyZXR1cm4gbi5hZGRTZWdtZW50KGUsITApLGloKG4scyxvLGEsaCl9ZihtKSxkKG0pfHx1KFwiT0dDIHNpbXBsaWZ5IGlzIG5vdCBpbXBsZW1lbnRlZCBmb3IgdGhpcyBnZW9tZXRyeSB0eXBlXCIpO2NvbnN0IGc9WzBdLGM9dC5nZXRJbXBsKCkuZ2V0SXNTaW1wbGUobCxnKTtsZXQgXz1vPy0xOmM7aWYoNT09PV98fDA9PT1fKXJldHVybiBfO2NvbnN0IHA9bmV3IFBoKHQscyxfLGgsITApO209PT1uLmVudW1NdWx0aVBvaW50fHxtPT09bi5lbnVtUG9seWxpbmV8fG09PT1uLmVudW1Qb2x5Z29uPyhfPXAuaXNTaW1wbGVQbGFuYXJJbXBsKCksY2UoXykmJihfPTUpKTppKFwiXCIpO3JldHVybiB0LmdldEltcGwoKS5zZXRJc1NpbXBsZShfLGwpLGEmJmEuYXNzaWduKHAubV9ub25TaW1wbGVSZXN1bHQpLF99ZnVuY3Rpb24gb2godCxzLG8sYSxoKXtpZihhJiYoYS5tX3JlYXNvbj0wLGEubV92ZXJ0ZXhJbmRleDE9LTEsYS5tX3ZlcnRleEluZGV4Mj0tMSksdC5pc0VtcHR5KCkpcmV0dXJuIDU7Y29uc3QgbT10LmdldEdlb21ldHJ5VHlwZSgpO2lmKG09PT1uLmVudW1Qb2ludClyZXR1cm4gbWgodCxhKTtjb25zdCBsPW1lKHMsdCwhMSkudG90YWwoKTtpZihtPT09bi5lbnVtRW52ZWxvcGUpe2NvbnN0IHM9dCxuPWUuY29uc3RydWN0RW1wdHkoKTtyZXR1cm4gcy5xdWVyeUVudmVsb3BlKG4pLG4uaXNEZWdlbmVyYXRlKGwpPyhhJiYoYS5tX3JlYXNvbj00LGEubV92ZXJ0ZXhJbmRleDE9LTEsYS5tX3ZlcnRleEluZGV4Mj0tMSksMCk6NX1pZihyKG0pKXtjb25zdCBlPXQsbj1uZXcgSSh7dmQ6ZS5nZXREZXNjcmlwdGlvbigpfSk7cmV0dXJuIG4uYWRkU2VnbWVudChlLCEwKSxvaChuLHMsbyxhLGgpfWNvbnN0IGc9WzBdLHU9dC5nZXRJbXBsKCkuZ2V0SXNTaW1wbGUobCxnKTtsZXQgYz1vPy0xOnU7aWYoLTEhPT1jKXJldHVybiBjO2NvbnN0IF89bmV3IFBoKHQscyxjLGgsITEpO3JldHVybiBtPT09bi5lbnVtTXVsdGlQb2ludD9jPV8ubXVsdGlwb2ludElzU2ltcGxlQXNGZWF0dXJlKCk6bT09PW4uZW51bVBvbHlsaW5lP2M9Xy5wb2x5bGluZUlzU2ltcGxlQXNGZWF0dXJlKCk6bT09PW4uZW51bVBvbHlnb24/Yz1fLnBvbHlnb25Jc1NpbXBsZUFzRmVhdHVyZSgpOmkoXCJcIiksdC5nZXRJbXBsKCkuc2V0SXNTaW1wbGUoYyxsKSxhJiZhLmFzc2lnbihfLm1fbm9uU2ltcGxlUmVzdWx0KSxjfWZ1bmN0aW9uIGFoKHQscyxvLGEpe2lmKHQuaXNFbXB0eSgpKXJldHVybiB0O2NvbnN0IGg9dC5nZXRHZW9tZXRyeVR5cGUoKTtpZihoPT09bi5lbnVtUG9pbnQpe2NvbnN0IGU9bmV3IHRzO2lmKG1oKHQsZSksMz09PWUubV9yZWFzb24pe2NvbnN0IGU9dC5jbG9uZSgpO3JldHVybiBlLnJlcGxhY2VOYU5zKDEsMCksZX1yZXR1cm4gMj09PWUubV9yZWFzb24/dC5jcmVhdGVJbnN0YW5jZSgpOnR9aWYoaD09PW4uZW51bUVudmVsb3BlKXtjb25zdCBuPW1lKHMsdCwhMCkudG90YWwoKSxyPXQsaT1lLmNvbnN0cnVjdEVtcHR5KCk7cmV0dXJuIHIucXVlcnlFbnZlbG9wZShpKSxpLmlzRGVnZW5lcmF0ZShuKT9yLmNyZWF0ZUluc3RhbmNlKCk6dH1pZihyKGgpKXtjb25zdCBlPXQsbj1uZXcgSSh7dmQ6ZS5nZXREZXNjcmlwdGlvbigpfSk7cmV0dXJuIG4uYWRkU2VnbWVudChlLCEwKSxhaChuLHMsbyxhKX1mKGgpO2NvbnN0IG09bWUocyx0LCExKS50b3RhbCgpLGw9WzBdLGc9dC5nZXRJbXBsKCkuZ2V0SXNTaW1wbGUobSxsKSx1PW8/LTE6ZztpZihjZSh1KSl7aWYoaD09PW4uZW51bVBvbHlnb24mJjAhPT10LmdldEZpbGxSdWxlKCkpe2NvbnN0IGU9dC5jbG9uZSgpO3JldHVybiBlLnNldEZpbGxSdWxlKDApLGV9cmV0dXJuIHR9aWYoKGg9PT1uLmVudW1NdWx0aVBvaW50fHxoPT09bi5lbnVtUG9seWxpbmUpJiZ1Pj0xKXJldHVybiB0O2NvbnN0IGM9bmV3IFBoKHQscyx1LGEsITEpO2xldCBfO3JldHVybiBoPT09bi5lbnVtTXVsdGlQb2ludD9fPWMubXVsdGlwb2ludFNpbXBsaWZ5QXNGZWF0dXJlKCk6aD09PW4uZW51bVBvbHlsaW5lP189Yy5wb2x5bGluZVNpbXBsaWZ5QXNGZWF0dXJlKCk6aD09PW4uZW51bVBvbHlnb24/Xz1jLnBvbHlnb25TaW1wbGlmeUFzRmVhdHVyZSgpOmkoXCJcIiksX31mdW5jdGlvbiBoaCh0LHMsaSxvKXtpZih0LmlzRW1wdHkoKSlyZXR1cm4gdDtjb25zdCBhPXQuZ2V0R2VvbWV0cnlUeXBlKCk7aWYoYT09PW4uZW51bVBvaW50KXtjb25zdCBlPW5ldyB0cztpZihtaCh0LGUpLDM9PT1lLm1fcmVhc29uKXtjb25zdCBlPXQuY2xvbmUoKTtyZXR1cm4gZS5yZXBsYWNlTmFOcygxLDApLGV9cmV0dXJuIDI9PT1lLm1fcmVhc29uP3QuY3JlYXRlSW5zdGFuY2UoKTp0fWlmKGE9PT1uLmVudW1FbnZlbG9wZSl7Y29uc3Qgbj10LHI9bmV3IGU7bi5xdWVyeUVudmVsb3BlKHIpO2NvbnN0IGk9bWUocyx0LCEwKS50b3RhbCgpO3JldHVybiByLmlzRGVnZW5lcmF0ZShpKT9uLmNyZWF0ZUluc3RhbmNlKCk6dH1pZihyKGEpKXtjb25zdCBlPXQsbj1uZXcgSSh7dmQ6ZS5nZXREZXNjcmlwdGlvbigpfSk7cmV0dXJuIG4uYWRkU2VnbWVudChlLCEwKSxoaChuLHMsaSxvKX1mKGEpLGQoYSl8fHUoXCJPR0Mgc2ltcGxpZnkgaXMgbm90IGltcGxlbWVudGVkIGZvciB0aGlzIGdlb21ldHJ5IHR5cGVcIik7Y29uc3QgaD1tZShzLHQsITEpLnRvdGFsKCksbT1bMF0sbD10LmdldEltcGwoKS5nZXRJc1NpbXBsZShoLG0pLGc9aT8tMTpsO2lmKDU9PT1nKXtpZihhPT09bi5lbnVtUG9seWdvbiYmMCE9PXQuZ2V0RmlsbFJ1bGUoKSl7Y29uc3QgZT10LmNsb25lKCk7cmV0dXJuIGUuc2V0RmlsbFJ1bGUoMCksZX1yZXR1cm4gdH1yZXR1cm4gQWEodCxtZShzLHQsITApLCExLGcsbywwLCEwKX1mdW5jdGlvbiBtaChlLHQpe2NvbnN0IHM9ZS5nZXRYKCksbj1lLmdldFkoKTtpZighTnVtYmVyLmlzRmluaXRlKHMpfHwhTnVtYmVyLmlzRmluaXRlKG4pKXJldHVybiB0JiYodC5tX3JlYXNvbj0yLHQubV92ZXJ0ZXhJbmRleDE9LTEsdC5tX3ZlcnRleEluZGV4Mj0tMSksMDtpZihlLmhhc0F0dHJpYnV0ZSgxKSl7Y29uc3Qgcz1lLmdldFooKTtpZighTnVtYmVyLmlzRmluaXRlKHMpKXJldHVybiB0JiYodC5tX3JlYXNvbj1OdW1iZXIuaXNOYU4ocyk/MzoyLHQubV92ZXJ0ZXhJbmRleDE9LTEsdC5tX3ZlcnRleEluZGV4Mj0tMSksMH1yZXR1cm4gNX1jbGFzcyBsaHtjb25zdHJ1Y3Rvcigpe3RoaXMubV9zZWdtZW50PW51bGwsdGhpcy5tX3ZlcnRleEluZGV4PS0xLHRoaXMubV9wYXRoSW5kZXg9LTEsdGhpcy5tX2ZsYWdzPTB9c2V0UmV2ZXJzZWQoZSl7dGhpcy5tX2ZsYWdzJj0tMix0aGlzLm1fZmxhZ3M9dGhpcy5tX2ZsYWdzfChlPzE6MCl9Z2V0UmV2ZXJzZWQoKXtyZXR1cm4hISgxJnRoaXMubV9mbGFncyl9Z2V0UmlnaHRTaWRlKCl7cmV0dXJuIHRoaXMuZ2V0UmV2ZXJzZWQoKT8wOjF9fWZ1bmN0aW9uIGdoKCl7cmV0dXJue3g6LTEseTotMSxpcGF0aDotMSxpdmVydGV4Oi0xLGlwb2x5Z29uOi0xfX1mdW5jdGlvbiB1aChlLHQscyxuLHIpe3JldHVybnt4OmUseTp0LGlwYXRoOnMsaXZlcnRleDpuLGlwb2x5Z29uOnJ9fWZ1bmN0aW9uIGNoKGUsdCl7cmV0dXJuIGUueD09PXQueCYmZS55PT09dC55JiZlLmlwYXRoPT09dC5pcGF0aCYmZS5pdmVydGV4PT09dC5pdmVydGV4JiZlLmlwb2x5Z29uPT09dC5pcG9seWdvbn1mdW5jdGlvbiBfaChlLHQpe2UueD10LngsZS55PXQueSxlLmlwYXRoPXQuaXBhdGgsZS5pdmVydGV4PXQuaXZlcnRleCxlLmlwb2x5Z29uPXQuaXBvbHlnb259ZnVuY3Rpb24gZGgoKXtyZXR1cm57eDotMSx5Oi0xLGlwYXRoOi0xLGl2ZXJ0ZXg6LTEsYkJvdW5kYXJ5OiExLGJFbmRQb2ludDohMX19ZnVuY3Rpb24gcGgoZSx0LHMsbixyLGkpe3JldHVybnt4OmUseTp0LGlwYXRoOnMsaXZlcnRleDpuLGJCb3VuZGFyeTpyLGJFbmRQb2ludDppfX1mdW5jdGlvbiBmaChlLHQpe2UueD10LngsZS55PXQueSxlLmlwYXRoPXQuaXBhdGgsZS5pdmVydGV4PXQuaXZlcnRleCxlLmJCb3VuZGFyeT10LmJCb3VuZGFyeSxlLmJFbmRQb2ludD10LmJFbmRQb2ludH1jbGFzcyB4aCBleHRlbmRzIFlle2NvbnN0cnVjdG9yKGUpe3N1cGVyKCksdGhpcy5tX2hlbHBlcj1lfWNvbXBhcmUoZSx0LHMpe2NvbnN0IG49ZS5nZXRFbGVtZW50KHMpLHI9dGhpcy5tX2hlbHBlci5tX3h5LnJlYWQoMip0KS10aGlzLm1faGVscGVyLm1feHkucmVhZCgyKm4pO3JldHVybiByPDA/LTE6cj4wPzE6MH19Y2xhc3MgeWggZXh0ZW5kcyBZZXtjb25zdHJ1Y3RvcihlKXtzdXBlcigpLHRoaXMubV9oZWxwZXI9ZX1jb21wYXJlKGUsdCxzKXtjb25zdCBuPWUuZ2V0RWxlbWVudChzKSxyPXRoaXMubV9oZWxwZXIubV9lZGdlc1t0XSxpPXRoaXMubV9oZWxwZXIubV9lZGdlc1tuXSxvPXIuZ2V0UmV2ZXJzZWQoKSxhPWkuZ2V0UmV2ZXJzZWQoKTtsZXQgaD1yLm1fc2VnbWVudC5pbnRlcnNlY3Rpb25PZllNb25vdG9uaWNXaXRoQXhpc1godGhpcy5tX2hlbHBlci5tX3lTY2FubGluZSwwKSxtPWkubV9zZWdtZW50LmludGVyc2VjdGlvbk9mWU1vbm90b25pY1dpdGhBeGlzWCh0aGlzLm1faGVscGVyLm1feVNjYW5saW5lLDApO2lmKGg9PT1tKXtjb25zdCBlPW8/ci5tX3NlZ21lbnQuZ2V0U3RhcnRZKCk6ci5tX3NlZ21lbnQuZ2V0RW5kWSgpLHQ9YT9pLm1fc2VnbWVudC5nZXRTdGFydFkoKTppLm1fc2VnbWVudC5nZXRFbmRZKCkscz1NYXRoLm1pbihlLHQpO2xldCBuPS41KihzLXRoaXMubV9oZWxwZXIubV95U2NhbmxpbmUpK3RoaXMubV9oZWxwZXIubV95U2NhbmxpbmU7bj09PXRoaXMubV9oZWxwZXIubV95U2NhbmxpbmUmJihuPXMpLGg9ci5tX3NlZ21lbnQuaW50ZXJzZWN0aW9uT2ZZTW9ub3RvbmljV2l0aEF4aXNYKG4sMCksbT1pLm1fc2VnbWVudC5pbnRlcnNlY3Rpb25PZllNb25vdG9uaWNXaXRoQXhpc1gobiwwKX1yZXR1cm4gaDxtPy0xOmg+bT8xOjB9fWNsYXNzIFBoe2NvbnN0cnVjdG9yKGUsdCxzLG4scil7dGhpcy5tX211bHRpVmVydGV4R2VvbT1udWxsLHRoaXMubV9lZGdlcz1bXSx0aGlzLm1fZnJlZUVkZ2VzPVtdLHRoaXMubV9saW5lRWRnZXNSZWN5Y2xlPVtdLHRoaXMubV9uZXdFZGdlcz1bXSx0aGlzLm1fcmVjeWNsZWRTZWdJdGVyPW51bGwsdGhpcy5tX2Nyb3NzT3ZlckhlbHBlckxpc3Q9bmV3IFBlLHRoaXMubV9wcm9ncmVzc1RyYWNrZXI9bnVsbCx0aGlzLm1fcHJvZ3Jlc3NDb3VudGVyPTAsdGhpcy5tX0FFVD1uZXcgRWUsdGhpcy5tX3h5VG9Ob2RlMT1udWxsLHRoaXMubV94eVRvTm9kZTI9bnVsbCx0aGlzLm1fcGF0aE9yaWVudGF0aW9ucz1udWxsLHRoaXMubV9wYXRoUGFyZW50YWdlPW51bGwsdGhpcy5tX3h5PW51bGwsdGhpcy5tX3BhaXJzPVtdLHRoaXMubV9wYWlySW5kaWNlcz1udWxsLHRoaXMubV9wYXRoc0Zvck9HQ1Rlc3RzPVtdLHRoaXMubV9jdXJ2ZVN0aXRjaGVyPW51bGwsdGhpcy5tX2VkaXRTaGFwZT1udWxsLHRoaXMubV9tdWx0aVBhdGhTdGl0Y2hlcj1udWxsLHRoaXMubV9ub25TaW1wbGVSZXN1bHQ9bmV3IHRzLHRoaXMubV9wcm9ncmVzc0NvdW50ZXI9MCx0aGlzLm1fcHJvZ3Jlc3NUcmFja2VyPW4sdGhpcy5tX2dlb21ldHJ5PWUsdGhpcy5tX2tub3duU2ltcGxlUmVzdWx0PXMsdGhpcy5tX3NyPXQ7Y29uc3QgaT1tZSh0LGUsITEpO3RoaXMubV90b2xlcmFuY2VJc1NpbXBsZT1pLHRoaXMubV90b2xlcmFuY2VJc1NpbXBsZUNsdXN0ZXJpbmc9eWUoaSksdGhpcy5tX3RvbGVyYW5jZUlzU2ltcGxlQ3JhY2tpbmc9U2UoaSksdGhpcy5tX3RvbGVyYW5jZVNpbXBsaWZ5PW1lKHQsZSwhMCksdGhpcy5tX2Rlc2NyaXB0aW9uPXRoaXMubV9nZW9tZXRyeS5nZXREZXNjcmlwdGlvbigpLHRoaXMubV9hdHRyaWJ1dGVDb3VudD10aGlzLm1fZGVzY3JpcHRpb24uZ2V0QXR0cmlidXRlQ291bnQoKSx0aGlzLm1fYk9HQ1Jlc3RyaWN0aW9ucz1yLHRoaXMubV9iUGxhbmFyU2ltcGxpZnk9dGhpcy5tX2JPR0NSZXN0cmljdGlvbnMsdGhpcy5tX3Vua25vd25PcmllbnRhdGlvblBhdGhDb3VudD0tMSx0aGlzLm1feVNjYW5saW5lPTAsdGhpcy5tX3Byb2dyZXNzQ291bnRlcj0wfWlzU2ltcGxlUGxhbmFySW1wbCgpe2lmKHRoaXMubV9iUGxhbmFyU2ltcGxpZnk9ITAsIXRoaXMuY2hlY2tTdHJ1Y3R1cmUoKSlyZXR1cm4gMDtjb25zdCBlPXRoaXMubV9nZW9tZXRyeS5nZXRHZW9tZXRyeVR5cGUoKTtyZXR1cm4gbyhlKSYmIXRoaXMuY2hlY2tEZWdlbmVyYXRlU2VnbWVudHMoITEpPzA6dGhpcy5fQ2hlY2tDbHVzdGVyaW5nKCk/byhlKT90aGlzLl9DaGVja0NyYWNraW5nKCk/dGhpcy5tX2dlb21ldHJ5LmdldEdlb21ldHJ5VHlwZSgpPT09bi5lbnVtUG9seWxpbmU/dGhpcy5jaGVja1NlbGZJbnRlcnNlY3Rpb25zUG9seWxpbmVQbGFuYXIoKT80OjA6dGhpcy5fQ2hlY2tTZWxmSW50ZXJzZWN0aW9ucygpP3RoaXMuX0NoZWNrVmFsaWRSaW5nT3JpZW50YXRpb24oKTowOjA6NTowfWlzU2ltcGxlUGxhbmFySW1wbDNEKCl7cmV0dXJuIGEoMCksN31nZW5lcmF0ZVNvcnRlZFBhaXJzKGUpe2xldCB0PW51bGw7byhlLmdldEdlb21ldHJ5VHlwZSgpKSYmKHQ9ZSk7Y29uc3Qgcz0odGhpcy5tX2JQbGFuYXJTaW1wbGlmeXx8dGhpcy5tX2JPR0NSZXN0cmljdGlvbnMpJiZudWxsIT09dCxuPWUuZ2V0UG9pbnRDb3VudCgpO3RoaXMubV94eT1lLmdldEF0dHJpYnV0ZVN0cmVhbVJlZigwKSx0aGlzLm1fcGFpcnMubGVuZ3RoPTAsdGhpcy5tX3BhaXJJbmRpY2VzPW5ldyBDZSgwKSxzJiYodGhpcy5tX3BhdGhzRm9yT0dDVGVzdHMubGVuZ3RoPTApO2xldCByPTA7Zm9yKGxldCBvPTA7bzxuO28rKylpZih0aGlzLm1fcGFpcnMucHVzaCgyKm8pLHRoaXMubV9wYWlycy5wdXNoKDIqbysxKSx0aGlzLm1fcGFpckluZGljZXMuYWRkKDIqbyksdGhpcy5tX3BhaXJJbmRpY2VzLmFkZCgyKm8rMSkscyl7Zm9yKDtvPj10LmdldFBhdGhFbmQocik7KXIrKzt0aGlzLm1fcGF0aHNGb3JPR0NUZXN0cy5wdXNoKHIpfWNvbnN0IGk9bmV3IEllLGE9e3BhcmVudDp0aGlzLHdvcmtQdDpuZXcgUWUsdXNlclNvcnQoZSx0LG4pe24uc29ydChlLHQsKChlLHQpPT50aGlzLnBhcmVudC5jb21wYXJlVmVydGljZXNGb3JQbGFuYXJDbHVzdGVyaW5nKGUsdCxzKSkpfSxnZXRWYWx1ZShlKXtjb25zdCB0PXRoaXMucGFyZW50Lm1fcGFpcnNbZV0scz10Pj4xO3RoaXMucGFyZW50Lm1feHkucXVlcnlQb2ludDJEKDIqcyx0aGlzLndvcmtQdCk7cmV0dXJuIHRoaXMud29ya1B0LnkrKDEmdD90aGlzLnBhcmVudC5tX3RvbGVyYW5jZUlzU2ltcGxlQ2x1c3RlcmluZzotdGhpcy5wYXJlbnQubV90b2xlcmFuY2VJc1NpbXBsZUNsdXN0ZXJpbmcpfX07aS5zb3J0KHRoaXMubV9wYWlySW5kaWNlcywwLDIqbixhKX1fVGVzdFRvbGVyYW5jZURpc3RhbmNlUGxhbmFyKGUsdCl7Y29uc3Qgcz10aGlzLm1feHkucmVhZCgyKmUpLG49dGhpcy5tX3h5LnJlYWQoMiplKzEpLHI9dGhpcy5tX3h5LnJlYWQoMip0KSxpPXRoaXMubV94eS5yZWFkKDIqdCsxKTtpZighIWxuKHMsbixyLGksdGhpcy5tX3RvbGVyYW5jZUlzU2ltcGxlQ2x1c3RlcmluZyp0aGlzLm1fdG9sZXJhbmNlSXNTaW1wbGVDbHVzdGVyaW5nKSl7aWYoMD09PXRoaXMubV9nZW9tZXRyeS5nZXREaW1lbnNpb24oKSlyZXR1cm4hMTtyZXR1cm4gcz09PXImJm49PT1pfXJldHVybiEwfWNoZWNrU3RydWN0dXJlKCl7Y29uc3QgZT10aGlzLm1fZ2VvbWV0cnkuZ2V0R2VvbWV0cnlUeXBlKCk7aWYobyhlKSl7Y29uc3QgZT10aGlzLm1fZ2VvbWV0cnkuZ2V0SW1wbCgpLHQ9dGhpcy5tX2dlb21ldHJ5LmdldEdlb21ldHJ5VHlwZSgpPT09bi5lbnVtUG9seWdvbj8zOjI7Zm9yKGxldCBzPTAsbj1lLmdldFBhdGhDb3VudCgpO3M8bjtzKyspaWYoZS5nZXRQYXRoU2l6ZShzKTx0KXtpZihlLmhhc05vbkxpbmVhclNlZ21lbnRzKCkmJmUuaGFzTm9uTGluZWFyU2VnbWVudHNQYXRoKHMpJiZlLmdldFBhdGhTaXplKHMpPjApY29udGludWU7cmV0dXJuIHRoaXMubV9ub25TaW1wbGVSZXN1bHQ9bmV3IHRzKDEscywwKSwhMX19aWYoZChlKSl7Y29uc3QgZT10aGlzLm1fZ2VvbWV0cnkuZ2V0SW1wbCgpLHQ9ZS5nZXRBdHRyaWJ1dGVTdHJlYW1SZWYoMCk7Zm9yKGxldCBzPTAsbj1lLmdldFBvaW50Q291bnQoKTtzPG47cysrKXtpZighdC5yZWFkUG9pbnQyRCgyKnMpLmlzRmluaXRlKCkpcmV0dXJuIHRoaXMubV9ub25TaW1wbGVSZXN1bHQ9bmV3IHRzKDIscywwKSwhMX1pZih0aGlzLm1fZ2VvbWV0cnkuaGFzQXR0cmlidXRlKDEpKXtjb25zdCB0PWUuZ2V0QXR0cmlidXRlU3RyZWFtUmVmKDEpO2ZvcihsZXQgcz0wLG49ZS5nZXRQb2ludENvdW50KCk7czxuO3MrKyl7Y29uc3QgZT10LnJlYWQocyk7aWYoIU51bWJlci5pc0Zpbml0ZShlKSlyZXR1cm4gTnVtYmVyLmlzTmFOKGUpP3RoaXMubV9ub25TaW1wbGVSZXN1bHQ9bmV3IHRzKDMscywwKTp0aGlzLm1fbm9uU2ltcGxlUmVzdWx0PW5ldyB0cygyLHMsMCksITF9fX1yZXR1cm4hMH1jaGVja0RlZ2VuZXJhdGVTZWdtZW50cyhlKXtjb25zdCB0PXRoaXMubV9nZW9tZXRyeS5nZXRJbXBsKCkscz10LnF1ZXJ5U2VnbWVudEl0ZXJhdG9yKCksbj10Lmhhc0F0dHJpYnV0ZSgxKSxyPW4/YmUodGhpcy5tX3NyLHQsITEpLnRvdGFsKCk6MCxpPXQuaGFzTm9uTGluZWFyU2VnbWVudHMoKSxvPXRoaXMubV90b2xlcmFuY2VJc1NpbXBsZS50b3RhbCgpO2Zvcig7cy5uZXh0UGF0aCgpOylmb3IoO3MuaGFzTmV4dFNlZ21lbnQoKTspe2NvbnN0IHQ9cy5uZXh0U2VnbWVudCgpO2xldCBhPXQuY2FsY3VsYXRlTG93ZXJMZW5ndGgyRCgpO2lmKCEoYT5vKSYmIShpJiZ0LmlzQ3VydmUoKSYmKGE9dC5jYWxjdWxhdGVMZW5ndGgyRCgpLGE+bykpKXtpZihlJiZuKXtjb25zdCBlPXQuZ2V0U3RhcnRBdHRyaWJ1dGVBc0RibCgxLDApLHM9dC5nZXRFbmRBdHRyaWJ1dGVBc0RibCgxLDApO2lmKE1hdGguYWJzKHMtZSk+ciljb250aW51ZX1yZXR1cm4gdGhpcy5tX25vblNpbXBsZVJlc3VsdD1uZXcgdHMoNCxzLmdldFN0YXJ0UG9pbnRJbmRleCgpLC0xKSwhMX19cmV0dXJuITB9Y2hlY2tEZWdlbmVyYXRlU2VnbWVudHMzRCgpe3JldHVybiBhKDApLCExfV9DaGVja0NsdXN0ZXJpbmcoKXtjb25zdCBlPXRoaXMubV9nZW9tZXRyeS5nZXRJbXBsKCk7dGhpcy5nZW5lcmF0ZVNvcnRlZFBhaXJzKGUpO2NvbnN0IHQ9ZS5nZXRQb2ludENvdW50KCk7dGhpcy5tX0FFVC5jbGVhcigpLHRoaXMubV9BRVQuc2V0Q29tcGFyYXRvcihuZXcgeGgodGhpcykpLHRoaXMubV9BRVQuc2V0Q2FwYWNpdHkodCk7Zm9yKGxldCBzPTAsbj0yKnQ7czxuO3MrKyl7dGhpcy5wcm9ncmVzc18oKTtjb25zdCBlPXRoaXMubV9wYWlySW5kaWNlcy5yZWFkKHMpLHQ9dGhpcy5tX3BhaXJzW2VdLG49dD4+MTtpZigxJnQpe2NvbnN0IGU9dGhpcy5tX0FFVC5zZWFyY2gobiksdD10aGlzLm1fQUVULmdldFByZXYoZSkscz10aGlzLm1fQUVULmdldE5leHQoZSk7aWYodGhpcy5tX0FFVC5kZWxldGVOb2RlKGUpLHQhPT1FZS5zdF9udWxsTm9kZSgpJiZzIT09RWUuc3RfbnVsbE5vZGUoKSYmIXRoaXMuX1Rlc3RUb2xlcmFuY2VEaXN0YW5jZVBsYW5hcih0aGlzLm1fQUVULmdldEVsZW1lbnQodCksdGhpcy5tX0FFVC5nZXRFbGVtZW50KHMpKSlyZXR1cm4gdGhpcy5tX25vblNpbXBsZVJlc3VsdD1uZXcgdHMoNSx0aGlzLm1fQUVULmdldEVsZW1lbnQodCksdGhpcy5tX0FFVC5nZXRFbGVtZW50KHMpKSwhMX1lbHNle2NvbnN0IGU9dGhpcy5tX0FFVC5hZGRFbGVtZW50KG4pLHQ9dGhpcy5tX0FFVC5nZXRQcmV2KGUpO2lmKHQhPT1FZS5zdF9udWxsTm9kZSgpJiYhdGhpcy5fVGVzdFRvbGVyYW5jZURpc3RhbmNlUGxhbmFyKHRoaXMubV9BRVQuZ2V0RWxlbWVudCh0KSxuKSlyZXR1cm4gdGhpcy5tX25vblNpbXBsZVJlc3VsdD1uZXcgdHMoNSxuLHRoaXMubV9BRVQuZ2V0RWxlbWVudCh0KSksITE7Y29uc3Qgcz10aGlzLm1fQUVULmdldE5leHQoZSk7aWYocyE9PUVlLnN0X251bGxOb2RlKCkmJiF0aGlzLl9UZXN0VG9sZXJhbmNlRGlzdGFuY2VQbGFuYXIodGhpcy5tX0FFVC5nZXRFbGVtZW50KHMpLG4pKXJldHVybiB0aGlzLm1fbm9uU2ltcGxlUmVzdWx0PW5ldyB0cyg1LG4sdGhpcy5tX0FFVC5nZXRFbGVtZW50KHMpKSwhMX19cmV0dXJuITB9X0NoZWNrQ3JhY2tpbmcoKXtjb25zdCBlPXRoaXMubV9nZW9tZXRyeS5nZXRJbXBsKCksdD1lLmdldFBvaW50Q291bnQoKTtyZXR1cm4hZS5oYXNOb25MaW5lYXJTZWdtZW50cygpJiZ0PDEwP3RoaXMuX0NoZWNrQ3JhY2tpbmdCcnV0ZSgpOnRoaXMuX0NoZWNrQ3JhY2tpbmdQbGFuZXN3ZWVwKCl9X0NoZWNrQ3JhY2tpbmdQbGFuZXN3ZWVwKCl7aWYodGhpcy5tX2VkaXRTaGFwZT1uZXcgRyx0aGlzLm1fZWRpdFNoYXBlLmFkZEdlb21ldHJ5KHRoaXMubV9nZW9tZXRyeSksdGhpcy5tX2VkaXRTaGFwZS5oYXNDdXJ2ZXMoKSl7dGhpcy5tX2N1cnZlU3RpdGNoZXI9bmV3IGZhO2NvbnN0IHQ9ZS5jb25zdHJ1Y3RFbXB0eSgpO3RoaXMubV9nZW9tZXRyeS5xdWVyeUVudmVsb3BlKHQpO2NvbnN0IHM9X2EodGhpcy5tX3RvbGVyYW5jZVNpbXBsaWZ5LnRvdGFsKCksdCksbj1uZXcgdHM7aWYobGEodGhpcy5tX2VkaXRTaGFwZSxzLHRoaXMubV90b2xlcmFuY2VTaW1wbGlmeS50b3RhbCgpLDEyZTMsbix0aGlzLm1fY3VydmVTdGl0Y2hlcixudWxsLHRoaXMubV9wcm9ncmVzc1RyYWNrZXIpLDAhPT1uLm1fcmVhc29uKXJldHVybiB0aGlzLm1fZWRpdFNoYXBlPW51bGwsdGhpcy5tX25vblNpbXBsZVJlc3VsdC5hc3NpZ24obiksITF9Y29uc3QgdD1uZXcgdHM7cmV0dXJuIE1uKCExLHRoaXMubV9lZGl0U2hhcGUsdGhpcy5tX3RvbGVyYW5jZUlzU2ltcGxlQ3JhY2tpbmcsdCx0aGlzLm1fcHJvZ3Jlc3NUcmFja2VyKT8obnVsbCE9dGhpcy5tX2N1cnZlU3RpdGNoZXI/KHQubV92ZXJ0ZXhJbmRleDE9dGhpcy5tX2N1cnZlU3RpdGNoZXIuZ2V0T3JpZ2luYWxWZXJ0ZXhJbmRleCh0aGlzLm1fZWRpdFNoYXBlLHQubV92ZXJ0ZXhJbmRleDEpLHQubV92ZXJ0ZXhJbmRleDI9dGhpcy5tX2N1cnZlU3RpdGNoZXIuZ2V0T3JpZ2luYWxWZXJ0ZXhJbmRleCh0aGlzLm1fZWRpdFNoYXBlLHQubV92ZXJ0ZXhJbmRleDIpLHRoaXMubV9jdXJ2ZVN0aXRjaGVyPW51bGwpOih0Lm1fdmVydGV4SW5kZXgxPXRoaXMubV9lZGl0U2hhcGUuZ2V0VmVydGV4SW5kZXgodC5tX3ZlcnRleEluZGV4MSksdC5tX3ZlcnRleEluZGV4Mj10aGlzLm1fZWRpdFNoYXBlLmdldFZlcnRleEluZGV4KHQubV92ZXJ0ZXhJbmRleDIpKSx0aGlzLm1fZWRpdFNoYXBlPW51bGwsdGhpcy5tX25vblNpbXBsZVJlc3VsdC5hc3NpZ24odCksITEpOihudWxsPT10aGlzLm1fY3VydmVTdGl0Y2hlciYmKHRoaXMubV9lZGl0U2hhcGU9bnVsbCksITApfV9DaGVja0NyYWNraW5nQnJ1dGUoKXtjb25zdCBlPXRoaXMubV9nZW9tZXRyeS5nZXRJbXBsKCksdD1lLnF1ZXJ5U2VnbWVudEl0ZXJhdG9yKCkscz1lLnF1ZXJ5U2VnbWVudEl0ZXJhdG9yKCk7Zm9yKDt0Lm5leHRQYXRoKCk7KWZvcig7dC5oYXNOZXh0U2VnbWVudCgpOyl7Y29uc3QgZT10Lm5leHRTZWdtZW50KCk7aWYoIXQuaXNMYXN0U2VnbWVudEluUGF0aCgpfHwhdC5pc0xhc3RQYXRoKCkpe3MucmVzZXRUbyh0KTtkb3tmb3IoO3MuaGFzTmV4dFNlZ21lbnQoKTspe2NvbnN0IG49cy5uZXh0U2VnbWVudCgpLHI9VSghMCxlLG4sdGhpcy5tX3RvbGVyYW5jZUlzU2ltcGxlQ3JhY2tpbmcsITApO2lmKHIpe2NvbnN0IGU9Mj09PXI/Nzo2O3JldHVybiB0aGlzLm1fbm9uU2ltcGxlUmVzdWx0PW5ldyB0cyhlLHQuZ2V0U3RhcnRQb2ludEluZGV4KCkscy5nZXRTdGFydFBvaW50SW5kZXgoKSksITF9fX13aGlsZShzLm5leHRQYXRoKCkpfX1yZXR1cm4hMH1fQ2hlY2tTZWxmSW50ZXJzZWN0aW9ucygpe2xldCBlPXRoaXMubV9nZW9tZXRyeS5nZXRJbXBsKCk7bnVsbCE9PXRoaXMubV9jdXJ2ZVN0aXRjaGVyJiYodGhpcy5tX211bHRpUGF0aFN0aXRjaGVyPXRoaXMubV9lZGl0U2hhcGUuZ2V0R2VvbWV0cnkodGhpcy5tX2VkaXRTaGFwZS5nZXRGaXJzdEdlb21ldHJ5KCkpLGU9dGhpcy5tX211bHRpUGF0aFN0aXRjaGVyLmdldEltcGwoKSx0aGlzLmdlbmVyYXRlU29ydGVkUGFpcnMoZSkpLHRoaXMubV9lZGdlcy5sZW5ndGg9MCx0aGlzLm1fbGluZUVkZ2VzUmVjeWNsZS5sZW5ndGg9MCx0aGlzLm1fcmVjeWNsZWRTZWdJdGVyPWUucXVlcnlTZWdtZW50SXRlcmF0b3IoKSx0aGlzLm1fcmVjeWNsZWRTZWdJdGVyLnNldENpcmN1bGF0b3IoITApO2NvbnN0IHQ9W10scz1lLmdldFBvaW50Q291bnQoKTtsZXQgbj1OdW1iZXIuTmFOLHI9MDtmb3IobGV0IGk9MCxvPTIqcztpPG87aSsrKXt0aGlzLnByb2dyZXNzXygpO2NvbnN0IGU9dGhpcy5tX3BhaXJJbmRpY2VzLnJlYWQoaSkscz10aGlzLm1fcGFpcnNbZV07aWYoMSZzKWNvbnRpbnVlO2NvbnN0IG89cz4+MSxhPXRoaXMubV94eS5yZWFkKDIqbyksaD10aGlzLm1feHkucmVhZCgyKm8rMSk7aWYodC5sZW5ndGgmJihhIT09bnx8aCE9PXIpKXtpZighdGhpcy5wcm9jZXNzQnVuY2hGb3JTZWxmSW50ZXJzZWN0aW9uVGVzdCh0KSlyZXR1cm4hMTt0Lmxlbmd0aD0wfXQucHVzaChvKSxuPWEscj1ofXJldHVybiEhdGhpcy5wcm9jZXNzQnVuY2hGb3JTZWxmSW50ZXJzZWN0aW9uVGVzdCh0KX1jaGVja1NlbGZJbnRlcnNlY3Rpb25zUG9seWxpbmVQbGFuYXIoKXtjb25zdCBlPXRoaXMubV9nZW9tZXRyeS5nZXRJbXBsKCksdD1bXTtmb3IobGV0IG89MCxhPWUuZ2V0UGF0aENvdW50KCk7bzxhO28rKyl0LnB1c2goZS5pc0Nsb3NlZFBhdGhJblhZUGxhbmUobykpO2NvbnN0IHM9ZGgoKTtsZXQgbixyLGk7e2NvbnN0IG89dGhpcy5tX3BhaXJJbmRpY2VzLnJlYWQoMCksYT10aGlzLm1fcGFpcnNbb10+PjEsaD10aGlzLm1feHkucmVhZFBvaW50MkQoMiphKSxtPXRoaXMubV9wYXRoc0Zvck9HQ1Rlc3RzW2FdO249dFttXSxyPWUuZ2V0UGF0aFN0YXJ0KG0pLGk9ZS5nZXRQYXRoRW5kKG0pLTEscy5iRW5kUG9pbnQ9YT09PXJ8fGE9PT1pLHRoaXMubV9iT0dDUmVzdHJpY3Rpb25zP3MuYkJvdW5kYXJ5PSFuJiZzLmJFbmRQb2ludDpzLmJCb3VuZGFyeT1zLmJFbmRQb2ludCxzLmlwYXRoPW0scy54PWgueCxzLnk9aC55LHMuaXZlcnRleD1hfWZvcihsZXQgbz0xLGE9dGhpcy5tX3BhaXJJbmRpY2VzLnNpemUoKTtvPGE7bysrKXtjb25zdCBhPXRoaXMubV9wYWlySW5kaWNlcy5yZWFkKG8pLGg9dGhpcy5tX3BhaXJzW2FdO2lmKDEmaCljb250aW51ZTtjb25zdCBtPWg+PjEsbD10aGlzLm1feHkucmVhZFBvaW50MkQoMiptKSxnPXRoaXMubV9wYXRoc0Zvck9HQ1Rlc3RzW21dO2xldCB1O2chPT1zLmlwYXRoJiYobj10W2ddLHI9ZS5nZXRQYXRoU3RhcnQoZyksaT1lLmdldFBhdGhFbmQoZyktMSk7Y29uc3QgYz1tPT09cnx8bT09PWk7dT10aGlzLm1fYk9HQ1Jlc3RyaWN0aW9ucz8hbiYmYzpjO2NvbnN0IF89cGgobC54LGwueSxnLG0sdSxjKTtpZihfLng9PT1zLngmJl8ueT09PXMueSlpZih0aGlzLm1fYk9HQ1Jlc3RyaWN0aW9ucyl7aWYoIShfLmJCb3VuZGFyeSYmcy5iQm91bmRhcnl8fF8uaXBhdGg9PT1zLmlwYXRoJiZfLmJFbmRQb2ludCYmcy5iRW5kUG9pbnQpKXJldHVybiB0aGlzLm1fbm9uU2ltcGxlUmVzdWx0PW5ldyB0cygxMCxfLml2ZXJ0ZXgscy5pdmVydGV4KSwhMX1lbHNlIGlmKCFfLmJFbmRQb2ludHx8IXMuYkVuZFBvaW50KXJldHVybiB0aGlzLm1fbm9uU2ltcGxlUmVzdWx0PW5ldyB0cyg3LF8uaXZlcnRleCxzLml2ZXJ0ZXgpLCExO2ZoKHMsXyl9cmV0dXJuITB9Y2hlY2tTZWxmSW50ZXJzZWN0aW9uc1BvbHlsaW5lUGxhbmFyM0QoZSl7cmV0dXJuIGEoMCksITF9Y2hlY2tTZWxmSW50ZXJzZWN0aW9uc1BvbHlnb25zT0dDKCl7Y29uc3QgZT10aGlzLm1fZ2VvbWV0cnkuZ2V0SW1wbCgpLHQ9W107bGV0IHM9LTEsbj0hMTtmb3IobGV0IGw9MCxnPWUuZ2V0UGF0aENvdW50KCk7bDxnO2wrKyllLmlzRXh0ZXJpb3JSaW5nT0dDKGwpJiYobj0hMSxzKyssbDxnLTEmJihlLmlzRXh0ZXJpb3JSaW5nT0dDKGwrMSl8fChuPSEwKSkpLHQucHVzaChuP3M6LTEpO2NvbnN0IHI9Z2goKTt7Y29uc3QgZT10aGlzLm1fcGFpckluZGljZXMucmVhZCgwKSxzPXRoaXMubV9wYWlyc1tlXT4+MSxuPXRoaXMubV94eS5yZWFkUG9pbnQyRCgyKnMpLGk9dGhpcy5tX3BhdGhzRm9yT0dDVGVzdHNbc107ci5pcGF0aD1pLHIueD1uLngsci55PW4ueSxyLml2ZXJ0ZXg9cyxyLmlwb2x5Z29uPXRbaV19Y29uc3QgaT1bXTtmb3IobGV0IGw9MSxnPXRoaXMubV9wYWlySW5kaWNlcy5zaXplKCk7bDxnO2wrKyl7Y29uc3QgZT10aGlzLm1fcGFpckluZGljZXMucmVhZChsKSxzPXRoaXMubV9wYWlyc1tlXTtpZigxJnMpY29udGludWU7Y29uc3Qgbj1zPj4xLG89dGhpcy5tX3h5LnJlYWRQb2ludDJEKDIqbiksYT10aGlzLm1fcGF0aHNGb3JPR0NUZXN0c1tuXSxoPXVoKG8ueCxvLnksYSxuLHRbYV0pO2lmKGgueD09PXIueCYmaC55PT09ci55KXtpZihoLmlwYXRoPT09ci5pcGF0aClyZXR1cm4gdGhpcy5tX25vblNpbXBsZVJlc3VsdD1uZXcgdHMoMTEsaC5pdmVydGV4LHIuaXZlcnRleCksITE7dFtoLmlwYXRoXT49MCYmdFtoLmlwYXRoXT09PXRbci5pcGF0aF0mJigwIT09aS5sZW5ndGgmJmNoKGkuYXQoLTEpLHIpfHxpLnB1c2goey4uLnJ9KSxpLnB1c2goaCkpfV9oKHIsaCl9aWYoMD09PWkubGVuZ3RoKXJldHVybiEwO2NvbnN0IG89bmV3IFBlKCEwKTt0LmZpbGwoLTEpO2xldCBhPS0xO2NvbnN0IGg9bmV3IFFlO2ZvcihsZXQgbD0wLGc9aS5sZW5ndGg7bDxnO2wrKyl7Y29uc3QgZT1pW2xdO2UueD09PWgueCYmZS55PT09aC55fHwoYT1vLmNyZWF0ZUxpc3QoMCksaC54PWUueCxoLnk9ZS55KTtsZXQgcz10W2UuaXBhdGhdOy0xPT09cyYmKHM9by5jcmVhdGVMaXN0KDIpLHRbZS5pcGF0aF09cyksby5hZGRFbGVtZW50KHMsYSksby5hZGRFbGVtZW50KGEscyl9Y29uc3QgbT1bXTtmb3IobGV0IGw9by5nZXRGaXJzdExpc3QoKTstMSE9PWw7bD1vLmdldE5leHRMaXN0KGwpKXtjb25zdCBlPW8uZ2V0TGlzdERhdGEobCk7aWYoMSZlfHwhKDImZSkpY29udGludWU7bGV0IHM9LTE7Zm9yKG0ucHVzaChsKSxtLnB1c2goLTEpO20ubGVuZ3RoOyl7Y29uc3QgZT1tLmF0KC0xKTttLnBvcCgpO2NvbnN0IHQ9bS5hdCgtMSk7bS5wb3AoKTtjb25zdCBuPW8uZ2V0TGlzdERhdGEodCk7aWYoMSZuKXtzPTImbj90OmU7YnJlYWt9by5zZXRMaXN0RGF0YSh0LDF8bik7Zm9yKGxldCBzPW8uZ2V0Rmlyc3QodCk7LTEhPT1zO3M9by5nZXROZXh0KHMpKXtjb25zdCBuPW8uZ2V0RGF0YShzKTtuIT09ZSYmKG0ucHVzaChuKSxtLnB1c2godCkpfX1pZigtMSE9PXMpe2NvbnN0IGU9dC5pbmRleE9mKHMpO3JldHVybiB0aGlzLm1fbm9uU2ltcGxlUmVzdWx0PW5ldyB0cygxMixlLC0xKSwhMX19cmV0dXJuITB9X0NoZWNrVmFsaWRSaW5nT3JpZW50YXRpb24oKXtjb25zdCBlPW51bGwhPT10aGlzLm1fbXVsdGlQYXRoU3RpdGNoZXI/dGhpcy5tX211bHRpUGF0aFN0aXRjaGVyLmdldEltcGwoKTp0aGlzLm1fZ2VvbWV0cnkuZ2V0SW1wbCgpO2lmKGUuY2FsY3VsYXRlQXJlYTJEKCk8PTApcmV0dXJuIHRoaXMubV9ub25TaW1wbGVSZXN1bHQ9bmV3IHRzKDgsMT09PWUuZ2V0UGF0aENvdW50KCk/MTotMSwtMSksMDtpZigxPT09ZS5nZXRQYXRoQ291bnQoKSlyZXR1cm4gdGhpcy5tX2JPR0NSZXN0cmljdGlvbnMmJiF0aGlzLmNoZWNrU2VsZkludGVyc2VjdGlvbnNQb2x5Z29uc09HQygpPzA6NDt0aGlzLm1fcGF0aE9yaWVudGF0aW9ucz1uZXcgd2UoZS5nZXRQYXRoQ291bnQoKSwwKSx0aGlzLm1fcGF0aFBhcmVudGFnZT1uZXcgQ2UoZS5nZXRQYXRoQ291bnQoKSwtMSk7bGV0IHQ9LTEscz0wO2ZvcihsZXQgaT0wLG89ZS5nZXRQYXRoQ291bnQoKTtpPG87aSsrKXtjb25zdCBuPWUuY2FsY3VsYXRlUmluZ0FyZWEyRChpKTtpZih0aGlzLm1fcGF0aE9yaWVudGF0aW9ucy53cml0ZShpLG48MD8wOjgpLG4+MCl0PWkscz1uO2Vsc2V7aWYoMD09PW4pcmV0dXJuIHRoaXMubV9ub25TaW1wbGVSZXN1bHQ9bmV3IHRzKDgsaSwtMSksMDtpZigodDwwfHxzPE1hdGguYWJzKG4pKSYmKHRoaXMubV9ub25TaW1wbGVSZXN1bHQ9bmV3IHRzKDksaSwtMSksdGhpcy5tX2JPR0NSZXN0cmljdGlvbnMpKXJldHVybiAwO3RoaXMubV9wYXRoUGFyZW50YWdlLndyaXRlKGksdCl9fXRoaXMubV91bmtub3duT3JpZW50YXRpb25QYXRoQ291bnQ9ZS5nZXRQYXRoQ291bnQoKSx0aGlzLm1fbmV3RWRnZXMubGVuZ3RoPTA7Y29uc3Qgbj1lLmdldFBvaW50Q291bnQoKTt0aGlzLm1feVNjYW5saW5lPU51bWJlci5OYU47Y29uc3Qgcj1bXTt0aGlzLm1feHlUb05vZGUxPW5ldyBDZShuLEVlLnN0X251bGxOb2RlKCkpLHRoaXMubV94eVRvTm9kZTI9bmV3IENlKG4sRWUuc3RfbnVsbE5vZGUoKSksdGhpcy5tX2ZyZWVFZGdlcy5sZW5ndGg9MCx0aGlzLm1fQUVULmNsZWFyKCksdGhpcy5tX0FFVC5zZXRDb21wYXJhdG9yKG5ldyB5aCh0aGlzKSk7Zm9yKGxldCBpPTAsbz0yKm47dGhpcy5tX3Vua25vd25PcmllbnRhdGlvblBhdGhDb3VudD4wJiZpPG87aSsrKXtjb25zdCBlPXRoaXMubV9wYWlySW5kaWNlcy5yZWFkKGkpLHQ9dGhpcy5tX3BhaXJzW2VdO2lmKDEmdCljb250aW51ZTtjb25zdCBzPXQ+PjEsbj10aGlzLm1feHkucmVhZCgyKnMrMSk7aWYobiE9PXRoaXMubV95U2NhbmxpbmUmJnIubGVuZ3RoKXtpZighdGhpcy5wcm9jZXNzQnVuY2hGb3JSaW5nT3JpZW50YXRpb25UZXN0KHIpKXJldHVybiAwO3IubGVuZ3RoPTB9ci5wdXNoKHMpLHRoaXMubV95U2NhbmxpbmU9bn1yZXR1cm4gdGhpcy5tX3Vua25vd25PcmllbnRhdGlvblBhdGhDb3VudD4wJiYhdGhpcy5wcm9jZXNzQnVuY2hGb3JSaW5nT3JpZW50YXRpb25UZXN0KHIpPzA6dGhpcy5tX2JPR0NSZXN0cmljdGlvbnM/MCE9PXRoaXMubV9ub25TaW1wbGVSZXN1bHQubV9yZWFzb24/MDp0aGlzLmNoZWNrU2VsZkludGVyc2VjdGlvbnNQb2x5Z29uc09HQygpPzU6MDowPT09dGhpcy5tX25vblNpbXBsZVJlc3VsdC5tX3JlYXNvbj80OjN9cHJvY2Vzc0J1bmNoRm9yU2VsZkludGVyc2VjdGlvblRlc3QoZSl7aWYoMT09PWUubGVuZ3RoKXJldHVybiEwO2ZvcihsZXQgbz0wLGE9ZS5sZW5ndGg7bzxhO28rKyl7Y29uc3QgdD1lW29dO3RoaXMubV9yZWN5Y2xlZFNlZ0l0ZXIucmVzZXRUb1ZlcnRleCh0LC0xKTtjb25zdCBzPXRoaXMubV9yZWN5Y2xlZFNlZ0l0ZXIucHJldmlvdXNTZWdtZW50KCk7dGhpcy5tX2VkZ2VzLnB1c2godGhpcy5jcmVhdGVFZGdlKHMsdCx0aGlzLm1fcmVjeWNsZWRTZWdJdGVyLmdldFBhdGhJbmRleCgpLCEwKSksdGhpcy5tX3JlY3ljbGVkU2VnSXRlci5uZXh0U2VnbWVudCgpO2NvbnN0IG49dGhpcy5tX3JlY3ljbGVkU2VnSXRlci5uZXh0U2VnbWVudCgpO3RoaXMubV9lZGdlcy5wdXNoKHRoaXMuY3JlYXRlRWRnZShuLHQsdGhpcy5tX3JlY3ljbGVkU2VnSXRlci5nZXRQYXRoSW5kZXgoKSwhMSkpfXRoaXMubV9lZGdlcy5zb3J0KCgoZSx0KT0+dGhpcy5lZGdlQW5nbGVDb21wYXJlKGUsdCkpKTtsZXQgdD10aGlzLm1fY3Jvc3NPdmVySGVscGVyTGlzdC5nZXRGaXJzdExpc3QoKTstMT09PXQmJih0PXRoaXMubV9jcm9zc092ZXJIZWxwZXJMaXN0LmNyZWF0ZUxpc3QoMCkpLHRoaXMubV9jcm9zc092ZXJIZWxwZXJMaXN0LnJlc2VydmVOb2Rlcyh0aGlzLm1fZWRnZXMubGVuZ3RoKTtmb3IobGV0IG89MCxhPXRoaXMubV9lZGdlcy5sZW5ndGg7bzxhO28rKyl0aGlzLm1fY3Jvc3NPdmVySGVscGVyTGlzdC5hZGRFbGVtZW50KHQsbyk7bGV0IHM9ITAsbj0tMSxyPS0xO2Zvcig7czspe3M9ITE7bGV0IGU9dGhpcy5tX2Nyb3NzT3ZlckhlbHBlckxpc3QuZ2V0Rmlyc3QodCk7aWYoLTE9PT1lKWJyZWFrO2xldCBpPXRoaXMubV9jcm9zc092ZXJIZWxwZXJMaXN0LmdldE5leHQoZSk7Zm9yKDstMSE9PWk7KXtjb25zdCBvPXRoaXMubV9jcm9zc092ZXJIZWxwZXJMaXN0LmdldERhdGEoZSksYT10aGlzLm1fY3Jvc3NPdmVySGVscGVyTGlzdC5nZXREYXRhKGkpO2lmKG49dGhpcy5tX2VkZ2VzW29dLm1fdmVydGV4SW5kZXgscj10aGlzLm1fZWRnZXNbYV0ubV92ZXJ0ZXhJbmRleCxuIT09cillPWksaT10aGlzLm1fY3Jvc3NPdmVySGVscGVyTGlzdC5nZXROZXh0KGUpO2Vsc2UgaWYocz0hMCx0aGlzLm1fY3Jvc3NPdmVySGVscGVyTGlzdC5kZWxldGVFbGVtZW50KHQsZSksZT10aGlzLm1fY3Jvc3NPdmVySGVscGVyTGlzdC5nZXRQcmV2KGkpLGk9dGhpcy5tX2Nyb3NzT3ZlckhlbHBlckxpc3QuZGVsZXRlRWxlbWVudCh0LGkpLC0xPT09aXx8LTE9PT1lKWJyZWFrfX1jb25zdCBpPXRoaXMubV9jcm9zc092ZXJIZWxwZXJMaXN0LmdldExpc3RTaXplKHQpO2lmKHRoaXMubV9jcm9zc092ZXJIZWxwZXJMaXN0LmNsZWFyKHQpLGk+MClyZXR1cm4gdGhpcy5tX25vblNpbXBsZVJlc3VsdD1uZXcgdHMoNyxuLHIpLCExO2ZvcihsZXQgbz0wLGE9ZS5sZW5ndGg7bzxhO28rKyl0aGlzLnJlY3ljbGVFZGdlKHRoaXMubV9lZGdlc1tvXSk7cmV0dXJuIHRoaXMubV9lZGdlcy5sZW5ndGg9MCwhMH1wcm9jZXNzQnVuY2hGb3JSaW5nT3JpZW50YXRpb25UZXN0KGUpe2ZvcihsZXQgdD0wLHM9ZS5sZW5ndGg7dDxzO3QrKyl7Y29uc3Qgcz1lW3RdO2xldCBuPXRoaXMubV94eVRvTm9kZTEucmVhZChzKTtpZihuIT09RWUuc3RfbnVsbE5vZGUoKSl7Y29uc3QgZT10aGlzLm1fQUVULmdldEVsZW1lbnQobik7dGhpcy5tX2ZyZWVFZGdlcy5wdXNoKGUpLHRoaXMubV9BRVQuZGVsZXRlTm9kZShuKSx0aGlzLnJlY3ljbGVFZGdlKHRoaXMubV9lZGdlc1tlXSksdGhpcy5tX2VkZ2VzW2VdPW51bGwsdGhpcy5tX3h5VG9Ob2RlMS53cml0ZShzLEVlLnN0X251bGxOb2RlKCkpfWlmKG49dGhpcy5tX3h5VG9Ob2RlMi5yZWFkKHMpLG4hPT1FZS5zdF9udWxsTm9kZSgpKXtjb25zdCBlPXRoaXMubV9BRVQuZ2V0RWxlbWVudChuKTt0aGlzLm1fZnJlZUVkZ2VzLnB1c2goZSksdGhpcy5tX0FFVC5kZWxldGVOb2RlKG4pLHRoaXMucmVjeWNsZUVkZ2UodGhpcy5tX2VkZ2VzW2VdKSx0aGlzLm1fZWRnZXNbZV09bnVsbCx0aGlzLm1feHlUb05vZGUyLndyaXRlKHMsRWUuc3RfbnVsbE5vZGUoKSl9fWZvcihsZXQgdD0wLHM9ZS5sZW5ndGg7dDxzO3QrKyl7Y29uc3Qgcz1lW3RdO3RoaXMubV9yZWN5Y2xlZFNlZ0l0ZXIucmVzZXRUb1ZlcnRleChzLC0xKTtjb25zdCBuPXRoaXMubV9yZWN5Y2xlZFNlZ0l0ZXIucHJldmlvdXNTZWdtZW50KCk7aWYobi5nZXRTdGFydFkoKT5uLmdldEVuZFkoKSl7Y29uc3QgZT10aGlzLm1fcmVjeWNsZWRTZWdJdGVyLmdldFN0YXJ0UG9pbnRJbmRleCgpLHQ9dGhpcy5jcmVhdGVFZGdlKG4scyx0aGlzLm1fcmVjeWNsZWRTZWdJdGVyLmdldFBhdGhJbmRleCgpLCEwKTtsZXQgcjt0aGlzLm1fZnJlZUVkZ2VzLmxlbmd0aD4wPyhyPXRoaXMubV9mcmVlRWRnZXMuYXQoLTEpLHRoaXMubV9mcmVlRWRnZXMucG9wKCksdGhpcy5tX2VkZ2VzW3JdPXQpOihyPXRoaXMubV9lZGdlcy5sZW5ndGgsdGhpcy5tX2VkZ2VzLnB1c2godCkpO2NvbnN0IGk9dGhpcy5tX0FFVC5hZGRFbGVtZW50KHIpO3RoaXMubV94eVRvTm9kZTEucmVhZChlKT09PUVlLnN0X251bGxOb2RlKCk/dGhpcy5tX3h5VG9Ob2RlMS53cml0ZShlLGkpOnRoaXMubV94eVRvTm9kZTIud3JpdGUoZSxpKSwzJnRoaXMubV9wYXRoT3JpZW50YXRpb25zLnJlYWQodGhpcy5tX3JlY3ljbGVkU2VnSXRlci5nZXRQYXRoSW5kZXgoKSl8fHRoaXMubV9uZXdFZGdlcy5wdXNoKGkpfXRoaXMubV9yZWN5Y2xlZFNlZ0l0ZXIubmV4dFNlZ21lbnQoKTtjb25zdCByPXRoaXMubV9yZWN5Y2xlZFNlZ0l0ZXIubmV4dFNlZ21lbnQoKTtpZihyLmdldFN0YXJ0WSgpPHIuZ2V0RW5kWSgpKXtjb25zdCBlPXRoaXMubV9yZWN5Y2xlZFNlZ0l0ZXIuZ2V0RW5kUG9pbnRJbmRleCgpLHQ9dGhpcy5jcmVhdGVFZGdlKHIscyx0aGlzLm1fcmVjeWNsZWRTZWdJdGVyLmdldFBhdGhJbmRleCgpLCExKTtsZXQgbjt0aGlzLm1fZnJlZUVkZ2VzLmxlbmd0aD4wPyhuPXRoaXMubV9mcmVlRWRnZXMuYXQoLTEpLHRoaXMubV9mcmVlRWRnZXMucG9wKCksdGhpcy5tX2VkZ2VzW25dPXQpOihuPXRoaXMubV9lZGdlcy5sZW5ndGgsdGhpcy5tX2VkZ2VzLnB1c2godCkpO2NvbnN0IGk9dGhpcy5tX0FFVC5hZGRFbGVtZW50KG4pO3RoaXMubV94eVRvTm9kZTEucmVhZChlKT09PUVlLnN0X251bGxOb2RlKCk/dGhpcy5tX3h5VG9Ob2RlMS53cml0ZShlLGkpOnRoaXMubV94eVRvTm9kZTIud3JpdGUoZSxpKSwzJnRoaXMubV9wYXRoT3JpZW50YXRpb25zLnJlYWQodGhpcy5tX3JlY3ljbGVkU2VnSXRlci5nZXRQYXRoSW5kZXgoKSl8fHRoaXMubV9uZXdFZGdlcy5wdXNoKGkpfX1mb3IobGV0IHQ9MCxzPXRoaXMubV9uZXdFZGdlcy5sZW5ndGg7dDxzJiZ0aGlzLm1fdW5rbm93bk9yaWVudGF0aW9uUGF0aENvdW50PjA7dCsrKXtjb25zdCBlPXRoaXMubV9uZXdFZGdlc1t0XSxzPXRoaXMubV9BRVQuZ2V0RWxlbWVudChlKSxuPXRoaXMubV9lZGdlc1tzXS5tX3BhdGhJbmRleDtpZighKDMmdGhpcy5tX3BhdGhPcmllbnRhdGlvbnMucmVhZChuKSkpe2xldCB0PS0xLHM9dGhpcy5tX0FFVC5nZXRQcmV2KGUpLG49ZSxyPTA7e2xldCBlPS0xLGk9bnVsbCxvPS0xLGE9MDtmb3IoO3MhPT1FZS5zdF9udWxsTm9kZSgpJiYoZT10aGlzLm1fQUVULmdldEVsZW1lbnQocyksaT10aGlzLm1fZWRnZXNbZV0sbz1pLm1fcGF0aEluZGV4LGE9dGhpcy5tX3BhdGhPcmllbnRhdGlvbnMucmVhZChvKSwhKDMmYSkpOyluPXMscz10aGlzLm1fQUVULmdldFByZXYocyk7cz09PUVlLnN0X251bGxOb2RlKCk/KHI9MSxzPW4pOih0PTE9PSgzJmEpP286dGhpcy5tX3BhdGhQYXJlbnRhZ2UucmVhZChvKSxyPWkuZ2V0UmlnaHRTaWRlKCk/MDoxLHM9dGhpcy5tX0FFVC5nZXROZXh0KHMpKX1kb3tjb25zdCBlPXRoaXMubV9BRVQuZ2V0RWxlbWVudChzKSxpPXRoaXMubV9lZGdlc1tlXSxvPWkubV9wYXRoSW5kZXg7bGV0IGE9dGhpcy5tX3BhdGhPcmllbnRhdGlvbnMucmVhZChvKTtpZighKDMmYSkpe2lmKHIhPT1pLmdldFJpZ2h0U2lkZSgpKXJldHVybiB0aGlzLm1fbm9uU2ltcGxlUmVzdWx0PW5ldyB0cyg4LG8sLTEpLCExO2NvbnN0IGU9ciYmIWkuZ2V0UmV2ZXJzZWQoKT8xOjI7aWYoYT0tNCZhfGUsdGhpcy5tX3BhdGhPcmllbnRhdGlvbnMud3JpdGUobyxhKSwyPT09ZSYmMD09PXRoaXMubV9ub25TaW1wbGVSZXN1bHQubV9yZWFzb24pe2NvbnN0IGU9dGhpcy5tX3BhdGhQYXJlbnRhZ2UucmVhZChvKTtpZihlIT09dCYmKHRoaXMubV9ub25TaW1wbGVSZXN1bHQ9bmV3IHRzKDksbyxlKSx0aGlzLm1fYk9HQ1Jlc3RyaWN0aW9ucykpcmV0dXJuITF9aWYodGhpcy5tX3Vua25vd25PcmllbnRhdGlvblBhdGhDb3VudC0tLCF0aGlzLm1fdW5rbm93bk9yaWVudGF0aW9uUGF0aENvdW50KXJldHVybiEwfXQ9MT09KDMmYSk/bzp0aGlzLm1fcGF0aFBhcmVudGFnZS5yZWFkKG8pLG49cyxzPXRoaXMubV9BRVQuZ2V0TmV4dChzKSxyPXI/MDoxfXdoaWxlKG4hPT1lKX19cmV0dXJuIHRoaXMubV9uZXdFZGdlcy5sZW5ndGg9MCwhMH1jcmVhdGVFZGdlKGUsdCxzLHIpe2xldCBpO3JldHVybiBlLmdldEdlb21ldHJ5VHlwZSgpPT09bi5lbnVtTGluZT9pPXRoaXMuY3JlYXRlRWRnZUxpbmUoZSk6KGk9bmV3IGxoLGkubV9zZWdtZW50PWUuY2xvbmUoKSksaS5tX3ZlcnRleEluZGV4PXQsaS5tX3BhdGhJbmRleD1zLGkubV9mbGFncz0wLGkuc2V0UmV2ZXJzZWQociksaX1jcmVhdGVFZGdlTGluZShlKXtsZXQgdDtyZXR1cm4gdGhpcy5tX2xpbmVFZGdlc1JlY3ljbGUubGVuZ3RoPjA/KHQ9dGhpcy5tX2xpbmVFZGdlc1JlY3ljbGUuYXQoLTEpLHRoaXMubV9saW5lRWRnZXNSZWN5Y2xlLnBvcCgpLGUuY29weVRvKHQubV9zZWdtZW50KSk6KHQ9bmV3IGxoLHQubV9zZWdtZW50PWUuY2xvbmUoKSksdH1yZWN5Y2xlRWRnZShlKXtlLm1fc2VnbWVudC5nZXRHZW9tZXRyeVR5cGUoKT09PW4uZW51bUxpbmUmJnRoaXMubV9saW5lRWRnZXNSZWN5Y2xlLnB1c2goZSl9c3RhdGljIGlzU2hvcnRTZWdtZW50KGUsdCxzLG4pe2xldCByPWUuY2FsY3VsYXRlTG93ZXJMZW5ndGgyRCgpO2lmKHI8PXMpe2xldCBpPSEwO2lmKGUuaXNDdXJ2ZSgpJiYocj1lLmNhbGN1bGF0ZUxlbmd0aDJEKCksaT1yPD1zKSxpKXtpZih0KXtsZXQgdD1lLmdldEVuZEF0dHJpYnV0ZUFzRGJsKDEsMCk7TnVtYmVyLmlzTmFOKHQpJiYodD0wKTtsZXQgcz1lLmdldFN0YXJ0QXR0cmlidXRlQXNEYmwoMSwwKTtyZXR1cm4gTnVtYmVyLmlzTmFOKHMpJiYocz0wKSxNYXRoLmFicyhzLXQpPD1ufXJldHVybiEwfXJldHVybiExfXJldHVybiExfXN0YXRpYyBpc1Nob3J0U2VnbWVudFBvaW50cyhlLHQscyxuLHIpe2lmKHMpe2NvbnN0IHM9ZS5nZXRYWVooKSxpPXQuZ2V0WFlaKCk7cmV0dXJuIHZlKHMsaSxuLHIpfXtjb25zdCBzPWUuZ2V0WFkoKSxyPXQuZ2V0WFkoKTtyZXR1cm4gUWUuc3FyRGlzdGFuY2UocyxyKTw9bipufX1yZW1vdmVEZWdlbmVyYXRlU2VnbWVudHNGcm9tQ3VydmVkUGF0aChlLHQscyxuKXtjb25zdCByPWUuaGFzQXR0cmlidXRlKDEpLGk9ZS5xdWVyeVNlZ21lbnRJdGVyYXRvcigpO2kucmVzZXRUb1BhdGgodCksYShpLm5leHRQYXRoKCkpO2NvbnN0IG89dGhpcy5tX3RvbGVyYW5jZVNpbXBsaWZ5LnRvdGFsKCk7bGV0IGg9ITEsbT0hMDtjb25zdCBsPW5ldyBmZSxnPW5ldyBmZSx1PW5ldyBRZTtmb3IoO2kuaGFzTmV4dFNlZ21lbnQoKTspe3RoaXMucHJvZ3Jlc3NfKCk7Y29uc3QgZT1pLm5leHRTZWdtZW50KCk7aWYoUGguaXNTaG9ydFNlZ21lbnQoZSxyLG8scykpaWYoaCl7aWYoZS5xdWVyeUVuZChnKSxQaC5pc1Nob3J0U2VnbWVudFBvaW50cyhsLGcscixvLHMpKWNvbnRpbnVlO20mJihuLnN0YXJ0UGF0aFBvaW50KGwpLG09ITEpLGUucXVlcnlFbmQobCksbi5saW5lVG9Qb2ludChsKSxoPSExfWVsc2UgdS5hc3NpZ24oZS5nZXRTdGFydFhZKCkpLGUucXVlcnlTdGFydChsKSxoPSEwO2Vsc2UgaWYoaClpZihlLmlzQ3VydmUoKSl7Y29uc3QgdD1lLmNsb25lKCk7aWYodC5zZXRDb29yZHNGb3JJbnRlcnNlY3Rvcih1LGUuZ2V0RW5kWFkoKSwhMSksdC5zZXRTdGFydChsKSxQaC5pc1Nob3J0U2VnbWVudCh0LHIsbyxzKSljb250aW51ZTtuLmFkZFNlZ21lbnQodCxtKSxtPSExLGg9ITF9ZWxzZXtpZihlLnF1ZXJ5RW5kKGcpLFBoLmlzU2hvcnRTZWdtZW50UG9pbnRzKGwsZyxyLG8scykpY29udGludWU7bSYmKG4uc3RhcnRQYXRoUG9pbnQobCksbT0hMSksbi5saW5lVG9Qb2ludChnKSxoPSExfWVsc2Ugbi5hZGRTZWdtZW50KGUsbSksbT0hMX1pZihtKXJldHVybjtpZighaClyZXR1cm47ZS5pc0Nsb3NlZFBhdGgodCk/ZS5nZXRQb2ludEJ5VmFsKGUuZ2V0UGF0aFN0YXJ0KHQpLGwpOmUuZ2V0UG9pbnRCeVZhbChlLmdldFBhdGhFbmQodCktMSxsKTtjb25zdCBjPW4ucXVlcnlTZWdtZW50SXRlcmF0b3IoKTtjLnJlc2V0VG9MYXN0UGF0aCgpLGMucmVzZXRUb0xhc3RTZWdtZW50KCk7Y29uc3QgXz1uLmdldERlc2NyaXB0aW9uKCkuZ2V0QXR0cmlidXRlQ291bnQoKT4xO2ZvcihhKGMucHJldmlvdXNQYXRoKCkpO2MuaGFzUHJldmlvdXNTZWdtZW50KCk7KXtjb25zdCBlPWMucHJldmlvdXNTZWdtZW50KCk7aWYoZS5pc0N1cnZlKCkpe2NvbnN0IHQ9ZS5jbG9uZSgpO2lmKHQuc2V0Q29vcmRzRm9ySW50ZXJzZWN0b3IoZS5nZXRTdGFydFhZKCksbC5nZXRYWSgpLCExKSwhUGguaXNTaG9ydFNlZ21lbnQodCxyLG8scykpe18mJnQuc2V0RW5kKGwpO2NvbnN0IGU9Yy5nZXRFbmRQb2ludEluZGV4KCk7Zm9yKGxldCB0PW4uZ2V0UG9pbnRDb3VudCgpLTE7dD49ZTt0LS0pbi5yZW1vdmVQb2ludCh0KTtyZXR1cm4gdm9pZCBuLmFkZFNlZ21lbnQodCwhMSl9fWVsc2UgaWYoZS5xdWVyeVN0YXJ0KGcpLCFQaC5pc1Nob3J0U2VnbWVudFBvaW50cyhnLGwscixvLHMpKXtjb25zdCBlPWMuZ2V0RW5kUG9pbnRJbmRleCgpO2ZvcihsZXQgdD1uLmdldFBvaW50Q291bnQoKS0xO3Q+PWU7dC0tKW4ucmVtb3ZlUG9pbnQodCk7cmV0dXJuIHZvaWQgbi5saW5lVG9Qb2ludChsKX19bi5yZW1vdmVQYXRoKG4uZ2V0UGF0aENvdW50KCktMSl9bXVsdGlwb2ludElzU2ltcGxlQXNGZWF0dXJlKCl7aWYoIXRoaXMuY2hlY2tTdHJ1Y3R1cmUoKSlyZXR1cm4gMDtjb25zdCBlPXRoaXMubV9nZW9tZXRyeS5nZXRJbXBsKCk7dGhpcy5tX211bHRpVmVydGV4R2VvbT1lO2NvbnN0IHQ9ZS5nZXRQb2ludENvdW50KCkscz1LZSh0LDApO2ZvcihsZXQgbj0wO248dDtuKyspc1tuXT1uO3Muc29ydCgoKGUsdCk9PnRoaXMuY29tcGFyZVZlcnRpY2VzTXVsdGlQb2ludChlLHQpKSk7Zm9yKGxldCBuPTE7bjx0O24rKylpZigwPT09dGhpcy5jb21wYXJlVmVydGljZXNNdWx0aVBvaW50KHNbbi0xXSxzW25dKSlyZXR1cm4gdGhpcy5tX25vblNpbXBsZVJlc3VsdD1uZXcgdHMoNSxzW24tMV0sc1tuXSksMDtyZXR1cm4gMX1wb2x5bGluZUlzU2ltcGxlQXNGZWF0dXJlKCl7cmV0dXJuIHRoaXMuY2hlY2tTdHJ1Y3R1cmUoKSYmdGhpcy5jaGVja0RlZ2VuZXJhdGVTZWdtZW50cyghMCk/MTowfXBvbHlnb25Jc1NpbXBsZUFzRmVhdHVyZSgpe3JldHVybiB0aGlzLmlzU2ltcGxlUGxhbmFySW1wbCgpfW11bHRpcG9pbnRTaW1wbGlmeUFzRmVhdHVyZSgpe2xldCBlPXRoaXMubV9nZW9tZXRyeS5nZXRJbXBsKCk7Y29uc3QgdD1QaC5oYXNOYW5acyhlKTtsZXQgcyxuPXRoaXMubV9nZW9tZXRyeTt0JiYocz10aGlzLm1fZ2VvbWV0cnkuY2xvbmUoKSxlPXMuZ2V0SW1wbCgpLHMucmVwbGFjZU5hTnMoMSxOZS5nZXREZWZhdWx0VmFsdWUoMSkpLG49cyksdGhpcy5tX211bHRpVmVydGV4R2VvbT1lO2NvbnN0IHI9ZS5nZXRQb2ludENvdW50KCksaT1LZShyLDApO2ZvcihsZXQgZz0wO2c8cjtnKyspaVtnXT1nO2kuc29ydCgoKGUsdCk9PnRoaXMuY29tcGFyZVZlcnRpY2VzTXVsdGlQb2ludChlLHQpKSk7Y29uc3Qgbz1uZXcgQXJyYXkocik7by5maWxsKCExKTtsZXQgYT0tMTtmb3IobGV0IGc9MDtnPHI7ZysrKXtjb25zdCB0PWlbZ107ZS5nZXRYWSh0KS5pc0Zpbml0ZSgpJiYoKGE8MHx8MCE9PXRoaXMuY29tcGFyZVZlcnRpY2VzTXVsdGlQb2ludChhLHQpKSYmKG9bdF09ITApLGE9dCl9Y29uc3QgaD10aGlzLm1fZ2VvbWV0cnkuY3JlYXRlSW5zdGFuY2UoKTtsZXQgbT0wLGw9MDtmb3IobGV0IGc9MDtnPHI7ZysrKW9bZ10/bD1nKzE6KG08bCYmaC5hZGRQb2ludHMobixtLGwpLG09ZysxKTtyZXR1cm4gbTxsJiZoLmFkZFBvaW50cyhuLG0sbCksaC5nZXRJbXBsKCkuc2V0SXNTaW1wbGUoMSx0aGlzLm1fdG9sZXJhbmNlU2ltcGxpZnkudG90YWwoKSksaH1wb2x5bGluZVNpbXBsaWZ5QXNGZWF0dXJlKCl7Y29uc3QgZT10aGlzLm1fZ2VvbWV0cnkuZ2V0SW1wbCgpLHQ9ZS5xdWVyeVNlZ21lbnRJdGVyYXRvcigpLHM9ZS5xdWVyeVNlZ21lbnRJdGVyYXRvcigpLG49dGhpcy5tX2dlb21ldHJ5LmNyZWF0ZUluc3RhbmNlKCkscj10aGlzLm1fZ2VvbWV0cnksaT1lLmhhc0F0dHJpYnV0ZSgxKSxvPWk/YmUodGhpcy5tX3NyLGUsITApLnRvdGFsKCk6MCxhPVtdLGg9W107bGV0IG09bnVsbDtpJiYobT1lLmdldEF0dHJpYnV0ZVN0cmVhbVJlZigxKSk7Y29uc3QgbD1uZXcgZmUsZz1lLmhhc05vbkxpbmVhclNlZ21lbnRzKCksdT10aGlzLm1fdG9sZXJhbmNlU2ltcGxpZnkudG90YWwoKTtmb3IoO3QubmV4dFBhdGgoKTspe2lmKHMubmV4dFBhdGgoKSxlLmdldFBhdGhTaXplKHQuZ2V0UGF0aEluZGV4KCkpPDIpY29udGludWU7aWYoZyYmZS5oYXNOb25MaW5lYXJTZWdtZW50c1BhdGgodC5nZXRQYXRoSW5kZXgoKSkpe3RoaXMucmVtb3ZlRGVnZW5lcmF0ZVNlZ21lbnRzRnJvbUN1cnZlZFBhdGgoZSx0LmdldFBhdGhJbmRleCgpLG8sbik7Y29udGludWV9cy5yZXNldFRvTGFzdFNlZ21lbnQoKTtsZXQgYz0wLF89MCxkPSEwLHA9ITA7Zm9yKDt0Lmhhc05leHRTZWdtZW50KCk7KXt0aGlzLnByb2dyZXNzXygpO2NvbnN0IG49dC5uZXh0U2VnbWVudCgpLHI9cy5wcmV2aW91c1NlZ21lbnQoKTtpZih0LmdldFN0YXJ0UG9pbnRJbmRleCgpPnMuZ2V0U3RhcnRQb2ludEluZGV4KCkpYnJlYWs7aWYoZCl7Y29uc3Qgcz10LmdldFN0YXJ0UG9pbnRJbmRleCgpO2UuZ2V0WFkocykuaXNOQU4oKXx8KGQ9ITEsYS5wdXNoKHMpKX1pZihwKXtjb25zdCB0PXMuZ2V0RW5kUG9pbnRJbmRleCgpO2UuZ2V0WFkodCkuaXNOQU4oKXx8KGgucHVzaCh0KSxwPSExKX1pZighZCl7Y29uc3Qgcz1hLmF0KC0xKSxyPXQuZ2V0RW5kUG9pbnRJbmRleCgpO2lmKHItcz4xKXtjb25zdCB0PW5ldyBRZTt0LnNldFN1YihlLmdldFhZKHMpLGUuZ2V0WFkocikpLGM9dC5sZW5ndGgoKX1lbHNlIGM9bi5jYWxjdWxhdGVMZW5ndGgyRCgpO2lmKGM+dSlhLnB1c2gociksYz0wO2Vsc2UgaWYoaSl7bGV0IGU9bS5yZWFkKHMpO051bWJlci5pc05hTihlKSYmKGU9MCk7bGV0IHQ9bS5yZWFkKHIpO051bWJlci5pc05hTih0KSYmKHQ9MCksTWF0aC5hYnModC1lKT5vJiYoYS5wdXNoKHIpLGM9MCl9fWlmKCFwKXtjb25zdCB0PWguYXQoLTEpLG49cy5nZXRTdGFydFBvaW50SW5kZXgoKTtpZihuLXQ+MSl7Y29uc3Qgcz1uZXcgUWU7cy5zZXRTdWIoZS5nZXRYWSh0KSxlLmdldFhZKG4pKSxfPXMubGVuZ3RoKCl9ZWxzZSBfPXIuY2FsY3VsYXRlTGVuZ3RoMkQoKTtpZihfPnUpaC5wdXNoKG4pLF89MDtlbHNlIGlmKGkpe2xldCBlPW0ucmVhZCh0KTtOdW1iZXIuaXNOYU4oZSkmJihlPTApO2xldCBzPW0ucmVhZChuKTtOdW1iZXIuaXNOYU4ocykmJihzPTApLE1hdGguYWJzKHMtZSk+byYmKGgucHVzaChuKSxfPTApfX19aWYoYS5sZW5ndGg+MCYmaC5sZW5ndGg+MCYmKGEuYXQoLTEpPGguYXQoLTEpP2EubGVuZ3RoPmgubGVuZ3RoP2EucG9wKCk6aC5wb3AoKTooYS5hdCgtMSk9PT1oLmF0KC0xKXx8aC5wb3AoKSxoLnBvcCgpKSksaC5sZW5ndGgrYS5sZW5ndGg+PTIpe2xldCBlPSExO2ZvcihsZXQgdD0wLHM9YS5sZW5ndGg7dDxzO3QrKylyLmdldFBvaW50QnlWYWwoYVt0XSxsKSxlP24ubGluZVRvUG9pbnQobCk6KG4uc3RhcnRQYXRoUG9pbnQobCksZT0hMCk7Zm9yKGxldCB0PWgubGVuZ3RoLTE7dD4wO3QtLSlyLmdldFBvaW50QnlWYWwoaFt0XSxsKSxlP24ubGluZVRvUG9pbnQobCk6KG4uc3RhcnRQYXRoUG9pbnQobCksZT0hMCk7ci5pc0Nsb3NlZFBhdGgodC5nZXRQYXRoSW5kZXgoKSk/bi5jbG9zZVBhdGhXaXRoTGluZSgpOmgubGVuZ3RoPjAmJihyLmdldFBvaW50QnlWYWwoaFswXSxsKSxuLmxpbmVUb1BvaW50KGwpKX1hLmxlbmd0aD0wLGgubGVuZ3RoPTB9cmV0dXJuIGkmJm4ucmVwbGFjZU5hTnMoMSwwKSxuLmdldEltcGwoKS5zZXRJc1NpbXBsZSgxLHUpLG59cG9seWdvblNpbXBsaWZ5QXNGZWF0dXJlKCl7cmV0dXJuIHRoaXMuc2ltcGxpZnlQbGFuYXIoKX1zaW1wbGlmeVBsYW5hcigpe2lmKDE9PT10aGlzLm1fZ2VvbWV0cnkuZ2V0RmlsbFJ1bGUoKSYmIVRlKHRoaXMubV9rbm93blNpbXBsZVJlc3VsdCkpcmV0dXJuIE1hKHRoaXMubV9nZW9tZXRyeSx0aGlzLm1fdG9sZXJhbmNlU2ltcGxpZnksITAsITEsdGhpcy5tX2tub3duU2ltcGxlUmVzdWx0LHRoaXMubV9wcm9ncmVzc1RyYWNrZXIsMCwhMCk7Y29uc3QgdD1uZXcgRztpZih0LmFkZEdlb21ldHJ5KHRoaXMubV9nZW9tZXRyeSksdGhpcy5tX2dlb21ldHJ5Lmhhc0F0dHJpYnV0ZSgxKSYmdC5yZXBsYWNlTmFOcygxLDApLHQucmVtb3ZlTmFOVmVydGljZXMoKSwwIT09dC5nZXRUb3RhbFBvaW50Q291bnQoKSl7bGV0IHM9bnVsbCxyPTAsaT0wO2lmKHQuaGFzQ3VydmVzKCkpe3M9bmV3IGZhO2NvbnN0IG49ZS5jb25zdHJ1Y3RFbXB0eSgpO3RoaXMubV9nZW9tZXRyeS5xdWVyeUVudmVsb3BlKG4pO2NvbnN0IG89X2EodGhpcy5tX3RvbGVyYW5jZVNpbXBsaWZ5LnRvdGFsKCksbik7cj1kYSh0aGlzLm1fdG9sZXJhbmNlU2ltcGxpZnkudG90YWwoKSksaT1wYShvLHIpLGFhKHQsbyx0aGlzLm1fdG9sZXJhbmNlU2ltcGxpZnkudG90YWwoKSwxMmUzLHMsbnVsbCx0aGlzLm1fcHJvZ3Jlc3NUcmFja2VyKX1pZighVGUodGhpcy5tX2tub3duU2ltcGxlUmVzdWx0KSl7eWEodCx0aGlzLm1fdG9sZXJhbmNlU2ltcGxpZnkuYWRkKGkpLHRoaXMubV9wcm9ncmVzc1RyYWNrZXIsITAsITEpfXRoaXMubV9nZW9tZXRyeS5nZXRHZW9tZXRyeVR5cGUoKT09PW4uZW51bVBvbHlnb24mJmVyKHQsdC5nZXRGaXJzdEdlb21ldHJ5KCksdGhpcy5tX2tub3duU2ltcGxlUmVzdWx0LCExLC0xLHRoaXMubV9wcm9ncmVzc1RyYWNrZXIpLG51bGwhPT1zJiZzLnN0aXRjaEN1cnZlcyh0LHQuZ2V0Rmlyc3RHZW9tZXRyeSgpLHIsITApfWNvbnN0IHM9dC5nZXRHZW9tZXRyeSh0LmdldEZpcnN0R2VvbWV0cnkoKSk7cmV0dXJuIHMuZ2V0R2VvbWV0cnlUeXBlKCk9PT1uLmVudW1Qb2x5Z29uJiYocy5nZXRJbXBsKCkudXBkYXRlT0dDRmxhZ3NQcm90ZWN0ZWQoKSxzLnNldEZpbGxSdWxlKDApKSxzLmdldEltcGwoKS5zZXRJc1NpbXBsZSg0LHRoaXMubV90b2xlcmFuY2VTaW1wbGlmeS50b3RhbCgpKSxzfXByb2dyZXNzXygpe31zdGF0aWMgaGFzTmFuWnMoZSl7aWYoZS5oYXNBdHRyaWJ1dGUoMSkpe2NvbnN0IHQ9ZS5nZXRBdHRyaWJ1dGVTdHJlYW1SZWYoMSk7Zm9yKGxldCBzPTAsbj1lLmdldFBvaW50Q291bnQoKTtzPG47cysrKXtjb25zdCBlPXQucmVhZChzKTtpZihOdW1iZXIuaXNOYU4oZSkpcmV0dXJuITB9fXJldHVybiExfWNvbXBhcmVWZXJ0aWNlc0ZvclBsYW5hckNsdXN0ZXJpbmcoZSx0LHMpe2lmKGU9PT10KXJldHVybiAwO2NvbnN0IG49dGhpcy5tX3BhaXJzW2VdLHI9dGhpcy5tX3BhaXJzW3RdLGk9bj4+MSxvPXI+PjEsYT10aGlzLm1feHkucmVhZFBvaW50MkQoMippKTthLnkrPTEmbj90aGlzLm1fdG9sZXJhbmNlSXNTaW1wbGVDbHVzdGVyaW5nOi10aGlzLm1fdG9sZXJhbmNlSXNTaW1wbGVDbHVzdGVyaW5nO2NvbnN0IGg9dGhpcy5tX3h5LnJlYWRQb2ludDJEKDIqbyk7aC55Kz0xJnI/dGhpcy5tX3RvbGVyYW5jZUlzU2ltcGxlQ2x1c3RlcmluZzotdGhpcy5tX3RvbGVyYW5jZUlzU2ltcGxlQ2x1c3RlcmluZztjb25zdCBtPWEuY29tcGFyZShoKTtpZigwPT09bSYmcyl7Y29uc3QgZT10aGlzLm1fcGF0aHNGb3JPR0NUZXN0c1tpXS10aGlzLm1fcGF0aHNGb3JPR0NUZXN0c1tvXTtyZXR1cm4gaXQoZSl9cmV0dXJuIG19Y29tcGFyZVZlcnRpY2VzTXVsdGlQb2ludChlLHQpe2lmKGU9PT10KXJldHVybiAwO2NvbnN0IHM9dGhpcy5tX211bHRpVmVydGV4R2VvbS5nZXRYWShlKSxuPXRoaXMubV9tdWx0aVZlcnRleEdlb20uZ2V0WFkodCkscj0hcy5pc0Zpbml0ZSgpLGk9IW4uaXNGaW5pdGUoKTtpZihyfHxpKXJldHVybiByPGk/LTE6cj5pPzE6MDtpZihzLnk8bi55KXJldHVybi0xO2lmKHMueT5uLnkpcmV0dXJuIDE7aWYocy54PG4ueClyZXR1cm4tMTtpZihzLng+bi54KXJldHVybiAxO2ZvcihsZXQgbz0xO288dGhpcy5tX2F0dHJpYnV0ZUNvdW50O28rKyl7Y29uc3Qgcz10aGlzLm1fZGVzY3JpcHRpb24uZ2V0U2VtYW50aWNzKG8pLG49TmUuZ2V0Q29tcG9uZW50Q291bnQocyk7Zm9yKGxldCByPTA7cjxuO3IrKyl7Y29uc3Qgbj10aGlzLm1fbXVsdGlWZXJ0ZXhHZW9tLmdldEF0dHJpYnV0ZUFzRGJsKHMsZSxyKSxpPXRoaXMubV9tdWx0aVZlcnRleEdlb20uZ2V0QXR0cmlidXRlQXNEYmwocyx0LHIpLG89b3QobixpKTtpZigwIT09bylyZXR1cm4gb319cmV0dXJuIDB9ZWRnZUFuZ2xlQ29tcGFyZShlLHQpe2lmKGU9PT10KXJldHVybiAwO2NvbnN0IHM9ZS5tX3NlZ21lbnQuZ2V0VGFuZ2VudChlLmdldFJldmVyc2VkKCk/MTowKTtlLmdldFJldmVyc2VkKCkmJnMubmVnYXRlVGhpcygpO2NvbnN0IG49dC5tX3NlZ21lbnQuZ2V0VGFuZ2VudCh0LmdldFJldmVyc2VkKCk/MTowKTt0LmdldFJldmVyc2VkKCkmJm4ubmVnYXRlVGhpcygpO2NvbnN0IHI9cy5nZXRRdWFydGVyKCksaT1uLmdldFF1YXJ0ZXIoKTtpZihpPT09cil7Y29uc3QgZT1zLmNyb3NzUHJvZHVjdChuKTtyZXR1cm4gZTwwPzE6ZT4wPy0xOjB9cmV0dXJuIHI8aT8tMToxfX1jbGFzcyBFaHtnZXRPcGVyYXRvclR5cGUoKXtyZXR1cm4gMTAxMDN9YWNjZWxlcmF0ZUdlb21ldHJ5KGUsdCxzKXtyZXR1cm4hMX1jYW5BY2NlbGVyYXRlR2VvbWV0cnkoZSl7cmV0dXJuITF9c3VwcG9ydHNDdXJ2ZXMoKXtyZXR1cm4hMH1pc1NpbXBsZUFzRmVhdHVyZShlLHQscyxuLHIpe2NvbnN0IGk9b2goZSx0LHMsbixyKTtyZXR1cm4gdWUoZS5nZXRHZW9tZXRyeVR5cGUoKSxpKX1pc1NpbXBsZVBsYW5hckRPTk9UVVNFKGUsdCxzLG4scil7Y29uc3QgaT1yaChlLHQscyxuLHIpO3JldHVybiBjZShpKX1leGVjdXRlTWFueShlLHQscyxuKXtyZXR1cm4gbmV3IFNoKGUsdCxzLG4pfWV4ZWN1dGUoZSx0LHMsbil7Y29uc3Qgcj1uZXcgJHQoW2VdKSxvPXRoaXMuZXhlY3V0ZU1hbnkocix0LHMsbikubmV4dCgpO3JldHVybiBvfHxpKFwibnVsbCBnZW9tZXRyeVwiKSxvfX1jbGFzcyBTaCBleHRlbmRzIGVze2NvbnN0cnVjdG9yKGUsdCxzLG4pe3N1cGVyKCksdGhpcy5tX3Byb2dyZXNzVHJhY2tlcj1uLHRoaXMubV9iRm9yY2VTaW1wbGlmeT1zLHRoaXMubV9pbmRleD0tMSx0aGlzLm1faW5wdXRHZW9tZXRyeUN1cnNvcj1lLHRoaXMubV9zcGF0aWFsUmVmZXJlbmNlPXR9bmV4dCgpe2NvbnN0IGU9dGhpcy5tX2lucHV0R2VvbWV0cnlDdXJzb3IubmV4dCgpO3JldHVybiBlPyh0aGlzLm1faW5kZXg9dGhpcy5tX2lucHV0R2VvbWV0cnlDdXJzb3IuZ2V0R2VvbWV0cnlJRCgpLHRoaXMuc2ltcGxpZnkoZSkpOm51bGx9Z2V0R2VvbWV0cnlJRCgpe3JldHVybiB0aGlzLm1faW5kZXh9dG9jaygpe3JldHVybiExfWdldFJhbmsoKXtyZXR1cm4gMX1zaW1wbGlmeShlKXtpZihlfHx0KFwiXCIpLGUuZ2V0R2VvbWV0cnlUeXBlKCk9PT1uLmVudW1HZW9tZXRyeUNvbGxlY3Rpb24pe2NvbnN0IHQ9VihlLC0xKSxzPShuZXcgRWgpLmV4ZWN1dGVNYW55KHQsdGhpcy5tX3NwYXRpYWxSZWZlcmVuY2UsdGhpcy5tX2JGb3JjZVNpbXBsaWZ5LHRoaXMubV9wcm9ncmVzc1RyYWNrZXIpLG49ZS5jcmVhdGVJbnN0YW5jZSgpO2ZvcihsZXQgZT1zLm5leHQoKTtudWxsIT1lO2U9cy5uZXh0KCkpbi5hZGRHZW9tZXRyeShlKTtyZXR1cm4gbn1yZXR1cm4gYWgoZSx0aGlzLm1fc3BhdGlhbFJlZmVyZW5jZSx0aGlzLm1fYkZvcmNlU2ltcGxpZnksdGhpcy5tX3Byb2dyZXNzVHJhY2tlcil9fWZ1bmN0aW9uIENoKHQscyxyKXtjb25zdCBpPW5ldyBlO3QucXVlcnlFbnZlbG9wZShpKTtjb25zdCBvPW5ldyBlO3MucXVlcnlFbnZlbG9wZShvKTtjb25zdCBhPW5ldyBlKG8pO2lmKGEuaW5mbGF0ZSgyKnIpLCFhLmlzSW50ZXJzZWN0aW5nKGkpKXJldHVybiA0O2NvbnN0IGg9dC5nZXRHZW9tZXRyeVR5cGUoKSxtPXMuZ2V0R2VvbWV0cnlUeXBlKCk7aWYoaD09PW4uZW51bUVudmVsb3BlJiZpLmNvbnRhaW5zRW52ZWxvcGUoYSkpcmV0dXJuIDE7aWYobT09PW4uZW51bUVudmVsb3BlKXtjb25zdCB0PW5ldyBlKGkpO2lmKHQuaW5mbGF0ZSgyKnIpLG8uY29udGFpbnNFbnZlbG9wZSh0KSlyZXR1cm4gMn1yZXR1cm4gMH1jbGFzcyBJaHtjb25zdHJ1Y3RvcihlLHQscyxyKXt0aGlzLm1faW50ZXJzZWN0b3JHZW9tPW51bGwsdGhpcy5tX3NyPW51bGwsdGhpcy5tX2RpbWVuc2lvbk1hc2s9LTEsdGhpcy5tX3Byb2dyZXNzVHJhY2tlcj1udWxsLHRoaXMubV9pbnRlcnNlY3Rvckdlb21UeXBlPW4uZW51bVVua25vd24sdGhpcy5tX2dlb21JbnRlcnNlY3RvckVtcHR5R2VvbT1udWxsLHRoaXMubV9pbnRlcnNlY3Rvckdlb209ZSx0aGlzLm1fc3I9dCx0aGlzLm1fZGltZW5zaW9uTWFzaz1zLHRoaXMubV9wcm9ncmVzc1RyYWNrZXI9cix0aGlzLm1faW50ZXJzZWN0b3JHZW9tVHlwZT1lLmdldEdlb21ldHJ5VHlwZSgpfWludGVyc2VjdCh0KXtjb25zdCBzPXRoaXMudHJ5RmFzdEltcGxlbWVudGF0aW9uKHQpO2lmKG51bGwhPT1zKXJldHVybiBzO2NvbnN0IG49X2UodGhpcy5tX2ludGVyc2VjdG9yR2VvbSx0KSxyPWRlKHRoaXMubV9zcixuLCEwKS50b3RhbCgpLGk9ZS5jb25zdHJ1Y3RFbXB0eSgpO3RoaXMubV9pbnRlcnNlY3Rvckdlb20ucXVlcnlFbnZlbG9wZShpKTtjb25zdCBvPWUuY29uc3RydWN0RW1wdHkoKTt0LnF1ZXJ5RW52ZWxvcGUobyksaS5pbmZsYXRlQ29vcmRzKDIqciwyKnIpLGkuaW50ZXJzZWN0KG8pLGkuaW5mbGF0ZUNvb3JkcygxMDAqciwxMDAqcik7Y29uc3QgYT0wO2xldCBoPVp0KHRoaXMubV9pbnRlcnNlY3Rvckdlb20saSxhLDAsdGhpcy5tX3Byb2dyZXNzVHJhY2tlciksbT1adCh0LGksYSwwLHRoaXMubV9wcm9ncmVzc1RyYWNrZXIpO3JldHVybiB0LmdldERpbWVuc2lvbigpPnRoaXMubV9pbnRlcnNlY3Rvckdlb20uZ2V0RGltZW5zaW9uKCkmJihoPXJ0KG0sbT1oKSksemEobSxoLHRoaXMubV9zcix0aGlzLm1fcHJvZ3Jlc3NUcmFja2VyKX1pbnRlcnNlY3RFeCh0KXtjb25zdCBzPXRoaXMudHJ5RmFzdEltcGxlbWVudGF0aW9uKHQpO2lmKG51bGwhPT1zKXtjb25zdCBlPVtdO3JldHVybiBlLmxlbmd0aD0zLGVbcy5nZXREaW1lbnNpb24oKV09cyx0aGlzLnByZXBhcmVWZWN0b3IodC5nZXREZXNjcmlwdGlvbigpLHRoaXMubV9kaW1lbnNpb25NYXNrLGUpfWNvbnN0IG49X2UodGhpcy5tX2ludGVyc2VjdG9yR2VvbSx0KSxyPWRlKHRoaXMubV9zcixuLCEwKS50b3RhbCgpLGk9ZS5jb25zdHJ1Y3RFbXB0eSgpO3RoaXMubV9pbnRlcnNlY3Rvckdlb20ucXVlcnlFbnZlbG9wZShpKTtjb25zdCBvPWUuY29uc3RydWN0RW1wdHkoKTt0LnF1ZXJ5RW52ZWxvcGUobyksaS5pbmZsYXRlQ29vcmRzKDIqciwyKnIpLGkuaW50ZXJzZWN0KG8pLGkuaW5mbGF0ZUNvb3JkcygxMDAqciwxMDAqcik7Y29uc3QgYT0wO2xldCBoPVp0KHRoaXMubV9pbnRlcnNlY3Rvckdlb20saSxhLDAsdGhpcy5tX3Byb2dyZXNzVHJhY2tlciksbT1adCh0LGksYSwwLHRoaXMubV9wcm9ncmVzc1RyYWNrZXIpO3QuZ2V0RGltZW5zaW9uKCk+dGhpcy5tX2ludGVyc2VjdG9yR2VvbS5nZXREaW1lbnNpb24oKSYmKGg9cnQobSxtPWgpKTtjb25zdCBsPVdhKG0saCx0aGlzLm1fc3IsdGhpcy5tX3Byb2dyZXNzVHJhY2tlcik7cmV0dXJuIHRoaXMucHJlcGFyZVZlY3Rvcih0LmdldERlc2NyaXB0aW9uKCksdGhpcy5tX2RpbWVuc2lvbk1hc2ssbCl9aW5pdChlLHQscyxuPW51bGwpe2EoMCl9c3RhdGljIGludGVyc2VjdFBvaW50cyhlLHQscyl7Y29uc3Qgbj1fZShlLHQpO3JldHVybiBMYShlLHQsZGUocyxuLCEwKSl9dHJ5RmFzdEltcGxlbWVudGF0aW9uKHQpe2NvbnN0IHM9dC5nZXRHZW9tZXRyeVR5cGUoKTtpZih0aGlzLm1faW50ZXJzZWN0b3JHZW9tVHlwZT09PW4uZW51bVBvaW50JiZzPT09bi5lbnVtUG9pbnQpe2NvbnN0IGU9SWguaW50ZXJzZWN0UG9pbnRzKHQsdGhpcy5tX2ludGVyc2VjdG9yR2VvbSx0aGlzLm1fc3IpO2lmKC0xIT09dGhpcy5tX2RpbWVuc2lvbk1hc2spe2NvbnN0IHQ9bmV3IE4oe3ZkOmUuZ2V0RGVzY3JpcHRpb24oKX0pO3JldHVybiBlLmlzRW1wdHkoKXx8dC5hZGQoZSksdH1yZXR1cm4gZX1pZihzPT09bi5lbnVtRW52ZWxvcGUmJnRoaXMubV9pbnRlcnNlY3Rvckdlb21UeXBlPT09bi5lbnVtRW52ZWxvcGUmJigtMT09PXRoaXMubV9kaW1lbnNpb25NYXNrfHw0PT09dGhpcy5tX2RpbWVuc2lvbk1hc2spKXtjb25zdCBlPXQscz10aGlzLm1faW50ZXJzZWN0b3JHZW9tLG49bmV3IHBlKHtjb3B5OmV9KTtyZXR1cm4gbi5pbnRlcnNlY3Qocyksbn1jb25zdCByPV9lKHQsdGhpcy5tX2ludGVyc2VjdG9yR2VvbSksbz1kZSh0aGlzLm1fc3IsciwhMCksYT10LmlzRW1wdHkoKSxoPXRoaXMubV9pbnRlcnNlY3Rvckdlb20uaXNFbXB0eSgpO2xldCBsPWF8fGg7aWYoIWwpe2NvbnN0IGU9Q2godGhpcy5tX2ludGVyc2VjdG9yR2VvbSx0LG8udG90YWwoKSk7aWYoND09PWUpbD0hMDtlbHNle2lmKDImZSlyZXR1cm4gdGhpcy5tX2ludGVyc2VjdG9yR2VvbTtpZigxJmUpcmV0dXJuIHR9fWlmKGwpe2NvbnN0IGU9bShzKSxyPW0odGhpcy5tX2ludGVyc2VjdG9yR2VvbVR5cGUpO3JldHVybiBlPHI/SWguUmV0dXJuRW1wdHkodCxhKTplPnJ8fDA9PT1lJiZzPT09bi5lbnVtTXVsdGlQb2ludCYmdGhpcy5tX2ludGVyc2VjdG9yR2VvbVR5cGU9PT1uLmVudW1Qb2ludD90aGlzLlJldHVybkVtcHR5SW50ZXJzZWN0b3IoKTpJaC5SZXR1cm5FbXB0eSh0LGEpfWlmKHM9PT1uLmVudW1FbnZlbG9wZSYmMD09PW0odGhpcy5tX2ludGVyc2VjdG9yR2VvbVR5cGUpfHx0aGlzLm1faW50ZXJzZWN0b3JHZW9tVHlwZT09PW4uZW51bUVudmVsb3BlJiYwPT09bShzKSl7Y29uc3Qgcj1zPT09bi5lbnVtRW52ZWxvcGU/dDp0aGlzLm1faW50ZXJzZWN0b3JHZW9tLGk9cz09PW4uZW51bUVudmVsb3BlP3RoaXMubV9pbnRlcnNlY3Rvckdlb206dCxhPWUuY29uc3RydWN0RW1wdHkoKTtyZXR1cm4gci5xdWVyeUVudmVsb3BlKGEpLFp0KGksYSxvLnRvdGFsKCksMCx0aGlzLm1fcHJvZ3Jlc3NUcmFja2VyKX1pZigwPT09bShzKSYmbSh0aGlzLm1faW50ZXJzZWN0b3JHZW9tVHlwZSk+MHx8bShzKT4wJiYwPT09bSh0aGlzLm1faW50ZXJzZWN0b3JHZW9tVHlwZSkpe2lmKHM9PT1uLmVudW1NdWx0aVBvaW50KXJldHVybiBPYSh0LHRoaXMubV9pbnRlcnNlY3Rvckdlb20sbyk7aWYocz09PW4uZW51bVBvaW50KXJldHVybiBYYSh0LHRoaXMubV9pbnRlcnNlY3Rvckdlb20sbyk7aWYodGhpcy5tX2ludGVyc2VjdG9yR2VvbVR5cGU9PT1uLmVudW1NdWx0aVBvaW50KXJldHVybiBPYSh0aGlzLm1faW50ZXJzZWN0b3JHZW9tLHQsbyk7aWYodGhpcy5tX2ludGVyc2VjdG9yR2VvbVR5cGU9PT1uLmVudW1Qb2ludClyZXR1cm4gWGEodGhpcy5tX2ludGVyc2VjdG9yR2VvbSx0LG8pO2koXCJcIil9cmV0dXJuIG51bGx9UmV0dXJuRW1wdHlJbnRlcnNlY3Rvcigpe3JldHVybiBudWxsPT09dGhpcy5tX2dlb21JbnRlcnNlY3RvckVtcHR5R2VvbSYmKHRoaXMubV9nZW9tSW50ZXJzZWN0b3JFbXB0eUdlb209dGhpcy5tX2ludGVyc2VjdG9yR2VvbS5jcmVhdGVJbnN0YW5jZSgpKSx0aGlzLm1fZ2VvbUludGVyc2VjdG9yRW1wdHlHZW9tfXN0YXRpYyBSZXR1cm5FbXB0eShlLHQpe3JldHVybiB0P2U6ZS5jcmVhdGVJbnN0YW5jZSgpfXByZXBhcmVWZWN0b3IoZSx0LHMpe2xldCBuPTA7cmV0dXJuIDEmdD8oc1swXXx8KHNbMF09bmV3IE4oe3ZkOmV9KSksbisrKTpzLnNoaWZ0KCksMiZ0PyhzW25dfHwoc1tuXT1uZXcgSSh7dmQ6ZX0pKSxuKyspOnMuc3BsaWNlKG4sMSksNCZ0P3Nbbl18fChzW25dPW5ldyB2KHt2ZDplfSkpOnMuc3BsaWNlKG4sMSksbmV3ICR0KHMpfX1jbGFzcyBiaCBleHRlbmRzIGVze2NvbnN0cnVjdG9yKGUscyxuLHIsaSl7c3VwZXIoKSx0aGlzLm1fc21hbGxDdXJzb3I9bnVsbCx0aGlzLm1fcHJvZ3Jlc3NUcmFja2VyPXIsdGhpcy5tX2dlb21JbnRlcnNlY3Rvcj1zLm5leHQoKSx0aGlzLm1faW50ZXJzZWN0b3I9bmV3IEloKHRoaXMubV9nZW9tSW50ZXJzZWN0b3IsbixpLHIpLHRoaXMubV9pbmRleD0tMSx0aGlzLm1faW5wdXRHZW9tcz1lLHRoaXMubV9kaW1lbnNpb25NYXNrPWksLTEhPT10aGlzLm1fZGltZW5zaW9uTWFzayYmKHRoaXMubV9kaW1lbnNpb25NYXNrPD0wfHx0aGlzLm1fZGltZW5zaW9uTWFzaz43KSYmdChcImJhZCBkaW1lbnNpb24gbWFza1wiKX1uZXh0KCl7aWYoIXRoaXMubV9nZW9tSW50ZXJzZWN0b3IpcmV0dXJuIG51bGw7bGV0IGU7aWYobnVsbCE9PXRoaXMubV9zbWFsbEN1cnNvcil7aWYoZT10aGlzLm1fc21hbGxDdXJzb3IubmV4dCgpLGUpcmV0dXJuIGU7dGhpcy5tX3NtYWxsQ3Vyc29yPW51bGx9Zm9yKDtlPXRoaXMubV9pbnB1dEdlb21zLm5leHQoKTspe2lmKHMoZSksdGhpcy5tX2luZGV4PXRoaXMubV9pbnB1dEdlb21zLmdldEdlb21ldHJ5SUQoKSwtMT09PXRoaXMubV9kaW1lbnNpb25NYXNrKXtyZXR1cm4gdGhpcy5tX2ludGVyc2VjdG9yLmludGVyc2VjdChlKX10aGlzLm1fc21hbGxDdXJzb3I9dGhpcy5tX2ludGVyc2VjdG9yLmludGVyc2VjdEV4KGUpO3JldHVybiB0aGlzLm1fc21hbGxDdXJzb3IubmV4dCgpfXJldHVybiBudWxsfWdldEdlb21ldHJ5SUQoKXtyZXR1cm4gdGhpcy5tX2luZGV4fXRvY2soKXtyZXR1cm4hMH1nZXRSYW5rKCl7cmV0dXJuIDF9fWNsYXNzIHdoe2dldE9wZXJhdG9yVHlwZSgpe3JldHVybiAxZTR9YWNjZWxlcmF0ZUdlb21ldHJ5KGUsdCxzKXtpZighdGhpcy5jYW5BY2NlbGVyYXRlR2VvbWV0cnkoZSkpcmV0dXJuITE7bWUodCxlLCEwKTtsZXQgcj0wO3JldHVybiBlLmdldEdlb21ldHJ5VHlwZSgpIT09bi5lbnVtUG9seWdvbiYmZS5nZXRHZW9tZXRyeVR5cGUoKSE9PW4uZW51bVBvbHlsaW5lfHwhYihlKXx8MD09PXN8fChyfD1lLmdldEltcGwoKS5idWlsZFF1YWRUcmVlQWNjZWxlcmF0b3Iocyk/MTowKSwhIXJ9Y2FuQWNjZWxlcmF0ZUdlb21ldHJ5KGUpe3JldHVybiBiKGUpfXN1cHBvcnRzQ3VydmVzKCl7cmV0dXJuITB9ZXhlY3V0ZU1hbnkoZSx0LHMsbixyPS0xKXtyZXR1cm4gbmV3IGJoKGUsdCxzLG4scil9ZXhlY3V0ZShlLHQscyxyKXtpZihlLmdldEdlb21ldHJ5VHlwZSgpPT09bi5lbnVtUG9pbnQmJnQuZ2V0R2VvbWV0cnlUeXBlKCk9PT1uLmVudW1Qb2ludClyZXR1cm4gSWguaW50ZXJzZWN0UG9pbnRzKGUsdCxzKTtjb25zdCBvPW5ldyAkdChbZV0pLGE9bmV3ICR0KFt0XSksaD10aGlzLmV4ZWN1dGVNYW55KG8sYSxzLHIsLTEpLm5leHQoKTtyZXR1cm4gaHx8aShcIm51bGwgb3V0cHV0XCIpLGh9fWZ1bmN0aW9uIHZoKGUsdCxzKXtyZXR1cm4gdC5tX3Byb2plY3Rvci5wcm9qZWN0KGUscyl9ZnVuY3Rpb24gTmgoZSx0LHMsbixyKXtlLm1fcHJvamVjdG9yLnRyYW5zZm9ybUluUGxhY2VaKHQsbnVsbCxzLG4sbnVsbCxyKTtjb25zdCBpPW4uc2xpY2UoMCxzKS5maWx0ZXIoKGU9PiFlLmlzTkFOKCkpKTtmb3IobGV0IG89MCxhPWkubGVuZ3RoO288YTsrK28pbltvXS5hc3NpZ24oaVtvXSk7cmV0dXJuIGkubGVuZ3RofWZ1bmN0aW9uIFRoKGUsdCxzLG4scil7cmV0dXJuIGUubV9wcm9qZWN0b3IudHJhbnNmb3JtSW5QbGFjZVoodCxudWxsLHMsbixudWxsLHIpfWZ1bmN0aW9uIEdoKHMsaSxhLGgpe2lmKHMmJmkmJmkuaXNQYW5uYWJsZSgpfHx0KFwiZm9sZF9pbnRvXzM2MF9yYW5nZV9nZW9kZXRpY1wiKSxzLmlzRW1wdHkoKSlyZXR1cm4gcztpZig0PT09YSlyZXR1cm4gRGgocyxpLGgpO2xldCBtPXM7Y29uc3QgbD1tLmdldEdlb21ldHJ5VHlwZSgpO2lmKG8obCkpe209QWwocyxpKTtjb25zdCB0PW5ldyBlO20ucXVlcnlFbnZlbG9wZSh0KTtjb25zdCBuPWRlKGksdCwhMSkudG90YWwoKSxyPWkuZ2V0UGFubmFibGVFeHRlbnQoKTtsZXQgbz1NYXRoLmZsb29yKCh0LnhtaW4tci54bWluKS9yLndpZHRoKCkpKnIud2lkdGgoKStyLnhtaW4saD1tO2Zvcig7bzx0LnhtYXg7KW8+dC54bWluK24mJm88dC54bWF4LW4mJihoPUhsKGgsaSxhLCEwLG8pKSxvKz1yLndpZHRoKCk7bT1ofWVsc2V7aWYobD09PW4uZW51bUVudmVsb3BlKXtjb25zdCBlPW5ldyB2KHt2ZDptLmdldERlc2NyaXB0aW9uKCl9KTtyZXR1cm4gZS5hZGRFbnZlbG9wZShtLCExKSxHaChlLGksYSxoKX1pZihyKGwpKXtjb25zdCBlPW5ldyBJKHt2ZDptLmdldERlc2NyaXB0aW9uKCl9KTtyZXR1cm4gZS5hZGRTZWdtZW50KG0sITApLEdoKGUsaSxhLGgpfX1yZXR1cm4gRGgobSxpLGgpfWZ1bmN0aW9uIERoKGUscyxpKXtpZihlJiZzJiZzLmlzUGFubmFibGUoKXx8dChcIlwiKSxlLmlzRW1wdHkoKSlyZXR1cm4gZTtsZXQgbztjb25zdCBhPWUuZ2V0R2VvbWV0cnlUeXBlKCk7aWYoYT09PW4uZW51bUVudmVsb3BlKXtjb25zdCB0PW5ldyB2KHt2ZDplLmdldERlc2NyaXB0aW9uKCl9KTt0LmFkZEVudmVsb3BlKGUsITEpLG89dH1lbHNlIGlmKHIoYSkpe2NvbnN0IHQ9bmV3IEkoe3ZkOmUuZ2V0RGVzY3JpcHRpb24oKX0pO3QuYWRkU2VnbWVudChlLCEwKSxvPXR9ZWxzZSBvPWU7Y29uc3QgaD1BbChvLHMpO3JldHVybiBoLmlzRW1wdHkoKT9oOnZsKGgscywwLGghPT1lLDAsaSl9ZnVuY3Rpb24gVmgoZSx0LHMpe2lmKCF0LmlzUGFubmFibGUoKXx8ZS5pc0VtcHR5KCkpcmV0dXJuIGU7Y29uc3Qgbj10LmdldFBhbm5hYmxlRXh0ZW50KCkud2lkdGgoKSxyPS41Km4saT1lLnF1ZXJ5SW50ZXJ2YWwoMCwwKTtpZihpLndpZHRoKCk8cnx8IWQoZS5nZXRHZW9tZXRyeVR5cGUoKSkpe2lmKE51bWJlci5pc05hTihzKSlyZXR1cm4gZTtjb25zdCB0PWkuZ2V0Q2VudGVyKCk7aWYoTWF0aC5hYnModC1zKTw9cilyZXR1cm4gZTt7Y29uc3Qgcj1uZXcganQsaT1udCgocy10KS9uKSpuO3Iuc2V0U2hpZnRDb29yZHMoaSwwKTtjb25zdCBvPWUuY2xvbmUoKTtyZXR1cm4gby5hcHBseVRyYW5zZm9ybWF0aW9uKHIpLG99fWNvbnN0IGE9ZS5nZXRHZW9tZXRyeVR5cGUoKSxoPWUsbT1oLmdldEF0dHJpYnV0ZVN0cmVhbVJlZigwKSxsPWUuY2xvbmUoKSxnPWwuZ2V0QXR0cmlidXRlU3RyZWFtUmVmKDApO2xldCB1PTAsYz0wLF89MCxwPW8oYSk/MDotMTtjb25zdCBmPWF0LmNvbnN0cnVjdEVtcHR5KCk7bGV0IHg9ITE7Zm9yKGxldCBkPTAseT1oLmdldFBvaW50Q291bnQoKTtkPHk7ZCsrKXtjb25zdCBlPW0ucmVhZCgyKmQpO2Q9PT1jJiYobyhhKT8oMD09PXAmJk51bWJlci5pc05hTihzKSYmKHg9ITApLHA+MCYmTnVtYmVyLmlzTmFOKHMpJiYocz1mLmdldENlbnRlcigpLHg9ITEpLGM9aC5nZXRQYXRoRW5kKHApLHArKyk6Yz1oLmdldFBvaW50Q291bnQoKSxOdW1iZXIuaXNOYU4ocyk/Xz1lOihfPXMsdT0wKSk7bGV0IHQ9ZS1fO01hdGguYWJzKHQpPnImJih0PW50KHQvbikqbix1LT10LE1hdGguYWJzKHUpPC4xKm4mJih1PTApKTtjb25zdCBpPWUrdTtnLndyaXRlKDIqZCxpKSx4JiZmLm1lcmdlQ29vcmRpbmF0ZShpKSxfPWV9cmV0dXJuIGwubm90aWZ5TW9kaWZpZWQoKSxsfWNvbnN0IEZoPVwibWlzc2luZyBpbXBsZW1lbnRhdGlvblwiO2Z1bmN0aW9uIEhoKHQscyxuLHIpe2NvbnN0IG89cy5nZXRDb29yZGluYXRlU3lzdGVtVHlwZSgpO2lmKDA9PT1vKXtjb25zdCBlPW5ldyBhYztyZXR1cm4gcy5xdWVyeVByZWNpc2lvbkRlc2NyaXB0b3IoZSksa2godCxlLHMsbil9bGV0IGE9dDsyIT09ciYmMyE9PXJ8fCFzLmlzUGFubmFibGUoKXx8KGE9RGgoYSxzLG4pKTtjb25zdCBoPW5ldyBhYztpZihzLnF1ZXJ5UHJlY2lzaW9uRGVzY3JpcHRvcihoKSxhPWtoKGEsaCxzLG4pLDA9PT1yfHxhLmlzRW1wdHkoKSlyZXR1cm4gYTtpZigxPT09byl7aWYoMT09PXIpe2NvbnN0IHQ9bmV3IGU7YS5xdWVyeUxvb3NlRW52ZWxvcGUodCk7Y29uc3Qgcj1zLmdldFBhbm5hYmxlRXh0ZW50KCksaT0uMDEqci53aWR0aCgpO3JldHVybiByLnhtaW49dC54bWluLWksci54bWF4PXQueG1heCtpLChuZXcgS3QpLmV4ZWN1dGUoYSxyLHMsbil9cmV0dXJuIGF9aWYoMj09PW8pe2NvbnN0IGU9cy5nZXRQQ1NIb3Jpem9uKCk7aWYoMT09PXJ8fDI9PT1yKXtjb25zdCB0PShuZXcgd2gpLmV4ZWN1dGUoYSxlLHMsbik7cmV0dXJuIHQ9PT1lP3QuY2xvbmUoKTp0fXJldHVybiBhfWlmKDM9PT1vKXJldHVybiBhO2koRmgpfWZ1bmN0aW9uIGtoKGUsdCxzLG4pe2NvbnN0IHI9dC5nZXRYWUdyaWRSYW5nZSgpLGk9ZS5oYXNBdHRyaWJ1dGUoMSksbz1lLmhhc0F0dHJpYnV0ZSgyKTtsZXQgYT1uZXcgYXQsaD1uZXcgYXQ7aSYmKGE9dC5nZXRaR3JpZFJhbmdlKCkpLG8mJihoPXQuZ2V0TUdyaWRSYW5nZSgpKTtsZXQgbT0obmV3IEt0KS5leGVjdXRlKGUscixzLG4pO2lmKGkpe2NvbnN0IHQ9bS5xdWVyeUludGVydmFsKDEsMCk7YS5jb250YWlucyh0KXx8KGU9PT1tJiYobT1tLmNsb25lKCkpLExlKG0sYSwxLDApKX1pZihvKXtjb25zdCB0PW0ucXVlcnlJbnRlcnZhbCgyLDApO2guY29udGFpbnModCl8fChlPT09bSYmKG09bS5jbG9uZSgpKSxMZShtLGgsMiwwKSl9cmV0dXJuIG19Y2xhc3MgQWh7Y29uc3RydWN0b3IoZSl7dGhpcy5tX2lucHV0UENTSG9yaXpvbkNsaXBPcHRpb249MCx0aGlzLm1fb3V0cHV0UENTSG9yaXpvbkNsaXBPcHRpb249MCx0aGlzLm1fYkRvbnRHZW9ub3JtYWxpemVQb2x5Z29uPSExLHRoaXMubV9iQ2xpcE91dEN1cnZlZFBvbGVzPSExLHRoaXMubV9iTm9ybWFsaXplT3V0cHV0R2VvbWV0cnk9ITEsdGhpcy5tX2JEb250SGFja1BvbGVzSW5HZW9nVG9HZW9nPSExLHRoaXMubV9jZW50cmFsTWVyaWRpYW5PZk91dHB1dEdDUz0wLHRoaXMubV9kZW5zaWZpY2F0aW9uU3RlcElucHV0PTAsZXx8dChcIlwiKSx0aGlzLm1fcHJvalRyYW5zZm9ybT1lLHRoaXMubV9iQ2xpcE91dEN1cnZlZFBvbGVzPSExO2NvbnN0IHM9dGhpcy5tX3Byb2pUcmFuc2Zvcm0uZ2V0RXh0ZW5kZWRQYXJhbXNJbXBsKCk7dGhpcy5tX2JOb3JtYWxpemVPdXRwdXRHZW9tZXRyeT1zLm5vcm1hbGl6ZVJlc3VsdEdlb21ldHJ5LHRoaXMubV9iTm9ybWFsaXplT3V0cHV0R2VvbWV0cnkmJihzLmxlZ2FjeUhvcml6b25DbGlwcGluZz90aGlzLm1fYk5vcm1hbGl6ZU91dHB1dEdlb21ldHJ5PSExOnRoaXMubV9wcm9qVHJhbnNmb3JtLmdldE91dHB1dFNSKCkuaXNQYW5uYWJsZSgpfHwodGhpcy5tX2JOb3JtYWxpemVPdXRwdXRHZW9tZXRyeT0hMSkpLHMuY2xpcFdpdGhJbnB1dEhvcml6b24/KHRoaXMubV9pbnB1dFBDU0hvcml6b25DbGlwT3B0aW9uPTAsIXMubGVnYWN5SG9yaXpvbkNsaXBwaW5nJiZ0aGlzLm1fcHJvalRyYW5zZm9ybS5nZXRJbnB1dFNSKCkuaXNQYW5uYWJsZSgpJiYodGhpcy5tX2lucHV0UENTSG9yaXpvbkNsaXBPcHRpb249dGhpcy5tX2JOb3JtYWxpemVPdXRwdXRHZW9tZXRyeT80OjIpKTp0aGlzLm1faW5wdXRQQ1NIb3Jpem9uQ2xpcE9wdGlvbj0xLHMuY2xpcFdpdGhPdXRwdXRIb3Jpem9uPyh0aGlzLm1fb3V0cHV0UENTSG9yaXpvbkNsaXBPcHRpb249MCwhcy5sZWdhY3lIb3Jpem9uQ2xpcHBpbmcmJnRoaXMubV9wcm9qVHJhbnNmb3JtLmdldE91dHB1dFNSKCkuaXNQYW5uYWJsZSgpJiYodGhpcy5tX291dHB1dFBDU0hvcml6b25DbGlwT3B0aW9uPXRoaXMubV9iTm9ybWFsaXplT3V0cHV0R2VvbWV0cnk/NDoyKSk6dGhpcy5tX291dHB1dFBDU0hvcml6b25DbGlwT3B0aW9uPTEsdGhpcy5tX2NlbnRyYWxNZXJpZGlhbk9mT3V0cHV0R0NTPXMuY2VudHJhbE1lcmlkaWFuT2ZPdXRwdXRHQ1MsdGhpcy5tX2RlbnNpZmljYXRpb25TdGVwSW5wdXQ9cy5kZW5zaWZpY2F0aW9uU3RlcDtjb25zdCBuPXRoaXMubV9wcm9qVHJhbnNmb3JtLmdldEV4dGVuZGVkUGFyYW1zSW50ZXJuYWwoKTt0aGlzLm1fYkRvbnRHZW9ub3JtYWxpemVQb2x5Z29uPW4uaGFzRmxhZygyMTQ3NDgzNjQ4KSx0aGlzLm1fYkRvbnRIYWNrUG9sZXNJbkdlb2dUb0dlb2c9bi5oYXNGbGFnKDEwNzM3NDE4MjQpLHRoaXMubV9iQ2xpcE91dEN1cnZlZFBvbGVzPW4uaGFzRmxhZyg1MzY4NzA5MTIpfXByb2plY3QoZSx0KXtpZih0aGlzLm1fcHJvalRyYW5zZm9ybS5pc0lkZW50aXR5KCl8fGUuaXNFbXB0eSgpKXJldHVybiBlO2NvbnN0IHM9ZS5nZXRHZW9tZXRyeVR5cGUoKTtpZihzPT09bi5lbnVtUG9pbnQpcmV0dXJuIHRoaXMucHJvamVjdFBvaW50KGUsdCk7Y29uc3Qgcj10aGlzLm1fcHJvalRyYW5zZm9ybS5nZXRJbnB1dFNSKCkuZ2V0Q29vcmRpbmF0ZVN5c3RlbVR5cGUoKSxvPXRoaXMubV9wcm9qVHJhbnNmb3JtLmdldE91dHB1dFNSKCkuZ2V0Q29vcmRpbmF0ZVN5c3RlbVR5cGUoKSxhPXRoaXMubV9wcm9qVHJhbnNmb3JtLmdldElucHV0U1IoKSxoPXRoaXMubV9wcm9qVHJhbnNmb3JtLmdldE91dHB1dFNSKCk7aWYoMD09PXImJnI9PT1vKXtjb25zdCB0PVVoKGEsaCkscz1lLmNsb25lKCk7cmV0dXJuIHMuYXBwbHlUcmFuc2Zvcm1hdGlvbih0KSxzfXN3aXRjaChzKXtjYXNlIG4uZW51bVBvbHlsaW5lOmNhc2Ugbi5lbnVtUG9seWdvbjpyZXR1cm4gdGhpcy5wcm9qZWN0TXVsdGlQYXRoKGUsdCk7Y2FzZSBuLmVudW1NdWx0aVBvaW50OnJldHVybiB0aGlzLnByb2plY3RNdWx0aVBvaW50KGUsdCk7Y2FzZSBuLmVudW1FbnZlbG9wZTpyZXR1cm4gdGhpcy5wcm9qZWN0RW52ZWxvcGUoZSx0KTtjYXNlIG4uZW51bUdlb21ldHJ5Q29sbGVjdGlvbjpyZXR1cm4gdGhpcy5wcm9qZWN0R2VvbWV0cnlDb2xsZWN0aW9uKGUsdCk7ZGVmYXVsdDppKFwiXCIpfX1wcm9qZWN0UG9pbnQoZSx0KXtjb25zdCBzPVtlLmdldFhZKCldO2xldCBuLHI9bnVsbDsobj1lLmhhc0F0dHJpYnV0ZSgxKSkmJihyPVtlLmdldFooKV0pLHRoaXMudHJhbnNmb3JtSW5QbGFjZVoocyxyLDEscyxyLG51bGwpO2NvbnN0IGk9ZS5jbG9uZSgpO3JldHVybiBpLnNldFhZKHNbMF0pLG4mJmkuc2V0WihyWzBdKSxpfXByb2plY3RNdWx0aVBvaW50KGUsdCl7bGV0IHM9bmV3IE4oe2NvcHk6ZX0pO2NvbnN0IG49dGhpcy5tX3Byb2pUcmFuc2Zvcm0uZ2V0SW5wdXRTUigpLHI9dGhpcy5tX3Byb2pUcmFuc2Zvcm0uZ2V0T3V0cHV0U1IoKSxpPW4uZ2V0Q29vcmRpbmF0ZVN5c3RlbVR5cGUoKSxvPXIuZ2V0Q29vcmRpbmF0ZVN5c3RlbVR5cGUoKTtpZigzPT09aSYmYSgwKSxzPVhsKHMsbix0aGlzLm1faW5wdXRQQ1NIb3Jpem9uQ2xpcE9wdGlvbix0KSxzLmlzRW1wdHkoKSlyZXR1cm4gczsyPT09aSYmJGwobiwwLHMpLGdnKHRoaXMubV9wcm9qVHJhbnNmb3JtLHMsITEpO2xldCBoPTA7Mz09PW8mJmEoMCk7Y29uc3QgbT0yPT09bztyZXR1cm4gbT9oPXIuZ2V0Q2VudHJhbE1lcmlkaWFuKCk6TnVtYmVyLmlzTmFOKHRoaXMubV9jZW50cmFsTWVyaWRpYW5PZk91dHB1dEdDUyl8fChoPXRoaXMubV9jZW50cmFsTWVyaWRpYW5PZk91dHB1dEdDUyksbSYmMCE9PXRoaXMubV9vdXRwdXRQQ1NIb3Jpem9uQ2xpcE9wdGlvbnx8KHM9dmwocyxadShyKSxoLCExLDAsdCkpLG0mJihzPVNsKHMscix0aGlzLm1fb3V0cHV0UENTSG9yaXpvbkNsaXBPcHRpb24sdCksS2wocixzLHRoaXMubV9iTm9ybWFsaXplT3V0cHV0R2VvbWV0cnkpLHMuaXNFbXB0eSgpKSxzfXByb2plY3RNdWx0aVBhdGgoZSx0KXtjb25zdCBzPWUuZ2V0R2VvbWV0cnlUeXBlKCk7cmV0dXJuIHM9PT1uLmVudW1Qb2x5Z29uP3RoaXMucHJvamVjdFBvbHlnb24oZSx0KTpzPT09bi5lbnVtUG9seWxpbmU/dGhpcy5wcm9qZWN0UG9seWxpbmUoZSx0KTp2b2lkIGkoXCJwcm9qZWN0X211bHRpX3BhdGhfXCIpfXByb2plY3RFbnZlbG9wZShlLHQpe3RoaXMubV9wcm9qVHJhbnNmb3JtLmdldElucHV0U1IoKSx0aGlzLm1fcHJvalRyYW5zZm9ybS5nZXRPdXRwdXRTUigpO2NvbnN0IHM9dGhpcy5tX3Byb2pUcmFuc2Zvcm0uaXNWZXJ0aWNhbCgpJiZlLmhhc0F0dHJpYnV0ZSgxKTtsZXQgbj1hdC5jb25zdHJ1Y3RFbXB0eSgpO2lmKHMmJihuPWUucXVlcnlJbnRlcnZhbCgxLDApKSxuLndpZHRoKCk+MCl7Y29uc3Qgcz1lLmNsb25lKCk7cy5zZXRJbnRlcnZhbCgxLDAsbi52bWluLG4udm1pbik7Y29uc3Qgcj10aGlzLnByb2plY3RFbnZlbG9wZUhlbHBlcihzLHQpO3Muc2V0SW50ZXJ2YWwoMSwwLG4udm1heCxuLnZtYXgpO2NvbnN0IGk9dGhpcy5wcm9qZWN0RW52ZWxvcGVIZWxwZXIocyx0KTtyZXR1cm4gci5tZXJnZShpKSxyfXJldHVybiB0aGlzLnByb2plY3RFbnZlbG9wZUhlbHBlcihlLHQpfXByb2plY3RQb2x5Z29uKHQscyl7YSh0LmdldEdlb21ldHJ5VHlwZSgpPT09bi5lbnVtUG9seWdvbiksYSghdGhpcy5tX3Byb2pUcmFuc2Zvcm0uaXNJZGVudGl0eSgpKSxhKCF0LmlzRW1wdHkoKSk7Y29uc3Qgcj10aGlzLm1fcHJvalRyYW5zZm9ybS5nZXRJbnB1dFNSKCksaT10aGlzLm1fcHJvalRyYW5zZm9ybS5nZXRPdXRwdXRTUigpLG89ci5nZXRDb29yZGluYXRlU3lzdGVtVHlwZSgpLGg9aS5nZXRDb29yZGluYXRlU3lzdGVtVHlwZSgpLG09bmV3IHYoe2NvcHk6dH0pOzM9PT1vJiZhKDApLDM9PT1oJiZhKDApO2NvbnN0IGw9Mj09PW8sZz0yPT09aCx1PWw/ci5nZXRHQ1MoKTpyLGM9Zz9pLmdldEdDUygpOmksXz0hZyYmIXRoaXMubV9iRG9udEhhY2tQb2xlc0luR2VvZ1RvR2VvZztsZXQgZD0hMSxwPVhsKG0scix0aGlzLm1faW5wdXRQQ1NIb3Jpem9uQ2xpcE9wdGlvbixzKTtpZihwLmlzRW1wdHkoKSlyZXR1cm4gcDtsZXQgZj10aGlzLm1fZGVuc2lmaWNhdGlvblN0ZXBJbnB1dDtjb25zdCB4PSFOdW1iZXIuaXNOYU4oZik7bGV0IHk7eCYmKHA9KG5ldyBKdCkuZXhlY3V0ZShwLGYsMCwwLHMpKTtsZXQgUD1nP2kuZ2V0UENTSW5mbygpOm51bGwsRT1OdW1iZXIuTmFOO2wmJihFPXIuZ2V0Q2VudHJhbE1lcmlkaWFuKCkpO2NvbnN0IFM9bnVsbCE9PWkuZ2V0R0NTU3BsaXRMaW5lcygpO2lmKHRoaXMubV9iRG9udEdlb25vcm1hbGl6ZVBvbHlnb24pe2NvbnN0IGU9cDtpZihsJiYoaGcocixFLGUpLHgpKXtjb25zdCBlPXIuZ2V0VW5pdHNQZXJNaWxsaW1ldGVyKCk7Zio9ci5nZXRHQ1MoKS5nZXRVbml0c1Blck1pbGxpbWV0ZXIoKS9lfWlmKGNnKHRoaXMubV9wcm9qVHJhbnNmb3JtLGUsXykseCl7Y29uc3QgZT1yLmdldEdDUygpLmdldFVuaXRzUGVyTWlsbGltZXRlcigpO2YqPWkuZ2V0R0NTKCkuZ2V0VW5pdHNQZXJNaWxsaW1ldGVyKCkvZX15PWV9ZWxzZXtsZXQgdD1uZXcgSSh7dmQ6cC5nZXREZXNjcmlwdGlvbigpfSk7aWYodC5hZGRBbmRFeHBsaWNpdGx5T3BlbkFsbFBhdGhzKHAsITEpLGwpe2lmKGhnKHIsRSx0KSx4KXtjb25zdCBlPXIuZ2V0VW5pdHNQZXJNaWxsaW1ldGVyKCk7Zio9ci5nZXRHQ1MoKS5nZXRVbml0c1Blck1pbGxpbWV0ZXIoKS9lfWlmKHRoaXMubV9iQ2xpcE91dEN1cnZlZFBvbGVzKXtjb25zdCBuPXIuZ2V0UENTSW5mbygpLGk9bi5nZXRTb3V0aFBvbGVHZW9tZXRyeSgpPT09TmMuUEVfUE9MRV9MSU5FX0NVUlZFRCxvPW4uZ2V0Tm9ydGhQb2xlR2VvbWV0cnkoKT09PU5jLlBFX1BPTEVfTElORV9DVVJWRUQ7aWYoaXx8byl7Y29uc3Qgbj1lLmNvbnN0cnVjdEVtcHR5KCk7dC5xdWVyeUxvb3NlRW52ZWxvcGUobiksbi5pbmZsYXRlQ29vcmRzKDEsMSk7Y29uc3Qgcj04OS45OTk5KnUuZ2V0T25lRGVncmVlR0NTVW5pdCgpO2kmJihuLnltaW49LXIpLG8mJihuLnltYXg9ciksdD1RdCh0LG4sdSwwLDAscyl9fX1pZihjZyh0aGlzLm1fcHJvalRyYW5zZm9ybSx0LF8pLHgpe2NvbnN0IGU9WnUocikuZ2V0VW5pdHNQZXJNaWxsaW1ldGVyKCk7Zio9WnUoaSkuZ2V0VW5pdHNQZXJNaWxsaW1ldGVyKCkvZX1sZXQgbj1OdW1iZXIuTmFOO2c/KFA9aS5nZXRQQ1NJbmZvKCksbj1pLmdldENlbnRyYWxNZXJpZGlhbigpKTpOdW1iZXIuaXNOYU4odGhpcy5tX2NlbnRyYWxNZXJpZGlhbk9mT3V0cHV0R0NTKXx8KG49dGhpcy5tX2NlbnRyYWxNZXJpZGlhbk9mT3V0cHV0R0NTKTtsZXQgbz1NaChyKXxNaChpKSxhPTEwKmMuZ2V0VG9sZXJhbmNlKDApO3RoaXMubV9iRG9udEhhY2tQb2xlc0luR2VvZ1RvR2VvZyYmKG89MyxhPTEwKmMuZ2V0VG9sZXJhbmNlKDApKSx5PVZsKHAscix0LGMsbixzLG8sYSx0aGlzLm1fYk5vcm1hbGl6ZU91dHB1dEdlb21ldHJ5KSxvPTB9aWYoUyYmKGEoIWkuaXNQYW5uYWJsZSgpKSx5PWNsKHksaSxzKSksZyl7aWYoIWQpe2NvbnN0IGU9Yy5nZXRQYW5uYWJsZUV4dGVudCgpLndpZHRoKCk7aWYoeS5xdWVyeUludGVydmFsKDAsMCkud2lkdGgoKT49ZS0xMCpjLmdldFRvbGVyYW5jZSgwKSl7Y29uc3QgZT1QLmdldE5vcnRoUG9sZUxvY2F0aW9uKCksdD1QLmdldFNvdXRoUG9sZUxvY2F0aW9uKCkscz1QLmdldE5vcnRoUG9sZUdlb21ldHJ5KCksbj1QLmdldFNvdXRoUG9sZUdlb21ldHJ5KCk7bGV0IHI9MDtzPT09TmMuUEVfUE9MRV9QT0lOVCYmZSE9PU5jLlBFX1BPTEVfT1VUU0lERV9CT1VOREFSWSYmKHI9MSksbj09PU5jLlBFX1BPTEVfUE9JTlQmJnQhPT1OYy5QRV9QT0xFX09VVFNJREVfQk9VTkRBUlkmJihyfD0yKSxkfHw9MCE9PXJ9fXk9U2woeSxpLHRoaXMubV9vdXRwdXRQQ1NIb3Jpem9uQ2xpcE9wdGlvbixzKSx4JiYoeT0obmV3IEp0KS5leGVjdXRlKHksZiwwLDAscykpLEpsKGkseSx0aGlzLm1fYk5vcm1hbGl6ZU91dHB1dEdlb21ldHJ5KX1yZXR1cm4geS5pc0VtcHR5KCl8fGQmJih5PShuZXcgRWgpLmV4ZWN1dGUoeSxpLCExLHMpKSx5fXByb2plY3RQb2x5bGluZShlLHQpe2EoZS5nZXRHZW9tZXRyeVR5cGUoKT09PW4uZW51bVBvbHlsaW5lKSxhKCF0aGlzLm1fcHJvalRyYW5zZm9ybS5pc0lkZW50aXR5KCkpLGEoIWUuaXNFbXB0eSgpKTtjb25zdCBzPXRoaXMubV9wcm9qVHJhbnNmb3JtLmdldElucHV0U1IoKSxyPXRoaXMubV9wcm9qVHJhbnNmb3JtLmdldE91dHB1dFNSKCksaT1zLmdldENvb3JkaW5hdGVTeXN0ZW1UeXBlKCksbz1yLmdldENvb3JkaW5hdGVTeXN0ZW1UeXBlKCksaD1uZXcgSSh7Y29weTplfSk7Mz09PWkmJmEoMCksMz09PW8mJmEoMCk7Y29uc3QgbT0yPT09aSxsPTI9PT1vO20mJnMuZ2V0R0NTKCk7Y29uc3QgZz1sP3IuZ2V0R0NTKCk6cix1PSFsJiYhdGhpcy5tX2JEb250SGFja1BvbGVzSW5HZW9nVG9HZW9nO2xldCBjPVhsKGgscyx0aGlzLm1faW5wdXRQQ1NIb3Jpem9uQ2xpcE9wdGlvbix0KTtpZihjLmlzRW1wdHkoKSlyZXR1cm4gYztsZXQgXz1OdW1iZXIuTmFOO20mJihfPXMuZ2V0Q2VudHJhbE1lcmlkaWFuKCkpO2NvbnN0IGQ9bnVsbCE9PXIuZ2V0R0NTU3BsaXRMaW5lcygpO2xldCBwPXRoaXMubV9kZW5zaWZpY2F0aW9uU3RlcElucHV0O2NvbnN0IGY9IU51bWJlci5pc05hTihwKTtsZXQgeDtpZihmJiYoYz0obmV3IEp0KS5leGVjdXRlKGMscCwwLDAsdCkpLHRoaXMubV9iRG9udEdlb25vcm1hbGl6ZVBvbHlnb24pe2lmKG0mJihoZyhzLF8sYyksZikpe2NvbnN0IGU9cy5nZXRVbml0c1Blck1pbGxpbWV0ZXIoKTtwKj1zLmdldEdDUygpLmdldFVuaXRzUGVyTWlsbGltZXRlcigpL2V9aWYoY2codGhpcy5tX3Byb2pUcmFuc2Zvcm0sYyx1KSxmKXtjb25zdCBlPXMuZ2V0R0NTKCkuZ2V0VW5pdHNQZXJNaWxsaW1ldGVyKCk7cCo9ci5nZXRHQ1MoKS5nZXRVbml0c1Blck1pbGxpbWV0ZXIoKS9lfXg9Y31lbHNle2NvbnN0IGU9bmV3IEkoe3ZkOmMuZ2V0RGVzY3JpcHRpb24oKX0pO2lmKGUuYWRkQW5kRXhwbGljaXRseU9wZW5BbGxQYXRocyhjLCExKSxtJiYoaGcocyxfLGUpLGYpKXtjb25zdCBlPXMuZ2V0VW5pdHNQZXJNaWxsaW1ldGVyKCk7cCo9cy5nZXRHQ1MoKS5nZXRVbml0c1Blck1pbGxpbWV0ZXIoKS9lfWlmKGNnKHRoaXMubV9wcm9qVHJhbnNmb3JtLGUsdSksZil7Y29uc3QgZT1zLmdldEdDUygpLmdldFVuaXRzUGVyTWlsbGltZXRlcigpO3AqPXIuZ2V0R0NTKCkuZ2V0VW5pdHNQZXJNaWxsaW1ldGVyKCkvZX1sZXQgbj1OdW1iZXIuTmFOO2w/bj1yLmdldENlbnRyYWxNZXJpZGlhbigpOk51bWJlci5pc05hTih0aGlzLm1fY2VudHJhbE1lcmlkaWFuT2ZPdXRwdXRHQ1MpfHwobj10aGlzLm1fY2VudHJhbE1lcmlkaWFuT2ZPdXRwdXRHQ1MpO2xldCBpPU1oKHMpfE1oKHIpLG89MTAqZy5nZXRUb2xlcmFuY2UoMCk7dGhpcy5tX2JEb250SGFja1BvbGVzSW5HZW9nVG9HZW9nJiYoaT0zLG89MCkseD1GbChjLHMsZSxnLG4sdCxpLG8sdGhpcy5tX2JOb3JtYWxpemVPdXRwdXRHZW9tZXRyeSksaT0wfXJldHVybiBkJiYoYSghci5pc1Bhbm5hYmxlKCkpLHg9Y2woeCxyLHQpKSxsJiYoeD1TbCh4LHIsdGhpcy5tX291dHB1dFBDU0hvcml6b25DbGlwT3B0aW9uLHQpLGYmJih4PShuZXcgSnQpLmV4ZWN1dGUoeCxwLDAsMCx0KSksSmwocix4LHRoaXMubV9iTm9ybWFsaXplT3V0cHV0R2VvbWV0cnkpKSx4LmlzRW1wdHkoKSx4fXByb2plY3RHZW9tZXRyeUNvbGxlY3Rpb24oZSx0KXtyZXR1cm4gYSgwKSx7fX1wcm9qZWN0RW52ZWxvcGVIZWxwZXIodCxzKXtjb25zdCBuPSh0LmhlaWdodCgpK3Qud2lkdGgoKSkvNDAwO2lmKDAhPT1uKXtjb25zdCByPShuZXcgSnQpLmV4ZWN1dGUodCxuLDAsMCxzKSxpPXRoaXMucHJvamVjdE11bHRpUGF0aChyLHMpLG89bmV3IHBlKHt2ZDp0LmdldERlc2NyaXB0aW9uKCl9KTtpZihpLmlzRW1wdHkoKSl7Y29uc3Qgbj1NYXRoLm1pbih0LmhlaWdodCgpLHQud2lkdGgoKSksaT1tZSh0aGlzLm1fcHJvalRyYW5zZm9ybS5nZXRJbnB1dFNSKCksdCwhMCkudG90YWwoKTtpZihuPjEwMCppKXtjb25zdCB0PWUuY29uc3RydWN0RW1wdHkoKSxzPWRlKHRoaXMubV9wcm9qVHJhbnNmb3JtLmdldE91dHB1dFNSKCksdCwhMCkudG90YWwoKSxyPXRoaXMubV9wcm9qVHJhbnNmb3JtLmdldElucHV0U1IoKS5nZXRPbmVNZXRlcigpL3RoaXMubV9wcm9qVHJhbnNmb3JtLmdldE91dHB1dFNSKCkuZ2V0T25lTWV0ZXIoKTtpZihuPjEwMCpNYXRoLm1heChpLHMqcikpcmV0dXJuIG99Y29uc3QgYT1uZXcgSTthLmFkZEFuZEV4cGxpY2l0bHlPcGVuQWxsUGF0aHMociwhMSk7dGhpcy5wcm9qZWN0TXVsdGlQYXRoKGEscykucXVlcnlFbnZlbG9wZShvKTtjb25zdCBoPW5ldyBOKHt2ZDp0LmdldERlc2NyaXB0aW9uKCl9KTtoLnJlc2VydmUoNCk7Y29uc3QgbT1uZXcgZmU7Zm9yKGxldCBlPTA7ZTw0O2UrKyl0LnF1ZXJ5Q29ybmVyQnlWYWwoZSxtKSxoLmFkZChtKTtjb25zdCBsPXRoaXMucHJvamVjdE11bHRpUG9pbnQoaCxzKSxnPW5ldyBwZTtyZXR1cm4gbC5xdWVyeUVudmVsb3BlKGcpLG8ubWVyZ2UoZyksb31yZXR1cm4gaS5xdWVyeUVudmVsb3BlKG8pLG99e2NvbnN0IGU9dC5nZXRDZW50ZXJYWSgpLG49bmV3IGZlKGUpLHI9dGhpcy5wcm9qZWN0UG9pbnQobixzKSxpPW5ldyBwZSh7dmQ6dC5nZXREZXNjcmlwdGlvbigpfSk7aWYoci5pc0VtcHR5KCkpaS5zZXRFbXB0eSgpO2Vsc2V7dC5jb3B5VG8oaSk7Y29uc3QgZT1yLmdldFhZKCk7aS5zZXRDb29yZHMoZS54LGUueSxlLngsZS55KX1yZXR1cm4gaX19dHJhbnNmb3JtSW5QbGFjZShlLHQscyxuKXtyZXR1cm4gYSgwKSwwfXRyYW5zZm9ybUluUGxhY2VaKGUsdCxzLG4scixpKXtpZih0aGlzLm1fcHJvalRyYW5zZm9ybS5pc0lkZW50aXR5KCkpcmV0dXJuIGUhPT1uJiZldChuLGUscyksdCE9PXImJnd0KHIsdCwwLDAscykscztjb25zdCBvPXRoaXMubV9wcm9qVHJhbnNmb3JtLGg9by5nZXRJbnB1dFNSKCksbT1vLmdldE91dHB1dFNSKCksbD1oLmdldENvb3JkaW5hdGVTeXN0ZW1UeXBlKCksZz1tLmdldENvb3JkaW5hdGVTeXN0ZW1UeXBlKCk7aWYoMD09PWwmJmw9PT1nKXtyZXR1cm4gVWgoaCxtKS50cmFuc2Zvcm1Qb2ludHMyRChlLHMsbiksby5pc1ZlcnRpY2FsKCkmJmEoMCksc30zPT09bCYmdShcImltYWdlOiB0cmFuc2Zvcm1faW5fcGxhY2VfXCIpLDM9PT1nJiZ1KFwiaW1hZ2U6IHRyYW5zZm9ybV9pbl9wbGFjZV9cIiksTGwoZSxzLG4saCx0aGlzLm1faW5wdXRQQ1NIb3Jpem9uQ2xpcE9wdGlvbiksciE9PXQmJnd0KHIsdCwwLDAscyksMj09PWwmJm1nKGgsMCxuLHMpLGZnKHRoaXMubV9wcm9qVHJhbnNmb3JtLG4scixzLCExKTtsZXQgYz0wO2NvbnN0IF89Mj09PWc7aWYoXz9jPW0uZ2V0Q2VudHJhbE1lcmlkaWFuKCk6TnVtYmVyLmlzTmFOKHRoaXMubV9jZW50cmFsTWVyaWRpYW5PZk91dHB1dEdDUyl8fChjPXRoaXMubV9jZW50cmFsTWVyaWRpYW5PZk91dHB1dEdDUyksXyYmMCE9PXRoaXMubV9vdXRwdXRQQ1NIb3Jpem9uQ2xpcE9wdGlvbnx8TmwobixzLG0uZ2V0R0NTKCksYyksXyl7aWYoIXdsKG4scyxtLHRoaXMubV9vdXRwdXRQQ1NIb3Jpem9uQ2xpcE9wdGlvbikpZm9yKGxldCBlPTA7ZTxzOysrZSluW2VdLnNldE5BTigpO1dsKG0sbixzLCExKX1sZXQgZD1zO2ZvcihsZXQgYT0wO2E8czsrK2EpblthXS5pc05BTigpJiYociYmKHJbYV09TnVtYmVyLk5hTiksZC0tKTtyZXR1cm4gZH19ZnVuY3Rpb24gTWgoZSl7aWYoMiE9PWUuZ2V0Q29vcmRpbmF0ZVN5c3RlbVR5cGUoKSlyZXR1cm4gMDtsZXQgdD0wO2NvbnN0IHM9ZS5nZXRQQ1NJbmZvKCksbj1zLmdldE5vcnRoUG9sZUxvY2F0aW9uKCkscj1zLmdldFNvdXRoUG9sZUxvY2F0aW9uKCksaT1zLmdldE5vcnRoUG9sZUdlb21ldHJ5KCksbz1zLmdldFNvdXRoUG9sZUdlb21ldHJ5KCk7cmV0dXJuIGk9PT1OYy5QRV9QT0xFX1BPSU5UJiZuIT09TmMuUEVfUE9MRV9PVVRTSURFX0JPVU5EQVJZJiYodD0xKSxvPT09TmMuUEVfUE9MRV9QT0lOVCYmciE9PU5jLlBFX1BPTEVfT1VUU0lERV9CT1VOREFSWSYmKHR8PTIpLHR9ZnVuY3Rpb24gVWgoZSx0KXtjb25zdCBzPWUuZ2V0SG9yelVuaXRGYWN0b3IoKSxuPXQuZ2V0SG9yelVuaXRGYWN0b3IoKTtsZXQgcj0xLGk9MTtjb25zdCBvPTIwMDE1MDc3LzE4MDsxPT09ZS5nZXRVbml0KCkuZ2V0VW5pdFR5cGUoKSYmKHI9byksMT09PXQuZ2V0VW5pdCgpLmdldFVuaXRUeXBlKCkmJihpPW8pO2NvbnN0IGE9cy9uKihyIT09aT9yL2k6MSksaD1uZXcganQ7cmV0dXJuIGguc2V0U2NhbGVDb29yZHMoYSxhKSxofWxldCBxaD1jbGFzc3tnZXRPcGVyYXRvclR5cGUoKXtyZXR1cm4gMTAzMDB9c3VwcG9ydHNDdXJ2ZXMoKXtyZXR1cm4hMH1hY2NlbGVyYXRlR2VvbWV0cnkoZSx0LHMpe3JldHVybiExfWNhbkFjY2VsZXJhdGVHZW9tZXRyeShlKXtyZXR1cm4hMX1leGVjdXRlTWFueShlLHQscyl7cmV0dXJuIXR8fHQuaXNJZGVudGl0eSgpP2U6bmV3IEJoKGUsdCxzKX1leGVjdXRlKGUsdCxzKXtyZXR1cm4gdC5pc0lkZW50aXR5KCk/ZTp2aChlLHQscyl9dHJhbnNmb3JtKGUsdCxzLG4scj0hMCl7cmV0dXJuIHI/TmgoZSx0LHMsbixudWxsKTpUaChlLHQscyxuLG51bGwpfXRyYW5zZm9ybTNEKGUsdCxzLG4scj0hMCl7cmV0dXJuIGEoMCksMH1mb2xkSW50bzM2MFJhbmdlKGUsdCl7cmV0dXJuIERoKGUsdCxudWxsKX1mb2xkSW50bzM2MFJhbmdlR2VvZGV0aWMoZSx0LHMpe3JldHVybiBHaChlLHQscyxudWxsKX1ub3JtYWxpemVHZW9tZXRyeUV4KGUsdCxzLG4scj0wKXtyZXR1cm4gVG0oZSx0LHMsbixyKX1ub3JtYWxpemVHZW9tZXRyeShlLHQscyl7cmV0dXJuIFZoKGUsdCxzKX1jbGlwVG9TcGF0aWFsUmVmZXJlbmNlKGUsdCxzLG49MCl7cmV0dXJuIEhoKGUsdCxzLG4pfX07Y2xhc3MgQmggZXh0ZW5kcyBlc3tjb25zdHJ1Y3RvcihlLHMsbil7c3VwZXIoKSx0aGlzLm1fcHJvalRyYW5zPXMsdGhpcy5tX3Byb2dyZXNzVHJhY2tlcj1uLHRoaXMubV9pbmRleD0tMSxlfHx0KFwiXCIpLHRoaXMubV9pbnB1dEdlb21zPWV9bmV4dCgpe2NvbnN0IGU9dGhpcy5tX2lucHV0R2VvbXMubmV4dCgpO3JldHVybiBudWxsIT1lPyh5KGUpLHMoZSksdGhpcy5tX2luZGV4PXRoaXMubV9pbnB1dEdlb21zLmdldEdlb21ldHJ5SUQoKSx2aChlLHRoaXMubV9wcm9qVHJhbnMsdGhpcy5tX3Byb2dyZXNzVHJhY2tlcikpOm51bGx9Z2V0R2VvbWV0cnlJRCgpe3JldHVybiB0aGlzLm1faW5kZXh9dG9jaygpe3JldHVybiEwfWdldFJhbmsoKXtyZXR1cm4gMX19ZnVuY3Rpb24gT2goZSxpLGgsbSxsLGcsdT0hMSl7ZXx8dChcIkdlb21ldHJ5Lkdlb2RldGljX2RlbnNpZnkuZGVuc2lmeVwiKTtsZXQgYz1lLmdldEdlb21ldHJ5VHlwZSgpO2lmKHMoZSksZS5pc0VtcHR5KCl8fHAoYykpcmV0dXJuIGU7Y29uc3QgXz1uZXcgV2g7Xy5tX3NyPWksXy5tX2djcz1pLmdldEdDUygpLF8ubV90cmFuc2Zvcm09Xy5tX2djcyE9PWk/aS5nZXRTUlRvR0NTVHJhbnNmb3JtKCk6bnVsbCxfLm1fcHJvZ3Jlc3NUcmFja2VyPWc7Y29uc3QgZD1IdSgpO2xldCBmLHgseTtpZihfLm1fZ2NzLnF1ZXJ5U3BoZXJvaWREYXRhKGQpLF8ubV9hPWQubWFqb3JTZW1pQXhpcyxfLm1fZVNxdWFyZWQ9ZC5lMixfLm1fcnB1PV8ubV9nY3MuZ2V0VW5pdCgpLmdldFVuaXRUb0Jhc2VGYWN0b3IoKSxfLm1fZ2NzVG9sZXJhbmNlPV8ubV9nY3MuZ2V0VG9sZXJhbmNlKDApLF8ubV9yYWRUb2xlcmFuY2U9Xy5tX2djc1RvbGVyYW5jZSpfLm1fcnB1LF8ubV9tYXhMZW5ndGg9bSxfLm1fbWF4RGV2aWF0aW9uPWwsXy5tX2N1cnZlVHlwZT1oLGM9PT1uLmVudW1FbnZlbG9wZSl7Y29uc3QgdD1uZXcgdih7dmQ6ZS5nZXREZXNjcmlwdGlvbigpfSk7dC5hZGRFbnZlbG9wZShlLCExKSxmPXQsYz1uLmVudW1Qb2x5Z29ufWVsc2UgaWYocihjKSl7Y29uc3QgdD1uZXcgSSh7dmQ6ZS5nZXREZXNjcmlwdGlvbigpfSk7dC5hZGRTZWdtZW50KGUsITApLGY9dCxjPW4uZW51bVBvbHlsaW5lfWVsc2UgZj1lO2lmKDQhPT1fLm1fY3VydmVUeXBlKXtpZihhKG8oYykpLHg9Xy5yZXBsYWNlQ3VydmVzV2l0aExpbmVzQW5kUHJvamVjdFRvR0NTQXNNdWx0aVBvaW50XyhmKSx4LmlzRW1wdHkoKSlyZXR1cm4geDt4PVloKF8ubV9ycHUseCk7bGV0IGU9Xy5nZW9kZXRpY0RlbnNpZnkoeCk7dXx8KGU9KG5ldyBxaCkuZm9sZEludG8zNjBSYW5nZUdlb2RldGljKGUsXy5tX2djcyxfLm1fY3VydmVUeXBlKSkseT1fLm1fdHJhbnNmb3JtJiYhXy5tX3RyYW5zZm9ybS5pc0lkZW50aXR5KCk/KG5ldyBxaCkuZXhlY3V0ZShlLF8ubV90cmFuc2Zvcm0uZ2V0SW52ZXJzZSgpLGcpOmV9ZWxzZXtsZXQgZTtpZihhKG8oYykpLGkuaXNQYW5uYWJsZSgpKWU9QWwoZixpKTtlbHNle2NvbnN0IHQ9aS5nZXRQQ1NIb3Jpem9uKCk7ZT0obmV3IHdoKS5leGVjdXRlKGYsdCxpLGcpLGU9PT10JiYoZT10LmNsb25lKCkpfWlmKHg9ZSx4LmlzRW1wdHkoKSlyZXR1cm4geDt5PV8uc2hhcGVQcmVzZXJ2aW5nRGVuc2lmeSh4KX1yZXR1cm4geX1mdW5jdGlvbiBZaCh0LHMpe2NvbnN0IG49bmV3IGU7aWYocy5xdWVyeUxvb3NlRW52ZWxvcGUobiksbi53aWR0aCgpKnQ8TWF0aC5QSSlyZXR1cm4gcztsZXQgcj0hMTtjb25zdCBpPXMucXVlcnlTZWdtZW50SXRlcmF0b3IoKSxvPW5ldyBRZSxhPW5ldyBRZTtmb3IoO2kubmV4dFBhdGgoKTspZm9yKDtpLmhhc05leHRTZWdtZW50KCk7KXtjb25zdCBlPWkubmV4dFNlZ21lbnQoKTtpZihvLnNldENvb3Jkc1BvaW50MkQoZS5nZXRTdGFydFhZKCkpLGEuc2V0Q29vcmRzUG9pbnQyRChlLmdldEVuZFhZKCkpLG8uc2NhbGUodCksYS5zY2FsZSh0KSxNYXRoLmFicyhvLngtYS54KT5NYXRoLlBJKXtpZighWGgobyxhKSl7cj0hMDticmVha31pZihNYXRoLmFicyhvLngtYS54KT4yKk1hdGguUEkpe3I9ITA7YnJlYWt9fX1pZighcilyZXR1cm4gcztjb25zdCBoPXMuY3JlYXRlSW5zdGFuY2UoKTtoLnJlc2VydmUocy5nZXRQb2ludENvdW50KCkpO2NvbnN0IG09cy5nZXREZXNjcmlwdGlvbigpLmdldEF0dHJpYnV0ZUNvdW50KCk+MSxsPW5ldyBRZSxnPW5ldyBRZSx1PW5ldyBRZSgwLDApLGM9bmV3IFFlKDAsMCksXz1uZXcgZmU7Zm9yKGkucmVzZXRUb0ZpcnN0UGF0aCgpO2kubmV4dFBhdGgoKTspe2xldCBlPU51bWJlci5OYU4scz0wO2Zvcig7aS5oYXNOZXh0U2VnbWVudCgpOyl7Y29uc3Qgbj1pLm5leHRTZWdtZW50KCk7by5zZXRDb29yZHNQb2ludDJEKG4uZ2V0U3RhcnRYWSgpKSxhLnNldENvb3Jkc1BvaW50MkQobi5nZXRFbmRYWSgpKSxvLnNjYWxlKHQpLGEuc2NhbGUodCksTnVtYmVyLmlzTmFOKGUpPyhzPWltKG8ueCxOdW1iZXIuTmFOLHMpLHUuc2V0Q29vcmRzUG9pbnQyRChvKSk6dS5zZXRDb29yZHNQb2ludDJEKGMpLGU9dS54O2lmKFhoKG8sYSkpe2lmKGEueC1vLng+MipNYXRoLlBJKWZvcig7YS54LW8ueD4yKk1hdGguUEk7KWEueC09MipNYXRoLlBJO2Vsc2UgaWYoYS54LW8ueDwyKi1NYXRoLlBJKWZvcig7YS54LW8ueDwyKi1NYXRoLlBJOylhLngrPTIqTWF0aC5QSTtzPWltKGEueCxOdW1iZXIuTmFOLHMpLGMuc2V0Q29vcmRzUG9pbnQyRChhKX1lbHNlIGwuc2V0Q29vcmRzUG9pbnQyRChhKSxnbShsKSxzPWltKGwueCxlLHMpLGMuc2V0Q29vcmRzKHMrbC54LGwueSk7aWYoTWF0aC5hYnMoYy54LWEueCk8LjUmJmMuc2V0Q29vcmRzUG9pbnQyRChhKSxtKXtuLnF1ZXJ5Q29vcmQoMCxfKSxnLnNldENvb3Jkc1BvaW50MkQodSksZy5zY2FsZSgxL3QpLF8uc2V0WFkoZyk7aS5pc0ZpcnN0U2VnbWVudEluUGF0aCgpP2guc3RhcnRQYXRoUG9pbnQoXyk6aC5saW5lVG9Qb2ludChfKSxpLmlzTGFzdFNlZ21lbnRJblBhdGgoKSYmIWkuaXNQYXRoQ2xvc2VkKCkmJihuLnF1ZXJ5Q29vcmQoMSxfKSxnLnNldENvb3Jkc1BvaW50MkQoYyksZy5zY2FsZSgxL3QpLF8uc2V0WFkoZyksaC5saW5lVG9Qb2ludChfKSl9ZWxzZXtpLmlzRmlyc3RTZWdtZW50SW5QYXRoKCkmJmguaW5zZXJ0UGF0aDJEKC0xLG51bGwsMCwwLCEwKTtjb25zdCBlPWguZ2V0UGF0aENvdW50KCktMTtnLnNldENvb3Jkc1BvaW50MkQodSksZy5zY2FsZSgxL3QpLGguaW5zZXJ0UG9pbnQyRChlLC0xLGcpLGkuaXNMYXN0U2VnbWVudEluUGF0aCgpJiYhaS5pc1BhdGhDbG9zZWQoKSYmKGcuc2V0Q29vcmRzUG9pbnQyRChjKSxnLnNjYWxlKDEvdCksaC5pbnNlcnRQb2ludDJEKGUsLTEsZykpfX19cmV0dXJuIGh9ZnVuY3Rpb24gUmgoZSx0LHMsbixyLGksbyxhLGgsbSxsLGcpe2NvbnN0IHU9bmV3IFFlLGM9bmV3IFFlLF89bi5jb21wYXJlKHIpPjA7bm0oXyxuLHIsdSxjKTtjb25zdCBkPUtoKGUsdCxzLHUsYyxpLG8sYSxoLG0sbnVsbCxsLGcpO3JldHVybiBfJiZzbShoLG0sbnVsbCxsKSxkfWZ1bmN0aW9uIFhoKGUsdCl7cmV0dXJuISghUGMoZS55LEN0KXx8IVBjKHQueSxDdCkpfHwhKCFQYyhlLnksLUN0KXx8IVBjKHQueSwtQ3QpKX1mdW5jdGlvbiBMaChlLHQpe3JldHVybiEoIVBjKGUueSxDdCl8fFBjKHQueSxDdCkpfHwhKCFQYyhlLnksLUN0KXx8UGModC55LC1DdCkpfWZ1bmN0aW9uIHpoKGUsdCl7cmV0dXJuISghUGModC55LEN0KXx8UGMoZS55LEN0KSl8fCEoIVBjKHQueSwtQ3QpfHxQYyhlLnksLUN0KSl9Y2xhc3MgV2h7Y29uc3RydWN0b3IoKXt0aGlzLm1fc3I9bnVsbCx0aGlzLm1fZ2NzPW51bGwsdGhpcy5tX3RyYW5zZm9ybT1udWxsLHRoaXMubV9wcm9ncmVzc1RyYWNrZXI9bnVsbCx0aGlzLm1fYT0wLHRoaXMubV9lU3F1YXJlZD0wLHRoaXMubV9ycHU9MCx0aGlzLm1fZ2NzVG9sZXJhbmNlPTAsdGhpcy5tX3JhZFRvbGVyYW5jZT0wLHRoaXMubV9tYXhMZW5ndGg9MCx0aGlzLm1fbWF4RGV2aWF0aW9uPTAsdGhpcy5tX2N1cnZlVHlwZT0wfWdlb2RldGljRGVuc2lmeShlKXtjb25zdCB0PWUuY3JlYXRlSW5zdGFuY2UoKSxzPWUucXVlcnlTZWdtZW50SXRlcmF0b3IoKSxuPVtdLHI9W10saT1uZXcgRixvPWUuZ2V0RGVzY3JpcHRpb24oKS5nZXRBdHRyaWJ1dGVDb3VudCgpPjE7Zm9yKDtzLm5leHRQYXRoKCk7KXtjb25zdCBlPVswXTtmb3IoO3MuaGFzTmV4dFNlZ21lbnQoKTspe2NvbnN0IGE9cy5uZXh0U2VnbWVudCgpLGg9YS5nZXRTdGFydFhZKCksbT1hLmdldEVuZFhZKCk7aC5zY2FsZSh0aGlzLm1fcnB1KSxtLnNjYWxlKHRoaXMubV9ycHUpO2NvbnN0IGw9bmV3IFFlLGc9bmV3IFFlLHU9aC5jb21wYXJlKG0pPjA7bm0odSxoLG0sbCxnKSxuLmxlbmd0aD0wLHIubGVuZ3RoPTAsdGhpcy5tX21heExlbmd0aD4wP0toKHRoaXMubV9hLHRoaXMubV9lU3F1YXJlZCx0aGlzLm1fY3VydmVUeXBlLGwsZyx0aGlzLm1fbWF4TGVuZ3RoLHRoaXMubV9tYXhEZXZpYXRpb24sdGhpcy5tX3JhZFRvbGVyYW5jZSxudWxsLG51bGwsbz9yOm51bGwsbixlKTpRaCgpLHUmJnNtKG51bGwsbnVsbCxvP3I6bnVsbCxuKSxuWzBdLnNldENvb3Jkc1BvaW50MkQoYS5nZXRTdGFydFhZKCkpLG4uYXQoLTEpLnNldENvb3Jkc1BvaW50MkQoYS5nZXRFbmRYWSgpKTtjb25zdCBjPTEvdGhpcy5tX3JwdTtmb3IobGV0IGU9MSx0PW4ubGVuZ3RoLTE7ZTx0O2UrKyluW2VdLnNjYWxlKGMpO2lmKG8pe2NvbnN0IGU9cm0odSxhLGkpO1poKHMuaXNGaXJzdFNlZ21lbnRJblBhdGgoKSxzLmlzTGFzdFNlZ21lbnRJblBhdGgoKSYmIXMuaXNQYXRoQ2xvc2VkKCksYSxlLHIsbix0KX1lbHNlIGpoKHMuaXNGaXJzdFNlZ21lbnRJblBhdGgoKSxzLmlzTGFzdFNlZ21lbnRJblBhdGgoKSYmIXMuaXNQYXRoQ2xvc2VkKCksbix0KX19cmV0dXJuIHR9c2hhcGVQcmVzZXJ2aW5nRGVuc2lmeShlKXtjb25zdCB0PWUuY3JlYXRlSW5zdGFuY2UoKSxzPWUucXVlcnlTZWdtZW50SXRlcmF0b3IoKSxuPVtdLHI9W10saT1uZXcgRixvPWUuZ2V0RGVzY3JpcHRpb24oKS5nZXRBdHRyaWJ1dGVDb3VudCgpPjE7Zm9yKDtzLm5leHRQYXRoKCk7KWZvcig7cy5oYXNOZXh0U2VnbWVudCgpOyl7Y29uc3QgZT1zLm5leHRTZWdtZW50KCksYT1lLmdldFN0YXJ0WFkoKSxoPWUuZ2V0RW5kWFkoKSxtPWEuY29tcGFyZShoKT4wLGw9cm0obSxlLGkpO24ubGVuZ3RoPTAsci5sZW5ndGg9MCx0bSh0aGlzLm1fYSx0aGlzLm1fZVNxdWFyZWQsdGhpcy5tX3JwdSxsLHRoaXMubV9zcix0aGlzLm1fbWF4TGVuZ3RoLHRoaXMubV9tYXhEZXZpYXRpb24sbz9yOm51bGwsbiksbSYmc20obnVsbCxudWxsLG8/cjpudWxsLG4pLG8/Wmgocy5pc0ZpcnN0U2VnbWVudEluUGF0aCgpLHMuaXNMYXN0U2VnbWVudEluUGF0aCgpJiYhcy5pc1BhdGhDbG9zZWQoKSxlLGwscixuLHQpOmpoKHMuaXNGaXJzdFNlZ21lbnRJblBhdGgoKSxzLmlzTGFzdFNlZ21lbnRJblBhdGgoKSYmIXMuaXNQYXRoQ2xvc2VkKCksbix0KX1yZXR1cm4gdH1yZXBsYWNlQ3VydmVzV2l0aExpbmVzQW5kUHJvamVjdFRvR0NTQXNNdWx0aVBvaW50XyhlKXtjb25zdCB0PWUuaGFzTm9uTGluZWFyU2VnbWVudHMoKTtpZigoIXRoaXMubV90cmFuc2Zvcm18fHRoaXMubV90cmFuc2Zvcm0uaXNJZGVudGl0eSgpKSYmKGU9QWwoZSx0aGlzLm1fZ2NzKSwhdCkpcmV0dXJuIGU7Y29uc3Qgcz1lLmNyZWF0ZUluc3RhbmNlKCk7cy5yZXNlcnZlUGFydHMoZS5nZXRQb2ludENvdW50KCksZS5nZXRQYXRoQ291bnQoKSk7Zm9yKGxldCBuPTAscj1lLmdldFBhdGhDb3VudCgpO248cjsrK24pe2xldCB0PW5ldyBOO2NvbnN0IHI9ZS5nZXRQYXRoU3RhcnQobiksaT1lLmdldFBhdGhFbmQobik7dC5hZGRQb2ludHMoZSxyLGkpO2NvbnN0IG89ZS5pc0Nsb3NlZFBhdGgobik7bGV0IGE9ITE7aWYobyYmaS1yPT09MSYmZS5oYXNOb25MaW5lYXJTZWdtZW50c1BhdGgobikpe2NvbnN0IHM9bmV3IGZlO2UuZ2V0UG9pbnRCeVZhbChyLHMpLHQuYWRkKHMpLGE9ITB9aWYodGhpcy5tX3RyYW5zZm9ybSYmIXRoaXMubV90cmFuc2Zvcm0uaXNJZGVudGl0eSgpKXtpZihvJiYhYSl7Y29uc3Qgcz1uZXcgZmU7ZS5nZXRQb2ludEJ5VmFsKHIscyksdC5hZGQocyl9aWYodD0obmV3IHFoKS5leGVjdXRlKHQsdGhpcy5tX3RyYW5zZm9ybSx0aGlzLm1fcHJvZ3Jlc3NUcmFja2VyKSxvJiZ0LmdldFBvaW50Q291bnQoKT4xKXtjb25zdCBlPXQuZ2V0WFkoMCkscz10LmdldFhZKHQuZ2V0UG9pbnRDb3VudCgpLTEpO2UuZXF1YWxzKHMpJiZ0LnJlbW92ZVBvaW50KHQuZ2V0UG9pbnRDb3VudCgpLTEpfX10LmdldFBvaW50Q291bnQoKT4xJiYocy5hZGRQYXRoTXVsdGlQb2ludCh0LDAsLTEsITApLG8mJnMuY2xvc2VQYXRoV2l0aExpbmUoKSl9cmV0dXJuIHN9fWZ1bmN0aW9uIGpoKGUsdCxzLG4pe2UmJm4uaW5zZXJ0UGF0aDJEKC0xLG51bGwsMCwwLCEwKTtjb25zdCByPW4uZ2V0UGF0aENvdW50KCktMTtuLmluc2VydFBvaW50c0Zyb21Qb2ludHMociwtMSxzLDAscy5sZW5ndGgtMSwhMCksdCYmbi5pbnNlcnRQb2ludDJEKHIsLTEscy5hdCgtMSkpfWZ1bmN0aW9uIFpoKGUsdCxzLG4scixpLG8pe28ucmVzZXJ2ZShvLmdldFBvaW50Q291bnQoKStpLmxlbmd0aC0xKTtjb25zdCBhPW5ldyBmZTtpZihzLnF1ZXJ5U3RhcnQoYSksZT9vLnN0YXJ0UGF0aFBvaW50KGEpOm8ubGluZVRvUG9pbnQoYSksaS5sZW5ndGg+Mil7Y29uc3QgZT1uLmNhbGN1bGF0ZUxlbmd0aDJEKCk7Zm9yKGxldCB0PTE7dDxpLmxlbmd0aC0xO3QrKyl7Y29uc3Qgcz1uLmxlbmd0aFRvVChyW3RdKmUpO24ucXVlcnlDb29yZChzLGEpLGEuc2V0WFkoaVt0XSksby5saW5lVG9Qb2ludChhKX19dCYmKHMucXVlcnlFbmQoYSksby5saW5lVG9Qb2ludChhKSl9ZnVuY3Rpb24gS2goZSx0LHMsbixyLGksbyxhLGgsbSxsLGcsdSl7Y29uc3QgYz17c3RhY2s6W10sZXJyb3I6dm9pZCAwLGhhc0Vycm9yOiExfTt0cnl7Y29uc3QgXz16dChjLG5ldyBDYywhMSksZD16dChjLG5ldyBDYywhMSkscD16dChjLG5ldyBDYywhMSk7RGMuZ2VvZGV0aWNEaXN0YW5jZShlLHQsbi54LG4ueSxyLngsci55LHAsXyxkLHMpO2NvbnN0IGY9cC52YWwseD1fLnZhbCx5PWQudmFsO2xldCBQPXgsRT15O1A8MCYmKFArPTIqTWF0aC5QSSksRTwwJiYoRSs9MipNYXRoLlBJKSxoJiYoaFswXT1QKSxtJiYobVswXT1FKTtsZXQgUz1OdW1iZXIuTmFOLEM9TnVtYmVyLk5hTjtpZihudWxsIT09bCl7Y29uc3Qgcz1WYy5xOTAoZSx0KSxyPVZjLnEoZSx0LG4ueSk7Uz0ocy1yKS9mLEM9KHMrcikvZn1jb25zdCBJPUxoKG4sciksYj16aChuLHIpLHc9SXx8Yix2PW1tKG4scixhKSxOPXp0KGMsbmV3IHB0KG5ldyBDYyxuZXcgQ2MpLCExKSxUPW5ldyBRZSxHPW5ldyBRZSxEPW5ldyBRZTt1WzBdPWltKG4ueCxOdW1iZXIuTmFOLHVbMF0pO2xldCBWPXVbMF07aWYoZjw9aSlyZXR1cm4gZy5wdXNoKG4uY2xvbmUoKSksdVswXT1pbShyLngsTnVtYmVyLk5hTix1WzBdKSxudWxsIT1sJiZsLnB1c2goMCksdz8oSSYmb20obixyLGwsZyksYiYmYW0obixyLGwsZykpOnY/aG0obixyLHgsUyxDLGwsZyk6bz4wJiYoRy5zZXRDb29yZHMobi54LVYsbi55KSxULnNldENvb3JkcyhyLngtdVswXSxyLnkpLFY9SmgoKSksZy5wdXNoKHIuY2xvbmUoKSksZjtjb25zdCBGPTErTWF0aC5jZWlsKGYvaSksSD1mLyhGLTEpLGs9bmV3IFFlO2cucHVzaChuLmNsb25lKCkpLGsuc2V0Q29vcmRzUG9pbnQyRChuKSxHLnNldENvb3JkcyhuLngtdVswXSxuLnkpLG51bGwhPT1sJiZsLnB1c2goMCk7Zm9yKGxldCBpPTE7aTxGO2krKyl7bGV0IGg7aWYoaTxGLTEpe2NvbnN0IHI9aSpIO0RjLmdlb2RldGljQ29vcmRpbmF0ZShlLHQsbi54LG4ueSxyLHgsTi5hdCgwKSxOLmF0KDEpLHMpLFQuc2V0Q29vcmRzKE4uYXQoMCkudmFsLE4uYXQoMSkudmFsKSx1WzBdPWltKFQueCxrLngsdVswXSksRC5zZXRDb29yZHModVswXStULngsVC55KSxoPWkvKEYtMSl9ZWxzZSB1WzBdPWltKHIueCxOdW1iZXIuTmFOLHVbMF0pLFQuc2V0Q29vcmRzKHIueC11WzBdLHIueSksRC5zZXRDb29yZHNQb2ludDJEKHIpLGg9MTt3PygxPT09aSYmSSYmb20obixELGwsZyksaT09PUYtMSYmYiYmYW0oayxyLGwsZykpOnY/bG0oayxELGEpJiYobi54PHIueD9rLng+RC54JiYodVswXSs9MipNYXRoLlBJLEQuc2V0Q29vcmRzKHVbMF0rVC54LFQueSkpOmsueDxELngmJih1WzBdLT0yKk1hdGguUEksRC5zZXRDb29yZHModVswXStULngsVC55KSksaG0oayxELHgsUyxDLGwsZykpOm8+MCYmSmgoKSxnLnB1c2goRC5jbG9uZSgpKSxudWxsIT1sJiZsLnB1c2goaCksay5zZXRDb29yZHNQb2ludDJEKEQpLEcuc2V0Q29vcmRzUG9pbnQyRChUKSxWPXVbMF19cmV0dXJuIGZ9Y2F0Y2goXyl7Yy5lcnJvcj1fLGMuaGFzRXJyb3I9ITB9ZmluYWxseXtXdChjKX19ZnVuY3Rpb24gUWgoZSx0LHMsbixyLGksbyxoLG0sbCl7YSgwKX1mdW5jdGlvbiBKaChlLHQscyxuLHIsaSxvLGgsbSxsLGcsdSxjLF8sZCl7cmV0dXJuIGEoMCksMH1mdW5jdGlvbiAkaChlLHQscyxuKXtjb25zdCByPWRzKGUsdCxzKSxpPWRzKGUsdCxuKTtyZXR1cm4gUmUuZGlzdGFuY2UocixpKX1mdW5jdGlvbiBlbShlLHQscyxuLHIsaSxvLGgpe2NvbnN0IG09bmV3IEFycmF5LGw9bHQoQXJyYXksOCk7bGV0IGc9Mix1PXIuZ2V0Q29vcmQyRChpKTtsWzBdWzBdPXUueCxsWzBdWzFdPXUueSx1PXIuZ2V0Q29vcmQyRChvKSxsWzFdWzBdPXUueCxsWzFdWzFdPXUueTtjb25zdCBjPWU9PntpZihudWxsIT09cyl7Y29uc3QgdD13Yy5wcm9qVG9HZW9nKHMsZSxsKTthKHQ9PT1lKX1mb3IoY29uc3QgdCBvZiBsKXRbMF0qPW4sdFsxXSo9bn07YygyKSxtLnB1c2goZHMoZSx0LG5ldyBRZShsWzBdWzBdLGxbMF1bMV0pKSksbS5wdXNoKGRzKGUsdCxuZXcgUWUobFsxXVswXSxsWzFdWzFdKSkpO2xldCBfPVJlLmRpc3RhbmNlKG1bMF0sbVsxXSk7aWYoXz5oKXJldHVybiBfO2xldCBkPTA7Zm9yKGc9MztnPD0xNzspe2NvbnN0IHM9MS8oZy0xKTtsZXQgbj0wO2ZvcihsZXQgZT0xO2U8ZzsrK2UpaWYoMSZlKXtjb25zdCB0PWZ0KGksbyxlKnMpO3IucXVlcnlDb29yZDJEKHQsdSksbFtuXVswXT11LngsbFtuXVsxXT11LnksbisrfWMobik7bGV0IHA9MTtmb3IobGV0IHI9MDtyPG47KytyKW0uc3BsaWNlKHAsMCxkcyhlLHQsbmV3IFFlKGxbcl1bMF0sbFtyXVsxXSkpKSxwKys7cD0wO2xldCBmPW1bcF07cCsrO2xldCB4PTA7Zm9yKDtwIT09bS5sZW5ndGg7KytwKXtjb25zdCBlPW1bcF07eCs9UmUuZGlzdGFuY2UoZixlKSxmPWV9aWYoeD5oKXJldHVybiB4O2lmKGQ9eC1fLGEoZD49MHx8TWF0aC5hYnMoZCk8MWUtMTQqeCksZDwwJiYoZD0wKSxfPXgseCtkPD1oKXJldHVybiB4K2Q7Zz0yKmctMX1yZXR1cm4gXytkfWZ1bmN0aW9uIHRtKGUsdCxzLG4scixpLG8saCxtKXtjb25zdCBsPW4uaXNDdXJ2ZSgpLGc9RnMoZSx0KSpNYXRoLlBJKjE3OS8xODA7bGV0IHU9aTtpPjAmJiEoaT5nKXx8KHU9Zyk7Y29uc3QgYz1vLF89Yz4wO2xldCBkPU51bWJlci5OYU47XyYmKGQ9QnMoZSx0LGMpKTtjb25zdCBwPTE9PT1yLmdldENvb3JkaW5hdGVTeXN0ZW1UeXBlKCk7bGV0IGY9bnVsbDtwfHwoZj1yLmdldFBFQ29vcmRTeXMoKSk7Y29uc3QgeD1yLmdldFRvbGVyYW5jZSgwKSx5PW4uZ2V0U3RhcnRYWSgpLFA9bi5nZXRFbmRYWSgpLEU9bmV3IFFlLFM9bmV3IFFlO2lmKHApRS5zZXRDb29yZHNQb2ludDJEKHkpLEUuc2NhbGUocyksUy5zZXRDb29yZHNQb2ludDJEKFApLFMuc2NhbGUocyk7ZWxzZXtjb25zdCBlPVt5LngseS55LFAueCxQLnldO3djLnByb2pUb0dlb2coZiwyLGUpLEUuc2V0Q29vcmRzKGVbMF0sZVsxXSksRS5zY2FsZShzKSxTLnNldENvb3JkcyhlWzJdLGVbM10pLFMuc2NhbGUocyl9bGV0IEM9MCxJPTA7Y29uc3QgYj1bXSx3PVtdLHY9W107Yi5wdXNoKFAuY2xvbmUoKSksdy5wdXNoKFMuY2xvbmUoKSksdi5wdXNoKDEpLG0ucHVzaCh5LmNsb25lKCkpLG51bGwhPT1oJiZoLnB1c2goSSk7Y29uc3QgTj1yLmlzUGFubmFibGUoKSxUPXkuY2xvbmUoKSxHPVsuNSwuMzMzMzMzMzMzMzMzMzMzMzcsLjY2NjY2NjY2NjY2NjY2NjYsLjE2NjY2NjY2NjY2NjY2NjY5LC44MzMzMzMzMzMzMzMzMzMzXTtsZXQgRD01O2x8fChfPyhHWzBdPS41LEdbMV09LjI1LEdbMl09Ljc1LEQ9Myk6RD0xKSxhKHU+MCk7Y29uc3QgVj1lPT57aWYoZT1lLmNsb25lKCksbnVsbCE9PWYpe2NvbnN0IHQ9W2UueCxlLnldO3djLnByb2pUb0dlb2coZiwxLHQpLGUuc2V0Q29vcmRzKHRbMF0sdFsxXSl9cmV0dXJuIGUuc2NhbGUocyksZX07Zm9yKDt3Lmxlbmd0aD4wOyl7Y29uc3QgaT1iLmF0KC0xKS5jbG9uZSgpO1MuYXNzaWduKHcuYXQoLTEpKTtjb25zdCBvPXYuYXQoLTEpO2xldCBnPSExLGM9TnVtYmVyLk5hTjtjb25zdCB5PWVtKGUsdCxmLHMsbixJLG8sdSk7bGV0IFA9dT49eSYmTWF0aC5hYnMoRS55LVMueSk8LjkqTWF0aC5QSTtwJiZQJiYoUD1NYXRoLmFicyhFLngtUy54KTwuOSpNYXRoLlBJKTtjb25zdCBGPW5ldyBRZSxIPW5ldyBRZTtsZXQgaz0hMTtpZighXyYmUCYmUCYmKGs9ITApLG4uY2FsY3VsYXRlU3ViTGVuZ3RoKEksbyk8PXgmJihrPSEwKSwhaylmb3IobGV0IGg9MDtoPEQ7aCsrKXtjb25zdCBtPWZ0KEksbyxHW2hdKSx1PW5ldyBRZTtuLnF1ZXJ5Q29vcmQyRChtLHUpO2NvbnN0IGY9Vih1KTtpZigwPT09aCYmKGM9bSxGLnNldENvb3Jkc1BvaW50MkQodSksSC5zZXRDb29yZHNQb2ludDJEKGYpLCFQKSl7Zz0hMDticmVha31pZihhKF8pLHAmJk1hdGguYWJzKEUueC1mLngpPj1NYXRoLlBJKXtnPSEwO2JyZWFrfWxldCB4PW5ldyBRZSx5PW5ldyBRZTtsPyh4PVFlLmxlcnAoVCxpLEdbaF0pLHk9Vih4KSk6KHg9dS5jbG9uZSgpLHk9Zi5jbG9uZSgpKTtjb25zdCBDPVNzKGUsdCxFLFMsR1toXSksYj1DLmNsb25lKCk7aWYocD8oYi54Lz1zLGIueS89cyk6KGIueC89cyxiLnkvPXMsVGgoci5nZXRHQ1NUb1NSVHJhbnNmb3JtKCksW2JdLDEsW2JdLG51bGwpKSxiLmlzTkFOKCkpe2NvbnN0IHM9ZHMoZSx0LGYpLG49ZHMoZSx0LEUpLHI9ZHMoZSx0LFMpLHtzZWNvbmQ6aX09dnMoZSx0LHMsbixyLDIsbnVsbCk7aWYoaT5kKXtnPSEwO2JyZWFrfX1lbHNle2lmKE4pe2NvbnN0IGU9ci5nZXRQYW5uYWJsZUV4dGVudCgpLndpZHRoKCksdD1mdChuLmdldFN0YXJ0WCgpLG4uZ2V0RW5kWCgpLC41KTtmb3IoO2IueDx0LS41KmU7KWIueCs9ZTtmb3IoO2IueD49dCsuNSplOyliLngtPWV9Y29uc3Qgcz1uLmdldENsb3Nlc3RDb29yZGluYXRlT25JbnRlcnZhbChiLG5ldyBhdChJLG8pLC0xKTtsZXQgaT1uLmdldENvb3JkMkQocyk7aT1WKGkpO2xldCBhPSRoKGUsdCxpLEMpO2lmKGE+ZCl7aWYoYTw0KmQpe2NvbnN0IHM9ZHMoZSx0LGkpLG49ZHMoZSx0LEUpLHI9ZHMoZSx0LFMpLHtzZWNvbmQ6b309dnMoZSx0LHMsbixyLDIsbnVsbCk7YT1vfWlmKGE+ZCl7Zz0hMDticmVha319ZWxzZSBpZihsKXtsZXQgcz1kcyhlLHQsZik7Y29uc3Qgbj1kcyhlLHQsRSkscj1kcyhlLHQsUyk7bGV0e3NlY29uZDppfT12cyhlLHQscyxuLHIsMyxudWxsKTtpZihpPD1kKXtzPWRzKGUsdCx5KTtjb25zdHtzZWNvbmQ6b309dnMoZSx0LHMsbixyLDMsbnVsbCk7aT1vfWlmKGk+ZCl7Zz0hMDticmVha319fX1nPyhiLnB1c2goRi5jbG9uZSgpKSx3LnB1c2goSC5jbG9uZSgpKSx2LnB1c2goYykpOihiLnBvcCgpLHcucG9wKCksdi5wb3AoKSxtLnB1c2goaS5jbG9uZSgpKSxDKz15LG51bGwhPT1oJiZoLnB1c2goQyksVC5zZXRDb29yZHNQb2ludDJEKGkpLEUuc2V0Q29vcmRzUG9pbnQyRChTKSxJPW8pfWlmKG51bGwhPT1oKXtjb25zdCBlPTEvQztmb3IobGV0IHQ9MDt0PGgubGVuZ3RoO3QrKyloW3RdKj1lfX1mdW5jdGlvbiBzbShlLHQscyxuKXtpZihuLnJldmVyc2UoKSxudWxsIT09cyYmcy5yZXZlcnNlKCksZSl7Y29uc3Qgcz1lWzBdLG49dFswXTtlWzBdPW4sdFswXT1zfX1mdW5jdGlvbiBubShlLHQscyxuLHIpe2U/KG4uc2V0Q29vcmRzUG9pbnQyRChzKSxyLnNldENvb3Jkc1BvaW50MkQodCkpOihuLnNldENvb3Jkc1BvaW50MkQodCksci5zZXRDb29yZHNQb2ludDJEKHMpKX1mdW5jdGlvbiBybShlLHQscyl7cmV0dXJuIGU/KHMuY3JlYXRlKHQuZ2V0R2VvbWV0cnlUeXBlKCkpLHQuY29weVRvKHMuZ2V0KCkpLHMuZ2V0KCkucmV2ZXJzZSgpLHMuZ2V0KCkpOnR9ZnVuY3Rpb24gaW0oZSx0LHMpe2lmKE51bWJlci5pc05hTih0KSl7Zm9yKDtzLWU+TWF0aC5QSTspcy09MipNYXRoLlBJO2Zvcig7ZS1zPk1hdGguUEk7KXMrPTIqTWF0aC5QSTtyZXR1cm4gc31yZXR1cm4gcytlLXQ+TWF0aC5QST9zLT0yKk1hdGguUEk6dC0ocytlKT5NYXRoLlBJJiYocys9MipNYXRoLlBJKSxzfWZ1bmN0aW9uIG9tKGUsdCxzLG4pe2lmKGUueT4wKXtjb25zdCByPW5ldyBRZTtyLnNldENvb3Jkcyh0LngsQ3QpLFBjKGUueCxyLngpfHxQYyh0Lnksci55KXx8KG4ucHVzaChyKSxudWxsIT09cyYmcy5wdXNoKDApKX1lbHNle2NvbnN0IHI9bmV3IFFlO3Iuc2V0Q29vcmRzKHQueCwtQ3QpLFBjKGUueCxyLngpfHxQYyh0Lnksci55KXx8KG4ucHVzaChyKSxudWxsIT09cyYmcy5wdXNoKDApKX19ZnVuY3Rpb24gYW0oZSx0LHMsbil7aWYodC55PjApe2NvbnN0IHI9bmV3IFFlO3Iuc2V0Q29vcmRzKGUueCxDdCksUGModC54LHIueCl8fFBjKGUueSxyLnkpfHwobi5wdXNoKHIpLG51bGwhPT1zJiZzLnB1c2goMSkpfWVsc2V7Y29uc3Qgcj1uZXcgUWU7ci5zZXRDb29yZHMoZS54LC1DdCksUGModC54LHIueCl8fFBjKGUueSxyLnkpfHwobi5wdXNoKHIpLG51bGwhPT1zJiZzLnB1c2goMSkpfX1mdW5jdGlvbiBobShlLHQscyxuLHIsaSxvKXtpZihTYyhzKSl7aWYoQ3QtZS55PjApe2NvbnN0IHQ9bmV3IFFlO3Quc2V0Q29vcmRzKGUueCxDdCksby5wdXNoKHQpLG51bGwhPT1pJiZpLnB1c2gobil9aWYoQ3QtdC55PjApe2NvbnN0IGU9bmV3IFFlO2Uuc2V0Q29vcmRzKHQueCxDdCksby5wdXNoKGUpLG51bGwhPT1pJiZpLnB1c2gobil9fWVsc2V7aWYoQ3QrZS55PjApe2NvbnN0IHQ9bmV3IFFlO3Quc2V0Q29vcmRzKGUueCwtQ3QpLG8ucHVzaCh0KSxudWxsIT09aSYmaS5wdXNoKHIpfWlmKEN0K3QueT4wKXtjb25zdCBlPW5ldyBRZTtlLnNldENvb3Jkcyh0LngsLUN0KSxvLnB1c2goZSksbnVsbCE9PWkmJmkucHVzaChyKX19fWZ1bmN0aW9uIG1tKGUsdCxzKXtyZXR1cm4hKCFsbShlLHQscyl8fFBjKGUueSxDdCl8fFBjKGUueSwtQ3QpfHxQYyh0LnksQ3QpfHxQYyh0LnksLUN0KSl9ZnVuY3Rpb24gbG0oZSx0LHMpe3JldHVybiBNYXRoLmFicyhNYXRoLmFicyhlLngtdC54KS1NYXRoLlBJKTw9c31mdW5jdGlvbiBnbShlKXtpZihlLng8LU1hdGguUEkpZm9yKDtlLng8LU1hdGguUEk7KWUueCs9MipNYXRoLlBJO2Vsc2UgaWYoZS54Pk1hdGguUEkpZm9yKDtlLng+TWF0aC5QSTspZS54LT0yKk1hdGguUEl9ZnVuY3Rpb24gdW0oZSx0LHMsbil7Y29uc3Qgcj17c3RhY2s6W10sZXJyb3I6dm9pZCAwLGhhc0Vycm9yOiExfTt0cnl7Y29uc3QgaT1bcy54XSxvPVtzLnktbl0sYT1bcy54XSxoPVtzLnkrbl07VnMoaSxvKSxWcyhhLGgpO2NvbnN0IG09enQocixuZXcgQ2MsITEpLGw9enQocixuZXcgQ2MsITEpO0RjLmdyZWF0RWxsaXB0aWNEaXN0YW5jZShlLHQscy54LHMueSxpWzBdLG9bMF0sbSxudWxsLG51bGwpLERjLmdyZWF0RWxsaXB0aWNEaXN0YW5jZShlLHQscy54LHMueSxhWzBdLGhbMF0sbCxudWxsLG51bGwpO3JldHVybiBNYXRoLm1pbihtLnZhbCxsLnZhbCl9Y2F0Y2goaSl7ci5lcnJvcj1pLHIuaGFzRXJyb3I9ITB9ZmluYWxseXtXdChyKX19ZnVuY3Rpb24gY20odCxzLG4scixpKXtjb25zdCBvPW5ldyBlO24ucXVlcnlFbnZlbG9wZShvKTtjb25zdCBhPW1lKG51bGwsbiwhMCkudG90YWwoKTtpZihzLnhtaW4tby54bWluPD1hJiZvLnhtYXgtcy54bWF4PD1hKXJldHVybiBuO2NvbnN0IGg9cy53aWR0aCgpO2xldCBtPTA7Zm9yKDtzLnhtaW4rbSpoPG8ueG1pbjspbSsrO2Zvcig7cy54bWluK20qaD5vLnhtaW47KW0tLTtjb25zdCBsPW0qaCxnPW5ldyBqdDtnLnNldFNoaWZ0Q29vcmRzKC1sLDApO2NvbnN0IHU9bjt1LmFwcGx5VHJhbnNmb3JtYXRpb24oZyk7Y29uc3QgYz1uZXcgZTt1LnF1ZXJ5RW52ZWxvcGUoYyk7bGV0IF89bnVsbDtpZihjLnhtYXg+cy54bWF4KXtsZXQgbj0wO2NvbnN0IHI9bmV3IGU7ci5zZXRDb29yZHMoe2VudjJEOnN9KSxyLnltaW4tPTEsci55bWF4Kz0xO2xldCBvPXU7Zm9yKDtyLnhtaW48Yy54bWF4Oyl7Yy54bWF4PnIueG1heCYmKG89SGwobyx0LDIsITAsci54bWF4KSk7Y29uc3QgZT1XZShvLHIpLGE9ZGUobnVsbCxlLCEwKS50b3RhbCgpLG09WnQobyxyLGEsTnVtYmVyLk5hTixpKTtudWxsPT09Xz9fPW09PT1vP20uY2xvbmUoKTptOihnLnNldFNoaWZ0Q29vcmRzKC1uKmgsMCksbS5hcHBseVRyYW5zZm9ybWF0aW9uKGcpLF8uYWRkKG0sITEpKSxuKyssci54bWluPXIueG1heCxyLnhtYXg9cy54bWF4K24qaH19ZWxzZSBfPXU7cmV0dXJuIF99Y2xhc3MgX217Y29uc3RydWN0b3IoZSx0KXt0aGlzLm1fYmFzaXNYPW5ldyBSZSx0aGlzLm1fYmFzaXNZPW5ldyBSZSx0aGlzLm1fbm9ybWFsPW5ldyBSZSxhKDE9PT1lLmdldENvb3JkaW5hdGVTeXN0ZW1UeXBlKCkpLHRoaXMubV9nY3M9ZTtjb25zdCBzPUh1KCk7ZS5xdWVyeVNwaGVyb2lkRGF0YShzKSx0aGlzLm1fYT1zLm1ham9yU2VtaUF4aXMsdGhpcy5tX2UyPXMuZTIsdGhpcy5tX3JwdT1lLmdldFVuaXQoKS5nZXRVbml0VG9CYXNlRmFjdG9yKCksdGhpcy5tX2N1cnZDZW50ZXJSYWQ9dC5tdWwodGhpcy5tX3JwdSk7Y29uc3Qgbj10aGlzLm1fY3VydkNlbnRlclJhZC54LHI9dGhpcy5tX2N1cnZDZW50ZXJSYWQueSxpPU1hdGguY29zKG4pLG89TWF0aC5zaW4obiksaD1NYXRoLmNvcyhyKSxtPU1hdGguc2luKHIpO3RoaXMubV9jYXJ0Q2VudGVyM0Q9ZnModGhpcy5tX2EsdGhpcy5tX2UyLGksbyxoLG0pLHRoaXMubV9ub3JtYWwuc2V0Q29vcmRzUG9pbnQzRCh0aGlzLm1fY2FydENlbnRlcjNEKSx0aGlzLm1fZD10aGlzLm1fY2FydENlbnRlcjNELmxlbmd0aCgpLHRoaXMubV9ub3JtYWwuZGl2VGhpcyh0aGlzLm1fZCksUmUuc2VsZWN0UmlnaHRIYW5kZWRCYXNpc0Zyb21Ob3JtYWwodGhpcy5tX25vcm1hbCx0aGlzLm1fYmFzaXNYLHRoaXMubV9iYXNpc1kpLHRoaXMubV9ub3J0aFBvbGVQY3M9dGhpcy5wcm9qZWN0UG9pbnQoUWUuY29uc3RydWN0KDAsLjUqTWF0aC5QSS90aGlzLm1fcnB1KSksdGhpcy5tX3NvdXRoUG9sZVBjcz10aGlzLnByb2plY3RQb2ludChRZS5jb25zdHJ1Y3QoMCwuNSotTWF0aC5QSS90aGlzLm1fcnB1KSl9cHJvamVjdChlKXtjb25zdCBzPWUuZ2V0R2VvbWV0cnlUeXBlKCk7aWYoZChzKSl7eShlKTtjb25zdCB0PWU7cmV0dXJuIHRoaXMucHJvamVjdE11bHRpVmVydGV4KHQpfXQoXCJHbm9tb25pYy5wcm9qZWN0XCIpfXVucHJvamVjdChlLHMscil7Y29uc3QgaT1lLmdldEdlb21ldHJ5VHlwZSgpO2lmKGQoaSkpe3koZSk7bGV0IHQ9ZTtjb25zdCBhPVtdO2lmKGk9PT1uLmVudW1Qb2x5Z29uKXtjb25zdCBlPXQuZ2V0UGF0aENvdW50KCk7Zm9yKGxldCBzPTA7czxlO3MrKyl7Y29uc3QgZT10LmNhbGN1bGF0ZVJpbmdBcmVhMkQocyk7YS5wdXNoKGUpfX1yZXR1cm4gdGhpcy51bnByb2plY3RNdWx0aVZlcnRleChzLHQpLG8oaSk/KENtKHRoaXMubV9nY3MsMCx0KSxkbShhLHRoaXMubV9nY3MsMCx0LHIpKTp0PXZsKHQsdGhpcy5tX2djcywwLCEwLDAsciksdH10KFwiR25vbW9uaWMudW5wcm9qZWN0XCIpfXByb2plY3RQb2ludChlKXtjb25zdCB0PWUubXVsKHRoaXMubV9ycHUpLHM9ZHModGhpcy5tX2EsdGhpcy5tX2UyLHQpLG49dGhpcy5tX25vcm1hbC5kb3RQcm9kdWN0KHMpO2lmKG48PTApcmV0dXJuIFFlLmNvbnN0cnVjdChOdW1iZXIuTmFOLE51bWJlci5OYU4pO2NvbnN0IHI9dGhpcy5tX2QvbixpPXMubXVsKHIpLnN1Yih0aGlzLm1fY2FydENlbnRlcjNEKSxvPW5ldyBRZTtyZXR1cm4gby54PXRoaXMubV9iYXNpc1guZG90UHJvZHVjdChpKSxvLnk9dGhpcy5tX2Jhc2lzWS5kb3RQcm9kdWN0KGkpLG99dW5wcm9qZWN0UG9pbnQoZSl7Y29uc3QgdD10aGlzLm1fY2FydENlbnRlcjNELmFkZCh0aGlzLm1fYmFzaXNYLm11bChlLngpLmFkZCh0aGlzLm1fYmFzaXNZLm11bChlLnkpKSk7cmV0dXJuIFBzKHRoaXMubV9hLHRoaXMubV9lMix0KS5kaXZpZGUodGhpcy5tX3JwdSl9cHJvamVjdE11bHRpVmVydGV4KGUpe2NvbnN0IHQ9ZS5nZXRJbXBsKCk7bGV0IHM9ITA7Y29uc3Qgbj1uZXcgUWUscj1uZXcgUWU7Zm9yKGxldCBpPTAsbz10LmdldFBvaW50Q291bnQoKTtpPG87aSsrKXQucXVlcnlYWShpLG4pLG4ueSp0aGlzLm1fcnB1Pi41Kk1hdGguUEk/ci5hc3NpZ24odGhpcy5tX25vcnRoUG9sZVBjcyk6bi55KnRoaXMubV9ycHU8LjUqLU1hdGguUEk/ci5hc3NpZ24odGhpcy5tX3NvdXRoUG9sZVBjcyk6ci5hc3NpZ24odGhpcy5wcm9qZWN0UG9pbnQobikpLHQuc2V0WFlOb0N1cnZlcyhpLHIpLHIuaXNOQU4oKSYmKHM9ITEpO3JldHVybiB0Lm5vdGlmeU1vZGlmaWVkRmxhZ3MoMjAwMSksc311bnByb2plY3RNdWx0aVZlcnRleChlLHQpe2NvbnN0IHM9dC5nZXRJbXBsKCksbj1lKmUscj0hdGhpcy5tX25vcnRoUG9sZVBjcy5pc05BTigpLGk9IXRoaXMubV9zb3V0aFBvbGVQY3MuaXNOQU4oKTtmb3IobGV0IG89MCxhPXMuZ2V0UG9pbnRDb3VudCgpO288YTtvKyspe2NvbnN0IGU9cy5nZXRYWShvKTtsZXQgdD1uZXcgUWU7ciYmUWUuc3FyRGlzdGFuY2UoZSx0aGlzLm1fbm9ydGhQb2xlUGNzKTw9bj8odC5zZXRDb29yZHModGhpcy5tX2N1cnZDZW50ZXJSYWQueCwuNSpNYXRoLlBJKSx0LnNjYWxlKDEvdGhpcy5tX3JwdSkpOmkmJlFlLnNxckRpc3RhbmNlKGUsdGhpcy5tX3NvdXRoUG9sZVBjcyk8PW4/KHQuc2V0Q29vcmRzKHRoaXMubV9jdXJ2Q2VudGVyUmFkLngsLjUqLU1hdGguUEkpLHQuc2NhbGUoMS90aGlzLm1fcnB1KSk6dD10aGlzLnVucHJvamVjdFBvaW50KGUpLHMuc2V0WFlOb0N1cnZlcyhvLHQpfXMubm90aWZ5TW9kaWZpZWRGbGFncygyMDAxKX19ZnVuY3Rpb24gZG0odCxzLHIsaSxvKXtjb25zdCBhPWkuZ2V0R2VvbWV0cnlUeXBlKCksaD1zLmdldFBhbm5hYmxlRXh0ZW50KCk7bGV0IG09aSxsPSExLGc9ITE7aWYoYT09PW4uZW51bVBvbHlnb24pe2NvbnN0IG49bmV3IGUsaT1RZS5jb25zdHJ1Y3QociwwKTtuLnNldENvb3Jkcyh7ZW52MkQ6aH0pLG4uY2VudGVyQXQoaSksbD1wbSh0LHMsbixtLG8pO2NvbnN0IGE9U20ocyxuLG0sbyk7YSE9PW0mJihnPSEwKSxtPWF9ZWxzZSBtPShuZXcgcWgpLmZvbGRJbnRvMzYwUmFuZ2VHZW9kZXRpYyhtLHMsMik7YT09PW4uZW51bVBvbHlnb24mJihsfHxnKSYmKG09KG5ldyBFaCkuZXhlY3V0ZShtLHMsITEsbykpLG0hPT1pJiYoaS5zZXRFbXB0eSgpLGkuYWRkKG0sITEpKX1mdW5jdGlvbiBwbShlLHQscyxuLHIpe2NvbnN0IGk9Zm0ocyxuKSxvPXhtKGUsdCxzLG4scik7cmV0dXJuIGl8fG99ZnVuY3Rpb24gZm0odCxzKXtjb25zdCBuPW5ldyBlO3MucXVlcnlFbnZlbG9wZShuKTtjb25zdCByPVBjKHQueW1heCxuLnltYXgpLGk9UGModC55bWluLG4ueW1pbiksbz1yfHxpO3JldHVybiEhbyYmKHltKHQscyksbyl9ZnVuY3Rpb24geG0oZSx0LHMsbixyKXtjb25zdCBpPVtdLG89W10sYT0uNSpzLndpZHRoKCk7Zm9yKGxldCBnPTA7ZzxuLmdldFBhdGhDb3VudCgpO2crKyl7Y29uc3QgaD1uLmdldFhZKG4uZ2V0UGF0aFN0YXJ0KGcpKSxtPW4uZ2V0WFkobi5nZXRQYXRoRW5kKGcpLTEpLGw9ZVtnXTwwO2lmKE1hdGguYWJzKGgueC1tLngpPmEpe2NvbnN0IGU9UG0obCx0LHMsZyxuLHIpO2kucHVzaChlKSxvLnB1c2goZyl9ZWxzZSBpZighbCl7aWYobi5jYWxjdWxhdGVSaW5nQXJlYTJEKGcpPDApe2NvbnN0IGU9RW0odCxzLGcsbixyKTtpLnB1c2goZSksby5wdXNoKGcpfX19aWYoMD09PWkubGVuZ3RoKXJldHVybiExO2NvbnN0IGg9bmV3IHYoe3ZkOm4uZ2V0RGVzY3JpcHRpb24oKX0pO2xldCBtPTAsbD1vW21dO2ZvcihsZXQgZz0wO2c8bi5nZXRQYXRoQ291bnQoKTtnKyspZz09PWw/KGguYWRkKGlbbV0sITEpLG0rKyxtPG8ubGVuZ3RoJiYobD1vW21dKSk6aC5hZGRQYXRoKG4sZywhMCk7cmV0dXJuIG4uc2V0RW1wdHkoKSxuLmFkZChoLCExKSwhMH1mdW5jdGlvbiB5bSh0LHMpe2NvbnN0IG49bmV3IHYscj1uZXcgZTtmb3IobGV0IGU9MDtlPHMuZ2V0UGF0aENvdW50KCk7ZSsrKXtzLnF1ZXJ5UGF0aEVudmVsb3BlKGUscik7bGV0IGk9UGModC55bWF4LHIueW1heCksbz1QYyh0LnltaW4sci55bWluKTtpZighKGl8fG8pKXtuLmFkZFBhdGgocyxlLCEwKTtjb250aW51ZX1uLmluc2VydFBhdGgyRCgtMSxudWxsLDAsMCwhMCk7Y29uc3QgYT1zLmdldFBhdGhTdGFydChlKSxoPXMuZ2V0UGF0aEVuZChlKSxtPWgtYTtsZXQgbD0tMTtmb3IobD1hO2w8aDtsKyspe2NvbnN0IGU9cy5nZXRYWShsKTtpZihpPVBjKHQueW1heCxlLnkpLG89UGModC55bWluLGUueSksIWkmJiFvKWJyZWFrfWxldCBnPWwsdT0hMSxjPU51bWJlci5OYU47ZG97Y29uc3Qgcj1zLmdldFhZKGcpO2k9UGModC55bWF4LHIueSksbz1QYyh0LnltaW4sci55KTtjb25zdCBoPWErKGcrMS1hKSVtO2lmKGl8fG8pe2xldCBpPVFlLmNvbnN0cnVjdChjLHIueSk7bi5pbnNlcnRQb2ludDJEKGUsLTEsaSk7Y29uc3Qgbz1zLmdldFhZKGgpLGE9UGModC55bWF4LG8ueSksbT1QYyh0LnltaW4sby55KTthfHxtfHwoaT1RZS5jb25zdHJ1Y3Qoby54LHIueSksdT9uLnNldFhZTm9DdXJ2ZXMobi5nZXRQb2ludENvdW50KCktMSxpKTpuLmluc2VydFBvaW50MkQoZSwtMSxpKSksdT0hMH1lbHNlIG4uaW5zZXJ0UG9pbnQyRChlLC0xLHIpLGM9ci54LHU9ITE7Zz1ofXdoaWxlKGchPT1sKX1zLnNldEVtcHR5KCkscy5hZGQobiwhMSl9ZnVuY3Rpb24gUG0odCxzLG4scixpLG8pe2NvbnN0IGE9bmV3IHYsaD1uZXcgdixtPW5ldyBqdCxsPWkuZ2V0WFkoaS5nZXRQYXRoU3RhcnQocikpLGc9aS5nZXRYWShpLmdldFBhdGhFbmQociktMSksdT1uLndpZHRoKCksYz0uNSp1LF89bmV3IGU7aS5xdWVyeUVudmVsb3BlKF8pO2NvbnN0IGQ9TWF0aC5jZWlsKF8ud2lkdGgoKS91KSsxO2xldCBwLGY7bC54PmcueD8ocD0tdSxmPXQ/bi55bWluOm4ueW1heCk6KHA9dSxmPXQ/bi55bWF4Om4ueW1pbiksbS5zZXRTaGlmdENvb3JkcyhwLDApLGEuYWRkUGF0aChpLHIsITApLGguYWRkKGEsITEpO2NvbnN0IHg9bmV3IGZlO2ZvcihsZXQgZT0wO2U8ZDtlKyspaC5hcHBseVRyYW5zZm9ybWF0aW9uKG0pLGguZ2V0UG9pbnRCeVZhbCgwLHgpLGEubGluZVRvUG9pbnQoeCksYS5hZGRTZWdtZW50c0Zyb21QYXRoKGgsMCwwLGguZ2V0U2VnbWVudENvdW50KCktMSwhMSk7Y29uc3QgeT1hLmdldFhZKDApLFA9YS5nZXRYWShhLmdldFBvaW50Q291bnQoKS0xKTt5Lnk9ZixQLnk9ZixhLmxpbmVUbyhQKTtjb25zdCBFPW5ldyBRZTtmb3IoRS5zZXRDb29yZHNQb2ludDJEKFApLEUueC09LjUqcDtNYXRoLmFicyhFLngteS54KT5jOylhLmxpbmVUbyhFKSxFLngtPS41KnA7YS5saW5lVG8oeSk7Y29uc3QgUz1uLmdldENlbnRlcigpLngsQz1uZXcgZTthLnF1ZXJ5RW52ZWxvcGUoQyk7bGV0IEk9MDtjb25zdCBiPUMuZ2V0Q2VudGVyKCkueDtiLVM+Yz9JPS1NYXRoLmNlaWwoKGItUy1jKS91KTpTLWI+YyYmKEk9TWF0aC5jZWlsKChTLWItYykvdSkpLDAhPT1JJiYobS5zZXRTaGlmdENvb3JkcyhJKnUsMCksYS5hcHBseVRyYW5zZm9ybWF0aW9uKG0pKTtjb25zdCB3PW5ldyBHLE49dy5hZGRHZW9tZXRyeShhKTtrbCh3LE4scywwLDIsITAsbi54bWluKSxrbCh3LE4scywwLDIsITAsbi54bWF4KTtjb25zdCBUPXcuZ2V0R2VvbWV0cnkoTiksRD1XZShULG4pO0QuaW5mbGF0ZUNvb3JkcygwLDEpO2NvbnN0IFY9ZGUobnVsbCxELCEwKTtyZXR1cm4gWnQoVCxuLFYudG90YWwoKSxOdW1iZXIuTmFOLG8pfWZ1bmN0aW9uIEVtKHQscyxuLHIsaSl7Y29uc3Qgbz1zLndpZHRoKCksYT0uNSpvLGg9cy5nZXRDZW50ZXIoKS54LG09bmV3IGU7ci5xdWVyeVBhdGhFbnZlbG9wZShuLG0pO2xldCBsLGc9MCx1PW0uZ2V0Q2VudGVyKCkueDtpZih1LWg+YT9nPS1NYXRoLmNlaWwoKHUtaC1hKS9vKTpoLXU+YSYmKGc9TWF0aC5jZWlsKChoLXUtYSkvbykpLDAhPT1nKXtjb25zdCBlPW5ldyBqdDtlLnNldFNoaWZ0Q29vcmRzKGcqbywwKSxyLmdldEltcGwoKS5hcHBseVRyYW5zZm9ybWF0aW9uVG9QYXRoKGUsbiksci5xdWVyeVBhdGhFbnZlbG9wZShuLG0pLHU9bS5nZXRDZW50ZXIoKS54fWNvbnN0IGM9bmV3IGU7cy5jb250YWluc0V4Y2x1c2l2ZUVudmVsb3BlKG0pPyhsPSExLGMuc2V0Q29vcmRzKHtlbnYyRDpzfSkpOihsPSEwLGMuc2V0Q29vcmRzKHtlbnYyRDpzfSksYy54bWluLT1vLGMueG1heCs9byk7bGV0IF89ci5jcmVhdGVJbnN0YW5jZSgpO18uYWRkUGF0aFBvaW50MkQobnVsbCwwLCEwKTtjb25zdCBkPW5ldyBRZTtpZihkLnNldENvb3JkcyhjLnhtaW4sYy55bWluKSxfLmluc2VydFBvaW50MkQoMCwtMSxkKSxkLnNldENvb3JkcyhjLnhtaW4sYy55bWF4KSxfLmluc2VydFBvaW50MkQoMCwtMSxkKSxkLnNldENvb3JkcyguNSooYy54bWluK2MueG1heCksYy55bWF4KSxfLmluc2VydFBvaW50MkQoMCwtMSxkKSxkLnNldENvb3JkcyhjLnhtYXgsYy55bWF4KSxfLmluc2VydFBvaW50MkQoMCwtMSxkKSxkLnNldENvb3JkcyhjLnhtYXgsYy55bWluKSxfLmluc2VydFBvaW50MkQoMCwtMSxkKSxkLnNldENvb3JkcyguNSooYy54bWluK2MueG1heCksYy55bWluKSxfLmluc2VydFBvaW50MkQoMCwtMSxkKSxsKXtfLmFkZFBhdGgocixuLCEwKTtjb25zdCBlPW5ldyBqdDt1PGg/ZS5zZXRTaGlmdENvb3JkcyhvLDApOmUuc2V0U2hpZnRDb29yZHMoLW8sMCksci5nZXRJbXBsKCkuYXBwbHlUcmFuc2Zvcm1hdGlvblRvUGF0aChlLG4pLF8uYWRkUGF0aChyLG4sITApO2NvbnN0IGE9bmV3IEcsbT1hLmFkZEdlb21ldHJ5KF8pO2tsKGEsbSx0LDAsMiwhMCxzLnhtaW4pLGtsKGEsbSx0LDAsMiwhMCxzLnhtYXgpLF89YS5nZXRHZW9tZXRyeShtKTtjb25zdCBsPVdlKF8scyk7bC5pbmZsYXRlQ29vcmRzKDAsMSk7Y29uc3QgZz1kZShudWxsLGwsITApLnRvdGFsKCk7Xz1adChfLHMsZyxOdW1iZXIuTmFOLGkpfWVsc2UgXy5hZGRQYXRoKHIsbiwhMCk7cmV0dXJuIF99ZnVuY3Rpb24gU20odCxzLG4scil7Y29uc3QgaT1uZXcgZTtuLnF1ZXJ5RW52ZWxvcGUoaSk7Y29uc3Qgbz1tZShudWxsLG4sITApLnRvdGFsKCk7aWYocy54bWluLWkueG1pbjw9byYmaS54bWF4LXMueG1heDw9bylyZXR1cm4gbjtjb25zdCBhPW4uY3JlYXRlSW5zdGFuY2UoKTtsZXQgaD1uLmNyZWF0ZUluc3RhbmNlKCk7Y29uc3QgbT1uZXcgZSxsPW4uZ2V0UGF0aENvdW50KCk7Zm9yKGxldCBlPTA7ZTxsO2UrKyluLnF1ZXJ5UGF0aEVudmVsb3BlKGUsbSkscy54bWluLW0ueG1pbjw9byYmbS54bWF4LXMueG1heDw9bz9hLmFkZFBhdGgobixlLCEwKTooaC5zZXRFbXB0eSgpLGguYWRkUGF0aChuLGUsITApLGg9Y20odCxzLGgsITAsciksYS5hZGQoaCwhMCkpO3JldHVybiBhfWZ1bmN0aW9uIENtKGUsdCxzKXtjb25zdCBuPWUuZ2V0UGFubmFibGVFeHRlbnQoKSxyPVFlLmNvbnN0cnVjdCh0LDApO24uY2VudGVyQXQocik7Y29uc3QgaT1uLndpZHRoKCksbz0uNSppLGE9bmV3IFFlO2Euc2V0TkFOKCk7bGV0IGg9TnVtYmVyLk5hTjtmb3IobGV0IG09MDttPHMuZ2V0UGF0aENvdW50KCk7bSsrKWZvcihsZXQgZT1zLmdldFBhdGhTdGFydChtKTtlPHMuZ2V0UGF0aEVuZChtKTtlKyspe2NvbnN0IHQ9cy5nZXRYWShlKSxyPVBjKHQueSxuLnltYXgpfHxQYyhuLnltaW4sdC55KTtlPT09cy5nZXRQYXRoU3RhcnQobSk/KGEuc2V0TkFOKCksaD0wKTphLmlzTkFOKCl8fHJ8fChoPUltKHQueCxhLngsbyxpLGgpKSx0LngrPWgscy5zZXRYWU5vQ3VydmVzKGUsdCkscnx8YS5zZXRDb29yZHNQb2ludDJEKHQpfXMuZ2V0SW1wbCgpLm5vdGlmeU1vZGlmaWVkRmxhZ3MoMjAwMSl9ZnVuY3Rpb24gSW0oZSx0LHMsbixyKXtyZXR1cm4gcitlLXQ+cz9yLT1uOnQtKHIrZSk+cyYmKHIrPW4pLHJ9ZnVuY3Rpb24gYm0oZSx0LHMsbixyLGkpe2NvbnN0IG89dC5nZXRBdHRyaWJ1dGVTdHJlYW1SZWYoMCksYT10LmdldFBvaW50Q291bnQoKTtsZXQgaD0hMTtjb25zdCBtPW5ldyBRZTtmb3IobGV0IFA9MDtQPGE7KytQKXtpZihvLnF1ZXJ5UG9pbnQyRCgyKlAsbSksMSZpJiZtLnk+PXMpe2g9ITA7YnJlYWt9aWYoMiZpJiZtLnk8PS1zKXtoPSEwO2JyZWFrfX1pZighaClyZXR1cm4hMTtsZXQgbD0hMTtlJiYobD10LmdldEltcGwoKS5pc0Nsb3NlZFBhdGhJblhZUGxhbmUoMCkpO2NvbnN0IGc9bmV3IEcsdT1nLmFkZEdlb21ldHJ5KHQpLGM9Zy5nZXRGaXJzdFBhdGgodSk7bGV0IF89LTEsZD0hMDtjb25zdCBwPW5ldyBRZSxmPW5ldyBmZTtsZXQgeD1NO2NvbnN0IHk9R20qci8zNjA7Zm9yKGxldCBQPWcuZ2V0Rmlyc3RWZXJ0ZXgoYyk7UCE9PU07UD1nLmdldE5leHRWZXJ0ZXgoUCkpe2cucXVlcnlYWShQLG0pO2xldCBlPTEmaSYmbS55Pj1zPzE6MDtpZihlfD0yJmkmJm0ueTw9LXM/MjowLF8+MCYmXyE9PWUpe2lmKHAueCE9PW0ueCl7Y29uc3QgZT1nLmdldFByZXZWZXJ0ZXgoUCk7Zy5xdWVyeVBvaW50KGUsZik7Y29uc3QgdD1nLmluc2VydFZlcnRleChjLFAsZik7cC54PW0ueCxnLnNldFhZKHQscCl9aWYobCl7bGV0IGU9eCE9PU0/Zy5nZXROZXh0VmVydGV4KHgpOmcuZ2V0Rmlyc3RWZXJ0ZXgoYyk7Y29uc3QgdD1nLmdldFByZXZWZXJ0ZXgoUCk7Zm9yKDtlIT09dDspZT1nLnJlbW92ZVZlcnRleChlLCExKTtpZih4IT09TSl7Y29uc3QgZT1nLmdldFhZKHgpLHM9Zy5nZXRYWSh0KTtpZihNYXRoLmFicyhlLngtcy54KT55KXtnLnF1ZXJ5UG9pbnQoeCxmKTtjb25zdCBuPWcuaW5zZXJ0VmVydGV4KGMsdCxmKTtlLng9ZnQoZS54LHMueCwuNSksZy5zZXRYWShuLGUpfX19eD1NfWlmKGUmJihtLnk9eHQobixtLnkpLGcuc2V0WFkoUCxtKSwhZCYmXyE9PWUpKWlmKG0ueCE9PXAueCl7Zy5xdWVyeVBvaW50KFAsZik7Y29uc3QgZT1nLmluc2VydFZlcnRleChjLFAsZik7Zy5zZXRYWUNvb3JkcyhlLHAueCxtLnkpLHg9ZX1lbHNlIHg9UDtfPWUscC5hc3NpZ24obSksZD0hMX1pZihsKXtpZih4IT09TSl7bGV0IGU9Zy5nZXROZXh0VmVydGV4KHgpO2Zvcig7ZSE9PU07KWU9Zy5yZW1vdmVWZXJ0ZXgoZSwhMSl9Y29uc3QgZT1nLmdldEZpcnN0VmVydGV4KGMpO2xldCB0PWcuZ2V0TGFzdFZlcnRleChjKTtjb25zdCBzPWcuZ2V0WFkoZSksbj1nLmdldFhZKHQpO2lmKCFzLmVxdWFscyhuKSYmKGcucXVlcnlQb2ludChlLGYpLHQ9Zy5pbnNlcnRWZXJ0ZXgoYyxNLGYpLE1hdGguYWJzKHMueC1uLngpPnkpKXtjb25zdCBlPWcuaW5zZXJ0VmVydGV4KGMsdCxmKTtzLng9ZnQocy54LG4ueCwuNSksZy5zZXRYWShlLHMpfX1yZXR1cm4gdC5hc3NpZ25Db3B5KGcuZ2V0R2VvbWV0cnkodSkpLCEwfWZ1bmN0aW9uIHdtKGUsdCl7bGV0IHM9bmV3IHYoe3ZkOmV9KTtzLmFkZEVudmVsb3BlKHQsITEpO2NvbnN0IG49dC53aWR0aCgpLzE4MDtyZXR1cm4gcz0obmV3IEp0KS5leGVjdXRlKHMsbiwwLDAsbnVsbCksc31mdW5jdGlvbiB2bShlLHQpe2NvbnN0IHM9ZS5nZXRQYW5uYWJsZUV4dGVudCgpO3JldHVybiBOdW1iZXIuaXNOYU4odCl8fHMuY2VudGVyQXRDb29yZHModCwwKSxzfWZ1bmN0aW9uIE5tKGUsdCxzKXtjb25zdCBuPUh1KCk7dC5xdWVyeVNwaGVyb2lkRGF0YShuKTtjb25zdCByPXQuZ2V0R0NTKCkhPT10P3QuZ2V0U1JUb0dDU1RyYW5zZm9ybSgpOm51bGwsaT1sdChRZSwxMDApLG89bmV3IFJlKDAsMCwwKSxhPWUuZ2V0UG9pbnRDb3VudCgpLGg9dC5nZXRHQ1MoKS5nZXRVbml0KCkuZ2V0VW5pdFRvQmFzZUZhY3RvcigpO2ZvcihsZXQgdT0wLGM9YTt1PGM7KXtjb25zdCB0PU1hdGgubWluKDEwMCxjLXUpO2UucXVlcnlDb29yZGluYXRlcyhpLHQsdSx1K3QpLHImJihuZXcgcWgpLnRyYW5zZm9ybShyLGksdCxpLCExKTtmb3IobGV0IGU9MDtlPHQ7ZSsrKXtpZihpW2VdLmlzTkFOKCkpY29udGludWU7aVtlXS5zY2FsZShoKTtjb25zdCB0PWRzKG4ubWFqb3JTZW1pQXhpcyxuLmUyLGlbZV0pO28uYWRkVGhpcyh0KX11Kz10fWNvbnN0IG09UHMobi5tYWpvclNlbWlBeGlzLG4uZTIsbyk7bS5zY2FsZSgxL2gpO2NvbnN0IGw9ZTtpZighbmV3IF9tKHQuZ2V0R0NTKCksbSkucHJvamVjdChsKSlyZXR1cm4gMDtzLmxlbmd0aD1lLmdldFBhdGhDb3VudCgpO2NvbnN0IGc9bC5jYWxjdWxhdGVBcmVhMkQoKTwwO2ZvcihsZXQgdT0wLGM9ZS5nZXRQYXRoQ291bnQoKTt1PGM7dSsrKXtjb25zdCBlPWwuY2FsY3VsYXRlUmluZ0FyZWEyRCh1KSx0PWc/ZTwwOmU+MDtzW3VdPXR9cmV0dXJuIGc/LTE6MX1mdW5jdGlvbiBUbShlLHQscyxyLG8pe2lmKCF0LmlzUGFubmFibGUoKXx8ZS5pc0VtcHR5KCkpcmV0dXJuIGU7Y29uc3QgYT1lLmdldEdlb21ldHJ5VHlwZSgpO2E9PT1uLmVudW1HZW9tZXRyeUNvbGxlY3Rpb24mJnUoXCJub3QgeWV0IGltcGwgZm9yIGdlb21ldHJ5IGNvbGxlY3Rpb25cIik7Y29uc3QgaD10LmdldFBhbm5hYmxlRXh0ZW50KCk7TnVtYmVyLmlzTmFOKHMpJiYocz1oLmdldENlbnRlclgoKSk7Y29uc3QgbT1oLndpZHRoKCksbD0uNSptLGc9bz4wLGM9ZS5xdWVyeUludGVydmFsKDAsMCk7aWYoIWcmJmMud2lkdGgoKTxsfHwhZChlLmdldEdlb21ldHJ5VHlwZSgpKSl7Y29uc3QgdD1jLmdldENlbnRlcigpO2lmKE1hdGguYWJzKHQtcyk8PWwpcmV0dXJuIGU7e2NvbnN0IG49bmV3IGp0LHI9bnQoKHMtdCkvbSkqbTtuLnNldFNoaWZ0Q29vcmRzKHIsMCk7Y29uc3QgaT1lLmNsb25lKCk7cmV0dXJuIGkuYXBwbHlUcmFuc2Zvcm1hdGlvbihuKSxpfX1pZihhPT09bi5lbnVtUG9seWdvbil7bGV0IG49bmV3IEkoe3ZkOmUuZ2V0RGVzY3JpcHRpb24oKX0pO24uYWRkQW5kRXhwbGljaXRseU9wZW5BbGxQYXRocyhlLCExKSxnJiYobj1PaChuLHQsMixvLE51bWJlci5OYU4sbnVsbCwhMCkpO2NvbnN0IGk9W107aWYoIXIpe3tsZXQgcz1lO2cmJihzPW5ldyB2LHMuYWRkKG4sITEpKTtjb25zdCByPU5tKGUsdCxpKTtpZihyKXI8MCYmbi5yZXZlcnNlQWxsUGF0aHMoKTtlbHNle2NvbnN0IGU9cy5nZXRQYXRoQ291bnQoKTtmb3IobGV0IHQ9MDt0PGU7dCsrKWkucHVzaChzLmNhbGN1bGF0ZVJpbmdBcmVhMkQodCk+MCl9fXI9aX1yZXR1cm4gbmV3IERtKG51bGwscixuLG51bGwsdCxzLDMsMCxudWxsKS5nZW9Ob3JtYWxpemVQb2x5Z29uR2VvbWV0cnkoITApfWlmKGE9PT1uLmVudW1Qb2x5bGluZSl7bGV0IG49bmV3IEkoe3ZkOmUuZ2V0RGVzY3JpcHRpb24oKX0pO24uYWRkQW5kRXhwbGljaXRseU9wZW5BbGxQYXRocyhlLCExKSxnJiYobj1PaChuLHQsMixvLE51bWJlci5OYU4sbnVsbCwhMCkpO3JldHVybiBuZXcgRG0obnVsbCxudWxsLG4sbnVsbCx0LHMsMywwLG51bGwpLmdlb05vcm1hbGl6ZVBvbHlsaW5lR2VvbWV0cnkoITApfWlmKGE9PT1uLmVudW1NdWx0aVBvaW50KXtjb25zdCB0PWUsbj10LmdldEF0dHJpYnV0ZVN0cmVhbVJlZigwKTtsZXQgcixpPW51bGwsbz1zLGE9MDtjb25zdCBoPS4xKm07Zm9yKGxldCBzPTAsZz10LmdldFBvaW50Q291bnQoKTtzPGc7cysrKXtjb25zdCB0PW4ucmVhZCgyKnMpO2xldCBnPXQtbztpZihNYXRoLmFicyhnKT5sJiYoZz1udChnL20pKm0sYS09ZyxNYXRoLmFicyhhKTxoJiYoYT0wKSksMCE9PWEpe2l8fChyPWUuY2xvbmUoKSxpPXIuZ2V0QXR0cmlidXRlU3RyZWFtUmVmKDApKTtjb25zdCBuPXQrYTtpLndyaXRlKDIqcyxuKX1vPXR9cmV0dXJuIGk/KHIubm90aWZ5TW9kaWZpZWQoKSxyKTplfWkoXCJcIil9Y29uc3QgR209MjEwO2NsYXNzIERte2NvbnN0cnVjdG9yKGUsdCxzLG4scixpLG8saCxtKXt0aGlzLm1fYkFkanVzdGVkQXRQb2xlcz0wLHRoaXMubV9pbnB1dFBvbHk9cyx0aGlzLm1fcHJvZ3Jlc3NUcmFja2VyPW0sdGhpcy5tX29yaWdpbmFsR2VvbWV0cnk9ZSx0aGlzLm1fb3JpZ2luYWxTUj1uLHRoaXMubV9wb2x5Z29uUmluZ0ZsYWdzPXQsdGhpcy5tX3Bhbm5hYmxlU1I9cix0aGlzLm1fcG9sZVNuYXBwaW5nVG9sZXJhbmNlPWgsdGhpcy5tX3BvbGVGbGFncz1vLHRoaXMubV9iQWRqdXN0ZWRBdFBvbGVzPTAsdGhpcy5tX3Bhbm5hYmxlRXh0ZW50PXZtKHRoaXMubV9wYW5uYWJsZVNSLGkpLHRoaXMubV9jZW50cmFsTG9uZ2l0dWRlPU51bWJlci5pc05hTihpKT90aGlzLm1fcGFubmFibGVFeHRlbnQuZ2V0Q2VudGVyWCgpOmksdGhpcy5tX3dpZHRoMzYwPXRoaXMubV9wYW5uYWJsZUV4dGVudC53aWR0aCgpLHRoaXMubV9kZWdyZWU9dGhpcy5tX3dpZHRoMzYwLzM2MCx0aGlzLm1fR0NTTGFyZ2VEZWx0YT1HbSp0aGlzLm1fZGVncmVlLGEobnVsbD09PXRoaXMubV9vcmlnaW5hbEdlb21ldHJ5JiZudWxsPT09dGhpcy5tX29yaWdpbmFsU1J8fG51bGwhPT10aGlzLm1fb3JpZ2luYWxHZW9tZXRyeSYmbnVsbCE9PXRoaXMubV9vcmlnaW5hbFNSKX1nZW9ub3JtYWxpemVSaW5nKGUsdCxzLG4scixvLGgpe2xldCBtPXM7Y29uc3QgbD1uZXcgSSh7dmQ6dGhpcy5tX2lucHV0UG9seS5nZXREZXNjcmlwdGlvbigpfSk7bC5hZGRQYXRoKHRoaXMubV9pbnB1dFBvbHksZSwhMCksMCE9PXRoaXMubV9wb2xlRmxhZ3MmJih0aGlzLm1fYkFkanVzdGVkQXRQb2xlc3w9Ym0oITAsbCx0aGlzLm1fcGFubmFibGVFeHRlbnQueW1heC10aGlzLm1fcG9sZVNuYXBwaW5nVG9sZXJhbmNlLHRoaXMubV9wYW5uYWJsZUV4dGVudC55bWF4LHRoaXMubV9wYW5uYWJsZUV4dGVudC53aWR0aCgpLHRoaXMubV9wb2xlRmxhZ3MpPzE6MCx0aGlzLm1fYkFkanVzdGVkQXRQb2xlcyYmKG09ITEpKTtsZXQgZz0tMTttJiYoZz10aGlzLm1fb3JpZ2luYWxHZW9tZXRyeS5nZXRQYXRoU3RhcnQoZSkpO2NvbnN0IHU9bC5nZXRBdHRyaWJ1dGVTdHJlYW1SZWYoMCksYz1sLmdldFBvaW50Q291bnQoKTtsZXQgXz0wLGQ9dS5yZWFkKDApLHA9MDtjb25zdCBmPTMqdGhpcy5tX3Bhbm5hYmxlU1IuZ2V0VG9sZXJhbmNlKDApO2xldCB4PSExO2NvbnN0IHk9bmV3IFFlLFA9bmV3IFFlO2xldCBFPSExO2NvbnN0IFM9bC5oYXNOb25MaW5lYXJTZWdtZW50cygpLEM9bmV3IFFlO2ZvcihsZXQgYT0xO2E8YzsrK2Epe3UucXVlcnlQb2ludDJEKDIqYSxDKTtjb25zdCBlPUMueDtsZXQgdD1lK187Y29uc3Qgcz10LWQ7aWYoQy54PXQsTWF0aC5hYnMocyk+dGhpcy5tX0dDU0xhcmdlRGVsdGEpe2lmKG0pe2NvbnN0IGU9ZythLTEsdD1nKyhhKzE8Yz9hOjApLHI9by5yZWFkKDIqZSksaT0oby5yZWFkKDIqdCktcikqbjtNYXRoLmFicyhzLWkpPjEqdGhpcy5tX2RlZ3JlZSYmKG09ITEpfWlmKCFtKXtfLT14dCh0aGlzLm1fd2lkdGgzNjAsdC1kKSx0PWUrXywrK3AsRT0wIT09XyxDLng9dH19ZWxzZSB4fHxYZSh5LFAsQyxmKSYmKHg9ITApO0UmJihTJiZpKFwiZXJyb3IgaW4gZ2Vvbm9ybWFsaXplX3JpbmdfIGZvciBjdXJ2ZXNcIiksdS53cml0ZSgyKmEsdCkpLGQ9dCx5LnNldENvb3Jkc1BvaW50MkQoUCksUC5zZXRDb29yZHNQb2ludDJEKEMpfXAmJmwubm90aWZ5TW9kaWZpZWQoKTtjb25zdCBiPWwuZ2V0WFkoMCksdz1sLmdldFhZKGMtMSk7aWYoUWUuZGlzdGFuY2UoYix3KTxmKXtjb25zdCBlPXRoaXMuZmluYWxpemVHZW9Ob3JtYWxpemVDbG9zZWRSaW5nKGwseCxyKTtoLmFkZChlLCExKX1lbHNle2lmKHQ8MClpZihudWxsIT09dGhpcy5tX29yaWdpbmFsR2VvbWV0cnkpe2EobnVsbCE9PXRoaXMubV9vcmlnaW5hbEdlb21ldHJ5KTt0PXRoaXMubV9vcmlnaW5hbEdlb21ldHJ5LmNhbGN1bGF0ZVJpbmdBcmVhMkQoZSk+MD8xOjB9ZWxzZSB0PTE7Y29uc3Qgcz10aGlzLmZpbmFsaXplR2VvTm9ybWFsaXplT3BlbmVkUmluZyh0PjAsbCk7aC5hZGQocywhMSl9fWdlb05vcm1hbGl6ZVBvbHlnb25HZW9tZXRyeSh0KXthKHRoaXMubV9vcmlnaW5hbFNSJiZ0aGlzLm1fb3JpZ2luYWxHZW9tZXRyeXx8IXRoaXMubV9vcmlnaW5hbEdlb21ldHJ5JiYhdGhpcy5tX29yaWdpbmFsU1IpLGEodGhpcy5tX3Bhbm5hYmxlU1IuaXNQYW5uYWJsZSgpKTtsZXQgcz1udWxsLG49TnVtYmVyLk5hTjtjb25zdCByPSEhdGhpcy5tX29yaWdpbmFsU1ImJnRoaXMubV9vcmlnaW5hbFNSLmlzUGFubmFibGUoKTtyJiYocz10aGlzLm1fb3JpZ2luYWxHZW9tZXRyeS5nZXRBdHRyaWJ1dGVTdHJlYW1SZWYoMCksbj10aGlzLm1fd2lkdGgzNjAvdGhpcy5tX29yaWdpbmFsU1IuZ2V0UGFubmFibGVFeHRlbnQoKS53aWR0aCgpKSx0aGlzLm1fYkFkanVzdGVkQXRQb2xlcz0wO2NvbnN0IGk9bmV3IHYoe3ZkOnRoaXMubV9pbnB1dFBvbHkuZ2V0RGVzY3JpcHRpb24oKX0pO2ZvcihsZXQgZT0wLGE9dGhpcy5tX2lucHV0UG9seS5nZXRQYXRoQ291bnQoKTtlPGE7KytlKXtjb25zdCBvPXRoaXMubV9wb2x5Z29uUmluZ0ZsYWdzP3RoaXMubV9wb2x5Z29uUmluZ0ZsYWdzW2VdPzE6MDotMTt0aGlzLmdlb25vcm1hbGl6ZVJpbmcoZSxvLHIsbix0LHMsaSl9Y29uc3Qgbz10aGlzLm1fcGFubmFibGVTUi5nZXRUb2xlcmFuY2UoMCksaD10aGlzLm1fcGFubmFibGVFeHRlbnQud2lkdGgoKS8xODA7T2woaSx0aGlzLm1fcGFubmFibGVFeHRlbnQsLjEqbywhMSk7Y29uc3QgbT1lLmNvbnN0cnVjdEVtcHR5KCk7aWYobS5zZXRDb29yZHMoe2VudjJEOnRoaXMubV9wYW5uYWJsZUV4dGVudH0pLHQpe2xldCB0PSEwO2ZvcihsZXQgcz0wO3M8MjtzKyspe3Q9ITA7Y29uc3Qgcz1lLmNvbnN0cnVjdEVtcHR5KCk7Zm9yKGxldCBlPTAsbj1pLmdldFBhdGhDb3VudCgpO2U8bjtlKyspaWYoaS5xdWVyeVBhdGhFbnZlbG9wZShlLHMpLCEobS54bWluPD1zLnhtaW4mJm0ueG1heD49cy54bWF4fHxzLnhtaW4+PW0ueG1heHx8cy54bWF4PD1tLnhtaW4pKXt0PSExO2JyZWFrfWlmKHQpYnJlYWs7bS5tb3ZlKC41KnRoaXMubV93aWR0aDM2MCwwKX10fHxtLnNldENvb3Jkcyh7ZW52MkQ6dGhpcy5tX3Bhbm5hYmxlRXh0ZW50fSl9bGV0IGw9WnQoaSxtLG8saCx0aGlzLm1fcHJvZ3Jlc3NUcmFja2VyKSxnPWkhPT1sO2NvbnN0IHU9dGhpcy5tX29yaWdpbmFsR2VvbWV0cnk/dGhpcy5tX29yaWdpbmFsR2VvbWV0cnkuY2FsY3VsYXRlQXJlYTJEKCk6MSxjPWwuY2FsY3VsYXRlQXJlYTJEKCk7bGV0IF89MDtpZihjPjAmJnU8MClfPTE7ZWxzZSBpZihjPD0wJiZ1PjApaWYoMD09PWMpe2lmKHRoaXMubV9vcmlnaW5hbFNSKXtsZXQgZT1OdW1iZXIuTmFOOzI9PT10aGlzLm1fb3JpZ2luYWxTUi5nZXRDb29yZGluYXRlU3lzdGVtVHlwZSgpP2U9dGhpcy5tX29yaWdpbmFsU1IuZ2V0UENTSG9yaXpvbigpLmNhbGN1bGF0ZUFyZWEyRCgpOjE9PT10aGlzLm1fb3JpZ2luYWxTUi5nZXRDb29yZGluYXRlU3lzdGVtVHlwZSgpJiYoZT10aGlzLm1fb3JpZ2luYWxTUi5nZXRQYW5uYWJsZUV4dGVudCgpLmdldEFyZWEoKSksdT4uOTkqZSYmKF89LTEpfX1lbHNlIF89LTE7aWYoMCE9PV8pe2NvbnN0IGU9d20obC5nZXREZXNjcmlwdGlvbigpLG0pO2UuYWRkKGwsITEpLGc9ITAsbD1lfXJldHVybiBnJiYobD0obmV3IEVoKS5leGVjdXRlKGwsdGhpcy5tX3Bhbm5hYmxlU1IsITEsdGhpcy5tX3Byb2dyZXNzVHJhY2tlcikpLGx9Z2VvTm9ybWFsaXplUG9seWxpbmVHZW9tZXRyeSh0KXthKHRoaXMubV9wYW5uYWJsZVNSLmlzUGFubmFibGUoKSk7bGV0IHM9bnVsbDtjb25zdCBuPXRoaXMubV9vcmlnaW5hbFNSJiZ0aGlzLm1fb3JpZ2luYWxTUi5pc1Bhbm5hYmxlKCk7bGV0IHI9MTtuJiYoYSh0aGlzLm1fb3JpZ2luYWxHZW9tZXRyeSkscj10aGlzLm1fd2lkdGgzNjAvdGhpcy5tX29yaWdpbmFsU1IuZ2V0UGFubmFibGVFeHRlbnQoKS53aWR0aCgpLHM9dGhpcy5tX29yaWdpbmFsR2VvbWV0cnkuZ2V0QXR0cmlidXRlU3RyZWFtUmVmKDApKTtjb25zdCBvPXRoaXMubV9wYW5uYWJsZUV4dGVudC53aWR0aCgpLGg9bypodCgpKjQ7bGV0IG09dCxsPU51bWJlci5OYU47Y29uc3QgZz1hdC5jb25zdHJ1Y3RFbXB0eSgpO3RoaXMubV9iQWRqdXN0ZWRBdFBvbGVzPTA7bGV0IHU9bmV3IEkoe3ZkOnRoaXMubV9pbnB1dFBvbHkuZ2V0RGVzY3JpcHRpb24oKX0pO2ZvcihsZXQgZD0wLHA9dGhpcy5tX2lucHV0UG9seS5nZXRQYXRoQ291bnQoKTtkPHA7KytkKXtsZXQgdD1uO2NvbnN0IGM9bmV3IEkoe3ZkOnRoaXMubV9pbnB1dFBvbHkuZ2V0RGVzY3JpcHRpb24oKX0pO2MuYWRkUGF0aCh0aGlzLm1faW5wdXRQb2x5LGQsITApO2NvbnN0IF89dGhpcy5tX2lucHV0UG9seS5pc0Nsb3NlZFBhdGgoZCk7MCE9PXRoaXMubV9wb2xlRmxhZ3MmJih0aGlzLm1fYkFkanVzdGVkQXRQb2xlc3w9Ym0oXyxjLHRoaXMubV9wYW5uYWJsZUV4dGVudC55bWF4LXRoaXMubV9wb2xlU25hcHBpbmdUb2xlcmFuY2UsdGhpcy5tX3Bhbm5hYmxlRXh0ZW50LnltYXgsbyx0aGlzLm1fcG9sZUZsYWdzKT8xOjAsdGhpcy5tX2JBZGp1c3RlZEF0UG9sZXMmJih0PSExKSk7bGV0IHA9LTE7Y29uc3QgZj1jLmdldFBvaW50Q291bnQoKTtsZXQgeD0hMTt0JiYocD10aGlzLm1fb3JpZ2luYWxHZW9tZXRyeS5nZXRQYXRoU3RhcnQoZCkseD10aGlzLm1fb3JpZ2luYWxHZW9tZXRyeS5pc0Nsb3NlZFBhdGgoZCkpO2NvbnN0IHk9Yy5nZXRBdHRyaWJ1dGVTdHJlYW1SZWYoMCk7bGV0IFA9MCxFPXkucmVhZCgwKSxTPTA7Y29uc3QgQz1uZXcgUWUsYj1uZXcgUWU7bGV0IHc9ITE7Y29uc3Qgdj1jLmhhc05vbkxpbmVhclNlZ21lbnRzKCksTj1uZXcgUWU7Zm9yKGxldCBlPTE7ZTxmOysrZSl7eS5xdWVyeVBvaW50MkQoMiplLE4pO2NvbnN0IG49Ti54O2xldCBvPW4rUDtjb25zdCBhPW8tRTtpZihOLng9byxNYXRoLmFicyhhKT50aGlzLm1fR0NTTGFyZ2VEZWx0YSl7aWYodCl7Y29uc3Qgbj1wK2UtMTtsZXQgaT1wOygheHx8ZSsxPGYpJiYoaSs9ZSk7Y29uc3Qgbz1zLnJlYWQoMipuKSxoPShzLnJlYWQoMippKS1vKSpyO01hdGguYWJzKGEtaCk+MSp0aGlzLm1fZGVncmVlJiYodD0hMSl9aWYoIXQpe1AtPXh0KHRoaXMubV93aWR0aDM2MCxvLUUpLG89bitQLCsrUyx3PTAhPT1QLE4ueD1vfX13JiYodiYmaShcImVycm9yIGluIGdlb25vcm1hbGl6ZV9yaW5nXyBmb3IgY3VydmVzXCIpLHkud3JpdGUoMiplLG8pKSxFPW8sQy5zZXRDb29yZHNQb2ludDJEKGIpLGIuc2V0Q29vcmRzUG9pbnQyRChOKX1pZihTJiZjLm5vdGlmeU1vZGlmaWVkKCksbSl7bGV0IHQ9ITE7aWYoIWMuaXNFbXB0eSgpKXtjb25zdCBzPWUuY29uc3RydWN0RW1wdHkoKTtpZihjLnF1ZXJ5RW52ZWxvcGUocykscy53aWR0aCgpPj1vfHxzLnltaW48PXRoaXMubV9wYW5uYWJsZUV4dGVudC55bWlufHxzLnltYXg+PXRoaXMubV9wYW5uYWJsZUV4dGVudC55bWF4KXQ9ITA7ZWxzZXtpZihOdW1iZXIuaXNOYU4obCkpe2NvbnN0IGU9dGhpcy5tX2NlbnRyYWxMb25naXR1ZGUtLjUqbztsPXMueG1pbixsKz1NYXRoLnJvdW5kKChlLXMueG1pbikvbykqbyxsPmUmJihsLT1vKSxhKGw8PWUpLGw8ZSYmKGwrPW8pLGEobD49ZSl9bGV0IGU9TWF0aC5yb3VuZCgobC1zLnhtaW4pL28pKm87aWYocy54bWluK2U+bCtoJiYoZS09bykscy54bWluK2U8bC1oJiYoZSs9byksZy5tZXJnZUNvb3JkaW5hdGUocy54bWluK2UpLGcubWVyZ2VDb29yZGluYXRlKHMueG1heCtlKSx0PWcud2lkdGgoKT49bywhdCl7Y29uc3QgdD1uZXcganQ7dC5zZXRTaGlmdENvb3JkcyhlLDApLGMuYXBwbHlUcmFuc2Zvcm1hdGlvbih0KX19fXUuYWRkKGMsITEpLHQmJih1PSgoKT0+e2NvbnN0IGU9bmV3IEkoe3ZkOnUuZ2V0RGVzY3JpcHRpb24oKX0pO2ZvcihsZXQgdD0wLHM9dS5nZXRQYXRoQ291bnQoKTt0PHM7Kyt0KXtjb25zdCBzPW5ldyBJKHt2ZDp1LmdldERlc2NyaXB0aW9uKCl9KTtzLmFkZFBhdGgodSx0LCEwKTtjb25zdCBuPXZsKHMsdGhpcy5tX3Bhbm5hYmxlU1IsdGhpcy5tX2NlbnRyYWxMb25naXR1ZGUsITAsMCx0aGlzLm1fcHJvZ3Jlc3NUcmFja2VyKTtlLmFkZChuLCExKX1yZXR1cm4gZX0pKCksbT0hMSl9ZWxzZXtjb25zdCBlPXZsKGMsdGhpcy5tX3Bhbm5hYmxlU1IsdGhpcy5tX2NlbnRyYWxMb25naXR1ZGUsITAsMCx0aGlzLm1fcHJvZ3Jlc3NUcmFja2VyKTt1LmFkZChlLCExKX19aWYobSlyZXR1cm4gdTtjb25zdCBjPXRoaXMubV9wYW5uYWJsZVNSLmdldFRvbGVyYW5jZSgwKSxfPXRoaXMubV9wYW5uYWJsZUV4dGVudC53aWR0aCgpLzE4MDtPbCh1LHRoaXMubV9wYW5uYWJsZUV4dGVudCwuMSpjLCExKTtyZXR1cm4gWnQodSx0aGlzLm1fcGFubmFibGVFeHRlbnQsYyxfLHRoaXMubV9wcm9ncmVzc1RyYWNrZXIpfWZpbmFsaXplR2VvTm9ybWFsaXplT3BlbmVkUmluZyh0LHMpe2NvbnN0IG49cy5nZXRQb2ludENvdW50KCkscj1zLmdldFhZKDApLGk9cy5nZXRYWShuLTEpO3tjb25zdCBlPU1hdGguYWJzKGkueC1yLngpLHQ9TWF0aC5yb3VuZChlL3RoaXMubV93aWR0aDM2MCkqdGhpcy5tX3dpZHRoMzYwO2EoTWF0aC5hYnMoZS10KTx0aGlzLm1fcGFubmFibGVTUi5nZXRUb2xlcmFuY2UoMCkpfWNvbnN0IG89aXQoaS54LXIueCksaD1lLmNvbnN0cnVjdEVtcHR5KCk7cy5xdWVyeUxvb3NlRW52ZWxvcGUoaCk7Y29uc3QgbT10aGlzLm1fcGFubmFibGVFeHRlbnQuZ2V0Q2VudGVyWCgpO2xldCBsPTAsZz1tLXRoaXMubV93aWR0aDM2MCx1PW0rdGhpcy5tX3dpZHRoMzYwO2lmKG8+PTApe2xldCBlPU1hdGguY2VpbCgoZy1oLnhtaW4pL3RoaXMubV93aWR0aDM2MCk7Zm9yKGUqPXRoaXMubV93aWR0aDM2MDtnPmgueG1pbitlOyllKz10aGlzLm1fd2lkdGgzNjA7Zm9yKDtnPGgueG1heCtlOyllLT10aGlzLm1fd2lkdGgzNjA7Zm9yKGw9ZSxoLndpZHRoKCk+NzIwJiYodT1nKzM2MCpNYXRoLmNlaWwoaC53aWR0aCgpLzM2MCkpO3U8aC54bWF4Oyl1Kz10aGlzLm1fd2lkdGgzNjB9ZWxzZXtsZXQgZT1NYXRoLmNlaWwoKHUtaC54bWF4KS90aGlzLm1fd2lkdGgzNjApO2ZvcihlKj10aGlzLm1fd2lkdGgzNjA7dTxoLnhtYXgrZTspZS09dGhpcy5tX3dpZHRoMzYwO2Zvcig7dT5oLnhtaW4rZTspZSs9dGhpcy5tX3dpZHRoMzYwO2ZvcihsPWUsaC53aWR0aCgpPjcyMCYmKGc9dS0zNjAqTWF0aC5jZWlsKGgud2lkdGgoKS8zNjApKTtnPmgueG1pbjspZy09dGhpcy5tX3dpZHRoMzYwfWNvbnN0IGM9TWF0aC5yb3VuZChNYXRoLmFicyhpLngtci54KS90aGlzLm1fd2lkdGgzNjApKnRoaXMubV93aWR0aDM2MCxfPW8qYyxkPWguY2xvbmUoKTtkLm1vdmUobCwwKTtjb25zdCBwPW5ldyBRZSgwLDApLGY9bmV3IGp0O2Yuc2V0U2hpZnRDb29yZHMobCwwKSxzLmFwcGx5VHJhbnNmb3JtYXRpb24oZik7Y29uc3QgeD1uZXcgSSh7dmQ6cy5nZXREZXNjcmlwdGlvbigpfSk7eC5hZGQocywhMSkscC5hc3NpZ24ocy5nZXRYWShuLTEpKTtsZXQgeT0wLFA9eC5nZXRYWSgwKS54O2Zvcig7bz4wP2QueG1heDx1OmQueG1pbj5nOylkLm1vdmUoXywwKSxmLnhkPV8scy5hcHBseVRyYW5zZm9ybWF0aW9uKGYpLFArPV8sdGhpcy5tX3Bhbm5hYmxlRXh0ZW50LnhtaW48PVAmJnRoaXMubV9wYW5uYWJsZUV4dGVudC54bWF4Pj1QJiYoeT14LmdldFBvaW50Q291bnQoKS0xKSxzLnNldFhZKDAscCkscC5hc3NpZ24ocy5nZXRYWShuLTEpKSx4LmFkZFNlZ21lbnRzRnJvbVBhdGgocywwLDAsbi0xLCExKTtjb25zdCBFPW5ldyB2KHt2ZDp4LmdldERlc2NyaXB0aW9uKCl9KTtFLmFkZCh4LCExKTtjb25zdCBTPXguZ2V0WFkoMCksQz14LmdldFhZKHguZ2V0UG9pbnRDb3VudCgpLTEpLGI9bzwwP3Q6IXQsdz1FLmdldFBvaW50Q291bnQoKS0xO2lmKGIpe2NvbnN0IGU9bmV3IFFlKEMueCx0aGlzLm1fcGFubmFibGVFeHRlbnQueW1heCk7RS5saW5lVG8oZSk7Y29uc3QgdD1uZXcgUWUodGhpcy5tX3Bhbm5hYmxlRXh0ZW50LmdldENlbnRlclgoKSx0aGlzLm1fcGFubmFibGVFeHRlbnQueW1heCk7RS5saW5lVG8odCk7Y29uc3Qgcz1uZXcgUWUoUy54LHRoaXMubV9wYW5uYWJsZUV4dGVudC55bWF4KTtFLmxpbmVUbyhzKX1lbHNle2NvbnN0IGU9bmV3IFFlKEMueCx0aGlzLm1fcGFubmFibGVFeHRlbnQueW1pbik7RS5saW5lVG8oZSk7Y29uc3QgdD1uZXcgUWUodGhpcy5tX3Bhbm5hYmxlRXh0ZW50LmdldENlbnRlclgoKSx0aGlzLm1fcGFubmFibGVFeHRlbnQueW1pbik7RS5saW5lVG8odCk7Y29uc3Qgcz1uZXcgUWUoUy54LHRoaXMubV9wYW5uYWJsZUV4dGVudC55bWluKTtFLmxpbmVUbyhzKX1pZihFLmludGVycG9sYXRlQXR0cmlidXRlc1BhdGgoMCx3LDApLEUuZ2V0SW1wbCgpLmNoYW5nZVJpbmdTdGFydFBvaW50KHkpLGM+dGhpcy5tX3dpZHRoMzYwKXtjb25zdCBlPW5ldyB2KHtjb3B5OkV9KTtmLnNldFNoaWZ0Q29vcmRzKHRoaXMubV93aWR0aDM2MCwwKSxlLmFwcGx5VHJhbnNmb3JtYXRpb24oZiksRS5hZGQoZSwhMSl9cmV0dXJuIEV9ZmluYWxpemVHZW9Ob3JtYWxpemVDbG9zZWRSaW5nKHQscyxyKXtjb25zdCBpPW5ldyB2KHt2ZDp0LmdldERlc2NyaXB0aW9uKCl9KTtpLmFkZCh0LCExKTtjb25zdCBvPSgpPT57Y29uc3QgZT1pLmdldFBvaW50Q291bnQoKS0yO3JldHVybiBpLmdldFNlZ21lbnRUeXBlKGUpIT09bi5lbnVtTGluZX07aWYoaS5oYXNOb25MaW5lYXJTZWdtZW50cygpJiZvKCkpe2NvbnN0IGU9bmV3IEYsdD1pLmdldFBvaW50Q291bnQoKS0yO2kuZ2V0U2VnbWVudEJ1ZmZlcih0LGUsITEpLGkucmVtb3ZlUG9pbnRGcm9tUGF0aCgwLHQrMSksaS5jbG9zZUxhc3RQYXRoV2l0aFNlZ21lbnQoZS5nZXQoKSl9ZWxzZSBpLnJlbW92ZVBvaW50RnJvbVBhdGgoMCxpLmdldFBvaW50Q291bnQoKS0xKTtjb25zdCBhPWUuY29uc3RydWN0RW1wdHkoKTtpLnF1ZXJ5TG9vc2VFbnZlbG9wZShhKTtsZXQgaD1NYXRoLmNlaWwoKHRoaXMubV9wYW5uYWJsZUV4dGVudC54bWluLWEueG1pbikvdGhpcy5tX3dpZHRoMzYwKTtmb3IoaCo9dGhpcy5tX3dpZHRoMzYwO3RoaXMubV9wYW5uYWJsZUV4dGVudC54bWluPmEueG1pbitoOyloKz10aGlzLm1fd2lkdGgzNjA7Zm9yKDt0aGlzLm1fcGFubmFibGVFeHRlbnQueG1pbjxhLnhtYXgraDspaC09dGhpcy5tX3dpZHRoMzYwO2lmKGgrPXRoaXMubV93aWR0aDM2MCwwIT09aCl7YS5tb3ZlKGgsMCk7Y29uc3QgZT1uZXcganQ7ZS5zZXRTaGlmdENvb3JkcyhoLDApLGkuYXBwbHlUcmFuc2Zvcm1hdGlvbihlKX1pZih0aGlzLm1fcGFubmFibGVFeHRlbnQueG1pbjw9YS54bWluJiZ0aGlzLm1fcGFubmFibGVFeHRlbnQueG1heD49YS54bWF4KXtpZihzKXtjb25zdCBlPWkuY2FsY3VsYXRlQXJlYTJEKCksdD0obmV3IEVoKS5leGVjdXRlKGksdGhpcy5tX3Bhbm5hYmxlU1IsITAsdGhpcy5tX3Byb2dyZXNzVHJhY2tlcik7aWYodCE9PWkpe2NvbnN0IHM9dC5jYWxjdWxhdGVBcmVhMkQoKTtpdChlKSE9PWl0KHMpJiZ0LnJldmVyc2VBbGxQYXRocygpLGkuYXNzaWduTW92ZSh0KX19bGV0IGU7aWYoZT1uZXcgdihyP3tjb3B5Oml9Onttb3ZlOml9KSxyKWZvcig7YS54bWluPHRoaXMubV9wYW5uYWJsZUV4dGVudC54bWF4Oyl7YS5tb3ZlKHRoaXMubV93aWR0aDM2MCwwKTtjb25zdCB0PW5ldyBqdDt0LnNldFNoaWZ0Q29vcmRzKHRoaXMubV93aWR0aDM2MCwwKSxpLmFwcGx5VHJhbnNmb3JtYXRpb24odCksZS5hZGQoaSwhMSl9cmV0dXJuIGV9bGV0IG09bmV3IHYoe3ZkOnQuZ2V0RGVzY3JpcHRpb24oKX0pO20uYWRkKGksITEpO2NvbnN0IGw9c3x8YS53aWR0aCgpPnRoaXMubV93aWR0aDM2MC0xMCp0aGlzLm1fcGFubmFibGVTUi5nZXRUb2xlcmFuY2UoMCk7Zm9yKDthLnhtaW48dGhpcy5tX3Bhbm5hYmxlRXh0ZW50LnhtYXg7KXthLm1vdmUodGhpcy5tX3dpZHRoMzYwLDApO2NvbnN0IGU9bmV3IGp0O2Uuc2V0U2hpZnRDb29yZHModGhpcy5tX3dpZHRoMzYwLDApLGkuYXBwbHlUcmFuc2Zvcm1hdGlvbihlKSxtLmFkZChpLCExKX1pZihsKXtjb25zdCBlPW0uY2FsY3VsYXRlQXJlYTJEKCk7bS5zZXRGaWxsUnVsZSgxKSxtPShuZXcgRWgpLmV4ZWN1dGUobSx0aGlzLm1fcGFubmFibGVTUiwhMCx0aGlzLm1fcHJvZ3Jlc3NUcmFja2VyKTtjb25zdCB0PW0uY2FsY3VsYXRlQXJlYTJEKCk7aXQoZSkhPT1pdCh0KSYmbS5yZXZlcnNlQWxsUGF0aHMoKX1yZXR1cm4gbX1nZW9ub3JtYWxpemVfcmluZ18oZSx0LHMsbixyLGksbyl7YSgwKX19ZnVuY3Rpb24gVm0oZSl7YSgwKTtjb25zdCB0PW91KGUpLHM9bmV3IGttO3JldHVybiBzLnNldFZlcnRQcm9qXyh0KSxzfWZ1bmN0aW9uIEZtKGUsdD0hMCl7cmV0dXJuIGEoMCkse319ZnVuY3Rpb24gSG0oZSl7cmV0dXJuIFN1KCl9Y2xhc3Mga217Y29uc3RydWN0b3IoKXt0aGlzLm1faGFzaENvZGU9MCx0aGlzLm1fcGVWZXJ0U3lzVmFsPW51bGwsdGhpcy5tX3ZlcnRpY2FsVW5pdD1uZXcgYnUsdGhpcy5tX3ZlcnRpY2FsU2hpZnQ9MCx0aGlzLm1fdXNlclZlcnRpY2FsV0tJRD0wLHRoaXMubV9iSXNEZXB0aD0hMX1nZXRUeXBlKCl7cmV0dXJuIGEoMCksMH1nZXRJRCgpe3JldHVybiBhKDApLDB9Z2V0TGF0ZXN0SUQoKXtyZXR1cm4gdGhpcy5tX3BlVmVydFN5c1ZhbD90aGlzLm1fcGVWZXJ0U3lzVmFsLmdldExhdGVzdElEKCk6MH1nZXRPbGRJRCgpe3JldHVybiB0aGlzLm1fcGVWZXJ0U3lzVmFsP3RoaXMubV9wZVZlcnRTeXNWYWwuZ2V0T2xkSUQoKTowfWdldFRleHQoKXtyZXR1cm4gYSgwKSxcIlwifWdldFRleHRFeHRlbmRlZChlKXtyZXR1cm4gYSgwKSxcIlwifWdldFRleHQyKGUpe3JldHVybiBhKDApLFwiXCJ9Z2V0VW5pdCgpe3JldHVybiBhKDApLHt9fWVxdWFscyhlKXtyZXR1cm4gYSgwKSwhMX1lcXVhbEZvclByb2plY3Rpb24oZSl7cmV0dXJuIGEoMCksITF9Z2V0UGVWZXJ0Y3NDb3B5KCl7cmV0dXJuIGEoMCkse319Z2V0T25lTWV0ZXIoKXtyZXR1cm4gMS90aGlzLm1fdmVydGljYWxVbml0LmdldFVuaXRUb0Jhc2VGYWN0b3IoKX1nZXRVbml0VG9CYXNlRmFjdG9yKCl7cmV0dXJuIGEoMCksMH1pc0RlcHRoKCl7cmV0dXJuIGEoMCksITF9Z2V0VmVydGljYWxTaGlmdCgpe3JldHVybiBhKDApLDB9aXNDdXN0b21Xa2lkKCl7cmV0dXJuISF0aGlzLm1fcGVWZXJ0U3lzVmFsJiZ0aGlzLm1fcGVWZXJ0U3lzVmFsLmlzQ3VzdG9tV2tpZCgpfWdldEhhc2hDb2RlKCl7cmV0dXJuIHRoaXMubV9oYXNoQ29kZX1zZXRWZXJ0UHJval8oZSl7dGhpcy5tX3BlVmVydFN5c1ZhbD1lfWdldFBFVmVydGljYWxDb29yZFN5cygpe3JldHVybiB0aGlzLm1fcGVWZXJ0U3lzVmFsP3RoaXMubV9wZVZlcnRTeXNWYWwubV9wZVZlcnRjczpudWxsfX1mdW5jdGlvbiBBbShlLHQscyxuLHIpe2lmKGUuZXF1YWxzKHQpKXJldHVybiExO2lmKG4pe2xldCBzPTEsaT0wLG89MSxhPTEsaD0wLG09MTtOdW1iZXIuaXNOYU4oZS5tX2hlaWdodE1ldGVyc1BlclVuaXQpfHwocz1lLm1faGVpZ2h0TWV0ZXJzUGVyVW5pdCxpPWUubV9oZWlnaHRaMCxvPWUubV9oZWlnaHRTaWduLGE9dC5tX2hlaWdodE1ldGVyc1BlclVuaXQsaD10Lm1faGVpZ2h0WjAsbT10Lm1faGVpZ2h0U2lnbik7Y29uc3QgbD1vKm0qcy9hO2ZvcihsZXQgZT0wO2U8cjtlKyspbltlXT0obltlXS1pKSpsK2h9bGV0IGk9MSxvPTA7aWYoTnVtYmVyLmlzTmFOKGUubV9YWVRvUmFkaWFucyl8fChpPWUubV9YWVRvUmFkaWFucy90Lm1fWFlUb1JhZGlhbnMsbz1lLm1fUHJpbWVNZXJpZGlhbkRlZ3JlZXMtdC5tX1ByaW1lTWVyaWRpYW5EZWdyZWVzLDAhPT1vJiYobz1oZShvKSxvLz10Lm1fWFlUb1JhZGlhbnMpKSxBcnJheS5pc0FycmF5KHMpKXtjb25zdCBlPXM7Zm9yKGxldCB0PTA7dDxyO3QrKyllW3RdWzBdPWVbdF1bMF0qaStvLGVbdF1bMV09ZVt0XVsxXSppfWVsc2V7Y29uc3QgZT1zO2ZvcihsZXQgdD0wO3Q8cjt0Kyspe2NvbnN0IHM9dDw8MTtlW3NdPWVbc10qaStvLGVbcysxXT1lW3MrMV0qaX19cmV0dXJuITB9ZnVuY3Rpb24gTW0oKXtyZXR1cm57bV9oZWlnaHRNZXRlcnNQZXJVbml0OjAsbV9oZWlnaHRTaWduOjAsbV9oZWlnaHRaMDowLG1fWFlUb1JhZGlhbnM6MCxtX1ByaW1lTWVyaWRpYW5EZWdyZWVzOjAsYXNzaWduKGUpe3RoaXMubV9oZWlnaHRNZXRlcnNQZXJVbml0PWUubV9oZWlnaHRNZXRlcnNQZXJVbml0LHRoaXMubV9oZWlnaHRTaWduPWUubV9oZWlnaHRTaWduLHRoaXMubV9oZWlnaHRaMD1lLm1faGVpZ2h0WjAsdGhpcy5tX1hZVG9SYWRpYW5zPWUubV9YWVRvUmFkaWFucyx0aGlzLm1fUHJpbWVNZXJpZGlhbkRlZ3JlZXM9ZS5tX1ByaW1lTWVyaWRpYW5EZWdyZWVzfSxlcXVhbHMoZSl7cmV0dXJuIHN0KHRoaXMubV9oZWlnaHRTaWduLGUubV9oZWlnaHRTaWduKSYmc3QodGhpcy5tX2hlaWdodE1ldGVyc1BlclVuaXQsZS5tX2hlaWdodE1ldGVyc1BlclVuaXQpJiZzdCh0aGlzLm1faGVpZ2h0WjAsZS5tX2hlaWdodFowKSYmc3QodGhpcy5tX1hZVG9SYWRpYW5zLGUubV9YWVRvUmFkaWFucykmJnN0KHRoaXMubV9QcmltZU1lcmlkaWFuRGVncmVlcyxlLm1fUHJpbWVNZXJpZGlhbkRlZ3JlZXMpfSxpbml0RnJvbUdjc0FuZFZjc1BlKGUsdCl7dGhpcy5tX2hlaWdodFNpZ249MSx0aGlzLm1faGVpZ2h0TWV0ZXJzUGVyVW5pdD1OdW1iZXIuTmFOLHRoaXMubV9oZWlnaHRaMD0wLHRoaXMubV9YWVRvUmFkaWFucz1OdW1iZXIuTmFOLHRoaXMubV9QcmltZU1lcmlkaWFuRGVncmVlcz1OdW1iZXIuTmFOLHQmJmEoMCksZSYmKHRoaXMubV9YWVRvUmFkaWFucz1lLmdldFVuaXQoKS5nZXRVbml0RmFjdG9yKCksdGhpcy5tX1ByaW1lTWVyaWRpYW5EZWdyZWVzPWUuZ2V0UHJpbWVtKCkuZ2V0TG9uZ2l0dWRlKCkpfSxpbml0RnJvbUdjc0FuZFZjcyhlLHQpe2NvbnN0IHM9ZT9lLmdldFBFQ29vcmRTeXMoKTpudWxsLG49dD90LmdldFBFVmVydGljYWxDb29yZFN5cygpOm51bGw7dGhpcy5pbml0RnJvbUdjc0FuZFZjc1BlKHMsbil9LHByb2Nlc3NVbml0UGFyYW1zKGUpe051bWJlci5pc05hTih0aGlzLm1faGVpZ2h0TWV0ZXJzUGVyVW5pdCkmJih0aGlzLm1faGVpZ2h0TWV0ZXJzUGVyVW5pdD1lLm1faGVpZ2h0TWV0ZXJzUGVyVW5pdCx0aGlzLm1faGVpZ2h0U2lnbj1lLm1faGVpZ2h0U2lnbix0aGlzLm1faGVpZ2h0WjA9ZS5tX2hlaWdodFowKSxOdW1iZXIuaXNOYU4odGhpcy5tX1hZVG9SYWRpYW5zKSYmKHRoaXMubV9YWVRvUmFkaWFucz1lLm1fWFlUb1JhZGlhbnMsdGhpcy5tX1ByaW1lTWVyaWRpYW5EZWdyZWVzPWUubV9QcmltZU1lcmlkaWFuRGVncmVlcyl9fX1jbGFzcyBVbXtjb25zdHJ1Y3RvcihlKXt0aGlzLm1fY29uc3RhbnRzTG9hZGVkPS0xLHRoaXMubV9pc1VzYWJsZT0tMSx0aGlzLm1faW5wdXRTUj1udWxsLHRoaXMubV9vdXRwdXRTUj1udWxsLHRoaXMubV9pbnB1dFNSSG9yej1udWxsLHRoaXMubV9vdXRwdXRTUkhvcno9bnVsbCx0aGlzLm1faW5wdXRWQ1M9bnVsbCx0aGlzLm1fb3V0cHV0VkNTPW51bGwsdGhpcy5tX2hhc2hDb2RlPTAsdGhpcy5tX2FyZWFPZlVzZT1uZXcgcGUsdGhpcy5tX2lucHV0VW5pdFBhcmFtcz1NbSgpLHRoaXMubV9vdXRwdXRVbml0UGFyYW1zPU1tKCksYShlKSx0aGlzLm1fZ2VvZ1RyYW49ZSx0aGlzLm1fdmVydFRyYW49bnVsbCx0aGlzLm1fbGF0ZXN0SUQ9SWMuZ2V0Q29kZSh0aGlzLm1fZ2VvZ1RyYW4pLHRoaXMubV9sYXRlc3RJRDwwJiYodGhpcy5tX2xhdGVzdElEPTApO2NvbnN0IHQ9dGhpcy5tX2dlb2dUcmFuLmdldEdlb2djczEoKTtJYy5nZXRDb2RlKHQpO2NvbnN0IHM9dGhpcy5tX2dlb2dUcmFuLmdldEdlb2djczIoKTtJYy5nZXRDb2RlKHMpLHRoaXMuaW5pdFVuaXRQYXJhbXMoKX1nZXRMYXRlc3RJZCgpe3JldHVybiB0aGlzLm1fbGF0ZXN0SUR9Z2V0VGV4dCgpe3JldHVybiB0aGlzLm1fZ2VvZ1RyYW4/dGhpcy5tX2dlb2dUcmFuLnRvU3RyaW5nKCk6KGEoMCksXCJcIil9Z2V0R2VvZ3RyYW4oKXtyZXR1cm4gdGhpcy5tX2dlb2dUcmFufWdldFZlcnR0cmFuKCl7cmV0dXJuIG51bGx9bG9hZENvbnN0YW50cyhlKXtsZXQgdD10aGlzLm1fY29uc3RhbnRzTG9hZGVkO2lmKC0xPT09dCl7aWYoIWUpe3RoaXMubV9nZW9nVHJhbnx8aShcInZjcyBub3QgaW1wbFwiKTtjb25zdCB0PXRoaXMubV9nZW9nVHJhbi5nZXRQYXJhbWV0ZXJzKCk7bnVsbCE9PXRbYmMuUEVfUEFSTV9ORF0mJihlPTA9PT10W2JjLlBFX1BBUk1fTkRdLmdldFZhbHVlKCkpfXQ9dGhpcy5tX2dlb2dUcmFuLmxvYWRDb25zdGFudHMoKT8xOjAsdGhpcy5tX2NvbnN0YW50c0xvYWRlZD10fXJldHVybiAwIT09dH1pc1VzYWJsZSgpe2xldCBlPXRoaXMubV9pc1VzYWJsZTtyZXR1cm4tMT09PWUmJih0aGlzLm1fZ2VvZ1RyYW4/dGhpcy5tX2lzVXNhYmxlPWU9dGhpcy5tX2dlb2dUcmFuPzE6MDp0aGlzLm1faXNVc2FibGU9ZT10aGlzLm1fdmVydFRyYW4/MTowKSwxPT09ZX1nZXRJbnB1dFNyKGUpe3JldHVybiB0aGlzLnVwZGF0ZVNycygpLGU/dGhpcy5tX2lucHV0U1I6dGhpcy5tX2lucHV0U1JIb3J6fWdldE91dHB1dFNyKGUpe3JldHVybiB0aGlzLnVwZGF0ZVNycygpLGU/dGhpcy5tX291dHB1dFNSOnRoaXMubV9vdXRwdXRTUkhvcnp9Z2V0SGFzaENvZGUoKXtsZXQgZT10aGlzLm1faGFzaENvZGU7cmV0dXJuIDA9PT1lJiYoZT10aGlzLm1fbGF0ZXN0SUQ+MD9aZSh0aGlzLm1fbGF0ZXN0SUQpOmN0KHRoaXMuZ2V0VGV4dCgpKSwwPT09ZSYmKGU9MzQ1KSx0aGlzLm1faGFzaENvZGU9ZSksZX1pc0dlb2d0cmFuKCl7cmV0dXJuIG51bGwhPT10aGlzLm1fZ2VvZ1RyYW59cHJlcGFyZU9yVGhyb3coKXt9Z2V0TmFtZSgpe3JldHVybiB0aGlzLmlzR2VvZ3RyYW4oKT90aGlzLmdldEdlb2d0cmFuKCkuZ2V0TmFtZSgpOih1KFwidmNzIG5vdCBpbXBsXCIpLFwiXCIpfXVwZGF0ZVNycygpe2lmKHRoaXMubV9pbnB1dFNSfHx0aGlzLm1faW5wdXRWQ1MpcmV0dXJuO2xldCBlLHQscyxuLHIsaTtpZih0aGlzLm1fZ2VvZ1RyYW4pe2NvbnN0IG89dGhpcy5tX2dlb2dUcmFuLmdldEdlb2djczEoKSxhPXJ1KG8pLGg9dGhpcy5tX2dlb2dUcmFuLmdldEdlb2djczIoKSxtPXJ1KGgpO2xldCBsPS0xLGc9LTE7bD1hLmdldFZjc0NvZGUoKSxnPW0uZ2V0VmNzQ29kZSgpLHM9UnUobyxudWxsLG51bGwsMSksbj1SdShoLG51bGwsbnVsbCwxKSxsPjAmJmc+MD8ocj1WbShsKSxpPVZtKGcpLGU9enUoKSx0PXp1KCkpOihlPXMsdD1uKX1lbHNlIGEoMCk7dGhpcy5tX2lucHV0U1J8fHRoaXMubV9pbnB1dFZDU3x8KHRoaXMubV9pbnB1dFNSPWUsdGhpcy5tX291dHB1dFNSPXQsdGhpcy5tX2lucHV0U1JIb3J6PXMsdGhpcy5tX291dHB1dFNSSG9yej1uLHRoaXMubV9pbnB1dFZDUz1yLHRoaXMubV9vdXRwdXRWQ1M9aSl9aW5pdFVuaXRQYXJhbXMoKXtpZih0aGlzLm1faW5wdXRVbml0UGFyYW1zLm1faGVpZ2h0U2lnbj0xLHRoaXMubV9pbnB1dFVuaXRQYXJhbXMubV9oZWlnaHRNZXRlcnNQZXJVbml0PU51bWJlci5OYU4sdGhpcy5tX2lucHV0VW5pdFBhcmFtcy5tX2hlaWdodFowPTAsdGhpcy5tX291dHB1dFVuaXRQYXJhbXMubV9oZWlnaHRTaWduPTEsdGhpcy5tX291dHB1dFVuaXRQYXJhbXMubV9oZWlnaHRNZXRlcnNQZXJVbml0PU51bWJlci5OYU4sdGhpcy5tX291dHB1dFVuaXRQYXJhbXMubV9oZWlnaHRaMD0wLHRoaXMubV9pbnB1dFVuaXRQYXJhbXMubV9YWVRvUmFkaWFucz1OdW1iZXIuTmFOLHRoaXMubV9pbnB1dFVuaXRQYXJhbXMubV9QcmltZU1lcmlkaWFuRGVncmVlcz1OdW1iZXIuTmFOLHRoaXMubV9vdXRwdXRVbml0UGFyYW1zLm1fWFlUb1JhZGlhbnM9TnVtYmVyLk5hTix0aGlzLm1fb3V0cHV0VW5pdFBhcmFtcy5tX1ByaW1lTWVyaWRpYW5EZWdyZWVzPU51bWJlci5OYU4sdGhpcy5tX3ZlcnRUcmFuKWEoMCk7ZWxzZSBpZih0aGlzLm1fZ2VvZ1RyYW4pe2NvbnN0IGU9dGhpcy5tX2dlb2dUcmFuO2xldCB0PWUuZ2V0R2VvZ2NzMSgpO3RoaXMubV9pbnB1dFVuaXRQYXJhbXMubV9YWVRvUmFkaWFucz10LmdldFVuaXQoKS5nZXRVbml0RmFjdG9yKCksdGhpcy5tX2lucHV0VW5pdFBhcmFtcy5tX1ByaW1lTWVyaWRpYW5EZWdyZWVzPXQuZ2V0UHJpbWVtKCkuZ2V0TG9uZ2l0dWRlKCksdD1lLmdldEdlb2djczIoKSx0aGlzLm1fb3V0cHV0VW5pdFBhcmFtcy5tX1hZVG9SYWRpYW5zPXQuZ2V0VW5pdCgpLmdldFVuaXRGYWN0b3IoKSx0aGlzLm1fb3V0cHV0VW5pdFBhcmFtcy5tX1ByaW1lTWVyaWRpYW5EZWdyZWVzPXQuZ2V0UHJpbWVtKCkuZ2V0TG9uZ2l0dWRlKCl9fX1mdW5jdGlvbiBxbShlLHQscyxuLHIsaSxvKXtsZXQgYT1udWxsO2lmKHQpe2E9dC5nZXRQRVZlcnRpY2FsQ29vcmRTeXMoKX1sZXQgaD1udWxsO2lmKGUpe2g9ZS5nZXRQRUNvb3JkU3lzKCl9bGV0IG09bnVsbDtpZihuKXttPW4uZ2V0UEVWZXJ0aWNhbENvb3JkU3lzKCl9bGV0IGw9bnVsbDtpZihzKXtsPXMuZ2V0UEVDb29yZFN5cygpfWlmKCEoaHx8YXx8bHx8bSkpcmV0dXJuITE7Y29uc3QgZz1NbSgpO2cuaW5pdEZyb21HY3NBbmRWY3NQZShoLGEpO2NvbnN0IHU9TW0oKTtyZXR1cm4gdS5pbml0RnJvbUdjc0FuZFZjc1BlKGwsbSksQW0oZyx1LHIsaSxvKX1mdW5jdGlvbiBCbShlLHQscyxuLHIsaSxvLGEpe2NvbnN0IGg9dCxtPWUsbD1NbSgpO2wuaW5pdEZyb21HY3NBbmRWY3NQZShtLGgpLGEuYXNzaWduKG4/cy5tX291dHB1dFVuaXRQYXJhbXM6cy5tX2lucHV0VW5pdFBhcmFtcyksYS5wcm9jZXNzVW5pdFBhcmFtcyhsKSxsLnByb2Nlc3NVbml0UGFyYW1zKGEpLG8+MCYmQW0obCxhLHIsaSxvKX1mdW5jdGlvbiBPbShlLHQscyxuLHIsaSxvLGEpe2NvbnN0IGg9TW0oKTtoLmFzc2lnbihzP3QubV9pbnB1dFVuaXRQYXJhbXM6dC5tX291dHB1dFVuaXRQYXJhbXMpLGgucHJvY2Vzc1VuaXRQYXJhbXMoZSk7bGV0IG09bnVsbCxsPW51bGw7aWYobil7bD1uLmdldFBFQ29vcmRTeXMoKX1jb25zdCBnPU1tKCk7Zy5pbml0RnJvbUdjc0FuZFZjc1BlKGwsbSksZy5wcm9jZXNzVW5pdFBhcmFtcyhoKSxoLnByb2Nlc3NVbml0UGFyYW1zKGcpLGE+MCYmQW0oaCxnLGksbyxhKX1mdW5jdGlvbiBZbShlLHQscyxuLHIsaSxvLGEsaCl7Y29uc3QgbT1NbSgpLGw9TW0oKTttLmFzc2lnbihzP3QubV9pbnB1dFVuaXRQYXJhbXM6dC5tX291dHB1dFVuaXRQYXJhbXMpLGwuYXNzaWduKHI/bi5tX291dHB1dFVuaXRQYXJhbXM6bi5tX2lucHV0VW5pdFBhcmFtcyksbS5wcm9jZXNzVW5pdFBhcmFtcyhlKSxsLnByb2Nlc3NVbml0UGFyYW1zKG0pLG0ucHJvY2Vzc1VuaXRQYXJhbXMobCksYT4wJiZBbShtLGwsaSxvLGEpLGguYXNzaWduKGwpfWZ1bmN0aW9uIFJtKGUsdCxzLG4scixpLG8pe2NvbnN0IGE9dC5nZXRWZXJ0dHJhbigpLGg9dC5nZXRHZW9ndHJhbigpO2lmKG8uYXNzaWduKHM/dC5tX2lucHV0VW5pdFBhcmFtczp0Lm1fb3V0cHV0VW5pdFBhcmFtcyksby5wcm9jZXNzVW5pdFBhcmFtcyhlKSxpPjApe3QucHJlcGFyZU9yVGhyb3coKTtjb25zdCBlPXM/YmMuUEVfVFJBTlNGT1JNXzJfVE9fMTpiYy5QRV9UUkFOU0ZPUk1fMV9UT18yO2E/ZGcoKTpwZyhoLGksbixyLGUpfX1mdW5jdGlvbiBYbShlLHQscyxuLHIpe2NvbnN0IGk9ZS5nZXRWZXJ0dHJhbigpLG89ZS5nZXRHZW9ndHJhbigpO2lmKHI+MCl7ZS5wcmVwYXJlT3JUaHJvdygpO2NvbnN0IGE9dD9iYy5QRV9UUkFOU0ZPUk1fMl9UT18xOmJjLlBFX1RSQU5TRk9STV8xX1RPXzI7aT9kZygpOnBnKG8scixzLG4sYSl9fWNsYXNzIExte3N1cHBvcnRzQ3VydmVzKCl7cmV0dXJuITB9YWNjZWxlcmF0ZUdlb21ldHJ5KGUsdCxzKXtyZXR1cm4gem0oZSx0LHMpfWNhbkFjY2VsZXJhdGVHZW9tZXRyeShlKXtyZXR1cm4gV20oZSl9fWZ1bmN0aW9uIHptKGUsdCxzKXtpZighV20oZSkpcmV0dXJuITE7Z2UodCxlLCExKTtsZXQgbj0wO2NvbnN0IHI9ZS5nZXRHZW9tZXRyeVR5cGUoKTtyZXR1cm4gbyhyKSYmYihlKSYmMCE9PXMmJihufD1lLmdldEltcGwoKS5idWlsZFF1YWRUcmVlQWNjZWxlcmF0b3Iocyk/MTowKSxvKHIpJiZ3KGUpJiYwIT09cyYmKG58PWUuZ2V0SW1wbCgpLmJ1aWxkUXVhZFRyZWVGb3JQYXRoc0FjY2VsZXJhdG9yKHMpPzE6MCksbj4wfWZ1bmN0aW9uIFdtKGUpe3JldHVybiBiKGUpfHx3KGUpfWNsYXNzIGptIGV4dGVuZHMgTG17Z2V0T3BlcmF0b3JUeXBlKCl7cmV0dXJuIDh9ZXhlY3V0ZShlLHQscyxuKXtyZXR1cm4ga3IoZSx0LHMsMSxuKX19ZnVuY3Rpb24gWm0ocyxpLG8sYSl7aWYocy5pc0VtcHR5KCl8fGkuaXNFbXB0eSgpKXJldHVybiBzO2NvbnN0IGg9cy5nZXREaW1lbnNpb24oKSxtPWkuZ2V0RGltZW5zaW9uKCk7aWYoaD5tKXJldHVybiBzO2NvbnN0IGw9cy5nZXRHZW9tZXRyeVR5cGUoKSxnPWkuZ2V0R2VvbWV0cnlUeXBlKCksdT1uZXcgZSxjPW5ldyBlLF89bmV3IGU7cy5xdWVyeUVudmVsb3BlKHUpLGkucXVlcnlFbnZlbG9wZShjKSxfLnNldENvb3Jkcyh7ZW52MkQ6dX0pLF8ubWVyZ2VFbnZlbG9wZTJEKGMpO2NvbnN0IGQ9ZGUobyxfLCEwKSxwPXllKGQpLGY9bmV3IGU7aWYoZi5zZXRDb29yZHMoe2VudjJEOnV9KSxmLmluZmxhdGVDb29yZHMocCxwKSwhZi5pc0ludGVyc2VjdGluZyhjKSlyZXR1cm4gcztpZigxPT09aCYmMj09PW0pe2NvbnN0IGU9b2wocyxpLGcsbyxhKTtpZihlKXJldHVybiBlfWlmKGw9PT1uLmVudW1Qb2ludCl7bGV0IGU7c3dpdGNoKHIoZyk/KGU9bmV3IEkoe3ZkOmkuZ2V0RGVzY3JpcHRpb24oKX0pLGUuYWRkU2VnbWVudChpLCEwKSk6ZT1pLGcpe2Nhc2Ugbi5lbnVtUG9seWdvbjpyZXR1cm4gSm0ocyxlLGQpO2Nhc2Ugbi5lbnVtUG9seWxpbmU6cmV0dXJuICRtKHMsZSxkKTtjYXNlIG4uZW51bU11bHRpUG9pbnQ6cmV0dXJuIGVsKHMsZSxkKTtjYXNlIG4uZW51bUVudmVsb3BlOnJldHVybiB0bChzLGUsZCk7Y2FzZSBuLmVudW1Qb2ludDpyZXR1cm4gc2wocyxlLGQpO2RlZmF1bHQ6dChcImludmFsaWQgc2hhcGUgdHlwZVwiKX19ZWxzZSBpZihsPT09bi5lbnVtTXVsdGlQb2ludClzd2l0Y2goZyl7Y2FzZSBuLmVudW1Qb2x5Z29uOnJldHVybiBubChzLGksZCk7Y2FzZSBuLmVudW1FbnZlbG9wZTpyZXR1cm4gcmwocyxpLGQpO2Nhc2Ugbi5lbnVtUG9pbnQ6cmV0dXJuIGlsKHMsaSxkKX1jb25zdCB4PW5ldyBlKHUpO3guaW5mbGF0ZSgxMDAqZC50b3RhbCgpKTtyZXR1cm4gWWEocyxadChpLHgsMCwwLGEpLG8sYSl9Y2xhc3MgS217Z2V0T3BlcmF0b3JUeXBlKCl7cmV0dXJuIDEwMDAyfXN1cHBvcnRzQ3VydmVzKCl7cmV0dXJuITB9YWNjZWxlcmF0ZUdlb21ldHJ5KGUsdCxzKXtyZXR1cm4hMX1jYW5BY2NlbGVyYXRlR2VvbWV0cnkoZSl7cmV0dXJuITF9ZXhlY3V0ZU1hbnkoZSx0LHMsbil7cmV0dXJuIG5ldyBRbShlLHQscyxuKX1leGVjdXRlKGUsdCxzLG4pe3JldHVybiB0aGlzLmV4ZWN1dGVNYW55KG5ldyAkdChbZV0pLG5ldyAkdChbdF0pLHMsbikubmV4dCgpfX1jbGFzcyBRbSBleHRlbmRzIGVze2NvbnN0cnVjdG9yKGUsdCxzLG4pe3N1cGVyKCksdGhpcy5tX3Byb2dyZXNzVHJhY2tlcj1uLHRoaXMubV9pbmRleD0tMSx0aGlzLm1faW5wdXRHZW9tcz1lLHRoaXMubV9zcGF0aWFsUmVmZXJlbmNlPXM7Y29uc3Qgcj10Lm5leHQoKTt0aGlzLm1fZ2VvbVN1YnRyYWN0b3I9cnx8bmV3IHZ9bmV4dCgpe2NvbnN0IGU9dGhpcy5tX2lucHV0R2VvbXMubmV4dCgpO3JldHVybiBlPyhzKGUpLGgoZSksdGhpcy5tX2luZGV4PXRoaXMubV9pbnB1dEdlb21zLmdldEdlb21ldHJ5SUQoKSxabShlLHRoaXMubV9nZW9tU3VidHJhY3Rvcix0aGlzLm1fc3BhdGlhbFJlZmVyZW5jZSx0aGlzLm1fcHJvZ3Jlc3NUcmFja2VyKSk6bnVsbH1nZXRHZW9tZXRyeUlEKCl7cmV0dXJuIHRoaXMubV9pbmRleH10b2NrKCl7cmV0dXJuITB9Z2V0UmFuaygpe3JldHVybiAxfX1mdW5jdGlvbiBKbShlLHQscyxuKXtyZXR1cm4gMD09PVhvKHQsZSxzLnRvdGFsKCkpP2U6ZS5jcmVhdGVJbnN0YW5jZSgpfWZ1bmN0aW9uICRtKHQscyxuLHIpe2NvbnN0IGk9dC5nZXRYWSgpLG89cy5xdWVyeVNlZ21lbnRJdGVyYXRvcigpLGE9eWUobiksaD1hKmE7Zm9yKDtvLm5leHRQYXRoKCk7KWZvcig7by5oYXNOZXh0U2VnbWVudCgpOyl7Y29uc3Qgcz1vLm5leHRTZWdtZW50KCkscj1uZXcgZTtpZihzLnF1ZXJ5RW52ZWxvcGUociksci5pbmZsYXRlQ29vcmRzKGEsYSksIXIuY29udGFpbnMoaSkpY29udGludWU7aWYocy5pc0ludGVyc2VjdGluZ1BvaW50KGksbi50b3RhbCgpKSlyZXR1cm4gdC5jcmVhdGVJbnN0YW5jZSgpO2xldCBtPXMuZ2V0U3RhcnRYWSgpO2lmKFFlLnNxckRpc3RhbmNlKGksbSk8PWgpcmV0dXJuIHQuY3JlYXRlSW5zdGFuY2UoKTtpZihtPXMuZ2V0RW5kWFkoKSxRZS5zcXJEaXN0YW5jZShpLG0pPD1oKXJldHVybiB0LmNyZWF0ZUluc3RhbmNlKCl9cmV0dXJuIHR9ZnVuY3Rpb24gZWwoZSx0LHMsbil7Y29uc3Qgcj10LmdldEltcGwoKS5nZXRBdHRyaWJ1dGVTdHJlYW1SZWYoMCksaT10LmdldFBvaW50Q291bnQoKSxvPWUuZ2V0WFkoKSxhPXllKHMpLGg9YSphLG09bmV3IFFlO2ZvcihsZXQgbD0wO2w8aTtsKyspe3IucXVlcnlQb2ludDJEKDIqbCxtKTtpZihRZS5zcXJEaXN0YW5jZShtLG8pPD1oKXJldHVybiBlLmNyZWF0ZUluc3RhbmNlKCl9cmV0dXJuIGV9ZnVuY3Rpb24gdGwodCxzLG4scil7Y29uc3QgaT1uZXcgZTtzLnF1ZXJ5RW52ZWxvcGUoaSksaS5pbmZsYXRlKG4udG90YWwoKSk7Y29uc3Qgbz10LmdldFhZKCk7cmV0dXJuIGkuY29udGFpbnMobyk/dC5jcmVhdGVJbnN0YW5jZSgpOnR9ZnVuY3Rpb24gc2woZSx0LHMsbil7Y29uc3Qgcj15ZShzKSxpPXIqcixvPWUuZ2V0WFkoKSxhPXQuZ2V0WFkoKTtyZXR1cm4gUWUuc3FyRGlzdGFuY2UobyxhKTw9aT9lLmNyZWF0ZUluc3RhbmNlKCk6ZX1mdW5jdGlvbiBubCh0LHMsbixyKXtjb25zdCBpPW5ldyBlO3MucXVlcnlFbnZlbG9wZShpKSxpLmluZmxhdGUobi50b3RhbCgpKTtjb25zdCBvPXQuZ2V0UG9pbnRDb3VudCgpO2xldCBhPSExO2NvbnN0IGg9S2UobywhMSksbT1uZXcgUWU7Zm9yKGxldCBlPTA7ZTxvO2UrKyl7aWYodC5xdWVyeVhZKGUsbSksIWkuY29udGFpbnMobSkpY29udGludWU7MCE9PUxvKHMsbSxuLnRvdGFsKCkpJiYoYT0hMCxoW2VdPSEwKX1pZighYSlyZXR1cm4gdDtjb25zdCBsPXQuY3JlYXRlSW5zdGFuY2UoKTtmb3IobGV0IGU9MDtlPG87ZSsrKWhbZV18fGwuYWRkUG9pbnRzKHQsZSxlKzEpO3JldHVybiBsfWZ1bmN0aW9uIHJsKHQscyxuLHIpe2NvbnN0IGk9bmV3IGU7cy5xdWVyeUVudmVsb3BlKGkpLGkuaW5mbGF0ZShuLnRvdGFsKCkpO2NvbnN0IG89dC5nZXRQb2ludENvdW50KCk7bGV0IGE9ITE7Y29uc3QgaD1LZShvLCExKSxtPW5ldyBRZTtmb3IobGV0IGU9MDtlPG87ZSsrKXQucXVlcnlYWShlLG0pLGkuY29udGFpbnMobSkmJihhPSEwLGhbZV09ITApO2lmKCFhKXJldHVybiB0O2NvbnN0IGw9dC5jcmVhdGVJbnN0YW5jZSgpO2ZvcihsZXQgZT0wO2U8bztlKyspaFtlXXx8bC5hZGRQb2ludHModCxlLGUrMSk7cmV0dXJuIGx9ZnVuY3Rpb24gaWwoZSx0LHMsbil7Y29uc3Qgcj1lLmdldEltcGwoKS5nZXRBdHRyaWJ1dGVTdHJlYW1SZWYoMCksaT1lLmdldFBvaW50Q291bnQoKSxvPXQuZ2V0WFkoKTtsZXQgYT0hMTtjb25zdCBoPUtlKGksITEpLG09eWUocyksbD1tKm0sZz1uZXcgUWU7Zm9yKGxldCBjPTA7YzxpO2MrKyl7ci5xdWVyeVBvaW50MkQoMipjLGcpO1FlLnNxckRpc3RhbmNlKGcsbyk8PWwmJihhPSEwLGhbY109ITApfWlmKCFhKXJldHVybiBlO2NvbnN0IHU9ZS5jcmVhdGVJbnN0YW5jZSgpO2ZvcihsZXQgYz0wO2M8aTtjKyspaFtjXXx8dS5hZGRQb2ludHMoZSxjLGMrMSk7cmV0dXJuIHV9ZnVuY3Rpb24gb2wodCxzLHIsaSxvKXtjb25zdCBhPW5ldyBwZTt0LnF1ZXJ5RW52ZWxvcGUoYSk7Y29uc3QgaD1uZXcgZTtzLnF1ZXJ5RW52ZWxvcGUoaCksYS5tZXJnZShoKTtjb25zdCBtPS4xKmEud2lkdGgoKSxsPS4xKmEuaGVpZ2h0KCk7YS5pbmZsYXRlQ29vcmRzKG0sbCk7Y29uc3QgZz1uZXcgdjtnLmFkZEVudmVsb3BlKGEsITEpO2NvbnN0IHU9Zy5nZXRJbXBsKCk7aWYocj09PW4uZW51bVBvbHlnb24pe2NvbnN0IGU9cy5nZXRJbXBsKCk7dS5hZGQoZSwhMCl9ZWxzZSB1LmFkZEVudmVsb3BlKHMsITApO3JldHVybiBuZXcgSWgoZyxpLC0xLG8pLnRyeUZhc3RJbXBsZW1lbnRhdGlvbih0KX1jbGFzcyBhbHtnZXRPcGVyYXRvclR5cGUoKXtyZXR1cm4gMTAwMDF9c3VwcG9ydHNDdXJ2ZXMoKXtyZXR1cm4hMH1hY2NlbGVyYXRlR2VvbWV0cnkoZSx0LHMpe3JldHVybiExfWNhbkFjY2VsZXJhdGVHZW9tZXRyeShlKXtyZXR1cm4hMX1leGVjdXRlTWFueShlLHQscyxuPTApe3JldHVybiBuZXcgZ2woZSx0LHMsbil9ZXhlY3V0ZShlLHQscyxuKXtjb25zdCByPW5ldyAkdChbZSx0XSksbz1uZXcgZ2wocixzLG4sMCkubmV4dCgpO3JldHVybiBvfHxpKFwibnVsbCBvdXRwdXRcIiksb319ZnVuY3Rpb24gaGwoKXtyZXR1cm57Z2VvbTpudWxsLHZlcnRleENvdW50Oi0xLGJVbmlvbmVkOiExLGxvY2F0aW9uOm5ldyBRZX19ZnVuY3Rpb24gbWwoZSx0KXtyZXR1cm4gUWUuY29tcGFyZVpvcmRlcihlLmxvY2F0aW9uLHQubG9jYXRpb24pPy0xOmUubG9jYXRpb24uZXF1YWxzKHQubG9jYXRpb24pPzA6MX1jbGFzcyBsbHtjb25zdHJ1Y3Rvcigpe3RoaXMuYmluVmVydGV4Q291bnQ9MCx0aGlzLmdlb21ldHJpZXM9W119YWRkUGFpcihlKXt0aGlzLmJpblZlcnRleENvdW50Kz1lLnZlcnRleENvdW50LHRoaXMuZ2VvbWV0cmllcy5wdXNoKGUpfXNvcnQoKXt0aGlzLmdlb21ldHJpZXMuc29ydCgoKGUsdCk9Pm1sKGUsdCkpKX1nZW9tQ291bnQoKXtyZXR1cm4gdGhpcy5nZW9tZXRyaWVzLmxlbmd0aH1nZW9tUGFpcnMoKXtyZXR1cm4gdGhpcy5nZW9tZXRyaWVzfWNsZWFyKCl7dGhpcy5iaW5WZXJ0ZXhDb3VudD0wLHRoaXMuZ2VvbWV0cmllcy5sZW5ndGg9MH1nZXRCaW5WZXJ0ZXhDb3VudCgpe3JldHVybiB0aGlzLmJpblZlcnRleENvdW50fX1jbGFzcyBnbCBleHRlbmRzIGVze2NvbnN0cnVjdG9yKGUsdCxzLG4scj0hMSl7c3VwZXIoKSx0aGlzLm1faW5kZXg9LTEsdGhpcy5tX2N1cnJlbnREaW09LTEsdGhpcy5tX2JEb25lPSExLHRoaXMubV91bmlvbkJpbnM9W10sdGhpcy5tX3JlYWR5R2VvbXM9SmUoNCksdGhpcy5tX2RpbUdlb21Db3VudHM9S2UoNCwwKSx0aGlzLm1fYWRkZWRHZW9tcz0wLHRoaXMubV9tYXhEaW1lbnNpb249LTEsdGhpcy5tX2JIYWRHZW9tZXRyeT1LZSg0LCExKSx0aGlzLm1fY29tcGxleFVuaW9uR2VvbXM9SmUoNCksdGhpcy5tX3RvdGFsTm9uRW1wdHlHZW9tQ291bnRlcnM9S2UoNCwwKSx0aGlzLm1fcHJvZ3Jlc3NUcmFja2VyPXMsdGhpcy5tX2JVbmlvbkFsbERpbWVuc2lvbnM9ISEoNCZuKSx0aGlzLm1fYlByZXNlcnZlQWxsUGF0aEVuZHM9ISEoOCZuKSx0aGlzLm1faW5wdXRHZW9tcz1lLHRoaXMubV9zcGF0aWFsUmVmZXJlbmNlPXQsdGhpcy5tX29wdGlvbnM9bix0aGlzLm1fYklzM0Q9cn1uZXh0KCl7aWYodGhpcy5tX2JEb25lJiZ0aGlzLm1fY3VycmVudERpbT09PXRoaXMubV9tYXhEaW1lbnNpb24pcmV0dXJuIG51bGw7Zm9yKDshdGhpcy5zdGVwXygpOyk7aWYoLTE9PT10aGlzLm1fbWF4RGltZW5zaW9uKXJldHVybiBudWxsO2lmKHRoaXMubV9iVW5pb25BbGxEaW1lbnNpb25zKXtpZigtMT09PXRoaXMubV9jdXJyZW50RGltKWZvcihsZXQgZT0wO2U8PXRoaXMubV9tYXhEaW1lbnNpb247ZSsrKWlmKHRoaXMubV9iSGFkR2VvbWV0cnlbZV0pe3RoaXMubV9jb21wbGV4VW5pb25HZW9tc1tlXT10aGlzLmdldFJlc3VsdEdlb21ldHJ5KGUpO2ZvcihsZXQgdD1lKzE7dDw9dGhpcy5tX21heERpbWVuc2lvbjt0KyspdGhpcy5tX2NvbXBsZXhVbmlvbkdlb21zW3RdPXRoaXMuZ2V0UmVzdWx0R2VvbWV0cnkodCksdGhpcy5tX2JIYWRHZW9tZXRyeVt0XSYmIXRoaXMubV9jb21wbGV4VW5pb25HZW9tc1t0XS5pc0VtcHR5KCkmJih0aGlzLm1fYklzM0Q/YSgwKTp0aGlzLm1fY29tcGxleFVuaW9uR2VvbXNbZV09KG5ldyBLbSkuZXhlY3V0ZSh0aGlzLm1fY29tcGxleFVuaW9uR2VvbXNbZV0sdGhpcy5tX2NvbXBsZXhVbmlvbkdlb21zW3RdLHRoaXMubV9zcGF0aWFsUmVmZXJlbmNlLHRoaXMubV9wcm9ncmVzc1RyYWNrZXIpKX1mb3IoO3RoaXMubV9jdXJyZW50RGltKyssKHRoaXMubV9jdXJyZW50RGltPnRoaXMubV9tYXhEaW1lbnNpb258fHRoaXMubV9jdXJyZW50RGltPDApJiZpKFwiXCIpLCF0aGlzLm1fYkhhZEdlb21ldHJ5W3RoaXMubV9jdXJyZW50RGltXTspO2lmKHRoaXMubV9pbmRleCsrLDA9PT10aGlzLm1fY3VycmVudERpbSYmdGhpcy5tX2NvbXBsZXhVbmlvbkdlb21zW3RoaXMubV9jdXJyZW50RGltXS5nZXRHZW9tZXRyeVR5cGUoKT09PW4uZW51bVBvaW50KXtjb25zdCBlPW5ldyBOKHt2ZDp0aGlzLm1fY29tcGxleFVuaW9uR2VvbXNbdGhpcy5tX2N1cnJlbnREaW1dLmdldERlc2NyaXB0aW9uKCl9KTtyZXR1cm4gdGhpcy5tX2NvbXBsZXhVbmlvbkdlb21zW3RoaXMubV9jdXJyZW50RGltXS5pc0VtcHR5KCl8fGUuYWRkKHRoaXMubV9jb21wbGV4VW5pb25HZW9tc1t0aGlzLm1fY3VycmVudERpbV0pLGV9cmV0dXJuIHRoaXMubV9jb21wbGV4VW5pb25HZW9tc1t0aGlzLm1fY3VycmVudERpbV19cmV0dXJuIHRoaXMubV9pbmRleD0wLHRoaXMubV9jdXJyZW50RGltPXRoaXMubV9tYXhEaW1lbnNpb24sdGhpcy5nZXRSZXN1bHRHZW9tZXRyeSh0aGlzLm1fbWF4RGltZW5zaW9uKX1nZXRHZW9tZXRyeUlEKCl7cmV0dXJuIHRoaXMubV9pbmRleH1nZXRSYW5rKCl7cmV0dXJuIDF9dG9jaygpe3JldHVybiB0aGlzLnN0ZXBfKCl9Z2V0UmVzdWx0R2VvbWV0cnkoZSl7cmV0dXJuIHRoaXMubV9yZWFkeUdlb21zW2VdfWZpbmlzaERpbShlLHQscyl7bGV0IHI9dDtpZighcylyZXR1cm4gMTYmdGhpcy5tX29wdGlvbnM/KHI9amEoW3JdLDEsdGhpcy5tX3NwYXRpYWxSZWZlcmVuY2UsdGhpcy5tX3Byb2dyZXNzVHJhY2tlcix0aGlzLm1fb3B0aW9ucyx0aGlzLm1fYklzM0QpLHIpOnI7aWYoMSZ0aGlzLm1fb3B0aW9ucylyZXR1cm4gcjtpZigxPT09ZSl7aWYoISg4JnRoaXMubV9vcHRpb25zKSYmKCEhKDE2JnRoaXMubV9vcHRpb25zKXx8dGhpcy5tX3RvdGFsTm9uRW1wdHlHZW9tQ291bnRlcnNbZV0+MSkpe3I9amEoW3JdLDEsdGhpcy5tX3NwYXRpYWxSZWZlcmVuY2UsdGhpcy5tX3Byb2dyZXNzVHJhY2tlciwxNnx0aGlzLm1fb3B0aW9ucyx0aGlzLm1fYklzM0QpO2NvbnN0IGU9WzBdLHQ9ci5nZXRJbXBsKCkuZ2V0SXNTaW1wbGUoMCxlKTthKHRoaXMubV9iSXMzRHx8Y2UodCkpfWVsc2UgMT09PXRoaXMubV90b3RhbE5vbkVtcHR5R2VvbUNvdW50ZXJzW2VdJiYodGhpcy5tX2JJczNEP2EoMCk6cj0obmV3IEVoKS5leGVjdXRlKHIsdGhpcy5tX3NwYXRpYWxSZWZlcmVuY2UsITEsdGhpcy5tX3Byb2dyZXNzVHJhY2tlcikpfWVsc2UgdGhpcy5tX2JJczNEP2EoMCk6cj0obmV3IEVoKS5leGVjdXRlKHIsdGhpcy5tX3NwYXRpYWxSZWZlcmVuY2UsITEsdGhpcy5tX3Byb2dyZXNzVHJhY2tlcik7aWYoMD09PWUmJnIuZ2V0R2VvbWV0cnlUeXBlKCk9PT1uLmVudW1Qb2ludCl7Y29uc3QgZT1uZXcgTih7dmQ6ci5nZXREZXNjcmlwdGlvbigpfSk7ci5pc0VtcHR5KCl8fGUuYWRkKHIpLHI9ZX1yZXR1cm4gcn1zdGF0aWMgZ2V0TGV2ZWwoZSl7Y29uc3QgdD00LHM9bChlKTtsZXQgbj1zPjA/KE1hdGgubG9nKHMpLU1hdGgubG9nKDMyKSkvTWF0aC5sb2codCk6MDtyZXR1cm4gbjwwJiYobj0wKSxNYXRoLmZsb29yKG4pfXN0ZXBfKCl7aWYodGhpcy5tX2JEb25lKXJldHVybiEwO2xldCBlO2lmKHRoaXMubV9pbnB1dEdlb21zPyhlPXRoaXMubV9pbnB1dEdlb21zLm5leHQoKSxudWxsPT09ZT8odGhpcy5tX2JEb25lPSEwLHRoaXMubV9pbnB1dEdlb21zPW51bGwpOih0aGlzLmNoZWNrQW5kVGhyb3coZSksZS5pc0VtcHR5KCl8fHRoaXMubV90b3RhbE5vbkVtcHR5R2VvbUNvdW50ZXJzW2UuZ2V0RGltZW5zaW9uKCldKyspKTplPW51bGwsbnVsbCE9PWUpe2NvbnN0IHQ9ZS5nZXREaW1lbnNpb24oKTt0aGlzLm1fYkhhZEdlb21ldHJ5W3RdPSEwLCh0Pj10aGlzLm1fbWF4RGltZW5zaW9ufHx0aGlzLm1fYlVuaW9uQWxsRGltZW5zaW9ucykmJih0aGlzLmFkZEdlb20odCwhMSxlKSx0PnRoaXMubV9tYXhEaW1lbnNpb24mJiF0aGlzLm1fYlVuaW9uQWxsRGltZW5zaW9ucyYmdGhpcy5yZW1vdmVBbGxCaW5zV2l0aExvd2VyRGltZW5zaW9uKHQpKX1pZih0aGlzLm1fYWRkZWRHZW9tcz4wKWZvcihsZXQgdD0wO3Q8PXRoaXMubV9tYXhEaW1lbnNpb247dCsrKXtmb3IoO3RoaXMubV9kaW1HZW9tQ291bnRzW3RdPjE7KXtjb25zdCBlPXRoaXMuY29sbGVjdEdlb21ldHJpZXNUb1VuaW9uKHQpO2lmKG51bGw9PT1lKWJyZWFrO3tsZXQgcztzPTEmdGhpcy5tX29wdGlvbnM/amEoZSxlLmxlbmd0aCx0aGlzLm1fc3BhdGlhbFJlZmVyZW5jZSx0aGlzLm1fcHJvZ3Jlc3NUcmFja2VyLHRoaXMubV9vcHRpb25zLHRoaXMubV9iSXMzRCk6WmEoZSxlLmxlbmd0aCx0aGlzLm1fc3BhdGlhbFJlZmVyZW5jZSx0aGlzLm1fcHJvZ3Jlc3NUcmFja2VyLDh8dGhpcy5tX29wdGlvbnMsdGhpcy5tX2JJczNEKSx0aGlzLmFkZEdlb20odCwhMCxzKX19aWYodGhpcy5tX2JEb25lJiYoYSh0aGlzLm1fZGltR2VvbUNvdW50c1t0XTw9MSksMCE9PXRoaXMubV9kaW1HZW9tQ291bnRzW3RdKSl7Y29uc3QgZT10aGlzLm1fdW5pb25CaW5zW3RdLmVudHJpZXMoKS5uZXh0KCkudmFsdWUscz1lWzFdLmdlb21QYWlycygpWzBdLmdlb20sbj1lWzFdLmdlb21QYWlycygpWzBdLmJVbmlvbmVkO3RoaXMubV91bmlvbkJpbnNbdF0uY2xlYXIoKSx0aGlzLm1fcmVhZHlHZW9tc1t0XT10aGlzLmZpbmlzaERpbSh0LHMsbil9fXJldHVybiB0aGlzLm1fYkRvbmV9YWRkR2VvbSh0LHMsbil7Y29uc3Qgcj1obCgpO3IuZ2VvbT1uO2NvbnN0IGk9bChuKTtyLnZlcnRleENvdW50PWk7Y29uc3Qgbz1lLmNvbnN0cnVjdEVtcHR5KCk7bi5xdWVyeUVudmVsb3BlKG8pLHIubG9jYXRpb249aT4wP28uZ2V0Q2VudGVyKCk6bmV3IFFlKDAsMCk7Y29uc3QgYT1nbC5nZXRMZXZlbChuKTtpZih0KzE+dGhpcy5tX3VuaW9uQmlucy5sZW5ndGgpZm9yKDt0aGlzLm1fdW5pb25CaW5zLmxlbmd0aDxNYXRoLm1heCgyLHQrMSk7KXRoaXMubV91bmlvbkJpbnMucHVzaChuZXcgTWFwKTtsZXQgaD1udWxsO2NvbnN0IG09dGhpcy5tX3VuaW9uQmluc1t0XS5nZXQoYSk7bSYmKGg9bSksbnVsbD09PWgmJihoPW5ldyBsbCx0aGlzLm1fdW5pb25CaW5zW3RdLnNldChhLGgpKSxyLmJVbmlvbmVkPXMsaC5hZGRQYWlyKHIpLHRoaXMubV9kaW1HZW9tQ291bnRzW3RdKyssdGhpcy5tX2FkZGVkR2VvbXMrKyx0aGlzLm1fbWF4RGltZW5zaW9uPU1hdGgubWF4KHRoaXMubV9tYXhEaW1lbnNpb24sdCl9cmVtb3ZlQWxsQmluc1dpdGhMb3dlckRpbWVuc2lvbihlKXtmb3IobGV0IHQ9MDt0PGU7dCsrKXRoaXMubV91bmlvbkJpbnNbdF0uY2xlYXIoKSx0aGlzLm1fYWRkZWRHZW9tcy09dGhpcy5tX2RpbUdlb21Db3VudHNbdF0sdGhpcy5tX2RpbUdlb21Db3VudHNbdF09MH1jb2xsZWN0R2VvbWV0cmllc1RvVW5pb24oZSl7aWYoMSZ0aGlzLm1fb3B0aW9ucyYmIXRoaXMubV9iRG9uZSlyZXR1cm4gbnVsbDtsZXQgdD1udWxsO2NvbnN0IHM9W107Zm9yKGNvbnN0IG4gb2YgdGhpcy5tX3VuaW9uQmluc1tlXS5rZXlzKCkpcy5wdXNoKG4pOyRlKHMpO2ZvcihsZXQgbj0wO248cy5sZW5ndGg7bisrKXtpZigtMT09PXNbbl0pY29udGludWU7Y29uc3Qgcj10aGlzLm1fdW5pb25CaW5zW2VdLmdldChzW25dKTt7Y29uc3QgaT01ZTMsbz00LGE9ci5nZXRCaW5WZXJ0ZXhDb3VudCgpPmkmJnIuZ2VvbUNvdW50KCk+PW87aWYodGhpcy5tX2JEb25lfHxhKXtmb3IobGV0IHI9MDtyPG47cisrKXtpZigtMT09PXNbcl0pY29udGludWU7Y29uc3Qgbj10aGlzLm1fdW5pb25CaW5zW2VdLmdldChzW3JdKTtuLnNvcnQoKSx0aGlzLm1fZGltR2VvbUNvdW50c1tlXS09bi5nZW9tQ291bnQoKSx0aGlzLm1fYWRkZWRHZW9tcy09bi5nZW9tQ291bnQoKTtmb3IoY29uc3QgZSBvZiBuLmdlb21QYWlycygpKXR8fCh0PW5ldyBBcnJheSksdC5wdXNoKGUuZ2VvbSk7bi5jbGVhcigpLHRoaXMubV91bmlvbkJpbnNbZV0uZGVsZXRlKHNbcl0pLHNbcl09LTF9ci5zb3J0KCksdGhpcy5tX2RpbUdlb21Db3VudHNbZV0tPXIuZ2VvbUNvdW50KCksdGhpcy5tX2FkZGVkR2VvbXMtPXIuZ2VvbUNvdW50KCk7Zm9yKGNvbnN0IGUgb2Ygci5nZW9tUGFpcnMoKSl0fHwodD1uZXcgQXJyYXkpLHQucHVzaChlLmdlb20pO2lmKHIuY2xlYXIoKSx0aGlzLm1fdW5pb25CaW5zW2VdLmRlbGV0ZShzW25dKSxzW25dPS0xLCF0aGlzLm1fYkRvbmUpYnJlYWt9fX1yZXR1cm4gdH1jaGVja0FuZFRocm93KGUpe3RoaXMubV9iSXMzRCYmKGUuZ2V0RGltZW5zaW9uKCk+MSYmZygpLGUuaGFzQXR0cmlidXRlKDEpfHx0KFwiR2VvbWV0cnkgbXVzdCBoYXZlIFpzXCIpKSxzKGUpfX1jbGFzcyB1bCBleHRlbmRzIExte2dldE9wZXJhdG9yVHlwZSgpe3JldHVybiAzfWV4ZWN1dGUoZSx0LHMsbj1udWxsKXtyZXR1cm4ga3IoZSx0LHMsNCxuKX19ZnVuY3Rpb24gY2wodCxzLG4pe2NvbnN0IHI9cy5nZXRHQ1NTcGxpdExpbmVzKCk7aWYobnVsbD09PXIpcmV0dXJuIHQ7Y29uc3QgaT1zLmdldEdDUygpLG89aS5nZXRQYW5uYWJsZUV4dGVudCgpLndpZHRoKCksYT1lLmNvbnN0cnVjdEVtcHR5KCk7dC5xdWVyeUxvb3NlRW52ZWxvcGUoYSk7Y29uc3QgaD1hdC5jb25zdHJ1Y3RFbXB0eSgpO2EucXVlcnlJbnRlcnZhbFgoaCk7Y29uc3QgbT1yLnF1ZXJ5U2VnbWVudEl0ZXJhdG9yKCk7bGV0IGw9bnVsbDtjb25zdCBnPW5ldyBqdDtmb3IoO20ubmV4dFBhdGgoKTspZm9yKDttLmhhc05leHRTZWdtZW50KCk7KXtjb25zdCBlPW0ubmV4dFNlZ21lbnQoKSx0PWUucXVlcnlJbnRlcnZhbCgwLDApLHM9YXQuY29uc3RydWN0RW1wdHkoKTtzLnNldENvb3Jkc0Zyb21FbnZlbG9wZSh0KTtsZXQgbj0wO2Zvcig7cy52bWF4Pmgudm1pbjspcy5tb3ZlKC1vKSxuLS07Zm9yKDtzLnZtaW48PWgudm1heDspe2lmKHMuaXNJbnRlcnNlY3RpbmcoaCkpe251bGw9PT1sJiYobD1uZXcgSSk7Y29uc3QgdD1uZXcgSCh7c3RhcnQ6ZS5nZXRTdGFydFhZKCksZW5kOmUuZ2V0RW5kWFkoKX0pOzAhPT1uJiYoZy5zZXRTaGlmdENvb3JkcyhuKm8sMCksdC5hcHBseVRyYW5zZm9ybWF0aW9uKGcpKSxsLmFkZFNlZ21lbnQodCwhMCl9cy5tb3ZlKG8pLCsrbn19aWYobnVsbCE9PWwpe2NvbnN0IGU9bWUoaSxsLCEwKTtyZXR1cm4gVW4odCxsLHllKGUpLG4pfXJldHVybiB0fWZ1bmN0aW9uIF9sKGUsdCxzKXtsZXQgbj1lLmdldE5hbWUoKTtyZXR1cm4gc2Mobil8fChzfHx0PjA/KG49ZS50b1N0cmluZyhiYy5QRV9TVFJfTkFNRV9DQU5PTnxiYy5QRV9TVFJfQVVUSF9OT05FKSxuPXlsKG4pKTpuPWUudG9TdHJpbmcoYmMuUEVfU1RSX0FVVEhfVE9QKSksbn1mdW5jdGlvbiBkbChlLHQscyxuKXtyZXR1cm4gYSgwKSxcIlwifWZ1bmN0aW9uIHBsKGUscz0tMSl7aWYoKHM+MXx8czwtMSkmJnQoXCJ2ZXJib3NpdHlcIiksLTE9PT1zKXJldHVybiBlLnRvU3RyaW5nKCk7e2NvbnN0IHQ9MD09PXM/YmMuUEVfU1RSX0FVVEhfVE9QOmJjLlBFX1NUUl9BVVRIX0FMTDtyZXR1cm4gZS50b1N0cmluZyh0KX19ZnVuY3Rpb24gZmwoZSxzKXsocz4xfHxzPC0xKSYmdChcInZlcmJvc2l0eVwiKTtsZXQgbj1iYy5QRV9TVFJfRk1UX1dLVDI7cmV0dXJuLTEhPT1zJiYobnw9MD09PXM/YmMuUEVfU1RSX0FVVEhfVE9QOmJjLlBFX1NUUl9BVVRIX0FMTCksZS50b1N0cmluZyhuKX1mdW5jdGlvbiB4bChlKXtyZXR1cm4gYSgwKSxcIlwifWZ1bmN0aW9uIHlsKGUpe3JldHVybiBlLnRvTG9jYWxlVXBwZXJDYXNlKFwiZW4tVVNcIil9ZnVuY3Rpb24gUGwoZSxzLHIpe2NvbnN0IGk9ZS5nZXRQQ1NIb3Jpem9uKCk7aWYoaS5nZXRHZW9tZXRyeVR5cGUoKSE9PW4uZW51bVBvbHlnb24paWYoaS5nZXRHZW9tZXRyeVR5cGUoKSE9PW4uZW51bUVudmVsb3BlKXQoXCJcIik7ZWxzZXtjb25zdCBlPWk7Zm9yKGxldCB0PTA7dDxyO3QrKyllLmNvbnRhaW5zKHNbdF0pfHxzW3RdLnNldE5BTigpfWVsc2V7Y29uc3QgdD1lLmdldERlZmF1bHRQcmVjaXNpb25TUigpLmdldFRvbGVyYW5jZSgwKSxuPWk7Zm9yKGxldCBlPTA7ZTxyO2UrKykxIT09TG8obixzW2VdLHQpJiZzW2VdLnNldE5BTigpfX1mdW5jdGlvbiBFbChlLHQscyxuKXtmb3IobGV0IHI9MDtyPHQ7cisrKXtpZihlW3JdLnk8cy55bWlufHxlW3JdLnk+cy55bWF4KXtlW3JdLnNldE5BTigpO2NvbnRpbnVlfWNvbnN0IHQ9ZVtyXS54O2Vbcl0ueD1HbCh0LHMsbil9fWZ1bmN0aW9uIFNsKHQscyxyLGEpe2lmKHQuaXNFbXB0eSgpfHwxPT09cilyZXR1cm4gdDtjb25zdCBoPXQuZ2V0R2VvbWV0cnlUeXBlKCk7aWYoaD09PW4uZW51bVBvaW50KXtjb25zdCBlPXQsbj1lLmdldFhZKCk7cmV0dXJuIDA9PT13bChbbl0sMSxzLHIpfHxuLmlzTkFOKCk/ZS5zZXRFbXB0eSgpOmUuc2V0WFkobiksdH1pZihoPT09bi5lbnVtTXVsdGlQb2ludCl7Y29uc3QgZT10LG49dC5jcmVhdGVJbnN0YW5jZSgpLGk9ZS5nZXRQb2ludENvdW50KCk7bi5yZXNlcnZlKGkpO2NvbnN0IG89ZS5nZXRBdHRyaWJ1dGVTdHJlYW1SZWYoMCksYT1lLmdldERlc2NyaXB0aW9uKCkuZ2V0QXR0cmlidXRlQ291bnQoKT4xLGg9bmV3IGZlLG09RmxvYXQ2NEFycmF5LmZyb20oby5nZXRBcnJheSgpKTtpZih3bChtLGkscyxyKT4wKWZvcihsZXQgdD0wLHM9MippO3Q8czt0Kz0yKU51bWJlci5pc05hTihtW3RdKXx8KGE/KGUuZ2V0UG9pbnRCeVZhbCh0Pj4xLGgpLGguc2V0WFlDb29yZHMobVt0XSxtW3QrMV0pLG4uYWRkKGgpKTpuLmFkZFhZKG1bdF0sbVt0KzFdKSk7cmV0dXJuIG59bGV0IG09dDtjb25zdCBsPXMuZ2V0T25lRGVncmVlR0NTVW5pdCgpLGc9OTAqbCx1PTE4MCpsLGM9MzYwKmwsXz1zLmdldENlbnRyYWxNZXJpZGlhbigpLGQ9LjUqbCxwPWUuY29uc3RydWN0RW1wdHkoKTttLnF1ZXJ5RW52ZWxvcGUocCk7Y29uc3QgZj1zLmdldEdDU0hvcml6b24oKSx4PXMuZ2V0R0NTSG9yaXNvbklzSW5jbHVzaXZlKCkseT1mLmdldEdlb21ldHJ5VHlwZSgpPT09bi5lbnVtRW52ZWxvcGUsUD1lLmNvbnN0cnVjdEVtcHR5KCk7Zi5xdWVyeUVudmVsb3BlKFApO2NvbnN0IEU9cy5nZXRHQ1MoKTtpZigyIT09ciYmNCE9PXJ8fChQLnhtaW49Xy11LFAueG1heD1QLnhtaW4rYyksND09PXIpe2lmKCEocC53aWR0aCgpPmMtbCkpe2NvbnN0IHQ9ZS5jb25zdHJ1Y3RFbXB0eSgpO3Quc2V0Q29vcmRzKHt4bWluOnAueG1pbi1sLHltaW46UC55bWluLHhtYXg6cC54bWF4K2wseW1heDpQLnltYXh9KSxtPShuZXcgS3QpLmV4ZWN1dGUobSx0LEUsYSk7bGV0IHM9TWF0aC5mbG9vcigoXy1wLmdldENlbnRlclgoKSkvYyk7Zm9yKHAubW92ZShzKmMsMCk7cC54bWluPlAueG1heDspcy09MSxwLm1vdmUoLWMsMCk7Zm9yKDtwLnhtaW48UC54bWluOylzKz0xLHAubW92ZShjLDApO2lmKDAhPT1zKXtjb25zdCBlPW5ldyBqdDtlLnNldFNoaWZ0Q29vcmRzKHMqYywwKSxtLmFwcGx5VHJhbnNmb3JtYXRpb24oZSl9cmV0dXJuIG19cj0yfWlmKDI9PT1yJiYoUC54bWluPV8tdSxQLnhtYXg9UC54bWluK2MpLHAueW1pbjwtZ3x8cC55bWF4Pmcpe2NvbnN0IHQ9ZS5jb25zdHJ1Y3RFbXB0eSgpO2lmKHQuc2V0Q29vcmRzKHt4bWluOnAueG1pbi1sLHltaW46LWcseG1heDpwLnhtYXgrbCx5bWF4Omd9KSxtPShuZXcgS3QpLmV4ZWN1dGUobSx0LEUsYSksbS5pc0VtcHR5KCkpcmV0dXJuIG07bS5xdWVyeUVudmVsb3BlKHApfWlmKHgmJihQLnltYXg8cC55bWlufHxQLnltaW4+cC55bWF4KSlyZXR1cm4gbS5jcmVhdGVJbnN0YW5jZSgpO3Aud2lkdGgoKT5jJiYobT1xbChtLF8tdSxjLEUsITAsMCwhMCxhKSxtLnF1ZXJ5RW52ZWxvcGUocCkpO2xldCBTPVVsKHAueG1pbixwLnhtYXgsUC54bWluLFAueG1heCxjKTtpZigwIT09UyYmcC5tb3ZlKFMsMCkscC54bWF4PlAueG1heHx8cC54bWluPFAueG1pbil7aWYocC54bWF4PlAueG1heClmb3IoO3AueG1pbj49UC54bWF4OylwLm1vdmUoLWMsMCksUy09Yztmb3IoO3AueG1pbjxQLnhtYXgtYzspcC5tb3ZlKGMsMCksUys9Y31jb25zdCBDPWdlKEUsZiwhMSk7aWYoMCE9PVMpe2NvbnN0IGU9bmV3IGp0O2Uuc2V0U2hpZnRDb29yZHMoUywwKSxtLmFwcGx5VHJhbnNmb3JtYXRpb24oZSksUz0wfWlmKHgpe2lmKHkmJlAuY29udGFpbnNFbnZlbG9wZShwKSlyZXR1cm4gbTtjb25zdCBlPW5ldyBBcnJheSgyKTtmb3IobGV0IHQ9MDt0PDI7dCsrKXtsZXQgcztpZih5P3M9byhoKT9adChtLFAsQyxkLGEpOlp0KG0sUCxDLDAsYSk6KHM9KG5ldyB3aCkuZXhlY3V0ZShtLGYsRSxhKSxzPT09ZiYmKHM9cy5jbG9uZSgpKSksUC54bWluPD1wLnhtaW4mJlAueG1heD49cC54bWF4KXJldHVybiBzO2lmKFAueG1pbj49cC54bWluJiZQLnhtYXg8PXAueG1heClyZXR1cm4gcztpZihlW3RdPXMsMD09PXQpe3AubW92ZSgtYywwKTtjb25zdCBlPW5ldyBqdDtlLnNldFNoaWZ0Q29vcmRzKC1jLDApLG0uYXBwbHlUcmFuc2Zvcm1hdGlvbihlKX19cmV0dXJuIG8oaCk/ZVswXS5hZGQoZVsxXSwhMSk6aShcImludGVyc2VjdF93aXRoX0dDU19ob3Jpem9uOiB1bmV4cGVjdGVkIGdlb21ldHJ5IHR5cGVcIiksZVswXX17aWYoUC55bWF4PHAueW1pbnx8UC55bWluPnAueW1heClyZXR1cm4gbTtsZXQgZT0wO2Zvcig7IW0uaXNFbXB0eSgpJiZwLnhtYXg+UC54bWluOyl7aWYoMCE9PWUpe2NvbnN0IHQ9bmV3IGp0O3Quc2V0U2hpZnRDb29yZHMoZSwwKSxtLmFwcGx5VHJhbnNmb3JtYXRpb24odCl9aWYoIShuZXcgdWwpLmV4ZWN1dGUobSxmLEUsYSkpe209KG5ldyBLbSkuZXhlY3V0ZShtLGYsRSxhKSxmPT09bSYmKG09bS5jbG9uZSgpKX1pZigwIT09ZSl7Y29uc3QgdD1uZXcganQ7dC5zZXRTaGlmdENvb3JkcygtZSwwKSxtLmFwcGx5VHJhbnNmb3JtYXRpb24odCl9ZS09YyxwLm1vdmUoLWMsMCl9cmV0dXJuIG19fWZ1bmN0aW9uIENsKGUsdCxzLG4scixpKXtjb25zdCBvPXtzdGFjazpbXSxlcnJvcjp2b2lkIDAsaGFzRXJyb3I6ITF9O3RyeXtpZigyPT09aSl7cmV0dXJuIEdzKGUsdCxzLG4scil9aWYoTWF0aC5hYnMocy54LW4ueCk+PU1hdGguUEl8fCFGZyhzLngsbi54LHIpKXJldHVybiBOdW1iZXIuTmFOO3MueD5uLngmJihuPXJ0KHMscz1uKSk7Y29uc3QgYT16dChvLG5ldyBDYywhMSksaD16dChvLG5ldyBDYywhMSksbT16dChvLG5ldyBDYywhMSksbD1zLmNsb25lKCk7RGMuZ2VvZGV0aWNEaXN0YW5jZShlLHQscy54LHMueSxuLngsbi55LGgsYSxudWxsLGkpO2NvbnN0IGc9aC52YWw7bGV0IHU9MCxjPTE7Zm9yKDtnKihjLXUpPjFlLTEyKmU7KXtjb25zdCBvPS41Kih1K2MpO2lmKERjLmdlb2RldGljQ29vcmRpbmF0ZShlLHQscy54LHMueSxnKm8sYS52YWwsaCxtLGkpLGwueD1oLnZhbCxsLnk9bS52YWwsbC54PT09cilyZXR1cm4gbC55O2lmKEZnKHMueCxsLngscikpYz1vO2Vsc2V7aWYoIUZnKG4ueCxsLngscikpcmV0dXJuIE51bWJlci5OYU47dT1vfX1yZXR1cm4gbC55fWNhdGNoKGEpe28uZXJyb3I9YSxvLmhhc0Vycm9yPSEwfWZpbmFsbHl7V3Qobyl9fWZ1bmN0aW9uIElsKGUsdCl7bGV0IHM7aWYoQXJyYXkuaXNBcnJheShlKSl7Y29uc3Qgbj1lO3M9bmV3IEZsb2F0NjRBcnJheSgyKnQpO2ZvcihsZXQgZT0wLHI9MDtlPHQ7ZSsrLHIrPTIpc1tyXT1uW2VdLngsc1tyKzFdPW5bZV0ueX1lbHNlIHM9ZTtyZXR1cm4gc31mdW5jdGlvbiBibChlLHQscyxuKXtmb3IobGV0IHI9MCxpPTA7cjxuO3IrKyxpKz0yKXRbcytyXS54PWVbaV0sdFtzK3JdLnk9ZVtpKzFdfWZ1bmN0aW9uIHdsKHQscyxyLGkpe2lmKDA9PT1zfHwxPT09aSlyZXR1cm4gcztjb25zdCBvPUlsKHQscyk7aWYoMj09PWkpe2NvbnN0IGU9ci5nZXRQYW5uYWJsZUV4dGVudEluR0NTKCk7bGV0IG49cztmb3IobGV0IHQ9MCxyPTIqczt0PHI7dCs9Mikob1t0KzFdPmUueW1heHx8b1t0KzFdPGUueW1pbikmJihvW3RdPU51bWJlci5OYU4sbi0tKTtyZXR1cm4gbj8oQmwobyxzLGUueG1pbixlLndpZHRoKCksITApLHQhPT1vJiZibChvLHQsMCxzKSxuKTowfWNvbnN0IGE9ci5nZXRPbmVEZWdyZWVHQ1NVbml0KCksaD05MCphLG09MTgwKmEsbD0zNjAqYTtsZXQgZz1zO2ZvcihsZXQgZT0wLG49MipzO2U8bjtlKz0yKShvW2UrMV0+aHx8b1tlKzFdPC1oKSYmKG9bZV09TnVtYmVyLk5hTixnLS0pO2lmKCFnKXJldHVybiAwO2NvbnN0IHU9ZS5jb25zdHJ1Y3RFbXB0eSgpO3Uuc2V0RnJvbVBvaW50cyhvLHMpO2NvbnN0IGM9ci5nZXRHQ1NIb3Jpem9uKCksXz1yLmdldEdDU0hvcmlzb25Jc0luY2x1c2l2ZSgpLGQ9Yy5nZXRHZW9tZXRyeVR5cGUoKT09PW4uZW51bUVudmVsb3BlLHA9ZS5jb25zdHJ1Y3RFbXB0eSgpO2lmKGMucXVlcnlFbnZlbG9wZShwKSxfJiYocC55bWF4PHUueW1pbnx8cC55bWluPnUueW1heCkpcmV0dXJuIDA7aWYoXyl7aWYoQmwobyxzLHAuZ2V0Q2VudGVyWCgpLW0sbCwhMCksZz1zLGQpZm9yKGxldCBlPTAsdD0yKnM7ZTx0O2UrPTIpcC5jb250YWluc0Nvb3JkcyhvW2VdLG9bZSsxXSl8fChvW2VdPU51bWJlci5OYU4sZy0tKTtlbHNle2NvbnN0IGU9Z2Uoci5nZXRHQ1MoKSxjLCExKSx0PW5ldyBRZTtmb3IobGV0IG49MCxyPTIqcztuPHI7bis9Mil7dC5zZXRDb29yZHMob1tuXSxvW24rMV0pOzAhPT1MbyhjLHQsZSl8fChvW25dPU51bWJlci5OYU4sZy0tKX19fWVsc2V7QmwobyxzLC1tLGwsITApLGc9cztjb25zdCBlPWdlKHIuZ2V0R0NTKCksYywhMSksdD1uZXcgUWU7Zm9yKGxldCBuPTAscj0yKnM7bjxyO24rPTIpe3Quc2V0Q29vcmRzKG9bbl0sb1tuKzFdKSx0LmlzTkFOKCkmJmctLTtjb25zdCBzPU1sKHQueCxwLnhtaW4scC54bWF4LGwpO3QueCs9czswIT09TG8oYyx0LGUpJiYob1tuXT1OdW1iZXIuTmFOLGctLSl9fXJldHVybiBnPjAmJkFycmF5LmlzQXJyYXkodCkmJmJsKG8sdCwwLHMpLGd9ZnVuY3Rpb24gdmwoZSxzLG4scixpLG8pe2lmKHMuaXNQYW5uYWJsZSgpfHx0KFwiZm9sZF9pbnRvXzM2MF9kZWdyZWVfcmFuZ2VcIiksZS5pc0VtcHR5KCkpcmV0dXJuIGU7bGV0IGEsaDtpZigyPT09cy5nZXRDb29yZGluYXRlU3lzdGVtVHlwZSgpKXtjb25zdCBlPXMuZ2V0UGFubmFibGVFeHRlbnQoKTtoPWUueG1pbixhPWUud2lkdGgoKX1lbHNle2NvbnN0IGU9cy5nZXRPbmVEZWdyZWVHQ1NVbml0KCk7YT0zNjAqZSxoPW4tMTgwKmV9cmV0dXJuIHFsKGUsaCxhLHMscixpLCEwLG8pfWZ1bmN0aW9uIE5sKGUsdCxzLG4pe2xldCByLGk7aWYoMj09PXMuZ2V0Q29vcmRpbmF0ZVN5c3RlbVR5cGUoKSl7Y29uc3QgZT1zLmdldFBhbm5hYmxlRXh0ZW50KCk7cj1lLnhtaW4saT1lLndpZHRoKCl9ZWxzZXtjb25zdCBlPXMuZ2V0T25lRGVncmVlR0NTVW5pdCgpO2k9MzYwKmUscj1uLTE4MCplfUJsKGUsdCxyLGkpfWZ1bmN0aW9uIFRsKGUsdCl7Y29uc3Qgcz10LndpZHRoKCk7bGV0IG49dHQoZS10LnZtaW4scyk7bjwwJiYobis9cyk7cmV0dXJuIHQuc25hcENsaXAobit0LnZtaW4pfWZ1bmN0aW9uIEdsKGUsdCxzKXtyZXR1cm4gZT50LnhtYXgmJmUtdC54bWF4PHM/dC54bWF4OmU8dC54bWluJiZ0LnhtaW4tZTxzP3QueG1pbjplfWZ1bmN0aW9uIERsKGUsdCxzKXtpZihlWzBdPHQudm1pbnx8ZVswXT50LnZtYXh8fHMmJmVbMF09PT10LnZtYXgpe2NvbnN0IHM9dC53aWR0aCgpO3JldHVybiBlWzBdKz1NYXRoLmNlaWwoKHQudm1pbi1lWzBdKS9zKSpzLGVbMF09dC5zbmFwQ2xpcChlWzBdKSwhMH1yZXR1cm4hMX1mdW5jdGlvbiBWbChlLHQscyxuLHIsaSxvLGEsaCl7cmV0dXJuIG5ldyBEbShlLG51bGwscyx0LG4scixvLGEsaSkuZ2VvTm9ybWFsaXplUG9seWdvbkdlb21ldHJ5KGgpfWZ1bmN0aW9uIEZsKGUsdCxzLG4scixpLG8sYSxoKXtyZXR1cm4gbmV3IERtKGUsbnVsbCxzLHQsbixyLG8sYSxpKS5nZW9Ob3JtYWxpemVQb2x5bGluZUdlb21ldHJ5KGgpfWZ1bmN0aW9uIEhsKGUsdCxzLG4scil7Y29uc3QgaT1uZXcgRyxvPWkuYWRkR2VvbWV0cnkoZSk7cmV0dXJuIGtsKGksbyx0LGdlKHQsZSwhMSkscyxuLHIpLGkuZ2V0R2VvbWV0cnkobyl9ZnVuY3Rpb24ga2woZSx0LHMsbixyLGksbyl7Y29uc3QgaD17c3RhY2s6W10sZXJyb3I6dm9pZCAwLGhhc0Vycm9yOiExfTt0cnl7YShVdSgpKSxzLmlzUGFubmFibGUoKXx8YyhcImluc2VydF9nZW9kZXRpY19wb2ludHNcIik7Y29uc3QgbT1zLmdldFBhbm5hYmxlRXh0ZW50KCksbD1zLmdldEdDUygpLGc9SHUoKTtsLnF1ZXJ5U3BoZXJvaWREYXRhKGcpO2NvbnN0IHU9bC5nZXRVbml0KCkuZ2V0VW5pdFRvQmFzZUZhY3RvcigpLF89Zy5tYWpvclNlbWlBeGlzLGQ9Zy5lMjtsZXQgcD0wO2NvbnN0IGY9bmV3IGF0O20ucXVlcnlJbnRlcnZhbFgoZik7bGV0IHg9bnVsbDtjb25zdCB5PUtlKDQsTnVtYmVyLk5hTik7Mj09PXMuZ2V0Q29vcmRpbmF0ZVN5c3RlbVR5cGUoKT8oeD1zLmdldFBFQ29vcmRTeXMoKSxpPyh5WzBdPVRsKG8sZikseVsxXT1tLmdldENlbnRlclkoKSx3Yy5wcm9qVG9HZW9nKHgsMSx5KSxwPXlbMF0qdSk6KHlbMF09bS5nZXRDZW50ZXJYKCkseVsxXT1vLHdjLnByb2pUb0dlb2coeCwxLHkpLHA9eVsxXSp1KSk6cD1vKnUsaXx8MD09PXB8fDI9PT1yfHxjKFwiaW5zZXJ0X2dlb2RldGljX3BvaW50czogMVwiKTtjb25zdCBQPXp0KGgsbmV3IENjLCExKSxFPW5ldyBRZSxTPW5ldyBRZSxDPW5ldyBRZSxJPW5ldyBRZSxiPW5ldyBRZSx3PW5ldyBRZTtmb3IobGV0IGE9ZS5nZXRGaXJzdFBhdGgodCk7YSE9PU07YT1lLmdldE5leHRQYXRoKGEpKXtjb25zdCB0PWUuZ2V0Rmlyc3RWZXJ0ZXgoYSk7ZS5xdWVyeVhZKHQsQyk7bGV0IGg9ITE7Y29uc3QgbT1lLmdldE5leHRWZXJ0ZXgodCk7Zm9yKGxldCBhPW07YSE9PU07YT1lLmdldE5leHRWZXJ0ZXgoYSkpe2lmKGE9PT1tKXtpZihoKWJyZWFrO2g9ITB9aWYoZS5xdWVyeVhZKGEsSSksaSYmKG48by1DLngmJkkueC1vPm58fG48by1JLngmJkMueC1vPm4pfHwhaSYmKDAhPT1vfHxuPC1DLnkmJkkueT5ufHxuPC1JLnkmJkMueT5uKSlkb3tpZihNYXRoLmFicyhDLngtSS54KT49LjUqZi53aWR0aCgpKWJyZWFrOzI9PT1zLmdldENvb3JkaW5hdGVTeXN0ZW1UeXBlKCk/KHlbMF09VGwoQy54LGYpLHlbMV09Qy55LHlbMl09VGwoSS54LGYpLHlbM109SS55LGFnKHgsMix5LDApLGIueD15WzBdKnUsYi55PXlbMV0qdSx3Lnk9eVszXSp1KTooYi54PUMueCp1LGIueT1DLnkqdSx3Lnk9SS55KnUpLHcueD0oSS54LUMueCkqTWF0aC5QSSoyL2Yud2lkdGgoKStiLng7bGV0IHQ9MDtjb25zdCBuPWx0KFFlLDIpO2lmKGkpe2lmKFMueD1wLFMueT1DbChfLGQsYix3LHAsciksTnVtYmVyLmlzTmFOKFMueSkpYnJlYWs7blswXT1TLHQ9MX1lbHNlIGlmKDI9PT1yKXtjb25zdCBlPVswLDBdO2lmKHQ9RHMoXyxkLGIsdyxwLGUpLCF0KWJyZWFrO25bMF0ueD1lWzBdLG5bMF0ueT1wLDI9PT10JiYoblsxXS54PWVbMV0sblsxXS55PXApfWVsc2V7aWYoUy54PUhnKF8sZCxiLHcsciksTnVtYmVyLmlzTmFOKFMueCkpYnJlYWs7Uy55PTAsblswXT1TLHQ9MX1sZXQgaD0tMTtmb3IobGV0IG09MDttPHQ7bSsrKXtEYy5nZW9kZXRpY0Rpc3RhbmNlKF8sZCxiLngsYi55LHcueCx3LnksUCxudWxsLG51bGwscik7Y29uc3QgdD1QLnZhbDtEYy5nZW9kZXRpY0Rpc3RhbmNlKF8sZCxiLngsYi55LG5bbV0ueCxuW21dLnksUCxudWxsLG51bGwscik7Y29uc3QgbD1QLnZhbDsyPT09cy5nZXRDb29yZGluYXRlU3lzdGVtVHlwZSgpPyh5WzBdPW5bbV0ueC91LHlbMV09blttXS55L3Usd2MuZ2VvZ1RvUHJvaih4LDEseSksaT8oRS55PXlbMV0sRS54PW8pOihFLng9a2coeVswXSxDLngsSS54LGYpLEUueT1vKSk6aT8oRS54PW8sRS55PW5bbV0ueS91KTooRS54PWtnKG5bbV0ueC91LEMueCxJLngsZiksRS55PW8pO2NvbnN0IGc9dD4wP0l0KGwvdCwwLDEpOi41O2lmKDA9PT1nfHwxPT09Zyljb250aW51ZTtpZihoPmcpY29udGludWU7Y29uc3QgYz1lLmdldFByZXZWZXJ0ZXgoYSk7ZS5zcGxpdFNlZ21lbnQoYyxbZ10sMSk7Y29uc3QgcD1lLmdldE5leHRWZXJ0ZXgoYyk7ZS5zZXRYWUNvb3JkcyhwLEUueCxFLnkpLGg9Z319d2hpbGUoMCk7Qy5zZXRDb29yZHNQb2ludDJEKEkpfX19Y2F0Y2gobSl7aC5lcnJvcj1tLGguaGFzRXJyb3I9ITB9ZmluYWxseXtXdChoKX19ZnVuY3Rpb24gQWwodCxzKXthKHMuaXNQYW5uYWJsZSgpKTtjb25zdCByPXMuZ2V0UGFubmFibGVFeHRlbnQoKTtpZih0LmdldEdlb21ldHJ5VHlwZSgpPT09bi5lbnVtUG9pbnQpe2NvbnN0IGU9dC5nZXRZKCk7cmV0dXJuIHIueW1pbjw9ZSYmZTw9ci55bWF4P3Q6dC5jcmVhdGVJbnN0YW5jZSgpfWNvbnN0IGk9ZS5jb25zdHJ1Y3RFbXB0eSgpO3QucXVlcnlFbnZlbG9wZShpKTtjb25zdCBvPWUuY29uc3RydWN0RW1wdHkoKTtvLnNldENvb3Jkcyh7ZW52MkQ6cn0pLG8ueG1pbj1pLnhtaW4sby54bWF4PWkueG1heCxvLmluZmxhdGVDb29yZHMoLjAxKm8uaGVpZ2h0KCksMCk7Y29uc3QgaD1sZShzLGksITEpO2xldCBtO3JldHVybiBtPW8uY29udGFpbnNFbnZlbG9wZShpKT90Olp0KHQsbyxoLDAsbnVsbCksbX1mdW5jdGlvbiBNbChlLHQscyxuKXtyZXR1cm4gbnQoKC41KihzK3QpLWUpL24pKm59ZnVuY3Rpb24gVWwoZSx0LHMsbixyKXtpZihlPj1zJiZ0PD1uKXJldHVybiAwO3JldHVybiBNbCguNSoodCtlKSxzLG4scil9ZnVuY3Rpb24gcWwodCxzLHIsaSxvLGEsaCxtKXtjb25zdCBsPXQuZ2V0R2VvbWV0cnlUeXBlKCksZz1hdC5jb25zdHJ1Y3RFbXB0eSgpO2cuc2V0Q29vcmRzKHMscytyKTtjb25zdCB1PVswXTtpZihsPT09bi5lbnVtUG9pbnQpe2NvbnN0IGU9dDtpZih1WzBdPWUuZ2V0WCgpLERsKHUsZyxoKSl7Y29uc3QgZT1vP3Q6dC5jbG9uZSgpO3JldHVybiBlLnNldFgodVswXSksZX1yZXR1cm4gdH1jb25zdCBjPWUuY29uc3RydWN0RW1wdHkoKTtpZih0LnF1ZXJ5RW52ZWxvcGUoYyksYy5pc0VtcHR5KCkpcmV0dXJuIHQ7aWYobD09PW4uZW51bU11bHRpUG9pbnQpe2NvbnN0IGU9bz90OnQuY2xvbmUoKSxzPWUuZ2V0SW1wbCgpLG49cy5nZXRBdHRyaWJ1dGVTdHJlYW1SZWYoMCkscj0yKnMuZ2V0UG9pbnRDb3VudCgpO2xldCBpPSExO2ZvcihsZXQgdD0wO3Q8cjt0Kz0yKXVbMF09bi5yZWFkKHQpLERsKHUsZyxoKSYmKG4ud3JpdGUodCx1WzBdKSxpPSEwKTtyZXR1cm4gaSYmcy5ub3RpZnlNb2RpZmllZEZsYWdzKDIwMDEpLGV9Y29uc3QgXz1hdC5jb25zdHJ1Y3RFbXB0eSgpO2lmKGMucXVlcnlJbnRlcnZhbFgoXyksZy5jb250YWlucyhfKSlyZXR1cm4gZy52bWF4LF8udm1heCx0O2NvbnN0IGQ9ZS5jb25zdHJ1Y3RFbXB0eSgpO2lmKGQuc2V0Q29vcmRzKHtlbnYyRDpjfSksMD09PV8ud2lkdGgoKSl7bGV0IGU9Xy52bWluO2UrPU1hdGguY2VpbCgoZy52bWluLWUpL3IpKnIsZT1nLnNuYXBDbGlwKGUpO2NvbnN0IHM9bz90OnQuY2xvbmUoKTtyZXR1cm4gcy5zZXRBdHRyaWJ1dGVCYXNpYygwLDAsZSksc31pZihsPT09bi5lbnVtRW52ZWxvcGUpe2NvbnN0IGU9bz90OnQuY2xvbmUoKTtyZXR1cm4gYy5pbnRlcnNlY3QoZCksZS5zZXRFbnZlbG9wZShjKSxlfWNvbnN0IHA9LjEqTWF0aC5tYXgoYy5oZWlnaHQoKSxjLndpZHRoKCkpKjE7ZC5pbmZsYXRlQ29vcmRzKDAscCk7bGV0IGY9dDtjb25zdCB4PWkuZ2V0VG9sZXJhbmNlKDApLHk9bmV3IGp0O2Zvcig7Oyl7Y29uc3QgZT1NYXRoLmZsb29yKChfLnZtaW4tcykvciksdD1NYXRoLmNlaWwoKF8udm1heC1zKS9yKTtpZighKHQtZT4zKSlicmVhazt7Y29uc3Qgbz1NYXRoLmZsb29yKC41Kih0K2UpKTtkLnhtaW49Yy54bWluLXAsZC54bWF4PXMrcipvO2NvbnN0IGg9WnQoZixkLHgsYSxtKTtkLnhtaW49ZC54bWF4LGQueG1heD1jLnhtYXgrcDtjb25zdCBnPVp0KGYsZCx4LGEsbSk7eS5zZXRTaGlmdENvb3Jkcygoby10KSpyLDApLGcuYXBwbHlUcmFuc2Zvcm1hdGlvbih5KSxsPT09bi5lbnVtUG9seWdvbj9mPShuZXcgYWwpLmV4ZWN1dGUoaCxnLGksbSk6KGY9aCxmLmFkZChnLCExKSksZi5xdWVyeUVudmVsb3BlKGMpLGMucXVlcnlJbnRlcnZhbFgoXyl9fWQueG1pbj1zLGQueG1heD1zK3I7Y29uc3QgUD1lLmNvbnN0cnVjdEVtcHR5KCk7UC5zZXRDb29yZHMoe2VudjJEOmR9KSxQLmluZmxhdGVDb29yZHMoeCwwKTtjb25zdCBFPU1hdGguZmxvb3IoKGMueG1pbi1kLnhtaW4pL3IpKnI7bGV0IFM7RT8oZC5tb3ZlKEUsMCkseS5zZXRTaGlmdENvb3JkcygtRSwwKSk6eS5zZXRJZGVudGl0eSgpLFM9bD09PW4uZW51bVBvbHlsaW5lP25ldyBJKHt2ZDpmLmdldERlc2NyaXB0aW9uKCl9KTpuZXcgdih7dmQ6Zi5nZXREZXNjcmlwdGlvbigpfSk7Y29uc3QgQz1lLmNvbnN0cnVjdEVtcHR5KCksYj1lLmNvbnN0cnVjdEVtcHR5KCk7Zm9yKDtjLnhtYXg+ZC54bWluOyl7Y29uc3QgZT1adChmLGQseCwwLG0pO2UucXVlcnlFbnZlbG9wZShiKTtsZXQgdD0hMTt0PWw9PT1uLmVudW1Qb2x5bGluZT8hZS5pc0VtcHR5KCkmJihiLndpZHRoKCk+eHx8Yi5oZWlnaHQoKT54KTohZS5pc0VtcHR5KCkmJihsIT09bi5lbnVtUG9seWdvbnx8Yi53aWR0aCgpPngpLHQmJihlLmFwcGx5VHJhbnNmb3JtYXRpb24oeSksZS5xdWVyeUVudmVsb3BlKGIpLFMucXVlcnlFbnZlbG9wZShDKSxDLmluZmxhdGVDb29yZHMoeCx4KSxDLmlzSW50ZXJzZWN0aW5nKGIpJiZsPT09bi5lbnVtUG9seWdvbj9TPShuZXcgYWwpLmV4ZWN1dGUoUyxlLGksbSk6Uy5hZGQoZSwhMSkpLGQubW92ZShyLDApLHkuc2hpZnRDb29yZHMoLXIsMCl9cmV0dXJuIFN9ZnVuY3Rpb24gQmwoZSx0LHMsbixyPSEwKXtjb25zdCBpPW5ldyBhdDtpLnNldENvb3JkcyhzLHMrbik7Y29uc3Qgbz1bMF07aWYoQXJyYXkuaXNBcnJheShlKSl7Y29uc3Qgcz1lO2ZvcihsZXQgZT0wO2U8dDtlKyspaS5jb250YWluc1JpZ2h0RXhjbHVzaXZlKHNbZV0ueCl8fChvWzBdPXNbZV0ueCxEbChvLGksciksc1tlXS54PW9bMF0pfWVsc2V7Y29uc3Qgcz1lO2ZvcihsZXQgZT0wO2U8dDtlKyspe2NvbnN0IHQ9ZTw8MTtpLmNvbnRhaW5zUmlnaHRFeGNsdXNpdmUoc1t0XSl8fChvWzBdPXNbdF0sRGwobyxpLHIpLHNbdF09b1swXSl9fX1mdW5jdGlvbiBPbCh0LHMscixoPSEwKXtpZih0LmlzRW1wdHkoKSlyZXR1cm47Y29uc3QgbT10LmdldEdlb21ldHJ5VHlwZSgpO2lmKCFofHxtIT09bi5lbnVtUG9seWdvbilpZihkKG0pKXtsZXQgZT0hMTtpZihvKG0pJiZ0Lmhhc05vbkxpbmVhclNlZ21lbnRzKCkpe2NvbnN0IG49dC5nZXRJbXBsKCksaT1uLmdldEF0dHJpYnV0ZVN0cmVhbVJlZigwKSxvPW4uZ2V0U2VnbWVudEZsYWdzU3RyZWFtUmVmKCk7YShudWxsIT09byk7Zm9yKGxldCB0PTAsYT1uLmdldFBhdGhDb3VudCgpO3Q8YTt0Kyspe2xldCBhPSEwO2NvbnN0IGg9bi5pc0Nsb3NlZFBhdGgodCksbT1uLmdldFBhdGhFbmQodCk7aWYoaCYmbi5nZXRQYXRoU2l6ZSh0KT4wKXthPTE9PT0oMzEmby5yZWFkKG0tMSkpfWZvcihsZXQgbD1uLmdldFBhdGhTdGFydCh0KTtsPG07bCsrKXtpZigxPT09KDMxJm8ucmVhZChsKSkpe2lmKGEpe2NvbnN0IHQ9aS5yZWFkKDIqbCksbj1HbCh0LHMscik7biE9PXQmJihlPSEwLGkud3JpdGUoMipsLG4pKX1hPSEwfWVsc2UgYT0hMX19fWVsc2V7Y29uc3Qgbj10LmdldEltcGwoKSxpPW4uZ2V0QXR0cmlidXRlU3RyZWFtUmVmKDApO2ZvcihsZXQgdD0wLG89bi5nZXRQb2ludENvdW50KCk7dDxvO3QrKyl7Y29uc3Qgbj1pLnJlYWQoMip0KSxvPUdsKG4scyxyKTtvIT09biYmKGU9ITAsaS53cml0ZSgyKnQsbykpfX1lJiZ0LmdldEltcGwoKS5ub3RpZnlNb2RpZmllZEZsYWdzKDIwMDEpfWVsc2UgaWYobT09PW4uZW51bUVudmVsb3BlKXtjb25zdCBuPXQsaT1lLmNvbnN0cnVjdEVtcHR5KCk7bi5xdWVyeUVudmVsb3BlKGkpLGkueG1pbj1HbChpLnhtaW4scyxyKSxpLnhtYXg9R2woaS54bWF4LHMsciksbi5zZXRFbnZlbG9wZShpKX1lbHNlIGlmKG09PT1uLmVudW1Qb2ludCl7Y29uc3QgZT10O2Uuc2V0WChHbChlLmdldFgoKSxzLHIpKX1lbHNlIGkoXCJcIil9ZnVuY3Rpb24gWWwoZSx0LHMpe2NvbnN0IG49bmV3IFFlO3JldHVybiBuLng9R2woZS54LHQscyksbi55PWUueSxufWZ1bmN0aW9uIFJsKHQscyl7aWYocy5pc0VtcHR5KCkpcmV0dXJuIDA7Y29uc3Qgbj10LmdldFBFQ29vcmRTeXMoKTtpZihuLmdldFByb2plY3Rpb24oKS5nZXRDb2RlKCk9PT1iYy5QRV9QUkpfQVpJTVVUSEFMX0VRVUlESVNUQU5UKXtjb25zdCByPUh1KCk7dC5xdWVyeVNwaGVyb2lkRGF0YShyKTtjb25zdCBpPW4uZ2V0UGFyYW1ldGVycygpO2lmKG51bGw9PT1pW2JjLlBFX1BBUk1fTEFNMF0pcmV0dXJuIDA7aWYobnVsbD09PWlbYmMuUEVfUEFSTV9QSEkwXSlyZXR1cm4gMDtjb25zdCBvPVtpW2JjLlBFX1BBUk1fTEFNMF0uZ2V0VmFsdWUoKSxpW2JjLlBFX1BBUk1fUEhJMF0uZ2V0VmFsdWUoKV07d2MuZ2VvZ1RvUHJvaihuLDEsbyk7Y29uc3QgYT1uZXcgUWUob1swXSxvWzFdKSxoPWUuY29uc3RydWN0RW1wdHkoKTtzLnF1ZXJ5RW52ZWxvcGUoaCk7Y29uc3QgbT1sdChRZSw0KTtoLnF1ZXJ5Q29ybmVycyhtKTtsZXQgbD0wO2NvbnN0IGc9dC5nZXRPbmVNZXRlcigpO2xldCB1PU1hdGgubWF4KHIubWFqb3JTZW1pQXhpcyxyLm1pbm9yU2VtaUF4aXMpKk1hdGguUEksYz1NYXRoLm1pbihyLm1ham9yU2VtaUF4aXMsci5taW5vclNlbWlBeGlzKSpNYXRoLlBJO2MtPXUvMTgwLHUqPWcsYyo9Zztmb3IobGV0IGU9MDtlPDQ7ZSsrKXtjb25zdCB0PVFlLmRpc3RhbmNlKG1bZV0sYSk7aWYodD51KWwrKztlbHNlIGlmKHQ+YylyZXR1cm4tMX1pZigwPT09bClyZXR1cm4gMTtpZig0PT09bCl7Y29uc3QgdD1lLmNvbnN0cnVjdEVtcHR5KCk7cmV0dXJuIHQuc2V0Q29vcmRzKHtjZW50ZXI6YSx3aWR0aDp1LGhlaWdodDp1fSksaC5pc0ludGVyc2VjdGluZ05lKHQpPy0xOjB9cmV0dXJuLTF9cmV0dXJuLTF9ZnVuY3Rpb24gWGwodCxzLHIsaSl7Y29uc3Qgbz10LmdldEdlb21ldHJ5VHlwZSgpO2Eobz09PW4uZW51bVBvbHlnb258fG89PT1uLmVudW1Qb2x5bGluZXx8bz09PW4uZW51bU11bHRpUG9pbnQpO2NvbnN0IGg9cy5nZXRDb29yZGluYXRlU3lzdGVtVHlwZSgpO2lmKDI9PT1oKXtsZXQgYT10O2lmKDA9PT1yKXtjb25zdCByPVJsKHMsdCk7aWYoMD09PXIpcmV0dXJuIHQuY3JlYXRlSW5zdGFuY2UoKTtpZigxPT09cilyZXR1cm4gdDtjb25zdCBvPXMuZ2V0UENTSG9yaXpvbigpLGg9by5nZXRHZW9tZXRyeVR5cGUoKSxtPXMuZ2V0RGVmYXVsdFByZWNpc2lvblNSKCk7aWYoaD09PW4uZW51bUVudmVsb3BlKXtjb25zdCBuPWUuY29uc3RydWN0RW1wdHkoKTtvLnF1ZXJ5RW52ZWxvcGUobik7Y29uc3Qgcj1sZShtLG4sITEpO2E9WnQodCxuLHIsNWU0KnMuZ2V0T25lTWV0ZXJQQ1NVbml0KCksaSl9ZWxzZShuZXcgam0pLmV4ZWN1dGUobyx0LG0saSl8fChhPShuZXcgd2gpLmV4ZWN1dGUoYSxvLG0saSksYT09PW8mJihhPWEuY2xvbmUoKSkpfWVsc2UgaWYocy5pc1Bhbm5hYmxlKCkpe2NvbnN0IHQ9ZS5jb25zdHJ1Y3RFbXB0eSgpO2EucXVlcnlFbnZlbG9wZSh0KTtjb25zdCBoPXMuZ2V0UGFubmFibGVFeHRlbnQoKTtoLmNvbnRhaW5zRW52ZWxvcGUodCl8fChPbChhLGgscy5nZXRUb2xlcmFuY2UoMCkpLDIhPT1yJiY0IT09cnx8KGE9QWwoYSxzKSksNCE9PXI/YT12bChhLHMsMCwhMCwxZTUqcy5nZXRPbmVNZXRlclBDU1VuaXQoKSxpKTpvPT09bi5lbnVtUG9seWdvbiYmdC53aWR0aCgpPjIqaC53aWR0aCgpJiYoYT1xbChhLC0yKmgud2lkdGgoKSwyKmgud2lkdGgoKSxzLCEwLDAsITAsaSkpKX1yZXR1cm4gYX1pZihhKDE9PT1oKSxvPT09bi5lbnVtTXVsdGlQb2ludClyZXR1cm4gT2wodCxzLmdldFBhbm5hYmxlRXh0ZW50KCkscy5nZXRUb2xlcmFuY2UoMCkpLHQ7e2NvbnN0IHI9ZS5jb25zdHJ1Y3RFbXB0eSgpO3QucXVlcnlFbnZlbG9wZShyKTtsZXQgYT10O2NvbnN0IGg9cy5nZXRQYW5uYWJsZUV4dGVudCgpO2lmKHIueW1pbjxoLnltaW58fHIueW1heD5oLnltYXgpe2NvbnN0IHQ9TWF0aC5tYXgoMSxyLmNhbGN1bGF0ZVRvbGVyYW5jZUZyb21FbnZlbG9wZSgpKSxuPW5ldyBlKHIueG1pbi10LGgueW1pbixyLnhtYXgrdCxoLnltYXgpO2lmKGE9KG5ldyBLdCkuZXhlY3V0ZShhLG4scyxpKSxhLmlzRW1wdHkoKSlyZXR1cm4gYX1yZXR1cm4gbz09PW4uZW51bVBvbHlnb24mJnIud2lkdGgoKT4yKmgud2lkdGgoKSYmKGE9cWwoYSwtMipoLndpZHRoKCksMipoLndpZHRoKCkscywhMCwwLCEwLGkpKSxhfX1mdW5jdGlvbiBMbChlLHQscyxuLHIsaSl7Y29uc3Qgbz1uLmdldENvb3JkaW5hdGVTeXN0ZW1UeXBlKCk7aWYoMj09PW8pe2lmKDA9PT1yKXMhPT1lJiZldChzLGUsdCksUGwobixzLHQpO2Vsc2UgaWYocyE9PWUmJmV0KHMsZSx0KSxuLmlzUGFubmFibGUoKSl7Y29uc3QgZT1uLmdldFRvbGVyYW5jZSgwKTtFbChzLHQsbi5nZXRQYW5uYWJsZUV4dGVudCgpLGUpLE5sKHMsdCxuLDApfX1lbHNle2EoMT09PW8pO2NvbnN0IHI9bi5nZXRUb2xlcmFuY2UoMCksaT1uLmdldFBhbm5hYmxlRXh0ZW50KCk7Zm9yKGxldCBuPTA7bjx0O24rKylzW25dLmFzc2lnbihZbChlW25dLGkscikpfX1mdW5jdGlvbiB6bChlLHQpe2NvbnN0IHM9dC5nZXRQb2ludENvdW50KCk7aWYoIXMpcmV0dXJuO2NvbnN0IG49dC5nZXRJbXBsKCkscj1uLmdldEF0dHJpYnV0ZVN0cmVhbVJlZigwKSxpPWU7d2MuZ2VvZ1RvUHJvaihpLHMsci5nZXRBcnJheSgpKSxuLm5vdGlmeU1vZGlmaWVkRmxhZ3MoMjAwMSl9ZnVuY3Rpb24gV2woZSx0LHMsbil7aWYoIXMpcmV0dXJuO2NvbnN0IHI9ZS5nZXRQRUNvb3JkU3lzKCk7aWYoMT09PXMpe2NvbnN0IHM9W3RbMF0ueCx0WzBdLnldO2lmKHdjLmdlb2dUb1Byb2oociwxLHMpLG4pe2NvbnN0e2ZpcnN0Om4sc2Vjb25kOnJ9PWUubV9wZUNvb3JkU3lzVmFsLmdldEdlb2dUb1Byb2pGYWN0b3JzKCk7c1swXT1uKih0WzBdLngtZS5nZXRDZW50cmFsTWVyaWRpYW4oKSkrcn1yZXR1cm4gdm9pZCB0WzBdLnNldENvb3JkcyhzWzBdLHNbMV0pfWNvbnN0IGk9ZS5pc1Bhbm5hYmxlKCksbz1pP2UuZ2V0UGFubmFibGVFeHRlbnQoKS53aWR0aCgpOjAsYT0xNzkqby8zNjA7bGV0IGg9MDtpJiYoaD1lLmdldENlbnRyYWxNZXJpZGlhbigpKTtjb25zdCBtPTI1NixsPW5ldyBGbG9hdDY0QXJyYXkoMiptKTtmb3IobGV0IGc9MDtnPHM7KXtmb3IobGV0IGU9ZztlPHMmJnRbZV0uaXNOQU4oKTsrK2UpZysrO2xldCB1PU1hdGgubWluKG0scy1nKTtpZih1PjApe2ZvcihsZXQgZT0xLHM9ZysxO2U8dTsrK2UsKytzKWlmKHRbc10uaXNOQU4oKSl7dT1lO2JyZWFrfWZvcihsZXQgZT0wO2U8dTsrK2Upe2NvbnN0IHM9ZTw8MTtsW3NdPXRbZytlXS54LGxbcysxXT10W2crZV0ueX1pZih3Yy5nZW9nVG9Qcm9qKHIsdSxsKSxuKXtjb25zdHtmaXJzdDpzLHNlY29uZDpufT1lLm1fcGVDb29yZFN5c1ZhbC5nZXRHZW9nVG9Qcm9qRmFjdG9ycygpO2ZvcihsZXQgZT0wO2U8dTsrK2Upe2xbZTw8MV09cyoodFtnK2VdLngtaCkrbn19aWYoaSlmb3IobGV0IGU9MCxzPWc7ZTx1O2UrKyxzKyspe2NvbnN0IG49ZTw8MSxyPWxbbl0saT1pdChyKSxtPXRbc10ueC1oO2kqaXQobSk8MCYmTWF0aC5hYnMocik+YSYmKGxbbl0tPWkqbyl9YmwobCx0LGcsdSksZys9dX19fWZ1bmN0aW9uIGpsKGUsdCxzLG4pe2NvbnN0IHI9ZS5nZXRTUlRvR0NTVHJhbnNmb3JtKCk7cmV0dXJuKG5ldyBxaCkudHJhbnNmb3JtKHIsdCxzLG4sITEpfWZ1bmN0aW9uIFpsKHQscyxuLHIpe2NvbnN0IGk9bmV3IE4oe3ZkOnMuZ2V0RGVzY3JpcHRpb24oKX0pO2xldCBvO2kuYWRkUG9pbnRzKHMsMCwtMSksbz0obmV3IHFoKS5leGVjdXRlKGksdCxyKTtjb25zdCBhPXMuZ2V0UG9pbnRDb3VudCgpO2lmKG4uc2V0RW1wdHkoKSx0LmdldElucHV0U1IoKS5pc1Bhbm5hYmxlKCkpe2lmKGEhPT1vLmdldFBvaW50Q291bnQoKSlyZXR1cm4hMTtjb25zdCByPW5ldyBlO3MucXVlcnlFbnZlbG9wZShyKTtjb25zdCBpPW5ldyBlO28ucXVlcnlFbnZlbG9wZShpKTtjb25zdCBoPXIud2lkdGgoKSxtPWkud2lkdGgoKTtpZigwIT09aCYmMCE9PW0pe2NvbnN0IGU9bS9oLHM9dC5nZXRPdXRwdXRTUigpLmdldFBhbm5hYmxlRXh0ZW50KCkud2lkdGgoKS90LmdldElucHV0U1IoKS5nZXRQYW5uYWJsZUV4dGVudCgpLndpZHRoKCk7aWYoTWF0aC5hYnMoZS9zLTEpPjFlLTEwKXJldHVybiExfWVsc2UgaWYoMCE9PWh8fDAhPT1tKXJldHVybiExO24uYWRkKHMsITEpO2ZvcihsZXQgZT0wO2U8YTtlKyspe2NvbnN0IHQ9by5nZXRYWShlKTtuLnNldFhZKGUsdCl9cmV0dXJuITB9cmV0dXJuITF9ZnVuY3Rpb24gS2woZSx0LHMpe2EoIXN8fGUuaXNQYW5uYWJsZSgpKTtjb25zdCBuPXQuZ2V0UG9pbnRDb3VudCgpO2lmKCFuKXJldHVybjtjb25zdCByPXQuZ2V0SW1wbCgpLGk9ci5nZXRBdHRyaWJ1dGVTdHJlYW1SZWYoMCksbz1lLmdldFBFQ29vcmRTeXMoKTtsZXQgaD0wO2NvbnN0IG09aS5yZWFkUmFuZ2UoMCwyKm4pO2xldCBsPSgpPT57d2MuZ2VvZ1RvUHJvaihvLG4sbSl9O2NvbnN0IGc9ZS5pc1Bhbm5hYmxlKCkmJiFzLHU9Zz9lLmdldFBhbm5hYmxlRXh0ZW50KCkud2lkdGgoKTowLGM9MTc5KnUvMzYwO2lmKGUuaXNQYW5uYWJsZSgpJiYoaD1lLmdldENlbnRyYWxNZXJpZGlhbigpLHMpKXtjb25zdCB0PWUubV9wZUNvb3JkU3lzVmFsLmdldEdlb2dUb1Byb2pGYWN0b3JzKCkscz10LmZpcnN0LHI9dC5zZWNvbmQ7bD0oKT0+e3djLmdlb2dUb1Byb2oobyxuLG0pO2ZvcihsZXQgZT0wO2U8bjtlKyspe2NvbnN0IHQ9ZTw8MSxuPWkucmVhZCh0KSxvPXMqKG4taCkrcjttW3RdPW99fX1pZihsKCksZylmb3IobGV0IGE9MDthPG47YSsrKXtjb25zdCBlPWE8PDEsdD1tW2VdLHM9aXQodCksbj1pLnJlYWQoZSktaDtzKml0KG4pPDAmJk1hdGguYWJzKHQpPmMmJihtW2VdKz0tcyp1KX1pLndyaXRlUmFuZ2VGcm9tQXJyYXkoMCwyKm4sbSwhMCwxKSxyLm5vdGlmeU1vZGlmaWVkRmxhZ3MoMjAwMSl9ZnVuY3Rpb24gUWwoZSx0LHMpe3N3aXRjaCh0LmdldEdlb21ldHJ5VHlwZSgpKXtjYXNlIG4uZW51bUxpbmU6cmV0dXJuIHZvaWQgSWcoZSx0LHMpO2Nhc2Ugbi5lbnVtQmV6aWVyOnJldHVybiB2b2lkIEdnKGUsdCxzKTtjYXNlIG4uZW51bUVsbGlwdGljQXJjOnJldHVybiB2b2lkIHdnKGUsdCxzKTtjYXNlIG4uZW51bUJlemllcjI6cmV0dXJuIHZvaWQgRGcoKTtjYXNlIG4uZW51bVJhdGlvbmFsQmV6aWVyMjpyZXR1cm4gdm9pZCBWZygpO2RlZmF1bHQ6aShcIlwiKX19ZnVuY3Rpb24gSmwoZSx0LHMpe2lmKCF0Lmhhc05vbkxpbmVhclNlZ21lbnRzKCkpcmV0dXJuIHZvaWQgS2woZSx0LHMpO2lmKGEoIXN8fGUuaXNQYW5uYWJsZSgpKSx0LmlzRW1wdHkoKSlyZXR1cm47Y29uc3Qgbj0wLHI9ZS5nZXRQRUNvb3JkU3lzKCksaT1lLmlzUGFubmFibGUoKSxvPWk/ZS5nZXRQYW5uYWJsZUV4dGVudCgpLndpZHRoKCk6MCxoPTE3OSpvLzM2MDtsZXQgbT0wO2kmJihtPWUuZ2V0Q2VudHJhbE1lcmlkaWFuKCkpO2NvbnN0IGw9dC5jcmVhdGVJbnN0YW5jZSgpO2wucmVzZXJ2ZVBhcnRzKHQuZ2V0UG9pbnRDb3VudCgpLHQuZ2V0UGF0aENvdW50KCkpO2NvbnN0IGc9dC5nZXRJbXBsKCksdT1uZXcgRjtmb3IobGV0IGE9MCxjPXQuZ2V0UGF0aENvdW50KCk7YTxjOysrYSlpZihnLmhhc05vbkxpbmVhclNlZ21lbnRzUGF0aChhKSl7bGV0IHQ9ITAsbj0tMTtjb25zdCByPWcuZ2V0UGF0aFN0YXJ0KGEpLGk9citnLmdldFNlZ21lbnRDb3VudFBhdGgoYSk7Zy5pc0Nsb3NlZFBhdGgoYSkmJihuPWktMSk7Y29uc3Qgbz1uZXcgUWU7Zm9yKGxldCBhPXI7YTxpOysrYSl7aWYoZy5nZXRTZWdtZW50QnVmZmVyKGEsdSwhMSksUWwoZSx1LmdldCgpLHMpLCF0KXt1LmdldCgpLmdldFN0YXJ0WFkoKS5lcXVhbHMobyl8fHUuZ2V0KCkubW92ZVRvKG8pfWlmKGEhPT1uKWwuYWRkU2VnbWVudCh1LmdldCgpLHQpO2Vsc2V7aWYodCl7Y29uc3QgZT1uZXcgZmU7dS5nZXQoKS5xdWVyeVN0YXJ0KGUpLGwuc3RhcnRQYXRoUG9pbnQoZSl9bC5jbG9zZUxhc3RQYXRoV2l0aFNlZ21lbnQodS5nZXQoKSl9by5hc3NpZ24odS5nZXQoKS5nZXRFbmRYWSgpKSx0PSExfX1lbHNle2NvbnN0IGU9MTAyNDtsZXQgcyx1PWcuZ2V0UGF0aFNpemUoYSksYz1NYXRoLm1pbih1LGUpO2wuaW5zZXJ0UGF0aCgtMSx0LGEsITApO2NvbnN0IF89Zy5nZXRBdHRyaWJ1dGVTdHJlYW1SZWYoMCksZD1sLmdldEF0dHJpYnV0ZVN0cmVhbVJlZigwKTtmb3IobGV0IHQ9Zy5nZXRQYXRoU3RhcnQoYSksbD1nLmdldFBhdGhFbmQoYSk7dDxsOyl7aWYocz1fLnJlYWRSYW5nZSh0LGMpLHdjLmdlb2dUb1Byb2oocixjLHMpLGkpZm9yKGxldCBlPTA7ZTxjO2UrKyl7Y29uc3QgdD1lPDwxLHI9c1t0XSxpPWl0KHIpLGE9Xy5yZWFkKDIqKG4rZSkpLW07aSppdChhKTwwJiZNYXRoLmFicyhyKT5oJiYoc1t0XSs9LWkqbyl9ZC53cml0ZVJhbmdlRnJvbUFycmF5KHQsYyxzLCEwLDEpLHQrPWMsdS09YyxjPU1hdGgubWluKHUsZSl9fXQuYXNzaWduTW92ZShsKX1mdW5jdGlvbiAkbChlLHQscyl7Y29uc3Qgbj0xZTM7bGV0IHI9cy5nZXRQb2ludENvdW50KCk7aWYoIXIpcmV0dXJuO2NvbnN0IGk9cy5nZXRJbXBsKCksbz1pLmdldEF0dHJpYnV0ZVN0cmVhbVJlZigwKTtsZXQgYT1NYXRoLm1pbihyLG4pLGg9MDtjb25zdCBtPWUuZ2V0UEVDb29yZFN5cygpO051bWJlci5pc05hTih0KSYmKHQ9MCk7Y29uc3QgbD1lLmlzUGFubmFibGUoKSxnPWUuZ2V0T25lRGVncmVlR0NTVW5pdCgpLHU9MzYwKmcsYz0xNzkqZztsZXQgXztmb3IoO3I7KXtpZihfPW8ucmVhZFJhbmdlKDIqaCwyKmEpLGFnKG0sYSxfLHQpLGwpZm9yKGxldCBlPTA7ZTxhO2UrKyl7Y29uc3Qgcz1lPDwxLG49X1tzXS10LHI9aXQobiksaT1vLnJlYWQoMiooaCtlKSk7cippdChpKTwwJiZNYXRoLmFicyhuKT5jJiYoX1tzXSs9LXIqdSl9by53cml0ZVJhbmdlRnJvbUFycmF5KDIqaCwyKmEsXywhMCwxKSxoKz1hLHItPWEsYT1NYXRoLm1pbihyLG4pfWkubm90aWZ5TW9kaWZpZWRGbGFncygyMDAxKX1mdW5jdGlvbiBlZyhlLHQscyl7c3dpdGNoKHMuZ2V0R2VvbWV0cnlUeXBlKCkpe2Nhc2Ugbi5lbnVtTGluZTpyZXR1cm4gdm9pZCB0ZyhlLHQscyk7Y2FzZSBuLmVudW1CZXppZXI6cmV0dXJuIHZvaWQgcmcoZSx0LHMpO2Nhc2Ugbi5lbnVtRWxsaXB0aWNBcmM6cmV0dXJuIHZvaWQgc2coZSx0LHMpO2Nhc2Ugbi5lbnVtQmV6aWVyMjpyZXR1cm4gdm9pZCBpZygpO2Nhc2Ugbi5lbnVtUmF0aW9uYWxCZXppZXIyOnJldHVybiB2b2lkIG9nKCk7ZGVmYXVsdDppKFwiXCIpfX1mdW5jdGlvbiB0ZyhlLHQscyl7Y29uc3Qgbj1bcy5nZXRTdGFydFhZKCkscy5nZXRFbmRYWSgpXTttZyhlLHQsbiwyKSxzLnNldFN0YXJ0WFkoblswXSkscy5zZXRFbmRYWShuWzFdKSxzLm5vcm1hbGl6ZUFmdGVyRW5kcG9pbnRDaGFuZ2UoKX1mdW5jdGlvbiBzZyhlLHQscyl7aWYoMD09PXMucHJvamVjdGlvbkJlaGF2aW9yKCkpbmcoZSx0LHMpO2Vsc2V7Y29uc3Qgbj1zLmlzQ2xvc2VkKCkmJnMuaXNNYWpvcigpLHI9W3MuZ2V0U3RhcnRYWSgpLG4/cy5nZXRDZW50ZXIoKTpzLmdldEVuZFhZKCldLGk9W3JbMF0uY2xvbmUoKSxyWzFdLmNsb25lKCldO3ZnKGUsdCxpLDIpO2NvbnN0IG89bmV3IGp0O28uaW5pdGlhbGl6ZUZyb21Ud29Qb2ludHNBcnJheShyLGkpLHMuYXBwbHlUcmFuc2Zvcm1hdGlvbihvKTtjb25zdCBhPW4/MDoxO3Muc2V0Q29vcmRzRm9ySW50ZXJzZWN0b3IoaVswXSxpW2FdLCExKX19ZnVuY3Rpb24gbmcoZSx0LHMpe05nKCExLGUsdCxzLCExKX1mdW5jdGlvbiByZyhlLHQscyl7Y29uc3Qgbj1sdChRZSw0KTtzLnF1ZXJ5Q29udHJvbFBvaW50cyhuKSx2ZyhlLHQsbiw0KSxzLnNldENvbnRyb2xQb2ludHMobil9ZnVuY3Rpb24gaWcoZSx0LHMpe2EoMCl9ZnVuY3Rpb24gb2coZSx0LHMpe2EoMCl9ZnVuY3Rpb24gYWcoZSx0LHMsbil7Y29uc3Qgcj13Yy5wcm9qVG9HZW9nQ2VudGVyKGUsdCxzLG4pO2ZvcihsZXQgaT0wO2k8dDsrK2kpe2NvbnN0IGU9aTw8MTthKE51bWJlci5pc0Zpbml0ZShzW2VdK3NbZSsxXSkpfXJldHVybiByfWZ1bmN0aW9uIGhnKGUsdCxzKXtpZighcy5oYXNOb25MaW5lYXJTZWdtZW50cygpKXJldHVybiB2b2lkICRsKGUsdCxzKTtpZihzLmlzRW1wdHkoKSlyZXR1cm47Y29uc3Qgbj1lLmdldFBFQ29vcmRTeXMoKTtOdW1iZXIuaXNOYU4odCkmJih0PTApO2NvbnN0IHI9ZS5pc1Bhbm5hYmxlKCksaT1lLmdldE9uZURlZ3JlZUdDU1VuaXQoKSxvPTM2MCppLGE9MTc5KmksaD1zLmNyZWF0ZUluc3RhbmNlKCk7aC5yZXNlcnZlUGFydHMocy5nZXRQb2ludENvdW50KCkscy5nZXRQYXRoQ291bnQoKSk7Y29uc3QgbT1zLmdldEltcGwoKSxsPW5ldyBGO2ZvcihsZXQgZz0wLHU9cy5nZXRQYXRoQ291bnQoKTtnPHU7KytnKWlmKG0uaGFzTm9uTGluZWFyU2VnbWVudHNQYXRoKGcpKXtsZXQgcz0hMCxuPS0xO2NvbnN0IHI9bS5nZXRQYXRoU3RhcnQoZyksaT1yK20uZ2V0U2VnbWVudENvdW50UGF0aChnKTttLmlzQ2xvc2VkUGF0aChnKSYmKG49aS0xKTtjb25zdCBvPW5ldyBRZTtmb3IobGV0IGE9cjthPGk7KythKXtpZihtLmdldFNlZ21lbnRCdWZmZXIoYSxsLCExKSxlZyhlLHQsbC5nZXQoKSksIXMpe2wuZ2V0KCkuZ2V0U3RhcnRYWSgpLmVxdWFscyhvKXx8bC5nZXQoKS5tb3ZlVG8obyl9aWYoYSE9PW4paC5hZGRTZWdtZW50KGwuZ2V0KCkscyk7ZWxzZXtpZihzKXtjb25zdCBlPW5ldyBmZTtsLmdldCgpLnF1ZXJ5U3RhcnQoZSksaC5zdGFydFBhdGhQb2ludChlKX1oLmNsb3NlTGFzdFBhdGhXaXRoU2VnbWVudChsLmdldCgpKX1vLmFzc2lnbihsLmdldCgpLmdldEVuZFhZKCkpLHM9ITF9fWVsc2V7Y29uc3QgZT0xZTM7bGV0IGksbD1tLmdldFBhdGhTaXplKGcpLHU9TWF0aC5taW4obCxlKTtoLmluc2VydFBhdGgoLTEscyxnLCEwKTtjb25zdCBjPW0uZ2V0QXR0cmlidXRlU3RyZWFtUmVmKDApLF89aC5nZXRBdHRyaWJ1dGVTdHJlYW1SZWYoMCk7Zm9yKGxldCBzPW0uZ2V0UGF0aFN0YXJ0KGcpLGg9bS5nZXRQYXRoRW5kKGcpO3M8aDspe2lmKGk9Yy5yZWFkUmFuZ2UoMipzLDIqdSksYWcobix1LGksdCkscilmb3IobGV0IGU9MDtlPHU7ZSsrKXtjb25zdCBuPWU8PDEscj1pW25dLXQsaD1pdChyKSxtPWMucmVhZCgyKnMpO2gqaXQobSk8MCYmTWF0aC5hYnMocik+YSYmKGlbbl0rPS1oKm8pfV8ud3JpdGVSYW5nZUZyb21BcnJheSgyKnMsMip1LGksITAsMSkscys9dSxsLT11LHU9TWF0aC5taW4obCxlKX19cy5hc3NpZ25Nb3ZlKGgpfWZ1bmN0aW9uIG1nKGUsdCxzLG4pe2NvbnN0IHI9ZS5nZXRQRUNvb3JkU3lzKCk7TnVtYmVyLmlzTmFOKHQpJiYodD0wKTtjb25zdCBpPWUuaXNQYW5uYWJsZSgpLG89ZS5nZXRPbmVEZWdyZWVHQ1NVbml0KCksYT0zNjAqbyxoPTE3OSpvLG09MjU2LGw9bmV3IEZsb2F0NjRBcnJheSgyKm0pO2ZvcihsZXQgZz0wO2c8bjspe2ZvcihsZXQgdD1nO3Q8biYmc1t0XS5pc05BTigpOysrdClnKys7bGV0IGU9TWF0aC5taW4obSxuLWcpO2lmKGU+MCl7Zm9yKGxldCB0PTEsbj1nKzE7dDxlOysrdCwrK24paWYoc1tuXS5pc05BTigpKXtlPXQ7YnJlYWt9Zm9yKGxldCB0PTA7dDxlO3QrKyl7Y29uc3QgZT10PDwxO2xbZV09c1tnK3RdLngsbFtlKzFdPXNbZyt0XS55fWlmKGFnKHIsZSxsLHQpLGkpZm9yKGxldCBuPTAscj1nO248ZTsrK24sKytyKXtjb25zdCBlPW48PDEsaT1zW3JdLngsbz1sW2VdLXQsbT1pdChvKTttKml0KGkpPDAmJk1hdGguYWJzKG8pPmgmJihsW2VdLT1tKmEpfWZvcihsZXQgdD0wO3Q8ZTt0Kyspe2NvbnN0IGU9dDw8MTtzW2crdF0ueD1sW2VdLHNbZyt0XS55PWxbZSsxXX1nKz1lfX19ZnVuY3Rpb24gbGcoZSx0LHMsbil7YSgwKX1mdW5jdGlvbiBnZyhlLHQscyl7bGV0IG49dC5nZXRQb2ludENvdW50KCk7aWYoIW4pcmV0dXJuITE7Y29uc3Qgcj10LmdldEltcGwoKSxpPXIuZ2V0QXR0cmlidXRlU3RyZWFtUmVmKDApO2xldCBvPW51bGw7Y29uc3QgYT1lLmdldElucHV0U1IoKSxoPWUuZ2V0T3V0cHV0U1IoKTthLmdldFZDUygpLGguZ2V0VkNTKCk7Y29uc3QgbT1hLmdldE9uZURlZ3JlZUdDU1VuaXQoKSxsPWguZ2V0T25lRGVncmVlR0NTVW5pdCgpLGc9ZS5pc1ZlcnRpY2FsKCk7ZyYmdC5oYXNBdHRyaWJ1dGUoMSkmJihvPXIuZ2V0QXR0cmlidXRlU3RyZWFtUmVmKDEpKTtjb25zdCB1PWUuZ2V0RGF0dW1UcmFuc2Zvcm1hdGlvbigpLGM9ISF1JiYxPT09dS5nZXRUeXBlKCk7aWYoY3x8bnVsbD09PW98fChsZyhvLmdldEFycmF5KCkpLG89bnVsbCksIXV8fDA9PT11LmNvdW50KCkpe2NvbnN0IGU9YS5nZXRHY3NVbml0RmFjdG9yKCkvaC5nZXRHY3NVbml0RmFjdG9yKCksdD0oYS5nZXRQcmltZU1lcmlkaWFuKCktaC5nZXRQcmltZU1lcmlkaWFuKCkpKmwscz0tOTAqbSxvPTkwKm07bGV0IGc9MDtjb25zdCB1PWkuZ2V0QXJyYXkoKSxjPVswXTtmb3IobGV0IHI9MSxpPTIqbjtyPGk7KWNbMF09dVtyXSxnfD1IdChjLHMsbyk/MTowLHVbcl09Y1swXSxyKz0yO2lmKDAhPT10fHwxIT09ZSl7Zz0xO2NvbnN0IHM9aS5nZXRBcnJheSgpO2ZvcihsZXQgcj0wLGk9MipuO3I8aTspe2xldCBuPXNbcl07bio9ZSxuKz10LHNbcl09bixzW3IrMV0qPWUscis9Mn19cmV0dXJuIDAhPT1nJiZyLm5vdGlmeU1vZGlmaWVkRmxhZ3MoMjAwMSksISFnfWNvbnN0IF89MWUzO2xldCBkPU1hdGgubWluKG4sXyk7Y29uc3QgcD1LZShkLE51bWJlci5OYU4pLGY9S2UoZCxOdW1iZXIuTmFOKTtsZXQgeD1udWxsO251bGwhPT1vJiYoeD1uZXcgRmxvYXQ2NEFycmF5KGQpKTtsZXQgeT0wLFA9TnVtYmVyLk5hTixFPU51bWJlci5OYU47Y29uc3QgUz0zNjAqbCxDPWwvbTtzJiYoRT05MCpsLFA9ODkuOSptLGYuZmlsbCgwKSk7bGV0IEk9ITAsYj0wO2Zvcig7bjspe2xldCBlPSExO2NvbnN0IHQ9aS5yZWFkUmFuZ2UoMip5LDIqZCk7Zm9yKGxldCBzPTA7czxkO3MrKylwW3NdPXRbczw8MV07aWYocylmb3IobGV0IHM9MDtzPGQ7cysrKXtjb25zdCBuPTErKHM8PDEpLHI9TWF0aC5hYnModFtuXSktUDtpZihyPjApe2NvbnN0IGk9dFtuXTt0W25dPXh0KFAsaSksZltzXT14dChyLGkpLGU9ITB9fWNvbnN0IHI9dFswXTtpZihjKXtjb25zdCBlPXU7eCYmby5xdWVyeVJhbmdlKHksZCx4LCEwLDEpLGUudHJhbnNmb3JtKCExLHQseCxkKSx4JiZvLndyaXRlUmFuZ2VGcm9tQXJyYXkoeSxkLHgsITAsMSl9ZWxzZXt1LnRyYW5zZm9ybSghMSx0LGQpfUkmJihiPXRbMF0tQypyLEk9ITEpO2ZvcihsZXQgcz0wO3M8ZDtzKyspe2NvbnN0IGU9czw8MSxuPXRbZV0tcFtzXSpDLWI7TWF0aC5hYnMobik+MjAwJiYodFtlXSs9bj4wPy1TOlMpfWlmKGUpe2ZvcihsZXQgZT0wO2U8ZDtlKyspaWYoZltlXSl7Y29uc3Qgcz0xKyhlPDwxKTt0W3NdKz1DKmZbZV0sdFtzXT5FP3Rbc109RTp0W3NdPC1FJiYodFtzXT0tRSl9Zi5maWxsKDApfWkud3JpdGVSYW5nZUZyb21BcnJheSgyKnksMipkLHQsITAsMSksZyYmbyYmby53cml0ZVJhbmdlRnJvbUFycmF5KHksZCx4LCEwLDEpLHkrPWQsbi09ZCxkPU1hdGgubWluKG4sXyl9cmV0dXJuIHIubm90aWZ5TW9kaWZpZWRGbGFncygyMDAxKSwhMH1mdW5jdGlvbiB1ZyhlLHQscyl7c3dpdGNoKHQuZ2V0R2VvbWV0cnlUeXBlKCkpe2Nhc2Ugbi5lbnVtTGluZTpyZXR1cm4geGcoZSx0LHMpO2Nhc2Ugbi5lbnVtQmV6aWVyOnJldHVybiBFZyhlLHQscyk7Y2FzZSBuLmVudW1FbGxpcHRpY0FyYzpyZXR1cm4geWcoZSx0LHMpO2Nhc2Ugbi5lbnVtQmV6aWVyMjpyZXR1cm4gU2coKTtjYXNlIG4uZW51bVJhdGlvbmFsQmV6aWVyMjpyZXR1cm4gQ2coKTtkZWZhdWx0OmkoXCJcIil9fWZ1bmN0aW9uIGNnKGUsdCxzKXtpZighdC5oYXNOb25MaW5lYXJTZWdtZW50cygpKXJldHVybiBnZyhlLHQscyk7aWYodC5pc0VtcHR5KCkpcmV0dXJuITE7Y29uc3Qgbj10LmNyZWF0ZUluc3RhbmNlKCk7bi5yZXNlcnZlUGFydHModC5nZXRQb2ludENvdW50KCksdC5nZXRQYXRoQ291bnQoKSk7Y29uc3Qgcj10LmdldEltcGwoKSxpPW5ldyBGO2ZvcihsZXQgbz0wLGE9dC5nZXRQYXRoQ291bnQoKTtvPGE7KytvKXtsZXQgdD0hMCxhPS0xO2NvbnN0IGg9ci5nZXRQYXRoU3RhcnQobyksbT1oK3IuZ2V0U2VnbWVudENvdW50UGF0aChvKTtyLmlzQ2xvc2VkUGF0aChvKSYmKGE9bS0xKTtjb25zdCBsPW5ldyBRZTtmb3IobGV0IG89aDtvPG07KytvKXtpZihyLmdldFNlZ21lbnRCdWZmZXIobyxpLCExKSx1ZyhlLGkuZ2V0KCkscyksIXQpe2kuZ2V0KCkuZ2V0U3RhcnRYWSgpLmVxdWFscyhsKXx8aS5nZXQoKS5tb3ZlVG8obCl9aWYobyE9PWEpbi5hZGRTZWdtZW50KGkuZ2V0KCksdCk7ZWxzZXtpZih0KXtjb25zdCBlPW5ldyBmZTtpLmdldCgpLnF1ZXJ5U3RhcnQoZSksbi5zdGFydFBhdGhQb2ludChlKX1uLmNsb3NlTGFzdFBhdGhXaXRoU2VnbWVudChpLmdldCgpKX1sLmFzc2lnbihpLmdldCgpLmdldEVuZFhZKCkpLHQ9ITF9fXJldHVybiB0LmFzc2lnbk1vdmUobiksITB9ZnVuY3Rpb24gX2coZSx0LHMsbixyLGkpe2lmKGUuaXNJZGVudGl0eUdlb2dUb0dlb2coKSl7Y29uc3Qgcz05MCplLmdldElucHV0U1IoKS5nZXRPbmVEZWdyZWVHQ1NVbml0KCk7bGV0IHI9MDtjb25zdCBpPVswXTtmb3IobGV0IGU9MDtlPG47ZSsrKWlbMF09dFtlXS55LHJ8PUh0KGksLXMscyk/MTowLHRbZV0ueT1pWzBdO3JldHVybiByfWNvbnN0IG89ZS5nZXRJbnB1dFNSKCksYT1lLmdldE91dHB1dFNSKCksaD1vLmdldFZDUygpLG09YS5nZXRWQ1MoKSxsPW8uZ2V0T25lRGVncmVlR0NTVW5pdCgpLGc9OTAqbCx1PWEuZ2V0T25lRGVncmVlR0NTVW5pdCgpLGM9ZS5pc1ZlcnRpY2FsKCksXz1lLmdldERhdHVtVHJhbnNmb3JtYXRpb24oKSxkPSEhXyYmMT09PV8uZ2V0VHlwZSgpO2lmKGN8fChzPW51bGwpLCFffHwwPT09Xy5jb3VudCgpKXtsZXQgZT0wO2NvbnN0IHI9WzBdO2ZvcihsZXQgcz0wO3M8bjtzKyspclswXT10W3NdLnksZXw9SHQociwtZyxnKT8xOjAsdFtzXS55PXJbMF07cmV0dXJuIGV8PXFtKG8uZ2V0R0NTKCksaCxhLmdldEdDUygpLG0sdCxzLG4pPzE6MCxlfWR8fG51bGw9PT1zfHxsZygpO2NvbnN0IHA9MTAyNDtsZXQgZj1NYXRoLm1pbihuLHApO2NvbnN0IHg9S2UoZixOdW1iZXIuTmFOKSx5PUtlKGYsTnVtYmVyLk5hTik7bGV0IFA9MCxFPU51bWJlci5OYU4sUz1OdW1iZXIuTmFOO2NvbnN0IEM9MzYwKnUsST11L2w7ciYmKFM9OTAqdSxFPTg5LjkqbCk7bGV0IGI9ITAsdz0wLHY9bjtmb3IoO3Y7KXtsZXQgZT0hMTtmb3IobGV0IHM9MDtzPGY7cysrKXhbc109dFtzK1BdLng7aWYocilmb3IobGV0IHM9MDtzPGY7cysrKXtjb25zdCBuPU1hdGguYWJzKHRbcytQXS55KS1FO2lmKG4+MCl7Y29uc3Qgcj10W3MrUF0ueTt0W3MrUF0ueT14dChFLHIpLHlbc109eHQobixyKSxlPSEwfX1jb25zdCBuPXRbMF0ueDtpZihkKXtfLnRyYW5zZm9ybSghMSx0LHMsZil9ZWxzZXtfLnRyYW5zZm9ybSghMSx0LGYpfWImJih3PXRbMF0ueC1JKm4sYj0hMSk7Zm9yKGxldCBzPTA7czxmO3MrKyl7Y29uc3QgZT10W1Arc10ueC14W3NdKkktdztNYXRoLmFicyhlKT4yMDAmJihlPjA/dFtQK3NdLngtPUM6dFtQK3NdLngrPUMpfWlmKGUpe2ZvcihsZXQgZT0wO2U8ZjtlKyspeVtlXSYmKHRbUCtlXS55Kz1JKnlbZV0sdFtQK2VdLnk+Uz90W1ArZV0ueT1TOnRbUCtlXS55PC1TJiYodFtQK2VdLnk9LVMpKTt5LmZpbGwoMCwwLGYpfVArPWYsdi09ZixmPU1hdGgubWluKHYscCl9cmV0dXJuIDF9ZnVuY3Rpb24gZGcoZSx0LHMsbixyKXtyZXR1cm4gYSgwKSwwfWZ1bmN0aW9uIHBnKGUsdCxzLG4scil7YShudWxsPT09biksYSh0PDIxNDc0ODM2NDcpO2NvbnN0IGk9QXJyYXkuaXNBcnJheShzKTtsZXQgbztvPWk/VXQocyk6cztjb25zdCBoPXZjLmdlb2dUb0dlb2coZSx0LG8sbnVsbCxyKTtyZXR1cm4gaSYmcXQobyxzKSxofWZ1bmN0aW9uIGZnKGUsdCxzLG4scixpKXtsZXQgbz0wLGE9ITAsaD0wO2ZvcihsZXQgbT0wO208bjsrK20pdFttXS5pc05BTigpP2F8fChvfD1fZyhlLHQuc2xpY2UoaCxtLWgpLHM/cy5zbGljZShoLG0taCk6bnVsbCxtLWgsciksaD1tLGE9ITApOmEmJihoPW0sYT0hMSk7cmV0dXJuIGF8fChvfD1fZyhlLDA9PT1oP3Q6dC5zbGljZShoKSxzPzA9PT1oP3M6cy5zbGljZShoKTpudWxsLG4taCxyKSksMCE9PW99ZnVuY3Rpb24geGcoZSx0LHMpe2NvbnN0IG49W3QuZ2V0U3RhcnRYWSgpLHQuZ2V0RW5kWFkoKV0scj1bMCwwXTtsZXQgaT1udWxsO3QuaGFzQXR0cmlidXRlKDEpJiYoaT1yLGlbMF09dC5nZXRBdHRyaWJ1dGVBc0RibCgwLDEsMCksaVsxXT10LmdldEF0dHJpYnV0ZUFzRGJsKDEsMSwwKSk7Y29uc3Qgbz1mZyhlLG4saSwyLHMpO3JldHVybiB0LnNldFN0YXJ0WFkoblswXSksdC5zZXRFbmRYWShuWzFdKSxpJiYodC5zZXRTdGFydEF0dHJpYnV0ZSgxLDAsaVswXSksdC5zZXRFbmRBdHRyaWJ1dGUoMSwwLGlbMV0pKSx0Lm5vcm1hbGl6ZUFmdGVyRW5kcG9pbnRDaGFuZ2UoKSxvfWZ1bmN0aW9uIHlnKGUsdCxzKXtpZigwPT09dC5wcm9qZWN0aW9uQmVoYXZpb3IoKSlyZXR1cm4gUGcoZSx0LHMpO2NvbnN0IG49dC5nZXRTdGFydFhZKCkuZXF1YWxzKHQuZ2V0RW5kWFkoKSkscj1sdChRZSwzKSxpPWx0KFFlLDMpLG89WzAsMCwwXTtsZXQgYT1udWxsO3JbMF0uYXNzaWduKHQuZ2V0U3RhcnRYWSgpKSxyWzFdLmFzc2lnbihuP3QuZ2V0Q2VudGVyKCk6dC5nZXRFbmRYWSgpKTtsZXQgaD0hMTt0Lmhhc0F0dHJpYnV0ZSgxKSYmKGE9byxhWzBdPXQuZ2V0QXR0cmlidXRlQXNEYmwoMCwxLDApLGFbMV09dC5nZXRBdHRyaWJ1dGVBc0RibCgxLDEsMCksYVsyXT1mdChhWzBdLGFbMV0sLjUpLG4mJihhWzFdPWFbMl0pKSxpWzBdLnNldENvb3Jkc1BvaW50MkQoclswXSksaVsxXS5zZXRDb29yZHNQb2ludDJEKHJbMV0pO2NvbnN0IG09bmV3IGp0O2lmKG58fHQuaXNEZWdlbmVyYXRlVG9MaW5lKCkpaD1mZyhlLGksYSwyLHMpLG0uaW5pdGlhbGl6ZUZyb21Ud29Qb2ludHMoclswXSxyWzFdLGlbMF0saVsxXSk7ZWxzZXtjb25zdCBuPW5ldyBRZTt0LnF1ZXJ5Q29vcmQyRCguNSxuKSxyWzJdLnNldENvb3Jkc1BvaW50MkQobiksaVsyXS5zZXRDb29yZHNQb2ludDJEKG4pLGg9ZmcoZSxpLGEsMyxzKSxtLnNldEZyb21Ud29UcmlhbmdsZXMocixpKX1yZXR1cm4gbS5pc0lkZW50aXR5KCl8fCh0LmFwcGx5VHJhbnNmb3JtYXRpb24obSksdC5zZXRTdGFydFhZKGlbMF0pLHQuc2V0RW5kWFkobj9pWzBdOmlbMV0pLHQubm9ybWFsaXplQWZ0ZXJFbmRwb2ludENoYW5nZSgpKSxhJiYodC5zZXRTdGFydEF0dHJpYnV0ZSgxLDAsYVswXSksdC5zZXRFbmRBdHRyaWJ1dGUoMSwwLG4/YVswXTphWzFdKSksaH1mdW5jdGlvbiBQZyhlLHQscyl7Y29uc3Qgbj1bdC5nZXRTdGFydFhZKCksdC5nZXRFbmRYWSgpLHQuZ2V0SW50ZXJpb3JQb2ludCgpLHQuZ2V0Q2VudGVyKCldO2xldCByPTQ7dC5pc0RlZ2VuZXJhdGVUb0xpbmUoKSYmKHI9Mik7Y29uc3QgaT1bMCwwLDAsMF07bGV0IG89bnVsbDtpZih0Lmhhc0F0dHJpYnV0ZSgxKSl7bz1pLG9bMF09dC5nZXRBdHRyaWJ1dGVBc0RibCgwLDEsMCksb1sxXT10LmdldEF0dHJpYnV0ZUFzRGJsKDEsMSwwKTtjb25zdCBlPWZ0KG9bMF0sb1sxXSwuNSk7b1syXT1lLG9bM109ZX1jb25zdCBhPXQuZ2V0U3RhcnRYWSgpLmVxdWFscyh0LmdldEVuZFhZKCkpJiYhdC5pc0RlZ2VuZXJhdGVUb0xpbmUoKSxoPWZnKGUsbixvLHIscyk7cmV0dXJuIGE/dC5jb25zdHJ1Y3RDaXJjbGVDZW50ZXJBbmRQb2ludChuWzNdLG5bMF0sIXQuaXNDbG9ja3dpc2UoKSk6dC5pc0RlZ2VuZXJhdGVUb0xpbmUoKT90LmNvbnN0cnVjdExpbmVDaXJjdWxhckFyYyhuWzBdLG5bMV0pOnQuY29uc3RydWN0Q2lyY3VsYXJBcmNUaHJlZVBvaW50KG5bMF0sblsxXSxuWzJdKSxvJiYodC5zZXRTdGFydEF0dHJpYnV0ZSgxLDAsb1swXSksdC5zZXRFbmRBdHRyaWJ1dGUoMSwwLG9bMV0pKSxofWZ1bmN0aW9uIEVnKGUsdCxzKXtjb25zdCBuPWx0KFFlLDQpO3QucXVlcnlDb250cm9sUG9pbnRzKG4pO2NvbnN0IHI9WzAsMCwwLDBdO2xldCBpPW51bGw7dC5oYXNBdHRyaWJ1dGUoMSkmJihpPXIsaVswXT10LmdldEF0dHJpYnV0ZUFzRGJsKDAsMSwwKSxpWzNdPXQuZ2V0QXR0cmlidXRlQXNEYmwoMSwxLDApLGlbMV09ZnQoaVswXSxpWzNdLC41KSxpWzJdPWlbMV0pO2NvbnN0IG89ZmcoZSxuLGl8fG51bGwsbi5sZW5ndGgscyk7cmV0dXJuIHQuc2V0Q29udHJvbFBvaW50cyhuKSxpJiYodC5zZXRTdGFydEF0dHJpYnV0ZSgxLDAsaVswXSksdC5zZXRFbmRBdHRyaWJ1dGUoMSwwLGlbM10pKSx0Lm5vcm1hbGl6ZUFmdGVyRW5kcG9pbnRDaGFuZ2UoKSxvfWZ1bmN0aW9uIFNnKGUsdCxzKXtyZXR1cm4gYSgwKSwhMX1mdW5jdGlvbiBDZyhlLHQscyl7cmV0dXJuIGEoMCksITF9ZnVuY3Rpb24gSWcoZSx0LHMpe2NvbnN0IG49W3QuZ2V0U3RhcnRYWSgpLHQuZ2V0RW5kWFkoKV07V2woZSxuLDIscyksdC5zZXRTdGFydFhZKG5bMF0pLHQuc2V0RW5kWFkoblsxXSksdC5ub3JtYWxpemVBZnRlckVuZHBvaW50Q2hhbmdlKCl9ZnVuY3Rpb24gYmcoZSx0LHMsbil7V2woZSx0LHMsbil9ZnVuY3Rpb24gd2coZSx0LHMpe2lmKDA9PT10LnByb2plY3Rpb25CZWhhdmlvcigpKVRnKGUsdCxzKTtlbHNle2NvbnN0IG49dC5pc0Nsb3NlZCgpJiZ0LmlzTWFqb3IoKSxyPVt0LmdldFN0YXJ0WFkoKSxuP3QuZ2V0Q2VudGVyKCk6dC5nZXRFbmRYWSgpXSxpPVtyWzBdLmNsb25lKCksclsxXS5jbG9uZSgpXTtiZyhlLGksMixzKTtjb25zdCBvPW5ldyBqdDtvLmluaXRpYWxpemVGcm9tVHdvUG9pbnRzQXJyYXkocixpKSx0LmFwcGx5VHJhbnNmb3JtYXRpb24obyk7Y29uc3QgYT1uPzA6MTt0LnNldENvb3Jkc0ZvckludGVyc2VjdG9yKGlbMF0saVthXSwhMSl9fWZ1bmN0aW9uIHZnKHQscyxuLHIpe21nKHQscyxuLHIpO2NvbnN0IGk9bmV3IGU7aS5zZXRGcm9tUG9pbnRzKG4scik7Y29uc3Qgbz10LmdldE9uZURlZ3JlZUdDU1VuaXQoKSxhPTM2MCpvLGg9MTgwKm87aWYoaS53aWR0aCgpPmgpe2ZvcihsZXQgZT0wO2U8cjtlKyspZm9yKDtuW2VdLng8czspbltlXS54Kz1hO2lmKGkuc2V0RnJvbVBvaW50cyhuLHIpLGkueG1heD5oK3MpZm9yKGxldCBlPTA7ZTxyO2UrKyluW2VdLngtPWF9fWZ1bmN0aW9uIE5nKGUsdCxzLG4scil7Y29uc3QgaT1sdChRZSwzKTtsZXQgbz0wLGE9ITEsaD0hMTtjb25zdCBtPW4uaXNEZWdlbmVyYXRlVG9MaW5lKCk7bT8oaVswXS5hc3NpZ24obi5nZXRTdGFydFhZKCkpLGlbMV0uYXNzaWduKG4uZ2V0RW5kWFkoKSksaVsyXS5zZXRDb29yZHMoMCwwKSxvPTIpOm4uaXNDbG9zZWQoKSYmbi5pc01ham9yKCk/KGE9ITAsaD0hbi5pc0Nsb2Nrd2lzZSgpLGlbMF0uYXNzaWduKG4uZ2V0U3RhcnRYWSgpKSxpWzFdLmFzc2lnbihuLmdldENlbnRlcigpKSxpWzJdLnNldENvb3JkcygwLDApLG89Mik6KGlbMF0uYXNzaWduKG4uZ2V0U3RhcnRYWSgpKSxpWzFdLmFzc2lnbihuLmdldEVuZFhZKCkpLGlbMl0uYXNzaWduKG4uZ2V0SW50ZXJpb3JQb2ludCgpKSxvPTMpLGU/YmcodCxpLG8scik6dmcodCxzLGksbyksbT9uLmNvbnN0cnVjdExpbmVDaXJjdWxhckFyYyhpWzBdLGlbMV0pOmE/bi5jb25zdHJ1Y3RDaXJjbGVDZW50ZXJBbmRQb2ludChpWzFdLGlbMF0saCk6bi5jb25zdHJ1Y3RDaXJjdWxhckFyY1RocmVlUG9pbnQoaVswXSxpWzFdLGlbMl0pfWZ1bmN0aW9uIFRnKGUsdCxzKXtOZyghMCxlLDAsdCxzKX1mdW5jdGlvbiBHZyhlLHQscyl7Y29uc3Qgbj1sdChRZSw0KTt0LnF1ZXJ5Q29udHJvbFBvaW50cyhuKSxiZyhlLG4sNCxzKSx0LnNldENvbnRyb2xQb2ludHMobil9ZnVuY3Rpb24gRGcoZSx0LHMpe2EoMCl9ZnVuY3Rpb24gVmcoZSx0LHMpe2EoMCl9ZnVuY3Rpb24gRmcoZSx0LHMpe2NvbnN0IG49YWUoZSkscj1hZSh0KSxpPWllKG4sciksbz1pZShuLGFlKHMpKTtyZXR1cm4gMD09PW98fChpPjAmJm8+MCYmbzw9aXx8aTwwJiZvPDAmJm8+PWkpfWZ1bmN0aW9uIEhnKGUsdCxzLG4scil7Y29uc3QgaT17c3RhY2s6W10sZXJyb3I6dm9pZCAwLGhhc0Vycm9yOiExfTt0cnl7Y29uc3Qgbz1zLmNsb25lKCksaD1uLmNsb25lKCk7aWYoMj09PXIpe2NvbnN0IHM9WzAsMF07cmV0dXJuIERzKGUsdCxvLGgsMCxzKSxzWzBdfWlmKG8ueT5oLnkpe2NvbnN0IGU9bmV3IFFlO2UuYXNzaWduKG8pLG8uYXNzaWduKGgpLGguYXNzaWduKGUpfWNvbnN0IG09enQoaSxuZXcgQ2MsITEpLGw9enQoaSxuZXcgQ2MsITEpLGc9enQoaSxuZXcgQ2MsITEpLHU9bmV3IGF0O2lmKHUuc2V0Q29vcmRzKG8ueSxoLnkpLCF1LmNvbnRhaW5zQ29vcmRpbmF0ZSgwKXx8TWF0aC5hYnMoby54LWgueCk+PU1hdGguUEkpcmV0dXJuIE51bWJlci5OYU47aWYoby54PT09aC54KXJldHVybiBvLng7RGMuZ2VvZGV0aWNEaXN0YW5jZShlLHQsby54LG8ueSxoLngsaC55LGwsbSxudWxsLHIpO2NvbnN0IGM9bC52YWw7bGV0IF89MCxkPTE7Y29uc3QgcD1vLmNsb25lKCk7Zm9yKDtjKihkLV8pPjFlLTEyKmU7KXtjb25zdCBzPS41KihfK2QpO2lmKERjLmdlb2RldGljQ29vcmRpbmF0ZShlLHQsby54LG8ueSxjKnMsbS52YWwsbCxnLHIpLHAueD1sLnZhbCxwLnk9Zy52YWwsdS5zZXRDb29yZHMoby55LHAueSksMD09PXAueSlyZXR1cm4gcC54O2lmKHUuY29udGFpbnNDb29yZGluYXRlKDApKWQ9cztlbHNle2lmKHUuc2V0Q29vcmRzKGgueSxwLnkpLCF1LmNvbnRhaW5zQ29vcmRpbmF0ZSgwKSlyZXR1cm4gYSghMSksTnVtYmVyLk5hTjtfPXN9fXJldHVybiBwLnh9Y2F0Y2gobyl7aS5lcnJvcj1vLGkuaGFzRXJyb3I9ITB9ZmluYWxseXtXdChpKX19ZnVuY3Rpb24ga2coZSx0LHMsbil7Y29uc3Qgcj1uZXcgYXQ7ci5zZXRDb29yZHModCxzKTtjb25zdCBpPW4ud2lkdGgoKTtsZXQgbz1NYXRoLmZsb29yKChlLXQpL2kpKmkrZTtjb25zdCBhPXIuZ2V0Q2VudGVyKCk7Zm9yKDtNYXRoLmFicyhvLWEpPk1hdGguYWJzKG8raS1hKTspbys9aTtyZXR1cm4gb31jbGFzcyBBZyBleHRlbmRzIGVze2NvbnN0cnVjdG9yKCl7c3VwZXIoKSx0aGlzLm1fZ2VvbWV0cnlEZXF1ZT1bXSx0aGlzLm1faW5kZXg9LTF9bmV4dCgpe2lmKHRoaXMubV9nZW9tZXRyeURlcXVlLmxlbmd0aD4wKXt0aGlzLm1faW5kZXgrKztjb25zdCBlPXRoaXMubV9nZW9tZXRyeURlcXVlWzBdO3JldHVybiB0aGlzLm1fZ2VvbWV0cnlEZXF1ZS5zaGlmdCgpLGV9cmV0dXJuIG51bGx9Z2V0R2VvbWV0cnlJRCgpe3JldHVybiB0aGlzLm1faW5kZXh9dGljayhlKXt0aGlzLm1fZ2VvbWV0cnlEZXF1ZS5wdXNoKGUpfXRvY2soKXtyZXR1cm4hMH1nZXRSYW5rKCl7cmV0dXJuIDF9fWZ1bmN0aW9uIE1nKGUsdCl7cmV0dXJuIGU9PT10fHxudWxsIT09ZSYmbnVsbCE9PXQmJihlLm1fY3NUeXBlPT09dC5tX2NzVHlwZSYmKDA9PT1lLm1fV0tJRCYmMD09PXQubV9XS0lEP2UubV9oYXNoQ29kZT09PXQubV9oYXNoQ29kZSYmZS5tX2Nhbm9uaWNhbFdrdD09PXQubV9jYW5vbmljYWxXa3Q6ZS5tX1dLSUQ9PT10Lm1fV0tJRCkpfWZ1bmN0aW9uIFVnKGUsdCl7cmV0dXJuIGU9PT10fHxudWxsIT09ZSYmbnVsbCE9PXQmJihlLm1fY3NUeXBlPT09dC5tX2NzVHlwZSYmKDA9PT1lLm1fV0tJRCYmMD09PXQubV9XS0lEPzE9PT1lLm1fY3NUeXBlP2UubV9wZUNvb3JkU3lzLmlzRXF1YWwodC5tX3BlQ29vcmRTeXMpOmUubV9wZUNvb3JkU3lzPT09dC5tX3BlQ29vcmRTeXM6ZS5tX1dLSUQ9PT10Lm1fV0tJRCkpfWNsYXNzIHFne2NvbnN0cnVjdG9yKHMsbj0hMCl7dGhpcy5tX1BDU0hvcml6b249bnVsbCx0aGlzLm1fR0NTSG9yaXpvbj1udWxsLHRoaXMubV9HQ1NTcGxpdExpbmVzPW51bGwsdGhpcy5tX2JHQ1NIb3Jpc29uSXNJbmNsdXNpdmU9ITEsdGhpcy5tX29uZU1ldGVyUENTPTAsdGhpcy5tX29uZURlZ3JlZUdDUz0wLHRoaXMubV9nY3NVbml0RmFjdG9yPTAsdGhpcy5tX25vcnRoUG9sZT1RZS5nZXROQU4oKSx0aGlzLm1fc291dGhQb2xlPVFlLmdldE5BTigpLHRoaXMubV9wb2xlc1VwZGF0ZWQ9MCx0aGlzLm1fZG9tYWluPWUuY29uc3RydWN0RW1wdHkoKSx0aGlzLm1fcHJpbWVNZXJpZGlhbj1OdW1iZXIuTmFOLHRoaXMubV9nZW9nVG9Qcm9qRmFjdG9yPTEsdGhpcy5tX2dlb2dUb1Byb2pPZmZzZXQ9MCx0aGlzLm1fZ2VvZ1RvUHJvakZhY3RvcnNVcGRhdGVkPTAsdGhpcy5tX29uZU1pbGxpbWV0ZXI9MCx0aGlzLm1fY2VudHJhbE1lcmlkaWFuPTAsdGhpcy5tX3BQQ1NJbmZvTm9Eb21haW49bnVsbCx0aGlzLm1fb2xkV0tJRD0tMTk3Myx0aGlzLm1fdmNzV0tJRD0tMSx0aGlzLm1fYklzUGFubmFibGU9ITEsdGhpcy5tX2JDYWNoZWQ9ITEsdGhpcy5tX3Bhbm5hYmxlRXh0ZW50PWUuY29uc3RydWN0RW1wdHkoKSx0aGlzLm1fcGFubmFibGVFeHRlbnRHQ1M9ZS5jb25zdHJ1Y3RFbXB0eSgpLHRoaXMubV9hcmVhT2ZVc2U9bnVsbCx0aGlzLm1fY2Fub25pY2FsV2t0PVwiXCIsdGhpcy5tX3BlQ29vcmRTeXM9cyx0aGlzLm1fV0tJRD1JYy5nZXRDb2RlKHMpLHRoaXMubV9XS0lEPD0wPyh0aGlzLm1fV0tJRD0wLHRoaXMubV9jYW5vbmljYWxXa3Q9X2wocywwLCEwKSx0aGlzLm1faGFzaENvZGU9Y3QodGhpcy5tX2Nhbm9uaWNhbFdrdCkpOnRoaXMubV9oYXNoQ29kZT1fdCh0aGlzLm1fV0tJRCk7Y29uc3Qgcj10aGlzLm1fcGVDb29yZFN5cy5nZXRUeXBlKCk7dGhpcy5tX2NzVHlwZT1yPT09YmMuUEVfVFlQRV9QUk9KQ1M/MjoxLGEocj09PWJjLlBFX1RZUEVfUFJPSkNTfHxyPT09YmMuUEVfVFlQRV9HRU9HQ1MpLHI9PT1iYy5QRV9UWVBFX1BST0pDUyYmKHMubG9hZENvbnN0YW50cygpfHx0KFwiUGVQcm9qY3MubG9hZENvbnN0YW50cyBmYWlsZWRcIikpO2NvbnN0IG89cj09PWJjLlBFX1RZUEVfR0VPR0NTP3RoaXMubV9wZUNvb3JkU3lzOnRoaXMubV9wZUNvb3JkU3lzLmdldEdlb2djcygpO3IhPT1iYy5QRV9UWVBFX0dFT0dDUyYmSWMuZ2V0Q29kZShvKSx0aGlzLm1fdW5pdD1tcyhzKSx0aGlzLm1fcHJpbWVNZXJpZGlhbj1vLmdldFByaW1lbSgpLmdldExvbmdpdHVkZSgpO3tjb25zdCBlPW8uZ2V0VW5pdCgpLmdldFVuaXRGYWN0b3IoKTt0aGlzLm1fZ2NzVW5pdEZhY3Rvcj1lO2xldCB0PU1hdGguUEkvKDE4MCplKTtNYXRoLmFicyh0LTEpPDFlLTEwJiYodD0xKSx0aGlzLm1fb25lRGVncmVlR0NTPXR9aWYocj09PWJjLlBFX1RZUEVfUFJPSkNTKXtjb25zdCBlPXRoaXMubV9wZUNvb3JkU3lzLHQ9ZS5nZXRVbml0KCkuZ2V0VW5pdEZhY3RvcigpO3RoaXMubV9vbmVNZXRlclBDUz0xL3QsdGhpcy5tX29uZU1pbGxpbWV0ZXI9LjAwMS90LHRoaXMubV9wUENTSW5mb05vRG9tYWluPU5jLmdlbmVyYXRlKGUsTmMuUEVfUENTSU5GT19PUFRJT05fTk9ORSksdGhpcy5tX3BQQ1NJbmZvTm9Eb21haW58fGkoXCJjYW5ub3QgY3JlYXRlIHBjcyBpbmZvXCIpLHRoaXMubV9iSXNQYW5uYWJsZT10aGlzLm1fcFBDU0luZm9Ob0RvbWFpbi5pc1Bhbm5hYmxlUmVjdGFuZ2xlKCksdGhpcy5tX2NlbnRyYWxNZXJpZGlhbj10aGlzLm1fcFBDU0luZm9Ob0RvbWFpbi5nZXRDZW50cmFsTWVyaWRpYW4oKX1lbHNle3RoaXMubV9iSXNQYW5uYWJsZT0hMCx0aGlzLm1fcG9sZXNVcGRhdGVkPTEsdGhpcy5tX29uZU1ldGVyUENTPTA7Y29uc3QgZT0xL28uZ2V0VW5pdCgpLmdldFVuaXRGYWN0b3IoKSx0PW8uZ2V0RGF0dW0oKS5nZXRTcGhlcm9pZCgpLmdldEF4aXMoKTt0aGlzLm1fb25lTWlsbGltZXRlcj0uMDAxL3QqZSx0aGlzLm1fY2VudHJhbE1lcmlkaWFuPTB9dGhpcy5tX2JJc1Bhbm5hYmxlJiYodGhpcy51cGRhdGVHQ1NIb3Jpem9uKCksdGhpcy51cGRhdGVQQ1NIb3Jpem9uKCksdGhpcy51cGRhdGVQb2xlcygpLHRoaXMudXBkYXRlRG9tYWluKCksdGhpcy51cGRhdGVQYW5uYWJsZUV4dGVudCgpLHRoaXMudXBkYXRlUGFubmFibGVFeHRlbnRHQ1MoKSl9W1N5bWJvbC5kaXNwb3NlXSgpe31nZXRIYXNoQ29kZSgpe3JldHVybiB0aGlzLm1faGFzaENvZGV9Z2V0UENTSG9yaXpvblBhbm5hYmxlKCl7cmV0dXJuIHRoaXMubV9QQ1NIb3Jpem9ufWdldEdDU0hvcml6b25QYW5uYWJsZSgpe3JldHVybiB0aGlzLm1fR0NTSG9yaXpvbn1nZXRQQ1NJbmZvKCl7cmV0dXJuIGEodGhpcy5tX3BQQ1NJbmZvTm9Eb21haW4pLHRoaXMubV9wUENTSW5mb05vRG9tYWlufWdldENlbnRyYWxNZXJpZGlhbigpe3JldHVybiB0aGlzLm1fY2VudHJhbE1lcmlkaWFufXVwZGF0ZUdDU0hvcml6b24oKXtpZih0aGlzLm1fcGVDb29yZFN5cy5nZXRUeXBlKCkhPT1iYy5QRV9UWVBFX1BST0pDUylyZXR1cm47bGV0IHQ9ITA7Y29uc3Qgcz10aGlzLm1fcGVDb29yZFN5cyxuPXMuZ2V0R2VvZ2NzKCkscj1zLmhvcml6b25HY3NHZW5lcmF0ZSgpO2lmKCFyKXJldHVybjthKHIubGVuZ3RoPjApO2NvbnN0IGk9clswXS5nZXROdW1wKCksbz1yWzBdLmdldEtpbmQoKTtsZXQgaCxtO3Q9clswXS5nZXRJbmNsdXNpdmUoKT4wO2NvbnN0IGw9dGhpcy5nZXRPbmVEZWdyZWVHQ1NVbml0KCksZz05MCpsLHU9MzYwKmwsYz0zNzAqbCxfPTE4MCpsKmJjLlBFX0hPUklaT05fREVMVEEvTWF0aC5QSSxkPWUuY29uc3RydWN0RW1wdHkoKTtsZXQgcD1udWxsO2lmKGk+MSlmb3IobGV0IGU9MTtlPGk7ZSsrKWlmKHJbZV0uZ2V0S2luZCgpPT09YmMuUEVfSE9SSVpPTl9MSU5FKXtwfHwocD1uZXcgSSk7Y29uc3QgdD1yW2VdLmdldENvb3JkKCk7cC5zdGFydFBhdGhDb29yZHModFswXVswXSx0WzBdWzFdKSxwLmxpbmVUb0Nvb3Jkcyh0WzFdWzBdLHRbMV1bMV0pfWlmKG89PT1iYy5QRV9IT1JJWk9OX1JFQ1Qpe2NvbnN0IGU9clswXS5nZXRDb29yZCgpO2lmKGQuc2V0RnJvbVBvaW50cyhbbmV3IFFlKGVbMF1bMF0sZVswXVsxXSksbmV3IFFlKGVbMV1bMF0sZVsxXVsxXSldLDIpLE1hdGguYWJzKGQueW1heC1nKTwxZS03Kl8mJihkLnltYXg9ZyksTWF0aC5hYnMoZC55bWluK2cpPDFlLTcqXyYmKGQueW1pbj0tZyksZC53aWR0aCgpPmMpe2NvbnN0IGU9LTQwMCpsLHQ9ZSs1KnU7ZC5zZXRDb29yZHMoe3htaW46ZSx5bWluOmQueW1pbix4bWF4OnQseW1heDpkLnltYXh9KX1jb25zdCBzPW5ldyBwZSh7ZW52MkQ6ZH0pO3RoaXMubV9HQ1NIb3Jpem9ufHwodGhpcy5tX0dDU0hvcml6b249cyx0aGlzLm1fYkdDU0hvcmlzb25Jc0luY2x1c2l2ZT10KX1lbHNle2xldCBzPXRoaXMuZ2V0UENTSW5mbygpLmlzR2NzSG9yaXpvbk11bHRpT3ZlcmxhcCgpO2NvbnN0IG89UnUobixudWxsLG51bGwsMSksYz1bXSxfPW5ldyBhdDtmb3IobGV0IHQ9MDt0PGk7dCsrKXtpZihyW3RdLmdldEtpbmQoKSE9PWJjLlBFX0hPUklaT05fUE9MWSljb250aW51ZTtoPXJbdF0uZ2V0U2l6ZSgpO2NvbnN0IHM9clt0XS5nZXRDb29yZCgpLG49ZS5jb25zdHJ1Y3RFbXB0eSgpO24uc2V0RnJvbVBvaW50cyhkdChzKSxoKSxjLnB1c2gobmV3IGF0KG4ueG1pbixuLnhtYXgpKSxuLndpZHRoKCksXy5tZXJnZShjLmF0KC0xKSl9bGV0IGQ9ITE7Y29uc3QgZj1uZXcgYXQ7Xy53aWR0aCgpPnUmJmMubGVuZ3RoPjE/KGYudm1pbj10aGlzLmdldENlbnRyYWxNZXJpZGlhbigpLXUsZi52bWF4PWYudm1pbisyKnUsZD0hMCxzPSEwKTooZi52bWluPV8udm1pbixmLnZtYXg9Zi52bWluK3UpO2NvbnN0IHg9ZT0+e2xldCB0PTA7Zm9yKDtjW2VdLnZtaW4rdDxmLnZtaW47KXQrPXU7Zm9yKDtjW2VdLnZtYXgrdC11PmYudm1pbjspdC09dTtyZXR1cm4gdH07bGV0IHk9bmV3IHY7aWYocyl7Y29uc3QgZT1uZXcgQWcsdD0obmV3IGFsKS5leGVjdXRlTWFueShlLG8sbnVsbCk7Zm9yKGxldCBzPTA7czxpO3MrKyl7aWYocltzXS5nZXRLaW5kKCkhPT1iYy5QRV9IT1JJWk9OX1BPTFkpY29udGludWU7aD1yW3NdLmdldFNpemUoKTtjb25zdCBuPXJbc10uZ2V0Q29vcmQoKTttPXJbc10uZ2V0SW5jbHVzaXZlKCk+MDtjb25zdCBpPW5ldyB2O2lmKGkuYWRkUGF0aFBvaW50MkQoZHQobiksaC0xLCEwKSxkKXtjb25zdCB0PXgocyksbj1jW3NdLmNsb25lKCk7bi5tb3ZlKHQpO2xldCByPXQ7Y29uc3Qgbz1uZXcganQ7ZG97by5zZXRTaGlmdENvb3JkcyhyLDApO2NvbnN0IHQ9aS5jbG9uZSgpO3QuYXBwbHlUcmFuc2Zvcm1hdGlvbihvKSxlLnRpY2sodCksZS50b2NrKCkscis9dSxuLm1vdmUodSl9d2hpbGUobi52bWluPGYudm1heCl9ZWxzZSBlLnRpY2soaSksdC50b2NrKCl9eT10Lm5leHQoKX1lbHNle3k9bmV3IHY7Zm9yKGxldCBlPTA7ZTxpO2UrKyl7aWYocltlXS5nZXRLaW5kKCkhPT1iYy5QRV9IT1JJWk9OX1BPTFkpY29udGludWU7aD1yW2VdLmdldFNpemUoKTtjb25zdCBzPXJbZV0uZ2V0Q29vcmQoKTtpZihtPXJbZV0uZ2V0SW5jbHVzaXZlKCk+MCxhKG09PT10KSxkKXtjb25zdCB0PW5ldyB2O3QuYWRkUGF0aFBvaW50MkQoZHQocyksaC0xLCEwKTtjb25zdCBuPXgoZSkscj1jW2VdLmNsb25lKCk7ci5tb3ZlKG4pO2xldCBpPW47Y29uc3Qgbz1uZXcganQ7ZG97aWYoMCE9PWkpe28uc2V0U2hpZnRDb29yZHMoaSwwKTtjb25zdCBlPW5ldyB2KHtjb3B5OnR9KTtlLmFwcGx5VHJhbnNmb3JtYXRpb24obykseS5hZGRQYXRoKGUsMCwhMCl9ZWxzZSB5LmFkZFBhdGgodCwwLCEwKTtpKz11LHIubW92ZSh1KX13aGlsZShyLnZtaW48Zi52bWF4KX1lbHNlIHkuYWRkUGF0aFBvaW50MkQoZHQocyksaC0xLCEwKX19ZCYmKHk9KG5ldyBLdCkuZXhlY3V0ZSh5LG5ldyBlKGYudm1pbiwtZy1sLGYudm1heCxnK2wpLG8sbnVsbCkpLHQ/KG5ldyB3aCkuYWNjZWxlcmF0ZUdlb21ldHJ5KHksbywxKToobmV3IEttKS5hY2NlbGVyYXRlR2VvbWV0cnkoeSxvLDEpLChuZXcgdWwpLmFjY2VsZXJhdGVHZW9tZXRyeSh5LG8sMSksbnVsbD09PXRoaXMubV9HQ1NIb3Jpem9uJiYodGhpcy5tX0dDU0hvcml6b249eSx0aGlzLm1fYkdDU0hvcmlzb25Jc0luY2x1c2l2ZT10LHRoaXMubV9HQ1NTcGxpdExpbmVzPXApfX11cGRhdGVBcmVhT2ZVc2UoKXtyZXR1cm4gbnVsbH11cGRhdGVQQ1NIb3Jpem9uKCl7aWYodGhpcy5tX3BlQ29vcmRTeXMuZ2V0VHlwZSgpIT09YmMuUEVfVFlQRV9QUk9KQ1MpcmV0dXJuO2NvbnN0IHQ9dGhpcy5tX3BlQ29vcmRTeXMuaG9yaXpvblBjc0dlbmVyYXRlKCk7aWYoIXQpcmV0dXJuO2xldCBzO3RoaXMuZ2V0UENTSW5mbygpO2NvbnN0IG49dFswXS5nZXRLaW5kKCk7dFswXS5nZXRJbmNsdXNpdmUoKTtjb25zdCByPWUuY29uc3RydWN0RW1wdHkoKSxpPXRbMF0uZ2V0TnVtcCgpO2xldCBvPSExO2lmKG49PT1iYy5QRV9IT1JJWk9OX1JFQ1Qpe2NvbnN0IGU9dFswXS5nZXRDb29yZCgpO3Iuc2V0RnJvbVBvaW50cyhkdChlKSwyKSxzPW5ldyBwZSh7ZW52MkQ6cn0pfWVsc2V7bGV0IGU9LTE7Zm9yKGxldCBzPTA7czxpO3MrKyl0W3NdLmdldEtpbmQoKT09PWJjLlBFX0hPUklaT05fUE9MWSYmKGU9cyk7YShlPj0wKTtjb25zdCBuPXRbZV0uZ2V0U2l6ZSgpLTEscj10W2VdLmdldENvb3JkKCksaD1uZXcgdjtzPWgsaC5hZGRQYXRoUG9pbnQyRChkdChyKSxuLCEwKSxvPSEwfWlmKHRoaXMuZ2V0UENTSW5mbygpLmlzRGVuc2lmaWNhdGlvbk5lZWRlZCgpKXthKG4hPT1iYy5QRV9IT1JJWk9OX1JFQ1QpO2NvbnN0IGU9MWU1KnRoaXMuZ2V0T25lTWV0ZXJQQ1NVbml0KCk7cz0obmV3IEp0KS5leGVjdXRlKHMsZSwwLDAsbnVsbCl9aWYobyl7e2NvbnN0IGU9bmV3IHBlO3MucXVlcnlFbnZlbG9wZShlKSxzLmNhbGN1bGF0ZUFyZWEyRCgpLHMuY2FsY3VsYXRlTGVuZ3RoMkQoKSxzLmdldEV4dGVyaW9yUmluZ0NvdW50KCl9KG5ldyB3aCkuYWNjZWxlcmF0ZUdlb21ldHJ5KHMsbnVsbCwxKX1udWxsPT09dGhpcy5tX1BDU0hvcml6b24mJih0aGlzLm1fUENTSG9yaXpvbj1zKX11cGRhdGVQYW5uYWJsZUV4dGVudCgpe2NvbnN0IHQ9dGhpcy5tX3BlQ29vcmRTeXMuZ2V0VHlwZSgpO2lmKHQ9PT1iYy5QRV9UWVBFX1BST0pDUyl7Y29uc3QgdD10aGlzLm1fcGVDb29yZFN5cyxzPXRoaXMuZ2V0UENTSW5mbygpLmdldENlbnRyYWxNZXJpZGlhbigpLG49dC5nZXRHZW9nY3MoKTtufHxpKFwiXCIpO2NvbnN0IHI9W3MrMS9uLmdldFVuaXQoKS5nZXRVbml0RmFjdG9yKCkqTWF0aC5QSSwwXTt3Yy5nZW9nVG9Qcm9qKHQsMSxyKTtjb25zdCBvPXJbMF0sYT10LmdldFBhcmFtZXRlcnMoKVtiYy5QRV9QQVJNX1gwXS5nZXRWYWx1ZSgpLGg9dGhpcy5nZXRQQ1NIb3Jpem9uKCksbT1lLmNvbnN0cnVjdEVtcHR5KCk7aC5xdWVyeUVudmVsb3BlKG0pO2NvbnN0IGw9TWF0aC5hYnMoby1hKSxnPWwrYSx1PS0xKmwrYSxjPW0ueW1heCxfPW0ueW1pbjt0aGlzLm1fcGFubmFibGVFeHRlbnQuc2V0Q29vcmRzKHt4bWluOnUseW1pbjpfLHhtYXg6Zyx5bWF4OmN9KX1lbHNlIGlmKHQ9PT1iYy5QRV9UWVBFX0dFT0dDUyl7Y29uc3QgZT0xL3RoaXMubV9wZUNvb3JkU3lzLmdldFVuaXQoKS5nZXRVbml0RmFjdG9yKCkqTWF0aC5QSTt0aGlzLm1fcGFubmFibGVFeHRlbnQuc2V0Q29vcmRzKHt4bWluOi1lLHltaW46LWUvMix4bWF4OmUseW1heDplLzJ9KX1lbHNlIGkoXCJcIil9dXBkYXRlUGFubmFibGVFeHRlbnRHQ1MoKXtjb25zdCB0PXRoaXMubV9wZUNvb3JkU3lzLmdldFR5cGUoKTtpZih0PT09YmMuUEVfVFlQRV9QUk9KQ1Mpe2NvbnN0IHQ9dGhpcy5tX3BlQ29vcmRTeXMscz10aGlzLm1fY2VudHJhbE1lcmlkaWFuLG49dC5nZXRHZW9nY3MoKTtufHxpKFwiXCIpO2NvbnN0IHI9MS9uLmdldFVuaXQoKS5nZXRVbml0RmFjdG9yKCkqTWF0aC5QSSxvPXRoaXMuZ2V0R0NTSG9yaXpvbigpLGE9ZS5jb25zdHJ1Y3RFbXB0eSgpO28ucXVlcnlFbnZlbG9wZShhKSx0aGlzLm1fcGFubmFibGVFeHRlbnRHQ1Muc2V0Q29vcmRzKHt4bWluOnMtcix5bWluOmEueW1pbix4bWF4OnMrcix5bWF4OmEueW1heH0pfWVsc2UgaWYodD09PWJjLlBFX1RZUEVfR0VPR0NTKXtjb25zdCBlPTEvdGhpcy5tX3BlQ29vcmRTeXMuZ2V0VW5pdCgpLmdldFVuaXRGYWN0b3IoKSpNYXRoLlBJO3RoaXMubV9wYW5uYWJsZUV4dGVudEdDUy5zZXRDb29yZHMoe3htaW46LWUseW1pbjotZS8yLHhtYXg6ZSx5bWF4OmUvMn0pfWVsc2UgaShcIlwiKX11cGRhdGVEb21haW4oKXtpZigxPT09dGhpcy5tX2NzVHlwZSl7Y29uc3QgdD00MDAqdGhpcy5nZXRPbmVEZWdyZWVHQ1NVbml0KCk7dGhpcy5tX2RvbWFpbj1lLmNvbnN0cnVjdCgtdCwtdCx0LHQpfWVsc2V7YSgyPT09dGhpcy5tX2NzVHlwZSk7Y29uc3QgdD1OYy5nZW5lcmF0ZSh0aGlzLm1fcGVDb29yZFN5cyxOYy5QRV9QQ1NJTkZPX09QVElPTl9ET01BSU4pO3R8fGkoXCJnZW5lcmF0ZSBwY3MgaW5mbyBmYWlsZWRcIik7Y29uc3Qgcz1uZXcgZSh0LmdldERvbWFpbk1pbngoKSx0LmdldERvbWFpbk1pbnkoKSx0LmdldERvbWFpbk1heHgoKSx0LmdldERvbWFpbk1heHkoKSk7dGhpcy5tX2RvbWFpbi5pc0VtcHR5KCkmJnRoaXMubV9kb21haW4uc2V0Q29vcmRzKHtlbnYyRDpzfSl9fXVwZGF0ZVBvbGVzKCl7aWYodGhpcy5tX3BlQ29vcmRTeXMuZ2V0VHlwZSgpPT09YmMuUEVfVFlQRV9QUk9KQ1Mpe2NvbnN0IGU9OTAqdGhpcy5nZXRPbmVEZWdyZWVHQ1NVbml0KCksdD1bWzAsZV0sWzAsLWVdXTt3Yy5nZW9nVG9Qcm9qKHRoaXMubV9wZUNvb3JkU3lzLDIsdCk7Y29uc3Qgcz10aGlzLmdldFBDU0luZm8oKS5nZXROb3J0aFBvbGVMb2NhdGlvbigpIT09TmMuUEVfUE9MRV9PVVRTSURFX0JPVU5EQVJZLG49dGhpcy5nZXRQQ1NJbmZvKCkuZ2V0U291dGhQb2xlTG9jYXRpb24oKSE9PU5jLlBFX1BPTEVfT1VUU0lERV9CT1VOREFSWTt0aGlzLm1fcG9sZXNVcGRhdGVkfHwocyYmdGhpcy5tX25vcnRoUG9sZS5zZXRDb29yZHModFswXVswXSx0WzBdWzFdKSxuJiZ0aGlzLm1fc291dGhQb2xlLnNldENvb3Jkcyh0WzFdWzBdLHRbMV1bMV0pLHRoaXMubV9wb2xlc1VwZGF0ZWQ9MSl9ZWxzZSB0aGlzLm1fcG9sZXNVcGRhdGVkPTF9dXBkYXRlR2VvZ1RvUHJvakZhY3RvcnMoKXtpZih0aGlzLm1fcGVDb29yZFN5cy5nZXRUeXBlKCk9PT1iYy5QRV9UWVBFX1BST0pDUyl7Y29uc3QgZT10aGlzLmdldE9uZURlZ3JlZUdDU1VuaXQoKSx0PXRoaXMubV9wUENTSW5mb05vRG9tYWluLmdldENlbnRyYWxNZXJpZGlhbigpLHM9WzAsMCwwLDBdO3NbMF09dCxzWzFdPTAsc1syXT10K2Usc1szXT0wO2NvbnN0IG49d2MuZ2VvZ1RvUHJvaih0aGlzLm1fcGVDb29yZFN5cywyLHMpO2EoMj09PW4pO2NvbnN0IHI9KHNbMl0tc1swXSkvZSxpPXNbMF07MD09PXRoaXMubV9nZW9nVG9Qcm9qRmFjdG9yc1VwZGF0ZWQmJih0aGlzLm1fZ2VvZ1RvUHJvakZhY3Rvcj1yLHRoaXMubV9nZW9nVG9Qcm9qT2Zmc2V0PWksdGhpcy5tX2dlb2dUb1Byb2pGYWN0b3JzVXBkYXRlZD0xKX1lbHNlIHRoaXMubV9nZW9nVG9Qcm9qRmFjdG9yc1VwZGF0ZWQ9MX1nZXRPbmVNZXRlclBDU1VuaXQoKXtyZXR1cm4gdGhpcy5tX29uZU1ldGVyUENTfWdldE9uZURlZ3JlZUdDU1VuaXQoKXtyZXR1cm4gdGhpcy5tX29uZURlZ3JlZUdDU31nZXRHY3NVbml0RmFjdG9yKCl7cmV0dXJuIHRoaXMubV9nY3NVbml0RmFjdG9yfWdldFVuaXRzUGVyTWlsbGltZXRlcigpe3JldHVybiB0aGlzLm1fb25lTWlsbGltZXRlcn1nZXRHQ1NTcGxpdExpbmVzKCl7cmV0dXJuIHRoaXMubV9iSXNQYW5uYWJsZT9udWxsOih0aGlzLm1fR0NTSG9yaXpvbnx8dGhpcy51cGRhdGVHQ1NIb3Jpem9uKCksdGhpcy5tX0dDU1NwbGl0TGluZXMpfWdldEdDU0hvcml6b24oKXtyZXR1cm4gdGhpcy5tX2JJc1Bhbm5hYmxlP3RoaXMuZ2V0R0NTSG9yaXpvblBhbm5hYmxlKCk6KG51bGwhPT10aGlzLm1fR0NTSG9yaXpvbnx8dGhpcy51cGRhdGVHQ1NIb3Jpem9uKCksdGhpcy5tX0dDU0hvcml6b24pfWdldEdDU0hvcmlzb25Jc0luY2x1c2l2ZSgpe3JldHVybiB0aGlzLm1fYklzUGFubmFibGV8fHRoaXMuZ2V0R0NTSG9yaXpvbigpLHRoaXMubV9iR0NTSG9yaXNvbklzSW5jbHVzaXZlfWdldFBDU0hvcml6b24oKXtyZXR1cm4gdGhpcy5tX2JJc1Bhbm5hYmxlP3RoaXMuZ2V0UENTSG9yaXpvblBhbm5hYmxlKCk6KG51bGwhPT10aGlzLm1fUENTSG9yaXpvbnx8dGhpcy51cGRhdGVQQ1NIb3Jpem9uKCksdGhpcy5tX1BDU0hvcml6b24pfWdldFBvbGUoZSl7cmV0dXJuIHRoaXMubV9iSXNQYW5uYWJsZXx8MCE9PXRoaXMubV9wb2xlc1VwZGF0ZWR8fHRoaXMudXBkYXRlUG9sZXMoKSxlP3RoaXMubV9zb3V0aFBvbGU6dGhpcy5tX25vcnRoUG9sZX1nZXRHZW9nVG9Qcm9qRmFjdG9ycygpe3JldHVybiAwPT09dGhpcy5tX2dlb2dUb1Byb2pGYWN0b3JzVXBkYXRlZCYmdGhpcy51cGRhdGVHZW9nVG9Qcm9qRmFjdG9ycygpLG10KHRoaXMubV9nZW9nVG9Qcm9qRmFjdG9yLHRoaXMubV9nZW9nVG9Qcm9qT2Zmc2V0KX1nZXREb21haW5YWSgpe2lmKHRoaXMubV9iSXNQYW5uYWJsZSlyZXR1cm4gdGhpcy5tX2RvbWFpbi5jbG9uZSgpO2xldCBlPSExO3JldHVybiBlPXRoaXMubV9kb21haW4uaXNFbXB0eSgpLGUmJnRoaXMudXBkYXRlRG9tYWluKCksdGhpcy5tX2RvbWFpbi5jbG9uZSgpfWdldFByaW1lTWVyaWRpYW4oKXtyZXR1cm4gdGhpcy5tX3ByaW1lTWVyaWRpYW59Z2V0TGF0ZXN0SUQoKXtyZXR1cm4gdGhpcy5tX1dLSUR9Z2V0T2xkSUQoKXtsZXQgZT10aGlzLm1fb2xkV0tJRDtpZihlPDApe2lmKGU9MCx0aGlzLm1fV0tJRD4wKXtjb25zdCB0PVswXSxzPVswXTtxYyh0aGlzLm1fcGVDb29yZFN5cy5nZXRUeXBlKCksdGhpcy5tX1dLSUQsdCxzKXx8aShcInF1ZXJ5X2NvZGVfY2hhbmdlXCIpLGU9dFswXX10aGlzLm1fb2xkV0tJRD1lfXJldHVybiBlfWlzQ3VzdG9tV2tpZCgpe3JldHVybiExfWlzUGFubmFibGUoKXtyZXR1cm4gdGhpcy5tX2JJc1Bhbm5hYmxlfWdldFBhbm5hYmxlRXh0ZW50KCl7cmV0dXJuIHRoaXMubV9wYW5uYWJsZUV4dGVudC5jbG9uZSgpfWdldFBhbm5hYmxlRXh0ZW50R0NTKCl7cmV0dXJuIHRoaXMubV9wYW5uYWJsZUV4dGVudEdDUy5jbG9uZSgpfWdldEFyZWFPZlVzZSgpe3JldHVybiBudWxsIT09dGhpcy5tX2FyZWFPZlVzZT90aGlzLm1fYXJlYU9mVXNlOnRoaXMudXBkYXRlQXJlYU9mVXNlKCl9Z2V0VmNzQ29kZSgpe3JldHVybiAwfXNhdmVNZW1vcnkoKXt9Z2V0Q1NUeXBlKCl7cmV0dXJuIHRoaXMubV9jc1R5cGV9Z2V0VW5pdCgpe3JldHVybiB0aGlzLm1fdW5pdH1zZXRDYWNoZWQoKXt0aGlzLm1fYkNhY2hlZD0hMH1nZXRDYWNoZWQoKXtyZXR1cm4gdGhpcy5tX2JDYWNoZWR9c3RhdGljIGVxdWFsKGUsdCl7cmV0dXJuITF9c3RhdGljIGVxdWFsX2Zvcl9wcm9qZWN0aW9uKGUsdCl7cmV0dXJuITF9fWNsYXNzIEJne2NvbnN0cnVjdG9yKGUsdD0hMCl7dGhpcy5tX29uZU1ldGVyPTAsdGhpcy5tX1dLSUQ9LTEsdGhpcy5tX29sZFdLSUQ9LTEsdGhpcy5tX2Nhbm9uaWNhbFdrdD1cIm5vdCB5ZXQgaW1wbGVtZW50ZWRcIix0aGlzLm1fbW9kZWw9MCx0aGlzLm1fdW5pdD1uZXcgYnUsdGhpcy5tX2NhY2hlZD0hMX1zZXRDYWNoZWQoZT0hMCl7dGhpcy5tX2NhY2hlZD1lfWdldENhY2hlZCgpe3JldHVybiB0aGlzLm1fY2FjaGVkfWdldE9uZU1ldGVyVW5pdCgpe3JldHVybiAwfWdldExhdGVzdElEKCl7cmV0dXJuIHRoaXMubV9XS0lEfWdldE9sZElEKCl7bGV0IGU9dGhpcy5tX29sZFdLSUQ7cmV0dXJuIGU8MCYmKGU9MCx0aGlzLm1fV0tJRD4wJiYoZT10aGlzLm1fV0tJRCksdGhpcy5tX29sZFdLSUQ9ZSksZX1nZXRNb2RlbCgpe3JldHVybiAwfWlzQ3VzdG9tV2tpZCgpe3JldHVybiExfWdldFZlcnRpY2FsVW5pdCgpe3JldHVybiB0aGlzLm1fdW5pdH1zdGF0aWMgZXF1YWwoZSx0KXtyZXR1cm4hMX1zdGF0aWMgZXF1YWxfZm9yX3Byb2plY3Rpb24oZSx0KXtyZXR1cm4hMX19ZnVuY3Rpb24gT2codCxzLG4pe3JldHVybiBZZyh0LHMsZS5jb25zdHJ1Y3RFbXB0eSgpLG4pfWZ1bmN0aW9uIFlnKGUsdCxzLG4pe3JldHVybiBYZyghMCxlLHQscyxuKX1mdW5jdGlvbiBSZyhlLHQscyxuKXtyZXR1cm4gTGcoITAsZSx0LHMsbil9ZnVuY3Rpb24gWGcoZSx0LHMsbixyKXtVdSgpfHxfKFwiY2Fubm90IGNyZWF0ZSBwcm9qZWN0aW9uIHRyYW5zZm9ybWF0aW9uXCIpO3JldHVybiB0Lmhhc1ZDUygpJiZzLmhhc1ZDUygpP2pnKCk6WmcodCxzLG4scil9ZnVuY3Rpb24gTGcoZSx0LHMsbixyLGkpe3JldHVybiBVdSgpfHxfKFwiY2Fubm90IGNyZWF0ZSBwcm9qZWN0aW9uIHRyYW5zZm9ybWF0aW9uXCIpLG5ldyBldShlPzI6MSx0LHMsbixyLGkpfWZ1bmN0aW9uIHpnKGUscyxuLHIsaSxvPSExKXtzJiZufHx0KFwiXCIpLFV1KCl8fF8oXCJjYW5ub3Qgb2J0YWluIGdlb3RyYW5zZm9ybWF0aW9uIGxpc3RcIik7aWYoMT09PWUmJnMuaGFzVkNTKCkmJm4uaGFzVkNTKCkpcmV0dXJuIHUoXCJodiB4Zm9ybSBub3QgaW1wbFwiKSxbXTt7Y29uc3QgZT1RYyhzLG4scixpLG8pLHQ9W107Zm9yKGNvbnN0IHMgb2YgZSl0LnB1c2gocyk7cmV0dXJuIHR9fWZ1bmN0aW9uIFdnKCl7cmV0dXJue2NlbnRyYWxNZXJpZGlhbk9mT3V0cHV0R0NTOk51bWJlci5OYU4sZGVuc2lmaWNhdGlvblN0ZXA6TnVtYmVyLk5hTixjbGlwV2l0aElucHV0SG9yaXpvbjohMCxjbGlwV2l0aE91dHB1dEhvcml6b246ITAsbGVnYWN5SG9yaXpvbkNsaXBwaW5nOiExLG5vcm1hbGl6ZVJlc3VsdEdlb21ldHJ5OiExLGVxdWFscyhlKXtyZXR1cm4gc3QodGhpcy5jZW50cmFsTWVyaWRpYW5PZk91dHB1dEdDUyxlLmNlbnRyYWxNZXJpZGlhbk9mT3V0cHV0R0NTKSYmc3QodGhpcy5kZW5zaWZpY2F0aW9uU3RlcCxlLmRlbnNpZmljYXRpb25TdGVwKSYmdGhpcy5jbGlwV2l0aElucHV0SG9yaXpvbj09PWUuY2xpcFdpdGhJbnB1dEhvcml6b24mJnRoaXMuY2xpcFdpdGhPdXRwdXRIb3Jpem9uPT09ZS5jbGlwV2l0aE91dHB1dEhvcml6b24mJnRoaXMubGVnYWN5SG9yaXpvbkNsaXBwaW5nPT09ZS5sZWdhY3lIb3Jpem9uQ2xpcHBpbmcmJnRoaXMubm9ybWFsaXplUmVzdWx0R2VvbWV0cnk9PT1lLm5vcm1hbGl6ZVJlc3VsdEdlb21ldHJ5fX19ZnVuY3Rpb24gamcoZSx0LHMsbil7cmV0dXJuIGEoMCkse319ZnVuY3Rpb24gWmcocyxuLHIsaSl7cyYmbnx8dChcIiFpbnB1dFNSIHx8ICFvdXRwdXRTUlwiKTtjb25zdCBvPXMuZ2V0TGF0ZXN0SUQoKSxhPW4uZ2V0TGF0ZXN0SUQoKTtpZigzODU3PT09byYmNDMyNj09PWEpe2lmKHMubV9iRGVmYXVsdERlc2NyaXB0b3ImJm4ubV9iRGVmYXVsdERlc2NyaXB0b3IpcmV0dXJuIHB1KCl9ZWxzZSBpZig0MzI2PT09byYmMzg1Nz09PWEmJnMubV9iRGVmYXVsdERlc2NyaXB0b3ImJm4ubV9iRGVmYXVsdERlc2NyaXB0b3IpcmV0dXJuIGZ1KCk7Y29uc3QgaD1lLmNvbnN0cnVjdEVtcHR5KCk7aC5zZXRDb29yZHMoe2VudjJEOnJ9KTtjb25zdCBtPXMuZ2V0Q29vcmRpbmF0ZVN5c3RlbVR5cGUoKSxsPW4uZ2V0Q29vcmRpbmF0ZVN5c3RlbVR5cGUoKTtpZigwPT09bXx8MD09PWwpcmV0dXJuIEtnKHMsbik7aWYoaSl7Y29uc3QgZT1pLmZpbmQoMCxzLmdldEdDUygpLG4uZ2V0R0NTKCkpO2lmKGUpcmV0dXJuIEtnKHMsbixlKX1jb25zdCBnPXMuZ2V0R0NTKCkuZ2V0TGF0ZXN0SUQoKSx1PW4uZ2V0R0NTKCkuZ2V0TGF0ZXN0SUQoKTtpZihnPjAmJmc9PT11KXJldHVybiBLZyhzLG4pO2NvbnN0IGM9bmV3IG11KHMsbixyKTt7Y29uc3QgZT1ndShjKTtpZihlKXJldHVybiBlfWNvbnN0IF89emcoMCxzLG4saCwxLCEwKTtyZXR1cm4gdXUoYyxLZyhzLG4sXy5sZW5ndGg/X1swXTp2b2lkIDApKX1mdW5jdGlvbiBLZyhlLHQscyxuLHIpe3JldHVybiBuZXcgZXUoMSxlLHQscyxuLHIpfWZ1bmN0aW9uIFFnKCl7cmV0dXJue2ZsYWdzTWFzazowLHNldEZsYWcoZSx0KXt0P3RoaXMuZmxhZ3NNYXNrfD1lOnRoaXMuZmxhZ3NNYXNrJj1+ZX0saGFzRmxhZyhlKXtyZXR1cm4gMCE9PSh0aGlzLmZsYWdzTWFzayZlKX19fWZ1bmN0aW9uIEpnKCl7cmV0dXJue21fZXh0ZW5kZWRQYXJhbXM6V2coKSxtX2V4dGVuZGVkUGFyYW1zSW50ZXJuYWw6UWcoKX19ZnVuY3Rpb24gJGcoKXtyZXR1cm4gSmcoKX1sZXQgZXU9Y2xhc3MgZXtjb25zdHJ1Y3RvcihlLHMsbixyLGksbyl7bGV0IGgsbTt0aGlzLm1fZGF0dW1UcmFuPW51bGwsdGhpcy5tX2JJZGVudGl0eT0hMCx0aGlzLm1fYklkZW50aXR5R2VvZ1RvR2VvZz0hMCx0aGlzLm1fYlZlcnRpY2FsPSExLHRoaXMubV9iTm9ybWFsaXplPSExLHMmJm58fHQoXCIhaW5wdXRTUiB8fCAhb3V0cHV0U1JcIiksciYmMD09PXIuZ2V0VHlwZSgpJiYoci5tX2JSZWFkT25seT0hMCksdGhpcy5tX2JOb3JtYWxpemU9ITEsMSE9PWUmJihoPXMuZ2V0VkNTKCksbT1uLmdldFZDUygpLHRoaXMubV9iVmVydGljYWw9bnVsbCE9aCYmbnVsbCE9bSksdGhpcy5tX2lucHV0U1I9cyx0aGlzLm1fb3V0cHV0U1I9bix0aGlzLm1fYklkZW50aXR5PSExLHRoaXMubV9iSWRlbnRpdHlHZW9nVG9HZW9nPSExLGEoIXRoaXMubV9wYXJhbXMpLGkmJih0aGlzLm1fcGFyYW1zPUpnKCksdGhpcy5tX3BhcmFtcy5tX2V4dGVuZGVkUGFyYW1zPWkpLG8mJih0aGlzLm1fcGFyYW1zfHwodGhpcy5tX3BhcmFtcz1KZygpKSx0aGlzLm1fcGFyYW1zLm1fZXh0ZW5kZWRQYXJhbXNJbnRlcm5hbD1vKTtsZXQgbD0hMTtjb25zdCBnPW51bGwhPXIsdT1zLmdldENvb3JkaW5hdGVTeXN0ZW1UeXBlKCksYz1uLmdldENvb3JkaW5hdGVTeXN0ZW1UeXBlKCk7aWYobi5pc1Bhbm5hYmxlKCkmJjAhPT11JiZpKXtjb25zdCBlPWkuY2VudHJhbE1lcmlkaWFuT2ZPdXRwdXRHQ1M7aWYoIU51bWJlci5pc05hTihlKSYmbi5pc1Bhbm5hYmxlKCkpe2NvbnN0IHQ9bi5nZXRQYW5uYWJsZUV4dGVudCgpLHM9dC5nZXRDZW50ZXJYKCk7aWYocyE9PWUpe2NvbnN0IG49TWF0aC5jZWlsKHQud2lkdGgoKSk7ZStuIT09cytuJiYobD0hMCl9fX1jb25zdCBfPWkmJmkubm9ybWFsaXplUmVzdWx0R2VvbWV0cnk7aWYocy5lcXVhbHMobikpcmV0dXJuIHRoaXMubV9iSWRlbnRpdHk9IWwsdGhpcy5tX2JJZGVudGl0eUdlb2dUb0dlb2c9ITAsdm9pZCB0aGlzLnVwZGF0ZVByb2plY3RvcigpO2NvbnN0IGQ9IWcmJnMuZXF1YWxGb3JQcm9qZWN0aW9uKG4sdGhpcy5tX2JWZXJ0aWNhbCk7dGhpcy5tX2JJZGVudGl0eT1kJiYhbCx0aGlzLm1fYklkZW50aXR5P3RoaXMubV9iSWRlbnRpdHlHZW9nVG9HZW9nPSEwOjAhPT11JiYwIT09YyYmKF8mJnRoaXMubV9vdXRwdXRTUi5pc1Bhbm5hYmxlKCkmJih0aGlzLm1fYk5vcm1hbGl6ZT1fKSx0aGlzLm1fZGF0dW1UcmFuPXJ8fG51bGwsdGhpcy5tX2JJZGVudGl0eUdlb2dUb0dlb2c9KCF0aGlzLm1fZGF0dW1UcmFufHwwPT09dGhpcy5tX2RhdHVtVHJhbi5jb3VudCgpKSYmdGhpcy5tX2lucHV0U1IuZ2V0R0NTKCkuZXF1YWxGb3JQcm9qZWN0aW9uKHRoaXMubV9vdXRwdXRTUi5nZXRHQ1MoKSx0aGlzLm1fYlZlcnRpY2FsKSksdGhpcy51cGRhdGVQcm9qZWN0b3IoKX1nZXRJbnB1dFNSKCl7cmV0dXJuIHRoaXMubV9pbnB1dFNSfWdldE91dHB1dFNSKCl7cmV0dXJuIHRoaXMubV9vdXRwdXRTUn1nZXREYXR1bVRyYW5zZm9ybWF0aW9uKCl7cmV0dXJuIHRoaXMubV9kYXR1bVRyYW59Z2V0SW52ZXJzZSgpe2NvbnN0IHQ9bmV3IGUoMSx0aGlzLm1fb3V0cHV0U1IsdGhpcy5tX2lucHV0U1IsdGhpcy5tX2RhdHVtVHJhbj8uY3JlYXRlSW52ZXJzZSgpKTtyZXR1cm4gdC5tX2JJZGVudGl0eT10aGlzLm1fYklkZW50aXR5LHQubV9iVmVydGljYWw9dGhpcy5tX2JWZXJ0aWNhbCx0Lm1fYklkZW50aXR5R2VvZ1RvR2VvZz10aGlzLm1fYklkZW50aXR5R2VvZ1RvR2VvZyx0LnVwZGF0ZVByb2plY3RvcigpLHR9aXNJZGVudGl0eSgpe3JldHVybiB0aGlzLm1fYklkZW50aXR5fWdldEV4dGVuZGVkUGFyYW1zKCl7cmV0dXJuIHRoaXMubV9wYXJhbXM/dGhpcy5tX3BhcmFtcy5tX2V4dGVuZGVkUGFyYW1zOiRnKCkubV9leHRlbmRlZFBhcmFtc31lcXVhbHMoZSl7cmV0dXJuIGEoMCksITF9aXNWZXJ0aWNhbCgpe3JldHVybiB0aGlzLm1fYlZlcnRpY2FsfWlzTWF0Y2hpbmdUcmFuc2Zvcm1hdGlvbihlLHQpe3JldHVybiBhKDApLCExfWdldEdlb2dyYXBoaWNUcmFuc2Zvcm1hdGlvbnMoKXtyZXR1cm4gdGhpcy5tX2RhdHVtVHJhbn1nZXRFeHRlbmRlZFBhcmFtc0ltcGwoKXtyZXR1cm4gdGhpcy5tX3BhcmFtcz90aGlzLm1fcGFyYW1zLm1fZXh0ZW5kZWRQYXJhbXM6JGcoKS5tX2V4dGVuZGVkUGFyYW1zfWdldEV4dGVuZGVkUGFyYW1zSW50ZXJuYWwoKXtyZXR1cm4gdGhpcy5tX3BhcmFtcz90aGlzLm1fcGFyYW1zLm1fZXh0ZW5kZWRQYXJhbXNJbnRlcm5hbDokZygpLm1fZXh0ZW5kZWRQYXJhbXNJbnRlcm5hbH1pc0lkZW50aXR5R2VvZ1RvR2VvZygpe3JldHVybiB0aGlzLm1fYklkZW50aXR5R2VvZ1RvR2VvZ31ub3JtYWxpemVPdXRwdXQoKXtyZXR1cm4gdGhpcy5tX2JOb3JtYWxpemV9dXBkYXRlUHJvamVjdG9yKCl7dGhpcy5tX3Byb2plY3Rvcj1uZXcgQWgodGhpcyl9fTtjb25zdCB0dT1uZXcgTWFwLHN1PW5ldyBNYXAsbnU9bmV3IE1hcDtmdW5jdGlvbiBydShlKXtsZXQgdD1lLmdldENvZGUoKTtpZih0PjApe2NvbnN0IGU9SXUodCk7cmV0dXJuIGV8fEN1KEljLmNvb3Jkc3lzKHQpKX1jb25zdCBzPWUuZ2V0TmFtZSgpO2lmKHN1LmhhcyhzKSl7Y29uc3QgdD1zdS5nZXQocyk7aWYodCYmdC5kZXJlZigpKXtjb25zdCBzPXQuZGVyZWYoKTtpZihzLm1fcGVDb29yZFN5cy5pc0VxdWFsKGUpKXJldHVybiBzfX1yZXR1cm4gdD1JYy5nZXRDb2RlKGUpLEN1KHQ+MD9JYy5jb29yZHN5cyh0KTplKX1mdW5jdGlvbiBpdShlKXtlPD0wJiZ4KGUpO3tjb25zdCB0PUl1KGUpO2lmKHQpcmV0dXJuIHR9Y29uc3QgdD1IYyhJYy5jb29yZHN5cyhlKSk7dC5nZXQoKXx8eChlKTtjb25zdCBzPUN1KHQucmVsZWFzZSgpKTtyZXR1cm4gcy5nZXRMYXRlc3RJRCgpIT09ZSYmdHUuc2V0KGUsbmV3IFdlYWtSZWYocykpLHN9ZnVuY3Rpb24gb3UoZSl7Y29uc3QgdD1uZXcgQmcoe30sITApO3JldHVybiB0Lm1fV0tJRD1lLHR9ZnVuY3Rpb24gYXUoZSl7Y29uc3QgdD1IYyhJYy5mcm9tU3RyaW5nKGJjLlBFX1RZUEVfQ09PUkRTWVMsZSkpO3JldHVybiB0LmdldCgpfHxDKGUpLHJ1KHQucmVsZWFzZSgpKX1mdW5jdGlvbiBodShlKXtzdS5kZWxldGUoZS5tX3BlQ29vcmRTeXMuZ2V0TmFtZSgpKSxudS5kZWxldGUoX2woZS5tX3BlQ29vcmRTeXMsMCwhMSkpfWNsYXNzIG11e2NvbnN0cnVjdG9yKGUsdCxzKXt0aGlzLm1faGFzaENvZGU9LTEsZSYmKHRoaXMubV9pbnB1dFNSPWUsdGhpcy5tX291dHB1dFNSPXQsdGhpcy5tX2Vudj1zLmNsb25lKCksdGhpcy5tX2hhc2hDb2RlPXRoaXMubV9pbnB1dFNSLmdldEhhc2hDb2RlKCksdGhpcy5tX2hhc2hDb2RlPWplKHRoaXMubV9oYXNoQ29kZSx0aGlzLm1fb3V0cHV0U1IuZ2V0SGFzaENvZGUoKSksdGhpcy5tX2Vudi5pc0VtcHR5KCl8fCh0aGlzLm1faGFzaENvZGU9amUodGhpcy5tX2hhc2hDb2RlLEJ0KHRoaXMubV9lbnYueG1pbikpLHRoaXMubV9oYXNoQ29kZT1qZSh0aGlzLm1faGFzaENvZGUsQnQodGhpcy5tX2Vudi54bWF4KSksdGhpcy5tX2hhc2hDb2RlPWplKHRoaXMubV9oYXNoQ29kZSxCdCh0aGlzLm1fZW52LnltaW4pKSx0aGlzLm1faGFzaENvZGU9amUodGhpcy5tX2hhc2hDb2RlLEJ0KHRoaXMubV9lbnYueW1heCkpKSl9Z2V0SGFzaENvZGUoKXtyZXR1cm4gdGhpcy5tX2hhc2hDb2RlfWVxdWFscyhlKXtyZXR1cm4hKHRoaXMubV9pbnB1dFNSJiYhZS5tX2lucHV0U1J8fCF0aGlzLm1faW5wdXRTUiYmZS5tX2lucHV0U1IpJiYodGhpcy5tX2Vudi5lcXVhbHMoZS5tX2VudikmJnRoaXMubV9pbnB1dFNSLmVxdWFscyhlLm1faW5wdXRTUikmJnRoaXMubV9vdXRwdXRTUi5lcXVhbHMoZS5tX291dHB1dFNSKSl9Y2xlYXIoKXt0aGlzLm1faW5wdXRTUj12b2lkIDAsdGhpcy5tX291dHB1dFNSPXZvaWQgMCx0aGlzLm1faGFzaENvZGU9LTEsdGhpcy5tX2Vudj12b2lkIDB9fWNvbnN0IGx1PW5ldyBNYXA7ZnVuY3Rpb24gZ3UoZSl7aWYobHUuaGFzKGUuZ2V0SGFzaENvZGUoKSkpcmV0dXJuIGx1LmdldChlLmdldEhhc2hDb2RlKCkpfWZ1bmN0aW9uIHV1KGUsdCl7cmV0dXJuIGx1LnNldChlLmdldEhhc2hDb2RlKCksdCksdH1sZXQgY3UsX3UsZHU7ZnVuY3Rpb24gcHUoKXtyZXR1cm4gY3V8fChjdT1SZyhoYygpLGxjKCkpKSxjdX1mdW5jdGlvbiBmdSgpe3JldHVybiBfdXx8KF91PXB1KCkuZ2V0SW52ZXJzZSgpKSxfdX1mdW5jdGlvbiB4dSgpe3JldHVybiBkdXx8KGR1PUljLnVuaXQoOTAwMSkpLGR1fWZ1bmN0aW9uIHl1KGUpe3JldHVybiBudWxsIT09SGMoSWMuY29vcmRzeXMoZSkpLmdldCgpfWNvbnN0IFB1PW5ldyBNYXA7ZnVuY3Rpb24gRXUoZSl7aWYoUHUuaGFzKGUpKXJldHVybiBQdS5nZXQoZSk7e2NvbnN0IHQ9eXUoZSk7cmV0dXJuIFB1LnNldChlLHQpLHR9fWZ1bmN0aW9uIFN1KGUpe3JldHVybiExfWZ1bmN0aW9uIEN1KGUpe2NvbnN0IHQ9SGMoZSkscz1lLmdldENvZGUoKTtpZihzPjApe2NvbnN0IGU9SXUocyk7aWYoZSlyZXR1cm4gZX1jb25zdCBuPWUuZ2V0TmFtZSgpO2xldCByPXN1LmdldChuKTtpZihyKXtjb25zdCB0PXIuZGVyZWYoKTtpZih0JiZ0Lm1fcGVDb29yZFN5cy5pc0VxdWFsKGUpKXJldHVybiB0fWNvbnN0IGk9bmV3IHFnKHQucmVsZWFzZSgpKTtpZihzPjApcmV0dXJuIGkuc2V0Q2FjaGVkKCksdHUuc2V0KHMsbmV3IFdlYWtSZWYoaSkpLHN1LnNldChuLG5ldyBXZWFrUmVmKGkpKSxpO2NvbnN0IG89X2woZSwwLCExKTtpZihyPW51LmdldChvKSxyKXtjb25zdCBlPXIuZGVyZWYoKTtpZihlKXJldHVybiBlfXJldHVybiBpLnNldENhY2hlZCgpLG51LnNldChvLG5ldyBXZWFrUmVmKGkpKSxpfWZ1bmN0aW9uIEl1KGUpe2NvbnN0IHQ9dHUuZ2V0KGUpO2lmKHQpcmV0dXJuIHQuZGVyZWYoKX1jbGFzcyBidSBleHRlbmRzIG5ze2NvbnN0cnVjdG9yKGUpe3JldHVybiB2b2lkIDA9PT1lPyhzdXBlcigpLHRoaXMubV93a2lkPTkwMDEsdm9pZCh0aGlzLm1fcGVVbml0PW51bGwpKTpcIm51bWJlclwiPT10eXBlb2YgZT8oc3VwZXIoKSx0aGlzLm1fZmFjdG9yPWUsdm9pZCh0aGlzLm1fd2tpZD0wKSk6KHN1cGVyKGUpLHZvaWQoZXx8KHRoaXMubV9mYWN0b3I9MSx0aGlzLm1fd2tpZD05MDAxLHRoaXMubV9wZVVuaXQ9eHUoKSkpKX1nZXRVbml0VHlwZSgpe3JldHVybiAwfWNvbnZlcnRGcm9tTWV0ZXJzKGUpe3JldHVybiBlL3RoaXMuZ2V0VW5pdFRvQmFzZUZhY3RvcigpfWNvbnZlcnRUb01ldGVycyhlKXtyZXR1cm4gZSp0aGlzLmdldFVuaXRUb0Jhc2VGYWN0b3IoKX19Y29uc3Qgd3U9W1wiMFwiLFwiMVwiLFwiMlwiLFwiM1wiLFwiNFwiLFwiNVwiLFwiNlwiLFwiN1wiLFwiOFwiLFwiOVwiLFwiYlwiLFwiY1wiLFwiZFwiLFwiZVwiLFwiZlwiLFwiZ1wiLFwiaFwiLFwialwiLFwia1wiLFwibVwiLFwiblwiLFwicFwiLFwicVwiLFwiclwiLFwic1wiLFwidFwiLFwidVwiLFwidlwiLFwid1wiLFwieFwiLFwieVwiLFwielwiXTtmdW5jdGlvbiB2dShlLHQscyl7Y29uc3Qgbj1LZSh0LFwiUlwiKTtsZXQgcj0wLGk9MDtmb3IobGV0IG89MDtvPHQ7bysrKXtsZXQgcz1lW3JdPj5pJjMxO2lmKGkrPTUsaT4zMSl7Y29uc3QgdD0zNy1pO3MmPSgxPDx0KS0xLGktPTMyLHIrKyxzfD0oZVtyXSYoMTw8aSktMSk8PHR9Y29uc3QgYT13dVtzXTtuW3QtMS1vXT1hfXJldHVybiBzPnQ/bi5wdXNoKC4uLlwiMFwiLnJlcGVhdChzLXQpKTpzPHQmJihuLmxlbmd0aD1zKSxuLmpvaW4oXCJcIil9ZnVuY3Rpb24gTnUoZSx0LHMsbixyKXthKG4+PjU8ci5sZW5ndGgpO2xldCBpPXQsbz1zO2ZvcihsZXQgYT1uO2E+PTA7YS09Mil7Y29uc3QgdD0zMSZhLHM9LjUqKG8raSk7ZT49cz8oclthPj41XXw9MTw8dCxpPXMpOm89c319bGV0IFR1PW5ldyBTZXQ7Y29uc3QgR3U9MjE0NzQ4MzY0NW4sRHU9OTAwNzE5OTI1NDc0MDk5MG4sVnU9XCJvcGVyYXRpb24gaXMgbm90IHN1cHBvcnRlZCBmb3IgdW5rbm93biBjb29yZGluYXRlIHN5c3RlbXNcIjt2YXIgRnU7ZnVuY3Rpb24gSHUoKXtyZXR1cm57bWFqb3JTZW1pQXhpczowLGUyOjAsbWlub3JTZW1pQXhpczowLGZsYXR0ZW5pbmc6MCxpc1NwaGVyZSgpe3JldHVybiAwPT09dGhpcy5lMn19fWZ1bmN0aW9uIGt1KGUsdCxzKXtlLm1ham9yU2VtaUF4aXM9dCxlLm1pbm9yU2VtaUF4aXM9dCooMS1zKSxlLmUyPXMqKDItcyksZS5mbGF0dGVuaW5nPXN9ZnVuY3Rpb24gQXUoZSl7aWYoSWMpcmV0dXJuO1VjKGUpO2NvbnN0IHQ9VHU7VHU9bnVsbCx0LmZvckVhY2goKGU9Pntjb25zdCB0PWUuZGVyZWYoKTt0JiZ0LmF0dGFjaFRvUGUoKX0pKX1mdW5jdGlvbiBNdShlKXtNYyhlKX1mdW5jdGlvbiBVdSgpe3JldHVybiEhSWN9ZnVuY3Rpb24gcXUoKXtyZXR1cm4hIWtjfWZ1bmN0aW9uIEJ1KCl7cmV0dXJuISFJY3x8ISFrY31mdW5jdGlvbiBPdShlLHQscyl7cmV0dXJuIGEoQnUoKSksZGMoZSx2b2lkIDA9PT10PzA6dCxudWxsLCExKX1mdW5jdGlvbiBZdShlLHQpe2EoQnUoKSk7Y29uc3Qgcz1uZXcgb2M7bGV0IG47cmV0dXJuIFV1KCk/KG49YXUoZSkscy5zZXRIb3J6UHJval8obikscy5tX3ZlcnRjcz1udWxsLHMubV91c2VyV0tJRD1uLmdldExhdGVzdElEKCkpOihuPUFjKGUpLHMubV91bml0PW4uaXNQQ1M/bmV3IGJ1KG4ubWV0ZXJzT3JSYWRpYW5zUGVyVW5pdCk6bmV3IG9zKG4ubWV0ZXJzT3JSYWRpYW5zUGVyVW5pdCkpLHVjKHMubV9wcmVjaXNpb25EZXNjcmlwdG9yLG4sbnVsbCwxKSxzLm1fYkRlZmF1bHREZXNjcmlwdG9yPSEwLHMubV91c2VyV0tUPWUscy5jYWxjdWxhdGVIYXNoQ29kZSgpLHMuaW5pdERiZ05hbWUoKSxzfWZ1bmN0aW9uIFJ1KGUsdCxzLG4scj0hMCl7bGV0IGk9bnVsbDtyZXR1cm4gdCYmKGk9Rm0odCxyKSksWHUoZSxpLHMsbixyKX1mdW5jdGlvbiBYdShlLHMsbixyLGkpe2V8fHQoXCIhUEVfY29vcmRfc3lzXCIpO2NvbnN0IG89bmV3IG9jO2xldCBhO3JldHVybiBhPWk/cnUoZSk6bmV3IHFnKGUsITEpLHVjKG8ubV9wcmVjaXNpb25EZXNjcmlwdG9yLGEscyxyKSxvLm1fYkRlZmF1bHREZXNjcmlwdG9yPSEwLG8uc2V0SG9yelByb2pfKGEpLG8ubV92ZXJ0Y3M9cyxvLm1fdXNlcldLSUQ9YS5nZXRMYXRlc3RJRCgpLG8uY2FsY3VsYXRlSGFzaENvZGUoKSxvLmluaXREYmdOYW1lKCksb31mdW5jdGlvbiBMdShlLHMsbj0hMSl7Mz09PWUuZ2V0Q29vcmRpbmF0ZVN5c3RlbVR5cGUoKSYmdChcImltYWdlIHNwYXRpYWwgcmVmZXJlbmNlIGNhbm5vdCBiZSBhbHRlcmVkXCIpO2NvbnN0IHI9bmV3IG9jLGk9ZTtyZXR1cm4gci5tX3BlQ29vcmRTeXNWYWw9aS5tX3BlQ29vcmRTeXNWYWwsci5tX3ZlcnRjcz1pLm1fdmVydGNzLHIubV91bml0PWkubV91bml0LHIubV9wcmVjaXNpb25EZXNjcmlwdG9yLmFzc2lnbihzKSxyLm1fbG9jYWxaVG9YWUZhY3Rvcj1pLm1fbG9jYWxaVG9YWUZhY3RvciwoTnVtYmVyLmlzTmFOKHIubV9wcmVjaXNpb25EZXNjcmlwdG9yLm1fZmFsc2VYKXx8TnVtYmVyLmlzTmFOKHIubV9wcmVjaXNpb25EZXNjcmlwdG9yLm1fZmFsc2VZKSkmJihyLm1fcHJlY2lzaW9uRGVzY3JpcHRvci5tX2ZhbHNlWD1pLm1fcHJlY2lzaW9uRGVzY3JpcHRvci5tX2ZhbHNlWCxyLm1fcHJlY2lzaW9uRGVzY3JpcHRvci5tX2ZhbHNlWT1pLm1fcHJlY2lzaW9uRGVzY3JpcHRvci5tX2ZhbHNlWSksci5tX3ByZWNpc2lvbkRlc2NyaXB0b3Iuc25hcFByZWNpc2lvbigpLHIubV9wcmVjaXNpb25EZXNjcmlwdG9yLmZpeFRvbGVyYW5jZSgpLHIubV91c2VyV0tJRD1pLm1fdXNlcldLSUQsci5tX3ByZWNpc2lvbkRlc2NyaXB0b3IuZXF1YWxzKGkubV9wcmVjaXNpb25EZXNjcmlwdG9yKT9yLm1fYkRlZmF1bHREZXNjcmlwdG9yPWkubV9iRGVmYXVsdERlc2NyaXB0b3I6ci5tX2JEZWZhdWx0RGVzY3JpcHRvcj0hMSxuJiYoci5tX2JEZWZhdWx0RGVzY3JpcHRvcj0hMCksci5jYWxjdWxhdGVIYXNoQ29kZSgpLHIuaW5pdERiZ05hbWUoKSxyfWZ1bmN0aW9uIHp1KGUsdCxzKXtyZXR1cm57fX1mdW5jdGlvbiBXdShlLHMsbil7dm9pZCAwPT09cyYmKHM9MSksKHM8PTB8fCFOdW1iZXIuaXNGaW5pdGUocykpJiZ0KFwiXCIpLGV8fDE9PT1zfHx0KFwibnVsbCBVbml0IGhhcyB0byBoYXZlIHpfdG9feHlfZmFjdG9yIGVxdWFsIHRvIDFcIik7Y29uc3Qgcj1uZXcgb2M7ci5tX3VuaXQ9ZTtjb25zdCBpPWV8fG5ldyBidSg5MDAxKTtyZXR1cm4gX2Moci5tX3ByZWNpc2lvbkRlc2NyaXB0b3IsaSxudWxsLDEpLHIubV9iRGVmYXVsdERlc2NyaXB0b3I9ITAsTnVtYmVyLmlzTmFOKHIubV9wcmVjaXNpb25EZXNjcmlwdG9yLm1fZmFsc2VYKSYmdChcIk5BTiBmYWxzZSBYL1kgYXJlIG5vdCBhbGxvd2VkIGhlcmVcIiksci5tX2xvY2FsWlRvWFlGYWN0b3I9cyxyLmNhbGN1bGF0ZUhhc2hDb2RlKCksci5pbml0RGJnTmFtZSgpLHJ9ZnVuY3Rpb24ganUoZSx0KXtyZXR1cm4gZS5zbmFwR2VvbWV0cnkodCl9ZnVuY3Rpb24gWnUoZSl7Y29uc3QgdD1lLmdldENvb3JkaW5hdGVTeXN0ZW1UeXBlKCk7cmV0dXJuIDE9PT10P2U6KDM9PT10JiZhKDApLGUuZ2V0R0NTKCkpfWZ1bmN0aW9uIEt1KGUpe3JldHVybiBhKEJ1KCkpLHF1KCk/QmMoZSk6RXUoZSl9ZnVuY3Rpb24gUXUoZSl7aWYoVXUoKSl7cmV0dXJuIG51bGwhPT1IYyhJYy5mcm9tU3RyaW5nKGJjLlBFX1RZUEVfQ09PUkRTWVMsZSkpLmdldCgpfXRyeXtyZXR1cm4gQWMoZSksITB9Y2F0Y2godCl7fXJldHVybiExfWxldCBKdTtmdW5jdGlvbiAkdSgpe3JldHVybiBKdXx8KEp1PSgoKT0+e2NvbnN0IGU9TWF0aC50cnVuYyhNYXRoLnJhbmRvbSgpKnZ0KCkpLHQ9RGF0ZS5ub3coKTtyZXR1cm5gfGFiYmFfMDAwfCR7ZS50b1N0cmluZygxNil9fCR7dC50b1N0cmluZygxNil9fGB9KSgpKSxKdX0hZnVuY3Rpb24oZSl7ZVtlLnV0bURlZmF1bHQ9MF09XCJ1dG1EZWZhdWx0XCIsZVtlLnV0bU5vcnRoU291dGg9MV09XCJ1dG1Ob3J0aFNvdXRoXCJ9KEZ1fHwoRnU9e30pKTtsZXQgZWM9MDtmdW5jdGlvbiB0YyhlPVwiXCIpe2xldCB0PWAkeyR1KCl9JHtlYysrfWA7cmV0dXJuXCJcIiE9PWUmJih0Kz1gfCR7ZX1gKSx0fWZ1bmN0aW9uIHNjKGUpe3JldHVybiBlLnN0YXJ0c1dpdGgoJHUoKSl9bGV0IG5jLHJjLGljLG9jPWNsYXNzIGV7ZGVzdHJveSgpe2h1KHRoaXMubV9wZUNvb3JkU3lzVmFsKSwxPT09dGhpcy5nZXRDb29yZGluYXRlU3lzdGVtVHlwZSgpfHwyPT09dGhpcy5nZXRDb29yZGluYXRlU3lzdGVtVHlwZSgpP3RoaXMuZ2V0UEVDb29yZFN5cygpLmRlc3Ryb3koKTppKFwiU3BhdGlhbFJlZmVyZW5jZS5kZXN0cm95XCIpfWNvbnN0cnVjdG9yKCl7dGhpcy5tX3ZlcnRjcz1udWxsLHRoaXMubV9wZUNvb3JkU3lzVmFsPW51bGwsdGhpcy5tX3VzZXJXS0lEPTAsdGhpcy5tX3VzZXJXS1Q9bnVsbCx0aGlzLm1fZ2VvZ1NwYXRpYWxSZWZlcmVuY2U9bnVsbCx0aGlzLm1fc3JUb0djcz1udWxsLHRoaXMubV9nY3NUb1NyPW51bGwsdGhpcy5tX2RlZmF1bHRQcmVjaXNpb25TUj1udWxsLHRoaXMubV9sb2NhbFpUb1hZRmFjdG9yPS0xLHRoaXMubV9wcmVjaXNpb25EZXNjcmlwdG9yPW5ldyBhYyx0aGlzLm1faGFzaENvZGU9MCx0aGlzLm1fYkRlZmF1bHREZXNjcmlwdG9yPSExLGdjKHRoaXMubV9wcmVjaXNpb25EZXNjcmlwdG9yKSxUdSYmVHUuYWRkKG5ldyBXZWFrUmVmKHRoaXMpKX1hdHRhY2hUb1BlKCl7KHRoaXMubV91c2VyV0tJRD4wP091KHRoaXMubV91c2VyV0tJRCk6WXUodGhpcy5tX3VzZXJXS1QpKS5jb3B5VG8odGhpcywhMSl9Y29weVRvKGUsdD0hMCl7KHR8fGUubV9iRGVmYXVsdERlc2NyaXB0b3IpJiYoZS5tX2JEZWZhdWx0RGVzY3JpcHRvcj10aGlzLm1fYkRlZmF1bHREZXNjcmlwdG9yLGUubV9wcmVjaXNpb25EZXNjcmlwdG9yLmFzc2lnbih0aGlzLm1fcHJlY2lzaW9uRGVzY3JpcHRvcikpLGUubV9kZWZhdWx0UHJlY2lzaW9uU1I9bnVsbCxlLm1fZ2NzVG9Tcj10aGlzLm1fZ2NzVG9TcixlLm1fZ2VvZ1NwYXRpYWxSZWZlcmVuY2U9dGhpcy5tX2dlb2dTcGF0aWFsUmVmZXJlbmNlLGUubV9oYXNoQ29kZT10aGlzLm1faGFzaENvZGUsZS5tX2xvY2FsWlRvWFlGYWN0b3I9dGhpcy5tX2xvY2FsWlRvWFlGYWN0b3IsZS5tX3BlQ29vcmRTeXNWYWw9dGhpcy5tX3BlQ29vcmRTeXNWYWwsZS5tX3NyVG9HY3M9dGhpcy5tX3NyVG9HY3MsZS5tX3VzZXJXS0lEPXRoaXMubV91c2VyV0tJRCxlLm1fdXNlcldLVD10aGlzLm1fdXNlcldLVCxlLm1fdmVydGNzPXRoaXMubV92ZXJ0Y3MsZS5tX3VuaXQ9dGhpcy5tX3VuaXR9Z2V0SGFzaENvZGUoKXtyZXR1cm4gdGhpcy5tX2hhc2hDb2RlfWdldEhhc2hDb2RlSG9yaXpvbnRhbCgpe2xldCBlPTA7cmV0dXJuIGU9dGhpcy5tX3BlQ29vcmRTeXNWYWw/dGhpcy5tX3BlQ29vcmRTeXNWYWwuZ2V0SGFzaENvZGUoKTp0aGlzLm1fdW5pdD90aGlzLm1fdW5pdC5nZXRIYXNoQ29kZSgpOjMwNTQxOTg5MSxlfXVwZGF0ZVRyYW5zZm9ybShlKXtpZigxPT09dGhpcy5nZXRDb29yZGluYXRlU3lzdGVtVHlwZSgpKXJldHVybiBSZyh0aGlzLHRoaXMsbnVsbCk7bGV0IHQ9ZT90aGlzLm1fc3JUb0djczp0aGlzLm1fZ2NzVG9TcjtpZih0KXJldHVybiB0O2NvbnN0IHM9dGhpcy5nZXRHQ1MoKSxuPXRoaXM7dD1lP1JnKG4scyxudWxsKTpSZyhzLG4sbnVsbCk7Y29uc3Qgcj10LGk9ZT90aGlzLm1fc3JUb0djczp0aGlzLm1fZ2NzVG9TcjtyZXR1cm4gaXx8KGU/dGhpcy5tX3NyVG9HY3M9cjp0aGlzLm1fZ2NzVG9Tcj1yLHQpfWdldEhhc2hDb2RlVmVydGljYWwoKXtyZXR1cm4gdGhpcy5tX3ZlcnRjcz90aGlzLm1fdmVydGNzLmdldEhhc2hDb2RlKCk6MH1jYWxjdWxhdGVIYXNoQ29kZSgpe2xldCBlPXRoaXMuZ2V0SGFzaENvZGVIb3Jpem9udGFsKCk7Y29uc3QgdD10aGlzLmdldEhhc2hDb2RlVmVydGljYWwoKSxzPXRoaXMubV9wcmVjaXNpb25EZXNjcmlwdG9yLmdldEhhc2hDb2RlKCk7ZT1qZShlLHQpLHRoaXMubV9oYXNoQ29kZT1qZShlLHMpfWluaXREYmdOYW1lKCl7fXNldEhvcnpQcm9qXyhlKXt0aGlzLm1fcGVDb29yZFN5c1ZhbD1lLHRoaXMubV91bml0PXRoaXMubV9wZUNvb3JkU3lzVmFsLmdldFVuaXQoKX1nZXRUb2xlcmFuY2UoZT0wKXtyZXR1cm4gdGhpcy5tX3ByZWNpc2lvbkRlc2NyaXB0b3IuZ2V0VG9sZXJhbmNlKGUpfWdldFJlc29sdXRpb24oZT0wKXtyZXR1cm4gdGhpcy5tX3ByZWNpc2lvbkRlc2NyaXB0b3IuZ2V0UmVzb2x1dGlvbihlKX1nZXRQRUNvb3JkU3lzKCl7cmV0dXJuIHRoaXMubV9wZUNvb3JkU3lzVmFsP3RoaXMubV9wZUNvb3JkU3lzVmFsLm1fcGVDb29yZFN5czpudWxsfWdldFBDU0luZm8oKXtyZXR1cm4gdGhpcy50aHJvd0lmTm90R0NTT3JQQ1MoKSxhKHRoaXMubV9wZUNvb3JkU3lzVmFsKSx0aGlzLm1fcGVDb29yZFN5c1ZhbC5nZXRQQ1NJbmZvKCl9Z2V0Q2VudHJhbE1lcmlkaWFuKCl7aWYodGhpcy50aHJvd0lmTm90R0NTT3JQQ1MoKSwxPT09dGhpcy5nZXRDb29yZGluYXRlU3lzdGVtVHlwZSgpKXJldHVybiAwO3JldHVybiB0aGlzLmdldFBDU0luZm8oKS5nZXRDZW50cmFsTWVyaWRpYW4oKX1nZXRDb29yZGluYXRlU3lzdGVtVHlwZSgpe2NvbnN0IGU9dGhpcy5nZXRQRUNvb3JkU3lzKCk7aWYoZSl7c3dpdGNoKGUuZ2V0VHlwZSgpKXtjYXNlIGJjLlBFX1RZUEVfR0VPR0NTOnJldHVybiAxO2Nhc2UgYmMuUEVfVFlQRV9QUk9KQ1M6cmV0dXJuIDI7ZGVmYXVsdDpyZXR1cm4gMH19ZWxzZXtpZigodGhpcy5tX3VzZXJXS0lEPjB8fHRoaXMubV91c2VyV0tUKSYmdGhpcy5tX3VuaXQgaW5zdGFuY2VvZiBidSlyZXR1cm4gMjtpZih0aGlzLm1fdW5pdCBpbnN0YW5jZW9mIG9zKXJldHVybiAxfXJldHVybiAwfWdldElEKCl7cmV0dXJuIHRoaXMubV91c2VyV0tJRH1nZXRMYXRlc3RJRCgpe3JldHVybiB0aGlzLm1fcGVDb29yZFN5c1ZhbD90aGlzLm1fcGVDb29yZFN5c1ZhbC5nZXRMYXRlc3RJRCgpOnRoaXMubV91c2VyV0tJRH1nZXRPbGRJRCgpe3JldHVybiB0aGlzLm1fcGVDb29yZFN5c1ZhbD90aGlzLm1fcGVDb29yZFN5c1ZhbC5nZXRPbGRJRCgpOnRoaXMubV91c2VyV0tJRH1nZXRWZXJ0aWNhbElEKCl7cmV0dXJuIHUoXCJ2Y3Mgbm90IGltcGxlbWVudGVkXCIpLDB9Z2V0TGF0ZXN0VmVydGljYWxJRCgpe3JldHVybiB0aGlzLm1fdmVydGNzP3RoaXMubV92ZXJ0Y3MuZ2V0TGF0ZXN0SUQoKTowfWdldE9sZFZlcnRpY2FsSUQoKXtyZXR1cm4gdShcInZjcyBub3QgaW1wbGVtZW50ZWRcIiksMH1nZXRQRVZlcnRpY2FsQ29vcmRTeXMoKXtyZXR1cm4gbnVsbH1nZXRQb2xlKGUpe3JldHVybiB0aGlzLnRocm93SWZOb3RHQ1NPclBDUygpLGEodGhpcy5tX3BlQ29vcmRTeXNWYWwpLHRoaXMubV9wZUNvb3JkU3lzVmFsLmdldFBvbGUoZSl9Z2V0VGV4dCgpe2NvbnN0IGU9dGhpcy5nZXRQRUNvb3JkU3lzKCk7cmV0dXJuIGU/cGwoZSk6dGhpcy5tX3VzZXJXS1Q/P1wiXCJ9Z2V0VGV4dEV4dGVuZGVkKGUpe2NvbnN0IHQ9dGhpcy5nZXRQRUNvb3JkU3lzKCk7cmV0dXJuIHQ/dGhpcy5nZXRQRVZlcnRpY2FsQ29vcmRTeXMoKT9kbChudWxsLHQsdGhpcy5nZXRQRVZlcnRpY2FsQ29vcmRTeXMoKSk6cGwodCxlKTp0aGlzLm1fdXNlcldLVD8/XCJcIn1nZXRUZXh0MihlPS0xKXtjb25zdCB0PXRoaXMuZ2V0UEVDb29yZFN5cygpO3JldHVybiB0P2ZsKHQsZSk6dGhpcy5tX3VzZXJXS1Q/P1wiXCJ9Z2V0VW5pdCgpe3JldHVybiB0aGlzLm1fdW5pdH1nZXRVbml0c1Blck1pbGxpbWV0ZXIoKXtyZXR1cm4gdGhpcy5tX3BlQ29vcmRTeXNWYWw/dGhpcy5tX3BlQ29vcmRTeXNWYWwuZ2V0VW5pdHNQZXJNaWxsaW1ldGVyKCk6dGhpcy5tX3VuaXQgaW5zdGFuY2VvZiBidT8uMDAxL3RoaXMubV91bml0LmdldFVuaXRUb0Jhc2VGYWN0b3IoKTp0aGlzLm1fdW5pdCBpbnN0YW5jZW9mIG9zPy4wMDEvKEFjKHRoaXMubV91c2VyV0tUPz90aGlzLm1fdXNlcldLSUQpLnNlbWlNYWpvcip0aGlzLm1fdW5pdC5nZXRVbml0VG9CYXNlRmFjdG9yKCkpOihjKFwic3Igb2JqZWN0IG5vdCBpbiB2YWxpZCBzdGF0ZVwiKSwwKX1nZXRBdXRob3JpdHlOYW1lKCl7cmV0dXJuIHRoaXMuZ2V0UEVDb29yZFN5cygpP3hsKCk6XCJcIn1nZXRWZXJ0aWNhbFVuaXQoKXtyZXR1cm4gdShcInZjcyBub3QgaW1wbGVtZW50ZWRcIikse319Z2V0VkNTKCl7cmV0dXJuIHRoaXMubV92ZXJ0Y3N9aGFzVkNTKCl7cmV0dXJuITF9Z2V0R0NTSG9yaXNvbklzSW5jbHVzaXZlKCl7cmV0dXJuIHRoaXMudGhyb3dJZk5vdEdDU09yUENTKCksYSh0aGlzLm1fcGVDb29yZFN5c1ZhbCksdGhpcy5tX3BlQ29vcmRTeXNWYWwuZ2V0R0NTSG9yaXNvbklzSW5jbHVzaXZlKCl9Z2V0R0NTSG9yaXpvbigpe3JldHVybiB0aGlzLnRocm93SWZOb3RHQ1NPclBDUygpLGEodGhpcy5tX3BlQ29vcmRTeXNWYWwpLHRoaXMubV9wZUNvb3JkU3lzVmFsLmdldEdDU0hvcml6b24oKX1nZXRHQ1MoKXtjb25zdCBlPXRoaXMuZ2V0Q29vcmRpbmF0ZVN5c3RlbVR5cGUoKTtpZigwPT09ZSljKFZ1KTtlbHNle2lmKDE9PT1lKXJldHVybiB0aGlzOzM9PT1lJiZjKFwiaW1hZ2UgY3Mgbm90IHN1cHBvcnRlZFwiKX1pZih0aGlzLm1fZ2VvZ1NwYXRpYWxSZWZlcmVuY2UpcmV0dXJuIHRoaXMubV9nZW9nU3BhdGlhbFJlZmVyZW5jZTtsZXQgdDtpZih0aGlzPT09aGMoKXx8dGhpcz09PW1jKCkpdD1sYygpO2Vsc2V7YSh0aGlzLm1fcGVDb29yZFN5c1ZhbCk7Y29uc3QgZT10aGlzLm1fcGVDb29yZFN5c1ZhbC5tX3BlQ29vcmRTeXMuZ2V0R2VvZ2NzKCk7ZXx8aShcIlwiKSx0PVJ1KGUsdGhpcy5tX3ZlcnRjcyxudWxsLHRoaXMubV9wcmVjaXNpb25EZXNjcmlwdG9yLmdldFByZWNpc2lvbigpLHRoaXMubV9wZUNvb3JkU3lzVmFsLmdldENhY2hlZCgpKX1yZXR1cm4gdGhpcy5tX2dlb2dTcGF0aWFsUmVmZXJlbmNlP3Q9dGhpcy5tX2dlb2dTcGF0aWFsUmVmZXJlbmNlOnRoaXMubV9nZW9nU3BhdGlhbFJlZmVyZW5jZT10LHR9Z2V0R0NTU3BsaXRMaW5lcygpe3JldHVybiB0aGlzLnRocm93SWZOb3RHQ1NPclBDUygpLGEodGhpcy5tX3BlQ29vcmRTeXNWYWwpLHRoaXMubV9wZUNvb3JkU3lzVmFsLmdldEdDU1NwbGl0TGluZXMoKX10b0dDUyhlLHMpe2lmKDA9PT1lLmxlbmd0aClyZXR1cm4gMDtlLmxlbmd0aD5zLmxlbmd0aCYmdChcImNvb3Jkc1NyYy5zaXplKCkgPiBjb29yZHNEc3Quc2l6ZSgpXCIpO2NvbnN0IG49dGhpcy5nZXRDb29yZGluYXRlU3lzdGVtVHlwZSgpO2lmKDA9PT1uJiZjKFZ1KSwxPT09bilyZXR1cm4gZXQocyxlLGUubGVuZ3RoKSxlLmxlbmd0aDthKHRoaXMubV9wZUNvb3JkU3lzVmFsKTtjb25zdCByPXRoaXMuZ2V0U1JUb0dDU1RyYW5zZm9ybSgpO3JldHVybihuZXcgcWgpLnRyYW5zZm9ybShyLGUsZS5sZW5ndGgscyl9dG9HZW9oYXNoKGUsdD04KXtjb25zdCBzPWUuY2xvbmUoKTtzLnNjYWxlKDkxMDI9PT10aGlzLmdldEdDUygpLmdldFVuaXQoKS5nZXRJRCgpPzE6dGhpcy5nZXRHQ1MoKS5nZXRVbml0KCkuZ2V0VW5pdFRvQmFzZUZhY3RvcigpL01hdGguUEkqMTgwKSxzLng8LTE4MD8ocy54PXR0KHMueCwzNjApLHMueDwtMTgwJiYocy54Kz0zNjApKTpzLng+MTgwJiYocy54PXR0KHMueCwzNjApLHMueD4xODAmJihzLngtPTM2MCkpLHMueT45MCYmKHMueT05MCkscy55PC05MCYmKHMueT0tOTApO2NvbnN0IG49NSp0LHI9bmV3IFVpbnQzMkFycmF5KDQpO051KHMueCwtMTgwLDE4MCxuLTEsciksTnUocy55LC05MCw5MCxuLTIscik7cmV0dXJuIHZ1KHIsdCx0KX1pc1Bhbm5hYmxlKCl7Y29uc3QgZT10aGlzLmdldENvb3JkaW5hdGVTeXN0ZW1UeXBlKCk7cmV0dXJuIDAhPT1lJiYzIT09ZSYmKGEodGhpcy5tX3BlQ29vcmRTeXNWYWwpLHRoaXMubV9wZUNvb3JkU3lzVmFsLmlzUGFubmFibGUoKSl9Z2V0UGFubmFibGVFeHRlbnQoKXtyZXR1cm4gdGhpcy5pc1Bhbm5hYmxlKCl8fHQoXCIhaXNfcGFubmFibGVcIiksYSh0aGlzLm1fcGVDb29yZFN5c1ZhbCksdGhpcy5tX3BlQ29vcmRTeXNWYWwuZ2V0UGFubmFibGVFeHRlbnQoKX1nZXRQYW5uYWJsZUV4dGVudEluR0NTKCl7cmV0dXJuIHRoaXMuaXNQYW5uYWJsZSgpfHx0KFwiIWlzX3Bhbm5hYmxlXCIpLGEodGhpcy5tX3BlQ29vcmRTeXNWYWwpLHRoaXMubV9wZUNvb3JkU3lzVmFsLmdldFBhbm5hYmxlRXh0ZW50R0NTKCl9dGhyb3dJZk5vdEdDU09yUENTKCl7Y29uc3QgZT10aGlzLmdldENvb3JkaW5hdGVTeXN0ZW1UeXBlKCk7MSE9PWUmJjIhPT1lJiZ0KFwiTm90IGEgR0NTIG9yIFBDU1wiKX1nZXREb21haW5YWSgpe3JldHVybiB0aGlzLnRocm93SWZOb3RHQ1NPclBDUygpLGEodGhpcy5tX3BlQ29vcmRTeXNWYWwpLHRoaXMubV9wZUNvb3JkU3lzVmFsLmdldERvbWFpblhZKCl9Z2V0RnVsbFdvcmxkRXh0ZW50KCl7cmV0dXJuIHRoaXMudGhyb3dJZk5vdEdDU09yUENTKCksdGhpcy5pc1Bhbm5hYmxlKCk/dGhpcy5nZXRQYW5uYWJsZUV4dGVudCgpOnRoaXMuZ2V0RG9tYWluWFkoKX1xdWVyeVByZWNpc2lvbkRlc2NyaXB0b3IoZSl7aWYoZS5hc3NpZ24odGhpcy5tX3ByZWNpc2lvbkRlc2NyaXB0b3IpLE51bWJlci5pc05hTihlLm1fZmFsc2VYKSlpZihVdSgpfHxfKFwiY2Fubm90IHF1ZXJ5IHByZWNpc2lvbiBkZXNjcmlwdG9yXCIpLGEobnVsbCE9PXRoaXMubV9wZUNvb3JkU3lzVmFsKSwyIT09dGhpcy5tX3ByZWNpc2lvbkRlc2NyaXB0b3IubV9wcmVjaXNpb24pe2NvbnN0IHQ9dGhpcy5tX3BlQ29vcmRTeXNWYWwuZ2V0RG9tYWluWFkoKTtlLm1fZmFsc2VYPXQueG1pbixlLm1fZmFsc2VZPXQueW1pbn1lbHNlIGUubV9mYWxzZVg9LU51bWJlci5NQVhfVkFMVUUsZS5tX2ZhbHNlWT0tTnVtYmVyLk1BWF9WQUxVRX1xdWVyeVByZWNpc2lvbkRlc2NyaXB0b3JXaXRob3V0RmFsc2VYWShlKXtlLmFzc2lnbih0aGlzLm1fcHJlY2lzaW9uRGVzY3JpcHRvciksZS5tX2ZhbHNlWD1OdW1iZXIuTmFOLGUubV9mYWxzZVk9TnVtYmVyLk5hTn1xdWVyeURlZmF1bHRQcmVjaXNpb25EZXNjcmlwdG9yV2l0aG91dEZhbHNlWFkoZSl7aWYodGhpcy5tX2JEZWZhdWx0RGVzY3JpcHRvcillLmFzc2lnbih0aGlzLm1fcHJlY2lzaW9uRGVzY3JpcHRvcik7ZWxzZXtjb25zdCB0PXRoaXMuZ2V0Q29vcmRpbmF0ZVN5c3RlbVR5cGUoKTswPT09dD9fYyhlLHRoaXMubV91bml0LHRoaXMubV92ZXJ0Y3MsdGhpcy5tX3ByZWNpc2lvbkRlc2NyaXB0b3IuZ2V0UHJlY2lzaW9uKCkpOjM9PT10P3UoXCJpbWFnZSBjc1wiKTp1YyhlLHRoaXMubV9wZUNvb3JkU3lzVmFsLHRoaXMubV92ZXJ0Y3MsdGhpcy5tX3ByZWNpc2lvbkRlc2NyaXB0b3IuZ2V0UHJlY2lzaW9uKCkpfWUubV9mYWxzZVg9TnVtYmVyLk5hTixlLm1fZmFsc2VZPU51bWJlci5OYU59aG9yaXpvbnRhbEVxdWFsKGUpe3JldHVybiBNZyh0aGlzLm1fcGVDb29yZFN5c1ZhbCxlLm1fcGVDb29yZFN5c1ZhbCl9dmVydGljYWxFcXVhbChlKXtyZXR1cm4gbnVsbCE9PXRoaXMubV92ZXJ0Y3M9PShudWxsIT09ZS5tX3ZlcnRjcykmJighdGhpcy5tX3ZlcnRjc3x8dGhpcy5tX3ZlcnRjcy5lcXVhbHMoZS5tX3ZlcnRjcykpfWVxdWFscyhlKXtjb25zdCB0PWU7aWYodGhpcz09PXQpcmV0dXJuITA7aWYoIXRoaXMuaG9yaXpvbnRhbEVxdWFsKHQpfHwhdGhpcy52ZXJ0aWNhbEVxdWFsKHQpKXJldHVybiExO2lmKCF0Lm1fcGVDb29yZFN5c1ZhbCl7aWYoYSghdGhpcy5tX3BlQ29vcmRTeXNWYWwpLG51bGwhPT10aGlzLm1fdW5pdCE9KG51bGwhPT10Lm1fdW5pdCkpcmV0dXJuITE7aWYodGhpcy5tX3VuaXQmJiF0aGlzLm1fdW5pdC5lcXVhbHModC5tX3VuaXQpKXJldHVybiExO2lmKHRoaXMubV9sb2NhbFpUb1hZRmFjdG9yIT09dC5tX2xvY2FsWlRvWFlGYWN0b3IpcmV0dXJuITF9aWYoIXRoaXMubV9iRGVmYXVsdERlc2NyaXB0b3J8fCF0Lm1fYkRlZmF1bHREZXNjcmlwdG9yKXtpZih0aGlzLm1fcGVDb29yZFN5c1ZhbCl7aWYoIXRoaXMubV9wcmVjaXNpb25EZXNjcmlwdG9yLmVxdWFsc1dpdGhvdXRGYWxzZVhZKHQubV9wcmVjaXNpb25EZXNjcmlwdG9yKSlyZXR1cm4hMTthKHQubV9wZUNvb3JkU3lzVmFsKTtsZXQgZT10aGlzLm1fcHJlY2lzaW9uRGVzY3JpcHRvci5tX2ZhbHNlWCxzPXRoaXMubV9wcmVjaXNpb25EZXNjcmlwdG9yLm1fZmFsc2VZO2lmKE51bWJlci5pc05hTihlKSl7Y29uc3QgdD10aGlzLm1fcGVDb29yZFN5c1ZhbC5nZXREb21haW5YWSgpO2U9dC54bWluLHM9dC55bWlufWxldCBuPXQubV9wcmVjaXNpb25EZXNjcmlwdG9yLm1fZmFsc2VYLHI9dC5tX3ByZWNpc2lvbkRlc2NyaXB0b3IubV9mYWxzZVk7aWYoTnVtYmVyLmlzTmFOKG4pKXtjb25zdCBlPXQubV9wZUNvb3JkU3lzVmFsLmdldERvbWFpblhZKCk7bj1lLnhtaW4scj1lLnltaW59cmV0dXJuIGU9PT1uJiZzPT09cn1yZXR1cm4gdGhpcy5tX3ByZWNpc2lvbkRlc2NyaXB0b3IuZXF1YWxzKHQubV9wcmVjaXNpb25EZXNjcmlwdG9yKX1yZXR1cm4hMH1lcXVhbEZvclByb2plY3Rpb24oZSx0KXtpZih0aGlzPT09ZSlyZXR1cm4hMDtjb25zdCBzPXRoaXMuZ2V0Q29vcmRpbmF0ZVN5c3RlbVR5cGUoKSxuPWUuZ2V0Q29vcmRpbmF0ZVN5c3RlbVR5cGUoKTtpZigwPT09c3x8MD09PW4pcmV0dXJuIDA9PT1zJiYwPT09bj8oIXR8fHRoaXMuZ2V0WlRvWFlGYWN0b3IoKT09PWUuZ2V0WlRvWFlGYWN0b3IoKSkmJighdGhpcy5nZXRVbml0KCl8fCFlLmdldFVuaXQoKXx8dGhpcy5nZXRVbml0KCkuZXF1YWxzKGUuZ2V0VW5pdCgpKSk6MyE9PXMmJjMhPT1uJiYobnVsbD09PXRoaXMuZ2V0VW5pdCgpfHxudWxsPT09ZS5nZXRVbml0KCl8fCghdHx8dGhpcy5nZXRaVG9YWUZhY3RvcigpPT09ZS5nZXRaVG9YWUZhY3RvcigpKSYmdGhpcy5nZXRVbml0KCkuZXF1YWxzKGUuZ2V0VW5pdCgpKSk7aWYocyE9PW4pcmV0dXJuITE7aWYoMz09PXMpcmV0dXJuIHRoaXMuZXF1YWxzKGUpO2lmKFVnKHRoaXMubV9wZUNvb3JkU3lzVmFsLGUubV9wZUNvb3JkU3lzVmFsKSl7aWYoIXQpcmV0dXJuITA7aWYobnVsbCE9PXRoaXMubV92ZXJ0Y3M9PShudWxsIT09ZS5tX3ZlcnRjcykpcmV0dXJuIXRoaXMubV92ZXJ0Y3N8fHRoaXMubV92ZXJ0Y3MuZXF1YWxGb3JQcm9qZWN0aW9uKGUubV92ZXJ0Y3MpfXJldHVybiExfWVxdWFsSG9yaXpvbnRhbChlKXtyZXR1cm4gdGhpcy5ob3Jpem9udGFsRXF1YWwoZSl9ZXF1YWxWZXJ0aWNhbChlKXtyZXR1cm4gYSgwKSwhMX1lcXVhbFZlcnRpY2FsVkNTKGUpe3JldHVybiBhKDApLCExfWNvbnZlcmdlbmNlQW5nbGUoZSl7cmV0dXJuIGEoMCksMH1nZXRQZUNvb3Jkc3lzQ29weSgpe2lmKHRoaXMubV9wZUNvb3JkU3lzVmFsKXtjb25zdCBlPXRoaXMubV9wZUNvb3JkU3lzVmFsLm1fcGVDb29yZFN5cztyZXR1cm4gZXx8aShcImNhbm5vdCBjbG9uZSBjb29yZCBzeXNcIiksZX1yZXR1cm4gbnVsbH1nZXRQZVZlcnRjc0NvcHkoKXtyZXR1cm4gYSgwKSwwfXRocm93SWZMb2NhbCgpezA9PT10aGlzLmdldENvb3JkaW5hdGVTeXN0ZW1UeXBlKCkmJnQoVnUpfWdldFByaW1lTWVyaWRpYW4oKXtyZXR1cm4gdGhpcy50aHJvd0lmTG9jYWwoKSxhKHRoaXMubV9wZUNvb3JkU3lzVmFsKSx0aGlzLm1fcGVDb29yZFN5c1ZhbC5nZXRQcmltZU1lcmlkaWFuKCl9Z2V0U1JUb0dDU1RyYW5zZm9ybSgpe3JldHVybiB0aGlzLnVwZGF0ZVRyYW5zZm9ybSghMCl9Z2V0R0NTVG9TUlRyYW5zZm9ybSgpe3JldHVybiB0aGlzLnVwZGF0ZVRyYW5zZm9ybSghMSl9Z2V0T25lTWV0ZXIoKXtyZXR1cm4gMWUzKnRoaXMuZ2V0VW5pdHNQZXJNaWxsaW1ldGVyKCl9Z2V0T25lTWV0ZXJQQ1NVbml0KCl7cmV0dXJuIHRoaXMudGhyb3dJZk5vdEdDU09yUENTKCksYSh0aGlzLm1fcGVDb29yZFN5c1ZhbCksdGhpcy5tX3BlQ29vcmRTeXNWYWwuZ2V0T25lTWV0ZXJQQ1NVbml0KCl9Z2V0RGVmYXVsdFByZWNpc2lvblNSKCl7aWYodGhpcy5tX2JEZWZhdWx0RGVzY3JpcHRvcilyZXR1cm4gdGhpcztpZihudWxsPT09dGhpcy5tX2RlZmF1bHRQcmVjaXNpb25TUil7Y29uc3QgZT1uZXcgYWM7dGhpcy5xdWVyeURlZmF1bHRQcmVjaXNpb25EZXNjcmlwdG9yV2l0aG91dEZhbHNlWFkoZSksdGhpcy5tX2RlZmF1bHRQcmVjaXNpb25TUj1MdSh0aGlzLGUsITApfXJldHVybiB0aGlzLm1fZGVmYXVsdFByZWNpc2lvblNSfWdldFBDU0hvcml6b24oKXtyZXR1cm4gdGhpcy50aHJvd0lmTm90R0NTT3JQQ1MoKSxhKHRoaXMubV9wZUNvb3JkU3lzVmFsKSx0aGlzLm1fcGVDb29yZFN5c1ZhbC5nZXRQQ1NIb3Jpem9uKCl9Z2V0SG9yelVuaXRGYWN0b3IoKXtyZXR1cm4gdGhpcy5tX3VuaXQ/dGhpcy5tX3VuaXQuZ2V0VW5pdFRvQmFzZUZhY3RvcigpOjF9cXVlcnlTcGhlcm9pZERhdGEoZSl7dGhpcy50aHJvd0lmTm90R0NTT3JQQ1MoKSxhKHRoaXMubV9wZUNvb3JkU3lzVmFsKTtjb25zdCB0PXRoaXMuZ2V0R0NTKCkuZ2V0UEVDb29yZFN5cygpLmdldERhdHVtKCkuZ2V0U3BoZXJvaWQoKSxzPXQuZ2V0RmxhdHRlbmluZygpO2t1KGUsdC5nZXRBeGlzKCkscyl9Z2V0QXJlYU9mVXNlKCl7MD09PXRoaXMuZ2V0Q29vcmRpbmF0ZVN5c3RlbVR5cGUoKSYmYyhcIlwiKSxhKHRoaXMubV9wZUNvb3JkU3lzVmFsKTtjb25zdCBlPXRoaXMubV9wZUNvb3JkU3lzVmFsLmdldEFyZWFPZlVzZSgpO3JldHVybiBudWxsPT09ZT9uZXcgc3M6bmV3IHNzKHtnZW9tOmUuY2xvbmUoKSxzcjpPdSg0MzI2KX0pfWdldFpUb1hZRmFjdG9yKCl7cmV0dXJuIDF9aXNDdXN0b21Xa2lkKCl7cmV0dXJuITF9Z2V0T25lRGVncmVlR0NTVW5pdCgpe3JldHVybiB0aGlzLnRocm93SWZOb3RHQ1NPclBDUygpLGEodGhpcy5tX3BlQ29vcmRTeXNWYWwpLHRoaXMubV9wZUNvb3JkU3lzVmFsLmdldE9uZURlZ3JlZUdDU1VuaXQoKX1nZXRHY3NVbml0RmFjdG9yKCl7cmV0dXJuIHRoaXMudGhyb3dJZk5vdEdDU09yUENTKCksYSh0aGlzLm1fcGVDb29yZFN5c1ZhbCksdGhpcy5tX3BlQ29vcmRTeXNWYWwuZ2V0R2NzVW5pdEZhY3RvcigpfXNuYXBHZW9tZXRyeShlKXtpZihlLmlzRW1wdHkoKSlyZXR1cm4hMTtpZigyPT09dGhpcy5tX3ByZWNpc2lvbkRlc2NyaXB0b3IuZ2V0UHJlY2lzaW9uKCkpcmV0dXJuITE7Y29uc3QgdD1lLmdldEdlb21ldHJ5VHlwZSgpO2lmKGQodCkpcmV0dXJuIHRoaXMuc25hcE11bHRpVmVydGV4XyhlKTtpZih0PT09bi5lbnVtUG9pbnQpcmV0dXJuIHRoaXMuc25hcFBvaW50XyhlKTtpZih0PT09bi5lbnVtRW52ZWxvcGUpcmV0dXJuIHRoaXMuc25hcEVudmVsb3BlXyhlKTtpZihyKHQpKXJldHVybiB0aGlzLnNuYXBTZWdtZW50XyhlKTtpZih0PT09bi5lbnVtR2VvbWV0cnlDb2xsZWN0aW9uKXtjb25zdCB0PWU7bGV0IHM9ITE7Zm9yKGxldCBlPTAsbj10LmdldEdlb21ldHJ5Q291bnQoKTtlPG47KytlKXM9dGhpcy5zbmFwR2VvbWV0cnkodC5nZXRHZW9tZXRyeShlKSl8fHM7cmV0dXJuIHN9aShcIndoYXQgZWxzZT9cIil9c25hcE11bHRpVmVydGV4XyhlKXtpZihhKCFlLmlzRW1wdHkoKSksYSgyIT09dGhpcy5tX3ByZWNpc2lvbkRlc2NyaXB0b3IuZ2V0UHJlY2lzaW9uKCkpLG8oZS5nZXRHZW9tZXRyeVR5cGUoKSkpe2NvbnN0IHQ9ZTtpZih0Lmhhc05vbkxpbmVhclNlZ21lbnRzKCkpcmV0dXJuIHRoaXMuc25hcEdlb21ldHJ5V2l0aEN1cnZlc18odCl9Y29uc3QgdD1lLmdldEltcGwoKSxzPXQuZ2V0RGVzY3JpcHRpb24oKTtsZXQgbj0hMTtmb3IobGV0IHI9MCxpPXMuZ2V0QXR0cmlidXRlQ291bnQoKTtyPGk7cisrKXtjb25zdCBlPXMuZ2V0U2VtYW50aWNzKHIpLGk9dC5nZXRBdHRyaWJ1dGVTdHJlYW1SZWYoZSk7bj10aGlzLnNuYXBBdHRyaWJ1dGVzKGUsaSwwLHQuZ2V0UG9pbnRDb3VudCgpKXx8bn1yZXR1cm4gbiYmdC5ub3RpZnlNb2RpZmllZEZsYWdzKDIwMDEpLG59c25hcFBvaW50XyhlKXtyZXR1cm4hMX1zbmFwRW52ZWxvcGVfKGUpe3JldHVybiExfXNuYXBTZWdtZW50XyhlKXthKCFlLmlzRW1wdHkoKSksYSgyIT09dGhpcy5tX3ByZWNpc2lvbkRlc2NyaXB0b3IuZ2V0UHJlY2lzaW9uKCkpO2NvbnN0IHQ9bmV3IGFjO3RoaXMucXVlcnlQcmVjaXNpb25EZXNjcmlwdG9yKHQpO2NvbnN0IHM9ZS5nZXRTdGFydFhZKCksbj1uZXcgUWU7bi54PXBjKHMueCx0LmdldEZhbHNlWCgpLHQuZ2V0R3JpZFVuaXRzWFkoKSksbi55PXBjKHMueSx0LmdldEZhbHNlWSgpLHQuZ2V0R3JpZFVuaXRzWFkoKSk7bGV0IHI9IW4uZXF1YWxzKHMpO2NvbnN0IGk9ZS5nZXRFbmRYWSgpLG89bmV3IFFlO28ueD1wYyhpLngsdC5nZXRGYWxzZVgoKSx0LmdldEdyaWRVbml0c1hZKCkpLG8ueT1wYyhpLnksdC5nZXRGYWxzZVkoKSx0LmdldEdyaWRVbml0c1hZKCkpLHJ8fD0hby5lcXVhbHMoaSksciYmZS5jaGFuZ2VFbmRQb2ludHMyRChuLG8pO2NvbnN0IGg9KHQscyxuKT0+e2xldCByPSExO3tjb25zdCBpPWUuZ2V0U3RhcnRBdHRyaWJ1dGVBc0RibCh0LDApLG89cGMoaSxzLG4pLGE9IXN0KG8saSk7cnx8PWEsYSYmZS5zZXRTdGFydEF0dHJpYnV0ZSh0LDAsbyl9e2NvbnN0IGk9ZS5nZXRFbmRBdHRyaWJ1dGVBc0RibCh0LDApLG89cGMoaSxzLG4pLGE9IXN0KG8saSk7cnx8PWEsYSYmZS5zZXRFbmRBdHRyaWJ1dGUodCwwLG8pfXJldHVybiByfTtsZXQgbT1yPzE6MDtyZXR1cm4gZS5oYXNBdHRyaWJ1dGUoMSkmJihtfD1oKDEsdC5nZXRGYWxzZVooKSx0LmdldEdyaWRVbml0c1ooKSk/MTowKSxlLmhhc0F0dHJpYnV0ZSgyKSYmKG18PWgoMix0LmdldEZhbHNlTSgpLHQuZ2V0R3JpZFVuaXRzTSgpKT8xOjApLCEhbX1zbmFwR2VvbWV0cnlXaXRoQ3VydmVzXyhlKXthKCFlLmlzRW1wdHkoKSksYSgyIT09dGhpcy5tX3ByZWNpc2lvbkRlc2NyaXB0b3IuZ2V0UHJlY2lzaW9uKCkpO2NvbnN0IHQ9ZS5jcmVhdGVJbnN0YW5jZSgpLHM9bmV3IEY7bGV0IG49MDtmb3IobGV0IHI9MCxpPWUuZ2V0UGF0aENvdW50KCk7cjxpOysrcil7Y29uc3QgaT1lLmdldFNlZ21lbnRDb3VudFBhdGgocik7aWYoMD09PWkpe2lmKHQuYWRkUGF0aChlLHIsITApLDE9PT10LmdldFBhdGhTaXplKHIpKXtjb25zdCBlPW5ldyBmZTt0LmdldFBvaW50QnlWYWwodC5nZXRQb2ludENvdW50KCktMSxlKSxufD10aGlzLnNuYXBHZW9tZXRyeShlKT8xOjAsdC5zZXRQb2ludEJ5VmFsKHQuZ2V0UG9pbnRDb3VudCgpLTEsZSl9Y29udGludWV9Y29uc3Qgbz1lLmlzQ2xvc2VkUGF0aChyKTtmb3IobGV0IGE9MCxoPW8/aS0xOmk7YTxoOysrYSllLmdldFNlZ21lbnRGcm9tUGF0aChyLGEscywhMSksbnw9dGhpcy5zbmFwR2VvbWV0cnkocy5nZXQoKSk/MTowLHQuYWRkU2VnbWVudChzLmdldCgpLDA9PT1hKTtvJiYoZS5nZXRTZWdtZW50RnJvbVBhdGgocixpLTEscywhMSksbnw9dGhpcy5zbmFwR2VvbWV0cnkocy5nZXQoKSk/MTowLDE9PT1pP3QuYWRkUGF0aEZyb21DbG9zZWRTZWdtZW50KHMuZ2V0KCksITEpOnQuY2xvc2VMYXN0UGF0aFdpdGhTZWdtZW50KHMuZ2V0KCkpKX1yZXR1cm4gbiYmdC5jb3B5VG8oZSksISFufXNuYXBBdHRyaWJ1dGVzKHQscyxuLHIpe2xldCBpPSExO2NvbnN0IG89bmV3IGFjO2lmKHRoaXMucXVlcnlQcmVjaXNpb25EZXNjcmlwdG9yKG8pLDA9PT10KXtjb25zdCB0PXM7Zm9yKGxldCBzPW47czxyO3MrKyl7Y29uc3Qgbj10LnJlYWQoMipzKSxyPWUuc19TbmFwVmFsdWUobixvLmdldEZhbHNlWCgpLG8uZ2V0R3JpZFVuaXRzWFkoKSksYT10LnJlYWQoMipzKzEpLGg9ZS5zX1NuYXBWYWx1ZShhLG8uZ2V0RmFsc2VZKCksby5nZXRHcmlkVW5pdHNYWSgpKTtpPWl8fHIhPT1ufHxoIT09YSxpJiYodC53cml0ZSgyKnMsciksdC53cml0ZSgyKnMrMSxoKSl9fWVsc2UgaWYoMT09PXQpe2NvbnN0IHQ9cztmb3IobGV0IHM9bjtzPHI7cysrKXtjb25zdCBuPXQucmVhZChzKSxyPWUuc19TbmFwVmFsdWUobixvLmdldEZhbHNlWigpLG8uZ2V0R3JpZFVuaXRzWigpKTtpPWl8fCFzdChyLG4pLGkmJnQud3JpdGUocyxyKX19ZWxzZSBpZigyPT09dCl7Y29uc3QgdD1zO2ZvcihsZXQgcz1uO3M8cjtzKyspe2NvbnN0IG49dC5yZWFkKHMpLHI9ZS5zX1NuYXBWYWx1ZShuLG8uZ2V0RmFsc2VNKCksby5nZXRHcmlkVW5pdHNNKCkpO2k9aXx8IXN0KHIsbiksaSYmdC53cml0ZShzLHIpfX1yZXR1cm4gaX1zdGF0aWMgc19TbmFwVmFsdWUoZSx0LHMpe3JldHVybiBudCgoZS10KSpzKS9zK3R9fTtjbGFzcyBhY3tjb25zdHJ1Y3Rvcigpe2NvbnN0IGU9RHUsdD0xZS00LHM9LjAwMSxuPXQqTnVtYmVyKGUpKi41O3RoaXMubV9wcmVjaXNpb249MSx0aGlzLm1fZmFsc2VYPS1uLHRoaXMubV9mYWxzZVk9LW4sdGhpcy5tX3VuaXRzWFk9TnVtYmVyKGUpLygyKm4pLHRoaXMubV9mYWxzZU09LTFlNSx0aGlzLm1fdW5pdHNNPTEvdCx0aGlzLm1fZmFsc2VaPS0xZTUsdGhpcy5tX3VuaXRzWj0xL3QsdGhpcy5tX3RvbGVyYW5jZVhZPXMsdGhpcy5tX3RvbGVyYW5jZU09cyx0aGlzLm1fdG9sZXJhbmNlWj1zfWdldEhhc2hDb2RlKCl7bGV0IGU9Nzc3Nyx0PTc3Nzc7cmV0dXJuIHQ9amUodCx0aGlzLm1fZmFsc2VNKSx0PWplKHQsdGhpcy5tX3VuaXRzTSksZT1qZShlLHRoaXMubV91bml0c1hZKSx0PWplKHQsdGhpcy5tX3RvbGVyYW5jZVhZKSxlPWplKGUsdGhpcy5tX2ZhbHNlWiksdD1qZSh0LHRoaXMubV90b2xlcmFuY2VaKSxlPWplKGUsdGhpcy5tX3VuaXRzWiksdD1qZSh0LHRoaXMubV90b2xlcmFuY2VNKSxlPWplKGUsdGhpcy5tX3ByZWNpc2lvbiksamUoZSx0KX1jbG9uZSgpe2NvbnN0IGU9bmV3IGFjO3JldHVybiBlLm1fZmFsc2VYPXRoaXMubV9mYWxzZVgsZS5tX2ZhbHNlWT10aGlzLm1fZmFsc2VZLGUubV91bml0c1hZPXRoaXMubV91bml0c1hZLGUubV9mYWxzZVo9dGhpcy5tX2ZhbHNlWixlLm1fdW5pdHNaPXRoaXMubV91bml0c1osZS5tX2ZhbHNlTT10aGlzLm1fZmFsc2VNLGUubV91bml0c009dGhpcy5tX3VuaXRzTSxlLm1fdG9sZXJhbmNlWFk9dGhpcy5tX3RvbGVyYW5jZVhZLGUubV90b2xlcmFuY2VaPXRoaXMubV90b2xlcmFuY2VaLGUubV90b2xlcmFuY2VNPXRoaXMubV90b2xlcmFuY2VNLGUubV9wcmVjaXNpb249dGhpcy5tX3ByZWNpc2lvbixlfWFzc2lnbihlKXtyZXR1cm4gdGhpcy5tX2ZhbHNlWD1lLm1fZmFsc2VYLHRoaXMubV9mYWxzZVk9ZS5tX2ZhbHNlWSx0aGlzLm1fdW5pdHNYWT1lLm1fdW5pdHNYWSx0aGlzLm1fZmFsc2VaPWUubV9mYWxzZVosdGhpcy5tX3VuaXRzWj1lLm1fdW5pdHNaLHRoaXMubV9mYWxzZU09ZS5tX2ZhbHNlTSx0aGlzLm1fdW5pdHNNPWUubV91bml0c00sdGhpcy5tX3RvbGVyYW5jZVhZPWUubV90b2xlcmFuY2VYWSx0aGlzLm1fdG9sZXJhbmNlWj1lLm1fdG9sZXJhbmNlWix0aGlzLm1fdG9sZXJhbmNlTT1lLm1fdG9sZXJhbmNlTSx0aGlzLm1fcHJlY2lzaW9uPWUubV9wcmVjaXNpb24sdGhpc31pbml0aWFsaXplMkQoZSx0KXt9Z2V0VG9sZXJhbmNlKGUpe3N3aXRjaChlKXtjYXNlIDA6cmV0dXJuIHRoaXMubV90b2xlcmFuY2VYWTtjYXNlIDE6cmV0dXJuIHRoaXMubV90b2xlcmFuY2VaO2Nhc2UgMjpyZXR1cm4gdGhpcy5tX3RvbGVyYW5jZU07ZGVmYXVsdDpyZXR1cm4gMH19Z2V0UmVzb2x1dGlvbihlKXtpZigyPT09dGhpcy5tX3ByZWNpc2lvbilyZXR1cm4gMDtzd2l0Y2goZSl7Y2FzZSAwOnJldHVybiAxL3RoaXMubV91bml0c1hZO2Nhc2UgMTpyZXR1cm4gMS90aGlzLm1fdW5pdHNaO2Nhc2UgMjpyZXR1cm4gMS90aGlzLm1fdW5pdHNNO2RlZmF1bHQ6cmV0dXJuIDB9fWdldEZhbHNlWCgpe3JldHVybiB0aGlzLm1fZmFsc2VYfWdldEZhbHNlWSgpe3JldHVybiB0aGlzLm1fZmFsc2VZfWdldEZhbHNlWigpe3JldHVybiB0aGlzLm1fZmFsc2VafWdldEZhbHNlTSgpe3JldHVybiB0aGlzLm1fZmFsc2VNfWdldEdyaWRVbml0c1hZKCl7cmV0dXJuIHRoaXMubV91bml0c1hZfWdldEdyaWRVbml0c1ooKXtyZXR1cm4gdGhpcy5tX3VuaXRzWn1nZXRHcmlkVW5pdHNNKCl7cmV0dXJuIHRoaXMubV91bml0c019Z2V0UHJlY2lzaW9uKCl7cmV0dXJuIHRoaXMubV9wcmVjaXNpb259c3RhdGljIGdldExpbWl0MzIoKXtyZXR1cm4gMjE0NzQ4MzY0NX1zdGF0aWMgZ2V0TGltaXQ2NCgpe3JldHVybiA5MDA3MTk5MjU0NzQwOTkwbn1zdGF0aWMgZ2V0TGltaXRGbG9hdCgpe3JldHVybiAwfWdldFhZR3JpZFJhbmdlKCl7Y29uc3QgdD1uZXcgZTtzd2l0Y2godGhpcy5tX3ByZWNpc2lvbil7Y2FzZSAwOntjb25zdCBlPWFjLmdldExpbWl0MzIoKS90aGlzLmdldEdyaWRVbml0c1hZKCk7dC5zZXRDb29yZHMoe3htaW46dGhpcy5nZXRGYWxzZVgoKSx5bWluOnRoaXMuZ2V0RmFsc2VZKCkseG1heDp0aGlzLmdldEZhbHNlWCgpK2UseW1heDp0aGlzLmdldEZhbHNlWSgpK2V9KX1icmVhaztjYXNlIDE6e2NvbnN0IGU9TnVtYmVyKGFjLmdldExpbWl0NjQoKSkvdGhpcy5nZXRHcmlkVW5pdHNYWSgpO3Quc2V0Q29vcmRzKHt4bWluOnRoaXMuZ2V0RmFsc2VYKCkseW1pbjp0aGlzLmdldEZhbHNlWSgpLHhtYXg6dGhpcy5nZXRGYWxzZVgoKStlLHltYXg6dGhpcy5nZXRGYWxzZVkoKStlfSl9YnJlYWs7Y2FzZSAyOnQuc2V0Q29vcmRzKHt4bWluOi1OdW1iZXIuTUFYX1ZBTFVFLHltaW46LU51bWJlci5NQVhfVkFMVUUseG1heDpOdW1iZXIuTUFYX1ZBTFVFLHltYXg6TnVtYmVyLk1BWF9WQUxVRX0pO2JyZWFrO2RlZmF1bHQ6dC5zZXRFbXB0eSgpLGkoXCJcIil9cmV0dXJuIHR9Z2V0WkdyaWRSYW5nZSgpe2NvbnN0IGU9bmV3IGF0O3N3aXRjaCh0aGlzLm1fcHJlY2lzaW9uKXtjYXNlIDA6e2NvbnN0IHQ9YWMuZ2V0TGltaXQzMigpL3RoaXMuZ2V0R3JpZFVuaXRzWigpO2Uuc2V0Q29vcmRzKHRoaXMuZ2V0RmFsc2VaKCksdGhpcy5nZXRGYWxzZVooKSt0KX1icmVhaztjYXNlIDE6e2NvbnN0IHQ9TnVtYmVyKGFjLmdldExpbWl0NjQoKSkvdGhpcy5nZXRHcmlkVW5pdHNaKCk7ZS5zZXRDb29yZHModGhpcy5nZXRGYWxzZVooKSx0aGlzLmdldEZhbHNlWigpK3QpfWJyZWFrO2Nhc2UgMjplLnNldENvb3JkcygtTnVtYmVyLk1BWF9WQUxVRSxOdW1iZXIuTUFYX1ZBTFVFKTticmVhaztkZWZhdWx0OmUuc2V0RW1wdHkoKSxpKFwiXCIpfXJldHVybiBlfWdldE1HcmlkUmFuZ2UoKXtjb25zdCBlPW5ldyBhdDtzd2l0Y2godGhpcy5tX3ByZWNpc2lvbil7Y2FzZSAwOntjb25zdCB0PWFjLmdldExpbWl0MzIoKS90aGlzLmdldEdyaWRVbml0c00oKTtlLnNldENvb3Jkcyh0aGlzLmdldEZhbHNlTSgpLHRoaXMuZ2V0RmFsc2VNKCkrdCl9YnJlYWs7Y2FzZSAxOntjb25zdCB0PU51bWJlcihhYy5nZXRMaW1pdDY0KCkpL3RoaXMuZ2V0R3JpZFVuaXRzTSgpO2Uuc2V0Q29vcmRzKHRoaXMuZ2V0RmFsc2VNKCksdGhpcy5nZXRGYWxzZU0oKSt0KX1icmVhaztjYXNlIDI6ZS5zZXRDb29yZHMoLU51bWJlci5NQVhfVkFMVUUsTnVtYmVyLk1BWF9WQUxVRSk7YnJlYWs7ZGVmYXVsdDplLnNldEVtcHR5KCksaShcIlwiKX1yZXR1cm4gZX1zZXRUb2xlcmFuY2UoZSxzKXtzd2l0Y2goczwwJiZ0KFwidG9sIDwgMFwiKSxOdW1iZXIuaXNGaW5pdGUocyl8fHQoXCJ0b2wgaXMgbm90IGZpbml0ZVwiKSxlKXtjYXNlIDA6dGhpcy5tX3RvbGVyYW5jZVhZPXM7YnJlYWs7Y2FzZSAxOnRoaXMubV90b2xlcmFuY2VaPXM7YnJlYWs7Y2FzZSAyOnRoaXMubV90b2xlcmFuY2VNPXM7YnJlYWs7ZGVmYXVsdDp0KFwiY2Fubm90IHNldCB0b2xlcmFuY2UgZm9yIHRoaXMgYXR0cmlidXRlXCIpfX1zZXRHcmlkUGFyYW1zKGUscyxuKXtOdW1iZXIuaXNGaW5pdGUoZSkmJk51bWJlci5pc0Zpbml0ZShzKSYmTnVtYmVyLmlzRmluaXRlKG4pfHx0KFwiZ3JpZCBwYXJhbXMgYXJlIG5vdCBmaW5pdGVcIiksbjwxJiZ0KFwiZ3JpZCB1bml0cyBjYW5ub3QgYmUgc21hbGxlciB0aGFuIDEuMFwiKSx0aGlzLm1fZmFsc2VYPWUsdGhpcy5tX2ZhbHNlWT1zLHRoaXMubV91bml0c1hZPW59c2V0WlBhcmFtcyhlLHMpe051bWJlci5pc0Zpbml0ZShlKSYmTnVtYmVyLmlzRmluaXRlKHMpfHx0KFwiZ3JpZCBwYXJhbXMgYXJlIG5vdCBmaW5pdGVcIiksczwxJiZ0KFwiZ3JpZCB1bml0cyBjYW5ub3QgYmUgc21hbGxlciB0aGFuIDEuMFwiKSx0aGlzLm1fZmFsc2VaPWUsdGhpcy5tX3VuaXRzWj1zfXNldE1QYXJhbXMoZSxzKXtOdW1iZXIuaXNGaW5pdGUoZSkmJk51bWJlci5pc0Zpbml0ZShzKXx8dChcImdyaWQgcGFyYW1zIGFyZSBub3QgZmluaXRlXCIpLHM8MSYmdChcImdyaWQgdW5pdHMgY2Fubm90IGJlIHNtYWxsZXIgdGhhbiAxLjBcIiksdGhpcy5tX2ZhbHNlTT1lLHRoaXMubV91bml0c009c31zZXRQcmVjaXNpb24oZSl7fWVxdWFscyhlKXtyZXR1cm4gdGhpcz09PWV8fHN0KHRoaXMubV9mYWxzZVgsZS5tX2ZhbHNlWCkmJnN0KHRoaXMubV9mYWxzZVksZS5tX2ZhbHNlWSkmJnRoaXMuZXF1YWxzV2l0aG91dEZhbHNlWFkoZSl9c25hcFByZWNpc2lvbigpe2lmKDI9PT10aGlzLm1fcHJlY2lzaW9uKXJldHVybjtjb25zdCBlPShlLHQscyxuKT0+e2lmKCFOdW1iZXIuaXNGaW5pdGUodCl8fCFOdW1iZXIuaXNGaW5pdGUocykpcmV0dXJuIHM7aWYoczwxKXJldHVybiAxO2lmKCFuKXJldHVybiBzO2NvbnN0IHI9TnVtYmVyKGUpL3M7cmV0dXJuIE1hdGgudHJ1bmMoKHQrci10KSpzKT5lJiYocz1lLyh0K3ItdCkpLE1hdGgubWF4KDEscyl9LHQ9TnVtYmVyKDA9PT10aGlzLm1fcHJlY2lzaW9uP0d1OkR1KTt0aGlzLm1fdW5pdHNYWT1lKHQsdGhpcy5tX2ZhbHNlWCx0aGlzLm1fdW5pdHNYWSwhMCksdGhpcy5tX3VuaXRzWFk9ZSh0LHRoaXMubV9mYWxzZVksdGhpcy5tX3VuaXRzWFksITApLHRoaXMubV91bml0c1o9ZSh0LHRoaXMubV9mYWxzZVosdGhpcy5tX3VuaXRzWiwhMSksdGhpcy5tX3VuaXRzTT1lKHQsdGhpcy5tX2ZhbHNlTSx0aGlzLm1fdW5pdHNNLCExKX12ZXJpZnlQcmVjaXNpb24oKXtpZigyPT09dGhpcy5tX3ByZWNpc2lvbilyZXR1cm4hMDtjb25zdCBlPShlLHQscyxuKT0+e2lmKHM8MSlyZXR1cm4hMTtpZighTnVtYmVyLmlzRmluaXRlKHQpfHwhTnVtYmVyLmlzRmluaXRlKHMpKXJldHVybiExO2lmKCFuKXJldHVybiEwO2NvbnN0IHI9TnVtYmVyKGUpL3M7cmV0dXJuIShCaWdJbnQoKHQrci10KSpzKT5lKX0sdD0wPT09dGhpcy5tX3ByZWNpc2lvbj9HdTpEdTtyZXR1cm4hIWUodCx0aGlzLm1fZmFsc2VYLHRoaXMubV91bml0c1hZLCEwKSYmKCEhZSh0LHRoaXMubV9mYWxzZVksdGhpcy5tX3VuaXRzWFksITApJiYoISFlKHQsdGhpcy5tX2ZhbHNlWix0aGlzLm1fdW5pdHNaLCExKSYmISFlKHQsdGhpcy5tX2ZhbHNlTSx0aGlzLm1fdW5pdHNNLCExKSkpfWZpeFRvbGVyYW5jZSgpezIhPT10aGlzLm1fcHJlY2lzaW9uJiYodGhpcy5tX3RvbGVyYW5jZVhZPU1hdGgubWF4KDIvdGhpcy5tX3VuaXRzWFksdGhpcy5tX3RvbGVyYW5jZVhZKSx0aGlzLm1fdG9sZXJhbmNlWj1NYXRoLm1heCgyL3RoaXMubV91bml0c1osdGhpcy5tX3RvbGVyYW5jZVopLHRoaXMubV90b2xlcmFuY2VNPU1hdGgubWF4KDIvdGhpcy5tX3VuaXRzTSx0aGlzLm1fdG9sZXJhbmNlTSksKE51bWJlci5pc05hTih0aGlzLm1fZmFsc2VYKXx8TnVtYmVyLmlzTmFOKHRoaXMubV9mYWxzZVkpKSYmKHRoaXMubV9mYWxzZVg9dGhpcy5tX2ZhbHNlWT1OdW1iZXIuTmFOKSl9ZXF1YWxzV2l0aG91dEZhbHNlWFkoZSl7cmV0dXJuIHRoaXM9PT1lfHx0aGlzLm1fdW5pdHNYWT09PWUubV91bml0c1hZJiZ0aGlzLm1fZmFsc2VaPT09ZS5tX2ZhbHNlWiYmdGhpcy5tX3VuaXRzWj09PWUubV91bml0c1omJnRoaXMubV9mYWxzZU09PT1lLm1fZmFsc2VNJiZ0aGlzLm1fdW5pdHNNPT09ZS5tX3VuaXRzTSYmdGhpcy5tX3RvbGVyYW5jZVhZPT09ZS5tX3RvbGVyYW5jZVhZJiZ0aGlzLm1fdG9sZXJhbmNlWj09PWUubV90b2xlcmFuY2VaJiZ0aGlzLm1fdG9sZXJhbmNlTT09PWUubV90b2xlcmFuY2VNJiZ0aGlzLm1fcHJlY2lzaW9uPT09ZS5tX3ByZWNpc2lvbn1zZXRCZXN0WHlEb21haW5Gcm9tRW52ZWxvcGUoZSx0KXt9c2V0QmVzdFpEb21haW5Gcm9tWlJhbmdlKGUsdCxzKXt9c2V0QmVzdE1Eb21haW5Gcm9tTVJhbmdlKGUsdCxzKXt9fWZ1bmN0aW9uIGhjKCl7cmV0dXJuKCFuY3x8VXUoKSYmbnVsbD09PW5jLmdldFBFQ29vcmRTeXMoKSkmJihuYz1kYygzODU3LDAsbnVsbCwhMCkpLG5jfWZ1bmN0aW9uIG1jKCl7cmV0dXJuKCFyY3x8VXUoKSYmbnVsbD09PXJjLmdldFBFQ29vcmRTeXMoKSkmJihyYz1kYygxMDIxMDAsMCxudWxsLCEwKSkscmN9ZnVuY3Rpb24gbGMoKXtyZXR1cm4oIWljfHxVdSgpJiZudWxsPT09aWMuZ2V0UEVDb29yZFN5cygpKSYmKGljPWRjKDQzMjYsMCxudWxsLCEwKSksaWN9ZnVuY3Rpb24gZ2MoZSl7ZS5tX2ZhbHNlWD0wLGUubV9mYWxzZVk9MCxlLm1fdW5pdHNYWT0xLGUubV9mYWxzZVo9MCxlLm1fdW5pdHNaPTEsZS5tX2ZhbHNlTT0wLGUubV91bml0c009MSxlLm1fdG9sZXJhbmNlWFk9MTAwKmh0KCksZS5tX3RvbGVyYW5jZVo9MTAwKmh0KCksZS5tX3RvbGVyYW5jZU09MTAwKmh0KCksZS5tX3ByZWNpc2lvbj0yfWZ1bmN0aW9uIHVjKGUscyxuLHIpe2NvbnN0IGk9cyBpbnN0YW5jZW9mIHFnO2djKGUpLGUubV9wcmVjaXNpb249cixlLm1fZmFsc2VYPU51bWJlci5OYU4sZS5tX2ZhbHNlWT1OdW1iZXIuTmFOO2NvbnN0IG89MWUtNCxhPS4wMDEsaD1pP3MubV9jc1R5cGU6cy5pc1BDUz8yOjE7aWYoMT09PWgpe2NvbnN0IHQ9KDA9PT1yPzEvMThlNToxZS05KSooaT9zLmdldE9uZURlZ3JlZUdDU1VuaXQoKTpNYXRoLlBJL3MubWV0ZXJzT3JSYWRpYW5zUGVyVW5pdC8xODApO2UubV91bml0c1hZPTEvdH1lbHNlIGlmKDI9PT1oKXtjb25zdCB0PSgwPT09cj9hOm8pKihpP3MuZ2V0T25lTWV0ZXJQQ1NVbml0KCk6MS9zLm1ldGVyc09yUmFkaWFuc1BlclVuaXQpO2UubV91bml0c1hZPTEvdH1lbHNlIHQoXCJ1bnJlY29nbml6ZWQgY3MgdHlwZVwiKTtlLm1fZmFsc2VNPS0xZTUsZS5tX3VuaXRzTT0xLygwPT09cj9hOm8pLGUubV91bml0c009TWF0aC5tYXgoMSxlLm1fdW5pdHNNKSxlLm1fdW5pdHNYWT1NYXRoLm1heCgxLGUubV91bml0c1hZKTtsZXQgbT0wLGw9MDswIT09ciYmMSE9PXJ8fChtPTIvZS5tX3VuaXRzWFksbD0yL2UubV91bml0c00pLGUubV90b2xlcmFuY2VYWT1NYXRoLm1heChtLGk/cy5nZXRVbml0c1Blck1pbGxpbWV0ZXIoKToyPT09aD8uMDAxL3MubWV0ZXJzT3JSYWRpYW5zUGVyVW5pdDouMDAxLyhzLnNlbWlNYWpvcipzLm1ldGVyc09yUmFkaWFuc1BlclVuaXQpKSxlLm1fdG9sZXJhbmNlTT1NYXRoLm1heChhLGwpLGNjKGUsbil9ZnVuY3Rpb24gY2MoZSx0KXtjb25zdCBzPTFlLTQsbj0uMDAxO2lmKGUubV9mYWxzZVo9LTFlNSx0KXtjb25zdCByPSgwPT09ZS5tX3ByZWNpc2lvbj9uOnMpKnQuZ2V0T25lTWV0ZXIoKTtlLm1fdW5pdHNaPTEvcn1lbHNlIGUubV91bml0c1o9MS8oMD09PWUubV9wcmVjaXNpb24/bjpzKTtlLm1fdW5pdHNaPU1hdGgubWF4KDEsZS5tX3VuaXRzWik7bGV0IHI9MDswIT09ZS5tX3ByZWNpc2lvbiYmMSE9PWUubV9wcmVjaXNpb258fChyPTIvZS5tX3VuaXRzWiksZS5tX3RvbGVyYW5jZVo9TWF0aC5tYXgodD90LmdldE9uZU1ldGVyKCkqbjpuLHIpfWZ1bmN0aW9uIF9jKGUsdCxzLG4pe2djKGUpLGUubV9wcmVjaXNpb249bjtjb25zdCByPTA9PT1uP0d1OkR1LGk9MWUtNCxvPS4wMDE7bGV0IGE9MSxoPTEsbT0uMDAxO3QmJihoPXQuZ2V0VW5pdFRvQmFzZUZhY3RvcigpKSx0JiYxPT09dC5nZXRVbml0VHlwZSgpPyhhPTQwMCpNYXRoLlBJLzE4MCxtPTguOTgzMTUyODQxMTk1MjE1ZS05Kk1hdGguUEkvMTgwL2gpOihhPSgwPT09bj9vOmkpKk51bWJlcihyKSouNSxtPW8vaCksYS89aCxlLm1fZmFsc2VYPS1hLGUubV9mYWxzZVk9LWEsZS5tX3VuaXRzWFk9TnVtYmVyKHIpLygyKmEpLGUubV9mYWxzZU09LTFlNSxlLm1fdW5pdHNNPTEvKDA9PT1uP286aSksZS5tX3VuaXRzTT1NYXRoLm1heCgxLGUubV91bml0c00pLGUuc25hcFByZWNpc2lvbigpO2xldCBsPTAsZz0wOzAhPT1lLm1fcHJlY2lzaW9uJiYxIT09ZS5tX3ByZWNpc2lvbnx8KGc9Mi9lLm1fdW5pdHNNLGw9Mi9lLm1fdW5pdHNYWSksZS5tX3RvbGVyYW5jZVhZPU1hdGgubWF4KGwsbSksZS5tX3RvbGVyYW5jZU09TWF0aC5tYXgobyxnKSxjYyhlLHMpfWZ1bmN0aW9uIGRjKGUsdCxzLG4pe2lmKCFuJiZ0PD0wKXtpZigzODU3PT09ZSlyZXR1cm4gaGMoKTtpZigxMDIxMDA9PT1lKXJldHVybiBtYygpO2lmKDQzMjY9PT1lKXJldHVybiBsYygpfWNvbnN0IHI9bmV3IG9jO2xldCBpLG89bnVsbDtyZXR1cm4gVXUoKT8oaT1pdShlKSx0PjA/bz1udWxsOnQ9MCxyLnNldEhvcnpQcm9qXyhpKSxyLm1fdmVydGNzPW8pOihpPUFjKGUpLHIubV91bml0PWkuaXNQQ1M/bmV3IGJ1KGkubWV0ZXJzT3JSYWRpYW5zUGVyVW5pdCk6bmV3IG9zKGkubWV0ZXJzT3JSYWRpYW5zUGVyVW5pdCkpLHVjKHIubV9wcmVjaXNpb25EZXNjcmlwdG9yLGksbywxKSxyLm1fYkRlZmF1bHREZXNjcmlwdG9yPSEwLHIubV91c2VyV0tJRD1lLHIuY2FsY3VsYXRlSGFzaENvZGUoKSxyLmluaXREYmdOYW1lKCkscn1mdW5jdGlvbiBwYyhlLHQscyl7cmV0dXJuIG50KChlLXQpKnMpL3MrdH1sZXQgZmM9bnVsbDtjb25zdCB4Yz0zNTUyNzEzNjc4ODAwNTAxZS0zMDtmdW5jdGlvbiB5YyhlLHQscyl7cmV0dXJuIGU9PT10fHxNYXRoLmFicyhlLXQpPD1zKigxKyhNYXRoLmFicyhlKStNYXRoLmFicyh0KSkvMil9ZnVuY3Rpb24gUGMoZSx0KXtyZXR1cm4geWMoZSx0LHhjKX1mdW5jdGlvbiBFYyhlLHQpe3JldHVybiAwPT09ZXx8TWF0aC5hYnMoZSk8PXR9ZnVuY3Rpb24gU2MoZSl7cmV0dXJuIEVjKGUseGMpfWxldCBDYyxJYyxiYyx3Yyx2YyxOYyxUYyxHYyxEYyxWYyxGYztmdW5jdGlvbiBIYyhlKXtyZXR1cm57X3RoaXM6ZSxnZXQoKXtyZXR1cm4gdGhpcy5fdGhpc30scmVzZXQoZSl7dGhpcy5fdGhpcz1lfSxyZWxlYXNlKCl7Y29uc3QgZT10aGlzLl90aGlzO3JldHVybiB0aGlzLl90aGlzPW51bGwsZX19fWxldCBrYz1udWxsO2Z1bmN0aW9uIEFjKGUpe2Eoa2MpO2NvbnN0IHQ9a2MoZSk7cmV0dXJuIHQuc2VtaU1ham9yPXQuaXNQQ1M/TnVtYmVyLk5hTjpSYyhlKSx0fWZ1bmN0aW9uIE1jKGUpe2tjPWUsYShrYyl9ZnVuY3Rpb24gVWMoZSl7Y29uc3QgdD1lO0ljPXQuUGVGYWN0b3J5LGEoSWMpLEZjPXQuUGVHQ1NFeHRlbnQsYShGYyksRGM9dC5QZUxpbmVUeXBlLGEoRGMpLFZjPXQuUGVNYXRoLGEoVmMpLENjPXQuUGVEb3VibGUsYShDYyksYmM9dC5QZURlZnMsYShiYyksd2M9dC5QZUNTVHJhbnNmb3JtYXRpb25zLGEod2MpLHZjPXQuUGVHVFRyYW5zZm9ybWF0aW9ucyxhKHZjKSxOYz10LlBlUENTSW5mbyxhKE5jKSxUYz10LlBlR1RsaXN0RXh0ZW5kZWQsYShUYyksSWMuaW5pdGlhbGl6ZSgpLEdjPXQuUGVHVGxpc3RFeHRlbmRlZEVudHJ5LGEoR2MpLGJjLlBFX1RZUEVfQU5HVU5JVD01MTIsYmMuUEVfU1RSX0FVVEhfQUxMPTIsTmMuUEVfUE9MRV9MSU5FX1NUUkFJR0hUPTIsTmMuUEVfUE9MRV9MSU5FX0NVUlZFRD0zLGJjLlBFX1BBUk1fTEFNMD0yLGJjLlBFX1BBUk1fUEhJMD02LGJjLlBFX1BSSl9BWklNVVRIQUxfRVFVSURJU1RBTlQ9NDMwMzIsYmMuUEVfUFJKX0xBTUJFUlRfQVpJTVVUSEFMX0VRQVJFQT00MzAzMyxiYy5QRV9QUkpfQUxCRVJTPTQzMDA3LGJjLlBFX1BSSl9DWUxJTkRSSUNBTF9FUUFSRUE9NDMwMzQsYmMuUEVfVFlQRV9WRVJUQ1M9OCxiYy5QRV9MSU5FVFlQRV9HRU9ERVNJQz0wLGJjLlBFX0xJTkVUWVBFX0xPWE9EUk9NRT0xLGJjLlBFX0xJTkVUWVBFX0dSRUFUX0VMTElQVElDPTIsYmMuUEVfTElORVRZUEVfTk9STUFMX1NFQ1RJT049MyxUYy5QRV9HVExJU1RfT1BUU19VU0FCTEU9MSxrYz1udWxsfWZ1bmN0aW9uIHFjKGUsdCxzLG4pe3JldHVybiB0PD0wPyhzWzBdPTAsblswXT0wLCExKTooc1swXT10LG5bMF09dCwhMCl9ZnVuY3Rpb24gQmMoZSl7YShxdSgpKTtyZXR1cm4hIWtjKGUpLmlzUENTfHxPYyhlKX1mdW5jdGlvbiBPYyhlKXtyZXR1cm4gSWMmJmMoXCJwZSBoYXMgYmVlbiBsb2FkZWQuIG5vLXBlIG1ldGhvZHMgc2hvdWxkIG5vdCBiZSB1c2VkIGF0IHRoaXMgcG9pbnQuXCIpLGZjfHxYYygpLGZjLmhhcyhlKX1jb25zdCBZYz0vKD86RUxMSVBTT0lEfFNQSEVST0lEKVxcW1wiKD86XFx3fFstKCldKStcIiwoXFxkK1xcLlxcZCspLztmdW5jdGlvbiBSYyhlKXtpZihJYyYmYyhcInBlIGhhcyBiZWVuIGxvYWRlZC4gbm8tcGUgbWV0aG9kcyBzaG91bGQgbm90IGJlIHVzZWQgYXQgdGhpcyBwb2ludC5cIiksXCJzdHJpbmdcIj09dHlwZW9mIGUpe2NvbnN0IHM9ZS5tYXRjaChZYyk7cyYmMj09PXMubGVuZ3RofHx0KFwiYmFkIGdjcyB3a3RcIik7Y29uc3Qgbj1OdW1iZXIucGFyc2VGbG9hdChzWzFdKTtyZXR1cm4gTnVtYmVyLmlzRmluaXRlKG4pfHx0KFwiYmFkIGdjcyB3a3RcIiksbn1yZXR1cm4gZmN8fFhjKCksZmMuaGFzKGUpfHxjKFwiZ2NzIHdraWQgbm90IGZvdW5kXCIpLGZjLmdldChlKX1mdW5jdGlvbiBYYygpe2ZjPW5ldyBNYXA7Zm9yKGNvbnN0IGUgaW4gcnMpe2NvbnN0IHQ9TnVtYmVyLnBhcnNlRmxvYXQoZSkscz1yc1tlXTtpZihBcnJheS5pc0FycmF5KHMpKWZvcihjb25zdCBlIG9mIHMpZmMuc2V0KGUsdCk7ZWxzZSBmYy5zZXQocyx0KX1pcygpfWZ1bmN0aW9uIExjKGUsdCl7Y29uc3Qgcz1JYy5nZW9ndHJhbihlKTtzfHx4KGUpO3JldHVybiBuZXcgS2Mocyx0KX1mdW5jdGlvbiB6YyhlLHQpe2NvbnN0IHM9SWMuZnJvbVN0cmluZyhiYy5QRV9UWVBFX0dFT0dUUkFOLGUpO3N8fEMoZSk7cmV0dXJuIG5ldyBLYyhzLHQpfWZ1bmN0aW9uIFdjKGUsdCl7cmV0dXJuIG5ldyBLYyhlLHQpfWNvbnN0IGpjPVplKDApLFpjPVplKDEpO2xldCBLYz1jbGFzcyBle2NvbnN0cnVjdG9yKHQscyl7aWYodCBpbnN0YW5jZW9mIGUpcmV0dXJuIHRoaXMubV9nZW9nVHJhbldyYXBwZXI9dC5tX2dlb2dUcmFuV3JhcHBlcix0aGlzLm1fYkludmVydGVkPXM/IXQubV9iSW52ZXJ0ZWQ6dC5tX2JJbnZlcnRlZCx2b2lkKHRoaXMubV9oYXNoQ29kZT1qZSh0aGlzLm1fZ2VvZ1RyYW5XcmFwcGVyLmdldEhhc2hDb2RlKCksdGhpcy5tX2JJbnZlcnRlZD9aYzpqYykpO3RoaXMubV9nZW9nVHJhbldyYXBwZXI9bmV3IFVtKHQpLHRoaXMubV9iSW52ZXJ0ZWQ9cyx0aGlzLm1faGFzaENvZGU9amUodGhpcy5tX2dlb2dUcmFuV3JhcHBlci5nZXRIYXNoQ29kZSgpLHRoaXMubV9iSW52ZXJ0ZWQ/WmM6amMpfWdldElEKCl7cmV0dXJuIHRoaXMubV9nZW9nVHJhbldyYXBwZXIuZ2V0TGF0ZXN0SWQoKX1nZXRMYXRlc3RJRCgpe3JldHVybiB0aGlzLm1fZ2VvZ1RyYW5XcmFwcGVyLmdldExhdGVzdElkKCl9Z2V0VGV4dCgpe3JldHVybiB0aGlzLm1fZ2VvZ1RyYW5XcmFwcGVyLmdldFRleHQoKX1nZXRUZXh0RXh0ZW5kZWQoZSl7aWYoIXRoaXMubV9nZW9nVHJhbldyYXBwZXIuZ2V0R2VvZ3RyYW4oKSlyZXR1cm5cIlwiO2lmKC0xPT09ZSlyZXR1cm4gdGhpcy5tX2dlb2dUcmFuV3JhcHBlci5nZXRHZW9ndHJhbigpLnRvU3RyaW5nKCk7e2NvbnN0IHQ9MD09PWU/YmMuUEVfU1RSX0FVVEhfVE9QOmJjLlBFX1NUUl9BVVRIX0FMTDtyZXR1cm4gdGhpcy5tX2dlb2dUcmFuV3JhcHBlci5nZXRHZW9ndHJhbigpLnRvU3RyaW5nKHQpfX1nZXRUZXh0MihlPS0xKXtsZXQgdD1iYy5QRV9TVFJfRk1UX1dLVDI7cmV0dXJuLTEhPT1lJiYodHw9MD09PWU/YmMuUEVfU1RSX0FVVEhfVE9QOmJjLlBFX1NUUl9BVVRIX0FMTCksdGhpcy5tX2dlb2dUcmFuV3JhcHBlci5nZXRHZW9ndHJhbigpLnRvU3RyaW5nKHQpfWdldE5hbWUoKXtyZXR1cm4gdGhpcy5tX2dlb2dUcmFuV3JhcHBlciYmdGhpcy5tX2dlb2dUcmFuV3JhcHBlci5nZXRHZW9ndHJhbigpP3RoaXMubV9nZW9nVHJhbldyYXBwZXIuZ2V0R2VvZ3RyYW4oKS5nZXROYW1lKCk6XCJcIn1nZXRJbnB1dFNwYXRpYWxSZWZlcmVuY2UoKXtyZXR1cm4gdGhpcy5tX2JJbnZlcnRlZD90aGlzLm1fZ2VvZ1RyYW5XcmFwcGVyLmdldE91dHB1dFNyKCExKTp0aGlzLm1fZ2VvZ1RyYW5XcmFwcGVyLmdldElucHV0U3IoITEpfWdldE91dHB1dFNwYXRpYWxSZWZlcmVuY2UoKXtyZXR1cm4gdGhpcy5tX2JJbnZlcnRlZD90aGlzLm1fZ2VvZ1RyYW5XcmFwcGVyLmdldElucHV0U3IoITEpOnRoaXMubV9nZW9nVHJhbldyYXBwZXIuZ2V0T3V0cHV0U3IoITEpfWdldEludmVyc2UoKXtyZXR1cm4gbmV3IGUodGhpcywhMCl9aXNJbnZlcnRlZCgpe3JldHVybiB0aGlzLm1fYkludmVydGVkfWdldEhhc2hDb2RlKCl7cmV0dXJuIHRoaXMubV9oYXNoQ29kZX1HZXRQZUdlb2d0cmFuKCl7cmV0dXJuIHRoaXMubV9nZW9nVHJhbldyYXBwZXIuZ2V0R2VvZ3RyYW4oKX1lcXVhbHMoZSl7Y29uc3QgdD1lO3JldHVybiB0PT09dGhpc3x8dGhpcy5tX2JJbnZlcnRlZD09PXQubV9iSW52ZXJ0ZWQmJih0aGlzLkdldFBlR2VvZ3RyYW4oKT09PXQuR2V0UGVHZW9ndHJhbigpfHx0aGlzLmdldElEKCk9PT10LmdldElEKCkmJiEoMD09PXRoaXMuZ2V0SUQoKSYmIXRoaXMuR2V0UGVHZW9ndHJhbigpLmlzRXF1YWwodC5HZXRQZUdlb2d0cmFuKCkpKSl9cmVmZXJlbmNlc01pc3NpbmdEYXRhKCl7cmV0dXJuISF0aGlzLm1fZ2VvZ1RyYW5XcmFwcGVyJiYhdGhpcy5tX2dlb2dUcmFuV3JhcHBlci5pc1VzYWJsZSgpfWdldFdyYXBwZXIoKXtyZXR1cm4gdGhpcy5tX2dlb2dUcmFuV3JhcHBlcn19O2Z1bmN0aW9uIFFjKGUsdCxzLG4scil7Y29uc3QgaT1lLmdldEdDUygpLG89dC5nZXRHQ1MoKSxoPWkuZ2V0UEVDb29yZFN5cygpLG09by5nZXRQRUNvb3JkU3lzKCk7bGV0IGw9bnVsbDtpZighcy5pc0VtcHR5KCkpe2NvbnN0IHQ9cy5jbG9uZSgpO2lmKCF0LmlzRW1wdHkoKSYmMj09PWUuZ2V0Q29vcmRpbmF0ZVN5c3RlbVR5cGUoKSl7bGV0IHM9bmV3IHBlKHtlbnYyRDp0fSk7Y29uc3Qgbj1SZyhlLGksbnVsbCk7cz0obmV3IHFoKS5leGVjdXRlKHMsbixudWxsKSxzLnF1ZXJ5RW52ZWxvcGUodCl9aWYoIXQuaXNFbXB0eSgpKXtjb25zdCBlPWguZ2V0UHJpbWVtKCkuZ2V0TG9uZ2l0dWRlKCkscz1oLmdldFVuaXQoKS5nZXRVbml0RmFjdG9yKCk7bD1uZXcgRmModC54bWluLHQueW1pbix0LnhtYXgsdC55bWF4LGUscyl9fWxldCBnPW47Zz49dnQoKSYmKGc9MCk7Y29uc3QgdT1bXTtsZXQgYz1UYy5QRV9HVExJU1RfT1BUU19DT01NT047cnx8KGMmPX5UYy5QRV9HVExJU1RfT1BUU19VU0FCTEUpO2ZvcihsZXQgXz0wO188MjtfKyspe3UubGVuZ3RoPTA7Y29uc3QgZT1nLHQ9VGMuZ2V0R1RsaXN0KGgsbSwyLGMsbCxlKTtsZXQgcz0hMTtpZih0JiZ0Lmxlbmd0aD4wKWZvcihsZXQgaT0wLG89dC5sZW5ndGg7aTxvO2krKyl7Y29uc3QgZT1KYyhbdFtpXV0pO2lmKGEoZSksciYmZS5yZWZlcmVuY2VzTWlzc2luZ0RhdGEoKSlzPSEwO2Vsc2UgaWYodS5wdXNoKGUpLG4+MCYmdS5sZW5ndGg9PT1uKWJyZWFrfWlmKCFzKWJyZWFrOzA9PT1nfHwoZz0wKX1yZXR1cm4gbCYmbC5kZXN0cm95KCksdX1mdW5jdGlvbiBKYyhlKXthKG51bGwhPT1lKTtjb25zdCB0PW5ldyBlXyxzPWVbMF0uZ2V0U3RlcHMoKTtpZihzKXtjb25zdCBuPWVbMF0uZ2V0RW50cmllcygpO2ZvcihsZXQgZT0wO2U8cztlKyspe2NvbnN0IHM9MCE9PW5bZV0uZ2V0RGlyZWN0aW9uKCkscj1XYyhuW2VdLmdldEdlb2d0cmFuKCkscyk7dC5hZGQocil9cmV0dXJuIHQuY3JlYXRlKCl9cmV0dXJuIG51bGx9bGV0ICRjPWNsYXNze2NvbnN0cnVjdG9yKGUsdCxzLG4pe3RoaXMubV9iUmVhZE9ubHk9ITAsdGhpcy5tX25hbWU9XCJcIix0aGlzLm1fZmFzdFRyYWNrPS0xLHRoaXMubV9iTmFtZUlzU2V0PSExLHRoaXMubV90cmFuc2Zvcm1zPWUsdCYmKHRoaXMubV9uYW1lPXQsdGhpcy5tX2JOYW1lSXNTZXQ9ITApLHRoaXMubV9pbnB1dFNyPXMsdGhpcy5tX291dHB1dFNyPW59Z2V0VHlwZSgpe3JldHVybiAwfWdldE5hbWUoKXtpZih0aGlzLm1fYk5hbWVJc1NldClyZXR1cm4gdGhpcy5tX25hbWU7aWYoMD09PXRoaXMubV90cmFuc2Zvcm1zLmxlbmd0aClyZXR1cm5cIlwiO2xldCBlPVwiXCI7Zm9yKGNvbnN0IHQgb2YgdGhpcy5tX3RyYW5zZm9ybXMpZS5sZW5ndGg+MCYmKGUrPVwiICsgXCIpLHQuaXNJbnZlcnRlZCgpJiYoZSs9XCJ+XCIpLGUrPXQuZ2V0TmFtZSgpO3JldHVybiBlfWNvdW50KCl7cmV0dXJuIHRoaXMubV90cmFuc2Zvcm1zLmxlbmd0aH1jcmVhdGVJbnZlcnNlKCl7cmV0dXJuIHRoaXMuZ2V0SW52ZXJzZSgpfWdldEhhc2hDb2RlKCl7bGV0IGU9MTk3Mztmb3IobGV0IHQ9MDt0PHRoaXMubV90cmFuc2Zvcm1zLmxlbmd0aDt0KyspZT1qZShlLHRoaXMubV90cmFuc2Zvcm1zW3RdLmdldEhhc2hDb2RlKCkpO3JldHVybiBlfWVxdWFscyhlKXtyZXR1cm4gYSgwKSwhMX1yZWZlcmVuY2VzTWlzc2luZ0RhdGEoKXtpZigwPT09dGhpcy5tX3RyYW5zZm9ybXMubGVuZ3RoKXJldHVybiExO2Zvcihjb25zdCBlIG9mIHRoaXMubV90cmFuc2Zvcm1zKWlmKGUucmVmZXJlbmNlc01pc3NpbmdEYXRhKCkpcmV0dXJuITA7cmV0dXJuITF9aXNNYXRjaGluZ1RyYW5zZm9ybWF0aW9uKGUsdCl7cmV0dXJuIGEoMCksITF9dmFsaWRhdGVUcmFuc2Zvcm1hdGlvbihlLHQpe3JldHVybiBhKDApLCExfW5hbWVJc1NldCgpe3JldHVybiBhKDApLCExfWdldElucHV0U3BhdGlhbFJlZmVyZW5jZSgpe3JldHVybiB0aGlzLm1faW5wdXRTcn1nZXRPdXRwdXRTcGF0aWFsUmVmZXJlbmNlKCl7cmV0dXJuIHRoaXMubV9vdXRwdXRTcn1nZXRTdGVwKGUpe3JldHVybihlPDB8fGU+dGhpcy5jb3VudCgpKSYmUyhcIlwiKSx0aGlzLm1fdHJhbnNmb3Jtc1tlXX1nZXRJbnZlcnNlKCl7Y29uc3QgZT1uZXcgZV87cmV0dXJuIGUuYWRkU3RlcHModGhpcywhMCksZS5zZXRJbnB1dFNwYXRpYWxSZWZlcmVuY2UodGhpcy5tX291dHB1dFNyKSxlLnNldE91dHB1dFNwYXRpYWxSZWZlcmVuY2UodGhpcy5tX2lucHV0U3IpLGUuY3JlYXRlKCl9dHJhbnNmb3JtKGUsdCxzKXtpZigwPT09dGhpcy5jb3VudCgpKXJldHVybjtsZXQgbj10aGlzLm1faW5wdXRTcixyPXRoaXMubV9vdXRwdXRTcjtpZihlJiYocj1ydChuLG49cikpLDA9PT10aGlzLm1fdHJhbnNmb3Jtcy5sZW5ndGgpcmV0dXJuIHZvaWQgcW0obixudWxsLHIsbnVsbCx0LG51bGwscyk7bGV0IGk9dGhpcy5tX2Zhc3RUcmFjaztpZigxPT09aSlyZXR1cm4gdm9pZCBvZShlLHRoaXMubV90cmFuc2Zvcm1zLChuPT57WG0obi5nZXRXcmFwcGVyKCksZSE9PW4uaXNJbnZlcnRlZCgpLHQsbnVsbCxzKX0pKTtjb25zdCBvPU1tKCk7LTE9PT1pJiZvLmluaXRGcm9tR2NzQW5kVmNzKG4sbnVsbCk7Y29uc3QgYT1NbSgpO2xldCBoPWU/dGhpcy5tX3RyYW5zZm9ybXMubGVuZ3RoLTE6MDtjb25zdCBtPWU/LTE6MTtmb3IobGV0IGc9MCx1PXRoaXMubV90cmFuc2Zvcm1zLmxlbmd0aDtnPHU7ZysrLGgrPW0pe2lmKDA9PT1nKXtjb25zdCByPXRoaXMubV90cmFuc2Zvcm1zW2hdO0JtKG4uZ2V0UEVDb29yZFN5cygpLG51bGwsci5nZXRXcmFwcGVyKCksZSE9PXIuaXNJbnZlcnRlZCgpLHQsbnVsbCxzLGEpLC0xPT09aSYmKG8uZXF1YWxzKGEpfHwoaT0wKSksby5hc3NpZ24oYSl9ZWxzZXtjb25zdCBuPXRoaXMubV90cmFuc2Zvcm1zW2gtbV0scj10aGlzLm1fdHJhbnNmb3Jtc1toXTtZbShvLG4uZ2V0V3JhcHBlcigpLGUhPT1uLmlzSW52ZXJ0ZWQoKSxyLmdldFdyYXBwZXIoKSxlIT09ci5pc0ludmVydGVkKCksdCxudWxsLHMsYSksLTE9PT1pJiYoby5lcXVhbHMoYSl8fChpPTApKSxvLmFzc2lnbihhKX1jb25zdCByPXRoaXMubV90cmFuc2Zvcm1zW2hdO1JtKG8sci5nZXRXcmFwcGVyKCksZSE9PXIuaXNJbnZlcnRlZCgpLHQsbnVsbCxzLGEpLG8uYXNzaWduKGEpfWNvbnN0IGw9dGhpcy5tX3RyYW5zZm9ybXNbaC1tXTtPbShvLGwuZ2V0V3JhcHBlcigpLGUhPT1sLmlzSW52ZXJ0ZWQoKSxyLG51bGwsdCxudWxsLHMpLC0xPT09aSYmKGEuaW5pdEZyb21HY3NBbmRWY3MocixudWxsKSxvLmVxdWFscyhhKXx8KGk9MCkpLHRoaXMubV9mYXN0VHJhY2s9MD09PWk/MDoxfX07Y2xhc3MgZV97Y29uc3RydWN0b3IoKXt0aGlzLm1fdHJhbnNmb3Jtcz1bXSx0aGlzLm1faW5wdXRHQ1M9bnVsbCx0aGlzLm1fb3V0cHV0R0NTPW51bGwsdGhpcy5tX25hbWU9XCJcIix0aGlzLm1fYk5hbWVJc1NldD0hMX1nZXRJbnB1dFNwYXRpYWxSZWZlcmVuY2UoKXtyZXR1cm4gbnVsbCE9PXRoaXMubV9pbnB1dEdDUz90aGlzLm1faW5wdXRHQ1M6dGhpcy5jb3VudCgpPjA/dGhpcy5tX3RyYW5zZm9ybXNbMF0uZ2V0SW5wdXRTcGF0aWFsUmVmZXJlbmNlKCk6bnVsbH1zZXRJbnB1dFNwYXRpYWxSZWZlcmVuY2UoZSl7dGhpcy5tX2lucHV0R0NTPWU/ZS5nZXRHQ1MoKTpudWxsfWdldE91dHB1dFNwYXRpYWxSZWZlcmVuY2UoKXtyZXR1cm4gbnVsbCE9PXRoaXMubV9vdXRwdXRHQ1M/dGhpcy5tX291dHB1dEdDUzp0aGlzLmNvdW50KCk+MD90aGlzLm1fdHJhbnNmb3Jtcy5hdCgtMSkuZ2V0T3V0cHV0U3BhdGlhbFJlZmVyZW5jZSgpOm51bGx9c2V0T3V0cHV0U3BhdGlhbFJlZmVyZW5jZShlKXt0aGlzLm1fb3V0cHV0R0NTPWU/ZS5nZXRHQ1MoKTpudWxsfWdldE5hbWUoKXtpZih0aGlzLm1fYk5hbWVJc1NldClyZXR1cm4gdGhpcy5tX25hbWU7aWYoMD09PXRoaXMubV90cmFuc2Zvcm1zLmxlbmd0aClyZXR1cm5cIlwiO2xldCBlPVwiXCI7Zm9yKGNvbnN0IHQgb2YgdGhpcy5tX3RyYW5zZm9ybXMpZS5sZW5ndGg+MCYmKGUrPVwiICsgXCIpLHQuaXNJbnZlcnRlZCgpJiYoZSs9XCJ+XCIpLGUrPXQuZ2V0TmFtZSgpO3JldHVybiBlfWNvdW50KCl7cmV0dXJuIHRoaXMubV90cmFuc2Zvcm1zLmxlbmd0aH1nZXRTdGVwKGUpe3JldHVybihlPDB8fGU+dGhpcy5jb3VudCgpKSYmUyhcIlwiKSx0aGlzLm1fdHJhbnNmb3Jtc1tlXX1zZXRTdGVwKGUsdCl7YSgwKX1hZGQoZSl7dGhpcy5tX3RyYW5zZm9ybXMucHVzaChlKX1hZGRTdGVwcyhlLHQpe2lmKHQpZm9yKGxldCBzPWUuY291bnQoKS0xO3M+PTA7LS1zKXRoaXMuYWRkKGUuZ2V0U3RlcChzKS5nZXRJbnZlcnNlKCkpO2Vsc2UgZm9yKGxldCBzPTA7czxlLmNvdW50KCk7KytzKXRoaXMuYWRkKGUuZ2V0U3RlcChzKSl9Y2xlYXIoKXt0aGlzLm1fdHJhbnNmb3Jtcz1bXSx0aGlzLm1fbmFtZT1cIlwiLHRoaXMubV9iTmFtZUlzU2V0PSExLHRoaXMubV9pbnB1dEdDUz1udWxsLHRoaXMubV9vdXRwdXRHQ1M9bnVsbH1yZW1vdmUoZSl7YSgwKX1jcmVhdGUoKXtjb25zdCBlPXRoaXMuZ2V0SW5wdXRTcGF0aWFsUmVmZXJlbmNlKCksdD10aGlzLmdldE91dHB1dFNwYXRpYWxSZWZlcmVuY2UoKSxzPW5ldyAkYyh0aGlzLm1fdHJhbnNmb3Jtcyx0aGlzLm1fYk5hbWVJc1NldD90aGlzLm1fbmFtZTpudWxsLGUsdCk7cmV0dXJuIHMubV9iUmVhZE9ubHk9ITAsdGhpcy5jbGVhcigpLHN9fWNvbnN0IHRfPU9iamVjdC5mcmVlemUoT2JqZWN0LmRlZmluZVByb3BlcnR5KHtfX3Byb3RvX186bnVsbCxTcGF0aWFsUmVmZXJlbmNlOm9jLFNwYXRpYWxSZWZlcmVuY2VQcmVjaXNpb25EZXNjcmlwdG9yOmFjLGNyZWF0ZTpPdSxjcmVhdGVGcm9tV0tUOll1LGNyZWF0ZUltcGxGcm9tUGU6UnUsY3JlYXRlTG9jYWw6V3UsY3JlYXRlV2l0aE5ld1ByZWNpc2lvbjpMdSxjcmVhdGVXaXRoTmV3VkNTOnp1LGdldEdDUzpadSxnZXRUZW1wTmFtZTp0YyxoYXNOb1BlOnF1LGhhc1BlOlV1LGluamVjdE5vUGU6TXUsaW5qZWN0UGU6QXUsaXNJbml0aWFsaXplZDpCdSxpc1RlbXBOYW1lOnNjLGlzVmFsaWRXa2lkOkt1LGlzVmFsaWRXa3Q6UXUsbWFrZVNwaGVyb2lkRGF0YTpIdSxzbmFwR2VvbWV0cnk6anUsd2ViTWVyY2F0b3I6aGMsd2ViTWVyY2F0b3IxMDIxMDA6bWMsd2dzODQ6bGN9LFN5bWJvbC50b1N0cmluZ1RhZyx7dmFsdWU6XCJNb2R1bGVcIn0pKSxzXz1PYmplY3QuZnJlZXplKE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh7X19wcm90b19fOm51bGwsT3BlcmF0b3JQcm9qZWN0OnFofSxTeW1ib2wudG9TdHJpbmdUYWcse3ZhbHVlOlwiTW9kdWxlXCJ9KSksbl89T2JqZWN0LmZyZWV6ZShPYmplY3QuZGVmaW5lUHJvcGVydHkoe19fcHJvdG9fXzpudWxsLENvbXBvc2l0ZUdlb2dyYXBoaWNUcmFuc2Zvcm1hdGlvbjokYyxDb21wb3NpdGVHZW9ncmFwaGljVHJhbnNmb3JtYXRpb25FZGl0b3I6ZV8sY3JlYXRlSW1wbDpKYyxxdWVyeUd0TGlzdEltcGw6UWN9LFN5bWJvbC50b1N0cmluZ1RhZyx7dmFsdWU6XCJNb2R1bGVcIn0pKSxyXz1PYmplY3QuZnJlZXplKE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh7X19wcm90b19fOm51bGwsR2VvZ3JhcGhpY1RyYW5zZm9ybWF0aW9uOktjLGNyZWF0ZTpMYyxjcmVhdGVGcm9tUGU6V2MsY3JlYXRlRnJvbVdLVDp6Y30sU3ltYm9sLnRvU3RyaW5nVGFnLHt2YWx1ZTpcIk1vZHVsZVwifSkpLGlfPU9iamVjdC5mcmVlemUoT2JqZWN0LmRlZmluZVByb3BlcnR5KHtfX3Byb3RvX186bnVsbCxQcm9qZWN0aW9uVHJhbnNmb3JtYXRpb246ZXUsY3JlYXRlOk9nLGNyZWF0ZUV4OlJnLGNyZWF0ZUZyb21Bb2k6WWcsY3JlYXRlSW1wbEV4OkxnLG1ha2VFeHRlbmRlZFBhcmFtczpXZyxtYWtlRXh0ZW5kZWRQYXJhbXNJbnRlcm5hbDpRZyxxdWVyeVRyYW5zZm9ybWF0aW9uTGlzdDp6Z30sU3ltYm9sLnRvU3RyaW5nVGFnLHt2YWx1ZTpcIk1vZHVsZVwifSkpO2V4cG9ydHtSaCBhcyAkLERjIGFzIEEsd2MgYXMgQixmYSBhcyBDLFJnIGFzIEQsZHMgYXMgRSxtZyBhcyBGLFBzIGFzIEcsV2wgYXMgSCxjcyBhcyBJLFhsIGFzIEoscWwgYXMgSyxXbyBhcyBMLFZjIGFzIE0sT2ggYXMgTixFaCBhcyBPLENjIGFzIFAsWWggYXMgUSxXdSBhcyBSLGFzIGFzIFMsS2EgYXMgVCxBZyBhcyBVLGNtIGFzIFYsa2wgYXMgVyxQYyBhcyBYLHVtIGFzIFksTGggYXMgWix6aCBhcyBfLFl1IGFzIGEsWGggYXMgYTAsX20gYXMgYTEscXMgYXMgYTIsSXMgYXMgYTMsdnMgYXMgYTQsVGggYXMgYTUsVXMgYXMgYTYsQ3MgYXMgYTcsamwgYXMgYTgsYmMgYXMgYTksUXUgYXMgYUEsS3UgYXMgYUIsSG0gYXMgYUMsYWMgYXMgYUQsTHUgYXMgYUUsc3MgYXMgYUYsdF8gYXMgYUcsc18gYXMgYUgsbl8gYXMgYUkscl8gYXMgYUosaV8gYXMgYUssUWcgYXMgYWEsV2cgYXMgYWIsTGcgYXMgYWMsY2wgYXMgYWQsZmcgYXMgYWUsc3IgYXMgYWYsaXIgYXMgYWcsem0gYXMgYWgsV20gYXMgYWksaGEgYXMgYWosUmEgYXMgYWssa2EgYXMgYWwsVXUgYXMgYW0sZXIgYXMgYW4sanUgYXMgYW8sU2EgYXMgYXAseWEgYXMgYXEscGEgYXMgYXIsbmggYXMgYXMsdG4gYXMgYXQsc24gYXMgYXUsWXMgYXMgYXYsdGMgYXMgYXcsSWMgYXMgYXgsemwgYXMgYXksa3MgYXMgYXosam0gYXMgYixPdSBhcyBjLHVsIGFzIGQsTG0gYXMgZSxLbSBhcyBmLHdoIGFzIGcsTG8gYXMgaCxNdSBhcyBpLGFsIGFzIGosaWggYXMgayxkYSBhcyBsLF9hIGFzIG0sYWEgYXMgbixGYSBhcyBvLE1hIGFzIHAsbGEgYXMgcSxrciBhcyByLGhoIGFzIHMsWm4gYXMgdCxLbyBhcyB1LEh1IGFzIHYsQWwgYXMgdyxUbCBhcyB4LFpsIGFzIHkscWggYXMgen07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=