export const __webpack_id__ = "vendors-node_modules_arcgis_core_views_2d_layers_BitmapTileLayerView2D_js-node_modules_arcgis-ac0a9b";
export const __webpack_ids__ = ["vendors-node_modules_arcgis_core_views_2d_layers_BitmapTileLayerView2D_js-node_modules_arcgis-ac0a9b"];
export const __webpack_modules__ = {

/***/ "./node_modules/@arcgis/core/views/2d/engine/Bitmap.js":
/*!*************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/Bitmap.js ***!
  \*************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Bitmap: () => (/* binding */ S),
/* harmony export */   isImageSource: () => (/* binding */ g),
/* harmony export */   rasterize: () => (/* binding */ f)
/* harmony export */ });
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _core_libs_gl_matrix_2_math_mat3_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/libs/gl-matrix-2/math/mat3.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/math/mat3.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_mat3f32_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/libs/gl-matrix-2/factories/mat3f32.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/mat3f32.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_vec2f32_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/libs/gl-matrix-2/factories/vec2f32.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/vec2f32.js");
/* harmony import */ var _DisplayObject_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./DisplayObject.js */ "./node_modules/@arcgis/core/views/2d/engine/DisplayObject.js");
/* harmony import */ var _ImageryBitmapSource_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./ImageryBitmapSource.js */ "./node_modules/@arcgis/core/views/2d/engine/ImageryBitmapSource.js");
/* harmony import */ var _webgl_enums_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../webgl/enums.js */ "./node_modules/@arcgis/core/views/webgl/enums.js");
/* harmony import */ var _webgl_Texture_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../webgl/Texture.js */ "./node_modules/@arcgis/core/views/webgl/Texture.js");
/* harmony import */ var _webgl_TextureDescriptor_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../webgl/TextureDescriptor.js */ "./node_modules/@arcgis/core/views/webgl/TextureDescriptor.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
function g(t){return t&&"render"in t}function f(t){const e=document.createElement("canvas");return e.width=t.width,e.height=t.height,t.render(e.getContext("2d")),e}function w(t){return g(t)?t instanceof _ImageryBitmapSource_js__WEBPACK_IMPORTED_MODULE_5__["default"]?t.getRenderedRasterPixels()?.renderedRasterPixels:f(t):t}class S extends _DisplayObject_js__WEBPACK_IMPORTED_MODULE_4__.DisplayObject{constructor(t=null,e=!1){super(),this.blendFunction="standard",this._sourceWidth=0,this._sourceHeight=0,this._textureInvalidated=!1,this.stencilRef=0,this.coordScale=[1,1],this._height=void 0,this.pixelRatio=1,this.resolution=0,this.rotation=0,this._source=null,this._texture=null,this._width=void 0,this.x=0,this.y=0,this.immutable=e,this.source=t,this.requestRender=this.requestRender.bind(this)}destroy(){this._texture&&(this._texture.dispose(),this._texture=null),null!=this._uploadStatus&&(this._uploadStatus.controller.abort(),this._uploadStatus=null)}get isSourceScaled(){return this.width!==this._sourceWidth||this.height!==this._sourceHeight}get height(){return void 0!==this._height?this._height:this._sourceHeight}set height(t){this._height=t}get source(){return this._source}set source(t){null==t&&null==this._source||(this._source=t,this.invalidateTexture(),this.requestRender())}get texture(){return this._texture}get width(){return void 0!==this._width?this._width:this._sourceWidth}set width(t){this._width=t}beforeRender(t){super.beforeRender(t),this.updateTexture(t)}async setSourceAsync(i,s){null!=this._uploadStatus&&this._uploadStatus.controller.abort();const r=new AbortController,h=(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_0__.createResolver)();return (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_0__.onAbortOrThrow)(s,(()=>r.abort())),(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_0__.onAbortOrThrow)(r,(t=>h.reject(t))),this._uploadStatus={controller:r,resolver:h},this.source=i,h.promise}invalidateTexture(){this._textureInvalidated||(this._textureInvalidated=!0,this._source instanceof HTMLImageElement?(this._sourceHeight=this._source.naturalHeight,this._sourceWidth=this._source.naturalWidth):this._source&&(this._sourceHeight=this._source.height,this._sourceWidth=this._source.width))}transitionStep(t,e){t>=64&&(this.fadeTransitionEnabled=!1),super.transitionStep(t,e)}setTransform(t){const e=(0,_core_libs_gl_matrix_2_math_mat3_js__WEBPACK_IMPORTED_MODULE_1__.identity)(this.transforms.displayViewScreenMat3),[i,a]=t.toScreenNoRotation([0,0],[this.x,this.y]),l=this.resolution/this.pixelRatio/t.resolution,d=l*this.width,c=l*this.height,_=Math.PI*this.rotation/180;(0,_core_libs_gl_matrix_2_math_mat3_js__WEBPACK_IMPORTED_MODULE_1__.translate)(e,e,(0,_core_libs_gl_matrix_2_factories_vec2f32_js__WEBPACK_IMPORTED_MODULE_3__.fromValues)(i,a)),(0,_core_libs_gl_matrix_2_math_mat3_js__WEBPACK_IMPORTED_MODULE_1__.translate)(e,e,(0,_core_libs_gl_matrix_2_factories_vec2f32_js__WEBPACK_IMPORTED_MODULE_3__.fromValues)(d/2,c/2)),(0,_core_libs_gl_matrix_2_math_mat3_js__WEBPACK_IMPORTED_MODULE_1__.rotate)(e,e,-_),(0,_core_libs_gl_matrix_2_math_mat3_js__WEBPACK_IMPORTED_MODULE_1__.translate)(e,e,(0,_core_libs_gl_matrix_2_factories_vec2f32_js__WEBPACK_IMPORTED_MODULE_3__.fromValues)(-d/2,-c/2)),(0,_core_libs_gl_matrix_2_math_mat3_js__WEBPACK_IMPORTED_MODULE_1__.scaleByVec2)(e,e,(0,_core_libs_gl_matrix_2_factories_vec2f32_js__WEBPACK_IMPORTED_MODULE_3__.fromValues)(d,c)),(0,_core_libs_gl_matrix_2_math_mat3_js__WEBPACK_IMPORTED_MODULE_1__.multiply)(this.transforms.displayViewScreenMat3,t.displayViewMat3,e)}setSamplingProfile(t){this._texture&&(t.mips&&!this._texture.descriptor.hasMipmap&&this._texture.generateMipmap(),this._texture.setSamplingMode(t.samplingMode))}bind(t,e){this._texture&&t.bindTexture(this._texture,e)}async updateTexture({context:t,painter:e}){if(!this._textureInvalidated)return;if(this._textureInvalidated=!1,this._texture||(this._texture=this._createTexture(t)),!this.source)return void this._texture.setData(null);this._texture.resize(this._sourceWidth,this._sourceHeight);const s=w(this.source);try{if(null!=this._uploadStatus){const{controller:t,resolver:i}=this._uploadStatus,r={signal:t.signal},{width:h,height:o}=this,u=this._texture,a=e.textureUploadManager;await a.enqueueTextureUpdate({data:s,texture:u,width:h,height:o},r),i.resolve(),this._uploadStatus=null}else this._texture.setData(s);this.ready()}catch(r){(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_0__.throwIfNotAbortError)(r)}}onDetach(){this.destroy()}_createTransforms(){return{displayViewScreenMat3:(0,_core_libs_gl_matrix_2_factories_mat3f32_js__WEBPACK_IMPORTED_MODULE_2__.create)()}}_createTexture(t){const e=this.immutable,i=new _webgl_TextureDescriptor_js__WEBPACK_IMPORTED_MODULE_8__.TextureDescriptor;return i.internalFormat=e?_webgl_enums_js__WEBPACK_IMPORTED_MODULE_6__.SizedPixelFormat.RGBA8:_webgl_enums_js__WEBPACK_IMPORTED_MODULE_6__.PixelFormat.RGBA,i.wrapMode=_webgl_enums_js__WEBPACK_IMPORTED_MODULE_6__.TextureWrapMode.CLAMP_TO_EDGE,i.isImmutable=e,i.width=this._sourceWidth,i.height=this._sourceHeight,new _webgl_Texture_js__WEBPACK_IMPORTED_MODULE_7__.Texture(t,i)}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/engine/BitmapTile.js":
/*!*****************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/BitmapTile.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   BitmapTile: () => (/* binding */ r)
/* harmony export */ });
/* harmony import */ var _core_libs_gl_matrix_2_factories_mat3f32_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../core/libs/gl-matrix-2/factories/mat3f32.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/mat3f32.js");
/* harmony import */ var _Bitmap_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Bitmap.js */ "./node_modules/@arcgis/core/views/2d/engine/Bitmap.js");
/* harmony import */ var _webgl_TiledDisplayObject_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./webgl/TiledDisplayObject.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/TiledDisplayObject.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
class r extends _webgl_TiledDisplayObject_js__WEBPACK_IMPORTED_MODULE_2__.TiledDisplayObject{constructor(e,s,r,i,a,n,o=null){super(e,s,r,i,a,n),this.bitmap=new _Bitmap_js__WEBPACK_IMPORTED_MODULE_1__.Bitmap(o),this.bitmap.coordScale=[a,n],this.bitmap.once("isReady",(()=>this.ready()))}destroy(){super.destroy(),this.bitmap.destroy()}beforeRender(e){this.bitmap.beforeRender(e),super.beforeRender(e)}afterRender(e){this.bitmap.afterRender(e),super.afterRender(e)}set stencilRef(e){this.bitmap.stencilRef=e}get stencilRef(){return this.bitmap.stencilRef}_createTransforms(){return{displayViewScreenMat3:(0,_core_libs_gl_matrix_2_factories_mat3f32_js__WEBPACK_IMPORTED_MODULE_0__.create)(),tileMat3:(0,_core_libs_gl_matrix_2_factories_mat3f32_js__WEBPACK_IMPORTED_MODULE_0__.create)()}}setTransform(e){super.setTransform(e),this.bitmap.transforms.displayViewScreenMat3=this.transforms.displayViewScreenMat3}onAttach(){this.bitmap.stage=this.stage}onDetach(){this.bitmap&&(this.bitmap.stage=null)}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/engine/BitmapTileContainer.js":
/*!**************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/BitmapTileContainer.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   BitmapTileContainer: () => (/* binding */ s)
/* harmony export */ });
/* harmony import */ var _geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../geometry/support/aaBoundingRect.js */ "./node_modules/@arcgis/core/geometry/support/aaBoundingRect.js");
/* harmony import */ var _BitmapTile_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./BitmapTile.js */ "./node_modules/@arcgis/core/views/2d/engine/BitmapTile.js");
/* harmony import */ var _webgl_enums_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./webgl/enums.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/enums.js");
/* harmony import */ var _webgl_TileContainer_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./webgl/TileContainer.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/TileContainer.js");
/* harmony import */ var _webgl_shaderGraph_techniques_bitmap_BitmapTechnique_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./webgl/shaderGraph/techniques/bitmap/BitmapTechnique.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/shaderGraph/techniques/bitmap/BitmapTechnique.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
class s extends _webgl_TileContainer_js__WEBPACK_IMPORTED_MODULE_3__["default"]{constructor(){super(...arguments),this._bitmapTechnique=null}get requiresDedicatedFBO(){return this.children.some((e=>"additive"===e.bitmap.blendFunction))}createTile(t){const n=this.tileInfoView.getTileBounds((0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_0__.create)(),t),r=this.tileInfoView.getTileResolution(t.level),[s,o]=this.tileInfoView.tileInfo.size;return new _BitmapTile_js__WEBPACK_IMPORTED_MODULE_1__.BitmapTile(t,r,n[0],n[3],s,o)}onAttach(){super.onAttach(),this._bitmapTechnique=new _webgl_shaderGraph_techniques_bitmap_BitmapTechnique_js__WEBPACK_IMPORTED_MODULE_4__.BitmapTechnique}onDetach(){super.onDetach(),this._bitmapTechnique?.shutdown(),this._bitmapTechnique=null}renderChildren(e){if(super.renderChildren(e),!this.visible||e.drawPhase!==_webgl_enums_js__WEBPACK_IMPORTED_MODULE_2__.WGLDrawPhase.MAP||null==this._bitmapTechnique)return;const i=this.children.map((e=>e.bitmap));this._bitmapTechnique.render(e,{bitmaps:i})}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/engine/ImageryBitmapSource.js":
/*!**************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/ImageryBitmapSource.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ l)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
class l{constructor(l,e,t){this.pixelBlock=l,this.extent=e,this.originalPixelBlock=t}get width(){return null!=this.pixelBlock?this.pixelBlock.width:0}get height(){return null!=this.pixelBlock?this.pixelBlock.height:0}render(l){const e=this.pixelBlock;if(null==e)return;const t=this.filter({extent:this.extent,pixelBlock:this.originalPixelBlock??e});if(null==t.pixelBlock)return;t.pixelBlock.maskIsAlpha&&(t.pixelBlock.premultiplyAlpha=!0);const i=t.pixelBlock.getAsRGBA(),h=l.createImageData(t.pixelBlock.width,t.pixelBlock.height);h.data.set(i),l.putImageData(h,0,0)}getRenderedRasterPixels(){const l=this.filter({extent:this.extent,pixelBlock:this.pixelBlock});return null==l.pixelBlock?null:(l.pixelBlock.maskIsAlpha&&(l.pixelBlock.premultiplyAlpha=!0),{width:l.pixelBlock.width,height:l.pixelBlock.height,renderedRasterPixels:new Uint8Array(l.pixelBlock.getAsRGBA().buffer)})}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/engine/webgl/shaderGraph/techniques/bitmap/BitmapTechnique.js":
/*!**********************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/webgl/shaderGraph/techniques/bitmap/BitmapTechnique.js ***!
  \**********************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   BitmapTechnique: () => (/* binding */ p)
/* harmony export */ });
/* harmony import */ var _definitions_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../definitions.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/definitions.js");
/* harmony import */ var _Technique_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Technique.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/shaderGraph/techniques/Technique.js");
/* harmony import */ var _TechniqueType_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../TechniqueType.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/shaderGraph/techniques/TechniqueType.js");
/* harmony import */ var _shaders_BitmapShader_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../shaders/BitmapShader.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/shaderGraph/techniques/shaders/BitmapShader.js");
/* harmony import */ var _webgl_enums_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../../../webgl/enums.js */ "./node_modules/@arcgis/core/views/webgl/enums.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
const a={nearest:{samplingMode:_webgl_enums_js__WEBPACK_IMPORTED_MODULE_4__.TextureSamplingMode.NEAREST,mips:!1},bilinear:{samplingMode:_webgl_enums_js__WEBPACK_IMPORTED_MODULE_4__.TextureSamplingMode.LINEAR,mips:!1},bicubic:{samplingMode:_webgl_enums_js__WEBPACK_IMPORTED_MODULE_4__.TextureSamplingMode.LINEAR,mips:!1},trilinear:{samplingMode:_webgl_enums_js__WEBPACK_IMPORTED_MODULE_4__.TextureSamplingMode.LINEAR_MIPMAP_LINEAR,mips:!0}},m=(e,i,t)=>{if("dynamic"===t.samplingMode){const{state:t}=e,s=i.resolution/i.pixelRatio/t.resolution,o=Math.round(e.pixelRatio)!==e.pixelRatio,n=s>1.05||s<.95;return t.rotation||n||o||i.isSourceScaled||i.rotation?a.bilinear:a.nearest}return a[t.samplingMode]};class p extends _Technique_js__WEBPACK_IMPORTED_MODULE_1__.Technique{constructor(){super(...arguments),this.name="BrushBitmap",this.type=_TechniqueType_js__WEBPACK_IMPORTED_MODULE_2__.TechniqueType.Bitmap,this.shaders={bitmap:new _shaders_BitmapShader_js__WEBPACK_IMPORTED_MODULE_3__.BitmapShader}}render(i,t){const{context:s,renderingOptions:r,painter:p}=i;for(const c of t.bitmaps){const t=c.texture;if(!c.source||!c.isReady||null==t)continue;const l=m(i,c,r);i.timeline.begin(this.name),p.setPipelineState({depth:!1,stencil:{test:{mask:255,ref:c.stencilRef,compare:_webgl_enums_js__WEBPACK_IMPORTED_MODULE_4__.CompareFunction.EQUAL,op:{fail:_webgl_enums_js__WEBPACK_IMPORTED_MODULE_4__.StencilOperation.KEEP,zFail:_webgl_enums_js__WEBPACK_IMPORTED_MODULE_4__.StencilOperation.KEEP,zPass:_webgl_enums_js__WEBPACK_IMPORTED_MODULE_4__.StencilOperation.KEEP}},write:!1},color:{write:[!0,!0,!0,!0],blendMode:"additive"===c.blendFunction?"additive":"composite"}}),c.setSamplingProfile(l);const{coordScale:d,computedOpacity:u,transforms:f}=c,h={texture:{texture:t,unit:_definitions_js__WEBPACK_IMPORTED_MODULE_0__.textureBindingBitmap},dvsMat3:f.displayViewScreenMat3,coordScale:d,opacity:u};p.submitDrawMesh(s,{shader:this.shaders.bitmap,uniforms:{config:h},defines:{bicubic:l===a.bicubic},optionalAttributes:null,useComputeBuffer:!1},p.quadMesh),i.timeline.end(this.name)}}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/engine/webgl/shaderGraph/techniques/shaders/BitmapShader.js":
/*!********************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/webgl/shaderGraph/techniques/shaders/BitmapShader.js ***!
  \********************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   BitmapShader: () => (/* binding */ j)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _GraphShaderModule_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../GraphShaderModule.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/shaderGraph/GraphShaderModule.js");
/* harmony import */ var _graph_glsl_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../graph/glsl.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/shaderGraph/graph/glsl.js");
/* harmony import */ var _bitmapUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./bitmapUtils.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/shaderGraph/techniques/shaders/bitmapUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
class v extends _GraphShaderModule_js__WEBPACK_IMPORTED_MODULE_1__.VertexInput{}(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_GraphShaderModule_js__WEBPACK_IMPORTED_MODULE_1__.location)(0,_graph_glsl_js__WEBPACK_IMPORTED_MODULE_2__.Vec2)],v.prototype,"position",void 0);class b extends _GraphShaderModule_js__WEBPACK_IMPORTED_MODULE_1__.FragmentInput{}class S extends _GraphShaderModule_js__WEBPACK_IMPORTED_MODULE_1__.UniformGroup{}(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_GraphShaderModule_js__WEBPACK_IMPORTED_MODULE_1__.uniform)(_graph_glsl_js__WEBPACK_IMPORTED_MODULE_2__.Sampler2D)],S.prototype,"texture",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_GraphShaderModule_js__WEBPACK_IMPORTED_MODULE_1__.uniform)(_graph_glsl_js__WEBPACK_IMPORTED_MODULE_2__.Mat3)],S.prototype,"dvsMat3",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_GraphShaderModule_js__WEBPACK_IMPORTED_MODULE_1__.uniform)(_graph_glsl_js__WEBPACK_IMPORTED_MODULE_2__.Vec2)],S.prototype,"coordScale",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_GraphShaderModule_js__WEBPACK_IMPORTED_MODULE_1__.uniform)(_graph_glsl_js__WEBPACK_IMPORTED_MODULE_2__.Float)],S.prototype,"opacity",void 0);class j extends _GraphShaderModule_js__WEBPACK_IMPORTED_MODULE_1__.GraphShaderModule{constructor(){super(...arguments),this.type="BitmapShader"}vertex(t){const o=this.config.dvsMat3.multiply(new _graph_glsl_js__WEBPACK_IMPORTED_MODULE_2__.Vec3(t.position.multiply(this.config.coordScale),1));return{glPosition:new _graph_glsl_js__WEBPACK_IMPORTED_MODULE_2__.Vec4(o,1),texcoord:t.position}}fragment(t){const o=new _GraphShaderModule_js__WEBPACK_IMPORTED_MODULE_1__.FragmentOutput;let i;return i=this.bicubic?(0,_bitmapUtils_js__WEBPACK_IMPORTED_MODULE_3__.sampleBicubicBSpline)(this.config.texture,t.texcoord,this.config.coordScale):(0,_graph_glsl_js__WEBPACK_IMPORTED_MODULE_2__.texture2D)(this.config.texture,t.texcoord),o.fragColor=new _graph_glsl_js__WEBPACK_IMPORTED_MODULE_2__.Vec4(i.rgb.multiply(this.config.opacity),i.a.multiply(this.config.opacity)),o}}(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_GraphShaderModule_js__WEBPACK_IMPORTED_MODULE_1__.uniform)(S)],j.prototype,"config",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([_GraphShaderModule_js__WEBPACK_IMPORTED_MODULE_1__.define],j.prototype,"bicubic",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.a)(0,(0,_GraphShaderModule_js__WEBPACK_IMPORTED_MODULE_1__.input)(v))],j.prototype,"vertex",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.a)(0,(0,_GraphShaderModule_js__WEBPACK_IMPORTED_MODULE_1__.input)(b))],j.prototype,"fragment",null);


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/engine/webgl/shaderGraph/techniques/shaders/bitmapUtils.js":
/*!*******************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/webgl/shaderGraph/techniques/shaders/bitmapUtils.js ***!
  \*******************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   sampleBicubicBSpline: () => (/* binding */ m)
/* harmony export */ });
/* harmony import */ var _graph_glsl_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../graph/glsl.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/shaderGraph/graph/glsl.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
function n(t){const u=new _graph_glsl_js__WEBPACK_IMPORTED_MODULE_0__.Float(1/6),d=t.multiply(t),i=d.multiply(t),n=u.multiply(i.multiply(-1).add(new _graph_glsl_js__WEBPACK_IMPORTED_MODULE_0__.Float(3).multiply(d)).subtract(new _graph_glsl_js__WEBPACK_IMPORTED_MODULE_0__.Float(3).multiply(t)).add(1)),p=u.multiply(i.multiply(3).subtract(d.multiply(6)).add(4)),m=u.multiply(i.multiply(-3).add(d.multiply(3)).add(t.multiply(3)).add(1)),a=u.multiply(i);return new _graph_glsl_js__WEBPACK_IMPORTED_MODULE_0__.Vec4(n,p,m,a)}function p(t){const u=n(t),d=u.x.add(u.y),i=u.z.add(u.w),p=new _graph_glsl_js__WEBPACK_IMPORTED_MODULE_0__.Float(1).subtract(u.y.divide(d)).add(t),m=new _graph_glsl_js__WEBPACK_IMPORTED_MODULE_0__.Float(1).add(u.w.divide(i)).subtract(t);return new _graph_glsl_js__WEBPACK_IMPORTED_MODULE_0__.Vec4(p,m,d,i)}function m(y,n,m){const a=new _graph_glsl_js__WEBPACK_IMPORTED_MODULE_0__.Vec2(new _graph_glsl_js__WEBPACK_IMPORTED_MODULE_0__.Float(1).divide(m.x),0),e=new _graph_glsl_js__WEBPACK_IMPORTED_MODULE_0__.Vec2(0,new _graph_glsl_js__WEBPACK_IMPORTED_MODULE_0__.Float(1).divide(m.y)),r=n.multiply(m).subtract(.5),c=p((0,_graph_glsl_js__WEBPACK_IMPORTED_MODULE_0__.fract)(r).x).xyz,s=p((0,_graph_glsl_js__WEBPACK_IMPORTED_MODULE_0__.fract)(r).y).xyz;let w=n.add(c.x.multiply(a)),o=n.subtract(c.y.multiply(a));const x=w.add(s.x.multiply(e)),b=o.add(s.x.multiply(e));w=w.subtract(s.y.multiply(e)),o=o.subtract(s.y.multiply(e));let z=(0,_graph_glsl_js__WEBPACK_IMPORTED_MODULE_0__.texture2D)(y,o),f=(0,_graph_glsl_js__WEBPACK_IMPORTED_MODULE_0__.texture2D)(y,w);const v=(0,_graph_glsl_js__WEBPACK_IMPORTED_MODULE_0__.texture2D)(y,b),g=(0,_graph_glsl_js__WEBPACK_IMPORTED_MODULE_0__.texture2D)(y,x);return z=(0,_graph_glsl_js__WEBPACK_IMPORTED_MODULE_0__.mix)(z,v,s.z),f=(0,_graph_glsl_js__WEBPACK_IMPORTED_MODULE_0__.mix)(f,g,s.z),z=(0,_graph_glsl_js__WEBPACK_IMPORTED_MODULE_0__.mix)(z,f,c.z),z}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/BitmapTileLayerView2D.js":
/*!****************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/BitmapTileLayerView2D.js ***!
  \****************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   BitmapTileLayerView2D: () => (/* binding */ r)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_RandomLCG_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/RandomLCG.js */ "./node_modules/@arcgis/core/core/RandomLCG.js");
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _engine_BitmapTileContainer_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../engine/BitmapTileContainer.js */ "./node_modules/@arcgis/core/views/2d/engine/BitmapTileContainer.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
const r=r=>{let s=class extends r{attach(){this.view.timeline.record(`${this.layer.title} (BitmapTileLayer) Attach`),this._bitmapView=new _engine_BitmapTileContainer_js__WEBPACK_IMPORTED_MODULE_6__.BitmapTileContainer(this._tileInfoView),this.container.addChild(this._bitmapView)}detach(){this.container.removeChild(this._bitmapView),this._bitmapView?.removeAllChildren(),this._bitmapView=null}};return s=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_5__.subclass)("esri.views.2d.layers.BitmapTileLayerView2D")],s),s};


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/support/imageUtils.js":
/*!*************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/support/imageUtils.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   createBlankImage: () => (/* binding */ o),
/* harmony export */   resampleImage: () => (/* binding */ n)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
function e(e){return e instanceof HTMLImageElement?e.naturalWidth:e.width}function t(e){return e instanceof HTMLImageElement?e.naturalHeight:e.height}function n(n,l,r,u){if(r.level===u.level)return l;const i=n.tileInfo.size,a=n.getTileResolution(r.level),c=n.getTileResolution(u.level);let g=n.getLODInfoAt(u.level);const h=g.getXForColumn(u.col),d=g.getYForRow(u.row);g=n.getLODInfoAt(r.level);const f=g.getXForColumn(r.col),s=g.getYForRow(r.row),m=e(l)/i[0],v=t(l)/i[1],w=Math.round(m*((h-f)/a)),I=Math.round(v*(-(d-s)/a)),M=Math.round(m*i[0]*(c/a)),F=Math.round(v*i[1]*(c/a)),L=o(i);return L.getContext("2d").drawImage(l,w,I,M,F,0,0,i[0],i[1]),L}function o(e){const t=document.createElement("canvas");return[t.width,t.height]=e,t}


/***/ })

};

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmVuZG9ycy1ub2RlX21vZHVsZXNfYXJjZ2lzX2NvcmVfdmlld3NfMmRfbGF5ZXJzX0JpdG1hcFRpbGVMYXllclZpZXcyRF9qcy1ub2RlX21vZHVsZXNfYXJjZ2lzLWFjMGE5Yi5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDMnJCLGNBQWMsdUJBQXVCLGNBQWMseUNBQXlDLHdFQUF3RSxjQUFjLHlCQUF5QiwrREFBQywwREFBMEQsZ0JBQWdCLDREQUFDLENBQUMseUJBQXlCLHFYQUFxWCxVQUFVLHNKQUFzSixxQkFBcUIsd0VBQXdFLGFBQWEsNkRBQTZELGNBQWMsZUFBZSxhQUFhLG9CQUFvQixjQUFjLDRGQUE0RixjQUFjLHFCQUFxQixZQUFZLDBEQUEwRCxhQUFhLGNBQWMsZ0JBQWdCLDRDQUE0QywwQkFBMEIsZ0VBQWdFLDhCQUE4QixxRUFBQyxHQUFHLE9BQU8scUVBQUMsb0JBQW9CLHFFQUFDLHlDQUF5Qyx3QkFBd0IseUJBQXlCLG9CQUFvQix5UkFBeVIsb0JBQW9CLGlFQUFpRSxnQkFBZ0IsUUFBUSw2RUFBQyxvTUFBb00sOEVBQUMsS0FBSyx1RkFBQyxPQUFPLDhFQUFDLEtBQUssdUZBQUMsV0FBVywyRUFBQyxTQUFTLDhFQUFDLEtBQUssdUZBQUMsYUFBYSxnRkFBQyxLQUFLLHVGQUFDLE9BQU8sNkVBQUMsNERBQTRELHNCQUFzQiwySUFBMkksVUFBVSw4Q0FBOEMscUJBQXFCLG9CQUFvQixFQUFFLG9DQUFvQywwSUFBMEksMkRBQTJELHVCQUF1QixJQUFJLDZCQUE2QixNQUFNLHdCQUF3Qix1QkFBdUIsZ0JBQWdCLEVBQUUsaUJBQWlCLCtDQUErQyw4QkFBOEIsa0NBQWtDLHdDQUF3Qyw4QkFBOEIsYUFBYSxTQUFTLDJFQUFDLEtBQUssV0FBVyxlQUFlLG9CQUFvQixPQUFPLHNCQUFzQixtRkFBQyxJQUFJLGtCQUFrQiw2QkFBNkIsMEVBQUMsQ0FBQywwQkFBMEIsNkRBQUMsT0FB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REFBQyw4S0FBOEssV0FBVyxnREFBQyxVQUFVLGNBQWMsaURBQWlELGlEQUFDLHlDQUF5QyxpREFBQyxtQ0FBbUMsV0FBVyxnREFBQyxVQUFVLGtCQUFrQixZQUFZLGdEQUFDLEtBQUssaURBQUMseUJBQXlCLGdEQUFDLE9BQU8saURBQUMsa0RBQWtELHFEQUFDLGVBQWUscURBQUMsV0FBVywyREFBMkQsd0RBQXdELDREQUE0RCxNQUFNLHlEQUFDLFFBQVEseURBQUMsTUFBTSxRQUFRLHlEQUFDLFFBQVEseURBQUMsTUFBTSxTQUFTLG1EQUFDLFlBQVksbURBQUMsWUFBWSxtREFBQyxZQUE4Qzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ0puaEM7QUFDQTtBQUNBO0FBQ0E7QUFDdVUsWUFBWSxzQkFBc0IsU0FBUyw2QkFBNkIsa0JBQWtCLGdEQUFnRCwrRUFBQywrREFBK0QsU0FBUywyR0FBMkcsU0FBUyx1REFBQyxFQUFFLHNGQUFDLHNEQUF5Rjs7Ozs7Ozs7Ozs7Ozs7OztBQ0ozdUI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLDREQUE0RCxjQUFjLDhEQUE4RCxvQkFBb0IsOEJBQThCLHNGQUFzRiw4QkFBOEIscURBQXFELDBCQUEwQiwrTEFBK0wsK0RBQStELGNBQWMseUNBQXlDLDZCQUE4RSIsInNvdXJjZXMiOlsid2VicGFjazovL3ByZWNpc2lvbmZhcm1zLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8yZC9lbmdpbmUvQml0bWFwLmpzIiwid2VicGFjazovL3ByZWNpc2lvbmZhcm1zLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8yZC9lbmdpbmUvQml0bWFwVGlsZS5qcyIsIndlYnBhY2s6Ly9wcmVjaXNpb25mYXJtcy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvMmQvZW5naW5lL0JpdG1hcFRpbGVDb250YWluZXIuanMiLCJ3ZWJwYWNrOi8vcHJlY2lzaW9uZmFybXMvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzJkL2VuZ2luZS9JbWFnZXJ5Qml0bWFwU291cmNlLmpzIiwid2VicGFjazovL3ByZWNpc2lvbmZhcm1zLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8yZC9lbmdpbmUvd2ViZ2wvc2hhZGVyR3JhcGgvdGVjaG5pcXVlcy9iaXRtYXAvQml0bWFwVGVjaG5pcXVlLmpzIiwid2VicGFjazovL3ByZWNpc2lvbmZhcm1zLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8yZC9lbmdpbmUvd2ViZ2wvc2hhZGVyR3JhcGgvdGVjaG5pcXVlcy9zaGFkZXJzL0JpdG1hcFNoYWRlci5qcyIsIndlYnBhY2s6Ly9wcmVjaXNpb25mYXJtcy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvMmQvZW5naW5lL3dlYmdsL3NoYWRlckdyYXBoL3RlY2huaXF1ZXMvc2hhZGVycy9iaXRtYXBVdGlscy5qcyIsIndlYnBhY2s6Ly9wcmVjaXNpb25mYXJtcy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvMmQvbGF5ZXJzL0JpdG1hcFRpbGVMYXllclZpZXcyRC5qcyIsIndlYnBhY2s6Ly9wcmVjaXNpb25mYXJtcy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvMmQvbGF5ZXJzL3N1cHBvcnQvaW1hZ2VVdGlscy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4zMy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e2NyZWF0ZVJlc29sdmVyIGFzIHQsb25BYm9ydE9yVGhyb3cgYXMgZSx0aHJvd0lmTm90QWJvcnRFcnJvciBhcyBpfWZyb21cIi4uLy4uLy4uL2NvcmUvcHJvbWlzZVV0aWxzLmpzXCI7aW1wb3J0e2lkZW50aXR5IGFzIHMsdHJhbnNsYXRlIGFzIHIscm90YXRlIGFzIGgsc2NhbGVCeVZlYzIgYXMgbyxtdWx0aXBseSBhcyB1fWZyb21cIi4uLy4uLy4uL2NvcmUvbGlicy9nbC1tYXRyaXgtMi9tYXRoL21hdDMuanNcIjtpbXBvcnR7Y3JlYXRlIGFzIGF9ZnJvbVwiLi4vLi4vLi4vY29yZS9saWJzL2dsLW1hdHJpeC0yL2ZhY3Rvcmllcy9tYXQzZjMyLmpzXCI7aW1wb3J0e2Zyb21WYWx1ZXMgYXMgbn1mcm9tXCIuLi8uLi8uLi9jb3JlL2xpYnMvZ2wtbWF0cml4LTIvZmFjdG9yaWVzL3ZlYzJmMzIuanNcIjtpbXBvcnR7RGlzcGxheU9iamVjdCBhcyBsfWZyb21cIi4vRGlzcGxheU9iamVjdC5qc1wiO2ltcG9ydCBkIGZyb21cIi4vSW1hZ2VyeUJpdG1hcFNvdXJjZS5qc1wiO2ltcG9ydHtTaXplZFBpeGVsRm9ybWF0IGFzIGMsUGl4ZWxGb3JtYXQgYXMgXyxUZXh0dXJlV3JhcE1vZGUgYXMgcH1mcm9tXCIuLi8uLi93ZWJnbC9lbnVtcy5qc1wiO2ltcG9ydHtUZXh0dXJlIGFzIG19ZnJvbVwiLi4vLi4vd2ViZ2wvVGV4dHVyZS5qc1wiO2ltcG9ydHtUZXh0dXJlRGVzY3JpcHRvciBhcyB4fWZyb21cIi4uLy4uL3dlYmdsL1RleHR1cmVEZXNjcmlwdG9yLmpzXCI7ZnVuY3Rpb24gZyh0KXtyZXR1cm4gdCYmXCJyZW5kZXJcImluIHR9ZnVuY3Rpb24gZih0KXtjb25zdCBlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIik7cmV0dXJuIGUud2lkdGg9dC53aWR0aCxlLmhlaWdodD10LmhlaWdodCx0LnJlbmRlcihlLmdldENvbnRleHQoXCIyZFwiKSksZX1mdW5jdGlvbiB3KHQpe3JldHVybiBnKHQpP3QgaW5zdGFuY2VvZiBkP3QuZ2V0UmVuZGVyZWRSYXN0ZXJQaXhlbHMoKT8ucmVuZGVyZWRSYXN0ZXJQaXhlbHM6Zih0KTp0fWNsYXNzIFMgZXh0ZW5kcyBse2NvbnN0cnVjdG9yKHQ9bnVsbCxlPSExKXtzdXBlcigpLHRoaXMuYmxlbmRGdW5jdGlvbj1cInN0YW5kYXJkXCIsdGhpcy5fc291cmNlV2lkdGg9MCx0aGlzLl9zb3VyY2VIZWlnaHQ9MCx0aGlzLl90ZXh0dXJlSW52YWxpZGF0ZWQ9ITEsdGhpcy5zdGVuY2lsUmVmPTAsdGhpcy5jb29yZFNjYWxlPVsxLDFdLHRoaXMuX2hlaWdodD12b2lkIDAsdGhpcy5waXhlbFJhdGlvPTEsdGhpcy5yZXNvbHV0aW9uPTAsdGhpcy5yb3RhdGlvbj0wLHRoaXMuX3NvdXJjZT1udWxsLHRoaXMuX3RleHR1cmU9bnVsbCx0aGlzLl93aWR0aD12b2lkIDAsdGhpcy54PTAsdGhpcy55PTAsdGhpcy5pbW11dGFibGU9ZSx0aGlzLnNvdXJjZT10LHRoaXMucmVxdWVzdFJlbmRlcj10aGlzLnJlcXVlc3RSZW5kZXIuYmluZCh0aGlzKX1kZXN0cm95KCl7dGhpcy5fdGV4dHVyZSYmKHRoaXMuX3RleHR1cmUuZGlzcG9zZSgpLHRoaXMuX3RleHR1cmU9bnVsbCksbnVsbCE9dGhpcy5fdXBsb2FkU3RhdHVzJiYodGhpcy5fdXBsb2FkU3RhdHVzLmNvbnRyb2xsZXIuYWJvcnQoKSx0aGlzLl91cGxvYWRTdGF0dXM9bnVsbCl9Z2V0IGlzU291cmNlU2NhbGVkKCl7cmV0dXJuIHRoaXMud2lkdGghPT10aGlzLl9zb3VyY2VXaWR0aHx8dGhpcy5oZWlnaHQhPT10aGlzLl9zb3VyY2VIZWlnaHR9Z2V0IGhlaWdodCgpe3JldHVybiB2b2lkIDAhPT10aGlzLl9oZWlnaHQ/dGhpcy5faGVpZ2h0OnRoaXMuX3NvdXJjZUhlaWdodH1zZXQgaGVpZ2h0KHQpe3RoaXMuX2hlaWdodD10fWdldCBzb3VyY2UoKXtyZXR1cm4gdGhpcy5fc291cmNlfXNldCBzb3VyY2UodCl7bnVsbD09dCYmbnVsbD09dGhpcy5fc291cmNlfHwodGhpcy5fc291cmNlPXQsdGhpcy5pbnZhbGlkYXRlVGV4dHVyZSgpLHRoaXMucmVxdWVzdFJlbmRlcigpKX1nZXQgdGV4dHVyZSgpe3JldHVybiB0aGlzLl90ZXh0dXJlfWdldCB3aWR0aCgpe3JldHVybiB2b2lkIDAhPT10aGlzLl93aWR0aD90aGlzLl93aWR0aDp0aGlzLl9zb3VyY2VXaWR0aH1zZXQgd2lkdGgodCl7dGhpcy5fd2lkdGg9dH1iZWZvcmVSZW5kZXIodCl7c3VwZXIuYmVmb3JlUmVuZGVyKHQpLHRoaXMudXBkYXRlVGV4dHVyZSh0KX1hc3luYyBzZXRTb3VyY2VBc3luYyhpLHMpe251bGwhPXRoaXMuX3VwbG9hZFN0YXR1cyYmdGhpcy5fdXBsb2FkU3RhdHVzLmNvbnRyb2xsZXIuYWJvcnQoKTtjb25zdCByPW5ldyBBYm9ydENvbnRyb2xsZXIsaD10KCk7cmV0dXJuIGUocywoKCk9PnIuYWJvcnQoKSkpLGUociwodD0+aC5yZWplY3QodCkpKSx0aGlzLl91cGxvYWRTdGF0dXM9e2NvbnRyb2xsZXI6cixyZXNvbHZlcjpofSx0aGlzLnNvdXJjZT1pLGgucHJvbWlzZX1pbnZhbGlkYXRlVGV4dHVyZSgpe3RoaXMuX3RleHR1cmVJbnZhbGlkYXRlZHx8KHRoaXMuX3RleHR1cmVJbnZhbGlkYXRlZD0hMCx0aGlzLl9zb3VyY2UgaW5zdGFuY2VvZiBIVE1MSW1hZ2VFbGVtZW50Pyh0aGlzLl9zb3VyY2VIZWlnaHQ9dGhpcy5fc291cmNlLm5hdHVyYWxIZWlnaHQsdGhpcy5fc291cmNlV2lkdGg9dGhpcy5fc291cmNlLm5hdHVyYWxXaWR0aCk6dGhpcy5fc291cmNlJiYodGhpcy5fc291cmNlSGVpZ2h0PXRoaXMuX3NvdXJjZS5oZWlnaHQsdGhpcy5fc291cmNlV2lkdGg9dGhpcy5fc291cmNlLndpZHRoKSl9dHJhbnNpdGlvblN0ZXAodCxlKXt0Pj02NCYmKHRoaXMuZmFkZVRyYW5zaXRpb25FbmFibGVkPSExKSxzdXBlci50cmFuc2l0aW9uU3RlcCh0LGUpfXNldFRyYW5zZm9ybSh0KXtjb25zdCBlPXModGhpcy50cmFuc2Zvcm1zLmRpc3BsYXlWaWV3U2NyZWVuTWF0MyksW2ksYV09dC50b1NjcmVlbk5vUm90YXRpb24oWzAsMF0sW3RoaXMueCx0aGlzLnldKSxsPXRoaXMucmVzb2x1dGlvbi90aGlzLnBpeGVsUmF0aW8vdC5yZXNvbHV0aW9uLGQ9bCp0aGlzLndpZHRoLGM9bCp0aGlzLmhlaWdodCxfPU1hdGguUEkqdGhpcy5yb3RhdGlvbi8xODA7cihlLGUsbihpLGEpKSxyKGUsZSxuKGQvMixjLzIpKSxoKGUsZSwtXykscihlLGUsbigtZC8yLC1jLzIpKSxvKGUsZSxuKGQsYykpLHUodGhpcy50cmFuc2Zvcm1zLmRpc3BsYXlWaWV3U2NyZWVuTWF0Myx0LmRpc3BsYXlWaWV3TWF0MyxlKX1zZXRTYW1wbGluZ1Byb2ZpbGUodCl7dGhpcy5fdGV4dHVyZSYmKHQubWlwcyYmIXRoaXMuX3RleHR1cmUuZGVzY3JpcHRvci5oYXNNaXBtYXAmJnRoaXMuX3RleHR1cmUuZ2VuZXJhdGVNaXBtYXAoKSx0aGlzLl90ZXh0dXJlLnNldFNhbXBsaW5nTW9kZSh0LnNhbXBsaW5nTW9kZSkpfWJpbmQodCxlKXt0aGlzLl90ZXh0dXJlJiZ0LmJpbmRUZXh0dXJlKHRoaXMuX3RleHR1cmUsZSl9YXN5bmMgdXBkYXRlVGV4dHVyZSh7Y29udGV4dDp0LHBhaW50ZXI6ZX0pe2lmKCF0aGlzLl90ZXh0dXJlSW52YWxpZGF0ZWQpcmV0dXJuO2lmKHRoaXMuX3RleHR1cmVJbnZhbGlkYXRlZD0hMSx0aGlzLl90ZXh0dXJlfHwodGhpcy5fdGV4dHVyZT10aGlzLl9jcmVhdGVUZXh0dXJlKHQpKSwhdGhpcy5zb3VyY2UpcmV0dXJuIHZvaWQgdGhpcy5fdGV4dHVyZS5zZXREYXRhKG51bGwpO3RoaXMuX3RleHR1cmUucmVzaXplKHRoaXMuX3NvdXJjZVdpZHRoLHRoaXMuX3NvdXJjZUhlaWdodCk7Y29uc3Qgcz13KHRoaXMuc291cmNlKTt0cnl7aWYobnVsbCE9dGhpcy5fdXBsb2FkU3RhdHVzKXtjb25zdHtjb250cm9sbGVyOnQscmVzb2x2ZXI6aX09dGhpcy5fdXBsb2FkU3RhdHVzLHI9e3NpZ25hbDp0LnNpZ25hbH0se3dpZHRoOmgsaGVpZ2h0Om99PXRoaXMsdT10aGlzLl90ZXh0dXJlLGE9ZS50ZXh0dXJlVXBsb2FkTWFuYWdlcjthd2FpdCBhLmVucXVldWVUZXh0dXJlVXBkYXRlKHtkYXRhOnMsdGV4dHVyZTp1LHdpZHRoOmgsaGVpZ2h0Om99LHIpLGkucmVzb2x2ZSgpLHRoaXMuX3VwbG9hZFN0YXR1cz1udWxsfWVsc2UgdGhpcy5fdGV4dHVyZS5zZXREYXRhKHMpO3RoaXMucmVhZHkoKX1jYXRjaChyKXtpKHIpfX1vbkRldGFjaCgpe3RoaXMuZGVzdHJveSgpfV9jcmVhdGVUcmFuc2Zvcm1zKCl7cmV0dXJue2Rpc3BsYXlWaWV3U2NyZWVuTWF0MzphKCl9fV9jcmVhdGVUZXh0dXJlKHQpe2NvbnN0IGU9dGhpcy5pbW11dGFibGUsaT1uZXcgeDtyZXR1cm4gaS5pbnRlcm5hbEZvcm1hdD1lP2MuUkdCQTg6Xy5SR0JBLGkud3JhcE1vZGU9cC5DTEFNUF9UT19FREdFLGkuaXNJbW11dGFibGU9ZSxpLndpZHRoPXRoaXMuX3NvdXJjZVdpZHRoLGkuaGVpZ2h0PXRoaXMuX3NvdXJjZUhlaWdodCxuZXcgbSh0LGkpfX1leHBvcnR7UyBhcyBCaXRtYXAsZyBhcyBpc0ltYWdlU291cmNlLGYgYXMgcmFzdGVyaXplfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjMzL2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7Y3JlYXRlIGFzIGV9ZnJvbVwiLi4vLi4vLi4vY29yZS9saWJzL2dsLW1hdHJpeC0yL2ZhY3Rvcmllcy9tYXQzZjMyLmpzXCI7aW1wb3J0e0JpdG1hcCBhcyB0fWZyb21cIi4vQml0bWFwLmpzXCI7aW1wb3J0e1RpbGVkRGlzcGxheU9iamVjdCBhcyBzfWZyb21cIi4vd2ViZ2wvVGlsZWREaXNwbGF5T2JqZWN0LmpzXCI7Y2xhc3MgciBleHRlbmRzIHN7Y29uc3RydWN0b3IoZSxzLHIsaSxhLG4sbz1udWxsKXtzdXBlcihlLHMscixpLGEsbiksdGhpcy5iaXRtYXA9bmV3IHQobyksdGhpcy5iaXRtYXAuY29vcmRTY2FsZT1bYSxuXSx0aGlzLmJpdG1hcC5vbmNlKFwiaXNSZWFkeVwiLCgoKT0+dGhpcy5yZWFkeSgpKSl9ZGVzdHJveSgpe3N1cGVyLmRlc3Ryb3koKSx0aGlzLmJpdG1hcC5kZXN0cm95KCl9YmVmb3JlUmVuZGVyKGUpe3RoaXMuYml0bWFwLmJlZm9yZVJlbmRlcihlKSxzdXBlci5iZWZvcmVSZW5kZXIoZSl9YWZ0ZXJSZW5kZXIoZSl7dGhpcy5iaXRtYXAuYWZ0ZXJSZW5kZXIoZSksc3VwZXIuYWZ0ZXJSZW5kZXIoZSl9c2V0IHN0ZW5jaWxSZWYoZSl7dGhpcy5iaXRtYXAuc3RlbmNpbFJlZj1lfWdldCBzdGVuY2lsUmVmKCl7cmV0dXJuIHRoaXMuYml0bWFwLnN0ZW5jaWxSZWZ9X2NyZWF0ZVRyYW5zZm9ybXMoKXtyZXR1cm57ZGlzcGxheVZpZXdTY3JlZW5NYXQzOmUoKSx0aWxlTWF0MzplKCl9fXNldFRyYW5zZm9ybShlKXtzdXBlci5zZXRUcmFuc2Zvcm0oZSksdGhpcy5iaXRtYXAudHJhbnNmb3Jtcy5kaXNwbGF5Vmlld1NjcmVlbk1hdDM9dGhpcy50cmFuc2Zvcm1zLmRpc3BsYXlWaWV3U2NyZWVuTWF0M31vbkF0dGFjaCgpe3RoaXMuYml0bWFwLnN0YWdlPXRoaXMuc3RhZ2V9b25EZXRhY2goKXt0aGlzLmJpdG1hcCYmKHRoaXMuYml0bWFwLnN0YWdlPW51bGwpfX1leHBvcnR7ciBhcyBCaXRtYXBUaWxlfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjMzL2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7Y3JlYXRlIGFzIGV9ZnJvbVwiLi4vLi4vLi4vZ2VvbWV0cnkvc3VwcG9ydC9hYUJvdW5kaW5nUmVjdC5qc1wiO2ltcG9ydHtCaXRtYXBUaWxlIGFzIGl9ZnJvbVwiLi9CaXRtYXBUaWxlLmpzXCI7aW1wb3J0e1dHTERyYXdQaGFzZSBhcyB0fWZyb21cIi4vd2ViZ2wvZW51bXMuanNcIjtpbXBvcnQgbiBmcm9tXCIuL3dlYmdsL1RpbGVDb250YWluZXIuanNcIjtpbXBvcnR7Qml0bWFwVGVjaG5pcXVlIGFzIHJ9ZnJvbVwiLi93ZWJnbC9zaGFkZXJHcmFwaC90ZWNobmlxdWVzL2JpdG1hcC9CaXRtYXBUZWNobmlxdWUuanNcIjtjbGFzcyBzIGV4dGVuZHMgbntjb25zdHJ1Y3Rvcigpe3N1cGVyKC4uLmFyZ3VtZW50cyksdGhpcy5fYml0bWFwVGVjaG5pcXVlPW51bGx9Z2V0IHJlcXVpcmVzRGVkaWNhdGVkRkJPKCl7cmV0dXJuIHRoaXMuY2hpbGRyZW4uc29tZSgoZT0+XCJhZGRpdGl2ZVwiPT09ZS5iaXRtYXAuYmxlbmRGdW5jdGlvbikpfWNyZWF0ZVRpbGUodCl7Y29uc3Qgbj10aGlzLnRpbGVJbmZvVmlldy5nZXRUaWxlQm91bmRzKGUoKSx0KSxyPXRoaXMudGlsZUluZm9WaWV3LmdldFRpbGVSZXNvbHV0aW9uKHQubGV2ZWwpLFtzLG9dPXRoaXMudGlsZUluZm9WaWV3LnRpbGVJbmZvLnNpemU7cmV0dXJuIG5ldyBpKHQscixuWzBdLG5bM10scyxvKX1vbkF0dGFjaCgpe3N1cGVyLm9uQXR0YWNoKCksdGhpcy5fYml0bWFwVGVjaG5pcXVlPW5ldyByfW9uRGV0YWNoKCl7c3VwZXIub25EZXRhY2goKSx0aGlzLl9iaXRtYXBUZWNobmlxdWU/LnNodXRkb3duKCksdGhpcy5fYml0bWFwVGVjaG5pcXVlPW51bGx9cmVuZGVyQ2hpbGRyZW4oZSl7aWYoc3VwZXIucmVuZGVyQ2hpbGRyZW4oZSksIXRoaXMudmlzaWJsZXx8ZS5kcmF3UGhhc2UhPT10Lk1BUHx8bnVsbD09dGhpcy5fYml0bWFwVGVjaG5pcXVlKXJldHVybjtjb25zdCBpPXRoaXMuY2hpbGRyZW4ubWFwKChlPT5lLmJpdG1hcCkpO3RoaXMuX2JpdG1hcFRlY2huaXF1ZS5yZW5kZXIoZSx7Yml0bWFwczppfSl9fWV4cG9ydHtzIGFzIEJpdG1hcFRpbGVDb250YWluZXJ9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMzMvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmNsYXNzIGx7Y29uc3RydWN0b3IobCxlLHQpe3RoaXMucGl4ZWxCbG9jaz1sLHRoaXMuZXh0ZW50PWUsdGhpcy5vcmlnaW5hbFBpeGVsQmxvY2s9dH1nZXQgd2lkdGgoKXtyZXR1cm4gbnVsbCE9dGhpcy5waXhlbEJsb2NrP3RoaXMucGl4ZWxCbG9jay53aWR0aDowfWdldCBoZWlnaHQoKXtyZXR1cm4gbnVsbCE9dGhpcy5waXhlbEJsb2NrP3RoaXMucGl4ZWxCbG9jay5oZWlnaHQ6MH1yZW5kZXIobCl7Y29uc3QgZT10aGlzLnBpeGVsQmxvY2s7aWYobnVsbD09ZSlyZXR1cm47Y29uc3QgdD10aGlzLmZpbHRlcih7ZXh0ZW50OnRoaXMuZXh0ZW50LHBpeGVsQmxvY2s6dGhpcy5vcmlnaW5hbFBpeGVsQmxvY2s/P2V9KTtpZihudWxsPT10LnBpeGVsQmxvY2spcmV0dXJuO3QucGl4ZWxCbG9jay5tYXNrSXNBbHBoYSYmKHQucGl4ZWxCbG9jay5wcmVtdWx0aXBseUFscGhhPSEwKTtjb25zdCBpPXQucGl4ZWxCbG9jay5nZXRBc1JHQkEoKSxoPWwuY3JlYXRlSW1hZ2VEYXRhKHQucGl4ZWxCbG9jay53aWR0aCx0LnBpeGVsQmxvY2suaGVpZ2h0KTtoLmRhdGEuc2V0KGkpLGwucHV0SW1hZ2VEYXRhKGgsMCwwKX1nZXRSZW5kZXJlZFJhc3RlclBpeGVscygpe2NvbnN0IGw9dGhpcy5maWx0ZXIoe2V4dGVudDp0aGlzLmV4dGVudCxwaXhlbEJsb2NrOnRoaXMucGl4ZWxCbG9ja30pO3JldHVybiBudWxsPT1sLnBpeGVsQmxvY2s/bnVsbDoobC5waXhlbEJsb2NrLm1hc2tJc0FscGhhJiYobC5waXhlbEJsb2NrLnByZW11bHRpcGx5QWxwaGE9ITApLHt3aWR0aDpsLnBpeGVsQmxvY2sud2lkdGgsaGVpZ2h0OmwucGl4ZWxCbG9jay5oZWlnaHQscmVuZGVyZWRSYXN0ZXJQaXhlbHM6bmV3IFVpbnQ4QXJyYXkobC5waXhlbEJsb2NrLmdldEFzUkdCQSgpLmJ1ZmZlcil9KX19ZXhwb3J0e2wgYXMgZGVmYXVsdH07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4zMy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e3RleHR1cmVCaW5kaW5nQml0bWFwIGFzIGV9ZnJvbVwiLi4vLi4vLi4vZGVmaW5pdGlvbnMuanNcIjtpbXBvcnR7VGVjaG5pcXVlIGFzIGl9ZnJvbVwiLi4vVGVjaG5pcXVlLmpzXCI7aW1wb3J0e1RlY2huaXF1ZVR5cGUgYXMgdH1mcm9tXCIuLi9UZWNobmlxdWVUeXBlLmpzXCI7aW1wb3J0e0JpdG1hcFNoYWRlciBhcyBzfWZyb21cIi4uL3NoYWRlcnMvQml0bWFwU2hhZGVyLmpzXCI7aW1wb3J0e1N0ZW5jaWxPcGVyYXRpb24gYXMgbyxDb21wYXJlRnVuY3Rpb24gYXMgbixUZXh0dXJlU2FtcGxpbmdNb2RlIGFzIHJ9ZnJvbVwiLi4vLi4vLi4vLi4vLi4vLi4vd2ViZ2wvZW51bXMuanNcIjtjb25zdCBhPXtuZWFyZXN0OntzYW1wbGluZ01vZGU6ci5ORUFSRVNULG1pcHM6ITF9LGJpbGluZWFyOntzYW1wbGluZ01vZGU6ci5MSU5FQVIsbWlwczohMX0sYmljdWJpYzp7c2FtcGxpbmdNb2RlOnIuTElORUFSLG1pcHM6ITF9LHRyaWxpbmVhcjp7c2FtcGxpbmdNb2RlOnIuTElORUFSX01JUE1BUF9MSU5FQVIsbWlwczohMH19LG09KGUsaSx0KT0+e2lmKFwiZHluYW1pY1wiPT09dC5zYW1wbGluZ01vZGUpe2NvbnN0e3N0YXRlOnR9PWUscz1pLnJlc29sdXRpb24vaS5waXhlbFJhdGlvL3QucmVzb2x1dGlvbixvPU1hdGgucm91bmQoZS5waXhlbFJhdGlvKSE9PWUucGl4ZWxSYXRpbyxuPXM+MS4wNXx8czwuOTU7cmV0dXJuIHQucm90YXRpb258fG58fG98fGkuaXNTb3VyY2VTY2FsZWR8fGkucm90YXRpb24/YS5iaWxpbmVhcjphLm5lYXJlc3R9cmV0dXJuIGFbdC5zYW1wbGluZ01vZGVdfTtjbGFzcyBwIGV4dGVuZHMgaXtjb25zdHJ1Y3Rvcigpe3N1cGVyKC4uLmFyZ3VtZW50cyksdGhpcy5uYW1lPVwiQnJ1c2hCaXRtYXBcIix0aGlzLnR5cGU9dC5CaXRtYXAsdGhpcy5zaGFkZXJzPXtiaXRtYXA6bmV3IHN9fXJlbmRlcihpLHQpe2NvbnN0e2NvbnRleHQ6cyxyZW5kZXJpbmdPcHRpb25zOnIscGFpbnRlcjpwfT1pO2Zvcihjb25zdCBjIG9mIHQuYml0bWFwcyl7Y29uc3QgdD1jLnRleHR1cmU7aWYoIWMuc291cmNlfHwhYy5pc1JlYWR5fHxudWxsPT10KWNvbnRpbnVlO2NvbnN0IGw9bShpLGMscik7aS50aW1lbGluZS5iZWdpbih0aGlzLm5hbWUpLHAuc2V0UGlwZWxpbmVTdGF0ZSh7ZGVwdGg6ITEsc3RlbmNpbDp7dGVzdDp7bWFzazoyNTUscmVmOmMuc3RlbmNpbFJlZixjb21wYXJlOm4uRVFVQUwsb3A6e2ZhaWw6by5LRUVQLHpGYWlsOm8uS0VFUCx6UGFzczpvLktFRVB9fSx3cml0ZTohMX0sY29sb3I6e3dyaXRlOlshMCwhMCwhMCwhMF0sYmxlbmRNb2RlOlwiYWRkaXRpdmVcIj09PWMuYmxlbmRGdW5jdGlvbj9cImFkZGl0aXZlXCI6XCJjb21wb3NpdGVcIn19KSxjLnNldFNhbXBsaW5nUHJvZmlsZShsKTtjb25zdHtjb29yZFNjYWxlOmQsY29tcHV0ZWRPcGFjaXR5OnUsdHJhbnNmb3JtczpmfT1jLGg9e3RleHR1cmU6e3RleHR1cmU6dCx1bml0OmV9LGR2c01hdDM6Zi5kaXNwbGF5Vmlld1NjcmVlbk1hdDMsY29vcmRTY2FsZTpkLG9wYWNpdHk6dX07cC5zdWJtaXREcmF3TWVzaChzLHtzaGFkZXI6dGhpcy5zaGFkZXJzLmJpdG1hcCx1bmlmb3Jtczp7Y29uZmlnOmh9LGRlZmluZXM6e2JpY3ViaWM6bD09PWEuYmljdWJpY30sb3B0aW9uYWxBdHRyaWJ1dGVzOm51bGwsdXNlQ29tcHV0ZUJ1ZmZlcjohMX0scC5xdWFkTWVzaCksaS50aW1lbGluZS5lbmQodGhpcy5uYW1lKX19fWV4cG9ydHtwIGFzIEJpdG1hcFRlY2huaXF1ZX07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4zMy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e18gYXMgdCxhIGFzIG99ZnJvbVwiLi4vLi4vLi4vLi4vLi4vLi4vLi4vY2h1bmtzL3RzbGliLmVzNi5qc1wiO2ltcG9ydHtHcmFwaFNoYWRlck1vZHVsZSBhcyBpLEZyYWdtZW50T3V0cHV0IGFzIGUsbG9jYXRpb24gYXMgcix1bmlmb3JtIGFzIHMsZGVmaW5lIGFzIHAsaW5wdXQgYXMgYyxWZXJ0ZXhJbnB1dCBhcyBuLFVuaWZvcm1Hcm91cCBhcyBsLEZyYWdtZW50SW5wdXQgYXMgYX1mcm9tXCIuLi8uLi9HcmFwaFNoYWRlck1vZHVsZS5qc1wiO2ltcG9ydHtWZWMzIGFzIGQsVmVjNCBhcyB1LHRleHR1cmUyRCBhcyB5LFZlYzIgYXMgbSxTYW1wbGVyMkQgYXMgZixNYXQzIGFzIGcsRmxvYXQgYXMgaH1mcm9tXCIuLi8uLi9ncmFwaC9nbHNsLmpzXCI7aW1wb3J0e3NhbXBsZUJpY3ViaWNCU3BsaW5lIGFzIHh9ZnJvbVwiLi9iaXRtYXBVdGlscy5qc1wiO2NsYXNzIHYgZXh0ZW5kcyBue310KFtyKDAsbSldLHYucHJvdG90eXBlLFwicG9zaXRpb25cIix2b2lkIDApO2NsYXNzIGIgZXh0ZW5kcyBhe31jbGFzcyBTIGV4dGVuZHMgbHt9dChbcyhmKV0sUy5wcm90b3R5cGUsXCJ0ZXh0dXJlXCIsdm9pZCAwKSx0KFtzKGcpXSxTLnByb3RvdHlwZSxcImR2c01hdDNcIix2b2lkIDApLHQoW3MobSldLFMucHJvdG90eXBlLFwiY29vcmRTY2FsZVwiLHZvaWQgMCksdChbcyhoKV0sUy5wcm90b3R5cGUsXCJvcGFjaXR5XCIsdm9pZCAwKTtjbGFzcyBqIGV4dGVuZHMgaXtjb25zdHJ1Y3Rvcigpe3N1cGVyKC4uLmFyZ3VtZW50cyksdGhpcy50eXBlPVwiQml0bWFwU2hhZGVyXCJ9dmVydGV4KHQpe2NvbnN0IG89dGhpcy5jb25maWcuZHZzTWF0My5tdWx0aXBseShuZXcgZCh0LnBvc2l0aW9uLm11bHRpcGx5KHRoaXMuY29uZmlnLmNvb3JkU2NhbGUpLDEpKTtyZXR1cm57Z2xQb3NpdGlvbjpuZXcgdShvLDEpLHRleGNvb3JkOnQucG9zaXRpb259fWZyYWdtZW50KHQpe2NvbnN0IG89bmV3IGU7bGV0IGk7cmV0dXJuIGk9dGhpcy5iaWN1YmljP3godGhpcy5jb25maWcudGV4dHVyZSx0LnRleGNvb3JkLHRoaXMuY29uZmlnLmNvb3JkU2NhbGUpOnkodGhpcy5jb25maWcudGV4dHVyZSx0LnRleGNvb3JkKSxvLmZyYWdDb2xvcj1uZXcgdShpLnJnYi5tdWx0aXBseSh0aGlzLmNvbmZpZy5vcGFjaXR5KSxpLmEubXVsdGlwbHkodGhpcy5jb25maWcub3BhY2l0eSkpLG99fXQoW3MoUyldLGoucHJvdG90eXBlLFwiY29uZmlnXCIsdm9pZCAwKSx0KFtwXSxqLnByb3RvdHlwZSxcImJpY3ViaWNcIix2b2lkIDApLHQoW28oMCxjKHYpKV0sai5wcm90b3R5cGUsXCJ2ZXJ0ZXhcIixudWxsKSx0KFtvKDAsYyhiKSldLGoucHJvdG90eXBlLFwiZnJhZ21lbnRcIixudWxsKTtleHBvcnR7aiBhcyBCaXRtYXBTaGFkZXJ9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMzMvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtWZWMyIGFzIHQsRmxvYXQgYXMgbCxmcmFjdCBhcyB1LHRleHR1cmUyRCBhcyBkLG1peCBhcyBpLFZlYzQgYXMgeX1mcm9tXCIuLi8uLi9ncmFwaC9nbHNsLmpzXCI7ZnVuY3Rpb24gbih0KXtjb25zdCB1PW5ldyBsKDEvNiksZD10Lm11bHRpcGx5KHQpLGk9ZC5tdWx0aXBseSh0KSxuPXUubXVsdGlwbHkoaS5tdWx0aXBseSgtMSkuYWRkKG5ldyBsKDMpLm11bHRpcGx5KGQpKS5zdWJ0cmFjdChuZXcgbCgzKS5tdWx0aXBseSh0KSkuYWRkKDEpKSxwPXUubXVsdGlwbHkoaS5tdWx0aXBseSgzKS5zdWJ0cmFjdChkLm11bHRpcGx5KDYpKS5hZGQoNCkpLG09dS5tdWx0aXBseShpLm11bHRpcGx5KC0zKS5hZGQoZC5tdWx0aXBseSgzKSkuYWRkKHQubXVsdGlwbHkoMykpLmFkZCgxKSksYT11Lm11bHRpcGx5KGkpO3JldHVybiBuZXcgeShuLHAsbSxhKX1mdW5jdGlvbiBwKHQpe2NvbnN0IHU9bih0KSxkPXUueC5hZGQodS55KSxpPXUuei5hZGQodS53KSxwPW5ldyBsKDEpLnN1YnRyYWN0KHUueS5kaXZpZGUoZCkpLmFkZCh0KSxtPW5ldyBsKDEpLmFkZCh1LncuZGl2aWRlKGkpKS5zdWJ0cmFjdCh0KTtyZXR1cm4gbmV3IHkocCxtLGQsaSl9ZnVuY3Rpb24gbSh5LG4sbSl7Y29uc3QgYT1uZXcgdChuZXcgbCgxKS5kaXZpZGUobS54KSwwKSxlPW5ldyB0KDAsbmV3IGwoMSkuZGl2aWRlKG0ueSkpLHI9bi5tdWx0aXBseShtKS5zdWJ0cmFjdCguNSksYz1wKHUocikueCkueHl6LHM9cCh1KHIpLnkpLnh5ejtsZXQgdz1uLmFkZChjLngubXVsdGlwbHkoYSkpLG89bi5zdWJ0cmFjdChjLnkubXVsdGlwbHkoYSkpO2NvbnN0IHg9dy5hZGQocy54Lm11bHRpcGx5KGUpKSxiPW8uYWRkKHMueC5tdWx0aXBseShlKSk7dz13LnN1YnRyYWN0KHMueS5tdWx0aXBseShlKSksbz1vLnN1YnRyYWN0KHMueS5tdWx0aXBseShlKSk7bGV0IHo9ZCh5LG8pLGY9ZCh5LHcpO2NvbnN0IHY9ZCh5LGIpLGc9ZCh5LHgpO3JldHVybiB6PWkoeix2LHMueiksZj1pKGYsZyxzLnopLHo9aSh6LGYsYy56KSx6fWV4cG9ydHttIGFzIHNhbXBsZUJpY3ViaWNCU3BsaW5lfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjMzL2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7XyBhcyBpfWZyb21cIi4uLy4uLy4uL2NodW5rcy90c2xpYi5lczYuanNcIjtpbXBvcnRcIi4uLy4uLy4uL2NvcmUvTG9nZ2VyLmpzXCI7aW1wb3J0XCIuLi8uLi8uLi9jb3JlL2hhcy5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vY29yZS9SYW5kb21MQ0cuanNcIjtpbXBvcnRcIi4uLy4uLy4uL2NvcmUvRXJyb3IuanNcIjtpbXBvcnR7c3ViY2xhc3MgYXMgZX1mcm9tXCIuLi8uLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3N1YmNsYXNzLmpzXCI7aW1wb3J0e0JpdG1hcFRpbGVDb250YWluZXIgYXMgdH1mcm9tXCIuLi9lbmdpbmUvQml0bWFwVGlsZUNvbnRhaW5lci5qc1wiO2NvbnN0IHI9cj0+e2xldCBzPWNsYXNzIGV4dGVuZHMgcnthdHRhY2goKXt0aGlzLnZpZXcudGltZWxpbmUucmVjb3JkKGAke3RoaXMubGF5ZXIudGl0bGV9IChCaXRtYXBUaWxlTGF5ZXIpIEF0dGFjaGApLHRoaXMuX2JpdG1hcFZpZXc9bmV3IHQodGhpcy5fdGlsZUluZm9WaWV3KSx0aGlzLmNvbnRhaW5lci5hZGRDaGlsZCh0aGlzLl9iaXRtYXBWaWV3KX1kZXRhY2goKXt0aGlzLmNvbnRhaW5lci5yZW1vdmVDaGlsZCh0aGlzLl9iaXRtYXBWaWV3KSx0aGlzLl9iaXRtYXBWaWV3Py5yZW1vdmVBbGxDaGlsZHJlbigpLHRoaXMuX2JpdG1hcFZpZXc9bnVsbH19O3JldHVybiBzPWkoW2UoXCJlc3JpLnZpZXdzLjJkLmxheWVycy5CaXRtYXBUaWxlTGF5ZXJWaWV3MkRcIildLHMpLHN9O2V4cG9ydHtyIGFzIEJpdG1hcFRpbGVMYXllclZpZXcyRH07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4zMy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuZnVuY3Rpb24gZShlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIEhUTUxJbWFnZUVsZW1lbnQ/ZS5uYXR1cmFsV2lkdGg6ZS53aWR0aH1mdW5jdGlvbiB0KGUpe3JldHVybiBlIGluc3RhbmNlb2YgSFRNTEltYWdlRWxlbWVudD9lLm5hdHVyYWxIZWlnaHQ6ZS5oZWlnaHR9ZnVuY3Rpb24gbihuLGwscix1KXtpZihyLmxldmVsPT09dS5sZXZlbClyZXR1cm4gbDtjb25zdCBpPW4udGlsZUluZm8uc2l6ZSxhPW4uZ2V0VGlsZVJlc29sdXRpb24oci5sZXZlbCksYz1uLmdldFRpbGVSZXNvbHV0aW9uKHUubGV2ZWwpO2xldCBnPW4uZ2V0TE9ESW5mb0F0KHUubGV2ZWwpO2NvbnN0IGg9Zy5nZXRYRm9yQ29sdW1uKHUuY29sKSxkPWcuZ2V0WUZvclJvdyh1LnJvdyk7Zz1uLmdldExPREluZm9BdChyLmxldmVsKTtjb25zdCBmPWcuZ2V0WEZvckNvbHVtbihyLmNvbCkscz1nLmdldFlGb3JSb3coci5yb3cpLG09ZShsKS9pWzBdLHY9dChsKS9pWzFdLHc9TWF0aC5yb3VuZChtKigoaC1mKS9hKSksST1NYXRoLnJvdW5kKHYqKC0oZC1zKS9hKSksTT1NYXRoLnJvdW5kKG0qaVswXSooYy9hKSksRj1NYXRoLnJvdW5kKHYqaVsxXSooYy9hKSksTD1vKGkpO3JldHVybiBMLmdldENvbnRleHQoXCIyZFwiKS5kcmF3SW1hZ2UobCx3LEksTSxGLDAsMCxpWzBdLGlbMV0pLEx9ZnVuY3Rpb24gbyhlKXtjb25zdCB0PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIik7cmV0dXJuW3Qud2lkdGgsdC5oZWlnaHRdPWUsdH1leHBvcnR7byBhcyBjcmVhdGVCbGFua0ltYWdlLG4gYXMgcmVzYW1wbGVJbWFnZX07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=