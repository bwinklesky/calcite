export const __webpack_id__ = "vendors-node_modules_arcgis_core_views_interactive_InteractiveToolBase_js-node_modules_arcgis-ec9fbe";
export const __webpack_ids__ = ["vendors-node_modules_arcgis_core_views_interactive_InteractiveToolBase_js-node_modules_arcgis-ec9fbe"];
export const __webpack_modules__ = {

/***/ "./node_modules/@arcgis/core/views/interactive/InteractiveToolBase.js":
/*!****************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/interactive/InteractiveToolBase.js ***!
  \****************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   InteractiveToolBase: () => (/* binding */ n)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_Evented_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/Evented.js */ "./node_modules/@arcgis/core/core/Evented.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_RandomLCG_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../core/RandomLCG.js */ "./node_modules/@arcgis/core/core/RandomLCG.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _interfaces_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./interfaces.js */ "./node_modules/@arcgis/core/views/interactive/interfaces.js");
/* harmony import */ var _ManipulatorCollection_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./ManipulatorCollection.js */ "./node_modules/@arcgis/core/views/interactive/ManipulatorCollection.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
let n=class extends _core_Evented_js__WEBPACK_IMPORTED_MODULE_1__["default"].EventedAccessor{constructor(t){super(t),this.manipulators=new _ManipulatorCollection_js__WEBPACK_IMPORTED_MODULE_9__.ManipulatorCollection,this.automaticManipulatorSelection=!0,this.hasGrabbedManipulators=!1,this.hasHoveredManipulators=!1,this.firstGrabbedManipulator=null,this.created=!1,this.removeIncompleteOnCancel=!0,this._editableFlags=new Map([[_interfaces_js__WEBPACK_IMPORTED_MODULE_8__.EditableFlag.MANAGER,!0],[_interfaces_js__WEBPACK_IMPORTED_MODULE_8__.EditableFlag.USER,!0]]),this._creationFinishedResolver=(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_4__.createResolver)()}get active(){return null!=this.view&&this.view.activeTool===this}set visible(t){this._get("visible")!==t&&(this._set("visible",t),this._syncVisible())}get editable(){return this.getEditableFlag(_interfaces_js__WEBPACK_IMPORTED_MODULE_8__.EditableFlag.USER)}set editable(t){this.setEditableFlag(_interfaces_js__WEBPACK_IMPORTED_MODULE_8__.EditableFlag.USER,t)}get updating(){return!1}get cursor(){return null}get hasFocusedManipulators(){return this.hasGrabbedManipulators||this.hasHoveredManipulators}destroy(){this.manipulators.destroy(),this._set("view",null)}onAdd(){this._syncVisible()}activate(){null!=this.view&&(this.view.focus(),this.onActivate())}deactivate(){this.onDeactivate()}cancel(){this.emit("cancel")}handleInputEvent(t){this.onInputEvent(t)}handleInputEventAfter(t){this.onInputEventAfter(t)}setEditableFlag(t,e){this._editableFlags.set(t,e),this.manipulators.isToolEditable=this.internallyEditable,this._updateManipulatorAttachment(),t===_interfaces_js__WEBPACK_IMPORTED_MODULE_8__.EditableFlag.USER&&this.notifyChange("editable"),this.onEditableChange(),this.onManipulatorSelectionChanged()}getEditableFlag(t){return this._editableFlags.get(t)??!1}endDrag(){const t=this.view.inputManager.latestPointerLocation;if(!t)return;let e=!1;this.manipulators.forEach((({manipulator:i})=>{i.dragging&&(e=!0,i.events.emit("drag",{action:"end",start:t,screenPoint:t}))})),e&&(this.view.toolViewManager.activeTool=null)}whenCreated(){return this._creationFinishedResolver.promise}onManipulatorSelectionChanged(){}onActivate(){}onDeactivate(){}onShow(){}onHide(){}onEditableChange(){}onInputEvent(t){}onInputEventAfter(t){}get internallyEditable(){return this.getEditableFlag(_interfaces_js__WEBPACK_IMPORTED_MODULE_8__.EditableFlag.USER)&&this.getEditableFlag(_interfaces_js__WEBPACK_IMPORTED_MODULE_8__.EditableFlag.MANAGER)}finishToolCreation(){this.created||this._creationFinishedResolver.resolve(this),this._set("created",!0)}_syncVisible(){if(this.initialized)if(this.visible)this._show();else if(this._hide(),this.active)return void(this.view.activeTool=null)}_show(){this._updateManipulatorAttachment(),this.onShow()}_hide(){this._updateManipulatorAttachment(),this.onHide()}_updateManipulatorAttachment(){this.visible?this.manipulators.attach():this.manipulators.detach()}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)({constructOnly:!0})],n.prototype,"view",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)({readOnly:!0})],n.prototype,"active",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)({value:!0})],n.prototype,"visible",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)({value:!0})],n.prototype,"editable",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)({readOnly:!0})],n.prototype,"manipulators",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)({readOnly:!0})],n.prototype,"updating",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],n.prototype,"cursor",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)({readOnly:!0})],n.prototype,"automaticManipulatorSelection",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],n.prototype,"hasFocusedManipulators",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],n.prototype,"hasGrabbedManipulators",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],n.prototype,"hasHoveredManipulators",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],n.prototype,"firstGrabbedManipulator",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)({readOnly:!0})],n.prototype,"created",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)({readOnly:!0})],n.prototype,"removeIncompleteOnCancel",void 0),n=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__.subclass)("esri.views.interactive.InteractiveToolBase")],n);


/***/ }),

/***/ "./node_modules/@arcgis/core/views/interactive/ManipulatorCollection.js":
/*!******************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/interactive/ManipulatorCollection.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ManipulatorCollection: () => (/* binding */ i),
/* harmony export */   ManipulatorVisibilityPredicate: () => (/* binding */ a)
/* harmony export */ });
/* harmony import */ var _core_Collection_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../core/Collection.js */ "./node_modules/@arcgis/core/core/Collection.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
var a;!function(t){t[t.WhenToolEditable=0]="WhenToolEditable",t[t.WhenToolNotEditable=1]="WhenToolNotEditable",t[t.Always=2]="Always"}(a||(a={}));class i{constructor(){this._isToolEditable=!0,this._manipulators=new _core_Collection_js__WEBPACK_IMPORTED_MODULE_0__["default"],this._resourceContexts={manipulator3D:{}},this._attached=!1}set isToolEditable(t){this._isToolEditable=t}get length(){return this._manipulators.length}add(t,i=a.WhenToolEditable){this.addMany([t],i)}addMany(t,i=a.WhenToolEditable){for(const a of t){const t={manipulator:a,visibilityPredicate:i,attached:!1};this._manipulators.add(t),this._attached&&this._updateManipulatorAttachment(t)}}remove(t){for(let a=0;a<this._manipulators.length;a++)if(this._manipulators.at(a).manipulator===t){const t=this._manipulators.splice(a,1)[0];this._detachManipulator(t);break}}removeAll(){this._manipulators.forEach((t=>{this._detachManipulator(t)})),this._manipulators.removeAll()}attach(){this._manipulators.forEach((t=>{this._updateManipulatorAttachment(t)})),this._attached=!0}detach(){this._manipulators.forEach((t=>{this._detachManipulator(t)})),this._attached=!1}destroy(){this.detach(),this._manipulators.forEach((({manipulator:t})=>t.destroy())),this._manipulators.destroy(),this._resourceContexts=null}on(t,a){return this._manipulators.on(t,(t=>{a(t)}))}forEach(t){for(const a of this._manipulators.items)t(a)}some(t){return this._manipulators.items.some(t)}toArray(){const t=[];return this.forEach((a=>t.push(a.manipulator))),t}intersect(t,a){let i=null,e=Number.MAX_VALUE;return this._manipulators.forEach((({manipulator:o,attached:s})=>{if(!s||!o.interactive)return;const r=o.intersectionDistance(t,a);null!=r&&r<e&&(e=r,i=o)})),i}_updateManipulatorAttachment(t){this._isManipulatorItemVisible(t)?this._attachManipulator(t):this._detachManipulator(t)}_attachManipulator(t){t.attached||(t.manipulator.attach&&t.manipulator.attach(this._resourceContexts),t.attached=!0)}_detachManipulator(t){if(!t.attached)return;const a=t.manipulator;a.grabbing=!1,a.dragging=!1,a.hovering=!1,a.selected=!1,a.detach&&a.detach(this._resourceContexts),t.attached=!1}_isManipulatorItemVisible(t){return t.visibilityPredicate===a.Always||(this._isToolEditable?t.visibilityPredicate===a.WhenToolEditable:t.visibilityPredicate===a.WhenToolNotEditable)}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/interactive/dragEventPipeline.js":
/*!**************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/interactive/dragEventPipeline.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   EventPipeline: () => (/* binding */ w),
/* harmony export */   addMapDelta: () => (/* binding */ v),
/* harmony export */   addScreenDelta: () => (/* binding */ j),
/* harmony export */   constrainToMapAxis: () => (/* binding */ m),
/* harmony export */   createDragEventPipelineCallback: () => (/* binding */ i),
/* harmony export */   createManipulatorDragEventPipeline: () => (/* binding */ p),
/* harmony export */   dragAtLocation: () => (/* binding */ M),
/* harmony export */   dragManipulatedObject: () => (/* binding */ f),
/* harmony export */   dragManipulatedObjectMany: () => (/* binding */ S),
/* harmony export */   resetManipulatedObject: () => (/* binding */ g),
/* harmony export */   resetManipulatedObjectMany: () => (/* binding */ z),
/* harmony export */   resetProperties: () => (/* binding */ h),
/* harmony export */   sceneSnappingAtLocation: () => (/* binding */ D),
/* harmony export */   sceneSnappingAtProjectedLocation: () => (/* binding */ G),
/* harmony export */   screenToMap: () => (/* binding */ E)
/* harmony export */ });
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_lang_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/lang.js */ "./node_modules/@arcgis/core/core/lang.js");
/* harmony import */ var _core_mathUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../core/mathUtils.js */ "./node_modules/@arcgis/core/core/mathUtils.js");
/* harmony import */ var _core_screenUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../core/screenUtils.js */ "./node_modules/@arcgis/core/core/screenUtils.js");
/* harmony import */ var _geometry_projectionUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../geometry/projectionUtils.js */ "./node_modules/@arcgis/core/geometry/projectionUtils.js");
/* harmony import */ var _geometry_support_meshVertexSpaceUtils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../geometry/support/meshVertexSpaceUtils.js */ "./node_modules/@arcgis/core/geometry/support/meshVertexSpaceUtils.js");
/* harmony import */ var _layers_graphics_hydratedFeatures_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../layers/graphics/hydratedFeatures.js */ "./node_modules/@arcgis/core/layers/graphics/hydratedFeatures.js");
/* harmony import */ var _support_elevationInfoUtils_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../support/elevationInfoUtils.js */ "./node_modules/@arcgis/core/support/elevationInfoUtils.js");
/* harmony import */ var _editGeometry_EditGeometryOperations_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./editGeometry/EditGeometryOperations.js */ "./node_modules/@arcgis/core/views/interactive/editGeometry/EditGeometryOperations.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
function i(t,n){let e=null,r=null;return a=>{if("cancel"===a.action)return void(null!=r&&(r.execute({action:"cancel"}),e=null,r=null));const o={action:a.action,screenStart:a.start,screenEnd:a.screenPoint};"start"===a.action&&null==e&&(e=new w,r=new w,n(t,e,r,a.pointerType,o)),null!=e&&e.execute(o),"end"===a.action&&null!=e&&(e=null,r=null)}}function p(t,n){return t.events.on("drag",i(t,n))}function m(t,n){const e=[t.x,t.y,t.z??0],r=n,a=[Math.cos(r),Math.sin(r)],o=Math.sqrt(a[0]*a[0]+a[1]*a[1]);if(0===o)return null;a[0]/=o,a[1]/=o;const l=t=>{const n=(t.x-e[0])*a[0]+(t.y-e[1])*a[1];t.x=e[0]+n*a[0],t.y=e[1]+n*a[1]};return t=>(l(t.mapStart),l(t.mapEnd),{...t,axis:a})}function f(t){let n=null;return e=>{if("start"===e.action&&(n=y(t,e.mapStart.spatialReference)),null==n)return null;const r=e.mapEnd.x-e.mapStart.x,a=e.mapEnd.y-e.mapStart.y,o=(e.mapEnd.z??0)-(e.mapStart.z??0);return n.move(r,a,o,e.action),{...e,translationX:r,translationY:a,translationZ:o}}}function d(t,n){return null==t?null:t.spatialReference.equals(n)?t.clone():(0,_geometry_projectionUtils_js__WEBPACK_IMPORTED_MODULE_5__.project)(t,n)}function y(t,n){const e=t.operations;if(!e)return null;const r=e.data.geometry,l=(0,_layers_graphics_hydratedFeatures_js__WEBPACK_IMPORTED_MODULE_7__.hydratedSpatialReference)(n);if(r.spatialReference.equals(l))return x(t,e,(()=>{}));if("mesh"!==r.type){const n=d(r,l);if(null==n)return null;const o=r.spatialReference;return x(t,_editGeometry_EditGeometryOperations_js__WEBPACK_IMPORTED_MODULE_9__.EditGeometryOperations.fromGeometry(n,e.viewingMode),(()=>{const t=(0,_geometry_projectionUtils_js__WEBPACK_IMPORTED_MODULE_5__.project)(r,o);e.trySetGeometry(t)}))}if((0,_geometry_support_meshVertexSpaceUtils_js__WEBPACK_IMPORTED_MODULE_6__.isMeshWithRelativeVertexSpace)(r)){const n=d(r.origin,l);if(!n)return null;const o=r.spatialReference,c=_editGeometry_EditGeometryOperations_js__WEBPACK_IMPORTED_MODULE_9__.EditGeometryOperations.fromGeometry(n,e.viewingMode);return x(t,e,(()=>{const t=(0,_geometry_projectionUtils_js__WEBPACK_IMPORTED_MODULE_5__.project)(c.data.geometry,o),n=t.x-r.origin.x,l=t.y-r.origin.y,s=(t.z??0)-(r.origin.z??0);e.move(n,l,s)}))}return null}function x(t,n,e){let r=0,a=0,o=0;return{move:(l,c,s,u)=>{"start"===u&&(r=0,a=0,o=0);const i=l-r,p=c-a,m=s-o;n.move(i,p,m),r+=i,a+=p,o+=m,e(),"end"===u&&t.endInteraction?.()}}}function E(t,n=null,e){let r=null;const o=null==n||t.spatialReference?.equals(n)?t=>t:t=>null!=t?(0,_geometry_projectionUtils_js__WEBPACK_IMPORTED_MODULE_5__.project)(t,n):t,l={exclude:[],...e};return n=>{if("start"===n.action&&(r=o(t.toMap(n.screenStart,l))),null==r)return null;const e=o(t.toMap(n.screenEnd,l));return null!=e?{...n,mapStart:r,mapEnd:e}:null}}function S(n){const e=n.map((t=>f(t))).filter(_core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_0__.isSome);return t=>{const n=t.mapEnd.x-t.mapStart.x,r=t.mapEnd.y-t.mapStart.y,a=t.mapEnd.z-t.mapStart.z;return e.forEach((n=>n(t))),{...t,translationX:n,translationY:r,translationZ:a}}}function h(t,e){const r=new Map;for(const a of e)r.set(a,(0,_core_lang_js__WEBPACK_IMPORTED_MODULE_2__.clone)(t[a]));return n=>(r.forEach(((n,e)=>{t[e]=n})),n)}function g(t){const n=t.operations?.createResetState();return t=>(n?.remove(),t)}function z(t){const n=t.map((t=>g(t))).filter((t=>null!=t));return t=>(n.forEach((n=>n(t))),t)}function v(){let t=0,n=0,e=0;return r=>{"start"===r.action&&(t=r.mapStart.x,n=r.mapStart.y,e=r.mapStart.z);const a=r.mapEnd.x-t,o=r.mapEnd.y-n,l=r.mapEnd.z-e;return t=r.mapEnd.x,n=r.mapEnd.y,e=r.mapEnd.z,{...r,mapDeltaX:a,mapDeltaY:o,mapDeltaZ:l,mapDeltaSpatialReference:r.mapStart.spatialReference}}}function j(){let t=0,n=0;return e=>{"start"===e.action&&(t=e.screenStart.x,n=e.screenStart.y);const r=e.screenEnd.x-t,a=e.screenEnd.y-n;return t=e.screenEnd.x,n=e.screenEnd.y,{...e,screenDeltaX:r,screenDeltaY:a}}}function M(t,n){let a=null,o=0,l=0;return c=>{if("start"===c.action&&(a=t.toScreen?.(n),null!=a&&(a.x<0||a.x>t.width||a.y<0||a.y>t.height?a=null:(o=c.screenStart.x-a.x,l=c.screenStart.y-a.y))),null==a)return null;const s=(0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_3__.clamp)(c.screenEnd.x-o,0,t.width),u=(0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_3__.clamp)(c.screenEnd.y-l,0,t.height),i=(0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_4__.createScreenPoint)(s,u);return c.screenStart=a,c.screenEnd=i,c}}const R=()=>{};class w{constructor(){this.execute=R}next(t,n=new w){return null!=t&&(this.execute=e=>{const r=t(e);null!=r&&n.execute(r)}),n}}function D(t,n,e=[]){if("2d"===t.type)return t=>t;let r=null;return a=>{"start"===a.action&&(r=t.toMap(a.screenStart,{exclude:e}),null!=r&&(r.z=(0,_support_elevationInfoUtils_js__WEBPACK_IMPORTED_MODULE_8__.getZForElevationMode)(r,t,n)));const o=t.toMap(a.screenEnd,{exclude:e});null!=o&&(o.z=(0,_support_elevationInfoUtils_js__WEBPACK_IMPORTED_MODULE_8__.getZForElevationMode)(o,t,n));const l=null!=r&&null!=o?{sceneStart:r,sceneEnd:o}:null;return{...a,scenePoints:l}}}function U(t,n,e){const r=n.elevationProvider.getElevation(t.x,t.y,t.z??0,t.spatialReference,"scene")??0,a=(0,_layers_graphics_hydratedFeatures_js__WEBPACK_IMPORTED_MODULE_7__.clonePoint)(t);return a.z=r,a.hasZ=!0,a.z=(0,_support_elevationInfoUtils_js__WEBPACK_IMPORTED_MODULE_8__.getZForElevationMode)(a,n,e),a}function G(t,n){if("2d"===t.type)return t=>t;let e=null;return r=>{"start"===r.action&&(e=U(r.mapStart,t,n));const a=U(r.mapEnd,t,n),o=null!=e&&null!=a?{sceneStart:e,sceneEnd:a}:null;return{...r,scenePoints:o}}}


/***/ })

};

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmVuZG9ycy1ub2RlX21vZHVsZXNfYXJjZ2lzX2NvcmVfdmlld3NfaW50ZXJhY3RpdmVfSW50ZXJhY3RpdmVUb29sQmFzZV9qcy1ub2RlX21vZHVsZXNfYXJjZ2lzLWVjOWZiZS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNrZixvQkFBb0Isd0RBQUMsaUJBQWlCLGVBQWUsK0JBQStCLDRFQUFDLHNOQUFzTix3REFBQyxjQUFjLHdEQUFDLDJDQUEyQyxxRUFBQyxHQUFHLGFBQWEsb0RBQW9ELGVBQWUsdUVBQXVFLGVBQWUsNEJBQTRCLHdEQUFDLE9BQU8sZ0JBQWdCLHFCQUFxQix3REFBQyxTQUFTLGVBQWUsU0FBUyxhQUFhLFlBQVksNkJBQTZCLGdFQUFnRSxVQUFVLG1EQUFtRCxRQUFRLG9CQUFvQixXQUFXLHVEQUF1RCxhQUFhLG9CQUFvQixTQUFTLG9CQUFvQixvQkFBb0IscUJBQXFCLHlCQUF5QiwwQkFBMEIscUJBQXFCLDhIQUE4SCx3REFBQyxrR0FBa0csbUJBQW1CLHNDQUFzQyxVQUFVLHFEQUFxRCxhQUFhLFNBQVMsNkJBQTZCLGNBQWMsSUFBSSx3Q0FBd0MsbUNBQW1DLEdBQUcsa0RBQWtELGNBQWMsOENBQThDLGlDQUFpQyxjQUFjLGdCQUFnQixVQUFVLFVBQVUsb0JBQW9CLGlCQUFpQixzQkFBc0IseUJBQXlCLDRCQUE0Qix3REFBQyw2QkFBNkIsd0RBQUMsVUFBVSxxQkFBcUIsbUZBQW1GLGVBQWUsaURBQWlELHdFQUF3RSxRQUFRLGtEQUFrRCxRQUFRLGtEQUFrRCwrQkFBK0IscUVBQXFFLHVEQUFDLEVBQUUsc0ZBQUMsRUFBRSxpQkFBaUIsOEJBQThCLHVEQUFDLEVBQUUsc0ZBQUMsRUFBRSxZQUFZLDhCQUE4Qix1REFBQyxFQUFFLHNGQUFDLEVBQUUsU0FBUywrQkFBK0IsdURBQUMsRUFBRSxzRkFBQyxFQUFFLFNBQVMsZ0NBQWdDLHVEQUFDLEVBQUUsc0ZBQUMsRUFBRSxZ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QyxVQUFVLGdCQUFnQixvRkFBQyxVQUFVLDZCQUE2QixVQUFVLEVBQUUsY0FBYyxvRkFBQyxTQUFTLDBCQUEwQix3QkFBd0IsTUFBTSxPQUFPLHFCQUFxQixrQkFBa0IseUZBQXlGLGdGQUFDLElBQUksMkJBQTJCLG9GQUFDLFVBQVUsZ0JBQWdCLDZCQUE2QixXQUFXLFdBQVcsMENBQTBDLDRDQUE0Qyx3QkFBd0IsTUFBTSxPQUFPLHFCQUE2YSIsInNvdXJjZXMiOlsid2VicGFjazovL3ByZWNpc2lvbmZhcm1zLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy9pbnRlcmFjdGl2ZS9JbnRlcmFjdGl2ZVRvb2xCYXNlLmpzIiwid2VicGFjazovL3ByZWNpc2lvbmZhcm1zLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy9pbnRlcmFjdGl2ZS9NYW5pcHVsYXRvckNvbGxlY3Rpb24uanMiLCJ3ZWJwYWNrOi8vcHJlY2lzaW9uZmFybXMvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzL2ludGVyYWN0aXZlL2RyYWdFdmVudFBpcGVsaW5lLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjMzL2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7XyBhcyB0fWZyb21cIi4uLy4uL2NodW5rcy90c2xpYi5lczYuanNcIjtpbXBvcnQgZSBmcm9tXCIuLi8uLi9jb3JlL0V2ZW50ZWQuanNcIjtpbXBvcnRcIi4uLy4uL2NvcmUvaGFzLmpzXCI7aW1wb3J0XCIuLi8uLi9jb3JlL0xvZ2dlci5qc1wiO2ltcG9ydHtjcmVhdGVSZXNvbHZlciBhcyBpfWZyb21cIi4uLy4uL2NvcmUvcHJvbWlzZVV0aWxzLmpzXCI7aW1wb3J0e3Byb3BlcnR5IGFzIGF9ZnJvbVwiLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9wcm9wZXJ0eS5qc1wiO2ltcG9ydFwiLi4vLi4vY29yZS9SYW5kb21MQ0cuanNcIjtpbXBvcnR7c3ViY2xhc3MgYXMgb31mcm9tXCIuLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3N1YmNsYXNzLmpzXCI7aW1wb3J0e0VkaXRhYmxlRmxhZyBhcyBzfWZyb21cIi4vaW50ZXJmYWNlcy5qc1wiO2ltcG9ydHtNYW5pcHVsYXRvckNvbGxlY3Rpb24gYXMgcn1mcm9tXCIuL01hbmlwdWxhdG9yQ29sbGVjdGlvbi5qc1wiO2xldCBuPWNsYXNzIGV4dGVuZHMgZS5FdmVudGVkQWNjZXNzb3J7Y29uc3RydWN0b3IodCl7c3VwZXIodCksdGhpcy5tYW5pcHVsYXRvcnM9bmV3IHIsdGhpcy5hdXRvbWF0aWNNYW5pcHVsYXRvclNlbGVjdGlvbj0hMCx0aGlzLmhhc0dyYWJiZWRNYW5pcHVsYXRvcnM9ITEsdGhpcy5oYXNIb3ZlcmVkTWFuaXB1bGF0b3JzPSExLHRoaXMuZmlyc3RHcmFiYmVkTWFuaXB1bGF0b3I9bnVsbCx0aGlzLmNyZWF0ZWQ9ITEsdGhpcy5yZW1vdmVJbmNvbXBsZXRlT25DYW5jZWw9ITAsdGhpcy5fZWRpdGFibGVGbGFncz1uZXcgTWFwKFtbcy5NQU5BR0VSLCEwXSxbcy5VU0VSLCEwXV0pLHRoaXMuX2NyZWF0aW9uRmluaXNoZWRSZXNvbHZlcj1pKCl9Z2V0IGFjdGl2ZSgpe3JldHVybiBudWxsIT10aGlzLnZpZXcmJnRoaXMudmlldy5hY3RpdmVUb29sPT09dGhpc31zZXQgdmlzaWJsZSh0KXt0aGlzLl9nZXQoXCJ2aXNpYmxlXCIpIT09dCYmKHRoaXMuX3NldChcInZpc2libGVcIix0KSx0aGlzLl9zeW5jVmlzaWJsZSgpKX1nZXQgZWRpdGFibGUoKXtyZXR1cm4gdGhpcy5nZXRFZGl0YWJsZUZsYWcocy5VU0VSKX1zZXQgZWRpdGFibGUodCl7dGhpcy5zZXRFZGl0YWJsZUZsYWcocy5VU0VSLHQpfWdldCB1cGRhdGluZygpe3JldHVybiExfWdldCBjdXJzb3IoKXtyZXR1cm4gbnVsbH1nZXQgaGFzRm9jdXNlZE1hbmlwdWxhdG9ycygpe3JldHVybiB0aGlzLmhhc0dyYWJiZWRNYW5pcHVsYXRvcnN8fHRoaXMuaGFzSG92ZXJlZE1hbmlwdWxhdG9yc31kZXN0cm95KCl7dGhpcy5tYW5pcHVsYXRvcnMuZGVzdHJveSgpLHRoaXMuX3NldChcInZpZXdcIixudWxsKX1vbkFkZCgpe3RoaXMuX3N5bmNWaXNpYmxlKCl9YWN0aXZhdGUoKXtudWxsIT10aGlzLnZpZXcmJih0aGlzLnZpZXcuZm9jdXMoKSx0aGlzLm9uQWN0aXZhdGUoKSl9ZGVhY3RpdmF0ZSgpe3RoaXMub25EZWFjdGl2YXRlKCl9Y2FuY2VsKCl7dGhpcy5lbWl0KFwiY2FuY2VsXCIpfWhhbmRsZUlucHV0RXZlbnQodCl7dGhpcy5vbklucHV0RXZlbnQodCl9aGFuZGxlSW5wdXRFdmVudEFmdGVyKHQpe3RoaXMub25JbnB1dEV2ZW50QWZ0ZXIodCl9c2V0RWRpdGFibGVGbGFnKHQsZSl7dGhpcy5fZWRpdGFibGVGbGFncy5zZXQodCxlKSx0aGlzLm1hbmlwdWxhdG9ycy5pc1Rvb2xFZGl0YWJsZT10aGlzLmludGVybmFsbHlFZGl0YWJsZSx0aGlzLl91cGRhdGVNYW5pcHVsYXRvckF0dGFjaG1lbnQoKSx0PT09cy5VU0VSJiZ0aGlzLm5vdGlmeUNoYW5nZShcImVkaXRhYmxlXCIpLHRoaXMub25FZGl0YWJsZUNoYW5nZSgpLHRoaXMub25NYW5pcHVsYXRvclNlbGVjdGlvbkNoYW5nZWQoKX1nZXRFZGl0YWJsZUZsYWcodCl7cmV0dXJuIHRoaXMuX2VkaXRhYmxlRmxhZ3MuZ2V0KHQpPz8hMX1lbmREcmFnKCl7Y29uc3QgdD10aGlzLnZpZXcuaW5wdXRNYW5hZ2VyLmxhdGVzdFBvaW50ZXJMb2NhdGlvbjtpZighdClyZXR1cm47bGV0IGU9ITE7dGhpcy5tYW5pcHVsYXRvcnMuZm9yRWFjaCgoKHttYW5pcHVsYXRvcjppfSk9PntpLmRyYWdnaW5nJiYoZT0hMCxpLmV2ZW50cy5lbWl0KFwiZHJhZ1wiLHthY3Rpb246XCJlbmRcIixzdGFydDp0LHNjcmVlblBvaW50OnR9KSl9KSksZSYmKHRoaXMudmlldy50b29sVmlld01hbmFnZXIuYWN0aXZlVG9vbD1udWxsKX13aGVuQ3JlYXRlZCgpe3JldHVybiB0aGlzLl9jcmVhdGlvbkZpbmlzaGVkUmVzb2x2ZXIucHJvbWlzZX1vbk1hbmlwdWxhdG9yU2VsZWN0aW9uQ2hhbmdlZCgpe31vbkFjdGl2YXRlKCl7fW9uRGVhY3RpdmF0ZSgpe31vblNob3coKXt9b25IaWRlKCl7fW9uRWRpdGFibGVDaGFuZ2UoKXt9b25JbnB1dEV2ZW50KHQpe31vbklucHV0RXZlbnRBZnRlcih0KXt9Z2V0IGludGVybmFsbHlFZGl0YWJsZSgpe3JldHVybiB0aGlzLmdldEVkaXRhYmxlRmxhZyhzLlVTRVIpJiZ0aGlzLmdldEVkaXRhYmxlRmxhZyhzLk1BTkFHRVIpfWZpbmlzaFRvb2xDcmVhdGlvbigpe3RoaXMuY3JlYXRlZHx8dGhpcy5fY3JlYXRpb25GaW5pc2hlZFJlc29sdmVyLnJlc29sdmUodGhpcyksdGhpcy5fc2V0KFwiY3JlYXRlZFwiLCEwKX1fc3luY1Zpc2libGUoKXtpZih0aGlzLmluaXRpYWxpemVkKWlmKHRoaXMudmlzaWJsZSl0aGlzLl9zaG93KCk7ZWxzZSBpZih0aGlzLl9oaWRlKCksdGhpcy5hY3RpdmUpcmV0dXJuIHZvaWQodGhpcy52aWV3LmFjdGl2ZVRvb2w9bnVsbCl9X3Nob3coKXt0aGlzLl91cGRhdGVNYW5pcHVsYXRvckF0dGFjaG1lbnQoKSx0aGlzLm9uU2hvdygpfV9oaWRlKCl7dGhpcy5fdXBkYXRlTWFuaXB1bGF0b3JBdHRhY2htZW50KCksdGhpcy5vbkhpZGUoKX1fdXBkYXRlTWFuaXB1bGF0b3JBdHRhY2htZW50KCl7dGhpcy52aXNpYmxlP3RoaXMubWFuaXB1bGF0b3JzLmF0dGFjaCgpOnRoaXMubWFuaXB1bGF0b3JzLmRldGFjaCgpfX07dChbYSh7Y29uc3RydWN0T25seTohMH0pXSxuLnByb3RvdHlwZSxcInZpZXdcIix2b2lkIDApLHQoW2Eoe3JlYWRPbmx5OiEwfSldLG4ucHJvdG90eXBlLFwiYWN0aXZlXCIsbnVsbCksdChbYSh7dmFsdWU6ITB9KV0sbi5wcm90b3R5cGUsXCJ2aXNpYmxlXCIsbnVsbCksdChbYSh7dmFsdWU6ITB9KV0sbi5wcm90b3R5cGUsXCJlZGl0YWJsZVwiLG51bGwpLHQoW2Eoe3JlYWRPbmx5OiEwfSldLG4ucHJvdG90eXBlLFwibWFuaXB1bGF0b3JzXCIsdm9pZCAwKSx0KFthKHtyZWFkT25seTohMH0pXSxuLnByb3RvdHlwZSxcInVwZGF0aW5nXCIsbnVsbCksdChbYSgpXSxuLnByb3RvdHlwZSxcImN1cnNvclwiLG51bGwpLHQoW2Eoe3JlYWRPbmx5OiEwfSldLG4ucHJvdG90eXBlLFwiYXV0b21hdGljTWFuaXB1bGF0b3JTZWxlY3Rpb25cIix2b2lkIDApLHQoW2EoKV0sbi5wcm90b3R5cGUsXCJoYXNGb2N1c2VkTWFuaXB1bGF0b3JzXCIsbnVsbCksdChbYSgpXSxuLnByb3RvdHlwZSxcImhhc0dyYWJiZWRNYW5pcHVsYXRvcnNcIix2b2lkIDApLHQoW2EoKV0sbi5wcm90b3R5cGUsXCJoYXNIb3ZlcmVkTWFuaXB1bGF0b3JzXCIsdm9pZCAwKSx0KFthKCldLG4ucHJvdG90eXBlLFwiZmlyc3RHcmFiYmVkTWFuaXB1bGF0b3JcIix2b2lkIDApLHQoW2Eoe3JlYWRPbmx5OiEwfSldLG4ucHJvdG90eXBlLFwiY3JlYXRlZFwiLHZvaWQgMCksdChbYSh7cmVhZE9ubHk6ITB9KV0sbi5wcm90b3R5cGUsXCJyZW1vdmVJbmNvbXBsZXRlT25DYW5jZWxcIix2b2lkIDApLG49dChbbyhcImVzcmkudmlld3MuaW50ZXJhY3RpdmUuSW50ZXJhY3RpdmVUb29sQmFzZVwiKV0sbik7ZXhwb3J0e24gYXMgSW50ZXJhY3RpdmVUb29sQmFzZX07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4zMy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0IHQgZnJvbVwiLi4vLi4vY29yZS9Db2xsZWN0aW9uLmpzXCI7dmFyIGE7IWZ1bmN0aW9uKHQpe3RbdC5XaGVuVG9vbEVkaXRhYmxlPTBdPVwiV2hlblRvb2xFZGl0YWJsZVwiLHRbdC5XaGVuVG9vbE5vdEVkaXRhYmxlPTFdPVwiV2hlblRvb2xOb3RFZGl0YWJsZVwiLHRbdC5BbHdheXM9Ml09XCJBbHdheXNcIn0oYXx8KGE9e30pKTtjbGFzcyBpe2NvbnN0cnVjdG9yKCl7dGhpcy5faXNUb29sRWRpdGFibGU9ITAsdGhpcy5fbWFuaXB1bGF0b3JzPW5ldyB0LHRoaXMuX3Jlc291cmNlQ29udGV4dHM9e21hbmlwdWxhdG9yM0Q6e319LHRoaXMuX2F0dGFjaGVkPSExfXNldCBpc1Rvb2xFZGl0YWJsZSh0KXt0aGlzLl9pc1Rvb2xFZGl0YWJsZT10fWdldCBsZW5ndGgoKXtyZXR1cm4gdGhpcy5fbWFuaXB1bGF0b3JzLmxlbmd0aH1hZGQodCxpPWEuV2hlblRvb2xFZGl0YWJsZSl7dGhpcy5hZGRNYW55KFt0XSxpKX1hZGRNYW55KHQsaT1hLldoZW5Ub29sRWRpdGFibGUpe2Zvcihjb25zdCBhIG9mIHQpe2NvbnN0IHQ9e21hbmlwdWxhdG9yOmEsdmlzaWJpbGl0eVByZWRpY2F0ZTppLGF0dGFjaGVkOiExfTt0aGlzLl9tYW5pcHVsYXRvcnMuYWRkKHQpLHRoaXMuX2F0dGFjaGVkJiZ0aGlzLl91cGRhdGVNYW5pcHVsYXRvckF0dGFjaG1lbnQodCl9fXJlbW92ZSh0KXtmb3IobGV0IGE9MDthPHRoaXMuX21hbmlwdWxhdG9ycy5sZW5ndGg7YSsrKWlmKHRoaXMuX21hbmlwdWxhdG9ycy5hdChhKS5tYW5pcHVsYXRvcj09PXQpe2NvbnN0IHQ9dGhpcy5fbWFuaXB1bGF0b3JzLnNwbGljZShhLDEpWzBdO3RoaXMuX2RldGFjaE1hbmlwdWxhdG9yKHQpO2JyZWFrfX1yZW1vdmVBbGwoKXt0aGlzLl9tYW5pcHVsYXRvcnMuZm9yRWFjaCgodD0+e3RoaXMuX2RldGFjaE1hbmlwdWxhdG9yKHQpfSkpLHRoaXMuX21hbmlwdWxhdG9ycy5yZW1vdmVBbGwoKX1hdHRhY2goKXt0aGlzLl9tYW5pcHVsYXRvcnMuZm9yRWFjaCgodD0+e3RoaXMuX3VwZGF0ZU1hbmlwdWxhdG9yQXR0YWNobWVudCh0KX0pKSx0aGlzLl9hdHRhY2hlZD0hMH1kZXRhY2goKXt0aGlzLl9tYW5pcHVsYXRvcnMuZm9yRWFjaCgodD0+e3RoaXMuX2RldGFjaE1hbmlwdWxhdG9yKHQpfSkpLHRoaXMuX2F0dGFjaGVkPSExfWRlc3Ryb3koKXt0aGlzLmRldGFjaCgpLHRoaXMuX21hbmlwdWxhdG9ycy5mb3JFYWNoKCgoe21hbmlwdWxhdG9yOnR9KT0+dC5kZXN0cm95KCkpKSx0aGlzLl9tYW5pcHVsYXRvcnMuZGVzdHJveSgpLHRoaXMuX3Jlc291cmNlQ29udGV4dHM9bnVsbH1vbih0LGEpe3JldHVybiB0aGlzLl9tYW5pcHVsYXRvcnMub24odCwodD0+e2EodCl9KSl9Zm9yRWFjaCh0KXtmb3IoY29uc3QgYSBvZiB0aGlzLl9tYW5pcHVsYXRvcnMuaXRlbXMpdChhKX1zb21lKHQpe3JldHVybiB0aGlzLl9tYW5pcHVsYXRvcnMuaXRlbXMuc29tZSh0KX10b0FycmF5KCl7Y29uc3QgdD1bXTtyZXR1cm4gdGhpcy5mb3JFYWNoKChhPT50LnB1c2goYS5tYW5pcHVsYXRvcikpKSx0fWludGVyc2VjdCh0LGEpe2xldCBpPW51bGwsZT1OdW1iZXIuTUFYX1ZBTFVFO3JldHVybiB0aGlzLl9tYW5pcHVsYXRvcnMuZm9yRWFjaCgoKHttYW5pcHVsYXRvcjpvLGF0dGFjaGVkOnN9KT0+e2lmKCFzfHwhby5pbnRlcmFjdGl2ZSlyZXR1cm47Y29uc3Qgcj1vLmludGVyc2VjdGlvbkRpc3RhbmNlKHQsYSk7bnVsbCE9ciYmcjxlJiYoZT1yLGk9byl9KSksaX1fdXBkYXRlTWFuaXB1bGF0b3JBdHRhY2htZW50KHQpe3RoaXMuX2lzTWFuaXB1bGF0b3JJdGVtVmlzaWJsZSh0KT90aGlzLl9hdHRhY2hNYW5pcHVsYXRvcih0KTp0aGlzLl9kZXRhY2hNYW5pcHVsYXRvcih0KX1fYXR0YWNoTWFuaXB1bGF0b3IodCl7dC5hdHRhY2hlZHx8KHQubWFuaXB1bGF0b3IuYXR0YWNoJiZ0Lm1hbmlwdWxhdG9yLmF0dGFjaCh0aGlzLl9yZXNvdXJjZUNvbnRleHRzKSx0LmF0dGFjaGVkPSEwKX1fZGV0YWNoTWFuaXB1bGF0b3IodCl7aWYoIXQuYXR0YWNoZWQpcmV0dXJuO2NvbnN0IGE9dC5tYW5pcHVsYXRvcjthLmdyYWJiaW5nPSExLGEuZHJhZ2dpbmc9ITEsYS5ob3ZlcmluZz0hMSxhLnNlbGVjdGVkPSExLGEuZGV0YWNoJiZhLmRldGFjaCh0aGlzLl9yZXNvdXJjZUNvbnRleHRzKSx0LmF0dGFjaGVkPSExfV9pc01hbmlwdWxhdG9ySXRlbVZpc2libGUodCl7cmV0dXJuIHQudmlzaWJpbGl0eVByZWRpY2F0ZT09PWEuQWx3YXlzfHwodGhpcy5faXNUb29sRWRpdGFibGU/dC52aXNpYmlsaXR5UHJlZGljYXRlPT09YS5XaGVuVG9vbEVkaXRhYmxlOnQudmlzaWJpbGl0eVByZWRpY2F0ZT09PWEuV2hlblRvb2xOb3RFZGl0YWJsZSl9fWV4cG9ydHtpIGFzIE1hbmlwdWxhdG9yQ29sbGVjdGlvbixhIGFzIE1hbmlwdWxhdG9yVmlzaWJpbGl0eVByZWRpY2F0ZX07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4zMy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e2lzU29tZSBhcyB0fWZyb21cIi4uLy4uL2NvcmUvYXJyYXlVdGlscy5qc1wiO2ltcG9ydFwiLi4vLi4vY29yZS9oYXMuanNcIjtpbXBvcnR7Y2xvbmUgYXMgbn1mcm9tXCIuLi8uLi9jb3JlL2xhbmcuanNcIjtpbXBvcnR7Y2xhbXAgYXMgZX1mcm9tXCIuLi8uLi9jb3JlL21hdGhVdGlscy5qc1wiO2ltcG9ydHtjcmVhdGVTY3JlZW5Qb2ludCBhcyByfWZyb21cIi4uLy4uL2NvcmUvc2NyZWVuVXRpbHMuanNcIjtpbXBvcnR7cHJvamVjdCBhcyBhfWZyb21cIi4uLy4uL2dlb21ldHJ5L3Byb2plY3Rpb25VdGlscy5qc1wiO2ltcG9ydHtpc01lc2hXaXRoUmVsYXRpdmVWZXJ0ZXhTcGFjZSBhcyBvfWZyb21cIi4uLy4uL2dlb21ldHJ5L3N1cHBvcnQvbWVzaFZlcnRleFNwYWNlVXRpbHMuanNcIjtpbXBvcnR7Y2xvbmVQb2ludCBhcyBsLGh5ZHJhdGVkU3BhdGlhbFJlZmVyZW5jZSBhcyBjfWZyb21cIi4uLy4uL2xheWVycy9ncmFwaGljcy9oeWRyYXRlZEZlYXR1cmVzLmpzXCI7aW1wb3J0e2dldFpGb3JFbGV2YXRpb25Nb2RlIGFzIHN9ZnJvbVwiLi4vLi4vc3VwcG9ydC9lbGV2YXRpb25JbmZvVXRpbHMuanNcIjtpbXBvcnR7RWRpdEdlb21ldHJ5T3BlcmF0aW9ucyBhcyB1fWZyb21cIi4vZWRpdEdlb21ldHJ5L0VkaXRHZW9tZXRyeU9wZXJhdGlvbnMuanNcIjtmdW5jdGlvbiBpKHQsbil7bGV0IGU9bnVsbCxyPW51bGw7cmV0dXJuIGE9PntpZihcImNhbmNlbFwiPT09YS5hY3Rpb24pcmV0dXJuIHZvaWQobnVsbCE9ciYmKHIuZXhlY3V0ZSh7YWN0aW9uOlwiY2FuY2VsXCJ9KSxlPW51bGwscj1udWxsKSk7Y29uc3Qgbz17YWN0aW9uOmEuYWN0aW9uLHNjcmVlblN0YXJ0OmEuc3RhcnQsc2NyZWVuRW5kOmEuc2NyZWVuUG9pbnR9O1wic3RhcnRcIj09PWEuYWN0aW9uJiZudWxsPT1lJiYoZT1uZXcgdyxyPW5ldyB3LG4odCxlLHIsYS5wb2ludGVyVHlwZSxvKSksbnVsbCE9ZSYmZS5leGVjdXRlKG8pLFwiZW5kXCI9PT1hLmFjdGlvbiYmbnVsbCE9ZSYmKGU9bnVsbCxyPW51bGwpfX1mdW5jdGlvbiBwKHQsbil7cmV0dXJuIHQuZXZlbnRzLm9uKFwiZHJhZ1wiLGkodCxuKSl9ZnVuY3Rpb24gbSh0LG4pe2NvbnN0IGU9W3QueCx0LnksdC56Pz8wXSxyPW4sYT1bTWF0aC5jb3MociksTWF0aC5zaW4ocildLG89TWF0aC5zcXJ0KGFbMF0qYVswXSthWzFdKmFbMV0pO2lmKDA9PT1vKXJldHVybiBudWxsO2FbMF0vPW8sYVsxXS89bztjb25zdCBsPXQ9Pntjb25zdCBuPSh0LngtZVswXSkqYVswXSsodC55LWVbMV0pKmFbMV07dC54PWVbMF0rbiphWzBdLHQueT1lWzFdK24qYVsxXX07cmV0dXJuIHQ9PihsKHQubWFwU3RhcnQpLGwodC5tYXBFbmQpLHsuLi50LGF4aXM6YX0pfWZ1bmN0aW9uIGYodCl7bGV0IG49bnVsbDtyZXR1cm4gZT0+e2lmKFwic3RhcnRcIj09PWUuYWN0aW9uJiYobj15KHQsZS5tYXBTdGFydC5zcGF0aWFsUmVmZXJlbmNlKSksbnVsbD09bilyZXR1cm4gbnVsbDtjb25zdCByPWUubWFwRW5kLngtZS5tYXBTdGFydC54LGE9ZS5tYXBFbmQueS1lLm1hcFN0YXJ0Lnksbz0oZS5tYXBFbmQuej8/MCktKGUubWFwU3RhcnQuej8/MCk7cmV0dXJuIG4ubW92ZShyLGEsbyxlLmFjdGlvbiksey4uLmUsdHJhbnNsYXRpb25YOnIsdHJhbnNsYXRpb25ZOmEsdHJhbnNsYXRpb25aOm99fX1mdW5jdGlvbiBkKHQsbil7cmV0dXJuIG51bGw9PXQ/bnVsbDp0LnNwYXRpYWxSZWZlcmVuY2UuZXF1YWxzKG4pP3QuY2xvbmUoKTphKHQsbil9ZnVuY3Rpb24geSh0LG4pe2NvbnN0IGU9dC5vcGVyYXRpb25zO2lmKCFlKXJldHVybiBudWxsO2NvbnN0IHI9ZS5kYXRhLmdlb21ldHJ5LGw9YyhuKTtpZihyLnNwYXRpYWxSZWZlcmVuY2UuZXF1YWxzKGwpKXJldHVybiB4KHQsZSwoKCk9Pnt9KSk7aWYoXCJtZXNoXCIhPT1yLnR5cGUpe2NvbnN0IG49ZChyLGwpO2lmKG51bGw9PW4pcmV0dXJuIG51bGw7Y29uc3Qgbz1yLnNwYXRpYWxSZWZlcmVuY2U7cmV0dXJuIHgodCx1LmZyb21HZW9tZXRyeShuLGUudmlld2luZ01vZGUpLCgoKT0+e2NvbnN0IHQ9YShyLG8pO2UudHJ5U2V0R2VvbWV0cnkodCl9KSl9aWYobyhyKSl7Y29uc3Qgbj1kKHIub3JpZ2luLGwpO2lmKCFuKXJldHVybiBudWxsO2NvbnN0IG89ci5zcGF0aWFsUmVmZXJlbmNlLGM9dS5mcm9tR2VvbWV0cnkobixlLnZpZXdpbmdNb2RlKTtyZXR1cm4geCh0LGUsKCgpPT57Y29uc3QgdD1hKGMuZGF0YS5nZW9tZXRyeSxvKSxuPXQueC1yLm9yaWdpbi54LGw9dC55LXIub3JpZ2luLnkscz0odC56Pz8wKS0oci5vcmlnaW4uej8/MCk7ZS5tb3ZlKG4sbCxzKX0pKX1yZXR1cm4gbnVsbH1mdW5jdGlvbiB4KHQsbixlKXtsZXQgcj0wLGE9MCxvPTA7cmV0dXJue21vdmU6KGwsYyxzLHUpPT57XCJzdGFydFwiPT09dSYmKHI9MCxhPTAsbz0wKTtjb25zdCBpPWwtcixwPWMtYSxtPXMtbztuLm1vdmUoaSxwLG0pLHIrPWksYSs9cCxvKz1tLGUoKSxcImVuZFwiPT09dSYmdC5lbmRJbnRlcmFjdGlvbj8uKCl9fX1mdW5jdGlvbiBFKHQsbj1udWxsLGUpe2xldCByPW51bGw7Y29uc3Qgbz1udWxsPT1ufHx0LnNwYXRpYWxSZWZlcmVuY2U/LmVxdWFscyhuKT90PT50OnQ9Pm51bGwhPXQ/YSh0LG4pOnQsbD17ZXhjbHVkZTpbXSwuLi5lfTtyZXR1cm4gbj0+e2lmKFwic3RhcnRcIj09PW4uYWN0aW9uJiYocj1vKHQudG9NYXAobi5zY3JlZW5TdGFydCxsKSkpLG51bGw9PXIpcmV0dXJuIG51bGw7Y29uc3QgZT1vKHQudG9NYXAobi5zY3JlZW5FbmQsbCkpO3JldHVybiBudWxsIT1lP3suLi5uLG1hcFN0YXJ0OnIsbWFwRW5kOmV9Om51bGx9fWZ1bmN0aW9uIFMobil7Y29uc3QgZT1uLm1hcCgodD0+Zih0KSkpLmZpbHRlcih0KTtyZXR1cm4gdD0+e2NvbnN0IG49dC5tYXBFbmQueC10Lm1hcFN0YXJ0Lngscj10Lm1hcEVuZC55LXQubWFwU3RhcnQueSxhPXQubWFwRW5kLnotdC5tYXBTdGFydC56O3JldHVybiBlLmZvckVhY2goKG49Pm4odCkpKSx7Li4udCx0cmFuc2xhdGlvblg6bix0cmFuc2xhdGlvblk6cix0cmFuc2xhdGlvblo6YX19fWZ1bmN0aW9uIGgodCxlKXtjb25zdCByPW5ldyBNYXA7Zm9yKGNvbnN0IGEgb2YgZSlyLnNldChhLG4odFthXSkpO3JldHVybiBuPT4oci5mb3JFYWNoKCgobixlKT0+e3RbZV09bn0pKSxuKX1mdW5jdGlvbiBnKHQpe2NvbnN0IG49dC5vcGVyYXRpb25zPy5jcmVhdGVSZXNldFN0YXRlKCk7cmV0dXJuIHQ9PihuPy5yZW1vdmUoKSx0KX1mdW5jdGlvbiB6KHQpe2NvbnN0IG49dC5tYXAoKHQ9PmcodCkpKS5maWx0ZXIoKHQ9Pm51bGwhPXQpKTtyZXR1cm4gdD0+KG4uZm9yRWFjaCgobj0+bih0KSkpLHQpfWZ1bmN0aW9uIHYoKXtsZXQgdD0wLG49MCxlPTA7cmV0dXJuIHI9PntcInN0YXJ0XCI9PT1yLmFjdGlvbiYmKHQ9ci5tYXBTdGFydC54LG49ci5tYXBTdGFydC55LGU9ci5tYXBTdGFydC56KTtjb25zdCBhPXIubWFwRW5kLngtdCxvPXIubWFwRW5kLnktbixsPXIubWFwRW5kLnotZTtyZXR1cm4gdD1yLm1hcEVuZC54LG49ci5tYXBFbmQueSxlPXIubWFwRW5kLnosey4uLnIsbWFwRGVsdGFYOmEsbWFwRGVsdGFZOm8sbWFwRGVsdGFaOmwsbWFwRGVsdGFTcGF0aWFsUmVmZXJlbmNlOnIubWFwU3RhcnQuc3BhdGlhbFJlZmVyZW5jZX19fWZ1bmN0aW9uIGooKXtsZXQgdD0wLG49MDtyZXR1cm4gZT0+e1wic3RhcnRcIj09PWUuYWN0aW9uJiYodD1lLnNjcmVlblN0YXJ0Lngsbj1lLnNjcmVlblN0YXJ0LnkpO2NvbnN0IHI9ZS5zY3JlZW5FbmQueC10LGE9ZS5zY3JlZW5FbmQueS1uO3JldHVybiB0PWUuc2NyZWVuRW5kLngsbj1lLnNjcmVlbkVuZC55LHsuLi5lLHNjcmVlbkRlbHRhWDpyLHNjcmVlbkRlbHRhWTphfX19ZnVuY3Rpb24gTSh0LG4pe2xldCBhPW51bGwsbz0wLGw9MDtyZXR1cm4gYz0+e2lmKFwic3RhcnRcIj09PWMuYWN0aW9uJiYoYT10LnRvU2NyZWVuPy4obiksbnVsbCE9YSYmKGEueDwwfHxhLng+dC53aWR0aHx8YS55PDB8fGEueT50LmhlaWdodD9hPW51bGw6KG89Yy5zY3JlZW5TdGFydC54LWEueCxsPWMuc2NyZWVuU3RhcnQueS1hLnkpKSksbnVsbD09YSlyZXR1cm4gbnVsbDtjb25zdCBzPWUoYy5zY3JlZW5FbmQueC1vLDAsdC53aWR0aCksdT1lKGMuc2NyZWVuRW5kLnktbCwwLHQuaGVpZ2h0KSxpPXIocyx1KTtyZXR1cm4gYy5zY3JlZW5TdGFydD1hLGMuc2NyZWVuRW5kPWksY319Y29uc3QgUj0oKT0+e307Y2xhc3Mgd3tjb25zdHJ1Y3Rvcigpe3RoaXMuZXhlY3V0ZT1SfW5leHQodCxuPW5ldyB3KXtyZXR1cm4gbnVsbCE9dCYmKHRoaXMuZXhlY3V0ZT1lPT57Y29uc3Qgcj10KGUpO251bGwhPXImJm4uZXhlY3V0ZShyKX0pLG59fWZ1bmN0aW9uIEQodCxuLGU9W10pe2lmKFwiMmRcIj09PXQudHlwZSlyZXR1cm4gdD0+dDtsZXQgcj1udWxsO3JldHVybiBhPT57XCJzdGFydFwiPT09YS5hY3Rpb24mJihyPXQudG9NYXAoYS5zY3JlZW5TdGFydCx7ZXhjbHVkZTplfSksbnVsbCE9ciYmKHIuej1zKHIsdCxuKSkpO2NvbnN0IG89dC50b01hcChhLnNjcmVlbkVuZCx7ZXhjbHVkZTplfSk7bnVsbCE9byYmKG8uej1zKG8sdCxuKSk7Y29uc3QgbD1udWxsIT1yJiZudWxsIT1vP3tzY2VuZVN0YXJ0OnIsc2NlbmVFbmQ6b306bnVsbDtyZXR1cm57Li4uYSxzY2VuZVBvaW50czpsfX19ZnVuY3Rpb24gVSh0LG4sZSl7Y29uc3Qgcj1uLmVsZXZhdGlvblByb3ZpZGVyLmdldEVsZXZhdGlvbih0LngsdC55LHQuej8/MCx0LnNwYXRpYWxSZWZlcmVuY2UsXCJzY2VuZVwiKT8/MCxhPWwodCk7cmV0dXJuIGEuej1yLGEuaGFzWj0hMCxhLno9cyhhLG4sZSksYX1mdW5jdGlvbiBHKHQsbil7aWYoXCIyZFwiPT09dC50eXBlKXJldHVybiB0PT50O2xldCBlPW51bGw7cmV0dXJuIHI9PntcInN0YXJ0XCI9PT1yLmFjdGlvbiYmKGU9VShyLm1hcFN0YXJ0LHQsbikpO2NvbnN0IGE9VShyLm1hcEVuZCx0LG4pLG89bnVsbCE9ZSYmbnVsbCE9YT97c2NlbmVTdGFydDplLHNjZW5lRW5kOmF9Om51bGw7cmV0dXJuey4uLnIsc2NlbmVQb2ludHM6b319fWV4cG9ydHt3IGFzIEV2ZW50UGlwZWxpbmUsdiBhcyBhZGRNYXBEZWx0YSxqIGFzIGFkZFNjcmVlbkRlbHRhLG0gYXMgY29uc3RyYWluVG9NYXBBeGlzLGkgYXMgY3JlYXRlRHJhZ0V2ZW50UGlwZWxpbmVDYWxsYmFjayxwIGFzIGNyZWF0ZU1hbmlwdWxhdG9yRHJhZ0V2ZW50UGlwZWxpbmUsTSBhcyBkcmFnQXRMb2NhdGlvbixmIGFzIGRyYWdNYW5pcHVsYXRlZE9iamVjdCxTIGFzIGRyYWdNYW5pcHVsYXRlZE9iamVjdE1hbnksZyBhcyByZXNldE1hbmlwdWxhdGVkT2JqZWN0LHogYXMgcmVzZXRNYW5pcHVsYXRlZE9iamVjdE1hbnksaCBhcyByZXNldFByb3BlcnRpZXMsRCBhcyBzY2VuZVNuYXBwaW5nQXRMb2NhdGlvbixHIGFzIHNjZW5lU25hcHBpbmdBdFByb2plY3RlZExvY2F0aW9uLEUgYXMgc2NyZWVuVG9NYXB9O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9