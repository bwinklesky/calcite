export const __webpack_id__ = "vendors-node_modules_esri_calcite-components_dist_chunks_key_js-node_modules_esri_calcite-com-a6c5a5";
export const __webpack_ids__ = ["vendors-node_modules_esri_calcite-components_dist_chunks_key_js-node_modules_esri_calcite-com-a6c5a5"];
export const __webpack_modules__ = {

/***/ "./node_modules/@esri/calcite-components/dist/chunks/key.js":
/*!******************************************************************!*\
  !*** ./node_modules/@esri/calcite-components/dist/chunks/key.js ***!
  \******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   i: () => (/* binding */ isActivationKey),
/* harmony export */   n: () => (/* binding */ numberKeys)
/* harmony export */ });
/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
v3.3.3 */
function isActivationKey(key) {
  return key === "Enter" || key === " ";
}
const numberKeys = ["0", "1", "2", "3", "4", "5", "6", "7", "8", "9"];



/***/ }),

/***/ "./node_modules/@esri/calcite-components/dist/chunks/observers.js":
/*!************************************************************************!*\
  !*** ./node_modules/@esri/calcite-components/dist/chunks/observers.js ***!
  \************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   c: () => (/* binding */ createObserver),
/* harmony export */   u: () => (/* binding */ updateRefObserver)
/* harmony export */ });
/* harmony import */ var lit__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lit */ "./node_modules/lit/index.js");
/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
v3.3.3 */

function createObserver(type, callback, options) {
  if (lit__WEBPACK_IMPORTED_MODULE_0__.isServer) {
    return void 0;
  }
  const Observer = getObserver(type);
  return new Observer(callback, options);
}
function getObserver(type) {
  class ExtendedMutationObserver extends window.MutationObserver {
    constructor(callback) {
      super(callback);
      this.observedEntry = [];
      this.callback = callback;
    }
    observe(target, options) {
      this.observedEntry.push({ target, options });
      return super.observe(target, options);
    }
    unobserve(target) {
      const newObservedEntries = this.observedEntry.filter((observed) => observed.target !== target);
      this.observedEntry = [];
      this.callback(super.takeRecords(), this);
      this.disconnect();
      newObservedEntries.forEach((observed) => this.observe(observed.target, observed.options));
    }
  }
  return function() {
    return type === "intersection" ? window.IntersectionObserver : type === "mutation" ? ExtendedMutationObserver : window.ResizeObserver;
  }();
}
function updateRefObserver(observer, oldTarget, target, options) {
  if (!observer) {
    return;
  }
  if (oldTarget) {
    observer.unobserve(oldTarget);
  }
  if (!target) {
    return;
  }
  if (observer instanceof MutationObserver) {
    observer.observe(target, options);
    return;
  }
  observer.observe(target);
}



/***/ }),

/***/ "./node_modules/@esri/calcite-components/dist/chunks/resources5.js":
/*!*************************************************************************!*\
  !*** ./node_modules/@esri/calcite-components/dist/chunks/resources5.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   C: () => (/* binding */ CSS),
/* harmony export */   I: () => (/* binding */ ICONS),
/* harmony export */   M: () => (/* binding */ MAX_COLUMNS),
/* harmony export */   S: () => (/* binding */ SLOTS),
/* harmony export */   a: () => (/* binding */ activeCellTestAttribute)
/* harmony export */ });
/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
v3.3.3 */
const CSS = {
  actionsEnd: "actions-end",
  actionsStart: "actions-start",
  description: "description",
  close: "close",
  container: "container",
  containerHover: "container--hover",
  containerBorder: "container--border",
  containerBorderSelected: "container--border-selected",
  containerBorderUnselected: "container--border-unselected",
  content: "content",
  contentBottom: "content-bottom",
  contentContainer: "content-container",
  contentContainerHasCenterContent: "content-container--has-center-content",
  contentContainerSelectable: "content-container--selectable",
  contentContainerUnavailable: "content-container--unavailable",
  contentContainerWrapper: "content-container-wrapper",
  contentContainerWrapperBordered: "content-container-wrapper--bordered",
  contentEnd: "content-end",
  contentStart: "content-start",
  customContent: "custom-content",
  expandedContainer: "expanded-container",
  dragContainer: "drag-container",
  gridCell: "grid-cell",
  icon: "icon",
  nestedContainer: "nested-container",
  nestedContainerExpanded: "nested-container--expanded",
  label: "label",
  row: "row",
  selectionContainer: "selection-container",
  selectionContainerSingle: "selection-container--single",
  wrapper: "wrapper",
  wrapperBordered: "wrapper--bordered"
};
const SLOTS = {
  actionsStart: "actions-start",
  contentStart: "content-start",
  content: "content",
  contentBottom: "content-bottom",
  contentEnd: "content-end",
  actionsEnd: "actions-end"
};
const MAX_COLUMNS = 0;
const ICONS = {
  selectedMultiple: "check-square-f",
  selectedSingle: "circle-inset-large",
  unselectedMultiple: "square",
  unselectedSingle: "circle",
  collapsedLTR: "chevron-right",
  collapsedRTL: "chevron-left",
  open: "chevron-down",
  blank: "blank",
  close: "x"
};
const activeCellTestAttribute = "data-test-active";



/***/ }),

/***/ "./node_modules/@esri/calcite-components/dist/chunks/useT9n.js":
/*!*********************************************************************!*\
  !*** ./node_modules/@esri/calcite-components/dist/chunks/useT9n.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   u: () => (/* binding */ useT9n)
/* harmony export */ });
/* harmony import */ var _arcgis_lumina_controllers__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @arcgis/lumina/controllers */ "./node_modules/@arcgis/lumina/dist/controllers/index.js");
/* harmony import */ var _runtime_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./runtime.js */ "./node_modules/@esri/calcite-components/dist/chunks/runtime.js");
/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
v3.3.3 */


const useT9n = (0,_arcgis_lumina_controllers__WEBPACK_IMPORTED_MODULE_0__.makeT9nController)(_runtime_js__WEBPACK_IMPORTED_MODULE_1__.g);



/***/ }),

/***/ "./node_modules/@esri/calcite-components/dist/chunks/utils2.js":
/*!*********************************************************************!*\
  !*** ./node_modules/@esri/calcite-components/dist/chunks/utils2.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   a: () => (/* binding */ getListItemChildren),
/* harmony export */   b: () => (/* binding */ listItemSelector),
/* harmony export */   c: () => (/* binding */ listItemGroupSelector),
/* harmony export */   e: () => (/* binding */ expandedAncestors),
/* harmony export */   g: () => (/* binding */ getDepth),
/* harmony export */   i: () => (/* binding */ isListItem),
/* harmony export */   l: () => (/* binding */ listSelector),
/* harmony export */   u: () => (/* binding */ updateListItemChildren)
/* harmony export */ });
/* harmony import */ var lit__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lit */ "./node_modules/lit/index.js");
/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
v3.3.3 */

const listSelector = "calcite-list";
const listItemGroupSelector = "calcite-list-item-group";
const listItemSelector = "calcite-list-item";
function expandedAncestors(el) {
  const ancestor = el.parentElement?.closest(listItemSelector);
  if (!ancestor) {
    return;
  }
  ancestor.open = true;
  expandedAncestors(ancestor);
}
function getListItemChildren(slotEl) {
  const assignedElements = slotEl.assignedElements({ flatten: true });
  const groupChildren = assignedElements.filter((el) => el?.matches(listItemGroupSelector)).map((group) => Array.from(group.querySelectorAll(listItemSelector))).flat();
  const listItemChildren = assignedElements.filter((el) => el?.matches(listItemSelector));
  const listChildren = assignedElements.filter((el) => el?.matches(listSelector));
  return {
    lists: listChildren,
    items: groupChildren.concat(listItemChildren)
  };
}
function updateListItemChildren(slotEl) {
  const listItemChildren = slotEl.assignedElements({ flatten: true }).filter((el) => el.matches(listItemSelector));
  const filteredListItemChildren = listItemChildren.filter((listItem) => !listItem.filterHidden);
  listItemChildren.forEach((listItem) => {
    const index = filteredListItemChildren.indexOf(listItem);
    listItem.setPosition = index === -1 ? void 0 : index + 1;
    listItem.setSize = index === -1 ? void 0 : filteredListItemChildren.length;
  });
}
function getDepth(element, includeGroup = false) {
  if (lit__WEBPACK_IMPORTED_MODULE_0__.isServer) {
    return 0;
  }
  const expression = includeGroup ? "ancestor::calcite-list-item | ancestor::calcite-list-item-group" : "ancestor::calcite-list-item";
  const result = document.evaluate(expression, element, null, XPathResult.UNORDERED_NODE_SNAPSHOT_TYPE, null);
  return result.snapshotLength;
}
function isListItem(element) {
  return element.tagName === "CALCITE-LIST-ITEM";
}



/***/ }),

/***/ "./node_modules/@esri/calcite-components/dist/components/calcite-icon/customElement.js":
/*!*********************************************************************************************!*\
  !*** ./node_modules/@esri/calcite-components/dist/components/calcite-icon/customElement.js ***!
  \*********************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Icon: () => (/* binding */ Icon)
/* harmony export */ });
/* harmony import */ var _chunks_runtime_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../chunks/runtime.js */ "./node_modules/@esri/calcite-components/dist/chunks/runtime.js");
/* harmony import */ var lit__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lit */ "./node_modules/lit/index.js");
/* harmony import */ var _arcgis_lumina__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @arcgis/lumina */ "./node_modules/@arcgis/lumina/dist/index.js");
/* harmony import */ var _chunks_dom_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../chunks/dom.js */ "./node_modules/@esri/calcite-components/dist/chunks/dom.js");
/* harmony import */ var _chunks_observers_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../chunks/observers.js */ "./node_modules/@esri/calcite-components/dist/chunks/observers.js");
/* harmony import */ var _chunks_logger_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../chunks/logger.js */ "./node_modules/@esri/calcite-components/dist/chunks/logger.js");
/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
v3.3.3 */






const CSS = {
  flipRtl: "flip-rtl",
  svg: "svg"
};
const iconCache = {};
const requestCache = {};
const scaleToPx = {
  s: 16,
  m: 24,
  l: 32
};
function generateIconId({ icon, scale }) {
  const size = scaleToPx[scale];
  const name = normalizeIconName(icon);
  const filled = name.charAt(name.length - 1) === "F";
  const iconName = filled ? name.substring(0, name.length - 1) : name;
  return `${iconName}${size}${filled ? "F" : ""}`;
}
async function fetchIcon(props) {
  const cachedIconKey = generateIconId(props);
  const cachedIconData = getCachedIconDataByKey(cachedIconKey);
  if (cachedIconData) {
    return cachedIconData;
  }
  if (!requestCache[cachedIconKey]) {
    requestCache[cachedIconKey] = fetch((0,_chunks_runtime_js__WEBPACK_IMPORTED_MODULE_0__.g)(`./assets/icon/${cachedIconKey}.json`)).then((resp) => resp.json()).catch(() => {
      _chunks_logger_js__WEBPACK_IMPORTED_MODULE_5__.l.error(`${props.icon} (${props.scale}) icon failed to load`);
      return "";
    });
  }
  const path = await requestCache[cachedIconKey];
  iconCache[cachedIconKey] = path;
  return path;
}
function getCachedIconData(props) {
  return getCachedIconDataByKey(generateIconId(props));
}
function getCachedIconDataByKey(id) {
  return iconCache[id];
}
function normalizeIconName(name) {
  const numberLeadingName = !isNaN(Number(name.charAt(0)));
  const parts = name.split("-");
  const kebabCased = parts.length > 0;
  if (kebabCased) {
    const firstNonDigitInPartPattern = /[a-z]/i;
    name = parts.map((part, partIndex) => {
      return part.replace(firstNonDigitInPartPattern, function replacer(match, offset) {
        const isFirstCharInName = partIndex === 0 && offset === 0;
        if (isFirstCharInName) {
          return match;
        }
        return match.toUpperCase();
      });
    }).join("");
  }
  return numberLeadingName ? `i${name}` : name;
}
const styles = (0,lit__WEBPACK_IMPORTED_MODULE_1__.css)`:host{--calcite-internal-color-focus: var( --calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)) )}:host{display:inline-flex;color:var(--calcite-icon-color, var(--calcite-ui-icon-color, currentColor))}:host([scale=s]){inline-size:16px;block-size:16px;min-inline-size:16px;min-block-size:16px}:host([scale=m]){inline-size:24px;block-size:24px;min-inline-size:24px;min-block-size:24px}:host([scale=l]){inline-size:32px;block-size:32px;min-inline-size:32px;min-block-size:32px}.flip-rtl{transform:scaleX(-1)}.svg{display:block}:host([hidden]){display:none}[hidden]{display:none}`;
class Icon extends _arcgis_lumina__WEBPACK_IMPORTED_MODULE_2__.LitElement {
  constructor() {
    super(...arguments);
    this.visible = false;
    this.flipRtl = false;
    this.icon = null;
    this.preload = false;
    this.scale = "m";
  }
  static {
    this.properties = { pathData: [16, {}, { state: true }], visible: [16, {}, { state: true }], flipRtl: [7, {}, { reflect: true, type: Boolean }], icon: [3, {}, { reflect: true }], preload: [7, {}, { reflect: true, type: Boolean }], scale: [3, {}, { reflect: true }], textLabel: 1 };
  }
  static {
    this.styles = styles;
  }
  connectedCallback() {
    super.connectedCallback();
    if (this.preload) {
      this.visible = true;
      this.loadIconPathData();
      return;
    }
    if (!this.visible) {
      this.waitUntilVisible(() => {
        this.visible = true;
        this.loadIconPathData();
      });
    }
  }
  willUpdate(changes) {
    if (changes.has("icon") && (this.hasUpdated || this.icon !== null) || changes.has("scale") && (this.hasUpdated || this.scale !== "m")) {
      this.loadIconPathData();
    }
  }
  disconnectedCallback() {
    super.disconnectedCallback();
    this.intersectionObserver?.disconnect();
    this.intersectionObserver = null;
  }
  async loadIconPathData() {
    const { icon, scale, visible } = this;
    if (lit__WEBPACK_IMPORTED_MODULE_1__.isServer || !icon || !visible) {
      return;
    }
    const fetchIconProps = { icon, scale };
    const pathData = getCachedIconData(fetchIconProps) || await fetchIcon(fetchIconProps);
    if (icon !== this.icon) {
      return;
    }
    this.pathData = pathData;
  }
  waitUntilVisible(callback) {
    this.intersectionObserver = (0,_chunks_observers_js__WEBPACK_IMPORTED_MODULE_4__.c)("intersection", (entries) => {
      entries.forEach((entry) => {
        if (entry.isIntersecting) {
          this.intersectionObserver.disconnect();
          this.intersectionObserver = null;
          callback();
        }
      });
    }, { rootMargin: "50px" });
    if (!this.intersectionObserver) {
      callback();
      return;
    }
    this.intersectionObserver.observe(this.el);
  }
  render() {
    const { el, flipRtl, pathData, scale, textLabel } = this;
    const dir = (0,_chunks_dom_js__WEBPACK_IMPORTED_MODULE_3__.g)(el);
    const size = scaleToPx[scale];
    const semantic = !!textLabel;
    const paths = [].concat(pathData || "");
    this.el.ariaHidden = (0,_chunks_dom_js__WEBPACK_IMPORTED_MODULE_3__.t)(!semantic);
    this.el.ariaLabel = semantic ? textLabel : null;
    this.el.role = semantic ? "img" : null;
    return (0,lit__WEBPACK_IMPORTED_MODULE_1__.html)`<svg aria-hidden=true class=${(0,_arcgis_lumina__WEBPACK_IMPORTED_MODULE_2__.safeClassMap)({
      [CSS.flipRtl]: dir === "rtl" && flipRtl,
      [CSS.svg]: true
    })} fill=currentColor height=100% viewBox=${`0 0 ${size} ${size}`} width=100% xmlns=http://www.w3.org/2000/svg>${paths.map((path) => typeof path === "string" ? (0,lit__WEBPACK_IMPORTED_MODULE_1__.svg)`<path d=${path ?? lit__WEBPACK_IMPORTED_MODULE_1__.nothing} />` : (0,lit__WEBPACK_IMPORTED_MODULE_1__.svg)`<path d=${path.d ?? lit__WEBPACK_IMPORTED_MODULE_1__.nothing} opacity=${("opacity" in path ? path.opacity : 1) ?? lit__WEBPACK_IMPORTED_MODULE_1__.nothing} />`)}</svg>`;
  }
}
(0,_chunks_runtime_js__WEBPACK_IMPORTED_MODULE_0__.c)("calcite-icon", Icon);



/***/ }),

/***/ "./node_modules/@esri/calcite-components/dist/components/calcite-icon/index.js":
/*!*************************************************************************************!*\
  !*** ./node_modules/@esri/calcite-components/dist/components/calcite-icon/index.js ***!
  \*************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Icon: () => (/* reexport safe */ _customElement_js__WEBPACK_IMPORTED_MODULE_0__.Icon)
/* harmony export */ });
/* harmony import */ var _customElement_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./customElement.js */ "./node_modules/@esri/calcite-components/dist/components/calcite-icon/customElement.js");


/***/ }),

/***/ "./node_modules/@esri/calcite-components/dist/components/calcite-list-item/customElement.js":
/*!**************************************************************************************************!*\
  !*** ./node_modules/@esri/calcite-components/dist/components/calcite-list-item/customElement.js ***!
  \**************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ListItem: () => (/* binding */ ListItem)
/* harmony export */ });
/* harmony import */ var _chunks_runtime_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../chunks/runtime.js */ "./node_modules/@esri/calcite-components/dist/chunks/runtime.js");
/* harmony import */ var lit_directives_keyed_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lit/directives/keyed.js */ "./node_modules/lit/directives/keyed.js");
/* harmony import */ var lit__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lit */ "./node_modules/lit/index.js");
/* harmony import */ var lit_html_directives_ref_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lit-html/directives/ref.js */ "./node_modules/lit-html/development/directives/ref.js");
/* harmony import */ var _arcgis_lumina__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @arcgis/lumina */ "./node_modules/@arcgis/lumina/dist/index.js");
/* harmony import */ var _chunks_dom_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../chunks/dom.js */ "./node_modules/@esri/calcite-components/dist/chunks/dom.js");
/* harmony import */ var _chunks_interactive_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../chunks/interactive.js */ "./node_modules/@esri/calcite-components/dist/chunks/interactive.js");
/* harmony import */ var _chunks_useT9n_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../chunks/useT9n.js */ "./node_modules/@esri/calcite-components/dist/chunks/useT9n.js");
/* harmony import */ var _chunks_component_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../chunks/component.js */ "./node_modules/@esri/calcite-components/dist/chunks/component.js");
/* harmony import */ var _chunks_logger_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../chunks/logger.js */ "./node_modules/@esri/calcite-components/dist/chunks/logger.js");
/* harmony import */ var _chunks_sortable_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../chunks/_sortable.js */ "./node_modules/@esri/calcite-components/dist/chunks/_sortable.js");
/* harmony import */ var _chunks_useSetFocus_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../chunks/useSetFocus.js */ "./node_modules/@esri/calcite-components/dist/chunks/useSetFocus.js");
/* harmony import */ var _chunks_utils2_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../chunks/utils2.js */ "./node_modules/@esri/calcite-components/dist/chunks/utils2.js");
/* harmony import */ var _chunks_resources5_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../chunks/resources5.js */ "./node_modules/@esri/calcite-components/dist/chunks/resources5.js");
/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
v3.3.3 */














const styles = (0,lit__WEBPACK_IMPORTED_MODULE_2__.css)`:host{--calcite-internal-color-focus: var( --calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)) )}:host([disabled]){cursor:default;-webkit-user-select:none;user-select:none;opacity:var(--calcite-opacity-disabled)}:host([disabled]) *,:host([disabled]) ::slotted(*){pointer-events:none}:host{display:flex;flex-direction:column}:host([filter-hidden]),:host([closed]){display:none}.wrapper--bordered{border-block-end:1px solid var(--calcite-list-border-color, var(--calcite-color-border-3))}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}.interaction-container{display:contents}.container{box-sizing:border-box;display:flex;flex:1 1 0%;overflow:hidden;background-color:var(--calcite-list-background-color, var(--calcite-color-foreground-1))}.container *{box-sizing:border-box}.container--hover:hover{cursor:pointer;background-color:var(--calcite-list-background-color-hover, var(--calcite-color-foreground-2))}.container:active{background-color:var(--calcite-list-background-color-press, var(--calcite-color-foreground-3))}.container--border{position:relative}.container--border:before{position:absolute;inline-size:var(--calcite-border-width-lg);inset-block:0;inset-inline-start:0;background-color:transparent;content:""}.container--border-selected:before{background-color:var(--calcite-list-selection-border-color, var(--calcite-color-brand))}.container--border-selected:focus{box-shadow:inset var(--calcite-border-width-lg) 0 0 0 var(--calcite-list-selection-border-color, var(--calcite-color-brand))}.nested-container{display:none;flex-direction:column;border-width:0px;border-style:solid;border-color:1px solid var(--calcite-list-border-color, var(--calcite-color-border-3));margin-inline-start:var(--calcite-list-spacing-indent, 1.5rem)}.nested-container--expanded{display:flex}.selection-container{display:flex;padding-block:0px;color:var(--calcite-list-icon-color, var(--calcite-color-border-input))}:host(:not([disabled]):not([selected])) .container:hover .selection-container--single{color:var(--calcite-list-icon-color, var(--calcite-color-border-input))}:host([selected]:hover) .selection-container,:host([selected]:hover) .selection-container--single,:host([selected]) .selection-container{color:var(--calcite-list-icon-color, var(--calcite-color-brand))}.content-container-wrapper{display:flex;flex:1 1 auto}.content-container-wrapper--bordered{border-block-end:1px solid var(--calcite-list-border-color, var(--calcite-color-border-3))}.content-container{display:flex;flex:1 1 auto;-webkit-user-select:none;user-select:none;align-items:stretch;font-weight:var(--calcite-font-weight-normal);color:var(--calcite-list-content-text-color, var(--calcite-color-text-2))}.content-container--unavailable{opacity:var(--calcite-opacity-disabled)}.row,.grid-cell{outline-color:transparent}.row{position:relative}.row:focus,.grid-cell:focus{outline:var(--calcite-border-width-md) solid var(--calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)));outline:var(--calcite-border-width-md) solid var(--calcite-internal-color-focus);outline-offset:calc(calc(-1 * var(--calcite-spacing-base)) * calc(1 - (2*clamp(0,var(--calcite-offset-invert-focus),1))))}.content,.custom-content{display:flex;flex:1 1 auto;flex-direction:column;justify-content:center;line-height:var(--calcite-font-line-height-relative-snug)}.label{color:var(--calcite-list-label-text-color, var(--calcite-color-text-1))}.description{color:var(--calcite-list-description-text-color, var(--calcite-color-text-3))}.icon{align-self:center;color:var(--calcite-list-icon-color, var(--calcite-color-text-3))}.icon:hover,.icon:active{color:var(--calcite-color-text-1)}:host([display-mode=flat][drag-handle]:is([selection-mode=none],[selection-appearance=border])) .drag-container{padding-inline-end:var(--calcite-spacing-xxs)}:host([scale=s]) .actions-start{padding-inline-end:var(--calcite-spacing-sm)}:host([scale=s]) .content-container{gap:var(--calcite-spacing-sm);min-block-size:32px;padding-block:var(--calcite-spacing-xxs);padding-inline-end:var(--calcite-spacing-sm)}:host([scale=s]) .content,:host([scale=s]) .custom-content,:host([scale=s]) .label{font-size:var(--calcite-font-size--2)}:host([scale=s]) .description{font-size:var(--calcite-font-size--3)}:host([scale=s][display-mode=flat]:not([drag-handle])) .container{padding-inline-start:var(--calcite-spacing-sm)}:host([scale=s][display-mode=flat]:not([drag-handle])) .selection-container{padding-inline-end:var(--calcite-spacing-sm)}:host([scale=s][display-mode=flat][drag-handle]) .selection-container{padding-inline:var(--calcite-spacing-xxs) var(--calcite-spacing-sm)}:host([scale=s][display-mode=nested]) .selection-container{padding-inline-end:var(--calcite-spacing-xxs)}:host([scale=s][display-mode=nested][selection-appearance=icon]:not([selection-mode=none]):not([drag-handle])) .container{padding-inline-start:var(--calcite-spacing-sm)}:host([scale=s][display-mode=nested][selection-appearance=icon]:not([selection-mode=none]):not([drag-handle])) .selection-container{padding-inline-end:var(--calcite-spacing-xxs)}:host([scale=s][display-mode=nested][drag-handle]) .selection-container{padding-inline:var(--calcite-spacing-xxs)}:host([scale=m]) .actions-start{padding-inline-end:var(--calcite-spacing-sm)}:host([scale=m]) .content-container{gap:var(--calcite-spacing-sm);min-block-size:40px;padding-block:var(--calcite-spacing-sm);padding-inline-end:var(--calcite-spacing-md)}:host([scale=m]) .content,:host([scale=m]) .custom-content{font-size:var(--calcite-font-size--2)}:host([scale=m]) .label{font-size:var(--calcite-font-size--1)}:host([scale=m]) .description{font-size:var(--calcite-font-size--2)}:host([scale=m][display-mode=flat]) .container{padding-inline-start:var(--calcite-spacing-md)}:host([scale=m][display-mode=flat]) .selection-container{padding-inline-end:var(--calcite-spacing-sm)}:host([scale=m][display-mode=flat][drag-handle]) .container{padding-inline-start:0}:host([scale=m][display-mode=flat][drag-handle]) .selection-container{padding-inline:var(--calcite-spacing-xxs) var(--calcite-spacing-sm)}:host([scale=m][display-mode=nested]) .container{padding-inline-start:var(--calcite-spacing-xxs)}:host([scale=m][display-mode=nested]) .selection-container{padding-inline-end:var(--calcite-spacing-xxs)}:host([scale=m][display-mode=nested][selection-appearance=icon]:not([selection-mode=none]):not([drag-handle])) .container{padding-inline-start:var(--calcite-spacing-md)}:host([scale=m][display-mode=nested][drag-handle]) .container{padding-inline-start:0}:host([scale=m][display-mode=nested][drag-handle]) .selection-container{padding-inline:var(--calcite-spacing-xxs)}:host([scale=l]) .actions-start{padding-inline-end:var(--calcite-spacing-md)}:host([scale=l]) .content-container{gap:var(--calcite-spacing-md);min-block-size:56px;padding-block:.625rem;padding-inline-end:var(--calcite-spacing-lg)}:host([scale=l]) .content,:host([scale=l]) .custom-content,:host([scale=l]) .label{font-size:var(--calcite-font-size-0)}:host([scale=l]) .description{font-size:var(--calcite-font-size--1)}:host([scale=l]) .nested-container{margin-inline-start:1.75rem}:host([scale=l][display-mode=flat]) .container{padding-inline-start:var(--calcite-spacing-lg)}:host([scale=l][display-mode=flat]) .selection-container{padding-inline-end:var(--calcite-spacing-md)}:host([scale=l][display-mode=flat][drag-handle]) .container{padding-inline-start:0}:host([scale=l][display-mode=flat][drag-handle]) .selection-container{padding-inline-end:var(--calcite-spacing-md)}:host([scale=l][display-mode=nested]) .container{padding-inline-start:var(--calcite-spacing-xxs)}:host([scale=l][display-mode=nested][drag-handle]) .container{padding-inline-start:0}:host([scale=l][display-mode=nested][selection-appearance=icon]:not([selection-mode=none]):not([drag-handle])) .container{padding-inline-start:var(--calcite-spacing-lg)}.label,.description,.content-bottom{font-family:var(--calcite-font-family);font-weight:var(--calcite-font-weight-normal);word-wrap:break-word;word-break:break-word}:host([selected]) .label{font-weight:var(--calcite-font-weight-medium)}:host([selected]) .icon{color:var(--calcite-list-icon-color, var(--calcite-color-text-1))}:host([selected]) .description{color:var(--calcite-list-description-text-color, var(--calcite-color-text-2))}.content-start{justify-content:flex-start}.content-end{justify-content:flex-end}.content-start,.content-end{flex:1 1 auto}.content-start ::slotted(calcite-icon),.content-end ::slotted(calcite-icon){align-self:center}.content-bottom{display:flex;flex-direction:column}.content-container--has-center-content .content-start,.content-container--has-center-content .content-end{flex:0 1 auto}.expanded-container{color:var(--calcite-list-icon-color, var(--calcite-color-text-3));padding-inline:var(--calcite-spacing-xxs)}:host(:not([disabled])) .expanded-container:hover{color:var(--calcite-list-icon-color, var(--calcite-color-text-1))}.actions-start,.actions-end,.content-start,.content-end,.selection-container,.drag-container,.expanded-container{display:flex;align-items:center}.actions-start calcite-action,.actions-start calcite-sort-handle,.actions-end calcite-action,.actions-end calcite-sort-handle,.content-start calcite-action,.content-start calcite-sort-handle,.content-end calcite-action,.content-end calcite-sort-handle,.selection-container calcite-action,.selection-container calcite-sort-handle,.drag-container calcite-action,.drag-container calcite-sort-handle,.expanded-container calcite-action,.expanded-container calcite-sort-handle{align-self:stretch}.drag-container,.selection-container,.expanded-container{padding-block-end:var(--calcite-spacing-px)}.expanded-container,.selection-container{cursor:pointer}.actions-start,.actions-end{position:relative;padding:0}.actions-start ::slotted(calcite-action),.actions-start ::slotted(calcite-action-menu),.actions-start ::slotted(calcite-sort-handle),.actions-start ::slotted(calcite-dropdown),.actions-end ::slotted(calcite-action),.actions-end ::slotted(calcite-action-menu),.actions-end ::slotted(calcite-sort-handle),.actions-end ::slotted(calcite-dropdown){align-self:stretch;color:inherit}.row:focus .actions-start,.row:focus .actions-end{inset-block:.125rem}.row:focus .actions-start .close,.row:focus .actions-start ::slotted(calcite-action),.row:focus .actions-start ::slotted(calcite-action-menu),.row:focus .actions-start ::slotted(calcite-sort-handle),.row:focus .actions-start ::slotted(calcite-dropdown),.row:focus .actions-end .close,.row:focus .actions-end ::slotted(calcite-action),.row:focus .actions-end ::slotted(calcite-action-menu),.row:focus .actions-end ::slotted(calcite-sort-handle),.row:focus .actions-end ::slotted(calcite-dropdown){block-size:calc(100% - .25rem)}.row:focus:after,.row:focus:before{position:absolute;content:"";inline-size:.125rem;z-index:var(--calcite-z-index-header);background-color:var(--calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)));inset-block:0}.row:focus:before{inset-inline-start:0}.row:focus:after{inset-inline-end:0}.container--border:focus:before{display:none}::slotted(calcite-list:empty){border-block-start-width:0px}:host([hidden]){display:none}[hidden]{display:none}`;
const focusMap = /* @__PURE__ */ new Map();
class ListItem extends _arcgis_lumina__WEBPACK_IMPORTED_MODULE_4__.LitElement {
  constructor() {
    super();
    this.actionsEndRef = (0,lit_html_directives_ref_js__WEBPACK_IMPORTED_MODULE_3__.createRef)();
    this.actionsStartRef = (0,lit_html_directives_ref_js__WEBPACK_IMPORTED_MODULE_3__.createRef)();
    this.containerRef = (0,lit_html_directives_ref_js__WEBPACK_IMPORTED_MODULE_3__.createRef)();
    this.contentRef = (0,lit_html_directives_ref_js__WEBPACK_IMPORTED_MODULE_3__.createRef)();
    this.defaultSlotRef = (0,lit_html_directives_ref_js__WEBPACK_IMPORTED_MODULE_3__.createRef)();
    this.handleGridRef = (0,lit_html_directives_ref_js__WEBPACK_IMPORTED_MODULE_3__.createRef)();
    this.messages = (0,_chunks_useT9n_js__WEBPACK_IMPORTED_MODULE_7__.u)();
    this.focusSetter = (0,_chunks_useSetFocus_js__WEBPACK_IMPORTED_MODULE_11__.u)()(this);
    this.hasActionsEnd = false;
    this.hasActionsStart = false;
    this.hasContentBottom = false;
    this.hasContentEnd = false;
    this.hasContentStart = false;
    this.hasCustomContent = false;
    this.level = null;
    this.expandable = false;
    this.active = false;
    this.bordered = false;
    this.sortDisabled = false;
    this.closable = false;
    this.closed = false;
    this.disabled = false;
    this.dragDisabled = false;
    this.dragHandle = false;
    this.expanded = false;
    this.filterHidden = false;
    this.interactionMode = null;
    this.displayMode = "flat";
    this.addToItems = [];
    this.moveToItems = [];
    this.scale = "m";
    this.selected = false;
    this.selectionAppearance = null;
    this.selectionMode = null;
    this.sortHandleOpen = false;
    this.unavailable = false;
    this.calciteInternalFocusPreviousItem = (0,_arcgis_lumina__WEBPACK_IMPORTED_MODULE_4__.createEvent)({ cancelable: false });
    this.calciteInternalListItemActive = (0,_arcgis_lumina__WEBPACK_IMPORTED_MODULE_4__.createEvent)({ cancelable: false });
    this.calciteInternalListItemChange = (0,_arcgis_lumina__WEBPACK_IMPORTED_MODULE_4__.createEvent)({ cancelable: false });
    this.calciteInternalListItemSelect = (0,_arcgis_lumina__WEBPACK_IMPORTED_MODULE_4__.createEvent)({ cancelable: false });
    this.calciteInternalListItemSelectMultiple = (0,_arcgis_lumina__WEBPACK_IMPORTED_MODULE_4__.createEvent)({ cancelable: false });
    this.calciteInternalListItemToggle = (0,_arcgis_lumina__WEBPACK_IMPORTED_MODULE_4__.createEvent)({ cancelable: false });
    this.calciteListItemClose = (0,_arcgis_lumina__WEBPACK_IMPORTED_MODULE_4__.createEvent)({ cancelable: false });
    this.calciteListItemCollapse = (0,_arcgis_lumina__WEBPACK_IMPORTED_MODULE_4__.createEvent)({ cancelable: false });
    this.calciteListItemExpand = (0,_arcgis_lumina__WEBPACK_IMPORTED_MODULE_4__.createEvent)({ cancelable: false });
    this.calciteListItemSelect = (0,_arcgis_lumina__WEBPACK_IMPORTED_MODULE_4__.createEvent)({ cancelable: false });
    this.calciteListItemSortHandleBeforeClose = (0,_arcgis_lumina__WEBPACK_IMPORTED_MODULE_4__.createEvent)({ cancelable: false });
    this.calciteListItemSortHandleBeforeOpen = (0,_arcgis_lumina__WEBPACK_IMPORTED_MODULE_4__.createEvent)({ cancelable: false });
    this.calciteListItemSortHandleClose = (0,_arcgis_lumina__WEBPACK_IMPORTED_MODULE_4__.createEvent)({ cancelable: false });
    this.calciteListItemSortHandleOpen = (0,_arcgis_lumina__WEBPACK_IMPORTED_MODULE_4__.createEvent)({ cancelable: false });
    this.calciteListItemToggle = (0,_arcgis_lumina__WEBPACK_IMPORTED_MODULE_4__.createEvent)({ cancelable: false });
    this.listen("calciteInternalListItemGroupDefaultSlotChange", this.handleCalciteInternalListDefaultSlotChanges);
    this.listen("calciteInternalListDefaultSlotChange", this.handleCalciteInternalListDefaultSlotChanges);
  }
  static {
    this.properties = { hasActionsEnd: [16, {}, { state: true }], hasActionsStart: [16, {}, { state: true }], hasContentBottom: [16, {}, { state: true }], hasContentEnd: [16, {}, { state: true }], hasContentStart: [16, {}, { state: true }], hasCustomContent: [16, {}, { state: true }], level: [16, {}, { state: true }], expandable: [16, {}, { state: true }], parentListEl: [16, {}, { state: true }], active: [5, {}, { type: Boolean }], bordered: [5, {}, { type: Boolean }], sortDisabled: [5, {}, { type: Boolean }], closable: [7, {}, { reflect: true, type: Boolean }], closed: [7, {}, { reflect: true, type: Boolean }], description: 1, disabled: [7, {}, { reflect: true, type: Boolean }], dragDisabled: [7, {}, { reflect: true, type: Boolean }], dragHandle: [7, {}, { reflect: true, type: Boolean }], expanded: [7, {}, { reflect: true, type: Boolean }], filterHidden: [7, {}, { reflect: true, type: Boolean }], interactionMode: 1, label: 1, messageOverrides: [0, {}, { attribute: false }], metadata: [0, {}, { attribute: false }], displayMode: [3, {}, { reflect: true }], addToItems: [0, {}, { attribute: false }], moveToItems: [0, {}, { attribute: false }], open: [7, {}, { reflect: true, type: Boolean }], scale: [3, {}, { reflect: true }], selected: [7, {}, { reflect: true, type: Boolean }], selectionAppearance: [3, {}, { reflect: true }], selectionMode: [3, {}, { reflect: true }], setPosition: [9, {}, { type: Number }], setSize: [9, {}, { type: Number }], sortHandleOpen: [7, {}, { reflect: true, type: Boolean }], unavailable: [7, {}, { reflect: true, type: Boolean }], value: 1, iconStart: [3, {}, { reflect: true }], iconEnd: [3, {}, { reflect: true }], iconFlipRtl: [3, {}, { reflect: true }] };
  }
  static {
    this.styles = [styles, _chunks_sortable_js__WEBPACK_IMPORTED_MODULE_10__.s];
  }
  get open() {
    return this.expanded;
  }
  set open(value) {
    _chunks_logger_js__WEBPACK_IMPORTED_MODULE_9__.l.deprecated("property", {
      name: "open",
      removalVersion: 4,
      suggested: "expanded"
    });
    this.expanded = value;
  }
  async setFocus(options) {
    return this.focusSetter(() => {
      const { containerRef, parentListEl } = this;
      const focusIndex = focusMap.get(parentListEl);
      if (typeof focusIndex === "number") {
        const cell = this.getGridCells()[focusIndex];
        if (cell) {
          this.focusCell(cell);
          return;
        }
      }
      return { target: containerRef.value, includeContainer: true, strategy: "focusable" };
    }, options);
  }
  connectedCallback() {
    super.connectedCallback();
    const { el } = this;
    this.parentListEl = el.closest(_chunks_utils2_js__WEBPACK_IMPORTED_MODULE_12__.l);
    this.level = (0,_chunks_utils2_js__WEBPACK_IMPORTED_MODULE_12__.g)(el) + 1;
    this.setSelectionDefaults();
  }
  disconnectedCallback() {
    super.disconnectedCallback();
    focusMap.clear();
  }
  willUpdate(changes) {
    if (changes.has("active") && (this.hasUpdated || this.active !== false)) {
      this.activeHandler(this.active);
    }
    if (changes.has("closed") && (this.hasUpdated || this.closed !== false)) {
      this.handleClosedChange();
    }
    if (changes.has("disabled") && (this.hasUpdated || this.disabled !== false)) {
      this.handleDisabledChange();
    }
    if (changes.has("selected") && (this.hasUpdated || this.selected !== false)) {
      this.handleSelectedChange();
    }
    if (changes.has("sortHandleOpen") && (this.hasUpdated || this.sortHandleOpen !== false)) {
      this.sortHandleOpenHandler();
    }
    if (changes.has("displayMode") && this.hasUpdated) {
      this.handleExpandableChange(this.defaultSlotRef.value);
    }
    if (changes.has("expanded") && this.hasUpdated) {
      if (this.expanded) {
        this.handleExpandedChange();
        this.calciteListItemExpand.emit();
      } else {
        this.calciteListItemCollapse.emit();
      }
    }
  }
  updated() {
    (0,_chunks_interactive_js__WEBPACK_IMPORTED_MODULE_6__.u)(this);
  }
  activeHandler(active) {
    if (!active) {
      this.focusCell(null, false);
    }
  }
  handleClosedChange() {
    this.emitCalciteInternalListItemChange();
  }
  handleDisabledChange() {
    this.emitCalciteInternalListItemChange();
  }
  handleExpandedChange() {
    this.emitCalciteInternalListItemToggle();
  }
  handleSelectedChange() {
    this.calciteInternalListItemSelect.emit();
  }
  sortHandleOpenHandler() {
    if (!this.sortHandleEl) {
      return;
    }
    this.sortHandleEl.open = this.sortHandleOpen;
  }
  handleCalciteInternalListDefaultSlotChanges(event) {
    event.stopPropagation();
    this.handleExpandableChange(this.defaultSlotRef.value);
  }
  setSortHandleEl(el) {
    this.sortHandleEl = el;
    this.sortHandleOpenHandler();
  }
  handleSortHandleBeforeOpen(event) {
    event.stopPropagation();
    this.calciteListItemSortHandleBeforeOpen.emit();
  }
  handleSortHandleBeforeClose(event) {
    event.stopPropagation();
    this.calciteListItemSortHandleBeforeClose.emit();
  }
  handleSortHandleClose(event) {
    event.stopPropagation();
    this.sortHandleOpen = false;
    this.calciteListItemSortHandleClose.emit();
  }
  handleSortHandleOpen(event) {
    event.stopPropagation();
    this.sortHandleOpen = true;
    this.calciteListItemSortHandleOpen.emit();
  }
  emitInternalListItemActive() {
    this.calciteInternalListItemActive.emit();
  }
  emitCalciteInternalListItemToggle() {
    this.calciteInternalListItemToggle.emit();
  }
  emitCalciteInternalListItemChange() {
    this.calciteInternalListItemChange.emit();
  }
  handleCloseClick() {
    this.closed = true;
    this.calciteListItemClose.emit();
  }
  handleContentSlotChange(event) {
    this.hasCustomContent = (0,_chunks_dom_js__WEBPACK_IMPORTED_MODULE_5__.a)(event);
  }
  handleActionsStartSlotChange(event) {
    this.hasActionsStart = (0,_chunks_dom_js__WEBPACK_IMPORTED_MODULE_5__.a)(event);
  }
  handleActionsEndSlotChange(event) {
    this.hasActionsEnd = (0,_chunks_dom_js__WEBPACK_IMPORTED_MODULE_5__.a)(event);
  }
  handleContentStartSlotChange(event) {
    this.hasContentStart = (0,_chunks_dom_js__WEBPACK_IMPORTED_MODULE_5__.a)(event);
  }
  handleContentEndSlotChange(event) {
    this.hasContentEnd = (0,_chunks_dom_js__WEBPACK_IMPORTED_MODULE_5__.a)(event);
  }
  handleContentBottomSlotChange(event) {
    this.hasContentBottom = (0,_chunks_dom_js__WEBPACK_IMPORTED_MODULE_5__.a)(event);
  }
  setSelectionDefaults() {
    const { parentListEl, selectionMode, selectionAppearance } = this;
    if (!parentListEl) {
      return;
    }
    if (!selectionMode) {
      this.selectionMode = parentListEl.selectionMode;
    }
    if (!selectionAppearance) {
      this.selectionAppearance = parentListEl.selectionAppearance;
    }
  }
  handleExpandableChange(slotEl) {
    if (!slotEl) {
      return;
    }
    const children = (0,_chunks_utils2_js__WEBPACK_IMPORTED_MODULE_12__.a)(slotEl);
    children.lists.forEach((list) => {
      list.displayMode = this.displayMode;
    });
    this.expandable = this.displayMode === "nested" && (children.lists.length > 0 || children.items.length > 0);
  }
  handleDefaultSlotChange(event) {
    this.handleExpandableChange(event.target);
  }
  handleToggleClick() {
    this.toggle();
  }
  toggle(value = !this.expanded) {
    this.expanded = value;
    this.calciteListItemToggle.emit();
  }
  handleItemClick(event) {
    if (event.defaultPrevented) {
      return;
    }
    this.toggleSelected(event.shiftKey);
  }
  async toggleSelected(shiftKey) {
    const { selectionMode, selected } = this;
    if (this.disabled) {
      return;
    }
    if (selectionMode === "multiple" || selectionMode === "single") {
      this.selected = !selected;
    } else if (selectionMode === "single-persist") {
      this.selected = true;
    }
    this.calciteInternalListItemSelectMultiple.emit({
      selectMultiple: shiftKey && selectionMode === "multiple"
    });
    await this.updateComplete;
    this.calciteListItemSelect.emit();
  }
  getGridCells() {
    return [
      this.handleGridRef.value,
      this.actionsStartRef.value,
      this.contentRef.value,
      this.actionsEndRef.value
    ].filter((el) => el && !el.hidden);
  }
  handleItemKeyDown(event) {
    if (event.defaultPrevented) {
      return;
    }
    const { key } = event;
    const composedPath = event.composedPath();
    const { containerRef, actionsStartRef: { value: actionsStartEl }, actionsEndRef: { value: actionsEndEl }, expanded, expandable } = this;
    const cells = this.getGridCells();
    const currentIndex = cells.findIndex((cell) => composedPath.includes(cell));
    if (key === "Enter" && !composedPath.includes(actionsStartEl) && !composedPath.includes(actionsEndEl)) {
      event.preventDefault();
      this.toggleSelected(event.shiftKey);
    } else if (key === "ArrowRight") {
      event.preventDefault();
      const nextIndex = currentIndex + 1;
      if (currentIndex === -1) {
        if (!expanded && expandable) {
          this.toggle(true);
          this.focusCell(null);
        } else if (cells[0]) {
          this.focusCell(cells[0]);
        }
      } else if (cells[currentIndex] && cells[nextIndex]) {
        this.focusCell(cells[nextIndex]);
      }
    } else if (key === "ArrowLeft") {
      event.preventDefault();
      const prevIndex = currentIndex - 1;
      if (currentIndex === -1) {
        this.focusCell(null);
        if (expanded && expandable) {
          this.toggle(false);
        } else {
          this.calciteInternalFocusPreviousItem.emit();
        }
      } else if (currentIndex === 0) {
        this.focusCell(null);
        containerRef.value.focus();
      } else if (cells[currentIndex] && cells[prevIndex]) {
        this.focusCell(cells[prevIndex]);
      }
    }
  }
  focusCellNull() {
    this.focusCell(null);
  }
  setFocusCell(focusEl, focusedEl, saveFocusIndex) {
    const { parentListEl } = this;
    if (saveFocusIndex) {
      focusMap.set(parentListEl, null);
    }
    const gridCells = this.getGridCells();
    gridCells.forEach((tableCell) => {
      tableCell.removeAttribute("tabindex");
      tableCell.removeAttribute(_chunks_resources5_js__WEBPACK_IMPORTED_MODULE_13__.a);
    });
    if (!focusEl) {
      return;
    }
    if (focusEl === focusedEl) {
      focusEl.tabIndex = 0;
    } else {
      focusEl.removeAttribute("tabindex");
    }
    focusEl.setAttribute(_chunks_resources5_js__WEBPACK_IMPORTED_MODULE_13__.a, "");
    if (saveFocusIndex) {
      focusMap.set(parentListEl, gridCells.indexOf(focusEl));
    }
  }
  focusCell(focusEl, saveFocusIndex = true) {
    const focusedEl = (0,_chunks_dom_js__WEBPACK_IMPORTED_MODULE_5__.x)(focusEl);
    this.setFocusCell(focusEl, focusedEl, saveFocusIndex);
    focusedEl?.focus();
  }
  renderSelected() {
    const { selected, selectionMode, selectionAppearance } = this;
    if (selectionMode === "none" || selectionAppearance === "border") {
      return null;
    }
    return (0,lit_directives_keyed_js__WEBPACK_IMPORTED_MODULE_1__.keyed)("selection-container", (0,lit__WEBPACK_IMPORTED_MODULE_2__.html)`<div class=${(0,_arcgis_lumina__WEBPACK_IMPORTED_MODULE_4__.safeClassMap)({
      [_chunks_resources5_js__WEBPACK_IMPORTED_MODULE_13__.C.selectionContainer]: true,
      [_chunks_resources5_js__WEBPACK_IMPORTED_MODULE_13__.C.selectionContainerSingle]: selectionMode === "single" || selectionMode === "single-persist"
    })} @click=${this.handleItemClick}><calcite-icon .icon=${selected ? selectionMode === "multiple" ? _chunks_resources5_js__WEBPACK_IMPORTED_MODULE_13__.I.selectedMultiple : _chunks_resources5_js__WEBPACK_IMPORTED_MODULE_13__.I.selectedSingle : selectionMode === "multiple" ? _chunks_resources5_js__WEBPACK_IMPORTED_MODULE_13__.I.unselectedMultiple : _chunks_resources5_js__WEBPACK_IMPORTED_MODULE_13__.I.unselectedSingle} .scale=${(0,_chunks_component_js__WEBPACK_IMPORTED_MODULE_8__.g)(this.scale)}></calcite-icon></div>`);
  }
  renderDragHandle() {
    const { label, dragHandle, dragDisabled, setPosition, setSize, moveToItems, sortDisabled, addToItems } = this;
    return dragHandle ? (0,lit_directives_keyed_js__WEBPACK_IMPORTED_MODULE_1__.keyed)("drag-handle-container", (0,lit__WEBPACK_IMPORTED_MODULE_2__.html)`<div .ariaLabel=${label} class=${(0,_arcgis_lumina__WEBPACK_IMPORTED_MODULE_4__.safeClassMap)({ [_chunks_resources5_js__WEBPACK_IMPORTED_MODULE_13__.C.dragContainer]: true, [_chunks_resources5_js__WEBPACK_IMPORTED_MODULE_13__.C.gridCell]: true })} role=gridcell ${(0,lit_html_directives_ref_js__WEBPACK_IMPORTED_MODULE_3__.ref)(this.handleGridRef)}><calcite-sort-handle .addToItems=${addToItems} .disabled=${dragDisabled} .label=${label} .moveToItems=${moveToItems} @calciteSortHandleBeforeClose=${this.handleSortHandleBeforeClose} @calciteSortHandleBeforeOpen=${this.handleSortHandleBeforeOpen} @calciteSortHandleClose=${this.handleSortHandleClose} @calciteSortHandleOpen=${this.handleSortHandleOpen} overlay-positioning=fixed .scale=${this.scale} .setPosition=${setPosition} .setSize=${setSize} .sortDisabled=${sortDisabled} ${(0,lit_html_directives_ref_js__WEBPACK_IMPORTED_MODULE_3__.ref)(this.setSortHandleEl)}></calcite-sort-handle></div>`) : null;
  }
  renderExpanded() {
    const { el, expanded, expandable, messages, displayMode, scale } = this;
    if (displayMode !== "nested") {
      return null;
    }
    const dir = (0,_chunks_dom_js__WEBPACK_IMPORTED_MODULE_5__.g)(el);
    const icon = expandable ? expanded ? _chunks_resources5_js__WEBPACK_IMPORTED_MODULE_13__.I.open : dir === "rtl" ? _chunks_resources5_js__WEBPACK_IMPORTED_MODULE_13__.I.collapsedRTL : _chunks_resources5_js__WEBPACK_IMPORTED_MODULE_13__.I.collapsedLTR : _chunks_resources5_js__WEBPACK_IMPORTED_MODULE_13__.I.blank;
    const iconScale = (0,_chunks_component_js__WEBPACK_IMPORTED_MODULE_8__.g)(scale);
    const tooltip = expandable ? expanded ? messages.collapse : messages.expand : void 0;
    const expandedClickHandler = expandable ? this.handleToggleClick : void 0;
    return (0,lit_directives_keyed_js__WEBPACK_IMPORTED_MODULE_1__.keyed)("expanded-container", (0,lit__WEBPACK_IMPORTED_MODULE_2__.html)`<div class=${(0,_arcgis_lumina__WEBPACK_IMPORTED_MODULE_4__.safeClassMap)(_chunks_resources5_js__WEBPACK_IMPORTED_MODULE_13__.C.expandedContainer)} @click=${expandedClickHandler} title=${tooltip ?? lit__WEBPACK_IMPORTED_MODULE_2__.nothing}>${(0,lit_directives_keyed_js__WEBPACK_IMPORTED_MODULE_1__.keyed)(icon, (0,lit__WEBPACK_IMPORTED_MODULE_2__.html)`<calcite-icon .icon=${icon} .scale=${iconScale}></calcite-icon>`)}</div>`);
  }
  renderActionsStart() {
    const { label, hasActionsStart } = this;
    return (0,lit_directives_keyed_js__WEBPACK_IMPORTED_MODULE_1__.keyed)("actions-start-container", (0,lit__WEBPACK_IMPORTED_MODULE_2__.html)`<div .ariaLabel=${label} class=${(0,_arcgis_lumina__WEBPACK_IMPORTED_MODULE_4__.safeClassMap)({ [_chunks_resources5_js__WEBPACK_IMPORTED_MODULE_13__.C.actionsStart]: true, [_chunks_resources5_js__WEBPACK_IMPORTED_MODULE_13__.C.gridCell]: true })} .hidden=${!hasActionsStart} role=gridcell ${(0,lit_html_directives_ref_js__WEBPACK_IMPORTED_MODULE_3__.ref)(this.actionsStartRef)}><slot name=${_chunks_resources5_js__WEBPACK_IMPORTED_MODULE_13__.S.actionsStart} @slotchange=${this.handleActionsStartSlotChange}></slot></div>`);
  }
  renderActionsEnd() {
    const { label, hasActionsEnd, closable, messages } = this;
    return (0,lit_directives_keyed_js__WEBPACK_IMPORTED_MODULE_1__.keyed)("actions-end-container", (0,lit__WEBPACK_IMPORTED_MODULE_2__.html)`<div .ariaLabel=${label} class=${(0,_arcgis_lumina__WEBPACK_IMPORTED_MODULE_4__.safeClassMap)({ [_chunks_resources5_js__WEBPACK_IMPORTED_MODULE_13__.C.actionsEnd]: true, [_chunks_resources5_js__WEBPACK_IMPORTED_MODULE_13__.C.gridCell]: true })} .hidden=${!(hasActionsEnd || closable)} role=gridcell ${(0,lit_html_directives_ref_js__WEBPACK_IMPORTED_MODULE_3__.ref)(this.actionsEndRef)}><slot name=${_chunks_resources5_js__WEBPACK_IMPORTED_MODULE_13__.S.actionsEnd} @slotchange=${this.handleActionsEndSlotChange}></slot>${closable ? (0,lit_directives_keyed_js__WEBPACK_IMPORTED_MODULE_1__.keyed)("close-action", (0,lit__WEBPACK_IMPORTED_MODULE_2__.html)`<calcite-action appearance=transparent class=${(0,_arcgis_lumina__WEBPACK_IMPORTED_MODULE_4__.safeClassMap)(_chunks_resources5_js__WEBPACK_IMPORTED_MODULE_13__.C.close)} .icon=${_chunks_resources5_js__WEBPACK_IMPORTED_MODULE_13__.I.close} .label=${messages.close} @click=${this.handleCloseClick} .scale=${this.scale} .text=${messages.close}></calcite-action>`) : null}</div>`);
  }
  renderContentStart() {
    const { hasContentStart } = this;
    return (0,lit__WEBPACK_IMPORTED_MODULE_2__.html)`<div class=${(0,_arcgis_lumina__WEBPACK_IMPORTED_MODULE_4__.safeClassMap)(_chunks_resources5_js__WEBPACK_IMPORTED_MODULE_13__.C.contentStart)} .hidden=${!hasContentStart}><slot name=${_chunks_resources5_js__WEBPACK_IMPORTED_MODULE_13__.S.contentStart} @slotchange=${this.handleContentStartSlotChange}></slot></div>`;
  }
  renderCustomContent() {
    const { hasCustomContent } = this;
    return (0,lit__WEBPACK_IMPORTED_MODULE_2__.html)`<div class=${(0,_arcgis_lumina__WEBPACK_IMPORTED_MODULE_4__.safeClassMap)(_chunks_resources5_js__WEBPACK_IMPORTED_MODULE_13__.C.customContent)} .hidden=${!hasCustomContent}><slot name=${_chunks_resources5_js__WEBPACK_IMPORTED_MODULE_13__.S.content} @slotchange=${this.handleContentSlotChange}></slot></div>`;
  }
  renderIconStart() {
    const { iconStart, iconFlipRtl, scale } = this;
    return iconStart ? (0,lit_directives_keyed_js__WEBPACK_IMPORTED_MODULE_1__.keyed)("icon-start", (0,lit__WEBPACK_IMPORTED_MODULE_2__.html)`<calcite-icon class=${(0,_arcgis_lumina__WEBPACK_IMPORTED_MODULE_4__.safeClassMap)(_chunks_resources5_js__WEBPACK_IMPORTED_MODULE_13__.C.icon)} .flipRtl=${iconFlipRtl === "both" || iconFlipRtl === "start"} .icon=${iconStart} .scale=${(0,_chunks_component_js__WEBPACK_IMPORTED_MODULE_8__.g)(scale)}></calcite-icon>`) : null;
  }
  renderIconEnd() {
    const { iconEnd, iconFlipRtl, scale } = this;
    return iconEnd ? (0,lit_directives_keyed_js__WEBPACK_IMPORTED_MODULE_1__.keyed)("icon-end", (0,lit__WEBPACK_IMPORTED_MODULE_2__.html)`<calcite-icon class=${(0,_arcgis_lumina__WEBPACK_IMPORTED_MODULE_4__.safeClassMap)(_chunks_resources5_js__WEBPACK_IMPORTED_MODULE_13__.C.icon)} .flipRtl=${iconFlipRtl === "both" || iconFlipRtl === "end"} .icon=${iconEnd} .scale=${(0,_chunks_component_js__WEBPACK_IMPORTED_MODULE_8__.g)(scale)}></calcite-icon>`) : null;
  }
  renderContentEnd() {
    const { hasContentEnd } = this;
    return (0,lit__WEBPACK_IMPORTED_MODULE_2__.html)`<div class=${(0,_arcgis_lumina__WEBPACK_IMPORTED_MODULE_4__.safeClassMap)(_chunks_resources5_js__WEBPACK_IMPORTED_MODULE_13__.C.contentEnd)} .hidden=${!hasContentEnd}><slot name=${_chunks_resources5_js__WEBPACK_IMPORTED_MODULE_13__.S.contentEnd} @slotchange=${this.handleContentEndSlotChange}></slot></div>`;
  }
  renderContentBottom() {
    const { hasContentBottom } = this;
    return (0,lit__WEBPACK_IMPORTED_MODULE_2__.html)`<div class=${(0,_arcgis_lumina__WEBPACK_IMPORTED_MODULE_4__.safeClassMap)(_chunks_resources5_js__WEBPACK_IMPORTED_MODULE_13__.C.contentBottom)} .hidden=${!hasContentBottom}><slot name=${_chunks_resources5_js__WEBPACK_IMPORTED_MODULE_13__.S.contentBottom} @slotchange=${this.handleContentBottomSlotChange}></slot></div>`;
  }
  renderDefaultContainer() {
    return (0,lit__WEBPACK_IMPORTED_MODULE_2__.html)`<div class=${(0,_arcgis_lumina__WEBPACK_IMPORTED_MODULE_4__.safeClassMap)({
      [_chunks_resources5_js__WEBPACK_IMPORTED_MODULE_13__.C.nestedContainer]: true,
      [_chunks_resources5_js__WEBPACK_IMPORTED_MODULE_13__.C.nestedContainerExpanded]: this.expandable && this.expanded
    })}><slot @slotchange=${this.handleDefaultSlotChange} ${(0,lit_html_directives_ref_js__WEBPACK_IMPORTED_MODULE_3__.ref)(this.defaultSlotRef)}></slot></div>`;
  }
  renderContentProperties() {
    const { label, description, hasCustomContent } = this;
    return !hasCustomContent && (!!label || !!description) ? (0,lit_directives_keyed_js__WEBPACK_IMPORTED_MODULE_1__.keyed)("content", (0,lit__WEBPACK_IMPORTED_MODULE_2__.html)`<div class=${(0,_arcgis_lumina__WEBPACK_IMPORTED_MODULE_4__.safeClassMap)(_chunks_resources5_js__WEBPACK_IMPORTED_MODULE_13__.C.content)}>${label ? (0,lit_directives_keyed_js__WEBPACK_IMPORTED_MODULE_1__.keyed)("label", (0,lit__WEBPACK_IMPORTED_MODULE_2__.html)`<div class=${(0,_arcgis_lumina__WEBPACK_IMPORTED_MODULE_4__.safeClassMap)(_chunks_resources5_js__WEBPACK_IMPORTED_MODULE_13__.C.label)}>${label}</div>`) : null}${description ? (0,lit_directives_keyed_js__WEBPACK_IMPORTED_MODULE_1__.keyed)("description", (0,lit__WEBPACK_IMPORTED_MODULE_2__.html)`<div class=${(0,_arcgis_lumina__WEBPACK_IMPORTED_MODULE_4__.safeClassMap)(_chunks_resources5_js__WEBPACK_IMPORTED_MODULE_13__.C.description)}>${description}</div>`) : null}</div>`) : null;
  }
  renderContentContainer() {
    const { description, label, selectionMode, hasCustomContent, unavailable } = this;
    const hasCenterContent = hasCustomContent || !!label || !!description;
    const content = [
      this.renderContentStart(),
      this.renderCustomContent(),
      this.renderIconStart(),
      this.renderContentProperties(),
      this.renderIconEnd(),
      this.renderContentEnd()
    ];
    return (0,lit_directives_keyed_js__WEBPACK_IMPORTED_MODULE_1__.keyed)("content-container", (0,lit__WEBPACK_IMPORTED_MODULE_2__.html)`<div .ariaLabel=${label} class=${(0,_arcgis_lumina__WEBPACK_IMPORTED_MODULE_4__.safeClassMap)({
      [_chunks_resources5_js__WEBPACK_IMPORTED_MODULE_13__.C.gridCell]: true,
      [_chunks_resources5_js__WEBPACK_IMPORTED_MODULE_13__.C.contentContainer]: true,
      [_chunks_resources5_js__WEBPACK_IMPORTED_MODULE_13__.C.contentContainerUnavailable]: unavailable,
      [_chunks_resources5_js__WEBPACK_IMPORTED_MODULE_13__.C.contentContainerSelectable]: selectionMode !== "none",
      [_chunks_resources5_js__WEBPACK_IMPORTED_MODULE_13__.C.contentContainerHasCenterContent]: hasCenterContent
    })} @click=${this.handleItemClick} role=gridcell ${(0,lit_html_directives_ref_js__WEBPACK_IMPORTED_MODULE_3__.ref)(this.contentRef)}>${content}</div>`);
  }
  render() {
    const { expandable, expanded, level, active, label, selected, selectionAppearance, selectionMode, interactionMode, closed, filterHidden, bordered, disabled, hasContentBottom } = this;
    const wrapperBordered = bordered && hasContentBottom;
    const contentContainerWrapperBordered = bordered && !hasContentBottom;
    const showSelectionBorder = selectionMode !== "none" && selectionAppearance === "border";
    const selectionBorderSelected = showSelectionBorder && selected;
    const selectionBorderUnselected = showSelectionBorder && !selected;
    const containerInteractive = interactionMode === "interactive" || interactionMode === "static" && selectionMode !== "none" && selectionAppearance === "border";
    return (0,_chunks_interactive_js__WEBPACK_IMPORTED_MODULE_6__.I)({ disabled, children: (0,lit__WEBPACK_IMPORTED_MODULE_2__.html)`<div class=${(0,_arcgis_lumina__WEBPACK_IMPORTED_MODULE_4__.safeClassMap)({ [_chunks_resources5_js__WEBPACK_IMPORTED_MODULE_13__.C.wrapper]: true, [_chunks_resources5_js__WEBPACK_IMPORTED_MODULE_13__.C.wrapperBordered]: wrapperBordered })}><div .ariaExpanded=${expandable ? expanded : null} .ariaLabel=${label} .ariaLevel=${level} .ariaSelected=${selected} class=${(0,_arcgis_lumina__WEBPACK_IMPORTED_MODULE_4__.safeClassMap)({
      [_chunks_resources5_js__WEBPACK_IMPORTED_MODULE_13__.C.row]: true,
      [_chunks_resources5_js__WEBPACK_IMPORTED_MODULE_13__.C.container]: true,
      [_chunks_resources5_js__WEBPACK_IMPORTED_MODULE_13__.C.containerHover]: containerInteractive,
      [_chunks_resources5_js__WEBPACK_IMPORTED_MODULE_13__.C.containerBorder]: showSelectionBorder,
      [_chunks_resources5_js__WEBPACK_IMPORTED_MODULE_13__.C.containerBorderSelected]: selectionBorderSelected,
      [_chunks_resources5_js__WEBPACK_IMPORTED_MODULE_13__.C.containerBorderUnselected]: selectionBorderUnselected
    })} .hidden=${closed || filterHidden} @focus=${this.focusCellNull} @focusin=${this.emitInternalListItemActive} @keydown=${this.handleItemKeyDown} role=row .tabIndex=${active ? 0 : -1} ${(0,lit_html_directives_ref_js__WEBPACK_IMPORTED_MODULE_3__.ref)(this.containerRef)}>${this.renderDragHandle()}${this.renderSelected()}${this.renderExpanded()}<div class=${(0,_arcgis_lumina__WEBPACK_IMPORTED_MODULE_4__.safeClassMap)({
      [_chunks_resources5_js__WEBPACK_IMPORTED_MODULE_13__.C.contentContainerWrapper]: true,
      [_chunks_resources5_js__WEBPACK_IMPORTED_MODULE_13__.C.contentContainerWrapperBordered]: contentContainerWrapperBordered
    })}>${this.renderActionsStart()}${this.renderContentContainer()}${this.renderActionsEnd()}</div></div>${this.renderContentBottom()}</div>${this.renderDefaultContainer()}` });
  }
}
(0,_chunks_runtime_js__WEBPACK_IMPORTED_MODULE_0__.c)("calcite-list-item", ListItem);



/***/ }),

/***/ "./node_modules/@esri/calcite-components/dist/components/calcite-list-item/index.js":
/*!******************************************************************************************!*\
  !*** ./node_modules/@esri/calcite-components/dist/components/calcite-list-item/index.js ***!
  \******************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ListItem: () => (/* reexport safe */ _customElement_js__WEBPACK_IMPORTED_MODULE_3__.ListItem)
/* harmony export */ });
/* harmony import */ var _calcite_icon_index_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../calcite-icon/index.js */ "./node_modules/@esri/calcite-components/dist/components/calcite-icon/index.js");
/* harmony import */ var _calcite_sort_handle_index_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../calcite-sort-handle/index.js */ "./node_modules/@esri/calcite-components/dist/components/calcite-sort-handle/index.js");
/* harmony import */ var _calcite_action_index_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../calcite-action/index.js */ "./node_modules/@esri/calcite-components/dist/components/calcite-action/index.js");
/* harmony import */ var _customElement_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./customElement.js */ "./node_modules/@esri/calcite-components/dist/components/calcite-list-item/customElement.js");





/***/ })

};

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmVuZG9ycy1ub2RlX21vZHVsZXNfZXNyaV9jYWxjaXRlLWNvbXBvbmVudHNfZGlzdF9jaHVua3Nfa2V5X2pzLW5vZGVfbW9kdWxlc19lc3JpX2NhbGNpdGUtY29tLWE2YzVhNS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUlFOzs7Ozs7Ozs7Ozs7Ozs7OztBQ1ZGO0FBQ0E7QUFDQTtBQUMrQjtBQUMvQjtBQUNBLE1BQU0seUNBQVE7QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQyxpQkFBaUI7QUFDakQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFJRTs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ3JERjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU9FOzs7Ozs7Ozs7Ozs7Ozs7OztBQ2hFRjtBQUNBO0FBQ0E7QUFDK0Q7QUFDZDtBQUNqRCxlQUFlLDZFQUFpQixDQUFDLDBDQUFZO0FBRzNDOzs7Ozs7Ozs7Ozs7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O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUkseURBQXFCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLGlEQUE0QjtBQUN4RDtBQUNBO0FBQ0EsMkJBQTJCLGlEQUE0QjtBQUN2RDtBQUNBO0FBQ0EseUJBQXlCLGlEQUE0QjtBQUNyRDtBQUNBO0FBQ0EsMkJBQTJCLGlEQUE0QjtBQUN2RDtBQUNBO0FBQ0EseUJBQXlCLGlEQUE0QjtBQUNyRDtBQUNBO0FBQ0EsNEJBQTRCLGlEQUE0QjtBQUN4RDtBQUNBO0FBQ0EsWUFBWSxtREFBbUQ7QUFDL0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQixxREFBbUI7QUFDeEM7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFD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VUFBVSx3QkFBd0IsU0FBUyxvQkFBb0IsV0FBVyxpQ0FBaUMsV0FBVyx3QkFBd0IscUJBQXFCLGlCQUFpQixFQUFFLCtEQUFHLG9CQUFvQixHQUFHLHdCQUF3QixFQUFFLHNCQUFzQixFQUFFLHNCQUFzQixhQUFhLDREQUFZO0FBQ3pULE9BQU8scURBQUc7QUFDVixPQUFPLHFEQUFHO0FBQ1YsS0FBSyxFQUFFLEdBQUcsMEJBQTBCLEVBQUUsOEJBQThCLEVBQUUsd0JBQXdCLGNBQWMsMkJBQTJCLFFBQVEsOEJBQThCLEdBQUc7QUFDaEw7QUFDQTtBQUNBLHFEQUFhO0FBR1g7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUM1ZGdDO0FBQ087QUFDTCIsInNvdXJjZXMiOlsid2VicGFjazovL3ByZWNpc2lvbmZhcm1zLy4vbm9kZV9tb2R1bGVzL0Blc3JpL2NhbGNpdGUtY29tcG9uZW50cy9kaXN0L2NodW5rcy9rZXkuanMiLCJ3ZWJwYWNrOi8vcHJlY2lzaW9uZmFybXMvLi9ub2RlX21vZHVsZXMvQGVzcmkvY2FsY2l0ZS1jb21wb25lbnRzL2Rpc3QvY2h1bmtzL29ic2VydmVycy5qcyIsIndlYnBhY2s6Ly9wcmVjaXNpb25mYXJtcy8uL25vZGVfbW9kdWxlcy9AZXNyaS9jYWxjaXRlLWNvbXBvbmVudHMvZGlzdC9jaHVua3MvcmVzb3VyY2VzNS5qcyIsIndlYnBhY2s6Ly9wcmVjaXNpb25mYXJtcy8uL25vZGVfbW9kdWxlcy9AZXNyaS9jYWxjaXRlLWNvbXBvbmVudHMvZGlzdC9jaHVua3MvdXNlVDluLmpzIiwid2VicGFjazovL3ByZWNpc2lvbmZhcm1zLy4vbm9kZV9tb2R1bGVzL0Blc3JpL2NhbGNpdGUtY29tcG9uZW50cy9kaXN0L2NodW5rcy91dGlsczIuanMiLCJ3ZWJwYWNrOi8vcHJlY2lzaW9uZmFybXMvLi9ub2RlX21vZHVsZXMvQGVzcmkvY2FsY2l0ZS1jb21wb25lbnRzL2Rpc3QvY29tcG9uZW50cy9jYWxjaXRlLWljb24vY3VzdG9tRWxlbWVudC5qcyIsIndlYnBhY2s6Ly9wcmVjaXNpb25mYXJtcy8uL25vZGVfbW9kdWxlcy9AZXNyaS9jYWxjaXRlLWNvbXBvbmVudHMvZGlzdC9jb21wb25lbnRzL2NhbGNpdGUtbGlzdC1pdGVtL2N1c3RvbUVsZW1lbnQuanMiLCJ3ZWJwYWNrOi8vcHJlY2lzaW9uZmFybXMvLi9ub2RlX21vZHVsZXMvQGVzcmkvY2FsY2l0ZS1jb21wb25lbnRzL2Rpc3QvY29tcG9uZW50cy9jYWxjaXRlLWxpc3QtaXRlbS9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiEgQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2dpdGh1Yi5jb20vRXNyaS9jYWxjaXRlLWRlc2lnbi1zeXN0ZW0vYmxvYi9kZXYvTElDRU5TRS5tZCBmb3IgZGV0YWlscy5cbnYzLjMuMyAqL1xuZnVuY3Rpb24gaXNBY3RpdmF0aW9uS2V5KGtleSkge1xuICByZXR1cm4ga2V5ID09PSBcIkVudGVyXCIgfHwga2V5ID09PSBcIiBcIjtcbn1cbmNvbnN0IG51bWJlcktleXMgPSBbXCIwXCIsIFwiMVwiLCBcIjJcIiwgXCIzXCIsIFwiNFwiLCBcIjVcIiwgXCI2XCIsIFwiN1wiLCBcIjhcIiwgXCI5XCJdO1xuZXhwb3J0IHtcbiAgaXNBY3RpdmF0aW9uS2V5IGFzIGksXG4gIG51bWJlcktleXMgYXMgblxufTtcbiIsIi8qISBBbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9Fc3JpL2NhbGNpdGUtZGVzaWduLXN5c3RlbS9ibG9iL2Rldi9MSUNFTlNFLm1kIGZvciBkZXRhaWxzLlxudjMuMy4zICovXG5pbXBvcnQgeyBpc1NlcnZlciB9IGZyb20gXCJsaXRcIjtcbmZ1bmN0aW9uIGNyZWF0ZU9ic2VydmVyKHR5cGUsIGNhbGxiYWNrLCBvcHRpb25zKSB7XG4gIGlmIChpc1NlcnZlcikge1xuICAgIHJldHVybiB2b2lkIDA7XG4gIH1cbiAgY29uc3QgT2JzZXJ2ZXIgPSBnZXRPYnNlcnZlcih0eXBlKTtcbiAgcmV0dXJuIG5ldyBPYnNlcnZlcihjYWxsYmFjaywgb3B0aW9ucyk7XG59XG5mdW5jdGlvbiBnZXRPYnNlcnZlcih0eXBlKSB7XG4gIGNsYXNzIEV4dGVuZGVkTXV0YXRpb25PYnNlcnZlciBleHRlbmRzIHdpbmRvdy5NdXRhdGlvbk9ic2VydmVyIHtcbiAgICBjb25zdHJ1Y3RvcihjYWxsYmFjaykge1xuICAgICAgc3VwZXIoY2FsbGJhY2spO1xuICAgICAgdGhpcy5vYnNlcnZlZEVudHJ5ID0gW107XG4gICAgICB0aGlzLmNhbGxiYWNrID0gY2FsbGJhY2s7XG4gICAgfVxuICAgIG9ic2VydmUodGFyZ2V0LCBvcHRpb25zKSB7XG4gICAgICB0aGlzLm9ic2VydmVkRW50cnkucHVzaCh7IHRhcmdldCwgb3B0aW9ucyB9KTtcbiAgICAgIHJldHVybiBzdXBlci5vYnNlcnZlKHRhcmdldCwgb3B0aW9ucyk7XG4gICAgfVxuICAgIHVub2JzZXJ2ZSh0YXJnZXQpIHtcbiAgICAgIGNvbnN0IG5ld09ic2VydmVkRW50cmllcyA9IHRoaXMub2JzZXJ2ZWRFbnRyeS5maWx0ZXIoKG9ic2VydmVkKSA9PiBvYnNlcnZlZC50YXJnZXQgIT09IHRhcmdldCk7XG4gICAgICB0aGlzLm9ic2VydmVkRW50cnkgPSBbXTtcbiAgICAgIHRoaXMuY2FsbGJhY2soc3VwZXIudGFrZVJlY29yZHMoKSwgdGhpcyk7XG4gICAgICB0aGlzLmRpc2Nvbm5lY3QoKTtcbiAgICAgIG5ld09ic2VydmVkRW50cmllcy5mb3JFYWNoKChvYnNlcnZlZCkgPT4gdGhpcy5vYnNlcnZlKG9ic2VydmVkLnRhcmdldCwgb2JzZXJ2ZWQub3B0aW9ucykpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHR5cGUgPT09IFwiaW50ZXJzZWN0aW9uXCIgPyB3aW5kb3cuSW50ZXJzZWN0aW9uT2JzZXJ2ZXIgOiB0eXBlID09PSBcIm11dGF0aW9uXCIgPyBFeHRlbmRlZE11dGF0aW9uT2JzZXJ2ZXIgOiB3aW5kb3cuUmVzaXplT2JzZXJ2ZXI7XG4gIH0oKTtcbn1cbmZ1bmN0aW9uIHVwZGF0ZVJlZk9ic2VydmVyKG9ic2VydmVyLCBvbGRUYXJnZXQsIHRhcmdldCwgb3B0aW9ucykge1xuICBpZiAoIW9ic2VydmVyKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGlmIChvbGRUYXJnZXQpIHtcbiAgICBvYnNlcnZlci51bm9ic2VydmUob2xkVGFyZ2V0KTtcbiAgfVxuICBpZiAoIXRhcmdldCkge1xuICAgIHJldHVybjtcbiAgfVxuICBpZiAob2JzZXJ2ZXIgaW5zdGFuY2VvZiBNdXRhdGlvbk9ic2VydmVyKSB7XG4gICAgb2JzZXJ2ZXIub2JzZXJ2ZSh0YXJnZXQsIG9wdGlvbnMpO1xuICAgIHJldHVybjtcbiAgfVxuICBvYnNlcnZlci5vYnNlcnZlKHRhcmdldCk7XG59XG5leHBvcnQge1xuICBjcmVhdGVPYnNlcnZlciBhcyBjLFxuICB1cGRhdGVSZWZPYnNlcnZlciBhcyB1XG59O1xuIiwiLyohIEFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9naXRodWIuY29tL0VzcmkvY2FsY2l0ZS1kZXNpZ24tc3lzdGVtL2Jsb2IvZGV2L0xJQ0VOU0UubWQgZm9yIGRldGFpbHMuXG52My4zLjMgKi9cbmNvbnN0IENTUyA9IHtcbiAgYWN0aW9uc0VuZDogXCJhY3Rpb25zLWVuZFwiLFxuICBhY3Rpb25zU3RhcnQ6IFwiYWN0aW9ucy1zdGFydFwiLFxuICBkZXNjcmlwdGlvbjogXCJkZXNjcmlwdGlvblwiLFxuICBjbG9zZTogXCJjbG9zZVwiLFxuICBjb250YWluZXI6IFwiY29udGFpbmVyXCIsXG4gIGNvbnRhaW5lckhvdmVyOiBcImNvbnRhaW5lci0taG92ZXJcIixcbiAgY29udGFpbmVyQm9yZGVyOiBcImNvbnRhaW5lci0tYm9yZGVyXCIsXG4gIGNvbnRhaW5lckJvcmRlclNlbGVjdGVkOiBcImNvbnRhaW5lci0tYm9yZGVyLXNlbGVjdGVkXCIsXG4gIGNvbnRhaW5lckJvcmRlclVuc2VsZWN0ZWQ6IFwiY29udGFpbmVyLS1ib3JkZXItdW5zZWxlY3RlZFwiLFxuICBjb250ZW50OiBcImNvbnRlbnRcIixcbiAgY29udGVudEJvdHRvbTogXCJjb250ZW50LWJvdHRvbVwiLFxuICBjb250ZW50Q29udGFpbmVyOiBcImNvbnRlbnQtY29udGFpbmVyXCIsXG4gIGNvbnRlbnRDb250YWluZXJIYXNDZW50ZXJDb250ZW50OiBcImNvbnRlbnQtY29udGFpbmVyLS1oYXMtY2VudGVyLWNvbnRlbnRcIixcbiAgY29udGVudENvbnRhaW5lclNlbGVjdGFibGU6IFwiY29udGVudC1jb250YWluZXItLXNlbGVjdGFibGVcIixcbiAgY29udGVudENvbnRhaW5lclVuYXZhaWxhYmxlOiBcImNvbnRlbnQtY29udGFpbmVyLS11bmF2YWlsYWJsZVwiLFxuICBjb250ZW50Q29udGFpbmVyV3JhcHBlcjogXCJjb250ZW50LWNvbnRhaW5lci13cmFwcGVyXCIsXG4gIGNvbnRlbnRDb250YWluZXJXcmFwcGVyQm9yZGVyZWQ6IFwiY29udGVudC1jb250YWluZXItd3JhcHBlci0tYm9yZGVyZWRcIixcbiAgY29udGVudEVuZDogXCJjb250ZW50LWVuZFwiLFxuICBjb250ZW50U3RhcnQ6IFwiY29udGVudC1zdGFydFwiLFxuICBjdXN0b21Db250ZW50OiBcImN1c3RvbS1jb250ZW50XCIsXG4gIGV4cGFuZGVkQ29udGFpbmVyOiBcImV4cGFuZGVkLWNvbnRhaW5lclwiLFxuICBkcmFnQ29udGFpbmVyOiBcImRyYWctY29udGFpbmVyXCIsXG4gIGdyaWRDZWxsOiBcImdyaWQtY2VsbFwiLFxuICBpY29uOiBcImljb25cIixcbiAgbmVzdGVkQ29udGFpbmVyOiBcIm5lc3RlZC1jb250YWluZXJcIixcbiAgbmVzdGVkQ29udGFpbmVyRXhwYW5kZWQ6IFwibmVzdGVkLWNvbnRhaW5lci0tZXhwYW5kZWRcIixcbiAgbGFiZWw6IFwibGFiZWxcIixcbiAgcm93OiBcInJvd1wiLFxuICBzZWxlY3Rpb25Db250YWluZXI6IFwic2VsZWN0aW9uLWNvbnRhaW5lclwiLFxuICBzZWxlY3Rpb25Db250YWluZXJTaW5nbGU6IFwic2VsZWN0aW9uLWNvbnRhaW5lci0tc2luZ2xlXCIsXG4gIHdyYXBwZXI6IFwid3JhcHBlclwiLFxuICB3cmFwcGVyQm9yZGVyZWQ6IFwid3JhcHBlci0tYm9yZGVyZWRcIlxufTtcbmNvbnN0IFNMT1RTID0ge1xuICBhY3Rpb25zU3RhcnQ6IFwiYWN0aW9ucy1zdGFydFwiLFxuICBjb250ZW50U3RhcnQ6IFwiY29udGVudC1zdGFydFwiLFxuICBjb250ZW50OiBcImNvbnRlbnRcIixcbiAgY29udGVudEJvdHRvbTogXCJjb250ZW50LWJvdHRvbVwiLFxuICBjb250ZW50RW5kOiBcImNvbnRlbnQtZW5kXCIsXG4gIGFjdGlvbnNFbmQ6IFwiYWN0aW9ucy1lbmRcIlxufTtcbmNvbnN0IE1BWF9DT0xVTU5TID0gMDtcbmNvbnN0IElDT05TID0ge1xuICBzZWxlY3RlZE11bHRpcGxlOiBcImNoZWNrLXNxdWFyZS1mXCIsXG4gIHNlbGVjdGVkU2luZ2xlOiBcImNpcmNsZS1pbnNldC1sYXJnZVwiLFxuICB1bnNlbGVjdGVkTXVsdGlwbGU6IFwic3F1YXJlXCIsXG4gIHVuc2VsZWN0ZWRTaW5nbGU6IFwiY2lyY2xlXCIsXG4gIGNvbGxhcHNlZExUUjogXCJjaGV2cm9uLXJpZ2h0XCIsXG4gIGNvbGxhcHNlZFJUTDogXCJjaGV2cm9uLWxlZnRcIixcbiAgb3BlbjogXCJjaGV2cm9uLWRvd25cIixcbiAgYmxhbms6IFwiYmxhbmtcIixcbiAgY2xvc2U6IFwieFwiXG59O1xuY29uc3QgYWN0aXZlQ2VsbFRlc3RBdHRyaWJ1dGUgPSBcImRhdGEtdGVzdC1hY3RpdmVcIjtcbmV4cG9ydCB7XG4gIENTUyBhcyBDLFxuICBJQ09OUyBhcyBJLFxuICBNQVhfQ09MVU1OUyBhcyBNLFxuICBTTE9UUyBhcyBTLFxuICBhY3RpdmVDZWxsVGVzdEF0dHJpYnV0ZSBhcyBhXG59O1xuIiwiLyohIEFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9naXRodWIuY29tL0VzcmkvY2FsY2l0ZS1kZXNpZ24tc3lzdGVtL2Jsb2IvZGV2L0xJQ0VOU0UubWQgZm9yIGRldGFpbHMuXG52My4zLjMgKi9cbmltcG9ydCB7IG1ha2VUOW5Db250cm9sbGVyIH0gZnJvbSBcIkBhcmNnaXMvbHVtaW5hL2NvbnRyb2xsZXJzXCI7XG5pbXBvcnQgeyBnIGFzIGdldEFzc2V0UGF0aCB9IGZyb20gXCIuL3J1bnRpbWUuanNcIjtcbmNvbnN0IHVzZVQ5biA9IG1ha2VUOW5Db250cm9sbGVyKGdldEFzc2V0UGF0aCk7XG5leHBvcnQge1xuICB1c2VUOW4gYXMgdVxufTtcbiIsIi8qISBBbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9Fc3JpL2NhbGNpdGUtZGVzaWduLXN5c3RlbS9ibG9iL2Rldi9MSUNFTlNFLm1kIGZvciBkZXRhaWxzLlxudjMuMy4zICovXG5pbXBvcnQgeyBpc1NlcnZlciB9IGZyb20gXCJsaXRcIjtcbmNvbnN0IGxpc3RTZWxlY3RvciA9IFwiY2FsY2l0ZS1saXN0XCI7XG5jb25zdCBsaXN0SXRlbUdyb3VwU2VsZWN0b3IgPSBcImNhbGNpdGUtbGlzdC1pdGVtLWdyb3VwXCI7XG5jb25zdCBsaXN0SXRlbVNlbGVjdG9yID0gXCJjYWxjaXRlLWxpc3QtaXRlbVwiO1xuZnVuY3Rpb24gZXhwYW5kZWRBbmNlc3RvcnMoZWwpIHtcbiAgY29uc3QgYW5jZXN0b3IgPSBlbC5wYXJlbnRFbGVtZW50Py5jbG9zZXN0KGxpc3RJdGVtU2VsZWN0b3IpO1xuICBpZiAoIWFuY2VzdG9yKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGFuY2VzdG9yLm9wZW4gPSB0cnVlO1xuICBleHBhbmRlZEFuY2VzdG9ycyhhbmNlc3Rvcik7XG59XG5mdW5jdGlvbiBnZXRMaXN0SXRlbUNoaWxkcmVuKHNsb3RFbCkge1xuICBjb25zdCBhc3NpZ25lZEVsZW1lbnRzID0gc2xvdEVsLmFzc2lnbmVkRWxlbWVudHMoeyBmbGF0dGVuOiB0cnVlIH0pO1xuICBjb25zdCBncm91cENoaWxkcmVuID0gYXNzaWduZWRFbGVtZW50cy5maWx0ZXIoKGVsKSA9PiBlbD8ubWF0Y2hlcyhsaXN0SXRlbUdyb3VwU2VsZWN0b3IpKS5tYXAoKGdyb3VwKSA9PiBBcnJheS5mcm9tKGdyb3VwLnF1ZXJ5U2VsZWN0b3JBbGwobGlzdEl0ZW1TZWxlY3RvcikpKS5mbGF0KCk7XG4gIGNvbnN0IGxpc3RJdGVtQ2hpbGRyZW4gPSBhc3NpZ25lZEVsZW1lbnRzLmZpbHRlcigoZWwpID0+IGVsPy5tYXRjaGVzKGxpc3RJdGVtU2VsZWN0b3IpKTtcbiAgY29uc3QgbGlzdENoaWxkcmVuID0gYXNzaWduZWRFbGVtZW50cy5maWx0ZXIoKGVsKSA9PiBlbD8ubWF0Y2hlcyhsaXN0U2VsZWN0b3IpKTtcbiAgcmV0dXJuIHtcbiAgICBsaXN0czogbGlzdENoaWxkcmVuLFxuICAgIGl0ZW1zOiBncm91cENoaWxkcmVuLmNvbmNhdChsaXN0SXRlbUNoaWxkcmVuKVxuICB9O1xufVxuZnVuY3Rpb24gdXBkYXRlTGlzdEl0ZW1DaGlsZHJlbihzbG90RWwpIHtcbiAgY29uc3QgbGlzdEl0ZW1DaGlsZHJlbiA9IHNsb3RFbC5hc3NpZ25lZEVsZW1lbnRzKHsgZmxhdHRlbjogdHJ1ZSB9KS5maWx0ZXIoKGVsKSA9PiBlbC5tYXRjaGVzKGxpc3RJdGVtU2VsZWN0b3IpKTtcbiAgY29uc3QgZmlsdGVyZWRMaXN0SXRlbUNoaWxkcmVuID0gbGlzdEl0ZW1DaGlsZHJlbi5maWx0ZXIoKGxpc3RJdGVtKSA9PiAhbGlzdEl0ZW0uZmlsdGVySGlkZGVuKTtcbiAgbGlzdEl0ZW1DaGlsZHJlbi5mb3JFYWNoKChsaXN0SXRlbSkgPT4ge1xuICAgIGNvbnN0IGluZGV4ID0gZmlsdGVyZWRMaXN0SXRlbUNoaWxkcmVuLmluZGV4T2YobGlzdEl0ZW0pO1xuICAgIGxpc3RJdGVtLnNldFBvc2l0aW9uID0gaW5kZXggPT09IC0xID8gdm9pZCAwIDogaW5kZXggKyAxO1xuICAgIGxpc3RJdGVtLnNldFNpemUgPSBpbmRleCA9PT0gLTEgPyB2b2lkIDAgOiBmaWx0ZXJlZExpc3RJdGVtQ2hpbGRyZW4ubGVuZ3RoO1xuICB9KTtcbn1cbmZ1bmN0aW9uIGdldERlcHRoKGVsZW1lbnQsIGluY2x1ZGVHcm91cCA9IGZhbHNlKSB7XG4gIGlmIChpc1NlcnZlcikge1xuICAgIHJldHVybiAwO1xuICB9XG4gIGNvbnN0IGV4cHJlc3Npb24gPSBpbmNsdWRlR3JvdXAgPyBcImFuY2VzdG9yOjpjYWxjaXRlLWxpc3QtaXRlbSB8IGFuY2VzdG9yOjpjYWxjaXRlLWxpc3QtaXRlbS1ncm91cFwiIDogXCJhbmNlc3Rvcjo6Y2FsY2l0ZS1saXN0LWl0ZW1cIjtcbiAgY29uc3QgcmVzdWx0ID0gZG9jdW1lbnQuZXZhbHVhdGUoZXhwcmVzc2lvbiwgZWxlbWVudCwgbnVsbCwgWFBhdGhSZXN1bHQuVU5PUkRFUkVEX05PREVfU05BUFNIT1RfVFlQRSwgbnVsbCk7XG4gIHJldHVybiByZXN1bHQuc25hcHNob3RMZW5ndGg7XG59XG5mdW5jdGlvbiBpc0xpc3RJdGVtKGVsZW1lbnQpIHtcbiAgcmV0dXJuIGVsZW1lbnQudGFnTmFtZSA9PT0gXCJDQUxDSVRFLUxJU1QtSVRFTVwiO1xufVxuZXhwb3J0IHtcbiAgZ2V0TGlzdEl0ZW1DaGlsZHJlbiBhcyBhLFxuICBsaXN0SXRlbVNlbGVjdG9yIGFzIGIsXG4gIGxpc3RJdGVtR3JvdXBTZWxlY3RvciBhcyBjLFxuICBleHBhbmRlZEFuY2VzdG9ycyBhcyBlLFxuICBnZXREZXB0aCBhcyBnLFxuICBpc0xpc3RJdGVtIGFzIGksXG4gIGxpc3RTZWxlY3RvciBhcyBsLFxuICB1cGRhdGVMaXN0SXRlbUNoaWxkcmVuIGFzIHVcbn07XG4iLCIvKiEgQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2dpdGh1Yi5jb20vRXNyaS9jYWxjaXRlLWRlc2lnbi1zeXN0ZW0vYmxvYi9kZXYvTElDRU5TRS5tZCBmb3IgZGV0YWlscy5cbnYzLjMuMyAqL1xuaW1wb3J0IHsgZyBhcyBnZXRBc3NldFBhdGgsIGMgYXMgY3VzdG9tRWxlbWVudCB9IGZyb20gXCIuLi8uLi9jaHVua3MvcnVudGltZS5qc1wiO1xuaW1wb3J0IHsgY3NzLCBpc1NlcnZlciwgbm90aGluZywgc3ZnLCBodG1sIH0gZnJvbSBcImxpdFwiO1xuaW1wb3J0IHsgTGl0RWxlbWVudCwgc2FmZUNsYXNzTWFwIH0gZnJvbSBcIkBhcmNnaXMvbHVtaW5hXCI7XG5pbXBvcnQgeyBnIGFzIGdldEVsZW1lbnREaXIsIHQgYXMgdG9BcmlhQm9vbGVhbiB9IGZyb20gXCIuLi8uLi9jaHVua3MvZG9tLmpzXCI7XG5pbXBvcnQgeyBjIGFzIGNyZWF0ZU9ic2VydmVyIH0gZnJvbSBcIi4uLy4uL2NodW5rcy9vYnNlcnZlcnMuanNcIjtcbmltcG9ydCB7IGwgYXMgbG9nZ2VyIH0gZnJvbSBcIi4uLy4uL2NodW5rcy9sb2dnZXIuanNcIjtcbmNvbnN0IENTUyA9IHtcbiAgZmxpcFJ0bDogXCJmbGlwLXJ0bFwiLFxuICBzdmc6IFwic3ZnXCJcbn07XG5jb25zdCBpY29uQ2FjaGUgPSB7fTtcbmNvbnN0IHJlcXVlc3RDYWNoZSA9IHt9O1xuY29uc3Qgc2NhbGVUb1B4ID0ge1xuICBzOiAxNixcbiAgbTogMjQsXG4gIGw6IDMyXG59O1xuZnVuY3Rpb24gZ2VuZXJhdGVJY29uSWQoeyBpY29uLCBzY2FsZSB9KSB7XG4gIGNvbnN0IHNpemUgPSBzY2FsZVRvUHhbc2NhbGVdO1xuICBjb25zdCBuYW1lID0gbm9ybWFsaXplSWNvbk5hbWUoaWNvbik7XG4gIGNvbnN0IGZpbGxlZCA9IG5hbWUuY2hhckF0KG5hbWUubGVuZ3RoIC0gMSkgPT09IFwiRlwiO1xuICBjb25zdCBpY29uTmFtZSA9IGZpbGxlZCA/IG5hbWUuc3Vic3RyaW5nKDAsIG5hbWUubGVuZ3RoIC0gMSkgOiBuYW1lO1xuICByZXR1cm4gYCR7aWNvbk5hbWV9JHtzaXplfSR7ZmlsbGVkID8gXCJGXCIgOiBcIlwifWA7XG59XG5hc3luYyBmdW5jdGlvbiBmZXRjaEljb24ocHJvcHMpIHtcbiAgY29uc3QgY2FjaGVkSWNvbktleSA9IGdlbmVyYXRlSWNvbklkKHByb3BzKTtcbiAgY29uc3QgY2FjaGVkSWNvbkRhdGEgPSBnZXRDYWNoZWRJY29uRGF0YUJ5S2V5KGNhY2hlZEljb25LZXkpO1xuICBpZiAoY2FjaGVkSWNvbkRhdGEpIHtcbiAgICByZXR1cm4gY2FjaGVkSWNvbkRhdGE7XG4gIH1cbiAgaWYgKCFyZXF1ZXN0Q2FjaGVbY2FjaGVkSWNvbktleV0pIHtcbiAgICByZXF1ZXN0Q2FjaGVbY2FjaGVkSWNvbktleV0gPSBmZXRjaChnZXRBc3NldFBhdGgoYC4vYXNzZXRzL2ljb24vJHtjYWNoZWRJY29uS2V5fS5qc29uYCkpLnRoZW4oKHJlc3ApID0+IHJlc3AuanNvbigpKS5jYXRjaCgoKSA9PiB7XG4gICAgICBsb2dnZXIuZXJyb3IoYCR7cHJvcHMuaWNvbn0gKCR7cHJvcHMuc2NhbGV9KSBpY29uIGZhaWxlZCB0byBsb2FkYCk7XG4gICAgICByZXR1cm4gXCJcIjtcbiAgICB9KTtcbiAgfVxuICBjb25zdCBwYXRoID0gYXdhaXQgcmVxdWVzdENhY2hlW2NhY2hlZEljb25LZXldO1xuICBpY29uQ2FjaGVbY2FjaGVkSWNvbktleV0gPSBwYXRoO1xuICByZXR1cm4gcGF0aDtcbn1cbmZ1bmN0aW9uIGdldENhY2hlZEljb25EYXRhKHByb3BzKSB7XG4gIHJldHVybiBnZXRDYWNoZWRJY29uRGF0YUJ5S2V5KGdlbmVyYXRlSWNvbklkKHByb3BzKSk7XG59XG5mdW5jdGlvbiBnZXRDYWNoZWRJY29uRGF0YUJ5S2V5KGlkKSB7XG4gIHJldHVybiBpY29uQ2FjaGVbaWRdO1xufVxuZnVuY3Rpb24gbm9ybWFsaXplSWNvbk5hbWUobmFtZSkge1xuICBjb25zdCBudW1iZXJMZWFkaW5nTmFtZSA9ICFpc05hTihOdW1iZXIobmFtZS5jaGFyQXQoMCkpKTtcbiAgY29uc3QgcGFydHMgPSBuYW1lLnNwbGl0KFwiLVwiKTtcbiAgY29uc3Qga2ViYWJDYXNlZCA9IHBhcnRzLmxlbmd0aCA+IDA7XG4gIGlmIChrZWJhYkNhc2VkKSB7XG4gICAgY29uc3QgZmlyc3ROb25EaWdpdEluUGFydFBhdHRlcm4gPSAvW2Etel0vaTtcbiAgICBuYW1lID0gcGFydHMubWFwKChwYXJ0LCBwYXJ0SW5kZXgpID0+IHtcbiAgICAgIHJldHVybiBwYXJ0LnJlcGxhY2UoZmlyc3ROb25EaWdpdEluUGFydFBhdHRlcm4sIGZ1bmN0aW9uIHJlcGxhY2VyKG1hdGNoLCBvZmZzZXQpIHtcbiAgICAgICAgY29uc3QgaXNGaXJzdENoYXJJbk5hbWUgPSBwYXJ0SW5kZXggPT09IDAgJiYgb2Zmc2V0ID09PSAwO1xuICAgICAgICBpZiAoaXNGaXJzdENoYXJJbk5hbWUpIHtcbiAgICAgICAgICByZXR1cm4gbWF0Y2g7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1hdGNoLnRvVXBwZXJDYXNlKCk7XG4gICAgICB9KTtcbiAgICB9KS5qb2luKFwiXCIpO1xuICB9XG4gIHJldHVybiBudW1iZXJMZWFkaW5nTmFtZSA/IGBpJHtuYW1lfWAgOiBuYW1lO1xufVxuY29uc3Qgc3R5bGVzID0gY3NzYDpob3N0ey0tY2FsY2l0ZS1pbnRlcm5hbC1jb2xvci1mb2N1czogdmFyKCAtLWNhbGNpdGUtY29sb3ItZm9jdXMsIHZhcigtLWNhbGNpdGUtdWktZm9jdXMtY29sb3IsIHZhcigtLWNhbGNpdGUtY29sb3ItYnJhbmQpKSApfTpob3N0e2Rpc3BsYXk6aW5saW5lLWZsZXg7Y29sb3I6dmFyKC0tY2FsY2l0ZS1pY29uLWNvbG9yLCB2YXIoLS1jYWxjaXRlLXVpLWljb24tY29sb3IsIGN1cnJlbnRDb2xvcikpfTpob3N0KFtzY2FsZT1zXSl7aW5saW5lLXNpemU6MTZweDtibG9jay1zaXplOjE2cHg7bWluLWlubGluZS1zaXplOjE2cHg7bWluLWJsb2NrLXNpemU6MTZweH06aG9zdChbc2NhbGU9bV0pe2lubGluZS1zaXplOjI0cHg7YmxvY2stc2l6ZToyNHB4O21pbi1pbmxpbmUtc2l6ZToyNHB4O21pbi1ibG9jay1zaXplOjI0cHh9Omhvc3QoW3NjYWxlPWxdKXtpbmxpbmUtc2l6ZTozMnB4O2Jsb2NrLXNpemU6MzJweDttaW4taW5saW5lLXNpemU6MzJweDttaW4tYmxvY2stc2l6ZTozMnB4fS5mbGlwLXJ0bHt0cmFuc2Zvcm06c2NhbGVYKC0xKX0uc3Zne2Rpc3BsYXk6YmxvY2t9Omhvc3QoW2hpZGRlbl0pe2Rpc3BsYXk6bm9uZX1baGlkZGVuXXtkaXNwbGF5Om5vbmV9YDtcbmNsYXNzIEljb24gZXh0ZW5kcyBMaXRFbGVtZW50IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICB0aGlzLnZpc2libGUgPSBmYWxzZTtcbiAgICB0aGlzLmZsaXBSdGwgPSBmYWxzZTtcbiAgICB0aGlzLmljb24gPSBudWxsO1xuICAgIHRoaXMucHJlbG9hZCA9IGZhbHNlO1xuICAgIHRoaXMuc2NhbGUgPSBcIm1cIjtcbiAgfVxuICBzdGF0aWMge1xuICAgIHRoaXMucHJvcGVydGllcyA9IHsgcGF0aERhdGE6IFsxNiwge30sIHsgc3RhdGU6IHRydWUgfV0sIHZpc2libGU6IFsxNiwge30sIHsgc3RhdGU6IHRydWUgfV0sIGZsaXBSdGw6IFs3LCB7fSwgeyByZWZsZWN0OiB0cnVlLCB0eXBlOiBCb29sZWFuIH1dLCBpY29uOiBbMywge30sIHsgcmVmbGVjdDogdHJ1ZSB9XSwgcHJlbG9hZDogWzcsIHt9LCB7IHJlZmxlY3Q6IHRydWUsIHR5cGU6IEJvb2xlYW4gfV0sIHNjYWxlOiBbMywge30sIHsgcmVmbGVjdDogdHJ1ZSB9XSwgdGV4dExhYmVsOiAxIH07XG4gIH1cbiAgc3RhdGljIHtcbiAgICB0aGlzLnN0eWxlcyA9IHN0eWxlcztcbiAgfVxuICBjb25uZWN0ZWRDYWxsYmFjaygpIHtcbiAgICBzdXBlci5jb25uZWN0ZWRDYWxsYmFjaygpO1xuICAgIGlmICh0aGlzLnByZWxvYWQpIHtcbiAgICAgIHRoaXMudmlzaWJsZSA9IHRydWU7XG4gICAgICB0aGlzLmxvYWRJY29uUGF0aERhdGEoKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKCF0aGlzLnZpc2libGUpIHtcbiAgICAgIHRoaXMud2FpdFVudGlsVmlzaWJsZSgoKSA9PiB7XG4gICAgICAgIHRoaXMudmlzaWJsZSA9IHRydWU7XG4gICAgICAgIHRoaXMubG9hZEljb25QYXRoRGF0YSgpO1xuICAgICAgfSk7XG4gICAgfVxuICB9XG4gIHdpbGxVcGRhdGUoY2hhbmdlcykge1xuICAgIGlmIChjaGFuZ2VzLmhhcyhcImljb25cIikgJiYgKHRoaXMuaGFzVXBkYXRlZCB8fCB0aGlzLmljb24gIT09IG51bGwpIHx8IGNoYW5nZXMuaGFzKFwic2NhbGVcIikgJiYgKHRoaXMuaGFzVXBkYXRlZCB8fCB0aGlzLnNjYWxlICE9PSBcIm1cIikpIHtcbiAgICAgIHRoaXMubG9hZEljb25QYXRoRGF0YSgpO1xuICAgIH1cbiAgfVxuICBkaXNjb25uZWN0ZWRDYWxsYmFjaygpIHtcbiAgICBzdXBlci5kaXNjb25uZWN0ZWRDYWxsYmFjaygpO1xuICAgIHRoaXMuaW50ZXJzZWN0aW9uT2JzZXJ2ZXI/LmRpc2Nvbm5lY3QoKTtcbiAgICB0aGlzLmludGVyc2VjdGlvbk9ic2VydmVyID0gbnVsbDtcbiAgfVxuICBhc3luYyBsb2FkSWNvblBhdGhEYXRhKCkge1xuICAgIGNvbnN0IHsgaWNvbiwgc2NhbGUsIHZpc2libGUgfSA9IHRoaXM7XG4gICAgaWYgKGlzU2VydmVyIHx8ICFpY29uIHx8ICF2aXNpYmxlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGZldGNoSWNvblByb3BzID0geyBpY29uLCBzY2FsZSB9O1xuICAgIGNvbnN0IHBhdGhEYXRhID0gZ2V0Q2FjaGVkSWNvbkRhdGEoZmV0Y2hJY29uUHJvcHMpIHx8IGF3YWl0IGZldGNoSWNvbihmZXRjaEljb25Qcm9wcyk7XG4gICAgaWYgKGljb24gIT09IHRoaXMuaWNvbikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLnBhdGhEYXRhID0gcGF0aERhdGE7XG4gIH1cbiAgd2FpdFVudGlsVmlzaWJsZShjYWxsYmFjaykge1xuICAgIHRoaXMuaW50ZXJzZWN0aW9uT2JzZXJ2ZXIgPSBjcmVhdGVPYnNlcnZlcihcImludGVyc2VjdGlvblwiLCAoZW50cmllcykgPT4ge1xuICAgICAgZW50cmllcy5mb3JFYWNoKChlbnRyeSkgPT4ge1xuICAgICAgICBpZiAoZW50cnkuaXNJbnRlcnNlY3RpbmcpIHtcbiAgICAgICAgICB0aGlzLmludGVyc2VjdGlvbk9ic2VydmVyLmRpc2Nvbm5lY3QoKTtcbiAgICAgICAgICB0aGlzLmludGVyc2VjdGlvbk9ic2VydmVyID0gbnVsbDtcbiAgICAgICAgICBjYWxsYmFjaygpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9LCB7IHJvb3RNYXJnaW46IFwiNTBweFwiIH0pO1xuICAgIGlmICghdGhpcy5pbnRlcnNlY3Rpb25PYnNlcnZlcikge1xuICAgICAgY2FsbGJhY2soKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5pbnRlcnNlY3Rpb25PYnNlcnZlci5vYnNlcnZlKHRoaXMuZWwpO1xuICB9XG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB7IGVsLCBmbGlwUnRsLCBwYXRoRGF0YSwgc2NhbGUsIHRleHRMYWJlbCB9ID0gdGhpcztcbiAgICBjb25zdCBkaXIgPSBnZXRFbGVtZW50RGlyKGVsKTtcbiAgICBjb25zdCBzaXplID0gc2NhbGVUb1B4W3NjYWxlXTtcbiAgICBjb25zdCBzZW1hbnRpYyA9ICEhdGV4dExhYmVsO1xuICAgIGNvbnN0IHBhdGhzID0gW10uY29uY2F0KHBhdGhEYXRhIHx8IFwiXCIpO1xuICAgIHRoaXMuZWwuYXJpYUhpZGRlbiA9IHRvQXJpYUJvb2xlYW4oIXNlbWFudGljKTtcbiAgICB0aGlzLmVsLmFyaWFMYWJlbCA9IHNlbWFudGljID8gdGV4dExhYmVsIDogbnVsbDtcbiAgICB0aGlzLmVsLnJvbGUgPSBzZW1hbnRpYyA/IFwiaW1nXCIgOiBudWxsO1xuICAgIHJldHVybiBodG1sYDxzdmcgYXJpYS1oaWRkZW49dHJ1ZSBjbGFzcz0ke3NhZmVDbGFzc01hcCh7XG4gICAgICBbQ1NTLmZsaXBSdGxdOiBkaXIgPT09IFwicnRsXCIgJiYgZmxpcFJ0bCxcbiAgICAgIFtDU1Muc3ZnXTogdHJ1ZVxuICAgIH0pfSBmaWxsPWN1cnJlbnRDb2xvciBoZWlnaHQ9MTAwJSB2aWV3Qm94PSR7YDAgMCAke3NpemV9ICR7c2l6ZX1gfSB3aWR0aD0xMDAlIHhtbG5zPWh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnPiR7cGF0aHMubWFwKChwYXRoKSA9PiB0eXBlb2YgcGF0aCA9PT0gXCJzdHJpbmdcIiA/IHN2Z2A8cGF0aCBkPSR7cGF0aCA/PyBub3RoaW5nfSAvPmAgOiBzdmdgPHBhdGggZD0ke3BhdGguZCA/PyBub3RoaW5nfSBvcGFjaXR5PSR7KFwib3BhY2l0eVwiIGluIHBhdGggPyBwYXRoLm9wYWNpdHkgOiAxKSA/PyBub3RoaW5nfSAvPmApfTwvc3ZnPmA7XG4gIH1cbn1cbmN1c3RvbUVsZW1lbnQoXCJjYWxjaXRlLWljb25cIiwgSWNvbik7XG5leHBvcnQge1xuICBJY29uXG59O1xuIiwiLyohIEFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9naXRodWIuY29tL0VzcmkvY2FsY2l0ZS1kZXNpZ24tc3lzdGVtL2Jsb2IvZGV2L0xJQ0VOU0UubWQgZm9yIGRldGFpbHMuXG52My4zLjMgKi9cbmltcG9ydCB7IGMgYXMgY3VzdG9tRWxlbWVudCB9IGZyb20gXCIuLi8uLi9jaHVua3MvcnVudGltZS5qc1wiO1xuaW1wb3J0IHsga2V5ZWQgfSBmcm9tIFwibGl0L2RpcmVjdGl2ZXMva2V5ZWQuanNcIjtcbmltcG9ydCB7IGNzcywgaHRtbCwgbm90aGluZyB9IGZyb20gXCJsaXRcIjtcbmltcG9ydCB7IGNyZWF0ZVJlZiwgcmVmIH0gZnJvbSBcImxpdC1odG1sL2RpcmVjdGl2ZXMvcmVmLmpzXCI7XG5pbXBvcnQgeyBMaXRFbGVtZW50LCBjcmVhdGVFdmVudCwgc2FmZUNsYXNzTWFwIH0gZnJvbSBcIkBhcmNnaXMvbHVtaW5hXCI7XG5pbXBvcnQgeyBhIGFzIHNsb3RDaGFuZ2VIYXNBc3NpZ25lZEVsZW1lbnQsIHggYXMgZ2V0Rmlyc3RUYWJiYWJsZSwgZyBhcyBnZXRFbGVtZW50RGlyIH0gZnJvbSBcIi4uLy4uL2NodW5rcy9kb20uanNcIjtcbmltcG9ydCB7IHUgYXMgdXBkYXRlSG9zdEludGVyYWN0aW9uLCBJIGFzIEludGVyYWN0aXZlQ29udGFpbmVyIH0gZnJvbSBcIi4uLy4uL2NodW5rcy9pbnRlcmFjdGl2ZS5qc1wiO1xuaW1wb3J0IHsgdSBhcyB1c2VUOW4gfSBmcm9tIFwiLi4vLi4vY2h1bmtzL3VzZVQ5bi5qc1wiO1xuaW1wb3J0IHsgZyBhcyBnZXRJY29uU2NhbGUgfSBmcm9tIFwiLi4vLi4vY2h1bmtzL2NvbXBvbmVudC5qc1wiO1xuaW1wb3J0IHsgbCBhcyBsb2dnZXIgfSBmcm9tIFwiLi4vLi4vY2h1bmtzL2xvZ2dlci5qc1wiO1xuaW1wb3J0IHsgcyBhcyBzdHlsZXMkMSB9IGZyb20gXCIuLi8uLi9jaHVua3MvX3NvcnRhYmxlLmpzXCI7XG5pbXBvcnQgeyB1IGFzIHVzZVNldEZvY3VzIH0gZnJvbSBcIi4uLy4uL2NodW5rcy91c2VTZXRGb2N1cy5qc1wiO1xuaW1wb3J0IHsgbCBhcyBsaXN0U2VsZWN0b3IsIGcgYXMgZ2V0RGVwdGgsIGEgYXMgZ2V0TGlzdEl0ZW1DaGlsZHJlbiB9IGZyb20gXCIuLi8uLi9jaHVua3MvdXRpbHMyLmpzXCI7XG5pbXBvcnQgeyBhIGFzIGFjdGl2ZUNlbGxUZXN0QXR0cmlidXRlLCBJIGFzIElDT05TLCBDIGFzIENTUywgUyBhcyBTTE9UUyB9IGZyb20gXCIuLi8uLi9jaHVua3MvcmVzb3VyY2VzNS5qc1wiO1xuY29uc3Qgc3R5bGVzID0gY3NzYDpob3N0ey0tY2FsY2l0ZS1pbnRlcm5hbC1jb2xvci1mb2N1czogdmFyKCAtLWNhbGNpdGUtY29sb3ItZm9jdXMsIHZhcigtLWNhbGNpdGUtdWktZm9jdXMtY29sb3IsIHZhcigtLWNhbGNpdGUtY29sb3ItYnJhbmQpKSApfTpob3N0KFtkaXNhYmxlZF0pe2N1cnNvcjpkZWZhdWx0Oy13ZWJraXQtdXNlci1zZWxlY3Q6bm9uZTt1c2VyLXNlbGVjdDpub25lO29wYWNpdHk6dmFyKC0tY2FsY2l0ZS1vcGFjaXR5LWRpc2FibGVkKX06aG9zdChbZGlzYWJsZWRdKSAqLDpob3N0KFtkaXNhYmxlZF0pIDo6c2xvdHRlZCgqKXtwb2ludGVyLWV2ZW50czpub25lfTpob3N0e2Rpc3BsYXk6ZmxleDtmbGV4LWRpcmVjdGlvbjpjb2x1bW59Omhvc3QoW2ZpbHRlci1oaWRkZW5dKSw6aG9zdChbY2xvc2VkXSl7ZGlzcGxheTpub25lfS53cmFwcGVyLS1ib3JkZXJlZHtib3JkZXItYmxvY2stZW5kOjFweCBzb2xpZCB2YXIoLS1jYWxjaXRlLWxpc3QtYm9yZGVyLWNvbG9yLCB2YXIoLS1jYWxjaXRlLWNvbG9yLWJvcmRlci0zKSl9Omhvc3QoW2Rpc2FibGVkXSkgOjpzbG90dGVkKFtjYWxjaXRlLWh5ZHJhdGVkXVtkaXNhYmxlZF0pLDpob3N0KFtkaXNhYmxlZF0pIFtjYWxjaXRlLWh5ZHJhdGVkXVtkaXNhYmxlZF17b3BhY2l0eToxfS5pbnRlcmFjdGlvbi1jb250YWluZXJ7ZGlzcGxheTpjb250ZW50c30uY29udGFpbmVye2JveC1zaXppbmc6Ym9yZGVyLWJveDtkaXNwbGF5OmZsZXg7ZmxleDoxIDEgMCU7b3ZlcmZsb3c6aGlkZGVuO2JhY2tncm91bmQtY29sb3I6dmFyKC0tY2FsY2l0ZS1saXN0LWJhY2tncm91bmQtY29sb3IsIHZhcigtLWNhbGNpdGUtY29sb3ItZm9yZWdyb3VuZC0xKSl9LmNvbnRhaW5lciAqe2JveC1zaXppbmc6Ym9yZGVyLWJveH0uY29udGFpbmVyLS1ob3Zlcjpob3ZlcntjdXJzb3I6cG9pbnRlcjtiYWNrZ3JvdW5kLWNvbG9yOnZhcigtLWNhbGNpdGUtbGlzdC1iYWNrZ3JvdW5kLWNvbG9yLWhvdmVyLCB2YXIoLS1jYWxjaXRlLWNvbG9yLWZvcmVncm91bmQtMikpfS5jb250YWluZXI6YWN0aXZle2JhY2tncm91bmQtY29sb3I6dmFyKC0tY2FsY2l0ZS1saXN0LWJhY2tncm91bmQtY29sb3ItcHJlc3MsIHZhcigtLWNhbGNpdGUtY29sb3ItZm9yZWdyb3VuZC0zKSl9LmNvbnRhaW5lci0tYm9yZGVye3Bvc2l0aW9uOnJlbGF0aXZlfS5jb250YWluZXItLWJvcmRlcjpiZWZvcmV7cG9zaXRpb246YWJzb2x1dGU7aW5saW5lLXNpemU6dmFyKC0tY2FsY2l0ZS1ib3JkZXItd2lkdGgtbGcpO2luc2V0LWJsb2NrOjA7aW5zZXQtaW5saW5lLXN0YXJ0OjA7YmFja2dyb3VuZC1jb2xvcjp0cmFuc3BhcmVudDtjb250ZW50OlwiXCJ9LmNvbnRhaW5lci0tYm9yZGVyLXNlbGVjdGVkOmJlZm9yZXtiYWNrZ3JvdW5kLWNvbG9yOnZhcigtLWNhbGNpdGUtbGlzdC1zZWxlY3Rpb24tYm9yZGVyLWNvbG9yLCB2YXIoLS1jYWxjaXRlLWNvbG9yLWJyYW5kKSl9LmNvbnRhaW5lci0tYm9yZGVyLXNlbGVjdGVkOmZvY3Vze2JveC1zaGFkb3c6aW5zZXQgdmFyKC0tY2FsY2l0ZS1ib3JkZXItd2lkdGgtbGcpIDAgMCAwIHZhcigtLWNhbGNpdGUtbGlzdC1zZWxlY3Rpb24tYm9yZGVyLWNvbG9yLCB2YXIoLS1jYWxjaXRlLWNvbG9yLWJyYW5kKSl9Lm5lc3RlZC1jb250YWluZXJ7ZGlzcGxheTpub25lO2ZsZXgtZGlyZWN0aW9uOmNvbHVtbjtib3JkZXItd2lkdGg6MHB4O2JvcmRlci1zdHlsZTpzb2xpZDtib3JkZXItY29sb3I6MXB4IHNvbGlkIHZhcigtLWNhbGNpdGUtbGlzdC1ib3JkZXItY29sb3IsIHZhcigtLWNhbGNpdGUtY29sb3ItYm9yZGVyLTMpKTttYXJnaW4taW5saW5lLXN0YXJ0OnZhcigtLWNhbGNpdGUtbGlzdC1zcGFjaW5nLWluZGVudCwgMS41cmVtKX0ubmVzdGVkLWNvbnRhaW5lci0tZXhwYW5kZWR7ZGlzcGxheTpmbGV4fS5zZWxlY3Rpb24tY29udGFpbmVye2Rpc3BsYXk6ZmxleDtwYWRkaW5nLWJsb2NrOjBweDtjb2xvcjp2YXIoLS1jYWxjaXRlLWxpc3QtaWNvbi1jb2xvciwgdmFyKC0tY2FsY2l0ZS1jb2xvci1ib3JkZXItaW5wdXQpKX06aG9zdCg6bm90KFtkaXNhYmxlZF0pOm5vdChbc2VsZWN0ZWRdKSkgLmNvbnRhaW5lcjpob3ZlciAuc2VsZWN0aW9uLWNvbnRhaW5lci0tc2luZ2xle2NvbG9yOnZhcigtLWNhbGNpdGUtbGlzdC1pY29uLWNvbG9yLCB2YXIoLS1jYWxjaXRlLWNvbG9yLWJvcmRlci1pbnB1dCkpfTpob3N0KFtzZWxlY3RlZF06aG92ZXIpIC5zZWxlY3Rpb24tY29udGFpbmVyLDpob3N0KFtzZWxlY3RlZF06aG92ZXIpIC5zZWxlY3Rpb24tY29udGFpbmVyLS1zaW5nbGUsOmhvc3QoW3NlbGVjdGVkXSkgLnNlbGVjdGlvbi1jb250YWluZXJ7Y29sb3I6dmFyKC0tY2FsY2l0ZS1saXN0LWljb24tY29sb3IsIHZhcigtLWNhbGNpdGUtY29sb3ItYnJhbmQpKX0uY29udGVudC1jb250YWluZXItd3JhcHBlcntkaXNwbGF5OmZsZXg7ZmxleDoxIDEgYXV0b30uY29udGVudC1jb250YWluZXItd3JhcHBlci0tYm9yZGVyZWR7Ym9yZGVyLWJsb2NrLWVuZDoxcHggc29saWQgdmFyKC0tY2FsY2l0ZS1saXN0LWJvcmRlci1jb2xvciwgdmFyKC0tY2FsY2l0ZS1jb2xvci1ib3JkZXItMykpfS5jb250ZW50LWNvbnRhaW5lcntkaXNwbGF5OmZsZXg7ZmxleDoxIDEgYXV0bzstd2Via2l0LXVzZXItc2VsZWN0Om5vbmU7dXNlci1zZWxlY3Q6bm9uZTthbGlnbi1pdGVtczpzdHJldGNoO2ZvbnQtd2VpZ2h0OnZhcigtLWNhbGNpdGUtZm9udC13ZWlnaHQtbm9ybWFsKTtjb2xvcjp2YXIoLS1jYWxjaXRlLWxpc3QtY29udGVudC10ZXh0LWNvbG9yLCB2YXIoLS1jYWxjaXRlLWNvbG9yLXRleHQtMikpfS5jb250ZW50LWNvbnRhaW5lci0tdW5hdmFpbGFibGV7b3BhY2l0eTp2YXIoLS1jYWxjaXRlLW9wYWNpdHktZGlzYWJsZWQpfS5yb3csLmdyaWQtY2VsbHtvdXRsaW5lLWNvbG9yOnRyYW5zcGFyZW50fS5yb3d7cG9zaXRpb246cmVsYXRpdmV9LnJvdzpmb2N1cywuZ3JpZC1jZWxsOmZvY3Vze291dGxpbmU6dmFyKC0tY2FsY2l0ZS1ib3JkZXItd2lkdGgtbWQpIHNvbGlkIHZhcigtLWNhbGNpdGUtY29sb3ItZm9jdXMsIHZhcigtLWNhbGNpdGUtdWktZm9jdXMtY29sb3IsIHZhcigtLWNhbGNpdGUtY29sb3ItYnJhbmQpKSk7b3V0bGluZTp2YXIoLS1jYWxjaXRlLWJvcmRlci13aWR0aC1tZCkgc29saWQgdmFyKC0tY2FsY2l0ZS1pbnRlcm5hbC1jb2xvci1mb2N1cyk7b3V0bGluZS1vZmZzZXQ6Y2FsYyhjYWxjKC0xICogdmFyKC0tY2FsY2l0ZS1zcGFjaW5nLWJhc2UpKSAqIGNhbGMoMSAtICgyKmNsYW1wKDAsdmFyKC0tY2FsY2l0ZS1vZmZzZXQtaW52ZXJ0LWZvY3VzKSwxKSkpKX0uY29udGVudCwuY3VzdG9tLWNvbnRlbnR7ZGlzcGxheTpmbGV4O2ZsZXg6MSAxIGF1dG87ZmxleC1kaXJlY3Rpb246Y29sdW1uO2p1c3RpZnktY29udGVudDpjZW50ZXI7bGluZS1oZWlnaHQ6dmFyKC0tY2FsY2l0ZS1mb250LWxpbmUtaGVpZ2h0LXJlbGF0aXZlLXNudWcpfS5sYWJlbHtjb2xvcjp2YXIoLS1jYWxjaXRlLWxpc3QtbGFiZWwtdGV4dC1jb2xvciwgdmFyKC0tY2FsY2l0ZS1jb2xvci10ZXh0LTEpKX0uZGVzY3JpcHRpb257Y29sb3I6dmFyKC0tY2FsY2l0ZS1saXN0LWRlc2NyaXB0aW9uLXRleHQtY29sb3IsIHZhcigtLWNhbGNpdGUtY29sb3ItdGV4dC0zKSl9Lmljb257YWxpZ24tc2VsZjpjZW50ZXI7Y29sb3I6dmFyKC0tY2FsY2l0ZS1saXN0LWljb24tY29sb3IsIHZhcigtLWNhbGNpdGUtY29sb3ItdGV4dC0zKSl9Lmljb246aG92ZXIsLmljb246YWN0aXZle2NvbG9yOnZhcigtLWNhbGNpdGUtY29sb3ItdGV4dC0xKX06aG9zdChbZGlzcGxheS1tb2RlPWZsYXRdW2RyYWctaGFuZGxlXTppcyhbc2VsZWN0aW9uLW1vZGU9bm9uZV0sW3NlbGVjdGlvbi1hcHBlYXJhbmNlPWJvcmRlcl0pKSAuZHJhZy1jb250YWluZXJ7cGFkZGluZy1pbmxpbmUtZW5kOnZhcigtLWNhbGNpdGUtc3BhY2luZy14eHMpfTpob3N0KFtzY2FsZT1zXSkgLmFjdGlvbnMtc3RhcnR7cGFkZGluZy1pbmxpbmUtZW5kOnZhcigtLWNhbGNpdGUtc3BhY2luZy1zbSl9Omhvc3QoW3NjYWxlPXNdKSAuY29udGVudC1jb250YWluZXJ7Z2FwOnZhcigtLWNhbGNpdGUtc3BhY2luZy1zbSk7bWluLWJsb2NrLXNpemU6MzJweDtwYWRkaW5nLWJsb2NrOnZhcigtLWNhbGNpdGUtc3BhY2luZy14eHMpO3BhZGRpbmctaW5saW5lLWVuZDp2YXIoLS1jYWxjaXRlLXNwYWNpbmctc20pfTpob3N0KFtzY2FsZT1zXSkgLmNvbnRlbnQsOmhvc3QoW3NjYWxlPXNdKSAuY3VzdG9tLWNvbnRlbnQsOmhvc3QoW3NjYWxlPXNdKSAubGFiZWx7Zm9udC1zaXplOnZhcigtLWNhbGNpdGUtZm9udC1zaXplLS0yKX06aG9zdChbc2NhbGU9c10pIC5kZXNjcmlwdGlvbntmb250LXNpemU6dmFyKC0tY2FsY2l0ZS1mb250LXNpemUtLTMpfTpob3N0KFtzY2FsZT1zXVtkaXNwbGF5LW1vZGU9ZmxhdF06bm90KFtkcmFnLWhhbmRsZV0pKSAuY29udGFpbmVye3BhZGRpbmctaW5saW5lLXN0YXJ0OnZhcigtLWNhbGNpdGUtc3BhY2luZy1zbSl9Omhvc3QoW3NjYWxlPXNdW2Rpc3BsYXktbW9kZT1mbGF0XTpub3QoW2RyYWctaGFuZGxlXSkpIC5zZWxlY3Rpb24tY29udGFpbmVye3BhZGRpbmctaW5saW5lLWVuZDp2YXIoLS1jYWxjaXRlLXNwYWNpbmctc20pfTpob3N0KFtzY2FsZT1zXVtkaXNwbGF5LW1vZGU9ZmxhdF1bZHJhZy1oYW5kbGVdKSAuc2VsZWN0aW9uLWNvbnRhaW5lcntwYWRkaW5nLWlubGluZTp2YXIoLS1jYWxjaXRlLXNwYWNpbmcteHhzKSB2YXIoLS1jYWxjaXRlLXNwYWNpbmctc20pfTpob3N0KFtzY2FsZT1zXVtkaXNwbGF5LW1vZGU9bmVzdGVkXSkgLnNlbGVjdGlvbi1jb250YWluZXJ7cGFkZGluZy1pbmxpbmUtZW5kOnZhcigtLWNhbGNpdGUtc3BhY2luZy14eHMpfTpob3N0KFtzY2FsZT1zXVtkaXNwbGF5LW1vZGU9bmVzdGVkXVtzZWxlY3Rpb24tYXBwZWFyYW5jZT1pY29uXTpub3QoW3NlbGVjdGlvbi1tb2RlPW5vbmVdKTpub3QoW2RyYWctaGFuZGxlXSkpIC5jb250YWluZXJ7cGFkZGluZy1pbmxpbmUtc3RhcnQ6dmFyKC0tY2FsY2l0ZS1zcGFjaW5nLXNtKX06aG9zdChbc2NhbGU9c11bZGlzcGxheS1tb2RlPW5lc3RlZF1bc2VsZWN0aW9uLWFwcGVhcmFuY2U9aWNvbl06bm90KFtzZWxlY3Rpb24tbW9kZT1ub25lXSk6bm90KFtkcmFnLWhhbmRsZV0pKSAuc2VsZWN0aW9uLWNvbnRhaW5lcntwYWRkaW5nLWlubGluZS1lbmQ6dmFyKC0tY2FsY2l0ZS1zcGFjaW5nLXh4cyl9Omhvc3QoW3NjYWxlPXNdW2Rpc3BsYXktbW9kZT1uZXN0ZWRdW2RyYWctaGFuZGxlXSkgLnNlbGVjdGlvbi1jb250YWluZXJ7cGFkZGluZy1pbmxpbmU6dmFyKC0tY2FsY2l0ZS1zcGFjaW5nLXh4cyl9Omhvc3QoW3NjYWxlPW1dKSAuYWN0aW9ucy1zdGFydHtwYWRkaW5nLWlubGluZS1lbmQ6dmFyKC0tY2FsY2l0ZS1zcGFjaW5nLXNtKX06aG9zdChbc2NhbGU9bV0pIC5jb250ZW50LWNvbnRhaW5lcntnYXA6dmFyKC0tY2FsY2l0ZS1zcGFjaW5nLXNtKTttaW4tYmxvY2stc2l6ZTo0MHB4O3BhZGRpbmctYmxvY2s6dmFyKC0tY2FsY2l0ZS1zcGFjaW5nLXNtKTtwYWRkaW5nLWlubGluZS1lbmQ6dmFyKC0tY2FsY2l0ZS1zcGFjaW5nLW1kKX06aG9zdChbc2NhbGU9bV0pIC5jb250ZW50LDpob3N0KFtzY2FsZT1tXSkgLmN1c3RvbS1jb250ZW50e2ZvbnQtc2l6ZTp2YXIoLS1jYWxjaXRlLWZvbnQtc2l6ZS0tMil9Omhvc3QoW3NjYWxlPW1dKSAubGFiZWx7Zm9udC1zaXplOnZhcigtLWNhbGNpdGUtZm9udC1zaXplLS0xKX06aG9zdChbc2NhbGU9bV0pIC5kZXNjcmlwdGlvbntmb250LXNpemU6dmFyKC0tY2FsY2l0ZS1mb250LXNpemUtLTIpfTpob3N0KFtzY2FsZT1tXVtkaXNwbGF5LW1vZGU9ZmxhdF0pIC5jb250YWluZXJ7cGFkZGluZy1pbmxpbmUtc3RhcnQ6dmFyKC0tY2FsY2l0ZS1zcGFjaW5nLW1kKX06aG9zdChbc2NhbGU9bV1bZGlzcGxheS1tb2RlPWZsYXRdKSAuc2VsZWN0aW9uLWNvbnRhaW5lcntwYWRkaW5nLWlubGluZS1lbmQ6dmFyKC0tY2FsY2l0ZS1zcGFjaW5nLXNtKX06aG9zdChbc2NhbGU9bV1bZGlzcGxheS1tb2RlPWZsYXRdW2RyYWctaGFuZGxlXSkgLmNvbnRhaW5lcntwYWRkaW5nLWlubGluZS1zdGFydDowfTpob3N0KFtzY2FsZT1tXVtkaXNwbGF5LW1vZGU9ZmxhdF1bZHJhZy1oYW5kbGVdKSAuc2VsZWN0aW9uLWNvbnRhaW5lcntwYWRkaW5nLWlubGluZTp2YXIoLS1jYWxjaXRlLXNwYWNpbmcteHhzKSB2YXIoLS1jYWxjaXRlLXNwYWNpbmctc20pfTpob3N0KFtzY2FsZT1tXVtkaXNwbGF5LW1vZGU9bmVzdGVkXSkgLmNvbnRhaW5lcntwYWRkaW5nLWlubGluZS1zdGFydDp2YXIoLS1jYWxjaXRlLXNwYWNpbmcteHhzKX06aG9zdChbc2NhbGU9bV1bZGlzcGxheS1tb2RlPW5lc3RlZF0pIC5zZWxlY3Rpb24tY29udGFpbmVye3BhZGRpbmctaW5saW5lLWVuZDp2YXIoLS1jYWxjaXRlLXNwYWNpbmcteHhzKX06aG9zdChbc2NhbGU9bV1bZGlzcGxheS1tb2RlPW5lc3RlZF1bc2VsZWN0aW9uLWFwcGVhcmFuY2U9aWNvbl06bm90KFtzZWxlY3Rpb24tbW9kZT1ub25lXSk6bm90KFtkcmFnLWhhbmRsZV0pKSAuY29udGFpbmVye3BhZGRpbmctaW5saW5lLXN0YXJ0OnZhcigtLWNhbGNpdGUtc3BhY2luZy1tZCl9Omhvc3QoW3NjYWxlPW1dW2Rpc3BsYXktbW9kZT1uZXN0ZWRdW2RyYWctaGFuZGxlXSkgLmNvbnRhaW5lcntwYWRkaW5nLWlubGluZS1zdGFydDowfTpob3N0KFtzY2FsZT1tXVtkaXNwbGF5LW1vZGU9bmVzdGVkXVtkcmFnLWhhbmRsZV0pIC5zZWxlY3Rpb24tY29udGFpbmVye3BhZGRpbmctaW5saW5lOnZhcigtLWNhbGNpdGUtc3BhY2luZy14eHMpfTpob3N0KFtzY2FsZT1sXSkgLmFjdGlvbnMtc3RhcnR7cGFkZGluZy1pbmxpbmUtZW5kOnZhcigtLWNhbGNpdGUtc3BhY2luZy1tZCl9Omhvc3QoW3NjYWxlPWxdKSAuY29udGVudC1jb250YWluZXJ7Z2FwOnZhcigtLWNhbGNpdGUtc3BhY2luZy1tZCk7bWluLWJsb2NrLXNpemU6NTZweDtwYWRkaW5nLWJsb2NrOi42MjVyZW07cGFkZGluZy1pbmxpbmUtZW5kOnZhcigtLWNhbGNpdGUtc3BhY2luZy1sZyl9Omhvc3QoW3NjYWxlPWxdKSAuY29udGVudCw6aG9zdChbc2NhbGU9bF0pIC5jdXN0b20tY29udGVudCw6aG9zdChbc2NhbGU9bF0pIC5sYWJlbHtmb250LXNpemU6dmFyKC0tY2FsY2l0ZS1mb250LXNpemUtMCl9Omhvc3QoW3NjYWxlPWxdKSAuZGVzY3JpcHRpb257Zm9udC1zaXplOnZhcigtLWNhbGNpdGUtZm9udC1zaXplLS0xKX06aG9zdChbc2NhbGU9bF0pIC5uZXN0ZWQtY29udGFpbmVye21hcmdpbi1pbmxpbmUtc3RhcnQ6MS43NXJlbX06aG9zdChbc2NhbGU9bF1bZGlzcGxheS1tb2RlPWZsYXRdKSAuY29udGFpbmVye3BhZGRpbmctaW5saW5lLXN0YXJ0OnZhcigtLWNhbGNpdGUtc3BhY2luZy1sZyl9Omhvc3QoW3NjYWxlPWxdW2Rpc3BsYXktbW9kZT1mbGF0XSkgLnNlbGVjdGlvbi1jb250YWluZXJ7cGFkZGluZy1pbmxpbmUtZW5kOnZhcigtLWNhbGNpdGUtc3BhY2luZy1tZCl9Omhvc3QoW3NjYWxlPWxdW2Rpc3BsYXktbW9kZT1mbGF0XVtkcmFnLWhhbmRsZV0pIC5jb250YWluZXJ7cGFkZGluZy1pbmxpbmUtc3RhcnQ6MH06aG9zdChbc2NhbGU9bF1bZGlzcGxheS1tb2RlPWZsYXRdW2RyYWctaGFuZGxlXSkgLnNlbGVjdGlvbi1jb250YWluZXJ7cGFkZGluZy1pbmxpbmUtZW5kOnZhcigtLWNhbGNpdGUtc3BhY2luZy1tZCl9Omhvc3QoW3NjYWxlPWxdW2Rpc3BsYXktbW9kZT1uZXN0ZWRdKSAuY29udGFpbmVye3BhZGRpbmctaW5saW5lLXN0YXJ0OnZhcigtLWNhbGNpdGUtc3BhY2luZy14eHMpfTpob3N0KFtzY2FsZT1sXVtkaXNwbGF5LW1vZGU9bmVzdGVkXVtkcmFnLWhhbmRsZV0pIC5jb250YWluZXJ7cGFkZGluZy1pbmxpbmUtc3RhcnQ6MH06aG9zdChbc2NhbGU9bF1bZGlzcGxheS1tb2RlPW5lc3RlZF1bc2VsZWN0aW9uLWFwcGVhcmFuY2U9aWNvbl06bm90KFtzZWxlY3Rpb24tbW9kZT1ub25lXSk6bm90KFtkcmFnLWhhbmRsZV0pKSAuY29udGFpbmVye3BhZGRpbmctaW5saW5lLXN0YXJ0OnZhcigtLWNhbGNpdGUtc3BhY2luZy1sZyl9LmxhYmVsLC5kZXNjcmlwdGlvbiwuY29udGVudC1ib3R0b217Zm9udC1mYW1pbHk6dmFyKC0tY2FsY2l0ZS1mb250LWZhbWlseSk7Zm9udC13ZWlnaHQ6dmFyKC0tY2FsY2l0ZS1mb250LXdlaWdodC1ub3JtYWwpO3dvcmQtd3JhcDpicmVhay13b3JkO3dvcmQtYnJlYWs6YnJlYWstd29yZH06aG9zdChbc2VsZWN0ZWRdKSAubGFiZWx7Zm9udC13ZWlnaHQ6dmFyKC0tY2FsY2l0ZS1mb250LXdlaWdodC1tZWRpdW0pfTpob3N0KFtzZWxlY3RlZF0pIC5pY29ue2NvbG9yOnZhcigtLWNhbGNpdGUtbGlzdC1pY29uLWNvbG9yLCB2YXIoLS1jYWxjaXRlLWNvbG9yLXRleHQtMSkpfTpob3N0KFtzZWxlY3RlZF0pIC5kZXNjcmlwdGlvbntjb2xvcjp2YXIoLS1jYWxjaXRlLWxpc3QtZGVzY3JpcHRpb24tdGV4dC1jb2xvciwgdmFyKC0tY2FsY2l0ZS1jb2xvci10ZXh0LTIpKX0uY29udGVudC1zdGFydHtqdXN0aWZ5LWNvbnRlbnQ6ZmxleC1zdGFydH0uY29udGVudC1lbmR7anVzdGlmeS1jb250ZW50OmZsZXgtZW5kfS5jb250ZW50LXN0YXJ0LC5jb250ZW50LWVuZHtmbGV4OjEgMSBhdXRvfS5jb250ZW50LXN0YXJ0IDo6c2xvdHRlZChjYWxjaXRlLWljb24pLC5jb250ZW50LWVuZCA6OnNsb3R0ZWQoY2FsY2l0ZS1pY29uKXthbGlnbi1zZWxmOmNlbnRlcn0uY29udGVudC1ib3R0b217ZGlzcGxheTpmbGV4O2ZsZXgtZGlyZWN0aW9uOmNvbHVtbn0uY29udGVudC1jb250YWluZXItLWhhcy1jZW50ZXItY29udGVudCAuY29udGVudC1zdGFydCwuY29udGVudC1jb250YWluZXItLWhhcy1jZW50ZXItY29udGVudCAuY29udGVudC1lbmR7ZmxleDowIDEgYXV0b30uZXhwYW5kZWQtY29udGFpbmVye2NvbG9yOnZhcigtLWNhbGNpdGUtbGlzdC1pY29uLWNvbG9yLCB2YXIoLS1jYWxjaXRlLWNvbG9yLXRleHQtMykpO3BhZGRpbmctaW5saW5lOnZhcigtLWNhbGNpdGUtc3BhY2luZy14eHMpfTpob3N0KDpub3QoW2Rpc2FibGVkXSkpIC5leHBhbmRlZC1jb250YWluZXI6aG92ZXJ7Y29sb3I6dmFyKC0tY2FsY2l0ZS1saXN0LWljb24tY29sb3IsIHZhcigtLWNhbGNpdGUtY29sb3ItdGV4dC0xKSl9LmFjdGlvbnMtc3RhcnQsLmFjdGlvbnMtZW5kLC5jb250ZW50LXN0YXJ0LC5jb250ZW50LWVuZCwuc2VsZWN0aW9uLWNvbnRhaW5lciwuZHJhZy1jb250YWluZXIsLmV4cGFuZGVkLWNvbnRhaW5lcntkaXNwbGF5OmZsZXg7YWxpZ24taXRlbXM6Y2VudGVyfS5hY3Rpb25zLXN0YXJ0IGNhbGNpdGUtYWN0aW9uLC5hY3Rpb25zLXN0YXJ0IGNhbGNpdGUtc29ydC1oYW5kbGUsLmFjdGlvbnMtZW5kIGNhbGNpdGUtYWN0aW9uLC5hY3Rpb25zLWVuZCBjYWxjaXRlLXNvcnQtaGFuZGxlLC5jb250ZW50LXN0YXJ0IGNhbGNpdGUtYWN0aW9uLC5jb250ZW50LXN0YXJ0IGNhbGNpdGUtc29ydC1oYW5kbGUsLmNvbnRlbnQtZW5kIGNhbGNpdGUtYWN0aW9uLC5jb250ZW50LWVuZCBjYWxjaXRlLXNvcnQtaGFuZGxlLC5zZWxlY3Rpb24tY29udGFpbmVyIGNhbGNpdGUtYWN0aW9uLC5zZWxlY3Rpb24tY29udGFpbmVyIGNhbGNpdGUtc29ydC1oYW5kbGUsLmRyYWctY29udGFpbmVyIGNhbGNpdGUtYWN0aW9uLC5kcmFnLWNvbnRhaW5lciBjYWxjaXRlLXNvcnQtaGFuZGxlLC5leHBhbmRlZC1jb250YWluZXIgY2FsY2l0ZS1hY3Rpb24sLmV4cGFuZGVkLWNvbnRhaW5lciBjYWxjaXRlLXNvcnQtaGFuZGxle2FsaWduLXNlbGY6c3RyZXRjaH0uZHJhZy1jb250YWluZXIsLnNlbGVjdGlvbi1jb250YWluZXIsLmV4cGFuZGVkLWNvbnRhaW5lcntwYWRkaW5nLWJsb2NrLWVuZDp2YXIoLS1jYWxjaXRlLXNwYWNpbmctcHgpfS5leHBhbmRlZC1jb250YWluZXIsLnNlbGVjdGlvbi1jb250YWluZXJ7Y3Vyc29yOnBvaW50ZXJ9LmFjdGlvbnMtc3RhcnQsLmFjdGlvbnMtZW5ke3Bvc2l0aW9uOnJlbGF0aXZlO3BhZGRpbmc6MH0uYWN0aW9ucy1zdGFydCA6OnNsb3R0ZWQoY2FsY2l0ZS1hY3Rpb24pLC5hY3Rpb25zLXN0YXJ0IDo6c2xvdHRlZChjYWxjaXRlLWFjdGlvbi1tZW51KSwuYWN0aW9ucy1zdGFydCA6OnNsb3R0ZWQoY2FsY2l0ZS1zb3J0LWhhbmRsZSksLmFjdGlvbnMtc3RhcnQgOjpzbG90dGVkKGNhbGNpdGUtZHJvcGRvd24pLC5hY3Rpb25zLWVuZCA6OnNsb3R0ZWQoY2FsY2l0ZS1hY3Rpb24pLC5hY3Rpb25zLWVuZCA6OnNsb3R0ZWQoY2FsY2l0ZS1hY3Rpb24tbWVudSksLmFjdGlvbnMtZW5kIDo6c2xvdHRlZChjYWxjaXRlLXNvcnQtaGFuZGxlKSwuYWN0aW9ucy1lbmQgOjpzbG90dGVkKGNhbGNpdGUtZHJvcGRvd24pe2FsaWduLXNlbGY6c3RyZXRjaDtjb2xvcjppbmhlcml0fS5yb3c6Zm9jdXMgLmFjdGlvbnMtc3RhcnQsLnJvdzpmb2N1cyAuYWN0aW9ucy1lbmR7aW5zZXQtYmxvY2s6LjEyNXJlbX0ucm93OmZvY3VzIC5hY3Rpb25zLXN0YXJ0IC5jbG9zZSwucm93OmZvY3VzIC5hY3Rpb25zLXN0YXJ0IDo6c2xvdHRlZChjYWxjaXRlLWFjdGlvbiksLnJvdzpmb2N1cyAuYWN0aW9ucy1zdGFydCA6OnNsb3R0ZWQoY2FsY2l0ZS1hY3Rpb24tbWVudSksLnJvdzpmb2N1cyAuYWN0aW9ucy1zdGFydCA6OnNsb3R0ZWQoY2FsY2l0ZS1zb3J0LWhhbmRsZSksLnJvdzpmb2N1cyAuYWN0aW9ucy1zdGFydCA6OnNsb3R0ZWQoY2FsY2l0ZS1kcm9wZG93biksLnJvdzpmb2N1cyAuYWN0aW9ucy1lbmQgLmNsb3NlLC5yb3c6Zm9jdXMgLmFjdGlvbnMtZW5kIDo6c2xvdHRlZChjYWxjaXRlLWFjdGlvbiksLnJvdzpmb2N1cyAuYWN0aW9ucy1lbmQgOjpzbG90dGVkKGNhbGNpdGUtYWN0aW9uLW1lbnUpLC5yb3c6Zm9jdXMgLmFjdGlvbnMtZW5kIDo6c2xvdHRlZChjYWxjaXRlLXNvcnQtaGFuZGxlKSwucm93OmZvY3VzIC5hY3Rpb25zLWVuZCA6OnNsb3R0ZWQoY2FsY2l0ZS1kcm9wZG93bil7YmxvY2stc2l6ZTpjYWxjKDEwMCUgLSAuMjVyZW0pfS5yb3c6Zm9jdXM6YWZ0ZXIsLnJvdzpmb2N1czpiZWZvcmV7cG9zaXRpb246YWJzb2x1dGU7Y29udGVudDpcIlwiO2lubGluZS1zaXplOi4xMjVyZW07ei1pbmRleDp2YXIoLS1jYWxjaXRlLXotaW5kZXgtaGVhZGVyKTtiYWNrZ3JvdW5kLWNvbG9yOnZhcigtLWNhbGNpdGUtY29sb3ItZm9jdXMsIHZhcigtLWNhbGNpdGUtdWktZm9jdXMtY29sb3IsIHZhcigtLWNhbGNpdGUtY29sb3ItYnJhbmQpKSk7aW5zZXQtYmxvY2s6MH0ucm93OmZvY3VzOmJlZm9yZXtpbnNldC1pbmxpbmUtc3RhcnQ6MH0ucm93OmZvY3VzOmFmdGVye2luc2V0LWlubGluZS1lbmQ6MH0uY29udGFpbmVyLS1ib3JkZXI6Zm9jdXM6YmVmb3Jle2Rpc3BsYXk6bm9uZX06OnNsb3R0ZWQoY2FsY2l0ZS1saXN0OmVtcHR5KXtib3JkZXItYmxvY2stc3RhcnQtd2lkdGg6MHB4fTpob3N0KFtoaWRkZW5dKXtkaXNwbGF5Om5vbmV9W2hpZGRlbl17ZGlzcGxheTpub25lfWA7XG5jb25zdCBmb2N1c01hcCA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCk7XG5jbGFzcyBMaXN0SXRlbSBleHRlbmRzIExpdEVsZW1lbnQge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMuYWN0aW9uc0VuZFJlZiA9IGNyZWF0ZVJlZigpO1xuICAgIHRoaXMuYWN0aW9uc1N0YXJ0UmVmID0gY3JlYXRlUmVmKCk7XG4gICAgdGhpcy5jb250YWluZXJSZWYgPSBjcmVhdGVSZWYoKTtcbiAgICB0aGlzLmNvbnRlbnRSZWYgPSBjcmVhdGVSZWYoKTtcbiAgICB0aGlzLmRlZmF1bHRTbG90UmVmID0gY3JlYXRlUmVmKCk7XG4gICAgdGhpcy5oYW5kbGVHcmlkUmVmID0gY3JlYXRlUmVmKCk7XG4gICAgdGhpcy5tZXNzYWdlcyA9IHVzZVQ5bigpO1xuICAgIHRoaXMuZm9jdXNTZXR0ZXIgPSB1c2VTZXRGb2N1cygpKHRoaXMpO1xuICAgIHRoaXMuaGFzQWN0aW9uc0VuZCA9IGZhbHNlO1xuICAgIHRoaXMuaGFzQWN0aW9uc1N0YXJ0ID0gZmFsc2U7XG4gICAgdGhpcy5oYXNDb250ZW50Qm90dG9tID0gZmFsc2U7XG4gICAgdGhpcy5oYXNDb250ZW50RW5kID0gZmFsc2U7XG4gICAgdGhpcy5oYXNDb250ZW50U3RhcnQgPSBmYWxzZTtcbiAgICB0aGlzLmhhc0N1c3RvbUNvbnRlbnQgPSBmYWxzZTtcbiAgICB0aGlzLmxldmVsID0gbnVsbDtcbiAgICB0aGlzLmV4cGFuZGFibGUgPSBmYWxzZTtcbiAgICB0aGlzLmFjdGl2ZSA9IGZhbHNlO1xuICAgIHRoaXMuYm9yZGVyZWQgPSBmYWxzZTtcbiAgICB0aGlzLnNvcnREaXNhYmxlZCA9IGZhbHNlO1xuICAgIHRoaXMuY2xvc2FibGUgPSBmYWxzZTtcbiAgICB0aGlzLmNsb3NlZCA9IGZhbHNlO1xuICAgIHRoaXMuZGlzYWJsZWQgPSBmYWxzZTtcbiAgICB0aGlzLmRyYWdEaXNhYmxlZCA9IGZhbHNlO1xuICAgIHRoaXMuZHJhZ0hhbmRsZSA9IGZhbHNlO1xuICAgIHRoaXMuZXhwYW5kZWQgPSBmYWxzZTtcbiAgICB0aGlzLmZpbHRlckhpZGRlbiA9IGZhbHNlO1xuICAgIHRoaXMuaW50ZXJhY3Rpb25Nb2RlID0gbnVsbDtcbiAgICB0aGlzLmRpc3BsYXlNb2RlID0gXCJmbGF0XCI7XG4gICAgdGhpcy5hZGRUb0l0ZW1zID0gW107XG4gICAgdGhpcy5tb3ZlVG9JdGVtcyA9IFtdO1xuICAgIHRoaXMuc2NhbGUgPSBcIm1cIjtcbiAgICB0aGlzLnNlbGVjdGVkID0gZmFsc2U7XG4gICAgdGhpcy5zZWxlY3Rpb25BcHBlYXJhbmNlID0gbnVsbDtcbiAgICB0aGlzLnNlbGVjdGlvbk1vZGUgPSBudWxsO1xuICAgIHRoaXMuc29ydEhhbmRsZU9wZW4gPSBmYWxzZTtcbiAgICB0aGlzLnVuYXZhaWxhYmxlID0gZmFsc2U7XG4gICAgdGhpcy5jYWxjaXRlSW50ZXJuYWxGb2N1c1ByZXZpb3VzSXRlbSA9IGNyZWF0ZUV2ZW50KHsgY2FuY2VsYWJsZTogZmFsc2UgfSk7XG4gICAgdGhpcy5jYWxjaXRlSW50ZXJuYWxMaXN0SXRlbUFjdGl2ZSA9IGNyZWF0ZUV2ZW50KHsgY2FuY2VsYWJsZTogZmFsc2UgfSk7XG4gICAgdGhpcy5jYWxjaXRlSW50ZXJuYWxMaXN0SXRlbUNoYW5nZSA9IGNyZWF0ZUV2ZW50KHsgY2FuY2VsYWJsZTogZmFsc2UgfSk7XG4gICAgdGhpcy5jYWxjaXRlSW50ZXJuYWxMaXN0SXRlbVNlbGVjdCA9IGNyZWF0ZUV2ZW50KHsgY2FuY2VsYWJsZTogZmFsc2UgfSk7XG4gICAgdGhpcy5jYWxjaXRlSW50ZXJuYWxMaXN0SXRlbVNlbGVjdE11bHRpcGxlID0gY3JlYXRlRXZlbnQoeyBjYW5jZWxhYmxlOiBmYWxzZSB9KTtcbiAgICB0aGlzLmNhbGNpdGVJbnRlcm5hbExpc3RJdGVtVG9nZ2xlID0gY3JlYXRlRXZlbnQoeyBjYW5jZWxhYmxlOiBmYWxzZSB9KTtcbiAgICB0aGlzLmNhbGNpdGVMaXN0SXRlbUNsb3NlID0gY3JlYXRlRXZlbnQoeyBjYW5jZWxhYmxlOiBmYWxzZSB9KTtcbiAgICB0aGlzLmNhbGNpdGVMaXN0SXRlbUNvbGxhcHNlID0gY3JlYXRlRXZlbnQoeyBjYW5jZWxhYmxlOiBmYWxzZSB9KTtcbiAgICB0aGlzLmNhbGNpdGVMaXN0SXRlbUV4cGFuZCA9IGNyZWF0ZUV2ZW50KHsgY2FuY2VsYWJsZTogZmFsc2UgfSk7XG4gICAgdGhpcy5jYWxjaXRlTGlzdEl0ZW1TZWxlY3QgPSBjcmVhdGVFdmVudCh7IGNhbmNlbGFibGU6IGZhbHNlIH0pO1xuICAgIHRoaXMuY2FsY2l0ZUxpc3RJdGVtU29ydEhhbmRsZUJlZm9yZUNsb3NlID0gY3JlYXRlRXZlbnQoeyBjYW5jZWxhYmxlOiBmYWxzZSB9KTtcbiAgICB0aGlzLmNhbGNpdGVMaXN0SXRlbVNvcnRIYW5kbGVCZWZvcmVPcGVuID0gY3JlYXRlRXZlbnQoeyBjYW5jZWxhYmxlOiBmYWxzZSB9KTtcbiAgICB0aGlzLmNhbGNpdGVMaXN0SXRlbVNvcnRIYW5kbGVDbG9zZSA9IGNyZWF0ZUV2ZW50KHsgY2FuY2VsYWJsZTogZmFsc2UgfSk7XG4gICAgdGhpcy5jYWxjaXRlTGlzdEl0ZW1Tb3J0SGFuZGxlT3BlbiA9IGNyZWF0ZUV2ZW50KHsgY2FuY2VsYWJsZTogZmFsc2UgfSk7XG4gICAgdGhpcy5jYWxjaXRlTGlzdEl0ZW1Ub2dnbGUgPSBjcmVhdGVFdmVudCh7IGNhbmNlbGFibGU6IGZhbHNlIH0pO1xuICAgIHRoaXMubGlzdGVuKFwiY2FsY2l0ZUludGVybmFsTGlzdEl0ZW1Hcm91cERlZmF1bHRTbG90Q2hhbmdlXCIsIHRoaXMuaGFuZGxlQ2FsY2l0ZUludGVybmFsTGlzdERlZmF1bHRTbG90Q2hhbmdlcyk7XG4gICAgdGhpcy5saXN0ZW4oXCJjYWxjaXRlSW50ZXJuYWxMaXN0RGVmYXVsdFNsb3RDaGFuZ2VcIiwgdGhpcy5oYW5kbGVDYWxjaXRlSW50ZXJuYWxMaXN0RGVmYXVsdFNsb3RDaGFuZ2VzKTtcbiAgfVxuICBzdGF0aWMge1xuICAgIHRoaXMucHJvcGVydGllcyA9IHsgaGFzQWN0aW9uc0VuZDogWzE2LCB7fSwgeyBzdGF0ZTogdHJ1ZSB9XSwgaGFzQWN0aW9uc1N0YXJ0OiBbMTYsIHt9LCB7IHN0YXRlOiB0cnVlIH1dLCBoYXNDb250ZW50Qm90dG9tOiBbMTYsIHt9LCB7IHN0YXRlOiB0cnVlIH1dLCBoYXNDb250ZW50RW5kOiBbMTYsIHt9LCB7IHN0YXRlOiB0cnVlIH1dLCBoYXNDb250ZW50U3RhcnQ6IFsxNiwge30sIHsgc3RhdGU6IHRydWUgfV0sIGhhc0N1c3RvbUNvbnRlbnQ6IFsxNiwge30sIHsgc3RhdGU6IHRydWUgfV0sIGxldmVsOiBbMTYsIHt9LCB7IHN0YXRlOiB0cnVlIH1dLCBleHBhbmRhYmxlOiBbMTYsIHt9LCB7IHN0YXRlOiB0cnVlIH1dLCBwYXJlbnRMaXN0RWw6IFsxNiwge30sIHsgc3RhdGU6IHRydWUgfV0sIGFjdGl2ZTogWzUsIHt9LCB7IHR5cGU6IEJvb2xlYW4gfV0sIGJvcmRlcmVkOiBbNSwge30sIHsgdHlwZTogQm9vbGVhbiB9XSwgc29ydERpc2FibGVkOiBbNSwge30sIHsgdHlwZTogQm9vbGVhbiB9XSwgY2xvc2FibGU6IFs3LCB7fSwgeyByZWZsZWN0OiB0cnVlLCB0eXBlOiBCb29sZWFuIH1dLCBjbG9zZWQ6IFs3LCB7fSwgeyByZWZsZWN0OiB0cnVlLCB0eXBlOiBCb29sZWFuIH1dLCBkZXNjcmlwdGlvbjogMSwgZGlzYWJsZWQ6IFs3LCB7fSwgeyByZWZsZWN0OiB0cnVlLCB0eXBlOiBCb29sZWFuIH1dLCBkcmFnRGlzYWJsZWQ6IFs3LCB7fSwgeyByZWZsZWN0OiB0cnVlLCB0eXBlOiBCb29sZWFuIH1dLCBkcmFnSGFuZGxlOiBbNywge30sIHsgcmVmbGVjdDogdHJ1ZSwgdHlwZTogQm9vbGVhbiB9XSwgZXhwYW5kZWQ6IFs3LCB7fSwgeyByZWZsZWN0OiB0cnVlLCB0eXBlOiBCb29sZWFuIH1dLCBmaWx0ZXJIaWRkZW46IFs3LCB7fSwgeyByZWZsZWN0OiB0cnVlLCB0eXBlOiBCb29sZWFuIH1dLCBpbnRlcmFjdGlvbk1vZGU6IDEsIGxhYmVsOiAxLCBtZXNzYWdlT3ZlcnJpZGVzOiBbMCwge30sIHsgYXR0cmlidXRlOiBmYWxzZSB9XSwgbWV0YWRhdGE6IFswLCB7fSwgeyBhdHRyaWJ1dGU6IGZhbHNlIH1dLCBkaXNwbGF5TW9kZTogWzMsIHt9LCB7IHJlZmxlY3Q6IHRydWUgfV0sIGFkZFRvSXRlbXM6IFswLCB7fSwgeyBhdHRyaWJ1dGU6IGZhbHNlIH1dLCBtb3ZlVG9JdGVtczogWzAsIHt9LCB7IGF0dHJpYnV0ZTogZmFsc2UgfV0sIG9wZW46IFs3LCB7fSwgeyByZWZsZWN0OiB0cnVlLCB0eXBlOiBCb29sZWFuIH1dLCBzY2FsZTogWzMsIHt9LCB7IHJlZmxlY3Q6IHRydWUgfV0sIHNlbGVjdGVkOiBbNywge30sIHsgcmVmbGVjdDogdHJ1ZSwgdHlwZTogQm9vbGVhbiB9XSwgc2VsZWN0aW9uQXBwZWFyYW5jZTogWzMsIHt9LCB7IHJlZmxlY3Q6IHRydWUgfV0sIHNlbGVjdGlvbk1vZGU6IFszLCB7fSwgeyByZWZsZWN0OiB0cnVlIH1dLCBzZXRQb3NpdGlvbjogWzksIHt9LCB7IHR5cGU6IE51bWJlciB9XSwgc2V0U2l6ZTogWzksIHt9LCB7IHR5cGU6IE51bWJlciB9XSwgc29ydEhhbmRsZU9wZW46IFs3LCB7fSwgeyByZWZsZWN0OiB0cnVlLCB0eXBlOiBCb29sZWFuIH1dLCB1bmF2YWlsYWJsZTogWzcsIHt9LCB7IHJlZmxlY3Q6IHRydWUsIHR5cGU6IEJvb2xlYW4gfV0sIHZhbHVlOiAxLCBpY29uU3RhcnQ6IFszLCB7fSwgeyByZWZsZWN0OiB0cnVlIH1dLCBpY29uRW5kOiBbMywge30sIHsgcmVmbGVjdDogdHJ1ZSB9XSwgaWNvbkZsaXBSdGw6IFszLCB7fSwgeyByZWZsZWN0OiB0cnVlIH1dIH07XG4gIH1cbiAgc3RhdGljIHtcbiAgICB0aGlzLnN0eWxlcyA9IFtzdHlsZXMsIHN0eWxlcyQxXTtcbiAgfVxuICBnZXQgb3BlbigpIHtcbiAgICByZXR1cm4gdGhpcy5leHBhbmRlZDtcbiAgfVxuICBzZXQgb3Blbih2YWx1ZSkge1xuICAgIGxvZ2dlci5kZXByZWNhdGVkKFwicHJvcGVydHlcIiwge1xuICAgICAgbmFtZTogXCJvcGVuXCIsXG4gICAgICByZW1vdmFsVmVyc2lvbjogNCxcbiAgICAgIHN1Z2dlc3RlZDogXCJleHBhbmRlZFwiXG4gICAgfSk7XG4gICAgdGhpcy5leHBhbmRlZCA9IHZhbHVlO1xuICB9XG4gIGFzeW5jIHNldEZvY3VzKG9wdGlvbnMpIHtcbiAgICByZXR1cm4gdGhpcy5mb2N1c1NldHRlcigoKSA9PiB7XG4gICAgICBjb25zdCB7IGNvbnRhaW5lclJlZiwgcGFyZW50TGlzdEVsIH0gPSB0aGlzO1xuICAgICAgY29uc3QgZm9jdXNJbmRleCA9IGZvY3VzTWFwLmdldChwYXJlbnRMaXN0RWwpO1xuICAgICAgaWYgKHR5cGVvZiBmb2N1c0luZGV4ID09PSBcIm51bWJlclwiKSB7XG4gICAgICAgIGNvbnN0IGNlbGwgPSB0aGlzLmdldEdyaWRDZWxscygpW2ZvY3VzSW5kZXhdO1xuICAgICAgICBpZiAoY2VsbCkge1xuICAgICAgICAgIHRoaXMuZm9jdXNDZWxsKGNlbGwpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHsgdGFyZ2V0OiBjb250YWluZXJSZWYudmFsdWUsIGluY2x1ZGVDb250YWluZXI6IHRydWUsIHN0cmF0ZWd5OiBcImZvY3VzYWJsZVwiIH07XG4gICAgfSwgb3B0aW9ucyk7XG4gIH1cbiAgY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gICAgc3VwZXIuY29ubmVjdGVkQ2FsbGJhY2soKTtcbiAgICBjb25zdCB7IGVsIH0gPSB0aGlzO1xuICAgIHRoaXMucGFyZW50TGlzdEVsID0gZWwuY2xvc2VzdChsaXN0U2VsZWN0b3IpO1xuICAgIHRoaXMubGV2ZWwgPSBnZXREZXB0aChlbCkgKyAxO1xuICAgIHRoaXMuc2V0U2VsZWN0aW9uRGVmYXVsdHMoKTtcbiAgfVxuICBkaXNjb25uZWN0ZWRDYWxsYmFjaygpIHtcbiAgICBzdXBlci5kaXNjb25uZWN0ZWRDYWxsYmFjaygpO1xuICAgIGZvY3VzTWFwLmNsZWFyKCk7XG4gIH1cbiAgd2lsbFVwZGF0ZShjaGFuZ2VzKSB7XG4gICAgaWYgKGNoYW5nZXMuaGFzKFwiYWN0aXZlXCIpICYmICh0aGlzLmhhc1VwZGF0ZWQgfHwgdGhpcy5hY3RpdmUgIT09IGZhbHNlKSkge1xuICAgICAgdGhpcy5hY3RpdmVIYW5kbGVyKHRoaXMuYWN0aXZlKTtcbiAgICB9XG4gICAgaWYgKGNoYW5nZXMuaGFzKFwiY2xvc2VkXCIpICYmICh0aGlzLmhhc1VwZGF0ZWQgfHwgdGhpcy5jbG9zZWQgIT09IGZhbHNlKSkge1xuICAgICAgdGhpcy5oYW5kbGVDbG9zZWRDaGFuZ2UoKTtcbiAgICB9XG4gICAgaWYgKGNoYW5nZXMuaGFzKFwiZGlzYWJsZWRcIikgJiYgKHRoaXMuaGFzVXBkYXRlZCB8fCB0aGlzLmRpc2FibGVkICE9PSBmYWxzZSkpIHtcbiAgICAgIHRoaXMuaGFuZGxlRGlzYWJsZWRDaGFuZ2UoKTtcbiAgICB9XG4gICAgaWYgKGNoYW5nZXMuaGFzKFwic2VsZWN0ZWRcIikgJiYgKHRoaXMuaGFzVXBkYXRlZCB8fCB0aGlzLnNlbGVjdGVkICE9PSBmYWxzZSkpIHtcbiAgICAgIHRoaXMuaGFuZGxlU2VsZWN0ZWRDaGFuZ2UoKTtcbiAgICB9XG4gICAgaWYgKGNoYW5nZXMuaGFzKFwic29ydEhhbmRsZU9wZW5cIikgJiYgKHRoaXMuaGFzVXBkYXRlZCB8fCB0aGlzLnNvcnRIYW5kbGVPcGVuICE9PSBmYWxzZSkpIHtcbiAgICAgIHRoaXMuc29ydEhhbmRsZU9wZW5IYW5kbGVyKCk7XG4gICAgfVxuICAgIGlmIChjaGFuZ2VzLmhhcyhcImRpc3BsYXlNb2RlXCIpICYmIHRoaXMuaGFzVXBkYXRlZCkge1xuICAgICAgdGhpcy5oYW5kbGVFeHBhbmRhYmxlQ2hhbmdlKHRoaXMuZGVmYXVsdFNsb3RSZWYudmFsdWUpO1xuICAgIH1cbiAgICBpZiAoY2hhbmdlcy5oYXMoXCJleHBhbmRlZFwiKSAmJiB0aGlzLmhhc1VwZGF0ZWQpIHtcbiAgICAgIGlmICh0aGlzLmV4cGFuZGVkKSB7XG4gICAgICAgIHRoaXMuaGFuZGxlRXhwYW5kZWRDaGFuZ2UoKTtcbiAgICAgICAgdGhpcy5jYWxjaXRlTGlzdEl0ZW1FeHBhbmQuZW1pdCgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5jYWxjaXRlTGlzdEl0ZW1Db2xsYXBzZS5lbWl0KCk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHVwZGF0ZWQoKSB7XG4gICAgdXBkYXRlSG9zdEludGVyYWN0aW9uKHRoaXMpO1xuICB9XG4gIGFjdGl2ZUhhbmRsZXIoYWN0aXZlKSB7XG4gICAgaWYgKCFhY3RpdmUpIHtcbiAgICAgIHRoaXMuZm9jdXNDZWxsKG51bGwsIGZhbHNlKTtcbiAgICB9XG4gIH1cbiAgaGFuZGxlQ2xvc2VkQ2hhbmdlKCkge1xuICAgIHRoaXMuZW1pdENhbGNpdGVJbnRlcm5hbExpc3RJdGVtQ2hhbmdlKCk7XG4gIH1cbiAgaGFuZGxlRGlzYWJsZWRDaGFuZ2UoKSB7XG4gICAgdGhpcy5lbWl0Q2FsY2l0ZUludGVybmFsTGlzdEl0ZW1DaGFuZ2UoKTtcbiAgfVxuICBoYW5kbGVFeHBhbmRlZENoYW5nZSgpIHtcbiAgICB0aGlzLmVtaXRDYWxjaXRlSW50ZXJuYWxMaXN0SXRlbVRvZ2dsZSgpO1xuICB9XG4gIGhhbmRsZVNlbGVjdGVkQ2hhbmdlKCkge1xuICAgIHRoaXMuY2FsY2l0ZUludGVybmFsTGlzdEl0ZW1TZWxlY3QuZW1pdCgpO1xuICB9XG4gIHNvcnRIYW5kbGVPcGVuSGFuZGxlcigpIHtcbiAgICBpZiAoIXRoaXMuc29ydEhhbmRsZUVsKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuc29ydEhhbmRsZUVsLm9wZW4gPSB0aGlzLnNvcnRIYW5kbGVPcGVuO1xuICB9XG4gIGhhbmRsZUNhbGNpdGVJbnRlcm5hbExpc3REZWZhdWx0U2xvdENoYW5nZXMoZXZlbnQpIHtcbiAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICB0aGlzLmhhbmRsZUV4cGFuZGFibGVDaGFuZ2UodGhpcy5kZWZhdWx0U2xvdFJlZi52YWx1ZSk7XG4gIH1cbiAgc2V0U29ydEhhbmRsZUVsKGVsKSB7XG4gICAgdGhpcy5zb3J0SGFuZGxlRWwgPSBlbDtcbiAgICB0aGlzLnNvcnRIYW5kbGVPcGVuSGFuZGxlcigpO1xuICB9XG4gIGhhbmRsZVNvcnRIYW5kbGVCZWZvcmVPcGVuKGV2ZW50KSB7XG4gICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgdGhpcy5jYWxjaXRlTGlzdEl0ZW1Tb3J0SGFuZGxlQmVmb3JlT3Blbi5lbWl0KCk7XG4gIH1cbiAgaGFuZGxlU29ydEhhbmRsZUJlZm9yZUNsb3NlKGV2ZW50KSB7XG4gICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgdGhpcy5jYWxjaXRlTGlzdEl0ZW1Tb3J0SGFuZGxlQmVmb3JlQ2xvc2UuZW1pdCgpO1xuICB9XG4gIGhhbmRsZVNvcnRIYW5kbGVDbG9zZShldmVudCkge1xuICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIHRoaXMuc29ydEhhbmRsZU9wZW4gPSBmYWxzZTtcbiAgICB0aGlzLmNhbGNpdGVMaXN0SXRlbVNvcnRIYW5kbGVDbG9zZS5lbWl0KCk7XG4gIH1cbiAgaGFuZGxlU29ydEhhbmRsZU9wZW4oZXZlbnQpIHtcbiAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICB0aGlzLnNvcnRIYW5kbGVPcGVuID0gdHJ1ZTtcbiAgICB0aGlzLmNhbGNpdGVMaXN0SXRlbVNvcnRIYW5kbGVPcGVuLmVtaXQoKTtcbiAgfVxuICBlbWl0SW50ZXJuYWxMaXN0SXRlbUFjdGl2ZSgpIHtcbiAgICB0aGlzLmNhbGNpdGVJbnRlcm5hbExpc3RJdGVtQWN0aXZlLmVtaXQoKTtcbiAgfVxuICBlbWl0Q2FsY2l0ZUludGVybmFsTGlzdEl0ZW1Ub2dnbGUoKSB7XG4gICAgdGhpcy5jYWxjaXRlSW50ZXJuYWxMaXN0SXRlbVRvZ2dsZS5lbWl0KCk7XG4gIH1cbiAgZW1pdENhbGNpdGVJbnRlcm5hbExpc3RJdGVtQ2hhbmdlKCkge1xuICAgIHRoaXMuY2FsY2l0ZUludGVybmFsTGlzdEl0ZW1DaGFuZ2UuZW1pdCgpO1xuICB9XG4gIGhhbmRsZUNsb3NlQ2xpY2soKSB7XG4gICAgdGhpcy5jbG9zZWQgPSB0cnVlO1xuICAgIHRoaXMuY2FsY2l0ZUxpc3RJdGVtQ2xvc2UuZW1pdCgpO1xuICB9XG4gIGhhbmRsZUNvbnRlbnRTbG90Q2hhbmdlKGV2ZW50KSB7XG4gICAgdGhpcy5oYXNDdXN0b21Db250ZW50ID0gc2xvdENoYW5nZUhhc0Fzc2lnbmVkRWxlbWVudChldmVudCk7XG4gIH1cbiAgaGFuZGxlQWN0aW9uc1N0YXJ0U2xvdENoYW5nZShldmVudCkge1xuICAgIHRoaXMuaGFzQWN0aW9uc1N0YXJ0ID0gc2xvdENoYW5nZUhhc0Fzc2lnbmVkRWxlbWVudChldmVudCk7XG4gIH1cbiAgaGFuZGxlQWN0aW9uc0VuZFNsb3RDaGFuZ2UoZXZlbnQpIHtcbiAgICB0aGlzLmhhc0FjdGlvbnNFbmQgPSBzbG90Q2hhbmdlSGFzQXNzaWduZWRFbGVtZW50KGV2ZW50KTtcbiAgfVxuICBoYW5kbGVDb250ZW50U3RhcnRTbG90Q2hhbmdlKGV2ZW50KSB7XG4gICAgdGhpcy5oYXNDb250ZW50U3RhcnQgPSBzbG90Q2hhbmdlSGFzQXNzaWduZWRFbGVtZW50KGV2ZW50KTtcbiAgfVxuICBoYW5kbGVDb250ZW50RW5kU2xvdENoYW5nZShldmVudCkge1xuICAgIHRoaXMuaGFzQ29udGVudEVuZCA9IHNsb3RDaGFuZ2VIYXNBc3NpZ25lZEVsZW1lbnQoZXZlbnQpO1xuICB9XG4gIGhhbmRsZUNvbnRlbnRCb3R0b21TbG90Q2hhbmdlKGV2ZW50KSB7XG4gICAgdGhpcy5oYXNDb250ZW50Qm90dG9tID0gc2xvdENoYW5nZUhhc0Fzc2lnbmVkRWxlbWVudChldmVudCk7XG4gIH1cbiAgc2V0U2VsZWN0aW9uRGVmYXVsdHMoKSB7XG4gICAgY29uc3QgeyBwYXJlbnRMaXN0RWwsIHNlbGVjdGlvbk1vZGUsIHNlbGVjdGlvbkFwcGVhcmFuY2UgfSA9IHRoaXM7XG4gICAgaWYgKCFwYXJlbnRMaXN0RWwpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKCFzZWxlY3Rpb25Nb2RlKSB7XG4gICAgICB0aGlzLnNlbGVjdGlvbk1vZGUgPSBwYXJlbnRMaXN0RWwuc2VsZWN0aW9uTW9kZTtcbiAgICB9XG4gICAgaWYgKCFzZWxlY3Rpb25BcHBlYXJhbmNlKSB7XG4gICAgICB0aGlzLnNlbGVjdGlvbkFwcGVhcmFuY2UgPSBwYXJlbnRMaXN0RWwuc2VsZWN0aW9uQXBwZWFyYW5jZTtcbiAgICB9XG4gIH1cbiAgaGFuZGxlRXhwYW5kYWJsZUNoYW5nZShzbG90RWwpIHtcbiAgICBpZiAoIXNsb3RFbCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBjaGlsZHJlbiA9IGdldExpc3RJdGVtQ2hpbGRyZW4oc2xvdEVsKTtcbiAgICBjaGlsZHJlbi5saXN0cy5mb3JFYWNoKChsaXN0KSA9PiB7XG4gICAgICBsaXN0LmRpc3BsYXlNb2RlID0gdGhpcy5kaXNwbGF5TW9kZTtcbiAgICB9KTtcbiAgICB0aGlzLmV4cGFuZGFibGUgPSB0aGlzLmRpc3BsYXlNb2RlID09PSBcIm5lc3RlZFwiICYmIChjaGlsZHJlbi5saXN0cy5sZW5ndGggPiAwIHx8IGNoaWxkcmVuLml0ZW1zLmxlbmd0aCA+IDApO1xuICB9XG4gIGhhbmRsZURlZmF1bHRTbG90Q2hhbmdlKGV2ZW50KSB7XG4gICAgdGhpcy5oYW5kbGVFeHBhbmRhYmxlQ2hhbmdlKGV2ZW50LnRhcmdldCk7XG4gIH1cbiAgaGFuZGxlVG9nZ2xlQ2xpY2soKSB7XG4gICAgdGhpcy50b2dnbGUoKTtcbiAgfVxuICB0b2dnbGUodmFsdWUgPSAhdGhpcy5leHBhbmRlZCkge1xuICAgIHRoaXMuZXhwYW5kZWQgPSB2YWx1ZTtcbiAgICB0aGlzLmNhbGNpdGVMaXN0SXRlbVRvZ2dsZS5lbWl0KCk7XG4gIH1cbiAgaGFuZGxlSXRlbUNsaWNrKGV2ZW50KSB7XG4gICAgaWYgKGV2ZW50LmRlZmF1bHRQcmV2ZW50ZWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy50b2dnbGVTZWxlY3RlZChldmVudC5zaGlmdEtleSk7XG4gIH1cbiAgYXN5bmMgdG9nZ2xlU2VsZWN0ZWQoc2hpZnRLZXkpIHtcbiAgICBjb25zdCB7IHNlbGVjdGlvbk1vZGUsIHNlbGVjdGVkIH0gPSB0aGlzO1xuICAgIGlmICh0aGlzLmRpc2FibGVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChzZWxlY3Rpb25Nb2RlID09PSBcIm11bHRpcGxlXCIgfHwgc2VsZWN0aW9uTW9kZSA9PT0gXCJzaW5nbGVcIikge1xuICAgICAgdGhpcy5zZWxlY3RlZCA9ICFzZWxlY3RlZDtcbiAgICB9IGVsc2UgaWYgKHNlbGVjdGlvbk1vZGUgPT09IFwic2luZ2xlLXBlcnNpc3RcIikge1xuICAgICAgdGhpcy5zZWxlY3RlZCA9IHRydWU7XG4gICAgfVxuICAgIHRoaXMuY2FsY2l0ZUludGVybmFsTGlzdEl0ZW1TZWxlY3RNdWx0aXBsZS5lbWl0KHtcbiAgICAgIHNlbGVjdE11bHRpcGxlOiBzaGlmdEtleSAmJiBzZWxlY3Rpb25Nb2RlID09PSBcIm11bHRpcGxlXCJcbiAgICB9KTtcbiAgICBhd2FpdCB0aGlzLnVwZGF0ZUNvbXBsZXRlO1xuICAgIHRoaXMuY2FsY2l0ZUxpc3RJdGVtU2VsZWN0LmVtaXQoKTtcbiAgfVxuICBnZXRHcmlkQ2VsbHMoKSB7XG4gICAgcmV0dXJuIFtcbiAgICAgIHRoaXMuaGFuZGxlR3JpZFJlZi52YWx1ZSxcbiAgICAgIHRoaXMuYWN0aW9uc1N0YXJ0UmVmLnZhbHVlLFxuICAgICAgdGhpcy5jb250ZW50UmVmLnZhbHVlLFxuICAgICAgdGhpcy5hY3Rpb25zRW5kUmVmLnZhbHVlXG4gICAgXS5maWx0ZXIoKGVsKSA9PiBlbCAmJiAhZWwuaGlkZGVuKTtcbiAgfVxuICBoYW5kbGVJdGVtS2V5RG93bihldmVudCkge1xuICAgIGlmIChldmVudC5kZWZhdWx0UHJldmVudGVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IHsga2V5IH0gPSBldmVudDtcbiAgICBjb25zdCBjb21wb3NlZFBhdGggPSBldmVudC5jb21wb3NlZFBhdGgoKTtcbiAgICBjb25zdCB7IGNvbnRhaW5lclJlZiwgYWN0aW9uc1N0YXJ0UmVmOiB7IHZhbHVlOiBhY3Rpb25zU3RhcnRFbCB9LCBhY3Rpb25zRW5kUmVmOiB7IHZhbHVlOiBhY3Rpb25zRW5kRWwgfSwgZXhwYW5kZWQsIGV4cGFuZGFibGUgfSA9IHRoaXM7XG4gICAgY29uc3QgY2VsbHMgPSB0aGlzLmdldEdyaWRDZWxscygpO1xuICAgIGNvbnN0IGN1cnJlbnRJbmRleCA9IGNlbGxzLmZpbmRJbmRleCgoY2VsbCkgPT4gY29tcG9zZWRQYXRoLmluY2x1ZGVzKGNlbGwpKTtcbiAgICBpZiAoa2V5ID09PSBcIkVudGVyXCIgJiYgIWNvbXBvc2VkUGF0aC5pbmNsdWRlcyhhY3Rpb25zU3RhcnRFbCkgJiYgIWNvbXBvc2VkUGF0aC5pbmNsdWRlcyhhY3Rpb25zRW5kRWwpKSB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgdGhpcy50b2dnbGVTZWxlY3RlZChldmVudC5zaGlmdEtleSk7XG4gICAgfSBlbHNlIGlmIChrZXkgPT09IFwiQXJyb3dSaWdodFwiKSB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgY29uc3QgbmV4dEluZGV4ID0gY3VycmVudEluZGV4ICsgMTtcbiAgICAgIGlmIChjdXJyZW50SW5kZXggPT09IC0xKSB7XG4gICAgICAgIGlmICghZXhwYW5kZWQgJiYgZXhwYW5kYWJsZSkge1xuICAgICAgICAgIHRoaXMudG9nZ2xlKHRydWUpO1xuICAgICAgICAgIHRoaXMuZm9jdXNDZWxsKG51bGwpO1xuICAgICAgICB9IGVsc2UgaWYgKGNlbGxzWzBdKSB7XG4gICAgICAgICAgdGhpcy5mb2N1c0NlbGwoY2VsbHNbMF0pO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKGNlbGxzW2N1cnJlbnRJbmRleF0gJiYgY2VsbHNbbmV4dEluZGV4XSkge1xuICAgICAgICB0aGlzLmZvY3VzQ2VsbChjZWxsc1tuZXh0SW5kZXhdKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGtleSA9PT0gXCJBcnJvd0xlZnRcIikge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGNvbnN0IHByZXZJbmRleCA9IGN1cnJlbnRJbmRleCAtIDE7XG4gICAgICBpZiAoY3VycmVudEluZGV4ID09PSAtMSkge1xuICAgICAgICB0aGlzLmZvY3VzQ2VsbChudWxsKTtcbiAgICAgICAgaWYgKGV4cGFuZGVkICYmIGV4cGFuZGFibGUpIHtcbiAgICAgICAgICB0aGlzLnRvZ2dsZShmYWxzZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5jYWxjaXRlSW50ZXJuYWxGb2N1c1ByZXZpb3VzSXRlbS5lbWl0KCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoY3VycmVudEluZGV4ID09PSAwKSB7XG4gICAgICAgIHRoaXMuZm9jdXNDZWxsKG51bGwpO1xuICAgICAgICBjb250YWluZXJSZWYudmFsdWUuZm9jdXMoKTtcbiAgICAgIH0gZWxzZSBpZiAoY2VsbHNbY3VycmVudEluZGV4XSAmJiBjZWxsc1twcmV2SW5kZXhdKSB7XG4gICAgICAgIHRoaXMuZm9jdXNDZWxsKGNlbGxzW3ByZXZJbmRleF0pO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBmb2N1c0NlbGxOdWxsKCkge1xuICAgIHRoaXMuZm9jdXNDZWxsKG51bGwpO1xuICB9XG4gIHNldEZvY3VzQ2VsbChmb2N1c0VsLCBmb2N1c2VkRWwsIHNhdmVGb2N1c0luZGV4KSB7XG4gICAgY29uc3QgeyBwYXJlbnRMaXN0RWwgfSA9IHRoaXM7XG4gICAgaWYgKHNhdmVGb2N1c0luZGV4KSB7XG4gICAgICBmb2N1c01hcC5zZXQocGFyZW50TGlzdEVsLCBudWxsKTtcbiAgICB9XG4gICAgY29uc3QgZ3JpZENlbGxzID0gdGhpcy5nZXRHcmlkQ2VsbHMoKTtcbiAgICBncmlkQ2VsbHMuZm9yRWFjaCgodGFibGVDZWxsKSA9PiB7XG4gICAgICB0YWJsZUNlbGwucmVtb3ZlQXR0cmlidXRlKFwidGFiaW5kZXhcIik7XG4gICAgICB0YWJsZUNlbGwucmVtb3ZlQXR0cmlidXRlKGFjdGl2ZUNlbGxUZXN0QXR0cmlidXRlKTtcbiAgICB9KTtcbiAgICBpZiAoIWZvY3VzRWwpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKGZvY3VzRWwgPT09IGZvY3VzZWRFbCkge1xuICAgICAgZm9jdXNFbC50YWJJbmRleCA9IDA7XG4gICAgfSBlbHNlIHtcbiAgICAgIGZvY3VzRWwucmVtb3ZlQXR0cmlidXRlKFwidGFiaW5kZXhcIik7XG4gICAgfVxuICAgIGZvY3VzRWwuc2V0QXR0cmlidXRlKGFjdGl2ZUNlbGxUZXN0QXR0cmlidXRlLCBcIlwiKTtcbiAgICBpZiAoc2F2ZUZvY3VzSW5kZXgpIHtcbiAgICAgIGZvY3VzTWFwLnNldChwYXJlbnRMaXN0RWwsIGdyaWRDZWxscy5pbmRleE9mKGZvY3VzRWwpKTtcbiAgICB9XG4gIH1cbiAgZm9jdXNDZWxsKGZvY3VzRWwsIHNhdmVGb2N1c0luZGV4ID0gdHJ1ZSkge1xuICAgIGNvbnN0IGZvY3VzZWRFbCA9IGdldEZpcnN0VGFiYmFibGUoZm9jdXNFbCk7XG4gICAgdGhpcy5zZXRGb2N1c0NlbGwoZm9jdXNFbCwgZm9jdXNlZEVsLCBzYXZlRm9jdXNJbmRleCk7XG4gICAgZm9jdXNlZEVsPy5mb2N1cygpO1xuICB9XG4gIHJlbmRlclNlbGVjdGVkKCkge1xuICAgIGNvbnN0IHsgc2VsZWN0ZWQsIHNlbGVjdGlvbk1vZGUsIHNlbGVjdGlvbkFwcGVhcmFuY2UgfSA9IHRoaXM7XG4gICAgaWYgKHNlbGVjdGlvbk1vZGUgPT09IFwibm9uZVwiIHx8IHNlbGVjdGlvbkFwcGVhcmFuY2UgPT09IFwiYm9yZGVyXCIpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICByZXR1cm4ga2V5ZWQoXCJzZWxlY3Rpb24tY29udGFpbmVyXCIsIGh0bWxgPGRpdiBjbGFzcz0ke3NhZmVDbGFzc01hcCh7XG4gICAgICBbQ1NTLnNlbGVjdGlvbkNvbnRhaW5lcl06IHRydWUsXG4gICAgICBbQ1NTLnNlbGVjdGlvbkNvbnRhaW5lclNpbmdsZV06IHNlbGVjdGlvbk1vZGUgPT09IFwic2luZ2xlXCIgfHwgc2VsZWN0aW9uTW9kZSA9PT0gXCJzaW5nbGUtcGVyc2lzdFwiXG4gICAgfSl9IEBjbGljaz0ke3RoaXMuaGFuZGxlSXRlbUNsaWNrfT48Y2FsY2l0ZS1pY29uIC5pY29uPSR7c2VsZWN0ZWQgPyBzZWxlY3Rpb25Nb2RlID09PSBcIm11bHRpcGxlXCIgPyBJQ09OUy5zZWxlY3RlZE11bHRpcGxlIDogSUNPTlMuc2VsZWN0ZWRTaW5nbGUgOiBzZWxlY3Rpb25Nb2RlID09PSBcIm11bHRpcGxlXCIgPyBJQ09OUy51bnNlbGVjdGVkTXVsdGlwbGUgOiBJQ09OUy51bnNlbGVjdGVkU2luZ2xlfSAuc2NhbGU9JHtnZXRJY29uU2NhbGUodGhpcy5zY2FsZSl9PjwvY2FsY2l0ZS1pY29uPjwvZGl2PmApO1xuICB9XG4gIHJlbmRlckRyYWdIYW5kbGUoKSB7XG4gICAgY29uc3QgeyBsYWJlbCwgZHJhZ0hhbmRsZSwgZHJhZ0Rpc2FibGVkLCBzZXRQb3NpdGlvbiwgc2V0U2l6ZSwgbW92ZVRvSXRlbXMsIHNvcnREaXNhYmxlZCwgYWRkVG9JdGVtcyB9ID0gdGhpcztcbiAgICByZXR1cm4gZHJhZ0hhbmRsZSA/IGtleWVkKFwiZHJhZy1oYW5kbGUtY29udGFpbmVyXCIsIGh0bWxgPGRpdiAuYXJpYUxhYmVsPSR7bGFiZWx9IGNsYXNzPSR7c2FmZUNsYXNzTWFwKHsgW0NTUy5kcmFnQ29udGFpbmVyXTogdHJ1ZSwgW0NTUy5ncmlkQ2VsbF06IHRydWUgfSl9IHJvbGU9Z3JpZGNlbGwgJHtyZWYodGhpcy5oYW5kbGVHcmlkUmVmKX0+PGNhbGNpdGUtc29ydC1oYW5kbGUgLmFkZFRvSXRlbXM9JHthZGRUb0l0ZW1zfSAuZGlzYWJsZWQ9JHtkcmFnRGlzYWJsZWR9IC5sYWJlbD0ke2xhYmVsfSAubW92ZVRvSXRlbXM9JHttb3ZlVG9JdGVtc30gQGNhbGNpdGVTb3J0SGFuZGxlQmVmb3JlQ2xvc2U9JHt0aGlzLmhhbmRsZVNvcnRIYW5kbGVCZWZvcmVDbG9zZX0gQGNhbGNpdGVTb3J0SGFuZGxlQmVmb3JlT3Blbj0ke3RoaXMuaGFuZGxlU29ydEhhbmRsZUJlZm9yZU9wZW59IEBjYWxjaXRlU29ydEhhbmRsZUNsb3NlPSR7dGhpcy5oYW5kbGVTb3J0SGFuZGxlQ2xvc2V9IEBjYWxjaXRlU29ydEhhbmRsZU9wZW49JHt0aGlzLmhhbmRsZVNvcnRIYW5kbGVPcGVufSBvdmVybGF5LXBvc2l0aW9uaW5nPWZpeGVkIC5zY2FsZT0ke3RoaXMuc2NhbGV9IC5zZXRQb3NpdGlvbj0ke3NldFBvc2l0aW9ufSAuc2V0U2l6ZT0ke3NldFNpemV9IC5zb3J0RGlzYWJsZWQ9JHtzb3J0RGlzYWJsZWR9ICR7cmVmKHRoaXMuc2V0U29ydEhhbmRsZUVsKX0+PC9jYWxjaXRlLXNvcnQtaGFuZGxlPjwvZGl2PmApIDogbnVsbDtcbiAgfVxuICByZW5kZXJFeHBhbmRlZCgpIHtcbiAgICBjb25zdCB7IGVsLCBleHBhbmRlZCwgZXhwYW5kYWJsZSwgbWVzc2FnZXMsIGRpc3BsYXlNb2RlLCBzY2FsZSB9ID0gdGhpcztcbiAgICBpZiAoZGlzcGxheU1vZGUgIT09IFwibmVzdGVkXCIpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBjb25zdCBkaXIgPSBnZXRFbGVtZW50RGlyKGVsKTtcbiAgICBjb25zdCBpY29uID0gZXhwYW5kYWJsZSA/IGV4cGFuZGVkID8gSUNPTlMub3BlbiA6IGRpciA9PT0gXCJydGxcIiA/IElDT05TLmNvbGxhcHNlZFJUTCA6IElDT05TLmNvbGxhcHNlZExUUiA6IElDT05TLmJsYW5rO1xuICAgIGNvbnN0IGljb25TY2FsZSA9IGdldEljb25TY2FsZShzY2FsZSk7XG4gICAgY29uc3QgdG9vbHRpcCA9IGV4cGFuZGFibGUgPyBleHBhbmRlZCA/IG1lc3NhZ2VzLmNvbGxhcHNlIDogbWVzc2FnZXMuZXhwYW5kIDogdm9pZCAwO1xuICAgIGNvbnN0IGV4cGFuZGVkQ2xpY2tIYW5kbGVyID0gZXhwYW5kYWJsZSA/IHRoaXMuaGFuZGxlVG9nZ2xlQ2xpY2sgOiB2b2lkIDA7XG4gICAgcmV0dXJuIGtleWVkKFwiZXhwYW5kZWQtY29udGFpbmVyXCIsIGh0bWxgPGRpdiBjbGFzcz0ke3NhZmVDbGFzc01hcChDU1MuZXhwYW5kZWRDb250YWluZXIpfSBAY2xpY2s9JHtleHBhbmRlZENsaWNrSGFuZGxlcn0gdGl0bGU9JHt0b29sdGlwID8/IG5vdGhpbmd9PiR7a2V5ZWQoaWNvbiwgaHRtbGA8Y2FsY2l0ZS1pY29uIC5pY29uPSR7aWNvbn0gLnNjYWxlPSR7aWNvblNjYWxlfT48L2NhbGNpdGUtaWNvbj5gKX08L2Rpdj5gKTtcbiAgfVxuICByZW5kZXJBY3Rpb25zU3RhcnQoKSB7XG4gICAgY29uc3QgeyBsYWJlbCwgaGFzQWN0aW9uc1N0YXJ0IH0gPSB0aGlzO1xuICAgIHJldHVybiBrZXllZChcImFjdGlvbnMtc3RhcnQtY29udGFpbmVyXCIsIGh0bWxgPGRpdiAuYXJpYUxhYmVsPSR7bGFiZWx9IGNsYXNzPSR7c2FmZUNsYXNzTWFwKHsgW0NTUy5hY3Rpb25zU3RhcnRdOiB0cnVlLCBbQ1NTLmdyaWRDZWxsXTogdHJ1ZSB9KX0gLmhpZGRlbj0keyFoYXNBY3Rpb25zU3RhcnR9IHJvbGU9Z3JpZGNlbGwgJHtyZWYodGhpcy5hY3Rpb25zU3RhcnRSZWYpfT48c2xvdCBuYW1lPSR7U0xPVFMuYWN0aW9uc1N0YXJ0fSBAc2xvdGNoYW5nZT0ke3RoaXMuaGFuZGxlQWN0aW9uc1N0YXJ0U2xvdENoYW5nZX0+PC9zbG90PjwvZGl2PmApO1xuICB9XG4gIHJlbmRlckFjdGlvbnNFbmQoKSB7XG4gICAgY29uc3QgeyBsYWJlbCwgaGFzQWN0aW9uc0VuZCwgY2xvc2FibGUsIG1lc3NhZ2VzIH0gPSB0aGlzO1xuICAgIHJldHVybiBrZXllZChcImFjdGlvbnMtZW5kLWNvbnRhaW5lclwiLCBodG1sYDxkaXYgLmFyaWFMYWJlbD0ke2xhYmVsfSBjbGFzcz0ke3NhZmVDbGFzc01hcCh7IFtDU1MuYWN0aW9uc0VuZF06IHRydWUsIFtDU1MuZ3JpZENlbGxdOiB0cnVlIH0pfSAuaGlkZGVuPSR7IShoYXNBY3Rpb25zRW5kIHx8IGNsb3NhYmxlKX0gcm9sZT1ncmlkY2VsbCAke3JlZih0aGlzLmFjdGlvbnNFbmRSZWYpfT48c2xvdCBuYW1lPSR7U0xPVFMuYWN0aW9uc0VuZH0gQHNsb3RjaGFuZ2U9JHt0aGlzLmhhbmRsZUFjdGlvbnNFbmRTbG90Q2hhbmdlfT48L3Nsb3Q+JHtjbG9zYWJsZSA/IGtleWVkKFwiY2xvc2UtYWN0aW9uXCIsIGh0bWxgPGNhbGNpdGUtYWN0aW9uIGFwcGVhcmFuY2U9dHJhbnNwYXJlbnQgY2xhc3M9JHtzYWZlQ2xhc3NNYXAoQ1NTLmNsb3NlKX0gLmljb249JHtJQ09OUy5jbG9zZX0gLmxhYmVsPSR7bWVzc2FnZXMuY2xvc2V9IEBjbGljaz0ke3RoaXMuaGFuZGxlQ2xvc2VDbGlja30gLnNjYWxlPSR7dGhpcy5zY2FsZX0gLnRleHQ9JHttZXNzYWdlcy5jbG9zZX0+PC9jYWxjaXRlLWFjdGlvbj5gKSA6IG51bGx9PC9kaXY+YCk7XG4gIH1cbiAgcmVuZGVyQ29udGVudFN0YXJ0KCkge1xuICAgIGNvbnN0IHsgaGFzQ29udGVudFN0YXJ0IH0gPSB0aGlzO1xuICAgIHJldHVybiBodG1sYDxkaXYgY2xhc3M9JHtzYWZlQ2xhc3NNYXAoQ1NTLmNvbnRlbnRTdGFydCl9IC5oaWRkZW49JHshaGFzQ29udGVudFN0YXJ0fT48c2xvdCBuYW1lPSR7U0xPVFMuY29udGVudFN0YXJ0fSBAc2xvdGNoYW5nZT0ke3RoaXMuaGFuZGxlQ29udGVudFN0YXJ0U2xvdENoYW5nZX0+PC9zbG90PjwvZGl2PmA7XG4gIH1cbiAgcmVuZGVyQ3VzdG9tQ29udGVudCgpIHtcbiAgICBjb25zdCB7IGhhc0N1c3RvbUNvbnRlbnQgfSA9IHRoaXM7XG4gICAgcmV0dXJuIGh0bWxgPGRpdiBjbGFzcz0ke3NhZmVDbGFzc01hcChDU1MuY3VzdG9tQ29udGVudCl9IC5oaWRkZW49JHshaGFzQ3VzdG9tQ29udGVudH0+PHNsb3QgbmFtZT0ke1NMT1RTLmNvbnRlbnR9IEBzbG90Y2hhbmdlPSR7dGhpcy5oYW5kbGVDb250ZW50U2xvdENoYW5nZX0+PC9zbG90PjwvZGl2PmA7XG4gIH1cbiAgcmVuZGVySWNvblN0YXJ0KCkge1xuICAgIGNvbnN0IHsgaWNvblN0YXJ0LCBpY29uRmxpcFJ0bCwgc2NhbGUgfSA9IHRoaXM7XG4gICAgcmV0dXJuIGljb25TdGFydCA/IGtleWVkKFwiaWNvbi1zdGFydFwiLCBodG1sYDxjYWxjaXRlLWljb24gY2xhc3M9JHtzYWZlQ2xhc3NNYXAoQ1NTLmljb24pfSAuZmxpcFJ0bD0ke2ljb25GbGlwUnRsID09PSBcImJvdGhcIiB8fCBpY29uRmxpcFJ0bCA9PT0gXCJzdGFydFwifSAuaWNvbj0ke2ljb25TdGFydH0gLnNjYWxlPSR7Z2V0SWNvblNjYWxlKHNjYWxlKX0+PC9jYWxjaXRlLWljb24+YCkgOiBudWxsO1xuICB9XG4gIHJlbmRlckljb25FbmQoKSB7XG4gICAgY29uc3QgeyBpY29uRW5kLCBpY29uRmxpcFJ0bCwgc2NhbGUgfSA9IHRoaXM7XG4gICAgcmV0dXJuIGljb25FbmQgPyBrZXllZChcImljb24tZW5kXCIsIGh0bWxgPGNhbGNpdGUtaWNvbiBjbGFzcz0ke3NhZmVDbGFzc01hcChDU1MuaWNvbil9IC5mbGlwUnRsPSR7aWNvbkZsaXBSdGwgPT09IFwiYm90aFwiIHx8IGljb25GbGlwUnRsID09PSBcImVuZFwifSAuaWNvbj0ke2ljb25FbmR9IC5zY2FsZT0ke2dldEljb25TY2FsZShzY2FsZSl9PjwvY2FsY2l0ZS1pY29uPmApIDogbnVsbDtcbiAgfVxuICByZW5kZXJDb250ZW50RW5kKCkge1xuICAgIGNvbnN0IHsgaGFzQ29udGVudEVuZCB9ID0gdGhpcztcbiAgICByZXR1cm4gaHRtbGA8ZGl2IGNsYXNzPSR7c2FmZUNsYXNzTWFwKENTUy5jb250ZW50RW5kKX0gLmhpZGRlbj0keyFoYXNDb250ZW50RW5kfT48c2xvdCBuYW1lPSR7U0xPVFMuY29udGVudEVuZH0gQHNsb3RjaGFuZ2U9JHt0aGlzLmhhbmRsZUNvbnRlbnRFbmRTbG90Q2hhbmdlfT48L3Nsb3Q+PC9kaXY+YDtcbiAgfVxuICByZW5kZXJDb250ZW50Qm90dG9tKCkge1xuICAgIGNvbnN0IHsgaGFzQ29udGVudEJvdHRvbSB9ID0gdGhpcztcbiAgICByZXR1cm4gaHRtbGA8ZGl2IGNsYXNzPSR7c2FmZUNsYXNzTWFwKENTUy5jb250ZW50Qm90dG9tKX0gLmhpZGRlbj0keyFoYXNDb250ZW50Qm90dG9tfT48c2xvdCBuYW1lPSR7U0xPVFMuY29udGVudEJvdHRvbX0gQHNsb3RjaGFuZ2U9JHt0aGlzLmhhbmRsZUNvbnRlbnRCb3R0b21TbG90Q2hhbmdlfT48L3Nsb3Q+PC9kaXY+YDtcbiAgfVxuICByZW5kZXJEZWZhdWx0Q29udGFpbmVyKCkge1xuICAgIHJldHVybiBodG1sYDxkaXYgY2xhc3M9JHtzYWZlQ2xhc3NNYXAoe1xuICAgICAgW0NTUy5uZXN0ZWRDb250YWluZXJdOiB0cnVlLFxuICAgICAgW0NTUy5uZXN0ZWRDb250YWluZXJFeHBhbmRlZF06IHRoaXMuZXhwYW5kYWJsZSAmJiB0aGlzLmV4cGFuZGVkXG4gICAgfSl9PjxzbG90IEBzbG90Y2hhbmdlPSR7dGhpcy5oYW5kbGVEZWZhdWx0U2xvdENoYW5nZX0gJHtyZWYodGhpcy5kZWZhdWx0U2xvdFJlZil9Pjwvc2xvdD48L2Rpdj5gO1xuICB9XG4gIHJlbmRlckNvbnRlbnRQcm9wZXJ0aWVzKCkge1xuICAgIGNvbnN0IHsgbGFiZWwsIGRlc2NyaXB0aW9uLCBoYXNDdXN0b21Db250ZW50IH0gPSB0aGlzO1xuICAgIHJldHVybiAhaGFzQ3VzdG9tQ29udGVudCAmJiAoISFsYWJlbCB8fCAhIWRlc2NyaXB0aW9uKSA/IGtleWVkKFwiY29udGVudFwiLCBodG1sYDxkaXYgY2xhc3M9JHtzYWZlQ2xhc3NNYXAoQ1NTLmNvbnRlbnQpfT4ke2xhYmVsID8ga2V5ZWQoXCJsYWJlbFwiLCBodG1sYDxkaXYgY2xhc3M9JHtzYWZlQ2xhc3NNYXAoQ1NTLmxhYmVsKX0+JHtsYWJlbH08L2Rpdj5gKSA6IG51bGx9JHtkZXNjcmlwdGlvbiA/IGtleWVkKFwiZGVzY3JpcHRpb25cIiwgaHRtbGA8ZGl2IGNsYXNzPSR7c2FmZUNsYXNzTWFwKENTUy5kZXNjcmlwdGlvbil9PiR7ZGVzY3JpcHRpb259PC9kaXY+YCkgOiBudWxsfTwvZGl2PmApIDogbnVsbDtcbiAgfVxuICByZW5kZXJDb250ZW50Q29udGFpbmVyKCkge1xuICAgIGNvbnN0IHsgZGVzY3JpcHRpb24sIGxhYmVsLCBzZWxlY3Rpb25Nb2RlLCBoYXNDdXN0b21Db250ZW50LCB1bmF2YWlsYWJsZSB9ID0gdGhpcztcbiAgICBjb25zdCBoYXNDZW50ZXJDb250ZW50ID0gaGFzQ3VzdG9tQ29udGVudCB8fCAhIWxhYmVsIHx8ICEhZGVzY3JpcHRpb247XG4gICAgY29uc3QgY29udGVudCA9IFtcbiAgICAgIHRoaXMucmVuZGVyQ29udGVudFN0YXJ0KCksXG4gICAgICB0aGlzLnJlbmRlckN1c3RvbUNvbnRlbnQoKSxcbiAgICAgIHRoaXMucmVuZGVySWNvblN0YXJ0KCksXG4gICAgICB0aGlzLnJlbmRlckNvbnRlbnRQcm9wZXJ0aWVzKCksXG4gICAgICB0aGlzLnJlbmRlckljb25FbmQoKSxcbiAgICAgIHRoaXMucmVuZGVyQ29udGVudEVuZCgpXG4gICAgXTtcbiAgICByZXR1cm4ga2V5ZWQoXCJjb250ZW50LWNvbnRhaW5lclwiLCBodG1sYDxkaXYgLmFyaWFMYWJlbD0ke2xhYmVsfSBjbGFzcz0ke3NhZmVDbGFzc01hcCh7XG4gICAgICBbQ1NTLmdyaWRDZWxsXTogdHJ1ZSxcbiAgICAgIFtDU1MuY29udGVudENvbnRhaW5lcl06IHRydWUsXG4gICAgICBbQ1NTLmNvbnRlbnRDb250YWluZXJVbmF2YWlsYWJsZV06IHVuYXZhaWxhYmxlLFxuICAgICAgW0NTUy5jb250ZW50Q29udGFpbmVyU2VsZWN0YWJsZV06IHNlbGVjdGlvbk1vZGUgIT09IFwibm9uZVwiLFxuICAgICAgW0NTUy5jb250ZW50Q29udGFpbmVySGFzQ2VudGVyQ29udGVudF06IGhhc0NlbnRlckNvbnRlbnRcbiAgICB9KX0gQGNsaWNrPSR7dGhpcy5oYW5kbGVJdGVtQ2xpY2t9IHJvbGU9Z3JpZGNlbGwgJHtyZWYodGhpcy5jb250ZW50UmVmKX0+JHtjb250ZW50fTwvZGl2PmApO1xuICB9XG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB7IGV4cGFuZGFibGUsIGV4cGFuZGVkLCBsZXZlbCwgYWN0aXZlLCBsYWJlbCwgc2VsZWN0ZWQsIHNlbGVjdGlvbkFwcGVhcmFuY2UsIHNlbGVjdGlvbk1vZGUsIGludGVyYWN0aW9uTW9kZSwgY2xvc2VkLCBmaWx0ZXJIaWRkZW4sIGJvcmRlcmVkLCBkaXNhYmxlZCwgaGFzQ29udGVudEJvdHRvbSB9ID0gdGhpcztcbiAgICBjb25zdCB3cmFwcGVyQm9yZGVyZWQgPSBib3JkZXJlZCAmJiBoYXNDb250ZW50Qm90dG9tO1xuICAgIGNvbnN0IGNvbnRlbnRDb250YWluZXJXcmFwcGVyQm9yZGVyZWQgPSBib3JkZXJlZCAmJiAhaGFzQ29udGVudEJvdHRvbTtcbiAgICBjb25zdCBzaG93U2VsZWN0aW9uQm9yZGVyID0gc2VsZWN0aW9uTW9kZSAhPT0gXCJub25lXCIgJiYgc2VsZWN0aW9uQXBwZWFyYW5jZSA9PT0gXCJib3JkZXJcIjtcbiAgICBjb25zdCBzZWxlY3Rpb25Cb3JkZXJTZWxlY3RlZCA9IHNob3dTZWxlY3Rpb25Cb3JkZXIgJiYgc2VsZWN0ZWQ7XG4gICAgY29uc3Qgc2VsZWN0aW9uQm9yZGVyVW5zZWxlY3RlZCA9IHNob3dTZWxlY3Rpb25Cb3JkZXIgJiYgIXNlbGVjdGVkO1xuICAgIGNvbnN0IGNvbnRhaW5lckludGVyYWN0aXZlID0gaW50ZXJhY3Rpb25Nb2RlID09PSBcImludGVyYWN0aXZlXCIgfHwgaW50ZXJhY3Rpb25Nb2RlID09PSBcInN0YXRpY1wiICYmIHNlbGVjdGlvbk1vZGUgIT09IFwibm9uZVwiICYmIHNlbGVjdGlvbkFwcGVhcmFuY2UgPT09IFwiYm9yZGVyXCI7XG4gICAgcmV0dXJuIEludGVyYWN0aXZlQ29udGFpbmVyKHsgZGlzYWJsZWQsIGNoaWxkcmVuOiBodG1sYDxkaXYgY2xhc3M9JHtzYWZlQ2xhc3NNYXAoeyBbQ1NTLndyYXBwZXJdOiB0cnVlLCBbQ1NTLndyYXBwZXJCb3JkZXJlZF06IHdyYXBwZXJCb3JkZXJlZCB9KX0+PGRpdiAuYXJpYUV4cGFuZGVkPSR7ZXhwYW5kYWJsZSA/IGV4cGFuZGVkIDogbnVsbH0gLmFyaWFMYWJlbD0ke2xhYmVsfSAuYXJpYUxldmVsPSR7bGV2ZWx9IC5hcmlhU2VsZWN0ZWQ9JHtzZWxlY3RlZH0gY2xhc3M9JHtzYWZlQ2xhc3NNYXAoe1xuICAgICAgW0NTUy5yb3ddOiB0cnVlLFxuICAgICAgW0NTUy5jb250YWluZXJdOiB0cnVlLFxuICAgICAgW0NTUy5jb250YWluZXJIb3Zlcl06IGNvbnRhaW5lckludGVyYWN0aXZlLFxuICAgICAgW0NTUy5jb250YWluZXJCb3JkZXJdOiBzaG93U2VsZWN0aW9uQm9yZGVyLFxuICAgICAgW0NTUy5jb250YWluZXJCb3JkZXJTZWxlY3RlZF06IHNlbGVjdGlvbkJvcmRlclNlbGVjdGVkLFxuICAgICAgW0NTUy5jb250YWluZXJCb3JkZXJVbnNlbGVjdGVkXTogc2VsZWN0aW9uQm9yZGVyVW5zZWxlY3RlZFxuICAgIH0pfSAuaGlkZGVuPSR7Y2xvc2VkIHx8IGZpbHRlckhpZGRlbn0gQGZvY3VzPSR7dGhpcy5mb2N1c0NlbGxOdWxsfSBAZm9jdXNpbj0ke3RoaXMuZW1pdEludGVybmFsTGlzdEl0ZW1BY3RpdmV9IEBrZXlkb3duPSR7dGhpcy5oYW5kbGVJdGVtS2V5RG93bn0gcm9sZT1yb3cgLnRhYkluZGV4PSR7YWN0aXZlID8gMCA6IC0xfSAke3JlZih0aGlzLmNvbnRhaW5lclJlZil9PiR7dGhpcy5yZW5kZXJEcmFnSGFuZGxlKCl9JHt0aGlzLnJlbmRlclNlbGVjdGVkKCl9JHt0aGlzLnJlbmRlckV4cGFuZGVkKCl9PGRpdiBjbGFzcz0ke3NhZmVDbGFzc01hcCh7XG4gICAgICBbQ1NTLmNvbnRlbnRDb250YWluZXJXcmFwcGVyXTogdHJ1ZSxcbiAgICAgIFtDU1MuY29udGVudENvbnRhaW5lcldyYXBwZXJCb3JkZXJlZF06IGNvbnRlbnRDb250YWluZXJXcmFwcGVyQm9yZGVyZWRcbiAgICB9KX0+JHt0aGlzLnJlbmRlckFjdGlvbnNTdGFydCgpfSR7dGhpcy5yZW5kZXJDb250ZW50Q29udGFpbmVyKCl9JHt0aGlzLnJlbmRlckFjdGlvbnNFbmQoKX08L2Rpdj48L2Rpdj4ke3RoaXMucmVuZGVyQ29udGVudEJvdHRvbSgpfTwvZGl2PiR7dGhpcy5yZW5kZXJEZWZhdWx0Q29udGFpbmVyKCl9YCB9KTtcbiAgfVxufVxuY3VzdG9tRWxlbWVudChcImNhbGNpdGUtbGlzdC1pdGVtXCIsIExpc3RJdGVtKTtcbmV4cG9ydCB7XG4gIExpc3RJdGVtXG59O1xuIiwiaW1wb3J0IFwiLi4vY2FsY2l0ZS1pY29uL2luZGV4LmpzXCI7XG5pbXBvcnQgXCIuLi9jYWxjaXRlLXNvcnQtaGFuZGxlL2luZGV4LmpzXCI7XG5pbXBvcnQgXCIuLi9jYWxjaXRlLWFjdGlvbi9pbmRleC5qc1wiO1xuZXhwb3J0ICogZnJvbSBcIi4vY3VzdG9tRWxlbWVudC5qc1wiOyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==