export const __webpack_id__ = "vendors-node_modules_arcgis_core_views_2d_engine_webgl_shaderGraph_techniques_TechniqueType_j-105cb6";
export const __webpack_ids__ = ["vendors-node_modules_arcgis_core_views_2d_engine_webgl_shaderGraph_techniques_TechniqueType_j-105cb6"];
export const __webpack_modules__ = {

/***/ "./node_modules/@arcgis/core/geohash/GeohashCell.js":
/*!**********************************************************!*\
  !*** ./node_modules/@arcgis/core/geohash/GeohashCell.js ***!
  \**********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   GeohashCell: () => (/* binding */ l)
/* harmony export */ });
/* harmony import */ var _geohashUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./geohashUtils.js */ "./node_modules/@arcgis/core/geohash/geohashUtils.js");
/* harmony import */ var _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../geometry/SpatialReference.js */ "./node_modules/@arcgis/core/geometry/SpatialReference.js");
/* harmony import */ var _layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../layers/graphics/featureConversionUtils.js */ "./node_modules/@arcgis/core/layers/graphics/featureConversionUtils.js");
/* harmony import */ var _layers_graphics_OptimizedGeometry_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../layers/graphics/OptimizedGeometry.js */ "./node_modules/@arcgis/core/layers/graphics/OptimizedGeometry.js");
/* harmony import */ var _layers_graphics_data_projectionSupport_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../layers/graphics/data/projectionSupport.js */ "./node_modules/@arcgis/core/layers/graphics/data/projectionSupport.js");
/* harmony import */ var _views_2d_layers_features_aggregation_AAggregateCell_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../views/2d/layers/features/aggregation/AAggregateCell.js */ "./node_modules/@arcgis/core/views/2d/layers/features/aggregation/AAggregateCell.js");
/* harmony import */ var _views_2d_layers_features_aggregation_AccumulatedStatistics_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../views/2d/layers/features/aggregation/AccumulatedStatistics.js */ "./node_modules/@arcgis/core/views/2d/layers/features/aggregation/AccumulatedStatistics.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
class l extends _views_2d_layers_features_aggregation_AAggregateCell_js__WEBPACK_IMPORTED_MODULE_5__.AAggregateCell{static create(t,e,o,s){const r=_views_2d_layers_features_aggregation_AccumulatedStatistics_js__WEBPACK_IMPORTED_MODULE_6__.AccumulatedStatistics.create(t),i=new Array(32);for(let h=0;h<i.length;h++)i[h]=null;return new l(r,e,o,s,i)}constructor(t,e,o,s,r){super(t),this.xNode=e,this.yNode=o,this.depth=s,this.children=r,this._objectIds=new Set,this._count=0,this._xWorldTotal=0,this._yWorldTotal=0,this._xGeohashTotal=0,this._yGeohashTotal=0,this.next=null}get id(){return`${this.xNode}.${this.yNode}`}get containedObjectIds(){return this._objectIds}get count(){return this._count}clone(){const t=new l(this._statistics.clone(),this.xNode,this.yNode,this.depth,this.children);return t._count=this._count,t._xWorldTotal=this._xWorldTotal,t._yWorldTotal=this._yWorldTotal,t._xGeohashTotal=this._xGeohashTotal,t._yGeohashTotal=this._yGeohashTotal,t.next=this.next,t._objectIds=new Set(this._objectIds),t}insert(t,e,o,s,r,i){this._count+=1,this._xWorldTotal+=e,this._yWorldTotal+=o,this._xGeohashTotal+=s,this._yGeohashTotal+=r,this._statistics.insert(t,i),this._objectIds.add(t.getObjectId())}merge(t){if(0!==t._count){this._count+=t._count,this._xWorldTotal+=t._xWorldTotal,this._yWorldTotal+=t._yWorldTotal,this._xGeohashTotal+=t._xWorldTotal,this._yGeohashTotal+=t._yWorldTotal,this._statistics.merge(t._statistics);for(const e of t._objectIds.values())this._objectIds.add(e)}}getCentroid(t){throw new Error("getCentroid not supported for GeohashNode")}getGeometry(t,r){const a=this._getLngLatBounds(),[n,l,d,c]=a,_=(0,_layers_graphics_data_projectionSupport_js__WEBPACK_IMPORTED_MODULE_4__.project)({rings:[[[n,l],[n,c],[d,c],[d,l],[n,l]]]},_geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_1__["default"].WGS84,t),u=(0,_layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_2__.convertFromPolygon)(new _layers_graphics_OptimizedGeometry_js__WEBPACK_IMPORTED_MODULE_3__["default"],_,!1,!1);if(null!=r){return (0,_layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_2__.quantizeOptimizedGeometry)(new _layers_graphics_OptimizedGeometry_js__WEBPACK_IMPORTED_MODULE_3__["default"],u,!1,!1,"esriGeometryPolygon",r,!1,!1)}return u}getGeometricCentroid(t,o){const a=this._getLngLatBounds(),[n,l,d,c]=a,_=(0,_layers_graphics_data_projectionSupport_js__WEBPACK_IMPORTED_MODULE_4__.project)({x:(n+d)/2,y:(l+c)/2},_geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_1__["default"].WGS84,t),u=(0,_layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_2__.convertFromPoint)(new _layers_graphics_OptimizedGeometry_js__WEBPACK_IMPORTED_MODULE_3__["default"],_);if(null!=o){return (0,_layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_2__.quantizeOptimizedGeometry)(new _layers_graphics_OptimizedGeometry_js__WEBPACK_IMPORTED_MODULE_3__["default"],u,!1,!1,"esriGeometryPoint",o,!1,!1)}return u}getAttributes(){const t={aggregateId:this.id};for(const e of this._statistics.values())t[e.field.name]=e.value;return t.aggregateCount=this._count,t}find(t,e,o,s,r,i){if(s>=o)return this;const h=1-s%2,a=3*h+2*(1-h),n=2*h+3*(1-h),l=30-r-a,d=30-i-n,c=((t&7*h+3*(1-h)<<l)>>l)+((e&3*h+7*(1-h)<<d)>>d)*(8*h+4*(1-h)),_=this.children[c];return null==_?null:_.find(t,e,o,s+1,r+a,i+n)}_getLngLatBounds(){const e=this.depth,o=Math.ceil(e/2),s=Math.floor(e/2),r=30-(3*o+2*s),i=30-(2*o+3*s),h=this.xNode<<r,a=this.yNode<<i;return (0,_geohashUtils_js__WEBPACK_IMPORTED_MODULE_0__.decodeGeohashXY)({geohashX:h,geohashY:a},this.depth)}}


/***/ }),

/***/ "./node_modules/@arcgis/core/geohash/GeohashTree.js":
/*!**********************************************************!*\
  !*** ./node_modules/@arcgis/core/geohash/GeohashTree.js ***!
  \**********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   GeohashTree: () => (/* binding */ e)
/* harmony export */ });
/* harmony import */ var _GeohashCell_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./GeohashCell.js */ "./node_modules/@arcgis/core/geohash/GeohashCell.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
class e{constructor(e){this._fields=e,this._size=0,this._depth=0,this._root=_GeohashCell_js__WEBPACK_IMPORTED_MODULE_0__.GeohashCell.create(this._fields,0,0,0)}destroy(){}get size(){return this._size}get depth(){return this._depth}find(t,e,s){return this._root.find(t,e,s,0,0,0)}insert(e,s,i,n,o,h,r){let l=this._root,d=0,c=0,a=0;for(;null!==l;){if(l.insert(e,s,i,n,o,r),d>=h)return;const f=Math.ceil((d+1)/2),u=Math.floor((d+1)/2),x=1-d%2,_=30-(3*f+2*u),p=30-(2*f+3*u),M=(n&7*x+3*(1-x)<<_)>>_,m=(o&3*x+7*(1-x)<<p)>>p,g=M+m*(8*x+4*(1-x));c=c<<3*x+2*(1-x)|M,a=a<<2*x+3*(1-x)|m,null==l.children[g]&&(l.children[g]=_GeohashCell_js__WEBPACK_IMPORTED_MODULE_0__.GeohashCell.create(this._fields,c,a,d+1),this._depth=Math.max(this._depth,d+1),this._size+=1),d+=1,l=l.children[g]}}putBins(t,e){for(const s of this.getNodes(e)){const e=t.get(s.id);e?e.merge(s):t.set(s.id,s.clone())}}getNodes(t){const e=[],{geohashBounds:s,level:i}=t;let n=this._root;for(;null!==n;){const t=n.depth,o=n.xNode,h=n.yNode;if(t>=i){e.push(n),n=n.next;continue}const r=Math.ceil((t+1)/2),l=Math.floor((t+1)/2),d=1-t%2,c=30-(3*r+2*l),a=30-(2*r+3*l),f=~((1<<c)-1),u=~((1<<a)-1),x=(s.xLL&f)>>c,_=(s.yLL&u)>>a,p=(s.xTR&f)>>c,M=(s.yTR&u)>>a,m=o<<3*d+2*(1-d),g=h<<2*d+3*(1-d),y=m+8*d+4*(1-d),z=g+4*d+8*(1-d),L=Math.max(m,x),N=Math.max(g,_),B=Math.min(y,p),R=Math.min(z,M);let T=null,j=null;for(let e=N;e<=R;e++)for(let t=L;t<=B;t++){const s=t-m+(e-g)*(8*d+4*(1-d)),i=n.children[s];i&&(T||(T=i,T.next=n.next),j&&(j.next=i),j=i,i.next=n.next)}n=T||n.next}return e}}


/***/ }),

/***/ "./node_modules/@arcgis/core/geohash/geohashUtils.js":
/*!***********************************************************!*\
  !*** ./node_modules/@arcgis/core/geohash/geohashUtils.js ***!
  \***********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   convertGeohash32ToXY: () => (/* binding */ Y),
/* harmony export */   decodeBase32Char: () => (/* binding */ W),
/* harmony export */   decodeGeohash: () => (/* binding */ X),
/* harmony export */   decodeGeohashXY: () => (/* binding */ w),
/* harmony export */   encodeBase32Char: () => (/* binding */ C),
/* harmony export */   encodeGeohash: () => (/* binding */ E),
/* harmony export */   getGeohash: () => (/* binding */ G),
/* harmony export */   getGeohashBounds: () => (/* binding */ v),
/* harmony export */   getRelativeGeohash: () => (/* binding */ k),
/* harmony export */   setGeohashBuf: () => (/* binding */ B),
/* harmony export */   setGeohashXY: () => (/* binding */ z),
/* harmony export */   unpackXBits: () => (/* binding */ T),
/* harmony export */   unpackYBits: () => (/* binding */ U)
/* harmony export */ });
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_mathUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../core/mathUtils.js */ "./node_modules/@arcgis/core/core/mathUtils.js");
/* harmony import */ var _core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../core/libs/gl-matrix-2/math/vec2.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/math/vec2.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_vec2f64_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../core/libs/gl-matrix-2/factories/vec2f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/vec2f64.js");
/* harmony import */ var _geometry_Polygon_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../geometry/Polygon.js */ "./node_modules/@arcgis/core/geometry/Polygon.js");
/* harmony import */ var _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../geometry/SpatialReference.js */ "./node_modules/@arcgis/core/geometry/SpatialReference.js");
/* harmony import */ var _geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../geometry/support/aaBoundingRect.js */ "./node_modules/@arcgis/core/geometry/support/aaBoundingRect.js");
/* harmony import */ var _geometry_support_Ellipsoid_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../geometry/support/Ellipsoid.js */ "./node_modules/@arcgis/core/geometry/support/Ellipsoid.js");
/* harmony import */ var _layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../layers/graphics/featureConversionUtils.js */ "./node_modules/@arcgis/core/layers/graphics/featureConversionUtils.js");
/* harmony import */ var _layers_graphics_OptimizedGeometry_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../layers/graphics/OptimizedGeometry.js */ "./node_modules/@arcgis/core/layers/graphics/OptimizedGeometry.js");
/* harmony import */ var _layers_graphics_data_projectionSupport_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../layers/graphics/data/projectionSupport.js */ "./node_modules/@arcgis/core/layers/graphics/data/projectionSupport.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
const a=16,u=8,h=4,m=2,p=1,g=(0,_core_libs_gl_matrix_2_factories_vec2f64_js__WEBPACK_IMPORTED_MODULE_3__.create)(),x=(0,_core_libs_gl_matrix_2_factories_vec2f64_js__WEBPACK_IMPORTED_MODULE_3__.create)(),y=-90,d=90,j=-180,M=180,S="0123456789bcdefghjkmnpqrstuvwxyz",b=64;function v(t,o,r,i){const a=[t.xmin,t.ymin,t.xmax,t.ymax],u=_geometry_Polygon_js__WEBPACK_IMPORTED_MODULE_4__["default"].fromExtent((0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_6__.toExtent)(a,i)),h=(0,_layers_graphics_data_projectionSupport_js__WEBPACK_IMPORTED_MODULE_10__.project)(u,i,_geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_5__["default"].WGS84,{densificationStep:o*b});if(!h)return null;const m=(0,_layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_8__.convertFromPolygon)(new _layers_graphics_OptimizedGeometry_js__WEBPACK_IMPORTED_MODULE_9__["default"],h,!1,!1),p=m.coords.filter(((t,o)=>!(o%2))),g=m.coords.filter(((t,o)=>o%2)),x=Math.min(...p),y=Math.min(...g),d=Math.max(...p),j=Math.max(...g),M=G(x,y,r,_geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_5__["default"].WGS84),S=G(d,j,r,_geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_5__["default"].WGS84);return M&&S?{bounds:a,geohashBounds:{xLL:M[0],yLL:M[1],xTR:S[0],yTR:S[1]},level:r}:null}function G(o,r,n,s){if(s.isWebMercator){const e=(0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_1__.rad2deg)(o/_geometry_support_Ellipsoid_js__WEBPACK_IMPORTED_MODULE_7__.earth.radius),s=e-360*Math.floor((e+180)/360),c=[0,0];return B(c,0,(0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_1__.rad2deg)(Math.PI/2-2*Math.atan(Math.exp(-r/_geometry_support_Ellipsoid_js__WEBPACK_IMPORTED_MODULE_7__.earth.radius))),s,n),c}const c=(0,_layers_graphics_data_projectionSupport_js__WEBPACK_IMPORTED_MODULE_10__.project)({x:o,y:r},s,_geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_5__["default"].WGS84);if(!c)return null;const f=[0,0];return B(f,0,c.y,c.x,n),f}function W(t){return t<=57?t-48:t<=104?t-88:t<=107?t-89:t<=110?t-90:t-91}function C(t){return S[t]}function L(t){return(t[0]+t[1])/2}function R(t,o){const r=L(t),n=o,e=!o;t[0]=e*t[0]+n*r,t[1]=e*r+n*t[1]}function A(t,o){const r=o>L(t);return R(t,r),r}function X(t,r){const n=(0,_core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_2__.set)(g,y,d),e=(0,_core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_2__.set)(x,j,M);for(let o=0;o<r.length;o++){const t=W(r.charCodeAt(o));o%2==0?(R(e,!!(a&t)),R(e,!!(h&t)),R(e,!!(p&t)),R(n,!!(u&t)),R(n,!!(m&t))):(R(n,!!(a&t)),R(n,!!(h&t)),R(n,!!(p&t)),R(e,!!(u&t)),R(e,!!(m&t)))}return t[0]=L(n),t[1]=L(e),t}function Y(t,o){let r=0,n=0,e=30,s=30;for(let i=0;i<o.length;i++){const t=W(o.charCodeAt(i)),c=i%2==0;e-=c?3:2,s-=c?2:3,r|=T(t,c)<<e,n|=U(t,c)<<s}return{geohashX:r,geohashY:n}}function w(t,o){let r=-90,n=90,e=-180,s=180;for(let i=0;i<o;i++){const o=Math.ceil((i+1)/2),c=Math.floor((i+1)/2),f=1-i%2,l=30-(3*o+2*c),a=30-(2*o+3*c),u=3*f+2*(1-f),h=2*f+3*(1-f),m=3*f+7*(1-f)<<a,p=(7*f+3*(1-f)<<l&t.geohashX)>>l,g=(m&t.geohashY)>>a;for(let t=u-1;t>=0;t--){const o=(e+s)/2,r=p&1<<t?1:0;e=(1-r)*e+r*o,s=(1-r)*o+r*s}for(let t=h-1;t>=0;t--){const o=(r+n)/2,e=g&1<<t?1:0;r=(1-e)*r+e*o,n=(1-e)*o+e*n}}return[e,r,s,n]}function z(t,o,r,n){n%2&&(n+=1);let e=0,s=0,i=-90,c=90,f=-180,l=180;for(let a=0;a<n/2;a++){for(let t=0;t<5;t++){const o=(f+l)/2,n=r>o?1:0;e|=n<<29-(t+5*a),f=(1-n)*f+n*o,l=(1-n)*o+n*l}for(let t=0;t<5;t++){const r=(i+c)/2,n=o>r?1:0;s|=n<<29-(t+5*a),i=(1-n)*i+n*r,c=(1-n)*r+n*c}}t.geohashX=e,t.geohashY=s}function B(t,o,r,n,e){e%2&&(e+=1);let s=0,i=0,c=-90,f=90,l=-180,a=180;for(let u=0;u<e/2;u++){for(let t=0;t<5;t++){const o=(l+a)/2,r=n>o?1:0;s|=r<<29-(t+5*u),l=(1-r)*l+r*o,a=(1-r)*o+r*a}for(let t=0;t<5;t++){const o=(c+f)/2,n=r>o?1:0;i|=n<<29-(t+5*u),c=(1-n)*c+n*o,f=(1-n)*o+n*f}}t[2*o]=s,t[2*o+1]=i}function E(t,r,n){let e="";const s=(0,_core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_2__.set)(g,-90,90),i=(0,_core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_2__.set)(x,-180,180);for(let o=0;o<n;o++){let n=0;!(o%2)?(n|=A(i,r)<<4,n|=A(s,t)<<3,n|=A(i,r)<<2,n|=A(s,t)<<1,n|=A(i,r)|0):(n|=A(s,t)<<4,n|=A(i,r)<<3,n|=A(s,t)<<2,n|=A(i,r)<<1,n|=A(s,t)|0),e+=C(n)}return e}function P(t,o,r){return r?t&p|(o&p)<<1|(t&m)<<1|(o&m)<<2|(t&h)<<2:o&p|(t&p)<<1|(o&m)<<1|(t&m)<<2|(o&h)<<2}function T(t,o){return o?p&t|(h&t)>>1|(a&t)>>2:(m&t)>>1|(u&t)>>2}function U(t,o){return o?(m&t)>>1|(u&t)>>2:p&t|(h&t)>>1|(a&t)>>2}function k(t,o,r){const n=!((t.length-1)%2),e=t.slice(0,-1),s=W(t.charCodeAt(t.length-1));let i=0,c=0,f=0,l=0;n?(i=8,c=4,f=p&s|(h&s)>>1|(a&s)>>2,l=(m&s)>>1|(u&s)>>2):(i=4,c=8,l=p&s|(h&s)>>1|(a&s)>>2,f=(m&s)>>1|(u&s)>>2);const g=f+o,x=l+r,y=Math.floor(g/i),d=Math.floor(x/c),j=C(P(g-y*i,x-d*c,n));return t.length>1&&(y||d)?k(e,y,d)+j:e+j}


/***/ }),

/***/ "./node_modules/@arcgis/core/geometry/operators/gx/operatorGeodeticDensify.js":
/*!************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/geometry/operators/gx/operatorGeodeticDensify.js ***!
  \************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   execute: () => (/* binding */ u),
/* harmony export */   executeMany: () => (/* binding */ c),
/* harmony export */   isLoaded: () => (/* binding */ s),
/* harmony export */   load: () => (/* binding */ i),
/* harmony export */   supportsCurves: () => (/* binding */ a)
/* harmony export */ });
/* harmony import */ var _chunks_SimpleGeometryCursor_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../chunks/SimpleGeometryCursor.js */ "./node_modules/@arcgis/core/chunks/SimpleGeometryCursor.js");
/* harmony import */ var _chunks_pe_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../chunks/pe.js */ "./node_modules/@arcgis/core/chunks/pe.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
let o;function s(){return!!o&&(0,_chunks_pe_js__WEBPACK_IMPORTED_MODULE_1__.i)()}async function i(){if(!s()){const[n,r]=await Promise.all([Promise.all(/*! import() */[__webpack_require__.e("vendors-node_modules_arcgis_core_chunks_Point2D_js"), __webpack_require__.e("vendors-node_modules_arcgis_core_chunks_Transformation2D_js"), __webpack_require__.e("vendors-node_modules_arcgis_core_chunks_Envelope2D_js"), __webpack_require__.e("vendors-node_modules_arcgis_core_chunks_ProjectionTransformation_js"), __webpack_require__.e("node_modules_arcgis_core_chunks_OperatorGeodeticDensifyByLength_js")]).then(__webpack_require__.bind(__webpack_require__, /*! ../../../chunks/OperatorGeodeticDensifyByLength.js */ "./node_modules/@arcgis/core/chunks/OperatorGeodeticDensifyByLength.js")),Promise.all(/*! import() */[__webpack_require__.e("vendors-node_modules_arcgis_core_chunks_Point2D_js"), __webpack_require__.e("vendors-node_modules_arcgis_core_chunks_Transformation2D_js"), __webpack_require__.e("vendors-node_modules_arcgis_core_chunks_Envelope2D_js"), __webpack_require__.e("vendors-node_modules_arcgis_core_chunks_ProjectionTransformation_js")]).then(__webpack_require__.bind(__webpack_require__, /*! ../../../chunks/ProjectionTransformation.js */ "./node_modules/@arcgis/core/chunks/ProjectionTransformation.js")).then((n=>n.aG)).then((({injectPe:n})=>n)),(0,_chunks_pe_js__WEBPACK_IMPORTED_MODULE_1__.l)()]);o=new n.OperatorGeodeticDensifyByLength,r(_chunks_pe_js__WEBPACK_IMPORTED_MODULE_1__.p)}}function u(n,e,t,r){return o.execute(n,e,t,r,null)}function c(e,t,r,s){const i=o.executeMany(new _chunks_SimpleGeometryCursor_js__WEBPACK_IMPORTED_MODULE_0__.S(e),t,r,s,null);return Array.from(i)}function a(){return o.supportsCurves()}


/***/ }),

/***/ "./node_modules/@arcgis/core/layers/graphics/data/FeatureIdInfo.js":
/*!*************************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/graphics/data/FeatureIdInfo.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   getFeatureIdInfoFieldNames: () => (/* binding */ e)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
function*e(e){switch(e.type){case"object-id":case"unique-id-simple":return void(yield e.fieldName);case"unique-id-composite":return void(yield*e.fieldNames)}}


/***/ }),

/***/ "./node_modules/@arcgis/core/layers/graphics/data/StreamFeatureManager.js":
/*!********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/graphics/data/StreamFeatureManager.js ***!
  \********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   StreamFeatureManager: () => (/* binding */ a)
/* harmony export */ });
/* harmony import */ var _core_CircularArray_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../core/CircularArray.js */ "./node_modules/@arcgis/core/core/CircularArray.js");
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_mathUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/mathUtils.js */ "./node_modules/@arcgis/core/core/mathUtils.js");
/* harmony import */ var _support_streamLayerUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../support/streamLayerUtils.js */ "./node_modules/@arcgis/core/layers/support/streamLayerUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
const d=1e3;class a{constructor(t,s,r,o,d=128){if(this._trackIdToObservations=new Map,this._idCounter=0,this._lastPurge=performance.now(),this._addOrUpdated=new Map,this._removed=[],this._maxAge=0,this._timeInfo=r,this._purgeOptions=o,this.store=t,"unique-id-composite"===s.type)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_1__["default"]("stream-layer","composite uniqueIds are not supported");this.idField=s.fieldName,this.purgeInterval=d,this._useGeneratedIds=this.idField===_support_streamLayerUtils_js__WEBPACK_IMPORTED_MODULE_3__.defaultStreamIdField}removeById(t){this._removed.push(t)}removeByTrackId(t){const e=this._trackIdToObservations.get(t);if(e)for(const s of e.entries)this._removed.push(s)}add(e){if(this._useGeneratedIds){const t=this._nextId();e.attributes[this.idField]=t,e.objectId=t}else e.objectId=e.attributes[this.idField];const i=e.objectId;if(this._addOrUpdated.set(i,e),this._maxAge=Math.max(this._maxAge,e.attributes[this._timeInfo.startTimeField]),!this._timeInfo.trackIdField)return null==this._trackIdLessObservations&&(this._trackIdLessObservations=new _core_CircularArray_js__WEBPACK_IMPORTED_MODULE_0__["default"](1e5)),void this._trackIdLessObservations.enqueue(i);const r=e.attributes[this._timeInfo.trackIdField];if(!this._trackIdToObservations.has(r)){const e=null!=this._purgeOptions?.maxObservations?this._purgeOptions.maxObservations:d,i=(0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_2__.clamp)(e,0,d);this._trackIdToObservations.set(r,new _core_CircularArray_js__WEBPACK_IMPORTED_MODULE_0__["default"](i))}const o=this._trackIdToObservations.get(r),a=o?.enqueue(i);null!=a&&(this._addOrUpdated.has(a)?this._addOrUpdated.delete(a):this._removed.push(a))}checkForUpdates(){const t=this._getToAdd(),e=this._getToRemove(),s=performance.now(),i=s-this._lastPurge,d=Date.now();i>=this.purgeInterval&&(this._purge(s),this._lastPurge=s);const a=[];if(null!=e)for(const r of e){const t=this.store.removeById(r);null!=t&&a.push(t)}const n=[];if(null!=t){const i=new Set(e??[]);for(const e of t)i.has(e.objectId)||(e.attributes[_support_streamLayerUtils_js__WEBPACK_IMPORTED_MODULE_3__.esriTimestamp]=s,e.attributes[_support_streamLayerUtils_js__WEBPACK_IMPORTED_MODULE_3__.internalTimeReceivedField]=d,this.store.add(e),n.push(e))}return!(!n.length&&!a?.length)&&(this.store.update(n,a),!0)}_getToAdd(){if(!this._addOrUpdated.size)return null;const t=new Array(this._addOrUpdated.size);let e=0;return this._addOrUpdated.forEach((s=>t[e++]=s)),this._addOrUpdated.clear(),t}_getToRemove(){const t=this._removed;return this._removed.length?(this._removed=[],t):null}_nextId(){const t=this._idCounter;return this._idCounter=(this._idCounter+1)%4294967294+1,t}_purge(t){const e=this._purgeOptions;null!=e&&(this._purgeSomeByDisplayCount(e),this._purgeByAge(e),this._purgeByAgeReceived(t,e),this._purgeTracks())}_purgeSomeByDisplayCount(t){if(!t.displayCount)return;let e=this.store.size;if(e>t.displayCount){if(this._timeInfo.trackIdField)for(const s of this._trackIdToObservations.values())if(e>t.displayCount&&s.size){const t=s.dequeue();this._removed.push(t),e--}if(null!=this._trackIdLessObservations){let s=e-t.displayCount;for(;s-- >0;){const t=this._trackIdLessObservations.dequeue();null!=t&&this._removed.push(t)}}}}_purgeByAge(t){const e=this._timeInfo?.startTimeField;if(!t.age||!e)return;const s=60*t.age*1e3,i=this._maxAge-s;this.store.forEach((t=>{t.attributes[e]<i&&this._removed.push(t.objectId)}))}_purgeByAgeReceived(t,e){if(!e.ageReceived)return;const s=t-60*e.ageReceived*1e3;this.store.forEach((t=>{t.attributes[_support_streamLayerUtils_js__WEBPACK_IMPORTED_MODULE_3__.esriTimestamp]<s&&this._removed.push(t.objectId)}))}_purgeTracks(){this._trackIdToObservations.forEach(((t,e)=>{0===t.size&&this._trackIdToObservations.delete(e)}))}}


/***/ }),

/***/ "./node_modules/@arcgis/core/layers/graphics/data/optimizedFeatureQueryEngineAdapter.js":
/*!**********************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/graphics/data/optimizedFeatureQueryEngineAdapter.js ***!
  \**********************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   optimizedFeatureQueryEngineAdapter: () => (/* binding */ e)
/* harmony export */ });
/* harmony import */ var _OptimizedFeature_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../OptimizedFeature.js */ "./node_modules/@arcgis/core/layers/graphics/OptimizedFeature.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
const e={getObjectId:t=>t.objectId,getAttributes:t=>t.attributes,getAttribute:(t,e)=>t.attributes[e],cloneWithGeometry:(e,r)=>new _OptimizedFeature_js__WEBPACK_IMPORTED_MODULE_0__.OptimizedFeature(r,e.attributes,null,e.objectId),getGeometry:t=>t.geometry,getCentroid:(t,e)=>t.ensureCentroid(e)};


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/engine/webgl/mesh/MultiTileMeshData.js":
/*!***********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/webgl/mesh/MultiTileMeshData.js ***!
  \***********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   MultiTileMeshData: () => (/* binding */ g)
/* harmony export */ });
/* harmony import */ var _tiling_TileInfoView_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../tiling/TileInfoView.js */ "./node_modules/@arcgis/core/views/2d/tiling/TileInfoView.js");
/* harmony import */ var _tiling_TileKey_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../tiling/TileKey.js */ "./node_modules/@arcgis/core/views/2d/tiling/TileKey.js");
/* harmony import */ var _tiling_TileQueue_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../tiling/TileQueue.js */ "./node_modules/@arcgis/core/views/2d/tiling/TileQueue.js");
/* harmony import */ var _tiling_TileStrategy_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../tiling/TileStrategy.js */ "./node_modules/@arcgis/core/views/2d/tiling/TileStrategy.js");
/* harmony import */ var _definitions_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../definitions.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/definitions.js");
/* harmony import */ var _MeshData_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./MeshData.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/mesh/MeshData.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
const r=1,i=2,n=4,h=8,o=16,c=32,a=64,l=128;function f(e){switch(e){case r:case h:case c:return-1;case i:case a:return 0;case n:case o:case l:return 1}}function u(e){switch(e){case r:case i:case n:return-1;case h:case o:return 0;case c:case a:case l:return 1}}const _=r|h|c,d=n|o|l,m=r|i|n,p=c|a|l;class g{constructor(e,t,r,i,n=0){this.tileKey=e,this._bufferingEnabled=t,this._sizeHint=n,this._meshes={self:new _MeshData_js__WEBPACK_IMPORTED_MODULE_5__.MeshData(this.id,this._sizeHint),neighbors:new Array},this._currentRecordOverlaps=0,this._currentEntityOverlaps=0;const h=i?1:0;this._copyBufferedDataIntoSelf=r&&this._bufferingEnabled&&e.level===h}get id(){return this.tileKey.id}vertexStart(){return this._meshes.self.vertexStart()??0}vertexCount(){return this._meshes.self.vertexCount()}indexCount(){return this._meshes.self.indexCount()}indexEnsureSize(e){this._meshes.self.indexEnsureSize(e)}entityStart(e,t=e){this._currentEntityOverlaps=0,this._meshes.self.entityStart(e,t)}entityRecordCount(){return this._meshes.self.entityRecordCount()}entityEnd(){if(this._meshes.self.entityEnd(),this._bufferingEnabled){if(this._copyBufferedDataIntoSelf)return;for(let e=0;e<8;e++){const t=1<<e;!!(this._currentEntityOverlaps&t)&&this._meshes.neighbors[e].entityEnd()}}}recordStart(e,t,s){this._currentRecordOverlaps=0,this._meshes.self.recordStart(e,t,s)}recordEnd(e=0){const t=this._meshes.self.recordEnd(this._currentRecordOverlaps);return t&&0!==this._currentRecordOverlaps?(this._copyIntoNeighbors(),this._currentEntityOverlaps|=this._currentRecordOverlaps,!0):t}recordBounds(e,t,s,r){this._bufferingEnabled&&this._addOverlap(e,t,s,r)}recordCount(){return this._meshes.self.recordCount()}metricStart(e){this._meshes.self.metricStart(e)}metricBoxWrite(e){this._meshes.self.metricBoxWrite(e)}metricEnd(){this._meshes.self.metricEnd()}vertexWrite(e){this._meshes.self.vertexWrite(e)}vertexWriteF32(e){this._meshes.self.vertexWriteF32(e)}vertexWriteRegion(e){this._meshes.self.vertexWriteRegion(e)}indexWrite(e){this._meshes.self.indexWrite(e)}serialize(t){const s={message:[],transferList:[]},r=this._meshes.self.serialize();return s.message.push({tileId:this.tileKey.id,...r.message}),s.transferList.push(...r.transferList),this._meshes.neighbors.forEach(((r,i)=>{const n=r.serialize(),h=1<<i,o=f(h),c=u(h),a=new _tiling_TileKey_js__WEBPACK_IMPORTED_MODULE_1__["default"](this.tileKey).getNormalizedNeighbor(o,c,t);s.message.push({tileId:a.id,...n.message}),s.transferList.push(...n.transferList)})),s}_addOverlap(e,s,r,i){const n=Math.min(_definitions_js__WEBPACK_IMPORTED_MODULE_4__.tileSize/2,r),h=Math.min(_definitions_js__WEBPACK_IMPORTED_MODULE_4__.tileSize/2,i),o=255^((e<0+n?d:e>=_definitions_js__WEBPACK_IMPORTED_MODULE_4__.tileSize-n?_:d|_)|(s<0+h?p:s>=_definitions_js__WEBPACK_IMPORTED_MODULE_4__.tileSize-h?m:p|m));this._currentRecordOverlaps|=o}_copyIntoNeighbors(){for(let e=0;e<8;e++){const r=1<<e;if(!!(this._currentRecordOverlaps&r)){if(this._copyBufferedDataIntoSelf){const e=-f(r)*_definitions_js__WEBPACK_IMPORTED_MODULE_4__.tileSize,s=-u(r)*_definitions_js__WEBPACK_IMPORTED_MODULE_4__.tileSize;if(0!==s)continue;this._meshes.self.copyLast(e,s);continue}if(!this._meshes.neighbors[e]){const t=Math.floor(this._sizeHint/16);this._meshes.neighbors[e]=new _MeshData_js__WEBPACK_IMPORTED_MODULE_5__.MeshData(r,t)}const i=this._meshes.neighbors[e],n=-f(r)*_definitions_js__WEBPACK_IMPORTED_MODULE_4__.tileSize,h=-u(r)*_definitions_js__WEBPACK_IMPORTED_MODULE_4__.tileSize;i.copyLastFrom(this._meshes.self,n,h)}}}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/engine/webgl/mesh/factories/FeatureMeshFactory.js":
/*!**********************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/webgl/mesh/factories/FeatureMeshFactory.js ***!
  \**********************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   FeatureMeshFactory: () => (/* binding */ s)
/* harmony export */ });
/* harmony import */ var _MeshFactory_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./MeshFactory.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/mesh/factories/MeshFactory.js");
/* harmony import */ var _util_createMatcher_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../util/createMatcher.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/util/createMatcher.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
class s extends _MeshFactory_js__WEBPACK_IMPORTED_MODULE_0__.AMeshFactory{static async create(e,o){const r=await (0,_util_createMatcher_js__WEBPACK_IMPORTED_MODULE_1__.createMatcher)(e,o.symbology),c=o.labels?await (0,_util_createMatcher_js__WEBPACK_IMPORTED_MODULE_1__.createMatcher)(e,o.labels):null;return new s(r,c)}constructor(e,t){super(),this._symbology=e,this._labels=t}destroy(){}async enqueueMatcherRequests(e,t){await Promise.all([this._symbology.fetchResources(e,t),this._labels?.fetchResources(e,t)])}enqueueWriterRequests(e,t,s,o){const r=this._symbology.match(t,s,o);if(r){for(const o of r)o.enqueueRequest(e,t,s);if(this._labels){const r=this._labels.match(t,s,o);if(!r)return;for(const o of r)o.enqueueRequest(e,t,s)}}}write(e,t,s,o,r,c){const a=this._symbology.match(s,o,r);if(!a)return;for(const n of a)n.write(e,t,s,o,c);if(e.entityRecordCount()>=1&&this._labels){const n=this._labels.match(s,o,r);if(!n)return;for(const r of n)r.setReferences(a),r.write(e,t,s,o,c)}}getSortKey(e,t){return this._symbology.getSortKey(e,t)}hasArcadeDependency(e){return!(!this._symbology.hasArcadeDependency(e)&&!this._labels?.hasArcadeDependency(e))}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/engine/webgl/mesh/factories/MeshFactory.js":
/*!***************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/webgl/mesh/factories/MeshFactory.js ***!
  \***************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   AMeshFactory: () => (/* binding */ s)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
class s{}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/engine/webgl/shaderGraph/techniques/TechniqueType.js":
/*!*************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/webgl/shaderGraph/techniques/TechniqueType.js ***!
  \*************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   RasterTechniqueType: () => (/* binding */ t),
/* harmony export */   TechniqueType: () => (/* binding */ e)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
var e,t;!function(e){e[e.AnimatedFill=0]="AnimatedFill",e[e.AnimatedLine=1]="AnimatedLine",e[e.AnimatedMarker=2]="AnimatedMarker",e[e.AnimatedMarkerShift=3]="AnimatedMarkerShift",e[e.Bitmap=4]="Bitmap",e[e.Blend=5]="Blend",e[e.ComplexFill=6]="ComplexFill",e[e.ComplexOutlineFill=7]="ComplexOutlineFill",e[e.DotDensity=8]="DotDensity",e[e.Fill=9]="Fill",e[e.GradientFill=10]="GradientFill",e[e.GradientStroke=11]="GradientStroke",e[e.Grid=12]="Grid",e[e.Heatmap=13]="Heatmap",e[e.Label=14]="Label",e[e.Line=15]="Line",e[e.Magnifier=16]="Magnifier",e[e.Marker=17]="Marker",e[e.OutlineFill=18]="OutlineFill",e[e.Overlay=19]="Overlay",e[e.PatternFill=20]="PatternFill",e[e.PatternOutlineFill=21]="PatternOutlineFill",e[e.PieChart=22]="PieChart",e[e.Test=23]="Test",e[e.Text=24]="Text",e[e.TexturedLine=25]="TexturedLine",e[e.VideoScreen=26]="VideoScreen"}(e||(e={})),function(e){e[e.RasterColorizer=0]="RasterColorizer",e[e.RasterProcessor=1]="RasterProcessor",e[e.Aspect=2]="Aspect",e[e.BandArithmetic=3]="BandArithmetic",e[e.ColormapToRGB=4]="ColormapToRGB",e[e.CompositeBand=5]="CompositeBand",e[e.ComputeChange=6]="ComputeChange",e[e.ContrastBrightness=7]="ContrastBrightness",e[e.Convolution=8]="Convolution",e[e.Curvature=9]="Curvature",e[e.ExtractBand=10]="ExtractBand",e[e.Grayscale=11]="Grayscale",e[e.Hillshade=12]="Hillshade",e[e.Local=13]="Local",e[e.Mask=14]="Mask",e[e.NDVI=15]="NDVI",e[e.Remap=16]="Remap",e[e.Reproject=17]="Reproject",e[e.ShadedRelief=18]="ShadedRelief",e[e.Slope=19]="Slope",e[e.Statistics=20]="Statistics",e[e.Stretch=21]="Stretch"}(t||(t={}));


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/engine/webgl/util/DictionaryMatcher.js":
/*!***********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/webgl/util/DictionaryMatcher.js ***!
  \***********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   DictionaryMatcher: () => (/* binding */ e)
/* harmony export */ });
/* harmony import */ var _renderers_support_DictionaryScriptEvaluator_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../renderers/support/DictionaryScriptEvaluator.js */ "./node_modules/@arcgis/core/renderers/support/DictionaryScriptEvaluator.js");
/* harmony import */ var _Matcher_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Matcher.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/util/Matcher.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
class e extends _Matcher_js__WEBPACK_IMPORTED_MODULE_1__.FeatureMatcher{static async fromDictionaryRenderer(r,o){const n=await _renderers_support_DictionaryScriptEvaluator_js__WEBPACK_IMPORTED_MODULE_0__.DictionaryScriptEvaluator.from(o.dictionaryInfo,o.userConfig,o.fieldMap);return new e(r,n)}constructor(t,r){super(),this._context=t,this._evaluator=r,this._controlStringToPromise=new Map,this._controlStringToGroup=new Map}async fetchResources(t,r){const e=r.getCursor(),o=new Set;for(;e.next();){const t=this._evaluateControlString(e);t&&o.add(t)}const n=Array.from(o.values()).map((r=>this._ensureGroup(t,r)));await Promise.all(n)}match(t,r){const e=this._evaluateControlString(t);return e?this._controlStringToGroup.get(e):null}_evaluateControlString(t){const r=t.readLegacyFeatureWorldSpace();return this._evaluator.evaluate(r,0,t.fields,null)}_ensureGroup(t,r){let e=this._controlStringToPromise.get(r);return null==e&&(e=this._fetchGroup(t,r),this._controlStringToPromise.set(r,e)),e}async _fetchGroup(t,r){const e=await t.fetchDictionaryResourceImmediate({type:"dictionary-request",controlString:r});if(!e)return;const o=await this._context.createMeshWriters(e.meshes);this._controlStringToGroup.set(r,o)}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/engine/webgl/util/IntervalMatcher.js":
/*!*********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/webgl/util/IntervalMatcher.js ***!
  \*********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   IntervalMatcher: () => (/* binding */ t)
/* harmony export */ });
/* harmony import */ var _Matcher_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Matcher.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/util/Matcher.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
class t extends _Matcher_js__WEBPACK_IMPORTED_MODULE_0__.FeatureMatcher{constructor(e,t){super(),this._intervals=[],this._isMaxInclusive=t,this._field=e}static async fromIntervalSchema(e,s){const r=await e.storage.createComputedField(s),a=new t(r,s.isMaxInclusive);await Promise.all(s.intervals.map((async t=>{const s=await e.createMeshWriters(t.meshes);a.add(t,s)})));const i=await e.createMeshWriters(s.defaultSymbol);a.setDefault(i);const n=await e.createMeshWriters(s.backgroundFill);return a.setBackgroundFill(n),a}add(e,t){this._intervals.push({interval:e,result:t}),this._intervals.sort(((e,t)=>e.interval.min-t.interval.min))}size(){return super.size()+this._intervals.length}hasArcadeDependency(e){return this._field?.hasArcadeDependency(e)||this._intervals.some((t=>t.result.some((t=>t.hasArcadeDependency(e)))))}doMatch(e,t){const s=this._field?.read(e,t);if(null==s||isNaN(s)||s===1/0||s===-1/0)return null;for(let r=0;r<this._intervals.length;r++){const{interval:e,result:t}=this._intervals[r],a=s>=e.min,i=this._isMaxInclusive?s<=e.max:s<e.max;if(a&&i)return t}return null}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/engine/webgl/util/LabelMatcher.js":
/*!******************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/webgl/util/LabelMatcher.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   LabelMatcher: () => (/* binding */ s)
/* harmony export */ });
/* harmony import */ var _Matcher_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Matcher.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/util/Matcher.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
class s extends _Matcher_js__WEBPACK_IMPORTED_MODULE_0__.FeatureMatcher{static async fromLabelSchema(e,a){const r=a.classes.map((async s=>{const a=await e.createMeshWriters(s.meshes);return{minScale:s.minScale,maxScale:s.maxScale,meshes:a,expression:null,where:await e.storage.createWhereClause(s.where)}})),t=await Promise.all(r);return new s(t)}constructor(e){super(),this._labels=e}match(e,s,a){if(!this._labels.length)return null;const r=this._getLabels(s.$view.scale),t=[];for(const l of r)l.where&&!l.where(e,a)||t.push(...l.meshes);return t}hasArcadeDependency(e){return this._labels.some((s=>s.meshes.some((s=>s.hasArcadeDependency(e)))))}_getLabels(e){return this._labels.filter((s=>this._validForTileScale(s,e)))}_validForTileScale(e,s){const a=s-s/4,r=s+s/2;return(!e.minScale||e.minScale>=a)&&(!e.maxScale||e.maxScale<=r)}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/engine/webgl/util/MapMatcher.js":
/*!****************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/webgl/util/MapMatcher.js ***!
  \****************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   MapMatcher: () => (/* binding */ t)
/* harmony export */ });
/* harmony import */ var _Matcher_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Matcher.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/util/Matcher.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
class t extends _Matcher_js__WEBPACK_IMPORTED_MODULE_0__.FeatureMatcher{constructor(e,t){super(),this._defaultSymbolSortKey=0,this._nullResult=null,this._resultsMap=new Map,this._fields=[],this._fields=e,this._separator=t||""}static async fromMatcherSchema(e,s){const l=s.expression?[e.storage.createComputedField({expression:s.expression})]:[s.field?e.storage.createComputedField({field:s.field}):null,s.field2?e.storage.createComputedField({field:s.field2}):null,s.field3?e.storage.createComputedField({field:s.field3}):null],r=(await Promise.all(l)).filter((e=>!!e)),i=new t(r,s.fieldDelimiter),a=await e.createMeshWriters(s.defaultSymbol);i.setDefault(a);const u=await e.createMeshWriters(s.backgroundFill);return i.setBackgroundFill(u),await Promise.all(s.map.map((async(t,s)=>{const l=await e.createMeshWriters(t.symbol);"<Null>"===t.value?i.setNullResult(l):i.add(t.value,l,s+1)}))),i}setNullResult(e){this._nullResult=e}getSortKey(e,t){const s=this._getValueFromFields(e,t);if(null==s||""===s||"<Null>"===s)return 0;const l=this._resultsMap.get(s.toString());return l?l.sortKey:this._defaultSymbolSortKey}add(e,t,s){this._resultsMap.set(e.toString(),{meshWriters:t,sortKey:s}),this._defaultSymbolSortKey=Math.max(this._defaultSymbolSortKey,s+1)}size(){return super.size()+this._resultsMap.size}hasArcadeDependency(e){return this._fields.some((t=>t.hasArcadeDependency(e)))||[...this._resultsMap.values()].some((t=>t.meshWriters.some((t=>t.hasArcadeDependency(e)))))||this._nullResult?.some((t=>t.hasArcadeDependency(e)))||!1}doMatch(e,t){const s=this._getValueFromFields(e,t);if(null!==this._nullResult&&(null==s||""===s||"<Null>"===s))return this._nullResult;if(null==s)return null;const l=s.toString();return this._resultsMap.get(l)?.meshWriters}_getValueFromFields(e,t){const s=[];for(const l of this._fields){const r=l.read(e,t);null==r||""===r?s.push("<Null>"):s.push(r)}return s.join(this._separator)}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/engine/webgl/util/Matcher.js":
/*!*************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/webgl/util/Matcher.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   FeatureMatcher: () => (/* binding */ t)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
class t{constructor(){this._defaultResult=null,this._backgroundFillResult=null}static async from(e,s){const l=new t;return l.setDefault(await e.createMeshWriters(s.meshes)),l}size(){return 1}getDefault(){return this._defaultResult}setDefault(t){this._defaultResult=t}getBackgroundFill(){return this._backgroundFillResult}setBackgroundFill(t){this._backgroundFillResult=t}hasArcadeDependency(t){return this._defaultResult?.some((e=>e.hasArcadeDependency(t)))??!1}match(t,e,s){const l=this.doMatch(t,e)||this.getDefault();if(l&&l.length>0){const t=this.getBackgroundFill();if(t)return[...t,...l]}return l}getSortKey(t,e){return 0}doMatch(t,e){return null}async fetchResources(t,e){}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/engine/webgl/util/MatcherContext.js":
/*!********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/webgl/util/MatcherContext.js ***!
  \********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   MatcherContext: () => (/* binding */ s)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
class s{constructor(s,t,r,e,i){this.storage=s,this.proxy=t,this.viewParams=r,this.registry=e,this.fieldsMap=i}async createMeshWriters(s){const t=s.map((s=>this.registry.createMeshWriter(this.storage,this.proxy,this.viewParams,s,this.fieldsMap)));return Promise.all(t)}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/engine/webgl/util/createMatcher.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/webgl/util/createMatcher.js ***!
  \*******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ClusterMatcher: () => (/* binding */ o),
/* harmony export */   SubtypeMatcher: () => (/* binding */ h),
/* harmony export */   createMatcher: () => (/* binding */ i)
/* harmony export */ });
/* harmony import */ var _layers_support_streamLayerUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../layers/support/streamLayerUtils.js */ "./node_modules/@arcgis/core/layers/support/streamLayerUtils.js");
/* harmony import */ var _DictionaryMatcher_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./DictionaryMatcher.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/util/DictionaryMatcher.js");
/* harmony import */ var _IntervalMatcher_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./IntervalMatcher.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/util/IntervalMatcher.js");
/* harmony import */ var _LabelMatcher_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./LabelMatcher.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/util/LabelMatcher.js");
/* harmony import */ var _MapMatcher_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./MapMatcher.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/util/MapMatcher.js");
/* harmony import */ var _Matcher_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./Matcher.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/util/Matcher.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
async function i(e,t){switch(t.type){case"simple":case"heatmap":case"dot-density":case"pie-chart":return _Matcher_js__WEBPACK_IMPORTED_MODULE_5__.FeatureMatcher.from(e,t);case"interval":return _IntervalMatcher_js__WEBPACK_IMPORTED_MODULE_2__.IntervalMatcher.fromIntervalSchema(e,t);case"dictionary":return _DictionaryMatcher_js__WEBPACK_IMPORTED_MODULE_1__.DictionaryMatcher.fromDictionaryRenderer(e,t);case"label":return _LabelMatcher_js__WEBPACK_IMPORTED_MODULE_3__.LabelMatcher.fromLabelSchema(e,t);case"map":return _MapMatcher_js__WEBPACK_IMPORTED_MODULE_4__.MapMatcher.fromMatcherSchema(e,t);case"subtype":return h.fromSubtypes(e,t);case"cluster":return o.fromClusterSchema(e,t);case"track":return u.fromTrackSchema(e,t);default:throw new Error("Impl")}}class h extends _Matcher_js__WEBPACK_IMPORTED_MODULE_5__.FeatureMatcher{constructor(e,t){super(),this._subMatchers=e,this._subtypeField=t}static async fromSubtypes(e,t){const r=new Map,a=[];for(const s in t.renderers){const c=parseInt(s,10),n=i(e,t.renderers[s]).then((e=>r.set(c,e)));a.push(n)}return await Promise.all(a),new h(r,t.subtypeField)}match(e,t,r){const a=e.readAttribute(this._subtypeField),s=this._subMatchers.get(a);return s?s.match(e,t,r):null}hasArcadeDependency(e){for(const t of this._subMatchers.values())if(t.hasArcadeDependency(e))return!0;return!1}}class o extends _Matcher_js__WEBPACK_IMPORTED_MODULE_5__.FeatureMatcher{static async fromClusterSchema(e,t){const[r,a]=await Promise.all([i(e,t.feature),i(e,t.cluster)]);return new o(r,a)}constructor(e,t){super(),this._featureMatcher=e,this._clusterMatcher=t}match(e,t,r){return 1===e.readAttribute("cluster_count")?this._featureMatcher.match(e,t,r):this._clusterMatcher.match(e,t,r)}hasArcadeDependency(e){return this._featureMatcher.hasArcadeDependency(e)||this._clusterMatcher.hasArcadeDependency(e)}}class u extends _Matcher_js__WEBPACK_IMPORTED_MODULE_5__.FeatureMatcher{static async fromTrackSchema(e,t){const[r,a,s]=await Promise.all([i(e,t.previousObservation),i(e,t.latestObservation),i(e,t.trackLine)]);return new u(r,a,s)}constructor(e,t,r){super(),this._previousObservationMatcher=e,this._latestObservationMatcher=t,this._trackLineMatcher=r}match(r,a,s){switch(r.readAttribute(_layers_support_streamLayerUtils_js__WEBPACK_IMPORTED_MODULE_0__.internalTrackPartField)){case _layers_support_streamLayerUtils_js__WEBPACK_IMPORTED_MODULE_0__.TrackPart.TrackLine:return this._trackLineMatcher.match(r,a,s);case _layers_support_streamLayerUtils_js__WEBPACK_IMPORTED_MODULE_0__.TrackPart.LatestObservation:return this._latestObservationMatcher.match(r,a,s);case _layers_support_streamLayerUtils_js__WEBPACK_IMPORTED_MODULE_0__.TrackPart.PreviousObservation:return this._previousObservationMatcher.match(r,a,s)}return null}hasArcadeDependency(e){return this._trackLineMatcher.hasArcadeDependency(e)||this._latestObservationMatcher.hasArcadeDependency(e)||this._previousObservationMatcher.hasArcadeDependency(e)}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/features/FeaturePipelineWorker.js":
/*!*************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/features/FeaturePipelineWorker.js ***!
  \*************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ y)
/* harmony export */ });
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_handleUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/handleUtils.js */ "./node_modules/@arcgis/core/core/handleUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_nextTick_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../core/nextTick.js */ "./node_modules/@arcgis/core/core/nextTick.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _core_RandomLCG_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../core/RandomLCG.js */ "./node_modules/@arcgis/core/core/RandomLCG.js");
/* harmony import */ var _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../core/reactiveUtils.js */ "./node_modules/@arcgis/core/core/reactiveUtils.js");
/* harmony import */ var _core_screenUtils_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../core/screenUtils.js */ "./node_modules/@arcgis/core/core/screenUtils.js");
/* harmony import */ var _core_workers_utils_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../core/workers/utils.js */ "./node_modules/@arcgis/core/core/workers/utils.js");
/* harmony import */ var _layers_support_TileInfo_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../layers/support/TileInfo.js */ "./node_modules/@arcgis/core/layers/support/TileInfo.js");
/* harmony import */ var _engine_webgl_definitions_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../engine/webgl/definitions.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/definitions.js");
/* harmony import */ var _PipelineConnectionHandlers_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./PipelineConnectionHandlers.js */ "./node_modules/@arcgis/core/views/2d/layers/features/PipelineConnectionHandlers.js");
/* harmony import */ var _Processor_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./Processor.js */ "./node_modules/@arcgis/core/views/2d/layers/features/Processor.js");
/* harmony import */ var _sources_FeatureSource_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./sources/FeatureSource.js */ "./node_modules/@arcgis/core/views/2d/layers/features/sources/FeatureSource.js");
/* harmony import */ var _sources_FeatureTileSubscription_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./sources/FeatureTileSubscription.js */ "./node_modules/@arcgis/core/views/2d/layers/features/sources/FeatureTileSubscription.js");
/* harmony import */ var _support_Tile_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./support/Tile.js */ "./node_modules/@arcgis/core/views/2d/layers/features/support/Tile.js");
/* harmony import */ var _tiling_TileInfoView_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../tiling/TileInfoView.js */ "./node_modules/@arcgis/core/views/2d/tiling/TileInfoView.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
class m{constructor(e){this.inner=e,this.resolver=(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_4__.createResolver)()}}class y{constructor(){this._aggregateAdapter={getFeatureObjectIds:e=>this._processor.getFeatureObjectIdsForAggregate(e)},this._subscriptions=new Map,this._cachedObjectIds=new Set,this._updateRequested=!1,this._didSourceRefresh=!1,this._updateSubscriptionRequests=[],this._updateHighlightRequests=[]}destroy(){this._subscriptions.clear(),this._processor?.destroy(),this._source?.destroy(),this._handles?.remove(),this._updateOverridesRequest=null,this._tileInfoView=null}onAttach(e){(0,_core_has_js__WEBPACK_IMPORTED_MODULE_2__["default"])("esri-2d-update-debug")&&console.debug("Pipeline.onAttach");const s=this._connection,i=_layers_support_TileInfo_js__WEBPACK_IMPORTED_MODULE_9__["default"].fromJSON(e.tileInfoJSON);this._tileInfoView=new _tiling_TileInfoView_js__WEBPACK_IMPORTED_MODULE_16__["default"](i),this._source=new _sources_FeatureSource_js__WEBPACK_IMPORTED_MODULE_13__.FeatureSource(e.service,this._aggregateAdapter,this._subscriptions,s,this._cachedObjectIds),this._processor=new _Processor_js__WEBPACK_IMPORTED_MODULE_12__["default"](s,this._source),this._handles=(0,_core_handleUtils_js__WEBPACK_IMPORTED_MODULE_1__.handlesGroup)([this._source.store.events.on("changed",(()=>this._requestUpdate())),this._source.store.events.on("refresh",(()=>this._requestRefresh())),(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_6__.watch)((()=>this._source.updateTracking.updating),(()=>{this._requestUpdate(),(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_4__.ignoreAbortErrors)(this._connection.layerView.setUpdating({source:this._source.updateTracking.updating,pipeline:!0}))}))])}onDetach(){(0,_core_has_js__WEBPACK_IMPORTED_MODULE_2__["default"])("esri-2d-update-debug")&&console.debug("Pipeline.onDetach"),this.destroy()}set remoteClient(e){this._connection=new _PipelineConnectionHandlers_js__WEBPACK_IMPORTED_MODULE_11__.PipelineConnectionHandlers(e)}get features(){const t=this._source?.queryEngine;if(!t)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("no-queryEngine","No query engine defined");return t}get aggregates(){const t=this._processor?.aggregateQueryEngine;if(!t)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("no-queryEngine","No aggregate query engine defined");return t}get processor(){return this._processor}get streamMessenger(){return this._source.streamMessenger}getDisplayFeatures(e){return this._processor.getDisplayFeatures(e)}getDisplayIds(e){return this._processor.getDisplayIds(e)}getObjectIdsFromGlobalIds(e){return this._source.getObjectIdsFromGlobalIds(e)}async updateSchema(e,t){return (0,_core_has_js__WEBPACK_IMPORTED_MODULE_2__["default"])("esri-2d-update-debug")&&this._updateSchemaRequest&&console.error("InternalError: Schema already updating"),this._updateSchemaRequest=new m({schema:e,version:t}),this._requestUpdate(),this._updateSchemaRequest.resolver.promise}updateSubscriptions(e){const t=new m(e);return this._updateSubscriptionRequests.push(t),this._requestUpdate(),t.resolver.promise}updateHighlight(e){const t=new m(e);return this._updateHighlightRequests.push(t),this._requestUpdate(),t.resolver.promise}async addParquetFile(e){return this._source.addParquetFile(e)}async onOverride(t){if(null!=this._updateOverridesRequest)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("featurelayer","InternalError - Already processing an edit");this._updateOverridesRequest=new m(t);const s=this._updateOverridesRequest.resolver.promise;return this._requestUpdate(),s}queryStatistics(){return this._source.statistics.toJSON()}async queryVisibleFeatures(e,t){return this.features.executeQuery(e,t)}async queryHeatmapStatistics(e){const t=Math.round((0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_7__.pt2px)(e.radius));let s=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;const r="string"==typeof e.fieldOffset,o=e.fieldOffset??0,n=Array.from(this._subscriptions.values()),u=this._source.chunks(),d=t**2,c=3/(Math.PI*d),h=2*t,l=Math.ceil(_engine_webgl_definitions_js__WEBPACK_IMPORTED_MODULE_10__.tileSize/h);for(const a of n){const t=a.tile,n=new Float64Array(l*l);for(const s of u){const i=s.getTileReader(t);if(!i)continue;const u=i.getCursor();for(;u.next();){let t=1;if(null!=e.field){const s=u.readAttribute(e.field);t=r?-1*+s:+s+o}const s=u.readXForDisplay()/h,i=u.readYForDisplay()/h,a=Math.floor(s),p=Math.floor(i);if(a<0||p<0||a>=l||p>=l)continue;const g=((.5+a-s)*h)**2+((.5+p-i)*h)**2;if(g>d)continue;const _=t*(c*(1-g/d)**2);n[p+a*l]+=_}}for(let e=0;e<n.length;e++)s=Math.min(s,n[e]),i=Math.max(i,n[e])}return{max:i,min:s}}async getSampleFeatures(e){const t=this._source.chunks();if(t.reduce(((e,t)=>e+t.size()),0)<=e.minFeatureCount){if(!this._source.updateTracking.updating){const e=[];return this._source.store.forEachUnsafe((t=>e.push(t.readLegacyFeatureWorldSpace()))),e}return null}const s=new Set,i=[],r=t.map((e=>e.reader.getCursor())),o=new _core_RandomLCG_js__WEBPACK_IMPORTED_MODULE_5__["default"],u=3*e.sampleSize;for(let n=0;n<u&&i.length<e.sampleSize;n++){const e=r[o.getIntRange(0,t.length-1)];if(0===e.getSize())continue;const n=o.getIntRange(0,e.getSize()-1);e.setIndex(n);const u=e.getObjectId();s.has(u)||(s.add(u),i.push(e.readLegacyFeatureWorldSpace()))}return i.length>=e.sampleSize?i:null}_requestUpdate(){this._updateRequested||(this._updateRequested=!0,(0,_core_nextTick_js__WEBPACK_IMPORTED_MODULE_3__.nextTick)((()=>this._scheduleNextUpdate())))}_requestRefresh(){this._didSourceRefresh=!0,this._requestUpdate()}_scheduleNextUpdate(){this._updateRequested&&(this._ongoingUpdate||(this._ongoingUpdate=(0,_core_workers_utils_js__WEBPACK_IMPORTED_MODULE_8__.ignoreConnectionErrors)(this._doUpdate()).finally((()=>{this._ongoingUpdate=null,this._scheduleNextUpdate()})),this._updateRequested=!1))}_subscribe(e){const t=e.tileId;if(this._subscriptions.has(t))return;(0,_core_has_js__WEBPACK_IMPORTED_MODULE_2__["default"])("esri-2d-update-debug")&&console.debug(`Tile[${t}] Pipeline.subscribe`);const s=new _support_Tile_js__WEBPACK_IMPORTED_MODULE_15__.Tile(this._tileInfoView,t),i=new _sources_FeatureTileSubscription_js__WEBPACK_IMPORTED_MODULE_14__.FeatureTileSubscription(s,e.version);this._subscriptions.set(t,i),this._source.onSubscribe(i),this._processor.onSubscribe(i)}_unsubscribe(e){const t=this._subscriptions.get(e);t&&((0,_core_has_js__WEBPACK_IMPORTED_MODULE_2__["default"])("esri-2d-update-debug")&&console.debug(`Tile[${e}] Pipeline.unsubscribe`),t.abort(),this._source.onUnsubscribe(t),this._processor.onUnsubscribe(t),this._subscriptions.delete(t.key.id))}async _doUpdate(){if((0,_core_has_js__WEBPACK_IMPORTED_MODULE_2__["default"])("esri-2d-update-debug")&&console.debug("Pipeline._doUpdateStart"),await this._connection.layerView.setUpdating({source:this._source.updateTracking.updating,pipeline:!0}),this._updateSubscriptionRequests.length){const e=this._updateSubscriptionRequests;this._updateSubscriptionRequests=[];for(const t of e)this._doUpdateSubscriptions(t.inner),t.resolver.resolve()}if(this._updateHighlightRequests.length){const e=this._updateHighlightRequests,t=new Set,s=new Set;for(const i of e)for(const{objectId:e,highlightFlags:r}of i.inner.highlights)r?(t.add(e),s.delete(e)):(s.add(e),t.delete(e));this._source.prepareCacheUpdate(t,s)}const e=this._updateSchemaRequest;this._updateSchemaRequest=null;let t=!1;if(null!=e){const{schema:s,version:i}=e.inner;t=await this._doUpdateSchema(s,i)}this._processor.requiresInvalidation()&&(t=!0),this._didSourceRefresh&&(t=!0,this._didSourceRefresh=!1),t&&(this._processor.invalidate(),await this._connection.container.updateRenderState(this._processor.version));const s=this._updateOverridesRequest;if(this._updateOverridesRequest=null,null!=s){(0,_core_has_js__WEBPACK_IMPORTED_MODULE_2__["default"])("esri-2d-update-debug")&&console.debug("Pipeline.applyOverride",s.inner),null!=s.inner.historicMoment&&this._source.unsafeSetQueryHistoricMoment(s.inner.historicMoment);const e=await this._source.normalizeOverrides(s.inner);this._source.applyOverride(e),(0,_core_has_js__WEBPACK_IMPORTED_MODULE_2__["default"])("esri-2d-update-debug")&&console.debug("Pipeline.endOverride",s.inner)}if(await this._source.applyCacheUpdate(),this._updateHighlightRequests.length){const e=this._updateHighlightRequests;this._updateHighlightRequests=[];for(const t of e)this._processor.updateHighlight(t.inner),t.resolver.resolve()}const r=this._source.cleanup();this._processor.removeChunks(r);try{const e=this._source.takeOverrideUpdate();if(null!=e&&this._subscriptions.size){(0,_core_has_js__WEBPACK_IMPORTED_MODULE_2__["default"])("esri-2d-update-debug")&&console.debug("Pipeline.applyOverrideChangesStart"),await this._connection.container.lockForOverrides();try{await this._processor.applyOverrideUpdate(e)}catch(o){(0,_core_has_js__WEBPACK_IMPORTED_MODULE_2__["default"])("esri-2d-update-debug")&&console.debug("InternalError",o)}await this._connection.container.unlockForOverrides(),(0,_core_has_js__WEBPACK_IMPORTED_MODULE_2__["default"])("esri-2d-update-debug")&&console.debug("Pipeline.applyOverrideChangesEnd")}this._subscriptions.size&&((0,_core_has_js__WEBPACK_IMPORTED_MODULE_2__["default"])("esri-2d-update-debug")&&console.debug("Pipeline.updateChunksStart"),await this._processor.updateChunks(),(0,_core_has_js__WEBPACK_IMPORTED_MODULE_2__["default"])("esri-2d-update-debug")&&console.debug("Pipeline.updateChunksEnd"))}catch(o){(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_4__.throwIfNotAbortError)(o)}null!=s&&s.resolver.resolve(),null!=e&&e.resolver.resolve(),null==e&&t&&await this._connection.container.trySwapRenderState(),this._updateRequested?((0,_core_has_js__WEBPACK_IMPORTED_MODULE_2__["default"])("esri-2d-update-debug")&&console.debug("Pipeline._doUpdateEnd [updateRequested=true]"),await this._connection.layerView.setUpdating({source:this._source.updateTracking.updating,pipeline:!0})):((0,_core_has_js__WEBPACK_IMPORTED_MODULE_2__["default"])("esri-2d-update-debug")&&console.debug("Pipeline._doUpdateEnd [updateRequested=false, After flush]"),await this._connection.layerView.setUpdating({source:this._source.updateTracking.updating,pipeline:this._updateRequested}))}async _doUpdateSchema(e,t){(0,_core_has_js__WEBPACK_IMPORTED_MODULE_2__["default"])("esri-2d-update-debug")&&console.debug(`Version[${t}] Pipeline.updateStart`,{schema:e});const s={tileInfo:this._tileInfoView?.tileInfo},i=await this._source.update(e,t),r=Array.from(this._subscriptions.values()),o=this._processor.update(e,t,s,i,r);return (0,_core_has_js__WEBPACK_IMPORTED_MODULE_2__["default"])("esri-2d-update-debug")&&console.debug(`Version[${t}] Pipeline.updateEnd`),o}_doUpdateSubscriptions(e){(0,_core_has_js__WEBPACK_IMPORTED_MODULE_2__["default"])("esri-2d-update-debug")&&console.debug("Pipeline.updateSubscriptions",e);for(const t of e.subscribe)this._subscribe(t);for(const t of e.unsubscribe)this._unsubscribe(t)}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/features/FeatureSpatialIndex.js":
/*!***********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/features/FeatureSpatialIndex.js ***!
  \***********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   FeatureSpatialIndex: () => (/* binding */ t)
/* harmony export */ });
/* harmony import */ var _chunks_rbush_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../chunks/rbush.js */ "./node_modules/@arcgis/core/chunks/rbush.js");
/* harmony import */ var _geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../geometry/support/aaBoundingBox.js */ "./node_modules/@arcgis/core/geometry/support/aaBoundingBox.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
class t{static fromReader(o){const e=[],r=o.copy(),a=(0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_1__.create)();for(;r.next();){r.getBounds(a)&&e.push(r.getIndex())}const i=(0,_chunks_rbush_js__WEBPACK_IMPORTED_MODULE_0__.r)(9,(n=>(r.setIndex(n),{minX:r.getBoundsXMin(),minY:r.getBoundsYMin(),maxX:r.getBoundsXMax(),maxY:r.getBoundsYMax()})));return i.load(e),new t(i)}constructor(n){this._index=n}search(n){const s={minX:n[0],minY:n[1],maxX:n[2],maxY:n[3]};return this._index.search(s)}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/features/FeatureStoreStatistics.js":
/*!**************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/features/FeatureStoreStatistics.js ***!
  \**************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   FeatureStoreStatistics: () => (/* binding */ t)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
class t{static from(e){let n=0,r=0,o=0;return e.forEach((t=>{const e=t._readGeometry();e&&(r+=e.isPoint?1:e.lengths.reduce(((t,e)=>t+e),0),o+=e.isPoint?1:e.lengths.length,n+=1)})),new t(n,r,o)}constructor(t,e,n){this.featureCount=t,this.vertexCount=e,this.ringCount=n}toJSON(){return{featureCount:this.featureCount,ringCount:this.featureCount,vertexCount:this.featureCount}}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/features/PipelineConnectionHandlers.js":
/*!******************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/features/PipelineConnectionHandlers.js ***!
  \******************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   PipelineConnectionHandlers: () => (/* binding */ t)
/* harmony export */ });
/* harmony import */ var _core_workers_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/workers/utils.js */ "./node_modules/@arcgis/core/core/workers/utils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
class t{constructor(e){this._client=e,this.layerView=this._client.createInvokeProxy(""),this.container=this._client.createInvokeProxy("container"),this._eventLog=this._client.createInvokeProxy("eventLog")}onEvent(t){(0,_core_workers_utils_js__WEBPACK_IMPORTED_MODULE_0__.ignoreConnectionErrors)(this._eventLog.onEvent(t))}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/features/Processor.js":
/*!*************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/features/Processor.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ w)
/* harmony export */ });
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/maybe.js */ "./node_modules/@arcgis/core/core/maybe.js");
/* harmony import */ var _core_object_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core/object.js */ "./node_modules/@arcgis/core/core/object.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _core_accessorSupport_diffUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../core/accessorSupport/diffUtils.js */ "./node_modules/@arcgis/core/core/accessorSupport/diffUtils.js");
/* harmony import */ var _core_workers_utils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../core/workers/utils.js */ "./node_modules/@arcgis/core/core/workers/utils.js");
/* harmony import */ var _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../geometry/SpatialReference.js */ "./node_modules/@arcgis/core/geometry/SpatialReference.js");
/* harmony import */ var _engine_webgl_mesh_MultiTileMeshData_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../engine/webgl/mesh/MultiTileMeshData.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/mesh/MultiTileMeshData.js");
/* harmony import */ var _engine_webgl_mesh_factories_FeatureMeshFactory_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../engine/webgl/mesh/factories/FeatureMeshFactory.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/mesh/factories/FeatureMeshFactory.js");
/* harmony import */ var _engine_webgl_mesh_factories_ResourceProxy_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../engine/webgl/mesh/factories/ResourceProxy.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/mesh/factories/ResourceProxy.js");
/* harmony import */ var _engine_webgl_shaderGraph_techniques_mesh_MeshWriterRegistry_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../engine/webgl/shaderGraph/techniques/mesh/MeshWriterRegistry.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/shaderGraph/techniques/mesh/MeshWriterRegistry.js");
/* harmony import */ var _engine_webgl_util_MatcherContext_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../engine/webgl/util/MatcherContext.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/util/MatcherContext.js");
/* harmony import */ var _ProcessorTileMessageQueue_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./ProcessorTileMessageQueue.js */ "./node_modules/@arcgis/core/views/2d/layers/features/ProcessorTileMessageQueue.js");
/* harmony import */ var _processor_BinningStrategy_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./processor/BinningStrategy.js */ "./node_modules/@arcgis/core/views/2d/layers/features/processor/BinningStrategy.js");
/* harmony import */ var _processor_ClusterStrategy_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./processor/ClusterStrategy.js */ "./node_modules/@arcgis/core/views/2d/layers/features/processor/ClusterStrategy.js");
/* harmony import */ var _processor_FeatureUpdateStrategy_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./processor/FeatureUpdateStrategy.js */ "./node_modules/@arcgis/core/views/2d/layers/features/processor/FeatureUpdateStrategy.js");
/* harmony import */ var _processor_TrackStrategy_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./processor/TrackStrategy.js */ "./node_modules/@arcgis/core/views/2d/layers/features/processor/TrackStrategy.js");
/* harmony import */ var _support_AttributeStore_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./support/AttributeStore.js */ "./node_modules/@arcgis/core/views/2d/layers/features/support/AttributeStore.js");
/* harmony import */ var _support_ComputedAttributeStorage_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./support/ComputedAttributeStorage.js */ "./node_modules/@arcgis/core/views/2d/layers/features/support/ComputedAttributeStorage.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
class w{constructor(e,t){this._connection=e,this._source=t,this._version=1,this._registry=new _engine_webgl_shaderGraph_techniques_mesh_MeshWriterRegistry_js__WEBPACK_IMPORTED_MODULE_10__.MeshWriterRegistry,this._proxy=new _engine_webgl_mesh_factories_ResourceProxy_js__WEBPACK_IMPORTED_MODULE_9__.ResourceProxy({fetch:(e,t)=>this._connection.layerView.fetch(e,t),fetchDictionary:(e,t)=>this._connection.layerView.fetchDictionary(e,t)}),this._attributeStore=new _support_AttributeStore_js__WEBPACK_IMPORTED_MODULE_17__.AttributeStore({isLocal:!1,update:e=>(0,_core_workers_utils_js__WEBPACK_IMPORTED_MODULE_5__.ignoreConnectionErrors)(this._connection.container.updateAttributeView(e))})}destroy(){this._proxy.destroy(),this._strategy?.destroy(),this._attributeStore.destroy()}get aggregateQueryEngine(){return this._strategy?.aggregateQueryEngine}get version(){return this._version}getDisplayFeatures(e){return this._strategy?this._strategy.getDisplayFeatures(e):{features:[],aggregates:[],tracks:[]}}getDisplayIds(e){const t={};return this._strategy?(this._strategy.displayMap(e,(e=>e),((e,s,r)=>{t[r]=e})),t):t}getFeatureObjectIdsForAggregate(e){return this._strategy?this._strategy.getFeatureObjectIdsForAggregate(e):[]}onSubscribe(e){this._strategy?.onSubscribe(e)}onUnsubscribe(e){this._strategy?.onUnsubscribe(e)}requiresInvalidation(){return this._strategy?.requiresInvalidation()??!1}async update(e,s,r,i,o){const c=e.processor,u=(0,_core_object_js__WEBPACK_IMPORTED_MODULE_2__.notDeepEqual)(this._schema?.storage,c.storage),p=(0,_core_object_js__WEBPACK_IMPORTED_MODULE_2__.notDeepEqual)(this._schema?.mesh.properties,c.mesh.properties),y=(0,_core_object_js__WEBPACK_IMPORTED_MODULE_2__.notDeepEqual)(this._schema?.mesh.factory,c.mesh.factory),d=(0,_core_object_js__WEBPACK_IMPORTED_MODULE_2__.notDeepEqual)(this._schema?.mesh.strategy,c.mesh.strategy),_=S(this._schema?.expressionProperties,c.expressionProperties),l=_.some((e=>this._attributeStore.hasArcadeDependency(e))),m=_.some((e=>this._factory?.hasArcadeDependency(e)??!1)),f=_.some((e=>this._strategy?.hasArcadeDependency(e)))||this._strategy?.isAggregate&&l,w=m||f,I=p||y||d;if(!(u||I||(m||l||f))&&!i)return!1;(0,_core_has_js__WEBPACK_IMPORTED_MODULE_0__["default"])("esri-2d-update-debug")&&console.debug(`Version[${this._version}] SymbolProcessor.update`,{changes:(0,_core_accessorSupport_diffUtils_js__WEBPACK_IMPORTED_MODULE_4__.diff)(this._schema,c),schema:c}),this._schema=c;const x=_geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_6__["default"].fromJSON(this._source.service.outSpatialReference),v=new _support_ComputedAttributeStorage_js__WEBPACK_IMPORTED_MODULE_18__.ComputedAttributeStorage({fields:this._source.metadata.fieldsIndex,spatialReference:x}),M={currentUser:c.mesh.properties.currentUser};if((u||I||l)&&(await this._attributeStore.update(c.storage,v,this._source.metadata,s),this._strategy?.invalidateAttributeData(j(c))),!i&&!I&&!w)return!1;(d||p||w)&&await this._updateStrategy(c.mesh.strategy,x,o,j(c),M),this._updateSortKey(v,"sortKey"in c.mesh.properties?c.mesh.properties.sortKey:null);const k="dictionary"===c.mesh.factory.symbology.type?c.mesh.factory.symbology.fieldMap:null,U=new _engine_webgl_util_MatcherContext_js__WEBPACK_IMPORTED_MODULE_11__.MatcherContext(v,this._proxy,r,this._registry,k);return(y||"dictionary"===c.mesh.factory.symbology.type)&&(this._factory=await _engine_webgl_mesh_factories_FeatureMeshFactory_js__WEBPACK_IMPORTED_MODULE_8__.FeatureMeshFactory.create(U,c.mesh.factory)),this._version=s,!0}async applyOverrideUpdate(e){if(!this._strategy)return;const t=this._strategy.applyOverrideUpdate(e);for await(const r of t)try{await this._process(r)}catch(s){}}async updateChunks(){await this._doUpdateChunks(),this._strategy?.afterUpdateChunks()}async removeChunks(e){this._strategy?.removeChunks(e),this._attributeStore.incrementDisplayIdGeneration()}updateHighlight({highlights:e}){if(!this._strategy||!this._strategy.hasSubscribers)return void this._attributeStore.setHighlight(e.map((({objectId:e,highlightFlags:t})=>({objectId:e,highlightFlags:t,displayId:-1}))),e);const t=this._strategy.displayMap(e,(({objectId:e})=>e),((e,{highlightFlags:t},s)=>({objectId:s,displayId:e,highlightFlags:t})));this._attributeStore.setHighlight(t,e)}invalidate(){this._strategy&&this._strategy.invalidate()}async _doUpdateChunks(){if(!this._strategy)return;const e=this._strategy.updateChunks(),t=[],r=new Map;for await(const a of e){let e=r.get(a.id);null==e&&(e=new _ProcessorTileMessageQueue_js__WEBPACK_IMPORTED_MODULE_12__.ProcessorTileMessageQueue({concurrency:16,process:e=>this._process(e)}),r.set(a.id,e));const i=e.push(a).catch((e=>(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__.throwIfNotAbortError)(e)));t.push(i)}try{await Promise.all(t)}catch(i){}(0,_core_has_js__WEBPACK_IMPORTED_MODULE_0__["default"])("esri-2d-update-debug")&&console.log("SendUpdates"),this._attributeStore.sendUpdates(),(0,_core_has_js__WEBPACK_IMPORTED_MODULE_0__["default"])("esri-2d-update-debug")&&console.log("SendUpdates.await")}async _updateStrategy(e,t,s,r,i){switch(this._strategy?.destroy(),e.type){case"feature":this._strategy=new _processor_FeatureUpdateStrategy_js__WEBPACK_IMPORTED_MODULE_15__.FeatureUpdateStrategy(this._source,this._attributeStore,r,i);break;case"binning":this._strategy=await _processor_BinningStrategy_js__WEBPACK_IMPORTED_MODULE_13__.BinningStrategy.create(e,t,this._source,this._attributeStore,r,i);break;case"cluster":this._strategy=await _processor_ClusterStrategy_js__WEBPACK_IMPORTED_MODULE_14__.ClusterStrategy.create(this._connection,e,t,this._source,this._attributeStore,r,i);break;case"track":this._strategy=await _processor_TrackStrategy_js__WEBPACK_IMPORTED_MODULE_16__.TrackStrategy.create(e,t,this._source,this._attributeStore,r,i)}for(const a of s)this._strategy.onSubscribe(a)}async _updateSortKey(t,s){if(this._sortInfo=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_1__.destroyMaybe)(this._sortInfo?.computed),null!=s){const e=s.byRenderer?null:await t.createComputedField(s);this._sortInfo={...s,computed:e}}}async _process(e){const t=e.subscription;if((0,_core_has_js__WEBPACK_IMPORTED_MODULE_0__["default"])("esri-2d-update-debug")){const s=t.tile;console.debug(`Version[${this._version}] Tile[${s.key.id}, end=${e.end}] Processor._process`)}const s={currentUser:this._schema?.mesh.properties.currentUser};await this._fetchResources(e,s),(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__.throwIfAborted)(t.signal);const i=await this._write(e,t.tile.createArcadeEvaluationOptions(j(this._schema)),s),a=t.tile.tileInfoView.getLODInfoAt(t.tile.key);(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__.throwIfAborted)(t.signal);const{message:o,transferList:n}=i.serialize(a),c={objectIdMap:null,inner:e.createMessage(o,this._version,this._attributeStore.epoch)};if(this._schema?.mesh.properties.returnMeshObjectId){c.objectIdMap={};const t=e.reader?.getCursor();if(t)for(;t.next();)c.objectIdMap[t.getDisplayId()]=t.getObjectId()}if((0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__.throwIfAborted)(t.signal),await this._connection.container.onMessage(c,{signal:t.signal,transferList:n}),this._attributeStore.sendUpdates(),(0,_core_has_js__WEBPACK_IMPORTED_MODULE_0__["default"])("esri-2d-update-debug")){const s=t.tile;console.debug(`Version[${this._version}] Tile[${s.key.id}, end=${e.end}] Processor._process.await`)}}async _fetchResources(e,t){await this._fetchMatcherResources(e),await this._fetchWriterResources(e,t)}async _fetchMatcherResources(e){if(e.reader)return this._factory.enqueueMatcherRequests(this._proxy,e.reader)}async _fetchWriterResources(e,t){if(!e.reader)return;const s=e.reader.getCursor(),r=e.subscription.tile.createArcadeEvaluationOptions(j(this._schema));for(;s.next();)this._factory.enqueueWriterRequests(this._proxy,s,r,t);await this._proxy.fetchEnqueuedResources()}async _write(e,t,s){const a=e.subscription.tile,o=e.reader?.getCursor(),n=o?.getSize()??0,h=a.tileInfoView.tileInfo.isWrappable,u=a.tileInfoView.tileInfo.spatialReference.isWGS84,p=new _engine_webgl_mesh_MultiTileMeshData_js__WEBPACK_IMPORTED_MODULE_7__.MultiTileMeshData(a.key,this._strategy.enablePixelBuffering,h,u,n);if(!o)return p;const g=a.createArcadeEvaluationOptions(j(this._schema));let y=0;for(;o.next();){++y%1e3||(await (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__.after)(0),(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__.throwIfAborted)(e.subscription));const n=this._getSortKeyValue(o,t);p.entityStart(o.getDisplayId(),n),this._factory.write(p,this._proxy,o,g,s,a.level),p.entityEnd()}return p}_getSortKeyValue(e,t){if(!this._sortInfo)return 0;const{computed:s,order:r,byRenderer:i}=this._sortInfo,a=i?this._factory.getSortKey(e,t):s?.read(e,t);return null==a||isNaN(a)?0:a*("asc"===r?-1:1)}}function S(e,t){const s=[];return e?.timeExtent?.start===t.timeExtent?.start&&e?.timeExtent?.end===t.timeExtent?.end||s.push("timeProperties"),s}function j(e){const{timeZone:t}=e?.mesh.properties??{},{timeExtent:s}=e?.expressionProperties??{};return{timeZone:t,timeExtent:s}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/features/ProcessorTileMessageQueue.js":
/*!*****************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/features/ProcessorTileMessageQueue.js ***!
  \*****************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ProcessorTileMessageQueue: () => (/* binding */ e)
/* harmony export */ });
/* harmony import */ var _core_QueueProcessor_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/QueueProcessor.js */ "./node_modules/@arcgis/core/core/QueueProcessor.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
class e{constructor(e){this._outstandingMessages=[],this._queue=new _core_QueueProcessor_js__WEBPACK_IMPORTED_MODULE_0__.QueueProcessor({concurrency:e.concurrency,process:s=>e.process(s)})}async push(s){if(s.end)return await Promise.all(this._outstandingMessages),await this._queue.push(s),void(this._outstandingMessages=[]);const e=this._queue.push(s);return this._outstandingMessages.push(e),e}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/features/aggregation/AAggregateCell.js":
/*!******************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/features/aggregation/AAggregateCell.js ***!
  \******************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   AAggregateCell: () => (/* binding */ t)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
class t{constructor(t){this._statistics=t}get statistics(){return this._statistics}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/features/aggregation/AAggregateSpatialIndex.js":
/*!**************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/features/aggregation/AAggregateSpatialIndex.js ***!
  \**************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   AAggregateSpatialIndex: () => (/* binding */ r)
/* harmony export */ });
/* harmony import */ var _engine_webgl_definitions_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../engine/webgl/definitions.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/definitions.js");
/* harmony import */ var _support_arcadeUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../support/arcadeUtils.js */ "./node_modules/@arcgis/core/views/2d/layers/features/support/arcadeUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
class r{constructor(t){this._options=t}insert(t,r){const o=t.getCursor(),{arcadeContextInfo:s,scale:i}=this._options,n=(0,_support_arcadeUtils_js__WEBPACK_IMPORTED_MODULE_1__.createArcadeEvaluationOptions)(i,s);for(;o.next();)this._insertFeature(o,n,this._options.sqlOptions,r)}_insertFeature(e,r,o,s){const{featureFilter:i}=this._options;if(null!==i&&!i.check(e,o))return;let n=0,c=0;if("esriGeometryPoint"===e.geometryType)n=e.readXWorldSpace(),c=e.readYWorldSpace();else{if(s){const r=e.readCentroidForDisplay();if(null==r)return;const[o,s]=r.coords;if(o<0||o>_engine_webgl_definitions_js__WEBPACK_IMPORTED_MODULE_0__.tileSize||s<0||s>_engine_webgl_definitions_js__WEBPACK_IMPORTED_MODULE_0__.tileSize)return}const r=e.readCentroidWorldSpace();if(null==r)return;n=r.coords[0],c=r.coords[1]}this._insert(e,n,c,r)}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/features/aggregation/AccumulatedStatistics.js":
/*!*************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/features/aggregation/AccumulatedStatistics.js ***!
  \*************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   AccumulatedStatistics: () => (/* binding */ s)
/* harmony export */ });
/* harmony import */ var _arcade_callExpressionWithCursor_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../arcade/callExpressionWithCursor.js */ "./node_modules/@arcgis/core/views/2d/arcade/callExpressionWithCursor.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
const e=Math.PI/180;class s{static create(t){return new s(t.map((t=>i(t))))}constructor(t){this._statistics=t}values(){return this._statistics.values()}insert(t,e){for(const s of this._statistics)s.insert(t,e)}merge(t){for(let e=0;e<this._statistics.length;e++){const s=this._statistics[e],i=t._statistics[e];if(s.field.name!==i.field.name)throw new Error("InternalError: Tried to merge incompatible statistics");s.merge(i)}}clone(){return new s(this._statistics.map((t=>t.clone())))}}function i(t){switch(t.statisticType){case"min":return new r(t);case"max":return new u(t);case"avg":return new c(t);case"avg_angle":return new h(t);case"sum":case"count":return new a(t);case"mode":return new o(t)}}class n{constructor(t){this.field=t}insert(e,s){if(!this.field.computed)return;const i=this.field.computed.read(e,s);(0,_arcade_callExpressionWithCursor_js__WEBPACK_IMPORTED_MODULE_0__.isBadArcadeResult)(i)||this._insertValue(i)}}class r extends n{constructor(){super(...arguments),this.type="min",this.value=Number.MAX_VALUE}_insertValue(t){this.value=Math.min(this.value,t)}merge(t){this.value=Math.min(this.value,t.value)}clone(){const t=new r(this.field);return t.value=this.value,t}}class u extends n{constructor(){super(...arguments),this.type="max",this.value=Number.MIN_VALUE}_insertValue(t){this.value=Math.max(this.value,t)}merge(t){this.value=Math.max(this.value,t.value)}clone(){const t=new u(this.field);return t.value=this.value,t}}class a extends n{constructor(){super(...arguments),this.type="sum",this.value=0}_insertValue(t){this.value+=t}merge(t){this.value+=t.value}clone(){const t=new a(this.field);return t.value=this.value,t}}class c extends n{constructor(){super(...arguments),this.type="avg",this._total=0,this._count=0}get value(){return this._total/this._count}_insertValue(t){this._total+=t,this._count+=1}merge(t){this._total+=t._total,this._count+=t._count}clone(){const t=new c(this.field);return t._total=this._total,t._count=this._count,t}}class h extends n{constructor(){super(...arguments),this.type="avg_angle",this._x=0,this._y=0,this._count=0}get value(){const t=this._x/this._count,e=this._y/this._count,s=180/Math.PI;return Math.atan2(e,t)*s}_insertValue(t){this._x=this._x+Math.cos(t*e),this._y=this._y+Math.sin(t*e),this._count+=1}merge(t){this._x+=t._x,this._y+=t._y,this._count+=t._count}clone(){const t=new h(this.field);return t._x=this._x,t._y=this._y,t._count=this._count,t}}class o extends n{constructor(){super(...arguments),this._frequencies=new Map}get value(){let t,e=0;for(const[s,i]of this._frequencies.entries())i>e&&(e=i,t=s);return t}_insertValue(t){const e=this._frequencies.get(t);null!=e?this._frequencies.set(t,e+1):this._frequencies.set(t,1)}merge(t){for(const[e,s]of t._frequencies.entries()){const t=this._frequencies.get(e);null!=t?this._frequencies.set(e,t+s):this._frequencies.set(e,s)}}clone(){const t=new o(this.field);return t._frequencies=new Map(this._frequencies),t}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/features/aggregation/ComputedAggregateField.js":
/*!**************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/features/aggregation/ComputedAggregateField.js ***!
  \**************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ComputedAggregateField: () => (/* binding */ s)
/* harmony export */ });
/* harmony import */ var _support_DictionaryValue_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../support/DictionaryValue.js */ "./node_modules/@arcgis/core/views/2d/layers/features/support/DictionaryValue.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
class s{static async create(i,e){if("count"===e.statisticType){const i=new _support_DictionaryValue_js__WEBPACK_IMPORTED_MODULE_0__.DictionaryValue(1);return new s(e.name,e.alias,e.type,e.statisticType,i)}const a=await i.createComputedField({expression:e.onStatisticExpression?.expression,field:e.onStatisticField});return new s(e.name,e.alias,e.type,e.statisticType,a)}constructor(t,s,i,e,a){this.name=t,this.alias=s,this.type=i,this.statisticType=e,this.computed=a}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/features/aggregation/GeohashSpatialIndex.js":
/*!***********************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/features/aggregation/GeohashSpatialIndex.js ***!
  \***********************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   GeohashSpatialIndex: () => (/* binding */ r)
/* harmony export */ });
/* harmony import */ var _geohash_GeohashTree_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../geohash/GeohashTree.js */ "./node_modules/@arcgis/core/geohash/GeohashTree.js");
/* harmony import */ var _geohash_geohashUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../geohash/geohashUtils.js */ "./node_modules/@arcgis/core/geohash/geohashUtils.js");
/* harmony import */ var _AAggregateSpatialIndex_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./AAggregateSpatialIndex.js */ "./node_modules/@arcgis/core/views/2d/layers/features/aggregation/AAggregateSpatialIndex.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
class r extends _AAggregateSpatialIndex_js__WEBPACK_IMPORTED_MODULE_2__.AAggregateSpatialIndex{constructor(t){super(t),this._tree=new _geohash_GeohashTree_js__WEBPACK_IMPORTED_MODULE_0__.GeohashTree(this._options.fields)}put(e){throw new Error("Geohash tree does not support put")}putBounded(e,s,o){const{geohashLevel:r,spatialReference:h}=this._options,i=(0,_geohash_geohashUtils_js__WEBPACK_IMPORTED_MODULE_1__.getGeohashBounds)(s,o,r,h);null!=i&&this._tree.putBins(e,i)}_insert(e,t,o,r){const{geohashLevel:h,spatialReference:i}=this._options,n=(0,_geohash_geohashUtils_js__WEBPACK_IMPORTED_MODULE_1__.getGeohash)(t,o,h,i);n&&this._tree.insert(e,t,o,n[0],n[1],h,r)}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/features/aggregation/GridCell.js":
/*!************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/features/aggregation/GridCell.js ***!
  \************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   GridCell: () => (/* binding */ l)
/* harmony export */ });
/* harmony import */ var _layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../layers/graphics/featureConversionUtils.js */ "./node_modules/@arcgis/core/layers/graphics/featureConversionUtils.js");
/* harmony import */ var _layers_graphics_OptimizedGeometry_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../layers/graphics/OptimizedGeometry.js */ "./node_modules/@arcgis/core/layers/graphics/OptimizedGeometry.js");
/* harmony import */ var _AAggregateCell_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./AAggregateCell.js */ "./node_modules/@arcgis/core/views/2d/layers/features/aggregation/AAggregateCell.js");
/* harmony import */ var _AccumulatedStatistics_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./AccumulatedStatistics.js */ "./node_modules/@arcgis/core/views/2d/layers/features/aggregation/AccumulatedStatistics.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
class l extends _AAggregateCell_js__WEBPACK_IMPORTED_MODULE_2__.AAggregateCell{static createId(t,e){return`${t}.${e}`}static create(t,e,r,i){return new l(t,e,_AccumulatedStatistics_js__WEBPACK_IMPORTED_MODULE_3__.AccumulatedStatistics.create(r),i)}constructor(t,e,r,i){super(r),this.gridX=t,this.gridY=e,this._worldUnitsPerCell=i,this._count=0,this._xWorldTotal=0,this._yWorldTotal=0,this._objectIds=new Set}get id(){return l.createId(this.gridX,this.gridY)}get containedObjectIds(){return this._objectIds}get count(){return this._count}get firstObjectId(){return this._objectIds.values().next().value}get centroidXWorld(){return this._xWorldTotal/this._count}get centroidYWorld(){return this._yWorldTotal/this._count}clone(){const t=new l(this.gridX,this.gridY,this._statistics.clone(),this._worldUnitsPerCell);return t._count=this._count,t._xWorldTotal=this._xWorldTotal,t._yWorldTotal=this._yWorldTotal,t._firstFeatureAttributes=this._firstFeatureAttributes,t._objectIds=new Set(this._objectIds),t}insert(t,e,r,i){0===this._count?this._firstFeatureAttributes=t.readAttributes():this._firstFeatureAttributes=null,this._count+=1,this._xWorldTotal+=r,this._yWorldTotal+=i,this._statistics.insert(t,e),this._objectIds.add(t.getObjectId())}merge(t){if(0!==t._count){this._count+=t._count,this._firstFeatureAttributes=t._firstFeatureAttributes,this._xWorldTotal+=t._xWorldTotal,this._yWorldTotal+=t._yWorldTotal,this._statistics.merge(t._statistics);for(const e of t._objectIds.values())this._objectIds.add(e)}}getCentroidX(e){return null==e?this.centroidXWorld:(0,_layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_0__.quantizeX)(e,this.centroidXWorld)}getCentroidY(t){return null==t?this.centroidYWorld:(0,_layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_0__.quantizeY)(t,this.centroidYWorld)}getGeometry(t,e){const s=this.gridX*this._worldUnitsPerCell,o=this.gridY*this._worldUnitsPerCell,l=new _layers_graphics_OptimizedGeometry_js__WEBPACK_IMPORTED_MODULE_1__["default"]([4],[s,o,s+this._worldUnitsPerCell,o,s+this._worldUnitsPerCell,o+this._worldUnitsPerCell,s,o+this._worldUnitsPerCell]);if(null!=e){const t=new _layers_graphics_OptimizedGeometry_js__WEBPACK_IMPORTED_MODULE_1__["default"];return (0,_layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_0__.quantizeOptimizedGeometry)(t,l,!1,!1,"esriGeometryPolygon",e)}return l}getCentroid(t){const e=new _layers_graphics_OptimizedGeometry_js__WEBPACK_IMPORTED_MODULE_1__["default"]([],[this.centroidXWorld,this.centroidYWorld]);if(null!=t){const s=new _layers_graphics_OptimizedGeometry_js__WEBPACK_IMPORTED_MODULE_1__["default"];return (0,_layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_0__.quantizeOptimizedGeometry)(s,e,!1,!1,"esriGeometryPoint",t)}return e}getGeometricCentroid(t,e){const s=this.gridX*this._worldUnitsPerCell+.5*this._worldUnitsPerCell,o=this.gridY*this._worldUnitsPerCell+.5*this._worldUnitsPerCell,l=new _layers_graphics_OptimizedGeometry_js__WEBPACK_IMPORTED_MODULE_1__["default"]([],[s,o]);if(null!=e){const t=new _layers_graphics_OptimizedGeometry_js__WEBPACK_IMPORTED_MODULE_1__["default"];return (0,_layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_0__.quantizeOptimizedGeometry)(t,l,!1,!1,"esriGeometryPoint",e)}return l}getAttributes(){const t={aggregateId:this.id};for(const e of this._statistics.values())t[e.field.name]=e.value;return null!=this._firstFeatureAttributes?{...t,...this._firstFeatureAttributes}:t}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/features/aggregation/GridSpatialIndex.js":
/*!********************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/features/aggregation/GridSpatialIndex.js ***!
  \********************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   GridSpatialIndex: () => (/* binding */ n),
/* harmony export */   pixelsPerMapUnit: () => (/* binding */ o)
/* harmony export */ });
/* harmony import */ var _core_unitUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../core/unitUtils.js */ "./node_modules/@arcgis/core/core/unitUtils.js");
/* harmony import */ var _AAggregateSpatialIndex_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./AAggregateSpatialIndex.js */ "./node_modules/@arcgis/core/views/2d/layers/features/aggregation/AAggregateSpatialIndex.js");
/* harmony import */ var _GridCell_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./GridCell.js */ "./node_modules/@arcgis/core/views/2d/layers/features/aggregation/GridCell.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
const l=96;function o(i,s){return (0,_core_unitUtils_js__WEBPACK_IMPORTED_MODULE_0__.getMetersPerUnitForSR)(i)*_core_unitUtils_js__WEBPACK_IMPORTED_MODULE_0__.inchesPerMeter*l/s}class n extends _AAggregateSpatialIndex_js__WEBPACK_IMPORTED_MODULE_1__.AAggregateSpatialIndex{constructor(t){super(t),this._cells=new Map,this._pixelsPerMapUnit=o(t.spatialReference,t.scale)}put(t){for(const e of this._cells.values()){const i=t.get(e.id);i?i.merge(e):t.set(e.id,e.clone())}}putBounded(t,e,i){const s=[e.xmin,e.ymin,e.xmax,e.ymax],[l,o,n,r]=s,c=Math.floor(l*this._pixelsPerMapUnit/this._options.cellSize),p=Math.floor(o*this._pixelsPerMapUnit/this._options.cellSize),a=Math.ceil(n*this._pixelsPerMapUnit/this._options.cellSize),h=Math.ceil(r*this._pixelsPerMapUnit/this._options.cellSize);for(let _=p;_<=h;_++)for(let e=c;e<=a;e++){const i=`${e}.${_}`,s=this._cells.get(i);if(!s)continue;const l=t.get(s.id);l?s&&!t.has(s.id)&&l.merge(s):t.set(s.id,s.clone())}}_insert(t,e,i,s){const l=e*this._pixelsPerMapUnit,o=i*this._pixelsPerMapUnit,n=Math.floor(l/this._options.cellSize),r=Math.floor(o/this._options.cellSize);this._getCellOrCreate(n,r).insert(t,s,e,i)}_getCellOrCreate(t,e){const i=_GridCell_js__WEBPACK_IMPORTED_MODULE_2__.GridCell.createId(t,e);let l=this._cells.get(i);if(!l){const o=1*this._options.cellSize/this._pixelsPerMapUnit;l=_GridCell_js__WEBPACK_IMPORTED_MODULE_2__.GridCell.create(t,e,this._options.fields,o),this._cells.set(i,l)}return l}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/features/processor/AAggregateStrategy.js":
/*!********************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/features/processor/AAggregateStrategy.js ***!
  \********************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   AAggregateStrategy: () => (/* binding */ i)
/* harmony export */ });
/* harmony import */ var _core_Evented_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../core/Evented.js */ "./node_modules/@arcgis/core/core/Evented.js");
/* harmony import */ var _geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../geometry/support/aaBoundingBox.js */ "./node_modules/@arcgis/core/geometry/support/aaBoundingBox.js");
/* harmony import */ var _layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../layers/graphics/featureConversionUtils.js */ "./node_modules/@arcgis/core/layers/graphics/featureConversionUtils.js");
/* harmony import */ var _layers_graphics_data_optimizedFeatureQueryEngineAdapter_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../layers/graphics/data/optimizedFeatureQueryEngineAdapter.js */ "./node_modules/@arcgis/core/layers/graphics/data/optimizedFeatureQueryEngineAdapter.js");
/* harmony import */ var _layers_graphics_data_QueryEngine_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../../layers/graphics/data/QueryEngine.js */ "./node_modules/@arcgis/core/layers/graphics/data/QueryEngine.js");
/* harmony import */ var _support_ArcadeExpression_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../../support/ArcadeExpression.js */ "./node_modules/@arcgis/core/support/ArcadeExpression.js");
/* harmony import */ var _AProcessorStrategy_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./AProcessorStrategy.js */ "./node_modules/@arcgis/core/views/2d/layers/features/processor/AProcessorStrategy.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
class i extends _AProcessorStrategy_js__WEBPACK_IMPORTED_MODULE_6__.AProcessorStrategy{constructor(r,t,s,n,i){super(r,t,i),this.spatialReference=s,this.aggregateFields=n,this._arcadeDependencies=new Set,this.events=new _core_Evented_js__WEBPACK_IMPORTED_MODULE_0__["default"],this.featureAdapter=_layers_graphics_data_optimizedFeatureQueryEngineAdapter_js__WEBPACK_IMPORTED_MODULE_3__.optimizedFeatureQueryEngineAdapter;for(const e of n)(0,_support_ArcadeExpression_js__WEBPACK_IMPORTED_MODULE_5__.collectExpressionDependencies)(this._arcadeDependencies,e.computed)}get aggregateQueryEngine(){return this._aggregateQueryEngine||(this._aggregateQueryEngine=new _layers_graphics_data_QueryEngine_js__WEBPACK_IMPORTED_MODULE_4__.QueryEngine({featureStore:this,fieldsIndex:this._metadata.fieldsIndex,geometryType:this._metadata.geometryType,featureIdInfo:this._metadata.featureIdInfo,spatialReference:this.spatialReference})),this._aggregateQueryEngine}get isAggregate(){return!0}removeChunks(e){}hasArcadeDependency(e){return this._arcadeDependencies.has(e)}forEach(e){return this.forEachAggregateWorldSpace(e)}forEachInBounds(e,r){}forEachBounds(e,a){const s=(0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_1__.create)();for(const r of e){const e=(0,_layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_2__.getBoundsOptimizedGeometry)(s,r.geometry,!1,!1);e&&a(e)}}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/features/processor/AProcessorStrategy.js":
/*!********************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/features/processor/AProcessorStrategy.js ***!
  \********************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   AProcessorStrategy: () => (/* binding */ e),
/* harmony export */   ASendState: () => (/* binding */ t)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
class t{constructor(t){this.subscription=t,this.handledChunks=new Set}destroy(){}}class e{constructor(t,e,s){this._source=t,this._attributeStore=e,this._sqlOptions=s,this._sendStates=new Map}destroy(){}get enablePixelBuffering(){return!0}get isAggregate(){return!1}onSubscribe(t){const e=this.createState(t);this._sendStates.set(t.key.id,e),this.updateChunks()}onUnsubscribe(t){this._sendStates.get(t.key.id)?.destroy(),this._sendStates.delete(t.key.id)}get hasSubscribers(){return this._sendStates.size>0}requiresInvalidation(){return!1}invalidate(){const t=Array.from(this._sendStates.values());this._sendStates.clear();for(const e of t)e.destroy(),this.onSubscribe(e.subscription)}invalidateAttributeData(t){}hasArcadeDependency(t){return!1}getFeatureObjectIdsForAggregate(t){throw new Error("InternalError: AggregateId lookup not supported")}getDisplayIds(t){return this.displayMap(t,(t=>t),(t=>t))}getDisplayAndObjectIds(t){return this.displayMap(t,(t=>t),((t,e,s)=>[t,s]))}afterUpdateChunks(){}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/features/processor/BinningStrategy.js":
/*!*****************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/features/processor/BinningStrategy.js ***!
  \*****************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   BinningState: () => (/* binding */ g),
/* harmony export */   BinningStrategy: () => (/* binding */ y)
/* harmony export */ });
/* harmony import */ var _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../geometry/SpatialReference.js */ "./node_modules/@arcgis/core/geometry/SpatialReference.js");
/* harmony import */ var _layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../layers/graphics/featureConversionUtils.js */ "./node_modules/@arcgis/core/layers/graphics/featureConversionUtils.js");
/* harmony import */ var _layers_graphics_OptimizedFeature_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../layers/graphics/OptimizedFeature.js */ "./node_modules/@arcgis/core/layers/graphics/OptimizedFeature.js");
/* harmony import */ var _layers_graphics_data_projectionSupport_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../layers/graphics/data/projectionSupport.js */ "./node_modules/@arcgis/core/layers/graphics/data/projectionSupport.js");
/* harmony import */ var _layers_support_FieldsIndex_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../../layers/support/FieldsIndex.js */ "./node_modules/@arcgis/core/layers/support/FieldsIndex.js");
/* harmony import */ var _aggregation_ComputedAggregateField_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../aggregation/ComputedAggregateField.js */ "./node_modules/@arcgis/core/views/2d/layers/features/aggregation/ComputedAggregateField.js");
/* harmony import */ var _AAggregateStrategy_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./AAggregateStrategy.js */ "./node_modules/@arcgis/core/views/2d/layers/features/processor/AAggregateStrategy.js");
/* harmony import */ var _AProcessorStrategy_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./AProcessorStrategy.js */ "./node_modules/@arcgis/core/views/2d/layers/features/processor/AProcessorStrategy.js");
/* harmony import */ var _sources_FeatureSourceMessage_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../sources/FeatureSourceMessage.js */ "./node_modules/@arcgis/core/views/2d/layers/features/sources/FeatureSourceMessage.js");
/* harmony import */ var _support_ComputedAttributeStorage_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../support/ComputedAttributeStorage.js */ "./node_modules/@arcgis/core/views/2d/layers/features/support/ComputedAttributeStorage.js");
/* harmony import */ var _support_FeatureFilterEvaluator_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../support/FeatureFilterEvaluator.js */ "./node_modules/@arcgis/core/views/2d/layers/features/support/FeatureFilterEvaluator.js");
/* harmony import */ var _support_FeatureMetadata_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../support/FeatureMetadata.js */ "./node_modules/@arcgis/core/views/2d/layers/features/support/FeatureMetadata.js");
/* harmony import */ var _support_FeatureSetReaderJSON_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../support/FeatureSetReaderJSON.js */ "./node_modules/@arcgis/core/views/2d/layers/features/support/FeatureSetReaderJSON.js");
/* harmony import */ var _tiling_TileKey_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../tiling/TileKey.js */ "./node_modules/@arcgis/core/views/2d/tiling/TileKey.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
class g extends _AProcessorStrategy_js__WEBPACK_IMPORTED_MODULE_7__.ASendState{constructor(e,t){super(e),this.bins=new Map,this.featureCache=new Map,this.done=!1,this._store=t}reset(){this.destroy(),this.done=!1}destroy(){const e=this.subscription.tile.key.level;for(const t of this.featureCache.keys())this._store.releaseDisplayIdForObjectId(`${t}.${e}`);this.bins.clear(),this.featureCache.clear(),this.handledChunks.clear()}get tile(){return this.subscription.tile}*featuresWorldSpace(){for(const e of this.featureCache.values()){const t=e.clone();t.geometry&&(0,_layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_1__.unquantizeOptimizedGeometry)(t.geometry,t.geometry,!1,!1,this.subscription.tile.transform),yield t}}}class y extends _AAggregateStrategy_js__WEBPACK_IMPORTED_MODULE_6__.AAggregateStrategy{static async create(t,s,a,i,n,l){const d=new _support_ComputedAttributeStorage_js__WEBPACK_IMPORTED_MODULE_9__.ComputedAttributeStorage({spatialReference:s}),c=await Promise.all(t.fields.map((async e=>_aggregation_ComputedAggregateField_js__WEBPACK_IMPORTED_MODULE_5__.ComputedAggregateField.create(d,e)))),p=t.featureFilter?await _support_FeatureFilterEvaluator_js__WEBPACK_IMPORTED_MODULE_10__["default"].create({geometryType:a.metadata.geometryType,hasM:!1,hasZ:!1,timeInfo:a.metadata.timeInfo,fieldsIndex:a.metadata.fieldsIndex,spatialReference:s,filterJSON:t.featureFilter}):null;return"geohash"===t.index.type&&await (0,_layers_graphics_data_projectionSupport_js__WEBPACK_IMPORTED_MODULE_3__.checkProjectionSupport)(s,_geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_0__["default"].WGS84),new y(t,p,n,c,s,a,i,l)}constructor(e,t,s,a,r,o,n,l){super(o,n,r,a,l),this._schema=e,this._featureFilter=t,this._arcadeContextInfo=s,this._metadata=_support_FeatureMetadata_js__WEBPACK_IMPORTED_MODULE_11__.FeatureMetadata.createFeature({geometryType:"esriGeometryPolygon",featureIdInfo:{type:"object-id",fieldName:"aggregateId"},fieldsIndex:new _layers_support_FieldsIndex_js__WEBPACK_IMPORTED_MODULE_4__["default"](e.fields).toJSON(),globalIdField:null,spatialReference:o.metadata.spatialReference,outSpatialReference:o.metadata.outSpatialReference,subtypeField:null,subtypes:null,timeInfo:null,timeReferenceUnknownClient:null,dateFieldsTimeZone:null,typeIdField:null,types:null})}createState(e){return new g(e,this._attributeStore)}async*applyOverrideUpdate(e){for(const t of this._sendStates.values()){t.reset();const e=new _sources_FeatureSourceMessage_js__WEBPACK_IMPORTED_MODULE_8__.FeatureTileAppendMessage(t.subscription,_support_FeatureSetReaderJSON_js__WEBPACK_IMPORTED_MODULE_12__.FeatureSetReaderJSON.empty(this._source.metadata),!0,!1,{});yield e}}displayMap(e,t,s){const a=new Map(e.map((e=>[t(e),e]))),r=[];for(const i of this._sendStates.values())for(const e of i.featuresWorldSpace()){const{objectId:t,displayId:i}=e,o=a.get(t);if(null!=o){const e=s(i,o,t);r.push(e),a.delete(t)}}return r}getDisplayFeatures(e){const s=new Set(e),a=new Set,r=[];for(const i of this._sendStates.values())for(const e of i.featuresWorldSpace())s.has(e.displayId)&&!a.has(e.objectId)&&(e.geometry&&r.push({...(0,_layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_1__.convertToFeature)(e,this._metadata.geometryType,!1,!1),displayId:e.displayId}),a.add(e.objectId));return{features:[],aggregates:r,tracks:[]}}getFeatureObjectIdsForAggregate(e){for(const t of this._sendStates.values())for(const s of t.bins.values())if(s.id===e)return Array.from(s.containedObjectIds);return[]}async*updateChunks(){for(const e of this._sendStates.values())yield*this._update(e,this._source)}forEachAggregateWorldSpace(e){const t=new Set;for(const s of this._sendStates.values())for(const a of s.featuresWorldSpace())t.has(a.objectId)||(e(a),t.add(a.objectId))}_createIndexOptions(e){switch(this._schema.index.type){case"geohash":return{type:"geohash",fields:this.aggregateFields,featureFilter:this._featureFilter,geohashLevel:this._schema.index.fixBinLevel,spatialReference:this.spatialReference,arcadeContextInfo:this._arcadeContextInfo,scale:e.scale,sqlOptions:this._sqlOptions};case"grid":{const t=this._schema.index.fixedBinLevel,s=null!=t?e.tileInfoView.getLODInfoAt(t).scale:e.scale;return{type:"grid",fields:this.aggregateFields,cellSize:this._schema.index.size,featureFilter:this._featureFilter,spatialReference:this.spatialReference,arcadeContextInfo:this._arcadeContextInfo,scale:s,sqlOptions:this._sqlOptions}}}}async*_update(e,t){const{handledChunks:s,subscription:r,bins:i,featureCache:o}=e,n=r.tile;if(e.done)return;for(const a of t.chunks()){if(s.has(a.chunkId))continue;s.add(a.chunkId);const t=a.queryInfo;if("tileId"in t){const e=new _tiling_TileKey_js__WEBPACK_IMPORTED_MODULE_13__["default"](t.tileId);if(e.level!==n.level||e.world!==n.key.world)continue}a.getAggregateIndex(this._createIndexOptions(e.tile)).putBounded(i,e.tile.extent,e.tile.resolution)}const l=[],d=r.tile.transform,u=r.tile.key.level;for(const c of i.values()){let e=o.get(c.id);if(e)e.attributes=c.getAttributes();else{const t=c.getGeometry(this.spatialReference,d);e=new _layers_graphics_OptimizedFeature_js__WEBPACK_IMPORTED_MODULE_2__.OptimizedFeature(t,c.getAttributes(),null,c.id),t||(e.centroid=c.getGeometricCentroid(this.spatialReference,d)),e.displayId=this._attributeStore.createDisplayIdForObjectId(`${e.objectId}.${u}`),o.set(c.id,e)}l.push(e)}this.events.emit("changed"),e.done=!t.updateTracking.updating;const f=_support_FeatureSetReaderJSON_js__WEBPACK_IMPORTED_MODULE_12__.FeatureSetReaderJSON.fromOptimizedFeatures(l,this._metadata,d),p=f.getCursor(),g=e.subscription.tile.createArcadeEvaluationOptions(this._arcadeContextInfo);for(;p.next();)this._attributeStore.setAttributeData(p.getDisplayId(),p,g,this._sqlOptions);const y=new _sources_FeatureSourceMessage_js__WEBPACK_IMPORTED_MODULE_8__.FeatureTileUpdateMessage(e.subscription,f,[],e.done,{});yield y}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/features/processor/ClusterStrategy.js":
/*!*****************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/features/processor/ClusterStrategy.js ***!
  \*****************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ClusterState: () => (/* binding */ y),
/* harmony export */   ClusterStrategy: () => (/* binding */ x)
/* harmony export */ });
/* harmony import */ var _layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../layers/graphics/featureConversionUtils.js */ "./node_modules/@arcgis/core/layers/graphics/featureConversionUtils.js");
/* harmony import */ var _layers_graphics_OptimizedFeature_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../layers/graphics/OptimizedFeature.js */ "./node_modules/@arcgis/core/layers/graphics/OptimizedFeature.js");
/* harmony import */ var _layers_graphics_OptimizedGeometry_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../layers/graphics/OptimizedGeometry.js */ "./node_modules/@arcgis/core/layers/graphics/OptimizedGeometry.js");
/* harmony import */ var _layers_support_FieldsIndex_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../layers/support/FieldsIndex.js */ "./node_modules/@arcgis/core/layers/support/FieldsIndex.js");
/* harmony import */ var _engine_webgl_definitions_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../engine/webgl/definitions.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/definitions.js");
/* harmony import */ var _aggregation_ComputedAggregateField_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../aggregation/ComputedAggregateField.js */ "./node_modules/@arcgis/core/views/2d/layers/features/aggregation/ComputedAggregateField.js");
/* harmony import */ var _aggregation_GridCell_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../aggregation/GridCell.js */ "./node_modules/@arcgis/core/views/2d/layers/features/aggregation/GridCell.js");
/* harmony import */ var _aggregation_GridSpatialIndex_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../aggregation/GridSpatialIndex.js */ "./node_modules/@arcgis/core/views/2d/layers/features/aggregation/GridSpatialIndex.js");
/* harmony import */ var _AAggregateStrategy_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./AAggregateStrategy.js */ "./node_modules/@arcgis/core/views/2d/layers/features/processor/AAggregateStrategy.js");
/* harmony import */ var _AProcessorStrategy_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./AProcessorStrategy.js */ "./node_modules/@arcgis/core/views/2d/layers/features/processor/AProcessorStrategy.js");
/* harmony import */ var _support_WithDisplayId_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./support/WithDisplayId.js */ "./node_modules/@arcgis/core/views/2d/layers/features/processor/support/WithDisplayId.js");
/* harmony import */ var _sources_FeatureSourceMessage_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../sources/FeatureSourceMessage.js */ "./node_modules/@arcgis/core/views/2d/layers/features/sources/FeatureSourceMessage.js");
/* harmony import */ var _support_ComputedAttributeStorage_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../support/ComputedAttributeStorage.js */ "./node_modules/@arcgis/core/views/2d/layers/features/support/ComputedAttributeStorage.js");
/* harmony import */ var _support_FeatureFilterEvaluator_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../support/FeatureFilterEvaluator.js */ "./node_modules/@arcgis/core/views/2d/layers/features/support/FeatureFilterEvaluator.js");
/* harmony import */ var _support_FeatureMetadata_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../support/FeatureMetadata.js */ "./node_modules/@arcgis/core/views/2d/layers/features/support/FeatureMetadata.js");
/* harmony import */ var _support_FeatureSetReaderJSON_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../support/FeatureSetReaderJSON.js */ "./node_modules/@arcgis/core/views/2d/layers/features/support/FeatureSetReaderJSON.js");
/* harmony import */ var _tiling_TileKey_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../../tiling/TileKey.js */ "./node_modules/@arcgis/core/views/2d/tiling/TileKey.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
const m=128;class y extends _AProcessorStrategy_js__WEBPACK_IMPORTED_MODULE_9__.ASendState{constructor(e){super(e),this.didSend=!1,this.done=!1}}class S{constructor(e,t,s,i,r){this._level=e,this._scale=t,this._indexOptions=s,this._clusterRadius=i,this._store=r,this._cells=new Map,this._handledChunks=new Set,this._statistics=new Map,this._clusters=new Map}destroy(){this._clearClusters()}_clearClusters(){for(const e of this._clusters.values())this._store.releaseDisplayIdForObjectId(e.inner.id);this._clusters.clear()}*aggregatesWorldSpace(){for(const e of this._clusters.values()){const s=e.inner.getCentroid(null),i=new _layers_graphics_OptimizedFeature_js__WEBPACK_IMPORTED_MODULE_1__.OptimizedFeature(s,e.inner.getAttributes(),null,e.inner.id,e.displayId);yield i}}clusters(){return this._clusters.values()}updateChunks(e,t){let s=!1;for(const a of e){const e=a.queryInfo;if("tileId"in e){if(new _tiling_TileKey_js__WEBPACK_IMPORTED_MODULE_16__["default"](e.tileId).level!==this._level)continue}if(!this._handledChunks.has(a.normalizedChunkId)){this._handledChunks.add(a.normalizedChunkId),s=!0;a.getAggregateIndex({...this._indexOptions,scale:this._scale}).put(this._cells)}}const i={xMin:1/0,yMin:1/0,xMax:-1/0,yMax:-1/0},r=(0,_aggregation_GridSpatialIndex_js__WEBPACK_IMPORTED_MODULE_7__.pixelsPerMapUnit)(this._indexOptions.spatialReference,this._scale),n=this._indexOptions.cellSize;for(const{subscription:a}of t){const e=a.tile.bounds,t=Math.floor(e[0]*r/n),s=Math.floor(e[1]*r/n),l=Math.ceil(e[2]*r/n),o=Math.ceil(e[3]*r/n);i.xMin=Math.min(i.xMin,t),i.yMin=Math.min(i.yMin,s),i.xMax=Math.max(i.xMax,l),i.yMax=Math.max(i.yMax,o)}return null!=this._lastCellBounds&&i.xMin===this._lastCellBounds.xMin&&i.yMin===this._lastCellBounds.yMin&&i.yMin===this._lastCellBounds.yMin&&i.yMax===this._lastCellBounds.yMax||(s=!0,this._lastCellBounds=i),s&&this._clusterCells(i),s}async updateStatistics(e){let t=!1;for(const s of this._clusters.values())s.inner.count>1&&(t=this._updateAggregateStatistics(this._statistics,s.inner)||t);if(t){const t=Array.from(this._statistics.entries()).map((([e,t])=>({fieldName:e,minValue:t.minValue,maxValue:t.maxValue})));await e.container.updateStatistics(this._level,t)}}createAggregateFeatures(e,i){const n=e.subscription,a=[],l=n.tile.transform;for(const o of this._clusters.values()){let e=o.inner.getCentroidX(l);const i=o.inner.getCentroidY(l),d=n.tile.lod,u=d.wrap?d.worldSize[0]:null,c=1===o.inner.count?o.inner.firstObjectId:o.inner.id,h=o.displayId;if(null!=u)if(1===u){const n=new _layers_graphics_OptimizedGeometry_js__WEBPACK_IMPORTED_MODULE_2__["default"]([],[e,i]),l=new _layers_graphics_OptimizedFeature_js__WEBPACK_IMPORTED_MODULE_1__.OptimizedFeature(n,o.inner.getAttributes(),null,c,h);l.geometry.coords[0]-=_engine_webgl_definitions_js__WEBPACK_IMPORTED_MODULE_4__.tileSize,a.push(l);const d=new _layers_graphics_OptimizedGeometry_js__WEBPACK_IMPORTED_MODULE_2__["default"]([],[e,i]),u=new _layers_graphics_OptimizedFeature_js__WEBPACK_IMPORTED_MODULE_1__.OptimizedFeature(d,o.inner.getAttributes(),null,c,h);u.geometry.coords[0]+=_engine_webgl_definitions_js__WEBPACK_IMPORTED_MODULE_4__.tileSize,a.push(u)}else e>_engine_webgl_definitions_js__WEBPACK_IMPORTED_MODULE_4__.tileSize+_engine_webgl_definitions_js__WEBPACK_IMPORTED_MODULE_4__.tileSize/2?e-=u*_engine_webgl_definitions_js__WEBPACK_IMPORTED_MODULE_4__.tileSize:e<-256&&(e+=u*_engine_webgl_definitions_js__WEBPACK_IMPORTED_MODULE_4__.tileSize);if(e<_engine_webgl_definitions_js__WEBPACK_IMPORTED_MODULE_4__.tileSize+m&&e>=-128&&i<_engine_webgl_definitions_js__WEBPACK_IMPORTED_MODULE_4__.tileSize+m&&i>=-128){const r=new _layers_graphics_OptimizedGeometry_js__WEBPACK_IMPORTED_MODULE_2__["default"]([],[e,i]),n=new _layers_graphics_OptimizedFeature_js__WEBPACK_IMPORTED_MODULE_1__.OptimizedFeature(r,o.inner.getAttributes(),null,c,h);a.push(n)}}return _support_FeatureSetReaderJSON_js__WEBPACK_IMPORTED_MODULE_15__.FeatureSetReaderJSON.fromOptimizedFeatures(a,i,n.tile.transform)}_clusterCells(e){let t=Array.from(this._cells.values());t=t.sort(((e,t)=>t.count-e.count));const s=[];for(const a of this._clusters.values())s.push(a.inner.id);this._clusters.clear();const i=this._clusterRadius*(1/(0,_aggregation_GridSpatialIndex_js__WEBPACK_IMPORTED_MODULE_7__.pixelsPerMapUnit)(this._indexOptions.spatialReference,this._scale)),r=1+this._clusterRadius/this._indexOptions.cellSize,n=new Set;for(const l of t){if(n.has(l.id))continue;if(l.gridX<e.xMin||l.gridX>e.xMax||l.gridY<e.yMin||l.gridY>e.yMax)continue;const t=this._store.createDisplayIdForObjectId(l.id),s=new _support_WithDisplayId_js__WEBPACK_IMPORTED_MODULE_10__.WithDisplayId(l.clone(),t);n.add(l.id),this._clusters.set(l.id,s);const o=l.centroidXWorld,d=l.centroidYWorld;for(let e=l.gridY-r;e<=l.gridY+r;e++)for(let t=l.gridX-r;t<=l.gridX+r;t++){if(e===l.gridY&&t===l.gridX)continue;const r=this._cells.get(_aggregation_GridCell_js__WEBPACK_IMPORTED_MODULE_6__.GridCell.createId(t,e));if(!r||n.has(r.id))continue;const u=Math.abs(r.centroidXWorld-o),c=Math.abs(r.centroidYWorld-d);u<i&&c<i&&(s.inner.merge(r),n.add(r.id))}}for(const a of s)this._store.releaseDisplayIdForObjectId(a)}_updateAggregateStatistics(e,t){let s=!1;for(const i of t.statistics.values()){if("esriFieldTypeString"===i.field.type)continue;const t=i.value,r=i.field,n=e.get(r.name);if(n){const{minValue:e,maxValue:i}=n,r=Math.min(n.minValue,t),a=Math.max(n.maxValue,t);e===r&&i===a||(n.minValue=r,n.maxValue=a,s=!0)}else e.set(r.name,{minValue:t,maxValue:t}),s=!0}return s}}class x extends _AAggregateStrategy_js__WEBPACK_IMPORTED_MODULE_8__.AAggregateStrategy{static async create(e,t,s,i,r,a,l){const o=new _support_ComputedAttributeStorage_js__WEBPACK_IMPORTED_MODULE_12__.ComputedAttributeStorage({spatialReference:s}),d={type:"grid",fields:await Promise.all(t.fields.map((async e=>_aggregation_ComputedAggregateField_js__WEBPACK_IMPORTED_MODULE_5__.ComputedAggregateField.create(o,e)))),spatialReference:s,featureFilter:t.featureFilter?await _support_FeatureFilterEvaluator_js__WEBPACK_IMPORTED_MODULE_13__["default"].create({geometryType:i.metadata.geometryType,hasM:!1,hasZ:!1,timeInfo:i.metadata.timeInfo,fieldsIndex:i.metadata.fieldsIndex,spatialReference:s,filterJSON:t.featureFilter}):null,cellSize:t.clusterRadius/4,arcadeContextInfo:a,sqlOptions:l};return new x(e,t.clusterRadius,d,t.fields,i,r,l)}constructor(e,t,s,r,n,a,l){super(n,a,s.spatialReference,s.fields,l),this._connection=e,this._clusterRadius=t,this._indexOptions=s,this._cellsPerScale=new Map,this._metadata=_support_FeatureMetadata_js__WEBPACK_IMPORTED_MODULE_14__.FeatureMetadata.createFeature({geometryType:"esriGeometryPoint",featureIdInfo:{type:"object-id",fieldName:"aggregateId"},fieldsIndex:new _layers_support_FieldsIndex_js__WEBPACK_IMPORTED_MODULE_3__["default"]([...r,...this._source.metadata.fieldsIndex.fields,{name:"aggregateId",alias:"aggregateId",type:"esriFieldTypeOID"}]).toJSON(),globalIdField:null,spatialReference:n.metadata.spatialReference,outSpatialReference:n.metadata.outSpatialReference,subtypeField:null,subtypes:null,timeInfo:null,timeReferenceUnknownClient:null,dateFieldsTimeZone:null,typeIdField:null,types:null})}get enablePixelBuffering(){return!1}invalidate(){super.invalidate();for(const e of this._cellsPerScale.values())e.destroy();this._cellsPerScale.clear()}onSubscribe(e){super.onSubscribe(e),this._requiredLevel=e.tile.level,this._requiredScale=e.tile.scale}createState(e){return new y(e)}async*applyOverrideUpdate(e){for(const t of this._cellsPerScale.values())t.destroy();this._cellsPerScale.clear();for(const t of this._sendStates.values())t.done=!1}displayMap(e,t,s){const i=new Map(e.map((e=>[t(e),e]))),r=[],n=this._getClusterState(this._requiredLevel,this._requiredScale);for(const a of n.clusters()){const e=i.get(a.inner.id);if(null==e){if(1===a.inner.count){const{firstObjectId:e}=a.inner,t=e?i.get(e):null;if(null!=t){const n=s(a.displayId,t,e);r.push(n),i.delete(e)}}}else{const t=s(a.displayId,e,a.inner.id);r.push(t),i.delete(a.inner.id)}}return r}getDisplayFeatures(t){const s=new Set(t),i=new Set,r=[],n=[],a=this._getClusterState(this._requiredLevel,this._requiredScale);for(const l of a.aggregatesWorldSpace())if(s.has(l.displayId)&&!i.has(l.displayId)){const t=(0,_layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_0__.convertToFeature)(l,this._metadata.geometryType,!1,!1);if(i.add(l.displayId),1===t.attributes.cluster_count){r.push({...t,displayId:l.displayId});continue}n.push({...t,displayId:l.displayId})}return{features:r,aggregates:n,tracks:[]}}getFeatureObjectIdsForAggregate(e){const t=this._getClusterState(this._requiredLevel,this._requiredScale);for(const s of t.clusters())if(s.inner.id===e)return Array.from(s.inner.containedObjectIds);return[]}async*updateChunks(){const e=this._source.chunks();if(!e.length)return;const t=this._getClusterState(this._requiredLevel,this._requiredScale),s=Array.from(this._sendStates.values()).filter((e=>e.subscription.tile.level===this._requiredLevel));if(t.updateChunks(e,s)||!this._source.updateTracking.updating)for(const n of s)n.subscription.tile.level===this._requiredLevel&&(n.didSend=!1,n.done=!1);const i=Array.from(this._sendStates.values()).filter((e=>e.done)).map((e=>e.subscription.tile.key)),r=new Set(i);for(const n of this._sendStates.values()){if(this._source.updateTracking.updating){if(i.some((e=>e.containsChild(n.subscription.tile.key))))continue;if(n.subscription.tile.key.getChildKeys().every((e=>r.has(e))))continue}n.didSend||n.subscription.tile.level!==this._requiredLevel||(n.didSend=!0,yield*this._update(n,t,this._source))}await t.updateStatistics(this._connection)}forEachAggregateWorldSpace(e){if(null==this._requiredLevel||null==this._requiredScale)return;const t=this._getClusterState(this._requiredLevel,this._requiredScale);for(const s of t.aggregatesWorldSpace())e(s)}_getClusterState(e,t){if(null==e||null==t)throw new Error("InternalError: Level and scale must be defined");let s=this._cellsPerScale.get(t);return s||(s=new S(e,t,this._indexOptions,this._clusterRadius,this._attributeStore),this._cellsPerScale.set(t,s)),s}async*_update(e,t,s){if(e.done)return;const i=t.createAggregateFeatures(e,this._metadata);this.events.emit("changed"),e.done=!s.updateTracking.updating;const r=i.getCursor(),n=e.subscription.tile.createArcadeEvaluationOptions(this._indexOptions.arcadeContextInfo);for(;r.next();)this._attributeStore.setAttributeData(r.getDisplayId(),r,n,this._sqlOptions);const a=new _sources_FeatureSourceMessage_js__WEBPACK_IMPORTED_MODULE_11__.FeatureTileAppendMessage(e.subscription,i,!0,e.done,{});yield a}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/features/processor/FeatureUpdateStrategy.js":
/*!***********************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/features/processor/FeatureUpdateStrategy.js ***!
  \***********************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   DefaultSendState: () => (/* binding */ d),
/* harmony export */   FeatureUpdateStrategy: () => (/* binding */ i)
/* harmony export */ });
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _AProcessorStrategy_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./AProcessorStrategy.js */ "./node_modules/@arcgis/core/views/2d/layers/features/processor/AProcessorStrategy.js");
/* harmony import */ var _sources_FeatureSourceMessage_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../sources/FeatureSourceMessage.js */ "./node_modules/@arcgis/core/views/2d/layers/features/sources/FeatureSourceMessage.js");
/* harmony import */ var _sources_strategies_chunks_Overrides_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../sources/strategies/chunks/Overrides.js */ "./node_modules/@arcgis/core/views/2d/layers/features/sources/strategies/chunks/Overrides.js");
/* harmony import */ var _support_arcadeUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../support/arcadeUtils.js */ "./node_modules/@arcgis/core/views/2d/layers/features/support/arcadeUtils.js");
/* harmony import */ var _support_FeatureSetReaderJSON_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../support/FeatureSetReaderJSON.js */ "./node_modules/@arcgis/core/views/2d/layers/features/support/FeatureSetReaderJSON.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
class d extends _AProcessorStrategy_js__WEBPACK_IMPORTED_MODULE_1__.ASendState{}class i extends _AProcessorStrategy_js__WEBPACK_IMPORTED_MODULE_1__.AProcessorStrategy{constructor(e,t,s,r){super(e,t,r),this._arcadeContextInfo=s,this.handledChunks=new Set,this.handledChunksForIdCreation=new Set,this.handledChunksForAttributeData=new Set,this._streamLayerDeferredObjectIdsToRemove=[]}destroy(){super.destroy();for(const e of this._source.chunks())this._cleanupChunkIds(e)}invalidateAttributeData(e){this.handledChunksForAttributeData.clear(),this._arcadeContextInfo=e,null!=this._evalOptions&&(this._evalOptions=(0,_support_arcadeUtils_js__WEBPACK_IMPORTED_MODULE_4__.createArcadeEvaluationOptions)(this._evalOptions.$view.scale,e))}onSubscribe(e){super.onSubscribe(e),this._evalOptions=e.tile.createArcadeEvaluationOptions(this._arcadeContextInfo)}createState(e){return new d(e)}get aggregateQueryEngine(){return null}displayMap(e,t,s){const r=new Map(e.map((e=>[t(e),e]))),o=[];for(const a of this._source.chunks()){const e=a.reader.getCursor();for(;e.next();){const t=e.getObjectId(),a=e.getDisplayId(),n=r.get(t);if(null!=n){const e=s(a,n,t);o.push(e),r.delete(t)}}}return o}getDisplayFeatures(e){const t=new Set(e),s=new Set,r=[];for(const o of this._source.chunks()){const e=o.reader.getCursor();for(;e.next();){const o=e.getObjectId(),a=e.getDisplayId();t.has(a)&&!s.has(o)&&(r.push({...e.readLegacyFeatureWorldSpace(),displayId:a}),s.add(o))}}return{features:r,aggregates:[],tracks:[]}}async*applyOverrideUpdate(e){const t=[];for(const s of e.modified){const e=this._attributeStore.createDisplayIdForObjectId(s.objectId);s.displayId=e,t.push(e)}const r=_support_FeatureSetReaderJSON_js__WEBPACK_IMPORTED_MODULE_5__.FeatureSetReaderJSON.fromOptimizedFeatures(e.modified,this._source.metadata).getCursor();for(;r.next();)this._attributeStore.setAttributeData(r.getDisplayId(),r,this._evalOptions,this._sqlOptions);const a=[];for(const s of e.removed){const e=this._attributeStore.getDisplayIdForObjectId(s);null!=e&&a.push(e)}(0,_core_has_js__WEBPACK_IMPORTED_MODULE_0__["default"])("esri-2d-update-debug")&&console.debug("FeatureUpdateStrategy.applyLocalEdit",{message:e,modifiedDisplayIds:t,removedDisplayIds:a});const d=_sources_strategies_chunks_Overrides_js__WEBPACK_IMPORTED_MODULE_3__.OverrideChunk.fromFeatures(e.modified,this._source.metadata);this.handledChunks.add(d.chunkId),this.handledChunksForAttributeData.add(d.chunkId),this.handledChunksForIdCreation.add(d.chunkId);for(const o of this._sendStates.values())o.handledChunks.add(d.chunkId),yield new _sources_FeatureSourceMessage_js__WEBPACK_IMPORTED_MODULE_2__.FeatureTileUpdateMessage(o.subscription,null,t,!1,d.queryInfo);for(const o of this._sendStates.values()){const e=d.getTileReader(o.subscription.tile);yield new _sources_FeatureSourceMessage_js__WEBPACK_IMPORTED_MODULE_2__.FeatureTileUpdateMessage(o.subscription,e,a,!1,d.queryInfo)}for(const s of e.removed)this._attributeStore.releaseDisplayIdForObjectId(s)}async*updateChunks(){if(this._source.chunks().length){await this._updateAttributeData();for(const e of this._sendStates.values())yield*this._update(e)}}removeChunks(e){for(const t of e)this.handledChunks.delete(t.chunkId),this.handledChunksForAttributeData.delete(t.chunkId),this._cleanupChunkIds(t)}afterUpdateChunks(){for(const e of this._streamLayerDeferredObjectIdsToRemove)this._attributeStore.releaseDisplayIdForObjectId(e);this._streamLayerDeferredObjectIdsToRemove=[]}_cleanupChunkIds(e){if(this.handledChunksForIdCreation.has(e.chunkId)){const t=e.reader.getCursor();for(;t.next();){const e=t.getObjectId();this._source.isStream?this._streamLayerDeferredObjectIdsToRemove.push(e):this._attributeStore.releaseDisplayIdForObjectId(e)}this.handledChunksForIdCreation.delete(e.chunkId)}}async _updateAttributeData(){for(const e of this._source.chunks()){const{chunkId:t,reader:s}=e;if(!this.handledChunksForIdCreation.has(t)){this.handledChunksForIdCreation.add(t);const e=s.getCursor();for(;e.next();){const t=this._attributeStore.createDisplayIdForObjectId(e.getObjectId());e.setDisplayId(t)}}}for(const e of this._source.chunks())if(!this.handledChunksForAttributeData.has(e.chunkId)){this.handledChunksForAttributeData.add(e.chunkId);const t=e.reader.getCursor();for(;t.next();){const e=t.getDisplayId();this._attributeStore.setAttributeData(e,t,this._evalOptions,this._sqlOptions)}}}*_update(e){const{subscription:t,handledChunks:s}=e;for(const o of this._source.chunks()){const{chunkId:a}=o;if(s.has(a))continue;s.add(a);const n=o.getTileReader(t.tile);n&&(yield new _sources_FeatureSourceMessage_js__WEBPACK_IMPORTED_MODULE_2__.FeatureTileAppendMessage(e.subscription,n,!1,o.end,o.queryInfo))}}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/features/processor/TrackStrategy.js":
/*!***************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/features/processor/TrackStrategy.js ***!
  \***************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   TrackStrategy: () => (/* binding */ q)
/* harmony export */ });
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../core/maybe.js */ "./node_modules/@arcgis/core/core/maybe.js");
/* harmony import */ var _geometry_operators_gx_operatorGeodeticDensify_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../geometry/operators/gx/operatorGeodeticDensify.js */ "./node_modules/@arcgis/core/geometry/operators/gx/operatorGeodeticDensify.js");
/* harmony import */ var _geometry_operators_support_geodeticCurveType_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../../geometry/operators/support/geodeticCurveType.js */ "./node_modules/@arcgis/core/geometry/operators/support/geodeticCurveType.js");
/* harmony import */ var _geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../../geometry/support/aaBoundingRect.js */ "./node_modules/@arcgis/core/geometry/support/aaBoundingRect.js");
/* harmony import */ var _geometry_support_normalizeUtils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../geometry/support/normalizeUtils.js */ "./node_modules/@arcgis/core/geometry/support/normalizeUtils.js");
/* harmony import */ var _geometry_support_normalizeUtilsSync_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../../geometry/support/normalizeUtilsSync.js */ "./node_modules/@arcgis/core/geometry/support/normalizeUtilsSync.js");
/* harmony import */ var _layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../../layers/graphics/featureConversionUtils.js */ "./node_modules/@arcgis/core/layers/graphics/featureConversionUtils.js");
/* harmony import */ var _layers_graphics_OptimizedFeature_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../../layers/graphics/OptimizedFeature.js */ "./node_modules/@arcgis/core/layers/graphics/OptimizedFeature.js");
/* harmony import */ var _layers_graphics_OptimizedGeometry_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../../layers/graphics/OptimizedGeometry.js */ "./node_modules/@arcgis/core/layers/graphics/OptimizedGeometry.js");
/* harmony import */ var _layers_support_streamLayerUtils_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../../layers/support/streamLayerUtils.js */ "./node_modules/@arcgis/core/layers/support/streamLayerUtils.js");
/* harmony import */ var _engine_webgl_definitions_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../engine/webgl/definitions.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/definitions.js");
/* harmony import */ var _aggregation_AccumulatedStatistics_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../aggregation/AccumulatedStatistics.js */ "./node_modules/@arcgis/core/views/2d/layers/features/aggregation/AccumulatedStatistics.js");
/* harmony import */ var _aggregation_ComputedAggregateField_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../aggregation/ComputedAggregateField.js */ "./node_modules/@arcgis/core/views/2d/layers/features/aggregation/ComputedAggregateField.js");
/* harmony import */ var _AAggregateStrategy_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./AAggregateStrategy.js */ "./node_modules/@arcgis/core/views/2d/layers/features/processor/AAggregateStrategy.js");
/* harmony import */ var _AProcessorStrategy_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./AProcessorStrategy.js */ "./node_modules/@arcgis/core/views/2d/layers/features/processor/AProcessorStrategy.js");
/* harmony import */ var _sources_FeatureSourceMessage_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../sources/FeatureSourceMessage.js */ "./node_modules/@arcgis/core/views/2d/layers/features/sources/FeatureSourceMessage.js");
/* harmony import */ var _support_arcadeUtils_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../support/arcadeUtils.js */ "./node_modules/@arcgis/core/views/2d/layers/features/support/arcadeUtils.js");
/* harmony import */ var _support_ComputedAttributeStorage_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../support/ComputedAttributeStorage.js */ "./node_modules/@arcgis/core/views/2d/layers/features/support/ComputedAttributeStorage.js");
/* harmony import */ var _support_FeatureFilterEvaluator_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../support/FeatureFilterEvaluator.js */ "./node_modules/@arcgis/core/views/2d/layers/features/support/FeatureFilterEvaluator.js");
/* harmony import */ var _support_FeatureMetadata_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../support/FeatureMetadata.js */ "./node_modules/@arcgis/core/views/2d/layers/features/support/FeatureMetadata.js");
/* harmony import */ var _support_FeatureSetReaderIndirect_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../support/FeatureSetReaderIndirect.js */ "./node_modules/@arcgis/core/views/2d/layers/features/support/FeatureSetReaderIndirect.js");
/* harmony import */ var _support_FeatureSetReaderJSON_js__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../support/FeatureSetReaderJSON.js */ "./node_modules/@arcgis/core/views/2d/layers/features/support/FeatureSetReaderJSON.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
let G;const P=()=>_core_Logger_js__WEBPACK_IMPORTED_MODULE_1__["default"].getLogger("esri.views.2d.layers.features.processor.TrackStrategy"),W=32;class z{constructor(t,e,s,r,i){this.chunkIndex=t,this.featureIndex=e,this.objectId=s,this.displayId=r,this.time=i}}class M{static getOid(t){return _layers_support_streamLayerUtils_js__WEBPACK_IMPORTED_MODULE_11__.externalTrackLineOidPrefix+t}constructor(t,e,s,r,i,a,o,n){this._schema=t,this.trackId=e,this.objectId=s,this.displayId=r,this._fields=i,this._spatialReference=a,this._metadata=o,this._isStream=n,this._maxDisplayDuration=this._schema.maxDisplayDuration>0?this._schema.maxDisplayDuration:1/0,this._maxDisplayObservationsPerTrack=this._schema.maxDisplayObservationsPerTrack>=1?this._schema.maxDisplayObservationsPerTrack:1/0,this._observationRecords=[],this._nextObservationRecords=[],this._trackLinePath=[],this._bounds=[],this._trackLineGeometry=new _layers_graphics_OptimizedGeometry_js__WEBPACK_IMPORTED_MODULE_10__["default"]}get _trackLineAttributes(){const t={...this._latestObservationFeature?.attributes??{},aggregateId:this.objectId,[_layers_support_streamLayerUtils_js__WEBPACK_IMPORTED_MODULE_11__.internalTrackPartField]:_layers_support_streamLayerUtils_js__WEBPACK_IMPORTED_MODULE_11__.TrackPart.TrackLine};if(null!=this._statistics)for(const e of this._statistics.values())t[e.field.name]=e.value;return t}get _startTimeField(){return this._metadata.timeInfo?.startTimeField}get length(){return this._observationRecords.length}*observations(){yield*this._observationRecords}*previousObservations(){for(let t=0;t<this._observationRecords.length-1;t++)yield this._observationRecords[t]}get latestObservationFeature(){return this._latestObservationFeature}get latestObservationRecord(){return this._latestObservationRecord}stageObservation(t,e){this._nextObservationRecords.push(new z(t,e.getIndex(),e.getObjectId(),e.getDisplayId(),null!=this._startTimeField?e.readAttributeAsTimestamp(this._startTimeField):null))}commitObservations(t,e,r){const i=new Set(this._nextObservationRecords.map((t=>t.objectId))),a=this._observationRecords.filter((t=>!i.has(t.objectId))).map((t=>t.objectId));let o,n;switch(this._observationRecords=[],this._trackLinePath=[],this._isStream||null==this._startTimeField||this._nextObservationRecords.sort(((t,e)=>{const s=t.time,r=e.time;return null!=s&&null!=r?s-r:0})),this._schema.timeField){case"startTimeField":o=this._metadata.timeInfo?.startTimeField;break;case"endTimeField":o=this._metadata.timeInfo?.endTimeField;break;case"timeReceived":o=this._isStream?_layers_support_streamLayerUtils_js__WEBPACK_IMPORTED_MODULE_11__.internalTimeReceivedField:null}n=this._isStream?r?.end??Date.now():r?.end??-1/0;const l=e.map((t=>t.reader.getCursor()));let c;for(let d=this._nextObservationRecords.length-1;d>=0&&!(this._observationRecords.length>=this._maxDisplayObservationsPerTrack);d--){const t=this._nextObservationRecords[d],e=l[t.chunkIndex];(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_2__.assertIsSome)(e),e.setIndex(t.featureIndex);const r=null!=o?e.readAttributeAsTimestamp(o):null;(null!=r?n-r:0)>=this._maxDisplayDuration||(this._commitObservation(t,e),c??=t)}if(null!=c){const{chunkIndex:e,featureIndex:r}=c,i=`${c.objectId}.latest`,o=t.createDisplayIdForObjectId(i),n=l[e];(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_2__.assertIsSome)(n),n.setIndex(r);const d=new _layers_graphics_OptimizedFeature_js__WEBPACK_IMPORTED_MODULE_9__.OptimizedFeature(n.readGeometryWorldSpace(),{...n.readAttributes(),[_layers_support_streamLayerUtils_js__WEBPACK_IMPORTED_MODULE_11__.internalTrackPartField]:_layers_support_streamLayerUtils_js__WEBPACK_IMPORTED_MODULE_11__.TrackPart.LatestObservation},null,i,o);this._latestObservationFeature&&a.push(this._latestObservationFeature.objectId),this._latestObservationFeature=d,this._latestObservationRecord=c}else this._latestObservationFeature=null;return this._trackLineGeometry=E(this._trackLineGeometry,this._trackLinePath,this._spatialReference),this._bounds=X(this._trackLineGeometry),this._nextObservationRecords=[],a}updateStatistics(t,e){this._statistics=_aggregation_AccumulatedStatistics_js__WEBPACK_IMPORTED_MODULE_13__.AccumulatedStatistics.create(this._fields);const r=t.map((t=>t.reader.getCursor()));for(const{chunkIndex:i,featureIndex:a}of this._observationRecords){const t=r[i];(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_2__.assertIsSome)(t),t.setIndex(a),this._statistics.insert(t,e)}}overlapsTile(t){for(const e of this._bounds)if((0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_5__.intersectsWithMargin)(e,t.bounds,W))return!0;return!1}getLatestObservationFeatureForTile(t){if(null==this._latestObservationFeature)return null;const{objectId:e,displayId:s,geometry:r,attributes:i}=this._latestObservationFeature,a=new _layers_graphics_OptimizedGeometry_js__WEBPACK_IMPORTED_MODULE_10__["default"];(0,_layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_8__.quantizeOptimizedGeometry)(a,r,!1,!1,this._metadata.geometryType,t.subscription.tile.transform);const o=(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_5__.fromValues)(1/0,1/0,-1/0,-1/0);N(a,((t,e)=>(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_5__.expandPointInPlace)(o,[t,e])));if(!(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_5__.intersects)(o,(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_5__.fromValues)(0,0,_engine_webgl_definitions_js__WEBPACK_IMPORTED_MODULE_12__.tileSize,_engine_webgl_definitions_js__WEBPACK_IMPORTED_MODULE_12__.tileSize)))return null;return new _layers_graphics_OptimizedFeature_js__WEBPACK_IMPORTED_MODULE_9__.OptimizedFeature(a,i,null,e,s)}getTrackLineFeatureForTile(t){const e=new _layers_graphics_OptimizedGeometry_js__WEBPACK_IMPORTED_MODULE_10__["default"];(0,_layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_8__.quantizeOptimizedGeometry)(e,this._trackLineGeometry,!1,!1,"esriGeometryPolyline",t.subscription.tile.transform);return new _layers_graphics_OptimizedFeature_js__WEBPACK_IMPORTED_MODULE_9__.OptimizedFeature(e,this._trackLineAttributes,null,this.objectId,this.displayId)}getTrackLineOptimizedFeature(){return new _layers_graphics_OptimizedFeature_js__WEBPACK_IMPORTED_MODULE_9__.OptimizedFeature(this._trackLineGeometry,this._trackLineAttributes,null,this.objectId,this.displayId)}getTrackLineDisplayFeature(){const{_trackLineGeometry:t,_trackLineAttributes:e,displayId:s}=this;return{geometry:(0,_layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_8__.convertToGeometry)(t,"esriGeometryPolyline",!1,!1),attributes:e,displayId:s}}_commitObservation(t,e){const s=e.readCentroidWorldSpace();let r=s?.coords[0],i=s?.coords[1];null==s&&(r=e.readXWorldSpace(),i=e.readYWorldSpace()),null!=r&&null!=i&&(this._observationRecords.unshift(t),this._trackLinePath.unshift([r,i]))}}class U extends _AProcessorStrategy_js__WEBPACK_IMPORTED_MODULE_16__.ASendState{constructor(t){super(t),this.done=!1}}class q extends _AAggregateStrategy_js__WEBPACK_IMPORTED_MODULE_15__.AAggregateStrategy{static async create(t,e,s,a,o,n){const l=new _support_ComputedAttributeStorage_js__WEBPACK_IMPORTED_MODULE_19__.ComputedAttributeStorage({spatialReference:e}),c=await Promise.all(t.fields.map((async t=>_aggregation_ComputedAggregateField_js__WEBPACK_IMPORTED_MODULE_14__.ComputedAggregateField.create(l,t)))),d=t.featureFilter?await _support_FeatureFilterEvaluator_js__WEBPACK_IMPORTED_MODULE_20__["default"].create({geometryType:s.metadata.geometryType,hasM:!1,hasZ:!1,timeInfo:s.metadata.timeInfo,fieldsIndex:s.metadata.fieldsIndex,spatialReference:e,filterJSON:t.featureFilter}):null;return e.isWrappable||(0,_geometry_operators_gx_operatorGeodeticDensify_js__WEBPACK_IMPORTED_MODULE_3__.isLoaded)()||await Promise.all([Promise.all(/*! import() */[__webpack_require__.e("vendors-node_modules_arcgis_core_chunks_Point2D_js"), __webpack_require__.e("vendors-node_modules_arcgis_core_chunks_Transformation2D_js"), __webpack_require__.e("vendors-node_modules_arcgis_core_chunks_Envelope2D_js"), __webpack_require__.e("vendors-node_modules_arcgis_core_chunks_ProjectionTransformation_js"), __webpack_require__.e("vendors-node_modules_arcgis_core_geometry_operators_support_jsonConverter_js"), __webpack_require__.e("node_modules_arcgis_core_geometry_operators_support_apiConverter_js")]).then(__webpack_require__.bind(__webpack_require__, /*! ../../../../../geometry/operators/support/apiConverter.js */ "./node_modules/@arcgis/core/geometry/operators/support/apiConverter.js")),Promise.all(/*! import() */[__webpack_require__.e("vendors-node_modules_arcgis_core_chunks_Point2D_js"), __webpack_require__.e("vendors-node_modules_arcgis_core_chunks_Transformation2D_js"), __webpack_require__.e("vendors-node_modules_arcgis_core_chunks_Envelope2D_js"), __webpack_require__.e("vendors-node_modules_arcgis_core_chunks_ProjectionTransformation_js"), __webpack_require__.e("vendors-node_modules_arcgis_core_geometry_operators_support_jsonConverter_js")]).then(__webpack_require__.bind(__webpack_require__, /*! ../../../../../geometry/operators/support/jsonConverter.js */ "./node_modules/@arcgis/core/geometry/operators/support/jsonConverter.js")),(0,_geometry_operators_gx_operatorGeodeticDensify_js__WEBPACK_IMPORTED_MODULE_3__.load)()]).then((([t,e,s])=>{G={fromGeometryToGXGeometry:e.fromGeometryToGXGeometry,toGeometry:e.toGeometry,fromSpatialReference:t.fromSpatialReference}})),new q(t,s,a,e,c,d,o,n)}constructor(t,e,s,r,i,a,o,n){super(e,s,r,i,n),this._schema=t,this._featureFilter=a,this._arcadeContextInfo=o,this._tracks=new Map,this._handledChunks=new Set,this._metadata=e.metadata.weakCloneWithAdditionalFields([{name:_layers_support_streamLayerUtils_js__WEBPACK_IMPORTED_MODULE_11__.internalTrackPartField,alias:"trackPart",type:"esriFieldTypeSmallInteger"}]),this._trackLineMetadata=_support_FeatureMetadata_js__WEBPACK_IMPORTED_MODULE_21__.FeatureMetadata.createFeature({geometryType:"esriGeometryPolyline",featureIdInfo:{type:"object-id",fieldName:"aggregateId"},fieldsIndex:{fields:[...this._source.metadata.fieldsIndex.fields,...this.aggregateFields,{name:_layers_support_streamLayerUtils_js__WEBPACK_IMPORTED_MODULE_11__.internalTrackPartField,alias:"trackPart",type:"esriFieldTypeSmallInteger"},{name:"aggregateId",alias:"aggregateId",type:"esriFieldTypeOID"}],timeZoneByFieldName:null},globalIdField:null,spatialReference:e.metadata.spatialReference,outSpatialReference:e.metadata.outSpatialReference,subtypeField:null,subtypes:null,timeInfo:e.metadata.timeInfo,timeReferenceUnknownClient:null,dateFieldsTimeZone:null,typeIdField:null,types:null})}destroy(){super.destroy();for(const t of this._tracks.values())this._removeTrack(t);this._tracks.clear()}get _isStream(){return this._source.isStream}get enablePixelBuffering(){return!0}get isAggregate(){return!1}requiresInvalidation(){const t=new Set(this._source.chunks().map((t=>t.chunkId)));for(const e of t)if(!this._handledChunks.has(e))return!0;for(const e of this._handledChunks)if(!t.has(e))return!0;return!1}invalidate(){this._handledChunks.clear(),super.invalidate()}createState(t){return new U(t)}async*applyOverrideUpdate(t){P().error("Applying override to tracks is not supported")}displayMap(t,e,s){const r=new Map(t.map((t=>[e(t),t]))),i=[];for(const a of this._tracks.values()){const t=r.get(a.objectId);if(null!=t){const e=s(a.displayId,t,a.objectId);i.push(e),r.delete(a.objectId);continue}const e=a.latestObservationFeature;if(e?.objectId){const t=r.get(e.objectId);if(null!=t){const a=s(e.displayId,t,e.objectId);i.push(a),r.delete(e.objectId);continue}}for(const o of a.observations()){const t=r.get(o.objectId);if(null!=t){const e=s(o.displayId,t,o.objectId);i.push(e),r.delete(o.objectId)}}}return i}getDisplayFeatures(t){const e=new Set(t),s=[],r=[],i=this._source.chunks().map((t=>t.reader.getCursor()));for(const a of this._tracks.values()){if(e.has(a.displayId)&&r.push(a.getTrackLineDisplayFeature()),null!=a.latestObservationFeature&&e.has(a.latestObservationFeature.displayId)){const{displayId:t,chunkIndex:e,featureIndex:r}=a.latestObservationRecord,o=i[e];o.setIndex(r),s.push({displayId:t,attributes:{},...o.readLegacyFeatureWorldSpace()})}for(const{displayId:t,chunkIndex:r,featureIndex:o}of a.observations())if(e.has(t)){const e=i[r];e.setIndex(o),s.push({displayId:t,attributes:{},...e.readLegacyFeatureWorldSpace()})}}return{features:s,aggregates:[],tracks:r}}getFeatureObjectIdsForAggregate(t){for(const e of this._tracks.values())if(e.objectId===t)return Array.from(e.observations(),(t=>t.objectId));return[]}async*updateChunks(){0===this._handledChunks.size&&this._rebuildTracks();for(const t of this._sendStates.values())yield*this._update(t)}forEachAggregateWorldSpace(t){for(const e of this._tracks.values())t(e.getTrackLineOptimizedFeature())}_rebuildTracks(){const t=this._source.chunks();if(!t.length)return;const e=this._metadata.timeInfo?.trackIdField;if(null==e)return;const s=new Set;for(let r=0;r<t.length;r++){const i=t[r];this._handledChunks.add(i.chunkId);const a=i.reader.getCursor();for(;a.next();){const t=a.readAttribute(e),i=a.getObjectId();if(null!=t&&null!=i&&(null===this._featureFilter||this._featureFilter.check(a,this._sqlOptions))){if(a.getDisplayId()||a.setDisplayId(this._attributeStore.createDisplayIdForObjectId(i)),!this._tracks.has(t)){const e=M.getOid(t),s=this._attributeStore.createDisplayIdForObjectId(e),r=new M(this._schema,t,e,s,this.aggregateFields,this.spatialReference,this._source.metadata,this._isStream);this._tracks.set(t,r)}this._tracks.get(t).stageObservation(r,a),s.add(t)}}}for(const r of this._tracks.values())if(s.has(r.trackId)){const e=r.commitObservations(this._attributeStore,t,this._featureFilter?.timeExtent);for(const t of e)this._attributeStore.releaseDisplayIdForObjectId(t);r.updateStatistics(t,(0,_support_arcadeUtils_js__WEBPACK_IMPORTED_MODULE_18__.createArcadeEvaluationOptions)(1,this._arcadeContextInfo))}else this._removeTrack(r)}_removeTrack(t){this._tracks.delete(t.trackId),this._attributeStore.releaseDisplayIdForObjectId(t.objectId);for(const{objectId:e}of t.observations())this._attributeStore.releaseDisplayIdForObjectId(e);null!=t.latestObservationFeature&&this._attributeStore.releaseDisplayIdForObjectId(t.latestObservationFeature.objectId)}*_update(e){if(e.done)return;e.done=!this._source.updateTracking.updating;const s=[],r=[];for(const t of this._tracks.values())if(t.length>0){if(this._schema.showLatestObservation){const r=t.getLatestObservationFeatureForTile(e);null!=r&&s.push(r)}this._schema.showTrackLine&&t.overlapsTile(e.subscription.tile)&&r.push(t.getTrackLineFeatureForTile(e))}const i=_support_FeatureSetReaderJSON_js__WEBPACK_IMPORTED_MODULE_23__.FeatureSetReaderJSON.fromOptimizedFeatures(s,this._metadata,e.subscription.tile.transform),a=_support_FeatureSetReaderJSON_js__WEBPACK_IMPORTED_MODULE_23__.FeatureSetReaderJSON.fromOptimizedFeatures(r,this._trackLineMetadata,e.subscription.tile.transform);let o=[];if(this._schema.showPreviousObservations){const s=this._source.chunks().map((()=>[]));for(const t of this._tracks.values())for(const{chunkIndex:e,featureIndex:r}of t.previousObservations())s[e].push(r);o=this._source.chunks().map(((t,r)=>{const i=t.getTileReader(e.subscription.tile);if(null==i)return null;const a=_support_FeatureSetReaderIndirect_js__WEBPACK_IMPORTED_MODULE_22__.FeatureSetReaderIndirect.from(i,s[r]);return a.setProcessorAttributes({[_layers_support_streamLayerUtils_js__WEBPACK_IMPORTED_MODULE_11__.internalTrackPartField]:_layers_support_streamLayerUtils_js__WEBPACK_IMPORTED_MODULE_11__.TrackPart.PreviousObservation}),"esriGeometryPoint"!==a.geometryType&&null!=a.getInTransform()||a.setTransformForDisplay(e.subscription.tile.transform),a})).filter(_core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_0__.isSome)}this.events.emit("changed");const n=e.subscription.tile.createArcadeEvaluationOptions(this._arcadeContextInfo),l=a.getCursor();for(;l.next();)this._attributeStore.setAttributeData(l.getDisplayId(),l,n,this._sqlOptions);for(const t of o){const e=t.getCursor();for(;e.next();)this._attributeStore.setAttributeData(e.getDisplayId(),e,n,this._sqlOptions)}const c=i.getCursor();for(;c.next();)this._attributeStore.setAttributeData(c.getDisplayId(),c,n,this._sqlOptions);yield new _sources_FeatureSourceMessage_js__WEBPACK_IMPORTED_MODULE_17__.FeatureTileAppendMessage(e.subscription,a,!1,!1,{});for(const t of o)yield new _sources_FeatureSourceMessage_js__WEBPACK_IMPORTED_MODULE_17__.FeatureTileAppendMessage(e.subscription,t,!1,!1,{});yield new _sources_FeatureSourceMessage_js__WEBPACK_IMPORTED_MODULE_17__.FeatureTileAppendMessage(e.subscription,i,!1,e.done,{})}}function E(t,e,s){if(e.length<2)return (0,_layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_8__.convertFromNestedArray)(t,[e],!1,!1);if(s.isWrappable){let r=!1;for(let t=1;t<e.length;t++){const i=e[t][0],a=(0,_geometry_support_normalizeUtils_js__WEBPACK_IMPORTED_MODULE_6__.getClosestDenormalizedXToReference)(i,e[t-1][0],s);i!==a&&(e[t][0]=a,r=!0)}if(r){const r=(0,_geometry_support_normalizeUtilsSync_js__WEBPACK_IMPORTED_MODULE_7__.normalizeCentralMeridianForDisplay)({paths:[e],spatialReference:s});if(null!=r)return (0,_layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_8__.convertFromNestedArray)(t,r.paths,!1,!1)}return (0,_layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_8__.convertFromNestedArray)(t,[e],!1,!1)}const r=G.fromGeometryToGXGeometry({hasM:!1,hasZ:!1,paths:[e]}),i=G.fromSpatialReference(s);if(null!=i){const e=(0,_geometry_operators_gx_operatorGeodeticDensify_js__WEBPACK_IMPORTED_MODULE_3__.execute)(r,1e6,i,_geometry_operators_support_geodeticCurveType_js__WEBPACK_IMPORTED_MODULE_4__.geodeticCurveType.geodesic);if(null!=e){const s=G.toGeometry(e,i);if(null!=s&&"paths"in s)return (0,_layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_8__.convertFromNestedArray)(t,s.paths,!1,!1)}}return (0,_layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_8__.convertFromNestedArray)(t,[e],!1,!1)}function N(t,e){const s=2,{coords:r,lengths:i}=t;if(!i.length)return void e(r[0],r[1]);let a=0;for(let o=0;o<i.length;o++){const t=i[o];let n=0,l=0;for(let i=0;i<t;i++)n+=r[s*(i+a)],l+=r[s*(i+a)+1],e(n,l);a+=t}}function X(t){const{lengths:e,coords:s}=t,r=2;if(!e.length)return[(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_5__.empty)()];const i=[];let a=0;for(let o=0;o<e.length;o++){const t=e[o],n=(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_5__.empty)();i.push(n);for(let e=0;e<t;e++){const t=s[r*(e+a)],i=s[r*(e+a)+1];(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_5__.expandPointInPlace)(n,[t,i])}a+=t}return i}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/features/processor/support/WithDisplayId.js":
/*!***********************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/features/processor/support/WithDisplayId.js ***!
  \***********************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   WithDisplayId: () => (/* binding */ s)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
class s{constructor(s,t){this.inner=s,this.displayId=t}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/features/sources/FeatureCache.js":
/*!************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/features/sources/FeatureCache.js ***!
  \************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   FeatureCache: () => (/* binding */ h)
/* harmony export */ });
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _core_uuid_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../../core/uuid.js */ "./node_modules/@arcgis/core/core/uuid.js");
/* harmony import */ var _strategies_support_snapshotUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./strategies/support/snapshotUtils.js */ "./node_modules/@arcgis/core/views/2d/layers/features/sources/strategies/support/snapshotUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
const o=8e3;class h{constructor(h,a,c,n){this.store=h,this.queryInfo=a,this._options=c,this._fetch=n,this._nextBatch=new Set,this._fetchFeatures=(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__.debounce)((async()=>{if(0===this._nextBatch.size||this._options.signal?.aborted)return;const r=Array.from(this._nextBatch);this._nextBatch.clear(),r.length>o&&_core_Logger_js__WEBPACK_IMPORTED_MODULE_2__["default"].getLogger("esri.views.2d.layers.FeatureLayerView2D").warn(new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("highlight-too-many-features",`highlight is limited to ${o} features on large layers configured with a display filter to avoid performance issues`));const h=this.queryInfo.objectIdsQueryPageSize,a=Math.ceil(o/h),c=Math.min(a,Math.ceil(r.length/h)),n=Array.from({length:c},((t,e)=>{const s=e*h,i=Math.min(s+h,r.length);return{num:e,query:this.queryInfo.createObjectIdsQuery(r.slice(s,i))}}));try{await (0,_strategies_support_snapshotUtils_js__WEBPACK_IMPORTED_MODULE_5__.fetchPages)({chunkPrefix:"cache."+(0,_core_uuid_js__WEBPACK_IMPORTED_MODULE_4__.generateUUID)(),fetch:this._fetch},this.store,n,this._options)}catch(f){}}))}prepareCacheUpdate(t,e){if(e)for(const r of e)this._nextBatch.delete(r);for(const r of t)this._nextBatch.add(r)}applyCacheUpdate(){return 0===this._nextBatch.size||this._options.signal?.aborted?null:this._fetchFeatures().catch((()=>{}))}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/features/sources/FeatureSource.js":
/*!*************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/features/sources/FeatureSource.js ***!
  \*************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   FeatureSource: () => (/* binding */ E)
/* harmony export */ });
/* harmony import */ var _request_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../request.js */ "./node_modules/@arcgis/core/request.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _core_accessorSupport_diffUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../core/accessorSupport/diffUtils.js */ "./node_modules/@arcgis/core/core/accessorSupport/diffUtils.js");
/* harmony import */ var _layers_graphics_OptimizedFeature_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../../layers/graphics/OptimizedFeature.js */ "./node_modules/@arcgis/core/layers/graphics/OptimizedFeature.js");
/* harmony import */ var _layers_graphics_data_QueryEngine_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../../layers/graphics/data/QueryEngine.js */ "./node_modules/@arcgis/core/layers/graphics/data/QueryEngine.js");
/* harmony import */ var _rest_query_operations_query_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../rest/query/operations/query.js */ "./node_modules/@arcgis/core/rest/query/operations/query.js");
/* harmony import */ var _rest_support_StatisticDefinition_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../../rest/support/StatisticDefinition.js */ "./node_modules/@arcgis/core/rest/support/StatisticDefinition.js");
/* harmony import */ var _FeatureStoreStatistics_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../FeatureStoreStatistics.js */ "./node_modules/@arcgis/core/views/2d/layers/features/FeatureStoreStatistics.js");
/* harmony import */ var _FeatureSourceQueryInfo_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./FeatureSourceQueryInfo.js */ "./node_modules/@arcgis/core/views/2d/layers/features/sources/FeatureSourceQueryInfo.js");
/* harmony import */ var _StreamMessenger_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./StreamMessenger.js */ "./node_modules/@arcgis/core/views/2d/layers/features/sources/StreamMessenger.js");
/* harmony import */ var _strategies_DrillDownTileLoadStrategy_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./strategies/DrillDownTileLoadStrategy.js */ "./node_modules/@arcgis/core/views/2d/layers/features/sources/strategies/DrillDownTileLoadStrategy.js");
/* harmony import */ var _strategies_PagedTileLoadStrategy_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./strategies/PagedTileLoadStrategy.js */ "./node_modules/@arcgis/core/views/2d/layers/features/sources/strategies/PagedTileLoadStrategy.js");
/* harmony import */ var _strategies_ParquetLoadStrategy_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./strategies/ParquetLoadStrategy.js */ "./node_modules/@arcgis/core/views/2d/layers/features/sources/strategies/ParquetLoadStrategy.js");
/* harmony import */ var _strategies_SnapshotLoadStrategy_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./strategies/SnapshotLoadStrategy.js */ "./node_modules/@arcgis/core/views/2d/layers/features/sources/strategies/SnapshotLoadStrategy.js");
/* harmony import */ var _strategies_StreamLoadStrategy_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./strategies/StreamLoadStrategy.js */ "./node_modules/@arcgis/core/views/2d/layers/features/sources/strategies/StreamLoadStrategy.js");
/* harmony import */ var _strategies_chunks_SourceChunkStore_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./strategies/chunks/SourceChunkStore.js */ "./node_modules/@arcgis/core/views/2d/layers/features/sources/strategies/chunks/SourceChunkStore.js");
/* harmony import */ var _support_FeatureMetadata_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../support/FeatureMetadata.js */ "./node_modules/@arcgis/core/views/2d/layers/features/support/FeatureMetadata.js");
/* harmony import */ var _support_UpdateTracking2D_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../support/UpdateTracking2D.js */ "./node_modules/@arcgis/core/views/2d/layers/support/UpdateTracking2D.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
class E{constructor(e,t,s,r,a){this.service=e,this._aggregateAdapter=t,this._subscriptions=s,this._connection=r,this._cachedObjectIds=a,this._updateTracking=new _support_UpdateTracking2D_js__WEBPACK_IMPORTED_MODULE_18__.UpdateTracking2D({debugName:"FeatureSource"}),this._didInvalidateData=!1,this._metadata=_support_FeatureMetadata_js__WEBPACK_IMPORTED_MODULE_17__.FeatureMetadata.createFeature(e.metadata),this._store=new _strategies_chunks_SourceChunkStore_js__WEBPACK_IMPORTED_MODULE_16__.FeatureSourceChunkStore(this._metadata)}destroy(){this._strategy?.destroy(),this._store.destroy(),this._streamMessenger?.destroy(),"memory"===this.service.type&&this.service.source.map((e=>e.close()))}get metadata(){if(!this._metadata)throw new Error("InternalError: Metadata not defined. Was update called?");return this._metadata}get store(){return this._store}get streamMessenger(){return null==this._streamMessenger&&this._initStreamMessenger(),this._streamMessenger}get statistics(){return _FeatureStoreStatistics_js__WEBPACK_IMPORTED_MODULE_8__.FeatureStoreStatistics.from(this._store)}get updateTracking(){return this._updateTracking}get queryEngine(){if(!this._queryEngine){if(!this._schema)return null;const{dataFilter:e}=this._schema.mutable,t=this._schema.mutable.availableFields,s=this._metadata;this._queryEngine=new _layers_graphics_data_QueryEngine_js__WEBPACK_IMPORTED_MODULE_5__.QueryEngine({featureStore:this._store,fieldsIndex:s.fieldsIndex,geometryType:s.geometryType,featureIdInfo:s.featureIdInfo,hasM:!1,hasZ:!1,spatialReference:this.service.outSpatialReference,aggregateAdapter:this._aggregateAdapter,timeInfo:s.timeInfo,definitionExpression:e.definitionExpression,availableFields:t})}return this._queryEngine}get isStream(){return"stream"===this._schema.type}get hasDisplayFilter(){return!!this._schema&&("displayFilterInfo"in this._schema.mutable&&null!=this._schema.mutable.displayFilterInfo)}chunks(){return Array.from(this._store.chunks())}prepareCacheUpdate(e,t){const s=new Set,r=new Set;for(const a of e)this._cachedObjectIds.has(a)||(this._cachedObjectIds.add(a),s.add(a));for(const a of t)this._cachedObjectIds.delete(a),r.add(a);this.hasDisplayFilter&&this._strategy.prepareCacheUpdate(s,r)}async applyCacheUpdate(){this.hasDisplayFilter&&await this._updateTracking.addPromise(this._strategy.applyCacheUpdate())}cleanup(){return this._store.cleanup()}onSubscribe(e){this._connection.onEvent({type:"subscribe",tile:e.tile.id});const t=this._strategy?.load(e);t&&(t.then((()=>this._connection.onEvent({type:"loaded",tile:e.tile.id}))).catch((t=>this._connection.onEvent({type:"error",tile:e.tile.id,error:t}))),this._updateTracking.addPromise(t))}onResume(e){this._updateTracking.addPromise((0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_2__.ignoreAbortErrors)(this._strategy?.load(e)))}onUnsubscribe(e){this._connection.onEvent({type:"unsubscribe",tile:e.tile.id}),this._strategy?.unload(e)}applyOverride(e){this._didInvalidateData=!0,this._store.applyOverride(e)}takeOverrideUpdate(){return this._store.takeOverrideUpdate()}async update(e,t){const s=e.source,n=(0,_core_accessorSupport_diffUtils_js__WEBPACK_IMPORTED_MODULE_3__.diff)(this._schema?.mutable,s.mutable);if(!n)return!1;if((0,_core_has_js__WEBPACK_IMPORTED_MODULE_1__["default"])("esri-2d-update-debug")&&console.debug(`Version[${t}] FeatureSource.update`,{changes:n}),this._schema=s,this._queryEngine?.destroy(),this._queryEngine=null,"feature-service"===this.service.type&&null!=this.service.queryMetadata.lastEditDate&&(this._lastEditDate=this.service.queryMetadata.lastEditDate),null==this._streamMessenger&&"stream"===this._schema.type&&this._initStreamMessenger(),(0,_core_accessorSupport_diffUtils_js__WEBPACK_IMPORTED_MODULE_3__.hasRootDiffOnly)(n,"sourceRefreshVersion")&&this._strategy?.refresh)return this._strategy.refresh();if(("feature"===s.type||"parquet"===s.type)&&(0,_core_accessorSupport_diffUtils_js__WEBPACK_IMPORTED_MODULE_3__.hasRootDiffOnly)(n,"availableFields")){if(await this._queryLastEditDateChanged()||this._didInvalidateData)this._didInvalidateData=!1,await this._updateStrategy(t);else{this._connection.onEvent({type:"updateFieldsStart"});try{await this._strategy.updateFields(s.mutable.availableFields),this._connection.onEvent({type:"updateFieldsEnd"})}catch(o){this._connection.onEvent({type:"updateFieldsError",error:o})}}return!1}return!!((0,_core_accessorSupport_diffUtils_js__WEBPACK_IMPORTED_MODULE_3__.hasRootDiff)(n,"dataFilter")||(0,_core_accessorSupport_diffUtils_js__WEBPACK_IMPORTED_MODULE_3__.hasRootDiff)(n,"sourceRefreshVersion")||this._strategy.about.supportsDisplayFilter&&(0,_core_accessorSupport_diffUtils_js__WEBPACK_IMPORTED_MODULE_3__.hasRootDiff)(n,"displayFilterInfo"))&&(await this._updateStrategy(t),!0)}async addParquetFile(e){this._strategy.addParquetFile(e)}unsafeSetQueryHistoricMoment(e){"feature"===this._schema.type&&(this._schema.mutable.dataFilter.historicMoment=e,this._strategy.unsafeSetQueryHistoricMoment(new Date(e)))}_initStreamMessenger(){null==this._streamMessenger&&(this._streamMessenger=new _StreamMessenger_js__WEBPACK_IMPORTED_MODULE_10__.StreamMessenger(this._connection))}async normalizeOverrides(e){const t={historicMoment:e.historicMoment,commands:{updateWeak:e.commands.updateWeak.map(_layers_graphics_OptimizedFeature_js__WEBPACK_IMPORTED_MODULE_4__.OptimizedFeature.fromJSON),removeWeak:e.commands.removeWeak,update:e.commands.update.map(_layers_graphics_OptimizedFeature_js__WEBPACK_IMPORTED_MODULE_4__.OptimizedFeature.fromJSON),remove:e.commands.remove,release:e.commands.release}},s=e.commands.updateByIdWeak,r=await this._queryOptimizedFeatures(s);return t.commands.updateWeak.push(...r),t}async _queryOptimizedFeatures(e){if(0===e.length)return[];const t=[],s=(await this._strategy.queryByObjectId(e)).getCursor();for(;s.next();)t.push(s.readOptimizedFeatureWorldSpace());return t}getObjectIdsFromGlobalIds(e){const t=this.metadata.globalIdField;if(null==t)throw new Error("InternalError: Recieved an edit with globalIds, but not supported by the service");const s=this._store.mapObjectIdsFromGlobalIds(e,t).values();return Array.from(s)}async _queryLastEditDateChanged(){if(null==this._lastEditDate)return!1;const t=this.service.source,s={...t.query,f:"json"},r=(await (0,_request_js__WEBPACK_IMPORTED_MODULE_0__["default"])(t.path,{query:s,responseType:"json"})).data.editingInfo.lastEditDate;return r!==this._lastEditDate&&(this._lastEditDate=r,!0)}async _createStrategy(){const e="isSourceHosted"in this.service&&this.service.isSourceHosted,t=Array.isArray(this.service.source),s=this.service.source&&"collection"in this.service.source,r=e||t||s;if("stream"===this._schema.type){const e=new _strategies_StreamLoadStrategy_js__WEBPACK_IMPORTED_MODULE_15__.StreamLoadStrategy(this.service,this._schema.mutable.dataFilter,this._store,{outSR:this.service.outSpatialReference},this.metadata);return this._streamMessenger.strategy=e,e}if("parquet"===this._schema.type){const e=this.service;return new _strategies_ParquetLoadStrategy_js__WEBPACK_IMPORTED_MODULE_13__.ParquetLoadStrategy(e,this._metadata,this._schema,this._store)}const a=this.service,i=_FeatureSourceQueryInfo_js__WEBPACK_IMPORTED_MODULE_9__.FeatureSourceQueryInfo.fromSchema(a,this._schema,this._metadata),n=await this._supportSnapshotMode(a,i);return n?new _strategies_SnapshotLoadStrategy_js__WEBPACK_IMPORTED_MODULE_14__.SnapshotLoadStrategy(a,i,this._store,n,this.metadata,this._connection):r?new _strategies_PagedTileLoadStrategy_js__WEBPACK_IMPORTED_MODULE_12__.PagedTileLoadStrategy(a,i,this._store,this.metadata,this._connection):new _strategies_DrillDownTileLoadStrategy_js__WEBPACK_IMPORTED_MODULE_11__.DrillDownTileLoadStrategy(a,i,this._store,this.metadata,this._connection)}async _updateStrategy(e){const t=await this._createStrategy();this._connection.onEvent({type:"updateStrategyStart",about:t.about});const r=!!this._strategy;this._store.clear(),this._strategy?.destroy(),this._strategy=t,(0,_core_has_js__WEBPACK_IMPORTED_MODULE_1__["default"])("esri-2d-update-debug")&&console.debug(`Version[${e}] FeatureSource.updateStrategy`,{strategy:t});const a=Array.from(this._subscriptions.values());if(!a.length)return void this._connection.onEvent({type:"updateStrategyEnd"});const i=Promise.all(a.map((e=>this._strategy.load(e).then((()=>this._connection.onEvent({type:"loaded",tile:e.tile.id}))).catch((t=>this._connection.onEvent({type:"error",tile:e.tile.id,error:t}))))));this._updateTracking.addPromise(i),this._strategy.prepareCacheUpdate(this._cachedObjectIds);try{r&&await i}catch(n){(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_2__.throwIfNotAbortError)(n)}this._connection.onEvent({type:"updateStrategyEnd"}),(0,_core_has_js__WEBPACK_IMPORTED_MODULE_1__["default"])("esri-2d-update-debug")&&console.debug(`Version[${e}] FeatureSource.updateStrategyEnd`,{strategy:t})}async _supportSnapshotMode(e,t){const{queryMetadata:s}=e,r=s.snapshotInfo;if(!r)return null;return await this._executeExceedsLimitQuery(e,t,r)?null:r}async _executeExceedsLimitQuery(e,t,s){if(!s.supportsExceedsLimit)return this._executeExceedsLimitFallbackQuery(e,t,s);try{const r=e.source,a=t.createQuery();a.inner.orderByFields=[],a.inner.returnGeometry=!1;const i=new _rest_support_StatisticDefinition_js__WEBPACK_IMPORTED_MODULE_7__["default"];i.statisticType="exceedslimit",i.maxPointCount=s.maxFeatureCount,i.maxRecordCount=s.maxFeatureCount,i.outStatisticFieldName="exceedslimit",s.maxVertexCount&&(i.maxVertexCount=s.maxVertexCount),a.inner.outStatistics=[i],a.inner.cacheHint=!0;const n=await (0,_rest_query_operations_query_js__WEBPACK_IMPORTED_MODULE_6__.executeQuery)(r,a.inner,void 0,{query:a.customParameters}),o=n.data.features[0]?.attributes.exceedslimit;return!(0===o)}catch(r){return!0}}async _executeExceedsLimitFallbackQuery(e,t,s){if(s.maxVertexCount)return!0;const r=e.source,a=t.createQuery();a.inner.orderByFields=[],a.inner.returnGeometry=!1,a.inner.cacheHint=!0;try{return(await (0,_rest_query_operations_query_js__WEBPACK_IMPORTED_MODULE_6__.executeQueryForCount)(r,a.inner,{query:a.customParameters})).data.count>s.maxFeatureCount}catch(i){return!0}}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/features/sources/FeatureSourceMessage.js":
/*!********************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/features/sources/FeatureSourceMessage.js ***!
  \********************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   FeatureTileAppendMessage: () => (/* binding */ e),
/* harmony export */   FeatureTileUpdateMessage: () => (/* binding */ i)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
class e{constructor(e,i,t,s,r){this.subscription=e,this.reader=i,this.clear=t,this.end=s,this.debugInfo=r,this.type="append"}get id(){return this.subscription.tile.id}createMessage(e,i,t){return{type:"append",clear:this.clear,id:this.id,append:e,end:this.end,debugInfo:this.debugInfo,subscriptionVesrion:this.subscription.version,version:i,attributeEpoch:t}}}class i{constructor(e,i,t,s,r){this.subscription=e,this.reader=i,this.remove=t,this.end=s,this.debugInfo=r,this.type="update"}get id(){return this.subscription.tile.id}createMessage(e,i,t){return{type:"update",id:this.id,modify:e,debugInfo:this.debugInfo,remove:this.remove,version:i,subscriptionVesrion:this.subscription.version,end:this.end,attributeEpoch:t}}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/features/sources/FeatureSourceQueryInfo.js":
/*!**********************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/features/sources/FeatureSourceQueryInfo.js ***!
  \**********************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   FeatureSourceQueryInfo: () => (/* binding */ l)
/* harmony export */ });
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_sql_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../core/sql.js */ "./node_modules/@arcgis/core/core/sql.js");
/* harmony import */ var _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../geometry/SpatialReference.js */ "./node_modules/@arcgis/core/geometry/SpatialReference.js");
/* harmony import */ var _layers_support_arcgisLayerUrl_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../layers/support/arcgisLayerUrl.js */ "./node_modules/@arcgis/core/layers/support/arcgisLayerUrl.js");
/* harmony import */ var _layers_support_displayFilterUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../../layers/support/displayFilterUtils.js */ "./node_modules/@arcgis/core/layers/support/displayFilterUtils.js");
/* harmony import */ var _rest_support_Query_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../../rest/support/Query.js */ "./node_modules/@arcgis/core/rest/support/Query.js");
/* harmony import */ var _chunks_TimeExtent_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../chunks/TimeExtent.js */ "./node_modules/@arcgis/core/chunks/TimeExtent.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
const o=4;function n(e){switch(e.type){case"object-id":case"unique-id-simple":return`${e.fieldName} ASC`;case"unique-id-composite":return`${e.fieldNames.join(",")} ASC`}}function u(e,a,i){const o=n(i.featureIdInfo),u=e.source,l={returnCentroid:!(null!==u&&"object"==typeof u&&"path"in u&&(0,_layers_support_arcgisLayerUrl_js__WEBPACK_IMPORTED_MODULE_3__.isHostedAgolService)(u.path))&&"esriGeometryPolygon"===i.serviceGeometryType,returnGeometry:!0,timeReferenceUnknownClient:i.timeReferenceUnknownClient??void 0,outSpatialReference:_geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_2__["default"].fromJSON(e.outSpatialReference),orderByFields:"memory"===e.type?[]:[o],where:a.mutable.dataFilter.definitionExpression??"1=1",outFields:a.mutable.availableFields,multipatchOption:"esriGeometryMultiPatch"===i.serviceGeometryType?"xyFootprint":null};if("feature"===a.type){const{gdbVersion:e,historicMoment:t,timeExtent:r}=a.mutable.dataFilter;return{...l,gdbVersion:e,historicMoment:t?new Date(t):null,timeExtent:r?_chunks_TimeExtent_js__WEBPACK_IMPORTED_MODULE_6__.T.fromJSON(r):null,outFields:a.mutable.availableFields}}return l}class l{static fromSchema(e,t,r){const a="feature"===t.type?t.mutable.dataFilter.queryScaleRanges:[],i=t.mutable.displayFilterInfo;return new l(u(e,t,r),i,a,r.subtypeField,t.mutable.dataFilter.customParameters,r.geometryType,e.queryMetadata)}constructor(e,t,r,a,i,s,o){this._queryParams=e,this._displayFilter=t,this._queryScaleRanges=r,this._subtypeField=a,this._customParameters=i,this._geometryType=s,this._queryMetadata=o}get pageSize(){if(null==this._queryMetadata)throw new Error("InternalError: Service does not support paged queries");const e=this._queryMetadata.supportsMaxRecordCountFactor?o:null,t=(this._queryMetadata.maxRecordCount??8e3)*(e??1);return Math.min(8e3,t)}get objectIdsQueryPageSize(){return this._queryMetadata?.maxRecordCount??2e3}updateHistoricMoment(e){this._queryParams.historicMoment=e}updateFields(e){this._queryParams.outFields=e}createPatchFieldsQuery(e,t,r){if(!t.getSize())return null;const a=e.clone();if("*"===this._queryParams.outFields[0]){if("*"===(a.outFields??[])[0])return null;a.outFields=this._queryParams.outFields}else{const e=new Set(this._queryParams.outFields),r=[];for(const a of e)t.hasField(a)||r.push(a);if(0===r.length)return null;a.outFields=r}a.returnGeometry=!1,a.returnCentroid=!1,a.quantizationParameters=null,a.cacheHint=!0;const i={inner:a,customParameters:this._customParameters};if((0,_core_has_js__WEBPACK_IMPORTED_MODULE_0__["default"])("esri-tiles-debug")&&null!=r){const e=r.chunkId.toString().replaceAll("/",".");i.customParameters=i.customParameters?{...i.customParameters,chunkId:e}:{chunkId:e}}return i}createQuery(e={}){if(!this._queryParams)throw new Error("InternalError: queryInfo should be defined");return{inner:new _rest_support_Query_js__WEBPACK_IMPORTED_MODULE_5__["default"]({...this._queryParams,...e}),customParameters:this._customParameters}}createTileQuery(t,r){if(null==this._queryMetadata)throw new Error("InternalError: Service does not support tile queries");const i=this.createQuery(r),s=i.inner;if(this._queryScaleRanges.length){const r=this._queryScaleRanges.filter((e=>(!e.minScale||e.minScale>=t.maxScale)&&(!e.maxScale||e.maxScale<=t.minScale))).map((e=>e.subtypeCode));if(r.length){const t=`${this._subtypeField} IN (${r})`;s.where=(0,_core_sql_js__WEBPACK_IMPORTED_MODULE_1__.sqlAnd)(s.where,t)}}if(this._displayFilter&&(s.where=(0,_core_sql_js__WEBPACK_IMPORTED_MODULE_1__.sqlAnd)(s.where,(0,_layers_support_displayFilterUtils_js__WEBPACK_IMPORTED_MODULE_4__.getClauseForScaleRange)(this._displayFilter,t.minScale,t.maxScale))),s.quantizationParameters=r.quantizationParameters??t.getQuantizationParameters(),s.resultType="tile",s.geometry=t.extent,this._queryMetadata.supportsQuantization?"esriGeometryPolyline"===this._geometryType&&(s.maxAllowableOffset=t.resolution*(0,_core_has_js__WEBPACK_IMPORTED_MODULE_0__["default"])("feature-polyline-generalization-factor")):"esriGeometryPolyline"!==this._geometryType&&"esriGeometryPolygon"!==this._geometryType||(s.maxAllowableOffset=t.resolution,"esriGeometryPolyline"===this._geometryType&&(s.maxAllowableOffset*=(0,_core_has_js__WEBPACK_IMPORTED_MODULE_0__["default"])("feature-polyline-generalization-factor"))),s.defaultSpatialReferenceEnabled=this._queryMetadata.supportsDefaultSpatialReference,s.compactGeometryEnabled=this._queryMetadata.supportsCompactGeometry,this._queryMetadata.supportsMaxRecordCountFactor&&(s.maxRecordCountFactor=o),(0,_core_has_js__WEBPACK_IMPORTED_MODULE_0__["default"])("esri-tiles-debug")){const e=t.id.replaceAll("/",".");i.customParameters=i.customParameters?{...i.customParameters,tileId:e}:{tileId:e}}return i}createPagedTileQuery(e,t){const r=this.pageSize;return this.createTileQuery(e,{start:r*t,num:r,returnExceededLimitFeatures:!0})}createPagedQuery(e,t){const r=this.pageSize;return this.createQuery({start:r*e,num:r,returnExceededLimitFeatures:!0,maxRecordCountFactor:o,quantizationParameters:t,cacheHint:!0})}createObjectIdsQuery(e){return this.createQuery({objectIds:e,outFields:["*"]})}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/features/sources/FeatureTileSubscription.js":
/*!***********************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/features/sources/FeatureTileSubscription.js ***!
  \***********************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   FeatureTileSubscription: () => (/* binding */ t)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
class t{constructor(t,r){this.tile=t,this.version=r,this._abortController=new AbortController}get key(){return this.tile.key}get signal(){return this._abortController.signal}abort(){this._abortController.abort()}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/features/sources/StreamConnectionState.js":
/*!*********************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/features/sources/StreamConnectionState.js ***!
  \*********************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   StreamConnectionState: () => (/* binding */ s)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../core/Accessor.js */ "./node_modules/@arcgis/core/core/Accessor.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
let s=class extends _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__["default"]{constructor(r){super(r)}get connectionStatus(){return this.connection?.connectionStatus}get errorString(){return this.connection?.errorString}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)()],s.prototype,"connection",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)()],s.prototype,"connectionStatus",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)()],s.prototype,"errorString",null),s=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_3__.subclass)("esri.views.2d.layers.features.sources.StreamConnectionState")],s);


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/features/sources/StreamFeatureStore.js":
/*!******************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/features/sources/StreamFeatureStore.js ***!
  \******************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   StreamFeatureStore: () => (/* binding */ t)
/* harmony export */ });
/* harmony import */ var _support_FeatureSetReaderJSON_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../support/FeatureSetReaderJSON.js */ "./node_modules/@arcgis/core/views/2d/layers/features/support/FeatureSetReaderJSON.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
class t{constructor(e,t){this._metadata=e,this._onUpdate=t,this._objectIdToFeature=new Map}get size(){return this._objectIdToFeature.size}get reader(){return _support_FeatureSetReaderJSON_js__WEBPACK_IMPORTED_MODULE_0__.FeatureSetReaderJSON.fromFeatures([...this._objectIdToFeature.values()],this._metadata)}add(e){this._objectIdToFeature.set(e.objectId,e)}forEach(e){this._objectIdToFeature.forEach(e)}removeById(e){const t=this._objectIdToFeature.get(e);return t?(this._objectIdToFeature.delete(e),t):null}clear(){this._objectIdToFeature=new Map}update(e,t){this._onUpdate(e?.length??0)}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/features/sources/StreamMessenger.js":
/*!***************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/features/sources/StreamMessenger.js ***!
  \***************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   StreamMessenger: () => (/* binding */ o)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../core/Accessor.js */ "./node_modules/@arcgis/core/core/Accessor.js");
/* harmony import */ var _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../core/reactiveUtils.js */ "./node_modules/@arcgis/core/core/reactiveUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_RandomLCG_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../core/RandomLCG.js */ "./node_modules/@arcgis/core/core/RandomLCG.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
const a=2500;let o=class extends _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__["default"]{constructor(e){super(),this._connection=e,this._enabledEventTypes=new Set,this._updateInfo={websocket:0,client:0},this._lastTime=performance.now(),this._queuedCommands=[],this.addHandles([(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_2__.watch)((()=>this._strategy?.connectionStatus??"disconnected"),(e=>{this._layerView.setProperty({propertyName:"pipelineConnectionStatus",value:e})}),{initial:!0}),(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_2__.watch)((()=>this._strategy?.errorString||null),(e=>this._layerView.setProperty({propertyName:"pipelineErrorString",value:e})),{initial:!0})])}destroy(){this._strategy=null,this.removeAllHandles()}get _layerView(){return this._connection.layerView}set strategy(e){null==this._strategy&&this._resetUpdateInfo(performance.now());const t="event-handles";this.removeHandles(t),null!=e&&(this.addHandles([e.events.on("data-received",(e=>this._onFeature(e))),e.events.on("message-received",(e=>this._onWebSocketMessage(e))),e.events.on("features-updated",(e=>this._onUpdate(e))),e.events.on("tick",(()=>this._onTick()))],t),this._queuedCommands.forEach((t=>t(e))),this._queuedCommands=[]),this._strategy=e}updateCustomParameters(e){null!=e&&this._callOrEnqueue((t=>t.updateCustomParameters(e)))}sendMessageToSocket(e){this._callOrEnqueue((t=>t.sendMessageToSocket(e)))}sendMessageToClient(e){this._callOrEnqueue((t=>t.sendMessageToClient(e)))}enableEvent(e,t){t?this._enabledEventTypes.add(e):this._enabledEventTypes.delete(e)}disconnect(){this._strategy?.disconnect()}connect(){this._strategy?.connect()}clear(){this._strategy?.clear()}_onWebSocketMessage(e){this._enabledEventTypes.has("message-received")&&this._layerView.emitEvent({name:"message-received",event:e})}_onFeature(e){this._updateInfo.websocket++,this._enabledEventTypes.has("data-received")&&this._layerView.emitEvent({name:"data-received",event:{attributes:e.attributes,centroid:e.centroid,geometry:e.geometry}})}_onUpdate(e){this._updateInfo.client+=e}_onTick(){const e=performance.now(),t=e-this._lastTime;if(t>a){const s=Math.round(this._updateInfo.client/(t/1e3)),n=Math.round(this._updateInfo.websocket/(t/1e3));this._resetUpdateInfo(e),this._layerView.emitEvent({name:"update-rate",event:{client:s,websocket:n}})}}_resetUpdateInfo(e){this._lastTime=e,this._updateInfo.client=0,this._updateInfo.websocket=0}_callOrEnqueue(e){null!=this._strategy?e(this._strategy):this._queuedCommands.push(e)}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)()],o.prototype,"_strategy",void 0),o=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__.subclass)("esri.views.2d.layers.features.sources.StreamMessenger")],o);


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/features/sources/strategies/AFetchLoadStrategy.js":
/*!*****************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/features/sources/strategies/AFetchLoadStrategy.js ***!
  \*****************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   AFetchLoadStrategy: () => (/* binding */ i)
/* harmony export */ });
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_QueueProcessor_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../../core/QueueProcessor.js */ "./node_modules/@arcgis/core/core/QueueProcessor.js");
/* harmony import */ var _rest_support_Query_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../../rest/support/Query.js */ "./node_modules/@arcgis/core/rest/support/Query.js");
/* harmony import */ var _ALoadStrategy_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./ALoadStrategy.js */ "./node_modules/@arcgis/core/views/2d/layers/features/sources/strategies/ALoadStrategy.js");
/* harmony import */ var _support_queryAdapters_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./support/queryAdapters.js */ "./node_modules/@arcgis/core/views/2d/layers/features/sources/strategies/support/queryAdapters.js");
/* harmony import */ var _support_FeatureSetReaderJSON_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../support/FeatureSetReaderJSON.js */ "./node_modules/@arcgis/core/views/2d/layers/features/support/FeatureSetReaderJSON.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
class i extends _ALoadStrategy_js__WEBPACK_IMPORTED_MODULE_4__.ALoadStrategy{constructor(e,t,s,n,u){super(s),this._serviceInfo=e,this._queryInfo=t,this._metadata=n,this._connection=u,this._queue=new _core_QueueProcessor_js__WEBPACK_IMPORTED_MODULE_2__.QueueProcessor({concurrency:32,process:async e=>{const t={signal:e.options?.signal,query:e.query.customParameters,useRequestQueue:!0};return this._adapter.executeQuery(e.query.inner,t)}}),this._adapter=(0,_support_queryAdapters_js__WEBPACK_IMPORTED_MODULE_5__.createQueryAdapter)(e,n)}unsafeSetQueryHistoricMoment(e){this._queryInfo.updateHistoricMoment(e)}async updateFields(t){this._queryInfo.updateFields(t);const r=Array.from(this._store.chunks()).map((async e=>{const t=_rest_support_Query_js__WEBPACK_IMPORTED_MODULE_3__["default"].fromJSON(e.queryInfo.queryJSON);if(t)try{return await this._tryUpdateFields(e.reader,t,{chunkId:e.chunkId}),null}catch(r){return r}})),n=(await Promise.all(r)).filter((e=>e));if(n.length)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("featurelayer-query","Encountered errors when downloading fields",{errors:n})}async queryByObjectId(e){if(0===e.length)return _support_FeatureSetReaderJSON_js__WEBPACK_IMPORTED_MODULE_6__.FeatureSetReaderJSON.empty(this._metadata);const t=this._queryInfo.createQuery({objectIds:e});return this._fetch(t,null,null)}async _fetch(e,t,r){const s=await this._enqueue(e,t);return await this._tryUpdateFields(s,e.inner,r),s}async _tryUpdateFields(r,s,n){const o=this._queryInfo.createPatchFieldsQuery(s,r,n);if(!o)return;const u=await this._enqueue(o,this._options);u.getSize()===r.getSize()?r.joinAttributes(u):_core_Logger_js__WEBPACK_IMPORTED_MODULE_1__["default"].getLogger("esri.views.2d.layers.features.sources.strategies.AFetchLoadStrategy").error(new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("featurelayer-query",`Failed to join features. Expected a count of ${r.getSize()} features, but got ${u.getSize()}`,{query:o.inner.toJSON(),debugInfo:n}))}async _enqueue(e,t){return this._connection.onEvent({type:"fetchStart"}),this._queue.push({query:e,options:t}).finally((()=>{this._connection.onEvent({type:"fetchEnd",done:0===this._queue.length})}))}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/features/sources/strategies/ALoadStrategy.js":
/*!************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/features/sources/strategies/ALoadStrategy.js ***!
  \************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ALoadStrategy: () => (/* binding */ r)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
class r{constructor(r){this._store=r,this._controller=new AbortController}destroy(){this._controller.abort()}get _options(){return{signal:this._controller.signal}}unsafeSetQueryHistoricMoment(r){throw new Error("InternalError: LoadStrategy does not support query info")}async queryByObjectId(r){throw new Error("InternalError: LoadStrategy does not support fetching")}async addParquetFile(r){throw new Error("InternalError: LoadStrategy does not support loading blobs")}prepareCacheUpdate(r,t){}applyCacheUpdate(){return null}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/features/sources/strategies/ATileLoadStrategy.js":
/*!****************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/features/sources/strategies/ATileLoadStrategy.js ***!
  \****************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ATileLoadStrategy: () => (/* binding */ s)
/* harmony export */ });
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _FeatureCache_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../FeatureCache.js */ "./node_modules/@arcgis/core/views/2d/layers/features/sources/FeatureCache.js");
/* harmony import */ var _AFetchLoadStrategy_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./AFetchLoadStrategy.js */ "./node_modules/@arcgis/core/views/2d/layers/features/sources/strategies/AFetchLoadStrategy.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
class s extends _AFetchLoadStrategy_js__WEBPACK_IMPORTED_MODULE_2__.AFetchLoadStrategy{constructor(t,s,h,r,d){super(t,s,h,r,d),this._chunksById=new Map,this._featureCache=new _FeatureCache_js__WEBPACK_IMPORTED_MODULE_1__.FeatureCache(h,s,this._options,this._fetch.bind(this))}prepareCacheUpdate(e,t){return this._featureCache.prepareCacheUpdate(e,t)}applyCacheUpdate(){return this._featureCache.applyCacheUpdate()}unload(e){this._removeChunks(e.tile)}_addChunk(e){const t=e.tile.id;this._chunksById.has(t)||this._chunksById.set(t,[]);const s=e.size();(s||e.first||e.end)&&((0,_core_has_js__WEBPACK_IMPORTED_MODULE_0__["default"])("esri-2d-update-debug")&&console.debug(`Chunk[${e.chunkId}] ATileLoadStrategy.addChunk [count=${s}]`),this._chunksById.get(t).push(e),this._store.insert(e))}_removeChunks(e){const t=this._chunksById.get(e.key.id)??[];for(const s of t)(0,_core_has_js__WEBPACK_IMPORTED_MODULE_0__["default"])("esri-2d-update-debug")&&console.debug(`Tile[${e.key.id}] Chunk[${s.chunkId}] ATileLoadStrategy.removeChunk`),this._store.remove(s);this._chunksById.delete(e.key.id)}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/features/sources/strategies/DrillDownTileLoadStrategy.js":
/*!************************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/features/sources/strategies/DrillDownTileLoadStrategy.js ***!
  \************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   DrillDownTileLoadStrategy: () => (/* binding */ a)
/* harmony export */ });
/* harmony import */ var _core_handleUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../core/handleUtils.js */ "./node_modules/@arcgis/core/core/handleUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _ATileLoadStrategy_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./ATileLoadStrategy.js */ "./node_modules/@arcgis/core/views/2d/layers/features/sources/strategies/ATileLoadStrategy.js");
/* harmony import */ var _chunks_DrillDownTileSourceChunk_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./chunks/DrillDownTileSourceChunk.js */ "./node_modules/@arcgis/core/views/2d/layers/features/sources/strategies/chunks/DrillDownTileSourceChunk.js");
/* harmony import */ var _support_FeatureSetReaderJSON_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../support/FeatureSetReaderJSON.js */ "./node_modules/@arcgis/core/views/2d/layers/features/support/FeatureSetReaderJSON.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
class l{constructor(e,o){this.subscription=e,this._tileIdToResult=new Map,this._controller=new AbortController,this._handles=(0,_core_handleUtils_js__WEBPACK_IMPORTED_MODULE_0__.handlesGroup)([(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_2__.onAbort)(e.signal,(()=>this._controller.abort())),(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_2__.onAbort)(o,(()=>this._controller.abort()))])}destroy(){this._controller.abort(),this._handles.remove()}get(t){return this._tileIdToResult.get(t)}set(t,e){this._tileIdToResult.set(t,e)}get options(){return{signal:this._controller.signal}}}class a extends _ATileLoadStrategy_js__WEBPACK_IMPORTED_MODULE_3__.ATileLoadStrategy{constructor(){super(...arguments),this._loadStates=new Map}destroy(){super.destroy();for(const t of this._loadStates.values())t.destroy();this._loadStates.clear()}get about(){return{supportsDisplayFilter:!0,willQueryAllFeatures:!1,willQueryFullResolutionGeometry:!1}}async load(t){this._loadStates.has(t.key.id)||this._loadStates.set(t.key.id,new l(t,this._options));const s=this._loadStates.get(t.key.id);let o;try{for await(const o of this._fetchChunkInfos(s,t.tile,0)){const{queryJSON:t,reader:i,sourceTile:l,sourceTileDepth:a,tile:n}=o,h=new _chunks_DrillDownTileSourceChunk_js__WEBPACK_IMPORTED_MODULE_4__.DrillDownTileSourceChunk(i,t,n,l,a,!1);(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_2__.throwIfAborted)(s.options),this._addChunk(h)}}catch(n){o=n}const a=new _chunks_DrillDownTileSourceChunk_js__WEBPACK_IMPORTED_MODULE_4__.DrillDownTileSourceChunk(_support_FeatureSetReaderJSON_js__WEBPACK_IMPORTED_MODULE_5__.FeatureSetReaderJSON.empty(this._metadata),null,t.tile,null,-1,!0);if(this._addChunk(a),o)throw o}unload(t){super.unload(t),this._loadStates.get(t.key.id)?.destroy(),this._loadStates.delete(t.key.id)}async*_fetchChunkInfos(t,e,s){let o=t.get(e.id);const r=!!o;if(o||(o=await this._fetchChunkInfo(t,e,s),t.set(e.id,o)),o.reader.exceededTransferLimit&&s<(0,_core_has_js__WEBPACK_IMPORTED_MODULE_1__["default"])("featurelayer-query-max-depth"))for(const i of e.createChildTiles())yield*this._fetchChunkInfos(t,i,s+1);else r||(yield o)}async _fetchChunkInfo(t,e,s){const o=t.subscription.tile.getQuantizationParameters(),r=this._queryInfo.createTileQuery(e,{returnExceededLimitFeatures:!1,quantizationParameters:o});return{reader:await this._fetch(r,t.options,{chunkId:e.id}),queryJSON:r.inner.toJSON(),tile:t.subscription.tile,sourceTile:e,sourceTileDepth:s}}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/features/sources/strategies/PagedTileLoadStrategy.js":
/*!********************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/features/sources/strategies/PagedTileLoadStrategy.js ***!
  \********************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   PagedTileLoadStrategy: () => (/* binding */ c)
/* harmony export */ });
/* harmony import */ var _core_handleUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../core/handleUtils.js */ "./node_modules/@arcgis/core/core/handleUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_MapUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../../core/MapUtils.js */ "./node_modules/@arcgis/core/core/MapUtils.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _ATileLoadStrategy_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./ATileLoadStrategy.js */ "./node_modules/@arcgis/core/views/2d/layers/features/sources/strategies/ATileLoadStrategy.js");
/* harmony import */ var _chunks_PagedTileSourceChunk_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./chunks/PagedTileSourceChunk.js */ "./node_modules/@arcgis/core/views/2d/layers/features/sources/strategies/chunks/PagedTileSourceChunk.js");
/* harmony import */ var _support_FeatureSetReaderJSON_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../support/FeatureSetReaderJSON.js */ "./node_modules/@arcgis/core/views/2d/layers/features/support/FeatureSetReaderJSON.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
class l{constructor(e,o){this.subscription=e,this._pages=new Set,this._controller=new AbortController,this._done=!1,this._handles=(0,_core_handleUtils_js__WEBPACK_IMPORTED_MODULE_0__.handlesGroup)([(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__.onAbort)(e.signal,(()=>this._controller.abort())),(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__.onAbort)(o,(()=>this._controller.abort()))])}destroy(){this._controller.abort(),this._handles.remove()}get pageStart(){let t=-1;for(const e of this._pages.values())t=Math.max(t,e);return t+1}get done(){return this._done}get options(){return{signal:this._controller.signal}}add(t,e){this._pages.add(t),this._done=this._done||e}}class c extends _ATileLoadStrategy_js__WEBPACK_IMPORTED_MODULE_4__.ATileLoadStrategy{constructor(){super(...arguments),this._loadStates=new Map}destroy(){super.destroy();for(const t of this._loadStates.values())t.destroy();this._loadStates.clear()}get about(){return{supportsDisplayFilter:!0,willQueryAllFeatures:!1,willQueryFullResolutionGeometry:!1}}async load(t){const o=(0,_core_MapUtils_js__WEBPACK_IMPORTED_MODULE_2__.getOrCreateMapValue)(this._loadStates,t.key.id,(()=>new l(t,this._options)));for await(const e of this._fetchPages(o))this._addChunk(e)}unload(t){super.unload(t),this._loadStates.get(t.key.id)?.destroy(),this._loadStates.delete(t.key.id)}async*_fetchPages(t){let e;try{for await(const e of this._concurrentPageStream(t))(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__.throwIfAborted)(t.options),0!==e.size()&&(yield e)}catch(r){e=r}if(e&&(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__.isAbortError)(e)||(yield new _chunks_PagedTileSourceChunk_js__WEBPACK_IMPORTED_MODULE_5__.PagedTileSourceChunk(_support_FeatureSetReaderJSON_js__WEBPACK_IMPORTED_MODULE_6__.FeatureSetReaderJSON.empty(this._metadata),null,t.subscription.tile,-1,!0)),e)throw e}async*_concurrentPageStream(t){const e=(0,_core_has_js__WEBPACK_IMPORTED_MODULE_1__["default"])("featurelayer-query-tile-concurrency"),o=this._pageStreamAll(t),s=[];let r=!1,a=1;for(;!r;){const t=[];for(;!r&&s.length<a;){const e=o.next();if(!e.value){r=!0;break}const a=e.value;a.then((t=>{t.reader.exceededTransferLimit||(r=!0)})).catch((t=>{r=!0})).finally((()=>{s.splice(s.indexOf(a),1)})),s.push(a),t.push(a)}for(const e of t)yield e;s.length&&await Promise.race(s),a<e&&(a+=1)}}*_pageStreamAll(t){const e=Math.ceil((0,_core_has_js__WEBPACK_IMPORTED_MODULE_1__["default"])("featurelayer-query-tile-max-features")/this._queryInfo.pageSize);for(let o=0;o<e;o++)yield this._downloadPage(o,t)}async _downloadPage(t,e){(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__.throwIfAborted)(e.options);const s=e.subscription.tile,r=this._queryInfo.createPagedTileQuery(s,t),a=await this._fetch(r,e.options,{chunkId:`${s.id}-${t}`});return (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__.throwIfAborted)(e.options),new _chunks_PagedTileSourceChunk_js__WEBPACK_IMPORTED_MODULE_5__.PagedTileSourceChunk(a,r.inner.toJSON(),s,t,!1)}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/features/sources/strategies/ParquetLoadStrategy.js":
/*!******************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/features/sources/strategies/ParquetLoadStrategy.js ***!
  \******************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ParquetLoadStrategy: () => (/* binding */ d)
/* harmony export */ });
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _core_SetUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../../core/SetUtils.js */ "./node_modules/@arcgis/core/core/SetUtils.js");
/* harmony import */ var _layers_support_FieldsIndex_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../../layers/support/FieldsIndex.js */ "./node_modules/@arcgis/core/layers/support/FieldsIndex.js");
/* harmony import */ var _libs_parquet_parquet_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../../libs/parquet/parquet.js */ "./node_modules/@arcgis/core/libs/parquet/parquet.js");
/* harmony import */ var _ALoadStrategy_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./ALoadStrategy.js */ "./node_modules/@arcgis/core/views/2d/layers/features/sources/strategies/ALoadStrategy.js");
/* harmony import */ var _chunks_FeatureSnapshotSourceChunk_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./chunks/FeatureSnapshotSourceChunk.js */ "./node_modules/@arcgis/core/views/2d/layers/features/sources/strategies/chunks/FeatureSnapshotSourceChunk.js");
/* harmony import */ var _support_FeatureSetReaderJSON_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../support/FeatureSetReaderJSON.js */ "./node_modules/@arcgis/core/views/2d/layers/features/support/FeatureSetReaderJSON.js");
/* harmony import */ var _support_FeatureSetReaderParquet_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../support/FeatureSetReaderParquet.js */ "./node_modules/@arcgis/core/views/2d/layers/features/support/FeatureSetReaderParquet.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
class d extends _ALoadStrategy_js__WEBPACK_IMPORTED_MODULE_4__.ALoadStrategy{constructor(e,t,i,s){super(s),this._service=e,this._metadata=t,this._schema=i,this._chunkId=0,this._files=[],this._availableFields=new Set(i.mutable.availableFields);const{geometryInfo:a}=this._service;if("location"===a.encoding.type)this._availableFields.add(a.encoding.latitudeFieldName),this._availableFields.add(a.encoding.longitudeFieldName);else if(null!=a.encoding.multiscale&&a.encoding.multiscale.levels.length>=1){const e=a.encoding.multiscale.levels[0];this._availableFields.add(e.column)}else this._availableFields.add(a.encoding.primaryFieldName)}destroy(){for(const e of this._files)e.destroy()}get about(){return{supportsDisplayFilter:!1,willQueryAllFeatures:!0,willQueryFullResolutionGeometry:!0}}async updateFields(e){await this._promise;const s=new Set(e),a=(0,_core_SetUtils_js__WEBPACK_IMPORTED_MODULE_1__.difference)(s,this._availableFields);this._availableFields=(0,_core_SetUtils_js__WEBPACK_IMPORTED_MODULE_1__.union)(a,this._availableFields),a.size&&await Promise.all(this._files.map((e=>{const t=Array.from(a).map((t=>e.metadata.getFieldIndex(t)));return e.inner.updateChunks(new Uint16Array(t))})))}async load(e){return null==this._promise&&(this._promise=this._download().then((()=>{this._loadHigherResGeometry()}))),this._promise}unload(e){}async addParquetFile(e){this._insert(e)}async _loadHigherResGeometry(){const{geometryInfo:e}=this._service;if("wkb"===e.encoding.type){if(!(null!=e.encoding.multiscale&&e.encoding.multiscale.levels.length>=1))return;await this.updateFields([e.encoding.primaryFieldName])}const t=Array.from(this._store.chunks());this._store.clear();for(const i of t)this._store.insert(i);this._store.refresh()}async _insert(t){const i=await _libs_parquet_parquet_js__WEBPACK_IMPORTED_MODULE_3__.ParquetFile.create(t,{geometryInfo:this._service.geometryInfo,outSpatialReference:this._service.outSpatialReference,getCustomParameters:()=>this._schema.mutable.dataFilter.customParameters}),{geometryInfo:r}=this._service;(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_0__.throwIfAborted)(this._options);const{fields:o,timeZoneByFieldName:d}=this._service.metadata.fieldsIndex,m=o.map((e=>({...e,index:i.metadata.getFieldIndex(e.name)}))),c=_layers_support_FieldsIndex_js__WEBPACK_IMPORTED_MODULE_2__["default"].fromJSON({fields:m,timeZoneByFieldName:d}),h=new Uint16Array(Array.from(this._availableFields.values()).map((e=>c.get(e)?.index)).filter((e=>null!=e)));await i.inner.readChunksWithCallback(h,(e=>{const t=this._chunkId++,i=new _support_FeatureSetReaderParquet_js__WEBPACK_IMPORTED_MODULE_7__.FeatureSetReaderParquet(this._metadata,c,r,e,t),s=new _chunks_FeatureSnapshotSourceChunk_js__WEBPACK_IMPORTED_MODULE_5__.FeatureSnapshotSourceChunk(i,null,t,!1);this._store.insert(s)})),this._files.push(i)}async _download(){try{await Promise.all(this._service.source.urls.map((e=>this._insert(e))));const e=new _chunks_FeatureSnapshotSourceChunk_js__WEBPACK_IMPORTED_MODULE_5__.FeatureSnapshotSourceChunk(_support_FeatureSetReaderJSON_js__WEBPACK_IMPORTED_MODULE_6__.FeatureSetReaderJSON.empty(this._metadata),null,-1,!0);this._store.insert(e)}catch(e){throw console.error(e),e}}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/features/sources/strategies/SnapshotLoadStrategy.js":
/*!*******************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/features/sources/strategies/SnapshotLoadStrategy.js ***!
  \*******************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   SnapshotLoadStrategy: () => (/* binding */ i)
/* harmony export */ });
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _rest_support_QuantizationParameters_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../../rest/support/QuantizationParameters.js */ "./node_modules/@arcgis/core/rest/support/QuantizationParameters.js");
/* harmony import */ var _AFetchLoadStrategy_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./AFetchLoadStrategy.js */ "./node_modules/@arcgis/core/views/2d/layers/features/sources/strategies/AFetchLoadStrategy.js");
/* harmony import */ var _chunks_FeatureSnapshotSourceChunk_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./chunks/FeatureSnapshotSourceChunk.js */ "./node_modules/@arcgis/core/views/2d/layers/features/sources/strategies/chunks/FeatureSnapshotSourceChunk.js");
/* harmony import */ var _support_FeatureSetReaderJSON_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../support/FeatureSetReaderJSON.js */ "./node_modules/@arcgis/core/views/2d/layers/features/support/FeatureSetReaderJSON.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
class i extends _AFetchLoadStrategy_js__WEBPACK_IMPORTED_MODULE_4__.AFetchLoadStrategy{constructor(e,t,r,o,s,a){super(e,t,r,s,a),this._snapshotInfo=o}get about(){return{supportsDisplayFilter:!1,willQueryAllFeatures:!0,willQueryFullResolutionGeometry:!0}}load(e){return null==this._promise&&(this._promise=this._download()),this._promise}unload(e){}async _download(){const e=this._snapshotInfo.initialTolerance,t=e?new _rest_support_QuantizationParameters_js__WEBPACK_IMPORTED_MODULE_3__["default"]({mode:"view",originPosition:"upper-left",tolerance:e}):null;await this._downloadStreaming(t),null!=t&&await this._downloadRefresh()}async _downloadStreaming(t){try{for await(const e of this._fetchPages(t))this._store.insert(e)}catch(r){throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("featurelayer-query","Encountered error when downloading data",{error:r})}}async _downloadRefresh(){try{const e=[];for await(const t of this._fetchPages(null))e.push(t);this._store.clear();for(const t of e)this._store.insert(t);this._store.refresh()}catch(t){throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("featurelayer-query","Encountered error when downloading data",{error:t})}}async*_fetchPages(e){let r;try{for await(const t of this._concurrentPageStream(e))0!==t.size()&&(yield t)}catch(o){r=o}if(r&&(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_2__.isAbortError)(r)||(yield new _chunks_FeatureSnapshotSourceChunk_js__WEBPACK_IMPORTED_MODULE_5__.FeatureSnapshotSourceChunk(_support_FeatureSetReaderJSON_js__WEBPACK_IMPORTED_MODULE_6__.FeatureSetReaderJSON.empty(this._metadata),null,-1,!0)),r)throw r}async*_concurrentPageStream(e){const t=(0,_core_has_js__WEBPACK_IMPORTED_MODULE_1__["default"])("featurelayer-snapshot-concurrency"),r=this._pageStreamAll(e),o=[];let s=!1,a=1;for(;!s;){const e=[];for(;!s&&o.length<a;){const t=r.next();if(!t.value){s=!0;break}const a=t.value;a.then((e=>{e.reader.exceededTransferLimit||(s=!0)})).catch((e=>{s=!0})).finally((()=>{o.splice(o.indexOf(a),1)})),o.push(a),e.push(a)}for(const t of e)yield t;o.length&&await Promise.race(o),a<t&&(a+=1)}}*_pageStreamAll(e){const t=Math.ceil(this._snapshotInfo.maxFeatureCount/this._queryInfo.pageSize);for(let r=0;r<t;r++)yield this._downloadPage(r,e)}async _downloadPage(e,t){(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_2__.throwIfAborted)(this._options);const o=this._queryInfo.createPagedQuery(e,t),s=await this._fetch(o,this._options,{chunkId:e.toString()}),n=new _chunks_FeatureSnapshotSourceChunk_js__WEBPACK_IMPORTED_MODULE_5__.FeatureSnapshotSourceChunk(s,o.inner.toJSON(),e,!1);return (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_2__.throwIfAborted)(this._options),n}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/features/sources/strategies/StreamLoadStrategy.js":
/*!*****************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/features/sources/strategies/StreamLoadStrategy.js ***!
  \*****************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   StreamLoadStrategy: () => (/* binding */ m)
/* harmony export */ });
/* harmony import */ var _core_Evented_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../core/Evented.js */ "./node_modules/@arcgis/core/core/Evented.js");
/* harmony import */ var _core_handleUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../../core/handleUtils.js */ "./node_modules/@arcgis/core/core/handleUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../../core/maybe.js */ "./node_modules/@arcgis/core/core/maybe.js");
/* harmony import */ var _layers_graphics_data_StreamFeatureManager_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../../../layers/graphics/data/StreamFeatureManager.js */ "./node_modules/@arcgis/core/layers/graphics/data/StreamFeatureManager.js");
/* harmony import */ var _layers_graphics_sources_connections_createConnection_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../../../layers/graphics/sources/connections/createConnection.js */ "./node_modules/@arcgis/core/layers/graphics/sources/connections/createConnection.js");
/* harmony import */ var _layers_support_streamLayerUtils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../../layers/support/streamLayerUtils.js */ "./node_modules/@arcgis/core/layers/support/streamLayerUtils.js");
/* harmony import */ var _StreamConnectionState_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../StreamConnectionState.js */ "./node_modules/@arcgis/core/views/2d/layers/features/sources/StreamConnectionState.js");
/* harmony import */ var _StreamFeatureStore_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../StreamFeatureStore.js */ "./node_modules/@arcgis/core/views/2d/layers/features/sources/StreamFeatureStore.js");
/* harmony import */ var _ALoadStrategy_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./ALoadStrategy.js */ "./node_modules/@arcgis/core/views/2d/layers/features/sources/strategies/ALoadStrategy.js");
/* harmony import */ var _chunks_StreamSourceChunk_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./chunks/StreamSourceChunk.js */ "./node_modules/@arcgis/core/views/2d/layers/features/sources/strategies/chunks/StreamSourceChunk.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
class m extends _ALoadStrategy_js__WEBPACK_IMPORTED_MODULE_9__.ALoadStrategy{constructor(t,s,o,c,h){super(o),this._service=t,this._dataFilter=s,this._streamOptions=c,this._metadata=h,this._connectionState=new _StreamConnectionState_js__WEBPACK_IMPORTED_MODULE_7__.StreamConnectionState,this._forceRefresh=!1,this.events=new _core_Evented_js__WEBPACK_IMPORTED_MODULE_0__["default"];const{timeInfo:m}=this._metadata,{purgeOptions:d}=s;this._stagingStore=new _StreamFeatureStore_js__WEBPACK_IMPORTED_MODULE_8__.StreamFeatureStore(this._metadata.weakCloneWithAdditionalFields([{name:_layers_support_streamLayerUtils_js__WEBPACK_IMPORTED_MODULE_6__.internalTimeReceivedField,alias:"timeReceived",type:"esriFieldTypeDate"}]),(e=>this.events.emit("features-updated",e))),this._manager=new _layers_graphics_data_StreamFeatureManager_js__WEBPACK_IMPORTED_MODULE_4__.StreamFeatureManager(this._stagingStore,h.featureIdInfo,m,d),this.connect()}destroy(){super.destroy(),this.disconnect()}get about(){return{supportsDisplayFilter:!1,willQueryAllFeatures:!1,willQueryFullResolutionGeometry:!1}}get connectionStatus(){return this._connectionState.connectionStatus}get errorString(){return this._connectionState?.errorString}async refresh(){const e=null!=this._chunk;return this._manager.checkForUpdates()||!e||this._forceRefresh?(this._chunk&&this._store.remove(this._chunk),this._forceRefresh=!1,this._chunk=new _chunks_StreamSourceChunk_js__WEBPACK_IMPORTED_MODULE_10__.StreamSourceChunk(this._stagingStore.reader),this._store.insert(this._chunk),this.events.emit("tick"),!0):(this.events.emit("tick"),!1)}async updateFields(e){throw new Error("Updating available fields not supported for StreamLayer")}async load(e){}unload(e){}disconnect(){this._connection=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_3__.destroyMaybe)(this._connection),this._connectionState.connection=null,this._handlesGroup?.remove()}connect(){if(null!=this._connection)return;const{geometryType:e,spatialReference:s}=this._metadata,{maxReconnectionAttempts:n,maxReconnectionInterval:i,geometryDefinition:r,definitionExpression:a,customParameters:c}=this._dataFilter;this._connection=(0,_layers_graphics_sources_connections_createConnection_js__WEBPACK_IMPORTED_MODULE_5__.createConnection)(this._service.source,s,this._streamOptions.outSR,e,a,r,n,i,c),this._handlesGroup=(0,_core_handleUtils_js__WEBPACK_IMPORTED_MODULE_1__.handlesGroup)([this._connection.on("data-received",(e=>this._onFeature(e))),this._connection.on("message-received",(e=>this._onWebSocketMessage(e)))]),this._connectionState.connection=this._connection}clear(){this._manager.checkForUpdates(),this._stagingStore.clear(),this._forceRefresh=!0}updateCustomParameters(e){this._connection?.updateCustomParameters(e)}sendMessageToSocket(e){this._connection?.sendMessageToSocket(e)}sendMessageToClient(e){this._connection?.sendMessageToClient(e)}_onWebSocketMessage(e){if("type"in e)switch(e.type){case"delete":if(e.objectIds)for(const t of e.objectIds)this._manager.removeById(t);if(e.trackIds)for(const t of e.trackIds)this._manager.removeByTrackId(t);break;case"clear":this.clear()}this.events.emit("message-received",e)}_onFeature(e){try{this._manager.add(e),this.events.emit("data-received",e)}catch(t){}}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/features/sources/strategies/chunks/ASourceChunk.js":
/*!******************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/features/sources/strategies/chunks/ASourceChunk.js ***!
  \******************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ASourceChunk: () => (/* binding */ i)
/* harmony export */ });
/* harmony import */ var _FeatureSpatialIndex_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../FeatureSpatialIndex.js */ "./node_modules/@arcgis/core/views/2d/layers/features/FeatureSpatialIndex.js");
/* harmony import */ var _aggregation_GeohashSpatialIndex_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../aggregation/GeohashSpatialIndex.js */ "./node_modules/@arcgis/core/views/2d/layers/features/aggregation/GeohashSpatialIndex.js");
/* harmony import */ var _aggregation_GridSpatialIndex_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../aggregation/GridSpatialIndex.js */ "./node_modules/@arcgis/core/views/2d/layers/features/aggregation/GridSpatialIndex.js");
/* harmony import */ var _support_FeatureSetReaderIndirect_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../support/FeatureSetReaderIndirect.js */ "./node_modules/@arcgis/core/views/2d/layers/features/support/FeatureSetReaderIndirect.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
class i{size(){return this.reader.getSize()}get fields(){return this.reader.fields}invalidate(){this._aggregateIndex=null,this._aggregateIndexHash=null,this._spatialIndex=null}registerOverrides(e){this.reader.registerOverrides(e),this.invalidate()}queryFeaturesInBounds(e){const t=this._getSpatialIndex().search(e);return _support_FeatureSetReaderIndirect_js__WEBPACK_IMPORTED_MODULE_3__.FeatureSetReaderIndirect.from(this.reader,t)}getAggregateIndex(e){const a=JSON.stringify(e);if(a!==this._aggregateIndexHash){switch(this._aggregateIndexHash=a,e.type){case"grid":this._aggregateIndex=new _aggregation_GridSpatialIndex_js__WEBPACK_IMPORTED_MODULE_2__.GridSpatialIndex(e);break;case"geohash":this._aggregateIndex=new _aggregation_GeohashSpatialIndex_js__WEBPACK_IMPORTED_MODULE_1__.GeohashSpatialIndex(e)}this._aggregateIndex.insert(this.reader,this.isTiled)}return this._aggregateIndex}_getSpatialIndex(){return this._spatialIndex||(this._spatialIndex=_FeatureSpatialIndex_js__WEBPACK_IMPORTED_MODULE_0__.FeatureSpatialIndex.fromReader(this.reader)),this._spatialIndex}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/features/sources/strategies/chunks/DrillDownTileSourceChunk.js":
/*!******************************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/features/sources/strategies/chunks/DrillDownTileSourceChunk.js ***!
  \******************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   DrillDownTileSourceChunk: () => (/* binding */ i)
/* harmony export */ });
/* harmony import */ var _ASourceChunk_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ASourceChunk.js */ "./node_modules/@arcgis/core/views/2d/layers/features/sources/strategies/chunks/ASourceChunk.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
class i extends _ASourceChunk_js__WEBPACK_IMPORTED_MODULE_0__.ASourceChunk{constructor(e,i,t,r,s,h){super(),this._reader=e,this._queryJSON=i,this._tile=t,this._sourceTile=r,this._sourceTileDepth=s,this._end=h,this.chunkId=`${this._tile.key.id}.${this._sourceTile?.key.id}${this._end?"e":""}`,this.normalizedChunkId=`${this._tile.key.normalizedId}.${this._sourceTile?.key.normalizedId}${this._end?"e":""}`}get queryInfo(){return{type:"drill-down-tile",chunkId:this.chunkId,tileId:this._tile.key.id,queryJSON:this._queryJSON,sourceTileDepth:this._sourceTileDepth,sourceTileId:this._sourceTile?.key.id,size:this.size(),end:this.end}}get first(){return 0===this._sourceTileDepth}get reader(){return this._reader}get end(){return this._end}get tile(){return this._tile}get isTiled(){return!0}getTileReader(e){return this._tile.key.id===e.key.id?this.reader:null}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/features/sources/strategies/chunks/FeatureSnapshotSourceChunk.js":
/*!********************************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/features/sources/strategies/chunks/FeatureSnapshotSourceChunk.js ***!
  \********************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   FeatureSnapshotSourceChunk: () => (/* binding */ t)
/* harmony export */ });
/* harmony import */ var _ASourceChunk_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ASourceChunk.js */ "./node_modules/@arcgis/core/views/2d/layers/features/sources/strategies/chunks/ASourceChunk.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
class t extends _ASourceChunk_js__WEBPACK_IMPORTED_MODULE_0__.ASourceChunk{constructor(e,t,r,s){super(),this._reader=e,this._queryJSON=t,this._page=r,this._end=s,this.chunkId=`${this._page}${this.end?"e":""}`,this.normalizedChunkId=this.chunkId}get reader(){return this._reader}get first(){return 0===this._page}get end(){return this._end}get queryInfo(){return{type:"snapshot",chunkId:this.chunkId,queryJSON:this._queryJSON,page:this._page,size:this.size(),end:this.end}}get isTiled(){return!1}getTileReader(e){const t=this.queryFeaturesInBounds(e.bounds);return t.setTransformForDisplay(e.transform),t}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/features/sources/strategies/chunks/Overrides.js":
/*!***************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/features/sources/strategies/chunks/Overrides.js ***!
  \***************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   OverrideChunk: () => (/* binding */ o),
/* harmony export */   OverrideState: () => (/* binding */ a),
/* harmony export */   OverrideUpdate: () => (/* binding */ i)
/* harmony export */ });
/* harmony import */ var _ASourceChunk_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ASourceChunk.js */ "./node_modules/@arcgis/core/views/2d/layers/features/sources/strategies/chunks/ASourceChunk.js");
/* harmony import */ var _support_FeatureSetReaderJSON_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../support/FeatureSetReaderJSON.js */ "./node_modules/@arcgis/core/views/2d/layers/features/support/FeatureSetReaderJSON.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
const s=1e4,r=1e3;class i{constructor(){this.modified=[],this.removed=[]}modify(e){this.modified.push(e)}remove(e){this.removed.push(e)}get isEmpty(){return 0===this.modified.length&&0===this.removed.length}}class o extends _ASourceChunk_js__WEBPACK_IMPORTED_MODULE_0__.ASourceChunk{constructor(e){super(),this._reader=e,this.chunkId="override",this.normalizedChunkId="override"}static fromFeatures(e,s){const r=_support_FeatureSetReaderJSON_js__WEBPACK_IMPORTED_MODULE_1__.FeatureSetReaderJSON.fromOptimizedFeatures(e,s);return new o(r)}get reader(){return this._reader}get queryInfo(){return{}}get first(){return!1}get end(){return!1}get isTiled(){return!1}getTileReader(e){if(!this._reader.getSize())return null;const t=this.queryFeaturesInBounds(e.bounds);return t.setTransformForDisplay(e.transform),t}}class n{constructor(e,t){this.inner=e,this.isWeak=t,this.lastWeak=null}get isStrong(){return!this.isWeak}}class a{constructor(){this._overrides=new Map,this._update=new i,this._lastCleanup=0}hasOverride(e){return this._overrides.has(e)}onChunkInsert(e){if(this._overrides.size){const t=e.reader.getCursor();for(;t.next();){const e=t.getObjectId(),s=this._overrides.get(e);if(s?.lastWeak&&(s.lastWeak=null),s?.isWeak){const e=t.readOptimizedFeatureWorldSpace();s.inner=e,this._update.modify(e),this.invalidate()}}}e.registerOverrides(this)}apply(e,t){const{updateWeak:s,removeWeak:r,update:i,remove:o,release:a}=e.commands;this.invalidate();for(const d of s){const e=new n(d,!0),t=this._overrides.get(d.objectId);t?.isStrong?t.lastWeak=e:(this._overrides.set(d.objectId,e),this._update.modify(d))}for(const d of i){const e=new n(d,!1),t=this._overrides.get(d.objectId);e.lastWeak=t?.isWeak?t:t?.lastWeak??null,this._overrides.set(d.objectId,e),this._update.modify(d)}for(const d of r){const e=new n(null,!0),t=this._overrides.get(d);t?.isStrong?t.lastWeak=e:(this._overrides.set(d,e),this._update.remove(d))}for(const d of o){const e=new n(null,!1),t=this._overrides.get(d);e.lastWeak=t?.isWeak?t:t?.lastWeak??null,this._overrides.set(d,e),this._update.remove(d)}if(a.length){const e=new Set;for(const t of a){const s=this._overrides.get(t);s?.lastWeak?(this._overrides.set(t,s.lastWeak),null==s.lastWeak.inner?this._update.remove(t):this._update.modify(s.lastWeak.inner)):s&&!s.isWeak&&(this._overrides.delete(t),e.add(t))}t.forEachUnsafe((t=>{const s=t.getObjectId();e.has(s)&&(this._update.modify(t.readOptimizedFeatureWorldSpace()),e.delete(s))}));for(const t of e.values())this._update.remove(t)}}clearWeakOverrides(){for(const[e,t]of this._overrides.entries())t.isWeak&&this._overrides.delete(e);this.invalidate()}cleanup(e){if(this._overrides.size<s)return;const t=performance.now();if(t-this._lastCleanup<r)return;this._lastCleanup=t;const i=this._getWeakDeletions();if(!(i.size<s)){for(const t of e){const e=t.reader.withoutOverrides().getCursor();for(;e.next();){const t=e.getObjectId();i.delete(t)}}for(const e of i)this._overrides.delete(e);i.size&&this.invalidate()}}takeOverrideUpdate(){const e=this._update;return e.isEmpty?null:(this._update=new i,e)}asChunk(e){if(!this._chunk){const t=[];for(const e of this._overrides.values())null!=e.inner&&t.push(e.inner);this._chunk=o.fromFeatures(t,e)}return this._chunk}invalidate(){this._chunk=null}putWeakObjectIdsFromGlobalIds(e,t,s){for(const[r,i]of this._overrides.entries())if(i.isWeak&&null!=i.inner){const o=i.inner.attributes[s];o&&t.has(o)&&!e.has(o)&&e.set(o,r)}else if(null!=i.lastWeak&&null!=i.lastWeak.inner){const o=i.lastWeak.inner.attributes[s];o&&t.has(o)&&!e.has(o)&&e.set(o,r)}}_getWeakDeletions(){const e=new Set;for(const[t,s]of this._overrides.entries())s.isWeak&&null==s.inner&&e.add(t);return e}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/features/sources/strategies/chunks/PagedTileSourceChunk.js":
/*!**************************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/features/sources/strategies/chunks/PagedTileSourceChunk.js ***!
  \**************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   PagedTileSourceChunk: () => (/* binding */ t)
/* harmony export */ });
/* harmony import */ var _ASourceChunk_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ASourceChunk.js */ "./node_modules/@arcgis/core/views/2d/layers/features/sources/strategies/chunks/ASourceChunk.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
class t extends _ASourceChunk_js__WEBPACK_IMPORTED_MODULE_0__.ASourceChunk{constructor(e,t,i,r,s){super(),this._reader=e,this._queryJSON=t,this._tile=i,this._page=r,this._end=s,this.chunkId=`${this._tile.key.id}.${this._page}${this.end?"e":""}`,this.normalizedChunkId=`${this._tile.key.normalizedId}.${this._page}${this.end?"e":""}`}get queryInfo(){return{type:"paged-tile",chunkId:this.chunkId,tileId:this._tile.key.id,queryJSON:this._queryJSON,page:this._page,size:this.size(),end:this.end}}get reader(){return this._reader}get first(){return 0===this._page}get end(){return this._end}get page(){return this._page}get tile(){return this._tile}get isTiled(){return!0}getTileReader(e){return this._tile.key.id===e.key.id?this.reader:null}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/features/sources/strategies/chunks/SourceChunkStore.js":
/*!**********************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/features/sources/strategies/chunks/SourceChunkStore.js ***!
  \**********************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   FeatureSourceChunkStore: () => (/* binding */ o)
/* harmony export */ });
/* harmony import */ var _core_Evented_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../../core/Evented.js */ "./node_modules/@arcgis/core/core/Evented.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../../../geometry/support/aaBoundingBox.js */ "./node_modules/@arcgis/core/geometry/support/aaBoundingBox.js");
/* harmony import */ var _FeatureStoreQueryAdapter_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../FeatureStoreQueryAdapter.js */ "./node_modules/@arcgis/core/views/2d/layers/features/FeatureStoreQueryAdapter.js");
/* harmony import */ var _Overrides_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./Overrides.js */ "./node_modules/@arcgis/core/views/2d/layers/features/sources/strategies/chunks/Overrides.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
class o{constructor(s){this._metadata=s,this._chunks=new Map,this._chunksToRemove=[],this._overrides=new _Overrides_js__WEBPACK_IMPORTED_MODULE_4__.OverrideState,this.events=new _core_Evented_js__WEBPACK_IMPORTED_MODULE_0__["default"],this.featureAdapter=new _FeatureStoreQueryAdapter_js__WEBPACK_IMPORTED_MODULE_3__.FeatureStoreQueryAdapter}destroy(){this.clear()}clear(){for(const e of this._chunks.values())this._chunksToRemove.push(e);this._chunks.clear(),this._overrides.clearWeakOverrides()}*chunks(){this._overrides&&(yield this._overrides.asChunk(this._metadata)),yield*this._chunks.values()}insert(e){(0,_core_has_js__WEBPACK_IMPORTED_MODULE_1__["default"])("esri-2d-update-debug")&&console.debug(`Chunk[${e.chunkId}] SourceChunkStore.insert`),this._overrides.onChunkInsert(e),this._chunks.set(e.chunkId,e),this.events.emit("changed")}remove(e){(0,_core_has_js__WEBPACK_IMPORTED_MODULE_1__["default"])("esri-2d-update-debug")&&console.debug(`Chunk[${e.chunkId}] SourceChunkStore.remove`),this._chunks.delete(e.chunkId),this._chunksToRemove.push(e)}cleanup(){const e=this._chunksToRemove;return this._chunksToRemove=[],this._overrides.cleanup(this._chunks.values()),e}applyOverride(e){this._overrides.apply(e,this),this.events.emit("changed");for(const s of this._chunks.values())s.invalidate()}takeOverrideUpdate(){return this._overrides.takeOverrideUpdate()}refresh(){this.events.emit("refresh")}forEach(e){const s=new Set;for(const t of this.chunks()){const r=t.reader.getCursor();for(;r.next();){const t=r.getObjectId();s.has(t)||(e(r.copy()),s.add(t))}}}forEachUnsafe(e){const s=new Set;for(const t of this.chunks()){const r=t.reader.getCursor();for(;r.next();){const t=r.getObjectId();s.has(t)||(e(r),s.add(t))}}}mapObjectIdsFromGlobalIds(e,s){const t=new Map,r=new Set(e);return this._overrides.putWeakObjectIdsFromGlobalIds(t,r,s),this._forEachUnsafeIgnoreOverrides((e=>{const o=e.readAttribute(s);if(o&&r.has(o)&&!t.has(o)){const s=e.getObjectId();t.set(o,s)}})),t}forEachInBounds(e,s){const t=new Set;for(const r of this.chunks()){const o=r.queryFeaturesInBounds(e);for(;o.next();){const e=o.getObjectId();t.has(e)||(s(o.copy()),t.add(e))}}}forEachBounds(e,t){const r=(0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_2__.create)();for(const s of e){s.getBounds(r)&&t(r)}}_forEachUnsafeIgnoreOverrides(e){const s=new Set;for(const t of this._chunks.values()){const r=t.reader.withoutOverrides().getCursor();for(;r.next();){const t=r.getObjectId();s.has(t)||(e(r),s.add(t))}}}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/features/sources/strategies/chunks/StreamSourceChunk.js":
/*!***********************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/features/sources/strategies/chunks/StreamSourceChunk.js ***!
  \***********************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   StreamSourceChunk: () => (/* binding */ r)
/* harmony export */ });
/* harmony import */ var _ASourceChunk_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ASourceChunk.js */ "./node_modules/@arcgis/core/views/2d/layers/features/sources/strategies/chunks/ASourceChunk.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
class r extends _ASourceChunk_js__WEBPACK_IMPORTED_MODULE_0__.ASourceChunk{constructor(e){super(),this._reader=e,this.chunkId="stream-chunk",this.normalizedChunkId="stream-chunk"}get reader(){return this._reader}get first(){return!0}get end(){return!0}get queryInfo(){return{type:"stream",chunkId:this.chunkId,size:this.size(),end:this.end}}get isTiled(){return!1}getTileReader(e){const r=this.queryFeaturesInBounds(e.bounds);return r.setTransformForDisplay(e.transform),r}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/features/sources/strategies/support/queryAdapters.js":
/*!********************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/features/sources/strategies/support/queryAdapters.js ***!
  \********************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   SourceAdapter: () => (/* binding */ c),
/* harmony export */   createQueryAdapter: () => (/* binding */ m)
/* harmony export */ });
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_workers_Connection_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../../../core/workers/Connection.js */ "./node_modules/@arcgis/core/core/workers/Connection.js");
/* harmony import */ var _geometry_support_quantizationUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../../../geometry/support/quantizationUtils.js */ "./node_modules/@arcgis/core/geometry/support/quantizationUtils.js");
/* harmony import */ var _layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../../../layers/graphics/featureConversionUtils.js */ "./node_modules/@arcgis/core/layers/graphics/featureConversionUtils.js");
/* harmony import */ var _layers_ogc_ogcFeatureUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../../../../layers/ogc/ogcFeatureUtils.js */ "./node_modules/@arcgis/core/layers/ogc/ogcFeatureUtils.js");
/* harmony import */ var _rest_query_operations_query_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../../../../rest/query/operations/query.js */ "./node_modules/@arcgis/core/rest/query/operations/query.js");
/* harmony import */ var _support_FeatureSetReaderJSON_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../support/FeatureSetReaderJSON.js */ "./node_modules/@arcgis/core/views/2d/layers/features/support/FeatureSetReaderJSON.js");
/* harmony import */ var _support_FeatureSetReaderPBF_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../support/FeatureSetReaderPBF.js */ "./node_modules/@arcgis/core/views/2d/layers/features/support/FeatureSetReaderPBF.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
class c{constructor(t,e){this.service=t,this._metadata=e}destroy(){}}function m(t,e){switch(t.type){case"memory":return new f(t,e);case"ogc":return new y(t,e);case"feature-service":return t.queryMetadata.supportsFormatPBF&&(0,_core_has_js__WEBPACK_IMPORTED_MODULE_0__["default"])("featurelayer-pbf")?new l(t,e):new d(t,e)}}async function p(e){const r=new _core_workers_Connection_js__WEBPACK_IMPORTED_MODULE_1__["default"];return await r.open(e,{}),r}class f extends c{constructor(t,e){super(t,e),this._portsOpen=p(t.source).then((t=>this.client=t))}destroy(){this.client.close(),this.client=null}async executeQuery(t,e){await this._portsOpen;const r=await this.client.invoke("queryFeatures",t.toJSON(),e);return _support_FeatureSetReaderJSON_js__WEBPACK_IMPORTED_MODULE_6__.FeatureSetReaderJSON.fromFeatureSet(r,this._metadata)}}class l extends c{async executeQuery(t,e){const{data:r}=await (0,_rest_query_operations_query_js__WEBPACK_IMPORTED_MODULE_5__.executeQueryPBFBuffer)(this.service.source,t,e),a=!t.quantizationParameters;return _support_FeatureSetReaderPBF_js__WEBPACK_IMPORTED_MODULE_7__.FeatureSetReaderPBF.fromBuffer(r,this._metadata,a)}}class d extends c{async executeQuery(t,s){const{source:i,queryMetadata:u}=this.service;if(null!=t.quantizationParameters&&!u.supportsQuantization){const u=t.clone(),c=(0,_geometry_support_quantizationUtils_js__WEBPACK_IMPORTED_MODULE_2__.toQuantizationTransform)(u.quantizationParameters);u.quantizationParameters=null;const{data:m}=await (0,_rest_query_operations_query_js__WEBPACK_IMPORTED_MODULE_5__.executeQuery)(i,u,this._metadata.spatialReference,s),p=(0,_layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_3__.convertFromFeatureSet)(m,this._metadata.featureIdInfo);return (0,_layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_3__.quantizeOptimizedFeatureSet)(c,p),_support_FeatureSetReaderJSON_js__WEBPACK_IMPORTED_MODULE_6__.FeatureSetReaderJSON.fromOptimizedFeatureSet(p,this._metadata)}const{data:c}=await (0,_rest_query_operations_query_js__WEBPACK_IMPORTED_MODULE_5__.executeQuery)(i,t,this._metadata.spatialReference,s);return"esriGeometryPoint"===this._metadata.geometryType&&(c.features=c.features?.filter((t=>{if(null!=t.geometry){const e=t.geometry;return Number.isFinite(e.x)&&Number.isFinite(e.y)}return!0}))),_support_FeatureSetReaderJSON_js__WEBPACK_IMPORTED_MODULE_6__.FeatureSetReaderJSON.fromFeatureSet(c,this._metadata)}}class y extends c{async executeQuery(t,r){if(t.quantizationParameters&&!this.service.queryMetadata.supportsQuantization){const i=t.clone(),o=(0,_geometry_support_quantizationUtils_js__WEBPACK_IMPORTED_MODULE_2__.toQuantizationTransform)(i.quantizationParameters);i.quantizationParameters=null;const u=await (0,_layers_ogc_ogcFeatureUtils_js__WEBPACK_IMPORTED_MODULE_4__.queryOptimizedFeatureSet)(this.service.source,t,r);return (0,_layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_3__.quantizeOptimizedFeatureSet)(o,u),_support_FeatureSetReaderJSON_js__WEBPACK_IMPORTED_MODULE_6__.FeatureSetReaderJSON.fromOptimizedFeatureSet(u,this._metadata)}const i=await (0,_layers_ogc_ogcFeatureUtils_js__WEBPACK_IMPORTED_MODULE_4__.queryOptimizedFeatureSet)(this.service.source,t,r);return _support_FeatureSetReaderJSON_js__WEBPACK_IMPORTED_MODULE_6__.FeatureSetReaderJSON.fromOptimizedFeatureSet(i,this._metadata)}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/features/sources/strategies/support/snapshotUtils.js":
/*!********************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/features/sources/strategies/support/snapshotUtils.js ***!
  \********************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   fetchPages: () => (/* binding */ o)
/* harmony export */ });
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _chunks_FeatureSnapshotSourceChunk_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../chunks/FeatureSnapshotSourceChunk.js */ "./node_modules/@arcgis/core/views/2d/layers/features/sources/strategies/chunks/FeatureSnapshotSourceChunk.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
async function o(e,n,o,a={}){const s=(await Promise.allSettled(o.map((r=>t(e,n,r,a))))).filter((r=>"rejected"===r.status)).map((r=>r.reason));if(s.length)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("featurelayer-query","Encountered errors when downloading data",{errors:s})}async function t(r,o,t,a={}){const s=`${r.chunkPrefix??""}${t.num}`,u=await r.fetch(t.query,a,{chunkId:s}),i=new _chunks_FeatureSnapshotSourceChunk_js__WEBPACK_IMPORTED_MODULE_2__.FeatureSnapshotSourceChunk(u,t.query.inner.toJSON(),t.num,!1);i.chunkId=i.normalizedChunkId=s,(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_1__.throwIfAborted)(a),o.insert(i)}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/features/support/FeatureSetReaderIndirect.js":
/*!************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/features/support/FeatureSetReaderIndirect.js ***!
  \************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   FeatureSetReaderIndirect: () => (/* binding */ d)
/* harmony export */ });
/* harmony import */ var _core_memoryEstimations_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../core/memoryEstimations.js */ "./node_modules/@arcgis/core/core/memoryEstimations.js");
/* harmony import */ var _geometry_support_quantizationUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../geometry/support/quantizationUtils.js */ "./node_modules/@arcgis/core/geometry/support/quantizationUtils.js");
/* harmony import */ var _layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../layers/graphics/featureConversionUtils.js */ "./node_modules/@arcgis/core/layers/graphics/featureConversionUtils.js");
/* harmony import */ var _FeatureSetReader_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./FeatureSetReader.js */ "./node_modules/@arcgis/core/views/2d/layers/features/support/FeatureSetReader.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
class d extends _FeatureSetReader_js__WEBPACK_IMPORTED_MODULE_3__.FeatureSetReader{static from(r,e){if(r instanceof this){const t=new Set(e),s=r._indices.filter((r=>t.has(r)));return new d(r._reader,s)}return new d(r.copy(),e)}constructor(r,e){super(r.metadata),this._currentIndex=-1,this._displayTransform=null,this._reader=r,this._indices=e}setTransformForDisplay(r){const t=this._reader.getInTransform();if(null==t)return void(this._displayTransform=(0,_geometry_support_quantizationUtils_js__WEBPACK_IMPORTED_MODULE_1__.normalizeTransform)(r));const s=(0,_geometry_support_quantizationUtils_js__WEBPACK_IMPORTED_MODULE_1__.normalizeTransform)(t),a=(0,_geometry_support_quantizationUtils_js__WEBPACK_IMPORTED_MODULE_1__.normalizeTransform)(r),[i,d]=s.scale,[n,o]=s.translate,[h,u]=a.scale,[_,l]=a.translate,c=i/h,y=d/u,p=(n-_)/h,m=(o-l)/u;this._displayTransform={originPosition:"lowerLeft",scale:[1/c,1/y,1,1],translate:[-p/c,-m/y,0,0]}}getInTransform(){return this._reader.getInTransform()}get fields(){return this._reader.fields}get hasNext(){return this._currentIndex+1<this._indices.length}getSize(){return this._indices.length}getCursor(){return this.copy()}copy(){const r=new d(this._reader.copy(),this._indices);return r._currentIndex=this._currentIndex,r._displayTransform=this._displayTransform,r._processorAttributes=this._processorAttributes,r}get contextTimeZone(){return this._reader.contextTimeZone}set contextTimeZone(r){this._reader.contextTimeZone=r}get usedMemory(){return _core_memoryEstimations_js__WEBPACK_IMPORTED_MODULE_0__.baseObjectMemory+this._reader.usedMemory}setProcessorAttributes(r){this._processorAttributes=Object.assign(this._processorAttributes??{},r)}_nextIndex(){return++this._currentIndex<this._indices.length&&(this._reader.setIndex(this._indices[this._currentIndex]),!0)}next(){for(;this._nextIndex()&&!this._reader._getExists(););return this._currentIndex<this._indices.length}readXForDisplay(){return this._displayTransform?(0,_geometry_support_quantizationUtils_js__WEBPACK_IMPORTED_MODULE_1__.quantizeX)(this._displayTransform,this._reader.readXForDisplay()):this._reader.readXForDisplay()}readYForDisplay(){return this._displayTransform?(0,_geometry_support_quantizationUtils_js__WEBPACK_IMPORTED_MODULE_1__.quantizeY)(this._displayTransform,this._reader.readYForDisplay()):this._reader.readYForDisplay()}readGeometryForDisplay(){return this._displayTransform?this._reader.readGeometryForDisplayTransformed(this._displayTransform):this._reader.readGeometryForDisplay()}readCentroidForDisplay(){const r=this._reader.readCentroidForDisplay()?.clone();if(r){const[e,a]=r.coords;this._displayTransform?(r.coords[0]=(0,_geometry_support_quantizationUtils_js__WEBPACK_IMPORTED_MODULE_1__.quantizeX)(this._displayTransform,e),r.coords[1]=(0,_geometry_support_quantizationUtils_js__WEBPACK_IMPORTED_MODULE_1__.quantizeY)(this._displayTransform,a)):(r.coords[0]=e,r.coords[1]=a)}return r}get geometryType(){return this._reader.geometryType}get hasFeatures(){return this._reader.hasFeatures}get exceededTransferLimit(){return this._reader.exceededTransferLimit}get hasZ(){return this._reader.hasZ}get hasM(){return this._reader.hasM}readAttribute(r,e=!1){const t=this._reader.readAttribute(r,e);return null==t&&this._processorAttributes?this._processorAttributes[r]:t}readAttributes(){return{...this._processorAttributes??{},...this._reader.readAttributes()}}joinAttributes(r){return this._reader.joinAttributes(r)}getBounds(r){return this._reader.getBounds(r)}getAttributeHash(){return this._reader.getAttributeHash()}getObjectId(){return this._reader.getObjectId()}getDisplayId(){return this._reader.getDisplayId()}setDisplayId(r){return this._reader.setDisplayId(r)}setIndex(r){return this._reader.setIndex(r)}getIndex(){return this._reader.getIndex()}readXWorldSpace(){return this._reader.readXWorldSpace()}readYWorldSpace(){return this._reader.readYWorldSpace()}_readX(){return this._reader.readXForDisplay()}_readY(){return this._reader.readYForDisplay()}_readServerCentroid(){return this._reader._readServerCentroid()}readLegacyFeatureForDisplay(){const r=this.readCentroidForDisplay();return{attributes:this.readAttributes(),geometry:this.readLegacyGeometryForDisplay(),centroid:(r&&{x:r.coords[0],y:r.coords[1]})??null}}readLegacyGeometryForDisplay(){const r=this.readGeometryForDisplay();return (0,_layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_2__.convertToGeometry)(r,this.geometryType,!1,!1)}readGeometryArea(){return this._displayTransform?this._reader.readGeometryForDisplayTransformed(this._displayTransform)?.area()??0:this._reader.readGeometryArea()}readGeometryWorldSpace(){return this._reader.readGeometryWorldSpace()}_readGeometry(){return this._reader._readGeometry()}_readAttribute(r,e){throw new Error("Error: Should not be called. Underlying _reader should be used instead")}_readAttributes(){throw new Error("Error: Should not be called. Underlying _reader should be used instead")}readArcadeFeature(){return this._reader.readArcadeFeature()}geometry(){return this._reader.geometry()}field(r){return this._reader.field(r)}hasField(r){return this._reader.hasField(r)}setField(r,e){return this._reader.setField(r,e)}keys(){return this._reader.keys()}castToText(r=!1){return this._reader.castToText(r)}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/features/support/FeatureSetReaderPBF.js":
/*!*******************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/features/support/FeatureSetReaderPBF.js ***!
  \*******************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   FeatureSetReaderPBF: () => (/* binding */ I)
/* harmony export */ });
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../core/maybe.js */ "./node_modules/@arcgis/core/core/maybe.js");
/* harmony import */ var _core_memoryEstimations_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../../core/memoryEstimations.js */ "./node_modules/@arcgis/core/core/memoryEstimations.js");
/* harmony import */ var _core_pbf_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../../core/pbf.js */ "./node_modules/@arcgis/core/core/pbf.js");
/* harmony import */ var _layers_graphics_OptimizedGeometry_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../layers/graphics/OptimizedGeometry.js */ "./node_modules/@arcgis/core/layers/graphics/OptimizedGeometry.js");
/* harmony import */ var _FeatureSetCache_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./FeatureSetCache.js */ "./node_modules/@arcgis/core/views/2d/layers/features/support/FeatureSetCache.js");
/* harmony import */ var _FeatureSetReader_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./FeatureSetReader.js */ "./node_modules/@arcgis/core/views/2d/layers/features/support/FeatureSetReader.js");
/* harmony import */ var _FeatureSetReaderPBFHeader_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./FeatureSetReaderPBFHeader.js */ "./node_modules/@arcgis/core/views/2d/layers/features/support/FeatureSetReaderPBFHeader.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
const d=268435455,u=128,c=128e3,l={small:{delta:new Int32Array(u),decoded:new Int32Array(u)},small64:{delta:new Float64Array(0),decoded:new Float64Array(0)},large:{delta:new Int32Array(c),decoded:new Int32Array(c)},large64:{delta:new Float64Array(0),decoded:new Float64Array(0)}};function g(e,t){return t?e<=l.small64.delta.length?l.small64:(e<=l.large64.delta.length||(l.large64.delta=new Float64Array(Math.round(1.25*e)),l.large64.decoded=new Float64Array(Math.round(1.25*e))),l.large64):e<=l.small.delta.length?l.small:(e<=l.large.delta.length||(l.large.delta=new Int32Array(Math.round(1.25*e)),l.large.decoded=new Int32Array(Math.round(1.25*e))),l.large)}function _(r){try{const e=2,t=new _core_pbf_js__WEBPACK_IMPORTED_MODULE_5__["default"](new Uint8Array(r),new DataView(r));for(;t.next();){if(t.tag()===e)return f(t.getMessage());t.skip()}}catch(s){const r=new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("query:parsing-pbf","Error while parsing FeatureSet PBF payload",{error:s});_core_Logger_js__WEBPACK_IMPORTED_MODULE_2__["default"].getLogger("esri.view.2d.layers.features.support.FeatureSetReaderPBF").error(r)}return null}function f(e){const t=1;for(;e.next();){if(e.tag()===t)return e.getMessage();e.skip()}return null}function y(e){const t=1,r=2,s=3,n=4,a=5,i=6,h=7,o=8,d=9,u=e.getLength(),c=e.pos()+u;for(;e.pos()<c&&e.next();)switch(e.tag()){case t:return e.getString();case r:return e.getFloat();case s:return e.getDouble();case n:return e.getSInt32();case a:return e.getUInt32();case i:return e.getInt64();case h:return e.getUInt64();case o:return e.getSInt64();case d:return e.getBool();default:return e.skip(),null}return null}function m(e,t,r,s,n){if(!e)return!1;return 0===t*n-s*r&&t*s+r*n>0}class I extends _FeatureSetReader_js__WEBPACK_IMPORTED_MODULE_8__.FeatureSetReader{static fromBuffer(e,t,r=!1){const s=t.geometryType,n=_(e),a=(0,_FeatureSetReaderPBFHeader_js__WEBPACK_IMPORTED_MODULE_9__.parseHeader)(n,"esriGeometryPoint"===s,t.featureIdInfo,r);return new I(n,a,t,r)}constructor(e,t,r,s){super(r),this._use64Bit=s,this._hasNext=!1,this._isPoints=!1,this._featureIndex=-1,this._featureOffset=0,this._cache={area:0,unquantGeometry:void 0,geometry:void 0},this._parseCaches=new Array,this._geometryType=r.geometryType,this._reader=e,this._header=t,this._hasNext=t.hasFeatures,this._isPoints="esriGeometryPoint"===r.geometryType}get _size(){return this._header.featureCount}get fields(){return this._header.fields}get geometryType(){return this._geometryType}get hasZ(){return!1}get hasM(){return!1}get hasFeatures(){return this._header.hasFeatures}get hasNext(){return this._hasNext}get exceededTransferLimit(){return this._header.exceededTransferLimit}getSize(){return this._size}getInTransform(){return this._header.transform}getCursor(){return this.copy()}getIndex(){return this._featureIndex}setIndex(e){this._cache.area=0,this._cache.unquantGeometry=void 0,this._cache.geometry=void 0,this._featureIndex=e}getAttributeHash(){let e="";for(const t of this._header.fields.fields)e+=this._readAttributeAtIndex(t.index)+".";return e}getObjectId(){if(1===this._header.idFieldIndices.length)return this._readAttributeAtIndex(this._header.idFieldIndices[0]);const e=this._header.idFieldIndices.map((e=>this._readAttributeAtIndex(e)));return JSON.stringify(e)}getDisplayId(){return this._header.displayIds[this._featureIndex]}setDisplayId(e){this._header.displayIds[this._featureIndex]=e}readGeometryArea(){return this._cache.area||this._readGeometry(!0),this._cache.area}copy(){const e=this._reader.clone(),t=new I(e,this._header,this.metadata,this._use64Bit);return this.copyInto(t),t}next(){for(this._cache.area=0,this._cache.unquantGeometry=void 0,this._cache.geometry=void 0;++this._featureIndex<this._size&&!this._getExists(););return this._featureIndex<this._size}get usedMemory(){return _core_memoryEstimations_js__WEBPACK_IMPORTED_MODULE_4__.baseObjectMemory+(this._cache.geometry?.usedMemory??0)}_readX(){return this._header.centroid[2*this._featureIndex]}_readY(){return this._header.centroid[2*this._featureIndex+1]}_readServerCentroid(){const e=this._header.centroid[2*this._featureIndex],t=this._header.centroid[2*this._featureIndex+1];return e===d?null:new _layers_graphics_OptimizedGeometry_js__WEBPACK_IMPORTED_MODULE_6__["default"]([],[e,t])}_readGeometry(e=!1){if(void 0===this._cache.geometry){let r=null;if(this._isPoints){if(this._header.centroid[2*this._featureIndex]===d)return null;const e=this._header.centroid[2*this._featureIndex],t=this._header.centroid[2*this._featureIndex+1];r=new _layers_graphics_OptimizedGeometry_js__WEBPACK_IMPORTED_MODULE_6__["default"]([],[e,t])}else{const s=this._header.offsets.geometry[this._featureIndex],n=this._reader;if(0===s)return null;n.move(s);try{r=e?this._parseGeometryForDisplay(n):this._parseGeometry(n)}catch(t){return null}}return 0===r?.coords.length&&(r=null),this._cache.geometry=r,r}return this._cache.geometry}_readAttribute(e,t){const r=this._header.fields.get(e);if(null==r)return;const s=this._readAttributeAtIndex(r.index),n=this._header.fields.isDateField(r.name);return t?null==s?s:n?new Date(s):s:s}_readAttributes(){const e={};for(const t of this._header.fields.fields)e[t.name]=this._readAttributeAtIndex(t.index);return e}copyInto(e){super.copyInto(e),e._featureIndex=this._featureIndex,e._featureOffset=this._featureOffset,e._hasNext=this._hasNext,e._parseCaches=this._parseCaches}_readAttributeAtIndex(e){let t=this._parseCaches[e];if(t||(t=new _FeatureSetCache_js__WEBPACK_IMPORTED_MODULE_7__.FeatureSetCache(this.getSize()),this._parseCaches[e]=t),t.has(this._featureIndex))return t.get(this._featureIndex);const r=this._header.offsets.attributes[this._featureIndex*this._header.fieldCount+e],s=this._reader;s.move(r);const n=y(s);return t.set(this._featureIndex,n),n}_readGeometryDeltaDecoded(e=!1){if(void 0===this._cache.unquantGeometry){const t=this._readGeometry(e);if(!t)return this._cache.unquantGeometry=void 0,null;if(!this.getInTransform())return this._cache.unquantGeometry=t,t;const r=g(t.coords.length,this._use64Bit).decoded,s=t.clone(r),n=s.coords;let a=0;for(const e of s.lengths){for(let t=1;t<e;t++){const e=2*(a+t),r=2*(a+t-1);n[e]+=n[r],n[e+1]+=n[r+1]}a+=e}return this._cache.unquantGeometry=s,s}return this._cache.unquantGeometry}_parseGeometry(e){const t=2,r=3,s=e.asUnsafe(),n=s.getLength(),i=s.pos()+n,h=[],o=[];for(;s.pos()<i&&s.next();)switch(s.tag()){case t:{const e=s.getUInt32(),t=s.pos()+e;for(;s.pos()<t;)o.push(s.getUInt32());break}case r:{const e=s.getUInt32(),t=s.pos()+e;for(h.push(s.getSInt64()),h.push(s.getSInt64()),this.hasZ&&s.getSInt64(),this.hasM&&s.getSInt64();s.pos()<t;)h.push(s.getSInt64()),h.push(s.getSInt64()),this.hasZ&&s.getSInt64(),this.hasM&&s.getSInt64();break}default:s.skip()}return new _layers_graphics_OptimizedGeometry_js__WEBPACK_IMPORTED_MODULE_6__["default"](o,h)}_parseGeometryForDisplay(e){const t=2,s=3,n=e.asUnsafe(),i=n.getLength(),h=n.pos()+i,o=[],d=[];let u=0,c=0,l=null,_=0;const f="esriGeometryPolygon"===this.geometryType,y="esriGeometryPolyline"===this.geometryType,I=f?3:y?2:1,p=f||y;for(;n.pos()<h&&n.next();)switch(n.tag()){case t:{const e=n.getUInt32(),t=n.pos()+e;for(;n.pos()<t;){const e=n.getUInt32();o.push(e),u+=e}l=g(2*u,this._use64Bit).delta;break}case s:{n.getUInt32();const e=2+(this.hasZ?1:0)+(this.hasM?1:0);(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_3__.assertIsSome)(l);for(const t of o){if(c+e*t>l.length){for(let e=0;e<t;e++)n.getSInt64(),n.getSInt64(),this.hasZ&&n.getSInt64(),this.hasM&&n.getSInt64();continue}let r=0,s=n.getSInt64(),a=n.getSInt64();this.hasZ&&n.getSInt64(),this.hasM&&n.getSInt64(),l[c++]=s,l[c++]=a,r+=1;for(let e=1;e<t;e++){const e=n.getSInt64(),t=n.getSInt64(),i=s+e,h=a+t;_+=-.5*(i-s)*(h+a),this.hasZ&&n.getSInt64(),this.hasM&&n.getSInt64(),0===e&&0===t||m(p,l[c-2],l[c-1],e,t)?(l[c-2]+=e,l[c-1]+=t):(l[c++]=e,l[c++]=t,r+=1),s=i,a=h}r>=I?d.push(r):c-=r*e}break}default:n.skip()}return this._cache.area=_,d.length?new _layers_graphics_OptimizedGeometry_js__WEBPACK_IMPORTED_MODULE_6__["default"](d,l):null!=l?this._createDeltaQuantizedExtrudedGeometry(l[0],l[1]):null}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/features/support/FeatureSetReaderPBFHeader.js":
/*!*************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/features/support/FeatureSetReaderPBFHeader.js ***!
  \*************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   FeatureSetHeader: () => (/* binding */ o),
/* harmony export */   parseHeader: () => (/* binding */ a)
/* harmony export */ });
/* harmony import */ var _layers_graphics_data_FeatureIdInfo_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../layers/graphics/data/FeatureIdInfo.js */ "./node_modules/@arcgis/core/layers/graphics/data/FeatureIdInfo.js");
/* harmony import */ var _layers_support_FieldsIndex_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../layers/support/FieldsIndex.js */ "./node_modules/@arcgis/core/layers/support/FieldsIndex.js");
/* harmony import */ var _rest_query_operations_pbfFeatureServiceParser_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../rest/query/operations/pbfFeatureServiceParser.js */ "./node_modules/@arcgis/core/rest/query/operations/pbfFeatureServiceParser.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
const n=268435455;class o{constructor(){this.hasFeatures=!1,this.exceededTransferLimit=!1,this.fieldCount=0,this.featureCount=0,this.idFieldIndices=[],this.vertexCount=0,this.offsets={attributes:new Array,geometry:new Array},this.centroid=new Array}}function a(a,i,c,f=!1){const d=9,u=12,p=13,g=15,l=a.asUnsafe(),h=l.pos(),y=new o;let m=0,w=0;const k=1,x=2,I=4,b=3;let A=null,L=!1;const F=[];for(;l.next();)switch(l.tag()){case u:A=l.processMessage(_rest_query_operations_pbfFeatureServiceParser_js__WEBPACK_IMPORTED_MODULE_2__.parseTransform);break;case d:if(y.exceededTransferLimit=l.getBool(),y.exceededTransferLimit){y.offsets.geometry=f?new Float64Array(8e3):new Int32Array(8e3),y.centroid=f?new Float64Array(16e3):new Int32Array(16e3);for(let e=0;e<y.centroid.length;e++)y.centroid[e]=n}break;case p:{const e=l.processMessage(_rest_query_operations_pbfFeatureServiceParser_js__WEBPACK_IMPORTED_MODULE_2__.parseField);e.index=m++,F.push(e);break}case g:{const e=l.getLength(),t=l.pos()+e;if(!y.exceededTransferLimit){const e=y.offsets.geometry,t=y.centroid;e.push(0),t.push(n),t.push(n)}!L&&y.exceededTransferLimit&&(L=!0,y.offsets.attributes=f?new Float64Array(8e3*m):new Uint32Array(8e3*m));let s=w*m;for(;l.pos()<t&&l.next();)switch(l.tag()){case k:{if(L)y.offsets.attributes[s++]=l.pos();else{y.offsets.attributes.push(l.pos())}const e=l.getLength();l.skipLen(e);break}case x:if(i){const e=l.getLength(),t=l.pos()+e;for(;l.pos()<t&&l.next();)switch(l.tag()){case b:{l.getUInt32();const e=l.getSInt64(),t=l.getSInt64();y.centroid[2*w]=e,y.centroid[2*w+1]=t;break}default:l.skip()}}else{y.offsets.geometry[w]=l.pos();const e=l.getLength();y.vertexCount+=e,l.skipLen(e)}break;case I:{const e=l.getLength(),t=l.pos()+e;for(;l.pos()<t&&l.next();)switch(l.tag()){case b:{l.getUInt32();const e=l.getSInt64(),t=l.getSInt64();y.centroid[2*w]=e,y.centroid[2*w+1]=t;break}default:l.skip()}break}default:l.skip()}w++,y.hasFeatures=!0;break}default:l.skip()}y.fields=new _layers_support_FieldsIndex_js__WEBPACK_IMPORTED_MODULE_1__["default"](F),y.featureCount=w,y.fieldCount=m;const C=(0,_layers_graphics_data_FeatureIdInfo_js__WEBPACK_IMPORTED_MODULE_0__.getFeatureIdInfoFieldNames)(c);return y.idFieldIndices=Array.from(C,(e=>y.fields.get(e)?.index)),y.transform=A,y.displayIds=new Uint32Array(y.featureCount),y.groupIds=new Uint16Array(y.featureCount),l.move(h),y}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/features/support/FeatureSetReaderParquet.js":
/*!***********************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/features/support/FeatureSetReaderParquet.js ***!
  \***********************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   FeatureSetReaderParquet: () => (/* binding */ n)
/* harmony export */ });
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_memoryEstimations_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../core/memoryEstimations.js */ "./node_modules/@arcgis/core/core/memoryEstimations.js");
/* harmony import */ var _layers_graphics_OptimizedGeometry_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../layers/graphics/OptimizedGeometry.js */ "./node_modules/@arcgis/core/layers/graphics/OptimizedGeometry.js");
/* harmony import */ var _FeatureSetReader_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./FeatureSetReader.js */ "./node_modules/@arcgis/core/views/2d/layers/features/support/FeatureSetReader.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
class n extends _FeatureSetReader_js__WEBPACK_IMPORTED_MODULE_3__.FeatureSetReader{constructor(t,r,n,s,i,d=new Uint32Array(s.size())){super(t),this._fields=r,this._geometryInfo=n,this._inner=s,this._chunkId=i,this._displayIds=d,this._index=-1,this.usedMemory=_core_memoryEstimations_js__WEBPACK_IMPORTED_MODULE_1__.baseObjectMemory,this._size=this._inner.size();const o=t.featureIdInfo;"object-id"===o.type&&(this._objectIdFieldIndex=this._fields.get(o.fieldName)?.index),this._chunkId>65535&&console.error("Exceeded max allowed parquet reader size")}destroy(){super.destroy(),this._inner.free()}get fields(){return this._fields}get geometryType(){return this._geometryInfo.geometryType}get hasFeatures(){return!0}get hasNext(){throw new Error("Method not implemented.")}get exceededTransferLimit(){return!1}get hasZ(){return!1}get hasM(){return!1}getInTransform(){return null}getSize(){return this._size}getCursor(){return this.copy()}getAttributeHash(){let e="";for(const t of this.fields.fields)e+=this._readAttribute(t.name,!1)+".";return e}getObjectId(){return null!=this._objectIdFieldIndex?this._inner.readAttribute(this._index,this._objectIdFieldIndex):this._index<<16|this._chunkId}getDisplayId(){return this._displayIds[this._index]}setDisplayId(e){this._displayIds[this._index]=e}setIndex(e){this._index=e}getBoundsXMin(){return this._inner.boundsXMin(this._index)}getBoundsYMin(){return this._inner.boundsYMin(this._index)}getBoundsXMax(){return this._inner.boundsXMax(this._index)}getBoundsYMax(){return this._inner.boundsYMax(this._index)}setBoundsXMin(e){throw new Error("InternalError: Setting bounds is unsupported")}setBoundsYMin(e){throw new Error("InternalError: Setting bounds is unsupported")}setBoundsXMax(e){throw new Error("InternalError: Setting bounds is unsupported")}setBoundsYMax(e){throw new Error("InternalError: Setting bounds is unsupported")}getIndex(){return this._index}next(){for(;++this._index<this._size&&!this._getExists(););return this._index<this._size}readGeometryArea(){return this.readGeometryForDisplay()?.area()??0}copy(){const e=new n(this.metadata,this._fields,this._geometryInfo,this._inner,this._chunkId,this._displayIds);return this.copyInto(e),e}copyInto(e){super.copyInto(e),e._index=this._index}readGeometryForDisplayTransformed(e){const[r,n]=e.translate,[s,i]=e.scale,d=this._inner.readGeometryTransformed(this._index,r,n,s,i);return d?new _layers_graphics_OptimizedGeometry_js__WEBPACK_IMPORTED_MODULE_2__["default"](d.readLengthsUnsafe(),d.readCoordsUnsafe()):null}_readGeometry(e){const r=this._inner.readCoords(this._index),n=this._inner.readLengths(this._index);return r&&n?new _layers_graphics_OptimizedGeometry_js__WEBPACK_IMPORTED_MODULE_2__["default"](n,r):null}_readX(){return this._readGeometry()?.coords[0]}_readY(){return this._readGeometry()?.coords[1]}_readServerCentroid(){return null}_readAttribute(e,t){const r=this.fields.get(e);if(!r)return;if(null==r.index)return this.getObjectId();const n=this._inner.readAttribute(this._index,r.index);if(null==n)return n;const s=this.fields.isDateField(r.name);return t?null==n?n:s?new Date(n):n:n}_readAttributes(){const e={};for(const t of this._fields.fields)null!=t.index?this._inner.hasField(t.index)&&(e[t.name]=this._readAttribute(t.name,!1)):e.__OBJECTID=this.getObjectId();return e}}


/***/ })

};

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmVuZG9ycy1ub2RlX21vZHVsZXNfYXJjZ2lzX2NvcmVfdmlld3NfMmRfZW5naW5lX3dlYmdsX3NoYWRlckdyYXBoX3RlY2huaXF1ZXNfVGVjaG5pcXVlVHlwZV9qLTEwNWNiNi5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUM0aUIsZ0JBQWdCLG1HQUFDLENBQUMsdUJBQXVCLFFBQVEsaUhBQUMsMkJBQTJCLFlBQVksV0FBVyxjQUFjLHdCQUF3Qix1QkFBdUIseU1BQXlNLFNBQVMsU0FBUyxXQUFXLEdBQUcsV0FBVyxFQUFFLHlCQUF5Qix1QkFBdUIsWUFBWSxtQkFBbUIsUUFBUSx1RkFBdUYsaU9BQWlPLG9CQUFvQix5S0FBeUssU0FBUyxpQkFBaUIsd01BQXdNLDZEQUE2RCxlQUFlLDZEQUE2RCxpQkFBaUIsOENBQThDLG1GQUFDLEVBQUUsd0NBQXdDLENBQUMscUVBQUMsWUFBWSw4RkFBQyxLQUFLLDZFQUFDLFVBQVUsWUFBWSxPQUFPLHFHQUFDLEtBQUssNkVBQUMsd0NBQXdDLFNBQVMsMEJBQTBCLDhDQUE4QyxtRkFBQyxFQUFFLG9CQUFvQixDQUFDLHFFQUFDLFlBQVksNEZBQUMsS0FBSyw2RUFBQyxJQUFJLFlBQVksT0FBTyxxR0FBQyxLQUFLLDZFQUFDLHNDQUFzQyxTQUFTLGdCQUFnQixTQUFTLHFCQUFxQixpRUFBaUUsc0NBQXNDLGtCQUFrQixvQkFBb0IsK0lBQStJLDhDQUE4QyxtQkFBbUIsb0hBQW9ILE9BQU8saUVBQUMsRUFBRSxzQkFBc0IsY0FBdUM7Ozs7Ozs7Ozs7Ozs7Ozs7QUNKcjFGO0FBQ0E7QUFDQTtBQUNBO0FBQytDLFFBQVEsZUFBZSxxREFBcUQsd0RBQUMsNEJBQTRCLFdBQVcsV0FBVyxrQkFBa0IsWUFBWSxtQkFBbUIsWUFBWSxvQ0FBb0Msc0JBQXNCLDZCQUE2QixLQUFLLFNBQVMsRUFBRSxxQ0FBcUMsMkpBQTJKLDBFQUEwRSx3REFBQyx5R0FBeUcsYUFBYSxpQ0FB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Z0JBQWdCLGtFQUFDLENBQUMsbURBQW1ELDZIQUE2SCx3RUFBQywrQkFBK0Isd0JBQXdCLHFLQUFxSyxVQUFVLG1DQUFtQyxhQUFhLG9CQUFvQixtQkFBbUIsdUNBQXVDLGtCQUFrQixTQUFTLGNBQWMsMkNBQTJDLDRCQUE0QixTQUFTLFdBQVcsU0FBUyxXQUFXLFNBQVMsaUJBQWlCLFlBQVksVUFBVSxrQkFBa0IsWUFBWSxtQkFBbUIsbUJBQW1CLFNBQVMsd0VBQXdFLFNBQVMsY0FBYyxvSUFBb0ksZUFBZSxxQ0FBcUMsZ0JBQWdCLGdDQUFnQyxZQUFZLGNBQWMsZ0JBQWdCLDJDQUEyQyxnQkFBZ0IsMkNBQTJDLGdCQUFnQiwyQ0FBMkMsZ0JBQWdCLDJDQUEyQyxpQkFBaUIsZ0VBQWdFLGlCQUFpQixnRUFBZ0UsaUJBQWlCLGdFQUFnRSxpQkFBaUIsZ0VBQWdFLFdBQVcsbUJBQW1CLE9BQU8sS0FBSyw2Q0FBNkMsRUFBRSw4QkFBOEIsbUJBQW1CLGdEQUFnRCxPQUFPLHdHQUF3RywwQkFBMEIsWUFBWSx1Q0FBdUMscUNBQXFDLGdHQUFnRyxhQUFhLDZFQUFDLGtEQUFrRCxpQkFBaUIsbUZBQW1GLGdCQUFnQiw2RUFBQyxXQUFXLFNBQVMsdUNBQXVDLFNBQVMsdUNBQXVDLHNCQUFzQixZQUFZLG9CQUFvQiwyQkFBMkIsYUFBYSwyQ0FBMkMsdURBQXVELG9CQUFvQix3Q0FBd0MscUNBQXFDLGtCQUFrQixXQUFXLDJKQUEySixVQUErQyIsInNvdXJjZXMiOlsid2VicGFjazovL3ByZWNpc2lvbmZhcm1zLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS9nZW9oYXNoL0dlb2hhc2hDZWxsLmpzIiwid2VicGFjazovL3ByZWNpc2lvbmZhcm1zLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS9nZW9oYXNoL0dlb2hhc2hUcmVlLmpzIiwid2VicGFjazovL3ByZWNpc2lvbmZhcm1zLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS9nZW9oYXNoL2dlb2hhc2hVdGlscy5qcyIsIndlYnBhY2s6Ly9wcmVjaXNpb25mYXJtcy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvZ2VvbWV0cnkvb3BlcmF0b3JzL2d4L29wZXJhdG9yR2VvZGV0aWNEZW5zaWZ5LmpzIiwid2VicGFjazovL3ByZWNpc2lvbmZhcm1zLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS9sYXllcnMvZ3JhcGhpY3MvZGF0YS9GZWF0dXJlSWRJbmZvLmpzIiwid2VicGFjazovL3ByZWNpc2lvbmZhcm1zLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS9sYXllcnMvZ3JhcGhpY3MvZGF0YS9TdHJlYW1GZWF0dXJlTWFuYWdlci5qcyIsIndlYnBhY2s6Ly9wcmVjaXNpb25mYXJtcy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvbGF5ZXJzL2dyYXBoaWNzL2RhdGEvb3B0aW1pemVkRmVhdHVyZVF1ZXJ5RW5naW5lQWRhcHRlci5qcyIsIndlYnBhY2s6Ly9wcmVjaXNpb25mYXJtcy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvMmQvZW5naW5lL3dlYmdsL21lc2gvTXVsdGlUaWxlTWVzaERhdGEuanMiLCJ3ZWJwYWNrOi8vcHJlY2lzaW9uZmFybXMvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzJkL2VuZ2luZS93ZWJnbC9tZXNoL2ZhY3Rvcmllcy9GZWF0dXJlTWVzaEZhY3RvcnkuanMiLCJ3ZWJwYWNrOi8vcHJlY2lzaW9uZmFybXMvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzJkL2VuZ2luZS93ZWJnbC9tZXNoL2ZhY3Rvcmllcy9NZXNoRmFjdG9yeS5qcyIsIndlYnBhY2s6Ly9wcmVjaXNpb25mYXJtcy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvMmQvZW5naW5lL3dlYmdsL3NoYWRlckdyYXBoL3RlY2huaXF1ZXMvVGVjaG5pcXVlVHlwZS5qcyIsIndlYnBhY2s6Ly9wcmVjaXNpb25mYXJtcy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvMmQvZW5naW5lL3dlYmdsL3V0aWwvRGljdGlvbmFyeU1hdGNoZXIuanMiLCJ3ZWJwYWNrOi8vcHJlY2lzaW9uZmFybXMvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzJkL2VuZ2luZS93ZWJnbC91dGlsL0ludGVydmFsTWF0Y2hlci5qcyIsIndlYnBhY2s6Ly9wcmVjaXNpb25mYXJtcy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvMmQvZW5naW5lL3dlYmdsL3V0aWwvTGFiZWxNYXRjaGVyLmpzIiwid2VicGFjazovL3ByZWNpc2lvbmZhcm1zLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8yZC9lbmdpbmUvd2ViZ2wvdXRpbC9NYXBNYXRjaGVyLmpzIiwid2VicGFjazovL3ByZWNpc2lvbmZhcm1zLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8yZC9lbmdpbmUvd2ViZ2wvdXRpbC9NYXRjaGVyLmpzIiwid2VicGFjazovL3ByZWNpc2lvbmZhcm1zLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8yZC9lbmdpbmUvd2ViZ2wvdXRpbC9NYXRjaGVyQ29udGV4dC5qcyIsIndlYnBhY2s6Ly9wcmVjaXNpb25mYXJtcy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvMmQvZW5naW5lL3dlYmdsL3V0aWwvY3JlYXRlTWF0Y2hlci5qcyIsIndlYnBhY2s6Ly9wcmVjaXNpb25mYXJtcy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvMmQvbGF5ZXJzL2ZlYXR1cmVzL0ZlYXR1cmVQaXBlbGluZVdvcmtlci5qcyIsIndlYnBhY2s6Ly9wcmVjaXNpb25mYXJtcy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvMmQvbGF5ZXJzL2ZlYXR1cmVzL0ZlYXR1cmVTcGF0aWFsSW5kZXguanMiLCJ3ZWJwYWNrOi8vcHJlY2lzaW9uZmFybXMvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzJkL2xheWVycy9mZWF0dXJlcy9GZWF0dXJlU3RvcmVTdGF0aXN0aWNzLmpzIiwid2VicGFjazovL3ByZWNpc2lvbmZhcm1zLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8yZC9sYXllcnMvZmVhdHVyZXMvUGlwZWxpbmVDb25uZWN0aW9uSGFuZGxlcnMuanMiLCJ3ZWJwYWNrOi8vcHJlY2lzaW9uZmFybXMvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzJkL2xheWVycy9mZWF0dXJlcy9Qcm9jZXNzb3IuanMiLCJ3ZWJwYWNrOi8vcHJlY2lzaW9uZmFybXMvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzJkL2xheWVycy9mZWF0dXJlcy9Qcm9jZXNzb3JUaWxlTWVzc2FnZVF1ZXVlLmpzIiwid2VicGFjazovL3ByZWNpc2lvbmZhcm1zLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8yZC9sYXllcnMvZmVhdHVyZXMvYWdncmVnYXRpb24vQUFnZ3JlZ2F0ZUNlbGwuanMiLCJ3ZWJwYWNrOi8vcHJlY2lzaW9uZmFybXMvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzJkL2xheWVycy9mZWF0dXJlcy9hZ2dyZWdhdGlvbi9BQWdncmVnYXRlU3BhdGlhbEluZGV4LmpzIiwid2VicGFjazovL3ByZWNpc2lvbmZhcm1zLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8yZC9sYXllcnMvZmVhdHVyZXMvYWdncmVnYXRpb24vQWNjdW11bGF0ZWRTdGF0aXN0aWNzLmpzIiwid2VicGFjazovL3ByZWNpc2lvbmZhcm1zLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8yZC9sYXllcnMvZmVhdHVyZXMvYWdncmVnYXRpb24vQ29tcHV0ZWRBZ2dyZWdhdGVGaWVsZC5qcyIsIndlYnBhY2s6Ly9wcmVjaXNpb25mYXJtcy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvMmQvbGF5ZXJzL2ZlYXR1cmVzL2FnZ3JlZ2F0aW9uL0dlb2hhc2hTcGF0aWFsSW5kZXguanMiLCJ3ZWJwYWNrOi8vcHJlY2lzaW9uZmFybXMvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzJkL2xheWVycy9mZWF0dXJlcy9hZ2dyZWdhdGlvbi9HcmlkQ2VsbC5qcyIsIndlYnBhY2s6Ly9wcmVjaXNpb25mYXJtcy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvMmQvbGF5ZXJzL2ZlYXR1cmVzL2FnZ3JlZ2F0aW9uL0dyaWRTcGF0aWFsSW5kZXguanMiLCJ3ZWJwYWNrOi8vcHJlY2lzaW9uZmFybXMvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzJkL2xheWVycy9mZWF0dXJlcy9wcm9jZXNzb3IvQUFnZ3JlZ2F0ZVN0cmF0ZWd5LmpzIiwid2VicGFjazovL3ByZWNpc2lvbmZhcm1zLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8yZC9sYXllcnMvZmVhdHVyZXMvcHJvY2Vzc29yL0FQcm9jZXNzb3JTdHJhdGVneS5qcyIsIndlYnBhY2s6Ly9wcmVjaXNpb25mYXJtcy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvMmQvbGF5ZXJzL2ZlYXR1cmVzL3Byb2Nlc3Nvci9CaW5uaW5nU3RyYXRlZ3kuanMiLCJ3ZWJwYWNrOi8vcHJlY2lzaW9uZmFybXMvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzJkL2xheWVycy9mZWF0dXJlcy9wcm9jZXNzb3IvQ2x1c3RlclN0cmF0ZWd5LmpzIiwid2VicGFjazovL3ByZWNpc2lvbmZhcm1zLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8yZC9sYXllcnMvZmVhdHVyZXMvcHJvY2Vzc29yL0ZlYXR1cmVVcGRhdGVTdHJhdGVneS5qcyIsIndlYnBhY2s6Ly9wcmVjaXNpb25mYXJtcy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvMmQvbGF5ZXJzL2ZlYXR1cmVzL3Byb2Nlc3Nvci9UcmFja1N0cmF0ZWd5LmpzIiwid2VicGFjazovL3ByZWNpc2lvbmZhcm1zLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8yZC9sYXllcnMvZmVhdHVyZXMvcHJvY2Vzc29yL3N1cHBvcnQvV2l0aERpc3BsYXlJZC5qcyIsIndlYnBhY2s6Ly9wcmVjaXNpb25mYXJtcy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvMmQvbGF5ZXJzL2ZlYXR1cmVzL3NvdXJjZXMvRmVhdHVyZUNhY2hlLmpzIiwid2VicGFjazovL3ByZWNpc2lvbmZhcm1zLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8yZC9sYXllcnMvZmVhdHVyZXMvc291cmNlcy9GZWF0dXJlU291cmNlLmpzIiwid2VicGFjazovL3ByZWNpc2lvbmZhcm1zLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8yZC9sYXllcnMvZmVhdHVyZXMvc291cmNlcy9GZWF0dXJlU291cmNlTWVzc2FnZS5qcyIsIndlYnBhY2s6Ly9wcmVjaXNpb25mYXJtcy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvMmQvbGF5ZXJzL2ZlYXR1cmVzL3NvdXJjZXMvRmVhdHVyZVNvdXJjZVF1ZXJ5SW5mby5qcyIsIndlYnBhY2s6Ly9wcmVjaXNpb25mYXJtcy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvMmQvbGF5ZXJzL2ZlYXR1cmVzL3NvdXJjZXMvRmVhdHVyZVRpbGVTdWJzY3JpcHRpb24uanMiLCJ3ZWJwYWNrOi8vcHJlY2lzaW9uZmFybXMvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzJkL2xheWVycy9mZWF0dXJlcy9zb3VyY2VzL1N0cmVhbUNvbm5lY3Rpb25TdGF0ZS5qcyIsIndlYnBhY2s6Ly9wcmVjaXNpb25mYXJtcy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvMmQvbGF5ZXJzL2ZlYXR1cmVzL3NvdXJjZXMvU3RyZWFtRmVhdHVyZVN0b3JlLmpzIiwid2VicGFjazovL3ByZWNpc2lvbmZhcm1zLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8yZC9sYXllcnMvZmVhdHVyZXMvc291cmNlcy9TdHJlYW1NZXNzZW5nZXIuanMiLCJ3ZWJwYWNrOi8vcHJlY2lzaW9uZmFybXMvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzJkL2xheWVycy9mZWF0dXJlcy9zb3VyY2VzL3N0cmF0ZWdpZXMvQUZldGNoTG9hZFN0cmF0ZWd5LmpzIiwid2VicGFjazovL3ByZWNpc2lvbmZhcm1zLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8yZC9sYXllcnMvZmVhdHVyZXMvc291cmNlcy9zdHJhdGVnaWVzL0FMb2FkU3RyYXRlZ3kuanMiLCJ3ZWJwYWNrOi8vcHJlY2lzaW9uZmFybXMvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzJkL2xheWVycy9mZWF0dXJlcy9zb3VyY2VzL3N0cmF0ZWdpZXMvQVRpbGVMb2FkU3RyYXRlZ3kuanMiLCJ3ZWJwYWNrOi8vcHJlY2lzaW9uZmFybXMvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzJkL2xheWVycy9mZWF0dXJlcy9zb3VyY2VzL3N0cmF0ZWdpZXMvRHJpbGxEb3duVGlsZUxvYWRTdHJhdGVneS5qcyIsIndlYnBhY2s6Ly9wcmVjaXNpb25mYXJtcy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvMmQvbGF5ZXJzL2ZlYXR1cmVzL3NvdXJjZXMvc3RyYXRlZ2llcy9QYWdlZFRpbGVMb2FkU3RyYXRlZ3kuanMiLCJ3ZWJwYWNrOi8vcHJlY2lzaW9uZmFybXMvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzJkL2xheWVycy9mZWF0dXJlcy9zb3VyY2VzL3N0cmF0ZWdpZXMvUGFycXVldExvYWRTdHJhdGVneS5qcyIsIndlYnBhY2s6Ly9wcmVjaXNpb25mYXJtcy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvMmQvbGF5ZXJzL2ZlYXR1cmVzL3NvdXJjZXMvc3RyYXRlZ2llcy9TbmFwc2hvdExvYWRTdHJhdGVneS5qcyIsIndlYnBhY2s6Ly9wcmVjaXNpb25mYXJtcy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvMmQvbGF5ZXJzL2ZlYXR1cmVzL3NvdXJjZXMvc3RyYXRlZ2llcy9TdHJlYW1Mb2FkU3RyYXRlZ3kuanMiLCJ3ZWJwYWNrOi8vcHJlY2lzaW9uZmFybXMvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzJkL2xheWVycy9mZWF0dXJlcy9zb3VyY2VzL3N0cmF0ZWdpZXMvY2h1bmtzL0FTb3VyY2VDaHVuay5qcyIsIndlYnBhY2s6Ly9wcmVjaXNpb25mYXJtcy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvMmQvbGF5ZXJzL2ZlYXR1cmVzL3NvdXJjZXMvc3RyYXRlZ2llcy9jaHVua3MvRHJpbGxEb3duVGlsZVNvdXJjZUNodW5rLmpzIiwid2VicGFjazovL3ByZWNpc2lvbmZhcm1zLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8yZC9sYXllcnMvZmVhdHVyZXMvc291cmNlcy9zdHJhdGVnaWVzL2NodW5rcy9GZWF0dXJlU25hcHNob3RTb3VyY2VDaHVuay5qcyIsIndlYnBhY2s6Ly9wcmVjaXNpb25mYXJtcy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvMmQvbGF5ZXJzL2ZlYXR1cmVzL3NvdXJjZXMvc3RyYXRlZ2llcy9jaHVua3MvT3ZlcnJpZGVzLmpzIiwid2VicGFjazovL3ByZWNpc2lvbmZhcm1zLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8yZC9sYXllcnMvZmVhdHVyZXMvc291cmNlcy9zdHJhdGVnaWVzL2NodW5rcy9QYWdlZFRpbGVTb3VyY2VDaHVuay5qcyIsIndlYnBhY2s6Ly9wcmVjaXNpb25mYXJtcy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvMmQvbGF5ZXJzL2ZlYXR1cmVzL3NvdXJjZXMvc3RyYXRlZ2llcy9jaHVua3MvU291cmNlQ2h1bmtTdG9yZS5qcyIsIndlYnBhY2s6Ly9wcmVjaXNpb25mYXJtcy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvMmQvbGF5ZXJzL2ZlYXR1cmVzL3NvdXJjZXMvc3RyYXRlZ2llcy9jaHVua3MvU3RyZWFtU291cmNlQ2h1bmsuanMiLCJ3ZWJwYWNrOi8vcHJlY2lzaW9uZmFybXMvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzJkL2xheWVycy9mZWF0dXJlcy9zb3VyY2VzL3N0cmF0ZWdpZXMvc3VwcG9ydC9xdWVyeUFkYXB0ZXJzLmpzIiwid2VicGFjazovL3ByZWNpc2lvbmZhcm1zLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8yZC9sYXllcnMvZmVhdHVyZXMvc291cmNlcy9zdHJhdGVnaWVzL3N1cHBvcnQvc25hcHNob3RVdGlscy5qcyIsIndlYnBhY2s6Ly9wcmVjaXNpb25mYXJtcy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvMmQvbGF5ZXJzL2ZlYXR1cmVzL3N1cHBvcnQvRmVhdHVyZVNldFJlYWRlckluZGlyZWN0LmpzIiwid2VicGFjazovL3ByZWNpc2lvbmZhcm1zLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8yZC9sYXllcnMvZmVhdHVyZXMvc3VwcG9ydC9GZWF0dXJlU2V0UmVhZGVyUEJGLmpzIiwid2VicGFjazovL3ByZWNpc2lvbmZhcm1zLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8yZC9sYXllcnMvZmVhdHVyZXMvc3VwcG9ydC9GZWF0dXJlU2V0UmVhZGVyUEJGSGVhZGVyLmpzIiwid2VicGFjazovL3ByZWNpc2lvbmZhcm1zLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8yZC9sYXllcnMvZmVhdHVyZXMvc3VwcG9ydC9GZWF0dXJlU2V0UmVhZGVyUGFycXVldC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4zMy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e2RlY29kZUdlb2hhc2hYWSBhcyB0fWZyb21cIi4vZ2VvaGFzaFV0aWxzLmpzXCI7aW1wb3J0IGUgZnJvbVwiLi4vZ2VvbWV0cnkvU3BhdGlhbFJlZmVyZW5jZS5qc1wiO2ltcG9ydHtjb252ZXJ0RnJvbVBvbHlnb24gYXMgbyxxdWFudGl6ZU9wdGltaXplZEdlb21ldHJ5IGFzIHMsY29udmVydEZyb21Qb2ludCBhcyByfWZyb21cIi4uL2xheWVycy9ncmFwaGljcy9mZWF0dXJlQ29udmVyc2lvblV0aWxzLmpzXCI7aW1wb3J0IGkgZnJvbVwiLi4vbGF5ZXJzL2dyYXBoaWNzL09wdGltaXplZEdlb21ldHJ5LmpzXCI7aW1wb3J0e3Byb2plY3QgYXMgaH1mcm9tXCIuLi9sYXllcnMvZ3JhcGhpY3MvZGF0YS9wcm9qZWN0aW9uU3VwcG9ydC5qc1wiO2ltcG9ydHtBQWdncmVnYXRlQ2VsbCBhcyBhfWZyb21cIi4uL3ZpZXdzLzJkL2xheWVycy9mZWF0dXJlcy9hZ2dyZWdhdGlvbi9BQWdncmVnYXRlQ2VsbC5qc1wiO2ltcG9ydHtBY2N1bXVsYXRlZFN0YXRpc3RpY3MgYXMgbn1mcm9tXCIuLi92aWV3cy8yZC9sYXllcnMvZmVhdHVyZXMvYWdncmVnYXRpb24vQWNjdW11bGF0ZWRTdGF0aXN0aWNzLmpzXCI7Y2xhc3MgbCBleHRlbmRzIGF7c3RhdGljIGNyZWF0ZSh0LGUsbyxzKXtjb25zdCByPW4uY3JlYXRlKHQpLGk9bmV3IEFycmF5KDMyKTtmb3IobGV0IGg9MDtoPGkubGVuZ3RoO2grKylpW2hdPW51bGw7cmV0dXJuIG5ldyBsKHIsZSxvLHMsaSl9Y29uc3RydWN0b3IodCxlLG8scyxyKXtzdXBlcih0KSx0aGlzLnhOb2RlPWUsdGhpcy55Tm9kZT1vLHRoaXMuZGVwdGg9cyx0aGlzLmNoaWxkcmVuPXIsdGhpcy5fb2JqZWN0SWRzPW5ldyBTZXQsdGhpcy5fY291bnQ9MCx0aGlzLl94V29ybGRUb3RhbD0wLHRoaXMuX3lXb3JsZFRvdGFsPTAsdGhpcy5feEdlb2hhc2hUb3RhbD0wLHRoaXMuX3lHZW9oYXNoVG90YWw9MCx0aGlzLm5leHQ9bnVsbH1nZXQgaWQoKXtyZXR1cm5gJHt0aGlzLnhOb2RlfS4ke3RoaXMueU5vZGV9YH1nZXQgY29udGFpbmVkT2JqZWN0SWRzKCl7cmV0dXJuIHRoaXMuX29iamVjdElkc31nZXQgY291bnQoKXtyZXR1cm4gdGhpcy5fY291bnR9Y2xvbmUoKXtjb25zdCB0PW5ldyBsKHRoaXMuX3N0YXRpc3RpY3MuY2xvbmUoKSx0aGlzLnhOb2RlLHRoaXMueU5vZGUsdGhpcy5kZXB0aCx0aGlzLmNoaWxkcmVuKTtyZXR1cm4gdC5fY291bnQ9dGhpcy5fY291bnQsdC5feFdvcmxkVG90YWw9dGhpcy5feFdvcmxkVG90YWwsdC5feVdvcmxkVG90YWw9dGhpcy5feVdvcmxkVG90YWwsdC5feEdlb2hhc2hUb3RhbD10aGlzLl94R2VvaGFzaFRvdGFsLHQuX3lHZW9oYXNoVG90YWw9dGhpcy5feUdlb2hhc2hUb3RhbCx0Lm5leHQ9dGhpcy5uZXh0LHQuX29iamVjdElkcz1uZXcgU2V0KHRoaXMuX29iamVjdElkcyksdH1pbnNlcnQodCxlLG8scyxyLGkpe3RoaXMuX2NvdW50Kz0xLHRoaXMuX3hXb3JsZFRvdGFsKz1lLHRoaXMuX3lXb3JsZFRvdGFsKz1vLHRoaXMuX3hHZW9oYXNoVG90YWwrPXMsdGhpcy5feUdlb2hhc2hUb3RhbCs9cix0aGlzLl9zdGF0aXN0aWNzLmluc2VydCh0LGkpLHRoaXMuX29iamVjdElkcy5hZGQodC5nZXRPYmplY3RJZCgpKX1tZXJnZSh0KXtpZigwIT09dC5fY291bnQpe3RoaXMuX2NvdW50Kz10Ll9jb3VudCx0aGlzLl94V29ybGRUb3RhbCs9dC5feFdvcmxkVG90YWwsdGhpcy5feVdvcmxkVG90YWwrPXQuX3lXb3JsZFRvdGFsLHRoaXMuX3hHZW9oYXNoVG90YWwrPXQuX3hXb3JsZFRvdGFsLHRoaXMuX3lHZW9oYXNoVG90YWwrPXQuX3lXb3JsZFRvdGFsLHRoaXMuX3N0YXRpc3RpY3MubWVyZ2UodC5fc3RhdGlzdGljcyk7Zm9yKGNvbnN0IGUgb2YgdC5fb2JqZWN0SWRzLnZhbHVlcygpKXRoaXMuX29iamVjdElkcy5hZGQoZSl9fWdldENlbnRyb2lkKHQpe3Rocm93IG5ldyBFcnJvcihcImdldENlbnRyb2lkIG5vdCBzdXBwb3J0ZWQgZm9yIEdlb2hhc2hOb2RlXCIpfWdldEdlb21ldHJ5KHQscil7Y29uc3QgYT10aGlzLl9nZXRMbmdMYXRCb3VuZHMoKSxbbixsLGQsY109YSxfPWgoe3JpbmdzOltbW24sbF0sW24sY10sW2QsY10sW2QsbF0sW24sbF1dXX0sZS5XR1M4NCx0KSx1PW8obmV3IGksXywhMSwhMSk7aWYobnVsbCE9cil7cmV0dXJuIHMobmV3IGksdSwhMSwhMSxcImVzcmlHZW9tZXRyeVBvbHlnb25cIixyLCExLCExKX1yZXR1cm4gdX1nZXRHZW9tZXRyaWNDZW50cm9pZCh0LG8pe2NvbnN0IGE9dGhpcy5fZ2V0TG5nTGF0Qm91bmRzKCksW24sbCxkLGNdPWEsXz1oKHt4OihuK2QpLzIseToobCtjKS8yfSxlLldHUzg0LHQpLHU9cihuZXcgaSxfKTtpZihudWxsIT1vKXtyZXR1cm4gcyhuZXcgaSx1LCExLCExLFwiZXNyaUdlb21ldHJ5UG9pbnRcIixvLCExLCExKX1yZXR1cm4gdX1nZXRBdHRyaWJ1dGVzKCl7Y29uc3QgdD17YWdncmVnYXRlSWQ6dGhpcy5pZH07Zm9yKGNvbnN0IGUgb2YgdGhpcy5fc3RhdGlzdGljcy52YWx1ZXMoKSl0W2UuZmllbGQubmFtZV09ZS52YWx1ZTtyZXR1cm4gdC5hZ2dyZWdhdGVDb3VudD10aGlzLl9jb3VudCx0fWZpbmQodCxlLG8scyxyLGkpe2lmKHM+PW8pcmV0dXJuIHRoaXM7Y29uc3QgaD0xLXMlMixhPTMqaCsyKigxLWgpLG49MipoKzMqKDEtaCksbD0zMC1yLWEsZD0zMC1pLW4sYz0oKHQmNypoKzMqKDEtaCk8PGwpPj5sKSsoKGUmMypoKzcqKDEtaCk8PGQpPj5kKSooOCpoKzQqKDEtaCkpLF89dGhpcy5jaGlsZHJlbltjXTtyZXR1cm4gbnVsbD09Xz9udWxsOl8uZmluZCh0LGUsbyxzKzEscithLGkrbil9X2dldExuZ0xhdEJvdW5kcygpe2NvbnN0IGU9dGhpcy5kZXB0aCxvPU1hdGguY2VpbChlLzIpLHM9TWF0aC5mbG9vcihlLzIpLHI9MzAtKDMqbysyKnMpLGk9MzAtKDIqbyszKnMpLGg9dGhpcy54Tm9kZTw8cixhPXRoaXMueU5vZGU8PGk7cmV0dXJuIHQoe2dlb2hhc2hYOmgsZ2VvaGFzaFk6YX0sdGhpcy5kZXB0aCl9fWV4cG9ydHtsIGFzIEdlb2hhc2hDZWxsfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjMzL2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7R2VvaGFzaENlbGwgYXMgdH1mcm9tXCIuL0dlb2hhc2hDZWxsLmpzXCI7Y2xhc3MgZXtjb25zdHJ1Y3RvcihlKXt0aGlzLl9maWVsZHM9ZSx0aGlzLl9zaXplPTAsdGhpcy5fZGVwdGg9MCx0aGlzLl9yb290PXQuY3JlYXRlKHRoaXMuX2ZpZWxkcywwLDAsMCl9ZGVzdHJveSgpe31nZXQgc2l6ZSgpe3JldHVybiB0aGlzLl9zaXplfWdldCBkZXB0aCgpe3JldHVybiB0aGlzLl9kZXB0aH1maW5kKHQsZSxzKXtyZXR1cm4gdGhpcy5fcm9vdC5maW5kKHQsZSxzLDAsMCwwKX1pbnNlcnQoZSxzLGksbixvLGgscil7bGV0IGw9dGhpcy5fcm9vdCxkPTAsYz0wLGE9MDtmb3IoO251bGwhPT1sOyl7aWYobC5pbnNlcnQoZSxzLGksbixvLHIpLGQ+PWgpcmV0dXJuO2NvbnN0IGY9TWF0aC5jZWlsKChkKzEpLzIpLHU9TWF0aC5mbG9vcigoZCsxKS8yKSx4PTEtZCUyLF89MzAtKDMqZisyKnUpLHA9MzAtKDIqZiszKnUpLE09KG4mNyp4KzMqKDEteCk8PF8pPj5fLG09KG8mMyp4KzcqKDEteCk8PHApPj5wLGc9TSttKig4KngrNCooMS14KSk7Yz1jPDwzKngrMiooMS14KXxNLGE9YTw8Mip4KzMqKDEteCl8bSxudWxsPT1sLmNoaWxkcmVuW2ddJiYobC5jaGlsZHJlbltnXT10LmNyZWF0ZSh0aGlzLl9maWVsZHMsYyxhLGQrMSksdGhpcy5fZGVwdGg9TWF0aC5tYXgodGhpcy5fZGVwdGgsZCsxKSx0aGlzLl9zaXplKz0xKSxkKz0xLGw9bC5jaGlsZHJlbltnXX19cHV0Qmlucyh0LGUpe2Zvcihjb25zdCBzIG9mIHRoaXMuZ2V0Tm9kZXMoZSkpe2NvbnN0IGU9dC5nZXQocy5pZCk7ZT9lLm1lcmdlKHMpOnQuc2V0KHMuaWQscy5jbG9uZSgpKX19Z2V0Tm9kZXModCl7Y29uc3QgZT1bXSx7Z2VvaGFzaEJvdW5kczpzLGxldmVsOml9PXQ7bGV0IG49dGhpcy5fcm9vdDtmb3IoO251bGwhPT1uOyl7Y29uc3QgdD1uLmRlcHRoLG89bi54Tm9kZSxoPW4ueU5vZGU7aWYodD49aSl7ZS5wdXNoKG4pLG49bi5uZXh0O2NvbnRpbnVlfWNvbnN0IHI9TWF0aC5jZWlsKCh0KzEpLzIpLGw9TWF0aC5mbG9vcigodCsxKS8yKSxkPTEtdCUyLGM9MzAtKDMqcisyKmwpLGE9MzAtKDIqciszKmwpLGY9figoMTw8YyktMSksdT1+KCgxPDxhKS0xKSx4PShzLnhMTCZmKT4+YyxfPShzLnlMTCZ1KT4+YSxwPShzLnhUUiZmKT4+YyxNPShzLnlUUiZ1KT4+YSxtPW88PDMqZCsyKigxLWQpLGc9aDw8MipkKzMqKDEtZCkseT1tKzgqZCs0KigxLWQpLHo9Zys0KmQrOCooMS1kKSxMPU1hdGgubWF4KG0seCksTj1NYXRoLm1heChnLF8pLEI9TWF0aC5taW4oeSxwKSxSPU1hdGgubWluKHosTSk7bGV0IFQ9bnVsbCxqPW51bGw7Zm9yKGxldCBlPU47ZTw9UjtlKyspZm9yKGxldCB0PUw7dDw9Qjt0Kyspe2NvbnN0IHM9dC1tKyhlLWcpKig4KmQrNCooMS1kKSksaT1uLmNoaWxkcmVuW3NdO2kmJihUfHwoVD1pLFQubmV4dD1uLm5leHQpLGomJihqLm5leHQ9aSksaj1pLGkubmV4dD1uLm5leHQpfW49VHx8bi5uZXh0fXJldHVybiBlfX1leHBvcnR7ZSBhcyBHZW9oYXNoVHJlZX07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4zMy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0XCIuLi9jb3JlL2hhcy5qc1wiO2ltcG9ydHtyYWQyZGVnIGFzIHR9ZnJvbVwiLi4vY29yZS9tYXRoVXRpbHMuanNcIjtpbXBvcnR7c2V0IGFzIG99ZnJvbVwiLi4vY29yZS9saWJzL2dsLW1hdHJpeC0yL21hdGgvdmVjMi5qc1wiO2ltcG9ydHtjcmVhdGUgYXMgcn1mcm9tXCIuLi9jb3JlL2xpYnMvZ2wtbWF0cml4LTIvZmFjdG9yaWVzL3ZlYzJmNjQuanNcIjtpbXBvcnQgbiBmcm9tXCIuLi9nZW9tZXRyeS9Qb2x5Z29uLmpzXCI7aW1wb3J0IGUgZnJvbVwiLi4vZ2VvbWV0cnkvU3BhdGlhbFJlZmVyZW5jZS5qc1wiO2ltcG9ydHt0b0V4dGVudCBhcyBzfWZyb21cIi4uL2dlb21ldHJ5L3N1cHBvcnQvYWFCb3VuZGluZ1JlY3QuanNcIjtpbXBvcnR7ZWFydGggYXMgaX1mcm9tXCIuLi9nZW9tZXRyeS9zdXBwb3J0L0VsbGlwc29pZC5qc1wiO2ltcG9ydHtjb252ZXJ0RnJvbVBvbHlnb24gYXMgY31mcm9tXCIuLi9sYXllcnMvZ3JhcGhpY3MvZmVhdHVyZUNvbnZlcnNpb25VdGlscy5qc1wiO2ltcG9ydCBmIGZyb21cIi4uL2xheWVycy9ncmFwaGljcy9PcHRpbWl6ZWRHZW9tZXRyeS5qc1wiO2ltcG9ydHtwcm9qZWN0IGFzIGx9ZnJvbVwiLi4vbGF5ZXJzL2dyYXBoaWNzL2RhdGEvcHJvamVjdGlvblN1cHBvcnQuanNcIjtjb25zdCBhPTE2LHU9OCxoPTQsbT0yLHA9MSxnPXIoKSx4PXIoKSx5PS05MCxkPTkwLGo9LTE4MCxNPTE4MCxTPVwiMDEyMzQ1Njc4OWJjZGVmZ2hqa21ucHFyc3R1dnd4eXpcIixiPTY0O2Z1bmN0aW9uIHYodCxvLHIsaSl7Y29uc3QgYT1bdC54bWluLHQueW1pbix0LnhtYXgsdC55bWF4XSx1PW4uZnJvbUV4dGVudChzKGEsaSkpLGg9bCh1LGksZS5XR1M4NCx7ZGVuc2lmaWNhdGlvblN0ZXA6bypifSk7aWYoIWgpcmV0dXJuIG51bGw7Y29uc3QgbT1jKG5ldyBmLGgsITEsITEpLHA9bS5jb29yZHMuZmlsdGVyKCgodCxvKT0+IShvJTIpKSksZz1tLmNvb3Jkcy5maWx0ZXIoKCh0LG8pPT5vJTIpKSx4PU1hdGgubWluKC4uLnApLHk9TWF0aC5taW4oLi4uZyksZD1NYXRoLm1heCguLi5wKSxqPU1hdGgubWF4KC4uLmcpLE09Ryh4LHkscixlLldHUzg0KSxTPUcoZCxqLHIsZS5XR1M4NCk7cmV0dXJuIE0mJlM/e2JvdW5kczphLGdlb2hhc2hCb3VuZHM6e3hMTDpNWzBdLHlMTDpNWzFdLHhUUjpTWzBdLHlUUjpTWzFdfSxsZXZlbDpyfTpudWxsfWZ1bmN0aW9uIEcobyxyLG4scyl7aWYocy5pc1dlYk1lcmNhdG9yKXtjb25zdCBlPXQoby9pLnJhZGl1cykscz1lLTM2MCpNYXRoLmZsb29yKChlKzE4MCkvMzYwKSxjPVswLDBdO3JldHVybiBCKGMsMCx0KE1hdGguUEkvMi0yKk1hdGguYXRhbihNYXRoLmV4cCgtci9pLnJhZGl1cykpKSxzLG4pLGN9Y29uc3QgYz1sKHt4Om8seTpyfSxzLGUuV0dTODQpO2lmKCFjKXJldHVybiBudWxsO2NvbnN0IGY9WzAsMF07cmV0dXJuIEIoZiwwLGMueSxjLngsbiksZn1mdW5jdGlvbiBXKHQpe3JldHVybiB0PD01Nz90LTQ4OnQ8PTEwND90LTg4OnQ8PTEwNz90LTg5OnQ8PTExMD90LTkwOnQtOTF9ZnVuY3Rpb24gQyh0KXtyZXR1cm4gU1t0XX1mdW5jdGlvbiBMKHQpe3JldHVybih0WzBdK3RbMV0pLzJ9ZnVuY3Rpb24gUih0LG8pe2NvbnN0IHI9TCh0KSxuPW8sZT0hbzt0WzBdPWUqdFswXStuKnIsdFsxXT1lKnIrbip0WzFdfWZ1bmN0aW9uIEEodCxvKXtjb25zdCByPW8+TCh0KTtyZXR1cm4gUih0LHIpLHJ9ZnVuY3Rpb24gWCh0LHIpe2NvbnN0IG49byhnLHksZCksZT1vKHgsaixNKTtmb3IobGV0IG89MDtvPHIubGVuZ3RoO28rKyl7Y29uc3QgdD1XKHIuY2hhckNvZGVBdChvKSk7byUyPT0wPyhSKGUsISEoYSZ0KSksUihlLCEhKGgmdCkpLFIoZSwhIShwJnQpKSxSKG4sISEodSZ0KSksUihuLCEhKG0mdCkpKTooUihuLCEhKGEmdCkpLFIobiwhIShoJnQpKSxSKG4sISEocCZ0KSksUihlLCEhKHUmdCkpLFIoZSwhIShtJnQpKSl9cmV0dXJuIHRbMF09TChuKSx0WzFdPUwoZSksdH1mdW5jdGlvbiBZKHQsbyl7bGV0IHI9MCxuPTAsZT0zMCxzPTMwO2ZvcihsZXQgaT0wO2k8by5sZW5ndGg7aSsrKXtjb25zdCB0PVcoby5jaGFyQ29kZUF0KGkpKSxjPWklMj09MDtlLT1jPzM6MixzLT1jPzI6MyxyfD1UKHQsYyk8PGUsbnw9VSh0LGMpPDxzfXJldHVybntnZW9oYXNoWDpyLGdlb2hhc2hZOm59fWZ1bmN0aW9uIHcodCxvKXtsZXQgcj0tOTAsbj05MCxlPS0xODAscz0xODA7Zm9yKGxldCBpPTA7aTxvO2krKyl7Y29uc3Qgbz1NYXRoLmNlaWwoKGkrMSkvMiksYz1NYXRoLmZsb29yKChpKzEpLzIpLGY9MS1pJTIsbD0zMC0oMypvKzIqYyksYT0zMC0oMipvKzMqYyksdT0zKmYrMiooMS1mKSxoPTIqZiszKigxLWYpLG09MypmKzcqKDEtZik8PGEscD0oNypmKzMqKDEtZik8PGwmdC5nZW9oYXNoWCk+PmwsZz0obSZ0Lmdlb2hhc2hZKT4+YTtmb3IobGV0IHQ9dS0xO3Q+PTA7dC0tKXtjb25zdCBvPShlK3MpLzIscj1wJjE8PHQ/MTowO2U9KDEtcikqZStyKm8scz0oMS1yKSpvK3Iqc31mb3IobGV0IHQ9aC0xO3Q+PTA7dC0tKXtjb25zdCBvPShyK24pLzIsZT1nJjE8PHQ/MTowO3I9KDEtZSkqcitlKm8sbj0oMS1lKSpvK2Uqbn19cmV0dXJuW2UscixzLG5dfWZ1bmN0aW9uIHoodCxvLHIsbil7biUyJiYobis9MSk7bGV0IGU9MCxzPTAsaT0tOTAsYz05MCxmPS0xODAsbD0xODA7Zm9yKGxldCBhPTA7YTxuLzI7YSsrKXtmb3IobGV0IHQ9MDt0PDU7dCsrKXtjb25zdCBvPShmK2wpLzIsbj1yPm8/MTowO2V8PW48PDI5LSh0KzUqYSksZj0oMS1uKSpmK24qbyxsPSgxLW4pKm8rbipsfWZvcihsZXQgdD0wO3Q8NTt0Kyspe2NvbnN0IHI9KGkrYykvMixuPW8+cj8xOjA7c3w9bjw8MjktKHQrNSphKSxpPSgxLW4pKmkrbipyLGM9KDEtbikqcituKmN9fXQuZ2VvaGFzaFg9ZSx0Lmdlb2hhc2hZPXN9ZnVuY3Rpb24gQih0LG8scixuLGUpe2UlMiYmKGUrPTEpO2xldCBzPTAsaT0wLGM9LTkwLGY9OTAsbD0tMTgwLGE9MTgwO2ZvcihsZXQgdT0wO3U8ZS8yO3UrKyl7Zm9yKGxldCB0PTA7dDw1O3QrKyl7Y29uc3Qgbz0obCthKS8yLHI9bj5vPzE6MDtzfD1yPDwyOS0odCs1KnUpLGw9KDEtcikqbCtyKm8sYT0oMS1yKSpvK3IqYX1mb3IobGV0IHQ9MDt0PDU7dCsrKXtjb25zdCBvPShjK2YpLzIsbj1yPm8/MTowO2l8PW48PDI5LSh0KzUqdSksYz0oMS1uKSpjK24qbyxmPSgxLW4pKm8rbipmfX10WzIqb109cyx0WzIqbysxXT1pfWZ1bmN0aW9uIEUodCxyLG4pe2xldCBlPVwiXCI7Y29uc3Qgcz1vKGcsLTkwLDkwKSxpPW8oeCwtMTgwLDE4MCk7Zm9yKGxldCBvPTA7bzxuO28rKyl7bGV0IG49MDshKG8lMik/KG58PUEoaSxyKTw8NCxufD1BKHMsdCk8PDMsbnw9QShpLHIpPDwyLG58PUEocyx0KTw8MSxufD1BKGkscil8MCk6KG58PUEocyx0KTw8NCxufD1BKGkscik8PDMsbnw9QShzLHQpPDwyLG58PUEoaSxyKTw8MSxufD1BKHMsdCl8MCksZSs9QyhuKX1yZXR1cm4gZX1mdW5jdGlvbiBQKHQsbyxyKXtyZXR1cm4gcj90JnB8KG8mcCk8PDF8KHQmbSk8PDF8KG8mbSk8PDJ8KHQmaCk8PDI6byZwfCh0JnApPDwxfChvJm0pPDwxfCh0Jm0pPDwyfChvJmgpPDwyfWZ1bmN0aW9uIFQodCxvKXtyZXR1cm4gbz9wJnR8KGgmdCk+PjF8KGEmdCk+PjI6KG0mdCk+PjF8KHUmdCk+PjJ9ZnVuY3Rpb24gVSh0LG8pe3JldHVybiBvPyhtJnQpPj4xfCh1JnQpPj4yOnAmdHwoaCZ0KT4+MXwoYSZ0KT4+Mn1mdW5jdGlvbiBrKHQsbyxyKXtjb25zdCBuPSEoKHQubGVuZ3RoLTEpJTIpLGU9dC5zbGljZSgwLC0xKSxzPVcodC5jaGFyQ29kZUF0KHQubGVuZ3RoLTEpKTtsZXQgaT0wLGM9MCxmPTAsbD0wO24/KGk9OCxjPTQsZj1wJnN8KGgmcyk+PjF8KGEmcyk+PjIsbD0obSZzKT4+MXwodSZzKT4+Mik6KGk9NCxjPTgsbD1wJnN8KGgmcyk+PjF8KGEmcyk+PjIsZj0obSZzKT4+MXwodSZzKT4+Mik7Y29uc3QgZz1mK28seD1sK3IseT1NYXRoLmZsb29yKGcvaSksZD1NYXRoLmZsb29yKHgvYyksaj1DKFAoZy15KmkseC1kKmMsbikpO3JldHVybiB0Lmxlbmd0aD4xJiYoeXx8ZCk/ayhlLHksZCkrajplK2p9ZXhwb3J0e1kgYXMgY29udmVydEdlb2hhc2gzMlRvWFksVyBhcyBkZWNvZGVCYXNlMzJDaGFyLFggYXMgZGVjb2RlR2VvaGFzaCx3IGFzIGRlY29kZUdlb2hhc2hYWSxDIGFzIGVuY29kZUJhc2UzMkNoYXIsRSBhcyBlbmNvZGVHZW9oYXNoLEcgYXMgZ2V0R2VvaGFzaCx2IGFzIGdldEdlb2hhc2hCb3VuZHMsayBhcyBnZXRSZWxhdGl2ZUdlb2hhc2gsQiBhcyBzZXRHZW9oYXNoQnVmLHogYXMgc2V0R2VvaGFzaFhZLFQgYXMgdW5wYWNrWEJpdHMsVSBhcyB1bnBhY2tZQml0c307XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4zMy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e1MgYXMgbn1mcm9tXCIuLi8uLi8uLi9jaHVua3MvU2ltcGxlR2VvbWV0cnlDdXJzb3IuanNcIjtpbXBvcnR7bCBhcyBlLHAgYXMgdCxpIGFzIHJ9ZnJvbVwiLi4vLi4vLi4vY2h1bmtzL3BlLmpzXCI7bGV0IG87ZnVuY3Rpb24gcygpe3JldHVybiEhbyYmcigpfWFzeW5jIGZ1bmN0aW9uIGkoKXtpZighcygpKXtjb25zdFtuLHJdPWF3YWl0IFByb21pc2UuYWxsKFtpbXBvcnQoXCIuLi8uLi8uLi9jaHVua3MvT3BlcmF0b3JHZW9kZXRpY0RlbnNpZnlCeUxlbmd0aC5qc1wiKSxpbXBvcnQoXCIuLi8uLi8uLi9jaHVua3MvUHJvamVjdGlvblRyYW5zZm9ybWF0aW9uLmpzXCIpLnRoZW4oKG49Pm4uYUcpKS50aGVuKCgoe2luamVjdFBlOm59KT0+bikpLGUoKV0pO289bmV3IG4uT3BlcmF0b3JHZW9kZXRpY0RlbnNpZnlCeUxlbmd0aCxyKHQpfX1mdW5jdGlvbiB1KG4sZSx0LHIpe3JldHVybiBvLmV4ZWN1dGUobixlLHQscixudWxsKX1mdW5jdGlvbiBjKGUsdCxyLHMpe2NvbnN0IGk9by5leGVjdXRlTWFueShuZXcgbihlKSx0LHIscyxudWxsKTtyZXR1cm4gQXJyYXkuZnJvbShpKX1mdW5jdGlvbiBhKCl7cmV0dXJuIG8uc3VwcG9ydHNDdXJ2ZXMoKX1leHBvcnR7dSBhcyBleGVjdXRlLGMgYXMgZXhlY3V0ZU1hbnkscyBhcyBpc0xvYWRlZCxpIGFzIGxvYWQsYSBhcyBzdXBwb3J0c0N1cnZlc307XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4zMy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuZnVuY3Rpb24qZShlKXtzd2l0Y2goZS50eXBlKXtjYXNlXCJvYmplY3QtaWRcIjpjYXNlXCJ1bmlxdWUtaWQtc2ltcGxlXCI6cmV0dXJuIHZvaWQoeWllbGQgZS5maWVsZE5hbWUpO2Nhc2VcInVuaXF1ZS1pZC1jb21wb3NpdGVcIjpyZXR1cm4gdm9pZCh5aWVsZCplLmZpZWxkTmFtZXMpfX1leHBvcnR7ZSBhcyBnZXRGZWF0dXJlSWRJbmZvRmllbGROYW1lc307XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4zMy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0IHQgZnJvbVwiLi4vLi4vLi4vY29yZS9DaXJjdWxhckFycmF5LmpzXCI7aW1wb3J0IGUgZnJvbVwiLi4vLi4vLi4vY29yZS9FcnJvci5qc1wiO2ltcG9ydHtjbGFtcCBhcyBzfWZyb21cIi4uLy4uLy4uL2NvcmUvbWF0aFV0aWxzLmpzXCI7aW1wb3J0e2RlZmF1bHRTdHJlYW1JZEZpZWxkIGFzIGksZXNyaVRpbWVzdGFtcCBhcyByLGludGVybmFsVGltZVJlY2VpdmVkRmllbGQgYXMgb31mcm9tXCIuLi8uLi9zdXBwb3J0L3N0cmVhbUxheWVyVXRpbHMuanNcIjtjb25zdCBkPTFlMztjbGFzcyBhe2NvbnN0cnVjdG9yKHQscyxyLG8sZD0xMjgpe2lmKHRoaXMuX3RyYWNrSWRUb09ic2VydmF0aW9ucz1uZXcgTWFwLHRoaXMuX2lkQ291bnRlcj0wLHRoaXMuX2xhc3RQdXJnZT1wZXJmb3JtYW5jZS5ub3coKSx0aGlzLl9hZGRPclVwZGF0ZWQ9bmV3IE1hcCx0aGlzLl9yZW1vdmVkPVtdLHRoaXMuX21heEFnZT0wLHRoaXMuX3RpbWVJbmZvPXIsdGhpcy5fcHVyZ2VPcHRpb25zPW8sdGhpcy5zdG9yZT10LFwidW5pcXVlLWlkLWNvbXBvc2l0ZVwiPT09cy50eXBlKXRocm93IG5ldyBlKFwic3RyZWFtLWxheWVyXCIsXCJjb21wb3NpdGUgdW5pcXVlSWRzIGFyZSBub3Qgc3VwcG9ydGVkXCIpO3RoaXMuaWRGaWVsZD1zLmZpZWxkTmFtZSx0aGlzLnB1cmdlSW50ZXJ2YWw9ZCx0aGlzLl91c2VHZW5lcmF0ZWRJZHM9dGhpcy5pZEZpZWxkPT09aX1yZW1vdmVCeUlkKHQpe3RoaXMuX3JlbW92ZWQucHVzaCh0KX1yZW1vdmVCeVRyYWNrSWQodCl7Y29uc3QgZT10aGlzLl90cmFja0lkVG9PYnNlcnZhdGlvbnMuZ2V0KHQpO2lmKGUpZm9yKGNvbnN0IHMgb2YgZS5lbnRyaWVzKXRoaXMuX3JlbW92ZWQucHVzaChzKX1hZGQoZSl7aWYodGhpcy5fdXNlR2VuZXJhdGVkSWRzKXtjb25zdCB0PXRoaXMuX25leHRJZCgpO2UuYXR0cmlidXRlc1t0aGlzLmlkRmllbGRdPXQsZS5vYmplY3RJZD10fWVsc2UgZS5vYmplY3RJZD1lLmF0dHJpYnV0ZXNbdGhpcy5pZEZpZWxkXTtjb25zdCBpPWUub2JqZWN0SWQ7aWYodGhpcy5fYWRkT3JVcGRhdGVkLnNldChpLGUpLHRoaXMuX21heEFnZT1NYXRoLm1heCh0aGlzLl9tYXhBZ2UsZS5hdHRyaWJ1dGVzW3RoaXMuX3RpbWVJbmZvLnN0YXJ0VGltZUZpZWxkXSksIXRoaXMuX3RpbWVJbmZvLnRyYWNrSWRGaWVsZClyZXR1cm4gbnVsbD09dGhpcy5fdHJhY2tJZExlc3NPYnNlcnZhdGlvbnMmJih0aGlzLl90cmFja0lkTGVzc09ic2VydmF0aW9ucz1uZXcgdCgxZTUpKSx2b2lkIHRoaXMuX3RyYWNrSWRMZXNzT2JzZXJ2YXRpb25zLmVucXVldWUoaSk7Y29uc3Qgcj1lLmF0dHJpYnV0ZXNbdGhpcy5fdGltZUluZm8udHJhY2tJZEZpZWxkXTtpZighdGhpcy5fdHJhY2tJZFRvT2JzZXJ2YXRpb25zLmhhcyhyKSl7Y29uc3QgZT1udWxsIT10aGlzLl9wdXJnZU9wdGlvbnM/Lm1heE9ic2VydmF0aW9ucz90aGlzLl9wdXJnZU9wdGlvbnMubWF4T2JzZXJ2YXRpb25zOmQsaT1zKGUsMCxkKTt0aGlzLl90cmFja0lkVG9PYnNlcnZhdGlvbnMuc2V0KHIsbmV3IHQoaSkpfWNvbnN0IG89dGhpcy5fdHJhY2tJZFRvT2JzZXJ2YXRpb25zLmdldChyKSxhPW8/LmVucXVldWUoaSk7bnVsbCE9YSYmKHRoaXMuX2FkZE9yVXBkYXRlZC5oYXMoYSk/dGhpcy5fYWRkT3JVcGRhdGVkLmRlbGV0ZShhKTp0aGlzLl9yZW1vdmVkLnB1c2goYSkpfWNoZWNrRm9yVXBkYXRlcygpe2NvbnN0IHQ9dGhpcy5fZ2V0VG9BZGQoKSxlPXRoaXMuX2dldFRvUmVtb3ZlKCkscz1wZXJmb3JtYW5jZS5ub3coKSxpPXMtdGhpcy5fbGFzdFB1cmdlLGQ9RGF0ZS5ub3coKTtpPj10aGlzLnB1cmdlSW50ZXJ2YWwmJih0aGlzLl9wdXJnZShzKSx0aGlzLl9sYXN0UHVyZ2U9cyk7Y29uc3QgYT1bXTtpZihudWxsIT1lKWZvcihjb25zdCByIG9mIGUpe2NvbnN0IHQ9dGhpcy5zdG9yZS5yZW1vdmVCeUlkKHIpO251bGwhPXQmJmEucHVzaCh0KX1jb25zdCBuPVtdO2lmKG51bGwhPXQpe2NvbnN0IGk9bmV3IFNldChlPz9bXSk7Zm9yKGNvbnN0IGUgb2YgdClpLmhhcyhlLm9iamVjdElkKXx8KGUuYXR0cmlidXRlc1tyXT1zLGUuYXR0cmlidXRlc1tvXT1kLHRoaXMuc3RvcmUuYWRkKGUpLG4ucHVzaChlKSl9cmV0dXJuISghbi5sZW5ndGgmJiFhPy5sZW5ndGgpJiYodGhpcy5zdG9yZS51cGRhdGUobixhKSwhMCl9X2dldFRvQWRkKCl7aWYoIXRoaXMuX2FkZE9yVXBkYXRlZC5zaXplKXJldHVybiBudWxsO2NvbnN0IHQ9bmV3IEFycmF5KHRoaXMuX2FkZE9yVXBkYXRlZC5zaXplKTtsZXQgZT0wO3JldHVybiB0aGlzLl9hZGRPclVwZGF0ZWQuZm9yRWFjaCgocz0+dFtlKytdPXMpKSx0aGlzLl9hZGRPclVwZGF0ZWQuY2xlYXIoKSx0fV9nZXRUb1JlbW92ZSgpe2NvbnN0IHQ9dGhpcy5fcmVtb3ZlZDtyZXR1cm4gdGhpcy5fcmVtb3ZlZC5sZW5ndGg/KHRoaXMuX3JlbW92ZWQ9W10sdCk6bnVsbH1fbmV4dElkKCl7Y29uc3QgdD10aGlzLl9pZENvdW50ZXI7cmV0dXJuIHRoaXMuX2lkQ291bnRlcj0odGhpcy5faWRDb3VudGVyKzEpJTQyOTQ5NjcyOTQrMSx0fV9wdXJnZSh0KXtjb25zdCBlPXRoaXMuX3B1cmdlT3B0aW9ucztudWxsIT1lJiYodGhpcy5fcHVyZ2VTb21lQnlEaXNwbGF5Q291bnQoZSksdGhpcy5fcHVyZ2VCeUFnZShlKSx0aGlzLl9wdXJnZUJ5QWdlUmVjZWl2ZWQodCxlKSx0aGlzLl9wdXJnZVRyYWNrcygpKX1fcHVyZ2VTb21lQnlEaXNwbGF5Q291bnQodCl7aWYoIXQuZGlzcGxheUNvdW50KXJldHVybjtsZXQgZT10aGlzLnN0b3JlLnNpemU7aWYoZT50LmRpc3BsYXlDb3VudCl7aWYodGhpcy5fdGltZUluZm8udHJhY2tJZEZpZWxkKWZvcihjb25zdCBzIG9mIHRoaXMuX3RyYWNrSWRUb09ic2VydmF0aW9ucy52YWx1ZXMoKSlpZihlPnQuZGlzcGxheUNvdW50JiZzLnNpemUpe2NvbnN0IHQ9cy5kZXF1ZXVlKCk7dGhpcy5fcmVtb3ZlZC5wdXNoKHQpLGUtLX1pZihudWxsIT10aGlzLl90cmFja0lkTGVzc09ic2VydmF0aW9ucyl7bGV0IHM9ZS10LmRpc3BsYXlDb3VudDtmb3IoO3MtLSA+MDspe2NvbnN0IHQ9dGhpcy5fdHJhY2tJZExlc3NPYnNlcnZhdGlvbnMuZGVxdWV1ZSgpO251bGwhPXQmJnRoaXMuX3JlbW92ZWQucHVzaCh0KX19fX1fcHVyZ2VCeUFnZSh0KXtjb25zdCBlPXRoaXMuX3RpbWVJbmZvPy5zdGFydFRpbWVGaWVsZDtpZighdC5hZ2V8fCFlKXJldHVybjtjb25zdCBzPTYwKnQuYWdlKjFlMyxpPXRoaXMuX21heEFnZS1zO3RoaXMuc3RvcmUuZm9yRWFjaCgodD0+e3QuYXR0cmlidXRlc1tlXTxpJiZ0aGlzLl9yZW1vdmVkLnB1c2godC5vYmplY3RJZCl9KSl9X3B1cmdlQnlBZ2VSZWNlaXZlZCh0LGUpe2lmKCFlLmFnZVJlY2VpdmVkKXJldHVybjtjb25zdCBzPXQtNjAqZS5hZ2VSZWNlaXZlZCoxZTM7dGhpcy5zdG9yZS5mb3JFYWNoKCh0PT57dC5hdHRyaWJ1dGVzW3JdPHMmJnRoaXMuX3JlbW92ZWQucHVzaCh0Lm9iamVjdElkKX0pKX1fcHVyZ2VUcmFja3MoKXt0aGlzLl90cmFja0lkVG9PYnNlcnZhdGlvbnMuZm9yRWFjaCgoKHQsZSk9PnswPT09dC5zaXplJiZ0aGlzLl90cmFja0lkVG9PYnNlcnZhdGlvbnMuZGVsZXRlKGUpfSkpfX1leHBvcnR7YSBhcyBTdHJlYW1GZWF0dXJlTWFuYWdlcn07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4zMy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e09wdGltaXplZEZlYXR1cmUgYXMgdH1mcm9tXCIuLi9PcHRpbWl6ZWRGZWF0dXJlLmpzXCI7Y29uc3QgZT17Z2V0T2JqZWN0SWQ6dD0+dC5vYmplY3RJZCxnZXRBdHRyaWJ1dGVzOnQ9PnQuYXR0cmlidXRlcyxnZXRBdHRyaWJ1dGU6KHQsZSk9PnQuYXR0cmlidXRlc1tlXSxjbG9uZVdpdGhHZW9tZXRyeTooZSxyKT0+bmV3IHQocixlLmF0dHJpYnV0ZXMsbnVsbCxlLm9iamVjdElkKSxnZXRHZW9tZXRyeTp0PT50Lmdlb21ldHJ5LGdldENlbnRyb2lkOih0LGUpPT50LmVuc3VyZUNlbnRyb2lkKGUpfTtleHBvcnR7ZSBhcyBvcHRpbWl6ZWRGZWF0dXJlUXVlcnlFbmdpbmVBZGFwdGVyfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjMzL2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnRcIi4uLy4uLy4uL3RpbGluZy9UaWxlSW5mb1ZpZXcuanNcIjtpbXBvcnQgZSBmcm9tXCIuLi8uLi8uLi90aWxpbmcvVGlsZUtleS5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vdGlsaW5nL1RpbGVRdWV1ZS5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vdGlsaW5nL1RpbGVTdHJhdGVneS5qc1wiO2ltcG9ydHt0aWxlU2l6ZSBhcyB0fWZyb21cIi4uL2RlZmluaXRpb25zLmpzXCI7aW1wb3J0e01lc2hEYXRhIGFzIHN9ZnJvbVwiLi9NZXNoRGF0YS5qc1wiO2NvbnN0IHI9MSxpPTIsbj00LGg9OCxvPTE2LGM9MzIsYT02NCxsPTEyODtmdW5jdGlvbiBmKGUpe3N3aXRjaChlKXtjYXNlIHI6Y2FzZSBoOmNhc2UgYzpyZXR1cm4tMTtjYXNlIGk6Y2FzZSBhOnJldHVybiAwO2Nhc2UgbjpjYXNlIG86Y2FzZSBsOnJldHVybiAxfX1mdW5jdGlvbiB1KGUpe3N3aXRjaChlKXtjYXNlIHI6Y2FzZSBpOmNhc2UgbjpyZXR1cm4tMTtjYXNlIGg6Y2FzZSBvOnJldHVybiAwO2Nhc2UgYzpjYXNlIGE6Y2FzZSBsOnJldHVybiAxfX1jb25zdCBfPXJ8aHxjLGQ9bnxvfGwsbT1yfGl8bixwPWN8YXxsO2NsYXNzIGd7Y29uc3RydWN0b3IoZSx0LHIsaSxuPTApe3RoaXMudGlsZUtleT1lLHRoaXMuX2J1ZmZlcmluZ0VuYWJsZWQ9dCx0aGlzLl9zaXplSGludD1uLHRoaXMuX21lc2hlcz17c2VsZjpuZXcgcyh0aGlzLmlkLHRoaXMuX3NpemVIaW50KSxuZWlnaGJvcnM6bmV3IEFycmF5fSx0aGlzLl9jdXJyZW50UmVjb3JkT3ZlcmxhcHM9MCx0aGlzLl9jdXJyZW50RW50aXR5T3ZlcmxhcHM9MDtjb25zdCBoPWk/MTowO3RoaXMuX2NvcHlCdWZmZXJlZERhdGFJbnRvU2VsZj1yJiZ0aGlzLl9idWZmZXJpbmdFbmFibGVkJiZlLmxldmVsPT09aH1nZXQgaWQoKXtyZXR1cm4gdGhpcy50aWxlS2V5LmlkfXZlcnRleFN0YXJ0KCl7cmV0dXJuIHRoaXMuX21lc2hlcy5zZWxmLnZlcnRleFN0YXJ0KCk/PzB9dmVydGV4Q291bnQoKXtyZXR1cm4gdGhpcy5fbWVzaGVzLnNlbGYudmVydGV4Q291bnQoKX1pbmRleENvdW50KCl7cmV0dXJuIHRoaXMuX21lc2hlcy5zZWxmLmluZGV4Q291bnQoKX1pbmRleEVuc3VyZVNpemUoZSl7dGhpcy5fbWVzaGVzLnNlbGYuaW5kZXhFbnN1cmVTaXplKGUpfWVudGl0eVN0YXJ0KGUsdD1lKXt0aGlzLl9jdXJyZW50RW50aXR5T3ZlcmxhcHM9MCx0aGlzLl9tZXNoZXMuc2VsZi5lbnRpdHlTdGFydChlLHQpfWVudGl0eVJlY29yZENvdW50KCl7cmV0dXJuIHRoaXMuX21lc2hlcy5zZWxmLmVudGl0eVJlY29yZENvdW50KCl9ZW50aXR5RW5kKCl7aWYodGhpcy5fbWVzaGVzLnNlbGYuZW50aXR5RW5kKCksdGhpcy5fYnVmZmVyaW5nRW5hYmxlZCl7aWYodGhpcy5fY29weUJ1ZmZlcmVkRGF0YUludG9TZWxmKXJldHVybjtmb3IobGV0IGU9MDtlPDg7ZSsrKXtjb25zdCB0PTE8PGU7ISEodGhpcy5fY3VycmVudEVudGl0eU92ZXJsYXBzJnQpJiZ0aGlzLl9tZXNoZXMubmVpZ2hib3JzW2VdLmVudGl0eUVuZCgpfX19cmVjb3JkU3RhcnQoZSx0LHMpe3RoaXMuX2N1cnJlbnRSZWNvcmRPdmVybGFwcz0wLHRoaXMuX21lc2hlcy5zZWxmLnJlY29yZFN0YXJ0KGUsdCxzKX1yZWNvcmRFbmQoZT0wKXtjb25zdCB0PXRoaXMuX21lc2hlcy5zZWxmLnJlY29yZEVuZCh0aGlzLl9jdXJyZW50UmVjb3JkT3ZlcmxhcHMpO3JldHVybiB0JiYwIT09dGhpcy5fY3VycmVudFJlY29yZE92ZXJsYXBzPyh0aGlzLl9jb3B5SW50b05laWdoYm9ycygpLHRoaXMuX2N1cnJlbnRFbnRpdHlPdmVybGFwc3w9dGhpcy5fY3VycmVudFJlY29yZE92ZXJsYXBzLCEwKTp0fXJlY29yZEJvdW5kcyhlLHQscyxyKXt0aGlzLl9idWZmZXJpbmdFbmFibGVkJiZ0aGlzLl9hZGRPdmVybGFwKGUsdCxzLHIpfXJlY29yZENvdW50KCl7cmV0dXJuIHRoaXMuX21lc2hlcy5zZWxmLnJlY29yZENvdW50KCl9bWV0cmljU3RhcnQoZSl7dGhpcy5fbWVzaGVzLnNlbGYubWV0cmljU3RhcnQoZSl9bWV0cmljQm94V3JpdGUoZSl7dGhpcy5fbWVzaGVzLnNlbGYubWV0cmljQm94V3JpdGUoZSl9bWV0cmljRW5kKCl7dGhpcy5fbWVzaGVzLnNlbGYubWV0cmljRW5kKCl9dmVydGV4V3JpdGUoZSl7dGhpcy5fbWVzaGVzLnNlbGYudmVydGV4V3JpdGUoZSl9dmVydGV4V3JpdGVGMzIoZSl7dGhpcy5fbWVzaGVzLnNlbGYudmVydGV4V3JpdGVGMzIoZSl9dmVydGV4V3JpdGVSZWdpb24oZSl7dGhpcy5fbWVzaGVzLnNlbGYudmVydGV4V3JpdGVSZWdpb24oZSl9aW5kZXhXcml0ZShlKXt0aGlzLl9tZXNoZXMuc2VsZi5pbmRleFdyaXRlKGUpfXNlcmlhbGl6ZSh0KXtjb25zdCBzPXttZXNzYWdlOltdLHRyYW5zZmVyTGlzdDpbXX0scj10aGlzLl9tZXNoZXMuc2VsZi5zZXJpYWxpemUoKTtyZXR1cm4gcy5tZXNzYWdlLnB1c2goe3RpbGVJZDp0aGlzLnRpbGVLZXkuaWQsLi4uci5tZXNzYWdlfSkscy50cmFuc2Zlckxpc3QucHVzaCguLi5yLnRyYW5zZmVyTGlzdCksdGhpcy5fbWVzaGVzLm5laWdoYm9ycy5mb3JFYWNoKCgocixpKT0+e2NvbnN0IG49ci5zZXJpYWxpemUoKSxoPTE8PGksbz1mKGgpLGM9dShoKSxhPW5ldyBlKHRoaXMudGlsZUtleSkuZ2V0Tm9ybWFsaXplZE5laWdoYm9yKG8sYyx0KTtzLm1lc3NhZ2UucHVzaCh7dGlsZUlkOmEuaWQsLi4ubi5tZXNzYWdlfSkscy50cmFuc2Zlckxpc3QucHVzaCguLi5uLnRyYW5zZmVyTGlzdCl9KSksc31fYWRkT3ZlcmxhcChlLHMscixpKXtjb25zdCBuPU1hdGgubWluKHQvMixyKSxoPU1hdGgubWluKHQvMixpKSxvPTI1NV4oKGU8MCtuP2Q6ZT49dC1uP186ZHxfKXwoczwwK2g/cDpzPj10LWg/bTpwfG0pKTt0aGlzLl9jdXJyZW50UmVjb3JkT3ZlcmxhcHN8PW99X2NvcHlJbnRvTmVpZ2hib3JzKCl7Zm9yKGxldCBlPTA7ZTw4O2UrKyl7Y29uc3Qgcj0xPDxlO2lmKCEhKHRoaXMuX2N1cnJlbnRSZWNvcmRPdmVybGFwcyZyKSl7aWYodGhpcy5fY29weUJ1ZmZlcmVkRGF0YUludG9TZWxmKXtjb25zdCBlPS1mKHIpKnQscz0tdShyKSp0O2lmKDAhPT1zKWNvbnRpbnVlO3RoaXMuX21lc2hlcy5zZWxmLmNvcHlMYXN0KGUscyk7Y29udGludWV9aWYoIXRoaXMuX21lc2hlcy5uZWlnaGJvcnNbZV0pe2NvbnN0IHQ9TWF0aC5mbG9vcih0aGlzLl9zaXplSGludC8xNik7dGhpcy5fbWVzaGVzLm5laWdoYm9yc1tlXT1uZXcgcyhyLHQpfWNvbnN0IGk9dGhpcy5fbWVzaGVzLm5laWdoYm9yc1tlXSxuPS1mKHIpKnQsaD0tdShyKSp0O2kuY29weUxhc3RGcm9tKHRoaXMuX21lc2hlcy5zZWxmLG4saCl9fX19ZXhwb3J0e2cgYXMgTXVsdGlUaWxlTWVzaERhdGF9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMzMvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtBTWVzaEZhY3RvcnkgYXMgZX1mcm9tXCIuL01lc2hGYWN0b3J5LmpzXCI7aW1wb3J0e2NyZWF0ZU1hdGNoZXIgYXMgdH1mcm9tXCIuLi8uLi91dGlsL2NyZWF0ZU1hdGNoZXIuanNcIjtjbGFzcyBzIGV4dGVuZHMgZXtzdGF0aWMgYXN5bmMgY3JlYXRlKGUsbyl7Y29uc3Qgcj1hd2FpdCB0KGUsby5zeW1ib2xvZ3kpLGM9by5sYWJlbHM/YXdhaXQgdChlLG8ubGFiZWxzKTpudWxsO3JldHVybiBuZXcgcyhyLGMpfWNvbnN0cnVjdG9yKGUsdCl7c3VwZXIoKSx0aGlzLl9zeW1ib2xvZ3k9ZSx0aGlzLl9sYWJlbHM9dH1kZXN0cm95KCl7fWFzeW5jIGVucXVldWVNYXRjaGVyUmVxdWVzdHMoZSx0KXthd2FpdCBQcm9taXNlLmFsbChbdGhpcy5fc3ltYm9sb2d5LmZldGNoUmVzb3VyY2VzKGUsdCksdGhpcy5fbGFiZWxzPy5mZXRjaFJlc291cmNlcyhlLHQpXSl9ZW5xdWV1ZVdyaXRlclJlcXVlc3RzKGUsdCxzLG8pe2NvbnN0IHI9dGhpcy5fc3ltYm9sb2d5Lm1hdGNoKHQscyxvKTtpZihyKXtmb3IoY29uc3QgbyBvZiByKW8uZW5xdWV1ZVJlcXVlc3QoZSx0LHMpO2lmKHRoaXMuX2xhYmVscyl7Y29uc3Qgcj10aGlzLl9sYWJlbHMubWF0Y2godCxzLG8pO2lmKCFyKXJldHVybjtmb3IoY29uc3QgbyBvZiByKW8uZW5xdWV1ZVJlcXVlc3QoZSx0LHMpfX19d3JpdGUoZSx0LHMsbyxyLGMpe2NvbnN0IGE9dGhpcy5fc3ltYm9sb2d5Lm1hdGNoKHMsbyxyKTtpZighYSlyZXR1cm47Zm9yKGNvbnN0IG4gb2YgYSluLndyaXRlKGUsdCxzLG8sYyk7aWYoZS5lbnRpdHlSZWNvcmRDb3VudCgpPj0xJiZ0aGlzLl9sYWJlbHMpe2NvbnN0IG49dGhpcy5fbGFiZWxzLm1hdGNoKHMsbyxyKTtpZighbilyZXR1cm47Zm9yKGNvbnN0IHIgb2YgbilyLnNldFJlZmVyZW5jZXMoYSksci53cml0ZShlLHQscyxvLGMpfX1nZXRTb3J0S2V5KGUsdCl7cmV0dXJuIHRoaXMuX3N5bWJvbG9neS5nZXRTb3J0S2V5KGUsdCl9aGFzQXJjYWRlRGVwZW5kZW5jeShlKXtyZXR1cm4hKCF0aGlzLl9zeW1ib2xvZ3kuaGFzQXJjYWRlRGVwZW5kZW5jeShlKSYmIXRoaXMuX2xhYmVscz8uaGFzQXJjYWRlRGVwZW5kZW5jeShlKSl9fWV4cG9ydHtzIGFzIEZlYXR1cmVNZXNoRmFjdG9yeX07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4zMy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuY2xhc3Mgc3t9ZXhwb3J0e3MgYXMgQU1lc2hGYWN0b3J5fTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjMzL2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG52YXIgZSx0OyFmdW5jdGlvbihlKXtlW2UuQW5pbWF0ZWRGaWxsPTBdPVwiQW5pbWF0ZWRGaWxsXCIsZVtlLkFuaW1hdGVkTGluZT0xXT1cIkFuaW1hdGVkTGluZVwiLGVbZS5BbmltYXRlZE1hcmtlcj0yXT1cIkFuaW1hdGVkTWFya2VyXCIsZVtlLkFuaW1hdGVkTWFya2VyU2hpZnQ9M109XCJBbmltYXRlZE1hcmtlclNoaWZ0XCIsZVtlLkJpdG1hcD00XT1cIkJpdG1hcFwiLGVbZS5CbGVuZD01XT1cIkJsZW5kXCIsZVtlLkNvbXBsZXhGaWxsPTZdPVwiQ29tcGxleEZpbGxcIixlW2UuQ29tcGxleE91dGxpbmVGaWxsPTddPVwiQ29tcGxleE91dGxpbmVGaWxsXCIsZVtlLkRvdERlbnNpdHk9OF09XCJEb3REZW5zaXR5XCIsZVtlLkZpbGw9OV09XCJGaWxsXCIsZVtlLkdyYWRpZW50RmlsbD0xMF09XCJHcmFkaWVudEZpbGxcIixlW2UuR3JhZGllbnRTdHJva2U9MTFdPVwiR3JhZGllbnRTdHJva2VcIixlW2UuR3JpZD0xMl09XCJHcmlkXCIsZVtlLkhlYXRtYXA9MTNdPVwiSGVhdG1hcFwiLGVbZS5MYWJlbD0xNF09XCJMYWJlbFwiLGVbZS5MaW5lPTE1XT1cIkxpbmVcIixlW2UuTWFnbmlmaWVyPTE2XT1cIk1hZ25pZmllclwiLGVbZS5NYXJrZXI9MTddPVwiTWFya2VyXCIsZVtlLk91dGxpbmVGaWxsPTE4XT1cIk91dGxpbmVGaWxsXCIsZVtlLk92ZXJsYXk9MTldPVwiT3ZlcmxheVwiLGVbZS5QYXR0ZXJuRmlsbD0yMF09XCJQYXR0ZXJuRmlsbFwiLGVbZS5QYXR0ZXJuT3V0bGluZUZpbGw9MjFdPVwiUGF0dGVybk91dGxpbmVGaWxsXCIsZVtlLlBpZUNoYXJ0PTIyXT1cIlBpZUNoYXJ0XCIsZVtlLlRlc3Q9MjNdPVwiVGVzdFwiLGVbZS5UZXh0PTI0XT1cIlRleHRcIixlW2UuVGV4dHVyZWRMaW5lPTI1XT1cIlRleHR1cmVkTGluZVwiLGVbZS5WaWRlb1NjcmVlbj0yNl09XCJWaWRlb1NjcmVlblwifShlfHwoZT17fSkpLGZ1bmN0aW9uKGUpe2VbZS5SYXN0ZXJDb2xvcml6ZXI9MF09XCJSYXN0ZXJDb2xvcml6ZXJcIixlW2UuUmFzdGVyUHJvY2Vzc29yPTFdPVwiUmFzdGVyUHJvY2Vzc29yXCIsZVtlLkFzcGVjdD0yXT1cIkFzcGVjdFwiLGVbZS5CYW5kQXJpdGhtZXRpYz0zXT1cIkJhbmRBcml0aG1ldGljXCIsZVtlLkNvbG9ybWFwVG9SR0I9NF09XCJDb2xvcm1hcFRvUkdCXCIsZVtlLkNvbXBvc2l0ZUJhbmQ9NV09XCJDb21wb3NpdGVCYW5kXCIsZVtlLkNvbXB1dGVDaGFuZ2U9Nl09XCJDb21wdXRlQ2hhbmdlXCIsZVtlLkNvbnRyYXN0QnJpZ2h0bmVzcz03XT1cIkNvbnRyYXN0QnJpZ2h0bmVzc1wiLGVbZS5Db252b2x1dGlvbj04XT1cIkNvbnZvbHV0aW9uXCIsZVtlLkN1cnZhdHVyZT05XT1cIkN1cnZhdHVyZVwiLGVbZS5FeHRyYWN0QmFuZD0xMF09XCJFeHRyYWN0QmFuZFwiLGVbZS5HcmF5c2NhbGU9MTFdPVwiR3JheXNjYWxlXCIsZVtlLkhpbGxzaGFkZT0xMl09XCJIaWxsc2hhZGVcIixlW2UuTG9jYWw9MTNdPVwiTG9jYWxcIixlW2UuTWFzaz0xNF09XCJNYXNrXCIsZVtlLk5EVkk9MTVdPVwiTkRWSVwiLGVbZS5SZW1hcD0xNl09XCJSZW1hcFwiLGVbZS5SZXByb2plY3Q9MTddPVwiUmVwcm9qZWN0XCIsZVtlLlNoYWRlZFJlbGllZj0xOF09XCJTaGFkZWRSZWxpZWZcIixlW2UuU2xvcGU9MTldPVwiU2xvcGVcIixlW2UuU3RhdGlzdGljcz0yMF09XCJTdGF0aXN0aWNzXCIsZVtlLlN0cmV0Y2g9MjFdPVwiU3RyZXRjaFwifSh0fHwodD17fSkpO2V4cG9ydHt0IGFzIFJhc3RlclRlY2huaXF1ZVR5cGUsZSBhcyBUZWNobmlxdWVUeXBlfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjMzL2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7RGljdGlvbmFyeVNjcmlwdEV2YWx1YXRvciBhcyB0fWZyb21cIi4uLy4uLy4uLy4uLy4uL3JlbmRlcmVycy9zdXBwb3J0L0RpY3Rpb25hcnlTY3JpcHRFdmFsdWF0b3IuanNcIjtpbXBvcnR7RmVhdHVyZU1hdGNoZXIgYXMgcn1mcm9tXCIuL01hdGNoZXIuanNcIjtjbGFzcyBlIGV4dGVuZHMgcntzdGF0aWMgYXN5bmMgZnJvbURpY3Rpb25hcnlSZW5kZXJlcihyLG8pe2NvbnN0IG49YXdhaXQgdC5mcm9tKG8uZGljdGlvbmFyeUluZm8sby51c2VyQ29uZmlnLG8uZmllbGRNYXApO3JldHVybiBuZXcgZShyLG4pfWNvbnN0cnVjdG9yKHQscil7c3VwZXIoKSx0aGlzLl9jb250ZXh0PXQsdGhpcy5fZXZhbHVhdG9yPXIsdGhpcy5fY29udHJvbFN0cmluZ1RvUHJvbWlzZT1uZXcgTWFwLHRoaXMuX2NvbnRyb2xTdHJpbmdUb0dyb3VwPW5ldyBNYXB9YXN5bmMgZmV0Y2hSZXNvdXJjZXModCxyKXtjb25zdCBlPXIuZ2V0Q3Vyc29yKCksbz1uZXcgU2V0O2Zvcig7ZS5uZXh0KCk7KXtjb25zdCB0PXRoaXMuX2V2YWx1YXRlQ29udHJvbFN0cmluZyhlKTt0JiZvLmFkZCh0KX1jb25zdCBuPUFycmF5LmZyb20oby52YWx1ZXMoKSkubWFwKChyPT50aGlzLl9lbnN1cmVHcm91cCh0LHIpKSk7YXdhaXQgUHJvbWlzZS5hbGwobil9bWF0Y2godCxyKXtjb25zdCBlPXRoaXMuX2V2YWx1YXRlQ29udHJvbFN0cmluZyh0KTtyZXR1cm4gZT90aGlzLl9jb250cm9sU3RyaW5nVG9Hcm91cC5nZXQoZSk6bnVsbH1fZXZhbHVhdGVDb250cm9sU3RyaW5nKHQpe2NvbnN0IHI9dC5yZWFkTGVnYWN5RmVhdHVyZVdvcmxkU3BhY2UoKTtyZXR1cm4gdGhpcy5fZXZhbHVhdG9yLmV2YWx1YXRlKHIsMCx0LmZpZWxkcyxudWxsKX1fZW5zdXJlR3JvdXAodCxyKXtsZXQgZT10aGlzLl9jb250cm9sU3RyaW5nVG9Qcm9taXNlLmdldChyKTtyZXR1cm4gbnVsbD09ZSYmKGU9dGhpcy5fZmV0Y2hHcm91cCh0LHIpLHRoaXMuX2NvbnRyb2xTdHJpbmdUb1Byb21pc2Uuc2V0KHIsZSkpLGV9YXN5bmMgX2ZldGNoR3JvdXAodCxyKXtjb25zdCBlPWF3YWl0IHQuZmV0Y2hEaWN0aW9uYXJ5UmVzb3VyY2VJbW1lZGlhdGUoe3R5cGU6XCJkaWN0aW9uYXJ5LXJlcXVlc3RcIixjb250cm9sU3RyaW5nOnJ9KTtpZighZSlyZXR1cm47Y29uc3Qgbz1hd2FpdCB0aGlzLl9jb250ZXh0LmNyZWF0ZU1lc2hXcml0ZXJzKGUubWVzaGVzKTt0aGlzLl9jb250cm9sU3RyaW5nVG9Hcm91cC5zZXQocixvKX19ZXhwb3J0e2UgYXMgRGljdGlvbmFyeU1hdGNoZXJ9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMzMvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtGZWF0dXJlTWF0Y2hlciBhcyBlfWZyb21cIi4vTWF0Y2hlci5qc1wiO2NsYXNzIHQgZXh0ZW5kcyBle2NvbnN0cnVjdG9yKGUsdCl7c3VwZXIoKSx0aGlzLl9pbnRlcnZhbHM9W10sdGhpcy5faXNNYXhJbmNsdXNpdmU9dCx0aGlzLl9maWVsZD1lfXN0YXRpYyBhc3luYyBmcm9tSW50ZXJ2YWxTY2hlbWEoZSxzKXtjb25zdCByPWF3YWl0IGUuc3RvcmFnZS5jcmVhdGVDb21wdXRlZEZpZWxkKHMpLGE9bmV3IHQocixzLmlzTWF4SW5jbHVzaXZlKTthd2FpdCBQcm9taXNlLmFsbChzLmludGVydmFscy5tYXAoKGFzeW5jIHQ9Pntjb25zdCBzPWF3YWl0IGUuY3JlYXRlTWVzaFdyaXRlcnModC5tZXNoZXMpO2EuYWRkKHQscyl9KSkpO2NvbnN0IGk9YXdhaXQgZS5jcmVhdGVNZXNoV3JpdGVycyhzLmRlZmF1bHRTeW1ib2wpO2Euc2V0RGVmYXVsdChpKTtjb25zdCBuPWF3YWl0IGUuY3JlYXRlTWVzaFdyaXRlcnMocy5iYWNrZ3JvdW5kRmlsbCk7cmV0dXJuIGEuc2V0QmFja2dyb3VuZEZpbGwobiksYX1hZGQoZSx0KXt0aGlzLl9pbnRlcnZhbHMucHVzaCh7aW50ZXJ2YWw6ZSxyZXN1bHQ6dH0pLHRoaXMuX2ludGVydmFscy5zb3J0KCgoZSx0KT0+ZS5pbnRlcnZhbC5taW4tdC5pbnRlcnZhbC5taW4pKX1zaXplKCl7cmV0dXJuIHN1cGVyLnNpemUoKSt0aGlzLl9pbnRlcnZhbHMubGVuZ3RofWhhc0FyY2FkZURlcGVuZGVuY3koZSl7cmV0dXJuIHRoaXMuX2ZpZWxkPy5oYXNBcmNhZGVEZXBlbmRlbmN5KGUpfHx0aGlzLl9pbnRlcnZhbHMuc29tZSgodD0+dC5yZXN1bHQuc29tZSgodD0+dC5oYXNBcmNhZGVEZXBlbmRlbmN5KGUpKSkpKX1kb01hdGNoKGUsdCl7Y29uc3Qgcz10aGlzLl9maWVsZD8ucmVhZChlLHQpO2lmKG51bGw9PXN8fGlzTmFOKHMpfHxzPT09MS8wfHxzPT09LTEvMClyZXR1cm4gbnVsbDtmb3IobGV0IHI9MDtyPHRoaXMuX2ludGVydmFscy5sZW5ndGg7cisrKXtjb25zdHtpbnRlcnZhbDplLHJlc3VsdDp0fT10aGlzLl9pbnRlcnZhbHNbcl0sYT1zPj1lLm1pbixpPXRoaXMuX2lzTWF4SW5jbHVzaXZlP3M8PWUubWF4OnM8ZS5tYXg7aWYoYSYmaSlyZXR1cm4gdH1yZXR1cm4gbnVsbH19ZXhwb3J0e3QgYXMgSW50ZXJ2YWxNYXRjaGVyfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjMzL2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7RmVhdHVyZU1hdGNoZXIgYXMgZX1mcm9tXCIuL01hdGNoZXIuanNcIjtjbGFzcyBzIGV4dGVuZHMgZXtzdGF0aWMgYXN5bmMgZnJvbUxhYmVsU2NoZW1hKGUsYSl7Y29uc3Qgcj1hLmNsYXNzZXMubWFwKChhc3luYyBzPT57Y29uc3QgYT1hd2FpdCBlLmNyZWF0ZU1lc2hXcml0ZXJzKHMubWVzaGVzKTtyZXR1cm57bWluU2NhbGU6cy5taW5TY2FsZSxtYXhTY2FsZTpzLm1heFNjYWxlLG1lc2hlczphLGV4cHJlc3Npb246bnVsbCx3aGVyZTphd2FpdCBlLnN0b3JhZ2UuY3JlYXRlV2hlcmVDbGF1c2Uocy53aGVyZSl9fSkpLHQ9YXdhaXQgUHJvbWlzZS5hbGwocik7cmV0dXJuIG5ldyBzKHQpfWNvbnN0cnVjdG9yKGUpe3N1cGVyKCksdGhpcy5fbGFiZWxzPWV9bWF0Y2goZSxzLGEpe2lmKCF0aGlzLl9sYWJlbHMubGVuZ3RoKXJldHVybiBudWxsO2NvbnN0IHI9dGhpcy5fZ2V0TGFiZWxzKHMuJHZpZXcuc2NhbGUpLHQ9W107Zm9yKGNvbnN0IGwgb2YgcilsLndoZXJlJiYhbC53aGVyZShlLGEpfHx0LnB1c2goLi4ubC5tZXNoZXMpO3JldHVybiB0fWhhc0FyY2FkZURlcGVuZGVuY3koZSl7cmV0dXJuIHRoaXMuX2xhYmVscy5zb21lKChzPT5zLm1lc2hlcy5zb21lKChzPT5zLmhhc0FyY2FkZURlcGVuZGVuY3koZSkpKSkpfV9nZXRMYWJlbHMoZSl7cmV0dXJuIHRoaXMuX2xhYmVscy5maWx0ZXIoKHM9PnRoaXMuX3ZhbGlkRm9yVGlsZVNjYWxlKHMsZSkpKX1fdmFsaWRGb3JUaWxlU2NhbGUoZSxzKXtjb25zdCBhPXMtcy80LHI9cytzLzI7cmV0dXJuKCFlLm1pblNjYWxlfHxlLm1pblNjYWxlPj1hKSYmKCFlLm1heFNjYWxlfHxlLm1heFNjYWxlPD1yKX19ZXhwb3J0e3MgYXMgTGFiZWxNYXRjaGVyfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjMzL2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7RmVhdHVyZU1hdGNoZXIgYXMgZX1mcm9tXCIuL01hdGNoZXIuanNcIjtjbGFzcyB0IGV4dGVuZHMgZXtjb25zdHJ1Y3RvcihlLHQpe3N1cGVyKCksdGhpcy5fZGVmYXVsdFN5bWJvbFNvcnRLZXk9MCx0aGlzLl9udWxsUmVzdWx0PW51bGwsdGhpcy5fcmVzdWx0c01hcD1uZXcgTWFwLHRoaXMuX2ZpZWxkcz1bXSx0aGlzLl9maWVsZHM9ZSx0aGlzLl9zZXBhcmF0b3I9dHx8XCJcIn1zdGF0aWMgYXN5bmMgZnJvbU1hdGNoZXJTY2hlbWEoZSxzKXtjb25zdCBsPXMuZXhwcmVzc2lvbj9bZS5zdG9yYWdlLmNyZWF0ZUNvbXB1dGVkRmllbGQoe2V4cHJlc3Npb246cy5leHByZXNzaW9ufSldOltzLmZpZWxkP2Uuc3RvcmFnZS5jcmVhdGVDb21wdXRlZEZpZWxkKHtmaWVsZDpzLmZpZWxkfSk6bnVsbCxzLmZpZWxkMj9lLnN0b3JhZ2UuY3JlYXRlQ29tcHV0ZWRGaWVsZCh7ZmllbGQ6cy5maWVsZDJ9KTpudWxsLHMuZmllbGQzP2Uuc3RvcmFnZS5jcmVhdGVDb21wdXRlZEZpZWxkKHtmaWVsZDpzLmZpZWxkM30pOm51bGxdLHI9KGF3YWl0IFByb21pc2UuYWxsKGwpKS5maWx0ZXIoKGU9PiEhZSkpLGk9bmV3IHQocixzLmZpZWxkRGVsaW1pdGVyKSxhPWF3YWl0IGUuY3JlYXRlTWVzaFdyaXRlcnMocy5kZWZhdWx0U3ltYm9sKTtpLnNldERlZmF1bHQoYSk7Y29uc3QgdT1hd2FpdCBlLmNyZWF0ZU1lc2hXcml0ZXJzKHMuYmFja2dyb3VuZEZpbGwpO3JldHVybiBpLnNldEJhY2tncm91bmRGaWxsKHUpLGF3YWl0IFByb21pc2UuYWxsKHMubWFwLm1hcCgoYXN5bmModCxzKT0+e2NvbnN0IGw9YXdhaXQgZS5jcmVhdGVNZXNoV3JpdGVycyh0LnN5bWJvbCk7XCI8TnVsbD5cIj09PXQudmFsdWU/aS5zZXROdWxsUmVzdWx0KGwpOmkuYWRkKHQudmFsdWUsbCxzKzEpfSkpKSxpfXNldE51bGxSZXN1bHQoZSl7dGhpcy5fbnVsbFJlc3VsdD1lfWdldFNvcnRLZXkoZSx0KXtjb25zdCBzPXRoaXMuX2dldFZhbHVlRnJvbUZpZWxkcyhlLHQpO2lmKG51bGw9PXN8fFwiXCI9PT1zfHxcIjxOdWxsPlwiPT09cylyZXR1cm4gMDtjb25zdCBsPXRoaXMuX3Jlc3VsdHNNYXAuZ2V0KHMudG9TdHJpbmcoKSk7cmV0dXJuIGw/bC5zb3J0S2V5OnRoaXMuX2RlZmF1bHRTeW1ib2xTb3J0S2V5fWFkZChlLHQscyl7dGhpcy5fcmVzdWx0c01hcC5zZXQoZS50b1N0cmluZygpLHttZXNoV3JpdGVyczp0LHNvcnRLZXk6c30pLHRoaXMuX2RlZmF1bHRTeW1ib2xTb3J0S2V5PU1hdGgubWF4KHRoaXMuX2RlZmF1bHRTeW1ib2xTb3J0S2V5LHMrMSl9c2l6ZSgpe3JldHVybiBzdXBlci5zaXplKCkrdGhpcy5fcmVzdWx0c01hcC5zaXplfWhhc0FyY2FkZURlcGVuZGVuY3koZSl7cmV0dXJuIHRoaXMuX2ZpZWxkcy5zb21lKCh0PT50Lmhhc0FyY2FkZURlcGVuZGVuY3koZSkpKXx8Wy4uLnRoaXMuX3Jlc3VsdHNNYXAudmFsdWVzKCldLnNvbWUoKHQ9PnQubWVzaFdyaXRlcnMuc29tZSgodD0+dC5oYXNBcmNhZGVEZXBlbmRlbmN5KGUpKSkpKXx8dGhpcy5fbnVsbFJlc3VsdD8uc29tZSgodD0+dC5oYXNBcmNhZGVEZXBlbmRlbmN5KGUpKSl8fCExfWRvTWF0Y2goZSx0KXtjb25zdCBzPXRoaXMuX2dldFZhbHVlRnJvbUZpZWxkcyhlLHQpO2lmKG51bGwhPT10aGlzLl9udWxsUmVzdWx0JiYobnVsbD09c3x8XCJcIj09PXN8fFwiPE51bGw+XCI9PT1zKSlyZXR1cm4gdGhpcy5fbnVsbFJlc3VsdDtpZihudWxsPT1zKXJldHVybiBudWxsO2NvbnN0IGw9cy50b1N0cmluZygpO3JldHVybiB0aGlzLl9yZXN1bHRzTWFwLmdldChsKT8ubWVzaFdyaXRlcnN9X2dldFZhbHVlRnJvbUZpZWxkcyhlLHQpe2NvbnN0IHM9W107Zm9yKGNvbnN0IGwgb2YgdGhpcy5fZmllbGRzKXtjb25zdCByPWwucmVhZChlLHQpO251bGw9PXJ8fFwiXCI9PT1yP3MucHVzaChcIjxOdWxsPlwiKTpzLnB1c2gocil9cmV0dXJuIHMuam9pbih0aGlzLl9zZXBhcmF0b3IpfX1leHBvcnR7dCBhcyBNYXBNYXRjaGVyfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjMzL2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5jbGFzcyB0e2NvbnN0cnVjdG9yKCl7dGhpcy5fZGVmYXVsdFJlc3VsdD1udWxsLHRoaXMuX2JhY2tncm91bmRGaWxsUmVzdWx0PW51bGx9c3RhdGljIGFzeW5jIGZyb20oZSxzKXtjb25zdCBsPW5ldyB0O3JldHVybiBsLnNldERlZmF1bHQoYXdhaXQgZS5jcmVhdGVNZXNoV3JpdGVycyhzLm1lc2hlcykpLGx9c2l6ZSgpe3JldHVybiAxfWdldERlZmF1bHQoKXtyZXR1cm4gdGhpcy5fZGVmYXVsdFJlc3VsdH1zZXREZWZhdWx0KHQpe3RoaXMuX2RlZmF1bHRSZXN1bHQ9dH1nZXRCYWNrZ3JvdW5kRmlsbCgpe3JldHVybiB0aGlzLl9iYWNrZ3JvdW5kRmlsbFJlc3VsdH1zZXRCYWNrZ3JvdW5kRmlsbCh0KXt0aGlzLl9iYWNrZ3JvdW5kRmlsbFJlc3VsdD10fWhhc0FyY2FkZURlcGVuZGVuY3kodCl7cmV0dXJuIHRoaXMuX2RlZmF1bHRSZXN1bHQ/LnNvbWUoKGU9PmUuaGFzQXJjYWRlRGVwZW5kZW5jeSh0KSkpPz8hMX1tYXRjaCh0LGUscyl7Y29uc3QgbD10aGlzLmRvTWF0Y2godCxlKXx8dGhpcy5nZXREZWZhdWx0KCk7aWYobCYmbC5sZW5ndGg+MCl7Y29uc3QgdD10aGlzLmdldEJhY2tncm91bmRGaWxsKCk7aWYodClyZXR1cm5bLi4udCwuLi5sXX1yZXR1cm4gbH1nZXRTb3J0S2V5KHQsZSl7cmV0dXJuIDB9ZG9NYXRjaCh0LGUpe3JldHVybiBudWxsfWFzeW5jIGZldGNoUmVzb3VyY2VzKHQsZSl7fX1leHBvcnR7dCBhcyBGZWF0dXJlTWF0Y2hlcn07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4zMy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuY2xhc3Mgc3tjb25zdHJ1Y3RvcihzLHQscixlLGkpe3RoaXMuc3RvcmFnZT1zLHRoaXMucHJveHk9dCx0aGlzLnZpZXdQYXJhbXM9cix0aGlzLnJlZ2lzdHJ5PWUsdGhpcy5maWVsZHNNYXA9aX1hc3luYyBjcmVhdGVNZXNoV3JpdGVycyhzKXtjb25zdCB0PXMubWFwKChzPT50aGlzLnJlZ2lzdHJ5LmNyZWF0ZU1lc2hXcml0ZXIodGhpcy5zdG9yYWdlLHRoaXMucHJveHksdGhpcy52aWV3UGFyYW1zLHMsdGhpcy5maWVsZHNNYXApKSk7cmV0dXJuIFByb21pc2UuYWxsKHQpfX1leHBvcnR7cyBhcyBNYXRjaGVyQ29udGV4dH07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4zMy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e2ludGVybmFsVHJhY2tQYXJ0RmllbGQgYXMgZSxUcmFja1BhcnQgYXMgdH1mcm9tXCIuLi8uLi8uLi8uLi8uLi9sYXllcnMvc3VwcG9ydC9zdHJlYW1MYXllclV0aWxzLmpzXCI7aW1wb3J0e0RpY3Rpb25hcnlNYXRjaGVyIGFzIHJ9ZnJvbVwiLi9EaWN0aW9uYXJ5TWF0Y2hlci5qc1wiO2ltcG9ydHtJbnRlcnZhbE1hdGNoZXIgYXMgYX1mcm9tXCIuL0ludGVydmFsTWF0Y2hlci5qc1wiO2ltcG9ydHtMYWJlbE1hdGNoZXIgYXMgc31mcm9tXCIuL0xhYmVsTWF0Y2hlci5qc1wiO2ltcG9ydHtNYXBNYXRjaGVyIGFzIGN9ZnJvbVwiLi9NYXBNYXRjaGVyLmpzXCI7aW1wb3J0e0ZlYXR1cmVNYXRjaGVyIGFzIG59ZnJvbVwiLi9NYXRjaGVyLmpzXCI7YXN5bmMgZnVuY3Rpb24gaShlLHQpe3N3aXRjaCh0LnR5cGUpe2Nhc2VcInNpbXBsZVwiOmNhc2VcImhlYXRtYXBcIjpjYXNlXCJkb3QtZGVuc2l0eVwiOmNhc2VcInBpZS1jaGFydFwiOnJldHVybiBuLmZyb20oZSx0KTtjYXNlXCJpbnRlcnZhbFwiOnJldHVybiBhLmZyb21JbnRlcnZhbFNjaGVtYShlLHQpO2Nhc2VcImRpY3Rpb25hcnlcIjpyZXR1cm4gci5mcm9tRGljdGlvbmFyeVJlbmRlcmVyKGUsdCk7Y2FzZVwibGFiZWxcIjpyZXR1cm4gcy5mcm9tTGFiZWxTY2hlbWEoZSx0KTtjYXNlXCJtYXBcIjpyZXR1cm4gYy5mcm9tTWF0Y2hlclNjaGVtYShlLHQpO2Nhc2VcInN1YnR5cGVcIjpyZXR1cm4gaC5mcm9tU3VidHlwZXMoZSx0KTtjYXNlXCJjbHVzdGVyXCI6cmV0dXJuIG8uZnJvbUNsdXN0ZXJTY2hlbWEoZSx0KTtjYXNlXCJ0cmFja1wiOnJldHVybiB1LmZyb21UcmFja1NjaGVtYShlLHQpO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKFwiSW1wbFwiKX19Y2xhc3MgaCBleHRlbmRzIG57Y29uc3RydWN0b3IoZSx0KXtzdXBlcigpLHRoaXMuX3N1Yk1hdGNoZXJzPWUsdGhpcy5fc3VidHlwZUZpZWxkPXR9c3RhdGljIGFzeW5jIGZyb21TdWJ0eXBlcyhlLHQpe2NvbnN0IHI9bmV3IE1hcCxhPVtdO2Zvcihjb25zdCBzIGluIHQucmVuZGVyZXJzKXtjb25zdCBjPXBhcnNlSW50KHMsMTApLG49aShlLHQucmVuZGVyZXJzW3NdKS50aGVuKChlPT5yLnNldChjLGUpKSk7YS5wdXNoKG4pfXJldHVybiBhd2FpdCBQcm9taXNlLmFsbChhKSxuZXcgaChyLHQuc3VidHlwZUZpZWxkKX1tYXRjaChlLHQscil7Y29uc3QgYT1lLnJlYWRBdHRyaWJ1dGUodGhpcy5fc3VidHlwZUZpZWxkKSxzPXRoaXMuX3N1Yk1hdGNoZXJzLmdldChhKTtyZXR1cm4gcz9zLm1hdGNoKGUsdCxyKTpudWxsfWhhc0FyY2FkZURlcGVuZGVuY3koZSl7Zm9yKGNvbnN0IHQgb2YgdGhpcy5fc3ViTWF0Y2hlcnMudmFsdWVzKCkpaWYodC5oYXNBcmNhZGVEZXBlbmRlbmN5KGUpKXJldHVybiEwO3JldHVybiExfX1jbGFzcyBvIGV4dGVuZHMgbntzdGF0aWMgYXN5bmMgZnJvbUNsdXN0ZXJTY2hlbWEoZSx0KXtjb25zdFtyLGFdPWF3YWl0IFByb21pc2UuYWxsKFtpKGUsdC5mZWF0dXJlKSxpKGUsdC5jbHVzdGVyKV0pO3JldHVybiBuZXcgbyhyLGEpfWNvbnN0cnVjdG9yKGUsdCl7c3VwZXIoKSx0aGlzLl9mZWF0dXJlTWF0Y2hlcj1lLHRoaXMuX2NsdXN0ZXJNYXRjaGVyPXR9bWF0Y2goZSx0LHIpe3JldHVybiAxPT09ZS5yZWFkQXR0cmlidXRlKFwiY2x1c3Rlcl9jb3VudFwiKT90aGlzLl9mZWF0dXJlTWF0Y2hlci5tYXRjaChlLHQscik6dGhpcy5fY2x1c3Rlck1hdGNoZXIubWF0Y2goZSx0LHIpfWhhc0FyY2FkZURlcGVuZGVuY3koZSl7cmV0dXJuIHRoaXMuX2ZlYXR1cmVNYXRjaGVyLmhhc0FyY2FkZURlcGVuZGVuY3koZSl8fHRoaXMuX2NsdXN0ZXJNYXRjaGVyLmhhc0FyY2FkZURlcGVuZGVuY3koZSl9fWNsYXNzIHUgZXh0ZW5kcyBue3N0YXRpYyBhc3luYyBmcm9tVHJhY2tTY2hlbWEoZSx0KXtjb25zdFtyLGEsc109YXdhaXQgUHJvbWlzZS5hbGwoW2koZSx0LnByZXZpb3VzT2JzZXJ2YXRpb24pLGkoZSx0LmxhdGVzdE9ic2VydmF0aW9uKSxpKGUsdC50cmFja0xpbmUpXSk7cmV0dXJuIG5ldyB1KHIsYSxzKX1jb25zdHJ1Y3RvcihlLHQscil7c3VwZXIoKSx0aGlzLl9wcmV2aW91c09ic2VydmF0aW9uTWF0Y2hlcj1lLHRoaXMuX2xhdGVzdE9ic2VydmF0aW9uTWF0Y2hlcj10LHRoaXMuX3RyYWNrTGluZU1hdGNoZXI9cn1tYXRjaChyLGEscyl7c3dpdGNoKHIucmVhZEF0dHJpYnV0ZShlKSl7Y2FzZSB0LlRyYWNrTGluZTpyZXR1cm4gdGhpcy5fdHJhY2tMaW5lTWF0Y2hlci5tYXRjaChyLGEscyk7Y2FzZSB0LkxhdGVzdE9ic2VydmF0aW9uOnJldHVybiB0aGlzLl9sYXRlc3RPYnNlcnZhdGlvbk1hdGNoZXIubWF0Y2gocixhLHMpO2Nhc2UgdC5QcmV2aW91c09ic2VydmF0aW9uOnJldHVybiB0aGlzLl9wcmV2aW91c09ic2VydmF0aW9uTWF0Y2hlci5tYXRjaChyLGEscyl9cmV0dXJuIG51bGx9aGFzQXJjYWRlRGVwZW5kZW5jeShlKXtyZXR1cm4gdGhpcy5fdHJhY2tMaW5lTWF0Y2hlci5oYXNBcmNhZGVEZXBlbmRlbmN5KGUpfHx0aGlzLl9sYXRlc3RPYnNlcnZhdGlvbk1hdGNoZXIuaGFzQXJjYWRlRGVwZW5kZW5jeShlKXx8dGhpcy5fcHJldmlvdXNPYnNlcnZhdGlvbk1hdGNoZXIuaGFzQXJjYWRlRGVwZW5kZW5jeShlKX19ZXhwb3J0e28gYXMgQ2x1c3Rlck1hdGNoZXIsaCBhcyBTdWJ0eXBlTWF0Y2hlcixpIGFzIGNyZWF0ZU1hdGNoZXJ9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMzMvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydCBlIGZyb21cIi4uLy4uLy4uLy4uL2NvcmUvRXJyb3IuanNcIjtpbXBvcnR7aGFuZGxlc0dyb3VwIGFzIHR9ZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9oYW5kbGVVdGlscy5qc1wiO2ltcG9ydCBoYXMgZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9oYXMuanNcIjtpbXBvcnR7bmV4dFRpY2sgYXMgc31mcm9tXCIuLi8uLi8uLi8uLi9jb3JlL25leHRUaWNrLmpzXCI7aW1wb3J0e3Rocm93SWZOb3RBYm9ydEVycm9yIGFzIGksY3JlYXRlUmVzb2x2ZXIgYXMgcixpZ25vcmVBYm9ydEVycm9ycyBhcyBvfWZyb21cIi4uLy4uLy4uLy4uL2NvcmUvcHJvbWlzZVV0aWxzLmpzXCI7aW1wb3J0IG4gZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9SYW5kb21MQ0cuanNcIjtpbXBvcnR7d2F0Y2ggYXMgdX1mcm9tXCIuLi8uLi8uLi8uLi9jb3JlL3JlYWN0aXZlVXRpbHMuanNcIjtpbXBvcnR7cHQycHggYXMgYX1mcm9tXCIuLi8uLi8uLi8uLi9jb3JlL3NjcmVlblV0aWxzLmpzXCI7aW1wb3J0e2lnbm9yZUNvbm5lY3Rpb25FcnJvcnMgYXMgZH1mcm9tXCIuLi8uLi8uLi8uLi9jb3JlL3dvcmtlcnMvdXRpbHMuanNcIjtpbXBvcnQgYyBmcm9tXCIuLi8uLi8uLi8uLi9sYXllcnMvc3VwcG9ydC9UaWxlSW5mby5qc1wiO2ltcG9ydHt0aWxlU2l6ZSBhcyBwfWZyb21cIi4uLy4uL2VuZ2luZS93ZWJnbC9kZWZpbml0aW9ucy5qc1wiO2ltcG9ydHtQaXBlbGluZUNvbm5lY3Rpb25IYW5kbGVycyBhcyBofWZyb21cIi4vUGlwZWxpbmVDb25uZWN0aW9uSGFuZGxlcnMuanNcIjtpbXBvcnQgbCBmcm9tXCIuL1Byb2Nlc3Nvci5qc1wiO2ltcG9ydHtGZWF0dXJlU291cmNlIGFzIGd9ZnJvbVwiLi9zb3VyY2VzL0ZlYXR1cmVTb3VyY2UuanNcIjtpbXBvcnR7RmVhdHVyZVRpbGVTdWJzY3JpcHRpb24gYXMgX31mcm9tXCIuL3NvdXJjZXMvRmVhdHVyZVRpbGVTdWJzY3JpcHRpb24uanNcIjtpbXBvcnR7VGlsZSBhcyBmfWZyb21cIi4vc3VwcG9ydC9UaWxlLmpzXCI7aW1wb3J0IGIgZnJvbVwiLi4vLi4vdGlsaW5nL1RpbGVJbmZvVmlldy5qc1wiO2NsYXNzIG17Y29uc3RydWN0b3IoZSl7dGhpcy5pbm5lcj1lLHRoaXMucmVzb2x2ZXI9cigpfX1jbGFzcyB5e2NvbnN0cnVjdG9yKCl7dGhpcy5fYWdncmVnYXRlQWRhcHRlcj17Z2V0RmVhdHVyZU9iamVjdElkczplPT50aGlzLl9wcm9jZXNzb3IuZ2V0RmVhdHVyZU9iamVjdElkc0ZvckFnZ3JlZ2F0ZShlKX0sdGhpcy5fc3Vic2NyaXB0aW9ucz1uZXcgTWFwLHRoaXMuX2NhY2hlZE9iamVjdElkcz1uZXcgU2V0LHRoaXMuX3VwZGF0ZVJlcXVlc3RlZD0hMSx0aGlzLl9kaWRTb3VyY2VSZWZyZXNoPSExLHRoaXMuX3VwZGF0ZVN1YnNjcmlwdGlvblJlcXVlc3RzPVtdLHRoaXMuX3VwZGF0ZUhpZ2hsaWdodFJlcXVlc3RzPVtdfWRlc3Ryb3koKXt0aGlzLl9zdWJzY3JpcHRpb25zLmNsZWFyKCksdGhpcy5fcHJvY2Vzc29yPy5kZXN0cm95KCksdGhpcy5fc291cmNlPy5kZXN0cm95KCksdGhpcy5faGFuZGxlcz8ucmVtb3ZlKCksdGhpcy5fdXBkYXRlT3ZlcnJpZGVzUmVxdWVzdD1udWxsLHRoaXMuX3RpbGVJbmZvVmlldz1udWxsfW9uQXR0YWNoKGUpe2hhcyhcImVzcmktMmQtdXBkYXRlLWRlYnVnXCIpJiZjb25zb2xlLmRlYnVnKFwiUGlwZWxpbmUub25BdHRhY2hcIik7Y29uc3Qgcz10aGlzLl9jb25uZWN0aW9uLGk9Yy5mcm9tSlNPTihlLnRpbGVJbmZvSlNPTik7dGhpcy5fdGlsZUluZm9WaWV3PW5ldyBiKGkpLHRoaXMuX3NvdXJjZT1uZXcgZyhlLnNlcnZpY2UsdGhpcy5fYWdncmVnYXRlQWRhcHRlcix0aGlzLl9zdWJzY3JpcHRpb25zLHMsdGhpcy5fY2FjaGVkT2JqZWN0SWRzKSx0aGlzLl9wcm9jZXNzb3I9bmV3IGwocyx0aGlzLl9zb3VyY2UpLHRoaXMuX2hhbmRsZXM9dChbdGhpcy5fc291cmNlLnN0b3JlLmV2ZW50cy5vbihcImNoYW5nZWRcIiwoKCk9PnRoaXMuX3JlcXVlc3RVcGRhdGUoKSkpLHRoaXMuX3NvdXJjZS5zdG9yZS5ldmVudHMub24oXCJyZWZyZXNoXCIsKCgpPT50aGlzLl9yZXF1ZXN0UmVmcmVzaCgpKSksdSgoKCk9PnRoaXMuX3NvdXJjZS51cGRhdGVUcmFja2luZy51cGRhdGluZyksKCgpPT57dGhpcy5fcmVxdWVzdFVwZGF0ZSgpLG8odGhpcy5fY29ubmVjdGlvbi5sYXllclZpZXcuc2V0VXBkYXRpbmcoe3NvdXJjZTp0aGlzLl9zb3VyY2UudXBkYXRlVHJhY2tpbmcudXBkYXRpbmcscGlwZWxpbmU6ITB9KSl9KSldKX1vbkRldGFjaCgpe2hhcyhcImVzcmktMmQtdXBkYXRlLWRlYnVnXCIpJiZjb25zb2xlLmRlYnVnKFwiUGlwZWxpbmUub25EZXRhY2hcIiksdGhpcy5kZXN0cm95KCl9c2V0IHJlbW90ZUNsaWVudChlKXt0aGlzLl9jb25uZWN0aW9uPW5ldyBoKGUpfWdldCBmZWF0dXJlcygpe2NvbnN0IHQ9dGhpcy5fc291cmNlPy5xdWVyeUVuZ2luZTtpZighdCl0aHJvdyBuZXcgZShcIm5vLXF1ZXJ5RW5naW5lXCIsXCJObyBxdWVyeSBlbmdpbmUgZGVmaW5lZFwiKTtyZXR1cm4gdH1nZXQgYWdncmVnYXRlcygpe2NvbnN0IHQ9dGhpcy5fcHJvY2Vzc29yPy5hZ2dyZWdhdGVRdWVyeUVuZ2luZTtpZighdCl0aHJvdyBuZXcgZShcIm5vLXF1ZXJ5RW5naW5lXCIsXCJObyBhZ2dyZWdhdGUgcXVlcnkgZW5naW5lIGRlZmluZWRcIik7cmV0dXJuIHR9Z2V0IHByb2Nlc3Nvcigpe3JldHVybiB0aGlzLl9wcm9jZXNzb3J9Z2V0IHN0cmVhbU1lc3Nlbmdlcigpe3JldHVybiB0aGlzLl9zb3VyY2Uuc3RyZWFtTWVzc2VuZ2VyfWdldERpc3BsYXlGZWF0dXJlcyhlKXtyZXR1cm4gdGhpcy5fcHJvY2Vzc29yLmdldERpc3BsYXlGZWF0dXJlcyhlKX1nZXREaXNwbGF5SWRzKGUpe3JldHVybiB0aGlzLl9wcm9jZXNzb3IuZ2V0RGlzcGxheUlkcyhlKX1nZXRPYmplY3RJZHNGcm9tR2xvYmFsSWRzKGUpe3JldHVybiB0aGlzLl9zb3VyY2UuZ2V0T2JqZWN0SWRzRnJvbUdsb2JhbElkcyhlKX1hc3luYyB1cGRhdGVTY2hlbWEoZSx0KXtyZXR1cm4gaGFzKFwiZXNyaS0yZC11cGRhdGUtZGVidWdcIikmJnRoaXMuX3VwZGF0ZVNjaGVtYVJlcXVlc3QmJmNvbnNvbGUuZXJyb3IoXCJJbnRlcm5hbEVycm9yOiBTY2hlbWEgYWxyZWFkeSB1cGRhdGluZ1wiKSx0aGlzLl91cGRhdGVTY2hlbWFSZXF1ZXN0PW5ldyBtKHtzY2hlbWE6ZSx2ZXJzaW9uOnR9KSx0aGlzLl9yZXF1ZXN0VXBkYXRlKCksdGhpcy5fdXBkYXRlU2NoZW1hUmVxdWVzdC5yZXNvbHZlci5wcm9taXNlfXVwZGF0ZVN1YnNjcmlwdGlvbnMoZSl7Y29uc3QgdD1uZXcgbShlKTtyZXR1cm4gdGhpcy5fdXBkYXRlU3Vic2NyaXB0aW9uUmVxdWVzdHMucHVzaCh0KSx0aGlzLl9yZXF1ZXN0VXBkYXRlKCksdC5yZXNvbHZlci5wcm9taXNlfXVwZGF0ZUhpZ2hsaWdodChlKXtjb25zdCB0PW5ldyBtKGUpO3JldHVybiB0aGlzLl91cGRhdGVIaWdobGlnaHRSZXF1ZXN0cy5wdXNoKHQpLHRoaXMuX3JlcXVlc3RVcGRhdGUoKSx0LnJlc29sdmVyLnByb21pc2V9YXN5bmMgYWRkUGFycXVldEZpbGUoZSl7cmV0dXJuIHRoaXMuX3NvdXJjZS5hZGRQYXJxdWV0RmlsZShlKX1hc3luYyBvbk92ZXJyaWRlKHQpe2lmKG51bGwhPXRoaXMuX3VwZGF0ZU92ZXJyaWRlc1JlcXVlc3QpdGhyb3cgbmV3IGUoXCJmZWF0dXJlbGF5ZXJcIixcIkludGVybmFsRXJyb3IgLSBBbHJlYWR5IHByb2Nlc3NpbmcgYW4gZWRpdFwiKTt0aGlzLl91cGRhdGVPdmVycmlkZXNSZXF1ZXN0PW5ldyBtKHQpO2NvbnN0IHM9dGhpcy5fdXBkYXRlT3ZlcnJpZGVzUmVxdWVzdC5yZXNvbHZlci5wcm9taXNlO3JldHVybiB0aGlzLl9yZXF1ZXN0VXBkYXRlKCksc31xdWVyeVN0YXRpc3RpY3MoKXtyZXR1cm4gdGhpcy5fc291cmNlLnN0YXRpc3RpY3MudG9KU09OKCl9YXN5bmMgcXVlcnlWaXNpYmxlRmVhdHVyZXMoZSx0KXtyZXR1cm4gdGhpcy5mZWF0dXJlcy5leGVjdXRlUXVlcnkoZSx0KX1hc3luYyBxdWVyeUhlYXRtYXBTdGF0aXN0aWNzKGUpe2NvbnN0IHQ9TWF0aC5yb3VuZChhKGUucmFkaXVzKSk7bGV0IHM9TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZLGk9TnVtYmVyLk5FR0FUSVZFX0lORklOSVRZO2NvbnN0IHI9XCJzdHJpbmdcIj09dHlwZW9mIGUuZmllbGRPZmZzZXQsbz1lLmZpZWxkT2Zmc2V0Pz8wLG49QXJyYXkuZnJvbSh0aGlzLl9zdWJzY3JpcHRpb25zLnZhbHVlcygpKSx1PXRoaXMuX3NvdXJjZS5jaHVua3MoKSxkPXQqKjIsYz0zLyhNYXRoLlBJKmQpLGg9Mip0LGw9TWF0aC5jZWlsKHAvaCk7Zm9yKGNvbnN0IGEgb2Ygbil7Y29uc3QgdD1hLnRpbGUsbj1uZXcgRmxvYXQ2NEFycmF5KGwqbCk7Zm9yKGNvbnN0IHMgb2YgdSl7Y29uc3QgaT1zLmdldFRpbGVSZWFkZXIodCk7aWYoIWkpY29udGludWU7Y29uc3QgdT1pLmdldEN1cnNvcigpO2Zvcig7dS5uZXh0KCk7KXtsZXQgdD0xO2lmKG51bGwhPWUuZmllbGQpe2NvbnN0IHM9dS5yZWFkQXR0cmlidXRlKGUuZmllbGQpO3Q9cj8tMSorczorcytvfWNvbnN0IHM9dS5yZWFkWEZvckRpc3BsYXkoKS9oLGk9dS5yZWFkWUZvckRpc3BsYXkoKS9oLGE9TWF0aC5mbG9vcihzKSxwPU1hdGguZmxvb3IoaSk7aWYoYTwwfHxwPDB8fGE+PWx8fHA+PWwpY29udGludWU7Y29uc3QgZz0oKC41K2EtcykqaCkqKjIrKCguNStwLWkpKmgpKioyO2lmKGc+ZCljb250aW51ZTtjb25zdCBfPXQqKGMqKDEtZy9kKSoqMik7bltwK2EqbF0rPV99fWZvcihsZXQgZT0wO2U8bi5sZW5ndGg7ZSsrKXM9TWF0aC5taW4ocyxuW2VdKSxpPU1hdGgubWF4KGksbltlXSl9cmV0dXJue21heDppLG1pbjpzfX1hc3luYyBnZXRTYW1wbGVGZWF0dXJlcyhlKXtjb25zdCB0PXRoaXMuX3NvdXJjZS5jaHVua3MoKTtpZih0LnJlZHVjZSgoKGUsdCk9PmUrdC5zaXplKCkpLDApPD1lLm1pbkZlYXR1cmVDb3VudCl7aWYoIXRoaXMuX3NvdXJjZS51cGRhdGVUcmFja2luZy51cGRhdGluZyl7Y29uc3QgZT1bXTtyZXR1cm4gdGhpcy5fc291cmNlLnN0b3JlLmZvckVhY2hVbnNhZmUoKHQ9PmUucHVzaCh0LnJlYWRMZWdhY3lGZWF0dXJlV29ybGRTcGFjZSgpKSkpLGV9cmV0dXJuIG51bGx9Y29uc3Qgcz1uZXcgU2V0LGk9W10scj10Lm1hcCgoZT0+ZS5yZWFkZXIuZ2V0Q3Vyc29yKCkpKSxvPW5ldyBuLHU9MyplLnNhbXBsZVNpemU7Zm9yKGxldCBuPTA7bjx1JiZpLmxlbmd0aDxlLnNhbXBsZVNpemU7bisrKXtjb25zdCBlPXJbby5nZXRJbnRSYW5nZSgwLHQubGVuZ3RoLTEpXTtpZigwPT09ZS5nZXRTaXplKCkpY29udGludWU7Y29uc3Qgbj1vLmdldEludFJhbmdlKDAsZS5nZXRTaXplKCktMSk7ZS5zZXRJbmRleChuKTtjb25zdCB1PWUuZ2V0T2JqZWN0SWQoKTtzLmhhcyh1KXx8KHMuYWRkKHUpLGkucHVzaChlLnJlYWRMZWdhY3lGZWF0dXJlV29ybGRTcGFjZSgpKSl9cmV0dXJuIGkubGVuZ3RoPj1lLnNhbXBsZVNpemU/aTpudWxsfV9yZXF1ZXN0VXBkYXRlKCl7dGhpcy5fdXBkYXRlUmVxdWVzdGVkfHwodGhpcy5fdXBkYXRlUmVxdWVzdGVkPSEwLHMoKCgpPT50aGlzLl9zY2hlZHVsZU5leHRVcGRhdGUoKSkpKX1fcmVxdWVzdFJlZnJlc2goKXt0aGlzLl9kaWRTb3VyY2VSZWZyZXNoPSEwLHRoaXMuX3JlcXVlc3RVcGRhdGUoKX1fc2NoZWR1bGVOZXh0VXBkYXRlKCl7dGhpcy5fdXBkYXRlUmVxdWVzdGVkJiYodGhpcy5fb25nb2luZ1VwZGF0ZXx8KHRoaXMuX29uZ29pbmdVcGRhdGU9ZCh0aGlzLl9kb1VwZGF0ZSgpKS5maW5hbGx5KCgoKT0+e3RoaXMuX29uZ29pbmdVcGRhdGU9bnVsbCx0aGlzLl9zY2hlZHVsZU5leHRVcGRhdGUoKX0pKSx0aGlzLl91cGRhdGVSZXF1ZXN0ZWQ9ITEpKX1fc3Vic2NyaWJlKGUpe2NvbnN0IHQ9ZS50aWxlSWQ7aWYodGhpcy5fc3Vic2NyaXB0aW9ucy5oYXModCkpcmV0dXJuO2hhcyhcImVzcmktMmQtdXBkYXRlLWRlYnVnXCIpJiZjb25zb2xlLmRlYnVnKGBUaWxlWyR7dH1dIFBpcGVsaW5lLnN1YnNjcmliZWApO2NvbnN0IHM9bmV3IGYodGhpcy5fdGlsZUluZm9WaWV3LHQpLGk9bmV3IF8ocyxlLnZlcnNpb24pO3RoaXMuX3N1YnNjcmlwdGlvbnMuc2V0KHQsaSksdGhpcy5fc291cmNlLm9uU3Vic2NyaWJlKGkpLHRoaXMuX3Byb2Nlc3Nvci5vblN1YnNjcmliZShpKX1fdW5zdWJzY3JpYmUoZSl7Y29uc3QgdD10aGlzLl9zdWJzY3JpcHRpb25zLmdldChlKTt0JiYoaGFzKFwiZXNyaS0yZC11cGRhdGUtZGVidWdcIikmJmNvbnNvbGUuZGVidWcoYFRpbGVbJHtlfV0gUGlwZWxpbmUudW5zdWJzY3JpYmVgKSx0LmFib3J0KCksdGhpcy5fc291cmNlLm9uVW5zdWJzY3JpYmUodCksdGhpcy5fcHJvY2Vzc29yLm9uVW5zdWJzY3JpYmUodCksdGhpcy5fc3Vic2NyaXB0aW9ucy5kZWxldGUodC5rZXkuaWQpKX1hc3luYyBfZG9VcGRhdGUoKXtpZihoYXMoXCJlc3JpLTJkLXVwZGF0ZS1kZWJ1Z1wiKSYmY29uc29sZS5kZWJ1ZyhcIlBpcGVsaW5lLl9kb1VwZGF0ZVN0YXJ0XCIpLGF3YWl0IHRoaXMuX2Nvbm5lY3Rpb24ubGF5ZXJWaWV3LnNldFVwZGF0aW5nKHtzb3VyY2U6dGhpcy5fc291cmNlLnVwZGF0ZVRyYWNraW5nLnVwZGF0aW5nLHBpcGVsaW5lOiEwfSksdGhpcy5fdXBkYXRlU3Vic2NyaXB0aW9uUmVxdWVzdHMubGVuZ3RoKXtjb25zdCBlPXRoaXMuX3VwZGF0ZVN1YnNjcmlwdGlvblJlcXVlc3RzO3RoaXMuX3VwZGF0ZVN1YnNjcmlwdGlvblJlcXVlc3RzPVtdO2Zvcihjb25zdCB0IG9mIGUpdGhpcy5fZG9VcGRhdGVTdWJzY3JpcHRpb25zKHQuaW5uZXIpLHQucmVzb2x2ZXIucmVzb2x2ZSgpfWlmKHRoaXMuX3VwZGF0ZUhpZ2hsaWdodFJlcXVlc3RzLmxlbmd0aCl7Y29uc3QgZT10aGlzLl91cGRhdGVIaWdobGlnaHRSZXF1ZXN0cyx0PW5ldyBTZXQscz1uZXcgU2V0O2Zvcihjb25zdCBpIG9mIGUpZm9yKGNvbnN0e29iamVjdElkOmUsaGlnaGxpZ2h0RmxhZ3M6cn1vZiBpLmlubmVyLmhpZ2hsaWdodHMpcj8odC5hZGQoZSkscy5kZWxldGUoZSkpOihzLmFkZChlKSx0LmRlbGV0ZShlKSk7dGhpcy5fc291cmNlLnByZXBhcmVDYWNoZVVwZGF0ZSh0LHMpfWNvbnN0IGU9dGhpcy5fdXBkYXRlU2NoZW1hUmVxdWVzdDt0aGlzLl91cGRhdGVTY2hlbWFSZXF1ZXN0PW51bGw7bGV0IHQ9ITE7aWYobnVsbCE9ZSl7Y29uc3R7c2NoZW1hOnMsdmVyc2lvbjppfT1lLmlubmVyO3Q9YXdhaXQgdGhpcy5fZG9VcGRhdGVTY2hlbWEocyxpKX10aGlzLl9wcm9jZXNzb3IucmVxdWlyZXNJbnZhbGlkYXRpb24oKSYmKHQ9ITApLHRoaXMuX2RpZFNvdXJjZVJlZnJlc2gmJih0PSEwLHRoaXMuX2RpZFNvdXJjZVJlZnJlc2g9ITEpLHQmJih0aGlzLl9wcm9jZXNzb3IuaW52YWxpZGF0ZSgpLGF3YWl0IHRoaXMuX2Nvbm5lY3Rpb24uY29udGFpbmVyLnVwZGF0ZVJlbmRlclN0YXRlKHRoaXMuX3Byb2Nlc3Nvci52ZXJzaW9uKSk7Y29uc3Qgcz10aGlzLl91cGRhdGVPdmVycmlkZXNSZXF1ZXN0O2lmKHRoaXMuX3VwZGF0ZU92ZXJyaWRlc1JlcXVlc3Q9bnVsbCxudWxsIT1zKXtoYXMoXCJlc3JpLTJkLXVwZGF0ZS1kZWJ1Z1wiKSYmY29uc29sZS5kZWJ1ZyhcIlBpcGVsaW5lLmFwcGx5T3ZlcnJpZGVcIixzLmlubmVyKSxudWxsIT1zLmlubmVyLmhpc3RvcmljTW9tZW50JiZ0aGlzLl9zb3VyY2UudW5zYWZlU2V0UXVlcnlIaXN0b3JpY01vbWVudChzLmlubmVyLmhpc3RvcmljTW9tZW50KTtjb25zdCBlPWF3YWl0IHRoaXMuX3NvdXJjZS5ub3JtYWxpemVPdmVycmlkZXMocy5pbm5lcik7dGhpcy5fc291cmNlLmFwcGx5T3ZlcnJpZGUoZSksaGFzKFwiZXNyaS0yZC11cGRhdGUtZGVidWdcIikmJmNvbnNvbGUuZGVidWcoXCJQaXBlbGluZS5lbmRPdmVycmlkZVwiLHMuaW5uZXIpfWlmKGF3YWl0IHRoaXMuX3NvdXJjZS5hcHBseUNhY2hlVXBkYXRlKCksdGhpcy5fdXBkYXRlSGlnaGxpZ2h0UmVxdWVzdHMubGVuZ3RoKXtjb25zdCBlPXRoaXMuX3VwZGF0ZUhpZ2hsaWdodFJlcXVlc3RzO3RoaXMuX3VwZGF0ZUhpZ2hsaWdodFJlcXVlc3RzPVtdO2Zvcihjb25zdCB0IG9mIGUpdGhpcy5fcHJvY2Vzc29yLnVwZGF0ZUhpZ2hsaWdodCh0LmlubmVyKSx0LnJlc29sdmVyLnJlc29sdmUoKX1jb25zdCByPXRoaXMuX3NvdXJjZS5jbGVhbnVwKCk7dGhpcy5fcHJvY2Vzc29yLnJlbW92ZUNodW5rcyhyKTt0cnl7Y29uc3QgZT10aGlzLl9zb3VyY2UudGFrZU92ZXJyaWRlVXBkYXRlKCk7aWYobnVsbCE9ZSYmdGhpcy5fc3Vic2NyaXB0aW9ucy5zaXplKXtoYXMoXCJlc3JpLTJkLXVwZGF0ZS1kZWJ1Z1wiKSYmY29uc29sZS5kZWJ1ZyhcIlBpcGVsaW5lLmFwcGx5T3ZlcnJpZGVDaGFuZ2VzU3RhcnRcIiksYXdhaXQgdGhpcy5fY29ubmVjdGlvbi5jb250YWluZXIubG9ja0Zvck92ZXJyaWRlcygpO3RyeXthd2FpdCB0aGlzLl9wcm9jZXNzb3IuYXBwbHlPdmVycmlkZVVwZGF0ZShlKX1jYXRjaChvKXtoYXMoXCJlc3JpLTJkLXVwZGF0ZS1kZWJ1Z1wiKSYmY29uc29sZS5kZWJ1ZyhcIkludGVybmFsRXJyb3JcIixvKX1hd2FpdCB0aGlzLl9jb25uZWN0aW9uLmNvbnRhaW5lci51bmxvY2tGb3JPdmVycmlkZXMoKSxoYXMoXCJlc3JpLTJkLXVwZGF0ZS1kZWJ1Z1wiKSYmY29uc29sZS5kZWJ1ZyhcIlBpcGVsaW5lLmFwcGx5T3ZlcnJpZGVDaGFuZ2VzRW5kXCIpfXRoaXMuX3N1YnNjcmlwdGlvbnMuc2l6ZSYmKGhhcyhcImVzcmktMmQtdXBkYXRlLWRlYnVnXCIpJiZjb25zb2xlLmRlYnVnKFwiUGlwZWxpbmUudXBkYXRlQ2h1bmtzU3RhcnRcIiksYXdhaXQgdGhpcy5fcHJvY2Vzc29yLnVwZGF0ZUNodW5rcygpLGhhcyhcImVzcmktMmQtdXBkYXRlLWRlYnVnXCIpJiZjb25zb2xlLmRlYnVnKFwiUGlwZWxpbmUudXBkYXRlQ2h1bmtzRW5kXCIpKX1jYXRjaChvKXtpKG8pfW51bGwhPXMmJnMucmVzb2x2ZXIucmVzb2x2ZSgpLG51bGwhPWUmJmUucmVzb2x2ZXIucmVzb2x2ZSgpLG51bGw9PWUmJnQmJmF3YWl0IHRoaXMuX2Nvbm5lY3Rpb24uY29udGFpbmVyLnRyeVN3YXBSZW5kZXJTdGF0ZSgpLHRoaXMuX3VwZGF0ZVJlcXVlc3RlZD8oaGFzKFwiZXNyaS0yZC11cGRhdGUtZGVidWdcIikmJmNvbnNvbGUuZGVidWcoXCJQaXBlbGluZS5fZG9VcGRhdGVFbmQgW3VwZGF0ZVJlcXVlc3RlZD10cnVlXVwiKSxhd2FpdCB0aGlzLl9jb25uZWN0aW9uLmxheWVyVmlldy5zZXRVcGRhdGluZyh7c291cmNlOnRoaXMuX3NvdXJjZS51cGRhdGVUcmFja2luZy51cGRhdGluZyxwaXBlbGluZTohMH0pKTooaGFzKFwiZXNyaS0yZC11cGRhdGUtZGVidWdcIikmJmNvbnNvbGUuZGVidWcoXCJQaXBlbGluZS5fZG9VcGRhdGVFbmQgW3VwZGF0ZVJlcXVlc3RlZD1mYWxzZSwgQWZ0ZXIgZmx1c2hdXCIpLGF3YWl0IHRoaXMuX2Nvbm5lY3Rpb24ubGF5ZXJWaWV3LnNldFVwZGF0aW5nKHtzb3VyY2U6dGhpcy5fc291cmNlLnVwZGF0ZVRyYWNraW5nLnVwZGF0aW5nLHBpcGVsaW5lOnRoaXMuX3VwZGF0ZVJlcXVlc3RlZH0pKX1hc3luYyBfZG9VcGRhdGVTY2hlbWEoZSx0KXtoYXMoXCJlc3JpLTJkLXVwZGF0ZS1kZWJ1Z1wiKSYmY29uc29sZS5kZWJ1ZyhgVmVyc2lvblske3R9XSBQaXBlbGluZS51cGRhdGVTdGFydGAse3NjaGVtYTplfSk7Y29uc3Qgcz17dGlsZUluZm86dGhpcy5fdGlsZUluZm9WaWV3Py50aWxlSW5mb30saT1hd2FpdCB0aGlzLl9zb3VyY2UudXBkYXRlKGUsdCkscj1BcnJheS5mcm9tKHRoaXMuX3N1YnNjcmlwdGlvbnMudmFsdWVzKCkpLG89dGhpcy5fcHJvY2Vzc29yLnVwZGF0ZShlLHQscyxpLHIpO3JldHVybiBoYXMoXCJlc3JpLTJkLXVwZGF0ZS1kZWJ1Z1wiKSYmY29uc29sZS5kZWJ1ZyhgVmVyc2lvblske3R9XSBQaXBlbGluZS51cGRhdGVFbmRgKSxvfV9kb1VwZGF0ZVN1YnNjcmlwdGlvbnMoZSl7aGFzKFwiZXNyaS0yZC11cGRhdGUtZGVidWdcIikmJmNvbnNvbGUuZGVidWcoXCJQaXBlbGluZS51cGRhdGVTdWJzY3JpcHRpb25zXCIsZSk7Zm9yKGNvbnN0IHQgb2YgZS5zdWJzY3JpYmUpdGhpcy5fc3Vic2NyaWJlKHQpO2Zvcihjb25zdCB0IG9mIGUudW5zdWJzY3JpYmUpdGhpcy5fdW5zdWJzY3JpYmUodCl9fWV4cG9ydHt5IGFzIGRlZmF1bHR9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMzMvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtyIGFzIG59ZnJvbVwiLi4vLi4vLi4vLi4vY2h1bmtzL3JidXNoLmpzXCI7aW1wb3J0e2NyZWF0ZSBhcyBzfWZyb21cIi4uLy4uLy4uLy4uL2dlb21ldHJ5L3N1cHBvcnQvYWFCb3VuZGluZ0JveC5qc1wiO2NsYXNzIHR7c3RhdGljIGZyb21SZWFkZXIobyl7Y29uc3QgZT1bXSxyPW8uY29weSgpLGE9cygpO2Zvcig7ci5uZXh0KCk7KXtyLmdldEJvdW5kcyhhKSYmZS5wdXNoKHIuZ2V0SW5kZXgoKSl9Y29uc3QgaT1uKDksKG49PihyLnNldEluZGV4KG4pLHttaW5YOnIuZ2V0Qm91bmRzWE1pbigpLG1pblk6ci5nZXRCb3VuZHNZTWluKCksbWF4WDpyLmdldEJvdW5kc1hNYXgoKSxtYXhZOnIuZ2V0Qm91bmRzWU1heCgpfSkpKTtyZXR1cm4gaS5sb2FkKGUpLG5ldyB0KGkpfWNvbnN0cnVjdG9yKG4pe3RoaXMuX2luZGV4PW59c2VhcmNoKG4pe2NvbnN0IHM9e21pblg6blswXSxtaW5ZOm5bMV0sbWF4WDpuWzJdLG1heFk6blszXX07cmV0dXJuIHRoaXMuX2luZGV4LnNlYXJjaChzKX19ZXhwb3J0e3QgYXMgRmVhdHVyZVNwYXRpYWxJbmRleH07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4zMy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuY2xhc3MgdHtzdGF0aWMgZnJvbShlKXtsZXQgbj0wLHI9MCxvPTA7cmV0dXJuIGUuZm9yRWFjaCgodD0+e2NvbnN0IGU9dC5fcmVhZEdlb21ldHJ5KCk7ZSYmKHIrPWUuaXNQb2ludD8xOmUubGVuZ3Rocy5yZWR1Y2UoKCh0LGUpPT50K2UpLDApLG8rPWUuaXNQb2ludD8xOmUubGVuZ3Rocy5sZW5ndGgsbis9MSl9KSksbmV3IHQobixyLG8pfWNvbnN0cnVjdG9yKHQsZSxuKXt0aGlzLmZlYXR1cmVDb3VudD10LHRoaXMudmVydGV4Q291bnQ9ZSx0aGlzLnJpbmdDb3VudD1ufXRvSlNPTigpe3JldHVybntmZWF0dXJlQ291bnQ6dGhpcy5mZWF0dXJlQ291bnQscmluZ0NvdW50OnRoaXMuZmVhdHVyZUNvdW50LHZlcnRleENvdW50OnRoaXMuZmVhdHVyZUNvdW50fX19ZXhwb3J0e3QgYXMgRmVhdHVyZVN0b3JlU3RhdGlzdGljc307XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4zMy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e2lnbm9yZUNvbm5lY3Rpb25FcnJvcnMgYXMgZX1mcm9tXCIuLi8uLi8uLi8uLi9jb3JlL3dvcmtlcnMvdXRpbHMuanNcIjtjbGFzcyB0e2NvbnN0cnVjdG9yKGUpe3RoaXMuX2NsaWVudD1lLHRoaXMubGF5ZXJWaWV3PXRoaXMuX2NsaWVudC5jcmVhdGVJbnZva2VQcm94eShcIlwiKSx0aGlzLmNvbnRhaW5lcj10aGlzLl9jbGllbnQuY3JlYXRlSW52b2tlUHJveHkoXCJjb250YWluZXJcIiksdGhpcy5fZXZlbnRMb2c9dGhpcy5fY2xpZW50LmNyZWF0ZUludm9rZVByb3h5KFwiZXZlbnRMb2dcIil9b25FdmVudCh0KXtlKHRoaXMuX2V2ZW50TG9nLm9uRXZlbnQodCkpfX1leHBvcnR7dCBhcyBQaXBlbGluZUNvbm5lY3Rpb25IYW5kbGVyc307XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4zMy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0IGhhcyBmcm9tXCIuLi8uLi8uLi8uLi9jb3JlL2hhcy5qc1wiO2ltcG9ydHtkZXN0cm95TWF5YmUgYXMgZX1mcm9tXCIuLi8uLi8uLi8uLi9jb3JlL21heWJlLmpzXCI7aW1wb3J0e25vdERlZXBFcXVhbCBhcyB0fWZyb21cIi4uLy4uLy4uLy4uL2NvcmUvb2JqZWN0LmpzXCI7aW1wb3J0e3Rocm93SWZOb3RBYm9ydEVycm9yIGFzIHMsdGhyb3dJZkFib3J0ZWQgYXMgcixhZnRlciBhcyBpfWZyb21cIi4uLy4uLy4uLy4uL2NvcmUvcHJvbWlzZVV0aWxzLmpzXCI7aW1wb3J0e2RpZmYgYXMgYX1mcm9tXCIuLi8uLi8uLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kaWZmVXRpbHMuanNcIjtpbXBvcnR7aWdub3JlQ29ubmVjdGlvbkVycm9ycyBhcyBvfWZyb21cIi4uLy4uLy4uLy4uL2NvcmUvd29ya2Vycy91dGlscy5qc1wiO2ltcG9ydCBuIGZyb21cIi4uLy4uLy4uLy4uL2dlb21ldHJ5L1NwYXRpYWxSZWZlcmVuY2UuanNcIjtpbXBvcnR7TXVsdGlUaWxlTWVzaERhdGEgYXMgY31mcm9tXCIuLi8uLi9lbmdpbmUvd2ViZ2wvbWVzaC9NdWx0aVRpbGVNZXNoRGF0YS5qc1wiO2ltcG9ydHtGZWF0dXJlTWVzaEZhY3RvcnkgYXMgaH1mcm9tXCIuLi8uLi9lbmdpbmUvd2ViZ2wvbWVzaC9mYWN0b3JpZXMvRmVhdHVyZU1lc2hGYWN0b3J5LmpzXCI7aW1wb3J0e1Jlc291cmNlUHJveHkgYXMgdX1mcm9tXCIuLi8uLi9lbmdpbmUvd2ViZ2wvbWVzaC9mYWN0b3JpZXMvUmVzb3VyY2VQcm94eS5qc1wiO2ltcG9ydHtNZXNoV3JpdGVyUmVnaXN0cnkgYXMgcH1mcm9tXCIuLi8uLi9lbmdpbmUvd2ViZ2wvc2hhZGVyR3JhcGgvdGVjaG5pcXVlcy9tZXNoL01lc2hXcml0ZXJSZWdpc3RyeS5qc1wiO2ltcG9ydHtNYXRjaGVyQ29udGV4dCBhcyBnfWZyb21cIi4uLy4uL2VuZ2luZS93ZWJnbC91dGlsL01hdGNoZXJDb250ZXh0LmpzXCI7aW1wb3J0e1Byb2Nlc3NvclRpbGVNZXNzYWdlUXVldWUgYXMgeX1mcm9tXCIuL1Byb2Nlc3NvclRpbGVNZXNzYWdlUXVldWUuanNcIjtpbXBvcnR7QmlubmluZ1N0cmF0ZWd5IGFzIGR9ZnJvbVwiLi9wcm9jZXNzb3IvQmlubmluZ1N0cmF0ZWd5LmpzXCI7aW1wb3J0e0NsdXN0ZXJTdHJhdGVneSBhcyBffWZyb21cIi4vcHJvY2Vzc29yL0NsdXN0ZXJTdHJhdGVneS5qc1wiO2ltcG9ydHtGZWF0dXJlVXBkYXRlU3RyYXRlZ3kgYXMgbH1mcm9tXCIuL3Byb2Nlc3Nvci9GZWF0dXJlVXBkYXRlU3RyYXRlZ3kuanNcIjtpbXBvcnR7VHJhY2tTdHJhdGVneSBhcyBtfWZyb21cIi4vcHJvY2Vzc29yL1RyYWNrU3RyYXRlZ3kuanNcIjtpbXBvcnR7QXR0cmlidXRlU3RvcmUgYXMgZn1mcm9tXCIuL3N1cHBvcnQvQXR0cmlidXRlU3RvcmUuanNcIjtpbXBvcnR7Q29tcHV0ZWRBdHRyaWJ1dGVTdG9yYWdlIGFzIGJ9ZnJvbVwiLi9zdXBwb3J0L0NvbXB1dGVkQXR0cmlidXRlU3RvcmFnZS5qc1wiO2NsYXNzIHd7Y29uc3RydWN0b3IoZSx0KXt0aGlzLl9jb25uZWN0aW9uPWUsdGhpcy5fc291cmNlPXQsdGhpcy5fdmVyc2lvbj0xLHRoaXMuX3JlZ2lzdHJ5PW5ldyBwLHRoaXMuX3Byb3h5PW5ldyB1KHtmZXRjaDooZSx0KT0+dGhpcy5fY29ubmVjdGlvbi5sYXllclZpZXcuZmV0Y2goZSx0KSxmZXRjaERpY3Rpb25hcnk6KGUsdCk9PnRoaXMuX2Nvbm5lY3Rpb24ubGF5ZXJWaWV3LmZldGNoRGljdGlvbmFyeShlLHQpfSksdGhpcy5fYXR0cmlidXRlU3RvcmU9bmV3IGYoe2lzTG9jYWw6ITEsdXBkYXRlOmU9Pm8odGhpcy5fY29ubmVjdGlvbi5jb250YWluZXIudXBkYXRlQXR0cmlidXRlVmlldyhlKSl9KX1kZXN0cm95KCl7dGhpcy5fcHJveHkuZGVzdHJveSgpLHRoaXMuX3N0cmF0ZWd5Py5kZXN0cm95KCksdGhpcy5fYXR0cmlidXRlU3RvcmUuZGVzdHJveSgpfWdldCBhZ2dyZWdhdGVRdWVyeUVuZ2luZSgpe3JldHVybiB0aGlzLl9zdHJhdGVneT8uYWdncmVnYXRlUXVlcnlFbmdpbmV9Z2V0IHZlcnNpb24oKXtyZXR1cm4gdGhpcy5fdmVyc2lvbn1nZXREaXNwbGF5RmVhdHVyZXMoZSl7cmV0dXJuIHRoaXMuX3N0cmF0ZWd5P3RoaXMuX3N0cmF0ZWd5LmdldERpc3BsYXlGZWF0dXJlcyhlKTp7ZmVhdHVyZXM6W10sYWdncmVnYXRlczpbXSx0cmFja3M6W119fWdldERpc3BsYXlJZHMoZSl7Y29uc3QgdD17fTtyZXR1cm4gdGhpcy5fc3RyYXRlZ3k/KHRoaXMuX3N0cmF0ZWd5LmRpc3BsYXlNYXAoZSwoZT0+ZSksKChlLHMscik9Pnt0W3JdPWV9KSksdCk6dH1nZXRGZWF0dXJlT2JqZWN0SWRzRm9yQWdncmVnYXRlKGUpe3JldHVybiB0aGlzLl9zdHJhdGVneT90aGlzLl9zdHJhdGVneS5nZXRGZWF0dXJlT2JqZWN0SWRzRm9yQWdncmVnYXRlKGUpOltdfW9uU3Vic2NyaWJlKGUpe3RoaXMuX3N0cmF0ZWd5Py5vblN1YnNjcmliZShlKX1vblVuc3Vic2NyaWJlKGUpe3RoaXMuX3N0cmF0ZWd5Py5vblVuc3Vic2NyaWJlKGUpfXJlcXVpcmVzSW52YWxpZGF0aW9uKCl7cmV0dXJuIHRoaXMuX3N0cmF0ZWd5Py5yZXF1aXJlc0ludmFsaWRhdGlvbigpPz8hMX1hc3luYyB1cGRhdGUoZSxzLHIsaSxvKXtjb25zdCBjPWUucHJvY2Vzc29yLHU9dCh0aGlzLl9zY2hlbWE/LnN0b3JhZ2UsYy5zdG9yYWdlKSxwPXQodGhpcy5fc2NoZW1hPy5tZXNoLnByb3BlcnRpZXMsYy5tZXNoLnByb3BlcnRpZXMpLHk9dCh0aGlzLl9zY2hlbWE/Lm1lc2guZmFjdG9yeSxjLm1lc2guZmFjdG9yeSksZD10KHRoaXMuX3NjaGVtYT8ubWVzaC5zdHJhdGVneSxjLm1lc2guc3RyYXRlZ3kpLF89Uyh0aGlzLl9zY2hlbWE/LmV4cHJlc3Npb25Qcm9wZXJ0aWVzLGMuZXhwcmVzc2lvblByb3BlcnRpZXMpLGw9Xy5zb21lKChlPT50aGlzLl9hdHRyaWJ1dGVTdG9yZS5oYXNBcmNhZGVEZXBlbmRlbmN5KGUpKSksbT1fLnNvbWUoKGU9PnRoaXMuX2ZhY3Rvcnk/Lmhhc0FyY2FkZURlcGVuZGVuY3koZSk/PyExKSksZj1fLnNvbWUoKGU9PnRoaXMuX3N0cmF0ZWd5Py5oYXNBcmNhZGVEZXBlbmRlbmN5KGUpKSl8fHRoaXMuX3N0cmF0ZWd5Py5pc0FnZ3JlZ2F0ZSYmbCx3PW18fGYsST1wfHx5fHxkO2lmKCEodXx8SXx8KG18fGx8fGYpKSYmIWkpcmV0dXJuITE7aGFzKFwiZXNyaS0yZC11cGRhdGUtZGVidWdcIikmJmNvbnNvbGUuZGVidWcoYFZlcnNpb25bJHt0aGlzLl92ZXJzaW9ufV0gU3ltYm9sUHJvY2Vzc29yLnVwZGF0ZWAse2NoYW5nZXM6YSh0aGlzLl9zY2hlbWEsYyksc2NoZW1hOmN9KSx0aGlzLl9zY2hlbWE9Yztjb25zdCB4PW4uZnJvbUpTT04odGhpcy5fc291cmNlLnNlcnZpY2Uub3V0U3BhdGlhbFJlZmVyZW5jZSksdj1uZXcgYih7ZmllbGRzOnRoaXMuX3NvdXJjZS5tZXRhZGF0YS5maWVsZHNJbmRleCxzcGF0aWFsUmVmZXJlbmNlOnh9KSxNPXtjdXJyZW50VXNlcjpjLm1lc2gucHJvcGVydGllcy5jdXJyZW50VXNlcn07aWYoKHV8fEl8fGwpJiYoYXdhaXQgdGhpcy5fYXR0cmlidXRlU3RvcmUudXBkYXRlKGMuc3RvcmFnZSx2LHRoaXMuX3NvdXJjZS5tZXRhZGF0YSxzKSx0aGlzLl9zdHJhdGVneT8uaW52YWxpZGF0ZUF0dHJpYnV0ZURhdGEoaihjKSkpLCFpJiYhSSYmIXcpcmV0dXJuITE7KGR8fHB8fHcpJiZhd2FpdCB0aGlzLl91cGRhdGVTdHJhdGVneShjLm1lc2guc3RyYXRlZ3kseCxvLGooYyksTSksdGhpcy5fdXBkYXRlU29ydEtleSh2LFwic29ydEtleVwiaW4gYy5tZXNoLnByb3BlcnRpZXM/Yy5tZXNoLnByb3BlcnRpZXMuc29ydEtleTpudWxsKTtjb25zdCBrPVwiZGljdGlvbmFyeVwiPT09Yy5tZXNoLmZhY3Rvcnkuc3ltYm9sb2d5LnR5cGU/Yy5tZXNoLmZhY3Rvcnkuc3ltYm9sb2d5LmZpZWxkTWFwOm51bGwsVT1uZXcgZyh2LHRoaXMuX3Byb3h5LHIsdGhpcy5fcmVnaXN0cnksayk7cmV0dXJuKHl8fFwiZGljdGlvbmFyeVwiPT09Yy5tZXNoLmZhY3Rvcnkuc3ltYm9sb2d5LnR5cGUpJiYodGhpcy5fZmFjdG9yeT1hd2FpdCBoLmNyZWF0ZShVLGMubWVzaC5mYWN0b3J5KSksdGhpcy5fdmVyc2lvbj1zLCEwfWFzeW5jIGFwcGx5T3ZlcnJpZGVVcGRhdGUoZSl7aWYoIXRoaXMuX3N0cmF0ZWd5KXJldHVybjtjb25zdCB0PXRoaXMuX3N0cmF0ZWd5LmFwcGx5T3ZlcnJpZGVVcGRhdGUoZSk7Zm9yIGF3YWl0KGNvbnN0IHIgb2YgdCl0cnl7YXdhaXQgdGhpcy5fcHJvY2VzcyhyKX1jYXRjaChzKXt9fWFzeW5jIHVwZGF0ZUNodW5rcygpe2F3YWl0IHRoaXMuX2RvVXBkYXRlQ2h1bmtzKCksdGhpcy5fc3RyYXRlZ3k/LmFmdGVyVXBkYXRlQ2h1bmtzKCl9YXN5bmMgcmVtb3ZlQ2h1bmtzKGUpe3RoaXMuX3N0cmF0ZWd5Py5yZW1vdmVDaHVua3MoZSksdGhpcy5fYXR0cmlidXRlU3RvcmUuaW5jcmVtZW50RGlzcGxheUlkR2VuZXJhdGlvbigpfXVwZGF0ZUhpZ2hsaWdodCh7aGlnaGxpZ2h0czplfSl7aWYoIXRoaXMuX3N0cmF0ZWd5fHwhdGhpcy5fc3RyYXRlZ3kuaGFzU3Vic2NyaWJlcnMpcmV0dXJuIHZvaWQgdGhpcy5fYXR0cmlidXRlU3RvcmUuc2V0SGlnaGxpZ2h0KGUubWFwKCgoe29iamVjdElkOmUsaGlnaGxpZ2h0RmxhZ3M6dH0pPT4oe29iamVjdElkOmUsaGlnaGxpZ2h0RmxhZ3M6dCxkaXNwbGF5SWQ6LTF9KSkpLGUpO2NvbnN0IHQ9dGhpcy5fc3RyYXRlZ3kuZGlzcGxheU1hcChlLCgoe29iamVjdElkOmV9KT0+ZSksKChlLHtoaWdobGlnaHRGbGFnczp0fSxzKT0+KHtvYmplY3RJZDpzLGRpc3BsYXlJZDplLGhpZ2hsaWdodEZsYWdzOnR9KSkpO3RoaXMuX2F0dHJpYnV0ZVN0b3JlLnNldEhpZ2hsaWdodCh0LGUpfWludmFsaWRhdGUoKXt0aGlzLl9zdHJhdGVneSYmdGhpcy5fc3RyYXRlZ3kuaW52YWxpZGF0ZSgpfWFzeW5jIF9kb1VwZGF0ZUNodW5rcygpe2lmKCF0aGlzLl9zdHJhdGVneSlyZXR1cm47Y29uc3QgZT10aGlzLl9zdHJhdGVneS51cGRhdGVDaHVua3MoKSx0PVtdLHI9bmV3IE1hcDtmb3IgYXdhaXQoY29uc3QgYSBvZiBlKXtsZXQgZT1yLmdldChhLmlkKTtudWxsPT1lJiYoZT1uZXcgeSh7Y29uY3VycmVuY3k6MTYscHJvY2VzczplPT50aGlzLl9wcm9jZXNzKGUpfSksci5zZXQoYS5pZCxlKSk7Y29uc3QgaT1lLnB1c2goYSkuY2F0Y2goKGU9PnMoZSkpKTt0LnB1c2goaSl9dHJ5e2F3YWl0IFByb21pc2UuYWxsKHQpfWNhdGNoKGkpe31oYXMoXCJlc3JpLTJkLXVwZGF0ZS1kZWJ1Z1wiKSYmY29uc29sZS5sb2coXCJTZW5kVXBkYXRlc1wiKSx0aGlzLl9hdHRyaWJ1dGVTdG9yZS5zZW5kVXBkYXRlcygpLGhhcyhcImVzcmktMmQtdXBkYXRlLWRlYnVnXCIpJiZjb25zb2xlLmxvZyhcIlNlbmRVcGRhdGVzLmF3YWl0XCIpfWFzeW5jIF91cGRhdGVTdHJhdGVneShlLHQscyxyLGkpe3N3aXRjaCh0aGlzLl9zdHJhdGVneT8uZGVzdHJveSgpLGUudHlwZSl7Y2FzZVwiZmVhdHVyZVwiOnRoaXMuX3N0cmF0ZWd5PW5ldyBsKHRoaXMuX3NvdXJjZSx0aGlzLl9hdHRyaWJ1dGVTdG9yZSxyLGkpO2JyZWFrO2Nhc2VcImJpbm5pbmdcIjp0aGlzLl9zdHJhdGVneT1hd2FpdCBkLmNyZWF0ZShlLHQsdGhpcy5fc291cmNlLHRoaXMuX2F0dHJpYnV0ZVN0b3JlLHIsaSk7YnJlYWs7Y2FzZVwiY2x1c3RlclwiOnRoaXMuX3N0cmF0ZWd5PWF3YWl0IF8uY3JlYXRlKHRoaXMuX2Nvbm5lY3Rpb24sZSx0LHRoaXMuX3NvdXJjZSx0aGlzLl9hdHRyaWJ1dGVTdG9yZSxyLGkpO2JyZWFrO2Nhc2VcInRyYWNrXCI6dGhpcy5fc3RyYXRlZ3k9YXdhaXQgbS5jcmVhdGUoZSx0LHRoaXMuX3NvdXJjZSx0aGlzLl9hdHRyaWJ1dGVTdG9yZSxyLGkpfWZvcihjb25zdCBhIG9mIHMpdGhpcy5fc3RyYXRlZ3kub25TdWJzY3JpYmUoYSl9YXN5bmMgX3VwZGF0ZVNvcnRLZXkodCxzKXtpZih0aGlzLl9zb3J0SW5mbz1lKHRoaXMuX3NvcnRJbmZvPy5jb21wdXRlZCksbnVsbCE9cyl7Y29uc3QgZT1zLmJ5UmVuZGVyZXI/bnVsbDphd2FpdCB0LmNyZWF0ZUNvbXB1dGVkRmllbGQocyk7dGhpcy5fc29ydEluZm89ey4uLnMsY29tcHV0ZWQ6ZX19fWFzeW5jIF9wcm9jZXNzKGUpe2NvbnN0IHQ9ZS5zdWJzY3JpcHRpb247aWYoaGFzKFwiZXNyaS0yZC11cGRhdGUtZGVidWdcIikpe2NvbnN0IHM9dC50aWxlO2NvbnNvbGUuZGVidWcoYFZlcnNpb25bJHt0aGlzLl92ZXJzaW9ufV0gVGlsZVske3Mua2V5LmlkfSwgZW5kPSR7ZS5lbmR9XSBQcm9jZXNzb3IuX3Byb2Nlc3NgKX1jb25zdCBzPXtjdXJyZW50VXNlcjp0aGlzLl9zY2hlbWE/Lm1lc2gucHJvcGVydGllcy5jdXJyZW50VXNlcn07YXdhaXQgdGhpcy5fZmV0Y2hSZXNvdXJjZXMoZSxzKSxyKHQuc2lnbmFsKTtjb25zdCBpPWF3YWl0IHRoaXMuX3dyaXRlKGUsdC50aWxlLmNyZWF0ZUFyY2FkZUV2YWx1YXRpb25PcHRpb25zKGoodGhpcy5fc2NoZW1hKSkscyksYT10LnRpbGUudGlsZUluZm9WaWV3LmdldExPREluZm9BdCh0LnRpbGUua2V5KTtyKHQuc2lnbmFsKTtjb25zdHttZXNzYWdlOm8sdHJhbnNmZXJMaXN0Om59PWkuc2VyaWFsaXplKGEpLGM9e29iamVjdElkTWFwOm51bGwsaW5uZXI6ZS5jcmVhdGVNZXNzYWdlKG8sdGhpcy5fdmVyc2lvbix0aGlzLl9hdHRyaWJ1dGVTdG9yZS5lcG9jaCl9O2lmKHRoaXMuX3NjaGVtYT8ubWVzaC5wcm9wZXJ0aWVzLnJldHVybk1lc2hPYmplY3RJZCl7Yy5vYmplY3RJZE1hcD17fTtjb25zdCB0PWUucmVhZGVyPy5nZXRDdXJzb3IoKTtpZih0KWZvcig7dC5uZXh0KCk7KWMub2JqZWN0SWRNYXBbdC5nZXREaXNwbGF5SWQoKV09dC5nZXRPYmplY3RJZCgpfWlmKHIodC5zaWduYWwpLGF3YWl0IHRoaXMuX2Nvbm5lY3Rpb24uY29udGFpbmVyLm9uTWVzc2FnZShjLHtzaWduYWw6dC5zaWduYWwsdHJhbnNmZXJMaXN0Om59KSx0aGlzLl9hdHRyaWJ1dGVTdG9yZS5zZW5kVXBkYXRlcygpLGhhcyhcImVzcmktMmQtdXBkYXRlLWRlYnVnXCIpKXtjb25zdCBzPXQudGlsZTtjb25zb2xlLmRlYnVnKGBWZXJzaW9uWyR7dGhpcy5fdmVyc2lvbn1dIFRpbGVbJHtzLmtleS5pZH0sIGVuZD0ke2UuZW5kfV0gUHJvY2Vzc29yLl9wcm9jZXNzLmF3YWl0YCl9fWFzeW5jIF9mZXRjaFJlc291cmNlcyhlLHQpe2F3YWl0IHRoaXMuX2ZldGNoTWF0Y2hlclJlc291cmNlcyhlKSxhd2FpdCB0aGlzLl9mZXRjaFdyaXRlclJlc291cmNlcyhlLHQpfWFzeW5jIF9mZXRjaE1hdGNoZXJSZXNvdXJjZXMoZSl7aWYoZS5yZWFkZXIpcmV0dXJuIHRoaXMuX2ZhY3RvcnkuZW5xdWV1ZU1hdGNoZXJSZXF1ZXN0cyh0aGlzLl9wcm94eSxlLnJlYWRlcil9YXN5bmMgX2ZldGNoV3JpdGVyUmVzb3VyY2VzKGUsdCl7aWYoIWUucmVhZGVyKXJldHVybjtjb25zdCBzPWUucmVhZGVyLmdldEN1cnNvcigpLHI9ZS5zdWJzY3JpcHRpb24udGlsZS5jcmVhdGVBcmNhZGVFdmFsdWF0aW9uT3B0aW9ucyhqKHRoaXMuX3NjaGVtYSkpO2Zvcig7cy5uZXh0KCk7KXRoaXMuX2ZhY3RvcnkuZW5xdWV1ZVdyaXRlclJlcXVlc3RzKHRoaXMuX3Byb3h5LHMscix0KTthd2FpdCB0aGlzLl9wcm94eS5mZXRjaEVucXVldWVkUmVzb3VyY2VzKCl9YXN5bmMgX3dyaXRlKGUsdCxzKXtjb25zdCBhPWUuc3Vic2NyaXB0aW9uLnRpbGUsbz1lLnJlYWRlcj8uZ2V0Q3Vyc29yKCksbj1vPy5nZXRTaXplKCk/PzAsaD1hLnRpbGVJbmZvVmlldy50aWxlSW5mby5pc1dyYXBwYWJsZSx1PWEudGlsZUluZm9WaWV3LnRpbGVJbmZvLnNwYXRpYWxSZWZlcmVuY2UuaXNXR1M4NCxwPW5ldyBjKGEua2V5LHRoaXMuX3N0cmF0ZWd5LmVuYWJsZVBpeGVsQnVmZmVyaW5nLGgsdSxuKTtpZighbylyZXR1cm4gcDtjb25zdCBnPWEuY3JlYXRlQXJjYWRlRXZhbHVhdGlvbk9wdGlvbnMoaih0aGlzLl9zY2hlbWEpKTtsZXQgeT0wO2Zvcig7by5uZXh0KCk7KXsrK3klMWUzfHwoYXdhaXQgaSgwKSxyKGUuc3Vic2NyaXB0aW9uKSk7Y29uc3Qgbj10aGlzLl9nZXRTb3J0S2V5VmFsdWUobyx0KTtwLmVudGl0eVN0YXJ0KG8uZ2V0RGlzcGxheUlkKCksbiksdGhpcy5fZmFjdG9yeS53cml0ZShwLHRoaXMuX3Byb3h5LG8sZyxzLGEubGV2ZWwpLHAuZW50aXR5RW5kKCl9cmV0dXJuIHB9X2dldFNvcnRLZXlWYWx1ZShlLHQpe2lmKCF0aGlzLl9zb3J0SW5mbylyZXR1cm4gMDtjb25zdHtjb21wdXRlZDpzLG9yZGVyOnIsYnlSZW5kZXJlcjppfT10aGlzLl9zb3J0SW5mbyxhPWk/dGhpcy5fZmFjdG9yeS5nZXRTb3J0S2V5KGUsdCk6cz8ucmVhZChlLHQpO3JldHVybiBudWxsPT1hfHxpc05hTihhKT8wOmEqKFwiYXNjXCI9PT1yPy0xOjEpfX1mdW5jdGlvbiBTKGUsdCl7Y29uc3Qgcz1bXTtyZXR1cm4gZT8udGltZUV4dGVudD8uc3RhcnQ9PT10LnRpbWVFeHRlbnQ/LnN0YXJ0JiZlPy50aW1lRXh0ZW50Py5lbmQ9PT10LnRpbWVFeHRlbnQ/LmVuZHx8cy5wdXNoKFwidGltZVByb3BlcnRpZXNcIiksc31mdW5jdGlvbiBqKGUpe2NvbnN0e3RpbWVab25lOnR9PWU/Lm1lc2gucHJvcGVydGllcz8/e30se3RpbWVFeHRlbnQ6c309ZT8uZXhwcmVzc2lvblByb3BlcnRpZXM/P3t9O3JldHVybnt0aW1lWm9uZTp0LHRpbWVFeHRlbnQ6c319ZXhwb3J0e3cgYXMgZGVmYXVsdH07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4zMy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e1F1ZXVlUHJvY2Vzc29yIGFzIHN9ZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9RdWV1ZVByb2Nlc3Nvci5qc1wiO2NsYXNzIGV7Y29uc3RydWN0b3IoZSl7dGhpcy5fb3V0c3RhbmRpbmdNZXNzYWdlcz1bXSx0aGlzLl9xdWV1ZT1uZXcgcyh7Y29uY3VycmVuY3k6ZS5jb25jdXJyZW5jeSxwcm9jZXNzOnM9PmUucHJvY2VzcyhzKX0pfWFzeW5jIHB1c2gocyl7aWYocy5lbmQpcmV0dXJuIGF3YWl0IFByb21pc2UuYWxsKHRoaXMuX291dHN0YW5kaW5nTWVzc2FnZXMpLGF3YWl0IHRoaXMuX3F1ZXVlLnB1c2gocyksdm9pZCh0aGlzLl9vdXRzdGFuZGluZ01lc3NhZ2VzPVtdKTtjb25zdCBlPXRoaXMuX3F1ZXVlLnB1c2gocyk7cmV0dXJuIHRoaXMuX291dHN0YW5kaW5nTWVzc2FnZXMucHVzaChlKSxlfX1leHBvcnR7ZSBhcyBQcm9jZXNzb3JUaWxlTWVzc2FnZVF1ZXVlfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjMzL2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5jbGFzcyB0e2NvbnN0cnVjdG9yKHQpe3RoaXMuX3N0YXRpc3RpY3M9dH1nZXQgc3RhdGlzdGljcygpe3JldHVybiB0aGlzLl9zdGF0aXN0aWNzfX1leHBvcnR7dCBhcyBBQWdncmVnYXRlQ2VsbH07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4zMy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e3RpbGVTaXplIGFzIHR9ZnJvbVwiLi4vLi4vLi4vZW5naW5lL3dlYmdsL2RlZmluaXRpb25zLmpzXCI7aW1wb3J0e2NyZWF0ZUFyY2FkZUV2YWx1YXRpb25PcHRpb25zIGFzIGV9ZnJvbVwiLi4vc3VwcG9ydC9hcmNhZGVVdGlscy5qc1wiO2NsYXNzIHJ7Y29uc3RydWN0b3IodCl7dGhpcy5fb3B0aW9ucz10fWluc2VydCh0LHIpe2NvbnN0IG89dC5nZXRDdXJzb3IoKSx7YXJjYWRlQ29udGV4dEluZm86cyxzY2FsZTppfT10aGlzLl9vcHRpb25zLG49ZShpLHMpO2Zvcig7by5uZXh0KCk7KXRoaXMuX2luc2VydEZlYXR1cmUobyxuLHRoaXMuX29wdGlvbnMuc3FsT3B0aW9ucyxyKX1faW5zZXJ0RmVhdHVyZShlLHIsbyxzKXtjb25zdHtmZWF0dXJlRmlsdGVyOml9PXRoaXMuX29wdGlvbnM7aWYobnVsbCE9PWkmJiFpLmNoZWNrKGUsbykpcmV0dXJuO2xldCBuPTAsYz0wO2lmKFwiZXNyaUdlb21ldHJ5UG9pbnRcIj09PWUuZ2VvbWV0cnlUeXBlKW49ZS5yZWFkWFdvcmxkU3BhY2UoKSxjPWUucmVhZFlXb3JsZFNwYWNlKCk7ZWxzZXtpZihzKXtjb25zdCByPWUucmVhZENlbnRyb2lkRm9yRGlzcGxheSgpO2lmKG51bGw9PXIpcmV0dXJuO2NvbnN0W28sc109ci5jb29yZHM7aWYobzwwfHxvPnR8fHM8MHx8cz50KXJldHVybn1jb25zdCByPWUucmVhZENlbnRyb2lkV29ybGRTcGFjZSgpO2lmKG51bGw9PXIpcmV0dXJuO249ci5jb29yZHNbMF0sYz1yLmNvb3Jkc1sxXX10aGlzLl9pbnNlcnQoZSxuLGMscil9fWV4cG9ydHtyIGFzIEFBZ2dyZWdhdGVTcGF0aWFsSW5kZXh9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMzMvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtpc0JhZEFyY2FkZVJlc3VsdCBhcyB0fWZyb21cIi4uLy4uLy4uL2FyY2FkZS9jYWxsRXhwcmVzc2lvbldpdGhDdXJzb3IuanNcIjtjb25zdCBlPU1hdGguUEkvMTgwO2NsYXNzIHN7c3RhdGljIGNyZWF0ZSh0KXtyZXR1cm4gbmV3IHModC5tYXAoKHQ9PmkodCkpKSl9Y29uc3RydWN0b3IodCl7dGhpcy5fc3RhdGlzdGljcz10fXZhbHVlcygpe3JldHVybiB0aGlzLl9zdGF0aXN0aWNzLnZhbHVlcygpfWluc2VydCh0LGUpe2Zvcihjb25zdCBzIG9mIHRoaXMuX3N0YXRpc3RpY3Mpcy5pbnNlcnQodCxlKX1tZXJnZSh0KXtmb3IobGV0IGU9MDtlPHRoaXMuX3N0YXRpc3RpY3MubGVuZ3RoO2UrKyl7Y29uc3Qgcz10aGlzLl9zdGF0aXN0aWNzW2VdLGk9dC5fc3RhdGlzdGljc1tlXTtpZihzLmZpZWxkLm5hbWUhPT1pLmZpZWxkLm5hbWUpdGhyb3cgbmV3IEVycm9yKFwiSW50ZXJuYWxFcnJvcjogVHJpZWQgdG8gbWVyZ2UgaW5jb21wYXRpYmxlIHN0YXRpc3RpY3NcIik7cy5tZXJnZShpKX19Y2xvbmUoKXtyZXR1cm4gbmV3IHModGhpcy5fc3RhdGlzdGljcy5tYXAoKHQ9PnQuY2xvbmUoKSkpKX19ZnVuY3Rpb24gaSh0KXtzd2l0Y2godC5zdGF0aXN0aWNUeXBlKXtjYXNlXCJtaW5cIjpyZXR1cm4gbmV3IHIodCk7Y2FzZVwibWF4XCI6cmV0dXJuIG5ldyB1KHQpO2Nhc2VcImF2Z1wiOnJldHVybiBuZXcgYyh0KTtjYXNlXCJhdmdfYW5nbGVcIjpyZXR1cm4gbmV3IGgodCk7Y2FzZVwic3VtXCI6Y2FzZVwiY291bnRcIjpyZXR1cm4gbmV3IGEodCk7Y2FzZVwibW9kZVwiOnJldHVybiBuZXcgbyh0KX19Y2xhc3Mgbntjb25zdHJ1Y3Rvcih0KXt0aGlzLmZpZWxkPXR9aW5zZXJ0KGUscyl7aWYoIXRoaXMuZmllbGQuY29tcHV0ZWQpcmV0dXJuO2NvbnN0IGk9dGhpcy5maWVsZC5jb21wdXRlZC5yZWFkKGUscyk7dChpKXx8dGhpcy5faW5zZXJ0VmFsdWUoaSl9fWNsYXNzIHIgZXh0ZW5kcyBue2NvbnN0cnVjdG9yKCl7c3VwZXIoLi4uYXJndW1lbnRzKSx0aGlzLnR5cGU9XCJtaW5cIix0aGlzLnZhbHVlPU51bWJlci5NQVhfVkFMVUV9X2luc2VydFZhbHVlKHQpe3RoaXMudmFsdWU9TWF0aC5taW4odGhpcy52YWx1ZSx0KX1tZXJnZSh0KXt0aGlzLnZhbHVlPU1hdGgubWluKHRoaXMudmFsdWUsdC52YWx1ZSl9Y2xvbmUoKXtjb25zdCB0PW5ldyByKHRoaXMuZmllbGQpO3JldHVybiB0LnZhbHVlPXRoaXMudmFsdWUsdH19Y2xhc3MgdSBleHRlbmRzIG57Y29uc3RydWN0b3IoKXtzdXBlciguLi5hcmd1bWVudHMpLHRoaXMudHlwZT1cIm1heFwiLHRoaXMudmFsdWU9TnVtYmVyLk1JTl9WQUxVRX1faW5zZXJ0VmFsdWUodCl7dGhpcy52YWx1ZT1NYXRoLm1heCh0aGlzLnZhbHVlLHQpfW1lcmdlKHQpe3RoaXMudmFsdWU9TWF0aC5tYXgodGhpcy52YWx1ZSx0LnZhbHVlKX1jbG9uZSgpe2NvbnN0IHQ9bmV3IHUodGhpcy5maWVsZCk7cmV0dXJuIHQudmFsdWU9dGhpcy52YWx1ZSx0fX1jbGFzcyBhIGV4dGVuZHMgbntjb25zdHJ1Y3Rvcigpe3N1cGVyKC4uLmFyZ3VtZW50cyksdGhpcy50eXBlPVwic3VtXCIsdGhpcy52YWx1ZT0wfV9pbnNlcnRWYWx1ZSh0KXt0aGlzLnZhbHVlKz10fW1lcmdlKHQpe3RoaXMudmFsdWUrPXQudmFsdWV9Y2xvbmUoKXtjb25zdCB0PW5ldyBhKHRoaXMuZmllbGQpO3JldHVybiB0LnZhbHVlPXRoaXMudmFsdWUsdH19Y2xhc3MgYyBleHRlbmRzIG57Y29uc3RydWN0b3IoKXtzdXBlciguLi5hcmd1bWVudHMpLHRoaXMudHlwZT1cImF2Z1wiLHRoaXMuX3RvdGFsPTAsdGhpcy5fY291bnQ9MH1nZXQgdmFsdWUoKXtyZXR1cm4gdGhpcy5fdG90YWwvdGhpcy5fY291bnR9X2luc2VydFZhbHVlKHQpe3RoaXMuX3RvdGFsKz10LHRoaXMuX2NvdW50Kz0xfW1lcmdlKHQpe3RoaXMuX3RvdGFsKz10Ll90b3RhbCx0aGlzLl9jb3VudCs9dC5fY291bnR9Y2xvbmUoKXtjb25zdCB0PW5ldyBjKHRoaXMuZmllbGQpO3JldHVybiB0Ll90b3RhbD10aGlzLl90b3RhbCx0Ll9jb3VudD10aGlzLl9jb3VudCx0fX1jbGFzcyBoIGV4dGVuZHMgbntjb25zdHJ1Y3Rvcigpe3N1cGVyKC4uLmFyZ3VtZW50cyksdGhpcy50eXBlPVwiYXZnX2FuZ2xlXCIsdGhpcy5feD0wLHRoaXMuX3k9MCx0aGlzLl9jb3VudD0wfWdldCB2YWx1ZSgpe2NvbnN0IHQ9dGhpcy5feC90aGlzLl9jb3VudCxlPXRoaXMuX3kvdGhpcy5fY291bnQscz0xODAvTWF0aC5QSTtyZXR1cm4gTWF0aC5hdGFuMihlLHQpKnN9X2luc2VydFZhbHVlKHQpe3RoaXMuX3g9dGhpcy5feCtNYXRoLmNvcyh0KmUpLHRoaXMuX3k9dGhpcy5feStNYXRoLnNpbih0KmUpLHRoaXMuX2NvdW50Kz0xfW1lcmdlKHQpe3RoaXMuX3grPXQuX3gsdGhpcy5feSs9dC5feSx0aGlzLl9jb3VudCs9dC5fY291bnR9Y2xvbmUoKXtjb25zdCB0PW5ldyBoKHRoaXMuZmllbGQpO3JldHVybiB0Ll94PXRoaXMuX3gsdC5feT10aGlzLl95LHQuX2NvdW50PXRoaXMuX2NvdW50LHR9fWNsYXNzIG8gZXh0ZW5kcyBue2NvbnN0cnVjdG9yKCl7c3VwZXIoLi4uYXJndW1lbnRzKSx0aGlzLl9mcmVxdWVuY2llcz1uZXcgTWFwfWdldCB2YWx1ZSgpe2xldCB0LGU9MDtmb3IoY29uc3RbcyxpXW9mIHRoaXMuX2ZyZXF1ZW5jaWVzLmVudHJpZXMoKSlpPmUmJihlPWksdD1zKTtyZXR1cm4gdH1faW5zZXJ0VmFsdWUodCl7Y29uc3QgZT10aGlzLl9mcmVxdWVuY2llcy5nZXQodCk7bnVsbCE9ZT90aGlzLl9mcmVxdWVuY2llcy5zZXQodCxlKzEpOnRoaXMuX2ZyZXF1ZW5jaWVzLnNldCh0LDEpfW1lcmdlKHQpe2Zvcihjb25zdFtlLHNdb2YgdC5fZnJlcXVlbmNpZXMuZW50cmllcygpKXtjb25zdCB0PXRoaXMuX2ZyZXF1ZW5jaWVzLmdldChlKTtudWxsIT10P3RoaXMuX2ZyZXF1ZW5jaWVzLnNldChlLHQrcyk6dGhpcy5fZnJlcXVlbmNpZXMuc2V0KGUscyl9fWNsb25lKCl7Y29uc3QgdD1uZXcgbyh0aGlzLmZpZWxkKTtyZXR1cm4gdC5fZnJlcXVlbmNpZXM9bmV3IE1hcCh0aGlzLl9mcmVxdWVuY2llcyksdH19ZXhwb3J0e3MgYXMgQWNjdW11bGF0ZWRTdGF0aXN0aWNzfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjMzL2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7RGljdGlvbmFyeVZhbHVlIGFzIHR9ZnJvbVwiLi4vc3VwcG9ydC9EaWN0aW9uYXJ5VmFsdWUuanNcIjtjbGFzcyBze3N0YXRpYyBhc3luYyBjcmVhdGUoaSxlKXtpZihcImNvdW50XCI9PT1lLnN0YXRpc3RpY1R5cGUpe2NvbnN0IGk9bmV3IHQoMSk7cmV0dXJuIG5ldyBzKGUubmFtZSxlLmFsaWFzLGUudHlwZSxlLnN0YXRpc3RpY1R5cGUsaSl9Y29uc3QgYT1hd2FpdCBpLmNyZWF0ZUNvbXB1dGVkRmllbGQoe2V4cHJlc3Npb246ZS5vblN0YXRpc3RpY0V4cHJlc3Npb24/LmV4cHJlc3Npb24sZmllbGQ6ZS5vblN0YXRpc3RpY0ZpZWxkfSk7cmV0dXJuIG5ldyBzKGUubmFtZSxlLmFsaWFzLGUudHlwZSxlLnN0YXRpc3RpY1R5cGUsYSl9Y29uc3RydWN0b3IodCxzLGksZSxhKXt0aGlzLm5hbWU9dCx0aGlzLmFsaWFzPXMsdGhpcy50eXBlPWksdGhpcy5zdGF0aXN0aWNUeXBlPWUsdGhpcy5jb21wdXRlZD1hfX1leHBvcnR7cyBhcyBDb21wdXRlZEFnZ3JlZ2F0ZUZpZWxkfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjMzL2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7R2VvaGFzaFRyZWUgYXMgZX1mcm9tXCIuLi8uLi8uLi8uLi8uLi9nZW9oYXNoL0dlb2hhc2hUcmVlLmpzXCI7aW1wb3J0e2dldEdlb2hhc2hCb3VuZHMgYXMgdCxnZXRHZW9oYXNoIGFzIHN9ZnJvbVwiLi4vLi4vLi4vLi4vLi4vZ2VvaGFzaC9nZW9oYXNoVXRpbHMuanNcIjtpbXBvcnR7QUFnZ3JlZ2F0ZVNwYXRpYWxJbmRleCBhcyBvfWZyb21cIi4vQUFnZ3JlZ2F0ZVNwYXRpYWxJbmRleC5qc1wiO2NsYXNzIHIgZXh0ZW5kcyBve2NvbnN0cnVjdG9yKHQpe3N1cGVyKHQpLHRoaXMuX3RyZWU9bmV3IGUodGhpcy5fb3B0aW9ucy5maWVsZHMpfXB1dChlKXt0aHJvdyBuZXcgRXJyb3IoXCJHZW9oYXNoIHRyZWUgZG9lcyBub3Qgc3VwcG9ydCBwdXRcIil9cHV0Qm91bmRlZChlLHMsbyl7Y29uc3R7Z2VvaGFzaExldmVsOnIsc3BhdGlhbFJlZmVyZW5jZTpofT10aGlzLl9vcHRpb25zLGk9dChzLG8scixoKTtudWxsIT1pJiZ0aGlzLl90cmVlLnB1dEJpbnMoZSxpKX1faW5zZXJ0KGUsdCxvLHIpe2NvbnN0e2dlb2hhc2hMZXZlbDpoLHNwYXRpYWxSZWZlcmVuY2U6aX09dGhpcy5fb3B0aW9ucyxuPXModCxvLGgsaSk7biYmdGhpcy5fdHJlZS5pbnNlcnQoZSx0LG8sblswXSxuWzFdLGgscil9fWV4cG9ydHtyIGFzIEdlb2hhc2hTcGF0aWFsSW5kZXh9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMzMvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtxdWFudGl6ZVggYXMgdCxxdWFudGl6ZVkgYXMgZSxxdWFudGl6ZU9wdGltaXplZEdlb21ldHJ5IGFzIHJ9ZnJvbVwiLi4vLi4vLi4vLi4vLi4vbGF5ZXJzL2dyYXBoaWNzL2ZlYXR1cmVDb252ZXJzaW9uVXRpbHMuanNcIjtpbXBvcnQgaSBmcm9tXCIuLi8uLi8uLi8uLi8uLi9sYXllcnMvZ3JhcGhpY3MvT3B0aW1pemVkR2VvbWV0cnkuanNcIjtpbXBvcnR7QUFnZ3JlZ2F0ZUNlbGwgYXMgc31mcm9tXCIuL0FBZ2dyZWdhdGVDZWxsLmpzXCI7aW1wb3J0e0FjY3VtdWxhdGVkU3RhdGlzdGljcyBhcyBvfWZyb21cIi4vQWNjdW11bGF0ZWRTdGF0aXN0aWNzLmpzXCI7Y2xhc3MgbCBleHRlbmRzIHN7c3RhdGljIGNyZWF0ZUlkKHQsZSl7cmV0dXJuYCR7dH0uJHtlfWB9c3RhdGljIGNyZWF0ZSh0LGUscixpKXtyZXR1cm4gbmV3IGwodCxlLG8uY3JlYXRlKHIpLGkpfWNvbnN0cnVjdG9yKHQsZSxyLGkpe3N1cGVyKHIpLHRoaXMuZ3JpZFg9dCx0aGlzLmdyaWRZPWUsdGhpcy5fd29ybGRVbml0c1BlckNlbGw9aSx0aGlzLl9jb3VudD0wLHRoaXMuX3hXb3JsZFRvdGFsPTAsdGhpcy5feVdvcmxkVG90YWw9MCx0aGlzLl9vYmplY3RJZHM9bmV3IFNldH1nZXQgaWQoKXtyZXR1cm4gbC5jcmVhdGVJZCh0aGlzLmdyaWRYLHRoaXMuZ3JpZFkpfWdldCBjb250YWluZWRPYmplY3RJZHMoKXtyZXR1cm4gdGhpcy5fb2JqZWN0SWRzfWdldCBjb3VudCgpe3JldHVybiB0aGlzLl9jb3VudH1nZXQgZmlyc3RPYmplY3RJZCgpe3JldHVybiB0aGlzLl9vYmplY3RJZHMudmFsdWVzKCkubmV4dCgpLnZhbHVlfWdldCBjZW50cm9pZFhXb3JsZCgpe3JldHVybiB0aGlzLl94V29ybGRUb3RhbC90aGlzLl9jb3VudH1nZXQgY2VudHJvaWRZV29ybGQoKXtyZXR1cm4gdGhpcy5feVdvcmxkVG90YWwvdGhpcy5fY291bnR9Y2xvbmUoKXtjb25zdCB0PW5ldyBsKHRoaXMuZ3JpZFgsdGhpcy5ncmlkWSx0aGlzLl9zdGF0aXN0aWNzLmNsb25lKCksdGhpcy5fd29ybGRVbml0c1BlckNlbGwpO3JldHVybiB0Ll9jb3VudD10aGlzLl9jb3VudCx0Ll94V29ybGRUb3RhbD10aGlzLl94V29ybGRUb3RhbCx0Ll95V29ybGRUb3RhbD10aGlzLl95V29ybGRUb3RhbCx0Ll9maXJzdEZlYXR1cmVBdHRyaWJ1dGVzPXRoaXMuX2ZpcnN0RmVhdHVyZUF0dHJpYnV0ZXMsdC5fb2JqZWN0SWRzPW5ldyBTZXQodGhpcy5fb2JqZWN0SWRzKSx0fWluc2VydCh0LGUscixpKXswPT09dGhpcy5fY291bnQ/dGhpcy5fZmlyc3RGZWF0dXJlQXR0cmlidXRlcz10LnJlYWRBdHRyaWJ1dGVzKCk6dGhpcy5fZmlyc3RGZWF0dXJlQXR0cmlidXRlcz1udWxsLHRoaXMuX2NvdW50Kz0xLHRoaXMuX3hXb3JsZFRvdGFsKz1yLHRoaXMuX3lXb3JsZFRvdGFsKz1pLHRoaXMuX3N0YXRpc3RpY3MuaW5zZXJ0KHQsZSksdGhpcy5fb2JqZWN0SWRzLmFkZCh0LmdldE9iamVjdElkKCkpfW1lcmdlKHQpe2lmKDAhPT10Ll9jb3VudCl7dGhpcy5fY291bnQrPXQuX2NvdW50LHRoaXMuX2ZpcnN0RmVhdHVyZUF0dHJpYnV0ZXM9dC5fZmlyc3RGZWF0dXJlQXR0cmlidXRlcyx0aGlzLl94V29ybGRUb3RhbCs9dC5feFdvcmxkVG90YWwsdGhpcy5feVdvcmxkVG90YWwrPXQuX3lXb3JsZFRvdGFsLHRoaXMuX3N0YXRpc3RpY3MubWVyZ2UodC5fc3RhdGlzdGljcyk7Zm9yKGNvbnN0IGUgb2YgdC5fb2JqZWN0SWRzLnZhbHVlcygpKXRoaXMuX29iamVjdElkcy5hZGQoZSl9fWdldENlbnRyb2lkWChlKXtyZXR1cm4gbnVsbD09ZT90aGlzLmNlbnRyb2lkWFdvcmxkOnQoZSx0aGlzLmNlbnRyb2lkWFdvcmxkKX1nZXRDZW50cm9pZFkodCl7cmV0dXJuIG51bGw9PXQ/dGhpcy5jZW50cm9pZFlXb3JsZDplKHQsdGhpcy5jZW50cm9pZFlXb3JsZCl9Z2V0R2VvbWV0cnkodCxlKXtjb25zdCBzPXRoaXMuZ3JpZFgqdGhpcy5fd29ybGRVbml0c1BlckNlbGwsbz10aGlzLmdyaWRZKnRoaXMuX3dvcmxkVW5pdHNQZXJDZWxsLGw9bmV3IGkoWzRdLFtzLG8scyt0aGlzLl93b3JsZFVuaXRzUGVyQ2VsbCxvLHMrdGhpcy5fd29ybGRVbml0c1BlckNlbGwsbyt0aGlzLl93b3JsZFVuaXRzUGVyQ2VsbCxzLG8rdGhpcy5fd29ybGRVbml0c1BlckNlbGxdKTtpZihudWxsIT1lKXtjb25zdCB0PW5ldyBpO3JldHVybiByKHQsbCwhMSwhMSxcImVzcmlHZW9tZXRyeVBvbHlnb25cIixlKX1yZXR1cm4gbH1nZXRDZW50cm9pZCh0KXtjb25zdCBlPW5ldyBpKFtdLFt0aGlzLmNlbnRyb2lkWFdvcmxkLHRoaXMuY2VudHJvaWRZV29ybGRdKTtpZihudWxsIT10KXtjb25zdCBzPW5ldyBpO3JldHVybiByKHMsZSwhMSwhMSxcImVzcmlHZW9tZXRyeVBvaW50XCIsdCl9cmV0dXJuIGV9Z2V0R2VvbWV0cmljQ2VudHJvaWQodCxlKXtjb25zdCBzPXRoaXMuZ3JpZFgqdGhpcy5fd29ybGRVbml0c1BlckNlbGwrLjUqdGhpcy5fd29ybGRVbml0c1BlckNlbGwsbz10aGlzLmdyaWRZKnRoaXMuX3dvcmxkVW5pdHNQZXJDZWxsKy41KnRoaXMuX3dvcmxkVW5pdHNQZXJDZWxsLGw9bmV3IGkoW10sW3Msb10pO2lmKG51bGwhPWUpe2NvbnN0IHQ9bmV3IGk7cmV0dXJuIHIodCxsLCExLCExLFwiZXNyaUdlb21ldHJ5UG9pbnRcIixlKX1yZXR1cm4gbH1nZXRBdHRyaWJ1dGVzKCl7Y29uc3QgdD17YWdncmVnYXRlSWQ6dGhpcy5pZH07Zm9yKGNvbnN0IGUgb2YgdGhpcy5fc3RhdGlzdGljcy52YWx1ZXMoKSl0W2UuZmllbGQubmFtZV09ZS52YWx1ZTtyZXR1cm4gbnVsbCE9dGhpcy5fZmlyc3RGZWF0dXJlQXR0cmlidXRlcz97Li4udCwuLi50aGlzLl9maXJzdEZlYXR1cmVBdHRyaWJ1dGVzfTp0fX1leHBvcnR7bCBhcyBHcmlkQ2VsbH07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4zMy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e2dldE1ldGVyc1BlclVuaXRGb3JTUiBhcyB0LGluY2hlc1Blck1ldGVyIGFzIGV9ZnJvbVwiLi4vLi4vLi4vLi4vLi4vY29yZS91bml0VXRpbHMuanNcIjtpbXBvcnR7QUFnZ3JlZ2F0ZVNwYXRpYWxJbmRleCBhcyBpfWZyb21cIi4vQUFnZ3JlZ2F0ZVNwYXRpYWxJbmRleC5qc1wiO2ltcG9ydHtHcmlkQ2VsbCBhcyBzfWZyb21cIi4vR3JpZENlbGwuanNcIjtjb25zdCBsPTk2O2Z1bmN0aW9uIG8oaSxzKXtyZXR1cm4gdChpKSplKmwvc31jbGFzcyBuIGV4dGVuZHMgaXtjb25zdHJ1Y3Rvcih0KXtzdXBlcih0KSx0aGlzLl9jZWxscz1uZXcgTWFwLHRoaXMuX3BpeGVsc1Blck1hcFVuaXQ9byh0LnNwYXRpYWxSZWZlcmVuY2UsdC5zY2FsZSl9cHV0KHQpe2Zvcihjb25zdCBlIG9mIHRoaXMuX2NlbGxzLnZhbHVlcygpKXtjb25zdCBpPXQuZ2V0KGUuaWQpO2k/aS5tZXJnZShlKTp0LnNldChlLmlkLGUuY2xvbmUoKSl9fXB1dEJvdW5kZWQodCxlLGkpe2NvbnN0IHM9W2UueG1pbixlLnltaW4sZS54bWF4LGUueW1heF0sW2wsbyxuLHJdPXMsYz1NYXRoLmZsb29yKGwqdGhpcy5fcGl4ZWxzUGVyTWFwVW5pdC90aGlzLl9vcHRpb25zLmNlbGxTaXplKSxwPU1hdGguZmxvb3Iobyp0aGlzLl9waXhlbHNQZXJNYXBVbml0L3RoaXMuX29wdGlvbnMuY2VsbFNpemUpLGE9TWF0aC5jZWlsKG4qdGhpcy5fcGl4ZWxzUGVyTWFwVW5pdC90aGlzLl9vcHRpb25zLmNlbGxTaXplKSxoPU1hdGguY2VpbChyKnRoaXMuX3BpeGVsc1Blck1hcFVuaXQvdGhpcy5fb3B0aW9ucy5jZWxsU2l6ZSk7Zm9yKGxldCBfPXA7Xzw9aDtfKyspZm9yKGxldCBlPWM7ZTw9YTtlKyspe2NvbnN0IGk9YCR7ZX0uJHtffWAscz10aGlzLl9jZWxscy5nZXQoaSk7aWYoIXMpY29udGludWU7Y29uc3QgbD10LmdldChzLmlkKTtsP3MmJiF0LmhhcyhzLmlkKSYmbC5tZXJnZShzKTp0LnNldChzLmlkLHMuY2xvbmUoKSl9fV9pbnNlcnQodCxlLGkscyl7Y29uc3QgbD1lKnRoaXMuX3BpeGVsc1Blck1hcFVuaXQsbz1pKnRoaXMuX3BpeGVsc1Blck1hcFVuaXQsbj1NYXRoLmZsb29yKGwvdGhpcy5fb3B0aW9ucy5jZWxsU2l6ZSkscj1NYXRoLmZsb29yKG8vdGhpcy5fb3B0aW9ucy5jZWxsU2l6ZSk7dGhpcy5fZ2V0Q2VsbE9yQ3JlYXRlKG4scikuaW5zZXJ0KHQscyxlLGkpfV9nZXRDZWxsT3JDcmVhdGUodCxlKXtjb25zdCBpPXMuY3JlYXRlSWQodCxlKTtsZXQgbD10aGlzLl9jZWxscy5nZXQoaSk7aWYoIWwpe2NvbnN0IG89MSp0aGlzLl9vcHRpb25zLmNlbGxTaXplL3RoaXMuX3BpeGVsc1Blck1hcFVuaXQ7bD1zLmNyZWF0ZSh0LGUsdGhpcy5fb3B0aW9ucy5maWVsZHMsbyksdGhpcy5fY2VsbHMuc2V0KGksbCl9cmV0dXJuIGx9fWV4cG9ydHtuIGFzIEdyaWRTcGF0aWFsSW5kZXgsbyBhcyBwaXhlbHNQZXJNYXBVbml0fTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjMzL2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnQgZSBmcm9tXCIuLi8uLi8uLi8uLi8uLi9jb3JlL0V2ZW50ZWQuanNcIjtpbXBvcnR7Y3JlYXRlIGFzIHJ9ZnJvbVwiLi4vLi4vLi4vLi4vLi4vZ2VvbWV0cnkvc3VwcG9ydC9hYUJvdW5kaW5nQm94LmpzXCI7aW1wb3J0e2dldEJvdW5kc09wdGltaXplZEdlb21ldHJ5IGFzIHR9ZnJvbVwiLi4vLi4vLi4vLi4vLi4vbGF5ZXJzL2dyYXBoaWNzL2ZlYXR1cmVDb252ZXJzaW9uVXRpbHMuanNcIjtpbXBvcnR7b3B0aW1pemVkRmVhdHVyZVF1ZXJ5RW5naW5lQWRhcHRlciBhcyBhfWZyb21cIi4uLy4uLy4uLy4uLy4uL2xheWVycy9ncmFwaGljcy9kYXRhL29wdGltaXplZEZlYXR1cmVRdWVyeUVuZ2luZUFkYXB0ZXIuanNcIjtpbXBvcnR7UXVlcnlFbmdpbmUgYXMgc31mcm9tXCIuLi8uLi8uLi8uLi8uLi9sYXllcnMvZ3JhcGhpY3MvZGF0YS9RdWVyeUVuZ2luZS5qc1wiO2ltcG9ydHtjb2xsZWN0RXhwcmVzc2lvbkRlcGVuZGVuY2llcyBhcyBvfWZyb21cIi4uLy4uLy4uLy4uLy4uL3N1cHBvcnQvQXJjYWRlRXhwcmVzc2lvbi5qc1wiO2ltcG9ydHtBUHJvY2Vzc29yU3RyYXRlZ3kgYXMgbn1mcm9tXCIuL0FQcm9jZXNzb3JTdHJhdGVneS5qc1wiO2NsYXNzIGkgZXh0ZW5kcyBue2NvbnN0cnVjdG9yKHIsdCxzLG4saSl7c3VwZXIocix0LGkpLHRoaXMuc3BhdGlhbFJlZmVyZW5jZT1zLHRoaXMuYWdncmVnYXRlRmllbGRzPW4sdGhpcy5fYXJjYWRlRGVwZW5kZW5jaWVzPW5ldyBTZXQsdGhpcy5ldmVudHM9bmV3IGUsdGhpcy5mZWF0dXJlQWRhcHRlcj1hO2Zvcihjb25zdCBlIG9mIG4pbyh0aGlzLl9hcmNhZGVEZXBlbmRlbmNpZXMsZS5jb21wdXRlZCl9Z2V0IGFnZ3JlZ2F0ZVF1ZXJ5RW5naW5lKCl7cmV0dXJuIHRoaXMuX2FnZ3JlZ2F0ZVF1ZXJ5RW5naW5lfHwodGhpcy5fYWdncmVnYXRlUXVlcnlFbmdpbmU9bmV3IHMoe2ZlYXR1cmVTdG9yZTp0aGlzLGZpZWxkc0luZGV4OnRoaXMuX21ldGFkYXRhLmZpZWxkc0luZGV4LGdlb21ldHJ5VHlwZTp0aGlzLl9tZXRhZGF0YS5nZW9tZXRyeVR5cGUsZmVhdHVyZUlkSW5mbzp0aGlzLl9tZXRhZGF0YS5mZWF0dXJlSWRJbmZvLHNwYXRpYWxSZWZlcmVuY2U6dGhpcy5zcGF0aWFsUmVmZXJlbmNlfSkpLHRoaXMuX2FnZ3JlZ2F0ZVF1ZXJ5RW5naW5lfWdldCBpc0FnZ3JlZ2F0ZSgpe3JldHVybiEwfXJlbW92ZUNodW5rcyhlKXt9aGFzQXJjYWRlRGVwZW5kZW5jeShlKXtyZXR1cm4gdGhpcy5fYXJjYWRlRGVwZW5kZW5jaWVzLmhhcyhlKX1mb3JFYWNoKGUpe3JldHVybiB0aGlzLmZvckVhY2hBZ2dyZWdhdGVXb3JsZFNwYWNlKGUpfWZvckVhY2hJbkJvdW5kcyhlLHIpe31mb3JFYWNoQm91bmRzKGUsYSl7Y29uc3Qgcz1yKCk7Zm9yKGNvbnN0IHIgb2YgZSl7Y29uc3QgZT10KHMsci5nZW9tZXRyeSwhMSwhMSk7ZSYmYShlKX19fWV4cG9ydHtpIGFzIEFBZ2dyZWdhdGVTdHJhdGVneX07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4zMy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuY2xhc3MgdHtjb25zdHJ1Y3Rvcih0KXt0aGlzLnN1YnNjcmlwdGlvbj10LHRoaXMuaGFuZGxlZENodW5rcz1uZXcgU2V0fWRlc3Ryb3koKXt9fWNsYXNzIGV7Y29uc3RydWN0b3IodCxlLHMpe3RoaXMuX3NvdXJjZT10LHRoaXMuX2F0dHJpYnV0ZVN0b3JlPWUsdGhpcy5fc3FsT3B0aW9ucz1zLHRoaXMuX3NlbmRTdGF0ZXM9bmV3IE1hcH1kZXN0cm95KCl7fWdldCBlbmFibGVQaXhlbEJ1ZmZlcmluZygpe3JldHVybiEwfWdldCBpc0FnZ3JlZ2F0ZSgpe3JldHVybiExfW9uU3Vic2NyaWJlKHQpe2NvbnN0IGU9dGhpcy5jcmVhdGVTdGF0ZSh0KTt0aGlzLl9zZW5kU3RhdGVzLnNldCh0LmtleS5pZCxlKSx0aGlzLnVwZGF0ZUNodW5rcygpfW9uVW5zdWJzY3JpYmUodCl7dGhpcy5fc2VuZFN0YXRlcy5nZXQodC5rZXkuaWQpPy5kZXN0cm95KCksdGhpcy5fc2VuZFN0YXRlcy5kZWxldGUodC5rZXkuaWQpfWdldCBoYXNTdWJzY3JpYmVycygpe3JldHVybiB0aGlzLl9zZW5kU3RhdGVzLnNpemU+MH1yZXF1aXJlc0ludmFsaWRhdGlvbigpe3JldHVybiExfWludmFsaWRhdGUoKXtjb25zdCB0PUFycmF5LmZyb20odGhpcy5fc2VuZFN0YXRlcy52YWx1ZXMoKSk7dGhpcy5fc2VuZFN0YXRlcy5jbGVhcigpO2Zvcihjb25zdCBlIG9mIHQpZS5kZXN0cm95KCksdGhpcy5vblN1YnNjcmliZShlLnN1YnNjcmlwdGlvbil9aW52YWxpZGF0ZUF0dHJpYnV0ZURhdGEodCl7fWhhc0FyY2FkZURlcGVuZGVuY3kodCl7cmV0dXJuITF9Z2V0RmVhdHVyZU9iamVjdElkc0ZvckFnZ3JlZ2F0ZSh0KXt0aHJvdyBuZXcgRXJyb3IoXCJJbnRlcm5hbEVycm9yOiBBZ2dyZWdhdGVJZCBsb29rdXAgbm90IHN1cHBvcnRlZFwiKX1nZXREaXNwbGF5SWRzKHQpe3JldHVybiB0aGlzLmRpc3BsYXlNYXAodCwodD0+dCksKHQ9PnQpKX1nZXREaXNwbGF5QW5kT2JqZWN0SWRzKHQpe3JldHVybiB0aGlzLmRpc3BsYXlNYXAodCwodD0+dCksKCh0LGUscyk9Plt0LHNdKSl9YWZ0ZXJVcGRhdGVDaHVua3MoKXt9fWV4cG9ydHtlIGFzIEFQcm9jZXNzb3JTdHJhdGVneSx0IGFzIEFTZW5kU3RhdGV9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMzMvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydCBlIGZyb21cIi4uLy4uLy4uLy4uLy4uL2dlb21ldHJ5L1NwYXRpYWxSZWZlcmVuY2UuanNcIjtpbXBvcnR7Y29udmVydFRvRmVhdHVyZSBhcyB0LHVucXVhbnRpemVPcHRpbWl6ZWRHZW9tZXRyeSBhcyBzfWZyb21cIi4uLy4uLy4uLy4uLy4uL2xheWVycy9ncmFwaGljcy9mZWF0dXJlQ29udmVyc2lvblV0aWxzLmpzXCI7aW1wb3J0e09wdGltaXplZEZlYXR1cmUgYXMgYX1mcm9tXCIuLi8uLi8uLi8uLi8uLi9sYXllcnMvZ3JhcGhpY3MvT3B0aW1pemVkRmVhdHVyZS5qc1wiO2ltcG9ydHtjaGVja1Byb2plY3Rpb25TdXBwb3J0IGFzIHJ9ZnJvbVwiLi4vLi4vLi4vLi4vLi4vbGF5ZXJzL2dyYXBoaWNzL2RhdGEvcHJvamVjdGlvblN1cHBvcnQuanNcIjtpbXBvcnQgaSBmcm9tXCIuLi8uLi8uLi8uLi8uLi9sYXllcnMvc3VwcG9ydC9GaWVsZHNJbmRleC5qc1wiO2ltcG9ydHtDb21wdXRlZEFnZ3JlZ2F0ZUZpZWxkIGFzIG99ZnJvbVwiLi4vYWdncmVnYXRpb24vQ29tcHV0ZWRBZ2dyZWdhdGVGaWVsZC5qc1wiO2ltcG9ydHtBQWdncmVnYXRlU3RyYXRlZ3kgYXMgbn1mcm9tXCIuL0FBZ2dyZWdhdGVTdHJhdGVneS5qc1wiO2ltcG9ydHtBU2VuZFN0YXRlIGFzIGx9ZnJvbVwiLi9BUHJvY2Vzc29yU3RyYXRlZ3kuanNcIjtpbXBvcnR7RmVhdHVyZVRpbGVBcHBlbmRNZXNzYWdlIGFzIGQsRmVhdHVyZVRpbGVVcGRhdGVNZXNzYWdlIGFzIGN9ZnJvbVwiLi4vc291cmNlcy9GZWF0dXJlU291cmNlTWVzc2FnZS5qc1wiO2ltcG9ydHtDb21wdXRlZEF0dHJpYnV0ZVN0b3JhZ2UgYXMgdX1mcm9tXCIuLi9zdXBwb3J0L0NvbXB1dGVkQXR0cmlidXRlU3RvcmFnZS5qc1wiO2ltcG9ydCBmIGZyb21cIi4uL3N1cHBvcnQvRmVhdHVyZUZpbHRlckV2YWx1YXRvci5qc1wiO2ltcG9ydHtGZWF0dXJlTWV0YWRhdGEgYXMgcH1mcm9tXCIuLi9zdXBwb3J0L0ZlYXR1cmVNZXRhZGF0YS5qc1wiO2ltcG9ydHtGZWF0dXJlU2V0UmVhZGVySlNPTiBhcyBofWZyb21cIi4uL3N1cHBvcnQvRmVhdHVyZVNldFJlYWRlckpTT04uanNcIjtpbXBvcnQgbSBmcm9tXCIuLi8uLi8uLi90aWxpbmcvVGlsZUtleS5qc1wiO2NsYXNzIGcgZXh0ZW5kcyBse2NvbnN0cnVjdG9yKGUsdCl7c3VwZXIoZSksdGhpcy5iaW5zPW5ldyBNYXAsdGhpcy5mZWF0dXJlQ2FjaGU9bmV3IE1hcCx0aGlzLmRvbmU9ITEsdGhpcy5fc3RvcmU9dH1yZXNldCgpe3RoaXMuZGVzdHJveSgpLHRoaXMuZG9uZT0hMX1kZXN0cm95KCl7Y29uc3QgZT10aGlzLnN1YnNjcmlwdGlvbi50aWxlLmtleS5sZXZlbDtmb3IoY29uc3QgdCBvZiB0aGlzLmZlYXR1cmVDYWNoZS5rZXlzKCkpdGhpcy5fc3RvcmUucmVsZWFzZURpc3BsYXlJZEZvck9iamVjdElkKGAke3R9LiR7ZX1gKTt0aGlzLmJpbnMuY2xlYXIoKSx0aGlzLmZlYXR1cmVDYWNoZS5jbGVhcigpLHRoaXMuaGFuZGxlZENodW5rcy5jbGVhcigpfWdldCB0aWxlKCl7cmV0dXJuIHRoaXMuc3Vic2NyaXB0aW9uLnRpbGV9KmZlYXR1cmVzV29ybGRTcGFjZSgpe2Zvcihjb25zdCBlIG9mIHRoaXMuZmVhdHVyZUNhY2hlLnZhbHVlcygpKXtjb25zdCB0PWUuY2xvbmUoKTt0Lmdlb21ldHJ5JiZzKHQuZ2VvbWV0cnksdC5nZW9tZXRyeSwhMSwhMSx0aGlzLnN1YnNjcmlwdGlvbi50aWxlLnRyYW5zZm9ybSkseWllbGQgdH19fWNsYXNzIHkgZXh0ZW5kcyBue3N0YXRpYyBhc3luYyBjcmVhdGUodCxzLGEsaSxuLGwpe2NvbnN0IGQ9bmV3IHUoe3NwYXRpYWxSZWZlcmVuY2U6c30pLGM9YXdhaXQgUHJvbWlzZS5hbGwodC5maWVsZHMubWFwKChhc3luYyBlPT5vLmNyZWF0ZShkLGUpKSkpLHA9dC5mZWF0dXJlRmlsdGVyP2F3YWl0IGYuY3JlYXRlKHtnZW9tZXRyeVR5cGU6YS5tZXRhZGF0YS5nZW9tZXRyeVR5cGUsaGFzTTohMSxoYXNaOiExLHRpbWVJbmZvOmEubWV0YWRhdGEudGltZUluZm8sZmllbGRzSW5kZXg6YS5tZXRhZGF0YS5maWVsZHNJbmRleCxzcGF0aWFsUmVmZXJlbmNlOnMsZmlsdGVySlNPTjp0LmZlYXR1cmVGaWx0ZXJ9KTpudWxsO3JldHVyblwiZ2VvaGFzaFwiPT09dC5pbmRleC50eXBlJiZhd2FpdCByKHMsZS5XR1M4NCksbmV3IHkodCxwLG4sYyxzLGEsaSxsKX1jb25zdHJ1Y3RvcihlLHQscyxhLHIsbyxuLGwpe3N1cGVyKG8sbixyLGEsbCksdGhpcy5fc2NoZW1hPWUsdGhpcy5fZmVhdHVyZUZpbHRlcj10LHRoaXMuX2FyY2FkZUNvbnRleHRJbmZvPXMsdGhpcy5fbWV0YWRhdGE9cC5jcmVhdGVGZWF0dXJlKHtnZW9tZXRyeVR5cGU6XCJlc3JpR2VvbWV0cnlQb2x5Z29uXCIsZmVhdHVyZUlkSW5mbzp7dHlwZTpcIm9iamVjdC1pZFwiLGZpZWxkTmFtZTpcImFnZ3JlZ2F0ZUlkXCJ9LGZpZWxkc0luZGV4Om5ldyBpKGUuZmllbGRzKS50b0pTT04oKSxnbG9iYWxJZEZpZWxkOm51bGwsc3BhdGlhbFJlZmVyZW5jZTpvLm1ldGFkYXRhLnNwYXRpYWxSZWZlcmVuY2Usb3V0U3BhdGlhbFJlZmVyZW5jZTpvLm1ldGFkYXRhLm91dFNwYXRpYWxSZWZlcmVuY2Usc3VidHlwZUZpZWxkOm51bGwsc3VidHlwZXM6bnVsbCx0aW1lSW5mbzpudWxsLHRpbWVSZWZlcmVuY2VVbmtub3duQ2xpZW50Om51bGwsZGF0ZUZpZWxkc1RpbWVab25lOm51bGwsdHlwZUlkRmllbGQ6bnVsbCx0eXBlczpudWxsfSl9Y3JlYXRlU3RhdGUoZSl7cmV0dXJuIG5ldyBnKGUsdGhpcy5fYXR0cmlidXRlU3RvcmUpfWFzeW5jKmFwcGx5T3ZlcnJpZGVVcGRhdGUoZSl7Zm9yKGNvbnN0IHQgb2YgdGhpcy5fc2VuZFN0YXRlcy52YWx1ZXMoKSl7dC5yZXNldCgpO2NvbnN0IGU9bmV3IGQodC5zdWJzY3JpcHRpb24saC5lbXB0eSh0aGlzLl9zb3VyY2UubWV0YWRhdGEpLCEwLCExLHt9KTt5aWVsZCBlfX1kaXNwbGF5TWFwKGUsdCxzKXtjb25zdCBhPW5ldyBNYXAoZS5tYXAoKGU9Plt0KGUpLGVdKSkpLHI9W107Zm9yKGNvbnN0IGkgb2YgdGhpcy5fc2VuZFN0YXRlcy52YWx1ZXMoKSlmb3IoY29uc3QgZSBvZiBpLmZlYXR1cmVzV29ybGRTcGFjZSgpKXtjb25zdHtvYmplY3RJZDp0LGRpc3BsYXlJZDppfT1lLG89YS5nZXQodCk7aWYobnVsbCE9byl7Y29uc3QgZT1zKGksbyx0KTtyLnB1c2goZSksYS5kZWxldGUodCl9fXJldHVybiByfWdldERpc3BsYXlGZWF0dXJlcyhlKXtjb25zdCBzPW5ldyBTZXQoZSksYT1uZXcgU2V0LHI9W107Zm9yKGNvbnN0IGkgb2YgdGhpcy5fc2VuZFN0YXRlcy52YWx1ZXMoKSlmb3IoY29uc3QgZSBvZiBpLmZlYXR1cmVzV29ybGRTcGFjZSgpKXMuaGFzKGUuZGlzcGxheUlkKSYmIWEuaGFzKGUub2JqZWN0SWQpJiYoZS5nZW9tZXRyeSYmci5wdXNoKHsuLi50KGUsdGhpcy5fbWV0YWRhdGEuZ2VvbWV0cnlUeXBlLCExLCExKSxkaXNwbGF5SWQ6ZS5kaXNwbGF5SWR9KSxhLmFkZChlLm9iamVjdElkKSk7cmV0dXJue2ZlYXR1cmVzOltdLGFnZ3JlZ2F0ZXM6cix0cmFja3M6W119fWdldEZlYXR1cmVPYmplY3RJZHNGb3JBZ2dyZWdhdGUoZSl7Zm9yKGNvbnN0IHQgb2YgdGhpcy5fc2VuZFN0YXRlcy52YWx1ZXMoKSlmb3IoY29uc3QgcyBvZiB0LmJpbnMudmFsdWVzKCkpaWYocy5pZD09PWUpcmV0dXJuIEFycmF5LmZyb20ocy5jb250YWluZWRPYmplY3RJZHMpO3JldHVybltdfWFzeW5jKnVwZGF0ZUNodW5rcygpe2Zvcihjb25zdCBlIG9mIHRoaXMuX3NlbmRTdGF0ZXMudmFsdWVzKCkpeWllbGQqdGhpcy5fdXBkYXRlKGUsdGhpcy5fc291cmNlKX1mb3JFYWNoQWdncmVnYXRlV29ybGRTcGFjZShlKXtjb25zdCB0PW5ldyBTZXQ7Zm9yKGNvbnN0IHMgb2YgdGhpcy5fc2VuZFN0YXRlcy52YWx1ZXMoKSlmb3IoY29uc3QgYSBvZiBzLmZlYXR1cmVzV29ybGRTcGFjZSgpKXQuaGFzKGEub2JqZWN0SWQpfHwoZShhKSx0LmFkZChhLm9iamVjdElkKSl9X2NyZWF0ZUluZGV4T3B0aW9ucyhlKXtzd2l0Y2godGhpcy5fc2NoZW1hLmluZGV4LnR5cGUpe2Nhc2VcImdlb2hhc2hcIjpyZXR1cm57dHlwZTpcImdlb2hhc2hcIixmaWVsZHM6dGhpcy5hZ2dyZWdhdGVGaWVsZHMsZmVhdHVyZUZpbHRlcjp0aGlzLl9mZWF0dXJlRmlsdGVyLGdlb2hhc2hMZXZlbDp0aGlzLl9zY2hlbWEuaW5kZXguZml4QmluTGV2ZWwsc3BhdGlhbFJlZmVyZW5jZTp0aGlzLnNwYXRpYWxSZWZlcmVuY2UsYXJjYWRlQ29udGV4dEluZm86dGhpcy5fYXJjYWRlQ29udGV4dEluZm8sc2NhbGU6ZS5zY2FsZSxzcWxPcHRpb25zOnRoaXMuX3NxbE9wdGlvbnN9O2Nhc2VcImdyaWRcIjp7Y29uc3QgdD10aGlzLl9zY2hlbWEuaW5kZXguZml4ZWRCaW5MZXZlbCxzPW51bGwhPXQ/ZS50aWxlSW5mb1ZpZXcuZ2V0TE9ESW5mb0F0KHQpLnNjYWxlOmUuc2NhbGU7cmV0dXJue3R5cGU6XCJncmlkXCIsZmllbGRzOnRoaXMuYWdncmVnYXRlRmllbGRzLGNlbGxTaXplOnRoaXMuX3NjaGVtYS5pbmRleC5zaXplLGZlYXR1cmVGaWx0ZXI6dGhpcy5fZmVhdHVyZUZpbHRlcixzcGF0aWFsUmVmZXJlbmNlOnRoaXMuc3BhdGlhbFJlZmVyZW5jZSxhcmNhZGVDb250ZXh0SW5mbzp0aGlzLl9hcmNhZGVDb250ZXh0SW5mbyxzY2FsZTpzLHNxbE9wdGlvbnM6dGhpcy5fc3FsT3B0aW9uc319fX1hc3luYypfdXBkYXRlKGUsdCl7Y29uc3R7aGFuZGxlZENodW5rczpzLHN1YnNjcmlwdGlvbjpyLGJpbnM6aSxmZWF0dXJlQ2FjaGU6b309ZSxuPXIudGlsZTtpZihlLmRvbmUpcmV0dXJuO2Zvcihjb25zdCBhIG9mIHQuY2h1bmtzKCkpe2lmKHMuaGFzKGEuY2h1bmtJZCkpY29udGludWU7cy5hZGQoYS5jaHVua0lkKTtjb25zdCB0PWEucXVlcnlJbmZvO2lmKFwidGlsZUlkXCJpbiB0KXtjb25zdCBlPW5ldyBtKHQudGlsZUlkKTtpZihlLmxldmVsIT09bi5sZXZlbHx8ZS53b3JsZCE9PW4ua2V5LndvcmxkKWNvbnRpbnVlfWEuZ2V0QWdncmVnYXRlSW5kZXgodGhpcy5fY3JlYXRlSW5kZXhPcHRpb25zKGUudGlsZSkpLnB1dEJvdW5kZWQoaSxlLnRpbGUuZXh0ZW50LGUudGlsZS5yZXNvbHV0aW9uKX1jb25zdCBsPVtdLGQ9ci50aWxlLnRyYW5zZm9ybSx1PXIudGlsZS5rZXkubGV2ZWw7Zm9yKGNvbnN0IGMgb2YgaS52YWx1ZXMoKSl7bGV0IGU9by5nZXQoYy5pZCk7aWYoZSllLmF0dHJpYnV0ZXM9Yy5nZXRBdHRyaWJ1dGVzKCk7ZWxzZXtjb25zdCB0PWMuZ2V0R2VvbWV0cnkodGhpcy5zcGF0aWFsUmVmZXJlbmNlLGQpO2U9bmV3IGEodCxjLmdldEF0dHJpYnV0ZXMoKSxudWxsLGMuaWQpLHR8fChlLmNlbnRyb2lkPWMuZ2V0R2VvbWV0cmljQ2VudHJvaWQodGhpcy5zcGF0aWFsUmVmZXJlbmNlLGQpKSxlLmRpc3BsYXlJZD10aGlzLl9hdHRyaWJ1dGVTdG9yZS5jcmVhdGVEaXNwbGF5SWRGb3JPYmplY3RJZChgJHtlLm9iamVjdElkfS4ke3V9YCksby5zZXQoYy5pZCxlKX1sLnB1c2goZSl9dGhpcy5ldmVudHMuZW1pdChcImNoYW5nZWRcIiksZS5kb25lPSF0LnVwZGF0ZVRyYWNraW5nLnVwZGF0aW5nO2NvbnN0IGY9aC5mcm9tT3B0aW1pemVkRmVhdHVyZXMobCx0aGlzLl9tZXRhZGF0YSxkKSxwPWYuZ2V0Q3Vyc29yKCksZz1lLnN1YnNjcmlwdGlvbi50aWxlLmNyZWF0ZUFyY2FkZUV2YWx1YXRpb25PcHRpb25zKHRoaXMuX2FyY2FkZUNvbnRleHRJbmZvKTtmb3IoO3AubmV4dCgpOyl0aGlzLl9hdHRyaWJ1dGVTdG9yZS5zZXRBdHRyaWJ1dGVEYXRhKHAuZ2V0RGlzcGxheUlkKCkscCxnLHRoaXMuX3NxbE9wdGlvbnMpO2NvbnN0IHk9bmV3IGMoZS5zdWJzY3JpcHRpb24sZixbXSxlLmRvbmUse30pO3lpZWxkIHl9fWV4cG9ydHtnIGFzIEJpbm5pbmdTdGF0ZSx5IGFzIEJpbm5pbmdTdHJhdGVneX07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4zMy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e2NvbnZlcnRUb0ZlYXR1cmUgYXMgZX1mcm9tXCIuLi8uLi8uLi8uLi8uLi9sYXllcnMvZ3JhcGhpY3MvZmVhdHVyZUNvbnZlcnNpb25VdGlscy5qc1wiO2ltcG9ydHtPcHRpbWl6ZWRGZWF0dXJlIGFzIHR9ZnJvbVwiLi4vLi4vLi4vLi4vLi4vbGF5ZXJzL2dyYXBoaWNzL09wdGltaXplZEZlYXR1cmUuanNcIjtpbXBvcnQgcyBmcm9tXCIuLi8uLi8uLi8uLi8uLi9sYXllcnMvZ3JhcGhpY3MvT3B0aW1pemVkR2VvbWV0cnkuanNcIjtpbXBvcnQgaSBmcm9tXCIuLi8uLi8uLi8uLi8uLi9sYXllcnMvc3VwcG9ydC9GaWVsZHNJbmRleC5qc1wiO2ltcG9ydHt0aWxlU2l6ZSBhcyByfWZyb21cIi4uLy4uLy4uL2VuZ2luZS93ZWJnbC9kZWZpbml0aW9ucy5qc1wiO2ltcG9ydHtDb21wdXRlZEFnZ3JlZ2F0ZUZpZWxkIGFzIG59ZnJvbVwiLi4vYWdncmVnYXRpb24vQ29tcHV0ZWRBZ2dyZWdhdGVGaWVsZC5qc1wiO2ltcG9ydHtHcmlkQ2VsbCBhcyBhfWZyb21cIi4uL2FnZ3JlZ2F0aW9uL0dyaWRDZWxsLmpzXCI7aW1wb3J0e3BpeGVsc1Blck1hcFVuaXQgYXMgbH1mcm9tXCIuLi9hZ2dyZWdhdGlvbi9HcmlkU3BhdGlhbEluZGV4LmpzXCI7aW1wb3J0e0FBZ2dyZWdhdGVTdHJhdGVneSBhcyBvfWZyb21cIi4vQUFnZ3JlZ2F0ZVN0cmF0ZWd5LmpzXCI7aW1wb3J0e0FTZW5kU3RhdGUgYXMgZH1mcm9tXCIuL0FQcm9jZXNzb3JTdHJhdGVneS5qc1wiO2ltcG9ydHtXaXRoRGlzcGxheUlkIGFzIHV9ZnJvbVwiLi9zdXBwb3J0L1dpdGhEaXNwbGF5SWQuanNcIjtpbXBvcnR7RmVhdHVyZVRpbGVBcHBlbmRNZXNzYWdlIGFzIGN9ZnJvbVwiLi4vc291cmNlcy9GZWF0dXJlU291cmNlTWVzc2FnZS5qc1wiO2ltcG9ydHtDb21wdXRlZEF0dHJpYnV0ZVN0b3JhZ2UgYXMgaH1mcm9tXCIuLi9zdXBwb3J0L0NvbXB1dGVkQXR0cmlidXRlU3RvcmFnZS5qc1wiO2ltcG9ydCBwIGZyb21cIi4uL3N1cHBvcnQvRmVhdHVyZUZpbHRlckV2YWx1YXRvci5qc1wiO2ltcG9ydHtGZWF0dXJlTWV0YWRhdGEgYXMgZn1mcm9tXCIuLi9zdXBwb3J0L0ZlYXR1cmVNZXRhZGF0YS5qc1wiO2ltcG9ydHtGZWF0dXJlU2V0UmVhZGVySlNPTiBhcyBnfWZyb21cIi4uL3N1cHBvcnQvRmVhdHVyZVNldFJlYWRlckpTT04uanNcIjtpbXBvcnQgXyBmcm9tXCIuLi8uLi8uLi90aWxpbmcvVGlsZUtleS5qc1wiO2NvbnN0IG09MTI4O2NsYXNzIHkgZXh0ZW5kcyBke2NvbnN0cnVjdG9yKGUpe3N1cGVyKGUpLHRoaXMuZGlkU2VuZD0hMSx0aGlzLmRvbmU9ITF9fWNsYXNzIFN7Y29uc3RydWN0b3IoZSx0LHMsaSxyKXt0aGlzLl9sZXZlbD1lLHRoaXMuX3NjYWxlPXQsdGhpcy5faW5kZXhPcHRpb25zPXMsdGhpcy5fY2x1c3RlclJhZGl1cz1pLHRoaXMuX3N0b3JlPXIsdGhpcy5fY2VsbHM9bmV3IE1hcCx0aGlzLl9oYW5kbGVkQ2h1bmtzPW5ldyBTZXQsdGhpcy5fc3RhdGlzdGljcz1uZXcgTWFwLHRoaXMuX2NsdXN0ZXJzPW5ldyBNYXB9ZGVzdHJveSgpe3RoaXMuX2NsZWFyQ2x1c3RlcnMoKX1fY2xlYXJDbHVzdGVycygpe2Zvcihjb25zdCBlIG9mIHRoaXMuX2NsdXN0ZXJzLnZhbHVlcygpKXRoaXMuX3N0b3JlLnJlbGVhc2VEaXNwbGF5SWRGb3JPYmplY3RJZChlLmlubmVyLmlkKTt0aGlzLl9jbHVzdGVycy5jbGVhcigpfSphZ2dyZWdhdGVzV29ybGRTcGFjZSgpe2Zvcihjb25zdCBlIG9mIHRoaXMuX2NsdXN0ZXJzLnZhbHVlcygpKXtjb25zdCBzPWUuaW5uZXIuZ2V0Q2VudHJvaWQobnVsbCksaT1uZXcgdChzLGUuaW5uZXIuZ2V0QXR0cmlidXRlcygpLG51bGwsZS5pbm5lci5pZCxlLmRpc3BsYXlJZCk7eWllbGQgaX19Y2x1c3RlcnMoKXtyZXR1cm4gdGhpcy5fY2x1c3RlcnMudmFsdWVzKCl9dXBkYXRlQ2h1bmtzKGUsdCl7bGV0IHM9ITE7Zm9yKGNvbnN0IGEgb2YgZSl7Y29uc3QgZT1hLnF1ZXJ5SW5mbztpZihcInRpbGVJZFwiaW4gZSl7aWYobmV3IF8oZS50aWxlSWQpLmxldmVsIT09dGhpcy5fbGV2ZWwpY29udGludWV9aWYoIXRoaXMuX2hhbmRsZWRDaHVua3MuaGFzKGEubm9ybWFsaXplZENodW5rSWQpKXt0aGlzLl9oYW5kbGVkQ2h1bmtzLmFkZChhLm5vcm1hbGl6ZWRDaHVua0lkKSxzPSEwO2EuZ2V0QWdncmVnYXRlSW5kZXgoey4uLnRoaXMuX2luZGV4T3B0aW9ucyxzY2FsZTp0aGlzLl9zY2FsZX0pLnB1dCh0aGlzLl9jZWxscyl9fWNvbnN0IGk9e3hNaW46MS8wLHlNaW46MS8wLHhNYXg6LTEvMCx5TWF4Oi0xLzB9LHI9bCh0aGlzLl9pbmRleE9wdGlvbnMuc3BhdGlhbFJlZmVyZW5jZSx0aGlzLl9zY2FsZSksbj10aGlzLl9pbmRleE9wdGlvbnMuY2VsbFNpemU7Zm9yKGNvbnN0e3N1YnNjcmlwdGlvbjphfW9mIHQpe2NvbnN0IGU9YS50aWxlLmJvdW5kcyx0PU1hdGguZmxvb3IoZVswXSpyL24pLHM9TWF0aC5mbG9vcihlWzFdKnIvbiksbD1NYXRoLmNlaWwoZVsyXSpyL24pLG89TWF0aC5jZWlsKGVbM10qci9uKTtpLnhNaW49TWF0aC5taW4oaS54TWluLHQpLGkueU1pbj1NYXRoLm1pbihpLnlNaW4scyksaS54TWF4PU1hdGgubWF4KGkueE1heCxsKSxpLnlNYXg9TWF0aC5tYXgoaS55TWF4LG8pfXJldHVybiBudWxsIT10aGlzLl9sYXN0Q2VsbEJvdW5kcyYmaS54TWluPT09dGhpcy5fbGFzdENlbGxCb3VuZHMueE1pbiYmaS55TWluPT09dGhpcy5fbGFzdENlbGxCb3VuZHMueU1pbiYmaS55TWluPT09dGhpcy5fbGFzdENlbGxCb3VuZHMueU1pbiYmaS55TWF4PT09dGhpcy5fbGFzdENlbGxCb3VuZHMueU1heHx8KHM9ITAsdGhpcy5fbGFzdENlbGxCb3VuZHM9aSkscyYmdGhpcy5fY2x1c3RlckNlbGxzKGkpLHN9YXN5bmMgdXBkYXRlU3RhdGlzdGljcyhlKXtsZXQgdD0hMTtmb3IoY29uc3QgcyBvZiB0aGlzLl9jbHVzdGVycy52YWx1ZXMoKSlzLmlubmVyLmNvdW50PjEmJih0PXRoaXMuX3VwZGF0ZUFnZ3JlZ2F0ZVN0YXRpc3RpY3ModGhpcy5fc3RhdGlzdGljcyxzLmlubmVyKXx8dCk7aWYodCl7Y29uc3QgdD1BcnJheS5mcm9tKHRoaXMuX3N0YXRpc3RpY3MuZW50cmllcygpKS5tYXAoKChbZSx0XSk9Pih7ZmllbGROYW1lOmUsbWluVmFsdWU6dC5taW5WYWx1ZSxtYXhWYWx1ZTp0Lm1heFZhbHVlfSkpKTthd2FpdCBlLmNvbnRhaW5lci51cGRhdGVTdGF0aXN0aWNzKHRoaXMuX2xldmVsLHQpfX1jcmVhdGVBZ2dyZWdhdGVGZWF0dXJlcyhlLGkpe2NvbnN0IG49ZS5zdWJzY3JpcHRpb24sYT1bXSxsPW4udGlsZS50cmFuc2Zvcm07Zm9yKGNvbnN0IG8gb2YgdGhpcy5fY2x1c3RlcnMudmFsdWVzKCkpe2xldCBlPW8uaW5uZXIuZ2V0Q2VudHJvaWRYKGwpO2NvbnN0IGk9by5pbm5lci5nZXRDZW50cm9pZFkobCksZD1uLnRpbGUubG9kLHU9ZC53cmFwP2Qud29ybGRTaXplWzBdOm51bGwsYz0xPT09by5pbm5lci5jb3VudD9vLmlubmVyLmZpcnN0T2JqZWN0SWQ6by5pbm5lci5pZCxoPW8uZGlzcGxheUlkO2lmKG51bGwhPXUpaWYoMT09PXUpe2NvbnN0IG49bmV3IHMoW10sW2UsaV0pLGw9bmV3IHQobixvLmlubmVyLmdldEF0dHJpYnV0ZXMoKSxudWxsLGMsaCk7bC5nZW9tZXRyeS5jb29yZHNbMF0tPXIsYS5wdXNoKGwpO2NvbnN0IGQ9bmV3IHMoW10sW2UsaV0pLHU9bmV3IHQoZCxvLmlubmVyLmdldEF0dHJpYnV0ZXMoKSxudWxsLGMsaCk7dS5nZW9tZXRyeS5jb29yZHNbMF0rPXIsYS5wdXNoKHUpfWVsc2UgZT5yK3IvMj9lLT11KnI6ZTwtMjU2JiYoZSs9dSpyKTtpZihlPHIrbSYmZT49LTEyOCYmaTxyK20mJmk+PS0xMjgpe2NvbnN0IHI9bmV3IHMoW10sW2UsaV0pLG49bmV3IHQocixvLmlubmVyLmdldEF0dHJpYnV0ZXMoKSxudWxsLGMsaCk7YS5wdXNoKG4pfX1yZXR1cm4gZy5mcm9tT3B0aW1pemVkRmVhdHVyZXMoYSxpLG4udGlsZS50cmFuc2Zvcm0pfV9jbHVzdGVyQ2VsbHMoZSl7bGV0IHQ9QXJyYXkuZnJvbSh0aGlzLl9jZWxscy52YWx1ZXMoKSk7dD10LnNvcnQoKChlLHQpPT50LmNvdW50LWUuY291bnQpKTtjb25zdCBzPVtdO2Zvcihjb25zdCBhIG9mIHRoaXMuX2NsdXN0ZXJzLnZhbHVlcygpKXMucHVzaChhLmlubmVyLmlkKTt0aGlzLl9jbHVzdGVycy5jbGVhcigpO2NvbnN0IGk9dGhpcy5fY2x1c3RlclJhZGl1cyooMS9sKHRoaXMuX2luZGV4T3B0aW9ucy5zcGF0aWFsUmVmZXJlbmNlLHRoaXMuX3NjYWxlKSkscj0xK3RoaXMuX2NsdXN0ZXJSYWRpdXMvdGhpcy5faW5kZXhPcHRpb25zLmNlbGxTaXplLG49bmV3IFNldDtmb3IoY29uc3QgbCBvZiB0KXtpZihuLmhhcyhsLmlkKSljb250aW51ZTtpZihsLmdyaWRYPGUueE1pbnx8bC5ncmlkWD5lLnhNYXh8fGwuZ3JpZFk8ZS55TWlufHxsLmdyaWRZPmUueU1heCljb250aW51ZTtjb25zdCB0PXRoaXMuX3N0b3JlLmNyZWF0ZURpc3BsYXlJZEZvck9iamVjdElkKGwuaWQpLHM9bmV3IHUobC5jbG9uZSgpLHQpO24uYWRkKGwuaWQpLHRoaXMuX2NsdXN0ZXJzLnNldChsLmlkLHMpO2NvbnN0IG89bC5jZW50cm9pZFhXb3JsZCxkPWwuY2VudHJvaWRZV29ybGQ7Zm9yKGxldCBlPWwuZ3JpZFktcjtlPD1sLmdyaWRZK3I7ZSsrKWZvcihsZXQgdD1sLmdyaWRYLXI7dDw9bC5ncmlkWCtyO3QrKyl7aWYoZT09PWwuZ3JpZFkmJnQ9PT1sLmdyaWRYKWNvbnRpbnVlO2NvbnN0IHI9dGhpcy5fY2VsbHMuZ2V0KGEuY3JlYXRlSWQodCxlKSk7aWYoIXJ8fG4uaGFzKHIuaWQpKWNvbnRpbnVlO2NvbnN0IHU9TWF0aC5hYnMoci5jZW50cm9pZFhXb3JsZC1vKSxjPU1hdGguYWJzKHIuY2VudHJvaWRZV29ybGQtZCk7dTxpJiZjPGkmJihzLmlubmVyLm1lcmdlKHIpLG4uYWRkKHIuaWQpKX19Zm9yKGNvbnN0IGEgb2Ygcyl0aGlzLl9zdG9yZS5yZWxlYXNlRGlzcGxheUlkRm9yT2JqZWN0SWQoYSl9X3VwZGF0ZUFnZ3JlZ2F0ZVN0YXRpc3RpY3MoZSx0KXtsZXQgcz0hMTtmb3IoY29uc3QgaSBvZiB0LnN0YXRpc3RpY3MudmFsdWVzKCkpe2lmKFwiZXNyaUZpZWxkVHlwZVN0cmluZ1wiPT09aS5maWVsZC50eXBlKWNvbnRpbnVlO2NvbnN0IHQ9aS52YWx1ZSxyPWkuZmllbGQsbj1lLmdldChyLm5hbWUpO2lmKG4pe2NvbnN0e21pblZhbHVlOmUsbWF4VmFsdWU6aX09bixyPU1hdGgubWluKG4ubWluVmFsdWUsdCksYT1NYXRoLm1heChuLm1heFZhbHVlLHQpO2U9PT1yJiZpPT09YXx8KG4ubWluVmFsdWU9cixuLm1heFZhbHVlPWEscz0hMCl9ZWxzZSBlLnNldChyLm5hbWUse21pblZhbHVlOnQsbWF4VmFsdWU6dH0pLHM9ITB9cmV0dXJuIHN9fWNsYXNzIHggZXh0ZW5kcyBve3N0YXRpYyBhc3luYyBjcmVhdGUoZSx0LHMsaSxyLGEsbCl7Y29uc3Qgbz1uZXcgaCh7c3BhdGlhbFJlZmVyZW5jZTpzfSksZD17dHlwZTpcImdyaWRcIixmaWVsZHM6YXdhaXQgUHJvbWlzZS5hbGwodC5maWVsZHMubWFwKChhc3luYyBlPT5uLmNyZWF0ZShvLGUpKSkpLHNwYXRpYWxSZWZlcmVuY2U6cyxmZWF0dXJlRmlsdGVyOnQuZmVhdHVyZUZpbHRlcj9hd2FpdCBwLmNyZWF0ZSh7Z2VvbWV0cnlUeXBlOmkubWV0YWRhdGEuZ2VvbWV0cnlUeXBlLGhhc006ITEsaGFzWjohMSx0aW1lSW5mbzppLm1ldGFkYXRhLnRpbWVJbmZvLGZpZWxkc0luZGV4OmkubWV0YWRhdGEuZmllbGRzSW5kZXgsc3BhdGlhbFJlZmVyZW5jZTpzLGZpbHRlckpTT046dC5mZWF0dXJlRmlsdGVyfSk6bnVsbCxjZWxsU2l6ZTp0LmNsdXN0ZXJSYWRpdXMvNCxhcmNhZGVDb250ZXh0SW5mbzphLHNxbE9wdGlvbnM6bH07cmV0dXJuIG5ldyB4KGUsdC5jbHVzdGVyUmFkaXVzLGQsdC5maWVsZHMsaSxyLGwpfWNvbnN0cnVjdG9yKGUsdCxzLHIsbixhLGwpe3N1cGVyKG4sYSxzLnNwYXRpYWxSZWZlcmVuY2Uscy5maWVsZHMsbCksdGhpcy5fY29ubmVjdGlvbj1lLHRoaXMuX2NsdXN0ZXJSYWRpdXM9dCx0aGlzLl9pbmRleE9wdGlvbnM9cyx0aGlzLl9jZWxsc1BlclNjYWxlPW5ldyBNYXAsdGhpcy5fbWV0YWRhdGE9Zi5jcmVhdGVGZWF0dXJlKHtnZW9tZXRyeVR5cGU6XCJlc3JpR2VvbWV0cnlQb2ludFwiLGZlYXR1cmVJZEluZm86e3R5cGU6XCJvYmplY3QtaWRcIixmaWVsZE5hbWU6XCJhZ2dyZWdhdGVJZFwifSxmaWVsZHNJbmRleDpuZXcgaShbLi4uciwuLi50aGlzLl9zb3VyY2UubWV0YWRhdGEuZmllbGRzSW5kZXguZmllbGRzLHtuYW1lOlwiYWdncmVnYXRlSWRcIixhbGlhczpcImFnZ3JlZ2F0ZUlkXCIsdHlwZTpcImVzcmlGaWVsZFR5cGVPSURcIn1dKS50b0pTT04oKSxnbG9iYWxJZEZpZWxkOm51bGwsc3BhdGlhbFJlZmVyZW5jZTpuLm1ldGFkYXRhLnNwYXRpYWxSZWZlcmVuY2Usb3V0U3BhdGlhbFJlZmVyZW5jZTpuLm1ldGFkYXRhLm91dFNwYXRpYWxSZWZlcmVuY2Usc3VidHlwZUZpZWxkOm51bGwsc3VidHlwZXM6bnVsbCx0aW1lSW5mbzpudWxsLHRpbWVSZWZlcmVuY2VVbmtub3duQ2xpZW50Om51bGwsZGF0ZUZpZWxkc1RpbWVab25lOm51bGwsdHlwZUlkRmllbGQ6bnVsbCx0eXBlczpudWxsfSl9Z2V0IGVuYWJsZVBpeGVsQnVmZmVyaW5nKCl7cmV0dXJuITF9aW52YWxpZGF0ZSgpe3N1cGVyLmludmFsaWRhdGUoKTtmb3IoY29uc3QgZSBvZiB0aGlzLl9jZWxsc1BlclNjYWxlLnZhbHVlcygpKWUuZGVzdHJveSgpO3RoaXMuX2NlbGxzUGVyU2NhbGUuY2xlYXIoKX1vblN1YnNjcmliZShlKXtzdXBlci5vblN1YnNjcmliZShlKSx0aGlzLl9yZXF1aXJlZExldmVsPWUudGlsZS5sZXZlbCx0aGlzLl9yZXF1aXJlZFNjYWxlPWUudGlsZS5zY2FsZX1jcmVhdGVTdGF0ZShlKXtyZXR1cm4gbmV3IHkoZSl9YXN5bmMqYXBwbHlPdmVycmlkZVVwZGF0ZShlKXtmb3IoY29uc3QgdCBvZiB0aGlzLl9jZWxsc1BlclNjYWxlLnZhbHVlcygpKXQuZGVzdHJveSgpO3RoaXMuX2NlbGxzUGVyU2NhbGUuY2xlYXIoKTtmb3IoY29uc3QgdCBvZiB0aGlzLl9zZW5kU3RhdGVzLnZhbHVlcygpKXQuZG9uZT0hMX1kaXNwbGF5TWFwKGUsdCxzKXtjb25zdCBpPW5ldyBNYXAoZS5tYXAoKGU9Plt0KGUpLGVdKSkpLHI9W10sbj10aGlzLl9nZXRDbHVzdGVyU3RhdGUodGhpcy5fcmVxdWlyZWRMZXZlbCx0aGlzLl9yZXF1aXJlZFNjYWxlKTtmb3IoY29uc3QgYSBvZiBuLmNsdXN0ZXJzKCkpe2NvbnN0IGU9aS5nZXQoYS5pbm5lci5pZCk7aWYobnVsbD09ZSl7aWYoMT09PWEuaW5uZXIuY291bnQpe2NvbnN0e2ZpcnN0T2JqZWN0SWQ6ZX09YS5pbm5lcix0PWU/aS5nZXQoZSk6bnVsbDtpZihudWxsIT10KXtjb25zdCBuPXMoYS5kaXNwbGF5SWQsdCxlKTtyLnB1c2gobiksaS5kZWxldGUoZSl9fX1lbHNle2NvbnN0IHQ9cyhhLmRpc3BsYXlJZCxlLGEuaW5uZXIuaWQpO3IucHVzaCh0KSxpLmRlbGV0ZShhLmlubmVyLmlkKX19cmV0dXJuIHJ9Z2V0RGlzcGxheUZlYXR1cmVzKHQpe2NvbnN0IHM9bmV3IFNldCh0KSxpPW5ldyBTZXQscj1bXSxuPVtdLGE9dGhpcy5fZ2V0Q2x1c3RlclN0YXRlKHRoaXMuX3JlcXVpcmVkTGV2ZWwsdGhpcy5fcmVxdWlyZWRTY2FsZSk7Zm9yKGNvbnN0IGwgb2YgYS5hZ2dyZWdhdGVzV29ybGRTcGFjZSgpKWlmKHMuaGFzKGwuZGlzcGxheUlkKSYmIWkuaGFzKGwuZGlzcGxheUlkKSl7Y29uc3QgdD1lKGwsdGhpcy5fbWV0YWRhdGEuZ2VvbWV0cnlUeXBlLCExLCExKTtpZihpLmFkZChsLmRpc3BsYXlJZCksMT09PXQuYXR0cmlidXRlcy5jbHVzdGVyX2NvdW50KXtyLnB1c2goey4uLnQsZGlzcGxheUlkOmwuZGlzcGxheUlkfSk7Y29udGludWV9bi5wdXNoKHsuLi50LGRpc3BsYXlJZDpsLmRpc3BsYXlJZH0pfXJldHVybntmZWF0dXJlczpyLGFnZ3JlZ2F0ZXM6bix0cmFja3M6W119fWdldEZlYXR1cmVPYmplY3RJZHNGb3JBZ2dyZWdhdGUoZSl7Y29uc3QgdD10aGlzLl9nZXRDbHVzdGVyU3RhdGUodGhpcy5fcmVxdWlyZWRMZXZlbCx0aGlzLl9yZXF1aXJlZFNjYWxlKTtmb3IoY29uc3QgcyBvZiB0LmNsdXN0ZXJzKCkpaWYocy5pbm5lci5pZD09PWUpcmV0dXJuIEFycmF5LmZyb20ocy5pbm5lci5jb250YWluZWRPYmplY3RJZHMpO3JldHVybltdfWFzeW5jKnVwZGF0ZUNodW5rcygpe2NvbnN0IGU9dGhpcy5fc291cmNlLmNodW5rcygpO2lmKCFlLmxlbmd0aClyZXR1cm47Y29uc3QgdD10aGlzLl9nZXRDbHVzdGVyU3RhdGUodGhpcy5fcmVxdWlyZWRMZXZlbCx0aGlzLl9yZXF1aXJlZFNjYWxlKSxzPUFycmF5LmZyb20odGhpcy5fc2VuZFN0YXRlcy52YWx1ZXMoKSkuZmlsdGVyKChlPT5lLnN1YnNjcmlwdGlvbi50aWxlLmxldmVsPT09dGhpcy5fcmVxdWlyZWRMZXZlbCkpO2lmKHQudXBkYXRlQ2h1bmtzKGUscyl8fCF0aGlzLl9zb3VyY2UudXBkYXRlVHJhY2tpbmcudXBkYXRpbmcpZm9yKGNvbnN0IG4gb2YgcyluLnN1YnNjcmlwdGlvbi50aWxlLmxldmVsPT09dGhpcy5fcmVxdWlyZWRMZXZlbCYmKG4uZGlkU2VuZD0hMSxuLmRvbmU9ITEpO2NvbnN0IGk9QXJyYXkuZnJvbSh0aGlzLl9zZW5kU3RhdGVzLnZhbHVlcygpKS5maWx0ZXIoKGU9PmUuZG9uZSkpLm1hcCgoZT0+ZS5zdWJzY3JpcHRpb24udGlsZS5rZXkpKSxyPW5ldyBTZXQoaSk7Zm9yKGNvbnN0IG4gb2YgdGhpcy5fc2VuZFN0YXRlcy52YWx1ZXMoKSl7aWYodGhpcy5fc291cmNlLnVwZGF0ZVRyYWNraW5nLnVwZGF0aW5nKXtpZihpLnNvbWUoKGU9PmUuY29udGFpbnNDaGlsZChuLnN1YnNjcmlwdGlvbi50aWxlLmtleSkpKSljb250aW51ZTtpZihuLnN1YnNjcmlwdGlvbi50aWxlLmtleS5nZXRDaGlsZEtleXMoKS5ldmVyeSgoZT0+ci5oYXMoZSkpKSljb250aW51ZX1uLmRpZFNlbmR8fG4uc3Vic2NyaXB0aW9uLnRpbGUubGV2ZWwhPT10aGlzLl9yZXF1aXJlZExldmVsfHwobi5kaWRTZW5kPSEwLHlpZWxkKnRoaXMuX3VwZGF0ZShuLHQsdGhpcy5fc291cmNlKSl9YXdhaXQgdC51cGRhdGVTdGF0aXN0aWNzKHRoaXMuX2Nvbm5lY3Rpb24pfWZvckVhY2hBZ2dyZWdhdGVXb3JsZFNwYWNlKGUpe2lmKG51bGw9PXRoaXMuX3JlcXVpcmVkTGV2ZWx8fG51bGw9PXRoaXMuX3JlcXVpcmVkU2NhbGUpcmV0dXJuO2NvbnN0IHQ9dGhpcy5fZ2V0Q2x1c3RlclN0YXRlKHRoaXMuX3JlcXVpcmVkTGV2ZWwsdGhpcy5fcmVxdWlyZWRTY2FsZSk7Zm9yKGNvbnN0IHMgb2YgdC5hZ2dyZWdhdGVzV29ybGRTcGFjZSgpKWUocyl9X2dldENsdXN0ZXJTdGF0ZShlLHQpe2lmKG51bGw9PWV8fG51bGw9PXQpdGhyb3cgbmV3IEVycm9yKFwiSW50ZXJuYWxFcnJvcjogTGV2ZWwgYW5kIHNjYWxlIG11c3QgYmUgZGVmaW5lZFwiKTtsZXQgcz10aGlzLl9jZWxsc1BlclNjYWxlLmdldCh0KTtyZXR1cm4gc3x8KHM9bmV3IFMoZSx0LHRoaXMuX2luZGV4T3B0aW9ucyx0aGlzLl9jbHVzdGVyUmFkaXVzLHRoaXMuX2F0dHJpYnV0ZVN0b3JlKSx0aGlzLl9jZWxsc1BlclNjYWxlLnNldCh0LHMpKSxzfWFzeW5jKl91cGRhdGUoZSx0LHMpe2lmKGUuZG9uZSlyZXR1cm47Y29uc3QgaT10LmNyZWF0ZUFnZ3JlZ2F0ZUZlYXR1cmVzKGUsdGhpcy5fbWV0YWRhdGEpO3RoaXMuZXZlbnRzLmVtaXQoXCJjaGFuZ2VkXCIpLGUuZG9uZT0hcy51cGRhdGVUcmFja2luZy51cGRhdGluZztjb25zdCByPWkuZ2V0Q3Vyc29yKCksbj1lLnN1YnNjcmlwdGlvbi50aWxlLmNyZWF0ZUFyY2FkZUV2YWx1YXRpb25PcHRpb25zKHRoaXMuX2luZGV4T3B0aW9ucy5hcmNhZGVDb250ZXh0SW5mbyk7Zm9yKDtyLm5leHQoKTspdGhpcy5fYXR0cmlidXRlU3RvcmUuc2V0QXR0cmlidXRlRGF0YShyLmdldERpc3BsYXlJZCgpLHIsbix0aGlzLl9zcWxPcHRpb25zKTtjb25zdCBhPW5ldyBjKGUuc3Vic2NyaXB0aW9uLGksITAsZS5kb25lLHt9KTt5aWVsZCBhfX1leHBvcnR7eSBhcyBDbHVzdGVyU3RhdGUseCBhcyBDbHVzdGVyU3RyYXRlZ3l9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMzMvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydCBoYXMgZnJvbVwiLi4vLi4vLi4vLi4vLi4vY29yZS9oYXMuanNcIjtpbXBvcnR7QVByb2Nlc3NvclN0cmF0ZWd5IGFzIGUsQVNlbmRTdGF0ZSBhcyB0fWZyb21cIi4vQVByb2Nlc3NvclN0cmF0ZWd5LmpzXCI7aW1wb3J0e0ZlYXR1cmVUaWxlVXBkYXRlTWVzc2FnZSBhcyBzLEZlYXR1cmVUaWxlQXBwZW5kTWVzc2FnZSBhcyByfWZyb21cIi4uL3NvdXJjZXMvRmVhdHVyZVNvdXJjZU1lc3NhZ2UuanNcIjtpbXBvcnR7T3ZlcnJpZGVDaHVuayBhcyBvfWZyb21cIi4uL3NvdXJjZXMvc3RyYXRlZ2llcy9jaHVua3MvT3ZlcnJpZGVzLmpzXCI7aW1wb3J0e2NyZWF0ZUFyY2FkZUV2YWx1YXRpb25PcHRpb25zIGFzIGF9ZnJvbVwiLi4vc3VwcG9ydC9hcmNhZGVVdGlscy5qc1wiO2ltcG9ydHtGZWF0dXJlU2V0UmVhZGVySlNPTiBhcyBufWZyb21cIi4uL3N1cHBvcnQvRmVhdHVyZVNldFJlYWRlckpTT04uanNcIjtjbGFzcyBkIGV4dGVuZHMgdHt9Y2xhc3MgaSBleHRlbmRzIGV7Y29uc3RydWN0b3IoZSx0LHMscil7c3VwZXIoZSx0LHIpLHRoaXMuX2FyY2FkZUNvbnRleHRJbmZvPXMsdGhpcy5oYW5kbGVkQ2h1bmtzPW5ldyBTZXQsdGhpcy5oYW5kbGVkQ2h1bmtzRm9ySWRDcmVhdGlvbj1uZXcgU2V0LHRoaXMuaGFuZGxlZENodW5rc0ZvckF0dHJpYnV0ZURhdGE9bmV3IFNldCx0aGlzLl9zdHJlYW1MYXllckRlZmVycmVkT2JqZWN0SWRzVG9SZW1vdmU9W119ZGVzdHJveSgpe3N1cGVyLmRlc3Ryb3koKTtmb3IoY29uc3QgZSBvZiB0aGlzLl9zb3VyY2UuY2h1bmtzKCkpdGhpcy5fY2xlYW51cENodW5rSWRzKGUpfWludmFsaWRhdGVBdHRyaWJ1dGVEYXRhKGUpe3RoaXMuaGFuZGxlZENodW5rc0ZvckF0dHJpYnV0ZURhdGEuY2xlYXIoKSx0aGlzLl9hcmNhZGVDb250ZXh0SW5mbz1lLG51bGwhPXRoaXMuX2V2YWxPcHRpb25zJiYodGhpcy5fZXZhbE9wdGlvbnM9YSh0aGlzLl9ldmFsT3B0aW9ucy4kdmlldy5zY2FsZSxlKSl9b25TdWJzY3JpYmUoZSl7c3VwZXIub25TdWJzY3JpYmUoZSksdGhpcy5fZXZhbE9wdGlvbnM9ZS50aWxlLmNyZWF0ZUFyY2FkZUV2YWx1YXRpb25PcHRpb25zKHRoaXMuX2FyY2FkZUNvbnRleHRJbmZvKX1jcmVhdGVTdGF0ZShlKXtyZXR1cm4gbmV3IGQoZSl9Z2V0IGFnZ3JlZ2F0ZVF1ZXJ5RW5naW5lKCl7cmV0dXJuIG51bGx9ZGlzcGxheU1hcChlLHQscyl7Y29uc3Qgcj1uZXcgTWFwKGUubWFwKChlPT5bdChlKSxlXSkpKSxvPVtdO2Zvcihjb25zdCBhIG9mIHRoaXMuX3NvdXJjZS5jaHVua3MoKSl7Y29uc3QgZT1hLnJlYWRlci5nZXRDdXJzb3IoKTtmb3IoO2UubmV4dCgpOyl7Y29uc3QgdD1lLmdldE9iamVjdElkKCksYT1lLmdldERpc3BsYXlJZCgpLG49ci5nZXQodCk7aWYobnVsbCE9bil7Y29uc3QgZT1zKGEsbix0KTtvLnB1c2goZSksci5kZWxldGUodCl9fX1yZXR1cm4gb31nZXREaXNwbGF5RmVhdHVyZXMoZSl7Y29uc3QgdD1uZXcgU2V0KGUpLHM9bmV3IFNldCxyPVtdO2Zvcihjb25zdCBvIG9mIHRoaXMuX3NvdXJjZS5jaHVua3MoKSl7Y29uc3QgZT1vLnJlYWRlci5nZXRDdXJzb3IoKTtmb3IoO2UubmV4dCgpOyl7Y29uc3Qgbz1lLmdldE9iamVjdElkKCksYT1lLmdldERpc3BsYXlJZCgpO3QuaGFzKGEpJiYhcy5oYXMobykmJihyLnB1c2goey4uLmUucmVhZExlZ2FjeUZlYXR1cmVXb3JsZFNwYWNlKCksZGlzcGxheUlkOmF9KSxzLmFkZChvKSl9fXJldHVybntmZWF0dXJlczpyLGFnZ3JlZ2F0ZXM6W10sdHJhY2tzOltdfX1hc3luYyphcHBseU92ZXJyaWRlVXBkYXRlKGUpe2NvbnN0IHQ9W107Zm9yKGNvbnN0IHMgb2YgZS5tb2RpZmllZCl7Y29uc3QgZT10aGlzLl9hdHRyaWJ1dGVTdG9yZS5jcmVhdGVEaXNwbGF5SWRGb3JPYmplY3RJZChzLm9iamVjdElkKTtzLmRpc3BsYXlJZD1lLHQucHVzaChlKX1jb25zdCByPW4uZnJvbU9wdGltaXplZEZlYXR1cmVzKGUubW9kaWZpZWQsdGhpcy5fc291cmNlLm1ldGFkYXRhKS5nZXRDdXJzb3IoKTtmb3IoO3IubmV4dCgpOyl0aGlzLl9hdHRyaWJ1dGVTdG9yZS5zZXRBdHRyaWJ1dGVEYXRhKHIuZ2V0RGlzcGxheUlkKCkscix0aGlzLl9ldmFsT3B0aW9ucyx0aGlzLl9zcWxPcHRpb25zKTtjb25zdCBhPVtdO2Zvcihjb25zdCBzIG9mIGUucmVtb3ZlZCl7Y29uc3QgZT10aGlzLl9hdHRyaWJ1dGVTdG9yZS5nZXREaXNwbGF5SWRGb3JPYmplY3RJZChzKTtudWxsIT1lJiZhLnB1c2goZSl9aGFzKFwiZXNyaS0yZC11cGRhdGUtZGVidWdcIikmJmNvbnNvbGUuZGVidWcoXCJGZWF0dXJlVXBkYXRlU3RyYXRlZ3kuYXBwbHlMb2NhbEVkaXRcIix7bWVzc2FnZTplLG1vZGlmaWVkRGlzcGxheUlkczp0LHJlbW92ZWREaXNwbGF5SWRzOmF9KTtjb25zdCBkPW8uZnJvbUZlYXR1cmVzKGUubW9kaWZpZWQsdGhpcy5fc291cmNlLm1ldGFkYXRhKTt0aGlzLmhhbmRsZWRDaHVua3MuYWRkKGQuY2h1bmtJZCksdGhpcy5oYW5kbGVkQ2h1bmtzRm9yQXR0cmlidXRlRGF0YS5hZGQoZC5jaHVua0lkKSx0aGlzLmhhbmRsZWRDaHVua3NGb3JJZENyZWF0aW9uLmFkZChkLmNodW5rSWQpO2Zvcihjb25zdCBvIG9mIHRoaXMuX3NlbmRTdGF0ZXMudmFsdWVzKCkpby5oYW5kbGVkQ2h1bmtzLmFkZChkLmNodW5rSWQpLHlpZWxkIG5ldyBzKG8uc3Vic2NyaXB0aW9uLG51bGwsdCwhMSxkLnF1ZXJ5SW5mbyk7Zm9yKGNvbnN0IG8gb2YgdGhpcy5fc2VuZFN0YXRlcy52YWx1ZXMoKSl7Y29uc3QgZT1kLmdldFRpbGVSZWFkZXIoby5zdWJzY3JpcHRpb24udGlsZSk7eWllbGQgbmV3IHMoby5zdWJzY3JpcHRpb24sZSxhLCExLGQucXVlcnlJbmZvKX1mb3IoY29uc3QgcyBvZiBlLnJlbW92ZWQpdGhpcy5fYXR0cmlidXRlU3RvcmUucmVsZWFzZURpc3BsYXlJZEZvck9iamVjdElkKHMpfWFzeW5jKnVwZGF0ZUNodW5rcygpe2lmKHRoaXMuX3NvdXJjZS5jaHVua3MoKS5sZW5ndGgpe2F3YWl0IHRoaXMuX3VwZGF0ZUF0dHJpYnV0ZURhdGEoKTtmb3IoY29uc3QgZSBvZiB0aGlzLl9zZW5kU3RhdGVzLnZhbHVlcygpKXlpZWxkKnRoaXMuX3VwZGF0ZShlKX19cmVtb3ZlQ2h1bmtzKGUpe2Zvcihjb25zdCB0IG9mIGUpdGhpcy5oYW5kbGVkQ2h1bmtzLmRlbGV0ZSh0LmNodW5rSWQpLHRoaXMuaGFuZGxlZENodW5rc0ZvckF0dHJpYnV0ZURhdGEuZGVsZXRlKHQuY2h1bmtJZCksdGhpcy5fY2xlYW51cENodW5rSWRzKHQpfWFmdGVyVXBkYXRlQ2h1bmtzKCl7Zm9yKGNvbnN0IGUgb2YgdGhpcy5fc3RyZWFtTGF5ZXJEZWZlcnJlZE9iamVjdElkc1RvUmVtb3ZlKXRoaXMuX2F0dHJpYnV0ZVN0b3JlLnJlbGVhc2VEaXNwbGF5SWRGb3JPYmplY3RJZChlKTt0aGlzLl9zdHJlYW1MYXllckRlZmVycmVkT2JqZWN0SWRzVG9SZW1vdmU9W119X2NsZWFudXBDaHVua0lkcyhlKXtpZih0aGlzLmhhbmRsZWRDaHVua3NGb3JJZENyZWF0aW9uLmhhcyhlLmNodW5rSWQpKXtjb25zdCB0PWUucmVhZGVyLmdldEN1cnNvcigpO2Zvcig7dC5uZXh0KCk7KXtjb25zdCBlPXQuZ2V0T2JqZWN0SWQoKTt0aGlzLl9zb3VyY2UuaXNTdHJlYW0/dGhpcy5fc3RyZWFtTGF5ZXJEZWZlcnJlZE9iamVjdElkc1RvUmVtb3ZlLnB1c2goZSk6dGhpcy5fYXR0cmlidXRlU3RvcmUucmVsZWFzZURpc3BsYXlJZEZvck9iamVjdElkKGUpfXRoaXMuaGFuZGxlZENodW5rc0ZvcklkQ3JlYXRpb24uZGVsZXRlKGUuY2h1bmtJZCl9fWFzeW5jIF91cGRhdGVBdHRyaWJ1dGVEYXRhKCl7Zm9yKGNvbnN0IGUgb2YgdGhpcy5fc291cmNlLmNodW5rcygpKXtjb25zdHtjaHVua0lkOnQscmVhZGVyOnN9PWU7aWYoIXRoaXMuaGFuZGxlZENodW5rc0ZvcklkQ3JlYXRpb24uaGFzKHQpKXt0aGlzLmhhbmRsZWRDaHVua3NGb3JJZENyZWF0aW9uLmFkZCh0KTtjb25zdCBlPXMuZ2V0Q3Vyc29yKCk7Zm9yKDtlLm5leHQoKTspe2NvbnN0IHQ9dGhpcy5fYXR0cmlidXRlU3RvcmUuY3JlYXRlRGlzcGxheUlkRm9yT2JqZWN0SWQoZS5nZXRPYmplY3RJZCgpKTtlLnNldERpc3BsYXlJZCh0KX19fWZvcihjb25zdCBlIG9mIHRoaXMuX3NvdXJjZS5jaHVua3MoKSlpZighdGhpcy5oYW5kbGVkQ2h1bmtzRm9yQXR0cmlidXRlRGF0YS5oYXMoZS5jaHVua0lkKSl7dGhpcy5oYW5kbGVkQ2h1bmtzRm9yQXR0cmlidXRlRGF0YS5hZGQoZS5jaHVua0lkKTtjb25zdCB0PWUucmVhZGVyLmdldEN1cnNvcigpO2Zvcig7dC5uZXh0KCk7KXtjb25zdCBlPXQuZ2V0RGlzcGxheUlkKCk7dGhpcy5fYXR0cmlidXRlU3RvcmUuc2V0QXR0cmlidXRlRGF0YShlLHQsdGhpcy5fZXZhbE9wdGlvbnMsdGhpcy5fc3FsT3B0aW9ucyl9fX0qX3VwZGF0ZShlKXtjb25zdHtzdWJzY3JpcHRpb246dCxoYW5kbGVkQ2h1bmtzOnN9PWU7Zm9yKGNvbnN0IG8gb2YgdGhpcy5fc291cmNlLmNodW5rcygpKXtjb25zdHtjaHVua0lkOmF9PW87aWYocy5oYXMoYSkpY29udGludWU7cy5hZGQoYSk7Y29uc3Qgbj1vLmdldFRpbGVSZWFkZXIodC50aWxlKTtuJiYoeWllbGQgbmV3IHIoZS5zdWJzY3JpcHRpb24sbiwhMSxvLmVuZCxvLnF1ZXJ5SW5mbykpfX19ZXhwb3J0e2QgYXMgRGVmYXVsdFNlbmRTdGF0ZSxpIGFzIEZlYXR1cmVVcGRhdGVTdHJhdGVneX07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4zMy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e2lzU29tZSBhcyB0fWZyb21cIi4uLy4uLy4uLy4uLy4uL2NvcmUvYXJyYXlVdGlscy5qc1wiO2ltcG9ydCBlIGZyb21cIi4uLy4uLy4uLy4uLy4uL2NvcmUvTG9nZ2VyLmpzXCI7aW1wb3J0e2Fzc2VydElzU29tZSBhcyBzfWZyb21cIi4uLy4uLy4uLy4uLy4uL2NvcmUvbWF5YmUuanNcIjtpbXBvcnR7aXNMb2FkZWQgYXMgcixsb2FkIGFzIGksZXhlY3V0ZSBhcyBhfWZyb21cIi4uLy4uLy4uLy4uLy4uL2dlb21ldHJ5L29wZXJhdG9ycy9neC9vcGVyYXRvckdlb2RldGljRGVuc2lmeS5qc1wiO2ltcG9ydHtnZW9kZXRpY0N1cnZlVHlwZSBhcyBvfWZyb21cIi4uLy4uLy4uLy4uLy4uL2dlb21ldHJ5L29wZXJhdG9ycy9zdXBwb3J0L2dlb2RldGljQ3VydmVUeXBlLmpzXCI7aW1wb3J0e2ludGVyc2VjdHNXaXRoTWFyZ2luIGFzIG4sZnJvbVZhbHVlcyBhcyBsLGludGVyc2VjdHMgYXMgYyxlbXB0eSBhcyBkLGV4cGFuZFBvaW50SW5QbGFjZSBhcyB1fWZyb21cIi4uLy4uLy4uLy4uLy4uL2dlb21ldHJ5L3N1cHBvcnQvYWFCb3VuZGluZ1JlY3QuanNcIjtpbXBvcnR7Z2V0Q2xvc2VzdERlbm9ybWFsaXplZFhUb1JlZmVyZW5jZSBhcyBofWZyb21cIi4uLy4uLy4uLy4uLy4uL2dlb21ldHJ5L3N1cHBvcnQvbm9ybWFsaXplVXRpbHMuanNcIjtpbXBvcnR7bm9ybWFsaXplQ2VudHJhbE1lcmlkaWFuRm9yRGlzcGxheSBhcyBwfWZyb21cIi4uLy4uLy4uLy4uLy4uL2dlb21ldHJ5L3N1cHBvcnQvbm9ybWFsaXplVXRpbHNTeW5jLmpzXCI7aW1wb3J0e3F1YW50aXplT3B0aW1pemVkR2VvbWV0cnkgYXMgbSxjb252ZXJ0VG9HZW9tZXRyeSBhcyBmLGNvbnZlcnRGcm9tTmVzdGVkQXJyYXkgYXMgYn1mcm9tXCIuLi8uLi8uLi8uLi8uLi9sYXllcnMvZ3JhcGhpY3MvZmVhdHVyZUNvbnZlcnNpb25VdGlscy5qc1wiO2ltcG9ydHtPcHRpbWl6ZWRGZWF0dXJlIGFzIF99ZnJvbVwiLi4vLi4vLi4vLi4vLi4vbGF5ZXJzL2dyYXBoaWNzL09wdGltaXplZEZlYXR1cmUuanNcIjtpbXBvcnQgZyBmcm9tXCIuLi8uLi8uLi8uLi8uLi9sYXllcnMvZ3JhcGhpY3MvT3B0aW1pemVkR2VvbWV0cnkuanNcIjtpbXBvcnR7aW50ZXJuYWxUcmFja1BhcnRGaWVsZCBhcyB5LFRyYWNrUGFydCBhcyBJLGV4dGVybmFsVHJhY2tMaW5lT2lkUHJlZml4IGFzIHYsaW50ZXJuYWxUaW1lUmVjZWl2ZWRGaWVsZCBhcyBrfWZyb21cIi4uLy4uLy4uLy4uLy4uL2xheWVycy9zdXBwb3J0L3N0cmVhbUxheWVyVXRpbHMuanNcIjtpbXBvcnR7dGlsZVNpemUgYXMgRn1mcm9tXCIuLi8uLi8uLi9lbmdpbmUvd2ViZ2wvZGVmaW5pdGlvbnMuanNcIjtpbXBvcnR7QWNjdW11bGF0ZWRTdGF0aXN0aWNzIGFzIE99ZnJvbVwiLi4vYWdncmVnYXRpb24vQWNjdW11bGF0ZWRTdGF0aXN0aWNzLmpzXCI7aW1wb3J0e0NvbXB1dGVkQWdncmVnYXRlRmllbGQgYXMgan1mcm9tXCIuLi9hZ2dyZWdhdGlvbi9Db21wdXRlZEFnZ3JlZ2F0ZUZpZWxkLmpzXCI7aW1wb3J0e0FBZ2dyZWdhdGVTdHJhdGVneSBhcyB4fWZyb21cIi4vQUFnZ3JlZ2F0ZVN0cmF0ZWd5LmpzXCI7aW1wb3J0e0FTZW5kU3RhdGUgYXMgVH1mcm9tXCIuL0FQcm9jZXNzb3JTdHJhdGVneS5qc1wiO2ltcG9ydHtGZWF0dXJlVGlsZUFwcGVuZE1lc3NhZ2UgYXMgU31mcm9tXCIuLi9zb3VyY2VzL0ZlYXR1cmVTb3VyY2VNZXNzYWdlLmpzXCI7aW1wb3J0e2NyZWF0ZUFyY2FkZUV2YWx1YXRpb25PcHRpb25zIGFzIFJ9ZnJvbVwiLi4vc3VwcG9ydC9hcmNhZGVVdGlscy5qc1wiO2ltcG9ydHtDb21wdXRlZEF0dHJpYnV0ZVN0b3JhZ2UgYXMgRH1mcm9tXCIuLi9zdXBwb3J0L0NvbXB1dGVkQXR0cmlidXRlU3RvcmFnZS5qc1wiO2ltcG9ydCB3IGZyb21cIi4uL3N1cHBvcnQvRmVhdHVyZUZpbHRlckV2YWx1YXRvci5qc1wiO2ltcG9ydHtGZWF0dXJlTWV0YWRhdGEgYXMgTH1mcm9tXCIuLi9zdXBwb3J0L0ZlYXR1cmVNZXRhZGF0YS5qc1wiO2ltcG9ydHtGZWF0dXJlU2V0UmVhZGVySW5kaXJlY3QgYXMgQX1mcm9tXCIuLi9zdXBwb3J0L0ZlYXR1cmVTZXRSZWFkZXJJbmRpcmVjdC5qc1wiO2ltcG9ydHtGZWF0dXJlU2V0UmVhZGVySlNPTiBhcyBDfWZyb21cIi4uL3N1cHBvcnQvRmVhdHVyZVNldFJlYWRlckpTT04uanNcIjtsZXQgRztjb25zdCBQPSgpPT5lLmdldExvZ2dlcihcImVzcmkudmlld3MuMmQubGF5ZXJzLmZlYXR1cmVzLnByb2Nlc3Nvci5UcmFja1N0cmF0ZWd5XCIpLFc9MzI7Y2xhc3Mgentjb25zdHJ1Y3Rvcih0LGUscyxyLGkpe3RoaXMuY2h1bmtJbmRleD10LHRoaXMuZmVhdHVyZUluZGV4PWUsdGhpcy5vYmplY3RJZD1zLHRoaXMuZGlzcGxheUlkPXIsdGhpcy50aW1lPWl9fWNsYXNzIE17c3RhdGljIGdldE9pZCh0KXtyZXR1cm4gdit0fWNvbnN0cnVjdG9yKHQsZSxzLHIsaSxhLG8sbil7dGhpcy5fc2NoZW1hPXQsdGhpcy50cmFja0lkPWUsdGhpcy5vYmplY3RJZD1zLHRoaXMuZGlzcGxheUlkPXIsdGhpcy5fZmllbGRzPWksdGhpcy5fc3BhdGlhbFJlZmVyZW5jZT1hLHRoaXMuX21ldGFkYXRhPW8sdGhpcy5faXNTdHJlYW09bix0aGlzLl9tYXhEaXNwbGF5RHVyYXRpb249dGhpcy5fc2NoZW1hLm1heERpc3BsYXlEdXJhdGlvbj4wP3RoaXMuX3NjaGVtYS5tYXhEaXNwbGF5RHVyYXRpb246MS8wLHRoaXMuX21heERpc3BsYXlPYnNlcnZhdGlvbnNQZXJUcmFjaz10aGlzLl9zY2hlbWEubWF4RGlzcGxheU9ic2VydmF0aW9uc1BlclRyYWNrPj0xP3RoaXMuX3NjaGVtYS5tYXhEaXNwbGF5T2JzZXJ2YXRpb25zUGVyVHJhY2s6MS8wLHRoaXMuX29ic2VydmF0aW9uUmVjb3Jkcz1bXSx0aGlzLl9uZXh0T2JzZXJ2YXRpb25SZWNvcmRzPVtdLHRoaXMuX3RyYWNrTGluZVBhdGg9W10sdGhpcy5fYm91bmRzPVtdLHRoaXMuX3RyYWNrTGluZUdlb21ldHJ5PW5ldyBnfWdldCBfdHJhY2tMaW5lQXR0cmlidXRlcygpe2NvbnN0IHQ9ey4uLnRoaXMuX2xhdGVzdE9ic2VydmF0aW9uRmVhdHVyZT8uYXR0cmlidXRlcz8/e30sYWdncmVnYXRlSWQ6dGhpcy5vYmplY3RJZCxbeV06SS5UcmFja0xpbmV9O2lmKG51bGwhPXRoaXMuX3N0YXRpc3RpY3MpZm9yKGNvbnN0IGUgb2YgdGhpcy5fc3RhdGlzdGljcy52YWx1ZXMoKSl0W2UuZmllbGQubmFtZV09ZS52YWx1ZTtyZXR1cm4gdH1nZXQgX3N0YXJ0VGltZUZpZWxkKCl7cmV0dXJuIHRoaXMuX21ldGFkYXRhLnRpbWVJbmZvPy5zdGFydFRpbWVGaWVsZH1nZXQgbGVuZ3RoKCl7cmV0dXJuIHRoaXMuX29ic2VydmF0aW9uUmVjb3Jkcy5sZW5ndGh9Km9ic2VydmF0aW9ucygpe3lpZWxkKnRoaXMuX29ic2VydmF0aW9uUmVjb3Jkc30qcHJldmlvdXNPYnNlcnZhdGlvbnMoKXtmb3IobGV0IHQ9MDt0PHRoaXMuX29ic2VydmF0aW9uUmVjb3Jkcy5sZW5ndGgtMTt0KyspeWllbGQgdGhpcy5fb2JzZXJ2YXRpb25SZWNvcmRzW3RdfWdldCBsYXRlc3RPYnNlcnZhdGlvbkZlYXR1cmUoKXtyZXR1cm4gdGhpcy5fbGF0ZXN0T2JzZXJ2YXRpb25GZWF0dXJlfWdldCBsYXRlc3RPYnNlcnZhdGlvblJlY29yZCgpe3JldHVybiB0aGlzLl9sYXRlc3RPYnNlcnZhdGlvblJlY29yZH1zdGFnZU9ic2VydmF0aW9uKHQsZSl7dGhpcy5fbmV4dE9ic2VydmF0aW9uUmVjb3Jkcy5wdXNoKG5ldyB6KHQsZS5nZXRJbmRleCgpLGUuZ2V0T2JqZWN0SWQoKSxlLmdldERpc3BsYXlJZCgpLG51bGwhPXRoaXMuX3N0YXJ0VGltZUZpZWxkP2UucmVhZEF0dHJpYnV0ZUFzVGltZXN0YW1wKHRoaXMuX3N0YXJ0VGltZUZpZWxkKTpudWxsKSl9Y29tbWl0T2JzZXJ2YXRpb25zKHQsZSxyKXtjb25zdCBpPW5ldyBTZXQodGhpcy5fbmV4dE9ic2VydmF0aW9uUmVjb3Jkcy5tYXAoKHQ9PnQub2JqZWN0SWQpKSksYT10aGlzLl9vYnNlcnZhdGlvblJlY29yZHMuZmlsdGVyKCh0PT4haS5oYXModC5vYmplY3RJZCkpKS5tYXAoKHQ9PnQub2JqZWN0SWQpKTtsZXQgbyxuO3N3aXRjaCh0aGlzLl9vYnNlcnZhdGlvblJlY29yZHM9W10sdGhpcy5fdHJhY2tMaW5lUGF0aD1bXSx0aGlzLl9pc1N0cmVhbXx8bnVsbD09dGhpcy5fc3RhcnRUaW1lRmllbGR8fHRoaXMuX25leHRPYnNlcnZhdGlvblJlY29yZHMuc29ydCgoKHQsZSk9Pntjb25zdCBzPXQudGltZSxyPWUudGltZTtyZXR1cm4gbnVsbCE9cyYmbnVsbCE9cj9zLXI6MH0pKSx0aGlzLl9zY2hlbWEudGltZUZpZWxkKXtjYXNlXCJzdGFydFRpbWVGaWVsZFwiOm89dGhpcy5fbWV0YWRhdGEudGltZUluZm8/LnN0YXJ0VGltZUZpZWxkO2JyZWFrO2Nhc2VcImVuZFRpbWVGaWVsZFwiOm89dGhpcy5fbWV0YWRhdGEudGltZUluZm8/LmVuZFRpbWVGaWVsZDticmVhaztjYXNlXCJ0aW1lUmVjZWl2ZWRcIjpvPXRoaXMuX2lzU3RyZWFtP2s6bnVsbH1uPXRoaXMuX2lzU3RyZWFtP3I/LmVuZD8/RGF0ZS5ub3coKTpyPy5lbmQ/Py0xLzA7Y29uc3QgbD1lLm1hcCgodD0+dC5yZWFkZXIuZ2V0Q3Vyc29yKCkpKTtsZXQgYztmb3IobGV0IGQ9dGhpcy5fbmV4dE9ic2VydmF0aW9uUmVjb3Jkcy5sZW5ndGgtMTtkPj0wJiYhKHRoaXMuX29ic2VydmF0aW9uUmVjb3Jkcy5sZW5ndGg+PXRoaXMuX21heERpc3BsYXlPYnNlcnZhdGlvbnNQZXJUcmFjayk7ZC0tKXtjb25zdCB0PXRoaXMuX25leHRPYnNlcnZhdGlvblJlY29yZHNbZF0sZT1sW3QuY2h1bmtJbmRleF07cyhlKSxlLnNldEluZGV4KHQuZmVhdHVyZUluZGV4KTtjb25zdCByPW51bGwhPW8/ZS5yZWFkQXR0cmlidXRlQXNUaW1lc3RhbXAobyk6bnVsbDsobnVsbCE9cj9uLXI6MCk+PXRoaXMuX21heERpc3BsYXlEdXJhdGlvbnx8KHRoaXMuX2NvbW1pdE9ic2VydmF0aW9uKHQsZSksYz8/PXQpfWlmKG51bGwhPWMpe2NvbnN0e2NodW5rSW5kZXg6ZSxmZWF0dXJlSW5kZXg6cn09YyxpPWAke2Mub2JqZWN0SWR9LmxhdGVzdGAsbz10LmNyZWF0ZURpc3BsYXlJZEZvck9iamVjdElkKGkpLG49bFtlXTtzKG4pLG4uc2V0SW5kZXgocik7Y29uc3QgZD1uZXcgXyhuLnJlYWRHZW9tZXRyeVdvcmxkU3BhY2UoKSx7Li4ubi5yZWFkQXR0cmlidXRlcygpLFt5XTpJLkxhdGVzdE9ic2VydmF0aW9ufSxudWxsLGksbyk7dGhpcy5fbGF0ZXN0T2JzZXJ2YXRpb25GZWF0dXJlJiZhLnB1c2godGhpcy5fbGF0ZXN0T2JzZXJ2YXRpb25GZWF0dXJlLm9iamVjdElkKSx0aGlzLl9sYXRlc3RPYnNlcnZhdGlvbkZlYXR1cmU9ZCx0aGlzLl9sYXRlc3RPYnNlcnZhdGlvblJlY29yZD1jfWVsc2UgdGhpcy5fbGF0ZXN0T2JzZXJ2YXRpb25GZWF0dXJlPW51bGw7cmV0dXJuIHRoaXMuX3RyYWNrTGluZUdlb21ldHJ5PUUodGhpcy5fdHJhY2tMaW5lR2VvbWV0cnksdGhpcy5fdHJhY2tMaW5lUGF0aCx0aGlzLl9zcGF0aWFsUmVmZXJlbmNlKSx0aGlzLl9ib3VuZHM9WCh0aGlzLl90cmFja0xpbmVHZW9tZXRyeSksdGhpcy5fbmV4dE9ic2VydmF0aW9uUmVjb3Jkcz1bXSxhfXVwZGF0ZVN0YXRpc3RpY3ModCxlKXt0aGlzLl9zdGF0aXN0aWNzPU8uY3JlYXRlKHRoaXMuX2ZpZWxkcyk7Y29uc3Qgcj10Lm1hcCgodD0+dC5yZWFkZXIuZ2V0Q3Vyc29yKCkpKTtmb3IoY29uc3R7Y2h1bmtJbmRleDppLGZlYXR1cmVJbmRleDphfW9mIHRoaXMuX29ic2VydmF0aW9uUmVjb3Jkcyl7Y29uc3QgdD1yW2ldO3ModCksdC5zZXRJbmRleChhKSx0aGlzLl9zdGF0aXN0aWNzLmluc2VydCh0LGUpfX1vdmVybGFwc1RpbGUodCl7Zm9yKGNvbnN0IGUgb2YgdGhpcy5fYm91bmRzKWlmKG4oZSx0LmJvdW5kcyxXKSlyZXR1cm4hMDtyZXR1cm4hMX1nZXRMYXRlc3RPYnNlcnZhdGlvbkZlYXR1cmVGb3JUaWxlKHQpe2lmKG51bGw9PXRoaXMuX2xhdGVzdE9ic2VydmF0aW9uRmVhdHVyZSlyZXR1cm4gbnVsbDtjb25zdHtvYmplY3RJZDplLGRpc3BsYXlJZDpzLGdlb21ldHJ5OnIsYXR0cmlidXRlczppfT10aGlzLl9sYXRlc3RPYnNlcnZhdGlvbkZlYXR1cmUsYT1uZXcgZzttKGEsciwhMSwhMSx0aGlzLl9tZXRhZGF0YS5nZW9tZXRyeVR5cGUsdC5zdWJzY3JpcHRpb24udGlsZS50cmFuc2Zvcm0pO2NvbnN0IG89bCgxLzAsMS8wLC0xLzAsLTEvMCk7TihhLCgodCxlKT0+dShvLFt0LGVdKSkpO2lmKCFjKG8sbCgwLDAsRixGKSkpcmV0dXJuIG51bGw7cmV0dXJuIG5ldyBfKGEsaSxudWxsLGUscyl9Z2V0VHJhY2tMaW5lRmVhdHVyZUZvclRpbGUodCl7Y29uc3QgZT1uZXcgZzttKGUsdGhpcy5fdHJhY2tMaW5lR2VvbWV0cnksITEsITEsXCJlc3JpR2VvbWV0cnlQb2x5bGluZVwiLHQuc3Vic2NyaXB0aW9uLnRpbGUudHJhbnNmb3JtKTtyZXR1cm4gbmV3IF8oZSx0aGlzLl90cmFja0xpbmVBdHRyaWJ1dGVzLG51bGwsdGhpcy5vYmplY3RJZCx0aGlzLmRpc3BsYXlJZCl9Z2V0VHJhY2tMaW5lT3B0aW1pemVkRmVhdHVyZSgpe3JldHVybiBuZXcgXyh0aGlzLl90cmFja0xpbmVHZW9tZXRyeSx0aGlzLl90cmFja0xpbmVBdHRyaWJ1dGVzLG51bGwsdGhpcy5vYmplY3RJZCx0aGlzLmRpc3BsYXlJZCl9Z2V0VHJhY2tMaW5lRGlzcGxheUZlYXR1cmUoKXtjb25zdHtfdHJhY2tMaW5lR2VvbWV0cnk6dCxfdHJhY2tMaW5lQXR0cmlidXRlczplLGRpc3BsYXlJZDpzfT10aGlzO3JldHVybntnZW9tZXRyeTpmKHQsXCJlc3JpR2VvbWV0cnlQb2x5bGluZVwiLCExLCExKSxhdHRyaWJ1dGVzOmUsZGlzcGxheUlkOnN9fV9jb21taXRPYnNlcnZhdGlvbih0LGUpe2NvbnN0IHM9ZS5yZWFkQ2VudHJvaWRXb3JsZFNwYWNlKCk7bGV0IHI9cz8uY29vcmRzWzBdLGk9cz8uY29vcmRzWzFdO251bGw9PXMmJihyPWUucmVhZFhXb3JsZFNwYWNlKCksaT1lLnJlYWRZV29ybGRTcGFjZSgpKSxudWxsIT1yJiZudWxsIT1pJiYodGhpcy5fb2JzZXJ2YXRpb25SZWNvcmRzLnVuc2hpZnQodCksdGhpcy5fdHJhY2tMaW5lUGF0aC51bnNoaWZ0KFtyLGldKSl9fWNsYXNzIFUgZXh0ZW5kcyBUe2NvbnN0cnVjdG9yKHQpe3N1cGVyKHQpLHRoaXMuZG9uZT0hMX19Y2xhc3MgcSBleHRlbmRzIHh7c3RhdGljIGFzeW5jIGNyZWF0ZSh0LGUscyxhLG8sbil7Y29uc3QgbD1uZXcgRCh7c3BhdGlhbFJlZmVyZW5jZTplfSksYz1hd2FpdCBQcm9taXNlLmFsbCh0LmZpZWxkcy5tYXAoKGFzeW5jIHQ9PmouY3JlYXRlKGwsdCkpKSksZD10LmZlYXR1cmVGaWx0ZXI/YXdhaXQgdy5jcmVhdGUoe2dlb21ldHJ5VHlwZTpzLm1ldGFkYXRhLmdlb21ldHJ5VHlwZSxoYXNNOiExLGhhc1o6ITEsdGltZUluZm86cy5tZXRhZGF0YS50aW1lSW5mbyxmaWVsZHNJbmRleDpzLm1ldGFkYXRhLmZpZWxkc0luZGV4LHNwYXRpYWxSZWZlcmVuY2U6ZSxmaWx0ZXJKU09OOnQuZmVhdHVyZUZpbHRlcn0pOm51bGw7cmV0dXJuIGUuaXNXcmFwcGFibGV8fHIoKXx8YXdhaXQgUHJvbWlzZS5hbGwoW2ltcG9ydChcIi4uLy4uLy4uLy4uLy4uL2dlb21ldHJ5L29wZXJhdG9ycy9zdXBwb3J0L2FwaUNvbnZlcnRlci5qc1wiKSxpbXBvcnQoXCIuLi8uLi8uLi8uLi8uLi9nZW9tZXRyeS9vcGVyYXRvcnMvc3VwcG9ydC9qc29uQ29udmVydGVyLmpzXCIpLGkoKV0pLnRoZW4oKChbdCxlLHNdKT0+e0c9e2Zyb21HZW9tZXRyeVRvR1hHZW9tZXRyeTplLmZyb21HZW9tZXRyeVRvR1hHZW9tZXRyeSx0b0dlb21ldHJ5OmUudG9HZW9tZXRyeSxmcm9tU3BhdGlhbFJlZmVyZW5jZTp0LmZyb21TcGF0aWFsUmVmZXJlbmNlfX0pKSxuZXcgcSh0LHMsYSxlLGMsZCxvLG4pfWNvbnN0cnVjdG9yKHQsZSxzLHIsaSxhLG8sbil7c3VwZXIoZSxzLHIsaSxuKSx0aGlzLl9zY2hlbWE9dCx0aGlzLl9mZWF0dXJlRmlsdGVyPWEsdGhpcy5fYXJjYWRlQ29udGV4dEluZm89byx0aGlzLl90cmFja3M9bmV3IE1hcCx0aGlzLl9oYW5kbGVkQ2h1bmtzPW5ldyBTZXQsdGhpcy5fbWV0YWRhdGE9ZS5tZXRhZGF0YS53ZWFrQ2xvbmVXaXRoQWRkaXRpb25hbEZpZWxkcyhbe25hbWU6eSxhbGlhczpcInRyYWNrUGFydFwiLHR5cGU6XCJlc3JpRmllbGRUeXBlU21hbGxJbnRlZ2VyXCJ9XSksdGhpcy5fdHJhY2tMaW5lTWV0YWRhdGE9TC5jcmVhdGVGZWF0dXJlKHtnZW9tZXRyeVR5cGU6XCJlc3JpR2VvbWV0cnlQb2x5bGluZVwiLGZlYXR1cmVJZEluZm86e3R5cGU6XCJvYmplY3QtaWRcIixmaWVsZE5hbWU6XCJhZ2dyZWdhdGVJZFwifSxmaWVsZHNJbmRleDp7ZmllbGRzOlsuLi50aGlzLl9zb3VyY2UubWV0YWRhdGEuZmllbGRzSW5kZXguZmllbGRzLC4uLnRoaXMuYWdncmVnYXRlRmllbGRzLHtuYW1lOnksYWxpYXM6XCJ0cmFja1BhcnRcIix0eXBlOlwiZXNyaUZpZWxkVHlwZVNtYWxsSW50ZWdlclwifSx7bmFtZTpcImFnZ3JlZ2F0ZUlkXCIsYWxpYXM6XCJhZ2dyZWdhdGVJZFwiLHR5cGU6XCJlc3JpRmllbGRUeXBlT0lEXCJ9XSx0aW1lWm9uZUJ5RmllbGROYW1lOm51bGx9LGdsb2JhbElkRmllbGQ6bnVsbCxzcGF0aWFsUmVmZXJlbmNlOmUubWV0YWRhdGEuc3BhdGlhbFJlZmVyZW5jZSxvdXRTcGF0aWFsUmVmZXJlbmNlOmUubWV0YWRhdGEub3V0U3BhdGlhbFJlZmVyZW5jZSxzdWJ0eXBlRmllbGQ6bnVsbCxzdWJ0eXBlczpudWxsLHRpbWVJbmZvOmUubWV0YWRhdGEudGltZUluZm8sdGltZVJlZmVyZW5jZVVua25vd25DbGllbnQ6bnVsbCxkYXRlRmllbGRzVGltZVpvbmU6bnVsbCx0eXBlSWRGaWVsZDpudWxsLHR5cGVzOm51bGx9KX1kZXN0cm95KCl7c3VwZXIuZGVzdHJveSgpO2Zvcihjb25zdCB0IG9mIHRoaXMuX3RyYWNrcy52YWx1ZXMoKSl0aGlzLl9yZW1vdmVUcmFjayh0KTt0aGlzLl90cmFja3MuY2xlYXIoKX1nZXQgX2lzU3RyZWFtKCl7cmV0dXJuIHRoaXMuX3NvdXJjZS5pc1N0cmVhbX1nZXQgZW5hYmxlUGl4ZWxCdWZmZXJpbmcoKXtyZXR1cm4hMH1nZXQgaXNBZ2dyZWdhdGUoKXtyZXR1cm4hMX1yZXF1aXJlc0ludmFsaWRhdGlvbigpe2NvbnN0IHQ9bmV3IFNldCh0aGlzLl9zb3VyY2UuY2h1bmtzKCkubWFwKCh0PT50LmNodW5rSWQpKSk7Zm9yKGNvbnN0IGUgb2YgdClpZighdGhpcy5faGFuZGxlZENodW5rcy5oYXMoZSkpcmV0dXJuITA7Zm9yKGNvbnN0IGUgb2YgdGhpcy5faGFuZGxlZENodW5rcylpZighdC5oYXMoZSkpcmV0dXJuITA7cmV0dXJuITF9aW52YWxpZGF0ZSgpe3RoaXMuX2hhbmRsZWRDaHVua3MuY2xlYXIoKSxzdXBlci5pbnZhbGlkYXRlKCl9Y3JlYXRlU3RhdGUodCl7cmV0dXJuIG5ldyBVKHQpfWFzeW5jKmFwcGx5T3ZlcnJpZGVVcGRhdGUodCl7UCgpLmVycm9yKFwiQXBwbHlpbmcgb3ZlcnJpZGUgdG8gdHJhY2tzIGlzIG5vdCBzdXBwb3J0ZWRcIil9ZGlzcGxheU1hcCh0LGUscyl7Y29uc3Qgcj1uZXcgTWFwKHQubWFwKCh0PT5bZSh0KSx0XSkpKSxpPVtdO2Zvcihjb25zdCBhIG9mIHRoaXMuX3RyYWNrcy52YWx1ZXMoKSl7Y29uc3QgdD1yLmdldChhLm9iamVjdElkKTtpZihudWxsIT10KXtjb25zdCBlPXMoYS5kaXNwbGF5SWQsdCxhLm9iamVjdElkKTtpLnB1c2goZSksci5kZWxldGUoYS5vYmplY3RJZCk7Y29udGludWV9Y29uc3QgZT1hLmxhdGVzdE9ic2VydmF0aW9uRmVhdHVyZTtpZihlPy5vYmplY3RJZCl7Y29uc3QgdD1yLmdldChlLm9iamVjdElkKTtpZihudWxsIT10KXtjb25zdCBhPXMoZS5kaXNwbGF5SWQsdCxlLm9iamVjdElkKTtpLnB1c2goYSksci5kZWxldGUoZS5vYmplY3RJZCk7Y29udGludWV9fWZvcihjb25zdCBvIG9mIGEub2JzZXJ2YXRpb25zKCkpe2NvbnN0IHQ9ci5nZXQoby5vYmplY3RJZCk7aWYobnVsbCE9dCl7Y29uc3QgZT1zKG8uZGlzcGxheUlkLHQsby5vYmplY3RJZCk7aS5wdXNoKGUpLHIuZGVsZXRlKG8ub2JqZWN0SWQpfX19cmV0dXJuIGl9Z2V0RGlzcGxheUZlYXR1cmVzKHQpe2NvbnN0IGU9bmV3IFNldCh0KSxzPVtdLHI9W10saT10aGlzLl9zb3VyY2UuY2h1bmtzKCkubWFwKCh0PT50LnJlYWRlci5nZXRDdXJzb3IoKSkpO2Zvcihjb25zdCBhIG9mIHRoaXMuX3RyYWNrcy52YWx1ZXMoKSl7aWYoZS5oYXMoYS5kaXNwbGF5SWQpJiZyLnB1c2goYS5nZXRUcmFja0xpbmVEaXNwbGF5RmVhdHVyZSgpKSxudWxsIT1hLmxhdGVzdE9ic2VydmF0aW9uRmVhdHVyZSYmZS5oYXMoYS5sYXRlc3RPYnNlcnZhdGlvbkZlYXR1cmUuZGlzcGxheUlkKSl7Y29uc3R7ZGlzcGxheUlkOnQsY2h1bmtJbmRleDplLGZlYXR1cmVJbmRleDpyfT1hLmxhdGVzdE9ic2VydmF0aW9uUmVjb3JkLG89aVtlXTtvLnNldEluZGV4KHIpLHMucHVzaCh7ZGlzcGxheUlkOnQsYXR0cmlidXRlczp7fSwuLi5vLnJlYWRMZWdhY3lGZWF0dXJlV29ybGRTcGFjZSgpfSl9Zm9yKGNvbnN0e2Rpc3BsYXlJZDp0LGNodW5rSW5kZXg6cixmZWF0dXJlSW5kZXg6b31vZiBhLm9ic2VydmF0aW9ucygpKWlmKGUuaGFzKHQpKXtjb25zdCBlPWlbcl07ZS5zZXRJbmRleChvKSxzLnB1c2goe2Rpc3BsYXlJZDp0LGF0dHJpYnV0ZXM6e30sLi4uZS5yZWFkTGVnYWN5RmVhdHVyZVdvcmxkU3BhY2UoKX0pfX1yZXR1cm57ZmVhdHVyZXM6cyxhZ2dyZWdhdGVzOltdLHRyYWNrczpyfX1nZXRGZWF0dXJlT2JqZWN0SWRzRm9yQWdncmVnYXRlKHQpe2Zvcihjb25zdCBlIG9mIHRoaXMuX3RyYWNrcy52YWx1ZXMoKSlpZihlLm9iamVjdElkPT09dClyZXR1cm4gQXJyYXkuZnJvbShlLm9ic2VydmF0aW9ucygpLCh0PT50Lm9iamVjdElkKSk7cmV0dXJuW119YXN5bmMqdXBkYXRlQ2h1bmtzKCl7MD09PXRoaXMuX2hhbmRsZWRDaHVua3Muc2l6ZSYmdGhpcy5fcmVidWlsZFRyYWNrcygpO2Zvcihjb25zdCB0IG9mIHRoaXMuX3NlbmRTdGF0ZXMudmFsdWVzKCkpeWllbGQqdGhpcy5fdXBkYXRlKHQpfWZvckVhY2hBZ2dyZWdhdGVXb3JsZFNwYWNlKHQpe2Zvcihjb25zdCBlIG9mIHRoaXMuX3RyYWNrcy52YWx1ZXMoKSl0KGUuZ2V0VHJhY2tMaW5lT3B0aW1pemVkRmVhdHVyZSgpKX1fcmVidWlsZFRyYWNrcygpe2NvbnN0IHQ9dGhpcy5fc291cmNlLmNodW5rcygpO2lmKCF0Lmxlbmd0aClyZXR1cm47Y29uc3QgZT10aGlzLl9tZXRhZGF0YS50aW1lSW5mbz8udHJhY2tJZEZpZWxkO2lmKG51bGw9PWUpcmV0dXJuO2NvbnN0IHM9bmV3IFNldDtmb3IobGV0IHI9MDtyPHQubGVuZ3RoO3IrKyl7Y29uc3QgaT10W3JdO3RoaXMuX2hhbmRsZWRDaHVua3MuYWRkKGkuY2h1bmtJZCk7Y29uc3QgYT1pLnJlYWRlci5nZXRDdXJzb3IoKTtmb3IoO2EubmV4dCgpOyl7Y29uc3QgdD1hLnJlYWRBdHRyaWJ1dGUoZSksaT1hLmdldE9iamVjdElkKCk7aWYobnVsbCE9dCYmbnVsbCE9aSYmKG51bGw9PT10aGlzLl9mZWF0dXJlRmlsdGVyfHx0aGlzLl9mZWF0dXJlRmlsdGVyLmNoZWNrKGEsdGhpcy5fc3FsT3B0aW9ucykpKXtpZihhLmdldERpc3BsYXlJZCgpfHxhLnNldERpc3BsYXlJZCh0aGlzLl9hdHRyaWJ1dGVTdG9yZS5jcmVhdGVEaXNwbGF5SWRGb3JPYmplY3RJZChpKSksIXRoaXMuX3RyYWNrcy5oYXModCkpe2NvbnN0IGU9TS5nZXRPaWQodCkscz10aGlzLl9hdHRyaWJ1dGVTdG9yZS5jcmVhdGVEaXNwbGF5SWRGb3JPYmplY3RJZChlKSxyPW5ldyBNKHRoaXMuX3NjaGVtYSx0LGUscyx0aGlzLmFnZ3JlZ2F0ZUZpZWxkcyx0aGlzLnNwYXRpYWxSZWZlcmVuY2UsdGhpcy5fc291cmNlLm1ldGFkYXRhLHRoaXMuX2lzU3RyZWFtKTt0aGlzLl90cmFja3Muc2V0KHQscil9dGhpcy5fdHJhY2tzLmdldCh0KS5zdGFnZU9ic2VydmF0aW9uKHIsYSkscy5hZGQodCl9fX1mb3IoY29uc3QgciBvZiB0aGlzLl90cmFja3MudmFsdWVzKCkpaWYocy5oYXMoci50cmFja0lkKSl7Y29uc3QgZT1yLmNvbW1pdE9ic2VydmF0aW9ucyh0aGlzLl9hdHRyaWJ1dGVTdG9yZSx0LHRoaXMuX2ZlYXR1cmVGaWx0ZXI/LnRpbWVFeHRlbnQpO2Zvcihjb25zdCB0IG9mIGUpdGhpcy5fYXR0cmlidXRlU3RvcmUucmVsZWFzZURpc3BsYXlJZEZvck9iamVjdElkKHQpO3IudXBkYXRlU3RhdGlzdGljcyh0LFIoMSx0aGlzLl9hcmNhZGVDb250ZXh0SW5mbykpfWVsc2UgdGhpcy5fcmVtb3ZlVHJhY2socil9X3JlbW92ZVRyYWNrKHQpe3RoaXMuX3RyYWNrcy5kZWxldGUodC50cmFja0lkKSx0aGlzLl9hdHRyaWJ1dGVTdG9yZS5yZWxlYXNlRGlzcGxheUlkRm9yT2JqZWN0SWQodC5vYmplY3RJZCk7Zm9yKGNvbnN0e29iamVjdElkOmV9b2YgdC5vYnNlcnZhdGlvbnMoKSl0aGlzLl9hdHRyaWJ1dGVTdG9yZS5yZWxlYXNlRGlzcGxheUlkRm9yT2JqZWN0SWQoZSk7bnVsbCE9dC5sYXRlc3RPYnNlcnZhdGlvbkZlYXR1cmUmJnRoaXMuX2F0dHJpYnV0ZVN0b3JlLnJlbGVhc2VEaXNwbGF5SWRGb3JPYmplY3RJZCh0LmxhdGVzdE9ic2VydmF0aW9uRmVhdHVyZS5vYmplY3RJZCl9Kl91cGRhdGUoZSl7aWYoZS5kb25lKXJldHVybjtlLmRvbmU9IXRoaXMuX3NvdXJjZS51cGRhdGVUcmFja2luZy51cGRhdGluZztjb25zdCBzPVtdLHI9W107Zm9yKGNvbnN0IHQgb2YgdGhpcy5fdHJhY2tzLnZhbHVlcygpKWlmKHQubGVuZ3RoPjApe2lmKHRoaXMuX3NjaGVtYS5zaG93TGF0ZXN0T2JzZXJ2YXRpb24pe2NvbnN0IHI9dC5nZXRMYXRlc3RPYnNlcnZhdGlvbkZlYXR1cmVGb3JUaWxlKGUpO251bGwhPXImJnMucHVzaChyKX10aGlzLl9zY2hlbWEuc2hvd1RyYWNrTGluZSYmdC5vdmVybGFwc1RpbGUoZS5zdWJzY3JpcHRpb24udGlsZSkmJnIucHVzaCh0LmdldFRyYWNrTGluZUZlYXR1cmVGb3JUaWxlKGUpKX1jb25zdCBpPUMuZnJvbU9wdGltaXplZEZlYXR1cmVzKHMsdGhpcy5fbWV0YWRhdGEsZS5zdWJzY3JpcHRpb24udGlsZS50cmFuc2Zvcm0pLGE9Qy5mcm9tT3B0aW1pemVkRmVhdHVyZXMocix0aGlzLl90cmFja0xpbmVNZXRhZGF0YSxlLnN1YnNjcmlwdGlvbi50aWxlLnRyYW5zZm9ybSk7bGV0IG89W107aWYodGhpcy5fc2NoZW1hLnNob3dQcmV2aW91c09ic2VydmF0aW9ucyl7Y29uc3Qgcz10aGlzLl9zb3VyY2UuY2h1bmtzKCkubWFwKCgoKT0+W10pKTtmb3IoY29uc3QgdCBvZiB0aGlzLl90cmFja3MudmFsdWVzKCkpZm9yKGNvbnN0e2NodW5rSW5kZXg6ZSxmZWF0dXJlSW5kZXg6cn1vZiB0LnByZXZpb3VzT2JzZXJ2YXRpb25zKCkpc1tlXS5wdXNoKHIpO289dGhpcy5fc291cmNlLmNodW5rcygpLm1hcCgoKHQscik9Pntjb25zdCBpPXQuZ2V0VGlsZVJlYWRlcihlLnN1YnNjcmlwdGlvbi50aWxlKTtpZihudWxsPT1pKXJldHVybiBudWxsO2NvbnN0IGE9QS5mcm9tKGksc1tyXSk7cmV0dXJuIGEuc2V0UHJvY2Vzc29yQXR0cmlidXRlcyh7W3ldOkkuUHJldmlvdXNPYnNlcnZhdGlvbn0pLFwiZXNyaUdlb21ldHJ5UG9pbnRcIiE9PWEuZ2VvbWV0cnlUeXBlJiZudWxsIT1hLmdldEluVHJhbnNmb3JtKCl8fGEuc2V0VHJhbnNmb3JtRm9yRGlzcGxheShlLnN1YnNjcmlwdGlvbi50aWxlLnRyYW5zZm9ybSksYX0pKS5maWx0ZXIodCl9dGhpcy5ldmVudHMuZW1pdChcImNoYW5nZWRcIik7Y29uc3Qgbj1lLnN1YnNjcmlwdGlvbi50aWxlLmNyZWF0ZUFyY2FkZUV2YWx1YXRpb25PcHRpb25zKHRoaXMuX2FyY2FkZUNvbnRleHRJbmZvKSxsPWEuZ2V0Q3Vyc29yKCk7Zm9yKDtsLm5leHQoKTspdGhpcy5fYXR0cmlidXRlU3RvcmUuc2V0QXR0cmlidXRlRGF0YShsLmdldERpc3BsYXlJZCgpLGwsbix0aGlzLl9zcWxPcHRpb25zKTtmb3IoY29uc3QgdCBvZiBvKXtjb25zdCBlPXQuZ2V0Q3Vyc29yKCk7Zm9yKDtlLm5leHQoKTspdGhpcy5fYXR0cmlidXRlU3RvcmUuc2V0QXR0cmlidXRlRGF0YShlLmdldERpc3BsYXlJZCgpLGUsbix0aGlzLl9zcWxPcHRpb25zKX1jb25zdCBjPWkuZ2V0Q3Vyc29yKCk7Zm9yKDtjLm5leHQoKTspdGhpcy5fYXR0cmlidXRlU3RvcmUuc2V0QXR0cmlidXRlRGF0YShjLmdldERpc3BsYXlJZCgpLGMsbix0aGlzLl9zcWxPcHRpb25zKTt5aWVsZCBuZXcgUyhlLnN1YnNjcmlwdGlvbixhLCExLCExLHt9KTtmb3IoY29uc3QgdCBvZiBvKXlpZWxkIG5ldyBTKGUuc3Vic2NyaXB0aW9uLHQsITEsITEse30pO3lpZWxkIG5ldyBTKGUuc3Vic2NyaXB0aW9uLGksITEsZS5kb25lLHt9KX19ZnVuY3Rpb24gRSh0LGUscyl7aWYoZS5sZW5ndGg8MilyZXR1cm4gYih0LFtlXSwhMSwhMSk7aWYocy5pc1dyYXBwYWJsZSl7bGV0IHI9ITE7Zm9yKGxldCB0PTE7dDxlLmxlbmd0aDt0Kyspe2NvbnN0IGk9ZVt0XVswXSxhPWgoaSxlW3QtMV1bMF0scyk7aSE9PWEmJihlW3RdWzBdPWEscj0hMCl9aWYocil7Y29uc3Qgcj1wKHtwYXRoczpbZV0sc3BhdGlhbFJlZmVyZW5jZTpzfSk7aWYobnVsbCE9cilyZXR1cm4gYih0LHIucGF0aHMsITEsITEpfXJldHVybiBiKHQsW2VdLCExLCExKX1jb25zdCByPUcuZnJvbUdlb21ldHJ5VG9HWEdlb21ldHJ5KHtoYXNNOiExLGhhc1o6ITEscGF0aHM6W2VdfSksaT1HLmZyb21TcGF0aWFsUmVmZXJlbmNlKHMpO2lmKG51bGwhPWkpe2NvbnN0IGU9YShyLDFlNixpLG8uZ2VvZGVzaWMpO2lmKG51bGwhPWUpe2NvbnN0IHM9Ry50b0dlb21ldHJ5KGUsaSk7aWYobnVsbCE9cyYmXCJwYXRoc1wiaW4gcylyZXR1cm4gYih0LHMucGF0aHMsITEsITEpfX1yZXR1cm4gYih0LFtlXSwhMSwhMSl9ZnVuY3Rpb24gTih0LGUpe2NvbnN0IHM9Mix7Y29vcmRzOnIsbGVuZ3RoczppfT10O2lmKCFpLmxlbmd0aClyZXR1cm4gdm9pZCBlKHJbMF0sclsxXSk7bGV0IGE9MDtmb3IobGV0IG89MDtvPGkubGVuZ3RoO28rKyl7Y29uc3QgdD1pW29dO2xldCBuPTAsbD0wO2ZvcihsZXQgaT0wO2k8dDtpKyspbis9cltzKihpK2EpXSxsKz1yW3MqKGkrYSkrMV0sZShuLGwpO2ErPXR9fWZ1bmN0aW9uIFgodCl7Y29uc3R7bGVuZ3RoczplLGNvb3JkczpzfT10LHI9MjtpZighZS5sZW5ndGgpcmV0dXJuW2QoKV07Y29uc3QgaT1bXTtsZXQgYT0wO2ZvcihsZXQgbz0wO288ZS5sZW5ndGg7bysrKXtjb25zdCB0PWVbb10sbj1kKCk7aS5wdXNoKG4pO2ZvcihsZXQgZT0wO2U8dDtlKyspe2NvbnN0IHQ9c1tyKihlK2EpXSxpPXNbciooZSthKSsxXTt1KG4sW3QsaV0pfWErPXR9cmV0dXJuIGl9ZXhwb3J0e3EgYXMgVHJhY2tTdHJhdGVneX07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4zMy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuY2xhc3Mgc3tjb25zdHJ1Y3RvcihzLHQpe3RoaXMuaW5uZXI9cyx0aGlzLmRpc3BsYXlJZD10fX1leHBvcnR7cyBhcyBXaXRoRGlzcGxheUlkfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjMzL2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnQgdCBmcm9tXCIuLi8uLi8uLi8uLi8uLi9jb3JlL0Vycm9yLmpzXCI7aW1wb3J0XCIuLi8uLi8uLi8uLi8uLi9jb3JlL2hhcy5qc1wiO2ltcG9ydCBlIGZyb21cIi4uLy4uLy4uLy4uLy4uL2NvcmUvTG9nZ2VyLmpzXCI7aW1wb3J0e2RlYm91bmNlIGFzIHJ9ZnJvbVwiLi4vLi4vLi4vLi4vLi4vY29yZS9wcm9taXNlVXRpbHMuanNcIjtpbXBvcnR7Z2VuZXJhdGVVVUlEIGFzIHN9ZnJvbVwiLi4vLi4vLi4vLi4vLi4vY29yZS91dWlkLmpzXCI7aW1wb3J0e2ZldGNoUGFnZXMgYXMgaX1mcm9tXCIuL3N0cmF0ZWdpZXMvc3VwcG9ydC9zbmFwc2hvdFV0aWxzLmpzXCI7Y29uc3Qgbz04ZTM7Y2xhc3MgaHtjb25zdHJ1Y3RvcihoLGEsYyxuKXt0aGlzLnN0b3JlPWgsdGhpcy5xdWVyeUluZm89YSx0aGlzLl9vcHRpb25zPWMsdGhpcy5fZmV0Y2g9bix0aGlzLl9uZXh0QmF0Y2g9bmV3IFNldCx0aGlzLl9mZXRjaEZlYXR1cmVzPXIoKGFzeW5jKCk9PntpZigwPT09dGhpcy5fbmV4dEJhdGNoLnNpemV8fHRoaXMuX29wdGlvbnMuc2lnbmFsPy5hYm9ydGVkKXJldHVybjtjb25zdCByPUFycmF5LmZyb20odGhpcy5fbmV4dEJhdGNoKTt0aGlzLl9uZXh0QmF0Y2guY2xlYXIoKSxyLmxlbmd0aD5vJiZlLmdldExvZ2dlcihcImVzcmkudmlld3MuMmQubGF5ZXJzLkZlYXR1cmVMYXllclZpZXcyRFwiKS53YXJuKG5ldyB0KFwiaGlnaGxpZ2h0LXRvby1tYW55LWZlYXR1cmVzXCIsYGhpZ2hsaWdodCBpcyBsaW1pdGVkIHRvICR7b30gZmVhdHVyZXMgb24gbGFyZ2UgbGF5ZXJzIGNvbmZpZ3VyZWQgd2l0aCBhIGRpc3BsYXkgZmlsdGVyIHRvIGF2b2lkIHBlcmZvcm1hbmNlIGlzc3Vlc2ApKTtjb25zdCBoPXRoaXMucXVlcnlJbmZvLm9iamVjdElkc1F1ZXJ5UGFnZVNpemUsYT1NYXRoLmNlaWwoby9oKSxjPU1hdGgubWluKGEsTWF0aC5jZWlsKHIubGVuZ3RoL2gpKSxuPUFycmF5LmZyb20oe2xlbmd0aDpjfSwoKHQsZSk9Pntjb25zdCBzPWUqaCxpPU1hdGgubWluKHMraCxyLmxlbmd0aCk7cmV0dXJue251bTplLHF1ZXJ5OnRoaXMucXVlcnlJbmZvLmNyZWF0ZU9iamVjdElkc1F1ZXJ5KHIuc2xpY2UocyxpKSl9fSkpO3RyeXthd2FpdCBpKHtjaHVua1ByZWZpeDpcImNhY2hlLlwiK3MoKSxmZXRjaDp0aGlzLl9mZXRjaH0sdGhpcy5zdG9yZSxuLHRoaXMuX29wdGlvbnMpfWNhdGNoKGYpe319KSl9cHJlcGFyZUNhY2hlVXBkYXRlKHQsZSl7aWYoZSlmb3IoY29uc3QgciBvZiBlKXRoaXMuX25leHRCYXRjaC5kZWxldGUocik7Zm9yKGNvbnN0IHIgb2YgdCl0aGlzLl9uZXh0QmF0Y2guYWRkKHIpfWFwcGx5Q2FjaGVVcGRhdGUoKXtyZXR1cm4gMD09PXRoaXMuX25leHRCYXRjaC5zaXplfHx0aGlzLl9vcHRpb25zLnNpZ25hbD8uYWJvcnRlZD9udWxsOnRoaXMuX2ZldGNoRmVhdHVyZXMoKS5jYXRjaCgoKCk9Pnt9KSl9fWV4cG9ydHtoIGFzIEZlYXR1cmVDYWNoZX07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4zMy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0IGUgZnJvbVwiLi4vLi4vLi4vLi4vLi4vcmVxdWVzdC5qc1wiO2ltcG9ydCBoYXMgZnJvbVwiLi4vLi4vLi4vLi4vLi4vY29yZS9oYXMuanNcIjtpbXBvcnR7aWdub3JlQWJvcnRFcnJvcnMgYXMgdCx0aHJvd0lmTm90QWJvcnRFcnJvciBhcyBzfWZyb21cIi4uLy4uLy4uLy4uLy4uL2NvcmUvcHJvbWlzZVV0aWxzLmpzXCI7aW1wb3J0e2RpZmYgYXMgcixoYXNSb290RGlmZk9ubHkgYXMgYSxoYXNSb290RGlmZiBhcyBpfWZyb21cIi4uLy4uLy4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RpZmZVdGlscy5qc1wiO2ltcG9ydHtPcHRpbWl6ZWRGZWF0dXJlIGFzIG59ZnJvbVwiLi4vLi4vLi4vLi4vLi4vbGF5ZXJzL2dyYXBoaWNzL09wdGltaXplZEZlYXR1cmUuanNcIjtpbXBvcnR7UXVlcnlFbmdpbmUgYXMgb31mcm9tXCIuLi8uLi8uLi8uLi8uLi9sYXllcnMvZ3JhcGhpY3MvZGF0YS9RdWVyeUVuZ2luZS5qc1wiO2ltcG9ydHtleGVjdXRlUXVlcnkgYXMgYyxleGVjdXRlUXVlcnlGb3JDb3VudCBhcyBkfWZyb21cIi4uLy4uLy4uLy4uLy4uL3Jlc3QvcXVlcnkvb3BlcmF0aW9ucy9xdWVyeS5qc1wiO2ltcG9ydCB1IGZyb21cIi4uLy4uLy4uLy4uLy4uL3Jlc3Qvc3VwcG9ydC9TdGF0aXN0aWNEZWZpbml0aW9uLmpzXCI7aW1wb3J0e0ZlYXR1cmVTdG9yZVN0YXRpc3RpY3MgYXMgaH1mcm9tXCIuLi9GZWF0dXJlU3RvcmVTdGF0aXN0aWNzLmpzXCI7aW1wb3J0e0ZlYXR1cmVTb3VyY2VRdWVyeUluZm8gYXMgbX1mcm9tXCIuL0ZlYXR1cmVTb3VyY2VRdWVyeUluZm8uanNcIjtpbXBvcnR7U3RyZWFtTWVzc2VuZ2VyIGFzIHB9ZnJvbVwiLi9TdHJlYW1NZXNzZW5nZXIuanNcIjtpbXBvcnR7RHJpbGxEb3duVGlsZUxvYWRTdHJhdGVneSBhcyBsfWZyb21cIi4vc3RyYXRlZ2llcy9EcmlsbERvd25UaWxlTG9hZFN0cmF0ZWd5LmpzXCI7aW1wb3J0e1BhZ2VkVGlsZUxvYWRTdHJhdGVneSBhcyB5fWZyb21cIi4vc3RyYXRlZ2llcy9QYWdlZFRpbGVMb2FkU3RyYXRlZ3kuanNcIjtpbXBvcnR7UGFycXVldExvYWRTdHJhdGVneSBhcyBffWZyb21cIi4vc3RyYXRlZ2llcy9QYXJxdWV0TG9hZFN0cmF0ZWd5LmpzXCI7aW1wb3J0e1NuYXBzaG90TG9hZFN0cmF0ZWd5IGFzIGd9ZnJvbVwiLi9zdHJhdGVnaWVzL1NuYXBzaG90TG9hZFN0cmF0ZWd5LmpzXCI7aW1wb3J0e1N0cmVhbUxvYWRTdHJhdGVneSBhcyBmfWZyb21cIi4vc3RyYXRlZ2llcy9TdHJlYW1Mb2FkU3RyYXRlZ3kuanNcIjtpbXBvcnR7RmVhdHVyZVNvdXJjZUNodW5rU3RvcmUgYXMgU31mcm9tXCIuL3N0cmF0ZWdpZXMvY2h1bmtzL1NvdXJjZUNodW5rU3RvcmUuanNcIjtpbXBvcnR7RmVhdHVyZU1ldGFkYXRhIGFzIHZ9ZnJvbVwiLi4vc3VwcG9ydC9GZWF0dXJlTWV0YWRhdGEuanNcIjtpbXBvcnR7VXBkYXRlVHJhY2tpbmcyRCBhcyBifWZyb21cIi4uLy4uL3N1cHBvcnQvVXBkYXRlVHJhY2tpbmcyRC5qc1wiO2NsYXNzIEV7Y29uc3RydWN0b3IoZSx0LHMscixhKXt0aGlzLnNlcnZpY2U9ZSx0aGlzLl9hZ2dyZWdhdGVBZGFwdGVyPXQsdGhpcy5fc3Vic2NyaXB0aW9ucz1zLHRoaXMuX2Nvbm5lY3Rpb249cix0aGlzLl9jYWNoZWRPYmplY3RJZHM9YSx0aGlzLl91cGRhdGVUcmFja2luZz1uZXcgYih7ZGVidWdOYW1lOlwiRmVhdHVyZVNvdXJjZVwifSksdGhpcy5fZGlkSW52YWxpZGF0ZURhdGE9ITEsdGhpcy5fbWV0YWRhdGE9di5jcmVhdGVGZWF0dXJlKGUubWV0YWRhdGEpLHRoaXMuX3N0b3JlPW5ldyBTKHRoaXMuX21ldGFkYXRhKX1kZXN0cm95KCl7dGhpcy5fc3RyYXRlZ3k/LmRlc3Ryb3koKSx0aGlzLl9zdG9yZS5kZXN0cm95KCksdGhpcy5fc3RyZWFtTWVzc2VuZ2VyPy5kZXN0cm95KCksXCJtZW1vcnlcIj09PXRoaXMuc2VydmljZS50eXBlJiZ0aGlzLnNlcnZpY2Uuc291cmNlLm1hcCgoZT0+ZS5jbG9zZSgpKSl9Z2V0IG1ldGFkYXRhKCl7aWYoIXRoaXMuX21ldGFkYXRhKXRocm93IG5ldyBFcnJvcihcIkludGVybmFsRXJyb3I6IE1ldGFkYXRhIG5vdCBkZWZpbmVkLiBXYXMgdXBkYXRlIGNhbGxlZD9cIik7cmV0dXJuIHRoaXMuX21ldGFkYXRhfWdldCBzdG9yZSgpe3JldHVybiB0aGlzLl9zdG9yZX1nZXQgc3RyZWFtTWVzc2VuZ2VyKCl7cmV0dXJuIG51bGw9PXRoaXMuX3N0cmVhbU1lc3NlbmdlciYmdGhpcy5faW5pdFN0cmVhbU1lc3NlbmdlcigpLHRoaXMuX3N0cmVhbU1lc3Nlbmdlcn1nZXQgc3RhdGlzdGljcygpe3JldHVybiBoLmZyb20odGhpcy5fc3RvcmUpfWdldCB1cGRhdGVUcmFja2luZygpe3JldHVybiB0aGlzLl91cGRhdGVUcmFja2luZ31nZXQgcXVlcnlFbmdpbmUoKXtpZighdGhpcy5fcXVlcnlFbmdpbmUpe2lmKCF0aGlzLl9zY2hlbWEpcmV0dXJuIG51bGw7Y29uc3R7ZGF0YUZpbHRlcjplfT10aGlzLl9zY2hlbWEubXV0YWJsZSx0PXRoaXMuX3NjaGVtYS5tdXRhYmxlLmF2YWlsYWJsZUZpZWxkcyxzPXRoaXMuX21ldGFkYXRhO3RoaXMuX3F1ZXJ5RW5naW5lPW5ldyBvKHtmZWF0dXJlU3RvcmU6dGhpcy5fc3RvcmUsZmllbGRzSW5kZXg6cy5maWVsZHNJbmRleCxnZW9tZXRyeVR5cGU6cy5nZW9tZXRyeVR5cGUsZmVhdHVyZUlkSW5mbzpzLmZlYXR1cmVJZEluZm8saGFzTTohMSxoYXNaOiExLHNwYXRpYWxSZWZlcmVuY2U6dGhpcy5zZXJ2aWNlLm91dFNwYXRpYWxSZWZlcmVuY2UsYWdncmVnYXRlQWRhcHRlcjp0aGlzLl9hZ2dyZWdhdGVBZGFwdGVyLHRpbWVJbmZvOnMudGltZUluZm8sZGVmaW5pdGlvbkV4cHJlc3Npb246ZS5kZWZpbml0aW9uRXhwcmVzc2lvbixhdmFpbGFibGVGaWVsZHM6dH0pfXJldHVybiB0aGlzLl9xdWVyeUVuZ2luZX1nZXQgaXNTdHJlYW0oKXtyZXR1cm5cInN0cmVhbVwiPT09dGhpcy5fc2NoZW1hLnR5cGV9Z2V0IGhhc0Rpc3BsYXlGaWx0ZXIoKXtyZXR1cm4hIXRoaXMuX3NjaGVtYSYmKFwiZGlzcGxheUZpbHRlckluZm9cImluIHRoaXMuX3NjaGVtYS5tdXRhYmxlJiZudWxsIT10aGlzLl9zY2hlbWEubXV0YWJsZS5kaXNwbGF5RmlsdGVySW5mbyl9Y2h1bmtzKCl7cmV0dXJuIEFycmF5LmZyb20odGhpcy5fc3RvcmUuY2h1bmtzKCkpfXByZXBhcmVDYWNoZVVwZGF0ZShlLHQpe2NvbnN0IHM9bmV3IFNldCxyPW5ldyBTZXQ7Zm9yKGNvbnN0IGEgb2YgZSl0aGlzLl9jYWNoZWRPYmplY3RJZHMuaGFzKGEpfHwodGhpcy5fY2FjaGVkT2JqZWN0SWRzLmFkZChhKSxzLmFkZChhKSk7Zm9yKGNvbnN0IGEgb2YgdCl0aGlzLl9jYWNoZWRPYmplY3RJZHMuZGVsZXRlKGEpLHIuYWRkKGEpO3RoaXMuaGFzRGlzcGxheUZpbHRlciYmdGhpcy5fc3RyYXRlZ3kucHJlcGFyZUNhY2hlVXBkYXRlKHMscil9YXN5bmMgYXBwbHlDYWNoZVVwZGF0ZSgpe3RoaXMuaGFzRGlzcGxheUZpbHRlciYmYXdhaXQgdGhpcy5fdXBkYXRlVHJhY2tpbmcuYWRkUHJvbWlzZSh0aGlzLl9zdHJhdGVneS5hcHBseUNhY2hlVXBkYXRlKCkpfWNsZWFudXAoKXtyZXR1cm4gdGhpcy5fc3RvcmUuY2xlYW51cCgpfW9uU3Vic2NyaWJlKGUpe3RoaXMuX2Nvbm5lY3Rpb24ub25FdmVudCh7dHlwZTpcInN1YnNjcmliZVwiLHRpbGU6ZS50aWxlLmlkfSk7Y29uc3QgdD10aGlzLl9zdHJhdGVneT8ubG9hZChlKTt0JiYodC50aGVuKCgoKT0+dGhpcy5fY29ubmVjdGlvbi5vbkV2ZW50KHt0eXBlOlwibG9hZGVkXCIsdGlsZTplLnRpbGUuaWR9KSkpLmNhdGNoKCh0PT50aGlzLl9jb25uZWN0aW9uLm9uRXZlbnQoe3R5cGU6XCJlcnJvclwiLHRpbGU6ZS50aWxlLmlkLGVycm9yOnR9KSkpLHRoaXMuX3VwZGF0ZVRyYWNraW5nLmFkZFByb21pc2UodCkpfW9uUmVzdW1lKGUpe3RoaXMuX3VwZGF0ZVRyYWNraW5nLmFkZFByb21pc2UodCh0aGlzLl9zdHJhdGVneT8ubG9hZChlKSkpfW9uVW5zdWJzY3JpYmUoZSl7dGhpcy5fY29ubmVjdGlvbi5vbkV2ZW50KHt0eXBlOlwidW5zdWJzY3JpYmVcIix0aWxlOmUudGlsZS5pZH0pLHRoaXMuX3N0cmF0ZWd5Py51bmxvYWQoZSl9YXBwbHlPdmVycmlkZShlKXt0aGlzLl9kaWRJbnZhbGlkYXRlRGF0YT0hMCx0aGlzLl9zdG9yZS5hcHBseU92ZXJyaWRlKGUpfXRha2VPdmVycmlkZVVwZGF0ZSgpe3JldHVybiB0aGlzLl9zdG9yZS50YWtlT3ZlcnJpZGVVcGRhdGUoKX1hc3luYyB1cGRhdGUoZSx0KXtjb25zdCBzPWUuc291cmNlLG49cih0aGlzLl9zY2hlbWE/Lm11dGFibGUscy5tdXRhYmxlKTtpZighbilyZXR1cm4hMTtpZihoYXMoXCJlc3JpLTJkLXVwZGF0ZS1kZWJ1Z1wiKSYmY29uc29sZS5kZWJ1ZyhgVmVyc2lvblske3R9XSBGZWF0dXJlU291cmNlLnVwZGF0ZWAse2NoYW5nZXM6bn0pLHRoaXMuX3NjaGVtYT1zLHRoaXMuX3F1ZXJ5RW5naW5lPy5kZXN0cm95KCksdGhpcy5fcXVlcnlFbmdpbmU9bnVsbCxcImZlYXR1cmUtc2VydmljZVwiPT09dGhpcy5zZXJ2aWNlLnR5cGUmJm51bGwhPXRoaXMuc2VydmljZS5xdWVyeU1ldGFkYXRhLmxhc3RFZGl0RGF0ZSYmKHRoaXMuX2xhc3RFZGl0RGF0ZT10aGlzLnNlcnZpY2UucXVlcnlNZXRhZGF0YS5sYXN0RWRpdERhdGUpLG51bGw9PXRoaXMuX3N0cmVhbU1lc3NlbmdlciYmXCJzdHJlYW1cIj09PXRoaXMuX3NjaGVtYS50eXBlJiZ0aGlzLl9pbml0U3RyZWFtTWVzc2VuZ2VyKCksYShuLFwic291cmNlUmVmcmVzaFZlcnNpb25cIikmJnRoaXMuX3N0cmF0ZWd5Py5yZWZyZXNoKXJldHVybiB0aGlzLl9zdHJhdGVneS5yZWZyZXNoKCk7aWYoKFwiZmVhdHVyZVwiPT09cy50eXBlfHxcInBhcnF1ZXRcIj09PXMudHlwZSkmJmEobixcImF2YWlsYWJsZUZpZWxkc1wiKSl7aWYoYXdhaXQgdGhpcy5fcXVlcnlMYXN0RWRpdERhdGVDaGFuZ2VkKCl8fHRoaXMuX2RpZEludmFsaWRhdGVEYXRhKXRoaXMuX2RpZEludmFsaWRhdGVEYXRhPSExLGF3YWl0IHRoaXMuX3VwZGF0ZVN0cmF0ZWd5KHQpO2Vsc2V7dGhpcy5fY29ubmVjdGlvbi5vbkV2ZW50KHt0eXBlOlwidXBkYXRlRmllbGRzU3RhcnRcIn0pO3RyeXthd2FpdCB0aGlzLl9zdHJhdGVneS51cGRhdGVGaWVsZHMocy5tdXRhYmxlLmF2YWlsYWJsZUZpZWxkcyksdGhpcy5fY29ubmVjdGlvbi5vbkV2ZW50KHt0eXBlOlwidXBkYXRlRmllbGRzRW5kXCJ9KX1jYXRjaChvKXt0aGlzLl9jb25uZWN0aW9uLm9uRXZlbnQoe3R5cGU6XCJ1cGRhdGVGaWVsZHNFcnJvclwiLGVycm9yOm99KX19cmV0dXJuITF9cmV0dXJuISEoaShuLFwiZGF0YUZpbHRlclwiKXx8aShuLFwic291cmNlUmVmcmVzaFZlcnNpb25cIil8fHRoaXMuX3N0cmF0ZWd5LmFib3V0LnN1cHBvcnRzRGlzcGxheUZpbHRlciYmaShuLFwiZGlzcGxheUZpbHRlckluZm9cIikpJiYoYXdhaXQgdGhpcy5fdXBkYXRlU3RyYXRlZ3kodCksITApfWFzeW5jIGFkZFBhcnF1ZXRGaWxlKGUpe3RoaXMuX3N0cmF0ZWd5LmFkZFBhcnF1ZXRGaWxlKGUpfXVuc2FmZVNldFF1ZXJ5SGlzdG9yaWNNb21lbnQoZSl7XCJmZWF0dXJlXCI9PT10aGlzLl9zY2hlbWEudHlwZSYmKHRoaXMuX3NjaGVtYS5tdXRhYmxlLmRhdGFGaWx0ZXIuaGlzdG9yaWNNb21lbnQ9ZSx0aGlzLl9zdHJhdGVneS51bnNhZmVTZXRRdWVyeUhpc3RvcmljTW9tZW50KG5ldyBEYXRlKGUpKSl9X2luaXRTdHJlYW1NZXNzZW5nZXIoKXtudWxsPT10aGlzLl9zdHJlYW1NZXNzZW5nZXImJih0aGlzLl9zdHJlYW1NZXNzZW5nZXI9bmV3IHAodGhpcy5fY29ubmVjdGlvbikpfWFzeW5jIG5vcm1hbGl6ZU92ZXJyaWRlcyhlKXtjb25zdCB0PXtoaXN0b3JpY01vbWVudDplLmhpc3RvcmljTW9tZW50LGNvbW1hbmRzOnt1cGRhdGVXZWFrOmUuY29tbWFuZHMudXBkYXRlV2Vhay5tYXAobi5mcm9tSlNPTikscmVtb3ZlV2VhazplLmNvbW1hbmRzLnJlbW92ZVdlYWssdXBkYXRlOmUuY29tbWFuZHMudXBkYXRlLm1hcChuLmZyb21KU09OKSxyZW1vdmU6ZS5jb21tYW5kcy5yZW1vdmUscmVsZWFzZTplLmNvbW1hbmRzLnJlbGVhc2V9fSxzPWUuY29tbWFuZHMudXBkYXRlQnlJZFdlYWsscj1hd2FpdCB0aGlzLl9xdWVyeU9wdGltaXplZEZlYXR1cmVzKHMpO3JldHVybiB0LmNvbW1hbmRzLnVwZGF0ZVdlYWsucHVzaCguLi5yKSx0fWFzeW5jIF9xdWVyeU9wdGltaXplZEZlYXR1cmVzKGUpe2lmKDA9PT1lLmxlbmd0aClyZXR1cm5bXTtjb25zdCB0PVtdLHM9KGF3YWl0IHRoaXMuX3N0cmF0ZWd5LnF1ZXJ5QnlPYmplY3RJZChlKSkuZ2V0Q3Vyc29yKCk7Zm9yKDtzLm5leHQoKTspdC5wdXNoKHMucmVhZE9wdGltaXplZEZlYXR1cmVXb3JsZFNwYWNlKCkpO3JldHVybiB0fWdldE9iamVjdElkc0Zyb21HbG9iYWxJZHMoZSl7Y29uc3QgdD10aGlzLm1ldGFkYXRhLmdsb2JhbElkRmllbGQ7aWYobnVsbD09dCl0aHJvdyBuZXcgRXJyb3IoXCJJbnRlcm5hbEVycm9yOiBSZWNpZXZlZCBhbiBlZGl0IHdpdGggZ2xvYmFsSWRzLCBidXQgbm90IHN1cHBvcnRlZCBieSB0aGUgc2VydmljZVwiKTtjb25zdCBzPXRoaXMuX3N0b3JlLm1hcE9iamVjdElkc0Zyb21HbG9iYWxJZHMoZSx0KS52YWx1ZXMoKTtyZXR1cm4gQXJyYXkuZnJvbShzKX1hc3luYyBfcXVlcnlMYXN0RWRpdERhdGVDaGFuZ2VkKCl7aWYobnVsbD09dGhpcy5fbGFzdEVkaXREYXRlKXJldHVybiExO2NvbnN0IHQ9dGhpcy5zZXJ2aWNlLnNvdXJjZSxzPXsuLi50LnF1ZXJ5LGY6XCJqc29uXCJ9LHI9KGF3YWl0IGUodC5wYXRoLHtxdWVyeTpzLHJlc3BvbnNlVHlwZTpcImpzb25cIn0pKS5kYXRhLmVkaXRpbmdJbmZvLmxhc3RFZGl0RGF0ZTtyZXR1cm4gciE9PXRoaXMuX2xhc3RFZGl0RGF0ZSYmKHRoaXMuX2xhc3RFZGl0RGF0ZT1yLCEwKX1hc3luYyBfY3JlYXRlU3RyYXRlZ3koKXtjb25zdCBlPVwiaXNTb3VyY2VIb3N0ZWRcImluIHRoaXMuc2VydmljZSYmdGhpcy5zZXJ2aWNlLmlzU291cmNlSG9zdGVkLHQ9QXJyYXkuaXNBcnJheSh0aGlzLnNlcnZpY2Uuc291cmNlKSxzPXRoaXMuc2VydmljZS5zb3VyY2UmJlwiY29sbGVjdGlvblwiaW4gdGhpcy5zZXJ2aWNlLnNvdXJjZSxyPWV8fHR8fHM7aWYoXCJzdHJlYW1cIj09PXRoaXMuX3NjaGVtYS50eXBlKXtjb25zdCBlPW5ldyBmKHRoaXMuc2VydmljZSx0aGlzLl9zY2hlbWEubXV0YWJsZS5kYXRhRmlsdGVyLHRoaXMuX3N0b3JlLHtvdXRTUjp0aGlzLnNlcnZpY2Uub3V0U3BhdGlhbFJlZmVyZW5jZX0sdGhpcy5tZXRhZGF0YSk7cmV0dXJuIHRoaXMuX3N0cmVhbU1lc3Nlbmdlci5zdHJhdGVneT1lLGV9aWYoXCJwYXJxdWV0XCI9PT10aGlzLl9zY2hlbWEudHlwZSl7Y29uc3QgZT10aGlzLnNlcnZpY2U7cmV0dXJuIG5ldyBfKGUsdGhpcy5fbWV0YWRhdGEsdGhpcy5fc2NoZW1hLHRoaXMuX3N0b3JlKX1jb25zdCBhPXRoaXMuc2VydmljZSxpPW0uZnJvbVNjaGVtYShhLHRoaXMuX3NjaGVtYSx0aGlzLl9tZXRhZGF0YSksbj1hd2FpdCB0aGlzLl9zdXBwb3J0U25hcHNob3RNb2RlKGEsaSk7cmV0dXJuIG4/bmV3IGcoYSxpLHRoaXMuX3N0b3JlLG4sdGhpcy5tZXRhZGF0YSx0aGlzLl9jb25uZWN0aW9uKTpyP25ldyB5KGEsaSx0aGlzLl9zdG9yZSx0aGlzLm1ldGFkYXRhLHRoaXMuX2Nvbm5lY3Rpb24pOm5ldyBsKGEsaSx0aGlzLl9zdG9yZSx0aGlzLm1ldGFkYXRhLHRoaXMuX2Nvbm5lY3Rpb24pfWFzeW5jIF91cGRhdGVTdHJhdGVneShlKXtjb25zdCB0PWF3YWl0IHRoaXMuX2NyZWF0ZVN0cmF0ZWd5KCk7dGhpcy5fY29ubmVjdGlvbi5vbkV2ZW50KHt0eXBlOlwidXBkYXRlU3RyYXRlZ3lTdGFydFwiLGFib3V0OnQuYWJvdXR9KTtjb25zdCByPSEhdGhpcy5fc3RyYXRlZ3k7dGhpcy5fc3RvcmUuY2xlYXIoKSx0aGlzLl9zdHJhdGVneT8uZGVzdHJveSgpLHRoaXMuX3N0cmF0ZWd5PXQsaGFzKFwiZXNyaS0yZC11cGRhdGUtZGVidWdcIikmJmNvbnNvbGUuZGVidWcoYFZlcnNpb25bJHtlfV0gRmVhdHVyZVNvdXJjZS51cGRhdGVTdHJhdGVneWAse3N0cmF0ZWd5OnR9KTtjb25zdCBhPUFycmF5LmZyb20odGhpcy5fc3Vic2NyaXB0aW9ucy52YWx1ZXMoKSk7aWYoIWEubGVuZ3RoKXJldHVybiB2b2lkIHRoaXMuX2Nvbm5lY3Rpb24ub25FdmVudCh7dHlwZTpcInVwZGF0ZVN0cmF0ZWd5RW5kXCJ9KTtjb25zdCBpPVByb21pc2UuYWxsKGEubWFwKChlPT50aGlzLl9zdHJhdGVneS5sb2FkKGUpLnRoZW4oKCgpPT50aGlzLl9jb25uZWN0aW9uLm9uRXZlbnQoe3R5cGU6XCJsb2FkZWRcIix0aWxlOmUudGlsZS5pZH0pKSkuY2F0Y2goKHQ9PnRoaXMuX2Nvbm5lY3Rpb24ub25FdmVudCh7dHlwZTpcImVycm9yXCIsdGlsZTplLnRpbGUuaWQsZXJyb3I6dH0pKSkpKSk7dGhpcy5fdXBkYXRlVHJhY2tpbmcuYWRkUHJvbWlzZShpKSx0aGlzLl9zdHJhdGVneS5wcmVwYXJlQ2FjaGVVcGRhdGUodGhpcy5fY2FjaGVkT2JqZWN0SWRzKTt0cnl7ciYmYXdhaXQgaX1jYXRjaChuKXtzKG4pfXRoaXMuX2Nvbm5lY3Rpb24ub25FdmVudCh7dHlwZTpcInVwZGF0ZVN0cmF0ZWd5RW5kXCJ9KSxoYXMoXCJlc3JpLTJkLXVwZGF0ZS1kZWJ1Z1wiKSYmY29uc29sZS5kZWJ1ZyhgVmVyc2lvblske2V9XSBGZWF0dXJlU291cmNlLnVwZGF0ZVN0cmF0ZWd5RW5kYCx7c3RyYXRlZ3k6dH0pfWFzeW5jIF9zdXBwb3J0U25hcHNob3RNb2RlKGUsdCl7Y29uc3R7cXVlcnlNZXRhZGF0YTpzfT1lLHI9cy5zbmFwc2hvdEluZm87aWYoIXIpcmV0dXJuIG51bGw7cmV0dXJuIGF3YWl0IHRoaXMuX2V4ZWN1dGVFeGNlZWRzTGltaXRRdWVyeShlLHQscik/bnVsbDpyfWFzeW5jIF9leGVjdXRlRXhjZWVkc0xpbWl0UXVlcnkoZSx0LHMpe2lmKCFzLnN1cHBvcnRzRXhjZWVkc0xpbWl0KXJldHVybiB0aGlzLl9leGVjdXRlRXhjZWVkc0xpbWl0RmFsbGJhY2tRdWVyeShlLHQscyk7dHJ5e2NvbnN0IHI9ZS5zb3VyY2UsYT10LmNyZWF0ZVF1ZXJ5KCk7YS5pbm5lci5vcmRlckJ5RmllbGRzPVtdLGEuaW5uZXIucmV0dXJuR2VvbWV0cnk9ITE7Y29uc3QgaT1uZXcgdTtpLnN0YXRpc3RpY1R5cGU9XCJleGNlZWRzbGltaXRcIixpLm1heFBvaW50Q291bnQ9cy5tYXhGZWF0dXJlQ291bnQsaS5tYXhSZWNvcmRDb3VudD1zLm1heEZlYXR1cmVDb3VudCxpLm91dFN0YXRpc3RpY0ZpZWxkTmFtZT1cImV4Y2VlZHNsaW1pdFwiLHMubWF4VmVydGV4Q291bnQmJihpLm1heFZlcnRleENvdW50PXMubWF4VmVydGV4Q291bnQpLGEuaW5uZXIub3V0U3RhdGlzdGljcz1baV0sYS5pbm5lci5jYWNoZUhpbnQ9ITA7Y29uc3Qgbj1hd2FpdCBjKHIsYS5pbm5lcix2b2lkIDAse3F1ZXJ5OmEuY3VzdG9tUGFyYW1ldGVyc30pLG89bi5kYXRhLmZlYXR1cmVzWzBdPy5hdHRyaWJ1dGVzLmV4Y2VlZHNsaW1pdDtyZXR1cm4hKDA9PT1vKX1jYXRjaChyKXtyZXR1cm4hMH19YXN5bmMgX2V4ZWN1dGVFeGNlZWRzTGltaXRGYWxsYmFja1F1ZXJ5KGUsdCxzKXtpZihzLm1heFZlcnRleENvdW50KXJldHVybiEwO2NvbnN0IHI9ZS5zb3VyY2UsYT10LmNyZWF0ZVF1ZXJ5KCk7YS5pbm5lci5vcmRlckJ5RmllbGRzPVtdLGEuaW5uZXIucmV0dXJuR2VvbWV0cnk9ITEsYS5pbm5lci5jYWNoZUhpbnQ9ITA7dHJ5e3JldHVybihhd2FpdCBkKHIsYS5pbm5lcix7cXVlcnk6YS5jdXN0b21QYXJhbWV0ZXJzfSkpLmRhdGEuY291bnQ+cy5tYXhGZWF0dXJlQ291bnR9Y2F0Y2goaSl7cmV0dXJuITB9fX1leHBvcnR7RSBhcyBGZWF0dXJlU291cmNlfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjMzL2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5jbGFzcyBle2NvbnN0cnVjdG9yKGUsaSx0LHMscil7dGhpcy5zdWJzY3JpcHRpb249ZSx0aGlzLnJlYWRlcj1pLHRoaXMuY2xlYXI9dCx0aGlzLmVuZD1zLHRoaXMuZGVidWdJbmZvPXIsdGhpcy50eXBlPVwiYXBwZW5kXCJ9Z2V0IGlkKCl7cmV0dXJuIHRoaXMuc3Vic2NyaXB0aW9uLnRpbGUuaWR9Y3JlYXRlTWVzc2FnZShlLGksdCl7cmV0dXJue3R5cGU6XCJhcHBlbmRcIixjbGVhcjp0aGlzLmNsZWFyLGlkOnRoaXMuaWQsYXBwZW5kOmUsZW5kOnRoaXMuZW5kLGRlYnVnSW5mbzp0aGlzLmRlYnVnSW5mbyxzdWJzY3JpcHRpb25WZXNyaW9uOnRoaXMuc3Vic2NyaXB0aW9uLnZlcnNpb24sdmVyc2lvbjppLGF0dHJpYnV0ZUVwb2NoOnR9fX1jbGFzcyBpe2NvbnN0cnVjdG9yKGUsaSx0LHMscil7dGhpcy5zdWJzY3JpcHRpb249ZSx0aGlzLnJlYWRlcj1pLHRoaXMucmVtb3ZlPXQsdGhpcy5lbmQ9cyx0aGlzLmRlYnVnSW5mbz1yLHRoaXMudHlwZT1cInVwZGF0ZVwifWdldCBpZCgpe3JldHVybiB0aGlzLnN1YnNjcmlwdGlvbi50aWxlLmlkfWNyZWF0ZU1lc3NhZ2UoZSxpLHQpe3JldHVybnt0eXBlOlwidXBkYXRlXCIsaWQ6dGhpcy5pZCxtb2RpZnk6ZSxkZWJ1Z0luZm86dGhpcy5kZWJ1Z0luZm8scmVtb3ZlOnRoaXMucmVtb3ZlLHZlcnNpb246aSxzdWJzY3JpcHRpb25WZXNyaW9uOnRoaXMuc3Vic2NyaXB0aW9uLnZlcnNpb24sZW5kOnRoaXMuZW5kLGF0dHJpYnV0ZUVwb2NoOnR9fX1leHBvcnR7ZSBhcyBGZWF0dXJlVGlsZUFwcGVuZE1lc3NhZ2UsaSBhcyBGZWF0dXJlVGlsZVVwZGF0ZU1lc3NhZ2V9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMzMvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydCBoYXMgZnJvbVwiLi4vLi4vLi4vLi4vLi4vY29yZS9oYXMuanNcIjtpbXBvcnR7c3FsQW5kIGFzIGV9ZnJvbVwiLi4vLi4vLi4vLi4vLi4vY29yZS9zcWwuanNcIjtpbXBvcnQgdCBmcm9tXCIuLi8uLi8uLi8uLi8uLi9nZW9tZXRyeS9TcGF0aWFsUmVmZXJlbmNlLmpzXCI7aW1wb3J0e2lzSG9zdGVkQWdvbFNlcnZpY2UgYXMgcn1mcm9tXCIuLi8uLi8uLi8uLi8uLi9sYXllcnMvc3VwcG9ydC9hcmNnaXNMYXllclVybC5qc1wiO2ltcG9ydHtnZXRDbGF1c2VGb3JTY2FsZVJhbmdlIGFzIGF9ZnJvbVwiLi4vLi4vLi4vLi4vLi4vbGF5ZXJzL3N1cHBvcnQvZGlzcGxheUZpbHRlclV0aWxzLmpzXCI7aW1wb3J0IGkgZnJvbVwiLi4vLi4vLi4vLi4vLi4vcmVzdC9zdXBwb3J0L1F1ZXJ5LmpzXCI7aW1wb3J0e1QgYXMgc31mcm9tXCIuLi8uLi8uLi8uLi8uLi9jaHVua3MvVGltZUV4dGVudC5qc1wiO2NvbnN0IG89NDtmdW5jdGlvbiBuKGUpe3N3aXRjaChlLnR5cGUpe2Nhc2VcIm9iamVjdC1pZFwiOmNhc2VcInVuaXF1ZS1pZC1zaW1wbGVcIjpyZXR1cm5gJHtlLmZpZWxkTmFtZX0gQVNDYDtjYXNlXCJ1bmlxdWUtaWQtY29tcG9zaXRlXCI6cmV0dXJuYCR7ZS5maWVsZE5hbWVzLmpvaW4oXCIsXCIpfSBBU0NgfX1mdW5jdGlvbiB1KGUsYSxpKXtjb25zdCBvPW4oaS5mZWF0dXJlSWRJbmZvKSx1PWUuc291cmNlLGw9e3JldHVybkNlbnRyb2lkOiEobnVsbCE9PXUmJlwib2JqZWN0XCI9PXR5cGVvZiB1JiZcInBhdGhcImluIHUmJnIodS5wYXRoKSkmJlwiZXNyaUdlb21ldHJ5UG9seWdvblwiPT09aS5zZXJ2aWNlR2VvbWV0cnlUeXBlLHJldHVybkdlb21ldHJ5OiEwLHRpbWVSZWZlcmVuY2VVbmtub3duQ2xpZW50OmkudGltZVJlZmVyZW5jZVVua25vd25DbGllbnQ/P3ZvaWQgMCxvdXRTcGF0aWFsUmVmZXJlbmNlOnQuZnJvbUpTT04oZS5vdXRTcGF0aWFsUmVmZXJlbmNlKSxvcmRlckJ5RmllbGRzOlwibWVtb3J5XCI9PT1lLnR5cGU/W106W29dLHdoZXJlOmEubXV0YWJsZS5kYXRhRmlsdGVyLmRlZmluaXRpb25FeHByZXNzaW9uPz9cIjE9MVwiLG91dEZpZWxkczphLm11dGFibGUuYXZhaWxhYmxlRmllbGRzLG11bHRpcGF0Y2hPcHRpb246XCJlc3JpR2VvbWV0cnlNdWx0aVBhdGNoXCI9PT1pLnNlcnZpY2VHZW9tZXRyeVR5cGU/XCJ4eUZvb3RwcmludFwiOm51bGx9O2lmKFwiZmVhdHVyZVwiPT09YS50eXBlKXtjb25zdHtnZGJWZXJzaW9uOmUsaGlzdG9yaWNNb21lbnQ6dCx0aW1lRXh0ZW50OnJ9PWEubXV0YWJsZS5kYXRhRmlsdGVyO3JldHVybnsuLi5sLGdkYlZlcnNpb246ZSxoaXN0b3JpY01vbWVudDp0P25ldyBEYXRlKHQpOm51bGwsdGltZUV4dGVudDpyP3MuZnJvbUpTT04ocik6bnVsbCxvdXRGaWVsZHM6YS5tdXRhYmxlLmF2YWlsYWJsZUZpZWxkc319cmV0dXJuIGx9Y2xhc3MgbHtzdGF0aWMgZnJvbVNjaGVtYShlLHQscil7Y29uc3QgYT1cImZlYXR1cmVcIj09PXQudHlwZT90Lm11dGFibGUuZGF0YUZpbHRlci5xdWVyeVNjYWxlUmFuZ2VzOltdLGk9dC5tdXRhYmxlLmRpc3BsYXlGaWx0ZXJJbmZvO3JldHVybiBuZXcgbCh1KGUsdCxyKSxpLGEsci5zdWJ0eXBlRmllbGQsdC5tdXRhYmxlLmRhdGFGaWx0ZXIuY3VzdG9tUGFyYW1ldGVycyxyLmdlb21ldHJ5VHlwZSxlLnF1ZXJ5TWV0YWRhdGEpfWNvbnN0cnVjdG9yKGUsdCxyLGEsaSxzLG8pe3RoaXMuX3F1ZXJ5UGFyYW1zPWUsdGhpcy5fZGlzcGxheUZpbHRlcj10LHRoaXMuX3F1ZXJ5U2NhbGVSYW5nZXM9cix0aGlzLl9zdWJ0eXBlRmllbGQ9YSx0aGlzLl9jdXN0b21QYXJhbWV0ZXJzPWksdGhpcy5fZ2VvbWV0cnlUeXBlPXMsdGhpcy5fcXVlcnlNZXRhZGF0YT1vfWdldCBwYWdlU2l6ZSgpe2lmKG51bGw9PXRoaXMuX3F1ZXJ5TWV0YWRhdGEpdGhyb3cgbmV3IEVycm9yKFwiSW50ZXJuYWxFcnJvcjogU2VydmljZSBkb2VzIG5vdCBzdXBwb3J0IHBhZ2VkIHF1ZXJpZXNcIik7Y29uc3QgZT10aGlzLl9xdWVyeU1ldGFkYXRhLnN1cHBvcnRzTWF4UmVjb3JkQ291bnRGYWN0b3I/bzpudWxsLHQ9KHRoaXMuX3F1ZXJ5TWV0YWRhdGEubWF4UmVjb3JkQ291bnQ/PzhlMykqKGU/PzEpO3JldHVybiBNYXRoLm1pbig4ZTMsdCl9Z2V0IG9iamVjdElkc1F1ZXJ5UGFnZVNpemUoKXtyZXR1cm4gdGhpcy5fcXVlcnlNZXRhZGF0YT8ubWF4UmVjb3JkQ291bnQ/PzJlM311cGRhdGVIaXN0b3JpY01vbWVudChlKXt0aGlzLl9xdWVyeVBhcmFtcy5oaXN0b3JpY01vbWVudD1lfXVwZGF0ZUZpZWxkcyhlKXt0aGlzLl9xdWVyeVBhcmFtcy5vdXRGaWVsZHM9ZX1jcmVhdGVQYXRjaEZpZWxkc1F1ZXJ5KGUsdCxyKXtpZighdC5nZXRTaXplKCkpcmV0dXJuIG51bGw7Y29uc3QgYT1lLmNsb25lKCk7aWYoXCIqXCI9PT10aGlzLl9xdWVyeVBhcmFtcy5vdXRGaWVsZHNbMF0pe2lmKFwiKlwiPT09KGEub3V0RmllbGRzPz9bXSlbMF0pcmV0dXJuIG51bGw7YS5vdXRGaWVsZHM9dGhpcy5fcXVlcnlQYXJhbXMub3V0RmllbGRzfWVsc2V7Y29uc3QgZT1uZXcgU2V0KHRoaXMuX3F1ZXJ5UGFyYW1zLm91dEZpZWxkcykscj1bXTtmb3IoY29uc3QgYSBvZiBlKXQuaGFzRmllbGQoYSl8fHIucHVzaChhKTtpZigwPT09ci5sZW5ndGgpcmV0dXJuIG51bGw7YS5vdXRGaWVsZHM9cn1hLnJldHVybkdlb21ldHJ5PSExLGEucmV0dXJuQ2VudHJvaWQ9ITEsYS5xdWFudGl6YXRpb25QYXJhbWV0ZXJzPW51bGwsYS5jYWNoZUhpbnQ9ITA7Y29uc3QgaT17aW5uZXI6YSxjdXN0b21QYXJhbWV0ZXJzOnRoaXMuX2N1c3RvbVBhcmFtZXRlcnN9O2lmKGhhcyhcImVzcmktdGlsZXMtZGVidWdcIikmJm51bGwhPXIpe2NvbnN0IGU9ci5jaHVua0lkLnRvU3RyaW5nKCkucmVwbGFjZUFsbChcIi9cIixcIi5cIik7aS5jdXN0b21QYXJhbWV0ZXJzPWkuY3VzdG9tUGFyYW1ldGVycz97Li4uaS5jdXN0b21QYXJhbWV0ZXJzLGNodW5rSWQ6ZX06e2NodW5rSWQ6ZX19cmV0dXJuIGl9Y3JlYXRlUXVlcnkoZT17fSl7aWYoIXRoaXMuX3F1ZXJ5UGFyYW1zKXRocm93IG5ldyBFcnJvcihcIkludGVybmFsRXJyb3I6IHF1ZXJ5SW5mbyBzaG91bGQgYmUgZGVmaW5lZFwiKTtyZXR1cm57aW5uZXI6bmV3IGkoey4uLnRoaXMuX3F1ZXJ5UGFyYW1zLC4uLmV9KSxjdXN0b21QYXJhbWV0ZXJzOnRoaXMuX2N1c3RvbVBhcmFtZXRlcnN9fWNyZWF0ZVRpbGVRdWVyeSh0LHIpe2lmKG51bGw9PXRoaXMuX3F1ZXJ5TWV0YWRhdGEpdGhyb3cgbmV3IEVycm9yKFwiSW50ZXJuYWxFcnJvcjogU2VydmljZSBkb2VzIG5vdCBzdXBwb3J0IHRpbGUgcXVlcmllc1wiKTtjb25zdCBpPXRoaXMuY3JlYXRlUXVlcnkocikscz1pLmlubmVyO2lmKHRoaXMuX3F1ZXJ5U2NhbGVSYW5nZXMubGVuZ3RoKXtjb25zdCByPXRoaXMuX3F1ZXJ5U2NhbGVSYW5nZXMuZmlsdGVyKChlPT4oIWUubWluU2NhbGV8fGUubWluU2NhbGU+PXQubWF4U2NhbGUpJiYoIWUubWF4U2NhbGV8fGUubWF4U2NhbGU8PXQubWluU2NhbGUpKSkubWFwKChlPT5lLnN1YnR5cGVDb2RlKSk7aWYoci5sZW5ndGgpe2NvbnN0IHQ9YCR7dGhpcy5fc3VidHlwZUZpZWxkfSBJTiAoJHtyfSlgO3Mud2hlcmU9ZShzLndoZXJlLHQpfX1pZih0aGlzLl9kaXNwbGF5RmlsdGVyJiYocy53aGVyZT1lKHMud2hlcmUsYSh0aGlzLl9kaXNwbGF5RmlsdGVyLHQubWluU2NhbGUsdC5tYXhTY2FsZSkpKSxzLnF1YW50aXphdGlvblBhcmFtZXRlcnM9ci5xdWFudGl6YXRpb25QYXJhbWV0ZXJzPz90LmdldFF1YW50aXphdGlvblBhcmFtZXRlcnMoKSxzLnJlc3VsdFR5cGU9XCJ0aWxlXCIscy5nZW9tZXRyeT10LmV4dGVudCx0aGlzLl9xdWVyeU1ldGFkYXRhLnN1cHBvcnRzUXVhbnRpemF0aW9uP1wiZXNyaUdlb21ldHJ5UG9seWxpbmVcIj09PXRoaXMuX2dlb21ldHJ5VHlwZSYmKHMubWF4QWxsb3dhYmxlT2Zmc2V0PXQucmVzb2x1dGlvbipoYXMoXCJmZWF0dXJlLXBvbHlsaW5lLWdlbmVyYWxpemF0aW9uLWZhY3RvclwiKSk6XCJlc3JpR2VvbWV0cnlQb2x5bGluZVwiIT09dGhpcy5fZ2VvbWV0cnlUeXBlJiZcImVzcmlHZW9tZXRyeVBvbHlnb25cIiE9PXRoaXMuX2dlb21ldHJ5VHlwZXx8KHMubWF4QWxsb3dhYmxlT2Zmc2V0PXQucmVzb2x1dGlvbixcImVzcmlHZW9tZXRyeVBvbHlsaW5lXCI9PT10aGlzLl9nZW9tZXRyeVR5cGUmJihzLm1heEFsbG93YWJsZU9mZnNldCo9aGFzKFwiZmVhdHVyZS1wb2x5bGluZS1nZW5lcmFsaXphdGlvbi1mYWN0b3JcIikpKSxzLmRlZmF1bHRTcGF0aWFsUmVmZXJlbmNlRW5hYmxlZD10aGlzLl9xdWVyeU1ldGFkYXRhLnN1cHBvcnRzRGVmYXVsdFNwYXRpYWxSZWZlcmVuY2Uscy5jb21wYWN0R2VvbWV0cnlFbmFibGVkPXRoaXMuX3F1ZXJ5TWV0YWRhdGEuc3VwcG9ydHNDb21wYWN0R2VvbWV0cnksdGhpcy5fcXVlcnlNZXRhZGF0YS5zdXBwb3J0c01heFJlY29yZENvdW50RmFjdG9yJiYocy5tYXhSZWNvcmRDb3VudEZhY3Rvcj1vKSxoYXMoXCJlc3JpLXRpbGVzLWRlYnVnXCIpKXtjb25zdCBlPXQuaWQucmVwbGFjZUFsbChcIi9cIixcIi5cIik7aS5jdXN0b21QYXJhbWV0ZXJzPWkuY3VzdG9tUGFyYW1ldGVycz97Li4uaS5jdXN0b21QYXJhbWV0ZXJzLHRpbGVJZDplfTp7dGlsZUlkOmV9fXJldHVybiBpfWNyZWF0ZVBhZ2VkVGlsZVF1ZXJ5KGUsdCl7Y29uc3Qgcj10aGlzLnBhZ2VTaXplO3JldHVybiB0aGlzLmNyZWF0ZVRpbGVRdWVyeShlLHtzdGFydDpyKnQsbnVtOnIscmV0dXJuRXhjZWVkZWRMaW1pdEZlYXR1cmVzOiEwfSl9Y3JlYXRlUGFnZWRRdWVyeShlLHQpe2NvbnN0IHI9dGhpcy5wYWdlU2l6ZTtyZXR1cm4gdGhpcy5jcmVhdGVRdWVyeSh7c3RhcnQ6ciplLG51bTpyLHJldHVybkV4Y2VlZGVkTGltaXRGZWF0dXJlczohMCxtYXhSZWNvcmRDb3VudEZhY3RvcjpvLHF1YW50aXphdGlvblBhcmFtZXRlcnM6dCxjYWNoZUhpbnQ6ITB9KX1jcmVhdGVPYmplY3RJZHNRdWVyeShlKXtyZXR1cm4gdGhpcy5jcmVhdGVRdWVyeSh7b2JqZWN0SWRzOmUsb3V0RmllbGRzOltcIipcIl19KX19ZXhwb3J0e2wgYXMgRmVhdHVyZVNvdXJjZVF1ZXJ5SW5mb307XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4zMy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuY2xhc3MgdHtjb25zdHJ1Y3Rvcih0LHIpe3RoaXMudGlsZT10LHRoaXMudmVyc2lvbj1yLHRoaXMuX2Fib3J0Q29udHJvbGxlcj1uZXcgQWJvcnRDb250cm9sbGVyfWdldCBrZXkoKXtyZXR1cm4gdGhpcy50aWxlLmtleX1nZXQgc2lnbmFsKCl7cmV0dXJuIHRoaXMuX2Fib3J0Q29udHJvbGxlci5zaWduYWx9YWJvcnQoKXt0aGlzLl9hYm9ydENvbnRyb2xsZXIuYWJvcnQoKX19ZXhwb3J0e3QgYXMgRmVhdHVyZVRpbGVTdWJzY3JpcHRpb259O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMzMvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtfIGFzIHJ9ZnJvbVwiLi4vLi4vLi4vLi4vLi4vY2h1bmtzL3RzbGliLmVzNi5qc1wiO2ltcG9ydCBvIGZyb21cIi4uLy4uLy4uLy4uLy4uL2NvcmUvQWNjZXNzb3IuanNcIjtpbXBvcnR7cHJvcGVydHkgYXMgdH1mcm9tXCIuLi8uLi8uLi8uLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3Byb3BlcnR5LmpzXCI7aW1wb3J0e3N1YmNsYXNzIGFzIGV9ZnJvbVwiLi4vLi4vLi4vLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9zdWJjbGFzcy5qc1wiO2xldCBzPWNsYXNzIGV4dGVuZHMgb3tjb25zdHJ1Y3RvcihyKXtzdXBlcihyKX1nZXQgY29ubmVjdGlvblN0YXR1cygpe3JldHVybiB0aGlzLmNvbm5lY3Rpb24/LmNvbm5lY3Rpb25TdGF0dXN9Z2V0IGVycm9yU3RyaW5nKCl7cmV0dXJuIHRoaXMuY29ubmVjdGlvbj8uZXJyb3JTdHJpbmd9fTtyKFt0KCldLHMucHJvdG90eXBlLFwiY29ubmVjdGlvblwiLHZvaWQgMCkscihbdCgpXSxzLnByb3RvdHlwZSxcImNvbm5lY3Rpb25TdGF0dXNcIixudWxsKSxyKFt0KCldLHMucHJvdG90eXBlLFwiZXJyb3JTdHJpbmdcIixudWxsKSxzPXIoW2UoXCJlc3JpLnZpZXdzLjJkLmxheWVycy5mZWF0dXJlcy5zb3VyY2VzLlN0cmVhbUNvbm5lY3Rpb25TdGF0ZVwiKV0scyk7ZXhwb3J0e3MgYXMgU3RyZWFtQ29ubmVjdGlvblN0YXRlfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjMzL2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7RmVhdHVyZVNldFJlYWRlckpTT04gYXMgZX1mcm9tXCIuLi9zdXBwb3J0L0ZlYXR1cmVTZXRSZWFkZXJKU09OLmpzXCI7Y2xhc3MgdHtjb25zdHJ1Y3RvcihlLHQpe3RoaXMuX21ldGFkYXRhPWUsdGhpcy5fb25VcGRhdGU9dCx0aGlzLl9vYmplY3RJZFRvRmVhdHVyZT1uZXcgTWFwfWdldCBzaXplKCl7cmV0dXJuIHRoaXMuX29iamVjdElkVG9GZWF0dXJlLnNpemV9Z2V0IHJlYWRlcigpe3JldHVybiBlLmZyb21GZWF0dXJlcyhbLi4udGhpcy5fb2JqZWN0SWRUb0ZlYXR1cmUudmFsdWVzKCldLHRoaXMuX21ldGFkYXRhKX1hZGQoZSl7dGhpcy5fb2JqZWN0SWRUb0ZlYXR1cmUuc2V0KGUub2JqZWN0SWQsZSl9Zm9yRWFjaChlKXt0aGlzLl9vYmplY3RJZFRvRmVhdHVyZS5mb3JFYWNoKGUpfXJlbW92ZUJ5SWQoZSl7Y29uc3QgdD10aGlzLl9vYmplY3RJZFRvRmVhdHVyZS5nZXQoZSk7cmV0dXJuIHQ/KHRoaXMuX29iamVjdElkVG9GZWF0dXJlLmRlbGV0ZShlKSx0KTpudWxsfWNsZWFyKCl7dGhpcy5fb2JqZWN0SWRUb0ZlYXR1cmU9bmV3IE1hcH11cGRhdGUoZSx0KXt0aGlzLl9vblVwZGF0ZShlPy5sZW5ndGg/PzApfX1leHBvcnR7dCBhcyBTdHJlYW1GZWF0dXJlU3RvcmV9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMzMvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtfIGFzIGV9ZnJvbVwiLi4vLi4vLi4vLi4vLi4vY2h1bmtzL3RzbGliLmVzNi5qc1wiO2ltcG9ydCB0IGZyb21cIi4uLy4uLy4uLy4uLy4uL2NvcmUvQWNjZXNzb3IuanNcIjtpbXBvcnR7d2F0Y2ggYXMgc31mcm9tXCIuLi8uLi8uLi8uLi8uLi9jb3JlL3JlYWN0aXZlVXRpbHMuanNcIjtpbXBvcnR7cHJvcGVydHkgYXMgbn1mcm9tXCIuLi8uLi8uLi8uLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3Byb3BlcnR5LmpzXCI7aW1wb3J0XCIuLi8uLi8uLi8uLi8uLi9jb3JlL2hhcy5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vLi4vLi4vY29yZS9Mb2dnZXIuanNcIjtpbXBvcnRcIi4uLy4uLy4uLy4uLy4uL2NvcmUvUmFuZG9tTENHLmpzXCI7aW1wb3J0e3N1YmNsYXNzIGFzIHJ9ZnJvbVwiLi4vLi4vLi4vLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9zdWJjbGFzcy5qc1wiO2NvbnN0IGE9MjUwMDtsZXQgbz1jbGFzcyBleHRlbmRzIHR7Y29uc3RydWN0b3IoZSl7c3VwZXIoKSx0aGlzLl9jb25uZWN0aW9uPWUsdGhpcy5fZW5hYmxlZEV2ZW50VHlwZXM9bmV3IFNldCx0aGlzLl91cGRhdGVJbmZvPXt3ZWJzb2NrZXQ6MCxjbGllbnQ6MH0sdGhpcy5fbGFzdFRpbWU9cGVyZm9ybWFuY2Uubm93KCksdGhpcy5fcXVldWVkQ29tbWFuZHM9W10sdGhpcy5hZGRIYW5kbGVzKFtzKCgoKT0+dGhpcy5fc3RyYXRlZ3k/LmNvbm5lY3Rpb25TdGF0dXM/P1wiZGlzY29ubmVjdGVkXCIpLChlPT57dGhpcy5fbGF5ZXJWaWV3LnNldFByb3BlcnR5KHtwcm9wZXJ0eU5hbWU6XCJwaXBlbGluZUNvbm5lY3Rpb25TdGF0dXNcIix2YWx1ZTplfSl9KSx7aW5pdGlhbDohMH0pLHMoKCgpPT50aGlzLl9zdHJhdGVneT8uZXJyb3JTdHJpbmd8fG51bGwpLChlPT50aGlzLl9sYXllclZpZXcuc2V0UHJvcGVydHkoe3Byb3BlcnR5TmFtZTpcInBpcGVsaW5lRXJyb3JTdHJpbmdcIix2YWx1ZTplfSkpLHtpbml0aWFsOiEwfSldKX1kZXN0cm95KCl7dGhpcy5fc3RyYXRlZ3k9bnVsbCx0aGlzLnJlbW92ZUFsbEhhbmRsZXMoKX1nZXQgX2xheWVyVmlldygpe3JldHVybiB0aGlzLl9jb25uZWN0aW9uLmxheWVyVmlld31zZXQgc3RyYXRlZ3koZSl7bnVsbD09dGhpcy5fc3RyYXRlZ3kmJnRoaXMuX3Jlc2V0VXBkYXRlSW5mbyhwZXJmb3JtYW5jZS5ub3coKSk7Y29uc3QgdD1cImV2ZW50LWhhbmRsZXNcIjt0aGlzLnJlbW92ZUhhbmRsZXModCksbnVsbCE9ZSYmKHRoaXMuYWRkSGFuZGxlcyhbZS5ldmVudHMub24oXCJkYXRhLXJlY2VpdmVkXCIsKGU9PnRoaXMuX29uRmVhdHVyZShlKSkpLGUuZXZlbnRzLm9uKFwibWVzc2FnZS1yZWNlaXZlZFwiLChlPT50aGlzLl9vbldlYlNvY2tldE1lc3NhZ2UoZSkpKSxlLmV2ZW50cy5vbihcImZlYXR1cmVzLXVwZGF0ZWRcIiwoZT0+dGhpcy5fb25VcGRhdGUoZSkpKSxlLmV2ZW50cy5vbihcInRpY2tcIiwoKCk9PnRoaXMuX29uVGljaygpKSldLHQpLHRoaXMuX3F1ZXVlZENvbW1hbmRzLmZvckVhY2goKHQ9PnQoZSkpKSx0aGlzLl9xdWV1ZWRDb21tYW5kcz1bXSksdGhpcy5fc3RyYXRlZ3k9ZX11cGRhdGVDdXN0b21QYXJhbWV0ZXJzKGUpe251bGwhPWUmJnRoaXMuX2NhbGxPckVucXVldWUoKHQ9PnQudXBkYXRlQ3VzdG9tUGFyYW1ldGVycyhlKSkpfXNlbmRNZXNzYWdlVG9Tb2NrZXQoZSl7dGhpcy5fY2FsbE9yRW5xdWV1ZSgodD0+dC5zZW5kTWVzc2FnZVRvU29ja2V0KGUpKSl9c2VuZE1lc3NhZ2VUb0NsaWVudChlKXt0aGlzLl9jYWxsT3JFbnF1ZXVlKCh0PT50LnNlbmRNZXNzYWdlVG9DbGllbnQoZSkpKX1lbmFibGVFdmVudChlLHQpe3Q/dGhpcy5fZW5hYmxlZEV2ZW50VHlwZXMuYWRkKGUpOnRoaXMuX2VuYWJsZWRFdmVudFR5cGVzLmRlbGV0ZShlKX1kaXNjb25uZWN0KCl7dGhpcy5fc3RyYXRlZ3k/LmRpc2Nvbm5lY3QoKX1jb25uZWN0KCl7dGhpcy5fc3RyYXRlZ3k/LmNvbm5lY3QoKX1jbGVhcigpe3RoaXMuX3N0cmF0ZWd5Py5jbGVhcigpfV9vbldlYlNvY2tldE1lc3NhZ2UoZSl7dGhpcy5fZW5hYmxlZEV2ZW50VHlwZXMuaGFzKFwibWVzc2FnZS1yZWNlaXZlZFwiKSYmdGhpcy5fbGF5ZXJWaWV3LmVtaXRFdmVudCh7bmFtZTpcIm1lc3NhZ2UtcmVjZWl2ZWRcIixldmVudDplfSl9X29uRmVhdHVyZShlKXt0aGlzLl91cGRhdGVJbmZvLndlYnNvY2tldCsrLHRoaXMuX2VuYWJsZWRFdmVudFR5cGVzLmhhcyhcImRhdGEtcmVjZWl2ZWRcIikmJnRoaXMuX2xheWVyVmlldy5lbWl0RXZlbnQoe25hbWU6XCJkYXRhLXJlY2VpdmVkXCIsZXZlbnQ6e2F0dHJpYnV0ZXM6ZS5hdHRyaWJ1dGVzLGNlbnRyb2lkOmUuY2VudHJvaWQsZ2VvbWV0cnk6ZS5nZW9tZXRyeX19KX1fb25VcGRhdGUoZSl7dGhpcy5fdXBkYXRlSW5mby5jbGllbnQrPWV9X29uVGljaygpe2NvbnN0IGU9cGVyZm9ybWFuY2Uubm93KCksdD1lLXRoaXMuX2xhc3RUaW1lO2lmKHQ+YSl7Y29uc3Qgcz1NYXRoLnJvdW5kKHRoaXMuX3VwZGF0ZUluZm8uY2xpZW50Lyh0LzFlMykpLG49TWF0aC5yb3VuZCh0aGlzLl91cGRhdGVJbmZvLndlYnNvY2tldC8odC8xZTMpKTt0aGlzLl9yZXNldFVwZGF0ZUluZm8oZSksdGhpcy5fbGF5ZXJWaWV3LmVtaXRFdmVudCh7bmFtZTpcInVwZGF0ZS1yYXRlXCIsZXZlbnQ6e2NsaWVudDpzLHdlYnNvY2tldDpufX0pfX1fcmVzZXRVcGRhdGVJbmZvKGUpe3RoaXMuX2xhc3RUaW1lPWUsdGhpcy5fdXBkYXRlSW5mby5jbGllbnQ9MCx0aGlzLl91cGRhdGVJbmZvLndlYnNvY2tldD0wfV9jYWxsT3JFbnF1ZXVlKGUpe251bGwhPXRoaXMuX3N0cmF0ZWd5P2UodGhpcy5fc3RyYXRlZ3kpOnRoaXMuX3F1ZXVlZENvbW1hbmRzLnB1c2goZSl9fTtlKFtuKCldLG8ucHJvdG90eXBlLFwiX3N0cmF0ZWd5XCIsdm9pZCAwKSxvPWUoW3IoXCJlc3JpLnZpZXdzLjJkLmxheWVycy5mZWF0dXJlcy5zb3VyY2VzLlN0cmVhbU1lc3NlbmdlclwiKV0sbyk7ZXhwb3J0e28gYXMgU3RyZWFtTWVzc2VuZ2VyfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjMzL2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnQgZSBmcm9tXCIuLi8uLi8uLi8uLi8uLi8uLi9jb3JlL0Vycm9yLmpzXCI7aW1wb3J0IHQgZnJvbVwiLi4vLi4vLi4vLi4vLi4vLi4vY29yZS9Mb2dnZXIuanNcIjtpbXBvcnR7UXVldWVQcm9jZXNzb3IgYXMgcn1mcm9tXCIuLi8uLi8uLi8uLi8uLi8uLi9jb3JlL1F1ZXVlUHJvY2Vzc29yLmpzXCI7aW1wb3J0IHMgZnJvbVwiLi4vLi4vLi4vLi4vLi4vLi4vcmVzdC9zdXBwb3J0L1F1ZXJ5LmpzXCI7aW1wb3J0e0FMb2FkU3RyYXRlZ3kgYXMgbn1mcm9tXCIuL0FMb2FkU3RyYXRlZ3kuanNcIjtpbXBvcnR7Y3JlYXRlUXVlcnlBZGFwdGVyIGFzIG99ZnJvbVwiLi9zdXBwb3J0L3F1ZXJ5QWRhcHRlcnMuanNcIjtpbXBvcnR7RmVhdHVyZVNldFJlYWRlckpTT04gYXMgdX1mcm9tXCIuLi8uLi9zdXBwb3J0L0ZlYXR1cmVTZXRSZWFkZXJKU09OLmpzXCI7Y2xhc3MgaSBleHRlbmRzIG57Y29uc3RydWN0b3IoZSx0LHMsbix1KXtzdXBlcihzKSx0aGlzLl9zZXJ2aWNlSW5mbz1lLHRoaXMuX3F1ZXJ5SW5mbz10LHRoaXMuX21ldGFkYXRhPW4sdGhpcy5fY29ubmVjdGlvbj11LHRoaXMuX3F1ZXVlPW5ldyByKHtjb25jdXJyZW5jeTozMixwcm9jZXNzOmFzeW5jIGU9Pntjb25zdCB0PXtzaWduYWw6ZS5vcHRpb25zPy5zaWduYWwscXVlcnk6ZS5xdWVyeS5jdXN0b21QYXJhbWV0ZXJzLHVzZVJlcXVlc3RRdWV1ZTohMH07cmV0dXJuIHRoaXMuX2FkYXB0ZXIuZXhlY3V0ZVF1ZXJ5KGUucXVlcnkuaW5uZXIsdCl9fSksdGhpcy5fYWRhcHRlcj1vKGUsbil9dW5zYWZlU2V0UXVlcnlIaXN0b3JpY01vbWVudChlKXt0aGlzLl9xdWVyeUluZm8udXBkYXRlSGlzdG9yaWNNb21lbnQoZSl9YXN5bmMgdXBkYXRlRmllbGRzKHQpe3RoaXMuX3F1ZXJ5SW5mby51cGRhdGVGaWVsZHModCk7Y29uc3Qgcj1BcnJheS5mcm9tKHRoaXMuX3N0b3JlLmNodW5rcygpKS5tYXAoKGFzeW5jIGU9Pntjb25zdCB0PXMuZnJvbUpTT04oZS5xdWVyeUluZm8ucXVlcnlKU09OKTtpZih0KXRyeXtyZXR1cm4gYXdhaXQgdGhpcy5fdHJ5VXBkYXRlRmllbGRzKGUucmVhZGVyLHQse2NodW5rSWQ6ZS5jaHVua0lkfSksbnVsbH1jYXRjaChyKXtyZXR1cm4gcn19KSksbj0oYXdhaXQgUHJvbWlzZS5hbGwocikpLmZpbHRlcigoZT0+ZSkpO2lmKG4ubGVuZ3RoKXRocm93IG5ldyBlKFwiZmVhdHVyZWxheWVyLXF1ZXJ5XCIsXCJFbmNvdW50ZXJlZCBlcnJvcnMgd2hlbiBkb3dubG9hZGluZyBmaWVsZHNcIix7ZXJyb3JzOm59KX1hc3luYyBxdWVyeUJ5T2JqZWN0SWQoZSl7aWYoMD09PWUubGVuZ3RoKXJldHVybiB1LmVtcHR5KHRoaXMuX21ldGFkYXRhKTtjb25zdCB0PXRoaXMuX3F1ZXJ5SW5mby5jcmVhdGVRdWVyeSh7b2JqZWN0SWRzOmV9KTtyZXR1cm4gdGhpcy5fZmV0Y2godCxudWxsLG51bGwpfWFzeW5jIF9mZXRjaChlLHQscil7Y29uc3Qgcz1hd2FpdCB0aGlzLl9lbnF1ZXVlKGUsdCk7cmV0dXJuIGF3YWl0IHRoaXMuX3RyeVVwZGF0ZUZpZWxkcyhzLGUuaW5uZXIsciksc31hc3luYyBfdHJ5VXBkYXRlRmllbGRzKHIscyxuKXtjb25zdCBvPXRoaXMuX3F1ZXJ5SW5mby5jcmVhdGVQYXRjaEZpZWxkc1F1ZXJ5KHMscixuKTtpZighbylyZXR1cm47Y29uc3QgdT1hd2FpdCB0aGlzLl9lbnF1ZXVlKG8sdGhpcy5fb3B0aW9ucyk7dS5nZXRTaXplKCk9PT1yLmdldFNpemUoKT9yLmpvaW5BdHRyaWJ1dGVzKHUpOnQuZ2V0TG9nZ2VyKFwiZXNyaS52aWV3cy4yZC5sYXllcnMuZmVhdHVyZXMuc291cmNlcy5zdHJhdGVnaWVzLkFGZXRjaExvYWRTdHJhdGVneVwiKS5lcnJvcihuZXcgZShcImZlYXR1cmVsYXllci1xdWVyeVwiLGBGYWlsZWQgdG8gam9pbiBmZWF0dXJlcy4gRXhwZWN0ZWQgYSBjb3VudCBvZiAke3IuZ2V0U2l6ZSgpfSBmZWF0dXJlcywgYnV0IGdvdCAke3UuZ2V0U2l6ZSgpfWAse3F1ZXJ5Om8uaW5uZXIudG9KU09OKCksZGVidWdJbmZvOm59KSl9YXN5bmMgX2VucXVldWUoZSx0KXtyZXR1cm4gdGhpcy5fY29ubmVjdGlvbi5vbkV2ZW50KHt0eXBlOlwiZmV0Y2hTdGFydFwifSksdGhpcy5fcXVldWUucHVzaCh7cXVlcnk6ZSxvcHRpb25zOnR9KS5maW5hbGx5KCgoKT0+e3RoaXMuX2Nvbm5lY3Rpb24ub25FdmVudCh7dHlwZTpcImZldGNoRW5kXCIsZG9uZTowPT09dGhpcy5fcXVldWUubGVuZ3RofSl9KSl9fWV4cG9ydHtpIGFzIEFGZXRjaExvYWRTdHJhdGVneX07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4zMy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuY2xhc3Mgcntjb25zdHJ1Y3RvcihyKXt0aGlzLl9zdG9yZT1yLHRoaXMuX2NvbnRyb2xsZXI9bmV3IEFib3J0Q29udHJvbGxlcn1kZXN0cm95KCl7dGhpcy5fY29udHJvbGxlci5hYm9ydCgpfWdldCBfb3B0aW9ucygpe3JldHVybntzaWduYWw6dGhpcy5fY29udHJvbGxlci5zaWduYWx9fXVuc2FmZVNldFF1ZXJ5SGlzdG9yaWNNb21lbnQocil7dGhyb3cgbmV3IEVycm9yKFwiSW50ZXJuYWxFcnJvcjogTG9hZFN0cmF0ZWd5IGRvZXMgbm90IHN1cHBvcnQgcXVlcnkgaW5mb1wiKX1hc3luYyBxdWVyeUJ5T2JqZWN0SWQocil7dGhyb3cgbmV3IEVycm9yKFwiSW50ZXJuYWxFcnJvcjogTG9hZFN0cmF0ZWd5IGRvZXMgbm90IHN1cHBvcnQgZmV0Y2hpbmdcIil9YXN5bmMgYWRkUGFycXVldEZpbGUocil7dGhyb3cgbmV3IEVycm9yKFwiSW50ZXJuYWxFcnJvcjogTG9hZFN0cmF0ZWd5IGRvZXMgbm90IHN1cHBvcnQgbG9hZGluZyBibG9ic1wiKX1wcmVwYXJlQ2FjaGVVcGRhdGUocix0KXt9YXBwbHlDYWNoZVVwZGF0ZSgpe3JldHVybiBudWxsfX1leHBvcnR7ciBhcyBBTG9hZFN0cmF0ZWd5fTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjMzL2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnQgaGFzIGZyb21cIi4uLy4uLy4uLy4uLy4uLy4uL2NvcmUvaGFzLmpzXCI7aW1wb3J0e0ZlYXR1cmVDYWNoZSBhcyBlfWZyb21cIi4uL0ZlYXR1cmVDYWNoZS5qc1wiO2ltcG9ydHtBRmV0Y2hMb2FkU3RyYXRlZ3kgYXMgdH1mcm9tXCIuL0FGZXRjaExvYWRTdHJhdGVneS5qc1wiO2NsYXNzIHMgZXh0ZW5kcyB0e2NvbnN0cnVjdG9yKHQscyxoLHIsZCl7c3VwZXIodCxzLGgscixkKSx0aGlzLl9jaHVua3NCeUlkPW5ldyBNYXAsdGhpcy5fZmVhdHVyZUNhY2hlPW5ldyBlKGgscyx0aGlzLl9vcHRpb25zLHRoaXMuX2ZldGNoLmJpbmQodGhpcykpfXByZXBhcmVDYWNoZVVwZGF0ZShlLHQpe3JldHVybiB0aGlzLl9mZWF0dXJlQ2FjaGUucHJlcGFyZUNhY2hlVXBkYXRlKGUsdCl9YXBwbHlDYWNoZVVwZGF0ZSgpe3JldHVybiB0aGlzLl9mZWF0dXJlQ2FjaGUuYXBwbHlDYWNoZVVwZGF0ZSgpfXVubG9hZChlKXt0aGlzLl9yZW1vdmVDaHVua3MoZS50aWxlKX1fYWRkQ2h1bmsoZSl7Y29uc3QgdD1lLnRpbGUuaWQ7dGhpcy5fY2h1bmtzQnlJZC5oYXModCl8fHRoaXMuX2NodW5rc0J5SWQuc2V0KHQsW10pO2NvbnN0IHM9ZS5zaXplKCk7KHN8fGUuZmlyc3R8fGUuZW5kKSYmKGhhcyhcImVzcmktMmQtdXBkYXRlLWRlYnVnXCIpJiZjb25zb2xlLmRlYnVnKGBDaHVua1ske2UuY2h1bmtJZH1dIEFUaWxlTG9hZFN0cmF0ZWd5LmFkZENodW5rIFtjb3VudD0ke3N9XWApLHRoaXMuX2NodW5rc0J5SWQuZ2V0KHQpLnB1c2goZSksdGhpcy5fc3RvcmUuaW5zZXJ0KGUpKX1fcmVtb3ZlQ2h1bmtzKGUpe2NvbnN0IHQ9dGhpcy5fY2h1bmtzQnlJZC5nZXQoZS5rZXkuaWQpPz9bXTtmb3IoY29uc3QgcyBvZiB0KWhhcyhcImVzcmktMmQtdXBkYXRlLWRlYnVnXCIpJiZjb25zb2xlLmRlYnVnKGBUaWxlWyR7ZS5rZXkuaWR9XSBDaHVua1ske3MuY2h1bmtJZH1dIEFUaWxlTG9hZFN0cmF0ZWd5LnJlbW92ZUNodW5rYCksdGhpcy5fc3RvcmUucmVtb3ZlKHMpO3RoaXMuX2NodW5rc0J5SWQuZGVsZXRlKGUua2V5LmlkKX19ZXhwb3J0e3MgYXMgQVRpbGVMb2FkU3RyYXRlZ3l9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMzMvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtoYW5kbGVzR3JvdXAgYXMgdH1mcm9tXCIuLi8uLi8uLi8uLi8uLi8uLi9jb3JlL2hhbmRsZVV0aWxzLmpzXCI7aW1wb3J0IGhhcyBmcm9tXCIuLi8uLi8uLi8uLi8uLi8uLi9jb3JlL2hhcy5qc1wiO2ltcG9ydHt0aHJvd0lmQWJvcnRlZCBhcyBlLG9uQWJvcnQgYXMgc31mcm9tXCIuLi8uLi8uLi8uLi8uLi8uLi9jb3JlL3Byb21pc2VVdGlscy5qc1wiO2ltcG9ydHtBVGlsZUxvYWRTdHJhdGVneSBhcyBvfWZyb21cIi4vQVRpbGVMb2FkU3RyYXRlZ3kuanNcIjtpbXBvcnR7RHJpbGxEb3duVGlsZVNvdXJjZUNodW5rIGFzIHJ9ZnJvbVwiLi9jaHVua3MvRHJpbGxEb3duVGlsZVNvdXJjZUNodW5rLmpzXCI7aW1wb3J0e0ZlYXR1cmVTZXRSZWFkZXJKU09OIGFzIGl9ZnJvbVwiLi4vLi4vc3VwcG9ydC9GZWF0dXJlU2V0UmVhZGVySlNPTi5qc1wiO2NsYXNzIGx7Y29uc3RydWN0b3IoZSxvKXt0aGlzLnN1YnNjcmlwdGlvbj1lLHRoaXMuX3RpbGVJZFRvUmVzdWx0PW5ldyBNYXAsdGhpcy5fY29udHJvbGxlcj1uZXcgQWJvcnRDb250cm9sbGVyLHRoaXMuX2hhbmRsZXM9dChbcyhlLnNpZ25hbCwoKCk9PnRoaXMuX2NvbnRyb2xsZXIuYWJvcnQoKSkpLHMobywoKCk9PnRoaXMuX2NvbnRyb2xsZXIuYWJvcnQoKSkpXSl9ZGVzdHJveSgpe3RoaXMuX2NvbnRyb2xsZXIuYWJvcnQoKSx0aGlzLl9oYW5kbGVzLnJlbW92ZSgpfWdldCh0KXtyZXR1cm4gdGhpcy5fdGlsZUlkVG9SZXN1bHQuZ2V0KHQpfXNldCh0LGUpe3RoaXMuX3RpbGVJZFRvUmVzdWx0LnNldCh0LGUpfWdldCBvcHRpb25zKCl7cmV0dXJue3NpZ25hbDp0aGlzLl9jb250cm9sbGVyLnNpZ25hbH19fWNsYXNzIGEgZXh0ZW5kcyBve2NvbnN0cnVjdG9yKCl7c3VwZXIoLi4uYXJndW1lbnRzKSx0aGlzLl9sb2FkU3RhdGVzPW5ldyBNYXB9ZGVzdHJveSgpe3N1cGVyLmRlc3Ryb3koKTtmb3IoY29uc3QgdCBvZiB0aGlzLl9sb2FkU3RhdGVzLnZhbHVlcygpKXQuZGVzdHJveSgpO3RoaXMuX2xvYWRTdGF0ZXMuY2xlYXIoKX1nZXQgYWJvdXQoKXtyZXR1cm57c3VwcG9ydHNEaXNwbGF5RmlsdGVyOiEwLHdpbGxRdWVyeUFsbEZlYXR1cmVzOiExLHdpbGxRdWVyeUZ1bGxSZXNvbHV0aW9uR2VvbWV0cnk6ITF9fWFzeW5jIGxvYWQodCl7dGhpcy5fbG9hZFN0YXRlcy5oYXModC5rZXkuaWQpfHx0aGlzLl9sb2FkU3RhdGVzLnNldCh0LmtleS5pZCxuZXcgbCh0LHRoaXMuX29wdGlvbnMpKTtjb25zdCBzPXRoaXMuX2xvYWRTdGF0ZXMuZ2V0KHQua2V5LmlkKTtsZXQgbzt0cnl7Zm9yIGF3YWl0KGNvbnN0IG8gb2YgdGhpcy5fZmV0Y2hDaHVua0luZm9zKHMsdC50aWxlLDApKXtjb25zdHtxdWVyeUpTT046dCxyZWFkZXI6aSxzb3VyY2VUaWxlOmwsc291cmNlVGlsZURlcHRoOmEsdGlsZTpufT1vLGg9bmV3IHIoaSx0LG4sbCxhLCExKTtlKHMub3B0aW9ucyksdGhpcy5fYWRkQ2h1bmsoaCl9fWNhdGNoKG4pe289bn1jb25zdCBhPW5ldyByKGkuZW1wdHkodGhpcy5fbWV0YWRhdGEpLG51bGwsdC50aWxlLG51bGwsLTEsITApO2lmKHRoaXMuX2FkZENodW5rKGEpLG8pdGhyb3cgb311bmxvYWQodCl7c3VwZXIudW5sb2FkKHQpLHRoaXMuX2xvYWRTdGF0ZXMuZ2V0KHQua2V5LmlkKT8uZGVzdHJveSgpLHRoaXMuX2xvYWRTdGF0ZXMuZGVsZXRlKHQua2V5LmlkKX1hc3luYypfZmV0Y2hDaHVua0luZm9zKHQsZSxzKXtsZXQgbz10LmdldChlLmlkKTtjb25zdCByPSEhbztpZihvfHwobz1hd2FpdCB0aGlzLl9mZXRjaENodW5rSW5mbyh0LGUscyksdC5zZXQoZS5pZCxvKSksby5yZWFkZXIuZXhjZWVkZWRUcmFuc2ZlckxpbWl0JiZzPGhhcyhcImZlYXR1cmVsYXllci1xdWVyeS1tYXgtZGVwdGhcIikpZm9yKGNvbnN0IGkgb2YgZS5jcmVhdGVDaGlsZFRpbGVzKCkpeWllbGQqdGhpcy5fZmV0Y2hDaHVua0luZm9zKHQsaSxzKzEpO2Vsc2Ugcnx8KHlpZWxkIG8pfWFzeW5jIF9mZXRjaENodW5rSW5mbyh0LGUscyl7Y29uc3Qgbz10LnN1YnNjcmlwdGlvbi50aWxlLmdldFF1YW50aXphdGlvblBhcmFtZXRlcnMoKSxyPXRoaXMuX3F1ZXJ5SW5mby5jcmVhdGVUaWxlUXVlcnkoZSx7cmV0dXJuRXhjZWVkZWRMaW1pdEZlYXR1cmVzOiExLHF1YW50aXphdGlvblBhcmFtZXRlcnM6b30pO3JldHVybntyZWFkZXI6YXdhaXQgdGhpcy5fZmV0Y2gocix0Lm9wdGlvbnMse2NodW5rSWQ6ZS5pZH0pLHF1ZXJ5SlNPTjpyLmlubmVyLnRvSlNPTigpLHRpbGU6dC5zdWJzY3JpcHRpb24udGlsZSxzb3VyY2VUaWxlOmUsc291cmNlVGlsZURlcHRoOnN9fX1leHBvcnR7YSBhcyBEcmlsbERvd25UaWxlTG9hZFN0cmF0ZWd5fTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjMzL2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7aGFuZGxlc0dyb3VwIGFzIHR9ZnJvbVwiLi4vLi4vLi4vLi4vLi4vLi4vY29yZS9oYW5kbGVVdGlscy5qc1wiO2ltcG9ydCBoYXMgZnJvbVwiLi4vLi4vLi4vLi4vLi4vLi4vY29yZS9oYXMuanNcIjtpbXBvcnR7Z2V0T3JDcmVhdGVNYXBWYWx1ZSBhcyBlfWZyb21cIi4uLy4uLy4uLy4uLy4uLy4uL2NvcmUvTWFwVXRpbHMuanNcIjtpbXBvcnR7dGhyb3dJZkFib3J0ZWQgYXMgbyxpc0Fib3J0RXJyb3IgYXMgcyxvbkFib3J0IGFzIHJ9ZnJvbVwiLi4vLi4vLi4vLi4vLi4vLi4vY29yZS9wcm9taXNlVXRpbHMuanNcIjtpbXBvcnR7QVRpbGVMb2FkU3RyYXRlZ3kgYXMgYX1mcm9tXCIuL0FUaWxlTG9hZFN0cmF0ZWd5LmpzXCI7aW1wb3J0e1BhZ2VkVGlsZVNvdXJjZUNodW5rIGFzIGl9ZnJvbVwiLi9jaHVua3MvUGFnZWRUaWxlU291cmNlQ2h1bmsuanNcIjtpbXBvcnR7RmVhdHVyZVNldFJlYWRlckpTT04gYXMgbn1mcm9tXCIuLi8uLi9zdXBwb3J0L0ZlYXR1cmVTZXRSZWFkZXJKU09OLmpzXCI7Y2xhc3MgbHtjb25zdHJ1Y3RvcihlLG8pe3RoaXMuc3Vic2NyaXB0aW9uPWUsdGhpcy5fcGFnZXM9bmV3IFNldCx0aGlzLl9jb250cm9sbGVyPW5ldyBBYm9ydENvbnRyb2xsZXIsdGhpcy5fZG9uZT0hMSx0aGlzLl9oYW5kbGVzPXQoW3IoZS5zaWduYWwsKCgpPT50aGlzLl9jb250cm9sbGVyLmFib3J0KCkpKSxyKG8sKCgpPT50aGlzLl9jb250cm9sbGVyLmFib3J0KCkpKV0pfWRlc3Ryb3koKXt0aGlzLl9jb250cm9sbGVyLmFib3J0KCksdGhpcy5faGFuZGxlcy5yZW1vdmUoKX1nZXQgcGFnZVN0YXJ0KCl7bGV0IHQ9LTE7Zm9yKGNvbnN0IGUgb2YgdGhpcy5fcGFnZXMudmFsdWVzKCkpdD1NYXRoLm1heCh0LGUpO3JldHVybiB0KzF9Z2V0IGRvbmUoKXtyZXR1cm4gdGhpcy5fZG9uZX1nZXQgb3B0aW9ucygpe3JldHVybntzaWduYWw6dGhpcy5fY29udHJvbGxlci5zaWduYWx9fWFkZCh0LGUpe3RoaXMuX3BhZ2VzLmFkZCh0KSx0aGlzLl9kb25lPXRoaXMuX2RvbmV8fGV9fWNsYXNzIGMgZXh0ZW5kcyBhe2NvbnN0cnVjdG9yKCl7c3VwZXIoLi4uYXJndW1lbnRzKSx0aGlzLl9sb2FkU3RhdGVzPW5ldyBNYXB9ZGVzdHJveSgpe3N1cGVyLmRlc3Ryb3koKTtmb3IoY29uc3QgdCBvZiB0aGlzLl9sb2FkU3RhdGVzLnZhbHVlcygpKXQuZGVzdHJveSgpO3RoaXMuX2xvYWRTdGF0ZXMuY2xlYXIoKX1nZXQgYWJvdXQoKXtyZXR1cm57c3VwcG9ydHNEaXNwbGF5RmlsdGVyOiEwLHdpbGxRdWVyeUFsbEZlYXR1cmVzOiExLHdpbGxRdWVyeUZ1bGxSZXNvbHV0aW9uR2VvbWV0cnk6ITF9fWFzeW5jIGxvYWQodCl7Y29uc3Qgbz1lKHRoaXMuX2xvYWRTdGF0ZXMsdC5rZXkuaWQsKCgpPT5uZXcgbCh0LHRoaXMuX29wdGlvbnMpKSk7Zm9yIGF3YWl0KGNvbnN0IGUgb2YgdGhpcy5fZmV0Y2hQYWdlcyhvKSl0aGlzLl9hZGRDaHVuayhlKX11bmxvYWQodCl7c3VwZXIudW5sb2FkKHQpLHRoaXMuX2xvYWRTdGF0ZXMuZ2V0KHQua2V5LmlkKT8uZGVzdHJveSgpLHRoaXMuX2xvYWRTdGF0ZXMuZGVsZXRlKHQua2V5LmlkKX1hc3luYypfZmV0Y2hQYWdlcyh0KXtsZXQgZTt0cnl7Zm9yIGF3YWl0KGNvbnN0IGUgb2YgdGhpcy5fY29uY3VycmVudFBhZ2VTdHJlYW0odCkpbyh0Lm9wdGlvbnMpLDAhPT1lLnNpemUoKSYmKHlpZWxkIGUpfWNhdGNoKHIpe2U9cn1pZihlJiZzKGUpfHwoeWllbGQgbmV3IGkobi5lbXB0eSh0aGlzLl9tZXRhZGF0YSksbnVsbCx0LnN1YnNjcmlwdGlvbi50aWxlLC0xLCEwKSksZSl0aHJvdyBlfWFzeW5jKl9jb25jdXJyZW50UGFnZVN0cmVhbSh0KXtjb25zdCBlPWhhcyhcImZlYXR1cmVsYXllci1xdWVyeS10aWxlLWNvbmN1cnJlbmN5XCIpLG89dGhpcy5fcGFnZVN0cmVhbUFsbCh0KSxzPVtdO2xldCByPSExLGE9MTtmb3IoOyFyOyl7Y29uc3QgdD1bXTtmb3IoOyFyJiZzLmxlbmd0aDxhOyl7Y29uc3QgZT1vLm5leHQoKTtpZighZS52YWx1ZSl7cj0hMDticmVha31jb25zdCBhPWUudmFsdWU7YS50aGVuKCh0PT57dC5yZWFkZXIuZXhjZWVkZWRUcmFuc2ZlckxpbWl0fHwocj0hMCl9KSkuY2F0Y2goKHQ9PntyPSEwfSkpLmZpbmFsbHkoKCgpPT57cy5zcGxpY2Uocy5pbmRleE9mKGEpLDEpfSkpLHMucHVzaChhKSx0LnB1c2goYSl9Zm9yKGNvbnN0IGUgb2YgdCl5aWVsZCBlO3MubGVuZ3RoJiZhd2FpdCBQcm9taXNlLnJhY2UocyksYTxlJiYoYSs9MSl9fSpfcGFnZVN0cmVhbUFsbCh0KXtjb25zdCBlPU1hdGguY2VpbChoYXMoXCJmZWF0dXJlbGF5ZXItcXVlcnktdGlsZS1tYXgtZmVhdHVyZXNcIikvdGhpcy5fcXVlcnlJbmZvLnBhZ2VTaXplKTtmb3IobGV0IG89MDtvPGU7bysrKXlpZWxkIHRoaXMuX2Rvd25sb2FkUGFnZShvLHQpfWFzeW5jIF9kb3dubG9hZFBhZ2UodCxlKXtvKGUub3B0aW9ucyk7Y29uc3Qgcz1lLnN1YnNjcmlwdGlvbi50aWxlLHI9dGhpcy5fcXVlcnlJbmZvLmNyZWF0ZVBhZ2VkVGlsZVF1ZXJ5KHMsdCksYT1hd2FpdCB0aGlzLl9mZXRjaChyLGUub3B0aW9ucyx7Y2h1bmtJZDpgJHtzLmlkfS0ke3R9YH0pO3JldHVybiBvKGUub3B0aW9ucyksbmV3IGkoYSxyLmlubmVyLnRvSlNPTigpLHMsdCwhMSl9fWV4cG9ydHtjIGFzIFBhZ2VkVGlsZUxvYWRTdHJhdGVneX07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4zMy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e3Rocm93SWZBYm9ydGVkIGFzIGV9ZnJvbVwiLi4vLi4vLi4vLi4vLi4vLi4vY29yZS9wcm9taXNlVXRpbHMuanNcIjtpbXBvcnR7ZGlmZmVyZW5jZSBhcyB0LHVuaW9uIGFzIGl9ZnJvbVwiLi4vLi4vLi4vLi4vLi4vLi4vY29yZS9TZXRVdGlscy5qc1wiO2ltcG9ydCBzIGZyb21cIi4uLy4uLy4uLy4uLy4uLy4uL2xheWVycy9zdXBwb3J0L0ZpZWxkc0luZGV4LmpzXCI7aW1wb3J0e1BhcnF1ZXRGaWxlIGFzIGF9ZnJvbVwiLi4vLi4vLi4vLi4vLi4vLi4vbGlicy9wYXJxdWV0L3BhcnF1ZXQuanNcIjtpbXBvcnR7QUxvYWRTdHJhdGVneSBhcyByfWZyb21cIi4vQUxvYWRTdHJhdGVneS5qc1wiO2ltcG9ydHtGZWF0dXJlU25hcHNob3RTb3VyY2VDaHVuayBhcyBsfWZyb21cIi4vY2h1bmtzL0ZlYXR1cmVTbmFwc2hvdFNvdXJjZUNodW5rLmpzXCI7aW1wb3J0e0ZlYXR1cmVTZXRSZWFkZXJKU09OIGFzIG99ZnJvbVwiLi4vLi4vc3VwcG9ydC9GZWF0dXJlU2V0UmVhZGVySlNPTi5qc1wiO2ltcG9ydHtGZWF0dXJlU2V0UmVhZGVyUGFycXVldCBhcyBufWZyb21cIi4uLy4uL3N1cHBvcnQvRmVhdHVyZVNldFJlYWRlclBhcnF1ZXQuanNcIjtjbGFzcyBkIGV4dGVuZHMgcntjb25zdHJ1Y3RvcihlLHQsaSxzKXtzdXBlcihzKSx0aGlzLl9zZXJ2aWNlPWUsdGhpcy5fbWV0YWRhdGE9dCx0aGlzLl9zY2hlbWE9aSx0aGlzLl9jaHVua0lkPTAsdGhpcy5fZmlsZXM9W10sdGhpcy5fYXZhaWxhYmxlRmllbGRzPW5ldyBTZXQoaS5tdXRhYmxlLmF2YWlsYWJsZUZpZWxkcyk7Y29uc3R7Z2VvbWV0cnlJbmZvOmF9PXRoaXMuX3NlcnZpY2U7aWYoXCJsb2NhdGlvblwiPT09YS5lbmNvZGluZy50eXBlKXRoaXMuX2F2YWlsYWJsZUZpZWxkcy5hZGQoYS5lbmNvZGluZy5sYXRpdHVkZUZpZWxkTmFtZSksdGhpcy5fYXZhaWxhYmxlRmllbGRzLmFkZChhLmVuY29kaW5nLmxvbmdpdHVkZUZpZWxkTmFtZSk7ZWxzZSBpZihudWxsIT1hLmVuY29kaW5nLm11bHRpc2NhbGUmJmEuZW5jb2RpbmcubXVsdGlzY2FsZS5sZXZlbHMubGVuZ3RoPj0xKXtjb25zdCBlPWEuZW5jb2RpbmcubXVsdGlzY2FsZS5sZXZlbHNbMF07dGhpcy5fYXZhaWxhYmxlRmllbGRzLmFkZChlLmNvbHVtbil9ZWxzZSB0aGlzLl9hdmFpbGFibGVGaWVsZHMuYWRkKGEuZW5jb2RpbmcucHJpbWFyeUZpZWxkTmFtZSl9ZGVzdHJveSgpe2Zvcihjb25zdCBlIG9mIHRoaXMuX2ZpbGVzKWUuZGVzdHJveSgpfWdldCBhYm91dCgpe3JldHVybntzdXBwb3J0c0Rpc3BsYXlGaWx0ZXI6ITEsd2lsbFF1ZXJ5QWxsRmVhdHVyZXM6ITAsd2lsbFF1ZXJ5RnVsbFJlc29sdXRpb25HZW9tZXRyeTohMH19YXN5bmMgdXBkYXRlRmllbGRzKGUpe2F3YWl0IHRoaXMuX3Byb21pc2U7Y29uc3Qgcz1uZXcgU2V0KGUpLGE9dChzLHRoaXMuX2F2YWlsYWJsZUZpZWxkcyk7dGhpcy5fYXZhaWxhYmxlRmllbGRzPWkoYSx0aGlzLl9hdmFpbGFibGVGaWVsZHMpLGEuc2l6ZSYmYXdhaXQgUHJvbWlzZS5hbGwodGhpcy5fZmlsZXMubWFwKChlPT57Y29uc3QgdD1BcnJheS5mcm9tKGEpLm1hcCgodD0+ZS5tZXRhZGF0YS5nZXRGaWVsZEluZGV4KHQpKSk7cmV0dXJuIGUuaW5uZXIudXBkYXRlQ2h1bmtzKG5ldyBVaW50MTZBcnJheSh0KSl9KSkpfWFzeW5jIGxvYWQoZSl7cmV0dXJuIG51bGw9PXRoaXMuX3Byb21pc2UmJih0aGlzLl9wcm9taXNlPXRoaXMuX2Rvd25sb2FkKCkudGhlbigoKCk9Pnt0aGlzLl9sb2FkSGlnaGVyUmVzR2VvbWV0cnkoKX0pKSksdGhpcy5fcHJvbWlzZX11bmxvYWQoZSl7fWFzeW5jIGFkZFBhcnF1ZXRGaWxlKGUpe3RoaXMuX2luc2VydChlKX1hc3luYyBfbG9hZEhpZ2hlclJlc0dlb21ldHJ5KCl7Y29uc3R7Z2VvbWV0cnlJbmZvOmV9PXRoaXMuX3NlcnZpY2U7aWYoXCJ3a2JcIj09PWUuZW5jb2RpbmcudHlwZSl7aWYoIShudWxsIT1lLmVuY29kaW5nLm11bHRpc2NhbGUmJmUuZW5jb2RpbmcubXVsdGlzY2FsZS5sZXZlbHMubGVuZ3RoPj0xKSlyZXR1cm47YXdhaXQgdGhpcy51cGRhdGVGaWVsZHMoW2UuZW5jb2RpbmcucHJpbWFyeUZpZWxkTmFtZV0pfWNvbnN0IHQ9QXJyYXkuZnJvbSh0aGlzLl9zdG9yZS5jaHVua3MoKSk7dGhpcy5fc3RvcmUuY2xlYXIoKTtmb3IoY29uc3QgaSBvZiB0KXRoaXMuX3N0b3JlLmluc2VydChpKTt0aGlzLl9zdG9yZS5yZWZyZXNoKCl9YXN5bmMgX2luc2VydCh0KXtjb25zdCBpPWF3YWl0IGEuY3JlYXRlKHQse2dlb21ldHJ5SW5mbzp0aGlzLl9zZXJ2aWNlLmdlb21ldHJ5SW5mbyxvdXRTcGF0aWFsUmVmZXJlbmNlOnRoaXMuX3NlcnZpY2Uub3V0U3BhdGlhbFJlZmVyZW5jZSxnZXRDdXN0b21QYXJhbWV0ZXJzOigpPT50aGlzLl9zY2hlbWEubXV0YWJsZS5kYXRhRmlsdGVyLmN1c3RvbVBhcmFtZXRlcnN9KSx7Z2VvbWV0cnlJbmZvOnJ9PXRoaXMuX3NlcnZpY2U7ZSh0aGlzLl9vcHRpb25zKTtjb25zdHtmaWVsZHM6byx0aW1lWm9uZUJ5RmllbGROYW1lOmR9PXRoaXMuX3NlcnZpY2UubWV0YWRhdGEuZmllbGRzSW5kZXgsbT1vLm1hcCgoZT0+KHsuLi5lLGluZGV4OmkubWV0YWRhdGEuZ2V0RmllbGRJbmRleChlLm5hbWUpfSkpKSxjPXMuZnJvbUpTT04oe2ZpZWxkczptLHRpbWVab25lQnlGaWVsZE5hbWU6ZH0pLGg9bmV3IFVpbnQxNkFycmF5KEFycmF5LmZyb20odGhpcy5fYXZhaWxhYmxlRmllbGRzLnZhbHVlcygpKS5tYXAoKGU9PmMuZ2V0KGUpPy5pbmRleCkpLmZpbHRlcigoZT0+bnVsbCE9ZSkpKTthd2FpdCBpLmlubmVyLnJlYWRDaHVua3NXaXRoQ2FsbGJhY2soaCwoZT0+e2NvbnN0IHQ9dGhpcy5fY2h1bmtJZCsrLGk9bmV3IG4odGhpcy5fbWV0YWRhdGEsYyxyLGUsdCkscz1uZXcgbChpLG51bGwsdCwhMSk7dGhpcy5fc3RvcmUuaW5zZXJ0KHMpfSkpLHRoaXMuX2ZpbGVzLnB1c2goaSl9YXN5bmMgX2Rvd25sb2FkKCl7dHJ5e2F3YWl0IFByb21pc2UuYWxsKHRoaXMuX3NlcnZpY2Uuc291cmNlLnVybHMubWFwKChlPT50aGlzLl9pbnNlcnQoZSkpKSk7Y29uc3QgZT1uZXcgbChvLmVtcHR5KHRoaXMuX21ldGFkYXRhKSxudWxsLC0xLCEwKTt0aGlzLl9zdG9yZS5pbnNlcnQoZSl9Y2F0Y2goZSl7dGhyb3cgY29uc29sZS5lcnJvcihlKSxlfX19ZXhwb3J0e2QgYXMgUGFycXVldExvYWRTdHJhdGVneX07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4zMy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0IGUgZnJvbVwiLi4vLi4vLi4vLi4vLi4vLi4vY29yZS9FcnJvci5qc1wiO2ltcG9ydCBoYXMgZnJvbVwiLi4vLi4vLi4vLi4vLi4vLi4vY29yZS9oYXMuanNcIjtpbXBvcnR7aXNBYm9ydEVycm9yIGFzIHQsdGhyb3dJZkFib3J0ZWQgYXMgcn1mcm9tXCIuLi8uLi8uLi8uLi8uLi8uLi9jb3JlL3Byb21pc2VVdGlscy5qc1wiO2ltcG9ydCBvIGZyb21cIi4uLy4uLy4uLy4uLy4uLy4uL3Jlc3Qvc3VwcG9ydC9RdWFudGl6YXRpb25QYXJhbWV0ZXJzLmpzXCI7aW1wb3J0e0FGZXRjaExvYWRTdHJhdGVneSBhcyBzfWZyb21cIi4vQUZldGNoTG9hZFN0cmF0ZWd5LmpzXCI7aW1wb3J0e0ZlYXR1cmVTbmFwc2hvdFNvdXJjZUNodW5rIGFzIGF9ZnJvbVwiLi9jaHVua3MvRmVhdHVyZVNuYXBzaG90U291cmNlQ2h1bmsuanNcIjtpbXBvcnR7RmVhdHVyZVNldFJlYWRlckpTT04gYXMgbn1mcm9tXCIuLi8uLi9zdXBwb3J0L0ZlYXR1cmVTZXRSZWFkZXJKU09OLmpzXCI7Y2xhc3MgaSBleHRlbmRzIHN7Y29uc3RydWN0b3IoZSx0LHIsbyxzLGEpe3N1cGVyKGUsdCxyLHMsYSksdGhpcy5fc25hcHNob3RJbmZvPW99Z2V0IGFib3V0KCl7cmV0dXJue3N1cHBvcnRzRGlzcGxheUZpbHRlcjohMSx3aWxsUXVlcnlBbGxGZWF0dXJlczohMCx3aWxsUXVlcnlGdWxsUmVzb2x1dGlvbkdlb21ldHJ5OiEwfX1sb2FkKGUpe3JldHVybiBudWxsPT10aGlzLl9wcm9taXNlJiYodGhpcy5fcHJvbWlzZT10aGlzLl9kb3dubG9hZCgpKSx0aGlzLl9wcm9taXNlfXVubG9hZChlKXt9YXN5bmMgX2Rvd25sb2FkKCl7Y29uc3QgZT10aGlzLl9zbmFwc2hvdEluZm8uaW5pdGlhbFRvbGVyYW5jZSx0PWU/bmV3IG8oe21vZGU6XCJ2aWV3XCIsb3JpZ2luUG9zaXRpb246XCJ1cHBlci1sZWZ0XCIsdG9sZXJhbmNlOmV9KTpudWxsO2F3YWl0IHRoaXMuX2Rvd25sb2FkU3RyZWFtaW5nKHQpLG51bGwhPXQmJmF3YWl0IHRoaXMuX2Rvd25sb2FkUmVmcmVzaCgpfWFzeW5jIF9kb3dubG9hZFN0cmVhbWluZyh0KXt0cnl7Zm9yIGF3YWl0KGNvbnN0IGUgb2YgdGhpcy5fZmV0Y2hQYWdlcyh0KSl0aGlzLl9zdG9yZS5pbnNlcnQoZSl9Y2F0Y2gocil7dGhyb3cgbmV3IGUoXCJmZWF0dXJlbGF5ZXItcXVlcnlcIixcIkVuY291bnRlcmVkIGVycm9yIHdoZW4gZG93bmxvYWRpbmcgZGF0YVwiLHtlcnJvcjpyfSl9fWFzeW5jIF9kb3dubG9hZFJlZnJlc2goKXt0cnl7Y29uc3QgZT1bXTtmb3IgYXdhaXQoY29uc3QgdCBvZiB0aGlzLl9mZXRjaFBhZ2VzKG51bGwpKWUucHVzaCh0KTt0aGlzLl9zdG9yZS5jbGVhcigpO2Zvcihjb25zdCB0IG9mIGUpdGhpcy5fc3RvcmUuaW5zZXJ0KHQpO3RoaXMuX3N0b3JlLnJlZnJlc2goKX1jYXRjaCh0KXt0aHJvdyBuZXcgZShcImZlYXR1cmVsYXllci1xdWVyeVwiLFwiRW5jb3VudGVyZWQgZXJyb3Igd2hlbiBkb3dubG9hZGluZyBkYXRhXCIse2Vycm9yOnR9KX19YXN5bmMqX2ZldGNoUGFnZXMoZSl7bGV0IHI7dHJ5e2ZvciBhd2FpdChjb25zdCB0IG9mIHRoaXMuX2NvbmN1cnJlbnRQYWdlU3RyZWFtKGUpKTAhPT10LnNpemUoKSYmKHlpZWxkIHQpfWNhdGNoKG8pe3I9b31pZihyJiZ0KHIpfHwoeWllbGQgbmV3IGEobi5lbXB0eSh0aGlzLl9tZXRhZGF0YSksbnVsbCwtMSwhMCkpLHIpdGhyb3cgcn1hc3luYypfY29uY3VycmVudFBhZ2VTdHJlYW0oZSl7Y29uc3QgdD1oYXMoXCJmZWF0dXJlbGF5ZXItc25hcHNob3QtY29uY3VycmVuY3lcIikscj10aGlzLl9wYWdlU3RyZWFtQWxsKGUpLG89W107bGV0IHM9ITEsYT0xO2Zvcig7IXM7KXtjb25zdCBlPVtdO2Zvcig7IXMmJm8ubGVuZ3RoPGE7KXtjb25zdCB0PXIubmV4dCgpO2lmKCF0LnZhbHVlKXtzPSEwO2JyZWFrfWNvbnN0IGE9dC52YWx1ZTthLnRoZW4oKGU9PntlLnJlYWRlci5leGNlZWRlZFRyYW5zZmVyTGltaXR8fChzPSEwKX0pKS5jYXRjaCgoZT0+e3M9ITB9KSkuZmluYWxseSgoKCk9PntvLnNwbGljZShvLmluZGV4T2YoYSksMSl9KSksby5wdXNoKGEpLGUucHVzaChhKX1mb3IoY29uc3QgdCBvZiBlKXlpZWxkIHQ7by5sZW5ndGgmJmF3YWl0IFByb21pc2UucmFjZShvKSxhPHQmJihhKz0xKX19Kl9wYWdlU3RyZWFtQWxsKGUpe2NvbnN0IHQ9TWF0aC5jZWlsKHRoaXMuX3NuYXBzaG90SW5mby5tYXhGZWF0dXJlQ291bnQvdGhpcy5fcXVlcnlJbmZvLnBhZ2VTaXplKTtmb3IobGV0IHI9MDtyPHQ7cisrKXlpZWxkIHRoaXMuX2Rvd25sb2FkUGFnZShyLGUpfWFzeW5jIF9kb3dubG9hZFBhZ2UoZSx0KXtyKHRoaXMuX29wdGlvbnMpO2NvbnN0IG89dGhpcy5fcXVlcnlJbmZvLmNyZWF0ZVBhZ2VkUXVlcnkoZSx0KSxzPWF3YWl0IHRoaXMuX2ZldGNoKG8sdGhpcy5fb3B0aW9ucyx7Y2h1bmtJZDplLnRvU3RyaW5nKCl9KSxuPW5ldyBhKHMsby5pbm5lci50b0pTT04oKSxlLCExKTtyZXR1cm4gcih0aGlzLl9vcHRpb25zKSxufX1leHBvcnR7aSBhcyBTbmFwc2hvdExvYWRTdHJhdGVneX07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4zMy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0IGUgZnJvbVwiLi4vLi4vLi4vLi4vLi4vLi4vY29yZS9FdmVudGVkLmpzXCI7aW1wb3J0e2hhbmRsZXNHcm91cCBhcyB0fWZyb21cIi4uLy4uLy4uLy4uLy4uLy4uL2NvcmUvaGFuZGxlVXRpbHMuanNcIjtpbXBvcnRcIi4uLy4uLy4uLy4uLy4uLy4uL2NvcmUvaGFzLmpzXCI7aW1wb3J0e2Rlc3Ryb3lNYXliZSBhcyBzfWZyb21cIi4uLy4uLy4uLy4uLy4uLy4uL2NvcmUvbWF5YmUuanNcIjtpbXBvcnR7U3RyZWFtRmVhdHVyZU1hbmFnZXIgYXMgbn1mcm9tXCIuLi8uLi8uLi8uLi8uLi8uLi9sYXllcnMvZ3JhcGhpY3MvZGF0YS9TdHJlYW1GZWF0dXJlTWFuYWdlci5qc1wiO2ltcG9ydHtjcmVhdGVDb25uZWN0aW9uIGFzIG99ZnJvbVwiLi4vLi4vLi4vLi4vLi4vLi4vbGF5ZXJzL2dyYXBoaWNzL3NvdXJjZXMvY29ubmVjdGlvbnMvY3JlYXRlQ29ubmVjdGlvbi5qc1wiO2ltcG9ydHtpbnRlcm5hbFRpbWVSZWNlaXZlZEZpZWxkIGFzIGl9ZnJvbVwiLi4vLi4vLi4vLi4vLi4vLi4vbGF5ZXJzL3N1cHBvcnQvc3RyZWFtTGF5ZXJVdGlscy5qc1wiO2ltcG9ydHtTdHJlYW1Db25uZWN0aW9uU3RhdGUgYXMgcn1mcm9tXCIuLi9TdHJlYW1Db25uZWN0aW9uU3RhdGUuanNcIjtpbXBvcnR7U3RyZWFtRmVhdHVyZVN0b3JlIGFzIGF9ZnJvbVwiLi4vU3RyZWFtRmVhdHVyZVN0b3JlLmpzXCI7aW1wb3J0e0FMb2FkU3RyYXRlZ3kgYXMgY31mcm9tXCIuL0FMb2FkU3RyYXRlZ3kuanNcIjtpbXBvcnR7U3RyZWFtU291cmNlQ2h1bmsgYXMgaH1mcm9tXCIuL2NodW5rcy9TdHJlYW1Tb3VyY2VDaHVuay5qc1wiO2NsYXNzIG0gZXh0ZW5kcyBje2NvbnN0cnVjdG9yKHQscyxvLGMsaCl7c3VwZXIobyksdGhpcy5fc2VydmljZT10LHRoaXMuX2RhdGFGaWx0ZXI9cyx0aGlzLl9zdHJlYW1PcHRpb25zPWMsdGhpcy5fbWV0YWRhdGE9aCx0aGlzLl9jb25uZWN0aW9uU3RhdGU9bmV3IHIsdGhpcy5fZm9yY2VSZWZyZXNoPSExLHRoaXMuZXZlbnRzPW5ldyBlO2NvbnN0e3RpbWVJbmZvOm19PXRoaXMuX21ldGFkYXRhLHtwdXJnZU9wdGlvbnM6ZH09czt0aGlzLl9zdGFnaW5nU3RvcmU9bmV3IGEodGhpcy5fbWV0YWRhdGEud2Vha0Nsb25lV2l0aEFkZGl0aW9uYWxGaWVsZHMoW3tuYW1lOmksYWxpYXM6XCJ0aW1lUmVjZWl2ZWRcIix0eXBlOlwiZXNyaUZpZWxkVHlwZURhdGVcIn1dKSwoZT0+dGhpcy5ldmVudHMuZW1pdChcImZlYXR1cmVzLXVwZGF0ZWRcIixlKSkpLHRoaXMuX21hbmFnZXI9bmV3IG4odGhpcy5fc3RhZ2luZ1N0b3JlLGguZmVhdHVyZUlkSW5mbyxtLGQpLHRoaXMuY29ubmVjdCgpfWRlc3Ryb3koKXtzdXBlci5kZXN0cm95KCksdGhpcy5kaXNjb25uZWN0KCl9Z2V0IGFib3V0KCl7cmV0dXJue3N1cHBvcnRzRGlzcGxheUZpbHRlcjohMSx3aWxsUXVlcnlBbGxGZWF0dXJlczohMSx3aWxsUXVlcnlGdWxsUmVzb2x1dGlvbkdlb21ldHJ5OiExfX1nZXQgY29ubmVjdGlvblN0YXR1cygpe3JldHVybiB0aGlzLl9jb25uZWN0aW9uU3RhdGUuY29ubmVjdGlvblN0YXR1c31nZXQgZXJyb3JTdHJpbmcoKXtyZXR1cm4gdGhpcy5fY29ubmVjdGlvblN0YXRlPy5lcnJvclN0cmluZ31hc3luYyByZWZyZXNoKCl7Y29uc3QgZT1udWxsIT10aGlzLl9jaHVuaztyZXR1cm4gdGhpcy5fbWFuYWdlci5jaGVja0ZvclVwZGF0ZXMoKXx8IWV8fHRoaXMuX2ZvcmNlUmVmcmVzaD8odGhpcy5fY2h1bmsmJnRoaXMuX3N0b3JlLnJlbW92ZSh0aGlzLl9jaHVuayksdGhpcy5fZm9yY2VSZWZyZXNoPSExLHRoaXMuX2NodW5rPW5ldyBoKHRoaXMuX3N0YWdpbmdTdG9yZS5yZWFkZXIpLHRoaXMuX3N0b3JlLmluc2VydCh0aGlzLl9jaHVuayksdGhpcy5ldmVudHMuZW1pdChcInRpY2tcIiksITApOih0aGlzLmV2ZW50cy5lbWl0KFwidGlja1wiKSwhMSl9YXN5bmMgdXBkYXRlRmllbGRzKGUpe3Rocm93IG5ldyBFcnJvcihcIlVwZGF0aW5nIGF2YWlsYWJsZSBmaWVsZHMgbm90IHN1cHBvcnRlZCBmb3IgU3RyZWFtTGF5ZXJcIil9YXN5bmMgbG9hZChlKXt9dW5sb2FkKGUpe31kaXNjb25uZWN0KCl7dGhpcy5fY29ubmVjdGlvbj1zKHRoaXMuX2Nvbm5lY3Rpb24pLHRoaXMuX2Nvbm5lY3Rpb25TdGF0ZS5jb25uZWN0aW9uPW51bGwsdGhpcy5faGFuZGxlc0dyb3VwPy5yZW1vdmUoKX1jb25uZWN0KCl7aWYobnVsbCE9dGhpcy5fY29ubmVjdGlvbilyZXR1cm47Y29uc3R7Z2VvbWV0cnlUeXBlOmUsc3BhdGlhbFJlZmVyZW5jZTpzfT10aGlzLl9tZXRhZGF0YSx7bWF4UmVjb25uZWN0aW9uQXR0ZW1wdHM6bixtYXhSZWNvbm5lY3Rpb25JbnRlcnZhbDppLGdlb21ldHJ5RGVmaW5pdGlvbjpyLGRlZmluaXRpb25FeHByZXNzaW9uOmEsY3VzdG9tUGFyYW1ldGVyczpjfT10aGlzLl9kYXRhRmlsdGVyO3RoaXMuX2Nvbm5lY3Rpb249byh0aGlzLl9zZXJ2aWNlLnNvdXJjZSxzLHRoaXMuX3N0cmVhbU9wdGlvbnMub3V0U1IsZSxhLHIsbixpLGMpLHRoaXMuX2hhbmRsZXNHcm91cD10KFt0aGlzLl9jb25uZWN0aW9uLm9uKFwiZGF0YS1yZWNlaXZlZFwiLChlPT50aGlzLl9vbkZlYXR1cmUoZSkpKSx0aGlzLl9jb25uZWN0aW9uLm9uKFwibWVzc2FnZS1yZWNlaXZlZFwiLChlPT50aGlzLl9vbldlYlNvY2tldE1lc3NhZ2UoZSkpKV0pLHRoaXMuX2Nvbm5lY3Rpb25TdGF0ZS5jb25uZWN0aW9uPXRoaXMuX2Nvbm5lY3Rpb259Y2xlYXIoKXt0aGlzLl9tYW5hZ2VyLmNoZWNrRm9yVXBkYXRlcygpLHRoaXMuX3N0YWdpbmdTdG9yZS5jbGVhcigpLHRoaXMuX2ZvcmNlUmVmcmVzaD0hMH11cGRhdGVDdXN0b21QYXJhbWV0ZXJzKGUpe3RoaXMuX2Nvbm5lY3Rpb24/LnVwZGF0ZUN1c3RvbVBhcmFtZXRlcnMoZSl9c2VuZE1lc3NhZ2VUb1NvY2tldChlKXt0aGlzLl9jb25uZWN0aW9uPy5zZW5kTWVzc2FnZVRvU29ja2V0KGUpfXNlbmRNZXNzYWdlVG9DbGllbnQoZSl7dGhpcy5fY29ubmVjdGlvbj8uc2VuZE1lc3NhZ2VUb0NsaWVudChlKX1fb25XZWJTb2NrZXRNZXNzYWdlKGUpe2lmKFwidHlwZVwiaW4gZSlzd2l0Y2goZS50eXBlKXtjYXNlXCJkZWxldGVcIjppZihlLm9iamVjdElkcylmb3IoY29uc3QgdCBvZiBlLm9iamVjdElkcyl0aGlzLl9tYW5hZ2VyLnJlbW92ZUJ5SWQodCk7aWYoZS50cmFja0lkcylmb3IoY29uc3QgdCBvZiBlLnRyYWNrSWRzKXRoaXMuX21hbmFnZXIucmVtb3ZlQnlUcmFja0lkKHQpO2JyZWFrO2Nhc2VcImNsZWFyXCI6dGhpcy5jbGVhcigpfXRoaXMuZXZlbnRzLmVtaXQoXCJtZXNzYWdlLXJlY2VpdmVkXCIsZSl9X29uRmVhdHVyZShlKXt0cnl7dGhpcy5fbWFuYWdlci5hZGQoZSksdGhpcy5ldmVudHMuZW1pdChcImRhdGEtcmVjZWl2ZWRcIixlKX1jYXRjaCh0KXt9fX1leHBvcnR7bSBhcyBTdHJlYW1Mb2FkU3RyYXRlZ3l9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMzMvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtGZWF0dXJlU3BhdGlhbEluZGV4IGFzIGV9ZnJvbVwiLi4vLi4vLi4vRmVhdHVyZVNwYXRpYWxJbmRleC5qc1wiO2ltcG9ydHtHZW9oYXNoU3BhdGlhbEluZGV4IGFzIHR9ZnJvbVwiLi4vLi4vLi4vYWdncmVnYXRpb24vR2VvaGFzaFNwYXRpYWxJbmRleC5qc1wiO2ltcG9ydHtHcmlkU3BhdGlhbEluZGV4IGFzIHJ9ZnJvbVwiLi4vLi4vLi4vYWdncmVnYXRpb24vR3JpZFNwYXRpYWxJbmRleC5qc1wiO2ltcG9ydHtGZWF0dXJlU2V0UmVhZGVySW5kaXJlY3QgYXMgYX1mcm9tXCIuLi8uLi8uLi9zdXBwb3J0L0ZlYXR1cmVTZXRSZWFkZXJJbmRpcmVjdC5qc1wiO2NsYXNzIGl7c2l6ZSgpe3JldHVybiB0aGlzLnJlYWRlci5nZXRTaXplKCl9Z2V0IGZpZWxkcygpe3JldHVybiB0aGlzLnJlYWRlci5maWVsZHN9aW52YWxpZGF0ZSgpe3RoaXMuX2FnZ3JlZ2F0ZUluZGV4PW51bGwsdGhpcy5fYWdncmVnYXRlSW5kZXhIYXNoPW51bGwsdGhpcy5fc3BhdGlhbEluZGV4PW51bGx9cmVnaXN0ZXJPdmVycmlkZXMoZSl7dGhpcy5yZWFkZXIucmVnaXN0ZXJPdmVycmlkZXMoZSksdGhpcy5pbnZhbGlkYXRlKCl9cXVlcnlGZWF0dXJlc0luQm91bmRzKGUpe2NvbnN0IHQ9dGhpcy5fZ2V0U3BhdGlhbEluZGV4KCkuc2VhcmNoKGUpO3JldHVybiBhLmZyb20odGhpcy5yZWFkZXIsdCl9Z2V0QWdncmVnYXRlSW5kZXgoZSl7Y29uc3QgYT1KU09OLnN0cmluZ2lmeShlKTtpZihhIT09dGhpcy5fYWdncmVnYXRlSW5kZXhIYXNoKXtzd2l0Y2godGhpcy5fYWdncmVnYXRlSW5kZXhIYXNoPWEsZS50eXBlKXtjYXNlXCJncmlkXCI6dGhpcy5fYWdncmVnYXRlSW5kZXg9bmV3IHIoZSk7YnJlYWs7Y2FzZVwiZ2VvaGFzaFwiOnRoaXMuX2FnZ3JlZ2F0ZUluZGV4PW5ldyB0KGUpfXRoaXMuX2FnZ3JlZ2F0ZUluZGV4Lmluc2VydCh0aGlzLnJlYWRlcix0aGlzLmlzVGlsZWQpfXJldHVybiB0aGlzLl9hZ2dyZWdhdGVJbmRleH1fZ2V0U3BhdGlhbEluZGV4KCl7cmV0dXJuIHRoaXMuX3NwYXRpYWxJbmRleHx8KHRoaXMuX3NwYXRpYWxJbmRleD1lLmZyb21SZWFkZXIodGhpcy5yZWFkZXIpKSx0aGlzLl9zcGF0aWFsSW5kZXh9fWV4cG9ydHtpIGFzIEFTb3VyY2VDaHVua307XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4zMy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e0FTb3VyY2VDaHVuayBhcyBlfWZyb21cIi4vQVNvdXJjZUNodW5rLmpzXCI7Y2xhc3MgaSBleHRlbmRzIGV7Y29uc3RydWN0b3IoZSxpLHQscixzLGgpe3N1cGVyKCksdGhpcy5fcmVhZGVyPWUsdGhpcy5fcXVlcnlKU09OPWksdGhpcy5fdGlsZT10LHRoaXMuX3NvdXJjZVRpbGU9cix0aGlzLl9zb3VyY2VUaWxlRGVwdGg9cyx0aGlzLl9lbmQ9aCx0aGlzLmNodW5rSWQ9YCR7dGhpcy5fdGlsZS5rZXkuaWR9LiR7dGhpcy5fc291cmNlVGlsZT8ua2V5LmlkfSR7dGhpcy5fZW5kP1wiZVwiOlwiXCJ9YCx0aGlzLm5vcm1hbGl6ZWRDaHVua0lkPWAke3RoaXMuX3RpbGUua2V5Lm5vcm1hbGl6ZWRJZH0uJHt0aGlzLl9zb3VyY2VUaWxlPy5rZXkubm9ybWFsaXplZElkfSR7dGhpcy5fZW5kP1wiZVwiOlwiXCJ9YH1nZXQgcXVlcnlJbmZvKCl7cmV0dXJue3R5cGU6XCJkcmlsbC1kb3duLXRpbGVcIixjaHVua0lkOnRoaXMuY2h1bmtJZCx0aWxlSWQ6dGhpcy5fdGlsZS5rZXkuaWQscXVlcnlKU09OOnRoaXMuX3F1ZXJ5SlNPTixzb3VyY2VUaWxlRGVwdGg6dGhpcy5fc291cmNlVGlsZURlcHRoLHNvdXJjZVRpbGVJZDp0aGlzLl9zb3VyY2VUaWxlPy5rZXkuaWQsc2l6ZTp0aGlzLnNpemUoKSxlbmQ6dGhpcy5lbmR9fWdldCBmaXJzdCgpe3JldHVybiAwPT09dGhpcy5fc291cmNlVGlsZURlcHRofWdldCByZWFkZXIoKXtyZXR1cm4gdGhpcy5fcmVhZGVyfWdldCBlbmQoKXtyZXR1cm4gdGhpcy5fZW5kfWdldCB0aWxlKCl7cmV0dXJuIHRoaXMuX3RpbGV9Z2V0IGlzVGlsZWQoKXtyZXR1cm4hMH1nZXRUaWxlUmVhZGVyKGUpe3JldHVybiB0aGlzLl90aWxlLmtleS5pZD09PWUua2V5LmlkP3RoaXMucmVhZGVyOm51bGx9fWV4cG9ydHtpIGFzIERyaWxsRG93blRpbGVTb3VyY2VDaHVua307XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4zMy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e0FTb3VyY2VDaHVuayBhcyBlfWZyb21cIi4vQVNvdXJjZUNodW5rLmpzXCI7Y2xhc3MgdCBleHRlbmRzIGV7Y29uc3RydWN0b3IoZSx0LHIscyl7c3VwZXIoKSx0aGlzLl9yZWFkZXI9ZSx0aGlzLl9xdWVyeUpTT049dCx0aGlzLl9wYWdlPXIsdGhpcy5fZW5kPXMsdGhpcy5jaHVua0lkPWAke3RoaXMuX3BhZ2V9JHt0aGlzLmVuZD9cImVcIjpcIlwifWAsdGhpcy5ub3JtYWxpemVkQ2h1bmtJZD10aGlzLmNodW5rSWR9Z2V0IHJlYWRlcigpe3JldHVybiB0aGlzLl9yZWFkZXJ9Z2V0IGZpcnN0KCl7cmV0dXJuIDA9PT10aGlzLl9wYWdlfWdldCBlbmQoKXtyZXR1cm4gdGhpcy5fZW5kfWdldCBxdWVyeUluZm8oKXtyZXR1cm57dHlwZTpcInNuYXBzaG90XCIsY2h1bmtJZDp0aGlzLmNodW5rSWQscXVlcnlKU09OOnRoaXMuX3F1ZXJ5SlNPTixwYWdlOnRoaXMuX3BhZ2Usc2l6ZTp0aGlzLnNpemUoKSxlbmQ6dGhpcy5lbmR9fWdldCBpc1RpbGVkKCl7cmV0dXJuITF9Z2V0VGlsZVJlYWRlcihlKXtjb25zdCB0PXRoaXMucXVlcnlGZWF0dXJlc0luQm91bmRzKGUuYm91bmRzKTtyZXR1cm4gdC5zZXRUcmFuc2Zvcm1Gb3JEaXNwbGF5KGUudHJhbnNmb3JtKSx0fX1leHBvcnR7dCBhcyBGZWF0dXJlU25hcHNob3RTb3VyY2VDaHVua307XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4zMy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e0FTb3VyY2VDaHVuayBhcyBlfWZyb21cIi4vQVNvdXJjZUNodW5rLmpzXCI7aW1wb3J0e0ZlYXR1cmVTZXRSZWFkZXJKU09OIGFzIHR9ZnJvbVwiLi4vLi4vLi4vc3VwcG9ydC9GZWF0dXJlU2V0UmVhZGVySlNPTi5qc1wiO2NvbnN0IHM9MWU0LHI9MWUzO2NsYXNzIGl7Y29uc3RydWN0b3IoKXt0aGlzLm1vZGlmaWVkPVtdLHRoaXMucmVtb3ZlZD1bXX1tb2RpZnkoZSl7dGhpcy5tb2RpZmllZC5wdXNoKGUpfXJlbW92ZShlKXt0aGlzLnJlbW92ZWQucHVzaChlKX1nZXQgaXNFbXB0eSgpe3JldHVybiAwPT09dGhpcy5tb2RpZmllZC5sZW5ndGgmJjA9PT10aGlzLnJlbW92ZWQubGVuZ3RofX1jbGFzcyBvIGV4dGVuZHMgZXtjb25zdHJ1Y3RvcihlKXtzdXBlcigpLHRoaXMuX3JlYWRlcj1lLHRoaXMuY2h1bmtJZD1cIm92ZXJyaWRlXCIsdGhpcy5ub3JtYWxpemVkQ2h1bmtJZD1cIm92ZXJyaWRlXCJ9c3RhdGljIGZyb21GZWF0dXJlcyhlLHMpe2NvbnN0IHI9dC5mcm9tT3B0aW1pemVkRmVhdHVyZXMoZSxzKTtyZXR1cm4gbmV3IG8ocil9Z2V0IHJlYWRlcigpe3JldHVybiB0aGlzLl9yZWFkZXJ9Z2V0IHF1ZXJ5SW5mbygpe3JldHVybnt9fWdldCBmaXJzdCgpe3JldHVybiExfWdldCBlbmQoKXtyZXR1cm4hMX1nZXQgaXNUaWxlZCgpe3JldHVybiExfWdldFRpbGVSZWFkZXIoZSl7aWYoIXRoaXMuX3JlYWRlci5nZXRTaXplKCkpcmV0dXJuIG51bGw7Y29uc3QgdD10aGlzLnF1ZXJ5RmVhdHVyZXNJbkJvdW5kcyhlLmJvdW5kcyk7cmV0dXJuIHQuc2V0VHJhbnNmb3JtRm9yRGlzcGxheShlLnRyYW5zZm9ybSksdH19Y2xhc3Mgbntjb25zdHJ1Y3RvcihlLHQpe3RoaXMuaW5uZXI9ZSx0aGlzLmlzV2Vhaz10LHRoaXMubGFzdFdlYWs9bnVsbH1nZXQgaXNTdHJvbmcoKXtyZXR1cm4hdGhpcy5pc1dlYWt9fWNsYXNzIGF7Y29uc3RydWN0b3IoKXt0aGlzLl9vdmVycmlkZXM9bmV3IE1hcCx0aGlzLl91cGRhdGU9bmV3IGksdGhpcy5fbGFzdENsZWFudXA9MH1oYXNPdmVycmlkZShlKXtyZXR1cm4gdGhpcy5fb3ZlcnJpZGVzLmhhcyhlKX1vbkNodW5rSW5zZXJ0KGUpe2lmKHRoaXMuX292ZXJyaWRlcy5zaXplKXtjb25zdCB0PWUucmVhZGVyLmdldEN1cnNvcigpO2Zvcig7dC5uZXh0KCk7KXtjb25zdCBlPXQuZ2V0T2JqZWN0SWQoKSxzPXRoaXMuX292ZXJyaWRlcy5nZXQoZSk7aWYocz8ubGFzdFdlYWsmJihzLmxhc3RXZWFrPW51bGwpLHM/LmlzV2Vhayl7Y29uc3QgZT10LnJlYWRPcHRpbWl6ZWRGZWF0dXJlV29ybGRTcGFjZSgpO3MuaW5uZXI9ZSx0aGlzLl91cGRhdGUubW9kaWZ5KGUpLHRoaXMuaW52YWxpZGF0ZSgpfX19ZS5yZWdpc3Rlck92ZXJyaWRlcyh0aGlzKX1hcHBseShlLHQpe2NvbnN0e3VwZGF0ZVdlYWs6cyxyZW1vdmVXZWFrOnIsdXBkYXRlOmkscmVtb3ZlOm8scmVsZWFzZTphfT1lLmNvbW1hbmRzO3RoaXMuaW52YWxpZGF0ZSgpO2Zvcihjb25zdCBkIG9mIHMpe2NvbnN0IGU9bmV3IG4oZCwhMCksdD10aGlzLl9vdmVycmlkZXMuZ2V0KGQub2JqZWN0SWQpO3Q/LmlzU3Ryb25nP3QubGFzdFdlYWs9ZToodGhpcy5fb3ZlcnJpZGVzLnNldChkLm9iamVjdElkLGUpLHRoaXMuX3VwZGF0ZS5tb2RpZnkoZCkpfWZvcihjb25zdCBkIG9mIGkpe2NvbnN0IGU9bmV3IG4oZCwhMSksdD10aGlzLl9vdmVycmlkZXMuZ2V0KGQub2JqZWN0SWQpO2UubGFzdFdlYWs9dD8uaXNXZWFrP3Q6dD8ubGFzdFdlYWs/P251bGwsdGhpcy5fb3ZlcnJpZGVzLnNldChkLm9iamVjdElkLGUpLHRoaXMuX3VwZGF0ZS5tb2RpZnkoZCl9Zm9yKGNvbnN0IGQgb2Ygcil7Y29uc3QgZT1uZXcgbihudWxsLCEwKSx0PXRoaXMuX292ZXJyaWRlcy5nZXQoZCk7dD8uaXNTdHJvbmc/dC5sYXN0V2Vhaz1lOih0aGlzLl9vdmVycmlkZXMuc2V0KGQsZSksdGhpcy5fdXBkYXRlLnJlbW92ZShkKSl9Zm9yKGNvbnN0IGQgb2Ygbyl7Y29uc3QgZT1uZXcgbihudWxsLCExKSx0PXRoaXMuX292ZXJyaWRlcy5nZXQoZCk7ZS5sYXN0V2Vhaz10Py5pc1dlYWs/dDp0Py5sYXN0V2Vhaz8/bnVsbCx0aGlzLl9vdmVycmlkZXMuc2V0KGQsZSksdGhpcy5fdXBkYXRlLnJlbW92ZShkKX1pZihhLmxlbmd0aCl7Y29uc3QgZT1uZXcgU2V0O2Zvcihjb25zdCB0IG9mIGEpe2NvbnN0IHM9dGhpcy5fb3ZlcnJpZGVzLmdldCh0KTtzPy5sYXN0V2Vhaz8odGhpcy5fb3ZlcnJpZGVzLnNldCh0LHMubGFzdFdlYWspLG51bGw9PXMubGFzdFdlYWsuaW5uZXI/dGhpcy5fdXBkYXRlLnJlbW92ZSh0KTp0aGlzLl91cGRhdGUubW9kaWZ5KHMubGFzdFdlYWsuaW5uZXIpKTpzJiYhcy5pc1dlYWsmJih0aGlzLl9vdmVycmlkZXMuZGVsZXRlKHQpLGUuYWRkKHQpKX10LmZvckVhY2hVbnNhZmUoKHQ9Pntjb25zdCBzPXQuZ2V0T2JqZWN0SWQoKTtlLmhhcyhzKSYmKHRoaXMuX3VwZGF0ZS5tb2RpZnkodC5yZWFkT3B0aW1pemVkRmVhdHVyZVdvcmxkU3BhY2UoKSksZS5kZWxldGUocykpfSkpO2Zvcihjb25zdCB0IG9mIGUudmFsdWVzKCkpdGhpcy5fdXBkYXRlLnJlbW92ZSh0KX19Y2xlYXJXZWFrT3ZlcnJpZGVzKCl7Zm9yKGNvbnN0W2UsdF1vZiB0aGlzLl9vdmVycmlkZXMuZW50cmllcygpKXQuaXNXZWFrJiZ0aGlzLl9vdmVycmlkZXMuZGVsZXRlKGUpO3RoaXMuaW52YWxpZGF0ZSgpfWNsZWFudXAoZSl7aWYodGhpcy5fb3ZlcnJpZGVzLnNpemU8cylyZXR1cm47Y29uc3QgdD1wZXJmb3JtYW5jZS5ub3coKTtpZih0LXRoaXMuX2xhc3RDbGVhbnVwPHIpcmV0dXJuO3RoaXMuX2xhc3RDbGVhbnVwPXQ7Y29uc3QgaT10aGlzLl9nZXRXZWFrRGVsZXRpb25zKCk7aWYoIShpLnNpemU8cykpe2Zvcihjb25zdCB0IG9mIGUpe2NvbnN0IGU9dC5yZWFkZXIud2l0aG91dE92ZXJyaWRlcygpLmdldEN1cnNvcigpO2Zvcig7ZS5uZXh0KCk7KXtjb25zdCB0PWUuZ2V0T2JqZWN0SWQoKTtpLmRlbGV0ZSh0KX19Zm9yKGNvbnN0IGUgb2YgaSl0aGlzLl9vdmVycmlkZXMuZGVsZXRlKGUpO2kuc2l6ZSYmdGhpcy5pbnZhbGlkYXRlKCl9fXRha2VPdmVycmlkZVVwZGF0ZSgpe2NvbnN0IGU9dGhpcy5fdXBkYXRlO3JldHVybiBlLmlzRW1wdHk/bnVsbDoodGhpcy5fdXBkYXRlPW5ldyBpLGUpfWFzQ2h1bmsoZSl7aWYoIXRoaXMuX2NodW5rKXtjb25zdCB0PVtdO2Zvcihjb25zdCBlIG9mIHRoaXMuX292ZXJyaWRlcy52YWx1ZXMoKSludWxsIT1lLmlubmVyJiZ0LnB1c2goZS5pbm5lcik7dGhpcy5fY2h1bms9by5mcm9tRmVhdHVyZXModCxlKX1yZXR1cm4gdGhpcy5fY2h1bmt9aW52YWxpZGF0ZSgpe3RoaXMuX2NodW5rPW51bGx9cHV0V2Vha09iamVjdElkc0Zyb21HbG9iYWxJZHMoZSx0LHMpe2Zvcihjb25zdFtyLGldb2YgdGhpcy5fb3ZlcnJpZGVzLmVudHJpZXMoKSlpZihpLmlzV2VhayYmbnVsbCE9aS5pbm5lcil7Y29uc3Qgbz1pLmlubmVyLmF0dHJpYnV0ZXNbc107byYmdC5oYXMobykmJiFlLmhhcyhvKSYmZS5zZXQobyxyKX1lbHNlIGlmKG51bGwhPWkubGFzdFdlYWsmJm51bGwhPWkubGFzdFdlYWsuaW5uZXIpe2NvbnN0IG89aS5sYXN0V2Vhay5pbm5lci5hdHRyaWJ1dGVzW3NdO28mJnQuaGFzKG8pJiYhZS5oYXMobykmJmUuc2V0KG8scil9fV9nZXRXZWFrRGVsZXRpb25zKCl7Y29uc3QgZT1uZXcgU2V0O2Zvcihjb25zdFt0LHNdb2YgdGhpcy5fb3ZlcnJpZGVzLmVudHJpZXMoKSlzLmlzV2VhayYmbnVsbD09cy5pbm5lciYmZS5hZGQodCk7cmV0dXJuIGV9fWV4cG9ydHtvIGFzIE92ZXJyaWRlQ2h1bmssYSBhcyBPdmVycmlkZVN0YXRlLGkgYXMgT3ZlcnJpZGVVcGRhdGV9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMzMvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtBU291cmNlQ2h1bmsgYXMgZX1mcm9tXCIuL0FTb3VyY2VDaHVuay5qc1wiO2NsYXNzIHQgZXh0ZW5kcyBle2NvbnN0cnVjdG9yKGUsdCxpLHIscyl7c3VwZXIoKSx0aGlzLl9yZWFkZXI9ZSx0aGlzLl9xdWVyeUpTT049dCx0aGlzLl90aWxlPWksdGhpcy5fcGFnZT1yLHRoaXMuX2VuZD1zLHRoaXMuY2h1bmtJZD1gJHt0aGlzLl90aWxlLmtleS5pZH0uJHt0aGlzLl9wYWdlfSR7dGhpcy5lbmQ/XCJlXCI6XCJcIn1gLHRoaXMubm9ybWFsaXplZENodW5rSWQ9YCR7dGhpcy5fdGlsZS5rZXkubm9ybWFsaXplZElkfS4ke3RoaXMuX3BhZ2V9JHt0aGlzLmVuZD9cImVcIjpcIlwifWB9Z2V0IHF1ZXJ5SW5mbygpe3JldHVybnt0eXBlOlwicGFnZWQtdGlsZVwiLGNodW5rSWQ6dGhpcy5jaHVua0lkLHRpbGVJZDp0aGlzLl90aWxlLmtleS5pZCxxdWVyeUpTT046dGhpcy5fcXVlcnlKU09OLHBhZ2U6dGhpcy5fcGFnZSxzaXplOnRoaXMuc2l6ZSgpLGVuZDp0aGlzLmVuZH19Z2V0IHJlYWRlcigpe3JldHVybiB0aGlzLl9yZWFkZXJ9Z2V0IGZpcnN0KCl7cmV0dXJuIDA9PT10aGlzLl9wYWdlfWdldCBlbmQoKXtyZXR1cm4gdGhpcy5fZW5kfWdldCBwYWdlKCl7cmV0dXJuIHRoaXMuX3BhZ2V9Z2V0IHRpbGUoKXtyZXR1cm4gdGhpcy5fdGlsZX1nZXQgaXNUaWxlZCgpe3JldHVybiEwfWdldFRpbGVSZWFkZXIoZSl7cmV0dXJuIHRoaXMuX3RpbGUua2V5LmlkPT09ZS5rZXkuaWQ/dGhpcy5yZWFkZXI6bnVsbH19ZXhwb3J0e3QgYXMgUGFnZWRUaWxlU291cmNlQ2h1bmt9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMzMvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydCBlIGZyb21cIi4uLy4uLy4uLy4uLy4uLy4uLy4uL2NvcmUvRXZlbnRlZC5qc1wiO2ltcG9ydCBoYXMgZnJvbVwiLi4vLi4vLi4vLi4vLi4vLi4vLi4vY29yZS9oYXMuanNcIjtpbXBvcnR7Y3JlYXRlIGFzIHN9ZnJvbVwiLi4vLi4vLi4vLi4vLi4vLi4vLi4vZ2VvbWV0cnkvc3VwcG9ydC9hYUJvdW5kaW5nQm94LmpzXCI7aW1wb3J0e0ZlYXR1cmVTdG9yZVF1ZXJ5QWRhcHRlciBhcyB0fWZyb21cIi4uLy4uLy4uL0ZlYXR1cmVTdG9yZVF1ZXJ5QWRhcHRlci5qc1wiO2ltcG9ydHtPdmVycmlkZVN0YXRlIGFzIHJ9ZnJvbVwiLi9PdmVycmlkZXMuanNcIjtjbGFzcyBve2NvbnN0cnVjdG9yKHMpe3RoaXMuX21ldGFkYXRhPXMsdGhpcy5fY2h1bmtzPW5ldyBNYXAsdGhpcy5fY2h1bmtzVG9SZW1vdmU9W10sdGhpcy5fb3ZlcnJpZGVzPW5ldyByLHRoaXMuZXZlbnRzPW5ldyBlLHRoaXMuZmVhdHVyZUFkYXB0ZXI9bmV3IHR9ZGVzdHJveSgpe3RoaXMuY2xlYXIoKX1jbGVhcigpe2Zvcihjb25zdCBlIG9mIHRoaXMuX2NodW5rcy52YWx1ZXMoKSl0aGlzLl9jaHVua3NUb1JlbW92ZS5wdXNoKGUpO3RoaXMuX2NodW5rcy5jbGVhcigpLHRoaXMuX292ZXJyaWRlcy5jbGVhcldlYWtPdmVycmlkZXMoKX0qY2h1bmtzKCl7dGhpcy5fb3ZlcnJpZGVzJiYoeWllbGQgdGhpcy5fb3ZlcnJpZGVzLmFzQ2h1bmsodGhpcy5fbWV0YWRhdGEpKSx5aWVsZCp0aGlzLl9jaHVua3MudmFsdWVzKCl9aW5zZXJ0KGUpe2hhcyhcImVzcmktMmQtdXBkYXRlLWRlYnVnXCIpJiZjb25zb2xlLmRlYnVnKGBDaHVua1ske2UuY2h1bmtJZH1dIFNvdXJjZUNodW5rU3RvcmUuaW5zZXJ0YCksdGhpcy5fb3ZlcnJpZGVzLm9uQ2h1bmtJbnNlcnQoZSksdGhpcy5fY2h1bmtzLnNldChlLmNodW5rSWQsZSksdGhpcy5ldmVudHMuZW1pdChcImNoYW5nZWRcIil9cmVtb3ZlKGUpe2hhcyhcImVzcmktMmQtdXBkYXRlLWRlYnVnXCIpJiZjb25zb2xlLmRlYnVnKGBDaHVua1ske2UuY2h1bmtJZH1dIFNvdXJjZUNodW5rU3RvcmUucmVtb3ZlYCksdGhpcy5fY2h1bmtzLmRlbGV0ZShlLmNodW5rSWQpLHRoaXMuX2NodW5rc1RvUmVtb3ZlLnB1c2goZSl9Y2xlYW51cCgpe2NvbnN0IGU9dGhpcy5fY2h1bmtzVG9SZW1vdmU7cmV0dXJuIHRoaXMuX2NodW5rc1RvUmVtb3ZlPVtdLHRoaXMuX292ZXJyaWRlcy5jbGVhbnVwKHRoaXMuX2NodW5rcy52YWx1ZXMoKSksZX1hcHBseU92ZXJyaWRlKGUpe3RoaXMuX292ZXJyaWRlcy5hcHBseShlLHRoaXMpLHRoaXMuZXZlbnRzLmVtaXQoXCJjaGFuZ2VkXCIpO2Zvcihjb25zdCBzIG9mIHRoaXMuX2NodW5rcy52YWx1ZXMoKSlzLmludmFsaWRhdGUoKX10YWtlT3ZlcnJpZGVVcGRhdGUoKXtyZXR1cm4gdGhpcy5fb3ZlcnJpZGVzLnRha2VPdmVycmlkZVVwZGF0ZSgpfXJlZnJlc2goKXt0aGlzLmV2ZW50cy5lbWl0KFwicmVmcmVzaFwiKX1mb3JFYWNoKGUpe2NvbnN0IHM9bmV3IFNldDtmb3IoY29uc3QgdCBvZiB0aGlzLmNodW5rcygpKXtjb25zdCByPXQucmVhZGVyLmdldEN1cnNvcigpO2Zvcig7ci5uZXh0KCk7KXtjb25zdCB0PXIuZ2V0T2JqZWN0SWQoKTtzLmhhcyh0KXx8KGUoci5jb3B5KCkpLHMuYWRkKHQpKX19fWZvckVhY2hVbnNhZmUoZSl7Y29uc3Qgcz1uZXcgU2V0O2Zvcihjb25zdCB0IG9mIHRoaXMuY2h1bmtzKCkpe2NvbnN0IHI9dC5yZWFkZXIuZ2V0Q3Vyc29yKCk7Zm9yKDtyLm5leHQoKTspe2NvbnN0IHQ9ci5nZXRPYmplY3RJZCgpO3MuaGFzKHQpfHwoZShyKSxzLmFkZCh0KSl9fX1tYXBPYmplY3RJZHNGcm9tR2xvYmFsSWRzKGUscyl7Y29uc3QgdD1uZXcgTWFwLHI9bmV3IFNldChlKTtyZXR1cm4gdGhpcy5fb3ZlcnJpZGVzLnB1dFdlYWtPYmplY3RJZHNGcm9tR2xvYmFsSWRzKHQscixzKSx0aGlzLl9mb3JFYWNoVW5zYWZlSWdub3JlT3ZlcnJpZGVzKChlPT57Y29uc3Qgbz1lLnJlYWRBdHRyaWJ1dGUocyk7aWYobyYmci5oYXMobykmJiF0LmhhcyhvKSl7Y29uc3Qgcz1lLmdldE9iamVjdElkKCk7dC5zZXQobyxzKX19KSksdH1mb3JFYWNoSW5Cb3VuZHMoZSxzKXtjb25zdCB0PW5ldyBTZXQ7Zm9yKGNvbnN0IHIgb2YgdGhpcy5jaHVua3MoKSl7Y29uc3Qgbz1yLnF1ZXJ5RmVhdHVyZXNJbkJvdW5kcyhlKTtmb3IoO28ubmV4dCgpOyl7Y29uc3QgZT1vLmdldE9iamVjdElkKCk7dC5oYXMoZSl8fChzKG8uY29weSgpKSx0LmFkZChlKSl9fX1mb3JFYWNoQm91bmRzKGUsdCl7Y29uc3Qgcj1zKCk7Zm9yKGNvbnN0IHMgb2YgZSl7cy5nZXRCb3VuZHMocikmJnQocil9fV9mb3JFYWNoVW5zYWZlSWdub3JlT3ZlcnJpZGVzKGUpe2NvbnN0IHM9bmV3IFNldDtmb3IoY29uc3QgdCBvZiB0aGlzLl9jaHVua3MudmFsdWVzKCkpe2NvbnN0IHI9dC5yZWFkZXIud2l0aG91dE92ZXJyaWRlcygpLmdldEN1cnNvcigpO2Zvcig7ci5uZXh0KCk7KXtjb25zdCB0PXIuZ2V0T2JqZWN0SWQoKTtzLmhhcyh0KXx8KGUocikscy5hZGQodCkpfX19fWV4cG9ydHtvIGFzIEZlYXR1cmVTb3VyY2VDaHVua1N0b3JlfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjMzL2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7QVNvdXJjZUNodW5rIGFzIGV9ZnJvbVwiLi9BU291cmNlQ2h1bmsuanNcIjtjbGFzcyByIGV4dGVuZHMgZXtjb25zdHJ1Y3RvcihlKXtzdXBlcigpLHRoaXMuX3JlYWRlcj1lLHRoaXMuY2h1bmtJZD1cInN0cmVhbS1jaHVua1wiLHRoaXMubm9ybWFsaXplZENodW5rSWQ9XCJzdHJlYW0tY2h1bmtcIn1nZXQgcmVhZGVyKCl7cmV0dXJuIHRoaXMuX3JlYWRlcn1nZXQgZmlyc3QoKXtyZXR1cm4hMH1nZXQgZW5kKCl7cmV0dXJuITB9Z2V0IHF1ZXJ5SW5mbygpe3JldHVybnt0eXBlOlwic3RyZWFtXCIsY2h1bmtJZDp0aGlzLmNodW5rSWQsc2l6ZTp0aGlzLnNpemUoKSxlbmQ6dGhpcy5lbmR9fWdldCBpc1RpbGVkKCl7cmV0dXJuITF9Z2V0VGlsZVJlYWRlcihlKXtjb25zdCByPXRoaXMucXVlcnlGZWF0dXJlc0luQm91bmRzKGUuYm91bmRzKTtyZXR1cm4gci5zZXRUcmFuc2Zvcm1Gb3JEaXNwbGF5KGUudHJhbnNmb3JtKSxyfX1leHBvcnR7ciBhcyBTdHJlYW1Tb3VyY2VDaHVua307XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4zMy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0IGhhcyBmcm9tXCIuLi8uLi8uLi8uLi8uLi8uLi8uLi9jb3JlL2hhcy5qc1wiO2ltcG9ydCB0IGZyb21cIi4uLy4uLy4uLy4uLy4uLy4uLy4uL2NvcmUvd29ya2Vycy9Db25uZWN0aW9uLmpzXCI7aW1wb3J0e3RvUXVhbnRpemF0aW9uVHJhbnNmb3JtIGFzIGV9ZnJvbVwiLi4vLi4vLi4vLi4vLi4vLi4vLi4vZ2VvbWV0cnkvc3VwcG9ydC9xdWFudGl6YXRpb25VdGlscy5qc1wiO2ltcG9ydHtjb252ZXJ0RnJvbUZlYXR1cmVTZXQgYXMgcixxdWFudGl6ZU9wdGltaXplZEZlYXR1cmVTZXQgYXMgYX1mcm9tXCIuLi8uLi8uLi8uLi8uLi8uLi8uLi9sYXllcnMvZ3JhcGhpY3MvZmVhdHVyZUNvbnZlcnNpb25VdGlscy5qc1wiO2ltcG9ydHtxdWVyeU9wdGltaXplZEZlYXR1cmVTZXQgYXMgc31mcm9tXCIuLi8uLi8uLi8uLi8uLi8uLi8uLi9sYXllcnMvb2djL29nY0ZlYXR1cmVVdGlscy5qc1wiO2ltcG9ydHtleGVjdXRlUXVlcnlQQkZCdWZmZXIgYXMgaSxleGVjdXRlUXVlcnkgYXMgb31mcm9tXCIuLi8uLi8uLi8uLi8uLi8uLi8uLi9yZXN0L3F1ZXJ5L29wZXJhdGlvbnMvcXVlcnkuanNcIjtpbXBvcnR7RmVhdHVyZVNldFJlYWRlckpTT04gYXMgbn1mcm9tXCIuLi8uLi8uLi9zdXBwb3J0L0ZlYXR1cmVTZXRSZWFkZXJKU09OLmpzXCI7aW1wb3J0e0ZlYXR1cmVTZXRSZWFkZXJQQkYgYXMgdX1mcm9tXCIuLi8uLi8uLi9zdXBwb3J0L0ZlYXR1cmVTZXRSZWFkZXJQQkYuanNcIjtjbGFzcyBje2NvbnN0cnVjdG9yKHQsZSl7dGhpcy5zZXJ2aWNlPXQsdGhpcy5fbWV0YWRhdGE9ZX1kZXN0cm95KCl7fX1mdW5jdGlvbiBtKHQsZSl7c3dpdGNoKHQudHlwZSl7Y2FzZVwibWVtb3J5XCI6cmV0dXJuIG5ldyBmKHQsZSk7Y2FzZVwib2djXCI6cmV0dXJuIG5ldyB5KHQsZSk7Y2FzZVwiZmVhdHVyZS1zZXJ2aWNlXCI6cmV0dXJuIHQucXVlcnlNZXRhZGF0YS5zdXBwb3J0c0Zvcm1hdFBCRiYmaGFzKFwiZmVhdHVyZWxheWVyLXBiZlwiKT9uZXcgbCh0LGUpOm5ldyBkKHQsZSl9fWFzeW5jIGZ1bmN0aW9uIHAoZSl7Y29uc3Qgcj1uZXcgdDtyZXR1cm4gYXdhaXQgci5vcGVuKGUse30pLHJ9Y2xhc3MgZiBleHRlbmRzIGN7Y29uc3RydWN0b3IodCxlKXtzdXBlcih0LGUpLHRoaXMuX3BvcnRzT3Blbj1wKHQuc291cmNlKS50aGVuKCh0PT50aGlzLmNsaWVudD10KSl9ZGVzdHJveSgpe3RoaXMuY2xpZW50LmNsb3NlKCksdGhpcy5jbGllbnQ9bnVsbH1hc3luYyBleGVjdXRlUXVlcnkodCxlKXthd2FpdCB0aGlzLl9wb3J0c09wZW47Y29uc3Qgcj1hd2FpdCB0aGlzLmNsaWVudC5pbnZva2UoXCJxdWVyeUZlYXR1cmVzXCIsdC50b0pTT04oKSxlKTtyZXR1cm4gbi5mcm9tRmVhdHVyZVNldChyLHRoaXMuX21ldGFkYXRhKX19Y2xhc3MgbCBleHRlbmRzIGN7YXN5bmMgZXhlY3V0ZVF1ZXJ5KHQsZSl7Y29uc3R7ZGF0YTpyfT1hd2FpdCBpKHRoaXMuc2VydmljZS5zb3VyY2UsdCxlKSxhPSF0LnF1YW50aXphdGlvblBhcmFtZXRlcnM7cmV0dXJuIHUuZnJvbUJ1ZmZlcihyLHRoaXMuX21ldGFkYXRhLGEpfX1jbGFzcyBkIGV4dGVuZHMgY3thc3luYyBleGVjdXRlUXVlcnkodCxzKXtjb25zdHtzb3VyY2U6aSxxdWVyeU1ldGFkYXRhOnV9PXRoaXMuc2VydmljZTtpZihudWxsIT10LnF1YW50aXphdGlvblBhcmFtZXRlcnMmJiF1LnN1cHBvcnRzUXVhbnRpemF0aW9uKXtjb25zdCB1PXQuY2xvbmUoKSxjPWUodS5xdWFudGl6YXRpb25QYXJhbWV0ZXJzKTt1LnF1YW50aXphdGlvblBhcmFtZXRlcnM9bnVsbDtjb25zdHtkYXRhOm19PWF3YWl0IG8oaSx1LHRoaXMuX21ldGFkYXRhLnNwYXRpYWxSZWZlcmVuY2UscykscD1yKG0sdGhpcy5fbWV0YWRhdGEuZmVhdHVyZUlkSW5mbyk7cmV0dXJuIGEoYyxwKSxuLmZyb21PcHRpbWl6ZWRGZWF0dXJlU2V0KHAsdGhpcy5fbWV0YWRhdGEpfWNvbnN0e2RhdGE6Y309YXdhaXQgbyhpLHQsdGhpcy5fbWV0YWRhdGEuc3BhdGlhbFJlZmVyZW5jZSxzKTtyZXR1cm5cImVzcmlHZW9tZXRyeVBvaW50XCI9PT10aGlzLl9tZXRhZGF0YS5nZW9tZXRyeVR5cGUmJihjLmZlYXR1cmVzPWMuZmVhdHVyZXM/LmZpbHRlcigodD0+e2lmKG51bGwhPXQuZ2VvbWV0cnkpe2NvbnN0IGU9dC5nZW9tZXRyeTtyZXR1cm4gTnVtYmVyLmlzRmluaXRlKGUueCkmJk51bWJlci5pc0Zpbml0ZShlLnkpfXJldHVybiEwfSkpKSxuLmZyb21GZWF0dXJlU2V0KGMsdGhpcy5fbWV0YWRhdGEpfX1jbGFzcyB5IGV4dGVuZHMgY3thc3luYyBleGVjdXRlUXVlcnkodCxyKXtpZih0LnF1YW50aXphdGlvblBhcmFtZXRlcnMmJiF0aGlzLnNlcnZpY2UucXVlcnlNZXRhZGF0YS5zdXBwb3J0c1F1YW50aXphdGlvbil7Y29uc3QgaT10LmNsb25lKCksbz1lKGkucXVhbnRpemF0aW9uUGFyYW1ldGVycyk7aS5xdWFudGl6YXRpb25QYXJhbWV0ZXJzPW51bGw7Y29uc3QgdT1hd2FpdCBzKHRoaXMuc2VydmljZS5zb3VyY2UsdCxyKTtyZXR1cm4gYShvLHUpLG4uZnJvbU9wdGltaXplZEZlYXR1cmVTZXQodSx0aGlzLl9tZXRhZGF0YSl9Y29uc3QgaT1hd2FpdCBzKHRoaXMuc2VydmljZS5zb3VyY2UsdCxyKTtyZXR1cm4gbi5mcm9tT3B0aW1pemVkRmVhdHVyZVNldChpLHRoaXMuX21ldGFkYXRhKX19ZXhwb3J0e2MgYXMgU291cmNlQWRhcHRlcixtIGFzIGNyZWF0ZVF1ZXJ5QWRhcHRlcn07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4zMy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0IHIgZnJvbVwiLi4vLi4vLi4vLi4vLi4vLi4vLi4vY29yZS9FcnJvci5qc1wiO2ltcG9ydHt0aHJvd0lmQWJvcnRlZCBhcyBlfWZyb21cIi4uLy4uLy4uLy4uLy4uLy4uLy4uL2NvcmUvcHJvbWlzZVV0aWxzLmpzXCI7aW1wb3J0e0ZlYXR1cmVTbmFwc2hvdFNvdXJjZUNodW5rIGFzIG59ZnJvbVwiLi4vY2h1bmtzL0ZlYXR1cmVTbmFwc2hvdFNvdXJjZUNodW5rLmpzXCI7YXN5bmMgZnVuY3Rpb24gbyhlLG4sbyxhPXt9KXtjb25zdCBzPShhd2FpdCBQcm9taXNlLmFsbFNldHRsZWQoby5tYXAoKHI9PnQoZSxuLHIsYSkpKSkpLmZpbHRlcigocj0+XCJyZWplY3RlZFwiPT09ci5zdGF0dXMpKS5tYXAoKHI9PnIucmVhc29uKSk7aWYocy5sZW5ndGgpdGhyb3cgbmV3IHIoXCJmZWF0dXJlbGF5ZXItcXVlcnlcIixcIkVuY291bnRlcmVkIGVycm9ycyB3aGVuIGRvd25sb2FkaW5nIGRhdGFcIix7ZXJyb3JzOnN9KX1hc3luYyBmdW5jdGlvbiB0KHIsbyx0LGE9e30pe2NvbnN0IHM9YCR7ci5jaHVua1ByZWZpeD8/XCJcIn0ke3QubnVtfWAsdT1hd2FpdCByLmZldGNoKHQucXVlcnksYSx7Y2h1bmtJZDpzfSksaT1uZXcgbih1LHQucXVlcnkuaW5uZXIudG9KU09OKCksdC5udW0sITEpO2kuY2h1bmtJZD1pLm5vcm1hbGl6ZWRDaHVua0lkPXMsZShhKSxvLmluc2VydChpKX1leHBvcnR7byBhcyBmZXRjaFBhZ2VzfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjMzL2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7YmFzZU9iamVjdE1lbW9yeSBhcyByfWZyb21cIi4uLy4uLy4uLy4uLy4uL2NvcmUvbWVtb3J5RXN0aW1hdGlvbnMuanNcIjtpbXBvcnR7bm9ybWFsaXplVHJhbnNmb3JtIGFzIGUscXVhbnRpemVYIGFzIHQscXVhbnRpemVZIGFzIHN9ZnJvbVwiLi4vLi4vLi4vLi4vLi4vZ2VvbWV0cnkvc3VwcG9ydC9xdWFudGl6YXRpb25VdGlscy5qc1wiO2ltcG9ydHtjb252ZXJ0VG9HZW9tZXRyeSBhcyBhfWZyb21cIi4uLy4uLy4uLy4uLy4uL2xheWVycy9ncmFwaGljcy9mZWF0dXJlQ29udmVyc2lvblV0aWxzLmpzXCI7aW1wb3J0e0ZlYXR1cmVTZXRSZWFkZXIgYXMgaX1mcm9tXCIuL0ZlYXR1cmVTZXRSZWFkZXIuanNcIjtjbGFzcyBkIGV4dGVuZHMgaXtzdGF0aWMgZnJvbShyLGUpe2lmKHIgaW5zdGFuY2VvZiB0aGlzKXtjb25zdCB0PW5ldyBTZXQoZSkscz1yLl9pbmRpY2VzLmZpbHRlcigocj0+dC5oYXMocikpKTtyZXR1cm4gbmV3IGQoci5fcmVhZGVyLHMpfXJldHVybiBuZXcgZChyLmNvcHkoKSxlKX1jb25zdHJ1Y3RvcihyLGUpe3N1cGVyKHIubWV0YWRhdGEpLHRoaXMuX2N1cnJlbnRJbmRleD0tMSx0aGlzLl9kaXNwbGF5VHJhbnNmb3JtPW51bGwsdGhpcy5fcmVhZGVyPXIsdGhpcy5faW5kaWNlcz1lfXNldFRyYW5zZm9ybUZvckRpc3BsYXkocil7Y29uc3QgdD10aGlzLl9yZWFkZXIuZ2V0SW5UcmFuc2Zvcm0oKTtpZihudWxsPT10KXJldHVybiB2b2lkKHRoaXMuX2Rpc3BsYXlUcmFuc2Zvcm09ZShyKSk7Y29uc3Qgcz1lKHQpLGE9ZShyKSxbaSxkXT1zLnNjYWxlLFtuLG9dPXMudHJhbnNsYXRlLFtoLHVdPWEuc2NhbGUsW18sbF09YS50cmFuc2xhdGUsYz1pL2gseT1kL3UscD0obi1fKS9oLG09KG8tbCkvdTt0aGlzLl9kaXNwbGF5VHJhbnNmb3JtPXtvcmlnaW5Qb3NpdGlvbjpcImxvd2VyTGVmdFwiLHNjYWxlOlsxL2MsMS95LDEsMV0sdHJhbnNsYXRlOlstcC9jLC1tL3ksMCwwXX19Z2V0SW5UcmFuc2Zvcm0oKXtyZXR1cm4gdGhpcy5fcmVhZGVyLmdldEluVHJhbnNmb3JtKCl9Z2V0IGZpZWxkcygpe3JldHVybiB0aGlzLl9yZWFkZXIuZmllbGRzfWdldCBoYXNOZXh0KCl7cmV0dXJuIHRoaXMuX2N1cnJlbnRJbmRleCsxPHRoaXMuX2luZGljZXMubGVuZ3RofWdldFNpemUoKXtyZXR1cm4gdGhpcy5faW5kaWNlcy5sZW5ndGh9Z2V0Q3Vyc29yKCl7cmV0dXJuIHRoaXMuY29weSgpfWNvcHkoKXtjb25zdCByPW5ldyBkKHRoaXMuX3JlYWRlci5jb3B5KCksdGhpcy5faW5kaWNlcyk7cmV0dXJuIHIuX2N1cnJlbnRJbmRleD10aGlzLl9jdXJyZW50SW5kZXgsci5fZGlzcGxheVRyYW5zZm9ybT10aGlzLl9kaXNwbGF5VHJhbnNmb3JtLHIuX3Byb2Nlc3NvckF0dHJpYnV0ZXM9dGhpcy5fcHJvY2Vzc29yQXR0cmlidXRlcyxyfWdldCBjb250ZXh0VGltZVpvbmUoKXtyZXR1cm4gdGhpcy5fcmVhZGVyLmNvbnRleHRUaW1lWm9uZX1zZXQgY29udGV4dFRpbWVab25lKHIpe3RoaXMuX3JlYWRlci5jb250ZXh0VGltZVpvbmU9cn1nZXQgdXNlZE1lbW9yeSgpe3JldHVybiByK3RoaXMuX3JlYWRlci51c2VkTWVtb3J5fXNldFByb2Nlc3NvckF0dHJpYnV0ZXMocil7dGhpcy5fcHJvY2Vzc29yQXR0cmlidXRlcz1PYmplY3QuYXNzaWduKHRoaXMuX3Byb2Nlc3NvckF0dHJpYnV0ZXM/P3t9LHIpfV9uZXh0SW5kZXgoKXtyZXR1cm4rK3RoaXMuX2N1cnJlbnRJbmRleDx0aGlzLl9pbmRpY2VzLmxlbmd0aCYmKHRoaXMuX3JlYWRlci5zZXRJbmRleCh0aGlzLl9pbmRpY2VzW3RoaXMuX2N1cnJlbnRJbmRleF0pLCEwKX1uZXh0KCl7Zm9yKDt0aGlzLl9uZXh0SW5kZXgoKSYmIXRoaXMuX3JlYWRlci5fZ2V0RXhpc3RzKCk7KTtyZXR1cm4gdGhpcy5fY3VycmVudEluZGV4PHRoaXMuX2luZGljZXMubGVuZ3RofXJlYWRYRm9yRGlzcGxheSgpe3JldHVybiB0aGlzLl9kaXNwbGF5VHJhbnNmb3JtP3QodGhpcy5fZGlzcGxheVRyYW5zZm9ybSx0aGlzLl9yZWFkZXIucmVhZFhGb3JEaXNwbGF5KCkpOnRoaXMuX3JlYWRlci5yZWFkWEZvckRpc3BsYXkoKX1yZWFkWUZvckRpc3BsYXkoKXtyZXR1cm4gdGhpcy5fZGlzcGxheVRyYW5zZm9ybT9zKHRoaXMuX2Rpc3BsYXlUcmFuc2Zvcm0sdGhpcy5fcmVhZGVyLnJlYWRZRm9yRGlzcGxheSgpKTp0aGlzLl9yZWFkZXIucmVhZFlGb3JEaXNwbGF5KCl9cmVhZEdlb21ldHJ5Rm9yRGlzcGxheSgpe3JldHVybiB0aGlzLl9kaXNwbGF5VHJhbnNmb3JtP3RoaXMuX3JlYWRlci5yZWFkR2VvbWV0cnlGb3JEaXNwbGF5VHJhbnNmb3JtZWQodGhpcy5fZGlzcGxheVRyYW5zZm9ybSk6dGhpcy5fcmVhZGVyLnJlYWRHZW9tZXRyeUZvckRpc3BsYXkoKX1yZWFkQ2VudHJvaWRGb3JEaXNwbGF5KCl7Y29uc3Qgcj10aGlzLl9yZWFkZXIucmVhZENlbnRyb2lkRm9yRGlzcGxheSgpPy5jbG9uZSgpO2lmKHIpe2NvbnN0W2UsYV09ci5jb29yZHM7dGhpcy5fZGlzcGxheVRyYW5zZm9ybT8oci5jb29yZHNbMF09dCh0aGlzLl9kaXNwbGF5VHJhbnNmb3JtLGUpLHIuY29vcmRzWzFdPXModGhpcy5fZGlzcGxheVRyYW5zZm9ybSxhKSk6KHIuY29vcmRzWzBdPWUsci5jb29yZHNbMV09YSl9cmV0dXJuIHJ9Z2V0IGdlb21ldHJ5VHlwZSgpe3JldHVybiB0aGlzLl9yZWFkZXIuZ2VvbWV0cnlUeXBlfWdldCBoYXNGZWF0dXJlcygpe3JldHVybiB0aGlzLl9yZWFkZXIuaGFzRmVhdHVyZXN9Z2V0IGV4Y2VlZGVkVHJhbnNmZXJMaW1pdCgpe3JldHVybiB0aGlzLl9yZWFkZXIuZXhjZWVkZWRUcmFuc2ZlckxpbWl0fWdldCBoYXNaKCl7cmV0dXJuIHRoaXMuX3JlYWRlci5oYXNafWdldCBoYXNNKCl7cmV0dXJuIHRoaXMuX3JlYWRlci5oYXNNfXJlYWRBdHRyaWJ1dGUocixlPSExKXtjb25zdCB0PXRoaXMuX3JlYWRlci5yZWFkQXR0cmlidXRlKHIsZSk7cmV0dXJuIG51bGw9PXQmJnRoaXMuX3Byb2Nlc3NvckF0dHJpYnV0ZXM/dGhpcy5fcHJvY2Vzc29yQXR0cmlidXRlc1tyXTp0fXJlYWRBdHRyaWJ1dGVzKCl7cmV0dXJuey4uLnRoaXMuX3Byb2Nlc3NvckF0dHJpYnV0ZXM/P3t9LC4uLnRoaXMuX3JlYWRlci5yZWFkQXR0cmlidXRlcygpfX1qb2luQXR0cmlidXRlcyhyKXtyZXR1cm4gdGhpcy5fcmVhZGVyLmpvaW5BdHRyaWJ1dGVzKHIpfWdldEJvdW5kcyhyKXtyZXR1cm4gdGhpcy5fcmVhZGVyLmdldEJvdW5kcyhyKX1nZXRBdHRyaWJ1dGVIYXNoKCl7cmV0dXJuIHRoaXMuX3JlYWRlci5nZXRBdHRyaWJ1dGVIYXNoKCl9Z2V0T2JqZWN0SWQoKXtyZXR1cm4gdGhpcy5fcmVhZGVyLmdldE9iamVjdElkKCl9Z2V0RGlzcGxheUlkKCl7cmV0dXJuIHRoaXMuX3JlYWRlci5nZXREaXNwbGF5SWQoKX1zZXREaXNwbGF5SWQocil7cmV0dXJuIHRoaXMuX3JlYWRlci5zZXREaXNwbGF5SWQocil9c2V0SW5kZXgocil7cmV0dXJuIHRoaXMuX3JlYWRlci5zZXRJbmRleChyKX1nZXRJbmRleCgpe3JldHVybiB0aGlzLl9yZWFkZXIuZ2V0SW5kZXgoKX1yZWFkWFdvcmxkU3BhY2UoKXtyZXR1cm4gdGhpcy5fcmVhZGVyLnJlYWRYV29ybGRTcGFjZSgpfXJlYWRZV29ybGRTcGFjZSgpe3JldHVybiB0aGlzLl9yZWFkZXIucmVhZFlXb3JsZFNwYWNlKCl9X3JlYWRYKCl7cmV0dXJuIHRoaXMuX3JlYWRlci5yZWFkWEZvckRpc3BsYXkoKX1fcmVhZFkoKXtyZXR1cm4gdGhpcy5fcmVhZGVyLnJlYWRZRm9yRGlzcGxheSgpfV9yZWFkU2VydmVyQ2VudHJvaWQoKXtyZXR1cm4gdGhpcy5fcmVhZGVyLl9yZWFkU2VydmVyQ2VudHJvaWQoKX1yZWFkTGVnYWN5RmVhdHVyZUZvckRpc3BsYXkoKXtjb25zdCByPXRoaXMucmVhZENlbnRyb2lkRm9yRGlzcGxheSgpO3JldHVybnthdHRyaWJ1dGVzOnRoaXMucmVhZEF0dHJpYnV0ZXMoKSxnZW9tZXRyeTp0aGlzLnJlYWRMZWdhY3lHZW9tZXRyeUZvckRpc3BsYXkoKSxjZW50cm9pZDoociYme3g6ci5jb29yZHNbMF0seTpyLmNvb3Jkc1sxXX0pPz9udWxsfX1yZWFkTGVnYWN5R2VvbWV0cnlGb3JEaXNwbGF5KCl7Y29uc3Qgcj10aGlzLnJlYWRHZW9tZXRyeUZvckRpc3BsYXkoKTtyZXR1cm4gYShyLHRoaXMuZ2VvbWV0cnlUeXBlLCExLCExKX1yZWFkR2VvbWV0cnlBcmVhKCl7cmV0dXJuIHRoaXMuX2Rpc3BsYXlUcmFuc2Zvcm0/dGhpcy5fcmVhZGVyLnJlYWRHZW9tZXRyeUZvckRpc3BsYXlUcmFuc2Zvcm1lZCh0aGlzLl9kaXNwbGF5VHJhbnNmb3JtKT8uYXJlYSgpPz8wOnRoaXMuX3JlYWRlci5yZWFkR2VvbWV0cnlBcmVhKCl9cmVhZEdlb21ldHJ5V29ybGRTcGFjZSgpe3JldHVybiB0aGlzLl9yZWFkZXIucmVhZEdlb21ldHJ5V29ybGRTcGFjZSgpfV9yZWFkR2VvbWV0cnkoKXtyZXR1cm4gdGhpcy5fcmVhZGVyLl9yZWFkR2VvbWV0cnkoKX1fcmVhZEF0dHJpYnV0ZShyLGUpe3Rocm93IG5ldyBFcnJvcihcIkVycm9yOiBTaG91bGQgbm90IGJlIGNhbGxlZC4gVW5kZXJseWluZyBfcmVhZGVyIHNob3VsZCBiZSB1c2VkIGluc3RlYWRcIil9X3JlYWRBdHRyaWJ1dGVzKCl7dGhyb3cgbmV3IEVycm9yKFwiRXJyb3I6IFNob3VsZCBub3QgYmUgY2FsbGVkLiBVbmRlcmx5aW5nIF9yZWFkZXIgc2hvdWxkIGJlIHVzZWQgaW5zdGVhZFwiKX1yZWFkQXJjYWRlRmVhdHVyZSgpe3JldHVybiB0aGlzLl9yZWFkZXIucmVhZEFyY2FkZUZlYXR1cmUoKX1nZW9tZXRyeSgpe3JldHVybiB0aGlzLl9yZWFkZXIuZ2VvbWV0cnkoKX1maWVsZChyKXtyZXR1cm4gdGhpcy5fcmVhZGVyLmZpZWxkKHIpfWhhc0ZpZWxkKHIpe3JldHVybiB0aGlzLl9yZWFkZXIuaGFzRmllbGQocil9c2V0RmllbGQocixlKXtyZXR1cm4gdGhpcy5fcmVhZGVyLnNldEZpZWxkKHIsZSl9a2V5cygpe3JldHVybiB0aGlzLl9yZWFkZXIua2V5cygpfWNhc3RUb1RleHQocj0hMSl7cmV0dXJuIHRoaXMuX3JlYWRlci5jYXN0VG9UZXh0KHIpfX1leHBvcnR7ZCBhcyBGZWF0dXJlU2V0UmVhZGVySW5kaXJlY3R9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMzMvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydCBlIGZyb21cIi4uLy4uLy4uLy4uLy4uL2NvcmUvRXJyb3IuanNcIjtpbXBvcnRcIi4uLy4uLy4uLy4uLy4uL2NvcmUvaGFzLmpzXCI7aW1wb3J0IHQgZnJvbVwiLi4vLi4vLi4vLi4vLi4vY29yZS9Mb2dnZXIuanNcIjtpbXBvcnR7YXNzZXJ0SXNTb21lIGFzIHJ9ZnJvbVwiLi4vLi4vLi4vLi4vLi4vY29yZS9tYXliZS5qc1wiO2ltcG9ydHtiYXNlT2JqZWN0TWVtb3J5IGFzIHN9ZnJvbVwiLi4vLi4vLi4vLi4vLi4vY29yZS9tZW1vcnlFc3RpbWF0aW9ucy5qc1wiO2ltcG9ydCBuIGZyb21cIi4uLy4uLy4uLy4uLy4uL2NvcmUvcGJmLmpzXCI7aW1wb3J0IGEgZnJvbVwiLi4vLi4vLi4vLi4vLi4vbGF5ZXJzL2dyYXBoaWNzL09wdGltaXplZEdlb21ldHJ5LmpzXCI7aW1wb3J0e0ZlYXR1cmVTZXRDYWNoZSBhcyBpfWZyb21cIi4vRmVhdHVyZVNldENhY2hlLmpzXCI7aW1wb3J0e0ZlYXR1cmVTZXRSZWFkZXIgYXMgaH1mcm9tXCIuL0ZlYXR1cmVTZXRSZWFkZXIuanNcIjtpbXBvcnR7cGFyc2VIZWFkZXIgYXMgb31mcm9tXCIuL0ZlYXR1cmVTZXRSZWFkZXJQQkZIZWFkZXIuanNcIjtjb25zdCBkPTI2ODQzNTQ1NSx1PTEyOCxjPTEyOGUzLGw9e3NtYWxsOntkZWx0YTpuZXcgSW50MzJBcnJheSh1KSxkZWNvZGVkOm5ldyBJbnQzMkFycmF5KHUpfSxzbWFsbDY0OntkZWx0YTpuZXcgRmxvYXQ2NEFycmF5KDApLGRlY29kZWQ6bmV3IEZsb2F0NjRBcnJheSgwKX0sbGFyZ2U6e2RlbHRhOm5ldyBJbnQzMkFycmF5KGMpLGRlY29kZWQ6bmV3IEludDMyQXJyYXkoYyl9LGxhcmdlNjQ6e2RlbHRhOm5ldyBGbG9hdDY0QXJyYXkoMCksZGVjb2RlZDpuZXcgRmxvYXQ2NEFycmF5KDApfX07ZnVuY3Rpb24gZyhlLHQpe3JldHVybiB0P2U8PWwuc21hbGw2NC5kZWx0YS5sZW5ndGg/bC5zbWFsbDY0OihlPD1sLmxhcmdlNjQuZGVsdGEubGVuZ3RofHwobC5sYXJnZTY0LmRlbHRhPW5ldyBGbG9hdDY0QXJyYXkoTWF0aC5yb3VuZCgxLjI1KmUpKSxsLmxhcmdlNjQuZGVjb2RlZD1uZXcgRmxvYXQ2NEFycmF5KE1hdGgucm91bmQoMS4yNSplKSkpLGwubGFyZ2U2NCk6ZTw9bC5zbWFsbC5kZWx0YS5sZW5ndGg/bC5zbWFsbDooZTw9bC5sYXJnZS5kZWx0YS5sZW5ndGh8fChsLmxhcmdlLmRlbHRhPW5ldyBJbnQzMkFycmF5KE1hdGgucm91bmQoMS4yNSplKSksbC5sYXJnZS5kZWNvZGVkPW5ldyBJbnQzMkFycmF5KE1hdGgucm91bmQoMS4yNSplKSkpLGwubGFyZ2UpfWZ1bmN0aW9uIF8ocil7dHJ5e2NvbnN0IGU9Mix0PW5ldyBuKG5ldyBVaW50OEFycmF5KHIpLG5ldyBEYXRhVmlldyhyKSk7Zm9yKDt0Lm5leHQoKTspe2lmKHQudGFnKCk9PT1lKXJldHVybiBmKHQuZ2V0TWVzc2FnZSgpKTt0LnNraXAoKX19Y2F0Y2gocyl7Y29uc3Qgcj1uZXcgZShcInF1ZXJ5OnBhcnNpbmctcGJmXCIsXCJFcnJvciB3aGlsZSBwYXJzaW5nIEZlYXR1cmVTZXQgUEJGIHBheWxvYWRcIix7ZXJyb3I6c30pO3QuZ2V0TG9nZ2VyKFwiZXNyaS52aWV3LjJkLmxheWVycy5mZWF0dXJlcy5zdXBwb3J0LkZlYXR1cmVTZXRSZWFkZXJQQkZcIikuZXJyb3Iocil9cmV0dXJuIG51bGx9ZnVuY3Rpb24gZihlKXtjb25zdCB0PTE7Zm9yKDtlLm5leHQoKTspe2lmKGUudGFnKCk9PT10KXJldHVybiBlLmdldE1lc3NhZ2UoKTtlLnNraXAoKX1yZXR1cm4gbnVsbH1mdW5jdGlvbiB5KGUpe2NvbnN0IHQ9MSxyPTIscz0zLG49NCxhPTUsaT02LGg9NyxvPTgsZD05LHU9ZS5nZXRMZW5ndGgoKSxjPWUucG9zKCkrdTtmb3IoO2UucG9zKCk8YyYmZS5uZXh0KCk7KXN3aXRjaChlLnRhZygpKXtjYXNlIHQ6cmV0dXJuIGUuZ2V0U3RyaW5nKCk7Y2FzZSByOnJldHVybiBlLmdldEZsb2F0KCk7Y2FzZSBzOnJldHVybiBlLmdldERvdWJsZSgpO2Nhc2UgbjpyZXR1cm4gZS5nZXRTSW50MzIoKTtjYXNlIGE6cmV0dXJuIGUuZ2V0VUludDMyKCk7Y2FzZSBpOnJldHVybiBlLmdldEludDY0KCk7Y2FzZSBoOnJldHVybiBlLmdldFVJbnQ2NCgpO2Nhc2UgbzpyZXR1cm4gZS5nZXRTSW50NjQoKTtjYXNlIGQ6cmV0dXJuIGUuZ2V0Qm9vbCgpO2RlZmF1bHQ6cmV0dXJuIGUuc2tpcCgpLG51bGx9cmV0dXJuIG51bGx9ZnVuY3Rpb24gbShlLHQscixzLG4pe2lmKCFlKXJldHVybiExO3JldHVybiAwPT09dCpuLXMqciYmdCpzK3Iqbj4wfWNsYXNzIEkgZXh0ZW5kcyBoe3N0YXRpYyBmcm9tQnVmZmVyKGUsdCxyPSExKXtjb25zdCBzPXQuZ2VvbWV0cnlUeXBlLG49XyhlKSxhPW8obixcImVzcmlHZW9tZXRyeVBvaW50XCI9PT1zLHQuZmVhdHVyZUlkSW5mbyxyKTtyZXR1cm4gbmV3IEkobixhLHQscil9Y29uc3RydWN0b3IoZSx0LHIscyl7c3VwZXIociksdGhpcy5fdXNlNjRCaXQ9cyx0aGlzLl9oYXNOZXh0PSExLHRoaXMuX2lzUG9pbnRzPSExLHRoaXMuX2ZlYXR1cmVJbmRleD0tMSx0aGlzLl9mZWF0dXJlT2Zmc2V0PTAsdGhpcy5fY2FjaGU9e2FyZWE6MCx1bnF1YW50R2VvbWV0cnk6dm9pZCAwLGdlb21ldHJ5OnZvaWQgMH0sdGhpcy5fcGFyc2VDYWNoZXM9bmV3IEFycmF5LHRoaXMuX2dlb21ldHJ5VHlwZT1yLmdlb21ldHJ5VHlwZSx0aGlzLl9yZWFkZXI9ZSx0aGlzLl9oZWFkZXI9dCx0aGlzLl9oYXNOZXh0PXQuaGFzRmVhdHVyZXMsdGhpcy5faXNQb2ludHM9XCJlc3JpR2VvbWV0cnlQb2ludFwiPT09ci5nZW9tZXRyeVR5cGV9Z2V0IF9zaXplKCl7cmV0dXJuIHRoaXMuX2hlYWRlci5mZWF0dXJlQ291bnR9Z2V0IGZpZWxkcygpe3JldHVybiB0aGlzLl9oZWFkZXIuZmllbGRzfWdldCBnZW9tZXRyeVR5cGUoKXtyZXR1cm4gdGhpcy5fZ2VvbWV0cnlUeXBlfWdldCBoYXNaKCl7cmV0dXJuITF9Z2V0IGhhc00oKXtyZXR1cm4hMX1nZXQgaGFzRmVhdHVyZXMoKXtyZXR1cm4gdGhpcy5faGVhZGVyLmhhc0ZlYXR1cmVzfWdldCBoYXNOZXh0KCl7cmV0dXJuIHRoaXMuX2hhc05leHR9Z2V0IGV4Y2VlZGVkVHJhbnNmZXJMaW1pdCgpe3JldHVybiB0aGlzLl9oZWFkZXIuZXhjZWVkZWRUcmFuc2ZlckxpbWl0fWdldFNpemUoKXtyZXR1cm4gdGhpcy5fc2l6ZX1nZXRJblRyYW5zZm9ybSgpe3JldHVybiB0aGlzLl9oZWFkZXIudHJhbnNmb3JtfWdldEN1cnNvcigpe3JldHVybiB0aGlzLmNvcHkoKX1nZXRJbmRleCgpe3JldHVybiB0aGlzLl9mZWF0dXJlSW5kZXh9c2V0SW5kZXgoZSl7dGhpcy5fY2FjaGUuYXJlYT0wLHRoaXMuX2NhY2hlLnVucXVhbnRHZW9tZXRyeT12b2lkIDAsdGhpcy5fY2FjaGUuZ2VvbWV0cnk9dm9pZCAwLHRoaXMuX2ZlYXR1cmVJbmRleD1lfWdldEF0dHJpYnV0ZUhhc2goKXtsZXQgZT1cIlwiO2Zvcihjb25zdCB0IG9mIHRoaXMuX2hlYWRlci5maWVsZHMuZmllbGRzKWUrPXRoaXMuX3JlYWRBdHRyaWJ1dGVBdEluZGV4KHQuaW5kZXgpK1wiLlwiO3JldHVybiBlfWdldE9iamVjdElkKCl7aWYoMT09PXRoaXMuX2hlYWRlci5pZEZpZWxkSW5kaWNlcy5sZW5ndGgpcmV0dXJuIHRoaXMuX3JlYWRBdHRyaWJ1dGVBdEluZGV4KHRoaXMuX2hlYWRlci5pZEZpZWxkSW5kaWNlc1swXSk7Y29uc3QgZT10aGlzLl9oZWFkZXIuaWRGaWVsZEluZGljZXMubWFwKChlPT50aGlzLl9yZWFkQXR0cmlidXRlQXRJbmRleChlKSkpO3JldHVybiBKU09OLnN0cmluZ2lmeShlKX1nZXREaXNwbGF5SWQoKXtyZXR1cm4gdGhpcy5faGVhZGVyLmRpc3BsYXlJZHNbdGhpcy5fZmVhdHVyZUluZGV4XX1zZXREaXNwbGF5SWQoZSl7dGhpcy5faGVhZGVyLmRpc3BsYXlJZHNbdGhpcy5fZmVhdHVyZUluZGV4XT1lfXJlYWRHZW9tZXRyeUFyZWEoKXtyZXR1cm4gdGhpcy5fY2FjaGUuYXJlYXx8dGhpcy5fcmVhZEdlb21ldHJ5KCEwKSx0aGlzLl9jYWNoZS5hcmVhfWNvcHkoKXtjb25zdCBlPXRoaXMuX3JlYWRlci5jbG9uZSgpLHQ9bmV3IEkoZSx0aGlzLl9oZWFkZXIsdGhpcy5tZXRhZGF0YSx0aGlzLl91c2U2NEJpdCk7cmV0dXJuIHRoaXMuY29weUludG8odCksdH1uZXh0KCl7Zm9yKHRoaXMuX2NhY2hlLmFyZWE9MCx0aGlzLl9jYWNoZS51bnF1YW50R2VvbWV0cnk9dm9pZCAwLHRoaXMuX2NhY2hlLmdlb21ldHJ5PXZvaWQgMDsrK3RoaXMuX2ZlYXR1cmVJbmRleDx0aGlzLl9zaXplJiYhdGhpcy5fZ2V0RXhpc3RzKCk7KTtyZXR1cm4gdGhpcy5fZmVhdHVyZUluZGV4PHRoaXMuX3NpemV9Z2V0IHVzZWRNZW1vcnkoKXtyZXR1cm4gcysodGhpcy5fY2FjaGUuZ2VvbWV0cnk/LnVzZWRNZW1vcnk/PzApfV9yZWFkWCgpe3JldHVybiB0aGlzLl9oZWFkZXIuY2VudHJvaWRbMip0aGlzLl9mZWF0dXJlSW5kZXhdfV9yZWFkWSgpe3JldHVybiB0aGlzLl9oZWFkZXIuY2VudHJvaWRbMip0aGlzLl9mZWF0dXJlSW5kZXgrMV19X3JlYWRTZXJ2ZXJDZW50cm9pZCgpe2NvbnN0IGU9dGhpcy5faGVhZGVyLmNlbnRyb2lkWzIqdGhpcy5fZmVhdHVyZUluZGV4XSx0PXRoaXMuX2hlYWRlci5jZW50cm9pZFsyKnRoaXMuX2ZlYXR1cmVJbmRleCsxXTtyZXR1cm4gZT09PWQ/bnVsbDpuZXcgYShbXSxbZSx0XSl9X3JlYWRHZW9tZXRyeShlPSExKXtpZih2b2lkIDA9PT10aGlzLl9jYWNoZS5nZW9tZXRyeSl7bGV0IHI9bnVsbDtpZih0aGlzLl9pc1BvaW50cyl7aWYodGhpcy5faGVhZGVyLmNlbnRyb2lkWzIqdGhpcy5fZmVhdHVyZUluZGV4XT09PWQpcmV0dXJuIG51bGw7Y29uc3QgZT10aGlzLl9oZWFkZXIuY2VudHJvaWRbMip0aGlzLl9mZWF0dXJlSW5kZXhdLHQ9dGhpcy5faGVhZGVyLmNlbnRyb2lkWzIqdGhpcy5fZmVhdHVyZUluZGV4KzFdO3I9bmV3IGEoW10sW2UsdF0pfWVsc2V7Y29uc3Qgcz10aGlzLl9oZWFkZXIub2Zmc2V0cy5nZW9tZXRyeVt0aGlzLl9mZWF0dXJlSW5kZXhdLG49dGhpcy5fcmVhZGVyO2lmKDA9PT1zKXJldHVybiBudWxsO24ubW92ZShzKTt0cnl7cj1lP3RoaXMuX3BhcnNlR2VvbWV0cnlGb3JEaXNwbGF5KG4pOnRoaXMuX3BhcnNlR2VvbWV0cnkobil9Y2F0Y2godCl7cmV0dXJuIG51bGx9fXJldHVybiAwPT09cj8uY29vcmRzLmxlbmd0aCYmKHI9bnVsbCksdGhpcy5fY2FjaGUuZ2VvbWV0cnk9cixyfXJldHVybiB0aGlzLl9jYWNoZS5nZW9tZXRyeX1fcmVhZEF0dHJpYnV0ZShlLHQpe2NvbnN0IHI9dGhpcy5faGVhZGVyLmZpZWxkcy5nZXQoZSk7aWYobnVsbD09cilyZXR1cm47Y29uc3Qgcz10aGlzLl9yZWFkQXR0cmlidXRlQXRJbmRleChyLmluZGV4KSxuPXRoaXMuX2hlYWRlci5maWVsZHMuaXNEYXRlRmllbGQoci5uYW1lKTtyZXR1cm4gdD9udWxsPT1zP3M6bj9uZXcgRGF0ZShzKTpzOnN9X3JlYWRBdHRyaWJ1dGVzKCl7Y29uc3QgZT17fTtmb3IoY29uc3QgdCBvZiB0aGlzLl9oZWFkZXIuZmllbGRzLmZpZWxkcyllW3QubmFtZV09dGhpcy5fcmVhZEF0dHJpYnV0ZUF0SW5kZXgodC5pbmRleCk7cmV0dXJuIGV9Y29weUludG8oZSl7c3VwZXIuY29weUludG8oZSksZS5fZmVhdHVyZUluZGV4PXRoaXMuX2ZlYXR1cmVJbmRleCxlLl9mZWF0dXJlT2Zmc2V0PXRoaXMuX2ZlYXR1cmVPZmZzZXQsZS5faGFzTmV4dD10aGlzLl9oYXNOZXh0LGUuX3BhcnNlQ2FjaGVzPXRoaXMuX3BhcnNlQ2FjaGVzfV9yZWFkQXR0cmlidXRlQXRJbmRleChlKXtsZXQgdD10aGlzLl9wYXJzZUNhY2hlc1tlXTtpZih0fHwodD1uZXcgaSh0aGlzLmdldFNpemUoKSksdGhpcy5fcGFyc2VDYWNoZXNbZV09dCksdC5oYXModGhpcy5fZmVhdHVyZUluZGV4KSlyZXR1cm4gdC5nZXQodGhpcy5fZmVhdHVyZUluZGV4KTtjb25zdCByPXRoaXMuX2hlYWRlci5vZmZzZXRzLmF0dHJpYnV0ZXNbdGhpcy5fZmVhdHVyZUluZGV4KnRoaXMuX2hlYWRlci5maWVsZENvdW50K2VdLHM9dGhpcy5fcmVhZGVyO3MubW92ZShyKTtjb25zdCBuPXkocyk7cmV0dXJuIHQuc2V0KHRoaXMuX2ZlYXR1cmVJbmRleCxuKSxufV9yZWFkR2VvbWV0cnlEZWx0YURlY29kZWQoZT0hMSl7aWYodm9pZCAwPT09dGhpcy5fY2FjaGUudW5xdWFudEdlb21ldHJ5KXtjb25zdCB0PXRoaXMuX3JlYWRHZW9tZXRyeShlKTtpZighdClyZXR1cm4gdGhpcy5fY2FjaGUudW5xdWFudEdlb21ldHJ5PXZvaWQgMCxudWxsO2lmKCF0aGlzLmdldEluVHJhbnNmb3JtKCkpcmV0dXJuIHRoaXMuX2NhY2hlLnVucXVhbnRHZW9tZXRyeT10LHQ7Y29uc3Qgcj1nKHQuY29vcmRzLmxlbmd0aCx0aGlzLl91c2U2NEJpdCkuZGVjb2RlZCxzPXQuY2xvbmUociksbj1zLmNvb3JkcztsZXQgYT0wO2Zvcihjb25zdCBlIG9mIHMubGVuZ3Rocyl7Zm9yKGxldCB0PTE7dDxlO3QrKyl7Y29uc3QgZT0yKihhK3QpLHI9MiooYSt0LTEpO25bZV0rPW5bcl0sbltlKzFdKz1uW3IrMV19YSs9ZX1yZXR1cm4gdGhpcy5fY2FjaGUudW5xdWFudEdlb21ldHJ5PXMsc31yZXR1cm4gdGhpcy5fY2FjaGUudW5xdWFudEdlb21ldHJ5fV9wYXJzZUdlb21ldHJ5KGUpe2NvbnN0IHQ9MixyPTMscz1lLmFzVW5zYWZlKCksbj1zLmdldExlbmd0aCgpLGk9cy5wb3MoKStuLGg9W10sbz1bXTtmb3IoO3MucG9zKCk8aSYmcy5uZXh0KCk7KXN3aXRjaChzLnRhZygpKXtjYXNlIHQ6e2NvbnN0IGU9cy5nZXRVSW50MzIoKSx0PXMucG9zKCkrZTtmb3IoO3MucG9zKCk8dDspby5wdXNoKHMuZ2V0VUludDMyKCkpO2JyZWFrfWNhc2Ugcjp7Y29uc3QgZT1zLmdldFVJbnQzMigpLHQ9cy5wb3MoKStlO2ZvcihoLnB1c2gocy5nZXRTSW50NjQoKSksaC5wdXNoKHMuZ2V0U0ludDY0KCkpLHRoaXMuaGFzWiYmcy5nZXRTSW50NjQoKSx0aGlzLmhhc00mJnMuZ2V0U0ludDY0KCk7cy5wb3MoKTx0OyloLnB1c2gocy5nZXRTSW50NjQoKSksaC5wdXNoKHMuZ2V0U0ludDY0KCkpLHRoaXMuaGFzWiYmcy5nZXRTSW50NjQoKSx0aGlzLmhhc00mJnMuZ2V0U0ludDY0KCk7YnJlYWt9ZGVmYXVsdDpzLnNraXAoKX1yZXR1cm4gbmV3IGEobyxoKX1fcGFyc2VHZW9tZXRyeUZvckRpc3BsYXkoZSl7Y29uc3QgdD0yLHM9MyxuPWUuYXNVbnNhZmUoKSxpPW4uZ2V0TGVuZ3RoKCksaD1uLnBvcygpK2ksbz1bXSxkPVtdO2xldCB1PTAsYz0wLGw9bnVsbCxfPTA7Y29uc3QgZj1cImVzcmlHZW9tZXRyeVBvbHlnb25cIj09PXRoaXMuZ2VvbWV0cnlUeXBlLHk9XCJlc3JpR2VvbWV0cnlQb2x5bGluZVwiPT09dGhpcy5nZW9tZXRyeVR5cGUsST1mPzM6eT8yOjEscD1mfHx5O2Zvcig7bi5wb3MoKTxoJiZuLm5leHQoKTspc3dpdGNoKG4udGFnKCkpe2Nhc2UgdDp7Y29uc3QgZT1uLmdldFVJbnQzMigpLHQ9bi5wb3MoKStlO2Zvcig7bi5wb3MoKTx0Oyl7Y29uc3QgZT1uLmdldFVJbnQzMigpO28ucHVzaChlKSx1Kz1lfWw9ZygyKnUsdGhpcy5fdXNlNjRCaXQpLmRlbHRhO2JyZWFrfWNhc2Ugczp7bi5nZXRVSW50MzIoKTtjb25zdCBlPTIrKHRoaXMuaGFzWj8xOjApKyh0aGlzLmhhc00/MTowKTtyKGwpO2Zvcihjb25zdCB0IG9mIG8pe2lmKGMrZSp0PmwubGVuZ3RoKXtmb3IobGV0IGU9MDtlPHQ7ZSsrKW4uZ2V0U0ludDY0KCksbi5nZXRTSW50NjQoKSx0aGlzLmhhc1omJm4uZ2V0U0ludDY0KCksdGhpcy5oYXNNJiZuLmdldFNJbnQ2NCgpO2NvbnRpbnVlfWxldCByPTAscz1uLmdldFNJbnQ2NCgpLGE9bi5nZXRTSW50NjQoKTt0aGlzLmhhc1omJm4uZ2V0U0ludDY0KCksdGhpcy5oYXNNJiZuLmdldFNJbnQ2NCgpLGxbYysrXT1zLGxbYysrXT1hLHIrPTE7Zm9yKGxldCBlPTE7ZTx0O2UrKyl7Y29uc3QgZT1uLmdldFNJbnQ2NCgpLHQ9bi5nZXRTSW50NjQoKSxpPXMrZSxoPWErdDtfKz0tLjUqKGktcykqKGgrYSksdGhpcy5oYXNaJiZuLmdldFNJbnQ2NCgpLHRoaXMuaGFzTSYmbi5nZXRTSW50NjQoKSwwPT09ZSYmMD09PXR8fG0ocCxsW2MtMl0sbFtjLTFdLGUsdCk/KGxbYy0yXSs9ZSxsW2MtMV0rPXQpOihsW2MrK109ZSxsW2MrK109dCxyKz0xKSxzPWksYT1ofXI+PUk/ZC5wdXNoKHIpOmMtPXIqZX1icmVha31kZWZhdWx0Om4uc2tpcCgpfXJldHVybiB0aGlzLl9jYWNoZS5hcmVhPV8sZC5sZW5ndGg/bmV3IGEoZCxsKTpudWxsIT1sP3RoaXMuX2NyZWF0ZURlbHRhUXVhbnRpemVkRXh0cnVkZWRHZW9tZXRyeShsWzBdLGxbMV0pOm51bGx9fWV4cG9ydHtJIGFzIEZlYXR1cmVTZXRSZWFkZXJQQkZ9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMzMvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtnZXRGZWF0dXJlSWRJbmZvRmllbGROYW1lcyBhcyBlfWZyb21cIi4uLy4uLy4uLy4uLy4uL2xheWVycy9ncmFwaGljcy9kYXRhL0ZlYXR1cmVJZEluZm8uanNcIjtpbXBvcnQgdCBmcm9tXCIuLi8uLi8uLi8uLi8uLi9sYXllcnMvc3VwcG9ydC9GaWVsZHNJbmRleC5qc1wiO2ltcG9ydHtwYXJzZUZpZWxkIGFzIHMscGFyc2VUcmFuc2Zvcm0gYXMgcn1mcm9tXCIuLi8uLi8uLi8uLi8uLi9yZXN0L3F1ZXJ5L29wZXJhdGlvbnMvcGJmRmVhdHVyZVNlcnZpY2VQYXJzZXIuanNcIjtjb25zdCBuPTI2ODQzNTQ1NTtjbGFzcyBve2NvbnN0cnVjdG9yKCl7dGhpcy5oYXNGZWF0dXJlcz0hMSx0aGlzLmV4Y2VlZGVkVHJhbnNmZXJMaW1pdD0hMSx0aGlzLmZpZWxkQ291bnQ9MCx0aGlzLmZlYXR1cmVDb3VudD0wLHRoaXMuaWRGaWVsZEluZGljZXM9W10sdGhpcy52ZXJ0ZXhDb3VudD0wLHRoaXMub2Zmc2V0cz17YXR0cmlidXRlczpuZXcgQXJyYXksZ2VvbWV0cnk6bmV3IEFycmF5fSx0aGlzLmNlbnRyb2lkPW5ldyBBcnJheX19ZnVuY3Rpb24gYShhLGksYyxmPSExKXtjb25zdCBkPTksdT0xMixwPTEzLGc9MTUsbD1hLmFzVW5zYWZlKCksaD1sLnBvcygpLHk9bmV3IG87bGV0IG09MCx3PTA7Y29uc3Qgaz0xLHg9MixJPTQsYj0zO2xldCBBPW51bGwsTD0hMTtjb25zdCBGPVtdO2Zvcig7bC5uZXh0KCk7KXN3aXRjaChsLnRhZygpKXtjYXNlIHU6QT1sLnByb2Nlc3NNZXNzYWdlKHIpO2JyZWFrO2Nhc2UgZDppZih5LmV4Y2VlZGVkVHJhbnNmZXJMaW1pdD1sLmdldEJvb2woKSx5LmV4Y2VlZGVkVHJhbnNmZXJMaW1pdCl7eS5vZmZzZXRzLmdlb21ldHJ5PWY/bmV3IEZsb2F0NjRBcnJheSg4ZTMpOm5ldyBJbnQzMkFycmF5KDhlMykseS5jZW50cm9pZD1mP25ldyBGbG9hdDY0QXJyYXkoMTZlMyk6bmV3IEludDMyQXJyYXkoMTZlMyk7Zm9yKGxldCBlPTA7ZTx5LmNlbnRyb2lkLmxlbmd0aDtlKyspeS5jZW50cm9pZFtlXT1ufWJyZWFrO2Nhc2UgcDp7Y29uc3QgZT1sLnByb2Nlc3NNZXNzYWdlKHMpO2UuaW5kZXg9bSsrLEYucHVzaChlKTticmVha31jYXNlIGc6e2NvbnN0IGU9bC5nZXRMZW5ndGgoKSx0PWwucG9zKCkrZTtpZigheS5leGNlZWRlZFRyYW5zZmVyTGltaXQpe2NvbnN0IGU9eS5vZmZzZXRzLmdlb21ldHJ5LHQ9eS5jZW50cm9pZDtlLnB1c2goMCksdC5wdXNoKG4pLHQucHVzaChuKX0hTCYmeS5leGNlZWRlZFRyYW5zZmVyTGltaXQmJihMPSEwLHkub2Zmc2V0cy5hdHRyaWJ1dGVzPWY/bmV3IEZsb2F0NjRBcnJheSg4ZTMqbSk6bmV3IFVpbnQzMkFycmF5KDhlMyptKSk7bGV0IHM9dyptO2Zvcig7bC5wb3MoKTx0JiZsLm5leHQoKTspc3dpdGNoKGwudGFnKCkpe2Nhc2Ugazp7aWYoTCl5Lm9mZnNldHMuYXR0cmlidXRlc1tzKytdPWwucG9zKCk7ZWxzZXt5Lm9mZnNldHMuYXR0cmlidXRlcy5wdXNoKGwucG9zKCkpfWNvbnN0IGU9bC5nZXRMZW5ndGgoKTtsLnNraXBMZW4oZSk7YnJlYWt9Y2FzZSB4OmlmKGkpe2NvbnN0IGU9bC5nZXRMZW5ndGgoKSx0PWwucG9zKCkrZTtmb3IoO2wucG9zKCk8dCYmbC5uZXh0KCk7KXN3aXRjaChsLnRhZygpKXtjYXNlIGI6e2wuZ2V0VUludDMyKCk7Y29uc3QgZT1sLmdldFNJbnQ2NCgpLHQ9bC5nZXRTSW50NjQoKTt5LmNlbnRyb2lkWzIqd109ZSx5LmNlbnRyb2lkWzIqdysxXT10O2JyZWFrfWRlZmF1bHQ6bC5za2lwKCl9fWVsc2V7eS5vZmZzZXRzLmdlb21ldHJ5W3ddPWwucG9zKCk7Y29uc3QgZT1sLmdldExlbmd0aCgpO3kudmVydGV4Q291bnQrPWUsbC5za2lwTGVuKGUpfWJyZWFrO2Nhc2UgSTp7Y29uc3QgZT1sLmdldExlbmd0aCgpLHQ9bC5wb3MoKStlO2Zvcig7bC5wb3MoKTx0JiZsLm5leHQoKTspc3dpdGNoKGwudGFnKCkpe2Nhc2UgYjp7bC5nZXRVSW50MzIoKTtjb25zdCBlPWwuZ2V0U0ludDY0KCksdD1sLmdldFNJbnQ2NCgpO3kuY2VudHJvaWRbMip3XT1lLHkuY2VudHJvaWRbMip3KzFdPXQ7YnJlYWt9ZGVmYXVsdDpsLnNraXAoKX1icmVha31kZWZhdWx0Omwuc2tpcCgpfXcrKyx5Lmhhc0ZlYXR1cmVzPSEwO2JyZWFrfWRlZmF1bHQ6bC5za2lwKCl9eS5maWVsZHM9bmV3IHQoRikseS5mZWF0dXJlQ291bnQ9dyx5LmZpZWxkQ291bnQ9bTtjb25zdCBDPWUoYyk7cmV0dXJuIHkuaWRGaWVsZEluZGljZXM9QXJyYXkuZnJvbShDLChlPT55LmZpZWxkcy5nZXQoZSk/LmluZGV4KSkseS50cmFuc2Zvcm09QSx5LmRpc3BsYXlJZHM9bmV3IFVpbnQzMkFycmF5KHkuZmVhdHVyZUNvdW50KSx5Lmdyb3VwSWRzPW5ldyBVaW50MTZBcnJheSh5LmZlYXR1cmVDb3VudCksbC5tb3ZlKGgpLHl9ZXhwb3J0e28gYXMgRmVhdHVyZVNldEhlYWRlcixhIGFzIHBhcnNlSGVhZGVyfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjMzL2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnRcIi4uLy4uLy4uLy4uLy4uL2NvcmUvaGFzLmpzXCI7aW1wb3J0e2Jhc2VPYmplY3RNZW1vcnkgYXMgZX1mcm9tXCIuLi8uLi8uLi8uLi8uLi9jb3JlL21lbW9yeUVzdGltYXRpb25zLmpzXCI7aW1wb3J0IHQgZnJvbVwiLi4vLi4vLi4vLi4vLi4vbGF5ZXJzL2dyYXBoaWNzL09wdGltaXplZEdlb21ldHJ5LmpzXCI7aW1wb3J0e0ZlYXR1cmVTZXRSZWFkZXIgYXMgcn1mcm9tXCIuL0ZlYXR1cmVTZXRSZWFkZXIuanNcIjtjbGFzcyBuIGV4dGVuZHMgcntjb25zdHJ1Y3Rvcih0LHIsbixzLGksZD1uZXcgVWludDMyQXJyYXkocy5zaXplKCkpKXtzdXBlcih0KSx0aGlzLl9maWVsZHM9cix0aGlzLl9nZW9tZXRyeUluZm89bix0aGlzLl9pbm5lcj1zLHRoaXMuX2NodW5rSWQ9aSx0aGlzLl9kaXNwbGF5SWRzPWQsdGhpcy5faW5kZXg9LTEsdGhpcy51c2VkTWVtb3J5PWUsdGhpcy5fc2l6ZT10aGlzLl9pbm5lci5zaXplKCk7Y29uc3Qgbz10LmZlYXR1cmVJZEluZm87XCJvYmplY3QtaWRcIj09PW8udHlwZSYmKHRoaXMuX29iamVjdElkRmllbGRJbmRleD10aGlzLl9maWVsZHMuZ2V0KG8uZmllbGROYW1lKT8uaW5kZXgpLHRoaXMuX2NodW5rSWQ+NjU1MzUmJmNvbnNvbGUuZXJyb3IoXCJFeGNlZWRlZCBtYXggYWxsb3dlZCBwYXJxdWV0IHJlYWRlciBzaXplXCIpfWRlc3Ryb3koKXtzdXBlci5kZXN0cm95KCksdGhpcy5faW5uZXIuZnJlZSgpfWdldCBmaWVsZHMoKXtyZXR1cm4gdGhpcy5fZmllbGRzfWdldCBnZW9tZXRyeVR5cGUoKXtyZXR1cm4gdGhpcy5fZ2VvbWV0cnlJbmZvLmdlb21ldHJ5VHlwZX1nZXQgaGFzRmVhdHVyZXMoKXtyZXR1cm4hMH1nZXQgaGFzTmV4dCgpe3Rocm93IG5ldyBFcnJvcihcIk1ldGhvZCBub3QgaW1wbGVtZW50ZWQuXCIpfWdldCBleGNlZWRlZFRyYW5zZmVyTGltaXQoKXtyZXR1cm4hMX1nZXQgaGFzWigpe3JldHVybiExfWdldCBoYXNNKCl7cmV0dXJuITF9Z2V0SW5UcmFuc2Zvcm0oKXtyZXR1cm4gbnVsbH1nZXRTaXplKCl7cmV0dXJuIHRoaXMuX3NpemV9Z2V0Q3Vyc29yKCl7cmV0dXJuIHRoaXMuY29weSgpfWdldEF0dHJpYnV0ZUhhc2goKXtsZXQgZT1cIlwiO2Zvcihjb25zdCB0IG9mIHRoaXMuZmllbGRzLmZpZWxkcyllKz10aGlzLl9yZWFkQXR0cmlidXRlKHQubmFtZSwhMSkrXCIuXCI7cmV0dXJuIGV9Z2V0T2JqZWN0SWQoKXtyZXR1cm4gbnVsbCE9dGhpcy5fb2JqZWN0SWRGaWVsZEluZGV4P3RoaXMuX2lubmVyLnJlYWRBdHRyaWJ1dGUodGhpcy5faW5kZXgsdGhpcy5fb2JqZWN0SWRGaWVsZEluZGV4KTp0aGlzLl9pbmRleDw8MTZ8dGhpcy5fY2h1bmtJZH1nZXREaXNwbGF5SWQoKXtyZXR1cm4gdGhpcy5fZGlzcGxheUlkc1t0aGlzLl9pbmRleF19c2V0RGlzcGxheUlkKGUpe3RoaXMuX2Rpc3BsYXlJZHNbdGhpcy5faW5kZXhdPWV9c2V0SW5kZXgoZSl7dGhpcy5faW5kZXg9ZX1nZXRCb3VuZHNYTWluKCl7cmV0dXJuIHRoaXMuX2lubmVyLmJvdW5kc1hNaW4odGhpcy5faW5kZXgpfWdldEJvdW5kc1lNaW4oKXtyZXR1cm4gdGhpcy5faW5uZXIuYm91bmRzWU1pbih0aGlzLl9pbmRleCl9Z2V0Qm91bmRzWE1heCgpe3JldHVybiB0aGlzLl9pbm5lci5ib3VuZHNYTWF4KHRoaXMuX2luZGV4KX1nZXRCb3VuZHNZTWF4KCl7cmV0dXJuIHRoaXMuX2lubmVyLmJvdW5kc1lNYXgodGhpcy5faW5kZXgpfXNldEJvdW5kc1hNaW4oZSl7dGhyb3cgbmV3IEVycm9yKFwiSW50ZXJuYWxFcnJvcjogU2V0dGluZyBib3VuZHMgaXMgdW5zdXBwb3J0ZWRcIil9c2V0Qm91bmRzWU1pbihlKXt0aHJvdyBuZXcgRXJyb3IoXCJJbnRlcm5hbEVycm9yOiBTZXR0aW5nIGJvdW5kcyBpcyB1bnN1cHBvcnRlZFwiKX1zZXRCb3VuZHNYTWF4KGUpe3Rocm93IG5ldyBFcnJvcihcIkludGVybmFsRXJyb3I6IFNldHRpbmcgYm91bmRzIGlzIHVuc3VwcG9ydGVkXCIpfXNldEJvdW5kc1lNYXgoZSl7dGhyb3cgbmV3IEVycm9yKFwiSW50ZXJuYWxFcnJvcjogU2V0dGluZyBib3VuZHMgaXMgdW5zdXBwb3J0ZWRcIil9Z2V0SW5kZXgoKXtyZXR1cm4gdGhpcy5faW5kZXh9bmV4dCgpe2Zvcig7Kyt0aGlzLl9pbmRleDx0aGlzLl9zaXplJiYhdGhpcy5fZ2V0RXhpc3RzKCk7KTtyZXR1cm4gdGhpcy5faW5kZXg8dGhpcy5fc2l6ZX1yZWFkR2VvbWV0cnlBcmVhKCl7cmV0dXJuIHRoaXMucmVhZEdlb21ldHJ5Rm9yRGlzcGxheSgpPy5hcmVhKCk/PzB9Y29weSgpe2NvbnN0IGU9bmV3IG4odGhpcy5tZXRhZGF0YSx0aGlzLl9maWVsZHMsdGhpcy5fZ2VvbWV0cnlJbmZvLHRoaXMuX2lubmVyLHRoaXMuX2NodW5rSWQsdGhpcy5fZGlzcGxheUlkcyk7cmV0dXJuIHRoaXMuY29weUludG8oZSksZX1jb3B5SW50byhlKXtzdXBlci5jb3B5SW50byhlKSxlLl9pbmRleD10aGlzLl9pbmRleH1yZWFkR2VvbWV0cnlGb3JEaXNwbGF5VHJhbnNmb3JtZWQoZSl7Y29uc3RbcixuXT1lLnRyYW5zbGF0ZSxbcyxpXT1lLnNjYWxlLGQ9dGhpcy5faW5uZXIucmVhZEdlb21ldHJ5VHJhbnNmb3JtZWQodGhpcy5faW5kZXgscixuLHMsaSk7cmV0dXJuIGQ/bmV3IHQoZC5yZWFkTGVuZ3Roc1Vuc2FmZSgpLGQucmVhZENvb3Jkc1Vuc2FmZSgpKTpudWxsfV9yZWFkR2VvbWV0cnkoZSl7Y29uc3Qgcj10aGlzLl9pbm5lci5yZWFkQ29vcmRzKHRoaXMuX2luZGV4KSxuPXRoaXMuX2lubmVyLnJlYWRMZW5ndGhzKHRoaXMuX2luZGV4KTtyZXR1cm4gciYmbj9uZXcgdChuLHIpOm51bGx9X3JlYWRYKCl7cmV0dXJuIHRoaXMuX3JlYWRHZW9tZXRyeSgpPy5jb29yZHNbMF19X3JlYWRZKCl7cmV0dXJuIHRoaXMuX3JlYWRHZW9tZXRyeSgpPy5jb29yZHNbMV19X3JlYWRTZXJ2ZXJDZW50cm9pZCgpe3JldHVybiBudWxsfV9yZWFkQXR0cmlidXRlKGUsdCl7Y29uc3Qgcj10aGlzLmZpZWxkcy5nZXQoZSk7aWYoIXIpcmV0dXJuO2lmKG51bGw9PXIuaW5kZXgpcmV0dXJuIHRoaXMuZ2V0T2JqZWN0SWQoKTtjb25zdCBuPXRoaXMuX2lubmVyLnJlYWRBdHRyaWJ1dGUodGhpcy5faW5kZXgsci5pbmRleCk7aWYobnVsbD09bilyZXR1cm4gbjtjb25zdCBzPXRoaXMuZmllbGRzLmlzRGF0ZUZpZWxkKHIubmFtZSk7cmV0dXJuIHQ/bnVsbD09bj9uOnM/bmV3IERhdGUobik6bjpufV9yZWFkQXR0cmlidXRlcygpe2NvbnN0IGU9e307Zm9yKGNvbnN0IHQgb2YgdGhpcy5fZmllbGRzLmZpZWxkcyludWxsIT10LmluZGV4P3RoaXMuX2lubmVyLmhhc0ZpZWxkKHQuaW5kZXgpJiYoZVt0Lm5hbWVdPXRoaXMuX3JlYWRBdHRyaWJ1dGUodC5uYW1lLCExKSk6ZS5fX09CSkVDVElEPXRoaXMuZ2V0T2JqZWN0SWQoKTtyZXR1cm4gZX19ZXhwb3J0e24gYXMgRmVhdHVyZVNldFJlYWRlclBhcnF1ZXR9O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9