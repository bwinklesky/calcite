export const __webpack_id__ = "vendors-node_modules_arcgis_core_views_3d_layers_i3s_I3SMeshViewFilter_js-node_modules_arcgis-453604";
export const __webpack_ids__ = ["vendors-node_modules_arcgis_core_views_3d_layers_i3s_I3SMeshViewFilter_js-node_modules_arcgis-453604"];
export const __webpack_modules__ = {

/***/ "./node_modules/@arcgis/core/core/maybeUpdating.js":
/*!*********************************************************!*\
  !*** ./node_modules/@arcgis/core/core/maybeUpdating.js ***!
  \*********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   isUpdating: () => (/* binding */ u),
/* harmony export */   unwrapUpdating: () => (/* binding */ t),
/* harmony export */   updating: () => (/* binding */ n)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
const n="updating";function t(n){return"updating"===n?null:n}function u(n){return"updating"===n}


/***/ }),

/***/ "./node_modules/@arcgis/core/layers/support/timeSupport.js":
/*!*****************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/support/timeSupport.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   combineTimeExtent: () => (/* binding */ i)
/* harmony export */ });
/* harmony import */ var _support_timeUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../support/timeUtils.js */ "./node_modules/@arcgis/core/support/timeUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
function i(i,n,s){if(null==i?.timeInfo)return null;const{datesInUnknownTimezone:l=!1,timeOffset:o,useViewTime:m}=i;let u=i.timeExtent;l&&(u=(0,_support_timeUtils_js__WEBPACK_IMPORTED_MODULE_0__.toLocalTimeExtent)(u));let r=m?n&&u?n.intersection(u):n||u:u;return!r||r.isEmpty||r.isAllTime?r:(o&&(r=r.offset(-o.value,o.unit)),l&&(r=(0,_support_timeUtils_js__WEBPACK_IMPORTED_MODULE_0__.toUTCTimeExtent)(r)),r.equals(s)?s:r)}


/***/ }),

/***/ "./node_modules/@arcgis/core/support/timeUtils.js":
/*!********************************************************!*\
  !*** ./node_modules/@arcgis/core/support/timeUtils.js ***!
  \********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   getTimeExtentFromLayers: () => (/* binding */ a),
/* harmony export */   getTimeSliderSettingsFromWebDocument: () => (/* binding */ c),
/* harmony export */   toLocalTimeExtent: () => (/* binding */ p),
/* harmony export */   toUTCTimeExtent: () => (/* binding */ d)
/* harmony export */ });
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_lang_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../core/lang.js */ "./node_modules/@arcgis/core/core/lang.js");
/* harmony import */ var _core_timeUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../core/timeUtils.js */ "./node_modules/@arcgis/core/core/timeUtils.js");
/* harmony import */ var _chunks_TimeExtent_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../chunks/TimeExtent.js */ "./node_modules/@arcgis/core/chunks/TimeExtent.js");
/* harmony import */ var _webmap_utils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../webmap/utils.js */ "./node_modules/@arcgis/core/webmap/utils.js");
/* harmony import */ var _webscene_utils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../webscene/utils.js */ "./node_modules/@arcgis/core/webscene/utils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
function s(t){return void 0!==t.timeInfo}async function u(t,e){return t.widgets?.timeSlider?.fullTimeExtent??a(t.allLayers,e)}function o(t){const e=t.numThumbs??2,n=t.currentTimeExtent;if(n){const{start:t,end:i}=n;return null!=t&&null!=i&&t.getTime()===i.getTime()?"instant":2===e?"time-window":null==t||0===t.getTime()?"cumulative-from-start":"cumulative-from-end"}return 2===e?"time-window":"cumulative-from-start"}function m(t){const{numStops:n,stopInterval:i,stops:r}=t;return r?{dates:(0,_core_lang_js__WEBPACK_IMPORTED_MODULE_1__.clone)(r)}:i?{interval:i.clone()}:{count:n??5}}async function a(e,n){if(0===e.length)return _chunks_TimeExtent_js__WEBPACK_IMPORTED_MODULE_3__.T.allTime;await Promise.all(e.map((t=>t.load({signal:n}))));const r=e.filter(s),l=e.filter((t=>!s(t)&&null!=t.visibilityTimeExtent));if(0===r.length&&0===l.length)return _chunks_TimeExtent_js__WEBPACK_IMPORTED_MODULE_3__.T.allTime;const u=[],o=[];for(const t of r)"feature"!==t?.type&&"map-image"!==t?.type||!t.timeInfo?.hasLiveData?o.push(t):u.push(t);const m=t=>null==t||t.isAllTime,a=[...o.map((t=>{const e=t.timeInfo?.fullTimeExtent,{visibilityTimeExtent:n}=t;return e?.intersection(n)??n})),...l.map((t=>t.visibilityTimeExtent))];if(a.some(m))return _chunks_TimeExtent_js__WEBPACK_IMPORTED_MODULE_3__.T.allTime;const f=u.map((async t=>{const e=(await t.fetchRecomputedExtents({signal:n}))?.timeExtent??t.timeInfo?.fullTimeExtent,{visibilityTimeExtent:i}=t;return e?.intersection(i)??i})),c=(await Promise.allSettled(f)).map((t=>"fulfilled"===t.status?t.value:null));if(c.some(m))return _chunks_TimeExtent_js__WEBPACK_IMPORTED_MODULE_3__.T.allTime;const d=[...c,...a].filter(_core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_0__.isSome);if(0===d.length)return _chunks_TimeExtent_js__WEBPACK_IMPORTED_MODULE_3__.T.allTime;return d.reduce(((t,e)=>t.union(e)))}function f(t,e){const n=t.currentTimeExtent;if(!n)return null;const{start:r,end:l}=n,s=r??l??null;switch(e){case"time-window":return new _chunks_TimeExtent_js__WEBPACK_IMPORTED_MODULE_3__.T({start:r,end:l});case"cumulative-from-start":return new _chunks_TimeExtent_js__WEBPACK_IMPORTED_MODULE_3__.T({start:null,end:s});case"cumulative-from-end":return new _chunks_TimeExtent_js__WEBPACK_IMPORTED_MODULE_3__.T({start:s,end:null});case"instant":return new _chunks_TimeExtent_js__WEBPACK_IMPORTED_MODULE_3__.T({start:s,end:s})}}async function c(t,e){if(!(0,_webmap_utils_js__WEBPACK_IMPORTED_MODULE_4__.isWebMap)(t)&&!(0,_webscene_utils_js__WEBPACK_IMPORTED_MODULE_5__.isWebScene)(t))return null;await t.load({signal:e});const n=t?.widgets?.timeSlider;if(!n)return null;const i=await u(t,e),s=n.loop,a=o(n);return{fullTimeExtent:i,loop:s,mode:a,playRate:n.stopDelay??2e3,stops:m(n),timeExtent:f(n,a)}}function d(t){if(!t)return t;const{start:e,end:r}=t;return new _chunks_TimeExtent_js__WEBPACK_IMPORTED_MODULE_3__.T({start:null!=e?(0,_core_timeUtils_js__WEBPACK_IMPORTED_MODULE_2__.offsetDate)(e,-e.getTimezoneOffset(),"minutes"):e,end:null!=r?(0,_core_timeUtils_js__WEBPACK_IMPORTED_MODULE_2__.offsetDate)(r,-r.getTimezoneOffset(),"minutes"):r})}function p(t){if(!t)return t;const{start:e,end:r}=t;return new _chunks_TimeExtent_js__WEBPACK_IMPORTED_MODULE_3__.T({start:null!=e?(0,_core_timeUtils_js__WEBPACK_IMPORTED_MODULE_2__.offsetDate)(e,e.getTimezoneOffset(),"minutes"):e,end:null!=r?(0,_core_timeUtils_js__WEBPACK_IMPORTED_MODULE_2__.offsetDate)(r,r.getTimezoneOffset(),"minutes"):r})}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/i3s/I3SMeshViewFilter.js":
/*!****************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/i3s/I3SMeshViewFilter.js ***!
  \****************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   I3SMeshViewFilter: () => (/* binding */ O)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/Accessor.js */ "./node_modules/@arcgis/core/core/Accessor.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_mathUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../core/mathUtils.js */ "./node_modules/@arcgis/core/core/mathUtils.js");
/* harmony import */ var _core_maybeUpdating_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../core/maybeUpdating.js */ "./node_modules/@arcgis/core/core/maybeUpdating.js");
/* harmony import */ var _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../core/reactiveUtils.js */ "./node_modules/@arcgis/core/core/reactiveUtils.js");
/* harmony import */ var _core_unitUtils_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../core/unitUtils.js */ "./node_modules/@arcgis/core/core/unitUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _chunks_vec32_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../chunks/vec32.js */ "./node_modules/@arcgis/core/chunks/vec32.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../../core/libs/gl-matrix-2/factories/vec3f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/vec3f64.js");
/* harmony import */ var _core_sql_WhereClause_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../../core/sql/WhereClause.js */ "./node_modules/@arcgis/core/core/sql/WhereClause.js");
/* harmony import */ var _geometry_ellipsoidUtils_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../../geometry/ellipsoidUtils.js */ "./node_modules/@arcgis/core/geometry/ellipsoidUtils.js");
/* harmony import */ var _geometry_projectionUtils_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../../geometry/projectionUtils.js */ "./node_modules/@arcgis/core/geometry/projectionUtils.js");
/* harmony import */ var _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../../../geometry/SpatialReference.js */ "./node_modules/@arcgis/core/geometry/SpatialReference.js");
/* harmony import */ var _geometry_projection_projectBoundingSphere_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../../../geometry/projection/projectBoundingSphere.js */ "./node_modules/@arcgis/core/geometry/projection/projectBoundingSphere.js");
/* harmony import */ var _geometry_projection_projectVectorToVector_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../../../geometry/projection/projectVectorToVector.js */ "./node_modules/@arcgis/core/geometry/projection/projectVectorToVector.js");
/* harmony import */ var _geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../../../geometry/support/aaBoundingBox.js */ "./node_modules/@arcgis/core/geometry/support/aaBoundingBox.js");
/* harmony import */ var _geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../../../../geometry/support/aaBoundingRect.js */ "./node_modules/@arcgis/core/geometry/support/aaBoundingRect.js");
/* harmony import */ var _geometry_support_DoubleArray_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../../../../geometry/support/DoubleArray.js */ "./node_modules/@arcgis/core/geometry/support/DoubleArray.js");
/* harmony import */ var _geometry_support_Ellipsoid_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../../../../geometry/support/Ellipsoid.js */ "./node_modules/@arcgis/core/geometry/support/Ellipsoid.js");
/* harmony import */ var _geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../../../../geometry/support/spatialReferenceUtils.js */ "./node_modules/@arcgis/core/geometry/support/spatialReferenceUtils.js");
/* harmony import */ var _chunks_sphere_js__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ../../../../chunks/sphere.js */ "./node_modules/@arcgis/core/chunks/sphere.js");
/* harmony import */ var _geometry_support_webMercatorUtils_js__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ../../../../geometry/support/webMercatorUtils.js */ "./node_modules/@arcgis/core/geometry/support/webMercatorUtils.js");
/* harmony import */ var _layers_support_FeatureFilter_js__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ../../../../layers/support/FeatureFilter.js */ "./node_modules/@arcgis/core/layers/support/FeatureFilter.js");
/* harmony import */ var _I3SUtil_js__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ./I3SUtil.js */ "./node_modules/@arcgis/core/views/3d/layers/i3s/I3SUtil.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
let O=class extends _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__["default"]{constructor(e){super(e),this._projectionEngineLoaded=!1}initialize(){(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_6__.whenOnce)((()=>this.viewFilter?.geometry||null!=this.layerFilter)).then((()=>this.loadAsyncModule(Promise.all(/*! import() */[__webpack_require__.e("vendors-node_modules_arcgis_core_chunks_geometryEngineBase_js"), __webpack_require__.e("node_modules_arcgis_core_geometry_geometryEngine_js")]).then(__webpack_require__.bind(__webpack_require__, /*! ../../../../geometry/geometryEngine.js */ "./node_modules/@arcgis/core/geometry/geometryEngine.js")).then((e=>{this.destroyed||(this._geometryEngine=e)})))))}get sortedObjectIds(){if(null==this.viewFilter?.objectIds)return null;const e=(0,_geometry_support_DoubleArray_js__WEBPACK_IMPORTED_MODULE_21__.doubleArrayFrom)(this.viewFilter.objectIds);return e.sort(),e}get parsedWhereClause(){const e=this.viewFilter?.where;if(null==e||!e)return null;try{return _core_sql_WhereClause_js__WEBPACK_IMPORTED_MODULE_13__["default"].create(e,{fieldsIndex:this.layerFieldsIndex})}catch(t){_core_Logger_js__WEBPACK_IMPORTED_MODULE_3__["default"].getLogger(this).error(`Failed to parse filter where clause: ${t}`)}return null}addFilters(e,t,r,i){const o=this.sortedObjectIds;null!=o&&e.push((e=>(0,_I3SUtil_js__WEBPACK_IMPORTED_MODULE_27__.objectIdFilter)(o,!0,e))),this.addSqlFilter(e,this.parsedWhereClause),this.addTimeFilter(e,this.viewFilter?.timeExtent);const a=(0,_core_maybeUpdating_js__WEBPACK_IMPORTED_MODULE_5__.unwrapUpdating)(this._layerMaskGeometries),l=this._geometryEngine,c=()=>_core_Logger_js__WEBPACK_IMPORTED_MODULE_3__["default"].getLogger(this);if(null!=a&&null!=this.layerFilter&&null!=l){const s=this.layerFilter.spatialRelationship;e.push(((e,o)=>W(c,l,e,o,i,t,r,a,s)))}const p=(0,_core_maybeUpdating_js__WEBPACK_IMPORTED_MODULE_5__.unwrapUpdating)(this._viewMaskGeometries);if(null!=p&&null!=this.viewFilter&&null!=l){const s=this.viewFilter.spatialRelationship;e.push(((e,o)=>W(c,l,e,o,i,t,r,p,s)))}}isMBSGeometryVisible(e,t,r){const i=(0,_core_maybeUpdating_js__WEBPACK_IMPORTED_MODULE_5__.unwrapUpdating)(this._layerMaskGeometries),o=this._geometryEngine;if(null!=i&&null!=this.layerFilter&&null!=o){const n=this.layerFilter.spatialRelationship,a=i[0].spatialReference||t;if(!(0,_geometry_projection_projectBoundingSphere_js__WEBPACK_IMPORTED_MODULE_17__.projectBoundingSphere)(e,r,q,a))return _core_Logger_js__WEBPACK_IMPORTED_MODULE_3__["default"].getLogger(this).warnOnce("SceneLayer.mask geometry is using unsupported SpatialReference, skipping geometry filter for MBS"),!0;return V(o,q,i,a,n)}const a=(0,_core_maybeUpdating_js__WEBPACK_IMPORTED_MODULE_5__.unwrapUpdating)(this._viewMaskGeometries);if(null!=a&&null!=this.viewFilter&&null!=o){const i=this.viewFilter.spatialRelationship,n=a[0].spatialReference||t;if(!(0,_geometry_projection_projectBoundingSphere_js__WEBPACK_IMPORTED_MODULE_17__.projectBoundingSphere)(e,r,q,n))return _core_Logger_js__WEBPACK_IMPORTED_MODULE_3__["default"].getLogger(this).warnOnce("SceneLayerView.filter.geometry is using unsupported SpatialReference, skipping geometry filter for MBS"),!0;return V(o,q,a,n,i)}return!0}get parsedGeometry(){const e=(0,_core_maybeUpdating_js__WEBPACK_IMPORTED_MODULE_5__.unwrapUpdating)(this._viewMaskGeometries),t=(0,_core_maybeUpdating_js__WEBPACK_IMPORTED_MODULE_5__.unwrapUpdating)(this._layerMaskGeometries);return null==e||null==t?e||t:t.concat(e)}get _layerMaskGeometries(){const e=this.layerFilter;return null==e?null:null==this._geometryEngine?_core_maybeUpdating_js__WEBPACK_IMPORTED_MODULE_5__.updating:"disjoint"===e.spatialRelationship?e.geometries.map((e=>({type:"polygon",rings:e.rings,spatialReference:e.spatialReference,cache:{}}))):[e.geometries.reduce(((e,t)=>(e.rings=[...e.rings,...t.rings],e)),{type:"polygon",rings:[],spatialReference:e.geometries[0].spatialReference,cache:{}})]}get _viewMaskGeometries(){if(null==this.viewFilter)return null;const{geometry:e}=this.viewFilter;if(null==e)return null;if(null==this.viewFilter||null==this._geometryEngine)return _core_maybeUpdating_js__WEBPACK_IMPORTED_MODULE_5__.updating;const{distance:t,units:r}=this.viewFilter,i=this.viewFilter.spatialRelationship,o="mesh"===e.type?e.extent:e;if(null==t||0===t)return K(this._geometryEngine,o,i);const n=r||(0,_core_unitUtils_js__WEBPACK_IMPORTED_MODULE_7__.getUnitString)(o.spatialReference);if(o.spatialReference.isWGS84){const e=this._geometryEngine.geodesicBuffer(o,t,n);return K(this._geometryEngine,e,i)}const l=(0,_geometry_support_webMercatorUtils_js__WEBPACK_IMPORTED_MODULE_25__.project)(o,_geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_16__["default"].WGS84);if(null!=l){const e=(0,_geometry_support_webMercatorUtils_js__WEBPACK_IMPORTED_MODULE_25__.project)(this._geometryEngine.geodesicBuffer(l,t,n),o.spatialReference);return K(this._geometryEngine,e,i)}if(!this._projectionEngineLoaded&&(this.loadAsyncModule((0,_geometry_projectionUtils_js__WEBPACK_IMPORTED_MODULE_15__.load)().then((()=>this._projectionEngineLoaded=!0))),!this._projectionEngineLoaded))return null;let c=null;try{c=(0,_geometry_projectionUtils_js__WEBPACK_IMPORTED_MODULE_15__.project)(o,_geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_16__["default"].WGS84)}catch(u){}if(c)try{c=(0,_geometry_projectionUtils_js__WEBPACK_IMPORTED_MODULE_15__.project)(this._geometryEngine.geodesicBuffer(c,t,n),o.spatialReference)}catch(u){c=null}return c||_core_Logger_js__WEBPACK_IMPORTED_MODULE_3__["default"].getLogger(this).error(`Filter by geodesic buffer (distance) unsupported, failed to project input geometry (${o.spatialReference.wkid}) to WGS84.`),K(this._geometryEngine,c,i)}get updating(){return (0,_core_maybeUpdating_js__WEBPACK_IMPORTED_MODULE_5__.isUpdating)(this._layerMaskGeometries)||(0,_core_maybeUpdating_js__WEBPACK_IMPORTED_MODULE_5__.isUpdating)(this._viewMaskGeometries)}static checkSupport(e){return null!=e&&(!!U(e.spatialRelationship)||(_core_Logger_js__WEBPACK_IMPORTED_MODULE_3__["default"].getLogger(this.prototype).warn(`Filters with spatialRelationship other than ${B.join(", ")} are not supported for mesh scene layers`),!1))}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)()],O.prototype,"layerFilter",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)({type:_layers_support_FeatureFilter_js__WEBPACK_IMPORTED_MODULE_26__["default"]})],O.prototype,"viewFilter",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)()],O.prototype,"layerFieldsIndex",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)()],O.prototype,"loadAsyncModule",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)()],O.prototype,"addSqlFilter",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)()],O.prototype,"addTimeFilter",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)({readOnly:!0})],O.prototype,"sortedObjectIds",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)({readOnly:!0})],O.prototype,"parsedWhereClause",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)({readOnly:!0})],O.prototype,"parsedGeometry",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)({readOnly:!0})],O.prototype,"_layerMaskGeometries",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)({readOnly:!0})],O.prototype,"_viewMaskGeometries",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)()],O.prototype,"updating",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)()],O.prototype,"_projectionEngineLoaded",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)()],O.prototype,"_geometryEngine",void 0),O=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_10__.subclass)("esri.views.3d.layers.i3s.I3SMeshViewFilter")],O);const B=(e=>e)(["contains","intersects","disjoint"]);function U(e){return null!=e&&B.includes(e)}var P;function K(e,t,s){if(null==t)return null;if("disjoint"===s&&"polygon"===t.type){const s=t.rings.length,o=t.spatialReference,n=new Array(s);for(let e=0;e<s;++e){const r=(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_20__.fromValues)(1/0,1/0,-1/0,-1/0);(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_20__.expandWithNestedArray)(r,t.rings[e]),n[e]={type:"polygon",rings:[t.rings[e]],spatialReference:o,cache:{},aabr:r}}n.sort(((e,t)=>e.aabr[0]-t.aabr[0]));const a=new Set,l=new _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_2__.PositionHint;for(let t=0;t<n.length;++t){const i=n[t],s=i.aabr[0];a.forEach((t=>{if(s>=t.aabr[2])return void a.delete(t);if(i.aabr[1]>t.aabr[3]||i.aabr[3]<t.aabr[1]||!e.intersects(i,t))return;i.rings=i.rings.concat(t.rings),(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_20__.expand)(i.aabr,t.aabr,i.aabr),i.cache={},a.delete(t);const o=(0,_core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_2__.indexOf)(n,t,n.length,l);n.splice(o,1)})),a.add(i)}for(const e of n)e.aabr=void 0;return n}return[t]}function V(e,t,r,i,s){if(t[3]>=.5*(t[2]+(0,_geometry_ellipsoidUtils_js__WEBPACK_IMPORTED_MODULE_14__.getReferenceEllipsoid)(i).radius))return!0;const o=$(e,t,i);return r.every((t=>z(e,t,o,s)!==P.DISCARD))}function W(e,t,r,i,s,o,n,a,l){const c=a[0].spatialReference||o.spatialReference;if(!(0,_geometry_projection_projectBoundingSphere_js__WEBPACK_IMPORTED_MODULE_17__.projectBoundingSphere)(i.node.serviceMbsInIndexSR,n,q,c))return void e().warnOnce("SceneLayerView.filter.geometry is using unsupported SpatialReference, skipping geometry filter");const p=$(t,q,c),u=N(l,o,c,s,i.objectHandle),g="intersects"===l;let m=null;for(const d of a){if(0===r.length)return;switch(z(t,d,p,l)){case P.DISCARD:return g&&(i.weaklyRemovedIds=i.weaklyRemovedIds?.concat(r)??r.slice()),void(r.length=0);case P.KEEP:continue}(0,_I3SUtil_js__WEBPACK_IMPORTED_MODULE_27__.filterInPlace)(r,i.featureIds,(e=>!!J(t,d,e,u)||(g&&(m||=[],m.push(i.featureIds[e])),!1)))}m&&(i.weaklyRemovedIds=i.weaklyRemovedIds?.concat(m)??m)}!function(e){e[e.KEEP=0]="KEEP",e[e.DISCARD=1]="DISCARD",e[e.TEST=2]="TEST"}(P||(P={}));const q=(0,_chunks_sphere_js__WEBPACK_IMPORTED_MODULE_24__.f)(0,0,0,0);function N(e,t,r,i,s){const o=t.renderSpatialReference,n=new Map,a={type:"polygon",rings:[[[0,0,0],[0,0,0],[0,0,0],[0,0,0]]],spatialReference:r};a.rings[0][3]=a.rings[0][0];const l={indices:null,data:null,stride:0,startIndex:0,endIndex:0};let c,p;switch(e){case"intersects":c=(e,t,r)=>e.intersects(t,r)?P.KEEP:P.TEST,p=H;break;case"contains":c=(e,t,r)=>e.contains(t,r)?P.TEST:P.DISCARD,p=H;break;default:c=(e,t,r)=>e.disjoint(t,r)?P.TEST:P.DISCARD,p=Z}return{collection:i,object:s,type:e,maskSR:r,renderSR:o,aabbCache:n,triangle:a,positions:l,triangleTest:c,geometryTest:p}}function $(e,t,r){const i={type:"point",x:t[0],y:t[1],hasZ:!1,hasM:!1,spatialReference:r},s=!(0,_geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_23__.isWGS84)(r)&&!(0,_geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_23__.isWebMercator)(r),n=Number.isNaN(t[3])?0:(0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_4__.clamp)(t[3],0,2*_geometry_support_Ellipsoid_js__WEBPACK_IMPORTED_MODULE_22__.earth.radius),a=s?e.buffer(i,n,1):e.geodesicBuffer(i,n,1);return a.type="polygon",a}function z(e,t,r,i){switch(i){case"intersects":case"contains":return H(e,t,r);case"disjoint":return Z(e,t,r)}}function H(e,t,r){return e.intersects(t,r)?e.contains(t,r)?P.KEEP:P.TEST:P.DISCARD}function Z(e,t,r){return e.intersects(t,r)?e.contains(t,r)?P.DISCARD:P.TEST:P.KEEP}function J(e,t,r,i){const{collection:s,object:o,renderSR:n,maskSR:a,geometryTest:l,aabbCache:c}=i;let p=c.get(r);if(!p){const e=s.getObjectTransform(o);s.getComponentAabb(o,r,Q);const t=[(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_12__.fromValues)(Q[0],Q[1],0),(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_12__.fromValues)(Q[0],Q[4],0),(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_12__.fromValues)(Q[3],Q[4],0),(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_12__.fromValues)(Q[3],Q[1],0)];for(let r=0;r<4;++r)(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_11__.o)(t[r],t[r],e.rotationScale),(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_11__.f)(t[r],t[r],e.position),(0,_geometry_projection_projectVectorToVector_js__WEBPACK_IMPORTED_MODULE_18__.projectVectorToVector)(t[r],n,t[r],a);p={type:"polygon",rings:[t],spatialReference:a,cache:{}},p.rings[0][4]=p.rings[0][0],c.set(r,p)}switch(l(e,t,p)){case P.DISCARD:return!1;case P.KEEP:return!0}const{triangle:u,triangleTest:g,positions:h}=i,j=u.rings[0][0],R=u.rings[0][1],S=u.rings[0][2],w=s.getObjectTransform(o);s.getComponentPositions(o,r,h);const{indices:E,data:b,stride:F,startIndex:I,endIndex:_}=h;for(let y=I;y<_;y+=3){const r=F*E[y],i=F*E[y+1],s=F*E[y+2];switch((0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_11__.i)(j,b[r],b[r+1],b[r+2]),(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_11__.i)(R,b[i],b[i+1],b[i+2]),(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_11__.i)(S,b[s],b[s+1],b[s+2]),(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_11__.o)(j,j,w.rotationScale),(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_11__.o)(R,R,w.rotationScale),(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_11__.o)(S,S,w.rotationScale),(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_11__.f)(j,j,w.position),(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_11__.f)(R,R,w.position),(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_11__.f)(S,S,w.position),(0,_geometry_projection_projectVectorToVector_js__WEBPACK_IMPORTED_MODULE_18__.projectVectorToVector)(j,n,j,a),(0,_geometry_projection_projectVectorToVector_js__WEBPACK_IMPORTED_MODULE_18__.projectVectorToVector)(R,n,R,a),(0,_geometry_projection_projectVectorToVector_js__WEBPACK_IMPORTED_MODULE_18__.projectVectorToVector)(S,n,S,a),g(e,t,u)){case P.DISCARD:return!1;case P.KEEP:return!0}}return"intersects"!==i.type}const Q=(0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_19__.create)();


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/i3s/I3SQueryEngine.js":
/*!*************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/i3s/I3SQueryEngine.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   I3SQueryEngine: () => (/* binding */ p)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/Accessor.js */ "./node_modules/@arcgis/core/core/Accessor.js");
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core/maybe.js */ "./node_modules/@arcgis/core/core/maybe.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_RandomLCG_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../core/RandomLCG.js */ "./node_modules/@arcgis/core/core/RandomLCG.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../geometry/Extent.js */ "./node_modules/@arcgis/core/geometry/Extent.js");
/* harmony import */ var _layers_LayerConstants_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../layers/LayerConstants.js */ "./node_modules/@arcgis/core/layers/LayerConstants.js");
/* harmony import */ var _layers_graphics_data_QueryEngine_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../layers/graphics/data/QueryEngine.js */ "./node_modules/@arcgis/core/layers/graphics/data/QueryEngine.js");
/* harmony import */ var _layers_support_FieldsIndex_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../layers/support/FieldsIndex.js */ "./node_modules/@arcgis/core/layers/support/FieldsIndex.js");
/* harmony import */ var _rest_support_FeatureSet_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../../rest/support/FeatureSet.js */ "./node_modules/@arcgis/core/rest/support/FeatureSet.js");
/* harmony import */ var _rest_support_Query_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../../rest/support/Query.js */ "./node_modules/@arcgis/core/rest/support/Query.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
const l=_layers_graphics_data_QueryEngine_js__WEBPACK_IMPORTED_MODULE_10__.QueryEngine;let p=class extends _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__["default"]{constructor(e){super(e)}initialize(){this.addHandles(this.layerView.on("visible-geometry-changed",(()=>this.spatialIndex.events.emit("changed"))))}destroy(){this._dataQueryEngineInstance=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_2__.destroyMaybe)(this._dataQueryEngineInstance),this._set("layerView",null)}get spatialReference(){return this.layerView.view.spatialReference}get layer(){return this.layerView.i3slayer}get defaultQueryJSON(){return new _rest_support_Query_js__WEBPACK_IMPORTED_MODULE_13__["default"]({outSpatialReference:this.spatialReference}).toJSON()}get _dataQueryEngine(){return this._ensureDataQueryEngine()}async executeQueryForCount(e,t){return this._dataQueryEngine.executeQueryForCount(this._ensureQueryJSON(e),t)}async executeQueryForExtent(e,t){const{count:r,extent:s}=await this._dataQueryEngine.executeQueryForExtent(this._ensureQueryJSON(e),t);return{count:r,extent:_geometry_Extent_js__WEBPACK_IMPORTED_MODULE_8__["default"].fromJSON(s)}}async executeQueryForIds(e,t){return this._dataQueryEngine.executeQueryForIds(this._ensureQueryJSON(e),t)}async executeQuery(e,t){const r=this._ensureQueryJSON(e),s=await this._dataQueryEngine.executeQuery(r,t);if(e?.returnGeometry){const{processQueryGeometries:e}=await Promise.all(/*! import() */[__webpack_require__.e("vendors-node_modules_arcgis_core_geometry_support_meshUtils_vertexSpaceConversion_js"), __webpack_require__.e("vendors-node_modules_arcgis_core_geometry_support_MeshComponent_js-node_modules_arcgis_core_g-4bdb58"), __webpack_require__.e("vendors-node_modules_arcgis_core_geometry_Mesh_js"), __webpack_require__.e("node_modules_arcgis_core_geometry_support_MeshTransform_js-node_modules_arcgis_core_views_3d_-e252b0")]).then(__webpack_require__.bind(__webpack_require__, /*! ./I3SQueryResultGeometry.js */ "./node_modules/@arcgis/core/views/3d/layers/i3s/I3SQueryResultGeometry.js"));return e(this.layerView,s)}return _rest_support_FeatureSet_js__WEBPACK_IMPORTED_MODULE_12__["default"].fromJSON(s)}_ensureQueryJSON(e){return null==e?this.defaultQueryJSON:e.toJSON()}_ensureDataQueryEngine(){if(this._dataQueryEngineInstance)return this._dataQueryEngineInstance;const e=this.layer.objectIdField||_layers_LayerConstants_js__WEBPACK_IMPORTED_MODULE_9__.fallbackObjectIDAttribute,t="esriGeometryPolygon",r=this.layer.fieldsIndex?.toJSON()||new _layers_support_FieldsIndex_js__WEBPACK_IMPORTED_MODULE_11__["default"]([]),s=this.layerView.view.resourceController.scheduler,n=this.spatialReference.toJSON(),i=this.priority,a=this.spatialIndex;return this._dataQueryEngineInstance=new l({hasZ:!0,hasM:!1,geometryType:t,fieldsIndex:r,timeInfo:null,spatialReference:n,featureIdInfo:{type:"object-id",fieldName:e},featureStore:a,scheduler:s,priority:i}),this._dataQueryEngineInstance}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)({constructOnly:!0})],p.prototype,"layerView",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)({constructOnly:!0})],p.prototype,"priority",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)({constructOnly:!0})],p.prototype,"spatialIndex",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)()],p.prototype,"spatialReference",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)()],p.prototype,"layer",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)()],p.prototype,"defaultQueryJSON",null),p=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__.subclass)("esri.views.3d.layers.i3s.I3SQueryEngine")],p);


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/i3s/I3SQueryFeatureAdapter.js":
/*!*********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/i3s/I3SQueryFeatureAdapter.js ***!
  \*********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   I3SQueryFeature: () => (/* binding */ n),
/* harmony export */   I3SQueryFeatureAdapter: () => (/* binding */ o)
/* harmony export */ });
/* harmony import */ var _geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../geometry/support/aaBoundingBox.js */ "./node_modules/@arcgis/core/geometry/support/aaBoundingBox.js");
/* harmony import */ var _layers_graphics_centroid_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../layers/graphics/centroid.js */ "./node_modules/@arcgis/core/layers/graphics/centroid.js");
/* harmony import */ var _layers_graphics_OptimizedGeometry_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../layers/graphics/OptimizedGeometry.js */ "./node_modules/@arcgis/core/layers/graphics/OptimizedGeometry.js");
/* harmony import */ var _I3SBinaryReader_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./I3SBinaryReader.js */ "./node_modules/@arcgis/core/views/3d/layers/i3s/I3SBinaryReader.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
class o{constructor(t){this._objectIdField=t.objectIdField,this._getFeatureExtent=t.getFeatureExtent}getObjectId(t){return t.id}getAttributes(t){const{meta:e,index:r}=t,o={};this._objectIdField&&(o[this._objectIdField]=t.id);const n=e.attributeInfo?.attributeData;if(null!=n)for(const s of Object.keys(n))o[s]=(0,_I3SBinaryReader_js__WEBPACK_IMPORTED_MODULE_3__.getCachedAttributeValue)(n[s],r);return o}getAttribute(t,e){if(e===this._objectIdField)return t.id;const{meta:r,index:o}=t,n=r.attributeInfo?.attributeData;return null!=n?(0,_I3SBinaryReader_js__WEBPACK_IMPORTED_MODULE_3__.getCachedAttributeValue)(n[e],o):null}getGeometry(t){if(t.geometry)return t.geometry;const[e,i,o,n,a,u]=this._getFeatureExtent(t,s);return new _layers_graphics_OptimizedGeometry_js__WEBPACK_IMPORTED_MODULE_2__["default"]([5,5],[e,i,o,n,i,o,n,a,o,e,a,o,e,i,o,e,i,u,n,i,u,n,a,u,e,a,u,e,i,u])}getCentroid(t,i){if(t.geometry)return (0,_layers_graphics_centroid_js__WEBPACK_IMPORTED_MODULE_1__.getCentroidOptimizedGeometry)(new _layers_graphics_OptimizedGeometry_js__WEBPACK_IMPORTED_MODULE_2__["default"],t.geometry,i.hasZ,i.hasM);const[o,n,a,u,d,c]=this._getFeatureExtent(t,s);return new _layers_graphics_OptimizedGeometry_js__WEBPACK_IMPORTED_MODULE_2__["default"]([0],[(o+u)/2,(n+d)/2,(a+c)/2])}cloneWithGeometry(t,e){const{id:r,index:i,meta:o}=t;return new n(r,i,o,e)}getMetadata(t){return t}}class n{constructor(t,e,r,i){this.id=t,this.index=e,this.meta=r,this.geometry=i}get usedMemory(){return 32+(this.geometry?.usedMemory??0)}}const s=(0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_0__.create)();


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/i3s/I3SQueryFeatureStore.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/i3s/I3SQueryFeatureStore.js ***!
  \*******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   I3SQueryFeatureStore: () => (/* binding */ h)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/Accessor.js */ "./node_modules/@arcgis/core/core/Accessor.js");
/* harmony import */ var _core_compilerUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core/compilerUtils.js */ "./node_modules/@arcgis/core/core/compilerUtils.js");
/* harmony import */ var _core_Evented_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../core/Evented.js */ "./node_modules/@arcgis/core/core/Evented.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_RandomLCG_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../core/RandomLCG.js */ "./node_modules/@arcgis/core/core/RandomLCG.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _geometry_projection_projectBoundingSphere_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../geometry/projection/projectBoundingSphere.js */ "./node_modules/@arcgis/core/geometry/projection/projectBoundingSphere.js");
/* harmony import */ var _geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../geometry/support/aaBoundingBox.js */ "./node_modules/@arcgis/core/geometry/support/aaBoundingBox.js");
/* harmony import */ var _geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../geometry/support/aaBoundingRect.js */ "./node_modules/@arcgis/core/geometry/support/aaBoundingRect.js");
/* harmony import */ var _chunks_sphere_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../chunks/sphere.js */ "./node_modules/@arcgis/core/chunks/sphere.js");
/* harmony import */ var _II3SMeshView3D_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../II3SMeshView3D.js */ "./node_modules/@arcgis/core/views/3d/layers/II3SMeshView3D.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
const l=(0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_9__.create)();let h=class extends _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__["default"]{constructor(r){super(r),this.events=new _core_Evented_js__WEBPACK_IMPORTED_MODULE_3__["default"]}forEach(r){this.forAllFeatures((e=>(r(e),_II3SMeshView3D_js__WEBPACK_IMPORTED_MODULE_12__.ForAllFeaturesReturnType.CONTINUE)))}forEachBounds(r,e){for(const t of r)e(this.getFeatureExtent(t,l))}forEachInBounds(r,e){this.forAllFeatures((o=>{const s=this.getFeatureExtent((0,_core_compilerUtils_js__WEBPACK_IMPORTED_MODULE_2__.toConst)(o),y);return (0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_10__.intersects)(r,(0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_9__.toRect)(s,j))&&e((0,_core_compilerUtils_js__WEBPACK_IMPORTED_MODULE_2__.toConst)(o)),_II3SMeshView3D_js__WEBPACK_IMPORTED_MODULE_12__.ForAllFeaturesReturnType.CONTINUE}),(e=>{if((0,_geometry_projection_projectBoundingSphere_js__WEBPACK_IMPORTED_MODULE_8__.projectBoundingSphere)(e,this.sourceSpatialReference,d,this.viewSpatialReference),d[0]>=r[0]&&d[2]<=r[2]&&d[1]>=r[1]&&d[3]<=r[3])return _II3SMeshView3D_js__WEBPACK_IMPORTED_MODULE_12__.ForAllFeaturesReturnType.CONTINUE;const t=Math.max(r[0],Math.min(d[0],r[2])),o=Math.max(r[1],Math.min(d[1],r[3])),s=d[0]-t,c=d[1]-o;return s*s+c*c<=d[3]*d[3]?_II3SMeshView3D_js__WEBPACK_IMPORTED_MODULE_12__.ForAllFeaturesReturnType.CONTINUE:_II3SMeshView3D_js__WEBPACK_IMPORTED_MODULE_12__.ForAllFeaturesReturnType.SKIP}))}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)({constructOnly:!0})],h.prototype,"featureAdapter",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)({constructOnly:!0})],h.prototype,"forAllFeatures",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)({constructOnly:!0})],h.prototype,"getFeatureExtent",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)({constructOnly:!0})],h.prototype,"sourceSpatialReference",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)({constructOnly:!0})],h.prototype,"viewSpatialReference",void 0),h=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__.subclass)("esri.views.3d.layers.i3s.I3SQueryFeatureStore")],h);const d=(0,_chunks_sphere_js__WEBPACK_IMPORTED_MODULE_11__.f)(0,0,0,0),y=(0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_9__.create)(),j=(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_10__.create)();


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/support/DefinitionExpressionSceneLayerView.js":
/*!*************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/support/DefinitionExpressionSceneLayerView.js ***!
  \*************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   DefinitionExpressionSceneLayerView: () => (/* binding */ t)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_RandomLCG_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../core/RandomLCG.js */ "./node_modules/@arcgis/core/core/RandomLCG.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _core_sql_WhereClause_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../core/sql/WhereClause.js */ "./node_modules/@arcgis/core/core/sql/WhereClause.js");
/* harmony import */ var _i3s_I3SUtil_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../i3s/I3SUtil.js */ "./node_modules/@arcgis/core/views/3d/layers/i3s/I3SUtil.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
const t=t=>{let p=class extends t{constructor(){super(...arguments),this._definitionExpressionErrors=0,this._maxDefinitionExpressionErrors=20,this.logError=r=>{this._definitionExpressionErrors<this._maxDefinitionExpressionErrors&&_core_Logger_js__WEBPACK_IMPORTED_MODULE_1__["default"].getLogger(this).error("Error while evaluating definitionExpression: "+r),this._definitionExpressionErrors++,this._definitionExpressionErrors===this._maxDefinitionExpressionErrors&&_core_Logger_js__WEBPACK_IMPORTED_MODULE_1__["default"].getLogger(this).error("Further errors are ignored")}}get parsedDefinitionExpression(){if(!this.i3slayer?.definitionExpression)return null;try{const r=_core_sql_WhereClause_js__WEBPACK_IMPORTED_MODULE_6__["default"].create(this.i3slayer.definitionExpression,{fieldsIndex:this.i3slayer.fieldsIndex});if(!r.isStandardized)return _core_Logger_js__WEBPACK_IMPORTED_MODULE_1__["default"].getLogger(this).error("definitionExpression is using non standard function"),null;const i=[],s=r.fieldNames;return (0,_i3s_I3SUtil_js__WEBPACK_IMPORTED_MODULE_7__.findFieldsCaseInsensitive)(s,this.i3slayer.fieldsIndex,{missingFields:i}),i.length>0?(_core_Logger_js__WEBPACK_IMPORTED_MODULE_1__["default"].getLogger(this).error(`definitionExpression references unknown fields: ${i.join(", ")}`),null):(this._definitionExpressionErrors=0,r)}catch(r){return _core_Logger_js__WEBPACK_IMPORTED_MODULE_1__["default"].getLogger(this).error("Failed to parse definitionExpression: "+r),null}}get definitionExpressionFields(){return this.parsedDefinitionExpression?this.parsedDefinitionExpression.fieldNames:[]}_evaluateClause(r,e){if(null==r)return!0;try{return r.testFeature(e)}catch(i){return this.logError(i),!1}}_addDefinitionExpressionToQuery(r){if(!this.parsedDefinitionExpression)return r;const e=this.i3slayer.definitionExpression,i=r.clone();return i.where?i.where=`(${e}) AND (${i.where})`:i.where=e,i}};return (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)({readOnly:!0})],p.prototype,"parsedDefinitionExpression",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)({readOnly:!0})],p.prototype,"definitionExpressionFields",null),p=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_5__.subclass)("esri.views.3d.layers.support.DefinitionExpressionSceneLayerView")],p),p};


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/support/TemporalSceneLayerView.js":
/*!*************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/support/TemporalSceneLayerView.js ***!
  \*************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   TemporalSceneLayerView: () => (/* binding */ u)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_RandomLCG_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../core/RandomLCG.js */ "./node_modules/@arcgis/core/core/RandomLCG.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _layers_graphics_data_timeSupport_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../layers/graphics/data/timeSupport.js */ "./node_modules/@arcgis/core/layers/graphics/data/timeSupport.js");
/* harmony import */ var _layers_support_FeatureFilter_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../layers/support/FeatureFilter.js */ "./node_modules/@arcgis/core/layers/support/FeatureFilter.js");
/* harmony import */ var _layers_support_timeSupport_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../layers/support/timeSupport.js */ "./node_modules/@arcgis/core/layers/support/timeSupport.js");
/* harmony import */ var _i3s_I3SBinaryReader_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../i3s/I3SBinaryReader.js */ "./node_modules/@arcgis/core/views/3d/layers/i3s/I3SBinaryReader.js");
/* harmony import */ var _i3s_I3SUtil_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../i3s/I3SUtil.js */ "./node_modules/@arcgis/core/views/3d/layers/i3s/I3SUtil.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
const u=i=>{let o=class extends i{get timeExtent(){return (0,_layers_support_timeSupport_js__WEBPACK_IMPORTED_MODULE_8__.combineTimeExtent)(this.i3slayer,this.view?.timeExtent,this._get("timeExtent"))}get mergedFilter(){const{filter:t,timeExtent:e}=this;if(null==e)return t;const r=t?.clone()??new _layers_support_FeatureFilter_js__WEBPACK_IMPORTED_MODULE_7__["default"];return null!=e&&(r.timeExtent=r.timeExtent?.intersection(e)??e),r}getTimeFilterDependencies(){const{timeInfo:t}=this.i3slayer;if(null==t)return[];const{startField:e,endField:r}=t;return[e,r]}addTimeFilter(t,e){if(null==e)return;const{timeInfo:r}=this.i3slayer;if(null==r)return;const{startField:i,endField:s,useTime:n}=r;if(!n||null==i&&null==s)return;const o=r.toJSON(),l=e.toJSON();t.push(((t,e)=>a(t,e,o,l)))}};return (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_1__.property)({readOnly:!0})],o.prototype,"timeExtent",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_1__.property)()],o.prototype,"mergedFilter",null),o=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_5__.subclass)("esri.views.3d.layers.support.TemporalSceneLayerView")],o),o};function a(t,e,r,s){const n=e.attributeInfo?.attributeData;if(null==n)return;const{startTimeField:o,endTimeField:u}=r;if(!!(null!=o&&null==n[o]||null!=u&&null==n[u]))return;const a=(0,_layers_graphics_data_timeSupport_js__WEBPACK_IMPORTED_MODULE_6__.getTimeOperator)(r,s,new m(n));if(null==a)return;const{featureIds:p}=e;(0,_i3s_I3SUtil_js__WEBPACK_IMPORTED_MODULE_10__.filterInPlace)(t,p,a)}class m{constructor(t){this.attributeData=t}getAttribute(t,e){return (0,_i3s_I3SBinaryReader_js__WEBPACK_IMPORTED_MODULE_9__.getCachedAttributeValue)(this.attributeData[e],t)}getAttributeAsTimestamp(t,e){const r=this.getAttribute(t,e);return"string"==typeof r?new Date(r).getTime():"number"==typeof r||null==r?r:null}}


/***/ }),

/***/ "./node_modules/@arcgis/core/webscene/utils.js":
/*!*****************************************************!*\
  !*** ./node_modules/@arcgis/core/webscene/utils.js ***!
  \*****************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   isWebScene: () => (/* binding */ t)
/* harmony export */ });
/* harmony import */ var _support_tagSymbols_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../support/tagSymbols.js */ "./node_modules/@arcgis/core/support/tagSymbols.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
function t(t){return null!=t&&"object"==typeof t&&_support_tagSymbols_js__WEBPACK_IMPORTED_MODULE_0__.WebSceneTag in t}


/***/ })

};

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmVuZG9ycy1ub2RlX21vZHVsZXNfYXJjZ2lzX2NvcmVfdmlld3NfM2RfbGF5ZXJzX2kzc19JM1NNZXNoVmlld0ZpbHRlcl9qcy1ub2RlX21vZHVsZXNfYXJjZ2lzLTQ1MzYwNC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsY0FBYyw0QkFBNEIsY0FBYyxxQkFBK0U7Ozs7Ozs7Ozs7Ozs7Ozs7QUNKMUo7QUFDQTtBQUNBO0FBQ0E7QUFDb0Ysa0JBQWtCLGlDQUFpQyxNQUFNLHVEQUF1RCxHQUFHLG1CQUFtQixNQUFNLHdFQUFDLEtBQUssc0NBQXNDLDJFQUEyRSxzRUFBQyxzQkFBcUQ7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ0o3WTtBQUNBO0FBQ0E7QUFDQTtBQUNxUixjQUFjLDJCQUEyQixzQkFBc0IsK0RBQStELGNBQWMsNkNBQTZDLE1BQU0sTUFBTSxjQUFjLEdBQUcsd0pBQXdKLG1EQUFtRCxjQUFjLE1BQU0sa0NBQWtDLEdBQUcsVUFBVSxNQUFNLG9EQUFDLElBQUksSUFBSSxtQkFBbUIsRUFBRSxZQUFZLHNCQUFzQix1QkFBdUIsb0RBQUMsU0FBUyxvQ0FBb0MsU0FBUyxLQUFLLHlFQUF5RSxxQ0FBcUMsb0RBQUMsU0FBUyxnQkFBZ0IsMEdBQTBHLGlEQUFpRCxvQ0FBb0MsdUJBQXVCLEdBQUcsNkJBQTZCLDBDQUEwQyxvQkFBb0Isb0RBQUMsU0FBUyx5QkFBeUIseUNBQXlDLFNBQVMsNENBQTRDLHVCQUF1QixHQUFHLDZCQUE2QixpRkFBaUYsb0JBQW9CLG9EQUFDLFNBQVMsMkJBQTJCLHVEQUFDLEVBQUUsdUJBQXVCLG9EQUFDLFNBQVMscUNBQXFDLGdCQUFnQiw0QkFBNEIsa0JBQWtCLE1BQU0sY0FBYyxnQkFBZ0IsVUFBVSw2QkFBNkIsb0RBQUMsRUFBRSxjQUFjLEVBQUUsdUNBQXVDLG9EQUFDLEVBQUUsaUJBQWlCLEVBQUUscUNBQXFDLG9EQUFDLEVBQUUsaUJBQWlCLEVB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Ozs7Ozs7QUNKaDhEO0FBQ0E7QUFDQTtBQUNBO0FBQ3VELGNBQWMsb0NBQW9DLCtEQUFDLE1BQThCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcHJlY2lzaW9uZmFybXMvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL2NvcmUvbWF5YmVVcGRhdGluZy5qcyIsIndlYnBhY2s6Ly9wcmVjaXNpb25mYXJtcy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvbGF5ZXJzL3N1cHBvcnQvdGltZVN1cHBvcnQuanMiLCJ3ZWJwYWNrOi8vcHJlY2lzaW9uZmFybXMvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3N1cHBvcnQvdGltZVV0aWxzLmpzIiwid2VicGFjazovL3ByZWNpc2lvbmZhcm1zLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8zZC9sYXllcnMvaTNzL0kzU01lc2hWaWV3RmlsdGVyLmpzIiwid2VicGFjazovL3ByZWNpc2lvbmZhcm1zLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8zZC9sYXllcnMvaTNzL0kzU1F1ZXJ5RW5naW5lLmpzIiwid2VicGFjazovL3ByZWNpc2lvbmZhcm1zLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8zZC9sYXllcnMvaTNzL0kzU1F1ZXJ5RmVhdHVyZUFkYXB0ZXIuanMiLCJ3ZWJwYWNrOi8vcHJlY2lzaW9uZmFybXMvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzNkL2xheWVycy9pM3MvSTNTUXVlcnlGZWF0dXJlU3RvcmUuanMiLCJ3ZWJwYWNrOi8vcHJlY2lzaW9uZmFybXMvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzNkL2xheWVycy9zdXBwb3J0L0RlZmluaXRpb25FeHByZXNzaW9uU2NlbmVMYXllclZpZXcuanMiLCJ3ZWJwYWNrOi8vcHJlY2lzaW9uZmFybXMvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzNkL2xheWVycy9zdXBwb3J0L1RlbXBvcmFsU2NlbmVMYXllclZpZXcuanMiLCJ3ZWJwYWNrOi8vcHJlY2lzaW9uZmFybXMvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3dlYnNjZW5lL3V0aWxzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjMzL2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5jb25zdCBuPVwidXBkYXRpbmdcIjtmdW5jdGlvbiB0KG4pe3JldHVyblwidXBkYXRpbmdcIj09PW4/bnVsbDpufWZ1bmN0aW9uIHUobil7cmV0dXJuXCJ1cGRhdGluZ1wiPT09bn1leHBvcnR7dSBhcyBpc1VwZGF0aW5nLHQgYXMgdW53cmFwVXBkYXRpbmcsbiBhcyB1cGRhdGluZ307XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4zMy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e3RvTG9jYWxUaW1lRXh0ZW50IGFzIGUsdG9VVENUaW1lRXh0ZW50IGFzIHR9ZnJvbVwiLi4vLi4vc3VwcG9ydC90aW1lVXRpbHMuanNcIjtmdW5jdGlvbiBpKGksbixzKXtpZihudWxsPT1pPy50aW1lSW5mbylyZXR1cm4gbnVsbDtjb25zdHtkYXRlc0luVW5rbm93blRpbWV6b25lOmw9ITEsdGltZU9mZnNldDpvLHVzZVZpZXdUaW1lOm19PWk7bGV0IHU9aS50aW1lRXh0ZW50O2wmJih1PWUodSkpO2xldCByPW0/biYmdT9uLmludGVyc2VjdGlvbih1KTpufHx1OnU7cmV0dXJuIXJ8fHIuaXNFbXB0eXx8ci5pc0FsbFRpbWU/cjoobyYmKHI9ci5vZmZzZXQoLW8udmFsdWUsby51bml0KSksbCYmKHI9dChyKSksci5lcXVhbHMocyk/czpyKX1leHBvcnR7aSBhcyBjb21iaW5lVGltZUV4dGVudH07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4zMy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e2lzU29tZSBhcyB0fWZyb21cIi4uL2NvcmUvYXJyYXlVdGlscy5qc1wiO2ltcG9ydHtjbG9uZSBhcyBlfWZyb21cIi4uL2NvcmUvbGFuZy5qc1wiO2ltcG9ydHtvZmZzZXREYXRlIGFzIG59ZnJvbVwiLi4vY29yZS90aW1lVXRpbHMuanNcIjtpbXBvcnR7VCBhcyBpfWZyb21cIi4uL2NodW5rcy9UaW1lRXh0ZW50LmpzXCI7aW1wb3J0e2lzV2ViTWFwIGFzIHJ9ZnJvbVwiLi4vd2VibWFwL3V0aWxzLmpzXCI7aW1wb3J0e2lzV2ViU2NlbmUgYXMgbH1mcm9tXCIuLi93ZWJzY2VuZS91dGlscy5qc1wiO2Z1bmN0aW9uIHModCl7cmV0dXJuIHZvaWQgMCE9PXQudGltZUluZm99YXN5bmMgZnVuY3Rpb24gdSh0LGUpe3JldHVybiB0LndpZGdldHM/LnRpbWVTbGlkZXI/LmZ1bGxUaW1lRXh0ZW50Pz9hKHQuYWxsTGF5ZXJzLGUpfWZ1bmN0aW9uIG8odCl7Y29uc3QgZT10Lm51bVRodW1icz8/MixuPXQuY3VycmVudFRpbWVFeHRlbnQ7aWYobil7Y29uc3R7c3RhcnQ6dCxlbmQ6aX09bjtyZXR1cm4gbnVsbCE9dCYmbnVsbCE9aSYmdC5nZXRUaW1lKCk9PT1pLmdldFRpbWUoKT9cImluc3RhbnRcIjoyPT09ZT9cInRpbWUtd2luZG93XCI6bnVsbD09dHx8MD09PXQuZ2V0VGltZSgpP1wiY3VtdWxhdGl2ZS1mcm9tLXN0YXJ0XCI6XCJjdW11bGF0aXZlLWZyb20tZW5kXCJ9cmV0dXJuIDI9PT1lP1widGltZS13aW5kb3dcIjpcImN1bXVsYXRpdmUtZnJvbS1zdGFydFwifWZ1bmN0aW9uIG0odCl7Y29uc3R7bnVtU3RvcHM6bixzdG9wSW50ZXJ2YWw6aSxzdG9wczpyfT10O3JldHVybiByP3tkYXRlczplKHIpfTppP3tpbnRlcnZhbDppLmNsb25lKCl9Ontjb3VudDpuPz81fX1hc3luYyBmdW5jdGlvbiBhKGUsbil7aWYoMD09PWUubGVuZ3RoKXJldHVybiBpLmFsbFRpbWU7YXdhaXQgUHJvbWlzZS5hbGwoZS5tYXAoKHQ9PnQubG9hZCh7c2lnbmFsOm59KSkpKTtjb25zdCByPWUuZmlsdGVyKHMpLGw9ZS5maWx0ZXIoKHQ9PiFzKHQpJiZudWxsIT10LnZpc2liaWxpdHlUaW1lRXh0ZW50KSk7aWYoMD09PXIubGVuZ3RoJiYwPT09bC5sZW5ndGgpcmV0dXJuIGkuYWxsVGltZTtjb25zdCB1PVtdLG89W107Zm9yKGNvbnN0IHQgb2YgcilcImZlYXR1cmVcIiE9PXQ/LnR5cGUmJlwibWFwLWltYWdlXCIhPT10Py50eXBlfHwhdC50aW1lSW5mbz8uaGFzTGl2ZURhdGE/by5wdXNoKHQpOnUucHVzaCh0KTtjb25zdCBtPXQ9Pm51bGw9PXR8fHQuaXNBbGxUaW1lLGE9Wy4uLm8ubWFwKCh0PT57Y29uc3QgZT10LnRpbWVJbmZvPy5mdWxsVGltZUV4dGVudCx7dmlzaWJpbGl0eVRpbWVFeHRlbnQ6bn09dDtyZXR1cm4gZT8uaW50ZXJzZWN0aW9uKG4pPz9ufSkpLC4uLmwubWFwKCh0PT50LnZpc2liaWxpdHlUaW1lRXh0ZW50KSldO2lmKGEuc29tZShtKSlyZXR1cm4gaS5hbGxUaW1lO2NvbnN0IGY9dS5tYXAoKGFzeW5jIHQ9Pntjb25zdCBlPShhd2FpdCB0LmZldGNoUmVjb21wdXRlZEV4dGVudHMoe3NpZ25hbDpufSkpPy50aW1lRXh0ZW50Pz90LnRpbWVJbmZvPy5mdWxsVGltZUV4dGVudCx7dmlzaWJpbGl0eVRpbWVFeHRlbnQ6aX09dDtyZXR1cm4gZT8uaW50ZXJzZWN0aW9uKGkpPz9pfSkpLGM9KGF3YWl0IFByb21pc2UuYWxsU2V0dGxlZChmKSkubWFwKCh0PT5cImZ1bGZpbGxlZFwiPT09dC5zdGF0dXM/dC52YWx1ZTpudWxsKSk7aWYoYy5zb21lKG0pKXJldHVybiBpLmFsbFRpbWU7Y29uc3QgZD1bLi4uYywuLi5hXS5maWx0ZXIodCk7aWYoMD09PWQubGVuZ3RoKXJldHVybiBpLmFsbFRpbWU7cmV0dXJuIGQucmVkdWNlKCgodCxlKT0+dC51bmlvbihlKSkpfWZ1bmN0aW9uIGYodCxlKXtjb25zdCBuPXQuY3VycmVudFRpbWVFeHRlbnQ7aWYoIW4pcmV0dXJuIG51bGw7Y29uc3R7c3RhcnQ6cixlbmQ6bH09bixzPXI/P2w/P251bGw7c3dpdGNoKGUpe2Nhc2VcInRpbWUtd2luZG93XCI6cmV0dXJuIG5ldyBpKHtzdGFydDpyLGVuZDpsfSk7Y2FzZVwiY3VtdWxhdGl2ZS1mcm9tLXN0YXJ0XCI6cmV0dXJuIG5ldyBpKHtzdGFydDpudWxsLGVuZDpzfSk7Y2FzZVwiY3VtdWxhdGl2ZS1mcm9tLWVuZFwiOnJldHVybiBuZXcgaSh7c3RhcnQ6cyxlbmQ6bnVsbH0pO2Nhc2VcImluc3RhbnRcIjpyZXR1cm4gbmV3IGkoe3N0YXJ0OnMsZW5kOnN9KX19YXN5bmMgZnVuY3Rpb24gYyh0LGUpe2lmKCFyKHQpJiYhbCh0KSlyZXR1cm4gbnVsbDthd2FpdCB0LmxvYWQoe3NpZ25hbDplfSk7Y29uc3Qgbj10Py53aWRnZXRzPy50aW1lU2xpZGVyO2lmKCFuKXJldHVybiBudWxsO2NvbnN0IGk9YXdhaXQgdSh0LGUpLHM9bi5sb29wLGE9byhuKTtyZXR1cm57ZnVsbFRpbWVFeHRlbnQ6aSxsb29wOnMsbW9kZTphLHBsYXlSYXRlOm4uc3RvcERlbGF5Pz8yZTMsc3RvcHM6bShuKSx0aW1lRXh0ZW50OmYobixhKX19ZnVuY3Rpb24gZCh0KXtpZighdClyZXR1cm4gdDtjb25zdHtzdGFydDplLGVuZDpyfT10O3JldHVybiBuZXcgaSh7c3RhcnQ6bnVsbCE9ZT9uKGUsLWUuZ2V0VGltZXpvbmVPZmZzZXQoKSxcIm1pbnV0ZXNcIik6ZSxlbmQ6bnVsbCE9cj9uKHIsLXIuZ2V0VGltZXpvbmVPZmZzZXQoKSxcIm1pbnV0ZXNcIik6cn0pfWZ1bmN0aW9uIHAodCl7aWYoIXQpcmV0dXJuIHQ7Y29uc3R7c3RhcnQ6ZSxlbmQ6cn09dDtyZXR1cm4gbmV3IGkoe3N0YXJ0Om51bGwhPWU/bihlLGUuZ2V0VGltZXpvbmVPZmZzZXQoKSxcIm1pbnV0ZXNcIik6ZSxlbmQ6bnVsbCE9cj9uKHIsci5nZXRUaW1lem9uZU9mZnNldCgpLFwibWludXRlc1wiKTpyfSl9ZXhwb3J0e2EgYXMgZ2V0VGltZUV4dGVudEZyb21MYXllcnMsYyBhcyBnZXRUaW1lU2xpZGVyU2V0dGluZ3NGcm9tV2ViRG9jdW1lbnQscCBhcyB0b0xvY2FsVGltZUV4dGVudCxkIGFzIHRvVVRDVGltZUV4dGVudH07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4zMy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e18gYXMgZX1mcm9tXCIuLi8uLi8uLi8uLi9jaHVua3MvdHNsaWIuZXM2LmpzXCI7aW1wb3J0IHQgZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9BY2Nlc3Nvci5qc1wiO2ltcG9ydHtpbmRleE9mIGFzIHIsUG9zaXRpb25IaW50IGFzIGl9ZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9hcnJheVV0aWxzLmpzXCI7aW1wb3J0IHMgZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9Mb2dnZXIuanNcIjtpbXBvcnR7Y2xhbXAgYXMgb31mcm9tXCIuLi8uLi8uLi8uLi9jb3JlL21hdGhVdGlscy5qc1wiO2ltcG9ydHt1bndyYXBVcGRhdGluZyBhcyBuLHVwZGF0aW5nIGFzIGEsaXNVcGRhdGluZyBhcyBsfWZyb21cIi4uLy4uLy4uLy4uL2NvcmUvbWF5YmVVcGRhdGluZy5qc1wiO2ltcG9ydHt3aGVuT25jZSBhcyBjfWZyb21cIi4uLy4uLy4uLy4uL2NvcmUvcmVhY3RpdmVVdGlscy5qc1wiO2ltcG9ydHtnZXRVbml0U3RyaW5nIGFzIHB9ZnJvbVwiLi4vLi4vLi4vLi4vY29yZS91bml0VXRpbHMuanNcIjtpbXBvcnR7cHJvcGVydHkgYXMgdX1mcm9tXCIuLi8uLi8uLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3Byb3BlcnR5LmpzXCI7aW1wb3J0XCIuLi8uLi8uLi8uLi9jb3JlL2hhcy5qc1wiO2ltcG9ydHtzdWJjbGFzcyBhcyBnfWZyb21cIi4uLy4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvc3ViY2xhc3MuanNcIjtpbXBvcnR7byBhcyBtLGYgYXMgZCxpIGFzIGZ9ZnJvbVwiLi4vLi4vLi4vLi4vY2h1bmtzL3ZlYzMyLmpzXCI7aW1wb3J0e2Zyb21WYWx1ZXMgYXMgeX1mcm9tXCIuLi8uLi8uLi8uLi9jb3JlL2xpYnMvZ2wtbWF0cml4LTIvZmFjdG9yaWVzL3ZlYzNmNjQuanNcIjtpbXBvcnQgaCBmcm9tXCIuLi8uLi8uLi8uLi9jb3JlL3NxbC9XaGVyZUNsYXVzZS5qc1wiO2ltcG9ydHtnZXRSZWZlcmVuY2VFbGxpcHNvaWQgYXMgan1mcm9tXCIuLi8uLi8uLi8uLi9nZW9tZXRyeS9lbGxpcHNvaWRVdGlscy5qc1wiO2ltcG9ydHtsb2FkIGFzIFIscHJvamVjdCBhcyBTfWZyb21cIi4uLy4uLy4uLy4uL2dlb21ldHJ5L3Byb2plY3Rpb25VdGlscy5qc1wiO2ltcG9ydCB3IGZyb21cIi4uLy4uLy4uLy4uL2dlb21ldHJ5L1NwYXRpYWxSZWZlcmVuY2UuanNcIjtpbXBvcnR7cHJvamVjdEJvdW5kaW5nU3BoZXJlIGFzIEV9ZnJvbVwiLi4vLi4vLi4vLi4vZ2VvbWV0cnkvcHJvamVjdGlvbi9wcm9qZWN0Qm91bmRpbmdTcGhlcmUuanNcIjtpbXBvcnR7cHJvamVjdFZlY3RvclRvVmVjdG9yIGFzIHZ9ZnJvbVwiLi4vLi4vLi4vLi4vZ2VvbWV0cnkvcHJvamVjdGlvbi9wcm9qZWN0VmVjdG9yVG9WZWN0b3IuanNcIjtpbXBvcnR7Y3JlYXRlIGFzIGJ9ZnJvbVwiLi4vLi4vLi4vLi4vZ2VvbWV0cnkvc3VwcG9ydC9hYUJvdW5kaW5nQm94LmpzXCI7aW1wb3J0e2Zyb21WYWx1ZXMgYXMgRixleHBhbmRXaXRoTmVzdGVkQXJyYXkgYXMgSSxleHBhbmQgYXMgX31mcm9tXCIuLi8uLi8uLi8uLi9nZW9tZXRyeS9zdXBwb3J0L2FhQm91bmRpbmdSZWN0LmpzXCI7aW1wb3J0e2RvdWJsZUFycmF5RnJvbSBhcyBrfWZyb21cIi4uLy4uLy4uLy4uL2dlb21ldHJ5L3N1cHBvcnQvRG91YmxlQXJyYXkuanNcIjtpbXBvcnR7ZWFydGggYXMgTX1mcm9tXCIuLi8uLi8uLi8uLi9nZW9tZXRyeS9zdXBwb3J0L0VsbGlwc29pZC5qc1wiO2ltcG9ydHtpc1dHUzg0IGFzIFQsaXNXZWJNZXJjYXRvciBhcyBEfWZyb21cIi4uLy4uLy4uLy4uL2dlb21ldHJ5L3N1cHBvcnQvc3BhdGlhbFJlZmVyZW5jZVV0aWxzLmpzXCI7aW1wb3J0e2YgYXMgR31mcm9tXCIuLi8uLi8uLi8uLi9jaHVua3Mvc3BoZXJlLmpzXCI7aW1wb3J0e3Byb2plY3QgYXMgQ31mcm9tXCIuLi8uLi8uLi8uLi9nZW9tZXRyeS9zdXBwb3J0L3dlYk1lcmNhdG9yVXRpbHMuanNcIjtpbXBvcnQgQSBmcm9tXCIuLi8uLi8uLi8uLi9sYXllcnMvc3VwcG9ydC9GZWF0dXJlRmlsdGVyLmpzXCI7aW1wb3J0e29iamVjdElkRmlsdGVyIGFzIHgsZmlsdGVySW5QbGFjZSBhcyBMfWZyb21cIi4vSTNTVXRpbC5qc1wiO2xldCBPPWNsYXNzIGV4dGVuZHMgdHtjb25zdHJ1Y3RvcihlKXtzdXBlcihlKSx0aGlzLl9wcm9qZWN0aW9uRW5naW5lTG9hZGVkPSExfWluaXRpYWxpemUoKXtjKCgoKT0+dGhpcy52aWV3RmlsdGVyPy5nZW9tZXRyeXx8bnVsbCE9dGhpcy5sYXllckZpbHRlcikpLnRoZW4oKCgpPT50aGlzLmxvYWRBc3luY01vZHVsZShpbXBvcnQoXCIuLi8uLi8uLi8uLi9nZW9tZXRyeS9nZW9tZXRyeUVuZ2luZS5qc1wiKS50aGVuKChlPT57dGhpcy5kZXN0cm95ZWR8fCh0aGlzLl9nZW9tZXRyeUVuZ2luZT1lKX0pKSkpKX1nZXQgc29ydGVkT2JqZWN0SWRzKCl7aWYobnVsbD09dGhpcy52aWV3RmlsdGVyPy5vYmplY3RJZHMpcmV0dXJuIG51bGw7Y29uc3QgZT1rKHRoaXMudmlld0ZpbHRlci5vYmplY3RJZHMpO3JldHVybiBlLnNvcnQoKSxlfWdldCBwYXJzZWRXaGVyZUNsYXVzZSgpe2NvbnN0IGU9dGhpcy52aWV3RmlsdGVyPy53aGVyZTtpZihudWxsPT1lfHwhZSlyZXR1cm4gbnVsbDt0cnl7cmV0dXJuIGguY3JlYXRlKGUse2ZpZWxkc0luZGV4OnRoaXMubGF5ZXJGaWVsZHNJbmRleH0pfWNhdGNoKHQpe3MuZ2V0TG9nZ2VyKHRoaXMpLmVycm9yKGBGYWlsZWQgdG8gcGFyc2UgZmlsdGVyIHdoZXJlIGNsYXVzZTogJHt0fWApfXJldHVybiBudWxsfWFkZEZpbHRlcnMoZSx0LHIsaSl7Y29uc3Qgbz10aGlzLnNvcnRlZE9iamVjdElkcztudWxsIT1vJiZlLnB1c2goKGU9PngobywhMCxlKSkpLHRoaXMuYWRkU3FsRmlsdGVyKGUsdGhpcy5wYXJzZWRXaGVyZUNsYXVzZSksdGhpcy5hZGRUaW1lRmlsdGVyKGUsdGhpcy52aWV3RmlsdGVyPy50aW1lRXh0ZW50KTtjb25zdCBhPW4odGhpcy5fbGF5ZXJNYXNrR2VvbWV0cmllcyksbD10aGlzLl9nZW9tZXRyeUVuZ2luZSxjPSgpPT5zLmdldExvZ2dlcih0aGlzKTtpZihudWxsIT1hJiZudWxsIT10aGlzLmxheWVyRmlsdGVyJiZudWxsIT1sKXtjb25zdCBzPXRoaXMubGF5ZXJGaWx0ZXIuc3BhdGlhbFJlbGF0aW9uc2hpcDtlLnB1c2goKChlLG8pPT5XKGMsbCxlLG8saSx0LHIsYSxzKSkpfWNvbnN0IHA9bih0aGlzLl92aWV3TWFza0dlb21ldHJpZXMpO2lmKG51bGwhPXAmJm51bGwhPXRoaXMudmlld0ZpbHRlciYmbnVsbCE9bCl7Y29uc3Qgcz10aGlzLnZpZXdGaWx0ZXIuc3BhdGlhbFJlbGF0aW9uc2hpcDtlLnB1c2goKChlLG8pPT5XKGMsbCxlLG8saSx0LHIscCxzKSkpfX1pc01CU0dlb21ldHJ5VmlzaWJsZShlLHQscil7Y29uc3QgaT1uKHRoaXMuX2xheWVyTWFza0dlb21ldHJpZXMpLG89dGhpcy5fZ2VvbWV0cnlFbmdpbmU7aWYobnVsbCE9aSYmbnVsbCE9dGhpcy5sYXllckZpbHRlciYmbnVsbCE9byl7Y29uc3Qgbj10aGlzLmxheWVyRmlsdGVyLnNwYXRpYWxSZWxhdGlvbnNoaXAsYT1pWzBdLnNwYXRpYWxSZWZlcmVuY2V8fHQ7aWYoIUUoZSxyLHEsYSkpcmV0dXJuIHMuZ2V0TG9nZ2VyKHRoaXMpLndhcm5PbmNlKFwiU2NlbmVMYXllci5tYXNrIGdlb21ldHJ5IGlzIHVzaW5nIHVuc3VwcG9ydGVkIFNwYXRpYWxSZWZlcmVuY2UsIHNraXBwaW5nIGdlb21ldHJ5IGZpbHRlciBmb3IgTUJTXCIpLCEwO3JldHVybiBWKG8scSxpLGEsbil9Y29uc3QgYT1uKHRoaXMuX3ZpZXdNYXNrR2VvbWV0cmllcyk7aWYobnVsbCE9YSYmbnVsbCE9dGhpcy52aWV3RmlsdGVyJiZudWxsIT1vKXtjb25zdCBpPXRoaXMudmlld0ZpbHRlci5zcGF0aWFsUmVsYXRpb25zaGlwLG49YVswXS5zcGF0aWFsUmVmZXJlbmNlfHx0O2lmKCFFKGUscixxLG4pKXJldHVybiBzLmdldExvZ2dlcih0aGlzKS53YXJuT25jZShcIlNjZW5lTGF5ZXJWaWV3LmZpbHRlci5nZW9tZXRyeSBpcyB1c2luZyB1bnN1cHBvcnRlZCBTcGF0aWFsUmVmZXJlbmNlLCBza2lwcGluZyBnZW9tZXRyeSBmaWx0ZXIgZm9yIE1CU1wiKSwhMDtyZXR1cm4gVihvLHEsYSxuLGkpfXJldHVybiEwfWdldCBwYXJzZWRHZW9tZXRyeSgpe2NvbnN0IGU9bih0aGlzLl92aWV3TWFza0dlb21ldHJpZXMpLHQ9bih0aGlzLl9sYXllck1hc2tHZW9tZXRyaWVzKTtyZXR1cm4gbnVsbD09ZXx8bnVsbD09dD9lfHx0OnQuY29uY2F0KGUpfWdldCBfbGF5ZXJNYXNrR2VvbWV0cmllcygpe2NvbnN0IGU9dGhpcy5sYXllckZpbHRlcjtyZXR1cm4gbnVsbD09ZT9udWxsOm51bGw9PXRoaXMuX2dlb21ldHJ5RW5naW5lP2E6XCJkaXNqb2ludFwiPT09ZS5zcGF0aWFsUmVsYXRpb25zaGlwP2UuZ2VvbWV0cmllcy5tYXAoKGU9Pih7dHlwZTpcInBvbHlnb25cIixyaW5nczplLnJpbmdzLHNwYXRpYWxSZWZlcmVuY2U6ZS5zcGF0aWFsUmVmZXJlbmNlLGNhY2hlOnt9fSkpKTpbZS5nZW9tZXRyaWVzLnJlZHVjZSgoKGUsdCk9PihlLnJpbmdzPVsuLi5lLnJpbmdzLC4uLnQucmluZ3NdLGUpKSx7dHlwZTpcInBvbHlnb25cIixyaW5nczpbXSxzcGF0aWFsUmVmZXJlbmNlOmUuZ2VvbWV0cmllc1swXS5zcGF0aWFsUmVmZXJlbmNlLGNhY2hlOnt9fSldfWdldCBfdmlld01hc2tHZW9tZXRyaWVzKCl7aWYobnVsbD09dGhpcy52aWV3RmlsdGVyKXJldHVybiBudWxsO2NvbnN0e2dlb21ldHJ5OmV9PXRoaXMudmlld0ZpbHRlcjtpZihudWxsPT1lKXJldHVybiBudWxsO2lmKG51bGw9PXRoaXMudmlld0ZpbHRlcnx8bnVsbD09dGhpcy5fZ2VvbWV0cnlFbmdpbmUpcmV0dXJuIGE7Y29uc3R7ZGlzdGFuY2U6dCx1bml0czpyfT10aGlzLnZpZXdGaWx0ZXIsaT10aGlzLnZpZXdGaWx0ZXIuc3BhdGlhbFJlbGF0aW9uc2hpcCxvPVwibWVzaFwiPT09ZS50eXBlP2UuZXh0ZW50OmU7aWYobnVsbD09dHx8MD09PXQpcmV0dXJuIEsodGhpcy5fZ2VvbWV0cnlFbmdpbmUsbyxpKTtjb25zdCBuPXJ8fHAoby5zcGF0aWFsUmVmZXJlbmNlKTtpZihvLnNwYXRpYWxSZWZlcmVuY2UuaXNXR1M4NCl7Y29uc3QgZT10aGlzLl9nZW9tZXRyeUVuZ2luZS5nZW9kZXNpY0J1ZmZlcihvLHQsbik7cmV0dXJuIEsodGhpcy5fZ2VvbWV0cnlFbmdpbmUsZSxpKX1jb25zdCBsPUMobyx3LldHUzg0KTtpZihudWxsIT1sKXtjb25zdCBlPUModGhpcy5fZ2VvbWV0cnlFbmdpbmUuZ2VvZGVzaWNCdWZmZXIobCx0LG4pLG8uc3BhdGlhbFJlZmVyZW5jZSk7cmV0dXJuIEsodGhpcy5fZ2VvbWV0cnlFbmdpbmUsZSxpKX1pZighdGhpcy5fcHJvamVjdGlvbkVuZ2luZUxvYWRlZCYmKHRoaXMubG9hZEFzeW5jTW9kdWxlKFIoKS50aGVuKCgoKT0+dGhpcy5fcHJvamVjdGlvbkVuZ2luZUxvYWRlZD0hMCkpKSwhdGhpcy5fcHJvamVjdGlvbkVuZ2luZUxvYWRlZCkpcmV0dXJuIG51bGw7bGV0IGM9bnVsbDt0cnl7Yz1TKG8sdy5XR1M4NCl9Y2F0Y2godSl7fWlmKGMpdHJ5e2M9Uyh0aGlzLl9nZW9tZXRyeUVuZ2luZS5nZW9kZXNpY0J1ZmZlcihjLHQsbiksby5zcGF0aWFsUmVmZXJlbmNlKX1jYXRjaCh1KXtjPW51bGx9cmV0dXJuIGN8fHMuZ2V0TG9nZ2VyKHRoaXMpLmVycm9yKGBGaWx0ZXIgYnkgZ2VvZGVzaWMgYnVmZmVyIChkaXN0YW5jZSkgdW5zdXBwb3J0ZWQsIGZhaWxlZCB0byBwcm9qZWN0IGlucHV0IGdlb21ldHJ5ICgke28uc3BhdGlhbFJlZmVyZW5jZS53a2lkfSkgdG8gV0dTODQuYCksSyh0aGlzLl9nZW9tZXRyeUVuZ2luZSxjLGkpfWdldCB1cGRhdGluZygpe3JldHVybiBsKHRoaXMuX2xheWVyTWFza0dlb21ldHJpZXMpfHxsKHRoaXMuX3ZpZXdNYXNrR2VvbWV0cmllcyl9c3RhdGljIGNoZWNrU3VwcG9ydChlKXtyZXR1cm4gbnVsbCE9ZSYmKCEhVShlLnNwYXRpYWxSZWxhdGlvbnNoaXApfHwocy5nZXRMb2dnZXIodGhpcy5wcm90b3R5cGUpLndhcm4oYEZpbHRlcnMgd2l0aCBzcGF0aWFsUmVsYXRpb25zaGlwIG90aGVyIHRoYW4gJHtCLmpvaW4oXCIsIFwiKX0gYXJlIG5vdCBzdXBwb3J0ZWQgZm9yIG1lc2ggc2NlbmUgbGF5ZXJzYCksITEpKX19O2UoW3UoKV0sTy5wcm90b3R5cGUsXCJsYXllckZpbHRlclwiLHZvaWQgMCksZShbdSh7dHlwZTpBfSldLE8ucHJvdG90eXBlLFwidmlld0ZpbHRlclwiLHZvaWQgMCksZShbdSgpXSxPLnByb3RvdHlwZSxcImxheWVyRmllbGRzSW5kZXhcIix2b2lkIDApLGUoW3UoKV0sTy5wcm90b3R5cGUsXCJsb2FkQXN5bmNNb2R1bGVcIix2b2lkIDApLGUoW3UoKV0sTy5wcm90b3R5cGUsXCJhZGRTcWxGaWx0ZXJcIix2b2lkIDApLGUoW3UoKV0sTy5wcm90b3R5cGUsXCJhZGRUaW1lRmlsdGVyXCIsdm9pZCAwKSxlKFt1KHtyZWFkT25seTohMH0pXSxPLnByb3RvdHlwZSxcInNvcnRlZE9iamVjdElkc1wiLG51bGwpLGUoW3Uoe3JlYWRPbmx5OiEwfSldLE8ucHJvdG90eXBlLFwicGFyc2VkV2hlcmVDbGF1c2VcIixudWxsKSxlKFt1KHtyZWFkT25seTohMH0pXSxPLnByb3RvdHlwZSxcInBhcnNlZEdlb21ldHJ5XCIsbnVsbCksZShbdSh7cmVhZE9ubHk6ITB9KV0sTy5wcm90b3R5cGUsXCJfbGF5ZXJNYXNrR2VvbWV0cmllc1wiLG51bGwpLGUoW3Uoe3JlYWRPbmx5OiEwfSldLE8ucHJvdG90eXBlLFwiX3ZpZXdNYXNrR2VvbWV0cmllc1wiLG51bGwpLGUoW3UoKV0sTy5wcm90b3R5cGUsXCJ1cGRhdGluZ1wiLG51bGwpLGUoW3UoKV0sTy5wcm90b3R5cGUsXCJfcHJvamVjdGlvbkVuZ2luZUxvYWRlZFwiLHZvaWQgMCksZShbdSgpXSxPLnByb3RvdHlwZSxcIl9nZW9tZXRyeUVuZ2luZVwiLHZvaWQgMCksTz1lKFtnKFwiZXNyaS52aWV3cy4zZC5sYXllcnMuaTNzLkkzU01lc2hWaWV3RmlsdGVyXCIpXSxPKTtjb25zdCBCPShlPT5lKShbXCJjb250YWluc1wiLFwiaW50ZXJzZWN0c1wiLFwiZGlzam9pbnRcIl0pO2Z1bmN0aW9uIFUoZSl7cmV0dXJuIG51bGwhPWUmJkIuaW5jbHVkZXMoZSl9dmFyIFA7ZnVuY3Rpb24gSyhlLHQscyl7aWYobnVsbD09dClyZXR1cm4gbnVsbDtpZihcImRpc2pvaW50XCI9PT1zJiZcInBvbHlnb25cIj09PXQudHlwZSl7Y29uc3Qgcz10LnJpbmdzLmxlbmd0aCxvPXQuc3BhdGlhbFJlZmVyZW5jZSxuPW5ldyBBcnJheShzKTtmb3IobGV0IGU9MDtlPHM7KytlKXtjb25zdCByPUYoMS8wLDEvMCwtMS8wLC0xLzApO0kocix0LnJpbmdzW2VdKSxuW2VdPXt0eXBlOlwicG9seWdvblwiLHJpbmdzOlt0LnJpbmdzW2VdXSxzcGF0aWFsUmVmZXJlbmNlOm8sY2FjaGU6e30sYWFicjpyfX1uLnNvcnQoKChlLHQpPT5lLmFhYnJbMF0tdC5hYWJyWzBdKSk7Y29uc3QgYT1uZXcgU2V0LGw9bmV3IGk7Zm9yKGxldCB0PTA7dDxuLmxlbmd0aDsrK3Qpe2NvbnN0IGk9blt0XSxzPWkuYWFiclswXTthLmZvckVhY2goKHQ9PntpZihzPj10LmFhYnJbMl0pcmV0dXJuIHZvaWQgYS5kZWxldGUodCk7aWYoaS5hYWJyWzFdPnQuYWFiclszXXx8aS5hYWJyWzNdPHQuYWFiclsxXXx8IWUuaW50ZXJzZWN0cyhpLHQpKXJldHVybjtpLnJpbmdzPWkucmluZ3MuY29uY2F0KHQucmluZ3MpLF8oaS5hYWJyLHQuYWFicixpLmFhYnIpLGkuY2FjaGU9e30sYS5kZWxldGUodCk7Y29uc3Qgbz1yKG4sdCxuLmxlbmd0aCxsKTtuLnNwbGljZShvLDEpfSkpLGEuYWRkKGkpfWZvcihjb25zdCBlIG9mIG4pZS5hYWJyPXZvaWQgMDtyZXR1cm4gbn1yZXR1cm5bdF19ZnVuY3Rpb24gVihlLHQscixpLHMpe2lmKHRbM10+PS41Kih0WzJdK2ooaSkucmFkaXVzKSlyZXR1cm4hMDtjb25zdCBvPSQoZSx0LGkpO3JldHVybiByLmV2ZXJ5KCh0PT56KGUsdCxvLHMpIT09UC5ESVNDQVJEKSl9ZnVuY3Rpb24gVyhlLHQscixpLHMsbyxuLGEsbCl7Y29uc3QgYz1hWzBdLnNwYXRpYWxSZWZlcmVuY2V8fG8uc3BhdGlhbFJlZmVyZW5jZTtpZighRShpLm5vZGUuc2VydmljZU1ic0luSW5kZXhTUixuLHEsYykpcmV0dXJuIHZvaWQgZSgpLndhcm5PbmNlKFwiU2NlbmVMYXllclZpZXcuZmlsdGVyLmdlb21ldHJ5IGlzIHVzaW5nIHVuc3VwcG9ydGVkIFNwYXRpYWxSZWZlcmVuY2UsIHNraXBwaW5nIGdlb21ldHJ5IGZpbHRlclwiKTtjb25zdCBwPSQodCxxLGMpLHU9TihsLG8sYyxzLGkub2JqZWN0SGFuZGxlKSxnPVwiaW50ZXJzZWN0c1wiPT09bDtsZXQgbT1udWxsO2Zvcihjb25zdCBkIG9mIGEpe2lmKDA9PT1yLmxlbmd0aClyZXR1cm47c3dpdGNoKHoodCxkLHAsbCkpe2Nhc2UgUC5ESVNDQVJEOnJldHVybiBnJiYoaS53ZWFrbHlSZW1vdmVkSWRzPWkud2Vha2x5UmVtb3ZlZElkcz8uY29uY2F0KHIpPz9yLnNsaWNlKCkpLHZvaWQoci5sZW5ndGg9MCk7Y2FzZSBQLktFRVA6Y29udGludWV9TChyLGkuZmVhdHVyZUlkcywoZT0+ISFKKHQsZCxlLHUpfHwoZyYmKG18fD1bXSxtLnB1c2goaS5mZWF0dXJlSWRzW2VdKSksITEpKSl9bSYmKGkud2Vha2x5UmVtb3ZlZElkcz1pLndlYWtseVJlbW92ZWRJZHM/LmNvbmNhdChtKT8/bSl9IWZ1bmN0aW9uKGUpe2VbZS5LRUVQPTBdPVwiS0VFUFwiLGVbZS5ESVNDQVJEPTFdPVwiRElTQ0FSRFwiLGVbZS5URVNUPTJdPVwiVEVTVFwifShQfHwoUD17fSkpO2NvbnN0IHE9RygwLDAsMCwwKTtmdW5jdGlvbiBOKGUsdCxyLGkscyl7Y29uc3Qgbz10LnJlbmRlclNwYXRpYWxSZWZlcmVuY2Usbj1uZXcgTWFwLGE9e3R5cGU6XCJwb2x5Z29uXCIscmluZ3M6W1tbMCwwLDBdLFswLDAsMF0sWzAsMCwwXSxbMCwwLDBdXV0sc3BhdGlhbFJlZmVyZW5jZTpyfTthLnJpbmdzWzBdWzNdPWEucmluZ3NbMF1bMF07Y29uc3QgbD17aW5kaWNlczpudWxsLGRhdGE6bnVsbCxzdHJpZGU6MCxzdGFydEluZGV4OjAsZW5kSW5kZXg6MH07bGV0IGMscDtzd2l0Y2goZSl7Y2FzZVwiaW50ZXJzZWN0c1wiOmM9KGUsdCxyKT0+ZS5pbnRlcnNlY3RzKHQscik/UC5LRUVQOlAuVEVTVCxwPUg7YnJlYWs7Y2FzZVwiY29udGFpbnNcIjpjPShlLHQscik9PmUuY29udGFpbnModCxyKT9QLlRFU1Q6UC5ESVNDQVJELHA9SDticmVhaztkZWZhdWx0OmM9KGUsdCxyKT0+ZS5kaXNqb2ludCh0LHIpP1AuVEVTVDpQLkRJU0NBUkQscD1afXJldHVybntjb2xsZWN0aW9uOmksb2JqZWN0OnMsdHlwZTplLG1hc2tTUjpyLHJlbmRlclNSOm8sYWFiYkNhY2hlOm4sdHJpYW5nbGU6YSxwb3NpdGlvbnM6bCx0cmlhbmdsZVRlc3Q6YyxnZW9tZXRyeVRlc3Q6cH19ZnVuY3Rpb24gJChlLHQscil7Y29uc3QgaT17dHlwZTpcInBvaW50XCIseDp0WzBdLHk6dFsxXSxoYXNaOiExLGhhc006ITEsc3BhdGlhbFJlZmVyZW5jZTpyfSxzPSFUKHIpJiYhRChyKSxuPU51bWJlci5pc05hTih0WzNdKT8wOm8odFszXSwwLDIqTS5yYWRpdXMpLGE9cz9lLmJ1ZmZlcihpLG4sMSk6ZS5nZW9kZXNpY0J1ZmZlcihpLG4sMSk7cmV0dXJuIGEudHlwZT1cInBvbHlnb25cIixhfWZ1bmN0aW9uIHooZSx0LHIsaSl7c3dpdGNoKGkpe2Nhc2VcImludGVyc2VjdHNcIjpjYXNlXCJjb250YWluc1wiOnJldHVybiBIKGUsdCxyKTtjYXNlXCJkaXNqb2ludFwiOnJldHVybiBaKGUsdCxyKX19ZnVuY3Rpb24gSChlLHQscil7cmV0dXJuIGUuaW50ZXJzZWN0cyh0LHIpP2UuY29udGFpbnModCxyKT9QLktFRVA6UC5URVNUOlAuRElTQ0FSRH1mdW5jdGlvbiBaKGUsdCxyKXtyZXR1cm4gZS5pbnRlcnNlY3RzKHQscik/ZS5jb250YWlucyh0LHIpP1AuRElTQ0FSRDpQLlRFU1Q6UC5LRUVQfWZ1bmN0aW9uIEooZSx0LHIsaSl7Y29uc3R7Y29sbGVjdGlvbjpzLG9iamVjdDpvLHJlbmRlclNSOm4sbWFza1NSOmEsZ2VvbWV0cnlUZXN0OmwsYWFiYkNhY2hlOmN9PWk7bGV0IHA9Yy5nZXQocik7aWYoIXApe2NvbnN0IGU9cy5nZXRPYmplY3RUcmFuc2Zvcm0obyk7cy5nZXRDb21wb25lbnRBYWJiKG8scixRKTtjb25zdCB0PVt5KFFbMF0sUVsxXSwwKSx5KFFbMF0sUVs0XSwwKSx5KFFbM10sUVs0XSwwKSx5KFFbM10sUVsxXSwwKV07Zm9yKGxldCByPTA7cjw0OysrciltKHRbcl0sdFtyXSxlLnJvdGF0aW9uU2NhbGUpLGQodFtyXSx0W3JdLGUucG9zaXRpb24pLHYodFtyXSxuLHRbcl0sYSk7cD17dHlwZTpcInBvbHlnb25cIixyaW5nczpbdF0sc3BhdGlhbFJlZmVyZW5jZTphLGNhY2hlOnt9fSxwLnJpbmdzWzBdWzRdPXAucmluZ3NbMF1bMF0sYy5zZXQocixwKX1zd2l0Y2gobChlLHQscCkpe2Nhc2UgUC5ESVNDQVJEOnJldHVybiExO2Nhc2UgUC5LRUVQOnJldHVybiEwfWNvbnN0e3RyaWFuZ2xlOnUsdHJpYW5nbGVUZXN0OmcscG9zaXRpb25zOmh9PWksaj11LnJpbmdzWzBdWzBdLFI9dS5yaW5nc1swXVsxXSxTPXUucmluZ3NbMF1bMl0sdz1zLmdldE9iamVjdFRyYW5zZm9ybShvKTtzLmdldENvbXBvbmVudFBvc2l0aW9ucyhvLHIsaCk7Y29uc3R7aW5kaWNlczpFLGRhdGE6YixzdHJpZGU6RixzdGFydEluZGV4OkksZW5kSW5kZXg6X309aDtmb3IobGV0IHk9STt5PF87eSs9Myl7Y29uc3Qgcj1GKkVbeV0saT1GKkVbeSsxXSxzPUYqRVt5KzJdO3N3aXRjaChmKGosYltyXSxiW3IrMV0sYltyKzJdKSxmKFIsYltpXSxiW2krMV0sYltpKzJdKSxmKFMsYltzXSxiW3MrMV0sYltzKzJdKSxtKGosaix3LnJvdGF0aW9uU2NhbGUpLG0oUixSLHcucm90YXRpb25TY2FsZSksbShTLFMsdy5yb3RhdGlvblNjYWxlKSxkKGosaix3LnBvc2l0aW9uKSxkKFIsUix3LnBvc2l0aW9uKSxkKFMsUyx3LnBvc2l0aW9uKSx2KGosbixqLGEpLHYoUixuLFIsYSksdihTLG4sUyxhKSxnKGUsdCx1KSl7Y2FzZSBQLkRJU0NBUkQ6cmV0dXJuITE7Y2FzZSBQLktFRVA6cmV0dXJuITB9fXJldHVyblwiaW50ZXJzZWN0c1wiIT09aS50eXBlfWNvbnN0IFE9YigpO2V4cG9ydHtPIGFzIEkzU01lc2hWaWV3RmlsdGVyfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjMzL2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7XyBhcyBlfWZyb21cIi4uLy4uLy4uLy4uL2NodW5rcy90c2xpYi5lczYuanNcIjtpbXBvcnQgdCBmcm9tXCIuLi8uLi8uLi8uLi9jb3JlL0FjY2Vzc29yLmpzXCI7aW1wb3J0e2Rlc3Ryb3lNYXliZSBhcyByfWZyb21cIi4uLy4uLy4uLy4uL2NvcmUvbWF5YmUuanNcIjtpbXBvcnR7cHJvcGVydHkgYXMgc31mcm9tXCIuLi8uLi8uLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3Byb3BlcnR5LmpzXCI7aW1wb3J0XCIuLi8uLi8uLi8uLi9jb3JlL2hhcy5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vLi4vY29yZS9Mb2dnZXIuanNcIjtpbXBvcnRcIi4uLy4uLy4uLy4uL2NvcmUvUmFuZG9tTENHLmpzXCI7aW1wb3J0e3N1YmNsYXNzIGFzIG59ZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9zdWJjbGFzcy5qc1wiO2ltcG9ydCBpIGZyb21cIi4uLy4uLy4uLy4uL2dlb21ldHJ5L0V4dGVudC5qc1wiO2ltcG9ydHtmYWxsYmFja09iamVjdElEQXR0cmlidXRlIGFzIG99ZnJvbVwiLi4vLi4vLi4vLi4vbGF5ZXJzL0xheWVyQ29uc3RhbnRzLmpzXCI7aW1wb3J0e1F1ZXJ5RW5naW5lIGFzIGF9ZnJvbVwiLi4vLi4vLi4vLi4vbGF5ZXJzL2dyYXBoaWNzL2RhdGEvUXVlcnlFbmdpbmUuanNcIjtpbXBvcnQgdSBmcm9tXCIuLi8uLi8uLi8uLi9sYXllcnMvc3VwcG9ydC9GaWVsZHNJbmRleC5qc1wiO2ltcG9ydCB5IGZyb21cIi4uLy4uLy4uLy4uL3Jlc3Qvc3VwcG9ydC9GZWF0dXJlU2V0LmpzXCI7aW1wb3J0IGMgZnJvbVwiLi4vLi4vLi4vLi4vcmVzdC9zdXBwb3J0L1F1ZXJ5LmpzXCI7Y29uc3QgbD1hO2xldCBwPWNsYXNzIGV4dGVuZHMgdHtjb25zdHJ1Y3RvcihlKXtzdXBlcihlKX1pbml0aWFsaXplKCl7dGhpcy5hZGRIYW5kbGVzKHRoaXMubGF5ZXJWaWV3Lm9uKFwidmlzaWJsZS1nZW9tZXRyeS1jaGFuZ2VkXCIsKCgpPT50aGlzLnNwYXRpYWxJbmRleC5ldmVudHMuZW1pdChcImNoYW5nZWRcIikpKSl9ZGVzdHJveSgpe3RoaXMuX2RhdGFRdWVyeUVuZ2luZUluc3RhbmNlPXIodGhpcy5fZGF0YVF1ZXJ5RW5naW5lSW5zdGFuY2UpLHRoaXMuX3NldChcImxheWVyVmlld1wiLG51bGwpfWdldCBzcGF0aWFsUmVmZXJlbmNlKCl7cmV0dXJuIHRoaXMubGF5ZXJWaWV3LnZpZXcuc3BhdGlhbFJlZmVyZW5jZX1nZXQgbGF5ZXIoKXtyZXR1cm4gdGhpcy5sYXllclZpZXcuaTNzbGF5ZXJ9Z2V0IGRlZmF1bHRRdWVyeUpTT04oKXtyZXR1cm4gbmV3IGMoe291dFNwYXRpYWxSZWZlcmVuY2U6dGhpcy5zcGF0aWFsUmVmZXJlbmNlfSkudG9KU09OKCl9Z2V0IF9kYXRhUXVlcnlFbmdpbmUoKXtyZXR1cm4gdGhpcy5fZW5zdXJlRGF0YVF1ZXJ5RW5naW5lKCl9YXN5bmMgZXhlY3V0ZVF1ZXJ5Rm9yQ291bnQoZSx0KXtyZXR1cm4gdGhpcy5fZGF0YVF1ZXJ5RW5naW5lLmV4ZWN1dGVRdWVyeUZvckNvdW50KHRoaXMuX2Vuc3VyZVF1ZXJ5SlNPTihlKSx0KX1hc3luYyBleGVjdXRlUXVlcnlGb3JFeHRlbnQoZSx0KXtjb25zdHtjb3VudDpyLGV4dGVudDpzfT1hd2FpdCB0aGlzLl9kYXRhUXVlcnlFbmdpbmUuZXhlY3V0ZVF1ZXJ5Rm9yRXh0ZW50KHRoaXMuX2Vuc3VyZVF1ZXJ5SlNPTihlKSx0KTtyZXR1cm57Y291bnQ6cixleHRlbnQ6aS5mcm9tSlNPTihzKX19YXN5bmMgZXhlY3V0ZVF1ZXJ5Rm9ySWRzKGUsdCl7cmV0dXJuIHRoaXMuX2RhdGFRdWVyeUVuZ2luZS5leGVjdXRlUXVlcnlGb3JJZHModGhpcy5fZW5zdXJlUXVlcnlKU09OKGUpLHQpfWFzeW5jIGV4ZWN1dGVRdWVyeShlLHQpe2NvbnN0IHI9dGhpcy5fZW5zdXJlUXVlcnlKU09OKGUpLHM9YXdhaXQgdGhpcy5fZGF0YVF1ZXJ5RW5naW5lLmV4ZWN1dGVRdWVyeShyLHQpO2lmKGU/LnJldHVybkdlb21ldHJ5KXtjb25zdHtwcm9jZXNzUXVlcnlHZW9tZXRyaWVzOmV9PWF3YWl0IGltcG9ydChcIi4vSTNTUXVlcnlSZXN1bHRHZW9tZXRyeS5qc1wiKTtyZXR1cm4gZSh0aGlzLmxheWVyVmlldyxzKX1yZXR1cm4geS5mcm9tSlNPTihzKX1fZW5zdXJlUXVlcnlKU09OKGUpe3JldHVybiBudWxsPT1lP3RoaXMuZGVmYXVsdFF1ZXJ5SlNPTjplLnRvSlNPTigpfV9lbnN1cmVEYXRhUXVlcnlFbmdpbmUoKXtpZih0aGlzLl9kYXRhUXVlcnlFbmdpbmVJbnN0YW5jZSlyZXR1cm4gdGhpcy5fZGF0YVF1ZXJ5RW5naW5lSW5zdGFuY2U7Y29uc3QgZT10aGlzLmxheWVyLm9iamVjdElkRmllbGR8fG8sdD1cImVzcmlHZW9tZXRyeVBvbHlnb25cIixyPXRoaXMubGF5ZXIuZmllbGRzSW5kZXg/LnRvSlNPTigpfHxuZXcgdShbXSkscz10aGlzLmxheWVyVmlldy52aWV3LnJlc291cmNlQ29udHJvbGxlci5zY2hlZHVsZXIsbj10aGlzLnNwYXRpYWxSZWZlcmVuY2UudG9KU09OKCksaT10aGlzLnByaW9yaXR5LGE9dGhpcy5zcGF0aWFsSW5kZXg7cmV0dXJuIHRoaXMuX2RhdGFRdWVyeUVuZ2luZUluc3RhbmNlPW5ldyBsKHtoYXNaOiEwLGhhc006ITEsZ2VvbWV0cnlUeXBlOnQsZmllbGRzSW5kZXg6cix0aW1lSW5mbzpudWxsLHNwYXRpYWxSZWZlcmVuY2U6bixmZWF0dXJlSWRJbmZvOnt0eXBlOlwib2JqZWN0LWlkXCIsZmllbGROYW1lOmV9LGZlYXR1cmVTdG9yZTphLHNjaGVkdWxlcjpzLHByaW9yaXR5Oml9KSx0aGlzLl9kYXRhUXVlcnlFbmdpbmVJbnN0YW5jZX19O2UoW3Moe2NvbnN0cnVjdE9ubHk6ITB9KV0scC5wcm90b3R5cGUsXCJsYXllclZpZXdcIix2b2lkIDApLGUoW3Moe2NvbnN0cnVjdE9ubHk6ITB9KV0scC5wcm90b3R5cGUsXCJwcmlvcml0eVwiLHZvaWQgMCksZShbcyh7Y29uc3RydWN0T25seTohMH0pXSxwLnByb3RvdHlwZSxcInNwYXRpYWxJbmRleFwiLHZvaWQgMCksZShbcygpXSxwLnByb3RvdHlwZSxcInNwYXRpYWxSZWZlcmVuY2VcIixudWxsKSxlKFtzKCldLHAucHJvdG90eXBlLFwibGF5ZXJcIixudWxsKSxlKFtzKCldLHAucHJvdG90eXBlLFwiZGVmYXVsdFF1ZXJ5SlNPTlwiLG51bGwpLHA9ZShbbihcImVzcmkudmlld3MuM2QubGF5ZXJzLmkzcy5JM1NRdWVyeUVuZ2luZVwiKV0scCk7ZXhwb3J0e3AgYXMgSTNTUXVlcnlFbmdpbmV9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMzMvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtjcmVhdGUgYXMgdH1mcm9tXCIuLi8uLi8uLi8uLi9nZW9tZXRyeS9zdXBwb3J0L2FhQm91bmRpbmdCb3guanNcIjtpbXBvcnR7Z2V0Q2VudHJvaWRPcHRpbWl6ZWRHZW9tZXRyeSBhcyBlfWZyb21cIi4uLy4uLy4uLy4uL2xheWVycy9ncmFwaGljcy9jZW50cm9pZC5qc1wiO2ltcG9ydCByIGZyb21cIi4uLy4uLy4uLy4uL2xheWVycy9ncmFwaGljcy9PcHRpbWl6ZWRHZW9tZXRyeS5qc1wiO2ltcG9ydHtnZXRDYWNoZWRBdHRyaWJ1dGVWYWx1ZSBhcyBpfWZyb21cIi4vSTNTQmluYXJ5UmVhZGVyLmpzXCI7Y2xhc3Mgb3tjb25zdHJ1Y3Rvcih0KXt0aGlzLl9vYmplY3RJZEZpZWxkPXQub2JqZWN0SWRGaWVsZCx0aGlzLl9nZXRGZWF0dXJlRXh0ZW50PXQuZ2V0RmVhdHVyZUV4dGVudH1nZXRPYmplY3RJZCh0KXtyZXR1cm4gdC5pZH1nZXRBdHRyaWJ1dGVzKHQpe2NvbnN0e21ldGE6ZSxpbmRleDpyfT10LG89e307dGhpcy5fb2JqZWN0SWRGaWVsZCYmKG9bdGhpcy5fb2JqZWN0SWRGaWVsZF09dC5pZCk7Y29uc3Qgbj1lLmF0dHJpYnV0ZUluZm8/LmF0dHJpYnV0ZURhdGE7aWYobnVsbCE9bilmb3IoY29uc3QgcyBvZiBPYmplY3Qua2V5cyhuKSlvW3NdPWkobltzXSxyKTtyZXR1cm4gb31nZXRBdHRyaWJ1dGUodCxlKXtpZihlPT09dGhpcy5fb2JqZWN0SWRGaWVsZClyZXR1cm4gdC5pZDtjb25zdHttZXRhOnIsaW5kZXg6b309dCxuPXIuYXR0cmlidXRlSW5mbz8uYXR0cmlidXRlRGF0YTtyZXR1cm4gbnVsbCE9bj9pKG5bZV0sbyk6bnVsbH1nZXRHZW9tZXRyeSh0KXtpZih0Lmdlb21ldHJ5KXJldHVybiB0Lmdlb21ldHJ5O2NvbnN0W2UsaSxvLG4sYSx1XT10aGlzLl9nZXRGZWF0dXJlRXh0ZW50KHQscyk7cmV0dXJuIG5ldyByKFs1LDVdLFtlLGksbyxuLGksbyxuLGEsbyxlLGEsbyxlLGksbyxlLGksdSxuLGksdSxuLGEsdSxlLGEsdSxlLGksdV0pfWdldENlbnRyb2lkKHQsaSl7aWYodC5nZW9tZXRyeSlyZXR1cm4gZShuZXcgcix0Lmdlb21ldHJ5LGkuaGFzWixpLmhhc00pO2NvbnN0W28sbixhLHUsZCxjXT10aGlzLl9nZXRGZWF0dXJlRXh0ZW50KHQscyk7cmV0dXJuIG5ldyByKFswXSxbKG8rdSkvMiwobitkKS8yLChhK2MpLzJdKX1jbG9uZVdpdGhHZW9tZXRyeSh0LGUpe2NvbnN0e2lkOnIsaW5kZXg6aSxtZXRhOm99PXQ7cmV0dXJuIG5ldyBuKHIsaSxvLGUpfWdldE1ldGFkYXRhKHQpe3JldHVybiB0fX1jbGFzcyBue2NvbnN0cnVjdG9yKHQsZSxyLGkpe3RoaXMuaWQ9dCx0aGlzLmluZGV4PWUsdGhpcy5tZXRhPXIsdGhpcy5nZW9tZXRyeT1pfWdldCB1c2VkTWVtb3J5KCl7cmV0dXJuIDMyKyh0aGlzLmdlb21ldHJ5Py51c2VkTWVtb3J5Pz8wKX19Y29uc3Qgcz10KCk7ZXhwb3J0e24gYXMgSTNTUXVlcnlGZWF0dXJlLG8gYXMgSTNTUXVlcnlGZWF0dXJlQWRhcHRlcn07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4zMy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e18gYXMgcn1mcm9tXCIuLi8uLi8uLi8uLi9jaHVua3MvdHNsaWIuZXM2LmpzXCI7aW1wb3J0IGUgZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9BY2Nlc3Nvci5qc1wiO2ltcG9ydHt0b0NvbnN0IGFzIHR9ZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9jb21waWxlclV0aWxzLmpzXCI7aW1wb3J0IG8gZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9FdmVudGVkLmpzXCI7aW1wb3J0e3Byb3BlcnR5IGFzIHN9ZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9wcm9wZXJ0eS5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vLi4vY29yZS9Mb2dnZXIuanNcIjtpbXBvcnRcIi4uLy4uLy4uLy4uL2NvcmUvUmFuZG9tTENHLmpzXCI7aW1wb3J0e3N1YmNsYXNzIGFzIGN9ZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9zdWJjbGFzcy5qc1wiO2ltcG9ydHtwcm9qZWN0Qm91bmRpbmdTcGhlcmUgYXMgaX1mcm9tXCIuLi8uLi8uLi8uLi9nZW9tZXRyeS9wcm9qZWN0aW9uL3Byb2plY3RCb3VuZGluZ1NwaGVyZS5qc1wiO2ltcG9ydHtjcmVhdGUgYXMgbix0b1JlY3QgYXMgcH1mcm9tXCIuLi8uLi8uLi8uLi9nZW9tZXRyeS9zdXBwb3J0L2FhQm91bmRpbmdCb3guanNcIjtpbXBvcnR7aW50ZXJzZWN0cyBhcyBhLGNyZWF0ZSBhcyBtfWZyb21cIi4uLy4uLy4uLy4uL2dlb21ldHJ5L3N1cHBvcnQvYWFCb3VuZGluZ1JlY3QuanNcIjtpbXBvcnR7ZiBhcyB1fWZyb21cIi4uLy4uLy4uLy4uL2NodW5rcy9zcGhlcmUuanNcIjtpbXBvcnR7Rm9yQWxsRmVhdHVyZXNSZXR1cm5UeXBlIGFzIGZ9ZnJvbVwiLi4vSUkzU01lc2hWaWV3M0QuanNcIjtjb25zdCBsPW4oKTtsZXQgaD1jbGFzcyBleHRlbmRzIGV7Y29uc3RydWN0b3Iocil7c3VwZXIociksdGhpcy5ldmVudHM9bmV3IG99Zm9yRWFjaChyKXt0aGlzLmZvckFsbEZlYXR1cmVzKChlPT4ocihlKSxmLkNPTlRJTlVFKSkpfWZvckVhY2hCb3VuZHMocixlKXtmb3IoY29uc3QgdCBvZiByKWUodGhpcy5nZXRGZWF0dXJlRXh0ZW50KHQsbCkpfWZvckVhY2hJbkJvdW5kcyhyLGUpe3RoaXMuZm9yQWxsRmVhdHVyZXMoKG89Pntjb25zdCBzPXRoaXMuZ2V0RmVhdHVyZUV4dGVudCh0KG8pLHkpO3JldHVybiBhKHIscChzLGopKSYmZSh0KG8pKSxmLkNPTlRJTlVFfSksKGU9PntpZihpKGUsdGhpcy5zb3VyY2VTcGF0aWFsUmVmZXJlbmNlLGQsdGhpcy52aWV3U3BhdGlhbFJlZmVyZW5jZSksZFswXT49clswXSYmZFsyXTw9clsyXSYmZFsxXT49clsxXSYmZFszXTw9clszXSlyZXR1cm4gZi5DT05USU5VRTtjb25zdCB0PU1hdGgubWF4KHJbMF0sTWF0aC5taW4oZFswXSxyWzJdKSksbz1NYXRoLm1heChyWzFdLE1hdGgubWluKGRbMV0sclszXSkpLHM9ZFswXS10LGM9ZFsxXS1vO3JldHVybiBzKnMrYypjPD1kWzNdKmRbM10/Zi5DT05USU5VRTpmLlNLSVB9KSl9fTtyKFtzKHtjb25zdHJ1Y3RPbmx5OiEwfSldLGgucHJvdG90eXBlLFwiZmVhdHVyZUFkYXB0ZXJcIix2b2lkIDApLHIoW3Moe2NvbnN0cnVjdE9ubHk6ITB9KV0saC5wcm90b3R5cGUsXCJmb3JBbGxGZWF0dXJlc1wiLHZvaWQgMCkscihbcyh7Y29uc3RydWN0T25seTohMH0pXSxoLnByb3RvdHlwZSxcImdldEZlYXR1cmVFeHRlbnRcIix2b2lkIDApLHIoW3Moe2NvbnN0cnVjdE9ubHk6ITB9KV0saC5wcm90b3R5cGUsXCJzb3VyY2VTcGF0aWFsUmVmZXJlbmNlXCIsdm9pZCAwKSxyKFtzKHtjb25zdHJ1Y3RPbmx5OiEwfSldLGgucHJvdG90eXBlLFwidmlld1NwYXRpYWxSZWZlcmVuY2VcIix2b2lkIDApLGg9cihbYyhcImVzcmkudmlld3MuM2QubGF5ZXJzLmkzcy5JM1NRdWVyeUZlYXR1cmVTdG9yZVwiKV0saCk7Y29uc3QgZD11KDAsMCwwLDApLHk9bigpLGo9bSgpO2V4cG9ydHtoIGFzIEkzU1F1ZXJ5RmVhdHVyZVN0b3JlfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjMzL2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7XyBhcyByfWZyb21cIi4uLy4uLy4uLy4uL2NodW5rcy90c2xpYi5lczYuanNcIjtpbXBvcnQgZSBmcm9tXCIuLi8uLi8uLi8uLi9jb3JlL0xvZ2dlci5qc1wiO2ltcG9ydHtwcm9wZXJ0eSBhcyBpfWZyb21cIi4uLy4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvcHJvcGVydHkuanNcIjtpbXBvcnRcIi4uLy4uLy4uLy4uL2NvcmUvaGFzLmpzXCI7aW1wb3J0XCIuLi8uLi8uLi8uLi9jb3JlL1JhbmRvbUxDRy5qc1wiO2ltcG9ydHtzdWJjbGFzcyBhcyBzfWZyb21cIi4uLy4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvc3ViY2xhc3MuanNcIjtpbXBvcnQgbyBmcm9tXCIuLi8uLi8uLi8uLi9jb3JlL3NxbC9XaGVyZUNsYXVzZS5qc1wiO2ltcG9ydHtmaW5kRmllbGRzQ2FzZUluc2Vuc2l0aXZlIGFzIG59ZnJvbVwiLi4vaTNzL0kzU1V0aWwuanNcIjtjb25zdCB0PXQ9PntsZXQgcD1jbGFzcyBleHRlbmRzIHR7Y29uc3RydWN0b3IoKXtzdXBlciguLi5hcmd1bWVudHMpLHRoaXMuX2RlZmluaXRpb25FeHByZXNzaW9uRXJyb3JzPTAsdGhpcy5fbWF4RGVmaW5pdGlvbkV4cHJlc3Npb25FcnJvcnM9MjAsdGhpcy5sb2dFcnJvcj1yPT57dGhpcy5fZGVmaW5pdGlvbkV4cHJlc3Npb25FcnJvcnM8dGhpcy5fbWF4RGVmaW5pdGlvbkV4cHJlc3Npb25FcnJvcnMmJmUuZ2V0TG9nZ2VyKHRoaXMpLmVycm9yKFwiRXJyb3Igd2hpbGUgZXZhbHVhdGluZyBkZWZpbml0aW9uRXhwcmVzc2lvbjogXCIrciksdGhpcy5fZGVmaW5pdGlvbkV4cHJlc3Npb25FcnJvcnMrKyx0aGlzLl9kZWZpbml0aW9uRXhwcmVzc2lvbkVycm9ycz09PXRoaXMuX21heERlZmluaXRpb25FeHByZXNzaW9uRXJyb3JzJiZlLmdldExvZ2dlcih0aGlzKS5lcnJvcihcIkZ1cnRoZXIgZXJyb3JzIGFyZSBpZ25vcmVkXCIpfX1nZXQgcGFyc2VkRGVmaW5pdGlvbkV4cHJlc3Npb24oKXtpZighdGhpcy5pM3NsYXllcj8uZGVmaW5pdGlvbkV4cHJlc3Npb24pcmV0dXJuIG51bGw7dHJ5e2NvbnN0IHI9by5jcmVhdGUodGhpcy5pM3NsYXllci5kZWZpbml0aW9uRXhwcmVzc2lvbix7ZmllbGRzSW5kZXg6dGhpcy5pM3NsYXllci5maWVsZHNJbmRleH0pO2lmKCFyLmlzU3RhbmRhcmRpemVkKXJldHVybiBlLmdldExvZ2dlcih0aGlzKS5lcnJvcihcImRlZmluaXRpb25FeHByZXNzaW9uIGlzIHVzaW5nIG5vbiBzdGFuZGFyZCBmdW5jdGlvblwiKSxudWxsO2NvbnN0IGk9W10scz1yLmZpZWxkTmFtZXM7cmV0dXJuIG4ocyx0aGlzLmkzc2xheWVyLmZpZWxkc0luZGV4LHttaXNzaW5nRmllbGRzOml9KSxpLmxlbmd0aD4wPyhlLmdldExvZ2dlcih0aGlzKS5lcnJvcihgZGVmaW5pdGlvbkV4cHJlc3Npb24gcmVmZXJlbmNlcyB1bmtub3duIGZpZWxkczogJHtpLmpvaW4oXCIsIFwiKX1gKSxudWxsKToodGhpcy5fZGVmaW5pdGlvbkV4cHJlc3Npb25FcnJvcnM9MCxyKX1jYXRjaChyKXtyZXR1cm4gZS5nZXRMb2dnZXIodGhpcykuZXJyb3IoXCJGYWlsZWQgdG8gcGFyc2UgZGVmaW5pdGlvbkV4cHJlc3Npb246IFwiK3IpLG51bGx9fWdldCBkZWZpbml0aW9uRXhwcmVzc2lvbkZpZWxkcygpe3JldHVybiB0aGlzLnBhcnNlZERlZmluaXRpb25FeHByZXNzaW9uP3RoaXMucGFyc2VkRGVmaW5pdGlvbkV4cHJlc3Npb24uZmllbGROYW1lczpbXX1fZXZhbHVhdGVDbGF1c2UocixlKXtpZihudWxsPT1yKXJldHVybiEwO3RyeXtyZXR1cm4gci50ZXN0RmVhdHVyZShlKX1jYXRjaChpKXtyZXR1cm4gdGhpcy5sb2dFcnJvcihpKSwhMX19X2FkZERlZmluaXRpb25FeHByZXNzaW9uVG9RdWVyeShyKXtpZighdGhpcy5wYXJzZWREZWZpbml0aW9uRXhwcmVzc2lvbilyZXR1cm4gcjtjb25zdCBlPXRoaXMuaTNzbGF5ZXIuZGVmaW5pdGlvbkV4cHJlc3Npb24saT1yLmNsb25lKCk7cmV0dXJuIGkud2hlcmU/aS53aGVyZT1gKCR7ZX0pIEFORCAoJHtpLndoZXJlfSlgOmkud2hlcmU9ZSxpfX07cmV0dXJuIHIoW2koe3JlYWRPbmx5OiEwfSldLHAucHJvdG90eXBlLFwicGFyc2VkRGVmaW5pdGlvbkV4cHJlc3Npb25cIixudWxsKSxyKFtpKHtyZWFkT25seTohMH0pXSxwLnByb3RvdHlwZSxcImRlZmluaXRpb25FeHByZXNzaW9uRmllbGRzXCIsbnVsbCkscD1yKFtzKFwiZXNyaS52aWV3cy4zZC5sYXllcnMuc3VwcG9ydC5EZWZpbml0aW9uRXhwcmVzc2lvblNjZW5lTGF5ZXJWaWV3XCIpXSxwKSxwfTtleHBvcnR7dCBhcyBEZWZpbml0aW9uRXhwcmVzc2lvblNjZW5lTGF5ZXJWaWV3fTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjMzL2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7XyBhcyB0fWZyb21cIi4uLy4uLy4uLy4uL2NodW5rcy90c2xpYi5lczYuanNcIjtpbXBvcnR7cHJvcGVydHkgYXMgZX1mcm9tXCIuLi8uLi8uLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3Byb3BlcnR5LmpzXCI7aW1wb3J0XCIuLi8uLi8uLi8uLi9jb3JlL2hhcy5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vLi4vY29yZS9Mb2dnZXIuanNcIjtpbXBvcnRcIi4uLy4uLy4uLy4uL2NvcmUvUmFuZG9tTENHLmpzXCI7aW1wb3J0e3N1YmNsYXNzIGFzIHJ9ZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9zdWJjbGFzcy5qc1wiO2ltcG9ydHtnZXRUaW1lT3BlcmF0b3IgYXMgaX1mcm9tXCIuLi8uLi8uLi8uLi9sYXllcnMvZ3JhcGhpY3MvZGF0YS90aW1lU3VwcG9ydC5qc1wiO2ltcG9ydCBzIGZyb21cIi4uLy4uLy4uLy4uL2xheWVycy9zdXBwb3J0L0ZlYXR1cmVGaWx0ZXIuanNcIjtpbXBvcnR7Y29tYmluZVRpbWVFeHRlbnQgYXMgbn1mcm9tXCIuLi8uLi8uLi8uLi9sYXllcnMvc3VwcG9ydC90aW1lU3VwcG9ydC5qc1wiO2ltcG9ydHtnZXRDYWNoZWRBdHRyaWJ1dGVWYWx1ZSBhcyBvfWZyb21cIi4uL2kzcy9JM1NCaW5hcnlSZWFkZXIuanNcIjtpbXBvcnR7ZmlsdGVySW5QbGFjZSBhcyBsfWZyb21cIi4uL2kzcy9JM1NVdGlsLmpzXCI7Y29uc3QgdT1pPT57bGV0IG89Y2xhc3MgZXh0ZW5kcyBpe2dldCB0aW1lRXh0ZW50KCl7cmV0dXJuIG4odGhpcy5pM3NsYXllcix0aGlzLnZpZXc/LnRpbWVFeHRlbnQsdGhpcy5fZ2V0KFwidGltZUV4dGVudFwiKSl9Z2V0IG1lcmdlZEZpbHRlcigpe2NvbnN0e2ZpbHRlcjp0LHRpbWVFeHRlbnQ6ZX09dGhpcztpZihudWxsPT1lKXJldHVybiB0O2NvbnN0IHI9dD8uY2xvbmUoKT8/bmV3IHM7cmV0dXJuIG51bGwhPWUmJihyLnRpbWVFeHRlbnQ9ci50aW1lRXh0ZW50Py5pbnRlcnNlY3Rpb24oZSk/P2UpLHJ9Z2V0VGltZUZpbHRlckRlcGVuZGVuY2llcygpe2NvbnN0e3RpbWVJbmZvOnR9PXRoaXMuaTNzbGF5ZXI7aWYobnVsbD09dClyZXR1cm5bXTtjb25zdHtzdGFydEZpZWxkOmUsZW5kRmllbGQ6cn09dDtyZXR1cm5bZSxyXX1hZGRUaW1lRmlsdGVyKHQsZSl7aWYobnVsbD09ZSlyZXR1cm47Y29uc3R7dGltZUluZm86cn09dGhpcy5pM3NsYXllcjtpZihudWxsPT1yKXJldHVybjtjb25zdHtzdGFydEZpZWxkOmksZW5kRmllbGQ6cyx1c2VUaW1lOm59PXI7aWYoIW58fG51bGw9PWkmJm51bGw9PXMpcmV0dXJuO2NvbnN0IG89ci50b0pTT04oKSxsPWUudG9KU09OKCk7dC5wdXNoKCgodCxlKT0+YSh0LGUsbyxsKSkpfX07cmV0dXJuIHQoW2Uoe3JlYWRPbmx5OiEwfSldLG8ucHJvdG90eXBlLFwidGltZUV4dGVudFwiLG51bGwpLHQoW2UoKV0sby5wcm90b3R5cGUsXCJtZXJnZWRGaWx0ZXJcIixudWxsKSxvPXQoW3IoXCJlc3JpLnZpZXdzLjNkLmxheWVycy5zdXBwb3J0LlRlbXBvcmFsU2NlbmVMYXllclZpZXdcIildLG8pLG99O2Z1bmN0aW9uIGEodCxlLHIscyl7Y29uc3Qgbj1lLmF0dHJpYnV0ZUluZm8/LmF0dHJpYnV0ZURhdGE7aWYobnVsbD09bilyZXR1cm47Y29uc3R7c3RhcnRUaW1lRmllbGQ6byxlbmRUaW1lRmllbGQ6dX09cjtpZighIShudWxsIT1vJiZudWxsPT1uW29dfHxudWxsIT11JiZudWxsPT1uW3VdKSlyZXR1cm47Y29uc3QgYT1pKHIscyxuZXcgbShuKSk7aWYobnVsbD09YSlyZXR1cm47Y29uc3R7ZmVhdHVyZUlkczpwfT1lO2wodCxwLGEpfWNsYXNzIG17Y29uc3RydWN0b3IodCl7dGhpcy5hdHRyaWJ1dGVEYXRhPXR9Z2V0QXR0cmlidXRlKHQsZSl7cmV0dXJuIG8odGhpcy5hdHRyaWJ1dGVEYXRhW2VdLHQpfWdldEF0dHJpYnV0ZUFzVGltZXN0YW1wKHQsZSl7Y29uc3Qgcj10aGlzLmdldEF0dHJpYnV0ZSh0LGUpO3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiByP25ldyBEYXRlKHIpLmdldFRpbWUoKTpcIm51bWJlclwiPT10eXBlb2Ygcnx8bnVsbD09cj9yOm51bGx9fWV4cG9ydHt1IGFzIFRlbXBvcmFsU2NlbmVMYXllclZpZXd9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMzMvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtXZWJTY2VuZVRhZyBhcyBvfWZyb21cIi4uL3N1cHBvcnQvdGFnU3ltYm9scy5qc1wiO2Z1bmN0aW9uIHQodCl7cmV0dXJuIG51bGwhPXQmJlwib2JqZWN0XCI9PXR5cGVvZiB0JiZvIGluIHR9ZXhwb3J0e3QgYXMgaXNXZWJTY2VuZX07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=