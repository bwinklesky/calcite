export const __webpack_id__ = "vendors-node_modules_arcgis_core_views_interactive_snapping_featureSources_GraphicsSnappingSo-96a037";
export const __webpack_ids__ = ["vendors-node_modules_arcgis_core_views_interactive_snapping_featureSources_GraphicsSnappingSo-96a037"];
export const __webpack_modules__ = {

/***/ "./node_modules/@arcgis/core/core/memoize.js":
/*!***************************************************!*\
  !*** ./node_modules/@arcgis/core/core/memoize.js ***!
  \***************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   memoize: () => (/* binding */ t)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
function t(t){let r,e,i=[],u=!1;function f(...f){return u&&r===this&&n(f,i)||(e=t.apply(this,f),r=this,i=f,u=!0),e}return f}function n(t,n){if(t.length!==n.length)return!1;for(let r=0;r<t.length;++r)if(t[r]!==n[r])return!1;return!0}


/***/ }),

/***/ "./node_modules/@arcgis/core/geometry/support/normalizeUtilsSync.js":
/*!**************************************************************************!*\
  !*** ./node_modules/@arcgis/core/geometry/support/normalizeUtilsSync.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   CutVertical: () => (/* binding */ S),
/* harmony export */   normalizeCentralMeridianForDisplay: () => (/* binding */ a),
/* harmony export */   normalizeCentralMeridianSync: () => (/* binding */ p)
/* harmony export */ });
/* harmony import */ var _core_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../core/support/jsonUtils.js */ "./node_modules/@arcgis/core/core/support/jsonUtils.js");
/* harmony import */ var _aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./aaBoundingRect.js */ "./node_modules/@arcgis/core/geometry/support/aaBoundingRect.js");
/* harmony import */ var _boundsUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./boundsUtils.js */ "./node_modules/@arcgis/core/geometry/support/boundsUtils.js");
/* harmony import */ var _coordsUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./coordsUtils.js */ "./node_modules/@arcgis/core/geometry/support/coordsUtils.js");
/* harmony import */ var _jsonUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./jsonUtils.js */ "./node_modules/@arcgis/core/geometry/support/jsonUtils.js");
/* harmony import */ var _normalizeUtilsCommon_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./normalizeUtilsCommon.js */ "./node_modules/@arcgis/core/geometry/support/normalizeUtilsCommon.js");
/* harmony import */ var _spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./spatialReferenceUtils.js */ "./node_modules/@arcgis/core/geometry/support/spatialReferenceUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
function p(t){return f(t,!0)}function a(t){return f(t,!1)}function f(i,n){if(null==i)return null;const p=i.spatialReference,a=(0,_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_6__.getInfo)(p),f=(0,_core_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_0__.isSerializable)(i)?i.toJSON():i;if(!a)return f;const I=(0,_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_6__.isWebMercator)(p)?102100:4326,g=_normalizeUtilsCommon_js__WEBPACK_IMPORTED_MODULE_5__.cutParams[I].maxX,v=_normalizeUtilsCommon_js__WEBPACK_IMPORTED_MODULE_5__.cutParams[I].minX;if((0,_jsonUtils_js__WEBPACK_IMPORTED_MODULE_4__.isPoint)(f))return y(f,g,v);if((0,_jsonUtils_js__WEBPACK_IMPORTED_MODULE_4__.isMultipoint)(f))return f.points=f.points.map((t=>y(t,g,v))),f;if((0,_jsonUtils_js__WEBPACK_IMPORTED_MODULE_4__.isExtent)(f))return d(f,a);if((0,_jsonUtils_js__WEBPACK_IMPORTED_MODULE_4__.isPolygon)(f)||(0,_jsonUtils_js__WEBPACK_IMPORTED_MODULE_4__.isPolyline)(f)){const t=(0,_boundsUtils_js__WEBPACK_IMPORTED_MODULE_2__.getBoundsXY)(T,f),i={xmin:t[0],ymin:t[1],xmax:t[2],ymax:t[3]},e=(0,_normalizeUtilsCommon_js__WEBPACK_IMPORTED_MODULE_5__.offsetMagnitude)(i.xmin,v)*(2*g),h=0===e?f:(0,_normalizeUtilsCommon_js__WEBPACK_IMPORTED_MODULE_5__.updatePolyGeometry)(f,e);return i.xmin+=e,i.xmax+=e,i.xmax>g?C(h,g,n):i.xmin<v?C(h,v,n):h}return f}function d(t,i){if(!i)return t;const s=I(t,i).map((t=>t.extent));return s.length<2?s[0]||t:s.length>2?(t.xmin=i.valid[0],t.xmax=i.valid[1],t):{rings:s.map((t=>[[t.xmin,t.ymin],[t.xmin,t.ymax],[t.xmax,t.ymax],[t.xmax,t.ymin],[t.xmin,t.ymin]]))}}function y(t,i,s){if(Array.isArray(t)){const n=t[0];if(n>i){const s=(0,_normalizeUtilsCommon_js__WEBPACK_IMPORTED_MODULE_5__.offsetMagnitude)(n,i);t[0]=n+s*(-2*i)}else if(n<s){const i=(0,_normalizeUtilsCommon_js__WEBPACK_IMPORTED_MODULE_5__.offsetMagnitude)(n,s);t[0]=n+i*(-2*s)}}else{const n=t.x;if(n>i){const s=(0,_normalizeUtilsCommon_js__WEBPACK_IMPORTED_MODULE_5__.offsetMagnitude)(n,i);t.x+=s*(-2*i)}else if(n<s){const i=(0,_normalizeUtilsCommon_js__WEBPACK_IMPORTED_MODULE_5__.offsetMagnitude)(n,s);t.x+=i*(-2*s)}}return t}function I(t,i){const s=[],{ymin:n,ymax:e,xmin:h,xmax:o}=t,u=t.xmax-t.xmin,[r,m]=i.valid,{x,frameId:l}=g(t.xmin,i),{x:_,frameId:c}=g(t.xmax,i),p=x===_&&u>0;if(u>2*m){const t={xmin:h<o?x:_,ymin:n,xmax:m,ymax:e},i={xmin:r,ymin:n,xmax:h<o?_:x,ymax:e},u={xmin:0,ymin:n,xmax:m,ymax:e},p={xmin:r,ymin:n,xmax:0,ymax:e},a=[],f=[];v(t,u)&&a.push(l),v(t,p)&&f.push(l),v(i,u)&&a.push(c),v(i,p)&&f.push(c);for(let s=l+1;s<c;s++)a.push(s),f.push(s);s.push(new P(t,[l]),new P(i,[c]),new P(u,a),new P(p,f))}else x>_||p?s.push(new P({xmin:x,ymin:n,xmax:m,ymax:e},[l]),new P({xmin:r,ymin:n,xmax:_,ymax:e},[c])):s.push(new P({xmin:x,ymin:n,xmax:_,ymax:e},[l]));return s}function g(t,i){const[s,n]=i.valid,e=2*n;let h,o=0;return t>n?(h=Math.ceil(Math.abs(t-n)/e),t-=h*e,o=h):t<s&&(h=Math.ceil(Math.abs(t-s)/e),t+=h*e,o=-h),{x:t,frameId:o}}function v(t,i){const{xmin:s,ymin:n,xmax:e,ymax:h}=i;return O(t,s,n)&&O(t,s,h)&&O(t,e,h)&&O(t,e,n)}function O(t,i,s){return i>=t.xmin&&i<=t.xmax&&s>=t.ymin&&s<=t.ymax}function C(t,i,s=!0){const e=!(0,_jsonUtils_js__WEBPACK_IMPORTED_MODULE_4__.isPolyline)(t);if(e&&(0,_coordsUtils_js__WEBPACK_IMPORTED_MODULE_3__.closeRings)(t),s){return(new S).cut(t,i)}const h=e?t.rings:t.paths,o=e?4:2,u=h.length,m=-2*i;for(let n=0;n<u;n++){const t=h[n];if(t&&t.length>=o){const i=[];for(const s of t)i.push([s[0]+m,s[1]]);h.push(i)}}return e?t.rings=h:t.paths=h,t}class P{constructor(t,i){this.extent=t,this.frameIds=i}}const T=(0,_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_1__.create)();class S{constructor(){this._linesIn=[],this._linesOut=[]}cut(t,i){let s;if(this._xCut=i,t.rings)this._closed=!0,s=t.rings,this._minPts=4;else{if(!t.paths)return null;this._closed=!1,s=t.paths,this._minPts=2}for(const e of s){if(!e||e.length<this._minPts)continue;let t=!0;for(const i of e)t?(this.moveTo(i),t=!1):this.lineTo(i);this._closed&&this.close()}this._pushLineIn(),this._pushLineOut(),s=[];for(const e of this._linesIn)e&&e.length>=this._minPts&&s.push(e);const n=-2*this._xCut;for(const e of this._linesOut)if(e&&e.length>=this._minPts){for(const t of e)t[0]+=n;s.push(e)}return this._closed?t.rings=s:t.paths=s,t}moveTo(t){this._pushLineIn(),this._pushLineOut(),this._prevSide=this._side(t[0]),this._moveTo(t[0],t[1],this._prevSide),this._prevPt=t,this._firstPt=t}lineTo(t){const i=this._side(t[0]);if(i*this._prevSide===-1){const s=this._intersect(this._prevPt,t);this._lineTo(this._xCut,s,0),this._prevSide=0,this._lineTo(t[0],t[1],i)}else this._lineTo(t[0],t[1],i);this._prevSide=i,this._prevPt=t}close(){const t=this._firstPt,i=this._prevPt;t[0]===i[0]&&t[1]===i[1]||this.lineTo(t),this._checkClosingPt(this._lineIn),this._checkClosingPt(this._lineOut)}_moveTo(t,i,s){this._closed?(this._lineIn.push([s<=0?t:this._xCut,i]),this._lineOut.push([s>=0?t:this._xCut,i])):(s<=0&&this._lineIn.push([t,i]),s>=0&&this._lineOut.push([t,i]))}_lineTo(t,i,s){this._closed?(j(this._lineIn,s<=0?t:this._xCut,i),j(this._lineOut,s>=0?t:this._xCut,i)):s<0?(0===this._prevSide&&this._pushLineOut(),this._lineIn.push([t,i])):s>0?(0===this._prevSide&&this._pushLineIn(),this._lineOut.push([t,i])):this._prevSide<0?(this._lineIn.push([t,i]),this._lineOut.push([t,i])):this._prevSide>0&&(this._lineOut.push([t,i]),this._lineIn.push([t,i]))}_checkClosingPt(t){const i=t.length;i>3&&t[0][0]===this._xCut&&t[i-2][0]===this._xCut&&t[1][0]===this._xCut&&(t[0][1]=t[i-2][1],t.pop())}_side(t){return t<this._xCut?-1:t>this._xCut?1:0}_intersect(t,i){const s=(this._xCut-t[0])/(i[0]-t[0]);return t[1]+s*(i[1]-t[1])}_pushLineIn(){this._lineIn&&this._lineIn.length>=this._minPts&&this._linesIn.push(this._lineIn),this._lineIn=[]}_pushLineOut(){this._lineOut&&this._lineOut.length>=this._minPts&&this._linesOut.push(this._lineOut),this._lineOut=[]}}function j(t,i,s){const n=t.length;n>1&&t[n-1][0]===i&&t[n-2][0]===i?t[n-1][1]=s:t.push([i,s])}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/interactive/snapping/candidates/VertexSnappingCandidate.js":
/*!****************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/interactive/snapping/candidates/VertexSnappingCandidate.js ***!
  \****************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   VertexSnappingCandidate: () => (/* binding */ r)
/* harmony export */ });
/* harmony import */ var _sketch_constraints_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../sketch/constraints.js */ "./node_modules/@arcgis/core/views/interactive/sketch/constraints.js");
/* harmony import */ var _FeatureSnappingCandidate_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./FeatureSnappingCandidate.js */ "./node_modules/@arcgis/core/views/interactive/snapping/candidates/FeatureSnappingCandidate.js");
/* harmony import */ var _hints_PointSnappingHint_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../hints/PointSnappingHint.js */ "./node_modules/@arcgis/core/views/interactive/snapping/hints/PointSnappingHint.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
class r extends _FeatureSnappingCandidate_js__WEBPACK_IMPORTED_MODULE_1__.FeatureSnappingCandidate{constructor(n){super({...n,constraint:new _sketch_constraints_js__WEBPACK_IMPORTED_MODULE_0__.PointConstraint(n.targetPoint)})}get hints(){return[new _hints_PointSnappingHint_js__WEBPACK_IMPORTED_MODULE_2__.PointSnappingHint(this.targetPoint,this.isDraped,this.domain)]}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/interactive/snapping/featureSources/GraphicsSnappingSource.js":
/*!*******************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/interactive/snapping/featureSources/GraphicsSnappingSource.js ***!
  \*******************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   GraphicsSnappingSource: () => (/* binding */ O)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/Accessor.js */ "./node_modules/@arcgis/core/core/Accessor.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_asyncUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../core/asyncUtils.js */ "./node_modules/@arcgis/core/core/asyncUtils.js");
/* harmony import */ var _core_memoize_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../core/memoize.js */ "./node_modules/@arcgis/core/core/memoize.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../core/reactiveUtils.js */ "./node_modules/@arcgis/core/core/reactiveUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _core_support_UpdatingHandles_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../core/support/UpdatingHandles.js */ "./node_modules/@arcgis/core/core/support/UpdatingHandles.js");
/* harmony import */ var _geometry_Polygon_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../../geometry/Polygon.js */ "./node_modules/@arcgis/core/geometry/Polygon.js");
/* harmony import */ var _geometry_projectionUtils_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../../geometry/projectionUtils.js */ "./node_modules/@arcgis/core/geometry/projectionUtils.js");
/* harmony import */ var _geometry_support_normalizeUtilsSync_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../../geometry/support/normalizeUtilsSync.js */ "./node_modules/@arcgis/core/geometry/support/normalizeUtilsSync.js");
/* harmony import */ var _geometry_support_typeUtils_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../../geometry/support/typeUtils.js */ "./node_modules/@arcgis/core/geometry/support/typeUtils.js");
/* harmony import */ var _layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../../../layers/graphics/featureConversionUtils.js */ "./node_modules/@arcgis/core/layers/graphics/featureConversionUtils.js");
/* harmony import */ var _layers_graphics_OptimizedFeature_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../../../layers/graphics/OptimizedFeature.js */ "./node_modules/@arcgis/core/layers/graphics/OptimizedFeature.js");
/* harmony import */ var _layers_graphics_data_executeQueryForSnapping_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../../../layers/graphics/data/executeQueryForSnapping.js */ "./node_modules/@arcgis/core/layers/graphics/data/executeQueryForSnapping.js");
/* harmony import */ var _layers_graphics_data_FeatureStore_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../../../layers/graphics/data/FeatureStore.js */ "./node_modules/@arcgis/core/layers/graphics/data/FeatureStore.js");
/* harmony import */ var _layers_graphics_data_QueryEngine_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../../../../layers/graphics/data/QueryEngine.js */ "./node_modules/@arcgis/core/layers/graphics/data/QueryEngine.js");
/* harmony import */ var _layers_support_FieldsIndex_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../../../../layers/support/FieldsIndex.js */ "./node_modules/@arcgis/core/layers/support/FieldsIndex.js");
/* harmony import */ var _support_elevationInfoUtils_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../../../../support/elevationInfoUtils.js */ "./node_modules/@arcgis/core/support/elevationInfoUtils.js");
/* harmony import */ var _symbols_support_utils_js__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../../../../symbols/support/utils.js */ "./node_modules/@arcgis/core/symbols/support/utils.js");
/* harmony import */ var _snappingUtils_js__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ../snappingUtils.js */ "./node_modules/@arcgis/core/views/interactive/snapping/snappingUtils.js");
/* harmony import */ var _queryEngineUtils_js__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ./queryEngineUtils.js */ "./node_modules/@arcgis/core/views/interactive/snapping/featureSources/queryEngineUtils.js");
/* harmony import */ var _snappingCandidateElevationAlignment_js__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ./snappingCandidateElevationAlignment.js */ "./node_modules/@arcgis/core/views/interactive/snapping/featureSources/snappingCandidateElevationAlignment.js");
/* harmony import */ var _snappingCandidateElevationFilter_js__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ./snappingCandidateElevationFilter.js */ "./node_modules/@arcgis/core/views/interactive/snapping/featureSources/snappingCandidateElevationFilter.js");
/* harmony import */ var _symbologySnappingCandidates_js__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ./symbologySnappingCandidates.js */ "./node_modules/@arcgis/core/views/interactive/snapping/featureSources/symbologySnappingCandidates.js");
/* harmony import */ var _support_Scheduler_js__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ../../../support/Scheduler.js */ "./node_modules/@arcgis/core/views/support/Scheduler.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
const z="graphics-collections";let O=class extends _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__["default"]{get updating(){return this._updatingHandles.updating}get _hasZ(){const e=this.view;return null!=e&&"3d"===e.type&&"map-notes"!==this.layerSource.layer.type}get _snappingElevationAligner(){const{view:e}=this,{layer:t}=this.layerSource,o=null!=e&&"3d"===e.type;if(!o||"map-notes"===t.type)return (0,_snappingCandidateElevationAlignment_js__WEBPACK_IMPORTED_MODULE_26__.getSnappingCandidateElevationAligner)();const r=async(o,r)=>(await (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_5__.whenOrAbort)(e.whenLayerView(t),r)).elevationAlignPointsInFeatures(o,r);return (0,_snappingCandidateElevationAlignment_js__WEBPACK_IMPORTED_MODULE_26__.getSnappingCandidateElevationAligner)(o,{elevationInfo:t.elevationInfo,alignPointsInFeatures:r})}get _snappingElevationFilter(){const{view:e}=this,t=null!=e&&"3d"===e.type&&"map-notes"!==this.layerSource.layer.type;return (0,_snappingCandidateElevationFilter_js__WEBPACK_IMPORTED_MODULE_27__.getSnappingCandidateElevationFilter)(t)}get _symbologySnappingFetcher(){const{view:e}=this,{layer:t}=this.layerSource,o=null!=e&&"3d"===e.type,r=this._extrudedPolygonSymbolsCount>0;return o&&"map-notes"!==t.type&&r?(0,_symbologySnappingCandidates_js__WEBPACK_IMPORTED_MODULE_28__.getSymbologySnappingCandidatesFetcher)(r,(async(o,r)=>{const s=await e.whenLayerView(t);return (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_5__.throwIfAborted)(r),s.queryForSymbologySnapping({candidates:o,spatialReference:e.spatialReference},r)})):(0,_symbologySnappingCandidates_js__WEBPACK_IMPORTED_MODULE_28__.getSymbologySnappingCandidatesFetcher)()}constructor(e){super(e),this.availability=1,this._sources={multipoint:null,point:null,polygon:null,polyline:null},this._loadedWkids=new Set,this._loadedWkts=new Set,this._pendingAdds=[],this._extrudedPolygonSymbolsCount=0,this._updatingHandles=new _core_support_UpdatingHandles_js__WEBPACK_IMPORTED_MODULE_11__.UpdatingHandles,this._memoizedMakeGetGroundElevation=(0,_core_memoize_js__WEBPACK_IMPORTED_MODULE_4__.memoize)(_queryEngineUtils_js__WEBPACK_IMPORTED_MODULE_25__.makeGetGroundElevation)}destroy(){for(const e of this._pendingAdds)e.task.abort();this._pendingAdds.length=0,this._mapSources((e=>this._destroySource(e))),this._updatingHandles.destroy()}initialize(){this._updatingHandles.add((()=>this.getGraphicsLayers()),(e=>{this._updatingHandles.removeHandles(z);for(const t of e)this._addMany(t.graphics.toArray()),this.addHandles([t.on("graphic-update",(e=>this._onGraphicUpdate(e))),this._updatingHandles.addOnCollectionChange((()=>t.graphics),(e=>this._onGraphicsChanged(e)))],z)}),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_6__.initial);const{view:e}=this,{layer:t}=this.layerSource;null!=e&&"3d"===e.type&&"map-notes"!==t.type&&e.elevationProvider&&this.addHandles([e.elevationProvider.on("elevation-change",(({context:e})=>{(0,_support_elevationInfoUtils_js__WEBPACK_IMPORTED_MODULE_22__.elevationContextAffectsAlignment)(e,t.elevationInfo)&&this._snappingElevationAligner.notifyElevationSourceChange()})),(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_6__.watch)((()=>t.elevationInfo),(()=>this._snappingElevationAligner.notifyElevationSourceChange()),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_6__.initial),(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_6__.on)((()=>t),["edits","apply-edits","graphic-update"],(()=>this._symbologySnappingFetcher.notifySymbologyChange()))])}async fetchCandidates(e,t){const{point:o,coordinateHelper:{spatialReference:r}}=e,s=await (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_5__.allSettledValues)(this._mapSources((o=>this._fetchCandidatesForSource(o,e,t))));(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_5__.throwIfAborted)(t);const a=this._memoizedMakeGetGroundElevation(this.view,r),p=s.flat().map((e=>(0,_queryEngineUtils_js__WEBPACK_IMPORTED_MODULE_25__.convertSnappingCandidate)(e,a)));return (0,_snappingUtils_js__WEBPACK_IMPORTED_MODULE_24__.sortCandidatesInPlace)(o,p),p}async _fetchCandidatesForSource(e,t,o){const r=(0,_snappingUtils_js__WEBPACK_IMPORTED_MODULE_24__.makeSnappingQuery)({parameters:t,mode:this.view?.type??"2d"}),s=await (0,_layers_graphics_data_executeQueryForSnapping_js__WEBPACK_IMPORTED_MODULE_18__.executeQueryForSnapping)(e.queryEngine,r,o);(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_5__.throwIfAborted)(o);const n=await this._snappingElevationAligner.alignCandidates(s.candidates,t.coordinateHelper.spatialReference,o);(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_5__.throwIfAborted)(o);const a=await this._symbologySnappingFetcher.fetch(n,o);(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_5__.throwIfAborted)(o);const p=0===a.length?n:[...n,...a];return this._snappingElevationFilter.filter(r,p)}refresh(){}_onGraphicUpdate(e){if(this.getGraphicsLayers().some((t=>t.graphics.includes(e.graphic))))switch(e.property){case"geometry":case"visible":this._remove(e.graphic),this._addMany([e.graphic])}}_onGraphicsChanged(e){for(const t of e.removed)this._remove(t);this._addMany(e.added)}_addMany(e){const t=[],o=new Map;for(const r of e)null!=r.geometry&&(this._needsInitializeProjection(r.geometry.spatialReference)?(t.push(r.geometry.spatialReference),o.set(r.uid,r)):this._add(r));this._createPendingAdd(t,o)}_createPendingAdd(e,t){if(!e.length)return;const s=(0,_core_asyncUtils_js__WEBPACK_IMPORTED_MODULE_3__.createTask)((async o=>{await (0,_geometry_projectionUtils_js__WEBPACK_IMPORTED_MODULE_13__.initializeProjection)(e.map((e=>({source:e,dest:this.spatialReference}))),{signal:o}),this._markLoadedSpatialReferences(e);for(const e of t.values())this._add(e)}));this._updatingHandles.addPromise(s.promise);const i={task:s,graphics:t},n=()=>(0,_core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_2__.removeUnordered)(this._pendingAdds,i);s.promise.then(n,n),this._pendingAdds.push(i)}_markLoadedSpatialReferences(e){for(const t of e){null!=t.wkid&&this._loadedWkids.add(t.wkid);const e=t.wkt2||t.wkt;e&&this._loadedWkts.add(e)}}_add(e){if(null==e.geometry||!e.visible)return;let t=e.geometry;if("mesh"===t.type)return;"extent"===t.type&&(t=_geometry_Polygon_js__WEBPACK_IMPORTED_MODULE_12__["default"].fromExtent(t));const o=this._ensureSource(t.type);if(null==o)return;const r=this._createOptimizedFeature(e.uid,t);null!=r&&(o.featureStore.add(r),(0,_symbols_support_utils_js__WEBPACK_IMPORTED_MODULE_23__.symbolHasExtrudeSymbolLayer)(e.symbol)&&this._extrudedPolygonSymbolsCount++)}_needsInitializeProjection(e){if(null!=e.wkid&&this._loadedWkids.has(e.wkid))return!1;const t=e.wkt2||e.wkt;return(!t||!this._loadedWkts.has(t))&&!(0,_geometry_projectionUtils_js__WEBPACK_IMPORTED_MODULE_13__.canProjectWithoutEngine)(e,this.spatialReference)}_createOptimizedFeature(e,t){const o=(0,_geometry_projectionUtils_js__WEBPACK_IMPORTED_MODULE_13__.project)((0,_geometry_support_normalizeUtilsSync_js__WEBPACK_IMPORTED_MODULE_14__.normalizeCentralMeridianForDisplay)(t),this.spatialReference);if(!o)return null;const r=this._ensureGeometryHasZ(o),s=(0,_layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_16__.convertFromGeometry)(r,this._hasZ,!1);return new _layers_graphics_OptimizedFeature_js__WEBPACK_IMPORTED_MODULE_17__.OptimizedFeature(s,{[Z]:e},null,e)}_ensureGeometryHasZ(e){if(!this._hasZ)return e;const t=e=>{for(;e.length<3;)e.push(0)},o=e.clone();switch(o.hasZ=!0,o.type){case"point":o.z=o.z??0;break;case"multipoint":o.points.forEach(t);break;case"polyline":o.paths.forEach((e=>e.forEach(t)));break;case"polygon":o.rings.forEach((e=>e.forEach(t)))}return o}_ensureSource(e){const t=this._sources[e];if(null!=t)return t;const o=this._createSource(e);return this._sources[e]=o,o}_createSource(e){const t=_geometry_support_typeUtils_js__WEBPACK_IMPORTED_MODULE_15__.featureGeometryTypeKebabDictionary.toJSON(e),o=this._hasZ,r=new _layers_graphics_data_FeatureStore_js__WEBPACK_IMPORTED_MODULE_19__["default"]({geometryType:t,hasZ:o,hasM:!1});return{featureStore:r,queryEngine:new _layers_graphics_data_QueryEngine_js__WEBPACK_IMPORTED_MODULE_20__.QueryEngine({featureStore:r,fieldsIndex:_layers_support_FieldsIndex_js__WEBPACK_IMPORTED_MODULE_21__["default"].fromLayerJSON({fields:[{name:Z,type:"esriFieldTypeOID",alias:Z}]}),geometryType:t,hasM:!1,hasZ:o,featureIdInfo:{type:"object-id",fieldName:Z},spatialReference:this.spatialReference,priority:_support_Scheduler_js__WEBPACK_IMPORTED_MODULE_29__.TaskPriority.SNAPPING,scheduler:null!=this.view&&"3d"===this.view.type?this.view.resourceController.scheduler:null}),type:e}}_remove(e){this._mapSources((t=>this._removeFromSource(t,e)));for(const t of this._pendingAdds)t.graphics.delete(e.uid),0===t.graphics.size&&t.task.abort()}_removeFromSource(e,t){const o=t.uid;e.featureStore.has(o)&&(e.featureStore.removeById(t.uid),(0,_symbols_support_utils_js__WEBPACK_IMPORTED_MODULE_23__.symbolHasExtrudeSymbolLayer)(t.symbol)&&this._extrudedPolygonSymbolsCount--)}_destroySource(e){e.queryEngine.destroy(),this._sources[e.type]=null}_mapSources(e){const{point:t,polygon:o,polyline:r,multipoint:s}=this._sources,i=[];return null!=t&&i.push(e(t)),null!=o&&i.push(e(o)),null!=r&&i.push(e(r)),null!=s&&i.push(e(s)),i}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)()],O.prototype,"getGraphicsLayers",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)({constructOnly:!0})],O.prototype,"layerSource",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)({constructOnly:!0})],O.prototype,"spatialReference",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)({constructOnly:!0})],O.prototype,"view",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)({readOnly:!0})],O.prototype,"updating",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)({readOnly:!0})],O.prototype,"availability",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)()],O.prototype,"_hasZ",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)()],O.prototype,"_snappingElevationAligner",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)()],O.prototype,"_snappingElevationFilter",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)()],O.prototype,"_symbologySnappingFetcher",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)()],O.prototype,"_extrudedPolygonSymbolsCount",void 0),O=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_10__.subclass)("esri.views.interactive.snapping.featureSources.GraphicsSnappingSource")],O);const Z="OBJECTID";


/***/ }),

/***/ "./node_modules/@arcgis/core/views/interactive/snapping/featureSources/queryEngineUtils.js":
/*!*************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/interactive/snapping/featureSources/queryEngineUtils.js ***!
  \*************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   convertSnappingCandidate: () => (/* binding */ o),
/* harmony export */   makeGetGroundElevation: () => (/* binding */ i)
/* harmony export */ });
/* harmony import */ var _sketch_normalizedPoint_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../sketch/normalizedPoint.js */ "./node_modules/@arcgis/core/views/interactive/sketch/normalizedPoint.js");
/* harmony import */ var _candidates_DrapedEdgeSnappingCandidate_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../candidates/DrapedEdgeSnappingCandidate.js */ "./node_modules/@arcgis/core/views/interactive/snapping/candidates/DrapedEdgeSnappingCandidate.js");
/* harmony import */ var _candidates_EdgeSnappingCandidate_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../candidates/EdgeSnappingCandidate.js */ "./node_modules/@arcgis/core/views/interactive/snapping/candidates/EdgeSnappingCandidate.js");
/* harmony import */ var _candidates_VertexSnappingCandidate_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../candidates/VertexSnappingCandidate.js */ "./node_modules/@arcgis/core/views/interactive/snapping/candidates/VertexSnappingCandidate.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
function a({x:e,y:n,z:d}){return (0,_sketch_normalizedPoint_js__WEBPACK_IMPORTED_MODULE_0__.fromValues)(e,n,d??0)}function o(t,o){switch(t.type){case"edge":return t.draped?new _candidates_DrapedEdgeSnappingCandidate_js__WEBPACK_IMPORTED_MODULE_1__.DrapedEdgeSnappingCandidate({edgeStart:a(t.start),edgeEnd:a(t.end),targetPoint:(0,_sketch_normalizedPoint_js__WEBPACK_IMPORTED_MODULE_0__.markAsTarget)(a(t.target)),objectId:t.objectId,getGroundElevation:o}):new _candidates_EdgeSnappingCandidate_js__WEBPACK_IMPORTED_MODULE_2__.EdgeSnappingCandidate({edgeStart:a(t.start),edgeEnd:a(t.end),targetPoint:(0,_sketch_normalizedPoint_js__WEBPACK_IMPORTED_MODULE_0__.markAsTarget)(a(t.target)),objectId:t.objectId,isDraped:!1});case"vertex":return new _candidates_VertexSnappingCandidate_js__WEBPACK_IMPORTED_MODULE_3__.VertexSnappingCandidate({targetPoint:(0,_sketch_normalizedPoint_js__WEBPACK_IMPORTED_MODULE_0__.markAsTarget)(a(t.target)),objectId:t.objectId,isDraped:!1})}}function i(e,t){return null!=e&&"3d"===e.type?(n,d)=>e.elevationProvider.getElevation(n,d,0,t,"ground"):()=>null}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/interactive/snapping/featureSources/snappingCandidateElevationAlignment.js":
/*!********************************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/interactive/snapping/featureSources/snappingCandidateElevationAlignment.js ***!
  \********************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   getSnappingCandidateElevationAligner: () => (/* binding */ i)
/* harmony export */ });
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_LRUCache_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/LRUCache.js */ "./node_modules/@arcgis/core/core/LRUCache.js");
/* harmony import */ var _core_MapUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core/MapUtils.js */ "./node_modules/@arcgis/core/core/MapUtils.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _core_unitUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../core/unitUtils.js */ "./node_modules/@arcgis/core/core/unitUtils.js");
/* harmony import */ var _symbols_support_unitConversionUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../symbols/support/unitConversionUtils.js */ "./node_modules/@arcgis/core/symbols/support/unitConversionUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
function i(e=!1,t){if(e){const{elevationInfo:e,alignPointsInFeatures:s}=t;return new c(e,s)}return new a}class a{async alignCandidates(e,t,s){return e}notifyElevationSourceChange(){}}const r=1024;class c{constructor(t,s){this._elevationInfo=t,this._alignPointsInFeatures=s,this._alignmentsCache=new _core_LRUCache_js__WEBPACK_IMPORTED_MODULE_1__.LRUCache(r),this._cacheVersion=0}async alignCandidates(e,t,s){const n=this._elevationInfo;return null==n||"absolute-height"!==n.mode||n.featureExpressionInfo?this._alignComputedElevationCandidates(e,t,s):(l(e,t,n),e)}notifyElevationSourceChange(){this._alignmentsCache.clear(),this._cacheVersion++}async _alignComputedElevationCandidates(e,n,o){const i=new Map;for(const s of e)(0,_core_MapUtils_js__WEBPACK_IMPORTED_MODULE_2__.getOrCreateMapValue)(i,s.objectId,d).push(s);const[a,r,c]=this._prepareQuery(i,n),h=await this._alignPointsInFeatures(a,o);(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__.throwIfAborted)(o);if(c!==this._cacheVersion)return this._alignComputedElevationCandidates(e,n,o);this._applyCacheAndResponse(a,h,r);const{drapedObjectIds:u,failedObjectIds:l}=h,p=[];for(const t of e){const{objectId:e}=t;u.has(e)&&"edge"===t.type&&(t.draped=!0),l.has(e)||p.push(t)}return p}_prepareQuery(e,t){const s=[],n=[];for(const[o,i]of e){const e=[];for(const t of i)this._addToQueriesOrCachedResult(o,t.target,e,n),"edge"===t.type&&(this._addToQueriesOrCachedResult(o,t.start,e,n),this._addToQueriesOrCachedResult(o,t.end,e,n));0!==e.length&&s.push({objectId:o,points:e})}return[{spatialReference:t.toJSON(),pointsInFeatures:s},n,this._cacheVersion]}_addToQueriesOrCachedResult(e,t,s,n){const o=u(e,t),i=this._alignmentsCache.get(o);null==i?s.push(t):n.push(new h(t,i))}_applyCacheAndResponse(e,{elevations:t,drapedObjectIds:s,failedObjectIds:n},o){for(const r of o)r.apply();let i=0;const a=this._alignmentsCache;for(const{objectId:r,points:c}of e.pointsInFeatures){if(n.has(r)){i+=c.length;continue}const e=!s.has(r);for(const s of c){const n=u(r,s),o=t[i++];s.z=o,e&&a.put(n,o,1)}}}}class h{constructor(e,t){this.point=e,this.z=t}apply(){this.point.z=this.z}}function u(e,{x:t,y:s,z:n,spatialReference:o}){return`${e}-${t}-${s}-${n??0}}-wkid:${o?.wkid}`}function l(e,t,s){const{offset:i,unit:a}=s;if(null==i)return;const r=(0,_core_unitUtils_js__WEBPACK_IMPORTED_MODULE_4__.getMetersPerVerticalUnitForSR)(t),c=i*((0,_symbols_support_unitConversionUtils_js__WEBPACK_IMPORTED_MODULE_5__.getMetersPerUnit)(a??"meters")/r);for(const n of e)switch(n.type){case"edge":n.start.z+=c,n.end.z+=c;continue;case"vertex":n.target.z+=c;continue}}function d(){return[]}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/interactive/snapping/featureSources/snappingCandidateElevationFilter.js":
/*!*****************************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/interactive/snapping/featureSources/snappingCandidateElevationFilter.js ***!
  \*****************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   getSnappingCandidateElevationFilter: () => (/* binding */ r)
/* harmony export */ });
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
class t{filter(t,n){return n}notifyElevationSourceChange(){}}class n{filter(t,n){const{point:r,distance:c}=t,{z:i}=r;if(!(null!=i))return n;if(0===n.length)return n;const o=s(c),u=this._updateCandidatesTo3D(n,r,o).filter(e);return u.sort(a),u}_updateCandidatesTo3D(t,n,e){for(const r of t)switch(r.type){case"edge":c(r,n,e);continue;case"vertex":o(r,n,e);continue}return t}}function e(t){return t.distance<=1}function r(e=!1){return e?new n:new t}function c(t,n,{x:e,y:r,z:c}){const{start:o,end:s,target:a}=t;t.draped||i(a,n,o,s);const u=(n.x-a.x)/e,d=(n.y-a.y)/r,f=(n.z-a.z)/c;t.distance=Math.sqrt(u*u+d*d+f*f)}function i(t,n,e,r){const c=r.x-e.x,i=r.y-e.y,o=r.z-e.z,s=c*c+i*i+o*o,a=(n.x-e.x)*c+(n.y-e.y)*i+o*(n.z-e.z),u=Math.min(1,Math.max(0,a/s)),d=e.x+c*u,f=e.y+i*u,x=e.z+o*u;t.x=d,t.y=f,t.z=x}function o(t,n,{x:e,y:r,z:c}){const{target:i}=t,o=(n.x-i.x)/e,s=(n.y-i.y)/r,a=(n.z-i.z)/c,u=Math.sqrt(o*o+s*s+a*a);t.distance=u}function s(t){return"number"==typeof t?{x:t,y:t,z:t}:t}function a(t,n){return t.distance-n.distance}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/interactive/snapping/featureSources/symbologySnappingCandidates.js":
/*!************************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/interactive/snapping/featureSources/symbologySnappingCandidates.js ***!
  \************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   getSymbologySnappingCandidatesFetcher: () => (/* binding */ n)
/* harmony export */ });
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_lang_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/lang.js */ "./node_modules/@arcgis/core/core/lang.js");
/* harmony import */ var _core_LRUCache_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core/LRUCache.js */ "./node_modules/@arcgis/core/core/LRUCache.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _core_string_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../core/string.js */ "./node_modules/@arcgis/core/core/string.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
function n(t=!1,e){return t?new i(e):new c}class c{async fetch(){return[]}notifySymbologyChange(){}}const r=1024;class i{constructor(t){this._getSymbologyCandidates=t,this._candidatesCache=new _core_LRUCache_js__WEBPACK_IMPORTED_MODULE_2__.LRUCache(r),this._cacheVersion=0}async fetch(e,o){if(0===e.length)return[];const n=[],c=[],r=this._candidatesCache;for(const s of e){const e=a(s),o=r.get(e);if(o)for(const s of o)c.push((0,_core_lang_js__WEBPACK_IMPORTED_MODULE_1__.clone)(s));else n.push(s),r.put(e,[],1)}if(0===n.length)return c;const i=this._cacheVersion,{candidates:h,sourceCandidateIndices:d}=await this._getSymbologyCandidates(n,o);(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__.throwIfAborted)(o);if(i!==this._cacheVersion)return this.fetch(e,o);const f=[],{length:g}=h;for(let s=0;s<g;++s){const e=h[s],o=a(n[d[s]]),c=r.get(o);c.push(e),r.put(o,c,c.length),f.push((0,_core_lang_js__WEBPACK_IMPORTED_MODULE_1__.clone)(e))}return c.concat(f)}notifySymbologyChange(){this._candidatesCache.clear(),this._cacheVersion++}}function a(t){switch(t.type){case"vertex":{const{objectId:e,target:s}=t,n=`${e}-vertex-${s.x}-${s.y}-${s.z??0}`;return (0,_core_string_js__WEBPACK_IMPORTED_MODULE_4__.numericHash)(n).toString()}case"edge":{const{objectId:e,start:s,end:n}=t,c=`${e}-edge-${s.x}-${s.y}-${s.z??0}-to-${n.x}-${n.y}-${n.z??0}`;return (0,_core_string_js__WEBPACK_IMPORTED_MODULE_4__.numericHash)(c).toString()}default:return""}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/interactive/snapping/hints/PointSnappingHint.js":
/*!*****************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/interactive/snapping/hints/PointSnappingHint.js ***!
  \*****************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   PointSnappingHint: () => (/* binding */ n)
/* harmony export */ });
/* harmony import */ var _chunks_vec32_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../chunks/vec32.js */ "./node_modules/@arcgis/core/chunks/vec32.js");
/* harmony import */ var _SnappingHint_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./SnappingHint.js */ "./node_modules/@arcgis/core/views/interactive/snapping/hints/SnappingHint.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
class n extends _SnappingHint_js__WEBPACK_IMPORTED_MODULE_1__.SnappingHint{constructor(t,s,n){super(s,n),this.point=t}equals(s){return s instanceof n&&(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_0__.q)(this.point,s.point)}}


/***/ })

};

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmVuZG9ycy1ub2RlX21vZHVsZXNfYXJjZ2lzX2NvcmVfdmlld3NfaW50ZXJhY3RpdmVfc25hcHBpbmdfZmVhdHVyZVNvdXJjZXNfR3JhcGhpY3NTbmFwcGluZ1NvLTk2YTAzNy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyxrQkFBa0IsaUJBQWlCLGtFQUFrRSxTQUFTLGdCQUFnQixnQ0FBZ0MsWUFBWSxXQUFXLDRCQUE0QixTQUE4Qjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDSjdQO0FBQ0E7QUFDQTtBQUNBO0FBQzhkLGNBQWMsZUFBZSxjQUFjLGVBQWUsZ0JBQWdCLHVCQUF1Qiw2QkFBNkIsa0VBQUMsTUFBTSwwRUFBQyxpQkFBaUIsZUFBZSxRQUFRLHdFQUFDLGtCQUFrQiwrREFBQyxXQUFXLCtEQUFDLFNBQVMsR0FBRyxzREFBQyxvQkFBb0IsR0FBRywyREFBQyxrREFBa0QsR0FBRyx1REFBQyxrQkFBa0IsR0FBRyx3REFBQyxLQUFLLHlEQUFDLEtBQUssUUFBUSw0REFBQyxTQUFTLHdDQUF3QyxHQUFHLHlFQUFDLDJCQUEyQiw0RUFBQyxNQUFNLGlFQUFpRSxTQUFTLGdCQUFnQixlQUFlLGtDQUFrQyw4RUFBOEUscUdBQXFHLGtCQUFrQixxQkFBcUIsYUFBYSxRQUFRLFFBQVEseUVBQUMsTUFBTSxnQkFBZ0IsYUFBYSxRQUFRLHlFQUFDLE1BQU0saUJBQWlCLEtBQUssWUFBWSxRQUFRLFFBQVEseUVBQUMsTUFBTSxjQUFjLGFBQWEsUUFBUSx5RUFBQyxNQUFNLGVBQWUsU0FBUyxnQkFBZ0IsWUFBWSw0QkFBNEIsa0NBQWtDLFlBQVksY0FBYyxjQUFjLDBCQUEwQixVQUFVLFNBQVMsa0NBQWtDLElBQUksa0NBQWtDLElBQUksNEJBQTRCLElBQUksNEJBQTRCLFdBQVcsd0VBQXdFLGNBQWMsSUFBSSx3QkFBd0Isd0RBQXdELDBCQUEwQiw0QkFBNEIsYUFBYSw0QkFBNEIscUJBQXFCLDRCQUE0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QixVQUFVLHVCQUF1QixtREFBQyxzQkFBcUQiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wcmVjaXNpb25mYXJtcy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvY29yZS9tZW1vaXplLmpzIiwid2VicGFjazovL3ByZWNpc2lvbmZhcm1zLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS9nZW9tZXRyeS9zdXBwb3J0L25vcm1hbGl6ZVV0aWxzU3luYy5qcyIsIndlYnBhY2s6Ly9wcmVjaXNpb25mYXJtcy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvaW50ZXJhY3RpdmUvc25hcHBpbmcvY2FuZGlkYXRlcy9WZXJ0ZXhTbmFwcGluZ0NhbmRpZGF0ZS5qcyIsIndlYnBhY2s6Ly9wcmVjaXNpb25mYXJtcy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvaW50ZXJhY3RpdmUvc25hcHBpbmcvZmVhdHVyZVNvdXJjZXMvR3JhcGhpY3NTbmFwcGluZ1NvdXJjZS5qcyIsIndlYnBhY2s6Ly9wcmVjaXNpb25mYXJtcy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvaW50ZXJhY3RpdmUvc25hcHBpbmcvZmVhdHVyZVNvdXJjZXMvcXVlcnlFbmdpbmVVdGlscy5qcyIsIndlYnBhY2s6Ly9wcmVjaXNpb25mYXJtcy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvaW50ZXJhY3RpdmUvc25hcHBpbmcvZmVhdHVyZVNvdXJjZXMvc25hcHBpbmdDYW5kaWRhdGVFbGV2YXRpb25BbGlnbm1lbnQuanMiLCJ3ZWJwYWNrOi8vcHJlY2lzaW9uZmFybXMvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzL2ludGVyYWN0aXZlL3NuYXBwaW5nL2ZlYXR1cmVTb3VyY2VzL3NuYXBwaW5nQ2FuZGlkYXRlRWxldmF0aW9uRmlsdGVyLmpzIiwid2VicGFjazovL3ByZWNpc2lvbmZhcm1zLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy9pbnRlcmFjdGl2ZS9zbmFwcGluZy9mZWF0dXJlU291cmNlcy9zeW1ib2xvZ3lTbmFwcGluZ0NhbmRpZGF0ZXMuanMiLCJ3ZWJwYWNrOi8vcHJlY2lzaW9uZmFybXMvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzL2ludGVyYWN0aXZlL3NuYXBwaW5nL2hpbnRzL1BvaW50U25hcHBpbmdIaW50LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjMzL2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5mdW5jdGlvbiB0KHQpe2xldCByLGUsaT1bXSx1PSExO2Z1bmN0aW9uIGYoLi4uZil7cmV0dXJuIHUmJnI9PT10aGlzJiZuKGYsaSl8fChlPXQuYXBwbHkodGhpcyxmKSxyPXRoaXMsaT1mLHU9ITApLGV9cmV0dXJuIGZ9ZnVuY3Rpb24gbih0LG4pe2lmKHQubGVuZ3RoIT09bi5sZW5ndGgpcmV0dXJuITE7Zm9yKGxldCByPTA7cjx0Lmxlbmd0aDsrK3IpaWYodFtyXSE9PW5bcl0pcmV0dXJuITE7cmV0dXJuITB9ZXhwb3J0e3QgYXMgbWVtb2l6ZX07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4zMy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e2lzU2VyaWFsaXphYmxlIGFzIHR9ZnJvbVwiLi4vLi4vY29yZS9zdXBwb3J0L2pzb25VdGlscy5qc1wiO2ltcG9ydHtjcmVhdGUgYXMgaX1mcm9tXCIuL2FhQm91bmRpbmdSZWN0LmpzXCI7aW1wb3J0e2dldEJvdW5kc1hZIGFzIHN9ZnJvbVwiLi9ib3VuZHNVdGlscy5qc1wiO2ltcG9ydHtjbG9zZVJpbmdzIGFzIG59ZnJvbVwiLi9jb29yZHNVdGlscy5qc1wiO2ltcG9ydHtpc1BvaW50IGFzIGUsaXNNdWx0aXBvaW50IGFzIGgsaXNFeHRlbnQgYXMgbyxpc1BvbHlnb24gYXMgdSxpc1BvbHlsaW5lIGFzIHJ9ZnJvbVwiLi9qc29uVXRpbHMuanNcIjtpbXBvcnR7Y3V0UGFyYW1zIGFzIG0sdXBkYXRlUG9seUdlb21ldHJ5IGFzIHgsb2Zmc2V0TWFnbml0dWRlIGFzIGx9ZnJvbVwiLi9ub3JtYWxpemVVdGlsc0NvbW1vbi5qc1wiO2ltcG9ydHtnZXRJbmZvIGFzIF8saXNXZWJNZXJjYXRvciBhcyBjfWZyb21cIi4vc3BhdGlhbFJlZmVyZW5jZVV0aWxzLmpzXCI7ZnVuY3Rpb24gcCh0KXtyZXR1cm4gZih0LCEwKX1mdW5jdGlvbiBhKHQpe3JldHVybiBmKHQsITEpfWZ1bmN0aW9uIGYoaSxuKXtpZihudWxsPT1pKXJldHVybiBudWxsO2NvbnN0IHA9aS5zcGF0aWFsUmVmZXJlbmNlLGE9XyhwKSxmPXQoaSk/aS50b0pTT04oKTppO2lmKCFhKXJldHVybiBmO2NvbnN0IEk9YyhwKT8xMDIxMDA6NDMyNixnPW1bSV0ubWF4WCx2PW1bSV0ubWluWDtpZihlKGYpKXJldHVybiB5KGYsZyx2KTtpZihoKGYpKXJldHVybiBmLnBvaW50cz1mLnBvaW50cy5tYXAoKHQ9PnkodCxnLHYpKSksZjtpZihvKGYpKXJldHVybiBkKGYsYSk7aWYodShmKXx8cihmKSl7Y29uc3QgdD1zKFQsZiksaT17eG1pbjp0WzBdLHltaW46dFsxXSx4bWF4OnRbMl0seW1heDp0WzNdfSxlPWwoaS54bWluLHYpKigyKmcpLGg9MD09PWU/Zjp4KGYsZSk7cmV0dXJuIGkueG1pbis9ZSxpLnhtYXgrPWUsaS54bWF4Pmc/QyhoLGcsbik6aS54bWluPHY/QyhoLHYsbik6aH1yZXR1cm4gZn1mdW5jdGlvbiBkKHQsaSl7aWYoIWkpcmV0dXJuIHQ7Y29uc3Qgcz1JKHQsaSkubWFwKCh0PT50LmV4dGVudCkpO3JldHVybiBzLmxlbmd0aDwyP3NbMF18fHQ6cy5sZW5ndGg+Mj8odC54bWluPWkudmFsaWRbMF0sdC54bWF4PWkudmFsaWRbMV0sdCk6e3JpbmdzOnMubWFwKCh0PT5bW3QueG1pbix0LnltaW5dLFt0LnhtaW4sdC55bWF4XSxbdC54bWF4LHQueW1heF0sW3QueG1heCx0LnltaW5dLFt0LnhtaW4sdC55bWluXV0pKX19ZnVuY3Rpb24geSh0LGkscyl7aWYoQXJyYXkuaXNBcnJheSh0KSl7Y29uc3Qgbj10WzBdO2lmKG4+aSl7Y29uc3Qgcz1sKG4saSk7dFswXT1uK3MqKC0yKmkpfWVsc2UgaWYobjxzKXtjb25zdCBpPWwobixzKTt0WzBdPW4raSooLTIqcyl9fWVsc2V7Y29uc3Qgbj10Lng7aWYobj5pKXtjb25zdCBzPWwobixpKTt0LngrPXMqKC0yKmkpfWVsc2UgaWYobjxzKXtjb25zdCBpPWwobixzKTt0LngrPWkqKC0yKnMpfX1yZXR1cm4gdH1mdW5jdGlvbiBJKHQsaSl7Y29uc3Qgcz1bXSx7eW1pbjpuLHltYXg6ZSx4bWluOmgseG1heDpvfT10LHU9dC54bWF4LXQueG1pbixbcixtXT1pLnZhbGlkLHt4LGZyYW1lSWQ6bH09Zyh0LnhtaW4saSkse3g6XyxmcmFtZUlkOmN9PWcodC54bWF4LGkpLHA9eD09PV8mJnU+MDtpZih1PjIqbSl7Y29uc3QgdD17eG1pbjpoPG8/eDpfLHltaW46bix4bWF4Om0seW1heDplfSxpPXt4bWluOnIseW1pbjpuLHhtYXg6aDxvP186eCx5bWF4OmV9LHU9e3htaW46MCx5bWluOm4seG1heDptLHltYXg6ZX0scD17eG1pbjpyLHltaW46bix4bWF4OjAseW1heDplfSxhPVtdLGY9W107dih0LHUpJiZhLnB1c2gobCksdih0LHApJiZmLnB1c2gobCksdihpLHUpJiZhLnB1c2goYyksdihpLHApJiZmLnB1c2goYyk7Zm9yKGxldCBzPWwrMTtzPGM7cysrKWEucHVzaChzKSxmLnB1c2gocyk7cy5wdXNoKG5ldyBQKHQsW2xdKSxuZXcgUChpLFtjXSksbmV3IFAodSxhKSxuZXcgUChwLGYpKX1lbHNlIHg+X3x8cD9zLnB1c2gobmV3IFAoe3htaW46eCx5bWluOm4seG1heDptLHltYXg6ZX0sW2xdKSxuZXcgUCh7eG1pbjpyLHltaW46bix4bWF4Ol8seW1heDplfSxbY10pKTpzLnB1c2gobmV3IFAoe3htaW46eCx5bWluOm4seG1heDpfLHltYXg6ZX0sW2xdKSk7cmV0dXJuIHN9ZnVuY3Rpb24gZyh0LGkpe2NvbnN0W3Msbl09aS52YWxpZCxlPTIqbjtsZXQgaCxvPTA7cmV0dXJuIHQ+bj8oaD1NYXRoLmNlaWwoTWF0aC5hYnModC1uKS9lKSx0LT1oKmUsbz1oKTp0PHMmJihoPU1hdGguY2VpbChNYXRoLmFicyh0LXMpL2UpLHQrPWgqZSxvPS1oKSx7eDp0LGZyYW1lSWQ6b319ZnVuY3Rpb24gdih0LGkpe2NvbnN0e3htaW46cyx5bWluOm4seG1heDplLHltYXg6aH09aTtyZXR1cm4gTyh0LHMsbikmJk8odCxzLGgpJiZPKHQsZSxoKSYmTyh0LGUsbil9ZnVuY3Rpb24gTyh0LGkscyl7cmV0dXJuIGk+PXQueG1pbiYmaTw9dC54bWF4JiZzPj10LnltaW4mJnM8PXQueW1heH1mdW5jdGlvbiBDKHQsaSxzPSEwKXtjb25zdCBlPSFyKHQpO2lmKGUmJm4odCkscyl7cmV0dXJuKG5ldyBTKS5jdXQodCxpKX1jb25zdCBoPWU/dC5yaW5nczp0LnBhdGhzLG89ZT80OjIsdT1oLmxlbmd0aCxtPS0yKmk7Zm9yKGxldCBuPTA7bjx1O24rKyl7Y29uc3QgdD1oW25dO2lmKHQmJnQubGVuZ3RoPj1vKXtjb25zdCBpPVtdO2Zvcihjb25zdCBzIG9mIHQpaS5wdXNoKFtzWzBdK20sc1sxXV0pO2gucHVzaChpKX19cmV0dXJuIGU/dC5yaW5ncz1oOnQucGF0aHM9aCx0fWNsYXNzIFB7Y29uc3RydWN0b3IodCxpKXt0aGlzLmV4dGVudD10LHRoaXMuZnJhbWVJZHM9aX19Y29uc3QgVD1pKCk7Y2xhc3MgU3tjb25zdHJ1Y3Rvcigpe3RoaXMuX2xpbmVzSW49W10sdGhpcy5fbGluZXNPdXQ9W119Y3V0KHQsaSl7bGV0IHM7aWYodGhpcy5feEN1dD1pLHQucmluZ3MpdGhpcy5fY2xvc2VkPSEwLHM9dC5yaW5ncyx0aGlzLl9taW5QdHM9NDtlbHNle2lmKCF0LnBhdGhzKXJldHVybiBudWxsO3RoaXMuX2Nsb3NlZD0hMSxzPXQucGF0aHMsdGhpcy5fbWluUHRzPTJ9Zm9yKGNvbnN0IGUgb2Ygcyl7aWYoIWV8fGUubGVuZ3RoPHRoaXMuX21pblB0cyljb250aW51ZTtsZXQgdD0hMDtmb3IoY29uc3QgaSBvZiBlKXQ/KHRoaXMubW92ZVRvKGkpLHQ9ITEpOnRoaXMubGluZVRvKGkpO3RoaXMuX2Nsb3NlZCYmdGhpcy5jbG9zZSgpfXRoaXMuX3B1c2hMaW5lSW4oKSx0aGlzLl9wdXNoTGluZU91dCgpLHM9W107Zm9yKGNvbnN0IGUgb2YgdGhpcy5fbGluZXNJbillJiZlLmxlbmd0aD49dGhpcy5fbWluUHRzJiZzLnB1c2goZSk7Y29uc3Qgbj0tMip0aGlzLl94Q3V0O2Zvcihjb25zdCBlIG9mIHRoaXMuX2xpbmVzT3V0KWlmKGUmJmUubGVuZ3RoPj10aGlzLl9taW5QdHMpe2Zvcihjb25zdCB0IG9mIGUpdFswXSs9bjtzLnB1c2goZSl9cmV0dXJuIHRoaXMuX2Nsb3NlZD90LnJpbmdzPXM6dC5wYXRocz1zLHR9bW92ZVRvKHQpe3RoaXMuX3B1c2hMaW5lSW4oKSx0aGlzLl9wdXNoTGluZU91dCgpLHRoaXMuX3ByZXZTaWRlPXRoaXMuX3NpZGUodFswXSksdGhpcy5fbW92ZVRvKHRbMF0sdFsxXSx0aGlzLl9wcmV2U2lkZSksdGhpcy5fcHJldlB0PXQsdGhpcy5fZmlyc3RQdD10fWxpbmVUbyh0KXtjb25zdCBpPXRoaXMuX3NpZGUodFswXSk7aWYoaSp0aGlzLl9wcmV2U2lkZT09PS0xKXtjb25zdCBzPXRoaXMuX2ludGVyc2VjdCh0aGlzLl9wcmV2UHQsdCk7dGhpcy5fbGluZVRvKHRoaXMuX3hDdXQscywwKSx0aGlzLl9wcmV2U2lkZT0wLHRoaXMuX2xpbmVUbyh0WzBdLHRbMV0saSl9ZWxzZSB0aGlzLl9saW5lVG8odFswXSx0WzFdLGkpO3RoaXMuX3ByZXZTaWRlPWksdGhpcy5fcHJldlB0PXR9Y2xvc2UoKXtjb25zdCB0PXRoaXMuX2ZpcnN0UHQsaT10aGlzLl9wcmV2UHQ7dFswXT09PWlbMF0mJnRbMV09PT1pWzFdfHx0aGlzLmxpbmVUbyh0KSx0aGlzLl9jaGVja0Nsb3NpbmdQdCh0aGlzLl9saW5lSW4pLHRoaXMuX2NoZWNrQ2xvc2luZ1B0KHRoaXMuX2xpbmVPdXQpfV9tb3ZlVG8odCxpLHMpe3RoaXMuX2Nsb3NlZD8odGhpcy5fbGluZUluLnB1c2goW3M8PTA/dDp0aGlzLl94Q3V0LGldKSx0aGlzLl9saW5lT3V0LnB1c2goW3M+PTA/dDp0aGlzLl94Q3V0LGldKSk6KHM8PTAmJnRoaXMuX2xpbmVJbi5wdXNoKFt0LGldKSxzPj0wJiZ0aGlzLl9saW5lT3V0LnB1c2goW3QsaV0pKX1fbGluZVRvKHQsaSxzKXt0aGlzLl9jbG9zZWQ/KGoodGhpcy5fbGluZUluLHM8PTA/dDp0aGlzLl94Q3V0LGkpLGoodGhpcy5fbGluZU91dCxzPj0wP3Q6dGhpcy5feEN1dCxpKSk6czwwPygwPT09dGhpcy5fcHJldlNpZGUmJnRoaXMuX3B1c2hMaW5lT3V0KCksdGhpcy5fbGluZUluLnB1c2goW3QsaV0pKTpzPjA/KDA9PT10aGlzLl9wcmV2U2lkZSYmdGhpcy5fcHVzaExpbmVJbigpLHRoaXMuX2xpbmVPdXQucHVzaChbdCxpXSkpOnRoaXMuX3ByZXZTaWRlPDA/KHRoaXMuX2xpbmVJbi5wdXNoKFt0LGldKSx0aGlzLl9saW5lT3V0LnB1c2goW3QsaV0pKTp0aGlzLl9wcmV2U2lkZT4wJiYodGhpcy5fbGluZU91dC5wdXNoKFt0LGldKSx0aGlzLl9saW5lSW4ucHVzaChbdCxpXSkpfV9jaGVja0Nsb3NpbmdQdCh0KXtjb25zdCBpPXQubGVuZ3RoO2k+MyYmdFswXVswXT09PXRoaXMuX3hDdXQmJnRbaS0yXVswXT09PXRoaXMuX3hDdXQmJnRbMV1bMF09PT10aGlzLl94Q3V0JiYodFswXVsxXT10W2ktMl1bMV0sdC5wb3AoKSl9X3NpZGUodCl7cmV0dXJuIHQ8dGhpcy5feEN1dD8tMTp0PnRoaXMuX3hDdXQ/MTowfV9pbnRlcnNlY3QodCxpKXtjb25zdCBzPSh0aGlzLl94Q3V0LXRbMF0pLyhpWzBdLXRbMF0pO3JldHVybiB0WzFdK3MqKGlbMV0tdFsxXSl9X3B1c2hMaW5lSW4oKXt0aGlzLl9saW5lSW4mJnRoaXMuX2xpbmVJbi5sZW5ndGg+PXRoaXMuX21pblB0cyYmdGhpcy5fbGluZXNJbi5wdXNoKHRoaXMuX2xpbmVJbiksdGhpcy5fbGluZUluPVtdfV9wdXNoTGluZU91dCgpe3RoaXMuX2xpbmVPdXQmJnRoaXMuX2xpbmVPdXQubGVuZ3RoPj10aGlzLl9taW5QdHMmJnRoaXMuX2xpbmVzT3V0LnB1c2godGhpcy5fbGluZU91dCksdGhpcy5fbGluZU91dD1bXX19ZnVuY3Rpb24gaih0LGkscyl7Y29uc3Qgbj10Lmxlbmd0aDtuPjEmJnRbbi0xXVswXT09PWkmJnRbbi0yXVswXT09PWk/dFtuLTFdWzFdPXM6dC5wdXNoKFtpLHNdKX1leHBvcnR7UyBhcyBDdXRWZXJ0aWNhbCxhIGFzIG5vcm1hbGl6ZUNlbnRyYWxNZXJpZGlhbkZvckRpc3BsYXkscCBhcyBub3JtYWxpemVDZW50cmFsTWVyaWRpYW5TeW5jfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjMzL2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7UG9pbnRDb25zdHJhaW50IGFzIHR9ZnJvbVwiLi4vLi4vc2tldGNoL2NvbnN0cmFpbnRzLmpzXCI7aW1wb3J0e0ZlYXR1cmVTbmFwcGluZ0NhbmRpZGF0ZSBhcyBufWZyb21cIi4vRmVhdHVyZVNuYXBwaW5nQ2FuZGlkYXRlLmpzXCI7aW1wb3J0e1BvaW50U25hcHBpbmdIaW50IGFzIGl9ZnJvbVwiLi4vaGludHMvUG9pbnRTbmFwcGluZ0hpbnQuanNcIjtjbGFzcyByIGV4dGVuZHMgbntjb25zdHJ1Y3RvcihuKXtzdXBlcih7Li4ubixjb25zdHJhaW50Om5ldyB0KG4udGFyZ2V0UG9pbnQpfSl9Z2V0IGhpbnRzKCl7cmV0dXJuW25ldyBpKHRoaXMudGFyZ2V0UG9pbnQsdGhpcy5pc0RyYXBlZCx0aGlzLmRvbWFpbildfX1leHBvcnR7ciBhcyBWZXJ0ZXhTbmFwcGluZ0NhbmRpZGF0ZX07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4zMy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e18gYXMgZX1mcm9tXCIuLi8uLi8uLi8uLi9jaHVua3MvdHNsaWIuZXM2LmpzXCI7aW1wb3J0IHQgZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9BY2Nlc3Nvci5qc1wiO2ltcG9ydHtyZW1vdmVVbm9yZGVyZWQgYXMgb31mcm9tXCIuLi8uLi8uLi8uLi9jb3JlL2FycmF5VXRpbHMuanNcIjtpbXBvcnR7Y3JlYXRlVGFzayBhcyByfWZyb21cIi4uLy4uLy4uLy4uL2NvcmUvYXN5bmNVdGlscy5qc1wiO2ltcG9ydHttZW1vaXplIGFzIHN9ZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9tZW1vaXplLmpzXCI7aW1wb3J0e3Rocm93SWZBYm9ydGVkIGFzIGksYWxsU2V0dGxlZFZhbHVlcyBhcyBuLHdoZW5PckFib3J0IGFzIGF9ZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9wcm9taXNlVXRpbHMuanNcIjtpbXBvcnR7aW5pdGlhbCBhcyBwLHdhdGNoIGFzIGwsb24gYXMgZH1mcm9tXCIuLi8uLi8uLi8uLi9jb3JlL3JlYWN0aXZlVXRpbHMuanNcIjtpbXBvcnR7cHJvcGVydHkgYXMgY31mcm9tXCIuLi8uLi8uLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3Byb3BlcnR5LmpzXCI7aW1wb3J0XCIuLi8uLi8uLi8uLi9jb3JlL2hhcy5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vLi4vY29yZS9Mb2dnZXIuanNcIjtpbXBvcnR7c3ViY2xhc3MgYXMgdX1mcm9tXCIuLi8uLi8uLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3N1YmNsYXNzLmpzXCI7aW1wb3J0e1VwZGF0aW5nSGFuZGxlcyBhcyBofWZyb21cIi4uLy4uLy4uLy4uL2NvcmUvc3VwcG9ydC9VcGRhdGluZ0hhbmRsZXMuanNcIjtpbXBvcnQgeSBmcm9tXCIuLi8uLi8uLi8uLi9nZW9tZXRyeS9Qb2x5Z29uLmpzXCI7aW1wb3J0e2luaXRpYWxpemVQcm9qZWN0aW9uIGFzIG0sY2FuUHJvamVjdFdpdGhvdXRFbmdpbmUgYXMgZyxwcm9qZWN0IGFzIGZ9ZnJvbVwiLi4vLi4vLi4vLi4vZ2VvbWV0cnkvcHJvamVjdGlvblV0aWxzLmpzXCI7aW1wb3J0e25vcm1hbGl6ZUNlbnRyYWxNZXJpZGlhbkZvckRpc3BsYXkgYXMgX31mcm9tXCIuLi8uLi8uLi8uLi9nZW9tZXRyeS9zdXBwb3J0L25vcm1hbGl6ZVV0aWxzU3luYy5qc1wiO2ltcG9ydHtmZWF0dXJlR2VvbWV0cnlUeXBlS2ViYWJEaWN0aW9uYXJ5IGFzIHZ9ZnJvbVwiLi4vLi4vLi4vLi4vZ2VvbWV0cnkvc3VwcG9ydC90eXBlVXRpbHMuanNcIjtpbXBvcnR7Y29udmVydEZyb21HZW9tZXRyeSBhcyBTfWZyb21cIi4uLy4uLy4uLy4uL2xheWVycy9ncmFwaGljcy9mZWF0dXJlQ29udmVyc2lvblV0aWxzLmpzXCI7aW1wb3J0e09wdGltaXplZEZlYXR1cmUgYXMgd31mcm9tXCIuLi8uLi8uLi8uLi9sYXllcnMvZ3JhcGhpY3MvT3B0aW1pemVkRmVhdHVyZS5qc1wiO2ltcG9ydHtleGVjdXRlUXVlcnlGb3JTbmFwcGluZyBhcyBqfWZyb21cIi4uLy4uLy4uLy4uL2xheWVycy9ncmFwaGljcy9kYXRhL2V4ZWN1dGVRdWVyeUZvclNuYXBwaW5nLmpzXCI7aW1wb3J0IGIgZnJvbVwiLi4vLi4vLi4vLi4vbGF5ZXJzL2dyYXBoaWNzL2RhdGEvRmVhdHVyZVN0b3JlLmpzXCI7aW1wb3J0e1F1ZXJ5RW5naW5lIGFzIEV9ZnJvbVwiLi4vLi4vLi4vLi4vbGF5ZXJzL2dyYXBoaWNzL2RhdGEvUXVlcnlFbmdpbmUuanNcIjtpbXBvcnQgayBmcm9tXCIuLi8uLi8uLi8uLi9sYXllcnMvc3VwcG9ydC9GaWVsZHNJbmRleC5qc1wiO2ltcG9ydHtlbGV2YXRpb25Db250ZXh0QWZmZWN0c0FsaWdubWVudCBhcyBDfWZyb21cIi4uLy4uLy4uLy4uL3N1cHBvcnQvZWxldmF0aW9uSW5mb1V0aWxzLmpzXCI7aW1wb3J0e3N5bWJvbEhhc0V4dHJ1ZGVTeW1ib2xMYXllciBhcyBGfWZyb21cIi4uLy4uLy4uLy4uL3N5bWJvbHMvc3VwcG9ydC91dGlscy5qc1wiO2ltcG9ydHtzb3J0Q2FuZGlkYXRlc0luUGxhY2UgYXMgQSxtYWtlU25hcHBpbmdRdWVyeSBhcyBJfWZyb21cIi4uL3NuYXBwaW5nVXRpbHMuanNcIjtpbXBvcnR7bWFrZUdldEdyb3VuZEVsZXZhdGlvbiBhcyBQLGNvbnZlcnRTbmFwcGluZ0NhbmRpZGF0ZSBhcyBHfWZyb21cIi4vcXVlcnlFbmdpbmVVdGlscy5qc1wiO2ltcG9ydHtnZXRTbmFwcGluZ0NhbmRpZGF0ZUVsZXZhdGlvbkFsaWduZXIgYXMgSH1mcm9tXCIuL3NuYXBwaW5nQ2FuZGlkYXRlRWxldmF0aW9uQWxpZ25tZW50LmpzXCI7aW1wb3J0e2dldFNuYXBwaW5nQ2FuZGlkYXRlRWxldmF0aW9uRmlsdGVyIGFzIFJ9ZnJvbVwiLi9zbmFwcGluZ0NhbmRpZGF0ZUVsZXZhdGlvbkZpbHRlci5qc1wiO2ltcG9ydHtnZXRTeW1ib2xvZ3lTbmFwcGluZ0NhbmRpZGF0ZXNGZXRjaGVyIGFzIFV9ZnJvbVwiLi9zeW1ib2xvZ3lTbmFwcGluZ0NhbmRpZGF0ZXMuanNcIjtpbXBvcnR7VGFza1ByaW9yaXR5IGFzIHh9ZnJvbVwiLi4vLi4vLi4vc3VwcG9ydC9TY2hlZHVsZXIuanNcIjtjb25zdCB6PVwiZ3JhcGhpY3MtY29sbGVjdGlvbnNcIjtsZXQgTz1jbGFzcyBleHRlbmRzIHR7Z2V0IHVwZGF0aW5nKCl7cmV0dXJuIHRoaXMuX3VwZGF0aW5nSGFuZGxlcy51cGRhdGluZ31nZXQgX2hhc1ooKXtjb25zdCBlPXRoaXMudmlldztyZXR1cm4gbnVsbCE9ZSYmXCIzZFwiPT09ZS50eXBlJiZcIm1hcC1ub3Rlc1wiIT09dGhpcy5sYXllclNvdXJjZS5sYXllci50eXBlfWdldCBfc25hcHBpbmdFbGV2YXRpb25BbGlnbmVyKCl7Y29uc3R7dmlldzplfT10aGlzLHtsYXllcjp0fT10aGlzLmxheWVyU291cmNlLG89bnVsbCE9ZSYmXCIzZFwiPT09ZS50eXBlO2lmKCFvfHxcIm1hcC1ub3Rlc1wiPT09dC50eXBlKXJldHVybiBIKCk7Y29uc3Qgcj1hc3luYyhvLHIpPT4oYXdhaXQgYShlLndoZW5MYXllclZpZXcodCkscikpLmVsZXZhdGlvbkFsaWduUG9pbnRzSW5GZWF0dXJlcyhvLHIpO3JldHVybiBIKG8se2VsZXZhdGlvbkluZm86dC5lbGV2YXRpb25JbmZvLGFsaWduUG9pbnRzSW5GZWF0dXJlczpyfSl9Z2V0IF9zbmFwcGluZ0VsZXZhdGlvbkZpbHRlcigpe2NvbnN0e3ZpZXc6ZX09dGhpcyx0PW51bGwhPWUmJlwiM2RcIj09PWUudHlwZSYmXCJtYXAtbm90ZXNcIiE9PXRoaXMubGF5ZXJTb3VyY2UubGF5ZXIudHlwZTtyZXR1cm4gUih0KX1nZXQgX3N5bWJvbG9neVNuYXBwaW5nRmV0Y2hlcigpe2NvbnN0e3ZpZXc6ZX09dGhpcyx7bGF5ZXI6dH09dGhpcy5sYXllclNvdXJjZSxvPW51bGwhPWUmJlwiM2RcIj09PWUudHlwZSxyPXRoaXMuX2V4dHJ1ZGVkUG9seWdvblN5bWJvbHNDb3VudD4wO3JldHVybiBvJiZcIm1hcC1ub3Rlc1wiIT09dC50eXBlJiZyP1UociwoYXN5bmMobyxyKT0+e2NvbnN0IHM9YXdhaXQgZS53aGVuTGF5ZXJWaWV3KHQpO3JldHVybiBpKHIpLHMucXVlcnlGb3JTeW1ib2xvZ3lTbmFwcGluZyh7Y2FuZGlkYXRlczpvLHNwYXRpYWxSZWZlcmVuY2U6ZS5zcGF0aWFsUmVmZXJlbmNlfSxyKX0pKTpVKCl9Y29uc3RydWN0b3IoZSl7c3VwZXIoZSksdGhpcy5hdmFpbGFiaWxpdHk9MSx0aGlzLl9zb3VyY2VzPXttdWx0aXBvaW50Om51bGwscG9pbnQ6bnVsbCxwb2x5Z29uOm51bGwscG9seWxpbmU6bnVsbH0sdGhpcy5fbG9hZGVkV2tpZHM9bmV3IFNldCx0aGlzLl9sb2FkZWRXa3RzPW5ldyBTZXQsdGhpcy5fcGVuZGluZ0FkZHM9W10sdGhpcy5fZXh0cnVkZWRQb2x5Z29uU3ltYm9sc0NvdW50PTAsdGhpcy5fdXBkYXRpbmdIYW5kbGVzPW5ldyBoLHRoaXMuX21lbW9pemVkTWFrZUdldEdyb3VuZEVsZXZhdGlvbj1zKFApfWRlc3Ryb3koKXtmb3IoY29uc3QgZSBvZiB0aGlzLl9wZW5kaW5nQWRkcyllLnRhc2suYWJvcnQoKTt0aGlzLl9wZW5kaW5nQWRkcy5sZW5ndGg9MCx0aGlzLl9tYXBTb3VyY2VzKChlPT50aGlzLl9kZXN0cm95U291cmNlKGUpKSksdGhpcy5fdXBkYXRpbmdIYW5kbGVzLmRlc3Ryb3koKX1pbml0aWFsaXplKCl7dGhpcy5fdXBkYXRpbmdIYW5kbGVzLmFkZCgoKCk9PnRoaXMuZ2V0R3JhcGhpY3NMYXllcnMoKSksKGU9Pnt0aGlzLl91cGRhdGluZ0hhbmRsZXMucmVtb3ZlSGFuZGxlcyh6KTtmb3IoY29uc3QgdCBvZiBlKXRoaXMuX2FkZE1hbnkodC5ncmFwaGljcy50b0FycmF5KCkpLHRoaXMuYWRkSGFuZGxlcyhbdC5vbihcImdyYXBoaWMtdXBkYXRlXCIsKGU9PnRoaXMuX29uR3JhcGhpY1VwZGF0ZShlKSkpLHRoaXMuX3VwZGF0aW5nSGFuZGxlcy5hZGRPbkNvbGxlY3Rpb25DaGFuZ2UoKCgpPT50LmdyYXBoaWNzKSwoZT0+dGhpcy5fb25HcmFwaGljc0NoYW5nZWQoZSkpKV0seil9KSxwKTtjb25zdHt2aWV3OmV9PXRoaXMse2xheWVyOnR9PXRoaXMubGF5ZXJTb3VyY2U7bnVsbCE9ZSYmXCIzZFwiPT09ZS50eXBlJiZcIm1hcC1ub3Rlc1wiIT09dC50eXBlJiZlLmVsZXZhdGlvblByb3ZpZGVyJiZ0aGlzLmFkZEhhbmRsZXMoW2UuZWxldmF0aW9uUHJvdmlkZXIub24oXCJlbGV2YXRpb24tY2hhbmdlXCIsKCh7Y29udGV4dDplfSk9PntDKGUsdC5lbGV2YXRpb25JbmZvKSYmdGhpcy5fc25hcHBpbmdFbGV2YXRpb25BbGlnbmVyLm5vdGlmeUVsZXZhdGlvblNvdXJjZUNoYW5nZSgpfSkpLGwoKCgpPT50LmVsZXZhdGlvbkluZm8pLCgoKT0+dGhpcy5fc25hcHBpbmdFbGV2YXRpb25BbGlnbmVyLm5vdGlmeUVsZXZhdGlvblNvdXJjZUNoYW5nZSgpKSxwKSxkKCgoKT0+dCksW1wiZWRpdHNcIixcImFwcGx5LWVkaXRzXCIsXCJncmFwaGljLXVwZGF0ZVwiXSwoKCk9PnRoaXMuX3N5bWJvbG9neVNuYXBwaW5nRmV0Y2hlci5ub3RpZnlTeW1ib2xvZ3lDaGFuZ2UoKSkpXSl9YXN5bmMgZmV0Y2hDYW5kaWRhdGVzKGUsdCl7Y29uc3R7cG9pbnQ6byxjb29yZGluYXRlSGVscGVyOntzcGF0aWFsUmVmZXJlbmNlOnJ9fT1lLHM9YXdhaXQgbih0aGlzLl9tYXBTb3VyY2VzKChvPT50aGlzLl9mZXRjaENhbmRpZGF0ZXNGb3JTb3VyY2UobyxlLHQpKSkpO2kodCk7Y29uc3QgYT10aGlzLl9tZW1vaXplZE1ha2VHZXRHcm91bmRFbGV2YXRpb24odGhpcy52aWV3LHIpLHA9cy5mbGF0KCkubWFwKChlPT5HKGUsYSkpKTtyZXR1cm4gQShvLHApLHB9YXN5bmMgX2ZldGNoQ2FuZGlkYXRlc0ZvclNvdXJjZShlLHQsbyl7Y29uc3Qgcj1JKHtwYXJhbWV0ZXJzOnQsbW9kZTp0aGlzLnZpZXc/LnR5cGU/P1wiMmRcIn0pLHM9YXdhaXQgaihlLnF1ZXJ5RW5naW5lLHIsbyk7aShvKTtjb25zdCBuPWF3YWl0IHRoaXMuX3NuYXBwaW5nRWxldmF0aW9uQWxpZ25lci5hbGlnbkNhbmRpZGF0ZXMocy5jYW5kaWRhdGVzLHQuY29vcmRpbmF0ZUhlbHBlci5zcGF0aWFsUmVmZXJlbmNlLG8pO2kobyk7Y29uc3QgYT1hd2FpdCB0aGlzLl9zeW1ib2xvZ3lTbmFwcGluZ0ZldGNoZXIuZmV0Y2gobixvKTtpKG8pO2NvbnN0IHA9MD09PWEubGVuZ3RoP246Wy4uLm4sLi4uYV07cmV0dXJuIHRoaXMuX3NuYXBwaW5nRWxldmF0aW9uRmlsdGVyLmZpbHRlcihyLHApfXJlZnJlc2goKXt9X29uR3JhcGhpY1VwZGF0ZShlKXtpZih0aGlzLmdldEdyYXBoaWNzTGF5ZXJzKCkuc29tZSgodD0+dC5ncmFwaGljcy5pbmNsdWRlcyhlLmdyYXBoaWMpKSkpc3dpdGNoKGUucHJvcGVydHkpe2Nhc2VcImdlb21ldHJ5XCI6Y2FzZVwidmlzaWJsZVwiOnRoaXMuX3JlbW92ZShlLmdyYXBoaWMpLHRoaXMuX2FkZE1hbnkoW2UuZ3JhcGhpY10pfX1fb25HcmFwaGljc0NoYW5nZWQoZSl7Zm9yKGNvbnN0IHQgb2YgZS5yZW1vdmVkKXRoaXMuX3JlbW92ZSh0KTt0aGlzLl9hZGRNYW55KGUuYWRkZWQpfV9hZGRNYW55KGUpe2NvbnN0IHQ9W10sbz1uZXcgTWFwO2Zvcihjb25zdCByIG9mIGUpbnVsbCE9ci5nZW9tZXRyeSYmKHRoaXMuX25lZWRzSW5pdGlhbGl6ZVByb2plY3Rpb24oci5nZW9tZXRyeS5zcGF0aWFsUmVmZXJlbmNlKT8odC5wdXNoKHIuZ2VvbWV0cnkuc3BhdGlhbFJlZmVyZW5jZSksby5zZXQoci51aWQscikpOnRoaXMuX2FkZChyKSk7dGhpcy5fY3JlYXRlUGVuZGluZ0FkZCh0LG8pfV9jcmVhdGVQZW5kaW5nQWRkKGUsdCl7aWYoIWUubGVuZ3RoKXJldHVybjtjb25zdCBzPXIoKGFzeW5jIG89Pnthd2FpdCBtKGUubWFwKChlPT4oe3NvdXJjZTplLGRlc3Q6dGhpcy5zcGF0aWFsUmVmZXJlbmNlfSkpKSx7c2lnbmFsOm99KSx0aGlzLl9tYXJrTG9hZGVkU3BhdGlhbFJlZmVyZW5jZXMoZSk7Zm9yKGNvbnN0IGUgb2YgdC52YWx1ZXMoKSl0aGlzLl9hZGQoZSl9KSk7dGhpcy5fdXBkYXRpbmdIYW5kbGVzLmFkZFByb21pc2Uocy5wcm9taXNlKTtjb25zdCBpPXt0YXNrOnMsZ3JhcGhpY3M6dH0sbj0oKT0+byh0aGlzLl9wZW5kaW5nQWRkcyxpKTtzLnByb21pc2UudGhlbihuLG4pLHRoaXMuX3BlbmRpbmdBZGRzLnB1c2goaSl9X21hcmtMb2FkZWRTcGF0aWFsUmVmZXJlbmNlcyhlKXtmb3IoY29uc3QgdCBvZiBlKXtudWxsIT10LndraWQmJnRoaXMuX2xvYWRlZFdraWRzLmFkZCh0LndraWQpO2NvbnN0IGU9dC53a3QyfHx0LndrdDtlJiZ0aGlzLl9sb2FkZWRXa3RzLmFkZChlKX19X2FkZChlKXtpZihudWxsPT1lLmdlb21ldHJ5fHwhZS52aXNpYmxlKXJldHVybjtsZXQgdD1lLmdlb21ldHJ5O2lmKFwibWVzaFwiPT09dC50eXBlKXJldHVybjtcImV4dGVudFwiPT09dC50eXBlJiYodD15LmZyb21FeHRlbnQodCkpO2NvbnN0IG89dGhpcy5fZW5zdXJlU291cmNlKHQudHlwZSk7aWYobnVsbD09bylyZXR1cm47Y29uc3Qgcj10aGlzLl9jcmVhdGVPcHRpbWl6ZWRGZWF0dXJlKGUudWlkLHQpO251bGwhPXImJihvLmZlYXR1cmVTdG9yZS5hZGQociksRihlLnN5bWJvbCkmJnRoaXMuX2V4dHJ1ZGVkUG9seWdvblN5bWJvbHNDb3VudCsrKX1fbmVlZHNJbml0aWFsaXplUHJvamVjdGlvbihlKXtpZihudWxsIT1lLndraWQmJnRoaXMuX2xvYWRlZFdraWRzLmhhcyhlLndraWQpKXJldHVybiExO2NvbnN0IHQ9ZS53a3QyfHxlLndrdDtyZXR1cm4oIXR8fCF0aGlzLl9sb2FkZWRXa3RzLmhhcyh0KSkmJiFnKGUsdGhpcy5zcGF0aWFsUmVmZXJlbmNlKX1fY3JlYXRlT3B0aW1pemVkRmVhdHVyZShlLHQpe2NvbnN0IG89ZihfKHQpLHRoaXMuc3BhdGlhbFJlZmVyZW5jZSk7aWYoIW8pcmV0dXJuIG51bGw7Y29uc3Qgcj10aGlzLl9lbnN1cmVHZW9tZXRyeUhhc1oobykscz1TKHIsdGhpcy5faGFzWiwhMSk7cmV0dXJuIG5ldyB3KHMse1taXTplfSxudWxsLGUpfV9lbnN1cmVHZW9tZXRyeUhhc1ooZSl7aWYoIXRoaXMuX2hhc1opcmV0dXJuIGU7Y29uc3QgdD1lPT57Zm9yKDtlLmxlbmd0aDwzOyllLnB1c2goMCl9LG89ZS5jbG9uZSgpO3N3aXRjaChvLmhhc1o9ITAsby50eXBlKXtjYXNlXCJwb2ludFwiOm8uej1vLno/PzA7YnJlYWs7Y2FzZVwibXVsdGlwb2ludFwiOm8ucG9pbnRzLmZvckVhY2godCk7YnJlYWs7Y2FzZVwicG9seWxpbmVcIjpvLnBhdGhzLmZvckVhY2goKGU9PmUuZm9yRWFjaCh0KSkpO2JyZWFrO2Nhc2VcInBvbHlnb25cIjpvLnJpbmdzLmZvckVhY2goKGU9PmUuZm9yRWFjaCh0KSkpfXJldHVybiBvfV9lbnN1cmVTb3VyY2UoZSl7Y29uc3QgdD10aGlzLl9zb3VyY2VzW2VdO2lmKG51bGwhPXQpcmV0dXJuIHQ7Y29uc3Qgbz10aGlzLl9jcmVhdGVTb3VyY2UoZSk7cmV0dXJuIHRoaXMuX3NvdXJjZXNbZV09byxvfV9jcmVhdGVTb3VyY2UoZSl7Y29uc3QgdD12LnRvSlNPTihlKSxvPXRoaXMuX2hhc1oscj1uZXcgYih7Z2VvbWV0cnlUeXBlOnQsaGFzWjpvLGhhc006ITF9KTtyZXR1cm57ZmVhdHVyZVN0b3JlOnIscXVlcnlFbmdpbmU6bmV3IEUoe2ZlYXR1cmVTdG9yZTpyLGZpZWxkc0luZGV4OmsuZnJvbUxheWVySlNPTih7ZmllbGRzOlt7bmFtZTpaLHR5cGU6XCJlc3JpRmllbGRUeXBlT0lEXCIsYWxpYXM6Wn1dfSksZ2VvbWV0cnlUeXBlOnQsaGFzTTohMSxoYXNaOm8sZmVhdHVyZUlkSW5mbzp7dHlwZTpcIm9iamVjdC1pZFwiLGZpZWxkTmFtZTpafSxzcGF0aWFsUmVmZXJlbmNlOnRoaXMuc3BhdGlhbFJlZmVyZW5jZSxwcmlvcml0eTp4LlNOQVBQSU5HLHNjaGVkdWxlcjpudWxsIT10aGlzLnZpZXcmJlwiM2RcIj09PXRoaXMudmlldy50eXBlP3RoaXMudmlldy5yZXNvdXJjZUNvbnRyb2xsZXIuc2NoZWR1bGVyOm51bGx9KSx0eXBlOmV9fV9yZW1vdmUoZSl7dGhpcy5fbWFwU291cmNlcygodD0+dGhpcy5fcmVtb3ZlRnJvbVNvdXJjZSh0LGUpKSk7Zm9yKGNvbnN0IHQgb2YgdGhpcy5fcGVuZGluZ0FkZHMpdC5ncmFwaGljcy5kZWxldGUoZS51aWQpLDA9PT10LmdyYXBoaWNzLnNpemUmJnQudGFzay5hYm9ydCgpfV9yZW1vdmVGcm9tU291cmNlKGUsdCl7Y29uc3Qgbz10LnVpZDtlLmZlYXR1cmVTdG9yZS5oYXMobykmJihlLmZlYXR1cmVTdG9yZS5yZW1vdmVCeUlkKHQudWlkKSxGKHQuc3ltYm9sKSYmdGhpcy5fZXh0cnVkZWRQb2x5Z29uU3ltYm9sc0NvdW50LS0pfV9kZXN0cm95U291cmNlKGUpe2UucXVlcnlFbmdpbmUuZGVzdHJveSgpLHRoaXMuX3NvdXJjZXNbZS50eXBlXT1udWxsfV9tYXBTb3VyY2VzKGUpe2NvbnN0e3BvaW50OnQscG9seWdvbjpvLHBvbHlsaW5lOnIsbXVsdGlwb2ludDpzfT10aGlzLl9zb3VyY2VzLGk9W107cmV0dXJuIG51bGwhPXQmJmkucHVzaChlKHQpKSxudWxsIT1vJiZpLnB1c2goZShvKSksbnVsbCE9ciYmaS5wdXNoKGUocikpLG51bGwhPXMmJmkucHVzaChlKHMpKSxpfX07ZShbYygpXSxPLnByb3RvdHlwZSxcImdldEdyYXBoaWNzTGF5ZXJzXCIsdm9pZCAwKSxlKFtjKHtjb25zdHJ1Y3RPbmx5OiEwfSldLE8ucHJvdG90eXBlLFwibGF5ZXJTb3VyY2VcIix2b2lkIDApLGUoW2Moe2NvbnN0cnVjdE9ubHk6ITB9KV0sTy5wcm90b3R5cGUsXCJzcGF0aWFsUmVmZXJlbmNlXCIsdm9pZCAwKSxlKFtjKHtjb25zdHJ1Y3RPbmx5OiEwfSldLE8ucHJvdG90eXBlLFwidmlld1wiLHZvaWQgMCksZShbYyh7cmVhZE9ubHk6ITB9KV0sTy5wcm90b3R5cGUsXCJ1cGRhdGluZ1wiLG51bGwpLGUoW2Moe3JlYWRPbmx5OiEwfSldLE8ucHJvdG90eXBlLFwiYXZhaWxhYmlsaXR5XCIsdm9pZCAwKSxlKFtjKCldLE8ucHJvdG90eXBlLFwiX2hhc1pcIixudWxsKSxlKFtjKCldLE8ucHJvdG90eXBlLFwiX3NuYXBwaW5nRWxldmF0aW9uQWxpZ25lclwiLG51bGwpLGUoW2MoKV0sTy5wcm90b3R5cGUsXCJfc25hcHBpbmdFbGV2YXRpb25GaWx0ZXJcIixudWxsKSxlKFtjKCldLE8ucHJvdG90eXBlLFwiX3N5bWJvbG9neVNuYXBwaW5nRmV0Y2hlclwiLG51bGwpLGUoW2MoKV0sTy5wcm90b3R5cGUsXCJfZXh0cnVkZWRQb2x5Z29uU3ltYm9sc0NvdW50XCIsdm9pZCAwKSxPPWUoW3UoXCJlc3JpLnZpZXdzLmludGVyYWN0aXZlLnNuYXBwaW5nLmZlYXR1cmVTb3VyY2VzLkdyYXBoaWNzU25hcHBpbmdTb3VyY2VcIildLE8pO2NvbnN0IFo9XCJPQkpFQ1RJRFwiO2V4cG9ydHtPIGFzIEdyYXBoaWNzU25hcHBpbmdTb3VyY2V9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMzMvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHttYXJrQXNUYXJnZXQgYXMgZSxmcm9tVmFsdWVzIGFzIHR9ZnJvbVwiLi4vLi4vc2tldGNoL25vcm1hbGl6ZWRQb2ludC5qc1wiO2ltcG9ydHtEcmFwZWRFZGdlU25hcHBpbmdDYW5kaWRhdGUgYXMgbn1mcm9tXCIuLi9jYW5kaWRhdGVzL0RyYXBlZEVkZ2VTbmFwcGluZ0NhbmRpZGF0ZS5qc1wiO2ltcG9ydHtFZGdlU25hcHBpbmdDYW5kaWRhdGUgYXMgZH1mcm9tXCIuLi9jYW5kaWRhdGVzL0VkZ2VTbmFwcGluZ0NhbmRpZGF0ZS5qc1wiO2ltcG9ydHtWZXJ0ZXhTbmFwcGluZ0NhbmRpZGF0ZSBhcyByfWZyb21cIi4uL2NhbmRpZGF0ZXMvVmVydGV4U25hcHBpbmdDYW5kaWRhdGUuanNcIjtmdW5jdGlvbiBhKHt4OmUseTpuLHo6ZH0pe3JldHVybiB0KGUsbixkPz8wKX1mdW5jdGlvbiBvKHQsbyl7c3dpdGNoKHQudHlwZSl7Y2FzZVwiZWRnZVwiOnJldHVybiB0LmRyYXBlZD9uZXcgbih7ZWRnZVN0YXJ0OmEodC5zdGFydCksZWRnZUVuZDphKHQuZW5kKSx0YXJnZXRQb2ludDplKGEodC50YXJnZXQpKSxvYmplY3RJZDp0Lm9iamVjdElkLGdldEdyb3VuZEVsZXZhdGlvbjpvfSk6bmV3IGQoe2VkZ2VTdGFydDphKHQuc3RhcnQpLGVkZ2VFbmQ6YSh0LmVuZCksdGFyZ2V0UG9pbnQ6ZShhKHQudGFyZ2V0KSksb2JqZWN0SWQ6dC5vYmplY3RJZCxpc0RyYXBlZDohMX0pO2Nhc2VcInZlcnRleFwiOnJldHVybiBuZXcgcih7dGFyZ2V0UG9pbnQ6ZShhKHQudGFyZ2V0KSksb2JqZWN0SWQ6dC5vYmplY3RJZCxpc0RyYXBlZDohMX0pfX1mdW5jdGlvbiBpKGUsdCl7cmV0dXJuIG51bGwhPWUmJlwiM2RcIj09PWUudHlwZT8obixkKT0+ZS5lbGV2YXRpb25Qcm92aWRlci5nZXRFbGV2YXRpb24obixkLDAsdCxcImdyb3VuZFwiKTooKT0+bnVsbH1leHBvcnR7byBhcyBjb252ZXJ0U25hcHBpbmdDYW5kaWRhdGUsaSBhcyBtYWtlR2V0R3JvdW5kRWxldmF0aW9ufTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjMzL2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnRcIi4uLy4uLy4uLy4uL2NvcmUvaGFzLmpzXCI7aW1wb3J0e0xSVUNhY2hlIGFzIGV9ZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9MUlVDYWNoZS5qc1wiO2ltcG9ydHtnZXRPckNyZWF0ZU1hcFZhbHVlIGFzIHR9ZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9NYXBVdGlscy5qc1wiO2ltcG9ydHt0aHJvd0lmQWJvcnRlZCBhcyBzfWZyb21cIi4uLy4uLy4uLy4uL2NvcmUvcHJvbWlzZVV0aWxzLmpzXCI7aW1wb3J0e2dldE1ldGVyc1BlclZlcnRpY2FsVW5pdEZvclNSIGFzIG59ZnJvbVwiLi4vLi4vLi4vLi4vY29yZS91bml0VXRpbHMuanNcIjtpbXBvcnR7Z2V0TWV0ZXJzUGVyVW5pdCBhcyBvfWZyb21cIi4uLy4uLy4uLy4uL3N5bWJvbHMvc3VwcG9ydC91bml0Q29udmVyc2lvblV0aWxzLmpzXCI7ZnVuY3Rpb24gaShlPSExLHQpe2lmKGUpe2NvbnN0e2VsZXZhdGlvbkluZm86ZSxhbGlnblBvaW50c0luRmVhdHVyZXM6c309dDtyZXR1cm4gbmV3IGMoZSxzKX1yZXR1cm4gbmV3IGF9Y2xhc3MgYXthc3luYyBhbGlnbkNhbmRpZGF0ZXMoZSx0LHMpe3JldHVybiBlfW5vdGlmeUVsZXZhdGlvblNvdXJjZUNoYW5nZSgpe319Y29uc3Qgcj0xMDI0O2NsYXNzIGN7Y29uc3RydWN0b3IodCxzKXt0aGlzLl9lbGV2YXRpb25JbmZvPXQsdGhpcy5fYWxpZ25Qb2ludHNJbkZlYXR1cmVzPXMsdGhpcy5fYWxpZ25tZW50c0NhY2hlPW5ldyBlKHIpLHRoaXMuX2NhY2hlVmVyc2lvbj0wfWFzeW5jIGFsaWduQ2FuZGlkYXRlcyhlLHQscyl7Y29uc3Qgbj10aGlzLl9lbGV2YXRpb25JbmZvO3JldHVybiBudWxsPT1ufHxcImFic29sdXRlLWhlaWdodFwiIT09bi5tb2RlfHxuLmZlYXR1cmVFeHByZXNzaW9uSW5mbz90aGlzLl9hbGlnbkNvbXB1dGVkRWxldmF0aW9uQ2FuZGlkYXRlcyhlLHQscyk6KGwoZSx0LG4pLGUpfW5vdGlmeUVsZXZhdGlvblNvdXJjZUNoYW5nZSgpe3RoaXMuX2FsaWdubWVudHNDYWNoZS5jbGVhcigpLHRoaXMuX2NhY2hlVmVyc2lvbisrfWFzeW5jIF9hbGlnbkNvbXB1dGVkRWxldmF0aW9uQ2FuZGlkYXRlcyhlLG4sbyl7Y29uc3QgaT1uZXcgTWFwO2Zvcihjb25zdCBzIG9mIGUpdChpLHMub2JqZWN0SWQsZCkucHVzaChzKTtjb25zdFthLHIsY109dGhpcy5fcHJlcGFyZVF1ZXJ5KGksbiksaD1hd2FpdCB0aGlzLl9hbGlnblBvaW50c0luRmVhdHVyZXMoYSxvKTtzKG8pO2lmKGMhPT10aGlzLl9jYWNoZVZlcnNpb24pcmV0dXJuIHRoaXMuX2FsaWduQ29tcHV0ZWRFbGV2YXRpb25DYW5kaWRhdGVzKGUsbixvKTt0aGlzLl9hcHBseUNhY2hlQW5kUmVzcG9uc2UoYSxoLHIpO2NvbnN0e2RyYXBlZE9iamVjdElkczp1LGZhaWxlZE9iamVjdElkczpsfT1oLHA9W107Zm9yKGNvbnN0IHQgb2YgZSl7Y29uc3R7b2JqZWN0SWQ6ZX09dDt1LmhhcyhlKSYmXCJlZGdlXCI9PT10LnR5cGUmJih0LmRyYXBlZD0hMCksbC5oYXMoZSl8fHAucHVzaCh0KX1yZXR1cm4gcH1fcHJlcGFyZVF1ZXJ5KGUsdCl7Y29uc3Qgcz1bXSxuPVtdO2Zvcihjb25zdFtvLGldb2YgZSl7Y29uc3QgZT1bXTtmb3IoY29uc3QgdCBvZiBpKXRoaXMuX2FkZFRvUXVlcmllc09yQ2FjaGVkUmVzdWx0KG8sdC50YXJnZXQsZSxuKSxcImVkZ2VcIj09PXQudHlwZSYmKHRoaXMuX2FkZFRvUXVlcmllc09yQ2FjaGVkUmVzdWx0KG8sdC5zdGFydCxlLG4pLHRoaXMuX2FkZFRvUXVlcmllc09yQ2FjaGVkUmVzdWx0KG8sdC5lbmQsZSxuKSk7MCE9PWUubGVuZ3RoJiZzLnB1c2goe29iamVjdElkOm8scG9pbnRzOmV9KX1yZXR1cm5be3NwYXRpYWxSZWZlcmVuY2U6dC50b0pTT04oKSxwb2ludHNJbkZlYXR1cmVzOnN9LG4sdGhpcy5fY2FjaGVWZXJzaW9uXX1fYWRkVG9RdWVyaWVzT3JDYWNoZWRSZXN1bHQoZSx0LHMsbil7Y29uc3Qgbz11KGUsdCksaT10aGlzLl9hbGlnbm1lbnRzQ2FjaGUuZ2V0KG8pO251bGw9PWk/cy5wdXNoKHQpOm4ucHVzaChuZXcgaCh0LGkpKX1fYXBwbHlDYWNoZUFuZFJlc3BvbnNlKGUse2VsZXZhdGlvbnM6dCxkcmFwZWRPYmplY3RJZHM6cyxmYWlsZWRPYmplY3RJZHM6bn0sbyl7Zm9yKGNvbnN0IHIgb2YgbylyLmFwcGx5KCk7bGV0IGk9MDtjb25zdCBhPXRoaXMuX2FsaWdubWVudHNDYWNoZTtmb3IoY29uc3R7b2JqZWN0SWQ6cixwb2ludHM6Y31vZiBlLnBvaW50c0luRmVhdHVyZXMpe2lmKG4uaGFzKHIpKXtpKz1jLmxlbmd0aDtjb250aW51ZX1jb25zdCBlPSFzLmhhcyhyKTtmb3IoY29uc3QgcyBvZiBjKXtjb25zdCBuPXUocixzKSxvPXRbaSsrXTtzLno9byxlJiZhLnB1dChuLG8sMSl9fX19Y2xhc3MgaHtjb25zdHJ1Y3RvcihlLHQpe3RoaXMucG9pbnQ9ZSx0aGlzLno9dH1hcHBseSgpe3RoaXMucG9pbnQuej10aGlzLnp9fWZ1bmN0aW9uIHUoZSx7eDp0LHk6cyx6Om4sc3BhdGlhbFJlZmVyZW5jZTpvfSl7cmV0dXJuYCR7ZX0tJHt0fS0ke3N9LSR7bj8/MH19LXdraWQ6JHtvPy53a2lkfWB9ZnVuY3Rpb24gbChlLHQscyl7Y29uc3R7b2Zmc2V0OmksdW5pdDphfT1zO2lmKG51bGw9PWkpcmV0dXJuO2NvbnN0IHI9bih0KSxjPWkqKG8oYT8/XCJtZXRlcnNcIikvcik7Zm9yKGNvbnN0IG4gb2YgZSlzd2l0Y2gobi50eXBlKXtjYXNlXCJlZGdlXCI6bi5zdGFydC56Kz1jLG4uZW5kLnorPWM7Y29udGludWU7Y2FzZVwidmVydGV4XCI6bi50YXJnZXQueis9Yztjb250aW51ZX19ZnVuY3Rpb24gZCgpe3JldHVybltdfWV4cG9ydHtpIGFzIGdldFNuYXBwaW5nQ2FuZGlkYXRlRWxldmF0aW9uQWxpZ25lcn07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4zMy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0XCIuLi8uLi8uLi8uLi9jb3JlL2hhcy5qc1wiO2NsYXNzIHR7ZmlsdGVyKHQsbil7cmV0dXJuIG59bm90aWZ5RWxldmF0aW9uU291cmNlQ2hhbmdlKCl7fX1jbGFzcyBue2ZpbHRlcih0LG4pe2NvbnN0e3BvaW50OnIsZGlzdGFuY2U6Y309dCx7ejppfT1yO2lmKCEobnVsbCE9aSkpcmV0dXJuIG47aWYoMD09PW4ubGVuZ3RoKXJldHVybiBuO2NvbnN0IG89cyhjKSx1PXRoaXMuX3VwZGF0ZUNhbmRpZGF0ZXNUbzNEKG4scixvKS5maWx0ZXIoZSk7cmV0dXJuIHUuc29ydChhKSx1fV91cGRhdGVDYW5kaWRhdGVzVG8zRCh0LG4sZSl7Zm9yKGNvbnN0IHIgb2YgdClzd2l0Y2goci50eXBlKXtjYXNlXCJlZGdlXCI6YyhyLG4sZSk7Y29udGludWU7Y2FzZVwidmVydGV4XCI6byhyLG4sZSk7Y29udGludWV9cmV0dXJuIHR9fWZ1bmN0aW9uIGUodCl7cmV0dXJuIHQuZGlzdGFuY2U8PTF9ZnVuY3Rpb24gcihlPSExKXtyZXR1cm4gZT9uZXcgbjpuZXcgdH1mdW5jdGlvbiBjKHQsbix7eDplLHk6cix6OmN9KXtjb25zdHtzdGFydDpvLGVuZDpzLHRhcmdldDphfT10O3QuZHJhcGVkfHxpKGEsbixvLHMpO2NvbnN0IHU9KG4ueC1hLngpL2UsZD0obi55LWEueSkvcixmPShuLnotYS56KS9jO3QuZGlzdGFuY2U9TWF0aC5zcXJ0KHUqdStkKmQrZipmKX1mdW5jdGlvbiBpKHQsbixlLHIpe2NvbnN0IGM9ci54LWUueCxpPXIueS1lLnksbz1yLnotZS56LHM9YypjK2kqaStvKm8sYT0obi54LWUueCkqYysobi55LWUueSkqaStvKihuLnotZS56KSx1PU1hdGgubWluKDEsTWF0aC5tYXgoMCxhL3MpKSxkPWUueCtjKnUsZj1lLnkraSp1LHg9ZS56K28qdTt0Lng9ZCx0Lnk9Zix0Lno9eH1mdW5jdGlvbiBvKHQsbix7eDplLHk6cix6OmN9KXtjb25zdHt0YXJnZXQ6aX09dCxvPShuLngtaS54KS9lLHM9KG4ueS1pLnkpL3IsYT0obi56LWkueikvYyx1PU1hdGguc3FydChvKm8rcypzK2EqYSk7dC5kaXN0YW5jZT11fWZ1bmN0aW9uIHModCl7cmV0dXJuXCJudW1iZXJcIj09dHlwZW9mIHQ/e3g6dCx5OnQsejp0fTp0fWZ1bmN0aW9uIGEodCxuKXtyZXR1cm4gdC5kaXN0YW5jZS1uLmRpc3RhbmNlfWV4cG9ydHtyIGFzIGdldFNuYXBwaW5nQ2FuZGlkYXRlRWxldmF0aW9uRmlsdGVyfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjMzL2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnRcIi4uLy4uLy4uLy4uL2NvcmUvaGFzLmpzXCI7aW1wb3J0e2Nsb25lIGFzIHR9ZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9sYW5nLmpzXCI7aW1wb3J0e0xSVUNhY2hlIGFzIGV9ZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9MUlVDYWNoZS5qc1wiO2ltcG9ydHt0aHJvd0lmQWJvcnRlZCBhcyBzfWZyb21cIi4uLy4uLy4uLy4uL2NvcmUvcHJvbWlzZVV0aWxzLmpzXCI7aW1wb3J0e251bWVyaWNIYXNoIGFzIG99ZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9zdHJpbmcuanNcIjtmdW5jdGlvbiBuKHQ9ITEsZSl7cmV0dXJuIHQ/bmV3IGkoZSk6bmV3IGN9Y2xhc3MgY3thc3luYyBmZXRjaCgpe3JldHVybltdfW5vdGlmeVN5bWJvbG9neUNoYW5nZSgpe319Y29uc3Qgcj0xMDI0O2NsYXNzIGl7Y29uc3RydWN0b3IodCl7dGhpcy5fZ2V0U3ltYm9sb2d5Q2FuZGlkYXRlcz10LHRoaXMuX2NhbmRpZGF0ZXNDYWNoZT1uZXcgZShyKSx0aGlzLl9jYWNoZVZlcnNpb249MH1hc3luYyBmZXRjaChlLG8pe2lmKDA9PT1lLmxlbmd0aClyZXR1cm5bXTtjb25zdCBuPVtdLGM9W10scj10aGlzLl9jYW5kaWRhdGVzQ2FjaGU7Zm9yKGNvbnN0IHMgb2YgZSl7Y29uc3QgZT1hKHMpLG89ci5nZXQoZSk7aWYobylmb3IoY29uc3QgcyBvZiBvKWMucHVzaCh0KHMpKTtlbHNlIG4ucHVzaChzKSxyLnB1dChlLFtdLDEpfWlmKDA9PT1uLmxlbmd0aClyZXR1cm4gYztjb25zdCBpPXRoaXMuX2NhY2hlVmVyc2lvbix7Y2FuZGlkYXRlczpoLHNvdXJjZUNhbmRpZGF0ZUluZGljZXM6ZH09YXdhaXQgdGhpcy5fZ2V0U3ltYm9sb2d5Q2FuZGlkYXRlcyhuLG8pO3Mobyk7aWYoaSE9PXRoaXMuX2NhY2hlVmVyc2lvbilyZXR1cm4gdGhpcy5mZXRjaChlLG8pO2NvbnN0IGY9W10se2xlbmd0aDpnfT1oO2ZvcihsZXQgcz0wO3M8ZzsrK3Mpe2NvbnN0IGU9aFtzXSxvPWEobltkW3NdXSksYz1yLmdldChvKTtjLnB1c2goZSksci5wdXQobyxjLGMubGVuZ3RoKSxmLnB1c2godChlKSl9cmV0dXJuIGMuY29uY2F0KGYpfW5vdGlmeVN5bWJvbG9neUNoYW5nZSgpe3RoaXMuX2NhbmRpZGF0ZXNDYWNoZS5jbGVhcigpLHRoaXMuX2NhY2hlVmVyc2lvbisrfX1mdW5jdGlvbiBhKHQpe3N3aXRjaCh0LnR5cGUpe2Nhc2VcInZlcnRleFwiOntjb25zdHtvYmplY3RJZDplLHRhcmdldDpzfT10LG49YCR7ZX0tdmVydGV4LSR7cy54fS0ke3MueX0tJHtzLno/PzB9YDtyZXR1cm4gbyhuKS50b1N0cmluZygpfWNhc2VcImVkZ2VcIjp7Y29uc3R7b2JqZWN0SWQ6ZSxzdGFydDpzLGVuZDpufT10LGM9YCR7ZX0tZWRnZS0ke3MueH0tJHtzLnl9LSR7cy56Pz8wfS10by0ke24ueH0tJHtuLnl9LSR7bi56Pz8wfWA7cmV0dXJuIG8oYykudG9TdHJpbmcoKX1kZWZhdWx0OnJldHVyblwiXCJ9fWV4cG9ydHtuIGFzIGdldFN5bWJvbG9neVNuYXBwaW5nQ2FuZGlkYXRlc0ZldGNoZXJ9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMzMvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtxIGFzIHR9ZnJvbVwiLi4vLi4vLi4vLi4vY2h1bmtzL3ZlYzMyLmpzXCI7aW1wb3J0e1NuYXBwaW5nSGludCBhcyBzfWZyb21cIi4vU25hcHBpbmdIaW50LmpzXCI7Y2xhc3MgbiBleHRlbmRzIHN7Y29uc3RydWN0b3IodCxzLG4pe3N1cGVyKHMsbiksdGhpcy5wb2ludD10fWVxdWFscyhzKXtyZXR1cm4gcyBpbnN0YW5jZW9mIG4mJnQodGhpcy5wb2ludCxzLnBvaW50KX19ZXhwb3J0e24gYXMgUG9pbnRTbmFwcGluZ0hpbnR9O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9