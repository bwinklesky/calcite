export const __webpack_id__ = "vendors-node_modules_arcgis_core_layers_graphics_sources_FeatureLayerSource_js";
export const __webpack_ids__ = ["vendors-node_modules_arcgis_core_layers_graphics_sources_FeatureLayerSource_js"];
export const __webpack_modules__ = {

/***/ "./node_modules/@arcgis/core/geometry/support/MeshTransform.js":
/*!*********************************************************************!*\
  !*** ./node_modules/@arcgis/core/geometry/support/MeshTransform.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ A)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_JSONSupport_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/JSONSupport.js */ "./node_modules/@arcgis/core/core/JSONSupport.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_RandomLCG_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../core/RandomLCG.js */ "./node_modules/@arcgis/core/core/RandomLCG.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../core/libs/gl-matrix-2/math/mat4.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/math/mat4.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_mat4f64_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../core/libs/gl-matrix-2/factories/mat4f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/mat4f64.js");
/* harmony import */ var _core_libs_gl_matrix_2_math_quat_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../core/libs/gl-matrix-2/math/quat.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/math/quat.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_quatf64_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../core/libs/gl-matrix-2/factories/quatf64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/quatf64.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../core/libs/gl-matrix-2/factories/vec3f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/vec3f64.js");
/* harmony import */ var _axisAngleDegrees_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./axisAngleDegrees.js */ "./node_modules/@arcgis/core/geometry/support/axisAngleDegrees.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
var y;let A=class extends _core_JSONSupport_js__WEBPACK_IMPORTED_MODULE_1__["default"]{static{y=this}constructor(t){super(t),this.translation=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_11__.create)(),this.rotationAxis=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_11__.fromArray)(_axisAngleDegrees_js__WEBPACK_IMPORTED_MODULE_12__.up),this.rotationAngle=0,this.scale=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_11__.fromValues)(1,1,1)}get rotation(){return (0,_axisAngleDegrees_js__WEBPACK_IMPORTED_MODULE_12__.fromAxisAndAngle)(this.rotationAxis,this.rotationAngle)}set rotation(t){this.rotationAxis=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_11__.clone)((0,_axisAngleDegrees_js__WEBPACK_IMPORTED_MODULE_12__.axis)(t)),this.rotationAngle=(0,_axisAngleDegrees_js__WEBPACK_IMPORTED_MODULE_12__.angle)(t)}get localMatrix(){const t=(0,_core_libs_gl_matrix_2_factories_mat4f64_js__WEBPACK_IMPORTED_MODULE_8__.create)();return (0,_core_libs_gl_matrix_2_math_quat_js__WEBPACK_IMPORTED_MODULE_9__.setAxisAngle)(d,(0,_axisAngleDegrees_js__WEBPACK_IMPORTED_MODULE_12__.axis)(this.rotation),(0,_axisAngleDegrees_js__WEBPACK_IMPORTED_MODULE_12__.angleRad)(this.rotation)),(0,_core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_7__.fromRotationTranslationScale)(t,d,this.translation,this.scale),t}get localMatrixInverse(){return (0,_core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_7__.invert)((0,_core_libs_gl_matrix_2_factories_mat4f64_js__WEBPACK_IMPORTED_MODULE_8__.create)(),this.localMatrix)}equals(t){return this===t||null!=t&&(0,_core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_7__.exactEquals)(this.localMatrix,t.localMatrix)}clone(){const t={translation:(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_11__.clone)(this.translation),rotationAxis:(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_11__.clone)(this.rotationAxis),rotationAngle:this.rotationAngle,scale:(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_11__.clone)(this.scale)};return new y(t)}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)({type:[Number],nonNullable:!0,json:{write:!0}})],A.prototype,"translation",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)({type:[Number],nonNullable:!0,json:{write:!0}})],A.prototype,"rotationAxis",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)({type:Number,nonNullable:!0,json:{write:!0}})],A.prototype,"rotationAngle",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)({type:[Number],nonNullable:!0,json:{write:!0}})],A.prototype,"scale",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)()],A.prototype,"rotation",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)()],A.prototype,"localMatrix",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)()],A.prototype,"localMatrixInverse",null),A=y=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_6__.subclass)("esri.geometry.support.MeshTransform")],A);const d=(0,_core_libs_gl_matrix_2_factories_quatf64_js__WEBPACK_IMPORTED_MODULE_10__.create)();


/***/ }),

/***/ "./node_modules/@arcgis/core/geometry/support/meshUtils/External.js":
/*!**************************************************************************!*\
  !*** ./node_modules/@arcgis/core/geometry/support/meshUtils/External.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ServiceAsset: () => (/* binding */ i),
/* harmony export */   ServiceAssetPart: () => (/* binding */ n),
/* harmony export */   assetFormatId: () => (/* binding */ y),
/* harmony export */   externalIsOnService: () => (/* binding */ f),
/* harmony export */   externalSourceToMultiPart: () => (/* binding */ b),
/* harmony export */   externalSourcesAreEqual: () => (/* binding */ m),
/* harmony export */   isDisplayAsset: () => (/* binding */ p),
/* harmony export */   isDisplayExternal: () => (/* binding */ o),
/* harmony export */   isDisplaySource: () => (/* binding */ l),
/* harmony export */   isOriginalExternal: () => (/* binding */ v)
/* harmony export */ });
/* harmony import */ var _request_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../request.js */ "./node_modules/@arcgis/core/request.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _layers_support_infoFor3D_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../layers/support/infoFor3D.js */ "./node_modules/@arcgis/core/layers/support/infoFor3D.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
class i{constructor(s,t,e){this.assetName=s,this.assetMimeType=t,this.parts=e}equals(s){return this===s||this.assetName===s.assetName&&this.assetMimeType===s.assetMimeType&&(0,_core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_1__.equals)(this.parts,s.parts,((s,t)=>s.equals(t)))}isOnService(s){return this.parts.every((t=>t.isOnService(s)))}makeHash(){let s="";for(const t of this.parts)s+=t.partHash;return s}async toBlob(s){const{parts:t}=this;if(1===t.length)return t[0].toBlob(s);const r=await Promise.all(t.map((t=>t.toBlob(s))));return (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__.throwIfAborted)(s),new Blob(r)}}class n{constructor(s,t){this.partUrl=s,this.partHash=t}equals(s){return this===s||this.partUrl===s.partUrl&&this.partHash===s.partHash}isOnService(s){return this.partUrl.startsWith(`${s.path}/assets/`)}async toBlob(t){const{data:r}=await (0,_request_js__WEBPACK_IMPORTED_MODULE_0__["default"])(this.partUrl,{responseType:"blob"});return (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__.throwIfAborted)(t),r}}function o(s){return l(s?.source)}const c=/^(model\/gltf\+json)|(model\/gltf-binary)$/,u=/\.(gltf|glb)/i;function l(s){switch(s?.type){case"client":return Array.isArray(s.files)?s.files.some(p):p(s.files);case"service":return s.assets.some(p);case"loadable":return!0;default:return!1}}function p(s){if(s instanceof File){const{type:t,name:e}=s;return c.test(t)||u.test(e)}return c.test(s.assetMimeType)||u.test(s.assetName)}function f(s,t){if(!s)return!1;const{source:e}=s;return h(e,t)}function m(s,t){if(s===t)return!0;const{source:e}=s,{source:r}=t;if(e===r)return!0;if("service"===e.type&&"service"===r.type){if(e.assets.length!==r.assets.length)return!1;const s=(s,t)=>s.assetName<t.assetName?-1:s.assetName>t.assetName?1:0,t=[...e.assets].sort(s),a=[...r.assets].sort(s);for(let e=0;e<t.length;++e)if(!t[e].equals(a[e]))return!1;return!0}return!1}function h(s,t){return"service"===s.type&&s.assets.every((s=>s.isOnService(t)))}function y(s,t){return s instanceof File?(0,_layers_support_infoFor3D_js__WEBPACK_IMPORTED_MODULE_4__.getFileFormatId)(s,t):(0,_layers_support_infoFor3D_js__WEBPACK_IMPORTED_MODULE_4__.getMimeTypeOrFilenameFormatId)(s.assetMimeType,s.assetName,t)}function b(s){switch(s.type){case"client":return Array.isArray(s.files)?s.files:[s.files];case"service":return s.assets;case"loadable":return}}function v(s){return!!s.original}


/***/ }),

/***/ "./node_modules/@arcgis/core/layers/graphics/applyEditsUtils.js":
/*!**********************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/graphics/applyEditsUtils.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   createEditedFeatures: () => (/* binding */ I),
/* harmony export */   createFeatureEditResult: () => (/* binding */ R),
/* harmony export */   getAttachmentEditsJSON: () => (/* binding */ f),
/* harmony export */   getFeatureIds: () => (/* binding */ b),
/* harmony export */   getFeatureJSON: () => (/* binding */ m),
/* harmony export */   isProtectedOrPrivateVersionError: () => (/* binding */ j),
/* harmony export */   unpackEditResultData: () => (/* binding */ y)
/* harmony export */ });
/* harmony import */ var _Graphic_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../Graphic.js */ "./node_modules/@arcgis/core/Graphic.js");
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_unitUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../core/unitUtils.js */ "./node_modules/@arcgis/core/core/unitUtils.js");
/* harmony import */ var _core_urlUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../core/urlUtils.js */ "./node_modules/@arcgis/core/core/urlUtils.js");
/* harmony import */ var _geometry_projectionUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../geometry/projectionUtils.js */ "./node_modules/@arcgis/core/geometry/projectionUtils.js");
/* harmony import */ var _geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../geometry/support/jsonUtils.js */ "./node_modules/@arcgis/core/geometry/support/jsonUtils.js");
/* harmony import */ var _geometry_support_MeshTransform_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../geometry/support/MeshTransform.js */ "./node_modules/@arcgis/core/geometry/support/MeshTransform.js");
/* harmony import */ var _geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../geometry/support/spatialReferenceUtils.js */ "./node_modules/@arcgis/core/geometry/support/spatialReferenceUtils.js");
/* harmony import */ var _editingSupport_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./editingSupport.js */ "./node_modules/@arcgis/core/layers/graphics/editingSupport.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
async function m(e,t,r){const{geometry:s}=t,i={...t.attributes};if(null!=r&&"mesh"===s?.type){const{transformFieldRoles:t}=r,{origin:c,spatialReference:p,vertexSpace:m}=s,f=s.transform??new _geometry_support_MeshTransform_js__WEBPACK_IMPORTED_MODULE_7__["default"],g="local"===m.type,b=e.spatialReference,y=b.isGeographic,R=(0,_geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_8__.equals)(b,p),h=(0,_geometry_projectionUtils_js__WEBPACK_IMPORTED_MODULE_5__.isEqualBaseGCS)(p,b)&&(0,_geometry_projectionUtils_js__WEBPACK_IMPORTED_MODULE_5__.canProjectWithoutEngine)(p,b);if(!(g&&y&&h||!g&&!y&&R))return null;const I=(0,_geometry_projectionUtils_js__WEBPACK_IMPORTED_MODULE_5__.projectWithoutEngine)(c,p,b);if(null==I)return null;if(i[t.originX]=I.x,i[t.originY]=I.y,i[t.originZ]=I.z??0,null!=f){const{translation:e,scale:r,rotation:s}=f,o=g?1:(0,_core_unitUtils_js__WEBPACK_IMPORTED_MODULE_3__.getMetersPerCartesianUnitForSR)(p)/(0,_core_unitUtils_js__WEBPACK_IMPORTED_MODULE_3__.getMetersPerCartesianUnitForSR)(b);i[t.translationX]=e[0]*o,i[t.translationY]=e[2]*o,i[t.translationZ]=-e[1]*o,i[t.scaleX]=r[0],i[t.scaleY]=r[2],i[t.scaleZ]=r[1],i[t.rotationX]=s[0],i[t.rotationY]=s[2],i[t.rotationZ]=-s[1],i[t.rotationDeg]=s[3]}return{attributes:i}}return null==s?{attributes:i}:"mesh"===s.type||"extent"===s.type?null:{geometry:s.toJSON(),attributes:i}}async function f(e,t){const r=await Promise.all((t.addAttachments??[]).map((t=>g(e,t)))),a=await Promise.all((t.updateAttachments??[]).map((t=>g(e,t)))),s=t.deleteAttachments??[];return r.length||a.length||s.length?{adds:r,updates:a,deletes:[...s]}:null}async function g(e,t){const{feature:r,attachment:a}=t,{globalId:o,name:n,contentType:l,data:i,uploadId:u}=a,d={globalId:o};if(r&&("attributes"in r?d.parentGlobalId=r.attributes?.[e.globalIdField]:r.globalId&&(d.parentGlobalId=r.globalId)),u)d.uploadId=u;else if(i){const e=await (0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_4__.parseData)(i);e&&(d.contentType=e.mediaType,d.data=e.data),i instanceof File&&(d.name=i.name)}return n&&(d.name=n),l&&(d.contentType=l),d}function b(e,t,r){if(!t||0===t.length)return[];if(r&&(0,_editingSupport_js__WEBPACK_IMPORTED_MODULE_9__.isFeatureIdentifierArrayWithGlobalId)(t))return t.map((e=>e.globalId));if((0,_editingSupport_js__WEBPACK_IMPORTED_MODULE_9__.isFeatureIdentifierArrayWithObjectId)(t))return t.map((e=>e.objectId));const a=r?e.globalIdField:e.objectIdField;return a?t.map((e=>e.getAttribute(a))):[]}function y(e){const t=e?.assetMaps;if(t){for(const e of t.addResults)e.success||_core_Logger_js__WEBPACK_IMPORTED_MODULE_2__["default"].getLogger("esri.layers.graphics.sources.support.sourceUtils").error(`Failed to map asset to feature with globalId ${e.globalId}.`);for(const e of t.updateResults)e.success||_core_Logger_js__WEBPACK_IMPORTED_MODULE_2__["default"].getLogger("esri.layers.graphics.sources.support.sourceUtils").error(`Failed to map asset to feature with globalId ${e.globalId}.`)}const a=e?.attachments,s={addFeatureResults:e?.addResults?.map(R)??[],updateFeatureResults:e?.updateResults?.map(R)??[],deleteFeatureResults:e?.deleteResults?.map(R)??[],addAttachmentResults:a?.addResults?a.addResults.map(R):[],updateAttachmentResults:a?.updateResults?a.updateResults.map(R):[],deleteAttachmentResults:a?.deleteResults?a.deleteResults.map(R):[]};return e?.editMoment&&(s.editMoment=e.editMoment),s}function R(e){const r=!0===e.success?null:e.error||{code:void 0,description:"Feature edit failed"};return{objectId:e.objectId,globalId:e.globalId,error:r?new _core_Error_js__WEBPACK_IMPORTED_MODULE_1__["default"]("feature-layer-source:edit-failure",r.description,{code:r.code}):null}}function h(t,r){return new _Graphic_js__WEBPACK_IMPORTED_MODULE_0__["default"]({attributes:t.attributes,geometry:(0,_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_6__.fromJSON)({...t.geometry,spatialReference:r})})}function I(e,t){return{adds:e?.adds?.map((e=>h(e,t)))||[],updates:e?.updates?.map((e=>({original:h(e[0],t),current:h(e[1],t)})))||[],deletes:e?.deletes?.map((e=>h(e,t)))||[],spatialReference:t}}function j(e){const t=e.details.raw,r=+t.code,a=+t.extendedCode;return 500===r&&(-2147217144===a||-2147467261===a)}


/***/ }),

/***/ "./node_modules/@arcgis/core/layers/graphics/data/QueryEngineCapabilities.js":
/*!***********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/graphics/data/QueryEngineCapabilities.js ***!
  \***********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   queryBinsCapabilities: () => (/* binding */ s),
/* harmony export */   queryCapabilities: () => (/* binding */ t)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
const t={supportsStatistics:!0,supportsPercentileStatistics:!0,supportsSpatialAggregationStatistics:!1,supportedSpatialAggregationStatistics:{envelope:!1,centroid:!1,convexHull:!1},supportsCentroid:!0,supportsCacheHint:!0,supportsCurrentUser:!1,supportsDistance:!0,supportsDistinct:!0,supportsExtent:!0,supportsGeometryProperties:!1,supportsHavingClause:!0,supportsOrderBy:!0,supportsPagination:!0,supportsPaginationOnAggregatedQueries:!1,supportsQuantization:!0,supportsQuantizationEditMode:!1,supportsQueryGeometry:!0,supportsResultType:!0,supportsReturnMesh:!1,supportsSqlExpression:!0,supportsMaxRecordCountFactor:!1,supportsStandardizedQueriesOnly:!0,supportsTopFeaturesQuery:!1,supportsQueryByAnonymous:!0,supportsQueryByOthers:!0,supportsHistoricMoment:!1,supportsFormatPBF:!1,supportsDisjointSpatialRelationship:!0,supportsDefaultSpatialReference:!1,supportsFullTextSearch:!1,supportsCompactGeometry:!1,maxRecordCountFactor:void 0,maxRecordCount:void 0,maxUniqueIDCount:void 0,standardMaxRecordCount:void 0,tileMaxRecordCount:void 0,supportsTrueCurve:!1},s={supportsDate:!0,supportsFixedInterval:!0,supportsAutoInterval:!0,supportsFixedBoundaries:!0,supportsStackBy:!0,supportsSplitBy:!0,supportsSnapToData:!1,supportsReturnFullIntervalBin:!1,supportsFirstDayOfWeek:!1,supportsNormalization:!0,supportedStatistics:{count:!0,sum:!0,avg:!0,var:!0,stddev:!0,min:!0,max:!0,percentileContinuous:!0,percentileDiscrete:!0,envelope:!0,centroid:!0,convexHull:!0},supportedNormalizationTypes:{field:!0,log:!0,naturalLog:!0,percentOfTotal:!0,squareRoot:!0}};


/***/ }),

/***/ "./node_modules/@arcgis/core/layers/graphics/sources/FeatureLayerSource.js":
/*!*********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/graphics/sources/FeatureLayerSource.js ***!
  \*********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ G)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _config_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../config.js */ "./node_modules/@arcgis/core/config.js");
/* harmony import */ var _request_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../request.js */ "./node_modules/@arcgis/core/request.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_jsonMap_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../core/jsonMap.js */ "./node_modules/@arcgis/core/core/jsonMap.js");
/* harmony import */ var _core_Loadable_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../core/Loadable.js */ "./node_modules/@arcgis/core/core/Loadable.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_object_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../core/object.js */ "./node_modules/@arcgis/core/core/object.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../core/reactiveUtils.js */ "./node_modules/@arcgis/core/core/reactiveUtils.js");
/* harmony import */ var _core_urlUtils_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../core/urlUtils.js */ "./node_modules/@arcgis/core/core/urlUtils.js");
/* harmony import */ var _core_uuid_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../core/uuid.js */ "./node_modules/@arcgis/core/core/uuid.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../../geometry/Extent.js */ "./node_modules/@arcgis/core/geometry/Extent.js");
/* harmony import */ var _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../../geometry/SpatialReference.js */ "./node_modules/@arcgis/core/geometry/SpatialReference.js");
/* harmony import */ var _geometry_support_MeshGeoreferencedVertexSpace_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../../geometry/support/MeshGeoreferencedVertexSpace.js */ "./node_modules/@arcgis/core/geometry/support/MeshGeoreferencedVertexSpace.js");
/* harmony import */ var _geometry_support_meshVertexSpaceUtils_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../../geometry/support/meshVertexSpaceUtils.js */ "./node_modules/@arcgis/core/geometry/support/meshVertexSpaceUtils.js");
/* harmony import */ var _geometry_support_meshUtils_External_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../../../geometry/support/meshUtils/External.js */ "./node_modules/@arcgis/core/geometry/support/meshUtils/External.js");
/* harmony import */ var _applyEditsUtils_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../applyEditsUtils.js */ "./node_modules/@arcgis/core/layers/graphics/applyEditsUtils.js");
/* harmony import */ var _support_clientSideDefaults_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./support/clientSideDefaults.js */ "./node_modules/@arcgis/core/layers/graphics/sources/support/clientSideDefaults.js");
/* harmony import */ var _support_QueryTask_js__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./support/QueryTask.js */ "./node_modules/@arcgis/core/layers/graphics/sources/support/QueryTask.js");
/* harmony import */ var _support_arcgisLayerUrl_js__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ../../support/arcgisLayerUrl.js */ "./node_modules/@arcgis/core/layers/support/arcgisLayerUrl.js");
/* harmony import */ var _support_featureLayerUtils_js__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ../../support/featureLayerUtils.js */ "./node_modules/@arcgis/core/layers/support/featureLayerUtils.js");
/* harmony import */ var _support_infoFor3D_js__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ../../support/infoFor3D.js */ "./node_modules/@arcgis/core/layers/support/infoFor3D.js");
/* harmony import */ var _rest_query_executeQueryJSON_js__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ../../../rest/query/executeQueryJSON.js */ "./node_modules/@arcgis/core/rest/query/executeQueryJSON.js");
/* harmony import */ var _rest_query_operations_editsZScale_js__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ../../../rest/query/operations/editsZScale.js */ "./node_modules/@arcgis/core/rest/query/operations/editsZScale.js");
/* harmony import */ var _rest_support_Query_js__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ../../../rest/support/Query.js */ "./node_modules/@arcgis/core/rest/support/Query.js");
/* harmony import */ var _chunks_TimeExtent_js__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ../../../chunks/TimeExtent.js */ "./node_modules/@arcgis/core/chunks/TimeExtent.js");
/* harmony import */ var _versionManagement_support_versionManagementUtils_js__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ../../../versionManagement/support/versionManagementUtils.js */ "./node_modules/@arcgis/core/versionManagement/support/versionManagementUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
const V=new _core_jsonMap_js__WEBPACK_IMPORTED_MODULE_6__.JSONMap({originalAndCurrentFeatures:"original-and-current-features",none:"none"}),$=new _core_jsonMap_js__WEBPACK_IMPORTED_MODULE_6__.JSONMap({Started:"published",Publishing:"publishing",Stopped:"unavailable"});let G=class extends _core_Loadable_js__WEBPACK_IMPORTED_MODULE_7__["default"]{constructor(e){super(e),this.type="feature-layer",this.supportedSourceTypes=new Set(["Feature Layer","Oriented Imagery Layer","Table","Catalog Layer"]),this.refresh=(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_10__.debounce)((async()=>{await this.load();const e=this.sourceJSON.editingInfo?.lastEditDate;if(null==e)return{dataChanged:!0,updates:{}};try{await this._fetchService(null)}catch{return{dataChanged:!0,updates:{}}}const t=e!==this.sourceJSON.editingInfo?.lastEditDate;return{dataChanged:t,updates:t?{editingInfo:this.sourceJSON.editingInfo,extent:this.sourceJSON.extent}:null}})),this._ongoingAssetUploads=new Map}load(e){const t=this.layer.sourceJSON,s=this._fetchService(t,{...e}).then((()=>this.layer.setUserPrivileges(this.sourceJSON.serviceItemId,e))).then((()=>this._ensureLatestMetadata(e)));return this.addResolvingPromise(s),Promise.resolve(this)}initialize(){this.addHandles([(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_11__.watch)((()=>{const e=this.layer;return e&&"lastEditsEventDate"in e?e.lastEditsEventDate:null}),(e=>this._handleLastEditsEventChange(e)))])}destroy(){this._removeEditInterceptor()}get queryTask(){const{capabilities:e,parsedUrl:t,gdbVersion:s,spatialReference:r,fieldsIndex:a,uniqueIdFields:i}=this.layer,n="infoFor3D"in this.layer?this.layer.infoFor3D:null,o="dynamicDataSource"in this.layer?this.layer.dynamicDataSource:null,u=(0,_core_has_js__WEBPACK_IMPORTED_MODULE_5__["default"])("featurelayer-pbf")&&e?.query.supportsFormatPBF&&null==n;return new _support_QueryTask_js__WEBPACK_IMPORTED_MODULE_23__["default"]({dynamicDataSource:o,fieldsIndex:a,gdbVersion:s,infoFor3D:n,pbfSupported:u,queryAttachmentsSupported:e?.operations?.supportsQueryAttachments??!1,sourceSpatialReference:r,uniqueIdFields:i,url:t.path})}async addAttachment(e,t){await this.load();const{layer:r}=this;await (0,_support_featureLayerUtils_js__WEBPACK_IMPORTED_MODULE_25__.ensureLayerCredential)(r,"editing");const a=e.attributes[r.objectIdField],i=r.parsedUrl.path+"/"+a+"/addAttachment",n=this._getLayerRequestOptions(),o=this._getFormDataForAttachment(t,n.query);try{const e=await (0,_request_js__WEBPACK_IMPORTED_MODULE_2__["default"])(i,{body:o});return (0,_applyEditsUtils_js__WEBPACK_IMPORTED_MODULE_21__.createFeatureEditResult)(e.data.addAttachmentResult)}catch(u){throw this._createAttachmentErrorResult(a,u)}}async updateAttachment(e,t,r){await this.load();const{layer:a}=this;await (0,_support_featureLayerUtils_js__WEBPACK_IMPORTED_MODULE_25__.ensureLayerCredential)(a,"editing");const i=e.attributes[a.objectIdField],n=a.parsedUrl.path+"/"+i+"/updateAttachment",o=this._getLayerRequestOptions({query:{attachmentId:t}}),u=this._getFormDataForAttachment(r,o.query);try{const e=await (0,_request_js__WEBPACK_IMPORTED_MODULE_2__["default"])(n,{body:u});return (0,_applyEditsUtils_js__WEBPACK_IMPORTED_MODULE_21__.createFeatureEditResult)(e.data.updateAttachmentResult)}catch(l){throw this._createAttachmentErrorResult(i,l)}}async applyEdits(e,t){await this.load();const{layer:a}=this;await (0,_support_featureLayerUtils_js__WEBPACK_IMPORTED_MODULE_25__.ensureLayerCredential)(a,"editing");const n="infoFor3D"in a?a.infoFor3D:null,o=null!=n,u=o||(t?.globalIdUsed??!1),l=o?await this._uploadMeshesAndGetAssetMapEditsJSON(e):null,c=e.addFeatures?.map((e=>(0,_applyEditsUtils_js__WEBPACK_IMPORTED_MODULE_21__.getFeatureJSON)(this.layer,e,n)))??[],d=(await Promise.all(c)).filter(_core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_3__.isSome),p=e.updateFeatures?.map((e=>(0,_applyEditsUtils_js__WEBPACK_IMPORTED_MODULE_21__.getFeatureJSON)(this.layer,e,n)))??[],y=(await Promise.all(p)).filter(_core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_3__.isSome),h=(0,_applyEditsUtils_js__WEBPACK_IMPORTED_MODULE_21__.getFeatureIds)(this.layer,e.deleteFeatures,u);(0,_rest_query_operations_editsZScale_js__WEBPACK_IMPORTED_MODULE_28__.unapplyEditsZUnitScaling)(d,y,a.spatialReference);const m=await (0,_applyEditsUtils_js__WEBPACK_IMPORTED_MODULE_21__.getAttachmentEditsJSON)(this.layer,e),f=a.capabilities.editing.supportsAsyncApplyEdits&&o,g=t?.gdbVersion||a.gdbVersion,w={gdbVersion:g,rollbackOnFailure:t?.rollbackOnFailureEnabled,useGlobalIds:u,returnEditMoment:t?.returnEditMoment,usePreviousEditMoment:t?.usePreviousEditMoment,async:f};await (0,_versionManagement_support_versionManagementUtils_js__WEBPACK_IMPORTED_MODULE_31__.isSafeToEditVersion)(this.layer.url,g,!0);const q=(0,_versionManagement_support_versionManagementUtils_js__WEBPACK_IMPORTED_MODULE_31__.isVersionInEditSession)(this.layer.url,g||null);if(await (0,_versionManagement_support_versionManagementUtils_js__WEBPACK_IMPORTED_MODULE_31__.isHistoricVersion)(a.url,g,a.historicMoment))throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_4__["default"]("feature-layer-source:historic-version","Editing a historic version is not allowed");t?.returnServiceEditsOption?(w.edits=JSON.stringify([{id:a.layerId,adds:d.length?d:null,updates:y.length?y:null,deletes:h.length?h:null,attachments:m,assetMaps:l}]),w.returnServiceEditsOption=V.toJSON(t?.returnServiceEditsOption),w.returnServiceEditsInSourceSR=t?.returnServiceEditsInSourceSR):(w.adds=d.length?JSON.stringify(d):null,w.updates=y.length?JSON.stringify(y):null,w.deletes=h.length?u?JSON.stringify(h):h.join(","):null,w.attachments=m&&JSON.stringify(m),w.assetMaps=null!=l?JSON.stringify(l):void 0);const S=this._getLayerRequestOptions({method:"post",query:w});q&&(S.authMode="immediate",S.query.returnEditMoment=!0,S.query.sessionId=_versionManagement_support_versionManagementUtils_js__WEBPACK_IMPORTED_MODULE_31__.currentSessionId);const E=t?.returnServiceEditsOption?a.url:a.parsedUrl.path;let O;try{O=f?await this._asyncApplyEdits(E+"/applyEdits",S):await (0,_request_js__WEBPACK_IMPORTED_MODULE_2__["default"])(E+"/applyEdits",S)}catch(_){if(!(0,_applyEditsUtils_js__WEBPACK_IMPORTED_MODULE_21__.isProtectedOrPrivateVersionError)(_))throw _;S.authMode="immediate",O=f?await this._asyncApplyEdits(E+"/applyEdits",S):await (0,_request_js__WEBPACK_IMPORTED_MODULE_2__["default"])(E+"/applyEdits",S)}return this._createEditsResult(O)}async deleteAttachments(e,t){await this.load();const{layer:r}=this;await (0,_support_featureLayerUtils_js__WEBPACK_IMPORTED_MODULE_25__.ensureLayerCredential)(r,"editing");const a=e.attributes[r.objectIdField],i=r.parsedUrl.path+"/"+a+"/deleteAttachments";try{return(await (0,_request_js__WEBPACK_IMPORTED_MODULE_2__["default"])(i,this._getLayerRequestOptions({query:{attachmentIds:t.join(",")},method:"post"}))).data.deleteAttachmentResults.map(_applyEditsUtils_js__WEBPACK_IMPORTED_MODULE_21__.createFeatureEditResult)}catch(n){throw this._createAttachmentErrorResult(a,n)}}fetchRecomputedExtents(e={}){const t=e.signal;return this.load({signal:t}).then((async()=>{const t=this._getLayerRequestOptions({...e,query:{returnUpdates:!0}}),{layerId:r,url:a}=this.layer,{data:i}=await (0,_request_js__WEBPACK_IMPORTED_MODULE_2__["default"])(`${a}/${r}`,t),{id:n,extent:o,fullExtent:u,timeExtent:l}=i,c=o||u;return{id:n,fullExtent:c&&_geometry_Extent_js__WEBPACK_IMPORTED_MODULE_16__["default"].fromJSON(c),timeExtent:l&&_chunks_TimeExtent_js__WEBPACK_IMPORTED_MODULE_30__.T.fromJSON({start:l[0],end:l[1]})}}))}async queryAttachments(e,t={}){await this.load();const s=this._getLayerRequestOptions(t);return this.queryTask.executeAttachmentQuery(e,s)}async queryFeatures(e,t){await this.load();const s=await this.queryTask.execute(e,{...t,query:this._createRequestQueryOptions(t)});if(e.outStatistics?.length&&s.features.length){const t=new Map;if(s.features.forEach((s=>{const r=s.attributes;e.outStatistics?.forEach((({outStatisticFieldName:e})=>{if(e){const s=e.toLowerCase();s&&s in r&&e!==s&&(r[e]=r[s],delete r[s],t.set(s,e))}}))})),null!=s.fields)for(const e of s.fields){const s=t.get(e.name.toLowerCase());null!=s&&(e.name=s)}}return s}async queryFeaturesJSON(e,t){return await this.load(),this.queryTask.executeJSON(e,{...t,query:this._createRequestQueryOptions(t)})}async queryObjectIds(e,t){return await this.load(),this.queryTask.executeForIds(e,{...t,query:this._createRequestQueryOptions(t)})}async queryFeatureCount(e,t){return await this.load(),this.queryTask.executeForCount(e,{...t,query:this._createRequestQueryOptions(t)})}async queryExtent(e,t){return await this.load(),this.queryTask.executeForExtent(e,{...t,query:this._createRequestQueryOptions(t)})}async queryRelatedFeatures(e,t){return await this.load(),this.queryTask.executeRelationshipQuery(e,{...t,query:this._createRequestQueryOptions(t)})}async queryRelatedFeaturesCount(e,t){return await this.load(),this.queryTask.executeRelationshipQueryForCount(e,{...t,query:this._createRequestQueryOptions(t)})}async queryTopFeatures(e,t){return await this.load(),this.queryTask.executeTopFeaturesQuery(e,{...t,query:this._createRequestQueryOptions(t)})}async queryAttributeBins(e,t){return await this.load(),this.queryTask.executeAttributeBinsQuery(e,{...t,query:this._createRequestQueryOptions(t)})}async queryTopObjectIds(e,t){return await this.load(),this.queryTask.executeForTopIds(e,{...t,query:this._createRequestQueryOptions(t)})}async queryTopExtents(e,t){return await this.load(),this.queryTask.executeForTopExtents(e,{...t,query:this._createRequestQueryOptions(t)})}async queryTopCount(e,t){return await this.load(),this.queryTask.executeForTopCount(e,{...t,query:this._createRequestQueryOptions(t)})}async fetchPublishingStatus(){if(!(0,_support_arcgisLayerUrl_js__WEBPACK_IMPORTED_MODULE_24__.isHostedAgolService)(this.layer.url))return"unavailable";const e=(0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_12__.join)(this.layer.url,"status"),t=await (0,_request_js__WEBPACK_IMPORTED_MODULE_2__["default"])(e,{query:{f:"json"}});return $.fromJSON(t.data.status)}async uploadAssets(e,t){const{uploadAssets:s}=await __webpack_require__.e(/*! import() */ "vendors-node_modules_arcgis_core_layers_graphics_sources_support_uploadAssets_js").then(__webpack_require__.bind(__webpack_require__, /*! ./support/uploadAssets.js */ "./node_modules/@arcgis/core/layers/graphics/sources/support/uploadAssets.js"));return s(e,{layer:this.layer,ongoingUploads:this._ongoingAssetUploads},t)}_handleLastEditsEventChange(e){const t=this.layer;if(null==e||!("capabilities"in t)||!("effectiveCapabilities"in t))return;if(!(!t.capabilities?.operations?.supportsEditing&&t.effectiveCapabilities?.operations?.supportsEditing))return;const s=t.url;if(null==s)return;"layerId"in t&&(0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_12__.join)(s,t.layerId.toString());this._getOrCreateEditInterceptor(s).before=t=>{const s=t.requestOptions.method??"auto";if("auto"===s||"head"===s){const s=t.requestOptions.query??{};s._ts=e.getTime(),t.requestOptions.query=s}}}_getOrCreateEditInterceptor(e){return null==this._editInterceptor&&(this._editInterceptor={urls:e},_config_js__WEBPACK_IMPORTED_MODULE_1__["default"].request.internalInterceptors.push(this._editInterceptor)),this._editInterceptor}_removeEditInterceptor(){null!=this._editInterceptor&&((0,_core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_3__.remove)(_config_js__WEBPACK_IMPORTED_MODULE_1__["default"].request.internalInterceptors,this._editInterceptor),this._editInterceptor=null)}async _asyncApplyEdits(e,t){const r=(await (0,_request_js__WEBPACK_IMPORTED_MODULE_2__["default"])(e,t)).data.statusUrl;for(;;){const e=(await (0,_request_js__WEBPACK_IMPORTED_MODULE_2__["default"])(r,{query:{f:"json"},responseType:"json"})).data;switch(e.status){case"Completed":return (0,_request_js__WEBPACK_IMPORTED_MODULE_2__["default"])(e.resultUrl,{query:{f:"json"},responseType:"json"});case"CompletedWithErrors":throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_4__["default"]("async-applyEdits-failed","asynchronous applyEdits call failed.");case"Failed ImportChanges":case"InProgress":case"Pending":case"ExportAttachments":case"ExportChanges":case"ExportingData":case"ExportingSnapshot":case"ImportAttachments":case"ProvisioningReplica":case"UnRegisteringReplica":break;default:throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_4__["default"]("async-applyEdits-failed","asynchronous applyEdits call failed (undefined response status)")}await (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_10__.after)(H)}}_createRequestQueryOptions(e){const t={...this.layer.customParameters,token:this.layer.apiKey,...e?.query};return this.layer.datesInUnknownTimezone&&(t.timeReferenceUnknownClient=!0),t}async _fetchService(e,t){if(!e){const r={};(0,_core_has_js__WEBPACK_IMPORTED_MODULE_5__["default"])("featurelayer-advanced-symbols")&&(r.returnAdvancedSymbols=!0),t?.cacheBust&&(r._ts=Date.now());const{data:a}=await (0,_request_js__WEBPACK_IMPORTED_MODULE_2__["default"])(this.layer.parsedUrl.path,this._getLayerRequestOptions({query:r,signal:t?.signal}));e=a}this.layer.applyPreferredHost(e),this.sourceJSON=await this._patchServiceJSON(e,t?.signal);const r=e.type;if(!this.supportedSourceTypes.has(r))throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_4__["default"]("feature-layer-source:unsupported-type",`Source type "${r}" is not supported`)}async _patchServiceJSON(e,t){if("Table"!==e.type&&e.geometryType&&!e?.drawingInfo?.renderer&&!e.defaultSymbol){const t=(0,_support_clientSideDefaults_js__WEBPACK_IMPORTED_MODULE_22__.createDrawingInfo)(e.geometryType).renderer;(0,_core_object_js__WEBPACK_IMPORTED_MODULE_9__.setDeepValue)("drawingInfo.renderer",t,e)}if("esriGeometryMultiPatch"===e.geometryType&&e.infoFor3D&&(e.geometryType="mesh"),null==e.extent)try{const{data:r}=await (0,_request_js__WEBPACK_IMPORTED_MODULE_2__["default"])(this.layer.url,this._getLayerRequestOptions({signal:t}));r.spatialReference&&(e.extent={xmin:0,ymin:0,xmax:0,ymax:0,spatialReference:r.spatialReference})}catch(r){(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_10__.throwIfAbortError)(r)}return e}async _ensureLatestMetadata(e){if(this.layer.userHasUpdateItemPrivileges&&this.sourceJSON.cacheMaxAge>0)return this._fetchService(null,{...e,cacheBust:!0})}async _uploadMeshesAndGetAssetMapEditsJSON(e){const{addAssetFeatures:t}=e;if(!t?.length)return null;if(await this._areAllAssetsAlreadyMapped(t))return null;const s=e.addFeatures.filter((e=>e.geometry));if(t.length!==s.length+e.updateFeatures.length)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_4__["default"]("feature-layer-source:unsupported-mesh-edits","Mixing attribute only edits with mesh geometry edits is not currently supported");const r=new Array,a=new Map;for(const i of t){const{geometry:e}=i,{vertexSpace:t}=e;if((0,_geometry_support_meshVertexSpaceUtils_js__WEBPACK_IMPORTED_MODULE_19__.isRelativeVertexSpace)(t))r.push(e);else{const t=e.origin,{convertMeshVertexSpace:s}=await Promise.all(/*! import() */[__webpack_require__.e("vendors-node_modules_arcgis_core_geometry_support_meshUtils_vertexSpaceConversion_js"), __webpack_require__.e("node_modules_arcgis_core_geometry_support_meshUtils_convertMeshVertexSpace_js")]).then(__webpack_require__.bind(__webpack_require__, /*! ../../../geometry/support/meshUtils/convertMeshVertexSpace.js */ "./node_modules/@arcgis/core/geometry/support/meshUtils/convertMeshVertexSpace.js")),n=await s(e,new _geometry_support_MeshGeoreferencedVertexSpace_js__WEBPACK_IMPORTED_MODULE_18__["default"]({origin:[t.x,t.y,t.z??0]}));a.set(n,e),i.geometry=n,r.push(n)}}await this.uploadAssets(r);for(const[i,n]of a)n.addExternalSources(i.metadata.externalSources.items);return{adds:this._getAssetMapEditsJSON(t),updates:[],deletes:[]}}_getAssetMapEditsJSON(e){const t=new Array,s=this.layer.globalIdField,r=this.layer.parsedUrl;for(const a of e){const e=a.geometry,{metadata:i}=e,n=i.getExternalSourcesOnService(r),o=a.getAttribute(s);if(0===n.length){_core_Logger_js__WEBPACK_IMPORTED_MODULE_8__["default"].getLogger(this).error(`Skipping feature ${o}. The mesh it is associated with has not been uploaded to the service and cannot be mapped to it.`);continue}const{source:l}=n.find(_geometry_support_meshUtils_External_js__WEBPACK_IMPORTED_MODULE_20__.isOriginalExternal)??n[0];for(const s of l.assets)1===s.parts.length?t.push({globalId:(0,_core_uuid_js__WEBPACK_IMPORTED_MODULE_13__.generateBracedUUID)(),parentGlobalId:o,assetName:s.assetName,assetHash:s.parts[0].partHash,flags:[]}):_core_Logger_js__WEBPACK_IMPORTED_MODULE_8__["default"].getLogger(this).error(`Skipping asset ${s.assetName}. It does not have exactly one part, so we cannot map it to a feature.`)}return t}_createEditsResult(e){const t=e.data,{layerId:s}=this.layer,r=[];let a=null;if(Array.isArray(t))for(const n of t)r.push({id:n.id,editedFeatures:n.editedFeatures}),n.id===s&&(a={addResults:n.addResults??[],updateResults:n.updateResults??[],deleteResults:n.deleteResults??[],attachments:n.attachments,editMoment:n.editMoment});else a=t;const i=(0,_applyEditsUtils_js__WEBPACK_IMPORTED_MODULE_21__.unpackEditResultData)(a);if(r.length>0){i.editedFeatureResults=[];for(const e of r){const{editedFeatures:t}=e,s=t?.spatialReference?new _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_17__["default"](t.spatialReference):null;i.editedFeatureResults.push({layerId:e.id,editedFeatures:(0,_applyEditsUtils_js__WEBPACK_IMPORTED_MODULE_21__.createEditedFeatures)(t,s)})}}return i}_createAttachmentErrorResult(e,t){const s=t.details.messages?.[0]||t.message,r=t.details.httpStatus||t.details.messageCode;return{objectId:e,globalId:null,error:new _core_Error_js__WEBPACK_IMPORTED_MODULE_4__["default"]("feature-layer-source:attachment-failure",s,{code:r})}}_getFormDataForAttachment(e,t){const s=e instanceof FormData?e:e&&e.elements?new FormData(e):null;if(s)for(const r in t){const e=t[r];null!=e&&(s.set?s.set(r,e):s.append(r,e))}return s}_getLayerRequestOptions(e={}){const{layer:t,layer:{parsedUrl:s,gdbVersion:r}}=this;return{...e,query:{gdbVersion:r,layer:"dynamicDataSource"in t&&t.dynamicDataSource?JSON.stringify({source:t.dynamicDataSource}):void 0,...s.query,f:"json",...this._createRequestQueryOptions(e)},responseType:"json"}}async _areAllAssetsAlreadyMapped(e){const{layer:t}=this,{globalIdField:s,parsedUrl:a}=t,i="infoFor3D"in t?t.infoFor3D:null;if(null==i||null==s)return!1;const n=(0,_support_infoFor3D_js__WEBPACK_IMPORTED_MODULE_26__.getAssetMapTable)(i);if(null==n)return!1;const o=(0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_12__.join)(a.path,`../${n.id}`),u=new Array;for(const r of e){if(!(r.geometry.metadata.getExternalSourcesOnService(a).length>0))return!1;u.push(r)}const l=u.map((e=>e.getAttribute(s))).filter(_core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_3__.isSome);if(0===l.length)return!1;const{assetMapFieldRoles:{parentGlobalId:c,assetHash:d}}=i,p=new _rest_support_Query_js__WEBPACK_IMPORTED_MODULE_29__["default"]({where:`${c} IN (${l.map((e=>`'${e}'`))})`,outFields:[d,c],returnGeometry:!1}),y=await (0,_rest_query_executeQueryJSON_js__WEBPACK_IMPORTED_MODULE_27__.executeQueryJSON)(o,p),{features:m}=y;return 0!==m.length&&!u.some((e=>{const t=e.getAttribute(s);if(!t)return!0;const{metadata:r}=e.geometry,i=m.filter((e=>e.getAttribute(c)===t));if(0===i.length)return!0;const n=i.map((e=>e.getAttribute(d)));return r.getExternalSourcesOnService(a).flatMap((({source:e})=>e.assets.flatMap((e=>e.parts.map((e=>e.partHash)))))).some((e=>n.every((t=>e!==t))))}))}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_14__.property)()],G.prototype,"type",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_14__.property)({constructOnly:!0})],G.prototype,"layer",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_14__.property)({constructOnly:!0})],G.prototype,"supportedSourceTypes",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_14__.property)({readOnly:!0})],G.prototype,"queryTask",null),G=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_15__.subclass)("esri.layers.graphics.sources.FeatureLayerSource")],G);const H=1e3;


/***/ }),

/***/ "./node_modules/@arcgis/core/layers/graphics/sources/support/clientSideDefaults.js":
/*!*****************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/graphics/sources/support/clientSideDefaults.js ***!
  \*****************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   createCapabilities: () => (/* binding */ y),
/* harmony export */   createDefaultAttributesFunction: () => (/* binding */ a),
/* harmony export */   createDefaultTemplate: () => (/* binding */ l),
/* harmony export */   createDrawingInfo: () => (/* binding */ u)
/* harmony export */ });
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_lang_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/lang.js */ "./node_modules/@arcgis/core/core/lang.js");
/* harmony import */ var _data_QueryEngineCapabilities_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../data/QueryEngineCapabilities.js */ "./node_modules/@arcgis/core/layers/graphics/data/QueryEngineCapabilities.js");
/* harmony import */ var _symbols_support_defaultsJSON_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../symbols/support/defaultsJSON.js */ "./node_modules/@arcgis/core/symbols/support/defaultsJSON.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
function u(t){return{renderer:{type:"simple",symbol:"esriGeometryPoint"===t||"esriGeometryMultipoint"===t?_symbols_support_defaultsJSON_js__WEBPACK_IMPORTED_MODULE_3__.defaultPointSymbolJSON:"esriGeometryPolyline"===t?_symbols_support_defaultsJSON_js__WEBPACK_IMPORTED_MODULE_3__.defaultPolylineSymbolJSON:_symbols_support_defaultsJSON_js__WEBPACK_IMPORTED_MODULE_3__.defaultPolygonSymbolJSON}}}const n=/^[_$a-zA-Z][_$a-zA-Z0-9]*$/;let i=1;function a(t,s){if((0,_core_has_js__WEBPACK_IMPORTED_MODULE_0__["default"])("esri-csp-restrictions"))return()=>({[s]:null,...t});try{let r=`this${c(s)} = null;`;for(const s in t){r+=`this${c(s)} = ${JSON.stringify(t[s])};`}const e=new Function(`\n      return class AttributesClass$${i++} {\n        constructor() {\n          ${r};\n        }\n      }\n    `)();return()=>new e}catch(r){return()=>({[s]:null,...t})}}function c(t){return n.test(t)?`.${t}`:`["${t}"]`}function l(s={}){return[{name:"New Feature",description:"",prototype:{attributes:(0,_core_lang_js__WEBPACK_IMPORTED_MODULE_1__.clone)(s)}}]}function y(t,e){return{analytics:{supportsCacheHint:!1},attachment:null,data:{isVersioned:!1,isBranchVersioned:!1,supportsAttachment:!1,supportsM:!1,supportsZ:t},metadata:{supportsAdvancedFieldProperties:!1},operations:{supportsCalculate:!1,supportsTruncate:!1,supportsValidateSql:!1,supportsAdd:e,supportsDelete:e,supportsEditing:e,supportsChangeTracking:!1,supportsQuery:!0,supportsQueryBins:!0,supportsQueryAnalytics:!1,supportsQueryAttachments:!1,supportsQueryTopFeatures:!1,supportsResizeAttachments:!1,supportsSync:!1,supportsUpdate:e,supportsExceedsLimitStatistics:!0,supportsAsyncConvert3D:!1},query:_data_QueryEngineCapabilities_js__WEBPACK_IMPORTED_MODULE_2__.queryCapabilities,queryRelated:{supportsCount:!0,supportsOrderBy:!0,supportsPagination:!0,supportsCacheHint:!1},queryTopFeatures:{supportsCacheHint:!1},queryAttributeBins:_data_QueryEngineCapabilities_js__WEBPACK_IMPORTED_MODULE_2__.queryBinsCapabilities,editing:{supportsGeometryUpdate:e,supportsGlobalId:!1,supportsReturnServiceEditsInSourceSpatialReference:!1,supportsRollbackOnFailure:!1,supportsUpdateWithoutM:!1,supportsUploadWithItemId:!1,supportsDeleteByAnonymous:!1,supportsDeleteByOthers:!1,supportsUpdateByAnonymous:!1,supportsUpdateByOthers:!1,supportsAsyncApplyEdits:!1,zDefault:void 0}}}


/***/ })

};

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmVuZG9ycy1ub2RlX21vZHVsZXNfYXJjZ2lzX2NvcmVfbGF5ZXJzX2dyYXBoaWNzX3NvdXJjZXNfRmVhdHVyZUxheWVyU291cmNlX2pzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ2kzQixNQUFNLG9CQUFvQiw0REFBQyxDQUFDLE9BQU8sT0FBTyxlQUFlLDBCQUEwQixvRkFBQyxxQkFBcUIsdUZBQUMsQ0FBQyxxREFBQyxrQ0FBa0Msd0ZBQUMsUUFBUSxlQUFlLE9BQU8sdUVBQUMsdUNBQXVDLGdCQUFnQixrQkFBa0IsbUZBQUMsQ0FBQywyREFBQyx3QkFBd0IsNERBQUMsSUFBSSxrQkFBa0IsUUFBUSxtRkFBQyxHQUFHLE9BQU8saUZBQUMsR0FBRywyREFBQyxnQkFBZ0IsK0RBQUMsaUJBQWlCLGlHQUFDLG9DQUFvQyx5QkFBeUIsT0FBTywyRUFBQyxDQUFDLG1GQUFDLHFCQUFxQixVQUFVLDBCQUEwQixnRkFBQyxpQ0FBaUMsUUFBUSxTQUFTLFlBQVksbUZBQUMsZ0NBQWdDLG1GQUFDLDJEQUEyRCxtRkFBQyxjQUFjLGtCQUFrQix1REFBQyxFQUFFLHNGQUFDLEVBQUUsbUNBQW1DLFVBQVUscUNBQXFDLHVEQUFDLEVBQUUsc0ZBQUMsRUFBRSxtQ0FBbUMsVUFBVSxzQ0FBc0MsdURBQUMsRUFBRSxzRkFBQyxFQUFFLGlDQUFpQyxVQUFVLHVDQUF1Qyx1REFBQyxFQUFFLHNGQUFDLEVBQUUsbUNBQW1DLFVBQVUsK0JBQStCLHVEQUFDLEVBQUUsc0ZBQUMsaUNBQWlDLHVEQUFDLEVBQUUsc0ZBQUMsb0NBQW9DLHVEQUFDLEVBQUUsc0ZBQUMsK0NBQStDLHVEQUFDLEVBQUUsc0ZBQUMsNENBQTRDLFFBQVEsb0ZBQUMsR0FBd0I7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDSjlqRTtBQUNBO0FBQ0E7QUFDQTtBQUM4UixRQUFRLG1CQUFtQixtREFBbUQsVUFBVSxxRkFBcUYsMkRB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QUFPLEVBQUUsSUFBSSxlQUFlLEVBQUUsUUFBUSw2Q0FBNkMsV0FBVyxvREFBQyxLQUFLLEVBQUUsZ0JBQWdCLE9BQU8sV0FBVyxxQkFBcUIsdUJBQXVCLG1GQUFtRixXQUFXLG1DQUFtQyxhQUFhLDZYQUE2WCxPQUFPLCtFQUFDLGVBQWUsK0VBQStFLG1CQUFtQixxQkFBcUIsb0JBQW9CLG1GQUFDLFVBQVUsaVZBQXdjIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcHJlY2lzaW9uZmFybXMvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL2dlb21ldHJ5L3N1cHBvcnQvTWVzaFRyYW5zZm9ybS5qcyIsIndlYnBhY2s6Ly9wcmVjaXNpb25mYXJtcy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvZ2VvbWV0cnkvc3VwcG9ydC9tZXNoVXRpbHMvRXh0ZXJuYWwuanMiLCJ3ZWJwYWNrOi8vcHJlY2lzaW9uZmFybXMvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL2xheWVycy9ncmFwaGljcy9hcHBseUVkaXRzVXRpbHMuanMiLCJ3ZWJwYWNrOi8vcHJlY2lzaW9uZmFybXMvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL2xheWVycy9ncmFwaGljcy9kYXRhL1F1ZXJ5RW5naW5lQ2FwYWJpbGl0aWVzLmpzIiwid2VicGFjazovL3ByZWNpc2lvbmZhcm1zLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS9sYXllcnMvZ3JhcGhpY3Mvc291cmNlcy9GZWF0dXJlTGF5ZXJTb3VyY2UuanMiLCJ3ZWJwYWNrOi8vcHJlY2lzaW9uZmFybXMvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL2xheWVycy9ncmFwaGljcy9zb3VyY2VzL3N1cHBvcnQvY2xpZW50U2lkZURlZmF1bHRzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjMzL2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7XyBhcyB0fWZyb21cIi4uLy4uL2NodW5rcy90c2xpYi5lczYuanNcIjtpbXBvcnQgbyBmcm9tXCIuLi8uLi9jb3JlL0pTT05TdXBwb3J0LmpzXCI7aW1wb3J0e3Byb3BlcnR5IGFzIHJ9ZnJvbVwiLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9wcm9wZXJ0eS5qc1wiO2ltcG9ydFwiLi4vLi4vY29yZS9oYXMuanNcIjtpbXBvcnRcIi4uLy4uL2NvcmUvTG9nZ2VyLmpzXCI7aW1wb3J0XCIuLi8uLi9jb3JlL1JhbmRvbUxDRy5qc1wiO2ltcG9ydHtzdWJjbGFzcyBhcyBzfWZyb21cIi4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvc3ViY2xhc3MuanNcIjtpbXBvcnR7ZnJvbVJvdGF0aW9uVHJhbnNsYXRpb25TY2FsZSBhcyBpLGludmVydCBhcyBlLGV4YWN0RXF1YWxzIGFzIGF9ZnJvbVwiLi4vLi4vY29yZS9saWJzL2dsLW1hdHJpeC0yL21hdGgvbWF0NC5qc1wiO2ltcG9ydHtjcmVhdGUgYXMgbH1mcm9tXCIuLi8uLi9jb3JlL2xpYnMvZ2wtbWF0cml4LTIvZmFjdG9yaWVzL21hdDRmNjQuanNcIjtpbXBvcnR7c2V0QXhpc0FuZ2xlIGFzIG59ZnJvbVwiLi4vLi4vY29yZS9saWJzL2dsLW1hdHJpeC0yL21hdGgvcXVhdC5qc1wiO2ltcG9ydHtjcmVhdGUgYXMgY31mcm9tXCIuLi8uLi9jb3JlL2xpYnMvZ2wtbWF0cml4LTIvZmFjdG9yaWVzL3F1YXRmNjQuanNcIjtpbXBvcnR7Y3JlYXRlIGFzIHAsZnJvbUFycmF5IGFzIG0sZnJvbVZhbHVlcyBhcyB1LGNsb25lIGFzIGh9ZnJvbVwiLi4vLi4vY29yZS9saWJzL2dsLW1hdHJpeC0yL2ZhY3Rvcmllcy92ZWMzZjY0LmpzXCI7aW1wb3J0e2Zyb21BeGlzQW5kQW5nbGUgYXMgeCxhbmdsZSBhcyBnLGFuZ2xlUmFkIGFzIGYsYXhpcyBhcyBqLHVwIGFzIGJ9ZnJvbVwiLi9heGlzQW5nbGVEZWdyZWVzLmpzXCI7dmFyIHk7bGV0IEE9Y2xhc3MgZXh0ZW5kcyBve3N0YXRpY3t5PXRoaXN9Y29uc3RydWN0b3IodCl7c3VwZXIodCksdGhpcy50cmFuc2xhdGlvbj1wKCksdGhpcy5yb3RhdGlvbkF4aXM9bShiKSx0aGlzLnJvdGF0aW9uQW5nbGU9MCx0aGlzLnNjYWxlPXUoMSwxLDEpfWdldCByb3RhdGlvbigpe3JldHVybiB4KHRoaXMucm90YXRpb25BeGlzLHRoaXMucm90YXRpb25BbmdsZSl9c2V0IHJvdGF0aW9uKHQpe3RoaXMucm90YXRpb25BeGlzPWgoaih0KSksdGhpcy5yb3RhdGlvbkFuZ2xlPWcodCl9Z2V0IGxvY2FsTWF0cml4KCl7Y29uc3QgdD1sKCk7cmV0dXJuIG4oZCxqKHRoaXMucm90YXRpb24pLGYodGhpcy5yb3RhdGlvbikpLGkodCxkLHRoaXMudHJhbnNsYXRpb24sdGhpcy5zY2FsZSksdH1nZXQgbG9jYWxNYXRyaXhJbnZlcnNlKCl7cmV0dXJuIGUobCgpLHRoaXMubG9jYWxNYXRyaXgpfWVxdWFscyh0KXtyZXR1cm4gdGhpcz09PXR8fG51bGwhPXQmJmEodGhpcy5sb2NhbE1hdHJpeCx0LmxvY2FsTWF0cml4KX1jbG9uZSgpe2NvbnN0IHQ9e3RyYW5zbGF0aW9uOmgodGhpcy50cmFuc2xhdGlvbikscm90YXRpb25BeGlzOmgodGhpcy5yb3RhdGlvbkF4aXMpLHJvdGF0aW9uQW5nbGU6dGhpcy5yb3RhdGlvbkFuZ2xlLHNjYWxlOmgodGhpcy5zY2FsZSl9O3JldHVybiBuZXcgeSh0KX19O3QoW3Ioe3R5cGU6W051bWJlcl0sbm9uTnVsbGFibGU6ITAsanNvbjp7d3JpdGU6ITB9fSldLEEucHJvdG90eXBlLFwidHJhbnNsYXRpb25cIix2b2lkIDApLHQoW3Ioe3R5cGU6W051bWJlcl0sbm9uTnVsbGFibGU6ITAsanNvbjp7d3JpdGU6ITB9fSldLEEucHJvdG90eXBlLFwicm90YXRpb25BeGlzXCIsdm9pZCAwKSx0KFtyKHt0eXBlOk51bWJlcixub25OdWxsYWJsZTohMCxqc29uOnt3cml0ZTohMH19KV0sQS5wcm90b3R5cGUsXCJyb3RhdGlvbkFuZ2xlXCIsdm9pZCAwKSx0KFtyKHt0eXBlOltOdW1iZXJdLG5vbk51bGxhYmxlOiEwLGpzb246e3dyaXRlOiEwfX0pXSxBLnByb3RvdHlwZSxcInNjYWxlXCIsdm9pZCAwKSx0KFtyKCldLEEucHJvdG90eXBlLFwicm90YXRpb25cIixudWxsKSx0KFtyKCldLEEucHJvdG90eXBlLFwibG9jYWxNYXRyaXhcIixudWxsKSx0KFtyKCldLEEucHJvdG90eXBlLFwibG9jYWxNYXRyaXhJbnZlcnNlXCIsbnVsbCksQT15PXQoW3MoXCJlc3JpLmdlb21ldHJ5LnN1cHBvcnQuTWVzaFRyYW5zZm9ybVwiKV0sQSk7Y29uc3QgZD1jKCk7ZXhwb3J0e0EgYXMgZGVmYXVsdH07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4zMy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0IHMgZnJvbVwiLi4vLi4vLi4vcmVxdWVzdC5qc1wiO2ltcG9ydHtlcXVhbHMgYXMgdH1mcm9tXCIuLi8uLi8uLi9jb3JlL2FycmF5VXRpbHMuanNcIjtpbXBvcnRcIi4uLy4uLy4uL2NvcmUvaGFzLmpzXCI7aW1wb3J0e3Rocm93SWZBYm9ydGVkIGFzIGV9ZnJvbVwiLi4vLi4vLi4vY29yZS9wcm9taXNlVXRpbHMuanNcIjtpbXBvcnR7Z2V0RmlsZUZvcm1hdElkIGFzIHIsZ2V0TWltZVR5cGVPckZpbGVuYW1lRm9ybWF0SWQgYXMgYX1mcm9tXCIuLi8uLi8uLi9sYXllcnMvc3VwcG9ydC9pbmZvRm9yM0QuanNcIjtjbGFzcyBpe2NvbnN0cnVjdG9yKHMsdCxlKXt0aGlzLmFzc2V0TmFtZT1zLHRoaXMuYXNzZXRNaW1lVHlwZT10LHRoaXMucGFydHM9ZX1lcXVhbHMocyl7cmV0dXJuIHRoaXM9PT1zfHx0aGlzLmFzc2V0TmFtZT09PXMuYXNzZXROYW1lJiZ0aGlzLmFzc2V0TWltZVR5cGU9PT1zLmFzc2V0TWltZVR5cGUmJnQodGhpcy5wYXJ0cyxzLnBhcnRzLCgocyx0KT0+cy5lcXVhbHModCkpKX1pc09uU2VydmljZShzKXtyZXR1cm4gdGhpcy5wYXJ0cy5ldmVyeSgodD0+dC5pc09uU2VydmljZShzKSkpfW1ha2VIYXNoKCl7bGV0IHM9XCJcIjtmb3IoY29uc3QgdCBvZiB0aGlzLnBhcnRzKXMrPXQucGFydEhhc2g7cmV0dXJuIHN9YXN5bmMgdG9CbG9iKHMpe2NvbnN0e3BhcnRzOnR9PXRoaXM7aWYoMT09PXQubGVuZ3RoKXJldHVybiB0WzBdLnRvQmxvYihzKTtjb25zdCByPWF3YWl0IFByb21pc2UuYWxsKHQubWFwKCh0PT50LnRvQmxvYihzKSkpKTtyZXR1cm4gZShzKSxuZXcgQmxvYihyKX19Y2xhc3Mgbntjb25zdHJ1Y3RvcihzLHQpe3RoaXMucGFydFVybD1zLHRoaXMucGFydEhhc2g9dH1lcXVhbHMocyl7cmV0dXJuIHRoaXM9PT1zfHx0aGlzLnBhcnRVcmw9PT1zLnBhcnRVcmwmJnRoaXMucGFydEhhc2g9PT1zLnBhcnRIYXNofWlzT25TZXJ2aWNlKHMpe3JldHVybiB0aGlzLnBhcnRVcmwuc3RhcnRzV2l0aChgJHtzLnBhdGh9L2Fzc2V0cy9gKX1hc3luYyB0b0Jsb2IodCl7Y29uc3R7ZGF0YTpyfT1hd2FpdCBzKHRoaXMucGFydFVybCx7cmVzcG9uc2VUeXBlOlwiYmxvYlwifSk7cmV0dXJuIGUodCkscn19ZnVuY3Rpb24gbyhzKXtyZXR1cm4gbChzPy5zb3VyY2UpfWNvbnN0IGM9L14obW9kZWxcXC9nbHRmXFwranNvbil8KG1vZGVsXFwvZ2x0Zi1iaW5hcnkpJC8sdT0vXFwuKGdsdGZ8Z2xiKS9pO2Z1bmN0aW9uIGwocyl7c3dpdGNoKHM/LnR5cGUpe2Nhc2VcImNsaWVudFwiOnJldHVybiBBcnJheS5pc0FycmF5KHMuZmlsZXMpP3MuZmlsZXMuc29tZShwKTpwKHMuZmlsZXMpO2Nhc2VcInNlcnZpY2VcIjpyZXR1cm4gcy5hc3NldHMuc29tZShwKTtjYXNlXCJsb2FkYWJsZVwiOnJldHVybiEwO2RlZmF1bHQ6cmV0dXJuITF9fWZ1bmN0aW9uIHAocyl7aWYocyBpbnN0YW5jZW9mIEZpbGUpe2NvbnN0e3R5cGU6dCxuYW1lOmV9PXM7cmV0dXJuIGMudGVzdCh0KXx8dS50ZXN0KGUpfXJldHVybiBjLnRlc3Qocy5hc3NldE1pbWVUeXBlKXx8dS50ZXN0KHMuYXNzZXROYW1lKX1mdW5jdGlvbiBmKHMsdCl7aWYoIXMpcmV0dXJuITE7Y29uc3R7c291cmNlOmV9PXM7cmV0dXJuIGgoZSx0KX1mdW5jdGlvbiBtKHMsdCl7aWYocz09PXQpcmV0dXJuITA7Y29uc3R7c291cmNlOmV9PXMse3NvdXJjZTpyfT10O2lmKGU9PT1yKXJldHVybiEwO2lmKFwic2VydmljZVwiPT09ZS50eXBlJiZcInNlcnZpY2VcIj09PXIudHlwZSl7aWYoZS5hc3NldHMubGVuZ3RoIT09ci5hc3NldHMubGVuZ3RoKXJldHVybiExO2NvbnN0IHM9KHMsdCk9PnMuYXNzZXROYW1lPHQuYXNzZXROYW1lPy0xOnMuYXNzZXROYW1lPnQuYXNzZXROYW1lPzE6MCx0PVsuLi5lLmFzc2V0c10uc29ydChzKSxhPVsuLi5yLmFzc2V0c10uc29ydChzKTtmb3IobGV0IGU9MDtlPHQubGVuZ3RoOysrZSlpZighdFtlXS5lcXVhbHMoYVtlXSkpcmV0dXJuITE7cmV0dXJuITB9cmV0dXJuITF9ZnVuY3Rpb24gaChzLHQpe3JldHVyblwic2VydmljZVwiPT09cy50eXBlJiZzLmFzc2V0cy5ldmVyeSgocz0+cy5pc09uU2VydmljZSh0KSkpfWZ1bmN0aW9uIHkocyx0KXtyZXR1cm4gcyBpbnN0YW5jZW9mIEZpbGU/cihzLHQpOmEocy5hc3NldE1pbWVUeXBlLHMuYXNzZXROYW1lLHQpfWZ1bmN0aW9uIGIocyl7c3dpdGNoKHMudHlwZSl7Y2FzZVwiY2xpZW50XCI6cmV0dXJuIEFycmF5LmlzQXJyYXkocy5maWxlcyk/cy5maWxlczpbcy5maWxlc107Y2FzZVwic2VydmljZVwiOnJldHVybiBzLmFzc2V0cztjYXNlXCJsb2FkYWJsZVwiOnJldHVybn19ZnVuY3Rpb24gdihzKXtyZXR1cm4hIXMub3JpZ2luYWx9ZXhwb3J0e2kgYXMgU2VydmljZUFzc2V0LG4gYXMgU2VydmljZUFzc2V0UGFydCx5IGFzIGFzc2V0Rm9ybWF0SWQsZiBhcyBleHRlcm5hbElzT25TZXJ2aWNlLGIgYXMgZXh0ZXJuYWxTb3VyY2VUb011bHRpUGFydCxtIGFzIGV4dGVybmFsU291cmNlc0FyZUVxdWFsLHAgYXMgaXNEaXNwbGF5QXNzZXQsbyBhcyBpc0Rpc3BsYXlFeHRlcm5hbCxsIGFzIGlzRGlzcGxheVNvdXJjZSx2IGFzIGlzT3JpZ2luYWxFeHRlcm5hbH07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4zMy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0IGUgZnJvbVwiLi4vLi4vR3JhcGhpYy5qc1wiO2ltcG9ydCB0IGZyb21cIi4uLy4uL2NvcmUvRXJyb3IuanNcIjtpbXBvcnQgciBmcm9tXCIuLi8uLi9jb3JlL0xvZ2dlci5qc1wiO2ltcG9ydHtnZXRNZXRlcnNQZXJDYXJ0ZXNpYW5Vbml0Rm9yU1IgYXMgYX1mcm9tXCIuLi8uLi9jb3JlL3VuaXRVdGlscy5qc1wiO2ltcG9ydHtwYXJzZURhdGEgYXMgc31mcm9tXCIuLi8uLi9jb3JlL3VybFV0aWxzLmpzXCI7aW1wb3J0e2lzRXF1YWxCYXNlR0NTIGFzIG8sY2FuUHJvamVjdFdpdGhvdXRFbmdpbmUgYXMgbixwcm9qZWN0V2l0aG91dEVuZ2luZSBhcyBsfWZyb21cIi4uLy4uL2dlb21ldHJ5L3Byb2plY3Rpb25VdGlscy5qc1wiO2ltcG9ydHtmcm9tSlNPTiBhcyBpfWZyb21cIi4uLy4uL2dlb21ldHJ5L3N1cHBvcnQvanNvblV0aWxzLmpzXCI7aW1wb3J0IHUgZnJvbVwiLi4vLi4vZ2VvbWV0cnkvc3VwcG9ydC9NZXNoVHJhbnNmb3JtLmpzXCI7aW1wb3J0e2VxdWFscyBhcyBkfWZyb21cIi4uLy4uL2dlb21ldHJ5L3N1cHBvcnQvc3BhdGlhbFJlZmVyZW5jZVV0aWxzLmpzXCI7aW1wb3J0e2lzRmVhdHVyZUlkZW50aWZpZXJBcnJheVdpdGhHbG9iYWxJZCBhcyBjLGlzRmVhdHVyZUlkZW50aWZpZXJBcnJheVdpdGhPYmplY3RJZCBhcyBwfWZyb21cIi4vZWRpdGluZ1N1cHBvcnQuanNcIjthc3luYyBmdW5jdGlvbiBtKGUsdCxyKXtjb25zdHtnZW9tZXRyeTpzfT10LGk9ey4uLnQuYXR0cmlidXRlc307aWYobnVsbCE9ciYmXCJtZXNoXCI9PT1zPy50eXBlKXtjb25zdHt0cmFuc2Zvcm1GaWVsZFJvbGVzOnR9PXIse29yaWdpbjpjLHNwYXRpYWxSZWZlcmVuY2U6cCx2ZXJ0ZXhTcGFjZTptfT1zLGY9cy50cmFuc2Zvcm0/P25ldyB1LGc9XCJsb2NhbFwiPT09bS50eXBlLGI9ZS5zcGF0aWFsUmVmZXJlbmNlLHk9Yi5pc0dlb2dyYXBoaWMsUj1kKGIscCksaD1vKHAsYikmJm4ocCxiKTtpZighKGcmJnkmJmh8fCFnJiYheSYmUikpcmV0dXJuIG51bGw7Y29uc3QgST1sKGMscCxiKTtpZihudWxsPT1JKXJldHVybiBudWxsO2lmKGlbdC5vcmlnaW5YXT1JLngsaVt0Lm9yaWdpblldPUkueSxpW3Qub3JpZ2luWl09SS56Pz8wLG51bGwhPWYpe2NvbnN0e3RyYW5zbGF0aW9uOmUsc2NhbGU6cixyb3RhdGlvbjpzfT1mLG89Zz8xOmEocCkvYShiKTtpW3QudHJhbnNsYXRpb25YXT1lWzBdKm8saVt0LnRyYW5zbGF0aW9uWV09ZVsyXSpvLGlbdC50cmFuc2xhdGlvblpdPS1lWzFdKm8saVt0LnNjYWxlWF09clswXSxpW3Quc2NhbGVZXT1yWzJdLGlbdC5zY2FsZVpdPXJbMV0saVt0LnJvdGF0aW9uWF09c1swXSxpW3Qucm90YXRpb25ZXT1zWzJdLGlbdC5yb3RhdGlvblpdPS1zWzFdLGlbdC5yb3RhdGlvbkRlZ109c1szXX1yZXR1cm57YXR0cmlidXRlczppfX1yZXR1cm4gbnVsbD09cz97YXR0cmlidXRlczppfTpcIm1lc2hcIj09PXMudHlwZXx8XCJleHRlbnRcIj09PXMudHlwZT9udWxsOntnZW9tZXRyeTpzLnRvSlNPTigpLGF0dHJpYnV0ZXM6aX19YXN5bmMgZnVuY3Rpb24gZihlLHQpe2NvbnN0IHI9YXdhaXQgUHJvbWlzZS5hbGwoKHQuYWRkQXR0YWNobWVudHM/P1tdKS5tYXAoKHQ9PmcoZSx0KSkpKSxhPWF3YWl0IFByb21pc2UuYWxsKCh0LnVwZGF0ZUF0dGFjaG1lbnRzPz9bXSkubWFwKCh0PT5nKGUsdCkpKSkscz10LmRlbGV0ZUF0dGFjaG1lbnRzPz9bXTtyZXR1cm4gci5sZW5ndGh8fGEubGVuZ3RofHxzLmxlbmd0aD97YWRkczpyLHVwZGF0ZXM6YSxkZWxldGVzOlsuLi5zXX06bnVsbH1hc3luYyBmdW5jdGlvbiBnKGUsdCl7Y29uc3R7ZmVhdHVyZTpyLGF0dGFjaG1lbnQ6YX09dCx7Z2xvYmFsSWQ6byxuYW1lOm4sY29udGVudFR5cGU6bCxkYXRhOmksdXBsb2FkSWQ6dX09YSxkPXtnbG9iYWxJZDpvfTtpZihyJiYoXCJhdHRyaWJ1dGVzXCJpbiByP2QucGFyZW50R2xvYmFsSWQ9ci5hdHRyaWJ1dGVzPy5bZS5nbG9iYWxJZEZpZWxkXTpyLmdsb2JhbElkJiYoZC5wYXJlbnRHbG9iYWxJZD1yLmdsb2JhbElkKSksdSlkLnVwbG9hZElkPXU7ZWxzZSBpZihpKXtjb25zdCBlPWF3YWl0IHMoaSk7ZSYmKGQuY29udGVudFR5cGU9ZS5tZWRpYVR5cGUsZC5kYXRhPWUuZGF0YSksaSBpbnN0YW5jZW9mIEZpbGUmJihkLm5hbWU9aS5uYW1lKX1yZXR1cm4gbiYmKGQubmFtZT1uKSxsJiYoZC5jb250ZW50VHlwZT1sKSxkfWZ1bmN0aW9uIGIoZSx0LHIpe2lmKCF0fHwwPT09dC5sZW5ndGgpcmV0dXJuW107aWYociYmYyh0KSlyZXR1cm4gdC5tYXAoKGU9PmUuZ2xvYmFsSWQpKTtpZihwKHQpKXJldHVybiB0Lm1hcCgoZT0+ZS5vYmplY3RJZCkpO2NvbnN0IGE9cj9lLmdsb2JhbElkRmllbGQ6ZS5vYmplY3RJZEZpZWxkO3JldHVybiBhP3QubWFwKChlPT5lLmdldEF0dHJpYnV0ZShhKSkpOltdfWZ1bmN0aW9uIHkoZSl7Y29uc3QgdD1lPy5hc3NldE1hcHM7aWYodCl7Zm9yKGNvbnN0IGUgb2YgdC5hZGRSZXN1bHRzKWUuc3VjY2Vzc3x8ci5nZXRMb2dnZXIoXCJlc3JpLmxheWVycy5ncmFwaGljcy5zb3VyY2VzLnN1cHBvcnQuc291cmNlVXRpbHNcIikuZXJyb3IoYEZhaWxlZCB0byBtYXAgYXNzZXQgdG8gZmVhdHVyZSB3aXRoIGdsb2JhbElkICR7ZS5nbG9iYWxJZH0uYCk7Zm9yKGNvbnN0IGUgb2YgdC51cGRhdGVSZXN1bHRzKWUuc3VjY2Vzc3x8ci5nZXRMb2dnZXIoXCJlc3JpLmxheWVycy5ncmFwaGljcy5zb3VyY2VzLnN1cHBvcnQuc291cmNlVXRpbHNcIikuZXJyb3IoYEZhaWxlZCB0byBtYXAgYXNzZXQgdG8gZmVhdHVyZSB3aXRoIGdsb2JhbElkICR7ZS5nbG9iYWxJZH0uYCl9Y29uc3QgYT1lPy5hdHRhY2htZW50cyxzPXthZGRGZWF0dXJlUmVzdWx0czplPy5hZGRSZXN1bHRzPy5tYXAoUik/P1tdLHVwZGF0ZUZlYXR1cmVSZXN1bHRzOmU/LnVwZGF0ZVJlc3VsdHM/Lm1hcChSKT8/W10sZGVsZXRlRmVhdHVyZVJlc3VsdHM6ZT8uZGVsZXRlUmVzdWx0cz8ubWFwKFIpPz9bXSxhZGRBdHRhY2htZW50UmVzdWx0czphPy5hZGRSZXN1bHRzP2EuYWRkUmVzdWx0cy5tYXAoUik6W10sdXBkYXRlQXR0YWNobWVudFJlc3VsdHM6YT8udXBkYXRlUmVzdWx0cz9hLnVwZGF0ZVJlc3VsdHMubWFwKFIpOltdLGRlbGV0ZUF0dGFjaG1lbnRSZXN1bHRzOmE/LmRlbGV0ZVJlc3VsdHM/YS5kZWxldGVSZXN1bHRzLm1hcChSKTpbXX07cmV0dXJuIGU/LmVkaXRNb21lbnQmJihzLmVkaXRNb21lbnQ9ZS5lZGl0TW9tZW50KSxzfWZ1bmN0aW9uIFIoZSl7Y29uc3Qgcj0hMD09PWUuc3VjY2Vzcz9udWxsOmUuZXJyb3J8fHtjb2RlOnZvaWQgMCxkZXNjcmlwdGlvbjpcIkZlYXR1cmUgZWRpdCBmYWlsZWRcIn07cmV0dXJue29iamVjdElkOmUub2JqZWN0SWQsZ2xvYmFsSWQ6ZS5nbG9iYWxJZCxlcnJvcjpyP25ldyB0KFwiZmVhdHVyZS1sYXllci1zb3VyY2U6ZWRpdC1mYWlsdXJlXCIsci5kZXNjcmlwdGlvbix7Y29kZTpyLmNvZGV9KTpudWxsfX1mdW5jdGlvbiBoKHQscil7cmV0dXJuIG5ldyBlKHthdHRyaWJ1dGVzOnQuYXR0cmlidXRlcyxnZW9tZXRyeTppKHsuLi50Lmdlb21ldHJ5LHNwYXRpYWxSZWZlcmVuY2U6cn0pfSl9ZnVuY3Rpb24gSShlLHQpe3JldHVybnthZGRzOmU/LmFkZHM/Lm1hcCgoZT0+aChlLHQpKSl8fFtdLHVwZGF0ZXM6ZT8udXBkYXRlcz8ubWFwKChlPT4oe29yaWdpbmFsOmgoZVswXSx0KSxjdXJyZW50OmgoZVsxXSx0KX0pKSl8fFtdLGRlbGV0ZXM6ZT8uZGVsZXRlcz8ubWFwKChlPT5oKGUsdCkpKXx8W10sc3BhdGlhbFJlZmVyZW5jZTp0fX1mdW5jdGlvbiBqKGUpe2NvbnN0IHQ9ZS5kZXRhaWxzLnJhdyxyPSt0LmNvZGUsYT0rdC5leHRlbmRlZENvZGU7cmV0dXJuIDUwMD09PXImJigtMjE0NzIxNzE0ND09PWF8fC0yMTQ3NDY3MjYxPT09YSl9ZXhwb3J0e0kgYXMgY3JlYXRlRWRpdGVkRmVhdHVyZXMsUiBhcyBjcmVhdGVGZWF0dXJlRWRpdFJlc3VsdCxmIGFzIGdldEF0dGFjaG1lbnRFZGl0c0pTT04sYiBhcyBnZXRGZWF0dXJlSWRzLG0gYXMgZ2V0RmVhdHVyZUpTT04saiBhcyBpc1Byb3RlY3RlZE9yUHJpdmF0ZVZlcnNpb25FcnJvcix5IGFzIHVucGFja0VkaXRSZXN1bHREYXRhfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjMzL2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5jb25zdCB0PXtzdXBwb3J0c1N0YXRpc3RpY3M6ITAsc3VwcG9ydHNQZXJjZW50aWxlU3RhdGlzdGljczohMCxzdXBwb3J0c1NwYXRpYWxBZ2dyZWdhdGlvblN0YXRpc3RpY3M6ITEsc3VwcG9ydGVkU3BhdGlhbEFnZ3JlZ2F0aW9uU3RhdGlzdGljczp7ZW52ZWxvcGU6ITEsY2VudHJvaWQ6ITEsY29udmV4SHVsbDohMX0sc3VwcG9ydHNDZW50cm9pZDohMCxzdXBwb3J0c0NhY2hlSGludDohMCxzdXBwb3J0c0N1cnJlbnRVc2VyOiExLHN1cHBvcnRzRGlzdGFuY2U6ITAsc3VwcG9ydHNEaXN0aW5jdDohMCxzdXBwb3J0c0V4dGVudDohMCxzdXBwb3J0c0dlb21ldHJ5UHJvcGVydGllczohMSxzdXBwb3J0c0hhdmluZ0NsYXVzZTohMCxzdXBwb3J0c09yZGVyQnk6ITAsc3VwcG9ydHNQYWdpbmF0aW9uOiEwLHN1cHBvcnRzUGFnaW5hdGlvbk9uQWdncmVnYXRlZFF1ZXJpZXM6ITEsc3VwcG9ydHNRdWFudGl6YXRpb246ITAsc3VwcG9ydHNRdWFudGl6YXRpb25FZGl0TW9kZTohMSxzdXBwb3J0c1F1ZXJ5R2VvbWV0cnk6ITAsc3VwcG9ydHNSZXN1bHRUeXBlOiEwLHN1cHBvcnRzUmV0dXJuTWVzaDohMSxzdXBwb3J0c1NxbEV4cHJlc3Npb246ITAsc3VwcG9ydHNNYXhSZWNvcmRDb3VudEZhY3RvcjohMSxzdXBwb3J0c1N0YW5kYXJkaXplZFF1ZXJpZXNPbmx5OiEwLHN1cHBvcnRzVG9wRmVhdHVyZXNRdWVyeTohMSxzdXBwb3J0c1F1ZXJ5QnlBbm9ueW1vdXM6ITAsc3VwcG9ydHNRdWVyeUJ5T3RoZXJzOiEwLHN1cHBvcnRzSGlzdG9yaWNNb21lbnQ6ITEsc3VwcG9ydHNGb3JtYXRQQkY6ITEsc3VwcG9ydHNEaXNqb2ludFNwYXRpYWxSZWxhdGlvbnNoaXA6ITAsc3VwcG9ydHNEZWZhdWx0U3BhdGlhbFJlZmVyZW5jZTohMSxzdXBwb3J0c0Z1bGxUZXh0U2VhcmNoOiExLHN1cHBvcnRzQ29tcGFjdEdlb21ldHJ5OiExLG1heFJlY29yZENvdW50RmFjdG9yOnZvaWQgMCxtYXhSZWNvcmRDb3VudDp2b2lkIDAsbWF4VW5pcXVlSURDb3VudDp2b2lkIDAsc3RhbmRhcmRNYXhSZWNvcmRDb3VudDp2b2lkIDAsdGlsZU1heFJlY29yZENvdW50OnZvaWQgMCxzdXBwb3J0c1RydWVDdXJ2ZTohMX0scz17c3VwcG9ydHNEYXRlOiEwLHN1cHBvcnRzRml4ZWRJbnRlcnZhbDohMCxzdXBwb3J0c0F1dG9JbnRlcnZhbDohMCxzdXBwb3J0c0ZpeGVkQm91bmRhcmllczohMCxzdXBwb3J0c1N0YWNrQnk6ITAsc3VwcG9ydHNTcGxpdEJ5OiEwLHN1cHBvcnRzU25hcFRvRGF0YTohMSxzdXBwb3J0c1JldHVybkZ1bGxJbnRlcnZhbEJpbjohMSxzdXBwb3J0c0ZpcnN0RGF5T2ZXZWVrOiExLHN1cHBvcnRzTm9ybWFsaXphdGlvbjohMCxzdXBwb3J0ZWRTdGF0aXN0aWNzOntjb3VudDohMCxzdW06ITAsYXZnOiEwLHZhcjohMCxzdGRkZXY6ITAsbWluOiEwLG1heDohMCxwZXJjZW50aWxlQ29udGludW91czohMCxwZXJjZW50aWxlRGlzY3JldGU6ITAsZW52ZWxvcGU6ITAsY2VudHJvaWQ6ITAsY29udmV4SHVsbDohMH0sc3VwcG9ydGVkTm9ybWFsaXphdGlvblR5cGVzOntmaWVsZDohMCxsb2c6ITAsbmF0dXJhbExvZzohMCxwZXJjZW50T2ZUb3RhbDohMCxzcXVhcmVSb290OiEwfX07ZXhwb3J0e3MgYXMgcXVlcnlCaW5zQ2FwYWJpbGl0aWVzLHQgYXMgcXVlcnlDYXBhYmlsaXRpZXN9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMzMvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtfIGFzIGV9ZnJvbVwiLi4vLi4vLi4vY2h1bmtzL3RzbGliLmVzNi5qc1wiO2ltcG9ydCB0IGZyb21cIi4uLy4uLy4uL2NvbmZpZy5qc1wiO2ltcG9ydCBzIGZyb21cIi4uLy4uLy4uL3JlcXVlc3QuanNcIjtpbXBvcnR7aXNTb21lIGFzIHIscmVtb3ZlIGFzIGF9ZnJvbVwiLi4vLi4vLi4vY29yZS9hcnJheVV0aWxzLmpzXCI7aW1wb3J0IGkgZnJvbVwiLi4vLi4vLi4vY29yZS9FcnJvci5qc1wiO2ltcG9ydCBoYXMgZnJvbVwiLi4vLi4vLi4vY29yZS9oYXMuanNcIjtpbXBvcnR7SlNPTk1hcCBhcyBufWZyb21cIi4uLy4uLy4uL2NvcmUvanNvbk1hcC5qc1wiO2ltcG9ydCBvIGZyb21cIi4uLy4uLy4uL2NvcmUvTG9hZGFibGUuanNcIjtpbXBvcnQgdSBmcm9tXCIuLi8uLi8uLi9jb3JlL0xvZ2dlci5qc1wiO2ltcG9ydHtzZXREZWVwVmFsdWUgYXMgbH1mcm9tXCIuLi8uLi8uLi9jb3JlL29iamVjdC5qc1wiO2ltcG9ydHtkZWJvdW5jZSBhcyBjLGFmdGVyIGFzIGQsdGhyb3dJZkFib3J0RXJyb3IgYXMgcH1mcm9tXCIuLi8uLi8uLi9jb3JlL3Byb21pc2VVdGlscy5qc1wiO2ltcG9ydHt3YXRjaCBhcyB5fWZyb21cIi4uLy4uLy4uL2NvcmUvcmVhY3RpdmVVdGlscy5qc1wiO2ltcG9ydHtqb2luIGFzIGh9ZnJvbVwiLi4vLi4vLi4vY29yZS91cmxVdGlscy5qc1wiO2ltcG9ydHtnZW5lcmF0ZUJyYWNlZFVVSUQgYXMgbX1mcm9tXCIuLi8uLi8uLi9jb3JlL3V1aWQuanNcIjtpbXBvcnR7cHJvcGVydHkgYXMgZn1mcm9tXCIuLi8uLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3Byb3BlcnR5LmpzXCI7aW1wb3J0e3N1YmNsYXNzIGFzIGd9ZnJvbVwiLi4vLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9zdWJjbGFzcy5qc1wiO2ltcG9ydCB3IGZyb21cIi4uLy4uLy4uL2dlb21ldHJ5L0V4dGVudC5qc1wiO2ltcG9ydCBxIGZyb21cIi4uLy4uLy4uL2dlb21ldHJ5L1NwYXRpYWxSZWZlcmVuY2UuanNcIjtpbXBvcnQgUyBmcm9tXCIuLi8uLi8uLi9nZW9tZXRyeS9zdXBwb3J0L01lc2hHZW9yZWZlcmVuY2VkVmVydGV4U3BhY2UuanNcIjtpbXBvcnR7aXNSZWxhdGl2ZVZlcnRleFNwYWNlIGFzIEV9ZnJvbVwiLi4vLi4vLi4vZ2VvbWV0cnkvc3VwcG9ydC9tZXNoVmVydGV4U3BhY2VVdGlscy5qc1wiO2ltcG9ydHtpc09yaWdpbmFsRXh0ZXJuYWwgYXMgT31mcm9tXCIuLi8uLi8uLi9nZW9tZXRyeS9zdXBwb3J0L21lc2hVdGlscy9FeHRlcm5hbC5qc1wiO2ltcG9ydHtjcmVhdGVGZWF0dXJlRWRpdFJlc3VsdCBhcyBfLGdldEZlYXR1cmVKU09OIGFzIGIsZ2V0RmVhdHVyZUlkcyBhcyBSLGdldEF0dGFjaG1lbnRFZGl0c0pTT04gYXMgQSxpc1Byb3RlY3RlZE9yUHJpdmF0ZVZlcnNpb25FcnJvciBhcyBGLHVucGFja0VkaXRSZXN1bHREYXRhIGFzIEksY3JlYXRlRWRpdGVkRmVhdHVyZXMgYXMgeH1mcm9tXCIuLi9hcHBseUVkaXRzVXRpbHMuanNcIjtpbXBvcnR7Y3JlYXRlRHJhd2luZ0luZm8gYXMgan1mcm9tXCIuL3N1cHBvcnQvY2xpZW50U2lkZURlZmF1bHRzLmpzXCI7aW1wb3J0IHYgZnJvbVwiLi9zdXBwb3J0L1F1ZXJ5VGFzay5qc1wiO2ltcG9ydHtpc0hvc3RlZEFnb2xTZXJ2aWNlIGFzIFR9ZnJvbVwiLi4vLi4vc3VwcG9ydC9hcmNnaXNMYXllclVybC5qc1wiO2ltcG9ydHtlbnN1cmVMYXllckNyZWRlbnRpYWwgYXMgTX1mcm9tXCIuLi8uLi9zdXBwb3J0L2ZlYXR1cmVMYXllclV0aWxzLmpzXCI7aW1wb3J0e2dldEFzc2V0TWFwVGFibGUgYXMgTn1mcm9tXCIuLi8uLi9zdXBwb3J0L2luZm9Gb3IzRC5qc1wiO2ltcG9ydHtleGVjdXRlUXVlcnlKU09OIGFzIFV9ZnJvbVwiLi4vLi4vLi4vcmVzdC9xdWVyeS9leGVjdXRlUXVlcnlKU09OLmpzXCI7aW1wb3J0e3VuYXBwbHlFZGl0c1pVbml0U2NhbGluZyBhcyBKfWZyb21cIi4uLy4uLy4uL3Jlc3QvcXVlcnkvb3BlcmF0aW9ucy9lZGl0c1pTY2FsZS5qc1wiO2ltcG9ydCBEIGZyb21cIi4uLy4uLy4uL3Jlc3Qvc3VwcG9ydC9RdWVyeS5qc1wiO2ltcG9ydHtUIGFzIGt9ZnJvbVwiLi4vLi4vLi4vY2h1bmtzL1RpbWVFeHRlbnQuanNcIjtpbXBvcnR7aXNTYWZlVG9FZGl0VmVyc2lvbiBhcyBDLGlzVmVyc2lvbkluRWRpdFNlc3Npb24gYXMgTCxpc0hpc3RvcmljVmVyc2lvbiBhcyBRLGN1cnJlbnRTZXNzaW9uSWQgYXMgUH1mcm9tXCIuLi8uLi8uLi92ZXJzaW9uTWFuYWdlbWVudC9zdXBwb3J0L3ZlcnNpb25NYW5hZ2VtZW50VXRpbHMuanNcIjtjb25zdCBWPW5ldyBuKHtvcmlnaW5hbEFuZEN1cnJlbnRGZWF0dXJlczpcIm9yaWdpbmFsLWFuZC1jdXJyZW50LWZlYXR1cmVzXCIsbm9uZTpcIm5vbmVcIn0pLCQ9bmV3IG4oe1N0YXJ0ZWQ6XCJwdWJsaXNoZWRcIixQdWJsaXNoaW5nOlwicHVibGlzaGluZ1wiLFN0b3BwZWQ6XCJ1bmF2YWlsYWJsZVwifSk7bGV0IEc9Y2xhc3MgZXh0ZW5kcyBve2NvbnN0cnVjdG9yKGUpe3N1cGVyKGUpLHRoaXMudHlwZT1cImZlYXR1cmUtbGF5ZXJcIix0aGlzLnN1cHBvcnRlZFNvdXJjZVR5cGVzPW5ldyBTZXQoW1wiRmVhdHVyZSBMYXllclwiLFwiT3JpZW50ZWQgSW1hZ2VyeSBMYXllclwiLFwiVGFibGVcIixcIkNhdGFsb2cgTGF5ZXJcIl0pLHRoaXMucmVmcmVzaD1jKChhc3luYygpPT57YXdhaXQgdGhpcy5sb2FkKCk7Y29uc3QgZT10aGlzLnNvdXJjZUpTT04uZWRpdGluZ0luZm8/Lmxhc3RFZGl0RGF0ZTtpZihudWxsPT1lKXJldHVybntkYXRhQ2hhbmdlZDohMCx1cGRhdGVzOnt9fTt0cnl7YXdhaXQgdGhpcy5fZmV0Y2hTZXJ2aWNlKG51bGwpfWNhdGNoe3JldHVybntkYXRhQ2hhbmdlZDohMCx1cGRhdGVzOnt9fX1jb25zdCB0PWUhPT10aGlzLnNvdXJjZUpTT04uZWRpdGluZ0luZm8/Lmxhc3RFZGl0RGF0ZTtyZXR1cm57ZGF0YUNoYW5nZWQ6dCx1cGRhdGVzOnQ/e2VkaXRpbmdJbmZvOnRoaXMuc291cmNlSlNPTi5lZGl0aW5nSW5mbyxleHRlbnQ6dGhpcy5zb3VyY2VKU09OLmV4dGVudH06bnVsbH19KSksdGhpcy5fb25nb2luZ0Fzc2V0VXBsb2Fkcz1uZXcgTWFwfWxvYWQoZSl7Y29uc3QgdD10aGlzLmxheWVyLnNvdXJjZUpTT04scz10aGlzLl9mZXRjaFNlcnZpY2UodCx7Li4uZX0pLnRoZW4oKCgpPT50aGlzLmxheWVyLnNldFVzZXJQcml2aWxlZ2VzKHRoaXMuc291cmNlSlNPTi5zZXJ2aWNlSXRlbUlkLGUpKSkudGhlbigoKCk9PnRoaXMuX2Vuc3VyZUxhdGVzdE1ldGFkYXRhKGUpKSk7cmV0dXJuIHRoaXMuYWRkUmVzb2x2aW5nUHJvbWlzZShzKSxQcm9taXNlLnJlc29sdmUodGhpcyl9aW5pdGlhbGl6ZSgpe3RoaXMuYWRkSGFuZGxlcyhbeSgoKCk9Pntjb25zdCBlPXRoaXMubGF5ZXI7cmV0dXJuIGUmJlwibGFzdEVkaXRzRXZlbnREYXRlXCJpbiBlP2UubGFzdEVkaXRzRXZlbnREYXRlOm51bGx9KSwoZT0+dGhpcy5faGFuZGxlTGFzdEVkaXRzRXZlbnRDaGFuZ2UoZSkpKV0pfWRlc3Ryb3koKXt0aGlzLl9yZW1vdmVFZGl0SW50ZXJjZXB0b3IoKX1nZXQgcXVlcnlUYXNrKCl7Y29uc3R7Y2FwYWJpbGl0aWVzOmUscGFyc2VkVXJsOnQsZ2RiVmVyc2lvbjpzLHNwYXRpYWxSZWZlcmVuY2U6cixmaWVsZHNJbmRleDphLHVuaXF1ZUlkRmllbGRzOml9PXRoaXMubGF5ZXIsbj1cImluZm9Gb3IzRFwiaW4gdGhpcy5sYXllcj90aGlzLmxheWVyLmluZm9Gb3IzRDpudWxsLG89XCJkeW5hbWljRGF0YVNvdXJjZVwiaW4gdGhpcy5sYXllcj90aGlzLmxheWVyLmR5bmFtaWNEYXRhU291cmNlOm51bGwsdT1oYXMoXCJmZWF0dXJlbGF5ZXItcGJmXCIpJiZlPy5xdWVyeS5zdXBwb3J0c0Zvcm1hdFBCRiYmbnVsbD09bjtyZXR1cm4gbmV3IHYoe2R5bmFtaWNEYXRhU291cmNlOm8sZmllbGRzSW5kZXg6YSxnZGJWZXJzaW9uOnMsaW5mb0ZvcjNEOm4scGJmU3VwcG9ydGVkOnUscXVlcnlBdHRhY2htZW50c1N1cHBvcnRlZDplPy5vcGVyYXRpb25zPy5zdXBwb3J0c1F1ZXJ5QXR0YWNobWVudHM/PyExLHNvdXJjZVNwYXRpYWxSZWZlcmVuY2U6cix1bmlxdWVJZEZpZWxkczppLHVybDp0LnBhdGh9KX1hc3luYyBhZGRBdHRhY2htZW50KGUsdCl7YXdhaXQgdGhpcy5sb2FkKCk7Y29uc3R7bGF5ZXI6cn09dGhpczthd2FpdCBNKHIsXCJlZGl0aW5nXCIpO2NvbnN0IGE9ZS5hdHRyaWJ1dGVzW3Iub2JqZWN0SWRGaWVsZF0saT1yLnBhcnNlZFVybC5wYXRoK1wiL1wiK2ErXCIvYWRkQXR0YWNobWVudFwiLG49dGhpcy5fZ2V0TGF5ZXJSZXF1ZXN0T3B0aW9ucygpLG89dGhpcy5fZ2V0Rm9ybURhdGFGb3JBdHRhY2htZW50KHQsbi5xdWVyeSk7dHJ5e2NvbnN0IGU9YXdhaXQgcyhpLHtib2R5Om99KTtyZXR1cm4gXyhlLmRhdGEuYWRkQXR0YWNobWVudFJlc3VsdCl9Y2F0Y2godSl7dGhyb3cgdGhpcy5fY3JlYXRlQXR0YWNobWVudEVycm9yUmVzdWx0KGEsdSl9fWFzeW5jIHVwZGF0ZUF0dGFjaG1lbnQoZSx0LHIpe2F3YWl0IHRoaXMubG9hZCgpO2NvbnN0e2xheWVyOmF9PXRoaXM7YXdhaXQgTShhLFwiZWRpdGluZ1wiKTtjb25zdCBpPWUuYXR0cmlidXRlc1thLm9iamVjdElkRmllbGRdLG49YS5wYXJzZWRVcmwucGF0aCtcIi9cIitpK1wiL3VwZGF0ZUF0dGFjaG1lbnRcIixvPXRoaXMuX2dldExheWVyUmVxdWVzdE9wdGlvbnMoe3F1ZXJ5OnthdHRhY2htZW50SWQ6dH19KSx1PXRoaXMuX2dldEZvcm1EYXRhRm9yQXR0YWNobWVudChyLG8ucXVlcnkpO3RyeXtjb25zdCBlPWF3YWl0IHMobix7Ym9keTp1fSk7cmV0dXJuIF8oZS5kYXRhLnVwZGF0ZUF0dGFjaG1lbnRSZXN1bHQpfWNhdGNoKGwpe3Rocm93IHRoaXMuX2NyZWF0ZUF0dGFjaG1lbnRFcnJvclJlc3VsdChpLGwpfX1hc3luYyBhcHBseUVkaXRzKGUsdCl7YXdhaXQgdGhpcy5sb2FkKCk7Y29uc3R7bGF5ZXI6YX09dGhpczthd2FpdCBNKGEsXCJlZGl0aW5nXCIpO2NvbnN0IG49XCJpbmZvRm9yM0RcImluIGE/YS5pbmZvRm9yM0Q6bnVsbCxvPW51bGwhPW4sdT1vfHwodD8uZ2xvYmFsSWRVc2VkPz8hMSksbD1vP2F3YWl0IHRoaXMuX3VwbG9hZE1lc2hlc0FuZEdldEFzc2V0TWFwRWRpdHNKU09OKGUpOm51bGwsYz1lLmFkZEZlYXR1cmVzPy5tYXAoKGU9PmIodGhpcy5sYXllcixlLG4pKSk/P1tdLGQ9KGF3YWl0IFByb21pc2UuYWxsKGMpKS5maWx0ZXIocikscD1lLnVwZGF0ZUZlYXR1cmVzPy5tYXAoKGU9PmIodGhpcy5sYXllcixlLG4pKSk/P1tdLHk9KGF3YWl0IFByb21pc2UuYWxsKHApKS5maWx0ZXIociksaD1SKHRoaXMubGF5ZXIsZS5kZWxldGVGZWF0dXJlcyx1KTtKKGQseSxhLnNwYXRpYWxSZWZlcmVuY2UpO2NvbnN0IG09YXdhaXQgQSh0aGlzLmxheWVyLGUpLGY9YS5jYXBhYmlsaXRpZXMuZWRpdGluZy5zdXBwb3J0c0FzeW5jQXBwbHlFZGl0cyYmbyxnPXQ/LmdkYlZlcnNpb258fGEuZ2RiVmVyc2lvbix3PXtnZGJWZXJzaW9uOmcscm9sbGJhY2tPbkZhaWx1cmU6dD8ucm9sbGJhY2tPbkZhaWx1cmVFbmFibGVkLHVzZUdsb2JhbElkczp1LHJldHVybkVkaXRNb21lbnQ6dD8ucmV0dXJuRWRpdE1vbWVudCx1c2VQcmV2aW91c0VkaXRNb21lbnQ6dD8udXNlUHJldmlvdXNFZGl0TW9tZW50LGFzeW5jOmZ9O2F3YWl0IEModGhpcy5sYXllci51cmwsZywhMCk7Y29uc3QgcT1MKHRoaXMubGF5ZXIudXJsLGd8fG51bGwpO2lmKGF3YWl0IFEoYS51cmwsZyxhLmhpc3RvcmljTW9tZW50KSl0aHJvdyBuZXcgaShcImZlYXR1cmUtbGF5ZXItc291cmNlOmhpc3RvcmljLXZlcnNpb25cIixcIkVkaXRpbmcgYSBoaXN0b3JpYyB2ZXJzaW9uIGlzIG5vdCBhbGxvd2VkXCIpO3Q/LnJldHVyblNlcnZpY2VFZGl0c09wdGlvbj8ody5lZGl0cz1KU09OLnN0cmluZ2lmeShbe2lkOmEubGF5ZXJJZCxhZGRzOmQubGVuZ3RoP2Q6bnVsbCx1cGRhdGVzOnkubGVuZ3RoP3k6bnVsbCxkZWxldGVzOmgubGVuZ3RoP2g6bnVsbCxhdHRhY2htZW50czptLGFzc2V0TWFwczpsfV0pLHcucmV0dXJuU2VydmljZUVkaXRzT3B0aW9uPVYudG9KU09OKHQ/LnJldHVyblNlcnZpY2VFZGl0c09wdGlvbiksdy5yZXR1cm5TZXJ2aWNlRWRpdHNJblNvdXJjZVNSPXQ/LnJldHVyblNlcnZpY2VFZGl0c0luU291cmNlU1IpOih3LmFkZHM9ZC5sZW5ndGg/SlNPTi5zdHJpbmdpZnkoZCk6bnVsbCx3LnVwZGF0ZXM9eS5sZW5ndGg/SlNPTi5zdHJpbmdpZnkoeSk6bnVsbCx3LmRlbGV0ZXM9aC5sZW5ndGg/dT9KU09OLnN0cmluZ2lmeShoKTpoLmpvaW4oXCIsXCIpOm51bGwsdy5hdHRhY2htZW50cz1tJiZKU09OLnN0cmluZ2lmeShtKSx3LmFzc2V0TWFwcz1udWxsIT1sP0pTT04uc3RyaW5naWZ5KGwpOnZvaWQgMCk7Y29uc3QgUz10aGlzLl9nZXRMYXllclJlcXVlc3RPcHRpb25zKHttZXRob2Q6XCJwb3N0XCIscXVlcnk6d30pO3EmJihTLmF1dGhNb2RlPVwiaW1tZWRpYXRlXCIsUy5xdWVyeS5yZXR1cm5FZGl0TW9tZW50PSEwLFMucXVlcnkuc2Vzc2lvbklkPVApO2NvbnN0IEU9dD8ucmV0dXJuU2VydmljZUVkaXRzT3B0aW9uP2EudXJsOmEucGFyc2VkVXJsLnBhdGg7bGV0IE87dHJ5e089Zj9hd2FpdCB0aGlzLl9hc3luY0FwcGx5RWRpdHMoRStcIi9hcHBseUVkaXRzXCIsUyk6YXdhaXQgcyhFK1wiL2FwcGx5RWRpdHNcIixTKX1jYXRjaChfKXtpZighRihfKSl0aHJvdyBfO1MuYXV0aE1vZGU9XCJpbW1lZGlhdGVcIixPPWY/YXdhaXQgdGhpcy5fYXN5bmNBcHBseUVkaXRzKEUrXCIvYXBwbHlFZGl0c1wiLFMpOmF3YWl0IHMoRStcIi9hcHBseUVkaXRzXCIsUyl9cmV0dXJuIHRoaXMuX2NyZWF0ZUVkaXRzUmVzdWx0KE8pfWFzeW5jIGRlbGV0ZUF0dGFjaG1lbnRzKGUsdCl7YXdhaXQgdGhpcy5sb2FkKCk7Y29uc3R7bGF5ZXI6cn09dGhpczthd2FpdCBNKHIsXCJlZGl0aW5nXCIpO2NvbnN0IGE9ZS5hdHRyaWJ1dGVzW3Iub2JqZWN0SWRGaWVsZF0saT1yLnBhcnNlZFVybC5wYXRoK1wiL1wiK2ErXCIvZGVsZXRlQXR0YWNobWVudHNcIjt0cnl7cmV0dXJuKGF3YWl0IHMoaSx0aGlzLl9nZXRMYXllclJlcXVlc3RPcHRpb25zKHtxdWVyeTp7YXR0YWNobWVudElkczp0LmpvaW4oXCIsXCIpfSxtZXRob2Q6XCJwb3N0XCJ9KSkpLmRhdGEuZGVsZXRlQXR0YWNobWVudFJlc3VsdHMubWFwKF8pfWNhdGNoKG4pe3Rocm93IHRoaXMuX2NyZWF0ZUF0dGFjaG1lbnRFcnJvclJlc3VsdChhLG4pfX1mZXRjaFJlY29tcHV0ZWRFeHRlbnRzKGU9e30pe2NvbnN0IHQ9ZS5zaWduYWw7cmV0dXJuIHRoaXMubG9hZCh7c2lnbmFsOnR9KS50aGVuKChhc3luYygpPT57Y29uc3QgdD10aGlzLl9nZXRMYXllclJlcXVlc3RPcHRpb25zKHsuLi5lLHF1ZXJ5OntyZXR1cm5VcGRhdGVzOiEwfX0pLHtsYXllcklkOnIsdXJsOmF9PXRoaXMubGF5ZXIse2RhdGE6aX09YXdhaXQgcyhgJHthfS8ke3J9YCx0KSx7aWQ6bixleHRlbnQ6byxmdWxsRXh0ZW50OnUsdGltZUV4dGVudDpsfT1pLGM9b3x8dTtyZXR1cm57aWQ6bixmdWxsRXh0ZW50OmMmJncuZnJvbUpTT04oYyksdGltZUV4dGVudDpsJiZrLmZyb21KU09OKHtzdGFydDpsWzBdLGVuZDpsWzFdfSl9fSkpfWFzeW5jIHF1ZXJ5QXR0YWNobWVudHMoZSx0PXt9KXthd2FpdCB0aGlzLmxvYWQoKTtjb25zdCBzPXRoaXMuX2dldExheWVyUmVxdWVzdE9wdGlvbnModCk7cmV0dXJuIHRoaXMucXVlcnlUYXNrLmV4ZWN1dGVBdHRhY2htZW50UXVlcnkoZSxzKX1hc3luYyBxdWVyeUZlYXR1cmVzKGUsdCl7YXdhaXQgdGhpcy5sb2FkKCk7Y29uc3Qgcz1hd2FpdCB0aGlzLnF1ZXJ5VGFzay5leGVjdXRlKGUsey4uLnQscXVlcnk6dGhpcy5fY3JlYXRlUmVxdWVzdFF1ZXJ5T3B0aW9ucyh0KX0pO2lmKGUub3V0U3RhdGlzdGljcz8ubGVuZ3RoJiZzLmZlYXR1cmVzLmxlbmd0aCl7Y29uc3QgdD1uZXcgTWFwO2lmKHMuZmVhdHVyZXMuZm9yRWFjaCgocz0+e2NvbnN0IHI9cy5hdHRyaWJ1dGVzO2Uub3V0U3RhdGlzdGljcz8uZm9yRWFjaCgoKHtvdXRTdGF0aXN0aWNGaWVsZE5hbWU6ZX0pPT57aWYoZSl7Y29uc3Qgcz1lLnRvTG93ZXJDYXNlKCk7cyYmcyBpbiByJiZlIT09cyYmKHJbZV09cltzXSxkZWxldGUgcltzXSx0LnNldChzLGUpKX19KSl9KSksbnVsbCE9cy5maWVsZHMpZm9yKGNvbnN0IGUgb2Ygcy5maWVsZHMpe2NvbnN0IHM9dC5nZXQoZS5uYW1lLnRvTG93ZXJDYXNlKCkpO251bGwhPXMmJihlLm5hbWU9cyl9fXJldHVybiBzfWFzeW5jIHF1ZXJ5RmVhdHVyZXNKU09OKGUsdCl7cmV0dXJuIGF3YWl0IHRoaXMubG9hZCgpLHRoaXMucXVlcnlUYXNrLmV4ZWN1dGVKU09OKGUsey4uLnQscXVlcnk6dGhpcy5fY3JlYXRlUmVxdWVzdFF1ZXJ5T3B0aW9ucyh0KX0pfWFzeW5jIHF1ZXJ5T2JqZWN0SWRzKGUsdCl7cmV0dXJuIGF3YWl0IHRoaXMubG9hZCgpLHRoaXMucXVlcnlUYXNrLmV4ZWN1dGVGb3JJZHMoZSx7Li4udCxxdWVyeTp0aGlzLl9jcmVhdGVSZXF1ZXN0UXVlcnlPcHRpb25zKHQpfSl9YXN5bmMgcXVlcnlGZWF0dXJlQ291bnQoZSx0KXtyZXR1cm4gYXdhaXQgdGhpcy5sb2FkKCksdGhpcy5xdWVyeVRhc2suZXhlY3V0ZUZvckNvdW50KGUsey4uLnQscXVlcnk6dGhpcy5fY3JlYXRlUmVxdWVzdFF1ZXJ5T3B0aW9ucyh0KX0pfWFzeW5jIHF1ZXJ5RXh0ZW50KGUsdCl7cmV0dXJuIGF3YWl0IHRoaXMubG9hZCgpLHRoaXMucXVlcnlUYXNrLmV4ZWN1dGVGb3JFeHRlbnQoZSx7Li4udCxxdWVyeTp0aGlzLl9jcmVhdGVSZXF1ZXN0UXVlcnlPcHRpb25zKHQpfSl9YXN5bmMgcXVlcnlSZWxhdGVkRmVhdHVyZXMoZSx0KXtyZXR1cm4gYXdhaXQgdGhpcy5sb2FkKCksdGhpcy5xdWVyeVRhc2suZXhlY3V0ZVJlbGF0aW9uc2hpcFF1ZXJ5KGUsey4uLnQscXVlcnk6dGhpcy5fY3JlYXRlUmVxdWVzdFF1ZXJ5T3B0aW9ucyh0KX0pfWFzeW5jIHF1ZXJ5UmVsYXRlZEZlYXR1cmVzQ291bnQoZSx0KXtyZXR1cm4gYXdhaXQgdGhpcy5sb2FkKCksdGhpcy5xdWVyeVRhc2suZXhlY3V0ZVJlbGF0aW9uc2hpcFF1ZXJ5Rm9yQ291bnQoZSx7Li4udCxxdWVyeTp0aGlzLl9jcmVhdGVSZXF1ZXN0UXVlcnlPcHRpb25zKHQpfSl9YXN5bmMgcXVlcnlUb3BGZWF0dXJlcyhlLHQpe3JldHVybiBhd2FpdCB0aGlzLmxvYWQoKSx0aGlzLnF1ZXJ5VGFzay5leGVjdXRlVG9wRmVhdHVyZXNRdWVyeShlLHsuLi50LHF1ZXJ5OnRoaXMuX2NyZWF0ZVJlcXVlc3RRdWVyeU9wdGlvbnModCl9KX1hc3luYyBxdWVyeUF0dHJpYnV0ZUJpbnMoZSx0KXtyZXR1cm4gYXdhaXQgdGhpcy5sb2FkKCksdGhpcy5xdWVyeVRhc2suZXhlY3V0ZUF0dHJpYnV0ZUJpbnNRdWVyeShlLHsuLi50LHF1ZXJ5OnRoaXMuX2NyZWF0ZVJlcXVlc3RRdWVyeU9wdGlvbnModCl9KX1hc3luYyBxdWVyeVRvcE9iamVjdElkcyhlLHQpe3JldHVybiBhd2FpdCB0aGlzLmxvYWQoKSx0aGlzLnF1ZXJ5VGFzay5leGVjdXRlRm9yVG9wSWRzKGUsey4uLnQscXVlcnk6dGhpcy5fY3JlYXRlUmVxdWVzdFF1ZXJ5T3B0aW9ucyh0KX0pfWFzeW5jIHF1ZXJ5VG9wRXh0ZW50cyhlLHQpe3JldHVybiBhd2FpdCB0aGlzLmxvYWQoKSx0aGlzLnF1ZXJ5VGFzay5leGVjdXRlRm9yVG9wRXh0ZW50cyhlLHsuLi50LHF1ZXJ5OnRoaXMuX2NyZWF0ZVJlcXVlc3RRdWVyeU9wdGlvbnModCl9KX1hc3luYyBxdWVyeVRvcENvdW50KGUsdCl7cmV0dXJuIGF3YWl0IHRoaXMubG9hZCgpLHRoaXMucXVlcnlUYXNrLmV4ZWN1dGVGb3JUb3BDb3VudChlLHsuLi50LHF1ZXJ5OnRoaXMuX2NyZWF0ZVJlcXVlc3RRdWVyeU9wdGlvbnModCl9KX1hc3luYyBmZXRjaFB1Ymxpc2hpbmdTdGF0dXMoKXtpZighVCh0aGlzLmxheWVyLnVybCkpcmV0dXJuXCJ1bmF2YWlsYWJsZVwiO2NvbnN0IGU9aCh0aGlzLmxheWVyLnVybCxcInN0YXR1c1wiKSx0PWF3YWl0IHMoZSx7cXVlcnk6e2Y6XCJqc29uXCJ9fSk7cmV0dXJuICQuZnJvbUpTT04odC5kYXRhLnN0YXR1cyl9YXN5bmMgdXBsb2FkQXNzZXRzKGUsdCl7Y29uc3R7dXBsb2FkQXNzZXRzOnN9PWF3YWl0IGltcG9ydChcIi4vc3VwcG9ydC91cGxvYWRBc3NldHMuanNcIik7cmV0dXJuIHMoZSx7bGF5ZXI6dGhpcy5sYXllcixvbmdvaW5nVXBsb2Fkczp0aGlzLl9vbmdvaW5nQXNzZXRVcGxvYWRzfSx0KX1faGFuZGxlTGFzdEVkaXRzRXZlbnRDaGFuZ2UoZSl7Y29uc3QgdD10aGlzLmxheWVyO2lmKG51bGw9PWV8fCEoXCJjYXBhYmlsaXRpZXNcImluIHQpfHwhKFwiZWZmZWN0aXZlQ2FwYWJpbGl0aWVzXCJpbiB0KSlyZXR1cm47aWYoISghdC5jYXBhYmlsaXRpZXM/Lm9wZXJhdGlvbnM/LnN1cHBvcnRzRWRpdGluZyYmdC5lZmZlY3RpdmVDYXBhYmlsaXRpZXM/Lm9wZXJhdGlvbnM/LnN1cHBvcnRzRWRpdGluZykpcmV0dXJuO2NvbnN0IHM9dC51cmw7aWYobnVsbD09cylyZXR1cm47XCJsYXllcklkXCJpbiB0JiZoKHMsdC5sYXllcklkLnRvU3RyaW5nKCkpO3RoaXMuX2dldE9yQ3JlYXRlRWRpdEludGVyY2VwdG9yKHMpLmJlZm9yZT10PT57Y29uc3Qgcz10LnJlcXVlc3RPcHRpb25zLm1ldGhvZD8/XCJhdXRvXCI7aWYoXCJhdXRvXCI9PT1zfHxcImhlYWRcIj09PXMpe2NvbnN0IHM9dC5yZXF1ZXN0T3B0aW9ucy5xdWVyeT8/e307cy5fdHM9ZS5nZXRUaW1lKCksdC5yZXF1ZXN0T3B0aW9ucy5xdWVyeT1zfX19X2dldE9yQ3JlYXRlRWRpdEludGVyY2VwdG9yKGUpe3JldHVybiBudWxsPT10aGlzLl9lZGl0SW50ZXJjZXB0b3ImJih0aGlzLl9lZGl0SW50ZXJjZXB0b3I9e3VybHM6ZX0sdC5yZXF1ZXN0LmludGVybmFsSW50ZXJjZXB0b3JzLnB1c2godGhpcy5fZWRpdEludGVyY2VwdG9yKSksdGhpcy5fZWRpdEludGVyY2VwdG9yfV9yZW1vdmVFZGl0SW50ZXJjZXB0b3IoKXtudWxsIT10aGlzLl9lZGl0SW50ZXJjZXB0b3ImJihhKHQucmVxdWVzdC5pbnRlcm5hbEludGVyY2VwdG9ycyx0aGlzLl9lZGl0SW50ZXJjZXB0b3IpLHRoaXMuX2VkaXRJbnRlcmNlcHRvcj1udWxsKX1hc3luYyBfYXN5bmNBcHBseUVkaXRzKGUsdCl7Y29uc3Qgcj0oYXdhaXQgcyhlLHQpKS5kYXRhLnN0YXR1c1VybDtmb3IoOzspe2NvbnN0IGU9KGF3YWl0IHMocix7cXVlcnk6e2Y6XCJqc29uXCJ9LHJlc3BvbnNlVHlwZTpcImpzb25cIn0pKS5kYXRhO3N3aXRjaChlLnN0YXR1cyl7Y2FzZVwiQ29tcGxldGVkXCI6cmV0dXJuIHMoZS5yZXN1bHRVcmwse3F1ZXJ5OntmOlwianNvblwifSxyZXNwb25zZVR5cGU6XCJqc29uXCJ9KTtjYXNlXCJDb21wbGV0ZWRXaXRoRXJyb3JzXCI6dGhyb3cgbmV3IGkoXCJhc3luYy1hcHBseUVkaXRzLWZhaWxlZFwiLFwiYXN5bmNocm9ub3VzIGFwcGx5RWRpdHMgY2FsbCBmYWlsZWQuXCIpO2Nhc2VcIkZhaWxlZCBJbXBvcnRDaGFuZ2VzXCI6Y2FzZVwiSW5Qcm9ncmVzc1wiOmNhc2VcIlBlbmRpbmdcIjpjYXNlXCJFeHBvcnRBdHRhY2htZW50c1wiOmNhc2VcIkV4cG9ydENoYW5nZXNcIjpjYXNlXCJFeHBvcnRpbmdEYXRhXCI6Y2FzZVwiRXhwb3J0aW5nU25hcHNob3RcIjpjYXNlXCJJbXBvcnRBdHRhY2htZW50c1wiOmNhc2VcIlByb3Zpc2lvbmluZ1JlcGxpY2FcIjpjYXNlXCJVblJlZ2lzdGVyaW5nUmVwbGljYVwiOmJyZWFrO2RlZmF1bHQ6dGhyb3cgbmV3IGkoXCJhc3luYy1hcHBseUVkaXRzLWZhaWxlZFwiLFwiYXN5bmNocm9ub3VzIGFwcGx5RWRpdHMgY2FsbCBmYWlsZWQgKHVuZGVmaW5lZCByZXNwb25zZSBzdGF0dXMpXCIpfWF3YWl0IGQoSCl9fV9jcmVhdGVSZXF1ZXN0UXVlcnlPcHRpb25zKGUpe2NvbnN0IHQ9ey4uLnRoaXMubGF5ZXIuY3VzdG9tUGFyYW1ldGVycyx0b2tlbjp0aGlzLmxheWVyLmFwaUtleSwuLi5lPy5xdWVyeX07cmV0dXJuIHRoaXMubGF5ZXIuZGF0ZXNJblVua25vd25UaW1lem9uZSYmKHQudGltZVJlZmVyZW5jZVVua25vd25DbGllbnQ9ITApLHR9YXN5bmMgX2ZldGNoU2VydmljZShlLHQpe2lmKCFlKXtjb25zdCByPXt9O2hhcyhcImZlYXR1cmVsYXllci1hZHZhbmNlZC1zeW1ib2xzXCIpJiYoci5yZXR1cm5BZHZhbmNlZFN5bWJvbHM9ITApLHQ/LmNhY2hlQnVzdCYmKHIuX3RzPURhdGUubm93KCkpO2NvbnN0e2RhdGE6YX09YXdhaXQgcyh0aGlzLmxheWVyLnBhcnNlZFVybC5wYXRoLHRoaXMuX2dldExheWVyUmVxdWVzdE9wdGlvbnMoe3F1ZXJ5OnIsc2lnbmFsOnQ/LnNpZ25hbH0pKTtlPWF9dGhpcy5sYXllci5hcHBseVByZWZlcnJlZEhvc3QoZSksdGhpcy5zb3VyY2VKU09OPWF3YWl0IHRoaXMuX3BhdGNoU2VydmljZUpTT04oZSx0Py5zaWduYWwpO2NvbnN0IHI9ZS50eXBlO2lmKCF0aGlzLnN1cHBvcnRlZFNvdXJjZVR5cGVzLmhhcyhyKSl0aHJvdyBuZXcgaShcImZlYXR1cmUtbGF5ZXItc291cmNlOnVuc3VwcG9ydGVkLXR5cGVcIixgU291cmNlIHR5cGUgXCIke3J9XCIgaXMgbm90IHN1cHBvcnRlZGApfWFzeW5jIF9wYXRjaFNlcnZpY2VKU09OKGUsdCl7aWYoXCJUYWJsZVwiIT09ZS50eXBlJiZlLmdlb21ldHJ5VHlwZSYmIWU/LmRyYXdpbmdJbmZvPy5yZW5kZXJlciYmIWUuZGVmYXVsdFN5bWJvbCl7Y29uc3QgdD1qKGUuZ2VvbWV0cnlUeXBlKS5yZW5kZXJlcjtsKFwiZHJhd2luZ0luZm8ucmVuZGVyZXJcIix0LGUpfWlmKFwiZXNyaUdlb21ldHJ5TXVsdGlQYXRjaFwiPT09ZS5nZW9tZXRyeVR5cGUmJmUuaW5mb0ZvcjNEJiYoZS5nZW9tZXRyeVR5cGU9XCJtZXNoXCIpLG51bGw9PWUuZXh0ZW50KXRyeXtjb25zdHtkYXRhOnJ9PWF3YWl0IHModGhpcy5sYXllci51cmwsdGhpcy5fZ2V0TGF5ZXJSZXF1ZXN0T3B0aW9ucyh7c2lnbmFsOnR9KSk7ci5zcGF0aWFsUmVmZXJlbmNlJiYoZS5leHRlbnQ9e3htaW46MCx5bWluOjAseG1heDowLHltYXg6MCxzcGF0aWFsUmVmZXJlbmNlOnIuc3BhdGlhbFJlZmVyZW5jZX0pfWNhdGNoKHIpe3Aocil9cmV0dXJuIGV9YXN5bmMgX2Vuc3VyZUxhdGVzdE1ldGFkYXRhKGUpe2lmKHRoaXMubGF5ZXIudXNlckhhc1VwZGF0ZUl0ZW1Qcml2aWxlZ2VzJiZ0aGlzLnNvdXJjZUpTT04uY2FjaGVNYXhBZ2U+MClyZXR1cm4gdGhpcy5fZmV0Y2hTZXJ2aWNlKG51bGwsey4uLmUsY2FjaGVCdXN0OiEwfSl9YXN5bmMgX3VwbG9hZE1lc2hlc0FuZEdldEFzc2V0TWFwRWRpdHNKU09OKGUpe2NvbnN0e2FkZEFzc2V0RmVhdHVyZXM6dH09ZTtpZighdD8ubGVuZ3RoKXJldHVybiBudWxsO2lmKGF3YWl0IHRoaXMuX2FyZUFsbEFzc2V0c0FscmVhZHlNYXBwZWQodCkpcmV0dXJuIG51bGw7Y29uc3Qgcz1lLmFkZEZlYXR1cmVzLmZpbHRlcigoZT0+ZS5nZW9tZXRyeSkpO2lmKHQubGVuZ3RoIT09cy5sZW5ndGgrZS51cGRhdGVGZWF0dXJlcy5sZW5ndGgpdGhyb3cgbmV3IGkoXCJmZWF0dXJlLWxheWVyLXNvdXJjZTp1bnN1cHBvcnRlZC1tZXNoLWVkaXRzXCIsXCJNaXhpbmcgYXR0cmlidXRlIG9ubHkgZWRpdHMgd2l0aCBtZXNoIGdlb21ldHJ5IGVkaXRzIGlzIG5vdCBjdXJyZW50bHkgc3VwcG9ydGVkXCIpO2NvbnN0IHI9bmV3IEFycmF5LGE9bmV3IE1hcDtmb3IoY29uc3QgaSBvZiB0KXtjb25zdHtnZW9tZXRyeTplfT1pLHt2ZXJ0ZXhTcGFjZTp0fT1lO2lmKEUodCkpci5wdXNoKGUpO2Vsc2V7Y29uc3QgdD1lLm9yaWdpbix7Y29udmVydE1lc2hWZXJ0ZXhTcGFjZTpzfT1hd2FpdCBpbXBvcnQoXCIuLi8uLi8uLi9nZW9tZXRyeS9zdXBwb3J0L21lc2hVdGlscy9jb252ZXJ0TWVzaFZlcnRleFNwYWNlLmpzXCIpLG49YXdhaXQgcyhlLG5ldyBTKHtvcmlnaW46W3QueCx0LnksdC56Pz8wXX0pKTthLnNldChuLGUpLGkuZ2VvbWV0cnk9bixyLnB1c2gobil9fWF3YWl0IHRoaXMudXBsb2FkQXNzZXRzKHIpO2Zvcihjb25zdFtpLG5db2YgYSluLmFkZEV4dGVybmFsU291cmNlcyhpLm1ldGFkYXRhLmV4dGVybmFsU291cmNlcy5pdGVtcyk7cmV0dXJue2FkZHM6dGhpcy5fZ2V0QXNzZXRNYXBFZGl0c0pTT04odCksdXBkYXRlczpbXSxkZWxldGVzOltdfX1fZ2V0QXNzZXRNYXBFZGl0c0pTT04oZSl7Y29uc3QgdD1uZXcgQXJyYXkscz10aGlzLmxheWVyLmdsb2JhbElkRmllbGQscj10aGlzLmxheWVyLnBhcnNlZFVybDtmb3IoY29uc3QgYSBvZiBlKXtjb25zdCBlPWEuZ2VvbWV0cnkse21ldGFkYXRhOml9PWUsbj1pLmdldEV4dGVybmFsU291cmNlc09uU2VydmljZShyKSxvPWEuZ2V0QXR0cmlidXRlKHMpO2lmKDA9PT1uLmxlbmd0aCl7dS5nZXRMb2dnZXIodGhpcykuZXJyb3IoYFNraXBwaW5nIGZlYXR1cmUgJHtvfS4gVGhlIG1lc2ggaXQgaXMgYXNzb2NpYXRlZCB3aXRoIGhhcyBub3QgYmVlbiB1cGxvYWRlZCB0byB0aGUgc2VydmljZSBhbmQgY2Fubm90IGJlIG1hcHBlZCB0byBpdC5gKTtjb250aW51ZX1jb25zdHtzb3VyY2U6bH09bi5maW5kKE8pPz9uWzBdO2Zvcihjb25zdCBzIG9mIGwuYXNzZXRzKTE9PT1zLnBhcnRzLmxlbmd0aD90LnB1c2goe2dsb2JhbElkOm0oKSxwYXJlbnRHbG9iYWxJZDpvLGFzc2V0TmFtZTpzLmFzc2V0TmFtZSxhc3NldEhhc2g6cy5wYXJ0c1swXS5wYXJ0SGFzaCxmbGFnczpbXX0pOnUuZ2V0TG9nZ2VyKHRoaXMpLmVycm9yKGBTa2lwcGluZyBhc3NldCAke3MuYXNzZXROYW1lfS4gSXQgZG9lcyBub3QgaGF2ZSBleGFjdGx5IG9uZSBwYXJ0LCBzbyB3ZSBjYW5ub3QgbWFwIGl0IHRvIGEgZmVhdHVyZS5gKX1yZXR1cm4gdH1fY3JlYXRlRWRpdHNSZXN1bHQoZSl7Y29uc3QgdD1lLmRhdGEse2xheWVySWQ6c309dGhpcy5sYXllcixyPVtdO2xldCBhPW51bGw7aWYoQXJyYXkuaXNBcnJheSh0KSlmb3IoY29uc3QgbiBvZiB0KXIucHVzaCh7aWQ6bi5pZCxlZGl0ZWRGZWF0dXJlczpuLmVkaXRlZEZlYXR1cmVzfSksbi5pZD09PXMmJihhPXthZGRSZXN1bHRzOm4uYWRkUmVzdWx0cz8/W10sdXBkYXRlUmVzdWx0czpuLnVwZGF0ZVJlc3VsdHM/P1tdLGRlbGV0ZVJlc3VsdHM6bi5kZWxldGVSZXN1bHRzPz9bXSxhdHRhY2htZW50czpuLmF0dGFjaG1lbnRzLGVkaXRNb21lbnQ6bi5lZGl0TW9tZW50fSk7ZWxzZSBhPXQ7Y29uc3QgaT1JKGEpO2lmKHIubGVuZ3RoPjApe2kuZWRpdGVkRmVhdHVyZVJlc3VsdHM9W107Zm9yKGNvbnN0IGUgb2Ygcil7Y29uc3R7ZWRpdGVkRmVhdHVyZXM6dH09ZSxzPXQ/LnNwYXRpYWxSZWZlcmVuY2U/bmV3IHEodC5zcGF0aWFsUmVmZXJlbmNlKTpudWxsO2kuZWRpdGVkRmVhdHVyZVJlc3VsdHMucHVzaCh7bGF5ZXJJZDplLmlkLGVkaXRlZEZlYXR1cmVzOngodCxzKX0pfX1yZXR1cm4gaX1fY3JlYXRlQXR0YWNobWVudEVycm9yUmVzdWx0KGUsdCl7Y29uc3Qgcz10LmRldGFpbHMubWVzc2FnZXM/LlswXXx8dC5tZXNzYWdlLHI9dC5kZXRhaWxzLmh0dHBTdGF0dXN8fHQuZGV0YWlscy5tZXNzYWdlQ29kZTtyZXR1cm57b2JqZWN0SWQ6ZSxnbG9iYWxJZDpudWxsLGVycm9yOm5ldyBpKFwiZmVhdHVyZS1sYXllci1zb3VyY2U6YXR0YWNobWVudC1mYWlsdXJlXCIscyx7Y29kZTpyfSl9fV9nZXRGb3JtRGF0YUZvckF0dGFjaG1lbnQoZSx0KXtjb25zdCBzPWUgaW5zdGFuY2VvZiBGb3JtRGF0YT9lOmUmJmUuZWxlbWVudHM/bmV3IEZvcm1EYXRhKGUpOm51bGw7aWYocylmb3IoY29uc3QgciBpbiB0KXtjb25zdCBlPXRbcl07bnVsbCE9ZSYmKHMuc2V0P3Muc2V0KHIsZSk6cy5hcHBlbmQocixlKSl9cmV0dXJuIHN9X2dldExheWVyUmVxdWVzdE9wdGlvbnMoZT17fSl7Y29uc3R7bGF5ZXI6dCxsYXllcjp7cGFyc2VkVXJsOnMsZ2RiVmVyc2lvbjpyfX09dGhpcztyZXR1cm57Li4uZSxxdWVyeTp7Z2RiVmVyc2lvbjpyLGxheWVyOlwiZHluYW1pY0RhdGFTb3VyY2VcImluIHQmJnQuZHluYW1pY0RhdGFTb3VyY2U/SlNPTi5zdHJpbmdpZnkoe3NvdXJjZTp0LmR5bmFtaWNEYXRhU291cmNlfSk6dm9pZCAwLC4uLnMucXVlcnksZjpcImpzb25cIiwuLi50aGlzLl9jcmVhdGVSZXF1ZXN0UXVlcnlPcHRpb25zKGUpfSxyZXNwb25zZVR5cGU6XCJqc29uXCJ9fWFzeW5jIF9hcmVBbGxBc3NldHNBbHJlYWR5TWFwcGVkKGUpe2NvbnN0e2xheWVyOnR9PXRoaXMse2dsb2JhbElkRmllbGQ6cyxwYXJzZWRVcmw6YX09dCxpPVwiaW5mb0ZvcjNEXCJpbiB0P3QuaW5mb0ZvcjNEOm51bGw7aWYobnVsbD09aXx8bnVsbD09cylyZXR1cm4hMTtjb25zdCBuPU4oaSk7aWYobnVsbD09bilyZXR1cm4hMTtjb25zdCBvPWgoYS5wYXRoLGAuLi8ke24uaWR9YCksdT1uZXcgQXJyYXk7Zm9yKGNvbnN0IHIgb2YgZSl7aWYoIShyLmdlb21ldHJ5Lm1ldGFkYXRhLmdldEV4dGVybmFsU291cmNlc09uU2VydmljZShhKS5sZW5ndGg+MCkpcmV0dXJuITE7dS5wdXNoKHIpfWNvbnN0IGw9dS5tYXAoKGU9PmUuZ2V0QXR0cmlidXRlKHMpKSkuZmlsdGVyKHIpO2lmKDA9PT1sLmxlbmd0aClyZXR1cm4hMTtjb25zdHthc3NldE1hcEZpZWxkUm9sZXM6e3BhcmVudEdsb2JhbElkOmMsYXNzZXRIYXNoOmR9fT1pLHA9bmV3IEQoe3doZXJlOmAke2N9IElOICgke2wubWFwKChlPT5gJyR7ZX0nYCkpfSlgLG91dEZpZWxkczpbZCxjXSxyZXR1cm5HZW9tZXRyeTohMX0pLHk9YXdhaXQgVShvLHApLHtmZWF0dXJlczptfT15O3JldHVybiAwIT09bS5sZW5ndGgmJiF1LnNvbWUoKGU9Pntjb25zdCB0PWUuZ2V0QXR0cmlidXRlKHMpO2lmKCF0KXJldHVybiEwO2NvbnN0e21ldGFkYXRhOnJ9PWUuZ2VvbWV0cnksaT1tLmZpbHRlcigoZT0+ZS5nZXRBdHRyaWJ1dGUoYyk9PT10KSk7aWYoMD09PWkubGVuZ3RoKXJldHVybiEwO2NvbnN0IG49aS5tYXAoKGU9PmUuZ2V0QXR0cmlidXRlKGQpKSk7cmV0dXJuIHIuZ2V0RXh0ZXJuYWxTb3VyY2VzT25TZXJ2aWNlKGEpLmZsYXRNYXAoKCh7c291cmNlOmV9KT0+ZS5hc3NldHMuZmxhdE1hcCgoZT0+ZS5wYXJ0cy5tYXAoKGU9PmUucGFydEhhc2gpKSkpKSkuc29tZSgoZT0+bi5ldmVyeSgodD0+ZSE9PXQpKSkpfSkpfX07ZShbZigpXSxHLnByb3RvdHlwZSxcInR5cGVcIix2b2lkIDApLGUoW2Yoe2NvbnN0cnVjdE9ubHk6ITB9KV0sRy5wcm90b3R5cGUsXCJsYXllclwiLHZvaWQgMCksZShbZih7Y29uc3RydWN0T25seTohMH0pXSxHLnByb3RvdHlwZSxcInN1cHBvcnRlZFNvdXJjZVR5cGVzXCIsdm9pZCAwKSxlKFtmKHtyZWFkT25seTohMH0pXSxHLnByb3RvdHlwZSxcInF1ZXJ5VGFza1wiLG51bGwpLEc9ZShbZyhcImVzcmkubGF5ZXJzLmdyYXBoaWNzLnNvdXJjZXMuRmVhdHVyZUxheWVyU291cmNlXCIpXSxHKTtjb25zdCBIPTFlMztleHBvcnR7RyBhcyBkZWZhdWx0fTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjMzL2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnQgaGFzIGZyb21cIi4uLy4uLy4uLy4uL2NvcmUvaGFzLmpzXCI7aW1wb3J0e2Nsb25lIGFzIHR9ZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9sYW5nLmpzXCI7aW1wb3J0e3F1ZXJ5Qmluc0NhcGFiaWxpdGllcyBhcyBzLHF1ZXJ5Q2FwYWJpbGl0aWVzIGFzIHJ9ZnJvbVwiLi4vLi4vZGF0YS9RdWVyeUVuZ2luZUNhcGFiaWxpdGllcy5qc1wiO2ltcG9ydHtkZWZhdWx0UG9pbnRTeW1ib2xKU09OIGFzIGUsZGVmYXVsdFBvbHlsaW5lU3ltYm9sSlNPTiBhcyBwLGRlZmF1bHRQb2x5Z29uU3ltYm9sSlNPTiBhcyBvfWZyb21cIi4uLy4uLy4uLy4uL3N5bWJvbHMvc3VwcG9ydC9kZWZhdWx0c0pTT04uanNcIjtmdW5jdGlvbiB1KHQpe3JldHVybntyZW5kZXJlcjp7dHlwZTpcInNpbXBsZVwiLHN5bWJvbDpcImVzcmlHZW9tZXRyeVBvaW50XCI9PT10fHxcImVzcmlHZW9tZXRyeU11bHRpcG9pbnRcIj09PXQ/ZTpcImVzcmlHZW9tZXRyeVBvbHlsaW5lXCI9PT10P3A6b319fWNvbnN0IG49L15bXyRhLXpBLVpdW18kYS16QS1aMC05XSokLztsZXQgaT0xO2Z1bmN0aW9uIGEodCxzKXtpZihoYXMoXCJlc3JpLWNzcC1yZXN0cmljdGlvbnNcIikpcmV0dXJuKCk9Pih7W3NdOm51bGwsLi4udH0pO3RyeXtsZXQgcj1gdGhpcyR7YyhzKX0gPSBudWxsO2A7Zm9yKGNvbnN0IHMgaW4gdCl7cis9YHRoaXMke2Mocyl9ID0gJHtKU09OLnN0cmluZ2lmeSh0W3NdKX07YH1jb25zdCBlPW5ldyBGdW5jdGlvbihgXFxuICAgICAgcmV0dXJuIGNsYXNzIEF0dHJpYnV0ZXNDbGFzcyQke2krK30ge1xcbiAgICAgICAgY29uc3RydWN0b3IoKSB7XFxuICAgICAgICAgICR7cn07XFxuICAgICAgICB9XFxuICAgICAgfVxcbiAgICBgKSgpO3JldHVybigpPT5uZXcgZX1jYXRjaChyKXtyZXR1cm4oKT0+KHtbc106bnVsbCwuLi50fSl9fWZ1bmN0aW9uIGModCl7cmV0dXJuIG4udGVzdCh0KT9gLiR7dH1gOmBbXCIke3R9XCJdYH1mdW5jdGlvbiBsKHM9e30pe3JldHVyblt7bmFtZTpcIk5ldyBGZWF0dXJlXCIsZGVzY3JpcHRpb246XCJcIixwcm90b3R5cGU6e2F0dHJpYnV0ZXM6dChzKX19XX1mdW5jdGlvbiB5KHQsZSl7cmV0dXJue2FuYWx5dGljczp7c3VwcG9ydHNDYWNoZUhpbnQ6ITF9LGF0dGFjaG1lbnQ6bnVsbCxkYXRhOntpc1ZlcnNpb25lZDohMSxpc0JyYW5jaFZlcnNpb25lZDohMSxzdXBwb3J0c0F0dGFjaG1lbnQ6ITEsc3VwcG9ydHNNOiExLHN1cHBvcnRzWjp0fSxtZXRhZGF0YTp7c3VwcG9ydHNBZHZhbmNlZEZpZWxkUHJvcGVydGllczohMX0sb3BlcmF0aW9uczp7c3VwcG9ydHNDYWxjdWxhdGU6ITEsc3VwcG9ydHNUcnVuY2F0ZTohMSxzdXBwb3J0c1ZhbGlkYXRlU3FsOiExLHN1cHBvcnRzQWRkOmUsc3VwcG9ydHNEZWxldGU6ZSxzdXBwb3J0c0VkaXRpbmc6ZSxzdXBwb3J0c0NoYW5nZVRyYWNraW5nOiExLHN1cHBvcnRzUXVlcnk6ITAsc3VwcG9ydHNRdWVyeUJpbnM6ITAsc3VwcG9ydHNRdWVyeUFuYWx5dGljczohMSxzdXBwb3J0c1F1ZXJ5QXR0YWNobWVudHM6ITEsc3VwcG9ydHNRdWVyeVRvcEZlYXR1cmVzOiExLHN1cHBvcnRzUmVzaXplQXR0YWNobWVudHM6ITEsc3VwcG9ydHNTeW5jOiExLHN1cHBvcnRzVXBkYXRlOmUsc3VwcG9ydHNFeGNlZWRzTGltaXRTdGF0aXN0aWNzOiEwLHN1cHBvcnRzQXN5bmNDb252ZXJ0M0Q6ITF9LHF1ZXJ5OnIscXVlcnlSZWxhdGVkOntzdXBwb3J0c0NvdW50OiEwLHN1cHBvcnRzT3JkZXJCeTohMCxzdXBwb3J0c1BhZ2luYXRpb246ITAsc3VwcG9ydHNDYWNoZUhpbnQ6ITF9LHF1ZXJ5VG9wRmVhdHVyZXM6e3N1cHBvcnRzQ2FjaGVIaW50OiExfSxxdWVyeUF0dHJpYnV0ZUJpbnM6cyxlZGl0aW5nOntzdXBwb3J0c0dlb21ldHJ5VXBkYXRlOmUsc3VwcG9ydHNHbG9iYWxJZDohMSxzdXBwb3J0c1JldHVyblNlcnZpY2VFZGl0c0luU291cmNlU3BhdGlhbFJlZmVyZW5jZTohMSxzdXBwb3J0c1JvbGxiYWNrT25GYWlsdXJlOiExLHN1cHBvcnRzVXBkYXRlV2l0aG91dE06ITEsc3VwcG9ydHNVcGxvYWRXaXRoSXRlbUlkOiExLHN1cHBvcnRzRGVsZXRlQnlBbm9ueW1vdXM6ITEsc3VwcG9ydHNEZWxldGVCeU90aGVyczohMSxzdXBwb3J0c1VwZGF0ZUJ5QW5vbnltb3VzOiExLHN1cHBvcnRzVXBkYXRlQnlPdGhlcnM6ITEsc3VwcG9ydHNBc3luY0FwcGx5RWRpdHM6ITEsekRlZmF1bHQ6dm9pZCAwfX19ZXhwb3J0e3kgYXMgY3JlYXRlQ2FwYWJpbGl0aWVzLGEgYXMgY3JlYXRlRGVmYXVsdEF0dHJpYnV0ZXNGdW5jdGlvbixsIGFzIGNyZWF0ZURlZmF1bHRUZW1wbGF0ZSx1IGFzIGNyZWF0ZURyYXdpbmdJbmZvfTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==