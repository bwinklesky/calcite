export const __webpack_id__ = "vendors-node_modules_arcgis_core_layers_support_I3SIndexInfo_js-node_modules_arcgis_core_view-9c2f96";
export const __webpack_ids__ = ["vendors-node_modules_arcgis_core_layers_support_I3SIndexInfo_js-node_modules_arcgis_core_view-9c2f96"];
export const __webpack_modules__ = {

/***/ "./node_modules/@arcgis/core/layers/support/I3SIndexInfo.js":
/*!******************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/support/I3SIndexInfo.js ***!
  \******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   fetchIndexInfo: () => (/* binding */ r)
/* harmony export */ });
/* harmony import */ var _request_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../request.js */ "./node_modules/@arcgis/core/request.js");
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
async function r(r,n,t,s,a,i,l){let d=null;if(null!=t){const o=`${r}/nodepages/`,n=o+Math.floor(t.rootIndex/t.nodesPerPage);try{return{type:"page",rootPage:(await (0,_request_js__WEBPACK_IMPORTED_MODULE_0__["default"])(n,{query:{f:"json",...s,token:a},responseType:"json",signal:l})).data,rootIndex:t.rootIndex,pageSize:t.nodesPerPage,lodMetric:t.lodSelectionMetricType,urlPrefix:o}}catch(g){null!=i&&i.warn("#fetchIndexInfo()","Failed to load root node page. Falling back to node documents.",n,g),d=g}}if(!n)return null;const p=n?.split("/").pop(),c=`${r}/nodes/`,u=c+p;try{return{type:"node",rootNode:(await (0,_request_js__WEBPACK_IMPORTED_MODULE_0__["default"])(u,{query:{f:"json",...s,token:a},responseType:"json",signal:l})).data,urlPrefix:c}}catch(g){throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_1__["default"]("sceneservice:root-node-missing","Root node missing.",{pageError:d,nodeError:g,url:u})}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/analysis/AnalysisView3D.js":
/*!***********************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/analysis/AnalysisView3D.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   AnalysisView3D: () => (/* binding */ s)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_handleUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/handleUtils.js */ "./node_modules/@arcgis/core/core/handleUtils.js");
/* harmony import */ var _core_Promise_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/Promise.js */ "./node_modules/@arcgis/core/core/Promise.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_RandomLCG_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../core/RandomLCG.js */ "./node_modules/@arcgis/core/core/RandomLCG.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
const s=s=>{let n=class extends(_core_Promise_js__WEBPACK_IMPORTED_MODULE_2__["default"].EsriPromiseMixin(s)){constructor(){super(...arguments),this.parent=null,this._userInteractive=!1,this._interactiveViewModelCount=0}get interactive(){return this._interactiveViewModelCount>0||this._userInteractive}set interactive(e){this._userInteractive=e}get updating(){return!1}get visible(){return null==this.parent||this.parent.visible&&!this.parent.suspended}set visible(e){this._overrideIfSome("visible",e)}forceInteractive(){return this._interactiveViewModelCount++,(0,_core_handleUtils_js__WEBPACK_IMPORTED_MODULE_1__.makeHandle)((()=>this._interactiveViewModelCount--))}};return (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)({constructOnly:!0})],n.prototype,"parent",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)({constructOnly:!0})],n.prototype,"view",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)({type:Boolean})],n.prototype,"interactive",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)()],n.prototype,"_userInteractive",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)({readOnly:!0})],n.prototype,"updating",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)()],n.prototype,"visible",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)()],n.prototype,"_interactiveViewModelCount",void 0),n=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__.subclass)("esri.views.3d.analysis.AnalysisView3D")],n),n};


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/analysis/Slice/SliceController.js":
/*!******************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/analysis/Slice/SliceController.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   SliceController: () => (/* binding */ f)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _analysis_SlicePlane_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../analysis/SlicePlane.js */ "./node_modules/@arcgis/core/analysis/SlicePlane.js");
/* harmony import */ var _core_Accessor_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core/Accessor.js */ "./node_modules/@arcgis/core/core/Accessor.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../core/reactiveUtils.js */ "./node_modules/@arcgis/core/core/reactiveUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_RandomLCG_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../core/RandomLCG.js */ "./node_modules/@arcgis/core/core/RandomLCG.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _chunks_boundedPlane_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../chunks/boundedPlane.js */ "./node_modules/@arcgis/core/chunks/boundedPlane.js");
/* harmony import */ var _layers_Layer_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../layers/Layer.js */ "./node_modules/@arcgis/core/layers/Layer.js");
/* harmony import */ var _layers_buildingSublayers_BuildingComponentSublayer_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../layers/buildingSublayers/BuildingComponentSublayer.js */ "./node_modules/@arcgis/core/layers/buildingSublayers/BuildingComponentSublayer.js");
/* harmony import */ var _sliceToolUtils_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./sliceToolUtils.js */ "./node_modules/@arcgis/core/views/3d/analysis/Slice/sliceToolUtils.js");
/* harmony import */ var _support_projectionUtils_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../support/projectionUtils.js */ "./node_modules/@arcgis/core/views/3d/analysis/support/projectionUtils.js");
/* harmony import */ var _terrain_isTerrainSurfaceLayer_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../terrain/isTerrainSurfaceLayer.js */ "./node_modules/@arcgis/core/views/3d/terrain/isTerrainSurfaceLayer.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
let f=class extends _core_Accessor_js__WEBPACK_IMPORTED_MODULE_2__["default"]{constructor(e){super(e),this._internalChange=!1,this._currentSlicePlane=null}initialize(){this.addHandles(this.analysis.excludedLayers.on("before-add",(e=>{const i=e.item;null!=i&&(i instanceof _layers_Layer_js__WEBPACK_IMPORTED_MODULE_10__["default"]||i instanceof _layers_buildingSublayers_BuildingComponentSublayer_js__WEBPACK_IMPORTED_MODULE_11__["default"])?i instanceof _layers_Layer_js__WEBPACK_IMPORTED_MODULE_10__["default"]&&(0,_terrain_isTerrainSurfaceLayer_js__WEBPACK_IMPORTED_MODULE_14__.isTerrainSurfaceLayer)(i)?(_core_Logger_js__WEBPACK_IMPORTED_MODULE_3__["default"].getLogger(this).error("excludedLayers",`Layer '${i.title}, id:${i.id}' of type '${i.type}' can not be individually excluded from slicing. Use 'excludeGroundSurface' instead.`),e.preventDefault()):this.analysis.excludedLayers.includes(i)&&e.preventDefault():(_core_Logger_js__WEBPACK_IMPORTED_MODULE_3__["default"].getLogger(this).error("excludedLayers","Invalid layer type, layer must derive from Layer or BuildingComponentSublayer"),e.preventDefault())}))),S(this.view,this),this.addHandles([(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_4__.watch)((()=>this.analysisViewData.plane),(()=>{this._internalChange||this._updateSlicePlaneFromBoundedPlane(),this._updateLayerViews()}),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_4__.sync),(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_4__.watch)((()=>this.analysis.excludeGroundSurface),(()=>this._updateLayerViews()),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_4__.sync),this.analysis.excludedLayers.on("change",(()=>this._updateLayerViews())),(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_4__.watch)((()=>[this.analysisViewData.active,this.analysisViewData.visible]),(()=>{this._updateActiveController(),this._updateViewSlicePlane(),this._updateViewSlicePlaneDecoration()}),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_4__.sync),(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_4__.watch)((()=>this._allLayerAndSubLayerViews),(()=>this._updateLayerViews()))]),this.addHandles([(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_4__.watch)((()=>this.analysis.shape),(()=>{this._internalChange||(this._updateBoundedPlaneFromSlicePlane(),this._updateViewSlicePlane())}),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_4__.sync),(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_4__.watch)((()=>"web-scene"!==this.analysis.origin?.type),(()=>this._updateViewSlicePlaneDecoration()),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_4__.sync)],"analysis"),this._updateActiveController(),this._updateBoundedPlaneFromSlicePlane(),this._updateViewSlicePlane(),this._updateViewSlicePlaneDecoration()}destroy(){this.analysisViewData.active&&(this.analysisViewData.active=!1,this.view.slice.plane=null,this._updateActiveController(),this._updateViewSlicePlane()),L(this.view,this),this.set("view",null)}get _allLayerAndSubLayerViews(){const e=this.view.allLayerViews.items;return e.concat(e.filter(_sliceToolUtils_js__WEBPACK_IMPORTED_MODULE_12__.isIBuildingSceneLayerView3D).flatMap((({sublayerViews:e})=>e.items)))}_updateBoundedPlaneFromSlicePlane(){const e=this.analysis.shape,i=this._currentSlicePlane;if(null==i&&null==e||null!=i&&null!=e&&e.equals(i))return;let t=null,l=null;if(null!=e?.position){const i=e.position.spatialReference,s=(0,_sliceToolUtils_js__WEBPACK_IMPORTED_MODULE_12__.projectAndElevationAlignShape)(e,this.view);null==s&&(0,_support_projectionUtils_js__WEBPACK_IMPORTED_MODULE_13__.logFailedGeometryProjectionError)(this.analysis,i,_core_Logger_js__WEBPACK_IMPORTED_MODULE_3__["default"].getLogger(this)),t=(0,_sliceToolUtils_js__WEBPACK_IMPORTED_MODULE_12__.projectedShapeToPlane)(s,this.view,{tiltEnabled:this.analysis.tiltEnabled},(0,_chunks_boundedPlane_js__WEBPACK_IMPORTED_MODULE_9__.d)()),null!=t&&(l={heading:e.heading,tilt:e.tilt,position:e.position,width:e.width,height:e.height})}this._currentSlicePlane=l,this._internalChange=!0,this.analysisViewData.plane=t,this._internalChange=!1}_updateSlicePlaneFromBoundedPlane(){const e=this.analysisViewData.plane,t=(0,_sliceToolUtils_js__WEBPACK_IMPORTED_MODULE_12__.planeToShape)(e,this.view,this.view.spatialReference,new _analysis_SlicePlane_js__WEBPACK_IMPORTED_MODULE_1__["default"]);let a=null;null!=t&&(a={heading:t.heading,tilt:t.tilt,position:t.position,width:t.width,height:t.height}),this._currentSlicePlane=a,this._internalChange=!0,this.analysis.shape=t,this._internalChange=!1,this._updateViewSlicePlane()}_updateActiveController(){if(g)return;const e=b(this.view);if(!e)return;if(this.analysisViewData.active)null!=e.activeController&&e.activeController!==this?(g=!0,e.activeController.analysisViewData.active=!1,g=!1):null!=e.activeController&&e.activeController,this._updateLayerViews(),e.activeController=this;else{if(null!=e.activeController&&e.activeController!==this)return;null!=e.activeController&&e.activeController===this&&(e.activeController=null,this._updateLayerViews())}}_updateViewSlicePlane(){V(this.view)}_updateViewSlicePlaneDecoration(){_(this.view)}_updateLayerViews(){const e=null!=this.analysisViewData.plane&&this.analysisViewData.visible&&this.analysisViewData.active,i=[],t=e=>{"layers"in e?e.layers.forEach(t):i.push(e)};this.analysis.excludedLayers.forEach(t),this.view.allLayerViews.forEach((t=>{t.destroyed||("slicePlaneEnabled"in t&&(t.slicePlaneEnabled=e&&!i.includes(t.layer)),"sublayerViews"in t&&t.sublayerViews.forEach((t=>{t.slicePlaneEnabled=e&&!i.includes(t.sublayer)})))})),null!=this.view.basemapTerrain&&(this.view.basemapTerrain.slicePlaneEnabled=e&&!this.analysis.excludeGroundSurface)}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],f.prototype,"view",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],f.prototype,"analysis",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],f.prototype,"analysisViewData",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],f.prototype,"_allLayerAndSubLayerViews",null),f=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_8__.subclass)("esri.views.3d.analysis.Slice.SliceController")],f);const m=new Map;let g=!1;function V(e){const i=b(e),t=i?.activeController;null!=t?.analysisViewData.plane&&t.analysisViewData.visible?e.slice.plane=t.analysisViewData.plane:e.slice.plane=null}function _(e){const i=b(e),t=i?.activeController;e.slice.isDecoration="web-scene"!==t?.analysis.origin?.type}function S(e,i){m.has(e)||m.set(e,{all:[],activeController:null}),m.get(e)?.all.push(i)}function b(e){return m.get(e)}function L(e,i){if(!m.has(e))throw new Error("view expected in global slice register");const t=m.get(e),a=t?.all.lastIndexOf(i)??-1;if(!t||-1===a)throw new Error("controller expected in global slice register");t.all.splice(a,1),0===t.all.length&&m.delete(e)}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/analysis/Slice/SliceTool.js":
/*!************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/analysis/Slice/SliceTool.js ***!
  \************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ bt)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _analysis_SlicePlane_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../analysis/SlicePlane.js */ "./node_modules/@arcgis/core/analysis/SlicePlane.js");
/* harmony import */ var _core_clock_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core/clock.js */ "./node_modules/@arcgis/core/core/clock.js");
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../core/maybe.js */ "./node_modules/@arcgis/core/core/maybe.js");
/* harmony import */ var _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../core/reactiveUtils.js */ "./node_modules/@arcgis/core/core/reactiveUtils.js");
/* harmony import */ var _core_scheduling_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../core/scheduling.js */ "./node_modules/@arcgis/core/core/scheduling.js");
/* harmony import */ var _core_screenUtils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../core/screenUtils.js */ "./node_modules/@arcgis/core/core/screenUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_RandomLCG_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../core/RandomLCG.js */ "./node_modules/@arcgis/core/core/RandomLCG.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../../core/libs/gl-matrix-2/math/mat4.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/math/mat4.js");
/* harmony import */ var _chunks_vec32_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../../chunks/vec32.js */ "./node_modules/@arcgis/core/chunks/vec32.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../../core/libs/gl-matrix-2/factories/vec3f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/vec3f64.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_vec4f64_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../../core/libs/gl-matrix-2/factories/vec4f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/vec4f64.js");
/* harmony import */ var _chunks_boundedPlane_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../../../chunks/boundedPlane.js */ "./node_modules/@arcgis/core/chunks/boundedPlane.js");
/* harmony import */ var _geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../../../geometry/support/plane.js */ "./node_modules/@arcgis/core/geometry/support/plane.js");
/* harmony import */ var _geometry_support_ray_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../../../geometry/support/ray.js */ "./node_modules/@arcgis/core/geometry/support/ray.js");
/* harmony import */ var _geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../../../geometry/support/vectorStacks.js */ "./node_modules/@arcgis/core/geometry/support/vectorStacks.js");
/* harmony import */ var _images_Factory_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../images/Factory.js */ "./node_modules/@arcgis/core/views/3d/analysis/images/Factory.js");
/* harmony import */ var _ResizeManipulator_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./ResizeManipulator.js */ "./node_modules/@arcgis/core/views/3d/analysis/Slice/ResizeManipulator.js");
/* harmony import */ var _RotateManipulator_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./RotateManipulator.js */ "./node_modules/@arcgis/core/views/3d/analysis/Slice/RotateManipulator.js");
/* harmony import */ var _settings_js__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./settings.js */ "./node_modules/@arcgis/core/views/3d/analysis/Slice/settings.js");
/* harmony import */ var _ShiftManipulator_js__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ./ShiftManipulator.js */ "./node_modules/@arcgis/core/views/3d/analysis/Slice/ShiftManipulator.js");
/* harmony import */ var _sliceToolConfig_js__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ./sliceToolConfig.js */ "./node_modules/@arcgis/core/views/3d/analysis/Slice/sliceToolConfig.js");
/* harmony import */ var _sliceToolUtils_js__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ./sliceToolUtils.js */ "./node_modules/@arcgis/core/views/3d/analysis/Slice/sliceToolUtils.js");
/* harmony import */ var _interactive_manipulatorUtils_js__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ../../interactive/manipulatorUtils.js */ "./node_modules/@arcgis/core/views/3d/interactive/manipulatorUtils.js");
/* harmony import */ var _interactive_editingTools_dragEventPipeline3D_js__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ../../interactive/editingTools/dragEventPipeline3D.js */ "./node_modules/@arcgis/core/views/3d/interactive/editingTools/dragEventPipeline3D.js");
/* harmony import */ var _support_geometryUtils_ray_js__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ../../support/geometryUtils/ray.js */ "./node_modules/@arcgis/core/views/3d/support/geometryUtils/ray.js");
/* harmony import */ var _interactive_AnalysisToolBase_js__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ../../../interactive/AnalysisToolBase.js */ "./node_modules/@arcgis/core/views/interactive/AnalysisToolBase.js");
/* harmony import */ var _interactive_dragEventPipeline_js__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ../../../interactive/dragEventPipeline.js */ "./node_modules/@arcgis/core/views/interactive/dragEventPipeline.js");
/* harmony import */ var _interactive_ToolIntersector_js__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! ../../../interactive/ToolIntersector.js */ "./node_modules/@arcgis/core/views/interactive/ToolIntersector.js");
/* harmony import */ var _support_screenUtils_js__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! ../../../support/screenUtils.js */ "./node_modules/@arcgis/core/views/support/screenUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
var Vt;let bt=class extends _interactive_AnalysisToolBase_js__WEBPACK_IMPORTED_MODULE_30__.AnalysisToolBase{static{Vt=this}constructor(t){super(t),this._clock=_core_clock_js__WEBPACK_IMPORTED_MODULE_2__.clock,this._previewPlaneOpacity=1,this.removeIncompleteOnCancel=!1,this._mode="none",this.shiftManipulator=null,this.rotateHeadingManipulator=null,this.rotateTiltManipulator=null,this.resizeManipulators=null,this._frameTask=null,this._pointerMoveTimerMs=_sliceToolConfig_js__WEBPACK_IMPORTED_MODULE_25__.pointerMoveTimerMs,this._prevPointerMoveTimeout=null,this._previewPlaneGridVisualElement=null,this._previewPlaneOutlineVisualElement=null,this._startPlane=(0,_chunks_boundedPlane_js__WEBPACK_IMPORTED_MODULE_16__.d)(),this._previewPlane=null,this._activeKeyModifiers={},this._lastCursorPosition=(0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_6__.createScreenPoint)(),this._resizeHandles=[{direction:[1,0]},{direction:[1,1]},{direction:[0,1]},{direction:[-1,1]},{direction:[-1,0]},{direction:[-1,-1]},{direction:[0,-1]},{direction:[1,-1]}],this._intersector=(0,_interactive_ToolIntersector_js__WEBPACK_IMPORTED_MODULE_32__.newToolIntersector)(t.view.state.viewingMode)}initialize(){if(null==this.analysis)throw new Error("SliceTool requires valid analysis, but null was provided.");const t=t=>{this._updateManipulatorsInteractive(t),t.grabbing||(null!=this.analysisViewData.plane&&(0,_chunks_boundedPlane_js__WEBPACK_IMPORTED_MODULE_16__.a)(this.analysisViewData.plane,this._startPlane),this.inputState=null)},e=new _ShiftManipulator_js__WEBPACK_IMPORTED_MODULE_24__.ShiftManipulator(this.view,_ShiftManipulator_js__WEBPACK_IMPORTED_MODULE_24__.OffsetMode.CENTER_ON_ARROW);this.shiftManipulator=e,this.manipulators.add(e),this.addHandles([this._createShiftDragPipeline(e),e.events.on("grab-changed",(i=>{this._onShiftGrab(i),t(e)}))]);const i=!this.view.stage?.renderView.renderingContext.driverTest.svgPremultipliesAlpha.result,a=new _RotateManipulator_js__WEBPACK_IMPORTED_MODULE_22__.RotateManipulator(this.view,((t,e)=>(0,_images_Factory_js__WEBPACK_IMPORTED_MODULE_20__.getRotateHeadingTexture)(this.view.stage.textures,{accentColor:t,contrastColor:e,preMultiplyAlpha:i})));this.rotateHeadingManipulator=a,this.manipulators.add(a),this.addHandles([this._createRotateHeadingDragPipeline(a),a.events.on("grab-changed",(e=>{this._onRotateHeadingGrab(e),t(a)}))]);const s=new _RotateManipulator_js__WEBPACK_IMPORTED_MODULE_22__.RotateManipulator(this.view,((t,e)=>(0,_images_Factory_js__WEBPACK_IMPORTED_MODULE_20__.getTiltRotateTexture)(this.view.stage.textures,{accentColor:t,contrastColor:e,preMultiplyAlpha:i})));this.rotateTiltManipulator=s,this.manipulators.add(s),this.addHandles([this._createRotateTiltDragPipeline(s),s.events.on("grab-changed",(e=>{this._onRotateTiltGrab(e),t(s)}))]),this.resizeManipulators=this._resizeHandles.map(((e,i)=>{const a=new _ResizeManipulator_js__WEBPACK_IMPORTED_MODULE_21__.ResizeManipulator(this.view,e);return this.addHandles([this._createResizeDragPipeline(a),a.events.on("grab-changed",(e=>{this._onResizeGrab(e,i),t(a)}))]),a})),this.manipulators.addMany(this.resizeManipulators),this._previewPlaneGridVisualElement=(0,_sliceToolUtils_js__WEBPACK_IMPORTED_MODULE_26__.createGridVisualElement)(this.view),this._previewPlaneOutlineVisualElement=(0,_sliceToolUtils_js__WEBPACK_IMPORTED_MODULE_26__.createOutlineVisualElement)(this.view),this._previewPlaneOutlineVisualElement.width=_sliceToolConfig_js__WEBPACK_IMPORTED_MODULE_25__.planePreviewOutlineWidth,this.addHandles((0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_4__.watch)((()=>[this.analysisViewData.plane,this.analysis.tiltEnabled]),(()=>this._updateManipulators()),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_4__.sync)),this.addHandles([(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_4__.when)((()=>"sliced"===this.state),(()=>{this.finishToolCreation(),this.stop()}),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_4__.syncAndInitial),(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_4__.watch)((()=>this.view.state.camera),(()=>this._onCameraChange()))])}destroy(){this._removeFrameTask(),this._clearPointerMoveTimeout(),this._previewPlaneOutlineVisualElement=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_3__.destroyMaybe)(this._previewPlaneOutlineVisualElement),this._previewPlaneGridVisualElement=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_3__.destroyMaybe)(this._previewPlaneGridVisualElement)}get state(){const t=!!this.analysisViewData.plane,e=!!this.inputState;return t?t&&e?"slicing":t&&!e?"sliced":"ready":"ready"}get cursor(){return this.active?this._placingSlicePlane||"exclude"===this.mode?"crosshair":null!=this._creatingPointerId?"grabbing":null:null}set analysis(t){if(null==t)throw new Error("SliceTool requires valid analysis, but null was provided.");this.removeHandles("analysis"),this._set("analysis",t)}get mode(){return this._mode}static{this.disableEngineLayers=!1}get inputState(){return this._get("inputState")}set inputState(t){this._set("inputState",t),this.analysisViewData.showGrid=null!=t&&"resize"===t.type,this._updateMaterials()}get _placingSlicePlane(){return this.active&&!this.inputState&&"place"===this._mode}get _creatingPointerId(){return null!=this.inputState&&"shift"===this.inputState.type?this.inputState.creatingPointerId:null}start(t){this._finishToolCreationIfValid(),this._mode=t,this.active||(this.view.activeTool=this)}stop(){this.active&&(this.view.activeTool=null)}onActivate(){this._finishToolCreationIfValid(),"none"===this._mode&&null==this.analysisViewData.plane&&(this._mode="place")}onDeactivate(){this._mode="none",this._updatePreviewPlane(null)}onShow(){this._updateVisibility(!0)}onHide(){this._updateVisibility(!1)}_updateVisibility(t){this._updateManipulators(),t||this._clearPointerMoveTimeout()}onInputEvent(t){switch(t.type){case"pointer-drag":if(!St(t))return;this._placingSlicePlane?this._onClickPlacePlane(t)&&t.stopPropagation():this._onPointerDrag(t)&&t.stopPropagation();break;case"pointer-move":this._onPointerMove(t);break;case"pointer-up":this._onPointerUp(t)&&t.stopPropagation();break;case"immediate-click":if(!St(t))return;"exclude"===this._mode?t.defer((async()=>{await this._onClickExcludeLayer(t)&&t.stopPropagation()})):this._onClickPlacePlane(t)&&t.stopPropagation();break;case"drag":this.inputState&&t.stopPropagation();break;case"key-down":this._onKeyDown(t)&&t.stopPropagation();break;case"key-up":this._onKeyUp(t)&&t.stopPropagation()}}onEditableChange(){this.analysisViewData.editable=this.internallyEditable}_onPointerDrag(t){const e=this.inputState;if(t.pointerId===this._creatingPointerId&&null!=e&&"shift"===e.type){const i=(0,_support_screenUtils_js__WEBPACK_IMPORTED_MODULE_33__.createScreenPointFromEvent)(t);return this.shiftManipulator.events.emit("drag",{action:e.hasBeenDragged?"update":"start",pointerType:t.pointerType,start:i,screenPoint:i}),e.hasBeenDragged=!0,!0}return!1}_onPointerMove(t){this._lastCursorPosition.x=t.x,this._lastCursorPosition.y=t.y,this._resetPointerMoveTimeout(),"touch"!==t.pointerType&&this._updatePreviewPlane((0,_support_screenUtils_js__WEBPACK_IMPORTED_MODULE_33__.createScreenPointFromEvent)(t),this._activeKeyModifiers)}_onCameraChange(){this._updatePreviewPlane(this._lastCursorPosition,this._activeKeyModifiers),this._updateManipulators()}_onPointerUp(t){if(t.pointerId===this._creatingPointerId&&null!=this.analysisViewData.plane){const e=(0,_support_screenUtils_js__WEBPACK_IMPORTED_MODULE_33__.createScreenPointFromEvent)(t);return this.shiftManipulator.events.emit("drag",{action:"end",start:e,screenPoint:e}),(0,_chunks_boundedPlane_js__WEBPACK_IMPORTED_MODULE_16__.a)(this.analysisViewData.plane,this._startPlane),this.inputState=null,!0}return!1}_onClickPlacePlane(t){if(!this._placingSlicePlane)return!1;const i=(0,_support_screenUtils_js__WEBPACK_IMPORTED_MODULE_33__.createScreenPointFromEvent)(t),a=(0,_chunks_boundedPlane_js__WEBPACK_IMPORTED_MODULE_16__.d)();if(this._pickPlane(i,!1,this._activeKeyModifiers,a)){if("pointer-drag"===t.type){const e=(0,_support_geometryUtils_ray_js__WEBPACK_IMPORTED_MODULE_29__.fromScreenNormalized)(this.view.state.camera,i,xt);this.inputState=kt(e,t.pointerId,a.origin,a)}return (0,_chunks_boundedPlane_js__WEBPACK_IMPORTED_MODULE_16__.a)(a,this._startPlane),this.analysis.shape=(0,_sliceToolUtils_js__WEBPACK_IMPORTED_MODULE_26__.planeToShape)(a,this.view,this.view.spatialReference,new _analysis_SlicePlane_js__WEBPACK_IMPORTED_MODULE_1__["default"]),"pointer-drag"!==t.type&&this.stop(),!0}return!1}async _onClickExcludeLayer(t){if("exclude"!==this.mode)return!1;const e=await this.view.hitTest((0,_support_screenUtils_js__WEBPACK_IMPORTED_MODULE_33__.createScreenPointFromEvent)(t)),i=e.results.at(0);if(i){const t="graphic"===i.type&&i.graphic;if(t){const e=t.sourceLayer||t.layer;e&&this.analysis.excludedLayers.push(e)}}else e.ground.layer?this.analysis.excludedLayers.push(e.ground.layer):this.analysis.excludeGroundSurface=!0;return this.stop(),!0}_onKeyDown(t){return(t.key===_sliceToolConfig_js__WEBPACK_IMPORTED_MODULE_25__.forceVerticalModifier||t.key===_sliceToolConfig_js__WEBPACK_IMPORTED_MODULE_25__.forceHorizontalModifier)&&(this._activeKeyModifiers[t.key]=!0,null!=this._previewPlane&&this._updatePreviewPlane(this._lastCursorPosition,this._activeKeyModifiers),!0)}_onKeyUp(t){return!(t.key!==_sliceToolConfig_js__WEBPACK_IMPORTED_MODULE_25__.forceVerticalModifier&&t.key!==_sliceToolConfig_js__WEBPACK_IMPORTED_MODULE_25__.forceHorizontalModifier||!this._activeKeyModifiers[t.key])&&(delete this._activeKeyModifiers[t.key],null!=this._previewPlane&&this._updatePreviewPlane(this._lastCursorPosition,this._activeKeyModifiers),!0)}_onShiftGrab(t){if("start"!==t.action||null==this.analysisViewData.plane||!t.screenPoint)return;const e=(0,_support_geometryUtils_ray_js__WEBPACK_IMPORTED_MODULE_29__.fromScreenNormalized)(this.view.state.camera,t.screenPoint,xt);(0,_chunks_boundedPlane_js__WEBPACK_IMPORTED_MODULE_16__.a)(this.analysisViewData.plane,this._startPlane),this.inputState=kt(e,null,this.shiftManipulator.renderLocation,this.analysisViewData.plane)}_createShiftDragPipeline(t){return (0,_interactive_dragEventPipeline_js__WEBPACK_IMPORTED_MODULE_31__.createManipulatorDragEventPipeline)(t,((t,e,i)=>{const a=this.inputState;if(null==a||"shift"!==a.type)return;const s=null!=this.analysisViewData.plane?(0,_chunks_boundedPlane_js__WEBPACK_IMPORTED_MODULE_16__.a)(this.analysisViewData.plane,(0,_chunks_boundedPlane_js__WEBPACK_IMPORTED_MODULE_16__.d)()):null;e.next((0,_interactive_editingTools_dragEventPipeline3D_js__WEBPACK_IMPORTED_MODULE_28__.screenToRenderPlane)(this.view,a.shiftPlane)).next(this._shiftDragAdjustSensitivity(a)).next(this._shiftDragUpdatePlane(a)),i.next((()=>{null!=s&&this._updateBoundedPlane(s)}))}))}_shiftDragAdjustSensitivity(t){return e=>{if(null==this.analysisViewData.plane)return null;const i=.001,a=Math.min((1-Math.abs((0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_13__.e)((0,_chunks_boundedPlane_js__WEBPACK_IMPORTED_MODULE_16__.n)(this.analysisViewData.plane),e.ray.direction)/(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_13__.l)(e.ray.direction)))/i,1),s=-(0,_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_17__.signedDistance)(this._startPlane.plane,e.renderEnd),n=-(0,_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_17__.signedDistance)(this._startPlane.plane,t.startPoint);return t.depth=t.depth*(1-a)+s*a-n,e}}_shiftDragUpdatePlane(t){return()=>{if(null==this.analysisViewData.plane)return;const e=(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_13__.c)(_geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_19__.sv3d.get(),this._startPlane.origin),i=(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_13__.c)(_geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_19__.sv3d.get(),(0,_chunks_boundedPlane_js__WEBPACK_IMPORTED_MODULE_16__.n)(this._startPlane));(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_13__.g)(i,i,-t.depth),(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_13__.f)(i,i,e);const a=(0,_chunks_boundedPlane_js__WEBPACK_IMPORTED_MODULE_16__.f)(i,this.analysisViewData.plane.basis1,this.analysisViewData.plane.basis2,(0,_chunks_boundedPlane_js__WEBPACK_IMPORTED_MODULE_16__.d)());this._updateBoundedPlane(a)}}_onRotateHeadingGrab(t){if("start"!==t.action||null==this.analysisViewData.plane||!t.screenPoint)return;const e=(0,_sliceToolUtils_js__WEBPACK_IMPORTED_MODULE_26__.createRotatePlane)(this.analysisViewData.plane,this.view.renderCoordsHelper,_sliceToolUtils_js__WEBPACK_IMPORTED_MODULE_26__.RotationAxis.HEADING,(0,_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_17__.create)()),i=(0,_support_geometryUtils_ray_js__WEBPACK_IMPORTED_MODULE_29__.fromScreenNormalized)(this.view.state.camera,t.screenPoint,xt),a=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_14__.create)();(0,_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_17__.intersectRay)(e,i,a)&&((0,_chunks_boundedPlane_js__WEBPACK_IMPORTED_MODULE_16__.a)(this.analysisViewData.plane,this._startPlane),this.inputState={type:"rotate",rotatePlane:e,startPoint:a})}_createRotateHeadingDragPipeline(t){return (0,_interactive_dragEventPipeline_js__WEBPACK_IMPORTED_MODULE_31__.createManipulatorDragEventPipeline)(t,((t,e,i)=>{const a=this.inputState;if(null==a||"rotate"!==a.type)return;const s=null!=this.analysisViewData.plane?(0,_chunks_boundedPlane_js__WEBPACK_IMPORTED_MODULE_16__.a)(this.analysisViewData.plane,(0,_chunks_boundedPlane_js__WEBPACK_IMPORTED_MODULE_16__.d)()):null;e.next((0,_interactive_editingTools_dragEventPipeline3D_js__WEBPACK_IMPORTED_MODULE_28__.screenToRenderPlane)(this.view,a.rotatePlane)).next(this._rotateDragRenderPlaneToRotate(a)).next(this._rotateDragUpdatePlaneFromRotate()),i.next((()=>{null!=s&&this._updateBoundedPlane(s)}))}))}_onRotateTiltGrab(t){if("start"!==t.action||null==this.analysisViewData.plane||!t.screenPoint)return;const e=(0,_sliceToolUtils_js__WEBPACK_IMPORTED_MODULE_26__.createRotatePlane)(this.analysisViewData.plane,this.view.renderCoordsHelper,_sliceToolUtils_js__WEBPACK_IMPORTED_MODULE_26__.RotationAxis.TILT,(0,_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_17__.create)()),i=(0,_support_geometryUtils_ray_js__WEBPACK_IMPORTED_MODULE_29__.fromScreenNormalized)(this.view.state.camera,t.screenPoint,xt),a=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_14__.create)();(0,_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_17__.intersectRay)(e,i,a)&&((0,_chunks_boundedPlane_js__WEBPACK_IMPORTED_MODULE_16__.a)(this.analysisViewData.plane,this._startPlane),this.inputState={type:"rotate",rotatePlane:e,startPoint:a})}_createRotateTiltDragPipeline(t){return (0,_interactive_dragEventPipeline_js__WEBPACK_IMPORTED_MODULE_31__.createManipulatorDragEventPipeline)(t,((t,e,i)=>{const a=this.inputState;if(null==a||"rotate"!==a.type)return;const s=null!=this.analysisViewData.plane?(0,_chunks_boundedPlane_js__WEBPACK_IMPORTED_MODULE_16__.a)(this.analysisViewData.plane,(0,_chunks_boundedPlane_js__WEBPACK_IMPORTED_MODULE_16__.d)()):null;e.next((0,_interactive_editingTools_dragEventPipeline3D_js__WEBPACK_IMPORTED_MODULE_28__.screenToRenderPlane)(this.view,a.rotatePlane)).next(this._rotateDragRenderPlaneToRotate(a)).next(this._rotateDragUpdatePlaneFromRotate()),i.next((()=>{null!=s&&this._updateBoundedPlane(s)}))}))}_rotateDragRenderPlaneToRotate(t){return e=>{if(null==this.analysisViewData.plane)return null;const i=(0,_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_17__.getNormal)(t.rotatePlane),a=(0,_interactive_manipulatorUtils_js__WEBPACK_IMPORTED_MODULE_27__.calculateInputRotationTransform)(t.startPoint,e.renderEnd,this.analysisViewData.plane.origin,i);return{...e,rotateAxis:i,rotateAngle:a}}}_rotateDragUpdatePlaneFromRotate(){return t=>{if(null==this.analysisViewData.plane)return;const e=(0,_core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_12__.fromRotation)(_geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_19__.sm4d.get(),t.rotateAngle,t.rotateAxis);if(null==e)return;const i=(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_13__.t)(_geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_19__.sv3d.get(),this._startPlane.basis1,e),a=(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_13__.t)(_geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_19__.sv3d.get(),this._startPlane.basis2,e),s=(0,_chunks_boundedPlane_js__WEBPACK_IMPORTED_MODULE_16__.f)(this.analysisViewData.plane.origin,i,a,(0,_chunks_boundedPlane_js__WEBPACK_IMPORTED_MODULE_16__.d)());this._updateBoundedPlane(s)}}_onResizeGrab(t,e){if("start"!==t.action||null==this.analysisViewData.plane||!t.screenPoint)return;const i=(0,_support_geometryUtils_ray_js__WEBPACK_IMPORTED_MODULE_29__.fromScreenNormalized)(this.view.state.camera,t.screenPoint,xt),a=_geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_19__.sv3d.get();(0,_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_17__.intersectRay)(this.analysisViewData.plane.plane,i,a)&&((0,_chunks_boundedPlane_js__WEBPACK_IMPORTED_MODULE_16__.a)(this.analysisViewData.plane,this._startPlane),this.inputState={type:"resize",activeHandleIdx:e,startPoint:(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_14__.clone)(a)})}_createResizeDragPipeline(t){return (0,_interactive_dragEventPipeline_js__WEBPACK_IMPORTED_MODULE_31__.createManipulatorDragEventPipeline)(t,((t,e,i)=>{const a=this.inputState;if(null==a||"resize"!==a.type||null==this.analysisViewData.plane)return;const s=(0,_chunks_boundedPlane_js__WEBPACK_IMPORTED_MODULE_16__.a)(this.analysisViewData.plane,(0,_chunks_boundedPlane_js__WEBPACK_IMPORTED_MODULE_16__.d)());e.next((0,_interactive_editingTools_dragEventPipeline3D_js__WEBPACK_IMPORTED_MODULE_28__.screenToRenderPlane)(this.view,this.analysisViewData.plane.plane)).next(this._resizeDragUpdatePlane(a)),i.next((()=>{this._updateBoundedPlane(s)}))}))}_resizeDragUpdatePlane(t){return e=>{if(null==this.analysisViewData.plane)return;const i=this._resizeHandles[t.activeHandleIdx],a=(0,_sliceToolUtils_js__WEBPACK_IMPORTED_MODULE_26__.resizePlane)(i,t.startPoint,e.renderEnd,this.view.state.camera,this._startPlane,(0,_chunks_boundedPlane_js__WEBPACK_IMPORTED_MODULE_16__.a)(this.analysisViewData.plane));this._updateBoundedPlane(a)}}_updateBoundedPlane(t){const e=this.analysisViewData;if(null==e)throw new Error("valid internal object expected");e.plane=t}_updatePreviewPlane(t,e={}){if("exclude"===this.mode)return;let i=this._previewPlane;if(this._previewPlane=null,null==t)return this._removeFrameTask(),void this._updateManipulators();if(this.active){const a=null!=i?i:(0,_chunks_boundedPlane_js__WEBPACK_IMPORTED_MODULE_16__.d)();if(i=null!=i?(0,_chunks_boundedPlane_js__WEBPACK_IMPORTED_MODULE_16__.a)(i,Et):null,this._pickPlane(t,!0,e,a)){const t=_sliceToolConfig_js__WEBPACK_IMPORTED_MODULE_25__.previewFadeDotThreshold;let e=!1;null!=i&&(e=(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_13__.e)((0,_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_17__.getNormal)(i.plane),(0,_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_17__.getNormal)(a.plane))<t||(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_13__.e)((0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_13__.n)(_geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_19__.sv3d.get(),i.basis1),(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_13__.n)(_geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_19__.sv3d.get(),a.basis1))<t),e&&(this._previewPlaneOpacity=0),this._previewPlane=a}}null!=this._previewPlane&&null==this._frameTask&&0===this._previewPlaneOpacity?this._frameTask=(0,_core_scheduling_js__WEBPACK_IMPORTED_MODULE_5__.addFrameTask)({update:({deltaTime:t})=>{this._previewPlaneOpacity=Math.min(this._previewPlaneOpacity+t/(1e3*_sliceToolConfig_js__WEBPACK_IMPORTED_MODULE_25__.previewFadeDurationSeconds),1),this._updateManipulators(),1===this._previewPlaneOpacity&&this._removeFrameTask()}}):null==this._previewPlane&&null!=this._frameTask?this._removeFrameTask():null!=this._previewPlane&&this._updateManipulators()}_removeFrameTask(){this._frameTask=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_3__.removeMaybe)(this._frameTask)}_pickMinResult(t){const e=(0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_6__.screenPointObjectToArray)(t,_geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_19__.sv2d.get());return this.view.sceneIntersectionHelper.intersectToolIntersectorScreen(e,this._intersector),this._intersector.results.min}_pickPlane(t,e,i,a){const s=this._pickMinResult(t),n=_geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_19__.sv3d.get();if(!s.getIntersectionPoint(n))return!1;const r=s.getTransformedNormal(_geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_19__.sv3d.get()),l=this.view.state.camera;(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_13__.e)(r,l.viewForward)>0&&(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_13__.g)(r,r,-1);const o=(0,_sliceToolUtils_js__WEBPACK_IMPORTED_MODULE_26__.calculatePlaneHalfSize)(n,l),h=(e?1:-1)*o*_sliceToolConfig_js__WEBPACK_IMPORTED_MODULE_25__.initialDepthOffsetFrac,p=(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_13__.g)(_geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_19__.sv3d.get(),r,h);(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_13__.f)(p,p,n);const u=this.analysis.tiltEnabled?_sliceToolUtils_js__WEBPACK_IMPORTED_MODULE_26__.SliceOrientation.TILTED:_sliceToolUtils_js__WEBPACK_IMPORTED_MODULE_26__.SliceOrientation.HORIZONTAL_OR_VERTICAL,c=i[_sliceToolConfig_js__WEBPACK_IMPORTED_MODULE_25__.forceVerticalModifier]?_sliceToolUtils_js__WEBPACK_IMPORTED_MODULE_26__.SliceOrientation.VERTICAL:i[_sliceToolConfig_js__WEBPACK_IMPORTED_MODULE_25__.forceHorizontalModifier]?_sliceToolUtils_js__WEBPACK_IMPORTED_MODULE_26__.SliceOrientation.HORIZONTAL:u;return (0,_sliceToolUtils_js__WEBPACK_IMPORTED_MODULE_26__.createPlane)(p,r,o,o,l,c,this.view.renderCoordsHelper,a),!0}_clearPointerMoveTimeout(){this._prevPointerMoveTimeout=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_3__.removeMaybe)(this._prevPointerMoveTimeout)}_resetPointerMoveTimeout(){this._clearPointerMoveTimeout(),this.shiftManipulator.state|=_sliceToolUtils_js__WEBPACK_IMPORTED_MODULE_26__.DidPointerMoveRecentlyFlag,this.rotateHeadingManipulator.state|=_sliceToolUtils_js__WEBPACK_IMPORTED_MODULE_26__.DidPointerMoveRecentlyFlag,this.rotateTiltManipulator.state|=_sliceToolUtils_js__WEBPACK_IMPORTED_MODULE_26__.DidPointerMoveRecentlyFlag,this._prevPointerMoveTimeout=this._clock.setTimeout((()=>{this.shiftManipulator.state&=~_sliceToolUtils_js__WEBPACK_IMPORTED_MODULE_26__.DidPointerMoveRecentlyFlag,this.rotateHeadingManipulator.state&=~_sliceToolUtils_js__WEBPACK_IMPORTED_MODULE_26__.DidPointerMoveRecentlyFlag,this.rotateTiltManipulator.state&=~_sliceToolUtils_js__WEBPACK_IMPORTED_MODULE_26__.DidPointerMoveRecentlyFlag}),this._pointerMoveTimerMs)}_updateManipulators(){if(Vt.disableEngineLayers)return;let t,e,i=!1;if(null!=this.analysisViewData.plane)t=this.analysisViewData.plane,e=this._previewPlane??t,i=!1;else{if(null==this._previewPlane)return this._setManipulatorVisibility(!1),void this._setPreviewPlaneVisibility(!1);e=t=this._previewPlane,i=!0}if(this._setManipulatorVisibility(!i),!i){const e=(0,_sliceToolUtils_js__WEBPACK_IMPORTED_MODULE_26__.calculateBoundedPlaneTranslateRotate)(t,_geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_19__.sm4d.get());(0,_sliceToolUtils_js__WEBPACK_IMPORTED_MODULE_26__.updateShiftRestartHandle)(this.shiftManipulator,e,t,this.view.state.camera),(0,_sliceToolUtils_js__WEBPACK_IMPORTED_MODULE_26__.updateRotateHeadingHandle)(this.rotateHeadingManipulator,e,t,this.view.renderCoordsHelper),(0,_sliceToolUtils_js__WEBPACK_IMPORTED_MODULE_26__.updateRotateTiltHandle)(this.rotateTiltManipulator,e,t),this.resizeManipulators.forEach(((i,a)=>(0,_sliceToolUtils_js__WEBPACK_IMPORTED_MODULE_26__.updateResizeHandle)(i,this._resizeHandles[a],e,t)))}this._setPreviewPlaneVisibility(!this._creatingPointerId&&(i||"place"===this._mode)),this._updatePreviewPlaneTransform(e),this._updateMaterials()}_setManipulatorVisibility(t){this.shiftManipulator.available=t,this.rotateHeadingManipulator.available=t,this.rotateTiltManipulator.available=t&&this.analysis.tiltEnabled,this.resizeManipulators.forEach((e=>e.available=t))}_updatePreviewPlaneTransform(t){const e=(0,_sliceToolUtils_js__WEBPACK_IMPORTED_MODULE_26__.calculateBoundedPlaneTranslateRotate)(t,_geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_19__.sm4d.get()),i=(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_13__.i)(_geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_19__.sv3d.get(),(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_13__.l)(t.basis1),(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_13__.l)(t.basis2),1),a=(0,_core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_12__.fromScaling)(_geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_19__.sm4d.get(),i),s=(0,_core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_12__.multiply)(a,e,a);this._previewPlaneOutlineVisualElement.transform=s,this._previewPlaneGridVisualElement.transform=s}_setPreviewPlaneVisibility(t){const e=this._previewPlaneOutlineVisualElement,i=this._previewPlaneGridVisualElement;t&&(e.attached=!0,i.attached=!0),e.visible=t,i.visible=t}_updateMaterials(){const t=(0,_settings_js__WEBPACK_IMPORTED_MODULE_23__.getOutlineColor)(this.view.effectiveTheme);t[3]*=this._previewPlaneOpacity;const e=(0,_core_libs_gl_matrix_2_factories_vec4f64_js__WEBPACK_IMPORTED_MODULE_15__.clone)(_settings_js__WEBPACK_IMPORTED_MODULE_23__.planeColor);e[3]*=this._previewPlaneOpacity,this._previewPlaneOutlineVisualElement.color=t,this._previewPlaneGridVisualElement.backgroundColor=e,this._previewPlaneGridVisualElement.gridColor=_core_libs_gl_matrix_2_factories_vec4f64_js__WEBPACK_IMPORTED_MODULE_15__.ZEROS}_updateManipulatorsInteractive(t){if(!t.grabbing)return this.shiftManipulator.interactive=!0,this.rotateHeadingManipulator.interactive=!0,this.rotateTiltManipulator.interactive=!0,void this.resizeManipulators.forEach((t=>{t.interactive=!0}));this.shiftManipulator.interactive=this.shiftManipulator===t,this.rotateHeadingManipulator.interactive=this.rotateHeadingManipulator===t,this.rotateTiltManipulator.interactive=this.rotateTiltManipulator===t,this.resizeManipulators.forEach((e=>{e.interactive=e===t}))}_finishToolCreationIfValid(){this.analysis.valid&&this.finishToolCreation()}get test(){return{plane:this.analysisViewData.plane,setPointerMoveTimerMs:t=>{this._pointerMoveTimerMs=t}}}};function kt(t,e,i,a){const s=(0,_sliceToolUtils_js__WEBPACK_IMPORTED_MODULE_26__.createShiftPlane)(i,(0,_chunks_boundedPlane_js__WEBPACK_IMPORTED_MODULE_16__.n)(a),t.direction,(0,_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_17__.create)()),n=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_14__.create)();return (0,_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_17__.intersectRay)(s,t,n)?{type:"shift",creatingPointerId:e,hasBeenDragged:!1,shiftPlane:s,depth:0,startPoint:n}:null}function St(t){return"mouse"!==t.pointerType||0===t.button}(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)()],bt.prototype,"_clock",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)({constructOnly:!0})],bt.prototype,"view",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)()],bt.prototype,"analysisViewData",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)({readOnly:!0})],bt.prototype,"state",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)({readOnly:!0})],bt.prototype,"cursor",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)()],bt.prototype,"analysis",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)()],bt.prototype,"removeIncompleteOnCancel",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)()],bt.prototype,"_mode",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)()],bt.prototype,"mode",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)({value:null})],bt.prototype,"inputState",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)()],bt.prototype,"_placingSlicePlane",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)()],bt.prototype,"_creatingPointerId",null),bt=Vt=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_11__.subclass)("esri.views.3d.analysis.Slice.SliceTool")],bt);const Et=(0,_chunks_boundedPlane_js__WEBPACK_IMPORTED_MODULE_16__.d)(),xt=(0,_geometry_support_ray_js__WEBPACK_IMPORTED_MODULE_18__.create)();


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/analysis/Slice/SliceVisualization.js":
/*!*********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/analysis/Slice/SliceVisualization.js ***!
  \*********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   SliceVisualization: () => (/* binding */ b)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/Accessor.js */ "./node_modules/@arcgis/core/core/Accessor.js");
/* harmony import */ var _core_handleUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core/handleUtils.js */ "./node_modules/@arcgis/core/core/handleUtils.js");
/* harmony import */ var _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../core/reactiveUtils.js */ "./node_modules/@arcgis/core/core/reactiveUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_RandomLCG_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../core/RandomLCG.js */ "./node_modules/@arcgis/core/core/RandomLCG.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../core/libs/gl-matrix-2/math/mat4.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/math/mat4.js");
/* harmony import */ var _chunks_vec32_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../chunks/vec32.js */ "./node_modules/@arcgis/core/chunks/vec32.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_vec4f64_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../core/libs/gl-matrix-2/factories/vec4f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/vec4f64.js");
/* harmony import */ var _geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../../geometry/support/vectorStacks.js */ "./node_modules/@arcgis/core/geometry/support/vectorStacks.js");
/* harmony import */ var _settings_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./settings.js */ "./node_modules/@arcgis/core/views/3d/analysis/Slice/settings.js");
/* harmony import */ var _sliceToolConfig_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./sliceToolConfig.js */ "./node_modules/@arcgis/core/views/3d/analysis/Slice/sliceToolConfig.js");
/* harmony import */ var _sliceToolUtils_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./sliceToolUtils.js */ "./node_modules/@arcgis/core/views/3d/analysis/Slice/sliceToolUtils.js");
/* harmony import */ var _webgl_engine_materials_lineStippleUtils_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../webgl-engine/materials/lineStippleUtils.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/materials/lineStippleUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
let b=class extends _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__["default"]{constructor(i){super(i),this._gridVisualElement=null,this._outlineVisualElement=null,this.showGrid=!1,this.preview=!0}initialize(){const i=this.analysisViewData;if(null==i)throw new Error("expected internal object to be valid");this._gridVisualElement=(0,_sliceToolUtils_js__WEBPACK_IMPORTED_MODULE_15__.createGridVisualElement)(this.view),this._outlineVisualElement=(0,_sliceToolUtils_js__WEBPACK_IMPORTED_MODULE_15__.createOutlineVisualElement)(this.view),this.addHandles([(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__.watch)((()=>{const e=null!=i.plane&&this.analysisViewData.visible,{active:t}=this.analysisViewData,{preview:s,showGrid:o,view:r}=this,{effectiveTheme:l}=r;return{visible:e,active:t,preview:s,showGrid:o,gridColor:(0,_settings_js__WEBPACK_IMPORTED_MODULE_13__.getGridColor)(l),outlineColor:(0,_settings_js__WEBPACK_IMPORTED_MODULE_13__.getOutlineColor)(l)}}),(i=>this._updateMaterials(i)),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__.syncAndInitial),(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__.watch)((()=>i.plane),(i=>this._updatePlane(i)),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__.syncAndInitial),(0,_core_handleUtils_js__WEBPACK_IMPORTED_MODULE_2__.destroyHandle)(this._gridVisualElement),(0,_core_handleUtils_js__WEBPACK_IMPORTED_MODULE_2__.destroyHandle)(this._outlineVisualElement),(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__.watch)((()=>"web-scene"!==this.analysis?.origin?.type),(i=>{this._gridVisualElement.isDecoration=i,this._outlineVisualElement.isDecoration=i}),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__.syncAndInitial)])}destroy(){this.set("view",null)}_updatePlane(i){if(null==i)return;this._gridVisualElement.attached=!0,this._outlineVisualElement.attached=!0;const e=(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_10__.i)(_geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_12__.sv3d.get(),(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_10__.l)(i.basis1),(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_10__.l)(i.basis2),1),t=(0,_core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_9__.fromScaling)(_geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_12__.sm4d.get(),e),s=(0,_sliceToolUtils_js__WEBPACK_IMPORTED_MODULE_15__.calculateBoundedPlaneTranslateRotate)(i,_geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_12__.sm4d.get()),o=(0,_core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_9__.multiply)(t,s,t);this._outlineVisualElement.transform=o,this._gridVisualElement.transform=o}_updateMaterials({visible:i,active:e,preview:t,showGrid:s,gridColor:o,outlineColor:r}){this._outlineVisualElement.color=r,this._outlineVisualElement.width=t?_sliceToolConfig_js__WEBPACK_IMPORTED_MODULE_14__.planePreviewOutlineWidth:_sliceToolConfig_js__WEBPACK_IMPORTED_MODULE_14__.planeOutlineWidth,this._outlineVisualElement.stipplePattern=e?null:(0,_webgl_engine_materials_lineStippleUtils_js__WEBPACK_IMPORTED_MODULE_16__.createStipplePatternSimple)(5),this._gridVisualElement.backgroundColor=_settings_js__WEBPACK_IMPORTED_MODULE_13__.planeColor,this._gridVisualElement.gridColor=s?o:_core_libs_gl_matrix_2_factories_vec4f64_js__WEBPACK_IMPORTED_MODULE_11__.ZEROS,this._gridVisualElement.visible=i,this._outlineVisualElement.visible=i}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],b.prototype,"view",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],b.prototype,"analysis",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],b.prototype,"analysisViewData",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],b.prototype,"showGrid",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],b.prototype,"preview",void 0),b=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_8__.subclass)("esri.views.3d.analysis.Slice.SliceVisualization")],b);


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/analysis/SliceAnalysisView3D.js":
/*!****************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/analysis/SliceAnalysisView3D.js ***!
  \****************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ d)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/Accessor.js */ "./node_modules/@arcgis/core/core/Accessor.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/maybe.js */ "./node_modules/@arcgis/core/core/maybe.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_RandomLCG_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../core/RandomLCG.js */ "./node_modules/@arcgis/core/core/RandomLCG.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _AnalysisView3D_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./AnalysisView3D.js */ "./node_modules/@arcgis/core/views/3d/analysis/AnalysisView3D.js");
/* harmony import */ var _Slice_SliceController_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./Slice/SliceController.js */ "./node_modules/@arcgis/core/views/3d/analysis/Slice/SliceController.js");
/* harmony import */ var _Slice_SliceTool_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./Slice/SliceTool.js */ "./node_modules/@arcgis/core/views/3d/analysis/Slice/SliceTool.js");
/* harmony import */ var _Slice_SliceVisualization_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./Slice/SliceVisualization.js */ "./node_modules/@arcgis/core/views/3d/analysis/Slice/SliceVisualization.js");
/* harmony import */ var _analysis_analysisViewUtils_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../analysis/analysisViewUtils.js */ "./node_modules/@arcgis/core/views/analysis/analysisViewUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
let u=class extends((0,_AnalysisView3D_js__WEBPACK_IMPORTED_MODULE_8__.AnalysisView3D)(_core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__["default"])){constructor(i){super(i),this.type="slice-view-3d",this.analysis=null,this.tool=null,this.plane=null,this.active=!0,this.userOperation=null,this._analysisVisualization=null,this._analysisController=null}initialize(){this._analysisVisualization=new _Slice_SliceVisualization_js__WEBPACK_IMPORTED_MODULE_11__.SliceVisualization({view:this.view,analysis:this.analysis,analysisViewData:this}),this._analysisController=new _Slice_SliceController_js__WEBPACK_IMPORTED_MODULE_9__.SliceController({view:this.view,analysis:this.analysis,analysisViewData:this}),this.addHandles((0,_analysis_analysisViewUtils_js__WEBPACK_IMPORTED_MODULE_12__.connectAnalysisViewToTool)(this,_Slice_SliceTool_js__WEBPACK_IMPORTED_MODULE_10__["default"]))}destroy(){(0,_analysis_analysisViewUtils_js__WEBPACK_IMPORTED_MODULE_12__.removeAnalysisViewTool)(this),this._analysisVisualization=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_3__.destroyMaybe)(this._analysisVisualization),this._analysisController=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_3__.destroyMaybe)(this._analysisController)}get editable(){return!this._analysisVisualization.preview}set editable(i){this._analysisVisualization.preview=!i}get showGrid(){return this._analysisVisualization?.showGrid??!1}set showGrid(i){this._analysisVisualization&&(this._analysisVisualization.showGrid=i)}get testData(){}place(i){return this.active=!0,(0,_analysis_analysisViewUtils_js__WEBPACK_IMPORTED_MODULE_12__.startPlaceOperation)(this,{placementOptions:i,onToolActivated:i=>i.start("place")})}async pickLayerToExclude(i){return this.active=!0,(0,_analysis_analysisViewUtils_js__WEBPACK_IMPORTED_MODULE_12__.startExclusiveInteractiveOperation)(this,{abortOptions:i,onToolActivated:i=>i.start("exclude")})}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)({readOnly:!0})],u.prototype,"type",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)({constructOnly:!0,nonNullable:!0})],u.prototype,"analysis",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],u.prototype,"tool",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],u.prototype,"plane",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],u.prototype,"active",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],u.prototype,"editable",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],u.prototype,"showGrid",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],u.prototype,"userOperation",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],u.prototype,"_analysisVisualization",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],u.prototype,"_analysisController",void 0),u=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__.subclass)("esri.views.3d.analysis.SliceAnalysisView3D")],u);const d=u;


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/interactive/editingTools/dragEventPipeline3D.js":
/*!********************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/interactive/editingTools/dragEventPipeline3D.js ***!
  \********************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   SurfaceType: () => (/* binding */ q),
/* harmony export */   convertToMapCoordinates: () => (/* binding */ F),
/* harmony export */   hideManipulatorWhileDragging: () => (/* binding */ z),
/* harmony export */   projectToWorldUp: () => (/* binding */ k),
/* harmony export */   screenToMap3D: () => (/* binding */ B),
/* harmony export */   screenToMapXYAtLocation: () => (/* binding */ M),
/* harmony export */   screenToMapXYForManipulatedObject: () => (/* binding */ N),
/* harmony export */   screenToRenderPlane: () => (/* binding */ T),
/* harmony export */   screenToRenderPlaneFromEvent: () => (/* binding */ C),
/* harmony export */   screenToRenderRay: () => (/* binding */ A),
/* harmony export */   screenToZConstrained: () => (/* binding */ G)
/* harmony export */ });
/* harmony import */ var _core_screenUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/screenUtils.js */ "./node_modules/@arcgis/core/core/screenUtils.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_vec2f64_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/libs/gl-matrix-2/factories/vec2f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/vec2f64.js");
/* harmony import */ var _chunks_vec32_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../chunks/vec32.js */ "./node_modules/@arcgis/core/chunks/vec32.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../core/libs/gl-matrix-2/factories/vec3f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/vec3f64.js");
/* harmony import */ var _geometry_Point_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../geometry/Point.js */ "./node_modules/@arcgis/core/geometry/Point.js");
/* harmony import */ var _geometry_projectionUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../geometry/projectionUtils.js */ "./node_modules/@arcgis/core/geometry/projectionUtils.js");
/* harmony import */ var _geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../geometry/support/plane.js */ "./node_modules/@arcgis/core/geometry/support/plane.js");
/* harmony import */ var _geometry_support_ray_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../geometry/support/ray.js */ "./node_modules/@arcgis/core/geometry/support/ray.js");
/* harmony import */ var _geometry_support_vector_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../geometry/support/vector.js */ "./node_modules/@arcgis/core/geometry/support/vector.js");
/* harmony import */ var _geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../geometry/support/vectorStacks.js */ "./node_modules/@arcgis/core/geometry/support/vectorStacks.js");
/* harmony import */ var _support_elevationInfoUtils_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../support/elevationInfoUtils.js */ "./node_modules/@arcgis/core/support/elevationInfoUtils.js");
/* harmony import */ var _support_geometryUtils_ray_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../support/geometryUtils/ray.js */ "./node_modules/@arcgis/core/views/3d/support/geometryUtils/ray.js");
/* harmony import */ var _webgl_engine_lib_Intersector_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../webgl-engine/lib/Intersector.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/Intersector.js");
/* harmony import */ var _webgl_engine_lib_IntersectorInterfaces_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../webgl-engine/lib/IntersectorInterfaces.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/IntersectorInterfaces.js");
/* harmony import */ var _webgl_engine_lib_IntersectorType_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../webgl-engine/lib/IntersectorType.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/IntersectorType.js");
/* harmony import */ var _webgl_engine_lib_verticalOffsetUtils_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../webgl-engine/lib/verticalOffsetUtils.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/verticalOffsetUtils.js");
/* harmony import */ var _interactive_dragEventPipeline_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../../interactive/dragEventPipeline.js */ "./node_modules/@arcgis/core/views/interactive/dragEventPipeline.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
function T(e,n){return P(e,(()=>n))}function C(e){return P(e,(e=>e.plane))}function P(e,t){const o=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_3__.create)(),l=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_3__.create)();let s=!1;return c=>{const i=t(c);if("start"===c.action){const t=(0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_0__.screenPointObjectToArray)(c.screenStart,(0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_0__.castScreenPointArray)(_geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_9__.sv2d.get())),l=(0,_support_geometryUtils_ray_js__WEBPACK_IMPORTED_MODULE_11__.fromScreen)(e.state.camera,t,Q);null!=l&&(s=(0,_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_6__.intersectRay)(i,l,o))}if(!s)return null;const a=(0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_0__.screenPointObjectToArray)(c.screenEnd,(0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_0__.castScreenPointArray)(_geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_9__.sv2d.get())),u=(0,_support_geometryUtils_ray_js__WEBPACK_IMPORTED_MODULE_11__.fromScreen)(e.state.camera,a,Q);return null==u?null:(0,_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_6__.intersectRay)(i,u,l)?{...c,renderStart:o,renderEnd:l,plane:i,ray:u}:null}}function D(n,r,t=0,o=null,l=null){let s=null;return c=>{if("start"===c.action&&(s=n.sceneIntersectionHelper.intersectElevationFromScreen((0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_0__.createScreenPointArray)(c.screenStart.x,c.screenStart.y),r,t,l),null!=s&&null!=o&&!(0,_geometry_projectionUtils_js__WEBPACK_IMPORTED_MODULE_5__.projectPoint)(s,s,o)))return null;if(null==s)return null;const i=n.sceneIntersectionHelper.intersectElevationFromScreen((0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_0__.createScreenPointArray)(c.screenEnd.x,c.screenEnd.y),r,t,l);return null!=i&&(null==o||(0,_geometry_projectionUtils_js__WEBPACK_IMPORTED_MODULE_5__.projectPoint)(i,i,o))?{...c,mapStart:s,mapEnd:i}:null}}function M(e,n,r,t=null,o=null){return D(e,r,(0,_support_elevationInfoUtils_js__WEBPACK_IMPORTED_MODULE_10__.getZForElevationMode)(n,e,r),t,o)}function N(e,n,r,t){const o=r.toMap(e.screenStart);return null!=o?M(n,o,r.elevationInfo,t):null}function h(e,n){const r=K,t=L,s=(0,_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_6__.create)();e.renderCoordsHelper.worldUpAtPosition(n,r);const c=(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_2__.h)((0,_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_6__.getNormal)(s),r,(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_2__.d)(t,n,e.state.camera.eye));return (0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_2__.h)(c,c,r),(0,_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_6__.fromPositionAndNormal)(n,c,s)}function G(e,n,r){let t=null;const o=new _interactive_dragEventPipeline_js__WEBPACK_IMPORTED_MODULE_16__.EventPipeline;return o.next(T(e,h(e,n))).next(k(e,n)).next(F(e,r)).next((e=>{e.mapEnd.x=e.mapStart.x,e.mapEnd.y=e.mapStart.y,t=e})),e=>(t=null,o.execute(e),t)}function k(e,n){const r=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_3__.create)(),t=(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_2__.l)(n);e.renderCoordsHelper.worldUpAtPosition(n,r);const o=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_3__.create)(),m=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_3__.create)(),f=o=>{if((0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_2__.d)(o,o,n),(0,_geometry_support_vector_js__WEBPACK_IMPORTED_MODULE_8__.projectPoint)(r,o,o),"global"===e.viewingMode){(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_2__.l)(o)*Math.sign((0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_2__.e)(r,o))<.001-t&&(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_2__.d)(o,(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_2__.g)(o,r,.001),n)}return (0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_2__.f)(o,o,n),o};return e=>(e.renderStart=f((0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_2__.c)(o,e.renderStart)),e.renderEnd=f((0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_2__.c)(m,e.renderEnd)),e)}function A(e,t){const o=o=>{const l=(0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_0__.screenPointObjectToArray)(o,(0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_0__.castScreenPointArray)(J)),s=(0,_support_geometryUtils_ray_js__WEBPACK_IMPORTED_MODULE_11__.fromScreen)(e.state.camera,l,Q);if(null==s)return null;const c=(0,_geometry_support_ray_js__WEBPACK_IMPORTED_MODULE_7__.closestPoints)(t,s,K,L);return c?.[0]};return e=>{const n=o(e.screenStart);if(null==n)return null;const r=o(e.screenEnd);return null==r?null:{...e,renderStart:n,renderEnd:r}}}function F(e,n){const r=e.renderCoordsHelper;return e=>{const t=r.fromRenderCoords(e.renderStart,new _geometry_Point_js__WEBPACK_IMPORTED_MODULE_4__["default"]({spatialReference:n})),o=r.fromRenderCoords(e.renderEnd,new _geometry_Point_js__WEBPACK_IMPORTED_MODULE_4__["default"]({spatialReference:n}));return null!=t&&null!=o?{...e,mapStart:t,mapEnd:o}:null}}var q;function z(e){let n=null;return r=>{switch(r.action){case"start":n=e.disableDisplay();break;case"end":case"cancel":null!=n&&(n.remove(),n=null)}return r}}function B(r,t=null){const o=new _webgl_engine_lib_Intersector_js__WEBPACK_IMPORTED_MODULE_12__.Intersector(r.state.viewingMode);o.options.selectionMode=!0,o.options.store=_webgl_engine_lib_IntersectorInterfaces_js__WEBPACK_IMPORTED_MODULE_13__.StoreResults.MIN,o.options.hud=!1;const l=(0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_0__.createScreenPointArray)(),s={requiresGroundFeedback:!0,enableDraped:!0,exclude:new Set},c=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_3__.create)(),i=t??r.spatialReference,a=e=>{r.map.ground&&r.map.ground.opacity<1?s.exclude.add(_webgl_engine_lib_verticalOffsetUtils_js__WEBPACK_IMPORTED_MODULE_15__.terrainId):s.exclude.delete(_webgl_engine_lib_verticalOffsetUtils_js__WEBPACK_IMPORTED_MODULE_15__.terrainId),r.sceneIntersectionHelper.intersectIntersectorScreen((0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_0__.screenPointObjectToArray)(e,l),o,s);const t=o.results.min;let a;if(t.getIntersectionPoint(c))a=t.intersector===_webgl_engine_lib_IntersectorType_js__WEBPACK_IMPORTED_MODULE_14__.IntersectorType.TERRAIN?q.GROUND:q.OTHER;else{if(!o.results.ground.getIntersectionPoint(c))return null;a=q.GROUND}return{location:r.renderCoordsHelper.fromRenderCoords(c,new _geometry_Point_js__WEBPACK_IMPORTED_MODULE_4__["default"]({spatialReference:i})),surfaceType:a}};let u;return e=>{if("start"===e.action){const n=a(e.screenStart);u=null!=n?n.location:null}if(null==u)return null;const n=a(e.screenEnd);return null!=n?.location?{...e,mapStart:u,mapEnd:n.location,surfaceType:n.surfaceType}:null}}!function(e){e[e.GROUND=0]="GROUND",e[e.OTHER=1]="OTHER"}(q||(q={}));const J=(0,_core_libs_gl_matrix_2_factories_vec2f64_js__WEBPACK_IMPORTED_MODULE_1__.create)(),K=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_3__.create)(),L=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_3__.create)(),Q=(0,_geometry_support_ray_js__WEBPACK_IMPORTED_MODULE_7__.create)();


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/interactive/visualElements/VisualElement.js":
/*!****************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/interactive/visualElements/VisualElement.js ***!
  \****************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   VisualElement: () => (/* binding */ t)
/* harmony export */ });
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/reactiveUtils.js */ "./node_modules/@arcgis/core/core/reactiveUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
class t{get isDecoration(){return this._isDecoration}set isDecoration(e){this._isDecoration=e,this.forEachMaterial((t=>t?.setParameters({isDecoration:e})))}constructor(t){this._isDecoration=!1,this._attached=!1,this._resourcesCreated=!1,this._visible=!0,this.view=t.view,this._handle=(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_1__.watch)((()=>t.view.ready),(e=>{this._resourcesCreated&&(e?this._createResources():this._destroyResources())}))}applyProperties(e){let t=!1;for(const s in e)s in this&&("attached"===s?t=!!e[s]:this[s]=e[s]);this.attached=t}destroy(){this.attached=!1,this._handle.remove()}get attached(){return this._attached}set attached(e){e!==this._attached&&this.view.stage&&(this._attached=e,this._attached&&!this._resourcesCreated?this._createResources():!this._attached&&this._resourcesCreated&&this._destroyResources(),this.onAttachedChange(e))}onAttachedChange(e){}get visible(){return this._visible}set visible(e){e!==this._visible&&(this._visible=e,this.attached&&this.updateVisibility(e))}_createResources(){this.createResources(),this._resourcesCreated=!0,this.updateVisibility(this.visible)}_destroyResources(){this.destroyResources(),this._resourcesCreated=!1}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/terrain/isTerrainSurfaceLayer.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/terrain/isTerrainSurfaceLayer.js ***!
  \*****************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   isTerrainSurfaceLayer: () => (/* binding */ a)
/* harmony export */ });
/* harmony import */ var _core_compilerUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../core/compilerUtils.js */ "./node_modules/@arcgis/core/core/compilerUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
function a(a){switch(a.type){case"building-scene":case"catalog":case"catalog-dynamic-group":case"catalog-footprint":case"csv":case"dimension":case"feature":case"geo-rss":case"geojson":case"graphics":case"group":case"integrated-mesh":case"integrated-mesh-3dtiles":case"kml":case"knowledge-graph":case"link-chart":case"knowledge-graph-sublayer":case"line-of-sight":case"map-notes":case"ogc-feature":case"oriented-imagery":case"point-cloud":case"route":case"scene":case"stream":case"viewshed":case"voxel":case"subtype-group":case"unknown":case"unsupported":case"wfs":case"parquet":case null:return!1;case"base-dynamic":case"base-elevation":case"base-tile":case"bing-maps":case"elevation":case"imagery":case"imagery-tile":case"map-image":case"media":case"open-street-map":case"tile":case"vector-tile":case"video":case"wcs":case"web-tile":case"wms":case"wmts":return!0;default:return (0,_core_compilerUtils_js__WEBPACK_IMPORTED_MODULE_0__.neverReached)(a.type),!1}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/webgl-engine/materials/lineStippleUtils.js":
/*!***************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/materials/lineStippleUtils.js ***!
  \***************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   createStipplePatternSimple: () => (/* binding */ h),
/* harmony export */   getStipplePatternForLinePattern: () => (/* binding */ n),
/* harmony export */   getStipplePatternForPatternStyle: () => (/* binding */ l)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
const t={dash:[4,3],dot:[1,3],"long-dash":[8,3],"short-dash":[4,1],"short-dot":[1,1]},o={dash:t.dash,"dash-dot":[...t.dash,...t.dot],dot:t.dot,"long-dash":t["long-dash"],"long-dash-dot":[...t["long-dash"],...t.dot],"long-dash-dot-dot":[...t["long-dash"],...t.dot,...t.dot],none:null,"short-dash":t["short-dash"],"short-dash-dot":[...t["short-dash"],...t["short-dot"]],"short-dash-dot-dot":[...t["short-dash"],...t["short-dot"],...t["short-dot"]],"short-dot":t["short-dot"],solid:null},d=8;function s(t,o){return null==t?t:{pattern:t.slice(),pixelRatio:o}}function h(t){return{pattern:[t,t],pixelRatio:2}}function n(t){return"style"===t?.type?l(t.style):null}function l(t){return null!=t?s(o[t],d):null}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/analysis/analysisViewUtils.js":
/*!***********************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/analysis/analysisViewUtils.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   activateAnalysisViewTool: () => (/* binding */ u),
/* harmony export */   connectAnalysisViewToTool: () => (/* binding */ m),
/* harmony export */   removeAnalysisViewTool: () => (/* binding */ f),
/* harmony export */   startExclusiveInteractiveOperation: () => (/* binding */ y),
/* harmony export */   startPlaceOperation: () => (/* binding */ d)
/* harmony export */ });
/* harmony import */ var _core_asyncUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../core/asyncUtils.js */ "./node_modules/@arcgis/core/core/asyncUtils.js");
/* harmony import */ var _core_handleUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/handleUtils.js */ "./node_modules/@arcgis/core/core/handleUtils.js");
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/maybe.js */ "./node_modules/@arcgis/core/core/maybe.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../core/reactiveUtils.js */ "./node_modules/@arcgis/core/core/reactiveUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
function u(t,n){t.interactive=!0;const{tool:i,view:r}=t;r.activeTool=i;let s=(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__.onAbort)(n,(()=>{r.activeTool===i&&(r.activeTool=null)}));return (0,_core_asyncUtils_js__WEBPACK_IMPORTED_MODULE_0__.createTask)((async o=>{await (0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_4__.whenOnce)((()=>!t.tool?.active),o),s=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_2__.removeMaybe)(s)}),n)}function m(o,t){return (0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_4__.watch)((()=>o.interactive),(()=>p(o,t)),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_4__.syncAndInitial)}function p(o,t){o.interactive?v(o,t):f(o)}function v(o,t){f(o);const{view:e,analysis:n}=o,i=new t({view:e,analysis:n,analysisViewData:o});return o.tool=i,e.tools.add(i),i}function f(o){const{view:t,tool:e}=o;null!=e&&(t.tools.remove(e),o.tool=null)}function y(e,a){const r=e.userOperation,s=(0,_core_asyncUtils_js__WEBPACK_IMPORTED_MODULE_0__.createTask)((async o=>{if(r){const t=r.promise.catch((()=>{}));r?.abort(),await t,(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__.throwIfAborted)(o)}const s=u(e,{signal:o}),c=a?.shouldRejectOnCancel??(()=>!0),m=(0,_core_handleUtils_js__WEBPACK_IMPORTED_MODULE_1__.handlesGroup)([(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_4__.on)((()=>e.tool),"cancel",(()=>{c()&&s.abort()}))]),{tool:p}=e;try{p&&(p.resetCreated(),a?.onToolActivated?.(p)),await s.promise,(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__.throwIfAborted)(o)}catch(v){if(o.aborted||!(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__.isAbortError)(v)||c())throw v}finally{m?.remove()}}),{signal:a?.abortOptions?.signal});return e.userOperation=s,s.promise.finally((()=>{e.userOperation===s&&(e.userOperation=null)}))}async function d(o,t){const e=o.analysis.clone();return await y(o,{abortOptions:t?.placementOptions,onToolActivated:t?.onToolActivated,shouldRejectOnCancel:()=>{const{analysis:t}=o;return!t.valid||t.equals(e)}}),{}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/interactive/AnalysisToolBase.js":
/*!*************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/interactive/AnalysisToolBase.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   AnalysisToolBase: () => (/* binding */ o)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/reactiveUtils.js */ "./node_modules/@arcgis/core/core/reactiveUtils.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_RandomLCG_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../core/RandomLCG.js */ "./node_modules/@arcgis/core/core/RandomLCG.js");
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _InteractiveToolBase_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./InteractiveToolBase.js */ "./node_modules/@arcgis/core/views/interactive/InteractiveToolBase.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
let o=class extends _InteractiveToolBase_js__WEBPACK_IMPORTED_MODULE_7__.InteractiveToolBase{constructor(s){super(s)}initialize(){this.addHandles((0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_1__.watch)((()=>this.analysisViewData.visible),(s=>this.visible=s),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_1__.syncAndInitial))}deactivate(){this.onDeactivate(),this.created||this.analysis.clear()}resetCreated(){this._set("created",!1)}};o=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_6__.subclass)("esri.views.interactive.AnalysisToolBase")],o);


/***/ }),

/***/ "./node_modules/@arcgis/core/views/interactive/ToolIntersector.js":
/*!************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/interactive/ToolIntersector.js ***!
  \************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   newToolIntersector: () => (/* binding */ o)
/* harmony export */ });
/* harmony import */ var _3d_webgl_engine_lib_Intersector_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../3d/webgl-engine/lib/Intersector.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/Intersector.js");
/* harmony import */ var _3d_webgl_engine_lib_IntersectorInterfaces_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../3d/webgl-engine/lib/IntersectorInterfaces.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/IntersectorInterfaces.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
function o(o){const t=new _3d_webgl_engine_lib_Intersector_js__WEBPACK_IMPORTED_MODULE_0__.Intersector(o);return t.options.store=_3d_webgl_engine_lib_IntersectorInterfaces_js__WEBPACK_IMPORTED_MODULE_1__.StoreResults.MIN,t.options.excludeLabels=!0,t}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/layers/support/popupUtils.js":
/*!**********************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/layers/support/popupUtils.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   getFetchPopupTemplate: () => (/* binding */ p),
/* harmony export */   getRequiredFields: () => (/* binding */ n),
/* harmony export */   hasPopupTemplate: () => (/* binding */ u)
/* harmony export */ });
/* harmony import */ var _layers_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../layers/support/fieldUtils.js */ "./node_modules/@arcgis/core/layers/support/fieldUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
async function n(n,p=n.popupTemplate){if(null==p)return[];const u=await p.getRequiredFields(n.fieldsIndex),{lastEditInfoEnabled:t}=p,{objectIdField:d,typeIdField:s,globalIdField:i,relationships:a}=n;if(u.includes("*"))return["*"];const o=t?(0,_layers_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_0__.getFeatureEditFields)(n):[],f=(0,_layers_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_0__.fixFields)(n.fieldsIndex,[...u,...o]);return s&&f.push(s),f&&d&&n.fieldsIndex?.has(d)&&!f.includes(d)&&f.push(d),f&&i&&n.fieldsIndex?.has(i)&&!f.includes(i)&&f.push(i),a&&a.forEach((e=>{const{keyField:l}=e;f&&l&&n.fieldsIndex?.has(l)&&!f.includes(l)&&f.push(l)})),f}function p(e,l){return e.popupTemplate?e.popupTemplate:null!=l&&l.defaultPopupTemplateEnabled&&null!=e.defaultPopupTemplate?e.defaultPopupTemplate:null}function u(e,l){return null!=p(e,{defaultPopupTemplateEnabled:l})}


/***/ })

};

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmVuZG9ycy1ub2RlX21vZHVsZXNfYXJjZ2lzX2NvcmVfbGF5ZXJzX3N1cHBvcnRfSTNTSW5kZXhJbmZvX2pzLW5vZGVfbW9kdWxlc19hcmNnaXNfY29yZV92aWV3LTljMmY5Ni5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDbUUsZ0NBQWdDLFdBQVcsWUFBWSxXQUFXLEVBQUUsd0RBQXdELElBQUksT0FBTyw0QkFBNEIsdURBQUMsSUFBSSxPQUFPLHNCQUFzQiw4QkFBOEIsc0dBQXNHLFNBQVMsK0dBQStHLGtCQUFrQixpQ0FBaUMsRUFBRSxlQUFlLElBQUksT0FBTyw0QkFBNEIsdURBQUMsSUFBSSxPQUFPLHNCQUFzQiw4QkFBOEIscUJBQXFCLFNBQVMsVUFBVSxzREFBQyx3REFBd0QsOEJBQThCLEdBQStCOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ0o3MEI7QUFDQTtBQUNBO0FBQ0E7QUFDbVosWUFBWSxvQkFBb0Isd0RBQUMsc0JBQXNCLGNBQWMsZ0dBQWdHLGtCQUFrQixnRUFBZ0UsbUJBQW1CLHdCQUF3QixlQUFlLFNBQVMsY0FBYyxzRUFBc0UsZUFBZSxrQ0FBa0MsbUJBQW1CLHlDQUF5QyxnRUFBQyw0Q0FBNEMsT0FBTyx1REFBQyxFQUFFLHNGQUFDLEVBQUUsaUJBQWlCLGdDQUFnQyx1REFBQyxFQUFFLHNGQUFDLEVBQUUsaUJBQWlCLDhCQUE4Qix1REFBQyxFQUFFLHNGQUFDLEVBQUUsYUFBYSxtQ0FBbUMsdURBQUMsRUFBRSxzRkFBQywyQ0FBMkMsdURBQUMsRUFBRSxzRkFBQyxFQUFFLFlBQVksZ0NBQWdDLHVEQUFDLEVBQUUsc0ZBQUMsZ0NBQWdDLHVEQUFDLEVBQUUsc0ZBQUMsdURBQXVELHVEQUFDLEVBQUUsc0ZBQUMsaURBQTZFOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNKcjNDO0FBQ0E7QUFDQTtBQUNBO0FBQ2k5QixvQkFBb0IseURBQUMsQ0FBQyxlQUFlLDhEQUE4RCxh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LElBQUksOERBQThELHFFQUFDLElBQUksU0FBUyxlQUFlLG1FQUFDLGlCQUFpQixRQUFRLGFBQWEsR0FBRywrQkFBK0IsRUFBRSxpREFBaUQsNENBQTRDLEdBQUcsc0JBQXNCLDJCQUEyQixrQkFBa0IsOEZBQThGLE1BQU0sV0FBVyxHQUFHLDZCQUE2QixLQUF1Szs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNKenNEO0FBQ0E7QUFDQTtBQUNBO0FBQ3FYLG9CQUFvQix3RUFBQyxDQUFDLGVBQWUsU0FBUyxhQUFhLGdCQUFnQiw2REFBQyx5REFBeUQsa0VBQUMsR0FBRyxhQUFhLHdEQUF3RCxlQUFlLDBCQUEwQixFQUFFLHVEQUFDLEVBQUUsc0ZBQUMsZ0RBQThFOzs7Ozs7Ozs7Ozs7Ozs7OztBQ0poc0I7QUFDQTtBQUNBO0FBQ0E7QUFDbUosY0FBYyxZQUFZLDRFQUFDLElBQUksdUJBQXVCLHVGQUFDLGtDQUFrRTs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDSjVRO0FBQ0E7QUFDQTtBQUNBO0FBQzRGLHNDQUFzQyxvQkFBb0Isa0RBQWtELHNCQUFzQixJQUFJLDhEQUE4RCxHQUFHLCtCQUErQixVQUFVLG1GQUFDLFNBQVMsd0VBQUMsNEJBQTRCLG9KQUFvSixNQUFNLFdBQVcsR0FBRyx1REFBdUQsS0FBSyxnQkFBZ0Isd0lBQXdJLGdCQUFnQixrQkFBa0IsOEJBQThCLEVBQWtGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcHJlY2lzaW9uZmFybXMvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL2xheWVycy9zdXBwb3J0L0kzU0luZGV4SW5mby5qcyIsIndlYnBhY2s6Ly9wcmVjaXNpb25mYXJtcy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvM2QvYW5hbHlzaXMvQW5hbHlzaXNWaWV3M0QuanMiLCJ3ZWJwYWNrOi8vcHJlY2lzaW9uZmFybXMvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzNkL2FuYWx5c2lzL1NsaWNlL1NsaWNlQ29udHJvbGxlci5qcyIsIndlYnBhY2s6Ly9wcmVjaXNpb25mYXJtcy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvM2QvYW5hbHlzaXMvU2xpY2UvU2xpY2VUb29sLmpzIiwid2VicGFjazovL3ByZWNpc2lvbmZhcm1zLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8zZC9hbmFseXNpcy9TbGljZS9TbGljZVZpc3VhbGl6YXRpb24uanMiLCJ3ZWJwYWNrOi8vcHJlY2lzaW9uZmFybXMvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzNkL2FuYWx5c2lzL1NsaWNlQW5hbHlzaXNWaWV3M0QuanMiLCJ3ZWJwYWNrOi8vcHJlY2lzaW9uZmFybXMvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzNkL2ludGVyYWN0aXZlL2VkaXRpbmdUb29scy9kcmFnRXZlbnRQaXBlbGluZTNELmpzIiwid2VicGFjazovL3ByZWNpc2lvbmZhcm1zLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8zZC9pbnRlcmFjdGl2ZS92aXN1YWxFbGVtZW50cy9WaXN1YWxFbGVtZW50LmpzIiwid2VicGFjazovL3ByZWNpc2lvbmZhcm1zLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8zZC90ZXJyYWluL2lzVGVycmFpblN1cmZhY2VMYXllci5qcyIsIndlYnBhY2s6Ly9wcmVjaXNpb25mYXJtcy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvM2Qvd2ViZ2wtZW5naW5lL21hdGVyaWFscy9saW5lU3RpcHBsZVV0aWxzLmpzIiwid2VicGFjazovL3ByZWNpc2lvbmZhcm1zLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy9hbmFseXNpcy9hbmFseXNpc1ZpZXdVdGlscy5qcyIsIndlYnBhY2s6Ly9wcmVjaXNpb25mYXJtcy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvaW50ZXJhY3RpdmUvQW5hbHlzaXNUb29sQmFzZS5qcyIsIndlYnBhY2s6Ly9wcmVjaXNpb25mYXJtcy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvaW50ZXJhY3RpdmUvVG9vbEludGVyc2VjdG9yLmpzIiwid2VicGFjazovL3ByZWNpc2lvbmZhcm1zLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy9sYXllcnMvc3VwcG9ydC9wb3B1cFV0aWxzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjMzL2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnQgZSBmcm9tXCIuLi8uLi9yZXF1ZXN0LmpzXCI7aW1wb3J0IG8gZnJvbVwiLi4vLi4vY29yZS9FcnJvci5qc1wiO2FzeW5jIGZ1bmN0aW9uIHIocixuLHQscyxhLGksbCl7bGV0IGQ9bnVsbDtpZihudWxsIT10KXtjb25zdCBvPWAke3J9L25vZGVwYWdlcy9gLG49bytNYXRoLmZsb29yKHQucm9vdEluZGV4L3Qubm9kZXNQZXJQYWdlKTt0cnl7cmV0dXJue3R5cGU6XCJwYWdlXCIscm9vdFBhZ2U6KGF3YWl0IGUobix7cXVlcnk6e2Y6XCJqc29uXCIsLi4ucyx0b2tlbjphfSxyZXNwb25zZVR5cGU6XCJqc29uXCIsc2lnbmFsOmx9KSkuZGF0YSxyb290SW5kZXg6dC5yb290SW5kZXgscGFnZVNpemU6dC5ub2Rlc1BlclBhZ2UsbG9kTWV0cmljOnQubG9kU2VsZWN0aW9uTWV0cmljVHlwZSx1cmxQcmVmaXg6b319Y2F0Y2goZyl7bnVsbCE9aSYmaS53YXJuKFwiI2ZldGNoSW5kZXhJbmZvKClcIixcIkZhaWxlZCB0byBsb2FkIHJvb3Qgbm9kZSBwYWdlLiBGYWxsaW5nIGJhY2sgdG8gbm9kZSBkb2N1bWVudHMuXCIsbixnKSxkPWd9fWlmKCFuKXJldHVybiBudWxsO2NvbnN0IHA9bj8uc3BsaXQoXCIvXCIpLnBvcCgpLGM9YCR7cn0vbm9kZXMvYCx1PWMrcDt0cnl7cmV0dXJue3R5cGU6XCJub2RlXCIscm9vdE5vZGU6KGF3YWl0IGUodSx7cXVlcnk6e2Y6XCJqc29uXCIsLi4ucyx0b2tlbjphfSxyZXNwb25zZVR5cGU6XCJqc29uXCIsc2lnbmFsOmx9KSkuZGF0YSx1cmxQcmVmaXg6Y319Y2F0Y2goZyl7dGhyb3cgbmV3IG8oXCJzY2VuZXNlcnZpY2U6cm9vdC1ub2RlLW1pc3NpbmdcIixcIlJvb3Qgbm9kZSBtaXNzaW5nLlwiLHtwYWdlRXJyb3I6ZCxub2RlRXJyb3I6Zyx1cmw6dX0pfX1leHBvcnR7ciBhcyBmZXRjaEluZGV4SW5mb307XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4zMy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e18gYXMgZX1mcm9tXCIuLi8uLi8uLi9jaHVua3MvdHNsaWIuZXM2LmpzXCI7aW1wb3J0e21ha2VIYW5kbGUgYXMgdH1mcm9tXCIuLi8uLi8uLi9jb3JlL2hhbmRsZVV0aWxzLmpzXCI7aW1wb3J0IHIgZnJvbVwiLi4vLi4vLi4vY29yZS9Qcm9taXNlLmpzXCI7aW1wb3J0e3Byb3BlcnR5IGFzIGl9ZnJvbVwiLi4vLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9wcm9wZXJ0eS5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vY29yZS9oYXMuanNcIjtpbXBvcnRcIi4uLy4uLy4uL2NvcmUvTG9nZ2VyLmpzXCI7aW1wb3J0XCIuLi8uLi8uLi9jb3JlL1JhbmRvbUxDRy5qc1wiO2ltcG9ydHtzdWJjbGFzcyBhcyBvfWZyb21cIi4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvc3ViY2xhc3MuanNcIjtjb25zdCBzPXM9PntsZXQgbj1jbGFzcyBleHRlbmRzKHIuRXNyaVByb21pc2VNaXhpbihzKSl7Y29uc3RydWN0b3IoKXtzdXBlciguLi5hcmd1bWVudHMpLHRoaXMucGFyZW50PW51bGwsdGhpcy5fdXNlckludGVyYWN0aXZlPSExLHRoaXMuX2ludGVyYWN0aXZlVmlld01vZGVsQ291bnQ9MH1nZXQgaW50ZXJhY3RpdmUoKXtyZXR1cm4gdGhpcy5faW50ZXJhY3RpdmVWaWV3TW9kZWxDb3VudD4wfHx0aGlzLl91c2VySW50ZXJhY3RpdmV9c2V0IGludGVyYWN0aXZlKGUpe3RoaXMuX3VzZXJJbnRlcmFjdGl2ZT1lfWdldCB1cGRhdGluZygpe3JldHVybiExfWdldCB2aXNpYmxlKCl7cmV0dXJuIG51bGw9PXRoaXMucGFyZW50fHx0aGlzLnBhcmVudC52aXNpYmxlJiYhdGhpcy5wYXJlbnQuc3VzcGVuZGVkfXNldCB2aXNpYmxlKGUpe3RoaXMuX292ZXJyaWRlSWZTb21lKFwidmlzaWJsZVwiLGUpfWZvcmNlSW50ZXJhY3RpdmUoKXtyZXR1cm4gdGhpcy5faW50ZXJhY3RpdmVWaWV3TW9kZWxDb3VudCsrLHQoKCgpPT50aGlzLl9pbnRlcmFjdGl2ZVZpZXdNb2RlbENvdW50LS0pKX19O3JldHVybiBlKFtpKHtjb25zdHJ1Y3RPbmx5OiEwfSldLG4ucHJvdG90eXBlLFwicGFyZW50XCIsdm9pZCAwKSxlKFtpKHtjb25zdHJ1Y3RPbmx5OiEwfSldLG4ucHJvdG90eXBlLFwidmlld1wiLHZvaWQgMCksZShbaSh7dHlwZTpCb29sZWFufSldLG4ucHJvdG90eXBlLFwiaW50ZXJhY3RpdmVcIixudWxsKSxlKFtpKCldLG4ucHJvdG90eXBlLFwiX3VzZXJJbnRlcmFjdGl2ZVwiLHZvaWQgMCksZShbaSh7cmVhZE9ubHk6ITB9KV0sbi5wcm90b3R5cGUsXCJ1cGRhdGluZ1wiLG51bGwpLGUoW2koKV0sbi5wcm90b3R5cGUsXCJ2aXNpYmxlXCIsbnVsbCksZShbaSgpXSxuLnByb3RvdHlwZSxcIl9pbnRlcmFjdGl2ZVZpZXdNb2RlbENvdW50XCIsdm9pZCAwKSxuPWUoW28oXCJlc3JpLnZpZXdzLjNkLmFuYWx5c2lzLkFuYWx5c2lzVmlldzNEXCIpXSxuKSxufTtleHBvcnR7cyBhcyBBbmFseXNpc1ZpZXczRH07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4zMy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e18gYXMgZX1mcm9tXCIuLi8uLi8uLi8uLi9jaHVua3MvdHNsaWIuZXM2LmpzXCI7aW1wb3J0IGkgZnJvbVwiLi4vLi4vLi4vLi4vYW5hbHlzaXMvU2xpY2VQbGFuZS5qc1wiO2ltcG9ydCB0IGZyb21cIi4uLy4uLy4uLy4uL2NvcmUvQWNjZXNzb3IuanNcIjtpbXBvcnQgYSBmcm9tXCIuLi8uLi8uLi8uLi9jb3JlL0xvZ2dlci5qc1wiO2ltcG9ydHt3YXRjaCBhcyBsLHN5bmMgYXMgc31mcm9tXCIuLi8uLi8uLi8uLi9jb3JlL3JlYWN0aXZlVXRpbHMuanNcIjtpbXBvcnR7cHJvcGVydHkgYXMgbn1mcm9tXCIuLi8uLi8uLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3Byb3BlcnR5LmpzXCI7aW1wb3J0XCIuLi8uLi8uLi8uLi9jb3JlL2hhcy5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vLi4vY29yZS9SYW5kb21MQ0cuanNcIjtpbXBvcnR7c3ViY2xhc3MgYXMgcn1mcm9tXCIuLi8uLi8uLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3N1YmNsYXNzLmpzXCI7aW1wb3J0e2QgYXMgb31mcm9tXCIuLi8uLi8uLi8uLi9jaHVua3MvYm91bmRlZFBsYW5lLmpzXCI7aW1wb3J0IGMgZnJvbVwiLi4vLi4vLi4vLi4vbGF5ZXJzL0xheWVyLmpzXCI7aW1wb3J0IGggZnJvbVwiLi4vLi4vLi4vLi4vbGF5ZXJzL2J1aWxkaW5nU3VibGF5ZXJzL0J1aWxkaW5nQ29tcG9uZW50U3VibGF5ZXIuanNcIjtpbXBvcnR7aXNJQnVpbGRpbmdTY2VuZUxheWVyVmlldzNEIGFzIHUscHJvamVjdEFuZEVsZXZhdGlvbkFsaWduU2hhcGUgYXMgZCxwcm9qZWN0ZWRTaGFwZVRvUGxhbmUgYXMgcCxwbGFuZVRvU2hhcGUgYXMgeX1mcm9tXCIuL3NsaWNlVG9vbFV0aWxzLmpzXCI7aW1wb3J0e2xvZ0ZhaWxlZEdlb21ldHJ5UHJvamVjdGlvbkVycm9yIGFzIHd9ZnJvbVwiLi4vc3VwcG9ydC9wcm9qZWN0aW9uVXRpbHMuanNcIjtpbXBvcnR7aXNUZXJyYWluU3VyZmFjZUxheWVyIGFzIHZ9ZnJvbVwiLi4vLi4vdGVycmFpbi9pc1RlcnJhaW5TdXJmYWNlTGF5ZXIuanNcIjtsZXQgZj1jbGFzcyBleHRlbmRzIHR7Y29uc3RydWN0b3IoZSl7c3VwZXIoZSksdGhpcy5faW50ZXJuYWxDaGFuZ2U9ITEsdGhpcy5fY3VycmVudFNsaWNlUGxhbmU9bnVsbH1pbml0aWFsaXplKCl7dGhpcy5hZGRIYW5kbGVzKHRoaXMuYW5hbHlzaXMuZXhjbHVkZWRMYXllcnMub24oXCJiZWZvcmUtYWRkXCIsKGU9Pntjb25zdCBpPWUuaXRlbTtudWxsIT1pJiYoaSBpbnN0YW5jZW9mIGN8fGkgaW5zdGFuY2VvZiBoKT9pIGluc3RhbmNlb2YgYyYmdihpKT8oYS5nZXRMb2dnZXIodGhpcykuZXJyb3IoXCJleGNsdWRlZExheWVyc1wiLGBMYXllciAnJHtpLnRpdGxlfSwgaWQ6JHtpLmlkfScgb2YgdHlwZSAnJHtpLnR5cGV9JyBjYW4gbm90IGJlIGluZGl2aWR1YWxseSBleGNsdWRlZCBmcm9tIHNsaWNpbmcuIFVzZSAnZXhjbHVkZUdyb3VuZFN1cmZhY2UnIGluc3RlYWQuYCksZS5wcmV2ZW50RGVmYXVsdCgpKTp0aGlzLmFuYWx5c2lzLmV4Y2x1ZGVkTGF5ZXJzLmluY2x1ZGVzKGkpJiZlLnByZXZlbnREZWZhdWx0KCk6KGEuZ2V0TG9nZ2VyKHRoaXMpLmVycm9yKFwiZXhjbHVkZWRMYXllcnNcIixcIkludmFsaWQgbGF5ZXIgdHlwZSwgbGF5ZXIgbXVzdCBkZXJpdmUgZnJvbSBMYXllciBvciBCdWlsZGluZ0NvbXBvbmVudFN1YmxheWVyXCIpLGUucHJldmVudERlZmF1bHQoKSl9KSkpLFModGhpcy52aWV3LHRoaXMpLHRoaXMuYWRkSGFuZGxlcyhbbCgoKCk9PnRoaXMuYW5hbHlzaXNWaWV3RGF0YS5wbGFuZSksKCgpPT57dGhpcy5faW50ZXJuYWxDaGFuZ2V8fHRoaXMuX3VwZGF0ZVNsaWNlUGxhbmVGcm9tQm91bmRlZFBsYW5lKCksdGhpcy5fdXBkYXRlTGF5ZXJWaWV3cygpfSkscyksbCgoKCk9PnRoaXMuYW5hbHlzaXMuZXhjbHVkZUdyb3VuZFN1cmZhY2UpLCgoKT0+dGhpcy5fdXBkYXRlTGF5ZXJWaWV3cygpKSxzKSx0aGlzLmFuYWx5c2lzLmV4Y2x1ZGVkTGF5ZXJzLm9uKFwiY2hhbmdlXCIsKCgpPT50aGlzLl91cGRhdGVMYXllclZpZXdzKCkpKSxsKCgoKT0+W3RoaXMuYW5hbHlzaXNWaWV3RGF0YS5hY3RpdmUsdGhpcy5hbmFseXNpc1ZpZXdEYXRhLnZpc2libGVdKSwoKCk9Pnt0aGlzLl91cGRhdGVBY3RpdmVDb250cm9sbGVyKCksdGhpcy5fdXBkYXRlVmlld1NsaWNlUGxhbmUoKSx0aGlzLl91cGRhdGVWaWV3U2xpY2VQbGFuZURlY29yYXRpb24oKX0pLHMpLGwoKCgpPT50aGlzLl9hbGxMYXllckFuZFN1YkxheWVyVmlld3MpLCgoKT0+dGhpcy5fdXBkYXRlTGF5ZXJWaWV3cygpKSldKSx0aGlzLmFkZEhhbmRsZXMoW2woKCgpPT50aGlzLmFuYWx5c2lzLnNoYXBlKSwoKCk9Pnt0aGlzLl9pbnRlcm5hbENoYW5nZXx8KHRoaXMuX3VwZGF0ZUJvdW5kZWRQbGFuZUZyb21TbGljZVBsYW5lKCksdGhpcy5fdXBkYXRlVmlld1NsaWNlUGxhbmUoKSl9KSxzKSxsKCgoKT0+XCJ3ZWItc2NlbmVcIiE9PXRoaXMuYW5hbHlzaXMub3JpZ2luPy50eXBlKSwoKCk9PnRoaXMuX3VwZGF0ZVZpZXdTbGljZVBsYW5lRGVjb3JhdGlvbigpKSxzKV0sXCJhbmFseXNpc1wiKSx0aGlzLl91cGRhdGVBY3RpdmVDb250cm9sbGVyKCksdGhpcy5fdXBkYXRlQm91bmRlZFBsYW5lRnJvbVNsaWNlUGxhbmUoKSx0aGlzLl91cGRhdGVWaWV3U2xpY2VQbGFuZSgpLHRoaXMuX3VwZGF0ZVZpZXdTbGljZVBsYW5lRGVjb3JhdGlvbigpfWRlc3Ryb3koKXt0aGlzLmFuYWx5c2lzVmlld0RhdGEuYWN0aXZlJiYodGhpcy5hbmFseXNpc1ZpZXdEYXRhLmFjdGl2ZT0hMSx0aGlzLnZpZXcuc2xpY2UucGxhbmU9bnVsbCx0aGlzLl91cGRhdGVBY3RpdmVDb250cm9sbGVyKCksdGhpcy5fdXBkYXRlVmlld1NsaWNlUGxhbmUoKSksTCh0aGlzLnZpZXcsdGhpcyksdGhpcy5zZXQoXCJ2aWV3XCIsbnVsbCl9Z2V0IF9hbGxMYXllckFuZFN1YkxheWVyVmlld3MoKXtjb25zdCBlPXRoaXMudmlldy5hbGxMYXllclZpZXdzLml0ZW1zO3JldHVybiBlLmNvbmNhdChlLmZpbHRlcih1KS5mbGF0TWFwKCgoe3N1YmxheWVyVmlld3M6ZX0pPT5lLml0ZW1zKSkpfV91cGRhdGVCb3VuZGVkUGxhbmVGcm9tU2xpY2VQbGFuZSgpe2NvbnN0IGU9dGhpcy5hbmFseXNpcy5zaGFwZSxpPXRoaXMuX2N1cnJlbnRTbGljZVBsYW5lO2lmKG51bGw9PWkmJm51bGw9PWV8fG51bGwhPWkmJm51bGwhPWUmJmUuZXF1YWxzKGkpKXJldHVybjtsZXQgdD1udWxsLGw9bnVsbDtpZihudWxsIT1lPy5wb3NpdGlvbil7Y29uc3QgaT1lLnBvc2l0aW9uLnNwYXRpYWxSZWZlcmVuY2Uscz1kKGUsdGhpcy52aWV3KTtudWxsPT1zJiZ3KHRoaXMuYW5hbHlzaXMsaSxhLmdldExvZ2dlcih0aGlzKSksdD1wKHMsdGhpcy52aWV3LHt0aWx0RW5hYmxlZDp0aGlzLmFuYWx5c2lzLnRpbHRFbmFibGVkfSxvKCkpLG51bGwhPXQmJihsPXtoZWFkaW5nOmUuaGVhZGluZyx0aWx0OmUudGlsdCxwb3NpdGlvbjplLnBvc2l0aW9uLHdpZHRoOmUud2lkdGgsaGVpZ2h0OmUuaGVpZ2h0fSl9dGhpcy5fY3VycmVudFNsaWNlUGxhbmU9bCx0aGlzLl9pbnRlcm5hbENoYW5nZT0hMCx0aGlzLmFuYWx5c2lzVmlld0RhdGEucGxhbmU9dCx0aGlzLl9pbnRlcm5hbENoYW5nZT0hMX1fdXBkYXRlU2xpY2VQbGFuZUZyb21Cb3VuZGVkUGxhbmUoKXtjb25zdCBlPXRoaXMuYW5hbHlzaXNWaWV3RGF0YS5wbGFuZSx0PXkoZSx0aGlzLnZpZXcsdGhpcy52aWV3LnNwYXRpYWxSZWZlcmVuY2UsbmV3IGkpO2xldCBhPW51bGw7bnVsbCE9dCYmKGE9e2hlYWRpbmc6dC5oZWFkaW5nLHRpbHQ6dC50aWx0LHBvc2l0aW9uOnQucG9zaXRpb24sd2lkdGg6dC53aWR0aCxoZWlnaHQ6dC5oZWlnaHR9KSx0aGlzLl9jdXJyZW50U2xpY2VQbGFuZT1hLHRoaXMuX2ludGVybmFsQ2hhbmdlPSEwLHRoaXMuYW5hbHlzaXMuc2hhcGU9dCx0aGlzLl9pbnRlcm5hbENoYW5nZT0hMSx0aGlzLl91cGRhdGVWaWV3U2xpY2VQbGFuZSgpfV91cGRhdGVBY3RpdmVDb250cm9sbGVyKCl7aWYoZylyZXR1cm47Y29uc3QgZT1iKHRoaXMudmlldyk7aWYoIWUpcmV0dXJuO2lmKHRoaXMuYW5hbHlzaXNWaWV3RGF0YS5hY3RpdmUpbnVsbCE9ZS5hY3RpdmVDb250cm9sbGVyJiZlLmFjdGl2ZUNvbnRyb2xsZXIhPT10aGlzPyhnPSEwLGUuYWN0aXZlQ29udHJvbGxlci5hbmFseXNpc1ZpZXdEYXRhLmFjdGl2ZT0hMSxnPSExKTpudWxsIT1lLmFjdGl2ZUNvbnRyb2xsZXImJmUuYWN0aXZlQ29udHJvbGxlcix0aGlzLl91cGRhdGVMYXllclZpZXdzKCksZS5hY3RpdmVDb250cm9sbGVyPXRoaXM7ZWxzZXtpZihudWxsIT1lLmFjdGl2ZUNvbnRyb2xsZXImJmUuYWN0aXZlQ29udHJvbGxlciE9PXRoaXMpcmV0dXJuO251bGwhPWUuYWN0aXZlQ29udHJvbGxlciYmZS5hY3RpdmVDb250cm9sbGVyPT09dGhpcyYmKGUuYWN0aXZlQ29udHJvbGxlcj1udWxsLHRoaXMuX3VwZGF0ZUxheWVyVmlld3MoKSl9fV91cGRhdGVWaWV3U2xpY2VQbGFuZSgpe1YodGhpcy52aWV3KX1fdXBkYXRlVmlld1NsaWNlUGxhbmVEZWNvcmF0aW9uKCl7Xyh0aGlzLnZpZXcpfV91cGRhdGVMYXllclZpZXdzKCl7Y29uc3QgZT1udWxsIT10aGlzLmFuYWx5c2lzVmlld0RhdGEucGxhbmUmJnRoaXMuYW5hbHlzaXNWaWV3RGF0YS52aXNpYmxlJiZ0aGlzLmFuYWx5c2lzVmlld0RhdGEuYWN0aXZlLGk9W10sdD1lPT57XCJsYXllcnNcImluIGU/ZS5sYXllcnMuZm9yRWFjaCh0KTppLnB1c2goZSl9O3RoaXMuYW5hbHlzaXMuZXhjbHVkZWRMYXllcnMuZm9yRWFjaCh0KSx0aGlzLnZpZXcuYWxsTGF5ZXJWaWV3cy5mb3JFYWNoKCh0PT57dC5kZXN0cm95ZWR8fChcInNsaWNlUGxhbmVFbmFibGVkXCJpbiB0JiYodC5zbGljZVBsYW5lRW5hYmxlZD1lJiYhaS5pbmNsdWRlcyh0LmxheWVyKSksXCJzdWJsYXllclZpZXdzXCJpbiB0JiZ0LnN1YmxheWVyVmlld3MuZm9yRWFjaCgodD0+e3Quc2xpY2VQbGFuZUVuYWJsZWQ9ZSYmIWkuaW5jbHVkZXModC5zdWJsYXllcil9KSkpfSkpLG51bGwhPXRoaXMudmlldy5iYXNlbWFwVGVycmFpbiYmKHRoaXMudmlldy5iYXNlbWFwVGVycmFpbi5zbGljZVBsYW5lRW5hYmxlZD1lJiYhdGhpcy5hbmFseXNpcy5leGNsdWRlR3JvdW5kU3VyZmFjZSl9fTtlKFtuKCldLGYucHJvdG90eXBlLFwidmlld1wiLHZvaWQgMCksZShbbigpXSxmLnByb3RvdHlwZSxcImFuYWx5c2lzXCIsdm9pZCAwKSxlKFtuKCldLGYucHJvdG90eXBlLFwiYW5hbHlzaXNWaWV3RGF0YVwiLHZvaWQgMCksZShbbigpXSxmLnByb3RvdHlwZSxcIl9hbGxMYXllckFuZFN1YkxheWVyVmlld3NcIixudWxsKSxmPWUoW3IoXCJlc3JpLnZpZXdzLjNkLmFuYWx5c2lzLlNsaWNlLlNsaWNlQ29udHJvbGxlclwiKV0sZik7Y29uc3QgbT1uZXcgTWFwO2xldCBnPSExO2Z1bmN0aW9uIFYoZSl7Y29uc3QgaT1iKGUpLHQ9aT8uYWN0aXZlQ29udHJvbGxlcjtudWxsIT10Py5hbmFseXNpc1ZpZXdEYXRhLnBsYW5lJiZ0LmFuYWx5c2lzVmlld0RhdGEudmlzaWJsZT9lLnNsaWNlLnBsYW5lPXQuYW5hbHlzaXNWaWV3RGF0YS5wbGFuZTplLnNsaWNlLnBsYW5lPW51bGx9ZnVuY3Rpb24gXyhlKXtjb25zdCBpPWIoZSksdD1pPy5hY3RpdmVDb250cm9sbGVyO2Uuc2xpY2UuaXNEZWNvcmF0aW9uPVwid2ViLXNjZW5lXCIhPT10Py5hbmFseXNpcy5vcmlnaW4/LnR5cGV9ZnVuY3Rpb24gUyhlLGkpe20uaGFzKGUpfHxtLnNldChlLHthbGw6W10sYWN0aXZlQ29udHJvbGxlcjpudWxsfSksbS5nZXQoZSk/LmFsbC5wdXNoKGkpfWZ1bmN0aW9uIGIoZSl7cmV0dXJuIG0uZ2V0KGUpfWZ1bmN0aW9uIEwoZSxpKXtpZighbS5oYXMoZSkpdGhyb3cgbmV3IEVycm9yKFwidmlldyBleHBlY3RlZCBpbiBnbG9iYWwgc2xpY2UgcmVnaXN0ZXJcIik7Y29uc3QgdD1tLmdldChlKSxhPXQ/LmFsbC5sYXN0SW5kZXhPZihpKT8/LTE7aWYoIXR8fC0xPT09YSl0aHJvdyBuZXcgRXJyb3IoXCJjb250cm9sbGVyIGV4cGVjdGVkIGluIGdsb2JhbCBzbGljZSByZWdpc3RlclwiKTt0LmFsbC5zcGxpY2UoYSwxKSwwPT09dC5hbGwubGVuZ3RoJiZtLmRlbGV0ZShlKX1leHBvcnR7ZiBhcyBTbGljZUNvbnRyb2xsZXJ9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMzMvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtfIGFzIHR9ZnJvbVwiLi4vLi4vLi4vLi4vY2h1bmtzL3RzbGliLmVzNi5qc1wiO2ltcG9ydCBlIGZyb21cIi4uLy4uLy4uLy4uL2FuYWx5c2lzL1NsaWNlUGxhbmUuanNcIjtpbXBvcnR7Y2xvY2sgYXMgaX1mcm9tXCIuLi8uLi8uLi8uLi9jb3JlL2Nsb2NrLmpzXCI7aW1wb3J0e2Rlc3Ryb3lNYXliZSBhcyBhLHJlbW92ZU1heWJlIGFzIHN9ZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9tYXliZS5qc1wiO2ltcG9ydHt3YXRjaCBhcyBuLHN5bmMgYXMgcix3aGVuIGFzIGwsc3luY0FuZEluaXRpYWwgYXMgb31mcm9tXCIuLi8uLi8uLi8uLi9jb3JlL3JlYWN0aXZlVXRpbHMuanNcIjtpbXBvcnR7YWRkRnJhbWVUYXNrIGFzIGh9ZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9zY2hlZHVsaW5nLmpzXCI7aW1wb3J0e2NyZWF0ZVNjcmVlblBvaW50IGFzIHAsc2NyZWVuUG9pbnRPYmplY3RUb0FycmF5IGFzIHV9ZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9zY3JlZW5VdGlscy5qc1wiO2ltcG9ydHtwcm9wZXJ0eSBhcyBjfWZyb21cIi4uLy4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvcHJvcGVydHkuanNcIjtpbXBvcnRcIi4uLy4uLy4uLy4uL2NvcmUvaGFzLmpzXCI7aW1wb3J0XCIuLi8uLi8uLi8uLi9jb3JlL0xvZ2dlci5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vLi4vY29yZS9SYW5kb21MQ0cuanNcIjtpbXBvcnR7c3ViY2xhc3MgYXMgZH1mcm9tXCIuLi8uLi8uLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3N1YmNsYXNzLmpzXCI7aW1wb3J0e2Zyb21Sb3RhdGlvbiBhcyBfLGZyb21TY2FsaW5nIGFzIHYsbXVsdGlwbHkgYXMgbX1mcm9tXCIuLi8uLi8uLi8uLi9jb3JlL2xpYnMvZ2wtbWF0cml4LTIvbWF0aC9tYXQ0LmpzXCI7aW1wb3J0e2UgYXMgUCxsIGFzIHksYyBhcyB3LGcsZix0IGFzIE0sbiBhcyBULGkgYXMgRH1mcm9tXCIuLi8uLi8uLi8uLi9jaHVua3MvdmVjMzIuanNcIjtpbXBvcnR7Y3JlYXRlIGFzIFYsY2xvbmUgYXMgYn1mcm9tXCIuLi8uLi8uLi8uLi9jb3JlL2xpYnMvZ2wtbWF0cml4LTIvZmFjdG9yaWVzL3ZlYzNmNjQuanNcIjtpbXBvcnR7Y2xvbmUgYXMgayxaRVJPUyBhcyBTfWZyb21cIi4uLy4uLy4uLy4uL2NvcmUvbGlicy9nbC1tYXRyaXgtMi9mYWN0b3JpZXMvdmVjNGY2NC5qc1wiO2ltcG9ydHtkIGFzIEUsYSBhcyB4LG4gYXMgQyxmIGFzIGp9ZnJvbVwiLi4vLi4vLi4vLi4vY2h1bmtzL2JvdW5kZWRQbGFuZS5qc1wiO2ltcG9ydHtzaWduZWREaXN0YW5jZSBhcyBILGNyZWF0ZSBhcyBSLGludGVyc2VjdFJheSBhcyBJLGdldE5vcm1hbCBhcyBPfWZyb21cIi4uLy4uLy4uLy4uL2dlb21ldHJ5L3N1cHBvcnQvcGxhbmUuanNcIjtpbXBvcnR7Y3JlYXRlIGFzIHp9ZnJvbVwiLi4vLi4vLi4vLi4vZ2VvbWV0cnkvc3VwcG9ydC9yYXkuanNcIjtpbXBvcnR7c3YzZCBhcyBHLHNtNGQgYXMgQSxzdjJkIGFzIFV9ZnJvbVwiLi4vLi4vLi4vLi4vZ2VvbWV0cnkvc3VwcG9ydC92ZWN0b3JTdGFja3MuanNcIjtpbXBvcnR7Z2V0Um90YXRlSGVhZGluZ1RleHR1cmUgYXMgTCxnZXRUaWx0Um90YXRlVGV4dHVyZSBhcyBLfWZyb21cIi4uL2ltYWdlcy9GYWN0b3J5LmpzXCI7aW1wb3J0e1Jlc2l6ZU1hbmlwdWxhdG9yIGFzIEJ9ZnJvbVwiLi9SZXNpemVNYW5pcHVsYXRvci5qc1wiO2ltcG9ydHtSb3RhdGVNYW5pcHVsYXRvciBhcyBGfWZyb21cIi4vUm90YXRlTWFuaXB1bGF0b3IuanNcIjtpbXBvcnR7Z2V0T3V0bGluZUNvbG9yIGFzIE4scGxhbmVDb2xvciBhcyBxfWZyb21cIi4vc2V0dGluZ3MuanNcIjtpbXBvcnR7U2hpZnRNYW5pcHVsYXRvciBhcyBaLE9mZnNldE1vZGUgYXMgV31mcm9tXCIuL1NoaWZ0TWFuaXB1bGF0b3IuanNcIjtpbXBvcnR7cG9pbnRlck1vdmVUaW1lck1zIGFzIEoscGxhbmVQcmV2aWV3T3V0bGluZVdpZHRoIGFzIFEsZm9yY2VWZXJ0aWNhbE1vZGlmaWVyIGFzIFgsZm9yY2VIb3Jpem9udGFsTW9kaWZpZXIgYXMgWSxwcmV2aWV3RmFkZUR1cmF0aW9uU2Vjb25kcyBhcyAkLHByZXZpZXdGYWRlRG90VGhyZXNob2xkIGFzIHR0LGluaXRpYWxEZXB0aE9mZnNldEZyYWMgYXMgZXR9ZnJvbVwiLi9zbGljZVRvb2xDb25maWcuanNcIjtpbXBvcnR7Y3JlYXRlR3JpZFZpc3VhbEVsZW1lbnQgYXMgaXQsY3JlYXRlT3V0bGluZVZpc3VhbEVsZW1lbnQgYXMgYXQscGxhbmVUb1NoYXBlIGFzIHN0LGNyZWF0ZVJvdGF0ZVBsYW5lIGFzIG50LFJvdGF0aW9uQXhpcyBhcyBydCxyZXNpemVQbGFuZSBhcyBsdCxjYWxjdWxhdGVQbGFuZUhhbGZTaXplIGFzIG90LFNsaWNlT3JpZW50YXRpb24gYXMgaHQsY3JlYXRlUGxhbmUgYXMgcHQsRGlkUG9pbnRlck1vdmVSZWNlbnRseUZsYWcgYXMgdXQsY2FsY3VsYXRlQm91bmRlZFBsYW5lVHJhbnNsYXRlUm90YXRlIGFzIGN0LHVwZGF0ZVNoaWZ0UmVzdGFydEhhbmRsZSBhcyBkdCx1cGRhdGVSb3RhdGVIZWFkaW5nSGFuZGxlIGFzIF90LHVwZGF0ZVJvdGF0ZVRpbHRIYW5kbGUgYXMgdnQsdXBkYXRlUmVzaXplSGFuZGxlIGFzIG10LGNyZWF0ZVNoaWZ0UGxhbmUgYXMgUHR9ZnJvbVwiLi9zbGljZVRvb2xVdGlscy5qc1wiO2ltcG9ydHtjYWxjdWxhdGVJbnB1dFJvdGF0aW9uVHJhbnNmb3JtIGFzIHl0fWZyb21cIi4uLy4uL2ludGVyYWN0aXZlL21hbmlwdWxhdG9yVXRpbHMuanNcIjtpbXBvcnR7c2NyZWVuVG9SZW5kZXJQbGFuZSBhcyB3dH1mcm9tXCIuLi8uLi9pbnRlcmFjdGl2ZS9lZGl0aW5nVG9vbHMvZHJhZ0V2ZW50UGlwZWxpbmUzRC5qc1wiO2ltcG9ydHtmcm9tU2NyZWVuTm9ybWFsaXplZCBhcyBndH1mcm9tXCIuLi8uLi9zdXBwb3J0L2dlb21ldHJ5VXRpbHMvcmF5LmpzXCI7aW1wb3J0e0FuYWx5c2lzVG9vbEJhc2UgYXMgZnR9ZnJvbVwiLi4vLi4vLi4vaW50ZXJhY3RpdmUvQW5hbHlzaXNUb29sQmFzZS5qc1wiO2ltcG9ydHtjcmVhdGVNYW5pcHVsYXRvckRyYWdFdmVudFBpcGVsaW5lIGFzIE10fWZyb21cIi4uLy4uLy4uL2ludGVyYWN0aXZlL2RyYWdFdmVudFBpcGVsaW5lLmpzXCI7aW1wb3J0e25ld1Rvb2xJbnRlcnNlY3RvciBhcyBUdH1mcm9tXCIuLi8uLi8uLi9pbnRlcmFjdGl2ZS9Ub29sSW50ZXJzZWN0b3IuanNcIjtpbXBvcnR7Y3JlYXRlU2NyZWVuUG9pbnRGcm9tRXZlbnQgYXMgRHR9ZnJvbVwiLi4vLi4vLi4vc3VwcG9ydC9zY3JlZW5VdGlscy5qc1wiO3ZhciBWdDtsZXQgYnQ9Y2xhc3MgZXh0ZW5kcyBmdHtzdGF0aWN7VnQ9dGhpc31jb25zdHJ1Y3Rvcih0KXtzdXBlcih0KSx0aGlzLl9jbG9jaz1pLHRoaXMuX3ByZXZpZXdQbGFuZU9wYWNpdHk9MSx0aGlzLnJlbW92ZUluY29tcGxldGVPbkNhbmNlbD0hMSx0aGlzLl9tb2RlPVwibm9uZVwiLHRoaXMuc2hpZnRNYW5pcHVsYXRvcj1udWxsLHRoaXMucm90YXRlSGVhZGluZ01hbmlwdWxhdG9yPW51bGwsdGhpcy5yb3RhdGVUaWx0TWFuaXB1bGF0b3I9bnVsbCx0aGlzLnJlc2l6ZU1hbmlwdWxhdG9ycz1udWxsLHRoaXMuX2ZyYW1lVGFzaz1udWxsLHRoaXMuX3BvaW50ZXJNb3ZlVGltZXJNcz1KLHRoaXMuX3ByZXZQb2ludGVyTW92ZVRpbWVvdXQ9bnVsbCx0aGlzLl9wcmV2aWV3UGxhbmVHcmlkVmlzdWFsRWxlbWVudD1udWxsLHRoaXMuX3ByZXZpZXdQbGFuZU91dGxpbmVWaXN1YWxFbGVtZW50PW51bGwsdGhpcy5fc3RhcnRQbGFuZT1FKCksdGhpcy5fcHJldmlld1BsYW5lPW51bGwsdGhpcy5fYWN0aXZlS2V5TW9kaWZpZXJzPXt9LHRoaXMuX2xhc3RDdXJzb3JQb3NpdGlvbj1wKCksdGhpcy5fcmVzaXplSGFuZGxlcz1be2RpcmVjdGlvbjpbMSwwXX0se2RpcmVjdGlvbjpbMSwxXX0se2RpcmVjdGlvbjpbMCwxXX0se2RpcmVjdGlvbjpbLTEsMV19LHtkaXJlY3Rpb246Wy0xLDBdfSx7ZGlyZWN0aW9uOlstMSwtMV19LHtkaXJlY3Rpb246WzAsLTFdfSx7ZGlyZWN0aW9uOlsxLC0xXX1dLHRoaXMuX2ludGVyc2VjdG9yPVR0KHQudmlldy5zdGF0ZS52aWV3aW5nTW9kZSl9aW5pdGlhbGl6ZSgpe2lmKG51bGw9PXRoaXMuYW5hbHlzaXMpdGhyb3cgbmV3IEVycm9yKFwiU2xpY2VUb29sIHJlcXVpcmVzIHZhbGlkIGFuYWx5c2lzLCBidXQgbnVsbCB3YXMgcHJvdmlkZWQuXCIpO2NvbnN0IHQ9dD0+e3RoaXMuX3VwZGF0ZU1hbmlwdWxhdG9yc0ludGVyYWN0aXZlKHQpLHQuZ3JhYmJpbmd8fChudWxsIT10aGlzLmFuYWx5c2lzVmlld0RhdGEucGxhbmUmJngodGhpcy5hbmFseXNpc1ZpZXdEYXRhLnBsYW5lLHRoaXMuX3N0YXJ0UGxhbmUpLHRoaXMuaW5wdXRTdGF0ZT1udWxsKX0sZT1uZXcgWih0aGlzLnZpZXcsVy5DRU5URVJfT05fQVJST1cpO3RoaXMuc2hpZnRNYW5pcHVsYXRvcj1lLHRoaXMubWFuaXB1bGF0b3JzLmFkZChlKSx0aGlzLmFkZEhhbmRsZXMoW3RoaXMuX2NyZWF0ZVNoaWZ0RHJhZ1BpcGVsaW5lKGUpLGUuZXZlbnRzLm9uKFwiZ3JhYi1jaGFuZ2VkXCIsKGk9Pnt0aGlzLl9vblNoaWZ0R3JhYihpKSx0KGUpfSkpXSk7Y29uc3QgaT0hdGhpcy52aWV3LnN0YWdlPy5yZW5kZXJWaWV3LnJlbmRlcmluZ0NvbnRleHQuZHJpdmVyVGVzdC5zdmdQcmVtdWx0aXBsaWVzQWxwaGEucmVzdWx0LGE9bmV3IEYodGhpcy52aWV3LCgodCxlKT0+TCh0aGlzLnZpZXcuc3RhZ2UudGV4dHVyZXMse2FjY2VudENvbG9yOnQsY29udHJhc3RDb2xvcjplLHByZU11bHRpcGx5QWxwaGE6aX0pKSk7dGhpcy5yb3RhdGVIZWFkaW5nTWFuaXB1bGF0b3I9YSx0aGlzLm1hbmlwdWxhdG9ycy5hZGQoYSksdGhpcy5hZGRIYW5kbGVzKFt0aGlzLl9jcmVhdGVSb3RhdGVIZWFkaW5nRHJhZ1BpcGVsaW5lKGEpLGEuZXZlbnRzLm9uKFwiZ3JhYi1jaGFuZ2VkXCIsKGU9Pnt0aGlzLl9vblJvdGF0ZUhlYWRpbmdHcmFiKGUpLHQoYSl9KSldKTtjb25zdCBzPW5ldyBGKHRoaXMudmlldywoKHQsZSk9PksodGhpcy52aWV3LnN0YWdlLnRleHR1cmVzLHthY2NlbnRDb2xvcjp0LGNvbnRyYXN0Q29sb3I6ZSxwcmVNdWx0aXBseUFscGhhOml9KSkpO3RoaXMucm90YXRlVGlsdE1hbmlwdWxhdG9yPXMsdGhpcy5tYW5pcHVsYXRvcnMuYWRkKHMpLHRoaXMuYWRkSGFuZGxlcyhbdGhpcy5fY3JlYXRlUm90YXRlVGlsdERyYWdQaXBlbGluZShzKSxzLmV2ZW50cy5vbihcImdyYWItY2hhbmdlZFwiLChlPT57dGhpcy5fb25Sb3RhdGVUaWx0R3JhYihlKSx0KHMpfSkpXSksdGhpcy5yZXNpemVNYW5pcHVsYXRvcnM9dGhpcy5fcmVzaXplSGFuZGxlcy5tYXAoKChlLGkpPT57Y29uc3QgYT1uZXcgQih0aGlzLnZpZXcsZSk7cmV0dXJuIHRoaXMuYWRkSGFuZGxlcyhbdGhpcy5fY3JlYXRlUmVzaXplRHJhZ1BpcGVsaW5lKGEpLGEuZXZlbnRzLm9uKFwiZ3JhYi1jaGFuZ2VkXCIsKGU9Pnt0aGlzLl9vblJlc2l6ZUdyYWIoZSxpKSx0KGEpfSkpXSksYX0pKSx0aGlzLm1hbmlwdWxhdG9ycy5hZGRNYW55KHRoaXMucmVzaXplTWFuaXB1bGF0b3JzKSx0aGlzLl9wcmV2aWV3UGxhbmVHcmlkVmlzdWFsRWxlbWVudD1pdCh0aGlzLnZpZXcpLHRoaXMuX3ByZXZpZXdQbGFuZU91dGxpbmVWaXN1YWxFbGVtZW50PWF0KHRoaXMudmlldyksdGhpcy5fcHJldmlld1BsYW5lT3V0bGluZVZpc3VhbEVsZW1lbnQud2lkdGg9USx0aGlzLmFkZEhhbmRsZXMobigoKCk9Plt0aGlzLmFuYWx5c2lzVmlld0RhdGEucGxhbmUsdGhpcy5hbmFseXNpcy50aWx0RW5hYmxlZF0pLCgoKT0+dGhpcy5fdXBkYXRlTWFuaXB1bGF0b3JzKCkpLHIpKSx0aGlzLmFkZEhhbmRsZXMoW2woKCgpPT5cInNsaWNlZFwiPT09dGhpcy5zdGF0ZSksKCgpPT57dGhpcy5maW5pc2hUb29sQ3JlYXRpb24oKSx0aGlzLnN0b3AoKX0pLG8pLG4oKCgpPT50aGlzLnZpZXcuc3RhdGUuY2FtZXJhKSwoKCk9PnRoaXMuX29uQ2FtZXJhQ2hhbmdlKCkpKV0pfWRlc3Ryb3koKXt0aGlzLl9yZW1vdmVGcmFtZVRhc2soKSx0aGlzLl9jbGVhclBvaW50ZXJNb3ZlVGltZW91dCgpLHRoaXMuX3ByZXZpZXdQbGFuZU91dGxpbmVWaXN1YWxFbGVtZW50PWEodGhpcy5fcHJldmlld1BsYW5lT3V0bGluZVZpc3VhbEVsZW1lbnQpLHRoaXMuX3ByZXZpZXdQbGFuZUdyaWRWaXN1YWxFbGVtZW50PWEodGhpcy5fcHJldmlld1BsYW5lR3JpZFZpc3VhbEVsZW1lbnQpfWdldCBzdGF0ZSgpe2NvbnN0IHQ9ISF0aGlzLmFuYWx5c2lzVmlld0RhdGEucGxhbmUsZT0hIXRoaXMuaW5wdXRTdGF0ZTtyZXR1cm4gdD90JiZlP1wic2xpY2luZ1wiOnQmJiFlP1wic2xpY2VkXCI6XCJyZWFkeVwiOlwicmVhZHlcIn1nZXQgY3Vyc29yKCl7cmV0dXJuIHRoaXMuYWN0aXZlP3RoaXMuX3BsYWNpbmdTbGljZVBsYW5lfHxcImV4Y2x1ZGVcIj09PXRoaXMubW9kZT9cImNyb3NzaGFpclwiOm51bGwhPXRoaXMuX2NyZWF0aW5nUG9pbnRlcklkP1wiZ3JhYmJpbmdcIjpudWxsOm51bGx9c2V0IGFuYWx5c2lzKHQpe2lmKG51bGw9PXQpdGhyb3cgbmV3IEVycm9yKFwiU2xpY2VUb29sIHJlcXVpcmVzIHZhbGlkIGFuYWx5c2lzLCBidXQgbnVsbCB3YXMgcHJvdmlkZWQuXCIpO3RoaXMucmVtb3ZlSGFuZGxlcyhcImFuYWx5c2lzXCIpLHRoaXMuX3NldChcImFuYWx5c2lzXCIsdCl9Z2V0IG1vZGUoKXtyZXR1cm4gdGhpcy5fbW9kZX1zdGF0aWN7dGhpcy5kaXNhYmxlRW5naW5lTGF5ZXJzPSExfWdldCBpbnB1dFN0YXRlKCl7cmV0dXJuIHRoaXMuX2dldChcImlucHV0U3RhdGVcIil9c2V0IGlucHV0U3RhdGUodCl7dGhpcy5fc2V0KFwiaW5wdXRTdGF0ZVwiLHQpLHRoaXMuYW5hbHlzaXNWaWV3RGF0YS5zaG93R3JpZD1udWxsIT10JiZcInJlc2l6ZVwiPT09dC50eXBlLHRoaXMuX3VwZGF0ZU1hdGVyaWFscygpfWdldCBfcGxhY2luZ1NsaWNlUGxhbmUoKXtyZXR1cm4gdGhpcy5hY3RpdmUmJiF0aGlzLmlucHV0U3RhdGUmJlwicGxhY2VcIj09PXRoaXMuX21vZGV9Z2V0IF9jcmVhdGluZ1BvaW50ZXJJZCgpe3JldHVybiBudWxsIT10aGlzLmlucHV0U3RhdGUmJlwic2hpZnRcIj09PXRoaXMuaW5wdXRTdGF0ZS50eXBlP3RoaXMuaW5wdXRTdGF0ZS5jcmVhdGluZ1BvaW50ZXJJZDpudWxsfXN0YXJ0KHQpe3RoaXMuX2ZpbmlzaFRvb2xDcmVhdGlvbklmVmFsaWQoKSx0aGlzLl9tb2RlPXQsdGhpcy5hY3RpdmV8fCh0aGlzLnZpZXcuYWN0aXZlVG9vbD10aGlzKX1zdG9wKCl7dGhpcy5hY3RpdmUmJih0aGlzLnZpZXcuYWN0aXZlVG9vbD1udWxsKX1vbkFjdGl2YXRlKCl7dGhpcy5fZmluaXNoVG9vbENyZWF0aW9uSWZWYWxpZCgpLFwibm9uZVwiPT09dGhpcy5fbW9kZSYmbnVsbD09dGhpcy5hbmFseXNpc1ZpZXdEYXRhLnBsYW5lJiYodGhpcy5fbW9kZT1cInBsYWNlXCIpfW9uRGVhY3RpdmF0ZSgpe3RoaXMuX21vZGU9XCJub25lXCIsdGhpcy5fdXBkYXRlUHJldmlld1BsYW5lKG51bGwpfW9uU2hvdygpe3RoaXMuX3VwZGF0ZVZpc2liaWxpdHkoITApfW9uSGlkZSgpe3RoaXMuX3VwZGF0ZVZpc2liaWxpdHkoITEpfV91cGRhdGVWaXNpYmlsaXR5KHQpe3RoaXMuX3VwZGF0ZU1hbmlwdWxhdG9ycygpLHR8fHRoaXMuX2NsZWFyUG9pbnRlck1vdmVUaW1lb3V0KCl9b25JbnB1dEV2ZW50KHQpe3N3aXRjaCh0LnR5cGUpe2Nhc2VcInBvaW50ZXItZHJhZ1wiOmlmKCFTdCh0KSlyZXR1cm47dGhpcy5fcGxhY2luZ1NsaWNlUGxhbmU/dGhpcy5fb25DbGlja1BsYWNlUGxhbmUodCkmJnQuc3RvcFByb3BhZ2F0aW9uKCk6dGhpcy5fb25Qb2ludGVyRHJhZyh0KSYmdC5zdG9wUHJvcGFnYXRpb24oKTticmVhaztjYXNlXCJwb2ludGVyLW1vdmVcIjp0aGlzLl9vblBvaW50ZXJNb3ZlKHQpO2JyZWFrO2Nhc2VcInBvaW50ZXItdXBcIjp0aGlzLl9vblBvaW50ZXJVcCh0KSYmdC5zdG9wUHJvcGFnYXRpb24oKTticmVhaztjYXNlXCJpbW1lZGlhdGUtY2xpY2tcIjppZighU3QodCkpcmV0dXJuO1wiZXhjbHVkZVwiPT09dGhpcy5fbW9kZT90LmRlZmVyKChhc3luYygpPT57YXdhaXQgdGhpcy5fb25DbGlja0V4Y2x1ZGVMYXllcih0KSYmdC5zdG9wUHJvcGFnYXRpb24oKX0pKTp0aGlzLl9vbkNsaWNrUGxhY2VQbGFuZSh0KSYmdC5zdG9wUHJvcGFnYXRpb24oKTticmVhaztjYXNlXCJkcmFnXCI6dGhpcy5pbnB1dFN0YXRlJiZ0LnN0b3BQcm9wYWdhdGlvbigpO2JyZWFrO2Nhc2VcImtleS1kb3duXCI6dGhpcy5fb25LZXlEb3duKHQpJiZ0LnN0b3BQcm9wYWdhdGlvbigpO2JyZWFrO2Nhc2VcImtleS11cFwiOnRoaXMuX29uS2V5VXAodCkmJnQuc3RvcFByb3BhZ2F0aW9uKCl9fW9uRWRpdGFibGVDaGFuZ2UoKXt0aGlzLmFuYWx5c2lzVmlld0RhdGEuZWRpdGFibGU9dGhpcy5pbnRlcm5hbGx5RWRpdGFibGV9X29uUG9pbnRlckRyYWcodCl7Y29uc3QgZT10aGlzLmlucHV0U3RhdGU7aWYodC5wb2ludGVySWQ9PT10aGlzLl9jcmVhdGluZ1BvaW50ZXJJZCYmbnVsbCE9ZSYmXCJzaGlmdFwiPT09ZS50eXBlKXtjb25zdCBpPUR0KHQpO3JldHVybiB0aGlzLnNoaWZ0TWFuaXB1bGF0b3IuZXZlbnRzLmVtaXQoXCJkcmFnXCIse2FjdGlvbjplLmhhc0JlZW5EcmFnZ2VkP1widXBkYXRlXCI6XCJzdGFydFwiLHBvaW50ZXJUeXBlOnQucG9pbnRlclR5cGUsc3RhcnQ6aSxzY3JlZW5Qb2ludDppfSksZS5oYXNCZWVuRHJhZ2dlZD0hMCwhMH1yZXR1cm4hMX1fb25Qb2ludGVyTW92ZSh0KXt0aGlzLl9sYXN0Q3Vyc29yUG9zaXRpb24ueD10LngsdGhpcy5fbGFzdEN1cnNvclBvc2l0aW9uLnk9dC55LHRoaXMuX3Jlc2V0UG9pbnRlck1vdmVUaW1lb3V0KCksXCJ0b3VjaFwiIT09dC5wb2ludGVyVHlwZSYmdGhpcy5fdXBkYXRlUHJldmlld1BsYW5lKER0KHQpLHRoaXMuX2FjdGl2ZUtleU1vZGlmaWVycyl9X29uQ2FtZXJhQ2hhbmdlKCl7dGhpcy5fdXBkYXRlUHJldmlld1BsYW5lKHRoaXMuX2xhc3RDdXJzb3JQb3NpdGlvbix0aGlzLl9hY3RpdmVLZXlNb2RpZmllcnMpLHRoaXMuX3VwZGF0ZU1hbmlwdWxhdG9ycygpfV9vblBvaW50ZXJVcCh0KXtpZih0LnBvaW50ZXJJZD09PXRoaXMuX2NyZWF0aW5nUG9pbnRlcklkJiZudWxsIT10aGlzLmFuYWx5c2lzVmlld0RhdGEucGxhbmUpe2NvbnN0IGU9RHQodCk7cmV0dXJuIHRoaXMuc2hpZnRNYW5pcHVsYXRvci5ldmVudHMuZW1pdChcImRyYWdcIix7YWN0aW9uOlwiZW5kXCIsc3RhcnQ6ZSxzY3JlZW5Qb2ludDplfSkseCh0aGlzLmFuYWx5c2lzVmlld0RhdGEucGxhbmUsdGhpcy5fc3RhcnRQbGFuZSksdGhpcy5pbnB1dFN0YXRlPW51bGwsITB9cmV0dXJuITF9X29uQ2xpY2tQbGFjZVBsYW5lKHQpe2lmKCF0aGlzLl9wbGFjaW5nU2xpY2VQbGFuZSlyZXR1cm4hMTtjb25zdCBpPUR0KHQpLGE9RSgpO2lmKHRoaXMuX3BpY2tQbGFuZShpLCExLHRoaXMuX2FjdGl2ZUtleU1vZGlmaWVycyxhKSl7aWYoXCJwb2ludGVyLWRyYWdcIj09PXQudHlwZSl7Y29uc3QgZT1ndCh0aGlzLnZpZXcuc3RhdGUuY2FtZXJhLGkseHQpO3RoaXMuaW5wdXRTdGF0ZT1rdChlLHQucG9pbnRlcklkLGEub3JpZ2luLGEpfXJldHVybiB4KGEsdGhpcy5fc3RhcnRQbGFuZSksdGhpcy5hbmFseXNpcy5zaGFwZT1zdChhLHRoaXMudmlldyx0aGlzLnZpZXcuc3BhdGlhbFJlZmVyZW5jZSxuZXcgZSksXCJwb2ludGVyLWRyYWdcIiE9PXQudHlwZSYmdGhpcy5zdG9wKCksITB9cmV0dXJuITF9YXN5bmMgX29uQ2xpY2tFeGNsdWRlTGF5ZXIodCl7aWYoXCJleGNsdWRlXCIhPT10aGlzLm1vZGUpcmV0dXJuITE7Y29uc3QgZT1hd2FpdCB0aGlzLnZpZXcuaGl0VGVzdChEdCh0KSksaT1lLnJlc3VsdHMuYXQoMCk7aWYoaSl7Y29uc3QgdD1cImdyYXBoaWNcIj09PWkudHlwZSYmaS5ncmFwaGljO2lmKHQpe2NvbnN0IGU9dC5zb3VyY2VMYXllcnx8dC5sYXllcjtlJiZ0aGlzLmFuYWx5c2lzLmV4Y2x1ZGVkTGF5ZXJzLnB1c2goZSl9fWVsc2UgZS5ncm91bmQubGF5ZXI/dGhpcy5hbmFseXNpcy5leGNsdWRlZExheWVycy5wdXNoKGUuZ3JvdW5kLmxheWVyKTp0aGlzLmFuYWx5c2lzLmV4Y2x1ZGVHcm91bmRTdXJmYWNlPSEwO3JldHVybiB0aGlzLnN0b3AoKSwhMH1fb25LZXlEb3duKHQpe3JldHVybih0LmtleT09PVh8fHQua2V5PT09WSkmJih0aGlzLl9hY3RpdmVLZXlNb2RpZmllcnNbdC5rZXldPSEwLG51bGwhPXRoaXMuX3ByZXZpZXdQbGFuZSYmdGhpcy5fdXBkYXRlUHJldmlld1BsYW5lKHRoaXMuX2xhc3RDdXJzb3JQb3NpdGlvbix0aGlzLl9hY3RpdmVLZXlNb2RpZmllcnMpLCEwKX1fb25LZXlVcCh0KXtyZXR1cm4hKHQua2V5IT09WCYmdC5rZXkhPT1ZfHwhdGhpcy5fYWN0aXZlS2V5TW9kaWZpZXJzW3Qua2V5XSkmJihkZWxldGUgdGhpcy5fYWN0aXZlS2V5TW9kaWZpZXJzW3Qua2V5XSxudWxsIT10aGlzLl9wcmV2aWV3UGxhbmUmJnRoaXMuX3VwZGF0ZVByZXZpZXdQbGFuZSh0aGlzLl9sYXN0Q3Vyc29yUG9zaXRpb24sdGhpcy5fYWN0aXZlS2V5TW9kaWZpZXJzKSwhMCl9X29uU2hpZnRHcmFiKHQpe2lmKFwic3RhcnRcIiE9PXQuYWN0aW9ufHxudWxsPT10aGlzLmFuYWx5c2lzVmlld0RhdGEucGxhbmV8fCF0LnNjcmVlblBvaW50KXJldHVybjtjb25zdCBlPWd0KHRoaXMudmlldy5zdGF0ZS5jYW1lcmEsdC5zY3JlZW5Qb2ludCx4dCk7eCh0aGlzLmFuYWx5c2lzVmlld0RhdGEucGxhbmUsdGhpcy5fc3RhcnRQbGFuZSksdGhpcy5pbnB1dFN0YXRlPWt0KGUsbnVsbCx0aGlzLnNoaWZ0TWFuaXB1bGF0b3IucmVuZGVyTG9jYXRpb24sdGhpcy5hbmFseXNpc1ZpZXdEYXRhLnBsYW5lKX1fY3JlYXRlU2hpZnREcmFnUGlwZWxpbmUodCl7cmV0dXJuIE10KHQsKCh0LGUsaSk9Pntjb25zdCBhPXRoaXMuaW5wdXRTdGF0ZTtpZihudWxsPT1hfHxcInNoaWZ0XCIhPT1hLnR5cGUpcmV0dXJuO2NvbnN0IHM9bnVsbCE9dGhpcy5hbmFseXNpc1ZpZXdEYXRhLnBsYW5lP3godGhpcy5hbmFseXNpc1ZpZXdEYXRhLnBsYW5lLEUoKSk6bnVsbDtlLm5leHQod3QodGhpcy52aWV3LGEuc2hpZnRQbGFuZSkpLm5leHQodGhpcy5fc2hpZnREcmFnQWRqdXN0U2Vuc2l0aXZpdHkoYSkpLm5leHQodGhpcy5fc2hpZnREcmFnVXBkYXRlUGxhbmUoYSkpLGkubmV4dCgoKCk9PntudWxsIT1zJiZ0aGlzLl91cGRhdGVCb3VuZGVkUGxhbmUocyl9KSl9KSl9X3NoaWZ0RHJhZ0FkanVzdFNlbnNpdGl2aXR5KHQpe3JldHVybiBlPT57aWYobnVsbD09dGhpcy5hbmFseXNpc1ZpZXdEYXRhLnBsYW5lKXJldHVybiBudWxsO2NvbnN0IGk9LjAwMSxhPU1hdGgubWluKCgxLU1hdGguYWJzKFAoQyh0aGlzLmFuYWx5c2lzVmlld0RhdGEucGxhbmUpLGUucmF5LmRpcmVjdGlvbikveShlLnJheS5kaXJlY3Rpb24pKSkvaSwxKSxzPS1IKHRoaXMuX3N0YXJ0UGxhbmUucGxhbmUsZS5yZW5kZXJFbmQpLG49LUgodGhpcy5fc3RhcnRQbGFuZS5wbGFuZSx0LnN0YXJ0UG9pbnQpO3JldHVybiB0LmRlcHRoPXQuZGVwdGgqKDEtYSkrcyphLW4sZX19X3NoaWZ0RHJhZ1VwZGF0ZVBsYW5lKHQpe3JldHVybigpPT57aWYobnVsbD09dGhpcy5hbmFseXNpc1ZpZXdEYXRhLnBsYW5lKXJldHVybjtjb25zdCBlPXcoRy5nZXQoKSx0aGlzLl9zdGFydFBsYW5lLm9yaWdpbiksaT13KEcuZ2V0KCksQyh0aGlzLl9zdGFydFBsYW5lKSk7ZyhpLGksLXQuZGVwdGgpLGYoaSxpLGUpO2NvbnN0IGE9aihpLHRoaXMuYW5hbHlzaXNWaWV3RGF0YS5wbGFuZS5iYXNpczEsdGhpcy5hbmFseXNpc1ZpZXdEYXRhLnBsYW5lLmJhc2lzMixFKCkpO3RoaXMuX3VwZGF0ZUJvdW5kZWRQbGFuZShhKX19X29uUm90YXRlSGVhZGluZ0dyYWIodCl7aWYoXCJzdGFydFwiIT09dC5hY3Rpb258fG51bGw9PXRoaXMuYW5hbHlzaXNWaWV3RGF0YS5wbGFuZXx8IXQuc2NyZWVuUG9pbnQpcmV0dXJuO2NvbnN0IGU9bnQodGhpcy5hbmFseXNpc1ZpZXdEYXRhLnBsYW5lLHRoaXMudmlldy5yZW5kZXJDb29yZHNIZWxwZXIscnQuSEVBRElORyxSKCkpLGk9Z3QodGhpcy52aWV3LnN0YXRlLmNhbWVyYSx0LnNjcmVlblBvaW50LHh0KSxhPVYoKTtJKGUsaSxhKSYmKHgodGhpcy5hbmFseXNpc1ZpZXdEYXRhLnBsYW5lLHRoaXMuX3N0YXJ0UGxhbmUpLHRoaXMuaW5wdXRTdGF0ZT17dHlwZTpcInJvdGF0ZVwiLHJvdGF0ZVBsYW5lOmUsc3RhcnRQb2ludDphfSl9X2NyZWF0ZVJvdGF0ZUhlYWRpbmdEcmFnUGlwZWxpbmUodCl7cmV0dXJuIE10KHQsKCh0LGUsaSk9Pntjb25zdCBhPXRoaXMuaW5wdXRTdGF0ZTtpZihudWxsPT1hfHxcInJvdGF0ZVwiIT09YS50eXBlKXJldHVybjtjb25zdCBzPW51bGwhPXRoaXMuYW5hbHlzaXNWaWV3RGF0YS5wbGFuZT94KHRoaXMuYW5hbHlzaXNWaWV3RGF0YS5wbGFuZSxFKCkpOm51bGw7ZS5uZXh0KHd0KHRoaXMudmlldyxhLnJvdGF0ZVBsYW5lKSkubmV4dCh0aGlzLl9yb3RhdGVEcmFnUmVuZGVyUGxhbmVUb1JvdGF0ZShhKSkubmV4dCh0aGlzLl9yb3RhdGVEcmFnVXBkYXRlUGxhbmVGcm9tUm90YXRlKCkpLGkubmV4dCgoKCk9PntudWxsIT1zJiZ0aGlzLl91cGRhdGVCb3VuZGVkUGxhbmUocyl9KSl9KSl9X29uUm90YXRlVGlsdEdyYWIodCl7aWYoXCJzdGFydFwiIT09dC5hY3Rpb258fG51bGw9PXRoaXMuYW5hbHlzaXNWaWV3RGF0YS5wbGFuZXx8IXQuc2NyZWVuUG9pbnQpcmV0dXJuO2NvbnN0IGU9bnQodGhpcy5hbmFseXNpc1ZpZXdEYXRhLnBsYW5lLHRoaXMudmlldy5yZW5kZXJDb29yZHNIZWxwZXIscnQuVElMVCxSKCkpLGk9Z3QodGhpcy52aWV3LnN0YXRlLmNhbWVyYSx0LnNjcmVlblBvaW50LHh0KSxhPVYoKTtJKGUsaSxhKSYmKHgodGhpcy5hbmFseXNpc1ZpZXdEYXRhLnBsYW5lLHRoaXMuX3N0YXJ0UGxhbmUpLHRoaXMuaW5wdXRTdGF0ZT17dHlwZTpcInJvdGF0ZVwiLHJvdGF0ZVBsYW5lOmUsc3RhcnRQb2ludDphfSl9X2NyZWF0ZVJvdGF0ZVRpbHREcmFnUGlwZWxpbmUodCl7cmV0dXJuIE10KHQsKCh0LGUsaSk9Pntjb25zdCBhPXRoaXMuaW5wdXRTdGF0ZTtpZihudWxsPT1hfHxcInJvdGF0ZVwiIT09YS50eXBlKXJldHVybjtjb25zdCBzPW51bGwhPXRoaXMuYW5hbHlzaXNWaWV3RGF0YS5wbGFuZT94KHRoaXMuYW5hbHlzaXNWaWV3RGF0YS5wbGFuZSxFKCkpOm51bGw7ZS5uZXh0KHd0KHRoaXMudmlldyxhLnJvdGF0ZVBsYW5lKSkubmV4dCh0aGlzLl9yb3RhdGVEcmFnUmVuZGVyUGxhbmVUb1JvdGF0ZShhKSkubmV4dCh0aGlzLl9yb3RhdGVEcmFnVXBkYXRlUGxhbmVGcm9tUm90YXRlKCkpLGkubmV4dCgoKCk9PntudWxsIT1zJiZ0aGlzLl91cGRhdGVCb3VuZGVkUGxhbmUocyl9KSl9KSl9X3JvdGF0ZURyYWdSZW5kZXJQbGFuZVRvUm90YXRlKHQpe3JldHVybiBlPT57aWYobnVsbD09dGhpcy5hbmFseXNpc1ZpZXdEYXRhLnBsYW5lKXJldHVybiBudWxsO2NvbnN0IGk9Tyh0LnJvdGF0ZVBsYW5lKSxhPXl0KHQuc3RhcnRQb2ludCxlLnJlbmRlckVuZCx0aGlzLmFuYWx5c2lzVmlld0RhdGEucGxhbmUub3JpZ2luLGkpO3JldHVybnsuLi5lLHJvdGF0ZUF4aXM6aSxyb3RhdGVBbmdsZTphfX19X3JvdGF0ZURyYWdVcGRhdGVQbGFuZUZyb21Sb3RhdGUoKXtyZXR1cm4gdD0+e2lmKG51bGw9PXRoaXMuYW5hbHlzaXNWaWV3RGF0YS5wbGFuZSlyZXR1cm47Y29uc3QgZT1fKEEuZ2V0KCksdC5yb3RhdGVBbmdsZSx0LnJvdGF0ZUF4aXMpO2lmKG51bGw9PWUpcmV0dXJuO2NvbnN0IGk9TShHLmdldCgpLHRoaXMuX3N0YXJ0UGxhbmUuYmFzaXMxLGUpLGE9TShHLmdldCgpLHRoaXMuX3N0YXJ0UGxhbmUuYmFzaXMyLGUpLHM9aih0aGlzLmFuYWx5c2lzVmlld0RhdGEucGxhbmUub3JpZ2luLGksYSxFKCkpO3RoaXMuX3VwZGF0ZUJvdW5kZWRQbGFuZShzKX19X29uUmVzaXplR3JhYih0LGUpe2lmKFwic3RhcnRcIiE9PXQuYWN0aW9ufHxudWxsPT10aGlzLmFuYWx5c2lzVmlld0RhdGEucGxhbmV8fCF0LnNjcmVlblBvaW50KXJldHVybjtjb25zdCBpPWd0KHRoaXMudmlldy5zdGF0ZS5jYW1lcmEsdC5zY3JlZW5Qb2ludCx4dCksYT1HLmdldCgpO0kodGhpcy5hbmFseXNpc1ZpZXdEYXRhLnBsYW5lLnBsYW5lLGksYSkmJih4KHRoaXMuYW5hbHlzaXNWaWV3RGF0YS5wbGFuZSx0aGlzLl9zdGFydFBsYW5lKSx0aGlzLmlucHV0U3RhdGU9e3R5cGU6XCJyZXNpemVcIixhY3RpdmVIYW5kbGVJZHg6ZSxzdGFydFBvaW50OmIoYSl9KX1fY3JlYXRlUmVzaXplRHJhZ1BpcGVsaW5lKHQpe3JldHVybiBNdCh0LCgodCxlLGkpPT57Y29uc3QgYT10aGlzLmlucHV0U3RhdGU7aWYobnVsbD09YXx8XCJyZXNpemVcIiE9PWEudHlwZXx8bnVsbD09dGhpcy5hbmFseXNpc1ZpZXdEYXRhLnBsYW5lKXJldHVybjtjb25zdCBzPXgodGhpcy5hbmFseXNpc1ZpZXdEYXRhLnBsYW5lLEUoKSk7ZS5uZXh0KHd0KHRoaXMudmlldyx0aGlzLmFuYWx5c2lzVmlld0RhdGEucGxhbmUucGxhbmUpKS5uZXh0KHRoaXMuX3Jlc2l6ZURyYWdVcGRhdGVQbGFuZShhKSksaS5uZXh0KCgoKT0+e3RoaXMuX3VwZGF0ZUJvdW5kZWRQbGFuZShzKX0pKX0pKX1fcmVzaXplRHJhZ1VwZGF0ZVBsYW5lKHQpe3JldHVybiBlPT57aWYobnVsbD09dGhpcy5hbmFseXNpc1ZpZXdEYXRhLnBsYW5lKXJldHVybjtjb25zdCBpPXRoaXMuX3Jlc2l6ZUhhbmRsZXNbdC5hY3RpdmVIYW5kbGVJZHhdLGE9bHQoaSx0LnN0YXJ0UG9pbnQsZS5yZW5kZXJFbmQsdGhpcy52aWV3LnN0YXRlLmNhbWVyYSx0aGlzLl9zdGFydFBsYW5lLHgodGhpcy5hbmFseXNpc1ZpZXdEYXRhLnBsYW5lKSk7dGhpcy5fdXBkYXRlQm91bmRlZFBsYW5lKGEpfX1fdXBkYXRlQm91bmRlZFBsYW5lKHQpe2NvbnN0IGU9dGhpcy5hbmFseXNpc1ZpZXdEYXRhO2lmKG51bGw9PWUpdGhyb3cgbmV3IEVycm9yKFwidmFsaWQgaW50ZXJuYWwgb2JqZWN0IGV4cGVjdGVkXCIpO2UucGxhbmU9dH1fdXBkYXRlUHJldmlld1BsYW5lKHQsZT17fSl7aWYoXCJleGNsdWRlXCI9PT10aGlzLm1vZGUpcmV0dXJuO2xldCBpPXRoaXMuX3ByZXZpZXdQbGFuZTtpZih0aGlzLl9wcmV2aWV3UGxhbmU9bnVsbCxudWxsPT10KXJldHVybiB0aGlzLl9yZW1vdmVGcmFtZVRhc2soKSx2b2lkIHRoaXMuX3VwZGF0ZU1hbmlwdWxhdG9ycygpO2lmKHRoaXMuYWN0aXZlKXtjb25zdCBhPW51bGwhPWk/aTpFKCk7aWYoaT1udWxsIT1pP3goaSxFdCk6bnVsbCx0aGlzLl9waWNrUGxhbmUodCwhMCxlLGEpKXtjb25zdCB0PXR0O2xldCBlPSExO251bGwhPWkmJihlPVAoTyhpLnBsYW5lKSxPKGEucGxhbmUpKTx0fHxQKFQoRy5nZXQoKSxpLmJhc2lzMSksVChHLmdldCgpLGEuYmFzaXMxKSk8dCksZSYmKHRoaXMuX3ByZXZpZXdQbGFuZU9wYWNpdHk9MCksdGhpcy5fcHJldmlld1BsYW5lPWF9fW51bGwhPXRoaXMuX3ByZXZpZXdQbGFuZSYmbnVsbD09dGhpcy5fZnJhbWVUYXNrJiYwPT09dGhpcy5fcHJldmlld1BsYW5lT3BhY2l0eT90aGlzLl9mcmFtZVRhc2s9aCh7dXBkYXRlOih7ZGVsdGFUaW1lOnR9KT0+e3RoaXMuX3ByZXZpZXdQbGFuZU9wYWNpdHk9TWF0aC5taW4odGhpcy5fcHJldmlld1BsYW5lT3BhY2l0eSt0LygxZTMqJCksMSksdGhpcy5fdXBkYXRlTWFuaXB1bGF0b3JzKCksMT09PXRoaXMuX3ByZXZpZXdQbGFuZU9wYWNpdHkmJnRoaXMuX3JlbW92ZUZyYW1lVGFzaygpfX0pOm51bGw9PXRoaXMuX3ByZXZpZXdQbGFuZSYmbnVsbCE9dGhpcy5fZnJhbWVUYXNrP3RoaXMuX3JlbW92ZUZyYW1lVGFzaygpOm51bGwhPXRoaXMuX3ByZXZpZXdQbGFuZSYmdGhpcy5fdXBkYXRlTWFuaXB1bGF0b3JzKCl9X3JlbW92ZUZyYW1lVGFzaygpe3RoaXMuX2ZyYW1lVGFzaz1zKHRoaXMuX2ZyYW1lVGFzayl9X3BpY2tNaW5SZXN1bHQodCl7Y29uc3QgZT11KHQsVS5nZXQoKSk7cmV0dXJuIHRoaXMudmlldy5zY2VuZUludGVyc2VjdGlvbkhlbHBlci5pbnRlcnNlY3RUb29sSW50ZXJzZWN0b3JTY3JlZW4oZSx0aGlzLl9pbnRlcnNlY3RvciksdGhpcy5faW50ZXJzZWN0b3IucmVzdWx0cy5taW59X3BpY2tQbGFuZSh0LGUsaSxhKXtjb25zdCBzPXRoaXMuX3BpY2tNaW5SZXN1bHQodCksbj1HLmdldCgpO2lmKCFzLmdldEludGVyc2VjdGlvblBvaW50KG4pKXJldHVybiExO2NvbnN0IHI9cy5nZXRUcmFuc2Zvcm1lZE5vcm1hbChHLmdldCgpKSxsPXRoaXMudmlldy5zdGF0ZS5jYW1lcmE7UChyLGwudmlld0ZvcndhcmQpPjAmJmcocixyLC0xKTtjb25zdCBvPW90KG4sbCksaD0oZT8xOi0xKSpvKmV0LHA9ZyhHLmdldCgpLHIsaCk7ZihwLHAsbik7Y29uc3QgdT10aGlzLmFuYWx5c2lzLnRpbHRFbmFibGVkP2h0LlRJTFRFRDpodC5IT1JJWk9OVEFMX09SX1ZFUlRJQ0FMLGM9aVtYXT9odC5WRVJUSUNBTDppW1ldP2h0LkhPUklaT05UQUw6dTtyZXR1cm4gcHQocCxyLG8sbyxsLGMsdGhpcy52aWV3LnJlbmRlckNvb3Jkc0hlbHBlcixhKSwhMH1fY2xlYXJQb2ludGVyTW92ZVRpbWVvdXQoKXt0aGlzLl9wcmV2UG9pbnRlck1vdmVUaW1lb3V0PXModGhpcy5fcHJldlBvaW50ZXJNb3ZlVGltZW91dCl9X3Jlc2V0UG9pbnRlck1vdmVUaW1lb3V0KCl7dGhpcy5fY2xlYXJQb2ludGVyTW92ZVRpbWVvdXQoKSx0aGlzLnNoaWZ0TWFuaXB1bGF0b3Iuc3RhdGV8PXV0LHRoaXMucm90YXRlSGVhZGluZ01hbmlwdWxhdG9yLnN0YXRlfD11dCx0aGlzLnJvdGF0ZVRpbHRNYW5pcHVsYXRvci5zdGF0ZXw9dXQsdGhpcy5fcHJldlBvaW50ZXJNb3ZlVGltZW91dD10aGlzLl9jbG9jay5zZXRUaW1lb3V0KCgoKT0+e3RoaXMuc2hpZnRNYW5pcHVsYXRvci5zdGF0ZSY9fnV0LHRoaXMucm90YXRlSGVhZGluZ01hbmlwdWxhdG9yLnN0YXRlJj1+dXQsdGhpcy5yb3RhdGVUaWx0TWFuaXB1bGF0b3Iuc3RhdGUmPX51dH0pLHRoaXMuX3BvaW50ZXJNb3ZlVGltZXJNcyl9X3VwZGF0ZU1hbmlwdWxhdG9ycygpe2lmKFZ0LmRpc2FibGVFbmdpbmVMYXllcnMpcmV0dXJuO2xldCB0LGUsaT0hMTtpZihudWxsIT10aGlzLmFuYWx5c2lzVmlld0RhdGEucGxhbmUpdD10aGlzLmFuYWx5c2lzVmlld0RhdGEucGxhbmUsZT10aGlzLl9wcmV2aWV3UGxhbmU/P3QsaT0hMTtlbHNle2lmKG51bGw9PXRoaXMuX3ByZXZpZXdQbGFuZSlyZXR1cm4gdGhpcy5fc2V0TWFuaXB1bGF0b3JWaXNpYmlsaXR5KCExKSx2b2lkIHRoaXMuX3NldFByZXZpZXdQbGFuZVZpc2liaWxpdHkoITEpO2U9dD10aGlzLl9wcmV2aWV3UGxhbmUsaT0hMH1pZih0aGlzLl9zZXRNYW5pcHVsYXRvclZpc2liaWxpdHkoIWkpLCFpKXtjb25zdCBlPWN0KHQsQS5nZXQoKSk7ZHQodGhpcy5zaGlmdE1hbmlwdWxhdG9yLGUsdCx0aGlzLnZpZXcuc3RhdGUuY2FtZXJhKSxfdCh0aGlzLnJvdGF0ZUhlYWRpbmdNYW5pcHVsYXRvcixlLHQsdGhpcy52aWV3LnJlbmRlckNvb3Jkc0hlbHBlciksdnQodGhpcy5yb3RhdGVUaWx0TWFuaXB1bGF0b3IsZSx0KSx0aGlzLnJlc2l6ZU1hbmlwdWxhdG9ycy5mb3JFYWNoKCgoaSxhKT0+bXQoaSx0aGlzLl9yZXNpemVIYW5kbGVzW2FdLGUsdCkpKX10aGlzLl9zZXRQcmV2aWV3UGxhbmVWaXNpYmlsaXR5KCF0aGlzLl9jcmVhdGluZ1BvaW50ZXJJZCYmKGl8fFwicGxhY2VcIj09PXRoaXMuX21vZGUpKSx0aGlzLl91cGRhdGVQcmV2aWV3UGxhbmVUcmFuc2Zvcm0oZSksdGhpcy5fdXBkYXRlTWF0ZXJpYWxzKCl9X3NldE1hbmlwdWxhdG9yVmlzaWJpbGl0eSh0KXt0aGlzLnNoaWZ0TWFuaXB1bGF0b3IuYXZhaWxhYmxlPXQsdGhpcy5yb3RhdGVIZWFkaW5nTWFuaXB1bGF0b3IuYXZhaWxhYmxlPXQsdGhpcy5yb3RhdGVUaWx0TWFuaXB1bGF0b3IuYXZhaWxhYmxlPXQmJnRoaXMuYW5hbHlzaXMudGlsdEVuYWJsZWQsdGhpcy5yZXNpemVNYW5pcHVsYXRvcnMuZm9yRWFjaCgoZT0+ZS5hdmFpbGFibGU9dCkpfV91cGRhdGVQcmV2aWV3UGxhbmVUcmFuc2Zvcm0odCl7Y29uc3QgZT1jdCh0LEEuZ2V0KCkpLGk9RChHLmdldCgpLHkodC5iYXNpczEpLHkodC5iYXNpczIpLDEpLGE9dihBLmdldCgpLGkpLHM9bShhLGUsYSk7dGhpcy5fcHJldmlld1BsYW5lT3V0bGluZVZpc3VhbEVsZW1lbnQudHJhbnNmb3JtPXMsdGhpcy5fcHJldmlld1BsYW5lR3JpZFZpc3VhbEVsZW1lbnQudHJhbnNmb3JtPXN9X3NldFByZXZpZXdQbGFuZVZpc2liaWxpdHkodCl7Y29uc3QgZT10aGlzLl9wcmV2aWV3UGxhbmVPdXRsaW5lVmlzdWFsRWxlbWVudCxpPXRoaXMuX3ByZXZpZXdQbGFuZUdyaWRWaXN1YWxFbGVtZW50O3QmJihlLmF0dGFjaGVkPSEwLGkuYXR0YWNoZWQ9ITApLGUudmlzaWJsZT10LGkudmlzaWJsZT10fV91cGRhdGVNYXRlcmlhbHMoKXtjb25zdCB0PU4odGhpcy52aWV3LmVmZmVjdGl2ZVRoZW1lKTt0WzNdKj10aGlzLl9wcmV2aWV3UGxhbmVPcGFjaXR5O2NvbnN0IGU9ayhxKTtlWzNdKj10aGlzLl9wcmV2aWV3UGxhbmVPcGFjaXR5LHRoaXMuX3ByZXZpZXdQbGFuZU91dGxpbmVWaXN1YWxFbGVtZW50LmNvbG9yPXQsdGhpcy5fcHJldmlld1BsYW5lR3JpZFZpc3VhbEVsZW1lbnQuYmFja2dyb3VuZENvbG9yPWUsdGhpcy5fcHJldmlld1BsYW5lR3JpZFZpc3VhbEVsZW1lbnQuZ3JpZENvbG9yPVN9X3VwZGF0ZU1hbmlwdWxhdG9yc0ludGVyYWN0aXZlKHQpe2lmKCF0LmdyYWJiaW5nKXJldHVybiB0aGlzLnNoaWZ0TWFuaXB1bGF0b3IuaW50ZXJhY3RpdmU9ITAsdGhpcy5yb3RhdGVIZWFkaW5nTWFuaXB1bGF0b3IuaW50ZXJhY3RpdmU9ITAsdGhpcy5yb3RhdGVUaWx0TWFuaXB1bGF0b3IuaW50ZXJhY3RpdmU9ITAsdm9pZCB0aGlzLnJlc2l6ZU1hbmlwdWxhdG9ycy5mb3JFYWNoKCh0PT57dC5pbnRlcmFjdGl2ZT0hMH0pKTt0aGlzLnNoaWZ0TWFuaXB1bGF0b3IuaW50ZXJhY3RpdmU9dGhpcy5zaGlmdE1hbmlwdWxhdG9yPT09dCx0aGlzLnJvdGF0ZUhlYWRpbmdNYW5pcHVsYXRvci5pbnRlcmFjdGl2ZT10aGlzLnJvdGF0ZUhlYWRpbmdNYW5pcHVsYXRvcj09PXQsdGhpcy5yb3RhdGVUaWx0TWFuaXB1bGF0b3IuaW50ZXJhY3RpdmU9dGhpcy5yb3RhdGVUaWx0TWFuaXB1bGF0b3I9PT10LHRoaXMucmVzaXplTWFuaXB1bGF0b3JzLmZvckVhY2goKGU9PntlLmludGVyYWN0aXZlPWU9PT10fSkpfV9maW5pc2hUb29sQ3JlYXRpb25JZlZhbGlkKCl7dGhpcy5hbmFseXNpcy52YWxpZCYmdGhpcy5maW5pc2hUb29sQ3JlYXRpb24oKX1nZXQgdGVzdCgpe3JldHVybntwbGFuZTp0aGlzLmFuYWx5c2lzVmlld0RhdGEucGxhbmUsc2V0UG9pbnRlck1vdmVUaW1lck1zOnQ9Pnt0aGlzLl9wb2ludGVyTW92ZVRpbWVyTXM9dH19fX07ZnVuY3Rpb24ga3QodCxlLGksYSl7Y29uc3Qgcz1QdChpLEMoYSksdC5kaXJlY3Rpb24sUigpKSxuPVYoKTtyZXR1cm4gSShzLHQsbik/e3R5cGU6XCJzaGlmdFwiLGNyZWF0aW5nUG9pbnRlcklkOmUsaGFzQmVlbkRyYWdnZWQ6ITEsc2hpZnRQbGFuZTpzLGRlcHRoOjAsc3RhcnRQb2ludDpufTpudWxsfWZ1bmN0aW9uIFN0KHQpe3JldHVyblwibW91c2VcIiE9PXQucG9pbnRlclR5cGV8fDA9PT10LmJ1dHRvbn10KFtjKCldLGJ0LnByb3RvdHlwZSxcIl9jbG9ja1wiLHZvaWQgMCksdChbYyh7Y29uc3RydWN0T25seTohMH0pXSxidC5wcm90b3R5cGUsXCJ2aWV3XCIsdm9pZCAwKSx0KFtjKCldLGJ0LnByb3RvdHlwZSxcImFuYWx5c2lzVmlld0RhdGFcIix2b2lkIDApLHQoW2Moe3JlYWRPbmx5OiEwfSldLGJ0LnByb3RvdHlwZSxcInN0YXRlXCIsbnVsbCksdChbYyh7cmVhZE9ubHk6ITB9KV0sYnQucHJvdG90eXBlLFwiY3Vyc29yXCIsbnVsbCksdChbYygpXSxidC5wcm90b3R5cGUsXCJhbmFseXNpc1wiLG51bGwpLHQoW2MoKV0sYnQucHJvdG90eXBlLFwicmVtb3ZlSW5jb21wbGV0ZU9uQ2FuY2VsXCIsdm9pZCAwKSx0KFtjKCldLGJ0LnByb3RvdHlwZSxcIl9tb2RlXCIsdm9pZCAwKSx0KFtjKCldLGJ0LnByb3RvdHlwZSxcIm1vZGVcIixudWxsKSx0KFtjKHt2YWx1ZTpudWxsfSldLGJ0LnByb3RvdHlwZSxcImlucHV0U3RhdGVcIixudWxsKSx0KFtjKCldLGJ0LnByb3RvdHlwZSxcIl9wbGFjaW5nU2xpY2VQbGFuZVwiLG51bGwpLHQoW2MoKV0sYnQucHJvdG90eXBlLFwiX2NyZWF0aW5nUG9pbnRlcklkXCIsbnVsbCksYnQ9VnQ9dChbZChcImVzcmkudmlld3MuM2QuYW5hbHlzaXMuU2xpY2UuU2xpY2VUb29sXCIpXSxidCk7Y29uc3QgRXQ9RSgpLHh0PXooKTtleHBvcnR7YnQgYXMgZGVmYXVsdH07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4zMy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e18gYXMgaX1mcm9tXCIuLi8uLi8uLi8uLi9jaHVua3MvdHNsaWIuZXM2LmpzXCI7aW1wb3J0IGUgZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9BY2Nlc3Nvci5qc1wiO2ltcG9ydHtkZXN0cm95SGFuZGxlIGFzIHR9ZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9oYW5kbGVVdGlscy5qc1wiO2ltcG9ydHt3YXRjaCBhcyBzLHN5bmNBbmRJbml0aWFsIGFzIG99ZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9yZWFjdGl2ZVV0aWxzLmpzXCI7aW1wb3J0e3Byb3BlcnR5IGFzIHJ9ZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9wcm9wZXJ0eS5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vLi4vY29yZS9oYXMuanNcIjtpbXBvcnRcIi4uLy4uLy4uLy4uL2NvcmUvTG9nZ2VyLmpzXCI7aW1wb3J0XCIuLi8uLi8uLi8uLi9jb3JlL1JhbmRvbUxDRy5qc1wiO2ltcG9ydHtzdWJjbGFzcyBhcyBsfWZyb21cIi4uLy4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvc3ViY2xhc3MuanNcIjtpbXBvcnR7ZnJvbVNjYWxpbmcgYXMgYSxtdWx0aXBseSBhcyBufWZyb21cIi4uLy4uLy4uLy4uL2NvcmUvbGlicy9nbC1tYXRyaXgtMi9tYXRoL21hdDQuanNcIjtpbXBvcnR7aSBhcyBtLGwgYXMgcH1mcm9tXCIuLi8uLi8uLi8uLi9jaHVua3MvdmVjMzIuanNcIjtpbXBvcnR7WkVST1MgYXMgdX1mcm9tXCIuLi8uLi8uLi8uLi9jb3JlL2xpYnMvZ2wtbWF0cml4LTIvZmFjdG9yaWVzL3ZlYzRmNjQuanNcIjtpbXBvcnR7c3YzZCBhcyBjLHNtNGQgYXMgaH1mcm9tXCIuLi8uLi8uLi8uLi9nZW9tZXRyeS9zdXBwb3J0L3ZlY3RvclN0YWNrcy5qc1wiO2ltcG9ydHtnZXRHcmlkQ29sb3IgYXMgZCxnZXRPdXRsaW5lQ29sb3IgYXMgdixwbGFuZUNvbG9yIGFzIGd9ZnJvbVwiLi9zZXR0aW5ncy5qc1wiO2ltcG9ydHtwbGFuZVByZXZpZXdPdXRsaW5lV2lkdGggYXMgdyxwbGFuZU91dGxpbmVXaWR0aCBhcyBWfWZyb21cIi4vc2xpY2VUb29sQ29uZmlnLmpzXCI7aW1wb3J0e2NyZWF0ZUdyaWRWaXN1YWxFbGVtZW50IGFzIF8sY3JlYXRlT3V0bGluZVZpc3VhbEVsZW1lbnQgYXMgZixjYWxjdWxhdGVCb3VuZGVkUGxhbmVUcmFuc2xhdGVSb3RhdGUgYXMgRX1mcm9tXCIuL3NsaWNlVG9vbFV0aWxzLmpzXCI7aW1wb3J0e2NyZWF0ZVN0aXBwbGVQYXR0ZXJuU2ltcGxlIGFzIGp9ZnJvbVwiLi4vLi4vd2ViZ2wtZW5naW5lL21hdGVyaWFscy9saW5lU3RpcHBsZVV0aWxzLmpzXCI7bGV0IGI9Y2xhc3MgZXh0ZW5kcyBle2NvbnN0cnVjdG9yKGkpe3N1cGVyKGkpLHRoaXMuX2dyaWRWaXN1YWxFbGVtZW50PW51bGwsdGhpcy5fb3V0bGluZVZpc3VhbEVsZW1lbnQ9bnVsbCx0aGlzLnNob3dHcmlkPSExLHRoaXMucHJldmlldz0hMH1pbml0aWFsaXplKCl7Y29uc3QgaT10aGlzLmFuYWx5c2lzVmlld0RhdGE7aWYobnVsbD09aSl0aHJvdyBuZXcgRXJyb3IoXCJleHBlY3RlZCBpbnRlcm5hbCBvYmplY3QgdG8gYmUgdmFsaWRcIik7dGhpcy5fZ3JpZFZpc3VhbEVsZW1lbnQ9Xyh0aGlzLnZpZXcpLHRoaXMuX291dGxpbmVWaXN1YWxFbGVtZW50PWYodGhpcy52aWV3KSx0aGlzLmFkZEhhbmRsZXMoW3MoKCgpPT57Y29uc3QgZT1udWxsIT1pLnBsYW5lJiZ0aGlzLmFuYWx5c2lzVmlld0RhdGEudmlzaWJsZSx7YWN0aXZlOnR9PXRoaXMuYW5hbHlzaXNWaWV3RGF0YSx7cHJldmlldzpzLHNob3dHcmlkOm8sdmlldzpyfT10aGlzLHtlZmZlY3RpdmVUaGVtZTpsfT1yO3JldHVybnt2aXNpYmxlOmUsYWN0aXZlOnQscHJldmlldzpzLHNob3dHcmlkOm8sZ3JpZENvbG9yOmQobCksb3V0bGluZUNvbG9yOnYobCl9fSksKGk9PnRoaXMuX3VwZGF0ZU1hdGVyaWFscyhpKSksbykscygoKCk9PmkucGxhbmUpLChpPT50aGlzLl91cGRhdGVQbGFuZShpKSksbyksdCh0aGlzLl9ncmlkVmlzdWFsRWxlbWVudCksdCh0aGlzLl9vdXRsaW5lVmlzdWFsRWxlbWVudCkscygoKCk9Plwid2ViLXNjZW5lXCIhPT10aGlzLmFuYWx5c2lzPy5vcmlnaW4/LnR5cGUpLChpPT57dGhpcy5fZ3JpZFZpc3VhbEVsZW1lbnQuaXNEZWNvcmF0aW9uPWksdGhpcy5fb3V0bGluZVZpc3VhbEVsZW1lbnQuaXNEZWNvcmF0aW9uPWl9KSxvKV0pfWRlc3Ryb3koKXt0aGlzLnNldChcInZpZXdcIixudWxsKX1fdXBkYXRlUGxhbmUoaSl7aWYobnVsbD09aSlyZXR1cm47dGhpcy5fZ3JpZFZpc3VhbEVsZW1lbnQuYXR0YWNoZWQ9ITAsdGhpcy5fb3V0bGluZVZpc3VhbEVsZW1lbnQuYXR0YWNoZWQ9ITA7Y29uc3QgZT1tKGMuZ2V0KCkscChpLmJhc2lzMSkscChpLmJhc2lzMiksMSksdD1hKGguZ2V0KCksZSkscz1FKGksaC5nZXQoKSksbz1uKHQscyx0KTt0aGlzLl9vdXRsaW5lVmlzdWFsRWxlbWVudC50cmFuc2Zvcm09byx0aGlzLl9ncmlkVmlzdWFsRWxlbWVudC50cmFuc2Zvcm09b31fdXBkYXRlTWF0ZXJpYWxzKHt2aXNpYmxlOmksYWN0aXZlOmUscHJldmlldzp0LHNob3dHcmlkOnMsZ3JpZENvbG9yOm8sb3V0bGluZUNvbG9yOnJ9KXt0aGlzLl9vdXRsaW5lVmlzdWFsRWxlbWVudC5jb2xvcj1yLHRoaXMuX291dGxpbmVWaXN1YWxFbGVtZW50LndpZHRoPXQ/dzpWLHRoaXMuX291dGxpbmVWaXN1YWxFbGVtZW50LnN0aXBwbGVQYXR0ZXJuPWU/bnVsbDpqKDUpLHRoaXMuX2dyaWRWaXN1YWxFbGVtZW50LmJhY2tncm91bmRDb2xvcj1nLHRoaXMuX2dyaWRWaXN1YWxFbGVtZW50LmdyaWRDb2xvcj1zP286dSx0aGlzLl9ncmlkVmlzdWFsRWxlbWVudC52aXNpYmxlPWksdGhpcy5fb3V0bGluZVZpc3VhbEVsZW1lbnQudmlzaWJsZT1pfX07aShbcigpXSxiLnByb3RvdHlwZSxcInZpZXdcIix2b2lkIDApLGkoW3IoKV0sYi5wcm90b3R5cGUsXCJhbmFseXNpc1wiLHZvaWQgMCksaShbcigpXSxiLnByb3RvdHlwZSxcImFuYWx5c2lzVmlld0RhdGFcIix2b2lkIDApLGkoW3IoKV0sYi5wcm90b3R5cGUsXCJzaG93R3JpZFwiLHZvaWQgMCksaShbcigpXSxiLnByb3RvdHlwZSxcInByZXZpZXdcIix2b2lkIDApLGI9aShbbChcImVzcmkudmlld3MuM2QuYW5hbHlzaXMuU2xpY2UuU2xpY2VWaXN1YWxpemF0aW9uXCIpXSxiKTtleHBvcnR7YiBhcyBTbGljZVZpc3VhbGl6YXRpb259O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMzMvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtfIGFzIGl9ZnJvbVwiLi4vLi4vLi4vY2h1bmtzL3RzbGliLmVzNi5qc1wiO2ltcG9ydCBzIGZyb21cIi4uLy4uLy4uL2NvcmUvQWNjZXNzb3IuanNcIjtpbXBvcnRcIi4uLy4uLy4uL2NvcmUvaGFzLmpzXCI7aW1wb3J0e2Rlc3Ryb3lNYXliZSBhcyB0fWZyb21cIi4uLy4uLy4uL2NvcmUvbWF5YmUuanNcIjtpbXBvcnR7cHJvcGVydHkgYXMgb31mcm9tXCIuLi8uLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3Byb3BlcnR5LmpzXCI7aW1wb3J0XCIuLi8uLi8uLi9jb3JlL0xvZ2dlci5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vY29yZS9SYW5kb21MQ0cuanNcIjtpbXBvcnR7c3ViY2xhc3MgYXMgYX1mcm9tXCIuLi8uLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3N1YmNsYXNzLmpzXCI7aW1wb3J0e0FuYWx5c2lzVmlldzNEIGFzIGV9ZnJvbVwiLi9BbmFseXNpc1ZpZXczRC5qc1wiO2ltcG9ydHtTbGljZUNvbnRyb2xsZXIgYXMgbH1mcm9tXCIuL1NsaWNlL1NsaWNlQ29udHJvbGxlci5qc1wiO2ltcG9ydCByIGZyb21cIi4vU2xpY2UvU2xpY2VUb29sLmpzXCI7aW1wb3J0e1NsaWNlVmlzdWFsaXphdGlvbiBhcyBufWZyb21cIi4vU2xpY2UvU2xpY2VWaXN1YWxpemF0aW9uLmpzXCI7aW1wb3J0e2Nvbm5lY3RBbmFseXNpc1ZpZXdUb1Rvb2wgYXMgcCxyZW1vdmVBbmFseXNpc1ZpZXdUb29sIGFzIHksc3RhcnRQbGFjZU9wZXJhdGlvbiBhcyBjLHN0YXJ0RXhjbHVzaXZlSW50ZXJhY3RpdmVPcGVyYXRpb24gYXMgaH1mcm9tXCIuLi8uLi9hbmFseXNpcy9hbmFseXNpc1ZpZXdVdGlscy5qc1wiO2xldCB1PWNsYXNzIGV4dGVuZHMoZShzKSl7Y29uc3RydWN0b3IoaSl7c3VwZXIoaSksdGhpcy50eXBlPVwic2xpY2Utdmlldy0zZFwiLHRoaXMuYW5hbHlzaXM9bnVsbCx0aGlzLnRvb2w9bnVsbCx0aGlzLnBsYW5lPW51bGwsdGhpcy5hY3RpdmU9ITAsdGhpcy51c2VyT3BlcmF0aW9uPW51bGwsdGhpcy5fYW5hbHlzaXNWaXN1YWxpemF0aW9uPW51bGwsdGhpcy5fYW5hbHlzaXNDb250cm9sbGVyPW51bGx9aW5pdGlhbGl6ZSgpe3RoaXMuX2FuYWx5c2lzVmlzdWFsaXphdGlvbj1uZXcgbih7dmlldzp0aGlzLnZpZXcsYW5hbHlzaXM6dGhpcy5hbmFseXNpcyxhbmFseXNpc1ZpZXdEYXRhOnRoaXN9KSx0aGlzLl9hbmFseXNpc0NvbnRyb2xsZXI9bmV3IGwoe3ZpZXc6dGhpcy52aWV3LGFuYWx5c2lzOnRoaXMuYW5hbHlzaXMsYW5hbHlzaXNWaWV3RGF0YTp0aGlzfSksdGhpcy5hZGRIYW5kbGVzKHAodGhpcyxyKSl9ZGVzdHJveSgpe3kodGhpcyksdGhpcy5fYW5hbHlzaXNWaXN1YWxpemF0aW9uPXQodGhpcy5fYW5hbHlzaXNWaXN1YWxpemF0aW9uKSx0aGlzLl9hbmFseXNpc0NvbnRyb2xsZXI9dCh0aGlzLl9hbmFseXNpc0NvbnRyb2xsZXIpfWdldCBlZGl0YWJsZSgpe3JldHVybiF0aGlzLl9hbmFseXNpc1Zpc3VhbGl6YXRpb24ucHJldmlld31zZXQgZWRpdGFibGUoaSl7dGhpcy5fYW5hbHlzaXNWaXN1YWxpemF0aW9uLnByZXZpZXc9IWl9Z2V0IHNob3dHcmlkKCl7cmV0dXJuIHRoaXMuX2FuYWx5c2lzVmlzdWFsaXphdGlvbj8uc2hvd0dyaWQ/PyExfXNldCBzaG93R3JpZChpKXt0aGlzLl9hbmFseXNpc1Zpc3VhbGl6YXRpb24mJih0aGlzLl9hbmFseXNpc1Zpc3VhbGl6YXRpb24uc2hvd0dyaWQ9aSl9Z2V0IHRlc3REYXRhKCl7fXBsYWNlKGkpe3JldHVybiB0aGlzLmFjdGl2ZT0hMCxjKHRoaXMse3BsYWNlbWVudE9wdGlvbnM6aSxvblRvb2xBY3RpdmF0ZWQ6aT0+aS5zdGFydChcInBsYWNlXCIpfSl9YXN5bmMgcGlja0xheWVyVG9FeGNsdWRlKGkpe3JldHVybiB0aGlzLmFjdGl2ZT0hMCxoKHRoaXMse2Fib3J0T3B0aW9uczppLG9uVG9vbEFjdGl2YXRlZDppPT5pLnN0YXJ0KFwiZXhjbHVkZVwiKX0pfX07aShbbyh7cmVhZE9ubHk6ITB9KV0sdS5wcm90b3R5cGUsXCJ0eXBlXCIsdm9pZCAwKSxpKFtvKHtjb25zdHJ1Y3RPbmx5OiEwLG5vbk51bGxhYmxlOiEwfSldLHUucHJvdG90eXBlLFwiYW5hbHlzaXNcIix2b2lkIDApLGkoW28oKV0sdS5wcm90b3R5cGUsXCJ0b29sXCIsdm9pZCAwKSxpKFtvKCldLHUucHJvdG90eXBlLFwicGxhbmVcIix2b2lkIDApLGkoW28oKV0sdS5wcm90b3R5cGUsXCJhY3RpdmVcIix2b2lkIDApLGkoW28oKV0sdS5wcm90b3R5cGUsXCJlZGl0YWJsZVwiLG51bGwpLGkoW28oKV0sdS5wcm90b3R5cGUsXCJzaG93R3JpZFwiLG51bGwpLGkoW28oKV0sdS5wcm90b3R5cGUsXCJ1c2VyT3BlcmF0aW9uXCIsdm9pZCAwKSxpKFtvKCldLHUucHJvdG90eXBlLFwiX2FuYWx5c2lzVmlzdWFsaXphdGlvblwiLHZvaWQgMCksaShbbygpXSx1LnByb3RvdHlwZSxcIl9hbmFseXNpc0NvbnRyb2xsZXJcIix2b2lkIDApLHU9aShbYShcImVzcmkudmlld3MuM2QuYW5hbHlzaXMuU2xpY2VBbmFseXNpc1ZpZXczRFwiKV0sdSk7Y29uc3QgZD11O2V4cG9ydHtkIGFzIGRlZmF1bHR9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMzMvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtjcmVhdGVTY3JlZW5Qb2ludEFycmF5IGFzIGUsc2NyZWVuUG9pbnRPYmplY3RUb0FycmF5IGFzIG4sY2FzdFNjcmVlblBvaW50QXJyYXkgYXMgcn1mcm9tXCIuLi8uLi8uLi8uLi9jb3JlL3NjcmVlblV0aWxzLmpzXCI7aW1wb3J0e2NyZWF0ZSBhcyB0fWZyb21cIi4uLy4uLy4uLy4uL2NvcmUvbGlicy9nbC1tYXRyaXgtMi9mYWN0b3JpZXMvdmVjMmY2NC5qc1wiO2ltcG9ydHtoIGFzIG8sZCBhcyBsLGwgYXMgcyxjLGUgYXMgaSxnIGFzIGEsZiBhcyB1fWZyb21cIi4uLy4uLy4uLy4uL2NodW5rcy92ZWMzMi5qc1wiO2ltcG9ydHtjcmVhdGUgYXMgcH1mcm9tXCIuLi8uLi8uLi8uLi9jb3JlL2xpYnMvZ2wtbWF0cml4LTIvZmFjdG9yaWVzL3ZlYzNmNjQuanNcIjtpbXBvcnQgbSBmcm9tXCIuLi8uLi8uLi8uLi9nZW9tZXRyeS9Qb2ludC5qc1wiO2ltcG9ydHtwcm9qZWN0UG9pbnQgYXMgZn1mcm9tXCIuLi8uLi8uLi8uLi9nZW9tZXRyeS9wcm9qZWN0aW9uVXRpbHMuanNcIjtpbXBvcnR7aW50ZXJzZWN0UmF5IGFzIGQsY3JlYXRlIGFzIGcsZ2V0Tm9ybWFsIGFzIEUsZnJvbVBvc2l0aW9uQW5kTm9ybWFsIGFzIHl9ZnJvbVwiLi4vLi4vLi4vLi4vZ2VvbWV0cnkvc3VwcG9ydC9wbGFuZS5qc1wiO2ltcG9ydHtjcmVhdGUgYXMgUyxjbG9zZXN0UG9pbnRzIGFzIGp9ZnJvbVwiLi4vLi4vLi4vLi4vZ2VvbWV0cnkvc3VwcG9ydC9yYXkuanNcIjtpbXBvcnR7cHJvamVjdFBvaW50IGFzIHZ9ZnJvbVwiLi4vLi4vLi4vLi4vZ2VvbWV0cnkvc3VwcG9ydC92ZWN0b3IuanNcIjtpbXBvcnR7c3YyZCBhcyBSfWZyb21cIi4uLy4uLy4uLy4uL2dlb21ldHJ5L3N1cHBvcnQvdmVjdG9yU3RhY2tzLmpzXCI7aW1wb3J0e2dldFpGb3JFbGV2YXRpb25Nb2RlIGFzIGJ9ZnJvbVwiLi4vLi4vLi4vLi4vc3VwcG9ydC9lbGV2YXRpb25JbmZvVXRpbHMuanNcIjtpbXBvcnR7ZnJvbVNjcmVlbiBhcyB3fWZyb21cIi4uLy4uL3N1cHBvcnQvZ2VvbWV0cnlVdGlscy9yYXkuanNcIjtpbXBvcnR7SW50ZXJzZWN0b3IgYXMgeH1mcm9tXCIuLi8uLi93ZWJnbC1lbmdpbmUvbGliL0ludGVyc2VjdG9yLmpzXCI7aW1wb3J0e1N0b3JlUmVzdWx0cyBhcyBJfWZyb21cIi4uLy4uL3dlYmdsLWVuZ2luZS9saWIvSW50ZXJzZWN0b3JJbnRlcmZhY2VzLmpzXCI7aW1wb3J0e0ludGVyc2VjdG9yVHlwZSBhcyBVfWZyb21cIi4uLy4uL3dlYmdsLWVuZ2luZS9saWIvSW50ZXJzZWN0b3JUeXBlLmpzXCI7aW1wb3J0e3RlcnJhaW5JZCBhcyBIfWZyb21cIi4uLy4uL3dlYmdsLWVuZ2luZS9saWIvdmVydGljYWxPZmZzZXRVdGlscy5qc1wiO2ltcG9ydHtFdmVudFBpcGVsaW5lIGFzIE99ZnJvbVwiLi4vLi4vLi4vaW50ZXJhY3RpdmUvZHJhZ0V2ZW50UGlwZWxpbmUuanNcIjtmdW5jdGlvbiBUKGUsbil7cmV0dXJuIFAoZSwoKCk9Pm4pKX1mdW5jdGlvbiBDKGUpe3JldHVybiBQKGUsKGU9PmUucGxhbmUpKX1mdW5jdGlvbiBQKGUsdCl7Y29uc3Qgbz1wKCksbD1wKCk7bGV0IHM9ITE7cmV0dXJuIGM9Pntjb25zdCBpPXQoYyk7aWYoXCJzdGFydFwiPT09Yy5hY3Rpb24pe2NvbnN0IHQ9bihjLnNjcmVlblN0YXJ0LHIoUi5nZXQoKSkpLGw9dyhlLnN0YXRlLmNhbWVyYSx0LFEpO251bGwhPWwmJihzPWQoaSxsLG8pKX1pZighcylyZXR1cm4gbnVsbDtjb25zdCBhPW4oYy5zY3JlZW5FbmQscihSLmdldCgpKSksdT13KGUuc3RhdGUuY2FtZXJhLGEsUSk7cmV0dXJuIG51bGw9PXU/bnVsbDpkKGksdSxsKT97Li4uYyxyZW5kZXJTdGFydDpvLHJlbmRlckVuZDpsLHBsYW5lOmkscmF5OnV9Om51bGx9fWZ1bmN0aW9uIEQobixyLHQ9MCxvPW51bGwsbD1udWxsKXtsZXQgcz1udWxsO3JldHVybiBjPT57aWYoXCJzdGFydFwiPT09Yy5hY3Rpb24mJihzPW4uc2NlbmVJbnRlcnNlY3Rpb25IZWxwZXIuaW50ZXJzZWN0RWxldmF0aW9uRnJvbVNjcmVlbihlKGMuc2NyZWVuU3RhcnQueCxjLnNjcmVlblN0YXJ0LnkpLHIsdCxsKSxudWxsIT1zJiZudWxsIT1vJiYhZihzLHMsbykpKXJldHVybiBudWxsO2lmKG51bGw9PXMpcmV0dXJuIG51bGw7Y29uc3QgaT1uLnNjZW5lSW50ZXJzZWN0aW9uSGVscGVyLmludGVyc2VjdEVsZXZhdGlvbkZyb21TY3JlZW4oZShjLnNjcmVlbkVuZC54LGMuc2NyZWVuRW5kLnkpLHIsdCxsKTtyZXR1cm4gbnVsbCE9aSYmKG51bGw9PW98fGYoaSxpLG8pKT97Li4uYyxtYXBTdGFydDpzLG1hcEVuZDppfTpudWxsfX1mdW5jdGlvbiBNKGUsbixyLHQ9bnVsbCxvPW51bGwpe3JldHVybiBEKGUscixiKG4sZSxyKSx0LG8pfWZ1bmN0aW9uIE4oZSxuLHIsdCl7Y29uc3Qgbz1yLnRvTWFwKGUuc2NyZWVuU3RhcnQpO3JldHVybiBudWxsIT1vP00obixvLHIuZWxldmF0aW9uSW5mbyx0KTpudWxsfWZ1bmN0aW9uIGgoZSxuKXtjb25zdCByPUssdD1MLHM9ZygpO2UucmVuZGVyQ29vcmRzSGVscGVyLndvcmxkVXBBdFBvc2l0aW9uKG4scik7Y29uc3QgYz1vKEUocykscixsKHQsbixlLnN0YXRlLmNhbWVyYS5leWUpKTtyZXR1cm4gbyhjLGMscikseShuLGMscyl9ZnVuY3Rpb24gRyhlLG4scil7bGV0IHQ9bnVsbDtjb25zdCBvPW5ldyBPO3JldHVybiBvLm5leHQoVChlLGgoZSxuKSkpLm5leHQoayhlLG4pKS5uZXh0KEYoZSxyKSkubmV4dCgoZT0+e2UubWFwRW5kLng9ZS5tYXBTdGFydC54LGUubWFwRW5kLnk9ZS5tYXBTdGFydC55LHQ9ZX0pKSxlPT4odD1udWxsLG8uZXhlY3V0ZShlKSx0KX1mdW5jdGlvbiBrKGUsbil7Y29uc3Qgcj1wKCksdD1zKG4pO2UucmVuZGVyQ29vcmRzSGVscGVyLndvcmxkVXBBdFBvc2l0aW9uKG4scik7Y29uc3Qgbz1wKCksbT1wKCksZj1vPT57aWYobChvLG8sbiksdihyLG8sbyksXCJnbG9iYWxcIj09PWUudmlld2luZ01vZGUpe3MobykqTWF0aC5zaWduKGkocixvKSk8LjAwMS10JiZsKG8sYShvLHIsLjAwMSksbil9cmV0dXJuIHUobyxvLG4pLG99O3JldHVybiBlPT4oZS5yZW5kZXJTdGFydD1mKGMobyxlLnJlbmRlclN0YXJ0KSksZS5yZW5kZXJFbmQ9ZihjKG0sZS5yZW5kZXJFbmQpKSxlKX1mdW5jdGlvbiBBKGUsdCl7Y29uc3Qgbz1vPT57Y29uc3QgbD1uKG8scihKKSkscz13KGUuc3RhdGUuY2FtZXJhLGwsUSk7aWYobnVsbD09cylyZXR1cm4gbnVsbDtjb25zdCBjPWoodCxzLEssTCk7cmV0dXJuIGM/LlswXX07cmV0dXJuIGU9Pntjb25zdCBuPW8oZS5zY3JlZW5TdGFydCk7aWYobnVsbD09bilyZXR1cm4gbnVsbDtjb25zdCByPW8oZS5zY3JlZW5FbmQpO3JldHVybiBudWxsPT1yP251bGw6ey4uLmUscmVuZGVyU3RhcnQ6bixyZW5kZXJFbmQ6cn19fWZ1bmN0aW9uIEYoZSxuKXtjb25zdCByPWUucmVuZGVyQ29vcmRzSGVscGVyO3JldHVybiBlPT57Y29uc3QgdD1yLmZyb21SZW5kZXJDb29yZHMoZS5yZW5kZXJTdGFydCxuZXcgbSh7c3BhdGlhbFJlZmVyZW5jZTpufSkpLG89ci5mcm9tUmVuZGVyQ29vcmRzKGUucmVuZGVyRW5kLG5ldyBtKHtzcGF0aWFsUmVmZXJlbmNlOm59KSk7cmV0dXJuIG51bGwhPXQmJm51bGwhPW8/ey4uLmUsbWFwU3RhcnQ6dCxtYXBFbmQ6b306bnVsbH19dmFyIHE7ZnVuY3Rpb24geihlKXtsZXQgbj1udWxsO3JldHVybiByPT57c3dpdGNoKHIuYWN0aW9uKXtjYXNlXCJzdGFydFwiOm49ZS5kaXNhYmxlRGlzcGxheSgpO2JyZWFrO2Nhc2VcImVuZFwiOmNhc2VcImNhbmNlbFwiOm51bGwhPW4mJihuLnJlbW92ZSgpLG49bnVsbCl9cmV0dXJuIHJ9fWZ1bmN0aW9uIEIocix0PW51bGwpe2NvbnN0IG89bmV3IHgoci5zdGF0ZS52aWV3aW5nTW9kZSk7by5vcHRpb25zLnNlbGVjdGlvbk1vZGU9ITAsby5vcHRpb25zLnN0b3JlPUkuTUlOLG8ub3B0aW9ucy5odWQ9ITE7Y29uc3QgbD1lKCkscz17cmVxdWlyZXNHcm91bmRGZWVkYmFjazohMCxlbmFibGVEcmFwZWQ6ITAsZXhjbHVkZTpuZXcgU2V0fSxjPXAoKSxpPXQ/P3Iuc3BhdGlhbFJlZmVyZW5jZSxhPWU9PntyLm1hcC5ncm91bmQmJnIubWFwLmdyb3VuZC5vcGFjaXR5PDE/cy5leGNsdWRlLmFkZChIKTpzLmV4Y2x1ZGUuZGVsZXRlKEgpLHIuc2NlbmVJbnRlcnNlY3Rpb25IZWxwZXIuaW50ZXJzZWN0SW50ZXJzZWN0b3JTY3JlZW4obihlLGwpLG8scyk7Y29uc3QgdD1vLnJlc3VsdHMubWluO2xldCBhO2lmKHQuZ2V0SW50ZXJzZWN0aW9uUG9pbnQoYykpYT10LmludGVyc2VjdG9yPT09VS5URVJSQUlOP3EuR1JPVU5EOnEuT1RIRVI7ZWxzZXtpZighby5yZXN1bHRzLmdyb3VuZC5nZXRJbnRlcnNlY3Rpb25Qb2ludChjKSlyZXR1cm4gbnVsbDthPXEuR1JPVU5EfXJldHVybntsb2NhdGlvbjpyLnJlbmRlckNvb3Jkc0hlbHBlci5mcm9tUmVuZGVyQ29vcmRzKGMsbmV3IG0oe3NwYXRpYWxSZWZlcmVuY2U6aX0pKSxzdXJmYWNlVHlwZTphfX07bGV0IHU7cmV0dXJuIGU9PntpZihcInN0YXJ0XCI9PT1lLmFjdGlvbil7Y29uc3Qgbj1hKGUuc2NyZWVuU3RhcnQpO3U9bnVsbCE9bj9uLmxvY2F0aW9uOm51bGx9aWYobnVsbD09dSlyZXR1cm4gbnVsbDtjb25zdCBuPWEoZS5zY3JlZW5FbmQpO3JldHVybiBudWxsIT1uPy5sb2NhdGlvbj97Li4uZSxtYXBTdGFydDp1LG1hcEVuZDpuLmxvY2F0aW9uLHN1cmZhY2VUeXBlOm4uc3VyZmFjZVR5cGV9Om51bGx9fSFmdW5jdGlvbihlKXtlW2UuR1JPVU5EPTBdPVwiR1JPVU5EXCIsZVtlLk9USEVSPTFdPVwiT1RIRVJcIn0ocXx8KHE9e30pKTtjb25zdCBKPXQoKSxLPXAoKSxMPXAoKSxRPVMoKTtleHBvcnR7cSBhcyBTdXJmYWNlVHlwZSxGIGFzIGNvbnZlcnRUb01hcENvb3JkaW5hdGVzLHogYXMgaGlkZU1hbmlwdWxhdG9yV2hpbGVEcmFnZ2luZyxrIGFzIHByb2plY3RUb1dvcmxkVXAsQiBhcyBzY3JlZW5Ub01hcDNELE0gYXMgc2NyZWVuVG9NYXBYWUF0TG9jYXRpb24sTiBhcyBzY3JlZW5Ub01hcFhZRm9yTWFuaXB1bGF0ZWRPYmplY3QsVCBhcyBzY3JlZW5Ub1JlbmRlclBsYW5lLEMgYXMgc2NyZWVuVG9SZW5kZXJQbGFuZUZyb21FdmVudCxBIGFzIHNjcmVlblRvUmVuZGVyUmF5LEcgYXMgc2NyZWVuVG9aQ29uc3RyYWluZWR9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMzMvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydFwiLi4vLi4vLi4vLi4vY29yZS9oYXMuanNcIjtpbXBvcnR7d2F0Y2ggYXMgZX1mcm9tXCIuLi8uLi8uLi8uLi9jb3JlL3JlYWN0aXZlVXRpbHMuanNcIjtjbGFzcyB0e2dldCBpc0RlY29yYXRpb24oKXtyZXR1cm4gdGhpcy5faXNEZWNvcmF0aW9ufXNldCBpc0RlY29yYXRpb24oZSl7dGhpcy5faXNEZWNvcmF0aW9uPWUsdGhpcy5mb3JFYWNoTWF0ZXJpYWwoKHQ9PnQ/LnNldFBhcmFtZXRlcnMoe2lzRGVjb3JhdGlvbjplfSkpKX1jb25zdHJ1Y3Rvcih0KXt0aGlzLl9pc0RlY29yYXRpb249ITEsdGhpcy5fYXR0YWNoZWQ9ITEsdGhpcy5fcmVzb3VyY2VzQ3JlYXRlZD0hMSx0aGlzLl92aXNpYmxlPSEwLHRoaXMudmlldz10LnZpZXcsdGhpcy5faGFuZGxlPWUoKCgpPT50LnZpZXcucmVhZHkpLChlPT57dGhpcy5fcmVzb3VyY2VzQ3JlYXRlZCYmKGU/dGhpcy5fY3JlYXRlUmVzb3VyY2VzKCk6dGhpcy5fZGVzdHJveVJlc291cmNlcygpKX0pKX1hcHBseVByb3BlcnRpZXMoZSl7bGV0IHQ9ITE7Zm9yKGNvbnN0IHMgaW4gZSlzIGluIHRoaXMmJihcImF0dGFjaGVkXCI9PT1zP3Q9ISFlW3NdOnRoaXNbc109ZVtzXSk7dGhpcy5hdHRhY2hlZD10fWRlc3Ryb3koKXt0aGlzLmF0dGFjaGVkPSExLHRoaXMuX2hhbmRsZS5yZW1vdmUoKX1nZXQgYXR0YWNoZWQoKXtyZXR1cm4gdGhpcy5fYXR0YWNoZWR9c2V0IGF0dGFjaGVkKGUpe2UhPT10aGlzLl9hdHRhY2hlZCYmdGhpcy52aWV3LnN0YWdlJiYodGhpcy5fYXR0YWNoZWQ9ZSx0aGlzLl9hdHRhY2hlZCYmIXRoaXMuX3Jlc291cmNlc0NyZWF0ZWQ/dGhpcy5fY3JlYXRlUmVzb3VyY2VzKCk6IXRoaXMuX2F0dGFjaGVkJiZ0aGlzLl9yZXNvdXJjZXNDcmVhdGVkJiZ0aGlzLl9kZXN0cm95UmVzb3VyY2VzKCksdGhpcy5vbkF0dGFjaGVkQ2hhbmdlKGUpKX1vbkF0dGFjaGVkQ2hhbmdlKGUpe31nZXQgdmlzaWJsZSgpe3JldHVybiB0aGlzLl92aXNpYmxlfXNldCB2aXNpYmxlKGUpe2UhPT10aGlzLl92aXNpYmxlJiYodGhpcy5fdmlzaWJsZT1lLHRoaXMuYXR0YWNoZWQmJnRoaXMudXBkYXRlVmlzaWJpbGl0eShlKSl9X2NyZWF0ZVJlc291cmNlcygpe3RoaXMuY3JlYXRlUmVzb3VyY2VzKCksdGhpcy5fcmVzb3VyY2VzQ3JlYXRlZD0hMCx0aGlzLnVwZGF0ZVZpc2liaWxpdHkodGhpcy52aXNpYmxlKX1fZGVzdHJveVJlc291cmNlcygpe3RoaXMuZGVzdHJveVJlc291cmNlcygpLHRoaXMuX3Jlc291cmNlc0NyZWF0ZWQ9ITF9fWV4cG9ydHt0IGFzIFZpc3VhbEVsZW1lbnR9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMzMvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtuZXZlclJlYWNoZWQgYXMgZX1mcm9tXCIuLi8uLi8uLi9jb3JlL2NvbXBpbGVyVXRpbHMuanNcIjtmdW5jdGlvbiBhKGEpe3N3aXRjaChhLnR5cGUpe2Nhc2VcImJ1aWxkaW5nLXNjZW5lXCI6Y2FzZVwiY2F0YWxvZ1wiOmNhc2VcImNhdGFsb2ctZHluYW1pYy1ncm91cFwiOmNhc2VcImNhdGFsb2ctZm9vdHByaW50XCI6Y2FzZVwiY3N2XCI6Y2FzZVwiZGltZW5zaW9uXCI6Y2FzZVwiZmVhdHVyZVwiOmNhc2VcImdlby1yc3NcIjpjYXNlXCJnZW9qc29uXCI6Y2FzZVwiZ3JhcGhpY3NcIjpjYXNlXCJncm91cFwiOmNhc2VcImludGVncmF0ZWQtbWVzaFwiOmNhc2VcImludGVncmF0ZWQtbWVzaC0zZHRpbGVzXCI6Y2FzZVwia21sXCI6Y2FzZVwia25vd2xlZGdlLWdyYXBoXCI6Y2FzZVwibGluay1jaGFydFwiOmNhc2VcImtub3dsZWRnZS1ncmFwaC1zdWJsYXllclwiOmNhc2VcImxpbmUtb2Ytc2lnaHRcIjpjYXNlXCJtYXAtbm90ZXNcIjpjYXNlXCJvZ2MtZmVhdHVyZVwiOmNhc2VcIm9yaWVudGVkLWltYWdlcnlcIjpjYXNlXCJwb2ludC1jbG91ZFwiOmNhc2VcInJvdXRlXCI6Y2FzZVwic2NlbmVcIjpjYXNlXCJzdHJlYW1cIjpjYXNlXCJ2aWV3c2hlZFwiOmNhc2VcInZveGVsXCI6Y2FzZVwic3VidHlwZS1ncm91cFwiOmNhc2VcInVua25vd25cIjpjYXNlXCJ1bnN1cHBvcnRlZFwiOmNhc2VcIndmc1wiOmNhc2VcInBhcnF1ZXRcIjpjYXNlIG51bGw6cmV0dXJuITE7Y2FzZVwiYmFzZS1keW5hbWljXCI6Y2FzZVwiYmFzZS1lbGV2YXRpb25cIjpjYXNlXCJiYXNlLXRpbGVcIjpjYXNlXCJiaW5nLW1hcHNcIjpjYXNlXCJlbGV2YXRpb25cIjpjYXNlXCJpbWFnZXJ5XCI6Y2FzZVwiaW1hZ2VyeS10aWxlXCI6Y2FzZVwibWFwLWltYWdlXCI6Y2FzZVwibWVkaWFcIjpjYXNlXCJvcGVuLXN0cmVldC1tYXBcIjpjYXNlXCJ0aWxlXCI6Y2FzZVwidmVjdG9yLXRpbGVcIjpjYXNlXCJ2aWRlb1wiOmNhc2VcIndjc1wiOmNhc2VcIndlYi10aWxlXCI6Y2FzZVwid21zXCI6Y2FzZVwid210c1wiOnJldHVybiEwO2RlZmF1bHQ6cmV0dXJuIGUoYS50eXBlKSwhMX19ZXhwb3J0e2EgYXMgaXNUZXJyYWluU3VyZmFjZUxheWVyfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjMzL2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5jb25zdCB0PXtkYXNoOls0LDNdLGRvdDpbMSwzXSxcImxvbmctZGFzaFwiOls4LDNdLFwic2hvcnQtZGFzaFwiOls0LDFdLFwic2hvcnQtZG90XCI6WzEsMV19LG89e2Rhc2g6dC5kYXNoLFwiZGFzaC1kb3RcIjpbLi4udC5kYXNoLC4uLnQuZG90XSxkb3Q6dC5kb3QsXCJsb25nLWRhc2hcIjp0W1wibG9uZy1kYXNoXCJdLFwibG9uZy1kYXNoLWRvdFwiOlsuLi50W1wibG9uZy1kYXNoXCJdLC4uLnQuZG90XSxcImxvbmctZGFzaC1kb3QtZG90XCI6Wy4uLnRbXCJsb25nLWRhc2hcIl0sLi4udC5kb3QsLi4udC5kb3RdLG5vbmU6bnVsbCxcInNob3J0LWRhc2hcIjp0W1wic2hvcnQtZGFzaFwiXSxcInNob3J0LWRhc2gtZG90XCI6Wy4uLnRbXCJzaG9ydC1kYXNoXCJdLC4uLnRbXCJzaG9ydC1kb3RcIl1dLFwic2hvcnQtZGFzaC1kb3QtZG90XCI6Wy4uLnRbXCJzaG9ydC1kYXNoXCJdLC4uLnRbXCJzaG9ydC1kb3RcIl0sLi4udFtcInNob3J0LWRvdFwiXV0sXCJzaG9ydC1kb3RcIjp0W1wic2hvcnQtZG90XCJdLHNvbGlkOm51bGx9LGQ9ODtmdW5jdGlvbiBzKHQsbyl7cmV0dXJuIG51bGw9PXQ/dDp7cGF0dGVybjp0LnNsaWNlKCkscGl4ZWxSYXRpbzpvfX1mdW5jdGlvbiBoKHQpe3JldHVybntwYXR0ZXJuOlt0LHRdLHBpeGVsUmF0aW86Mn19ZnVuY3Rpb24gbih0KXtyZXR1cm5cInN0eWxlXCI9PT10Py50eXBlP2wodC5zdHlsZSk6bnVsbH1mdW5jdGlvbiBsKHQpe3JldHVybiBudWxsIT10P3Mob1t0XSxkKTpudWxsfWV4cG9ydHtoIGFzIGNyZWF0ZVN0aXBwbGVQYXR0ZXJuU2ltcGxlLG4gYXMgZ2V0U3RpcHBsZVBhdHRlcm5Gb3JMaW5lUGF0dGVybixsIGFzIGdldFN0aXBwbGVQYXR0ZXJuRm9yUGF0dGVyblN0eWxlfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjMzL2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7Y3JlYXRlVGFzayBhcyBvfWZyb21cIi4uLy4uL2NvcmUvYXN5bmNVdGlscy5qc1wiO2ltcG9ydHtoYW5kbGVzR3JvdXAgYXMgdH1mcm9tXCIuLi8uLi9jb3JlL2hhbmRsZVV0aWxzLmpzXCI7aW1wb3J0e3JlbW92ZU1heWJlIGFzIGV9ZnJvbVwiLi4vLi4vY29yZS9tYXliZS5qc1wiO2ltcG9ydHt0aHJvd0lmQWJvcnRlZCBhcyBuLGlzQWJvcnRFcnJvciBhcyBpLG9uQWJvcnQgYXMgYX1mcm9tXCIuLi8uLi9jb3JlL3Byb21pc2VVdGlscy5qc1wiO2ltcG9ydHt3YXRjaCBhcyByLHN5bmNBbmRJbml0aWFsIGFzIHMsb24gYXMgbCx3aGVuT25jZSBhcyBjfWZyb21cIi4uLy4uL2NvcmUvcmVhY3RpdmVVdGlscy5qc1wiO2Z1bmN0aW9uIHUodCxuKXt0LmludGVyYWN0aXZlPSEwO2NvbnN0e3Rvb2w6aSx2aWV3OnJ9PXQ7ci5hY3RpdmVUb29sPWk7bGV0IHM9YShuLCgoKT0+e3IuYWN0aXZlVG9vbD09PWkmJihyLmFjdGl2ZVRvb2w9bnVsbCl9KSk7cmV0dXJuIG8oKGFzeW5jIG89Pnthd2FpdCBjKCgoKT0+IXQudG9vbD8uYWN0aXZlKSxvKSxzPWUocyl9KSxuKX1mdW5jdGlvbiBtKG8sdCl7cmV0dXJuIHIoKCgpPT5vLmludGVyYWN0aXZlKSwoKCk9PnAobyx0KSkscyl9ZnVuY3Rpb24gcChvLHQpe28uaW50ZXJhY3RpdmU/dihvLHQpOmYobyl9ZnVuY3Rpb24gdihvLHQpe2Yobyk7Y29uc3R7dmlldzplLGFuYWx5c2lzOm59PW8saT1uZXcgdCh7dmlldzplLGFuYWx5c2lzOm4sYW5hbHlzaXNWaWV3RGF0YTpvfSk7cmV0dXJuIG8udG9vbD1pLGUudG9vbHMuYWRkKGkpLGl9ZnVuY3Rpb24gZihvKXtjb25zdHt2aWV3OnQsdG9vbDplfT1vO251bGwhPWUmJih0LnRvb2xzLnJlbW92ZShlKSxvLnRvb2w9bnVsbCl9ZnVuY3Rpb24geShlLGEpe2NvbnN0IHI9ZS51c2VyT3BlcmF0aW9uLHM9bygoYXN5bmMgbz0+e2lmKHIpe2NvbnN0IHQ9ci5wcm9taXNlLmNhdGNoKCgoKT0+e30pKTtyPy5hYm9ydCgpLGF3YWl0IHQsbihvKX1jb25zdCBzPXUoZSx7c2lnbmFsOm99KSxjPWE/LnNob3VsZFJlamVjdE9uQ2FuY2VsPz8oKCk9PiEwKSxtPXQoW2woKCgpPT5lLnRvb2wpLFwiY2FuY2VsXCIsKCgpPT57YygpJiZzLmFib3J0KCl9KSldKSx7dG9vbDpwfT1lO3RyeXtwJiYocC5yZXNldENyZWF0ZWQoKSxhPy5vblRvb2xBY3RpdmF0ZWQ/LihwKSksYXdhaXQgcy5wcm9taXNlLG4obyl9Y2F0Y2godil7aWYoby5hYm9ydGVkfHwhaSh2KXx8YygpKXRocm93IHZ9ZmluYWxseXttPy5yZW1vdmUoKX19KSx7c2lnbmFsOmE/LmFib3J0T3B0aW9ucz8uc2lnbmFsfSk7cmV0dXJuIGUudXNlck9wZXJhdGlvbj1zLHMucHJvbWlzZS5maW5hbGx5KCgoKT0+e2UudXNlck9wZXJhdGlvbj09PXMmJihlLnVzZXJPcGVyYXRpb249bnVsbCl9KSl9YXN5bmMgZnVuY3Rpb24gZChvLHQpe2NvbnN0IGU9by5hbmFseXNpcy5jbG9uZSgpO3JldHVybiBhd2FpdCB5KG8se2Fib3J0T3B0aW9uczp0Py5wbGFjZW1lbnRPcHRpb25zLG9uVG9vbEFjdGl2YXRlZDp0Py5vblRvb2xBY3RpdmF0ZWQsc2hvdWxkUmVqZWN0T25DYW5jZWw6KCk9Pntjb25zdHthbmFseXNpczp0fT1vO3JldHVybiF0LnZhbGlkfHx0LmVxdWFscyhlKX19KSx7fX1leHBvcnR7dSBhcyBhY3RpdmF0ZUFuYWx5c2lzVmlld1Rvb2wsbSBhcyBjb25uZWN0QW5hbHlzaXNWaWV3VG9Ub29sLGYgYXMgcmVtb3ZlQW5hbHlzaXNWaWV3VG9vbCx5IGFzIHN0YXJ0RXhjbHVzaXZlSW50ZXJhY3RpdmVPcGVyYXRpb24sZCBhcyBzdGFydFBsYWNlT3BlcmF0aW9ufTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjMzL2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7XyBhcyBzfWZyb21cIi4uLy4uL2NodW5rcy90c2xpYi5lczYuanNcIjtpbXBvcnR7d2F0Y2ggYXMgZSxzeW5jQW5kSW5pdGlhbCBhcyB0fWZyb21cIi4uLy4uL2NvcmUvcmVhY3RpdmVVdGlscy5qc1wiO2ltcG9ydFwiLi4vLi4vY29yZS9Mb2dnZXIuanNcIjtpbXBvcnRcIi4uLy4uL2NvcmUvaGFzLmpzXCI7aW1wb3J0XCIuLi8uLi9jb3JlL1JhbmRvbUxDRy5qc1wiO2ltcG9ydFwiLi4vLi4vY29yZS9FcnJvci5qc1wiO2ltcG9ydHtzdWJjbGFzcyBhcyByfWZyb21cIi4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvc3ViY2xhc3MuanNcIjtpbXBvcnR7SW50ZXJhY3RpdmVUb29sQmFzZSBhcyBpfWZyb21cIi4vSW50ZXJhY3RpdmVUb29sQmFzZS5qc1wiO2xldCBvPWNsYXNzIGV4dGVuZHMgaXtjb25zdHJ1Y3RvcihzKXtzdXBlcihzKX1pbml0aWFsaXplKCl7dGhpcy5hZGRIYW5kbGVzKGUoKCgpPT50aGlzLmFuYWx5c2lzVmlld0RhdGEudmlzaWJsZSksKHM9PnRoaXMudmlzaWJsZT1zKSx0KSl9ZGVhY3RpdmF0ZSgpe3RoaXMub25EZWFjdGl2YXRlKCksdGhpcy5jcmVhdGVkfHx0aGlzLmFuYWx5c2lzLmNsZWFyKCl9cmVzZXRDcmVhdGVkKCl7dGhpcy5fc2V0KFwiY3JlYXRlZFwiLCExKX19O289cyhbcihcImVzcmkudmlld3MuaW50ZXJhY3RpdmUuQW5hbHlzaXNUb29sQmFzZVwiKV0sbyk7ZXhwb3J0e28gYXMgQW5hbHlzaXNUb29sQmFzZX07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4zMy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e0ludGVyc2VjdG9yIGFzIGV9ZnJvbVwiLi4vM2Qvd2ViZ2wtZW5naW5lL2xpYi9JbnRlcnNlY3Rvci5qc1wiO2ltcG9ydHtTdG9yZVJlc3VsdHMgYXMgbn1mcm9tXCIuLi8zZC93ZWJnbC1lbmdpbmUvbGliL0ludGVyc2VjdG9ySW50ZXJmYWNlcy5qc1wiO2Z1bmN0aW9uIG8obyl7Y29uc3QgdD1uZXcgZShvKTtyZXR1cm4gdC5vcHRpb25zLnN0b3JlPW4uTUlOLHQub3B0aW9ucy5leGNsdWRlTGFiZWxzPSEwLHR9ZXhwb3J0e28gYXMgbmV3VG9vbEludGVyc2VjdG9yfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjMzL2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7Z2V0RmVhdHVyZUVkaXRGaWVsZHMgYXMgZSxmaXhGaWVsZHMgYXMgbH1mcm9tXCIuLi8uLi8uLi9sYXllcnMvc3VwcG9ydC9maWVsZFV0aWxzLmpzXCI7YXN5bmMgZnVuY3Rpb24gbihuLHA9bi5wb3B1cFRlbXBsYXRlKXtpZihudWxsPT1wKXJldHVybltdO2NvbnN0IHU9YXdhaXQgcC5nZXRSZXF1aXJlZEZpZWxkcyhuLmZpZWxkc0luZGV4KSx7bGFzdEVkaXRJbmZvRW5hYmxlZDp0fT1wLHtvYmplY3RJZEZpZWxkOmQsdHlwZUlkRmllbGQ6cyxnbG9iYWxJZEZpZWxkOmkscmVsYXRpb25zaGlwczphfT1uO2lmKHUuaW5jbHVkZXMoXCIqXCIpKXJldHVybltcIipcIl07Y29uc3Qgbz10P2Uobik6W10sZj1sKG4uZmllbGRzSW5kZXgsWy4uLnUsLi4ub10pO3JldHVybiBzJiZmLnB1c2gocyksZiYmZCYmbi5maWVsZHNJbmRleD8uaGFzKGQpJiYhZi5pbmNsdWRlcyhkKSYmZi5wdXNoKGQpLGYmJmkmJm4uZmllbGRzSW5kZXg/LmhhcyhpKSYmIWYuaW5jbHVkZXMoaSkmJmYucHVzaChpKSxhJiZhLmZvckVhY2goKGU9Pntjb25zdHtrZXlGaWVsZDpsfT1lO2YmJmwmJm4uZmllbGRzSW5kZXg/LmhhcyhsKSYmIWYuaW5jbHVkZXMobCkmJmYucHVzaChsKX0pKSxmfWZ1bmN0aW9uIHAoZSxsKXtyZXR1cm4gZS5wb3B1cFRlbXBsYXRlP2UucG9wdXBUZW1wbGF0ZTpudWxsIT1sJiZsLmRlZmF1bHRQb3B1cFRlbXBsYXRlRW5hYmxlZCYmbnVsbCE9ZS5kZWZhdWx0UG9wdXBUZW1wbGF0ZT9lLmRlZmF1bHRQb3B1cFRlbXBsYXRlOm51bGx9ZnVuY3Rpb24gdShlLGwpe3JldHVybiBudWxsIT1wKGUse2RlZmF1bHRQb3B1cFRlbXBsYXRlRW5hYmxlZDpsfSl9ZXhwb3J0e3AgYXMgZ2V0RmV0Y2hQb3B1cFRlbXBsYXRlLG4gYXMgZ2V0UmVxdWlyZWRGaWVsZHMsdSBhcyBoYXNQb3B1cFRlbXBsYXRlfTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==