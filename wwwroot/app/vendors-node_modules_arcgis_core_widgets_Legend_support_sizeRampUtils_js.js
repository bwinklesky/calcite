export const __webpack_id__ = "vendors-node_modules_arcgis_core_widgets_Legend_support_sizeRampUtils_js";
export const __webpack_ids__ = ["vendors-node_modules_arcgis_core_widgets_Legend_support_sizeRampUtils_js"];
export const __webpack_modules__ = {

/***/ "./node_modules/@arcgis/core/smartMapping/renderers/support/referenceSizeUtils.js":
/*!****************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/smartMapping/renderers/support/referenceSizeUtils.js ***!
  \****************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   createPrimitiveOverrides: () => (/* binding */ o),
/* harmony export */   createReferenceSizeSymbol: () => (/* binding */ s),
/* harmony export */   updateReferenceSizeSymbol: () => (/* binding */ v)
/* harmony export */ });
/* harmony import */ var _core_lang_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../core/lang.js */ "./node_modules/@arcgis/core/core/lang.js");
/* harmony import */ var _symbols_CIMSymbol_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../symbols/CIMSymbol.js */ "./node_modules/@arcgis/core/symbols/CIMSymbol.js");
/* harmony import */ var _symbols_cim_enums_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../symbols/cim/enums.js */ "./node_modules/@arcgis/core/symbols/cim/enums.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
var t;function o(e){const{view:r,field:n,normalizationField:o,sizeStops:i,sizeByScaleEnabled:a}=e,{value:l,size:s}=i[0],{value:c,size:m}=i[1];let y,u=0;n&&(u=`$feature["${n}"]`,y=`\n      if(!HasValue($feature, "${n}")){\n        return 0;\n      }\n      $feature["${n}"];\n    `),o&&(u=`$feature["${n}"] / $feature["${o}"]`,y=`if(!HasValue($feature, "${n}") || !HasValue($feature, "${o}") || $feature["${o}"] <= 0){\n        return 0;\n      }\n      $feature["${n}"];\n      $feature["${o}"];`);const p={type:"CIMExpressionInfo",title:"Size in pixels of outer ring",expression:a?`\n      ${y}\n      var maxSize = ${m};\n      var referenceScale = ${r.scale};\n      return (maxSize * (referenceScale / $view.scale));\n    `:`${y}\n      return ${m}`,returnType:"Default"},f={type:"CIMExpressionInfo",title:"Size in pixels of inner ring",expression:`\n        ${y}\n        var value = ${u};\n\n        var referenceScale = ${r.scale};\n        var referenceScaleRatio = ${a?"(referenceScale / $view.scale)":1};\n        var maxSize = ${m} * referenceScaleRatio;\n        var minSize = ${s} * referenceScaleRatio;\n\n        var minDataValue = ${l};\n        var maxDataValue = ${c};\n\n        var ratio = Constrain(( value - minDataValue ) / ( maxDataValue - minDataValue ), 0, 1);\n\n        var innerDotSize = Constrain(maxSize * ratio, minSize, maxSize);\n        return innerDotSize;\n      `,returnType:"Default"};return[{type:"CIMPrimitiveOverride",primitiveName:t.OuterRing,propertyName:"Size",valueExpressionInfo:p},{type:"CIMPrimitiveOverride",primitiveName:t.InnerDot,propertyName:"Size",valueExpressionInfo:f}]}function i(e){switch(e){case"circle":return{rings:[[[8.5,.2],[7.06,.33],[5.66,.7],[4.35,1.31],[3.16,2.14],[2.14,3.16],[1.31,4.35],[.7,5.66],[.33,7.06],[.2,8.5],[.33,9.94],[.7,11.34],[1.31,12.65],[2.14,13.84],[3.16,14.86],[4.35,15.69],[5.66,16.3],[7.06,16.67],[8.5,16.8],[9.94,16.67],[11.34,16.3],[12.65,15.69],[13.84,14.86],[14.86,13.84],[15.69,12.65],[16.3,11.34],[16.67,9.94],[16.8,8.5],[16.67,7.06],[16.3,5.66],[15.69,4.35],[14.86,3.16],[13.84,2.14],[12.65,1.31],[11.34,.7],[9.94,.33],[8.5,.2]]]};case"square":return{rings:[[[.5,.5],[.5,16.5],[16.5,16.5],[16.5,.5],[.5,.5]]]};case"diamond":return{rings:[[[8.5,.5],[.2,8.5],[8.5,16.5],[16.5,8.5],[8.5,.5]]]};case"hexagon-pointy":return{rings:[[[15.86,12.75],[15.86,4.25],[8.5,0],[1.14,4.25],[1.14,12.75],[8.5,17],[15.86,12.75]]]};case"hexagon-flat":return{rings:[[[12.75,15.86],[17,8.5],[12.75,1.14],[4.25,1.14],[0,8.5],[4.25,15.86],[12.75,15.86]]]}}}function a(e){const{type:r,color:o,colorLocked:a}=e;return{type:"CIMVectorMarker",enable:!0,colorLocked:!1,anchorPoint:{x:0,y:0},anchorPointUnits:"Relative",primitiveName:t.OuterRing,frame:{xmin:0,ymin:0,xmax:17,ymax:17},markerGraphics:[{type:"CIMMarkerGraphic",geometry:i(r),symbol:{type:"CIMPolygonSymbol",symbolLayers:[{type:"CIMSolidFill",enable:!0,color:o.toArray(),colorLocked:!!a,effects:[{type:"CIMGeometricEffectDonut",width:.75}]}]}}],scaleSymbolsProportionally:!1,respectFrame:!0,markerPlacement:{type:"CIMMarkerPlacementPolygonCenter",placePerPart:!1,method:_symbols_cim_enums_js__WEBPACK_IMPORTED_MODULE_2__.PlacementPolygonCenterMethod.OnPolygon,offsetX:0,offsetY:0,clipAtBoundary:!1},size:20}}function l(e){const{type:r,color:o}=e;return{type:"CIMVectorMarker",enable:!0,anchorPoint:{x:0,y:0},anchorPointUnits:"Relative",primitiveName:t.InnerDot,frame:{xmin:0,ymin:0,xmax:17,ymax:17},markerGraphics:[{type:"CIMMarkerGraphic",geometry:i(r),symbol:{type:"CIMPolygonSymbol",symbolLayers:[{type:"CIMSolidFill",enable:!0,color:o.toArray()}]}}],scaleSymbolsProportionally:!0,respectFrame:!0,markerPlacement:{type:"CIMMarkerPlacementPolygonCenter",placePerPart:!1,method:_symbols_cim_enums_js__WEBPACK_IMPORTED_MODULE_2__.PlacementPolygonCenterMethod.OnPolygon,offsetX:0,offsetY:0,clipAtBoundary:!1},size:10}}function s(e){const{primitiveOverrides:n}=e;return new _symbols_CIMSymbol_js__WEBPACK_IMPORTED_MODULE_1__["default"]({data:{type:"CIMSymbolReference",symbol:{type:"CIMPolygonSymbol",symbolLayers:[a(e),l(e)]},primitiveOverrides:n}})}function c(e){return"CIMVectorMarker"===e?.type?e.markerGraphics?.[0]:void 0}function m(e){return"CIMPolygonSymbol"===e?.symbol?.type?e.symbol.symbolLayers?.[0]:void 0}function y(e,r){"CIMVectorMarker"===e?.type&&null!=r&&(e.size=r)}function u(e,r){const n=c(e);n&&null!=r&&(n.geometry=i(r))}function p(e,r){const n=m(c(e));n&&null!=r&&(n.color=r.toArray())}function f(e,r,n){const t=m(c(e));t&&null!=r&&n&&(t.colorLocked=r)}function v(r,n){const{outerRingSize:o,innerDotSize:i,type:a,color:l,colorLocked:s,primitiveOverrides:c}=n,m="CIMPolygonSymbol"===r.data.symbol?.type?r.data.symbol.symbolLayers:null;if(2===m?.length)for(const e of m){const r=e.primitiveName===t.OuterRing;y(e,r?o:i),u(e,a),p(e,l),f(e,s,r)}return null!=o&&null!=i&&(r.data.primitiveOverrides=null),void 0!==c&&(r.data.primitiveOverrides=(0,_core_lang_js__WEBPACK_IMPORTED_MODULE_0__.clone)(c)),r}!function(e){e.OuterRing="reference-size-outer-ring",e.InnerDot="reference-size-inner-dot"}(t||(t={}));


/***/ }),

/***/ "./node_modules/@arcgis/core/smartMapping/renderers/support/spikeUtils.js":
/*!********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/smartMapping/renderers/support/spikeUtils.js ***!
  \********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   createPrimitiveOverrides: () => (/* binding */ u),
/* harmony export */   createSpikeSymbol: () => (/* binding */ m),
/* harmony export */   defaultSpikeSymbolStyle: () => (/* binding */ f),
/* harmony export */   updateSpikeSymbol: () => (/* binding */ v)
/* harmony export */ });
/* harmony import */ var _Color_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../Color.js */ "./node_modules/@arcgis/core/Color.js");
/* harmony import */ var _core_lang_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/lang.js */ "./node_modules/@arcgis/core/core/lang.js");
/* harmony import */ var _core_screenUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/screenUtils.js */ "./node_modules/@arcgis/core/core/screenUtils.js");
/* harmony import */ var _symbols_CIMSymbol_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../symbols/CIMSymbol.js */ "./node_modules/@arcgis/core/symbols/CIMSymbol.js");
/* harmony import */ var _symbols_cim_enums_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../symbols/cim/enums.js */ "./node_modules/@arcgis/core/symbols/cim/enums.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
const a="spike-height-override",s=(0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_2__.px2pt)(8),c=(0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_2__.px2pt)(20),f="triangle-solid-fill-open-outline";function u(e){const{field:o,normalizationField:t,sizeStops:r}=e,{value:i,size:l}=r[0],{value:n,size:s}=r[1];let c,f=0;o&&(f=`$feature["${o}"]`,c=`\n      if(!HasValue($feature, "${o}")){\n        return 0;\n      }\n      $feature["${o}"];\n    `),t&&(f=`$feature["${o}"] / $feature["${t}"]`,c=`if(!HasValue($feature, "${o}") || !HasValue($feature, "${t}") || $feature["${t}"] <= 0){\n        return 0;\n      }\n      $feature["${o}"];\n      $feature["${t}"];`);return[{type:"CIMPrimitiveOverride",primitiveName:a,propertyName:"Length",valueExpressionInfo:{type:"CIMExpressionInfo",title:"Custom",expression:`\n        ${c}\n        var value = ${f};\n\n        var maxSize = ${s};\n        var minSize = ${l};\n\n        var minDataValue = ${i};\n        var maxDataValue = ${n};\n\n        var ratio = Constrain(( value - minDataValue ) / ( maxDataValue - minDataValue ), 0, 1);\n\n        var size = Constrain(maxSize * ratio, minSize, maxSize);\n        return size;\n      `,returnType:"Default"}}]}function m(e){const{primitiveOverrides:o,baseWidth:t,defaultHeight:i}=e,l=p(e);return new _symbols_CIMSymbol_js__WEBPACK_IMPORTED_MODULE_3__["default"]({data:{type:"CIMSymbolReference",symbol:{type:"CIMPointSymbol",effects:[{type:"CIMGeometricEffectRadial",primitiveName:a,angle:90,length:i??c},{type:"CIMGeometricEffectTaperedPolygon",fromWidth:t??s,toWidth:1,length:5}],symbolLayers:l,haloSize:1,scaleX:1,angleAlignment:"Display"},primitiveOverrides:o}})}function p(e){const o=[d(e)],t=C(e);return t&&o.push(t),o}function d(e){const{strokeColor:o,strokeWidth:r,symbolStyle:a}=e,s=a?.includes("solid-fill")||a?.includes("gradient-fill");let c=o?.toArray(),f=!1;return a?.includes("outline")&&s?f=!0:c=e.color?.toArray(),{type:"CIMSolidStroke",effects:y(a),enable:!0,colorLocked:f,capStyle:_symbols_cim_enums_js__WEBPACK_IMPORTED_MODULE_4__.LineCapStyle.Round,joinStyle:_symbols_cim_enums_js__WEBPACK_IMPORTED_MODULE_4__.LineJoinStyle.Round,lineStyle3D:_symbols_cim_enums_js__WEBPACK_IMPORTED_MODULE_4__.Simple3DLineStyle.Strip,miterLimit:4,width:r??(0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_2__.px2pt)(1),color:c}}function y(e){if(!e?.includes("closed"))return[{type:"CIMGeometricEffectAddControlPoints",angleTolerance:90,primitiveName:"spike-control-points"},{type:"CIMGeometricEffectSuppress",suppress:!0,invert:!0,primitiveName:"spike-stroke-suppress"}]}function C(e){const{color:o,symbolStyle:t}=e,r=t?.includes("solid-fill"),i=t?.includes("gradient-fill");if(!r&&!i||!o)return;if(r)return{type:"CIMSolidFill",enable:!0,colorLocked:!1,color:o?.toArray()};const l=o.clone();return l.a=0,{type:"CIMGradientFill",enable:!0,angle:90,colorRamp:{type:"CIMMultipartColorRamp",colorRamps:[{type:"CIMLinearContinuousColorRamp",fromColor:o.toArray(),toColor:l.toArray()}],weights:[1]},gradientMethod:"Linear",gradientSize:70,gradientSizeUnits:"Relative",gradientType:"Continuous"}}function v(t,r){const{defaultHeight:i,baseWidth:l,color:n,strokeColor:s,primitiveOverrides:c,symbolStyle:f,strokeWidth:u}=r,m="CIMPointSymbol"===t.data.symbol?.type?t.data.symbol:null,p=m?.symbolLayers;if(!p)return t;const y=m.effects,v=y?.find((e=>"CIMGeometricEffectTaperedPolygon"===e.type)),$=y?.find((e=>"CIMGeometricEffectRadial"===e.type&&e.primitiveName===a));null!=l&&v&&(v.fromWidth=l),null!=i&&$&&($.length=i);const h=p?.find((e=>"CIMSolidStroke"===e.type)),M=p?.find((e=>"CIMSolidFill"===e.type)),g=p?.find((e=>"CIMGradientFill"===e.type)),I="CIMMultipartColorRamp"===g?.colorRamp?.type&&"CIMLinearContinuousColorRamp"===g.colorRamp.colorRamps[0]?.type?g.colorRamp.colorRamps[0]:null;if(f){const o=M?.color??I?.fromColor??h?.color,t=n??(o?new _Color_js__WEBPACK_IMPORTED_MODULE_0__["default"](o):void 0),i=h?.color??o,l=s??(i?new _Color_js__WEBPACK_IMPORTED_MODULE_0__["default"](i):void 0),a=f.includes("solid-fill"),c=f.includes("gradient-fill");if(a||c||S(p,M??g),t)if(a)S(p,g),M?M.color=t?.toArray():p.push(C({...r,color:t}));else if(c)if(S(p,M),g){if(I&&n){const e=t.clone();e.a=0,I.fromColor=t.toArray(),I.toColor=e.toArray()}}else p.push(C({...r,color:t}));if(h){const e=d({...r,strokeColor:l,color:t});h.effects=e.effects,h.color=e.color,h.width=e.width,h.colorLocked=e.colorLocked}}else if(h&&(s&&(h.color=s.toArray()),null!=u&&(h.width=u)),M&&n&&(M.color=n.toArray()),I&&n){const e=n.clone();e.a=0,I.fromColor=n.toArray(),I.toColor=e.toArray()}return void 0!==c&&(t.data.primitiveOverrides=(0,_core_lang_js__WEBPACK_IMPORTED_MODULE_1__.clone)(c)),t}function S(e,o){if(!o)return;const t=e.indexOf(o);-1!==t&&e.splice(t,1)}


/***/ }),

/***/ "./node_modules/@arcgis/core/symbols/support/previewCIMSymbol.js":
/*!***********************************************************************!*\
  !*** ./node_modules/@arcgis/core/symbols/support/previewCIMSymbol.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   getCIMSymbolPreviewSize: () => (/* binding */ g),
/* harmony export */   previewCIMSymbol: () => (/* binding */ d)
/* harmony export */ });
/* harmony import */ var _core_screenUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../core/screenUtils.js */ "./node_modules/@arcgis/core/core/screenUtils.js");
/* harmony import */ var _cim_CIMSymbolHelper_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../cim/CIMSymbolHelper.js */ "./node_modules/@arcgis/core/symbols/cim/CIMSymbolHelper.js");
/* harmony import */ var _cim_CIMSymbolRasterizer_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../cim/CIMSymbolRasterizer.js */ "./node_modules/@arcgis/core/symbols/cim/CIMSymbolRasterizer.js");
/* harmony import */ var _cim_OverrideHelper_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../cim/OverrideHelper.js */ "./node_modules/@arcgis/core/symbols/cim/OverrideHelper.js");
/* harmony import */ var _cim_utils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../cim/utils.js */ "./node_modules/@arcgis/core/symbols/cim/utils.js");
/* harmony import */ var _previewUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./previewUtils.js */ "./node_modules/@arcgis/core/symbols/support/previewUtils.js");
/* harmony import */ var _renderUtils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./renderUtils.js */ "./node_modules/@arcgis/core/symbols/support/renderUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
const s=new _cim_CIMSymbolRasterizer_js__WEBPACK_IMPORTED_MODULE_2__.CIMSymbolRasterizer(null),m=(0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_0__.px2pt)(_previewUtils_js__WEBPACK_IMPORTED_MODULE_5__.SymbolSizeDefaults.size),h=(0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_0__.px2pt)(_previewUtils_js__WEBPACK_IMPORTED_MODULE_5__.SymbolSizeDefaults.maxSize),c=(0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_0__.px2pt)(_previewUtils_js__WEBPACK_IMPORTED_MODULE_5__.SymbolSizeDefaults.lineWidth),y=1;async function u(e,t,i){const o=t?.size;let l=null!=o&&"object"==typeof o&&"width"in o?o.width:o,r=null!=o&&"object"==typeof o&&"height"in o?o.height:o;if(!l||!r)if("esriGeometryPolygon"===i)l=r=t.maxSize?Math.min(t.maxSize,m):m;else{const o=await g(e,t,i);o&&(l=o.width,r=o.height),"esriGeometryPolyline"===i&&(l=t.maxSize?Math.min(t.maxSize,c):c),l=null!=l&&isFinite(l)?Math.min(l,h):m,r=null!=r&&isFinite(r)?Math.max(Math.min(r,h),y):m}return"legend"===t.style&&"esriGeometryPolyline"===i&&(l=c),{width:l,height:r}}async function g(e,t={},o){const n=t.cimOptions||t;o??=n.geometryType||(0,_cim_utils_js__WEBPACK_IMPORTED_MODULE_4__.mapCIMSymbolToGeometryType)(e?.data?.symbol);const{feature:a,fieldMap:m,viewParams:h}=n,c=await _cim_OverrideHelper_js__WEBPACK_IMPORTED_MODULE_3__.OverrideHelper.resolveSymbolOverrides(e.data,a,null,m,o,null,h);if(!c)return null;(e=e.clone()).data={type:"CIMSymbolReference",symbol:c},e.data.primitiveOverrides=void 0;const y=[];return _cim_CIMSymbolHelper_js__WEBPACK_IMPORTED_MODULE_1__.CIMSymbolHelper.fetchResources(c,s.resourceManager,y),_cim_CIMSymbolHelper_js__WEBPACK_IMPORTED_MODULE_1__.CIMSymbolHelper.fetchFonts(c,s.resourceManager,y),y.length>0&&await Promise.all(y),_cim_CIMSymbolHelper_js__WEBPACK_IMPORTED_MODULE_1__.CIMSymbolHelper.getEnvelope(c,null,s.resourceManager)}async function d(i,o={}){const{node:l,opacity:n,symbolConfig:m}=o,h=null!=m&&"object"==typeof m&&"isSquareFill"in m&&m.isSquareFill,c=o.cimOptions||o,y=c.geometryType||(0,_cim_utils_js__WEBPACK_IMPORTED_MODULE_4__.mapCIMSymbolToGeometryType)(i?.data?.symbol),g=await u(i,o,y),{feature:d,fieldMap:f}=c,p=o?.geometry||h||"esriGeometryPolygon"!==y?"preview":"legend";let w=g;const b=g;if(o?.geometry&&("esriGeometryPolygon"===y||"esriGeometryPolyline"===y)){const i=200;if((0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_0__.pt2px)(g.width)<i||(0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_0__.pt2px)(g.height)<i){const e=g.width>g.height?(0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_0__.px2pt)(i)*g.height/g.width:(0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_0__.px2pt)(i);w={width:g.width>g.height?(0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_0__.px2pt)(i):(0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_0__.px2pt)(i)*g.width/g.height,height:e}}}const M=await s.rasterizeCIMSymbolAsync(i,d,w,p,f,y,null,c.viewParams,c.allowScalingUp,o?.geometry?.toJSON());if(!M)return null;const{width:S,height:v}=M,j=document.createElement("canvas");j.width=S,j.height=v;j.getContext("2d").putImageData(M,0,0);const x=(0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_0__.pt2px)(b.width),z=(0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_0__.pt2px)(b.height),P=new Image(x,z);P.src=j.toDataURL(),P.ariaLabel=o.ariaLabel??null,P.alt=o.ariaLabel??"",null!=n&&(P.style.opacity=`${n}`);let C=P;if(null!=o.effectView){const e={shape:{type:"image",x:0,y:0,width:x,height:z,src:P.src},fill:null,stroke:null,offset:[0,0]};C=(0,_renderUtils_js__WEBPACK_IMPORTED_MODULE_6__.renderSymbol)([[e]],[x,z],o)}return l&&C&&l.appendChild(C),C}


/***/ }),

/***/ "./node_modules/@arcgis/core/widgets/Legend/support/sizeRampUtils.js":
/*!***************************************************************************!*\
  !*** ./node_modules/@arcgis/core/widgets/Legend/support/sizeRampUtils.js ***!
  \***************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   getRampStops: () => (/* binding */ L),
/* harmony export */   getReferenceSizeSymbol: () => (/* binding */ T),
/* harmony export */   realWorldMaxSize: () => (/* binding */ w),
/* harmony export */   realWorldMinSize: () => (/* binding */ S)
/* harmony export */ });
/* harmony import */ var _Color_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../Color.js */ "./node_modules/@arcgis/core/Color.js");
/* harmony import */ var _core_colorUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/colorUtils.js */ "./node_modules/@arcgis/core/core/colorUtils.js");
/* harmony import */ var _renderers_support_numberUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../renderers/support/numberUtils.js */ "./node_modules/@arcgis/core/renderers/support/numberUtils.js");
/* harmony import */ var _smartMapping_renderers_support_referenceSizeUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../smartMapping/renderers/support/referenceSizeUtils.js */ "./node_modules/@arcgis/core/smartMapping/renderers/support/referenceSizeUtils.js");
/* harmony import */ var _smartMapping_renderers_support_spikeUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../smartMapping/renderers/support/spikeUtils.js */ "./node_modules/@arcgis/core/smartMapping/renderers/support/spikeUtils.js");
/* harmony import */ var _symbols_SimpleLineSymbol_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../symbols/SimpleLineSymbol.js */ "./node_modules/@arcgis/core/symbols/SimpleLineSymbol.js");
/* harmony import */ var _symbols_SimpleMarkerSymbol_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../symbols/SimpleMarkerSymbol.js */ "./node_modules/@arcgis/core/symbols/SimpleMarkerSymbol.js");
/* harmony import */ var _symbols_support_cimSymbolUtils_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../symbols/support/cimSymbolUtils.js */ "./node_modules/@arcgis/core/symbols/support/cimSymbolUtils.js");
/* harmony import */ var _symbols_support_previewCIMSymbol_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../symbols/support/previewCIMSymbol.js */ "./node_modules/@arcgis/core/symbols/support/previewCIMSymbol.js");
/* harmony import */ var _symbols_support_typeUtils_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../symbols/support/typeUtils.js */ "./node_modules/@arcgis/core/symbols/support/typeUtils.js");
/* harmony import */ var _symbols_support_utils_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../symbols/support/utils.js */ "./node_modules/@arcgis/core/symbols/support/utils.js");
/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./utils.js */ "./node_modules/@arcgis/core/widgets/Legend/support/utils.js");
/* harmony import */ var _support_widgetUtils_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../support/widgetUtils.js */ "./node_modules/@arcgis/core/widgets/support/widgetUtils.js");
/* harmony import */ var _support_modeUtils_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../support/modeUtils.js */ "./node_modules/@arcgis/core/support/modeUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
const w=30,S=12,g=24,v=[255,255,255],z=[200,200,200],k=[128,128,128],j=20,I=5;function V(e){return"esri.symbols.SimpleMarkerSymbol"===e.declaredClass}function x(e){return"esri.symbols.PictureMarkerSymbol"===e.declaredClass}function M(e){return"esri.symbols.SimpleLineSymbol"===e.declaredClass}function U(e){return"esri.symbols.TextSymbol"===e.declaredClass}function C(e,t){const l=e.length-1;return e.map(((e,o)=>(0,_utils_js__WEBPACK_IMPORTED_MODULE_11__.createStopLabel)(e,o,l,t)))}async function L(e,t,o,i,n,r,s){const a=t.legendOptions,u=a?.customValues,m=s||await B(e,o),b=t.stops,d=!!m,h=!!u,w=null!=t.minSize&&null!=t.maxSize,S=b&&b.length>1,v=!!t.target;if(!d||!h&&!(w||S&&!v))return;const z=(0,_symbols_support_utils_js__WEBPACK_IMPORTED_MODULE_10__.isVolumetricSymbol)(m);let k=!1,j=null,I=null;j=z&&!S?(0,_renderers_support_numberUtils_js__WEBPACK_IMPORTED_MODULE_2__.round)([t.minDataValue,t.maxDataValue]):u??await H(t,m,i,n?.type);const V=e?.authoringInfo,x="univariate-color-size"===V?.type,M=x&&"above-and-below"===V?.univariateTheme,U=!!(0,_utils_js__WEBPACK_IMPORTED_MODULE_11__.getAuthoringInfoVisualVariableByTheme)(e,"reference-size"),L=!!(0,_utils_js__WEBPACK_IMPORTED_MODULE_11__.getAuthoringInfoVisualVariableByTheme)(e,"spike");if(!j&&S&&(j=b.map((e=>e.value)),k=b.some((e=>!!e.label)),"flow"===e.type&&(j=(0,_renderers_support_numberUtils_js__WEBPACK_IMPORTED_MODULE_2__.round)(j)),k&&(I=b.map((e=>e.label)))),z&&null!=j&&j?.length>2&&!M&&(j=[j[0],j[j.length-1]]),!j)return null;x&&5!==j?.length&&(j=O({minSize:j[0],maxSize:j[j.length-1]}));const T=z?D(e,j):null,q=(0,_symbols_support_utils_js__WEBPACK_IMPORTED_MODULE_10__.getSymbolOutlineSize)(m),E=k?null:C(j,r),P=await Promise.all(j.map((async(l,o)=>{let r=z?T[o]:await G(t,m,l,i,n?.type),s=r;U&&(r*=g/t.maxSize||1,s=g);const a=J(m,r,e,o);L&&"cim"===a.type&&(s=await (0,_symbols_support_previewCIMSymbol_js__WEBPACK_IMPORTED_MODULE_8__.getCIMSymbolPreviewSize)(a));return{value:l,symbol:a,label:k?I[o]:E[o],size:s,outlineSize:q}})));return P.reverse()}function D(e,t){const l=e?.authoringInfo,o="univariate-color-size"===l?.type;let i=[S,w];if(o){const e=t[0],l=t[t.length-1],o=S,n=w;i=t.map((t=>o+(t-e)/(l-e)*(n-o)))}return o&&"below"===l?.univariateTheme&&i.reverse(),i}function T(t,l,o,i){const r="class-breaks"===t.type,s=r?t.classBreakInfos?.[0]?.symbol?.clone():t.uniqueValueInfos?.[0]?.symbol?.clone();return s&&"type"in s&&"cim"===s.type?((0,_smartMapping_renderers_support_referenceSizeUtils_js__WEBPACK_IMPORTED_MODULE_3__.updateReferenceSizeSymbol)(s,{color:i??(r?null:new _Color_js__WEBPACK_IMPORTED_MODULE_0__["default"](z)),innerDotSize:l*(g/o)||1,outerRingSize:g}),s):null}function q(e,t){const l=e.classBreakInfos,o=l.length,i=o<2||!(t>=2)?l[0].symbol.clone():l[o-1].symbol.clone(),n=e.visualVariables?.some((e=>"color"===e.type));return n&&(i.type.includes("3d")?P(i):R(i)),i}async function B(l,o){if("flow"===l.type)return (0,_utils_js__WEBPACK_IMPORTED_MODULE_11__.getSymbolForFlowRenderer)(l,o);if("pie-chart"===l.type)return new _symbols_SimpleMarkerSymbol_js__WEBPACK_IMPORTED_MODULE_6__["default"]({color:null,outline:l.outline?.width?l.outline:new _symbols_SimpleLineSymbol_js__WEBPACK_IMPORTED_MODULE_5__["default"]});let i=null,u=null;if("simple"===l.type)i=l.symbol;else if("class-breaks"===l.type){const e=l.classBreakInfos;i=e&&e[0]&&e[0].symbol,u=e.length>1}else if("unique-value"===l.type){const e=l.uniqueValueInfos;i=e?.[0]?.symbol,u=null!=e&&e.length>1}if(!i||E(i))return null;if(i=i.clone(),o||u)if(i.type.includes("3d"))P(i);else if((0,_utils_js__WEBPACK_IMPORTED_MODULE_11__.getAuthoringInfoVisualVariableByTheme)(l,"reference-size")&&"cim"===i.type)(0,_smartMapping_renderers_support_referenceSizeUtils_js__WEBPACK_IMPORTED_MODULE_3__.updateReferenceSizeSymbol)(i,{color:o??("class-breaks"!==l.type?new _Color_js__WEBPACK_IMPORTED_MODULE_0__["default"](z):null)});else if((0,_utils_js__WEBPACK_IMPORTED_MODULE_11__.getAuthoringInfoVisualVariableByTheme)(l,"spike")&&"cim"===i.type){const l=new _Color_js__WEBPACK_IMPORTED_MODULE_0__["default"](z),n=new _Color_js__WEBPACK_IMPORTED_MODULE_0__["default"](k),s="CIMPointSymbol"===i.data.symbol?.type?i.data.symbol:null,a=!!s?.symbolLayers?.find((({type:e})=>"CIMSolidStroke"===e))?.colorLocked;let u,c=o??void 0;if(c){const e=(0,_core_colorUtils_js__WEBPACK_IMPORTED_MODULE_1__.getColorLuminance)(c),o=(0,_support_modeUtils_js__WEBPACK_IMPORTED_MODULE_13__.isDarkMode)();(!o&&e>225||o&&e<25)&&(c=l,u=a?n:l)}else c=l,u=a?n:l;(0,_smartMapping_renderers_support_spikeUtils_js__WEBPACK_IMPORTED_MODULE_4__.updateSpikeSymbol)(i,{color:c,strokeColor:u})}else R(i);return i}function E(e){return (0,_symbols_support_typeUtils_js__WEBPACK_IMPORTED_MODULE_9__.isSymbol3D)(e)?e.symbolLayers?.some((e=>"fill"===e?.type))??!1:e?.type.includes("fill")??!1}function P(e){"line-3d"===e.type?e.symbolLayers.forEach((e=>{e.material={color:k}})):e.symbolLayers.forEach((e=>{"icon"!==e.type||e.resource?.href?e.material={color:z}:(e.material={color:v},e.outline={color:k,size:1.5})}))}function R(t){const l=(0,_support_modeUtils_js__WEBPACK_IMPORTED_MODULE_13__.isDarkMode)();if("cim"===t.type)(0,_symbols_support_cimSymbolUtils_js__WEBPACK_IMPORTED_MODULE_7__.applyCIMSymbolColor)(t,new _Color_js__WEBPACK_IMPORTED_MODULE_0__["default"](z));else if(t.type.includes("line"))t.color=k;else if(t.color=l?k:v,"simple-marker"===t.type)if(t.outline){const e=t.outline?.color?.toHex();"#ffffff"===e&&(t.outline.color=k)}else t.outline={color:k,width:1.5}}async function H(e,t,o,i){const n=(await Promise.resolve(/*! import() */).then(__webpack_require__.bind(__webpack_require__, /*! ../../../renderers/visualVariables/support/visualVariableUtils.js */ "./node_modules/@arcgis/core/renderers/visualVariables/support/visualVariableUtils.js"))).getSizeRangeAtScale(e,o,i),r=n&&O(n);if(!n||!r)return;let s=r.map((t=>A(t,e,n)));s=(0,_renderers_support_numberUtils_js__WEBPACK_IMPORTED_MODULE_2__.round)(s);for(let l=1;l<s.length-1;l++){const n=await F(e,t,s[l],s[l-1],o,i);n&&(s[l]=n[0],r[l]=n[1])}return s}function O(e){const t=e.minSize,l=e.maxSize,o=I,i=(l-t)/(o-1),n=[];for(let r=0;r<o;r++)n.push(t+i*r);return n}function A(e,t,l){const o=l.minSize,i=l.maxSize,n=t.minDataValue,r=t.maxDataValue;let s;if(e<=o)s=n;else if(e>=i)s=r;else{s=(e-o)/(i-o)*(r-n)+n}return s}async function F(e,t,n,r,s,a){const u=await G(e,t,n,s,a),c=await G(e,t,r,s,a),m=(0,_renderers_support_numberUtils_js__WEBPACK_IMPORTED_MODULE_2__.numDigits)(n),p=m.fractional,f=j;let y=m.integer,b=null,d=null;n>0&&n<1&&(b=10**p,y=(0,_renderers_support_numberUtils_js__WEBPACK_IMPORTED_MODULE_2__.numDigits)(n*=b).integer);for(let o=y-1;o>=0;o--){const r=10**o;let m=Math.floor(n/r)*r,p=Math.ceil(n/r)*r;null!=b&&(m/=b,p/=b);let y=(m+p)/2;[,y]=(0,_renderers_support_numberUtils_js__WEBPACK_IMPORTED_MODULE_2__.round)([m,y,p],{indexes:[1]});const h=await G(e,t,m,s,a),w=await G(e,t,p,s,a),S=await G(e,t,y,s,a),g=(0,_renderers_support_numberUtils_js__WEBPACK_IMPORTED_MODULE_2__.percentChange)(u,h,c,null),v=(0,_renderers_support_numberUtils_js__WEBPACK_IMPORTED_MODULE_2__.percentChange)(u,w,c,null),z=(0,_renderers_support_numberUtils_js__WEBPACK_IMPORTED_MODULE_2__.percentChange)(u,S,c,null);let k=g.previous<=f,j=v.previous<=f;if(k&&j&&(g.previous<=v.previous?(k=!0,j=!1):(j=!0,k=!1)),k?d=[m,h]:j?d=[p,w]:z.previous<=f&&(d=[y,S]),d)break}return d}async function G(e,t,l,o,i){const{getSize:n}=await Promise.resolve(/*! import() */).then(__webpack_require__.bind(__webpack_require__, /*! ../../../renderers/visualVariables/support/visualVariableUtils.js */ "./node_modules/@arcgis/core/renderers/visualVariables/support/visualVariableUtils.js"));return n(e,l,{scale:o,view:i,shape:"simple-marker"===t.type?t.style:null})}function J(e,t,l,o){"univariate-color-size"===l?.authoringInfo?.type&&"above-and-below"===l?.authoringInfo?.univariateTheme&&"class-breaks"===l.type&&(e=q(l,o));const i=e.clone();if((0,_symbols_support_typeUtils_js__WEBPACK_IMPORTED_MODULE_9__.isSymbol3D)(i))(0,_symbols_support_utils_js__WEBPACK_IMPORTED_MODULE_10__.isVolumetricSymbol)(i)||i.symbolLayers.forEach((e=>{"fill"!==e.type&&(e.size=t)}));else if(V(i))i.size=t;else if(x(i)){const e=i.width,l=i.height;i.height=t,i.width=t*(e/l)}else M(i)?i.width=t:U(i)?i.font&&(i.font.size=t):"cim"===i.type&&(0,_utils_js__WEBPACK_IMPORTED_MODULE_11__.getAuthoringInfoVisualVariableByTheme)(l,"reference-size")?(0,_smartMapping_renderers_support_referenceSizeUtils_js__WEBPACK_IMPORTED_MODULE_3__.updateReferenceSizeSymbol)(i,{innerDotSize:t,outerRingSize:g}):"cim"===i.type&&(0,_utils_js__WEBPACK_IMPORTED_MODULE_11__.getAuthoringInfoVisualVariableByTheme)(l,"spike")&&(0,_smartMapping_renderers_support_spikeUtils_js__WEBPACK_IMPORTED_MODULE_4__.updateSpikeSymbol)(i,{defaultHeight:t,primitiveOverrides:null});return i}


/***/ })

};

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmVuZG9ycy1ub2RlX21vZHVsZXNfYXJjZ2lzX2NvcmVfd2lkZ2V0c19MZWdlbmRfc3VwcG9ydF9zaXplUmFtcFV0aWxzX2pzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUN3SyxNQUFNLGNBQWMsTUFBTSxxRUFBcUUsSUFBSSxlQUFlLE9BQU8sZUFBZSxNQUFNLFVBQVUsbUJBQW1CLEVBQUUseUNBQXlDLEVBQUUsSUFBSSxtQkFBbUIsU0FBUyxvQkFBb0IsRUFBRSxHQUFHLDRCQUE0QixFQUFFLGlCQUFpQixFQUFFLGlDQUFpQyxFQUFFLDZCQUE2QixFQUFFLGtCQUFrQixFQUFFLFNBQVMsbUJBQW1CLFNBQVMsb0JBQW9CLEVBQUUsR0FBRyxvQkFBb0IsRUFBRSxHQUFHLEdBQUcsU0FBUyxzRkFBc0YsRUFBRSx3QkFBd0IsR0FBRywrQkFBK0IsU0FBUywwREFBMEQsV0FBVyxFQUFFLGlCQUFpQixFQUFFLHVCQUF1QixJQUFJLHNGQUFzRixFQUFFLHdCQUF3QixHQUFHLG1DQUFtQyxTQUFTLHNDQUFzQyxzQ0FBc0MsMEJBQTBCLEdBQUcsc0JBQXNCLDBCQUEwQixHQUFHLHNCQUFzQixpQ0FBaUMsR0FBRywrQkFBK0IsR0FBRyxvR0FBb0csNEVBQTRFLDhCQUE4QixnQ0FBZ0MsUUFBUSxnR0FBZ0csRUFBRSwrRkFBK0YsRUFBRSxjQUFjLFVBQVUsb0JBQW9CLHdjQUF3YyxvQkFBb0IsMkRBQTJELHFCQUFxQiw0REFBNEQsNEJBQTRCLDhGQUE4RiwwQkFBMEIsK0ZBQStGLGNBQWMsTUFBTSw2QkFBNkIsR0FBRyxPQUFPLDZEQUE2RCxRQUFRLDhEQUE4RCw4QkFBOEIsa0JBQWtCLDhDQUE4Qyx1Q0FBdUMsMEVBQTBFLHlDQUF5QyxFQUFFLEdBQUcsaUVBQWlFLDhEQUE4RCwrRUFBQyxpREFBaUQsVUFBVSxjQUFjLE1BQU0sZUFBZSxHQUFHLE9BQU8sOENBQThDLFFBQVEsNkRBQTZELDhCQUE4QixrQkFBa0Is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ZV9tb2R1bGVzL0BhcmNnaXMvY29yZS9zbWFydE1hcHBpbmcvcmVuZGVyZXJzL3N1cHBvcnQvcmVmZXJlbmNlU2l6ZVV0aWxzLmpzIiwid2VicGFjazovL3ByZWNpc2lvbmZhcm1zLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS9zbWFydE1hcHBpbmcvcmVuZGVyZXJzL3N1cHBvcnQvc3Bpa2VVdGlscy5qcyIsIndlYnBhY2s6Ly9wcmVjaXNpb25mYXJtcy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvc3ltYm9scy9zdXBwb3J0L3ByZXZpZXdDSU1TeW1ib2wuanMiLCJ3ZWJwYWNrOi8vcHJlY2lzaW9uZmFybXMvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3dpZGdldHMvTGVnZW5kL3N1cHBvcnQvc2l6ZVJhbXBVdGlscy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4zMy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e2Nsb25lIGFzIGV9ZnJvbVwiLi4vLi4vLi4vY29yZS9sYW5nLmpzXCI7aW1wb3J0IHIgZnJvbVwiLi4vLi4vLi4vc3ltYm9scy9DSU1TeW1ib2wuanNcIjtpbXBvcnR7UGxhY2VtZW50UG9seWdvbkNlbnRlck1ldGhvZCBhcyBufWZyb21cIi4uLy4uLy4uL3N5bWJvbHMvY2ltL2VudW1zLmpzXCI7dmFyIHQ7ZnVuY3Rpb24gbyhlKXtjb25zdHt2aWV3OnIsZmllbGQ6bixub3JtYWxpemF0aW9uRmllbGQ6byxzaXplU3RvcHM6aSxzaXplQnlTY2FsZUVuYWJsZWQ6YX09ZSx7dmFsdWU6bCxzaXplOnN9PWlbMF0se3ZhbHVlOmMsc2l6ZTptfT1pWzFdO2xldCB5LHU9MDtuJiYodT1gJGZlYXR1cmVbXCIke259XCJdYCx5PWBcXG4gICAgICBpZighSGFzVmFsdWUoJGZlYXR1cmUsIFwiJHtufVwiKSl7XFxuICAgICAgICByZXR1cm4gMDtcXG4gICAgICB9XFxuICAgICAgJGZlYXR1cmVbXCIke259XCJdO1xcbiAgICBgKSxvJiYodT1gJGZlYXR1cmVbXCIke259XCJdIC8gJGZlYXR1cmVbXCIke299XCJdYCx5PWBpZighSGFzVmFsdWUoJGZlYXR1cmUsIFwiJHtufVwiKSB8fCAhSGFzVmFsdWUoJGZlYXR1cmUsIFwiJHtvfVwiKSB8fCAkZmVhdHVyZVtcIiR7b31cIl0gPD0gMCl7XFxuICAgICAgICByZXR1cm4gMDtcXG4gICAgICB9XFxuICAgICAgJGZlYXR1cmVbXCIke259XCJdO1xcbiAgICAgICRmZWF0dXJlW1wiJHtvfVwiXTtgKTtjb25zdCBwPXt0eXBlOlwiQ0lNRXhwcmVzc2lvbkluZm9cIix0aXRsZTpcIlNpemUgaW4gcGl4ZWxzIG9mIG91dGVyIHJpbmdcIixleHByZXNzaW9uOmE/YFxcbiAgICAgICR7eX1cXG4gICAgICB2YXIgbWF4U2l6ZSA9ICR7bX07XFxuICAgICAgdmFyIHJlZmVyZW5jZVNjYWxlID0gJHtyLnNjYWxlfTtcXG4gICAgICByZXR1cm4gKG1heFNpemUgKiAocmVmZXJlbmNlU2NhbGUgLyAkdmlldy5zY2FsZSkpO1xcbiAgICBgOmAke3l9XFxuICAgICAgcmV0dXJuICR7bX1gLHJldHVyblR5cGU6XCJEZWZhdWx0XCJ9LGY9e3R5cGU6XCJDSU1FeHByZXNzaW9uSW5mb1wiLHRpdGxlOlwiU2l6ZSBpbiBwaXhlbHMgb2YgaW5uZXIgcmluZ1wiLGV4cHJlc3Npb246YFxcbiAgICAgICAgJHt5fVxcbiAgICAgICAgdmFyIHZhbHVlID0gJHt1fTtcXG5cXG4gICAgICAgIHZhciByZWZlcmVuY2VTY2FsZSA9ICR7ci5zY2FsZX07XFxuICAgICAgICB2YXIgcmVmZXJlbmNlU2NhbGVSYXRpbyA9ICR7YT9cIihyZWZlcmVuY2VTY2FsZSAvICR2aWV3LnNjYWxlKVwiOjF9O1xcbiAgICAgICAgdmFyIG1heFNpemUgPSAke219ICogcmVmZXJlbmNlU2NhbGVSYXRpbztcXG4gICAgICAgIHZhciBtaW5TaXplID0gJHtzfSAqIHJlZmVyZW5jZVNjYWxlUmF0aW87XFxuXFxuICAgICAgICB2YXIgbWluRGF0YVZhbHVlID0gJHtsfTtcXG4gICAgICAgIHZhciBtYXhEYXRhVmFsdWUgPSAke2N9O1xcblxcbiAgICAgICAgdmFyIHJhdGlvID0gQ29uc3RyYWluKCggdmFsdWUgLSBtaW5EYXRhVmFsdWUgKSAvICggbWF4RGF0YVZhbHVlIC0gbWluRGF0YVZhbHVlICksIDAsIDEpO1xcblxcbiAgICAgICAgdmFyIGlubmVyRG90U2l6ZSA9IENvbnN0cmFpbihtYXhTaXplICogcmF0aW8sIG1pblNpemUsIG1heFNpemUpO1xcbiAgICAgICAgcmV0dXJuIGlubmVyRG90U2l6ZTtcXG4gICAgICBgLHJldHVyblR5cGU6XCJEZWZhdWx0XCJ9O3JldHVyblt7dHlwZTpcIkNJTVByaW1pdGl2ZU92ZXJyaWRlXCIscHJpbWl0aXZlTmFtZTp0Lk91dGVyUmluZyxwcm9wZXJ0eU5hbWU6XCJTaXplXCIsdmFsdWVFeHByZXNzaW9uSW5mbzpwfSx7dHlwZTpcIkNJTVByaW1pdGl2ZU92ZXJyaWRlXCIscHJpbWl0aXZlTmFtZTp0LklubmVyRG90LHByb3BlcnR5TmFtZTpcIlNpemVcIix2YWx1ZUV4cHJlc3Npb25JbmZvOmZ9XX1mdW5jdGlvbiBpKGUpe3N3aXRjaChlKXtjYXNlXCJjaXJjbGVcIjpyZXR1cm57cmluZ3M6W1tbOC41LC4yXSxbNy4wNiwuMzNdLFs1LjY2LC43XSxbNC4zNSwxLjMxXSxbMy4xNiwyLjE0XSxbMi4xNCwzLjE2XSxbMS4zMSw0LjM1XSxbLjcsNS42Nl0sWy4zMyw3LjA2XSxbLjIsOC41XSxbLjMzLDkuOTRdLFsuNywxMS4zNF0sWzEuMzEsMTIuNjVdLFsyLjE0LDEzLjg0XSxbMy4xNiwxNC44Nl0sWzQuMzUsMTUuNjldLFs1LjY2LDE2LjNdLFs3LjA2LDE2LjY3XSxbOC41LDE2LjhdLFs5Ljk0LDE2LjY3XSxbMTEuMzQsMTYuM10sWzEyLjY1LDE1LjY5XSxbMTMuODQsMTQuODZdLFsxNC44NiwxMy44NF0sWzE1LjY5LDEyLjY1XSxbMTYuMywxMS4zNF0sWzE2LjY3LDkuOTRdLFsxNi44LDguNV0sWzE2LjY3LDcuMDZdLFsxNi4zLDUuNjZdLFsxNS42OSw0LjM1XSxbMTQuODYsMy4xNl0sWzEzLjg0LDIuMTRdLFsxMi42NSwxLjMxXSxbMTEuMzQsLjddLFs5Ljk0LC4zM10sWzguNSwuMl1dXX07Y2FzZVwic3F1YXJlXCI6cmV0dXJue3JpbmdzOltbWy41LC41XSxbLjUsMTYuNV0sWzE2LjUsMTYuNV0sWzE2LjUsLjVdLFsuNSwuNV1dXX07Y2FzZVwiZGlhbW9uZFwiOnJldHVybntyaW5nczpbW1s4LjUsLjVdLFsuMiw4LjVdLFs4LjUsMTYuNV0sWzE2LjUsOC41XSxbOC41LC41XV1dfTtjYXNlXCJoZXhhZ29uLXBvaW50eVwiOnJldHVybntyaW5nczpbW1sxNS44NiwxMi43NV0sWzE1Ljg2LDQuMjVdLFs4LjUsMF0sWzEuMTQsNC4yNV0sWzEuMTQsMTIuNzVdLFs4LjUsMTddLFsxNS44NiwxMi43NV1dXX07Y2FzZVwiaGV4YWdvbi1mbGF0XCI6cmV0dXJue3JpbmdzOltbWzEyLjc1LDE1Ljg2XSxbMTcsOC41XSxbMTIuNzUsMS4xNF0sWzQuMjUsMS4xNF0sWzAsOC41XSxbNC4yNSwxNS44Nl0sWzEyLjc1LDE1Ljg2XV1dfX19ZnVuY3Rpb24gYShlKXtjb25zdHt0eXBlOnIsY29sb3I6byxjb2xvckxvY2tlZDphfT1lO3JldHVybnt0eXBlOlwiQ0lNVmVjdG9yTWFya2VyXCIsZW5hYmxlOiEwLGNvbG9yTG9ja2VkOiExLGFuY2hvclBvaW50Ont4OjAseTowfSxhbmNob3JQb2ludFVuaXRzOlwiUmVsYXRpdmVcIixwcmltaXRpdmVOYW1lOnQuT3V0ZXJSaW5nLGZyYW1lOnt4bWluOjAseW1pbjowLHhtYXg6MTcseW1heDoxN30sbWFya2VyR3JhcGhpY3M6W3t0eXBlOlwiQ0lNTWFya2VyR3JhcGhpY1wiLGdlb21ldHJ5Omkociksc3ltYm9sOnt0eXBlOlwiQ0lNUG9seWdvblN5bWJvbFwiLHN5bWJvbExheWVyczpbe3R5cGU6XCJDSU1Tb2xpZEZpbGxcIixlbmFibGU6ITAsY29sb3I6by50b0FycmF5KCksY29sb3JMb2NrZWQ6ISFhLGVmZmVjdHM6W3t0eXBlOlwiQ0lNR2VvbWV0cmljRWZmZWN0RG9udXRcIix3aWR0aDouNzV9XX1dfX1dLHNjYWxlU3ltYm9sc1Byb3BvcnRpb25hbGx5OiExLHJlc3BlY3RGcmFtZTohMCxtYXJrZXJQbGFjZW1lbnQ6e3R5cGU6XCJDSU1NYXJrZXJQbGFjZW1lbnRQb2x5Z29uQ2VudGVyXCIscGxhY2VQZXJQYXJ0OiExLG1ldGhvZDpuLk9uUG9seWdvbixvZmZzZXRYOjAsb2Zmc2V0WTowLGNsaXBBdEJvdW5kYXJ5OiExfSxzaXplOjIwfX1mdW5jdGlvbiBsKGUpe2NvbnN0e3R5cGU6cixjb2xvcjpvfT1lO3JldHVybnt0eXBlOlwiQ0lNVmVjdG9yTWFya2VyXCIsZW5hYmxlOiEwLGFuY2hvclBvaW50Ont4OjAseTowfSxhbmNob3JQb2ludFVuaXRzOlwiUmVsYXRpdmVcIixwcmltaXRpdmVOYW1lOnQuSW5uZXJEb3QsZnJhbWU6e3htaW46MCx5bWluOjAseG1heDoxNyx5bWF4OjE3fSxtYXJrZXJHcmFwaGljczpbe3R5cGU6XCJDSU1NYXJrZXJHcmFwaGljXCIsZ2VvbWV0cnk6aShyKSxzeW1ib2w6e3R5cGU6XCJDSU1Qb2x5Z29uU3ltYm9sXCIsc3ltYm9sTGF5ZXJzOlt7dHlwZTpcIkNJTVNvbGlkRmlsbFwiLGVuYWJsZTohMCxjb2xvcjpvLnRvQXJyYXkoKX1dfX1dLHNjYWxlU3ltYm9sc1Byb3BvcnRpb25hbGx5OiEwLHJlc3BlY3RGcmFtZTohMCxtYXJrZXJQbGFjZW1lbnQ6e3R5cGU6XCJDSU1NYXJrZXJQbGFjZW1lbnRQb2x5Z29uQ2VudGVyXCIscGxhY2VQZXJQYXJ0OiExLG1ldGhvZDpuLk9uUG9seWdvbixvZmZzZXRYOjAsb2Zmc2V0WTowLGNsaXBBdEJvdW5kYXJ5OiExfSxzaXplOjEwfX1mdW5jdGlvbiBzKGUpe2NvbnN0e3ByaW1pdGl2ZU92ZXJyaWRlczpufT1lO3JldHVybiBuZXcgcih7ZGF0YTp7dHlwZTpcIkNJTVN5bWJvbFJlZmVyZW5jZVwiLHN5bWJvbDp7dHlwZTpcIkNJTVBvbHlnb25TeW1ib2xcIixzeW1ib2xMYXllcnM6W2EoZSksbChlKV19LHByaW1pdGl2ZU92ZXJyaWRlczpufX0pfWZ1bmN0aW9uIGMoZSl7cmV0dXJuXCJDSU1WZWN0b3JNYXJrZXJcIj09PWU/LnR5cGU/ZS5tYXJrZXJHcmFwaGljcz8uWzBdOnZvaWQgMH1mdW5jdGlvbiBtKGUpe3JldHVyblwiQ0lNUG9seWdvblN5bWJvbFwiPT09ZT8uc3ltYm9sPy50eXBlP2Uuc3ltYm9sLnN5bWJvbExheWVycz8uWzBdOnZvaWQgMH1mdW5jdGlvbiB5KGUscil7XCJDSU1WZWN0b3JNYXJrZXJcIj09PWU/LnR5cGUmJm51bGwhPXImJihlLnNpemU9cil9ZnVuY3Rpb24gdShlLHIpe2NvbnN0IG49YyhlKTtuJiZudWxsIT1yJiYobi5nZW9tZXRyeT1pKHIpKX1mdW5jdGlvbiBwKGUscil7Y29uc3Qgbj1tKGMoZSkpO24mJm51bGwhPXImJihuLmNvbG9yPXIudG9BcnJheSgpKX1mdW5jdGlvbiBmKGUscixuKXtjb25zdCB0PW0oYyhlKSk7dCYmbnVsbCE9ciYmbiYmKHQuY29sb3JMb2NrZWQ9cil9ZnVuY3Rpb24gdihyLG4pe2NvbnN0e291dGVyUmluZ1NpemU6byxpbm5lckRvdFNpemU6aSx0eXBlOmEsY29sb3I6bCxjb2xvckxvY2tlZDpzLHByaW1pdGl2ZU92ZXJyaWRlczpjfT1uLG09XCJDSU1Qb2x5Z29uU3ltYm9sXCI9PT1yLmRhdGEuc3ltYm9sPy50eXBlP3IuZGF0YS5zeW1ib2wuc3ltYm9sTGF5ZXJzOm51bGw7aWYoMj09PW0/Lmxlbmd0aClmb3IoY29uc3QgZSBvZiBtKXtjb25zdCByPWUucHJpbWl0aXZlTmFtZT09PXQuT3V0ZXJSaW5nO3koZSxyP286aSksdShlLGEpLHAoZSxsKSxmKGUscyxyKX1yZXR1cm4gbnVsbCE9byYmbnVsbCE9aSYmKHIuZGF0YS5wcmltaXRpdmVPdmVycmlkZXM9bnVsbCksdm9pZCAwIT09YyYmKHIuZGF0YS5wcmltaXRpdmVPdmVycmlkZXM9ZShjKSkscn0hZnVuY3Rpb24oZSl7ZS5PdXRlclJpbmc9XCJyZWZlcmVuY2Utc2l6ZS1vdXRlci1yaW5nXCIsZS5Jbm5lckRvdD1cInJlZmVyZW5jZS1zaXplLWlubmVyLWRvdFwifSh0fHwodD17fSkpO2V4cG9ydHtvIGFzIGNyZWF0ZVByaW1pdGl2ZU92ZXJyaWRlcyxzIGFzIGNyZWF0ZVJlZmVyZW5jZVNpemVTeW1ib2wsdiBhcyB1cGRhdGVSZWZlcmVuY2VTaXplU3ltYm9sfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjMzL2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnQgZSBmcm9tXCIuLi8uLi8uLi9Db2xvci5qc1wiO2ltcG9ydHtjbG9uZSBhcyBvfWZyb21cIi4uLy4uLy4uL2NvcmUvbGFuZy5qc1wiO2ltcG9ydHtweDJwdCBhcyB0fWZyb21cIi4uLy4uLy4uL2NvcmUvc2NyZWVuVXRpbHMuanNcIjtpbXBvcnQgciBmcm9tXCIuLi8uLi8uLi9zeW1ib2xzL0NJTVN5bWJvbC5qc1wiO2ltcG9ydHtTaW1wbGUzRExpbmVTdHlsZSBhcyBpLExpbmVKb2luU3R5bGUgYXMgbCxMaW5lQ2FwU3R5bGUgYXMgbn1mcm9tXCIuLi8uLi8uLi9zeW1ib2xzL2NpbS9lbnVtcy5qc1wiO2NvbnN0IGE9XCJzcGlrZS1oZWlnaHQtb3ZlcnJpZGVcIixzPXQoOCksYz10KDIwKSxmPVwidHJpYW5nbGUtc29saWQtZmlsbC1vcGVuLW91dGxpbmVcIjtmdW5jdGlvbiB1KGUpe2NvbnN0e2ZpZWxkOm8sbm9ybWFsaXphdGlvbkZpZWxkOnQsc2l6ZVN0b3BzOnJ9PWUse3ZhbHVlOmksc2l6ZTpsfT1yWzBdLHt2YWx1ZTpuLHNpemU6c309clsxXTtsZXQgYyxmPTA7byYmKGY9YCRmZWF0dXJlW1wiJHtvfVwiXWAsYz1gXFxuICAgICAgaWYoIUhhc1ZhbHVlKCRmZWF0dXJlLCBcIiR7b31cIikpe1xcbiAgICAgICAgcmV0dXJuIDA7XFxuICAgICAgfVxcbiAgICAgICRmZWF0dXJlW1wiJHtvfVwiXTtcXG4gICAgYCksdCYmKGY9YCRmZWF0dXJlW1wiJHtvfVwiXSAvICRmZWF0dXJlW1wiJHt0fVwiXWAsYz1gaWYoIUhhc1ZhbHVlKCRmZWF0dXJlLCBcIiR7b31cIikgfHwgIUhhc1ZhbHVlKCRmZWF0dXJlLCBcIiR7dH1cIikgfHwgJGZlYXR1cmVbXCIke3R9XCJdIDw9IDApe1xcbiAgICAgICAgcmV0dXJuIDA7XFxuICAgICAgfVxcbiAgICAgICRmZWF0dXJlW1wiJHtvfVwiXTtcXG4gICAgICAkZmVhdHVyZVtcIiR7dH1cIl07YCk7cmV0dXJuW3t0eXBlOlwiQ0lNUHJpbWl0aXZlT3ZlcnJpZGVcIixwcmltaXRpdmVOYW1lOmEscHJvcGVydHlOYW1lOlwiTGVuZ3RoXCIsdmFsdWVFeHByZXNzaW9uSW5mbzp7dHlwZTpcIkNJTUV4cHJlc3Npb25JbmZvXCIsdGl0bGU6XCJDdXN0b21cIixleHByZXNzaW9uOmBcXG4gICAgICAgICR7Y31cXG4gICAgICAgIHZhciB2YWx1ZSA9ICR7Zn07XFxuXFxuICAgICAgICB2YXIgbWF4U2l6ZSA9ICR7c307XFxuICAgICAgICB2YXIgbWluU2l6ZSA9ICR7bH07XFxuXFxuICAgICAgICB2YXIgbWluRGF0YVZhbHVlID0gJHtpfTtcXG4gICAgICAgIHZhciBtYXhEYXRhVmFsdWUgPSAke259O1xcblxcbiAgICAgICAgdmFyIHJhdGlvID0gQ29uc3RyYWluKCggdmFsdWUgLSBtaW5EYXRhVmFsdWUgKSAvICggbWF4RGF0YVZhbHVlIC0gbWluRGF0YVZhbHVlICksIDAsIDEpO1xcblxcbiAgICAgICAgdmFyIHNpemUgPSBDb25zdHJhaW4obWF4U2l6ZSAqIHJhdGlvLCBtaW5TaXplLCBtYXhTaXplKTtcXG4gICAgICAgIHJldHVybiBzaXplO1xcbiAgICAgIGAscmV0dXJuVHlwZTpcIkRlZmF1bHRcIn19XX1mdW5jdGlvbiBtKGUpe2NvbnN0e3ByaW1pdGl2ZU92ZXJyaWRlczpvLGJhc2VXaWR0aDp0LGRlZmF1bHRIZWlnaHQ6aX09ZSxsPXAoZSk7cmV0dXJuIG5ldyByKHtkYXRhOnt0eXBlOlwiQ0lNU3ltYm9sUmVmZXJlbmNlXCIsc3ltYm9sOnt0eXBlOlwiQ0lNUG9pbnRTeW1ib2xcIixlZmZlY3RzOlt7dHlwZTpcIkNJTUdlb21ldHJpY0VmZmVjdFJhZGlhbFwiLHByaW1pdGl2ZU5hbWU6YSxhbmdsZTo5MCxsZW5ndGg6aT8/Y30se3R5cGU6XCJDSU1HZW9tZXRyaWNFZmZlY3RUYXBlcmVkUG9seWdvblwiLGZyb21XaWR0aDp0Pz9zLHRvV2lkdGg6MSxsZW5ndGg6NX1dLHN5bWJvbExheWVyczpsLGhhbG9TaXplOjEsc2NhbGVYOjEsYW5nbGVBbGlnbm1lbnQ6XCJEaXNwbGF5XCJ9LHByaW1pdGl2ZU92ZXJyaWRlczpvfX0pfWZ1bmN0aW9uIHAoZSl7Y29uc3Qgbz1bZChlKV0sdD1DKGUpO3JldHVybiB0JiZvLnB1c2godCksb31mdW5jdGlvbiBkKGUpe2NvbnN0e3N0cm9rZUNvbG9yOm8sc3Ryb2tlV2lkdGg6cixzeW1ib2xTdHlsZTphfT1lLHM9YT8uaW5jbHVkZXMoXCJzb2xpZC1maWxsXCIpfHxhPy5pbmNsdWRlcyhcImdyYWRpZW50LWZpbGxcIik7bGV0IGM9bz8udG9BcnJheSgpLGY9ITE7cmV0dXJuIGE/LmluY2x1ZGVzKFwib3V0bGluZVwiKSYmcz9mPSEwOmM9ZS5jb2xvcj8udG9BcnJheSgpLHt0eXBlOlwiQ0lNU29saWRTdHJva2VcIixlZmZlY3RzOnkoYSksZW5hYmxlOiEwLGNvbG9yTG9ja2VkOmYsY2FwU3R5bGU6bi5Sb3VuZCxqb2luU3R5bGU6bC5Sb3VuZCxsaW5lU3R5bGUzRDppLlN0cmlwLG1pdGVyTGltaXQ6NCx3aWR0aDpyPz90KDEpLGNvbG9yOmN9fWZ1bmN0aW9uIHkoZSl7aWYoIWU/LmluY2x1ZGVzKFwiY2xvc2VkXCIpKXJldHVyblt7dHlwZTpcIkNJTUdlb21ldHJpY0VmZmVjdEFkZENvbnRyb2xQb2ludHNcIixhbmdsZVRvbGVyYW5jZTo5MCxwcmltaXRpdmVOYW1lOlwic3Bpa2UtY29udHJvbC1wb2ludHNcIn0se3R5cGU6XCJDSU1HZW9tZXRyaWNFZmZlY3RTdXBwcmVzc1wiLHN1cHByZXNzOiEwLGludmVydDohMCxwcmltaXRpdmVOYW1lOlwic3Bpa2Utc3Ryb2tlLXN1cHByZXNzXCJ9XX1mdW5jdGlvbiBDKGUpe2NvbnN0e2NvbG9yOm8sc3ltYm9sU3R5bGU6dH09ZSxyPXQ/LmluY2x1ZGVzKFwic29saWQtZmlsbFwiKSxpPXQ/LmluY2x1ZGVzKFwiZ3JhZGllbnQtZmlsbFwiKTtpZighciYmIWl8fCFvKXJldHVybjtpZihyKXJldHVybnt0eXBlOlwiQ0lNU29saWRGaWxsXCIsZW5hYmxlOiEwLGNvbG9yTG9ja2VkOiExLGNvbG9yOm8/LnRvQXJyYXkoKX07Y29uc3QgbD1vLmNsb25lKCk7cmV0dXJuIGwuYT0wLHt0eXBlOlwiQ0lNR3JhZGllbnRGaWxsXCIsZW5hYmxlOiEwLGFuZ2xlOjkwLGNvbG9yUmFtcDp7dHlwZTpcIkNJTU11bHRpcGFydENvbG9yUmFtcFwiLGNvbG9yUmFtcHM6W3t0eXBlOlwiQ0lNTGluZWFyQ29udGludW91c0NvbG9yUmFtcFwiLGZyb21Db2xvcjpvLnRvQXJyYXkoKSx0b0NvbG9yOmwudG9BcnJheSgpfV0sd2VpZ2h0czpbMV19LGdyYWRpZW50TWV0aG9kOlwiTGluZWFyXCIsZ3JhZGllbnRTaXplOjcwLGdyYWRpZW50U2l6ZVVuaXRzOlwiUmVsYXRpdmVcIixncmFkaWVudFR5cGU6XCJDb250aW51b3VzXCJ9fWZ1bmN0aW9uIHYodCxyKXtjb25zdHtkZWZhdWx0SGVpZ2h0OmksYmFzZVdpZHRoOmwsY29sb3I6bixzdHJva2VDb2xvcjpzLHByaW1pdGl2ZU92ZXJyaWRlczpjLHN5bWJvbFN0eWxlOmYsc3Ryb2tlV2lkdGg6dX09cixtPVwiQ0lNUG9pbnRTeW1ib2xcIj09PXQuZGF0YS5zeW1ib2w/LnR5cGU/dC5kYXRhLnN5bWJvbDpudWxsLHA9bT8uc3ltYm9sTGF5ZXJzO2lmKCFwKXJldHVybiB0O2NvbnN0IHk9bS5lZmZlY3RzLHY9eT8uZmluZCgoZT0+XCJDSU1HZW9tZXRyaWNFZmZlY3RUYXBlcmVkUG9seWdvblwiPT09ZS50eXBlKSksJD15Py5maW5kKChlPT5cIkNJTUdlb21ldHJpY0VmZmVjdFJhZGlhbFwiPT09ZS50eXBlJiZlLnByaW1pdGl2ZU5hbWU9PT1hKSk7bnVsbCE9bCYmdiYmKHYuZnJvbVdpZHRoPWwpLG51bGwhPWkmJiQmJigkLmxlbmd0aD1pKTtjb25zdCBoPXA/LmZpbmQoKGU9PlwiQ0lNU29saWRTdHJva2VcIj09PWUudHlwZSkpLE09cD8uZmluZCgoZT0+XCJDSU1Tb2xpZEZpbGxcIj09PWUudHlwZSkpLGc9cD8uZmluZCgoZT0+XCJDSU1HcmFkaWVudEZpbGxcIj09PWUudHlwZSkpLEk9XCJDSU1NdWx0aXBhcnRDb2xvclJhbXBcIj09PWc/LmNvbG9yUmFtcD8udHlwZSYmXCJDSU1MaW5lYXJDb250aW51b3VzQ29sb3JSYW1wXCI9PT1nLmNvbG9yUmFtcC5jb2xvclJhbXBzWzBdPy50eXBlP2cuY29sb3JSYW1wLmNvbG9yUmFtcHNbMF06bnVsbDtpZihmKXtjb25zdCBvPU0/LmNvbG9yPz9JPy5mcm9tQ29sb3I/P2g/LmNvbG9yLHQ9bj8/KG8/bmV3IGUobyk6dm9pZCAwKSxpPWg/LmNvbG9yPz9vLGw9cz8/KGk/bmV3IGUoaSk6dm9pZCAwKSxhPWYuaW5jbHVkZXMoXCJzb2xpZC1maWxsXCIpLGM9Zi5pbmNsdWRlcyhcImdyYWRpZW50LWZpbGxcIik7aWYoYXx8Y3x8UyhwLE0/P2cpLHQpaWYoYSlTKHAsZyksTT9NLmNvbG9yPXQ/LnRvQXJyYXkoKTpwLnB1c2goQyh7Li4ucixjb2xvcjp0fSkpO2Vsc2UgaWYoYylpZihTKHAsTSksZyl7aWYoSSYmbil7Y29uc3QgZT10LmNsb25lKCk7ZS5hPTAsSS5mcm9tQ29sb3I9dC50b0FycmF5KCksSS50b0NvbG9yPWUudG9BcnJheSgpfX1lbHNlIHAucHVzaChDKHsuLi5yLGNvbG9yOnR9KSk7aWYoaCl7Y29uc3QgZT1kKHsuLi5yLHN0cm9rZUNvbG9yOmwsY29sb3I6dH0pO2guZWZmZWN0cz1lLmVmZmVjdHMsaC5jb2xvcj1lLmNvbG9yLGgud2lkdGg9ZS53aWR0aCxoLmNvbG9yTG9ja2VkPWUuY29sb3JMb2NrZWR9fWVsc2UgaWYoaCYmKHMmJihoLmNvbG9yPXMudG9BcnJheSgpKSxudWxsIT11JiYoaC53aWR0aD11KSksTSYmbiYmKE0uY29sb3I9bi50b0FycmF5KCkpLEkmJm4pe2NvbnN0IGU9bi5jbG9uZSgpO2UuYT0wLEkuZnJvbUNvbG9yPW4udG9BcnJheSgpLEkudG9Db2xvcj1lLnRvQXJyYXkoKX1yZXR1cm4gdm9pZCAwIT09YyYmKHQuZGF0YS5wcmltaXRpdmVPdmVycmlkZXM9byhjKSksdH1mdW5jdGlvbiBTKGUsbyl7aWYoIW8pcmV0dXJuO2NvbnN0IHQ9ZS5pbmRleE9mKG8pOy0xIT09dCYmZS5zcGxpY2UodCwxKX1leHBvcnR7dSBhcyBjcmVhdGVQcmltaXRpdmVPdmVycmlkZXMsbSBhcyBjcmVhdGVTcGlrZVN5bWJvbCxmIGFzIGRlZmF1bHRTcGlrZVN5bWJvbFN0eWxlLHYgYXMgdXBkYXRlU3Bpa2VTeW1ib2x9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMzMvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtwdDJweCBhcyBlLHB4MnB0IGFzIHR9ZnJvbVwiLi4vLi4vY29yZS9zY3JlZW5VdGlscy5qc1wiO2ltcG9ydHtDSU1TeW1ib2xIZWxwZXIgYXMgaX1mcm9tXCIuLi9jaW0vQ0lNU3ltYm9sSGVscGVyLmpzXCI7aW1wb3J0e0NJTVN5bWJvbFJhc3Rlcml6ZXIgYXMgb31mcm9tXCIuLi9jaW0vQ0lNU3ltYm9sUmFzdGVyaXplci5qc1wiO2ltcG9ydHtPdmVycmlkZUhlbHBlciBhcyBsfWZyb21cIi4uL2NpbS9PdmVycmlkZUhlbHBlci5qc1wiO2ltcG9ydHttYXBDSU1TeW1ib2xUb0dlb21ldHJ5VHlwZSBhcyByfWZyb21cIi4uL2NpbS91dGlscy5qc1wiO2ltcG9ydHtTeW1ib2xTaXplRGVmYXVsdHMgYXMgbn1mcm9tXCIuL3ByZXZpZXdVdGlscy5qc1wiO2ltcG9ydHtyZW5kZXJTeW1ib2wgYXMgYX1mcm9tXCIuL3JlbmRlclV0aWxzLmpzXCI7Y29uc3Qgcz1uZXcgbyhudWxsKSxtPXQobi5zaXplKSxoPXQobi5tYXhTaXplKSxjPXQobi5saW5lV2lkdGgpLHk9MTthc3luYyBmdW5jdGlvbiB1KGUsdCxpKXtjb25zdCBvPXQ/LnNpemU7bGV0IGw9bnVsbCE9byYmXCJvYmplY3RcIj09dHlwZW9mIG8mJlwid2lkdGhcImluIG8/by53aWR0aDpvLHI9bnVsbCE9byYmXCJvYmplY3RcIj09dHlwZW9mIG8mJlwiaGVpZ2h0XCJpbiBvP28uaGVpZ2h0Om87aWYoIWx8fCFyKWlmKFwiZXNyaUdlb21ldHJ5UG9seWdvblwiPT09aSlsPXI9dC5tYXhTaXplP01hdGgubWluKHQubWF4U2l6ZSxtKTptO2Vsc2V7Y29uc3Qgbz1hd2FpdCBnKGUsdCxpKTtvJiYobD1vLndpZHRoLHI9by5oZWlnaHQpLFwiZXNyaUdlb21ldHJ5UG9seWxpbmVcIj09PWkmJihsPXQubWF4U2l6ZT9NYXRoLm1pbih0Lm1heFNpemUsYyk6YyksbD1udWxsIT1sJiZpc0Zpbml0ZShsKT9NYXRoLm1pbihsLGgpOm0scj1udWxsIT1yJiZpc0Zpbml0ZShyKT9NYXRoLm1heChNYXRoLm1pbihyLGgpLHkpOm19cmV0dXJuXCJsZWdlbmRcIj09PXQuc3R5bGUmJlwiZXNyaUdlb21ldHJ5UG9seWxpbmVcIj09PWkmJihsPWMpLHt3aWR0aDpsLGhlaWdodDpyfX1hc3luYyBmdW5jdGlvbiBnKGUsdD17fSxvKXtjb25zdCBuPXQuY2ltT3B0aW9uc3x8dDtvPz89bi5nZW9tZXRyeVR5cGV8fHIoZT8uZGF0YT8uc3ltYm9sKTtjb25zdHtmZWF0dXJlOmEsZmllbGRNYXA6bSx2aWV3UGFyYW1zOmh9PW4sYz1hd2FpdCBsLnJlc29sdmVTeW1ib2xPdmVycmlkZXMoZS5kYXRhLGEsbnVsbCxtLG8sbnVsbCxoKTtpZighYylyZXR1cm4gbnVsbDsoZT1lLmNsb25lKCkpLmRhdGE9e3R5cGU6XCJDSU1TeW1ib2xSZWZlcmVuY2VcIixzeW1ib2w6Y30sZS5kYXRhLnByaW1pdGl2ZU92ZXJyaWRlcz12b2lkIDA7Y29uc3QgeT1bXTtyZXR1cm4gaS5mZXRjaFJlc291cmNlcyhjLHMucmVzb3VyY2VNYW5hZ2VyLHkpLGkuZmV0Y2hGb250cyhjLHMucmVzb3VyY2VNYW5hZ2VyLHkpLHkubGVuZ3RoPjAmJmF3YWl0IFByb21pc2UuYWxsKHkpLGkuZ2V0RW52ZWxvcGUoYyxudWxsLHMucmVzb3VyY2VNYW5hZ2VyKX1hc3luYyBmdW5jdGlvbiBkKGksbz17fSl7Y29uc3R7bm9kZTpsLG9wYWNpdHk6bixzeW1ib2xDb25maWc6bX09byxoPW51bGwhPW0mJlwib2JqZWN0XCI9PXR5cGVvZiBtJiZcImlzU3F1YXJlRmlsbFwiaW4gbSYmbS5pc1NxdWFyZUZpbGwsYz1vLmNpbU9wdGlvbnN8fG8seT1jLmdlb21ldHJ5VHlwZXx8cihpPy5kYXRhPy5zeW1ib2wpLGc9YXdhaXQgdShpLG8seSkse2ZlYXR1cmU6ZCxmaWVsZE1hcDpmfT1jLHA9bz8uZ2VvbWV0cnl8fGh8fFwiZXNyaUdlb21ldHJ5UG9seWdvblwiIT09eT9cInByZXZpZXdcIjpcImxlZ2VuZFwiO2xldCB3PWc7Y29uc3QgYj1nO2lmKG8/Lmdlb21ldHJ5JiYoXCJlc3JpR2VvbWV0cnlQb2x5Z29uXCI9PT15fHxcImVzcmlHZW9tZXRyeVBvbHlsaW5lXCI9PT15KSl7Y29uc3QgaT0yMDA7aWYoZShnLndpZHRoKTxpfHxlKGcuaGVpZ2h0KTxpKXtjb25zdCBlPWcud2lkdGg+Zy5oZWlnaHQ/dChpKSpnLmhlaWdodC9nLndpZHRoOnQoaSk7dz17d2lkdGg6Zy53aWR0aD5nLmhlaWdodD90KGkpOnQoaSkqZy53aWR0aC9nLmhlaWdodCxoZWlnaHQ6ZX19fWNvbnN0IE09YXdhaXQgcy5yYXN0ZXJpemVDSU1TeW1ib2xBc3luYyhpLGQsdyxwLGYseSxudWxsLGMudmlld1BhcmFtcyxjLmFsbG93U2NhbGluZ1VwLG8/Lmdlb21ldHJ5Py50b0pTT04oKSk7aWYoIU0pcmV0dXJuIG51bGw7Y29uc3R7d2lkdGg6UyxoZWlnaHQ6dn09TSxqPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIik7ai53aWR0aD1TLGouaGVpZ2h0PXY7ai5nZXRDb250ZXh0KFwiMmRcIikucHV0SW1hZ2VEYXRhKE0sMCwwKTtjb25zdCB4PWUoYi53aWR0aCksej1lKGIuaGVpZ2h0KSxQPW5ldyBJbWFnZSh4LHopO1Auc3JjPWoudG9EYXRhVVJMKCksUC5hcmlhTGFiZWw9by5hcmlhTGFiZWw/P251bGwsUC5hbHQ9by5hcmlhTGFiZWw/P1wiXCIsbnVsbCE9biYmKFAuc3R5bGUub3BhY2l0eT1gJHtufWApO2xldCBDPVA7aWYobnVsbCE9by5lZmZlY3RWaWV3KXtjb25zdCBlPXtzaGFwZTp7dHlwZTpcImltYWdlXCIseDowLHk6MCx3aWR0aDp4LGhlaWdodDp6LHNyYzpQLnNyY30sZmlsbDpudWxsLHN0cm9rZTpudWxsLG9mZnNldDpbMCwwXX07Qz1hKFtbZV1dLFt4LHpdLG8pfXJldHVybiBsJiZDJiZsLmFwcGVuZENoaWxkKEMpLEN9ZXhwb3J0e2cgYXMgZ2V0Q0lNU3ltYm9sUHJldmlld1NpemUsZCBhcyBwcmV2aWV3Q0lNU3ltYm9sfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjMzL2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnQgZSBmcm9tXCIuLi8uLi8uLi9Db2xvci5qc1wiO2ltcG9ydHtnZXRDb2xvckx1bWluYW5jZSBhcyB0fWZyb21cIi4uLy4uLy4uL2NvcmUvY29sb3JVdGlscy5qc1wiO2ltcG9ydHtyb3VuZCBhcyBsLG51bURpZ2l0cyBhcyBvLHBlcmNlbnRDaGFuZ2UgYXMgaX1mcm9tXCIuLi8uLi8uLi9yZW5kZXJlcnMvc3VwcG9ydC9udW1iZXJVdGlscy5qc1wiO2ltcG9ydHt1cGRhdGVSZWZlcmVuY2VTaXplU3ltYm9sIGFzIG59ZnJvbVwiLi4vLi4vLi4vc21hcnRNYXBwaW5nL3JlbmRlcmVycy9zdXBwb3J0L3JlZmVyZW5jZVNpemVVdGlscy5qc1wiO2ltcG9ydHt1cGRhdGVTcGlrZVN5bWJvbCBhcyByfWZyb21cIi4uLy4uLy4uL3NtYXJ0TWFwcGluZy9yZW5kZXJlcnMvc3VwcG9ydC9zcGlrZVV0aWxzLmpzXCI7aW1wb3J0IHMgZnJvbVwiLi4vLi4vLi4vc3ltYm9scy9TaW1wbGVMaW5lU3ltYm9sLmpzXCI7aW1wb3J0IGEgZnJvbVwiLi4vLi4vLi4vc3ltYm9scy9TaW1wbGVNYXJrZXJTeW1ib2wuanNcIjtpbXBvcnR7YXBwbHlDSU1TeW1ib2xDb2xvciBhcyB1fWZyb21cIi4uLy4uLy4uL3N5bWJvbHMvc3VwcG9ydC9jaW1TeW1ib2xVdGlscy5qc1wiO2ltcG9ydHtnZXRDSU1TeW1ib2xQcmV2aWV3U2l6ZSBhcyBjfWZyb21cIi4uLy4uLy4uL3N5bWJvbHMvc3VwcG9ydC9wcmV2aWV3Q0lNU3ltYm9sLmpzXCI7aW1wb3J0e2lzU3ltYm9sM0QgYXMgbX1mcm9tXCIuLi8uLi8uLi9zeW1ib2xzL3N1cHBvcnQvdHlwZVV0aWxzLmpzXCI7aW1wb3J0e2lzVm9sdW1ldHJpY1N5bWJvbCBhcyBwLGdldFN5bWJvbE91dGxpbmVTaXplIGFzIGZ9ZnJvbVwiLi4vLi4vLi4vc3ltYm9scy9zdXBwb3J0L3V0aWxzLmpzXCI7aW1wb3J0e2dldEF1dGhvcmluZ0luZm9WaXN1YWxWYXJpYWJsZUJ5VGhlbWUgYXMgeSxnZXRTeW1ib2xGb3JGbG93UmVuZGVyZXIgYXMgYixjcmVhdGVTdG9wTGFiZWwgYXMgZH1mcm9tXCIuL3V0aWxzLmpzXCI7aW1wb3J0XCIuLi8uLi9zdXBwb3J0L3dpZGdldFV0aWxzLmpzXCI7aW1wb3J0e2lzRGFya01vZGUgYXMgaH1mcm9tXCIuLi8uLi8uLi9zdXBwb3J0L21vZGVVdGlscy5qc1wiO2NvbnN0IHc9MzAsUz0xMixnPTI0LHY9WzI1NSwyNTUsMjU1XSx6PVsyMDAsMjAwLDIwMF0saz1bMTI4LDEyOCwxMjhdLGo9MjAsST01O2Z1bmN0aW9uIFYoZSl7cmV0dXJuXCJlc3JpLnN5bWJvbHMuU2ltcGxlTWFya2VyU3ltYm9sXCI9PT1lLmRlY2xhcmVkQ2xhc3N9ZnVuY3Rpb24geChlKXtyZXR1cm5cImVzcmkuc3ltYm9scy5QaWN0dXJlTWFya2VyU3ltYm9sXCI9PT1lLmRlY2xhcmVkQ2xhc3N9ZnVuY3Rpb24gTShlKXtyZXR1cm5cImVzcmkuc3ltYm9scy5TaW1wbGVMaW5lU3ltYm9sXCI9PT1lLmRlY2xhcmVkQ2xhc3N9ZnVuY3Rpb24gVShlKXtyZXR1cm5cImVzcmkuc3ltYm9scy5UZXh0U3ltYm9sXCI9PT1lLmRlY2xhcmVkQ2xhc3N9ZnVuY3Rpb24gQyhlLHQpe2NvbnN0IGw9ZS5sZW5ndGgtMTtyZXR1cm4gZS5tYXAoKChlLG8pPT5kKGUsbyxsLHQpKSl9YXN5bmMgZnVuY3Rpb24gTChlLHQsbyxpLG4scixzKXtjb25zdCBhPXQubGVnZW5kT3B0aW9ucyx1PWE/LmN1c3RvbVZhbHVlcyxtPXN8fGF3YWl0IEIoZSxvKSxiPXQuc3RvcHMsZD0hIW0saD0hIXUsdz1udWxsIT10Lm1pblNpemUmJm51bGwhPXQubWF4U2l6ZSxTPWImJmIubGVuZ3RoPjEsdj0hIXQudGFyZ2V0O2lmKCFkfHwhaCYmISh3fHxTJiYhdikpcmV0dXJuO2NvbnN0IHo9cChtKTtsZXQgaz0hMSxqPW51bGwsST1udWxsO2o9eiYmIVM/bChbdC5taW5EYXRhVmFsdWUsdC5tYXhEYXRhVmFsdWVdKTp1Pz9hd2FpdCBIKHQsbSxpLG4/LnR5cGUpO2NvbnN0IFY9ZT8uYXV0aG9yaW5nSW5mbyx4PVwidW5pdmFyaWF0ZS1jb2xvci1zaXplXCI9PT1WPy50eXBlLE09eCYmXCJhYm92ZS1hbmQtYmVsb3dcIj09PVY/LnVuaXZhcmlhdGVUaGVtZSxVPSEheShlLFwicmVmZXJlbmNlLXNpemVcIiksTD0hIXkoZSxcInNwaWtlXCIpO2lmKCFqJiZTJiYoaj1iLm1hcCgoZT0+ZS52YWx1ZSkpLGs9Yi5zb21lKChlPT4hIWUubGFiZWwpKSxcImZsb3dcIj09PWUudHlwZSYmKGo9bChqKSksayYmKEk9Yi5tYXAoKGU9PmUubGFiZWwpKSkpLHomJm51bGwhPWomJmo/Lmxlbmd0aD4yJiYhTSYmKGo9W2pbMF0saltqLmxlbmd0aC0xXV0pLCFqKXJldHVybiBudWxsO3gmJjUhPT1qPy5sZW5ndGgmJihqPU8oe21pblNpemU6alswXSxtYXhTaXplOmpbai5sZW5ndGgtMV19KSk7Y29uc3QgVD16P0QoZSxqKTpudWxsLHE9ZihtKSxFPWs/bnVsbDpDKGosciksUD1hd2FpdCBQcm9taXNlLmFsbChqLm1hcCgoYXN5bmMobCxvKT0+e2xldCByPXo/VFtvXTphd2FpdCBHKHQsbSxsLGksbj8udHlwZSkscz1yO1UmJihyKj1nL3QubWF4U2l6ZXx8MSxzPWcpO2NvbnN0IGE9SihtLHIsZSxvKTtMJiZcImNpbVwiPT09YS50eXBlJiYocz1hd2FpdCBjKGEpKTtyZXR1cm57dmFsdWU6bCxzeW1ib2w6YSxsYWJlbDprP0lbb106RVtvXSxzaXplOnMsb3V0bGluZVNpemU6cX19KSkpO3JldHVybiBQLnJldmVyc2UoKX1mdW5jdGlvbiBEKGUsdCl7Y29uc3QgbD1lPy5hdXRob3JpbmdJbmZvLG89XCJ1bml2YXJpYXRlLWNvbG9yLXNpemVcIj09PWw/LnR5cGU7bGV0IGk9W1Msd107aWYobyl7Y29uc3QgZT10WzBdLGw9dFt0Lmxlbmd0aC0xXSxvPVMsbj13O2k9dC5tYXAoKHQ9Pm8rKHQtZSkvKGwtZSkqKG4tbykpKX1yZXR1cm4gbyYmXCJiZWxvd1wiPT09bD8udW5pdmFyaWF0ZVRoZW1lJiZpLnJldmVyc2UoKSxpfWZ1bmN0aW9uIFQodCxsLG8saSl7Y29uc3Qgcj1cImNsYXNzLWJyZWFrc1wiPT09dC50eXBlLHM9cj90LmNsYXNzQnJlYWtJbmZvcz8uWzBdPy5zeW1ib2w/LmNsb25lKCk6dC51bmlxdWVWYWx1ZUluZm9zPy5bMF0/LnN5bWJvbD8uY2xvbmUoKTtyZXR1cm4gcyYmXCJ0eXBlXCJpbiBzJiZcImNpbVwiPT09cy50eXBlPyhuKHMse2NvbG9yOmk/PyhyP251bGw6bmV3IGUoeikpLGlubmVyRG90U2l6ZTpsKihnL28pfHwxLG91dGVyUmluZ1NpemU6Z30pLHMpOm51bGx9ZnVuY3Rpb24gcShlLHQpe2NvbnN0IGw9ZS5jbGFzc0JyZWFrSW5mb3Msbz1sLmxlbmd0aCxpPW88Mnx8ISh0Pj0yKT9sWzBdLnN5bWJvbC5jbG9uZSgpOmxbby0xXS5zeW1ib2wuY2xvbmUoKSxuPWUudmlzdWFsVmFyaWFibGVzPy5zb21lKChlPT5cImNvbG9yXCI9PT1lLnR5cGUpKTtyZXR1cm4gbiYmKGkudHlwZS5pbmNsdWRlcyhcIjNkXCIpP1AoaSk6UihpKSksaX1hc3luYyBmdW5jdGlvbiBCKGwsbyl7aWYoXCJmbG93XCI9PT1sLnR5cGUpcmV0dXJuIGIobCxvKTtpZihcInBpZS1jaGFydFwiPT09bC50eXBlKXJldHVybiBuZXcgYSh7Y29sb3I6bnVsbCxvdXRsaW5lOmwub3V0bGluZT8ud2lkdGg/bC5vdXRsaW5lOm5ldyBzfSk7bGV0IGk9bnVsbCx1PW51bGw7aWYoXCJzaW1wbGVcIj09PWwudHlwZSlpPWwuc3ltYm9sO2Vsc2UgaWYoXCJjbGFzcy1icmVha3NcIj09PWwudHlwZSl7Y29uc3QgZT1sLmNsYXNzQnJlYWtJbmZvcztpPWUmJmVbMF0mJmVbMF0uc3ltYm9sLHU9ZS5sZW5ndGg+MX1lbHNlIGlmKFwidW5pcXVlLXZhbHVlXCI9PT1sLnR5cGUpe2NvbnN0IGU9bC51bmlxdWVWYWx1ZUluZm9zO2k9ZT8uWzBdPy5zeW1ib2wsdT1udWxsIT1lJiZlLmxlbmd0aD4xfWlmKCFpfHxFKGkpKXJldHVybiBudWxsO2lmKGk9aS5jbG9uZSgpLG98fHUpaWYoaS50eXBlLmluY2x1ZGVzKFwiM2RcIikpUChpKTtlbHNlIGlmKHkobCxcInJlZmVyZW5jZS1zaXplXCIpJiZcImNpbVwiPT09aS50eXBlKW4oaSx7Y29sb3I6bz8/KFwiY2xhc3MtYnJlYWtzXCIhPT1sLnR5cGU/bmV3IGUoeik6bnVsbCl9KTtlbHNlIGlmKHkobCxcInNwaWtlXCIpJiZcImNpbVwiPT09aS50eXBlKXtjb25zdCBsPW5ldyBlKHopLG49bmV3IGUoaykscz1cIkNJTVBvaW50U3ltYm9sXCI9PT1pLmRhdGEuc3ltYm9sPy50eXBlP2kuZGF0YS5zeW1ib2w6bnVsbCxhPSEhcz8uc3ltYm9sTGF5ZXJzPy5maW5kKCgoe3R5cGU6ZX0pPT5cIkNJTVNvbGlkU3Ryb2tlXCI9PT1lKSk/LmNvbG9yTG9ja2VkO2xldCB1LGM9bz8/dm9pZCAwO2lmKGMpe2NvbnN0IGU9dChjKSxvPWgoKTsoIW8mJmU+MjI1fHxvJiZlPDI1KSYmKGM9bCx1PWE/bjpsKX1lbHNlIGM9bCx1PWE/bjpsO3IoaSx7Y29sb3I6YyxzdHJva2VDb2xvcjp1fSl9ZWxzZSBSKGkpO3JldHVybiBpfWZ1bmN0aW9uIEUoZSl7cmV0dXJuIG0oZSk/ZS5zeW1ib2xMYXllcnM/LnNvbWUoKGU9PlwiZmlsbFwiPT09ZT8udHlwZSkpPz8hMTplPy50eXBlLmluY2x1ZGVzKFwiZmlsbFwiKT8/ITF9ZnVuY3Rpb24gUChlKXtcImxpbmUtM2RcIj09PWUudHlwZT9lLnN5bWJvbExheWVycy5mb3JFYWNoKChlPT57ZS5tYXRlcmlhbD17Y29sb3I6a319KSk6ZS5zeW1ib2xMYXllcnMuZm9yRWFjaCgoZT0+e1wiaWNvblwiIT09ZS50eXBlfHxlLnJlc291cmNlPy5ocmVmP2UubWF0ZXJpYWw9e2NvbG9yOnp9OihlLm1hdGVyaWFsPXtjb2xvcjp2fSxlLm91dGxpbmU9e2NvbG9yOmssc2l6ZToxLjV9KX0pKX1mdW5jdGlvbiBSKHQpe2NvbnN0IGw9aCgpO2lmKFwiY2ltXCI9PT10LnR5cGUpdSh0LG5ldyBlKHopKTtlbHNlIGlmKHQudHlwZS5pbmNsdWRlcyhcImxpbmVcIikpdC5jb2xvcj1rO2Vsc2UgaWYodC5jb2xvcj1sP2s6dixcInNpbXBsZS1tYXJrZXJcIj09PXQudHlwZSlpZih0Lm91dGxpbmUpe2NvbnN0IGU9dC5vdXRsaW5lPy5jb2xvcj8udG9IZXgoKTtcIiNmZmZmZmZcIj09PWUmJih0Lm91dGxpbmUuY29sb3I9ayl9ZWxzZSB0Lm91dGxpbmU9e2NvbG9yOmssd2lkdGg6MS41fX1hc3luYyBmdW5jdGlvbiBIKGUsdCxvLGkpe2NvbnN0IG49KGF3YWl0IGltcG9ydChcIi4uLy4uLy4uL3JlbmRlcmVycy92aXN1YWxWYXJpYWJsZXMvc3VwcG9ydC92aXN1YWxWYXJpYWJsZVV0aWxzLmpzXCIpKS5nZXRTaXplUmFuZ2VBdFNjYWxlKGUsbyxpKSxyPW4mJk8obik7aWYoIW58fCFyKXJldHVybjtsZXQgcz1yLm1hcCgodD0+QSh0LGUsbikpKTtzPWwocyk7Zm9yKGxldCBsPTE7bDxzLmxlbmd0aC0xO2wrKyl7Y29uc3Qgbj1hd2FpdCBGKGUsdCxzW2xdLHNbbC0xXSxvLGkpO24mJihzW2xdPW5bMF0scltsXT1uWzFdKX1yZXR1cm4gc31mdW5jdGlvbiBPKGUpe2NvbnN0IHQ9ZS5taW5TaXplLGw9ZS5tYXhTaXplLG89SSxpPShsLXQpLyhvLTEpLG49W107Zm9yKGxldCByPTA7cjxvO3IrKyluLnB1c2godCtpKnIpO3JldHVybiBufWZ1bmN0aW9uIEEoZSx0LGwpe2NvbnN0IG89bC5taW5TaXplLGk9bC5tYXhTaXplLG49dC5taW5EYXRhVmFsdWUscj10Lm1heERhdGFWYWx1ZTtsZXQgcztpZihlPD1vKXM9bjtlbHNlIGlmKGU+PWkpcz1yO2Vsc2V7cz0oZS1vKS8oaS1vKSooci1uKStufXJldHVybiBzfWFzeW5jIGZ1bmN0aW9uIEYoZSx0LG4scixzLGEpe2NvbnN0IHU9YXdhaXQgRyhlLHQsbixzLGEpLGM9YXdhaXQgRyhlLHQscixzLGEpLG09byhuKSxwPW0uZnJhY3Rpb25hbCxmPWo7bGV0IHk9bS5pbnRlZ2VyLGI9bnVsbCxkPW51bGw7bj4wJiZuPDEmJihiPTEwKipwLHk9byhuKj1iKS5pbnRlZ2VyKTtmb3IobGV0IG89eS0xO28+PTA7by0tKXtjb25zdCByPTEwKipvO2xldCBtPU1hdGguZmxvb3Iobi9yKSpyLHA9TWF0aC5jZWlsKG4vcikqcjtudWxsIT1iJiYobS89YixwLz1iKTtsZXQgeT0obStwKS8yO1sseV09bChbbSx5LHBdLHtpbmRleGVzOlsxXX0pO2NvbnN0IGg9YXdhaXQgRyhlLHQsbSxzLGEpLHc9YXdhaXQgRyhlLHQscCxzLGEpLFM9YXdhaXQgRyhlLHQseSxzLGEpLGc9aSh1LGgsYyxudWxsKSx2PWkodSx3LGMsbnVsbCksej1pKHUsUyxjLG51bGwpO2xldCBrPWcucHJldmlvdXM8PWYsaj12LnByZXZpb3VzPD1mO2lmKGsmJmomJihnLnByZXZpb3VzPD12LnByZXZpb3VzPyhrPSEwLGo9ITEpOihqPSEwLGs9ITEpKSxrP2Q9W20saF06aj9kPVtwLHddOnoucHJldmlvdXM8PWYmJihkPVt5LFNdKSxkKWJyZWFrfXJldHVybiBkfWFzeW5jIGZ1bmN0aW9uIEcoZSx0LGwsbyxpKXtjb25zdHtnZXRTaXplOm59PWF3YWl0IGltcG9ydChcIi4uLy4uLy4uL3JlbmRlcmVycy92aXN1YWxWYXJpYWJsZXMvc3VwcG9ydC92aXN1YWxWYXJpYWJsZVV0aWxzLmpzXCIpO3JldHVybiBuKGUsbCx7c2NhbGU6byx2aWV3Omksc2hhcGU6XCJzaW1wbGUtbWFya2VyXCI9PT10LnR5cGU/dC5zdHlsZTpudWxsfSl9ZnVuY3Rpb24gSihlLHQsbCxvKXtcInVuaXZhcmlhdGUtY29sb3Itc2l6ZVwiPT09bD8uYXV0aG9yaW5nSW5mbz8udHlwZSYmXCJhYm92ZS1hbmQtYmVsb3dcIj09PWw/LmF1dGhvcmluZ0luZm8/LnVuaXZhcmlhdGVUaGVtZSYmXCJjbGFzcy1icmVha3NcIj09PWwudHlwZSYmKGU9cShsLG8pKTtjb25zdCBpPWUuY2xvbmUoKTtpZihtKGkpKXAoaSl8fGkuc3ltYm9sTGF5ZXJzLmZvckVhY2goKGU9PntcImZpbGxcIiE9PWUudHlwZSYmKGUuc2l6ZT10KX0pKTtlbHNlIGlmKFYoaSkpaS5zaXplPXQ7ZWxzZSBpZih4KGkpKXtjb25zdCBlPWkud2lkdGgsbD1pLmhlaWdodDtpLmhlaWdodD10LGkud2lkdGg9dCooZS9sKX1lbHNlIE0oaSk/aS53aWR0aD10OlUoaSk/aS5mb250JiYoaS5mb250LnNpemU9dCk6XCJjaW1cIj09PWkudHlwZSYmeShsLFwicmVmZXJlbmNlLXNpemVcIik/bihpLHtpbm5lckRvdFNpemU6dCxvdXRlclJpbmdTaXplOmd9KTpcImNpbVwiPT09aS50eXBlJiZ5KGwsXCJzcGlrZVwiKSYmcihpLHtkZWZhdWx0SGVpZ2h0OnQscHJpbWl0aXZlT3ZlcnJpZGVzOm51bGx9KTtyZXR1cm4gaX1leHBvcnR7TCBhcyBnZXRSYW1wU3RvcHMsVCBhcyBnZXRSZWZlcmVuY2VTaXplU3ltYm9sLHcgYXMgcmVhbFdvcmxkTWF4U2l6ZSxTIGFzIHJlYWxXb3JsZE1pblNpemV9O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9