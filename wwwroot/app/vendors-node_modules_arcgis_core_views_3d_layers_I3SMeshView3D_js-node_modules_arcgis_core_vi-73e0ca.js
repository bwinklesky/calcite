export const __webpack_id__ = "vendors-node_modules_arcgis_core_views_3d_layers_I3SMeshView3D_js-node_modules_arcgis_core_vi-73e0ca";
export const __webpack_ids__ = ["vendors-node_modules_arcgis_core_views_3d_layers_I3SMeshView3D_js-node_modules_arcgis_core_vi-73e0ca"];
export const __webpack_modules__ = {

/***/ "./node_modules/@arcgis/core/geometry/support/UByteArray.js":
/*!******************************************************************!*\
  !*** ./node_modules/@arcgis/core/geometry/support/UByteArray.js ***!
  \******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   newUByteArray: () => (/* binding */ e)
/* harmony export */ });
/* harmony import */ var _core_typedArrayUtil_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../core/typedArrayUtil.js */ "./node_modules/@arcgis/core/core/typedArrayUtil.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
function e(e,n=!1){return e<=_core_typedArrayUtil_js__WEBPACK_IMPORTED_MODULE_0__.nativeArrayMaxSize?n?new Array(e).fill(0):new Array(e):new Uint8Array(e)}


/***/ }),

/***/ "./node_modules/@arcgis/core/libs/i3s/I3SModule.js":
/*!*********************************************************!*\
  !*** ./node_modules/@arcgis/core/libs/i3s/I3SModule.js ***!
  \*********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   get: () => (/* binding */ e)
/* harmony export */ });
/* harmony import */ var _assets_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../assets.js */ "./node_modules/@arcgis/core/assets.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
function e(){return n||(n=new Promise((t=>__webpack_require__.e(/*! import() */ "vendors-node_modules_arcgis_core_chunks_i3s_js").then(__webpack_require__.bind(__webpack_require__, /*! ../../chunks/i3s.js */ "./node_modules/@arcgis/core/chunks/i3s.js")).then((t=>t.i)).then((({default:e})=>{const n=e({locateFile:i,onRuntimeInitialized:()=>t(n)});delete n.then})))).catch((t=>{throw t}))),n}function i(e){return (0,_assets_js__WEBPACK_IMPORTED_MODULE_0__.getAssetUrl)(`esri/libs/i3s/${e}`)}let n;


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/ContentGeometryLayerView.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/ContentGeometryLayerView.js ***!
  \*******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ContentGeometryUpdateEvent: () => (/* binding */ r)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
class r{constructor(r){this.renderBounds=r}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/I3SMeshView3D.js":
/*!********************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/I3SMeshView3D.js ***!
  \********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   I3SMeshView3D: () => (/* binding */ Pt)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _Color_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../Color.js */ "./node_modules/@arcgis/core/Color.js");
/* harmony import */ var _Graphic_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../Graphic.js */ "./node_modules/@arcgis/core/Graphic.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_ByteSizeUnit_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../core/ByteSizeUnit.js */ "./node_modules/@arcgis/core/core/ByteSizeUnit.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_MapUtils_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../core/MapUtils.js */ "./node_modules/@arcgis/core/core/MapUtils.js");
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../core/maybe.js */ "./node_modules/@arcgis/core/core/maybe.js");
/* harmony import */ var _core_PooledArray_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../core/PooledArray.js */ "./node_modules/@arcgis/core/core/PooledArray.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../core/reactiveUtils.js */ "./node_modules/@arcgis/core/core/reactiveUtils.js");
/* harmony import */ var _core_scheduling_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../core/scheduling.js */ "./node_modules/@arcgis/core/core/scheduling.js");
/* harmony import */ var _core_SetUtils_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../core/SetUtils.js */ "./node_modules/@arcgis/core/core/SetUtils.js");
/* harmony import */ var _core_typedArrayUtil_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../core/typedArrayUtil.js */ "./node_modules/@arcgis/core/core/typedArrayUtil.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _core_libs_gl_matrix_2_math_mat3_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../../core/libs/gl-matrix-2/math/mat3.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/math/mat3.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_mat3f64_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../../core/libs/gl-matrix-2/factories/mat3f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/mat3f64.js");
/* harmony import */ var _core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../../core/libs/gl-matrix-2/math/mat4.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/math/mat4.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_mat4f64_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../../../core/libs/gl-matrix-2/factories/mat4f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/mat4f64.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_quatf64_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../../../core/libs/gl-matrix-2/factories/quatf64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/quatf64.js");
/* harmony import */ var _chunks_vec32_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../../../chunks/vec32.js */ "./node_modules/@arcgis/core/chunks/vec32.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../../../core/libs/gl-matrix-2/factories/vec3f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/vec3f64.js");
/* harmony import */ var _chunks_vec42_js__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ../../../chunks/vec42.js */ "./node_modules/@arcgis/core/chunks/vec42.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_vec4f64_js__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ../../../core/libs/gl-matrix-2/factories/vec4f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/vec4f64.js");
/* harmony import */ var _core_support_UpdatingHandles_js__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ../../../core/support/UpdatingHandles.js */ "./node_modules/@arcgis/core/core/support/UpdatingHandles.js");
/* harmony import */ var _geometry_spatialReferenceEllipsoidUtils_js__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ../../../geometry/spatialReferenceEllipsoidUtils.js */ "./node_modules/@arcgis/core/geometry/spatialReferenceEllipsoidUtils.js");
/* harmony import */ var _geometry_projection_localLinearScaleFactors_js__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ../../../geometry/projection/localLinearScaleFactors.js */ "./node_modules/@arcgis/core/geometry/projection/localLinearScaleFactors.js");
/* harmony import */ var _geometry_projection_projectBoundingSphere_js__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ../../../geometry/projection/projectBoundingSphere.js */ "./node_modules/@arcgis/core/geometry/projection/projectBoundingSphere.js");
/* harmony import */ var _geometry_projection_projectBuffer_js__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ../../../geometry/projection/projectBuffer.js */ "./node_modules/@arcgis/core/geometry/projection/projectBuffer.js");
/* harmony import */ var _geometry_projection_projectors_js__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ../../../geometry/projection/projectors.js */ "./node_modules/@arcgis/core/geometry/projection/projectors.js");
/* harmony import */ var _geometry_projection_projectVectorToVector_js__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! ../../../geometry/projection/projectVectorToVector.js */ "./node_modules/@arcgis/core/geometry/projection/projectVectorToVector.js");
/* harmony import */ var _geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! ../../../geometry/support/aaBoundingBox.js */ "./node_modules/@arcgis/core/geometry/support/aaBoundingBox.js");
/* harmony import */ var _geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(/*! ../../../geometry/support/aaBoundingRect.js */ "./node_modules/@arcgis/core/geometry/support/aaBoundingRect.js");
/* harmony import */ var _geometry_support_DoubleArray_js__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__(/*! ../../../geometry/support/DoubleArray.js */ "./node_modules/@arcgis/core/geometry/support/DoubleArray.js");
/* harmony import */ var _geometry_support_FloatArray_js__WEBPACK_IMPORTED_MODULE_36__ = __webpack_require__(/*! ../../../geometry/support/FloatArray.js */ "./node_modules/@arcgis/core/geometry/support/FloatArray.js");
/* harmony import */ var _geometry_support_Indices_js__WEBPACK_IMPORTED_MODULE_37__ = __webpack_require__(/*! ../../../geometry/support/Indices.js */ "./node_modules/@arcgis/core/geometry/support/Indices.js");
/* harmony import */ var _chunks_sphere_js__WEBPACK_IMPORTED_MODULE_38__ = __webpack_require__(/*! ../../../chunks/sphere.js */ "./node_modules/@arcgis/core/chunks/sphere.js");
/* harmony import */ var _geometry_support_UByteArray_js__WEBPACK_IMPORTED_MODULE_39__ = __webpack_require__(/*! ../../../geometry/support/UByteArray.js */ "./node_modules/@arcgis/core/geometry/support/UByteArray.js");
/* harmony import */ var _layers_LayerConstants_js__WEBPACK_IMPORTED_MODULE_40__ = __webpack_require__(/*! ../../../layers/LayerConstants.js */ "./node_modules/@arcgis/core/layers/LayerConstants.js");
/* harmony import */ var _layers_graphics_controllers_I3SOnDemandController_js__WEBPACK_IMPORTED_MODULE_41__ = __webpack_require__(/*! ../../../layers/graphics/controllers/I3SOnDemandController.js */ "./node_modules/@arcgis/core/layers/graphics/controllers/I3SOnDemandController.js");
/* harmony import */ var _layers_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_42__ = __webpack_require__(/*! ../../../layers/support/fieldUtils.js */ "./node_modules/@arcgis/core/layers/support/fieldUtils.js");
/* harmony import */ var _layers_support_SceneModification_js__WEBPACK_IMPORTED_MODULE_43__ = __webpack_require__(/*! ../../../layers/support/SceneModification.js */ "./node_modules/@arcgis/core/layers/support/SceneModification.js");
/* harmony import */ var _renderers_visualVariables_support_visualVariableUtils_js__WEBPACK_IMPORTED_MODULE_44__ = __webpack_require__(/*! ../../../renderers/visualVariables/support/visualVariableUtils.js */ "./node_modules/@arcgis/core/renderers/visualVariables/support/visualVariableUtils.js");
/* harmony import */ var _support_basemapUtils_js__WEBPACK_IMPORTED_MODULE_45__ = __webpack_require__(/*! ../../../support/basemapUtils.js */ "./node_modules/@arcgis/core/support/basemapUtils.js");
/* harmony import */ var _support_elevationInfoUtils_js__WEBPACK_IMPORTED_MODULE_46__ = __webpack_require__(/*! ../../../support/elevationInfoUtils.js */ "./node_modules/@arcgis/core/support/elevationInfoUtils.js");
/* harmony import */ var _support_guards_js__WEBPACK_IMPORTED_MODULE_47__ = __webpack_require__(/*! ../../../support/guards.js */ "./node_modules/@arcgis/core/support/guards.js");
/* harmony import */ var _support_loadArcade_js__WEBPACK_IMPORTED_MODULE_48__ = __webpack_require__(/*! ../../../support/loadArcade.js */ "./node_modules/@arcgis/core/support/loadArcade.js");
/* harmony import */ var _symbols_MeshSymbol3D_js__WEBPACK_IMPORTED_MODULE_49__ = __webpack_require__(/*! ../../../symbols/MeshSymbol3D.js */ "./node_modules/@arcgis/core/symbols/MeshSymbol3D.js");
/* harmony import */ var _symbols_SimpleFillSymbol_js__WEBPACK_IMPORTED_MODULE_50__ = __webpack_require__(/*! ../../../symbols/SimpleFillSymbol.js */ "./node_modules/@arcgis/core/symbols/SimpleFillSymbol.js");
/* harmony import */ var _ContentGeometryLayerView_js__WEBPACK_IMPORTED_MODULE_51__ = __webpack_require__(/*! ./ContentGeometryLayerView.js */ "./node_modules/@arcgis/core/views/3d/layers/ContentGeometryLayerView.js");
/* harmony import */ var _I3SMeshViewLabeler_js__WEBPACK_IMPORTED_MODULE_52__ = __webpack_require__(/*! ./I3SMeshViewLabeler.js */ "./node_modules/@arcgis/core/views/3d/layers/I3SMeshViewLabeler.js");
/* harmony import */ var _I3SMeshViewPerformanceInfo_js__WEBPACK_IMPORTED_MODULE_53__ = __webpack_require__(/*! ./I3SMeshViewPerformanceInfo.js */ "./node_modules/@arcgis/core/views/3d/layers/I3SMeshViewPerformanceInfo.js");
/* harmony import */ var _I3SMeshWorkerHandle_js__WEBPACK_IMPORTED_MODULE_54__ = __webpack_require__(/*! ./I3SMeshWorkerHandle.js */ "./node_modules/@arcgis/core/views/3d/layers/I3SMeshWorkerHandle.js");
/* harmony import */ var _II3SMeshView3D_js__WEBPACK_IMPORTED_MODULE_55__ = __webpack_require__(/*! ./II3SMeshView3D.js */ "./node_modules/@arcgis/core/views/3d/layers/II3SMeshView3D.js");
/* harmony import */ var _SceneLayerWorker_js__WEBPACK_IMPORTED_MODULE_56__ = __webpack_require__(/*! ./SceneLayerWorker.js */ "./node_modules/@arcgis/core/views/3d/layers/SceneLayerWorker.js");
/* harmony import */ var _graphics_graphicUtils_js__WEBPACK_IMPORTED_MODULE_57__ = __webpack_require__(/*! ./graphics/graphicUtils.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/graphicUtils.js");
/* harmony import */ var _graphics_Labeler_js__WEBPACK_IMPORTED_MODULE_58__ = __webpack_require__(/*! ./graphics/Labeler.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/Labeler.js");
/* harmony import */ var _i3s_enums_js__WEBPACK_IMPORTED_MODULE_59__ = __webpack_require__(/*! ./i3s/enums.js */ "./node_modules/@arcgis/core/views/3d/layers/i3s/enums.js");
/* harmony import */ var _i3s_Highlights_js__WEBPACK_IMPORTED_MODULE_60__ = __webpack_require__(/*! ./i3s/Highlights.js */ "./node_modules/@arcgis/core/views/3d/layers/i3s/Highlights.js");
/* harmony import */ var _i3s_I3SAsyncElevationUpdater_js__WEBPACK_IMPORTED_MODULE_61__ = __webpack_require__(/*! ./i3s/I3SAsyncElevationUpdater.js */ "./node_modules/@arcgis/core/views/3d/layers/i3s/I3SAsyncElevationUpdater.js");
/* harmony import */ var _i3s_I3SBinaryReader_js__WEBPACK_IMPORTED_MODULE_62__ = __webpack_require__(/*! ./i3s/I3SBinaryReader.js */ "./node_modules/@arcgis/core/views/3d/layers/i3s/I3SBinaryReader.js");
/* harmony import */ var _i3s_I3SCrossfadeHelper_js__WEBPACK_IMPORTED_MODULE_63__ = __webpack_require__(/*! ./i3s/I3SCrossfadeHelper.js */ "./node_modules/@arcgis/core/views/3d/layers/i3s/I3SCrossfadeHelper.js");
/* harmony import */ var _i3s_I3SGeometryUtil_js__WEBPACK_IMPORTED_MODULE_64__ = __webpack_require__(/*! ./i3s/I3SGeometryUtil.js */ "./node_modules/@arcgis/core/views/3d/layers/i3s/I3SGeometryUtil.js");
/* harmony import */ var _i3s_I3SIntersectionHandler_js__WEBPACK_IMPORTED_MODULE_65__ = __webpack_require__(/*! ./i3s/I3SIntersectionHandler.js */ "./node_modules/@arcgis/core/views/3d/layers/i3s/I3SIntersectionHandler.js");
/* harmony import */ var _i3s_I3SMaterialUtil_js__WEBPACK_IMPORTED_MODULE_66__ = __webpack_require__(/*! ./i3s/I3SMaterialUtil.js */ "./node_modules/@arcgis/core/views/3d/layers/i3s/I3SMaterialUtil.js");
/* harmony import */ var _i3s_I3SNode_js__WEBPACK_IMPORTED_MODULE_67__ = __webpack_require__(/*! ./i3s/I3SNode.js */ "./node_modules/@arcgis/core/views/3d/layers/i3s/I3SNode.js");
/* harmony import */ var _i3s_I3SOverrides_js__WEBPACK_IMPORTED_MODULE_68__ = __webpack_require__(/*! ./i3s/I3SOverrides.js */ "./node_modules/@arcgis/core/views/3d/layers/i3s/I3SOverrides.js");
/* harmony import */ var _i3s_I3SProjectionUtil_js__WEBPACK_IMPORTED_MODULE_69__ = __webpack_require__(/*! ./i3s/I3SProjectionUtil.js */ "./node_modules/@arcgis/core/views/3d/layers/i3s/I3SProjectionUtil.js");
/* harmony import */ var _i3s_I3SUtil_js__WEBPACK_IMPORTED_MODULE_70__ = __webpack_require__(/*! ./i3s/I3SUtil.js */ "./node_modules/@arcgis/core/views/3d/layers/i3s/I3SUtil.js");
/* harmony import */ var _i3s_IDBCache_js__WEBPACK_IMPORTED_MODULE_71__ = __webpack_require__(/*! ./i3s/IDBCache.js */ "./node_modules/@arcgis/core/views/3d/layers/i3s/IDBCache.js");
/* harmony import */ var _i3s_IDBMockCache_js__WEBPACK_IMPORTED_MODULE_72__ = __webpack_require__(/*! ./i3s/IDBMockCache.js */ "./node_modules/@arcgis/core/views/3d/layers/i3s/IDBMockCache.js");
/* harmony import */ var _i3s_LayerElevationProvider_js__WEBPACK_IMPORTED_MODULE_73__ = __webpack_require__(/*! ./i3s/LayerElevationProvider.js */ "./node_modules/@arcgis/core/views/3d/layers/i3s/LayerElevationProvider.js");
/* harmony import */ var _i3s_SymbologyInfo_js__WEBPACK_IMPORTED_MODULE_74__ = __webpack_require__(/*! ./i3s/SymbologyInfo.js */ "./node_modules/@arcgis/core/views/3d/layers/i3s/SymbologyInfo.js");
/* harmony import */ var _support_attributeUtils_js__WEBPACK_IMPORTED_MODULE_75__ = __webpack_require__(/*! ./support/attributeUtils.js */ "./node_modules/@arcgis/core/views/3d/layers/support/attributeUtils.js");
/* harmony import */ var _support_highlightUtils_js__WEBPACK_IMPORTED_MODULE_76__ = __webpack_require__(/*! ./support/highlightUtils.js */ "./node_modules/@arcgis/core/views/3d/layers/support/highlightUtils.js");
/* harmony import */ var _support_makeScheduleFunction_js__WEBPACK_IMPORTED_MODULE_77__ = __webpack_require__(/*! ./support/makeScheduleFunction.js */ "./node_modules/@arcgis/core/views/3d/layers/support/makeScheduleFunction.js");
/* harmony import */ var _support_symbolColorUtils_js__WEBPACK_IMPORTED_MODULE_78__ = __webpack_require__(/*! ./support/symbolColorUtils.js */ "./node_modules/@arcgis/core/views/3d/layers/support/symbolColorUtils.js");
/* harmony import */ var _support_debugFlags_js__WEBPACK_IMPORTED_MODULE_79__ = __webpack_require__(/*! ../support/debugFlags.js */ "./node_modules/@arcgis/core/views/3d/support/debugFlags.js");
/* harmony import */ var _support_ElevationRange_js__WEBPACK_IMPORTED_MODULE_80__ = __webpack_require__(/*! ../support/ElevationRange.js */ "./node_modules/@arcgis/core/views/3d/support/ElevationRange.js");
/* harmony import */ var _support_extentUtils_js__WEBPACK_IMPORTED_MODULE_81__ = __webpack_require__(/*! ../support/extentUtils.js */ "./node_modules/@arcgis/core/views/3d/support/extentUtils.js");
/* harmony import */ var _support_orientedBoundingBox_js__WEBPACK_IMPORTED_MODULE_82__ = __webpack_require__(/*! ../support/orientedBoundingBox.js */ "./node_modules/@arcgis/core/views/3d/support/orientedBoundingBox.js");
/* harmony import */ var _support_updatingProperties_js__WEBPACK_IMPORTED_MODULE_83__ = __webpack_require__(/*! ../support/updatingProperties.js */ "./node_modules/@arcgis/core/views/3d/support/updatingProperties.js");
/* harmony import */ var _support_buffer_glUtil_js__WEBPACK_IMPORTED_MODULE_84__ = __webpack_require__(/*! ../support/buffer/glUtil.js */ "./node_modules/@arcgis/core/views/3d/support/buffer/glUtil.js");
/* harmony import */ var _webgl_engine_collections_Component_ObjectParameters_js__WEBPACK_IMPORTED_MODULE_85__ = __webpack_require__(/*! ../webgl-engine/collections/Component/ObjectParameters.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/collections/Component/ObjectParameters.js");
/* harmony import */ var _webgl_engine_collections_Component_SourceGeometry_js__WEBPACK_IMPORTED_MODULE_86__ = __webpack_require__(/*! ../webgl-engine/collections/Component/SourceGeometry.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/collections/Component/SourceGeometry.js");
/* harmony import */ var _webgl_engine_collections_Component_Transform_js__WEBPACK_IMPORTED_MODULE_87__ = __webpack_require__(/*! ../webgl-engine/collections/Component/Transform.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/collections/Component/Transform.js");
/* harmony import */ var _webgl_engine_core_shaderLibrary_attributes_TextureCoordinateAttribute_glsl_js__WEBPACK_IMPORTED_MODULE_88__ = __webpack_require__(/*! ../webgl-engine/core/shaderLibrary/attributes/TextureCoordinateAttribute.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/attributes/TextureCoordinateAttribute.glsl.js");
/* harmony import */ var _webgl_engine_lib_BasisUtil_js__WEBPACK_IMPORTED_MODULE_89__ = __webpack_require__(/*! ../webgl-engine/lib/BasisUtil.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/BasisUtil.js");
/* harmony import */ var _webgl_engine_lib_edgeRendering_interfaces_js__WEBPACK_IMPORTED_MODULE_90__ = __webpack_require__(/*! ../webgl-engine/lib/edgeRendering/interfaces.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/edgeRendering/interfaces.js");
/* harmony import */ var _support_HighlightDefaults_js__WEBPACK_IMPORTED_MODULE_91__ = __webpack_require__(/*! ../../support/HighlightDefaults.js */ "./node_modules/@arcgis/core/views/support/HighlightDefaults.js");
/* harmony import */ var _support_TextureCompressionTracker_js__WEBPACK_IMPORTED_MODULE_92__ = __webpack_require__(/*! ../../support/TextureCompressionTracker.js */ "./node_modules/@arcgis/core/views/support/TextureCompressionTracker.js");
/* harmony import */ var _webscene_support_AlphaCutoff_js__WEBPACK_IMPORTED_MODULE_93__ = __webpack_require__(/*! ../../../webscene/support/AlphaCutoff.js */ "./node_modules/@arcgis/core/webscene/support/AlphaCutoff.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
const Tt=[1,1,1,1];class Dt extends _i3s_I3SCrossfadeHelper_js__WEBPACK_IMPORTED_MODULE_63__.NodeCrossfadeMetaData{constructor(e,t,i,s,r,o,a,n,l){super(),this.node=e,this.featureIds=t,this.objectHandle=i,this.cachedRendererVersion=s,this.attributeInfo=r,this.material=o,this.textures=a,this.anchorIds=n,this.anchors=l,this.cachedElevationAnchors=null,this.cachedEdgeMaterials=new Array,this.edgeMemoryUsage=0}get cachedMemory(){return this.node.memory}get featureExtents(){return this._featureExtents??=new Float64Array(6*this.featureIds.length).fill(Number.POSITIVE_INFINITY),this._featureExtents}}var Ft;!function(e){e[e.CastShadows=4]="CastShadows",e[e.Pickable=5]="Pickable"}(Ft||(Ft={}));const Vt=26,Nt=100*_core_ByteSizeUnit_js__WEBPACK_IMPORTED_MODULE_4__.ByteSizeUnit.MEGABYTES,Pt=t=>{let o=class extends t{constructor(){super(...arguments),this._applySSAO=!0,this._shadeNormals=!0,this._updatingHandles=new _core_support_UpdatingHandles_js__WEBPACK_IMPORTED_MODULE_26__.UpdatingHandles,this._nodeId2Meta=new Map,this._nodeId2MetaReloading=new Map,this._i3sWasmLoaded=!1,this._snappingSourcesTrackers=[],this._compressionTracker=new _support_TextureCompressionTracker_js__WEBPACK_IMPORTED_MODULE_92__.TextureCompressionTracker,this._hasLoadedPBRTextures=!1,this._asyncModuleLoading=0,this._addTasks=new Map,this._currentRenderer=null,this._rendererVersion=0,this._colorVariable=null,this._opacityVariable=null,this._rendererFields=null,this._symbologyFields=null,this._symbologyOverride=null,this._symbologyOverrideFields=null,this._symbolInfos=new Map,this._visibleGeometryChangedSchedulerHandle=null,this._hasComponentData=!1,this._hasVertexColors=!1,this._nodeColorOverride=null,this.updating=!0,this.holeFilling="auto",this._hasColors=!1,this._hasTextures=!1,this._hasData=!1,this.slicePlaneEnabled=!1,this._modifications=new Array,this.ignoresMemoryFactor=!1,this._layerUrl="",this._cacheKeySuffix=null,this._planetRadiusInGlobalMode=0,this._elevationTask=null,this._needFilterResolve=!1,this._filters=[],this._arcade=null,this._tmpAttributeOnlyGraphic=new _Graphic_js__WEBPACK_IMPORTED_MODULE_2__["default"],this._crossfadeHelper=new _i3s_I3SCrossfadeHelper_js__WEBPACK_IMPORTED_MODULE_63__.I3SCrossfadeHelper(this)}get lodCrossfadeoutDuration(){return 0}get lodCrossfadeinDuration(){return 0}get lodCrossfadeUncoveredDuration(){return 0}get layerViewUid(){return this.uid}get layerId(){return this.i3slayer&&this.i3slayer.id}get sublayerId(){return null}get _isIntegratedMesh(){return"integrated-mesh"===this.i3slayer.type}get contentVisible(){return!this.suspended&&this._controller?.rootNodeVisible&&this.fullOpacity>_webscene_support_AlphaCutoff_js__WEBPACK_IMPORTED_MODULE_93__.alphaCutoff}get legendEnabled(){return this.contentVisible&&!0===this.i3slayer?.legendEnabled}get updatingProgressValue(){return this._controller?.updatingProgress??0}get hasTexturesOrVertexColors(){return this._hasData?this._hasTextures||this._hasColors?"yes":"probably-not":"unknown"}get rendererTextureUsage(){return (0,_i3s_I3SUtil_js__WEBPACK_IMPORTED_MODULE_70__.rendererNeedsTextures)(this._currentRenderer)?this._usePBR||this._hasLoadedPBRTextures?_i3s_enums_js__WEBPACK_IMPORTED_MODULE_59__.TextureUsage.AllTexturesPBR:_i3s_enums_js__WEBPACK_IMPORTED_MODULE_59__.TextureUsage.AllTextures:this._usePBR||this._hasLoadedPBRTextures?_i3s_enums_js__WEBPACK_IMPORTED_MODULE_59__.TextureUsage.GeometryTexturesPBR:_i3s_enums_js__WEBPACK_IMPORTED_MODULE_59__.TextureUsage.GeometryTextures}get elevationOffset(){const e=null!=this.i3slayer?this.i3slayer.elevationInfo:null;return null!=e&&"absolute-height"===e.mode?(0,_support_elevationInfoUtils_js__WEBPACK_IMPORTED_MODULE_46__.getElevationOffset)(e,this.i3slayer.spatialReference):0}get elevationInfo(){const e=null!=this.i3slayer?this.i3slayer.elevationInfo:null;if(null==e)return new Jt(_II3SMeshView3D_js__WEBPACK_IMPORTED_MODULE_55__.ElevationMode.Absolute,0);const t=(0,_support_elevationInfoUtils_js__WEBPACK_IMPORTED_MODULE_46__.getElevationOffset)(e,this.i3slayer.spatialReference);switch(e.mode){case"absolute-height":return new Jt(_II3SMeshView3D_js__WEBPACK_IMPORTED_MODULE_55__.ElevationMode.Absolute,t);case"relative-to-ground":return new Jt(_II3SMeshView3D_js__WEBPACK_IMPORTED_MODULE_55__.ElevationMode.RelativeToGround,t);case"on-the-ground":return new Jt(_II3SMeshView3D_js__WEBPACK_IMPORTED_MODULE_55__.ElevationMode.OnTheGround,0);default:return new Jt(_II3SMeshView3D_js__WEBPACK_IMPORTED_MODULE_55__.ElevationMode.Absolute,0)}}get supportedTextureEncodings(){return (0,_i3s_I3SMaterialUtil_js__WEBPACK_IMPORTED_MODULE_66__.getSupportedEncodings)(this.view.stage.renderView.capabilities)}get clientGeometry(){return this.i3sOverrides.geometryOverrides}get elevationRange(){const e=this._nodeId2Meta,t=new _support_ElevationRange_js__WEBPACK_IMPORTED_MODULE_80__.ElevationRange;for(const i of e.values()){if(null==i)continue;const{node:{serviceMbsInIndexSR:e}}=i,[s,r,o,a]=e;t.expandElevationRangeValues(o-a,o+a)}return t.elevationRangeValid?t:null}get fullExtent(){return this.i3slayer.fullExtent}initialize(){const e=(0,_core_has_js__WEBPACK_IMPORTED_MODULE_5__["default"])("enable-feature:idb-mock-cache");this._idbCache=e?new _i3s_IDBMockCache_js__WEBPACK_IMPORTED_MODULE_72__.IDBMockCache(this.view,e):new _i3s_IDBCache_js__WEBPACK_IMPORTED_MODULE_71__.IDBCache("esri-scenelayer-cache","geometries"),this._preLoadBasis(),this.addResolvingPromise(this.i3slayer.indexInfo);const t=this.view.resourceController,i=t.memoryController;this.i3sOverrides=new _i3s_I3SOverrides_js__WEBPACK_IMPORTED_MODULE_68__.I3SOverrides({view:this.view,layer:this.i3slayer,memoryController:i}),this._worker=new _I3SMeshWorkerHandle_js__WEBPACK_IMPORTED_MODULE_54__.I3SMeshWorkerHandle((0,_support_makeScheduleFunction_js__WEBPACK_IMPORTED_MODULE_77__.makeScheduleFunction)(t)),this.addResolvingPromise(this._worker.promise);const s=this.i3slayer.store;this.addResolvingPromise(this._worker.setLegacySchema(this.uid,s.defaultGeometrySchema).catch(_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_10__.ignoreAbortErrors)),(0,_i3s_I3SUtil_js__WEBPACK_IMPORTED_MODULE_70__.checkSceneLayerValid)(this.i3slayer),(0,_i3s_I3SUtil_js__WEBPACK_IMPORTED_MODULE_70__.checkSceneLayerCompatibleWithView)(this.i3slayer,this.view),this._layerUrl=this.i3slayer.parsedUrl.path,this._controller=new _layers_graphics_controllers_I3SOnDemandController_js__WEBPACK_IMPORTED_MODULE_41__["default"]({layerView:this,worker:this._worker}),this._gpuMemoryEstimate=0,this._texMemoryEstimate=0,this._geoMemoryEstimate=0,this._stage=this.view.stage,this._collection=this._stage.renderView.componentObjectCollection,this.resetHighlights();const r=s.defaultGeometrySchema;if(this._isIntegratedMesh||!r)this._hasComponentData=!1;else{const e=r.featureAttributes;this._hasComponentData=!!(e&&e.faceRange&&e.id)}this._hasVertexColors=null!=(r?.vertexAttributes.color??null)&&!this.i3slayer.cachedDrawingInfo?.color;const o=this.view.resourceController.memoryController.newCache(`sl-${this.uid}`,(e=>this._deleteComponentObject(e)));this._memCache=o;const n=this._controller,d=this._nodeId2Meta,c=this._nodeId2MetaReloading,u=e=>{const t=n.index;if(!t)return;const i=t.rootNode;if(!i)return;const s=t=>{const i=t.index,s=d.get(i)||c.get(i);return e(t,s?.objectHandle??null)};t.traverse(i,s)};this._intersectionHandler=new _i3s_I3SIntersectionHandler_js__WEBPACK_IMPORTED_MODULE_65__.I3SIntersectionHandler({layerViewUid:this.layerViewUid,sublayerId:this.sublayerId,collection:this._collection,slicePlaneEnabled:this.slicePlaneEnabled,isGround:this._isIntegratedMesh,traverseNodeHierarchy:u}),this._elevationProvider=new _i3s_LayerElevationProvider_js__WEBPACK_IMPORTED_MODULE_73__.LayerElevationProvider({view:this.view,layerElevationSource:this,intersectionHandler:this._intersectionHandler}),this._hasLoadedPBRTextures=this._usePBR,this._updatingHandles.add((()=>this.view.clippingArea),(()=>this._clippingAreaChanged()),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_11__.initial),this._updatingHandles.add((()=>this.fullOpacity),(e=>this._opacityChange(e))),this._updatingHandles.add((()=>this.slicePlaneEnabled),(e=>this._slicePlaneEnabledChange(e))),this._updatingHandles.add((()=>this.elevationOffset),((e,t)=>{this._reloadAll(t),this._controller.invalidateVisibilityObbs()})),this._updatingHandles.add((()=>this.elevationInfo),((e,t)=>this._elevationInfoChanged(e,t)),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_11__.initial),this._updatingHandles.add((()=>!this.suspended&&this.elevationInfo.mode!==_II3SMeshView3D_js__WEBPACK_IMPORTED_MODULE_55__.ElevationMode.Absolute),((e,t)=>{e?this.addHandles(this.view.basemapTerrain.on("elevation-change",(({extent:e})=>this._ensureElevationTask().addExtent(e))),ti):t&&this.removeHandles(ti)}),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_11__.initial),this._updatingHandles.add((()=>this._usePBR),(e=>this._updatePBR(e)));const _=()=>{this._reloadAll(),this.clearMemCache()};this._updatingHandles.add((()=>this.rendererTextureUsage),_),this._updatingHandles.add((()=>this.contentVisible),(e=>this._contentVisibleChanged(e)),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_11__.initial),this._updatingHandles.add((()=>this.i3slayer.labelsVisible),(()=>this._labelingChanged()),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_11__.initial),this._updatingHandles.add((()=>this.i3slayer.labelingInfo),(()=>this._labelingChanged()),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_11__.initial),this._updatingHandles.add((()=>this._modifications),(()=>this._modificationsChanged()),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_11__.initial),this.addHandles([(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_11__.watch)((()=>_support_debugFlags_js__WEBPACK_IMPORTED_MODULE_79__.debugFlags.I3S_TREE_SHOW_TILES),(e=>{if(e&&!this._treeDebugger){const e=this._controller.crsIndex;__webpack_require__.e(/*! import() */ "node_modules_arcgis_core_views_3d_layers_support_I3STreeDebugger_js").then(__webpack_require__.bind(__webpack_require__, /*! ./support/I3STreeDebugger.js */ "./node_modules/@arcgis/core/views/3d/layers/support/I3STreeDebugger.js")).then((({I3STreeDebugger:t})=>{!this._treeDebugger&&_support_debugFlags_js__WEBPACK_IMPORTED_MODULE_79__.debugFlags.I3S_TREE_SHOW_TILES&&(this._treeDebugger=new t({lv:this,view:this.view,nodeSR:e}))}))}else e||_support_debugFlags_js__WEBPACK_IMPORTED_MODULE_79__.debugFlags.I3S_TREE_SHOW_TILES||(this._treeDebugger=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_8__.destroyMaybe)(this._treeDebugger))}),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_11__.initial),(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_11__.watch)((()=>_support_debugFlags_js__WEBPACK_IMPORTED_MODULE_79__.debugFlags.I3S_SHOW_MODIFICATIONS),(()=>this._showModifications()),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_11__.initial)]),this._cacheKeySuffix=this._getCacheKeySuffix(),this._idbCache.init().catch((e=>_core_Logger_js__WEBPACK_IMPORTED_MODULE_6__["default"].getLogger(this).warn(`Failed to initialize IndexedDB cache: ${e}`)));const{view:f}=this,{viewingMode:p,renderCoordsHelper:y}=f;this._planetRadiusInGlobalMode="local"===p?0:y.referenceEllipsoid.radius}destroy(){this._clearAddTasks(),this._elevationTask=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_8__.destroyMaybe)(this._elevationTask),this.i3sOverrides=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_8__.destroyMaybe)(this.i3sOverrides),this._elevationProvider&&(this._elevationProvider.objectsChanged(this.getVisibleObbs()),this.view.elevationProvider.unregister(this._elevationProvider),this._elevationProvider=null),this._intersectionHandler&&(this._stage.view.sceneIntersectionHelper.removeIntersectionHandler(this._intersectionHandler),this._intersectionHandler=null);const e=this._worker;e&&(e.destroyContext(this.uid).then((()=>e.destroy())),this._worker=null),this._removeAllNodeDataFromStage(),this._memCache=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_8__.destroyMaybe)(this._memCache),this._collection=null,this._stage=null,this._edgeView=null,this._labeler=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_8__.destroyMaybe)(this._labeler),this._treeDebugger=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_8__.destroyMaybe)(this._treeDebugger),this._controller=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_8__.destroyMaybe)(this._controller),this._highlights.destroy(),this._nodeId2Meta.clear(),this._nodeId2MetaReloading.clear(),this._crossfadeHelper=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_8__.destroyMaybe)(this._crossfadeHelper),this.emit("visible-geometry-changed"),this._visibleGeometryChangedSchedulerHandle&&(this._visibleGeometryChangedSchedulerHandle.remove(),this._visibleGeometryChangedSchedulerHandle=null),this._updatingHandles=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_8__.destroyMaybe)(this._updatingHandles)}_memEstimateTextureAdded(e){const t=e.usedMemory;return this._gpuMemoryEstimate+=t,this._texMemoryEstimate+=t,t}_memEstimateTextureRemoved(e){if(null!=e){const t=e.usedMemory;this._gpuMemoryEstimate-=t,this._texMemoryEstimate-=t}}_memEstimateGeometryAdded(e){const t=this._collection.getObjectGPUMemoryUsage(e);return this._gpuMemoryEstimate+=t,this._geoMemoryEstimate+=t,t}_memEstimateGeometryRemoved(e){const t=this._collection.getObjectGPUMemoryUsage(e);this._gpuMemoryEstimate-=t,this._geoMemoryEstimate-=t}isNodeLoaded(e){return this._nodeId2Meta.has(e)}isNodeReloading(e){return this._nodeId2MetaReloading.has(e)}get usedMemory(){let e=null!=this._labeler?this._labeler.usedMemory:0;return this._nodeId2Meta.forEach((t=>e+=null!=t?t.node.memory:0)),this._nodeId2MetaReloading.forEach((t=>e+=null!=t?t.node.memory:0)),e}get unloadedMemory(){return(null!=this._controller?this._controller.unloadedMemoryEstimate:0)+(null!=this._labeler?this._labeler.unloadedMemoryEstimate:0)}_labelingChanged(){if(!((0,_graphics_Labeler_js__WEBPACK_IMPORTED_MODULE_58__.areLabelsVisible)(this.i3slayer)&&this._supportsLabeling))return void(null!=this._labeler&&(this._labeler.destroy(),this._labeler=null));if(null!=this._labeler)return;const e=new _I3SMeshViewLabeler_js__WEBPACK_IMPORTED_MODULE_52__["default"]({view:this.view,layer:this.i3slayer,collection:this._collection,overrides:this.i3sOverrides,layerViewUid:this.uid});this._nodeId2Meta.forEach((t=>null!=t&&this._addMetaToLabeler(e,t))),this._labeler=e}_loadAsyncModule(e){return++this._asyncModuleLoading,e.then((e=>(--this._asyncModuleLoading,e)),(e=>{throw--this._asyncModuleLoading,e}))}_modificationsChanged(){if(!this._i3sWasmLoaded&&this.hasModifications)return this._i3sWasmLoaded=(0,_SceneLayerWorker_js__WEBPACK_IMPORTED_MODULE_56__.initialize)().then((()=>{this._i3sWasmLoaded=!0,this._modificationsChanged(),this.notifyUpdate()})),void this.notifyUpdate();if(!0!==this._i3sWasmLoaded)return;const e=this.uid,t=this.i3slayer.spatialReference;this._worker.setModifications(e,this._layerClippingArea,this._modifications,t);const i=(0,_I3SMeshWorkerHandle_js__WEBPACK_IMPORTED_MODULE_54__.toWasmModification)(this._layerClippingArea,this._modifications,t);(0,_SceneLayerWorker_js__WEBPACK_IMPORTED_MODULE_56__.setModificationsSync)({context:e,modifications:i,isGeodetic:t.isGeographic}),this._controller.modificationsChanged();const s=this.hasModifications?new _core_PooledArray_js__WEBPACK_IMPORTED_MODULE_9__["default"]:null;this._nodeId2Meta.forEach(((e,t)=>{null==e?(this._nodeId2Meta.delete(t),this._controller.updateLoadStatus(t,!1)):e.node.hasModifications?(this._updateFeatureIdCounts(e,-1),this._nodeId2Meta.delete(t),this._nodeId2MetaReloading.set(t,e)):null!=s&&s.push(e.node)})),this.notifyChange("elevationRange"),null!=s&&this._nodeId2MetaReloading.forEach((e=>s.push(e.node))),null!=s&&s.length>0&&(this.updateNodeModificationStatus(s),s.forAll((e=>{if(e.imModificationImpact!==_i3s_I3SNode_js__WEBPACK_IMPORTED_MODULE_67__.NodeIMModificationImpact.Culled){const t=this._nodeId2Meta.get(e.index);this._controller.invalidateGeometryVisibility(e.index),null!=t?(this._updateFeatureIdCounts(t,-1),this._nodeId2Meta.delete(e.index),this._nodeId2MetaReloading.set(e.index,t),this.notifyChange("elevationRange")):this._nodeId2Meta.has(e.index)&&(this._nodeId2Meta.delete(e.index),this._controller.updateLoadStatus(e.index,!1))}}))),this.clearMemCache(),this._controller.restartNodeLoading(),this._showModifications()}_showModifications(){if(null!=this._modificationGraphics&&(this.view.graphics.removeMany(this._modificationGraphics),this._modificationGraphics=null),!_support_debugFlags_js__WEBPACK_IMPORTED_MODULE_79__.debugFlags.I3S_SHOW_MODIFICATIONS||0===this._modifications.length)return;const e={clip:[227,227,79,.8],mask:[227,139,79,.8],replace:[139,227,79,.8]},t={outline:{color:[255,255,255],width:1}};this._modificationGraphics=[];for(const s of this._modifications){const r=s.geometry;r.spatialReference=this.i3slayer.spatialReference;const o=new _symbols_SimpleFillSymbol_js__WEBPACK_IMPORTED_MODULE_50__["default"]({...t,color:e[s.type]});this._modificationGraphics.push(new _Graphic_js__WEBPACK_IMPORTED_MODULE_2__["default"]({geometry:r,symbol:o}))}this.view.graphics.addMany(this._modificationGraphics)}_addMetaToLabeler(e,t){e.addNodeMeta(t,((e,t)=>this._createAttributes(e,t)))}_contentVisibleChanged(e){e?(this.view.elevationProvider.register(this._elevationContext,this._elevationProvider),this._stage.view.sceneIntersectionHelper.addIntersectionHandler(this._intersectionHandler)):(this._removeAllNodeDataFromStage(),this.view.elevationProvider&&this.view.elevationProvider.unregister(this._elevationProvider),this._stage.view.sceneIntersectionHelper.removeIntersectionHandler(this._intersectionHandler))}getLoadedAttributes(e){const t=this._nodeId2Meta.get(e);if(null!=t?.attributeInfo)return t.attributeInfo.loadedAttributes}getAttributeData(e){const t=this._nodeId2Meta.get(e);if(null!=t?.attributeInfo)return t.attributeInfo.attributeData}setAttributeData(e,t){const i=this._nodeId2Meta.get(e);null!=i?.attributeInfo&&(i.attributeInfo.attributeData=t,this._attributeValuesChanged(i))}async updateAttributes(e,t,i){const s=this._nodeId2Meta.get(e);null!=s&&(await this.i3sOverrides.applyAttributeOverrides(s.featureIds,t,i,this._controller.requiredAttributes),s.attributeInfo=t,this._controller.reschedule((()=>{this._nodeId2Meta.get(e)===s&&this._attributeValuesChanged(s)}),i).catch((e=>{(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_10__.isAbortError)(e)||_core_Logger_js__WEBPACK_IMPORTED_MODULE_6__["default"].getLogger(this).warn("Error while updating attribute values. Layer might not display correctly.",e)})))}_attributeValuesChanged(e){e.cachedRendererVersion=this._getInvalidRendererVersion(),e.appliedFilters=null,null!=this._labeler&&this._labeler.setNodeMetaAttributes(e,((e,t)=>this._createAttributes(e,t))),this._updateEngineObject(e)}clearMemCache(){null!=this._memCache&&this._memCache.clear(),this._addTasks.forEach((e=>e.allowMemCache=!1))}getVisibleNodes(){const e=new Array;return this._nodeId2Meta.forEach((t=>null!=t&&e.push(t.node))),e}getVisibleObbs(){const e=new Array;return this._nodeId2Meta.forEach((t=>t&&e.push(this._collection.getComponentObb(t.objectHandle)))),e}getLoadedNodeIndices(e){this._nodeId2Meta.forEach(((t,i)=>e.push(i))),this._nodeId2MetaReloading.forEach(((t,i)=>e.push(i)))}_preLoadBasis(){!(0,_core_has_js__WEBPACK_IMPORTED_MODULE_5__["default"])("disable-feature:i3s-basis")&&0!==(this.supportedTextureEncodings&_i3s_enums_js__WEBPACK_IMPORTED_MODULE_59__.TextureEncoding.Basis)&&this.i3slayer.textureSetDefinitions?.some((e=>e.formats.some((e=>"basis"===e.format||"ktx2"===e.format))))&&(0,_webgl_engine_lib_BasisUtil_js__WEBPACK_IMPORTED_MODULE_89__.loadBasisTranscoder)()}_getVertexBufferLayout(e,t){return (0,_support_buffer_glUtil_js__WEBPACK_IMPORTED_MODULE_84__.glLayout)((0,_webgl_engine_collections_Component_SourceGeometry_js__WEBPACK_IMPORTED_MODULE_86__.createVertexBufferLayout)(this._getGeometryParameters({hasTexture:Wt(e.params.material),hasNormals:t.normal,hasRegions:t.uvRegion})))}_getObjectIdField(){return this.i3slayer.objectIdField||_layers_LayerConstants_js__WEBPACK_IMPORTED_MODULE_40__.fallbackObjectIDAttribute}_getGlobalIdField(){return this.i3slayer.globalIdField}_findGraphicNodeAndIndex(e){const t=(0,_support_attributeUtils_js__WEBPACK_IMPORTED_MODULE_75__.attributeLookup)(this.i3slayer.fieldsIndex,e.attributes,this._getObjectIdField());for(const i of this._nodeId2Meta.values()){const e=i?.featureIds.indexOf(t);if(null!=e&&e>=0)return{node:i.node,index:e}}return null}_getGraphicIndices(e,t){const i=this._nodeId2Meta.get(e.index);if(null==i)return[];const s=[],r=this._getObjectIdField(),o=this.i3slayer.fieldsIndex;for(const a of t){const e=(0,_support_attributeUtils_js__WEBPACK_IMPORTED_MODULE_75__.attributeLookup)(o,a.attributes,r),t=i.featureIds.indexOf(e);-1!==t&&s.push(t)}return s}whenGraphicBounds(e){const t=this._findGraphicNodeAndIndex(e);if(!t)return Promise.reject();const i=this.getAABB(t.node.index,t.index);return null==i?Promise.reject():Promise.resolve({boundingBox:i,screenSpaceObjects:[]})}getAABBFromIntersectorTarget(e){return null==e.nodeIndex||null==e.componentIndex?null:this.getAABB(e.nodeIndex,e.componentIndex)}getAABB(e,t){const i=this._nodeId2Meta.get(e);if(null==i?.featureIds||t>=i.featureIds.length)return null;const s=i.objectHandle,r=(0,_i3s_I3SGeometryUtil_js__WEBPACK_IMPORTED_MODULE_64__.boundingBoxCornerPoints)(t,this._collection,s,(0,_geometry_support_DoubleArray_js__WEBPACK_IMPORTED_MODULE_35__.newDoubleArray)(24),0),o=this.view.renderSpatialReference,a=this.view.spatialReference;return (0,_geometry_projection_projectBuffer_js__WEBPACK_IMPORTED_MODULE_30__.projectBuffer)(r,o,0,r,a,0)?(0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_33__.fromBuffer)(r):null}whenGraphicAttributes(e,t){return (0,_i3s_I3SUtil_js__WEBPACK_IMPORTED_MODULE_70__.whenGraphicAttributes)(this.i3slayer,e,this._getObjectIdField(),t,(()=>[...this._nodeId2Meta.values()].filter(_core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_3__.isSome)))}getGraphicFromIntersectorTarget(e,t){if(null==e.nodeIndex||null==e.componentIndex)return null;const i=this._nodeId2Meta.get(e.nodeIndex);if(null==i?.featureIds||e.componentIndex>=i.featureIds.length)return null;const s=this._createLayerGraphic(this._createAttributes(e.componentIndex,i));return t.defer?(t.defer((async()=>(s.geometry=(await Promise.all(/*! import() */[__webpack_require__.e("vendors-node_modules_arcgis_core_geometry_support_meshUtils_vertexSpaceConversion_js"), __webpack_require__.e("vendors-node_modules_arcgis_core_geometry_support_MeshComponent_js-node_modules_arcgis_core_g-4bdb58"), __webpack_require__.e("vendors-node_modules_arcgis_core_geometry_Mesh_js"), __webpack_require__.e("node_modules_arcgis_core_geometry_support_MeshTransform_js-node_modules_arcgis_core_views_3d_-41b06e")]).then(__webpack_require__.bind(__webpack_require__, /*! ./i3s/meshUtils.js */ "./node_modules/@arcgis/core/views/3d/layers/i3s/meshUtils.js"))).createMesh({layerView:this,nodeIndex:e.nodeIndex,featureIndex:e.componentIndex}),s))),null):s}_getCacheKey(e){return`${this._layerUrl}/v${Vt}/${e}${this._cacheKeySuffix}`}_getCacheKeySuffix(){const e=this.view.renderSpatialReference;if(null==e)return si;if(e===(0,_geometry_spatialReferenceEllipsoidUtils_js__WEBPACK_IMPORTED_MODULE_27__.getSphericalPCPF)(e))return ri;return this.i3slayer.spatialReference.equals(e)?ii:null!=e.wkid?`@${e.wkid}`:null}_getMemCacheKey(e,t=this.elevationOffset){return e+"#"+t}get _idbCacheEnabled(){return!this._controller.disableIDBCache&&!this.hasModifications&&0===this.elevationOffset&&null!=this._cacheKeySuffix}loadCachedGPUData(e){return null!=this._memCache?this._memCache.pop(this._getMemCacheKey(e)):null}deleteCachedGPUData(e){null!=e&&this._deleteComponentObject(e)}_cacheGPUData(e,t=this.elevationOffset){if(null==this._memCache)return void this._deleteComponentObject(e);const i=this._controller.indexDepth-e.node.level;this._memCache.put(this._getMemCacheKey(e.node.index,t),e,i)}loadMissingTextures(e,t,i,s){const r=e?.filter(((e,i)=>{if(0===(e.usage&this.rendererTextureUsage))return!1;if(null==t)return!0;const s=(0,_i3s_I3SMaterialUtil_js__WEBPACK_IMPORTED_MODULE_66__.selectEncoding)(e.encodings,this.supportedTextureEncodings),r=t[i];return!!(null==r?.data||s&&r.encoding!==s.encoding)}))??[];return 0===r.length?Promise.resolve(!1):i(r,s).then((i=>{let s=0;for(let r=0;r<e.length;r++)s<i.length&&i[s].id===e[r].id&&(t[r]=i[s],s++);return!0}))}loadCachedNodeData(e,t,i){return this._idbCacheEnabled?this._idbCache.get(this._getCacheKey(e.id),t).then((s=>null==s?null:s.nodeVersion!==e.version?(this._idbCache.remove(this._getCacheKey(e.id)),null):(this.elevationInfo.mode===_II3SMeshView3D_js__WEBPACK_IMPORTED_MODULE_55__.ElevationMode.Absolute&&(e.geometryObbInRenderSR=_support_orientedBoundingBox_js__WEBPACK_IMPORTED_MODULE_82__.Obb.fromData(s.geometryObbData)),this.loadMissingTextures(s.requiredTextures,s.textureData,i,t).then((i=>(i&&this._idbCache.initialized&&null!=s.textureData&&(s.byteSize=$t(s.transformedGeometry,s.textureData),s.textureData.every(Kt)&&this._indexedDbSizeCheck(e,s)&&this._idbCache.put(this._getCacheKey(e.id),s).catch((t=>_core_Logger_js__WEBPACK_IMPORTED_MODULE_6__["default"].getLogger(this).warn(`Failed to update node with textures in IndexedDB cache: ${e.id}: ${t}`)))),(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_10__.throwIfAborted)(t),s)))))):Promise.resolve(null)}addNode(e,t,i){return zt(t)?null==t.geometryBuffer?(this._addNodeMeta(e.index,null),Promise.resolve()):this._addData(e,t.attributeDataInfo,(()=>this._transformNode(e,t,i).then((s=>this._safeReschedule((()=>{if(null==s)return e.hasModifications=!1,this._addCachedNodeData(e,null,i);e.hasModifications=s.transformedGeometry.hasModifications;const{obb:r,componentOffsets:o,featureIds:n,anchorIds:l,anchors:d,transformedGeometry:h,globalTrafo:c}=s,u=(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_22__.i)(Zt,r.center.x,r.center.y,r.center.z);(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_22__.t)(u,u,c);const _=new _support_orientedBoundingBox_js__WEBPACK_IMPORTED_MODULE_82__.Obb(u,[r.extents.x,r.extents.y,r.extents.z],(0,_core_libs_gl_matrix_2_factories_quatf64_js__WEBPACK_IMPORTED_MODULE_21__.fromValues)(r.orientation.x,r.orientation.y,r.orientation.z,r.orientation.w));this.elevationInfo.mode===_II3SMeshView3D_js__WEBPACK_IMPORTED_MODULE_55__.ElevationMode.Absolute&&(e.geometryObbInRenderSR=_),t.geometryData.componentOffsets=o,n&&(t.geometryData.featureIds=Array.from(n)),t.geometryData.anchorIds=l,t.geometryData.anchors=d;const m={nodeVersion:e.version,geometryData:t.geometryData,requiredTextures:t.requiredTextures,textureData:t.textureData,transformedGeometry:h,globalTrafo:c,geometryObbData:_.data,byteSize:$t(h,t.textureData)};if(this._idbCacheEnabled&&this._idbCache.initialized&&this._indexedDbSizeCheck(e,m)){const t=null!=m.textureData?m.textureData.map((e=>Kt(e)?e:null)):null;this._idbCache.put(this._getCacheKey(e.id),{...m,textureData:t}).catch((t=>_core_Logger_js__WEBPACK_IMPORTED_MODULE_6__["default"].getLogger(this).warn(`Failed to store node in IndexedDB cache: ${e.id}: ${t}`)))}return this._addCachedNodeData(e,m,i)}),i))))):Promise.reject()}getElevationRange(e){const t=new _support_ElevationRange_js__WEBPACK_IMPORTED_MODULE_80__.ElevationRange,i=this._controller,{index:s}=i;if(!s)return t;const{rootNode:r}=s;if(!r)return t;const o=this._nodeId2Meta,a=e[3],n=i.viewportQueries,l=this._planetRadiusInGlobalMode,{view:d}=this,{renderCoordsHelper:h}=d,c=h.referenceEllipsoid.radius,u=this._collection,_=i=>{const{childrenLoaded:s}=i;if(0===s)return!1;const r=n.getAndUpdateVisibilityObbInRenderSR(i);let d=null,_=-1;if(r){if(_=r.radius,!r.intersectSphereWithMBS(e,_))return!1}else d=n.getServiceMbsInRenderSR(i),d&&(_=d[3]);if(_>=0&&a>=1*_)return null!=r?ni(t,r,l):null!=d&&d[3]>=0&&li(t,d,l),!1;const m=ai;if(m.elevationRangeMin=1/0,m.elevationRangeMax=-1/0,(null!=r||null!=d)&&(null!=r?ni(m,r,l):null!=d&&li(m,d,l),m.elevationRangeMin>=t.elevationRangeMin&&m.elevationRangeMax<=t.elevationRangeMax))return!1;const g=o.get(i.index);if(g){const{geometryObbInRenderSR:s}=i;if(!s||s.intersectSphereWithMBS(e)){if(s){if(a>0*s.radius)return ni(t,s,l),!1}const{objectHandle:e}=g,i=u.getObjectTransform(e),r=h.getAltitude(i.position);u.expandRangeWithComponentObjectElevationRange(e,r,c,t)}}return s-(g?1:0)>0};return s.traverse(r,_),t}computeVisibilityObb(e){return (0,_i3s_I3SUtil_js__WEBPACK_IMPORTED_MODULE_70__.computeVisibilityObb)(e,this.view.renderSpatialReference,this._controller.crsIndex,this.i3slayer.spatialReference,this.elevationOffset,this._modifications,this.view.renderCoordsHelper.sphericalPCPF)}_transformNode(e,t,i){const s=t.geometryData.geometries??[],r=new Array(s.length);for(let f=0;f<s.length;++f)r[f]=this._getVertexBufferLayout(s[f],t.geometryDescriptor);const o=this.i3slayer.normalReferenceFrame,a=t.normalReferenceFrame??o??"none",n=e.serviceMbsInIndexSR,l=this.elevationOffset,d=this._controller.crsIndex,h=this._controller.crsVertex,c=this.view.renderSpatialReference,u=(0,_i3s_I3SProjectionUtil_js__WEBPACK_IMPORTED_MODULE_69__.computeGlobalTransformation)(n,l,a,d,c),_=(0,_geometry_projection_projectors_js__WEBPACK_IMPORTED_MODULE_31__.getProjectorName)(d,h),m=(0,_geometry_projection_projectors_js__WEBPACK_IMPORTED_MODULE_31__.getProjectorName)(h,c);if(null==_||null==m)return Promise.resolve(null);const g={context:this.uid,geometryBuffer:t.geometryBuffer,geometryData:t.geometryData,geometryDescriptor:t.geometryDescriptor,layouts:r,globalTrafo:u,mbs:n,obbData:e.serviceObbInIndexSR?.data,elevationOffset:l,needNormals:this._controller.isMeshPyramid,normalReferenceFrame:a,indexToVertexProjector:_,vertexToRenderProjector:m};return this._worker.invoke(g,i)}get _supportsNodeCrossFading(){return!this.view?.stage?.renderer.shadowsEnabled}get nodeCrossfadingEnabled(){return this._supportsNodeCrossFading&&(this.lodCrossfadeinDuration>0||this.lodCrossfadeoutDuration>0||this.lodCrossfadeUncoveredDuration>0)}get nodeFadeoutEnabled(){return this._supportsNodeCrossFading&&this.lodCrossfadeoutDuration>0}_setNewNodeOpacity(e){const t=this.nodeCrossfadingEnabled?0:this.fullOpacity;this._setNodeOpacity(e,t)}addCachedGPUData(e,t,i){if(this.elevationInfo.mode===_II3SMeshView3D_js__WEBPACK_IMPORTED_MODULE_55__.ElevationMode.Absolute&&(e.geometryObbInRenderSR=this._collection.getComponentObb(t.objectHandle).clone()),!this._controller.isGeometryVisible(e))return void this._cacheGPUData(t);null!=this._labeler&&this._addMetaToLabeler(this._labeler,t);const s=e.index;this._addNodeMeta(s,t),this.updateNodeState(s,i),this._collection.setObjectVisibility(t.objectHandle,!0),this._updateMaterial(t),this._setNewNodeOpacity(t),this.elevationInfo.mode!==_II3SMeshView3D_js__WEBPACK_IMPORTED_MODULE_55__.ElevationMode.Absolute&&this._ensureElevationTask().schedule(s),this._updateEngineObject(t),this._highlights.objectCreated(t),null!=this._treeDebugger&&this._treeDebugger.update()}addCachedNodeData(e,t,i,s){return this._addData(e,i,(()=>this._addCachedNodeData(e,t,s)))}async deleteCachedNodeData(e){if(this._idbCacheEnabled)return this._idbCache.remove(this._getCacheKey(e))}async _addCachedNodeData(e,t,i){if(!this.contentVisible||!this._controller.isGeometryVisible(e))return void this._removeNodeStageData(e.index,this.elevationOffset,this._nodeId2MetaReloading);if(null==t)return void this._addNodeMeta(e.index,null);const s=this._addTasks.get(e.index),{geometryData:r,transformedGeometry:o,globalTrafo:n}=t;await this.i3sOverrides.applyAttributeOverrides(r.featureIds,s.attributeInfo,i,this._controller.requiredAttributes);const l=null!=t.textureData?t.textureData.filter((e=>null!=e&&0!==(e.usage&this.rendererTextureUsage))):[];!(0,_core_has_js__WEBPACK_IMPORTED_MODULE_5__["default"])("disable-feature:i3s-basis")&&l.some((e=>null!=e&&(e.encoding===_i3s_enums_js__WEBPACK_IMPORTED_MODULE_59__.TextureEncoding.Basis||e.encoding===_i3s_enums_js__WEBPACK_IMPORTED_MODULE_59__.TextureEncoding.KTX2)))&&await (0,_webgl_engine_lib_BasisUtil_js__WEBPACK_IMPORTED_MODULE_89__.loadBasisTranscoder)(),e.memory=0;const{componentOffsets:d,geometries:h,featureIds:c,anchorIds:u,anchors:_}=r,m=this._collection,g=h[0],{layout:f,indices:p,interleavedVertexData:y,positionData:b,hasColors:I}=o,{material:O,geometryParameters:j}=this._materialParameters(g,f),S=d||new Uint32Array([0,p?p.length:y.byteLength/f[0].stride]),D={vertices:{data:y,count:y.byteLength/f[0].stride,layoutParameters:j},positionData:{positions:(0,_geometry_support_FloatArray_js__WEBPACK_IMPORTED_MODULE_36__.compactFloatArray)(b.data),indices:(0,_geometry_support_Indices_js__WEBPACK_IMPORTED_MODULE_37__.compactIndices)(b.indices)},indices:p,componentOffsets:S},F=g.transformation?(0,_core_libs_gl_matrix_2_factories_mat4f64_js__WEBPACK_IMPORTED_MODULE_20__.clone)(g.transformation):(0,_core_libs_gl_matrix_2_factories_mat4f64_js__WEBPACK_IMPORTED_MODULE_20__.create)();(0,_core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_19__.multiply)(F,n,F);const V=(0,_core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_19__.getTranslation)((0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_23__.create)(),F),N=(0,_core_libs_gl_matrix_2_math_mat3_js__WEBPACK_IMPORTED_MODULE_17__.fromMat4)((0,_core_libs_gl_matrix_2_factories_mat3f64_js__WEBPACK_IMPORTED_MODULE_18__.create)(),F),H=this.view.renderSpatialReference,k=this.view.basemapTerrain.spatialReference,L=_support_orientedBoundingBox_js__WEBPACK_IMPORTED_MODULE_82__.Obb.fromData(t.geometryObbData).center,B=[1,1,1];(0,_geometry_projection_localLinearScaleFactors_js__WEBPACK_IMPORTED_MODULE_28__.localLinearScaleFactors)(L,H,B,k)||_core_Logger_js__WEBPACK_IMPORTED_MODULE_6__["default"].getLogger(this).errorOnce("Unsupported coordinate system for IM overlay");const q=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_23__.create)();(0,_geometry_projection_projectVectorToVector_js__WEBPACK_IMPORTED_MODULE_32__.projectVectorToVector)(L,H,q,k);const W=(0,_core_libs_gl_matrix_2_factories_mat3f64_js__WEBPACK_IMPORTED_MODULE_18__.create)();(0,_core_libs_gl_matrix_2_math_mat3_js__WEBPACK_IMPORTED_MODULE_17__.invert)(W,N);const K=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_23__.create)();(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_22__.o)(K,(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_22__.a)(K,L,V),W);const $=q[0]-K[0]*B[0],Q=q[1]-K[1]*B[1],X=m.createObject(new _webgl_engine_collections_Component_ObjectParameters_js__WEBPACK_IMPORTED_MODULE_85__.ObjectParameters((0,_core_libs_gl_matrix_2_factories_vec4f64_js__WEBPACK_IMPORTED_MODULE_25__.fromValues)($,Q,B[0],B[1]),new _webgl_engine_collections_Component_Transform_js__WEBPACK_IMPORTED_MODULE_87__.Transform(V,N),_support_orientedBoundingBox_js__WEBPACK_IMPORTED_MODULE_82__.Obb.fromData(t.geometryObbData),D)),Y=j.textureCoordinates===_webgl_engine_core_shaderLibrary_attributes_TextureCoordinateAttribute_glsl_js__WEBPACK_IMPORTED_MODULE_88__.TextureCoordinateType.Atlas,{textures:J,texturePromise:te}=this._initMaterialAndTextures(X,O,l,Y,e);e.memory+=this._memEstimateGeometryAdded(X),e.memory+=J.reduce(((e,t)=>e+(null!=t?this._memEstimateTextureAdded(t):0)),0);const ie=!!O.hasParametersFromSource,se="blend"!==O.alphaMode&&O.metallicRoughness.baseColorFactor[3]>=1,re=new Dt(e,c,X,this._getInvalidRendererVersion(),s.attributeInfo,{hasParametersFromSource:ie,isOpaque:se},J,u,_);s.meta=re,this._hasTextures||=t.requiredTextures?.some((({usage:e})=>0!==(e&_i3s_enums_js__WEBPACK_IMPORTED_MODULE_59__.TextureUsage.ColorTextures)))||!!e.resources.texture,this._hasData=!0,this._hasColors||=I,this.notifyChange("hasTexturesOrVertexColors");const oe=this.slicePlaneEnabled;return Promise.all([this._addOrUpdateEdgeRendering(re),te]).then((([t,s])=>(this._addTasks.has(e.index)&&t?.updateObjectVisibility(re.objectHandle,!1).catch((e=>this._logEdgeViewError(e,this.i3slayer.title))),this._safeReschedule((()=>{const i=this._addTasks.get(e.index);if(!i)return;if(this._addNodeMeta(e.index,re),i.meta=null,!this.contentVisible)return void this._removeNodeStageData(e.index,this.elevationOffset);m.setObjectVisibility(X,!0),t?.updateObjectVisibility(re.objectHandle,!0).catch((e=>this._logEdgeViewError(e,this.i3slayer.title))),re.attributeInfo=i.attributeInfo;const s=re.cachedRendererVersion!==this._rendererVersion,r=oe!==this.slicePlaneEnabled;this._updateElevationOffsets(re);const o=re.elevationOffsets;this._updateComponentData(re);const a=this._applyFiltersToNode(re);(s||null!=t&&(r||a||o))&&this._addOrUpdateEdgeRendering(re),null!=this._labeler&&this._addMetaToLabeler(this._labeler,re),this._visibleGeometryChanged(re,Ht.ADD),this._highlights.objectCreated(re),this._updateMaterial(re),this._setNewNodeOpacity(re),null!=this._treeDebugger&&this._treeDebugger.update()}),i)))).catch((e=>{const{meta:t,allowMemCache:i}=s;throw s.meta=null,t&&i?this._cacheGPUData(t):t&&this._deleteComponentObject(t),e}))}_addNodeMeta(e,t){if(this._removeNodeStageData(e,this.elevationOffset,this._nodeId2MetaReloading),this._nodeId2Meta.has(e)){_core_Logger_js__WEBPACK_IMPORTED_MODULE_6__["default"].getLogger(this).error("Removing duplicated node");const t=this._nodeId2Meta.get(e);t&&(this._deleteComponentObject(t),this._updateFeatureIdCounts(t,-1))}else this._controller.updateLoadStatus(e,!0);t&&(t.lodCrossfadeProgress=null,this.nodeCrossfadingEnabled&&Yt(t.cachedEdgeMaterials,0),this._updateFeatureIdCounts(t,1)),this._nodeId2Meta.set(e,t),this.notifyChange("elevationRange")}_updateElevationOffsets(e){const t=this.view.renderSpatialReference,i=this._controller.crsIndex,s=this.elevationInfo,r=this.view.basemapTerrain,o=r.spatialReference,a=s.mode;if(null==t||null==o||a===_II3SMeshView3D_js__WEBPACK_IMPORTED_MODULE_55__.ElevationMode.Absolute)return void(e.elevationOffsets=null);const n=this._collection.getObjectTransform(e.objectHandle);e.elevationOffsets=e.elevationOffsets??[];const l=Zt,d=ei,h=a===_II3SMeshView3D_js__WEBPACK_IMPORTED_MODULE_55__.ElevationMode.OnTheGround,c=this.view.renderCoordsHelper,u=e.featureIds.length,_=(()=>{if(e.cachedElevationAnchors)return e.cachedElevationAnchors;const s=(0,_geometry_support_DoubleArray_js__WEBPACK_IMPORTED_MODULE_35__.newDoubleArray)(3*u);e.cachedElevationAnchors=s;for(let r=0;r<u;r++){const a=3*r,h=e.anchorIds?.indexOf(r)??-1;e.anchors&&h>=0?((0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_22__.i)(l,e.anchors[3*h],e.anchors[3*h+1],e.anchors[3*h+2]),(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_22__.f)(l,l,(0,_chunks_sphere_js__WEBPACK_IMPORTED_MODULE_38__.a)(e.node.serviceMbsInIndexSR)),(0,_geometry_projection_projectVectorToVector_js__WEBPACK_IMPORTED_MODULE_32__.projectVectorToVector)(l,i,l,o),s[a]=l[0],s[a+1]=l[1],s[a+2]=c.getAltitude(l)):(this._collection.getComponentAabb(e.objectHandle,r,d,!0),(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_22__.i)(l,(d[0]+d[3])/2,(d[1]+d[4])/2,d[2]),(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_22__.o)(l,l,n.rotationScale),(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_22__.f)(l,l,n.position),s[a+2]=c.getAltitude(l),(0,_geometry_projection_projectVectorToVector_js__WEBPACK_IMPORTED_MODULE_32__.projectVectorToVector)(l,t,l,o),s[a]=l[0],s[a+1]=l[1])}return s})(),m=s.offset,g=e.elevationOffsets,f=(e,t)=>{const i=h?_[3*e+2]:0;g[e]=m+(t??0)-i};r.getElevations(_,u,f)}_ensureElevationTask(){return null!=this._elevationTask||(this._elevationTask=new _i3s_I3SAsyncElevationUpdater_js__WEBPACK_IMPORTED_MODULE_61__.I3SAsyncElevationUpdater(this.view.resourceController.scheduler,(e=>this._controller.updateElevationChanged(e,this.view.basemapTerrain.spatialReference)?.filterInPlace((e=>null!=this._nodeId2Meta.get(e)))),(e=>this._nodeElevationAlignmentChanged(this._nodeId2Meta.get(e))),(()=>this.elevationInfo?.mode))),this._elevationTask}_elevationInfoChanged(e,t){const i=e.mode!==_II3SMeshView3D_js__WEBPACK_IMPORTED_MODULE_55__.ElevationMode.Absolute,s=!!t&&t!==e&&t.mode!==_II3SMeshView3D_js__WEBPACK_IMPORTED_MODULE_55__.ElevationMode.Absolute;this._intersectionHandler.updateElevationAlignState(i,this.view.state.viewingMode),i&&!s&&this._controller.removeAllGeometryObbs(),this._nodeId2Meta.forEach((e=>this._nodeElevationAlignmentChanged(e)))}_nodeElevationAlignmentChanged(e){null!=e&&(this._updateElevationOffsets(e),this._updateComponentData(e),this._updateEdgeRendering(e),null!=this._labeler&&this._labeler.updateLabelPositions(e),this._updateSnappingSources(e,Ht.UPDATE),this._elevationProvider.objectChanged(this._collection.getComponentObb(e.objectHandle)))}_safeReschedule(e,t){return (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_10__.throwIfAborted)(t),this._controller.reschedule(e,t)}_materialParameters(e,t){const i=null!=e.params.material?e.params.material:(0,_i3s_I3SMaterialUtil_js__WEBPACK_IMPORTED_MODULE_66__.defaultMaterial)(),s=t.some((e=>"uvRegion"===e.name)),r=t.some((e=>"normalCompressed"===e.name)),o=Wt(i);return{geometryParameters:this._getGeometryParameters({hasTexture:o,hasNormals:r,hasRegions:s}),material:i}}_initMaterialAndTextures(e,t,i,s,r){const o=this._stage.renderView,a=e=>{this._gpuMemoryEstimate-=e,this._texMemoryEstimate-=e,r.memory-=e},n=i.map((e=>(0,_i3s_I3SMaterialUtil_js__WEBPACK_IMPORTED_MODULE_66__.createTexture)(e,t,s,o,this._compressionTracker,a)));this._stage.addTextures(n);let l=null;return this._collection.updateMaterial(e,(e=>{l=(0,_i3s_I3SMaterialUtil_js__WEBPACK_IMPORTED_MODULE_66__.configureMaterial)(e,t,n,i,this.view.stage.renderView.textures,{rendererTextureUsage:this.rendererTextureUsage,usePBR:this._usePBR,isIntegratedMesh:this._isIntegratedMesh,slicePlaneEnabled:this.slicePlaneEnabled,viewSpatialReference:this.view.spatialReference}),this._updateMaterialOverlay(e)})),{textures:n,texturePromise:l}}_getGeometryParameters(e){return new _webgl_engine_collections_Component_SourceGeometry_js__WEBPACK_IMPORTED_MODULE_86__.GeometryParameters(this._hasVertexColors,e.hasTexture?e.hasRegions?_webgl_engine_core_shaderLibrary_attributes_TextureCoordinateAttribute_glsl_js__WEBPACK_IMPORTED_MODULE_88__.TextureCoordinateType.Atlas:_webgl_engine_core_shaderLibrary_attributes_TextureCoordinateAttribute_glsl_js__WEBPACK_IMPORTED_MODULE_88__.TextureCoordinateType.Default:_webgl_engine_core_shaderLibrary_attributes_TextureCoordinateAttribute_glsl_js__WEBPACK_IMPORTED_MODULE_88__.TextureCoordinateType.None,e.hasNormals,this._shadeNormals,this._applySSAO)}_addData(e,t,i){let s=this._addTasks.get(e.index);if(s)s.attributeInfo=t;else{const r=(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_10__.createResolver)();s=new Xt(t,null,r.promise),this._addTasks.set(e.index,s),i().then(r.resolve,r.reject).then((()=>this._addTasks.delete(e.index))).catch((t=>{throw this._addTasks.delete(e.index),t}))}return s.promise}_clearAddTasks(){this._addTasks.forEach((e=>{null!=e.meta&&(this._cacheGPUData(e.meta),e.meta=null)})),this._addTasks.clear()}_clippingAreaChanged(){const e=this.view.renderSpatialReference,t=this.i3slayer.spatialReference,i=(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_34__.create)();this._renderClippingArea=(0,_support_extentUtils_js__WEBPACK_IMPORTED_MODULE_81__.toBoundingRect)(this.view.clippingArea,i,e)?i:null;const s=(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_34__.create)();this._layerClippingArea=(0,_support_extentUtils_js__WEBPACK_IMPORTED_MODULE_81__.toBoundingRect)(this.view.clippingArea,s,t)?s:null,this._filterChange(),this._controller&&this._controller.updateClippingArea(this.view.clippingArea),this._isIntegratedMesh&&this._modificationsChanged()}get hasGeometryFilter(){return!1}_geometryFilterChange(){const e=this.hasGeometryFilter;this._controller.geometryFilterChanged(e),this._applyFilters(e),this._assertFeatureIdNodeCounts(e)}_assertFeatureIdNodeCounts(e){e&&!this._featureIdCounts?(this._featureIdCounts=_i(this._nodeId2Meta.values()),this._filteredIdCounts=_i(this._nodeId2Meta.values(),ui.Filtered),this._weaklyRemovedIdCounts=_i(this._nodeId2Meta.values(),ui.WeaklyRemoved),this.addHandles((0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_11__.watch)((()=>this._controller.updating),(e=>{!e&&this._needFilterResolve&&(this.multiGeometryFilterResolve(),this._needFilterResolve=!1,this.notifyUpdate())}),{sync:!0}),"updateFinished")):!e&&this._featureIdCounts&&(this._featureIdCounts=null,this._filteredIdCounts=null,this._weaklyRemovedIdCounts=null,this._mismatchShow=null,this._mismatchHide=null,this.removeHandles("updateFinished"),this._needFilterResolve=!1,this.notifyUpdate())}_updateFeatureIdCounts(e,t){this._featureIdCounts&&(this._needFilterResolve=!0,ci(this._featureIdCounts,e.featureIds,t),ci(this._filteredIdCounts,e.filteredIds,t),ci(this._weaklyRemovedIdCounts,e.weaklyRemovedIds,t))}_updateFilteredIdCounts(e,t,i){this._filteredIdCounts&&(this._needFilterResolve=!0,ci(this._filteredIdCounts,t,-1),ci(this._filteredIdCounts,e.filteredIds,1),ci(this._weaklyRemovedIdCounts,i,-1),ci(this._weaklyRemovedIdCounts,e.weaklyRemovedIds,1))}_checkFeatureIdNodeCountInvariant(){const e=null!=this._featureIdCounts;if(this.hasGeometryFilter!==e&&_core_Logger_js__WEBPACK_IMPORTED_MODULE_6__["default"].getLogger(this).error("checkFeatureIdNodeCountInvariant()","LayerView should have feature id node counts if and only if it has a geometry filter",{layerView:this,hasNodeCounts:e}),!this._featureIdCounts||!this._filteredIdCounts)return;const t=_i(this._nodeId2Meta.values());(0,_core_MapUtils_js__WEBPACK_IMPORTED_MODULE_7__.equals)(this._featureIdCounts,t)||_core_Logger_js__WEBPACK_IMPORTED_MODULE_6__["default"].getLogger(this).error("checkFeatureIdNodeCountInvariant()","Incorrect _featureIdCounts",{layerView:this,counts:this._featureIdCounts,expected:t});const i=_i(this._nodeId2Meta.values(),ui.Filtered);(0,_core_MapUtils_js__WEBPACK_IMPORTED_MODULE_7__.equals)(this._filteredIdCounts,i)||_core_Logger_js__WEBPACK_IMPORTED_MODULE_6__["default"].getLogger(this).error("checkFeatureIdNodeCountInvariant()","Incorrect _filteredIdCounts",{layerView:this,counts:this._filteredIdCounts,expected:i});const s=_i(this._nodeId2Meta.values(),ui.WeaklyRemoved);(0,_core_MapUtils_js__WEBPACK_IMPORTED_MODULE_7__.equals)(this._weaklyRemovedIdCounts,s)||_core_Logger_js__WEBPACK_IMPORTED_MODULE_6__["default"].getLogger(this).error("checkFeatureIdNodeCountInvariant()","Incorrect _weaklyRemovedIdCounts",{layerView:this,counts:this._weaklyRemovedIdCounts,expected:i})}multiGeometryFilterResolve(){if(!this._featureIdCounts||!this._filteredIdCounts)return;let e=null,t=null;for(const[i,s]of this._filteredIdCounts){const r=this._featureIdCounts.get(i);if(r!==s){s+(this._weaklyRemovedIdCounts?.get(i)??0)===r?(e??=new Set,e.add(i)):(t??=new Set,t.add(i))}}(0,_core_SetUtils_js__WEBPACK_IMPORTED_MODULE_13__.equals)(e,this._mismatchShow)&&(0,_core_SetUtils_js__WEBPACK_IMPORTED_MODULE_13__.equals)(t,this._mismatchHide)||(this._mismatchShow=e,this._mismatchHide=t,this._nodeId2Meta.forEach((e=>{if(!e?.filteredIds)return;const t=hi(e,this._mismatchShow,this._mismatchHide);this._collection.setAllComponentVisibilities(e.objectHandle,t),this._visibleGeometryChanged(e,Ht.UPDATE)})))}_filterChange(){this._applyFilters(this.hasGeometryFilter)}_applyFilters(e){this._filters=this.getFilters(),e?this._controller&&this._controller.requestUpdate():this._nodeId2Meta.forEach((e=>{e&&this._applyFiltersToNode(e)&&(this._addOrUpdateEdgeRendering(e),this._visibleGeometryChanged(e,Ht.UPDATE))}))}getFilters(){const e=[],t=this._renderClippingArea;return null!=t&&e.push(((e,i)=>this._boundingRectFilter(e,i,t))),e}addSqlFilter(e,t,i){if(null!=t){const s=t.fieldNames;e.push(((e,r)=>this._sqlFilter(e,r,t,s,i)))}}_sqlFilter(e,t,i,s,r){const o={},a=this._createLayerGraphic(o),n=this.i3slayer.objectIdField,l=t.featureIds,d=t.attributeInfo?.attributeData;s.every((e=>e===n||null!=d?.[e]))&&(0,_i3s_I3SUtil_js__WEBPACK_IMPORTED_MODULE_70__.filterInPlace)(e,l,(e=>{o[n]=l[e];for(const i of s)i!==n&&(o[i]=d?(0,_i3s_I3SBinaryReader_js__WEBPACK_IMPORTED_MODULE_62__.getCachedAttributeValue)(d[i],e):null);try{return i.testFeature(a)}catch(t){return r(t),!1}}))}_boundingRectNodeTest(e,t){return (0,_geometry_projection_projectBoundingSphere_js__WEBPACK_IMPORTED_MODULE_29__.projectBoundingSphere)(e.node.serviceMbsInIndexSR,this._controller.crsIndex,qt,this.view.renderSpatialReference),(0,_i3s_I3SUtil_js__WEBPACK_IMPORTED_MODULE_70__.intersectBoundingRectWithMbs)(t,qt)}_boundingRectFeatureTest(e,t,i){return this._collection.getComponentAabb(e.objectHandle,t,Ut),(0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_33__.toRect)(Ut,kt),(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_34__.intersects)(i,kt)}_boundingRectFilter(e,t,i){const s=this._collection,r=this._boundingRectNodeTest(t,i);if(r===_i3s_I3SUtil_js__WEBPACK_IMPORTED_MODULE_70__.MbsIntersectResult.INSIDE)return;if(r===_i3s_I3SUtil_js__WEBPACK_IMPORTED_MODULE_70__.MbsIntersectResult.OUTSIDE)return void(e.length=0);const o=s.getComponentCount(t.objectHandle);if(o.invisible+o.visible!==t.featureIds.length)return;const a=this._transformClippingArea(Lt,i,t.objectHandle);(0,_i3s_I3SUtil_js__WEBPACK_IMPORTED_MODULE_70__.filterInPlace)(e,t.featureIds,(e=>this._boundingRectFeatureTest(t,e,a)))}_transformClippingArea(e,t,i){const s=this._collection.getObjectTransform(i),r=s.position,o=s.rotationScale;return e[0]=(t[0]-r[0])/o[0],e[1]=(t[1]-r[1])/o[4],e[2]=(t[2]-r[0])/o[0],e[3]=(t[3]-r[1])/o[4],e}async _addOrUpdateEdgeRendering(e,t=!0){const i=e.objectHandle,{hasEdges:s,perFeatureEdgeMaterials:r}=this._getFilteredEdgeMaterials(e);s&&!this._edgeView&&(this._edgeView=await this._stage.renderer.loadEdgeView());const o=this._edgeView;if(!o)return null;const a=o.hasObject(i);if(s){if(a){if(this.nodeCrossfadingEnabled){Yt(r,this.getNodeOpacity(e))}return o.updateAllComponentMaterials(i,r,this.slicePlaneEnabled,t).catch((e=>this._logEdgeViewError(e,this.i3slayer.title))),o.updateObjectVisibility(i,!0).catch((e=>this._logEdgeViewError(e,this.i3slayer.title))),o.updateAllVerticalOffsets(i,e.elevationOffsets).catch((e=>this._logEdgeViewError(e,this.i3slayer.title))),o}const s=await this._collection.addEdges(i,o,r,this.slicePlaneEnabled,e.elevationOffsets);return e.edgeMemoryUsage=s,e.node.memory+=s,o}return a&&(e.node.memory-=e.edgeMemoryUsage,e.edgeMemoryUsage=0,o.removeObject(i)),null}_applyFiltersToNode(e){const{filteredIds:t,weaklyRemovedIds:i}=e,s=this._applyFiltersToNodeComponents(e);return this._updateFilteredIdCounts(e,t,i),s&&this._labeler?.applyFilterChange(e),s}_applyFiltersToNodeComponents(e){const t=this._collection,i=t.getComponentCount(e.objectHandle),s=null!=e.filteredIds,r=0===i.invisible;if(t.setAllComponentVisibilities(e.objectHandle,"all"),0===this._filters.length)return e.filteredIds=null,!r;if(null!=e.filteredIds&&e.appliedFilters===this._filters||(e.weaklyRemovedIds=null,e.filteredIds=di(e,this._filters),e.appliedFilters=this._filters),s&&e.filteredIds===e.featureIds&&(!this._mismatchHide||e.filteredIds.every((e=>!this._mismatchHide?.has(e)))))return!r;const o=hi(e,this._mismatchShow,this._mismatchHide);return t.setAllComponentVisibilities(e.objectHandle,o),!0}_removeAllNodeDataFromStage(e=this.elevationOffset){this._nodeId2Meta.forEach(((t,i)=>this._removeNodeStageData(i,e))),this._nodeId2MetaReloading.forEach(((t,i)=>this._removeNodeStageData(i,e,this._nodeId2MetaReloading))),this._elevationTask=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_8__.destroyMaybe)(this._elevationTask)}removeNode(e){const t=this.elevationOffset;this._removeNodeStageData(e,t),this._removeNodeStageData(e,t,this._nodeId2MetaReloading),null!=this._elevationTask&&this._elevationTask.remove(e)}_removeNodeStageData(e,t,i=this._nodeId2Meta){i.has(e)&&this._controller.updateLoadStatus(e,!1);const s=i.get(e);null!=s?(this._collection.setObjectVisibility(s.objectHandle,!1),null!=this._edgeView&&this._edgeView.hasObject(s.objectHandle)&&this._edgeView.updateObjectVisibility(s.objectHandle,!1).catch((e=>this._logEdgeViewError(e,this.i3slayer.title))),this._visibleGeometryChanged(s,Ht.REMOVE),null!=this._labeler&&this._labeler.removeNodeMeta(s),i.delete(e),this._highlights.objectDeleted(s),i===this._nodeId2Meta?(this._updateFeatureIdCounts(s,-1),this._cacheGPUData(s,t),this.nodeCrossfadingEnabled&&this._crossfadeHelper.stopNodeFading(s)):this._deleteComponentObject(s),null!=this._treeDebugger&&this._treeDebugger.update()):i.delete(e)}_deleteComponentObject(e){if(null!=this._edgeView&&this._edgeView.removeObject(e.objectHandle),this._memEstimateGeometryRemoved(e.objectHandle),this._collection.destroyObject(e.objectHandle),e.textures)for(const t of e.textures)this._memEstimateTextureRemoved(t),this._stage.removeTexture(t)}updateNodeState(e,t){const i=this._nodeId2Meta.get(e);null!=i&&this._collection.updateMaterial(i.objectHandle,(e=>e.polygonOffsetEnabled=t===_i3s_I3SNode_js__WEBPACK_IMPORTED_MODULE_67__.NodeState.Hole))}updateNodeIndex(e,t){if(this._nodeId2Meta.has(e)){const i=this._nodeId2Meta.get(e);this._nodeId2Meta.delete(e),this._nodeId2Meta.set(t,i),this.notifyChange("elevationRange")}const i=this._nodeId2MetaReloading.get(e);i&&(this._nodeId2MetaReloading.delete(e),this._nodeId2MetaReloading.set(t,i))}_invalidateAllSymbols(){this._rendererVersion=(0,_i3s_I3SUtil_js__WEBPACK_IMPORTED_MODULE_70__.addWraparound)(this._rendererVersion,1),this._controller?.requestUpdate()}_getInvalidRendererVersion(){return (0,_i3s_I3SUtil_js__WEBPACK_IMPORTED_MODULE_70__.addWraparound)(this._rendererVersion,-1)}async _rendererChange(e){if(this._currentRenderer=e,this.notifyChange("rendererTextureUsage"),this._rendererVersion=(0,_i3s_I3SUtil_js__WEBPACK_IMPORTED_MODULE_70__.addWraparound)(this._rendererVersion,1),this._rendererFields=null,this._colorVariable=null,this._opacityVariable=null,this._invalidateAllSymbols(),e&&(this._rendererFields=await e.getRequiredFields(this.i3slayer.fieldsIndex)),this._updateSymbologyFields(),!this._arcade&&e&&"arcadeRequired"in e&&e.arcadeRequired&&(this._arcade=await (0,_support_loadArcade_js__WEBPACK_IMPORTED_MODULE_48__.loadArcade)()),e&&"visualVariables"in e&&e.visualVariables)for(const t of e.visualVariables)"color"===t.type?this._colorVariable=t:"opacity"===t.type?this._opacityVariable=t:_core_Logger_js__WEBPACK_IMPORTED_MODULE_6__["default"].getLogger(this).warn(`Unsupported visual variable type for 3D Object Scene Services: ${t.type}`);if(e)for(const t of e.symbols)"mesh-3d"!==t.type&&_core_Logger_js__WEBPACK_IMPORTED_MODULE_6__["default"].getLogger(this).error(`Symbols of type '${t.type}' are not supported for 3D Object Scene Services.`);this._controller&&this._controller.requestUpdate()}_getCachedEdgeMaterials(e){return this._hasComponentData&&e.cachedRendererVersion!==this._rendererVersion&&this._updateCachedRendererData(e),e.cachedEdgeMaterials}_getComponentParameters(e){this._hasComponentData&&e.cachedRendererVersion!==this._rendererVersion&&this._updateCachedRendererData(e);const t=e.cachedSymbology;return(i,s)=>{const r=5*i;(0,_chunks_vec42_js__WEBPACK_IMPORTED_MODULE_24__.s)(s.externalColor,t[r]/255,t[r+1]/255,t[r+2]/255,t[r+3]/255);const o=this._stage.renderView.olidRenderHelper;if(o){const t=e.featureIds[i],r=this.sublayerId?`${this.layerViewUid}_${this.sublayerId}`:this.layerViewUid,a=(0,_support_basemapUtils_js__WEBPACK_IMPORTED_MODULE_45__.isBasemapLayerView)(this.view,this.uid);o.setUidToObjectAndLayerId(t,t,this.layerId,r,this.layerPopupEnabledAndHasTemplate&&!a,e.node.resources.attributes,i,this.sublayerId),s.objectAndLayerIdColor=o.getObjectAndLayerIdColor({graphicUid:t,layerViewUid:r})}s.externalColorMixMode=t[r+4]&(1<<Ft.CastShadows)-1,s.castShadows=!!(t[r+4]&1<<Ft.CastShadows),s.pickable=!!(t[r+4]&1<<Ft.Pickable),s.elevationOffset=e.elevationOffsets?.[i]??0}}_getSymbolInfo(e,t){const i=e?.getSymbol(t,{arcade:this._arcade});if(!(i instanceof _symbols_MeshSymbol3D_js__WEBPACK_IMPORTED_MODULE_49__["default"]))return null;const s=i.id;if(this._symbolInfos.has(s))return this._symbolInfos.get(s);const r=(0,_i3s_I3SUtil_js__WEBPACK_IMPORTED_MODULE_70__.getSymbolInfo)(i);return this._symbolInfos.set(s,r),r}_setSymbologyOverride(e,t){this._symbologyOverride!==e&&(this._symbologyOverride=e,this._symbologyOverrideFields=t,this._invalidateAllSymbols(),this._updateSymbologyFields())}_updateSymbologyFields(){this._symbologyFields=null!=this._symbologyOverrideFields&&this._symbologyOverrideFields.length>0?null!=this._rendererFields&&this._rendererFields.length>0?(0,_layers_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_42__.fixFields)(this.i3slayer.fieldsIndex,[...this._rendererFields,...this._symbologyOverrideFields]):this._symbologyOverrideFields:this._rendererFields}_updateCachedRendererData(e){if(e.cachedRendererVersion=this._rendererVersion,!this._hasComponentData)return;const t=this._tmpAttributeOnlyGraphic,i={};t.attributes=i;const s=this._currentRenderer,r=e.attributeInfo?.attributeData,o=e.featureIds?this.i3slayer.objectIdField:null,a=null!=r&&null!=this._symbologyFields&&this._symbologyFields.length>0;let n=null,l=null;if(a&&null!=this._symbologyFields){n=[],l=[];for(const e of this._symbologyFields){const t=r[e];t&&(n.push(e),l.push(t))}}e.cachedSymbology||(e.cachedSymbology=(0,_geometry_support_UByteArray_js__WEBPACK_IMPORTED_MODULE_39__.newUByteArray)(5*e.featureIds.length));const d=new _i3s_SymbologyInfo_js__WEBPACK_IMPORTED_MODULE_74__.SymbologyInfo,h=this.fullOpacity,c=this.nodeCrossfadingEnabled?this.getNodeOpacity(e):h;let u=null,_=_webgl_engine_lib_edgeRendering_interfaces_js__WEBPACK_IMPORTED_MODULE_90__.Transparency.OPAQUE,m=_i3s_I3SUtil_js__WEBPACK_IMPORTED_MODULE_70__.transparentEdgeMaterial,g=0;for(let f=0;f<e.featureIds.length;f++){if(null!=o&&(i[o]=e.featureIds[f]),a&&n)for(let e=0;e<n.length;e++)i[n[e]]=(0,_i3s_I3SBinaryReader_js__WEBPACK_IMPORTED_MODULE_62__.getCachedAttributeValue)(l[e],f);const r=s?this._getSymbolInfo(s,t):null;let h,p;if(d.pickable=!0,s&&"visualVariables"in s){if(this._colorVariable){const e=(0,_renderers_visualVariables_support_visualVariableUtils_js__WEBPACK_IMPORTED_MODULE_44__.getColor)(this._colorVariable,t,{color:Bt,arcade:this._arcade});e&&(h=d.color,h[0]=e.r/255,h[1]=e.g/255,h[2]=e.b/255,h[3]=e.a??1,this._opacityVariable||null===e.a||(p=e.a))}this._opacityVariable&&(p=(0,_renderers_visualVariables_support_visualVariableUtils_js__WEBPACK_IMPORTED_MODULE_44__.getOpacity)(this._opacityVariable,t,{arcade:this._arcade}))}if(r?.material){const e=r.material;h=null==h||null==p?(0,_graphics_graphicUtils_js__WEBPACK_IMPORTED_MODULE_57__.overrideColor)(h,p,e.color,e.alpha,Tt,d.color):(0,_graphics_graphicUtils_js__WEBPACK_IMPORTED_MODULE_57__.overrideColor)(h,p,null,null,Tt,d.color)}if(h??=(0,_chunks_vec42_js__WEBPACK_IMPORTED_MODULE_24__.s)(d.color,1,1,1,1),d.colorMixMode=r?.material?.colorMixMode??_support_symbolColorUtils_js__WEBPACK_IMPORTED_MODULE_78__.ColorMixModeEnum.Multiply,d.edgeMaterial=r?.edgeMaterial,this._symbologyOverride?.(t,d),null!=this._nodeColorOverride&&(this._nodeColorOverride(e.node,h),d.colorMixMode=_support_symbolColorUtils_js__WEBPACK_IMPORTED_MODULE_78__.ColorMixModeEnum.Replace),d.pickable&&=h[3]>=_webscene_support_AlphaCutoff_js__WEBPACK_IMPORTED_MODULE_93__.alphaCutoff,d.castShadows=r?r.castShadows:d.pickable,null!=d.edgeMaterial){const t=h[3]>=1&&(e.material.isOpaque||d.colorMixMode===_support_symbolColorUtils_js__WEBPACK_IMPORTED_MODULE_78__.ColorMixModeEnum.Replace)?_webgl_engine_lib_edgeRendering_interfaces_js__WEBPACK_IMPORTED_MODULE_90__.Transparency.OPAQUE:_webgl_engine_lib_edgeRendering_interfaces_js__WEBPACK_IMPORTED_MODULE_90__.Transparency.TRANSPARENT;d.edgeMaterial===u&&t===_||(m={...d.edgeMaterial,opacity:c,objectTransparency:t},u=d.edgeMaterial,_=t),e.cachedEdgeMaterials[f]=m}else e.cachedEdgeMaterials[f]=_i3s_I3SUtil_js__WEBPACK_IMPORTED_MODULE_70__.transparentEdgeMaterial;e.cachedSymbology[g++]=Math.round(255*h[0]),e.cachedSymbology[g++]=Math.round(255*h[1]),e.cachedSymbology[g++]=Math.round(255*h[2]),e.cachedSymbology[g++]=Math.round(255*h[3]),e.cachedSymbology[g++]=d.colorMixMode|+d.castShadows<<Ft.CastShadows|+d.pickable<<Ft.Pickable}}_getFilteredEdgeMaterials(e){const t=this._getCachedEdgeMaterials(e);this.nodeCrossfadingEnabled||Yt(t,this.fullOpacity);const i=e.filteredIds;if(null==i){return{hasEdges:t.some((e=>e!==_i3s_I3SUtil_js__WEBPACK_IMPORTED_MODULE_70__.transparentEdgeMaterial)),perFeatureEdgeMaterials:t}}let s=0,r=!1;const o=t.map(((t,o)=>e.featureIds[o]!==i[s]?_i3s_I3SUtil_js__WEBPACK_IMPORTED_MODULE_70__.transparentEdgeMaterial:(r=r||t!==_i3s_I3SUtil_js__WEBPACK_IMPORTED_MODULE_70__.transparentEdgeMaterial,s++,t)));return{hasEdges:r,perFeatureEdgeMaterials:o}}_updateComponentData(e){if(!this._hasComponentData)return;const t=e.objectHandle,i=this._getComponentParameters(e);this._collection.setComponentData(t,i),this._stage.renderView.requestRender()}_reloadAll(e=this.elevationOffset){this._removeAllNodeDataFromStage(e),null!=this._controller&&this._controller.restartNodeLoading()}_opacityChange(e){this.nodeCrossfadingEnabled&&this._crossfadeHelper.stopAllNodeFading(),this._nodeId2Meta.forEach((t=>{null!=t&&(this._collection.updateMaterial(t.objectHandle,(t=>t.objectOpacity=e)),Yt(t.cachedEdgeMaterials,e),this._updateEdgeRendering(t))}))}_updateMaterial(e){this._collection.updateMaterial(e.objectHandle,(e=>{e.commonMaterialParameters.hasSlicePlane=this.slicePlaneEnabled,e.usePBR=this._usePBR,this._updateMaterialOverlay(e)}))}_updateMaterialOverlay(e){}_updateEngineObject(e){this._updateComponentData(e),this._applyFiltersToNode(e),this._addOrUpdateEdgeRendering(e),this._visibleGeometryChanged(e,Ht.UPDATE)}_slicePlaneEnabledChange(e){this._intersectionHandler&&(this._intersectionHandler.slicePlaneEnabled=e),null!=this._labeler&&(this._labeler.slicePlaneEnabled=e),this._nodeId2Meta.forEach((t=>{null!=t&&(this._collection.updateMaterial(t.objectHandle,(t=>t.commonMaterialParameters.hasSlicePlane=e)),this._updateEdgeRendering(t,!1))}))}_updatePBR(e){this._nodeId2Meta.forEach((t=>{null!=t&&this._collection.updateMaterial(t.objectHandle,(t=>t.usePBR=e))})),this._hasLoadedPBRTextures=!0}get _usePBR(){return this._shadeNormals&&this.view.qualitySettings.physicallyBasedRenderingEnabled}_updateEdgeRendering(e,t=!0){null!=this._edgeView&&this._edgeView.hasObject(e.objectHandle)&&this._addOrUpdateEdgeRendering(e,t)}_forAllNodes(e){this._nodeId2Meta.forEach(e)}_ignoreClientNodeOverriddenFeatures(e){return this.i3sOverrides.hasGeometryChanges?(t,i,s)=>s.node.index>=0&&this.i3sOverrides.featureHasGeometryChanges(t)?_II3SMeshView3D_js__WEBPACK_IMPORTED_MODULE_55__.ForAllFeaturesReturnType.CONTINUE:e(t,i,s):e}_forAllFeatures(e,t,i){for(const s of this._nodeId2Meta.values()){if(null==s)continue;if(null!=t){switch(t(s.node.serviceMbsInIndexSR)){case _II3SMeshView3D_js__WEBPACK_IMPORTED_MODULE_55__.ForAllFeaturesReturnType.EXIT:return;case _II3SMeshView3D_js__WEBPACK_IMPORTED_MODULE_55__.ForAllFeaturesReturnType.SKIP:continue}}let r=_II3SMeshView3D_js__WEBPACK_IMPORTED_MODULE_55__.ForAllFeaturesReturnType.CONTINUE;switch(i){case _II3SMeshView3D_js__WEBPACK_IMPORTED_MODULE_55__.ForAllFeaturesMode.ALL:r=this._forAllFeaturesOfNode(s,e);break;case _II3SMeshView3D_js__WEBPACK_IMPORTED_MODULE_55__.ForAllFeaturesMode.VISIBLE_ONLY:r=this._forAllVisibleFeaturesOfNode(s,e);break;case _II3SMeshView3D_js__WEBPACK_IMPORTED_MODULE_55__.ForAllFeaturesMode.QUERYABLE:r=this._forAllQueryableFeaturesOfNode(s,e)}if(r===_II3SMeshView3D_js__WEBPACK_IMPORTED_MODULE_55__.ForAllFeaturesReturnType.EXIT)return}}_forAllFeaturesOfNode(e,t){let i=_II3SMeshView3D_js__WEBPACK_IMPORTED_MODULE_55__.ForAllFeaturesReturnType.CONTINUE;const s=e.featureIds;for(let r=0;r<s.length;r++)if(i=t(s[r],r,e),i===_II3SMeshView3D_js__WEBPACK_IMPORTED_MODULE_55__.ForAllFeaturesReturnType.EXIT)return i;return i}_forAllVisibleFeaturesOfNode(e,t){let i=_II3SMeshView3D_js__WEBPACK_IMPORTED_MODULE_55__.ForAllFeaturesReturnType.CONTINUE;const s=e.featureIds;return this._collection.forEachVisibleComponent(e.objectHandle,(r=>(i=t(s[r],r,e),i===_II3SMeshView3D_js__WEBPACK_IMPORTED_MODULE_55__.ForAllFeaturesReturnType.CONTINUE))),i}_forAllQueryableFeaturesOfNode(e,t){const i=this._ignoreClientNodeOverriddenFeatures(t);if(null==this._renderClippingArea)return this._forAllFeaturesOfNode(e,i);const s=this._boundingRectNodeTest(e,this._renderClippingArea);if(s===_i3s_I3SUtil_js__WEBPACK_IMPORTED_MODULE_70__.MbsIntersectResult.OUTSIDE)return _II3SMeshView3D_js__WEBPACK_IMPORTED_MODULE_55__.ForAllFeaturesReturnType.CONTINUE;if(s===_i3s_I3SUtil_js__WEBPACK_IMPORTED_MODULE_70__.MbsIntersectResult.INSIDE)return this._forAllFeaturesOfNode(e,i);const r=_II3SMeshView3D_js__WEBPACK_IMPORTED_MODULE_55__.ForAllFeaturesReturnType.CONTINUE,o=e.featureIds,a=e.objectHandle,n=(0,_i3s_I3SUtil_js__WEBPACK_IMPORTED_MODULE_70__.getClipRect)(this._renderClippingArea,this._collection.getObjectTransform(a));for(let l=0;l<o.length;l++){if(!this._boundingRectFeatureTest(e,l,n))continue;const t=i(o[l],l,e);if(t===_II3SMeshView3D_js__WEBPACK_IMPORTED_MODULE_55__.ForAllFeaturesReturnType.EXIT)return t}return r}_createAttributes(e,t){const i={};null!=t.featureIds&&(i[this._getObjectIdField()]=t.featureIds[e]);const s=t.attributeInfo?.attributeData;if(null!=s)for(const r of Object.keys(s))i[r]=(0,_i3s_I3SBinaryReader_js__WEBPACK_IMPORTED_MODULE_62__.getCachedAttributeValue)(s[r],e);return i}_createGraphic(e,t){return this._createLayerGraphic(this._createAttributes(e,t))}highlight(e,t){if((0,_support_guards_js__WEBPACK_IMPORTED_MODULE_47__.isQuery)(e))return _support_highlightUtils_js__WEBPACK_IMPORTED_MODULE_76__.emptyHighlightHandle;const s=(0,_support_highlightUtils_js__WEBPACK_IMPORTED_MODULE_76__.normalizeHighlightTargetExceptQuery)(e);if(0===s.length)return _support_highlightUtils_js__WEBPACK_IMPORTED_MODULE_76__.emptyHighlightHandle;const r=t?.name??_support_HighlightDefaults_js__WEBPACK_IMPORTED_MODULE_91__.defaultHighlightName,o=s[0]instanceof _Graphic_js__WEBPACK_IMPORTED_MODULE_2__["default"]?this._featureIdsFromGraphics(s):"number"==typeof s[0]?s:null;if(!o)return _support_highlightUtils_js__WEBPACK_IMPORTED_MODULE_76__.emptyHighlightHandle;const{set:a,handle:n}=this._highlights.acquireSet(r);return this._highlights.setFeatureIds(a,o),n}_featureIdsFromGraphics(e){const t=this.i3slayer.fieldsIndex,i=this._getObjectIdField();return e.map((e=>(0,_support_attributeUtils_js__WEBPACK_IMPORTED_MODULE_75__.attributeLookup)(t,e.attributes,i)))}resetHighlights(){(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_8__.destroyMaybe)(this._highlights),this._highlights=new _i3s_Highlights_js__WEBPACK_IMPORTED_MODULE_60__["default"]({collection:this._collection,forAllFeatures:e=>this._forAllFeatures(e,null,_II3SMeshView3D_js__WEBPACK_IMPORTED_MODULE_55__.ForAllFeaturesMode.ALL),forAllFeaturesOfNode:(e,t)=>this._forAllFeaturesOfNode(e,t)})}_visibleGeometryChanged(e,t){this._elevationProvider&&(null==this._visibleGeometryChangedSchedulerHandle&&(this._visibleGeometryChangedSchedulerHandle=(0,_core_scheduling_js__WEBPACK_IMPORTED_MODULE_12__.schedule)((()=>{const{node:t}=e,i=t.visibilityObbInRenderSR??t.geometryObbInRenderSR??t.serviceObbInRenderSR;if(null!=i){const e=(0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_33__.create)();i.toAaBoundingBox(e),this.emit("visible-geometry-changed",new _ContentGeometryLayerView_js__WEBPACK_IMPORTED_MODULE_51__.ContentGeometryUpdateEvent(e))}else this.emit("visible-geometry-changed");this._visibleGeometryChangedSchedulerHandle=null}))),this._updateSnappingSources(e,t),this._elevationProvider.objectChanged(this._collection.getComponentObb(e.objectHandle)))}get performanceInfo(){return new _I3SMeshViewPerformanceInfo_js__WEBPACK_IMPORTED_MODULE_53__.I3SMeshViewPerformanceInfo(this.usedMemory,this._nodeId2Meta.size,Math.round(this._gpuMemoryEstimate/1048576),Math.round(this._geoMemoryEstimate/1048576),Math.round(this._texMemoryEstimate/1048576),Math.round(this.unloadedMemory/1048576),this._idbCacheEnabled?Math.round(100*this._idbCache.getHitRate()):0)}checkInvariants(){}get test(){}getNodeOpacityByIndex(e){const t=this._nodeId2Meta.get(e);return this.getNodeOpacity(t)}getNodeOpacity(e){return null!=e?this._collection.getMaterial(e.objectHandle).objectOpacity:0}isNodeFullyFadedIn(e){return this._crossfadeHelper.isNodeFullyFadedIn(e)}getNodeCrossfadeMetaData(e){return this._nodeId2Meta.get(e)}getNodeComponentHandle(e){return this._nodeId2Meta.get(e)?.objectHandle}markNodeToRemove(e){this._controller&&this._controller.markNodeToRemove(e)}removeMarkedNodes(){this._controller&&this._controller.removeMarkedNodes()}foreachCrossfadeNode(e){this._nodeId2Meta.forEach(e)}fadeNode(e,t,i){if(!this.nodeCrossfadingEnabled)return;const s=this._nodeId2Meta.get(e);null!=s&&this._crossfadeHelper.fadeNode(e,s,t,i)}setNodeOpacityByIndex(e,t){const i=this._nodeId2Meta.get(e);null!=i&&this._setNodeOpacity(i,t)}_setNodeOpacity(e,t){this._collection.updateMaterial(e.objectHandle,(e=>e.objectOpacity=t)),this._setNodeEdgeOpacity(e,t)}_setNodeEdgeOpacity(e,t){if(null==this._edgeView||!e.cachedEdgeMaterials)return;Yt(e.cachedEdgeMaterials,t);const i=e.objectHandle;this._edgeView.hasObject(i)&&this._edgeView.updateAllComponentOpacities(i,t).catch((e=>this._logEdgeViewError(e,this.i3slayer.title)))}get hasModifications(){return this._isIntegratedMesh&&null!=this._layerClippingArea||this._modifications&&this._modifications.length>0}updateNodeModificationStatus(e){const t=e.length;if(!this.hasModifications||t<=0||!0!==this._i3sWasmLoaded)return;const i=this.uid,s=Qt(e);if(s){const t={context:i,buffer:s.buffer};(0,_SceneLayerWorker_js__WEBPACK_IMPORTED_MODULE_56__.filterObbsForModificationsSync)(t);const r=new Float64Array(s.buffer);e.forAll(((e,t)=>{const i=r[t],s=(0,_SceneLayerWorker_js__WEBPACK_IMPORTED_MODULE_56__.interpretObbModificationResults)(i);e.imModificationImpact=s,s!==_i3s_I3SNode_js__WEBPACK_IMPORTED_MODULE_67__.NodeIMModificationImpact.Unmodified&&this._controller.invalidateGeometryVisibility(e.index)}))}}notifyUpdate(){this.notifyChange("updating")}notifyLODUpdate(){this._controller.notifyLODUpdate()}isUpdating(){return!(!this._controller||!this._controller.updating)||!!this._visibleGeometryChangedSchedulerHandle||null!=this._labeler&&this._labeler.updating||this._crossfadeHelper?.updating||this._i3sWasmLoaded instanceof Promise||this._asyncModuleLoading>0||null!=this._elevationTask&&this._elevationTask.running||this._needFilterResolve||this._compressionTracker.compressing}trackSnappingSources(e){const t={events:e,fetchEdgeLocations:async(e,t,i)=>{const s=this._nodeId2Meta.get(e);if(null==s)throw new Error("invalid-node");const{origin:r,buffer:o}=await this._collection.extractEdgeInformation(s.objectHandle,t,i);return this._snappingLocationsApplyElevation(s,o,r),{type:"components",objectIds:s.featureIds,locations:o,origin:r}},remove:()=>(0,_core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_3__.removeUnordered)(this._snappingSourcesTrackers,t)};return this._snappingSourcesTrackers.push(t),this._nodeId2Meta.forEach(((t,i)=>{if(null==t)return;const s=this._controller.getRenderMbs(t.node);s&&e.add(i,s)})),t}_snappingLocationsApplyElevation(e,t,i){if(!e.elevationOffsets||this.elevationInfo.mode===_II3SMeshView3D_js__WEBPACK_IMPORTED_MODULE_55__.ElevationMode.Absolute)return;const s=t.position0,r=t.position1,o=t.componentIndex,a=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_23__.create)(),n=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_23__.create)(),l=(e,t)=>{(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_22__.f)(e,e,i),this.view.renderCoordsHelper.worldUpAtPosition(e,n),(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_22__.f)(e,e,(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_22__.g)(n,n,t)),(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_22__.d)(e,e,i)};for(let d=0;d<s.count;d++){const t=e.elevationOffsets[o.get(d)];s.getVec(d,a),l(a,t),s.setVec(d,a),r.getVec(d,a),l(a,t),r.setVec(d,a)}}_updateSnappingSources(e,t){const{index:i}=e.node,s=this._controller.getRenderMbs(e.node);if(null!=s)for(const r of this._snappingSourcesTrackers)t!==Ht.REMOVE&&t!==Ht.UPDATE||r.events.remove(i),t!==Ht.ADD&&t!==Ht.UPDATE||r.events.add(i,s)}_logEdgeViewError(e,t){(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_10__.isAbortError)(e)||_core_Logger_js__WEBPACK_IMPORTED_MODULE_6__["default"].getLogger(this).warn("Error while processing edges. Edges on this layer might not display correctly",t,e)}_indexedDbSizeCheck(e,t){return t.byteSize>Nt?(_core_Logger_js__WEBPACK_IMPORTED_MODULE_6__["default"].getLogger(this).warn(`Node is too big to store in IndexedDB cache: ${e.id} (${t.byteSize} bytes)`),!1):t.byteSize>0}};return (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_15__.property)()],o.prototype,"_hasLoadedPBRTextures",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_15__.property)()],o.prototype,"_asyncModuleLoading",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_15__.property)()],o.prototype,"_visibleGeometryChangedSchedulerHandle",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_15__.property)()],o.prototype,"view",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_15__.property)()],o.prototype,"i3slayer",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_15__.property)()],o.prototype,"_controller",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_15__.property)()],o.prototype,"_labeler",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_15__.property)()],o.prototype,"updating",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_15__.property)()],o.prototype,"suspended",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_15__.property)()],o.prototype,"contentVisible",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_15__.property)({readOnly:!0})],o.prototype,"legendEnabled",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_15__.property)(_support_updatingProperties_js__WEBPACK_IMPORTED_MODULE_83__.updatingProgress)],o.prototype,"updatingProgress",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_15__.property)()],o.prototype,"updatingProgressValue",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_15__.property)()],o.prototype,"hasTexturesOrVertexColors",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_15__.property)()],o.prototype,"rendererTextureUsage",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_15__.property)()],o.prototype,"elevationOffset",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_15__.property)()],o.prototype,"elevationInfo",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_15__.property)({type:Boolean})],o.prototype,"slicePlaneEnabled",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_15__.property)()],o.prototype,"supportedTextureEncodings",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_15__.property)({type:[_layers_support_SceneModification_js__WEBPACK_IMPORTED_MODULE_43__["default"]]})],o.prototype,"_modifications",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_15__.property)({readOnly:!0})],o.prototype,"clientGeometry",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_15__.property)()],o.prototype,"elevationRange",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_15__.property)()],o.prototype,"fullExtent",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_15__.property)()],o.prototype,"_elevationTask",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_15__.property)({readOnly:!0})],o.prototype,"_usePBR",null),o=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_16__.subclass)("esri.views.3d.layers.I3SMeshView3D")],o),o};var Ht;!function(e){e[e.ADD=0]="ADD",e[e.REMOVE=1]="REMOVE",e[e.UPDATE=2]="UPDATE"}(Ht||(Ht={}));const Ut=(0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_33__.create)(),kt=(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_34__.create)(),Lt=(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_34__.create)(),Gt=new _support_orientedBoundingBox_js__WEBPACK_IMPORTED_MODULE_82__.Obb,Bt=new _Color_js__WEBPACK_IMPORTED_MODULE_1__["default"]([0,0,0,0]),qt=(0,_chunks_sphere_js__WEBPACK_IMPORTED_MODULE_38__.f)(0,0,0,0);function Wt(e){if(null==e)return!1;const t=e.metallicRoughness;return t&&t.baseColorTextureId>=0||t&&t.metallicRoughnessTextureId>=0||e.normalTextureId>=0||e.emissiveTextureId>=0||e.occlusionTextureId>=0}function zt(e){return"geometryData"in e}function Kt(e){return null!=e&&(0,_core_typedArrayUtil_js__WEBPACK_IMPORTED_MODULE_14__.isArrayBuffer)(e.data)}function $t(e,t){let i=1024+e.interleavedVertexData.byteLength+(e.indices?e.indices.byteLength:0)+e.positionData.data.byteLength+e.positionData.indices.byteLength;if(null!=t)for(const s of t)null!=s&&(0,_core_typedArrayUtil_js__WEBPACK_IMPORTED_MODULE_14__.isArrayBuffer)(s.data)&&(i+=s.data.byteLength);return i}function Qt(e){if(0===e.length)return;const t=10*e.length,i=new Float64Array(t);let s=0;return e.forAll((e=>{let t=e.serviceObbInIndexSR;null==t&&(t=Gt,t.center=(0,_chunks_sphere_js__WEBPACK_IMPORTED_MODULE_38__.a)(e.serviceMbsInIndexSR),t.halfSize=[e.serviceMbsInIndexSR[3],e.serviceMbsInIndexSR[3],e.serviceMbsInIndexSR[3]]);const r=t.data;i[s++]=r[0],i[s++]=r[1],i[s++]=r[2],i[s++]=r[3],i[s++]=r[4],i[s++]=r[5],i[s++]=r[6],i[s++]=r[7],i[s++]=r[8],i[s++]=r[9]})),i}class Xt{constructor(e,t,i){this.attributeInfo=e,this.meta=t,this.promise=i,this.allowMemCache=!0}}function Yt(e,t){e.forEach((e=>e.opacity=t))}class Jt{constructor(e,t){this.mode=e,this.offset=t}}const Zt=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_23__.create)(),ei=(0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_33__.create)(),ti="elevation-change",ii="",si="@null",ri="@ECEF",oi=[[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0]],ai=new _support_ElevationRange_js__WEBPACK_IMPORTED_MODULE_80__.ElevationRange;function ni(e,t,i){let s=e.elevationRangeMin,r=e.elevationRangeMax;const o=i;if(o>0){t.getCorners(oi);for(const e of oi){const t=(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_22__.H)(e)-o;s=Math.min(s,t),r=Math.max(r,t)}}else{t.getCorners(oi);for(const e of oi){const t=e[2];s=Math.min(s,t),r=Math.max(r,t)}}e.expandElevationRangeValues(s,r)}function li(e,t,i){const s=(0,_chunks_sphere_js__WEBPACK_IMPORTED_MODULE_38__.a)(t),r=i>0?(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_22__.H)(s)-i:s[2],o=(0,_chunks_sphere_js__WEBPACK_IMPORTED_MODULE_38__.g)(t);e.expandElevationRangeValues(r-o,r+o)}function di(e,t){const i=e.featureIds.slice();for(const s of t)if(s(i,e),0===i.length)break;return i.length===e.featureIds.length?e.featureIds:i}function hi(e,t,i){const s=new Array,r=e.filteredIds;if(null==r||t?.size||i?.size){if(null!=r){let o=0;e.featureIds.forEach(((e,a)=>{if(r[o]===e)++o;else if(!t?.has(e))return;i?.has(e)||s.push(a)}))}}else e.featureIds.forEach(((e,t)=>{r[s.length]===e&&s.push(t)}));return s}function ci(e,t,i){if(e&&t)for(const s of t){const t=(e.get(s)??0)+i;t>0?e.set(s,t):e.delete(s)}}var ui;function _i(e,t=ui.All){const i=new Map;for(const s of e){ci(i,t===ui.All?s?.featureIds:t===ui.Filtered?s?.filteredIds:s?.weaklyRemovedIds,1)}return i}!function(e){e[e.All=0]="All",e[e.Filtered=1]="Filtered",e[e.WeaklyRemoved=2]="WeaklyRemoved"}(ui||(ui={}));


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/I3SMeshViewLabeler.js":
/*!*************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/I3SMeshViewLabeler.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ D)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/Accessor.js */ "./node_modules/@arcgis/core/core/Accessor.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_lang_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../core/lang.js */ "./node_modules/@arcgis/core/core/lang.js");
/* harmony import */ var _core_mathUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../core/mathUtils.js */ "./node_modules/@arcgis/core/core/mathUtils.js");
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../core/maybe.js */ "./node_modules/@arcgis/core/core/maybe.js");
/* harmony import */ var _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../core/reactiveUtils.js */ "./node_modules/@arcgis/core/core/reactiveUtils.js");
/* harmony import */ var _core_uid_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../core/uid.js */ "./node_modules/@arcgis/core/core/uid.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _core_accessorSupport_diffUtils_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../core/accessorSupport/diffUtils.js */ "./node_modules/@arcgis/core/core/accessorSupport/diffUtils.js");
/* harmony import */ var _geometry_projection_projectBuffer_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../geometry/projection/projectBuffer.js */ "./node_modules/@arcgis/core/geometry/projection/projectBuffer.js");
/* harmony import */ var _geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../geometry/support/aaBoundingBox.js */ "./node_modules/@arcgis/core/geometry/support/aaBoundingBox.js");
/* harmony import */ var _geometry_support_DoubleArray_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../geometry/support/DoubleArray.js */ "./node_modules/@arcgis/core/geometry/support/DoubleArray.js");
/* harmony import */ var _layers_graphics_dehydratedPoint_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../../layers/graphics/dehydratedPoint.js */ "./node_modules/@arcgis/core/layers/graphics/dehydratedPoint.js");
/* harmony import */ var _renderers_support_RenderingInfo_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../../renderers/support/RenderingInfo.js */ "./node_modules/@arcgis/core/renderers/support/RenderingInfo.js");
/* harmony import */ var _symbols_PointSymbol3D_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../../symbols/PointSymbol3D.js */ "./node_modules/@arcgis/core/symbols/PointSymbol3D.js");
/* harmony import */ var _graphics_Graphics3DCore_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./graphics/Graphics3DCore.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DCore.js");
/* harmony import */ var _graphics_Graphics3DScaleVisibility_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./graphics/Graphics3DScaleVisibility.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DScaleVisibility.js");
/* harmony import */ var _i3s_I3SGeometryUtil_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./i3s/I3SGeometryUtil.js */ "./node_modules/@arcgis/core/views/3d/layers/i3s/I3SGeometryUtil.js");
/* harmony import */ var _support_LimitGraphicsMap_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../support/LimitGraphicsMap.js */ "./node_modules/@arcgis/core/views/3d/support/LimitGraphicsMap.js");
/* harmony import */ var _webgl_engine_lib_UpdatePolicy_js__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../webgl-engine/lib/UpdatePolicy.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/UpdatePolicy.js");
/* harmony import */ var _support_layerViewUtils_js__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ../../support/layerViewUtils.js */ "./node_modules/@arcgis/core/views/support/layerViewUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
class w{constructor(e,t){this.meta=e,this.index=t}}class G{constructor(e,t){this.graphic=e,this.geometry=t,this.components=[],this.overridesDirty=!1}}let D=class extends _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__["default"]{get updating(){return this._graphicsCore?.updating??!1}constructor(e){super(e),this.loadedGraphics=new _support_LimitGraphicsMap_js__WEBPACK_IMPORTED_MODULE_22__.LimitGraphicsMap(5e4),this.slicePlaneEnabled=!1,this._renderingInfo=new _renderers_support_RenderingInfo_js__WEBPACK_IMPORTED_MODULE_17__.RenderingInfo(null,new _symbols_PointSymbol3D_js__WEBPACK_IMPORTED_MODULE_18__["default"]),this._featuresMap=new Map}initialize(){const e=this.view.basemapTerrain;this._graphicsCore=new _graphics_Graphics3DCore_js__WEBPACK_IMPORTED_MODULE_19__.Graphics3DCore({owner:this,layer:this.layer,preferredUpdatePolicy:_webgl_engine_lib_UpdatePolicy_js__WEBPACK_IMPORTED_MODULE_23__.UpdatePolicy.ASYNC,elevationFeatureExpressionEnabled:!1,graphicSymbolSupported:!1,getRenderingInfoWithoutRenderer:!0,hasZ:!0,hasM:!1,componentFactories:{deconflictor:e=>this.view.deconflictor.addGraphicsOwner(e),labeler:(e,t)=>this.view.labeler.addGraphicsOwner(e,t,{emptySymbolLabelSupported:!0,elevationInfoOverride:{mode:"absolute-height",offset:0},disablePlacement:{logEntityDescription:"3D Object Scene Layer features"}}),scaleVisibility:(0,_support_layerViewUtils_js__WEBPACK_IMPORTED_MODULE_24__.hasLayerBasedScaleVisibility)()?null:(t,r)=>new _graphics_Graphics3DScaleVisibility_js__WEBPACK_IMPORTED_MODULE_20__.Graphics3DScaleVisibility({graphicsCoreOwner:this,layer:this.layer,queryGraphicUIDsInExtent:r,graphicsCore:t,basemapTerrain:e,layerScaleEnabled:!1})}}),this._graphicsCore.initializePromise.then((()=>this._graphicsCore.startCreateGraphics())).catch((()=>{})),this.addHandles((0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_7__.watch)((()=>this.layer.labelingInfo),((e,t)=>{(0,_core_accessorSupport_diffUtils_js__WEBPACK_IMPORTED_MODULE_12__.diff)(e,t)&&this._graphicsCore.updateLabelingInfo()})))}destroy(){this._graphicsCore=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_6__.destroyMaybe)(this._graphicsCore),this.loadedGraphics=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_6__.destroyMaybe)(this.loadedGraphics),this.view=null}addNodeMeta(e,t){let r=0;const o=e.filteredIds,i=this.view.spatialReference,s=[];for(let a=0;a<e.featureIds.length;a++){const p=e.featureIds[a];let c=null==o;if(o&&r<o.length&&p===o[r]&&(c=!0,r++),!this._enabledForFeatureInNode(e,a))continue;const l=this._featuresMap.get(p);if(l){l.components.push(new w(e,a)),this._updateLabelPosition(p);continue}const h=t(a,e),d=(0,_layers_graphics_dehydratedPoint_js__WEBPACK_IMPORTED_MODULE_16__.makeDehydratedPoint)(0,0,0,i),u={objectId:p,uid:(0,_core_uid_js__WEBPACK_IMPORTED_MODULE_8__.generateUID)(),attributes:h,visible:c,geometry:d},m=new G(u,d);m.components.push(new w(e,a)),this._featuresMap.set(p,m),this._updateLabelGeometry(p),s.push(u)}this.loadedGraphics.addMany(s)}updateLabelPositions(e){const t=this.view.renderCoordsHelper;this._forEachGraphic(e,((r,o,i)=>{const s=this._graphicsCore.getGraphics3DGraphicById(o.uid);null!=s&&this._updateLabelGeometry(e.featureIds[r])&&s.alignWithAbsoluteElevation(i.z??0,t,!1)}))}setNodeMetaAttributes(e,t){const r=new Array;this._forEachGraphic(e,((i,s)=>{const a=t(i,e);(0,_core_lang_js__WEBPACK_IMPORTED_MODULE_4__.equalsShallow)(s.attributes,a)||(s.attributes=a,r.push(s.uid))})),this._graphicsCore.updateLabelingInfo(r)}applyFilterChange(e){this._forEachFeature(e,((t,r,o)=>{if(!this._enabledForFeatureInNode(e,t)){const o=e.featureIds[t];switch(this._removeFeature(r,e,t)){case F.REMOVED:this.loadedGraphics.removeManyByObjectId([o]);break;case F.MODIFIED:this._updateLabelPosition(o)}return}const i=r.graphic,s=i.visible;s!==o&&(i.visible=o,C.graphic=i,C.property="visible",C.oldValue=s,C.newValue=o,this._graphicsCore.graphicUpdateHandler(C))}))}removeNodeMeta(e){const t=[];this._forEachGraphic(e,(r=>{const o=e.featureIds[r],i=this._featuresMap.get(o);if(!i)return;switch(this._removeFeature(i,e,r)){case F.MODIFIED:this._updateLabelPosition(o);break;case F.REMOVED:t.push(o)}})),this.loadedGraphics.removeManyByObjectId(t)}_removeFeature(e,t,o){const i=e.components.length;return (0,_core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_2__.filterInPlace)(e.components,(e=>!(e.meta===t&&e.index===o))),0===e.components.length?(this._featuresMap.delete(t.featureIds[o]),F.REMOVED):i!==e.components.length?F.MODIFIED:F.UNMODIFIED}getRenderingInfo(){return this._renderingInfo}notifyGraphicGeometryChanged(){}notifyGraphicVisibilityChanged(){}_updateLabelPosition(e){const t=this._featuresMap.get(e);t&&this._updateLabelGeometry(e)&&(this.loadedGraphics.removeManyByObjectId([e]),this.loadedGraphics.addMany([t.graphic]))}_updateLabelGeometry(e){const t=this._featuresMap.get(e);if(!t)return!1;const r=t.geometry,o=this.view.spatialReference,s=this.view.renderCoordsHelper,a=r.x,n=r.y,p=r.z??0,c=t.components.length,l=(0,_geometry_support_DoubleArray_js__WEBPACK_IMPORTED_MODULE_15__.newDoubleArray)(c*_i3s_I3SGeometryUtil_js__WEBPACK_IMPORTED_MODULE_21__.boundingBoxCornersPointsStride);let u=0;for(const{meta:i,index:h}of t.components)(0,_i3s_I3SGeometryUtil_js__WEBPACK_IMPORTED_MODULE_21__.boundingBoxCornerPoints)(h,this.collection,i.objectHandle,l,u),u+=_i3s_I3SGeometryUtil_js__WEBPACK_IMPORTED_MODULE_21__.boundingBoxCornersPointsStride;return (0,_geometry_projection_projectBuffer_js__WEBPACK_IMPORTED_MODULE_13__.projectBuffer)(l,s.spatialReference,0,l,o,0),(0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_14__.fromBuffer)(l,O),r.x=(O[0]+O[3])/2,r.y=(O[1]+O[4])/2,r.z=O[5],!(0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_5__.floatEqualUlp)(r.x,a)||!(0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_5__.floatEqualUlp)(r.y,n)||!(0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_5__.floatEqualUlp)(r.z,p)}_forEachGraphic(e,t){this._forEachFeature(e,((r,{graphic:o,geometry:i},s)=>{this._enabledForFeatureInNode(e,r)&&t(r,o,i,s)}))}_forEachFeature(e,t){let r=0;for(let o=0;o<e.featureIds.length;o++){const i=this._featuresMap.get(e.featureIds[o]);let s=null==e.filteredIds;e.filteredIds&&e.filteredIds[r]===e.featureIds[o]&&(s=!0,r++),i&&t(o,i,s)}}_enabledForFeatureInNode(e,t){return e.node.index<0||!this.overrides?.featureHasGeometryChanges(e.featureIds[t])}get updatePolicy(){return this._graphicsCore.effectiveUpdatePolicy}get usedMemory(){return this._graphicsCore.usedMemory}get unloadedMemoryEstimate(){return this._graphicsCore.unprocessedMemoryEstimate}get test(){}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)()],D.prototype,"view",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)()],D.prototype,"layer",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)()],D.prototype,"collection",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)()],D.prototype,"loadedGraphics",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)()],D.prototype,"overrides",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)()],D.prototype,"layerViewUid",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)()],D.prototype,"updating",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)()],D.prototype,"slicePlaneEnabled",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)()],D.prototype,"_graphicsCore",void 0),D=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_11__.subclass)("esri.views.3d.layers.I3SMeshViewLabeler")],D);const C={graphic:null,property:null,oldValue:null,newValue:null};var F;!function(e){e[e.UNMODIFIED=0]="UNMODIFIED",e[e.MODIFIED=1]="MODIFIED",e[e.REMOVED=2]="REMOVED"}(F||(F={}));const O=(0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_14__.create)();


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/I3SMeshViewPerformanceInfo.js":
/*!*********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/I3SMeshViewPerformanceInfo.js ***!
  \*********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   I3SMeshViewPerformanceInfo: () => (/* binding */ e)
/* harmony export */ });
/* harmony import */ var _support_LayerViewPerformanceInfo_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./support/LayerViewPerformanceInfo.js */ "./node_modules/@arcgis/core/views/3d/layers/support/LayerViewPerformanceInfo.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
class e extends _support_LayerViewPerformanceInfo_js__WEBPACK_IMPORTED_MODULE_0__.LayerViewPerformanceInfo{constructor(t,e,r,s,o,i,p){super(t,0,0,0,e),this.gpuMB=r,this.geometryMB=s,this.textureMB=o,this.unloadedMB=i,this.idbHitRate=p}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/II3SMeshView3D.js":
/*!*********************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/II3SMeshView3D.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ElevationMode: () => (/* binding */ E),
/* harmony export */   ForAllFeaturesMode: () => (/* binding */ n),
/* harmony export */   ForAllFeaturesReturnType: () => (/* binding */ o)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
var n,o,E;!function(n){n[n.VISIBLE_ONLY=0]="VISIBLE_ONLY",n[n.ALL=1]="ALL",n[n.QUERYABLE=2]="QUERYABLE"}(n||(n={})),function(n){n[n.EXIT=0]="EXIT",n[n.CONTINUE=1]="CONTINUE",n[n.SKIP=2]="SKIP"}(o||(o={})),function(n){n[n.Absolute=0]="Absolute",n[n.RelativeToGround=1]="RelativeToGround",n[n.OnTheGround=2]="OnTheGround"}(E||(E={}));


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/SceneLayerWorker.js":
/*!***********************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/SceneLayerWorker.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   destroyContext: () => (/* binding */ g),
/* harmony export */   dracoDecompressPointCloudData: () => (/* binding */ m),
/* harmony export */   filterObbsForModifications: () => (/* binding */ y),
/* harmony export */   filterObbsForModificationsSync: () => (/* binding */ S),
/* harmony export */   initialize: () => (/* binding */ P),
/* harmony export */   interpretObbModificationResults: () => (/* binding */ L),
/* harmony export */   process: () => (/* binding */ u),
/* harmony export */   project: () => (/* binding */ h),
/* harmony export */   setLegacySchema: () => (/* binding */ d),
/* harmony export */   setModifications: () => (/* binding */ p),
/* harmony export */   setModificationsSync: () => (/* binding */ j),
/* harmony export */   test: () => (/* binding */ M),
/* harmony export */   transformNormals: () => (/* binding */ b)
/* harmony export */ });
/* harmony import */ var _core_mathUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../core/mathUtils.js */ "./node_modules/@arcgis/core/core/mathUtils.js");
/* harmony import */ var _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../geometry/SpatialReference.js */ "./node_modules/@arcgis/core/geometry/SpatialReference.js");
/* harmony import */ var _geometry_support_MeshGeoreferencedVertexSpace_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../geometry/support/MeshGeoreferencedVertexSpace.js */ "./node_modules/@arcgis/core/geometry/support/MeshGeoreferencedVertexSpace.js");
/* harmony import */ var _geometry_support_MeshLocalVertexSpace_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../geometry/support/MeshLocalVertexSpace.js */ "./node_modules/@arcgis/core/geometry/support/MeshLocalVertexSpace.js");
/* harmony import */ var _chunks_vec3_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../chunks/vec3.js */ "./node_modules/@arcgis/core/chunks/vec3.js");
/* harmony import */ var _libs_i3s_enums_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../libs/i3s/enums.js */ "./node_modules/@arcgis/core/libs/i3s/enums.js");
/* harmony import */ var _libs_i3s_I3SModule_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../libs/i3s/I3SModule.js */ "./node_modules/@arcgis/core/libs/i3s/I3SModule.js");
/* harmony import */ var _I3SMeshWorkerHandle_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./I3SMeshWorkerHandle.js */ "./node_modules/@arcgis/core/views/3d/layers/I3SMeshWorkerHandle.js");
/* harmony import */ var _i3s_I3SNode_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./i3s/I3SNode.js */ "./node_modules/@arcgis/core/views/3d/layers/i3s/I3SNode.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
async function u(e){E=await U();const r=[e.geometryBuffer];return{result:A(E,e,r),transferList:r}}async function m(e){E=await U();const r=[e.geometryBuffer],{geometryBuffer:t}=e,o=t.byteLength,n=E._malloc(o),s=new Uint8Array(E.HEAPU8.buffer,n,o);s.set(new Uint8Array(t));const i=E.dracoDecompressPointCloudData(n,s.byteLength);if(E._free(n),i.error.length>0)throw new Error(`i3s.wasm: ${i.error}`);const a=i.featureIds?.length>0?i.featureIds.slice():null,f=i.positions.slice();return a&&r.push(a.buffer),r.push(f.buffer),{result:{positions:f,featureIds:a},transferList:r}}async function y(e){await U(),S(e);const r={buffer:e.buffer};return{result:r,transferList:[r.buffer]}}async function p(e){await U(),j(e)}async function d(e){E=await U(),E.setLegacySchema(e.context,e.jsonSchema)}async function h(e){const{localMatrix:n,origin:s,positions:i,vertexSpace:a}=e,f=_geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_1__["default"].fromJSON(e.inSpatialReference),c=_geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_1__["default"].fromJSON(e.outSpatialReference);let l;const[{projectBuffer:u},{initializeProjection:m}]=await Promise.all([Promise.resolve(/*! import() */).then(__webpack_require__.bind(__webpack_require__, /*! ../../../geometry/projection/projectBuffer.js */ "./node_modules/@arcgis/core/geometry/projection/projectBuffer.js")),Promise.resolve(/*! import() */).then(__webpack_require__.bind(__webpack_require__, /*! ../../../geometry/projectionUtils.js */ "./node_modules/@arcgis/core/geometry/projectionUtils.js"))]);await m(f,c);const y=[0,0,0];if(!u(s,f,0,y,c,0))throw new Error("Failed to project");if("georeferenced"===a.type&&null==a.origin){if(l=new Float64Array(i.length),!u(i,f,0,l,c,0,l.length/3))throw new Error("Failed to project")}else{const e="georeferenced"===a.type?_geometry_support_MeshGeoreferencedVertexSpace_js__WEBPACK_IMPORTED_MODULE_2__["default"].fromJSON(a):_geometry_support_MeshLocalVertexSpace_js__WEBPACK_IMPORTED_MODULE_3__["default"].fromJSON(a),{projectMeshVertexPositions:r}=await Promise.all(/*! import() */[__webpack_require__.e("vendors-node_modules_arcgis_core_geometry_support_meshUtils_vertexSpaceConversion_js"), __webpack_require__.e("node_modules_arcgis_core_geometry_support_meshUtils_projectMeshVertexPositions_js")]).then(__webpack_require__.bind(__webpack_require__, /*! ../../../geometry/support/meshUtils/projectMeshVertexPositions.js */ "./node_modules/@arcgis/core/geometry/support/meshUtils/projectMeshVertexPositions.js")),s=r({vertexAttributes:{position:i},transform:n?{localMatrix:n}:void 0,vertexSpace:e,spatialReference:f},c);if(!s)throw new Error("Failed to project");l=s}const p=l.length,[d,h,b]=y;for(let r=0;r<p;r+=3)l[r]-=d,l[r+1]-=h,l[r+2]-=b;return{result:{projected:l,original:i,projectedOrigin:y},transferList:[l.buffer,i.buffer]}}async function b({normalMatrix:r,normals:t}){const o=new Float32Array(t.length);return (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_4__.b)(o,t,r),(0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_0__.hasScaling)(r)&&(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_4__.n)(o,o),{result:{transformed:o,original:t},transferList:[o.buffer,t.buffer]}}function g(e){x(e)}let w,E;function j(e){if(!E)return;const r=e.modifications,t=E._malloc(8*r.length),o=new Float64Array(E.HEAPU8.buffer,t,r.length);for(let n=0;n<r.length;++n)o[n]=r[n];E.setModifications(e.context,t,r.length,e.isGeodetic),E._free(t)}function A(e,r,t){const{context:o,globalTrafo:n,mbs:s,obbData:a,elevationOffset:l,geometryBuffer:u,geometryDescriptor:m,indexToVertexProjector:y,vertexToRenderProjector:p}=r,d=e._malloc(u.byteLength),h=33,b=e._malloc(h*Float64Array.BYTES_PER_ELEMENT),g=new Uint8Array(e.HEAPU8.buffer,d,u.byteLength);g.set(new Uint8Array(u));const w=new Float64Array(e.HEAPU8.buffer,b,h);_(w,[NaN,NaN,NaN]);let E=w.byteOffset+3*w.BYTES_PER_ELEMENT,j=new Float64Array(w.buffer,E);_(j,n),E+=16*w.BYTES_PER_ELEMENT,j=new Float64Array(w.buffer,E),_(j,s),E+=4*w.BYTES_PER_ELEMENT,a&&(j=new Float64Array(w.buffer,E),_(j,a));const A=m,L={isDraco:!1,isLegacy:!1,color:r.layouts.some((e=>e.some((e=>"color"===e.name)))),normal:r.needNormals&&r.layouts.some((e=>e.some((e=>"normalCompressed"===e.name)))),uv0:r.layouts.some((e=>e.some((e=>"uv0"===e.name)))),uvRegion:r.layouts.some((e=>e.some((e=>"uvRegion"===e.name)))),featureIndex:A.featureIndex},S=e.process(o,!!r.obbData,d,g.byteLength,A,L,b,l,y,p,r.normalReferenceFrame);if(e._free(b),e._free(d),S.error.length>0)throw new Error(`i3s.wasm: ${S.error}`);if(S.discarded)return null;const x=S.componentOffsets.length>0?S.componentOffsets.slice():null,P=S.featureIds.length>0?S.featureIds.slice():null,U=S.anchorIds.length>0?Array.from(S.anchorIds):null,M=S.anchors.length>0?Array.from(S.anchors):null,N=S.interleavedVertedData.slice().buffer,I=S.indicesType===_libs_i3s_enums_js__WEBPACK_IMPORTED_MODULE_5__.IndexType.Int16?new Uint16Array(S.indices.buffer,S.indices.byteOffset,S.indices.byteLength/2).slice():new Uint32Array(S.indices.buffer,S.indices.byteOffset,S.indices.byteLength/4).slice(),F=S.positions.slice(),{buffer:T,byteOffset:B,byteLength:O}=S.positionIndices,R=S.positionIndicesType===_libs_i3s_enums_js__WEBPACK_IMPORTED_MODULE_5__.IndexType.Int16?new Uint16Array(T,B,O/2).slice():new Uint32Array(T,B,O/4).slice(),v=new _I3SMeshWorkerHandle_js__WEBPACK_IMPORTED_MODULE_7__.TransformedGeometry(r.layouts[0],N,I,S.hasColors,S.hasModifications,{data:F,indices:R});return P&&t.push(P.buffer),x&&t.push(x.buffer),t.push(N),t.push(I.buffer),t.push(F.buffer),t.push(R.buffer),new _I3SMeshWorkerHandle_js__WEBPACK_IMPORTED_MODULE_7__.TransformedData(x,P,U,M,v,n,S.obb)}function L(e){return 0===e?_i3s_I3SNode_js__WEBPACK_IMPORTED_MODULE_8__.NodeIMModificationImpact.Unmodified:1===e?_i3s_I3SNode_js__WEBPACK_IMPORTED_MODULE_8__.NodeIMModificationImpact.PotentiallyModified:2===e?_i3s_I3SNode_js__WEBPACK_IMPORTED_MODULE_8__.NodeIMModificationImpact.Culled:_i3s_I3SNode_js__WEBPACK_IMPORTED_MODULE_8__.NodeIMModificationImpact.Unknown}function S(e){if(!E)return;const{context:r,buffer:t}=e,o=E._malloc(t.byteLength),n=t.byteLength/Float64Array.BYTES_PER_ELEMENT,s=new Float64Array(E.HEAPU8.buffer,o,n),i=new Float64Array(t);s.set(i),E.filterOBBs(r,o,n),i.set(s),E._free(o)}function x(e){E&&0===E.destroy(e)&&(E=null)}function _(e,r){for(let t=0;t<r.length;++t)e[t]=r[t]}async function P(){E||await U()}async function U(){return E||(E=await(w??=(0,_libs_i3s_I3SModule_js__WEBPACK_IMPORTED_MODULE_6__.get)())),E}const M={transform:(e,r)=>E&&A(E,e,r),destroy:x};


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/i3s/Highlights.js":
/*!*********************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/i3s/Highlights.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ l)
/* harmony export */ });
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_handleUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/handleUtils.js */ "./node_modules/@arcgis/core/core/handleUtils.js");
/* harmony import */ var _core_MapUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core/MapUtils.js */ "./node_modules/@arcgis/core/core/MapUtils.js");
/* harmony import */ var _II3SMeshView3D_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../II3SMeshView3D.js */ "./node_modules/@arcgis/core/views/3d/layers/II3SMeshView3D.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
class h{constructor(t){this.highlightName=t,this.ids=new Set}}class l{constructor({collection:t,forAllFeatures:e,forAllFeaturesOfNode:i}){this._highlights=new Map,this._collection=t,this._forAllFeatures=e,this._forAllFeaturesOfNode=i}destroy(){this._highlights.forEach((t=>t.forEach((t=>this._releaseSet(t))))),this._highlights=null}acquireSet(s){const l=new h(s);(0,_core_MapUtils_js__WEBPACK_IMPORTED_MODULE_2__.getOrCreateMapValue)(this._highlights,s,(()=>[])).push(l);const o=(0,_core_handleUtils_js__WEBPACK_IMPORTED_MODULE_1__.makeHandle)((()=>{const e=this._highlights?.get(s);e&&(this._releaseSet(l),(0,_core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_0__.removeUnordered)(e,l))}));return{set:l,handle:o}}setFeatureIds(t,e){e.forEach((e=>t.ids.add(e))),this._initializeSet(t)}_initializeSet(t){this._forAllFeatures(((e,i,h)=>(t.ids.has(e)&&this._collection.addComponentHighlight(h.objectHandle,i,t.highlightName),_II3SMeshView3D_js__WEBPACK_IMPORTED_MODULE_3__.ForAllFeaturesReturnType.CONTINUE)))}_releaseSet(t){this._forAllFeatures(((e,i,h)=>(t.ids.has(e)&&this._collection.removeComponentHighlight(h.objectHandle,i,t.highlightName),_II3SMeshView3D_js__WEBPACK_IMPORTED_MODULE_3__.ForAllFeaturesReturnType.CONTINUE)))}objectCreated(t){this._highlights.forEach(((e,i)=>{e.forEach((e=>{this._forAllFeaturesOfNode(t,((h,l)=>(e.ids.has(h)&&this._collection.addComponentHighlight(t.objectHandle,l,i),_II3SMeshView3D_js__WEBPACK_IMPORTED_MODULE_3__.ForAllFeaturesReturnType.CONTINUE)))}))}))}objectDeleted(t){this._collection.clearHighlights(t.objectHandle)}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/i3s/I3SAsyncElevationUpdater.js":
/*!***********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/i3s/I3SAsyncElevationUpdater.js ***!
  \***********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   I3SAsyncElevationUpdater: () => (/* binding */ a)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/Accessor.js */ "./node_modules/@arcgis/core/core/Accessor.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_RandomLCG_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../core/RandomLCG.js */ "./node_modules/@arcgis/core/core/RandomLCG.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _II3SMeshView3D_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../II3SMeshView3D.js */ "./node_modules/@arcgis/core/views/3d/layers/II3SMeshView3D.js");
/* harmony import */ var _graphics_ExtentSet_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../graphics/ExtentSet.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/ExtentSet.js");
/* harmony import */ var _support_Scheduler_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../support/Scheduler.js */ "./node_modules/@arcgis/core/views/support/Scheduler.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
let a=class extends _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__["default"]{constructor(t,e,s,r){super({}),this._updateExtent=e,this._updateNode=s,this._getElevationMode=r,this.running=!1,this._extentSet=new _graphics_ExtentSet_js__WEBPACK_IMPORTED_MODULE_8__.ExtentSet,this._nodeSet=new Set;const i=this._taskPriority,n=t.registerTask(this._taskPriority,this);this.addHandles(n),this._task=n,this._lastTaskPriority=i}get _taskPriority(){const t=this._getElevationMode();return t&&t===_II3SMeshView3D_js__WEBPACK_IMPORTED_MODULE_7__.ElevationMode.RelativeToGround?_support_Scheduler_js__WEBPACK_IMPORTED_MODULE_9__.TaskPriority.ELEVATION_ALIGNMENT_SCENE:_support_Scheduler_js__WEBPACK_IMPORTED_MODULE_9__.TaskPriority.ELEVATION_ALIGNMENT}_updateTaskPriority(){const t=this._taskPriority;t!==this._lastTaskPriority&&(this._task.priority=t,this._lastTaskPriority=t)}addExtent(t){this._extentSet.add(t),this._updateTaskPriority(),this.running=!0}schedule(t){this._nodeSet.add(t),this._updateTaskPriority(),this.running=!0}remove(t){this._nodeSet.delete(t),this._updateRunning()}runTask(t){const e=this._extentSet;for(t.run((()=>e.merge(t)));!e.empty&&!t.done;){const s=this._updateExtent(e.pop());null!=s&&s.forAll((t=>this.schedule(t))),t.madeProgress()}if(t.done)return;const s=this._nodeSet;for(const r of s)if(s.delete(r),this._updateNode(r),t.madeProgress(),t.done)break;this._updateRunning()}_updateRunning(){this.running=this._nodeSet.size>0||this._extentSet.size>0}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)()],a.prototype,"running",void 0),a=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_6__.subclass)("esri.views.3d.layers.i3s.I3SAsyncElevationUpdater")],a);


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/i3s/I3SCrossfadeHelper.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/i3s/I3SCrossfadeHelper.js ***!
  \*****************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   I3SCrossfadeHelper: () => (/* binding */ i),
/* harmony export */   NodeCrossfadeMetaData: () => (/* binding */ o)
/* harmony export */ });
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/maybe.js */ "./node_modules/@arcgis/core/core/maybe.js");
/* harmony import */ var _core_scheduling_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/scheduling.js */ "./node_modules/@arcgis/core/core/scheduling.js");
/* harmony import */ var _support_I3SLayerView_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../support/I3SLayerView.js */ "./node_modules/@arcgis/core/views/3d/layers/support/I3SLayerView.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
class o{constructor(){this.lodCrossfadeSignedDuration=0}}class i{constructor(e){this._view=e,this._preRenderFrameTaskHandle=null,this._currentFrameStartTime=null,this._numFadingNodes=0}destroy(){this._preRenderFrameTaskHandle?.remove(),this._preRenderFrameTaskHandle=null,this._view=null}get updating(){return this._numFadingNodes>0}stopNodeFading(s){null!=s.lodCrossfadeProgress&&(this._numFadingNodes--,s.lodCrossfadeProgress=null,0===this._numFadingNodes&&(null!=this._preRenderFrameTaskHandle&&(this._preRenderFrameTaskHandle=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_0__.removeMaybe)(this._preRenderFrameTaskHandle)),this._view.notifyLODUpdate(),this._view.notifyUpdate()))}_startNodeFading(e,d,o){0===this._numFadingNodes&&(this._preRenderFrameTaskHandle=(0,_core_scheduling_js__WEBPACK_IMPORTED_MODULE_1__.addFrameTask)({preRender:e=>this._updateAllNodeFading(e)}),this._view.notifyLODUpdate()),null==e.lodCrossfadeProgress&&(this._numFadingNodes++,this._view.notifyUpdate()),e.lodCrossfadeSignedDuration=o,e.lodCrossfadeProgress=d}_updateAllNodeFading(e){const s=this._view.nodeCrossfadingEnabled;this._view.foreachCrossfadeNode(((d,o)=>{if(null!=d?.lodCrossfadeProgress){const i=d.lodCrossfadeSignedDuration,t=i>0?this._view.fullOpacity:0,r=e.deltaTime/i,a=d.lodCrossfadeProgress+Math.abs(r),n=!s||a>=1||0===i,l=t-(n?0:i>0?1:-1)*(1-a);n?(this.stopNodeFading(d),i<0&&this._view.markNodeToRemove(o)):d.lodCrossfadeProgress=a,this._view.setNodeOpacityByIndex(o,l)}})),this._view.removeMarkedNodes()}stopAllNodeFading(){this._view.foreachCrossfadeNode(((e,s)=>{if(null!=e?.lodCrossfadeProgress){this.stopNodeFading(e);const d=e.lodCrossfadeSignedDuration;d<0&&this._view.markNodeToRemove(s);const o=d>0?this._view.fullOpacity:0;this._view.setNodeOpacityByIndex(s,o)}})),this._view.removeMarkedNodes()}fadeNode(e,s,o,i){null==this._currentFrameStartTime&&(this._currentFrameStartTime=Date.now());const r=this._view,a=r.nodeCrossfadingEnabled,n=o===_support_I3SLayerView_js__WEBPACK_IMPORTED_MODULE_2__.FadeDirection.FadeIn?r.fullOpacity:0,l=a?i?o===_support_I3SLayerView_js__WEBPACK_IMPORTED_MODULE_2__.FadeDirection.FadeIn?r.lodCrossfadeinDuration:r.lodCrossfadeoutDuration:r.lodCrossfadeUncoveredDuration:0,h=this._view.getNodeOpacityByIndex(e);if(a&&h!==n&&l>0){const e=1-Math.abs(n-h);this._startNodeFading(s,e,t(o)*l)}else this.stopNodeFading(s),this._view.setNodeOpacityByIndex(e,n),o===_support_I3SLayerView_js__WEBPACK_IMPORTED_MODULE_2__.FadeDirection.FadeOut&&this._view.removeNode(e)}isNodeFullyFadedIn(e){const s=this._view.getNodeCrossfadeMetaData(e);return null==s||null==s.lodCrossfadeProgress&&this._view.getNodeOpacityByIndex(e)===this._view.fullOpacity}}function t(e){return e===_support_I3SLayerView_js__WEBPACK_IMPORTED_MODULE_2__.FadeDirection.FadeIn?1:-1}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/i3s/I3SGeometryUtil.js":
/*!**************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/i3s/I3SGeometryUtil.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   boundingBoxCornerPoints: () => (/* binding */ i),
/* harmony export */   boundingBoxCornersPointsStride: () => (/* binding */ p),
/* harmony export */   createGetFeatureExtent: () => (/* binding */ f)
/* harmony export */ });
/* harmony import */ var _chunks_vec32_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../chunks/vec32.js */ "./node_modules/@arcgis/core/chunks/vec32.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/libs/gl-matrix-2/factories/vec3f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/vec3f64.js");
/* harmony import */ var _geometry_projection_projectBuffer_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../geometry/projection/projectBuffer.js */ "./node_modules/@arcgis/core/geometry/projection/projectBuffer.js");
/* harmony import */ var _geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../geometry/support/aaBoundingBox.js */ "./node_modules/@arcgis/core/geometry/support/aaBoundingBox.js");
/* harmony import */ var _geometry_support_DoubleArray_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../geometry/support/DoubleArray.js */ "./node_modules/@arcgis/core/geometry/support/DoubleArray.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
function f(o,r,t){const m=(0,_geometry_support_DoubleArray_js__WEBPACK_IMPORTED_MODULE_4__.newDoubleArray)(24);return c=>{const f=c.meta.featureExtents,p=new Float64Array(f.buffer,6*c.index*Float64Array.BYTES_PER_ELEMENT,6);return p[0]===Number.POSITIVE_INFINITY&&(i(c.index,t,c.meta.objectHandle,m,0),(0,_geometry_projection_projectBuffer_js__WEBPACK_IMPORTED_MODULE_2__.projectBuffer)(m,r,0,m,o,0)?(0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_3__.fromBuffer)(m,p):(0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_3__.set)(p,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_3__.zero)),p}}function i(t,e,n,a,s){const m=e.getComponentAabb(n,t,u),c=e.getObjectTransform(n);for(let f=0;f<8;++f)j[0]=1&f?m[0]:m[3],j[1]=2&f?m[1]:m[4],j[2]=4&f?m[2]:m[5],(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_0__.o)(j,j,c.rotationScale),(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_0__.f)(j,j,c.position),a[s++]=j[0],a[s++]=j[1],a[s++]=j[2];return a}const p=24,u=(0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_3__.create)(),j=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_1__.create)();


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/i3s/I3SIntersectionHandler.js":
/*!*********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/i3s/I3SIntersectionHandler.js ***!
  \*********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   I3SIntersectionHandler: () => (/* binding */ c)
/* harmony export */ });
/* harmony import */ var _ViewingMode_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../ViewingMode.js */ "./node_modules/@arcgis/core/views/ViewingMode.js");
/* harmony import */ var _I3SUtil_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./I3SUtil.js */ "./node_modules/@arcgis/core/views/3d/layers/i3s/I3SUtil.js");
/* harmony import */ var _Intersector_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Intersector.js */ "./node_modules/@arcgis/core/views/3d/layers/i3s/Intersector.js");
/* harmony import */ var _webgl_engine_lib_IntersectorInterfaces_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../webgl-engine/lib/IntersectorInterfaces.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/IntersectorInterfaces.js");
/* harmony import */ var _webgl_engine_lib_IntersectorResult_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../webgl-engine/lib/IntersectorResult.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/IntersectorResult.js");
/* harmony import */ var _webgl_engine_lib_IntersectorType_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../webgl-engine/lib/IntersectorType.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/IntersectorType.js");
/* harmony import */ var _webgl_engine_lib_RayIntersections_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../webgl-engine/lib/RayIntersections.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/RayIntersections.js");
/* harmony import */ var _webgl_engine_lib_verticalOffsetUtils_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../webgl-engine/lib/verticalOffsetUtils.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/verticalOffsetUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
class c{constructor(e){this.type=_webgl_engine_lib_IntersectorType_js__WEBPACK_IMPORTED_MODULE_5__.IntersectorType.I3S,this._needVerticalOffset=!1,this.layerViewUid=e.layerViewUid,this.sublayerId=e.sublayerId,this._collection=e.collection,this._traverseNodeHierarchy=e.traverseNodeHierarchy,this.slicePlaneEnabled=e.slicePlaneEnabled,this.isGround=e.isGround}updateElevationAlignState(t,i){this._needVerticalOffset=t&&i===_ViewingMode_js__WEBPACK_IMPORTED_MODULE_0__.ViewingMode.Global}intersect(e,s,c,d,u,b){const f=e.results,m=e.options.store===_webgl_engine_lib_IntersectorInterfaces_js__WEBPACK_IMPORTED_MODULE_3__.StoreResults.ALL,h=e.ray.direction,p=e.tolerance;let y=e=>e,g=e=>e;const I=(0,_webgl_engine_lib_verticalOffsetUtils_js__WEBPACK_IMPORTED_MODULE_7__.getVerticalOffsetI3S)(e.verticalOffset??(this._needVerticalOffset?0:null));null!=e.verticalOffset&&null!=I&&(y=e=>I.applyToMbs(e),g=e=>I.applyToObb(e));const R=new _webgl_engine_lib_RayIntersections_js__WEBPACK_IMPORTED_MODULE_6__.MeshIntersectionOptions(b,e.options.normalRequired),w=(n,l)=>{if(0===n.childrenLoaded)return!1;const o=n.serviceObbInRenderSR?.isValid?n.serviceObbInRenderSR:null;return!(o&&!g(o).intersectRay(c,h,p))&&(!l||!o&&(0,_I3SUtil_js__WEBPACK_IMPORTED_MODULE_1__.isValidMbs)(n.serviceMbsInRenderSR)&&!a(y(n.serviceMbsInRenderSR),c,h,p)||null!=n.geometryObbInRenderSR&&!g(n.geometryObbInRenderSR).intersectRay(c,h,p)||this._collection.intersect(l,c,d,p,I,R,((t,l,o,a)=>{if(l<0||null!=s&&!s(c,d,l))return;const u=e=>{const r=new _Intersector_js__WEBPACK_IMPORTED_MODULE_2__.I3sTarget(this.layerViewUid,this.sublayerId,n.index,t,a);e.set(this.type,r,l,o)};if(this.isGround&&(null==f.ground.distance||l<f.ground.distance)&&u(f.ground),!e.options.isFiltered&&((null==f.min.distance||l<f.min.distance)&&u(f.min),(null==f.max.distance||l>f.max.distance)&&u(f.max),m)){const t=new _webgl_engine_lib_IntersectorResult_js__WEBPACK_IMPORTED_MODULE_4__.IntersectorResult(e.ray);u(t),e.results.all.push(t)}})),!0)};this._traverseNodeHierarchy(w)}}function a(e,t,i,n=0){const r=e[3]+n,s=t[0]-e[0],l=t[1]-e[1],o=t[2]-e[2],c=i[0],a=i[1],d=i[2],u=c*s+a*l+d*o;return u*u-(c*c+a*a+d*d)*(s*s+l*l+o*o-r*r)>=0}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/i3s/IDBCache.js":
/*!*******************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/i3s/IDBCache.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   IDBCache: () => (/* binding */ i),
/* harmony export */   whenRequest: () => (/* binding */ c),
/* harmony export */   whenTransaction: () => (/* binding */ n)
/* harmony export */ });
/* harmony import */ var _core_ByteSizeUnit_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/ByteSizeUnit.js */ "./node_modules/@arcgis/core/core/ByteSizeUnit.js");
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
const o=14;class i{constructor(t,s,r=o){this._version=r,this._db=null,this._quotaReductionPromise=null,this._gcCounter=0,this._hit=0,this._miss=0,this._destroyed=!1,this.gcFrequency=50,this.maxByteSize=_core_ByteSizeUnit_js__WEBPACK_IMPORTED_MODULE_0__.ByteSizeUnit.GIGABYTES,this.quotaReductionFactor=.2,this._dbName=t,this._storeName=s}init(){return Promise.resolve().then((()=>{const e=indexedDB.open(this._dbName,this._version);return e.onupgradeneeded=t=>{const s=e.result,r=e.transaction,o=s.objectStoreNames.contains(this._storeName)?r.objectStore(this._storeName):s.createObjectStore(this._storeName),i=s.objectStoreNames.contains("last_access")?r.objectStore("last_access"):s.createObjectStore("last_access");i.indexNames.contains("date")||i.createIndex("date","date",{unique:!1}),i.indexNames.contains("byteSize")||i.createIndex("byteSize","byteSize",{unique:!1}),t.oldVersion<this._version&&(o.clear(),i.clear())},c(e)})).then((e=>{this._destroyed?e.close():this._db=e}))}destroy(){this._db&&(this._db.close(),this._db=null),this._destroyed=!0}get initialized(){return null!=this._db}getHitRate(){return this._hit/(this._hit+this._miss)}put(e,s){if(null==this._db)return Promise.reject(new _core_Error_js__WEBPACK_IMPORTED_MODULE_1__["default"]("indexedb:not-initialized","IndexedDB Cache is not initialized"));return(null!=this._quotaReductionPromise?this._quotaReductionPromise:Promise.resolve()).then((()=>this._put(e,s))).catch((t=>{if(t&&"QuotaExceededError"===t.name)return null==this._quotaReductionPromise&&(this._quotaReductionPromise=this._getCacheSize().then((e=>this._removeLeastRecentlyAccessed(s.byteSize+Math.ceil(e*this.quotaReductionFactor)))),this._quotaReductionPromise.then((()=>this._quotaReductionPromise=null),(()=>this._quotaReductionPromise=null))),this._quotaReductionPromise.then((()=>this._put(e,s)));throw t})).then((()=>{this._gcCounter--,this._gcCounter<0&&null!=this._db&&(this._gcCounter=this.gcFrequency,this._getCacheSize().then((e=>this._removeLeastRecentlyAccessed(e-this.maxByteSize))))}))}get(e,t){const o=this._db;if(null==o)return Promise.resolve(void 0);let i=null;return Promise.resolve().then((()=>{const r=o.transaction(this._storeName,"readonly");i=(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_2__.onAbort)(t,(()=>{r.abort()}));return c(r.objectStore(this._storeName).get(e))})).then((t=>{if(null==t)++this._miss;else if(this._db){++this._hit;this._db.transaction("last_access","readwrite").objectStore("last_access").put({date:Date.now(),byteSize:t.byteSize},e)}return null!=i&&i.remove(),t})).catch((()=>{++this._miss,(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_2__.throwIfAborted)(t),null!=i&&i.remove()}))}remove(e){const t=this._db;return null==t?Promise.resolve():Promise.resolve().then((async()=>{const s=t.transaction([this._storeName,"last_access"],"readwrite"),r=s.objectStore(this._storeName),o=s.objectStore("last_access"),i=r.delete(e),a=o.delete(e);await Promise.all([c(i),c(a),n(s)])}))}_put(e,t){const s=this._db;if(null==s)return Promise.resolve();const r=s.transaction([this._storeName,"last_access"],"readwrite"),o=r.objectStore(this._storeName),i=r.objectStore("last_access"),a=o.put(t,e),l=i.put({date:Date.now(),byteSize:t.byteSize},e);return Promise.all([c(a),c(l),n(r)])}_removeLeastRecentlyAccessed(e){if(e<=0||!this._db)return Promise.resolve();const t=this._db.transaction([this._storeName,"last_access"],"readwrite"),s=t.objectStore(this._storeName),r=t.objectStore("last_access");let o=0;const i=r.index("date").openCursor(null,"next");return i.onsuccess=()=>{const t=i.result;null!=t&&(null!=t.value.byteSize&&(o+=t.value.byteSize),s.delete(t.primaryKey),r.delete(t.primaryKey),o<e&&t.continue())},n(t)}_getCacheSize(){const e=this._db;if(null==e)return Promise.resolve(0);const t=e.transaction("last_access"),s=t.objectStore("last_access");let r=0;const o=s.index("byteSize").openKeyCursor();return o.onsuccess=()=>{const e=o.result;if(!e)return;const t=e.key;null!=t&&(r+=t),e.continue()},n(t).then((()=>r))}}function n(e){return new Promise(((t,s)=>{e.oncomplete=()=>t(),e.onerror=()=>s(e.error),e.onabort=()=>s(e.error)}))}function c(e){return new Promise(((t,s)=>{"done"===e.readyState?null!=e.error?s(e.error):t(e.result):(e.onsuccess=()=>t(e.result),e.onerror=()=>s(e.error))}))}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/i3s/IDBMockCache.js":
/*!***********************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/i3s/IDBMockCache.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   IDBMockCache: () => (/* binding */ s)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
const t=new WeakMap;class s{constructor(s,e){switch(this._miss=0,this._hit=0,this.initialized=!0,e){case"layer":this._data=new Map;break;case"view":{const e=t.get(s);if(e){this._data=e;break}const i=new Map;this._data=i,t.set(s,i)}}}init(){return Promise.resolve()}async get(t,s){if(this._data.has(t))return this._hit++,this._data.get(t)??void 0;this._miss++}destroy(){}put(t,s){return this._data.set(t,s),Promise.resolve()}remove(t){return this._data.delete(t),Promise.resolve()}getHitRate(){return this._hit/(this._hit+this._miss)}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/i3s/SymbologyInfo.js":
/*!************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/i3s/SymbologyInfo.js ***!
  \************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   SymbologyInfo: () => (/* binding */ t)
/* harmony export */ });
/* harmony import */ var _core_libs_gl_matrix_2_factories_vec4f64_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/libs/gl-matrix-2/factories/vec4f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/vec4f64.js");
/* harmony import */ var _support_symbolColorUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../support/symbolColorUtils.js */ "./node_modules/@arcgis/core/views/3d/layers/support/symbolColorUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
class t{constructor(){this.color=(0,_core_libs_gl_matrix_2_factories_vec4f64_js__WEBPACK_IMPORTED_MODULE_0__.create)(),this.castShadows=!0,this.pickable=!0,this.colorMixMode=_support_symbolColorUtils_js__WEBPACK_IMPORTED_MODULE_1__.ColorMixModeEnum.Multiply}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/support/attributeUtils.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/support/attributeUtils.js ***!
  \*****************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   attributeLookup: () => (/* binding */ n)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
function n(n,t,e){if(!e||null==t)return null;if(!n)return r(t,e);const o=n.get(e);return o?t[o.name]:null}function r(n,r){const t=r.toLowerCase();for(const e in n)if(e.toLowerCase()===t)return n[e];return null}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/support/GraphicsMap.js":
/*!*******************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/support/GraphicsMap.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   GraphicsMap: () => (/* binding */ s)
/* harmony export */ });
/* harmony import */ var _core_Evented_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../core/Evented.js */ "./node_modules/@arcgis/core/core/Evented.js");
/* harmony import */ var _core_MapUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/MapUtils.js */ "./node_modules/@arcgis/core/core/MapUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
class s extends _core_Evented_js__WEBPACK_IMPORTED_MODULE_0__["default"]{constructor(){super(...arguments),this._map=new Map}clear(){if(this._map.size>0){const e=this.toArray();this._map.clear(),this.emit("change",{added:[],removed:e})}}get length(){return this._map.size}get(e){return this._map.get(e)}addMany(e){if(0===e.length)return;const t=new Set;for(let s=0;s<e.length;s++){const r=e[s],o=r.objectId,n=this._map.get(o);n?(t.add(o),r!==n&&(e[s]=n),n.refCount||(n.refCount=0),++n.refCount):(r.refCount=1,this._map.set(o,r))}const r=t.size>0?e.filter((e=>!t.has(e.objectId))):e;r.length>0&&this.emit("change",{added:r,removed:[]})}removeMany(e){const t=[];for(const r of e){const e=r.objectId,s=this._map.get(e);null!=s&&(!s.refCount||--s.refCount<=0)&&(this._map.delete(e),t.push(r))}t.length>0&&this.emit("change",{added:[],removed:t})}removeManyByObjectId(e){const t=[];for(const r of e){const e=this._map.get(r);null!=e&&(!e.refCount||--e.refCount<=0)&&(this._map.delete(r),t.push(e))}t.length>0&&this.emit("change",{added:[],removed:t})}toArray(){return[...this._map.values()]}find(e){return (0,_core_MapUtils_js__WEBPACK_IMPORTED_MODULE_1__.findInMap)(this._map,e)}some(e){return (0,_core_MapUtils_js__WEBPACK_IMPORTED_MODULE_1__.someMap)(this._map,e)}forEach(e){this._map.forEach((t=>e(t)))}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/support/LimitGraphicsMap.js":
/*!************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/support/LimitGraphicsMap.js ***!
  \************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   LimitGraphicsMap: () => (/* binding */ n)
/* harmony export */ });
/* harmony import */ var _core_Evented_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../core/Evented.js */ "./node_modules/@arcgis/core/core/Evented.js");
/* harmony import */ var _core_MapUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/MapUtils.js */ "./node_modules/@arcgis/core/core/MapUtils.js");
/* harmony import */ var _GraphicsMap_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./GraphicsMap.js */ "./node_modules/@arcgis/core/views/3d/support/GraphicsMap.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
class n extends _core_Evented_js__WEBPACK_IMPORTED_MODULE_0__["default"]{constructor(e){super(),this._limit=e,this._all=new _GraphicsMap_js__WEBPACK_IMPORTED_MODULE_2__.GraphicsMap,this._active=new r(this),this._pending=new Map,this._handle=this._all.on("change",(e=>this._handleChanges(e)))}destroy(){this._handle.remove()}get length(){return this._active.length}toArray(){return this._active.toArray()}find(e){return this._active.find(e)}some(e){return this._active.some(e)}forEach(e){this._active.forEach(e)}addMany(e){this._all.addMany(e)}removeManyByObjectId(e){this._all.removeManyByObjectId(e)}_handleChanges(e){let t=e.removed;if(this._pending.size>0){t=new Array;for(const s of e.removed)this._pending.delete(s.objectId)||t.push(s)}let s=this._limit-this._active.length+t.length;s<e.added.length&&(this._active.removeMany(t),t=[],a.reset(1-this._limit/(this._active.length+e.added.length)),this._active.forEach((e=>{a.sample()&&(t.push(e),this._pending.set(e.objectId,e))})),s=this._limit-this._active.length+t.length);let i=e.added;if(s<e.added.length){i=new Array,a.reset(s/e.added.length);for(const t of e.added)a.sample()?i.push(t):this._pending.set(t.objectId,t)}const n=s-i.length;n>0&&this._pending.size>0&&(a.reset(n/this._pending.size),this._pending.forEach((e=>{a.sample()&&(i.push(e),this._pending.delete(e.objectId))}))),this._active.addAndRemove(i,t)}}class h{constructor(){this._percentage=1,this._last=-1,this._index=0}reset(e){this._percentage=e,this._last=-1}sample(){const e=Math.floor(this._index*this._percentage);return++this._index,e!==this._last&&(this._last=e,!0)}}const a=new h;class r{constructor(e){this._parent=e,this._map=new Map}get length(){return this._map.size}forEach(e){this._map.forEach((t=>e(t)))}find(e){return (0,_core_MapUtils_js__WEBPACK_IMPORTED_MODULE_1__.findInMap)(this._map,e)}some(e){return (0,_core_MapUtils_js__WEBPACK_IMPORTED_MODULE_1__.someMap)(this._map,e)}toArray(){return Array.from(this._map.values())}addAndRemove(e,t){for(const s of e)this._map.set(s.objectId,s);for(const s of t)this._map.delete(s.objectId);(e.length>0||t.length>0)&&this._parent.emit("change",{added:e,removed:t})}removeMany(e){for(const t of e)this._map.delete(t.objectId);e.length>0&&this._parent.emit("change",{added:[],removed:e})}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/layers/support/popupUtils.js":
/*!**********************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/layers/support/popupUtils.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   getFetchPopupTemplate: () => (/* binding */ p),
/* harmony export */   getRequiredFields: () => (/* binding */ n),
/* harmony export */   hasPopupTemplate: () => (/* binding */ u)
/* harmony export */ });
/* harmony import */ var _layers_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../layers/support/fieldUtils.js */ "./node_modules/@arcgis/core/layers/support/fieldUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
async function n(n,p=n.popupTemplate){if(null==p)return[];const u=await p.getRequiredFields(n.fieldsIndex),{lastEditInfoEnabled:t}=p,{objectIdField:d,typeIdField:s,globalIdField:i,relationships:a}=n;if(u.includes("*"))return["*"];const o=t?(0,_layers_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_0__.getFeatureEditFields)(n):[],f=(0,_layers_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_0__.fixFields)(n.fieldsIndex,[...u,...o]);return s&&f.push(s),f&&d&&n.fieldsIndex?.has(d)&&!f.includes(d)&&f.push(d),f&&i&&n.fieldsIndex?.has(i)&&!f.includes(i)&&f.push(i),a&&a.forEach((e=>{const{keyField:l}=e;f&&l&&n.fieldsIndex?.has(l)&&!f.includes(l)&&f.push(l)})),f}function p(e,l){return e.popupTemplate?e.popupTemplate:null!=l&&l.defaultPopupTemplateEnabled&&null!=e.defaultPopupTemplate?e.defaultPopupTemplate:null}function u(e,l){return null!=p(e,{defaultPopupTemplateEnabled:l})}


/***/ })

};

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmVuZG9ycy1ub2RlX21vZHVsZXNfYXJjZ2lzX2NvcmVfdmlld3NfM2RfbGF5ZXJzX0kzU01lc2hWaWV3M0RfanMtbm9kZV9tb2R1bGVzX2FyY2dpc19jb3JlX3ZpLTczZTBjYS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNrRSxtQkFBbUIsVUFBVSx1RUFBQyx1REFBa0Y7Ozs7Ozs7Ozs7Ozs7Ozs7QUNKbEw7QUFDQTtBQUNBO0FBQ0E7QUFDOEMsYUFBYSw2QkFBNkIsbU5BQTZCLHdCQUF3QixVQUFVLElBQUksV0FBVywyQ0FBMkMsRUFBRSxjQUFjLGdCQUFnQixRQUFRLE1BQU0sY0FBYyxPQUFPLHVEQUFDLGtCQUFrQixFQUFFLEdBQUcsTUFBdUI7Ozs7Ozs7Ozs7Ozs7OztBQ0puVTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsZUFBZSxxQkFBNkQ7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNKcEY7QUFDQTtBQUNBO0FBQ0E7QUFDb2hPLG1CQUFtQixpQkFBaUIsOEVBQUUsQ0FBQywrQkFBK0IsdVFBQXVRLG1CQUFtQix3QkFBd0IscUJBQXFCLDhIQUE4SCxPQUFPLGFBQWEsNERBQTRELFdBQVcsR0FBRyxtQkFBbUIsK0RBQUMsa0JBQWtCLHNCQUFzQixjQUFjLHVGQUF1Riw4RUFBQyxtSkFBbUosNkZBQUUsbzBCQUFvMEIsbURBQUMsMkJBQTJCLDJFQUFFLE9BQU8sOEJBQThCLFNBQVMsNkJBQTZCLFNBQVMsb0NBQW9DLFNBQVMsbUJBQW1CLGdCQUFnQixjQUFjLHVDQUF1QyxpQkFBaUIsWUFBWSx3QkFBd0IsNkNBQTZDLHFCQUFxQiwyRUFBMkUsMEVBQUUsQ0FBQyxvQkFBb0IsOERBQThELDRCQUE0Qiw2Q0FBNkMsZ0NBQWdDLHVGQUF1RiwyQkFBMkIs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Z0MsbUJBQW1CLEVBQUUsVUFBVSw4QkFBOEIsUUFBUSxPQUFPLDREQUFDLGNBQWMsUUFBUSxPQUFPLDBEQUFDLGNBQWMsV0FBVyw4QkFBdUQ7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ0podkM7QUFDQTtBQUNBO0FBQ0E7QUFDMEosZ0JBQWdCLHdEQUFDLENBQUMsZUFBZSxvQ0FBb0Msd0RBQUMsZ0hBQWdILFVBQVUsc0JBQXNCLGFBQWEsMkJBQTJCLFVBQVUsOEJBQThCLFFBQVEsNEJBQTRCLFFBQVEsNEJBQTRCLFdBQVcsd0JBQXdCLFdBQVcscUJBQXFCLHdCQUF3QixrQ0FBa0Msa0JBQWtCLGdCQUFnQix5QkFBeUIsWUFBWSxxRUFBcUUsK0NBQStDLHlJQUF5SSx3REFBd0QsK0NBQStDLGNBQWMscUJBQXFCLHNDQUFzQyw0RUFBNEUsbUJBQW1CLHFGQUFxRix5REFBeUQsb0NBQW9DLFFBQVEsY0FBYywrQ0FBK0MsU0FBUyxpQ0FBaUMsU0FBUyxpREFBaUQsdURBQXVELGNBQWMsUUFBUSxlQUFlLGlDQUFpQyxhQUFhLHNCQUFzQixXQUFXLDZCQUE2QixRQUFRLE9BQU8sNERBQUMsY0FBYyxRQUFRLE9BQU8sMERBQUMsY0FBYyxVQUFVLHNDQUFzQyxrQkFBa0IsNkNBQTZDLDhDQUE4QyxzREFBc0Qsa0JBQWtCLEVBQUUsY0FBYyw4Q0FBOEMsd0NBQXdDLG1CQUFtQixHQUFpQzs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDSnRyRTtBQUNBO0FBQ0E7QUFDQTtBQUM0RixzQ0FBc0Msb0JBQW9CLGtEQUFrRCxzQkFBc0IsSUFBSSw4REFBOEQsR0FBRywrQkFBK0IsVUFBVSxtRkFBQyxTQUFTLHdFQUFDLDRCQUE0QixvSkFBb0osTUFBTSxXQUFXLEdBQUcsdURBQXVELEtBQUssZ0JBQWdCLHdJQUF3SSxnQkFBZ0Isa0JBQWtCLDhCQUE4QixFQUFrRiIsInNvdXJjZXMiOlsid2VicGFjazovL3ByZWNpc2lvbmZhcm1zLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS9nZW9tZXRyeS9zdXBwb3J0L1VCeXRlQXJyYXkuanMiLCJ3ZWJwYWNrOi8vcHJlY2lzaW9uZmFybXMvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL2xpYnMvaTNzL0kzU01vZHVsZS5qcyIsIndlYnBhY2s6Ly9wcmVjaXNpb25mYXJtcy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvM2QvbGF5ZXJzL0NvbnRlbnRHZW9tZXRyeUxheWVyVmlldy5qcyIsIndlYnBhY2s6Ly9wcmVjaXNpb25mYXJtcy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvM2QvbGF5ZXJzL0kzU01lc2hWaWV3M0QuanMiLCJ3ZWJwYWNrOi8vcHJlY2lzaW9uZmFybXMvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzNkL2xheWVycy9JM1NNZXNoVmlld0xhYmVsZXIuanMiLCJ3ZWJwYWNrOi8vcHJlY2lzaW9uZmFybXMvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzNkL2xheWVycy9JM1NNZXNoVmlld1BlcmZvcm1hbmNlSW5mby5qcyIsIndlYnBhY2s6Ly9wcmVjaXNpb25mYXJtcy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvM2QvbGF5ZXJzL0lJM1NNZXNoVmlldzNELmpzIiwid2VicGFjazovL3ByZWNpc2lvbmZhcm1zLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8zZC9sYXllcnMvU2NlbmVMYXllcldvcmtlci5qcyIsIndlYnBhY2s6Ly9wcmVjaXNpb25mYXJtcy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvM2QvbGF5ZXJzL2kzcy9IaWdobGlnaHRzLmpzIiwid2VicGFjazovL3ByZWNpc2lvbmZhcm1zLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8zZC9sYXllcnMvaTNzL0kzU0FzeW5jRWxldmF0aW9uVXBkYXRlci5qcyIsIndlYnBhY2s6Ly9wcmVjaXNpb25mYXJtcy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvM2QvbGF5ZXJzL2kzcy9JM1NDcm9zc2ZhZGVIZWxwZXIuanMiLCJ3ZWJwYWNrOi8vcHJlY2lzaW9uZmFybXMvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzNkL2xheWVycy9pM3MvSTNTR2VvbWV0cnlVdGlsLmpzIiwid2VicGFjazovL3ByZWNpc2lvbmZhcm1zLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8zZC9sYXllcnMvaTNzL0kzU0ludGVyc2VjdGlvbkhhbmRsZXIuanMiLCJ3ZWJwYWNrOi8vcHJlY2lzaW9uZmFybXMvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzNkL2xheWVycy9pM3MvSURCQ2FjaGUuanMiLCJ3ZWJwYWNrOi8vcHJlY2lzaW9uZmFybXMvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzNkL2xheWVycy9pM3MvSURCTW9ja0NhY2hlLmpzIiwid2VicGFjazovL3ByZWNpc2lvbmZhcm1zLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8zZC9sYXllcnMvaTNzL1N5bWJvbG9neUluZm8uanMiLCJ3ZWJwYWNrOi8vcHJlY2lzaW9uZmFybXMvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzNkL2xheWVycy9zdXBwb3J0L2F0dHJpYnV0ZVV0aWxzLmpzIiwid2VicGFjazovL3ByZWNpc2lvbmZhcm1zLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8zZC9zdXBwb3J0L0dyYXBoaWNzTWFwLmpzIiwid2VicGFjazovL3ByZWNpc2lvbmZhcm1zLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8zZC9zdXBwb3J0L0xpbWl0R3JhcGhpY3NNYXAuanMiLCJ3ZWJwYWNrOi8vcHJlY2lzaW9uZmFybXMvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzL2xheWVycy9zdXBwb3J0L3BvcHVwVXRpbHMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMzMvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtuYXRpdmVBcnJheU1heFNpemUgYXMgcn1mcm9tXCIuLi8uLi9jb3JlL3R5cGVkQXJyYXlVdGlsLmpzXCI7ZnVuY3Rpb24gZShlLG49ITEpe3JldHVybiBlPD1yP24/bmV3IEFycmF5KGUpLmZpbGwoMCk6bmV3IEFycmF5KGUpOm5ldyBVaW50OEFycmF5KGUpfWV4cG9ydHtlIGFzIG5ld1VCeXRlQXJyYXl9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMzMvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtnZXRBc3NldFVybCBhcyB0fWZyb21cIi4uLy4uL2Fzc2V0cy5qc1wiO2Z1bmN0aW9uIGUoKXtyZXR1cm4gbnx8KG49bmV3IFByb21pc2UoKHQ9PmltcG9ydChcIi4uLy4uL2NodW5rcy9pM3MuanNcIikudGhlbigodD0+dC5pKSkudGhlbigoKHtkZWZhdWx0OmV9KT0+e2NvbnN0IG49ZSh7bG9jYXRlRmlsZTppLG9uUnVudGltZUluaXRpYWxpemVkOigpPT50KG4pfSk7ZGVsZXRlIG4udGhlbn0pKSkpLmNhdGNoKCh0PT57dGhyb3cgdH0pKSksbn1mdW5jdGlvbiBpKGUpe3JldHVybiB0KGBlc3JpL2xpYnMvaTNzLyR7ZX1gKX1sZXQgbjtleHBvcnR7ZSBhcyBnZXR9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMzMvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmNsYXNzIHJ7Y29uc3RydWN0b3Iocil7dGhpcy5yZW5kZXJCb3VuZHM9cn19ZXhwb3J0e3IgYXMgQ29udGVudEdlb21ldHJ5VXBkYXRlRXZlbnR9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMzMvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtfIGFzIGV9ZnJvbVwiLi4vLi4vLi4vY2h1bmtzL3RzbGliLmVzNi5qc1wiO2ltcG9ydCB0IGZyb21cIi4uLy4uLy4uL0NvbG9yLmpzXCI7aW1wb3J0IGkgZnJvbVwiLi4vLi4vLi4vR3JhcGhpYy5qc1wiO2ltcG9ydHtyZW1vdmVVbm9yZGVyZWQgYXMgcyxpc1NvbWUgYXMgcn1mcm9tXCIuLi8uLi8uLi9jb3JlL2FycmF5VXRpbHMuanNcIjtpbXBvcnR7Qnl0ZVNpemVVbml0IGFzIG99ZnJvbVwiLi4vLi4vLi4vY29yZS9CeXRlU2l6ZVVuaXQuanNcIjtpbXBvcnQgaGFzIGZyb21cIi4uLy4uLy4uL2NvcmUvaGFzLmpzXCI7aW1wb3J0IGEgZnJvbVwiLi4vLi4vLi4vY29yZS9Mb2dnZXIuanNcIjtpbXBvcnR7ZXF1YWxzIGFzIG59ZnJvbVwiLi4vLi4vLi4vY29yZS9NYXBVdGlscy5qc1wiO2ltcG9ydHtkZXN0cm95TWF5YmUgYXMgbH1mcm9tXCIuLi8uLi8uLi9jb3JlL21heWJlLmpzXCI7aW1wb3J0IGQgZnJvbVwiLi4vLi4vLi4vY29yZS9Qb29sZWRBcnJheS5qc1wiO2ltcG9ydHtpZ25vcmVBYm9ydEVycm9ycyBhcyBoLGlzQWJvcnRFcnJvciBhcyBjLHRocm93SWZBYm9ydGVkIGFzIHUsY3JlYXRlUmVzb2x2ZXIgYXMgX31mcm9tXCIuLi8uLi8uLi9jb3JlL3Byb21pc2VVdGlscy5qc1wiO2ltcG9ydHtpbml0aWFsIGFzIG0sd2F0Y2ggYXMgZ31mcm9tXCIuLi8uLi8uLi9jb3JlL3JlYWN0aXZlVXRpbHMuanNcIjtpbXBvcnR7c2NoZWR1bGUgYXMgZn1mcm9tXCIuLi8uLi8uLi9jb3JlL3NjaGVkdWxpbmcuanNcIjtpbXBvcnR7ZXF1YWxzIGFzIHB9ZnJvbVwiLi4vLi4vLi4vY29yZS9TZXRVdGlscy5qc1wiO2ltcG9ydHtpc0FycmF5QnVmZmVyIGFzIHl9ZnJvbVwiLi4vLi4vLi4vY29yZS90eXBlZEFycmF5VXRpbC5qc1wiO2ltcG9ydHtwcm9wZXJ0eSBhcyBifWZyb21cIi4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvcHJvcGVydHkuanNcIjtpbXBvcnR7c3ViY2xhc3MgYXMgSX1mcm9tXCIuLi8uLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3N1YmNsYXNzLmpzXCI7aW1wb3J0e2Zyb21NYXQ0IGFzIHYsaW52ZXJ0IGFzIEN9ZnJvbVwiLi4vLi4vLi4vY29yZS9saWJzL2dsLW1hdHJpeC0yL21hdGgvbWF0My5qc1wiO2ltcG9ydHtjcmVhdGUgYXMgTX1mcm9tXCIuLi8uLi8uLi9jb3JlL2xpYnMvZ2wtbWF0cml4LTIvZmFjdG9yaWVzL21hdDNmNjQuanNcIjtpbXBvcnR7bXVsdGlwbHkgYXMgdyxnZXRUcmFuc2xhdGlvbiBhcyB4fWZyb21cIi4uLy4uLy4uL2NvcmUvbGlicy9nbC1tYXRyaXgtMi9tYXRoL21hdDQuanNcIjtpbXBvcnR7Y2xvbmUgYXMgRSxjcmVhdGUgYXMgUn1mcm9tXCIuLi8uLi8uLi9jb3JlL2xpYnMvZ2wtbWF0cml4LTIvZmFjdG9yaWVzL21hdDRmNjQuanNcIjtpbXBvcnR7ZnJvbVZhbHVlcyBhcyBPfWZyb21cIi4uLy4uLy4uL2NvcmUvbGlicy9nbC1tYXRyaXgtMi9mYWN0b3JpZXMvcXVhdGY2NC5qc1wiO2ltcG9ydHtpIGFzIGosdCBhcyBTLG8gYXMgQSxhIGFzIFQsZiBhcyBELGcgYXMgRixkIGFzIFYsSCBhcyBOfWZyb21cIi4uLy4uLy4uL2NodW5rcy92ZWMzMi5qc1wiO2ltcG9ydHtjcmVhdGUgYXMgUH1mcm9tXCIuLi8uLi8uLi9jb3JlL2xpYnMvZ2wtbWF0cml4LTIvZmFjdG9yaWVzL3ZlYzNmNjQuanNcIjtpbXBvcnR7cyBhcyBIfWZyb21cIi4uLy4uLy4uL2NodW5rcy92ZWM0Mi5qc1wiO2ltcG9ydHtmcm9tVmFsdWVzIGFzIFV9ZnJvbVwiLi4vLi4vLi4vY29yZS9saWJzL2dsLW1hdHJpeC0yL2ZhY3Rvcmllcy92ZWM0ZjY0LmpzXCI7aW1wb3J0e1VwZGF0aW5nSGFuZGxlcyBhcyBrfWZyb21cIi4uLy4uLy4uL2NvcmUvc3VwcG9ydC9VcGRhdGluZ0hhbmRsZXMuanNcIjtpbXBvcnR7Z2V0U3BoZXJpY2FsUENQRiBhcyBMfWZyb21cIi4uLy4uLy4uL2dlb21ldHJ5L3NwYXRpYWxSZWZlcmVuY2VFbGxpcHNvaWRVdGlscy5qc1wiO2ltcG9ydHtsb2NhbExpbmVhclNjYWxlRmFjdG9ycyBhcyBHfWZyb21cIi4uLy4uLy4uL2dlb21ldHJ5L3Byb2plY3Rpb24vbG9jYWxMaW5lYXJTY2FsZUZhY3RvcnMuanNcIjtpbXBvcnR7cHJvamVjdEJvdW5kaW5nU3BoZXJlIGFzIEJ9ZnJvbVwiLi4vLi4vLi4vZ2VvbWV0cnkvcHJvamVjdGlvbi9wcm9qZWN0Qm91bmRpbmdTcGhlcmUuanNcIjtpbXBvcnR7cHJvamVjdEJ1ZmZlciBhcyBxfWZyb21cIi4uLy4uLy4uL2dlb21ldHJ5L3Byb2plY3Rpb24vcHJvamVjdEJ1ZmZlci5qc1wiO2ltcG9ydHtnZXRQcm9qZWN0b3JOYW1lIGFzIFd9ZnJvbVwiLi4vLi4vLi4vZ2VvbWV0cnkvcHJvamVjdGlvbi9wcm9qZWN0b3JzLmpzXCI7aW1wb3J0e3Byb2plY3RWZWN0b3JUb1ZlY3RvciBhcyB6fWZyb21cIi4uLy4uLy4uL2dlb21ldHJ5L3Byb2plY3Rpb24vcHJvamVjdFZlY3RvclRvVmVjdG9yLmpzXCI7aW1wb3J0e2Zyb21CdWZmZXIgYXMgSyxjcmVhdGUgYXMgJCx0b1JlY3QgYXMgUX1mcm9tXCIuLi8uLi8uLi9nZW9tZXRyeS9zdXBwb3J0L2FhQm91bmRpbmdCb3guanNcIjtpbXBvcnR7Y3JlYXRlIGFzIFgsaW50ZXJzZWN0cyBhcyBZfWZyb21cIi4uLy4uLy4uL2dlb21ldHJ5L3N1cHBvcnQvYWFCb3VuZGluZ1JlY3QuanNcIjtpbXBvcnR7bmV3RG91YmxlQXJyYXkgYXMgSn1mcm9tXCIuLi8uLi8uLi9nZW9tZXRyeS9zdXBwb3J0L0RvdWJsZUFycmF5LmpzXCI7aW1wb3J0e2NvbXBhY3RGbG9hdEFycmF5IGFzIFp9ZnJvbVwiLi4vLi4vLi4vZ2VvbWV0cnkvc3VwcG9ydC9GbG9hdEFycmF5LmpzXCI7aW1wb3J0e2NvbXBhY3RJbmRpY2VzIGFzIGVlfWZyb21cIi4uLy4uLy4uL2dlb21ldHJ5L3N1cHBvcnQvSW5kaWNlcy5qc1wiO2ltcG9ydHthIGFzIHRlLGYgYXMgaWUsZyBhcyBzZX1mcm9tXCIuLi8uLi8uLi9jaHVua3Mvc3BoZXJlLmpzXCI7aW1wb3J0e25ld1VCeXRlQXJyYXkgYXMgcmV9ZnJvbVwiLi4vLi4vLi4vZ2VvbWV0cnkvc3VwcG9ydC9VQnl0ZUFycmF5LmpzXCI7aW1wb3J0e2ZhbGxiYWNrT2JqZWN0SURBdHRyaWJ1dGUgYXMgb2V9ZnJvbVwiLi4vLi4vLi4vbGF5ZXJzL0xheWVyQ29uc3RhbnRzLmpzXCI7aW1wb3J0IGFlIGZyb21cIi4uLy4uLy4uL2xheWVycy9ncmFwaGljcy9jb250cm9sbGVycy9JM1NPbkRlbWFuZENvbnRyb2xsZXIuanNcIjtpbXBvcnR7Zml4RmllbGRzIGFzIG5lfWZyb21cIi4uLy4uLy4uL2xheWVycy9zdXBwb3J0L2ZpZWxkVXRpbHMuanNcIjtpbXBvcnQgbGUgZnJvbVwiLi4vLi4vLi4vbGF5ZXJzL3N1cHBvcnQvU2NlbmVNb2RpZmljYXRpb24uanNcIjtpbXBvcnR7Z2V0Q29sb3IgYXMgZGUsZ2V0T3BhY2l0eSBhcyBoZX1mcm9tXCIuLi8uLi8uLi9yZW5kZXJlcnMvdmlzdWFsVmFyaWFibGVzL3N1cHBvcnQvdmlzdWFsVmFyaWFibGVVdGlscy5qc1wiO2ltcG9ydHtpc0Jhc2VtYXBMYXllclZpZXcgYXMgY2V9ZnJvbVwiLi4vLi4vLi4vc3VwcG9ydC9iYXNlbWFwVXRpbHMuanNcIjtpbXBvcnR7Z2V0RWxldmF0aW9uT2Zmc2V0IGFzIHVlfWZyb21cIi4uLy4uLy4uL3N1cHBvcnQvZWxldmF0aW9uSW5mb1V0aWxzLmpzXCI7aW1wb3J0e2lzUXVlcnkgYXMgX2V9ZnJvbVwiLi4vLi4vLi4vc3VwcG9ydC9ndWFyZHMuanNcIjtpbXBvcnR7bG9hZEFyY2FkZSBhcyBtZX1mcm9tXCIuLi8uLi8uLi9zdXBwb3J0L2xvYWRBcmNhZGUuanNcIjtpbXBvcnQgZ2UgZnJvbVwiLi4vLi4vLi4vc3ltYm9scy9NZXNoU3ltYm9sM0QuanNcIjtpbXBvcnQgZmUgZnJvbVwiLi4vLi4vLi4vc3ltYm9scy9TaW1wbGVGaWxsU3ltYm9sLmpzXCI7aW1wb3J0e0NvbnRlbnRHZW9tZXRyeVVwZGF0ZUV2ZW50IGFzIHBlfWZyb21cIi4vQ29udGVudEdlb21ldHJ5TGF5ZXJWaWV3LmpzXCI7aW1wb3J0IHllIGZyb21cIi4vSTNTTWVzaFZpZXdMYWJlbGVyLmpzXCI7aW1wb3J0e0kzU01lc2hWaWV3UGVyZm9ybWFuY2VJbmZvIGFzIGJlfWZyb21cIi4vSTNTTWVzaFZpZXdQZXJmb3JtYW5jZUluZm8uanNcIjtpbXBvcnR7STNTTWVzaFdvcmtlckhhbmRsZSBhcyBJZSx0b1dhc21Nb2RpZmljYXRpb24gYXMgdmV9ZnJvbVwiLi9JM1NNZXNoV29ya2VySGFuZGxlLmpzXCI7aW1wb3J0e0VsZXZhdGlvbk1vZGUgYXMgQ2UsRm9yQWxsRmVhdHVyZXNSZXR1cm5UeXBlIGFzIE1lLEZvckFsbEZlYXR1cmVzTW9kZSBhcyB3ZX1mcm9tXCIuL0lJM1NNZXNoVmlldzNELmpzXCI7aW1wb3J0e2luaXRpYWxpemUgYXMgeGUsc2V0TW9kaWZpY2F0aW9uc1N5bmMgYXMgRWUsZmlsdGVyT2Jic0Zvck1vZGlmaWNhdGlvbnNTeW5jIGFzIFJlLGludGVycHJldE9iYk1vZGlmaWNhdGlvblJlc3VsdHMgYXMgT2V9ZnJvbVwiLi9TY2VuZUxheWVyV29ya2VyLmpzXCI7aW1wb3J0e292ZXJyaWRlQ29sb3IgYXMgamV9ZnJvbVwiLi9ncmFwaGljcy9ncmFwaGljVXRpbHMuanNcIjtpbXBvcnR7YXJlTGFiZWxzVmlzaWJsZSBhcyBTZX1mcm9tXCIuL2dyYXBoaWNzL0xhYmVsZXIuanNcIjtpbXBvcnR7VGV4dHVyZVVzYWdlIGFzIEFlLFRleHR1cmVFbmNvZGluZyBhcyBUZX1mcm9tXCIuL2kzcy9lbnVtcy5qc1wiO2ltcG9ydCBEZSBmcm9tXCIuL2kzcy9IaWdobGlnaHRzLmpzXCI7aW1wb3J0e0kzU0FzeW5jRWxldmF0aW9uVXBkYXRlciBhcyBGZX1mcm9tXCIuL2kzcy9JM1NBc3luY0VsZXZhdGlvblVwZGF0ZXIuanNcIjtpbXBvcnR7Z2V0Q2FjaGVkQXR0cmlidXRlVmFsdWUgYXMgVmV9ZnJvbVwiLi9pM3MvSTNTQmluYXJ5UmVhZGVyLmpzXCI7aW1wb3J0e0kzU0Nyb3NzZmFkZUhlbHBlciBhcyBOZSxOb2RlQ3Jvc3NmYWRlTWV0YURhdGEgYXMgUGV9ZnJvbVwiLi9pM3MvSTNTQ3Jvc3NmYWRlSGVscGVyLmpzXCI7aW1wb3J0e2JvdW5kaW5nQm94Q29ybmVyUG9pbnRzIGFzIEhlfWZyb21cIi4vaTNzL0kzU0dlb21ldHJ5VXRpbC5qc1wiO2ltcG9ydHtJM1NJbnRlcnNlY3Rpb25IYW5kbGVyIGFzIFVlfWZyb21cIi4vaTNzL0kzU0ludGVyc2VjdGlvbkhhbmRsZXIuanNcIjtpbXBvcnR7Z2V0U3VwcG9ydGVkRW5jb2RpbmdzIGFzIGtlLHNlbGVjdEVuY29kaW5nIGFzIExlLGRlZmF1bHRNYXRlcmlhbCBhcyBHZSxjcmVhdGVUZXh0dXJlIGFzIEJlLGNvbmZpZ3VyZU1hdGVyaWFsIGFzIHFlfWZyb21cIi4vaTNzL0kzU01hdGVyaWFsVXRpbC5qc1wiO2ltcG9ydHtOb2RlSU1Nb2RpZmljYXRpb25JbXBhY3QgYXMgV2UsTm9kZVN0YXRlIGFzIHplfWZyb21cIi4vaTNzL0kzU05vZGUuanNcIjtpbXBvcnR7STNTT3ZlcnJpZGVzIGFzIEtlfWZyb21cIi4vaTNzL0kzU092ZXJyaWRlcy5qc1wiO2ltcG9ydHtjb21wdXRlR2xvYmFsVHJhbnNmb3JtYXRpb24gYXMgJGV9ZnJvbVwiLi9pM3MvSTNTUHJvamVjdGlvblV0aWwuanNcIjtpbXBvcnR7cmVuZGVyZXJOZWVkc1RleHR1cmVzIGFzIFFlLGNoZWNrU2NlbmVMYXllclZhbGlkIGFzIFhlLGNoZWNrU2NlbmVMYXllckNvbXBhdGlibGVXaXRoVmlldyBhcyBZZSx3aGVuR3JhcGhpY0F0dHJpYnV0ZXMgYXMgSmUsY29tcHV0ZVZpc2liaWxpdHlPYmIgYXMgWmUsZmlsdGVySW5QbGFjZSBhcyBldCxpbnRlcnNlY3RCb3VuZGluZ1JlY3RXaXRoTWJzIGFzIHR0LE1ic0ludGVyc2VjdFJlc3VsdCBhcyBpdCxhZGRXcmFwYXJvdW5kIGFzIHN0LGdldFN5bWJvbEluZm8gYXMgcnQsdHJhbnNwYXJlbnRFZGdlTWF0ZXJpYWwgYXMgb3QsZ2V0Q2xpcFJlY3QgYXMgYXR9ZnJvbVwiLi9pM3MvSTNTVXRpbC5qc1wiO2ltcG9ydHtJREJDYWNoZSBhcyBudH1mcm9tXCIuL2kzcy9JREJDYWNoZS5qc1wiO2ltcG9ydHtJREJNb2NrQ2FjaGUgYXMgbHR9ZnJvbVwiLi9pM3MvSURCTW9ja0NhY2hlLmpzXCI7aW1wb3J0e0xheWVyRWxldmF0aW9uUHJvdmlkZXIgYXMgZHR9ZnJvbVwiLi9pM3MvTGF5ZXJFbGV2YXRpb25Qcm92aWRlci5qc1wiO2ltcG9ydHtTeW1ib2xvZ3lJbmZvIGFzIGh0fWZyb21cIi4vaTNzL1N5bWJvbG9neUluZm8uanNcIjtpbXBvcnR7YXR0cmlidXRlTG9va3VwIGFzIGN0fWZyb21cIi4vc3VwcG9ydC9hdHRyaWJ1dGVVdGlscy5qc1wiO2ltcG9ydHtlbXB0eUhpZ2hsaWdodEhhbmRsZSBhcyB1dCxub3JtYWxpemVIaWdobGlnaHRUYXJnZXRFeGNlcHRRdWVyeSBhcyBfdH1mcm9tXCIuL3N1cHBvcnQvaGlnaGxpZ2h0VXRpbHMuanNcIjtpbXBvcnR7bWFrZVNjaGVkdWxlRnVuY3Rpb24gYXMgbXR9ZnJvbVwiLi9zdXBwb3J0L21ha2VTY2hlZHVsZUZ1bmN0aW9uLmpzXCI7aW1wb3J0e0NvbG9yTWl4TW9kZUVudW0gYXMgZ3R9ZnJvbVwiLi9zdXBwb3J0L3N5bWJvbENvbG9yVXRpbHMuanNcIjtpbXBvcnR7ZGVidWdGbGFncyBhcyBmdH1mcm9tXCIuLi9zdXBwb3J0L2RlYnVnRmxhZ3MuanNcIjtpbXBvcnR7RWxldmF0aW9uUmFuZ2UgYXMgcHR9ZnJvbVwiLi4vc3VwcG9ydC9FbGV2YXRpb25SYW5nZS5qc1wiO2ltcG9ydHt0b0JvdW5kaW5nUmVjdCBhcyB5dH1mcm9tXCIuLi9zdXBwb3J0L2V4dGVudFV0aWxzLmpzXCI7aW1wb3J0e09iYiBhcyBidH1mcm9tXCIuLi9zdXBwb3J0L29yaWVudGVkQm91bmRpbmdCb3guanNcIjtpbXBvcnR7dXBkYXRpbmdQcm9ncmVzcyBhcyBJdH1mcm9tXCIuLi9zdXBwb3J0L3VwZGF0aW5nUHJvcGVydGllcy5qc1wiO2ltcG9ydHtnbExheW91dCBhcyB2dH1mcm9tXCIuLi9zdXBwb3J0L2J1ZmZlci9nbFV0aWwuanNcIjtpbXBvcnR7T2JqZWN0UGFyYW1ldGVycyBhcyBDdH1mcm9tXCIuLi93ZWJnbC1lbmdpbmUvY29sbGVjdGlvbnMvQ29tcG9uZW50L09iamVjdFBhcmFtZXRlcnMuanNcIjtpbXBvcnR7Y3JlYXRlVmVydGV4QnVmZmVyTGF5b3V0IGFzIE10LEdlb21ldHJ5UGFyYW1ldGVycyBhcyB3dH1mcm9tXCIuLi93ZWJnbC1lbmdpbmUvY29sbGVjdGlvbnMvQ29tcG9uZW50L1NvdXJjZUdlb21ldHJ5LmpzXCI7aW1wb3J0e1RyYW5zZm9ybSBhcyB4dH1mcm9tXCIuLi93ZWJnbC1lbmdpbmUvY29sbGVjdGlvbnMvQ29tcG9uZW50L1RyYW5zZm9ybS5qc1wiO2ltcG9ydHtUZXh0dXJlQ29vcmRpbmF0ZVR5cGUgYXMgRXR9ZnJvbVwiLi4vd2ViZ2wtZW5naW5lL2NvcmUvc2hhZGVyTGlicmFyeS9hdHRyaWJ1dGVzL1RleHR1cmVDb29yZGluYXRlQXR0cmlidXRlLmdsc2wuanNcIjtpbXBvcnR7bG9hZEJhc2lzVHJhbnNjb2RlciBhcyBSdH1mcm9tXCIuLi93ZWJnbC1lbmdpbmUvbGliL0Jhc2lzVXRpbC5qc1wiO2ltcG9ydHtUcmFuc3BhcmVuY3kgYXMgT3R9ZnJvbVwiLi4vd2ViZ2wtZW5naW5lL2xpYi9lZGdlUmVuZGVyaW5nL2ludGVyZmFjZXMuanNcIjtpbXBvcnR7ZGVmYXVsdEhpZ2hsaWdodE5hbWUgYXMganR9ZnJvbVwiLi4vLi4vc3VwcG9ydC9IaWdobGlnaHREZWZhdWx0cy5qc1wiO2ltcG9ydHtUZXh0dXJlQ29tcHJlc3Npb25UcmFja2VyIGFzIFN0fWZyb21cIi4uLy4uL3N1cHBvcnQvVGV4dHVyZUNvbXByZXNzaW9uVHJhY2tlci5qc1wiO2ltcG9ydHthbHBoYUN1dG9mZiBhcyBBdH1mcm9tXCIuLi8uLi8uLi93ZWJzY2VuZS9zdXBwb3J0L0FscGhhQ3V0b2ZmLmpzXCI7Y29uc3QgVHQ9WzEsMSwxLDFdO2NsYXNzIER0IGV4dGVuZHMgUGV7Y29uc3RydWN0b3IoZSx0LGkscyxyLG8sYSxuLGwpe3N1cGVyKCksdGhpcy5ub2RlPWUsdGhpcy5mZWF0dXJlSWRzPXQsdGhpcy5vYmplY3RIYW5kbGU9aSx0aGlzLmNhY2hlZFJlbmRlcmVyVmVyc2lvbj1zLHRoaXMuYXR0cmlidXRlSW5mbz1yLHRoaXMubWF0ZXJpYWw9byx0aGlzLnRleHR1cmVzPWEsdGhpcy5hbmNob3JJZHM9bix0aGlzLmFuY2hvcnM9bCx0aGlzLmNhY2hlZEVsZXZhdGlvbkFuY2hvcnM9bnVsbCx0aGlzLmNhY2hlZEVkZ2VNYXRlcmlhbHM9bmV3IEFycmF5LHRoaXMuZWRnZU1lbW9yeVVzYWdlPTB9Z2V0IGNhY2hlZE1lbW9yeSgpe3JldHVybiB0aGlzLm5vZGUubWVtb3J5fWdldCBmZWF0dXJlRXh0ZW50cygpe3JldHVybiB0aGlzLl9mZWF0dXJlRXh0ZW50cz8/PW5ldyBGbG9hdDY0QXJyYXkoNip0aGlzLmZlYXR1cmVJZHMubGVuZ3RoKS5maWxsKE51bWJlci5QT1NJVElWRV9JTkZJTklUWSksdGhpcy5fZmVhdHVyZUV4dGVudHN9fXZhciBGdDshZnVuY3Rpb24oZSl7ZVtlLkNhc3RTaGFkb3dzPTRdPVwiQ2FzdFNoYWRvd3NcIixlW2UuUGlja2FibGU9NV09XCJQaWNrYWJsZVwifShGdHx8KEZ0PXt9KSk7Y29uc3QgVnQ9MjYsTnQ9MTAwKm8uTUVHQUJZVEVTLFB0PXQ9PntsZXQgbz1jbGFzcyBleHRlbmRzIHR7Y29uc3RydWN0b3IoKXtzdXBlciguLi5hcmd1bWVudHMpLHRoaXMuX2FwcGx5U1NBTz0hMCx0aGlzLl9zaGFkZU5vcm1hbHM9ITAsdGhpcy5fdXBkYXRpbmdIYW5kbGVzPW5ldyBrLHRoaXMuX25vZGVJZDJNZXRhPW5ldyBNYXAsdGhpcy5fbm9kZUlkMk1ldGFSZWxvYWRpbmc9bmV3IE1hcCx0aGlzLl9pM3NXYXNtTG9hZGVkPSExLHRoaXMuX3NuYXBwaW5nU291cmNlc1RyYWNrZXJzPVtdLHRoaXMuX2NvbXByZXNzaW9uVHJhY2tlcj1uZXcgU3QsdGhpcy5faGFzTG9hZGVkUEJSVGV4dHVyZXM9ITEsdGhpcy5fYXN5bmNNb2R1bGVMb2FkaW5nPTAsdGhpcy5fYWRkVGFza3M9bmV3IE1hcCx0aGlzLl9jdXJyZW50UmVuZGVyZXI9bnVsbCx0aGlzLl9yZW5kZXJlclZlcnNpb249MCx0aGlzLl9jb2xvclZhcmlhYmxlPW51bGwsdGhpcy5fb3BhY2l0eVZhcmlhYmxlPW51bGwsdGhpcy5fcmVuZGVyZXJGaWVsZHM9bnVsbCx0aGlzLl9zeW1ib2xvZ3lGaWVsZHM9bnVsbCx0aGlzLl9zeW1ib2xvZ3lPdmVycmlkZT1udWxsLHRoaXMuX3N5bWJvbG9neU92ZXJyaWRlRmllbGRzPW51bGwsdGhpcy5fc3ltYm9sSW5mb3M9bmV3IE1hcCx0aGlzLl92aXNpYmxlR2VvbWV0cnlDaGFuZ2VkU2NoZWR1bGVySGFuZGxlPW51bGwsdGhpcy5faGFzQ29tcG9uZW50RGF0YT0hMSx0aGlzLl9oYXNWZXJ0ZXhDb2xvcnM9ITEsdGhpcy5fbm9kZUNvbG9yT3ZlcnJpZGU9bnVsbCx0aGlzLnVwZGF0aW5nPSEwLHRoaXMuaG9sZUZpbGxpbmc9XCJhdXRvXCIsdGhpcy5faGFzQ29sb3JzPSExLHRoaXMuX2hhc1RleHR1cmVzPSExLHRoaXMuX2hhc0RhdGE9ITEsdGhpcy5zbGljZVBsYW5lRW5hYmxlZD0hMSx0aGlzLl9tb2RpZmljYXRpb25zPW5ldyBBcnJheSx0aGlzLmlnbm9yZXNNZW1vcnlGYWN0b3I9ITEsdGhpcy5fbGF5ZXJVcmw9XCJcIix0aGlzLl9jYWNoZUtleVN1ZmZpeD1udWxsLHRoaXMuX3BsYW5ldFJhZGl1c0luR2xvYmFsTW9kZT0wLHRoaXMuX2VsZXZhdGlvblRhc2s9bnVsbCx0aGlzLl9uZWVkRmlsdGVyUmVzb2x2ZT0hMSx0aGlzLl9maWx0ZXJzPVtdLHRoaXMuX2FyY2FkZT1udWxsLHRoaXMuX3RtcEF0dHJpYnV0ZU9ubHlHcmFwaGljPW5ldyBpLHRoaXMuX2Nyb3NzZmFkZUhlbHBlcj1uZXcgTmUodGhpcyl9Z2V0IGxvZENyb3NzZmFkZW91dER1cmF0aW9uKCl7cmV0dXJuIDB9Z2V0IGxvZENyb3NzZmFkZWluRHVyYXRpb24oKXtyZXR1cm4gMH1nZXQgbG9kQ3Jvc3NmYWRlVW5jb3ZlcmVkRHVyYXRpb24oKXtyZXR1cm4gMH1nZXQgbGF5ZXJWaWV3VWlkKCl7cmV0dXJuIHRoaXMudWlkfWdldCBsYXllcklkKCl7cmV0dXJuIHRoaXMuaTNzbGF5ZXImJnRoaXMuaTNzbGF5ZXIuaWR9Z2V0IHN1YmxheWVySWQoKXtyZXR1cm4gbnVsbH1nZXQgX2lzSW50ZWdyYXRlZE1lc2goKXtyZXR1cm5cImludGVncmF0ZWQtbWVzaFwiPT09dGhpcy5pM3NsYXllci50eXBlfWdldCBjb250ZW50VmlzaWJsZSgpe3JldHVybiF0aGlzLnN1c3BlbmRlZCYmdGhpcy5fY29udHJvbGxlcj8ucm9vdE5vZGVWaXNpYmxlJiZ0aGlzLmZ1bGxPcGFjaXR5PkF0fWdldCBsZWdlbmRFbmFibGVkKCl7cmV0dXJuIHRoaXMuY29udGVudFZpc2libGUmJiEwPT09dGhpcy5pM3NsYXllcj8ubGVnZW5kRW5hYmxlZH1nZXQgdXBkYXRpbmdQcm9ncmVzc1ZhbHVlKCl7cmV0dXJuIHRoaXMuX2NvbnRyb2xsZXI/LnVwZGF0aW5nUHJvZ3Jlc3M/PzB9Z2V0IGhhc1RleHR1cmVzT3JWZXJ0ZXhDb2xvcnMoKXtyZXR1cm4gdGhpcy5faGFzRGF0YT90aGlzLl9oYXNUZXh0dXJlc3x8dGhpcy5faGFzQ29sb3JzP1wieWVzXCI6XCJwcm9iYWJseS1ub3RcIjpcInVua25vd25cIn1nZXQgcmVuZGVyZXJUZXh0dXJlVXNhZ2UoKXtyZXR1cm4gUWUodGhpcy5fY3VycmVudFJlbmRlcmVyKT90aGlzLl91c2VQQlJ8fHRoaXMuX2hhc0xvYWRlZFBCUlRleHR1cmVzP0FlLkFsbFRleHR1cmVzUEJSOkFlLkFsbFRleHR1cmVzOnRoaXMuX3VzZVBCUnx8dGhpcy5faGFzTG9hZGVkUEJSVGV4dHVyZXM/QWUuR2VvbWV0cnlUZXh0dXJlc1BCUjpBZS5HZW9tZXRyeVRleHR1cmVzfWdldCBlbGV2YXRpb25PZmZzZXQoKXtjb25zdCBlPW51bGwhPXRoaXMuaTNzbGF5ZXI/dGhpcy5pM3NsYXllci5lbGV2YXRpb25JbmZvOm51bGw7cmV0dXJuIG51bGwhPWUmJlwiYWJzb2x1dGUtaGVpZ2h0XCI9PT1lLm1vZGU/dWUoZSx0aGlzLmkzc2xheWVyLnNwYXRpYWxSZWZlcmVuY2UpOjB9Z2V0IGVsZXZhdGlvbkluZm8oKXtjb25zdCBlPW51bGwhPXRoaXMuaTNzbGF5ZXI/dGhpcy5pM3NsYXllci5lbGV2YXRpb25JbmZvOm51bGw7aWYobnVsbD09ZSlyZXR1cm4gbmV3IEp0KENlLkFic29sdXRlLDApO2NvbnN0IHQ9dWUoZSx0aGlzLmkzc2xheWVyLnNwYXRpYWxSZWZlcmVuY2UpO3N3aXRjaChlLm1vZGUpe2Nhc2VcImFic29sdXRlLWhlaWdodFwiOnJldHVybiBuZXcgSnQoQ2UuQWJzb2x1dGUsdCk7Y2FzZVwicmVsYXRpdmUtdG8tZ3JvdW5kXCI6cmV0dXJuIG5ldyBKdChDZS5SZWxhdGl2ZVRvR3JvdW5kLHQpO2Nhc2VcIm9uLXRoZS1ncm91bmRcIjpyZXR1cm4gbmV3IEp0KENlLk9uVGhlR3JvdW5kLDApO2RlZmF1bHQ6cmV0dXJuIG5ldyBKdChDZS5BYnNvbHV0ZSwwKX19Z2V0IHN1cHBvcnRlZFRleHR1cmVFbmNvZGluZ3MoKXtyZXR1cm4ga2UodGhpcy52aWV3LnN0YWdlLnJlbmRlclZpZXcuY2FwYWJpbGl0aWVzKX1nZXQgY2xpZW50R2VvbWV0cnkoKXtyZXR1cm4gdGhpcy5pM3NPdmVycmlkZXMuZ2VvbWV0cnlPdmVycmlkZXN9Z2V0IGVsZXZhdGlvblJhbmdlKCl7Y29uc3QgZT10aGlzLl9ub2RlSWQyTWV0YSx0PW5ldyBwdDtmb3IoY29uc3QgaSBvZiBlLnZhbHVlcygpKXtpZihudWxsPT1pKWNvbnRpbnVlO2NvbnN0e25vZGU6e3NlcnZpY2VNYnNJbkluZGV4U1I6ZX19PWksW3MscixvLGFdPWU7dC5leHBhbmRFbGV2YXRpb25SYW5nZVZhbHVlcyhvLWEsbythKX1yZXR1cm4gdC5lbGV2YXRpb25SYW5nZVZhbGlkP3Q6bnVsbH1nZXQgZnVsbEV4dGVudCgpe3JldHVybiB0aGlzLmkzc2xheWVyLmZ1bGxFeHRlbnR9aW5pdGlhbGl6ZSgpe2NvbnN0IGU9aGFzKFwiZW5hYmxlLWZlYXR1cmU6aWRiLW1vY2stY2FjaGVcIik7dGhpcy5faWRiQ2FjaGU9ZT9uZXcgbHQodGhpcy52aWV3LGUpOm5ldyBudChcImVzcmktc2NlbmVsYXllci1jYWNoZVwiLFwiZ2VvbWV0cmllc1wiKSx0aGlzLl9wcmVMb2FkQmFzaXMoKSx0aGlzLmFkZFJlc29sdmluZ1Byb21pc2UodGhpcy5pM3NsYXllci5pbmRleEluZm8pO2NvbnN0IHQ9dGhpcy52aWV3LnJlc291cmNlQ29udHJvbGxlcixpPXQubWVtb3J5Q29udHJvbGxlcjt0aGlzLmkzc092ZXJyaWRlcz1uZXcgS2Uoe3ZpZXc6dGhpcy52aWV3LGxheWVyOnRoaXMuaTNzbGF5ZXIsbWVtb3J5Q29udHJvbGxlcjppfSksdGhpcy5fd29ya2VyPW5ldyBJZShtdCh0KSksdGhpcy5hZGRSZXNvbHZpbmdQcm9taXNlKHRoaXMuX3dvcmtlci5wcm9taXNlKTtjb25zdCBzPXRoaXMuaTNzbGF5ZXIuc3RvcmU7dGhpcy5hZGRSZXNvbHZpbmdQcm9taXNlKHRoaXMuX3dvcmtlci5zZXRMZWdhY3lTY2hlbWEodGhpcy51aWQscy5kZWZhdWx0R2VvbWV0cnlTY2hlbWEpLmNhdGNoKGgpKSxYZSh0aGlzLmkzc2xheWVyKSxZZSh0aGlzLmkzc2xheWVyLHRoaXMudmlldyksdGhpcy5fbGF5ZXJVcmw9dGhpcy5pM3NsYXllci5wYXJzZWRVcmwucGF0aCx0aGlzLl9jb250cm9sbGVyPW5ldyBhZSh7bGF5ZXJWaWV3OnRoaXMsd29ya2VyOnRoaXMuX3dvcmtlcn0pLHRoaXMuX2dwdU1lbW9yeUVzdGltYXRlPTAsdGhpcy5fdGV4TWVtb3J5RXN0aW1hdGU9MCx0aGlzLl9nZW9NZW1vcnlFc3RpbWF0ZT0wLHRoaXMuX3N0YWdlPXRoaXMudmlldy5zdGFnZSx0aGlzLl9jb2xsZWN0aW9uPXRoaXMuX3N0YWdlLnJlbmRlclZpZXcuY29tcG9uZW50T2JqZWN0Q29sbGVjdGlvbix0aGlzLnJlc2V0SGlnaGxpZ2h0cygpO2NvbnN0IHI9cy5kZWZhdWx0R2VvbWV0cnlTY2hlbWE7aWYodGhpcy5faXNJbnRlZ3JhdGVkTWVzaHx8IXIpdGhpcy5faGFzQ29tcG9uZW50RGF0YT0hMTtlbHNle2NvbnN0IGU9ci5mZWF0dXJlQXR0cmlidXRlczt0aGlzLl9oYXNDb21wb25lbnREYXRhPSEhKGUmJmUuZmFjZVJhbmdlJiZlLmlkKX10aGlzLl9oYXNWZXJ0ZXhDb2xvcnM9bnVsbCE9KHI/LnZlcnRleEF0dHJpYnV0ZXMuY29sb3I/P251bGwpJiYhdGhpcy5pM3NsYXllci5jYWNoZWREcmF3aW5nSW5mbz8uY29sb3I7Y29uc3Qgbz10aGlzLnZpZXcucmVzb3VyY2VDb250cm9sbGVyLm1lbW9yeUNvbnRyb2xsZXIubmV3Q2FjaGUoYHNsLSR7dGhpcy51aWR9YCwoZT0+dGhpcy5fZGVsZXRlQ29tcG9uZW50T2JqZWN0KGUpKSk7dGhpcy5fbWVtQ2FjaGU9bztjb25zdCBuPXRoaXMuX2NvbnRyb2xsZXIsZD10aGlzLl9ub2RlSWQyTWV0YSxjPXRoaXMuX25vZGVJZDJNZXRhUmVsb2FkaW5nLHU9ZT0+e2NvbnN0IHQ9bi5pbmRleDtpZighdClyZXR1cm47Y29uc3QgaT10LnJvb3ROb2RlO2lmKCFpKXJldHVybjtjb25zdCBzPXQ9Pntjb25zdCBpPXQuaW5kZXgscz1kLmdldChpKXx8Yy5nZXQoaSk7cmV0dXJuIGUodCxzPy5vYmplY3RIYW5kbGU/P251bGwpfTt0LnRyYXZlcnNlKGkscyl9O3RoaXMuX2ludGVyc2VjdGlvbkhhbmRsZXI9bmV3IFVlKHtsYXllclZpZXdVaWQ6dGhpcy5sYXllclZpZXdVaWQsc3VibGF5ZXJJZDp0aGlzLnN1YmxheWVySWQsY29sbGVjdGlvbjp0aGlzLl9jb2xsZWN0aW9uLHNsaWNlUGxhbmVFbmFibGVkOnRoaXMuc2xpY2VQbGFuZUVuYWJsZWQsaXNHcm91bmQ6dGhpcy5faXNJbnRlZ3JhdGVkTWVzaCx0cmF2ZXJzZU5vZGVIaWVyYXJjaHk6dX0pLHRoaXMuX2VsZXZhdGlvblByb3ZpZGVyPW5ldyBkdCh7dmlldzp0aGlzLnZpZXcsbGF5ZXJFbGV2YXRpb25Tb3VyY2U6dGhpcyxpbnRlcnNlY3Rpb25IYW5kbGVyOnRoaXMuX2ludGVyc2VjdGlvbkhhbmRsZXJ9KSx0aGlzLl9oYXNMb2FkZWRQQlJUZXh0dXJlcz10aGlzLl91c2VQQlIsdGhpcy5fdXBkYXRpbmdIYW5kbGVzLmFkZCgoKCk9PnRoaXMudmlldy5jbGlwcGluZ0FyZWEpLCgoKT0+dGhpcy5fY2xpcHBpbmdBcmVhQ2hhbmdlZCgpKSxtKSx0aGlzLl91cGRhdGluZ0hhbmRsZXMuYWRkKCgoKT0+dGhpcy5mdWxsT3BhY2l0eSksKGU9PnRoaXMuX29wYWNpdHlDaGFuZ2UoZSkpKSx0aGlzLl91cGRhdGluZ0hhbmRsZXMuYWRkKCgoKT0+dGhpcy5zbGljZVBsYW5lRW5hYmxlZCksKGU9PnRoaXMuX3NsaWNlUGxhbmVFbmFibGVkQ2hhbmdlKGUpKSksdGhpcy5fdXBkYXRpbmdIYW5kbGVzLmFkZCgoKCk9PnRoaXMuZWxldmF0aW9uT2Zmc2V0KSwoKGUsdCk9Pnt0aGlzLl9yZWxvYWRBbGwodCksdGhpcy5fY29udHJvbGxlci5pbnZhbGlkYXRlVmlzaWJpbGl0eU9iYnMoKX0pKSx0aGlzLl91cGRhdGluZ0hhbmRsZXMuYWRkKCgoKT0+dGhpcy5lbGV2YXRpb25JbmZvKSwoKGUsdCk9PnRoaXMuX2VsZXZhdGlvbkluZm9DaGFuZ2VkKGUsdCkpLG0pLHRoaXMuX3VwZGF0aW5nSGFuZGxlcy5hZGQoKCgpPT4hdGhpcy5zdXNwZW5kZWQmJnRoaXMuZWxldmF0aW9uSW5mby5tb2RlIT09Q2UuQWJzb2x1dGUpLCgoZSx0KT0+e2U/dGhpcy5hZGRIYW5kbGVzKHRoaXMudmlldy5iYXNlbWFwVGVycmFpbi5vbihcImVsZXZhdGlvbi1jaGFuZ2VcIiwoKHtleHRlbnQ6ZX0pPT50aGlzLl9lbnN1cmVFbGV2YXRpb25UYXNrKCkuYWRkRXh0ZW50KGUpKSksdGkpOnQmJnRoaXMucmVtb3ZlSGFuZGxlcyh0aSl9KSxtKSx0aGlzLl91cGRhdGluZ0hhbmRsZXMuYWRkKCgoKT0+dGhpcy5fdXNlUEJSKSwoZT0+dGhpcy5fdXBkYXRlUEJSKGUpKSk7Y29uc3QgXz0oKT0+e3RoaXMuX3JlbG9hZEFsbCgpLHRoaXMuY2xlYXJNZW1DYWNoZSgpfTt0aGlzLl91cGRhdGluZ0hhbmRsZXMuYWRkKCgoKT0+dGhpcy5yZW5kZXJlclRleHR1cmVVc2FnZSksXyksdGhpcy5fdXBkYXRpbmdIYW5kbGVzLmFkZCgoKCk9PnRoaXMuY29udGVudFZpc2libGUpLChlPT50aGlzLl9jb250ZW50VmlzaWJsZUNoYW5nZWQoZSkpLG0pLHRoaXMuX3VwZGF0aW5nSGFuZGxlcy5hZGQoKCgpPT50aGlzLmkzc2xheWVyLmxhYmVsc1Zpc2libGUpLCgoKT0+dGhpcy5fbGFiZWxpbmdDaGFuZ2VkKCkpLG0pLHRoaXMuX3VwZGF0aW5nSGFuZGxlcy5hZGQoKCgpPT50aGlzLmkzc2xheWVyLmxhYmVsaW5nSW5mbyksKCgpPT50aGlzLl9sYWJlbGluZ0NoYW5nZWQoKSksbSksdGhpcy5fdXBkYXRpbmdIYW5kbGVzLmFkZCgoKCk9PnRoaXMuX21vZGlmaWNhdGlvbnMpLCgoKT0+dGhpcy5fbW9kaWZpY2F0aW9uc0NoYW5nZWQoKSksbSksdGhpcy5hZGRIYW5kbGVzKFtnKCgoKT0+ZnQuSTNTX1RSRUVfU0hPV19USUxFUyksKGU9PntpZihlJiYhdGhpcy5fdHJlZURlYnVnZ2VyKXtjb25zdCBlPXRoaXMuX2NvbnRyb2xsZXIuY3JzSW5kZXg7aW1wb3J0KFwiLi9zdXBwb3J0L0kzU1RyZWVEZWJ1Z2dlci5qc1wiKS50aGVuKCgoe0kzU1RyZWVEZWJ1Z2dlcjp0fSk9PnshdGhpcy5fdHJlZURlYnVnZ2VyJiZmdC5JM1NfVFJFRV9TSE9XX1RJTEVTJiYodGhpcy5fdHJlZURlYnVnZ2VyPW5ldyB0KHtsdjp0aGlzLHZpZXc6dGhpcy52aWV3LG5vZGVTUjplfSkpfSkpfWVsc2UgZXx8ZnQuSTNTX1RSRUVfU0hPV19USUxFU3x8KHRoaXMuX3RyZWVEZWJ1Z2dlcj1sKHRoaXMuX3RyZWVEZWJ1Z2dlcikpfSksbSksZygoKCk9PmZ0LkkzU19TSE9XX01PRElGSUNBVElPTlMpLCgoKT0+dGhpcy5fc2hvd01vZGlmaWNhdGlvbnMoKSksbSldKSx0aGlzLl9jYWNoZUtleVN1ZmZpeD10aGlzLl9nZXRDYWNoZUtleVN1ZmZpeCgpLHRoaXMuX2lkYkNhY2hlLmluaXQoKS5jYXRjaCgoZT0+YS5nZXRMb2dnZXIodGhpcykud2FybihgRmFpbGVkIHRvIGluaXRpYWxpemUgSW5kZXhlZERCIGNhY2hlOiAke2V9YCkpKTtjb25zdHt2aWV3OmZ9PXRoaXMse3ZpZXdpbmdNb2RlOnAscmVuZGVyQ29vcmRzSGVscGVyOnl9PWY7dGhpcy5fcGxhbmV0UmFkaXVzSW5HbG9iYWxNb2RlPVwibG9jYWxcIj09PXA/MDp5LnJlZmVyZW5jZUVsbGlwc29pZC5yYWRpdXN9ZGVzdHJveSgpe3RoaXMuX2NsZWFyQWRkVGFza3MoKSx0aGlzLl9lbGV2YXRpb25UYXNrPWwodGhpcy5fZWxldmF0aW9uVGFzayksdGhpcy5pM3NPdmVycmlkZXM9bCh0aGlzLmkzc092ZXJyaWRlcyksdGhpcy5fZWxldmF0aW9uUHJvdmlkZXImJih0aGlzLl9lbGV2YXRpb25Qcm92aWRlci5vYmplY3RzQ2hhbmdlZCh0aGlzLmdldFZpc2libGVPYmJzKCkpLHRoaXMudmlldy5lbGV2YXRpb25Qcm92aWRlci51bnJlZ2lzdGVyKHRoaXMuX2VsZXZhdGlvblByb3ZpZGVyKSx0aGlzLl9lbGV2YXRpb25Qcm92aWRlcj1udWxsKSx0aGlzLl9pbnRlcnNlY3Rpb25IYW5kbGVyJiYodGhpcy5fc3RhZ2Uudmlldy5zY2VuZUludGVyc2VjdGlvbkhlbHBlci5yZW1vdmVJbnRlcnNlY3Rpb25IYW5kbGVyKHRoaXMuX2ludGVyc2VjdGlvbkhhbmRsZXIpLHRoaXMuX2ludGVyc2VjdGlvbkhhbmRsZXI9bnVsbCk7Y29uc3QgZT10aGlzLl93b3JrZXI7ZSYmKGUuZGVzdHJveUNvbnRleHQodGhpcy51aWQpLnRoZW4oKCgpPT5lLmRlc3Ryb3koKSkpLHRoaXMuX3dvcmtlcj1udWxsKSx0aGlzLl9yZW1vdmVBbGxOb2RlRGF0YUZyb21TdGFnZSgpLHRoaXMuX21lbUNhY2hlPWwodGhpcy5fbWVtQ2FjaGUpLHRoaXMuX2NvbGxlY3Rpb249bnVsbCx0aGlzLl9zdGFnZT1udWxsLHRoaXMuX2VkZ2VWaWV3PW51bGwsdGhpcy5fbGFiZWxlcj1sKHRoaXMuX2xhYmVsZXIpLHRoaXMuX3RyZWVEZWJ1Z2dlcj1sKHRoaXMuX3RyZWVEZWJ1Z2dlciksdGhpcy5fY29udHJvbGxlcj1sKHRoaXMuX2NvbnRyb2xsZXIpLHRoaXMuX2hpZ2hsaWdodHMuZGVzdHJveSgpLHRoaXMuX25vZGVJZDJNZXRhLmNsZWFyKCksdGhpcy5fbm9kZUlkMk1ldGFSZWxvYWRpbmcuY2xlYXIoKSx0aGlzLl9jcm9zc2ZhZGVIZWxwZXI9bCh0aGlzLl9jcm9zc2ZhZGVIZWxwZXIpLHRoaXMuZW1pdChcInZpc2libGUtZ2VvbWV0cnktY2hhbmdlZFwiKSx0aGlzLl92aXNpYmxlR2VvbWV0cnlDaGFuZ2VkU2NoZWR1bGVySGFuZGxlJiYodGhpcy5fdmlzaWJsZUdlb21ldHJ5Q2hhbmdlZFNjaGVkdWxlckhhbmRsZS5yZW1vdmUoKSx0aGlzLl92aXNpYmxlR2VvbWV0cnlDaGFuZ2VkU2NoZWR1bGVySGFuZGxlPW51bGwpLHRoaXMuX3VwZGF0aW5nSGFuZGxlcz1sKHRoaXMuX3VwZGF0aW5nSGFuZGxlcyl9X21lbUVzdGltYXRlVGV4dHVyZUFkZGVkKGUpe2NvbnN0IHQ9ZS51c2VkTWVtb3J5O3JldHVybiB0aGlzLl9ncHVNZW1vcnlFc3RpbWF0ZSs9dCx0aGlzLl90ZXhNZW1vcnlFc3RpbWF0ZSs9dCx0fV9tZW1Fc3RpbWF0ZVRleHR1cmVSZW1vdmVkKGUpe2lmKG51bGwhPWUpe2NvbnN0IHQ9ZS51c2VkTWVtb3J5O3RoaXMuX2dwdU1lbW9yeUVzdGltYXRlLT10LHRoaXMuX3RleE1lbW9yeUVzdGltYXRlLT10fX1fbWVtRXN0aW1hdGVHZW9tZXRyeUFkZGVkKGUpe2NvbnN0IHQ9dGhpcy5fY29sbGVjdGlvbi5nZXRPYmplY3RHUFVNZW1vcnlVc2FnZShlKTtyZXR1cm4gdGhpcy5fZ3B1TWVtb3J5RXN0aW1hdGUrPXQsdGhpcy5fZ2VvTWVtb3J5RXN0aW1hdGUrPXQsdH1fbWVtRXN0aW1hdGVHZW9tZXRyeVJlbW92ZWQoZSl7Y29uc3QgdD10aGlzLl9jb2xsZWN0aW9uLmdldE9iamVjdEdQVU1lbW9yeVVzYWdlKGUpO3RoaXMuX2dwdU1lbW9yeUVzdGltYXRlLT10LHRoaXMuX2dlb01lbW9yeUVzdGltYXRlLT10fWlzTm9kZUxvYWRlZChlKXtyZXR1cm4gdGhpcy5fbm9kZUlkMk1ldGEuaGFzKGUpfWlzTm9kZVJlbG9hZGluZyhlKXtyZXR1cm4gdGhpcy5fbm9kZUlkMk1ldGFSZWxvYWRpbmcuaGFzKGUpfWdldCB1c2VkTWVtb3J5KCl7bGV0IGU9bnVsbCE9dGhpcy5fbGFiZWxlcj90aGlzLl9sYWJlbGVyLnVzZWRNZW1vcnk6MDtyZXR1cm4gdGhpcy5fbm9kZUlkMk1ldGEuZm9yRWFjaCgodD0+ZSs9bnVsbCE9dD90Lm5vZGUubWVtb3J5OjApKSx0aGlzLl9ub2RlSWQyTWV0YVJlbG9hZGluZy5mb3JFYWNoKCh0PT5lKz1udWxsIT10P3Qubm9kZS5tZW1vcnk6MCkpLGV9Z2V0IHVubG9hZGVkTWVtb3J5KCl7cmV0dXJuKG51bGwhPXRoaXMuX2NvbnRyb2xsZXI/dGhpcy5fY29udHJvbGxlci51bmxvYWRlZE1lbW9yeUVzdGltYXRlOjApKyhudWxsIT10aGlzLl9sYWJlbGVyP3RoaXMuX2xhYmVsZXIudW5sb2FkZWRNZW1vcnlFc3RpbWF0ZTowKX1fbGFiZWxpbmdDaGFuZ2VkKCl7aWYoIShTZSh0aGlzLmkzc2xheWVyKSYmdGhpcy5fc3VwcG9ydHNMYWJlbGluZykpcmV0dXJuIHZvaWQobnVsbCE9dGhpcy5fbGFiZWxlciYmKHRoaXMuX2xhYmVsZXIuZGVzdHJveSgpLHRoaXMuX2xhYmVsZXI9bnVsbCkpO2lmKG51bGwhPXRoaXMuX2xhYmVsZXIpcmV0dXJuO2NvbnN0IGU9bmV3IHllKHt2aWV3OnRoaXMudmlldyxsYXllcjp0aGlzLmkzc2xheWVyLGNvbGxlY3Rpb246dGhpcy5fY29sbGVjdGlvbixvdmVycmlkZXM6dGhpcy5pM3NPdmVycmlkZXMsbGF5ZXJWaWV3VWlkOnRoaXMudWlkfSk7dGhpcy5fbm9kZUlkMk1ldGEuZm9yRWFjaCgodD0+bnVsbCE9dCYmdGhpcy5fYWRkTWV0YVRvTGFiZWxlcihlLHQpKSksdGhpcy5fbGFiZWxlcj1lfV9sb2FkQXN5bmNNb2R1bGUoZSl7cmV0dXJuKyt0aGlzLl9hc3luY01vZHVsZUxvYWRpbmcsZS50aGVuKChlPT4oLS10aGlzLl9hc3luY01vZHVsZUxvYWRpbmcsZSkpLChlPT57dGhyb3ctLXRoaXMuX2FzeW5jTW9kdWxlTG9hZGluZyxlfSkpfV9tb2RpZmljYXRpb25zQ2hhbmdlZCgpe2lmKCF0aGlzLl9pM3NXYXNtTG9hZGVkJiZ0aGlzLmhhc01vZGlmaWNhdGlvbnMpcmV0dXJuIHRoaXMuX2kzc1dhc21Mb2FkZWQ9eGUoKS50aGVuKCgoKT0+e3RoaXMuX2kzc1dhc21Mb2FkZWQ9ITAsdGhpcy5fbW9kaWZpY2F0aW9uc0NoYW5nZWQoKSx0aGlzLm5vdGlmeVVwZGF0ZSgpfSkpLHZvaWQgdGhpcy5ub3RpZnlVcGRhdGUoKTtpZighMCE9PXRoaXMuX2kzc1dhc21Mb2FkZWQpcmV0dXJuO2NvbnN0IGU9dGhpcy51aWQsdD10aGlzLmkzc2xheWVyLnNwYXRpYWxSZWZlcmVuY2U7dGhpcy5fd29ya2VyLnNldE1vZGlmaWNhdGlvbnMoZSx0aGlzLl9sYXllckNsaXBwaW5nQXJlYSx0aGlzLl9tb2RpZmljYXRpb25zLHQpO2NvbnN0IGk9dmUodGhpcy5fbGF5ZXJDbGlwcGluZ0FyZWEsdGhpcy5fbW9kaWZpY2F0aW9ucyx0KTtFZSh7Y29udGV4dDplLG1vZGlmaWNhdGlvbnM6aSxpc0dlb2RldGljOnQuaXNHZW9ncmFwaGljfSksdGhpcy5fY29udHJvbGxlci5tb2RpZmljYXRpb25zQ2hhbmdlZCgpO2NvbnN0IHM9dGhpcy5oYXNNb2RpZmljYXRpb25zP25ldyBkOm51bGw7dGhpcy5fbm9kZUlkMk1ldGEuZm9yRWFjaCgoKGUsdCk9PntudWxsPT1lPyh0aGlzLl9ub2RlSWQyTWV0YS5kZWxldGUodCksdGhpcy5fY29udHJvbGxlci51cGRhdGVMb2FkU3RhdHVzKHQsITEpKTplLm5vZGUuaGFzTW9kaWZpY2F0aW9ucz8odGhpcy5fdXBkYXRlRmVhdHVyZUlkQ291bnRzKGUsLTEpLHRoaXMuX25vZGVJZDJNZXRhLmRlbGV0ZSh0KSx0aGlzLl9ub2RlSWQyTWV0YVJlbG9hZGluZy5zZXQodCxlKSk6bnVsbCE9cyYmcy5wdXNoKGUubm9kZSl9KSksdGhpcy5ub3RpZnlDaGFuZ2UoXCJlbGV2YXRpb25SYW5nZVwiKSxudWxsIT1zJiZ0aGlzLl9ub2RlSWQyTWV0YVJlbG9hZGluZy5mb3JFYWNoKChlPT5zLnB1c2goZS5ub2RlKSkpLG51bGwhPXMmJnMubGVuZ3RoPjAmJih0aGlzLnVwZGF0ZU5vZGVNb2RpZmljYXRpb25TdGF0dXMocykscy5mb3JBbGwoKGU9PntpZihlLmltTW9kaWZpY2F0aW9uSW1wYWN0IT09V2UuQ3VsbGVkKXtjb25zdCB0PXRoaXMuX25vZGVJZDJNZXRhLmdldChlLmluZGV4KTt0aGlzLl9jb250cm9sbGVyLmludmFsaWRhdGVHZW9tZXRyeVZpc2liaWxpdHkoZS5pbmRleCksbnVsbCE9dD8odGhpcy5fdXBkYXRlRmVhdHVyZUlkQ291bnRzKHQsLTEpLHRoaXMuX25vZGVJZDJNZXRhLmRlbGV0ZShlLmluZGV4KSx0aGlzLl9ub2RlSWQyTWV0YVJlbG9hZGluZy5zZXQoZS5pbmRleCx0KSx0aGlzLm5vdGlmeUNoYW5nZShcImVsZXZhdGlvblJhbmdlXCIpKTp0aGlzLl9ub2RlSWQyTWV0YS5oYXMoZS5pbmRleCkmJih0aGlzLl9ub2RlSWQyTWV0YS5kZWxldGUoZS5pbmRleCksdGhpcy5fY29udHJvbGxlci51cGRhdGVMb2FkU3RhdHVzKGUuaW5kZXgsITEpKX19KSkpLHRoaXMuY2xlYXJNZW1DYWNoZSgpLHRoaXMuX2NvbnRyb2xsZXIucmVzdGFydE5vZGVMb2FkaW5nKCksdGhpcy5fc2hvd01vZGlmaWNhdGlvbnMoKX1fc2hvd01vZGlmaWNhdGlvbnMoKXtpZihudWxsIT10aGlzLl9tb2RpZmljYXRpb25HcmFwaGljcyYmKHRoaXMudmlldy5ncmFwaGljcy5yZW1vdmVNYW55KHRoaXMuX21vZGlmaWNhdGlvbkdyYXBoaWNzKSx0aGlzLl9tb2RpZmljYXRpb25HcmFwaGljcz1udWxsKSwhZnQuSTNTX1NIT1dfTU9ESUZJQ0FUSU9OU3x8MD09PXRoaXMuX21vZGlmaWNhdGlvbnMubGVuZ3RoKXJldHVybjtjb25zdCBlPXtjbGlwOlsyMjcsMjI3LDc5LC44XSxtYXNrOlsyMjcsMTM5LDc5LC44XSxyZXBsYWNlOlsxMzksMjI3LDc5LC44XX0sdD17b3V0bGluZTp7Y29sb3I6WzI1NSwyNTUsMjU1XSx3aWR0aDoxfX07dGhpcy5fbW9kaWZpY2F0aW9uR3JhcGhpY3M9W107Zm9yKGNvbnN0IHMgb2YgdGhpcy5fbW9kaWZpY2F0aW9ucyl7Y29uc3Qgcj1zLmdlb21ldHJ5O3Iuc3BhdGlhbFJlZmVyZW5jZT10aGlzLmkzc2xheWVyLnNwYXRpYWxSZWZlcmVuY2U7Y29uc3Qgbz1uZXcgZmUoey4uLnQsY29sb3I6ZVtzLnR5cGVdfSk7dGhpcy5fbW9kaWZpY2F0aW9uR3JhcGhpY3MucHVzaChuZXcgaSh7Z2VvbWV0cnk6cixzeW1ib2w6b30pKX10aGlzLnZpZXcuZ3JhcGhpY3MuYWRkTWFueSh0aGlzLl9tb2RpZmljYXRpb25HcmFwaGljcyl9X2FkZE1ldGFUb0xhYmVsZXIoZSx0KXtlLmFkZE5vZGVNZXRhKHQsKChlLHQpPT50aGlzLl9jcmVhdGVBdHRyaWJ1dGVzKGUsdCkpKX1fY29udGVudFZpc2libGVDaGFuZ2VkKGUpe2U/KHRoaXMudmlldy5lbGV2YXRpb25Qcm92aWRlci5yZWdpc3Rlcih0aGlzLl9lbGV2YXRpb25Db250ZXh0LHRoaXMuX2VsZXZhdGlvblByb3ZpZGVyKSx0aGlzLl9zdGFnZS52aWV3LnNjZW5lSW50ZXJzZWN0aW9uSGVscGVyLmFkZEludGVyc2VjdGlvbkhhbmRsZXIodGhpcy5faW50ZXJzZWN0aW9uSGFuZGxlcikpOih0aGlzLl9yZW1vdmVBbGxOb2RlRGF0YUZyb21TdGFnZSgpLHRoaXMudmlldy5lbGV2YXRpb25Qcm92aWRlciYmdGhpcy52aWV3LmVsZXZhdGlvblByb3ZpZGVyLnVucmVnaXN0ZXIodGhpcy5fZWxldmF0aW9uUHJvdmlkZXIpLHRoaXMuX3N0YWdlLnZpZXcuc2NlbmVJbnRlcnNlY3Rpb25IZWxwZXIucmVtb3ZlSW50ZXJzZWN0aW9uSGFuZGxlcih0aGlzLl9pbnRlcnNlY3Rpb25IYW5kbGVyKSl9Z2V0TG9hZGVkQXR0cmlidXRlcyhlKXtjb25zdCB0PXRoaXMuX25vZGVJZDJNZXRhLmdldChlKTtpZihudWxsIT10Py5hdHRyaWJ1dGVJbmZvKXJldHVybiB0LmF0dHJpYnV0ZUluZm8ubG9hZGVkQXR0cmlidXRlc31nZXRBdHRyaWJ1dGVEYXRhKGUpe2NvbnN0IHQ9dGhpcy5fbm9kZUlkMk1ldGEuZ2V0KGUpO2lmKG51bGwhPXQ/LmF0dHJpYnV0ZUluZm8pcmV0dXJuIHQuYXR0cmlidXRlSW5mby5hdHRyaWJ1dGVEYXRhfXNldEF0dHJpYnV0ZURhdGEoZSx0KXtjb25zdCBpPXRoaXMuX25vZGVJZDJNZXRhLmdldChlKTtudWxsIT1pPy5hdHRyaWJ1dGVJbmZvJiYoaS5hdHRyaWJ1dGVJbmZvLmF0dHJpYnV0ZURhdGE9dCx0aGlzLl9hdHRyaWJ1dGVWYWx1ZXNDaGFuZ2VkKGkpKX1hc3luYyB1cGRhdGVBdHRyaWJ1dGVzKGUsdCxpKXtjb25zdCBzPXRoaXMuX25vZGVJZDJNZXRhLmdldChlKTtudWxsIT1zJiYoYXdhaXQgdGhpcy5pM3NPdmVycmlkZXMuYXBwbHlBdHRyaWJ1dGVPdmVycmlkZXMocy5mZWF0dXJlSWRzLHQsaSx0aGlzLl9jb250cm9sbGVyLnJlcXVpcmVkQXR0cmlidXRlcykscy5hdHRyaWJ1dGVJbmZvPXQsdGhpcy5fY29udHJvbGxlci5yZXNjaGVkdWxlKCgoKT0+e3RoaXMuX25vZGVJZDJNZXRhLmdldChlKT09PXMmJnRoaXMuX2F0dHJpYnV0ZVZhbHVlc0NoYW5nZWQocyl9KSxpKS5jYXRjaCgoZT0+e2MoZSl8fGEuZ2V0TG9nZ2VyKHRoaXMpLndhcm4oXCJFcnJvciB3aGlsZSB1cGRhdGluZyBhdHRyaWJ1dGUgdmFsdWVzLiBMYXllciBtaWdodCBub3QgZGlzcGxheSBjb3JyZWN0bHkuXCIsZSl9KSkpfV9hdHRyaWJ1dGVWYWx1ZXNDaGFuZ2VkKGUpe2UuY2FjaGVkUmVuZGVyZXJWZXJzaW9uPXRoaXMuX2dldEludmFsaWRSZW5kZXJlclZlcnNpb24oKSxlLmFwcGxpZWRGaWx0ZXJzPW51bGwsbnVsbCE9dGhpcy5fbGFiZWxlciYmdGhpcy5fbGFiZWxlci5zZXROb2RlTWV0YUF0dHJpYnV0ZXMoZSwoKGUsdCk9PnRoaXMuX2NyZWF0ZUF0dHJpYnV0ZXMoZSx0KSkpLHRoaXMuX3VwZGF0ZUVuZ2luZU9iamVjdChlKX1jbGVhck1lbUNhY2hlKCl7bnVsbCE9dGhpcy5fbWVtQ2FjaGUmJnRoaXMuX21lbUNhY2hlLmNsZWFyKCksdGhpcy5fYWRkVGFza3MuZm9yRWFjaCgoZT0+ZS5hbGxvd01lbUNhY2hlPSExKSl9Z2V0VmlzaWJsZU5vZGVzKCl7Y29uc3QgZT1uZXcgQXJyYXk7cmV0dXJuIHRoaXMuX25vZGVJZDJNZXRhLmZvckVhY2goKHQ9Pm51bGwhPXQmJmUucHVzaCh0Lm5vZGUpKSksZX1nZXRWaXNpYmxlT2Jicygpe2NvbnN0IGU9bmV3IEFycmF5O3JldHVybiB0aGlzLl9ub2RlSWQyTWV0YS5mb3JFYWNoKCh0PT50JiZlLnB1c2godGhpcy5fY29sbGVjdGlvbi5nZXRDb21wb25lbnRPYmIodC5vYmplY3RIYW5kbGUpKSkpLGV9Z2V0TG9hZGVkTm9kZUluZGljZXMoZSl7dGhpcy5fbm9kZUlkMk1ldGEuZm9yRWFjaCgoKHQsaSk9PmUucHVzaChpKSkpLHRoaXMuX25vZGVJZDJNZXRhUmVsb2FkaW5nLmZvckVhY2goKCh0LGkpPT5lLnB1c2goaSkpKX1fcHJlTG9hZEJhc2lzKCl7IWhhcyhcImRpc2FibGUtZmVhdHVyZTppM3MtYmFzaXNcIikmJjAhPT0odGhpcy5zdXBwb3J0ZWRUZXh0dXJlRW5jb2RpbmdzJlRlLkJhc2lzKSYmdGhpcy5pM3NsYXllci50ZXh0dXJlU2V0RGVmaW5pdGlvbnM/LnNvbWUoKGU9PmUuZm9ybWF0cy5zb21lKChlPT5cImJhc2lzXCI9PT1lLmZvcm1hdHx8XCJrdHgyXCI9PT1lLmZvcm1hdCkpKSkmJlJ0KCl9X2dldFZlcnRleEJ1ZmZlckxheW91dChlLHQpe3JldHVybiB2dChNdCh0aGlzLl9nZXRHZW9tZXRyeVBhcmFtZXRlcnMoe2hhc1RleHR1cmU6V3QoZS5wYXJhbXMubWF0ZXJpYWwpLGhhc05vcm1hbHM6dC5ub3JtYWwsaGFzUmVnaW9uczp0LnV2UmVnaW9ufSkpKX1fZ2V0T2JqZWN0SWRGaWVsZCgpe3JldHVybiB0aGlzLmkzc2xheWVyLm9iamVjdElkRmllbGR8fG9lfV9nZXRHbG9iYWxJZEZpZWxkKCl7cmV0dXJuIHRoaXMuaTNzbGF5ZXIuZ2xvYmFsSWRGaWVsZH1fZmluZEdyYXBoaWNOb2RlQW5kSW5kZXgoZSl7Y29uc3QgdD1jdCh0aGlzLmkzc2xheWVyLmZpZWxkc0luZGV4LGUuYXR0cmlidXRlcyx0aGlzLl9nZXRPYmplY3RJZEZpZWxkKCkpO2Zvcihjb25zdCBpIG9mIHRoaXMuX25vZGVJZDJNZXRhLnZhbHVlcygpKXtjb25zdCBlPWk/LmZlYXR1cmVJZHMuaW5kZXhPZih0KTtpZihudWxsIT1lJiZlPj0wKXJldHVybntub2RlOmkubm9kZSxpbmRleDplfX1yZXR1cm4gbnVsbH1fZ2V0R3JhcGhpY0luZGljZXMoZSx0KXtjb25zdCBpPXRoaXMuX25vZGVJZDJNZXRhLmdldChlLmluZGV4KTtpZihudWxsPT1pKXJldHVybltdO2NvbnN0IHM9W10scj10aGlzLl9nZXRPYmplY3RJZEZpZWxkKCksbz10aGlzLmkzc2xheWVyLmZpZWxkc0luZGV4O2Zvcihjb25zdCBhIG9mIHQpe2NvbnN0IGU9Y3QobyxhLmF0dHJpYnV0ZXMsciksdD1pLmZlYXR1cmVJZHMuaW5kZXhPZihlKTstMSE9PXQmJnMucHVzaCh0KX1yZXR1cm4gc313aGVuR3JhcGhpY0JvdW5kcyhlKXtjb25zdCB0PXRoaXMuX2ZpbmRHcmFwaGljTm9kZUFuZEluZGV4KGUpO2lmKCF0KXJldHVybiBQcm9taXNlLnJlamVjdCgpO2NvbnN0IGk9dGhpcy5nZXRBQUJCKHQubm9kZS5pbmRleCx0LmluZGV4KTtyZXR1cm4gbnVsbD09aT9Qcm9taXNlLnJlamVjdCgpOlByb21pc2UucmVzb2x2ZSh7Ym91bmRpbmdCb3g6aSxzY3JlZW5TcGFjZU9iamVjdHM6W119KX1nZXRBQUJCRnJvbUludGVyc2VjdG9yVGFyZ2V0KGUpe3JldHVybiBudWxsPT1lLm5vZGVJbmRleHx8bnVsbD09ZS5jb21wb25lbnRJbmRleD9udWxsOnRoaXMuZ2V0QUFCQihlLm5vZGVJbmRleCxlLmNvbXBvbmVudEluZGV4KX1nZXRBQUJCKGUsdCl7Y29uc3QgaT10aGlzLl9ub2RlSWQyTWV0YS5nZXQoZSk7aWYobnVsbD09aT8uZmVhdHVyZUlkc3x8dD49aS5mZWF0dXJlSWRzLmxlbmd0aClyZXR1cm4gbnVsbDtjb25zdCBzPWkub2JqZWN0SGFuZGxlLHI9SGUodCx0aGlzLl9jb2xsZWN0aW9uLHMsSigyNCksMCksbz10aGlzLnZpZXcucmVuZGVyU3BhdGlhbFJlZmVyZW5jZSxhPXRoaXMudmlldy5zcGF0aWFsUmVmZXJlbmNlO3JldHVybiBxKHIsbywwLHIsYSwwKT9LKHIpOm51bGx9d2hlbkdyYXBoaWNBdHRyaWJ1dGVzKGUsdCl7cmV0dXJuIEplKHRoaXMuaTNzbGF5ZXIsZSx0aGlzLl9nZXRPYmplY3RJZEZpZWxkKCksdCwoKCk9PlsuLi50aGlzLl9ub2RlSWQyTWV0YS52YWx1ZXMoKV0uZmlsdGVyKHIpKSl9Z2V0R3JhcGhpY0Zyb21JbnRlcnNlY3RvclRhcmdldChlLHQpe2lmKG51bGw9PWUubm9kZUluZGV4fHxudWxsPT1lLmNvbXBvbmVudEluZGV4KXJldHVybiBudWxsO2NvbnN0IGk9dGhpcy5fbm9kZUlkMk1ldGEuZ2V0KGUubm9kZUluZGV4KTtpZihudWxsPT1pPy5mZWF0dXJlSWRzfHxlLmNvbXBvbmVudEluZGV4Pj1pLmZlYXR1cmVJZHMubGVuZ3RoKXJldHVybiBudWxsO2NvbnN0IHM9dGhpcy5fY3JlYXRlTGF5ZXJHcmFwaGljKHRoaXMuX2NyZWF0ZUF0dHJpYnV0ZXMoZS5jb21wb25lbnRJbmRleCxpKSk7cmV0dXJuIHQuZGVmZXI/KHQuZGVmZXIoKGFzeW5jKCk9PihzLmdlb21ldHJ5PShhd2FpdCBpbXBvcnQoXCIuL2kzcy9tZXNoVXRpbHMuanNcIikpLmNyZWF0ZU1lc2goe2xheWVyVmlldzp0aGlzLG5vZGVJbmRleDplLm5vZGVJbmRleCxmZWF0dXJlSW5kZXg6ZS5jb21wb25lbnRJbmRleH0pLHMpKSksbnVsbCk6c31fZ2V0Q2FjaGVLZXkoZSl7cmV0dXJuYCR7dGhpcy5fbGF5ZXJVcmx9L3Yke1Z0fS8ke2V9JHt0aGlzLl9jYWNoZUtleVN1ZmZpeH1gfV9nZXRDYWNoZUtleVN1ZmZpeCgpe2NvbnN0IGU9dGhpcy52aWV3LnJlbmRlclNwYXRpYWxSZWZlcmVuY2U7aWYobnVsbD09ZSlyZXR1cm4gc2k7aWYoZT09PUwoZSkpcmV0dXJuIHJpO3JldHVybiB0aGlzLmkzc2xheWVyLnNwYXRpYWxSZWZlcmVuY2UuZXF1YWxzKGUpP2lpOm51bGwhPWUud2tpZD9gQCR7ZS53a2lkfWA6bnVsbH1fZ2V0TWVtQ2FjaGVLZXkoZSx0PXRoaXMuZWxldmF0aW9uT2Zmc2V0KXtyZXR1cm4gZStcIiNcIit0fWdldCBfaWRiQ2FjaGVFbmFibGVkKCl7cmV0dXJuIXRoaXMuX2NvbnRyb2xsZXIuZGlzYWJsZUlEQkNhY2hlJiYhdGhpcy5oYXNNb2RpZmljYXRpb25zJiYwPT09dGhpcy5lbGV2YXRpb25PZmZzZXQmJm51bGwhPXRoaXMuX2NhY2hlS2V5U3VmZml4fWxvYWRDYWNoZWRHUFVEYXRhKGUpe3JldHVybiBudWxsIT10aGlzLl9tZW1DYWNoZT90aGlzLl9tZW1DYWNoZS5wb3AodGhpcy5fZ2V0TWVtQ2FjaGVLZXkoZSkpOm51bGx9ZGVsZXRlQ2FjaGVkR1BVRGF0YShlKXtudWxsIT1lJiZ0aGlzLl9kZWxldGVDb21wb25lbnRPYmplY3QoZSl9X2NhY2hlR1BVRGF0YShlLHQ9dGhpcy5lbGV2YXRpb25PZmZzZXQpe2lmKG51bGw9PXRoaXMuX21lbUNhY2hlKXJldHVybiB2b2lkIHRoaXMuX2RlbGV0ZUNvbXBvbmVudE9iamVjdChlKTtjb25zdCBpPXRoaXMuX2NvbnRyb2xsZXIuaW5kZXhEZXB0aC1lLm5vZGUubGV2ZWw7dGhpcy5fbWVtQ2FjaGUucHV0KHRoaXMuX2dldE1lbUNhY2hlS2V5KGUubm9kZS5pbmRleCx0KSxlLGkpfWxvYWRNaXNzaW5nVGV4dHVyZXMoZSx0LGkscyl7Y29uc3Qgcj1lPy5maWx0ZXIoKChlLGkpPT57aWYoMD09PShlLnVzYWdlJnRoaXMucmVuZGVyZXJUZXh0dXJlVXNhZ2UpKXJldHVybiExO2lmKG51bGw9PXQpcmV0dXJuITA7Y29uc3Qgcz1MZShlLmVuY29kaW5ncyx0aGlzLnN1cHBvcnRlZFRleHR1cmVFbmNvZGluZ3MpLHI9dFtpXTtyZXR1cm4hIShudWxsPT1yPy5kYXRhfHxzJiZyLmVuY29kaW5nIT09cy5lbmNvZGluZyl9KSk/P1tdO3JldHVybiAwPT09ci5sZW5ndGg/UHJvbWlzZS5yZXNvbHZlKCExKTppKHIscykudGhlbigoaT0+e2xldCBzPTA7Zm9yKGxldCByPTA7cjxlLmxlbmd0aDtyKyspczxpLmxlbmd0aCYmaVtzXS5pZD09PWVbcl0uaWQmJih0W3JdPWlbc10scysrKTtyZXR1cm4hMH0pKX1sb2FkQ2FjaGVkTm9kZURhdGEoZSx0LGkpe3JldHVybiB0aGlzLl9pZGJDYWNoZUVuYWJsZWQ/dGhpcy5faWRiQ2FjaGUuZ2V0KHRoaXMuX2dldENhY2hlS2V5KGUuaWQpLHQpLnRoZW4oKHM9Pm51bGw9PXM/bnVsbDpzLm5vZGVWZXJzaW9uIT09ZS52ZXJzaW9uPyh0aGlzLl9pZGJDYWNoZS5yZW1vdmUodGhpcy5fZ2V0Q2FjaGVLZXkoZS5pZCkpLG51bGwpOih0aGlzLmVsZXZhdGlvbkluZm8ubW9kZT09PUNlLkFic29sdXRlJiYoZS5nZW9tZXRyeU9iYkluUmVuZGVyU1I9YnQuZnJvbURhdGEocy5nZW9tZXRyeU9iYkRhdGEpKSx0aGlzLmxvYWRNaXNzaW5nVGV4dHVyZXMocy5yZXF1aXJlZFRleHR1cmVzLHMudGV4dHVyZURhdGEsaSx0KS50aGVuKChpPT4oaSYmdGhpcy5faWRiQ2FjaGUuaW5pdGlhbGl6ZWQmJm51bGwhPXMudGV4dHVyZURhdGEmJihzLmJ5dGVTaXplPSR0KHMudHJhbnNmb3JtZWRHZW9tZXRyeSxzLnRleHR1cmVEYXRhKSxzLnRleHR1cmVEYXRhLmV2ZXJ5KEt0KSYmdGhpcy5faW5kZXhlZERiU2l6ZUNoZWNrKGUscykmJnRoaXMuX2lkYkNhY2hlLnB1dCh0aGlzLl9nZXRDYWNoZUtleShlLmlkKSxzKS5jYXRjaCgodD0+YS5nZXRMb2dnZXIodGhpcykud2FybihgRmFpbGVkIHRvIHVwZGF0ZSBub2RlIHdpdGggdGV4dHVyZXMgaW4gSW5kZXhlZERCIGNhY2hlOiAke2UuaWR9OiAke3R9YCkpKSksdSh0KSxzKSkpKSkpOlByb21pc2UucmVzb2x2ZShudWxsKX1hZGROb2RlKGUsdCxpKXtyZXR1cm4genQodCk/bnVsbD09dC5nZW9tZXRyeUJ1ZmZlcj8odGhpcy5fYWRkTm9kZU1ldGEoZS5pbmRleCxudWxsKSxQcm9taXNlLnJlc29sdmUoKSk6dGhpcy5fYWRkRGF0YShlLHQuYXR0cmlidXRlRGF0YUluZm8sKCgpPT50aGlzLl90cmFuc2Zvcm1Ob2RlKGUsdCxpKS50aGVuKChzPT50aGlzLl9zYWZlUmVzY2hlZHVsZSgoKCk9PntpZihudWxsPT1zKXJldHVybiBlLmhhc01vZGlmaWNhdGlvbnM9ITEsdGhpcy5fYWRkQ2FjaGVkTm9kZURhdGEoZSxudWxsLGkpO2UuaGFzTW9kaWZpY2F0aW9ucz1zLnRyYW5zZm9ybWVkR2VvbWV0cnkuaGFzTW9kaWZpY2F0aW9ucztjb25zdHtvYmI6cixjb21wb25lbnRPZmZzZXRzOm8sZmVhdHVyZUlkczpuLGFuY2hvcklkczpsLGFuY2hvcnM6ZCx0cmFuc2Zvcm1lZEdlb21ldHJ5OmgsZ2xvYmFsVHJhZm86Y309cyx1PWooWnQsci5jZW50ZXIueCxyLmNlbnRlci55LHIuY2VudGVyLnopO1ModSx1LGMpO2NvbnN0IF89bmV3IGJ0KHUsW3IuZXh0ZW50cy54LHIuZXh0ZW50cy55LHIuZXh0ZW50cy56XSxPKHIub3JpZW50YXRpb24ueCxyLm9yaWVudGF0aW9uLnksci5vcmllbnRhdGlvbi56LHIub3JpZW50YXRpb24udykpO3RoaXMuZWxldmF0aW9uSW5mby5tb2RlPT09Q2UuQWJzb2x1dGUmJihlLmdlb21ldHJ5T2JiSW5SZW5kZXJTUj1fKSx0Lmdlb21ldHJ5RGF0YS5jb21wb25lbnRPZmZzZXRzPW8sbiYmKHQuZ2VvbWV0cnlEYXRhLmZlYXR1cmVJZHM9QXJyYXkuZnJvbShuKSksdC5nZW9tZXRyeURhdGEuYW5jaG9ySWRzPWwsdC5nZW9tZXRyeURhdGEuYW5jaG9ycz1kO2NvbnN0IG09e25vZGVWZXJzaW9uOmUudmVyc2lvbixnZW9tZXRyeURhdGE6dC5nZW9tZXRyeURhdGEscmVxdWlyZWRUZXh0dXJlczp0LnJlcXVpcmVkVGV4dHVyZXMsdGV4dHVyZURhdGE6dC50ZXh0dXJlRGF0YSx0cmFuc2Zvcm1lZEdlb21ldHJ5OmgsZ2xvYmFsVHJhZm86YyxnZW9tZXRyeU9iYkRhdGE6Xy5kYXRhLGJ5dGVTaXplOiR0KGgsdC50ZXh0dXJlRGF0YSl9O2lmKHRoaXMuX2lkYkNhY2hlRW5hYmxlZCYmdGhpcy5faWRiQ2FjaGUuaW5pdGlhbGl6ZWQmJnRoaXMuX2luZGV4ZWREYlNpemVDaGVjayhlLG0pKXtjb25zdCB0PW51bGwhPW0udGV4dHVyZURhdGE/bS50ZXh0dXJlRGF0YS5tYXAoKGU9Pkt0KGUpP2U6bnVsbCkpOm51bGw7dGhpcy5faWRiQ2FjaGUucHV0KHRoaXMuX2dldENhY2hlS2V5KGUuaWQpLHsuLi5tLHRleHR1cmVEYXRhOnR9KS5jYXRjaCgodD0+YS5nZXRMb2dnZXIodGhpcykud2FybihgRmFpbGVkIHRvIHN0b3JlIG5vZGUgaW4gSW5kZXhlZERCIGNhY2hlOiAke2UuaWR9OiAke3R9YCkpKX1yZXR1cm4gdGhpcy5fYWRkQ2FjaGVkTm9kZURhdGEoZSxtLGkpfSksaSkpKSkpOlByb21pc2UucmVqZWN0KCl9Z2V0RWxldmF0aW9uUmFuZ2UoZSl7Y29uc3QgdD1uZXcgcHQsaT10aGlzLl9jb250cm9sbGVyLHtpbmRleDpzfT1pO2lmKCFzKXJldHVybiB0O2NvbnN0e3Jvb3ROb2RlOnJ9PXM7aWYoIXIpcmV0dXJuIHQ7Y29uc3Qgbz10aGlzLl9ub2RlSWQyTWV0YSxhPWVbM10sbj1pLnZpZXdwb3J0UXVlcmllcyxsPXRoaXMuX3BsYW5ldFJhZGl1c0luR2xvYmFsTW9kZSx7dmlldzpkfT10aGlzLHtyZW5kZXJDb29yZHNIZWxwZXI6aH09ZCxjPWgucmVmZXJlbmNlRWxsaXBzb2lkLnJhZGl1cyx1PXRoaXMuX2NvbGxlY3Rpb24sXz1pPT57Y29uc3R7Y2hpbGRyZW5Mb2FkZWQ6c309aTtpZigwPT09cylyZXR1cm4hMTtjb25zdCByPW4uZ2V0QW5kVXBkYXRlVmlzaWJpbGl0eU9iYkluUmVuZGVyU1IoaSk7bGV0IGQ9bnVsbCxfPS0xO2lmKHIpe2lmKF89ci5yYWRpdXMsIXIuaW50ZXJzZWN0U3BoZXJlV2l0aE1CUyhlLF8pKXJldHVybiExfWVsc2UgZD1uLmdldFNlcnZpY2VNYnNJblJlbmRlclNSKGkpLGQmJihfPWRbM10pO2lmKF8+PTAmJmE+PTEqXylyZXR1cm4gbnVsbCE9cj9uaSh0LHIsbCk6bnVsbCE9ZCYmZFszXT49MCYmbGkodCxkLGwpLCExO2NvbnN0IG09YWk7aWYobS5lbGV2YXRpb25SYW5nZU1pbj0xLzAsbS5lbGV2YXRpb25SYW5nZU1heD0tMS8wLChudWxsIT1yfHxudWxsIT1kKSYmKG51bGwhPXI/bmkobSxyLGwpOm51bGwhPWQmJmxpKG0sZCxsKSxtLmVsZXZhdGlvblJhbmdlTWluPj10LmVsZXZhdGlvblJhbmdlTWluJiZtLmVsZXZhdGlvblJhbmdlTWF4PD10LmVsZXZhdGlvblJhbmdlTWF4KSlyZXR1cm4hMTtjb25zdCBnPW8uZ2V0KGkuaW5kZXgpO2lmKGcpe2NvbnN0e2dlb21ldHJ5T2JiSW5SZW5kZXJTUjpzfT1pO2lmKCFzfHxzLmludGVyc2VjdFNwaGVyZVdpdGhNQlMoZSkpe2lmKHMpe2lmKGE+MCpzLnJhZGl1cylyZXR1cm4gbmkodCxzLGwpLCExfWNvbnN0e29iamVjdEhhbmRsZTplfT1nLGk9dS5nZXRPYmplY3RUcmFuc2Zvcm0oZSkscj1oLmdldEFsdGl0dWRlKGkucG9zaXRpb24pO3UuZXhwYW5kUmFuZ2VXaXRoQ29tcG9uZW50T2JqZWN0RWxldmF0aW9uUmFuZ2UoZSxyLGMsdCl9fXJldHVybiBzLShnPzE6MCk+MH07cmV0dXJuIHMudHJhdmVyc2UocixfKSx0fWNvbXB1dGVWaXNpYmlsaXR5T2JiKGUpe3JldHVybiBaZShlLHRoaXMudmlldy5yZW5kZXJTcGF0aWFsUmVmZXJlbmNlLHRoaXMuX2NvbnRyb2xsZXIuY3JzSW5kZXgsdGhpcy5pM3NsYXllci5zcGF0aWFsUmVmZXJlbmNlLHRoaXMuZWxldmF0aW9uT2Zmc2V0LHRoaXMuX21vZGlmaWNhdGlvbnMsdGhpcy52aWV3LnJlbmRlckNvb3Jkc0hlbHBlci5zcGhlcmljYWxQQ1BGKX1fdHJhbnNmb3JtTm9kZShlLHQsaSl7Y29uc3Qgcz10Lmdlb21ldHJ5RGF0YS5nZW9tZXRyaWVzPz9bXSxyPW5ldyBBcnJheShzLmxlbmd0aCk7Zm9yKGxldCBmPTA7ZjxzLmxlbmd0aDsrK2YpcltmXT10aGlzLl9nZXRWZXJ0ZXhCdWZmZXJMYXlvdXQoc1tmXSx0Lmdlb21ldHJ5RGVzY3JpcHRvcik7Y29uc3Qgbz10aGlzLmkzc2xheWVyLm5vcm1hbFJlZmVyZW5jZUZyYW1lLGE9dC5ub3JtYWxSZWZlcmVuY2VGcmFtZT8/bz8/XCJub25lXCIsbj1lLnNlcnZpY2VNYnNJbkluZGV4U1IsbD10aGlzLmVsZXZhdGlvbk9mZnNldCxkPXRoaXMuX2NvbnRyb2xsZXIuY3JzSW5kZXgsaD10aGlzLl9jb250cm9sbGVyLmNyc1ZlcnRleCxjPXRoaXMudmlldy5yZW5kZXJTcGF0aWFsUmVmZXJlbmNlLHU9JGUobixsLGEsZCxjKSxfPVcoZCxoKSxtPVcoaCxjKTtpZihudWxsPT1ffHxudWxsPT1tKXJldHVybiBQcm9taXNlLnJlc29sdmUobnVsbCk7Y29uc3QgZz17Y29udGV4dDp0aGlzLnVpZCxnZW9tZXRyeUJ1ZmZlcjp0Lmdlb21ldHJ5QnVmZmVyLGdlb21ldHJ5RGF0YTp0Lmdlb21ldHJ5RGF0YSxnZW9tZXRyeURlc2NyaXB0b3I6dC5nZW9tZXRyeURlc2NyaXB0b3IsbGF5b3V0czpyLGdsb2JhbFRyYWZvOnUsbWJzOm4sb2JiRGF0YTplLnNlcnZpY2VPYmJJbkluZGV4U1I/LmRhdGEsZWxldmF0aW9uT2Zmc2V0OmwsbmVlZE5vcm1hbHM6dGhpcy5fY29udHJvbGxlci5pc01lc2hQeXJhbWlkLG5vcm1hbFJlZmVyZW5jZUZyYW1lOmEsaW5kZXhUb1ZlcnRleFByb2plY3RvcjpfLHZlcnRleFRvUmVuZGVyUHJvamVjdG9yOm19O3JldHVybiB0aGlzLl93b3JrZXIuaW52b2tlKGcsaSl9Z2V0IF9zdXBwb3J0c05vZGVDcm9zc0ZhZGluZygpe3JldHVybiF0aGlzLnZpZXc/LnN0YWdlPy5yZW5kZXJlci5zaGFkb3dzRW5hYmxlZH1nZXQgbm9kZUNyb3NzZmFkaW5nRW5hYmxlZCgpe3JldHVybiB0aGlzLl9zdXBwb3J0c05vZGVDcm9zc0ZhZGluZyYmKHRoaXMubG9kQ3Jvc3NmYWRlaW5EdXJhdGlvbj4wfHx0aGlzLmxvZENyb3NzZmFkZW91dER1cmF0aW9uPjB8fHRoaXMubG9kQ3Jvc3NmYWRlVW5jb3ZlcmVkRHVyYXRpb24+MCl9Z2V0IG5vZGVGYWRlb3V0RW5hYmxlZCgpe3JldHVybiB0aGlzLl9zdXBwb3J0c05vZGVDcm9zc0ZhZGluZyYmdGhpcy5sb2RDcm9zc2ZhZGVvdXREdXJhdGlvbj4wfV9zZXROZXdOb2RlT3BhY2l0eShlKXtjb25zdCB0PXRoaXMubm9kZUNyb3NzZmFkaW5nRW5hYmxlZD8wOnRoaXMuZnVsbE9wYWNpdHk7dGhpcy5fc2V0Tm9kZU9wYWNpdHkoZSx0KX1hZGRDYWNoZWRHUFVEYXRhKGUsdCxpKXtpZih0aGlzLmVsZXZhdGlvbkluZm8ubW9kZT09PUNlLkFic29sdXRlJiYoZS5nZW9tZXRyeU9iYkluUmVuZGVyU1I9dGhpcy5fY29sbGVjdGlvbi5nZXRDb21wb25lbnRPYmIodC5vYmplY3RIYW5kbGUpLmNsb25lKCkpLCF0aGlzLl9jb250cm9sbGVyLmlzR2VvbWV0cnlWaXNpYmxlKGUpKXJldHVybiB2b2lkIHRoaXMuX2NhY2hlR1BVRGF0YSh0KTtudWxsIT10aGlzLl9sYWJlbGVyJiZ0aGlzLl9hZGRNZXRhVG9MYWJlbGVyKHRoaXMuX2xhYmVsZXIsdCk7Y29uc3Qgcz1lLmluZGV4O3RoaXMuX2FkZE5vZGVNZXRhKHMsdCksdGhpcy51cGRhdGVOb2RlU3RhdGUocyxpKSx0aGlzLl9jb2xsZWN0aW9uLnNldE9iamVjdFZpc2liaWxpdHkodC5vYmplY3RIYW5kbGUsITApLHRoaXMuX3VwZGF0ZU1hdGVyaWFsKHQpLHRoaXMuX3NldE5ld05vZGVPcGFjaXR5KHQpLHRoaXMuZWxldmF0aW9uSW5mby5tb2RlIT09Q2UuQWJzb2x1dGUmJnRoaXMuX2Vuc3VyZUVsZXZhdGlvblRhc2soKS5zY2hlZHVsZShzKSx0aGlzLl91cGRhdGVFbmdpbmVPYmplY3QodCksdGhpcy5faGlnaGxpZ2h0cy5vYmplY3RDcmVhdGVkKHQpLG51bGwhPXRoaXMuX3RyZWVEZWJ1Z2dlciYmdGhpcy5fdHJlZURlYnVnZ2VyLnVwZGF0ZSgpfWFkZENhY2hlZE5vZGVEYXRhKGUsdCxpLHMpe3JldHVybiB0aGlzLl9hZGREYXRhKGUsaSwoKCk9PnRoaXMuX2FkZENhY2hlZE5vZGVEYXRhKGUsdCxzKSkpfWFzeW5jIGRlbGV0ZUNhY2hlZE5vZGVEYXRhKGUpe2lmKHRoaXMuX2lkYkNhY2hlRW5hYmxlZClyZXR1cm4gdGhpcy5faWRiQ2FjaGUucmVtb3ZlKHRoaXMuX2dldENhY2hlS2V5KGUpKX1hc3luYyBfYWRkQ2FjaGVkTm9kZURhdGEoZSx0LGkpe2lmKCF0aGlzLmNvbnRlbnRWaXNpYmxlfHwhdGhpcy5fY29udHJvbGxlci5pc0dlb21ldHJ5VmlzaWJsZShlKSlyZXR1cm4gdm9pZCB0aGlzLl9yZW1vdmVOb2RlU3RhZ2VEYXRhKGUuaW5kZXgsdGhpcy5lbGV2YXRpb25PZmZzZXQsdGhpcy5fbm9kZUlkMk1ldGFSZWxvYWRpbmcpO2lmKG51bGw9PXQpcmV0dXJuIHZvaWQgdGhpcy5fYWRkTm9kZU1ldGEoZS5pbmRleCxudWxsKTtjb25zdCBzPXRoaXMuX2FkZFRhc2tzLmdldChlLmluZGV4KSx7Z2VvbWV0cnlEYXRhOnIsdHJhbnNmb3JtZWRHZW9tZXRyeTpvLGdsb2JhbFRyYWZvOm59PXQ7YXdhaXQgdGhpcy5pM3NPdmVycmlkZXMuYXBwbHlBdHRyaWJ1dGVPdmVycmlkZXMoci5mZWF0dXJlSWRzLHMuYXR0cmlidXRlSW5mbyxpLHRoaXMuX2NvbnRyb2xsZXIucmVxdWlyZWRBdHRyaWJ1dGVzKTtjb25zdCBsPW51bGwhPXQudGV4dHVyZURhdGE/dC50ZXh0dXJlRGF0YS5maWx0ZXIoKGU9Pm51bGwhPWUmJjAhPT0oZS51c2FnZSZ0aGlzLnJlbmRlcmVyVGV4dHVyZVVzYWdlKSkpOltdOyFoYXMoXCJkaXNhYmxlLWZlYXR1cmU6aTNzLWJhc2lzXCIpJiZsLnNvbWUoKGU9Pm51bGwhPWUmJihlLmVuY29kaW5nPT09VGUuQmFzaXN8fGUuZW5jb2Rpbmc9PT1UZS5LVFgyKSkpJiZhd2FpdCBSdCgpLGUubWVtb3J5PTA7Y29uc3R7Y29tcG9uZW50T2Zmc2V0czpkLGdlb21ldHJpZXM6aCxmZWF0dXJlSWRzOmMsYW5jaG9ySWRzOnUsYW5jaG9yczpffT1yLG09dGhpcy5fY29sbGVjdGlvbixnPWhbMF0se2xheW91dDpmLGluZGljZXM6cCxpbnRlcmxlYXZlZFZlcnRleERhdGE6eSxwb3NpdGlvbkRhdGE6YixoYXNDb2xvcnM6SX09byx7bWF0ZXJpYWw6TyxnZW9tZXRyeVBhcmFtZXRlcnM6an09dGhpcy5fbWF0ZXJpYWxQYXJhbWV0ZXJzKGcsZiksUz1kfHxuZXcgVWludDMyQXJyYXkoWzAscD9wLmxlbmd0aDp5LmJ5dGVMZW5ndGgvZlswXS5zdHJpZGVdKSxEPXt2ZXJ0aWNlczp7ZGF0YTp5LGNvdW50OnkuYnl0ZUxlbmd0aC9mWzBdLnN0cmlkZSxsYXlvdXRQYXJhbWV0ZXJzOmp9LHBvc2l0aW9uRGF0YTp7cG9zaXRpb25zOlooYi5kYXRhKSxpbmRpY2VzOmVlKGIuaW5kaWNlcyl9LGluZGljZXM6cCxjb21wb25lbnRPZmZzZXRzOlN9LEY9Zy50cmFuc2Zvcm1hdGlvbj9FKGcudHJhbnNmb3JtYXRpb24pOlIoKTt3KEYsbixGKTtjb25zdCBWPXgoUCgpLEYpLE49dihNKCksRiksSD10aGlzLnZpZXcucmVuZGVyU3BhdGlhbFJlZmVyZW5jZSxrPXRoaXMudmlldy5iYXNlbWFwVGVycmFpbi5zcGF0aWFsUmVmZXJlbmNlLEw9YnQuZnJvbURhdGEodC5nZW9tZXRyeU9iYkRhdGEpLmNlbnRlcixCPVsxLDEsMV07RyhMLEgsQixrKXx8YS5nZXRMb2dnZXIodGhpcykuZXJyb3JPbmNlKFwiVW5zdXBwb3J0ZWQgY29vcmRpbmF0ZSBzeXN0ZW0gZm9yIElNIG92ZXJsYXlcIik7Y29uc3QgcT1QKCk7eihMLEgscSxrKTtjb25zdCBXPU0oKTtDKFcsTik7Y29uc3QgSz1QKCk7QShLLFQoSyxMLFYpLFcpO2NvbnN0ICQ9cVswXS1LWzBdKkJbMF0sUT1xWzFdLUtbMV0qQlsxXSxYPW0uY3JlYXRlT2JqZWN0KG5ldyBDdChVKCQsUSxCWzBdLEJbMV0pLG5ldyB4dChWLE4pLGJ0LmZyb21EYXRhKHQuZ2VvbWV0cnlPYmJEYXRhKSxEKSksWT1qLnRleHR1cmVDb29yZGluYXRlcz09PUV0LkF0bGFzLHt0ZXh0dXJlczpKLHRleHR1cmVQcm9taXNlOnRlfT10aGlzLl9pbml0TWF0ZXJpYWxBbmRUZXh0dXJlcyhYLE8sbCxZLGUpO2UubWVtb3J5Kz10aGlzLl9tZW1Fc3RpbWF0ZUdlb21ldHJ5QWRkZWQoWCksZS5tZW1vcnkrPUoucmVkdWNlKCgoZSx0KT0+ZSsobnVsbCE9dD90aGlzLl9tZW1Fc3RpbWF0ZVRleHR1cmVBZGRlZCh0KTowKSksMCk7Y29uc3QgaWU9ISFPLmhhc1BhcmFtZXRlcnNGcm9tU291cmNlLHNlPVwiYmxlbmRcIiE9PU8uYWxwaGFNb2RlJiZPLm1ldGFsbGljUm91Z2huZXNzLmJhc2VDb2xvckZhY3RvclszXT49MSxyZT1uZXcgRHQoZSxjLFgsdGhpcy5fZ2V0SW52YWxpZFJlbmRlcmVyVmVyc2lvbigpLHMuYXR0cmlidXRlSW5mbyx7aGFzUGFyYW1ldGVyc0Zyb21Tb3VyY2U6aWUsaXNPcGFxdWU6c2V9LEosdSxfKTtzLm1ldGE9cmUsdGhpcy5faGFzVGV4dHVyZXN8fD10LnJlcXVpcmVkVGV4dHVyZXM/LnNvbWUoKCh7dXNhZ2U6ZX0pPT4wIT09KGUmQWUuQ29sb3JUZXh0dXJlcykpKXx8ISFlLnJlc291cmNlcy50ZXh0dXJlLHRoaXMuX2hhc0RhdGE9ITAsdGhpcy5faGFzQ29sb3JzfHw9SSx0aGlzLm5vdGlmeUNoYW5nZShcImhhc1RleHR1cmVzT3JWZXJ0ZXhDb2xvcnNcIik7Y29uc3Qgb2U9dGhpcy5zbGljZVBsYW5lRW5hYmxlZDtyZXR1cm4gUHJvbWlzZS5hbGwoW3RoaXMuX2FkZE9yVXBkYXRlRWRnZVJlbmRlcmluZyhyZSksdGVdKS50aGVuKCgoW3Qsc10pPT4odGhpcy5fYWRkVGFza3MuaGFzKGUuaW5kZXgpJiZ0Py51cGRhdGVPYmplY3RWaXNpYmlsaXR5KHJlLm9iamVjdEhhbmRsZSwhMSkuY2F0Y2goKGU9PnRoaXMuX2xvZ0VkZ2VWaWV3RXJyb3IoZSx0aGlzLmkzc2xheWVyLnRpdGxlKSkpLHRoaXMuX3NhZmVSZXNjaGVkdWxlKCgoKT0+e2NvbnN0IGk9dGhpcy5fYWRkVGFza3MuZ2V0KGUuaW5kZXgpO2lmKCFpKXJldHVybjtpZih0aGlzLl9hZGROb2RlTWV0YShlLmluZGV4LHJlKSxpLm1ldGE9bnVsbCwhdGhpcy5jb250ZW50VmlzaWJsZSlyZXR1cm4gdm9pZCB0aGlzLl9yZW1vdmVOb2RlU3RhZ2VEYXRhKGUuaW5kZXgsdGhpcy5lbGV2YXRpb25PZmZzZXQpO20uc2V0T2JqZWN0VmlzaWJpbGl0eShYLCEwKSx0Py51cGRhdGVPYmplY3RWaXNpYmlsaXR5KHJlLm9iamVjdEhhbmRsZSwhMCkuY2F0Y2goKGU9PnRoaXMuX2xvZ0VkZ2VWaWV3RXJyb3IoZSx0aGlzLmkzc2xheWVyLnRpdGxlKSkpLHJlLmF0dHJpYnV0ZUluZm89aS5hdHRyaWJ1dGVJbmZvO2NvbnN0IHM9cmUuY2FjaGVkUmVuZGVyZXJWZXJzaW9uIT09dGhpcy5fcmVuZGVyZXJWZXJzaW9uLHI9b2UhPT10aGlzLnNsaWNlUGxhbmVFbmFibGVkO3RoaXMuX3VwZGF0ZUVsZXZhdGlvbk9mZnNldHMocmUpO2NvbnN0IG89cmUuZWxldmF0aW9uT2Zmc2V0czt0aGlzLl91cGRhdGVDb21wb25lbnREYXRhKHJlKTtjb25zdCBhPXRoaXMuX2FwcGx5RmlsdGVyc1RvTm9kZShyZSk7KHN8fG51bGwhPXQmJihyfHxhfHxvKSkmJnRoaXMuX2FkZE9yVXBkYXRlRWRnZVJlbmRlcmluZyhyZSksbnVsbCE9dGhpcy5fbGFiZWxlciYmdGhpcy5fYWRkTWV0YVRvTGFiZWxlcih0aGlzLl9sYWJlbGVyLHJlKSx0aGlzLl92aXNpYmxlR2VvbWV0cnlDaGFuZ2VkKHJlLEh0LkFERCksdGhpcy5faGlnaGxpZ2h0cy5vYmplY3RDcmVhdGVkKHJlKSx0aGlzLl91cGRhdGVNYXRlcmlhbChyZSksdGhpcy5fc2V0TmV3Tm9kZU9wYWNpdHkocmUpLG51bGwhPXRoaXMuX3RyZWVEZWJ1Z2dlciYmdGhpcy5fdHJlZURlYnVnZ2VyLnVwZGF0ZSgpfSksaSkpKSkuY2F0Y2goKGU9Pntjb25zdHttZXRhOnQsYWxsb3dNZW1DYWNoZTppfT1zO3Rocm93IHMubWV0YT1udWxsLHQmJmk/dGhpcy5fY2FjaGVHUFVEYXRhKHQpOnQmJnRoaXMuX2RlbGV0ZUNvbXBvbmVudE9iamVjdCh0KSxlfSkpfV9hZGROb2RlTWV0YShlLHQpe2lmKHRoaXMuX3JlbW92ZU5vZGVTdGFnZURhdGEoZSx0aGlzLmVsZXZhdGlvbk9mZnNldCx0aGlzLl9ub2RlSWQyTWV0YVJlbG9hZGluZyksdGhpcy5fbm9kZUlkMk1ldGEuaGFzKGUpKXthLmdldExvZ2dlcih0aGlzKS5lcnJvcihcIlJlbW92aW5nIGR1cGxpY2F0ZWQgbm9kZVwiKTtjb25zdCB0PXRoaXMuX25vZGVJZDJNZXRhLmdldChlKTt0JiYodGhpcy5fZGVsZXRlQ29tcG9uZW50T2JqZWN0KHQpLHRoaXMuX3VwZGF0ZUZlYXR1cmVJZENvdW50cyh0LC0xKSl9ZWxzZSB0aGlzLl9jb250cm9sbGVyLnVwZGF0ZUxvYWRTdGF0dXMoZSwhMCk7dCYmKHQubG9kQ3Jvc3NmYWRlUHJvZ3Jlc3M9bnVsbCx0aGlzLm5vZGVDcm9zc2ZhZGluZ0VuYWJsZWQmJll0KHQuY2FjaGVkRWRnZU1hdGVyaWFscywwKSx0aGlzLl91cGRhdGVGZWF0dXJlSWRDb3VudHModCwxKSksdGhpcy5fbm9kZUlkMk1ldGEuc2V0KGUsdCksdGhpcy5ub3RpZnlDaGFuZ2UoXCJlbGV2YXRpb25SYW5nZVwiKX1fdXBkYXRlRWxldmF0aW9uT2Zmc2V0cyhlKXtjb25zdCB0PXRoaXMudmlldy5yZW5kZXJTcGF0aWFsUmVmZXJlbmNlLGk9dGhpcy5fY29udHJvbGxlci5jcnNJbmRleCxzPXRoaXMuZWxldmF0aW9uSW5mbyxyPXRoaXMudmlldy5iYXNlbWFwVGVycmFpbixvPXIuc3BhdGlhbFJlZmVyZW5jZSxhPXMubW9kZTtpZihudWxsPT10fHxudWxsPT1vfHxhPT09Q2UuQWJzb2x1dGUpcmV0dXJuIHZvaWQoZS5lbGV2YXRpb25PZmZzZXRzPW51bGwpO2NvbnN0IG49dGhpcy5fY29sbGVjdGlvbi5nZXRPYmplY3RUcmFuc2Zvcm0oZS5vYmplY3RIYW5kbGUpO2UuZWxldmF0aW9uT2Zmc2V0cz1lLmVsZXZhdGlvbk9mZnNldHM/P1tdO2NvbnN0IGw9WnQsZD1laSxoPWE9PT1DZS5PblRoZUdyb3VuZCxjPXRoaXMudmlldy5yZW5kZXJDb29yZHNIZWxwZXIsdT1lLmZlYXR1cmVJZHMubGVuZ3RoLF89KCgpPT57aWYoZS5jYWNoZWRFbGV2YXRpb25BbmNob3JzKXJldHVybiBlLmNhY2hlZEVsZXZhdGlvbkFuY2hvcnM7Y29uc3Qgcz1KKDMqdSk7ZS5jYWNoZWRFbGV2YXRpb25BbmNob3JzPXM7Zm9yKGxldCByPTA7cjx1O3IrKyl7Y29uc3QgYT0zKnIsaD1lLmFuY2hvcklkcz8uaW5kZXhPZihyKT8/LTE7ZS5hbmNob3JzJiZoPj0wPyhqKGwsZS5hbmNob3JzWzMqaF0sZS5hbmNob3JzWzMqaCsxXSxlLmFuY2hvcnNbMypoKzJdKSxEKGwsbCx0ZShlLm5vZGUuc2VydmljZU1ic0luSW5kZXhTUikpLHoobCxpLGwsbyksc1thXT1sWzBdLHNbYSsxXT1sWzFdLHNbYSsyXT1jLmdldEFsdGl0dWRlKGwpKToodGhpcy5fY29sbGVjdGlvbi5nZXRDb21wb25lbnRBYWJiKGUub2JqZWN0SGFuZGxlLHIsZCwhMCksaihsLChkWzBdK2RbM10pLzIsKGRbMV0rZFs0XSkvMixkWzJdKSxBKGwsbCxuLnJvdGF0aW9uU2NhbGUpLEQobCxsLG4ucG9zaXRpb24pLHNbYSsyXT1jLmdldEFsdGl0dWRlKGwpLHoobCx0LGwsbyksc1thXT1sWzBdLHNbYSsxXT1sWzFdKX1yZXR1cm4gc30pKCksbT1zLm9mZnNldCxnPWUuZWxldmF0aW9uT2Zmc2V0cyxmPShlLHQpPT57Y29uc3QgaT1oP19bMyplKzJdOjA7Z1tlXT1tKyh0Pz8wKS1pfTtyLmdldEVsZXZhdGlvbnMoXyx1LGYpfV9lbnN1cmVFbGV2YXRpb25UYXNrKCl7cmV0dXJuIG51bGwhPXRoaXMuX2VsZXZhdGlvblRhc2t8fCh0aGlzLl9lbGV2YXRpb25UYXNrPW5ldyBGZSh0aGlzLnZpZXcucmVzb3VyY2VDb250cm9sbGVyLnNjaGVkdWxlciwoZT0+dGhpcy5fY29udHJvbGxlci51cGRhdGVFbGV2YXRpb25DaGFuZ2VkKGUsdGhpcy52aWV3LmJhc2VtYXBUZXJyYWluLnNwYXRpYWxSZWZlcmVuY2UpPy5maWx0ZXJJblBsYWNlKChlPT5udWxsIT10aGlzLl9ub2RlSWQyTWV0YS5nZXQoZSkpKSksKGU9PnRoaXMuX25vZGVFbGV2YXRpb25BbGlnbm1lbnRDaGFuZ2VkKHRoaXMuX25vZGVJZDJNZXRhLmdldChlKSkpLCgoKT0+dGhpcy5lbGV2YXRpb25JbmZvPy5tb2RlKSkpLHRoaXMuX2VsZXZhdGlvblRhc2t9X2VsZXZhdGlvbkluZm9DaGFuZ2VkKGUsdCl7Y29uc3QgaT1lLm1vZGUhPT1DZS5BYnNvbHV0ZSxzPSEhdCYmdCE9PWUmJnQubW9kZSE9PUNlLkFic29sdXRlO3RoaXMuX2ludGVyc2VjdGlvbkhhbmRsZXIudXBkYXRlRWxldmF0aW9uQWxpZ25TdGF0ZShpLHRoaXMudmlldy5zdGF0ZS52aWV3aW5nTW9kZSksaSYmIXMmJnRoaXMuX2NvbnRyb2xsZXIucmVtb3ZlQWxsR2VvbWV0cnlPYmJzKCksdGhpcy5fbm9kZUlkMk1ldGEuZm9yRWFjaCgoZT0+dGhpcy5fbm9kZUVsZXZhdGlvbkFsaWdubWVudENoYW5nZWQoZSkpKX1fbm9kZUVsZXZhdGlvbkFsaWdubWVudENoYW5nZWQoZSl7bnVsbCE9ZSYmKHRoaXMuX3VwZGF0ZUVsZXZhdGlvbk9mZnNldHMoZSksdGhpcy5fdXBkYXRlQ29tcG9uZW50RGF0YShlKSx0aGlzLl91cGRhdGVFZGdlUmVuZGVyaW5nKGUpLG51bGwhPXRoaXMuX2xhYmVsZXImJnRoaXMuX2xhYmVsZXIudXBkYXRlTGFiZWxQb3NpdGlvbnMoZSksdGhpcy5fdXBkYXRlU25hcHBpbmdTb3VyY2VzKGUsSHQuVVBEQVRFKSx0aGlzLl9lbGV2YXRpb25Qcm92aWRlci5vYmplY3RDaGFuZ2VkKHRoaXMuX2NvbGxlY3Rpb24uZ2V0Q29tcG9uZW50T2JiKGUub2JqZWN0SGFuZGxlKSkpfV9zYWZlUmVzY2hlZHVsZShlLHQpe3JldHVybiB1KHQpLHRoaXMuX2NvbnRyb2xsZXIucmVzY2hlZHVsZShlLHQpfV9tYXRlcmlhbFBhcmFtZXRlcnMoZSx0KXtjb25zdCBpPW51bGwhPWUucGFyYW1zLm1hdGVyaWFsP2UucGFyYW1zLm1hdGVyaWFsOkdlKCkscz10LnNvbWUoKGU9PlwidXZSZWdpb25cIj09PWUubmFtZSkpLHI9dC5zb21lKChlPT5cIm5vcm1hbENvbXByZXNzZWRcIj09PWUubmFtZSkpLG89V3QoaSk7cmV0dXJue2dlb21ldHJ5UGFyYW1ldGVyczp0aGlzLl9nZXRHZW9tZXRyeVBhcmFtZXRlcnMoe2hhc1RleHR1cmU6byxoYXNOb3JtYWxzOnIsaGFzUmVnaW9uczpzfSksbWF0ZXJpYWw6aX19X2luaXRNYXRlcmlhbEFuZFRleHR1cmVzKGUsdCxpLHMscil7Y29uc3Qgbz10aGlzLl9zdGFnZS5yZW5kZXJWaWV3LGE9ZT0+e3RoaXMuX2dwdU1lbW9yeUVzdGltYXRlLT1lLHRoaXMuX3RleE1lbW9yeUVzdGltYXRlLT1lLHIubWVtb3J5LT1lfSxuPWkubWFwKChlPT5CZShlLHQscyxvLHRoaXMuX2NvbXByZXNzaW9uVHJhY2tlcixhKSkpO3RoaXMuX3N0YWdlLmFkZFRleHR1cmVzKG4pO2xldCBsPW51bGw7cmV0dXJuIHRoaXMuX2NvbGxlY3Rpb24udXBkYXRlTWF0ZXJpYWwoZSwoZT0+e2w9cWUoZSx0LG4saSx0aGlzLnZpZXcuc3RhZ2UucmVuZGVyVmlldy50ZXh0dXJlcyx7cmVuZGVyZXJUZXh0dXJlVXNhZ2U6dGhpcy5yZW5kZXJlclRleHR1cmVVc2FnZSx1c2VQQlI6dGhpcy5fdXNlUEJSLGlzSW50ZWdyYXRlZE1lc2g6dGhpcy5faXNJbnRlZ3JhdGVkTWVzaCxzbGljZVBsYW5lRW5hYmxlZDp0aGlzLnNsaWNlUGxhbmVFbmFibGVkLHZpZXdTcGF0aWFsUmVmZXJlbmNlOnRoaXMudmlldy5zcGF0aWFsUmVmZXJlbmNlfSksdGhpcy5fdXBkYXRlTWF0ZXJpYWxPdmVybGF5KGUpfSkpLHt0ZXh0dXJlczpuLHRleHR1cmVQcm9taXNlOmx9fV9nZXRHZW9tZXRyeVBhcmFtZXRlcnMoZSl7cmV0dXJuIG5ldyB3dCh0aGlzLl9oYXNWZXJ0ZXhDb2xvcnMsZS5oYXNUZXh0dXJlP2UuaGFzUmVnaW9ucz9FdC5BdGxhczpFdC5EZWZhdWx0OkV0Lk5vbmUsZS5oYXNOb3JtYWxzLHRoaXMuX3NoYWRlTm9ybWFscyx0aGlzLl9hcHBseVNTQU8pfV9hZGREYXRhKGUsdCxpKXtsZXQgcz10aGlzLl9hZGRUYXNrcy5nZXQoZS5pbmRleCk7aWYocylzLmF0dHJpYnV0ZUluZm89dDtlbHNle2NvbnN0IHI9XygpO3M9bmV3IFh0KHQsbnVsbCxyLnByb21pc2UpLHRoaXMuX2FkZFRhc2tzLnNldChlLmluZGV4LHMpLGkoKS50aGVuKHIucmVzb2x2ZSxyLnJlamVjdCkudGhlbigoKCk9PnRoaXMuX2FkZFRhc2tzLmRlbGV0ZShlLmluZGV4KSkpLmNhdGNoKCh0PT57dGhyb3cgdGhpcy5fYWRkVGFza3MuZGVsZXRlKGUuaW5kZXgpLHR9KSl9cmV0dXJuIHMucHJvbWlzZX1fY2xlYXJBZGRUYXNrcygpe3RoaXMuX2FkZFRhc2tzLmZvckVhY2goKGU9PntudWxsIT1lLm1ldGEmJih0aGlzLl9jYWNoZUdQVURhdGEoZS5tZXRhKSxlLm1ldGE9bnVsbCl9KSksdGhpcy5fYWRkVGFza3MuY2xlYXIoKX1fY2xpcHBpbmdBcmVhQ2hhbmdlZCgpe2NvbnN0IGU9dGhpcy52aWV3LnJlbmRlclNwYXRpYWxSZWZlcmVuY2UsdD10aGlzLmkzc2xheWVyLnNwYXRpYWxSZWZlcmVuY2UsaT1YKCk7dGhpcy5fcmVuZGVyQ2xpcHBpbmdBcmVhPXl0KHRoaXMudmlldy5jbGlwcGluZ0FyZWEsaSxlKT9pOm51bGw7Y29uc3Qgcz1YKCk7dGhpcy5fbGF5ZXJDbGlwcGluZ0FyZWE9eXQodGhpcy52aWV3LmNsaXBwaW5nQXJlYSxzLHQpP3M6bnVsbCx0aGlzLl9maWx0ZXJDaGFuZ2UoKSx0aGlzLl9jb250cm9sbGVyJiZ0aGlzLl9jb250cm9sbGVyLnVwZGF0ZUNsaXBwaW5nQXJlYSh0aGlzLnZpZXcuY2xpcHBpbmdBcmVhKSx0aGlzLl9pc0ludGVncmF0ZWRNZXNoJiZ0aGlzLl9tb2RpZmljYXRpb25zQ2hhbmdlZCgpfWdldCBoYXNHZW9tZXRyeUZpbHRlcigpe3JldHVybiExfV9nZW9tZXRyeUZpbHRlckNoYW5nZSgpe2NvbnN0IGU9dGhpcy5oYXNHZW9tZXRyeUZpbHRlcjt0aGlzLl9jb250cm9sbGVyLmdlb21ldHJ5RmlsdGVyQ2hhbmdlZChlKSx0aGlzLl9hcHBseUZpbHRlcnMoZSksdGhpcy5fYXNzZXJ0RmVhdHVyZUlkTm9kZUNvdW50cyhlKX1fYXNzZXJ0RmVhdHVyZUlkTm9kZUNvdW50cyhlKXtlJiYhdGhpcy5fZmVhdHVyZUlkQ291bnRzPyh0aGlzLl9mZWF0dXJlSWRDb3VudHM9X2kodGhpcy5fbm9kZUlkMk1ldGEudmFsdWVzKCkpLHRoaXMuX2ZpbHRlcmVkSWRDb3VudHM9X2kodGhpcy5fbm9kZUlkMk1ldGEudmFsdWVzKCksdWkuRmlsdGVyZWQpLHRoaXMuX3dlYWtseVJlbW92ZWRJZENvdW50cz1faSh0aGlzLl9ub2RlSWQyTWV0YS52YWx1ZXMoKSx1aS5XZWFrbHlSZW1vdmVkKSx0aGlzLmFkZEhhbmRsZXMoZygoKCk9PnRoaXMuX2NvbnRyb2xsZXIudXBkYXRpbmcpLChlPT57IWUmJnRoaXMuX25lZWRGaWx0ZXJSZXNvbHZlJiYodGhpcy5tdWx0aUdlb21ldHJ5RmlsdGVyUmVzb2x2ZSgpLHRoaXMuX25lZWRGaWx0ZXJSZXNvbHZlPSExLHRoaXMubm90aWZ5VXBkYXRlKCkpfSkse3N5bmM6ITB9KSxcInVwZGF0ZUZpbmlzaGVkXCIpKTohZSYmdGhpcy5fZmVhdHVyZUlkQ291bnRzJiYodGhpcy5fZmVhdHVyZUlkQ291bnRzPW51bGwsdGhpcy5fZmlsdGVyZWRJZENvdW50cz1udWxsLHRoaXMuX3dlYWtseVJlbW92ZWRJZENvdW50cz1udWxsLHRoaXMuX21pc21hdGNoU2hvdz1udWxsLHRoaXMuX21pc21hdGNoSGlkZT1udWxsLHRoaXMucmVtb3ZlSGFuZGxlcyhcInVwZGF0ZUZpbmlzaGVkXCIpLHRoaXMuX25lZWRGaWx0ZXJSZXNvbHZlPSExLHRoaXMubm90aWZ5VXBkYXRlKCkpfV91cGRhdGVGZWF0dXJlSWRDb3VudHMoZSx0KXt0aGlzLl9mZWF0dXJlSWRDb3VudHMmJih0aGlzLl9uZWVkRmlsdGVyUmVzb2x2ZT0hMCxjaSh0aGlzLl9mZWF0dXJlSWRDb3VudHMsZS5mZWF0dXJlSWRzLHQpLGNpKHRoaXMuX2ZpbHRlcmVkSWRDb3VudHMsZS5maWx0ZXJlZElkcyx0KSxjaSh0aGlzLl93ZWFrbHlSZW1vdmVkSWRDb3VudHMsZS53ZWFrbHlSZW1vdmVkSWRzLHQpKX1fdXBkYXRlRmlsdGVyZWRJZENvdW50cyhlLHQsaSl7dGhpcy5fZmlsdGVyZWRJZENvdW50cyYmKHRoaXMuX25lZWRGaWx0ZXJSZXNvbHZlPSEwLGNpKHRoaXMuX2ZpbHRlcmVkSWRDb3VudHMsdCwtMSksY2kodGhpcy5fZmlsdGVyZWRJZENvdW50cyxlLmZpbHRlcmVkSWRzLDEpLGNpKHRoaXMuX3dlYWtseVJlbW92ZWRJZENvdW50cyxpLC0xKSxjaSh0aGlzLl93ZWFrbHlSZW1vdmVkSWRDb3VudHMsZS53ZWFrbHlSZW1vdmVkSWRzLDEpKX1fY2hlY2tGZWF0dXJlSWROb2RlQ291bnRJbnZhcmlhbnQoKXtjb25zdCBlPW51bGwhPXRoaXMuX2ZlYXR1cmVJZENvdW50cztpZih0aGlzLmhhc0dlb21ldHJ5RmlsdGVyIT09ZSYmYS5nZXRMb2dnZXIodGhpcykuZXJyb3IoXCJjaGVja0ZlYXR1cmVJZE5vZGVDb3VudEludmFyaWFudCgpXCIsXCJMYXllclZpZXcgc2hvdWxkIGhhdmUgZmVhdHVyZSBpZCBub2RlIGNvdW50cyBpZiBhbmQgb25seSBpZiBpdCBoYXMgYSBnZW9tZXRyeSBmaWx0ZXJcIix7bGF5ZXJWaWV3OnRoaXMsaGFzTm9kZUNvdW50czplfSksIXRoaXMuX2ZlYXR1cmVJZENvdW50c3x8IXRoaXMuX2ZpbHRlcmVkSWRDb3VudHMpcmV0dXJuO2NvbnN0IHQ9X2kodGhpcy5fbm9kZUlkMk1ldGEudmFsdWVzKCkpO24odGhpcy5fZmVhdHVyZUlkQ291bnRzLHQpfHxhLmdldExvZ2dlcih0aGlzKS5lcnJvcihcImNoZWNrRmVhdHVyZUlkTm9kZUNvdW50SW52YXJpYW50KClcIixcIkluY29ycmVjdCBfZmVhdHVyZUlkQ291bnRzXCIse2xheWVyVmlldzp0aGlzLGNvdW50czp0aGlzLl9mZWF0dXJlSWRDb3VudHMsZXhwZWN0ZWQ6dH0pO2NvbnN0IGk9X2kodGhpcy5fbm9kZUlkMk1ldGEudmFsdWVzKCksdWkuRmlsdGVyZWQpO24odGhpcy5fZmlsdGVyZWRJZENvdW50cyxpKXx8YS5nZXRMb2dnZXIodGhpcykuZXJyb3IoXCJjaGVja0ZlYXR1cmVJZE5vZGVDb3VudEludmFyaWFudCgpXCIsXCJJbmNvcnJlY3QgX2ZpbHRlcmVkSWRDb3VudHNcIix7bGF5ZXJWaWV3OnRoaXMsY291bnRzOnRoaXMuX2ZpbHRlcmVkSWRDb3VudHMsZXhwZWN0ZWQ6aX0pO2NvbnN0IHM9X2kodGhpcy5fbm9kZUlkMk1ldGEudmFsdWVzKCksdWkuV2Vha2x5UmVtb3ZlZCk7bih0aGlzLl93ZWFrbHlSZW1vdmVkSWRDb3VudHMscyl8fGEuZ2V0TG9nZ2VyKHRoaXMpLmVycm9yKFwiY2hlY2tGZWF0dXJlSWROb2RlQ291bnRJbnZhcmlhbnQoKVwiLFwiSW5jb3JyZWN0IF93ZWFrbHlSZW1vdmVkSWRDb3VudHNcIix7bGF5ZXJWaWV3OnRoaXMsY291bnRzOnRoaXMuX3dlYWtseVJlbW92ZWRJZENvdW50cyxleHBlY3RlZDppfSl9bXVsdGlHZW9tZXRyeUZpbHRlclJlc29sdmUoKXtpZighdGhpcy5fZmVhdHVyZUlkQ291bnRzfHwhdGhpcy5fZmlsdGVyZWRJZENvdW50cylyZXR1cm47bGV0IGU9bnVsbCx0PW51bGw7Zm9yKGNvbnN0W2ksc11vZiB0aGlzLl9maWx0ZXJlZElkQ291bnRzKXtjb25zdCByPXRoaXMuX2ZlYXR1cmVJZENvdW50cy5nZXQoaSk7aWYociE9PXMpe3MrKHRoaXMuX3dlYWtseVJlbW92ZWRJZENvdW50cz8uZ2V0KGkpPz8wKT09PXI/KGU/Pz1uZXcgU2V0LGUuYWRkKGkpKToodD8/PW5ldyBTZXQsdC5hZGQoaSkpfX1wKGUsdGhpcy5fbWlzbWF0Y2hTaG93KSYmcCh0LHRoaXMuX21pc21hdGNoSGlkZSl8fCh0aGlzLl9taXNtYXRjaFNob3c9ZSx0aGlzLl9taXNtYXRjaEhpZGU9dCx0aGlzLl9ub2RlSWQyTWV0YS5mb3JFYWNoKChlPT57aWYoIWU/LmZpbHRlcmVkSWRzKXJldHVybjtjb25zdCB0PWhpKGUsdGhpcy5fbWlzbWF0Y2hTaG93LHRoaXMuX21pc21hdGNoSGlkZSk7dGhpcy5fY29sbGVjdGlvbi5zZXRBbGxDb21wb25lbnRWaXNpYmlsaXRpZXMoZS5vYmplY3RIYW5kbGUsdCksdGhpcy5fdmlzaWJsZUdlb21ldHJ5Q2hhbmdlZChlLEh0LlVQREFURSl9KSkpfV9maWx0ZXJDaGFuZ2UoKXt0aGlzLl9hcHBseUZpbHRlcnModGhpcy5oYXNHZW9tZXRyeUZpbHRlcil9X2FwcGx5RmlsdGVycyhlKXt0aGlzLl9maWx0ZXJzPXRoaXMuZ2V0RmlsdGVycygpLGU/dGhpcy5fY29udHJvbGxlciYmdGhpcy5fY29udHJvbGxlci5yZXF1ZXN0VXBkYXRlKCk6dGhpcy5fbm9kZUlkMk1ldGEuZm9yRWFjaCgoZT0+e2UmJnRoaXMuX2FwcGx5RmlsdGVyc1RvTm9kZShlKSYmKHRoaXMuX2FkZE9yVXBkYXRlRWRnZVJlbmRlcmluZyhlKSx0aGlzLl92aXNpYmxlR2VvbWV0cnlDaGFuZ2VkKGUsSHQuVVBEQVRFKSl9KSl9Z2V0RmlsdGVycygpe2NvbnN0IGU9W10sdD10aGlzLl9yZW5kZXJDbGlwcGluZ0FyZWE7cmV0dXJuIG51bGwhPXQmJmUucHVzaCgoKGUsaSk9PnRoaXMuX2JvdW5kaW5nUmVjdEZpbHRlcihlLGksdCkpKSxlfWFkZFNxbEZpbHRlcihlLHQsaSl7aWYobnVsbCE9dCl7Y29uc3Qgcz10LmZpZWxkTmFtZXM7ZS5wdXNoKCgoZSxyKT0+dGhpcy5fc3FsRmlsdGVyKGUscix0LHMsaSkpKX19X3NxbEZpbHRlcihlLHQsaSxzLHIpe2NvbnN0IG89e30sYT10aGlzLl9jcmVhdGVMYXllckdyYXBoaWMobyksbj10aGlzLmkzc2xheWVyLm9iamVjdElkRmllbGQsbD10LmZlYXR1cmVJZHMsZD10LmF0dHJpYnV0ZUluZm8/LmF0dHJpYnV0ZURhdGE7cy5ldmVyeSgoZT0+ZT09PW58fG51bGwhPWQ/LltlXSkpJiZldChlLGwsKGU9PntvW25dPWxbZV07Zm9yKGNvbnN0IGkgb2YgcylpIT09biYmKG9baV09ZD9WZShkW2ldLGUpOm51bGwpO3RyeXtyZXR1cm4gaS50ZXN0RmVhdHVyZShhKX1jYXRjaCh0KXtyZXR1cm4gcih0KSwhMX19KSl9X2JvdW5kaW5nUmVjdE5vZGVUZXN0KGUsdCl7cmV0dXJuIEIoZS5ub2RlLnNlcnZpY2VNYnNJbkluZGV4U1IsdGhpcy5fY29udHJvbGxlci5jcnNJbmRleCxxdCx0aGlzLnZpZXcucmVuZGVyU3BhdGlhbFJlZmVyZW5jZSksdHQodCxxdCl9X2JvdW5kaW5nUmVjdEZlYXR1cmVUZXN0KGUsdCxpKXtyZXR1cm4gdGhpcy5fY29sbGVjdGlvbi5nZXRDb21wb25lbnRBYWJiKGUub2JqZWN0SGFuZGxlLHQsVXQpLFEoVXQsa3QpLFkoaSxrdCl9X2JvdW5kaW5nUmVjdEZpbHRlcihlLHQsaSl7Y29uc3Qgcz10aGlzLl9jb2xsZWN0aW9uLHI9dGhpcy5fYm91bmRpbmdSZWN0Tm9kZVRlc3QodCxpKTtpZihyPT09aXQuSU5TSURFKXJldHVybjtpZihyPT09aXQuT1VUU0lERSlyZXR1cm4gdm9pZChlLmxlbmd0aD0wKTtjb25zdCBvPXMuZ2V0Q29tcG9uZW50Q291bnQodC5vYmplY3RIYW5kbGUpO2lmKG8uaW52aXNpYmxlK28udmlzaWJsZSE9PXQuZmVhdHVyZUlkcy5sZW5ndGgpcmV0dXJuO2NvbnN0IGE9dGhpcy5fdHJhbnNmb3JtQ2xpcHBpbmdBcmVhKEx0LGksdC5vYmplY3RIYW5kbGUpO2V0KGUsdC5mZWF0dXJlSWRzLChlPT50aGlzLl9ib3VuZGluZ1JlY3RGZWF0dXJlVGVzdCh0LGUsYSkpKX1fdHJhbnNmb3JtQ2xpcHBpbmdBcmVhKGUsdCxpKXtjb25zdCBzPXRoaXMuX2NvbGxlY3Rpb24uZ2V0T2JqZWN0VHJhbnNmb3JtKGkpLHI9cy5wb3NpdGlvbixvPXMucm90YXRpb25TY2FsZTtyZXR1cm4gZVswXT0odFswXS1yWzBdKS9vWzBdLGVbMV09KHRbMV0tclsxXSkvb1s0XSxlWzJdPSh0WzJdLXJbMF0pL29bMF0sZVszXT0odFszXS1yWzFdKS9vWzRdLGV9YXN5bmMgX2FkZE9yVXBkYXRlRWRnZVJlbmRlcmluZyhlLHQ9ITApe2NvbnN0IGk9ZS5vYmplY3RIYW5kbGUse2hhc0VkZ2VzOnMscGVyRmVhdHVyZUVkZ2VNYXRlcmlhbHM6cn09dGhpcy5fZ2V0RmlsdGVyZWRFZGdlTWF0ZXJpYWxzKGUpO3MmJiF0aGlzLl9lZGdlVmlldyYmKHRoaXMuX2VkZ2VWaWV3PWF3YWl0IHRoaXMuX3N0YWdlLnJlbmRlcmVyLmxvYWRFZGdlVmlldygpKTtjb25zdCBvPXRoaXMuX2VkZ2VWaWV3O2lmKCFvKXJldHVybiBudWxsO2NvbnN0IGE9by5oYXNPYmplY3QoaSk7aWYocyl7aWYoYSl7aWYodGhpcy5ub2RlQ3Jvc3NmYWRpbmdFbmFibGVkKXtZdChyLHRoaXMuZ2V0Tm9kZU9wYWNpdHkoZSkpfXJldHVybiBvLnVwZGF0ZUFsbENvbXBvbmVudE1hdGVyaWFscyhpLHIsdGhpcy5zbGljZVBsYW5lRW5hYmxlZCx0KS5jYXRjaCgoZT0+dGhpcy5fbG9nRWRnZVZpZXdFcnJvcihlLHRoaXMuaTNzbGF5ZXIudGl0bGUpKSksby51cGRhdGVPYmplY3RWaXNpYmlsaXR5KGksITApLmNhdGNoKChlPT50aGlzLl9sb2dFZGdlVmlld0Vycm9yKGUsdGhpcy5pM3NsYXllci50aXRsZSkpKSxvLnVwZGF0ZUFsbFZlcnRpY2FsT2Zmc2V0cyhpLGUuZWxldmF0aW9uT2Zmc2V0cykuY2F0Y2goKGU9PnRoaXMuX2xvZ0VkZ2VWaWV3RXJyb3IoZSx0aGlzLmkzc2xheWVyLnRpdGxlKSkpLG99Y29uc3Qgcz1hd2FpdCB0aGlzLl9jb2xsZWN0aW9uLmFkZEVkZ2VzKGksbyxyLHRoaXMuc2xpY2VQbGFuZUVuYWJsZWQsZS5lbGV2YXRpb25PZmZzZXRzKTtyZXR1cm4gZS5lZGdlTWVtb3J5VXNhZ2U9cyxlLm5vZGUubWVtb3J5Kz1zLG99cmV0dXJuIGEmJihlLm5vZGUubWVtb3J5LT1lLmVkZ2VNZW1vcnlVc2FnZSxlLmVkZ2VNZW1vcnlVc2FnZT0wLG8ucmVtb3ZlT2JqZWN0KGkpKSxudWxsfV9hcHBseUZpbHRlcnNUb05vZGUoZSl7Y29uc3R7ZmlsdGVyZWRJZHM6dCx3ZWFrbHlSZW1vdmVkSWRzOml9PWUscz10aGlzLl9hcHBseUZpbHRlcnNUb05vZGVDb21wb25lbnRzKGUpO3JldHVybiB0aGlzLl91cGRhdGVGaWx0ZXJlZElkQ291bnRzKGUsdCxpKSxzJiZ0aGlzLl9sYWJlbGVyPy5hcHBseUZpbHRlckNoYW5nZShlKSxzfV9hcHBseUZpbHRlcnNUb05vZGVDb21wb25lbnRzKGUpe2NvbnN0IHQ9dGhpcy5fY29sbGVjdGlvbixpPXQuZ2V0Q29tcG9uZW50Q291bnQoZS5vYmplY3RIYW5kbGUpLHM9bnVsbCE9ZS5maWx0ZXJlZElkcyxyPTA9PT1pLmludmlzaWJsZTtpZih0LnNldEFsbENvbXBvbmVudFZpc2liaWxpdGllcyhlLm9iamVjdEhhbmRsZSxcImFsbFwiKSwwPT09dGhpcy5fZmlsdGVycy5sZW5ndGgpcmV0dXJuIGUuZmlsdGVyZWRJZHM9bnVsbCwhcjtpZihudWxsIT1lLmZpbHRlcmVkSWRzJiZlLmFwcGxpZWRGaWx0ZXJzPT09dGhpcy5fZmlsdGVyc3x8KGUud2Vha2x5UmVtb3ZlZElkcz1udWxsLGUuZmlsdGVyZWRJZHM9ZGkoZSx0aGlzLl9maWx0ZXJzKSxlLmFwcGxpZWRGaWx0ZXJzPXRoaXMuX2ZpbHRlcnMpLHMmJmUuZmlsdGVyZWRJZHM9PT1lLmZlYXR1cmVJZHMmJighdGhpcy5fbWlzbWF0Y2hIaWRlfHxlLmZpbHRlcmVkSWRzLmV2ZXJ5KChlPT4hdGhpcy5fbWlzbWF0Y2hIaWRlPy5oYXMoZSkpKSkpcmV0dXJuIXI7Y29uc3Qgbz1oaShlLHRoaXMuX21pc21hdGNoU2hvdyx0aGlzLl9taXNtYXRjaEhpZGUpO3JldHVybiB0LnNldEFsbENvbXBvbmVudFZpc2liaWxpdGllcyhlLm9iamVjdEhhbmRsZSxvKSwhMH1fcmVtb3ZlQWxsTm9kZURhdGFGcm9tU3RhZ2UoZT10aGlzLmVsZXZhdGlvbk9mZnNldCl7dGhpcy5fbm9kZUlkMk1ldGEuZm9yRWFjaCgoKHQsaSk9PnRoaXMuX3JlbW92ZU5vZGVTdGFnZURhdGEoaSxlKSkpLHRoaXMuX25vZGVJZDJNZXRhUmVsb2FkaW5nLmZvckVhY2goKCh0LGkpPT50aGlzLl9yZW1vdmVOb2RlU3RhZ2VEYXRhKGksZSx0aGlzLl9ub2RlSWQyTWV0YVJlbG9hZGluZykpKSx0aGlzLl9lbGV2YXRpb25UYXNrPWwodGhpcy5fZWxldmF0aW9uVGFzayl9cmVtb3ZlTm9kZShlKXtjb25zdCB0PXRoaXMuZWxldmF0aW9uT2Zmc2V0O3RoaXMuX3JlbW92ZU5vZGVTdGFnZURhdGEoZSx0KSx0aGlzLl9yZW1vdmVOb2RlU3RhZ2VEYXRhKGUsdCx0aGlzLl9ub2RlSWQyTWV0YVJlbG9hZGluZyksbnVsbCE9dGhpcy5fZWxldmF0aW9uVGFzayYmdGhpcy5fZWxldmF0aW9uVGFzay5yZW1vdmUoZSl9X3JlbW92ZU5vZGVTdGFnZURhdGEoZSx0LGk9dGhpcy5fbm9kZUlkMk1ldGEpe2kuaGFzKGUpJiZ0aGlzLl9jb250cm9sbGVyLnVwZGF0ZUxvYWRTdGF0dXMoZSwhMSk7Y29uc3Qgcz1pLmdldChlKTtudWxsIT1zPyh0aGlzLl9jb2xsZWN0aW9uLnNldE9iamVjdFZpc2liaWxpdHkocy5vYmplY3RIYW5kbGUsITEpLG51bGwhPXRoaXMuX2VkZ2VWaWV3JiZ0aGlzLl9lZGdlVmlldy5oYXNPYmplY3Qocy5vYmplY3RIYW5kbGUpJiZ0aGlzLl9lZGdlVmlldy51cGRhdGVPYmplY3RWaXNpYmlsaXR5KHMub2JqZWN0SGFuZGxlLCExKS5jYXRjaCgoZT0+dGhpcy5fbG9nRWRnZVZpZXdFcnJvcihlLHRoaXMuaTNzbGF5ZXIudGl0bGUpKSksdGhpcy5fdmlzaWJsZUdlb21ldHJ5Q2hhbmdlZChzLEh0LlJFTU9WRSksbnVsbCE9dGhpcy5fbGFiZWxlciYmdGhpcy5fbGFiZWxlci5yZW1vdmVOb2RlTWV0YShzKSxpLmRlbGV0ZShlKSx0aGlzLl9oaWdobGlnaHRzLm9iamVjdERlbGV0ZWQocyksaT09PXRoaXMuX25vZGVJZDJNZXRhPyh0aGlzLl91cGRhdGVGZWF0dXJlSWRDb3VudHMocywtMSksdGhpcy5fY2FjaGVHUFVEYXRhKHMsdCksdGhpcy5ub2RlQ3Jvc3NmYWRpbmdFbmFibGVkJiZ0aGlzLl9jcm9zc2ZhZGVIZWxwZXIuc3RvcE5vZGVGYWRpbmcocykpOnRoaXMuX2RlbGV0ZUNvbXBvbmVudE9iamVjdChzKSxudWxsIT10aGlzLl90cmVlRGVidWdnZXImJnRoaXMuX3RyZWVEZWJ1Z2dlci51cGRhdGUoKSk6aS5kZWxldGUoZSl9X2RlbGV0ZUNvbXBvbmVudE9iamVjdChlKXtpZihudWxsIT10aGlzLl9lZGdlVmlldyYmdGhpcy5fZWRnZVZpZXcucmVtb3ZlT2JqZWN0KGUub2JqZWN0SGFuZGxlKSx0aGlzLl9tZW1Fc3RpbWF0ZUdlb21ldHJ5UmVtb3ZlZChlLm9iamVjdEhhbmRsZSksdGhpcy5fY29sbGVjdGlvbi5kZXN0cm95T2JqZWN0KGUub2JqZWN0SGFuZGxlKSxlLnRleHR1cmVzKWZvcihjb25zdCB0IG9mIGUudGV4dHVyZXMpdGhpcy5fbWVtRXN0aW1hdGVUZXh0dXJlUmVtb3ZlZCh0KSx0aGlzLl9zdGFnZS5yZW1vdmVUZXh0dXJlKHQpfXVwZGF0ZU5vZGVTdGF0ZShlLHQpe2NvbnN0IGk9dGhpcy5fbm9kZUlkMk1ldGEuZ2V0KGUpO251bGwhPWkmJnRoaXMuX2NvbGxlY3Rpb24udXBkYXRlTWF0ZXJpYWwoaS5vYmplY3RIYW5kbGUsKGU9PmUucG9seWdvbk9mZnNldEVuYWJsZWQ9dD09PXplLkhvbGUpKX11cGRhdGVOb2RlSW5kZXgoZSx0KXtpZih0aGlzLl9ub2RlSWQyTWV0YS5oYXMoZSkpe2NvbnN0IGk9dGhpcy5fbm9kZUlkMk1ldGEuZ2V0KGUpO3RoaXMuX25vZGVJZDJNZXRhLmRlbGV0ZShlKSx0aGlzLl9ub2RlSWQyTWV0YS5zZXQodCxpKSx0aGlzLm5vdGlmeUNoYW5nZShcImVsZXZhdGlvblJhbmdlXCIpfWNvbnN0IGk9dGhpcy5fbm9kZUlkMk1ldGFSZWxvYWRpbmcuZ2V0KGUpO2kmJih0aGlzLl9ub2RlSWQyTWV0YVJlbG9hZGluZy5kZWxldGUoZSksdGhpcy5fbm9kZUlkMk1ldGFSZWxvYWRpbmcuc2V0KHQsaSkpfV9pbnZhbGlkYXRlQWxsU3ltYm9scygpe3RoaXMuX3JlbmRlcmVyVmVyc2lvbj1zdCh0aGlzLl9yZW5kZXJlclZlcnNpb24sMSksdGhpcy5fY29udHJvbGxlcj8ucmVxdWVzdFVwZGF0ZSgpfV9nZXRJbnZhbGlkUmVuZGVyZXJWZXJzaW9uKCl7cmV0dXJuIHN0KHRoaXMuX3JlbmRlcmVyVmVyc2lvbiwtMSl9YXN5bmMgX3JlbmRlcmVyQ2hhbmdlKGUpe2lmKHRoaXMuX2N1cnJlbnRSZW5kZXJlcj1lLHRoaXMubm90aWZ5Q2hhbmdlKFwicmVuZGVyZXJUZXh0dXJlVXNhZ2VcIiksdGhpcy5fcmVuZGVyZXJWZXJzaW9uPXN0KHRoaXMuX3JlbmRlcmVyVmVyc2lvbiwxKSx0aGlzLl9yZW5kZXJlckZpZWxkcz1udWxsLHRoaXMuX2NvbG9yVmFyaWFibGU9bnVsbCx0aGlzLl9vcGFjaXR5VmFyaWFibGU9bnVsbCx0aGlzLl9pbnZhbGlkYXRlQWxsU3ltYm9scygpLGUmJih0aGlzLl9yZW5kZXJlckZpZWxkcz1hd2FpdCBlLmdldFJlcXVpcmVkRmllbGRzKHRoaXMuaTNzbGF5ZXIuZmllbGRzSW5kZXgpKSx0aGlzLl91cGRhdGVTeW1ib2xvZ3lGaWVsZHMoKSwhdGhpcy5fYXJjYWRlJiZlJiZcImFyY2FkZVJlcXVpcmVkXCJpbiBlJiZlLmFyY2FkZVJlcXVpcmVkJiYodGhpcy5fYXJjYWRlPWF3YWl0IG1lKCkpLGUmJlwidmlzdWFsVmFyaWFibGVzXCJpbiBlJiZlLnZpc3VhbFZhcmlhYmxlcylmb3IoY29uc3QgdCBvZiBlLnZpc3VhbFZhcmlhYmxlcylcImNvbG9yXCI9PT10LnR5cGU/dGhpcy5fY29sb3JWYXJpYWJsZT10Olwib3BhY2l0eVwiPT09dC50eXBlP3RoaXMuX29wYWNpdHlWYXJpYWJsZT10OmEuZ2V0TG9nZ2VyKHRoaXMpLndhcm4oYFVuc3VwcG9ydGVkIHZpc3VhbCB2YXJpYWJsZSB0eXBlIGZvciAzRCBPYmplY3QgU2NlbmUgU2VydmljZXM6ICR7dC50eXBlfWApO2lmKGUpZm9yKGNvbnN0IHQgb2YgZS5zeW1ib2xzKVwibWVzaC0zZFwiIT09dC50eXBlJiZhLmdldExvZ2dlcih0aGlzKS5lcnJvcihgU3ltYm9scyBvZiB0eXBlICcke3QudHlwZX0nIGFyZSBub3Qgc3VwcG9ydGVkIGZvciAzRCBPYmplY3QgU2NlbmUgU2VydmljZXMuYCk7dGhpcy5fY29udHJvbGxlciYmdGhpcy5fY29udHJvbGxlci5yZXF1ZXN0VXBkYXRlKCl9X2dldENhY2hlZEVkZ2VNYXRlcmlhbHMoZSl7cmV0dXJuIHRoaXMuX2hhc0NvbXBvbmVudERhdGEmJmUuY2FjaGVkUmVuZGVyZXJWZXJzaW9uIT09dGhpcy5fcmVuZGVyZXJWZXJzaW9uJiZ0aGlzLl91cGRhdGVDYWNoZWRSZW5kZXJlckRhdGEoZSksZS5jYWNoZWRFZGdlTWF0ZXJpYWxzfV9nZXRDb21wb25lbnRQYXJhbWV0ZXJzKGUpe3RoaXMuX2hhc0NvbXBvbmVudERhdGEmJmUuY2FjaGVkUmVuZGVyZXJWZXJzaW9uIT09dGhpcy5fcmVuZGVyZXJWZXJzaW9uJiZ0aGlzLl91cGRhdGVDYWNoZWRSZW5kZXJlckRhdGEoZSk7Y29uc3QgdD1lLmNhY2hlZFN5bWJvbG9neTtyZXR1cm4oaSxzKT0+e2NvbnN0IHI9NSppO0gocy5leHRlcm5hbENvbG9yLHRbcl0vMjU1LHRbcisxXS8yNTUsdFtyKzJdLzI1NSx0W3IrM10vMjU1KTtjb25zdCBvPXRoaXMuX3N0YWdlLnJlbmRlclZpZXcub2xpZFJlbmRlckhlbHBlcjtpZihvKXtjb25zdCB0PWUuZmVhdHVyZUlkc1tpXSxyPXRoaXMuc3VibGF5ZXJJZD9gJHt0aGlzLmxheWVyVmlld1VpZH1fJHt0aGlzLnN1YmxheWVySWR9YDp0aGlzLmxheWVyVmlld1VpZCxhPWNlKHRoaXMudmlldyx0aGlzLnVpZCk7by5zZXRVaWRUb09iamVjdEFuZExheWVySWQodCx0LHRoaXMubGF5ZXJJZCxyLHRoaXMubGF5ZXJQb3B1cEVuYWJsZWRBbmRIYXNUZW1wbGF0ZSYmIWEsZS5ub2RlLnJlc291cmNlcy5hdHRyaWJ1dGVzLGksdGhpcy5zdWJsYXllcklkKSxzLm9iamVjdEFuZExheWVySWRDb2xvcj1vLmdldE9iamVjdEFuZExheWVySWRDb2xvcih7Z3JhcGhpY1VpZDp0LGxheWVyVmlld1VpZDpyfSl9cy5leHRlcm5hbENvbG9yTWl4TW9kZT10W3IrNF0mKDE8PEZ0LkNhc3RTaGFkb3dzKS0xLHMuY2FzdFNoYWRvd3M9ISEodFtyKzRdJjE8PEZ0LkNhc3RTaGFkb3dzKSxzLnBpY2thYmxlPSEhKHRbcis0XSYxPDxGdC5QaWNrYWJsZSkscy5lbGV2YXRpb25PZmZzZXQ9ZS5lbGV2YXRpb25PZmZzZXRzPy5baV0/PzB9fV9nZXRTeW1ib2xJbmZvKGUsdCl7Y29uc3QgaT1lPy5nZXRTeW1ib2wodCx7YXJjYWRlOnRoaXMuX2FyY2FkZX0pO2lmKCEoaSBpbnN0YW5jZW9mIGdlKSlyZXR1cm4gbnVsbDtjb25zdCBzPWkuaWQ7aWYodGhpcy5fc3ltYm9sSW5mb3MuaGFzKHMpKXJldHVybiB0aGlzLl9zeW1ib2xJbmZvcy5nZXQocyk7Y29uc3Qgcj1ydChpKTtyZXR1cm4gdGhpcy5fc3ltYm9sSW5mb3Muc2V0KHMscikscn1fc2V0U3ltYm9sb2d5T3ZlcnJpZGUoZSx0KXt0aGlzLl9zeW1ib2xvZ3lPdmVycmlkZSE9PWUmJih0aGlzLl9zeW1ib2xvZ3lPdmVycmlkZT1lLHRoaXMuX3N5bWJvbG9neU92ZXJyaWRlRmllbGRzPXQsdGhpcy5faW52YWxpZGF0ZUFsbFN5bWJvbHMoKSx0aGlzLl91cGRhdGVTeW1ib2xvZ3lGaWVsZHMoKSl9X3VwZGF0ZVN5bWJvbG9neUZpZWxkcygpe3RoaXMuX3N5bWJvbG9neUZpZWxkcz1udWxsIT10aGlzLl9zeW1ib2xvZ3lPdmVycmlkZUZpZWxkcyYmdGhpcy5fc3ltYm9sb2d5T3ZlcnJpZGVGaWVsZHMubGVuZ3RoPjA/bnVsbCE9dGhpcy5fcmVuZGVyZXJGaWVsZHMmJnRoaXMuX3JlbmRlcmVyRmllbGRzLmxlbmd0aD4wP25lKHRoaXMuaTNzbGF5ZXIuZmllbGRzSW5kZXgsWy4uLnRoaXMuX3JlbmRlcmVyRmllbGRzLC4uLnRoaXMuX3N5bWJvbG9neU92ZXJyaWRlRmllbGRzXSk6dGhpcy5fc3ltYm9sb2d5T3ZlcnJpZGVGaWVsZHM6dGhpcy5fcmVuZGVyZXJGaWVsZHN9X3VwZGF0ZUNhY2hlZFJlbmRlcmVyRGF0YShlKXtpZihlLmNhY2hlZFJlbmRlcmVyVmVyc2lvbj10aGlzLl9yZW5kZXJlclZlcnNpb24sIXRoaXMuX2hhc0NvbXBvbmVudERhdGEpcmV0dXJuO2NvbnN0IHQ9dGhpcy5fdG1wQXR0cmlidXRlT25seUdyYXBoaWMsaT17fTt0LmF0dHJpYnV0ZXM9aTtjb25zdCBzPXRoaXMuX2N1cnJlbnRSZW5kZXJlcixyPWUuYXR0cmlidXRlSW5mbz8uYXR0cmlidXRlRGF0YSxvPWUuZmVhdHVyZUlkcz90aGlzLmkzc2xheWVyLm9iamVjdElkRmllbGQ6bnVsbCxhPW51bGwhPXImJm51bGwhPXRoaXMuX3N5bWJvbG9neUZpZWxkcyYmdGhpcy5fc3ltYm9sb2d5RmllbGRzLmxlbmd0aD4wO2xldCBuPW51bGwsbD1udWxsO2lmKGEmJm51bGwhPXRoaXMuX3N5bWJvbG9neUZpZWxkcyl7bj1bXSxsPVtdO2Zvcihjb25zdCBlIG9mIHRoaXMuX3N5bWJvbG9neUZpZWxkcyl7Y29uc3QgdD1yW2VdO3QmJihuLnB1c2goZSksbC5wdXNoKHQpKX19ZS5jYWNoZWRTeW1ib2xvZ3l8fChlLmNhY2hlZFN5bWJvbG9neT1yZSg1KmUuZmVhdHVyZUlkcy5sZW5ndGgpKTtjb25zdCBkPW5ldyBodCxoPXRoaXMuZnVsbE9wYWNpdHksYz10aGlzLm5vZGVDcm9zc2ZhZGluZ0VuYWJsZWQ/dGhpcy5nZXROb2RlT3BhY2l0eShlKTpoO2xldCB1PW51bGwsXz1PdC5PUEFRVUUsbT1vdCxnPTA7Zm9yKGxldCBmPTA7ZjxlLmZlYXR1cmVJZHMubGVuZ3RoO2YrKyl7aWYobnVsbCE9byYmKGlbb109ZS5mZWF0dXJlSWRzW2ZdKSxhJiZuKWZvcihsZXQgZT0wO2U8bi5sZW5ndGg7ZSsrKWlbbltlXV09VmUobFtlXSxmKTtjb25zdCByPXM/dGhpcy5fZ2V0U3ltYm9sSW5mbyhzLHQpOm51bGw7bGV0IGgscDtpZihkLnBpY2thYmxlPSEwLHMmJlwidmlzdWFsVmFyaWFibGVzXCJpbiBzKXtpZih0aGlzLl9jb2xvclZhcmlhYmxlKXtjb25zdCBlPWRlKHRoaXMuX2NvbG9yVmFyaWFibGUsdCx7Y29sb3I6QnQsYXJjYWRlOnRoaXMuX2FyY2FkZX0pO2UmJihoPWQuY29sb3IsaFswXT1lLnIvMjU1LGhbMV09ZS5nLzI1NSxoWzJdPWUuYi8yNTUsaFszXT1lLmE/PzEsdGhpcy5fb3BhY2l0eVZhcmlhYmxlfHxudWxsPT09ZS5hfHwocD1lLmEpKX10aGlzLl9vcGFjaXR5VmFyaWFibGUmJihwPWhlKHRoaXMuX29wYWNpdHlWYXJpYWJsZSx0LHthcmNhZGU6dGhpcy5fYXJjYWRlfSkpfWlmKHI/Lm1hdGVyaWFsKXtjb25zdCBlPXIubWF0ZXJpYWw7aD1udWxsPT1ofHxudWxsPT1wP2plKGgscCxlLmNvbG9yLGUuYWxwaGEsVHQsZC5jb2xvcik6amUoaCxwLG51bGwsbnVsbCxUdCxkLmNvbG9yKX1pZihoPz89SChkLmNvbG9yLDEsMSwxLDEpLGQuY29sb3JNaXhNb2RlPXI/Lm1hdGVyaWFsPy5jb2xvck1peE1vZGU/P2d0Lk11bHRpcGx5LGQuZWRnZU1hdGVyaWFsPXI/LmVkZ2VNYXRlcmlhbCx0aGlzLl9zeW1ib2xvZ3lPdmVycmlkZT8uKHQsZCksbnVsbCE9dGhpcy5fbm9kZUNvbG9yT3ZlcnJpZGUmJih0aGlzLl9ub2RlQ29sb3JPdmVycmlkZShlLm5vZGUsaCksZC5jb2xvck1peE1vZGU9Z3QuUmVwbGFjZSksZC5waWNrYWJsZSYmPWhbM10+PUF0LGQuY2FzdFNoYWRvd3M9cj9yLmNhc3RTaGFkb3dzOmQucGlja2FibGUsbnVsbCE9ZC5lZGdlTWF0ZXJpYWwpe2NvbnN0IHQ9aFszXT49MSYmKGUubWF0ZXJpYWwuaXNPcGFxdWV8fGQuY29sb3JNaXhNb2RlPT09Z3QuUmVwbGFjZSk/T3QuT1BBUVVFOk90LlRSQU5TUEFSRU5UO2QuZWRnZU1hdGVyaWFsPT09dSYmdD09PV98fChtPXsuLi5kLmVkZ2VNYXRlcmlhbCxvcGFjaXR5OmMsb2JqZWN0VHJhbnNwYXJlbmN5OnR9LHU9ZC5lZGdlTWF0ZXJpYWwsXz10KSxlLmNhY2hlZEVkZ2VNYXRlcmlhbHNbZl09bX1lbHNlIGUuY2FjaGVkRWRnZU1hdGVyaWFsc1tmXT1vdDtlLmNhY2hlZFN5bWJvbG9neVtnKytdPU1hdGgucm91bmQoMjU1KmhbMF0pLGUuY2FjaGVkU3ltYm9sb2d5W2crK109TWF0aC5yb3VuZCgyNTUqaFsxXSksZS5jYWNoZWRTeW1ib2xvZ3lbZysrXT1NYXRoLnJvdW5kKDI1NSpoWzJdKSxlLmNhY2hlZFN5bWJvbG9neVtnKytdPU1hdGgucm91bmQoMjU1KmhbM10pLGUuY2FjaGVkU3ltYm9sb2d5W2crK109ZC5jb2xvck1peE1vZGV8K2QuY2FzdFNoYWRvd3M8PEZ0LkNhc3RTaGFkb3dzfCtkLnBpY2thYmxlPDxGdC5QaWNrYWJsZX19X2dldEZpbHRlcmVkRWRnZU1hdGVyaWFscyhlKXtjb25zdCB0PXRoaXMuX2dldENhY2hlZEVkZ2VNYXRlcmlhbHMoZSk7dGhpcy5ub2RlQ3Jvc3NmYWRpbmdFbmFibGVkfHxZdCh0LHRoaXMuZnVsbE9wYWNpdHkpO2NvbnN0IGk9ZS5maWx0ZXJlZElkcztpZihudWxsPT1pKXtyZXR1cm57aGFzRWRnZXM6dC5zb21lKChlPT5lIT09b3QpKSxwZXJGZWF0dXJlRWRnZU1hdGVyaWFsczp0fX1sZXQgcz0wLHI9ITE7Y29uc3Qgbz10Lm1hcCgoKHQsbyk9PmUuZmVhdHVyZUlkc1tvXSE9PWlbc10/b3Q6KHI9cnx8dCE9PW90LHMrKyx0KSkpO3JldHVybntoYXNFZGdlczpyLHBlckZlYXR1cmVFZGdlTWF0ZXJpYWxzOm99fV91cGRhdGVDb21wb25lbnREYXRhKGUpe2lmKCF0aGlzLl9oYXNDb21wb25lbnREYXRhKXJldHVybjtjb25zdCB0PWUub2JqZWN0SGFuZGxlLGk9dGhpcy5fZ2V0Q29tcG9uZW50UGFyYW1ldGVycyhlKTt0aGlzLl9jb2xsZWN0aW9uLnNldENvbXBvbmVudERhdGEodCxpKSx0aGlzLl9zdGFnZS5yZW5kZXJWaWV3LnJlcXVlc3RSZW5kZXIoKX1fcmVsb2FkQWxsKGU9dGhpcy5lbGV2YXRpb25PZmZzZXQpe3RoaXMuX3JlbW92ZUFsbE5vZGVEYXRhRnJvbVN0YWdlKGUpLG51bGwhPXRoaXMuX2NvbnRyb2xsZXImJnRoaXMuX2NvbnRyb2xsZXIucmVzdGFydE5vZGVMb2FkaW5nKCl9X29wYWNpdHlDaGFuZ2UoZSl7dGhpcy5ub2RlQ3Jvc3NmYWRpbmdFbmFibGVkJiZ0aGlzLl9jcm9zc2ZhZGVIZWxwZXIuc3RvcEFsbE5vZGVGYWRpbmcoKSx0aGlzLl9ub2RlSWQyTWV0YS5mb3JFYWNoKCh0PT57bnVsbCE9dCYmKHRoaXMuX2NvbGxlY3Rpb24udXBkYXRlTWF0ZXJpYWwodC5vYmplY3RIYW5kbGUsKHQ9PnQub2JqZWN0T3BhY2l0eT1lKSksWXQodC5jYWNoZWRFZGdlTWF0ZXJpYWxzLGUpLHRoaXMuX3VwZGF0ZUVkZ2VSZW5kZXJpbmcodCkpfSkpfV91cGRhdGVNYXRlcmlhbChlKXt0aGlzLl9jb2xsZWN0aW9uLnVwZGF0ZU1hdGVyaWFsKGUub2JqZWN0SGFuZGxlLChlPT57ZS5jb21tb25NYXRlcmlhbFBhcmFtZXRlcnMuaGFzU2xpY2VQbGFuZT10aGlzLnNsaWNlUGxhbmVFbmFibGVkLGUudXNlUEJSPXRoaXMuX3VzZVBCUix0aGlzLl91cGRhdGVNYXRlcmlhbE92ZXJsYXkoZSl9KSl9X3VwZGF0ZU1hdGVyaWFsT3ZlcmxheShlKXt9X3VwZGF0ZUVuZ2luZU9iamVjdChlKXt0aGlzLl91cGRhdGVDb21wb25lbnREYXRhKGUpLHRoaXMuX2FwcGx5RmlsdGVyc1RvTm9kZShlKSx0aGlzLl9hZGRPclVwZGF0ZUVkZ2VSZW5kZXJpbmcoZSksdGhpcy5fdmlzaWJsZUdlb21ldHJ5Q2hhbmdlZChlLEh0LlVQREFURSl9X3NsaWNlUGxhbmVFbmFibGVkQ2hhbmdlKGUpe3RoaXMuX2ludGVyc2VjdGlvbkhhbmRsZXImJih0aGlzLl9pbnRlcnNlY3Rpb25IYW5kbGVyLnNsaWNlUGxhbmVFbmFibGVkPWUpLG51bGwhPXRoaXMuX2xhYmVsZXImJih0aGlzLl9sYWJlbGVyLnNsaWNlUGxhbmVFbmFibGVkPWUpLHRoaXMuX25vZGVJZDJNZXRhLmZvckVhY2goKHQ9PntudWxsIT10JiYodGhpcy5fY29sbGVjdGlvbi51cGRhdGVNYXRlcmlhbCh0Lm9iamVjdEhhbmRsZSwodD0+dC5jb21tb25NYXRlcmlhbFBhcmFtZXRlcnMuaGFzU2xpY2VQbGFuZT1lKSksdGhpcy5fdXBkYXRlRWRnZVJlbmRlcmluZyh0LCExKSl9KSl9X3VwZGF0ZVBCUihlKXt0aGlzLl9ub2RlSWQyTWV0YS5mb3JFYWNoKCh0PT57bnVsbCE9dCYmdGhpcy5fY29sbGVjdGlvbi51cGRhdGVNYXRlcmlhbCh0Lm9iamVjdEhhbmRsZSwodD0+dC51c2VQQlI9ZSkpfSkpLHRoaXMuX2hhc0xvYWRlZFBCUlRleHR1cmVzPSEwfWdldCBfdXNlUEJSKCl7cmV0dXJuIHRoaXMuX3NoYWRlTm9ybWFscyYmdGhpcy52aWV3LnF1YWxpdHlTZXR0aW5ncy5waHlzaWNhbGx5QmFzZWRSZW5kZXJpbmdFbmFibGVkfV91cGRhdGVFZGdlUmVuZGVyaW5nKGUsdD0hMCl7bnVsbCE9dGhpcy5fZWRnZVZpZXcmJnRoaXMuX2VkZ2VWaWV3Lmhhc09iamVjdChlLm9iamVjdEhhbmRsZSkmJnRoaXMuX2FkZE9yVXBkYXRlRWRnZVJlbmRlcmluZyhlLHQpfV9mb3JBbGxOb2RlcyhlKXt0aGlzLl9ub2RlSWQyTWV0YS5mb3JFYWNoKGUpfV9pZ25vcmVDbGllbnROb2RlT3ZlcnJpZGRlbkZlYXR1cmVzKGUpe3JldHVybiB0aGlzLmkzc092ZXJyaWRlcy5oYXNHZW9tZXRyeUNoYW5nZXM/KHQsaSxzKT0+cy5ub2RlLmluZGV4Pj0wJiZ0aGlzLmkzc092ZXJyaWRlcy5mZWF0dXJlSGFzR2VvbWV0cnlDaGFuZ2VzKHQpP01lLkNPTlRJTlVFOmUodCxpLHMpOmV9X2ZvckFsbEZlYXR1cmVzKGUsdCxpKXtmb3IoY29uc3QgcyBvZiB0aGlzLl9ub2RlSWQyTWV0YS52YWx1ZXMoKSl7aWYobnVsbD09cyljb250aW51ZTtpZihudWxsIT10KXtzd2l0Y2godChzLm5vZGUuc2VydmljZU1ic0luSW5kZXhTUikpe2Nhc2UgTWUuRVhJVDpyZXR1cm47Y2FzZSBNZS5TS0lQOmNvbnRpbnVlfX1sZXQgcj1NZS5DT05USU5VRTtzd2l0Y2goaSl7Y2FzZSB3ZS5BTEw6cj10aGlzLl9mb3JBbGxGZWF0dXJlc09mTm9kZShzLGUpO2JyZWFrO2Nhc2Ugd2UuVklTSUJMRV9PTkxZOnI9dGhpcy5fZm9yQWxsVmlzaWJsZUZlYXR1cmVzT2ZOb2RlKHMsZSk7YnJlYWs7Y2FzZSB3ZS5RVUVSWUFCTEU6cj10aGlzLl9mb3JBbGxRdWVyeWFibGVGZWF0dXJlc09mTm9kZShzLGUpfWlmKHI9PT1NZS5FWElUKXJldHVybn19X2ZvckFsbEZlYXR1cmVzT2ZOb2RlKGUsdCl7bGV0IGk9TWUuQ09OVElOVUU7Y29uc3Qgcz1lLmZlYXR1cmVJZHM7Zm9yKGxldCByPTA7cjxzLmxlbmd0aDtyKyspaWYoaT10KHNbcl0scixlKSxpPT09TWUuRVhJVClyZXR1cm4gaTtyZXR1cm4gaX1fZm9yQWxsVmlzaWJsZUZlYXR1cmVzT2ZOb2RlKGUsdCl7bGV0IGk9TWUuQ09OVElOVUU7Y29uc3Qgcz1lLmZlYXR1cmVJZHM7cmV0dXJuIHRoaXMuX2NvbGxlY3Rpb24uZm9yRWFjaFZpc2libGVDb21wb25lbnQoZS5vYmplY3RIYW5kbGUsKHI9PihpPXQoc1tyXSxyLGUpLGk9PT1NZS5DT05USU5VRSkpKSxpfV9mb3JBbGxRdWVyeWFibGVGZWF0dXJlc09mTm9kZShlLHQpe2NvbnN0IGk9dGhpcy5faWdub3JlQ2xpZW50Tm9kZU92ZXJyaWRkZW5GZWF0dXJlcyh0KTtpZihudWxsPT10aGlzLl9yZW5kZXJDbGlwcGluZ0FyZWEpcmV0dXJuIHRoaXMuX2ZvckFsbEZlYXR1cmVzT2ZOb2RlKGUsaSk7Y29uc3Qgcz10aGlzLl9ib3VuZGluZ1JlY3ROb2RlVGVzdChlLHRoaXMuX3JlbmRlckNsaXBwaW5nQXJlYSk7aWYocz09PWl0Lk9VVFNJREUpcmV0dXJuIE1lLkNPTlRJTlVFO2lmKHM9PT1pdC5JTlNJREUpcmV0dXJuIHRoaXMuX2ZvckFsbEZlYXR1cmVzT2ZOb2RlKGUsaSk7Y29uc3Qgcj1NZS5DT05USU5VRSxvPWUuZmVhdHVyZUlkcyxhPWUub2JqZWN0SGFuZGxlLG49YXQodGhpcy5fcmVuZGVyQ2xpcHBpbmdBcmVhLHRoaXMuX2NvbGxlY3Rpb24uZ2V0T2JqZWN0VHJhbnNmb3JtKGEpKTtmb3IobGV0IGw9MDtsPG8ubGVuZ3RoO2wrKyl7aWYoIXRoaXMuX2JvdW5kaW5nUmVjdEZlYXR1cmVUZXN0KGUsbCxuKSljb250aW51ZTtjb25zdCB0PWkob1tsXSxsLGUpO2lmKHQ9PT1NZS5FWElUKXJldHVybiB0fXJldHVybiByfV9jcmVhdGVBdHRyaWJ1dGVzKGUsdCl7Y29uc3QgaT17fTtudWxsIT10LmZlYXR1cmVJZHMmJihpW3RoaXMuX2dldE9iamVjdElkRmllbGQoKV09dC5mZWF0dXJlSWRzW2VdKTtjb25zdCBzPXQuYXR0cmlidXRlSW5mbz8uYXR0cmlidXRlRGF0YTtpZihudWxsIT1zKWZvcihjb25zdCByIG9mIE9iamVjdC5rZXlzKHMpKWlbcl09VmUoc1tyXSxlKTtyZXR1cm4gaX1fY3JlYXRlR3JhcGhpYyhlLHQpe3JldHVybiB0aGlzLl9jcmVhdGVMYXllckdyYXBoaWModGhpcy5fY3JlYXRlQXR0cmlidXRlcyhlLHQpKX1oaWdobGlnaHQoZSx0KXtpZihfZShlKSlyZXR1cm4gdXQ7Y29uc3Qgcz1fdChlKTtpZigwPT09cy5sZW5ndGgpcmV0dXJuIHV0O2NvbnN0IHI9dD8ubmFtZT8/anQsbz1zWzBdaW5zdGFuY2VvZiBpP3RoaXMuX2ZlYXR1cmVJZHNGcm9tR3JhcGhpY3Mocyk6XCJudW1iZXJcIj09dHlwZW9mIHNbMF0/czpudWxsO2lmKCFvKXJldHVybiB1dDtjb25zdHtzZXQ6YSxoYW5kbGU6bn09dGhpcy5faGlnaGxpZ2h0cy5hY3F1aXJlU2V0KHIpO3JldHVybiB0aGlzLl9oaWdobGlnaHRzLnNldEZlYXR1cmVJZHMoYSxvKSxufV9mZWF0dXJlSWRzRnJvbUdyYXBoaWNzKGUpe2NvbnN0IHQ9dGhpcy5pM3NsYXllci5maWVsZHNJbmRleCxpPXRoaXMuX2dldE9iamVjdElkRmllbGQoKTtyZXR1cm4gZS5tYXAoKGU9PmN0KHQsZS5hdHRyaWJ1dGVzLGkpKSl9cmVzZXRIaWdobGlnaHRzKCl7bCh0aGlzLl9oaWdobGlnaHRzKSx0aGlzLl9oaWdobGlnaHRzPW5ldyBEZSh7Y29sbGVjdGlvbjp0aGlzLl9jb2xsZWN0aW9uLGZvckFsbEZlYXR1cmVzOmU9PnRoaXMuX2ZvckFsbEZlYXR1cmVzKGUsbnVsbCx3ZS5BTEwpLGZvckFsbEZlYXR1cmVzT2ZOb2RlOihlLHQpPT50aGlzLl9mb3JBbGxGZWF0dXJlc09mTm9kZShlLHQpfSl9X3Zpc2libGVHZW9tZXRyeUNoYW5nZWQoZSx0KXt0aGlzLl9lbGV2YXRpb25Qcm92aWRlciYmKG51bGw9PXRoaXMuX3Zpc2libGVHZW9tZXRyeUNoYW5nZWRTY2hlZHVsZXJIYW5kbGUmJih0aGlzLl92aXNpYmxlR2VvbWV0cnlDaGFuZ2VkU2NoZWR1bGVySGFuZGxlPWYoKCgpPT57Y29uc3R7bm9kZTp0fT1lLGk9dC52aXNpYmlsaXR5T2JiSW5SZW5kZXJTUj8/dC5nZW9tZXRyeU9iYkluUmVuZGVyU1I/P3Quc2VydmljZU9iYkluUmVuZGVyU1I7aWYobnVsbCE9aSl7Y29uc3QgZT0kKCk7aS50b0FhQm91bmRpbmdCb3goZSksdGhpcy5lbWl0KFwidmlzaWJsZS1nZW9tZXRyeS1jaGFuZ2VkXCIsbmV3IHBlKGUpKX1lbHNlIHRoaXMuZW1pdChcInZpc2libGUtZ2VvbWV0cnktY2hhbmdlZFwiKTt0aGlzLl92aXNpYmxlR2VvbWV0cnlDaGFuZ2VkU2NoZWR1bGVySGFuZGxlPW51bGx9KSkpLHRoaXMuX3VwZGF0ZVNuYXBwaW5nU291cmNlcyhlLHQpLHRoaXMuX2VsZXZhdGlvblByb3ZpZGVyLm9iamVjdENoYW5nZWQodGhpcy5fY29sbGVjdGlvbi5nZXRDb21wb25lbnRPYmIoZS5vYmplY3RIYW5kbGUpKSl9Z2V0IHBlcmZvcm1hbmNlSW5mbygpe3JldHVybiBuZXcgYmUodGhpcy51c2VkTWVtb3J5LHRoaXMuX25vZGVJZDJNZXRhLnNpemUsTWF0aC5yb3VuZCh0aGlzLl9ncHVNZW1vcnlFc3RpbWF0ZS8xMDQ4NTc2KSxNYXRoLnJvdW5kKHRoaXMuX2dlb01lbW9yeUVzdGltYXRlLzEwNDg1NzYpLE1hdGgucm91bmQodGhpcy5fdGV4TWVtb3J5RXN0aW1hdGUvMTA0ODU3NiksTWF0aC5yb3VuZCh0aGlzLnVubG9hZGVkTWVtb3J5LzEwNDg1NzYpLHRoaXMuX2lkYkNhY2hlRW5hYmxlZD9NYXRoLnJvdW5kKDEwMCp0aGlzLl9pZGJDYWNoZS5nZXRIaXRSYXRlKCkpOjApfWNoZWNrSW52YXJpYW50cygpe31nZXQgdGVzdCgpe31nZXROb2RlT3BhY2l0eUJ5SW5kZXgoZSl7Y29uc3QgdD10aGlzLl9ub2RlSWQyTWV0YS5nZXQoZSk7cmV0dXJuIHRoaXMuZ2V0Tm9kZU9wYWNpdHkodCl9Z2V0Tm9kZU9wYWNpdHkoZSl7cmV0dXJuIG51bGwhPWU/dGhpcy5fY29sbGVjdGlvbi5nZXRNYXRlcmlhbChlLm9iamVjdEhhbmRsZSkub2JqZWN0T3BhY2l0eTowfWlzTm9kZUZ1bGx5RmFkZWRJbihlKXtyZXR1cm4gdGhpcy5fY3Jvc3NmYWRlSGVscGVyLmlzTm9kZUZ1bGx5RmFkZWRJbihlKX1nZXROb2RlQ3Jvc3NmYWRlTWV0YURhdGEoZSl7cmV0dXJuIHRoaXMuX25vZGVJZDJNZXRhLmdldChlKX1nZXROb2RlQ29tcG9uZW50SGFuZGxlKGUpe3JldHVybiB0aGlzLl9ub2RlSWQyTWV0YS5nZXQoZSk/Lm9iamVjdEhhbmRsZX1tYXJrTm9kZVRvUmVtb3ZlKGUpe3RoaXMuX2NvbnRyb2xsZXImJnRoaXMuX2NvbnRyb2xsZXIubWFya05vZGVUb1JlbW92ZShlKX1yZW1vdmVNYXJrZWROb2Rlcygpe3RoaXMuX2NvbnRyb2xsZXImJnRoaXMuX2NvbnRyb2xsZXIucmVtb3ZlTWFya2VkTm9kZXMoKX1mb3JlYWNoQ3Jvc3NmYWRlTm9kZShlKXt0aGlzLl9ub2RlSWQyTWV0YS5mb3JFYWNoKGUpfWZhZGVOb2RlKGUsdCxpKXtpZighdGhpcy5ub2RlQ3Jvc3NmYWRpbmdFbmFibGVkKXJldHVybjtjb25zdCBzPXRoaXMuX25vZGVJZDJNZXRhLmdldChlKTtudWxsIT1zJiZ0aGlzLl9jcm9zc2ZhZGVIZWxwZXIuZmFkZU5vZGUoZSxzLHQsaSl9c2V0Tm9kZU9wYWNpdHlCeUluZGV4KGUsdCl7Y29uc3QgaT10aGlzLl9ub2RlSWQyTWV0YS5nZXQoZSk7bnVsbCE9aSYmdGhpcy5fc2V0Tm9kZU9wYWNpdHkoaSx0KX1fc2V0Tm9kZU9wYWNpdHkoZSx0KXt0aGlzLl9jb2xsZWN0aW9uLnVwZGF0ZU1hdGVyaWFsKGUub2JqZWN0SGFuZGxlLChlPT5lLm9iamVjdE9wYWNpdHk9dCkpLHRoaXMuX3NldE5vZGVFZGdlT3BhY2l0eShlLHQpfV9zZXROb2RlRWRnZU9wYWNpdHkoZSx0KXtpZihudWxsPT10aGlzLl9lZGdlVmlld3x8IWUuY2FjaGVkRWRnZU1hdGVyaWFscylyZXR1cm47WXQoZS5jYWNoZWRFZGdlTWF0ZXJpYWxzLHQpO2NvbnN0IGk9ZS5vYmplY3RIYW5kbGU7dGhpcy5fZWRnZVZpZXcuaGFzT2JqZWN0KGkpJiZ0aGlzLl9lZGdlVmlldy51cGRhdGVBbGxDb21wb25lbnRPcGFjaXRpZXMoaSx0KS5jYXRjaCgoZT0+dGhpcy5fbG9nRWRnZVZpZXdFcnJvcihlLHRoaXMuaTNzbGF5ZXIudGl0bGUpKSl9Z2V0IGhhc01vZGlmaWNhdGlvbnMoKXtyZXR1cm4gdGhpcy5faXNJbnRlZ3JhdGVkTWVzaCYmbnVsbCE9dGhpcy5fbGF5ZXJDbGlwcGluZ0FyZWF8fHRoaXMuX21vZGlmaWNhdGlvbnMmJnRoaXMuX21vZGlmaWNhdGlvbnMubGVuZ3RoPjB9dXBkYXRlTm9kZU1vZGlmaWNhdGlvblN0YXR1cyhlKXtjb25zdCB0PWUubGVuZ3RoO2lmKCF0aGlzLmhhc01vZGlmaWNhdGlvbnN8fHQ8PTB8fCEwIT09dGhpcy5faTNzV2FzbUxvYWRlZClyZXR1cm47Y29uc3QgaT10aGlzLnVpZCxzPVF0KGUpO2lmKHMpe2NvbnN0IHQ9e2NvbnRleHQ6aSxidWZmZXI6cy5idWZmZXJ9O1JlKHQpO2NvbnN0IHI9bmV3IEZsb2F0NjRBcnJheShzLmJ1ZmZlcik7ZS5mb3JBbGwoKChlLHQpPT57Y29uc3QgaT1yW3RdLHM9T2UoaSk7ZS5pbU1vZGlmaWNhdGlvbkltcGFjdD1zLHMhPT1XZS5Vbm1vZGlmaWVkJiZ0aGlzLl9jb250cm9sbGVyLmludmFsaWRhdGVHZW9tZXRyeVZpc2liaWxpdHkoZS5pbmRleCl9KSl9fW5vdGlmeVVwZGF0ZSgpe3RoaXMubm90aWZ5Q2hhbmdlKFwidXBkYXRpbmdcIil9bm90aWZ5TE9EVXBkYXRlKCl7dGhpcy5fY29udHJvbGxlci5ub3RpZnlMT0RVcGRhdGUoKX1pc1VwZGF0aW5nKCl7cmV0dXJuISghdGhpcy5fY29udHJvbGxlcnx8IXRoaXMuX2NvbnRyb2xsZXIudXBkYXRpbmcpfHwhIXRoaXMuX3Zpc2libGVHZW9tZXRyeUNoYW5nZWRTY2hlZHVsZXJIYW5kbGV8fG51bGwhPXRoaXMuX2xhYmVsZXImJnRoaXMuX2xhYmVsZXIudXBkYXRpbmd8fHRoaXMuX2Nyb3NzZmFkZUhlbHBlcj8udXBkYXRpbmd8fHRoaXMuX2kzc1dhc21Mb2FkZWQgaW5zdGFuY2VvZiBQcm9taXNlfHx0aGlzLl9hc3luY01vZHVsZUxvYWRpbmc+MHx8bnVsbCE9dGhpcy5fZWxldmF0aW9uVGFzayYmdGhpcy5fZWxldmF0aW9uVGFzay5ydW5uaW5nfHx0aGlzLl9uZWVkRmlsdGVyUmVzb2x2ZXx8dGhpcy5fY29tcHJlc3Npb25UcmFja2VyLmNvbXByZXNzaW5nfXRyYWNrU25hcHBpbmdTb3VyY2VzKGUpe2NvbnN0IHQ9e2V2ZW50czplLGZldGNoRWRnZUxvY2F0aW9uczphc3luYyhlLHQsaSk9Pntjb25zdCBzPXRoaXMuX25vZGVJZDJNZXRhLmdldChlKTtpZihudWxsPT1zKXRocm93IG5ldyBFcnJvcihcImludmFsaWQtbm9kZVwiKTtjb25zdHtvcmlnaW46cixidWZmZXI6b309YXdhaXQgdGhpcy5fY29sbGVjdGlvbi5leHRyYWN0RWRnZUluZm9ybWF0aW9uKHMub2JqZWN0SGFuZGxlLHQsaSk7cmV0dXJuIHRoaXMuX3NuYXBwaW5nTG9jYXRpb25zQXBwbHlFbGV2YXRpb24ocyxvLHIpLHt0eXBlOlwiY29tcG9uZW50c1wiLG9iamVjdElkczpzLmZlYXR1cmVJZHMsbG9jYXRpb25zOm8sb3JpZ2luOnJ9fSxyZW1vdmU6KCk9PnModGhpcy5fc25hcHBpbmdTb3VyY2VzVHJhY2tlcnMsdCl9O3JldHVybiB0aGlzLl9zbmFwcGluZ1NvdXJjZXNUcmFja2Vycy5wdXNoKHQpLHRoaXMuX25vZGVJZDJNZXRhLmZvckVhY2goKCh0LGkpPT57aWYobnVsbD09dClyZXR1cm47Y29uc3Qgcz10aGlzLl9jb250cm9sbGVyLmdldFJlbmRlck1icyh0Lm5vZGUpO3MmJmUuYWRkKGkscyl9KSksdH1fc25hcHBpbmdMb2NhdGlvbnNBcHBseUVsZXZhdGlvbihlLHQsaSl7aWYoIWUuZWxldmF0aW9uT2Zmc2V0c3x8dGhpcy5lbGV2YXRpb25JbmZvLm1vZGU9PT1DZS5BYnNvbHV0ZSlyZXR1cm47Y29uc3Qgcz10LnBvc2l0aW9uMCxyPXQucG9zaXRpb24xLG89dC5jb21wb25lbnRJbmRleCxhPVAoKSxuPVAoKSxsPShlLHQpPT57RChlLGUsaSksdGhpcy52aWV3LnJlbmRlckNvb3Jkc0hlbHBlci53b3JsZFVwQXRQb3NpdGlvbihlLG4pLEQoZSxlLEYobixuLHQpKSxWKGUsZSxpKX07Zm9yKGxldCBkPTA7ZDxzLmNvdW50O2QrKyl7Y29uc3QgdD1lLmVsZXZhdGlvbk9mZnNldHNbby5nZXQoZCldO3MuZ2V0VmVjKGQsYSksbChhLHQpLHMuc2V0VmVjKGQsYSksci5nZXRWZWMoZCxhKSxsKGEsdCksci5zZXRWZWMoZCxhKX19X3VwZGF0ZVNuYXBwaW5nU291cmNlcyhlLHQpe2NvbnN0e2luZGV4Oml9PWUubm9kZSxzPXRoaXMuX2NvbnRyb2xsZXIuZ2V0UmVuZGVyTWJzKGUubm9kZSk7aWYobnVsbCE9cylmb3IoY29uc3QgciBvZiB0aGlzLl9zbmFwcGluZ1NvdXJjZXNUcmFja2Vycyl0IT09SHQuUkVNT1ZFJiZ0IT09SHQuVVBEQVRFfHxyLmV2ZW50cy5yZW1vdmUoaSksdCE9PUh0LkFERCYmdCE9PUh0LlVQREFURXx8ci5ldmVudHMuYWRkKGkscyl9X2xvZ0VkZ2VWaWV3RXJyb3IoZSx0KXtjKGUpfHxhLmdldExvZ2dlcih0aGlzKS53YXJuKFwiRXJyb3Igd2hpbGUgcHJvY2Vzc2luZyBlZGdlcy4gRWRnZXMgb24gdGhpcyBsYXllciBtaWdodCBub3QgZGlzcGxheSBjb3JyZWN0bHlcIix0LGUpfV9pbmRleGVkRGJTaXplQ2hlY2soZSx0KXtyZXR1cm4gdC5ieXRlU2l6ZT5OdD8oYS5nZXRMb2dnZXIodGhpcykud2FybihgTm9kZSBpcyB0b28gYmlnIHRvIHN0b3JlIGluIEluZGV4ZWREQiBjYWNoZTogJHtlLmlkfSAoJHt0LmJ5dGVTaXplfSBieXRlcylgKSwhMSk6dC5ieXRlU2l6ZT4wfX07cmV0dXJuIGUoW2IoKV0sby5wcm90b3R5cGUsXCJfaGFzTG9hZGVkUEJSVGV4dHVyZXNcIix2b2lkIDApLGUoW2IoKV0sby5wcm90b3R5cGUsXCJfYXN5bmNNb2R1bGVMb2FkaW5nXCIsdm9pZCAwKSxlKFtiKCldLG8ucHJvdG90eXBlLFwiX3Zpc2libGVHZW9tZXRyeUNoYW5nZWRTY2hlZHVsZXJIYW5kbGVcIix2b2lkIDApLGUoW2IoKV0sby5wcm90b3R5cGUsXCJ2aWV3XCIsdm9pZCAwKSxlKFtiKCldLG8ucHJvdG90eXBlLFwiaTNzbGF5ZXJcIix2b2lkIDApLGUoW2IoKV0sby5wcm90b3R5cGUsXCJfY29udHJvbGxlclwiLHZvaWQgMCksZShbYigpXSxvLnByb3RvdHlwZSxcIl9sYWJlbGVyXCIsdm9pZCAwKSxlKFtiKCldLG8ucHJvdG90eXBlLFwidXBkYXRpbmdcIix2b2lkIDApLGUoW2IoKV0sby5wcm90b3R5cGUsXCJzdXNwZW5kZWRcIix2b2lkIDApLGUoW2IoKV0sby5wcm90b3R5cGUsXCJjb250ZW50VmlzaWJsZVwiLG51bGwpLGUoW2Ioe3JlYWRPbmx5OiEwfSldLG8ucHJvdG90eXBlLFwibGVnZW5kRW5hYmxlZFwiLG51bGwpLGUoW2IoSXQpXSxvLnByb3RvdHlwZSxcInVwZGF0aW5nUHJvZ3Jlc3NcIix2b2lkIDApLGUoW2IoKV0sby5wcm90b3R5cGUsXCJ1cGRhdGluZ1Byb2dyZXNzVmFsdWVcIixudWxsKSxlKFtiKCldLG8ucHJvdG90eXBlLFwiaGFzVGV4dHVyZXNPclZlcnRleENvbG9yc1wiLG51bGwpLGUoW2IoKV0sby5wcm90b3R5cGUsXCJyZW5kZXJlclRleHR1cmVVc2FnZVwiLG51bGwpLGUoW2IoKV0sby5wcm90b3R5cGUsXCJlbGV2YXRpb25PZmZzZXRcIixudWxsKSxlKFtiKCldLG8ucHJvdG90eXBlLFwiZWxldmF0aW9uSW5mb1wiLG51bGwpLGUoW2Ioe3R5cGU6Qm9vbGVhbn0pXSxvLnByb3RvdHlwZSxcInNsaWNlUGxhbmVFbmFibGVkXCIsdm9pZCAwKSxlKFtiKCldLG8ucHJvdG90eXBlLFwic3VwcG9ydGVkVGV4dHVyZUVuY29kaW5nc1wiLG51bGwpLGUoW2Ioe3R5cGU6W2xlXX0pXSxvLnByb3RvdHlwZSxcIl9tb2RpZmljYXRpb25zXCIsdm9pZCAwKSxlKFtiKHtyZWFkT25seTohMH0pXSxvLnByb3RvdHlwZSxcImNsaWVudEdlb21ldHJ5XCIsbnVsbCksZShbYigpXSxvLnByb3RvdHlwZSxcImVsZXZhdGlvblJhbmdlXCIsbnVsbCksZShbYigpXSxvLnByb3RvdHlwZSxcImZ1bGxFeHRlbnRcIixudWxsKSxlKFtiKCldLG8ucHJvdG90eXBlLFwiX2VsZXZhdGlvblRhc2tcIix2b2lkIDApLGUoW2Ioe3JlYWRPbmx5OiEwfSldLG8ucHJvdG90eXBlLFwiX3VzZVBCUlwiLG51bGwpLG89ZShbSShcImVzcmkudmlld3MuM2QubGF5ZXJzLkkzU01lc2hWaWV3M0RcIildLG8pLG99O3ZhciBIdDshZnVuY3Rpb24oZSl7ZVtlLkFERD0wXT1cIkFERFwiLGVbZS5SRU1PVkU9MV09XCJSRU1PVkVcIixlW2UuVVBEQVRFPTJdPVwiVVBEQVRFXCJ9KEh0fHwoSHQ9e30pKTtjb25zdCBVdD0kKCksa3Q9WCgpLEx0PVgoKSxHdD1uZXcgYnQsQnQ9bmV3IHQoWzAsMCwwLDBdKSxxdD1pZSgwLDAsMCwwKTtmdW5jdGlvbiBXdChlKXtpZihudWxsPT1lKXJldHVybiExO2NvbnN0IHQ9ZS5tZXRhbGxpY1JvdWdobmVzcztyZXR1cm4gdCYmdC5iYXNlQ29sb3JUZXh0dXJlSWQ+PTB8fHQmJnQubWV0YWxsaWNSb3VnaG5lc3NUZXh0dXJlSWQ+PTB8fGUubm9ybWFsVGV4dHVyZUlkPj0wfHxlLmVtaXNzaXZlVGV4dHVyZUlkPj0wfHxlLm9jY2x1c2lvblRleHR1cmVJZD49MH1mdW5jdGlvbiB6dChlKXtyZXR1cm5cImdlb21ldHJ5RGF0YVwiaW4gZX1mdW5jdGlvbiBLdChlKXtyZXR1cm4gbnVsbCE9ZSYmeShlLmRhdGEpfWZ1bmN0aW9uICR0KGUsdCl7bGV0IGk9MTAyNCtlLmludGVybGVhdmVkVmVydGV4RGF0YS5ieXRlTGVuZ3RoKyhlLmluZGljZXM/ZS5pbmRpY2VzLmJ5dGVMZW5ndGg6MCkrZS5wb3NpdGlvbkRhdGEuZGF0YS5ieXRlTGVuZ3RoK2UucG9zaXRpb25EYXRhLmluZGljZXMuYnl0ZUxlbmd0aDtpZihudWxsIT10KWZvcihjb25zdCBzIG9mIHQpbnVsbCE9cyYmeShzLmRhdGEpJiYoaSs9cy5kYXRhLmJ5dGVMZW5ndGgpO3JldHVybiBpfWZ1bmN0aW9uIFF0KGUpe2lmKDA9PT1lLmxlbmd0aClyZXR1cm47Y29uc3QgdD0xMCplLmxlbmd0aCxpPW5ldyBGbG9hdDY0QXJyYXkodCk7bGV0IHM9MDtyZXR1cm4gZS5mb3JBbGwoKGU9PntsZXQgdD1lLnNlcnZpY2VPYmJJbkluZGV4U1I7bnVsbD09dCYmKHQ9R3QsdC5jZW50ZXI9dGUoZS5zZXJ2aWNlTWJzSW5JbmRleFNSKSx0LmhhbGZTaXplPVtlLnNlcnZpY2VNYnNJbkluZGV4U1JbM10sZS5zZXJ2aWNlTWJzSW5JbmRleFNSWzNdLGUuc2VydmljZU1ic0luSW5kZXhTUlszXV0pO2NvbnN0IHI9dC5kYXRhO2lbcysrXT1yWzBdLGlbcysrXT1yWzFdLGlbcysrXT1yWzJdLGlbcysrXT1yWzNdLGlbcysrXT1yWzRdLGlbcysrXT1yWzVdLGlbcysrXT1yWzZdLGlbcysrXT1yWzddLGlbcysrXT1yWzhdLGlbcysrXT1yWzldfSkpLGl9Y2xhc3MgWHR7Y29uc3RydWN0b3IoZSx0LGkpe3RoaXMuYXR0cmlidXRlSW5mbz1lLHRoaXMubWV0YT10LHRoaXMucHJvbWlzZT1pLHRoaXMuYWxsb3dNZW1DYWNoZT0hMH19ZnVuY3Rpb24gWXQoZSx0KXtlLmZvckVhY2goKGU9PmUub3BhY2l0eT10KSl9Y2xhc3MgSnR7Y29uc3RydWN0b3IoZSx0KXt0aGlzLm1vZGU9ZSx0aGlzLm9mZnNldD10fX1jb25zdCBadD1QKCksZWk9JCgpLHRpPVwiZWxldmF0aW9uLWNoYW5nZVwiLGlpPVwiXCIsc2k9XCJAbnVsbFwiLHJpPVwiQEVDRUZcIixvaT1bWzAsMCwwXSxbMCwwLDBdLFswLDAsMF0sWzAsMCwwXSxbMCwwLDBdLFswLDAsMF0sWzAsMCwwXSxbMCwwLDBdXSxhaT1uZXcgcHQ7ZnVuY3Rpb24gbmkoZSx0LGkpe2xldCBzPWUuZWxldmF0aW9uUmFuZ2VNaW4scj1lLmVsZXZhdGlvblJhbmdlTWF4O2NvbnN0IG89aTtpZihvPjApe3QuZ2V0Q29ybmVycyhvaSk7Zm9yKGNvbnN0IGUgb2Ygb2kpe2NvbnN0IHQ9TihlKS1vO3M9TWF0aC5taW4ocyx0KSxyPU1hdGgubWF4KHIsdCl9fWVsc2V7dC5nZXRDb3JuZXJzKG9pKTtmb3IoY29uc3QgZSBvZiBvaSl7Y29uc3QgdD1lWzJdO3M9TWF0aC5taW4ocyx0KSxyPU1hdGgubWF4KHIsdCl9fWUuZXhwYW5kRWxldmF0aW9uUmFuZ2VWYWx1ZXMocyxyKX1mdW5jdGlvbiBsaShlLHQsaSl7Y29uc3Qgcz10ZSh0KSxyPWk+MD9OKHMpLWk6c1syXSxvPXNlKHQpO2UuZXhwYW5kRWxldmF0aW9uUmFuZ2VWYWx1ZXMoci1vLHIrbyl9ZnVuY3Rpb24gZGkoZSx0KXtjb25zdCBpPWUuZmVhdHVyZUlkcy5zbGljZSgpO2Zvcihjb25zdCBzIG9mIHQpaWYocyhpLGUpLDA9PT1pLmxlbmd0aClicmVhaztyZXR1cm4gaS5sZW5ndGg9PT1lLmZlYXR1cmVJZHMubGVuZ3RoP2UuZmVhdHVyZUlkczppfWZ1bmN0aW9uIGhpKGUsdCxpKXtjb25zdCBzPW5ldyBBcnJheSxyPWUuZmlsdGVyZWRJZHM7aWYobnVsbD09cnx8dD8uc2l6ZXx8aT8uc2l6ZSl7aWYobnVsbCE9cil7bGV0IG89MDtlLmZlYXR1cmVJZHMuZm9yRWFjaCgoKGUsYSk9PntpZihyW29dPT09ZSkrK287ZWxzZSBpZighdD8uaGFzKGUpKXJldHVybjtpPy5oYXMoZSl8fHMucHVzaChhKX0pKX19ZWxzZSBlLmZlYXR1cmVJZHMuZm9yRWFjaCgoKGUsdCk9PntyW3MubGVuZ3RoXT09PWUmJnMucHVzaCh0KX0pKTtyZXR1cm4gc31mdW5jdGlvbiBjaShlLHQsaSl7aWYoZSYmdClmb3IoY29uc3QgcyBvZiB0KXtjb25zdCB0PShlLmdldChzKT8/MCkraTt0PjA/ZS5zZXQocyx0KTplLmRlbGV0ZShzKX19dmFyIHVpO2Z1bmN0aW9uIF9pKGUsdD11aS5BbGwpe2NvbnN0IGk9bmV3IE1hcDtmb3IoY29uc3QgcyBvZiBlKXtjaShpLHQ9PT11aS5BbGw/cz8uZmVhdHVyZUlkczp0PT09dWkuRmlsdGVyZWQ/cz8uZmlsdGVyZWRJZHM6cz8ud2Vha2x5UmVtb3ZlZElkcywxKX1yZXR1cm4gaX0hZnVuY3Rpb24oZSl7ZVtlLkFsbD0wXT1cIkFsbFwiLGVbZS5GaWx0ZXJlZD0xXT1cIkZpbHRlcmVkXCIsZVtlLldlYWtseVJlbW92ZWQ9Ml09XCJXZWFrbHlSZW1vdmVkXCJ9KHVpfHwodWk9e30pKTtleHBvcnR7UHQgYXMgSTNTTWVzaFZpZXczRH07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4zMy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e18gYXMgZX1mcm9tXCIuLi8uLi8uLi9jaHVua3MvdHNsaWIuZXM2LmpzXCI7aW1wb3J0IHQgZnJvbVwiLi4vLi4vLi4vY29yZS9BY2Nlc3Nvci5qc1wiO2ltcG9ydHtmaWx0ZXJJblBsYWNlIGFzIHJ9ZnJvbVwiLi4vLi4vLi4vY29yZS9hcnJheVV0aWxzLmpzXCI7aW1wb3J0XCIuLi8uLi8uLi9jb3JlL2hhcy5qc1wiO2ltcG9ydHtlcXVhbHNTaGFsbG93IGFzIG99ZnJvbVwiLi4vLi4vLi4vY29yZS9sYW5nLmpzXCI7aW1wb3J0e2Zsb2F0RXF1YWxVbHAgYXMgaX1mcm9tXCIuLi8uLi8uLi9jb3JlL21hdGhVdGlscy5qc1wiO2ltcG9ydHtkZXN0cm95TWF5YmUgYXMgc31mcm9tXCIuLi8uLi8uLi9jb3JlL21heWJlLmpzXCI7aW1wb3J0e3dhdGNoIGFzIGF9ZnJvbVwiLi4vLi4vLi4vY29yZS9yZWFjdGl2ZVV0aWxzLmpzXCI7aW1wb3J0e2dlbmVyYXRlVUlEIGFzIG59ZnJvbVwiLi4vLi4vLi4vY29yZS91aWQuanNcIjtpbXBvcnR7cHJvcGVydHkgYXMgcH1mcm9tXCIuLi8uLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3Byb3BlcnR5LmpzXCI7aW1wb3J0XCIuLi8uLi8uLi9jb3JlL0xvZ2dlci5qc1wiO2ltcG9ydHtzdWJjbGFzcyBhcyBjfWZyb21cIi4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvc3ViY2xhc3MuanNcIjtpbXBvcnR7ZGlmZiBhcyBsfWZyb21cIi4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RpZmZVdGlscy5qc1wiO2ltcG9ydHtwcm9qZWN0QnVmZmVyIGFzIGh9ZnJvbVwiLi4vLi4vLi4vZ2VvbWV0cnkvcHJvamVjdGlvbi9wcm9qZWN0QnVmZmVyLmpzXCI7aW1wb3J0e2Zyb21CdWZmZXIgYXMgZCxjcmVhdGUgYXMgdX1mcm9tXCIuLi8uLi8uLi9nZW9tZXRyeS9zdXBwb3J0L2FhQm91bmRpbmdCb3guanNcIjtpbXBvcnR7bmV3RG91YmxlQXJyYXkgYXMgbX1mcm9tXCIuLi8uLi8uLi9nZW9tZXRyeS9zdXBwb3J0L0RvdWJsZUFycmF5LmpzXCI7aW1wb3J0e21ha2VEZWh5ZHJhdGVkUG9pbnQgYXMgZn1mcm9tXCIuLi8uLi8uLi9sYXllcnMvZ3JhcGhpY3MvZGVoeWRyYXRlZFBvaW50LmpzXCI7aW1wb3J0e1JlbmRlcmluZ0luZm8gYXMgZ31mcm9tXCIuLi8uLi8uLi9yZW5kZXJlcnMvc3VwcG9ydC9SZW5kZXJpbmdJbmZvLmpzXCI7aW1wb3J0IHkgZnJvbVwiLi4vLi4vLi4vc3ltYm9scy9Qb2ludFN5bWJvbDNELmpzXCI7aW1wb3J0e0dyYXBoaWNzM0RDb3JlIGFzIGJ9ZnJvbVwiLi9ncmFwaGljcy9HcmFwaGljczNEQ29yZS5qc1wiO2ltcG9ydHtHcmFwaGljczNEU2NhbGVWaXNpYmlsaXR5IGFzIEl9ZnJvbVwiLi9ncmFwaGljcy9HcmFwaGljczNEU2NhbGVWaXNpYmlsaXR5LmpzXCI7aW1wb3J0e2JvdW5kaW5nQm94Q29ybmVyc1BvaW50c1N0cmlkZSBhcyBfLGJvdW5kaW5nQm94Q29ybmVyUG9pbnRzIGFzIHZ9ZnJvbVwiLi9pM3MvSTNTR2VvbWV0cnlVdGlsLmpzXCI7aW1wb3J0e0xpbWl0R3JhcGhpY3NNYXAgYXMgTX1mcm9tXCIuLi9zdXBwb3J0L0xpbWl0R3JhcGhpY3NNYXAuanNcIjtpbXBvcnR7VXBkYXRlUG9saWN5IGFzIEV9ZnJvbVwiLi4vd2ViZ2wtZW5naW5lL2xpYi9VcGRhdGVQb2xpY3kuanNcIjtpbXBvcnR7aGFzTGF5ZXJCYXNlZFNjYWxlVmlzaWJpbGl0eSBhcyBqfWZyb21cIi4uLy4uL3N1cHBvcnQvbGF5ZXJWaWV3VXRpbHMuanNcIjtjbGFzcyB3e2NvbnN0cnVjdG9yKGUsdCl7dGhpcy5tZXRhPWUsdGhpcy5pbmRleD10fX1jbGFzcyBHe2NvbnN0cnVjdG9yKGUsdCl7dGhpcy5ncmFwaGljPWUsdGhpcy5nZW9tZXRyeT10LHRoaXMuY29tcG9uZW50cz1bXSx0aGlzLm92ZXJyaWRlc0RpcnR5PSExfX1sZXQgRD1jbGFzcyBleHRlbmRzIHR7Z2V0IHVwZGF0aW5nKCl7cmV0dXJuIHRoaXMuX2dyYXBoaWNzQ29yZT8udXBkYXRpbmc/PyExfWNvbnN0cnVjdG9yKGUpe3N1cGVyKGUpLHRoaXMubG9hZGVkR3JhcGhpY3M9bmV3IE0oNWU0KSx0aGlzLnNsaWNlUGxhbmVFbmFibGVkPSExLHRoaXMuX3JlbmRlcmluZ0luZm89bmV3IGcobnVsbCxuZXcgeSksdGhpcy5fZmVhdHVyZXNNYXA9bmV3IE1hcH1pbml0aWFsaXplKCl7Y29uc3QgZT10aGlzLnZpZXcuYmFzZW1hcFRlcnJhaW47dGhpcy5fZ3JhcGhpY3NDb3JlPW5ldyBiKHtvd25lcjp0aGlzLGxheWVyOnRoaXMubGF5ZXIscHJlZmVycmVkVXBkYXRlUG9saWN5OkUuQVNZTkMsZWxldmF0aW9uRmVhdHVyZUV4cHJlc3Npb25FbmFibGVkOiExLGdyYXBoaWNTeW1ib2xTdXBwb3J0ZWQ6ITEsZ2V0UmVuZGVyaW5nSW5mb1dpdGhvdXRSZW5kZXJlcjohMCxoYXNaOiEwLGhhc006ITEsY29tcG9uZW50RmFjdG9yaWVzOntkZWNvbmZsaWN0b3I6ZT0+dGhpcy52aWV3LmRlY29uZmxpY3Rvci5hZGRHcmFwaGljc093bmVyKGUpLGxhYmVsZXI6KGUsdCk9PnRoaXMudmlldy5sYWJlbGVyLmFkZEdyYXBoaWNzT3duZXIoZSx0LHtlbXB0eVN5bWJvbExhYmVsU3VwcG9ydGVkOiEwLGVsZXZhdGlvbkluZm9PdmVycmlkZTp7bW9kZTpcImFic29sdXRlLWhlaWdodFwiLG9mZnNldDowfSxkaXNhYmxlUGxhY2VtZW50Ontsb2dFbnRpdHlEZXNjcmlwdGlvbjpcIjNEIE9iamVjdCBTY2VuZSBMYXllciBmZWF0dXJlc1wifX0pLHNjYWxlVmlzaWJpbGl0eTpqKCk/bnVsbDoodCxyKT0+bmV3IEkoe2dyYXBoaWNzQ29yZU93bmVyOnRoaXMsbGF5ZXI6dGhpcy5sYXllcixxdWVyeUdyYXBoaWNVSURzSW5FeHRlbnQ6cixncmFwaGljc0NvcmU6dCxiYXNlbWFwVGVycmFpbjplLGxheWVyU2NhbGVFbmFibGVkOiExfSl9fSksdGhpcy5fZ3JhcGhpY3NDb3JlLmluaXRpYWxpemVQcm9taXNlLnRoZW4oKCgpPT50aGlzLl9ncmFwaGljc0NvcmUuc3RhcnRDcmVhdGVHcmFwaGljcygpKSkuY2F0Y2goKCgpPT57fSkpLHRoaXMuYWRkSGFuZGxlcyhhKCgoKT0+dGhpcy5sYXllci5sYWJlbGluZ0luZm8pLCgoZSx0KT0+e2woZSx0KSYmdGhpcy5fZ3JhcGhpY3NDb3JlLnVwZGF0ZUxhYmVsaW5nSW5mbygpfSkpKX1kZXN0cm95KCl7dGhpcy5fZ3JhcGhpY3NDb3JlPXModGhpcy5fZ3JhcGhpY3NDb3JlKSx0aGlzLmxvYWRlZEdyYXBoaWNzPXModGhpcy5sb2FkZWRHcmFwaGljcyksdGhpcy52aWV3PW51bGx9YWRkTm9kZU1ldGEoZSx0KXtsZXQgcj0wO2NvbnN0IG89ZS5maWx0ZXJlZElkcyxpPXRoaXMudmlldy5zcGF0aWFsUmVmZXJlbmNlLHM9W107Zm9yKGxldCBhPTA7YTxlLmZlYXR1cmVJZHMubGVuZ3RoO2ErKyl7Y29uc3QgcD1lLmZlYXR1cmVJZHNbYV07bGV0IGM9bnVsbD09bztpZihvJiZyPG8ubGVuZ3RoJiZwPT09b1tyXSYmKGM9ITAscisrKSwhdGhpcy5fZW5hYmxlZEZvckZlYXR1cmVJbk5vZGUoZSxhKSljb250aW51ZTtjb25zdCBsPXRoaXMuX2ZlYXR1cmVzTWFwLmdldChwKTtpZihsKXtsLmNvbXBvbmVudHMucHVzaChuZXcgdyhlLGEpKSx0aGlzLl91cGRhdGVMYWJlbFBvc2l0aW9uKHApO2NvbnRpbnVlfWNvbnN0IGg9dChhLGUpLGQ9ZigwLDAsMCxpKSx1PXtvYmplY3RJZDpwLHVpZDpuKCksYXR0cmlidXRlczpoLHZpc2libGU6YyxnZW9tZXRyeTpkfSxtPW5ldyBHKHUsZCk7bS5jb21wb25lbnRzLnB1c2gobmV3IHcoZSxhKSksdGhpcy5fZmVhdHVyZXNNYXAuc2V0KHAsbSksdGhpcy5fdXBkYXRlTGFiZWxHZW9tZXRyeShwKSxzLnB1c2godSl9dGhpcy5sb2FkZWRHcmFwaGljcy5hZGRNYW55KHMpfXVwZGF0ZUxhYmVsUG9zaXRpb25zKGUpe2NvbnN0IHQ9dGhpcy52aWV3LnJlbmRlckNvb3Jkc0hlbHBlcjt0aGlzLl9mb3JFYWNoR3JhcGhpYyhlLCgocixvLGkpPT57Y29uc3Qgcz10aGlzLl9ncmFwaGljc0NvcmUuZ2V0R3JhcGhpY3MzREdyYXBoaWNCeUlkKG8udWlkKTtudWxsIT1zJiZ0aGlzLl91cGRhdGVMYWJlbEdlb21ldHJ5KGUuZmVhdHVyZUlkc1tyXSkmJnMuYWxpZ25XaXRoQWJzb2x1dGVFbGV2YXRpb24oaS56Pz8wLHQsITEpfSkpfXNldE5vZGVNZXRhQXR0cmlidXRlcyhlLHQpe2NvbnN0IHI9bmV3IEFycmF5O3RoaXMuX2ZvckVhY2hHcmFwaGljKGUsKChpLHMpPT57Y29uc3QgYT10KGksZSk7byhzLmF0dHJpYnV0ZXMsYSl8fChzLmF0dHJpYnV0ZXM9YSxyLnB1c2gocy51aWQpKX0pKSx0aGlzLl9ncmFwaGljc0NvcmUudXBkYXRlTGFiZWxpbmdJbmZvKHIpfWFwcGx5RmlsdGVyQ2hhbmdlKGUpe3RoaXMuX2ZvckVhY2hGZWF0dXJlKGUsKCh0LHIsbyk9PntpZighdGhpcy5fZW5hYmxlZEZvckZlYXR1cmVJbk5vZGUoZSx0KSl7Y29uc3Qgbz1lLmZlYXR1cmVJZHNbdF07c3dpdGNoKHRoaXMuX3JlbW92ZUZlYXR1cmUocixlLHQpKXtjYXNlIEYuUkVNT1ZFRDp0aGlzLmxvYWRlZEdyYXBoaWNzLnJlbW92ZU1hbnlCeU9iamVjdElkKFtvXSk7YnJlYWs7Y2FzZSBGLk1PRElGSUVEOnRoaXMuX3VwZGF0ZUxhYmVsUG9zaXRpb24obyl9cmV0dXJufWNvbnN0IGk9ci5ncmFwaGljLHM9aS52aXNpYmxlO3MhPT1vJiYoaS52aXNpYmxlPW8sQy5ncmFwaGljPWksQy5wcm9wZXJ0eT1cInZpc2libGVcIixDLm9sZFZhbHVlPXMsQy5uZXdWYWx1ZT1vLHRoaXMuX2dyYXBoaWNzQ29yZS5ncmFwaGljVXBkYXRlSGFuZGxlcihDKSl9KSl9cmVtb3ZlTm9kZU1ldGEoZSl7Y29uc3QgdD1bXTt0aGlzLl9mb3JFYWNoR3JhcGhpYyhlLChyPT57Y29uc3Qgbz1lLmZlYXR1cmVJZHNbcl0saT10aGlzLl9mZWF0dXJlc01hcC5nZXQobyk7aWYoIWkpcmV0dXJuO3N3aXRjaCh0aGlzLl9yZW1vdmVGZWF0dXJlKGksZSxyKSl7Y2FzZSBGLk1PRElGSUVEOnRoaXMuX3VwZGF0ZUxhYmVsUG9zaXRpb24obyk7YnJlYWs7Y2FzZSBGLlJFTU9WRUQ6dC5wdXNoKG8pfX0pKSx0aGlzLmxvYWRlZEdyYXBoaWNzLnJlbW92ZU1hbnlCeU9iamVjdElkKHQpfV9yZW1vdmVGZWF0dXJlKGUsdCxvKXtjb25zdCBpPWUuY29tcG9uZW50cy5sZW5ndGg7cmV0dXJuIHIoZS5jb21wb25lbnRzLChlPT4hKGUubWV0YT09PXQmJmUuaW5kZXg9PT1vKSkpLDA9PT1lLmNvbXBvbmVudHMubGVuZ3RoPyh0aGlzLl9mZWF0dXJlc01hcC5kZWxldGUodC5mZWF0dXJlSWRzW29dKSxGLlJFTU9WRUQpOmkhPT1lLmNvbXBvbmVudHMubGVuZ3RoP0YuTU9ESUZJRUQ6Ri5VTk1PRElGSUVEfWdldFJlbmRlcmluZ0luZm8oKXtyZXR1cm4gdGhpcy5fcmVuZGVyaW5nSW5mb31ub3RpZnlHcmFwaGljR2VvbWV0cnlDaGFuZ2VkKCl7fW5vdGlmeUdyYXBoaWNWaXNpYmlsaXR5Q2hhbmdlZCgpe31fdXBkYXRlTGFiZWxQb3NpdGlvbihlKXtjb25zdCB0PXRoaXMuX2ZlYXR1cmVzTWFwLmdldChlKTt0JiZ0aGlzLl91cGRhdGVMYWJlbEdlb21ldHJ5KGUpJiYodGhpcy5sb2FkZWRHcmFwaGljcy5yZW1vdmVNYW55QnlPYmplY3RJZChbZV0pLHRoaXMubG9hZGVkR3JhcGhpY3MuYWRkTWFueShbdC5ncmFwaGljXSkpfV91cGRhdGVMYWJlbEdlb21ldHJ5KGUpe2NvbnN0IHQ9dGhpcy5fZmVhdHVyZXNNYXAuZ2V0KGUpO2lmKCF0KXJldHVybiExO2NvbnN0IHI9dC5nZW9tZXRyeSxvPXRoaXMudmlldy5zcGF0aWFsUmVmZXJlbmNlLHM9dGhpcy52aWV3LnJlbmRlckNvb3Jkc0hlbHBlcixhPXIueCxuPXIueSxwPXIuej8/MCxjPXQuY29tcG9uZW50cy5sZW5ndGgsbD1tKGMqXyk7bGV0IHU9MDtmb3IoY29uc3R7bWV0YTppLGluZGV4Omh9b2YgdC5jb21wb25lbnRzKXYoaCx0aGlzLmNvbGxlY3Rpb24saS5vYmplY3RIYW5kbGUsbCx1KSx1Kz1fO3JldHVybiBoKGwscy5zcGF0aWFsUmVmZXJlbmNlLDAsbCxvLDApLGQobCxPKSxyLng9KE9bMF0rT1szXSkvMixyLnk9KE9bMV0rT1s0XSkvMixyLno9T1s1XSwhaShyLngsYSl8fCFpKHIueSxuKXx8IWkoci56LHApfV9mb3JFYWNoR3JhcGhpYyhlLHQpe3RoaXMuX2ZvckVhY2hGZWF0dXJlKGUsKChyLHtncmFwaGljOm8sZ2VvbWV0cnk6aX0scyk9Pnt0aGlzLl9lbmFibGVkRm9yRmVhdHVyZUluTm9kZShlLHIpJiZ0KHIsbyxpLHMpfSkpfV9mb3JFYWNoRmVhdHVyZShlLHQpe2xldCByPTA7Zm9yKGxldCBvPTA7bzxlLmZlYXR1cmVJZHMubGVuZ3RoO28rKyl7Y29uc3QgaT10aGlzLl9mZWF0dXJlc01hcC5nZXQoZS5mZWF0dXJlSWRzW29dKTtsZXQgcz1udWxsPT1lLmZpbHRlcmVkSWRzO2UuZmlsdGVyZWRJZHMmJmUuZmlsdGVyZWRJZHNbcl09PT1lLmZlYXR1cmVJZHNbb10mJihzPSEwLHIrKyksaSYmdChvLGkscyl9fV9lbmFibGVkRm9yRmVhdHVyZUluTm9kZShlLHQpe3JldHVybiBlLm5vZGUuaW5kZXg8MHx8IXRoaXMub3ZlcnJpZGVzPy5mZWF0dXJlSGFzR2VvbWV0cnlDaGFuZ2VzKGUuZmVhdHVyZUlkc1t0XSl9Z2V0IHVwZGF0ZVBvbGljeSgpe3JldHVybiB0aGlzLl9ncmFwaGljc0NvcmUuZWZmZWN0aXZlVXBkYXRlUG9saWN5fWdldCB1c2VkTWVtb3J5KCl7cmV0dXJuIHRoaXMuX2dyYXBoaWNzQ29yZS51c2VkTWVtb3J5fWdldCB1bmxvYWRlZE1lbW9yeUVzdGltYXRlKCl7cmV0dXJuIHRoaXMuX2dyYXBoaWNzQ29yZS51bnByb2Nlc3NlZE1lbW9yeUVzdGltYXRlfWdldCB0ZXN0KCl7fX07ZShbcCgpXSxELnByb3RvdHlwZSxcInZpZXdcIix2b2lkIDApLGUoW3AoKV0sRC5wcm90b3R5cGUsXCJsYXllclwiLHZvaWQgMCksZShbcCgpXSxELnByb3RvdHlwZSxcImNvbGxlY3Rpb25cIix2b2lkIDApLGUoW3AoKV0sRC5wcm90b3R5cGUsXCJsb2FkZWRHcmFwaGljc1wiLHZvaWQgMCksZShbcCgpXSxELnByb3RvdHlwZSxcIm92ZXJyaWRlc1wiLHZvaWQgMCksZShbcCgpXSxELnByb3RvdHlwZSxcImxheWVyVmlld1VpZFwiLHZvaWQgMCksZShbcCgpXSxELnByb3RvdHlwZSxcInVwZGF0aW5nXCIsbnVsbCksZShbcCgpXSxELnByb3RvdHlwZSxcInNsaWNlUGxhbmVFbmFibGVkXCIsdm9pZCAwKSxlKFtwKCldLEQucHJvdG90eXBlLFwiX2dyYXBoaWNzQ29yZVwiLHZvaWQgMCksRD1lKFtjKFwiZXNyaS52aWV3cy4zZC5sYXllcnMuSTNTTWVzaFZpZXdMYWJlbGVyXCIpXSxEKTtjb25zdCBDPXtncmFwaGljOm51bGwscHJvcGVydHk6bnVsbCxvbGRWYWx1ZTpudWxsLG5ld1ZhbHVlOm51bGx9O3ZhciBGOyFmdW5jdGlvbihlKXtlW2UuVU5NT0RJRklFRD0wXT1cIlVOTU9ESUZJRURcIixlW2UuTU9ESUZJRUQ9MV09XCJNT0RJRklFRFwiLGVbZS5SRU1PVkVEPTJdPVwiUkVNT1ZFRFwifShGfHwoRj17fSkpO2NvbnN0IE89dSgpO2V4cG9ydHtEIGFzIGRlZmF1bHR9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMzMvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtMYXllclZpZXdQZXJmb3JtYW5jZUluZm8gYXMgdH1mcm9tXCIuL3N1cHBvcnQvTGF5ZXJWaWV3UGVyZm9ybWFuY2VJbmZvLmpzXCI7Y2xhc3MgZSBleHRlbmRzIHR7Y29uc3RydWN0b3IodCxlLHIscyxvLGkscCl7c3VwZXIodCwwLDAsMCxlKSx0aGlzLmdwdU1CPXIsdGhpcy5nZW9tZXRyeU1CPXMsdGhpcy50ZXh0dXJlTUI9byx0aGlzLnVubG9hZGVkTUI9aSx0aGlzLmlkYkhpdFJhdGU9cH19ZXhwb3J0e2UgYXMgSTNTTWVzaFZpZXdQZXJmb3JtYW5jZUluZm99O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMzMvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbnZhciBuLG8sRTshZnVuY3Rpb24obil7bltuLlZJU0lCTEVfT05MWT0wXT1cIlZJU0lCTEVfT05MWVwiLG5bbi5BTEw9MV09XCJBTExcIixuW24uUVVFUllBQkxFPTJdPVwiUVVFUllBQkxFXCJ9KG58fChuPXt9KSksZnVuY3Rpb24obil7bltuLkVYSVQ9MF09XCJFWElUXCIsbltuLkNPTlRJTlVFPTFdPVwiQ09OVElOVUVcIixuW24uU0tJUD0yXT1cIlNLSVBcIn0ob3x8KG89e30pKSxmdW5jdGlvbihuKXtuW24uQWJzb2x1dGU9MF09XCJBYnNvbHV0ZVwiLG5bbi5SZWxhdGl2ZVRvR3JvdW5kPTFdPVwiUmVsYXRpdmVUb0dyb3VuZFwiLG5bbi5PblRoZUdyb3VuZD0yXT1cIk9uVGhlR3JvdW5kXCJ9KEV8fChFPXt9KSk7ZXhwb3J0e0UgYXMgRWxldmF0aW9uTW9kZSxuIGFzIEZvckFsbEZlYXR1cmVzTW9kZSxvIGFzIEZvckFsbEZlYXR1cmVzUmV0dXJuVHlwZX07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4zMy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e2hhc1NjYWxpbmcgYXMgZX1mcm9tXCIuLi8uLi8uLi9jb3JlL21hdGhVdGlscy5qc1wiO2ltcG9ydCByIGZyb21cIi4uLy4uLy4uL2dlb21ldHJ5L1NwYXRpYWxSZWZlcmVuY2UuanNcIjtpbXBvcnQgdCBmcm9tXCIuLi8uLi8uLi9nZW9tZXRyeS9zdXBwb3J0L01lc2hHZW9yZWZlcmVuY2VkVmVydGV4U3BhY2UuanNcIjtpbXBvcnQgbyBmcm9tXCIuLi8uLi8uLi9nZW9tZXRyeS9zdXBwb3J0L01lc2hMb2NhbFZlcnRleFNwYWNlLmpzXCI7aW1wb3J0e2IgYXMgbixuIGFzIHN9ZnJvbVwiLi4vLi4vLi4vY2h1bmtzL3ZlYzMuanNcIjtpbXBvcnR7SW5kZXhUeXBlIGFzIGl9ZnJvbVwiLi4vLi4vLi4vbGlicy9pM3MvZW51bXMuanNcIjtpbXBvcnR7Z2V0IGFzIGF9ZnJvbVwiLi4vLi4vLi4vbGlicy9pM3MvSTNTTW9kdWxlLmpzXCI7aW1wb3J0e1RyYW5zZm9ybWVkR2VvbWV0cnkgYXMgZixUcmFuc2Zvcm1lZERhdGEgYXMgY31mcm9tXCIuL0kzU01lc2hXb3JrZXJIYW5kbGUuanNcIjtpbXBvcnR7Tm9kZUlNTW9kaWZpY2F0aW9uSW1wYWN0IGFzIGx9ZnJvbVwiLi9pM3MvSTNTTm9kZS5qc1wiO2FzeW5jIGZ1bmN0aW9uIHUoZSl7RT1hd2FpdCBVKCk7Y29uc3Qgcj1bZS5nZW9tZXRyeUJ1ZmZlcl07cmV0dXJue3Jlc3VsdDpBKEUsZSxyKSx0cmFuc2Zlckxpc3Q6cn19YXN5bmMgZnVuY3Rpb24gbShlKXtFPWF3YWl0IFUoKTtjb25zdCByPVtlLmdlb21ldHJ5QnVmZmVyXSx7Z2VvbWV0cnlCdWZmZXI6dH09ZSxvPXQuYnl0ZUxlbmd0aCxuPUUuX21hbGxvYyhvKSxzPW5ldyBVaW50OEFycmF5KEUuSEVBUFU4LmJ1ZmZlcixuLG8pO3Muc2V0KG5ldyBVaW50OEFycmF5KHQpKTtjb25zdCBpPUUuZHJhY29EZWNvbXByZXNzUG9pbnRDbG91ZERhdGEobixzLmJ5dGVMZW5ndGgpO2lmKEUuX2ZyZWUobiksaS5lcnJvci5sZW5ndGg+MCl0aHJvdyBuZXcgRXJyb3IoYGkzcy53YXNtOiAke2kuZXJyb3J9YCk7Y29uc3QgYT1pLmZlYXR1cmVJZHM/Lmxlbmd0aD4wP2kuZmVhdHVyZUlkcy5zbGljZSgpOm51bGwsZj1pLnBvc2l0aW9ucy5zbGljZSgpO3JldHVybiBhJiZyLnB1c2goYS5idWZmZXIpLHIucHVzaChmLmJ1ZmZlcikse3Jlc3VsdDp7cG9zaXRpb25zOmYsZmVhdHVyZUlkczphfSx0cmFuc2Zlckxpc3Q6cn19YXN5bmMgZnVuY3Rpb24geShlKXthd2FpdCBVKCksUyhlKTtjb25zdCByPXtidWZmZXI6ZS5idWZmZXJ9O3JldHVybntyZXN1bHQ6cix0cmFuc2Zlckxpc3Q6W3IuYnVmZmVyXX19YXN5bmMgZnVuY3Rpb24gcChlKXthd2FpdCBVKCksaihlKX1hc3luYyBmdW5jdGlvbiBkKGUpe0U9YXdhaXQgVSgpLEUuc2V0TGVnYWN5U2NoZW1hKGUuY29udGV4dCxlLmpzb25TY2hlbWEpfWFzeW5jIGZ1bmN0aW9uIGgoZSl7Y29uc3R7bG9jYWxNYXRyaXg6bixvcmlnaW46cyxwb3NpdGlvbnM6aSx2ZXJ0ZXhTcGFjZTphfT1lLGY9ci5mcm9tSlNPTihlLmluU3BhdGlhbFJlZmVyZW5jZSksYz1yLmZyb21KU09OKGUub3V0U3BhdGlhbFJlZmVyZW5jZSk7bGV0IGw7Y29uc3Rbe3Byb2plY3RCdWZmZXI6dX0se2luaXRpYWxpemVQcm9qZWN0aW9uOm19XT1hd2FpdCBQcm9taXNlLmFsbChbaW1wb3J0KFwiLi4vLi4vLi4vZ2VvbWV0cnkvcHJvamVjdGlvbi9wcm9qZWN0QnVmZmVyLmpzXCIpLGltcG9ydChcIi4uLy4uLy4uL2dlb21ldHJ5L3Byb2plY3Rpb25VdGlscy5qc1wiKV0pO2F3YWl0IG0oZixjKTtjb25zdCB5PVswLDAsMF07aWYoIXUocyxmLDAseSxjLDApKXRocm93IG5ldyBFcnJvcihcIkZhaWxlZCB0byBwcm9qZWN0XCIpO2lmKFwiZ2VvcmVmZXJlbmNlZFwiPT09YS50eXBlJiZudWxsPT1hLm9yaWdpbil7aWYobD1uZXcgRmxvYXQ2NEFycmF5KGkubGVuZ3RoKSwhdShpLGYsMCxsLGMsMCxsLmxlbmd0aC8zKSl0aHJvdyBuZXcgRXJyb3IoXCJGYWlsZWQgdG8gcHJvamVjdFwiKX1lbHNle2NvbnN0IGU9XCJnZW9yZWZlcmVuY2VkXCI9PT1hLnR5cGU/dC5mcm9tSlNPTihhKTpvLmZyb21KU09OKGEpLHtwcm9qZWN0TWVzaFZlcnRleFBvc2l0aW9uczpyfT1hd2FpdCBpbXBvcnQoXCIuLi8uLi8uLi9nZW9tZXRyeS9zdXBwb3J0L21lc2hVdGlscy9wcm9qZWN0TWVzaFZlcnRleFBvc2l0aW9ucy5qc1wiKSxzPXIoe3ZlcnRleEF0dHJpYnV0ZXM6e3Bvc2l0aW9uOml9LHRyYW5zZm9ybTpuP3tsb2NhbE1hdHJpeDpufTp2b2lkIDAsdmVydGV4U3BhY2U6ZSxzcGF0aWFsUmVmZXJlbmNlOmZ9LGMpO2lmKCFzKXRocm93IG5ldyBFcnJvcihcIkZhaWxlZCB0byBwcm9qZWN0XCIpO2w9c31jb25zdCBwPWwubGVuZ3RoLFtkLGgsYl09eTtmb3IobGV0IHI9MDtyPHA7cis9MylsW3JdLT1kLGxbcisxXS09aCxsW3IrMl0tPWI7cmV0dXJue3Jlc3VsdDp7cHJvamVjdGVkOmwsb3JpZ2luYWw6aSxwcm9qZWN0ZWRPcmlnaW46eX0sdHJhbnNmZXJMaXN0OltsLmJ1ZmZlcixpLmJ1ZmZlcl19fWFzeW5jIGZ1bmN0aW9uIGIoe25vcm1hbE1hdHJpeDpyLG5vcm1hbHM6dH0pe2NvbnN0IG89bmV3IEZsb2F0MzJBcnJheSh0Lmxlbmd0aCk7cmV0dXJuIG4obyx0LHIpLGUocikmJnMobyxvKSx7cmVzdWx0Ont0cmFuc2Zvcm1lZDpvLG9yaWdpbmFsOnR9LHRyYW5zZmVyTGlzdDpbby5idWZmZXIsdC5idWZmZXJdfX1mdW5jdGlvbiBnKGUpe3goZSl9bGV0IHcsRTtmdW5jdGlvbiBqKGUpe2lmKCFFKXJldHVybjtjb25zdCByPWUubW9kaWZpY2F0aW9ucyx0PUUuX21hbGxvYyg4KnIubGVuZ3RoKSxvPW5ldyBGbG9hdDY0QXJyYXkoRS5IRUFQVTguYnVmZmVyLHQsci5sZW5ndGgpO2ZvcihsZXQgbj0wO248ci5sZW5ndGg7KytuKW9bbl09cltuXTtFLnNldE1vZGlmaWNhdGlvbnMoZS5jb250ZXh0LHQsci5sZW5ndGgsZS5pc0dlb2RldGljKSxFLl9mcmVlKHQpfWZ1bmN0aW9uIEEoZSxyLHQpe2NvbnN0e2NvbnRleHQ6byxnbG9iYWxUcmFmbzpuLG1iczpzLG9iYkRhdGE6YSxlbGV2YXRpb25PZmZzZXQ6bCxnZW9tZXRyeUJ1ZmZlcjp1LGdlb21ldHJ5RGVzY3JpcHRvcjptLGluZGV4VG9WZXJ0ZXhQcm9qZWN0b3I6eSx2ZXJ0ZXhUb1JlbmRlclByb2plY3RvcjpwfT1yLGQ9ZS5fbWFsbG9jKHUuYnl0ZUxlbmd0aCksaD0zMyxiPWUuX21hbGxvYyhoKkZsb2F0NjRBcnJheS5CWVRFU19QRVJfRUxFTUVOVCksZz1uZXcgVWludDhBcnJheShlLkhFQVBVOC5idWZmZXIsZCx1LmJ5dGVMZW5ndGgpO2cuc2V0KG5ldyBVaW50OEFycmF5KHUpKTtjb25zdCB3PW5ldyBGbG9hdDY0QXJyYXkoZS5IRUFQVTguYnVmZmVyLGIsaCk7Xyh3LFtOYU4sTmFOLE5hTl0pO2xldCBFPXcuYnl0ZU9mZnNldCszKncuQllURVNfUEVSX0VMRU1FTlQsaj1uZXcgRmxvYXQ2NEFycmF5KHcuYnVmZmVyLEUpO18oaixuKSxFKz0xNip3LkJZVEVTX1BFUl9FTEVNRU5ULGo9bmV3IEZsb2F0NjRBcnJheSh3LmJ1ZmZlcixFKSxfKGoscyksRSs9NCp3LkJZVEVTX1BFUl9FTEVNRU5ULGEmJihqPW5ldyBGbG9hdDY0QXJyYXkody5idWZmZXIsRSksXyhqLGEpKTtjb25zdCBBPW0sTD17aXNEcmFjbzohMSxpc0xlZ2FjeTohMSxjb2xvcjpyLmxheW91dHMuc29tZSgoZT0+ZS5zb21lKChlPT5cImNvbG9yXCI9PT1lLm5hbWUpKSkpLG5vcm1hbDpyLm5lZWROb3JtYWxzJiZyLmxheW91dHMuc29tZSgoZT0+ZS5zb21lKChlPT5cIm5vcm1hbENvbXByZXNzZWRcIj09PWUubmFtZSkpKSksdXYwOnIubGF5b3V0cy5zb21lKChlPT5lLnNvbWUoKGU9PlwidXYwXCI9PT1lLm5hbWUpKSkpLHV2UmVnaW9uOnIubGF5b3V0cy5zb21lKChlPT5lLnNvbWUoKGU9PlwidXZSZWdpb25cIj09PWUubmFtZSkpKSksZmVhdHVyZUluZGV4OkEuZmVhdHVyZUluZGV4fSxTPWUucHJvY2VzcyhvLCEhci5vYmJEYXRhLGQsZy5ieXRlTGVuZ3RoLEEsTCxiLGwseSxwLHIubm9ybWFsUmVmZXJlbmNlRnJhbWUpO2lmKGUuX2ZyZWUoYiksZS5fZnJlZShkKSxTLmVycm9yLmxlbmd0aD4wKXRocm93IG5ldyBFcnJvcihgaTNzLndhc206ICR7Uy5lcnJvcn1gKTtpZihTLmRpc2NhcmRlZClyZXR1cm4gbnVsbDtjb25zdCB4PVMuY29tcG9uZW50T2Zmc2V0cy5sZW5ndGg+MD9TLmNvbXBvbmVudE9mZnNldHMuc2xpY2UoKTpudWxsLFA9Uy5mZWF0dXJlSWRzLmxlbmd0aD4wP1MuZmVhdHVyZUlkcy5zbGljZSgpOm51bGwsVT1TLmFuY2hvcklkcy5sZW5ndGg+MD9BcnJheS5mcm9tKFMuYW5jaG9ySWRzKTpudWxsLE09Uy5hbmNob3JzLmxlbmd0aD4wP0FycmF5LmZyb20oUy5hbmNob3JzKTpudWxsLE49Uy5pbnRlcmxlYXZlZFZlcnRlZERhdGEuc2xpY2UoKS5idWZmZXIsST1TLmluZGljZXNUeXBlPT09aS5JbnQxNj9uZXcgVWludDE2QXJyYXkoUy5pbmRpY2VzLmJ1ZmZlcixTLmluZGljZXMuYnl0ZU9mZnNldCxTLmluZGljZXMuYnl0ZUxlbmd0aC8yKS5zbGljZSgpOm5ldyBVaW50MzJBcnJheShTLmluZGljZXMuYnVmZmVyLFMuaW5kaWNlcy5ieXRlT2Zmc2V0LFMuaW5kaWNlcy5ieXRlTGVuZ3RoLzQpLnNsaWNlKCksRj1TLnBvc2l0aW9ucy5zbGljZSgpLHtidWZmZXI6VCxieXRlT2Zmc2V0OkIsYnl0ZUxlbmd0aDpPfT1TLnBvc2l0aW9uSW5kaWNlcyxSPVMucG9zaXRpb25JbmRpY2VzVHlwZT09PWkuSW50MTY/bmV3IFVpbnQxNkFycmF5KFQsQixPLzIpLnNsaWNlKCk6bmV3IFVpbnQzMkFycmF5KFQsQixPLzQpLnNsaWNlKCksdj1uZXcgZihyLmxheW91dHNbMF0sTixJLFMuaGFzQ29sb3JzLFMuaGFzTW9kaWZpY2F0aW9ucyx7ZGF0YTpGLGluZGljZXM6Un0pO3JldHVybiBQJiZ0LnB1c2goUC5idWZmZXIpLHgmJnQucHVzaCh4LmJ1ZmZlciksdC5wdXNoKE4pLHQucHVzaChJLmJ1ZmZlciksdC5wdXNoKEYuYnVmZmVyKSx0LnB1c2goUi5idWZmZXIpLG5ldyBjKHgsUCxVLE0sdixuLFMub2JiKX1mdW5jdGlvbiBMKGUpe3JldHVybiAwPT09ZT9sLlVubW9kaWZpZWQ6MT09PWU/bC5Qb3RlbnRpYWxseU1vZGlmaWVkOjI9PT1lP2wuQ3VsbGVkOmwuVW5rbm93bn1mdW5jdGlvbiBTKGUpe2lmKCFFKXJldHVybjtjb25zdHtjb250ZXh0OnIsYnVmZmVyOnR9PWUsbz1FLl9tYWxsb2ModC5ieXRlTGVuZ3RoKSxuPXQuYnl0ZUxlbmd0aC9GbG9hdDY0QXJyYXkuQllURVNfUEVSX0VMRU1FTlQscz1uZXcgRmxvYXQ2NEFycmF5KEUuSEVBUFU4LmJ1ZmZlcixvLG4pLGk9bmV3IEZsb2F0NjRBcnJheSh0KTtzLnNldChpKSxFLmZpbHRlck9CQnMocixvLG4pLGkuc2V0KHMpLEUuX2ZyZWUobyl9ZnVuY3Rpb24geChlKXtFJiYwPT09RS5kZXN0cm95KGUpJiYoRT1udWxsKX1mdW5jdGlvbiBfKGUscil7Zm9yKGxldCB0PTA7dDxyLmxlbmd0aDsrK3QpZVt0XT1yW3RdfWFzeW5jIGZ1bmN0aW9uIFAoKXtFfHxhd2FpdCBVKCl9YXN5bmMgZnVuY3Rpb24gVSgpe3JldHVybiBFfHwoRT1hd2FpdCh3Pz89YSgpKSksRX1jb25zdCBNPXt0cmFuc2Zvcm06KGUscik9PkUmJkEoRSxlLHIpLGRlc3Ryb3k6eH07ZXhwb3J0e2cgYXMgZGVzdHJveUNvbnRleHQsbSBhcyBkcmFjb0RlY29tcHJlc3NQb2ludENsb3VkRGF0YSx5IGFzIGZpbHRlck9iYnNGb3JNb2RpZmljYXRpb25zLFMgYXMgZmlsdGVyT2Jic0Zvck1vZGlmaWNhdGlvbnNTeW5jLFAgYXMgaW5pdGlhbGl6ZSxMIGFzIGludGVycHJldE9iYk1vZGlmaWNhdGlvblJlc3VsdHMsdSBhcyBwcm9jZXNzLGggYXMgcHJvamVjdCxkIGFzIHNldExlZ2FjeVNjaGVtYSxwIGFzIHNldE1vZGlmaWNhdGlvbnMsaiBhcyBzZXRNb2RpZmljYXRpb25zU3luYyxNIGFzIHRlc3QsYiBhcyB0cmFuc2Zvcm1Ob3JtYWxzfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjMzL2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7cmVtb3ZlVW5vcmRlcmVkIGFzIHR9ZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9hcnJheVV0aWxzLmpzXCI7aW1wb3J0e21ha2VIYW5kbGUgYXMgZX1mcm9tXCIuLi8uLi8uLi8uLi9jb3JlL2hhbmRsZVV0aWxzLmpzXCI7aW1wb3J0e2dldE9yQ3JlYXRlTWFwVmFsdWUgYXMgaX1mcm9tXCIuLi8uLi8uLi8uLi9jb3JlL01hcFV0aWxzLmpzXCI7aW1wb3J0e0ZvckFsbEZlYXR1cmVzUmV0dXJuVHlwZSBhcyBzfWZyb21cIi4uL0lJM1NNZXNoVmlldzNELmpzXCI7Y2xhc3MgaHtjb25zdHJ1Y3Rvcih0KXt0aGlzLmhpZ2hsaWdodE5hbWU9dCx0aGlzLmlkcz1uZXcgU2V0fX1jbGFzcyBse2NvbnN0cnVjdG9yKHtjb2xsZWN0aW9uOnQsZm9yQWxsRmVhdHVyZXM6ZSxmb3JBbGxGZWF0dXJlc09mTm9kZTppfSl7dGhpcy5faGlnaGxpZ2h0cz1uZXcgTWFwLHRoaXMuX2NvbGxlY3Rpb249dCx0aGlzLl9mb3JBbGxGZWF0dXJlcz1lLHRoaXMuX2ZvckFsbEZlYXR1cmVzT2ZOb2RlPWl9ZGVzdHJveSgpe3RoaXMuX2hpZ2hsaWdodHMuZm9yRWFjaCgodD0+dC5mb3JFYWNoKCh0PT50aGlzLl9yZWxlYXNlU2V0KHQpKSkpKSx0aGlzLl9oaWdobGlnaHRzPW51bGx9YWNxdWlyZVNldChzKXtjb25zdCBsPW5ldyBoKHMpO2kodGhpcy5faGlnaGxpZ2h0cyxzLCgoKT0+W10pKS5wdXNoKGwpO2NvbnN0IG89ZSgoKCk9Pntjb25zdCBlPXRoaXMuX2hpZ2hsaWdodHM/LmdldChzKTtlJiYodGhpcy5fcmVsZWFzZVNldChsKSx0KGUsbCkpfSkpO3JldHVybntzZXQ6bCxoYW5kbGU6b319c2V0RmVhdHVyZUlkcyh0LGUpe2UuZm9yRWFjaCgoZT0+dC5pZHMuYWRkKGUpKSksdGhpcy5faW5pdGlhbGl6ZVNldCh0KX1faW5pdGlhbGl6ZVNldCh0KXt0aGlzLl9mb3JBbGxGZWF0dXJlcygoKGUsaSxoKT0+KHQuaWRzLmhhcyhlKSYmdGhpcy5fY29sbGVjdGlvbi5hZGRDb21wb25lbnRIaWdobGlnaHQoaC5vYmplY3RIYW5kbGUsaSx0LmhpZ2hsaWdodE5hbWUpLHMuQ09OVElOVUUpKSl9X3JlbGVhc2VTZXQodCl7dGhpcy5fZm9yQWxsRmVhdHVyZXMoKChlLGksaCk9Pih0Lmlkcy5oYXMoZSkmJnRoaXMuX2NvbGxlY3Rpb24ucmVtb3ZlQ29tcG9uZW50SGlnaGxpZ2h0KGgub2JqZWN0SGFuZGxlLGksdC5oaWdobGlnaHROYW1lKSxzLkNPTlRJTlVFKSkpfW9iamVjdENyZWF0ZWQodCl7dGhpcy5faGlnaGxpZ2h0cy5mb3JFYWNoKCgoZSxpKT0+e2UuZm9yRWFjaCgoZT0+e3RoaXMuX2ZvckFsbEZlYXR1cmVzT2ZOb2RlKHQsKChoLGwpPT4oZS5pZHMuaGFzKGgpJiZ0aGlzLl9jb2xsZWN0aW9uLmFkZENvbXBvbmVudEhpZ2hsaWdodCh0Lm9iamVjdEhhbmRsZSxsLGkpLHMuQ09OVElOVUUpKSl9KSl9KSl9b2JqZWN0RGVsZXRlZCh0KXt0aGlzLl9jb2xsZWN0aW9uLmNsZWFySGlnaGxpZ2h0cyh0Lm9iamVjdEhhbmRsZSl9fWV4cG9ydHtsIGFzIGRlZmF1bHR9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMzMvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtfIGFzIHR9ZnJvbVwiLi4vLi4vLi4vLi4vY2h1bmtzL3RzbGliLmVzNi5qc1wiO2ltcG9ydCBlIGZyb21cIi4uLy4uLy4uLy4uL2NvcmUvQWNjZXNzb3IuanNcIjtpbXBvcnR7cHJvcGVydHkgYXMgc31mcm9tXCIuLi8uLi8uLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3Byb3BlcnR5LmpzXCI7aW1wb3J0XCIuLi8uLi8uLi8uLi9jb3JlL2hhcy5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vLi4vY29yZS9Mb2dnZXIuanNcIjtpbXBvcnRcIi4uLy4uLy4uLy4uL2NvcmUvUmFuZG9tTENHLmpzXCI7aW1wb3J0e3N1YmNsYXNzIGFzIHJ9ZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9zdWJjbGFzcy5qc1wiO2ltcG9ydHtFbGV2YXRpb25Nb2RlIGFzIGl9ZnJvbVwiLi4vSUkzU01lc2hWaWV3M0QuanNcIjtpbXBvcnR7RXh0ZW50U2V0IGFzIG99ZnJvbVwiLi4vZ3JhcGhpY3MvRXh0ZW50U2V0LmpzXCI7aW1wb3J0e1Rhc2tQcmlvcml0eSBhcyBufWZyb21cIi4uLy4uLy4uL3N1cHBvcnQvU2NoZWR1bGVyLmpzXCI7bGV0IGE9Y2xhc3MgZXh0ZW5kcyBle2NvbnN0cnVjdG9yKHQsZSxzLHIpe3N1cGVyKHt9KSx0aGlzLl91cGRhdGVFeHRlbnQ9ZSx0aGlzLl91cGRhdGVOb2RlPXMsdGhpcy5fZ2V0RWxldmF0aW9uTW9kZT1yLHRoaXMucnVubmluZz0hMSx0aGlzLl9leHRlbnRTZXQ9bmV3IG8sdGhpcy5fbm9kZVNldD1uZXcgU2V0O2NvbnN0IGk9dGhpcy5fdGFza1ByaW9yaXR5LG49dC5yZWdpc3RlclRhc2sodGhpcy5fdGFza1ByaW9yaXR5LHRoaXMpO3RoaXMuYWRkSGFuZGxlcyhuKSx0aGlzLl90YXNrPW4sdGhpcy5fbGFzdFRhc2tQcmlvcml0eT1pfWdldCBfdGFza1ByaW9yaXR5KCl7Y29uc3QgdD10aGlzLl9nZXRFbGV2YXRpb25Nb2RlKCk7cmV0dXJuIHQmJnQ9PT1pLlJlbGF0aXZlVG9Hcm91bmQ/bi5FTEVWQVRJT05fQUxJR05NRU5UX1NDRU5FOm4uRUxFVkFUSU9OX0FMSUdOTUVOVH1fdXBkYXRlVGFza1ByaW9yaXR5KCl7Y29uc3QgdD10aGlzLl90YXNrUHJpb3JpdHk7dCE9PXRoaXMuX2xhc3RUYXNrUHJpb3JpdHkmJih0aGlzLl90YXNrLnByaW9yaXR5PXQsdGhpcy5fbGFzdFRhc2tQcmlvcml0eT10KX1hZGRFeHRlbnQodCl7dGhpcy5fZXh0ZW50U2V0LmFkZCh0KSx0aGlzLl91cGRhdGVUYXNrUHJpb3JpdHkoKSx0aGlzLnJ1bm5pbmc9ITB9c2NoZWR1bGUodCl7dGhpcy5fbm9kZVNldC5hZGQodCksdGhpcy5fdXBkYXRlVGFza1ByaW9yaXR5KCksdGhpcy5ydW5uaW5nPSEwfXJlbW92ZSh0KXt0aGlzLl9ub2RlU2V0LmRlbGV0ZSh0KSx0aGlzLl91cGRhdGVSdW5uaW5nKCl9cnVuVGFzayh0KXtjb25zdCBlPXRoaXMuX2V4dGVudFNldDtmb3IodC5ydW4oKCgpPT5lLm1lcmdlKHQpKSk7IWUuZW1wdHkmJiF0LmRvbmU7KXtjb25zdCBzPXRoaXMuX3VwZGF0ZUV4dGVudChlLnBvcCgpKTtudWxsIT1zJiZzLmZvckFsbCgodD0+dGhpcy5zY2hlZHVsZSh0KSkpLHQubWFkZVByb2dyZXNzKCl9aWYodC5kb25lKXJldHVybjtjb25zdCBzPXRoaXMuX25vZGVTZXQ7Zm9yKGNvbnN0IHIgb2YgcylpZihzLmRlbGV0ZShyKSx0aGlzLl91cGRhdGVOb2RlKHIpLHQubWFkZVByb2dyZXNzKCksdC5kb25lKWJyZWFrO3RoaXMuX3VwZGF0ZVJ1bm5pbmcoKX1fdXBkYXRlUnVubmluZygpe3RoaXMucnVubmluZz10aGlzLl9ub2RlU2V0LnNpemU+MHx8dGhpcy5fZXh0ZW50U2V0LnNpemU+MH19O3QoW3MoKV0sYS5wcm90b3R5cGUsXCJydW5uaW5nXCIsdm9pZCAwKSxhPXQoW3IoXCJlc3JpLnZpZXdzLjNkLmxheWVycy5pM3MuSTNTQXN5bmNFbGV2YXRpb25VcGRhdGVyXCIpXSxhKTtleHBvcnR7YSBhcyBJM1NBc3luY0VsZXZhdGlvblVwZGF0ZXJ9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMzMvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtyZW1vdmVNYXliZSBhcyBlfWZyb21cIi4uLy4uLy4uLy4uL2NvcmUvbWF5YmUuanNcIjtpbXBvcnR7YWRkRnJhbWVUYXNrIGFzIHN9ZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9zY2hlZHVsaW5nLmpzXCI7aW1wb3J0e0ZhZGVEaXJlY3Rpb24gYXMgZH1mcm9tXCIuLi9zdXBwb3J0L0kzU0xheWVyVmlldy5qc1wiO2NsYXNzIG97Y29uc3RydWN0b3IoKXt0aGlzLmxvZENyb3NzZmFkZVNpZ25lZER1cmF0aW9uPTB9fWNsYXNzIGl7Y29uc3RydWN0b3IoZSl7dGhpcy5fdmlldz1lLHRoaXMuX3ByZVJlbmRlckZyYW1lVGFza0hhbmRsZT1udWxsLHRoaXMuX2N1cnJlbnRGcmFtZVN0YXJ0VGltZT1udWxsLHRoaXMuX251bUZhZGluZ05vZGVzPTB9ZGVzdHJveSgpe3RoaXMuX3ByZVJlbmRlckZyYW1lVGFza0hhbmRsZT8ucmVtb3ZlKCksdGhpcy5fcHJlUmVuZGVyRnJhbWVUYXNrSGFuZGxlPW51bGwsdGhpcy5fdmlldz1udWxsfWdldCB1cGRhdGluZygpe3JldHVybiB0aGlzLl9udW1GYWRpbmdOb2Rlcz4wfXN0b3BOb2RlRmFkaW5nKHMpe251bGwhPXMubG9kQ3Jvc3NmYWRlUHJvZ3Jlc3MmJih0aGlzLl9udW1GYWRpbmdOb2Rlcy0tLHMubG9kQ3Jvc3NmYWRlUHJvZ3Jlc3M9bnVsbCwwPT09dGhpcy5fbnVtRmFkaW5nTm9kZXMmJihudWxsIT10aGlzLl9wcmVSZW5kZXJGcmFtZVRhc2tIYW5kbGUmJih0aGlzLl9wcmVSZW5kZXJGcmFtZVRhc2tIYW5kbGU9ZSh0aGlzLl9wcmVSZW5kZXJGcmFtZVRhc2tIYW5kbGUpKSx0aGlzLl92aWV3Lm5vdGlmeUxPRFVwZGF0ZSgpLHRoaXMuX3ZpZXcubm90aWZ5VXBkYXRlKCkpKX1fc3RhcnROb2RlRmFkaW5nKGUsZCxvKXswPT09dGhpcy5fbnVtRmFkaW5nTm9kZXMmJih0aGlzLl9wcmVSZW5kZXJGcmFtZVRhc2tIYW5kbGU9cyh7cHJlUmVuZGVyOmU9PnRoaXMuX3VwZGF0ZUFsbE5vZGVGYWRpbmcoZSl9KSx0aGlzLl92aWV3Lm5vdGlmeUxPRFVwZGF0ZSgpKSxudWxsPT1lLmxvZENyb3NzZmFkZVByb2dyZXNzJiYodGhpcy5fbnVtRmFkaW5nTm9kZXMrKyx0aGlzLl92aWV3Lm5vdGlmeVVwZGF0ZSgpKSxlLmxvZENyb3NzZmFkZVNpZ25lZER1cmF0aW9uPW8sZS5sb2RDcm9zc2ZhZGVQcm9ncmVzcz1kfV91cGRhdGVBbGxOb2RlRmFkaW5nKGUpe2NvbnN0IHM9dGhpcy5fdmlldy5ub2RlQ3Jvc3NmYWRpbmdFbmFibGVkO3RoaXMuX3ZpZXcuZm9yZWFjaENyb3NzZmFkZU5vZGUoKChkLG8pPT57aWYobnVsbCE9ZD8ubG9kQ3Jvc3NmYWRlUHJvZ3Jlc3Mpe2NvbnN0IGk9ZC5sb2RDcm9zc2ZhZGVTaWduZWREdXJhdGlvbix0PWk+MD90aGlzLl92aWV3LmZ1bGxPcGFjaXR5OjAscj1lLmRlbHRhVGltZS9pLGE9ZC5sb2RDcm9zc2ZhZGVQcm9ncmVzcytNYXRoLmFicyhyKSxuPSFzfHxhPj0xfHwwPT09aSxsPXQtKG4/MDppPjA/MTotMSkqKDEtYSk7bj8odGhpcy5zdG9wTm9kZUZhZGluZyhkKSxpPDAmJnRoaXMuX3ZpZXcubWFya05vZGVUb1JlbW92ZShvKSk6ZC5sb2RDcm9zc2ZhZGVQcm9ncmVzcz1hLHRoaXMuX3ZpZXcuc2V0Tm9kZU9wYWNpdHlCeUluZGV4KG8sbCl9fSkpLHRoaXMuX3ZpZXcucmVtb3ZlTWFya2VkTm9kZXMoKX1zdG9wQWxsTm9kZUZhZGluZygpe3RoaXMuX3ZpZXcuZm9yZWFjaENyb3NzZmFkZU5vZGUoKChlLHMpPT57aWYobnVsbCE9ZT8ubG9kQ3Jvc3NmYWRlUHJvZ3Jlc3Mpe3RoaXMuc3RvcE5vZGVGYWRpbmcoZSk7Y29uc3QgZD1lLmxvZENyb3NzZmFkZVNpZ25lZER1cmF0aW9uO2Q8MCYmdGhpcy5fdmlldy5tYXJrTm9kZVRvUmVtb3ZlKHMpO2NvbnN0IG89ZD4wP3RoaXMuX3ZpZXcuZnVsbE9wYWNpdHk6MDt0aGlzLl92aWV3LnNldE5vZGVPcGFjaXR5QnlJbmRleChzLG8pfX0pKSx0aGlzLl92aWV3LnJlbW92ZU1hcmtlZE5vZGVzKCl9ZmFkZU5vZGUoZSxzLG8saSl7bnVsbD09dGhpcy5fY3VycmVudEZyYW1lU3RhcnRUaW1lJiYodGhpcy5fY3VycmVudEZyYW1lU3RhcnRUaW1lPURhdGUubm93KCkpO2NvbnN0IHI9dGhpcy5fdmlldyxhPXIubm9kZUNyb3NzZmFkaW5nRW5hYmxlZCxuPW89PT1kLkZhZGVJbj9yLmZ1bGxPcGFjaXR5OjAsbD1hP2k/bz09PWQuRmFkZUluP3IubG9kQ3Jvc3NmYWRlaW5EdXJhdGlvbjpyLmxvZENyb3NzZmFkZW91dER1cmF0aW9uOnIubG9kQ3Jvc3NmYWRlVW5jb3ZlcmVkRHVyYXRpb246MCxoPXRoaXMuX3ZpZXcuZ2V0Tm9kZU9wYWNpdHlCeUluZGV4KGUpO2lmKGEmJmghPT1uJiZsPjApe2NvbnN0IGU9MS1NYXRoLmFicyhuLWgpO3RoaXMuX3N0YXJ0Tm9kZUZhZGluZyhzLGUsdChvKSpsKX1lbHNlIHRoaXMuc3RvcE5vZGVGYWRpbmcocyksdGhpcy5fdmlldy5zZXROb2RlT3BhY2l0eUJ5SW5kZXgoZSxuKSxvPT09ZC5GYWRlT3V0JiZ0aGlzLl92aWV3LnJlbW92ZU5vZGUoZSl9aXNOb2RlRnVsbHlGYWRlZEluKGUpe2NvbnN0IHM9dGhpcy5fdmlldy5nZXROb2RlQ3Jvc3NmYWRlTWV0YURhdGEoZSk7cmV0dXJuIG51bGw9PXN8fG51bGw9PXMubG9kQ3Jvc3NmYWRlUHJvZ3Jlc3MmJnRoaXMuX3ZpZXcuZ2V0Tm9kZU9wYWNpdHlCeUluZGV4KGUpPT09dGhpcy5fdmlldy5mdWxsT3BhY2l0eX19ZnVuY3Rpb24gdChlKXtyZXR1cm4gZT09PWQuRmFkZUluPzE6LTF9ZXhwb3J0e2kgYXMgSTNTQ3Jvc3NmYWRlSGVscGVyLG8gYXMgTm9kZUNyb3NzZmFkZU1ldGFEYXRhfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjMzL2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7byxmIGFzIHJ9ZnJvbVwiLi4vLi4vLi4vLi4vY2h1bmtzL3ZlYzMyLmpzXCI7aW1wb3J0e2NyZWF0ZSBhcyB0fWZyb21cIi4uLy4uLy4uLy4uL2NvcmUvbGlicy9nbC1tYXRyaXgtMi9mYWN0b3JpZXMvdmVjM2Y2NC5qc1wiO2ltcG9ydHtwcm9qZWN0QnVmZmVyIGFzIGV9ZnJvbVwiLi4vLi4vLi4vLi4vZ2VvbWV0cnkvcHJvamVjdGlvbi9wcm9qZWN0QnVmZmVyLmpzXCI7aW1wb3J0e2Zyb21CdWZmZXIgYXMgbixzZXQgYXMgYSx6ZXJvIGFzIHMsY3JlYXRlIGFzIG19ZnJvbVwiLi4vLi4vLi4vLi4vZ2VvbWV0cnkvc3VwcG9ydC9hYUJvdW5kaW5nQm94LmpzXCI7aW1wb3J0e25ld0RvdWJsZUFycmF5IGFzIGN9ZnJvbVwiLi4vLi4vLi4vLi4vZ2VvbWV0cnkvc3VwcG9ydC9Eb3VibGVBcnJheS5qc1wiO2Z1bmN0aW9uIGYobyxyLHQpe2NvbnN0IG09YygyNCk7cmV0dXJuIGM9Pntjb25zdCBmPWMubWV0YS5mZWF0dXJlRXh0ZW50cyxwPW5ldyBGbG9hdDY0QXJyYXkoZi5idWZmZXIsNipjLmluZGV4KkZsb2F0NjRBcnJheS5CWVRFU19QRVJfRUxFTUVOVCw2KTtyZXR1cm4gcFswXT09PU51bWJlci5QT1NJVElWRV9JTkZJTklUWSYmKGkoYy5pbmRleCx0LGMubWV0YS5vYmplY3RIYW5kbGUsbSwwKSxlKG0sciwwLG0sbywwKT9uKG0scCk6YShwLHMpKSxwfX1mdW5jdGlvbiBpKHQsZSxuLGEscyl7Y29uc3QgbT1lLmdldENvbXBvbmVudEFhYmIobix0LHUpLGM9ZS5nZXRPYmplY3RUcmFuc2Zvcm0obik7Zm9yKGxldCBmPTA7Zjw4OysrZilqWzBdPTEmZj9tWzBdOm1bM10salsxXT0yJmY/bVsxXTptWzRdLGpbMl09NCZmP21bMl06bVs1XSxvKGosaixjLnJvdGF0aW9uU2NhbGUpLHIoaixqLGMucG9zaXRpb24pLGFbcysrXT1qWzBdLGFbcysrXT1qWzFdLGFbcysrXT1qWzJdO3JldHVybiBhfWNvbnN0IHA9MjQsdT1tKCksaj10KCk7ZXhwb3J0e2kgYXMgYm91bmRpbmdCb3hDb3JuZXJQb2ludHMscCBhcyBib3VuZGluZ0JveENvcm5lcnNQb2ludHNTdHJpZGUsZiBhcyBjcmVhdGVHZXRGZWF0dXJlRXh0ZW50fTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjMzL2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7Vmlld2luZ01vZGUgYXMgZX1mcm9tXCIuLi8uLi8uLi9WaWV3aW5nTW9kZS5qc1wiO2ltcG9ydHtpc1ZhbGlkTWJzIGFzIHR9ZnJvbVwiLi9JM1NVdGlsLmpzXCI7aW1wb3J0e0kzc1RhcmdldCBhcyBpfWZyb21cIi4vSW50ZXJzZWN0b3IuanNcIjtpbXBvcnR7U3RvcmVSZXN1bHRzIGFzIG59ZnJvbVwiLi4vLi4vd2ViZ2wtZW5naW5lL2xpYi9JbnRlcnNlY3RvckludGVyZmFjZXMuanNcIjtpbXBvcnR7SW50ZXJzZWN0b3JSZXN1bHQgYXMgcn1mcm9tXCIuLi8uLi93ZWJnbC1lbmdpbmUvbGliL0ludGVyc2VjdG9yUmVzdWx0LmpzXCI7aW1wb3J0e0ludGVyc2VjdG9yVHlwZSBhcyBzfWZyb21cIi4uLy4uL3dlYmdsLWVuZ2luZS9saWIvSW50ZXJzZWN0b3JUeXBlLmpzXCI7aW1wb3J0e01lc2hJbnRlcnNlY3Rpb25PcHRpb25zIGFzIGx9ZnJvbVwiLi4vLi4vd2ViZ2wtZW5naW5lL2xpYi9SYXlJbnRlcnNlY3Rpb25zLmpzXCI7aW1wb3J0e2dldFZlcnRpY2FsT2Zmc2V0STNTIGFzIG99ZnJvbVwiLi4vLi4vd2ViZ2wtZW5naW5lL2xpYi92ZXJ0aWNhbE9mZnNldFV0aWxzLmpzXCI7Y2xhc3MgY3tjb25zdHJ1Y3RvcihlKXt0aGlzLnR5cGU9cy5JM1MsdGhpcy5fbmVlZFZlcnRpY2FsT2Zmc2V0PSExLHRoaXMubGF5ZXJWaWV3VWlkPWUubGF5ZXJWaWV3VWlkLHRoaXMuc3VibGF5ZXJJZD1lLnN1YmxheWVySWQsdGhpcy5fY29sbGVjdGlvbj1lLmNvbGxlY3Rpb24sdGhpcy5fdHJhdmVyc2VOb2RlSGllcmFyY2h5PWUudHJhdmVyc2VOb2RlSGllcmFyY2h5LHRoaXMuc2xpY2VQbGFuZUVuYWJsZWQ9ZS5zbGljZVBsYW5lRW5hYmxlZCx0aGlzLmlzR3JvdW5kPWUuaXNHcm91bmR9dXBkYXRlRWxldmF0aW9uQWxpZ25TdGF0ZSh0LGkpe3RoaXMuX25lZWRWZXJ0aWNhbE9mZnNldD10JiZpPT09ZS5HbG9iYWx9aW50ZXJzZWN0KGUscyxjLGQsdSxiKXtjb25zdCBmPWUucmVzdWx0cyxtPWUub3B0aW9ucy5zdG9yZT09PW4uQUxMLGg9ZS5yYXkuZGlyZWN0aW9uLHA9ZS50b2xlcmFuY2U7bGV0IHk9ZT0+ZSxnPWU9PmU7Y29uc3QgST1vKGUudmVydGljYWxPZmZzZXQ/Pyh0aGlzLl9uZWVkVmVydGljYWxPZmZzZXQ/MDpudWxsKSk7bnVsbCE9ZS52ZXJ0aWNhbE9mZnNldCYmbnVsbCE9SSYmKHk9ZT0+SS5hcHBseVRvTWJzKGUpLGc9ZT0+SS5hcHBseVRvT2JiKGUpKTtjb25zdCBSPW5ldyBsKGIsZS5vcHRpb25zLm5vcm1hbFJlcXVpcmVkKSx3PShuLGwpPT57aWYoMD09PW4uY2hpbGRyZW5Mb2FkZWQpcmV0dXJuITE7Y29uc3Qgbz1uLnNlcnZpY2VPYmJJblJlbmRlclNSPy5pc1ZhbGlkP24uc2VydmljZU9iYkluUmVuZGVyU1I6bnVsbDtyZXR1cm4hKG8mJiFnKG8pLmludGVyc2VjdFJheShjLGgscCkpJiYoIWx8fCFvJiZ0KG4uc2VydmljZU1ic0luUmVuZGVyU1IpJiYhYSh5KG4uc2VydmljZU1ic0luUmVuZGVyU1IpLGMsaCxwKXx8bnVsbCE9bi5nZW9tZXRyeU9iYkluUmVuZGVyU1ImJiFnKG4uZ2VvbWV0cnlPYmJJblJlbmRlclNSKS5pbnRlcnNlY3RSYXkoYyxoLHApfHx0aGlzLl9jb2xsZWN0aW9uLmludGVyc2VjdChsLGMsZCxwLEksUiwoKHQsbCxvLGEpPT57aWYobDwwfHxudWxsIT1zJiYhcyhjLGQsbCkpcmV0dXJuO2NvbnN0IHU9ZT0+e2NvbnN0IHI9bmV3IGkodGhpcy5sYXllclZpZXdVaWQsdGhpcy5zdWJsYXllcklkLG4uaW5kZXgsdCxhKTtlLnNldCh0aGlzLnR5cGUscixsLG8pfTtpZih0aGlzLmlzR3JvdW5kJiYobnVsbD09Zi5ncm91bmQuZGlzdGFuY2V8fGw8Zi5ncm91bmQuZGlzdGFuY2UpJiZ1KGYuZ3JvdW5kKSwhZS5vcHRpb25zLmlzRmlsdGVyZWQmJigobnVsbD09Zi5taW4uZGlzdGFuY2V8fGw8Zi5taW4uZGlzdGFuY2UpJiZ1KGYubWluKSwobnVsbD09Zi5tYXguZGlzdGFuY2V8fGw+Zi5tYXguZGlzdGFuY2UpJiZ1KGYubWF4KSxtKSl7Y29uc3QgdD1uZXcgcihlLnJheSk7dSh0KSxlLnJlc3VsdHMuYWxsLnB1c2godCl9fSkpLCEwKX07dGhpcy5fdHJhdmVyc2VOb2RlSGllcmFyY2h5KHcpfX1mdW5jdGlvbiBhKGUsdCxpLG49MCl7Y29uc3Qgcj1lWzNdK24scz10WzBdLWVbMF0sbD10WzFdLWVbMV0sbz10WzJdLWVbMl0sYz1pWzBdLGE9aVsxXSxkPWlbMl0sdT1jKnMrYSpsK2QqbztyZXR1cm4gdSp1LShjKmMrYSphK2QqZCkqKHMqcytsKmwrbypvLXIqcik+PTB9ZXhwb3J0e2MgYXMgSTNTSW50ZXJzZWN0aW9uSGFuZGxlcn07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4zMy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e0J5dGVTaXplVW5pdCBhcyBlfWZyb21cIi4uLy4uLy4uLy4uL2NvcmUvQnl0ZVNpemVVbml0LmpzXCI7aW1wb3J0IHQgZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9FcnJvci5qc1wiO2ltcG9ydHtvbkFib3J0IGFzIHMsdGhyb3dJZkFib3J0ZWQgYXMgcn1mcm9tXCIuLi8uLi8uLi8uLi9jb3JlL3Byb21pc2VVdGlscy5qc1wiO2NvbnN0IG89MTQ7Y2xhc3MgaXtjb25zdHJ1Y3Rvcih0LHMscj1vKXt0aGlzLl92ZXJzaW9uPXIsdGhpcy5fZGI9bnVsbCx0aGlzLl9xdW90YVJlZHVjdGlvblByb21pc2U9bnVsbCx0aGlzLl9nY0NvdW50ZXI9MCx0aGlzLl9oaXQ9MCx0aGlzLl9taXNzPTAsdGhpcy5fZGVzdHJveWVkPSExLHRoaXMuZ2NGcmVxdWVuY3k9NTAsdGhpcy5tYXhCeXRlU2l6ZT1lLkdJR0FCWVRFUyx0aGlzLnF1b3RhUmVkdWN0aW9uRmFjdG9yPS4yLHRoaXMuX2RiTmFtZT10LHRoaXMuX3N0b3JlTmFtZT1zfWluaXQoKXtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCkudGhlbigoKCk9Pntjb25zdCBlPWluZGV4ZWREQi5vcGVuKHRoaXMuX2RiTmFtZSx0aGlzLl92ZXJzaW9uKTtyZXR1cm4gZS5vbnVwZ3JhZGVuZWVkZWQ9dD0+e2NvbnN0IHM9ZS5yZXN1bHQscj1lLnRyYW5zYWN0aW9uLG89cy5vYmplY3RTdG9yZU5hbWVzLmNvbnRhaW5zKHRoaXMuX3N0b3JlTmFtZSk/ci5vYmplY3RTdG9yZSh0aGlzLl9zdG9yZU5hbWUpOnMuY3JlYXRlT2JqZWN0U3RvcmUodGhpcy5fc3RvcmVOYW1lKSxpPXMub2JqZWN0U3RvcmVOYW1lcy5jb250YWlucyhcImxhc3RfYWNjZXNzXCIpP3Iub2JqZWN0U3RvcmUoXCJsYXN0X2FjY2Vzc1wiKTpzLmNyZWF0ZU9iamVjdFN0b3JlKFwibGFzdF9hY2Nlc3NcIik7aS5pbmRleE5hbWVzLmNvbnRhaW5zKFwiZGF0ZVwiKXx8aS5jcmVhdGVJbmRleChcImRhdGVcIixcImRhdGVcIix7dW5pcXVlOiExfSksaS5pbmRleE5hbWVzLmNvbnRhaW5zKFwiYnl0ZVNpemVcIil8fGkuY3JlYXRlSW5kZXgoXCJieXRlU2l6ZVwiLFwiYnl0ZVNpemVcIix7dW5pcXVlOiExfSksdC5vbGRWZXJzaW9uPHRoaXMuX3ZlcnNpb24mJihvLmNsZWFyKCksaS5jbGVhcigpKX0sYyhlKX0pKS50aGVuKChlPT57dGhpcy5fZGVzdHJveWVkP2UuY2xvc2UoKTp0aGlzLl9kYj1lfSkpfWRlc3Ryb3koKXt0aGlzLl9kYiYmKHRoaXMuX2RiLmNsb3NlKCksdGhpcy5fZGI9bnVsbCksdGhpcy5fZGVzdHJveWVkPSEwfWdldCBpbml0aWFsaXplZCgpe3JldHVybiBudWxsIT10aGlzLl9kYn1nZXRIaXRSYXRlKCl7cmV0dXJuIHRoaXMuX2hpdC8odGhpcy5faGl0K3RoaXMuX21pc3MpfXB1dChlLHMpe2lmKG51bGw9PXRoaXMuX2RiKXJldHVybiBQcm9taXNlLnJlamVjdChuZXcgdChcImluZGV4ZWRiOm5vdC1pbml0aWFsaXplZFwiLFwiSW5kZXhlZERCIENhY2hlIGlzIG5vdCBpbml0aWFsaXplZFwiKSk7cmV0dXJuKG51bGwhPXRoaXMuX3F1b3RhUmVkdWN0aW9uUHJvbWlzZT90aGlzLl9xdW90YVJlZHVjdGlvblByb21pc2U6UHJvbWlzZS5yZXNvbHZlKCkpLnRoZW4oKCgpPT50aGlzLl9wdXQoZSxzKSkpLmNhdGNoKCh0PT57aWYodCYmXCJRdW90YUV4Y2VlZGVkRXJyb3JcIj09PXQubmFtZSlyZXR1cm4gbnVsbD09dGhpcy5fcXVvdGFSZWR1Y3Rpb25Qcm9taXNlJiYodGhpcy5fcXVvdGFSZWR1Y3Rpb25Qcm9taXNlPXRoaXMuX2dldENhY2hlU2l6ZSgpLnRoZW4oKGU9PnRoaXMuX3JlbW92ZUxlYXN0UmVjZW50bHlBY2Nlc3NlZChzLmJ5dGVTaXplK01hdGguY2VpbChlKnRoaXMucXVvdGFSZWR1Y3Rpb25GYWN0b3IpKSkpLHRoaXMuX3F1b3RhUmVkdWN0aW9uUHJvbWlzZS50aGVuKCgoKT0+dGhpcy5fcXVvdGFSZWR1Y3Rpb25Qcm9taXNlPW51bGwpLCgoKT0+dGhpcy5fcXVvdGFSZWR1Y3Rpb25Qcm9taXNlPW51bGwpKSksdGhpcy5fcXVvdGFSZWR1Y3Rpb25Qcm9taXNlLnRoZW4oKCgpPT50aGlzLl9wdXQoZSxzKSkpO3Rocm93IHR9KSkudGhlbigoKCk9Pnt0aGlzLl9nY0NvdW50ZXItLSx0aGlzLl9nY0NvdW50ZXI8MCYmbnVsbCE9dGhpcy5fZGImJih0aGlzLl9nY0NvdW50ZXI9dGhpcy5nY0ZyZXF1ZW5jeSx0aGlzLl9nZXRDYWNoZVNpemUoKS50aGVuKChlPT50aGlzLl9yZW1vdmVMZWFzdFJlY2VudGx5QWNjZXNzZWQoZS10aGlzLm1heEJ5dGVTaXplKSkpKX0pKX1nZXQoZSx0KXtjb25zdCBvPXRoaXMuX2RiO2lmKG51bGw9PW8pcmV0dXJuIFByb21pc2UucmVzb2x2ZSh2b2lkIDApO2xldCBpPW51bGw7cmV0dXJuIFByb21pc2UucmVzb2x2ZSgpLnRoZW4oKCgpPT57Y29uc3Qgcj1vLnRyYW5zYWN0aW9uKHRoaXMuX3N0b3JlTmFtZSxcInJlYWRvbmx5XCIpO2k9cyh0LCgoKT0+e3IuYWJvcnQoKX0pKTtyZXR1cm4gYyhyLm9iamVjdFN0b3JlKHRoaXMuX3N0b3JlTmFtZSkuZ2V0KGUpKX0pKS50aGVuKCh0PT57aWYobnVsbD09dCkrK3RoaXMuX21pc3M7ZWxzZSBpZih0aGlzLl9kYil7Kyt0aGlzLl9oaXQ7dGhpcy5fZGIudHJhbnNhY3Rpb24oXCJsYXN0X2FjY2Vzc1wiLFwicmVhZHdyaXRlXCIpLm9iamVjdFN0b3JlKFwibGFzdF9hY2Nlc3NcIikucHV0KHtkYXRlOkRhdGUubm93KCksYnl0ZVNpemU6dC5ieXRlU2l6ZX0sZSl9cmV0dXJuIG51bGwhPWkmJmkucmVtb3ZlKCksdH0pKS5jYXRjaCgoKCk9PnsrK3RoaXMuX21pc3Mscih0KSxudWxsIT1pJiZpLnJlbW92ZSgpfSkpfXJlbW92ZShlKXtjb25zdCB0PXRoaXMuX2RiO3JldHVybiBudWxsPT10P1Byb21pc2UucmVzb2x2ZSgpOlByb21pc2UucmVzb2x2ZSgpLnRoZW4oKGFzeW5jKCk9Pntjb25zdCBzPXQudHJhbnNhY3Rpb24oW3RoaXMuX3N0b3JlTmFtZSxcImxhc3RfYWNjZXNzXCJdLFwicmVhZHdyaXRlXCIpLHI9cy5vYmplY3RTdG9yZSh0aGlzLl9zdG9yZU5hbWUpLG89cy5vYmplY3RTdG9yZShcImxhc3RfYWNjZXNzXCIpLGk9ci5kZWxldGUoZSksYT1vLmRlbGV0ZShlKTthd2FpdCBQcm9taXNlLmFsbChbYyhpKSxjKGEpLG4ocyldKX0pKX1fcHV0KGUsdCl7Y29uc3Qgcz10aGlzLl9kYjtpZihudWxsPT1zKXJldHVybiBQcm9taXNlLnJlc29sdmUoKTtjb25zdCByPXMudHJhbnNhY3Rpb24oW3RoaXMuX3N0b3JlTmFtZSxcImxhc3RfYWNjZXNzXCJdLFwicmVhZHdyaXRlXCIpLG89ci5vYmplY3RTdG9yZSh0aGlzLl9zdG9yZU5hbWUpLGk9ci5vYmplY3RTdG9yZShcImxhc3RfYWNjZXNzXCIpLGE9by5wdXQodCxlKSxsPWkucHV0KHtkYXRlOkRhdGUubm93KCksYnl0ZVNpemU6dC5ieXRlU2l6ZX0sZSk7cmV0dXJuIFByb21pc2UuYWxsKFtjKGEpLGMobCksbihyKV0pfV9yZW1vdmVMZWFzdFJlY2VudGx5QWNjZXNzZWQoZSl7aWYoZTw9MHx8IXRoaXMuX2RiKXJldHVybiBQcm9taXNlLnJlc29sdmUoKTtjb25zdCB0PXRoaXMuX2RiLnRyYW5zYWN0aW9uKFt0aGlzLl9zdG9yZU5hbWUsXCJsYXN0X2FjY2Vzc1wiXSxcInJlYWR3cml0ZVwiKSxzPXQub2JqZWN0U3RvcmUodGhpcy5fc3RvcmVOYW1lKSxyPXQub2JqZWN0U3RvcmUoXCJsYXN0X2FjY2Vzc1wiKTtsZXQgbz0wO2NvbnN0IGk9ci5pbmRleChcImRhdGVcIikub3BlbkN1cnNvcihudWxsLFwibmV4dFwiKTtyZXR1cm4gaS5vbnN1Y2Nlc3M9KCk9Pntjb25zdCB0PWkucmVzdWx0O251bGwhPXQmJihudWxsIT10LnZhbHVlLmJ5dGVTaXplJiYobys9dC52YWx1ZS5ieXRlU2l6ZSkscy5kZWxldGUodC5wcmltYXJ5S2V5KSxyLmRlbGV0ZSh0LnByaW1hcnlLZXkpLG88ZSYmdC5jb250aW51ZSgpKX0sbih0KX1fZ2V0Q2FjaGVTaXplKCl7Y29uc3QgZT10aGlzLl9kYjtpZihudWxsPT1lKXJldHVybiBQcm9taXNlLnJlc29sdmUoMCk7Y29uc3QgdD1lLnRyYW5zYWN0aW9uKFwibGFzdF9hY2Nlc3NcIikscz10Lm9iamVjdFN0b3JlKFwibGFzdF9hY2Nlc3NcIik7bGV0IHI9MDtjb25zdCBvPXMuaW5kZXgoXCJieXRlU2l6ZVwiKS5vcGVuS2V5Q3Vyc29yKCk7cmV0dXJuIG8ub25zdWNjZXNzPSgpPT57Y29uc3QgZT1vLnJlc3VsdDtpZighZSlyZXR1cm47Y29uc3QgdD1lLmtleTtudWxsIT10JiYocis9dCksZS5jb250aW51ZSgpfSxuKHQpLnRoZW4oKCgpPT5yKSl9fWZ1bmN0aW9uIG4oZSl7cmV0dXJuIG5ldyBQcm9taXNlKCgodCxzKT0+e2Uub25jb21wbGV0ZT0oKT0+dCgpLGUub25lcnJvcj0oKT0+cyhlLmVycm9yKSxlLm9uYWJvcnQ9KCk9PnMoZS5lcnJvcil9KSl9ZnVuY3Rpb24gYyhlKXtyZXR1cm4gbmV3IFByb21pc2UoKCh0LHMpPT57XCJkb25lXCI9PT1lLnJlYWR5U3RhdGU/bnVsbCE9ZS5lcnJvcj9zKGUuZXJyb3IpOnQoZS5yZXN1bHQpOihlLm9uc3VjY2Vzcz0oKT0+dChlLnJlc3VsdCksZS5vbmVycm9yPSgpPT5zKGUuZXJyb3IpKX0pKX1leHBvcnR7aSBhcyBJREJDYWNoZSxjIGFzIHdoZW5SZXF1ZXN0LG4gYXMgd2hlblRyYW5zYWN0aW9ufTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjMzL2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5jb25zdCB0PW5ldyBXZWFrTWFwO2NsYXNzIHN7Y29uc3RydWN0b3IocyxlKXtzd2l0Y2godGhpcy5fbWlzcz0wLHRoaXMuX2hpdD0wLHRoaXMuaW5pdGlhbGl6ZWQ9ITAsZSl7Y2FzZVwibGF5ZXJcIjp0aGlzLl9kYXRhPW5ldyBNYXA7YnJlYWs7Y2FzZVwidmlld1wiOntjb25zdCBlPXQuZ2V0KHMpO2lmKGUpe3RoaXMuX2RhdGE9ZTticmVha31jb25zdCBpPW5ldyBNYXA7dGhpcy5fZGF0YT1pLHQuc2V0KHMsaSl9fX1pbml0KCl7cmV0dXJuIFByb21pc2UucmVzb2x2ZSgpfWFzeW5jIGdldCh0LHMpe2lmKHRoaXMuX2RhdGEuaGFzKHQpKXJldHVybiB0aGlzLl9oaXQrKyx0aGlzLl9kYXRhLmdldCh0KT8/dm9pZCAwO3RoaXMuX21pc3MrK31kZXN0cm95KCl7fXB1dCh0LHMpe3JldHVybiB0aGlzLl9kYXRhLnNldCh0LHMpLFByb21pc2UucmVzb2x2ZSgpfXJlbW92ZSh0KXtyZXR1cm4gdGhpcy5fZGF0YS5kZWxldGUodCksUHJvbWlzZS5yZXNvbHZlKCl9Z2V0SGl0UmF0ZSgpe3JldHVybiB0aGlzLl9oaXQvKHRoaXMuX2hpdCt0aGlzLl9taXNzKX19ZXhwb3J0e3MgYXMgSURCTW9ja0NhY2hlfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjMzL2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7Y3JlYXRlIGFzIG99ZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9saWJzL2dsLW1hdHJpeC0yL2ZhY3Rvcmllcy92ZWM0ZjY0LmpzXCI7aW1wb3J0e0NvbG9yTWl4TW9kZUVudW0gYXMgc31mcm9tXCIuLi9zdXBwb3J0L3N5bWJvbENvbG9yVXRpbHMuanNcIjtjbGFzcyB0e2NvbnN0cnVjdG9yKCl7dGhpcy5jb2xvcj1vKCksdGhpcy5jYXN0U2hhZG93cz0hMCx0aGlzLnBpY2thYmxlPSEwLHRoaXMuY29sb3JNaXhNb2RlPXMuTXVsdGlwbHl9fWV4cG9ydHt0IGFzIFN5bWJvbG9neUluZm99O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMzMvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmZ1bmN0aW9uIG4obix0LGUpe2lmKCFlfHxudWxsPT10KXJldHVybiBudWxsO2lmKCFuKXJldHVybiByKHQsZSk7Y29uc3Qgbz1uLmdldChlKTtyZXR1cm4gbz90W28ubmFtZV06bnVsbH1mdW5jdGlvbiByKG4scil7Y29uc3QgdD1yLnRvTG93ZXJDYXNlKCk7Zm9yKGNvbnN0IGUgaW4gbilpZihlLnRvTG93ZXJDYXNlKCk9PT10KXJldHVybiBuW2VdO3JldHVybiBudWxsfWV4cG9ydHtuIGFzIGF0dHJpYnV0ZUxvb2t1cH07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4zMy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0IGUgZnJvbVwiLi4vLi4vLi4vY29yZS9FdmVudGVkLmpzXCI7aW1wb3J0e2ZpbmRJbk1hcCBhcyB0LHNvbWVNYXAgYXMgcn1mcm9tXCIuLi8uLi8uLi9jb3JlL01hcFV0aWxzLmpzXCI7Y2xhc3MgcyBleHRlbmRzIGV7Y29uc3RydWN0b3IoKXtzdXBlciguLi5hcmd1bWVudHMpLHRoaXMuX21hcD1uZXcgTWFwfWNsZWFyKCl7aWYodGhpcy5fbWFwLnNpemU+MCl7Y29uc3QgZT10aGlzLnRvQXJyYXkoKTt0aGlzLl9tYXAuY2xlYXIoKSx0aGlzLmVtaXQoXCJjaGFuZ2VcIix7YWRkZWQ6W10scmVtb3ZlZDplfSl9fWdldCBsZW5ndGgoKXtyZXR1cm4gdGhpcy5fbWFwLnNpemV9Z2V0KGUpe3JldHVybiB0aGlzLl9tYXAuZ2V0KGUpfWFkZE1hbnkoZSl7aWYoMD09PWUubGVuZ3RoKXJldHVybjtjb25zdCB0PW5ldyBTZXQ7Zm9yKGxldCBzPTA7czxlLmxlbmd0aDtzKyspe2NvbnN0IHI9ZVtzXSxvPXIub2JqZWN0SWQsbj10aGlzLl9tYXAuZ2V0KG8pO24/KHQuYWRkKG8pLHIhPT1uJiYoZVtzXT1uKSxuLnJlZkNvdW50fHwobi5yZWZDb3VudD0wKSwrK24ucmVmQ291bnQpOihyLnJlZkNvdW50PTEsdGhpcy5fbWFwLnNldChvLHIpKX1jb25zdCByPXQuc2l6ZT4wP2UuZmlsdGVyKChlPT4hdC5oYXMoZS5vYmplY3RJZCkpKTplO3IubGVuZ3RoPjAmJnRoaXMuZW1pdChcImNoYW5nZVwiLHthZGRlZDpyLHJlbW92ZWQ6W119KX1yZW1vdmVNYW55KGUpe2NvbnN0IHQ9W107Zm9yKGNvbnN0IHIgb2YgZSl7Y29uc3QgZT1yLm9iamVjdElkLHM9dGhpcy5fbWFwLmdldChlKTtudWxsIT1zJiYoIXMucmVmQ291bnR8fC0tcy5yZWZDb3VudDw9MCkmJih0aGlzLl9tYXAuZGVsZXRlKGUpLHQucHVzaChyKSl9dC5sZW5ndGg+MCYmdGhpcy5lbWl0KFwiY2hhbmdlXCIse2FkZGVkOltdLHJlbW92ZWQ6dH0pfXJlbW92ZU1hbnlCeU9iamVjdElkKGUpe2NvbnN0IHQ9W107Zm9yKGNvbnN0IHIgb2YgZSl7Y29uc3QgZT10aGlzLl9tYXAuZ2V0KHIpO251bGwhPWUmJighZS5yZWZDb3VudHx8LS1lLnJlZkNvdW50PD0wKSYmKHRoaXMuX21hcC5kZWxldGUociksdC5wdXNoKGUpKX10Lmxlbmd0aD4wJiZ0aGlzLmVtaXQoXCJjaGFuZ2VcIix7YWRkZWQ6W10scmVtb3ZlZDp0fSl9dG9BcnJheSgpe3JldHVyblsuLi50aGlzLl9tYXAudmFsdWVzKCldfWZpbmQoZSl7cmV0dXJuIHQodGhpcy5fbWFwLGUpfXNvbWUoZSl7cmV0dXJuIHIodGhpcy5fbWFwLGUpfWZvckVhY2goZSl7dGhpcy5fbWFwLmZvckVhY2goKHQ9PmUodCkpKX19ZXhwb3J0e3MgYXMgR3JhcGhpY3NNYXB9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMzMvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydCBlIGZyb21cIi4uLy4uLy4uL2NvcmUvRXZlbnRlZC5qc1wiO2ltcG9ydHtmaW5kSW5NYXAgYXMgdCxzb21lTWFwIGFzIHN9ZnJvbVwiLi4vLi4vLi4vY29yZS9NYXBVdGlscy5qc1wiO2ltcG9ydHtHcmFwaGljc01hcCBhcyBpfWZyb21cIi4vR3JhcGhpY3NNYXAuanNcIjtjbGFzcyBuIGV4dGVuZHMgZXtjb25zdHJ1Y3RvcihlKXtzdXBlcigpLHRoaXMuX2xpbWl0PWUsdGhpcy5fYWxsPW5ldyBpLHRoaXMuX2FjdGl2ZT1uZXcgcih0aGlzKSx0aGlzLl9wZW5kaW5nPW5ldyBNYXAsdGhpcy5faGFuZGxlPXRoaXMuX2FsbC5vbihcImNoYW5nZVwiLChlPT50aGlzLl9oYW5kbGVDaGFuZ2VzKGUpKSl9ZGVzdHJveSgpe3RoaXMuX2hhbmRsZS5yZW1vdmUoKX1nZXQgbGVuZ3RoKCl7cmV0dXJuIHRoaXMuX2FjdGl2ZS5sZW5ndGh9dG9BcnJheSgpe3JldHVybiB0aGlzLl9hY3RpdmUudG9BcnJheSgpfWZpbmQoZSl7cmV0dXJuIHRoaXMuX2FjdGl2ZS5maW5kKGUpfXNvbWUoZSl7cmV0dXJuIHRoaXMuX2FjdGl2ZS5zb21lKGUpfWZvckVhY2goZSl7dGhpcy5fYWN0aXZlLmZvckVhY2goZSl9YWRkTWFueShlKXt0aGlzLl9hbGwuYWRkTWFueShlKX1yZW1vdmVNYW55QnlPYmplY3RJZChlKXt0aGlzLl9hbGwucmVtb3ZlTWFueUJ5T2JqZWN0SWQoZSl9X2hhbmRsZUNoYW5nZXMoZSl7bGV0IHQ9ZS5yZW1vdmVkO2lmKHRoaXMuX3BlbmRpbmcuc2l6ZT4wKXt0PW5ldyBBcnJheTtmb3IoY29uc3QgcyBvZiBlLnJlbW92ZWQpdGhpcy5fcGVuZGluZy5kZWxldGUocy5vYmplY3RJZCl8fHQucHVzaChzKX1sZXQgcz10aGlzLl9saW1pdC10aGlzLl9hY3RpdmUubGVuZ3RoK3QubGVuZ3RoO3M8ZS5hZGRlZC5sZW5ndGgmJih0aGlzLl9hY3RpdmUucmVtb3ZlTWFueSh0KSx0PVtdLGEucmVzZXQoMS10aGlzLl9saW1pdC8odGhpcy5fYWN0aXZlLmxlbmd0aCtlLmFkZGVkLmxlbmd0aCkpLHRoaXMuX2FjdGl2ZS5mb3JFYWNoKChlPT57YS5zYW1wbGUoKSYmKHQucHVzaChlKSx0aGlzLl9wZW5kaW5nLnNldChlLm9iamVjdElkLGUpKX0pKSxzPXRoaXMuX2xpbWl0LXRoaXMuX2FjdGl2ZS5sZW5ndGgrdC5sZW5ndGgpO2xldCBpPWUuYWRkZWQ7aWYoczxlLmFkZGVkLmxlbmd0aCl7aT1uZXcgQXJyYXksYS5yZXNldChzL2UuYWRkZWQubGVuZ3RoKTtmb3IoY29uc3QgdCBvZiBlLmFkZGVkKWEuc2FtcGxlKCk/aS5wdXNoKHQpOnRoaXMuX3BlbmRpbmcuc2V0KHQub2JqZWN0SWQsdCl9Y29uc3Qgbj1zLWkubGVuZ3RoO24+MCYmdGhpcy5fcGVuZGluZy5zaXplPjAmJihhLnJlc2V0KG4vdGhpcy5fcGVuZGluZy5zaXplKSx0aGlzLl9wZW5kaW5nLmZvckVhY2goKGU9PnthLnNhbXBsZSgpJiYoaS5wdXNoKGUpLHRoaXMuX3BlbmRpbmcuZGVsZXRlKGUub2JqZWN0SWQpKX0pKSksdGhpcy5fYWN0aXZlLmFkZEFuZFJlbW92ZShpLHQpfX1jbGFzcyBoe2NvbnN0cnVjdG9yKCl7dGhpcy5fcGVyY2VudGFnZT0xLHRoaXMuX2xhc3Q9LTEsdGhpcy5faW5kZXg9MH1yZXNldChlKXt0aGlzLl9wZXJjZW50YWdlPWUsdGhpcy5fbGFzdD0tMX1zYW1wbGUoKXtjb25zdCBlPU1hdGguZmxvb3IodGhpcy5faW5kZXgqdGhpcy5fcGVyY2VudGFnZSk7cmV0dXJuKyt0aGlzLl9pbmRleCxlIT09dGhpcy5fbGFzdCYmKHRoaXMuX2xhc3Q9ZSwhMCl9fWNvbnN0IGE9bmV3IGg7Y2xhc3Mgcntjb25zdHJ1Y3RvcihlKXt0aGlzLl9wYXJlbnQ9ZSx0aGlzLl9tYXA9bmV3IE1hcH1nZXQgbGVuZ3RoKCl7cmV0dXJuIHRoaXMuX21hcC5zaXplfWZvckVhY2goZSl7dGhpcy5fbWFwLmZvckVhY2goKHQ9PmUodCkpKX1maW5kKGUpe3JldHVybiB0KHRoaXMuX21hcCxlKX1zb21lKGUpe3JldHVybiBzKHRoaXMuX21hcCxlKX10b0FycmF5KCl7cmV0dXJuIEFycmF5LmZyb20odGhpcy5fbWFwLnZhbHVlcygpKX1hZGRBbmRSZW1vdmUoZSx0KXtmb3IoY29uc3QgcyBvZiBlKXRoaXMuX21hcC5zZXQocy5vYmplY3RJZCxzKTtmb3IoY29uc3QgcyBvZiB0KXRoaXMuX21hcC5kZWxldGUocy5vYmplY3RJZCk7KGUubGVuZ3RoPjB8fHQubGVuZ3RoPjApJiZ0aGlzLl9wYXJlbnQuZW1pdChcImNoYW5nZVwiLHthZGRlZDplLHJlbW92ZWQ6dH0pfXJlbW92ZU1hbnkoZSl7Zm9yKGNvbnN0IHQgb2YgZSl0aGlzLl9tYXAuZGVsZXRlKHQub2JqZWN0SWQpO2UubGVuZ3RoPjAmJnRoaXMuX3BhcmVudC5lbWl0KFwiY2hhbmdlXCIse2FkZGVkOltdLHJlbW92ZWQ6ZX0pfX1leHBvcnR7biBhcyBMaW1pdEdyYXBoaWNzTWFwfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjMzL2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7Z2V0RmVhdHVyZUVkaXRGaWVsZHMgYXMgZSxmaXhGaWVsZHMgYXMgbH1mcm9tXCIuLi8uLi8uLi9sYXllcnMvc3VwcG9ydC9maWVsZFV0aWxzLmpzXCI7YXN5bmMgZnVuY3Rpb24gbihuLHA9bi5wb3B1cFRlbXBsYXRlKXtpZihudWxsPT1wKXJldHVybltdO2NvbnN0IHU9YXdhaXQgcC5nZXRSZXF1aXJlZEZpZWxkcyhuLmZpZWxkc0luZGV4KSx7bGFzdEVkaXRJbmZvRW5hYmxlZDp0fT1wLHtvYmplY3RJZEZpZWxkOmQsdHlwZUlkRmllbGQ6cyxnbG9iYWxJZEZpZWxkOmkscmVsYXRpb25zaGlwczphfT1uO2lmKHUuaW5jbHVkZXMoXCIqXCIpKXJldHVybltcIipcIl07Y29uc3Qgbz10P2Uobik6W10sZj1sKG4uZmllbGRzSW5kZXgsWy4uLnUsLi4ub10pO3JldHVybiBzJiZmLnB1c2gocyksZiYmZCYmbi5maWVsZHNJbmRleD8uaGFzKGQpJiYhZi5pbmNsdWRlcyhkKSYmZi5wdXNoKGQpLGYmJmkmJm4uZmllbGRzSW5kZXg/LmhhcyhpKSYmIWYuaW5jbHVkZXMoaSkmJmYucHVzaChpKSxhJiZhLmZvckVhY2goKGU9Pntjb25zdHtrZXlGaWVsZDpsfT1lO2YmJmwmJm4uZmllbGRzSW5kZXg/LmhhcyhsKSYmIWYuaW5jbHVkZXMobCkmJmYucHVzaChsKX0pKSxmfWZ1bmN0aW9uIHAoZSxsKXtyZXR1cm4gZS5wb3B1cFRlbXBsYXRlP2UucG9wdXBUZW1wbGF0ZTpudWxsIT1sJiZsLmRlZmF1bHRQb3B1cFRlbXBsYXRlRW5hYmxlZCYmbnVsbCE9ZS5kZWZhdWx0UG9wdXBUZW1wbGF0ZT9lLmRlZmF1bHRQb3B1cFRlbXBsYXRlOm51bGx9ZnVuY3Rpb24gdShlLGwpe3JldHVybiBudWxsIT1wKGUse2RlZmF1bHRQb3B1cFRlbXBsYXRlRW5hYmxlZDpsfSl9ZXhwb3J0e3AgYXMgZ2V0RmV0Y2hQb3B1cFRlbXBsYXRlLG4gYXMgZ2V0UmVxdWlyZWRGaWVsZHMsdSBhcyBoYXNQb3B1cFRlbXBsYXRlfTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==