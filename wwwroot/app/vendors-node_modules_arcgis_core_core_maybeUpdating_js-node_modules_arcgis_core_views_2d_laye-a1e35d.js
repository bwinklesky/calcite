export const __webpack_id__ = "vendors-node_modules_arcgis_core_core_maybeUpdating_js-node_modules_arcgis_core_views_2d_laye-a1e35d";
export const __webpack_ids__ = ["vendors-node_modules_arcgis_core_core_maybeUpdating_js-node_modules_arcgis_core_views_2d_laye-a1e35d"];
export const __webpack_modules__ = {

/***/ "./node_modules/@arcgis/core/core/maybeUpdating.js":
/*!*********************************************************!*\
  !*** ./node_modules/@arcgis/core/core/maybeUpdating.js ***!
  \*********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   isUpdating: () => (/* binding */ u),
/* harmony export */   unwrapUpdating: () => (/* binding */ t),
/* harmony export */   updating: () => (/* binding */ n)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
const n="updating";function t(n){return"updating"===n?null:n}function u(n){return"updating"===n}


/***/ }),

/***/ "./node_modules/@arcgis/core/layers/support/timeSupport.js":
/*!*****************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/support/timeSupport.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   combineTimeExtent: () => (/* binding */ i)
/* harmony export */ });
/* harmony import */ var _support_timeUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../support/timeUtils.js */ "./node_modules/@arcgis/core/support/timeUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
function i(i,n,s){if(null==i?.timeInfo)return null;const{datesInUnknownTimezone:l=!1,timeOffset:o,useViewTime:m}=i;let u=i.timeExtent;l&&(u=(0,_support_timeUtils_js__WEBPACK_IMPORTED_MODULE_0__.toLocalTimeExtent)(u));let r=m?n&&u?n.intersection(u):n||u:u;return!r||r.isEmpty||r.isAllTime?r:(o&&(r=r.offset(-o.value,o.unit)),l&&(r=(0,_support_timeUtils_js__WEBPACK_IMPORTED_MODULE_0__.toUTCTimeExtent)(r)),r.equals(s)?s:r)}


/***/ }),

/***/ "./node_modules/@arcgis/core/support/timeUtils.js":
/*!********************************************************!*\
  !*** ./node_modules/@arcgis/core/support/timeUtils.js ***!
  \********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   getTimeExtentFromLayers: () => (/* binding */ a),
/* harmony export */   getTimeSliderSettingsFromWebDocument: () => (/* binding */ c),
/* harmony export */   toLocalTimeExtent: () => (/* binding */ p),
/* harmony export */   toUTCTimeExtent: () => (/* binding */ d)
/* harmony export */ });
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_lang_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../core/lang.js */ "./node_modules/@arcgis/core/core/lang.js");
/* harmony import */ var _core_timeUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../core/timeUtils.js */ "./node_modules/@arcgis/core/core/timeUtils.js");
/* harmony import */ var _chunks_TimeExtent_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../chunks/TimeExtent.js */ "./node_modules/@arcgis/core/chunks/TimeExtent.js");
/* harmony import */ var _webmap_utils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../webmap/utils.js */ "./node_modules/@arcgis/core/webmap/utils.js");
/* harmony import */ var _webscene_utils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../webscene/utils.js */ "./node_modules/@arcgis/core/webscene/utils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
function s(t){return void 0!==t.timeInfo}async function u(t,e){return t.widgets?.timeSlider?.fullTimeExtent??a(t.allLayers,e)}function o(t){const e=t.numThumbs??2,n=t.currentTimeExtent;if(n){const{start:t,end:i}=n;return null!=t&&null!=i&&t.getTime()===i.getTime()?"instant":2===e?"time-window":null==t||0===t.getTime()?"cumulative-from-start":"cumulative-from-end"}return 2===e?"time-window":"cumulative-from-start"}function m(t){const{numStops:n,stopInterval:i,stops:r}=t;return r?{dates:(0,_core_lang_js__WEBPACK_IMPORTED_MODULE_1__.clone)(r)}:i?{interval:i.clone()}:{count:n??5}}async function a(e,n){if(0===e.length)return _chunks_TimeExtent_js__WEBPACK_IMPORTED_MODULE_3__.T.allTime;await Promise.all(e.map((t=>t.load({signal:n}))));const r=e.filter(s),l=e.filter((t=>!s(t)&&null!=t.visibilityTimeExtent));if(0===r.length&&0===l.length)return _chunks_TimeExtent_js__WEBPACK_IMPORTED_MODULE_3__.T.allTime;const u=[],o=[];for(const t of r)"feature"!==t?.type&&"map-image"!==t?.type||!t.timeInfo?.hasLiveData?o.push(t):u.push(t);const m=t=>null==t||t.isAllTime,a=[...o.map((t=>{const e=t.timeInfo?.fullTimeExtent,{visibilityTimeExtent:n}=t;return e?.intersection(n)??n})),...l.map((t=>t.visibilityTimeExtent))];if(a.some(m))return _chunks_TimeExtent_js__WEBPACK_IMPORTED_MODULE_3__.T.allTime;const f=u.map((async t=>{const e=(await t.fetchRecomputedExtents({signal:n}))?.timeExtent??t.timeInfo?.fullTimeExtent,{visibilityTimeExtent:i}=t;return e?.intersection(i)??i})),c=(await Promise.allSettled(f)).map((t=>"fulfilled"===t.status?t.value:null));if(c.some(m))return _chunks_TimeExtent_js__WEBPACK_IMPORTED_MODULE_3__.T.allTime;const d=[...c,...a].filter(_core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_0__.isSome);if(0===d.length)return _chunks_TimeExtent_js__WEBPACK_IMPORTED_MODULE_3__.T.allTime;return d.reduce(((t,e)=>t.union(e)))}function f(t,e){const n=t.currentTimeExtent;if(!n)return null;const{start:r,end:l}=n,s=r??l??null;switch(e){case"time-window":return new _chunks_TimeExtent_js__WEBPACK_IMPORTED_MODULE_3__.T({start:r,end:l});case"cumulative-from-start":return new _chunks_TimeExtent_js__WEBPACK_IMPORTED_MODULE_3__.T({start:null,end:s});case"cumulative-from-end":return new _chunks_TimeExtent_js__WEBPACK_IMPORTED_MODULE_3__.T({start:s,end:null});case"instant":return new _chunks_TimeExtent_js__WEBPACK_IMPORTED_MODULE_3__.T({start:s,end:s})}}async function c(t,e){if(!(0,_webmap_utils_js__WEBPACK_IMPORTED_MODULE_4__.isWebMap)(t)&&!(0,_webscene_utils_js__WEBPACK_IMPORTED_MODULE_5__.isWebScene)(t))return null;await t.load({signal:e});const n=t?.widgets?.timeSlider;if(!n)return null;const i=await u(t,e),s=n.loop,a=o(n);return{fullTimeExtent:i,loop:s,mode:a,playRate:n.stopDelay??2e3,stops:m(n),timeExtent:f(n,a)}}function d(t){if(!t)return t;const{start:e,end:r}=t;return new _chunks_TimeExtent_js__WEBPACK_IMPORTED_MODULE_3__.T({start:null!=e?(0,_core_timeUtils_js__WEBPACK_IMPORTED_MODULE_2__.offsetDate)(e,-e.getTimezoneOffset(),"minutes"):e,end:null!=r?(0,_core_timeUtils_js__WEBPACK_IMPORTED_MODULE_2__.offsetDate)(r,-r.getTimezoneOffset(),"minutes"):r})}function p(t){if(!t)return t;const{start:e,end:r}=t;return new _chunks_TimeExtent_js__WEBPACK_IMPORTED_MODULE_3__.T({start:null!=e?(0,_core_timeUtils_js__WEBPACK_IMPORTED_MODULE_2__.offsetDate)(e,e.getTimezoneOffset(),"minutes"):e,end:null!=r?(0,_core_timeUtils_js__WEBPACK_IMPORTED_MODULE_2__.offsetDate)(r,r.getTimezoneOffset(),"minutes"):r})}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/features/layerAdapters/featureServiceUtils.js":
/*!*************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/features/layerAdapters/featureServiceUtils.js ***!
  \*************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   createFeatureIdInfo: () => (/* binding */ e),
/* harmony export */   createSnapshotInfo: () => (/* binding */ t)
/* harmony export */ });
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
function e(e){const{objectIdField:t,uniqueIdFields:r}=e;return r?.length?r.length>=2?{type:"unique-id-composite",fieldNames:r}:{type:"unique-id-simple",fieldName:r[0]}:{type:"object-id",fieldName:t}}function t(e,t,s,a,l,u){const m=o(a);if(!(!!(0,_core_has_js__WEBPACK_IMPORTED_MODULE_0__["default"])("featurelayer-snapshot-enabled")&&s?.query.supportsPagination&&!s?.operations.supportsEditing&&!t))return null;const h=i(l,u),{min:p,max:c}=m,y=h?c:p,d=n(a);let f=(0,_core_has_js__WEBPACK_IMPORTED_MODULE_0__["default"])("featurelayer-snapshot-initial-tolerance");return"esriGeometryPoint"!==a&&"esriGeometryMultipoint"!==a||(f=null),{supportsExceedsLimit:r(e,s),initialTolerance:f,maxFeatureCount:y,maxVertexCount:d}}function r(e,t){return!(!e&&!(0,_core_has_js__WEBPACK_IMPORTED_MODULE_0__["default"])("featurelayer-snapshot-non-hosted-exceedslimit-enabled"))&&t?.operations.supportsExceedsLimitStatistics}function n(e){switch(e){case"esriGeometryPoint":return null;case"esriGeometryPolyline":case"esriGeometryPolygon":case"esriGeometryMultiPatch":case"esriGeometryMultipoint":return (0,_core_has_js__WEBPACK_IMPORTED_MODULE_0__["default"])("featurelayer-snapshot-max-vertex-count")}}function i(e,t){const r=t?.clone().intersection(e),n=null!=r?r.width*r.height:0,i=t?t.width*t.height:0,o=0===i?0:n/i,s=(0,_core_has_js__WEBPACK_IMPORTED_MODULE_0__["default"])("featurelayer-snapshot-coverage");return!isNaN(o)&&o>=s}function o(e){switch(e){case"esriGeometryMultipoint":return{min:(0,_core_has_js__WEBPACK_IMPORTED_MODULE_0__["default"])("featurelayer-snapshot-multipoint-min-threshold"),max:(0,_core_has_js__WEBPACK_IMPORTED_MODULE_0__["default"])("featurelayer-snapshot-multipoint-max-threshold")};case"esriGeometryPoint":return{min:(0,_core_has_js__WEBPACK_IMPORTED_MODULE_0__["default"])("featurelayer-snapshot-point-min-threshold"),max:(0,_core_has_js__WEBPACK_IMPORTED_MODULE_0__["default"])("featurelayer-snapshot-point-max-threshold")};case"esriGeometryMultiPatch":case"esriGeometryPolygon":return{min:(0,_core_has_js__WEBPACK_IMPORTED_MODULE_0__["default"])("featurelayer-snapshot-polygon-min-threshold"),max:(0,_core_has_js__WEBPACK_IMPORTED_MODULE_0__["default"])("featurelayer-snapshot-polygon-max-threshold")};case"esriGeometryPolyline":return{min:(0,_core_has_js__WEBPACK_IMPORTED_MODULE_0__["default"])("featurelayer-snapshot-polyline-min-threshold"),max:(0,_core_has_js__WEBPACK_IMPORTED_MODULE_0__["default"])("featurelayer-snapshot-polyline-max-threshold")}}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/I3SPointsWorkerHandle.js":
/*!****************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/I3SPointsWorkerHandle.js ***!
  \****************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   I3SPointsWorkerHandle: () => (/* binding */ r)
/* harmony export */ });
/* harmony import */ var _core_workers_WorkerHandle_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../core/workers/WorkerHandle.js */ "./node_modules/@arcgis/core/core/workers/WorkerHandle.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
class r extends _core_workers_WorkerHandle_js__WEBPACK_IMPORTED_MODULE_0__.WorkerHandle{constructor(e){super("SceneLayerWorker","dracoDecompressPointCloudData",{dracoDecompressPointCloudData:e=>[e.geometryBuffer]},e,{hasInitialize:!0})}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/SceneLayerGraphicsView3D.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/SceneLayerGraphicsView3D.js ***!
  \*******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ de)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/maybe.js */ "./node_modules/@arcgis/core/core/maybe.js");
/* harmony import */ var _core_memoryEstimations_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../core/memoryEstimations.js */ "./node_modules/@arcgis/core/core/memoryEstimations.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../core/reactiveUtils.js */ "./node_modules/@arcgis/core/core/reactiveUtils.js");
/* harmony import */ var _core_uid_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../core/uid.js */ "./node_modules/@arcgis/core/core/uid.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_RandomLCG_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../core/RandomLCG.js */ "./node_modules/@arcgis/core/core/RandomLCG.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _chunks_vec32_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../chunks/vec32.js */ "./node_modules/@arcgis/core/chunks/vec32.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../core/libs/gl-matrix-2/factories/vec3f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/vec3f64.js");
/* harmony import */ var _geometry_projection_projectBuffer_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../geometry/projection/projectBuffer.js */ "./node_modules/@arcgis/core/geometry/projection/projectBuffer.js");
/* harmony import */ var _geometry_projection_projectVectorToVector_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../geometry/projection/projectVectorToVector.js */ "./node_modules/@arcgis/core/geometry/projection/projectVectorToVector.js");
/* harmony import */ var _geometry_support_contains_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../geometry/support/contains.js */ "./node_modules/@arcgis/core/geometry/support/contains.js");
/* harmony import */ var _geometry_support_DoubleArray_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../../geometry/support/DoubleArray.js */ "./node_modules/@arcgis/core/geometry/support/DoubleArray.js");
/* harmony import */ var _geometry_support_zscale_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../../geometry/support/zscale.js */ "./node_modules/@arcgis/core/geometry/support/zscale.js");
/* harmony import */ var _layers_LayerConstants_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../../layers/LayerConstants.js */ "./node_modules/@arcgis/core/layers/LayerConstants.js");
/* harmony import */ var _layers_graphics_dehydratedFeatures_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../../layers/graphics/dehydratedFeatures.js */ "./node_modules/@arcgis/core/layers/graphics/dehydratedFeatures.js");
/* harmony import */ var _layers_graphics_dehydratedPoint_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../../../layers/graphics/dehydratedPoint.js */ "./node_modules/@arcgis/core/layers/graphics/dehydratedPoint.js");
/* harmony import */ var _layers_graphics_hydratedFeatures_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../../../layers/graphics/hydratedFeatures.js */ "./node_modules/@arcgis/core/layers/graphics/hydratedFeatures.js");
/* harmony import */ var _layers_graphics_controllers_I3SOnDemandController_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../../../layers/graphics/controllers/I3SOnDemandController.js */ "./node_modules/@arcgis/core/layers/graphics/controllers/I3SOnDemandController.js");
/* harmony import */ var _layers_support_FeatureFilter_js__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../../../layers/support/FeatureFilter.js */ "./node_modules/@arcgis/core/layers/support/FeatureFilter.js");
/* harmony import */ var _rest_support_Query_js__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ../../../rest/support/Query.js */ "./node_modules/@arcgis/core/rest/support/Query.js");
/* harmony import */ var _support_basemapUtils_js__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ../../../support/basemapUtils.js */ "./node_modules/@arcgis/core/support/basemapUtils.js");
/* harmony import */ var _I3SPointsWorkerHandle_js__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ./I3SPointsWorkerHandle.js */ "./node_modules/@arcgis/core/views/3d/layers/I3SPointsWorkerHandle.js");
/* harmony import */ var _LayerView3D_js__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ./LayerView3D.js */ "./node_modules/@arcgis/core/views/3d/layers/LayerView3D.js");
/* harmony import */ var _graphics_Graphics3DFeatureProcessor_js__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ./graphics/Graphics3DFeatureProcessor.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DFeatureProcessor.js");
/* harmony import */ var _graphics_QueryEngine_js__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ./graphics/QueryEngine.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/QueryEngine.js");
/* harmony import */ var _graphics_QueryEngineContext_js__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ./graphics/QueryEngineContext.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/QueryEngineContext.js");
/* harmony import */ var _i3s_featureEditing_js__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ./i3s/featureEditing.js */ "./node_modules/@arcgis/core/views/3d/layers/i3s/featureEditing.js");
/* harmony import */ var _i3s_I3SBinaryReader_js__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! ./i3s/I3SBinaryReader.js */ "./node_modules/@arcgis/core/views/3d/layers/i3s/I3SBinaryReader.js");
/* harmony import */ var _i3s_I3SGraphicsMap_js__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! ./i3s/I3SGraphicsMap.js */ "./node_modules/@arcgis/core/views/3d/layers/i3s/I3SGraphicsMap.js");
/* harmony import */ var _i3s_I3SOverrides_js__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(/*! ./i3s/I3SOverrides.js */ "./node_modules/@arcgis/core/views/3d/layers/i3s/I3SOverrides.js");
/* harmony import */ var _i3s_I3SUtil_js__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__(/*! ./i3s/I3SUtil.js */ "./node_modules/@arcgis/core/views/3d/layers/i3s/I3SUtil.js");
/* harmony import */ var _support_DefinitionExpressionSceneLayerView_js__WEBPACK_IMPORTED_MODULE_36__ = __webpack_require__(/*! ./support/DefinitionExpressionSceneLayerView.js */ "./node_modules/@arcgis/core/views/3d/layers/support/DefinitionExpressionSceneLayerView.js");
/* harmony import */ var _support_fieldProperties_js__WEBPACK_IMPORTED_MODULE_37__ = __webpack_require__(/*! ./support/fieldProperties.js */ "./node_modules/@arcgis/core/views/3d/layers/support/fieldProperties.js");
/* harmony import */ var _support_LayerViewPerformanceInfo_js__WEBPACK_IMPORTED_MODULE_38__ = __webpack_require__(/*! ./support/LayerViewPerformanceInfo.js */ "./node_modules/@arcgis/core/views/3d/layers/support/LayerViewPerformanceInfo.js");
/* harmony import */ var _support_PopupSceneLayerView_js__WEBPACK_IMPORTED_MODULE_39__ = __webpack_require__(/*! ./support/PopupSceneLayerView.js */ "./node_modules/@arcgis/core/views/3d/layers/support/PopupSceneLayerView.js");
/* harmony import */ var _support_SceneLayerViewRequiredFields_js__WEBPACK_IMPORTED_MODULE_40__ = __webpack_require__(/*! ./support/SceneLayerViewRequiredFields.js */ "./node_modules/@arcgis/core/views/3d/layers/support/SceneLayerViewRequiredFields.js");
/* harmony import */ var _support_TemporalSceneLayerView_js__WEBPACK_IMPORTED_MODULE_41__ = __webpack_require__(/*! ./support/TemporalSceneLayerView.js */ "./node_modules/@arcgis/core/views/3d/layers/support/TemporalSceneLayerView.js");
/* harmony import */ var _support_debugFlags_js__WEBPACK_IMPORTED_MODULE_42__ = __webpack_require__(/*! ../support/debugFlags.js */ "./node_modules/@arcgis/core/views/3d/support/debugFlags.js");
/* harmony import */ var _support_orientedBoundingBox_js__WEBPACK_IMPORTED_MODULE_43__ = __webpack_require__(/*! ../support/orientedBoundingBox.js */ "./node_modules/@arcgis/core/views/3d/support/orientedBoundingBox.js");
/* harmony import */ var _support_updatingProperties_js__WEBPACK_IMPORTED_MODULE_44__ = __webpack_require__(/*! ../support/updatingProperties.js */ "./node_modules/@arcgis/core/views/3d/support/updatingProperties.js");
/* harmony import */ var _webgl_engine_lib_Attribute_js__WEBPACK_IMPORTED_MODULE_45__ = __webpack_require__(/*! ../webgl-engine/lib/Attribute.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/Attribute.js");
/* harmony import */ var _webgl_engine_lib_UpdatePolicy_js__WEBPACK_IMPORTED_MODULE_46__ = __webpack_require__(/*! ../webgl-engine/lib/UpdatePolicy.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/UpdatePolicy.js");
/* harmony import */ var _layers_SceneLayerView_js__WEBPACK_IMPORTED_MODULE_47__ = __webpack_require__(/*! ../../layers/SceneLayerView.js */ "./node_modules/@arcgis/core/views/layers/SceneLayerView.js");
/* harmony import */ var _layers_support_popupUtils_js__WEBPACK_IMPORTED_MODULE_48__ = __webpack_require__(/*! ../../layers/support/popupUtils.js */ "./node_modules/@arcgis/core/views/layers/support/popupUtils.js");
/* harmony import */ var _support_HighlightDefaults_js__WEBPACK_IMPORTED_MODULE_49__ = __webpack_require__(/*! ../../support/HighlightDefaults.js */ "./node_modules/@arcgis/core/views/support/HighlightDefaults.js");
/* harmony import */ var _support_layerViewUtils_js__WEBPACK_IMPORTED_MODULE_50__ = __webpack_require__(/*! ../../support/layerViewUtils.js */ "./node_modules/@arcgis/core/views/support/layerViewUtils.js");
/* harmony import */ var _support_Scheduler_js__WEBPACK_IMPORTED_MODULE_51__ = __webpack_require__(/*! ../../support/Scheduler.js */ "./node_modules/@arcgis/core/views/support/Scheduler.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
const ae=(0,_support_fieldProperties_js__WEBPACK_IMPORTED_MODULE_37__.defineFieldProperties)();class ne{constructor(e,t,r,i){this.graphics=e,this.featureIds=t,this.attributeInfo=r,this.node=i}get cachedMemory(){return this.graphics.reduce(((e,t)=>(0,_layers_graphics_dehydratedFeatures_js__WEBPACK_IMPORTED_MODULE_19__.estimateSize)(t)+e),(0,_core_memoryEstimations_js__WEBPACK_IMPORTED_MODULE_4__.estimateNumberArrayMemory)(this.featureIds)+1024)}}let le=class extends((0,_support_TemporalSceneLayerView_js__WEBPACK_IMPORTED_MODULE_41__.TemporalSceneLayerView)((0,_support_DefinitionExpressionSceneLayerView_js__WEBPACK_IMPORTED_MODULE_36__.DefinitionExpressionSceneLayerView)((0,_support_PopupSceneLayerView_js__WEBPACK_IMPORTED_MODULE_39__.PopupSceneLayerView)((0,_LayerView3D_js__WEBPACK_IMPORTED_MODULE_27__.LayerView3D)(_layers_SceneLayerView_js__WEBPACK_IMPORTED_MODULE_47__["default"]))))){constructor(){super(...arguments),this.type="scene-layer-graphics-3d",this._queryEngine=null,this._memCache=null,this._interactiveEditingSessions=new Map,this._pendingEditsQueue=Promise.resolve(),this.loadedGraphics=new _i3s_I3SGraphicsMap_js__WEBPACK_IMPORTED_MODULE_33__.I3SGraphicsMap(((e,t,r)=>pe(e,t,r)),(e=>this.processor.graphicsCore.recreateGraphics(e))),this.holeFilling="always",this.progressiveLoadFactor=1,this.supportsHeightUnitConversion=!0,this._coordinatesOutsideExtentErrors=0,this._maxCoordinatesOutsideExtentErrors=20}tryRecycleWith(e,t){return e.url===this.layer.url&&this._i3sOverrides.isEmpty?e.load(t).then((()=>{(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_5__.throwIfAborted)(t),(0,_i3s_I3SUtil_js__WEBPACK_IMPORTED_MODULE_35__.checkRecyclable)(this.layer,e,this._i3sOverrides),this.layer=e,this._i3sOverrides.destroy();const i=this.view.resourceController?.memoryController;this._i3sOverrides=new _i3s_I3SOverrides_js__WEBPACK_IMPORTED_MODULE_34__.I3SOverrides({view:this.view,layer:e,memoryController:i}),(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_3__.destroyMaybe)(this._queryEngine),this._setupQueryEngine(),this.processor.resetObjectStates()})):null}initialize(){this.addResolvingPromise(this.layer.indexInfo);const e=this.view.resourceController?.memoryController;this._i3sOverrides=new _i3s_I3SOverrides_js__WEBPACK_IMPORTED_MODULE_34__.I3SOverrides({view:this.view,layer:this.layer,memoryController:e}),(0,_i3s_I3SUtil_js__WEBPACK_IMPORTED_MODULE_35__.checkSpatialReferences)(this.layer,this.view.spatialReference,this.view.viewingMode),this._fieldsHelper=new _support_SceneLayerViewRequiredFields_js__WEBPACK_IMPORTED_MODULE_40__.SceneLayerViewRequiredFields({layerView:this}),this._updatingHandles.add((()=>this.layer.rangeInfos),(e=>this._rangeInfosChanged(e)),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_6__.initial),this._updatingHandles.add((()=>this.layer.renderer),((e,t)=>this._rendererChange(e,t))),this._updatingHandles.add((()=>[this.parsedDefinitionExpression,this.layer.excludeObjectIds]),(()=>this._filterChange())),this._set("processor",new _graphics_Graphics3DFeatureProcessor_js__WEBPACK_IMPORTED_MODULE_28__.Graphics3DFeatureProcessor({owner:this,preferredUpdatePolicy:_webgl_engine_lib_UpdatePolicy_js__WEBPACK_IMPORTED_MODULE_46__.UpdatePolicy.ASYNC,scaleVisibilityEnabled:!(0,_support_layerViewUtils_js__WEBPACK_IMPORTED_MODULE_50__.hasLayerBasedScaleVisibility)(),filterVisibilityEnabled:!0,timeExtentEnabled:!1,frustumVisibilityEnabled:!1,elevationAlignmentEnabled:!0,elevationFeatureExpressionEnabled:!1,setUidToIdOnAdd:!1,dataExtent:this.layer.fullExtent,updateClippingExtent:e=>this._updateClippingExtent(e)})),this.processor.elevationAlignment?.events.on("invalidate-elevation",(({extent:e,spatialReference:t})=>this._controller.updateElevationChanged(e,t))),this.supportsHeightUnitConversion&&(this._verticalScale=(0,_geometry_support_zscale_js__WEBPACK_IMPORTED_MODULE_17__.getGeometryZScaler)("point",this.layer.spatialReference,this.view.spatialReference)),this.addResolvingPromise(this.processor.when()),this._memCache=this.view.resourceController.memoryController.newCache(`psl-${this.uid}`),this._controller=new _layers_graphics_controllers_I3SOnDemandController_js__WEBPACK_IMPORTED_MODULE_22__["default"]({layerView:this}),(0,_i3s_I3SUtil_js__WEBPACK_IMPORTED_MODULE_35__.containsDraco)(this.layer.geometryDefinitions)&&(this._worker=new _I3SPointsWorkerHandle_js__WEBPACK_IMPORTED_MODULE_26__.I3SPointsWorkerHandle((e=>this.view.resourceController.immediate.schedule(e)))),this.addHandles(this.layer.on("apply-edits",(e=>this._updatingHandles.addPromise(e.result)))),this.addHandles([this.layer.on("edits",(e=>{const t=this._pendingEditsQueue.then((()=>this._handleEdits(e))).then();this._pendingEditsQueue=t,this._updatingHandles.addPromise(t)})),(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_6__.watch)((()=>_support_debugFlags_js__WEBPACK_IMPORTED_MODULE_42__.debugFlags.I3S_TREE_SHOW_TILES),(e=>{if(e&&!this._treeDebugger){const e=this._controller.crsIndex;__webpack_require__.e(/*! import() */ "node_modules_arcgis_core_views_3d_layers_support_I3STreeDebugger_js").then(__webpack_require__.bind(__webpack_require__, /*! ./support/I3STreeDebugger.js */ "./node_modules/@arcgis/core/views/3d/layers/support/I3STreeDebugger.js")).then((({I3STreeDebugger:t})=>{!this._treeDebugger&&_support_debugFlags_js__WEBPACK_IMPORTED_MODULE_42__.debugFlags.I3S_TREE_SHOW_TILES&&(this._treeDebugger=new t({lv:this,view:this.view,nodeSR:e}))}))}else e||!this._treeDebugger||_support_debugFlags_js__WEBPACK_IMPORTED_MODULE_42__.debugFlags.I3S_TREE_SHOW_TILES||(this._treeDebugger.destroy(),this._treeDebugger=null)}),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_6__.initial)]),this.when((()=>{this._setupQueryEngine(),this._updatingHandles.add((()=>this.maximumNumberOfFeatures),(e=>this._controller.featureTarget=e),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_6__.initial),this._updatingHandles.add((()=>this.suspended),(e=>{e&&this._removeAllNodeData()}))}))}destroy(){this._treeDebugger=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_3__.destroyMaybe)(this._treeDebugger),this._i3sOverrides=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_3__.destroyMaybe)(this._i3sOverrides),this._set("processor",(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_3__.destroyMaybe)(this.processor)),this._controller=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_3__.destroyMaybe)(this._controller),this._queryEngine=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_3__.destroyMaybe)(this._queryEngine),this._worker=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_3__.destroyMaybe)(this._worker),this._memCache=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_3__.destroyMaybe)(this._memCache),this.loadedGraphics.clear(),this._fieldsHelper=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_3__.destroyMaybe)(this._fieldsHelper)}get i3slayer(){return this.layer}get layerViewUid(){return this.uid}get updatingProgressValue(){return this._controller?.updatingProgress??1}get visibleAtCurrentScale(){return (0,_support_layerViewUtils_js__WEBPACK_IMPORTED_MODULE_50__.hasLayerBasedScaleVisibility)()?(0,_support_layerViewUtils_js__WEBPACK_IMPORTED_MODULE_50__.isInEffectiveScaleRange)(this.layer.effectiveScaleRange,this.view.scale):!this.processor?.scaleVisibilitySuspended}get requiredFields(){return this._fieldsHelper?.requiredFields??[]}get maximumNumberOfFeatures(){const e=this.processor?.graphicsCore?.displayFeatureLimit;return e?.maximumNumberOfFeatures??0}set maximumNumberOfFeatures(e){null!=e?(this._override("maximumNumberOfFeatures",e),this._controller.fixedFeatureTarget=!0):(this._clearOverride("maximumNumberOfFeatures"),this._controller.fixedFeatureTarget=!1)}get maximumNumberOfFeaturesExceeded(){return!this.suspended&&(!!this._controller?.useMaximumNumberOfFeatures&&!this._controller.leavesReached)}get _excludeObjectIds(){return new Set(this.layer.excludeObjectIds)}get lodFactor(){return"Labels"===this.layer.semantic?1:this.view.qualitySettings.sceneService.point.lodFactor}get hasM(){return!1}get hasZ(){return!0}get contentVisible(){return!this.suspended&&!!this._controller?.rootNodeVisible}get legendEnabled(){return this.contentVisible&&!0===this.i3slayer?.legendEnabled}async whenGraphicAttributes(e,t){return (0,_i3s_I3SUtil_js__WEBPACK_IMPORTED_MODULE_35__.whenGraphicAttributes)(this.layer,e,this._getObjectIdField(),t,(()=>[...this.loadedGraphics.nodes()]))}getHit(e){if(!this.loadedGraphics)return null;const t=(0,_layers_graphics_hydratedFeatures_js__WEBPACK_IMPORTED_MODULE_21__.hydrateGraphic)(this.loadedGraphics.find((t=>t.uid===e)),this.layer),r=this._getObjectIdField();return t?.attributes?.[r]?(t.layer=this.layer,t.sourceLayer=this.layer,{type:"graphic",graphic:t,layer:t.layer}):null}whenGraphicBounds(e,t){return this.processor.whenGraphicBounds(e,t)}computeAttachmentOrigin(e,t){return this.processor.computeAttachmentOrigin(e,t)}isUpdating(){return!!(this._controller?.updating||this.processor?.updating||this._fieldsHelper?.updating||this.layerFilterUpdating)}highlight(e,t){return this.processor.highlight(e,this.layer.objectIdField,t?.name??_support_HighlightDefaults_js__WEBPACK_IMPORTED_MODULE_49__.defaultHighlightName)}get updatePolicy(){return this.processor.graphicsCore.effectiveUpdatePolicy}createInteractiveEditSession(e){return (0,_i3s_featureEditing_js__WEBPACK_IMPORTED_MODULE_31__.createInteractiveEditSession)(this._attributeEditingContext,e)}async _decompressBinaryPointData(e,t){const r={geometryBuffer:e.geometryBuffer};null==this._worker&&(this._worker=new _I3SPointsWorkerHandle_js__WEBPACK_IMPORTED_MODULE_26__.I3SPointsWorkerHandle((e=>this.view.resourceController.immediate.schedule(e))));const i=await this._worker.invoke(r,t);if(null==i)throw new Error("Failed to decompress Draco point data");return{positionData:i.positions,featureIds:i.featureIds}}async addNode(e,r,i){if(!he(r)&&!ue(r))throw new Error;if(this.loadedGraphics.hasNode(e.index))return void _core_Logger_js__WEBPACK_IMPORTED_MODULE_2__["default"].getLogger(this).error("I3S node "+e.id+" already added");const s=null!=this.layer.fullExtent?me(this.layer.fullExtent.clone(),.5):null,{featureIds:o,pointPositions:a}=he(r)?await this._extractBinaryPointPositions(e,r,i):this._extractLegacyPointPositions(r),n=new Array;this._validatePositions(e,o,a,s,n);const l=this._controller.crsVertex,d=this.view.spatialReference;(0,_geometry_projection_projectBuffer_js__WEBPACK_IMPORTED_MODULE_13__.projectBuffer)(a,l,0,a,d,0,o.length);const u=he(r)?e.level:0,h=this._createGraphics(o,a,e.index,u),p=new ne(h,o,r.attributeDataInfo,e);if(await this._i3sOverrides.applyAttributeOverrides(p.featureIds,r.attributeDataInfo,i),e.numFeatures=p.graphics.length,this._updateNodeMemory(e),ce(p),n.length>0&&(this._computeObb(e,n,l),this._controller.updateVisibility(e.index)),!this._controller.isGeometryVisible(e))return void this._cacheNodeData(p);if(null!=this._verticalScale)for(const t of p.graphics)this._verticalScale(t.geometry);const m=this.view.stage.renderView.olidRenderHelper;if(m){const e=(0,_support_basemapUtils_js__WEBPACK_IMPORTED_MODULE_25__.isBasemapLayerView)(this.view,this.uid);for(let t=0;t<p.featureIds.length;t++){const r=p.featureIds[t];m.setUidToObjectAndLayerId(r,p.graphics[t].uid,this.layer.id,this.uid,this.layer.popupEnabled&&!e&&(0,_layers_support_popupUtils_js__WEBPACK_IMPORTED_MODULE_48__.hasPopupTemplate)(this.layer,this.view.popup?.defaultPopupTemplateEnabled),p.node.resources.attributes,t)}}this.loadedGraphics.addNode(e.index,p),this._controller.updateLoadStatus(e.index,!0),this._filterNode(p),this._treeDebugger&&this._treeDebugger.update()}_computeObb(e,t,r){const i=this._controller.crsIndex,s=i.isGeographic?this.view.renderSpatialReference:i;(0,_geometry_projection_projectBuffer_js__WEBPACK_IMPORTED_MODULE_13__.projectBuffer)(t,r,0,t,s,0),e.serviceObbInIndexSR=(0,_support_orientedBoundingBox_js__WEBPACK_IMPORTED_MODULE_43__.compute)(new _webgl_engine_lib_Attribute_js__WEBPACK_IMPORTED_MODULE_45__.Vertices(t,3)),i.isGeographic&&((0,_geometry_projection_projectVectorToVector_js__WEBPACK_IMPORTED_MODULE_14__.projectVectorToVector)(e.serviceObbInIndexSR.center,s,ye,i),e.serviceObbInIndexSR.center=ye)}isNodeLoaded(e){return this.loadedGraphics.hasNode(e)}isNodeReloading(){return!1}updateNodeState(){}getNodeComponentHandle(){}async _extractBinaryPointPositions(e,t,r){const i=await this._decompressBinaryPointData(t,r),s=i.positionData,o=3,a=s.length/o,n=(0,_geometry_support_DoubleArray_js__WEBPACK_IMPORTED_MODULE_16__.newDoubleArray)(3*a),l=null!=e.serviceObbInIndexSR?e.serviceObbInIndexSR.center:_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_12__.ZEROS,d=Math.abs(l[2])*2**-20;for(let u=0;u<a;u++){const e=u*o;n[e]=s[e]+l[0],n[e+1]=s[e+1]+l[1],n[e+2]=s[e+2]+l[2],Math.abs(n[e+2])<d&&(n[e+2]=0)}return{featureIds:i.featureIds?(0,_geometry_support_DoubleArray_js__WEBPACK_IMPORTED_MODULE_16__.doubleArrayFrom)(i.featureIds):[],pointPositions:n}}_extractLegacyPointPositions(e){const t=e.pointData.length,r=(0,_geometry_support_DoubleArray_js__WEBPACK_IMPORTED_MODULE_16__.newDoubleArray)(3*t),i=new Array;for(let s=0;s<t;s++){const t=e.pointData[s],o=t.featureDataPosition,a=o.length,n=t.geometries?.[0]??ge[a],l=t.featureIds[0];if("Embedded"!==n.type||"points"!==n.params.type||a<2||a>3)continue;const d=n.params.vertexAttributes?.position??[0,0,0],u=3*i.length;r[u]=o[0]+d[0],r[u+1]=o[1]+d[1],r[u+2]=3===a?o[2]+d[2]:NaN,i.push(l)}return{featureIds:i,pointPositions:r}}_validatePositions(e,r,i,s,o){if(null==s&&e.serviceObbInIndexSR)return;const a=r.length,n=3;for(let l=0;l<a;l++){const r=l*n;(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_11__.i)(ye,i[r],i[r+1],i[r+2]);const a=!Number.isNaN(i[2]);null==s||(a?(0,_geometry_support_contains_js__WEBPACK_IMPORTED_MODULE_15__.extentContainsCoords3D)(s,ye):(0,_geometry_support_contains_js__WEBPACK_IMPORTED_MODULE_15__.extentContainsCoords2D)(s,ye))||(this._coordinatesOutsideExtentErrors<this._maxCoordinatesOutsideExtentErrors&&_core_Logger_js__WEBPACK_IMPORTED_MODULE_2__["default"].getLogger(this).error("Service Error: Coordinates outside of layer extent"),this._coordinatesOutsideExtentErrors+1===this._maxCoordinatesOutsideExtentErrors&&_core_Logger_js__WEBPACK_IMPORTED_MODULE_2__["default"].getLogger(this).error("Maximum number of errors reached. Further errors are ignored."),this._coordinatesOutsideExtentErrors++),e.serviceObbInIndexSR||o.push(ye[0],ye[1],ye[2])}}_createGraphics(e,t,r,i){const s=e.length,o=3,a=this._getObjectIdField(),l=this.processor.graphicsCore,d=new Array,u=this.view.spatialReference;for(let h=0;h<s;h++){const s=e[h],p={};null!=s&&(p[a]=s);const c=s??(0,_core_uid_js__WEBPACK_IMPORTED_MODULE_7__.generateUID)(),m=h*o,g=isNaN(t[m+2])?void 0:t[m+2],y=(0,_layers_graphics_dehydratedPoint_js__WEBPACK_IMPORTED_MODULE_20__.makeDehydratedPoint)(t[m],t[m+1],g,u),f=this.loadedGraphics.get(c);if(null!=f)(null==f.level||f.level<i)&&(fe.property="geometry",fe.graphic=f,fe.oldValue=f.geometry,fe.newValue=y,f.geometry=y,f.level=i,l.graphicUpdateHandler(fe)),d.push(f);else{const e=(0,_core_uid_js__WEBPACK_IMPORTED_MODULE_7__.generateUID)();d.push({objectId:c,uid:e,geometry:y,attributes:p,visible:!0,nodeIndex:r,level:i})}}return d}_updateNodeMemory(e){e.memory=4096+(e.numFeatures??0)*this.processor.graphicsCore.usedMemoryPerGraphic}_cacheNodeData(e){this._memCache.put(this._getMemCacheKey(e.node),e)}_getMemCacheKey(e){return`${e.index}`}_removeAllNodeData(){this.loadedGraphics.forEachNode(((e,t)=>{if(e){const t=e.node;this._updateNodeMemory(t),this._cacheNodeData(e)}this._controller.updateLoadStatus(t,!1)})),this._treeDebugger&&this._treeDebugger.update(),this.loadedGraphics.clear()}removeNode(e){const t=this._removeNodeStageData(e);t&&(this._updateNodeMemory(t.node),this._cacheNodeData(t))}_removeNodeStageData(e){const t=this.loadedGraphics.getNode(e);return null==t?null:(this._controller.updateLoadStatus(e,!1),this.loadedGraphics.removeNode(e),this._treeDebugger&&this._treeDebugger.update(),t)}async loadCachedNodeData(e){return this._memCache?.pop(this._getMemCacheKey(e))}async addCachedNodeData(e,r,i,s){this.loadedGraphics.hasNode(e.index)?_core_Logger_js__WEBPACK_IMPORTED_MODULE_2__["default"].getLogger(this).error("I3S node "+e.id+" already added"):(await this._i3sOverrides.applyAttributeOverrides(r.featureIds,i,s),r.attributeInfo=i,this.loadedGraphics.addNode(e.index,r),this._controller.updateLoadStatus(e.index,!0),this._updateNodeMemory(e),ce(r),this._filterNode(r),this._treeDebugger&&this._treeDebugger.update())}getLoadedNodeIds(){const e=[];return this.loadedGraphics.forEachNode((t=>e.push(t.node.id))),e.sort()}getVisibleNodes(){const e=new Array;return this.loadedGraphics.forEachNode((t=>e.push(t.node))),e}getLoadedNodeIndices(e){this.loadedGraphics.forEachNode(((t,r)=>e.push(r)))}getLoadedAttributes(e){const t=this.loadedGraphics.getNode(e);if(null!=t?.attributeInfo)return t.attributeInfo.loadedAttributes}getAttributeData(e){const t=this.loadedGraphics.getNode(e);if(null!=t?.attributeInfo)return t.attributeInfo.attributeData}_setAttributeData(e,t){const r=this.loadedGraphics.getNode(e);null!=r?.attributeInfo&&(r.attributeInfo.attributeData=t,this._attributeValuesChanged(r))}async updateAttributes(e,t,r){const i=this.loadedGraphics.getNode(e);null!=i&&(await this._i3sOverrides.applyAttributeOverrides(i.featureIds,t,r),i.attributeInfo=t,this._attributeValuesChanged(i))}_attributeValuesChanged(e){ce(e),this._filterNode(e);const{processor:t}=this,{graphicsCore:r}=t;if(r.labelsEnabled){const t=e.node.index,i=new Array;e.graphics.forEach((e=>e.nodeIndex===t&&i.push(e.uid))),r.updateLabelingInfo(i)}t.refreshFilter()}_updateClippingExtent(e){return this._controller&&this._controller.updateClippingArea(e),!1}_getObjectIdField(){return this.layer.objectIdField||_layers_LayerConstants_js__WEBPACK_IMPORTED_MODULE_18__.fallbackObjectIDAttribute}_getGlobalIdField(){return this.layer.globalIdField}async _rendererChange(e,t){const{layer:{fieldsIndex:r}}=this,i=new Set;let s,o;e?(await e.collectRequiredFields(i,r),s=Array.from(i).sort()):s=[],i.clear(),t?(await t.collectRequiredFields(i,r),o=Array.from(i).sort()):o=[],s.length===o.length&&s.every(((e,t)=>s[t]===o[t]))||this._reloadAllNodes()}_rangeInfosChanged(e){null!=e&&e.length>0&&_core_Logger_js__WEBPACK_IMPORTED_MODULE_2__["default"].getLogger(this).warn("Unsupported property: rangeInfos are currently only serialized to and from web scenes but do not affect rendering.")}_filterChange(){this.loadedGraphics.forEachNode((e=>this._filterNode(e)))}_reloadAllNodes(){this._removeAllNodeData(),this._controller&&this._controller.restartNodeLoading()}_filterNode(e){const t=this.parsedDefinitionExpression,r=this._excludeObjectIds,i=this._getObjectIdField();for(const s of e.graphics){const e=s.visible,o=this._evaluateClause(t,s),a=!r.has(s.attributes[i]);s.visible=o&&a,e!==s.visible&&(fe.graphic=s,fe.property="visible",fe.oldValue=e,fe.newValue=s.visible,this.processor.graphicsCore.graphicUpdateHandler(fe))}}createQuery(){const e={outFields:["*"],returnGeometry:!0,outSpatialReference:this.view.spatialReference};return this.filter?.createQuery(e)??new _rest_support_Query_js__WEBPACK_IMPORTED_MODULE_24__["default"](e)}queryFeatures(e,t){return this._queryEngine.executeQuery(this._ensureQuery(e),t?.signal)}queryObjectIds(e,t){return this._queryEngine.executeQueryForIds(this._ensureQuery(e),t?.signal)}queryFeatureCount(e,t){return this._queryEngine.executeQueryForCount(this._ensureQuery(e),t?.signal)}queryExtent(e,t){return this._queryEngine.executeQueryForExtent(this._ensureQuery(e),t?.signal)}_ensureQuery(e){return this._addDefinitionExpressionToQuery(null==e?this.createQuery():_rest_support_Query_js__WEBPACK_IMPORTED_MODULE_24__["default"].from(e))}_setupQueryEngine(){const{layer:e,view:t,hasM:r,hasZ:i}=this,{spatialReference:s,resourceController:o}=t,a=new _graphics_QueryEngineContext_js__WEBPACK_IMPORTED_MODULE_30__.QueryEngineContext(s,e,o,(()=>this.processor.featureStore),i,r);this._queryEngine=new _graphics_QueryEngine_js__WEBPACK_IMPORTED_MODULE_29__.QueryEngine({context:a,priority:_support_Scheduler_js__WEBPACK_IMPORTED_MODULE_51__.TaskPriority.FEATURE_QUERY_ENGINE})}get usedMemory(){return this.processor?.graphicsCore?.usedMemory??0}get unloadedMemory(){return.8*((this._controller?.unloadedMemoryEstimate??0)+(this.processor?.graphicsCore?.unprocessedMemoryEstimate??0))}get ignoresMemoryFactor(){return this._controller&&this._controller.fixedFeatureTarget}async _handleEdits(e){const t=this._attributeEditingContext,r=await (0,_i3s_featureEditing_js__WEBPACK_IMPORTED_MODULE_31__.normalizeEditResultsEvent)(t,e);(0,_i3s_featureEditing_js__WEBPACK_IMPORTED_MODULE_31__.processAttributeEdits)(t,r)}get _attributeEditingContext(){const e=this._getObjectIdField(),t=this._getGlobalIdField();return{sessions:this._interactiveEditingSessions,fieldsIndex:this.layer.fieldsIndex,objectIdField:e,globalIdField:t,forEachNode:e=>this.loadedGraphics.forEachNode((t=>e(t.node,t.featureIds))),attributeStorageInfo:this.i3slayer.attributeStorageInfo??[],i3sOverrides:this._i3sOverrides,getAttributeData:e=>this.getAttributeData(e),setAttributeData:(t,r,i)=>{this._setAttributeData(t,r);const s=this.loadedGraphics.getNode(t);if(null!=i){const t=this.loadedGraphics.get(i.attributes[e]);null!=t&&this.processor.graphicsCore.recreateGraphics([t])}else null!=s&&this.processor.graphicsCore.recreateGraphics(s.graphics)},clearMemCache:()=>{}}}get performanceInfo(){return new _support_LayerViewPerformanceInfo_js__WEBPACK_IMPORTED_MODULE_38__.LayerViewPerformanceInfo(this.usedMemory,this.loadedGraphics.length,-1,this.maximumNumberOfFeatures,this.loadedGraphics.nodeCount,this.processor.graphicsCore.performanceInfo)}get test(){}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)()],le.prototype,"processor",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)({type:_layers_support_FeatureFilter_js__WEBPACK_IMPORTED_MODULE_23__["default"]})],le.prototype,"filter",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)()],le.prototype,"loadedGraphics",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)()],le.prototype,"i3slayer",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)()],le.prototype,"layerViewUid",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)()],le.prototype,"_controller",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)()],le.prototype,"updating",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)()],le.prototype,"suspended",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)(_support_updatingProperties_js__WEBPACK_IMPORTED_MODULE_44__.updatingProgress)],le.prototype,"updatingProgress",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)()],le.prototype,"updatingProgressValue",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)({readOnly:!0})],le.prototype,"visibleAtCurrentScale",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)(ae.requiredFields)],le.prototype,"requiredFields",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)(ae.availableFields)],le.prototype,"availableFields",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)()],le.prototype,"_fieldsHelper",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)({type:Number})],le.prototype,"maximumNumberOfFeatures",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)({readOnly:!0})],le.prototype,"maximumNumberOfFeaturesExceeded",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)()],le.prototype,"_excludeObjectIds",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)({readOnly:!0})],le.prototype,"lodFactor",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)({readOnly:!0})],le.prototype,"hasM",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)({readOnly:!0})],le.prototype,"hasZ",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)()],le.prototype,"contentVisible",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)({readOnly:!0})],le.prototype,"legendEnabled",null),le=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_10__.subclass)("esri.views.3d.layers.SceneLayerGraphicsView3D")],le);const de=le;function ue(e){return"pointData"in e}function he(e){return"geometryBuffer"in e&&null!==e.geometryBuffer}function pe(e,t,r){const i=t.attributeInfo;if(null==i?.loadedAttributes||null==i.attributeData)return!1;let s=!1;for(const{name:o}of i.loadedAttributes)if(i.attributeData[o]){const t=(0,_i3s_I3SBinaryReader_js__WEBPACK_IMPORTED_MODULE_32__.getCachedAttributeValue)(i.attributeData[o],r);t!==e.attributes[o]&&(e.attributes[o]=t,s=!0)}return s}function ce(e){const t=e.attributeInfo;if(null==t?.loadedAttributes||null==t.attributeData)return;const r=e.node.index;for(let i=0;i<e.graphics.length;i++){const s=e.graphics[i];if(s.nodeIndex===r){s.attributes||(s.attributes={});for(const{name:e}of t.loadedAttributes)t.attributeData[e]&&(s.attributes[e]=(0,_i3s_I3SBinaryReader_js__WEBPACK_IMPORTED_MODULE_32__.getCachedAttributeValue)(t.attributeData[e],i))}}}function me(e,t){return e.xmin-=t,e.ymin-=t,e.xmax+=t,e.ymax+=t,null!=e.zmin&&null!=e.zmax&&(e.zmin-=t,e.zmax+=t),null!=e.mmin&&null!=e.mmax&&(e.mmin-=t,e.mmax+=t),e}const ge={2:{type:"Embedded",params:{type:"points",vertexAttributes:{position:[0,0]}}},3:{type:"Embedded",params:{type:"points",vertexAttributes:{position:[0,0,0]}}}},ye=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_12__.create)(),fe={graphic:null,property:null,oldValue:null,newValue:null};


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/i3s/I3SGraphicsMap.js":
/*!*************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/i3s/I3SGraphicsMap.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   I3SGraphicsMap: () => (/* binding */ i)
/* harmony export */ });
/* harmony import */ var _core_Evented_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/Evented.js */ "./node_modules/@arcgis/core/core/Evented.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_MapUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core/MapUtils.js */ "./node_modules/@arcgis/core/core/MapUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
class i extends _core_Evented_js__WEBPACK_IMPORTED_MODULE_0__["default"]{constructor(e,t){super(),this._updateAndCompare=e,this._notifyUpdated=t,this._nodes=new Map,this._graphics=new Map,this._duplicates=new Map}clear(){if(this._graphics.size>0){const e=this.toArray();this._graphics.clear(),this.emit("change",{added:[],removed:e})}this._nodes.clear()}get length(){return this._graphics.size}get(e){return this._graphics.get(e)}getNode(e){return this._nodes.get(e)}hasNode(e){return this._nodes.has(e)}nodes(){return this._nodes.values()}addNode(e,t){this._nodes.set(e,t);const s=t.graphics;if(0===s.length)return;const i=new Set;for(let o=0;o<s.length;o++){const t=s[o],n=t.objectId,h=this._graphics.get(n);if(h){i.add(n),t!==h&&(s[o]=h);const r=this._duplicates.get(n);r?r.push(e):this._duplicates.set(n,[h.nodeIndex,e])}else t.nodeIndex=e,this._graphics.set(n,t)}i.size&&this._updateForeignGraphics(t);const n=i.size>0?s.filter((e=>!i.has(e.objectId))):s;n.length>0&&this.emit("change",{added:n,removed:[]})}removeNode(e){const t=this._nodes.get(e);if(!t)return;this._nodes.delete(e);const s=new Set,i=[];for(const n of t.graphics){const t=n.objectId,o=this._graphics.get(t);if(!o)continue;const h=this._duplicates.get(t);if(h){const i=h.indexOf(e);if(-1===i)continue;if(h.splice(i,1),o.nodeIndex===e){let e=this.getNode(h[0]);for(let t=1;t<h.length;t++){const s=this.getNode(h[t]);(null==e||null!=s&&s.node.level>e.node.level)&&(e=s)}null!=e&&s.add(e)}1===h.length&&this._duplicates.delete(t)}else this._graphics.delete(t),i.push(n)}i.length>0&&this.emit("change",{added:[],removed:i}),s.forEach((e=>this._updateForeignGraphics(e)))}_updateForeignGraphics(e){const t=[],s=e.node.index,i=e.node.level;let n=0;for(;n<e.graphics.length;){const o=e.graphics[n].nodeIndex;if(o===s){n++;continue}let h=1;for(;n+h<e.graphics.length&&e.graphics[n+h].nodeIndex===o;)h++;const r=this.getNode(o);if(null!=r&&r.node.level>i)n+=h;else{for(let i=n;i<n+h;i++){const n=e.graphics[i];n.nodeIndex=s,this._updateAndCompare(n,e,i)&&t.push(n)}n+=h}}t.length>0&&this._notifyUpdated(t)}toArray(){return Array.from(this._graphics.values())}find(e){return (0,_core_MapUtils_js__WEBPACK_IMPORTED_MODULE_2__.findInMap)(this._graphics,e)}some(e){return (0,_core_MapUtils_js__WEBPACK_IMPORTED_MODULE_2__.someMap)(this._graphics,e)}forEach(e){this._graphics.forEach((t=>e(t)))}forEachNode(e){this._nodes.forEach(((t,s)=>e(t,s)))}get nodeCount(){return this._nodes.size}_checkInvariants(){const e=new Map;this._nodes.forEach(((t,s)=>{t.graphics.forEach((t=>{e.set(t.objectId,1+(e.get(t.objectId)??0)),this._duplicates.get(t.objectId)}))})),e.forEach(((e,t)=>{const s=this._graphics.get(t);if(!s)return;if(!this._nodes.get(s.nodeIndex))return;const i=this._duplicates.get(t);i&&i.forEach((e=>{this._nodes.get(e)}))}))}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/support/DefinitionExpressionSceneLayerView.js":
/*!*************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/support/DefinitionExpressionSceneLayerView.js ***!
  \*************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   DefinitionExpressionSceneLayerView: () => (/* binding */ t)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_RandomLCG_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../core/RandomLCG.js */ "./node_modules/@arcgis/core/core/RandomLCG.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _core_sql_WhereClause_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../core/sql/WhereClause.js */ "./node_modules/@arcgis/core/core/sql/WhereClause.js");
/* harmony import */ var _i3s_I3SUtil_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../i3s/I3SUtil.js */ "./node_modules/@arcgis/core/views/3d/layers/i3s/I3SUtil.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
const t=t=>{let p=class extends t{constructor(){super(...arguments),this._definitionExpressionErrors=0,this._maxDefinitionExpressionErrors=20,this.logError=r=>{this._definitionExpressionErrors<this._maxDefinitionExpressionErrors&&_core_Logger_js__WEBPACK_IMPORTED_MODULE_1__["default"].getLogger(this).error("Error while evaluating definitionExpression: "+r),this._definitionExpressionErrors++,this._definitionExpressionErrors===this._maxDefinitionExpressionErrors&&_core_Logger_js__WEBPACK_IMPORTED_MODULE_1__["default"].getLogger(this).error("Further errors are ignored")}}get parsedDefinitionExpression(){if(!this.i3slayer?.definitionExpression)return null;try{const r=_core_sql_WhereClause_js__WEBPACK_IMPORTED_MODULE_6__["default"].create(this.i3slayer.definitionExpression,{fieldsIndex:this.i3slayer.fieldsIndex});if(!r.isStandardized)return _core_Logger_js__WEBPACK_IMPORTED_MODULE_1__["default"].getLogger(this).error("definitionExpression is using non standard function"),null;const i=[],s=r.fieldNames;return (0,_i3s_I3SUtil_js__WEBPACK_IMPORTED_MODULE_7__.findFieldsCaseInsensitive)(s,this.i3slayer.fieldsIndex,{missingFields:i}),i.length>0?(_core_Logger_js__WEBPACK_IMPORTED_MODULE_1__["default"].getLogger(this).error(`definitionExpression references unknown fields: ${i.join(", ")}`),null):(this._definitionExpressionErrors=0,r)}catch(r){return _core_Logger_js__WEBPACK_IMPORTED_MODULE_1__["default"].getLogger(this).error("Failed to parse definitionExpression: "+r),null}}get definitionExpressionFields(){return this.parsedDefinitionExpression?this.parsedDefinitionExpression.fieldNames:[]}_evaluateClause(r,e){if(null==r)return!0;try{return r.testFeature(e)}catch(i){return this.logError(i),!1}}_addDefinitionExpressionToQuery(r){if(!this.parsedDefinitionExpression)return r;const e=this.i3slayer.definitionExpression,i=r.clone();return i.where?i.where=`(${e}) AND (${i.where})`:i.where=e,i}};return (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)({readOnly:!0})],p.prototype,"parsedDefinitionExpression",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)({readOnly:!0})],p.prototype,"definitionExpressionFields",null),p=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_5__.subclass)("esri.views.3d.layers.support.DefinitionExpressionSceneLayerView")],p),p};


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/support/TemporalSceneLayerView.js":
/*!*************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/support/TemporalSceneLayerView.js ***!
  \*************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   TemporalSceneLayerView: () => (/* binding */ u)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_RandomLCG_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../core/RandomLCG.js */ "./node_modules/@arcgis/core/core/RandomLCG.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _layers_graphics_data_timeSupport_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../layers/graphics/data/timeSupport.js */ "./node_modules/@arcgis/core/layers/graphics/data/timeSupport.js");
/* harmony import */ var _layers_support_FeatureFilter_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../layers/support/FeatureFilter.js */ "./node_modules/@arcgis/core/layers/support/FeatureFilter.js");
/* harmony import */ var _layers_support_timeSupport_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../layers/support/timeSupport.js */ "./node_modules/@arcgis/core/layers/support/timeSupport.js");
/* harmony import */ var _i3s_I3SBinaryReader_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../i3s/I3SBinaryReader.js */ "./node_modules/@arcgis/core/views/3d/layers/i3s/I3SBinaryReader.js");
/* harmony import */ var _i3s_I3SUtil_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../i3s/I3SUtil.js */ "./node_modules/@arcgis/core/views/3d/layers/i3s/I3SUtil.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
const u=i=>{let o=class extends i{get timeExtent(){return (0,_layers_support_timeSupport_js__WEBPACK_IMPORTED_MODULE_8__.combineTimeExtent)(this.i3slayer,this.view?.timeExtent,this._get("timeExtent"))}get mergedFilter(){const{filter:t,timeExtent:e}=this;if(null==e)return t;const r=t?.clone()??new _layers_support_FeatureFilter_js__WEBPACK_IMPORTED_MODULE_7__["default"];return null!=e&&(r.timeExtent=r.timeExtent?.intersection(e)??e),r}getTimeFilterDependencies(){const{timeInfo:t}=this.i3slayer;if(null==t)return[];const{startField:e,endField:r}=t;return[e,r]}addTimeFilter(t,e){if(null==e)return;const{timeInfo:r}=this.i3slayer;if(null==r)return;const{startField:i,endField:s,useTime:n}=r;if(!n||null==i&&null==s)return;const o=r.toJSON(),l=e.toJSON();t.push(((t,e)=>a(t,e,o,l)))}};return (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_1__.property)({readOnly:!0})],o.prototype,"timeExtent",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_1__.property)()],o.prototype,"mergedFilter",null),o=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_5__.subclass)("esri.views.3d.layers.support.TemporalSceneLayerView")],o),o};function a(t,e,r,s){const n=e.attributeInfo?.attributeData;if(null==n)return;const{startTimeField:o,endTimeField:u}=r;if(!!(null!=o&&null==n[o]||null!=u&&null==n[u]))return;const a=(0,_layers_graphics_data_timeSupport_js__WEBPACK_IMPORTED_MODULE_6__.getTimeOperator)(r,s,new m(n));if(null==a)return;const{featureIds:p}=e;(0,_i3s_I3SUtil_js__WEBPACK_IMPORTED_MODULE_10__.filterInPlace)(t,p,a)}class m{constructor(t){this.attributeData=t}getAttribute(t,e){return (0,_i3s_I3SBinaryReader_js__WEBPACK_IMPORTED_MODULE_9__.getCachedAttributeValue)(this.attributeData[e],t)}getAttributeAsTimestamp(t,e){const r=this.getAttribute(t,e);return"string"==typeof r?new Date(r).getTime():"number"==typeof r||null==r?r:null}}


/***/ }),

/***/ "./node_modules/@arcgis/core/webscene/utils.js":
/*!*****************************************************!*\
  !*** ./node_modules/@arcgis/core/webscene/utils.js ***!
  \*****************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   isWebScene: () => (/* binding */ t)
/* harmony export */ });
/* harmony import */ var _support_tagSymbols_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../support/tagSymbols.js */ "./node_modules/@arcgis/core/support/tagSymbols.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
function t(t){return null!=t&&"object"==typeof t&&_support_tagSymbols_js__WEBPACK_IMPORTED_MODULE_0__.WebSceneTag in t}


/***/ })

};

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmVuZG9ycy1ub2RlX21vZHVsZXNfYXJjZ2lzX2NvcmVfY29yZV9tYXliZVVwZGF0aW5nX2pzLW5vZGVfbW9kdWxlc19hcmNnaXNfY29yZV92aWV3c18yZF9sYXllLWExZTM1ZC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsY0FBYyw0QkFBNEIsY0FBYyxxQkFBK0U7Ozs7Ozs7Ozs7Ozs7Ozs7QUNKMUo7QUFDQTtBQUNBO0FBQ0E7QUFDb0Ysa0JBQWtCLGlDQUFpQyxNQUFNLHVEQUF1RCxHQUFHLG1CQUFtQixNQUFNLHdFQUFDLEtBQUssc0NBQXNDLDJFQUEyRSxzRUFBQyxzQkFBcUQ7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ0o3WTtBQUNBO0FBQ0E7QUFDQTtBQUNxUixjQUFjLDJCQUEyQixzQkFBc0IsK0RBQStELGNBQWMsNkNBQTZDLE1BQU0sTUFBTSxjQUFjLEdBQUcsd0pBQXdKLG1EQUFtRCxjQUFjLE1BQU0sa0NBQWtDLEdBQUcsVUFBVSxNQUFNLG9EQUFDLElBQUksSUFBSSxtQkFBbUIsRUFBRSxZQUFZLHNCQUFzQix1QkFBdUIsb0RBQUMsU0FBUyxvQ0FBb0MsU0FBUyxLQUFLLHlFQUF5RSxxQ0FBcUMsb0RBQUMsU0FBUyxnQkFBZ0IsMEdBQTBHLGlEQUFpRCxvQ0FBb0MsdUJBQXVCLEdBQUcsNkJBQTZCLDBDQUEwQyxvQkFBb0Isb0RBQUMsU0FBUyx5QkFBeUIseUNBQXlDLFNBQVMsNENBQTRDLHVCQUF1QixHQUFHLDZCQUE2QixpRkFBaUYsb0JBQW9CLG9EQUFDLFNBQVMsMkJBQTJCLHVEQUFDLEVBQUUsdUJBQXVCLG9EQUFDLFNBQVMscUNBQXFDLGdCQUFnQiw0QkFBNEIsa0JBQWtCLE1BQU0sY0FBYyxnQkFBZ0IsVUFBVSw2QkFBNkIsb0RBQUMsRUFBRSxjQUFjLEVBQUUsdUNBQXVDLG9EQUFDLEVBQUUsaUJBQWlCLEVBQUUscUNBQXFDLG9EQUFDLEVBQUUsaUJBQWlCLEVB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QUMsRUFBRSxzRkFBQyxFQUFFLFlBQVksa0NBQWtDLHVEQUFDLEVBQUUsc0ZBQUMsdUNBQXVDLHVEQUFDLEVBQUUsc0ZBQUMsK0RBQStELG9CQUFvQix1Q0FBdUMsa0JBQWtCLE1BQU0sZ0NBQWdDLEdBQUcsdURBQXVELFFBQVEscUZBQUMsZUFBZSxrQkFBa0IsTUFBTSxhQUFhLEdBQUcsK0RBQUMsUUFBUSxRQUFRLGVBQWUscUJBQXFCLGtCQUFrQixPQUFPLGdGQUFDLDBCQUEwQiw2QkFBNkIsK0JBQStCLG1GQUF1SDs7Ozs7Ozs7Ozs7Ozs7OztBQ0poOEQ7QUFDQTtBQUNBO0FBQ0E7QUFDdUQsY0FBYyxvQ0FBb0MsK0RBQUMsTUFBOEIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wcmVjaXNpb25mYXJtcy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvY29yZS9tYXliZVVwZGF0aW5nLmpzIiwid2VicGFjazovL3ByZWNpc2lvbmZhcm1zLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS9sYXllcnMvc3VwcG9ydC90aW1lU3VwcG9ydC5qcyIsIndlYnBhY2s6Ly9wcmVjaXNpb25mYXJtcy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvc3VwcG9ydC90aW1lVXRpbHMuanMiLCJ3ZWJwYWNrOi8vcHJlY2lzaW9uZmFybXMvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzJkL2xheWVycy9mZWF0dXJlcy9sYXllckFkYXB0ZXJzL2ZlYXR1cmVTZXJ2aWNlVXRpbHMuanMiLCJ3ZWJwYWNrOi8vcHJlY2lzaW9uZmFybXMvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzNkL2xheWVycy9JM1NQb2ludHNXb3JrZXJIYW5kbGUuanMiLCJ3ZWJwYWNrOi8vcHJlY2lzaW9uZmFybXMvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzNkL2xheWVycy9TY2VuZUxheWVyR3JhcGhpY3NWaWV3M0QuanMiLCJ3ZWJwYWNrOi8vcHJlY2lzaW9uZmFybXMvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzNkL2xheWVycy9pM3MvSTNTR3JhcGhpY3NNYXAuanMiLCJ3ZWJwYWNrOi8vcHJlY2lzaW9uZmFybXMvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzNkL2xheWVycy9zdXBwb3J0L0RlZmluaXRpb25FeHByZXNzaW9uU2NlbmVMYXllclZpZXcuanMiLCJ3ZWJwYWNrOi8vcHJlY2lzaW9uZmFybXMvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzNkL2xheWVycy9zdXBwb3J0L1RlbXBvcmFsU2NlbmVMYXllclZpZXcuanMiLCJ3ZWJwYWNrOi8vcHJlY2lzaW9uZmFybXMvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3dlYnNjZW5lL3V0aWxzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjMzL2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5jb25zdCBuPVwidXBkYXRpbmdcIjtmdW5jdGlvbiB0KG4pe3JldHVyblwidXBkYXRpbmdcIj09PW4/bnVsbDpufWZ1bmN0aW9uIHUobil7cmV0dXJuXCJ1cGRhdGluZ1wiPT09bn1leHBvcnR7dSBhcyBpc1VwZGF0aW5nLHQgYXMgdW53cmFwVXBkYXRpbmcsbiBhcyB1cGRhdGluZ307XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4zMy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e3RvTG9jYWxUaW1lRXh0ZW50IGFzIGUsdG9VVENUaW1lRXh0ZW50IGFzIHR9ZnJvbVwiLi4vLi4vc3VwcG9ydC90aW1lVXRpbHMuanNcIjtmdW5jdGlvbiBpKGksbixzKXtpZihudWxsPT1pPy50aW1lSW5mbylyZXR1cm4gbnVsbDtjb25zdHtkYXRlc0luVW5rbm93blRpbWV6b25lOmw9ITEsdGltZU9mZnNldDpvLHVzZVZpZXdUaW1lOm19PWk7bGV0IHU9aS50aW1lRXh0ZW50O2wmJih1PWUodSkpO2xldCByPW0/biYmdT9uLmludGVyc2VjdGlvbih1KTpufHx1OnU7cmV0dXJuIXJ8fHIuaXNFbXB0eXx8ci5pc0FsbFRpbWU/cjoobyYmKHI9ci5vZmZzZXQoLW8udmFsdWUsby51bml0KSksbCYmKHI9dChyKSksci5lcXVhbHMocyk/czpyKX1leHBvcnR7aSBhcyBjb21iaW5lVGltZUV4dGVudH07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4zMy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e2lzU29tZSBhcyB0fWZyb21cIi4uL2NvcmUvYXJyYXlVdGlscy5qc1wiO2ltcG9ydHtjbG9uZSBhcyBlfWZyb21cIi4uL2NvcmUvbGFuZy5qc1wiO2ltcG9ydHtvZmZzZXREYXRlIGFzIG59ZnJvbVwiLi4vY29yZS90aW1lVXRpbHMuanNcIjtpbXBvcnR7VCBhcyBpfWZyb21cIi4uL2NodW5rcy9UaW1lRXh0ZW50LmpzXCI7aW1wb3J0e2lzV2ViTWFwIGFzIHJ9ZnJvbVwiLi4vd2VibWFwL3V0aWxzLmpzXCI7aW1wb3J0e2lzV2ViU2NlbmUgYXMgbH1mcm9tXCIuLi93ZWJzY2VuZS91dGlscy5qc1wiO2Z1bmN0aW9uIHModCl7cmV0dXJuIHZvaWQgMCE9PXQudGltZUluZm99YXN5bmMgZnVuY3Rpb24gdSh0LGUpe3JldHVybiB0LndpZGdldHM/LnRpbWVTbGlkZXI/LmZ1bGxUaW1lRXh0ZW50Pz9hKHQuYWxsTGF5ZXJzLGUpfWZ1bmN0aW9uIG8odCl7Y29uc3QgZT10Lm51bVRodW1icz8/MixuPXQuY3VycmVudFRpbWVFeHRlbnQ7aWYobil7Y29uc3R7c3RhcnQ6dCxlbmQ6aX09bjtyZXR1cm4gbnVsbCE9dCYmbnVsbCE9aSYmdC5nZXRUaW1lKCk9PT1pLmdldFRpbWUoKT9cImluc3RhbnRcIjoyPT09ZT9cInRpbWUtd2luZG93XCI6bnVsbD09dHx8MD09PXQuZ2V0VGltZSgpP1wiY3VtdWxhdGl2ZS1mcm9tLXN0YXJ0XCI6XCJjdW11bGF0aXZlLWZyb20tZW5kXCJ9cmV0dXJuIDI9PT1lP1widGltZS13aW5kb3dcIjpcImN1bXVsYXRpdmUtZnJvbS1zdGFydFwifWZ1bmN0aW9uIG0odCl7Y29uc3R7bnVtU3RvcHM6bixzdG9wSW50ZXJ2YWw6aSxzdG9wczpyfT10O3JldHVybiByP3tkYXRlczplKHIpfTppP3tpbnRlcnZhbDppLmNsb25lKCl9Ontjb3VudDpuPz81fX1hc3luYyBmdW5jdGlvbiBhKGUsbil7aWYoMD09PWUubGVuZ3RoKXJldHVybiBpLmFsbFRpbWU7YXdhaXQgUHJvbWlzZS5hbGwoZS5tYXAoKHQ9PnQubG9hZCh7c2lnbmFsOm59KSkpKTtjb25zdCByPWUuZmlsdGVyKHMpLGw9ZS5maWx0ZXIoKHQ9PiFzKHQpJiZudWxsIT10LnZpc2liaWxpdHlUaW1lRXh0ZW50KSk7aWYoMD09PXIubGVuZ3RoJiYwPT09bC5sZW5ndGgpcmV0dXJuIGkuYWxsVGltZTtjb25zdCB1PVtdLG89W107Zm9yKGNvbnN0IHQgb2YgcilcImZlYXR1cmVcIiE9PXQ/LnR5cGUmJlwibWFwLWltYWdlXCIhPT10Py50eXBlfHwhdC50aW1lSW5mbz8uaGFzTGl2ZURhdGE/by5wdXNoKHQpOnUucHVzaCh0KTtjb25zdCBtPXQ9Pm51bGw9PXR8fHQuaXNBbGxUaW1lLGE9Wy4uLm8ubWFwKCh0PT57Y29uc3QgZT10LnRpbWVJbmZvPy5mdWxsVGltZUV4dGVudCx7dmlzaWJpbGl0eVRpbWVFeHRlbnQ6bn09dDtyZXR1cm4gZT8uaW50ZXJzZWN0aW9uKG4pPz9ufSkpLC4uLmwubWFwKCh0PT50LnZpc2liaWxpdHlUaW1lRXh0ZW50KSldO2lmKGEuc29tZShtKSlyZXR1cm4gaS5hbGxUaW1lO2NvbnN0IGY9dS5tYXAoKGFzeW5jIHQ9Pntjb25zdCBlPShhd2FpdCB0LmZldGNoUmVjb21wdXRlZEV4dGVudHMoe3NpZ25hbDpufSkpPy50aW1lRXh0ZW50Pz90LnRpbWVJbmZvPy5mdWxsVGltZUV4dGVudCx7dmlzaWJpbGl0eVRpbWVFeHRlbnQ6aX09dDtyZXR1cm4gZT8uaW50ZXJzZWN0aW9uKGkpPz9pfSkpLGM9KGF3YWl0IFByb21pc2UuYWxsU2V0dGxlZChmKSkubWFwKCh0PT5cImZ1bGZpbGxlZFwiPT09dC5zdGF0dXM/dC52YWx1ZTpudWxsKSk7aWYoYy5zb21lKG0pKXJldHVybiBpLmFsbFRpbWU7Y29uc3QgZD1bLi4uYywuLi5hXS5maWx0ZXIodCk7aWYoMD09PWQubGVuZ3RoKXJldHVybiBpLmFsbFRpbWU7cmV0dXJuIGQucmVkdWNlKCgodCxlKT0+dC51bmlvbihlKSkpfWZ1bmN0aW9uIGYodCxlKXtjb25zdCBuPXQuY3VycmVudFRpbWVFeHRlbnQ7aWYoIW4pcmV0dXJuIG51bGw7Y29uc3R7c3RhcnQ6cixlbmQ6bH09bixzPXI/P2w/P251bGw7c3dpdGNoKGUpe2Nhc2VcInRpbWUtd2luZG93XCI6cmV0dXJuIG5ldyBpKHtzdGFydDpyLGVuZDpsfSk7Y2FzZVwiY3VtdWxhdGl2ZS1mcm9tLXN0YXJ0XCI6cmV0dXJuIG5ldyBpKHtzdGFydDpudWxsLGVuZDpzfSk7Y2FzZVwiY3VtdWxhdGl2ZS1mcm9tLWVuZFwiOnJldHVybiBuZXcgaSh7c3RhcnQ6cyxlbmQ6bnVsbH0pO2Nhc2VcImluc3RhbnRcIjpyZXR1cm4gbmV3IGkoe3N0YXJ0OnMsZW5kOnN9KX19YXN5bmMgZnVuY3Rpb24gYyh0LGUpe2lmKCFyKHQpJiYhbCh0KSlyZXR1cm4gbnVsbDthd2FpdCB0LmxvYWQoe3NpZ25hbDplfSk7Y29uc3Qgbj10Py53aWRnZXRzPy50aW1lU2xpZGVyO2lmKCFuKXJldHVybiBudWxsO2NvbnN0IGk9YXdhaXQgdSh0LGUpLHM9bi5sb29wLGE9byhuKTtyZXR1cm57ZnVsbFRpbWVFeHRlbnQ6aSxsb29wOnMsbW9kZTphLHBsYXlSYXRlOm4uc3RvcERlbGF5Pz8yZTMsc3RvcHM6bShuKSx0aW1lRXh0ZW50OmYobixhKX19ZnVuY3Rpb24gZCh0KXtpZighdClyZXR1cm4gdDtjb25zdHtzdGFydDplLGVuZDpyfT10O3JldHVybiBuZXcgaSh7c3RhcnQ6bnVsbCE9ZT9uKGUsLWUuZ2V0VGltZXpvbmVPZmZzZXQoKSxcIm1pbnV0ZXNcIik6ZSxlbmQ6bnVsbCE9cj9uKHIsLXIuZ2V0VGltZXpvbmVPZmZzZXQoKSxcIm1pbnV0ZXNcIik6cn0pfWZ1bmN0aW9uIHAodCl7aWYoIXQpcmV0dXJuIHQ7Y29uc3R7c3RhcnQ6ZSxlbmQ6cn09dDtyZXR1cm4gbmV3IGkoe3N0YXJ0Om51bGwhPWU/bihlLGUuZ2V0VGltZXpvbmVPZmZzZXQoKSxcIm1pbnV0ZXNcIik6ZSxlbmQ6bnVsbCE9cj9uKHIsci5nZXRUaW1lem9uZU9mZnNldCgpLFwibWludXRlc1wiKTpyfSl9ZXhwb3J0e2EgYXMgZ2V0VGltZUV4dGVudEZyb21MYXllcnMsYyBhcyBnZXRUaW1lU2xpZGVyU2V0dGluZ3NGcm9tV2ViRG9jdW1lbnQscCBhcyB0b0xvY2FsVGltZUV4dGVudCxkIGFzIHRvVVRDVGltZUV4dGVudH07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4zMy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0IGhhcyBmcm9tXCIuLi8uLi8uLi8uLi8uLi9jb3JlL2hhcy5qc1wiO2Z1bmN0aW9uIGUoZSl7Y29uc3R7b2JqZWN0SWRGaWVsZDp0LHVuaXF1ZUlkRmllbGRzOnJ9PWU7cmV0dXJuIHI/Lmxlbmd0aD9yLmxlbmd0aD49Mj97dHlwZTpcInVuaXF1ZS1pZC1jb21wb3NpdGVcIixmaWVsZE5hbWVzOnJ9Ont0eXBlOlwidW5pcXVlLWlkLXNpbXBsZVwiLGZpZWxkTmFtZTpyWzBdfTp7dHlwZTpcIm9iamVjdC1pZFwiLGZpZWxkTmFtZTp0fX1mdW5jdGlvbiB0KGUsdCxzLGEsbCx1KXtjb25zdCBtPW8oYSk7aWYoISghIWhhcyhcImZlYXR1cmVsYXllci1zbmFwc2hvdC1lbmFibGVkXCIpJiZzPy5xdWVyeS5zdXBwb3J0c1BhZ2luYXRpb24mJiFzPy5vcGVyYXRpb25zLnN1cHBvcnRzRWRpdGluZyYmIXQpKXJldHVybiBudWxsO2NvbnN0IGg9aShsLHUpLHttaW46cCxtYXg6Y309bSx5PWg/YzpwLGQ9bihhKTtsZXQgZj1oYXMoXCJmZWF0dXJlbGF5ZXItc25hcHNob3QtaW5pdGlhbC10b2xlcmFuY2VcIik7cmV0dXJuXCJlc3JpR2VvbWV0cnlQb2ludFwiIT09YSYmXCJlc3JpR2VvbWV0cnlNdWx0aXBvaW50XCIhPT1hfHwoZj1udWxsKSx7c3VwcG9ydHNFeGNlZWRzTGltaXQ6cihlLHMpLGluaXRpYWxUb2xlcmFuY2U6ZixtYXhGZWF0dXJlQ291bnQ6eSxtYXhWZXJ0ZXhDb3VudDpkfX1mdW5jdGlvbiByKGUsdCl7cmV0dXJuISghZSYmIWhhcyhcImZlYXR1cmVsYXllci1zbmFwc2hvdC1ub24taG9zdGVkLWV4Y2VlZHNsaW1pdC1lbmFibGVkXCIpKSYmdD8ub3BlcmF0aW9ucy5zdXBwb3J0c0V4Y2VlZHNMaW1pdFN0YXRpc3RpY3N9ZnVuY3Rpb24gbihlKXtzd2l0Y2goZSl7Y2FzZVwiZXNyaUdlb21ldHJ5UG9pbnRcIjpyZXR1cm4gbnVsbDtjYXNlXCJlc3JpR2VvbWV0cnlQb2x5bGluZVwiOmNhc2VcImVzcmlHZW9tZXRyeVBvbHlnb25cIjpjYXNlXCJlc3JpR2VvbWV0cnlNdWx0aVBhdGNoXCI6Y2FzZVwiZXNyaUdlb21ldHJ5TXVsdGlwb2ludFwiOnJldHVybiBoYXMoXCJmZWF0dXJlbGF5ZXItc25hcHNob3QtbWF4LXZlcnRleC1jb3VudFwiKX19ZnVuY3Rpb24gaShlLHQpe2NvbnN0IHI9dD8uY2xvbmUoKS5pbnRlcnNlY3Rpb24oZSksbj1udWxsIT1yP3Iud2lkdGgqci5oZWlnaHQ6MCxpPXQ/dC53aWR0aCp0LmhlaWdodDowLG89MD09PWk/MDpuL2kscz1oYXMoXCJmZWF0dXJlbGF5ZXItc25hcHNob3QtY292ZXJhZ2VcIik7cmV0dXJuIWlzTmFOKG8pJiZvPj1zfWZ1bmN0aW9uIG8oZSl7c3dpdGNoKGUpe2Nhc2VcImVzcmlHZW9tZXRyeU11bHRpcG9pbnRcIjpyZXR1cm57bWluOmhhcyhcImZlYXR1cmVsYXllci1zbmFwc2hvdC1tdWx0aXBvaW50LW1pbi10aHJlc2hvbGRcIiksbWF4OmhhcyhcImZlYXR1cmVsYXllci1zbmFwc2hvdC1tdWx0aXBvaW50LW1heC10aHJlc2hvbGRcIil9O2Nhc2VcImVzcmlHZW9tZXRyeVBvaW50XCI6cmV0dXJue21pbjpoYXMoXCJmZWF0dXJlbGF5ZXItc25hcHNob3QtcG9pbnQtbWluLXRocmVzaG9sZFwiKSxtYXg6aGFzKFwiZmVhdHVyZWxheWVyLXNuYXBzaG90LXBvaW50LW1heC10aHJlc2hvbGRcIil9O2Nhc2VcImVzcmlHZW9tZXRyeU11bHRpUGF0Y2hcIjpjYXNlXCJlc3JpR2VvbWV0cnlQb2x5Z29uXCI6cmV0dXJue21pbjpoYXMoXCJmZWF0dXJlbGF5ZXItc25hcHNob3QtcG9seWdvbi1taW4tdGhyZXNob2xkXCIpLG1heDpoYXMoXCJmZWF0dXJlbGF5ZXItc25hcHNob3QtcG9seWdvbi1tYXgtdGhyZXNob2xkXCIpfTtjYXNlXCJlc3JpR2VvbWV0cnlQb2x5bGluZVwiOnJldHVybnttaW46aGFzKFwiZmVhdHVyZWxheWVyLXNuYXBzaG90LXBvbHlsaW5lLW1pbi10aHJlc2hvbGRcIiksbWF4OmhhcyhcImZlYXR1cmVsYXllci1zbmFwc2hvdC1wb2x5bGluZS1tYXgtdGhyZXNob2xkXCIpfX19ZXhwb3J0e2UgYXMgY3JlYXRlRmVhdHVyZUlkSW5mbyx0IGFzIGNyZWF0ZVNuYXBzaG90SW5mb307XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4zMy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e1dvcmtlckhhbmRsZSBhcyBlfWZyb21cIi4uLy4uLy4uL2NvcmUvd29ya2Vycy9Xb3JrZXJIYW5kbGUuanNcIjtjbGFzcyByIGV4dGVuZHMgZXtjb25zdHJ1Y3RvcihlKXtzdXBlcihcIlNjZW5lTGF5ZXJXb3JrZXJcIixcImRyYWNvRGVjb21wcmVzc1BvaW50Q2xvdWREYXRhXCIse2RyYWNvRGVjb21wcmVzc1BvaW50Q2xvdWREYXRhOmU9PltlLmdlb21ldHJ5QnVmZmVyXX0sZSx7aGFzSW5pdGlhbGl6ZTohMH0pfX1leHBvcnR7ciBhcyBJM1NQb2ludHNXb3JrZXJIYW5kbGV9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMzMvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtfIGFzIGV9ZnJvbVwiLi4vLi4vLi4vY2h1bmtzL3RzbGliLmVzNi5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vY29yZS9oYXMuanNcIjtpbXBvcnQgdCBmcm9tXCIuLi8uLi8uLi9jb3JlL0xvZ2dlci5qc1wiO2ltcG9ydHtkZXN0cm95TWF5YmUgYXMgcn1mcm9tXCIuLi8uLi8uLi9jb3JlL21heWJlLmpzXCI7aW1wb3J0e2VzdGltYXRlTnVtYmVyQXJyYXlNZW1vcnkgYXMgaX1mcm9tXCIuLi8uLi8uLi9jb3JlL21lbW9yeUVzdGltYXRpb25zLmpzXCI7aW1wb3J0e3Rocm93SWZBYm9ydGVkIGFzIHN9ZnJvbVwiLi4vLi4vLi4vY29yZS9wcm9taXNlVXRpbHMuanNcIjtpbXBvcnR7aW5pdGlhbCBhcyBvLHdhdGNoIGFzIGF9ZnJvbVwiLi4vLi4vLi4vY29yZS9yZWFjdGl2ZVV0aWxzLmpzXCI7aW1wb3J0e2dlbmVyYXRlVUlEIGFzIG59ZnJvbVwiLi4vLi4vLi4vY29yZS91aWQuanNcIjtpbXBvcnR7cHJvcGVydHkgYXMgbH1mcm9tXCIuLi8uLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3Byb3BlcnR5LmpzXCI7aW1wb3J0XCIuLi8uLi8uLi9jb3JlL1JhbmRvbUxDRy5qc1wiO2ltcG9ydHtzdWJjbGFzcyBhcyBkfWZyb21cIi4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvc3ViY2xhc3MuanNcIjtpbXBvcnR7aSBhcyB1fWZyb21cIi4uLy4uLy4uL2NodW5rcy92ZWMzMi5qc1wiO2ltcG9ydHtjcmVhdGUgYXMgaCxaRVJPUyBhcyBwfWZyb21cIi4uLy4uLy4uL2NvcmUvbGlicy9nbC1tYXRyaXgtMi9mYWN0b3JpZXMvdmVjM2Y2NC5qc1wiO2ltcG9ydHtwcm9qZWN0QnVmZmVyIGFzIGN9ZnJvbVwiLi4vLi4vLi4vZ2VvbWV0cnkvcHJvamVjdGlvbi9wcm9qZWN0QnVmZmVyLmpzXCI7aW1wb3J0e3Byb2plY3RWZWN0b3JUb1ZlY3RvciBhcyBtfWZyb21cIi4uLy4uLy4uL2dlb21ldHJ5L3Byb2plY3Rpb24vcHJvamVjdFZlY3RvclRvVmVjdG9yLmpzXCI7aW1wb3J0e2V4dGVudENvbnRhaW5zQ29vcmRzM0QgYXMgZyxleHRlbnRDb250YWluc0Nvb3JkczJEIGFzIHl9ZnJvbVwiLi4vLi4vLi4vZ2VvbWV0cnkvc3VwcG9ydC9jb250YWlucy5qc1wiO2ltcG9ydHtuZXdEb3VibGVBcnJheSBhcyBmLGRvdWJsZUFycmF5RnJvbSBhcyBffWZyb21cIi4uLy4uLy4uL2dlb21ldHJ5L3N1cHBvcnQvRG91YmxlQXJyYXkuanNcIjtpbXBvcnR7Z2V0R2VvbWV0cnlaU2NhbGVyIGFzIGJ9ZnJvbVwiLi4vLi4vLi4vZ2VvbWV0cnkvc3VwcG9ydC96c2NhbGUuanNcIjtpbXBvcnR7ZmFsbGJhY2tPYmplY3RJREF0dHJpYnV0ZSBhcyB2fWZyb21cIi4uLy4uLy4uL2xheWVycy9MYXllckNvbnN0YW50cy5qc1wiO2ltcG9ydHtlc3RpbWF0ZVNpemUgYXMgeH1mcm9tXCIuLi8uLi8uLi9sYXllcnMvZ3JhcGhpY3MvZGVoeWRyYXRlZEZlYXR1cmVzLmpzXCI7aW1wb3J0e21ha2VEZWh5ZHJhdGVkUG9pbnQgYXMgSX1mcm9tXCIuLi8uLi8uLi9sYXllcnMvZ3JhcGhpY3MvZGVoeWRyYXRlZFBvaW50LmpzXCI7aW1wb3J0e2h5ZHJhdGVHcmFwaGljIGFzIEV9ZnJvbVwiLi4vLi4vLi4vbGF5ZXJzL2dyYXBoaWNzL2h5ZHJhdGVkRmVhdHVyZXMuanNcIjtpbXBvcnQgdyBmcm9tXCIuLi8uLi8uLi9sYXllcnMvZ3JhcGhpY3MvY29udHJvbGxlcnMvSTNTT25EZW1hbmRDb250cm9sbGVyLmpzXCI7aW1wb3J0IGogZnJvbVwiLi4vLi4vLi4vbGF5ZXJzL3N1cHBvcnQvRmVhdHVyZUZpbHRlci5qc1wiO2ltcG9ydCBOIGZyb21cIi4uLy4uLy4uL3Jlc3Qvc3VwcG9ydC9RdWVyeS5qc1wiO2ltcG9ydHtpc0Jhc2VtYXBMYXllclZpZXcgYXMgQ31mcm9tXCIuLi8uLi8uLi9zdXBwb3J0L2Jhc2VtYXBVdGlscy5qc1wiO2ltcG9ydHtJM1NQb2ludHNXb3JrZXJIYW5kbGUgYXMgT31mcm9tXCIuL0kzU1BvaW50c1dvcmtlckhhbmRsZS5qc1wiO2ltcG9ydHtMYXllclZpZXczRCBhcyBEfWZyb21cIi4vTGF5ZXJWaWV3M0QuanNcIjtpbXBvcnR7R3JhcGhpY3MzREZlYXR1cmVQcm9jZXNzb3IgYXMgU31mcm9tXCIuL2dyYXBoaWNzL0dyYXBoaWNzM0RGZWF0dXJlUHJvY2Vzc29yLmpzXCI7aW1wb3J0e1F1ZXJ5RW5naW5lIGFzIEZ9ZnJvbVwiLi9ncmFwaGljcy9RdWVyeUVuZ2luZS5qc1wiO2ltcG9ydHtRdWVyeUVuZ2luZUNvbnRleHQgYXMgR31mcm9tXCIuL2dyYXBoaWNzL1F1ZXJ5RW5naW5lQ29udGV4dC5qc1wiO2ltcG9ydHtjcmVhdGVJbnRlcmFjdGl2ZUVkaXRTZXNzaW9uIGFzIEEsbm9ybWFsaXplRWRpdFJlc3VsdHNFdmVudCBhcyBWLHByb2Nlc3NBdHRyaWJ1dGVFZGl0cyBhcyBQfWZyb21cIi4vaTNzL2ZlYXR1cmVFZGl0aW5nLmpzXCI7aW1wb3J0e2dldENhY2hlZEF0dHJpYnV0ZVZhbHVlIGFzIEx9ZnJvbVwiLi9pM3MvSTNTQmluYXJ5UmVhZGVyLmpzXCI7aW1wb3J0e0kzU0dyYXBoaWNzTWFwIGFzIFJ9ZnJvbVwiLi9pM3MvSTNTR3JhcGhpY3NNYXAuanNcIjtpbXBvcnR7STNTT3ZlcnJpZGVzIGFzIE19ZnJvbVwiLi9pM3MvSTNTT3ZlcnJpZGVzLmpzXCI7aW1wb3J0e2NoZWNrUmVjeWNsYWJsZSBhcyBILGNoZWNrU3BhdGlhbFJlZmVyZW5jZXMgYXMgUSxjb250YWluc0RyYWNvIGFzIFUsd2hlbkdyYXBoaWNBdHRyaWJ1dGVzIGFzIHF9ZnJvbVwiLi9pM3MvSTNTVXRpbC5qc1wiO2ltcG9ydHtEZWZpbml0aW9uRXhwcmVzc2lvblNjZW5lTGF5ZXJWaWV3IGFzIFR9ZnJvbVwiLi9zdXBwb3J0L0RlZmluaXRpb25FeHByZXNzaW9uU2NlbmVMYXllclZpZXcuanNcIjtpbXBvcnR7ZGVmaW5lRmllbGRQcm9wZXJ0aWVzIGFzIEJ9ZnJvbVwiLi9zdXBwb3J0L2ZpZWxkUHJvcGVydGllcy5qc1wiO2ltcG9ydHtMYXllclZpZXdQZXJmb3JtYW5jZUluZm8gYXMga31mcm9tXCIuL3N1cHBvcnQvTGF5ZXJWaWV3UGVyZm9ybWFuY2VJbmZvLmpzXCI7aW1wb3J0e1BvcHVwU2NlbmVMYXllclZpZXcgYXMgen1mcm9tXCIuL3N1cHBvcnQvUG9wdXBTY2VuZUxheWVyVmlldy5qc1wiO2ltcG9ydHtTY2VuZUxheWVyVmlld1JlcXVpcmVkRmllbGRzIGFzIFd9ZnJvbVwiLi9zdXBwb3J0L1NjZW5lTGF5ZXJWaWV3UmVxdWlyZWRGaWVsZHMuanNcIjtpbXBvcnR7VGVtcG9yYWxTY2VuZUxheWVyVmlldyBhcyBLfWZyb21cIi4vc3VwcG9ydC9UZW1wb3JhbFNjZW5lTGF5ZXJWaWV3LmpzXCI7aW1wb3J0e2RlYnVnRmxhZ3MgYXMgWn1mcm9tXCIuLi9zdXBwb3J0L2RlYnVnRmxhZ3MuanNcIjtpbXBvcnR7Y29tcHV0ZSBhcyBZfWZyb21cIi4uL3N1cHBvcnQvb3JpZW50ZWRCb3VuZGluZ0JveC5qc1wiO2ltcG9ydHt1cGRhdGluZ1Byb2dyZXNzIGFzICR9ZnJvbVwiLi4vc3VwcG9ydC91cGRhdGluZ1Byb3BlcnRpZXMuanNcIjtpbXBvcnR7VmVydGljZXMgYXMgSn1mcm9tXCIuLi93ZWJnbC1lbmdpbmUvbGliL0F0dHJpYnV0ZS5qc1wiO2ltcG9ydHtVcGRhdGVQb2xpY3kgYXMgWH1mcm9tXCIuLi93ZWJnbC1lbmdpbmUvbGliL1VwZGF0ZVBvbGljeS5qc1wiO2ltcG9ydCBlZSBmcm9tXCIuLi8uLi9sYXllcnMvU2NlbmVMYXllclZpZXcuanNcIjtpbXBvcnR7aGFzUG9wdXBUZW1wbGF0ZSBhcyB0ZX1mcm9tXCIuLi8uLi9sYXllcnMvc3VwcG9ydC9wb3B1cFV0aWxzLmpzXCI7aW1wb3J0e2RlZmF1bHRIaWdobGlnaHROYW1lIGFzIHJlfWZyb21cIi4uLy4uL3N1cHBvcnQvSGlnaGxpZ2h0RGVmYXVsdHMuanNcIjtpbXBvcnR7aGFzTGF5ZXJCYXNlZFNjYWxlVmlzaWJpbGl0eSBhcyBpZSxpc0luRWZmZWN0aXZlU2NhbGVSYW5nZSBhcyBzZX1mcm9tXCIuLi8uLi9zdXBwb3J0L2xheWVyVmlld1V0aWxzLmpzXCI7aW1wb3J0e1Rhc2tQcmlvcml0eSBhcyBvZX1mcm9tXCIuLi8uLi9zdXBwb3J0L1NjaGVkdWxlci5qc1wiO2NvbnN0IGFlPUIoKTtjbGFzcyBuZXtjb25zdHJ1Y3RvcihlLHQscixpKXt0aGlzLmdyYXBoaWNzPWUsdGhpcy5mZWF0dXJlSWRzPXQsdGhpcy5hdHRyaWJ1dGVJbmZvPXIsdGhpcy5ub2RlPWl9Z2V0IGNhY2hlZE1lbW9yeSgpe3JldHVybiB0aGlzLmdyYXBoaWNzLnJlZHVjZSgoKGUsdCk9PngodCkrZSksaSh0aGlzLmZlYXR1cmVJZHMpKzEwMjQpfX1sZXQgbGU9Y2xhc3MgZXh0ZW5kcyhLKFQoeihEKGVlKSkpKSl7Y29uc3RydWN0b3IoKXtzdXBlciguLi5hcmd1bWVudHMpLHRoaXMudHlwZT1cInNjZW5lLWxheWVyLWdyYXBoaWNzLTNkXCIsdGhpcy5fcXVlcnlFbmdpbmU9bnVsbCx0aGlzLl9tZW1DYWNoZT1udWxsLHRoaXMuX2ludGVyYWN0aXZlRWRpdGluZ1Nlc3Npb25zPW5ldyBNYXAsdGhpcy5fcGVuZGluZ0VkaXRzUXVldWU9UHJvbWlzZS5yZXNvbHZlKCksdGhpcy5sb2FkZWRHcmFwaGljcz1uZXcgUigoKGUsdCxyKT0+cGUoZSx0LHIpKSwoZT0+dGhpcy5wcm9jZXNzb3IuZ3JhcGhpY3NDb3JlLnJlY3JlYXRlR3JhcGhpY3MoZSkpKSx0aGlzLmhvbGVGaWxsaW5nPVwiYWx3YXlzXCIsdGhpcy5wcm9ncmVzc2l2ZUxvYWRGYWN0b3I9MSx0aGlzLnN1cHBvcnRzSGVpZ2h0VW5pdENvbnZlcnNpb249ITAsdGhpcy5fY29vcmRpbmF0ZXNPdXRzaWRlRXh0ZW50RXJyb3JzPTAsdGhpcy5fbWF4Q29vcmRpbmF0ZXNPdXRzaWRlRXh0ZW50RXJyb3JzPTIwfXRyeVJlY3ljbGVXaXRoKGUsdCl7cmV0dXJuIGUudXJsPT09dGhpcy5sYXllci51cmwmJnRoaXMuX2kzc092ZXJyaWRlcy5pc0VtcHR5P2UubG9hZCh0KS50aGVuKCgoKT0+e3ModCksSCh0aGlzLmxheWVyLGUsdGhpcy5faTNzT3ZlcnJpZGVzKSx0aGlzLmxheWVyPWUsdGhpcy5faTNzT3ZlcnJpZGVzLmRlc3Ryb3koKTtjb25zdCBpPXRoaXMudmlldy5yZXNvdXJjZUNvbnRyb2xsZXI/Lm1lbW9yeUNvbnRyb2xsZXI7dGhpcy5faTNzT3ZlcnJpZGVzPW5ldyBNKHt2aWV3OnRoaXMudmlldyxsYXllcjplLG1lbW9yeUNvbnRyb2xsZXI6aX0pLHIodGhpcy5fcXVlcnlFbmdpbmUpLHRoaXMuX3NldHVwUXVlcnlFbmdpbmUoKSx0aGlzLnByb2Nlc3Nvci5yZXNldE9iamVjdFN0YXRlcygpfSkpOm51bGx9aW5pdGlhbGl6ZSgpe3RoaXMuYWRkUmVzb2x2aW5nUHJvbWlzZSh0aGlzLmxheWVyLmluZGV4SW5mbyk7Y29uc3QgZT10aGlzLnZpZXcucmVzb3VyY2VDb250cm9sbGVyPy5tZW1vcnlDb250cm9sbGVyO3RoaXMuX2kzc092ZXJyaWRlcz1uZXcgTSh7dmlldzp0aGlzLnZpZXcsbGF5ZXI6dGhpcy5sYXllcixtZW1vcnlDb250cm9sbGVyOmV9KSxRKHRoaXMubGF5ZXIsdGhpcy52aWV3LnNwYXRpYWxSZWZlcmVuY2UsdGhpcy52aWV3LnZpZXdpbmdNb2RlKSx0aGlzLl9maWVsZHNIZWxwZXI9bmV3IFcoe2xheWVyVmlldzp0aGlzfSksdGhpcy5fdXBkYXRpbmdIYW5kbGVzLmFkZCgoKCk9PnRoaXMubGF5ZXIucmFuZ2VJbmZvcyksKGU9PnRoaXMuX3JhbmdlSW5mb3NDaGFuZ2VkKGUpKSxvKSx0aGlzLl91cGRhdGluZ0hhbmRsZXMuYWRkKCgoKT0+dGhpcy5sYXllci5yZW5kZXJlciksKChlLHQpPT50aGlzLl9yZW5kZXJlckNoYW5nZShlLHQpKSksdGhpcy5fdXBkYXRpbmdIYW5kbGVzLmFkZCgoKCk9Plt0aGlzLnBhcnNlZERlZmluaXRpb25FeHByZXNzaW9uLHRoaXMubGF5ZXIuZXhjbHVkZU9iamVjdElkc10pLCgoKT0+dGhpcy5fZmlsdGVyQ2hhbmdlKCkpKSx0aGlzLl9zZXQoXCJwcm9jZXNzb3JcIixuZXcgUyh7b3duZXI6dGhpcyxwcmVmZXJyZWRVcGRhdGVQb2xpY3k6WC5BU1lOQyxzY2FsZVZpc2liaWxpdHlFbmFibGVkOiFpZSgpLGZpbHRlclZpc2liaWxpdHlFbmFibGVkOiEwLHRpbWVFeHRlbnRFbmFibGVkOiExLGZydXN0dW1WaXNpYmlsaXR5RW5hYmxlZDohMSxlbGV2YXRpb25BbGlnbm1lbnRFbmFibGVkOiEwLGVsZXZhdGlvbkZlYXR1cmVFeHByZXNzaW9uRW5hYmxlZDohMSxzZXRVaWRUb0lkT25BZGQ6ITEsZGF0YUV4dGVudDp0aGlzLmxheWVyLmZ1bGxFeHRlbnQsdXBkYXRlQ2xpcHBpbmdFeHRlbnQ6ZT0+dGhpcy5fdXBkYXRlQ2xpcHBpbmdFeHRlbnQoZSl9KSksdGhpcy5wcm9jZXNzb3IuZWxldmF0aW9uQWxpZ25tZW50Py5ldmVudHMub24oXCJpbnZhbGlkYXRlLWVsZXZhdGlvblwiLCgoe2V4dGVudDplLHNwYXRpYWxSZWZlcmVuY2U6dH0pPT50aGlzLl9jb250cm9sbGVyLnVwZGF0ZUVsZXZhdGlvbkNoYW5nZWQoZSx0KSkpLHRoaXMuc3VwcG9ydHNIZWlnaHRVbml0Q29udmVyc2lvbiYmKHRoaXMuX3ZlcnRpY2FsU2NhbGU9YihcInBvaW50XCIsdGhpcy5sYXllci5zcGF0aWFsUmVmZXJlbmNlLHRoaXMudmlldy5zcGF0aWFsUmVmZXJlbmNlKSksdGhpcy5hZGRSZXNvbHZpbmdQcm9taXNlKHRoaXMucHJvY2Vzc29yLndoZW4oKSksdGhpcy5fbWVtQ2FjaGU9dGhpcy52aWV3LnJlc291cmNlQ29udHJvbGxlci5tZW1vcnlDb250cm9sbGVyLm5ld0NhY2hlKGBwc2wtJHt0aGlzLnVpZH1gKSx0aGlzLl9jb250cm9sbGVyPW5ldyB3KHtsYXllclZpZXc6dGhpc30pLFUodGhpcy5sYXllci5nZW9tZXRyeURlZmluaXRpb25zKSYmKHRoaXMuX3dvcmtlcj1uZXcgTygoZT0+dGhpcy52aWV3LnJlc291cmNlQ29udHJvbGxlci5pbW1lZGlhdGUuc2NoZWR1bGUoZSkpKSksdGhpcy5hZGRIYW5kbGVzKHRoaXMubGF5ZXIub24oXCJhcHBseS1lZGl0c1wiLChlPT50aGlzLl91cGRhdGluZ0hhbmRsZXMuYWRkUHJvbWlzZShlLnJlc3VsdCkpKSksdGhpcy5hZGRIYW5kbGVzKFt0aGlzLmxheWVyLm9uKFwiZWRpdHNcIiwoZT0+e2NvbnN0IHQ9dGhpcy5fcGVuZGluZ0VkaXRzUXVldWUudGhlbigoKCk9PnRoaXMuX2hhbmRsZUVkaXRzKGUpKSkudGhlbigpO3RoaXMuX3BlbmRpbmdFZGl0c1F1ZXVlPXQsdGhpcy5fdXBkYXRpbmdIYW5kbGVzLmFkZFByb21pc2UodCl9KSksYSgoKCk9PlouSTNTX1RSRUVfU0hPV19USUxFUyksKGU9PntpZihlJiYhdGhpcy5fdHJlZURlYnVnZ2VyKXtjb25zdCBlPXRoaXMuX2NvbnRyb2xsZXIuY3JzSW5kZXg7aW1wb3J0KFwiLi9zdXBwb3J0L0kzU1RyZWVEZWJ1Z2dlci5qc1wiKS50aGVuKCgoe0kzU1RyZWVEZWJ1Z2dlcjp0fSk9PnshdGhpcy5fdHJlZURlYnVnZ2VyJiZaLkkzU19UUkVFX1NIT1dfVElMRVMmJih0aGlzLl90cmVlRGVidWdnZXI9bmV3IHQoe2x2OnRoaXMsdmlldzp0aGlzLnZpZXcsbm9kZVNSOmV9KSl9KSl9ZWxzZSBlfHwhdGhpcy5fdHJlZURlYnVnZ2VyfHxaLkkzU19UUkVFX1NIT1dfVElMRVN8fCh0aGlzLl90cmVlRGVidWdnZXIuZGVzdHJveSgpLHRoaXMuX3RyZWVEZWJ1Z2dlcj1udWxsKX0pLG8pXSksdGhpcy53aGVuKCgoKT0+e3RoaXMuX3NldHVwUXVlcnlFbmdpbmUoKSx0aGlzLl91cGRhdGluZ0hhbmRsZXMuYWRkKCgoKT0+dGhpcy5tYXhpbXVtTnVtYmVyT2ZGZWF0dXJlcyksKGU9PnRoaXMuX2NvbnRyb2xsZXIuZmVhdHVyZVRhcmdldD1lKSxvKSx0aGlzLl91cGRhdGluZ0hhbmRsZXMuYWRkKCgoKT0+dGhpcy5zdXNwZW5kZWQpLChlPT57ZSYmdGhpcy5fcmVtb3ZlQWxsTm9kZURhdGEoKX0pKX0pKX1kZXN0cm95KCl7dGhpcy5fdHJlZURlYnVnZ2VyPXIodGhpcy5fdHJlZURlYnVnZ2VyKSx0aGlzLl9pM3NPdmVycmlkZXM9cih0aGlzLl9pM3NPdmVycmlkZXMpLHRoaXMuX3NldChcInByb2Nlc3NvclwiLHIodGhpcy5wcm9jZXNzb3IpKSx0aGlzLl9jb250cm9sbGVyPXIodGhpcy5fY29udHJvbGxlciksdGhpcy5fcXVlcnlFbmdpbmU9cih0aGlzLl9xdWVyeUVuZ2luZSksdGhpcy5fd29ya2VyPXIodGhpcy5fd29ya2VyKSx0aGlzLl9tZW1DYWNoZT1yKHRoaXMuX21lbUNhY2hlKSx0aGlzLmxvYWRlZEdyYXBoaWNzLmNsZWFyKCksdGhpcy5fZmllbGRzSGVscGVyPXIodGhpcy5fZmllbGRzSGVscGVyKX1nZXQgaTNzbGF5ZXIoKXtyZXR1cm4gdGhpcy5sYXllcn1nZXQgbGF5ZXJWaWV3VWlkKCl7cmV0dXJuIHRoaXMudWlkfWdldCB1cGRhdGluZ1Byb2dyZXNzVmFsdWUoKXtyZXR1cm4gdGhpcy5fY29udHJvbGxlcj8udXBkYXRpbmdQcm9ncmVzcz8/MX1nZXQgdmlzaWJsZUF0Q3VycmVudFNjYWxlKCl7cmV0dXJuIGllKCk/c2UodGhpcy5sYXllci5lZmZlY3RpdmVTY2FsZVJhbmdlLHRoaXMudmlldy5zY2FsZSk6IXRoaXMucHJvY2Vzc29yPy5zY2FsZVZpc2liaWxpdHlTdXNwZW5kZWR9Z2V0IHJlcXVpcmVkRmllbGRzKCl7cmV0dXJuIHRoaXMuX2ZpZWxkc0hlbHBlcj8ucmVxdWlyZWRGaWVsZHM/P1tdfWdldCBtYXhpbXVtTnVtYmVyT2ZGZWF0dXJlcygpe2NvbnN0IGU9dGhpcy5wcm9jZXNzb3I/LmdyYXBoaWNzQ29yZT8uZGlzcGxheUZlYXR1cmVMaW1pdDtyZXR1cm4gZT8ubWF4aW11bU51bWJlck9mRmVhdHVyZXM/PzB9c2V0IG1heGltdW1OdW1iZXJPZkZlYXR1cmVzKGUpe251bGwhPWU/KHRoaXMuX292ZXJyaWRlKFwibWF4aW11bU51bWJlck9mRmVhdHVyZXNcIixlKSx0aGlzLl9jb250cm9sbGVyLmZpeGVkRmVhdHVyZVRhcmdldD0hMCk6KHRoaXMuX2NsZWFyT3ZlcnJpZGUoXCJtYXhpbXVtTnVtYmVyT2ZGZWF0dXJlc1wiKSx0aGlzLl9jb250cm9sbGVyLmZpeGVkRmVhdHVyZVRhcmdldD0hMSl9Z2V0IG1heGltdW1OdW1iZXJPZkZlYXR1cmVzRXhjZWVkZWQoKXtyZXR1cm4hdGhpcy5zdXNwZW5kZWQmJighIXRoaXMuX2NvbnRyb2xsZXI/LnVzZU1heGltdW1OdW1iZXJPZkZlYXR1cmVzJiYhdGhpcy5fY29udHJvbGxlci5sZWF2ZXNSZWFjaGVkKX1nZXQgX2V4Y2x1ZGVPYmplY3RJZHMoKXtyZXR1cm4gbmV3IFNldCh0aGlzLmxheWVyLmV4Y2x1ZGVPYmplY3RJZHMpfWdldCBsb2RGYWN0b3IoKXtyZXR1cm5cIkxhYmVsc1wiPT09dGhpcy5sYXllci5zZW1hbnRpYz8xOnRoaXMudmlldy5xdWFsaXR5U2V0dGluZ3Muc2NlbmVTZXJ2aWNlLnBvaW50LmxvZEZhY3Rvcn1nZXQgaGFzTSgpe3JldHVybiExfWdldCBoYXNaKCl7cmV0dXJuITB9Z2V0IGNvbnRlbnRWaXNpYmxlKCl7cmV0dXJuIXRoaXMuc3VzcGVuZGVkJiYhIXRoaXMuX2NvbnRyb2xsZXI/LnJvb3ROb2RlVmlzaWJsZX1nZXQgbGVnZW5kRW5hYmxlZCgpe3JldHVybiB0aGlzLmNvbnRlbnRWaXNpYmxlJiYhMD09PXRoaXMuaTNzbGF5ZXI/LmxlZ2VuZEVuYWJsZWR9YXN5bmMgd2hlbkdyYXBoaWNBdHRyaWJ1dGVzKGUsdCl7cmV0dXJuIHEodGhpcy5sYXllcixlLHRoaXMuX2dldE9iamVjdElkRmllbGQoKSx0LCgoKT0+Wy4uLnRoaXMubG9hZGVkR3JhcGhpY3Mubm9kZXMoKV0pKX1nZXRIaXQoZSl7aWYoIXRoaXMubG9hZGVkR3JhcGhpY3MpcmV0dXJuIG51bGw7Y29uc3QgdD1FKHRoaXMubG9hZGVkR3JhcGhpY3MuZmluZCgodD0+dC51aWQ9PT1lKSksdGhpcy5sYXllcikscj10aGlzLl9nZXRPYmplY3RJZEZpZWxkKCk7cmV0dXJuIHQ/LmF0dHJpYnV0ZXM/LltyXT8odC5sYXllcj10aGlzLmxheWVyLHQuc291cmNlTGF5ZXI9dGhpcy5sYXllcix7dHlwZTpcImdyYXBoaWNcIixncmFwaGljOnQsbGF5ZXI6dC5sYXllcn0pOm51bGx9d2hlbkdyYXBoaWNCb3VuZHMoZSx0KXtyZXR1cm4gdGhpcy5wcm9jZXNzb3Iud2hlbkdyYXBoaWNCb3VuZHMoZSx0KX1jb21wdXRlQXR0YWNobWVudE9yaWdpbihlLHQpe3JldHVybiB0aGlzLnByb2Nlc3Nvci5jb21wdXRlQXR0YWNobWVudE9yaWdpbihlLHQpfWlzVXBkYXRpbmcoKXtyZXR1cm4hISh0aGlzLl9jb250cm9sbGVyPy51cGRhdGluZ3x8dGhpcy5wcm9jZXNzb3I/LnVwZGF0aW5nfHx0aGlzLl9maWVsZHNIZWxwZXI/LnVwZGF0aW5nfHx0aGlzLmxheWVyRmlsdGVyVXBkYXRpbmcpfWhpZ2hsaWdodChlLHQpe3JldHVybiB0aGlzLnByb2Nlc3Nvci5oaWdobGlnaHQoZSx0aGlzLmxheWVyLm9iamVjdElkRmllbGQsdD8ubmFtZT8/cmUpfWdldCB1cGRhdGVQb2xpY3koKXtyZXR1cm4gdGhpcy5wcm9jZXNzb3IuZ3JhcGhpY3NDb3JlLmVmZmVjdGl2ZVVwZGF0ZVBvbGljeX1jcmVhdGVJbnRlcmFjdGl2ZUVkaXRTZXNzaW9uKGUpe3JldHVybiBBKHRoaXMuX2F0dHJpYnV0ZUVkaXRpbmdDb250ZXh0LGUpfWFzeW5jIF9kZWNvbXByZXNzQmluYXJ5UG9pbnREYXRhKGUsdCl7Y29uc3Qgcj17Z2VvbWV0cnlCdWZmZXI6ZS5nZW9tZXRyeUJ1ZmZlcn07bnVsbD09dGhpcy5fd29ya2VyJiYodGhpcy5fd29ya2VyPW5ldyBPKChlPT50aGlzLnZpZXcucmVzb3VyY2VDb250cm9sbGVyLmltbWVkaWF0ZS5zY2hlZHVsZShlKSkpKTtjb25zdCBpPWF3YWl0IHRoaXMuX3dvcmtlci5pbnZva2Uocix0KTtpZihudWxsPT1pKXRocm93IG5ldyBFcnJvcihcIkZhaWxlZCB0byBkZWNvbXByZXNzIERyYWNvIHBvaW50IGRhdGFcIik7cmV0dXJue3Bvc2l0aW9uRGF0YTppLnBvc2l0aW9ucyxmZWF0dXJlSWRzOmkuZmVhdHVyZUlkc319YXN5bmMgYWRkTm9kZShlLHIsaSl7aWYoIWhlKHIpJiYhdWUocikpdGhyb3cgbmV3IEVycm9yO2lmKHRoaXMubG9hZGVkR3JhcGhpY3MuaGFzTm9kZShlLmluZGV4KSlyZXR1cm4gdm9pZCB0LmdldExvZ2dlcih0aGlzKS5lcnJvcihcIkkzUyBub2RlIFwiK2UuaWQrXCIgYWxyZWFkeSBhZGRlZFwiKTtjb25zdCBzPW51bGwhPXRoaXMubGF5ZXIuZnVsbEV4dGVudD9tZSh0aGlzLmxheWVyLmZ1bGxFeHRlbnQuY2xvbmUoKSwuNSk6bnVsbCx7ZmVhdHVyZUlkczpvLHBvaW50UG9zaXRpb25zOmF9PWhlKHIpP2F3YWl0IHRoaXMuX2V4dHJhY3RCaW5hcnlQb2ludFBvc2l0aW9ucyhlLHIsaSk6dGhpcy5fZXh0cmFjdExlZ2FjeVBvaW50UG9zaXRpb25zKHIpLG49bmV3IEFycmF5O3RoaXMuX3ZhbGlkYXRlUG9zaXRpb25zKGUsbyxhLHMsbik7Y29uc3QgbD10aGlzLl9jb250cm9sbGVyLmNyc1ZlcnRleCxkPXRoaXMudmlldy5zcGF0aWFsUmVmZXJlbmNlO2MoYSxsLDAsYSxkLDAsby5sZW5ndGgpO2NvbnN0IHU9aGUocik/ZS5sZXZlbDowLGg9dGhpcy5fY3JlYXRlR3JhcGhpY3MobyxhLGUuaW5kZXgsdSkscD1uZXcgbmUoaCxvLHIuYXR0cmlidXRlRGF0YUluZm8sZSk7aWYoYXdhaXQgdGhpcy5faTNzT3ZlcnJpZGVzLmFwcGx5QXR0cmlidXRlT3ZlcnJpZGVzKHAuZmVhdHVyZUlkcyxyLmF0dHJpYnV0ZURhdGFJbmZvLGkpLGUubnVtRmVhdHVyZXM9cC5ncmFwaGljcy5sZW5ndGgsdGhpcy5fdXBkYXRlTm9kZU1lbW9yeShlKSxjZShwKSxuLmxlbmd0aD4wJiYodGhpcy5fY29tcHV0ZU9iYihlLG4sbCksdGhpcy5fY29udHJvbGxlci51cGRhdGVWaXNpYmlsaXR5KGUuaW5kZXgpKSwhdGhpcy5fY29udHJvbGxlci5pc0dlb21ldHJ5VmlzaWJsZShlKSlyZXR1cm4gdm9pZCB0aGlzLl9jYWNoZU5vZGVEYXRhKHApO2lmKG51bGwhPXRoaXMuX3ZlcnRpY2FsU2NhbGUpZm9yKGNvbnN0IHQgb2YgcC5ncmFwaGljcyl0aGlzLl92ZXJ0aWNhbFNjYWxlKHQuZ2VvbWV0cnkpO2NvbnN0IG09dGhpcy52aWV3LnN0YWdlLnJlbmRlclZpZXcub2xpZFJlbmRlckhlbHBlcjtpZihtKXtjb25zdCBlPUModGhpcy52aWV3LHRoaXMudWlkKTtmb3IobGV0IHQ9MDt0PHAuZmVhdHVyZUlkcy5sZW5ndGg7dCsrKXtjb25zdCByPXAuZmVhdHVyZUlkc1t0XTttLnNldFVpZFRvT2JqZWN0QW5kTGF5ZXJJZChyLHAuZ3JhcGhpY3NbdF0udWlkLHRoaXMubGF5ZXIuaWQsdGhpcy51aWQsdGhpcy5sYXllci5wb3B1cEVuYWJsZWQmJiFlJiZ0ZSh0aGlzLmxheWVyLHRoaXMudmlldy5wb3B1cD8uZGVmYXVsdFBvcHVwVGVtcGxhdGVFbmFibGVkKSxwLm5vZGUucmVzb3VyY2VzLmF0dHJpYnV0ZXMsdCl9fXRoaXMubG9hZGVkR3JhcGhpY3MuYWRkTm9kZShlLmluZGV4LHApLHRoaXMuX2NvbnRyb2xsZXIudXBkYXRlTG9hZFN0YXR1cyhlLmluZGV4LCEwKSx0aGlzLl9maWx0ZXJOb2RlKHApLHRoaXMuX3RyZWVEZWJ1Z2dlciYmdGhpcy5fdHJlZURlYnVnZ2VyLnVwZGF0ZSgpfV9jb21wdXRlT2JiKGUsdCxyKXtjb25zdCBpPXRoaXMuX2NvbnRyb2xsZXIuY3JzSW5kZXgscz1pLmlzR2VvZ3JhcGhpYz90aGlzLnZpZXcucmVuZGVyU3BhdGlhbFJlZmVyZW5jZTppO2ModCxyLDAsdCxzLDApLGUuc2VydmljZU9iYkluSW5kZXhTUj1ZKG5ldyBKKHQsMykpLGkuaXNHZW9ncmFwaGljJiYobShlLnNlcnZpY2VPYmJJbkluZGV4U1IuY2VudGVyLHMseWUsaSksZS5zZXJ2aWNlT2JiSW5JbmRleFNSLmNlbnRlcj15ZSl9aXNOb2RlTG9hZGVkKGUpe3JldHVybiB0aGlzLmxvYWRlZEdyYXBoaWNzLmhhc05vZGUoZSl9aXNOb2RlUmVsb2FkaW5nKCl7cmV0dXJuITF9dXBkYXRlTm9kZVN0YXRlKCl7fWdldE5vZGVDb21wb25lbnRIYW5kbGUoKXt9YXN5bmMgX2V4dHJhY3RCaW5hcnlQb2ludFBvc2l0aW9ucyhlLHQscil7Y29uc3QgaT1hd2FpdCB0aGlzLl9kZWNvbXByZXNzQmluYXJ5UG9pbnREYXRhKHQscikscz1pLnBvc2l0aW9uRGF0YSxvPTMsYT1zLmxlbmd0aC9vLG49ZigzKmEpLGw9bnVsbCE9ZS5zZXJ2aWNlT2JiSW5JbmRleFNSP2Uuc2VydmljZU9iYkluSW5kZXhTUi5jZW50ZXI6cCxkPU1hdGguYWJzKGxbMl0pKjIqKi0yMDtmb3IobGV0IHU9MDt1PGE7dSsrKXtjb25zdCBlPXUqbztuW2VdPXNbZV0rbFswXSxuW2UrMV09c1tlKzFdK2xbMV0sbltlKzJdPXNbZSsyXStsWzJdLE1hdGguYWJzKG5bZSsyXSk8ZCYmKG5bZSsyXT0wKX1yZXR1cm57ZmVhdHVyZUlkczppLmZlYXR1cmVJZHM/XyhpLmZlYXR1cmVJZHMpOltdLHBvaW50UG9zaXRpb25zOm59fV9leHRyYWN0TGVnYWN5UG9pbnRQb3NpdGlvbnMoZSl7Y29uc3QgdD1lLnBvaW50RGF0YS5sZW5ndGgscj1mKDMqdCksaT1uZXcgQXJyYXk7Zm9yKGxldCBzPTA7czx0O3MrKyl7Y29uc3QgdD1lLnBvaW50RGF0YVtzXSxvPXQuZmVhdHVyZURhdGFQb3NpdGlvbixhPW8ubGVuZ3RoLG49dC5nZW9tZXRyaWVzPy5bMF0/P2dlW2FdLGw9dC5mZWF0dXJlSWRzWzBdO2lmKFwiRW1iZWRkZWRcIiE9PW4udHlwZXx8XCJwb2ludHNcIiE9PW4ucGFyYW1zLnR5cGV8fGE8Mnx8YT4zKWNvbnRpbnVlO2NvbnN0IGQ9bi5wYXJhbXMudmVydGV4QXR0cmlidXRlcz8ucG9zaXRpb24/P1swLDAsMF0sdT0zKmkubGVuZ3RoO3JbdV09b1swXStkWzBdLHJbdSsxXT1vWzFdK2RbMV0sclt1KzJdPTM9PT1hP29bMl0rZFsyXTpOYU4saS5wdXNoKGwpfXJldHVybntmZWF0dXJlSWRzOmkscG9pbnRQb3NpdGlvbnM6cn19X3ZhbGlkYXRlUG9zaXRpb25zKGUscixpLHMsbyl7aWYobnVsbD09cyYmZS5zZXJ2aWNlT2JiSW5JbmRleFNSKXJldHVybjtjb25zdCBhPXIubGVuZ3RoLG49Mztmb3IobGV0IGw9MDtsPGE7bCsrKXtjb25zdCByPWwqbjt1KHllLGlbcl0saVtyKzFdLGlbcisyXSk7Y29uc3QgYT0hTnVtYmVyLmlzTmFOKGlbMl0pO251bGw9PXN8fChhP2cocyx5ZSk6eShzLHllKSl8fCh0aGlzLl9jb29yZGluYXRlc091dHNpZGVFeHRlbnRFcnJvcnM8dGhpcy5fbWF4Q29vcmRpbmF0ZXNPdXRzaWRlRXh0ZW50RXJyb3JzJiZ0LmdldExvZ2dlcih0aGlzKS5lcnJvcihcIlNlcnZpY2UgRXJyb3I6IENvb3JkaW5hdGVzIG91dHNpZGUgb2YgbGF5ZXIgZXh0ZW50XCIpLHRoaXMuX2Nvb3JkaW5hdGVzT3V0c2lkZUV4dGVudEVycm9ycysxPT09dGhpcy5fbWF4Q29vcmRpbmF0ZXNPdXRzaWRlRXh0ZW50RXJyb3JzJiZ0LmdldExvZ2dlcih0aGlzKS5lcnJvcihcIk1heGltdW0gbnVtYmVyIG9mIGVycm9ycyByZWFjaGVkLiBGdXJ0aGVyIGVycm9ycyBhcmUgaWdub3JlZC5cIiksdGhpcy5fY29vcmRpbmF0ZXNPdXRzaWRlRXh0ZW50RXJyb3JzKyspLGUuc2VydmljZU9iYkluSW5kZXhTUnx8by5wdXNoKHllWzBdLHllWzFdLHllWzJdKX19X2NyZWF0ZUdyYXBoaWNzKGUsdCxyLGkpe2NvbnN0IHM9ZS5sZW5ndGgsbz0zLGE9dGhpcy5fZ2V0T2JqZWN0SWRGaWVsZCgpLGw9dGhpcy5wcm9jZXNzb3IuZ3JhcGhpY3NDb3JlLGQ9bmV3IEFycmF5LHU9dGhpcy52aWV3LnNwYXRpYWxSZWZlcmVuY2U7Zm9yKGxldCBoPTA7aDxzO2grKyl7Y29uc3Qgcz1lW2hdLHA9e307bnVsbCE9cyYmKHBbYV09cyk7Y29uc3QgYz1zPz9uKCksbT1oKm8sZz1pc05hTih0W20rMl0pP3ZvaWQgMDp0W20rMl0seT1JKHRbbV0sdFttKzFdLGcsdSksZj10aGlzLmxvYWRlZEdyYXBoaWNzLmdldChjKTtpZihudWxsIT1mKShudWxsPT1mLmxldmVsfHxmLmxldmVsPGkpJiYoZmUucHJvcGVydHk9XCJnZW9tZXRyeVwiLGZlLmdyYXBoaWM9ZixmZS5vbGRWYWx1ZT1mLmdlb21ldHJ5LGZlLm5ld1ZhbHVlPXksZi5nZW9tZXRyeT15LGYubGV2ZWw9aSxsLmdyYXBoaWNVcGRhdGVIYW5kbGVyKGZlKSksZC5wdXNoKGYpO2Vsc2V7Y29uc3QgZT1uKCk7ZC5wdXNoKHtvYmplY3RJZDpjLHVpZDplLGdlb21ldHJ5OnksYXR0cmlidXRlczpwLHZpc2libGU6ITAsbm9kZUluZGV4OnIsbGV2ZWw6aX0pfX1yZXR1cm4gZH1fdXBkYXRlTm9kZU1lbW9yeShlKXtlLm1lbW9yeT00MDk2KyhlLm51bUZlYXR1cmVzPz8wKSp0aGlzLnByb2Nlc3Nvci5ncmFwaGljc0NvcmUudXNlZE1lbW9yeVBlckdyYXBoaWN9X2NhY2hlTm9kZURhdGEoZSl7dGhpcy5fbWVtQ2FjaGUucHV0KHRoaXMuX2dldE1lbUNhY2hlS2V5KGUubm9kZSksZSl9X2dldE1lbUNhY2hlS2V5KGUpe3JldHVybmAke2UuaW5kZXh9YH1fcmVtb3ZlQWxsTm9kZURhdGEoKXt0aGlzLmxvYWRlZEdyYXBoaWNzLmZvckVhY2hOb2RlKCgoZSx0KT0+e2lmKGUpe2NvbnN0IHQ9ZS5ub2RlO3RoaXMuX3VwZGF0ZU5vZGVNZW1vcnkodCksdGhpcy5fY2FjaGVOb2RlRGF0YShlKX10aGlzLl9jb250cm9sbGVyLnVwZGF0ZUxvYWRTdGF0dXModCwhMSl9KSksdGhpcy5fdHJlZURlYnVnZ2VyJiZ0aGlzLl90cmVlRGVidWdnZXIudXBkYXRlKCksdGhpcy5sb2FkZWRHcmFwaGljcy5jbGVhcigpfXJlbW92ZU5vZGUoZSl7Y29uc3QgdD10aGlzLl9yZW1vdmVOb2RlU3RhZ2VEYXRhKGUpO3QmJih0aGlzLl91cGRhdGVOb2RlTWVtb3J5KHQubm9kZSksdGhpcy5fY2FjaGVOb2RlRGF0YSh0KSl9X3JlbW92ZU5vZGVTdGFnZURhdGEoZSl7Y29uc3QgdD10aGlzLmxvYWRlZEdyYXBoaWNzLmdldE5vZGUoZSk7cmV0dXJuIG51bGw9PXQ/bnVsbDoodGhpcy5fY29udHJvbGxlci51cGRhdGVMb2FkU3RhdHVzKGUsITEpLHRoaXMubG9hZGVkR3JhcGhpY3MucmVtb3ZlTm9kZShlKSx0aGlzLl90cmVlRGVidWdnZXImJnRoaXMuX3RyZWVEZWJ1Z2dlci51cGRhdGUoKSx0KX1hc3luYyBsb2FkQ2FjaGVkTm9kZURhdGEoZSl7cmV0dXJuIHRoaXMuX21lbUNhY2hlPy5wb3AodGhpcy5fZ2V0TWVtQ2FjaGVLZXkoZSkpfWFzeW5jIGFkZENhY2hlZE5vZGVEYXRhKGUscixpLHMpe3RoaXMubG9hZGVkR3JhcGhpY3MuaGFzTm9kZShlLmluZGV4KT90LmdldExvZ2dlcih0aGlzKS5lcnJvcihcIkkzUyBub2RlIFwiK2UuaWQrXCIgYWxyZWFkeSBhZGRlZFwiKTooYXdhaXQgdGhpcy5faTNzT3ZlcnJpZGVzLmFwcGx5QXR0cmlidXRlT3ZlcnJpZGVzKHIuZmVhdHVyZUlkcyxpLHMpLHIuYXR0cmlidXRlSW5mbz1pLHRoaXMubG9hZGVkR3JhcGhpY3MuYWRkTm9kZShlLmluZGV4LHIpLHRoaXMuX2NvbnRyb2xsZXIudXBkYXRlTG9hZFN0YXR1cyhlLmluZGV4LCEwKSx0aGlzLl91cGRhdGVOb2RlTWVtb3J5KGUpLGNlKHIpLHRoaXMuX2ZpbHRlck5vZGUociksdGhpcy5fdHJlZURlYnVnZ2VyJiZ0aGlzLl90cmVlRGVidWdnZXIudXBkYXRlKCkpfWdldExvYWRlZE5vZGVJZHMoKXtjb25zdCBlPVtdO3JldHVybiB0aGlzLmxvYWRlZEdyYXBoaWNzLmZvckVhY2hOb2RlKCh0PT5lLnB1c2godC5ub2RlLmlkKSkpLGUuc29ydCgpfWdldFZpc2libGVOb2Rlcygpe2NvbnN0IGU9bmV3IEFycmF5O3JldHVybiB0aGlzLmxvYWRlZEdyYXBoaWNzLmZvckVhY2hOb2RlKCh0PT5lLnB1c2godC5ub2RlKSkpLGV9Z2V0TG9hZGVkTm9kZUluZGljZXMoZSl7dGhpcy5sb2FkZWRHcmFwaGljcy5mb3JFYWNoTm9kZSgoKHQscik9PmUucHVzaChyKSkpfWdldExvYWRlZEF0dHJpYnV0ZXMoZSl7Y29uc3QgdD10aGlzLmxvYWRlZEdyYXBoaWNzLmdldE5vZGUoZSk7aWYobnVsbCE9dD8uYXR0cmlidXRlSW5mbylyZXR1cm4gdC5hdHRyaWJ1dGVJbmZvLmxvYWRlZEF0dHJpYnV0ZXN9Z2V0QXR0cmlidXRlRGF0YShlKXtjb25zdCB0PXRoaXMubG9hZGVkR3JhcGhpY3MuZ2V0Tm9kZShlKTtpZihudWxsIT10Py5hdHRyaWJ1dGVJbmZvKXJldHVybiB0LmF0dHJpYnV0ZUluZm8uYXR0cmlidXRlRGF0YX1fc2V0QXR0cmlidXRlRGF0YShlLHQpe2NvbnN0IHI9dGhpcy5sb2FkZWRHcmFwaGljcy5nZXROb2RlKGUpO251bGwhPXI/LmF0dHJpYnV0ZUluZm8mJihyLmF0dHJpYnV0ZUluZm8uYXR0cmlidXRlRGF0YT10LHRoaXMuX2F0dHJpYnV0ZVZhbHVlc0NoYW5nZWQocikpfWFzeW5jIHVwZGF0ZUF0dHJpYnV0ZXMoZSx0LHIpe2NvbnN0IGk9dGhpcy5sb2FkZWRHcmFwaGljcy5nZXROb2RlKGUpO251bGwhPWkmJihhd2FpdCB0aGlzLl9pM3NPdmVycmlkZXMuYXBwbHlBdHRyaWJ1dGVPdmVycmlkZXMoaS5mZWF0dXJlSWRzLHQsciksaS5hdHRyaWJ1dGVJbmZvPXQsdGhpcy5fYXR0cmlidXRlVmFsdWVzQ2hhbmdlZChpKSl9X2F0dHJpYnV0ZVZhbHVlc0NoYW5nZWQoZSl7Y2UoZSksdGhpcy5fZmlsdGVyTm9kZShlKTtjb25zdHtwcm9jZXNzb3I6dH09dGhpcyx7Z3JhcGhpY3NDb3JlOnJ9PXQ7aWYoci5sYWJlbHNFbmFibGVkKXtjb25zdCB0PWUubm9kZS5pbmRleCxpPW5ldyBBcnJheTtlLmdyYXBoaWNzLmZvckVhY2goKGU9PmUubm9kZUluZGV4PT09dCYmaS5wdXNoKGUudWlkKSkpLHIudXBkYXRlTGFiZWxpbmdJbmZvKGkpfXQucmVmcmVzaEZpbHRlcigpfV91cGRhdGVDbGlwcGluZ0V4dGVudChlKXtyZXR1cm4gdGhpcy5fY29udHJvbGxlciYmdGhpcy5fY29udHJvbGxlci51cGRhdGVDbGlwcGluZ0FyZWEoZSksITF9X2dldE9iamVjdElkRmllbGQoKXtyZXR1cm4gdGhpcy5sYXllci5vYmplY3RJZEZpZWxkfHx2fV9nZXRHbG9iYWxJZEZpZWxkKCl7cmV0dXJuIHRoaXMubGF5ZXIuZ2xvYmFsSWRGaWVsZH1hc3luYyBfcmVuZGVyZXJDaGFuZ2UoZSx0KXtjb25zdHtsYXllcjp7ZmllbGRzSW5kZXg6cn19PXRoaXMsaT1uZXcgU2V0O2xldCBzLG87ZT8oYXdhaXQgZS5jb2xsZWN0UmVxdWlyZWRGaWVsZHMoaSxyKSxzPUFycmF5LmZyb20oaSkuc29ydCgpKTpzPVtdLGkuY2xlYXIoKSx0Pyhhd2FpdCB0LmNvbGxlY3RSZXF1aXJlZEZpZWxkcyhpLHIpLG89QXJyYXkuZnJvbShpKS5zb3J0KCkpOm89W10scy5sZW5ndGg9PT1vLmxlbmd0aCYmcy5ldmVyeSgoKGUsdCk9PnNbdF09PT1vW3RdKSl8fHRoaXMuX3JlbG9hZEFsbE5vZGVzKCl9X3JhbmdlSW5mb3NDaGFuZ2VkKGUpe251bGwhPWUmJmUubGVuZ3RoPjAmJnQuZ2V0TG9nZ2VyKHRoaXMpLndhcm4oXCJVbnN1cHBvcnRlZCBwcm9wZXJ0eTogcmFuZ2VJbmZvcyBhcmUgY3VycmVudGx5IG9ubHkgc2VyaWFsaXplZCB0byBhbmQgZnJvbSB3ZWIgc2NlbmVzIGJ1dCBkbyBub3QgYWZmZWN0IHJlbmRlcmluZy5cIil9X2ZpbHRlckNoYW5nZSgpe3RoaXMubG9hZGVkR3JhcGhpY3MuZm9yRWFjaE5vZGUoKGU9PnRoaXMuX2ZpbHRlck5vZGUoZSkpKX1fcmVsb2FkQWxsTm9kZXMoKXt0aGlzLl9yZW1vdmVBbGxOb2RlRGF0YSgpLHRoaXMuX2NvbnRyb2xsZXImJnRoaXMuX2NvbnRyb2xsZXIucmVzdGFydE5vZGVMb2FkaW5nKCl9X2ZpbHRlck5vZGUoZSl7Y29uc3QgdD10aGlzLnBhcnNlZERlZmluaXRpb25FeHByZXNzaW9uLHI9dGhpcy5fZXhjbHVkZU9iamVjdElkcyxpPXRoaXMuX2dldE9iamVjdElkRmllbGQoKTtmb3IoY29uc3QgcyBvZiBlLmdyYXBoaWNzKXtjb25zdCBlPXMudmlzaWJsZSxvPXRoaXMuX2V2YWx1YXRlQ2xhdXNlKHQscyksYT0hci5oYXMocy5hdHRyaWJ1dGVzW2ldKTtzLnZpc2libGU9byYmYSxlIT09cy52aXNpYmxlJiYoZmUuZ3JhcGhpYz1zLGZlLnByb3BlcnR5PVwidmlzaWJsZVwiLGZlLm9sZFZhbHVlPWUsZmUubmV3VmFsdWU9cy52aXNpYmxlLHRoaXMucHJvY2Vzc29yLmdyYXBoaWNzQ29yZS5ncmFwaGljVXBkYXRlSGFuZGxlcihmZSkpfX1jcmVhdGVRdWVyeSgpe2NvbnN0IGU9e291dEZpZWxkczpbXCIqXCJdLHJldHVybkdlb21ldHJ5OiEwLG91dFNwYXRpYWxSZWZlcmVuY2U6dGhpcy52aWV3LnNwYXRpYWxSZWZlcmVuY2V9O3JldHVybiB0aGlzLmZpbHRlcj8uY3JlYXRlUXVlcnkoZSk/P25ldyBOKGUpfXF1ZXJ5RmVhdHVyZXMoZSx0KXtyZXR1cm4gdGhpcy5fcXVlcnlFbmdpbmUuZXhlY3V0ZVF1ZXJ5KHRoaXMuX2Vuc3VyZVF1ZXJ5KGUpLHQ/LnNpZ25hbCl9cXVlcnlPYmplY3RJZHMoZSx0KXtyZXR1cm4gdGhpcy5fcXVlcnlFbmdpbmUuZXhlY3V0ZVF1ZXJ5Rm9ySWRzKHRoaXMuX2Vuc3VyZVF1ZXJ5KGUpLHQ/LnNpZ25hbCl9cXVlcnlGZWF0dXJlQ291bnQoZSx0KXtyZXR1cm4gdGhpcy5fcXVlcnlFbmdpbmUuZXhlY3V0ZVF1ZXJ5Rm9yQ291bnQodGhpcy5fZW5zdXJlUXVlcnkoZSksdD8uc2lnbmFsKX1xdWVyeUV4dGVudChlLHQpe3JldHVybiB0aGlzLl9xdWVyeUVuZ2luZS5leGVjdXRlUXVlcnlGb3JFeHRlbnQodGhpcy5fZW5zdXJlUXVlcnkoZSksdD8uc2lnbmFsKX1fZW5zdXJlUXVlcnkoZSl7cmV0dXJuIHRoaXMuX2FkZERlZmluaXRpb25FeHByZXNzaW9uVG9RdWVyeShudWxsPT1lP3RoaXMuY3JlYXRlUXVlcnkoKTpOLmZyb20oZSkpfV9zZXR1cFF1ZXJ5RW5naW5lKCl7Y29uc3R7bGF5ZXI6ZSx2aWV3OnQsaGFzTTpyLGhhc1o6aX09dGhpcyx7c3BhdGlhbFJlZmVyZW5jZTpzLHJlc291cmNlQ29udHJvbGxlcjpvfT10LGE9bmV3IEcocyxlLG8sKCgpPT50aGlzLnByb2Nlc3Nvci5mZWF0dXJlU3RvcmUpLGkscik7dGhpcy5fcXVlcnlFbmdpbmU9bmV3IEYoe2NvbnRleHQ6YSxwcmlvcml0eTpvZS5GRUFUVVJFX1FVRVJZX0VOR0lORX0pfWdldCB1c2VkTWVtb3J5KCl7cmV0dXJuIHRoaXMucHJvY2Vzc29yPy5ncmFwaGljc0NvcmU/LnVzZWRNZW1vcnk/PzB9Z2V0IHVubG9hZGVkTWVtb3J5KCl7cmV0dXJuLjgqKCh0aGlzLl9jb250cm9sbGVyPy51bmxvYWRlZE1lbW9yeUVzdGltYXRlPz8wKSsodGhpcy5wcm9jZXNzb3I/LmdyYXBoaWNzQ29yZT8udW5wcm9jZXNzZWRNZW1vcnlFc3RpbWF0ZT8/MCkpfWdldCBpZ25vcmVzTWVtb3J5RmFjdG9yKCl7cmV0dXJuIHRoaXMuX2NvbnRyb2xsZXImJnRoaXMuX2NvbnRyb2xsZXIuZml4ZWRGZWF0dXJlVGFyZ2V0fWFzeW5jIF9oYW5kbGVFZGl0cyhlKXtjb25zdCB0PXRoaXMuX2F0dHJpYnV0ZUVkaXRpbmdDb250ZXh0LHI9YXdhaXQgVih0LGUpO1AodCxyKX1nZXQgX2F0dHJpYnV0ZUVkaXRpbmdDb250ZXh0KCl7Y29uc3QgZT10aGlzLl9nZXRPYmplY3RJZEZpZWxkKCksdD10aGlzLl9nZXRHbG9iYWxJZEZpZWxkKCk7cmV0dXJue3Nlc3Npb25zOnRoaXMuX2ludGVyYWN0aXZlRWRpdGluZ1Nlc3Npb25zLGZpZWxkc0luZGV4OnRoaXMubGF5ZXIuZmllbGRzSW5kZXgsb2JqZWN0SWRGaWVsZDplLGdsb2JhbElkRmllbGQ6dCxmb3JFYWNoTm9kZTplPT50aGlzLmxvYWRlZEdyYXBoaWNzLmZvckVhY2hOb2RlKCh0PT5lKHQubm9kZSx0LmZlYXR1cmVJZHMpKSksYXR0cmlidXRlU3RvcmFnZUluZm86dGhpcy5pM3NsYXllci5hdHRyaWJ1dGVTdG9yYWdlSW5mbz8/W10saTNzT3ZlcnJpZGVzOnRoaXMuX2kzc092ZXJyaWRlcyxnZXRBdHRyaWJ1dGVEYXRhOmU9PnRoaXMuZ2V0QXR0cmlidXRlRGF0YShlKSxzZXRBdHRyaWJ1dGVEYXRhOih0LHIsaSk9Pnt0aGlzLl9zZXRBdHRyaWJ1dGVEYXRhKHQscik7Y29uc3Qgcz10aGlzLmxvYWRlZEdyYXBoaWNzLmdldE5vZGUodCk7aWYobnVsbCE9aSl7Y29uc3QgdD10aGlzLmxvYWRlZEdyYXBoaWNzLmdldChpLmF0dHJpYnV0ZXNbZV0pO251bGwhPXQmJnRoaXMucHJvY2Vzc29yLmdyYXBoaWNzQ29yZS5yZWNyZWF0ZUdyYXBoaWNzKFt0XSl9ZWxzZSBudWxsIT1zJiZ0aGlzLnByb2Nlc3Nvci5ncmFwaGljc0NvcmUucmVjcmVhdGVHcmFwaGljcyhzLmdyYXBoaWNzKX0sY2xlYXJNZW1DYWNoZTooKT0+e319fWdldCBwZXJmb3JtYW5jZUluZm8oKXtyZXR1cm4gbmV3IGsodGhpcy51c2VkTWVtb3J5LHRoaXMubG9hZGVkR3JhcGhpY3MubGVuZ3RoLC0xLHRoaXMubWF4aW11bU51bWJlck9mRmVhdHVyZXMsdGhpcy5sb2FkZWRHcmFwaGljcy5ub2RlQ291bnQsdGhpcy5wcm9jZXNzb3IuZ3JhcGhpY3NDb3JlLnBlcmZvcm1hbmNlSW5mbyl9Z2V0IHRlc3QoKXt9fTtlKFtsKCldLGxlLnByb3RvdHlwZSxcInByb2Nlc3NvclwiLHZvaWQgMCksZShbbCh7dHlwZTpqfSldLGxlLnByb3RvdHlwZSxcImZpbHRlclwiLHZvaWQgMCksZShbbCgpXSxsZS5wcm90b3R5cGUsXCJsb2FkZWRHcmFwaGljc1wiLHZvaWQgMCksZShbbCgpXSxsZS5wcm90b3R5cGUsXCJpM3NsYXllclwiLG51bGwpLGUoW2woKV0sbGUucHJvdG90eXBlLFwibGF5ZXJWaWV3VWlkXCIsbnVsbCksZShbbCgpXSxsZS5wcm90b3R5cGUsXCJfY29udHJvbGxlclwiLHZvaWQgMCksZShbbCgpXSxsZS5wcm90b3R5cGUsXCJ1cGRhdGluZ1wiLHZvaWQgMCksZShbbCgpXSxsZS5wcm90b3R5cGUsXCJzdXNwZW5kZWRcIix2b2lkIDApLGUoW2woJCldLGxlLnByb3RvdHlwZSxcInVwZGF0aW5nUHJvZ3Jlc3NcIix2b2lkIDApLGUoW2woKV0sbGUucHJvdG90eXBlLFwidXBkYXRpbmdQcm9ncmVzc1ZhbHVlXCIsbnVsbCksZShbbCh7cmVhZE9ubHk6ITB9KV0sbGUucHJvdG90eXBlLFwidmlzaWJsZUF0Q3VycmVudFNjYWxlXCIsbnVsbCksZShbbChhZS5yZXF1aXJlZEZpZWxkcyldLGxlLnByb3RvdHlwZSxcInJlcXVpcmVkRmllbGRzXCIsbnVsbCksZShbbChhZS5hdmFpbGFibGVGaWVsZHMpXSxsZS5wcm90b3R5cGUsXCJhdmFpbGFibGVGaWVsZHNcIix2b2lkIDApLGUoW2woKV0sbGUucHJvdG90eXBlLFwiX2ZpZWxkc0hlbHBlclwiLHZvaWQgMCksZShbbCh7dHlwZTpOdW1iZXJ9KV0sbGUucHJvdG90eXBlLFwibWF4aW11bU51bWJlck9mRmVhdHVyZXNcIixudWxsKSxlKFtsKHtyZWFkT25seTohMH0pXSxsZS5wcm90b3R5cGUsXCJtYXhpbXVtTnVtYmVyT2ZGZWF0dXJlc0V4Y2VlZGVkXCIsbnVsbCksZShbbCgpXSxsZS5wcm90b3R5cGUsXCJfZXhjbHVkZU9iamVjdElkc1wiLG51bGwpLGUoW2woe3JlYWRPbmx5OiEwfSldLGxlLnByb3RvdHlwZSxcImxvZEZhY3RvclwiLG51bGwpLGUoW2woe3JlYWRPbmx5OiEwfSldLGxlLnByb3RvdHlwZSxcImhhc01cIixudWxsKSxlKFtsKHtyZWFkT25seTohMH0pXSxsZS5wcm90b3R5cGUsXCJoYXNaXCIsbnVsbCksZShbbCgpXSxsZS5wcm90b3R5cGUsXCJjb250ZW50VmlzaWJsZVwiLG51bGwpLGUoW2woe3JlYWRPbmx5OiEwfSldLGxlLnByb3RvdHlwZSxcImxlZ2VuZEVuYWJsZWRcIixudWxsKSxsZT1lKFtkKFwiZXNyaS52aWV3cy4zZC5sYXllcnMuU2NlbmVMYXllckdyYXBoaWNzVmlldzNEXCIpXSxsZSk7Y29uc3QgZGU9bGU7ZnVuY3Rpb24gdWUoZSl7cmV0dXJuXCJwb2ludERhdGFcImluIGV9ZnVuY3Rpb24gaGUoZSl7cmV0dXJuXCJnZW9tZXRyeUJ1ZmZlclwiaW4gZSYmbnVsbCE9PWUuZ2VvbWV0cnlCdWZmZXJ9ZnVuY3Rpb24gcGUoZSx0LHIpe2NvbnN0IGk9dC5hdHRyaWJ1dGVJbmZvO2lmKG51bGw9PWk/LmxvYWRlZEF0dHJpYnV0ZXN8fG51bGw9PWkuYXR0cmlidXRlRGF0YSlyZXR1cm4hMTtsZXQgcz0hMTtmb3IoY29uc3R7bmFtZTpvfW9mIGkubG9hZGVkQXR0cmlidXRlcylpZihpLmF0dHJpYnV0ZURhdGFbb10pe2NvbnN0IHQ9TChpLmF0dHJpYnV0ZURhdGFbb10scik7dCE9PWUuYXR0cmlidXRlc1tvXSYmKGUuYXR0cmlidXRlc1tvXT10LHM9ITApfXJldHVybiBzfWZ1bmN0aW9uIGNlKGUpe2NvbnN0IHQ9ZS5hdHRyaWJ1dGVJbmZvO2lmKG51bGw9PXQ/LmxvYWRlZEF0dHJpYnV0ZXN8fG51bGw9PXQuYXR0cmlidXRlRGF0YSlyZXR1cm47Y29uc3Qgcj1lLm5vZGUuaW5kZXg7Zm9yKGxldCBpPTA7aTxlLmdyYXBoaWNzLmxlbmd0aDtpKyspe2NvbnN0IHM9ZS5ncmFwaGljc1tpXTtpZihzLm5vZGVJbmRleD09PXIpe3MuYXR0cmlidXRlc3x8KHMuYXR0cmlidXRlcz17fSk7Zm9yKGNvbnN0e25hbWU6ZX1vZiB0LmxvYWRlZEF0dHJpYnV0ZXMpdC5hdHRyaWJ1dGVEYXRhW2VdJiYocy5hdHRyaWJ1dGVzW2VdPUwodC5hdHRyaWJ1dGVEYXRhW2VdLGkpKX19fWZ1bmN0aW9uIG1lKGUsdCl7cmV0dXJuIGUueG1pbi09dCxlLnltaW4tPXQsZS54bWF4Kz10LGUueW1heCs9dCxudWxsIT1lLnptaW4mJm51bGwhPWUuem1heCYmKGUuem1pbi09dCxlLnptYXgrPXQpLG51bGwhPWUubW1pbiYmbnVsbCE9ZS5tbWF4JiYoZS5tbWluLT10LGUubW1heCs9dCksZX1jb25zdCBnZT17Mjp7dHlwZTpcIkVtYmVkZGVkXCIscGFyYW1zOnt0eXBlOlwicG9pbnRzXCIsdmVydGV4QXR0cmlidXRlczp7cG9zaXRpb246WzAsMF19fX0sMzp7dHlwZTpcIkVtYmVkZGVkXCIscGFyYW1zOnt0eXBlOlwicG9pbnRzXCIsdmVydGV4QXR0cmlidXRlczp7cG9zaXRpb246WzAsMCwwXX19fX0seWU9aCgpLGZlPXtncmFwaGljOm51bGwscHJvcGVydHk6bnVsbCxvbGRWYWx1ZTpudWxsLG5ld1ZhbHVlOm51bGx9O2V4cG9ydHtkZSBhcyBkZWZhdWx0fTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjMzL2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnQgZSBmcm9tXCIuLi8uLi8uLi8uLi9jb3JlL0V2ZW50ZWQuanNcIjtpbXBvcnRcIi4uLy4uLy4uLy4uL2NvcmUvaGFzLmpzXCI7aW1wb3J0e2ZpbmRJbk1hcCBhcyB0LHNvbWVNYXAgYXMgc31mcm9tXCIuLi8uLi8uLi8uLi9jb3JlL01hcFV0aWxzLmpzXCI7Y2xhc3MgaSBleHRlbmRzIGV7Y29uc3RydWN0b3IoZSx0KXtzdXBlcigpLHRoaXMuX3VwZGF0ZUFuZENvbXBhcmU9ZSx0aGlzLl9ub3RpZnlVcGRhdGVkPXQsdGhpcy5fbm9kZXM9bmV3IE1hcCx0aGlzLl9ncmFwaGljcz1uZXcgTWFwLHRoaXMuX2R1cGxpY2F0ZXM9bmV3IE1hcH1jbGVhcigpe2lmKHRoaXMuX2dyYXBoaWNzLnNpemU+MCl7Y29uc3QgZT10aGlzLnRvQXJyYXkoKTt0aGlzLl9ncmFwaGljcy5jbGVhcigpLHRoaXMuZW1pdChcImNoYW5nZVwiLHthZGRlZDpbXSxyZW1vdmVkOmV9KX10aGlzLl9ub2Rlcy5jbGVhcigpfWdldCBsZW5ndGgoKXtyZXR1cm4gdGhpcy5fZ3JhcGhpY3Muc2l6ZX1nZXQoZSl7cmV0dXJuIHRoaXMuX2dyYXBoaWNzLmdldChlKX1nZXROb2RlKGUpe3JldHVybiB0aGlzLl9ub2Rlcy5nZXQoZSl9aGFzTm9kZShlKXtyZXR1cm4gdGhpcy5fbm9kZXMuaGFzKGUpfW5vZGVzKCl7cmV0dXJuIHRoaXMuX25vZGVzLnZhbHVlcygpfWFkZE5vZGUoZSx0KXt0aGlzLl9ub2Rlcy5zZXQoZSx0KTtjb25zdCBzPXQuZ3JhcGhpY3M7aWYoMD09PXMubGVuZ3RoKXJldHVybjtjb25zdCBpPW5ldyBTZXQ7Zm9yKGxldCBvPTA7bzxzLmxlbmd0aDtvKyspe2NvbnN0IHQ9c1tvXSxuPXQub2JqZWN0SWQsaD10aGlzLl9ncmFwaGljcy5nZXQobik7aWYoaCl7aS5hZGQobiksdCE9PWgmJihzW29dPWgpO2NvbnN0IHI9dGhpcy5fZHVwbGljYXRlcy5nZXQobik7cj9yLnB1c2goZSk6dGhpcy5fZHVwbGljYXRlcy5zZXQobixbaC5ub2RlSW5kZXgsZV0pfWVsc2UgdC5ub2RlSW5kZXg9ZSx0aGlzLl9ncmFwaGljcy5zZXQobix0KX1pLnNpemUmJnRoaXMuX3VwZGF0ZUZvcmVpZ25HcmFwaGljcyh0KTtjb25zdCBuPWkuc2l6ZT4wP3MuZmlsdGVyKChlPT4haS5oYXMoZS5vYmplY3RJZCkpKTpzO24ubGVuZ3RoPjAmJnRoaXMuZW1pdChcImNoYW5nZVwiLHthZGRlZDpuLHJlbW92ZWQ6W119KX1yZW1vdmVOb2RlKGUpe2NvbnN0IHQ9dGhpcy5fbm9kZXMuZ2V0KGUpO2lmKCF0KXJldHVybjt0aGlzLl9ub2Rlcy5kZWxldGUoZSk7Y29uc3Qgcz1uZXcgU2V0LGk9W107Zm9yKGNvbnN0IG4gb2YgdC5ncmFwaGljcyl7Y29uc3QgdD1uLm9iamVjdElkLG89dGhpcy5fZ3JhcGhpY3MuZ2V0KHQpO2lmKCFvKWNvbnRpbnVlO2NvbnN0IGg9dGhpcy5fZHVwbGljYXRlcy5nZXQodCk7aWYoaCl7Y29uc3QgaT1oLmluZGV4T2YoZSk7aWYoLTE9PT1pKWNvbnRpbnVlO2lmKGguc3BsaWNlKGksMSksby5ub2RlSW5kZXg9PT1lKXtsZXQgZT10aGlzLmdldE5vZGUoaFswXSk7Zm9yKGxldCB0PTE7dDxoLmxlbmd0aDt0Kyspe2NvbnN0IHM9dGhpcy5nZXROb2RlKGhbdF0pOyhudWxsPT1lfHxudWxsIT1zJiZzLm5vZGUubGV2ZWw+ZS5ub2RlLmxldmVsKSYmKGU9cyl9bnVsbCE9ZSYmcy5hZGQoZSl9MT09PWgubGVuZ3RoJiZ0aGlzLl9kdXBsaWNhdGVzLmRlbGV0ZSh0KX1lbHNlIHRoaXMuX2dyYXBoaWNzLmRlbGV0ZSh0KSxpLnB1c2gobil9aS5sZW5ndGg+MCYmdGhpcy5lbWl0KFwiY2hhbmdlXCIse2FkZGVkOltdLHJlbW92ZWQ6aX0pLHMuZm9yRWFjaCgoZT0+dGhpcy5fdXBkYXRlRm9yZWlnbkdyYXBoaWNzKGUpKSl9X3VwZGF0ZUZvcmVpZ25HcmFwaGljcyhlKXtjb25zdCB0PVtdLHM9ZS5ub2RlLmluZGV4LGk9ZS5ub2RlLmxldmVsO2xldCBuPTA7Zm9yKDtuPGUuZ3JhcGhpY3MubGVuZ3RoOyl7Y29uc3Qgbz1lLmdyYXBoaWNzW25dLm5vZGVJbmRleDtpZihvPT09cyl7bisrO2NvbnRpbnVlfWxldCBoPTE7Zm9yKDtuK2g8ZS5ncmFwaGljcy5sZW5ndGgmJmUuZ3JhcGhpY3NbbitoXS5ub2RlSW5kZXg9PT1vOyloKys7Y29uc3Qgcj10aGlzLmdldE5vZGUobyk7aWYobnVsbCE9ciYmci5ub2RlLmxldmVsPmkpbis9aDtlbHNle2ZvcihsZXQgaT1uO2k8bitoO2krKyl7Y29uc3Qgbj1lLmdyYXBoaWNzW2ldO24ubm9kZUluZGV4PXMsdGhpcy5fdXBkYXRlQW5kQ29tcGFyZShuLGUsaSkmJnQucHVzaChuKX1uKz1ofX10Lmxlbmd0aD4wJiZ0aGlzLl9ub3RpZnlVcGRhdGVkKHQpfXRvQXJyYXkoKXtyZXR1cm4gQXJyYXkuZnJvbSh0aGlzLl9ncmFwaGljcy52YWx1ZXMoKSl9ZmluZChlKXtyZXR1cm4gdCh0aGlzLl9ncmFwaGljcyxlKX1zb21lKGUpe3JldHVybiBzKHRoaXMuX2dyYXBoaWNzLGUpfWZvckVhY2goZSl7dGhpcy5fZ3JhcGhpY3MuZm9yRWFjaCgodD0+ZSh0KSkpfWZvckVhY2hOb2RlKGUpe3RoaXMuX25vZGVzLmZvckVhY2goKCh0LHMpPT5lKHQscykpKX1nZXQgbm9kZUNvdW50KCl7cmV0dXJuIHRoaXMuX25vZGVzLnNpemV9X2NoZWNrSW52YXJpYW50cygpe2NvbnN0IGU9bmV3IE1hcDt0aGlzLl9ub2Rlcy5mb3JFYWNoKCgodCxzKT0+e3QuZ3JhcGhpY3MuZm9yRWFjaCgodD0+e2Uuc2V0KHQub2JqZWN0SWQsMSsoZS5nZXQodC5vYmplY3RJZCk/PzApKSx0aGlzLl9kdXBsaWNhdGVzLmdldCh0Lm9iamVjdElkKX0pKX0pKSxlLmZvckVhY2goKChlLHQpPT57Y29uc3Qgcz10aGlzLl9ncmFwaGljcy5nZXQodCk7aWYoIXMpcmV0dXJuO2lmKCF0aGlzLl9ub2Rlcy5nZXQocy5ub2RlSW5kZXgpKXJldHVybjtjb25zdCBpPXRoaXMuX2R1cGxpY2F0ZXMuZ2V0KHQpO2kmJmkuZm9yRWFjaCgoZT0+e3RoaXMuX25vZGVzLmdldChlKX0pKX0pKX19ZXhwb3J0e2kgYXMgSTNTR3JhcGhpY3NNYXB9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMzMvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtfIGFzIHJ9ZnJvbVwiLi4vLi4vLi4vLi4vY2h1bmtzL3RzbGliLmVzNi5qc1wiO2ltcG9ydCBlIGZyb21cIi4uLy4uLy4uLy4uL2NvcmUvTG9nZ2VyLmpzXCI7aW1wb3J0e3Byb3BlcnR5IGFzIGl9ZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9wcm9wZXJ0eS5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vLi4vY29yZS9oYXMuanNcIjtpbXBvcnRcIi4uLy4uLy4uLy4uL2NvcmUvUmFuZG9tTENHLmpzXCI7aW1wb3J0e3N1YmNsYXNzIGFzIHN9ZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9zdWJjbGFzcy5qc1wiO2ltcG9ydCBvIGZyb21cIi4uLy4uLy4uLy4uL2NvcmUvc3FsL1doZXJlQ2xhdXNlLmpzXCI7aW1wb3J0e2ZpbmRGaWVsZHNDYXNlSW5zZW5zaXRpdmUgYXMgbn1mcm9tXCIuLi9pM3MvSTNTVXRpbC5qc1wiO2NvbnN0IHQ9dD0+e2xldCBwPWNsYXNzIGV4dGVuZHMgdHtjb25zdHJ1Y3Rvcigpe3N1cGVyKC4uLmFyZ3VtZW50cyksdGhpcy5fZGVmaW5pdGlvbkV4cHJlc3Npb25FcnJvcnM9MCx0aGlzLl9tYXhEZWZpbml0aW9uRXhwcmVzc2lvbkVycm9ycz0yMCx0aGlzLmxvZ0Vycm9yPXI9Pnt0aGlzLl9kZWZpbml0aW9uRXhwcmVzc2lvbkVycm9yczx0aGlzLl9tYXhEZWZpbml0aW9uRXhwcmVzc2lvbkVycm9ycyYmZS5nZXRMb2dnZXIodGhpcykuZXJyb3IoXCJFcnJvciB3aGlsZSBldmFsdWF0aW5nIGRlZmluaXRpb25FeHByZXNzaW9uOiBcIityKSx0aGlzLl9kZWZpbml0aW9uRXhwcmVzc2lvbkVycm9ycysrLHRoaXMuX2RlZmluaXRpb25FeHByZXNzaW9uRXJyb3JzPT09dGhpcy5fbWF4RGVmaW5pdGlvbkV4cHJlc3Npb25FcnJvcnMmJmUuZ2V0TG9nZ2VyKHRoaXMpLmVycm9yKFwiRnVydGhlciBlcnJvcnMgYXJlIGlnbm9yZWRcIil9fWdldCBwYXJzZWREZWZpbml0aW9uRXhwcmVzc2lvbigpe2lmKCF0aGlzLmkzc2xheWVyPy5kZWZpbml0aW9uRXhwcmVzc2lvbilyZXR1cm4gbnVsbDt0cnl7Y29uc3Qgcj1vLmNyZWF0ZSh0aGlzLmkzc2xheWVyLmRlZmluaXRpb25FeHByZXNzaW9uLHtmaWVsZHNJbmRleDp0aGlzLmkzc2xheWVyLmZpZWxkc0luZGV4fSk7aWYoIXIuaXNTdGFuZGFyZGl6ZWQpcmV0dXJuIGUuZ2V0TG9nZ2VyKHRoaXMpLmVycm9yKFwiZGVmaW5pdGlvbkV4cHJlc3Npb24gaXMgdXNpbmcgbm9uIHN0YW5kYXJkIGZ1bmN0aW9uXCIpLG51bGw7Y29uc3QgaT1bXSxzPXIuZmllbGROYW1lcztyZXR1cm4gbihzLHRoaXMuaTNzbGF5ZXIuZmllbGRzSW5kZXgse21pc3NpbmdGaWVsZHM6aX0pLGkubGVuZ3RoPjA/KGUuZ2V0TG9nZ2VyKHRoaXMpLmVycm9yKGBkZWZpbml0aW9uRXhwcmVzc2lvbiByZWZlcmVuY2VzIHVua25vd24gZmllbGRzOiAke2kuam9pbihcIiwgXCIpfWApLG51bGwpOih0aGlzLl9kZWZpbml0aW9uRXhwcmVzc2lvbkVycm9ycz0wLHIpfWNhdGNoKHIpe3JldHVybiBlLmdldExvZ2dlcih0aGlzKS5lcnJvcihcIkZhaWxlZCB0byBwYXJzZSBkZWZpbml0aW9uRXhwcmVzc2lvbjogXCIrciksbnVsbH19Z2V0IGRlZmluaXRpb25FeHByZXNzaW9uRmllbGRzKCl7cmV0dXJuIHRoaXMucGFyc2VkRGVmaW5pdGlvbkV4cHJlc3Npb24/dGhpcy5wYXJzZWREZWZpbml0aW9uRXhwcmVzc2lvbi5maWVsZE5hbWVzOltdfV9ldmFsdWF0ZUNsYXVzZShyLGUpe2lmKG51bGw9PXIpcmV0dXJuITA7dHJ5e3JldHVybiByLnRlc3RGZWF0dXJlKGUpfWNhdGNoKGkpe3JldHVybiB0aGlzLmxvZ0Vycm9yKGkpLCExfX1fYWRkRGVmaW5pdGlvbkV4cHJlc3Npb25Ub1F1ZXJ5KHIpe2lmKCF0aGlzLnBhcnNlZERlZmluaXRpb25FeHByZXNzaW9uKXJldHVybiByO2NvbnN0IGU9dGhpcy5pM3NsYXllci5kZWZpbml0aW9uRXhwcmVzc2lvbixpPXIuY2xvbmUoKTtyZXR1cm4gaS53aGVyZT9pLndoZXJlPWAoJHtlfSkgQU5EICgke2kud2hlcmV9KWA6aS53aGVyZT1lLGl9fTtyZXR1cm4gcihbaSh7cmVhZE9ubHk6ITB9KV0scC5wcm90b3R5cGUsXCJwYXJzZWREZWZpbml0aW9uRXhwcmVzc2lvblwiLG51bGwpLHIoW2koe3JlYWRPbmx5OiEwfSldLHAucHJvdG90eXBlLFwiZGVmaW5pdGlvbkV4cHJlc3Npb25GaWVsZHNcIixudWxsKSxwPXIoW3MoXCJlc3JpLnZpZXdzLjNkLmxheWVycy5zdXBwb3J0LkRlZmluaXRpb25FeHByZXNzaW9uU2NlbmVMYXllclZpZXdcIildLHApLHB9O2V4cG9ydHt0IGFzIERlZmluaXRpb25FeHByZXNzaW9uU2NlbmVMYXllclZpZXd9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMzMvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtfIGFzIHR9ZnJvbVwiLi4vLi4vLi4vLi4vY2h1bmtzL3RzbGliLmVzNi5qc1wiO2ltcG9ydHtwcm9wZXJ0eSBhcyBlfWZyb21cIi4uLy4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvcHJvcGVydHkuanNcIjtpbXBvcnRcIi4uLy4uLy4uLy4uL2NvcmUvaGFzLmpzXCI7aW1wb3J0XCIuLi8uLi8uLi8uLi9jb3JlL0xvZ2dlci5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vLi4vY29yZS9SYW5kb21MQ0cuanNcIjtpbXBvcnR7c3ViY2xhc3MgYXMgcn1mcm9tXCIuLi8uLi8uLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3N1YmNsYXNzLmpzXCI7aW1wb3J0e2dldFRpbWVPcGVyYXRvciBhcyBpfWZyb21cIi4uLy4uLy4uLy4uL2xheWVycy9ncmFwaGljcy9kYXRhL3RpbWVTdXBwb3J0LmpzXCI7aW1wb3J0IHMgZnJvbVwiLi4vLi4vLi4vLi4vbGF5ZXJzL3N1cHBvcnQvRmVhdHVyZUZpbHRlci5qc1wiO2ltcG9ydHtjb21iaW5lVGltZUV4dGVudCBhcyBufWZyb21cIi4uLy4uLy4uLy4uL2xheWVycy9zdXBwb3J0L3RpbWVTdXBwb3J0LmpzXCI7aW1wb3J0e2dldENhY2hlZEF0dHJpYnV0ZVZhbHVlIGFzIG99ZnJvbVwiLi4vaTNzL0kzU0JpbmFyeVJlYWRlci5qc1wiO2ltcG9ydHtmaWx0ZXJJblBsYWNlIGFzIGx9ZnJvbVwiLi4vaTNzL0kzU1V0aWwuanNcIjtjb25zdCB1PWk9PntsZXQgbz1jbGFzcyBleHRlbmRzIGl7Z2V0IHRpbWVFeHRlbnQoKXtyZXR1cm4gbih0aGlzLmkzc2xheWVyLHRoaXMudmlldz8udGltZUV4dGVudCx0aGlzLl9nZXQoXCJ0aW1lRXh0ZW50XCIpKX1nZXQgbWVyZ2VkRmlsdGVyKCl7Y29uc3R7ZmlsdGVyOnQsdGltZUV4dGVudDplfT10aGlzO2lmKG51bGw9PWUpcmV0dXJuIHQ7Y29uc3Qgcj10Py5jbG9uZSgpPz9uZXcgcztyZXR1cm4gbnVsbCE9ZSYmKHIudGltZUV4dGVudD1yLnRpbWVFeHRlbnQ/LmludGVyc2VjdGlvbihlKT8/ZSkscn1nZXRUaW1lRmlsdGVyRGVwZW5kZW5jaWVzKCl7Y29uc3R7dGltZUluZm86dH09dGhpcy5pM3NsYXllcjtpZihudWxsPT10KXJldHVybltdO2NvbnN0e3N0YXJ0RmllbGQ6ZSxlbmRGaWVsZDpyfT10O3JldHVybltlLHJdfWFkZFRpbWVGaWx0ZXIodCxlKXtpZihudWxsPT1lKXJldHVybjtjb25zdHt0aW1lSW5mbzpyfT10aGlzLmkzc2xheWVyO2lmKG51bGw9PXIpcmV0dXJuO2NvbnN0e3N0YXJ0RmllbGQ6aSxlbmRGaWVsZDpzLHVzZVRpbWU6bn09cjtpZighbnx8bnVsbD09aSYmbnVsbD09cylyZXR1cm47Y29uc3Qgbz1yLnRvSlNPTigpLGw9ZS50b0pTT04oKTt0LnB1c2goKCh0LGUpPT5hKHQsZSxvLGwpKSl9fTtyZXR1cm4gdChbZSh7cmVhZE9ubHk6ITB9KV0sby5wcm90b3R5cGUsXCJ0aW1lRXh0ZW50XCIsbnVsbCksdChbZSgpXSxvLnByb3RvdHlwZSxcIm1lcmdlZEZpbHRlclwiLG51bGwpLG89dChbcihcImVzcmkudmlld3MuM2QubGF5ZXJzLnN1cHBvcnQuVGVtcG9yYWxTY2VuZUxheWVyVmlld1wiKV0sbyksb307ZnVuY3Rpb24gYSh0LGUscixzKXtjb25zdCBuPWUuYXR0cmlidXRlSW5mbz8uYXR0cmlidXRlRGF0YTtpZihudWxsPT1uKXJldHVybjtjb25zdHtzdGFydFRpbWVGaWVsZDpvLGVuZFRpbWVGaWVsZDp1fT1yO2lmKCEhKG51bGwhPW8mJm51bGw9PW5bb118fG51bGwhPXUmJm51bGw9PW5bdV0pKXJldHVybjtjb25zdCBhPWkocixzLG5ldyBtKG4pKTtpZihudWxsPT1hKXJldHVybjtjb25zdHtmZWF0dXJlSWRzOnB9PWU7bCh0LHAsYSl9Y2xhc3MgbXtjb25zdHJ1Y3Rvcih0KXt0aGlzLmF0dHJpYnV0ZURhdGE9dH1nZXRBdHRyaWJ1dGUodCxlKXtyZXR1cm4gbyh0aGlzLmF0dHJpYnV0ZURhdGFbZV0sdCl9Z2V0QXR0cmlidXRlQXNUaW1lc3RhbXAodCxlKXtjb25zdCByPXRoaXMuZ2V0QXR0cmlidXRlKHQsZSk7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIHI/bmV3IERhdGUocikuZ2V0VGltZSgpOlwibnVtYmVyXCI9PXR5cGVvZiByfHxudWxsPT1yP3I6bnVsbH19ZXhwb3J0e3UgYXMgVGVtcG9yYWxTY2VuZUxheWVyVmlld307XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4zMy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e1dlYlNjZW5lVGFnIGFzIG99ZnJvbVwiLi4vc3VwcG9ydC90YWdTeW1ib2xzLmpzXCI7ZnVuY3Rpb24gdCh0KXtyZXR1cm4gbnVsbCE9dCYmXCJvYmplY3RcIj09dHlwZW9mIHQmJm8gaW4gdH1leHBvcnR7dCBhcyBpc1dlYlNjZW5lfTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==