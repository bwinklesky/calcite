export const __webpack_id__ = "vendors-node_modules_arcgis_core_layers_support_layersCreator_js";
export const __webpack_ids__ = ["vendors-node_modules_arcgis_core_layers_support_layersCreator_js"];
export const __webpack_modules__ = {

/***/ "./node_modules/@arcgis/core/layers/support/LayerLoadContext.js":
/*!**********************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/support/LayerLoadContext.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   LayerLoadContext: () => (/* binding */ e)
/* harmony export */ });
/* harmony import */ var _support_requestPresets_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../support/requestPresets.js */ "./node_modules/@arcgis/core/support/requestPresets.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
class e{constructor(){this._serviceMetadatas=new Map,this._itemDatas=new Map}async fetchServiceMetadata(e,a){const s=this._serviceMetadatas.get(e);if(s)return s;const r=await (0,_support_requestPresets_js__WEBPACK_IMPORTED_MODULE_0__.fetchArcGISServiceJSON)(e,a);return this._serviceMetadatas.set(e,r),r}async fetchItemData(t){const{id:e}=t;if(!e)return null;const{_itemDatas:a}=this;if(a.has(e))return a.get(e);const s=await t.fetchData();return a.set(e,s),s}async fetchCustomParameters(t,e){const a=await this.fetchItemData(t);return a&&"object"==typeof a&&(e?e(a):a.customParameters)||null}}


/***/ }),

/***/ "./node_modules/@arcgis/core/layers/support/layersCreator.js":
/*!*******************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/support/layersCreator.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   populateGroupLayer: () => (/* binding */ v),
/* harmony export */   populateOperationalLayers: () => (/* binding */ l)
/* harmony export */ });
/* harmony import */ var _core_Collection_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../core/Collection.js */ "./node_modules/@arcgis/core/core/Collection.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _LayerLoadContext_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./LayerLoadContext.js */ "./node_modules/@arcgis/core/layers/support/LayerLoadContext.js");
/* harmony import */ var _lazyLayerLoader_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./lazyLayerLoader.js */ "./node_modules/@arcgis/core/layers/support/lazyLayerLoader.js");
/* harmony import */ var _portal_PortalItem_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../portal/PortalItem.js */ "./node_modules/@arcgis/core/portal/PortalItem.js");
/* harmony import */ var _portal_support_featureCollectionUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../portal/support/featureCollectionUtils.js */ "./node_modules/@arcgis/core/portal/support/featureCollectionUtils.js");
/* harmony import */ var _portal_support_portalLayers_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../portal/support/portalLayers.js */ "./node_modules/@arcgis/core/portal/support/portalLayers.js");
/* harmony import */ var _renderers_support_styleUtils_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../renderers/support/styleUtils.js */ "./node_modules/@arcgis/core/renderers/support/styleUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
async function l(e,r,a){if(!r)return;const y=r.map((e=>G(e,a))),t=await Promise.allSettled(y);for(const i of t)"rejected"===i.status||i.value&&e.add(i.value)}const c={ArcGISDimensionLayer:"DimensionLayer",ArcGISFeatureLayer:"FeatureLayer",ArcGISImageServiceLayer:"ImageryLayer",ArcGISMapServiceLayer:"MapImageLayer",ArcGISSceneServiceLayer:"SceneLayer",ArcGISTiledElevationServiceLayer:"ElevationLayer",ArcGISTiledImageServiceLayer:"ImageryTileLayer",ArcGISTiledMapServiceLayer:"TileLayer",BuildingSceneLayer:"BuildingSceneLayer",CatalogLayer:"CatalogLayer",CSV:"CSVLayer",DefaultTileLayer:"TileLayer",GeoJSON:"GeoJSONLayer",GroupLayer:"GroupLayer",IntegratedMesh3DTilesLayer:"IntegratedMesh3DTilesLayer",Object3DTilesLayer:"UnsupportedLayer",IntegratedMeshLayer:"IntegratedMeshLayer",KML:"KMLLayer",LineOfSightLayer:"LineOfSightLayer",MediaLayer:"MediaLayer",OGCFeatureLayer:"OGCFeatureLayer",OrientedImageryLayer:"OrientedImageryLayer",PointCloudLayer:"PointCloudLayer",RasterDataLayer:"UnsupportedLayer",VectorTileLayer:"VectorTileLayer",ViewshedLayer:"ViewshedLayer",Voxel:"VoxelLayer",WCS:"WCSLayer",WFS:"WFSLayer",WMS:"WMSLayer",WebTiledLayer:"WebTileLayer"},s={ArcGISTiledElevationServiceLayer:"ElevationLayer",DefaultTileLayer:"ElevationLayer",RasterDataElevationLayer:"UnsupportedLayer"},p={ArcGISFeatureLayer:"FeatureLayer"},S={ArcGISImageServiceLayer:"UnsupportedLayer",ArcGISMapServiceLayer:"UnsupportedLayer",ArcGISSceneServiceLayer:"SceneLayer",ArcGISTiledImageServiceLayer:"ImageryTileLayer",ArcGISTiledMapServiceLayer:"TileLayer",DefaultTileLayer:"TileLayer",OpenStreetMap:"OpenStreetMapLayer",VectorTileLayer:"VectorTileLayer",WCS:"UnsupportedLayer",WMS:"UnsupportedLayer",WebTiledLayer:"WebTileLayer"},u={ArcGISAnnotationLayer:"UnsupportedLayer",ArcGISDimensionLayer:"UnsupportedLayer",ArcGISFeatureLayer:"FeatureLayer",ArcGISImageServiceLayer:"ImageryLayer",ArcGISImageServiceVectorLayer:"ImageryLayer",ArcGISMapServiceLayer:"MapImageLayer",ArcGISStreamLayer:"StreamLayer",ArcGISTiledImageServiceLayer:"ImageryTileLayer",ArcGISTiledMapServiceLayer:"TileLayer",ArcGISVideoLayer:"VideoLayer",BingMapsAerial:"BingMapsLayer",BingMapsHybrid:"BingMapsLayer",BingMapsRoad:"BingMapsLayer",CatalogLayer:"CatalogLayer",CSV:"CSVLayer",DefaultTileLayer:"TileLayer",GeoJSON:"GeoJSONLayer",GeoRSS:"GeoRSSLayer",GroupLayer:"GroupLayer",KML:"KMLLayer",KnowledgeGraphLayer:"KnowledgeGraphLayer",MediaLayer:"MediaLayer",OGCFeatureLayer:"OGCFeatureLayer",OrientedImageryLayer:"OrientedImageryLayer",SubtypeGroupLayer:"SubtypeGroupLayer",VectorTileLayer:"VectorTileLayer",WCS:"WCSLayer",WFS:"WFSLayer",WMS:"WMSLayer",WebTiledLayer:"WebTileLayer"},d={ArcGISFeatureLayer:"FeatureLayer",SubtypeGroupTable:"SubtypeGroupLayer"},I={ArcGISImageServiceLayer:"ImageryLayer",ArcGISImageServiceVectorLayer:"ImageryLayer",ArcGISMapServiceLayer:"MapImageLayer",ArcGISTiledImageServiceLayer:"ImageryTileLayer",ArcGISTiledMapServiceLayer:"TileLayer",BingMapsAerial:"BingMapsLayer",BingMapsHybrid:"BingMapsLayer",BingMapsRoad:"BingMapsLayer",DefaultTileLayer:"TileLayer",OpenStreetMap:"OpenStreetMapLayer",VectorTileLayer:"VectorTileLayer",WCS:"WCSLayer",WMS:"WMSLayer",WebTiledLayer:"WebTileLayer"},m={...u,LinkChartLayer:"LinkChartLayer"},g={...d},T={...I};async function G(e,r){return f(await M(e,r),e,r)}async function f(e,r,a){const y=new e;return y.read(r,a.context),"group"===y.type&&("GroupLayer"===r.layerType?await v(y,r,a):b(r)?C(y,r,a.context):A(r)&&await h(y,r,a.context)),await (0,_renderers_support_styleUtils_js__WEBPACK_IMPORTED_MODULE_7__.loadStyleRenderer)(y,a.context),y}async function M(e,n){const l=n.context,c=w(l);let s=e.layerType||e.type;!s&&n?.defaultLayerType&&(s=n.defaultLayerType);const p=c[s];let S=p?_lazyLayerLoader_js__WEBPACK_IMPORTED_MODULE_3__.layerLookupMap[p]:_lazyLayerLoader_js__WEBPACK_IMPORTED_MODULE_3__.layerLookupMap.UnknownLayer;if(b(e)){const t=l?.portal;if(e.itemId){const i=new _portal_PortalItem_js__WEBPACK_IMPORTED_MODULE_4__["default"]({id:e.itemId,portal:t});await i.load();const L=(await (0,_portal_support_portalLayers_js__WEBPACK_IMPORTED_MODULE_6__.selectLayerClassPath)(i,new _LayerLoadContext_js__WEBPACK_IMPORTED_MODULE_2__.LayerLoadContext)).className||"UnknownLayer";S=_lazyLayerLoader_js__WEBPACK_IMPORTED_MODULE_3__.layerLookupMap[L]}}else"ArcGISFeatureLayer"===s?(0,_portal_support_featureCollectionUtils_js__WEBPACK_IMPORTED_MODULE_5__.isMapNotesLayer)(e)||(0,_portal_support_featureCollectionUtils_js__WEBPACK_IMPORTED_MODULE_5__.isMarkupLayer)(e)?S=_lazyLayerLoader_js__WEBPACK_IMPORTED_MODULE_3__.layerLookupMap.MapNotesLayer:(0,_portal_support_featureCollectionUtils_js__WEBPACK_IMPORTED_MODULE_5__.isRouteLayer)(e)?S=_lazyLayerLoader_js__WEBPACK_IMPORTED_MODULE_3__.layerLookupMap.RouteLayer:A(e)&&(S=_lazyLayerLoader_js__WEBPACK_IMPORTED_MODULE_3__.layerLookupMap.GroupLayer):e.wmtsInfo?.url&&e.wmtsInfo.layerIdentifier?S=_lazyLayerLoader_js__WEBPACK_IMPORTED_MODULE_3__.layerLookupMap.WMTSLayer:"WFS"===s&&"2.0.0"!==e.wfsInfo?.version&&(S=_lazyLayerLoader_js__WEBPACK_IMPORTED_MODULE_3__.layerLookupMap.UnsupportedLayer);return S()}function A(e){if("ArcGISFeatureLayer"!==e.layerType||b(e))return!1;return(e.featureCollection?.layers?.length??0)>1}function b(e){return"Feature Collection"===e.type}function w(e){let r;switch(e.origin){case"web-scene":switch(e.layerContainerType){case"basemap":r=S;break;case"ground":r=s;break;case"tables":r=p;break;default:r=c}break;case"link-chart":switch(e.layerContainerType){case"basemap":r=T;break;case"tables":r=g;break;default:r=m}break;default:switch(e.layerContainerType){case"basemap":r=I;break;case"tables":r=d;break;default:r=u}}return r}async function v(r,a,y){const t=new _core_Collection_js__WEBPACK_IMPORTED_MODULE_0__["default"],i=l(t,Array.isArray(a.layers)?a.layers:[],y);try{try{if(await i,"group"===r.type)return r.layers.addMany(t),r}catch(L){r.destroy();for(const e of t)e.destroy();throw L}}catch(L){throw L}}function C(e,r,a){r.itemId&&(e.portalItem=new _portal_PortalItem_js__WEBPACK_IMPORTED_MODULE_4__["default"]({id:r.itemId,portal:a?.portal}),e.when((()=>{const y=y=>{const t=y.layerId;W(y,e,r,t,a);const i=r.featureCollection?.layers?.[t];i&&y.read(i,a)};e.layers?.forEach(y),e.tables?.forEach(y)})))}async function h(e,r,y){const t=_lazyLayerLoader_js__WEBPACK_IMPORTED_MODULE_3__.layerLookupMap.FeatureLayer,i=await t(),L=r.featureCollection,o=L?.showLegend,n=L?.layers?.map(((a,t)=>{const L=new i;L.read(a,y);const n={...y,ignoreDefaults:!0};return W(L,e,r,t,n),null!=o&&L.read({showLegend:o},n),L}));e.layers.addMany(n??[])}function W(e,r,a,y,t){e.read({id:`${r.id}-sublayer-${y}`,visibility:a.visibleLayers?.includes(y)??!0},t)}


/***/ }),

/***/ "./node_modules/@arcgis/core/portal/support/featureCollectionUtils.js":
/*!****************************************************************************!*\
  !*** ./node_modules/@arcgis/core/portal/support/featureCollectionUtils.js ***!
  \****************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   isMapNotesLayer: () => (/* binding */ e),
/* harmony export */   isMarkupLayer: () => (/* binding */ r),
/* harmony export */   isRouteLayer: () => (/* binding */ n)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
function e(e){return t(e,"notes")}function r(e){return t(e,"markup")}function n(e){return t(e,"route")}function t(e,r){return!(!e.layerType||"ArcGISFeatureLayer"!==e.layerType)&&e.featureCollectionType===r}


/***/ }),

/***/ "./node_modules/@arcgis/core/portal/support/loadUtils.js":
/*!***************************************************************!*\
  !*** ./node_modules/@arcgis/core/portal/support/loadUtils.js ***!
  \***************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   createSublayerData: () => (/* binding */ a),
/* harmony export */   getFirstLayerOrTable: () => (/* binding */ s),
/* harmony export */   getLayerOrTable: () => (/* binding */ n),
/* harmony export */   getNumLayersAndTables: () => (/* binding */ c),
/* harmony export */   getSublayersByLayerType: () => (/* binding */ u),
/* harmony export */   instanceTypeToLayerTypes: () => (/* binding */ o),
/* harmony export */   layerTypeToLayerModuleType: () => (/* binding */ i),
/* harmony export */   populateSceneServiceItemData: () => (/* binding */ y),
/* harmony export */   preprocessFSItemData: () => (/* binding */ l)
/* harmony export */ });
/* harmony import */ var _layers_support_associatedFeatureServiceUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../layers/support/associatedFeatureServiceUtils.js */ "./node_modules/@arcgis/core/layers/support/associatedFeatureServiceUtils.js");
/* harmony import */ var _layers_support_fetchService_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../layers/support/fetchService.js */ "./node_modules/@arcgis/core/layers/support/fetchService.js");
/* harmony import */ var _layers_support_layerUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../layers/support/layerUtils.js */ "./node_modules/@arcgis/core/layers/support/layerUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
function a(e){const t={id:e.id,name:e.name},a=(0,_layers_support_fetchService_js__WEBPACK_IMPORTED_MODULE_1__.getLayerModuleType)(e.type);return"FeatureLayer"!==a&&(t.layerType=a),t}async function l(e,r,l){let n;if(null==e?.layers||null==e?.tables){const u=await l.fetchServiceMetadata(r,{customParameters:s(e)?.customParameters});n=(0,_layers_support_layerUtils_js__WEBPACK_IMPORTED_MODULE_2__.getPreferredHost)(),(e=e||{}).layers=e.layers||u?.layers?.map(a),e.tables=e.tables||u?.tables?.map(a)}return{data:e,preferredHost:n}}function s(e){if(!e)return null;const{layers:r,tables:t}=e;return r?.length?r[0]:t?.length?t[0]:null}function n(e,r){if(null==r)return null;return[...e.layers||[],...e.tables||[]].find((e=>e.id===r))}function u(e,r){return[...e.layers||[],...e.tables||[]].filter((({layerType:e})=>e?r.includes(e):r.includes("ArcGISFeatureLayer")))}function c(e){return(e?.layers?.length??0)+(e?.tables?.length??0)}function o(e){switch(e){case"catalog":return["CatalogLayer"];case"feature":return["ArcGISFeatureLayer"];case"oriented-imagery":return["OrientedImageryLayer"];case"subtype-group":return["SubtypeGroupLayer","SubtypeGroupTable"]}return null}function i(e){switch(e){case"CatalogLayer":return"CatalogLayer";case"OrientedImageryLayer":return"OrientedImageryLayer";case"SubtypeGroupLayer":case"SubtypeGroupTable":return"SubtypeGroupLayer"}return"FeatureLayer"}async function y(r,t,l){if(!r?.url)return t??{};if(t??={},!t.layers){const e=await l.fetchServiceMetadata(r.url);t.layers=e.layers?.map(a)}const{serverUrl:n,portalItem:u}=await (0,_layers_support_associatedFeatureServiceUtils_js__WEBPACK_IMPORTED_MODULE_0__.findAssociatedFeatureService)(r.url,{sceneLayerItem:r,customParameters:s(t)?.customParameters}).catch((()=>({serverUrl:null,portalItem:null})));if(null==n)return t.tables=[],t;if(!t.tables&&u){const e=await u.fetchData().catch((()=>null));if(e?.tables)t.tables=e.tables.map(a);else{const r=await l.fetchServiceMetadata(n,{customParameters:s(e)?.customParameters}).catch((()=>null));t.tables=r?.tables?.map(a)}}if(t.tables)for(const e of t.tables)e.url=`${n}/${e.id}`;return t}


/***/ }),

/***/ "./node_modules/@arcgis/core/portal/support/portalLayers.js":
/*!******************************************************************!*\
  !*** ./node_modules/@arcgis/core/portal/support/portalLayers.js ***!
  \******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   fromItem: () => (/* binding */ L),
/* harmony export */   selectLayerClassPath: () => (/* binding */ N)
/* harmony export */ });
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _layers_support_associatedFeatureServiceUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../layers/support/associatedFeatureServiceUtils.js */ "./node_modules/@arcgis/core/layers/support/associatedFeatureServiceUtils.js");
/* harmony import */ var _layers_support_fetchService_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../layers/support/fetchService.js */ "./node_modules/@arcgis/core/layers/support/fetchService.js");
/* harmony import */ var _layers_support_LayerLoadContext_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../layers/support/LayerLoadContext.js */ "./node_modules/@arcgis/core/layers/support/LayerLoadContext.js");
/* harmony import */ var _layers_support_layerUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../layers/support/layerUtils.js */ "./node_modules/@arcgis/core/layers/support/layerUtils.js");
/* harmony import */ var _layers_support_lazyLayerLoader_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../layers/support/lazyLayerLoader.js */ "./node_modules/@arcgis/core/layers/support/lazyLayerLoader.js");
/* harmony import */ var _PortalItem_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../PortalItem.js */ "./node_modules/@arcgis/core/portal/PortalItem.js");
/* harmony import */ var _loadUtils_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./loadUtils.js */ "./node_modules/@arcgis/core/portal/support/loadUtils.js");
/* harmony import */ var _portalItemUtils_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./portalItemUtils.js */ "./node_modules/@arcgis/core/portal/support/portalItemUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
async function L(e){let{portalItem:a}=e;!a||a instanceof _PortalItem_js__WEBPACK_IMPORTED_MODULE_6__["default"]||(a=new _PortalItem_js__WEBPACK_IMPORTED_MODULE_6__["default"](a));const r=await w(a);return new(0,r.constructor)({portalItem:a,...r.properties})}async function w(e){await e.load();const a=new _layers_support_LayerLoadContext_js__WEBPACK_IMPORTED_MODULE_3__.LayerLoadContext;return S(await N(e,a))}async function N(a,r){switch(a.type){case"3DTiles Service":return a.typeKeywords.includes("3DObject")?b():P();case"CSV":return F();case"Feature Collection":return M(a);case"Feature Service":return h(a,r);case"Feed":return x();case"GeoJson":return G();case"Group Layer":return J();case"Image Service":return g(a,r);case"KML":return V();case"Knowledge Graph Layer":return K();case"Map Service":return v(a,r);case"Media Layer":return k();case"Scene Service":return I(a,r);case"Stream Service":return j();case"Video Service":return T(a,r);case"Vector Tile Service":return C();case"WCS":return W();case"WFS":return U();case"WMS":return D();case"WMTS":return O();default:throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("portal:unknown-item-type","Unknown item type '${type}'",{type:a.type})}}async function S(e){const a=e.className,r=_layers_support_lazyLayerLoader_js__WEBPACK_IMPORTED_MODULE_5__.layerLookupMap[a];return{constructor:await r(),properties:e.properties}}async function v(e,a){return await $(e,a)?{className:"TileLayer"}:{className:"MapImageLayer"}}async function h(e,a){const r=await A(e,a);if("object"==typeof r){const{sourceJSON:e,className:a}=r,t={sourceJSON:e};return null!=r.id&&(t.layerId=r.id),{className:a||"FeatureLayer",properties:t}}return{className:"GroupLayer"}}async function I(e,r){const t=await A(e,r,(async()=>{try{if(!e.url)return[];const{serverUrl:t}=await (0,_layers_support_associatedFeatureServiceUtils_js__WEBPACK_IMPORTED_MODULE_1__.findAssociatedFeatureService)(e.url,{sceneLayerItem:e}),s=await r.fetchServiceMetadata(t);return s?.tables??[]}catch{return[]}}));if("object"==typeof t){const a={};let c;if(null!=t.id?(a.layerId=t.id,c=`${e.url}/layers/${t.id}`):c=e.url,e.typeKeywords?.length)for(const r of Object.keys(_layers_support_layerUtils_js__WEBPACK_IMPORTED_MODULE_4__.sceneServiceLayerTypeToClassName))if(e.typeKeywords.includes(r))return{className:_layers_support_layerUtils_js__WEBPACK_IMPORTED_MODULE_4__.sceneServiceLayerTypeToClassName[r]};const n=await r.fetchServiceMetadata(c,{customParameters:await r.fetchCustomParameters(e,(e=>(0,_loadUtils_js__WEBPACK_IMPORTED_MODULE_7__.getFirstLayerOrTable)(e)?.customParameters))});return{className:_layers_support_layerUtils_js__WEBPACK_IMPORTED_MODULE_4__.sceneServiceLayerTypeToClassName[n?.layerType]||"SceneLayer",properties:a}}if(!1===t){const a=await r.fetchServiceMetadata(e.url);if("Voxel"===a?.layerType)return{className:"VoxelLayer"}}return{className:"GroupLayer"}}async function M(e){await e.load();const a=(0,_portalItemUtils_js__WEBPACK_IMPORTED_MODULE_8__.hasTypeKeyword)(e,"Map Notes"),r=(0,_portalItemUtils_js__WEBPACK_IMPORTED_MODULE_8__.hasTypeKeyword)(e,"Markup");if(a||r)return{className:"MapNotesLayer"};if((0,_portalItemUtils_js__WEBPACK_IMPORTED_MODULE_8__.hasTypeKeyword)(e,"Route Layer"))return{className:"RouteLayer"};const t=await e.fetchData();return 1===(0,_loadUtils_js__WEBPACK_IMPORTED_MODULE_7__.getNumLayersAndTables)(t)?{className:"FeatureLayer"}:{className:"GroupLayer"}}async function g(e,a){await e.load();const r=e.typeKeywords?.map((e=>e.toLowerCase()))??[];if(r.includes("elevation 3d layer"))return{className:"ElevationLayer"};if(r.includes("tiled imagery"))return{className:"ImageryTileLayer"};const t=await a.fetchItemData(e),s=t?.layerType;if("ArcGISTiledImageServiceLayer"===s)return{className:"ImageryTileLayer"};if("ArcGISImageServiceLayer"===s)return{className:"ImageryLayer"};const c=await a.fetchServiceMetadata(e.url,{customParameters:await a.fetchCustomParameters(e)}),n=c.cacheType?.toLowerCase(),o=c.capabilities?.toLowerCase().includes("tilesonly"),i=c.tileInfo?.format?.toLowerCase()??"",u=null==n&&["jpg","jpeg","png","png8","png24","png32","mixed"].includes(i);return"map"===n||u||o?{className:"ImageryTileLayer"}:{className:"ImageryLayer"}}function j(){return{className:"StreamLayer"}}async function T(e,a){return"object"==typeof await A(e,a)?{className:"VideoLayer"}:{className:"GroupLayer"}}function C(){return{className:"VectorTileLayer"}}function G(){return{className:"GeoJSONLayer"}}function P(){return{className:"IntegratedMesh3DTilesLayer"}}function b(){return{className:"UnsupportedLayer"}}function F(){return{className:"CSVLayer"}}function V(){return{className:"KMLLayer"}}function K(){return{className:"KnowledgeGraphLayer"}}function W(){return{className:"WCSLayer"}}function U(){return{className:"WFSLayer"}}function D(){return{className:"WMSLayer"}}function O(){return{className:"WMTSLayer"}}function x(){return{className:"StreamLayer"}}function J(){return{className:"GroupLayer"}}function k(){return{className:"MediaLayer"}}async function $(e,a){const{tileInfo:r}=await a.fetchServiceMetadata(e.url,{customParameters:await a.fetchCustomParameters(e)});return r}async function A(e,a,t){const{url:s,type:o}=e,i="Feature Service"===o;if(!s)return{};if(/\/\d+$/.test(s)){if(i){const t=await a.fetchServiceMetadata(s,{customParameters:await a.fetchCustomParameters(e,(e=>(0,_loadUtils_js__WEBPACK_IMPORTED_MODULE_7__.getFirstLayerOrTable)(e)?.customParameters))});return (0,_layers_support_layerUtils_js__WEBPACK_IMPORTED_MODULE_4__.applyPreferredHostToPortalItem)(e,(0,_layers_support_layerUtils_js__WEBPACK_IMPORTED_MODULE_4__.getPreferredHost)()),{id:t.id,className:(0,_layers_support_fetchService_js__WEBPACK_IMPORTED_MODULE_2__.getLayerModuleType)(t.type),sourceJSON:t}}return{}}if("Video Service"===o){const e=await a.fetchServiceMetadata(s);return!((e.layers?.length??0)>1)&&{}}await e.load();let d=await a.fetchItemData(e);if(i){const{data:r,preferredHost:t}=await (0,_loadUtils_js__WEBPACK_IMPORTED_MODULE_7__.preprocessFSItemData)(d,s,a);(0,_layers_support_layerUtils_js__WEBPACK_IMPORTED_MODULE_4__.applyPreferredHostToPortalItem)(e,t);const n=E(r);if("object"==typeof n){const e=(0,_loadUtils_js__WEBPACK_IMPORTED_MODULE_7__.getLayerOrTable)(r,n.id);n.className=(0,_loadUtils_js__WEBPACK_IMPORTED_MODULE_7__.layerTypeToLayerModuleType)(e?.layerType)}return n}"Scene Service"===o&&(d=await (0,_loadUtils_js__WEBPACK_IMPORTED_MODULE_7__.populateSceneServiceItemData)(e,d,a));if((0,_loadUtils_js__WEBPACK_IMPORTED_MODULE_7__.getNumLayersAndTables)(d)>0)return E(d);const L=await a.fetchServiceMetadata(s);return t&&(L.tables=await t()),E(L)}function E(e){return 1===(0,_loadUtils_js__WEBPACK_IMPORTED_MODULE_7__.getNumLayersAndTables)(e)&&{id:(0,_loadUtils_js__WEBPACK_IMPORTED_MODULE_7__.getFirstLayerOrTable)(e)?.id}}


/***/ })

};

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmVuZG9ycy1ub2RlX21vZHVsZXNfYXJjZ2lzX2NvcmVfbGF5ZXJzX3N1cHBvcnRfbGF5ZXJzQ3JlYXRvcl9qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUN5RSxRQUFRLGNBQWMsdURBQXVELGdDQUFnQyxzQ0FBc0MsY0FBYyxjQUFjLGtGQUFDLE1BQU0seUNBQXlDLHVCQUF1QixNQUFNLEtBQUssR0FBRyxrQkFBa0IsTUFBTSxhQUFhLE1BQU0sNEJBQTRCLDRCQUE0QixvQkFBb0IsaUNBQWlDLG9DQUFvQyxpRUFBK0Y7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ0p4bUI7QUFDQTtBQUNBO0FBQ0E7QUFDdWUsd0JBQXdCLGFBQWEseURBQXlELGdFQUFnRSxTQUFTLHErQkFBcStCLElBQUksZ0lBQWdJLElBQUksa0NBQWtDLElBQUksNlhBQTZYLElBQUksMDVCQUEwNUIsSUFBSSx3RUFBd0UsSUFBSSx5Y0FBeWMsSUFBSSxxQ0FBcUMsSUFBSSxLQUFLLElBQUksTUFBTSxzQkFBc0IsMkJBQTJCLHdCQUF3QixjQUFjLGtKQUFrSixtRkFBQyxnQkFBZ0Isc0JBQXNCLHlCQUF5QiwwQkFBMEIsZ0RBQWdELGFBQWEsUUFBUSwrREFBQyxJQUFJLCtEQUFDLGNBQWMsU0FBUyxrQkFBa0IsYUFBYSxZQUFZLDZEQUFDLEVBQUUscUJBQXFCLEVBQUUsZUFBZSxlQUFlLHFGQUFDLE9BQU8sa0VBQUMsNkJBQTZCLEVBQUUsK0RBQUMsS0FBSyw2QkFBNkIsMEZBQUMsS0FBSyx3RkFBQyxNQUFNLCtEQUFDLGVBQWUsdUZBQUMsTUFBTSwrREFBQyxxQkFBcUIsK0RBQUMsMkRBQTJELCtEQUFDLHVEQUF1RCwrREFBQyxtQkFBbUIsV0FBVyxjQUFjLHFEQUFxRCxpREFBaUQsY0FBYyxvQ0FBb0MsY0FBYyxNQUFNLGlCQUFpQiw2Q0FBNkMsa0JBQWtCLE1BQU0saUJBQWlCLE1BQU0saUJBQWlCLE1BQU0sWUFBWSxNQUFNLDhDQUE4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Y29yZS9sYXllcnMvc3VwcG9ydC9MYXllckxvYWRDb250ZXh0LmpzIiwid2VicGFjazovL3ByZWNpc2lvbmZhcm1zLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS9sYXllcnMvc3VwcG9ydC9sYXllcnNDcmVhdG9yLmpzIiwid2VicGFjazovL3ByZWNpc2lvbmZhcm1zLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS9wb3J0YWwvc3VwcG9ydC9mZWF0dXJlQ29sbGVjdGlvblV0aWxzLmpzIiwid2VicGFjazovL3ByZWNpc2lvbmZhcm1zLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS9wb3J0YWwvc3VwcG9ydC9sb2FkVXRpbHMuanMiLCJ3ZWJwYWNrOi8vcHJlY2lzaW9uZmFybXMvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3BvcnRhbC9zdXBwb3J0L3BvcnRhbExheWVycy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4zMy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e2ZldGNoQXJjR0lTU2VydmljZUpTT04gYXMgdH1mcm9tXCIuLi8uLi9zdXBwb3J0L3JlcXVlc3RQcmVzZXRzLmpzXCI7Y2xhc3MgZXtjb25zdHJ1Y3Rvcigpe3RoaXMuX3NlcnZpY2VNZXRhZGF0YXM9bmV3IE1hcCx0aGlzLl9pdGVtRGF0YXM9bmV3IE1hcH1hc3luYyBmZXRjaFNlcnZpY2VNZXRhZGF0YShlLGEpe2NvbnN0IHM9dGhpcy5fc2VydmljZU1ldGFkYXRhcy5nZXQoZSk7aWYocylyZXR1cm4gcztjb25zdCByPWF3YWl0IHQoZSxhKTtyZXR1cm4gdGhpcy5fc2VydmljZU1ldGFkYXRhcy5zZXQoZSxyKSxyfWFzeW5jIGZldGNoSXRlbURhdGEodCl7Y29uc3R7aWQ6ZX09dDtpZighZSlyZXR1cm4gbnVsbDtjb25zdHtfaXRlbURhdGFzOmF9PXRoaXM7aWYoYS5oYXMoZSkpcmV0dXJuIGEuZ2V0KGUpO2NvbnN0IHM9YXdhaXQgdC5mZXRjaERhdGEoKTtyZXR1cm4gYS5zZXQoZSxzKSxzfWFzeW5jIGZldGNoQ3VzdG9tUGFyYW1ldGVycyh0LGUpe2NvbnN0IGE9YXdhaXQgdGhpcy5mZXRjaEl0ZW1EYXRhKHQpO3JldHVybiBhJiZcIm9iamVjdFwiPT10eXBlb2YgYSYmKGU/ZShhKTphLmN1c3RvbVBhcmFtZXRlcnMpfHxudWxsfX1leHBvcnR7ZSBhcyBMYXllckxvYWRDb250ZXh0fTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjMzL2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnQgZSBmcm9tXCIuLi8uLi9jb3JlL0NvbGxlY3Rpb24uanNcIjtpbXBvcnRcIi4uLy4uL2NvcmUvaGFzLmpzXCI7aW1wb3J0e0xheWVyTG9hZENvbnRleHQgYXMgcn1mcm9tXCIuL0xheWVyTG9hZENvbnRleHQuanNcIjtpbXBvcnR7bGF5ZXJMb29rdXBNYXAgYXMgYX1mcm9tXCIuL2xhenlMYXllckxvYWRlci5qc1wiO2ltcG9ydCB5IGZyb21cIi4uLy4uL3BvcnRhbC9Qb3J0YWxJdGVtLmpzXCI7aW1wb3J0e2lzTWFwTm90ZXNMYXllciBhcyB0LGlzTWFya3VwTGF5ZXIgYXMgaSxpc1JvdXRlTGF5ZXIgYXMgTH1mcm9tXCIuLi8uLi9wb3J0YWwvc3VwcG9ydC9mZWF0dXJlQ29sbGVjdGlvblV0aWxzLmpzXCI7aW1wb3J0e3NlbGVjdExheWVyQ2xhc3NQYXRoIGFzIG99ZnJvbVwiLi4vLi4vcG9ydGFsL3N1cHBvcnQvcG9ydGFsTGF5ZXJzLmpzXCI7aW1wb3J0e2xvYWRTdHlsZVJlbmRlcmVyIGFzIG59ZnJvbVwiLi4vLi4vcmVuZGVyZXJzL3N1cHBvcnQvc3R5bGVVdGlscy5qc1wiO2FzeW5jIGZ1bmN0aW9uIGwoZSxyLGEpe2lmKCFyKXJldHVybjtjb25zdCB5PXIubWFwKChlPT5HKGUsYSkpKSx0PWF3YWl0IFByb21pc2UuYWxsU2V0dGxlZCh5KTtmb3IoY29uc3QgaSBvZiB0KVwicmVqZWN0ZWRcIj09PWkuc3RhdHVzfHxpLnZhbHVlJiZlLmFkZChpLnZhbHVlKX1jb25zdCBjPXtBcmNHSVNEaW1lbnNpb25MYXllcjpcIkRpbWVuc2lvbkxheWVyXCIsQXJjR0lTRmVhdHVyZUxheWVyOlwiRmVhdHVyZUxheWVyXCIsQXJjR0lTSW1hZ2VTZXJ2aWNlTGF5ZXI6XCJJbWFnZXJ5TGF5ZXJcIixBcmNHSVNNYXBTZXJ2aWNlTGF5ZXI6XCJNYXBJbWFnZUxheWVyXCIsQXJjR0lTU2NlbmVTZXJ2aWNlTGF5ZXI6XCJTY2VuZUxheWVyXCIsQXJjR0lTVGlsZWRFbGV2YXRpb25TZXJ2aWNlTGF5ZXI6XCJFbGV2YXRpb25MYXllclwiLEFyY0dJU1RpbGVkSW1hZ2VTZXJ2aWNlTGF5ZXI6XCJJbWFnZXJ5VGlsZUxheWVyXCIsQXJjR0lTVGlsZWRNYXBTZXJ2aWNlTGF5ZXI6XCJUaWxlTGF5ZXJcIixCdWlsZGluZ1NjZW5lTGF5ZXI6XCJCdWlsZGluZ1NjZW5lTGF5ZXJcIixDYXRhbG9nTGF5ZXI6XCJDYXRhbG9nTGF5ZXJcIixDU1Y6XCJDU1ZMYXllclwiLERlZmF1bHRUaWxlTGF5ZXI6XCJUaWxlTGF5ZXJcIixHZW9KU09OOlwiR2VvSlNPTkxheWVyXCIsR3JvdXBMYXllcjpcIkdyb3VwTGF5ZXJcIixJbnRlZ3JhdGVkTWVzaDNEVGlsZXNMYXllcjpcIkludGVncmF0ZWRNZXNoM0RUaWxlc0xheWVyXCIsT2JqZWN0M0RUaWxlc0xheWVyOlwiVW5zdXBwb3J0ZWRMYXllclwiLEludGVncmF0ZWRNZXNoTGF5ZXI6XCJJbnRlZ3JhdGVkTWVzaExheWVyXCIsS01MOlwiS01MTGF5ZXJcIixMaW5lT2ZTaWdodExheWVyOlwiTGluZU9mU2lnaHRMYXllclwiLE1lZGlhTGF5ZXI6XCJNZWRpYUxheWVyXCIsT0dDRmVhdHVyZUxheWVyOlwiT0dDRmVhdHVyZUxheWVyXCIsT3JpZW50ZWRJbWFnZXJ5TGF5ZXI6XCJPcmllbnRlZEltYWdlcnlMYXllclwiLFBvaW50Q2xvdWRMYXllcjpcIlBvaW50Q2xvdWRMYXllclwiLFJhc3RlckRhdGFMYXllcjpcIlVuc3VwcG9ydGVkTGF5ZXJcIixWZWN0b3JUaWxlTGF5ZXI6XCJWZWN0b3JUaWxlTGF5ZXJcIixWaWV3c2hlZExheWVyOlwiVmlld3NoZWRMYXllclwiLFZveGVsOlwiVm94ZWxMYXllclwiLFdDUzpcIldDU0xheWVyXCIsV0ZTOlwiV0ZTTGF5ZXJcIixXTVM6XCJXTVNMYXllclwiLFdlYlRpbGVkTGF5ZXI6XCJXZWJUaWxlTGF5ZXJcIn0scz17QXJjR0lTVGlsZWRFbGV2YXRpb25TZXJ2aWNlTGF5ZXI6XCJFbGV2YXRpb25MYXllclwiLERlZmF1bHRUaWxlTGF5ZXI6XCJFbGV2YXRpb25MYXllclwiLFJhc3RlckRhdGFFbGV2YXRpb25MYXllcjpcIlVuc3VwcG9ydGVkTGF5ZXJcIn0scD17QXJjR0lTRmVhdHVyZUxheWVyOlwiRmVhdHVyZUxheWVyXCJ9LFM9e0FyY0dJU0ltYWdlU2VydmljZUxheWVyOlwiVW5zdXBwb3J0ZWRMYXllclwiLEFyY0dJU01hcFNlcnZpY2VMYXllcjpcIlVuc3VwcG9ydGVkTGF5ZXJcIixBcmNHSVNTY2VuZVNlcnZpY2VMYXllcjpcIlNjZW5lTGF5ZXJcIixBcmNHSVNUaWxlZEltYWdlU2VydmljZUxheWVyOlwiSW1hZ2VyeVRpbGVMYXllclwiLEFyY0dJU1RpbGVkTWFwU2VydmljZUxheWVyOlwiVGlsZUxheWVyXCIsRGVmYXVsdFRpbGVMYXllcjpcIlRpbGVMYXllclwiLE9wZW5TdHJlZXRNYXA6XCJPcGVuU3RyZWV0TWFwTGF5ZXJcIixWZWN0b3JUaWxlTGF5ZXI6XCJWZWN0b3JUaWxlTGF5ZXJcIixXQ1M6XCJVbnN1cHBvcnRlZExheWVyXCIsV01TOlwiVW5zdXBwb3J0ZWRMYXllclwiLFdlYlRpbGVkTGF5ZXI6XCJXZWJUaWxlTGF5ZXJcIn0sdT17QXJjR0lTQW5ub3RhdGlvbkxheWVyOlwiVW5zdXBwb3J0ZWRMYXllclwiLEFyY0dJU0RpbWVuc2lvbkxheWVyOlwiVW5zdXBwb3J0ZWRMYXllclwiLEFyY0dJU0ZlYXR1cmVMYXllcjpcIkZlYXR1cmVMYXllclwiLEFyY0dJU0ltYWdlU2VydmljZUxheWVyOlwiSW1hZ2VyeUxheWVyXCIsQXJjR0lTSW1hZ2VTZXJ2aWNlVmVjdG9yTGF5ZXI6XCJJbWFnZXJ5TGF5ZXJcIixBcmNHSVNNYXBTZXJ2aWNlTGF5ZXI6XCJNYXBJbWFnZUxheWVyXCIsQXJjR0lTU3RyZWFtTGF5ZXI6XCJTdHJlYW1MYXllclwiLEFyY0dJU1RpbGVkSW1hZ2VTZXJ2aWNlTGF5ZXI6XCJJbWFnZXJ5VGlsZUxheWVyXCIsQXJjR0lTVGlsZWRNYXBTZXJ2aWNlTGF5ZXI6XCJUaWxlTGF5ZXJcIixBcmNHSVNWaWRlb0xheWVyOlwiVmlkZW9MYXllclwiLEJpbmdNYXBzQWVyaWFsOlwiQmluZ01hcHNMYXllclwiLEJpbmdNYXBzSHlicmlkOlwiQmluZ01hcHNMYXllclwiLEJpbmdNYXBzUm9hZDpcIkJpbmdNYXBzTGF5ZXJcIixDYXRhbG9nTGF5ZXI6XCJDYXRhbG9nTGF5ZXJcIixDU1Y6XCJDU1ZMYXllclwiLERlZmF1bHRUaWxlTGF5ZXI6XCJUaWxlTGF5ZXJcIixHZW9KU09OOlwiR2VvSlNPTkxheWVyXCIsR2VvUlNTOlwiR2VvUlNTTGF5ZXJcIixHcm91cExheWVyOlwiR3JvdXBMYXllclwiLEtNTDpcIktNTExheWVyXCIsS25vd2xlZGdlR3JhcGhMYXllcjpcIktub3dsZWRnZUdyYXBoTGF5ZXJcIixNZWRpYUxheWVyOlwiTWVkaWFMYXllclwiLE9HQ0ZlYXR1cmVMYXllcjpcIk9HQ0ZlYXR1cmVMYXllclwiLE9yaWVudGVkSW1hZ2VyeUxheWVyOlwiT3JpZW50ZWRJbWFnZXJ5TGF5ZXJcIixTdWJ0eXBlR3JvdXBMYXllcjpcIlN1YnR5cGVHcm91cExheWVyXCIsVmVjdG9yVGlsZUxheWVyOlwiVmVjdG9yVGlsZUxheWVyXCIsV0NTOlwiV0NTTGF5ZXJcIixXRlM6XCJXRlNMYXllclwiLFdNUzpcIldNU0xheWVyXCIsV2ViVGlsZWRMYXllcjpcIldlYlRpbGVMYXllclwifSxkPXtBcmNHSVNGZWF0dXJlTGF5ZXI6XCJGZWF0dXJlTGF5ZXJcIixTdWJ0eXBlR3JvdXBUYWJsZTpcIlN1YnR5cGVHcm91cExheWVyXCJ9LEk9e0FyY0dJU0ltYWdlU2VydmljZUxheWVyOlwiSW1hZ2VyeUxheWVyXCIsQXJjR0lTSW1hZ2VTZXJ2aWNlVmVjdG9yTGF5ZXI6XCJJbWFnZXJ5TGF5ZXJcIixBcmNHSVNNYXBTZXJ2aWNlTGF5ZXI6XCJNYXBJbWFnZUxheWVyXCIsQXJjR0lTVGlsZWRJbWFnZVNlcnZpY2VMYXllcjpcIkltYWdlcnlUaWxlTGF5ZXJcIixBcmNHSVNUaWxlZE1hcFNlcnZpY2VMYXllcjpcIlRpbGVMYXllclwiLEJpbmdNYXBzQWVyaWFsOlwiQmluZ01hcHNMYXllclwiLEJpbmdNYXBzSHlicmlkOlwiQmluZ01hcHNMYXllclwiLEJpbmdNYXBzUm9hZDpcIkJpbmdNYXBzTGF5ZXJcIixEZWZhdWx0VGlsZUxheWVyOlwiVGlsZUxheWVyXCIsT3BlblN0cmVldE1hcDpcIk9wZW5TdHJlZXRNYXBMYXllclwiLFZlY3RvclRpbGVMYXllcjpcIlZlY3RvclRpbGVMYXllclwiLFdDUzpcIldDU0xheWVyXCIsV01TOlwiV01TTGF5ZXJcIixXZWJUaWxlZExheWVyOlwiV2ViVGlsZUxheWVyXCJ9LG09ey4uLnUsTGlua0NoYXJ0TGF5ZXI6XCJMaW5rQ2hhcnRMYXllclwifSxnPXsuLi5kfSxUPXsuLi5JfTthc3luYyBmdW5jdGlvbiBHKGUscil7cmV0dXJuIGYoYXdhaXQgTShlLHIpLGUscil9YXN5bmMgZnVuY3Rpb24gZihlLHIsYSl7Y29uc3QgeT1uZXcgZTtyZXR1cm4geS5yZWFkKHIsYS5jb250ZXh0KSxcImdyb3VwXCI9PT15LnR5cGUmJihcIkdyb3VwTGF5ZXJcIj09PXIubGF5ZXJUeXBlP2F3YWl0IHYoeSxyLGEpOmIocik/Qyh5LHIsYS5jb250ZXh0KTpBKHIpJiZhd2FpdCBoKHkscixhLmNvbnRleHQpKSxhd2FpdCBuKHksYS5jb250ZXh0KSx5fWFzeW5jIGZ1bmN0aW9uIE0oZSxuKXtjb25zdCBsPW4uY29udGV4dCxjPXcobCk7bGV0IHM9ZS5sYXllclR5cGV8fGUudHlwZTshcyYmbj8uZGVmYXVsdExheWVyVHlwZSYmKHM9bi5kZWZhdWx0TGF5ZXJUeXBlKTtjb25zdCBwPWNbc107bGV0IFM9cD9hW3BdOmEuVW5rbm93bkxheWVyO2lmKGIoZSkpe2NvbnN0IHQ9bD8ucG9ydGFsO2lmKGUuaXRlbUlkKXtjb25zdCBpPW5ldyB5KHtpZDplLml0ZW1JZCxwb3J0YWw6dH0pO2F3YWl0IGkubG9hZCgpO2NvbnN0IEw9KGF3YWl0IG8oaSxuZXcgcikpLmNsYXNzTmFtZXx8XCJVbmtub3duTGF5ZXJcIjtTPWFbTF19fWVsc2VcIkFyY0dJU0ZlYXR1cmVMYXllclwiPT09cz90KGUpfHxpKGUpP1M9YS5NYXBOb3Rlc0xheWVyOkwoZSk/Uz1hLlJvdXRlTGF5ZXI6QShlKSYmKFM9YS5Hcm91cExheWVyKTplLndtdHNJbmZvPy51cmwmJmUud210c0luZm8ubGF5ZXJJZGVudGlmaWVyP1M9YS5XTVRTTGF5ZXI6XCJXRlNcIj09PXMmJlwiMi4wLjBcIiE9PWUud2ZzSW5mbz8udmVyc2lvbiYmKFM9YS5VbnN1cHBvcnRlZExheWVyKTtyZXR1cm4gUygpfWZ1bmN0aW9uIEEoZSl7aWYoXCJBcmNHSVNGZWF0dXJlTGF5ZXJcIiE9PWUubGF5ZXJUeXBlfHxiKGUpKXJldHVybiExO3JldHVybihlLmZlYXR1cmVDb2xsZWN0aW9uPy5sYXllcnM/Lmxlbmd0aD8/MCk+MX1mdW5jdGlvbiBiKGUpe3JldHVyblwiRmVhdHVyZSBDb2xsZWN0aW9uXCI9PT1lLnR5cGV9ZnVuY3Rpb24gdyhlKXtsZXQgcjtzd2l0Y2goZS5vcmlnaW4pe2Nhc2VcIndlYi1zY2VuZVwiOnN3aXRjaChlLmxheWVyQ29udGFpbmVyVHlwZSl7Y2FzZVwiYmFzZW1hcFwiOnI9UzticmVhaztjYXNlXCJncm91bmRcIjpyPXM7YnJlYWs7Y2FzZVwidGFibGVzXCI6cj1wO2JyZWFrO2RlZmF1bHQ6cj1jfWJyZWFrO2Nhc2VcImxpbmstY2hhcnRcIjpzd2l0Y2goZS5sYXllckNvbnRhaW5lclR5cGUpe2Nhc2VcImJhc2VtYXBcIjpyPVQ7YnJlYWs7Y2FzZVwidGFibGVzXCI6cj1nO2JyZWFrO2RlZmF1bHQ6cj1tfWJyZWFrO2RlZmF1bHQ6c3dpdGNoKGUubGF5ZXJDb250YWluZXJUeXBlKXtjYXNlXCJiYXNlbWFwXCI6cj1JO2JyZWFrO2Nhc2VcInRhYmxlc1wiOnI9ZDticmVhaztkZWZhdWx0OnI9dX19cmV0dXJuIHJ9YXN5bmMgZnVuY3Rpb24gdihyLGEseSl7Y29uc3QgdD1uZXcgZSxpPWwodCxBcnJheS5pc0FycmF5KGEubGF5ZXJzKT9hLmxheWVyczpbXSx5KTt0cnl7dHJ5e2lmKGF3YWl0IGksXCJncm91cFwiPT09ci50eXBlKXJldHVybiByLmxheWVycy5hZGRNYW55KHQpLHJ9Y2F0Y2goTCl7ci5kZXN0cm95KCk7Zm9yKGNvbnN0IGUgb2YgdCllLmRlc3Ryb3koKTt0aHJvdyBMfX1jYXRjaChMKXt0aHJvdyBMfX1mdW5jdGlvbiBDKGUscixhKXtyLml0ZW1JZCYmKGUucG9ydGFsSXRlbT1uZXcgeSh7aWQ6ci5pdGVtSWQscG9ydGFsOmE/LnBvcnRhbH0pLGUud2hlbigoKCk9Pntjb25zdCB5PXk9Pntjb25zdCB0PXkubGF5ZXJJZDtXKHksZSxyLHQsYSk7Y29uc3QgaT1yLmZlYXR1cmVDb2xsZWN0aW9uPy5sYXllcnM/Llt0XTtpJiZ5LnJlYWQoaSxhKX07ZS5sYXllcnM/LmZvckVhY2goeSksZS50YWJsZXM/LmZvckVhY2goeSl9KSkpfWFzeW5jIGZ1bmN0aW9uIGgoZSxyLHkpe2NvbnN0IHQ9YS5GZWF0dXJlTGF5ZXIsaT1hd2FpdCB0KCksTD1yLmZlYXR1cmVDb2xsZWN0aW9uLG89TD8uc2hvd0xlZ2VuZCxuPUw/LmxheWVycz8ubWFwKCgoYSx0KT0+e2NvbnN0IEw9bmV3IGk7TC5yZWFkKGEseSk7Y29uc3Qgbj17Li4ueSxpZ25vcmVEZWZhdWx0czohMH07cmV0dXJuIFcoTCxlLHIsdCxuKSxudWxsIT1vJiZMLnJlYWQoe3Nob3dMZWdlbmQ6b30sbiksTH0pKTtlLmxheWVycy5hZGRNYW55KG4/P1tdKX1mdW5jdGlvbiBXKGUscixhLHksdCl7ZS5yZWFkKHtpZDpgJHtyLmlkfS1zdWJsYXllci0ke3l9YCx2aXNpYmlsaXR5OmEudmlzaWJsZUxheWVycz8uaW5jbHVkZXMoeSk/PyEwfSx0KX1leHBvcnR7diBhcyBwb3B1bGF0ZUdyb3VwTGF5ZXIsbCBhcyBwb3B1bGF0ZU9wZXJhdGlvbmFsTGF5ZXJzfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjMzL2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5mdW5jdGlvbiBlKGUpe3JldHVybiB0KGUsXCJub3Rlc1wiKX1mdW5jdGlvbiByKGUpe3JldHVybiB0KGUsXCJtYXJrdXBcIil9ZnVuY3Rpb24gbihlKXtyZXR1cm4gdChlLFwicm91dGVcIil9ZnVuY3Rpb24gdChlLHIpe3JldHVybiEoIWUubGF5ZXJUeXBlfHxcIkFyY0dJU0ZlYXR1cmVMYXllclwiIT09ZS5sYXllclR5cGUpJiZlLmZlYXR1cmVDb2xsZWN0aW9uVHlwZT09PXJ9ZXhwb3J0e2UgYXMgaXNNYXBOb3Rlc0xheWVyLHIgYXMgaXNNYXJrdXBMYXllcixuIGFzIGlzUm91dGVMYXllcn07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4zMy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e2ZpbmRBc3NvY2lhdGVkRmVhdHVyZVNlcnZpY2UgYXMgZX1mcm9tXCIuLi8uLi9sYXllcnMvc3VwcG9ydC9hc3NvY2lhdGVkRmVhdHVyZVNlcnZpY2VVdGlscy5qc1wiO2ltcG9ydHtnZXRMYXllck1vZHVsZVR5cGUgYXMgcn1mcm9tXCIuLi8uLi9sYXllcnMvc3VwcG9ydC9mZXRjaFNlcnZpY2UuanNcIjtpbXBvcnR7Z2V0UHJlZmVycmVkSG9zdCBhcyB0fWZyb21cIi4uLy4uL2xheWVycy9zdXBwb3J0L2xheWVyVXRpbHMuanNcIjtmdW5jdGlvbiBhKGUpe2NvbnN0IHQ9e2lkOmUuaWQsbmFtZTplLm5hbWV9LGE9cihlLnR5cGUpO3JldHVyblwiRmVhdHVyZUxheWVyXCIhPT1hJiYodC5sYXllclR5cGU9YSksdH1hc3luYyBmdW5jdGlvbiBsKGUscixsKXtsZXQgbjtpZihudWxsPT1lPy5sYXllcnN8fG51bGw9PWU/LnRhYmxlcyl7Y29uc3QgdT1hd2FpdCBsLmZldGNoU2VydmljZU1ldGFkYXRhKHIse2N1c3RvbVBhcmFtZXRlcnM6cyhlKT8uY3VzdG9tUGFyYW1ldGVyc30pO249dCgpLChlPWV8fHt9KS5sYXllcnM9ZS5sYXllcnN8fHU/LmxheWVycz8ubWFwKGEpLGUudGFibGVzPWUudGFibGVzfHx1Py50YWJsZXM/Lm1hcChhKX1yZXR1cm57ZGF0YTplLHByZWZlcnJlZEhvc3Q6bn19ZnVuY3Rpb24gcyhlKXtpZighZSlyZXR1cm4gbnVsbDtjb25zdHtsYXllcnM6cix0YWJsZXM6dH09ZTtyZXR1cm4gcj8ubGVuZ3RoP3JbMF06dD8ubGVuZ3RoP3RbMF06bnVsbH1mdW5jdGlvbiBuKGUscil7aWYobnVsbD09cilyZXR1cm4gbnVsbDtyZXR1cm5bLi4uZS5sYXllcnN8fFtdLC4uLmUudGFibGVzfHxbXV0uZmluZCgoZT0+ZS5pZD09PXIpKX1mdW5jdGlvbiB1KGUscil7cmV0dXJuWy4uLmUubGF5ZXJzfHxbXSwuLi5lLnRhYmxlc3x8W11dLmZpbHRlcigoKHtsYXllclR5cGU6ZX0pPT5lP3IuaW5jbHVkZXMoZSk6ci5pbmNsdWRlcyhcIkFyY0dJU0ZlYXR1cmVMYXllclwiKSkpfWZ1bmN0aW9uIGMoZSl7cmV0dXJuKGU/LmxheWVycz8ubGVuZ3RoPz8wKSsoZT8udGFibGVzPy5sZW5ndGg/PzApfWZ1bmN0aW9uIG8oZSl7c3dpdGNoKGUpe2Nhc2VcImNhdGFsb2dcIjpyZXR1cm5bXCJDYXRhbG9nTGF5ZXJcIl07Y2FzZVwiZmVhdHVyZVwiOnJldHVybltcIkFyY0dJU0ZlYXR1cmVMYXllclwiXTtjYXNlXCJvcmllbnRlZC1pbWFnZXJ5XCI6cmV0dXJuW1wiT3JpZW50ZWRJbWFnZXJ5TGF5ZXJcIl07Y2FzZVwic3VidHlwZS1ncm91cFwiOnJldHVybltcIlN1YnR5cGVHcm91cExheWVyXCIsXCJTdWJ0eXBlR3JvdXBUYWJsZVwiXX1yZXR1cm4gbnVsbH1mdW5jdGlvbiBpKGUpe3N3aXRjaChlKXtjYXNlXCJDYXRhbG9nTGF5ZXJcIjpyZXR1cm5cIkNhdGFsb2dMYXllclwiO2Nhc2VcIk9yaWVudGVkSW1hZ2VyeUxheWVyXCI6cmV0dXJuXCJPcmllbnRlZEltYWdlcnlMYXllclwiO2Nhc2VcIlN1YnR5cGVHcm91cExheWVyXCI6Y2FzZVwiU3VidHlwZUdyb3VwVGFibGVcIjpyZXR1cm5cIlN1YnR5cGVHcm91cExheWVyXCJ9cmV0dXJuXCJGZWF0dXJlTGF5ZXJcIn1hc3luYyBmdW5jdGlvbiB5KHIsdCxsKXtpZighcj8udXJsKXJldHVybiB0Pz97fTtpZih0Pz89e30sIXQubGF5ZXJzKXtjb25zdCBlPWF3YWl0IGwuZmV0Y2hTZXJ2aWNlTWV0YWRhdGEoci51cmwpO3QubGF5ZXJzPWUubGF5ZXJzPy5tYXAoYSl9Y29uc3R7c2VydmVyVXJsOm4scG9ydGFsSXRlbTp1fT1hd2FpdCBlKHIudXJsLHtzY2VuZUxheWVySXRlbTpyLGN1c3RvbVBhcmFtZXRlcnM6cyh0KT8uY3VzdG9tUGFyYW1ldGVyc30pLmNhdGNoKCgoKT0+KHtzZXJ2ZXJVcmw6bnVsbCxwb3J0YWxJdGVtOm51bGx9KSkpO2lmKG51bGw9PW4pcmV0dXJuIHQudGFibGVzPVtdLHQ7aWYoIXQudGFibGVzJiZ1KXtjb25zdCBlPWF3YWl0IHUuZmV0Y2hEYXRhKCkuY2F0Y2goKCgpPT5udWxsKSk7aWYoZT8udGFibGVzKXQudGFibGVzPWUudGFibGVzLm1hcChhKTtlbHNle2NvbnN0IHI9YXdhaXQgbC5mZXRjaFNlcnZpY2VNZXRhZGF0YShuLHtjdXN0b21QYXJhbWV0ZXJzOnMoZSk/LmN1c3RvbVBhcmFtZXRlcnN9KS5jYXRjaCgoKCk9Pm51bGwpKTt0LnRhYmxlcz1yPy50YWJsZXM/Lm1hcChhKX19aWYodC50YWJsZXMpZm9yKGNvbnN0IGUgb2YgdC50YWJsZXMpZS51cmw9YCR7bn0vJHtlLmlkfWA7cmV0dXJuIHR9ZXhwb3J0e2EgYXMgY3JlYXRlU3VibGF5ZXJEYXRhLHMgYXMgZ2V0Rmlyc3RMYXllck9yVGFibGUsbiBhcyBnZXRMYXllck9yVGFibGUsYyBhcyBnZXROdW1MYXllcnNBbmRUYWJsZXMsdSBhcyBnZXRTdWJsYXllcnNCeUxheWVyVHlwZSxvIGFzIGluc3RhbmNlVHlwZVRvTGF5ZXJUeXBlcyxpIGFzIGxheWVyVHlwZVRvTGF5ZXJNb2R1bGVUeXBlLHkgYXMgcG9wdWxhdGVTY2VuZVNlcnZpY2VJdGVtRGF0YSxsIGFzIHByZXByb2Nlc3NGU0l0ZW1EYXRhfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjMzL2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnQgZSBmcm9tXCIuLi8uLi9jb3JlL0Vycm9yLmpzXCI7aW1wb3J0e2ZpbmRBc3NvY2lhdGVkRmVhdHVyZVNlcnZpY2UgYXMgYX1mcm9tXCIuLi8uLi9sYXllcnMvc3VwcG9ydC9hc3NvY2lhdGVkRmVhdHVyZVNlcnZpY2VVdGlscy5qc1wiO2ltcG9ydHtnZXRMYXllck1vZHVsZVR5cGUgYXMgcn1mcm9tXCIuLi8uLi9sYXllcnMvc3VwcG9ydC9mZXRjaFNlcnZpY2UuanNcIjtpbXBvcnR7TGF5ZXJMb2FkQ29udGV4dCBhcyB0fWZyb21cIi4uLy4uL2xheWVycy9zdXBwb3J0L0xheWVyTG9hZENvbnRleHQuanNcIjtpbXBvcnR7c2NlbmVTZXJ2aWNlTGF5ZXJUeXBlVG9DbGFzc05hbWUgYXMgcyxhcHBseVByZWZlcnJlZEhvc3RUb1BvcnRhbEl0ZW0gYXMgYyxnZXRQcmVmZXJyZWRIb3N0IGFzIG59ZnJvbVwiLi4vLi4vbGF5ZXJzL3N1cHBvcnQvbGF5ZXJVdGlscy5qc1wiO2ltcG9ydHtsYXllckxvb2t1cE1hcCBhcyBvfWZyb21cIi4uLy4uL2xheWVycy9zdXBwb3J0L2xhenlMYXllckxvYWRlci5qc1wiO2ltcG9ydCBpIGZyb21cIi4uL1BvcnRhbEl0ZW0uanNcIjtpbXBvcnR7Z2V0Rmlyc3RMYXllck9yVGFibGUgYXMgdSxnZXROdW1MYXllcnNBbmRUYWJsZXMgYXMgbCxwcmVwcm9jZXNzRlNJdGVtRGF0YSBhcyB5LGdldExheWVyT3JUYWJsZSBhcyBtLGxheWVyVHlwZVRvTGF5ZXJNb2R1bGVUeXBlIGFzIGYscG9wdWxhdGVTY2VuZVNlcnZpY2VJdGVtRGF0YSBhcyBwfWZyb21cIi4vbG9hZFV0aWxzLmpzXCI7aW1wb3J0e2hhc1R5cGVLZXl3b3JkIGFzIGR9ZnJvbVwiLi9wb3J0YWxJdGVtVXRpbHMuanNcIjthc3luYyBmdW5jdGlvbiBMKGUpe2xldHtwb3J0YWxJdGVtOmF9PWU7IWF8fGEgaW5zdGFuY2VvZiBpfHwoYT1uZXcgaShhKSk7Y29uc3Qgcj1hd2FpdCB3KGEpO3JldHVybiBuZXcoMCxyLmNvbnN0cnVjdG9yKSh7cG9ydGFsSXRlbTphLC4uLnIucHJvcGVydGllc30pfWFzeW5jIGZ1bmN0aW9uIHcoZSl7YXdhaXQgZS5sb2FkKCk7Y29uc3QgYT1uZXcgdDtyZXR1cm4gUyhhd2FpdCBOKGUsYSkpfWFzeW5jIGZ1bmN0aW9uIE4oYSxyKXtzd2l0Y2goYS50eXBlKXtjYXNlXCIzRFRpbGVzIFNlcnZpY2VcIjpyZXR1cm4gYS50eXBlS2V5d29yZHMuaW5jbHVkZXMoXCIzRE9iamVjdFwiKT9iKCk6UCgpO2Nhc2VcIkNTVlwiOnJldHVybiBGKCk7Y2FzZVwiRmVhdHVyZSBDb2xsZWN0aW9uXCI6cmV0dXJuIE0oYSk7Y2FzZVwiRmVhdHVyZSBTZXJ2aWNlXCI6cmV0dXJuIGgoYSxyKTtjYXNlXCJGZWVkXCI6cmV0dXJuIHgoKTtjYXNlXCJHZW9Kc29uXCI6cmV0dXJuIEcoKTtjYXNlXCJHcm91cCBMYXllclwiOnJldHVybiBKKCk7Y2FzZVwiSW1hZ2UgU2VydmljZVwiOnJldHVybiBnKGEscik7Y2FzZVwiS01MXCI6cmV0dXJuIFYoKTtjYXNlXCJLbm93bGVkZ2UgR3JhcGggTGF5ZXJcIjpyZXR1cm4gSygpO2Nhc2VcIk1hcCBTZXJ2aWNlXCI6cmV0dXJuIHYoYSxyKTtjYXNlXCJNZWRpYSBMYXllclwiOnJldHVybiBrKCk7Y2FzZVwiU2NlbmUgU2VydmljZVwiOnJldHVybiBJKGEscik7Y2FzZVwiU3RyZWFtIFNlcnZpY2VcIjpyZXR1cm4gaigpO2Nhc2VcIlZpZGVvIFNlcnZpY2VcIjpyZXR1cm4gVChhLHIpO2Nhc2VcIlZlY3RvciBUaWxlIFNlcnZpY2VcIjpyZXR1cm4gQygpO2Nhc2VcIldDU1wiOnJldHVybiBXKCk7Y2FzZVwiV0ZTXCI6cmV0dXJuIFUoKTtjYXNlXCJXTVNcIjpyZXR1cm4gRCgpO2Nhc2VcIldNVFNcIjpyZXR1cm4gTygpO2RlZmF1bHQ6dGhyb3cgbmV3IGUoXCJwb3J0YWw6dW5rbm93bi1pdGVtLXR5cGVcIixcIlVua25vd24gaXRlbSB0eXBlICcke3R5cGV9J1wiLHt0eXBlOmEudHlwZX0pfX1hc3luYyBmdW5jdGlvbiBTKGUpe2NvbnN0IGE9ZS5jbGFzc05hbWUscj1vW2FdO3JldHVybntjb25zdHJ1Y3Rvcjphd2FpdCByKCkscHJvcGVydGllczplLnByb3BlcnRpZXN9fWFzeW5jIGZ1bmN0aW9uIHYoZSxhKXtyZXR1cm4gYXdhaXQgJChlLGEpP3tjbGFzc05hbWU6XCJUaWxlTGF5ZXJcIn06e2NsYXNzTmFtZTpcIk1hcEltYWdlTGF5ZXJcIn19YXN5bmMgZnVuY3Rpb24gaChlLGEpe2NvbnN0IHI9YXdhaXQgQShlLGEpO2lmKFwib2JqZWN0XCI9PXR5cGVvZiByKXtjb25zdHtzb3VyY2VKU09OOmUsY2xhc3NOYW1lOmF9PXIsdD17c291cmNlSlNPTjplfTtyZXR1cm4gbnVsbCE9ci5pZCYmKHQubGF5ZXJJZD1yLmlkKSx7Y2xhc3NOYW1lOmF8fFwiRmVhdHVyZUxheWVyXCIscHJvcGVydGllczp0fX1yZXR1cm57Y2xhc3NOYW1lOlwiR3JvdXBMYXllclwifX1hc3luYyBmdW5jdGlvbiBJKGUscil7Y29uc3QgdD1hd2FpdCBBKGUsciwoYXN5bmMoKT0+e3RyeXtpZighZS51cmwpcmV0dXJuW107Y29uc3R7c2VydmVyVXJsOnR9PWF3YWl0IGEoZS51cmwse3NjZW5lTGF5ZXJJdGVtOmV9KSxzPWF3YWl0IHIuZmV0Y2hTZXJ2aWNlTWV0YWRhdGEodCk7cmV0dXJuIHM/LnRhYmxlcz8/W119Y2F0Y2h7cmV0dXJuW119fSkpO2lmKFwib2JqZWN0XCI9PXR5cGVvZiB0KXtjb25zdCBhPXt9O2xldCBjO2lmKG51bGwhPXQuaWQ/KGEubGF5ZXJJZD10LmlkLGM9YCR7ZS51cmx9L2xheWVycy8ke3QuaWR9YCk6Yz1lLnVybCxlLnR5cGVLZXl3b3Jkcz8ubGVuZ3RoKWZvcihjb25zdCByIG9mIE9iamVjdC5rZXlzKHMpKWlmKGUudHlwZUtleXdvcmRzLmluY2x1ZGVzKHIpKXJldHVybntjbGFzc05hbWU6c1tyXX07Y29uc3Qgbj1hd2FpdCByLmZldGNoU2VydmljZU1ldGFkYXRhKGMse2N1c3RvbVBhcmFtZXRlcnM6YXdhaXQgci5mZXRjaEN1c3RvbVBhcmFtZXRlcnMoZSwoZT0+dShlKT8uY3VzdG9tUGFyYW1ldGVycykpfSk7cmV0dXJue2NsYXNzTmFtZTpzW24/LmxheWVyVHlwZV18fFwiU2NlbmVMYXllclwiLHByb3BlcnRpZXM6YX19aWYoITE9PT10KXtjb25zdCBhPWF3YWl0IHIuZmV0Y2hTZXJ2aWNlTWV0YWRhdGEoZS51cmwpO2lmKFwiVm94ZWxcIj09PWE/LmxheWVyVHlwZSlyZXR1cm57Y2xhc3NOYW1lOlwiVm94ZWxMYXllclwifX1yZXR1cm57Y2xhc3NOYW1lOlwiR3JvdXBMYXllclwifX1hc3luYyBmdW5jdGlvbiBNKGUpe2F3YWl0IGUubG9hZCgpO2NvbnN0IGE9ZChlLFwiTWFwIE5vdGVzXCIpLHI9ZChlLFwiTWFya3VwXCIpO2lmKGF8fHIpcmV0dXJue2NsYXNzTmFtZTpcIk1hcE5vdGVzTGF5ZXJcIn07aWYoZChlLFwiUm91dGUgTGF5ZXJcIikpcmV0dXJue2NsYXNzTmFtZTpcIlJvdXRlTGF5ZXJcIn07Y29uc3QgdD1hd2FpdCBlLmZldGNoRGF0YSgpO3JldHVybiAxPT09bCh0KT97Y2xhc3NOYW1lOlwiRmVhdHVyZUxheWVyXCJ9OntjbGFzc05hbWU6XCJHcm91cExheWVyXCJ9fWFzeW5jIGZ1bmN0aW9uIGcoZSxhKXthd2FpdCBlLmxvYWQoKTtjb25zdCByPWUudHlwZUtleXdvcmRzPy5tYXAoKGU9PmUudG9Mb3dlckNhc2UoKSkpPz9bXTtpZihyLmluY2x1ZGVzKFwiZWxldmF0aW9uIDNkIGxheWVyXCIpKXJldHVybntjbGFzc05hbWU6XCJFbGV2YXRpb25MYXllclwifTtpZihyLmluY2x1ZGVzKFwidGlsZWQgaW1hZ2VyeVwiKSlyZXR1cm57Y2xhc3NOYW1lOlwiSW1hZ2VyeVRpbGVMYXllclwifTtjb25zdCB0PWF3YWl0IGEuZmV0Y2hJdGVtRGF0YShlKSxzPXQ/LmxheWVyVHlwZTtpZihcIkFyY0dJU1RpbGVkSW1hZ2VTZXJ2aWNlTGF5ZXJcIj09PXMpcmV0dXJue2NsYXNzTmFtZTpcIkltYWdlcnlUaWxlTGF5ZXJcIn07aWYoXCJBcmNHSVNJbWFnZVNlcnZpY2VMYXllclwiPT09cylyZXR1cm57Y2xhc3NOYW1lOlwiSW1hZ2VyeUxheWVyXCJ9O2NvbnN0IGM9YXdhaXQgYS5mZXRjaFNlcnZpY2VNZXRhZGF0YShlLnVybCx7Y3VzdG9tUGFyYW1ldGVyczphd2FpdCBhLmZldGNoQ3VzdG9tUGFyYW1ldGVycyhlKX0pLG49Yy5jYWNoZVR5cGU/LnRvTG93ZXJDYXNlKCksbz1jLmNhcGFiaWxpdGllcz8udG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhcInRpbGVzb25seVwiKSxpPWMudGlsZUluZm8/LmZvcm1hdD8udG9Mb3dlckNhc2UoKT8/XCJcIix1PW51bGw9PW4mJltcImpwZ1wiLFwianBlZ1wiLFwicG5nXCIsXCJwbmc4XCIsXCJwbmcyNFwiLFwicG5nMzJcIixcIm1peGVkXCJdLmluY2x1ZGVzKGkpO3JldHVyblwibWFwXCI9PT1ufHx1fHxvP3tjbGFzc05hbWU6XCJJbWFnZXJ5VGlsZUxheWVyXCJ9OntjbGFzc05hbWU6XCJJbWFnZXJ5TGF5ZXJcIn19ZnVuY3Rpb24gaigpe3JldHVybntjbGFzc05hbWU6XCJTdHJlYW1MYXllclwifX1hc3luYyBmdW5jdGlvbiBUKGUsYSl7cmV0dXJuXCJvYmplY3RcIj09dHlwZW9mIGF3YWl0IEEoZSxhKT97Y2xhc3NOYW1lOlwiVmlkZW9MYXllclwifTp7Y2xhc3NOYW1lOlwiR3JvdXBMYXllclwifX1mdW5jdGlvbiBDKCl7cmV0dXJue2NsYXNzTmFtZTpcIlZlY3RvclRpbGVMYXllclwifX1mdW5jdGlvbiBHKCl7cmV0dXJue2NsYXNzTmFtZTpcIkdlb0pTT05MYXllclwifX1mdW5jdGlvbiBQKCl7cmV0dXJue2NsYXNzTmFtZTpcIkludGVncmF0ZWRNZXNoM0RUaWxlc0xheWVyXCJ9fWZ1bmN0aW9uIGIoKXtyZXR1cm57Y2xhc3NOYW1lOlwiVW5zdXBwb3J0ZWRMYXllclwifX1mdW5jdGlvbiBGKCl7cmV0dXJue2NsYXNzTmFtZTpcIkNTVkxheWVyXCJ9fWZ1bmN0aW9uIFYoKXtyZXR1cm57Y2xhc3NOYW1lOlwiS01MTGF5ZXJcIn19ZnVuY3Rpb24gSygpe3JldHVybntjbGFzc05hbWU6XCJLbm93bGVkZ2VHcmFwaExheWVyXCJ9fWZ1bmN0aW9uIFcoKXtyZXR1cm57Y2xhc3NOYW1lOlwiV0NTTGF5ZXJcIn19ZnVuY3Rpb24gVSgpe3JldHVybntjbGFzc05hbWU6XCJXRlNMYXllclwifX1mdW5jdGlvbiBEKCl7cmV0dXJue2NsYXNzTmFtZTpcIldNU0xheWVyXCJ9fWZ1bmN0aW9uIE8oKXtyZXR1cm57Y2xhc3NOYW1lOlwiV01UU0xheWVyXCJ9fWZ1bmN0aW9uIHgoKXtyZXR1cm57Y2xhc3NOYW1lOlwiU3RyZWFtTGF5ZXJcIn19ZnVuY3Rpb24gSigpe3JldHVybntjbGFzc05hbWU6XCJHcm91cExheWVyXCJ9fWZ1bmN0aW9uIGsoKXtyZXR1cm57Y2xhc3NOYW1lOlwiTWVkaWFMYXllclwifX1hc3luYyBmdW5jdGlvbiAkKGUsYSl7Y29uc3R7dGlsZUluZm86cn09YXdhaXQgYS5mZXRjaFNlcnZpY2VNZXRhZGF0YShlLnVybCx7Y3VzdG9tUGFyYW1ldGVyczphd2FpdCBhLmZldGNoQ3VzdG9tUGFyYW1ldGVycyhlKX0pO3JldHVybiByfWFzeW5jIGZ1bmN0aW9uIEEoZSxhLHQpe2NvbnN0e3VybDpzLHR5cGU6b309ZSxpPVwiRmVhdHVyZSBTZXJ2aWNlXCI9PT1vO2lmKCFzKXJldHVybnt9O2lmKC9cXC9cXGQrJC8udGVzdChzKSl7aWYoaSl7Y29uc3QgdD1hd2FpdCBhLmZldGNoU2VydmljZU1ldGFkYXRhKHMse2N1c3RvbVBhcmFtZXRlcnM6YXdhaXQgYS5mZXRjaEN1c3RvbVBhcmFtZXRlcnMoZSwoZT0+dShlKT8uY3VzdG9tUGFyYW1ldGVycykpfSk7cmV0dXJuIGMoZSxuKCkpLHtpZDp0LmlkLGNsYXNzTmFtZTpyKHQudHlwZSksc291cmNlSlNPTjp0fX1yZXR1cm57fX1pZihcIlZpZGVvIFNlcnZpY2VcIj09PW8pe2NvbnN0IGU9YXdhaXQgYS5mZXRjaFNlcnZpY2VNZXRhZGF0YShzKTtyZXR1cm4hKChlLmxheWVycz8ubGVuZ3RoPz8wKT4xKSYme319YXdhaXQgZS5sb2FkKCk7bGV0IGQ9YXdhaXQgYS5mZXRjaEl0ZW1EYXRhKGUpO2lmKGkpe2NvbnN0e2RhdGE6cixwcmVmZXJyZWRIb3N0OnR9PWF3YWl0IHkoZCxzLGEpO2MoZSx0KTtjb25zdCBuPUUocik7aWYoXCJvYmplY3RcIj09dHlwZW9mIG4pe2NvbnN0IGU9bShyLG4uaWQpO24uY2xhc3NOYW1lPWYoZT8ubGF5ZXJUeXBlKX1yZXR1cm4gbn1cIlNjZW5lIFNlcnZpY2VcIj09PW8mJihkPWF3YWl0IHAoZSxkLGEpKTtpZihsKGQpPjApcmV0dXJuIEUoZCk7Y29uc3QgTD1hd2FpdCBhLmZldGNoU2VydmljZU1ldGFkYXRhKHMpO3JldHVybiB0JiYoTC50YWJsZXM9YXdhaXQgdCgpKSxFKEwpfWZ1bmN0aW9uIEUoZSl7cmV0dXJuIDE9PT1sKGUpJiZ7aWQ6dShlKT8uaWR9fWV4cG9ydHtMIGFzIGZyb21JdGVtLE4gYXMgc2VsZWN0TGF5ZXJDbGFzc1BhdGh9O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9