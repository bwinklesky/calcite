export const __webpack_id__ = "node_modules_arcgis_core_views_3d_layers_PointCloudWorker_js";
export const __webpack_ids__ = ["node_modules_arcgis_core_views_3d_layers_PointCloudWorker_js"];
export const __webpack_modules__ = {

/***/ "./node_modules/@arcgis/core/views/3d/layers/PointCloudWorker.js":
/*!***********************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/PointCloudWorker.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ g)
/* harmony export */ });
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_typedArrayUtil_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/typedArrayUtil.js */ "./node_modules/@arcgis/core/core/typedArrayUtil.js");
/* harmony import */ var _core_libs_gl_matrix_2_math_quat_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/libs/gl-matrix-2/math/quat.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/math/quat.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_quatf64_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/libs/gl-matrix-2/factories/quatf64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/quatf64.js");
/* harmony import */ var _chunks_vec32_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../chunks/vec32.js */ "./node_modules/@arcgis/core/chunks/vec32.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_vec3f32_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../core/libs/gl-matrix-2/factories/vec3f32.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/vec3f32.js");
/* harmony import */ var _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../geometry/SpatialReference.js */ "./node_modules/@arcgis/core/geometry/SpatialReference.js");
/* harmony import */ var _geometry_projection_projectBuffer_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../geometry/projection/projectBuffer.js */ "./node_modules/@arcgis/core/geometry/projection/projectBuffer.js");
/* harmony import */ var _i3s_PointCloudWorkerUtil_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./i3s/PointCloudWorkerUtil.js */ "./node_modules/@arcgis/core/views/3d/layers/i3s/PointCloudWorkerUtil.js");
/* harmony import */ var _support_orientedBoundingBox_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../support/orientedBoundingBox.js */ "./node_modules/@arcgis/core/views/3d/support/orientedBoundingBox.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
class c{transform(t){const e=this._transform(t),o=[e.points.buffer,e.rgb.buffer];null!=e.pointIdFilterMap&&o.push(e.pointIdFilterMap.buffer);for(const a of e.attributes)"buffer"in a.values&&(0,_core_typedArrayUtil_js__WEBPACK_IMPORTED_MODULE_1__.isArrayBuffer)(a.values.buffer)&&a.values.buffer!==e.rgb.buffer&&o.push(a.values.buffer);return Promise.resolve({result:e,transferList:o})}_transform(r){const e=(0,_i3s_PointCloudWorkerUtil_js__WEBPACK_IMPORTED_MODULE_8__.readGeometry)(r.schema,r.geometryBuffer);let o=e.length/3,a=null;const i=new Array,f=(0,_i3s_PointCloudWorkerUtil_js__WEBPACK_IMPORTED_MODULE_8__.getAttributeValues)(r.primaryAttributeData,e,o);null!=r.primaryAttributeData&&f&&i.push({attributeInfo:r.primaryAttributeData.attributeInfo,values:f});const s=(0,_i3s_PointCloudWorkerUtil_js__WEBPACK_IMPORTED_MODULE_8__.getAttributeValues)(r.modulationAttributeData,e,o);null!=r.modulationAttributeData&&s&&i.push({attributeInfo:r.modulationAttributeData.attributeInfo,values:s});let c=(0,_i3s_PointCloudWorkerUtil_js__WEBPACK_IMPORTED_MODULE_8__.evaluateRenderer)(r.rendererInfo,f,s,o);if(r.filterInfo&&r.filterInfo.length>0&&null!=r.filterAttributesData){const f=r.filterAttributesData.filter(_core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_0__.isSome).map((t=>{const r=(0,_i3s_PointCloudWorkerUtil_js__WEBPACK_IMPORTED_MODULE_8__.getAttributeValues)(t,e,o),a={attributeInfo:t.attributeInfo,values:r};return i.push(a),a}));a=new Uint32Array(o),o=(0,_i3s_PointCloudWorkerUtil_js__WEBPACK_IMPORTED_MODULE_8__.filterInPlace)(e,c,a,r.filterInfo,f)}for(const t of r.userAttributesData){const r=(0,_i3s_PointCloudWorkerUtil_js__WEBPACK_IMPORTED_MODULE_8__.getAttributeValues)(t,e,o);i.push({attributeInfo:t.attributeInfo,values:r})}3*o<c.length&&(c=new Uint8Array(c.buffer.slice(0,3*o))),I(e,o,r.elevationOffset);const A=h(e,o,_support_orientedBoundingBox_js__WEBPACK_IMPORTED_MODULE_9__.Obb.fromData(r.obbData),_geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_6__["default"].fromJSON(r.inSR),_geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_6__["default"].fromJSON(r.outSR));return{obbData:r.obbData,points:A,rgb:c,attributes:i,pointIdFilterMap:a}}}function h(t,r,o,n,u){if(!(0,_geometry_projection_projectBuffer_js__WEBPACK_IMPORTED_MODULE_7__.projectBuffer)(t,n,0,t,u,0,r))throw new Error("Can't reproject");const l=(0,_core_libs_gl_matrix_2_factories_vec3f32_js__WEBPACK_IMPORTED_MODULE_5__.clone)(o.center),m=(0,_core_libs_gl_matrix_2_factories_vec3f32_js__WEBPACK_IMPORTED_MODULE_5__.create)(),b=(0,_core_libs_gl_matrix_2_factories_vec3f32_js__WEBPACK_IMPORTED_MODULE_5__.create)(),p=(0,_core_libs_gl_matrix_2_factories_vec3f32_js__WEBPACK_IMPORTED_MODULE_5__.clone)(o.halfSize);(0,_core_libs_gl_matrix_2_math_quat_js__WEBPACK_IMPORTED_MODULE_2__.conjugate)(A,o.quaternion);const c=new Float32Array(3*r);for(let e=0;e<r;e++){let r=3*e;m[0]=t[r]-l[0],m[1]=t[r+1]-l[1],m[2]=t[r+2]-l[2],(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_4__.v)(b,m,A),p[0]=Math.max(p[0],Math.abs(b[0])),p[1]=Math.max(p[1],Math.abs(b[1])),p[2]=Math.max(p[2],Math.abs(b[2])),c[r++]=m[0],c[r++]=m[1],c[r]=m[2]}return o.halfSize=p,c}function I(t,r,e){if(0!==e)for(let o=0;o<r;o++)t[3*o+2]+=e}const A=(0,_core_libs_gl_matrix_2_factories_quatf64_js__WEBPACK_IMPORTED_MODULE_3__.create)();function g(){return new c}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/i3s/PointCloudWorkerUtil.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/i3s/PointCloudWorkerUtil.js ***!
  \*******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   elevationFromPositions: () => (/* binding */ a),
/* harmony export */   evaluateRenderer: () => (/* binding */ i),
/* harmony export */   filterInPlace: () => (/* binding */ f),
/* harmony export */   getAttributeValues: () => (/* binding */ c),
/* harmony export */   readGeometry: () => (/* binding */ u)
/* harmony export */ });
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _renderers_PointCloudClassBreaksRenderer_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../renderers/PointCloudClassBreaksRenderer.js */ "./node_modules/@arcgis/core/renderers/PointCloudClassBreaksRenderer.js");
/* harmony import */ var _renderers_PointCloudStretchRenderer_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../renderers/PointCloudStretchRenderer.js */ "./node_modules/@arcgis/core/renderers/PointCloudStretchRenderer.js");
/* harmony import */ var _renderers_PointCloudUniqueValueRenderer_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../renderers/PointCloudUniqueValueRenderer.js */ "./node_modules/@arcgis/core/renderers/PointCloudUniqueValueRenderer.js");
/* harmony import */ var _I3SBinaryReader_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./I3SBinaryReader.js */ "./node_modules/@arcgis/core/views/3d/layers/i3s/I3SBinaryReader.js");
/* harmony import */ var _LEPCC_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./LEPCC.js */ "./node_modules/@arcgis/core/views/3d/layers/i3s/LEPCC.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
function i(t,n,l,s){const{rendererJSON:i,isRGBRenderer:u}=t;let c=null,a=null;if(n&&u)c=n;else if(n&&"pointCloudUniqueValueRenderer"===i?.type){a=_renderers_PointCloudUniqueValueRenderer_js__WEBPACK_IMPORTED_MODULE_3__["default"].fromJSON(i);const e=a.colorUniqueValueInfos;c=new Uint8Array(3*s);const r=d(a.fieldTransformType);for(let o=0;o<s;o++){const t=(r?r(n[o]):n[o])+"";for(let r=0;r<e.length;r++)if(e[r].values.includes(t)){c[3*o]=e[r].color.r,c[3*o+1]=e[r].color.g,c[3*o+2]=e[r].color.b;break}}}else if(n&&"pointCloudStretchRenderer"===i?.type){a=_renderers_PointCloudStretchRenderer_js__WEBPACK_IMPORTED_MODULE_2__["default"].fromJSON(i);const e=a.stops;c=new Uint8Array(3*s);const o=d(a.fieldTransformType);for(let r=0;r<s;r++){const t=o?o(n[r]):n[r],l=e.length-1;if(t<e[0].value)c[3*r]=e[0].color.r,c[3*r+1]=e[0].color.g,c[3*r+2]=e[0].color.b;else if(t>=e[l].value)c[3*r]=e[l].color.r,c[3*r+1]=e[l].color.g,c[3*r+2]=e[l].color.b;else for(let o=1;o<e.length;o++)if(t<e[o].value){const n=(t-e[o-1].value)/(e[o].value-e[o-1].value);c[3*r]=e[o].color.r*n+e[o-1].color.r*(1-n),c[3*r+1]=e[o].color.g*n+e[o-1].color.g*(1-n),c[3*r+2]=e[o].color.b*n+e[o-1].color.b*(1-n);break}}}else if(n&&"pointCloudClassBreaksRenderer"===i?.type){a=_renderers_PointCloudClassBreaksRenderer_js__WEBPACK_IMPORTED_MODULE_1__["default"].fromJSON(i);const r=a.colorClassBreakInfos;c=new Uint8Array(3*s);const o=d(a.fieldTransformType);for(let e=0;e<s;e++){const t=o?o(n[e]):n[e];for(let o=0;o<r.length;o++)if(t>=r[o].minValue&&t<=r[o].maxValue){c[3*e]=r[o].color.r,c[3*e+1]=r[o].color.g,c[3*e+2]=r[o].color.b;break}}}else c=new Uint8Array(3*s).fill(255);if(l&&a?.colorModulation){const e=a.colorModulation.minValue,r=a.colorModulation.maxValue,o=.3;for(let t=0;t<s;t++){const n=l[t],s=n>=r?1:n<=e?o:o+(1-o)*(n-e)/(r-e);c[3*t]=s*c[3*t],c[3*t+1]=s*c[3*t+1],c[3*t+2]=s*c[3*t+2]}}return c}function u(e,r){if(null==e.encoding||""===e.encoding){const o=(0,_I3SBinaryReader_js__WEBPACK_IMPORTED_MODULE_4__.createGeometryIndexFromSchema)(r,e);if(null==o.vertexAttributes.position)return;const l=(0,_I3SBinaryReader_js__WEBPACK_IMPORTED_MODULE_4__.createTypedView)(r,o.vertexAttributes.position),s=o.header.fields,i=[s.offsetX,s.offsetY,s.offsetZ],u=[s.scaleX,s.scaleY,s.scaleZ],c=l.length/3,a=new Float64Array(3*c);for(let e=0;e<c;e++)a[3*e]=l[3*e]*u[0]+i[0],a[3*e+1]=l[3*e+1]*u[1]+i[1],a[3*e+2]=l[3*e+2]*u[2]+i[2];return a}if("lepcc-xyz"===e.encoding)return (0,_LEPCC_js__WEBPACK_IMPORTED_MODULE_5__.decodeXYZ)(r).result}function c(e,r,o){return e?.attributeInfo.useElevation?r?a(r,o):null:e?.attributeInfo.storageInfo?(0,_I3SBinaryReader_js__WEBPACK_IMPORTED_MODULE_4__.readBinaryAttribute)(e.attributeInfo.storageInfo,e.buffer,o,!0):null}function a(e,r){const o=new Float64Array(r);for(let t=0;t<r;t++)o[t]=e[3*t+2];return o}function f(e,r,o,t,n){const l=e.length/3;let s=0;for(let i=0;i<l;i++){let l=!0;for(let e=0;e<t.length&&l;e++){const{filterJSON:r}=t[e],o=n[e].values[i];switch(r.type){case"pointCloudValueFilter":{const e="exclude"===r.mode;r.values.includes(o)===e&&(l=!1);break}case"pointCloudBitfieldFilter":{const e=p(r.requiredSetBits),t=p(r.requiredClearBits);(o&e)===e&&0===(o&t)||(l=!1);break}case"pointCloudReturnFilter":{const e=15&o,t=o>>>4&15,n=t>1,s=1===e,i=e===t;let u=!1;for(const o of r.includedReturns)if("last"===o&&i||"firstOfMany"===o&&s&&n||"lastOfMany"===o&&i&&n||"single"===o&&!n){u=!0;break}u||(l=!1);break}}}l&&(o[s]=i,e[3*s]=e[3*i],e[3*s+1]=e[3*i+1],e[3*s+2]=e[3*i+2],r[3*s]=r[3*i],r[3*s+1]=r[3*i+1],r[3*s+2]=r[3*i+2],s++)}return s}function d(e){switch(e){default:case null:case"none":return e=>e;case"low-four-bit":return e=>15&e;case"high-four-bit":return e=>(240&e)>>4;case"absolute-value":return e=>Math.abs(e);case"modulo-ten":return e=>e%10}}function p(e){let r=0;for(const o of e||[])r|=1<<o;return r}


/***/ })

};

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibm9kZV9tb2R1bGVzX2FyY2dpc19jb3JlX3ZpZXdzXzNkX2xheWVyc19Qb2ludENsb3VkV29ya2VyX2pzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ3dzQixRQUFRLGFBQWEsNERBQTRELDREQUE0RCxpREFBaUQsc0VBQUMsMkVBQTJFLHdCQUF3Qix3QkFBd0IsRUFBRSxjQUFjLFFBQVEsMEVBQUMsNEJBQTRCLHdCQUF3QixvQkFBb0IsZ0ZBQUMsNkJBQTZCLHlDQUF5Qyw0REFBNEQsRUFBRSxRQUFRLGdGQUFDLGdDQUFnQyw0Q0FBNEMsK0RBQStELEVBQUUsTUFBTSw4RUFBQyx1QkFBdUIsc0VBQXNFLHNDQUFzQyx1REFBQyxXQUFXLFFBQVEsZ0ZBQUMsV0FBVyx3Q0FBd0MsbUJBQW1CLEdBQUcsdUJBQXVCLDJFQUFDLHVCQUF1QixxQ0FBcUMsUUFBUSxnRkFBQyxRQUFRLFFBQVEsdUNBQXVDLEVBQUUsaUZBQWlGLGNBQWMsZ0VBQUMscUJBQXFCLHFFQUFDLGtCQUFrQixxRUFBQyxvQkFBb0IsT0FBTyxtRUFBbUUsc0JBQXNCLElBQUksb0ZBQUMsbURBQW1ELFFBQVEsa0ZBQUMsYUFBYSxtRkFBQyxLQUFLLG1GQUFDLEtBQUssa0ZBQUMsYUFBYSw4RUFBQyxpQkFBaUIsOEJBQThCLFlBQVksSUFBSSxLQUFLLFVBQVUsaURBQWlELG1EQUFDLG1KQUFtSixzQkFBc0Isa0JBQWtCLHFCQUFxQixJQUFJLGdCQUFnQixRQUFRLG1GQUFDLEdBQUcsYUFBYSxhQUFrQzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ0pqZ0Y7QUFDQTtBQUNBO0FBQ0E7QUFDd1ksb0JBQW9CLE1BQU0sK0JBQStCLEdBQUcsa0JBQWtCLFlBQVksc0RBQXNELEVBQUUsbUZBQUMsYUFBYSxnQ0FBZ0Msc0JBQXNCLGdDQUFnQyxZQUFZLElBQUksS0FBSyw0QkFBNEIsWUFBWSxXQUFXLGdDQUFnQyxnRUFBZ0UsUUFBUSxrREFBa0QsRUFBRSwrRUFBQyxhQUFhLGdCQUFnQixzQkFBc0IsZ0NBQWdDLFlBQVksSUFBSSxLQUFLLG9DQUFvQyxnRkFBZ0Ysc0ZBQXNGLGlCQUFpQixXQUFXLHFCQUFxQixtREFBbUQscUlBQXFJLFFBQVEsc0RBQXNELEVBQUUsbUZBQUMsYUFBYSwrQkFBK0Isc0JBQXNCLGdDQUFnQyxZQUFZLElBQUksS0FBSyx1QkFBdUIsWUFBWSxXQUFXLDJDQUEyQyxnRUFBZ0UsUUFBUSxxQ0FBcUMsMEJBQTBCLHFFQUFxRSxZQUFZLElBQUksS0FBSyxpREFBaUQseURBQXlELFNBQVMsZ0JBQWdCLHNDQUFzQyxRQUFRLGtGQUFDLE1BQU0sNENBQTRDLFFBQVEsb0VBQUMsd0pBQXdKLFlBQVksSUFBSSxvRkFBb0YsU0FBUyxtQ0FBbUMsb0RBQUMsV0FBVyxrQkFBa0IsZ0ZBQWdGLHdFQUFDLGlEQUFpRCxnQkFBZ0IsNEJBQTRCLFlBQVksSUFBSSxrQkFBa0IsU0FBUyxzQkFBc0IsbUJBQW1CLFFBQVEsWUFBWSxJQUFJLEtBQUssU0FBUyxZQUFZLGNBQWMsS0FBSyxNQUFNLGFBQWEsdUJBQXVCLGVBQWUsNkJBQTZCLDJCQUEyQixpQ0FBaUMsTUFBTSxnQ0FBZ0Msc0RBQXNELDZCQUE2QixNQUFNLDhCQUE4Qiw4Q0FBOEMsU0FBUyxzSEFBc0gsS0FBSyxNQUFNLFVBQVUsUUFBUSxvSEFBb0gsU0FBUyxjQUFjLFVBQVUseUNBQXlDLGtDQUFrQyx5Q0FBeUMsMkNBQTJDLGlDQUFpQyxjQUFjLFFBQVEsNkJBQTZCLFNBQWdJIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcHJlY2lzaW9uZmFybXMvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzNkL2xheWVycy9Qb2ludENsb3VkV29ya2VyLmpzIiwid2VicGFjazovL3ByZWNpc2lvbmZhcm1zLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8zZC9sYXllcnMvaTNzL1BvaW50Q2xvdWRXb3JrZXJVdGlsLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjMzL2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7aXNTb21lIGFzIHR9ZnJvbVwiLi4vLi4vLi4vY29yZS9hcnJheVV0aWxzLmpzXCI7aW1wb3J0e2lzQXJyYXlCdWZmZXIgYXMgcn1mcm9tXCIuLi8uLi8uLi9jb3JlL3R5cGVkQXJyYXlVdGlsLmpzXCI7aW1wb3J0e2Nvbmp1Z2F0ZSBhcyBlfWZyb21cIi4uLy4uLy4uL2NvcmUvbGlicy9nbC1tYXRyaXgtMi9tYXRoL3F1YXQuanNcIjtpbXBvcnR7Y3JlYXRlIGFzIG99ZnJvbVwiLi4vLi4vLi4vY29yZS9saWJzL2dsLW1hdHJpeC0yL2ZhY3Rvcmllcy9xdWF0ZjY0LmpzXCI7aW1wb3J0e3YgYXMgYX1mcm9tXCIuLi8uLi8uLi9jaHVua3MvdmVjMzIuanNcIjtpbXBvcnR7Y2xvbmUgYXMgaSxjcmVhdGUgYXMgZn1mcm9tXCIuLi8uLi8uLi9jb3JlL2xpYnMvZ2wtbWF0cml4LTIvZmFjdG9yaWVzL3ZlYzNmMzIuanNcIjtpbXBvcnQgbiBmcm9tXCIuLi8uLi8uLi9nZW9tZXRyeS9TcGF0aWFsUmVmZXJlbmNlLmpzXCI7aW1wb3J0e3Byb2plY3RCdWZmZXIgYXMgc31mcm9tXCIuLi8uLi8uLi9nZW9tZXRyeS9wcm9qZWN0aW9uL3Byb2plY3RCdWZmZXIuanNcIjtpbXBvcnR7cmVhZEdlb21ldHJ5IGFzIHUsZ2V0QXR0cmlidXRlVmFsdWVzIGFzIGwsZXZhbHVhdGVSZW5kZXJlciBhcyBtLGZpbHRlckluUGxhY2UgYXMgYn1mcm9tXCIuL2kzcy9Qb2ludENsb3VkV29ya2VyVXRpbC5qc1wiO2ltcG9ydHtPYmIgYXMgcH1mcm9tXCIuLi9zdXBwb3J0L29yaWVudGVkQm91bmRpbmdCb3guanNcIjtjbGFzcyBje3RyYW5zZm9ybSh0KXtjb25zdCBlPXRoaXMuX3RyYW5zZm9ybSh0KSxvPVtlLnBvaW50cy5idWZmZXIsZS5yZ2IuYnVmZmVyXTtudWxsIT1lLnBvaW50SWRGaWx0ZXJNYXAmJm8ucHVzaChlLnBvaW50SWRGaWx0ZXJNYXAuYnVmZmVyKTtmb3IoY29uc3QgYSBvZiBlLmF0dHJpYnV0ZXMpXCJidWZmZXJcImluIGEudmFsdWVzJiZyKGEudmFsdWVzLmJ1ZmZlcikmJmEudmFsdWVzLmJ1ZmZlciE9PWUucmdiLmJ1ZmZlciYmby5wdXNoKGEudmFsdWVzLmJ1ZmZlcik7cmV0dXJuIFByb21pc2UucmVzb2x2ZSh7cmVzdWx0OmUsdHJhbnNmZXJMaXN0Om99KX1fdHJhbnNmb3JtKHIpe2NvbnN0IGU9dShyLnNjaGVtYSxyLmdlb21ldHJ5QnVmZmVyKTtsZXQgbz1lLmxlbmd0aC8zLGE9bnVsbDtjb25zdCBpPW5ldyBBcnJheSxmPWwoci5wcmltYXJ5QXR0cmlidXRlRGF0YSxlLG8pO251bGwhPXIucHJpbWFyeUF0dHJpYnV0ZURhdGEmJmYmJmkucHVzaCh7YXR0cmlidXRlSW5mbzpyLnByaW1hcnlBdHRyaWJ1dGVEYXRhLmF0dHJpYnV0ZUluZm8sdmFsdWVzOmZ9KTtjb25zdCBzPWwoci5tb2R1bGF0aW9uQXR0cmlidXRlRGF0YSxlLG8pO251bGwhPXIubW9kdWxhdGlvbkF0dHJpYnV0ZURhdGEmJnMmJmkucHVzaCh7YXR0cmlidXRlSW5mbzpyLm1vZHVsYXRpb25BdHRyaWJ1dGVEYXRhLmF0dHJpYnV0ZUluZm8sdmFsdWVzOnN9KTtsZXQgYz1tKHIucmVuZGVyZXJJbmZvLGYscyxvKTtpZihyLmZpbHRlckluZm8mJnIuZmlsdGVySW5mby5sZW5ndGg+MCYmbnVsbCE9ci5maWx0ZXJBdHRyaWJ1dGVzRGF0YSl7Y29uc3QgZj1yLmZpbHRlckF0dHJpYnV0ZXNEYXRhLmZpbHRlcih0KS5tYXAoKHQ9Pntjb25zdCByPWwodCxlLG8pLGE9e2F0dHJpYnV0ZUluZm86dC5hdHRyaWJ1dGVJbmZvLHZhbHVlczpyfTtyZXR1cm4gaS5wdXNoKGEpLGF9KSk7YT1uZXcgVWludDMyQXJyYXkobyksbz1iKGUsYyxhLHIuZmlsdGVySW5mbyxmKX1mb3IoY29uc3QgdCBvZiByLnVzZXJBdHRyaWJ1dGVzRGF0YSl7Y29uc3Qgcj1sKHQsZSxvKTtpLnB1c2goe2F0dHJpYnV0ZUluZm86dC5hdHRyaWJ1dGVJbmZvLHZhbHVlczpyfSl9MypvPGMubGVuZ3RoJiYoYz1uZXcgVWludDhBcnJheShjLmJ1ZmZlci5zbGljZSgwLDMqbykpKSxJKGUsbyxyLmVsZXZhdGlvbk9mZnNldCk7Y29uc3QgQT1oKGUsbyxwLmZyb21EYXRhKHIub2JiRGF0YSksbi5mcm9tSlNPTihyLmluU1IpLG4uZnJvbUpTT04oci5vdXRTUikpO3JldHVybntvYmJEYXRhOnIub2JiRGF0YSxwb2ludHM6QSxyZ2I6YyxhdHRyaWJ1dGVzOmkscG9pbnRJZEZpbHRlck1hcDphfX19ZnVuY3Rpb24gaCh0LHIsbyxuLHUpe2lmKCFzKHQsbiwwLHQsdSwwLHIpKXRocm93IG5ldyBFcnJvcihcIkNhbid0IHJlcHJvamVjdFwiKTtjb25zdCBsPWkoby5jZW50ZXIpLG09ZigpLGI9ZigpLHA9aShvLmhhbGZTaXplKTtlKEEsby5xdWF0ZXJuaW9uKTtjb25zdCBjPW5ldyBGbG9hdDMyQXJyYXkoMypyKTtmb3IobGV0IGU9MDtlPHI7ZSsrKXtsZXQgcj0zKmU7bVswXT10W3JdLWxbMF0sbVsxXT10W3IrMV0tbFsxXSxtWzJdPXRbcisyXS1sWzJdLGEoYixtLEEpLHBbMF09TWF0aC5tYXgocFswXSxNYXRoLmFicyhiWzBdKSkscFsxXT1NYXRoLm1heChwWzFdLE1hdGguYWJzKGJbMV0pKSxwWzJdPU1hdGgubWF4KHBbMl0sTWF0aC5hYnMoYlsyXSkpLGNbcisrXT1tWzBdLGNbcisrXT1tWzFdLGNbcl09bVsyXX1yZXR1cm4gby5oYWxmU2l6ZT1wLGN9ZnVuY3Rpb24gSSh0LHIsZSl7aWYoMCE9PWUpZm9yKGxldCBvPTA7bzxyO28rKyl0WzMqbysyXSs9ZX1jb25zdCBBPW8oKTtmdW5jdGlvbiBnKCl7cmV0dXJuIG5ldyBjfWV4cG9ydHtnIGFzIGRlZmF1bHR9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMzMvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydFwiLi4vLi4vLi4vLi4vY29yZS9oYXMuanNcIjtpbXBvcnQgZSBmcm9tXCIuLi8uLi8uLi8uLi9yZW5kZXJlcnMvUG9pbnRDbG91ZENsYXNzQnJlYWtzUmVuZGVyZXIuanNcIjtpbXBvcnQgciBmcm9tXCIuLi8uLi8uLi8uLi9yZW5kZXJlcnMvUG9pbnRDbG91ZFN0cmV0Y2hSZW5kZXJlci5qc1wiO2ltcG9ydCBvIGZyb21cIi4uLy4uLy4uLy4uL3JlbmRlcmVycy9Qb2ludENsb3VkVW5pcXVlVmFsdWVSZW5kZXJlci5qc1wiO2ltcG9ydHtjcmVhdGVHZW9tZXRyeUluZGV4RnJvbVNjaGVtYSBhcyB0LGNyZWF0ZVR5cGVkVmlldyBhcyBuLHJlYWRCaW5hcnlBdHRyaWJ1dGUgYXMgbH1mcm9tXCIuL0kzU0JpbmFyeVJlYWRlci5qc1wiO2ltcG9ydHtkZWNvZGVYWVogYXMgc31mcm9tXCIuL0xFUENDLmpzXCI7ZnVuY3Rpb24gaSh0LG4sbCxzKXtjb25zdHtyZW5kZXJlckpTT046aSxpc1JHQlJlbmRlcmVyOnV9PXQ7bGV0IGM9bnVsbCxhPW51bGw7aWYobiYmdSljPW47ZWxzZSBpZihuJiZcInBvaW50Q2xvdWRVbmlxdWVWYWx1ZVJlbmRlcmVyXCI9PT1pPy50eXBlKXthPW8uZnJvbUpTT04oaSk7Y29uc3QgZT1hLmNvbG9yVW5pcXVlVmFsdWVJbmZvcztjPW5ldyBVaW50OEFycmF5KDMqcyk7Y29uc3Qgcj1kKGEuZmllbGRUcmFuc2Zvcm1UeXBlKTtmb3IobGV0IG89MDtvPHM7bysrKXtjb25zdCB0PShyP3IobltvXSk6bltvXSkrXCJcIjtmb3IobGV0IHI9MDtyPGUubGVuZ3RoO3IrKylpZihlW3JdLnZhbHVlcy5pbmNsdWRlcyh0KSl7Y1szKm9dPWVbcl0uY29sb3IucixjWzMqbysxXT1lW3JdLmNvbG9yLmcsY1szKm8rMl09ZVtyXS5jb2xvci5iO2JyZWFrfX19ZWxzZSBpZihuJiZcInBvaW50Q2xvdWRTdHJldGNoUmVuZGVyZXJcIj09PWk/LnR5cGUpe2E9ci5mcm9tSlNPTihpKTtjb25zdCBlPWEuc3RvcHM7Yz1uZXcgVWludDhBcnJheSgzKnMpO2NvbnN0IG89ZChhLmZpZWxkVHJhbnNmb3JtVHlwZSk7Zm9yKGxldCByPTA7cjxzO3IrKyl7Y29uc3QgdD1vP28obltyXSk6bltyXSxsPWUubGVuZ3RoLTE7aWYodDxlWzBdLnZhbHVlKWNbMypyXT1lWzBdLmNvbG9yLnIsY1szKnIrMV09ZVswXS5jb2xvci5nLGNbMypyKzJdPWVbMF0uY29sb3IuYjtlbHNlIGlmKHQ+PWVbbF0udmFsdWUpY1szKnJdPWVbbF0uY29sb3IucixjWzMqcisxXT1lW2xdLmNvbG9yLmcsY1szKnIrMl09ZVtsXS5jb2xvci5iO2Vsc2UgZm9yKGxldCBvPTE7bzxlLmxlbmd0aDtvKyspaWYodDxlW29dLnZhbHVlKXtjb25zdCBuPSh0LWVbby0xXS52YWx1ZSkvKGVbb10udmFsdWUtZVtvLTFdLnZhbHVlKTtjWzMqcl09ZVtvXS5jb2xvci5yKm4rZVtvLTFdLmNvbG9yLnIqKDEtbiksY1szKnIrMV09ZVtvXS5jb2xvci5nKm4rZVtvLTFdLmNvbG9yLmcqKDEtbiksY1szKnIrMl09ZVtvXS5jb2xvci5iKm4rZVtvLTFdLmNvbG9yLmIqKDEtbik7YnJlYWt9fX1lbHNlIGlmKG4mJlwicG9pbnRDbG91ZENsYXNzQnJlYWtzUmVuZGVyZXJcIj09PWk/LnR5cGUpe2E9ZS5mcm9tSlNPTihpKTtjb25zdCByPWEuY29sb3JDbGFzc0JyZWFrSW5mb3M7Yz1uZXcgVWludDhBcnJheSgzKnMpO2NvbnN0IG89ZChhLmZpZWxkVHJhbnNmb3JtVHlwZSk7Zm9yKGxldCBlPTA7ZTxzO2UrKyl7Y29uc3QgdD1vP28obltlXSk6bltlXTtmb3IobGV0IG89MDtvPHIubGVuZ3RoO28rKylpZih0Pj1yW29dLm1pblZhbHVlJiZ0PD1yW29dLm1heFZhbHVlKXtjWzMqZV09cltvXS5jb2xvci5yLGNbMyplKzFdPXJbb10uY29sb3IuZyxjWzMqZSsyXT1yW29dLmNvbG9yLmI7YnJlYWt9fX1lbHNlIGM9bmV3IFVpbnQ4QXJyYXkoMypzKS5maWxsKDI1NSk7aWYobCYmYT8uY29sb3JNb2R1bGF0aW9uKXtjb25zdCBlPWEuY29sb3JNb2R1bGF0aW9uLm1pblZhbHVlLHI9YS5jb2xvck1vZHVsYXRpb24ubWF4VmFsdWUsbz0uMztmb3IobGV0IHQ9MDt0PHM7dCsrKXtjb25zdCBuPWxbdF0scz1uPj1yPzE6bjw9ZT9vOm8rKDEtbykqKG4tZSkvKHItZSk7Y1szKnRdPXMqY1szKnRdLGNbMyp0KzFdPXMqY1szKnQrMV0sY1szKnQrMl09cypjWzMqdCsyXX19cmV0dXJuIGN9ZnVuY3Rpb24gdShlLHIpe2lmKG51bGw9PWUuZW5jb2Rpbmd8fFwiXCI9PT1lLmVuY29kaW5nKXtjb25zdCBvPXQocixlKTtpZihudWxsPT1vLnZlcnRleEF0dHJpYnV0ZXMucG9zaXRpb24pcmV0dXJuO2NvbnN0IGw9bihyLG8udmVydGV4QXR0cmlidXRlcy5wb3NpdGlvbikscz1vLmhlYWRlci5maWVsZHMsaT1bcy5vZmZzZXRYLHMub2Zmc2V0WSxzLm9mZnNldFpdLHU9W3Muc2NhbGVYLHMuc2NhbGVZLHMuc2NhbGVaXSxjPWwubGVuZ3RoLzMsYT1uZXcgRmxvYXQ2NEFycmF5KDMqYyk7Zm9yKGxldCBlPTA7ZTxjO2UrKylhWzMqZV09bFszKmVdKnVbMF0raVswXSxhWzMqZSsxXT1sWzMqZSsxXSp1WzFdK2lbMV0sYVszKmUrMl09bFszKmUrMl0qdVsyXStpWzJdO3JldHVybiBhfWlmKFwibGVwY2MteHl6XCI9PT1lLmVuY29kaW5nKXJldHVybiBzKHIpLnJlc3VsdH1mdW5jdGlvbiBjKGUscixvKXtyZXR1cm4gZT8uYXR0cmlidXRlSW5mby51c2VFbGV2YXRpb24/cj9hKHIsbyk6bnVsbDplPy5hdHRyaWJ1dGVJbmZvLnN0b3JhZ2VJbmZvP2woZS5hdHRyaWJ1dGVJbmZvLnN0b3JhZ2VJbmZvLGUuYnVmZmVyLG8sITApOm51bGx9ZnVuY3Rpb24gYShlLHIpe2NvbnN0IG89bmV3IEZsb2F0NjRBcnJheShyKTtmb3IobGV0IHQ9MDt0PHI7dCsrKW9bdF09ZVszKnQrMl07cmV0dXJuIG99ZnVuY3Rpb24gZihlLHIsbyx0LG4pe2NvbnN0IGw9ZS5sZW5ndGgvMztsZXQgcz0wO2ZvcihsZXQgaT0wO2k8bDtpKyspe2xldCBsPSEwO2ZvcihsZXQgZT0wO2U8dC5sZW5ndGgmJmw7ZSsrKXtjb25zdHtmaWx0ZXJKU09OOnJ9PXRbZV0sbz1uW2VdLnZhbHVlc1tpXTtzd2l0Y2goci50eXBlKXtjYXNlXCJwb2ludENsb3VkVmFsdWVGaWx0ZXJcIjp7Y29uc3QgZT1cImV4Y2x1ZGVcIj09PXIubW9kZTtyLnZhbHVlcy5pbmNsdWRlcyhvKT09PWUmJihsPSExKTticmVha31jYXNlXCJwb2ludENsb3VkQml0ZmllbGRGaWx0ZXJcIjp7Y29uc3QgZT1wKHIucmVxdWlyZWRTZXRCaXRzKSx0PXAoci5yZXF1aXJlZENsZWFyQml0cyk7KG8mZSk9PT1lJiYwPT09KG8mdCl8fChsPSExKTticmVha31jYXNlXCJwb2ludENsb3VkUmV0dXJuRmlsdGVyXCI6e2NvbnN0IGU9MTUmbyx0PW8+Pj40JjE1LG49dD4xLHM9MT09PWUsaT1lPT09dDtsZXQgdT0hMTtmb3IoY29uc3QgbyBvZiByLmluY2x1ZGVkUmV0dXJucylpZihcImxhc3RcIj09PW8mJml8fFwiZmlyc3RPZk1hbnlcIj09PW8mJnMmJm58fFwibGFzdE9mTWFueVwiPT09byYmaSYmbnx8XCJzaW5nbGVcIj09PW8mJiFuKXt1PSEwO2JyZWFrfXV8fChsPSExKTticmVha319fWwmJihvW3NdPWksZVszKnNdPWVbMyppXSxlWzMqcysxXT1lWzMqaSsxXSxlWzMqcysyXT1lWzMqaSsyXSxyWzMqc109clszKmldLHJbMypzKzFdPXJbMyppKzFdLHJbMypzKzJdPXJbMyppKzJdLHMrKyl9cmV0dXJuIHN9ZnVuY3Rpb24gZChlKXtzd2l0Y2goZSl7ZGVmYXVsdDpjYXNlIG51bGw6Y2FzZVwibm9uZVwiOnJldHVybiBlPT5lO2Nhc2VcImxvdy1mb3VyLWJpdFwiOnJldHVybiBlPT4xNSZlO2Nhc2VcImhpZ2gtZm91ci1iaXRcIjpyZXR1cm4gZT0+KDI0MCZlKT4+NDtjYXNlXCJhYnNvbHV0ZS12YWx1ZVwiOnJldHVybiBlPT5NYXRoLmFicyhlKTtjYXNlXCJtb2R1bG8tdGVuXCI6cmV0dXJuIGU9PmUlMTB9fWZ1bmN0aW9uIHAoZSl7bGV0IHI9MDtmb3IoY29uc3QgbyBvZiBlfHxbXSlyfD0xPDxvO3JldHVybiByfWV4cG9ydHthIGFzIGVsZXZhdGlvbkZyb21Qb3NpdGlvbnMsaSBhcyBldmFsdWF0ZVJlbmRlcmVyLGYgYXMgZmlsdGVySW5QbGFjZSxjIGFzIGdldEF0dHJpYnV0ZVZhbHVlcyx1IGFzIHJlYWRHZW9tZXRyeX07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=