export const __webpack_id__ = "node_modules_arcgis_core_views_support_TextureCompressionWorker_js";
export const __webpack_ids__ = ["node_modules_arcgis_core_views_support_TextureCompressionWorker_js"];
export const __webpack_modules__ = {

/***/ "./node_modules/@arcgis/core/libs/basisu/BasisUEncoder.js":
/*!****************************************************************!*\
  !*** ./node_modules/@arcgis/core/libs/basisu/BasisUEncoder.js ***!
  \****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   getBasisEncoder: () => (/* binding */ i)
/* harmony export */ });
/* harmony import */ var _assets_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../assets.js */ "./node_modules/@arcgis/core/assets.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
function i(){return t??=(async()=>{const i=await __webpack_require__.e(/*! import() */ "vendors-node_modules_arcgis_core_chunks_basis_encoder_js").then(__webpack_require__.bind(__webpack_require__, /*! ../../chunks/basis_encoder.js */ "./node_modules/@arcgis/core/chunks/basis_encoder.js")),t=await i.default({locateFile:i=>(0,_assets_js__WEBPACK_IMPORTED_MODULE_0__.getAssetUrl)(`esri/libs/basisu/${i}`)});return t.initializeBasis(),t})(),t}let t;


/***/ }),

/***/ "./node_modules/@arcgis/core/libs/dxtEncoder/DXTEncoder.js":
/*!*****************************************************************!*\
  !*** ./node_modules/@arcgis/core/libs/dxtEncoder/DXTEncoder.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   getDXTEncoder: () => (/* binding */ e)
/* harmony export */ });
/* harmony import */ var _assets_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../assets.js */ "./node_modules/@arcgis/core/assets.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
function e(){return r??=(async()=>{const e=await __webpack_require__.e(/*! import() */ "vendors-node_modules_arcgis_core_chunks_dxt_encoder_js").then(__webpack_require__.bind(__webpack_require__, /*! ../../chunks/dxt_encoder.js */ "./node_modules/@arcgis/core/chunks/dxt_encoder.js"));return await e.default({locateFile:e=>(0,_assets_js__WEBPACK_IMPORTED_MODULE_0__.getAssetUrl)(`esri/libs/dxtEncoder/${e}`)})})(),r}let r;


/***/ }),

/***/ "./node_modules/@arcgis/core/views/support/TextureCompressionWorker.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/support/TextureCompressionWorker.js ***!
  \*****************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   TextureCompressionWorkerOutput: () => (/* binding */ o),
/* harmony export */   compress: () => (/* binding */ u),
/* harmony export */   compressRGBADataToKTX2: () => (/* binding */ d),
/* harmony export */   createTextureDataKTX2: () => (/* binding */ f),
/* harmony export */   initializeBasisEncoder: () => (/* binding */ c),
/* harmony export */   initializeDXTEncoder: () => (/* binding */ h)
/* harmony export */ });
/* harmony import */ var _libs_basisu_BasisUEncoder_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../libs/basisu/BasisUEncoder.js */ "./node_modules/@arcgis/core/libs/basisu/BasisUEncoder.js");
/* harmony import */ var _libs_basisu_TextureFormat_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../libs/basisu/TextureFormat.js */ "./node_modules/@arcgis/core/libs/basisu/TextureFormat.js");
/* harmony import */ var _libs_dxtEncoder_DXTEncoder_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../libs/dxtEncoder/DXTEncoder.js */ "./node_modules/@arcgis/core/libs/dxtEncoder/DXTEncoder.js");
/* harmony import */ var _webgl_enums_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../webgl/enums.js */ "./node_modules/@arcgis/core/views/webgl/enums.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
let a,s,l=null,i=null;class o{constructor(e,t){this.internalFormat=e,this.compressedTexture=t}}async function u(e){let t;if(t=e.data instanceof ImageBitmap?p(e.data):m(e.data,e.width,e.height,e.components,e.needsFlip),e.hasS3TC){i||await h();const n=new Uint8Array(t.length);if(i?.encode(t,e.width,e.height,e.preMultiplyAlpha,n)){const e=M(n,!0),t=[n.buffer];return{result:new o(e?.internalFormat??null,e?.textureData??null),transferList:t}}return{result:new o(null,null)}}if(e.hasETC){if(l||await c(),e.preMultiplyAlpha&&!i&&await h(),e.preMultiplyAlpha){const n=new Uint8ClampedArray(t.length);i?.premultiply(new Uint8Array(t),e.width,e.height,n),t=n}const n=await d(t,e.width,e.height,e.hasMipmap),r=n?await f(n):null,a=r?.compressedTexture?.levels.map((e=>e.buffer))||[];return{result:new o(r?.internalFormat??null,r?.compressedTexture??null),transferList:a}}return{result:new o(null,null)}}async function c(){l||(l=await(a??=(0,_libs_basisu_BasisUEncoder_js__WEBPACK_IMPORTED_MODULE_0__.getBasisEncoder)()))}async function h(){i||(i=await(s??=(0,_libs_dxtEncoder_DXTEncoder_js__WEBPACK_IMPORTED_MODULE_2__.getDXTEncoder)()))}async function d(e,t,n,r,a=255,s=0,i=!1,o=!1){if(!l)return null;const u=new l.BasisEncoder;u.setPerceptual(!o),u.setCheckForAlpha(!0),u.setForceAlpha(!1),u.setRenormalize(o),u.setMipGen(r),u.setMipSRGB(!o),u.setCreateKTX2File(!0),u.setKTX2SRGBTransferFunc(!o),u.setQualityLevel(a),u.setCompressionLevel(s);const c=new Uint8Array(e.byteLength);u.setSliceSourceImage(0,new Uint8Array(e),t,n,i);const h=u.encode(c),d=new Uint8Array(c.buffer,0,h),f=new l.KTX2File(new Uint8Array(d));return f.isValid()?(u.delete(),d):(f.close(),f.delete(),u.delete(),null)}async function f(e){if(!l)return new o(null,null);const n=new l.KTX2File(new Uint8Array(e));n.startTranscoding();const[a,s]=n.getHasAlpha()?[_libs_basisu_TextureFormat_js__WEBPACK_IMPORTED_MODULE_1__.TextureFormat.ETC2_RGBA,_webgl_enums_js__WEBPACK_IMPORTED_MODULE_3__.CompressedTextureFormat.COMPRESSED_RGBA8_ETC2_EAC]:[_libs_basisu_TextureFormat_js__WEBPACK_IMPORTED_MODULE_1__.TextureFormat.ETC1_RGB,_webgl_enums_js__WEBPACK_IMPORTED_MODULE_3__.CompressedTextureFormat.COMPRESSED_RGB8_ETC2],i=n.getLevels(),u=[];for(let t=0;t<i;t++)u.push(new Uint8Array(n.getImageTranscodedSizeInBytes(t,0,0,a))),n.transcodeImage(u[t],t,0,0,a,0,-1,-1);return n.close(),n.delete(),{internalFormat:s,compressedTexture:{type:"compressed",levels:u}}}function p(e){const t=new OffscreenCanvas(e.width,e.height),n=t.getContext("2d");n.drawImage(e,0,0);return n.getImageData(0,0,t.width,t.height).data}function m(e,t,n,r,a){const s=new Uint8ClampedArray(e).subarray(0,t*n*r);if(!a)return s;const l=new Uint8ClampedArray(s.length),i=t*r;for(let o=0;o<n;o++){const e=o*i,t=(n-o-1)*i;l.set(s.subarray(e,e+i),t)}return l}const w=31,y=1,T=2,A=3,C=4,g=7,E=21,b=131072;function S(e){return e.charCodeAt(0)+(e.charCodeAt(1)<<8)+(e.charCodeAt(2)<<16)+(e.charCodeAt(3)<<24)}const _=S("DXT1"),D=S("DXT3"),R=S("DXT5");function M(e,t){const n=new Int32Array(e.buffer,e.byteOffset,w);let a,s;switch(n[E]){case _:a=8,s=_webgl_enums_js__WEBPACK_IMPORTED_MODULE_3__.CompressedTextureFormat.COMPRESSED_RGB_S3TC_DXT1_EXT;break;case D:a=16,s=_webgl_enums_js__WEBPACK_IMPORTED_MODULE_3__.CompressedTextureFormat.COMPRESSED_RGBA_S3TC_DXT3_EXT;break;case R:a=16,s=_webgl_enums_js__WEBPACK_IMPORTED_MODULE_3__.CompressedTextureFormat.COMPRESSED_RGBA_S3TC_DXT5_EXT;break;default:return null}let l=1,i=n[C],o=n[A];(3&i||3&o)&&(i=i+3&-4,o=o+3&-4);const u=i,c=o;let h,d;n[T]&b&&!1!==t&&(l=Math.max(1,n[g]));let f=e.byteOffset+n[y]+4;const p=[];for(let r=0;r<l;++r)d=(i+3>>2)*(o+3>>2)*a,h=new Uint8Array(e.buffer,f,d),p.push(h),f+=d,i=Math.max(1,i>>1),o=Math.max(1,o>>1);return{textureData:{type:"compressed",levels:p},internalFormat:s,width:u,height:c}}


/***/ })

};

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibm9kZV9tb2R1bGVzX2FyY2dpc19jb3JlX3ZpZXdzX3N1cHBvcnRfVGV4dHVyZUNvbXByZXNzaW9uV29ya2VyX2pzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQzhDLGFBQWEsc0JBQXNCLGNBQWMsaVBBQXVDLG9CQUFvQixjQUFjLHVEQUFDLHFCQUFxQixFQUFFLEdBQUcsRUFBRSw2QkFBNkIsTUFBTSxNQUFtQzs7Ozs7Ozs7Ozs7Ozs7OztBQ0ozUTtBQUNBO0FBQ0E7QUFDQTtBQUM4QyxhQUFhLHNCQUFzQixjQUFjLDJPQUFxQyxDQUFDLHdCQUF3QixjQUFjLHVEQUFDLHlCQUF5QixFQUFFLEdBQUcsRUFBRSxNQUFNLE1BQWlDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNKblA7QUFDQTtBQUNBO0FBQ0E7QUFDd1Esc0JBQXNCLFFBQVEsaUJBQWlCLGdEQUFnRCxvQkFBb0IsTUFBTSw0R0FBNEcsYUFBYSxpQ0FBaUMsdURBQXVELDZCQUE2QixPQUFPLDJFQUEyRSxPQUFPLHlCQUF5QixhQUFhLHNFQUFzRSx3Q0FBd0MseURBQXlELDBIQUEwSCxPQUFPLGlGQUFpRixPQUFPLHlCQUF5QixtQkFBbUIsZ0JBQWdCLDhFQUFDLEtBQUssbUJBQW1CLGdCQUFnQiw2RUFBQyxLQUFLLDhDQUE4QyxrQkFBa0IsMkJBQTJCLHVOQUF1TixxQ0FBcUMsaURBQWlELHVGQUF1Rix5RUFBeUUsb0JBQW9CLDhCQUE4QiwwQ0FBMEMscUJBQXFCLDRCQUE0Qix3RUFBQyxXQUFXLG9FQUFDLDZCQUE2Qix3RUFBQyxVQUFVLG9FQUFDLDRDQUE0QyxZQUFZLElBQUksNEdBQTRHLDZCQUE2QixvQ0FBb0MsNkJBQTZCLGNBQWMsbUVBQW1FLG1CQUFtQixpREFBaUQsc0JBQXNCLG1EQUFtRCxlQUFlLDhDQUE4QyxZQUFZLElBQUksS0FBSyx3QkFBd0IsMkJBQTJCLFNBQVMsNkNBQTZDLGNBQWMsd0ZBQXdGLDBDQUEwQyxnQkFBZ0IsZ0RBQWdELFFBQVEsYUFBYSxhQUFhLG9FQUFDLDhCQUE4QixNQUFNLGNBQWMsb0VBQUMsK0JBQStCLE1BQU0sY0FBYyxvRUFBQywrQkFBK0IsTUFBTSxvQkFBb0Isc0JBQXNCLGdDQUFnQyxjQUFjLFFBQVEscUNBQXFDLDBCQUEwQixXQUFXLFlBQVksSUFBSSw4R0FBOEcsT0FBTyxhQUFhLDJCQUEyQixvQ0FBMk0iLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wcmVjaXNpb25mYXJtcy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvbGlicy9iYXNpc3UvQmFzaXNVRW5jb2Rlci5qcyIsIndlYnBhY2s6Ly9wcmVjaXNpb25mYXJtcy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvbGlicy9keHRFbmNvZGVyL0RYVEVuY29kZXIuanMiLCJ3ZWJwYWNrOi8vcHJlY2lzaW9uZmFybXMvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzL3N1cHBvcnQvVGV4dHVyZUNvbXByZXNzaW9uV29ya2VyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjMzL2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7Z2V0QXNzZXRVcmwgYXMgc31mcm9tXCIuLi8uLi9hc3NldHMuanNcIjtmdW5jdGlvbiBpKCl7cmV0dXJuIHQ/Pz0oYXN5bmMoKT0+e2NvbnN0IGk9YXdhaXQgaW1wb3J0KFwiLi4vLi4vY2h1bmtzL2Jhc2lzX2VuY29kZXIuanNcIiksdD1hd2FpdCBpLmRlZmF1bHQoe2xvY2F0ZUZpbGU6aT0+cyhgZXNyaS9saWJzL2Jhc2lzdS8ke2l9YCl9KTtyZXR1cm4gdC5pbml0aWFsaXplQmFzaXMoKSx0fSkoKSx0fWxldCB0O2V4cG9ydHtpIGFzIGdldEJhc2lzRW5jb2Rlcn07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4zMy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e2dldEFzc2V0VXJsIGFzIHR9ZnJvbVwiLi4vLi4vYXNzZXRzLmpzXCI7ZnVuY3Rpb24gZSgpe3JldHVybiByPz89KGFzeW5jKCk9Pntjb25zdCBlPWF3YWl0IGltcG9ydChcIi4uLy4uL2NodW5rcy9keHRfZW5jb2Rlci5qc1wiKTtyZXR1cm4gYXdhaXQgZS5kZWZhdWx0KHtsb2NhdGVGaWxlOmU9PnQoYGVzcmkvbGlicy9keHRFbmNvZGVyLyR7ZX1gKX0pfSkoKSxyfWxldCByO2V4cG9ydHtlIGFzIGdldERYVEVuY29kZXJ9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMzMvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtnZXRCYXNpc0VuY29kZXIgYXMgZX1mcm9tXCIuLi8uLi9saWJzL2Jhc2lzdS9CYXNpc1VFbmNvZGVyLmpzXCI7aW1wb3J0e1RleHR1cmVGb3JtYXQgYXMgdH1mcm9tXCIuLi8uLi9saWJzL2Jhc2lzdS9UZXh0dXJlRm9ybWF0LmpzXCI7aW1wb3J0e2dldERYVEVuY29kZXIgYXMgbn1mcm9tXCIuLi8uLi9saWJzL2R4dEVuY29kZXIvRFhURW5jb2Rlci5qc1wiO2ltcG9ydHtDb21wcmVzc2VkVGV4dHVyZUZvcm1hdCBhcyByfWZyb21cIi4uL3dlYmdsL2VudW1zLmpzXCI7bGV0IGEscyxsPW51bGwsaT1udWxsO2NsYXNzIG97Y29uc3RydWN0b3IoZSx0KXt0aGlzLmludGVybmFsRm9ybWF0PWUsdGhpcy5jb21wcmVzc2VkVGV4dHVyZT10fX1hc3luYyBmdW5jdGlvbiB1KGUpe2xldCB0O2lmKHQ9ZS5kYXRhIGluc3RhbmNlb2YgSW1hZ2VCaXRtYXA/cChlLmRhdGEpOm0oZS5kYXRhLGUud2lkdGgsZS5oZWlnaHQsZS5jb21wb25lbnRzLGUubmVlZHNGbGlwKSxlLmhhc1MzVEMpe2l8fGF3YWl0IGgoKTtjb25zdCBuPW5ldyBVaW50OEFycmF5KHQubGVuZ3RoKTtpZihpPy5lbmNvZGUodCxlLndpZHRoLGUuaGVpZ2h0LGUucHJlTXVsdGlwbHlBbHBoYSxuKSl7Y29uc3QgZT1NKG4sITApLHQ9W24uYnVmZmVyXTtyZXR1cm57cmVzdWx0Om5ldyBvKGU/LmludGVybmFsRm9ybWF0Pz9udWxsLGU/LnRleHR1cmVEYXRhPz9udWxsKSx0cmFuc2Zlckxpc3Q6dH19cmV0dXJue3Jlc3VsdDpuZXcgbyhudWxsLG51bGwpfX1pZihlLmhhc0VUQyl7aWYobHx8YXdhaXQgYygpLGUucHJlTXVsdGlwbHlBbHBoYSYmIWkmJmF3YWl0IGgoKSxlLnByZU11bHRpcGx5QWxwaGEpe2NvbnN0IG49bmV3IFVpbnQ4Q2xhbXBlZEFycmF5KHQubGVuZ3RoKTtpPy5wcmVtdWx0aXBseShuZXcgVWludDhBcnJheSh0KSxlLndpZHRoLGUuaGVpZ2h0LG4pLHQ9bn1jb25zdCBuPWF3YWl0IGQodCxlLndpZHRoLGUuaGVpZ2h0LGUuaGFzTWlwbWFwKSxyPW4/YXdhaXQgZihuKTpudWxsLGE9cj8uY29tcHJlc3NlZFRleHR1cmU/LmxldmVscy5tYXAoKGU9PmUuYnVmZmVyKSl8fFtdO3JldHVybntyZXN1bHQ6bmV3IG8ocj8uaW50ZXJuYWxGb3JtYXQ/P251bGwscj8uY29tcHJlc3NlZFRleHR1cmU/P251bGwpLHRyYW5zZmVyTGlzdDphfX1yZXR1cm57cmVzdWx0Om5ldyBvKG51bGwsbnVsbCl9fWFzeW5jIGZ1bmN0aW9uIGMoKXtsfHwobD1hd2FpdChhPz89ZSgpKSl9YXN5bmMgZnVuY3Rpb24gaCgpe2l8fChpPWF3YWl0KHM/Pz1uKCkpKX1hc3luYyBmdW5jdGlvbiBkKGUsdCxuLHIsYT0yNTUscz0wLGk9ITEsbz0hMSl7aWYoIWwpcmV0dXJuIG51bGw7Y29uc3QgdT1uZXcgbC5CYXNpc0VuY29kZXI7dS5zZXRQZXJjZXB0dWFsKCFvKSx1LnNldENoZWNrRm9yQWxwaGEoITApLHUuc2V0Rm9yY2VBbHBoYSghMSksdS5zZXRSZW5vcm1hbGl6ZShvKSx1LnNldE1pcEdlbihyKSx1LnNldE1pcFNSR0IoIW8pLHUuc2V0Q3JlYXRlS1RYMkZpbGUoITApLHUuc2V0S1RYMlNSR0JUcmFuc2ZlckZ1bmMoIW8pLHUuc2V0UXVhbGl0eUxldmVsKGEpLHUuc2V0Q29tcHJlc3Npb25MZXZlbChzKTtjb25zdCBjPW5ldyBVaW50OEFycmF5KGUuYnl0ZUxlbmd0aCk7dS5zZXRTbGljZVNvdXJjZUltYWdlKDAsbmV3IFVpbnQ4QXJyYXkoZSksdCxuLGkpO2NvbnN0IGg9dS5lbmNvZGUoYyksZD1uZXcgVWludDhBcnJheShjLmJ1ZmZlciwwLGgpLGY9bmV3IGwuS1RYMkZpbGUobmV3IFVpbnQ4QXJyYXkoZCkpO3JldHVybiBmLmlzVmFsaWQoKT8odS5kZWxldGUoKSxkKTooZi5jbG9zZSgpLGYuZGVsZXRlKCksdS5kZWxldGUoKSxudWxsKX1hc3luYyBmdW5jdGlvbiBmKGUpe2lmKCFsKXJldHVybiBuZXcgbyhudWxsLG51bGwpO2NvbnN0IG49bmV3IGwuS1RYMkZpbGUobmV3IFVpbnQ4QXJyYXkoZSkpO24uc3RhcnRUcmFuc2NvZGluZygpO2NvbnN0W2Esc109bi5nZXRIYXNBbHBoYSgpP1t0LkVUQzJfUkdCQSxyLkNPTVBSRVNTRURfUkdCQThfRVRDMl9FQUNdOlt0LkVUQzFfUkdCLHIuQ09NUFJFU1NFRF9SR0I4X0VUQzJdLGk9bi5nZXRMZXZlbHMoKSx1PVtdO2ZvcihsZXQgdD0wO3Q8aTt0KyspdS5wdXNoKG5ldyBVaW50OEFycmF5KG4uZ2V0SW1hZ2VUcmFuc2NvZGVkU2l6ZUluQnl0ZXModCwwLDAsYSkpKSxuLnRyYW5zY29kZUltYWdlKHVbdF0sdCwwLDAsYSwwLC0xLC0xKTtyZXR1cm4gbi5jbG9zZSgpLG4uZGVsZXRlKCkse2ludGVybmFsRm9ybWF0OnMsY29tcHJlc3NlZFRleHR1cmU6e3R5cGU6XCJjb21wcmVzc2VkXCIsbGV2ZWxzOnV9fX1mdW5jdGlvbiBwKGUpe2NvbnN0IHQ9bmV3IE9mZnNjcmVlbkNhbnZhcyhlLndpZHRoLGUuaGVpZ2h0KSxuPXQuZ2V0Q29udGV4dChcIjJkXCIpO24uZHJhd0ltYWdlKGUsMCwwKTtyZXR1cm4gbi5nZXRJbWFnZURhdGEoMCwwLHQud2lkdGgsdC5oZWlnaHQpLmRhdGF9ZnVuY3Rpb24gbShlLHQsbixyLGEpe2NvbnN0IHM9bmV3IFVpbnQ4Q2xhbXBlZEFycmF5KGUpLnN1YmFycmF5KDAsdCpuKnIpO2lmKCFhKXJldHVybiBzO2NvbnN0IGw9bmV3IFVpbnQ4Q2xhbXBlZEFycmF5KHMubGVuZ3RoKSxpPXQqcjtmb3IobGV0IG89MDtvPG47bysrKXtjb25zdCBlPW8qaSx0PShuLW8tMSkqaTtsLnNldChzLnN1YmFycmF5KGUsZStpKSx0KX1yZXR1cm4gbH1jb25zdCB3PTMxLHk9MSxUPTIsQT0zLEM9NCxnPTcsRT0yMSxiPTEzMTA3MjtmdW5jdGlvbiBTKGUpe3JldHVybiBlLmNoYXJDb2RlQXQoMCkrKGUuY2hhckNvZGVBdCgxKTw8OCkrKGUuY2hhckNvZGVBdCgyKTw8MTYpKyhlLmNoYXJDb2RlQXQoMyk8PDI0KX1jb25zdCBfPVMoXCJEWFQxXCIpLEQ9UyhcIkRYVDNcIiksUj1TKFwiRFhUNVwiKTtmdW5jdGlvbiBNKGUsdCl7Y29uc3Qgbj1uZXcgSW50MzJBcnJheShlLmJ1ZmZlcixlLmJ5dGVPZmZzZXQsdyk7bGV0IGEscztzd2l0Y2gobltFXSl7Y2FzZSBfOmE9OCxzPXIuQ09NUFJFU1NFRF9SR0JfUzNUQ19EWFQxX0VYVDticmVhaztjYXNlIEQ6YT0xNixzPXIuQ09NUFJFU1NFRF9SR0JBX1MzVENfRFhUM19FWFQ7YnJlYWs7Y2FzZSBSOmE9MTYscz1yLkNPTVBSRVNTRURfUkdCQV9TM1RDX0RYVDVfRVhUO2JyZWFrO2RlZmF1bHQ6cmV0dXJuIG51bGx9bGV0IGw9MSxpPW5bQ10sbz1uW0FdOygzJml8fDMmbykmJihpPWkrMyYtNCxvPW8rMyYtNCk7Y29uc3QgdT1pLGM9bztsZXQgaCxkO25bVF0mYiYmITEhPT10JiYobD1NYXRoLm1heCgxLG5bZ10pKTtsZXQgZj1lLmJ5dGVPZmZzZXQrblt5XSs0O2NvbnN0IHA9W107Zm9yKGxldCByPTA7cjxsOysrcilkPShpKzM+PjIpKihvKzM+PjIpKmEsaD1uZXcgVWludDhBcnJheShlLmJ1ZmZlcixmLGQpLHAucHVzaChoKSxmKz1kLGk9TWF0aC5tYXgoMSxpPj4xKSxvPU1hdGgubWF4KDEsbz4+MSk7cmV0dXJue3RleHR1cmVEYXRhOnt0eXBlOlwiY29tcHJlc3NlZFwiLGxldmVsczpwfSxpbnRlcm5hbEZvcm1hdDpzLHdpZHRoOnUsaGVpZ2h0OmN9fWV4cG9ydHtvIGFzIFRleHR1cmVDb21wcmVzc2lvbldvcmtlck91dHB1dCx1IGFzIGNvbXByZXNzLGQgYXMgY29tcHJlc3NSR0JBRGF0YVRvS1RYMixmIGFzIGNyZWF0ZVRleHR1cmVEYXRhS1RYMixjIGFzIGluaXRpYWxpemVCYXNpc0VuY29kZXIsaCBhcyBpbml0aWFsaXplRFhURW5jb2Rlcn07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=