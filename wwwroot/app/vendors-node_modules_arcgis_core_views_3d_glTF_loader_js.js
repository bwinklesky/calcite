export const __webpack_id__ = "vendors-node_modules_arcgis_core_views_3d_glTF_loader_js";
export const __webpack_ids__ = ["vendors-node_modules_arcgis_core_views_3d_glTF_loader_js"];
export const __webpack_modules__ = {

/***/ "./node_modules/@arcgis/core/chunks/scalar.js":
/*!****************************************************!*\
  !*** ./node_modules/@arcgis/core/chunks/scalar.js ***!
  \****************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   m: () => (/* binding */ e),
/* harmony export */   s: () => (/* binding */ t)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
function e(e,t){const o=e.count;t||(t=new e.TypedArrayConstructor(o));for(let r=0;r<o;r++)t[r]=e.get(r);return t}const t=Object.freeze(Object.defineProperty({__proto__:null,makeDense:e},Symbol.toStringTag,{value:"Module"}));


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/glTF/LoaderResult.js":
/*!*****************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/glTF/LoaderResult.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   makeMaterialParameters: () => (/* binding */ r),
/* harmony export */   makeTextureSource: () => (/* binding */ l)
/* harmony export */ });
/* harmony import */ var _webgl_enums_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../webgl/enums.js */ "./node_modules/@arcgis/core/views/webgl/enums.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
function r(e={}){return{color:[1,1,1],opacity:1,alphaMode:"OPAQUE",alphaCutoff:.5,doubleSided:!1,castShadows:!0,receiveShadows:!0,receiveAmbientOcclusion:!0,colorTexture:null,normalTexture:null,occlusionTexture:null,emissiveTexture:null,metallicRoughnessTexture:null,colorTextureTransform:null,normalTextureTransform:null,occlusionTextureTransform:null,emissiveTextureTransform:null,metallicRoughnessTextureTransform:null,emissiveFactor:[0,0,0],metallicFactor:1,roughnessFactor:1,colorMixMode:"multiply",...e}}function l(r,l={}){return{data:r,parameters:{wrap:{s:_webgl_enums_js__WEBPACK_IMPORTED_MODULE_0__.TextureWrapMode.REPEAT,t:_webgl_enums_js__WEBPACK_IMPORTED_MODULE_0__.TextureWrapMode.REPEAT,...l.wrap},noUnpackFlip:!0,mipmap:!1,...l}}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/glTF/internal/BinaryStreamReader.js":
/*!********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/glTF/internal/BinaryStreamReader.js ***!
  \********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   BinaryStreamReader: () => (/* binding */ t)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
class t{constructor(t){this._data=t,this._offset4=0,this._dataUint32=new Uint32Array(this._data,0,Math.floor(this._data.byteLength/4))}readUint32(){const t=this._offset4;return this._offset4+=1,this._dataUint32[t]}readUint8Array(t){const s=4*this._offset4;return this._offset4+=t/4,new Uint8Array(this._data,s,t)}remainingBytes(){return this._data.byteLength-4*this._offset4}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/glTF/internal/Resource.js":
/*!**********************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/glTF/internal/Resource.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   GLTFResource: () => (/* binding */ Y),
/* harmony export */   transformGltfToEngine: () => (/* binding */ q)
/* harmony export */ });
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_MapUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core/MapUtils.js */ "./node_modules/@arcgis/core/core/MapUtils.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _core_urlUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../core/urlUtils.js */ "./node_modules/@arcgis/core/core/urlUtils.js");
/* harmony import */ var _core_Version_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../core/Version.js */ "./node_modules/@arcgis/core/core/Version.js");
/* harmony import */ var _core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../core/libs/gl-matrix-2/math/mat4.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/math/mat4.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_mat4f64_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../core/libs/gl-matrix-2/factories/mat4f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/mat4f64.js");
/* harmony import */ var _core_libs_gl_matrix_2_math_quat_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../core/libs/gl-matrix-2/math/quat.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/math/quat.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_quatf64_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../core/libs/gl-matrix-2/factories/quatf64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/quatf64.js");
/* harmony import */ var _geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../geometry/support/buffer/BufferView.js */ "./node_modules/@arcgis/core/geometry/support/buffer/BufferView.js");
/* harmony import */ var _chunks_scalar_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../chunks/scalar.js */ "./node_modules/@arcgis/core/chunks/scalar.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _BinaryStreamReader_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./BinaryStreamReader.js */ "./node_modules/@arcgis/core/views/3d/glTF/internal/BinaryStreamReader.js");
/* harmony import */ var _enums_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./enums.js */ "./node_modules/@arcgis/core/views/3d/glTF/internal/enums.js");
/* harmony import */ var _fillDefaults_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./fillDefaults.js */ "./node_modules/@arcgis/core/views/3d/glTF/internal/fillDefaults.js");
/* harmony import */ var _pathUtils_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./pathUtils.js */ "./node_modules/@arcgis/core/views/3d/glTF/internal/pathUtils.js");
/* harmony import */ var _resourceUtils_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./resourceUtils.js */ "./node_modules/@arcgis/core/views/3d/glTF/internal/resourceUtils.js");
/* harmony import */ var _webgl_enums_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../../webgl/enums.js */ "./node_modules/@arcgis/core/views/webgl/enums.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
const k={MAGIC:1179937895,CHUNK_TYPE_JSON:1313821514,CHUNK_TYPE_BIN:5130562};class Y{constructor(t,r,o,n){if(this._context=t,this.uri=r,this.json=o,this._glbBuffer=n,this._bufferLoaders=new Map,this._textureLoaders=new Map,this._textureCache=new Map,this._materialCache=new Map,this._nodeParentMap=new Map,this._nodeTransformCache=new Map,this._supportedExtensions=["KHR_texture_basisu","KHR_texture_transform"],this._baseUri=(0,_pathUtils_js__WEBPACK_IMPORTED_MODULE_16__.splitURI)(this.uri).dirPart,this._checkVersionSupported(),this._checkRequiredExtensionsSupported(),null==o.scenes)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("gltf-loader-unsupported-feature","Scenes must be defined.");if(null==o.meshes)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("gltf-loader-unsupported-feature","Meshes must be defined");if(null==o.nodes)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("gltf-loader-unsupported-feature","Nodes must be defined.");this._computeNodeParents()}static async load(t,r,o){if((0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_4__.isDataProtocol)(r)){const e=(0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_4__.dataComponents)(r);if(e&&"model/gltf-binary"!==e.mediaType)try{const o=JSON.parse(e.isBase64?atob(e.data):e.data);return new Y(t,r,o)}catch{}const o=(0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_4__.dataToArrayBuffer)(r);if(Y._isGLBData(o))return this._fromGLBData(t,r,o)}if(ee.test(r)||"gltf"===o?.expectedType){const e=await t.loadJSON(r,o);return new Y(t,r,e)}const i=await t.loadBinary(r,o);if(Y._isGLBData(i))return this._fromGLBData(t,r,i);if(te.test(r)||"glb"===o?.expectedType)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("gltf-loader-invalid-glb","This is not a valid glb file.");const u=await t.loadJSON(r,o);return new Y(t,r,u)}static _isGLBData(e){if(null==e)return!1;const t=new _BinaryStreamReader_js__WEBPACK_IMPORTED_MODULE_13__.BinaryStreamReader(e);return t.remainingBytes()>=4&&t.readUint32()===k.MAGIC}static async _fromGLBData(e,t,r){const o=await Y._parseGLBData(r);return new Y(e,t,o.json,o.binaryData)}static async _parseGLBData(r){const o=new _BinaryStreamReader_js__WEBPACK_IMPORTED_MODULE_13__.BinaryStreamReader(r);if(o.remainingBytes()<12)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("gltf-loader-error","glb binary data is insufficiently large.");const n=o.readUint32(),s=o.readUint32(),a=o.readUint32();if(n!==k.MAGIC)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("gltf-loader-error","Magic first 4 bytes do not fit to expected glb value.");if(r.byteLength<a)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("gltf-loader-error","glb binary data is smaller than header specifies.");if(2!==s)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("gltf-loader-unsupported-feature","An unsupported glb container version was detected. Only version 2 is supported.");let i,u,f=0;for(;o.remainingBytes()>=8;){const r=o.readUint32(),n=o.readUint32();if(0===f){if(n!==k.CHUNK_TYPE_JSON)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("gltf-loader-error","First glb chunk must be JSON.");if(r<0)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("gltf-loader-error","No JSON data found.");i=await (0,_resourceUtils_js__WEBPACK_IMPORTED_MODULE_17__.jsonFromBinaryData)(o.readUint8Array(r))}else if(1===f){if(n!==k.CHUNK_TYPE_BIN)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("gltf-loader-unsupported-feature","Second glb chunk expected to be BIN.");u=o.readUint8Array(r)}else _core_Logger_js__WEBPACK_IMPORTED_MODULE_1__["default"].getLogger("esri.views.3d.glTF").warn("[Unsupported Feature] More than 2 glb chunks detected. Skipping.");f+=1}if(!i)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("gltf-loader-error","No glb JSON chunk detected.");return{json:i,binaryData:u}}async getBuffer(t,r){const o=this.json.buffers[t];if(null==o.uri){if(null==this._glbBuffer)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("gltf-loader-error","glb buffer not present");return this._glbBuffer}const n=await this._getBufferLoader(t,r);if(n.byteLength!==o.byteLength)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("gltf-loader-error","Buffer byte lengths should match.");return n}async _getBufferLoader(e,t){const r=this._bufferLoaders.get(e);if(r)return r;const o=this.json.buffers[e].uri,n=this._context.loadBinary(this._resolveUri(o),t).then((e=>new Uint8Array(e)));return this._bufferLoaders.set(e,n),n}async getAccessor(t,r){if(!this.json.accessors)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("gltf-loader-unsupported-feature","Accessors missing.");const o=this.json.accessors[t];if(null==o?.bufferView)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("gltf-loader-unsupported-feature","Some accessor does not specify a bufferView.");if(o.type in[_enums_js__WEBPACK_IMPORTED_MODULE_14__.AttributeType.MAT2,_enums_js__WEBPACK_IMPORTED_MODULE_14__.AttributeType.MAT3,_enums_js__WEBPACK_IMPORTED_MODULE_14__.AttributeType.MAT4])throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("gltf-loader-unsupported-feature",`AttributeType ${o.type} is not supported`);const n=this.json.bufferViews[o.bufferView],s=await this.getBuffer(n.buffer,r),a=X[o.type],i=$[o.componentType],u=a*i,f=n.byteStride||u;return{raw:s.buffer,byteStride:f,byteOffset:s.byteOffset+(n.byteOffset||0)+(o.byteOffset||0),entryCount:o.count,isDenselyPacked:f===u,componentCount:a,componentByteSize:i,componentType:o.componentType,min:o.min,max:o.max,normalized:!!o.normalized}}async getIndexData(e,t){if(null==e.indices)return;const r=await this.getAccessor(e.indices,t);if(r.isDenselyPacked)switch(r.componentType){case _webgl_enums_js__WEBPACK_IMPORTED_MODULE_18__.DataType.UNSIGNED_BYTE:return new Uint8Array(r.raw,r.byteOffset,r.entryCount);case _webgl_enums_js__WEBPACK_IMPORTED_MODULE_18__.DataType.UNSIGNED_SHORT:return new Uint16Array(r.raw,r.byteOffset,r.entryCount);case _webgl_enums_js__WEBPACK_IMPORTED_MODULE_18__.DataType.UNSIGNED_INT:return new Uint32Array(r.raw,r.byteOffset,r.entryCount)}else switch(r.componentType){case _webgl_enums_js__WEBPACK_IMPORTED_MODULE_18__.DataType.UNSIGNED_BYTE:return (0,_chunks_scalar_js__WEBPACK_IMPORTED_MODULE_11__.m)(Q(_geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_10__.BufferViewUint8,r));case _webgl_enums_js__WEBPACK_IMPORTED_MODULE_18__.DataType.UNSIGNED_SHORT:return (0,_chunks_scalar_js__WEBPACK_IMPORTED_MODULE_11__.m)(Q(_geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_10__.BufferViewUint16,r));case _webgl_enums_js__WEBPACK_IMPORTED_MODULE_18__.DataType.UNSIGNED_INT:return (0,_chunks_scalar_js__WEBPACK_IMPORTED_MODULE_11__.m)(Q(_geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_10__.BufferViewUint32,r))}}async getPositionData(t,r){if(null==t.attributes.POSITION)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("gltf-loader-unsupported-feature","No POSITION vertex data found.");const o=await this.getAccessor(t.attributes.POSITION,r);if(o.componentType!==_webgl_enums_js__WEBPACK_IMPORTED_MODULE_18__.DataType.FLOAT)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("gltf-loader-unsupported-feature","Expected type FLOAT for POSITION vertex attribute, but found "+_webgl_enums_js__WEBPACK_IMPORTED_MODULE_18__.DataType[o.componentType]);if(3!==o.componentCount)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("gltf-loader-unsupported-feature","POSITION vertex attribute must have 3 components, but found "+o.componentCount.toFixed());return Q(_geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_10__.BufferViewVec3f,o)}async getNormalData(t,r){if(null==t.attributes.NORMAL)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("gltf-loader-error","No NORMAL vertex data found.");const o=await this.getAccessor(t.attributes.NORMAL,r);if(o.componentType!==_webgl_enums_js__WEBPACK_IMPORTED_MODULE_18__.DataType.FLOAT)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("gltf-loader-unsupported-feature","Expected type FLOAT for NORMAL vertex attribute, but found "+_webgl_enums_js__WEBPACK_IMPORTED_MODULE_18__.DataType[o.componentType]);if(3!==o.componentCount)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("gltf-loader-unsupported-feature","NORMAL vertex attribute must have 3 components, but found "+o.componentCount.toFixed());return Q(_geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_10__.BufferViewVec3f,o)}async getTangentData(t,r){if(null==t.attributes.TANGENT)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("gltf-loader-error","No TANGENT vertex data found.");const o=await this.getAccessor(t.attributes.TANGENT,r);if(o.componentType!==_webgl_enums_js__WEBPACK_IMPORTED_MODULE_18__.DataType.FLOAT)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("gltf-loader-unsupported-feature","Expected type FLOAT for TANGENT vertex attribute, but found "+_webgl_enums_js__WEBPACK_IMPORTED_MODULE_18__.DataType[o.componentType]);if(4!==o.componentCount)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("gltf-loader-unsupported-feature","TANGENT vertex attribute must have 4 components, but found "+o.componentCount.toFixed());return Q(_geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_10__.BufferViewVec4f,o)}async getTextureCoordinates(t,r){if(null==t.attributes.TEXCOORD_0)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("gltf-loader-error","No TEXCOORD_0 vertex data found.");const o=await this.getAccessor(t.attributes.TEXCOORD_0,r);if(2!==o.componentCount)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("gltf-loader-unsupported-feature","TEXCOORD_0 vertex attribute must have 2 components, but found "+o.componentCount.toFixed());if(o.componentType===_webgl_enums_js__WEBPACK_IMPORTED_MODULE_18__.DataType.FLOAT)return Q(_geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_10__.BufferViewVec2f,o);if(!o.normalized)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("gltf-loader-unsupported-feature","Integer component types are only supported for a normalized accessor for TEXCOORD_0.");return W(o)}async getVertexColors(t,r){if(null==t.attributes.COLOR_0)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("gltf-loader-error","No COLOR_0 vertex data found.");const o=await this.getAccessor(t.attributes.COLOR_0,r);if(4!==o.componentCount&&3!==o.componentCount)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("gltf-loader-unsupported-feature","COLOR_0 attribute must have 3 or 4 components, but found "+o.componentCount.toFixed());if(4===o.componentCount){if(o.componentType===_webgl_enums_js__WEBPACK_IMPORTED_MODULE_18__.DataType.FLOAT)return Q(_geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_10__.BufferViewVec4f,o);if(o.componentType===_webgl_enums_js__WEBPACK_IMPORTED_MODULE_18__.DataType.UNSIGNED_BYTE)return Q(_geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_10__.BufferViewVec4u8,o);if(o.componentType===_webgl_enums_js__WEBPACK_IMPORTED_MODULE_18__.DataType.UNSIGNED_SHORT)return Q(_geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_10__.BufferViewVec4u16,o)}else if(3===o.componentCount){if(o.componentType===_webgl_enums_js__WEBPACK_IMPORTED_MODULE_18__.DataType.FLOAT)return Q(_geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_10__.BufferViewVec3f,o);if(o.componentType===_webgl_enums_js__WEBPACK_IMPORTED_MODULE_18__.DataType.UNSIGNED_BYTE)return Q(_geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_10__.BufferViewVec3u8,o);if(o.componentType===_webgl_enums_js__WEBPACK_IMPORTED_MODULE_18__.DataType.UNSIGNED_SHORT)return Q(_geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_10__.BufferViewVec3u16,o)}throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("gltf-loader-unsupported-feature","Unsupported component type for COLOR_0 attribute: "+_webgl_enums_js__WEBPACK_IMPORTED_MODULE_18__.DataType[o.componentType])}hasPositions(e){return void 0!==e.attributes.POSITION}hasNormals(e){return void 0!==e.attributes.NORMAL}hasVertexColors(e){return void 0!==e.attributes.COLOR_0}hasTextureCoordinates(e){return void 0!==e.attributes.TEXCOORD_0}hasTangents(e){return void 0!==e.attributes.TANGENT}async getMaterial(e,t,r){let o=e.material?this._materialCache.get(e.material):void 0;if(!o){const n=null!=e.material?(0,_fillDefaults_js__WEBPACK_IMPORTED_MODULE_15__.material)(this.json.materials[e.material]):(0,_fillDefaults_js__WEBPACK_IMPORTED_MODULE_15__.material)(),s=n.pbrMetallicRoughness,a=this.hasVertexColors(e),i=this.getTexture(s.baseColorTexture,t),u=this.getTexture(n.normalTexture,t),f=r?this.getTexture(n.occlusionTexture,t):void 0,l=r?this.getTexture(n.emissiveTexture,t):void 0,d=r?this.getTexture(s.metallicRoughnessTexture,t):void 0,c=null!=e.material?e.material:-1;o={alphaMode:n.alphaMode,alphaCutoff:n.alphaCutoff,color:s.baseColorFactor,doubleSided:!!n.doubleSided,colorTexture:await i,normalTexture:await u,name:n.name,id:c,occlusionTexture:await f,emissiveTexture:await l,emissiveFactor:n.emissiveFactor,metallicFactor:s.metallicFactor,roughnessFactor:s.roughnessFactor,metallicRoughnessTexture:await d,hasVertexColors:a,ESRI_externalColorMixMode:n.extras.ESRI_externalColorMixMode,colorTextureTransform:s?.baseColorTexture?.extensions?.KHR_texture_transform,normalTextureTransform:n.normalTexture?.extensions?.KHR_texture_transform,occlusionTextureTransform:n.occlusionTexture?.extensions?.KHR_texture_transform,emissiveTextureTransform:n.emissiveTexture?.extensions?.KHR_texture_transform,metallicRoughnessTextureTransform:s?.metallicRoughnessTexture?.extensions?.KHR_texture_transform,receiveAmbientOcclusion:n.extras.ESRI_receiveAmbientOcclusion,receiveShadows:n.extras.ESRI_receiveShadows}}return o}async getTexture(t,o){if(!t)return;if(0!==(t.texCoord||0))throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("gltf-loader-unsupported-feature","Only TEXCOORD with index 0 is supported.");const n=t.index,s=this.json.textures[n],a=(0,_fillDefaults_js__WEBPACK_IMPORTED_MODULE_15__.textureSampler)(null!=s.sampler?this.json.samplers[s.sampler]:{}),i=Z(s),u=this.json.images[i],f=await this._loadTextureImageData(n,s,o);return (0,_core_MapUtils_js__WEBPACK_IMPORTED_MODULE_2__.getOrCreateMapValue)(this._textureCache,n,(()=>{const t=e=>33071===e||33648===e||10497===e,r=t=>{throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("gltf-loader-error",`Unexpected TextureSampler WrapMode: ${t}`)};return{data:f,wrapS:t(a.wrapS)?a.wrapS:r(a.wrapS),wrapT:t(a.wrapT)?a.wrapT:r(a.wrapT),minFilter:a.minFilter,name:u.name,id:n}}))}getNodeTransform(e){if(void 0===e)return q;let t=this._nodeTransformCache.get(e);if(!t){const r=this.getNodeTransform(this._getNodeParent(e)),o=this.json.nodes[e];o.matrix?t=(0,_core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_6__.multiply)((0,_core_libs_gl_matrix_2_factories_mat4f64_js__WEBPACK_IMPORTED_MODULE_7__.create)(),r,o.matrix):o.translation||o.rotation||o.scale?(t=(0,_core_libs_gl_matrix_2_factories_mat4f64_js__WEBPACK_IMPORTED_MODULE_7__.clone)(r),o.translation&&(0,_core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_6__.translate)(t,t,o.translation),o.rotation&&(z[3]=(0,_core_libs_gl_matrix_2_math_quat_js__WEBPACK_IMPORTED_MODULE_8__.getAxisAngle)(z,o.rotation),(0,_core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_6__.rotate)(t,t,z[3],z)),o.scale&&(0,_core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_6__.scale)(t,t,o.scale)):t=(0,_core_libs_gl_matrix_2_factories_mat4f64_js__WEBPACK_IMPORTED_MODULE_7__.clone)(r),this._nodeTransformCache.set(e,t)}return t}_resolveUri(e){return (0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_4__.makeAbsolute)(e,this._baseUri)}_getNodeParent(e){return this._nodeParentMap.get(e)}_checkVersionSupported(){const e=_core_Version_js__WEBPACK_IMPORTED_MODULE_5__.Version.parse(this.json.asset.version,"glTF");J.validate(e)}_checkRequiredExtensionsSupported(){const t=this.json;if(t.extensionsRequired){if(!t.extensionsRequired.every((e=>this._supportedExtensions.includes(e))))throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("gltf-loader-unsupported-feature","gltf loader was not able to load unsupported feature. Required extensions: "+t.extensionsRequired.join(", "))}}_computeNodeParents(){this.json.nodes.forEach(((e,t)=>{e.children&&e.children.forEach((e=>{this._nodeParentMap.set(e,t)}))}))}async _loadTextureImageData(e,t,r){const o=this._textureLoaders.get(e);if(o)return o;const n=this._createTextureLoader(t,r);return this._textureLoaders.set(e,n),n}async _createTextureLoader(t,r){const o=Z(t),n=this.json.images[o];if(n.uri){if(n.uri.endsWith(".ktx2")){const e=await this._context.loadBinary(this._resolveUri(n.uri),r);return new _resourceUtils_js__WEBPACK_IMPORTED_MODULE_17__.EncodedMeshTexture(new Uint8Array(e))}return this._context.loadImage(this._resolveUri(n.uri),r)}if(null==n.bufferView)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("gltf-loader-unsupported-feature","Image bufferView must be defined.");if(null==n.mimeType)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("gltf-loader-unsupported-feature","Image mimeType must be defined.");const s=this.json.bufferViews[n.bufferView],a=await this.getBuffer(s.buffer,r);if(null!=s.byteStride)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("gltf-loader-unsupported-feature","byteStride not supported for image buffer");const i=a.byteOffset+(s.byteOffset||0);return (0,_resourceUtils_js__WEBPACK_IMPORTED_MODULE_17__.imageFromBinaryData)(new Uint8Array(a.buffer,i,s.byteLength),n.mimeType)}async getLoadedBuffersSize(){if(this._glbBuffer)return this._glbBuffer.byteLength;const e=await (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__.allSettledValues)(Array.from(this._bufferLoaders.values())),t=await (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__.allSettledValues)(Array.from(this._textureLoaders.values()));return e.reduce(((e,t)=>e+(t?.byteLength??0)),0)+t.reduce(((e,t)=>e+(t?(0,_resourceUtils_js__WEBPACK_IMPORTED_MODULE_17__.isEncodedMeshTexture)(t)?t.data.byteLength:t.width*t.height*4:0)),0)}}const q=(0,_core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_6__.fromXRotation)((0,_core_libs_gl_matrix_2_factories_mat4f64_js__WEBPACK_IMPORTED_MODULE_7__.create)(),Math.PI/2),J=new _core_Version_js__WEBPACK_IMPORTED_MODULE_5__.Version(2,0,"glTF"),z=(0,_core_libs_gl_matrix_2_factories_quatf64_js__WEBPACK_IMPORTED_MODULE_9__.create)(),X={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},$={[_webgl_enums_js__WEBPACK_IMPORTED_MODULE_18__.DataType.BYTE]:1,[_webgl_enums_js__WEBPACK_IMPORTED_MODULE_18__.DataType.UNSIGNED_BYTE]:1,[_webgl_enums_js__WEBPACK_IMPORTED_MODULE_18__.DataType.SHORT]:2,[_webgl_enums_js__WEBPACK_IMPORTED_MODULE_18__.DataType.UNSIGNED_SHORT]:2,[_webgl_enums_js__WEBPACK_IMPORTED_MODULE_18__.DataType.HALF_FLOAT]:2,[_webgl_enums_js__WEBPACK_IMPORTED_MODULE_18__.DataType.FLOAT]:4,[_webgl_enums_js__WEBPACK_IMPORTED_MODULE_18__.DataType.INT]:4,[_webgl_enums_js__WEBPACK_IMPORTED_MODULE_18__.DataType.UNSIGNED_INT]:4};function W(e){switch(e.componentType){case _webgl_enums_js__WEBPACK_IMPORTED_MODULE_18__.DataType.BYTE:return new _geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_10__.BufferViewVec2i8(e.raw,e.byteOffset,e.byteStride,e.byteOffset+e.byteStride*e.entryCount);case _webgl_enums_js__WEBPACK_IMPORTED_MODULE_18__.DataType.UNSIGNED_BYTE:return new _geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_10__.BufferViewVec2u8(e.raw,e.byteOffset,e.byteStride,e.byteOffset+e.byteStride*e.entryCount);case _webgl_enums_js__WEBPACK_IMPORTED_MODULE_18__.DataType.SHORT:return new _geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_10__.BufferViewVec2i16(e.raw,e.byteOffset,e.byteStride,e.byteOffset+e.byteStride*e.entryCount);case _webgl_enums_js__WEBPACK_IMPORTED_MODULE_18__.DataType.UNSIGNED_SHORT:return new _geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_10__.BufferViewVec2u16(e.raw,e.byteOffset,e.byteStride,e.byteOffset+e.byteStride*e.entryCount);case _webgl_enums_js__WEBPACK_IMPORTED_MODULE_18__.DataType.UNSIGNED_INT:return new _geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_10__.BufferViewVec2u32(e.raw,e.byteOffset,e.byteStride,e.byteOffset+e.byteStride*e.entryCount);case _webgl_enums_js__WEBPACK_IMPORTED_MODULE_18__.DataType.FLOAT:return new _geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_10__.BufferViewVec2f(e.raw,e.byteOffset,e.byteStride,e.byteOffset+e.byteStride*e.entryCount)}}function Q(e,t){return new e(t.raw,t.byteOffset,t.byteStride,t.byteOffset+t.byteStride*(t.entryCount-1)+t.componentByteSize*t.componentCount)}function Z(t){if(null!=t.extensions?.KHR_texture_basisu)return t.extensions.KHR_texture_basisu.source;if(null!==t.source)return t.source;throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("gltf-loader-unsupported-feature","Source is expected to be defined for a texture. It can also be omitted in favour of an KHR_texture_basisu extension tag.")}const ee=/\.gltf$/i,te=/\.glb$/i;


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/glTF/internal/enums.js":
/*!*******************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/glTF/internal/enums.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   AttributeType: () => (/* binding */ A),
/* harmony export */   BufferViewTarget: () => (/* binding */ E)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
var A,E;!function(A){A.SCALAR="SCALAR",A.VEC2="VEC2",A.VEC3="VEC3",A.VEC4="VEC4",A.MAT2="MAT2",A.MAT3="MAT3",A.MAT4="MAT4"}(A||(A={})),function(A){A[A.ARRAY_BUFFER=34962]="ARRAY_BUFFER",A[A.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER"}(E||(E={}));


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/glTF/internal/fillDefaults.js":
/*!**************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/glTF/internal/fillDefaults.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   material: () => (/* binding */ i),
/* harmony export */   textureSampler: () => (/* binding */ n)
/* harmony export */ });
/* harmony import */ var _core_compilerUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/compilerUtils.js */ "./node_modules/@arcgis/core/core/compilerUtils.js");
/* harmony import */ var _webgl_enums_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../webgl/enums.js */ "./node_modules/@arcgis/core/views/webgl/enums.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
const t={baseColorFactor:[1,1,1,1],metallicFactor:1,roughnessFactor:1},a={pbrMetallicRoughness:t,emissiveFactor:[0,0,0],alphaMode:"OPAQUE",alphaCutoff:.5,doubleSided:!1},l={ESRI_externalColorMixMode:"tint",ESRI_receiveShadows:!0,ESRI_receiveAmbientOcclusion:!0},i=(e={})=>{const o={...t,...e.pbrMetallicRoughness},r=s({...l,...e.extras});return{...a,...e,pbrMetallicRoughness:o,extras:r}};function s(o){switch(o.ESRI_externalColorMixMode){case"multiply":case"tint":case"ignore":case"replace":break;default:(0,_core_compilerUtils_js__WEBPACK_IMPORTED_MODULE_0__.neverReached)(o.ESRI_externalColorMixMode),o.ESRI_externalColorMixMode="tint"}return o}const c={magFilter:_webgl_enums_js__WEBPACK_IMPORTED_MODULE_1__.TextureSamplingMode.LINEAR,minFilter:_webgl_enums_js__WEBPACK_IMPORTED_MODULE_1__.TextureSamplingMode.LINEAR_MIPMAP_LINEAR,wrapS:_webgl_enums_js__WEBPACK_IMPORTED_MODULE_1__.TextureWrapMode.REPEAT,wrapT:_webgl_enums_js__WEBPACK_IMPORTED_MODULE_1__.TextureWrapMode.REPEAT},n=e=>({...c,...e});


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/glTF/internal/pathUtils.js":
/*!***********************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/glTF/internal/pathUtils.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   splitURI: () => (/* binding */ r)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
function r(r){let e,t;return r.replace(/^(.*\/)?([^/]*)$/,((r,a,i)=>(e=a||"",t=i||"",""))),{dirPart:e,filePart:t}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/glTF/loader.js":
/*!***********************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/glTF/loader.js ***!
  \***********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   loadGLTF: () => (/* binding */ l)
/* harmony export */ });
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_mat4f64_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/libs/gl-matrix-2/factories/mat4f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/mat4f64.js");
/* harmony import */ var _LoaderResult_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./LoaderResult.js */ "./node_modules/@arcgis/core/views/3d/glTF/LoaderResult.js");
/* harmony import */ var _internal_Resource_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./internal/Resource.js */ "./node_modules/@arcgis/core/views/3d/glTF/internal/Resource.js");
/* harmony import */ var _webgl_enums_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../webgl/enums.js */ "./node_modules/@arcgis/core/views/webgl/enums.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
let i=0;async function l(t,r,n={},l=!0){const m=await _internal_Resource_js__WEBPACK_IMPORTED_MODULE_3__.GLTFResource.load(t,r,n),T="gltf_"+i++,p={lods:[],materials:new Map,textures:new Map,meta:u(m)},f=!(!m.json.asset.extras||"symbolResource"!==m.json.asset.extras.ESRI_type),x=m.json.asset.extras?.ESRI_webstyleSymbol?.webstyle,g=new Map;await c(m,(async(t,r,s,i)=>{const u=g.get(s)??0;g.set(s,u+1);const c=void 0!==t.mode?t.mode:_webgl_enums_js__WEBPACK_IMPORTED_MODULE_4__.PrimitiveType.TRIANGLES,f=c===_webgl_enums_js__WEBPACK_IMPORTED_MODULE_4__.PrimitiveType.TRIANGLES||c===_webgl_enums_js__WEBPACK_IMPORTED_MODULE_4__.PrimitiveType.TRIANGLE_STRIP||c===_webgl_enums_js__WEBPACK_IMPORTED_MODULE_4__.PrimitiveType.TRIANGLE_FAN?c:null;if(null==f)return void _core_Logger_js__WEBPACK_IMPORTED_MODULE_0__["default"].getLogger("esri.views.3d.glTF").warn("[Unsupported Feature] Unsupported primitive mode ("+_webgl_enums_js__WEBPACK_IMPORTED_MODULE_4__.PrimitiveType[c]+"). Skipping primitive.");if(!m.hasPositions(t))return void _core_Logger_js__WEBPACK_IMPORTED_MODULE_0__["default"].getLogger("esri.views.3d.glTF").warn("Skipping primitive without POSITION vertex attribute.");const x=m.getPositionData(t,n),h=m.getMaterial(t,n,l),w=m.hasNormals(t)?m.getNormalData(t,n):null,v=m.hasTangents(t)?m.getTangentData(t,n):null,S=m.hasTextureCoordinates(t)?m.getTextureCoordinates(t,n):null,R=m.hasVertexColors(t)?m.getVertexColors(t,n):null,_=m.getIndexData(t,n),E={name:i,transform:(0,_core_libs_gl_matrix_2_factories_mat4f64_js__WEBPACK_IMPORTED_MODULE_1__.clone)(r),attributes:{position:await x,normal:w?await w:null,texCoord0:S?await S:null,color:R?await R:null,tangent:v?await v:null},indices:await _,primitiveType:f,material:d(p,await h,T)};let I=null;null!=p.meta?.ESRI_lod&&"screenSpaceRadius"===p.meta.ESRI_lod.metric&&(I=p.meta.ESRI_lod.thresholds[s]),p.lods[s]=p.lods[s]||{parts:[],name:i,lodThreshold:I},p.lods[s].parts[u]=E}));for(const e of p.lods)e.parts=e.parts.filter((e=>!!e));const h=await m.getLoadedBuffersSize();return{model:p,meta:{isEsriSymbolResource:f,uri:m.uri,ESRI_webstyle:x},customMeta:{},cachedMemory:h}}function u(e){const o=e.json;let t=null;return o.nodes.forEach((e=>{const o=e.extras;null!=o&&(o.ESRI_proxyEllipsoid||o.ESRI_lod)&&(t=o)})),t}async function c(o,t){const r=o.json,s=r.scenes[r.scene||0].nodes,a=s.length>1,n=[];for(const e of s){const o=r.nodes[e];if(n.push(i(e,0)),m(o)&&!a){o.extensions.MSFT_lod.ids.forEach(((e,o)=>i(e,o+1)))}}async function i(s,a){const l=r.nodes[s],u=o.getNodeTransform(s);if(null!=l.weights&&_core_Logger_js__WEBPACK_IMPORTED_MODULE_0__["default"].getLogger("esri.views.3d.glTF").warn("[Unsupported Feature] Morph targets are not supported."),null!=l.mesh){const e=r.meshes[l.mesh];for(const o of e.primitives)n.push(t(o,u,a,e.name))}for(const e of l.children||[])n.push(i(e,a))}await Promise.all(n)}function m(e){return e.extensions?.MSFT_lod&&Array.isArray(e.extensions.MSFT_lod.ids)}function d(e,o,s){const a=o=>{const t=`${s}_tex_${o&&o.id}${o?.name?"_"+o.name:""}`;if(o&&!e.textures.has(t)){const s=(0,_LoaderResult_js__WEBPACK_IMPORTED_MODULE_2__.makeTextureSource)(o.data,{wrap:{s:o.wrapS,t:o.wrapT},mipmap:T.has(o.minFilter),noUnpackFlip:!0});e.textures.set(t,s)}return t},n=`${s}_mat_${o.id}_${o.name}`;if(!e.materials.has(n)){const r=(0,_LoaderResult_js__WEBPACK_IMPORTED_MODULE_2__.makeMaterialParameters)({color:[o.color[0],o.color[1],o.color[2]],opacity:o.color[3],alphaMode:o.alphaMode,alphaCutoff:o.alphaCutoff,doubleSided:o.doubleSided,colorMixMode:o.ESRI_externalColorMixMode,colorTexture:o.colorTexture?a(o.colorTexture):void 0,normalTexture:o.normalTexture?a(o.normalTexture):void 0,occlusionTexture:o.occlusionTexture?a(o.occlusionTexture):void 0,emissiveTexture:o.emissiveTexture?a(o.emissiveTexture):void 0,metallicRoughnessTexture:o.metallicRoughnessTexture?a(o.metallicRoughnessTexture):void 0,emissiveFactor:[o.emissiveFactor[0],o.emissiveFactor[1],o.emissiveFactor[2]],colorTextureTransform:o.colorTextureTransform,normalTextureTransform:o.normalTextureTransform,occlusionTextureTransform:o.occlusionTextureTransform,emissiveTextureTransform:o.emissiveTextureTransform,metallicRoughnessTextureTransform:o.metallicRoughnessTextureTransform,metallicFactor:o.metallicFactor,roughnessFactor:o.roughnessFactor,receiveShadows:o.receiveShadows,receiveAmbientOcclusion:o.receiveAmbientOcclusion});e.materials.set(n,r)}return n}const T=new Set([_webgl_enums_js__WEBPACK_IMPORTED_MODULE_4__.TextureSamplingMode.LINEAR_MIPMAP_LINEAR,_webgl_enums_js__WEBPACK_IMPORTED_MODULE_4__.TextureSamplingMode.LINEAR_MIPMAP_NEAREST]);


/***/ })

};

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmVuZG9ycy1ub2RlX21vZHVsZXNfYXJjZ2lzX2NvcmVfdmlld3NfM2RfZ2xURl9sb2FkZXJfanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsZ0JBQWdCLHNDQUFzQyxZQUFZLElBQUksa0JBQWtCLFNBQVMsNkNBQTZDLDJCQUEyQixxQkFBcUIsZUFBZSxHQUF5Qjs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNKdFA7QUFDQTtBQUNBO0FBQ0E7QUFDdUQsZUFBZSxFQUFFLE9BQU8sc2VBQXNlLGlCQUFpQixFQUFFLE9BQU8sbUJBQW1CLE1BQU0sRUFBRSw0REFBQyxVQUFVLDREQUFDLGtCQUFrQixrQ0FBNkY7Ozs7Ozs7Ozs7Ozs7OztBQ0pydUI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLGVBQWUsZ0hBQWdILGFBQWEsc0JBQXNCLDRDQUE0QyxrQkFBa0Isd0JBQXdCLHlEQUF5RCxpQkFBaUIsOENBQThFOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ0p4WjtBQUNBO0FBQ0E7QUFDQTtBQUMybUQsU0FBUyxvRUFBb0UsUUFBUSxxQkFBcUIsZ1VBQWdVLHdEQUFDLG1IQUFtSCxzREFBQyw4REFBOEQsNEJBQTRCLHNEQUFDLDZEQUE2RCwyQkFBMkIsc0RBQUMsNkRBQTZELDJCQUEyQix5QkFBeUIsR0FBRyxpRUFBQyxLQUFLLFFBQVEsaUVBQUMsSUFBSSw0Q0FBNEMsbURBQW1ELG9CQUFvQixPQUFPLFFBQVEsb0VBQUMsSUFBSSxtREFBbUQseUNBQXlDLDhCQUE4QixvQkFBb0IsZ0NBQWdDLG1EQUFtRCxpREFBaUQsc0RBQUMsNERBQTRELDhCQUE4QixvQkFBb0IscUJBQXFCLG9CQUFvQixZQUFZLHVFQUFDLElBQUksdURBQXVELGlDQUFpQyxpQ0FBaUMsc0NBQXNDLDhCQUE4QixZQUFZLHVFQUFDLElBQUksbUNBQW1DLHNEQUFDLGlFQUFpRSx5REFBeUQseUJBQXlCLHNEQUFDLDhFQUE4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UUFBUSxtRUFBQyxTQUFTLE1BQU0sb0JBQW9CLDJDQUEyQyxFQUFFLG9CQUFvQixTQUFTLE1BQU0sRUFBRSxPQUFPLEtBQUssR0FBRyxPQUFPLEVBQUUsd0JBQXdCLFFBQVEsd0VBQUMsRUFBRSxtK0JBQW0rQixFQUFFLHFCQUFxQixTQUFTLGlCQUFpQixnRUFBQyxzQkFBc0IsZ0VBQUMseUJBQStDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcHJlY2lzaW9uZmFybXMvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL2NodW5rcy9zY2FsYXIuanMiLCJ3ZWJwYWNrOi8vcHJlY2lzaW9uZmFybXMvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzNkL2dsVEYvTG9hZGVyUmVzdWx0LmpzIiwid2VicGFjazovL3ByZWNpc2lvbmZhcm1zLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8zZC9nbFRGL2ludGVybmFsL0JpbmFyeVN0cmVhbVJlYWRlci5qcyIsIndlYnBhY2s6Ly9wcmVjaXNpb25mYXJtcy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvM2QvZ2xURi9pbnRlcm5hbC9SZXNvdXJjZS5qcyIsIndlYnBhY2s6Ly9wcmVjaXNpb25mYXJtcy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvM2QvZ2xURi9pbnRlcm5hbC9lbnVtcy5qcyIsIndlYnBhY2s6Ly9wcmVjaXNpb25mYXJtcy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvM2QvZ2xURi9pbnRlcm5hbC9maWxsRGVmYXVsdHMuanMiLCJ3ZWJwYWNrOi8vcHJlY2lzaW9uZmFybXMvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzNkL2dsVEYvaW50ZXJuYWwvcGF0aFV0aWxzLmpzIiwid2VicGFjazovL3ByZWNpc2lvbmZhcm1zLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8zZC9nbFRGL2xvYWRlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4zMy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuZnVuY3Rpb24gZShlLHQpe2NvbnN0IG89ZS5jb3VudDt0fHwodD1uZXcgZS5UeXBlZEFycmF5Q29uc3RydWN0b3IobykpO2ZvcihsZXQgcj0wO3I8bztyKyspdFtyXT1lLmdldChyKTtyZXR1cm4gdH1jb25zdCB0PU9iamVjdC5mcmVlemUoT2JqZWN0LmRlZmluZVByb3BlcnR5KHtfX3Byb3RvX186bnVsbCxtYWtlRGVuc2U6ZX0sU3ltYm9sLnRvU3RyaW5nVGFnLHt2YWx1ZTpcIk1vZHVsZVwifSkpO2V4cG9ydHtlIGFzIG0sdCBhcyBzfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjMzL2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7VGV4dHVyZVdyYXBNb2RlIGFzIGV9ZnJvbVwiLi4vLi4vd2ViZ2wvZW51bXMuanNcIjtmdW5jdGlvbiByKGU9e30pe3JldHVybntjb2xvcjpbMSwxLDFdLG9wYWNpdHk6MSxhbHBoYU1vZGU6XCJPUEFRVUVcIixhbHBoYUN1dG9mZjouNSxkb3VibGVTaWRlZDohMSxjYXN0U2hhZG93czohMCxyZWNlaXZlU2hhZG93czohMCxyZWNlaXZlQW1iaWVudE9jY2x1c2lvbjohMCxjb2xvclRleHR1cmU6bnVsbCxub3JtYWxUZXh0dXJlOm51bGwsb2NjbHVzaW9uVGV4dHVyZTpudWxsLGVtaXNzaXZlVGV4dHVyZTpudWxsLG1ldGFsbGljUm91Z2huZXNzVGV4dHVyZTpudWxsLGNvbG9yVGV4dHVyZVRyYW5zZm9ybTpudWxsLG5vcm1hbFRleHR1cmVUcmFuc2Zvcm06bnVsbCxvY2NsdXNpb25UZXh0dXJlVHJhbnNmb3JtOm51bGwsZW1pc3NpdmVUZXh0dXJlVHJhbnNmb3JtOm51bGwsbWV0YWxsaWNSb3VnaG5lc3NUZXh0dXJlVHJhbnNmb3JtOm51bGwsZW1pc3NpdmVGYWN0b3I6WzAsMCwwXSxtZXRhbGxpY0ZhY3RvcjoxLHJvdWdobmVzc0ZhY3RvcjoxLGNvbG9yTWl4TW9kZTpcIm11bHRpcGx5XCIsLi4uZX19ZnVuY3Rpb24gbChyLGw9e30pe3JldHVybntkYXRhOnIscGFyYW1ldGVyczp7d3JhcDp7czplLlJFUEVBVCx0OmUuUkVQRUFULC4uLmwud3JhcH0sbm9VbnBhY2tGbGlwOiEwLG1pcG1hcDohMSwuLi5sfX19ZXhwb3J0e3IgYXMgbWFrZU1hdGVyaWFsUGFyYW1ldGVycyxsIGFzIG1ha2VUZXh0dXJlU291cmNlfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjMzL2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5jbGFzcyB0e2NvbnN0cnVjdG9yKHQpe3RoaXMuX2RhdGE9dCx0aGlzLl9vZmZzZXQ0PTAsdGhpcy5fZGF0YVVpbnQzMj1uZXcgVWludDMyQXJyYXkodGhpcy5fZGF0YSwwLE1hdGguZmxvb3IodGhpcy5fZGF0YS5ieXRlTGVuZ3RoLzQpKX1yZWFkVWludDMyKCl7Y29uc3QgdD10aGlzLl9vZmZzZXQ0O3JldHVybiB0aGlzLl9vZmZzZXQ0Kz0xLHRoaXMuX2RhdGFVaW50MzJbdF19cmVhZFVpbnQ4QXJyYXkodCl7Y29uc3Qgcz00KnRoaXMuX29mZnNldDQ7cmV0dXJuIHRoaXMuX29mZnNldDQrPXQvNCxuZXcgVWludDhBcnJheSh0aGlzLl9kYXRhLHMsdCl9cmVtYWluaW5nQnl0ZXMoKXtyZXR1cm4gdGhpcy5fZGF0YS5ieXRlTGVuZ3RoLTQqdGhpcy5fb2Zmc2V0NH19ZXhwb3J0e3QgYXMgQmluYXJ5U3RyZWFtUmVhZGVyfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjMzL2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnQgZSBmcm9tXCIuLi8uLi8uLi8uLi9jb3JlL0Vycm9yLmpzXCI7aW1wb3J0IHQgZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9Mb2dnZXIuanNcIjtpbXBvcnR7Z2V0T3JDcmVhdGVNYXBWYWx1ZSBhcyByfWZyb21cIi4uLy4uLy4uLy4uL2NvcmUvTWFwVXRpbHMuanNcIjtpbXBvcnR7YWxsU2V0dGxlZFZhbHVlcyBhcyBvfWZyb21cIi4uLy4uLy4uLy4uL2NvcmUvcHJvbWlzZVV0aWxzLmpzXCI7aW1wb3J0e2lzRGF0YVByb3RvY29sIGFzIG4sZGF0YUNvbXBvbmVudHMgYXMgcyxkYXRhVG9BcnJheUJ1ZmZlciBhcyBhLG1ha2VBYnNvbHV0ZSBhcyBpfWZyb21cIi4uLy4uLy4uLy4uL2NvcmUvdXJsVXRpbHMuanNcIjtpbXBvcnR7VmVyc2lvbiBhcyB1fWZyb21cIi4uLy4uLy4uLy4uL2NvcmUvVmVyc2lvbi5qc1wiO2ltcG9ydHtmcm9tWFJvdGF0aW9uIGFzIGYsbXVsdGlwbHkgYXMgbCx0cmFuc2xhdGUgYXMgZCxyb3RhdGUgYXMgYyxzY2FsZSBhcyBwfWZyb21cIi4uLy4uLy4uLy4uL2NvcmUvbGlicy9nbC1tYXRyaXgtMi9tYXRoL21hdDQuanNcIjtpbXBvcnR7Y3JlYXRlIGFzIG0sY2xvbmUgYXMgaH1mcm9tXCIuLi8uLi8uLi8uLi9jb3JlL2xpYnMvZ2wtbWF0cml4LTIvZmFjdG9yaWVzL21hdDRmNjQuanNcIjtpbXBvcnR7Z2V0QXhpc0FuZ2xlIGFzIHd9ZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9saWJzL2dsLW1hdHJpeC0yL21hdGgvcXVhdC5qc1wiO2ltcG9ydHtjcmVhdGUgYXMgYn1mcm9tXCIuLi8uLi8uLi8uLi9jb3JlL2xpYnMvZ2wtbWF0cml4LTIvZmFjdG9yaWVzL3F1YXRmNjQuanNcIjtpbXBvcnR7QnVmZmVyVmlld1ZlYzJmIGFzIFQsQnVmZmVyVmlld1ZlYzJ1MzIgYXMgeSxCdWZmZXJWaWV3VmVjMnUxNiBhcyBnLEJ1ZmZlclZpZXdWZWMyaTE2IGFzIHgsQnVmZmVyVmlld1ZlYzJ1OCBhcyBfLEJ1ZmZlclZpZXdWZWMyaTggYXMgTyxCdWZmZXJWaWV3VWludDMyIGFzIE4sQnVmZmVyVmlld1VpbnQxNiBhcyBTLEJ1ZmZlclZpZXdVaW50OCBhcyBDLEJ1ZmZlclZpZXdWZWMzZiBhcyBBLEJ1ZmZlclZpZXdWZWM0ZiBhcyBFLEJ1ZmZlclZpZXdWZWM0dTggYXMgTCxCdWZmZXJWaWV3VmVjNHUxNiBhcyBSLEJ1ZmZlclZpZXdWZWMzdTggYXMgdixCdWZmZXJWaWV3VmVjM3UxNiBhcyBJfWZyb21cIi4uLy4uLy4uLy4uL2dlb21ldHJ5L3N1cHBvcnQvYnVmZmVyL0J1ZmZlclZpZXcuanNcIjtpbXBvcnR7bSBhcyBVfWZyb21cIi4uLy4uLy4uLy4uL2NodW5rcy9zY2FsYXIuanNcIjtpbXBvcnRcIi4uLy4uLy4uLy4uL2NvcmUvaGFzLmpzXCI7aW1wb3J0e0JpbmFyeVN0cmVhbVJlYWRlciBhcyBCfWZyb21cIi4vQmluYXJ5U3RyZWFtUmVhZGVyLmpzXCI7aW1wb3J0e0F0dHJpYnV0ZVR5cGUgYXMgRH1mcm9tXCIuL2VudW1zLmpzXCI7aW1wb3J0e21hdGVyaWFsIGFzIGosdGV4dHVyZVNhbXBsZXIgYXMgTX1mcm9tXCIuL2ZpbGxEZWZhdWx0cy5qc1wiO2ltcG9ydHtzcGxpdFVSSSBhcyBHfWZyb21cIi4vcGF0aFV0aWxzLmpzXCI7aW1wb3J0e2pzb25Gcm9tQmluYXJ5RGF0YSBhcyBGLEVuY29kZWRNZXNoVGV4dHVyZSBhcyBILGltYWdlRnJvbUJpbmFyeURhdGEgYXMgUCxpc0VuY29kZWRNZXNoVGV4dHVyZSBhcyBWfWZyb21cIi4vcmVzb3VyY2VVdGlscy5qc1wiO2ltcG9ydHtEYXRhVHlwZSBhcyBLfWZyb21cIi4uLy4uLy4uL3dlYmdsL2VudW1zLmpzXCI7Y29uc3Qgaz17TUFHSUM6MTE3OTkzNzg5NSxDSFVOS19UWVBFX0pTT046MTMxMzgyMTUxNCxDSFVOS19UWVBFX0JJTjo1MTMwNTYyfTtjbGFzcyBZe2NvbnN0cnVjdG9yKHQscixvLG4pe2lmKHRoaXMuX2NvbnRleHQ9dCx0aGlzLnVyaT1yLHRoaXMuanNvbj1vLHRoaXMuX2dsYkJ1ZmZlcj1uLHRoaXMuX2J1ZmZlckxvYWRlcnM9bmV3IE1hcCx0aGlzLl90ZXh0dXJlTG9hZGVycz1uZXcgTWFwLHRoaXMuX3RleHR1cmVDYWNoZT1uZXcgTWFwLHRoaXMuX21hdGVyaWFsQ2FjaGU9bmV3IE1hcCx0aGlzLl9ub2RlUGFyZW50TWFwPW5ldyBNYXAsdGhpcy5fbm9kZVRyYW5zZm9ybUNhY2hlPW5ldyBNYXAsdGhpcy5fc3VwcG9ydGVkRXh0ZW5zaW9ucz1bXCJLSFJfdGV4dHVyZV9iYXNpc3VcIixcIktIUl90ZXh0dXJlX3RyYW5zZm9ybVwiXSx0aGlzLl9iYXNlVXJpPUcodGhpcy51cmkpLmRpclBhcnQsdGhpcy5fY2hlY2tWZXJzaW9uU3VwcG9ydGVkKCksdGhpcy5fY2hlY2tSZXF1aXJlZEV4dGVuc2lvbnNTdXBwb3J0ZWQoKSxudWxsPT1vLnNjZW5lcyl0aHJvdyBuZXcgZShcImdsdGYtbG9hZGVyLXVuc3VwcG9ydGVkLWZlYXR1cmVcIixcIlNjZW5lcyBtdXN0IGJlIGRlZmluZWQuXCIpO2lmKG51bGw9PW8ubWVzaGVzKXRocm93IG5ldyBlKFwiZ2x0Zi1sb2FkZXItdW5zdXBwb3J0ZWQtZmVhdHVyZVwiLFwiTWVzaGVzIG11c3QgYmUgZGVmaW5lZFwiKTtpZihudWxsPT1vLm5vZGVzKXRocm93IG5ldyBlKFwiZ2x0Zi1sb2FkZXItdW5zdXBwb3J0ZWQtZmVhdHVyZVwiLFwiTm9kZXMgbXVzdCBiZSBkZWZpbmVkLlwiKTt0aGlzLl9jb21wdXRlTm9kZVBhcmVudHMoKX1zdGF0aWMgYXN5bmMgbG9hZCh0LHIsbyl7aWYobihyKSl7Y29uc3QgZT1zKHIpO2lmKGUmJlwibW9kZWwvZ2x0Zi1iaW5hcnlcIiE9PWUubWVkaWFUeXBlKXRyeXtjb25zdCBvPUpTT04ucGFyc2UoZS5pc0Jhc2U2ND9hdG9iKGUuZGF0YSk6ZS5kYXRhKTtyZXR1cm4gbmV3IFkodCxyLG8pfWNhdGNoe31jb25zdCBvPWEocik7aWYoWS5faXNHTEJEYXRhKG8pKXJldHVybiB0aGlzLl9mcm9tR0xCRGF0YSh0LHIsbyl9aWYoZWUudGVzdChyKXx8XCJnbHRmXCI9PT1vPy5leHBlY3RlZFR5cGUpe2NvbnN0IGU9YXdhaXQgdC5sb2FkSlNPTihyLG8pO3JldHVybiBuZXcgWSh0LHIsZSl9Y29uc3QgaT1hd2FpdCB0LmxvYWRCaW5hcnkocixvKTtpZihZLl9pc0dMQkRhdGEoaSkpcmV0dXJuIHRoaXMuX2Zyb21HTEJEYXRhKHQscixpKTtpZih0ZS50ZXN0KHIpfHxcImdsYlwiPT09bz8uZXhwZWN0ZWRUeXBlKXRocm93IG5ldyBlKFwiZ2x0Zi1sb2FkZXItaW52YWxpZC1nbGJcIixcIlRoaXMgaXMgbm90IGEgdmFsaWQgZ2xiIGZpbGUuXCIpO2NvbnN0IHU9YXdhaXQgdC5sb2FkSlNPTihyLG8pO3JldHVybiBuZXcgWSh0LHIsdSl9c3RhdGljIF9pc0dMQkRhdGEoZSl7aWYobnVsbD09ZSlyZXR1cm4hMTtjb25zdCB0PW5ldyBCKGUpO3JldHVybiB0LnJlbWFpbmluZ0J5dGVzKCk+PTQmJnQucmVhZFVpbnQzMigpPT09ay5NQUdJQ31zdGF0aWMgYXN5bmMgX2Zyb21HTEJEYXRhKGUsdCxyKXtjb25zdCBvPWF3YWl0IFkuX3BhcnNlR0xCRGF0YShyKTtyZXR1cm4gbmV3IFkoZSx0LG8uanNvbixvLmJpbmFyeURhdGEpfXN0YXRpYyBhc3luYyBfcGFyc2VHTEJEYXRhKHIpe2NvbnN0IG89bmV3IEIocik7aWYoby5yZW1haW5pbmdCeXRlcygpPDEyKXRocm93IG5ldyBlKFwiZ2x0Zi1sb2FkZXItZXJyb3JcIixcImdsYiBiaW5hcnkgZGF0YSBpcyBpbnN1ZmZpY2llbnRseSBsYXJnZS5cIik7Y29uc3Qgbj1vLnJlYWRVaW50MzIoKSxzPW8ucmVhZFVpbnQzMigpLGE9by5yZWFkVWludDMyKCk7aWYobiE9PWsuTUFHSUMpdGhyb3cgbmV3IGUoXCJnbHRmLWxvYWRlci1lcnJvclwiLFwiTWFnaWMgZmlyc3QgNCBieXRlcyBkbyBub3QgZml0IHRvIGV4cGVjdGVkIGdsYiB2YWx1ZS5cIik7aWYoci5ieXRlTGVuZ3RoPGEpdGhyb3cgbmV3IGUoXCJnbHRmLWxvYWRlci1lcnJvclwiLFwiZ2xiIGJpbmFyeSBkYXRhIGlzIHNtYWxsZXIgdGhhbiBoZWFkZXIgc3BlY2lmaWVzLlwiKTtpZigyIT09cyl0aHJvdyBuZXcgZShcImdsdGYtbG9hZGVyLXVuc3VwcG9ydGVkLWZlYXR1cmVcIixcIkFuIHVuc3VwcG9ydGVkIGdsYiBjb250YWluZXIgdmVyc2lvbiB3YXMgZGV0ZWN0ZWQuIE9ubHkgdmVyc2lvbiAyIGlzIHN1cHBvcnRlZC5cIik7bGV0IGksdSxmPTA7Zm9yKDtvLnJlbWFpbmluZ0J5dGVzKCk+PTg7KXtjb25zdCByPW8ucmVhZFVpbnQzMigpLG49by5yZWFkVWludDMyKCk7aWYoMD09PWYpe2lmKG4hPT1rLkNIVU5LX1RZUEVfSlNPTil0aHJvdyBuZXcgZShcImdsdGYtbG9hZGVyLWVycm9yXCIsXCJGaXJzdCBnbGIgY2h1bmsgbXVzdCBiZSBKU09OLlwiKTtpZihyPDApdGhyb3cgbmV3IGUoXCJnbHRmLWxvYWRlci1lcnJvclwiLFwiTm8gSlNPTiBkYXRhIGZvdW5kLlwiKTtpPWF3YWl0IEYoby5yZWFkVWludDhBcnJheShyKSl9ZWxzZSBpZigxPT09Zil7aWYobiE9PWsuQ0hVTktfVFlQRV9CSU4pdGhyb3cgbmV3IGUoXCJnbHRmLWxvYWRlci11bnN1cHBvcnRlZC1mZWF0dXJlXCIsXCJTZWNvbmQgZ2xiIGNodW5rIGV4cGVjdGVkIHRvIGJlIEJJTi5cIik7dT1vLnJlYWRVaW50OEFycmF5KHIpfWVsc2UgdC5nZXRMb2dnZXIoXCJlc3JpLnZpZXdzLjNkLmdsVEZcIikud2FybihcIltVbnN1cHBvcnRlZCBGZWF0dXJlXSBNb3JlIHRoYW4gMiBnbGIgY2h1bmtzIGRldGVjdGVkLiBTa2lwcGluZy5cIik7Zis9MX1pZighaSl0aHJvdyBuZXcgZShcImdsdGYtbG9hZGVyLWVycm9yXCIsXCJObyBnbGIgSlNPTiBjaHVuayBkZXRlY3RlZC5cIik7cmV0dXJue2pzb246aSxiaW5hcnlEYXRhOnV9fWFzeW5jIGdldEJ1ZmZlcih0LHIpe2NvbnN0IG89dGhpcy5qc29uLmJ1ZmZlcnNbdF07aWYobnVsbD09by51cmkpe2lmKG51bGw9PXRoaXMuX2dsYkJ1ZmZlcil0aHJvdyBuZXcgZShcImdsdGYtbG9hZGVyLWVycm9yXCIsXCJnbGIgYnVmZmVyIG5vdCBwcmVzZW50XCIpO3JldHVybiB0aGlzLl9nbGJCdWZmZXJ9Y29uc3Qgbj1hd2FpdCB0aGlzLl9nZXRCdWZmZXJMb2FkZXIodCxyKTtpZihuLmJ5dGVMZW5ndGghPT1vLmJ5dGVMZW5ndGgpdGhyb3cgbmV3IGUoXCJnbHRmLWxvYWRlci1lcnJvclwiLFwiQnVmZmVyIGJ5dGUgbGVuZ3RocyBzaG91bGQgbWF0Y2guXCIpO3JldHVybiBufWFzeW5jIF9nZXRCdWZmZXJMb2FkZXIoZSx0KXtjb25zdCByPXRoaXMuX2J1ZmZlckxvYWRlcnMuZ2V0KGUpO2lmKHIpcmV0dXJuIHI7Y29uc3Qgbz10aGlzLmpzb24uYnVmZmVyc1tlXS51cmksbj10aGlzLl9jb250ZXh0LmxvYWRCaW5hcnkodGhpcy5fcmVzb2x2ZVVyaShvKSx0KS50aGVuKChlPT5uZXcgVWludDhBcnJheShlKSkpO3JldHVybiB0aGlzLl9idWZmZXJMb2FkZXJzLnNldChlLG4pLG59YXN5bmMgZ2V0QWNjZXNzb3IodCxyKXtpZighdGhpcy5qc29uLmFjY2Vzc29ycyl0aHJvdyBuZXcgZShcImdsdGYtbG9hZGVyLXVuc3VwcG9ydGVkLWZlYXR1cmVcIixcIkFjY2Vzc29ycyBtaXNzaW5nLlwiKTtjb25zdCBvPXRoaXMuanNvbi5hY2Nlc3NvcnNbdF07aWYobnVsbD09bz8uYnVmZmVyVmlldyl0aHJvdyBuZXcgZShcImdsdGYtbG9hZGVyLXVuc3VwcG9ydGVkLWZlYXR1cmVcIixcIlNvbWUgYWNjZXNzb3IgZG9lcyBub3Qgc3BlY2lmeSBhIGJ1ZmZlclZpZXcuXCIpO2lmKG8udHlwZSBpbltELk1BVDIsRC5NQVQzLEQuTUFUNF0pdGhyb3cgbmV3IGUoXCJnbHRmLWxvYWRlci11bnN1cHBvcnRlZC1mZWF0dXJlXCIsYEF0dHJpYnV0ZVR5cGUgJHtvLnR5cGV9IGlzIG5vdCBzdXBwb3J0ZWRgKTtjb25zdCBuPXRoaXMuanNvbi5idWZmZXJWaWV3c1tvLmJ1ZmZlclZpZXddLHM9YXdhaXQgdGhpcy5nZXRCdWZmZXIobi5idWZmZXIsciksYT1YW28udHlwZV0saT0kW28uY29tcG9uZW50VHlwZV0sdT1hKmksZj1uLmJ5dGVTdHJpZGV8fHU7cmV0dXJue3JhdzpzLmJ1ZmZlcixieXRlU3RyaWRlOmYsYnl0ZU9mZnNldDpzLmJ5dGVPZmZzZXQrKG4uYnl0ZU9mZnNldHx8MCkrKG8uYnl0ZU9mZnNldHx8MCksZW50cnlDb3VudDpvLmNvdW50LGlzRGVuc2VseVBhY2tlZDpmPT09dSxjb21wb25lbnRDb3VudDphLGNvbXBvbmVudEJ5dGVTaXplOmksY29tcG9uZW50VHlwZTpvLmNvbXBvbmVudFR5cGUsbWluOm8ubWluLG1heDpvLm1heCxub3JtYWxpemVkOiEhby5ub3JtYWxpemVkfX1hc3luYyBnZXRJbmRleERhdGEoZSx0KXtpZihudWxsPT1lLmluZGljZXMpcmV0dXJuO2NvbnN0IHI9YXdhaXQgdGhpcy5nZXRBY2Nlc3NvcihlLmluZGljZXMsdCk7aWYoci5pc0RlbnNlbHlQYWNrZWQpc3dpdGNoKHIuY29tcG9uZW50VHlwZSl7Y2FzZSBLLlVOU0lHTkVEX0JZVEU6cmV0dXJuIG5ldyBVaW50OEFycmF5KHIucmF3LHIuYnl0ZU9mZnNldCxyLmVudHJ5Q291bnQpO2Nhc2UgSy5VTlNJR05FRF9TSE9SVDpyZXR1cm4gbmV3IFVpbnQxNkFycmF5KHIucmF3LHIuYnl0ZU9mZnNldCxyLmVudHJ5Q291bnQpO2Nhc2UgSy5VTlNJR05FRF9JTlQ6cmV0dXJuIG5ldyBVaW50MzJBcnJheShyLnJhdyxyLmJ5dGVPZmZzZXQsci5lbnRyeUNvdW50KX1lbHNlIHN3aXRjaChyLmNvbXBvbmVudFR5cGUpe2Nhc2UgSy5VTlNJR05FRF9CWVRFOnJldHVybiBVKFEoQyxyKSk7Y2FzZSBLLlVOU0lHTkVEX1NIT1JUOnJldHVybiBVKFEoUyxyKSk7Y2FzZSBLLlVOU0lHTkVEX0lOVDpyZXR1cm4gVShRKE4scikpfX1hc3luYyBnZXRQb3NpdGlvbkRhdGEodCxyKXtpZihudWxsPT10LmF0dHJpYnV0ZXMuUE9TSVRJT04pdGhyb3cgbmV3IGUoXCJnbHRmLWxvYWRlci11bnN1cHBvcnRlZC1mZWF0dXJlXCIsXCJObyBQT1NJVElPTiB2ZXJ0ZXggZGF0YSBmb3VuZC5cIik7Y29uc3Qgbz1hd2FpdCB0aGlzLmdldEFjY2Vzc29yKHQuYXR0cmlidXRlcy5QT1NJVElPTixyKTtpZihvLmNvbXBvbmVudFR5cGUhPT1LLkZMT0FUKXRocm93IG5ldyBlKFwiZ2x0Zi1sb2FkZXItdW5zdXBwb3J0ZWQtZmVhdHVyZVwiLFwiRXhwZWN0ZWQgdHlwZSBGTE9BVCBmb3IgUE9TSVRJT04gdmVydGV4IGF0dHJpYnV0ZSwgYnV0IGZvdW5kIFwiK0tbby5jb21wb25lbnRUeXBlXSk7aWYoMyE9PW8uY29tcG9uZW50Q291bnQpdGhyb3cgbmV3IGUoXCJnbHRmLWxvYWRlci11bnN1cHBvcnRlZC1mZWF0dXJlXCIsXCJQT1NJVElPTiB2ZXJ0ZXggYXR0cmlidXRlIG11c3QgaGF2ZSAzIGNvbXBvbmVudHMsIGJ1dCBmb3VuZCBcIitvLmNvbXBvbmVudENvdW50LnRvRml4ZWQoKSk7cmV0dXJuIFEoQSxvKX1hc3luYyBnZXROb3JtYWxEYXRhKHQscil7aWYobnVsbD09dC5hdHRyaWJ1dGVzLk5PUk1BTCl0aHJvdyBuZXcgZShcImdsdGYtbG9hZGVyLWVycm9yXCIsXCJObyBOT1JNQUwgdmVydGV4IGRhdGEgZm91bmQuXCIpO2NvbnN0IG89YXdhaXQgdGhpcy5nZXRBY2Nlc3Nvcih0LmF0dHJpYnV0ZXMuTk9STUFMLHIpO2lmKG8uY29tcG9uZW50VHlwZSE9PUsuRkxPQVQpdGhyb3cgbmV3IGUoXCJnbHRmLWxvYWRlci11bnN1cHBvcnRlZC1mZWF0dXJlXCIsXCJFeHBlY3RlZCB0eXBlIEZMT0FUIGZvciBOT1JNQUwgdmVydGV4IGF0dHJpYnV0ZSwgYnV0IGZvdW5kIFwiK0tbby5jb21wb25lbnRUeXBlXSk7aWYoMyE9PW8uY29tcG9uZW50Q291bnQpdGhyb3cgbmV3IGUoXCJnbHRmLWxvYWRlci11bnN1cHBvcnRlZC1mZWF0dXJlXCIsXCJOT1JNQUwgdmVydGV4IGF0dHJpYnV0ZSBtdXN0IGhhdmUgMyBjb21wb25lbnRzLCBidXQgZm91bmQgXCIrby5jb21wb25lbnRDb3VudC50b0ZpeGVkKCkpO3JldHVybiBRKEEsbyl9YXN5bmMgZ2V0VGFuZ2VudERhdGEodCxyKXtpZihudWxsPT10LmF0dHJpYnV0ZXMuVEFOR0VOVCl0aHJvdyBuZXcgZShcImdsdGYtbG9hZGVyLWVycm9yXCIsXCJObyBUQU5HRU5UIHZlcnRleCBkYXRhIGZvdW5kLlwiKTtjb25zdCBvPWF3YWl0IHRoaXMuZ2V0QWNjZXNzb3IodC5hdHRyaWJ1dGVzLlRBTkdFTlQscik7aWYoby5jb21wb25lbnRUeXBlIT09Sy5GTE9BVCl0aHJvdyBuZXcgZShcImdsdGYtbG9hZGVyLXVuc3VwcG9ydGVkLWZlYXR1cmVcIixcIkV4cGVjdGVkIHR5cGUgRkxPQVQgZm9yIFRBTkdFTlQgdmVydGV4IGF0dHJpYnV0ZSwgYnV0IGZvdW5kIFwiK0tbby5jb21wb25lbnRUeXBlXSk7aWYoNCE9PW8uY29tcG9uZW50Q291bnQpdGhyb3cgbmV3IGUoXCJnbHRmLWxvYWRlci11bnN1cHBvcnRlZC1mZWF0dXJlXCIsXCJUQU5HRU5UIHZlcnRleCBhdHRyaWJ1dGUgbXVzdCBoYXZlIDQgY29tcG9uZW50cywgYnV0IGZvdW5kIFwiK28uY29tcG9uZW50Q291bnQudG9GaXhlZCgpKTtyZXR1cm4gUShFLG8pfWFzeW5jIGdldFRleHR1cmVDb29yZGluYXRlcyh0LHIpe2lmKG51bGw9PXQuYXR0cmlidXRlcy5URVhDT09SRF8wKXRocm93IG5ldyBlKFwiZ2x0Zi1sb2FkZXItZXJyb3JcIixcIk5vIFRFWENPT1JEXzAgdmVydGV4IGRhdGEgZm91bmQuXCIpO2NvbnN0IG89YXdhaXQgdGhpcy5nZXRBY2Nlc3Nvcih0LmF0dHJpYnV0ZXMuVEVYQ09PUkRfMCxyKTtpZigyIT09by5jb21wb25lbnRDb3VudCl0aHJvdyBuZXcgZShcImdsdGYtbG9hZGVyLXVuc3VwcG9ydGVkLWZlYXR1cmVcIixcIlRFWENPT1JEXzAgdmVydGV4IGF0dHJpYnV0ZSBtdXN0IGhhdmUgMiBjb21wb25lbnRzLCBidXQgZm91bmQgXCIrby5jb21wb25lbnRDb3VudC50b0ZpeGVkKCkpO2lmKG8uY29tcG9uZW50VHlwZT09PUsuRkxPQVQpcmV0dXJuIFEoVCxvKTtpZighby5ub3JtYWxpemVkKXRocm93IG5ldyBlKFwiZ2x0Zi1sb2FkZXItdW5zdXBwb3J0ZWQtZmVhdHVyZVwiLFwiSW50ZWdlciBjb21wb25lbnQgdHlwZXMgYXJlIG9ubHkgc3VwcG9ydGVkIGZvciBhIG5vcm1hbGl6ZWQgYWNjZXNzb3IgZm9yIFRFWENPT1JEXzAuXCIpO3JldHVybiBXKG8pfWFzeW5jIGdldFZlcnRleENvbG9ycyh0LHIpe2lmKG51bGw9PXQuYXR0cmlidXRlcy5DT0xPUl8wKXRocm93IG5ldyBlKFwiZ2x0Zi1sb2FkZXItZXJyb3JcIixcIk5vIENPTE9SXzAgdmVydGV4IGRhdGEgZm91bmQuXCIpO2NvbnN0IG89YXdhaXQgdGhpcy5nZXRBY2Nlc3Nvcih0LmF0dHJpYnV0ZXMuQ09MT1JfMCxyKTtpZig0IT09by5jb21wb25lbnRDb3VudCYmMyE9PW8uY29tcG9uZW50Q291bnQpdGhyb3cgbmV3IGUoXCJnbHRmLWxvYWRlci11bnN1cHBvcnRlZC1mZWF0dXJlXCIsXCJDT0xPUl8wIGF0dHJpYnV0ZSBtdXN0IGhhdmUgMyBvciA0IGNvbXBvbmVudHMsIGJ1dCBmb3VuZCBcIitvLmNvbXBvbmVudENvdW50LnRvRml4ZWQoKSk7aWYoND09PW8uY29tcG9uZW50Q291bnQpe2lmKG8uY29tcG9uZW50VHlwZT09PUsuRkxPQVQpcmV0dXJuIFEoRSxvKTtpZihvLmNvbXBvbmVudFR5cGU9PT1LLlVOU0lHTkVEX0JZVEUpcmV0dXJuIFEoTCxvKTtpZihvLmNvbXBvbmVudFR5cGU9PT1LLlVOU0lHTkVEX1NIT1JUKXJldHVybiBRKFIsbyl9ZWxzZSBpZigzPT09by5jb21wb25lbnRDb3VudCl7aWYoby5jb21wb25lbnRUeXBlPT09Sy5GTE9BVClyZXR1cm4gUShBLG8pO2lmKG8uY29tcG9uZW50VHlwZT09PUsuVU5TSUdORURfQllURSlyZXR1cm4gUSh2LG8pO2lmKG8uY29tcG9uZW50VHlwZT09PUsuVU5TSUdORURfU0hPUlQpcmV0dXJuIFEoSSxvKX10aHJvdyBuZXcgZShcImdsdGYtbG9hZGVyLXVuc3VwcG9ydGVkLWZlYXR1cmVcIixcIlVuc3VwcG9ydGVkIGNvbXBvbmVudCB0eXBlIGZvciBDT0xPUl8wIGF0dHJpYnV0ZTogXCIrS1tvLmNvbXBvbmVudFR5cGVdKX1oYXNQb3NpdGlvbnMoZSl7cmV0dXJuIHZvaWQgMCE9PWUuYXR0cmlidXRlcy5QT1NJVElPTn1oYXNOb3JtYWxzKGUpe3JldHVybiB2b2lkIDAhPT1lLmF0dHJpYnV0ZXMuTk9STUFMfWhhc1ZlcnRleENvbG9ycyhlKXtyZXR1cm4gdm9pZCAwIT09ZS5hdHRyaWJ1dGVzLkNPTE9SXzB9aGFzVGV4dHVyZUNvb3JkaW5hdGVzKGUpe3JldHVybiB2b2lkIDAhPT1lLmF0dHJpYnV0ZXMuVEVYQ09PUkRfMH1oYXNUYW5nZW50cyhlKXtyZXR1cm4gdm9pZCAwIT09ZS5hdHRyaWJ1dGVzLlRBTkdFTlR9YXN5bmMgZ2V0TWF0ZXJpYWwoZSx0LHIpe2xldCBvPWUubWF0ZXJpYWw/dGhpcy5fbWF0ZXJpYWxDYWNoZS5nZXQoZS5tYXRlcmlhbCk6dm9pZCAwO2lmKCFvKXtjb25zdCBuPW51bGwhPWUubWF0ZXJpYWw/aih0aGlzLmpzb24ubWF0ZXJpYWxzW2UubWF0ZXJpYWxdKTpqKCkscz1uLnBick1ldGFsbGljUm91Z2huZXNzLGE9dGhpcy5oYXNWZXJ0ZXhDb2xvcnMoZSksaT10aGlzLmdldFRleHR1cmUocy5iYXNlQ29sb3JUZXh0dXJlLHQpLHU9dGhpcy5nZXRUZXh0dXJlKG4ubm9ybWFsVGV4dHVyZSx0KSxmPXI/dGhpcy5nZXRUZXh0dXJlKG4ub2NjbHVzaW9uVGV4dHVyZSx0KTp2b2lkIDAsbD1yP3RoaXMuZ2V0VGV4dHVyZShuLmVtaXNzaXZlVGV4dHVyZSx0KTp2b2lkIDAsZD1yP3RoaXMuZ2V0VGV4dHVyZShzLm1ldGFsbGljUm91Z2huZXNzVGV4dHVyZSx0KTp2b2lkIDAsYz1udWxsIT1lLm1hdGVyaWFsP2UubWF0ZXJpYWw6LTE7bz17YWxwaGFNb2RlOm4uYWxwaGFNb2RlLGFscGhhQ3V0b2ZmOm4uYWxwaGFDdXRvZmYsY29sb3I6cy5iYXNlQ29sb3JGYWN0b3IsZG91YmxlU2lkZWQ6ISFuLmRvdWJsZVNpZGVkLGNvbG9yVGV4dHVyZTphd2FpdCBpLG5vcm1hbFRleHR1cmU6YXdhaXQgdSxuYW1lOm4ubmFtZSxpZDpjLG9jY2x1c2lvblRleHR1cmU6YXdhaXQgZixlbWlzc2l2ZVRleHR1cmU6YXdhaXQgbCxlbWlzc2l2ZUZhY3RvcjpuLmVtaXNzaXZlRmFjdG9yLG1ldGFsbGljRmFjdG9yOnMubWV0YWxsaWNGYWN0b3Iscm91Z2huZXNzRmFjdG9yOnMucm91Z2huZXNzRmFjdG9yLG1ldGFsbGljUm91Z2huZXNzVGV4dHVyZTphd2FpdCBkLGhhc1ZlcnRleENvbG9yczphLEVTUklfZXh0ZXJuYWxDb2xvck1peE1vZGU6bi5leHRyYXMuRVNSSV9leHRlcm5hbENvbG9yTWl4TW9kZSxjb2xvclRleHR1cmVUcmFuc2Zvcm06cz8uYmFzZUNvbG9yVGV4dHVyZT8uZXh0ZW5zaW9ucz8uS0hSX3RleHR1cmVfdHJhbnNmb3JtLG5vcm1hbFRleHR1cmVUcmFuc2Zvcm06bi5ub3JtYWxUZXh0dXJlPy5leHRlbnNpb25zPy5LSFJfdGV4dHVyZV90cmFuc2Zvcm0sb2NjbHVzaW9uVGV4dHVyZVRyYW5zZm9ybTpuLm9jY2x1c2lvblRleHR1cmU/LmV4dGVuc2lvbnM/LktIUl90ZXh0dXJlX3RyYW5zZm9ybSxlbWlzc2l2ZVRleHR1cmVUcmFuc2Zvcm06bi5lbWlzc2l2ZVRleHR1cmU/LmV4dGVuc2lvbnM/LktIUl90ZXh0dXJlX3RyYW5zZm9ybSxtZXRhbGxpY1JvdWdobmVzc1RleHR1cmVUcmFuc2Zvcm06cz8ubWV0YWxsaWNSb3VnaG5lc3NUZXh0dXJlPy5leHRlbnNpb25zPy5LSFJfdGV4dHVyZV90cmFuc2Zvcm0scmVjZWl2ZUFtYmllbnRPY2NsdXNpb246bi5leHRyYXMuRVNSSV9yZWNlaXZlQW1iaWVudE9jY2x1c2lvbixyZWNlaXZlU2hhZG93czpuLmV4dHJhcy5FU1JJX3JlY2VpdmVTaGFkb3dzfX1yZXR1cm4gb31hc3luYyBnZXRUZXh0dXJlKHQsbyl7aWYoIXQpcmV0dXJuO2lmKDAhPT0odC50ZXhDb29yZHx8MCkpdGhyb3cgbmV3IGUoXCJnbHRmLWxvYWRlci11bnN1cHBvcnRlZC1mZWF0dXJlXCIsXCJPbmx5IFRFWENPT1JEIHdpdGggaW5kZXggMCBpcyBzdXBwb3J0ZWQuXCIpO2NvbnN0IG49dC5pbmRleCxzPXRoaXMuanNvbi50ZXh0dXJlc1tuXSxhPU0obnVsbCE9cy5zYW1wbGVyP3RoaXMuanNvbi5zYW1wbGVyc1tzLnNhbXBsZXJdOnt9KSxpPVoocyksdT10aGlzLmpzb24uaW1hZ2VzW2ldLGY9YXdhaXQgdGhpcy5fbG9hZFRleHR1cmVJbWFnZURhdGEobixzLG8pO3JldHVybiByKHRoaXMuX3RleHR1cmVDYWNoZSxuLCgoKT0+e2NvbnN0IHQ9ZT0+MzMwNzE9PT1lfHwzMzY0OD09PWV8fDEwNDk3PT09ZSxyPXQ9Pnt0aHJvdyBuZXcgZShcImdsdGYtbG9hZGVyLWVycm9yXCIsYFVuZXhwZWN0ZWQgVGV4dHVyZVNhbXBsZXIgV3JhcE1vZGU6ICR7dH1gKX07cmV0dXJue2RhdGE6Zix3cmFwUzp0KGEud3JhcFMpP2Eud3JhcFM6cihhLndyYXBTKSx3cmFwVDp0KGEud3JhcFQpP2Eud3JhcFQ6cihhLndyYXBUKSxtaW5GaWx0ZXI6YS5taW5GaWx0ZXIsbmFtZTp1Lm5hbWUsaWQ6bn19KSl9Z2V0Tm9kZVRyYW5zZm9ybShlKXtpZih2b2lkIDA9PT1lKXJldHVybiBxO2xldCB0PXRoaXMuX25vZGVUcmFuc2Zvcm1DYWNoZS5nZXQoZSk7aWYoIXQpe2NvbnN0IHI9dGhpcy5nZXROb2RlVHJhbnNmb3JtKHRoaXMuX2dldE5vZGVQYXJlbnQoZSkpLG89dGhpcy5qc29uLm5vZGVzW2VdO28ubWF0cml4P3Q9bChtKCkscixvLm1hdHJpeCk6by50cmFuc2xhdGlvbnx8by5yb3RhdGlvbnx8by5zY2FsZT8odD1oKHIpLG8udHJhbnNsYXRpb24mJmQodCx0LG8udHJhbnNsYXRpb24pLG8ucm90YXRpb24mJih6WzNdPXcoeixvLnJvdGF0aW9uKSxjKHQsdCx6WzNdLHopKSxvLnNjYWxlJiZwKHQsdCxvLnNjYWxlKSk6dD1oKHIpLHRoaXMuX25vZGVUcmFuc2Zvcm1DYWNoZS5zZXQoZSx0KX1yZXR1cm4gdH1fcmVzb2x2ZVVyaShlKXtyZXR1cm4gaShlLHRoaXMuX2Jhc2VVcmkpfV9nZXROb2RlUGFyZW50KGUpe3JldHVybiB0aGlzLl9ub2RlUGFyZW50TWFwLmdldChlKX1fY2hlY2tWZXJzaW9uU3VwcG9ydGVkKCl7Y29uc3QgZT11LnBhcnNlKHRoaXMuanNvbi5hc3NldC52ZXJzaW9uLFwiZ2xURlwiKTtKLnZhbGlkYXRlKGUpfV9jaGVja1JlcXVpcmVkRXh0ZW5zaW9uc1N1cHBvcnRlZCgpe2NvbnN0IHQ9dGhpcy5qc29uO2lmKHQuZXh0ZW5zaW9uc1JlcXVpcmVkKXtpZighdC5leHRlbnNpb25zUmVxdWlyZWQuZXZlcnkoKGU9PnRoaXMuX3N1cHBvcnRlZEV4dGVuc2lvbnMuaW5jbHVkZXMoZSkpKSl0aHJvdyBuZXcgZShcImdsdGYtbG9hZGVyLXVuc3VwcG9ydGVkLWZlYXR1cmVcIixcImdsdGYgbG9hZGVyIHdhcyBub3QgYWJsZSB0byBsb2FkIHVuc3VwcG9ydGVkIGZlYXR1cmUuIFJlcXVpcmVkIGV4dGVuc2lvbnM6IFwiK3QuZXh0ZW5zaW9uc1JlcXVpcmVkLmpvaW4oXCIsIFwiKSl9fV9jb21wdXRlTm9kZVBhcmVudHMoKXt0aGlzLmpzb24ubm9kZXMuZm9yRWFjaCgoKGUsdCk9PntlLmNoaWxkcmVuJiZlLmNoaWxkcmVuLmZvckVhY2goKGU9Pnt0aGlzLl9ub2RlUGFyZW50TWFwLnNldChlLHQpfSkpfSkpfWFzeW5jIF9sb2FkVGV4dHVyZUltYWdlRGF0YShlLHQscil7Y29uc3Qgbz10aGlzLl90ZXh0dXJlTG9hZGVycy5nZXQoZSk7aWYobylyZXR1cm4gbztjb25zdCBuPXRoaXMuX2NyZWF0ZVRleHR1cmVMb2FkZXIodCxyKTtyZXR1cm4gdGhpcy5fdGV4dHVyZUxvYWRlcnMuc2V0KGUsbiksbn1hc3luYyBfY3JlYXRlVGV4dHVyZUxvYWRlcih0LHIpe2NvbnN0IG89Wih0KSxuPXRoaXMuanNvbi5pbWFnZXNbb107aWYobi51cmkpe2lmKG4udXJpLmVuZHNXaXRoKFwiLmt0eDJcIikpe2NvbnN0IGU9YXdhaXQgdGhpcy5fY29udGV4dC5sb2FkQmluYXJ5KHRoaXMuX3Jlc29sdmVVcmkobi51cmkpLHIpO3JldHVybiBuZXcgSChuZXcgVWludDhBcnJheShlKSl9cmV0dXJuIHRoaXMuX2NvbnRleHQubG9hZEltYWdlKHRoaXMuX3Jlc29sdmVVcmkobi51cmkpLHIpfWlmKG51bGw9PW4uYnVmZmVyVmlldyl0aHJvdyBuZXcgZShcImdsdGYtbG9hZGVyLXVuc3VwcG9ydGVkLWZlYXR1cmVcIixcIkltYWdlIGJ1ZmZlclZpZXcgbXVzdCBiZSBkZWZpbmVkLlwiKTtpZihudWxsPT1uLm1pbWVUeXBlKXRocm93IG5ldyBlKFwiZ2x0Zi1sb2FkZXItdW5zdXBwb3J0ZWQtZmVhdHVyZVwiLFwiSW1hZ2UgbWltZVR5cGUgbXVzdCBiZSBkZWZpbmVkLlwiKTtjb25zdCBzPXRoaXMuanNvbi5idWZmZXJWaWV3c1tuLmJ1ZmZlclZpZXddLGE9YXdhaXQgdGhpcy5nZXRCdWZmZXIocy5idWZmZXIscik7aWYobnVsbCE9cy5ieXRlU3RyaWRlKXRocm93IG5ldyBlKFwiZ2x0Zi1sb2FkZXItdW5zdXBwb3J0ZWQtZmVhdHVyZVwiLFwiYnl0ZVN0cmlkZSBub3Qgc3VwcG9ydGVkIGZvciBpbWFnZSBidWZmZXJcIik7Y29uc3QgaT1hLmJ5dGVPZmZzZXQrKHMuYnl0ZU9mZnNldHx8MCk7cmV0dXJuIFAobmV3IFVpbnQ4QXJyYXkoYS5idWZmZXIsaSxzLmJ5dGVMZW5ndGgpLG4ubWltZVR5cGUpfWFzeW5jIGdldExvYWRlZEJ1ZmZlcnNTaXplKCl7aWYodGhpcy5fZ2xiQnVmZmVyKXJldHVybiB0aGlzLl9nbGJCdWZmZXIuYnl0ZUxlbmd0aDtjb25zdCBlPWF3YWl0IG8oQXJyYXkuZnJvbSh0aGlzLl9idWZmZXJMb2FkZXJzLnZhbHVlcygpKSksdD1hd2FpdCBvKEFycmF5LmZyb20odGhpcy5fdGV4dHVyZUxvYWRlcnMudmFsdWVzKCkpKTtyZXR1cm4gZS5yZWR1Y2UoKChlLHQpPT5lKyh0Py5ieXRlTGVuZ3RoPz8wKSksMCkrdC5yZWR1Y2UoKChlLHQpPT5lKyh0P1YodCk/dC5kYXRhLmJ5dGVMZW5ndGg6dC53aWR0aCp0LmhlaWdodCo0OjApKSwwKX19Y29uc3QgcT1mKG0oKSxNYXRoLlBJLzIpLEo9bmV3IHUoMiwwLFwiZ2xURlwiKSx6PWIoKSxYPXtTQ0FMQVI6MSxWRUMyOjIsVkVDMzozLFZFQzQ6NCxNQVQyOjQsTUFUMzo5LE1BVDQ6MTZ9LCQ9e1tLLkJZVEVdOjEsW0suVU5TSUdORURfQllURV06MSxbSy5TSE9SVF06MixbSy5VTlNJR05FRF9TSE9SVF06MixbSy5IQUxGX0ZMT0FUXToyLFtLLkZMT0FUXTo0LFtLLklOVF06NCxbSy5VTlNJR05FRF9JTlRdOjR9O2Z1bmN0aW9uIFcoZSl7c3dpdGNoKGUuY29tcG9uZW50VHlwZSl7Y2FzZSBLLkJZVEU6cmV0dXJuIG5ldyBPKGUucmF3LGUuYnl0ZU9mZnNldCxlLmJ5dGVTdHJpZGUsZS5ieXRlT2Zmc2V0K2UuYnl0ZVN0cmlkZSplLmVudHJ5Q291bnQpO2Nhc2UgSy5VTlNJR05FRF9CWVRFOnJldHVybiBuZXcgXyhlLnJhdyxlLmJ5dGVPZmZzZXQsZS5ieXRlU3RyaWRlLGUuYnl0ZU9mZnNldCtlLmJ5dGVTdHJpZGUqZS5lbnRyeUNvdW50KTtjYXNlIEsuU0hPUlQ6cmV0dXJuIG5ldyB4KGUucmF3LGUuYnl0ZU9mZnNldCxlLmJ5dGVTdHJpZGUsZS5ieXRlT2Zmc2V0K2UuYnl0ZVN0cmlkZSplLmVudHJ5Q291bnQpO2Nhc2UgSy5VTlNJR05FRF9TSE9SVDpyZXR1cm4gbmV3IGcoZS5yYXcsZS5ieXRlT2Zmc2V0LGUuYnl0ZVN0cmlkZSxlLmJ5dGVPZmZzZXQrZS5ieXRlU3RyaWRlKmUuZW50cnlDb3VudCk7Y2FzZSBLLlVOU0lHTkVEX0lOVDpyZXR1cm4gbmV3IHkoZS5yYXcsZS5ieXRlT2Zmc2V0LGUuYnl0ZVN0cmlkZSxlLmJ5dGVPZmZzZXQrZS5ieXRlU3RyaWRlKmUuZW50cnlDb3VudCk7Y2FzZSBLLkZMT0FUOnJldHVybiBuZXcgVChlLnJhdyxlLmJ5dGVPZmZzZXQsZS5ieXRlU3RyaWRlLGUuYnl0ZU9mZnNldCtlLmJ5dGVTdHJpZGUqZS5lbnRyeUNvdW50KX19ZnVuY3Rpb24gUShlLHQpe3JldHVybiBuZXcgZSh0LnJhdyx0LmJ5dGVPZmZzZXQsdC5ieXRlU3RyaWRlLHQuYnl0ZU9mZnNldCt0LmJ5dGVTdHJpZGUqKHQuZW50cnlDb3VudC0xKSt0LmNvbXBvbmVudEJ5dGVTaXplKnQuY29tcG9uZW50Q291bnQpfWZ1bmN0aW9uIFoodCl7aWYobnVsbCE9dC5leHRlbnNpb25zPy5LSFJfdGV4dHVyZV9iYXNpc3UpcmV0dXJuIHQuZXh0ZW5zaW9ucy5LSFJfdGV4dHVyZV9iYXNpc3Uuc291cmNlO2lmKG51bGwhPT10LnNvdXJjZSlyZXR1cm4gdC5zb3VyY2U7dGhyb3cgbmV3IGUoXCJnbHRmLWxvYWRlci11bnN1cHBvcnRlZC1mZWF0dXJlXCIsXCJTb3VyY2UgaXMgZXhwZWN0ZWQgdG8gYmUgZGVmaW5lZCBmb3IgYSB0ZXh0dXJlLiBJdCBjYW4gYWxzbyBiZSBvbWl0dGVkIGluIGZhdm91ciBvZiBhbiBLSFJfdGV4dHVyZV9iYXNpc3UgZXh0ZW5zaW9uIHRhZy5cIil9Y29uc3QgZWU9L1xcLmdsdGYkL2ksdGU9L1xcLmdsYiQvaTtleHBvcnR7WSBhcyBHTFRGUmVzb3VyY2UscSBhcyB0cmFuc2Zvcm1HbHRmVG9FbmdpbmV9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMzMvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbnZhciBBLEU7IWZ1bmN0aW9uKEEpe0EuU0NBTEFSPVwiU0NBTEFSXCIsQS5WRUMyPVwiVkVDMlwiLEEuVkVDMz1cIlZFQzNcIixBLlZFQzQ9XCJWRUM0XCIsQS5NQVQyPVwiTUFUMlwiLEEuTUFUMz1cIk1BVDNcIixBLk1BVDQ9XCJNQVQ0XCJ9KEF8fChBPXt9KSksZnVuY3Rpb24oQSl7QVtBLkFSUkFZX0JVRkZFUj0zNDk2Ml09XCJBUlJBWV9CVUZGRVJcIixBW0EuRUxFTUVOVF9BUlJBWV9CVUZGRVI9MzQ5NjNdPVwiRUxFTUVOVF9BUlJBWV9CVUZGRVJcIn0oRXx8KEU9e30pKTtleHBvcnR7QSBhcyBBdHRyaWJ1dGVUeXBlLEUgYXMgQnVmZmVyVmlld1RhcmdldH07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4zMy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e25ldmVyUmVhY2hlZCBhcyBlfWZyb21cIi4uLy4uLy4uLy4uL2NvcmUvY29tcGlsZXJVdGlscy5qc1wiO2ltcG9ydHtUZXh0dXJlV3JhcE1vZGUgYXMgbyxUZXh0dXJlU2FtcGxpbmdNb2RlIGFzIHJ9ZnJvbVwiLi4vLi4vLi4vd2ViZ2wvZW51bXMuanNcIjtjb25zdCB0PXtiYXNlQ29sb3JGYWN0b3I6WzEsMSwxLDFdLG1ldGFsbGljRmFjdG9yOjEscm91Z2huZXNzRmFjdG9yOjF9LGE9e3Bick1ldGFsbGljUm91Z2huZXNzOnQsZW1pc3NpdmVGYWN0b3I6WzAsMCwwXSxhbHBoYU1vZGU6XCJPUEFRVUVcIixhbHBoYUN1dG9mZjouNSxkb3VibGVTaWRlZDohMX0sbD17RVNSSV9leHRlcm5hbENvbG9yTWl4TW9kZTpcInRpbnRcIixFU1JJX3JlY2VpdmVTaGFkb3dzOiEwLEVTUklfcmVjZWl2ZUFtYmllbnRPY2NsdXNpb246ITB9LGk9KGU9e30pPT57Y29uc3Qgbz17Li4udCwuLi5lLnBick1ldGFsbGljUm91Z2huZXNzfSxyPXMoey4uLmwsLi4uZS5leHRyYXN9KTtyZXR1cm57Li4uYSwuLi5lLHBick1ldGFsbGljUm91Z2huZXNzOm8sZXh0cmFzOnJ9fTtmdW5jdGlvbiBzKG8pe3N3aXRjaChvLkVTUklfZXh0ZXJuYWxDb2xvck1peE1vZGUpe2Nhc2VcIm11bHRpcGx5XCI6Y2FzZVwidGludFwiOmNhc2VcImlnbm9yZVwiOmNhc2VcInJlcGxhY2VcIjpicmVhaztkZWZhdWx0OmUoby5FU1JJX2V4dGVybmFsQ29sb3JNaXhNb2RlKSxvLkVTUklfZXh0ZXJuYWxDb2xvck1peE1vZGU9XCJ0aW50XCJ9cmV0dXJuIG99Y29uc3QgYz17bWFnRmlsdGVyOnIuTElORUFSLG1pbkZpbHRlcjpyLkxJTkVBUl9NSVBNQVBfTElORUFSLHdyYXBTOm8uUkVQRUFULHdyYXBUOm8uUkVQRUFUfSxuPWU9Pih7Li4uYywuLi5lfSk7ZXhwb3J0e2kgYXMgbWF0ZXJpYWwsbiBhcyB0ZXh0dXJlU2FtcGxlcn07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4zMy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuZnVuY3Rpb24gcihyKXtsZXQgZSx0O3JldHVybiByLnJlcGxhY2UoL14oLipcXC8pPyhbXi9dKikkLywoKHIsYSxpKT0+KGU9YXx8XCJcIix0PWl8fFwiXCIsXCJcIikpKSx7ZGlyUGFydDplLGZpbGVQYXJ0OnR9fWV4cG9ydHtyIGFzIHNwbGl0VVJJfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjMzL2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnQgZSBmcm9tXCIuLi8uLi8uLi9jb3JlL0xvZ2dlci5qc1wiO2ltcG9ydHtjbG9uZSBhcyBvfWZyb21cIi4uLy4uLy4uL2NvcmUvbGlicy9nbC1tYXRyaXgtMi9mYWN0b3JpZXMvbWF0NGY2NC5qc1wiO2ltcG9ydHttYWtlTWF0ZXJpYWxQYXJhbWV0ZXJzIGFzIHQsbWFrZVRleHR1cmVTb3VyY2UgYXMgcn1mcm9tXCIuL0xvYWRlclJlc3VsdC5qc1wiO2ltcG9ydHtHTFRGUmVzb3VyY2UgYXMgc31mcm9tXCIuL2ludGVybmFsL1Jlc291cmNlLmpzXCI7aW1wb3J0e1ByaW1pdGl2ZVR5cGUgYXMgYSxUZXh0dXJlU2FtcGxpbmdNb2RlIGFzIG59ZnJvbVwiLi4vLi4vd2ViZ2wvZW51bXMuanNcIjtsZXQgaT0wO2FzeW5jIGZ1bmN0aW9uIGwodCxyLG49e30sbD0hMCl7Y29uc3QgbT1hd2FpdCBzLmxvYWQodCxyLG4pLFQ9XCJnbHRmX1wiK2krKyxwPXtsb2RzOltdLG1hdGVyaWFsczpuZXcgTWFwLHRleHR1cmVzOm5ldyBNYXAsbWV0YTp1KG0pfSxmPSEoIW0uanNvbi5hc3NldC5leHRyYXN8fFwic3ltYm9sUmVzb3VyY2VcIiE9PW0uanNvbi5hc3NldC5leHRyYXMuRVNSSV90eXBlKSx4PW0uanNvbi5hc3NldC5leHRyYXM/LkVTUklfd2Vic3R5bGVTeW1ib2w/LndlYnN0eWxlLGc9bmV3IE1hcDthd2FpdCBjKG0sKGFzeW5jKHQscixzLGkpPT57Y29uc3QgdT1nLmdldChzKT8/MDtnLnNldChzLHUrMSk7Y29uc3QgYz12b2lkIDAhPT10Lm1vZGU/dC5tb2RlOmEuVFJJQU5HTEVTLGY9Yz09PWEuVFJJQU5HTEVTfHxjPT09YS5UUklBTkdMRV9TVFJJUHx8Yz09PWEuVFJJQU5HTEVfRkFOP2M6bnVsbDtpZihudWxsPT1mKXJldHVybiB2b2lkIGUuZ2V0TG9nZ2VyKFwiZXNyaS52aWV3cy4zZC5nbFRGXCIpLndhcm4oXCJbVW5zdXBwb3J0ZWQgRmVhdHVyZV0gVW5zdXBwb3J0ZWQgcHJpbWl0aXZlIG1vZGUgKFwiK2FbY10rXCIpLiBTa2lwcGluZyBwcmltaXRpdmUuXCIpO2lmKCFtLmhhc1Bvc2l0aW9ucyh0KSlyZXR1cm4gdm9pZCBlLmdldExvZ2dlcihcImVzcmkudmlld3MuM2QuZ2xURlwiKS53YXJuKFwiU2tpcHBpbmcgcHJpbWl0aXZlIHdpdGhvdXQgUE9TSVRJT04gdmVydGV4IGF0dHJpYnV0ZS5cIik7Y29uc3QgeD1tLmdldFBvc2l0aW9uRGF0YSh0LG4pLGg9bS5nZXRNYXRlcmlhbCh0LG4sbCksdz1tLmhhc05vcm1hbHModCk/bS5nZXROb3JtYWxEYXRhKHQsbik6bnVsbCx2PW0uaGFzVGFuZ2VudHModCk/bS5nZXRUYW5nZW50RGF0YSh0LG4pOm51bGwsUz1tLmhhc1RleHR1cmVDb29yZGluYXRlcyh0KT9tLmdldFRleHR1cmVDb29yZGluYXRlcyh0LG4pOm51bGwsUj1tLmhhc1ZlcnRleENvbG9ycyh0KT9tLmdldFZlcnRleENvbG9ycyh0LG4pOm51bGwsXz1tLmdldEluZGV4RGF0YSh0LG4pLEU9e25hbWU6aSx0cmFuc2Zvcm06byhyKSxhdHRyaWJ1dGVzOntwb3NpdGlvbjphd2FpdCB4LG5vcm1hbDp3P2F3YWl0IHc6bnVsbCx0ZXhDb29yZDA6Uz9hd2FpdCBTOm51bGwsY29sb3I6Uj9hd2FpdCBSOm51bGwsdGFuZ2VudDp2P2F3YWl0IHY6bnVsbH0saW5kaWNlczphd2FpdCBfLHByaW1pdGl2ZVR5cGU6ZixtYXRlcmlhbDpkKHAsYXdhaXQgaCxUKX07bGV0IEk9bnVsbDtudWxsIT1wLm1ldGE/LkVTUklfbG9kJiZcInNjcmVlblNwYWNlUmFkaXVzXCI9PT1wLm1ldGEuRVNSSV9sb2QubWV0cmljJiYoST1wLm1ldGEuRVNSSV9sb2QudGhyZXNob2xkc1tzXSkscC5sb2RzW3NdPXAubG9kc1tzXXx8e3BhcnRzOltdLG5hbWU6aSxsb2RUaHJlc2hvbGQ6SX0scC5sb2RzW3NdLnBhcnRzW3VdPUV9KSk7Zm9yKGNvbnN0IGUgb2YgcC5sb2RzKWUucGFydHM9ZS5wYXJ0cy5maWx0ZXIoKGU9PiEhZSkpO2NvbnN0IGg9YXdhaXQgbS5nZXRMb2FkZWRCdWZmZXJzU2l6ZSgpO3JldHVybnttb2RlbDpwLG1ldGE6e2lzRXNyaVN5bWJvbFJlc291cmNlOmYsdXJpOm0udXJpLEVTUklfd2Vic3R5bGU6eH0sY3VzdG9tTWV0YTp7fSxjYWNoZWRNZW1vcnk6aH19ZnVuY3Rpb24gdShlKXtjb25zdCBvPWUuanNvbjtsZXQgdD1udWxsO3JldHVybiBvLm5vZGVzLmZvckVhY2goKGU9Pntjb25zdCBvPWUuZXh0cmFzO251bGwhPW8mJihvLkVTUklfcHJveHlFbGxpcHNvaWR8fG8uRVNSSV9sb2QpJiYodD1vKX0pKSx0fWFzeW5jIGZ1bmN0aW9uIGMobyx0KXtjb25zdCByPW8uanNvbixzPXIuc2NlbmVzW3Iuc2NlbmV8fDBdLm5vZGVzLGE9cy5sZW5ndGg+MSxuPVtdO2Zvcihjb25zdCBlIG9mIHMpe2NvbnN0IG89ci5ub2Rlc1tlXTtpZihuLnB1c2goaShlLDApKSxtKG8pJiYhYSl7by5leHRlbnNpb25zLk1TRlRfbG9kLmlkcy5mb3JFYWNoKCgoZSxvKT0+aShlLG8rMSkpKX19YXN5bmMgZnVuY3Rpb24gaShzLGEpe2NvbnN0IGw9ci5ub2Rlc1tzXSx1PW8uZ2V0Tm9kZVRyYW5zZm9ybShzKTtpZihudWxsIT1sLndlaWdodHMmJmUuZ2V0TG9nZ2VyKFwiZXNyaS52aWV3cy4zZC5nbFRGXCIpLndhcm4oXCJbVW5zdXBwb3J0ZWQgRmVhdHVyZV0gTW9ycGggdGFyZ2V0cyBhcmUgbm90IHN1cHBvcnRlZC5cIiksbnVsbCE9bC5tZXNoKXtjb25zdCBlPXIubWVzaGVzW2wubWVzaF07Zm9yKGNvbnN0IG8gb2YgZS5wcmltaXRpdmVzKW4ucHVzaCh0KG8sdSxhLGUubmFtZSkpfWZvcihjb25zdCBlIG9mIGwuY2hpbGRyZW58fFtdKW4ucHVzaChpKGUsYSkpfWF3YWl0IFByb21pc2UuYWxsKG4pfWZ1bmN0aW9uIG0oZSl7cmV0dXJuIGUuZXh0ZW5zaW9ucz8uTVNGVF9sb2QmJkFycmF5LmlzQXJyYXkoZS5leHRlbnNpb25zLk1TRlRfbG9kLmlkcyl9ZnVuY3Rpb24gZChlLG8scyl7Y29uc3QgYT1vPT57Y29uc3QgdD1gJHtzfV90ZXhfJHtvJiZvLmlkfSR7bz8ubmFtZT9cIl9cIitvLm5hbWU6XCJcIn1gO2lmKG8mJiFlLnRleHR1cmVzLmhhcyh0KSl7Y29uc3Qgcz1yKG8uZGF0YSx7d3JhcDp7czpvLndyYXBTLHQ6by53cmFwVH0sbWlwbWFwOlQuaGFzKG8ubWluRmlsdGVyKSxub1VucGFja0ZsaXA6ITB9KTtlLnRleHR1cmVzLnNldCh0LHMpfXJldHVybiB0fSxuPWAke3N9X21hdF8ke28uaWR9XyR7by5uYW1lfWA7aWYoIWUubWF0ZXJpYWxzLmhhcyhuKSl7Y29uc3Qgcj10KHtjb2xvcjpbby5jb2xvclswXSxvLmNvbG9yWzFdLG8uY29sb3JbMl1dLG9wYWNpdHk6by5jb2xvclszXSxhbHBoYU1vZGU6by5hbHBoYU1vZGUsYWxwaGFDdXRvZmY6by5hbHBoYUN1dG9mZixkb3VibGVTaWRlZDpvLmRvdWJsZVNpZGVkLGNvbG9yTWl4TW9kZTpvLkVTUklfZXh0ZXJuYWxDb2xvck1peE1vZGUsY29sb3JUZXh0dXJlOm8uY29sb3JUZXh0dXJlP2Eoby5jb2xvclRleHR1cmUpOnZvaWQgMCxub3JtYWxUZXh0dXJlOm8ubm9ybWFsVGV4dHVyZT9hKG8ubm9ybWFsVGV4dHVyZSk6dm9pZCAwLG9jY2x1c2lvblRleHR1cmU6by5vY2NsdXNpb25UZXh0dXJlP2Eoby5vY2NsdXNpb25UZXh0dXJlKTp2b2lkIDAsZW1pc3NpdmVUZXh0dXJlOm8uZW1pc3NpdmVUZXh0dXJlP2Eoby5lbWlzc2l2ZVRleHR1cmUpOnZvaWQgMCxtZXRhbGxpY1JvdWdobmVzc1RleHR1cmU6by5tZXRhbGxpY1JvdWdobmVzc1RleHR1cmU/YShvLm1ldGFsbGljUm91Z2huZXNzVGV4dHVyZSk6dm9pZCAwLGVtaXNzaXZlRmFjdG9yOltvLmVtaXNzaXZlRmFjdG9yWzBdLG8uZW1pc3NpdmVGYWN0b3JbMV0sby5lbWlzc2l2ZUZhY3RvclsyXV0sY29sb3JUZXh0dXJlVHJhbnNmb3JtOm8uY29sb3JUZXh0dXJlVHJhbnNmb3JtLG5vcm1hbFRleHR1cmVUcmFuc2Zvcm06by5ub3JtYWxUZXh0dXJlVHJhbnNmb3JtLG9jY2x1c2lvblRleHR1cmVUcmFuc2Zvcm06by5vY2NsdXNpb25UZXh0dXJlVHJhbnNmb3JtLGVtaXNzaXZlVGV4dHVyZVRyYW5zZm9ybTpvLmVtaXNzaXZlVGV4dHVyZVRyYW5zZm9ybSxtZXRhbGxpY1JvdWdobmVzc1RleHR1cmVUcmFuc2Zvcm06by5tZXRhbGxpY1JvdWdobmVzc1RleHR1cmVUcmFuc2Zvcm0sbWV0YWxsaWNGYWN0b3I6by5tZXRhbGxpY0ZhY3Rvcixyb3VnaG5lc3NGYWN0b3I6by5yb3VnaG5lc3NGYWN0b3IscmVjZWl2ZVNoYWRvd3M6by5yZWNlaXZlU2hhZG93cyxyZWNlaXZlQW1iaWVudE9jY2x1c2lvbjpvLnJlY2VpdmVBbWJpZW50T2NjbHVzaW9ufSk7ZS5tYXRlcmlhbHMuc2V0KG4scil9cmV0dXJuIG59Y29uc3QgVD1uZXcgU2V0KFtuLkxJTkVBUl9NSVBNQVBfTElORUFSLG4uTElORUFSX01JUE1BUF9ORUFSRVNUXSk7ZXhwb3J0e2wgYXMgbG9hZEdMVEZ9O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9