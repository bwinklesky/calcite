export const __webpack_id__ = "vendors-node_modules_arcgis_core_geometry_support_normalizeUtilsSync_js-node_modules_arcgis_c-cf2a12";
export const __webpack_ids__ = ["vendors-node_modules_arcgis_core_geometry_support_normalizeUtilsSync_js-node_modules_arcgis_c-cf2a12"];
export const __webpack_modules__ = {

/***/ "./node_modules/@arcgis/core/geometry/support/normalizeUtilsSync.js":
/*!**************************************************************************!*\
  !*** ./node_modules/@arcgis/core/geometry/support/normalizeUtilsSync.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   CutVertical: () => (/* binding */ S),
/* harmony export */   normalizeCentralMeridianForDisplay: () => (/* binding */ a),
/* harmony export */   normalizeCentralMeridianSync: () => (/* binding */ p)
/* harmony export */ });
/* harmony import */ var _core_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../core/support/jsonUtils.js */ "./node_modules/@arcgis/core/core/support/jsonUtils.js");
/* harmony import */ var _aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./aaBoundingRect.js */ "./node_modules/@arcgis/core/geometry/support/aaBoundingRect.js");
/* harmony import */ var _boundsUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./boundsUtils.js */ "./node_modules/@arcgis/core/geometry/support/boundsUtils.js");
/* harmony import */ var _coordsUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./coordsUtils.js */ "./node_modules/@arcgis/core/geometry/support/coordsUtils.js");
/* harmony import */ var _jsonUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./jsonUtils.js */ "./node_modules/@arcgis/core/geometry/support/jsonUtils.js");
/* harmony import */ var _normalizeUtilsCommon_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./normalizeUtilsCommon.js */ "./node_modules/@arcgis/core/geometry/support/normalizeUtilsCommon.js");
/* harmony import */ var _spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./spatialReferenceUtils.js */ "./node_modules/@arcgis/core/geometry/support/spatialReferenceUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
function p(t){return f(t,!0)}function a(t){return f(t,!1)}function f(i,n){if(null==i)return null;const p=i.spatialReference,a=(0,_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_6__.getInfo)(p),f=(0,_core_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_0__.isSerializable)(i)?i.toJSON():i;if(!a)return f;const I=(0,_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_6__.isWebMercator)(p)?102100:4326,g=_normalizeUtilsCommon_js__WEBPACK_IMPORTED_MODULE_5__.cutParams[I].maxX,v=_normalizeUtilsCommon_js__WEBPACK_IMPORTED_MODULE_5__.cutParams[I].minX;if((0,_jsonUtils_js__WEBPACK_IMPORTED_MODULE_4__.isPoint)(f))return y(f,g,v);if((0,_jsonUtils_js__WEBPACK_IMPORTED_MODULE_4__.isMultipoint)(f))return f.points=f.points.map((t=>y(t,g,v))),f;if((0,_jsonUtils_js__WEBPACK_IMPORTED_MODULE_4__.isExtent)(f))return d(f,a);if((0,_jsonUtils_js__WEBPACK_IMPORTED_MODULE_4__.isPolygon)(f)||(0,_jsonUtils_js__WEBPACK_IMPORTED_MODULE_4__.isPolyline)(f)){const t=(0,_boundsUtils_js__WEBPACK_IMPORTED_MODULE_2__.getBoundsXY)(T,f),i={xmin:t[0],ymin:t[1],xmax:t[2],ymax:t[3]},e=(0,_normalizeUtilsCommon_js__WEBPACK_IMPORTED_MODULE_5__.offsetMagnitude)(i.xmin,v)*(2*g),h=0===e?f:(0,_normalizeUtilsCommon_js__WEBPACK_IMPORTED_MODULE_5__.updatePolyGeometry)(f,e);return i.xmin+=e,i.xmax+=e,i.xmax>g?C(h,g,n):i.xmin<v?C(h,v,n):h}return f}function d(t,i){if(!i)return t;const s=I(t,i).map((t=>t.extent));return s.length<2?s[0]||t:s.length>2?(t.xmin=i.valid[0],t.xmax=i.valid[1],t):{rings:s.map((t=>[[t.xmin,t.ymin],[t.xmin,t.ymax],[t.xmax,t.ymax],[t.xmax,t.ymin],[t.xmin,t.ymin]]))}}function y(t,i,s){if(Array.isArray(t)){const n=t[0];if(n>i){const s=(0,_normalizeUtilsCommon_js__WEBPACK_IMPORTED_MODULE_5__.offsetMagnitude)(n,i);t[0]=n+s*(-2*i)}else if(n<s){const i=(0,_normalizeUtilsCommon_js__WEBPACK_IMPORTED_MODULE_5__.offsetMagnitude)(n,s);t[0]=n+i*(-2*s)}}else{const n=t.x;if(n>i){const s=(0,_normalizeUtilsCommon_js__WEBPACK_IMPORTED_MODULE_5__.offsetMagnitude)(n,i);t.x+=s*(-2*i)}else if(n<s){const i=(0,_normalizeUtilsCommon_js__WEBPACK_IMPORTED_MODULE_5__.offsetMagnitude)(n,s);t.x+=i*(-2*s)}}return t}function I(t,i){const s=[],{ymin:n,ymax:e,xmin:h,xmax:o}=t,u=t.xmax-t.xmin,[r,m]=i.valid,{x,frameId:l}=g(t.xmin,i),{x:_,frameId:c}=g(t.xmax,i),p=x===_&&u>0;if(u>2*m){const t={xmin:h<o?x:_,ymin:n,xmax:m,ymax:e},i={xmin:r,ymin:n,xmax:h<o?_:x,ymax:e},u={xmin:0,ymin:n,xmax:m,ymax:e},p={xmin:r,ymin:n,xmax:0,ymax:e},a=[],f=[];v(t,u)&&a.push(l),v(t,p)&&f.push(l),v(i,u)&&a.push(c),v(i,p)&&f.push(c);for(let s=l+1;s<c;s++)a.push(s),f.push(s);s.push(new P(t,[l]),new P(i,[c]),new P(u,a),new P(p,f))}else x>_||p?s.push(new P({xmin:x,ymin:n,xmax:m,ymax:e},[l]),new P({xmin:r,ymin:n,xmax:_,ymax:e},[c])):s.push(new P({xmin:x,ymin:n,xmax:_,ymax:e},[l]));return s}function g(t,i){const[s,n]=i.valid,e=2*n;let h,o=0;return t>n?(h=Math.ceil(Math.abs(t-n)/e),t-=h*e,o=h):t<s&&(h=Math.ceil(Math.abs(t-s)/e),t+=h*e,o=-h),{x:t,frameId:o}}function v(t,i){const{xmin:s,ymin:n,xmax:e,ymax:h}=i;return O(t,s,n)&&O(t,s,h)&&O(t,e,h)&&O(t,e,n)}function O(t,i,s){return i>=t.xmin&&i<=t.xmax&&s>=t.ymin&&s<=t.ymax}function C(t,i,s=!0){const e=!(0,_jsonUtils_js__WEBPACK_IMPORTED_MODULE_4__.isPolyline)(t);if(e&&(0,_coordsUtils_js__WEBPACK_IMPORTED_MODULE_3__.closeRings)(t),s){return(new S).cut(t,i)}const h=e?t.rings:t.paths,o=e?4:2,u=h.length,m=-2*i;for(let n=0;n<u;n++){const t=h[n];if(t&&t.length>=o){const i=[];for(const s of t)i.push([s[0]+m,s[1]]);h.push(i)}}return e?t.rings=h:t.paths=h,t}class P{constructor(t,i){this.extent=t,this.frameIds=i}}const T=(0,_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_1__.create)();class S{constructor(){this._linesIn=[],this._linesOut=[]}cut(t,i){let s;if(this._xCut=i,t.rings)this._closed=!0,s=t.rings,this._minPts=4;else{if(!t.paths)return null;this._closed=!1,s=t.paths,this._minPts=2}for(const e of s){if(!e||e.length<this._minPts)continue;let t=!0;for(const i of e)t?(this.moveTo(i),t=!1):this.lineTo(i);this._closed&&this.close()}this._pushLineIn(),this._pushLineOut(),s=[];for(const e of this._linesIn)e&&e.length>=this._minPts&&s.push(e);const n=-2*this._xCut;for(const e of this._linesOut)if(e&&e.length>=this._minPts){for(const t of e)t[0]+=n;s.push(e)}return this._closed?t.rings=s:t.paths=s,t}moveTo(t){this._pushLineIn(),this._pushLineOut(),this._prevSide=this._side(t[0]),this._moveTo(t[0],t[1],this._prevSide),this._prevPt=t,this._firstPt=t}lineTo(t){const i=this._side(t[0]);if(i*this._prevSide===-1){const s=this._intersect(this._prevPt,t);this._lineTo(this._xCut,s,0),this._prevSide=0,this._lineTo(t[0],t[1],i)}else this._lineTo(t[0],t[1],i);this._prevSide=i,this._prevPt=t}close(){const t=this._firstPt,i=this._prevPt;t[0]===i[0]&&t[1]===i[1]||this.lineTo(t),this._checkClosingPt(this._lineIn),this._checkClosingPt(this._lineOut)}_moveTo(t,i,s){this._closed?(this._lineIn.push([s<=0?t:this._xCut,i]),this._lineOut.push([s>=0?t:this._xCut,i])):(s<=0&&this._lineIn.push([t,i]),s>=0&&this._lineOut.push([t,i]))}_lineTo(t,i,s){this._closed?(j(this._lineIn,s<=0?t:this._xCut,i),j(this._lineOut,s>=0?t:this._xCut,i)):s<0?(0===this._prevSide&&this._pushLineOut(),this._lineIn.push([t,i])):s>0?(0===this._prevSide&&this._pushLineIn(),this._lineOut.push([t,i])):this._prevSide<0?(this._lineIn.push([t,i]),this._lineOut.push([t,i])):this._prevSide>0&&(this._lineOut.push([t,i]),this._lineIn.push([t,i]))}_checkClosingPt(t){const i=t.length;i>3&&t[0][0]===this._xCut&&t[i-2][0]===this._xCut&&t[1][0]===this._xCut&&(t[0][1]=t[i-2][1],t.pop())}_side(t){return t<this._xCut?-1:t>this._xCut?1:0}_intersect(t,i){const s=(this._xCut-t[0])/(i[0]-t[0]);return t[1]+s*(i[1]-t[1])}_pushLineIn(){this._lineIn&&this._lineIn.length>=this._minPts&&this._linesIn.push(this._lineIn),this._lineIn=[]}_pushLineOut(){this._lineOut&&this._lineOut.length>=this._minPts&&this._linesOut.push(this._lineOut),this._lineOut=[]}}function j(t,i,s){const n=t.length;n>1&&t[n-1][0]===i&&t[n-2][0]===i?t[n-1][1]=s:t.push([i,s])}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/arcade/callExpressionWithCursor.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/arcade/callExpressionWithCursor.js ***!
  \*******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   callExpressionWithCursor: () => (/* binding */ n),
/* harmony export */   callExpressionWithCursorWithDefault: () => (/* binding */ t),
/* harmony export */   isBadArcadeResult: () => (/* binding */ r)
/* harmony export */ });
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
function n(n,r,t){if(null==n)return null;const u=r.readArcadeFeature();r.contextTimeZone=t.$view?.timeZone;try{return n.evaluate(u,t)}catch(a){return _core_Logger_js__WEBPACK_IMPORTED_MODULE_1__["default"].getLogger("esri.views.2d.support.arcadeOnDemand").warn("Feature arcade evaluation failed:",a),null}}function r(e){return null==e||e===1/0||e===-1/0||"number"==typeof e&&isNaN(e)}function t(e,n,t,u){if(null==e)return null!=u?u:null;const a=n.readArcadeFeature();n.contextTimeZone=t.$view?.timeZone;const o=e.evaluate(a,t);return r(o)?null!=u?u:null:o}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/engine/webgl/mesh/MeshData.js":
/*!**************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/webgl/mesh/MeshData.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   MeshData: () => (/* binding */ n)
/* harmony export */ });
/* harmony import */ var _DisplayEntity_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../DisplayEntity.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/DisplayEntity.js");
/* harmony import */ var _DisplayRecord_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../DisplayRecord.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/DisplayRecord.js");
/* harmony import */ var _VertexDataWriter_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./VertexDataWriter.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/mesh/VertexDataWriter.js");
/* harmony import */ var _util_Writer_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../util/Writer.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/util/Writer.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
class n{constructor(e,r=0){this._id=e,this._sizeHint=r,this._entityRecordCountOffset=0,this._entityCountOffset=0,this._entityIdIndex=0,this._entitySortKeyIndex=0,this._didEntityStart=!1,this._instanceIdToVertexData=new Map,this._recordIndexStart=0,this._recordIndexCount=0,this._recordVertexStart=0,this._recordVertexCount=0,this._current={metric:null,writer:null,start:0,sortKey:0,instanceId:0,layoutHash:0,indexStart:0,vertexStart:0,textureKey:0,metricBoxLenPointer:0},this._entities=new _util_Writer_js__WEBPACK_IMPORTED_MODULE_3__["default"](Uint32Array,this._sizeHint*_DisplayEntity_js__WEBPACK_IMPORTED_MODULE_0__["default"].byteSizeHint),this._entityCountOffset=this._entities.push(0)}get id(){return this._id}serialize(){const t=new Array,e=[],r=this._entities.buffer();for(const i of this._instanceIdToVertexData.values())e.push(i.serialize(t));return{message:{data:e,entities:r},transferList:t}}vertexStart(){return this._current.vertexStart??0}vertexCount(){return this._current.writer?.vertexCount??0}indexCount(){return this._current.writer?.indexCount??0}vertexEnsureSize(t){this._current.writer.vertexEnsureSize(t)}indexEnsureSize(t){this._current.writer.indexEnsureSize(t)}vertexWrite(t){this._current.writer.writeVertex(t)}vertexWriteRegion(t){this._current.writer.writeVertexRegion(t)}vertexWriteF32(t){this._current.writer.writeVertexF32(t)}recordBounds(t,e,r,i){}indexWrite(t){this._current.writer.writeIndex(t)}metricStart(t){this._current.metric=t,this._current.metric.recordStart=this.recordCount()}metricEnd(){const t=this._current.writer;this._current.metric&&(this._current.metric.recordCount=this.recordCount()-this._current.metric.recordStart),this._current.metric?.bounds.length&&this._current.metric?.recordCount?(t.writeMetric(this._current.metric),this._current.metric=null):this._current.metric=null}metricBoxWrite(t){this._current.metric.bounds.push(t)}entityStart(t,e=t){this._entityIdIndex=this._entities.push(t),this._entitySortKeyIndex=this._entities.writeF32(e),this._entityRecordCountOffset=this._entities.push(0),this._didEntityStart=!0}entityRecordCount(){return this._entities.getValue(this._entityRecordCountOffset)}entityEnd(){if(!this._didEntityStart)return;0===this.entityRecordCount()?this._entities.seek(this._entityIdIndex):this._entities.incr(this._entityCountOffset),this._didEntityStart=!1}recordCount(){return this._entities.getValue(this._entityRecordCountOffset)}recordStart(t,e,r=0){this._current.writer=this._getVertexWriter(t,e),this._current.indexStart=this._current.writer.indexCount,this._current.vertexStart=this._current.writer.vertexCount,this._current.instanceId=t,this._current.layoutHash=e.hash,this._current.textureKey=r}recordEnd(t=0){const r=this._current.vertexStart,i=this._current.writer.vertexCount-r;if(!i)return!1;const n=this._current.indexStart,s=this._current.writer.indexCount-n;return this._recordIndexStart=n,this._recordIndexCount=s,this._recordVertexStart=r,this._recordVertexCount=i,this._entities.incr(this._entityRecordCountOffset),_DisplayRecord_js__WEBPACK_IMPORTED_MODULE_1__["default"].write(this._entities,this._current.instanceId,this._current.textureKey,n,s,r,i,t),!0}copyLast(t,r){const i=this._recordVertexStart+this._recordVertexCount;this._entities.incr(this._entityRecordCountOffset),_DisplayRecord_js__WEBPACK_IMPORTED_MODULE_1__["default"].write(this._entities,this._current.instanceId,this._current.textureKey,this._recordIndexStart+this._recordIndexCount,this._recordIndexCount,i,this._recordVertexCount,0);const n=this._current.writer.indexWriter,s=this._current.writer.vertexWriter,c=this._recordIndexStart+this._recordIndexCount,o=this._recordVertexCount;for(let e=this._recordIndexStart;e!==c;e++){const t=n.getValue(e);n.push(t+o)}const u=this._current.writer.layout.stride/Uint32Array.BYTES_PER_ELEMENT,h=this._recordVertexStart*u,_=(this._recordVertexStart+this._recordVertexCount)*u;for(let e=h;e!==_;e++){const t=s.getValue(e);s.push(t)}const d=this._current.writer.layout.position,a=d.packPrecisionFactor??1,x=d.offset/Uint32Array.BYTES_PER_ELEMENT,y=t*a,S=r*a;for(let e=i*u;e<=s.length;e+=u)s.i1616Add(e+x,y,S)}copyLastFrom(t,e,r){const i=t._entities.getValue(t._entityIdIndex);if(i!==this._entities.getValue(this._entityIdIndex)){const e=t._entities.getValueF32(t._entitySortKeyIndex);this.entityStart(i,e)}this.recordStart(t._current.instanceId,t._current.writer.layout,t._current.textureKey);const n=this._current.writer.layout.stride/Uint32Array.BYTES_PER_ELEMENT,s=this._current.vertexStart,c=t._current.vertexStart-s,o=this._current.writer.indexWriter,u=this._current.writer.vertexWriter,h=t._current.writer.indexWriter,_=t._current.writer.vertexWriter;for(let l=t._current.indexStart;l!==h.length;l++){const t=h.getValue(l);o.push(t-c)}for(let l=t._current.vertexStart*n;l!==_.length;l++){const t=_.getValue(l);u.push(t)}const d=this._current.writer.layout.position,a=d.packPrecisionFactor??1,x=d.offset/Uint32Array.BYTES_PER_ELEMENT,y=e*a,S=r*a;for(let l=s*n;l<=u.length;l+=n)u.i1616Add(l+x,y,S);this.recordEnd()}_getVertexWriter(t,e){const i=this._instanceIdToVertexData;return i.has(t)||i.set(t,new _VertexDataWriter_js__WEBPACK_IMPORTED_MODULE_2__.VertexDataWriter(t,e,this._sizeHint)),i.get(t)}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/engine/webgl/mesh/VertexDataWriter.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/webgl/mesh/VertexDataWriter.js ***!
  \**********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   VertexDataWriter: () => (/* binding */ r)
/* harmony export */ });
/* harmony import */ var _util_Writer_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../util/Writer.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/util/Writer.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
const e=6,i=4;class r{constructor(r,s,n=0){const c=e*n*Uint32Array.BYTES_PER_ELEMENT,h=i*n*s.stride,u=s.stride/4,_=s.attributes.find((t=>"pos"===t.name||"position"===t.name));if(!_)throw new Error("InternalError: Unable to find position attribute");this.layout={...s,position:_},this._indices=new _util_Writer_js__WEBPACK_IMPORTED_MODULE_0__["default"](Uint32Array,c),this._vertices=new _util_Writer_js__WEBPACK_IMPORTED_MODULE_0__["default"](Uint32Array,h),this._metrics=new _util_Writer_js__WEBPACK_IMPORTED_MODULE_0__["default"](Uint32Array,0),this._metricCountOffset=this._metrics.push(0),this._strideInt=u,this._instanceId=r}serialize(t){const e=this._indices.buffer(),i=this._vertices.buffer(),r=this._metrics.length?this._metrics.buffer():null;return t.push(e,i),{instanceId:this._instanceId,layout:this.layout,indices:e,vertices:i,metrics:r}}get strideInt(){return this._strideInt}get vertexCount(){return this._vertices.length/this._strideInt}get indexCount(){return this._indices.length}get indexWriter(){return this._indices}get vertexWriter(){return this._vertices}get metricWriter(){return this._metrics}vertexEnsureSize(t){this._vertices.ensureSize(t)}indexEnsureSize(t){this._indices.ensureSize(t)}writeIndex(t){this._indices.push(t)}writeVertex(t){this._vertices.push(t)}writeVertexRegion(t){this._vertices.writeRegion(t)}writeVertexF32(t){this._vertices.writeF32(t)}writeMetric(t){this._metrics.incr(this._metricCountOffset),t.serialize(this._metrics)}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/engine/webgl/mesh/factories/ResourceProxy.js":
/*!*****************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/webgl/mesh/factories/ResourceProxy.js ***!
  \*****************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ResourceProxy: () => (/* binding */ s)
/* harmony export */ });
/* harmony import */ var _core_string_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../core/string.js */ "./node_modules/@arcgis/core/core/string.js");
/* harmony import */ var _urlUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../urlUtils.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/urlUtils.js");
/* harmony import */ var _shaderGraph_techniques_mesh_AResourceProxy_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../shaderGraph/techniques/mesh/AResourceProxy.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/shaderGraph/techniques/mesh/AResourceProxy.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
class s extends _shaderGraph_techniques_mesh_AResourceProxy_js__WEBPACK_IMPORTED_MODULE_2__.AResourceProxy{constructor(e){super(),this._fetcher=e,this._controller=new AbortController,this._pendingIds=new Set,this._pendingRequests=[],this._resourceIdToResource=new Map}destroy(){this._controller.abort()}get _abortOptions(){return{signal:this._controller.signal}}enqueueRequest(r){const s=(0,_urlUtils_js__WEBPACK_IMPORTED_MODULE_1__.discardUrlIfHasUrlHash)(r.resource),o=(0,_core_string_js__WEBPACK_IMPORTED_MODULE_0__.numericHash)(JSON.stringify(s));return this._pendingIds.has(o)||(this._pendingIds.add(o),this._pendingRequests.push({...r,resourceId:o})),o}async fetchEnqueuedResources(){const e=this._pendingRequests;if(this._pendingIds.clear(),this._pendingRequests=[],0===e.length)return;const t=await this._fetcher.fetch(e,this._abortOptions);for(let r=0;r<t.length;r++){const s=e[r].resourceId;this._resourceIdToResource.set(s,t[r])}}async fetchResourceImmediate(e){const t=await this._fetcher.fetch([e]);if(1!==t.length)throw new Error("FeaturePipelineResourceProxy: failed to fetch resources");return t[0]}async fetchDictionaryResourceImmediate(e){const t=await this._fetcher.fetchDictionary([e]);if(1!==t.length)throw new Error("FeaturePipelineResourceProxy: failed to fetch dictionary resources");return t[0]}getResource(e){return this._resourceIdToResource.get(e)}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/engine/webgl/shaderGraph/techniques/mesh/AResourceProxy.js":
/*!*******************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/webgl/shaderGraph/techniques/mesh/AResourceProxy.js ***!
  \*******************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   AResourceProxy: () => (/* binding */ s)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
class s{}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/engine/webgl/urlUtils.js":
/*!*********************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/webgl/urlUtils.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   discardUrlIfHasUrlHash: () => (/* binding */ r)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
function r(r){return"url"in r&&"urlHash"in r?{...r,url:""}:r}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/engine/webgl/util/Writer.js":
/*!************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/webgl/util/Writer.js ***!
  \************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ r)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
const t=1.25;class r{get length(){return this._pos}constructor(t,r){this._pos=0;const e=r?this._roundToNearest(r,t.BYTES_PER_ELEMENT):40;this._array=new ArrayBuffer(e),this._buffer=new t(this._array),this._ctor=t,this._i16View=new Int16Array(this._array)}_roundToNearest(t,r){const e=Math.round(t);return 1===r?e:e+(r-e%r)}_ensureSize(r){if(this._pos+r>=this._buffer.length){const e=this._roundToNearest((this._array.byteLength+r*this._buffer.BYTES_PER_ELEMENT)*t,this._buffer.BYTES_PER_ELEMENT),s=new ArrayBuffer(e),i=new this._ctor(s);i.set(this._buffer,0),this._array=s,this._buffer=i,this._i16View=new Int16Array(this._array)}}ensureSize(t){this._ensureSize(t)}writeF32(t){this._ensureSize(1);const r=this._pos;return new Float32Array(this._array,4*this._pos,1)[0]=t,this._pos++,r}push(t){this._ensureSize(1);const r=this._pos;return this._buffer[this._pos++]=t,r}writeFixed(t){this._buffer[this._pos++]=t}setValue(t,r){this._buffer[t]=r}i1616Add(t,r,e){this._i16View[2*t]+=r,this._i16View[2*t+1]+=e}getValue(t){return this._buffer[t]}getValueF32(t){return new Float32Array(this._array,4*t,1)[0]}incr(t){if(this._buffer.length<t)throw new Error("Increment index overflows the target buffer");this._buffer[t]++}decr(t){this._buffer[t]--}writeRegion(t){this._ensureSize(t.length);const r=this._pos;return this._buffer.set(t,this._pos),this._pos+=t.length,r}writeManyFrom(t,r,e){this._ensureSize(e-r);for(let s=r;s!==e;s++)this.writeFixed(t._buffer[s])}buffer(){const t=this._array.slice(0,4*this._pos);return this.destroy(),t}toArray(){return[...this._buffer]}seek(t){this._pos=t}destroy(){this._array=null,this._buffer=null}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/engine/webgl/util/debug.js":
/*!***********************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/webgl/util/debug.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   DEBUG_ATTR_UPDATES: () => (/* binding */ l),
/* harmony export */   createDebugLogger: () => (/* binding */ n)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
const n=(n,l)=>n&&((...n)=>l.warn("DEBUG:",...n))||(()=>null),l=!1;


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/features/FeatureStoreQueryAdapter.js":
/*!****************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/features/FeatureStoreQueryAdapter.js ***!
  \****************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   FeatureStoreQueryAdapter: () => (/* binding */ r)
/* harmony export */ });
/* harmony import */ var _layers_graphics_OptimizedFeature_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../layers/graphics/OptimizedFeature.js */ "./node_modules/@arcgis/core/layers/graphics/OptimizedFeature.js");
/* harmony import */ var _support_FeatureSetReaderJSON_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./support/FeatureSetReaderJSON.js */ "./node_modules/@arcgis/core/views/2d/layers/features/support/FeatureSetReaderJSON.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
class r{static{this.Shared=new r}getObjectId(t){return t.getObjectId()}getAttributes(t){return t.readAttributes()}getAttribute(t,e){return t.readAttribute(e)}getAttributeAsTimestamp(t,e){return t.readAttributeAsTimestamp(e)}cloneWithGeometry(r,a){const i=r.readAttributes(),s=new _layers_graphics_OptimizedFeature_js__WEBPACK_IMPORTED_MODULE_0__.OptimizedFeature(a,i,null,r.getObjectId(),r.getDisplayId()),d=_support_FeatureSetReaderJSON_js__WEBPACK_IMPORTED_MODULE_1__.FeatureSetReaderJSON.fromOptimizedFeatures([s],r.metadata);return d.setIndex(0),d}getGeometry(t){return t.readGeometryWorldSpace()}getCentroid(t,e){return t.readCentroidForDisplay()}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/features/support/AComputedField.js":
/*!**************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/features/support/AComputedField.js ***!
  \**************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   AComputedField: () => (/* binding */ s)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
class s{destroy(){}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/features/support/AttributeStore.js":
/*!**************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/features/support/AttributeStore.js ***!
  \**************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   AttributeStore: () => (/* binding */ x),
/* harmony export */   getVisualVariableSizeValueRepresentationRatio: () => (/* binding */ _)
/* harmony export */ });
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_accessorSupport_diffUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../core/accessorSupport/diffUtils.js */ "./node_modules/@arcgis/core/core/accessorSupport/diffUtils.js");
/* harmony import */ var _support_ArcadeExpression_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../../support/ArcadeExpression.js */ "./node_modules/@arcgis/core/support/ArcadeExpression.js");
/* harmony import */ var _engine_webgl_definitions_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../engine/webgl/definitions.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/definitions.js");
/* harmony import */ var _engine_webgl_DisplayId_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../engine/webgl/DisplayId.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/DisplayId.js");
/* harmony import */ var _engine_webgl_Utils_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../engine/webgl/Utils.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/Utils.js");
/* harmony import */ var _engine_webgl_shaderGraph_techniques_shaders_constants_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../engine/webgl/shaderGraph/techniques/shaders/constants.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/shaderGraph/techniques/shaders/constants.js");
/* harmony import */ var _engine_webgl_util_debug_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../engine/webgl/util/debug.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/util/debug.js");
/* harmony import */ var _DisplayIdGenerator_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./DisplayIdGenerator.js */ "./node_modules/@arcgis/core/views/2d/layers/features/support/DisplayIdGenerator.js");
/* harmony import */ var _FeatureFilterEvaluator_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./FeatureFilterEvaluator.js */ "./node_modules/@arcgis/core/views/2d/layers/features/support/FeatureFilterEvaluator.js");
/* harmony import */ var _webgl_enums_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../../webgl/enums.js */ "./node_modules/@arcgis/core/views/webgl/enums.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
function _(t,e){if(!t||!e)return t;switch(e){case"radius":case"distance":return 2*t;case"diameter":case"width":return t;case"area":return Math.sqrt(t)}return t}const y=()=>_core_Logger_js__WEBPACK_IMPORTED_MODULE_2__["default"].getLogger("esri.views.layers.2d.features.support.AttributeStore"),m=(0,_engine_webgl_util_debug_js__WEBPACK_IMPORTED_MODULE_9__.createDebugLogger)(_engine_webgl_util_debug_js__WEBPACK_IMPORTED_MODULE_9__.DEBUG_ATTR_UPDATES,y()),f={sharedArrayBuffer:(0,_core_has_js__WEBPACK_IMPORTED_MODULE_1__["default"])("esri-shared-array-buffer"),atomics:(0,_core_has_js__WEBPACK_IMPORTED_MODULE_1__["default"])("esri-atomics")};class b{constructor(t,e,i){this.size=0,this.texelSize=4,this.dirtyStart=0,this.dirtyEnd=0;const{pixelType:s,layout:r,textureOnly:a}=e;this.textureOnly=a||!1,this.pixelType=s,this.layout=r,this._resetRange(),this.size=t,this.isLocal=i,a||(this.data=this._initData(s,t))}get buffer(){return this.data?.buffer}unsetComponentAllTexels(t,e){const i=this.data;for(let s=0;s<this.size*this.size;s++)i[s*this.texelSize+t]&=~e;this.dirtyStart=0,this.dirtyEnd=this.size*this.size-1}setComponentAllTexels(t,e){const i=this.data;for(let s=0;s<this.size*this.size;s++)i[s*this.texelSize+t]|=255&e;this.dirtyStart=0,this.dirtyEnd=this.size*this.size-1}setComponent(t,e,i){const s=this.data;for(const r of i)s[r*this.texelSize+t]|=e,this.dirtyStart=Math.min(this.dirtyStart,r),this.dirtyEnd=Math.max(this.dirtyEnd,r)}setComponentTexel(t,e,i){this.data[i*this.texelSize+t]|=e,this.dirtyStart=Math.min(this.dirtyStart,i),this.dirtyEnd=Math.max(this.dirtyEnd,i)}unsetComponentTexel(t,e,i){this.data[i*this.texelSize+t]&=~e,this.dirtyStart=Math.min(this.dirtyStart,i),this.dirtyEnd=Math.max(this.dirtyEnd,i)}getData(t,e){const i=(0,_engine_webgl_DisplayId_js__WEBPACK_IMPORTED_MODULE_6__.getDisplayIdTexel)(t);return this.data[i*this.texelSize+e]}setData(t,e,i){const s=(0,_engine_webgl_DisplayId_js__WEBPACK_IMPORTED_MODULE_6__.getDisplayIdTexel)(t),r=1<<e;0!==(this.layout&r)?null!=this.data&&(this.data[s*this.texelSize+e]=i,this.dirtyStart=Math.min(this.dirtyStart,s),this.dirtyEnd=Math.max(this.dirtyEnd,s)):y().error("mapview-attributes-store","Tried to set a value for a texel's readonly component")}expand(t){if(this.size=t,!this.textureOnly){const e=this._initData(this.pixelType,t),i=this.data;e.set(i),this.data=e}}toMessage(){const t=this.dirtyStart,e=this.dirtyEnd,i=this.texelSize;if(t>e)return null;this._resetRange();const s=!this.isLocal,r=this.pixelType,a=this.layout,n=this.data;return{start:t,end:e,data:s&&n.slice(t*i,(e+1)*i)||null,pixelType:r,layout:a}}_initData(t,e){const i=ArrayBuffer,s=(0,_engine_webgl_Utils_js__WEBPACK_IMPORTED_MODULE_7__.getPixelArrayCtor)(t),r=new s(new i(e*e*4*s.BYTES_PER_ELEMENT));for(let a=0;a<r.length;a+=4)r[a+1]=255;return r}_resetRange(){this.dirtyStart=2147483647,this.dirtyEnd=0}}class x{constructor(t){this._client=t,this._filters=[],this._blocks=new Array,this._attributeComputeInfo=null,this._abortController=new AbortController,this._size=_engine_webgl_definitions_js__WEBPACK_IMPORTED_MODULE_5__.attributeStoreInitialSize,this._idsToHighlight=new Map,this._arcadeDependencies=new Set,this._initialized=!1,this.version=0,this._idGenerator=new _DisplayIdGenerator_js__WEBPACK_IMPORTED_MODULE_10__.DisplayIdGenerator,this._epoch=1}destroy(){this._abortController.abort()}_initialize(){if(null!=this._blockDescriptors)return;const t=_webgl_enums_js__WEBPACK_IMPORTED_MODULE_12__.PixelType.FLOAT;m(`Creating AttributeStore ${f.sharedArrayBuffer?"with":"without"} shared memory`),this._blockDescriptors=[{pixelType:_webgl_enums_js__WEBPACK_IMPORTED_MODULE_12__.PixelType.UNSIGNED_BYTE,layout:1},{pixelType:_webgl_enums_js__WEBPACK_IMPORTED_MODULE_12__.PixelType.UNSIGNED_BYTE,layout:15,textureOnly:!0},{pixelType:_webgl_enums_js__WEBPACK_IMPORTED_MODULE_12__.PixelType.UNSIGNED_BYTE,layout:15,textureOnly:!0},{pixelType:t,layout:15},{pixelType:t,layout:15},{pixelType:t,layout:15},{pixelType:t,layout:15},{pixelType:_webgl_enums_js__WEBPACK_IMPORTED_MODULE_12__.PixelType.FLOAT,layout:15}],this._blocks=this._blockDescriptors.map((()=>null))}get hasHighlight(){return this._idsToHighlight.size>0}createDisplayIdForObjectId(t){return this._idGenerator.createIdForObjectId(t)}releaseDisplayIdForObjectId(t){return this._idGenerator.releaseIdForObjectId(t)}getDisplayIdForObjectId(t){return this._idGenerator.getDisplayIdForObjectId(t)}incrementDisplayIdGeneration(){this._idGenerator.incrementGeneration()}hasArcadeDependency(t){return this._arcadeDependencies.has(t)}releaseAllIds(){this._idGenerator.releaseAll()}async update(t,e,s,r=0){const a=(0,_core_accessorSupport_diffUtils_js__WEBPACK_IMPORTED_MODULE_3__.diff)(this._schema,t);if(this.version=r,a&&((0,_core_has_js__WEBPACK_IMPORTED_MODULE_1__["default"])("esri-2d-update-debug")&&console.debug(`Version[${r}] AttributeStore.update`,{changed:a}),this._schema=t,this._attributeComputeInfo=null,this._initialize(),null!=t))if(s&&(this._filters=await Promise.all(t.filters.map((t=>t?_FeatureFilterEvaluator_js__WEBPACK_IMPORTED_MODULE_11__["default"].create({geometryType:s.geometryType,hasM:!1,hasZ:!1,timeInfo:s.timeInfo,fieldsIndex:s.fieldsIndex,spatialReference:s.outSpatialReference,filterJSON:t}):null)))),"multi"!==t.type)this._attributeComputeInfo={type:"feature",map:new Map},await Promise.all(t.bindings.map((async t=>{const i=await this._bind(e,t);this._updateReferences(i)})));else{this._attributeComputeInfo={type:"multi",keyField:t.keyField,map:new Map};for(const i in t.bindings){const s=t.bindings[i];await Promise.all(s.map((async t=>{const s=await this._bind(e,t,parseInt(i,10));this._updateReferences(s)})))}}}setHighlight(t,e){let i=null;0===t.length&&0===e.length&&(i=this._getBlock(0),i.unsetComponentAllTexels(0,(1<<_engine_webgl_definitions_js__WEBPACK_IMPORTED_MODULE_5__.maxHighlightReasons)-1));for(const{displayId:s,highlightFlags:r}of t){if(null==s||-1===s)continue;i||(i=this._getBlock(0),i.unsetComponentAllTexels(0,(1<<_engine_webgl_definitions_js__WEBPACK_IMPORTED_MODULE_5__.maxHighlightReasons)-1));const t=(0,_engine_webgl_DisplayId_js__WEBPACK_IMPORTED_MODULE_6__.getDisplayIdTexel)(s);i.setComponent(0,r,[t])}this._idsToHighlight.clear();for(const{objectId:s,highlightFlags:r}of t)this._idsToHighlight.set(s,r);for(const{objectId:s,highlightFlags:r}of e)this._idsToHighlight.set(s,r)}setData(t,e,i,s){const r=(0,_engine_webgl_DisplayId_js__WEBPACK_IMPORTED_MODULE_6__.getDisplayIdTexel)(t);this._ensureSizeForTexel(r),this._getBlock(e).setData(t,i,s)}getData(t,e,i){return this._getBlock(e).getData(t,i)}getHighlightFlags(t){return this._idsToHighlight.get(t)||0}unsetAttributeData(t){const e=(0,_engine_webgl_DisplayId_js__WEBPACK_IMPORTED_MODULE_6__.getDisplayIdTexel)(t);this._getBlock(0).setData(e,0,0)}setAttributeData(t,e,i,s){const r=(0,_engine_webgl_DisplayId_js__WEBPACK_IMPORTED_MODULE_6__.getDisplayIdTexel)(t);this._ensureSizeForTexel(r),this._getBlock(0).setData(r,0,this.getFilterFlags(e,s));const a=this._attributeComputeInfo,l=1,d=4;let c=null;a&&(c="multi"===a.type?a.map.get(e.readAttribute(a.keyField)):a.map,c?.size&&c.forEach(((t,s)=>{const a=s*l%d,o=Math.floor(s*l/d),c=this._getBlock(o+_engine_webgl_definitions_js__WEBPACK_IMPORTED_MODULE_5__.AttributeDataType.VV);let u=t.field?.read(e,i);t.valueRepresentation&&(u=_(u,t.valueRepresentation));(null===u||isNaN(u)||u===1/0||u===-1/0)&&(u=_engine_webgl_shaderGraph_techniques_shaders_constants_js__WEBPACK_IMPORTED_MODULE_8__.nanMagicNumber),c.setData(r,a,u)})))}get epoch(){return this._epoch}sendUpdates(){const t=this._blocks.map((t=>null!=t?t.toMessage():null)),e=this._getInitArgs();(0,_core_has_js__WEBPACK_IMPORTED_MODULE_1__["default"])("esri-2d-log-updating")&&console.log("AttributeStore: _doSendUpdate.start"),this._client.update({initArgs:e,blockData:t,version:this.version,sendUpdateEpoch:this._epoch}),this._epoch+=1,(0,_core_has_js__WEBPACK_IMPORTED_MODULE_1__["default"])("esri-2d-log-updating")&&console.log("AttributeStore: _doSendUpdate.end")}_ensureSizeForTexel(t){for(;t>=this._size*this._size;)if(this._expand())return}async _bind(t,e,i){const s=await t.createComputedField(e),{valueRepresentation:r}=e,a=this._attributeComputeInfo;if("multi"===a.type){const t=a.map.get(i)??new Map;t.set(e.binding,{field:s,valueRepresentation:r}),a.map.set(i,t)}else a.map.set(e.binding,{field:s,valueRepresentation:r});return s}_getInitArgs(){return this._initialized?null:(this._initialized=!0,this._getBlock(_engine_webgl_definitions_js__WEBPACK_IMPORTED_MODULE_5__.AttributeDataType.Animation),this._getBlock(_engine_webgl_definitions_js__WEBPACK_IMPORTED_MODULE_5__.AttributeDataType.GPGPU),this._getBlock(_engine_webgl_definitions_js__WEBPACK_IMPORTED_MODULE_5__.AttributeDataType.LocalTimeOrigin),{blockSize:this._size,blockDescriptors:this._blocks.map((t=>null!=t?{textureOnly:t.textureOnly,buffer:t.buffer,pixelType:t.pixelType}:null))})}_getBlock(t){const e=this._blocks[t];if(null!=e)return e;m(`Initializing AttributeBlock at index ${t}`);const i=new b(this._size,this._blockDescriptors[t],this._client.isLocal);return this._blocks[t]=i,this._initialized=!1,i}_expand(){if(this._size<this._schema.capabilities.maxTextureSize){const t=this._size<<=1;m("Expanding block size to",t,this._blocks);for(const e of this._blocks)e?.expand(t);return this._initialized=!1,this._size=t,0}return y().error(new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("mapview-limitations","Maximum number of onscreen features exceeded.")),-1}_updateReferences(t){(0,_support_ArcadeExpression_js__WEBPACK_IMPORTED_MODULE_4__.collectExpressionDependencies)(this._arcadeDependencies,t)}isVisible(t){return!!(this._getBlock(0).getData(t,0)&1<<_engine_webgl_definitions_js__WEBPACK_IMPORTED_MODULE_5__.maxHighlightReasons)}getFilterFlags(t,e){let i=0;for(let r=0;r<this._filters.length;r++){const s=!!(1<<r),a=this._filters[r];i|=(!s||null==a||a.check(t,e)?1:0)<<r}let s=0;if(this._idsToHighlight.size){const e=t.getObjectId();s=this.getHighlightFlags(e)}return i<<_engine_webgl_definitions_js__WEBPACK_IMPORTED_MODULE_5__.maxHighlightReasons|s}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/features/support/CachedField.js":
/*!***********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/features/support/CachedField.js ***!
  \***********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   CachedField: () => (/* binding */ r)
/* harmony export */ });
/* harmony import */ var _AComputedField_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./AComputedField.js */ "./node_modules/@arcgis/core/views/2d/layers/features/support/AComputedField.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
class r extends _AComputedField_js__WEBPACK_IMPORTED_MODULE_0__.AComputedField{constructor(e){super(),this._field=e}resize(e){throw new Error("Method not implemented.")}read(e,r){return e.readAttribute(this._field)}readWithDefault(e,r){return e.readAttribute(this._field)}hasArcadeDependency(e){return!1}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/features/support/ComputedAttributeStorage.js":
/*!************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/features/support/ComputedAttributeStorage.js ***!
  \************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ComputedAttributeStorage: () => (/* binding */ l)
/* harmony export */ });
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../geometry/support/aaBoundingBox.js */ "./node_modules/@arcgis/core/geometry/support/aaBoundingBox.js");
/* harmony import */ var _engine_webgl_DisplayId_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../engine/webgl/DisplayId.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/DisplayId.js");
/* harmony import */ var _CachedField_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./CachedField.js */ "./node_modules/@arcgis/core/views/2d/layers/features/support/CachedField.js");
/* harmony import */ var _ComputedExpression_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./ComputedExpression.js */ "./node_modules/@arcgis/core/views/2d/layers/features/support/ComputedExpression.js");
/* harmony import */ var _ComputedLegacyLabelExpression_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./ComputedLegacyLabelExpression.js */ "./node_modules/@arcgis/core/views/2d/layers/features/support/ComputedLegacyLabelExpression.js");
/* harmony import */ var _DictionaryTemplate_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./DictionaryTemplate.js */ "./node_modules/@arcgis/core/views/2d/layers/features/support/DictionaryTemplate.js");
/* harmony import */ var _NormalizedField_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./NormalizedField.js */ "./node_modules/@arcgis/core/views/2d/layers/features/support/NormalizedField.js");
/* harmony import */ var _StaticBitSet_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./StaticBitSet.js */ "./node_modules/@arcgis/core/views/2d/layers/features/support/StaticBitSet.js");
/* harmony import */ var _whereUtils_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./whereUtils.js */ "./node_modules/@arcgis/core/views/2d/layers/features/support/whereUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
const c=()=>_core_Logger_js__WEBPACK_IMPORTED_MODULE_1__["default"].getLogger("esri.views.2d.layers.features.support.ComputedAttributeStorage"),m=4294967295;function p(t,e,s){if(!(t.length>e))for(;t.length<=e;)t.push(s)}class l{constructor(t){this._numerics=[],this._strings=[],this._allocatedSize=256,this._bitsets=[],this._instanceIds=[],this._bounds=[],this._dirtyBitset=this.getBitset(this.createBitset()),this.compilationOptions=t}createBitset(){const t=this._bitsets.length;return this._bitsets.push(_StaticBitSet_js__WEBPACK_IMPORTED_MODULE_9__.StaticBitSet.create(this._allocatedSize,_engine_webgl_DisplayId_js__WEBPACK_IMPORTED_MODULE_3__.displayIdTexelMask)),t+1}createDictionaryTemplateField(t,e){return new _DictionaryTemplate_js__WEBPACK_IMPORTED_MODULE_7__.ComputedDictionaryTemplate(t,e)}async createComputedField(e,s=!1){if(e.expression)try{if(!this.compilationOptions)throw new Error("InternalError: Compilation options not defined");if(s)return await _ComputedLegacyLabelExpression_js__WEBPACK_IMPORTED_MODULE_6__.ComputedLegacyLabelExpression.create(e.expression,this.compilationOptions);return await _ComputedExpression_js__WEBPACK_IMPORTED_MODULE_5__.ComputedExpression.create(e.expression,this.compilationOptions)}catch(u){const s=new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("featurelayer","Failed to compile arcade expression",{error:u,expression:e.expression});return c().error(s),null}if(e.normalizationType||e.normalizationField)return new _NormalizedField_js__WEBPACK_IMPORTED_MODULE_8__.NormalizedField(e.field,e);if(e.field)return new _CachedField_js__WEBPACK_IMPORTED_MODULE_4__.CachedField(e.field);const i=new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("featurelayer","Unable to create computed field. No expression or field found",{info:e});return c().error(i),null}async createWhereClause(t){return t?(0,_whereUtils_js__WEBPACK_IMPORTED_MODULE_10__.createWhereClause)(t,this.compilationOptions.fields):null}getBitset(t){return this._bitsets[t-1]}getComputedNumeric(t,e){return this.getComputedNumericAtIndex(t&_engine_webgl_DisplayId_js__WEBPACK_IMPORTED_MODULE_3__.displayIdTexelMask,0)}setComputedNumeric(t,e,s){return this.setComputedNumericAtIndex(t&_engine_webgl_DisplayId_js__WEBPACK_IMPORTED_MODULE_3__.displayIdTexelMask,s,0)}getComputedString(t,e){return this.getComputedStringAtIndex(t&_engine_webgl_DisplayId_js__WEBPACK_IMPORTED_MODULE_3__.displayIdTexelMask,0)}setComputedString(t,e,s){return this.setComputedStringAtIndex(t&_engine_webgl_DisplayId_js__WEBPACK_IMPORTED_MODULE_3__.displayIdTexelMask,0,s)}getComputedNumericAtIndex(t,e){const s=t&_engine_webgl_DisplayId_js__WEBPACK_IMPORTED_MODULE_3__.displayIdTexelMask;return this._ensureNumeric(e,s),this._numerics[e][s]}setComputedNumericAtIndex(t,e,s){const r=t&_engine_webgl_DisplayId_js__WEBPACK_IMPORTED_MODULE_3__.displayIdTexelMask;this._ensureNumeric(e,r),this._numerics[e][r]=s}getPackedChunkId(t){const e=t&_engine_webgl_DisplayId_js__WEBPACK_IMPORTED_MODULE_3__.displayIdTexelMask;return this._ensureInstanceId(e),this._instanceIds[e]}setPackedChunkId(t,e){const s=t&_engine_webgl_DisplayId_js__WEBPACK_IMPORTED_MODULE_3__.displayIdTexelMask;this._ensureInstanceId(s),this._instanceIds[s]=e}getComputedStringAtIndex(t,e){const s=t&_engine_webgl_DisplayId_js__WEBPACK_IMPORTED_MODULE_3__.displayIdTexelMask;return this._ensureString(e,s),this._strings[e][s]}setComputedStringAtIndex(t,e,s){const r=t&_engine_webgl_DisplayId_js__WEBPACK_IMPORTED_MODULE_3__.displayIdTexelMask;this._ensureString(e,r),this._strings[e][r]=s}getXMin(t){return this._bounds[4*(t&_engine_webgl_DisplayId_js__WEBPACK_IMPORTED_MODULE_3__.displayIdTexelMask)]}getYMin(t){return this._bounds[4*(t&_engine_webgl_DisplayId_js__WEBPACK_IMPORTED_MODULE_3__.displayIdTexelMask)+1]}getXMax(t){return this._bounds[4*(t&_engine_webgl_DisplayId_js__WEBPACK_IMPORTED_MODULE_3__.displayIdTexelMask)+2]}getYMax(t){return this._bounds[4*(t&_engine_webgl_DisplayId_js__WEBPACK_IMPORTED_MODULE_3__.displayIdTexelMask)+3]}setBounds(t,e,s=!1){const r=t&_engine_webgl_DisplayId_js__WEBPACK_IMPORTED_MODULE_3__.displayIdTexelMask;if(!s&&!this._dirtyBitset.has(t))return this._bounds[4*r]!==m;this._dirtyBitset.unset(t);const n=e.readGeometryWorldSpace();if(p(this._bounds,4*r+4,0),!n||!n.coords.length)return this._bounds[4*r]=m,this._bounds[4*r+1]=m,this._bounds[4*r+2]=m,this._bounds[4*r+3]=m,!1;let o=1/0,u=1/0,d=-1/0,h=-1/0;return n.forEachVertex(((t,e)=>{o=Math.min(o,t),u=Math.min(u,e),d=Math.max(d,t),h=Math.max(h,e)})),this._bounds[4*r]=o,this._bounds[4*r+1]=u,this._bounds[4*r+2]=d,this._bounds[4*r+3]=h,!0}getBounds(t,e){const i=this.getXMin(e),r=this.getYMin(e),n=this.getXMax(e),o=this.getYMax(e);return (0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_2__.fromRectValues)(t,i,r,n,o),i!==m}_ensureNumeric(t,e){this._numerics[t]||(this._numerics[t]=[]);p(this._numerics[t],e,0)}_ensureInstanceId(t){p(this._instanceIds,t,0)}_ensureString(t,e){this._strings[t]||(this._strings[t]=[]);p(this._strings[t],e,null)}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/features/support/ComputedExpression.js":
/*!******************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/features/support/ComputedExpression.js ***!
  \******************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ComputedExpression: () => (/* binding */ i)
/* harmony export */ });
/* harmony import */ var _core_string_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../core/string.js */ "./node_modules/@arcgis/core/core/string.js");
/* harmony import */ var _support_ArcadeExpression_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../support/ArcadeExpression.js */ "./node_modules/@arcgis/core/support/ArcadeExpression.js");
/* harmony import */ var _arcade_callExpressionWithCursor_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../arcade/callExpressionWithCursor.js */ "./node_modules/@arcgis/core/views/2d/arcade/callExpressionWithCursor.js");
/* harmony import */ var _AComputedField_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./AComputedField.js */ "./node_modules/@arcgis/core/views/2d/layers/features/support/AComputedField.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
function c(e,t){const r=43758.5453*Math.sin(12.9898*e+78.233*t);return r-Math.floor(r)}class i extends _AComputedField_js__WEBPACK_IMPORTED_MODULE_3__.AComputedField{static async create(r,s){const a=await (0,_support_ArcadeExpression_js__WEBPACK_IMPORTED_MODULE_1__.createRendererExpression)(r,s.spatialReference),c=(0,_core_string_js__WEBPACK_IMPORTED_MODULE_0__.numericHash)(r);return new i(a,c)}constructor(e,t){super(),this._compiled=e,this._cacheKey=t}resize(e){}read(e,t){return this.hasArcadeDependency("scale")||"system"!==t.$view.timeZone?(0,_arcade_callExpressionWithCursor_js__WEBPACK_IMPORTED_MODULE_2__.callExpressionWithCursor)(this._compiled,e,t):this._readCached(e,t)}readWithDefault(e,t,r){return this.hasArcadeDependency("scale")||"system"!==t.$view.timeZone?(0,_arcade_callExpressionWithCursor_js__WEBPACK_IMPORTED_MODULE_2__.callExpressionWithCursorWithDefault)(this._compiled,e,t,r):this._readWithDefaultCached(e,t,r)}hasArcadeDependency(e){return this._compiled?.references(e)??!1}_getCacheKey(e){if(!this._compiled?.references("timeProperties"))return this._cacheKey;const{currentStart:t,currentEnd:r}=e.$view.timeProperties;return this._cacheKey+c(t??1,r??1)}_readCached(e,t){if(e.setCache(this._getCacheKey(t)),e.hasCachedValue())return e.getCachedValue();const s=(0,_arcade_callExpressionWithCursor_js__WEBPACK_IMPORTED_MODULE_2__.callExpressionWithCursor)(this._compiled,e,t);return e.setCachedValue(s),s}_readWithDefaultCached(e,t,r){if(e.setCache(this._getCacheKey(t)),e.hasCachedValue())return e.getCachedValue();const a=(0,_arcade_callExpressionWithCursor_js__WEBPACK_IMPORTED_MODULE_2__.callExpressionWithCursorWithDefault)(this._compiled,e,t,r);return e.setCachedValue(a),a}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/features/support/ComputedLegacyLabelExpression.js":
/*!*****************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/features/support/ComputedLegacyLabelExpression.js ***!
  \*****************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ComputedLegacyLabelExpression: () => (/* binding */ a)
/* harmony export */ });
/* harmony import */ var _layers_support_labelFormatUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../layers/support/labelFormatUtils.js */ "./node_modules/@arcgis/core/layers/support/labelFormatUtils.js");
/* harmony import */ var _layers_support_labelUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../layers/support/labelUtils.js */ "./node_modules/@arcgis/core/layers/support/labelUtils.js");
/* harmony import */ var _arcade_callExpressionWithCursor_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../arcade/callExpressionWithCursor.js */ "./node_modules/@arcgis/core/views/2d/arcade/callExpressionWithCursor.js");
/* harmony import */ var _AComputedField_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./AComputedField.js */ "./node_modules/@arcgis/core/views/2d/layers/features/support/AComputedField.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
class a extends _AComputedField_js__WEBPACK_IMPORTED_MODULE_3__.AComputedField{static async create(t,s){const l=(0,_layers_support_labelUtils_js__WEBPACK_IMPORTED_MODULE_1__.sqlToTemplateString)(t);return new a((e=>l.replaceAll(/{[^}]*}/g,(t=>{const s=t.slice(1,-1),a=e.metadata.fieldsIndex.get(s);if(null==a)return t;const l=e.readAttribute(s);return null==l?"":(0,_layers_support_labelFormatUtils_js__WEBPACK_IMPORTED_MODULE_0__.formatField)(l,a)}))))}constructor(r){super(),this._evaluator=r}resize(r){}read(r,e){return this._evaluator(r)}readWithDefault(r,e,s){const a=this._evaluator(r);return (0,_arcade_callExpressionWithCursor_js__WEBPACK_IMPORTED_MODULE_2__.isBadArcadeResult)(a)?s:a}hasArcadeDependency(r){return!1}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/features/support/DictionaryTemplate.js":
/*!******************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/features/support/DictionaryTemplate.js ***!
  \******************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ComputedDictionaryTemplate: () => (/* binding */ r)
/* harmony export */ });
/* harmony import */ var _symbols_cim_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../symbols/cim/utils.js */ "./node_modules/@arcgis/core/symbols/cim/utils.js");
/* harmony import */ var _AComputedField_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./AComputedField.js */ "./node_modules/@arcgis/core/views/2d/layers/features/support/AComputedField.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
class r extends _AComputedField_js__WEBPACK_IMPORTED_MODULE_1__.AComputedField{constructor(e,s){super(),this._template=e,this._parts=(0,_symbols_cim_utils_js__WEBPACK_IMPORTED_MODULE_0__.analyzeTextParts)(e.template,s)}resize(t){}read(t,s){return (0,_symbols_cim_utils_js__WEBPACK_IMPORTED_MODULE_0__.getTextValuesFromFeatureHandle)(t,this._parts,this._template.textCase)}readWithDefault(t,s,r){return (0,_symbols_cim_utils_js__WEBPACK_IMPORTED_MODULE_0__.getTextValuesFromFeatureHandle)(t,this._parts,this._template.textCase)}hasArcadeDependency(t){return!1}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/features/support/DisplayIdGenerator.js":
/*!******************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/features/support/DisplayIdGenerator.js ***!
  \******************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   DisplayIdGenerator: () => (/* binding */ s)
/* harmony export */ });
/* harmony import */ var _engine_webgl_DisplayId_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../engine/webgl/DisplayId.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/DisplayId.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
class t{constructor(e){this.data=e,this._referenceCount=0}increment(){this._referenceCount+=1}decrement(){this._referenceCount-=1}empty(){return 0===this._referenceCount}}class s{constructor(){this._freeIdsGenerationA=[],this._freeIdsGenerationB=[],this._idCounter=1,this._freeIds=this._freeIdsGenerationA,this._objectIdToDisplayId=new Map}createIdForObjectId(s){let r=this._objectIdToDisplayId.get(s);return r?r.increment():(r=new t((0,_engine_webgl_DisplayId_js__WEBPACK_IMPORTED_MODULE_0__.createDisplayId)(this._getFreeId(),!1)),r.increment(),this._objectIdToDisplayId.set(s,r)),r.data}releaseIdForObjectId(e){const t=this._objectIdToDisplayId.get(e);t&&(t.decrement(),t.empty()&&(this._objectIdToDisplayId.delete(e),this._freeIds.push(t.data)))}getDisplayIdForObjectId(e){const t=this._objectIdToDisplayId.get(e);return null!=t?t.data:null}releaseAll(){for(const e of this._objectIdToDisplayId.values())this._freeIds.push(e.data);this._objectIdToDisplayId.clear()}incrementGeneration(){this._freeIds=this._freeIds===this._freeIdsGenerationA?this._freeIdsGenerationB:this._freeIdsGenerationA}_getFreeId(){return this._freeIds.length?this._freeIds.pop():this._idCounter++}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/features/support/FeatureFilterEvaluator.js":
/*!**********************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/features/support/FeatureFilterEvaluator.js ***!
  \**********************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ p)
/* harmony export */ });
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../geometry/support/aaBoundingRect.js */ "./node_modules/@arcgis/core/geometry/support/aaBoundingRect.js");
/* harmony import */ var _geometry_support_boundsUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../geometry/support/boundsUtils.js */ "./node_modules/@arcgis/core/geometry/support/boundsUtils.js");
/* harmony import */ var _layers_graphics_data_queryUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../../layers/graphics/data/queryUtils.js */ "./node_modules/@arcgis/core/layers/graphics/data/queryUtils.js");
/* harmony import */ var _layers_graphics_data_spatialQuerySupport_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../../layers/graphics/data/spatialQuerySupport.js */ "./node_modules/@arcgis/core/layers/graphics/data/spatialQuerySupport.js");
/* harmony import */ var _layers_graphics_data_timeSupport_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../layers/graphics/data/timeSupport.js */ "./node_modules/@arcgis/core/layers/graphics/data/timeSupport.js");
/* harmony import */ var _rest_support_Query_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../../rest/support/Query.js */ "./node_modules/@arcgis/core/rest/support/Query.js");
/* harmony import */ var _FeatureStoreQueryAdapter_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../FeatureStoreQueryAdapter.js */ "./node_modules/@arcgis/core/views/2d/layers/features/FeatureStoreQueryAdapter.js");
/* harmony import */ var _whereUtils_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./whereUtils.js */ "./node_modules/@arcgis/core/views/2d/layers/features/support/whereUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
const m=1,d=2;class p{constructor(t){this._geometryBounds=(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_2__.create)(),this._idToVisibility=new Map,this._serviceInfo=t}static async create(t){const e=new p(t);return await e.update(t.filterJSON,t.spatialReference),e}get hash(){return this._hash}check(t,e){return this._applyFilter(t,e)}invalidate(){this._idToVisibility.forEach(((t,e)=>{this._idToVisibility.set(e,0)}))}setKnownIds(t){for(const e of t)this._idToVisibility.set(e,m)}setTrue(t){const e=[],i=[],s=new Set(t);return this._idToVisibility.forEach(((t,r)=>{const o=!!(this._idToVisibility.get(r)&m),a=s.has(r);!o&&a?e.push(r):o&&!a&&i.push(r),this._idToVisibility.set(r,a?m|d:0)})),{show:e,hide:i}}createQuery(){const{geometry:t,spatialRel:e,where:i,timeExtent:s,objectIds:r}=this;return _rest_support_Query_js__WEBPACK_IMPORTED_MODULE_7__["default"].fromJSON({geometry:t,spatialRel:e,where:i,timeExtent:s,objectIds:r})}async update(t,e){this._hash=JSON.stringify(t);const i=await (0,_layers_graphics_data_queryUtils_js__WEBPACK_IMPORTED_MODULE_4__.normalizeQueryLike)(t,null,e);await Promise.all([this._setGeometryFilter(i),this._setIdFilter(i),this._setAttributeFilter(i),this._setTimeFilter(i)])}async _setAttributeFilter(t){if(!t?.where)return this._clause=null,void(this.where=null);this._clause=await (0,_whereUtils_js__WEBPACK_IMPORTED_MODULE_9__.createWhereClause)(t.where,this._serviceInfo.fieldsIndex),this.where=t.where}_setIdFilter(t){this._idsToShow=t?.objectIds&&new Set(t.objectIds),this._idsToHide=t?.hiddenIds&&new Set(t.hiddenIds),this.objectIds=t?.objectIds}async _setGeometryFilter(t){if(!t?.geometry)return this._spatialQueryOperator=null,this.geometry=null,void(this.spatialRel=null);const e=t.geometry,i=t.spatialRel??"esriSpatialRelIntersects",r=await (0,_layers_graphics_data_spatialQuerySupport_js__WEBPACK_IMPORTED_MODULE_5__.getSpatialQueryOperator)(i,e,this._serviceInfo.geometryType,this._serviceInfo.hasZ,this._serviceInfo.hasM);(0,_geometry_support_boundsUtils_js__WEBPACK_IMPORTED_MODULE_3__.getBoundsXY)(this._geometryBounds,e),this._spatialQueryOperator=r,this.geometry=e,this.spatialRel=i}_setTimeFilter(i){if(this.timeExtent=this._timeOperator=null,i?.timeExtent)if(this._serviceInfo.timeInfo)this.timeExtent=i.timeExtent,this._timeOperator=(0,_layers_graphics_data_timeSupport_js__WEBPACK_IMPORTED_MODULE_6__.getTimeOperator)(this._serviceInfo.timeInfo,i.timeExtent,_FeatureStoreQueryAdapter_js__WEBPACK_IMPORTED_MODULE_8__.FeatureStoreQueryAdapter.Shared);else{const s=new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("feature-layer-view:time-filter-not-available","Unable to apply time filter, as layer doesn't have time metadata.",i.timeExtent);_core_Logger_js__WEBPACK_IMPORTED_MODULE_1__["default"].getLogger("esri.views.2d.layers.features.controllers.FeatureFilter").error(s)}}_applyFilter(t,e){return this._filterByGeometry(t)&&this._filterById(t)&&this._filterByTime(t)&&this._filterByExpression(t,e)}_filterByExpression(t,e){return!this.where||this._clause(t,e)}_filterById(t){return(!this._idsToHide?.size||!this._idsToHide.has(t.getObjectId()))&&(!this._idsToShow?.size||this._idsToShow.has(t.getObjectId()))}_filterByGeometry(t){if(!this.geometry)return!0;const e=t.readGeometryWorldSpace();return!!e&&this._spatialQueryOperator(e)}_filterByTime(t){return null==this._timeOperator||this._timeOperator(t)}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/features/support/FeatureMetadata.js":
/*!***************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/features/support/FeatureMetadata.js ***!
  \***************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   FeatureMetadata: () => (/* binding */ i),
/* harmony export */   GraphicsMetadata: () => (/* binding */ n)
/* harmony export */ });
/* harmony import */ var _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../geometry/SpatialReference.js */ "./node_modules/@arcgis/core/geometry/SpatialReference.js");
/* harmony import */ var _layers_support_FieldsIndex_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../layers/support/FieldsIndex.js */ "./node_modules/@arcgis/core/layers/support/FieldsIndex.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
class i{static minimal(e,n,l=[]){return new i({geometryType:e,fieldsIndex:new _layers_support_FieldsIndex_js__WEBPACK_IMPORTED_MODULE_1__["default"](l).toJSON(),featureIdInfo:{type:"object-id",fieldName:n},subtypes:null,subtypeField:null,types:null,globalIdField:null,spatialReference:null,outSpatialReference:null,timeInfo:null,timeReferenceUnknownClient:null,dateFieldsTimeZone:null,typeIdField:null})}static createFeature(e){return new i(e)}constructor(i){let n;this._options=i,this._fieldsIndex=_layers_support_FieldsIndex_js__WEBPACK_IMPORTED_MODULE_1__["default"].fromJSON(i.fieldsIndex),i.spatialReference&&(this._spatialReference=_geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_0__["default"].fromJSON(i.spatialReference)),i.outSpatialReference&&(this._outSpatialReference=_geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_0__["default"].fromJSON(i.outSpatialReference)),"object-id"===i.featureIdInfo.type&&(n=i.featureIdInfo.fieldName),this._arcadeSchema={fields:this.fieldsIndex.fields,fieldsIndex:this.fieldsIndex,geometryType:this.geometryType,objectIdField:n,globalIdField:this._options.globalIdField,spatialReference:this._spatialReference,timeInfo:this._options.timeInfo,typeIdField:this._options.typeIdField??void 0,types:this._options.types??void 0,subtypeField:this._options.subtypeField,subtypes:this._options.subtypes??void 0,datesInUnknownTimezone:this._options.timeReferenceUnknownClient??void 0,dateFieldsTimeZone:this._options.dateFieldsTimeZone??void 0}}get fieldsIndex(){return this._fieldsIndex}get geometryType(){return"esriGeometryMultiPatch"===this._options.geometryType?"esriGeometryPolygon":this._options.geometryType}get serviceGeometryType(){return this._options.geometryType}get subtypeField(){return this._options.subtypeField}get timeInfo(){return this._options.timeInfo}get featureIdInfo(){return this._options.featureIdInfo}get globalIdField(){return this._options.globalIdField}get arcadeSchema(){return this._arcadeSchema}get spatialReference(){return this._spatialReference}get outSpatialReference(){return this._outSpatialReference}get timeReferenceUnknownClient(){return this._options.timeReferenceUnknownClient}weakCloneWithAdditionalFields(e){return new i({fieldsIndex:{fields:[...this._fieldsIndex.fields,...e],timeZoneByFieldName:null},geometryType:this.geometryType,globalIdField:this.globalIdField,featureIdInfo:this.featureIdInfo,spatialReference:this.spatialReference,outSpatialReference:this.outSpatialReference,subtypeField:this.subtypeField,subtypes:this._options.subtypes,timeInfo:this.timeInfo,timeReferenceUnknownClient:this.timeReferenceUnknownClient,dateFieldsTimeZone:this._options.dateFieldsTimeZone,typeIdField:this._options.typeIdField,types:this._options.types})}}class n extends i{static createGraphics(e){return new n({fieldsIndex:(new _layers_support_FieldsIndex_js__WEBPACK_IMPORTED_MODULE_1__["default"]).toJSON(),featureIdInfo:{type:"object-id",fieldName:"uid"},geometryType:null,spatialReference:e,outSpatialReference:e,globalIdField:null,subtypeField:null,subtypes:null,timeInfo:null,typeIdField:null,types:null,timeReferenceUnknownClient:null,dateFieldsTimeZone:null})}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/features/support/FeatureSetCache.js":
/*!***************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/features/support/FeatureSetCache.js ***!
  \***************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   FeatureSetCache: () => (/* binding */ a)
/* harmony export */ });
/* harmony import */ var _StaticBitSet_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./StaticBitSet.js */ "./node_modules/@arcgis/core/views/2d/layers/features/support/StaticBitSet.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
class a{constructor(a){this._valid=_StaticBitSet_js__WEBPACK_IMPORTED_MODULE_0__.StaticBitSet.create(a),this._data=new Array(a)}has(t){return this._valid.has(t)}set(t,a){this._valid.set(t),this._data[t]=a}get(t){return this._data[t]}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/features/support/FeatureSetReader.js":
/*!****************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/features/support/FeatureSetReader.js ***!
  \****************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   FeatureSetReader: () => (/* binding */ v)
/* harmony export */ });
/* harmony import */ var _arcade_ArcadeDate_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../arcade/ArcadeDate.js */ "./node_modules/@arcgis/core/arcade/ArcadeDate.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_sql_DateOnly_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../core/sql/DateOnly.js */ "./node_modules/@arcgis/core/core/sql/DateOnly.js");
/* harmony import */ var _core_sql_TimeOnly_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../core/sql/TimeOnly.js */ "./node_modules/@arcgis/core/core/sql/TimeOnly.js");
/* harmony import */ var _geometry_GeometryCursor_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../../geometry/GeometryCursor.js */ "./node_modules/@arcgis/core/geometry/GeometryCursor.js");
/* harmony import */ var _geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../../geometry/support/aaBoundingBox.js */ "./node_modules/@arcgis/core/geometry/support/aaBoundingBox.js");
/* harmony import */ var _geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../geometry/support/jsonUtils.js */ "./node_modules/@arcgis/core/geometry/support/jsonUtils.js");
/* harmony import */ var _geometry_support_labelPoint_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../../geometry/support/labelPoint.js */ "./node_modules/@arcgis/core/geometry/support/labelPoint.js");
/* harmony import */ var _geometry_support_quantizationUtils_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../../geometry/support/quantizationUtils.js */ "./node_modules/@arcgis/core/geometry/support/quantizationUtils.js");
/* harmony import */ var _layers_graphics_centroid_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../../layers/graphics/centroid.js */ "./node_modules/@arcgis/core/layers/graphics/centroid.js");
/* harmony import */ var _layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../../layers/graphics/featureConversionUtils.js */ "./node_modules/@arcgis/core/layers/graphics/featureConversionUtils.js");
/* harmony import */ var _layers_graphics_OptimizedFeature_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../../layers/graphics/OptimizedFeature.js */ "./node_modules/@arcgis/core/layers/graphics/OptimizedFeature.js");
/* harmony import */ var _layers_graphics_OptimizedGeometry_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../../../layers/graphics/OptimizedGeometry.js */ "./node_modules/@arcgis/core/layers/graphics/OptimizedGeometry.js");
/* harmony import */ var _time_constants_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../../../time/constants.js */ "./node_modules/@arcgis/core/time/constants.js");
/* harmony import */ var _FeatureSetCache_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./FeatureSetCache.js */ "./node_modules/@arcgis/core/views/2d/layers/features/support/FeatureSetCache.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
const b=(0,_core_has_js__WEBPACK_IMPORTED_MODULE_1__["default"])("featurelayer-simplify-thresholds")??[.5,.5,.5,.5],x=b[0],D=b[1],T=b[2],F=b[3],A=(0,_core_has_js__WEBPACK_IMPORTED_MODULE_1__["default"])("featurelayer-simplify-payload-size-factors")??[1,2,4],S=A[0],I=A[1],B=A[2],j=(0,_core_has_js__WEBPACK_IMPORTED_MODULE_1__["default"])("featurelayer-simplify-mobile-factor")??2,G=(0,_core_has_js__WEBPACK_IMPORTED_MODULE_1__["default"])("esri-mobile"),M=4294967295;function C(e,t,r){if(!(e.length>t))for(;e.length<=t;)e.push(r)}class v{constructor(e){this.metadata=e,this.type="FeatureSetReader",this._overrides=null,this._joined=[],this._objectIdToIndex=null,this._boundsBuffer=[],this._caches=new Map,this.arcadeDeclaredClass="esri.arcade.Feature",this._contextTimeZone=null}destroy(){}[Symbol.dispose](){this.destroy()}getAreaSimplificationThreshold(e,t){let r=1;const s=G?j:1;t>4e6?r=B*s:t>1e6?r=I*s:t>5e5?r=S*s:t>1e5&&(r=s);let i=0;return e>4e3?i=F*r:e>2e3?i=T*r:e>100?i=D:e>15&&(i=x),i}getBounds(e){if(C(this._boundsBuffer,4*this.getIndex()+4,0),this.getBoundsXMin()===M)return!1;if(0===this.getBoundsXMin()){const t=this.readGeometryWorldSpace();if(!t)return this.setBoundsXMin(M),!1;let r=1/0,s=1/0,a=-1/0,o=-1/0;return t.forEachVertex(((e,t)=>{r=Math.min(r,e),s=Math.min(s,t),a=Math.max(a,e),o=Math.max(o,t)})),this.setBoundsXMin(r),this.setBoundsYMin(s),this.setBoundsXMax(a),this.setBoundsYMax(o),(0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_5__.fromRectValues)(e,r,s,a,o),!0}const t=this.getBoundsXMin(),r=this.getBoundsYMin(),s=this.getBoundsXMax(),a=this.getBoundsYMax();return (0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_5__.fromRectValues)(e,t,r,s,a),!0}getBoundsXMin(){return this._boundsBuffer[4*this.getIndex()]}setBoundsXMin(e){this._boundsBuffer[4*this.getIndex()]=e}getBoundsYMin(){return this._boundsBuffer[4*this.getIndex()+1]}setBoundsYMin(e){this._boundsBuffer[4*this.getIndex()+1]=e}getBoundsXMax(){return this._boundsBuffer[4*this.getIndex()+2]}setBoundsXMax(e){this._boundsBuffer[4*this.getIndex()+2]=e}getBoundsYMax(){return this._boundsBuffer[4*this.getIndex()+3]}setBoundsYMax(e){this._boundsBuffer[4*this.getIndex()+3]=e}readAttributeAsTimestamp(e){const t=this.readAttribute(e);return"string"==typeof t?new Date(t).getTime():"number"==typeof t||null==t?t:null}readAttribute(e,t=!1){const r=this._readAttribute(e,t);if(void 0!==r)return r;for(const s of this._joined){s.setIndex(this.getIndex());const r=s._readAttribute(e,t);if(void 0!==r)return r}}readAttributes(){const e=this._readAttributes();for(const t of this._joined){t.setIndex(this.getIndex());const r=t._readAttributes();for(const t of Object.keys(r))e[t]=r[t]}return e}joinAttributes(e){this._joined.push(e)}registerOverrides(e){this._overrides=e}withoutOverrides(){const e=this.copy();return e._overrides=null,e}readOptimizedFeatureWorldSpace(){const e=this.readGeometryWorldSpace(),t=this.readAttributes(),r=this.readCentroidWorldSpace();return new _layers_graphics_OptimizedFeature_js__WEBPACK_IMPORTED_MODULE_11__.OptimizedFeature(e,t,r,this.getObjectId(),this.getDisplayId())}readLegacyFeatureForDisplay(){const e=this.readCentroidForDisplay();return{attributes:this.readAttributes(),geometry:this.readLegacyGeometryForDisplay(),centroid:(e&&{x:e.coords[0],y:e.coords[1]})??null}}readLegacyFeatureWorldSpace(){const e=this.readCentroidWorldSpace();return{attributes:this.readAttributes(),geometry:this._readLegacyGeometryWorldSpace(),centroid:(e&&{x:e.coords[0],y:e.coords[1]})??null}}readLegacyGeometryForDisplay(){const e=this.readGeometryForDisplay();return (0,_layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_10__.convertToGeometry)(e,this.geometryType,!1,!1)}readXForDisplay(){return this._readX()}readYForDisplay(){return this._readY()}readXWorldSpace(){const e=this._readX(),t=this.getInTransform();return null==t?e:e*t.scale[0]+t.translate[0]}readYWorldSpace(){const e=this._readY(),t=this.getInTransform();return null==t?e:t.translate[1]-e*t.scale[1]}readGeometryForDisplay(){const e=this._readGeometryDeltaDecoded(!0);if(!e){const e=this._createDeltaQuantizedGeometryFromServerCentroid();return e?e.deltaDecode():null}return e}readGeometryForDisplayTransformed(e){let t=this.readGeometryForDisplay();if(t&&"esriGeometryPolyline"===this.metadata.geometryType&&(t=(0,_layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_10__.generalizeOptimizedGeometry)(new _layers_graphics_OptimizedGeometry_js__WEBPACK_IMPORTED_MODULE_12__["default"],t,this.hasZ,this.hasM,this.metadata.geometryType,e.scale[0])),t&&(t=(0,_layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_10__.quantizeForDisplay)(t,e,this.metadata.geometryType,this.hasZ,this.hasM)),!t){const t=this.readCentroidForDisplay();if(!t)return null;const r=(0,_geometry_support_quantizationUtils_js__WEBPACK_IMPORTED_MODULE_8__.quantizeX)(e,t.coords[0]),s=(0,_geometry_support_quantizationUtils_js__WEBPACK_IMPORTED_MODULE_8__.quantizeY)(e,t.coords[1]);return this._createDeltaQuantizedExtrudedGeometry(r,s).deltaDecode()}return t}readGeometryWorldSpace(){let e=this._readGeometry();if(e||(e=this._createDeltaQuantizedGeometryFromServerCentroid()),!e)return null;const t=e.clone(),r=this.getInTransform();return null!=r&&(0,_layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_10__.unquantizeOptimizedGeometry)(t,t,this.hasZ,this.hasM,r),t}readCentroidForDisplay(){const e=this.readGeometryForDisplay();return e?this._computeDisplayCentroid(e):this._readServerCentroid()}readCentroidWorldSpace(){const e=this.readGeometryForDisplay(),t=e?this._computeDisplayCentroid(e):this._readServerCentroid();if(!t)return null;const r=t.clone(),s=this.getInTransform();return null!=s&&(0,_layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_10__.unquantizeOptimizedGeometry)(r,r,this.hasZ,this.hasM,s),r}setCache(e){let t=this._caches.get(e);null==t&&(t=new _FeatureSetCache_js__WEBPACK_IMPORTED_MODULE_14__.FeatureSetCache(this.getSize()),this._caches.set(e,t)),this._activeCache=t}setCachedValue(e){this._activeCache.set(this.getIndex(),e)}hasCachedValue(){return this._activeCache.has(this.getIndex())}getCachedValue(){return this._activeCache.get(this.getIndex())}_readGeometryDeltaDecoded(e){const t=this._readGeometry(e);return"esriGeometryPoint"!==this.geometryType&&t&&this.getInTransform()?t.deltaDecode():t}get contextTimeZone(){return this._contextTimeZone}set contextTimeZone(e){this._contextTimeZone=e}readArcadeFeature(){return this}hasField(e){return this.fields.has(e)||this._joined.some((t=>t.hasField(e)))}geometry(){const e=this.readGeometryWorldSpace(),t=(0,_layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_10__.convertToGeometry)(e,this.geometryType,this.hasZ,this.hasM),r=(0,_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_6__.fromJSON)(t);if(r){if(!this.metadata.outSpatialReference)throw new Error("InternalError: Expected spatial reference to be defined");r.spatialReference=this.metadata.outSpatialReference}return r}autocastArcadeDate(t,r){return r&&r instanceof Date?this.isUnknownDateTimeField(t)?_arcade_ArcadeDate_js__WEBPACK_IMPORTED_MODULE_0__.ArcadeDate.unknownDateJSToArcadeDate(r):_arcade_ArcadeDate_js__WEBPACK_IMPORTED_MODULE_0__.ArcadeDate.dateJSAndZoneToArcadeDate(r,this.contextTimeZone??_time_constants_js__WEBPACK_IMPORTED_MODULE_13__.system):r}isUnknownDateTimeField(e){return this.metadata.fieldsIndex.getTimeZone(e)===_time_constants_js__WEBPACK_IMPORTED_MODULE_13__.unknown}field(s){let i=this.fields.get(s);if(i)switch(i.type){case"date-only":case"esriFieldTypeDateOnly":return _core_sql_DateOnly_js__WEBPACK_IMPORTED_MODULE_2__.DateOnly.fromReader(this.readAttribute(s,!1));case"time-only":case"esriFieldTypeTimeOnly":return _core_sql_TimeOnly_js__WEBPACK_IMPORTED_MODULE_3__.TimeOnly.fromReader(this.readAttribute(s,!1));case"esriFieldTypeTimestampOffset":case"timestamp-offset":return _arcade_ArcadeDate_js__WEBPACK_IMPORTED_MODULE_0__.ArcadeDate.fromReaderAsTimeStampOffset(this.readAttribute(s,!1));case"date":case"esriFieldTypeDate":return this.autocastArcadeDate(s,this.readAttribute(s,!0));default:return this.readAttribute(s,!1)}for(const a of this._joined)if(a.setIndex(this.getIndex()),i=a.fields.get(s),i)switch(i.type){case"date-only":case"esriFieldTypeDateOnly":return _core_sql_DateOnly_js__WEBPACK_IMPORTED_MODULE_2__.DateOnly.fromReader(a._readAttribute(s,!1));case"time-only":case"esriFieldTypeTimeOnly":return _core_sql_TimeOnly_js__WEBPACK_IMPORTED_MODULE_3__.TimeOnly.fromReader(a._readAttribute(s,!1));case"esriFieldTypeTimestampOffset":case"timestamp-offset":return _arcade_ArcadeDate_js__WEBPACK_IMPORTED_MODULE_0__.ArcadeDate.fromReaderAsTimeStampOffset(a._readAttribute(s,!1));case"date":case"esriFieldTypeDate":return this.autocastArcadeDate(s,a._readAttribute(s,!0));default:return this.readAttribute(s,!1)}throw new Error(`Field ${s} does not exist`)}setField(e,t){throw new Error("Unable to update feature attribute values, feature is readonly")}keys(){return this.fields.fields.map((e=>e.name))}castToText(e=!1){if(!e)return JSON.stringify(this.readLegacyFeatureForDisplay());const t=this.readLegacyFeatureForDisplay();if(!t)return JSON.stringify(null);const r={geometry:t.geometry,attributes:{...t.attributes??{}}};for(const s in r.attributes){const e=r.attributes[s];e instanceof Date&&(r.attributes[s]=e.getTime())}return JSON.stringify(r)}gdbVersion(){return null}fullSchema(){return this.metadata.arcadeSchema}castAsJson(e=null){return{attributes:this._readAttributes(),geometry:!0===e?.keepGeometryType?this.geometry():this.geometry()?.toJSON()??null}}castAsJsonAsync(e=null,t=null){return Promise.resolve(this.castAsJson(t))}_getExists(){if(this._overrides){const e=this.getObjectId();return!this._overrides.hasOverride(e)}return!0}_computeDisplayCentroid(e){if(null==this.getInTransform())return (0,_layers_graphics_centroid_js__WEBPACK_IMPORTED_MODULE_9__.getCentroidOptimizedGeometry)(new _layers_graphics_OptimizedGeometry_js__WEBPACK_IMPORTED_MODULE_12__["default"],e,this.hasM,this.hasZ);const t=_geometry_GeometryCursor_js__WEBPACK_IMPORTED_MODULE_4__.GeometryCursor.fromOptimized(e,this.geometryType);t.yFactor*=-1;const r=(0,_geometry_support_labelPoint_js__WEBPACK_IMPORTED_MODULE_7__.getLabelPoint)(t);return r?(r[1]*=-1,new _layers_graphics_OptimizedGeometry_js__WEBPACK_IMPORTED_MODULE_12__["default"]([],r)):null}copyInto(e){e._joined=this._joined,e._overrides=this._overrides,e._objectIdToIndex=this._objectIdToIndex,e._boundsBuffer=this._boundsBuffer,e._activeCache=this._activeCache,e._caches=this._caches,e._contextTimeZone=this._contextTimeZone}_readLegacyGeometryWorldSpace(){const e=this.readGeometryWorldSpace();return (0,_layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_10__.convertToGeometry)(e,this.geometryType,!1,!1)}_createDeltaQuantizedGeometryFromServerCentroid(){const e=this._readServerCentroid();if(!e)return null;const[t,r]=e.coords;return this._createDeltaQuantizedExtrudedGeometry(t,r)}_createDeltaQuantizedExtrudedGeometry(e,t){return"esriGeometryPolyline"===this.geometryType?this._createDeltaQuantizedExtrudedLine(e,t):this._createDeltaQuantizedExtrudedQuad(e,t)}_createDeltaQuantizedExtrudedQuad(e,t){return new _layers_graphics_OptimizedGeometry_js__WEBPACK_IMPORTED_MODULE_12__["default"]([5],[e-1,t,1,-1,1,1,-1,1,-1,-1])}_createDeltaQuantizedExtrudedLine(e,t){return new _layers_graphics_OptimizedGeometry_js__WEBPACK_IMPORTED_MODULE_12__["default"]([2],[e-1,t+1,1,-1])}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/features/support/FeatureSetReaderJSON.js":
/*!********************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/features/support/FeatureSetReaderJSON.js ***!
  \********************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   FeatureSetReaderJSON: () => (/* binding */ u)
/* harmony export */ });
/* harmony import */ var _layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../layers/graphics/featureConversionUtils.js */ "./node_modules/@arcgis/core/layers/graphics/featureConversionUtils.js");
/* harmony import */ var _layers_graphics_OptimizedFeature_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../layers/graphics/OptimizedFeature.js */ "./node_modules/@arcgis/core/layers/graphics/OptimizedFeature.js");
/* harmony import */ var _layers_support_FieldsIndex_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../layers/support/FieldsIndex.js */ "./node_modules/@arcgis/core/layers/support/FieldsIndex.js");
/* harmony import */ var _FeatureSetReader_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./FeatureSetReader.js */ "./node_modules/@arcgis/core/views/2d/layers/features/support/FeatureSetReader.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
class u extends _FeatureSetReader_js__WEBPACK_IMPORTED_MODULE_3__.FeatureSetReader{static fromFeatures(t,r){const{geometryType:s}=r,n=(0,_layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_0__.convertFromFeatures)([],t,s,!1,!1,r.featureIdInfo);for(let e=0;e<n.length;e++)n[e].displayId=t[e].displayId;return u.fromOptimizedFeatures(n,r)}static fromFeatureSet(e,r){const s=(0,_layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_0__.convertFromFeatureSet)(e,r.featureIdInfo);return u.fromOptimizedFeatureSet(s,r)}static fromOptimizedFeatureSet(e,t){const r=u.fromOptimizedFeatures(e.features,t);return r._exceededTransferLimit=e.exceededTransferLimit,r._transform=e.transform,r._fieldsIndex=new _layers_support_FieldsIndex_js__WEBPACK_IMPORTED_MODULE_2__["default"](e.fields),r}static fromOptimizedFeatures(e,t,r){const s=new u(e,t);return s._fieldsIndex=t.fieldsIndex,s._transform=r,s}static empty(e){return new u([],e)}constructor(e,t){super(t),this._exceededTransferLimit=!1,this._featureIndex=-1,this._fieldsIndex=null,this._geometryType=t.geometryType,this._features=e}get fields(){return this._fieldsIndex}get geometryType(){return this._geometryType}get hasFeatures(){return!!this._features.length}get hasNext(){return this._featureIndex+1<this._features.length}get exceededTransferLimit(){return this._exceededTransferLimit}get hasZ(){return!1}get hasM(){return!1}get _current(){return this._features[this._featureIndex]}get usedMemory(){return this._current.usedMemory}getSize(){return this._features.length}getCursor(){return this.copy()}getInTransform(){return this._transform}getAttributeHash(){let e="";for(const t in this._current.attributes)e+=this._current.attributes[t];return e}getIndex(){return this._featureIndex}setIndex(e){this._featureIndex=e}getObjectId(){return this._current?.objectId}getDisplayId(){return this._current.displayId}setDisplayId(e){this._current.displayId=e}copy(){const e=new u(this._features,this.metadata);return this.copyInto(e),e}next(){for(;++this._featureIndex<this._features.length&&!this._getExists(););return this._featureIndex<this._features.length}readGeometryArea(){return (0,_layers_graphics_OptimizedFeature_js__WEBPACK_IMPORTED_MODULE_1__.hasGeometry)(this._current)?(0,_layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_0__.getQuantizedArea)(this._current.geometry,2):0}_readX(){return (0,_layers_graphics_OptimizedFeature_js__WEBPACK_IMPORTED_MODULE_1__.hasGeometry)(this._current)?this._current.geometry.coords[0]:0}_readY(){return (0,_layers_graphics_OptimizedFeature_js__WEBPACK_IMPORTED_MODULE_1__.hasGeometry)(this._current)?this._current.geometry.coords[1]:0}_readGeometry(){return (0,_layers_graphics_OptimizedFeature_js__WEBPACK_IMPORTED_MODULE_1__.hasGeometry)(this._current)?this._current.geometry??null:null}_readServerCentroid(){return this._current.centroid}_readAttribute(e,t){if(!this._fieldsIndex){const t=this._current.attributes[e];if(void 0!==t)return t;const r=e.toLowerCase();for(const e in this._current.attributes)if(e.toLowerCase()===r)return this._current.attributes[e];return}const r=this._fieldsIndex.get(e);if(!r)return;const s=this._current.attributes[r.name];return null==s?s:t&&this.fields.isDateField(e)?new Date(s):s}_readAttributes(){return this._current.attributes}copyInto(e){super.copyInto(e),e._featureIndex=this._featureIndex,e._transform=this._transform,e._fieldsIndex=this._fieldsIndex}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/features/support/NormalizedField.js":
/*!***************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/features/support/NormalizedField.js ***!
  \***************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   NormalizedField: () => (/* binding */ r)
/* harmony export */ });
/* harmony import */ var _AComputedField_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./AComputedField.js */ "./node_modules/@arcgis/core/views/2d/layers/features/support/AComputedField.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
class r extends _AComputedField_js__WEBPACK_IMPORTED_MODULE_0__.AComputedField{constructor(e,r){super(),this._field=e,this._normalizationInfo=r}resize(e){throw new Error("Method not implemented.")}read(e,r){return this._readNormalized(e)}readWithDefault(e,r){return this._readNormalized(e)}hasArcadeDependency(e){return!1}_readNormalized(e){const r=e.readAttribute(this._field);if(null==r)return null;const{normalizationField:t,normalizationTotal:i,normalizationType:o}=this._normalizationInfo,a=e.readAttribute(t);switch(o??"esriNormalizeByField"){case"esriNormalizeByField":return a?a?r/a:void 0:null;case"esriNormalizeByLog":return Math.log(r)*Math.LOG10E;case"esriNormalizeByPercentOfTotal":return i?r/i*100:null}}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/features/support/StaticBitSet.js":
/*!************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/features/support/StaticBitSet.js ***!
  \************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   StaticBitSet: () => (/* binding */ t)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
class t{static fromBuffer(e,s){return new t(e,s)}static create(e,s=4294967295){const r=new Uint32Array(Math.ceil(e/32));return new t(r,s)}constructor(t,e){this._mask=0,this._buf=t,this._mask=e}_getIndex(t){return Math.floor(t/32)}has(t){const e=this._mask&t;return!!(this._buf[this._getIndex(e)]&1<<e%32)}hasRange(t,e){let s=t,r=e;for(;s%32&&s!==r;){if(this.has(s))return!0;s++}for(;r%32&&s!==r;){if(this.has(s))return!0;r--}if(s===r)return!1;for(let h=s/32;h!==r/32;h++){if(this._buf[h])return!0}return!1}set(t){const e=this._mask&t,s=this._getIndex(e),r=1<<e%32;this._buf[s]|=r}setRange(t,e){let s=t,r=e;for(;s%32&&s!==r;)this.set(s++);for(;r%32&&s!==r;)this.set(r--);if(s!==r)for(let h=s/32;h!==r/32;h++)this._buf[h]=4294967295}unset(t){const e=this._mask&t,s=this._getIndex(e),r=1<<e%32;this._buf[s]&=4294967295^r}resize(t){const e=this._buf,s=new Uint32Array(Math.ceil(t/32));s.set(e),this._buf=s}or(t){for(let e=0;e<this._buf.length;e++)this._buf[e]|=t._buf[e];return this}and(t){for(let e=0;e<this._buf.length;e++)this._buf[e]&=t._buf[e];return this}xor(t){for(let e=0;e<this._buf.length;e++)this._buf[e]^=t._buf[e];return this}ior(t){for(let e=0;e<this._buf.length;e++)this._buf[e]|=~t._buf[e];return this}iand(t){for(let e=0;e<this._buf.length;e++)this._buf[e]&=~t._buf[e];return this}ixor(t){for(let e=0;e<this._buf.length;e++)this._buf[e]^=~t._buf[e];return this}any(){for(let t=0;t<this._buf.length;t++)if(this._buf[t])return!0;return!1}copy(t){for(let e=0;e<this._buf.length;e++)this._buf[e]=t._buf[e];return this}clone(){return new t(this._buf.slice(),this._mask)}clear(){for(let t=0;t<this._buf.length;t++)this._buf[t]=0;return this}forEachSet(t){for(let e=0;e<this._buf.length;e++){let s=this._buf[e],r=32*e;if(s)for(;s;){1&s&&t(r),s>>>=1,r++}}}countSet(){let t=0;return this.forEachSet((e=>{t++})),t}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/features/support/whereUtils.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/features/support/whereUtils.js ***!
  \**********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   createWhereClause: () => (/* binding */ a)
/* harmony export */ });
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_sql_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../core/sql.js */ "./node_modules/@arcgis/core/core/sql.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
const n=()=>_core_Logger_js__WEBPACK_IMPORTED_MODULE_1__["default"].getLogger("esri.views.2d.layers.FeatureLayerView2D"),o={getAttribute:(r,e)=>r.readAttribute(e)};async function a(e,a){try{const s=await (0,_core_sql_js__WEBPACK_IMPORTED_MODULE_2__.parseWhereClause)(e,a);return s.isStandardized||n().error(new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("sql-parse-error","expression is not standardized",{where:e})),(t,a)=>{const i=t.readArcadeFeature();try{return s.testFeatureCompiled(i,o,a.currentUser)}catch(u){return n().warn(new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("sql-runtime-error","Encountered an error when evaluating where clause",{where:e,error:u})),!0}}}catch(s){return n().warn(new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("sql-runtime-error","Encountered an error when evaluating where clause",{where:e,error:s})),r=>!0}}


/***/ })

};

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmVuZG9ycy1ub2RlX21vZHVsZXNfYXJjZ2lzX2NvcmVfZ2VvbWV0cnlfc3VwcG9ydF9ub3JtYWxpemVVdGlsc1N5bmNfanMtbm9kZV9tb2R1bGVzX2FyY2dpc19jLWNmMmExMi5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQzhkLGNBQWMsZUFBZSxjQUFjLGVBQWUsZ0JBQWdCLHVCQUF1Qiw2QkFBNkIsa0VBQUMsTUFBTSwwRUFBQyxpQkFBaUIsZUFBZSxRQUFRLHdFQUFDLGtCQUFrQiwrREFBQyxXQUFXLCtEQUFDLFNBQVMsR0FBRyxzREFBQyxvQkFBb0IsR0FBRywyREFBQyxrREFBa0QsR0FBRyx1REFBQyxrQkFBa0IsR0FBRyx3REFBQyxLQUFLLHlEQUFDLEtBQUssUUFBUSw0REFBQyxTQUFTLHdDQUF3QyxHQUFHLHlFQUFDLDJCQUEyQiw0RUFBQyxNQUFNLGlFQUFpRSxTQUFTLGdCQUFnQixlQUFlLGtDQUFrQyw4RUFBOEUscUdBQXFHLGtCQUFrQixxQkFBcUIsYUFBYSxRQUFRLFFBQVEseUVBQUMsTUFBTSxnQkFBZ0IsYUFBYSxRQUFRLHlFQUFDLE1BQU0saUJBQWlCLEtBQUssWUFBWSxRQUFRLFFBQVEseUVBQUMsTUFBTSxjQUFjLGFBQWEsUUFBUSx5RUFBQyxNQUFNLGVBQWUsU0FBUyxnQkFBZ0IsWUFBWSw0QkFBNEIsa0NBQWtDLFlBQVksY0FBYyxjQUFjLDBCQUEwQixVQUFVLFNBQVMsa0NBQWtDLElBQUksa0NBQWtDLElBQUksNEJBQTRCLElBQUksNEJBQTRCLFdBQVcsd0VBQXdFLGNBQWMsSUFBSSx3QkFBd0Isd0RBQXdELDBCQUEwQiw0QkFBNEIsYUFBYSw0QkFBNEIscUJBQXFCLDRCQUE0QixPQUFPLFNBQVMsZ0JBQWdCLHlCQUF5QixVQUFVLHNHQUFzRyxlQUFlLGdCQUFnQixNQUFNLDRCQUE0QixHQUFHLDhDQUE4QyxrQkFBa0Isa0RBQWtELHFCQUFxQixTQUFTLHlEQUFDLElB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SSxLQUFLLFlBQVksRUFBRSx3QkFBd0IsSUFBSSxrQkFBa0IsZUFBZSxTQUFTLEtBQUsseUJBQXlCLFNBQVMsT0FBTyxtREFBbUQsZ0JBQWdCLGNBQWMsWUFBWSxLQUFLLFlBQVksZUFBZSxLQUFLLFlBQVksZUFBZSx3QkFBd0IsU0FBUyw0QkFBNEIsU0FBUyxtREFBbUQsMkJBQTJCLFVBQVUscURBQXFELHFCQUFxQixNQUFNLFlBQVksbUJBQW1CLDRCQUE0QixZQUFZLE9BQU8sWUFBWSxtQkFBbUIsNEJBQTRCLFlBQVksT0FBTyxZQUFZLG1CQUFtQiw0QkFBNEIsWUFBWSxPQUFPLFlBQVksbUJBQW1CLDZCQUE2QixZQUFZLFFBQVEsWUFBWSxtQkFBbUIsNkJBQTZCLFlBQVksUUFBUSxZQUFZLG1CQUFtQiw2QkFBNkIsWUFBWSxNQUFNLFlBQVksbUJBQW1CLDZCQUE2QixTQUFTLFFBQVEsWUFBWSxtQkFBbUIsMkJBQTJCLFlBQVksUUFBUSwyQ0FBMkMsUUFBUSxZQUFZLG1CQUFtQixtQkFBbUIsWUFBWSxjQUFjLFlBQVksbUJBQW1CLEtBQUssMEJBQTBCLFVBQVUsRUFBRSxFQUFFLHVCQUF1QixXQUFXLFFBQVEsNEJBQTRCLElBQUksTUFBZ0M7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ0pwekQ7QUFDQTtBQUNBO0FBQ0E7QUFDdUosWUFBWSx1REFBQyx5REFBeUQsd0NBQXdDLHNCQUFzQixJQUFJLGNBQWMsOERBQUMsTUFBTSx1Q0FBdUMsc0RBQUMscURBQXFELFFBQVEsV0FBVyw4QkFBOEIsSUFBSSxnREFBZ0QsU0FBUyxvQkFBb0Isc0RBQUMsMEVBQTBFLGdCQUFnQixRQUFRLFNBQVMsb0JBQW9CLHNEQUFDLDBFQUEwRSxnQkFBZ0IsVUFBeUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wcmVjaXNpb25mYXJtcy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvZ2VvbWV0cnkvc3VwcG9ydC9ub3JtYWxpemVVdGlsc1N5bmMuanMiLCJ3ZWJwYWNrOi8vcHJlY2lzaW9uZmFybXMvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzJkL2FyY2FkZS9jYWxsRXhwcmVzc2lvbldpdGhDdXJzb3IuanMiLCJ3ZWJwYWNrOi8vcHJlY2lzaW9uZmFybXMvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzJkL2VuZ2luZS93ZWJnbC9tZXNoL01lc2hEYXRhLmpzIiwid2VicGFjazovL3ByZWNpc2lvbmZhcm1zLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8yZC9lbmdpbmUvd2ViZ2wvbWVzaC9WZXJ0ZXhEYXRhV3JpdGVyLmpzIiwid2VicGFjazovL3ByZWNpc2lvbmZhcm1zLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8yZC9lbmdpbmUvd2ViZ2wvbWVzaC9mYWN0b3JpZXMvUmVzb3VyY2VQcm94eS5qcyIsIndlYnBhY2s6Ly9wcmVjaXNpb25mYXJtcy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvMmQvZW5naW5lL3dlYmdsL3NoYWRlckdyYXBoL3RlY2huaXF1ZXMvbWVzaC9BUmVzb3VyY2VQcm94eS5qcyIsIndlYnBhY2s6Ly9wcmVjaXNpb25mYXJtcy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvMmQvZW5naW5lL3dlYmdsL3VybFV0aWxzLmpzIiwid2VicGFjazovL3ByZWNpc2lvbmZhcm1zLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8yZC9lbmdpbmUvd2ViZ2wvdXRpbC9Xcml0ZXIuanMiLCJ3ZWJwYWNrOi8vcHJlY2lzaW9uZmFybXMvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzJkL2VuZ2luZS93ZWJnbC91dGlsL2RlYnVnLmpzIiwid2VicGFjazovL3ByZWNpc2lvbmZhcm1zLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8yZC9sYXllcnMvZmVhdHVyZXMvRmVhdHVyZVN0b3JlUXVlcnlBZGFwdGVyLmpzIiwid2VicGFjazovL3ByZWNpc2lvbmZhcm1zLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8yZC9sYXllcnMvZmVhdHVyZXMvc3VwcG9ydC9BQ29tcHV0ZWRGaWVsZC5qcyIsIndlYnBhY2s6Ly9wcmVjaXNpb25mYXJtcy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvMmQvbGF5ZXJzL2ZlYXR1cmVzL3N1cHBvcnQvQXR0cmlidXRlU3RvcmUuanMiLCJ3ZWJwYWNrOi8vcHJlY2lzaW9uZmFybXMvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzJkL2xheWVycy9mZWF0dXJlcy9zdXBwb3J0L0NhY2hlZEZpZWxkLmpzIiwid2VicGFjazovL3ByZWNpc2lvbmZhcm1zLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8yZC9sYXllcnMvZmVhdHVyZXMvc3VwcG9ydC9Db21wdXRlZEF0dHJpYnV0ZVN0b3JhZ2UuanMiLCJ3ZWJwYWNrOi8vcHJlY2lzaW9uZmFybXMvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzJkL2xheWVycy9mZWF0dXJlcy9zdXBwb3J0L0NvbXB1dGVkRXhwcmVzc2lvbi5qcyIsIndlYnBhY2s6Ly9wcmVjaXNpb25mYXJtcy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvMmQvbGF5ZXJzL2ZlYXR1cmVzL3N1cHBvcnQvQ29tcHV0ZWRMZWdhY3lMYWJlbEV4cHJlc3Npb24uanMiLCJ3ZWJwYWNrOi8vcHJlY2lzaW9uZmFybXMvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzJkL2xheWVycy9mZWF0dXJlcy9zdXBwb3J0L0RpY3Rpb25hcnlUZW1wbGF0ZS5qcyIsIndlYnBhY2s6Ly9wcmVjaXNpb25mYXJtcy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvMmQvbGF5ZXJzL2ZlYXR1cmVzL3N1cHBvcnQvRGlzcGxheUlkR2VuZXJhdG9yLmpzIiwid2VicGFjazovL3ByZWNpc2lvbmZhcm1zLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8yZC9sYXllcnMvZmVhdHVyZXMvc3VwcG9ydC9GZWF0dXJlRmlsdGVyRXZhbHVhdG9yLmpzIiwid2VicGFjazovL3ByZWNpc2lvbmZhcm1zLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8yZC9sYXllcnMvZmVhdHVyZXMvc3VwcG9ydC9GZWF0dXJlTWV0YWRhdGEuanMiLCJ3ZWJwYWNrOi8vcHJlY2lzaW9uZmFybXMvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzJkL2xheWVycy9mZWF0dXJlcy9zdXBwb3J0L0ZlYXR1cmVTZXRDYWNoZS5qcyIsIndlYnBhY2s6Ly9wcmVjaXNpb25mYXJtcy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvMmQvbGF5ZXJzL2ZlYXR1cmVzL3N1cHBvcnQvRmVhdHVyZVNldFJlYWRlci5qcyIsIndlYnBhY2s6Ly9wcmVjaXNpb25mYXJtcy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvMmQvbGF5ZXJzL2ZlYXR1cmVzL3N1cHBvcnQvRmVhdHVyZVNldFJlYWRlckpTT04uanMiLCJ3ZWJwYWNrOi8vcHJlY2lzaW9uZmFybXMvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzJkL2xheWVycy9mZWF0dXJlcy9zdXBwb3J0L05vcm1hbGl6ZWRGaWVsZC5qcyIsIndlYnBhY2s6Ly9wcmVjaXNpb25mYXJtcy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvMmQvbGF5ZXJzL2ZlYXR1cmVzL3N1cHBvcnQvU3RhdGljQml0U2V0LmpzIiwid2VicGFjazovL3ByZWNpc2lvbmZhcm1zLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8yZC9sYXllcnMvZmVhdHVyZXMvc3VwcG9ydC93aGVyZVV0aWxzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjMzL2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7aXNTZXJpYWxpemFibGUgYXMgdH1mcm9tXCIuLi8uLi9jb3JlL3N1cHBvcnQvanNvblV0aWxzLmpzXCI7aW1wb3J0e2NyZWF0ZSBhcyBpfWZyb21cIi4vYWFCb3VuZGluZ1JlY3QuanNcIjtpbXBvcnR7Z2V0Qm91bmRzWFkgYXMgc31mcm9tXCIuL2JvdW5kc1V0aWxzLmpzXCI7aW1wb3J0e2Nsb3NlUmluZ3MgYXMgbn1mcm9tXCIuL2Nvb3Jkc1V0aWxzLmpzXCI7aW1wb3J0e2lzUG9pbnQgYXMgZSxpc011bHRpcG9pbnQgYXMgaCxpc0V4dGVudCBhcyBvLGlzUG9seWdvbiBhcyB1LGlzUG9seWxpbmUgYXMgcn1mcm9tXCIuL2pzb25VdGlscy5qc1wiO2ltcG9ydHtjdXRQYXJhbXMgYXMgbSx1cGRhdGVQb2x5R2VvbWV0cnkgYXMgeCxvZmZzZXRNYWduaXR1ZGUgYXMgbH1mcm9tXCIuL25vcm1hbGl6ZVV0aWxzQ29tbW9uLmpzXCI7aW1wb3J0e2dldEluZm8gYXMgXyxpc1dlYk1lcmNhdG9yIGFzIGN9ZnJvbVwiLi9zcGF0aWFsUmVmZXJlbmNlVXRpbHMuanNcIjtmdW5jdGlvbiBwKHQpe3JldHVybiBmKHQsITApfWZ1bmN0aW9uIGEodCl7cmV0dXJuIGYodCwhMSl9ZnVuY3Rpb24gZihpLG4pe2lmKG51bGw9PWkpcmV0dXJuIG51bGw7Y29uc3QgcD1pLnNwYXRpYWxSZWZlcmVuY2UsYT1fKHApLGY9dChpKT9pLnRvSlNPTigpOmk7aWYoIWEpcmV0dXJuIGY7Y29uc3QgST1jKHApPzEwMjEwMDo0MzI2LGc9bVtJXS5tYXhYLHY9bVtJXS5taW5YO2lmKGUoZikpcmV0dXJuIHkoZixnLHYpO2lmKGgoZikpcmV0dXJuIGYucG9pbnRzPWYucG9pbnRzLm1hcCgodD0+eSh0LGcsdikpKSxmO2lmKG8oZikpcmV0dXJuIGQoZixhKTtpZih1KGYpfHxyKGYpKXtjb25zdCB0PXMoVCxmKSxpPXt4bWluOnRbMF0seW1pbjp0WzFdLHhtYXg6dFsyXSx5bWF4OnRbM119LGU9bChpLnhtaW4sdikqKDIqZyksaD0wPT09ZT9mOngoZixlKTtyZXR1cm4gaS54bWluKz1lLGkueG1heCs9ZSxpLnhtYXg+Zz9DKGgsZyxuKTppLnhtaW48dj9DKGgsdixuKTpofXJldHVybiBmfWZ1bmN0aW9uIGQodCxpKXtpZighaSlyZXR1cm4gdDtjb25zdCBzPUkodCxpKS5tYXAoKHQ9PnQuZXh0ZW50KSk7cmV0dXJuIHMubGVuZ3RoPDI/c1swXXx8dDpzLmxlbmd0aD4yPyh0LnhtaW49aS52YWxpZFswXSx0LnhtYXg9aS52YWxpZFsxXSx0KTp7cmluZ3M6cy5tYXAoKHQ9PltbdC54bWluLHQueW1pbl0sW3QueG1pbix0LnltYXhdLFt0LnhtYXgsdC55bWF4XSxbdC54bWF4LHQueW1pbl0sW3QueG1pbix0LnltaW5dXSkpfX1mdW5jdGlvbiB5KHQsaSxzKXtpZihBcnJheS5pc0FycmF5KHQpKXtjb25zdCBuPXRbMF07aWYobj5pKXtjb25zdCBzPWwobixpKTt0WzBdPW4rcyooLTIqaSl9ZWxzZSBpZihuPHMpe2NvbnN0IGk9bChuLHMpO3RbMF09bitpKigtMipzKX19ZWxzZXtjb25zdCBuPXQueDtpZihuPmkpe2NvbnN0IHM9bChuLGkpO3QueCs9cyooLTIqaSl9ZWxzZSBpZihuPHMpe2NvbnN0IGk9bChuLHMpO3QueCs9aSooLTIqcyl9fXJldHVybiB0fWZ1bmN0aW9uIEkodCxpKXtjb25zdCBzPVtdLHt5bWluOm4seW1heDplLHhtaW46aCx4bWF4Om99PXQsdT10LnhtYXgtdC54bWluLFtyLG1dPWkudmFsaWQse3gsZnJhbWVJZDpsfT1nKHQueG1pbixpKSx7eDpfLGZyYW1lSWQ6Y309Zyh0LnhtYXgsaSkscD14PT09XyYmdT4wO2lmKHU+MiptKXtjb25zdCB0PXt4bWluOmg8bz94Ol8seW1pbjpuLHhtYXg6bSx5bWF4OmV9LGk9e3htaW46cix5bWluOm4seG1heDpoPG8/Xzp4LHltYXg6ZX0sdT17eG1pbjowLHltaW46bix4bWF4Om0seW1heDplfSxwPXt4bWluOnIseW1pbjpuLHhtYXg6MCx5bWF4OmV9LGE9W10sZj1bXTt2KHQsdSkmJmEucHVzaChsKSx2KHQscCkmJmYucHVzaChsKSx2KGksdSkmJmEucHVzaChjKSx2KGkscCkmJmYucHVzaChjKTtmb3IobGV0IHM9bCsxO3M8YztzKyspYS5wdXNoKHMpLGYucHVzaChzKTtzLnB1c2gobmV3IFAodCxbbF0pLG5ldyBQKGksW2NdKSxuZXcgUCh1LGEpLG5ldyBQKHAsZikpfWVsc2UgeD5ffHxwP3MucHVzaChuZXcgUCh7eG1pbjp4LHltaW46bix4bWF4Om0seW1heDplfSxbbF0pLG5ldyBQKHt4bWluOnIseW1pbjpuLHhtYXg6Xyx5bWF4OmV9LFtjXSkpOnMucHVzaChuZXcgUCh7eG1pbjp4LHltaW46bix4bWF4Ol8seW1heDplfSxbbF0pKTtyZXR1cm4gc31mdW5jdGlvbiBnKHQsaSl7Y29uc3RbcyxuXT1pLnZhbGlkLGU9MipuO2xldCBoLG89MDtyZXR1cm4gdD5uPyhoPU1hdGguY2VpbChNYXRoLmFicyh0LW4pL2UpLHQtPWgqZSxvPWgpOnQ8cyYmKGg9TWF0aC5jZWlsKE1hdGguYWJzKHQtcykvZSksdCs9aCplLG89LWgpLHt4OnQsZnJhbWVJZDpvfX1mdW5jdGlvbiB2KHQsaSl7Y29uc3R7eG1pbjpzLHltaW46bix4bWF4OmUseW1heDpofT1pO3JldHVybiBPKHQscyxuKSYmTyh0LHMsaCkmJk8odCxlLGgpJiZPKHQsZSxuKX1mdW5jdGlvbiBPKHQsaSxzKXtyZXR1cm4gaT49dC54bWluJiZpPD10LnhtYXgmJnM+PXQueW1pbiYmczw9dC55bWF4fWZ1bmN0aW9uIEModCxpLHM9ITApe2NvbnN0IGU9IXIodCk7aWYoZSYmbih0KSxzKXtyZXR1cm4obmV3IFMpLmN1dCh0LGkpfWNvbnN0IGg9ZT90LnJpbmdzOnQucGF0aHMsbz1lPzQ6Mix1PWgubGVuZ3RoLG09LTIqaTtmb3IobGV0IG49MDtuPHU7bisrKXtjb25zdCB0PWhbbl07aWYodCYmdC5sZW5ndGg+PW8pe2NvbnN0IGk9W107Zm9yKGNvbnN0IHMgb2YgdClpLnB1c2goW3NbMF0rbSxzWzFdXSk7aC5wdXNoKGkpfX1yZXR1cm4gZT90LnJpbmdzPWg6dC5wYXRocz1oLHR9Y2xhc3MgUHtjb25zdHJ1Y3Rvcih0LGkpe3RoaXMuZXh0ZW50PXQsdGhpcy5mcmFtZUlkcz1pfX1jb25zdCBUPWkoKTtjbGFzcyBTe2NvbnN0cnVjdG9yKCl7dGhpcy5fbGluZXNJbj1bXSx0aGlzLl9saW5lc091dD1bXX1jdXQodCxpKXtsZXQgcztpZih0aGlzLl94Q3V0PWksdC5yaW5ncyl0aGlzLl9jbG9zZWQ9ITAscz10LnJpbmdzLHRoaXMuX21pblB0cz00O2Vsc2V7aWYoIXQucGF0aHMpcmV0dXJuIG51bGw7dGhpcy5fY2xvc2VkPSExLHM9dC5wYXRocyx0aGlzLl9taW5QdHM9Mn1mb3IoY29uc3QgZSBvZiBzKXtpZighZXx8ZS5sZW5ndGg8dGhpcy5fbWluUHRzKWNvbnRpbnVlO2xldCB0PSEwO2Zvcihjb25zdCBpIG9mIGUpdD8odGhpcy5tb3ZlVG8oaSksdD0hMSk6dGhpcy5saW5lVG8oaSk7dGhpcy5fY2xvc2VkJiZ0aGlzLmNsb3NlKCl9dGhpcy5fcHVzaExpbmVJbigpLHRoaXMuX3B1c2hMaW5lT3V0KCkscz1bXTtmb3IoY29uc3QgZSBvZiB0aGlzLl9saW5lc0luKWUmJmUubGVuZ3RoPj10aGlzLl9taW5QdHMmJnMucHVzaChlKTtjb25zdCBuPS0yKnRoaXMuX3hDdXQ7Zm9yKGNvbnN0IGUgb2YgdGhpcy5fbGluZXNPdXQpaWYoZSYmZS5sZW5ndGg+PXRoaXMuX21pblB0cyl7Zm9yKGNvbnN0IHQgb2YgZSl0WzBdKz1uO3MucHVzaChlKX1yZXR1cm4gdGhpcy5fY2xvc2VkP3QucmluZ3M9czp0LnBhdGhzPXMsdH1tb3ZlVG8odCl7dGhpcy5fcHVzaExpbmVJbigpLHRoaXMuX3B1c2hMaW5lT3V0KCksdGhpcy5fcHJldlNpZGU9dGhpcy5fc2lkZSh0WzBdKSx0aGlzLl9tb3ZlVG8odFswXSx0WzFdLHRoaXMuX3ByZXZTaWRlKSx0aGlzLl9wcmV2UHQ9dCx0aGlzLl9maXJzdFB0PXR9bGluZVRvKHQpe2NvbnN0IGk9dGhpcy5fc2lkZSh0WzBdKTtpZihpKnRoaXMuX3ByZXZTaWRlPT09LTEpe2NvbnN0IHM9dGhpcy5faW50ZXJzZWN0KHRoaXMuX3ByZXZQdCx0KTt0aGlzLl9saW5lVG8odGhpcy5feEN1dCxzLDApLHRoaXMuX3ByZXZTaWRlPTAsdGhpcy5fbGluZVRvKHRbMF0sdFsxXSxpKX1lbHNlIHRoaXMuX2xpbmVUbyh0WzBdLHRbMV0saSk7dGhpcy5fcHJldlNpZGU9aSx0aGlzLl9wcmV2UHQ9dH1jbG9zZSgpe2NvbnN0IHQ9dGhpcy5fZmlyc3RQdCxpPXRoaXMuX3ByZXZQdDt0WzBdPT09aVswXSYmdFsxXT09PWlbMV18fHRoaXMubGluZVRvKHQpLHRoaXMuX2NoZWNrQ2xvc2luZ1B0KHRoaXMuX2xpbmVJbiksdGhpcy5fY2hlY2tDbG9zaW5nUHQodGhpcy5fbGluZU91dCl9X21vdmVUbyh0LGkscyl7dGhpcy5fY2xvc2VkPyh0aGlzLl9saW5lSW4ucHVzaChbczw9MD90OnRoaXMuX3hDdXQsaV0pLHRoaXMuX2xpbmVPdXQucHVzaChbcz49MD90OnRoaXMuX3hDdXQsaV0pKTooczw9MCYmdGhpcy5fbGluZUluLnB1c2goW3QsaV0pLHM+PTAmJnRoaXMuX2xpbmVPdXQucHVzaChbdCxpXSkpfV9saW5lVG8odCxpLHMpe3RoaXMuX2Nsb3NlZD8oaih0aGlzLl9saW5lSW4sczw9MD90OnRoaXMuX3hDdXQsaSksaih0aGlzLl9saW5lT3V0LHM+PTA/dDp0aGlzLl94Q3V0LGkpKTpzPDA/KDA9PT10aGlzLl9wcmV2U2lkZSYmdGhpcy5fcHVzaExpbmVPdXQoKSx0aGlzLl9saW5lSW4ucHVzaChbdCxpXSkpOnM+MD8oMD09PXRoaXMuX3ByZXZTaWRlJiZ0aGlzLl9wdXNoTGluZUluKCksdGhpcy5fbGluZU91dC5wdXNoKFt0LGldKSk6dGhpcy5fcHJldlNpZGU8MD8odGhpcy5fbGluZUluLnB1c2goW3QsaV0pLHRoaXMuX2xpbmVPdXQucHVzaChbdCxpXSkpOnRoaXMuX3ByZXZTaWRlPjAmJih0aGlzLl9saW5lT3V0LnB1c2goW3QsaV0pLHRoaXMuX2xpbmVJbi5wdXNoKFt0LGldKSl9X2NoZWNrQ2xvc2luZ1B0KHQpe2NvbnN0IGk9dC5sZW5ndGg7aT4zJiZ0WzBdWzBdPT09dGhpcy5feEN1dCYmdFtpLTJdWzBdPT09dGhpcy5feEN1dCYmdFsxXVswXT09PXRoaXMuX3hDdXQmJih0WzBdWzFdPXRbaS0yXVsxXSx0LnBvcCgpKX1fc2lkZSh0KXtyZXR1cm4gdDx0aGlzLl94Q3V0Py0xOnQ+dGhpcy5feEN1dD8xOjB9X2ludGVyc2VjdCh0LGkpe2NvbnN0IHM9KHRoaXMuX3hDdXQtdFswXSkvKGlbMF0tdFswXSk7cmV0dXJuIHRbMV0rcyooaVsxXS10WzFdKX1fcHVzaExpbmVJbigpe3RoaXMuX2xpbmVJbiYmdGhpcy5fbGluZUluLmxlbmd0aD49dGhpcy5fbWluUHRzJiZ0aGlzLl9saW5lc0luLnB1c2godGhpcy5fbGluZUluKSx0aGlzLl9saW5lSW49W119X3B1c2hMaW5lT3V0KCl7dGhpcy5fbGluZU91dCYmdGhpcy5fbGluZU91dC5sZW5ndGg+PXRoaXMuX21pblB0cyYmdGhpcy5fbGluZXNPdXQucHVzaCh0aGlzLl9saW5lT3V0KSx0aGlzLl9saW5lT3V0PVtdfX1mdW5jdGlvbiBqKHQsaSxzKXtjb25zdCBuPXQubGVuZ3RoO24+MSYmdFtuLTFdWzBdPT09aSYmdFtuLTJdWzBdPT09aT90W24tMV1bMV09czp0LnB1c2goW2ksc10pfWV4cG9ydHtTIGFzIEN1dFZlcnRpY2FsLGEgYXMgbm9ybWFsaXplQ2VudHJhbE1lcmlkaWFuRm9yRGlzcGxheSxwIGFzIG5vcm1hbGl6ZUNlbnRyYWxNZXJpZGlhblN5bmN9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMzMvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydFwiLi4vLi4vLi4vY29yZS9oYXMuanNcIjtpbXBvcnQgZSBmcm9tXCIuLi8uLi8uLi9jb3JlL0xvZ2dlci5qc1wiO2Z1bmN0aW9uIG4obixyLHQpe2lmKG51bGw9PW4pcmV0dXJuIG51bGw7Y29uc3QgdT1yLnJlYWRBcmNhZGVGZWF0dXJlKCk7ci5jb250ZXh0VGltZVpvbmU9dC4kdmlldz8udGltZVpvbmU7dHJ5e3JldHVybiBuLmV2YWx1YXRlKHUsdCl9Y2F0Y2goYSl7cmV0dXJuIGUuZ2V0TG9nZ2VyKFwiZXNyaS52aWV3cy4yZC5zdXBwb3J0LmFyY2FkZU9uRGVtYW5kXCIpLndhcm4oXCJGZWF0dXJlIGFyY2FkZSBldmFsdWF0aW9uIGZhaWxlZDpcIixhKSxudWxsfX1mdW5jdGlvbiByKGUpe3JldHVybiBudWxsPT1lfHxlPT09MS8wfHxlPT09LTEvMHx8XCJudW1iZXJcIj09dHlwZW9mIGUmJmlzTmFOKGUpfWZ1bmN0aW9uIHQoZSxuLHQsdSl7aWYobnVsbD09ZSlyZXR1cm4gbnVsbCE9dT91Om51bGw7Y29uc3QgYT1uLnJlYWRBcmNhZGVGZWF0dXJlKCk7bi5jb250ZXh0VGltZVpvbmU9dC4kdmlldz8udGltZVpvbmU7Y29uc3Qgbz1lLmV2YWx1YXRlKGEsdCk7cmV0dXJuIHIobyk/bnVsbCE9dT91Om51bGw6b31leHBvcnR7biBhcyBjYWxsRXhwcmVzc2lvbldpdGhDdXJzb3IsdCBhcyBjYWxsRXhwcmVzc2lvbldpdGhDdXJzb3JXaXRoRGVmYXVsdCxyIGFzIGlzQmFkQXJjYWRlUmVzdWx0fTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjMzL2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnQgdCBmcm9tXCIuLi9EaXNwbGF5RW50aXR5LmpzXCI7aW1wb3J0IGUgZnJvbVwiLi4vRGlzcGxheVJlY29yZC5qc1wiO2ltcG9ydHtWZXJ0ZXhEYXRhV3JpdGVyIGFzIHJ9ZnJvbVwiLi9WZXJ0ZXhEYXRhV3JpdGVyLmpzXCI7aW1wb3J0IGkgZnJvbVwiLi4vdXRpbC9Xcml0ZXIuanNcIjtjbGFzcyBue2NvbnN0cnVjdG9yKGUscj0wKXt0aGlzLl9pZD1lLHRoaXMuX3NpemVIaW50PXIsdGhpcy5fZW50aXR5UmVjb3JkQ291bnRPZmZzZXQ9MCx0aGlzLl9lbnRpdHlDb3VudE9mZnNldD0wLHRoaXMuX2VudGl0eUlkSW5kZXg9MCx0aGlzLl9lbnRpdHlTb3J0S2V5SW5kZXg9MCx0aGlzLl9kaWRFbnRpdHlTdGFydD0hMSx0aGlzLl9pbnN0YW5jZUlkVG9WZXJ0ZXhEYXRhPW5ldyBNYXAsdGhpcy5fcmVjb3JkSW5kZXhTdGFydD0wLHRoaXMuX3JlY29yZEluZGV4Q291bnQ9MCx0aGlzLl9yZWNvcmRWZXJ0ZXhTdGFydD0wLHRoaXMuX3JlY29yZFZlcnRleENvdW50PTAsdGhpcy5fY3VycmVudD17bWV0cmljOm51bGwsd3JpdGVyOm51bGwsc3RhcnQ6MCxzb3J0S2V5OjAsaW5zdGFuY2VJZDowLGxheW91dEhhc2g6MCxpbmRleFN0YXJ0OjAsdmVydGV4U3RhcnQ6MCx0ZXh0dXJlS2V5OjAsbWV0cmljQm94TGVuUG9pbnRlcjowfSx0aGlzLl9lbnRpdGllcz1uZXcgaShVaW50MzJBcnJheSx0aGlzLl9zaXplSGludCp0LmJ5dGVTaXplSGludCksdGhpcy5fZW50aXR5Q291bnRPZmZzZXQ9dGhpcy5fZW50aXRpZXMucHVzaCgwKX1nZXQgaWQoKXtyZXR1cm4gdGhpcy5faWR9c2VyaWFsaXplKCl7Y29uc3QgdD1uZXcgQXJyYXksZT1bXSxyPXRoaXMuX2VudGl0aWVzLmJ1ZmZlcigpO2Zvcihjb25zdCBpIG9mIHRoaXMuX2luc3RhbmNlSWRUb1ZlcnRleERhdGEudmFsdWVzKCkpZS5wdXNoKGkuc2VyaWFsaXplKHQpKTtyZXR1cm57bWVzc2FnZTp7ZGF0YTplLGVudGl0aWVzOnJ9LHRyYW5zZmVyTGlzdDp0fX12ZXJ0ZXhTdGFydCgpe3JldHVybiB0aGlzLl9jdXJyZW50LnZlcnRleFN0YXJ0Pz8wfXZlcnRleENvdW50KCl7cmV0dXJuIHRoaXMuX2N1cnJlbnQud3JpdGVyPy52ZXJ0ZXhDb3VudD8/MH1pbmRleENvdW50KCl7cmV0dXJuIHRoaXMuX2N1cnJlbnQud3JpdGVyPy5pbmRleENvdW50Pz8wfXZlcnRleEVuc3VyZVNpemUodCl7dGhpcy5fY3VycmVudC53cml0ZXIudmVydGV4RW5zdXJlU2l6ZSh0KX1pbmRleEVuc3VyZVNpemUodCl7dGhpcy5fY3VycmVudC53cml0ZXIuaW5kZXhFbnN1cmVTaXplKHQpfXZlcnRleFdyaXRlKHQpe3RoaXMuX2N1cnJlbnQud3JpdGVyLndyaXRlVmVydGV4KHQpfXZlcnRleFdyaXRlUmVnaW9uKHQpe3RoaXMuX2N1cnJlbnQud3JpdGVyLndyaXRlVmVydGV4UmVnaW9uKHQpfXZlcnRleFdyaXRlRjMyKHQpe3RoaXMuX2N1cnJlbnQud3JpdGVyLndyaXRlVmVydGV4RjMyKHQpfXJlY29yZEJvdW5kcyh0LGUscixpKXt9aW5kZXhXcml0ZSh0KXt0aGlzLl9jdXJyZW50LndyaXRlci53cml0ZUluZGV4KHQpfW1ldHJpY1N0YXJ0KHQpe3RoaXMuX2N1cnJlbnQubWV0cmljPXQsdGhpcy5fY3VycmVudC5tZXRyaWMucmVjb3JkU3RhcnQ9dGhpcy5yZWNvcmRDb3VudCgpfW1ldHJpY0VuZCgpe2NvbnN0IHQ9dGhpcy5fY3VycmVudC53cml0ZXI7dGhpcy5fY3VycmVudC5tZXRyaWMmJih0aGlzLl9jdXJyZW50Lm1ldHJpYy5yZWNvcmRDb3VudD10aGlzLnJlY29yZENvdW50KCktdGhpcy5fY3VycmVudC5tZXRyaWMucmVjb3JkU3RhcnQpLHRoaXMuX2N1cnJlbnQubWV0cmljPy5ib3VuZHMubGVuZ3RoJiZ0aGlzLl9jdXJyZW50Lm1ldHJpYz8ucmVjb3JkQ291bnQ/KHQud3JpdGVNZXRyaWModGhpcy5fY3VycmVudC5tZXRyaWMpLHRoaXMuX2N1cnJlbnQubWV0cmljPW51bGwpOnRoaXMuX2N1cnJlbnQubWV0cmljPW51bGx9bWV0cmljQm94V3JpdGUodCl7dGhpcy5fY3VycmVudC5tZXRyaWMuYm91bmRzLnB1c2godCl9ZW50aXR5U3RhcnQodCxlPXQpe3RoaXMuX2VudGl0eUlkSW5kZXg9dGhpcy5fZW50aXRpZXMucHVzaCh0KSx0aGlzLl9lbnRpdHlTb3J0S2V5SW5kZXg9dGhpcy5fZW50aXRpZXMud3JpdGVGMzIoZSksdGhpcy5fZW50aXR5UmVjb3JkQ291bnRPZmZzZXQ9dGhpcy5fZW50aXRpZXMucHVzaCgwKSx0aGlzLl9kaWRFbnRpdHlTdGFydD0hMH1lbnRpdHlSZWNvcmRDb3VudCgpe3JldHVybiB0aGlzLl9lbnRpdGllcy5nZXRWYWx1ZSh0aGlzLl9lbnRpdHlSZWNvcmRDb3VudE9mZnNldCl9ZW50aXR5RW5kKCl7aWYoIXRoaXMuX2RpZEVudGl0eVN0YXJ0KXJldHVybjswPT09dGhpcy5lbnRpdHlSZWNvcmRDb3VudCgpP3RoaXMuX2VudGl0aWVzLnNlZWsodGhpcy5fZW50aXR5SWRJbmRleCk6dGhpcy5fZW50aXRpZXMuaW5jcih0aGlzLl9lbnRpdHlDb3VudE9mZnNldCksdGhpcy5fZGlkRW50aXR5U3RhcnQ9ITF9cmVjb3JkQ291bnQoKXtyZXR1cm4gdGhpcy5fZW50aXRpZXMuZ2V0VmFsdWUodGhpcy5fZW50aXR5UmVjb3JkQ291bnRPZmZzZXQpfXJlY29yZFN0YXJ0KHQsZSxyPTApe3RoaXMuX2N1cnJlbnQud3JpdGVyPXRoaXMuX2dldFZlcnRleFdyaXRlcih0LGUpLHRoaXMuX2N1cnJlbnQuaW5kZXhTdGFydD10aGlzLl9jdXJyZW50LndyaXRlci5pbmRleENvdW50LHRoaXMuX2N1cnJlbnQudmVydGV4U3RhcnQ9dGhpcy5fY3VycmVudC53cml0ZXIudmVydGV4Q291bnQsdGhpcy5fY3VycmVudC5pbnN0YW5jZUlkPXQsdGhpcy5fY3VycmVudC5sYXlvdXRIYXNoPWUuaGFzaCx0aGlzLl9jdXJyZW50LnRleHR1cmVLZXk9cn1yZWNvcmRFbmQodD0wKXtjb25zdCByPXRoaXMuX2N1cnJlbnQudmVydGV4U3RhcnQsaT10aGlzLl9jdXJyZW50LndyaXRlci52ZXJ0ZXhDb3VudC1yO2lmKCFpKXJldHVybiExO2NvbnN0IG49dGhpcy5fY3VycmVudC5pbmRleFN0YXJ0LHM9dGhpcy5fY3VycmVudC53cml0ZXIuaW5kZXhDb3VudC1uO3JldHVybiB0aGlzLl9yZWNvcmRJbmRleFN0YXJ0PW4sdGhpcy5fcmVjb3JkSW5kZXhDb3VudD1zLHRoaXMuX3JlY29yZFZlcnRleFN0YXJ0PXIsdGhpcy5fcmVjb3JkVmVydGV4Q291bnQ9aSx0aGlzLl9lbnRpdGllcy5pbmNyKHRoaXMuX2VudGl0eVJlY29yZENvdW50T2Zmc2V0KSxlLndyaXRlKHRoaXMuX2VudGl0aWVzLHRoaXMuX2N1cnJlbnQuaW5zdGFuY2VJZCx0aGlzLl9jdXJyZW50LnRleHR1cmVLZXksbixzLHIsaSx0KSwhMH1jb3B5TGFzdCh0LHIpe2NvbnN0IGk9dGhpcy5fcmVjb3JkVmVydGV4U3RhcnQrdGhpcy5fcmVjb3JkVmVydGV4Q291bnQ7dGhpcy5fZW50aXRpZXMuaW5jcih0aGlzLl9lbnRpdHlSZWNvcmRDb3VudE9mZnNldCksZS53cml0ZSh0aGlzLl9lbnRpdGllcyx0aGlzLl9jdXJyZW50Lmluc3RhbmNlSWQsdGhpcy5fY3VycmVudC50ZXh0dXJlS2V5LHRoaXMuX3JlY29yZEluZGV4U3RhcnQrdGhpcy5fcmVjb3JkSW5kZXhDb3VudCx0aGlzLl9yZWNvcmRJbmRleENvdW50LGksdGhpcy5fcmVjb3JkVmVydGV4Q291bnQsMCk7Y29uc3Qgbj10aGlzLl9jdXJyZW50LndyaXRlci5pbmRleFdyaXRlcixzPXRoaXMuX2N1cnJlbnQud3JpdGVyLnZlcnRleFdyaXRlcixjPXRoaXMuX3JlY29yZEluZGV4U3RhcnQrdGhpcy5fcmVjb3JkSW5kZXhDb3VudCxvPXRoaXMuX3JlY29yZFZlcnRleENvdW50O2ZvcihsZXQgZT10aGlzLl9yZWNvcmRJbmRleFN0YXJ0O2UhPT1jO2UrKyl7Y29uc3QgdD1uLmdldFZhbHVlKGUpO24ucHVzaCh0K28pfWNvbnN0IHU9dGhpcy5fY3VycmVudC53cml0ZXIubGF5b3V0LnN0cmlkZS9VaW50MzJBcnJheS5CWVRFU19QRVJfRUxFTUVOVCxoPXRoaXMuX3JlY29yZFZlcnRleFN0YXJ0KnUsXz0odGhpcy5fcmVjb3JkVmVydGV4U3RhcnQrdGhpcy5fcmVjb3JkVmVydGV4Q291bnQpKnU7Zm9yKGxldCBlPWg7ZSE9PV87ZSsrKXtjb25zdCB0PXMuZ2V0VmFsdWUoZSk7cy5wdXNoKHQpfWNvbnN0IGQ9dGhpcy5fY3VycmVudC53cml0ZXIubGF5b3V0LnBvc2l0aW9uLGE9ZC5wYWNrUHJlY2lzaW9uRmFjdG9yPz8xLHg9ZC5vZmZzZXQvVWludDMyQXJyYXkuQllURVNfUEVSX0VMRU1FTlQseT10KmEsUz1yKmE7Zm9yKGxldCBlPWkqdTtlPD1zLmxlbmd0aDtlKz11KXMuaTE2MTZBZGQoZSt4LHksUyl9Y29weUxhc3RGcm9tKHQsZSxyKXtjb25zdCBpPXQuX2VudGl0aWVzLmdldFZhbHVlKHQuX2VudGl0eUlkSW5kZXgpO2lmKGkhPT10aGlzLl9lbnRpdGllcy5nZXRWYWx1ZSh0aGlzLl9lbnRpdHlJZEluZGV4KSl7Y29uc3QgZT10Ll9lbnRpdGllcy5nZXRWYWx1ZUYzMih0Ll9lbnRpdHlTb3J0S2V5SW5kZXgpO3RoaXMuZW50aXR5U3RhcnQoaSxlKX10aGlzLnJlY29yZFN0YXJ0KHQuX2N1cnJlbnQuaW5zdGFuY2VJZCx0Ll9jdXJyZW50LndyaXRlci5sYXlvdXQsdC5fY3VycmVudC50ZXh0dXJlS2V5KTtjb25zdCBuPXRoaXMuX2N1cnJlbnQud3JpdGVyLmxheW91dC5zdHJpZGUvVWludDMyQXJyYXkuQllURVNfUEVSX0VMRU1FTlQscz10aGlzLl9jdXJyZW50LnZlcnRleFN0YXJ0LGM9dC5fY3VycmVudC52ZXJ0ZXhTdGFydC1zLG89dGhpcy5fY3VycmVudC53cml0ZXIuaW5kZXhXcml0ZXIsdT10aGlzLl9jdXJyZW50LndyaXRlci52ZXJ0ZXhXcml0ZXIsaD10Ll9jdXJyZW50LndyaXRlci5pbmRleFdyaXRlcixfPXQuX2N1cnJlbnQud3JpdGVyLnZlcnRleFdyaXRlcjtmb3IobGV0IGw9dC5fY3VycmVudC5pbmRleFN0YXJ0O2whPT1oLmxlbmd0aDtsKyspe2NvbnN0IHQ9aC5nZXRWYWx1ZShsKTtvLnB1c2godC1jKX1mb3IobGV0IGw9dC5fY3VycmVudC52ZXJ0ZXhTdGFydCpuO2whPT1fLmxlbmd0aDtsKyspe2NvbnN0IHQ9Xy5nZXRWYWx1ZShsKTt1LnB1c2godCl9Y29uc3QgZD10aGlzLl9jdXJyZW50LndyaXRlci5sYXlvdXQucG9zaXRpb24sYT1kLnBhY2tQcmVjaXNpb25GYWN0b3I/PzEseD1kLm9mZnNldC9VaW50MzJBcnJheS5CWVRFU19QRVJfRUxFTUVOVCx5PWUqYSxTPXIqYTtmb3IobGV0IGw9cypuO2w8PXUubGVuZ3RoO2wrPW4pdS5pMTYxNkFkZChsK3gseSxTKTt0aGlzLnJlY29yZEVuZCgpfV9nZXRWZXJ0ZXhXcml0ZXIodCxlKXtjb25zdCBpPXRoaXMuX2luc3RhbmNlSWRUb1ZlcnRleERhdGE7cmV0dXJuIGkuaGFzKHQpfHxpLnNldCh0LG5ldyByKHQsZSx0aGlzLl9zaXplSGludCkpLGkuZ2V0KHQpfX1leHBvcnR7biBhcyBNZXNoRGF0YX07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4zMy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0IHQgZnJvbVwiLi4vdXRpbC9Xcml0ZXIuanNcIjtjb25zdCBlPTYsaT00O2NsYXNzIHJ7Y29uc3RydWN0b3IocixzLG49MCl7Y29uc3QgYz1lKm4qVWludDMyQXJyYXkuQllURVNfUEVSX0VMRU1FTlQsaD1pKm4qcy5zdHJpZGUsdT1zLnN0cmlkZS80LF89cy5hdHRyaWJ1dGVzLmZpbmQoKHQ9PlwicG9zXCI9PT10Lm5hbWV8fFwicG9zaXRpb25cIj09PXQubmFtZSkpO2lmKCFfKXRocm93IG5ldyBFcnJvcihcIkludGVybmFsRXJyb3I6IFVuYWJsZSB0byBmaW5kIHBvc2l0aW9uIGF0dHJpYnV0ZVwiKTt0aGlzLmxheW91dD17Li4ucyxwb3NpdGlvbjpffSx0aGlzLl9pbmRpY2VzPW5ldyB0KFVpbnQzMkFycmF5LGMpLHRoaXMuX3ZlcnRpY2VzPW5ldyB0KFVpbnQzMkFycmF5LGgpLHRoaXMuX21ldHJpY3M9bmV3IHQoVWludDMyQXJyYXksMCksdGhpcy5fbWV0cmljQ291bnRPZmZzZXQ9dGhpcy5fbWV0cmljcy5wdXNoKDApLHRoaXMuX3N0cmlkZUludD11LHRoaXMuX2luc3RhbmNlSWQ9cn1zZXJpYWxpemUodCl7Y29uc3QgZT10aGlzLl9pbmRpY2VzLmJ1ZmZlcigpLGk9dGhpcy5fdmVydGljZXMuYnVmZmVyKCkscj10aGlzLl9tZXRyaWNzLmxlbmd0aD90aGlzLl9tZXRyaWNzLmJ1ZmZlcigpOm51bGw7cmV0dXJuIHQucHVzaChlLGkpLHtpbnN0YW5jZUlkOnRoaXMuX2luc3RhbmNlSWQsbGF5b3V0OnRoaXMubGF5b3V0LGluZGljZXM6ZSx2ZXJ0aWNlczppLG1ldHJpY3M6cn19Z2V0IHN0cmlkZUludCgpe3JldHVybiB0aGlzLl9zdHJpZGVJbnR9Z2V0IHZlcnRleENvdW50KCl7cmV0dXJuIHRoaXMuX3ZlcnRpY2VzLmxlbmd0aC90aGlzLl9zdHJpZGVJbnR9Z2V0IGluZGV4Q291bnQoKXtyZXR1cm4gdGhpcy5faW5kaWNlcy5sZW5ndGh9Z2V0IGluZGV4V3JpdGVyKCl7cmV0dXJuIHRoaXMuX2luZGljZXN9Z2V0IHZlcnRleFdyaXRlcigpe3JldHVybiB0aGlzLl92ZXJ0aWNlc31nZXQgbWV0cmljV3JpdGVyKCl7cmV0dXJuIHRoaXMuX21ldHJpY3N9dmVydGV4RW5zdXJlU2l6ZSh0KXt0aGlzLl92ZXJ0aWNlcy5lbnN1cmVTaXplKHQpfWluZGV4RW5zdXJlU2l6ZSh0KXt0aGlzLl9pbmRpY2VzLmVuc3VyZVNpemUodCl9d3JpdGVJbmRleCh0KXt0aGlzLl9pbmRpY2VzLnB1c2godCl9d3JpdGVWZXJ0ZXgodCl7dGhpcy5fdmVydGljZXMucHVzaCh0KX13cml0ZVZlcnRleFJlZ2lvbih0KXt0aGlzLl92ZXJ0aWNlcy53cml0ZVJlZ2lvbih0KX13cml0ZVZlcnRleEYzMih0KXt0aGlzLl92ZXJ0aWNlcy53cml0ZUYzMih0KX13cml0ZU1ldHJpYyh0KXt0aGlzLl9tZXRyaWNzLmluY3IodGhpcy5fbWV0cmljQ291bnRPZmZzZXQpLHQuc2VyaWFsaXplKHRoaXMuX21ldHJpY3MpfX1leHBvcnR7ciBhcyBWZXJ0ZXhEYXRhV3JpdGVyfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjMzL2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7bnVtZXJpY0hhc2ggYXMgZX1mcm9tXCIuLi8uLi8uLi8uLi8uLi8uLi9jb3JlL3N0cmluZy5qc1wiO2ltcG9ydHtkaXNjYXJkVXJsSWZIYXNVcmxIYXNoIGFzIHR9ZnJvbVwiLi4vLi4vdXJsVXRpbHMuanNcIjtpbXBvcnR7QVJlc291cmNlUHJveHkgYXMgcn1mcm9tXCIuLi8uLi9zaGFkZXJHcmFwaC90ZWNobmlxdWVzL21lc2gvQVJlc291cmNlUHJveHkuanNcIjtjbGFzcyBzIGV4dGVuZHMgcntjb25zdHJ1Y3RvcihlKXtzdXBlcigpLHRoaXMuX2ZldGNoZXI9ZSx0aGlzLl9jb250cm9sbGVyPW5ldyBBYm9ydENvbnRyb2xsZXIsdGhpcy5fcGVuZGluZ0lkcz1uZXcgU2V0LHRoaXMuX3BlbmRpbmdSZXF1ZXN0cz1bXSx0aGlzLl9yZXNvdXJjZUlkVG9SZXNvdXJjZT1uZXcgTWFwfWRlc3Ryb3koKXt0aGlzLl9jb250cm9sbGVyLmFib3J0KCl9Z2V0IF9hYm9ydE9wdGlvbnMoKXtyZXR1cm57c2lnbmFsOnRoaXMuX2NvbnRyb2xsZXIuc2lnbmFsfX1lbnF1ZXVlUmVxdWVzdChyKXtjb25zdCBzPXQoci5yZXNvdXJjZSksbz1lKEpTT04uc3RyaW5naWZ5KHMpKTtyZXR1cm4gdGhpcy5fcGVuZGluZ0lkcy5oYXMobyl8fCh0aGlzLl9wZW5kaW5nSWRzLmFkZChvKSx0aGlzLl9wZW5kaW5nUmVxdWVzdHMucHVzaCh7Li4ucixyZXNvdXJjZUlkOm99KSksb31hc3luYyBmZXRjaEVucXVldWVkUmVzb3VyY2VzKCl7Y29uc3QgZT10aGlzLl9wZW5kaW5nUmVxdWVzdHM7aWYodGhpcy5fcGVuZGluZ0lkcy5jbGVhcigpLHRoaXMuX3BlbmRpbmdSZXF1ZXN0cz1bXSwwPT09ZS5sZW5ndGgpcmV0dXJuO2NvbnN0IHQ9YXdhaXQgdGhpcy5fZmV0Y2hlci5mZXRjaChlLHRoaXMuX2Fib3J0T3B0aW9ucyk7Zm9yKGxldCByPTA7cjx0Lmxlbmd0aDtyKyspe2NvbnN0IHM9ZVtyXS5yZXNvdXJjZUlkO3RoaXMuX3Jlc291cmNlSWRUb1Jlc291cmNlLnNldChzLHRbcl0pfX1hc3luYyBmZXRjaFJlc291cmNlSW1tZWRpYXRlKGUpe2NvbnN0IHQ9YXdhaXQgdGhpcy5fZmV0Y2hlci5mZXRjaChbZV0pO2lmKDEhPT10Lmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoXCJGZWF0dXJlUGlwZWxpbmVSZXNvdXJjZVByb3h5OiBmYWlsZWQgdG8gZmV0Y2ggcmVzb3VyY2VzXCIpO3JldHVybiB0WzBdfWFzeW5jIGZldGNoRGljdGlvbmFyeVJlc291cmNlSW1tZWRpYXRlKGUpe2NvbnN0IHQ9YXdhaXQgdGhpcy5fZmV0Y2hlci5mZXRjaERpY3Rpb25hcnkoW2VdKTtpZigxIT09dC5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKFwiRmVhdHVyZVBpcGVsaW5lUmVzb3VyY2VQcm94eTogZmFpbGVkIHRvIGZldGNoIGRpY3Rpb25hcnkgcmVzb3VyY2VzXCIpO3JldHVybiB0WzBdfWdldFJlc291cmNlKGUpe3JldHVybiB0aGlzLl9yZXNvdXJjZUlkVG9SZXNvdXJjZS5nZXQoZSl9fWV4cG9ydHtzIGFzIFJlc291cmNlUHJveHl9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMzMvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmNsYXNzIHN7fWV4cG9ydHtzIGFzIEFSZXNvdXJjZVByb3h5fTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjMzL2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5mdW5jdGlvbiByKHIpe3JldHVyblwidXJsXCJpbiByJiZcInVybEhhc2hcImluIHI/ey4uLnIsdXJsOlwiXCJ9OnJ9ZXhwb3J0e3IgYXMgZGlzY2FyZFVybElmSGFzVXJsSGFzaH07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4zMy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuY29uc3QgdD0xLjI1O2NsYXNzIHJ7Z2V0IGxlbmd0aCgpe3JldHVybiB0aGlzLl9wb3N9Y29uc3RydWN0b3IodCxyKXt0aGlzLl9wb3M9MDtjb25zdCBlPXI/dGhpcy5fcm91bmRUb05lYXJlc3Qocix0LkJZVEVTX1BFUl9FTEVNRU5UKTo0MDt0aGlzLl9hcnJheT1uZXcgQXJyYXlCdWZmZXIoZSksdGhpcy5fYnVmZmVyPW5ldyB0KHRoaXMuX2FycmF5KSx0aGlzLl9jdG9yPXQsdGhpcy5faTE2Vmlldz1uZXcgSW50MTZBcnJheSh0aGlzLl9hcnJheSl9X3JvdW5kVG9OZWFyZXN0KHQscil7Y29uc3QgZT1NYXRoLnJvdW5kKHQpO3JldHVybiAxPT09cj9lOmUrKHItZSVyKX1fZW5zdXJlU2l6ZShyKXtpZih0aGlzLl9wb3Mrcj49dGhpcy5fYnVmZmVyLmxlbmd0aCl7Y29uc3QgZT10aGlzLl9yb3VuZFRvTmVhcmVzdCgodGhpcy5fYXJyYXkuYnl0ZUxlbmd0aCtyKnRoaXMuX2J1ZmZlci5CWVRFU19QRVJfRUxFTUVOVCkqdCx0aGlzLl9idWZmZXIuQllURVNfUEVSX0VMRU1FTlQpLHM9bmV3IEFycmF5QnVmZmVyKGUpLGk9bmV3IHRoaXMuX2N0b3Iocyk7aS5zZXQodGhpcy5fYnVmZmVyLDApLHRoaXMuX2FycmF5PXMsdGhpcy5fYnVmZmVyPWksdGhpcy5faTE2Vmlldz1uZXcgSW50MTZBcnJheSh0aGlzLl9hcnJheSl9fWVuc3VyZVNpemUodCl7dGhpcy5fZW5zdXJlU2l6ZSh0KX13cml0ZUYzMih0KXt0aGlzLl9lbnN1cmVTaXplKDEpO2NvbnN0IHI9dGhpcy5fcG9zO3JldHVybiBuZXcgRmxvYXQzMkFycmF5KHRoaXMuX2FycmF5LDQqdGhpcy5fcG9zLDEpWzBdPXQsdGhpcy5fcG9zKysscn1wdXNoKHQpe3RoaXMuX2Vuc3VyZVNpemUoMSk7Y29uc3Qgcj10aGlzLl9wb3M7cmV0dXJuIHRoaXMuX2J1ZmZlclt0aGlzLl9wb3MrK109dCxyfXdyaXRlRml4ZWQodCl7dGhpcy5fYnVmZmVyW3RoaXMuX3BvcysrXT10fXNldFZhbHVlKHQscil7dGhpcy5fYnVmZmVyW3RdPXJ9aTE2MTZBZGQodCxyLGUpe3RoaXMuX2kxNlZpZXdbMip0XSs9cix0aGlzLl9pMTZWaWV3WzIqdCsxXSs9ZX1nZXRWYWx1ZSh0KXtyZXR1cm4gdGhpcy5fYnVmZmVyW3RdfWdldFZhbHVlRjMyKHQpe3JldHVybiBuZXcgRmxvYXQzMkFycmF5KHRoaXMuX2FycmF5LDQqdCwxKVswXX1pbmNyKHQpe2lmKHRoaXMuX2J1ZmZlci5sZW5ndGg8dCl0aHJvdyBuZXcgRXJyb3IoXCJJbmNyZW1lbnQgaW5kZXggb3ZlcmZsb3dzIHRoZSB0YXJnZXQgYnVmZmVyXCIpO3RoaXMuX2J1ZmZlclt0XSsrfWRlY3IodCl7dGhpcy5fYnVmZmVyW3RdLS19d3JpdGVSZWdpb24odCl7dGhpcy5fZW5zdXJlU2l6ZSh0Lmxlbmd0aCk7Y29uc3Qgcj10aGlzLl9wb3M7cmV0dXJuIHRoaXMuX2J1ZmZlci5zZXQodCx0aGlzLl9wb3MpLHRoaXMuX3Bvcys9dC5sZW5ndGgscn13cml0ZU1hbnlGcm9tKHQscixlKXt0aGlzLl9lbnN1cmVTaXplKGUtcik7Zm9yKGxldCBzPXI7cyE9PWU7cysrKXRoaXMud3JpdGVGaXhlZCh0Ll9idWZmZXJbc10pfWJ1ZmZlcigpe2NvbnN0IHQ9dGhpcy5fYXJyYXkuc2xpY2UoMCw0KnRoaXMuX3Bvcyk7cmV0dXJuIHRoaXMuZGVzdHJveSgpLHR9dG9BcnJheSgpe3JldHVyblsuLi50aGlzLl9idWZmZXJdfXNlZWsodCl7dGhpcy5fcG9zPXR9ZGVzdHJveSgpe3RoaXMuX2FycmF5PW51bGwsdGhpcy5fYnVmZmVyPW51bGx9fWV4cG9ydHtyIGFzIGRlZmF1bHR9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMzMvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmNvbnN0IG49KG4sbCk9Pm4mJigoLi4ubik9Pmwud2FybihcIkRFQlVHOlwiLC4uLm4pKXx8KCgpPT5udWxsKSxsPSExO2V4cG9ydHtsIGFzIERFQlVHX0FUVFJfVVBEQVRFUyxuIGFzIGNyZWF0ZURlYnVnTG9nZ2VyfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjMzL2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7T3B0aW1pemVkRmVhdHVyZSBhcyB0fWZyb21cIi4uLy4uLy4uLy4uL2xheWVycy9ncmFwaGljcy9PcHRpbWl6ZWRGZWF0dXJlLmpzXCI7aW1wb3J0e0ZlYXR1cmVTZXRSZWFkZXJKU09OIGFzIGV9ZnJvbVwiLi9zdXBwb3J0L0ZlYXR1cmVTZXRSZWFkZXJKU09OLmpzXCI7Y2xhc3MgcntzdGF0aWN7dGhpcy5TaGFyZWQ9bmV3IHJ9Z2V0T2JqZWN0SWQodCl7cmV0dXJuIHQuZ2V0T2JqZWN0SWQoKX1nZXRBdHRyaWJ1dGVzKHQpe3JldHVybiB0LnJlYWRBdHRyaWJ1dGVzKCl9Z2V0QXR0cmlidXRlKHQsZSl7cmV0dXJuIHQucmVhZEF0dHJpYnV0ZShlKX1nZXRBdHRyaWJ1dGVBc1RpbWVzdGFtcCh0LGUpe3JldHVybiB0LnJlYWRBdHRyaWJ1dGVBc1RpbWVzdGFtcChlKX1jbG9uZVdpdGhHZW9tZXRyeShyLGEpe2NvbnN0IGk9ci5yZWFkQXR0cmlidXRlcygpLHM9bmV3IHQoYSxpLG51bGwsci5nZXRPYmplY3RJZCgpLHIuZ2V0RGlzcGxheUlkKCkpLGQ9ZS5mcm9tT3B0aW1pemVkRmVhdHVyZXMoW3NdLHIubWV0YWRhdGEpO3JldHVybiBkLnNldEluZGV4KDApLGR9Z2V0R2VvbWV0cnkodCl7cmV0dXJuIHQucmVhZEdlb21ldHJ5V29ybGRTcGFjZSgpfWdldENlbnRyb2lkKHQsZSl7cmV0dXJuIHQucmVhZENlbnRyb2lkRm9yRGlzcGxheSgpfX1leHBvcnR7ciBhcyBGZWF0dXJlU3RvcmVRdWVyeUFkYXB0ZXJ9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMzMvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmNsYXNzIHN7ZGVzdHJveSgpe319ZXhwb3J0e3MgYXMgQUNvbXB1dGVkRmllbGR9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMzMvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydCB0IGZyb21cIi4uLy4uLy4uLy4uLy4uL2NvcmUvRXJyb3IuanNcIjtpbXBvcnQgaGFzIGZyb21cIi4uLy4uLy4uLy4uLy4uL2NvcmUvaGFzLmpzXCI7aW1wb3J0IGUgZnJvbVwiLi4vLi4vLi4vLi4vLi4vY29yZS9Mb2dnZXIuanNcIjtpbXBvcnR7ZGlmZiBhcyBpfWZyb21cIi4uLy4uLy4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RpZmZVdGlscy5qc1wiO2ltcG9ydHtjb2xsZWN0RXhwcmVzc2lvbkRlcGVuZGVuY2llcyBhcyBzfWZyb21cIi4uLy4uLy4uLy4uLy4uL3N1cHBvcnQvQXJjYWRlRXhwcmVzc2lvbi5qc1wiO2ltcG9ydHthdHRyaWJ1dGVTdG9yZUluaXRpYWxTaXplIGFzIHIsbWF4SGlnaGxpZ2h0UmVhc29ucyBhcyBhLEF0dHJpYnV0ZURhdGFUeXBlIGFzIG59ZnJvbVwiLi4vLi4vLi4vZW5naW5lL3dlYmdsL2RlZmluaXRpb25zLmpzXCI7aW1wb3J0e2dldERpc3BsYXlJZFRleGVsIGFzIG99ZnJvbVwiLi4vLi4vLi4vZW5naW5lL3dlYmdsL0Rpc3BsYXlJZC5qc1wiO2ltcG9ydHtnZXRQaXhlbEFycmF5Q3RvciBhcyBsfWZyb21cIi4uLy4uLy4uL2VuZ2luZS93ZWJnbC9VdGlscy5qc1wiO2ltcG9ydHtuYW5NYWdpY051bWJlciBhcyBofWZyb21cIi4uLy4uLy4uL2VuZ2luZS93ZWJnbC9zaGFkZXJHcmFwaC90ZWNobmlxdWVzL3NoYWRlcnMvY29uc3RhbnRzLmpzXCI7aW1wb3J0e2NyZWF0ZURlYnVnTG9nZ2VyIGFzIGQsREVCVUdfQVRUUl9VUERBVEVTIGFzIGN9ZnJvbVwiLi4vLi4vLi4vZW5naW5lL3dlYmdsL3V0aWwvZGVidWcuanNcIjtpbXBvcnR7RGlzcGxheUlkR2VuZXJhdG9yIGFzIHV9ZnJvbVwiLi9EaXNwbGF5SWRHZW5lcmF0b3IuanNcIjtpbXBvcnQgcCBmcm9tXCIuL0ZlYXR1cmVGaWx0ZXJFdmFsdWF0b3IuanNcIjtpbXBvcnR7UGl4ZWxUeXBlIGFzIGd9ZnJvbVwiLi4vLi4vLi4vLi4vd2ViZ2wvZW51bXMuanNcIjtmdW5jdGlvbiBfKHQsZSl7aWYoIXR8fCFlKXJldHVybiB0O3N3aXRjaChlKXtjYXNlXCJyYWRpdXNcIjpjYXNlXCJkaXN0YW5jZVwiOnJldHVybiAyKnQ7Y2FzZVwiZGlhbWV0ZXJcIjpjYXNlXCJ3aWR0aFwiOnJldHVybiB0O2Nhc2VcImFyZWFcIjpyZXR1cm4gTWF0aC5zcXJ0KHQpfXJldHVybiB0fWNvbnN0IHk9KCk9PmUuZ2V0TG9nZ2VyKFwiZXNyaS52aWV3cy5sYXllcnMuMmQuZmVhdHVyZXMuc3VwcG9ydC5BdHRyaWJ1dGVTdG9yZVwiKSxtPWQoYyx5KCkpLGY9e3NoYXJlZEFycmF5QnVmZmVyOmhhcyhcImVzcmktc2hhcmVkLWFycmF5LWJ1ZmZlclwiKSxhdG9taWNzOmhhcyhcImVzcmktYXRvbWljc1wiKX07Y2xhc3MgYntjb25zdHJ1Y3Rvcih0LGUsaSl7dGhpcy5zaXplPTAsdGhpcy50ZXhlbFNpemU9NCx0aGlzLmRpcnR5U3RhcnQ9MCx0aGlzLmRpcnR5RW5kPTA7Y29uc3R7cGl4ZWxUeXBlOnMsbGF5b3V0OnIsdGV4dHVyZU9ubHk6YX09ZTt0aGlzLnRleHR1cmVPbmx5PWF8fCExLHRoaXMucGl4ZWxUeXBlPXMsdGhpcy5sYXlvdXQ9cix0aGlzLl9yZXNldFJhbmdlKCksdGhpcy5zaXplPXQsdGhpcy5pc0xvY2FsPWksYXx8KHRoaXMuZGF0YT10aGlzLl9pbml0RGF0YShzLHQpKX1nZXQgYnVmZmVyKCl7cmV0dXJuIHRoaXMuZGF0YT8uYnVmZmVyfXVuc2V0Q29tcG9uZW50QWxsVGV4ZWxzKHQsZSl7Y29uc3QgaT10aGlzLmRhdGE7Zm9yKGxldCBzPTA7czx0aGlzLnNpemUqdGhpcy5zaXplO3MrKylpW3MqdGhpcy50ZXhlbFNpemUrdF0mPX5lO3RoaXMuZGlydHlTdGFydD0wLHRoaXMuZGlydHlFbmQ9dGhpcy5zaXplKnRoaXMuc2l6ZS0xfXNldENvbXBvbmVudEFsbFRleGVscyh0LGUpe2NvbnN0IGk9dGhpcy5kYXRhO2ZvcihsZXQgcz0wO3M8dGhpcy5zaXplKnRoaXMuc2l6ZTtzKyspaVtzKnRoaXMudGV4ZWxTaXplK3RdfD0yNTUmZTt0aGlzLmRpcnR5U3RhcnQ9MCx0aGlzLmRpcnR5RW5kPXRoaXMuc2l6ZSp0aGlzLnNpemUtMX1zZXRDb21wb25lbnQodCxlLGkpe2NvbnN0IHM9dGhpcy5kYXRhO2Zvcihjb25zdCByIG9mIGkpc1tyKnRoaXMudGV4ZWxTaXplK3RdfD1lLHRoaXMuZGlydHlTdGFydD1NYXRoLm1pbih0aGlzLmRpcnR5U3RhcnQsciksdGhpcy5kaXJ0eUVuZD1NYXRoLm1heCh0aGlzLmRpcnR5RW5kLHIpfXNldENvbXBvbmVudFRleGVsKHQsZSxpKXt0aGlzLmRhdGFbaSp0aGlzLnRleGVsU2l6ZSt0XXw9ZSx0aGlzLmRpcnR5U3RhcnQ9TWF0aC5taW4odGhpcy5kaXJ0eVN0YXJ0LGkpLHRoaXMuZGlydHlFbmQ9TWF0aC5tYXgodGhpcy5kaXJ0eUVuZCxpKX11bnNldENvbXBvbmVudFRleGVsKHQsZSxpKXt0aGlzLmRhdGFbaSp0aGlzLnRleGVsU2l6ZSt0XSY9fmUsdGhpcy5kaXJ0eVN0YXJ0PU1hdGgubWluKHRoaXMuZGlydHlTdGFydCxpKSx0aGlzLmRpcnR5RW5kPU1hdGgubWF4KHRoaXMuZGlydHlFbmQsaSl9Z2V0RGF0YSh0LGUpe2NvbnN0IGk9byh0KTtyZXR1cm4gdGhpcy5kYXRhW2kqdGhpcy50ZXhlbFNpemUrZV19c2V0RGF0YSh0LGUsaSl7Y29uc3Qgcz1vKHQpLHI9MTw8ZTswIT09KHRoaXMubGF5b3V0JnIpP251bGwhPXRoaXMuZGF0YSYmKHRoaXMuZGF0YVtzKnRoaXMudGV4ZWxTaXplK2VdPWksdGhpcy5kaXJ0eVN0YXJ0PU1hdGgubWluKHRoaXMuZGlydHlTdGFydCxzKSx0aGlzLmRpcnR5RW5kPU1hdGgubWF4KHRoaXMuZGlydHlFbmQscykpOnkoKS5lcnJvcihcIm1hcHZpZXctYXR0cmlidXRlcy1zdG9yZVwiLFwiVHJpZWQgdG8gc2V0IGEgdmFsdWUgZm9yIGEgdGV4ZWwncyByZWFkb25seSBjb21wb25lbnRcIil9ZXhwYW5kKHQpe2lmKHRoaXMuc2l6ZT10LCF0aGlzLnRleHR1cmVPbmx5KXtjb25zdCBlPXRoaXMuX2luaXREYXRhKHRoaXMucGl4ZWxUeXBlLHQpLGk9dGhpcy5kYXRhO2Uuc2V0KGkpLHRoaXMuZGF0YT1lfX10b01lc3NhZ2UoKXtjb25zdCB0PXRoaXMuZGlydHlTdGFydCxlPXRoaXMuZGlydHlFbmQsaT10aGlzLnRleGVsU2l6ZTtpZih0PmUpcmV0dXJuIG51bGw7dGhpcy5fcmVzZXRSYW5nZSgpO2NvbnN0IHM9IXRoaXMuaXNMb2NhbCxyPXRoaXMucGl4ZWxUeXBlLGE9dGhpcy5sYXlvdXQsbj10aGlzLmRhdGE7cmV0dXJue3N0YXJ0OnQsZW5kOmUsZGF0YTpzJiZuLnNsaWNlKHQqaSwoZSsxKSppKXx8bnVsbCxwaXhlbFR5cGU6cixsYXlvdXQ6YX19X2luaXREYXRhKHQsZSl7Y29uc3QgaT1BcnJheUJ1ZmZlcixzPWwodCkscj1uZXcgcyhuZXcgaShlKmUqNCpzLkJZVEVTX1BFUl9FTEVNRU5UKSk7Zm9yKGxldCBhPTA7YTxyLmxlbmd0aDthKz00KXJbYSsxXT0yNTU7cmV0dXJuIHJ9X3Jlc2V0UmFuZ2UoKXt0aGlzLmRpcnR5U3RhcnQ9MjE0NzQ4MzY0Nyx0aGlzLmRpcnR5RW5kPTB9fWNsYXNzIHh7Y29uc3RydWN0b3IodCl7dGhpcy5fY2xpZW50PXQsdGhpcy5fZmlsdGVycz1bXSx0aGlzLl9ibG9ja3M9bmV3IEFycmF5LHRoaXMuX2F0dHJpYnV0ZUNvbXB1dGVJbmZvPW51bGwsdGhpcy5fYWJvcnRDb250cm9sbGVyPW5ldyBBYm9ydENvbnRyb2xsZXIsdGhpcy5fc2l6ZT1yLHRoaXMuX2lkc1RvSGlnaGxpZ2h0PW5ldyBNYXAsdGhpcy5fYXJjYWRlRGVwZW5kZW5jaWVzPW5ldyBTZXQsdGhpcy5faW5pdGlhbGl6ZWQ9ITEsdGhpcy52ZXJzaW9uPTAsdGhpcy5faWRHZW5lcmF0b3I9bmV3IHUsdGhpcy5fZXBvY2g9MX1kZXN0cm95KCl7dGhpcy5fYWJvcnRDb250cm9sbGVyLmFib3J0KCl9X2luaXRpYWxpemUoKXtpZihudWxsIT10aGlzLl9ibG9ja0Rlc2NyaXB0b3JzKXJldHVybjtjb25zdCB0PWcuRkxPQVQ7bShgQ3JlYXRpbmcgQXR0cmlidXRlU3RvcmUgJHtmLnNoYXJlZEFycmF5QnVmZmVyP1wid2l0aFwiOlwid2l0aG91dFwifSBzaGFyZWQgbWVtb3J5YCksdGhpcy5fYmxvY2tEZXNjcmlwdG9ycz1be3BpeGVsVHlwZTpnLlVOU0lHTkVEX0JZVEUsbGF5b3V0OjF9LHtwaXhlbFR5cGU6Zy5VTlNJR05FRF9CWVRFLGxheW91dDoxNSx0ZXh0dXJlT25seTohMH0se3BpeGVsVHlwZTpnLlVOU0lHTkVEX0JZVEUsbGF5b3V0OjE1LHRleHR1cmVPbmx5OiEwfSx7cGl4ZWxUeXBlOnQsbGF5b3V0OjE1fSx7cGl4ZWxUeXBlOnQsbGF5b3V0OjE1fSx7cGl4ZWxUeXBlOnQsbGF5b3V0OjE1fSx7cGl4ZWxUeXBlOnQsbGF5b3V0OjE1fSx7cGl4ZWxUeXBlOmcuRkxPQVQsbGF5b3V0OjE1fV0sdGhpcy5fYmxvY2tzPXRoaXMuX2Jsb2NrRGVzY3JpcHRvcnMubWFwKCgoKT0+bnVsbCkpfWdldCBoYXNIaWdobGlnaHQoKXtyZXR1cm4gdGhpcy5faWRzVG9IaWdobGlnaHQuc2l6ZT4wfWNyZWF0ZURpc3BsYXlJZEZvck9iamVjdElkKHQpe3JldHVybiB0aGlzLl9pZEdlbmVyYXRvci5jcmVhdGVJZEZvck9iamVjdElkKHQpfXJlbGVhc2VEaXNwbGF5SWRGb3JPYmplY3RJZCh0KXtyZXR1cm4gdGhpcy5faWRHZW5lcmF0b3IucmVsZWFzZUlkRm9yT2JqZWN0SWQodCl9Z2V0RGlzcGxheUlkRm9yT2JqZWN0SWQodCl7cmV0dXJuIHRoaXMuX2lkR2VuZXJhdG9yLmdldERpc3BsYXlJZEZvck9iamVjdElkKHQpfWluY3JlbWVudERpc3BsYXlJZEdlbmVyYXRpb24oKXt0aGlzLl9pZEdlbmVyYXRvci5pbmNyZW1lbnRHZW5lcmF0aW9uKCl9aGFzQXJjYWRlRGVwZW5kZW5jeSh0KXtyZXR1cm4gdGhpcy5fYXJjYWRlRGVwZW5kZW5jaWVzLmhhcyh0KX1yZWxlYXNlQWxsSWRzKCl7dGhpcy5faWRHZW5lcmF0b3IucmVsZWFzZUFsbCgpfWFzeW5jIHVwZGF0ZSh0LGUscyxyPTApe2NvbnN0IGE9aSh0aGlzLl9zY2hlbWEsdCk7aWYodGhpcy52ZXJzaW9uPXIsYSYmKGhhcyhcImVzcmktMmQtdXBkYXRlLWRlYnVnXCIpJiZjb25zb2xlLmRlYnVnKGBWZXJzaW9uWyR7cn1dIEF0dHJpYnV0ZVN0b3JlLnVwZGF0ZWAse2NoYW5nZWQ6YX0pLHRoaXMuX3NjaGVtYT10LHRoaXMuX2F0dHJpYnV0ZUNvbXB1dGVJbmZvPW51bGwsdGhpcy5faW5pdGlhbGl6ZSgpLG51bGwhPXQpKWlmKHMmJih0aGlzLl9maWx0ZXJzPWF3YWl0IFByb21pc2UuYWxsKHQuZmlsdGVycy5tYXAoKHQ9PnQ/cC5jcmVhdGUoe2dlb21ldHJ5VHlwZTpzLmdlb21ldHJ5VHlwZSxoYXNNOiExLGhhc1o6ITEsdGltZUluZm86cy50aW1lSW5mbyxmaWVsZHNJbmRleDpzLmZpZWxkc0luZGV4LHNwYXRpYWxSZWZlcmVuY2U6cy5vdXRTcGF0aWFsUmVmZXJlbmNlLGZpbHRlckpTT046dH0pOm51bGwpKSkpLFwibXVsdGlcIiE9PXQudHlwZSl0aGlzLl9hdHRyaWJ1dGVDb21wdXRlSW5mbz17dHlwZTpcImZlYXR1cmVcIixtYXA6bmV3IE1hcH0sYXdhaXQgUHJvbWlzZS5hbGwodC5iaW5kaW5ncy5tYXAoKGFzeW5jIHQ9Pntjb25zdCBpPWF3YWl0IHRoaXMuX2JpbmQoZSx0KTt0aGlzLl91cGRhdGVSZWZlcmVuY2VzKGkpfSkpKTtlbHNle3RoaXMuX2F0dHJpYnV0ZUNvbXB1dGVJbmZvPXt0eXBlOlwibXVsdGlcIixrZXlGaWVsZDp0LmtleUZpZWxkLG1hcDpuZXcgTWFwfTtmb3IoY29uc3QgaSBpbiB0LmJpbmRpbmdzKXtjb25zdCBzPXQuYmluZGluZ3NbaV07YXdhaXQgUHJvbWlzZS5hbGwocy5tYXAoKGFzeW5jIHQ9Pntjb25zdCBzPWF3YWl0IHRoaXMuX2JpbmQoZSx0LHBhcnNlSW50KGksMTApKTt0aGlzLl91cGRhdGVSZWZlcmVuY2VzKHMpfSkpKX19fXNldEhpZ2hsaWdodCh0LGUpe2xldCBpPW51bGw7MD09PXQubGVuZ3RoJiYwPT09ZS5sZW5ndGgmJihpPXRoaXMuX2dldEJsb2NrKDApLGkudW5zZXRDb21wb25lbnRBbGxUZXhlbHMoMCwoMTw8YSktMSkpO2Zvcihjb25zdHtkaXNwbGF5SWQ6cyxoaWdobGlnaHRGbGFnczpyfW9mIHQpe2lmKG51bGw9PXN8fC0xPT09cyljb250aW51ZTtpfHwoaT10aGlzLl9nZXRCbG9jaygwKSxpLnVuc2V0Q29tcG9uZW50QWxsVGV4ZWxzKDAsKDE8PGEpLTEpKTtjb25zdCB0PW8ocyk7aS5zZXRDb21wb25lbnQoMCxyLFt0XSl9dGhpcy5faWRzVG9IaWdobGlnaHQuY2xlYXIoKTtmb3IoY29uc3R7b2JqZWN0SWQ6cyxoaWdobGlnaHRGbGFnczpyfW9mIHQpdGhpcy5faWRzVG9IaWdobGlnaHQuc2V0KHMscik7Zm9yKGNvbnN0e29iamVjdElkOnMsaGlnaGxpZ2h0RmxhZ3M6cn1vZiBlKXRoaXMuX2lkc1RvSGlnaGxpZ2h0LnNldChzLHIpfXNldERhdGEodCxlLGkscyl7Y29uc3Qgcj1vKHQpO3RoaXMuX2Vuc3VyZVNpemVGb3JUZXhlbChyKSx0aGlzLl9nZXRCbG9jayhlKS5zZXREYXRhKHQsaSxzKX1nZXREYXRhKHQsZSxpKXtyZXR1cm4gdGhpcy5fZ2V0QmxvY2soZSkuZ2V0RGF0YSh0LGkpfWdldEhpZ2hsaWdodEZsYWdzKHQpe3JldHVybiB0aGlzLl9pZHNUb0hpZ2hsaWdodC5nZXQodCl8fDB9dW5zZXRBdHRyaWJ1dGVEYXRhKHQpe2NvbnN0IGU9byh0KTt0aGlzLl9nZXRCbG9jaygwKS5zZXREYXRhKGUsMCwwKX1zZXRBdHRyaWJ1dGVEYXRhKHQsZSxpLHMpe2NvbnN0IHI9byh0KTt0aGlzLl9lbnN1cmVTaXplRm9yVGV4ZWwociksdGhpcy5fZ2V0QmxvY2soMCkuc2V0RGF0YShyLDAsdGhpcy5nZXRGaWx0ZXJGbGFncyhlLHMpKTtjb25zdCBhPXRoaXMuX2F0dHJpYnV0ZUNvbXB1dGVJbmZvLGw9MSxkPTQ7bGV0IGM9bnVsbDthJiYoYz1cIm11bHRpXCI9PT1hLnR5cGU/YS5tYXAuZ2V0KGUucmVhZEF0dHJpYnV0ZShhLmtleUZpZWxkKSk6YS5tYXAsYz8uc2l6ZSYmYy5mb3JFYWNoKCgodCxzKT0+e2NvbnN0IGE9cypsJWQsbz1NYXRoLmZsb29yKHMqbC9kKSxjPXRoaXMuX2dldEJsb2NrKG8rbi5WVik7bGV0IHU9dC5maWVsZD8ucmVhZChlLGkpO3QudmFsdWVSZXByZXNlbnRhdGlvbiYmKHU9Xyh1LHQudmFsdWVSZXByZXNlbnRhdGlvbikpOyhudWxsPT09dXx8aXNOYU4odSl8fHU9PT0xLzB8fHU9PT0tMS8wKSYmKHU9aCksYy5zZXREYXRhKHIsYSx1KX0pKSl9Z2V0IGVwb2NoKCl7cmV0dXJuIHRoaXMuX2Vwb2NofXNlbmRVcGRhdGVzKCl7Y29uc3QgdD10aGlzLl9ibG9ja3MubWFwKCh0PT5udWxsIT10P3QudG9NZXNzYWdlKCk6bnVsbCkpLGU9dGhpcy5fZ2V0SW5pdEFyZ3MoKTtoYXMoXCJlc3JpLTJkLWxvZy11cGRhdGluZ1wiKSYmY29uc29sZS5sb2coXCJBdHRyaWJ1dGVTdG9yZTogX2RvU2VuZFVwZGF0ZS5zdGFydFwiKSx0aGlzLl9jbGllbnQudXBkYXRlKHtpbml0QXJnczplLGJsb2NrRGF0YTp0LHZlcnNpb246dGhpcy52ZXJzaW9uLHNlbmRVcGRhdGVFcG9jaDp0aGlzLl9lcG9jaH0pLHRoaXMuX2Vwb2NoKz0xLGhhcyhcImVzcmktMmQtbG9nLXVwZGF0aW5nXCIpJiZjb25zb2xlLmxvZyhcIkF0dHJpYnV0ZVN0b3JlOiBfZG9TZW5kVXBkYXRlLmVuZFwiKX1fZW5zdXJlU2l6ZUZvclRleGVsKHQpe2Zvcig7dD49dGhpcy5fc2l6ZSp0aGlzLl9zaXplOylpZih0aGlzLl9leHBhbmQoKSlyZXR1cm59YXN5bmMgX2JpbmQodCxlLGkpe2NvbnN0IHM9YXdhaXQgdC5jcmVhdGVDb21wdXRlZEZpZWxkKGUpLHt2YWx1ZVJlcHJlc2VudGF0aW9uOnJ9PWUsYT10aGlzLl9hdHRyaWJ1dGVDb21wdXRlSW5mbztpZihcIm11bHRpXCI9PT1hLnR5cGUpe2NvbnN0IHQ9YS5tYXAuZ2V0KGkpPz9uZXcgTWFwO3Quc2V0KGUuYmluZGluZyx7ZmllbGQ6cyx2YWx1ZVJlcHJlc2VudGF0aW9uOnJ9KSxhLm1hcC5zZXQoaSx0KX1lbHNlIGEubWFwLnNldChlLmJpbmRpbmcse2ZpZWxkOnMsdmFsdWVSZXByZXNlbnRhdGlvbjpyfSk7cmV0dXJuIHN9X2dldEluaXRBcmdzKCl7cmV0dXJuIHRoaXMuX2luaXRpYWxpemVkP251bGw6KHRoaXMuX2luaXRpYWxpemVkPSEwLHRoaXMuX2dldEJsb2NrKG4uQW5pbWF0aW9uKSx0aGlzLl9nZXRCbG9jayhuLkdQR1BVKSx0aGlzLl9nZXRCbG9jayhuLkxvY2FsVGltZU9yaWdpbikse2Jsb2NrU2l6ZTp0aGlzLl9zaXplLGJsb2NrRGVzY3JpcHRvcnM6dGhpcy5fYmxvY2tzLm1hcCgodD0+bnVsbCE9dD97dGV4dHVyZU9ubHk6dC50ZXh0dXJlT25seSxidWZmZXI6dC5idWZmZXIscGl4ZWxUeXBlOnQucGl4ZWxUeXBlfTpudWxsKSl9KX1fZ2V0QmxvY2sodCl7Y29uc3QgZT10aGlzLl9ibG9ja3NbdF07aWYobnVsbCE9ZSlyZXR1cm4gZTttKGBJbml0aWFsaXppbmcgQXR0cmlidXRlQmxvY2sgYXQgaW5kZXggJHt0fWApO2NvbnN0IGk9bmV3IGIodGhpcy5fc2l6ZSx0aGlzLl9ibG9ja0Rlc2NyaXB0b3JzW3RdLHRoaXMuX2NsaWVudC5pc0xvY2FsKTtyZXR1cm4gdGhpcy5fYmxvY2tzW3RdPWksdGhpcy5faW5pdGlhbGl6ZWQ9ITEsaX1fZXhwYW5kKCl7aWYodGhpcy5fc2l6ZTx0aGlzLl9zY2hlbWEuY2FwYWJpbGl0aWVzLm1heFRleHR1cmVTaXplKXtjb25zdCB0PXRoaXMuX3NpemU8PD0xO20oXCJFeHBhbmRpbmcgYmxvY2sgc2l6ZSB0b1wiLHQsdGhpcy5fYmxvY2tzKTtmb3IoY29uc3QgZSBvZiB0aGlzLl9ibG9ja3MpZT8uZXhwYW5kKHQpO3JldHVybiB0aGlzLl9pbml0aWFsaXplZD0hMSx0aGlzLl9zaXplPXQsMH1yZXR1cm4geSgpLmVycm9yKG5ldyB0KFwibWFwdmlldy1saW1pdGF0aW9uc1wiLFwiTWF4aW11bSBudW1iZXIgb2Ygb25zY3JlZW4gZmVhdHVyZXMgZXhjZWVkZWQuXCIpKSwtMX1fdXBkYXRlUmVmZXJlbmNlcyh0KXtzKHRoaXMuX2FyY2FkZURlcGVuZGVuY2llcyx0KX1pc1Zpc2libGUodCl7cmV0dXJuISEodGhpcy5fZ2V0QmxvY2soMCkuZ2V0RGF0YSh0LDApJjE8PGEpfWdldEZpbHRlckZsYWdzKHQsZSl7bGV0IGk9MDtmb3IobGV0IHI9MDtyPHRoaXMuX2ZpbHRlcnMubGVuZ3RoO3IrKyl7Y29uc3Qgcz0hISgxPDxyKSxhPXRoaXMuX2ZpbHRlcnNbcl07aXw9KCFzfHxudWxsPT1hfHxhLmNoZWNrKHQsZSk/MTowKTw8cn1sZXQgcz0wO2lmKHRoaXMuX2lkc1RvSGlnaGxpZ2h0LnNpemUpe2NvbnN0IGU9dC5nZXRPYmplY3RJZCgpO3M9dGhpcy5nZXRIaWdobGlnaHRGbGFncyhlKX1yZXR1cm4gaTw8YXxzfX1leHBvcnR7eCBhcyBBdHRyaWJ1dGVTdG9yZSxfIGFzIGdldFZpc3VhbFZhcmlhYmxlU2l6ZVZhbHVlUmVwcmVzZW50YXRpb25SYXRpb307XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4zMy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e0FDb21wdXRlZEZpZWxkIGFzIGV9ZnJvbVwiLi9BQ29tcHV0ZWRGaWVsZC5qc1wiO2NsYXNzIHIgZXh0ZW5kcyBle2NvbnN0cnVjdG9yKGUpe3N1cGVyKCksdGhpcy5fZmllbGQ9ZX1yZXNpemUoZSl7dGhyb3cgbmV3IEVycm9yKFwiTWV0aG9kIG5vdCBpbXBsZW1lbnRlZC5cIil9cmVhZChlLHIpe3JldHVybiBlLnJlYWRBdHRyaWJ1dGUodGhpcy5fZmllbGQpfXJlYWRXaXRoRGVmYXVsdChlLHIpe3JldHVybiBlLnJlYWRBdHRyaWJ1dGUodGhpcy5fZmllbGQpfWhhc0FyY2FkZURlcGVuZGVuY3koZSl7cmV0dXJuITF9fWV4cG9ydHtyIGFzIENhY2hlZEZpZWxkfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjMzL2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnQgdCBmcm9tXCIuLi8uLi8uLi8uLi8uLi9jb3JlL0Vycm9yLmpzXCI7aW1wb3J0IGUgZnJvbVwiLi4vLi4vLi4vLi4vLi4vY29yZS9Mb2dnZXIuanNcIjtpbXBvcnR7ZnJvbVJlY3RWYWx1ZXMgYXMgc31mcm9tXCIuLi8uLi8uLi8uLi8uLi9nZW9tZXRyeS9zdXBwb3J0L2FhQm91bmRpbmdCb3guanNcIjtpbXBvcnR7ZGlzcGxheUlkVGV4ZWxNYXNrIGFzIGl9ZnJvbVwiLi4vLi4vLi4vZW5naW5lL3dlYmdsL0Rpc3BsYXlJZC5qc1wiO2ltcG9ydHtDYWNoZWRGaWVsZCBhcyByfWZyb21cIi4vQ2FjaGVkRmllbGQuanNcIjtpbXBvcnR7Q29tcHV0ZWRFeHByZXNzaW9uIGFzIG59ZnJvbVwiLi9Db21wdXRlZEV4cHJlc3Npb24uanNcIjtpbXBvcnR7Q29tcHV0ZWRMZWdhY3lMYWJlbEV4cHJlc3Npb24gYXMgb31mcm9tXCIuL0NvbXB1dGVkTGVnYWN5TGFiZWxFeHByZXNzaW9uLmpzXCI7aW1wb3J0e0NvbXB1dGVkRGljdGlvbmFyeVRlbXBsYXRlIGFzIHV9ZnJvbVwiLi9EaWN0aW9uYXJ5VGVtcGxhdGUuanNcIjtpbXBvcnR7Tm9ybWFsaXplZEZpZWxkIGFzIGR9ZnJvbVwiLi9Ob3JtYWxpemVkRmllbGQuanNcIjtpbXBvcnR7U3RhdGljQml0U2V0IGFzIGh9ZnJvbVwiLi9TdGF0aWNCaXRTZXQuanNcIjtpbXBvcnR7Y3JlYXRlV2hlcmVDbGF1c2UgYXMgYX1mcm9tXCIuL3doZXJlVXRpbHMuanNcIjtjb25zdCBjPSgpPT5lLmdldExvZ2dlcihcImVzcmkudmlld3MuMmQubGF5ZXJzLmZlYXR1cmVzLnN1cHBvcnQuQ29tcHV0ZWRBdHRyaWJ1dGVTdG9yYWdlXCIpLG09NDI5NDk2NzI5NTtmdW5jdGlvbiBwKHQsZSxzKXtpZighKHQubGVuZ3RoPmUpKWZvcig7dC5sZW5ndGg8PWU7KXQucHVzaChzKX1jbGFzcyBse2NvbnN0cnVjdG9yKHQpe3RoaXMuX251bWVyaWNzPVtdLHRoaXMuX3N0cmluZ3M9W10sdGhpcy5fYWxsb2NhdGVkU2l6ZT0yNTYsdGhpcy5fYml0c2V0cz1bXSx0aGlzLl9pbnN0YW5jZUlkcz1bXSx0aGlzLl9ib3VuZHM9W10sdGhpcy5fZGlydHlCaXRzZXQ9dGhpcy5nZXRCaXRzZXQodGhpcy5jcmVhdGVCaXRzZXQoKSksdGhpcy5jb21waWxhdGlvbk9wdGlvbnM9dH1jcmVhdGVCaXRzZXQoKXtjb25zdCB0PXRoaXMuX2JpdHNldHMubGVuZ3RoO3JldHVybiB0aGlzLl9iaXRzZXRzLnB1c2goaC5jcmVhdGUodGhpcy5fYWxsb2NhdGVkU2l6ZSxpKSksdCsxfWNyZWF0ZURpY3Rpb25hcnlUZW1wbGF0ZUZpZWxkKHQsZSl7cmV0dXJuIG5ldyB1KHQsZSl9YXN5bmMgY3JlYXRlQ29tcHV0ZWRGaWVsZChlLHM9ITEpe2lmKGUuZXhwcmVzc2lvbil0cnl7aWYoIXRoaXMuY29tcGlsYXRpb25PcHRpb25zKXRocm93IG5ldyBFcnJvcihcIkludGVybmFsRXJyb3I6IENvbXBpbGF0aW9uIG9wdGlvbnMgbm90IGRlZmluZWRcIik7aWYocylyZXR1cm4gYXdhaXQgby5jcmVhdGUoZS5leHByZXNzaW9uLHRoaXMuY29tcGlsYXRpb25PcHRpb25zKTtyZXR1cm4gYXdhaXQgbi5jcmVhdGUoZS5leHByZXNzaW9uLHRoaXMuY29tcGlsYXRpb25PcHRpb25zKX1jYXRjaCh1KXtjb25zdCBzPW5ldyB0KFwiZmVhdHVyZWxheWVyXCIsXCJGYWlsZWQgdG8gY29tcGlsZSBhcmNhZGUgZXhwcmVzc2lvblwiLHtlcnJvcjp1LGV4cHJlc3Npb246ZS5leHByZXNzaW9ufSk7cmV0dXJuIGMoKS5lcnJvcihzKSxudWxsfWlmKGUubm9ybWFsaXphdGlvblR5cGV8fGUubm9ybWFsaXphdGlvbkZpZWxkKXJldHVybiBuZXcgZChlLmZpZWxkLGUpO2lmKGUuZmllbGQpcmV0dXJuIG5ldyByKGUuZmllbGQpO2NvbnN0IGk9bmV3IHQoXCJmZWF0dXJlbGF5ZXJcIixcIlVuYWJsZSB0byBjcmVhdGUgY29tcHV0ZWQgZmllbGQuIE5vIGV4cHJlc3Npb24gb3IgZmllbGQgZm91bmRcIix7aW5mbzplfSk7cmV0dXJuIGMoKS5lcnJvcihpKSxudWxsfWFzeW5jIGNyZWF0ZVdoZXJlQ2xhdXNlKHQpe3JldHVybiB0P2EodCx0aGlzLmNvbXBpbGF0aW9uT3B0aW9ucy5maWVsZHMpOm51bGx9Z2V0Qml0c2V0KHQpe3JldHVybiB0aGlzLl9iaXRzZXRzW3QtMV19Z2V0Q29tcHV0ZWROdW1lcmljKHQsZSl7cmV0dXJuIHRoaXMuZ2V0Q29tcHV0ZWROdW1lcmljQXRJbmRleCh0JmksMCl9c2V0Q29tcHV0ZWROdW1lcmljKHQsZSxzKXtyZXR1cm4gdGhpcy5zZXRDb21wdXRlZE51bWVyaWNBdEluZGV4KHQmaSxzLDApfWdldENvbXB1dGVkU3RyaW5nKHQsZSl7cmV0dXJuIHRoaXMuZ2V0Q29tcHV0ZWRTdHJpbmdBdEluZGV4KHQmaSwwKX1zZXRDb21wdXRlZFN0cmluZyh0LGUscyl7cmV0dXJuIHRoaXMuc2V0Q29tcHV0ZWRTdHJpbmdBdEluZGV4KHQmaSwwLHMpfWdldENvbXB1dGVkTnVtZXJpY0F0SW5kZXgodCxlKXtjb25zdCBzPXQmaTtyZXR1cm4gdGhpcy5fZW5zdXJlTnVtZXJpYyhlLHMpLHRoaXMuX251bWVyaWNzW2VdW3NdfXNldENvbXB1dGVkTnVtZXJpY0F0SW5kZXgodCxlLHMpe2NvbnN0IHI9dCZpO3RoaXMuX2Vuc3VyZU51bWVyaWMoZSxyKSx0aGlzLl9udW1lcmljc1tlXVtyXT1zfWdldFBhY2tlZENodW5rSWQodCl7Y29uc3QgZT10Jmk7cmV0dXJuIHRoaXMuX2Vuc3VyZUluc3RhbmNlSWQoZSksdGhpcy5faW5zdGFuY2VJZHNbZV19c2V0UGFja2VkQ2h1bmtJZCh0LGUpe2NvbnN0IHM9dCZpO3RoaXMuX2Vuc3VyZUluc3RhbmNlSWQocyksdGhpcy5faW5zdGFuY2VJZHNbc109ZX1nZXRDb21wdXRlZFN0cmluZ0F0SW5kZXgodCxlKXtjb25zdCBzPXQmaTtyZXR1cm4gdGhpcy5fZW5zdXJlU3RyaW5nKGUscyksdGhpcy5fc3RyaW5nc1tlXVtzXX1zZXRDb21wdXRlZFN0cmluZ0F0SW5kZXgodCxlLHMpe2NvbnN0IHI9dCZpO3RoaXMuX2Vuc3VyZVN0cmluZyhlLHIpLHRoaXMuX3N0cmluZ3NbZV1bcl09c31nZXRYTWluKHQpe3JldHVybiB0aGlzLl9ib3VuZHNbNCoodCZpKV19Z2V0WU1pbih0KXtyZXR1cm4gdGhpcy5fYm91bmRzWzQqKHQmaSkrMV19Z2V0WE1heCh0KXtyZXR1cm4gdGhpcy5fYm91bmRzWzQqKHQmaSkrMl19Z2V0WU1heCh0KXtyZXR1cm4gdGhpcy5fYm91bmRzWzQqKHQmaSkrM119c2V0Qm91bmRzKHQsZSxzPSExKXtjb25zdCByPXQmaTtpZighcyYmIXRoaXMuX2RpcnR5Qml0c2V0Lmhhcyh0KSlyZXR1cm4gdGhpcy5fYm91bmRzWzQqcl0hPT1tO3RoaXMuX2RpcnR5Qml0c2V0LnVuc2V0KHQpO2NvbnN0IG49ZS5yZWFkR2VvbWV0cnlXb3JsZFNwYWNlKCk7aWYocCh0aGlzLl9ib3VuZHMsNCpyKzQsMCksIW58fCFuLmNvb3Jkcy5sZW5ndGgpcmV0dXJuIHRoaXMuX2JvdW5kc1s0KnJdPW0sdGhpcy5fYm91bmRzWzQqcisxXT1tLHRoaXMuX2JvdW5kc1s0KnIrMl09bSx0aGlzLl9ib3VuZHNbNCpyKzNdPW0sITE7bGV0IG89MS8wLHU9MS8wLGQ9LTEvMCxoPS0xLzA7cmV0dXJuIG4uZm9yRWFjaFZlcnRleCgoKHQsZSk9PntvPU1hdGgubWluKG8sdCksdT1NYXRoLm1pbih1LGUpLGQ9TWF0aC5tYXgoZCx0KSxoPU1hdGgubWF4KGgsZSl9KSksdGhpcy5fYm91bmRzWzQqcl09byx0aGlzLl9ib3VuZHNbNCpyKzFdPXUsdGhpcy5fYm91bmRzWzQqcisyXT1kLHRoaXMuX2JvdW5kc1s0KnIrM109aCwhMH1nZXRCb3VuZHModCxlKXtjb25zdCBpPXRoaXMuZ2V0WE1pbihlKSxyPXRoaXMuZ2V0WU1pbihlKSxuPXRoaXMuZ2V0WE1heChlKSxvPXRoaXMuZ2V0WU1heChlKTtyZXR1cm4gcyh0LGkscixuLG8pLGkhPT1tfV9lbnN1cmVOdW1lcmljKHQsZSl7dGhpcy5fbnVtZXJpY3NbdF18fCh0aGlzLl9udW1lcmljc1t0XT1bXSk7cCh0aGlzLl9udW1lcmljc1t0XSxlLDApfV9lbnN1cmVJbnN0YW5jZUlkKHQpe3AodGhpcy5faW5zdGFuY2VJZHMsdCwwKX1fZW5zdXJlU3RyaW5nKHQsZSl7dGhpcy5fc3RyaW5nc1t0XXx8KHRoaXMuX3N0cmluZ3NbdF09W10pO3AodGhpcy5fc3RyaW5nc1t0XSxlLG51bGwpfX1leHBvcnR7bCBhcyBDb21wdXRlZEF0dHJpYnV0ZVN0b3JhZ2V9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMzMvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtudW1lcmljSGFzaCBhcyBlfWZyb21cIi4uLy4uLy4uLy4uLy4uL2NvcmUvc3RyaW5nLmpzXCI7aW1wb3J0e2NyZWF0ZVJlbmRlcmVyRXhwcmVzc2lvbiBhcyB0fWZyb21cIi4uLy4uLy4uLy4uLy4uL3N1cHBvcnQvQXJjYWRlRXhwcmVzc2lvbi5qc1wiO2ltcG9ydHtjYWxsRXhwcmVzc2lvbldpdGhDdXJzb3IgYXMgcixjYWxsRXhwcmVzc2lvbldpdGhDdXJzb3JXaXRoRGVmYXVsdCBhcyBzfWZyb21cIi4uLy4uLy4uL2FyY2FkZS9jYWxsRXhwcmVzc2lvbldpdGhDdXJzb3IuanNcIjtpbXBvcnR7QUNvbXB1dGVkRmllbGQgYXMgYX1mcm9tXCIuL0FDb21wdXRlZEZpZWxkLmpzXCI7ZnVuY3Rpb24gYyhlLHQpe2NvbnN0IHI9NDM3NTguNTQ1MypNYXRoLnNpbigxMi45ODk4KmUrNzguMjMzKnQpO3JldHVybiByLU1hdGguZmxvb3Iocil9Y2xhc3MgaSBleHRlbmRzIGF7c3RhdGljIGFzeW5jIGNyZWF0ZShyLHMpe2NvbnN0IGE9YXdhaXQgdChyLHMuc3BhdGlhbFJlZmVyZW5jZSksYz1lKHIpO3JldHVybiBuZXcgaShhLGMpfWNvbnN0cnVjdG9yKGUsdCl7c3VwZXIoKSx0aGlzLl9jb21waWxlZD1lLHRoaXMuX2NhY2hlS2V5PXR9cmVzaXplKGUpe31yZWFkKGUsdCl7cmV0dXJuIHRoaXMuaGFzQXJjYWRlRGVwZW5kZW5jeShcInNjYWxlXCIpfHxcInN5c3RlbVwiIT09dC4kdmlldy50aW1lWm9uZT9yKHRoaXMuX2NvbXBpbGVkLGUsdCk6dGhpcy5fcmVhZENhY2hlZChlLHQpfXJlYWRXaXRoRGVmYXVsdChlLHQscil7cmV0dXJuIHRoaXMuaGFzQXJjYWRlRGVwZW5kZW5jeShcInNjYWxlXCIpfHxcInN5c3RlbVwiIT09dC4kdmlldy50aW1lWm9uZT9zKHRoaXMuX2NvbXBpbGVkLGUsdCxyKTp0aGlzLl9yZWFkV2l0aERlZmF1bHRDYWNoZWQoZSx0LHIpfWhhc0FyY2FkZURlcGVuZGVuY3koZSl7cmV0dXJuIHRoaXMuX2NvbXBpbGVkPy5yZWZlcmVuY2VzKGUpPz8hMX1fZ2V0Q2FjaGVLZXkoZSl7aWYoIXRoaXMuX2NvbXBpbGVkPy5yZWZlcmVuY2VzKFwidGltZVByb3BlcnRpZXNcIikpcmV0dXJuIHRoaXMuX2NhY2hlS2V5O2NvbnN0e2N1cnJlbnRTdGFydDp0LGN1cnJlbnRFbmQ6cn09ZS4kdmlldy50aW1lUHJvcGVydGllcztyZXR1cm4gdGhpcy5fY2FjaGVLZXkrYyh0Pz8xLHI/PzEpfV9yZWFkQ2FjaGVkKGUsdCl7aWYoZS5zZXRDYWNoZSh0aGlzLl9nZXRDYWNoZUtleSh0KSksZS5oYXNDYWNoZWRWYWx1ZSgpKXJldHVybiBlLmdldENhY2hlZFZhbHVlKCk7Y29uc3Qgcz1yKHRoaXMuX2NvbXBpbGVkLGUsdCk7cmV0dXJuIGUuc2V0Q2FjaGVkVmFsdWUocyksc31fcmVhZFdpdGhEZWZhdWx0Q2FjaGVkKGUsdCxyKXtpZihlLnNldENhY2hlKHRoaXMuX2dldENhY2hlS2V5KHQpKSxlLmhhc0NhY2hlZFZhbHVlKCkpcmV0dXJuIGUuZ2V0Q2FjaGVkVmFsdWUoKTtjb25zdCBhPXModGhpcy5fY29tcGlsZWQsZSx0LHIpO3JldHVybiBlLnNldENhY2hlZFZhbHVlKGEpLGF9fWV4cG9ydHtpIGFzIENvbXB1dGVkRXhwcmVzc2lvbn07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4zMy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e2Zvcm1hdEZpZWxkIGFzIHJ9ZnJvbVwiLi4vLi4vLi4vLi4vLi4vbGF5ZXJzL3N1cHBvcnQvbGFiZWxGb3JtYXRVdGlscy5qc1wiO2ltcG9ydHtzcWxUb1RlbXBsYXRlU3RyaW5nIGFzIGV9ZnJvbVwiLi4vLi4vLi4vLi4vLi4vbGF5ZXJzL3N1cHBvcnQvbGFiZWxVdGlscy5qc1wiO2ltcG9ydHtpc0JhZEFyY2FkZVJlc3VsdCBhcyB0fWZyb21cIi4uLy4uLy4uL2FyY2FkZS9jYWxsRXhwcmVzc2lvbldpdGhDdXJzb3IuanNcIjtpbXBvcnR7QUNvbXB1dGVkRmllbGQgYXMgc31mcm9tXCIuL0FDb21wdXRlZEZpZWxkLmpzXCI7Y2xhc3MgYSBleHRlbmRzIHN7c3RhdGljIGFzeW5jIGNyZWF0ZSh0LHMpe2NvbnN0IGw9ZSh0KTtyZXR1cm4gbmV3IGEoKGU9PmwucmVwbGFjZUFsbCgve1tefV0qfS9nLCh0PT57Y29uc3Qgcz10LnNsaWNlKDEsLTEpLGE9ZS5tZXRhZGF0YS5maWVsZHNJbmRleC5nZXQocyk7aWYobnVsbD09YSlyZXR1cm4gdDtjb25zdCBsPWUucmVhZEF0dHJpYnV0ZShzKTtyZXR1cm4gbnVsbD09bD9cIlwiOnIobCxhKX0pKSkpfWNvbnN0cnVjdG9yKHIpe3N1cGVyKCksdGhpcy5fZXZhbHVhdG9yPXJ9cmVzaXplKHIpe31yZWFkKHIsZSl7cmV0dXJuIHRoaXMuX2V2YWx1YXRvcihyKX1yZWFkV2l0aERlZmF1bHQocixlLHMpe2NvbnN0IGE9dGhpcy5fZXZhbHVhdG9yKHIpO3JldHVybiB0KGEpP3M6YX1oYXNBcmNhZGVEZXBlbmRlbmN5KHIpe3JldHVybiExfX1leHBvcnR7YSBhcyBDb21wdXRlZExlZ2FjeUxhYmVsRXhwcmVzc2lvbn07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4zMy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e2FuYWx5emVUZXh0UGFydHMgYXMgdCxnZXRUZXh0VmFsdWVzRnJvbUZlYXR1cmVIYW5kbGUgYXMgZX1mcm9tXCIuLi8uLi8uLi8uLi8uLi9zeW1ib2xzL2NpbS91dGlscy5qc1wiO2ltcG9ydHtBQ29tcHV0ZWRGaWVsZCBhcyBzfWZyb21cIi4vQUNvbXB1dGVkRmllbGQuanNcIjtjbGFzcyByIGV4dGVuZHMgc3tjb25zdHJ1Y3RvcihlLHMpe3N1cGVyKCksdGhpcy5fdGVtcGxhdGU9ZSx0aGlzLl9wYXJ0cz10KGUudGVtcGxhdGUscyl9cmVzaXplKHQpe31yZWFkKHQscyl7cmV0dXJuIGUodCx0aGlzLl9wYXJ0cyx0aGlzLl90ZW1wbGF0ZS50ZXh0Q2FzZSl9cmVhZFdpdGhEZWZhdWx0KHQscyxyKXtyZXR1cm4gZSh0LHRoaXMuX3BhcnRzLHRoaXMuX3RlbXBsYXRlLnRleHRDYXNlKX1oYXNBcmNhZGVEZXBlbmRlbmN5KHQpe3JldHVybiExfX1leHBvcnR7ciBhcyBDb21wdXRlZERpY3Rpb25hcnlUZW1wbGF0ZX07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4zMy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e2NyZWF0ZURpc3BsYXlJZCBhcyBlfWZyb21cIi4uLy4uLy4uL2VuZ2luZS93ZWJnbC9EaXNwbGF5SWQuanNcIjtjbGFzcyB0e2NvbnN0cnVjdG9yKGUpe3RoaXMuZGF0YT1lLHRoaXMuX3JlZmVyZW5jZUNvdW50PTB9aW5jcmVtZW50KCl7dGhpcy5fcmVmZXJlbmNlQ291bnQrPTF9ZGVjcmVtZW50KCl7dGhpcy5fcmVmZXJlbmNlQ291bnQtPTF9ZW1wdHkoKXtyZXR1cm4gMD09PXRoaXMuX3JlZmVyZW5jZUNvdW50fX1jbGFzcyBze2NvbnN0cnVjdG9yKCl7dGhpcy5fZnJlZUlkc0dlbmVyYXRpb25BPVtdLHRoaXMuX2ZyZWVJZHNHZW5lcmF0aW9uQj1bXSx0aGlzLl9pZENvdW50ZXI9MSx0aGlzLl9mcmVlSWRzPXRoaXMuX2ZyZWVJZHNHZW5lcmF0aW9uQSx0aGlzLl9vYmplY3RJZFRvRGlzcGxheUlkPW5ldyBNYXB9Y3JlYXRlSWRGb3JPYmplY3RJZChzKXtsZXQgcj10aGlzLl9vYmplY3RJZFRvRGlzcGxheUlkLmdldChzKTtyZXR1cm4gcj9yLmluY3JlbWVudCgpOihyPW5ldyB0KGUodGhpcy5fZ2V0RnJlZUlkKCksITEpKSxyLmluY3JlbWVudCgpLHRoaXMuX29iamVjdElkVG9EaXNwbGF5SWQuc2V0KHMscikpLHIuZGF0YX1yZWxlYXNlSWRGb3JPYmplY3RJZChlKXtjb25zdCB0PXRoaXMuX29iamVjdElkVG9EaXNwbGF5SWQuZ2V0KGUpO3QmJih0LmRlY3JlbWVudCgpLHQuZW1wdHkoKSYmKHRoaXMuX29iamVjdElkVG9EaXNwbGF5SWQuZGVsZXRlKGUpLHRoaXMuX2ZyZWVJZHMucHVzaCh0LmRhdGEpKSl9Z2V0RGlzcGxheUlkRm9yT2JqZWN0SWQoZSl7Y29uc3QgdD10aGlzLl9vYmplY3RJZFRvRGlzcGxheUlkLmdldChlKTtyZXR1cm4gbnVsbCE9dD90LmRhdGE6bnVsbH1yZWxlYXNlQWxsKCl7Zm9yKGNvbnN0IGUgb2YgdGhpcy5fb2JqZWN0SWRUb0Rpc3BsYXlJZC52YWx1ZXMoKSl0aGlzLl9mcmVlSWRzLnB1c2goZS5kYXRhKTt0aGlzLl9vYmplY3RJZFRvRGlzcGxheUlkLmNsZWFyKCl9aW5jcmVtZW50R2VuZXJhdGlvbigpe3RoaXMuX2ZyZWVJZHM9dGhpcy5fZnJlZUlkcz09PXRoaXMuX2ZyZWVJZHNHZW5lcmF0aW9uQT90aGlzLl9mcmVlSWRzR2VuZXJhdGlvbkI6dGhpcy5fZnJlZUlkc0dlbmVyYXRpb25BfV9nZXRGcmVlSWQoKXtyZXR1cm4gdGhpcy5fZnJlZUlkcy5sZW5ndGg/dGhpcy5fZnJlZUlkcy5wb3AoKTp0aGlzLl9pZENvdW50ZXIrK319ZXhwb3J0e3MgYXMgRGlzcGxheUlkR2VuZXJhdG9yfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjMzL2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnQgdCBmcm9tXCIuLi8uLi8uLi8uLi8uLi9jb3JlL0Vycm9yLmpzXCI7aW1wb3J0IGUgZnJvbVwiLi4vLi4vLi4vLi4vLi4vY29yZS9Mb2dnZXIuanNcIjtpbXBvcnR7Y3JlYXRlIGFzIGl9ZnJvbVwiLi4vLi4vLi4vLi4vLi4vZ2VvbWV0cnkvc3VwcG9ydC9hYUJvdW5kaW5nUmVjdC5qc1wiO2ltcG9ydHtnZXRCb3VuZHNYWSBhcyBzfWZyb21cIi4uLy4uLy4uLy4uLy4uL2dlb21ldHJ5L3N1cHBvcnQvYm91bmRzVXRpbHMuanNcIjtpbXBvcnR7bm9ybWFsaXplUXVlcnlMaWtlIGFzIHJ9ZnJvbVwiLi4vLi4vLi4vLi4vLi4vbGF5ZXJzL2dyYXBoaWNzL2RhdGEvcXVlcnlVdGlscy5qc1wiO2ltcG9ydHtnZXRTcGF0aWFsUXVlcnlPcGVyYXRvciBhcyBvfWZyb21cIi4uLy4uLy4uLy4uLy4uL2xheWVycy9ncmFwaGljcy9kYXRhL3NwYXRpYWxRdWVyeVN1cHBvcnQuanNcIjtpbXBvcnR7Z2V0VGltZU9wZXJhdG9yIGFzIGF9ZnJvbVwiLi4vLi4vLi4vLi4vLi4vbGF5ZXJzL2dyYXBoaWNzL2RhdGEvdGltZVN1cHBvcnQuanNcIjtpbXBvcnQgaCBmcm9tXCIuLi8uLi8uLi8uLi8uLi9yZXN0L3N1cHBvcnQvUXVlcnkuanNcIjtpbXBvcnR7RmVhdHVyZVN0b3JlUXVlcnlBZGFwdGVyIGFzIGx9ZnJvbVwiLi4vRmVhdHVyZVN0b3JlUXVlcnlBZGFwdGVyLmpzXCI7aW1wb3J0e2NyZWF0ZVdoZXJlQ2xhdXNlIGFzIG59ZnJvbVwiLi93aGVyZVV0aWxzLmpzXCI7Y29uc3QgbT0xLGQ9MjtjbGFzcyBwe2NvbnN0cnVjdG9yKHQpe3RoaXMuX2dlb21ldHJ5Qm91bmRzPWkoKSx0aGlzLl9pZFRvVmlzaWJpbGl0eT1uZXcgTWFwLHRoaXMuX3NlcnZpY2VJbmZvPXR9c3RhdGljIGFzeW5jIGNyZWF0ZSh0KXtjb25zdCBlPW5ldyBwKHQpO3JldHVybiBhd2FpdCBlLnVwZGF0ZSh0LmZpbHRlckpTT04sdC5zcGF0aWFsUmVmZXJlbmNlKSxlfWdldCBoYXNoKCl7cmV0dXJuIHRoaXMuX2hhc2h9Y2hlY2sodCxlKXtyZXR1cm4gdGhpcy5fYXBwbHlGaWx0ZXIodCxlKX1pbnZhbGlkYXRlKCl7dGhpcy5faWRUb1Zpc2liaWxpdHkuZm9yRWFjaCgoKHQsZSk9Pnt0aGlzLl9pZFRvVmlzaWJpbGl0eS5zZXQoZSwwKX0pKX1zZXRLbm93bklkcyh0KXtmb3IoY29uc3QgZSBvZiB0KXRoaXMuX2lkVG9WaXNpYmlsaXR5LnNldChlLG0pfXNldFRydWUodCl7Y29uc3QgZT1bXSxpPVtdLHM9bmV3IFNldCh0KTtyZXR1cm4gdGhpcy5faWRUb1Zpc2liaWxpdHkuZm9yRWFjaCgoKHQscik9Pntjb25zdCBvPSEhKHRoaXMuX2lkVG9WaXNpYmlsaXR5LmdldChyKSZtKSxhPXMuaGFzKHIpOyFvJiZhP2UucHVzaChyKTpvJiYhYSYmaS5wdXNoKHIpLHRoaXMuX2lkVG9WaXNpYmlsaXR5LnNldChyLGE/bXxkOjApfSkpLHtzaG93OmUsaGlkZTppfX1jcmVhdGVRdWVyeSgpe2NvbnN0e2dlb21ldHJ5OnQsc3BhdGlhbFJlbDplLHdoZXJlOmksdGltZUV4dGVudDpzLG9iamVjdElkczpyfT10aGlzO3JldHVybiBoLmZyb21KU09OKHtnZW9tZXRyeTp0LHNwYXRpYWxSZWw6ZSx3aGVyZTppLHRpbWVFeHRlbnQ6cyxvYmplY3RJZHM6cn0pfWFzeW5jIHVwZGF0ZSh0LGUpe3RoaXMuX2hhc2g9SlNPTi5zdHJpbmdpZnkodCk7Y29uc3QgaT1hd2FpdCByKHQsbnVsbCxlKTthd2FpdCBQcm9taXNlLmFsbChbdGhpcy5fc2V0R2VvbWV0cnlGaWx0ZXIoaSksdGhpcy5fc2V0SWRGaWx0ZXIoaSksdGhpcy5fc2V0QXR0cmlidXRlRmlsdGVyKGkpLHRoaXMuX3NldFRpbWVGaWx0ZXIoaSldKX1hc3luYyBfc2V0QXR0cmlidXRlRmlsdGVyKHQpe2lmKCF0Py53aGVyZSlyZXR1cm4gdGhpcy5fY2xhdXNlPW51bGwsdm9pZCh0aGlzLndoZXJlPW51bGwpO3RoaXMuX2NsYXVzZT1hd2FpdCBuKHQud2hlcmUsdGhpcy5fc2VydmljZUluZm8uZmllbGRzSW5kZXgpLHRoaXMud2hlcmU9dC53aGVyZX1fc2V0SWRGaWx0ZXIodCl7dGhpcy5faWRzVG9TaG93PXQ/Lm9iamVjdElkcyYmbmV3IFNldCh0Lm9iamVjdElkcyksdGhpcy5faWRzVG9IaWRlPXQ/LmhpZGRlbklkcyYmbmV3IFNldCh0LmhpZGRlbklkcyksdGhpcy5vYmplY3RJZHM9dD8ub2JqZWN0SWRzfWFzeW5jIF9zZXRHZW9tZXRyeUZpbHRlcih0KXtpZighdD8uZ2VvbWV0cnkpcmV0dXJuIHRoaXMuX3NwYXRpYWxRdWVyeU9wZXJhdG9yPW51bGwsdGhpcy5nZW9tZXRyeT1udWxsLHZvaWQodGhpcy5zcGF0aWFsUmVsPW51bGwpO2NvbnN0IGU9dC5nZW9tZXRyeSxpPXQuc3BhdGlhbFJlbD8/XCJlc3JpU3BhdGlhbFJlbEludGVyc2VjdHNcIixyPWF3YWl0IG8oaSxlLHRoaXMuX3NlcnZpY2VJbmZvLmdlb21ldHJ5VHlwZSx0aGlzLl9zZXJ2aWNlSW5mby5oYXNaLHRoaXMuX3NlcnZpY2VJbmZvLmhhc00pO3ModGhpcy5fZ2VvbWV0cnlCb3VuZHMsZSksdGhpcy5fc3BhdGlhbFF1ZXJ5T3BlcmF0b3I9cix0aGlzLmdlb21ldHJ5PWUsdGhpcy5zcGF0aWFsUmVsPWl9X3NldFRpbWVGaWx0ZXIoaSl7aWYodGhpcy50aW1lRXh0ZW50PXRoaXMuX3RpbWVPcGVyYXRvcj1udWxsLGk/LnRpbWVFeHRlbnQpaWYodGhpcy5fc2VydmljZUluZm8udGltZUluZm8pdGhpcy50aW1lRXh0ZW50PWkudGltZUV4dGVudCx0aGlzLl90aW1lT3BlcmF0b3I9YSh0aGlzLl9zZXJ2aWNlSW5mby50aW1lSW5mbyxpLnRpbWVFeHRlbnQsbC5TaGFyZWQpO2Vsc2V7Y29uc3Qgcz1uZXcgdChcImZlYXR1cmUtbGF5ZXItdmlldzp0aW1lLWZpbHRlci1ub3QtYXZhaWxhYmxlXCIsXCJVbmFibGUgdG8gYXBwbHkgdGltZSBmaWx0ZXIsIGFzIGxheWVyIGRvZXNuJ3QgaGF2ZSB0aW1lIG1ldGFkYXRhLlwiLGkudGltZUV4dGVudCk7ZS5nZXRMb2dnZXIoXCJlc3JpLnZpZXdzLjJkLmxheWVycy5mZWF0dXJlcy5jb250cm9sbGVycy5GZWF0dXJlRmlsdGVyXCIpLmVycm9yKHMpfX1fYXBwbHlGaWx0ZXIodCxlKXtyZXR1cm4gdGhpcy5fZmlsdGVyQnlHZW9tZXRyeSh0KSYmdGhpcy5fZmlsdGVyQnlJZCh0KSYmdGhpcy5fZmlsdGVyQnlUaW1lKHQpJiZ0aGlzLl9maWx0ZXJCeUV4cHJlc3Npb24odCxlKX1fZmlsdGVyQnlFeHByZXNzaW9uKHQsZSl7cmV0dXJuIXRoaXMud2hlcmV8fHRoaXMuX2NsYXVzZSh0LGUpfV9maWx0ZXJCeUlkKHQpe3JldHVybighdGhpcy5faWRzVG9IaWRlPy5zaXplfHwhdGhpcy5faWRzVG9IaWRlLmhhcyh0LmdldE9iamVjdElkKCkpKSYmKCF0aGlzLl9pZHNUb1Nob3c/LnNpemV8fHRoaXMuX2lkc1RvU2hvdy5oYXModC5nZXRPYmplY3RJZCgpKSl9X2ZpbHRlckJ5R2VvbWV0cnkodCl7aWYoIXRoaXMuZ2VvbWV0cnkpcmV0dXJuITA7Y29uc3QgZT10LnJlYWRHZW9tZXRyeVdvcmxkU3BhY2UoKTtyZXR1cm4hIWUmJnRoaXMuX3NwYXRpYWxRdWVyeU9wZXJhdG9yKGUpfV9maWx0ZXJCeVRpbWUodCl7cmV0dXJuIG51bGw9PXRoaXMuX3RpbWVPcGVyYXRvcnx8dGhpcy5fdGltZU9wZXJhdG9yKHQpfX1leHBvcnR7cCBhcyBkZWZhdWx0fTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjMzL2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnQgZSBmcm9tXCIuLi8uLi8uLi8uLi8uLi9nZW9tZXRyeS9TcGF0aWFsUmVmZXJlbmNlLmpzXCI7aW1wb3J0IHQgZnJvbVwiLi4vLi4vLi4vLi4vLi4vbGF5ZXJzL3N1cHBvcnQvRmllbGRzSW5kZXguanNcIjtjbGFzcyBpe3N0YXRpYyBtaW5pbWFsKGUsbixsPVtdKXtyZXR1cm4gbmV3IGkoe2dlb21ldHJ5VHlwZTplLGZpZWxkc0luZGV4Om5ldyB0KGwpLnRvSlNPTigpLGZlYXR1cmVJZEluZm86e3R5cGU6XCJvYmplY3QtaWRcIixmaWVsZE5hbWU6bn0sc3VidHlwZXM6bnVsbCxzdWJ0eXBlRmllbGQ6bnVsbCx0eXBlczpudWxsLGdsb2JhbElkRmllbGQ6bnVsbCxzcGF0aWFsUmVmZXJlbmNlOm51bGwsb3V0U3BhdGlhbFJlZmVyZW5jZTpudWxsLHRpbWVJbmZvOm51bGwsdGltZVJlZmVyZW5jZVVua25vd25DbGllbnQ6bnVsbCxkYXRlRmllbGRzVGltZVpvbmU6bnVsbCx0eXBlSWRGaWVsZDpudWxsfSl9c3RhdGljIGNyZWF0ZUZlYXR1cmUoZSl7cmV0dXJuIG5ldyBpKGUpfWNvbnN0cnVjdG9yKGkpe2xldCBuO3RoaXMuX29wdGlvbnM9aSx0aGlzLl9maWVsZHNJbmRleD10LmZyb21KU09OKGkuZmllbGRzSW5kZXgpLGkuc3BhdGlhbFJlZmVyZW5jZSYmKHRoaXMuX3NwYXRpYWxSZWZlcmVuY2U9ZS5mcm9tSlNPTihpLnNwYXRpYWxSZWZlcmVuY2UpKSxpLm91dFNwYXRpYWxSZWZlcmVuY2UmJih0aGlzLl9vdXRTcGF0aWFsUmVmZXJlbmNlPWUuZnJvbUpTT04oaS5vdXRTcGF0aWFsUmVmZXJlbmNlKSksXCJvYmplY3QtaWRcIj09PWkuZmVhdHVyZUlkSW5mby50eXBlJiYobj1pLmZlYXR1cmVJZEluZm8uZmllbGROYW1lKSx0aGlzLl9hcmNhZGVTY2hlbWE9e2ZpZWxkczp0aGlzLmZpZWxkc0luZGV4LmZpZWxkcyxmaWVsZHNJbmRleDp0aGlzLmZpZWxkc0luZGV4LGdlb21ldHJ5VHlwZTp0aGlzLmdlb21ldHJ5VHlwZSxvYmplY3RJZEZpZWxkOm4sZ2xvYmFsSWRGaWVsZDp0aGlzLl9vcHRpb25zLmdsb2JhbElkRmllbGQsc3BhdGlhbFJlZmVyZW5jZTp0aGlzLl9zcGF0aWFsUmVmZXJlbmNlLHRpbWVJbmZvOnRoaXMuX29wdGlvbnMudGltZUluZm8sdHlwZUlkRmllbGQ6dGhpcy5fb3B0aW9ucy50eXBlSWRGaWVsZD8/dm9pZCAwLHR5cGVzOnRoaXMuX29wdGlvbnMudHlwZXM/P3ZvaWQgMCxzdWJ0eXBlRmllbGQ6dGhpcy5fb3B0aW9ucy5zdWJ0eXBlRmllbGQsc3VidHlwZXM6dGhpcy5fb3B0aW9ucy5zdWJ0eXBlcz8/dm9pZCAwLGRhdGVzSW5Vbmtub3duVGltZXpvbmU6dGhpcy5fb3B0aW9ucy50aW1lUmVmZXJlbmNlVW5rbm93bkNsaWVudD8/dm9pZCAwLGRhdGVGaWVsZHNUaW1lWm9uZTp0aGlzLl9vcHRpb25zLmRhdGVGaWVsZHNUaW1lWm9uZT8/dm9pZCAwfX1nZXQgZmllbGRzSW5kZXgoKXtyZXR1cm4gdGhpcy5fZmllbGRzSW5kZXh9Z2V0IGdlb21ldHJ5VHlwZSgpe3JldHVyblwiZXNyaUdlb21ldHJ5TXVsdGlQYXRjaFwiPT09dGhpcy5fb3B0aW9ucy5nZW9tZXRyeVR5cGU/XCJlc3JpR2VvbWV0cnlQb2x5Z29uXCI6dGhpcy5fb3B0aW9ucy5nZW9tZXRyeVR5cGV9Z2V0IHNlcnZpY2VHZW9tZXRyeVR5cGUoKXtyZXR1cm4gdGhpcy5fb3B0aW9ucy5nZW9tZXRyeVR5cGV9Z2V0IHN1YnR5cGVGaWVsZCgpe3JldHVybiB0aGlzLl9vcHRpb25zLnN1YnR5cGVGaWVsZH1nZXQgdGltZUluZm8oKXtyZXR1cm4gdGhpcy5fb3B0aW9ucy50aW1lSW5mb31nZXQgZmVhdHVyZUlkSW5mbygpe3JldHVybiB0aGlzLl9vcHRpb25zLmZlYXR1cmVJZEluZm99Z2V0IGdsb2JhbElkRmllbGQoKXtyZXR1cm4gdGhpcy5fb3B0aW9ucy5nbG9iYWxJZEZpZWxkfWdldCBhcmNhZGVTY2hlbWEoKXtyZXR1cm4gdGhpcy5fYXJjYWRlU2NoZW1hfWdldCBzcGF0aWFsUmVmZXJlbmNlKCl7cmV0dXJuIHRoaXMuX3NwYXRpYWxSZWZlcmVuY2V9Z2V0IG91dFNwYXRpYWxSZWZlcmVuY2UoKXtyZXR1cm4gdGhpcy5fb3V0U3BhdGlhbFJlZmVyZW5jZX1nZXQgdGltZVJlZmVyZW5jZVVua25vd25DbGllbnQoKXtyZXR1cm4gdGhpcy5fb3B0aW9ucy50aW1lUmVmZXJlbmNlVW5rbm93bkNsaWVudH13ZWFrQ2xvbmVXaXRoQWRkaXRpb25hbEZpZWxkcyhlKXtyZXR1cm4gbmV3IGkoe2ZpZWxkc0luZGV4OntmaWVsZHM6Wy4uLnRoaXMuX2ZpZWxkc0luZGV4LmZpZWxkcywuLi5lXSx0aW1lWm9uZUJ5RmllbGROYW1lOm51bGx9LGdlb21ldHJ5VHlwZTp0aGlzLmdlb21ldHJ5VHlwZSxnbG9iYWxJZEZpZWxkOnRoaXMuZ2xvYmFsSWRGaWVsZCxmZWF0dXJlSWRJbmZvOnRoaXMuZmVhdHVyZUlkSW5mbyxzcGF0aWFsUmVmZXJlbmNlOnRoaXMuc3BhdGlhbFJlZmVyZW5jZSxvdXRTcGF0aWFsUmVmZXJlbmNlOnRoaXMub3V0U3BhdGlhbFJlZmVyZW5jZSxzdWJ0eXBlRmllbGQ6dGhpcy5zdWJ0eXBlRmllbGQsc3VidHlwZXM6dGhpcy5fb3B0aW9ucy5zdWJ0eXBlcyx0aW1lSW5mbzp0aGlzLnRpbWVJbmZvLHRpbWVSZWZlcmVuY2VVbmtub3duQ2xpZW50OnRoaXMudGltZVJlZmVyZW5jZVVua25vd25DbGllbnQsZGF0ZUZpZWxkc1RpbWVab25lOnRoaXMuX29wdGlvbnMuZGF0ZUZpZWxkc1RpbWVab25lLHR5cGVJZEZpZWxkOnRoaXMuX29wdGlvbnMudHlwZUlkRmllbGQsdHlwZXM6dGhpcy5fb3B0aW9ucy50eXBlc30pfX1jbGFzcyBuIGV4dGVuZHMgaXtzdGF0aWMgY3JlYXRlR3JhcGhpY3MoZSl7cmV0dXJuIG5ldyBuKHtmaWVsZHNJbmRleDoobmV3IHQpLnRvSlNPTigpLGZlYXR1cmVJZEluZm86e3R5cGU6XCJvYmplY3QtaWRcIixmaWVsZE5hbWU6XCJ1aWRcIn0sZ2VvbWV0cnlUeXBlOm51bGwsc3BhdGlhbFJlZmVyZW5jZTplLG91dFNwYXRpYWxSZWZlcmVuY2U6ZSxnbG9iYWxJZEZpZWxkOm51bGwsc3VidHlwZUZpZWxkOm51bGwsc3VidHlwZXM6bnVsbCx0aW1lSW5mbzpudWxsLHR5cGVJZEZpZWxkOm51bGwsdHlwZXM6bnVsbCx0aW1lUmVmZXJlbmNlVW5rbm93bkNsaWVudDpudWxsLGRhdGVGaWVsZHNUaW1lWm9uZTpudWxsfSl9fWV4cG9ydHtpIGFzIEZlYXR1cmVNZXRhZGF0YSxuIGFzIEdyYXBoaWNzTWV0YWRhdGF9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMzMvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtTdGF0aWNCaXRTZXQgYXMgdH1mcm9tXCIuL1N0YXRpY0JpdFNldC5qc1wiO2NsYXNzIGF7Y29uc3RydWN0b3IoYSl7dGhpcy5fdmFsaWQ9dC5jcmVhdGUoYSksdGhpcy5fZGF0YT1uZXcgQXJyYXkoYSl9aGFzKHQpe3JldHVybiB0aGlzLl92YWxpZC5oYXModCl9c2V0KHQsYSl7dGhpcy5fdmFsaWQuc2V0KHQpLHRoaXMuX2RhdGFbdF09YX1nZXQodCl7cmV0dXJuIHRoaXMuX2RhdGFbdF19fWV4cG9ydHthIGFzIEZlYXR1cmVTZXRDYWNoZX07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4zMy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e0FyY2FkZURhdGUgYXMgZX1mcm9tXCIuLi8uLi8uLi8uLi8uLi9hcmNhZGUvQXJjYWRlRGF0ZS5qc1wiO2ltcG9ydCBoYXMgZnJvbVwiLi4vLi4vLi4vLi4vLi4vY29yZS9oYXMuanNcIjtpbXBvcnR7RGF0ZU9ubHkgYXMgdH1mcm9tXCIuLi8uLi8uLi8uLi8uLi9jb3JlL3NxbC9EYXRlT25seS5qc1wiO2ltcG9ydHtUaW1lT25seSBhcyByfWZyb21cIi4uLy4uLy4uLy4uLy4uL2NvcmUvc3FsL1RpbWVPbmx5LmpzXCI7aW1wb3J0e0dlb21ldHJ5Q3Vyc29yIGFzIHN9ZnJvbVwiLi4vLi4vLi4vLi4vLi4vZ2VvbWV0cnkvR2VvbWV0cnlDdXJzb3IuanNcIjtpbXBvcnR7ZnJvbVJlY3RWYWx1ZXMgYXMgaX1mcm9tXCIuLi8uLi8uLi8uLi8uLi9nZW9tZXRyeS9zdXBwb3J0L2FhQm91bmRpbmdCb3guanNcIjtpbXBvcnR7ZnJvbUpTT04gYXMgYX1mcm9tXCIuLi8uLi8uLi8uLi8uLi9nZW9tZXRyeS9zdXBwb3J0L2pzb25VdGlscy5qc1wiO2ltcG9ydHtnZXRMYWJlbFBvaW50IGFzIG99ZnJvbVwiLi4vLi4vLi4vLi4vLi4vZ2VvbWV0cnkvc3VwcG9ydC9sYWJlbFBvaW50LmpzXCI7aW1wb3J0e3F1YW50aXplWCBhcyBuLHF1YW50aXplWSBhcyBkfWZyb21cIi4uLy4uLy4uLy4uLy4uL2dlb21ldHJ5L3N1cHBvcnQvcXVhbnRpemF0aW9uVXRpbHMuanNcIjtpbXBvcnR7Z2V0Q2VudHJvaWRPcHRpbWl6ZWRHZW9tZXRyeSBhcyB1fWZyb21cIi4uLy4uLy4uLy4uLy4uL2xheWVycy9ncmFwaGljcy9jZW50cm9pZC5qc1wiO2ltcG9ydHtjb252ZXJ0VG9HZW9tZXRyeSBhcyBoLGdlbmVyYWxpemVPcHRpbWl6ZWRHZW9tZXRyeSBhcyBjLHF1YW50aXplRm9yRGlzcGxheSBhcyBsLHVucXVhbnRpemVPcHRpbWl6ZWRHZW9tZXRyeSBhcyBtfWZyb21cIi4uLy4uLy4uLy4uLy4uL2xheWVycy9ncmFwaGljcy9mZWF0dXJlQ29udmVyc2lvblV0aWxzLmpzXCI7aW1wb3J0e09wdGltaXplZEZlYXR1cmUgYXMgeX1mcm9tXCIuLi8uLi8uLi8uLi8uLi9sYXllcnMvZ3JhcGhpY3MvT3B0aW1pemVkRmVhdHVyZS5qc1wiO2ltcG9ydCBmIGZyb21cIi4uLy4uLy4uLy4uLy4uL2xheWVycy9ncmFwaGljcy9PcHRpbWl6ZWRHZW9tZXRyeS5qc1wiO2ltcG9ydHtzeXN0ZW0gYXMgcCx1bmtub3duIGFzIGd9ZnJvbVwiLi4vLi4vLi4vLi4vLi4vdGltZS9jb25zdGFudHMuanNcIjtpbXBvcnR7RmVhdHVyZVNldENhY2hlIGFzIF99ZnJvbVwiLi9GZWF0dXJlU2V0Q2FjaGUuanNcIjtjb25zdCBiPWhhcyhcImZlYXR1cmVsYXllci1zaW1wbGlmeS10aHJlc2hvbGRzXCIpPz9bLjUsLjUsLjUsLjVdLHg9YlswXSxEPWJbMV0sVD1iWzJdLEY9YlszXSxBPWhhcyhcImZlYXR1cmVsYXllci1zaW1wbGlmeS1wYXlsb2FkLXNpemUtZmFjdG9yc1wiKT8/WzEsMiw0XSxTPUFbMF0sST1BWzFdLEI9QVsyXSxqPWhhcyhcImZlYXR1cmVsYXllci1zaW1wbGlmeS1tb2JpbGUtZmFjdG9yXCIpPz8yLEc9aGFzKFwiZXNyaS1tb2JpbGVcIiksTT00Mjk0OTY3Mjk1O2Z1bmN0aW9uIEMoZSx0LHIpe2lmKCEoZS5sZW5ndGg+dCkpZm9yKDtlLmxlbmd0aDw9dDspZS5wdXNoKHIpfWNsYXNzIHZ7Y29uc3RydWN0b3IoZSl7dGhpcy5tZXRhZGF0YT1lLHRoaXMudHlwZT1cIkZlYXR1cmVTZXRSZWFkZXJcIix0aGlzLl9vdmVycmlkZXM9bnVsbCx0aGlzLl9qb2luZWQ9W10sdGhpcy5fb2JqZWN0SWRUb0luZGV4PW51bGwsdGhpcy5fYm91bmRzQnVmZmVyPVtdLHRoaXMuX2NhY2hlcz1uZXcgTWFwLHRoaXMuYXJjYWRlRGVjbGFyZWRDbGFzcz1cImVzcmkuYXJjYWRlLkZlYXR1cmVcIix0aGlzLl9jb250ZXh0VGltZVpvbmU9bnVsbH1kZXN0cm95KCl7fVtTeW1ib2wuZGlzcG9zZV0oKXt0aGlzLmRlc3Ryb3koKX1nZXRBcmVhU2ltcGxpZmljYXRpb25UaHJlc2hvbGQoZSx0KXtsZXQgcj0xO2NvbnN0IHM9Rz9qOjE7dD40ZTY/cj1CKnM6dD4xZTY/cj1JKnM6dD41ZTU/cj1TKnM6dD4xZTUmJihyPXMpO2xldCBpPTA7cmV0dXJuIGU+NGUzP2k9RipyOmU+MmUzP2k9VCpyOmU+MTAwP2k9RDplPjE1JiYoaT14KSxpfWdldEJvdW5kcyhlKXtpZihDKHRoaXMuX2JvdW5kc0J1ZmZlciw0KnRoaXMuZ2V0SW5kZXgoKSs0LDApLHRoaXMuZ2V0Qm91bmRzWE1pbigpPT09TSlyZXR1cm4hMTtpZigwPT09dGhpcy5nZXRCb3VuZHNYTWluKCkpe2NvbnN0IHQ9dGhpcy5yZWFkR2VvbWV0cnlXb3JsZFNwYWNlKCk7aWYoIXQpcmV0dXJuIHRoaXMuc2V0Qm91bmRzWE1pbihNKSwhMTtsZXQgcj0xLzAscz0xLzAsYT0tMS8wLG89LTEvMDtyZXR1cm4gdC5mb3JFYWNoVmVydGV4KCgoZSx0KT0+e3I9TWF0aC5taW4ocixlKSxzPU1hdGgubWluKHMsdCksYT1NYXRoLm1heChhLGUpLG89TWF0aC5tYXgobyx0KX0pKSx0aGlzLnNldEJvdW5kc1hNaW4ociksdGhpcy5zZXRCb3VuZHNZTWluKHMpLHRoaXMuc2V0Qm91bmRzWE1heChhKSx0aGlzLnNldEJvdW5kc1lNYXgobyksaShlLHIscyxhLG8pLCEwfWNvbnN0IHQ9dGhpcy5nZXRCb3VuZHNYTWluKCkscj10aGlzLmdldEJvdW5kc1lNaW4oKSxzPXRoaXMuZ2V0Qm91bmRzWE1heCgpLGE9dGhpcy5nZXRCb3VuZHNZTWF4KCk7cmV0dXJuIGkoZSx0LHIscyxhKSwhMH1nZXRCb3VuZHNYTWluKCl7cmV0dXJuIHRoaXMuX2JvdW5kc0J1ZmZlcls0KnRoaXMuZ2V0SW5kZXgoKV19c2V0Qm91bmRzWE1pbihlKXt0aGlzLl9ib3VuZHNCdWZmZXJbNCp0aGlzLmdldEluZGV4KCldPWV9Z2V0Qm91bmRzWU1pbigpe3JldHVybiB0aGlzLl9ib3VuZHNCdWZmZXJbNCp0aGlzLmdldEluZGV4KCkrMV19c2V0Qm91bmRzWU1pbihlKXt0aGlzLl9ib3VuZHNCdWZmZXJbNCp0aGlzLmdldEluZGV4KCkrMV09ZX1nZXRCb3VuZHNYTWF4KCl7cmV0dXJuIHRoaXMuX2JvdW5kc0J1ZmZlcls0KnRoaXMuZ2V0SW5kZXgoKSsyXX1zZXRCb3VuZHNYTWF4KGUpe3RoaXMuX2JvdW5kc0J1ZmZlcls0KnRoaXMuZ2V0SW5kZXgoKSsyXT1lfWdldEJvdW5kc1lNYXgoKXtyZXR1cm4gdGhpcy5fYm91bmRzQnVmZmVyWzQqdGhpcy5nZXRJbmRleCgpKzNdfXNldEJvdW5kc1lNYXgoZSl7dGhpcy5fYm91bmRzQnVmZmVyWzQqdGhpcy5nZXRJbmRleCgpKzNdPWV9cmVhZEF0dHJpYnV0ZUFzVGltZXN0YW1wKGUpe2NvbnN0IHQ9dGhpcy5yZWFkQXR0cmlidXRlKGUpO3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiB0P25ldyBEYXRlKHQpLmdldFRpbWUoKTpcIm51bWJlclwiPT10eXBlb2YgdHx8bnVsbD09dD90Om51bGx9cmVhZEF0dHJpYnV0ZShlLHQ9ITEpe2NvbnN0IHI9dGhpcy5fcmVhZEF0dHJpYnV0ZShlLHQpO2lmKHZvaWQgMCE9PXIpcmV0dXJuIHI7Zm9yKGNvbnN0IHMgb2YgdGhpcy5fam9pbmVkKXtzLnNldEluZGV4KHRoaXMuZ2V0SW5kZXgoKSk7Y29uc3Qgcj1zLl9yZWFkQXR0cmlidXRlKGUsdCk7aWYodm9pZCAwIT09cilyZXR1cm4gcn19cmVhZEF0dHJpYnV0ZXMoKXtjb25zdCBlPXRoaXMuX3JlYWRBdHRyaWJ1dGVzKCk7Zm9yKGNvbnN0IHQgb2YgdGhpcy5fam9pbmVkKXt0LnNldEluZGV4KHRoaXMuZ2V0SW5kZXgoKSk7Y29uc3Qgcj10Ll9yZWFkQXR0cmlidXRlcygpO2Zvcihjb25zdCB0IG9mIE9iamVjdC5rZXlzKHIpKWVbdF09clt0XX1yZXR1cm4gZX1qb2luQXR0cmlidXRlcyhlKXt0aGlzLl9qb2luZWQucHVzaChlKX1yZWdpc3Rlck92ZXJyaWRlcyhlKXt0aGlzLl9vdmVycmlkZXM9ZX13aXRob3V0T3ZlcnJpZGVzKCl7Y29uc3QgZT10aGlzLmNvcHkoKTtyZXR1cm4gZS5fb3ZlcnJpZGVzPW51bGwsZX1yZWFkT3B0aW1pemVkRmVhdHVyZVdvcmxkU3BhY2UoKXtjb25zdCBlPXRoaXMucmVhZEdlb21ldHJ5V29ybGRTcGFjZSgpLHQ9dGhpcy5yZWFkQXR0cmlidXRlcygpLHI9dGhpcy5yZWFkQ2VudHJvaWRXb3JsZFNwYWNlKCk7cmV0dXJuIG5ldyB5KGUsdCxyLHRoaXMuZ2V0T2JqZWN0SWQoKSx0aGlzLmdldERpc3BsYXlJZCgpKX1yZWFkTGVnYWN5RmVhdHVyZUZvckRpc3BsYXkoKXtjb25zdCBlPXRoaXMucmVhZENlbnRyb2lkRm9yRGlzcGxheSgpO3JldHVybnthdHRyaWJ1dGVzOnRoaXMucmVhZEF0dHJpYnV0ZXMoKSxnZW9tZXRyeTp0aGlzLnJlYWRMZWdhY3lHZW9tZXRyeUZvckRpc3BsYXkoKSxjZW50cm9pZDooZSYme3g6ZS5jb29yZHNbMF0seTplLmNvb3Jkc1sxXX0pPz9udWxsfX1yZWFkTGVnYWN5RmVhdHVyZVdvcmxkU3BhY2UoKXtjb25zdCBlPXRoaXMucmVhZENlbnRyb2lkV29ybGRTcGFjZSgpO3JldHVybnthdHRyaWJ1dGVzOnRoaXMucmVhZEF0dHJpYnV0ZXMoKSxnZW9tZXRyeTp0aGlzLl9yZWFkTGVnYWN5R2VvbWV0cnlXb3JsZFNwYWNlKCksY2VudHJvaWQ6KGUmJnt4OmUuY29vcmRzWzBdLHk6ZS5jb29yZHNbMV19KT8/bnVsbH19cmVhZExlZ2FjeUdlb21ldHJ5Rm9yRGlzcGxheSgpe2NvbnN0IGU9dGhpcy5yZWFkR2VvbWV0cnlGb3JEaXNwbGF5KCk7cmV0dXJuIGgoZSx0aGlzLmdlb21ldHJ5VHlwZSwhMSwhMSl9cmVhZFhGb3JEaXNwbGF5KCl7cmV0dXJuIHRoaXMuX3JlYWRYKCl9cmVhZFlGb3JEaXNwbGF5KCl7cmV0dXJuIHRoaXMuX3JlYWRZKCl9cmVhZFhXb3JsZFNwYWNlKCl7Y29uc3QgZT10aGlzLl9yZWFkWCgpLHQ9dGhpcy5nZXRJblRyYW5zZm9ybSgpO3JldHVybiBudWxsPT10P2U6ZSp0LnNjYWxlWzBdK3QudHJhbnNsYXRlWzBdfXJlYWRZV29ybGRTcGFjZSgpe2NvbnN0IGU9dGhpcy5fcmVhZFkoKSx0PXRoaXMuZ2V0SW5UcmFuc2Zvcm0oKTtyZXR1cm4gbnVsbD09dD9lOnQudHJhbnNsYXRlWzFdLWUqdC5zY2FsZVsxXX1yZWFkR2VvbWV0cnlGb3JEaXNwbGF5KCl7Y29uc3QgZT10aGlzLl9yZWFkR2VvbWV0cnlEZWx0YURlY29kZWQoITApO2lmKCFlKXtjb25zdCBlPXRoaXMuX2NyZWF0ZURlbHRhUXVhbnRpemVkR2VvbWV0cnlGcm9tU2VydmVyQ2VudHJvaWQoKTtyZXR1cm4gZT9lLmRlbHRhRGVjb2RlKCk6bnVsbH1yZXR1cm4gZX1yZWFkR2VvbWV0cnlGb3JEaXNwbGF5VHJhbnNmb3JtZWQoZSl7bGV0IHQ9dGhpcy5yZWFkR2VvbWV0cnlGb3JEaXNwbGF5KCk7aWYodCYmXCJlc3JpR2VvbWV0cnlQb2x5bGluZVwiPT09dGhpcy5tZXRhZGF0YS5nZW9tZXRyeVR5cGUmJih0PWMobmV3IGYsdCx0aGlzLmhhc1osdGhpcy5oYXNNLHRoaXMubWV0YWRhdGEuZ2VvbWV0cnlUeXBlLGUuc2NhbGVbMF0pKSx0JiYodD1sKHQsZSx0aGlzLm1ldGFkYXRhLmdlb21ldHJ5VHlwZSx0aGlzLmhhc1osdGhpcy5oYXNNKSksIXQpe2NvbnN0IHQ9dGhpcy5yZWFkQ2VudHJvaWRGb3JEaXNwbGF5KCk7aWYoIXQpcmV0dXJuIG51bGw7Y29uc3Qgcj1uKGUsdC5jb29yZHNbMF0pLHM9ZChlLHQuY29vcmRzWzFdKTtyZXR1cm4gdGhpcy5fY3JlYXRlRGVsdGFRdWFudGl6ZWRFeHRydWRlZEdlb21ldHJ5KHIscykuZGVsdGFEZWNvZGUoKX1yZXR1cm4gdH1yZWFkR2VvbWV0cnlXb3JsZFNwYWNlKCl7bGV0IGU9dGhpcy5fcmVhZEdlb21ldHJ5KCk7aWYoZXx8KGU9dGhpcy5fY3JlYXRlRGVsdGFRdWFudGl6ZWRHZW9tZXRyeUZyb21TZXJ2ZXJDZW50cm9pZCgpKSwhZSlyZXR1cm4gbnVsbDtjb25zdCB0PWUuY2xvbmUoKSxyPXRoaXMuZ2V0SW5UcmFuc2Zvcm0oKTtyZXR1cm4gbnVsbCE9ciYmbSh0LHQsdGhpcy5oYXNaLHRoaXMuaGFzTSxyKSx0fXJlYWRDZW50cm9pZEZvckRpc3BsYXkoKXtjb25zdCBlPXRoaXMucmVhZEdlb21ldHJ5Rm9yRGlzcGxheSgpO3JldHVybiBlP3RoaXMuX2NvbXB1dGVEaXNwbGF5Q2VudHJvaWQoZSk6dGhpcy5fcmVhZFNlcnZlckNlbnRyb2lkKCl9cmVhZENlbnRyb2lkV29ybGRTcGFjZSgpe2NvbnN0IGU9dGhpcy5yZWFkR2VvbWV0cnlGb3JEaXNwbGF5KCksdD1lP3RoaXMuX2NvbXB1dGVEaXNwbGF5Q2VudHJvaWQoZSk6dGhpcy5fcmVhZFNlcnZlckNlbnRyb2lkKCk7aWYoIXQpcmV0dXJuIG51bGw7Y29uc3Qgcj10LmNsb25lKCkscz10aGlzLmdldEluVHJhbnNmb3JtKCk7cmV0dXJuIG51bGwhPXMmJm0ocixyLHRoaXMuaGFzWix0aGlzLmhhc00scykscn1zZXRDYWNoZShlKXtsZXQgdD10aGlzLl9jYWNoZXMuZ2V0KGUpO251bGw9PXQmJih0PW5ldyBfKHRoaXMuZ2V0U2l6ZSgpKSx0aGlzLl9jYWNoZXMuc2V0KGUsdCkpLHRoaXMuX2FjdGl2ZUNhY2hlPXR9c2V0Q2FjaGVkVmFsdWUoZSl7dGhpcy5fYWN0aXZlQ2FjaGUuc2V0KHRoaXMuZ2V0SW5kZXgoKSxlKX1oYXNDYWNoZWRWYWx1ZSgpe3JldHVybiB0aGlzLl9hY3RpdmVDYWNoZS5oYXModGhpcy5nZXRJbmRleCgpKX1nZXRDYWNoZWRWYWx1ZSgpe3JldHVybiB0aGlzLl9hY3RpdmVDYWNoZS5nZXQodGhpcy5nZXRJbmRleCgpKX1fcmVhZEdlb21ldHJ5RGVsdGFEZWNvZGVkKGUpe2NvbnN0IHQ9dGhpcy5fcmVhZEdlb21ldHJ5KGUpO3JldHVyblwiZXNyaUdlb21ldHJ5UG9pbnRcIiE9PXRoaXMuZ2VvbWV0cnlUeXBlJiZ0JiZ0aGlzLmdldEluVHJhbnNmb3JtKCk/dC5kZWx0YURlY29kZSgpOnR9Z2V0IGNvbnRleHRUaW1lWm9uZSgpe3JldHVybiB0aGlzLl9jb250ZXh0VGltZVpvbmV9c2V0IGNvbnRleHRUaW1lWm9uZShlKXt0aGlzLl9jb250ZXh0VGltZVpvbmU9ZX1yZWFkQXJjYWRlRmVhdHVyZSgpe3JldHVybiB0aGlzfWhhc0ZpZWxkKGUpe3JldHVybiB0aGlzLmZpZWxkcy5oYXMoZSl8fHRoaXMuX2pvaW5lZC5zb21lKCh0PT50Lmhhc0ZpZWxkKGUpKSl9Z2VvbWV0cnkoKXtjb25zdCBlPXRoaXMucmVhZEdlb21ldHJ5V29ybGRTcGFjZSgpLHQ9aChlLHRoaXMuZ2VvbWV0cnlUeXBlLHRoaXMuaGFzWix0aGlzLmhhc00pLHI9YSh0KTtpZihyKXtpZighdGhpcy5tZXRhZGF0YS5vdXRTcGF0aWFsUmVmZXJlbmNlKXRocm93IG5ldyBFcnJvcihcIkludGVybmFsRXJyb3I6IEV4cGVjdGVkIHNwYXRpYWwgcmVmZXJlbmNlIHRvIGJlIGRlZmluZWRcIik7ci5zcGF0aWFsUmVmZXJlbmNlPXRoaXMubWV0YWRhdGEub3V0U3BhdGlhbFJlZmVyZW5jZX1yZXR1cm4gcn1hdXRvY2FzdEFyY2FkZURhdGUodCxyKXtyZXR1cm4gciYmciBpbnN0YW5jZW9mIERhdGU/dGhpcy5pc1Vua25vd25EYXRlVGltZUZpZWxkKHQpP2UudW5rbm93bkRhdGVKU1RvQXJjYWRlRGF0ZShyKTplLmRhdGVKU0FuZFpvbmVUb0FyY2FkZURhdGUocix0aGlzLmNvbnRleHRUaW1lWm9uZT8/cCk6cn1pc1Vua25vd25EYXRlVGltZUZpZWxkKGUpe3JldHVybiB0aGlzLm1ldGFkYXRhLmZpZWxkc0luZGV4LmdldFRpbWVab25lKGUpPT09Z31maWVsZChzKXtsZXQgaT10aGlzLmZpZWxkcy5nZXQocyk7aWYoaSlzd2l0Y2goaS50eXBlKXtjYXNlXCJkYXRlLW9ubHlcIjpjYXNlXCJlc3JpRmllbGRUeXBlRGF0ZU9ubHlcIjpyZXR1cm4gdC5mcm9tUmVhZGVyKHRoaXMucmVhZEF0dHJpYnV0ZShzLCExKSk7Y2FzZVwidGltZS1vbmx5XCI6Y2FzZVwiZXNyaUZpZWxkVHlwZVRpbWVPbmx5XCI6cmV0dXJuIHIuZnJvbVJlYWRlcih0aGlzLnJlYWRBdHRyaWJ1dGUocywhMSkpO2Nhc2VcImVzcmlGaWVsZFR5cGVUaW1lc3RhbXBPZmZzZXRcIjpjYXNlXCJ0aW1lc3RhbXAtb2Zmc2V0XCI6cmV0dXJuIGUuZnJvbVJlYWRlckFzVGltZVN0YW1wT2Zmc2V0KHRoaXMucmVhZEF0dHJpYnV0ZShzLCExKSk7Y2FzZVwiZGF0ZVwiOmNhc2VcImVzcmlGaWVsZFR5cGVEYXRlXCI6cmV0dXJuIHRoaXMuYXV0b2Nhc3RBcmNhZGVEYXRlKHMsdGhpcy5yZWFkQXR0cmlidXRlKHMsITApKTtkZWZhdWx0OnJldHVybiB0aGlzLnJlYWRBdHRyaWJ1dGUocywhMSl9Zm9yKGNvbnN0IGEgb2YgdGhpcy5fam9pbmVkKWlmKGEuc2V0SW5kZXgodGhpcy5nZXRJbmRleCgpKSxpPWEuZmllbGRzLmdldChzKSxpKXN3aXRjaChpLnR5cGUpe2Nhc2VcImRhdGUtb25seVwiOmNhc2VcImVzcmlGaWVsZFR5cGVEYXRlT25seVwiOnJldHVybiB0LmZyb21SZWFkZXIoYS5fcmVhZEF0dHJpYnV0ZShzLCExKSk7Y2FzZVwidGltZS1vbmx5XCI6Y2FzZVwiZXNyaUZpZWxkVHlwZVRpbWVPbmx5XCI6cmV0dXJuIHIuZnJvbVJlYWRlcihhLl9yZWFkQXR0cmlidXRlKHMsITEpKTtjYXNlXCJlc3JpRmllbGRUeXBlVGltZXN0YW1wT2Zmc2V0XCI6Y2FzZVwidGltZXN0YW1wLW9mZnNldFwiOnJldHVybiBlLmZyb21SZWFkZXJBc1RpbWVTdGFtcE9mZnNldChhLl9yZWFkQXR0cmlidXRlKHMsITEpKTtjYXNlXCJkYXRlXCI6Y2FzZVwiZXNyaUZpZWxkVHlwZURhdGVcIjpyZXR1cm4gdGhpcy5hdXRvY2FzdEFyY2FkZURhdGUocyxhLl9yZWFkQXR0cmlidXRlKHMsITApKTtkZWZhdWx0OnJldHVybiB0aGlzLnJlYWRBdHRyaWJ1dGUocywhMSl9dGhyb3cgbmV3IEVycm9yKGBGaWVsZCAke3N9IGRvZXMgbm90IGV4aXN0YCl9c2V0RmllbGQoZSx0KXt0aHJvdyBuZXcgRXJyb3IoXCJVbmFibGUgdG8gdXBkYXRlIGZlYXR1cmUgYXR0cmlidXRlIHZhbHVlcywgZmVhdHVyZSBpcyByZWFkb25seVwiKX1rZXlzKCl7cmV0dXJuIHRoaXMuZmllbGRzLmZpZWxkcy5tYXAoKGU9PmUubmFtZSkpfWNhc3RUb1RleHQoZT0hMSl7aWYoIWUpcmV0dXJuIEpTT04uc3RyaW5naWZ5KHRoaXMucmVhZExlZ2FjeUZlYXR1cmVGb3JEaXNwbGF5KCkpO2NvbnN0IHQ9dGhpcy5yZWFkTGVnYWN5RmVhdHVyZUZvckRpc3BsYXkoKTtpZighdClyZXR1cm4gSlNPTi5zdHJpbmdpZnkobnVsbCk7Y29uc3Qgcj17Z2VvbWV0cnk6dC5nZW9tZXRyeSxhdHRyaWJ1dGVzOnsuLi50LmF0dHJpYnV0ZXM/P3t9fX07Zm9yKGNvbnN0IHMgaW4gci5hdHRyaWJ1dGVzKXtjb25zdCBlPXIuYXR0cmlidXRlc1tzXTtlIGluc3RhbmNlb2YgRGF0ZSYmKHIuYXR0cmlidXRlc1tzXT1lLmdldFRpbWUoKSl9cmV0dXJuIEpTT04uc3RyaW5naWZ5KHIpfWdkYlZlcnNpb24oKXtyZXR1cm4gbnVsbH1mdWxsU2NoZW1hKCl7cmV0dXJuIHRoaXMubWV0YWRhdGEuYXJjYWRlU2NoZW1hfWNhc3RBc0pzb24oZT1udWxsKXtyZXR1cm57YXR0cmlidXRlczp0aGlzLl9yZWFkQXR0cmlidXRlcygpLGdlb21ldHJ5OiEwPT09ZT8ua2VlcEdlb21ldHJ5VHlwZT90aGlzLmdlb21ldHJ5KCk6dGhpcy5nZW9tZXRyeSgpPy50b0pTT04oKT8/bnVsbH19Y2FzdEFzSnNvbkFzeW5jKGU9bnVsbCx0PW51bGwpe3JldHVybiBQcm9taXNlLnJlc29sdmUodGhpcy5jYXN0QXNKc29uKHQpKX1fZ2V0RXhpc3RzKCl7aWYodGhpcy5fb3ZlcnJpZGVzKXtjb25zdCBlPXRoaXMuZ2V0T2JqZWN0SWQoKTtyZXR1cm4hdGhpcy5fb3ZlcnJpZGVzLmhhc092ZXJyaWRlKGUpfXJldHVybiEwfV9jb21wdXRlRGlzcGxheUNlbnRyb2lkKGUpe2lmKG51bGw9PXRoaXMuZ2V0SW5UcmFuc2Zvcm0oKSlyZXR1cm4gdShuZXcgZixlLHRoaXMuaGFzTSx0aGlzLmhhc1opO2NvbnN0IHQ9cy5mcm9tT3B0aW1pemVkKGUsdGhpcy5nZW9tZXRyeVR5cGUpO3QueUZhY3Rvcio9LTE7Y29uc3Qgcj1vKHQpO3JldHVybiByPyhyWzFdKj0tMSxuZXcgZihbXSxyKSk6bnVsbH1jb3B5SW50byhlKXtlLl9qb2luZWQ9dGhpcy5fam9pbmVkLGUuX292ZXJyaWRlcz10aGlzLl9vdmVycmlkZXMsZS5fb2JqZWN0SWRUb0luZGV4PXRoaXMuX29iamVjdElkVG9JbmRleCxlLl9ib3VuZHNCdWZmZXI9dGhpcy5fYm91bmRzQnVmZmVyLGUuX2FjdGl2ZUNhY2hlPXRoaXMuX2FjdGl2ZUNhY2hlLGUuX2NhY2hlcz10aGlzLl9jYWNoZXMsZS5fY29udGV4dFRpbWVab25lPXRoaXMuX2NvbnRleHRUaW1lWm9uZX1fcmVhZExlZ2FjeUdlb21ldHJ5V29ybGRTcGFjZSgpe2NvbnN0IGU9dGhpcy5yZWFkR2VvbWV0cnlXb3JsZFNwYWNlKCk7cmV0dXJuIGgoZSx0aGlzLmdlb21ldHJ5VHlwZSwhMSwhMSl9X2NyZWF0ZURlbHRhUXVhbnRpemVkR2VvbWV0cnlGcm9tU2VydmVyQ2VudHJvaWQoKXtjb25zdCBlPXRoaXMuX3JlYWRTZXJ2ZXJDZW50cm9pZCgpO2lmKCFlKXJldHVybiBudWxsO2NvbnN0W3Qscl09ZS5jb29yZHM7cmV0dXJuIHRoaXMuX2NyZWF0ZURlbHRhUXVhbnRpemVkRXh0cnVkZWRHZW9tZXRyeSh0LHIpfV9jcmVhdGVEZWx0YVF1YW50aXplZEV4dHJ1ZGVkR2VvbWV0cnkoZSx0KXtyZXR1cm5cImVzcmlHZW9tZXRyeVBvbHlsaW5lXCI9PT10aGlzLmdlb21ldHJ5VHlwZT90aGlzLl9jcmVhdGVEZWx0YVF1YW50aXplZEV4dHJ1ZGVkTGluZShlLHQpOnRoaXMuX2NyZWF0ZURlbHRhUXVhbnRpemVkRXh0cnVkZWRRdWFkKGUsdCl9X2NyZWF0ZURlbHRhUXVhbnRpemVkRXh0cnVkZWRRdWFkKGUsdCl7cmV0dXJuIG5ldyBmKFs1XSxbZS0xLHQsMSwtMSwxLDEsLTEsMSwtMSwtMV0pfV9jcmVhdGVEZWx0YVF1YW50aXplZEV4dHJ1ZGVkTGluZShlLHQpe3JldHVybiBuZXcgZihbMl0sW2UtMSx0KzEsMSwtMV0pfX1leHBvcnR7diBhcyBGZWF0dXJlU2V0UmVhZGVyfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjMzL2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7Y29udmVydEZyb21GZWF0dXJlcyBhcyBlLGNvbnZlcnRGcm9tRmVhdHVyZVNldCBhcyB0LGdldFF1YW50aXplZEFyZWEgYXMgcn1mcm9tXCIuLi8uLi8uLi8uLi8uLi9sYXllcnMvZ3JhcGhpY3MvZmVhdHVyZUNvbnZlcnNpb25VdGlscy5qc1wiO2ltcG9ydHtoYXNHZW9tZXRyeSBhcyBzfWZyb21cIi4uLy4uLy4uLy4uLy4uL2xheWVycy9ncmFwaGljcy9PcHRpbWl6ZWRGZWF0dXJlLmpzXCI7aW1wb3J0IG4gZnJvbVwiLi4vLi4vLi4vLi4vLi4vbGF5ZXJzL3N1cHBvcnQvRmllbGRzSW5kZXguanNcIjtpbXBvcnR7RmVhdHVyZVNldFJlYWRlciBhcyBpfWZyb21cIi4vRmVhdHVyZVNldFJlYWRlci5qc1wiO2NsYXNzIHUgZXh0ZW5kcyBpe3N0YXRpYyBmcm9tRmVhdHVyZXModCxyKXtjb25zdHtnZW9tZXRyeVR5cGU6c309cixuPWUoW10sdCxzLCExLCExLHIuZmVhdHVyZUlkSW5mbyk7Zm9yKGxldCBlPTA7ZTxuLmxlbmd0aDtlKyspbltlXS5kaXNwbGF5SWQ9dFtlXS5kaXNwbGF5SWQ7cmV0dXJuIHUuZnJvbU9wdGltaXplZEZlYXR1cmVzKG4scil9c3RhdGljIGZyb21GZWF0dXJlU2V0KGUscil7Y29uc3Qgcz10KGUsci5mZWF0dXJlSWRJbmZvKTtyZXR1cm4gdS5mcm9tT3B0aW1pemVkRmVhdHVyZVNldChzLHIpfXN0YXRpYyBmcm9tT3B0aW1pemVkRmVhdHVyZVNldChlLHQpe2NvbnN0IHI9dS5mcm9tT3B0aW1pemVkRmVhdHVyZXMoZS5mZWF0dXJlcyx0KTtyZXR1cm4gci5fZXhjZWVkZWRUcmFuc2ZlckxpbWl0PWUuZXhjZWVkZWRUcmFuc2ZlckxpbWl0LHIuX3RyYW5zZm9ybT1lLnRyYW5zZm9ybSxyLl9maWVsZHNJbmRleD1uZXcgbihlLmZpZWxkcykscn1zdGF0aWMgZnJvbU9wdGltaXplZEZlYXR1cmVzKGUsdCxyKXtjb25zdCBzPW5ldyB1KGUsdCk7cmV0dXJuIHMuX2ZpZWxkc0luZGV4PXQuZmllbGRzSW5kZXgscy5fdHJhbnNmb3JtPXIsc31zdGF0aWMgZW1wdHkoZSl7cmV0dXJuIG5ldyB1KFtdLGUpfWNvbnN0cnVjdG9yKGUsdCl7c3VwZXIodCksdGhpcy5fZXhjZWVkZWRUcmFuc2ZlckxpbWl0PSExLHRoaXMuX2ZlYXR1cmVJbmRleD0tMSx0aGlzLl9maWVsZHNJbmRleD1udWxsLHRoaXMuX2dlb21ldHJ5VHlwZT10Lmdlb21ldHJ5VHlwZSx0aGlzLl9mZWF0dXJlcz1lfWdldCBmaWVsZHMoKXtyZXR1cm4gdGhpcy5fZmllbGRzSW5kZXh9Z2V0IGdlb21ldHJ5VHlwZSgpe3JldHVybiB0aGlzLl9nZW9tZXRyeVR5cGV9Z2V0IGhhc0ZlYXR1cmVzKCl7cmV0dXJuISF0aGlzLl9mZWF0dXJlcy5sZW5ndGh9Z2V0IGhhc05leHQoKXtyZXR1cm4gdGhpcy5fZmVhdHVyZUluZGV4KzE8dGhpcy5fZmVhdHVyZXMubGVuZ3RofWdldCBleGNlZWRlZFRyYW5zZmVyTGltaXQoKXtyZXR1cm4gdGhpcy5fZXhjZWVkZWRUcmFuc2ZlckxpbWl0fWdldCBoYXNaKCl7cmV0dXJuITF9Z2V0IGhhc00oKXtyZXR1cm4hMX1nZXQgX2N1cnJlbnQoKXtyZXR1cm4gdGhpcy5fZmVhdHVyZXNbdGhpcy5fZmVhdHVyZUluZGV4XX1nZXQgdXNlZE1lbW9yeSgpe3JldHVybiB0aGlzLl9jdXJyZW50LnVzZWRNZW1vcnl9Z2V0U2l6ZSgpe3JldHVybiB0aGlzLl9mZWF0dXJlcy5sZW5ndGh9Z2V0Q3Vyc29yKCl7cmV0dXJuIHRoaXMuY29weSgpfWdldEluVHJhbnNmb3JtKCl7cmV0dXJuIHRoaXMuX3RyYW5zZm9ybX1nZXRBdHRyaWJ1dGVIYXNoKCl7bGV0IGU9XCJcIjtmb3IoY29uc3QgdCBpbiB0aGlzLl9jdXJyZW50LmF0dHJpYnV0ZXMpZSs9dGhpcy5fY3VycmVudC5hdHRyaWJ1dGVzW3RdO3JldHVybiBlfWdldEluZGV4KCl7cmV0dXJuIHRoaXMuX2ZlYXR1cmVJbmRleH1zZXRJbmRleChlKXt0aGlzLl9mZWF0dXJlSW5kZXg9ZX1nZXRPYmplY3RJZCgpe3JldHVybiB0aGlzLl9jdXJyZW50Py5vYmplY3RJZH1nZXREaXNwbGF5SWQoKXtyZXR1cm4gdGhpcy5fY3VycmVudC5kaXNwbGF5SWR9c2V0RGlzcGxheUlkKGUpe3RoaXMuX2N1cnJlbnQuZGlzcGxheUlkPWV9Y29weSgpe2NvbnN0IGU9bmV3IHUodGhpcy5fZmVhdHVyZXMsdGhpcy5tZXRhZGF0YSk7cmV0dXJuIHRoaXMuY29weUludG8oZSksZX1uZXh0KCl7Zm9yKDsrK3RoaXMuX2ZlYXR1cmVJbmRleDx0aGlzLl9mZWF0dXJlcy5sZW5ndGgmJiF0aGlzLl9nZXRFeGlzdHMoKTspO3JldHVybiB0aGlzLl9mZWF0dXJlSW5kZXg8dGhpcy5fZmVhdHVyZXMubGVuZ3RofXJlYWRHZW9tZXRyeUFyZWEoKXtyZXR1cm4gcyh0aGlzLl9jdXJyZW50KT9yKHRoaXMuX2N1cnJlbnQuZ2VvbWV0cnksMik6MH1fcmVhZFgoKXtyZXR1cm4gcyh0aGlzLl9jdXJyZW50KT90aGlzLl9jdXJyZW50Lmdlb21ldHJ5LmNvb3Jkc1swXTowfV9yZWFkWSgpe3JldHVybiBzKHRoaXMuX2N1cnJlbnQpP3RoaXMuX2N1cnJlbnQuZ2VvbWV0cnkuY29vcmRzWzFdOjB9X3JlYWRHZW9tZXRyeSgpe3JldHVybiBzKHRoaXMuX2N1cnJlbnQpP3RoaXMuX2N1cnJlbnQuZ2VvbWV0cnk/P251bGw6bnVsbH1fcmVhZFNlcnZlckNlbnRyb2lkKCl7cmV0dXJuIHRoaXMuX2N1cnJlbnQuY2VudHJvaWR9X3JlYWRBdHRyaWJ1dGUoZSx0KXtpZighdGhpcy5fZmllbGRzSW5kZXgpe2NvbnN0IHQ9dGhpcy5fY3VycmVudC5hdHRyaWJ1dGVzW2VdO2lmKHZvaWQgMCE9PXQpcmV0dXJuIHQ7Y29uc3Qgcj1lLnRvTG93ZXJDYXNlKCk7Zm9yKGNvbnN0IGUgaW4gdGhpcy5fY3VycmVudC5hdHRyaWJ1dGVzKWlmKGUudG9Mb3dlckNhc2UoKT09PXIpcmV0dXJuIHRoaXMuX2N1cnJlbnQuYXR0cmlidXRlc1tlXTtyZXR1cm59Y29uc3Qgcj10aGlzLl9maWVsZHNJbmRleC5nZXQoZSk7aWYoIXIpcmV0dXJuO2NvbnN0IHM9dGhpcy5fY3VycmVudC5hdHRyaWJ1dGVzW3IubmFtZV07cmV0dXJuIG51bGw9PXM/czp0JiZ0aGlzLmZpZWxkcy5pc0RhdGVGaWVsZChlKT9uZXcgRGF0ZShzKTpzfV9yZWFkQXR0cmlidXRlcygpe3JldHVybiB0aGlzLl9jdXJyZW50LmF0dHJpYnV0ZXN9Y29weUludG8oZSl7c3VwZXIuY29weUludG8oZSksZS5fZmVhdHVyZUluZGV4PXRoaXMuX2ZlYXR1cmVJbmRleCxlLl90cmFuc2Zvcm09dGhpcy5fdHJhbnNmb3JtLGUuX2ZpZWxkc0luZGV4PXRoaXMuX2ZpZWxkc0luZGV4fX1leHBvcnR7dSBhcyBGZWF0dXJlU2V0UmVhZGVySlNPTn07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4zMy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e0FDb21wdXRlZEZpZWxkIGFzIGV9ZnJvbVwiLi9BQ29tcHV0ZWRGaWVsZC5qc1wiO2NsYXNzIHIgZXh0ZW5kcyBle2NvbnN0cnVjdG9yKGUscil7c3VwZXIoKSx0aGlzLl9maWVsZD1lLHRoaXMuX25vcm1hbGl6YXRpb25JbmZvPXJ9cmVzaXplKGUpe3Rocm93IG5ldyBFcnJvcihcIk1ldGhvZCBub3QgaW1wbGVtZW50ZWQuXCIpfXJlYWQoZSxyKXtyZXR1cm4gdGhpcy5fcmVhZE5vcm1hbGl6ZWQoZSl9cmVhZFdpdGhEZWZhdWx0KGUscil7cmV0dXJuIHRoaXMuX3JlYWROb3JtYWxpemVkKGUpfWhhc0FyY2FkZURlcGVuZGVuY3koZSl7cmV0dXJuITF9X3JlYWROb3JtYWxpemVkKGUpe2NvbnN0IHI9ZS5yZWFkQXR0cmlidXRlKHRoaXMuX2ZpZWxkKTtpZihudWxsPT1yKXJldHVybiBudWxsO2NvbnN0e25vcm1hbGl6YXRpb25GaWVsZDp0LG5vcm1hbGl6YXRpb25Ub3RhbDppLG5vcm1hbGl6YXRpb25UeXBlOm99PXRoaXMuX25vcm1hbGl6YXRpb25JbmZvLGE9ZS5yZWFkQXR0cmlidXRlKHQpO3N3aXRjaChvPz9cImVzcmlOb3JtYWxpemVCeUZpZWxkXCIpe2Nhc2VcImVzcmlOb3JtYWxpemVCeUZpZWxkXCI6cmV0dXJuIGE/YT9yL2E6dm9pZCAwOm51bGw7Y2FzZVwiZXNyaU5vcm1hbGl6ZUJ5TG9nXCI6cmV0dXJuIE1hdGgubG9nKHIpKk1hdGguTE9HMTBFO2Nhc2VcImVzcmlOb3JtYWxpemVCeVBlcmNlbnRPZlRvdGFsXCI6cmV0dXJuIGk/ci9pKjEwMDpudWxsfX19ZXhwb3J0e3IgYXMgTm9ybWFsaXplZEZpZWxkfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjMzL2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5jbGFzcyB0e3N0YXRpYyBmcm9tQnVmZmVyKGUscyl7cmV0dXJuIG5ldyB0KGUscyl9c3RhdGljIGNyZWF0ZShlLHM9NDI5NDk2NzI5NSl7Y29uc3Qgcj1uZXcgVWludDMyQXJyYXkoTWF0aC5jZWlsKGUvMzIpKTtyZXR1cm4gbmV3IHQocixzKX1jb25zdHJ1Y3Rvcih0LGUpe3RoaXMuX21hc2s9MCx0aGlzLl9idWY9dCx0aGlzLl9tYXNrPWV9X2dldEluZGV4KHQpe3JldHVybiBNYXRoLmZsb29yKHQvMzIpfWhhcyh0KXtjb25zdCBlPXRoaXMuX21hc2smdDtyZXR1cm4hISh0aGlzLl9idWZbdGhpcy5fZ2V0SW5kZXgoZSldJjE8PGUlMzIpfWhhc1JhbmdlKHQsZSl7bGV0IHM9dCxyPWU7Zm9yKDtzJTMyJiZzIT09cjspe2lmKHRoaXMuaGFzKHMpKXJldHVybiEwO3MrK31mb3IoO3IlMzImJnMhPT1yOyl7aWYodGhpcy5oYXMocykpcmV0dXJuITA7ci0tfWlmKHM9PT1yKXJldHVybiExO2ZvcihsZXQgaD1zLzMyO2ghPT1yLzMyO2grKyl7aWYodGhpcy5fYnVmW2hdKXJldHVybiEwfXJldHVybiExfXNldCh0KXtjb25zdCBlPXRoaXMuX21hc2smdCxzPXRoaXMuX2dldEluZGV4KGUpLHI9MTw8ZSUzMjt0aGlzLl9idWZbc118PXJ9c2V0UmFuZ2UodCxlKXtsZXQgcz10LHI9ZTtmb3IoO3MlMzImJnMhPT1yOyl0aGlzLnNldChzKyspO2Zvcig7ciUzMiYmcyE9PXI7KXRoaXMuc2V0KHItLSk7aWYocyE9PXIpZm9yKGxldCBoPXMvMzI7aCE9PXIvMzI7aCsrKXRoaXMuX2J1ZltoXT00Mjk0OTY3Mjk1fXVuc2V0KHQpe2NvbnN0IGU9dGhpcy5fbWFzayZ0LHM9dGhpcy5fZ2V0SW5kZXgoZSkscj0xPDxlJTMyO3RoaXMuX2J1ZltzXSY9NDI5NDk2NzI5NV5yfXJlc2l6ZSh0KXtjb25zdCBlPXRoaXMuX2J1ZixzPW5ldyBVaW50MzJBcnJheShNYXRoLmNlaWwodC8zMikpO3Muc2V0KGUpLHRoaXMuX2J1Zj1zfW9yKHQpe2ZvcihsZXQgZT0wO2U8dGhpcy5fYnVmLmxlbmd0aDtlKyspdGhpcy5fYnVmW2VdfD10Ll9idWZbZV07cmV0dXJuIHRoaXN9YW5kKHQpe2ZvcihsZXQgZT0wO2U8dGhpcy5fYnVmLmxlbmd0aDtlKyspdGhpcy5fYnVmW2VdJj10Ll9idWZbZV07cmV0dXJuIHRoaXN9eG9yKHQpe2ZvcihsZXQgZT0wO2U8dGhpcy5fYnVmLmxlbmd0aDtlKyspdGhpcy5fYnVmW2VdXj10Ll9idWZbZV07cmV0dXJuIHRoaXN9aW9yKHQpe2ZvcihsZXQgZT0wO2U8dGhpcy5fYnVmLmxlbmd0aDtlKyspdGhpcy5fYnVmW2VdfD1+dC5fYnVmW2VdO3JldHVybiB0aGlzfWlhbmQodCl7Zm9yKGxldCBlPTA7ZTx0aGlzLl9idWYubGVuZ3RoO2UrKyl0aGlzLl9idWZbZV0mPX50Ll9idWZbZV07cmV0dXJuIHRoaXN9aXhvcih0KXtmb3IobGV0IGU9MDtlPHRoaXMuX2J1Zi5sZW5ndGg7ZSsrKXRoaXMuX2J1ZltlXV49fnQuX2J1ZltlXTtyZXR1cm4gdGhpc31hbnkoKXtmb3IobGV0IHQ9MDt0PHRoaXMuX2J1Zi5sZW5ndGg7dCsrKWlmKHRoaXMuX2J1Zlt0XSlyZXR1cm4hMDtyZXR1cm4hMX1jb3B5KHQpe2ZvcihsZXQgZT0wO2U8dGhpcy5fYnVmLmxlbmd0aDtlKyspdGhpcy5fYnVmW2VdPXQuX2J1ZltlXTtyZXR1cm4gdGhpc31jbG9uZSgpe3JldHVybiBuZXcgdCh0aGlzLl9idWYuc2xpY2UoKSx0aGlzLl9tYXNrKX1jbGVhcigpe2ZvcihsZXQgdD0wO3Q8dGhpcy5fYnVmLmxlbmd0aDt0KyspdGhpcy5fYnVmW3RdPTA7cmV0dXJuIHRoaXN9Zm9yRWFjaFNldCh0KXtmb3IobGV0IGU9MDtlPHRoaXMuX2J1Zi5sZW5ndGg7ZSsrKXtsZXQgcz10aGlzLl9idWZbZV0scj0zMiplO2lmKHMpZm9yKDtzOyl7MSZzJiZ0KHIpLHM+Pj49MSxyKyt9fX1jb3VudFNldCgpe2xldCB0PTA7cmV0dXJuIHRoaXMuZm9yRWFjaFNldCgoZT0+e3QrK30pKSx0fX1leHBvcnR7dCBhcyBTdGF0aWNCaXRTZXR9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMzMvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydCByIGZyb21cIi4uLy4uLy4uLy4uLy4uL2NvcmUvRXJyb3IuanNcIjtpbXBvcnQgZSBmcm9tXCIuLi8uLi8uLi8uLi8uLi9jb3JlL0xvZ2dlci5qc1wiO2ltcG9ydHtwYXJzZVdoZXJlQ2xhdXNlIGFzIHR9ZnJvbVwiLi4vLi4vLi4vLi4vLi4vY29yZS9zcWwuanNcIjtjb25zdCBuPSgpPT5lLmdldExvZ2dlcihcImVzcmkudmlld3MuMmQubGF5ZXJzLkZlYXR1cmVMYXllclZpZXcyRFwiKSxvPXtnZXRBdHRyaWJ1dGU6KHIsZSk9PnIucmVhZEF0dHJpYnV0ZShlKX07YXN5bmMgZnVuY3Rpb24gYShlLGEpe3RyeXtjb25zdCBzPWF3YWl0IHQoZSxhKTtyZXR1cm4gcy5pc1N0YW5kYXJkaXplZHx8bigpLmVycm9yKG5ldyByKFwic3FsLXBhcnNlLWVycm9yXCIsXCJleHByZXNzaW9uIGlzIG5vdCBzdGFuZGFyZGl6ZWRcIix7d2hlcmU6ZX0pKSwodCxhKT0+e2NvbnN0IGk9dC5yZWFkQXJjYWRlRmVhdHVyZSgpO3RyeXtyZXR1cm4gcy50ZXN0RmVhdHVyZUNvbXBpbGVkKGksbyxhLmN1cnJlbnRVc2VyKX1jYXRjaCh1KXtyZXR1cm4gbigpLndhcm4obmV3IHIoXCJzcWwtcnVudGltZS1lcnJvclwiLFwiRW5jb3VudGVyZWQgYW4gZXJyb3Igd2hlbiBldmFsdWF0aW5nIHdoZXJlIGNsYXVzZVwiLHt3aGVyZTplLGVycm9yOnV9KSksITB9fX1jYXRjaChzKXtyZXR1cm4gbigpLndhcm4obmV3IHIoXCJzcWwtcnVudGltZS1lcnJvclwiLFwiRW5jb3VudGVyZWQgYW4gZXJyb3Igd2hlbiBldmFsdWF0aW5nIHdoZXJlIGNsYXVzZVwiLHt3aGVyZTplLGVycm9yOnN9KSkscj0+ITB9fWV4cG9ydHthIGFzIGNyZWF0ZVdoZXJlQ2xhdXNlfTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==