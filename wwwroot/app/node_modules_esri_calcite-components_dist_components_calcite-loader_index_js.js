export const __webpack_id__ = "node_modules_esri_calcite-components_dist_components_calcite-loader_index_js";
export const __webpack_ids__ = ["node_modules_esri_calcite-components_dist_components_calcite-loader_index_js"];
export const __webpack_modules__ = {

/***/ "./node_modules/@esri/calcite-components/dist/chunks/guid.js":
/*!*******************************************************************!*\
  !*** ./node_modules/@esri/calcite-components/dist/chunks/guid.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   g: () => (/* binding */ guid)
/* harmony export */ });
/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
v3.3.3 */
function gen(counts) {
  return counts.map((count) => {
    let out = "";
    for (let i = 0; i < count; i++) {
      out += ((1 + Math.random()) * 65536 | 0).toString(16).substring(1);
    }
    return out;
  }).join("-");
}
const guid = () => gen([2, 1, 1, 1, 3]);



/***/ }),

/***/ "./node_modules/@esri/calcite-components/dist/chunks/useT9n.js":
/*!*********************************************************************!*\
  !*** ./node_modules/@esri/calcite-components/dist/chunks/useT9n.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   u: () => (/* binding */ useT9n)
/* harmony export */ });
/* harmony import */ var _arcgis_lumina_controllers__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @arcgis/lumina/controllers */ "./node_modules/@arcgis/lumina/dist/controllers/index.js");
/* harmony import */ var _runtime_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./runtime.js */ "./node_modules/@esri/calcite-components/dist/chunks/runtime.js");
/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
v3.3.3 */


const useT9n = (0,_arcgis_lumina_controllers__WEBPACK_IMPORTED_MODULE_0__.makeT9nController)(_runtime_js__WEBPACK_IMPORTED_MODULE_1__.g);



/***/ }),

/***/ "./node_modules/@esri/calcite-components/dist/components/calcite-loader/customElement.js":
/*!***********************************************************************************************!*\
  !*** ./node_modules/@esri/calcite-components/dist/components/calcite-loader/customElement.js ***!
  \***********************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Loader: () => (/* binding */ Loader)
/* harmony export */ });
/* harmony import */ var _chunks_runtime_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../chunks/runtime.js */ "./node_modules/@esri/calcite-components/dist/chunks/runtime.js");
/* harmony import */ var lit__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lit */ "./node_modules/lit/index.js");
/* harmony import */ var _arcgis_lumina__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @arcgis/lumina */ "./node_modules/@arcgis/lumina/dist/index.js");
/* harmony import */ var _chunks_guid_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../chunks/guid.js */ "./node_modules/@esri/calcite-components/dist/chunks/guid.js");
/* harmony import */ var _chunks_useT9n_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../chunks/useT9n.js */ "./node_modules/@esri/calcite-components/dist/chunks/useT9n.js");
/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
v3.3.3 */





const CSS = {
  percentage: "percentage",
  progressRing: "ring--progress",
  ring: "ring",
  rings: "rings",
  text: "text",
  trackRing: "ring--track"
};
const styles = (0,lit__WEBPACK_IMPORTED_MODULE_1__.css)`:host{--calcite-internal-color-focus: var( --calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)) )}:host{position:relative;margin-inline:auto;display:flex;align-items:center;justify-content:center;opacity:1;flex-direction:column;min-block-size:var(--calcite-loader-size);font-size:var(--calcite-loader-font-size);stroke-width:var(--calcite-internal-stroke-width);fill:none;transform:scale(1);padding-block:var(--calcite-loader-spacing, 4rem)}:host([scale=s]){--calcite-internal-stroke-width: 3;--calcite-internal-text-offset: var(--calcite-spacing-xxs);--calcite-internal-loader-font-size: var(--calcite-font-size--3);--calcite-internal-loader-size: 2rem;--calcite-internal-loader-size-inline: .75rem;--calcite-internal-loader-value-line-height: .625rem}:host([scale=m]){--calcite-internal-stroke-width: 6;--calcite-internal-text-offset: var(--calcite-spacing-sm);--calcite-internal-loader-font-size: var(--calcite-font-size-0);--calcite-internal-loader-size: 4rem;--calcite-internal-loader-size-inline: 1rem;--calcite-internal-loader-value-line-height: 1.375rem}:host([scale=l]){--calcite-internal-stroke-width: 8;--calcite-internal-text-offset: var(--calcite-spacing-md);--calcite-internal-loader-font-size: var(--calcite-font-size-2);--calcite-internal-loader-size: 6rem;--calcite-internal-loader-size-inline: 1.5rem;--calcite-internal-loader-value-line-height: 1.71875rem}.text{display:block;text-align:center;font-size:var(--calcite-font-size--2);line-height:1rem;margin-block-start:var(--calcite-loader-text-spacing, var(--calcite-internal-text-offset));font-weight:var(--calcite-loader-text-weight, var(--calcite-font-weight-normal));color:var(--calcite-loader-text-color, var(--calcite-color-text-1))}.percentage{display:block;text-align:center;font-size:var(--calcite-loader-font-size);inline-size:var(--calcite-loader-size, var(--calcite-internal-loader-size));line-height:var(--calcite-internal-loader-value-line-height);align-self:center;color:var(--calcite-loader-text-color, var(--calcite-color-text-1))}.rings{position:relative;display:flex;overflow:visible;opacity:1;inline-size:var(--calcite-loader-size, var(--calcite-internal-loader-size));block-size:var(--calcite-loader-size, var(--calcite-internal-loader-size))}.ring{position:absolute;inset-block-start:0px;transform-origin:center;overflow:visible;inset-inline-start:0;inline-size:var(--calcite-loader-size, var(--calcite-internal-loader-size));block-size:var(--calcite-loader-size, var(--calcite-internal-loader-size))}.ring--track{stroke:var(--calcite-loader-track-color, var(--calcite-color-transparent-press))}.ring--progress{stroke:var(--calcite-loader-progress-color, var(--calcite-color-brand));transform:rotate(-90deg);transition:all var(--calcite-internal-animation-timing-fast) linear}:host([type=indeterminate]) .ring--progress{animation:loader-clockwise calc(var(--calcite-internal-animation-timing-slow) / var(--calcite-internal-duration-factor) * 2 / var(--calcite-internal-duration-factor)) linear infinite}:host([inline]){--calcite-internal-stroke-width: 2;position:relative;margin:0;stroke:currentColor;stroke-width:2;padding-block:0px;block-size:var(--calcite-loader-size, var(--calcite-loader-size-inline, var(--calcite-internal-loader-size-inline)));min-block-size:var(--calcite-loader-size, var(--calcite-loader-size-inline, var(--calcite-internal-loader-size-inline)));inline-size:var(--calcite-loader-size, var(--calcite-loader-size-inline, var(--calcite-internal-loader-size-inline)));vertical-align:calc(var(--calcite-loader-size, var(--calcite-loader-size-inline, var(--calcite-internal-loader-size-inline))) * -1 * .2)}:host([inline]) .rings{inset-block-start:0px;margin:0;inset-inline-start:0;inline-size:var(--calcite-loader-size, var(--calcite-loader-size-inline, var(--calcite-internal-loader-size-inline)));block-size:var(--calcite-loader-size, var(--calcite-loader-size-inline, var(--calcite-internal-loader-size-inline)))}:host([inline]) .ring{inline-size:var(--calcite-loader-size, var(--calcite-loader-size-inline, var(--calcite-internal-loader-size-inline)));block-size:var(--calcite-loader-size, var(--calcite-loader-size-inline, var(--calcite-internal-loader-size-inline)))}:host([inline]) .ring--progress{stroke:var(--calcite-loader-progress-color-inline, currentColor)}:host([complete]){opacity:0;transform:scale(.75);transform-origin:center;transition:opacity var(--calcite-internal-animation-timing-medium) linear 1s,transform var(--calcite-internal-animation-timing-medium) linear 1s}:host([complete]) .rings{opacity:0;transform:scale(.75);transform-origin:center;transition:opacity calc(.18s * var(--calcite-internal-duration-factor)) linear .8s,transform calc(.18s * var(--calcite-internal-duration-factor)) linear .8s}:host([complete]) .percentage{color:var(--calcite-color-brand);transform:scale(1.05);transform-origin:center;transition:color var(--calcite-internal-animation-timing-medium) linear,transform var(--calcite-internal-animation-timing-medium) linear}@keyframes loader-clockwise{0%{transform:rotate(0)}to{transform:rotate(360deg)}}:host([hidden]){display:none}[hidden]{display:none}`;
class Loader extends _arcgis_lumina__WEBPACK_IMPORTED_MODULE_2__.LitElement {
  constructor() {
    super(...arguments);
    this.messages = (0,_chunks_useT9n_js__WEBPACK_IMPORTED_MODULE_4__.u)({ name: null });
    this.complete = false;
    this.inline = false;
    this.scale = "m";
    this.text = "";
    this.type = "indeterminate";
    this.value = 0;
  }
  static {
    this.properties = { complete: [7, {}, { reflect: true, type: Boolean }], inline: [7, {}, { reflect: true, type: Boolean }], label: 1, scale: [3, {}, { reflect: true }], text: 1, type: [3, {}, { reflect: true }], value: [9, {}, { type: Number }] };
  }
  static {
    this.styles = styles;
  }
  connectedCallback() {
    super.connectedCallback();
    this.updateFormatter();
  }
  load() {
    requestAnimationFrame(() => this.valueChangeHandler());
  }
  willUpdate(changes) {
    if (changes.has("value") && (this.hasUpdated || this.value !== 0)) {
      this.valueChangeHandler();
    }
    if (changes.has("type") && (this.hasUpdated || this.type !== "indeterminate") || changes.has("messages")) {
      this.updateFormatter();
    }
  }
  valueChangeHandler() {
    this.complete = this.type.startsWith("determinate") && this.value === 100;
  }
  formatValue() {
    if (this.type !== "determinate-value") {
      return `${this.value}`;
    }
    return this.formatter.format(this.value / 100);
  }
  getSize(scale) {
    return {
      s: 32,
      m: 64,
      l: 96
    }[scale];
  }
  getInlineSize(scale) {
    return {
      s: 12,
      m: 16,
      l: 24
    }[scale];
  }
  updateFormatter() {
    if (this.type !== "determinate-value" || this.formatter?.resolvedOptions().locale === this.messages._lang) {
      return;
    }
    this.formatter = new Intl.NumberFormat(this.messages._lang, {
      style: "percent"
    });
  }
  render() {
    const { el, inline, label, text, type, value } = this;
    const id = el.id || (0,_chunks_guid_js__WEBPACK_IMPORTED_MODULE_3__.g)();
    const isDeterminate = type !== "indeterminate";
    const valueNow = Math.floor(value);
    this.el.ariaLabel = label;
    this.el.ariaValueMax = isDeterminate ? "100" : void 0;
    this.el.ariaValueMin = isDeterminate ? "0" : void 0;
    this.el.ariaValueNow = isDeterminate ? valueNow.toString() : void 0;
    (0,_arcgis_lumina__WEBPACK_IMPORTED_MODULE_2__.setAttribute)(this.el, "id", id);
    this.el.role = "progressbar";
    return (0,lit__WEBPACK_IMPORTED_MODULE_1__.html)`<div class=${(0,_arcgis_lumina__WEBPACK_IMPORTED_MODULE_2__.safeClassMap)(CSS.rings)}>${this.renderRing("track")}${this.renderRing("progress")}${!inline && isDeterminate && (0,lit__WEBPACK_IMPORTED_MODULE_1__.html)`<div class=${(0,_arcgis_lumina__WEBPACK_IMPORTED_MODULE_2__.safeClassMap)(CSS.percentage)}>${this.formatValue()}</div>` || ""}</div>${!inline && text && (0,lit__WEBPACK_IMPORTED_MODULE_1__.html)`<div class=${(0,_arcgis_lumina__WEBPACK_IMPORTED_MODULE_2__.safeClassMap)(CSS.text)}>${text}</div>` || ""}`;
  }
  renderRing(type) {
    const { inline, scale, value } = this;
    const size = inline ? this.getInlineSize(scale) : this.getSize(scale);
    const radiusRatio = 0.45;
    const radius = size * radiusRatio;
    let style;
    if (type === "progress") {
      const circumference = 2 * radius * Math.PI;
      const progress = (this.type.startsWith("determinate") ? value : 24) / 100 * circumference;
      const remaining = circumference - progress;
      style = { "stroke-dasharray": `${progress} ${remaining}` };
    }
    return (0,lit__WEBPACK_IMPORTED_MODULE_1__.html)`<svg aria-hidden=true class=${(0,_arcgis_lumina__WEBPACK_IMPORTED_MODULE_2__.safeClassMap)({
      [CSS.ring]: true,
      [CSS.trackRing]: type === "track",
      [CSS.progressRing]: type === "progress"
    })} style=${(0,_arcgis_lumina__WEBPACK_IMPORTED_MODULE_2__.safeStyleMap)(style)} viewBox=${`0 0 ${size} ${size}`}>${(0,lit__WEBPACK_IMPORTED_MODULE_1__.svg)`<circle cx=${size / 2} cy=${size / 2} r=${radius ?? lit__WEBPACK_IMPORTED_MODULE_1__.nothing} />`}</svg>`;
  }
}
(0,_chunks_runtime_js__WEBPACK_IMPORTED_MODULE_0__.c)("calcite-loader", Loader);



/***/ }),

/***/ "./node_modules/@esri/calcite-components/dist/components/calcite-loader/index.js":
/*!***************************************************************************************!*\
  !*** ./node_modules/@esri/calcite-components/dist/components/calcite-loader/index.js ***!
  \***************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Loader: () => (/* reexport safe */ _customElement_js__WEBPACK_IMPORTED_MODULE_0__.Loader)
/* harmony export */ });
/* harmony import */ var _customElement_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./customElement.js */ "./node_modules/@esri/calcite-components/dist/components/calcite-loader/customElement.js");


/***/ })

};

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibm9kZV9tb2R1bGVzX2VzcmlfY2FsY2l0ZS1jb21wb25lbnRzX2Rpc3RfY29tcG9uZW50c19jYWxjaXRlLWxvYWRlcl9pbmRleF9qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixXQUFXO0FBQy9CO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBR0U7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDZkY7QUFDQTtBQUNBO0FBQytEO0FBQ2Q7QUFDakQsZUFBZSw2RUFBaUIsQ0FBQywwQ0FBWTtBQUczQzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNSRjtBQUNBO0FBQ0E7QUFDNkQ7QUFDZjtBQUN3QztBQUNyQztBQUNJO0FBQ3JEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLHdDQUFHLE9BQU8sd0hBQXdILE1BQU0sa0JBQWtCLG1CQUFtQixhQUFhLG1CQUFtQix1QkFBdUIsVUFBVSxzQkFBc0IsMENBQTBDLDBDQUEwQyxrREFBa0QsVUFBVSxtQkFBbUIsa0RBQWtELGlCQUFpQixtQ0FBbUMsMkRBQTJELGlFQUFpRSxxQ0FBcUMsOENBQThDLHFEQUFxRCxpQkFBaUIsbUNBQW1DLDBEQUEwRCxnRUFBZ0UscUNBQXFDLDRDQUE0QyxzREFBc0QsaUJBQWlCLG1DQUFtQywwREFBMEQsZ0VBQWdFLHFDQUFxQyw4Q0FBOEMsd0RBQXdELE1BQU0sY0FBYyxrQkFBa0Isc0NBQXNDLGlCQUFpQiwyRkFBMkYsaUZBQWlGLG9FQUFvRSxZQUFZLGNBQWMsa0JBQWtCLDBDQUEwQyw0RUFBNEUsNkRBQTZELGtCQUFrQixvRUFBb0UsT0FBTyxrQkFBa0IsYUFBYSxpQkFBaUIsVUFBVSw0RUFBNEUsMkVBQTJFLE1BQU0sa0JBQWtCLHNCQUFzQix3QkFBd0IsaUJBQWlCLHFCQUFxQiw0RUFBNEUsMkVBQTJFLGFBQWEsaUZBQWlGLGdCQUFnQix3RUFBd0UseUJBQXlCLG9FQUFvRSw0Q0FBNEMsdUxBQXVMLGdCQUFnQixtQ0FBbUMsa0JBQWtCLFNBQVMsb0JBQW9CLGVBQWUsa0JBQWtCLHFIQUFxSCx5SEFBeUgsc0hBQXNILHlJQUF5SSx1QkFBdUIsc0JBQXNCLFNBQVMscUJBQXFCLHNIQUFzSCxxSEFBcUgsc0JBQXNCLHNIQUFzSCxxSEFBcUgsZ0NBQWdDLGlFQUFpRSxrQkFBa0IsVUFBVSxxQkFBcUIsd0JBQXdCLGlKQUFpSix5QkFBeUIsVUFBVSxxQkFBcUIsd0JBQXdCLDZKQUE2Siw4QkFBOEIsaUNBQWlDLHNCQUFzQix3QkFBd0IseUlBQXlJLDRCQUE0QixHQUFHLG9CQUFvQixHQUFHLDBCQUEwQixnQkFBZ0IsYUFBYSxTQUFTLGFBQWE7QUFDemlLLHFCQUFxQixzREFBVTtBQUMvQjtBQUNBO0FBQ0Esb0JBQW9CLG9EQUFNLEdBQUcsWUFBWTtBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLGdCQUFnQixJQUFJLDhCQUE4QixpQkFBaUIsSUFBSSw4QkFBOEIsMEJBQTBCLElBQUksZUFBZSx3QkFBd0IsSUFBSSxlQUFlLGdCQUFnQixJQUFJLGNBQWM7QUFDdlA7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLFdBQVc7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLFlBQVksdUNBQXVDO0FBQ25ELHdCQUF3QixrREFBSTtBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJLDREQUFZO0FBQ2hCO0FBQ0EsV0FBVyx5Q0FBSSxjQUFjLDREQUFZLFlBQVksR0FBRyx5QkFBeUIsRUFBRSw0QkFBNEIsRUFBRSw0QkFBNEIseUNBQUksY0FBYyw0REFBWSxpQkFBaUIsR0FBRyxtQkFBbUIsY0FBYyxRQUFRLG1CQUFtQix5Q0FBSSxjQUFjLDREQUFZLFdBQVcsR0FBRyxLQUFLLGNBQWM7QUFDMVQ7QUFDQTtBQUNBLFlBQVksdUJBQXVCO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsdUJBQXVCLFVBQVUsRUFBRSxVQUFVO0FBQzdEO0FBQ0EsV0FBVyx5Q0FBSSwrQkFBK0IsNERBQVk7QUFDMUQ7QUFDQTtBQUNBO0FBQ0EsS0FBSyxHQUFHLFFBQVEsNERBQVksU0FBUyxVQUFVLE9BQU8sTUFBTSxFQUFFLEtBQUssRUFBRSxHQUFHLHdDQUFHLGNBQWMsVUFBVSxLQUFLLFVBQVUsSUFBSSxVQUFVLHdDQUFPLEVBQUUsSUFBSTtBQUM3STtBQUNBO0FBQ0EscURBQWE7QUFHWCIsInNvdXJjZXMiOlsid2VicGFjazovL3ByZWNpc2lvbmZhcm1zLy4vbm9kZV9tb2R1bGVzL0Blc3JpL2NhbGNpdGUtY29tcG9uZW50cy9kaXN0L2NodW5rcy9ndWlkLmpzIiwid2VicGFjazovL3ByZWNpc2lvbmZhcm1zLy4vbm9kZV9tb2R1bGVzL0Blc3JpL2NhbGNpdGUtY29tcG9uZW50cy9kaXN0L2NodW5rcy91c2VUOW4uanMiLCJ3ZWJwYWNrOi8vcHJlY2lzaW9uZmFybXMvLi9ub2RlX21vZHVsZXMvQGVzcmkvY2FsY2l0ZS1jb21wb25lbnRzL2Rpc3QvY29tcG9uZW50cy9jYWxjaXRlLWxvYWRlci9jdXN0b21FbGVtZW50LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qISBBbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9Fc3JpL2NhbGNpdGUtZGVzaWduLXN5c3RlbS9ibG9iL2Rldi9MSUNFTlNFLm1kIGZvciBkZXRhaWxzLlxudjMuMy4zICovXG5mdW5jdGlvbiBnZW4oY291bnRzKSB7XG4gIHJldHVybiBjb3VudHMubWFwKChjb3VudCkgPT4ge1xuICAgIGxldCBvdXQgPSBcIlwiO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY291bnQ7IGkrKykge1xuICAgICAgb3V0ICs9ICgoMSArIE1hdGgucmFuZG9tKCkpICogNjU1MzYgfCAwKS50b1N0cmluZygxNikuc3Vic3RyaW5nKDEpO1xuICAgIH1cbiAgICByZXR1cm4gb3V0O1xuICB9KS5qb2luKFwiLVwiKTtcbn1cbmNvbnN0IGd1aWQgPSAoKSA9PiBnZW4oWzIsIDEsIDEsIDEsIDNdKTtcbmV4cG9ydCB7XG4gIGd1aWQgYXMgZ1xufTtcbiIsIi8qISBBbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9Fc3JpL2NhbGNpdGUtZGVzaWduLXN5c3RlbS9ibG9iL2Rldi9MSUNFTlNFLm1kIGZvciBkZXRhaWxzLlxudjMuMy4zICovXG5pbXBvcnQgeyBtYWtlVDluQ29udHJvbGxlciB9IGZyb20gXCJAYXJjZ2lzL2x1bWluYS9jb250cm9sbGVyc1wiO1xuaW1wb3J0IHsgZyBhcyBnZXRBc3NldFBhdGggfSBmcm9tIFwiLi9ydW50aW1lLmpzXCI7XG5jb25zdCB1c2VUOW4gPSBtYWtlVDluQ29udHJvbGxlcihnZXRBc3NldFBhdGgpO1xuZXhwb3J0IHtcbiAgdXNlVDluIGFzIHVcbn07XG4iLCIvKiEgQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2dpdGh1Yi5jb20vRXNyaS9jYWxjaXRlLWRlc2lnbi1zeXN0ZW0vYmxvYi9kZXYvTElDRU5TRS5tZCBmb3IgZGV0YWlscy5cbnYzLjMuMyAqL1xuaW1wb3J0IHsgYyBhcyBjdXN0b21FbGVtZW50IH0gZnJvbSBcIi4uLy4uL2NodW5rcy9ydW50aW1lLmpzXCI7XG5pbXBvcnQgeyBjc3MsIGh0bWwsIG5vdGhpbmcsIHN2ZyB9IGZyb20gXCJsaXRcIjtcbmltcG9ydCB7IExpdEVsZW1lbnQsIHNldEF0dHJpYnV0ZSwgc2FmZUNsYXNzTWFwLCBzYWZlU3R5bGVNYXAgfSBmcm9tIFwiQGFyY2dpcy9sdW1pbmFcIjtcbmltcG9ydCB7IGcgYXMgZ3VpZCB9IGZyb20gXCIuLi8uLi9jaHVua3MvZ3VpZC5qc1wiO1xuaW1wb3J0IHsgdSBhcyB1c2VUOW4gfSBmcm9tIFwiLi4vLi4vY2h1bmtzL3VzZVQ5bi5qc1wiO1xuY29uc3QgQ1NTID0ge1xuICBwZXJjZW50YWdlOiBcInBlcmNlbnRhZ2VcIixcbiAgcHJvZ3Jlc3NSaW5nOiBcInJpbmctLXByb2dyZXNzXCIsXG4gIHJpbmc6IFwicmluZ1wiLFxuICByaW5nczogXCJyaW5nc1wiLFxuICB0ZXh0OiBcInRleHRcIixcbiAgdHJhY2tSaW5nOiBcInJpbmctLXRyYWNrXCJcbn07XG5jb25zdCBzdHlsZXMgPSBjc3NgOmhvc3R7LS1jYWxjaXRlLWludGVybmFsLWNvbG9yLWZvY3VzOiB2YXIoIC0tY2FsY2l0ZS1jb2xvci1mb2N1cywgdmFyKC0tY2FsY2l0ZS11aS1mb2N1cy1jb2xvciwgdmFyKC0tY2FsY2l0ZS1jb2xvci1icmFuZCkpICl9Omhvc3R7cG9zaXRpb246cmVsYXRpdmU7bWFyZ2luLWlubGluZTphdXRvO2Rpc3BsYXk6ZmxleDthbGlnbi1pdGVtczpjZW50ZXI7anVzdGlmeS1jb250ZW50OmNlbnRlcjtvcGFjaXR5OjE7ZmxleC1kaXJlY3Rpb246Y29sdW1uO21pbi1ibG9jay1zaXplOnZhcigtLWNhbGNpdGUtbG9hZGVyLXNpemUpO2ZvbnQtc2l6ZTp2YXIoLS1jYWxjaXRlLWxvYWRlci1mb250LXNpemUpO3N0cm9rZS13aWR0aDp2YXIoLS1jYWxjaXRlLWludGVybmFsLXN0cm9rZS13aWR0aCk7ZmlsbDpub25lO3RyYW5zZm9ybTpzY2FsZSgxKTtwYWRkaW5nLWJsb2NrOnZhcigtLWNhbGNpdGUtbG9hZGVyLXNwYWNpbmcsIDRyZW0pfTpob3N0KFtzY2FsZT1zXSl7LS1jYWxjaXRlLWludGVybmFsLXN0cm9rZS13aWR0aDogMzstLWNhbGNpdGUtaW50ZXJuYWwtdGV4dC1vZmZzZXQ6IHZhcigtLWNhbGNpdGUtc3BhY2luZy14eHMpOy0tY2FsY2l0ZS1pbnRlcm5hbC1sb2FkZXItZm9udC1zaXplOiB2YXIoLS1jYWxjaXRlLWZvbnQtc2l6ZS0tMyk7LS1jYWxjaXRlLWludGVybmFsLWxvYWRlci1zaXplOiAycmVtOy0tY2FsY2l0ZS1pbnRlcm5hbC1sb2FkZXItc2l6ZS1pbmxpbmU6IC43NXJlbTstLWNhbGNpdGUtaW50ZXJuYWwtbG9hZGVyLXZhbHVlLWxpbmUtaGVpZ2h0OiAuNjI1cmVtfTpob3N0KFtzY2FsZT1tXSl7LS1jYWxjaXRlLWludGVybmFsLXN0cm9rZS13aWR0aDogNjstLWNhbGNpdGUtaW50ZXJuYWwtdGV4dC1vZmZzZXQ6IHZhcigtLWNhbGNpdGUtc3BhY2luZy1zbSk7LS1jYWxjaXRlLWludGVybmFsLWxvYWRlci1mb250LXNpemU6IHZhcigtLWNhbGNpdGUtZm9udC1zaXplLTApOy0tY2FsY2l0ZS1pbnRlcm5hbC1sb2FkZXItc2l6ZTogNHJlbTstLWNhbGNpdGUtaW50ZXJuYWwtbG9hZGVyLXNpemUtaW5saW5lOiAxcmVtOy0tY2FsY2l0ZS1pbnRlcm5hbC1sb2FkZXItdmFsdWUtbGluZS1oZWlnaHQ6IDEuMzc1cmVtfTpob3N0KFtzY2FsZT1sXSl7LS1jYWxjaXRlLWludGVybmFsLXN0cm9rZS13aWR0aDogODstLWNhbGNpdGUtaW50ZXJuYWwtdGV4dC1vZmZzZXQ6IHZhcigtLWNhbGNpdGUtc3BhY2luZy1tZCk7LS1jYWxjaXRlLWludGVybmFsLWxvYWRlci1mb250LXNpemU6IHZhcigtLWNhbGNpdGUtZm9udC1zaXplLTIpOy0tY2FsY2l0ZS1pbnRlcm5hbC1sb2FkZXItc2l6ZTogNnJlbTstLWNhbGNpdGUtaW50ZXJuYWwtbG9hZGVyLXNpemUtaW5saW5lOiAxLjVyZW07LS1jYWxjaXRlLWludGVybmFsLWxvYWRlci12YWx1ZS1saW5lLWhlaWdodDogMS43MTg3NXJlbX0udGV4dHtkaXNwbGF5OmJsb2NrO3RleHQtYWxpZ246Y2VudGVyO2ZvbnQtc2l6ZTp2YXIoLS1jYWxjaXRlLWZvbnQtc2l6ZS0tMik7bGluZS1oZWlnaHQ6MXJlbTttYXJnaW4tYmxvY2stc3RhcnQ6dmFyKC0tY2FsY2l0ZS1sb2FkZXItdGV4dC1zcGFjaW5nLCB2YXIoLS1jYWxjaXRlLWludGVybmFsLXRleHQtb2Zmc2V0KSk7Zm9udC13ZWlnaHQ6dmFyKC0tY2FsY2l0ZS1sb2FkZXItdGV4dC13ZWlnaHQsIHZhcigtLWNhbGNpdGUtZm9udC13ZWlnaHQtbm9ybWFsKSk7Y29sb3I6dmFyKC0tY2FsY2l0ZS1sb2FkZXItdGV4dC1jb2xvciwgdmFyKC0tY2FsY2l0ZS1jb2xvci10ZXh0LTEpKX0ucGVyY2VudGFnZXtkaXNwbGF5OmJsb2NrO3RleHQtYWxpZ246Y2VudGVyO2ZvbnQtc2l6ZTp2YXIoLS1jYWxjaXRlLWxvYWRlci1mb250LXNpemUpO2lubGluZS1zaXplOnZhcigtLWNhbGNpdGUtbG9hZGVyLXNpemUsIHZhcigtLWNhbGNpdGUtaW50ZXJuYWwtbG9hZGVyLXNpemUpKTtsaW5lLWhlaWdodDp2YXIoLS1jYWxjaXRlLWludGVybmFsLWxvYWRlci12YWx1ZS1saW5lLWhlaWdodCk7YWxpZ24tc2VsZjpjZW50ZXI7Y29sb3I6dmFyKC0tY2FsY2l0ZS1sb2FkZXItdGV4dC1jb2xvciwgdmFyKC0tY2FsY2l0ZS1jb2xvci10ZXh0LTEpKX0ucmluZ3N7cG9zaXRpb246cmVsYXRpdmU7ZGlzcGxheTpmbGV4O292ZXJmbG93OnZpc2libGU7b3BhY2l0eToxO2lubGluZS1zaXplOnZhcigtLWNhbGNpdGUtbG9hZGVyLXNpemUsIHZhcigtLWNhbGNpdGUtaW50ZXJuYWwtbG9hZGVyLXNpemUpKTtibG9jay1zaXplOnZhcigtLWNhbGNpdGUtbG9hZGVyLXNpemUsIHZhcigtLWNhbGNpdGUtaW50ZXJuYWwtbG9hZGVyLXNpemUpKX0ucmluZ3twb3NpdGlvbjphYnNvbHV0ZTtpbnNldC1ibG9jay1zdGFydDowcHg7dHJhbnNmb3JtLW9yaWdpbjpjZW50ZXI7b3ZlcmZsb3c6dmlzaWJsZTtpbnNldC1pbmxpbmUtc3RhcnQ6MDtpbmxpbmUtc2l6ZTp2YXIoLS1jYWxjaXRlLWxvYWRlci1zaXplLCB2YXIoLS1jYWxjaXRlLWludGVybmFsLWxvYWRlci1zaXplKSk7YmxvY2stc2l6ZTp2YXIoLS1jYWxjaXRlLWxvYWRlci1zaXplLCB2YXIoLS1jYWxjaXRlLWludGVybmFsLWxvYWRlci1zaXplKSl9LnJpbmctLXRyYWNre3N0cm9rZTp2YXIoLS1jYWxjaXRlLWxvYWRlci10cmFjay1jb2xvciwgdmFyKC0tY2FsY2l0ZS1jb2xvci10cmFuc3BhcmVudC1wcmVzcykpfS5yaW5nLS1wcm9ncmVzc3tzdHJva2U6dmFyKC0tY2FsY2l0ZS1sb2FkZXItcHJvZ3Jlc3MtY29sb3IsIHZhcigtLWNhbGNpdGUtY29sb3ItYnJhbmQpKTt0cmFuc2Zvcm06cm90YXRlKC05MGRlZyk7dHJhbnNpdGlvbjphbGwgdmFyKC0tY2FsY2l0ZS1pbnRlcm5hbC1hbmltYXRpb24tdGltaW5nLWZhc3QpIGxpbmVhcn06aG9zdChbdHlwZT1pbmRldGVybWluYXRlXSkgLnJpbmctLXByb2dyZXNze2FuaW1hdGlvbjpsb2FkZXItY2xvY2t3aXNlIGNhbGModmFyKC0tY2FsY2l0ZS1pbnRlcm5hbC1hbmltYXRpb24tdGltaW5nLXNsb3cpIC8gdmFyKC0tY2FsY2l0ZS1pbnRlcm5hbC1kdXJhdGlvbi1mYWN0b3IpICogMiAvIHZhcigtLWNhbGNpdGUtaW50ZXJuYWwtZHVyYXRpb24tZmFjdG9yKSkgbGluZWFyIGluZmluaXRlfTpob3N0KFtpbmxpbmVdKXstLWNhbGNpdGUtaW50ZXJuYWwtc3Ryb2tlLXdpZHRoOiAyO3Bvc2l0aW9uOnJlbGF0aXZlO21hcmdpbjowO3N0cm9rZTpjdXJyZW50Q29sb3I7c3Ryb2tlLXdpZHRoOjI7cGFkZGluZy1ibG9jazowcHg7YmxvY2stc2l6ZTp2YXIoLS1jYWxjaXRlLWxvYWRlci1zaXplLCB2YXIoLS1jYWxjaXRlLWxvYWRlci1zaXplLWlubGluZSwgdmFyKC0tY2FsY2l0ZS1pbnRlcm5hbC1sb2FkZXItc2l6ZS1pbmxpbmUpKSk7bWluLWJsb2NrLXNpemU6dmFyKC0tY2FsY2l0ZS1sb2FkZXItc2l6ZSwgdmFyKC0tY2FsY2l0ZS1sb2FkZXItc2l6ZS1pbmxpbmUsIHZhcigtLWNhbGNpdGUtaW50ZXJuYWwtbG9hZGVyLXNpemUtaW5saW5lKSkpO2lubGluZS1zaXplOnZhcigtLWNhbGNpdGUtbG9hZGVyLXNpemUsIHZhcigtLWNhbGNpdGUtbG9hZGVyLXNpemUtaW5saW5lLCB2YXIoLS1jYWxjaXRlLWludGVybmFsLWxvYWRlci1zaXplLWlubGluZSkpKTt2ZXJ0aWNhbC1hbGlnbjpjYWxjKHZhcigtLWNhbGNpdGUtbG9hZGVyLXNpemUsIHZhcigtLWNhbGNpdGUtbG9hZGVyLXNpemUtaW5saW5lLCB2YXIoLS1jYWxjaXRlLWludGVybmFsLWxvYWRlci1zaXplLWlubGluZSkpKSAqIC0xICogLjIpfTpob3N0KFtpbmxpbmVdKSAucmluZ3N7aW5zZXQtYmxvY2stc3RhcnQ6MHB4O21hcmdpbjowO2luc2V0LWlubGluZS1zdGFydDowO2lubGluZS1zaXplOnZhcigtLWNhbGNpdGUtbG9hZGVyLXNpemUsIHZhcigtLWNhbGNpdGUtbG9hZGVyLXNpemUtaW5saW5lLCB2YXIoLS1jYWxjaXRlLWludGVybmFsLWxvYWRlci1zaXplLWlubGluZSkpKTtibG9jay1zaXplOnZhcigtLWNhbGNpdGUtbG9hZGVyLXNpemUsIHZhcigtLWNhbGNpdGUtbG9hZGVyLXNpemUtaW5saW5lLCB2YXIoLS1jYWxjaXRlLWludGVybmFsLWxvYWRlci1zaXplLWlubGluZSkpKX06aG9zdChbaW5saW5lXSkgLnJpbmd7aW5saW5lLXNpemU6dmFyKC0tY2FsY2l0ZS1sb2FkZXItc2l6ZSwgdmFyKC0tY2FsY2l0ZS1sb2FkZXItc2l6ZS1pbmxpbmUsIHZhcigtLWNhbGNpdGUtaW50ZXJuYWwtbG9hZGVyLXNpemUtaW5saW5lKSkpO2Jsb2NrLXNpemU6dmFyKC0tY2FsY2l0ZS1sb2FkZXItc2l6ZSwgdmFyKC0tY2FsY2l0ZS1sb2FkZXItc2l6ZS1pbmxpbmUsIHZhcigtLWNhbGNpdGUtaW50ZXJuYWwtbG9hZGVyLXNpemUtaW5saW5lKSkpfTpob3N0KFtpbmxpbmVdKSAucmluZy0tcHJvZ3Jlc3N7c3Ryb2tlOnZhcigtLWNhbGNpdGUtbG9hZGVyLXByb2dyZXNzLWNvbG9yLWlubGluZSwgY3VycmVudENvbG9yKX06aG9zdChbY29tcGxldGVdKXtvcGFjaXR5OjA7dHJhbnNmb3JtOnNjYWxlKC43NSk7dHJhbnNmb3JtLW9yaWdpbjpjZW50ZXI7dHJhbnNpdGlvbjpvcGFjaXR5IHZhcigtLWNhbGNpdGUtaW50ZXJuYWwtYW5pbWF0aW9uLXRpbWluZy1tZWRpdW0pIGxpbmVhciAxcyx0cmFuc2Zvcm0gdmFyKC0tY2FsY2l0ZS1pbnRlcm5hbC1hbmltYXRpb24tdGltaW5nLW1lZGl1bSkgbGluZWFyIDFzfTpob3N0KFtjb21wbGV0ZV0pIC5yaW5nc3tvcGFjaXR5OjA7dHJhbnNmb3JtOnNjYWxlKC43NSk7dHJhbnNmb3JtLW9yaWdpbjpjZW50ZXI7dHJhbnNpdGlvbjpvcGFjaXR5IGNhbGMoLjE4cyAqIHZhcigtLWNhbGNpdGUtaW50ZXJuYWwtZHVyYXRpb24tZmFjdG9yKSkgbGluZWFyIC44cyx0cmFuc2Zvcm0gY2FsYyguMThzICogdmFyKC0tY2FsY2l0ZS1pbnRlcm5hbC1kdXJhdGlvbi1mYWN0b3IpKSBsaW5lYXIgLjhzfTpob3N0KFtjb21wbGV0ZV0pIC5wZXJjZW50YWdle2NvbG9yOnZhcigtLWNhbGNpdGUtY29sb3ItYnJhbmQpO3RyYW5zZm9ybTpzY2FsZSgxLjA1KTt0cmFuc2Zvcm0tb3JpZ2luOmNlbnRlcjt0cmFuc2l0aW9uOmNvbG9yIHZhcigtLWNhbGNpdGUtaW50ZXJuYWwtYW5pbWF0aW9uLXRpbWluZy1tZWRpdW0pIGxpbmVhcix0cmFuc2Zvcm0gdmFyKC0tY2FsY2l0ZS1pbnRlcm5hbC1hbmltYXRpb24tdGltaW5nLW1lZGl1bSkgbGluZWFyfUBrZXlmcmFtZXMgbG9hZGVyLWNsb2Nrd2lzZXswJXt0cmFuc2Zvcm06cm90YXRlKDApfXRve3RyYW5zZm9ybTpyb3RhdGUoMzYwZGVnKX19Omhvc3QoW2hpZGRlbl0pe2Rpc3BsYXk6bm9uZX1baGlkZGVuXXtkaXNwbGF5Om5vbmV9YDtcbmNsYXNzIExvYWRlciBleHRlbmRzIExpdEVsZW1lbnQge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgIHRoaXMubWVzc2FnZXMgPSB1c2VUOW4oeyBuYW1lOiBudWxsIH0pO1xuICAgIHRoaXMuY29tcGxldGUgPSBmYWxzZTtcbiAgICB0aGlzLmlubGluZSA9IGZhbHNlO1xuICAgIHRoaXMuc2NhbGUgPSBcIm1cIjtcbiAgICB0aGlzLnRleHQgPSBcIlwiO1xuICAgIHRoaXMudHlwZSA9IFwiaW5kZXRlcm1pbmF0ZVwiO1xuICAgIHRoaXMudmFsdWUgPSAwO1xuICB9XG4gIHN0YXRpYyB7XG4gICAgdGhpcy5wcm9wZXJ0aWVzID0geyBjb21wbGV0ZTogWzcsIHt9LCB7IHJlZmxlY3Q6IHRydWUsIHR5cGU6IEJvb2xlYW4gfV0sIGlubGluZTogWzcsIHt9LCB7IHJlZmxlY3Q6IHRydWUsIHR5cGU6IEJvb2xlYW4gfV0sIGxhYmVsOiAxLCBzY2FsZTogWzMsIHt9LCB7IHJlZmxlY3Q6IHRydWUgfV0sIHRleHQ6IDEsIHR5cGU6IFszLCB7fSwgeyByZWZsZWN0OiB0cnVlIH1dLCB2YWx1ZTogWzksIHt9LCB7IHR5cGU6IE51bWJlciB9XSB9O1xuICB9XG4gIHN0YXRpYyB7XG4gICAgdGhpcy5zdHlsZXMgPSBzdHlsZXM7XG4gIH1cbiAgY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gICAgc3VwZXIuY29ubmVjdGVkQ2FsbGJhY2soKTtcbiAgICB0aGlzLnVwZGF0ZUZvcm1hdHRlcigpO1xuICB9XG4gIGxvYWQoKSB7XG4gICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHRoaXMudmFsdWVDaGFuZ2VIYW5kbGVyKCkpO1xuICB9XG4gIHdpbGxVcGRhdGUoY2hhbmdlcykge1xuICAgIGlmIChjaGFuZ2VzLmhhcyhcInZhbHVlXCIpICYmICh0aGlzLmhhc1VwZGF0ZWQgfHwgdGhpcy52YWx1ZSAhPT0gMCkpIHtcbiAgICAgIHRoaXMudmFsdWVDaGFuZ2VIYW5kbGVyKCk7XG4gICAgfVxuICAgIGlmIChjaGFuZ2VzLmhhcyhcInR5cGVcIikgJiYgKHRoaXMuaGFzVXBkYXRlZCB8fCB0aGlzLnR5cGUgIT09IFwiaW5kZXRlcm1pbmF0ZVwiKSB8fCBjaGFuZ2VzLmhhcyhcIm1lc3NhZ2VzXCIpKSB7XG4gICAgICB0aGlzLnVwZGF0ZUZvcm1hdHRlcigpO1xuICAgIH1cbiAgfVxuICB2YWx1ZUNoYW5nZUhhbmRsZXIoKSB7XG4gICAgdGhpcy5jb21wbGV0ZSA9IHRoaXMudHlwZS5zdGFydHNXaXRoKFwiZGV0ZXJtaW5hdGVcIikgJiYgdGhpcy52YWx1ZSA9PT0gMTAwO1xuICB9XG4gIGZvcm1hdFZhbHVlKCkge1xuICAgIGlmICh0aGlzLnR5cGUgIT09IFwiZGV0ZXJtaW5hdGUtdmFsdWVcIikge1xuICAgICAgcmV0dXJuIGAke3RoaXMudmFsdWV9YDtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuZm9ybWF0dGVyLmZvcm1hdCh0aGlzLnZhbHVlIC8gMTAwKTtcbiAgfVxuICBnZXRTaXplKHNjYWxlKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHM6IDMyLFxuICAgICAgbTogNjQsXG4gICAgICBsOiA5NlxuICAgIH1bc2NhbGVdO1xuICB9XG4gIGdldElubGluZVNpemUoc2NhbGUpIHtcbiAgICByZXR1cm4ge1xuICAgICAgczogMTIsXG4gICAgICBtOiAxNixcbiAgICAgIGw6IDI0XG4gICAgfVtzY2FsZV07XG4gIH1cbiAgdXBkYXRlRm9ybWF0dGVyKCkge1xuICAgIGlmICh0aGlzLnR5cGUgIT09IFwiZGV0ZXJtaW5hdGUtdmFsdWVcIiB8fCB0aGlzLmZvcm1hdHRlcj8ucmVzb2x2ZWRPcHRpb25zKCkubG9jYWxlID09PSB0aGlzLm1lc3NhZ2VzLl9sYW5nKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuZm9ybWF0dGVyID0gbmV3IEludGwuTnVtYmVyRm9ybWF0KHRoaXMubWVzc2FnZXMuX2xhbmcsIHtcbiAgICAgIHN0eWxlOiBcInBlcmNlbnRcIlxuICAgIH0pO1xuICB9XG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB7IGVsLCBpbmxpbmUsIGxhYmVsLCB0ZXh0LCB0eXBlLCB2YWx1ZSB9ID0gdGhpcztcbiAgICBjb25zdCBpZCA9IGVsLmlkIHx8IGd1aWQoKTtcbiAgICBjb25zdCBpc0RldGVybWluYXRlID0gdHlwZSAhPT0gXCJpbmRldGVybWluYXRlXCI7XG4gICAgY29uc3QgdmFsdWVOb3cgPSBNYXRoLmZsb29yKHZhbHVlKTtcbiAgICB0aGlzLmVsLmFyaWFMYWJlbCA9IGxhYmVsO1xuICAgIHRoaXMuZWwuYXJpYVZhbHVlTWF4ID0gaXNEZXRlcm1pbmF0ZSA/IFwiMTAwXCIgOiB2b2lkIDA7XG4gICAgdGhpcy5lbC5hcmlhVmFsdWVNaW4gPSBpc0RldGVybWluYXRlID8gXCIwXCIgOiB2b2lkIDA7XG4gICAgdGhpcy5lbC5hcmlhVmFsdWVOb3cgPSBpc0RldGVybWluYXRlID8gdmFsdWVOb3cudG9TdHJpbmcoKSA6IHZvaWQgMDtcbiAgICBzZXRBdHRyaWJ1dGUodGhpcy5lbCwgXCJpZFwiLCBpZCk7XG4gICAgdGhpcy5lbC5yb2xlID0gXCJwcm9ncmVzc2JhclwiO1xuICAgIHJldHVybiBodG1sYDxkaXYgY2xhc3M9JHtzYWZlQ2xhc3NNYXAoQ1NTLnJpbmdzKX0+JHt0aGlzLnJlbmRlclJpbmcoXCJ0cmFja1wiKX0ke3RoaXMucmVuZGVyUmluZyhcInByb2dyZXNzXCIpfSR7IWlubGluZSAmJiBpc0RldGVybWluYXRlICYmIGh0bWxgPGRpdiBjbGFzcz0ke3NhZmVDbGFzc01hcChDU1MucGVyY2VudGFnZSl9PiR7dGhpcy5mb3JtYXRWYWx1ZSgpfTwvZGl2PmAgfHwgXCJcIn08L2Rpdj4keyFpbmxpbmUgJiYgdGV4dCAmJiBodG1sYDxkaXYgY2xhc3M9JHtzYWZlQ2xhc3NNYXAoQ1NTLnRleHQpfT4ke3RleHR9PC9kaXY+YCB8fCBcIlwifWA7XG4gIH1cbiAgcmVuZGVyUmluZyh0eXBlKSB7XG4gICAgY29uc3QgeyBpbmxpbmUsIHNjYWxlLCB2YWx1ZSB9ID0gdGhpcztcbiAgICBjb25zdCBzaXplID0gaW5saW5lID8gdGhpcy5nZXRJbmxpbmVTaXplKHNjYWxlKSA6IHRoaXMuZ2V0U2l6ZShzY2FsZSk7XG4gICAgY29uc3QgcmFkaXVzUmF0aW8gPSAwLjQ1O1xuICAgIGNvbnN0IHJhZGl1cyA9IHNpemUgKiByYWRpdXNSYXRpbztcbiAgICBsZXQgc3R5bGU7XG4gICAgaWYgKHR5cGUgPT09IFwicHJvZ3Jlc3NcIikge1xuICAgICAgY29uc3QgY2lyY3VtZmVyZW5jZSA9IDIgKiByYWRpdXMgKiBNYXRoLlBJO1xuICAgICAgY29uc3QgcHJvZ3Jlc3MgPSAodGhpcy50eXBlLnN0YXJ0c1dpdGgoXCJkZXRlcm1pbmF0ZVwiKSA/IHZhbHVlIDogMjQpIC8gMTAwICogY2lyY3VtZmVyZW5jZTtcbiAgICAgIGNvbnN0IHJlbWFpbmluZyA9IGNpcmN1bWZlcmVuY2UgLSBwcm9ncmVzcztcbiAgICAgIHN0eWxlID0geyBcInN0cm9rZS1kYXNoYXJyYXlcIjogYCR7cHJvZ3Jlc3N9ICR7cmVtYWluaW5nfWAgfTtcbiAgICB9XG4gICAgcmV0dXJuIGh0bWxgPHN2ZyBhcmlhLWhpZGRlbj10cnVlIGNsYXNzPSR7c2FmZUNsYXNzTWFwKHtcbiAgICAgIFtDU1MucmluZ106IHRydWUsXG4gICAgICBbQ1NTLnRyYWNrUmluZ106IHR5cGUgPT09IFwidHJhY2tcIixcbiAgICAgIFtDU1MucHJvZ3Jlc3NSaW5nXTogdHlwZSA9PT0gXCJwcm9ncmVzc1wiXG4gICAgfSl9IHN0eWxlPSR7c2FmZVN0eWxlTWFwKHN0eWxlKX0gdmlld0JveD0ke2AwIDAgJHtzaXplfSAke3NpemV9YH0+JHtzdmdgPGNpcmNsZSBjeD0ke3NpemUgLyAyfSBjeT0ke3NpemUgLyAyfSByPSR7cmFkaXVzID8/IG5vdGhpbmd9IC8+YH08L3N2Zz5gO1xuICB9XG59XG5jdXN0b21FbGVtZW50KFwiY2FsY2l0ZS1sb2FkZXJcIiwgTG9hZGVyKTtcbmV4cG9ydCB7XG4gIExvYWRlclxufTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==