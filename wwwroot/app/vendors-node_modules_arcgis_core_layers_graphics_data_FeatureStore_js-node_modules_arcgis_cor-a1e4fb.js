export const __webpack_id__ = "vendors-node_modules_arcgis_core_layers_graphics_data_FeatureStore_js-node_modules_arcgis_cor-a1e4fb";
export const __webpack_ids__ = ["vendors-node_modules_arcgis_core_layers_graphics_data_FeatureStore_js-node_modules_arcgis_cor-a1e4fb"];
export const __webpack_modules__ = {

/***/ "./node_modules/@arcgis/core/chunks/quickselect.js":
/*!*********************************************************!*\
  !*** ./node_modules/@arcgis/core/chunks/quickselect.js ***!
  \*********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   q: () => (/* binding */ t)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
function t(t,r,f,n,h){o(t,r,f||0,n||t.length-1,h||a)}function o(t,a,f,n,h){for(;n>f;){if(n-f>600){var M=n-f+1,i=a-f+1,u=Math.log(M),c=.5*Math.exp(2*u/3),e=.5*Math.sqrt(u*c*(M-c)/M)*(i-M/2<0?-1:1);o(t,a,Math.max(f,Math.floor(a-i*c/M+e)),Math.min(n,Math.floor(a+(M-i)*c/M+e)),h)}var l=t[a],v=f,x=n;for(r(t,f,a),h(t[n],l)>0&&r(t,f,n);v<x;){for(r(t,v,x),v++,x--;h(t[v],l)<0;)v++;for(;h(t[x],l)>0;)x--}0===h(t[f],l)?r(t,f,x):r(t,++x,n),x<=a&&(f=x+1),a<=x&&(n=x-1)}}function r(t,o,r){var a=t[o];t[o]=t[r],t[r]=a}function a(t,o){return t<o?-1:t>o?1:0}


/***/ }),

/***/ "./node_modules/@arcgis/core/core/libs/rbush/PooledRBush.js":
/*!******************************************************************!*\
  !*** ./node_modules/@arcgis/core/core/libs/rbush/PooledRBush.js ***!
  \******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   BBox: () => (/* binding */ E),
/* harmony export */   PooledRBush: () => (/* binding */ s)
/* harmony export */ });
/* harmony import */ var _arrayUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _compilerUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../compilerUtils.js */ "./node_modules/@arcgis/core/core/compilerUtils.js");
/* harmony import */ var _has_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _PooledArray_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../PooledArray.js */ "./node_modules/@arcgis/core/core/PooledArray.js");
/* harmony import */ var _chunks_quickselect_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../chunks/quickselect.js */ "./node_modules/@arcgis/core/chunks/quickselect.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
class s{constructor(t=9,i){this._compareMinX=u,this._compareMinY=d,this._toBBox=t=>t,this._maxEntries=Math.max(4,t||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),i&&("function"==typeof i?this._toBBox=i:this._initFormat(i)),this.clear()}destroy(){this.clear(),Y.prune(),B.prune(),w.prune(),j.prune()}all(t){r(this._data,t)}search(t,i){let n=this._data;const e=this._toBBox;if(M(t,n))for(Y.clear();n;){for(let h=0,s=n.children.length;h<s;h++){const s=n.children[h],a=n.leaf?e(s):s;M(t,a)&&(n.leaf?i(s):g(t,a)?r(s,i):Y.push(s))}n=Y.pop()}}collides(t){let i=this._data;const n=this._toBBox;if(!M(t,i))return!1;for(Y.clear();i;){for(let e=0,h=i.children.length;e<h;e++){const h=i.children[e],s=i.leaf?n(h):h;if(M(t,s)){if(i.leaf||g(t,s))return!0;Y.push(h)}}i=Y.pop()}return!1}load(t){if(!t.length)return this;if(t.length<this._minEntries){for(let i=0,n=t.length;i<n;i++)this.insert(t[i]);return this}let i=this._build(t.slice(),0,t.length-1,0);if(this._data.children.length)if(this._data.height===i.height)this._splitRoot(this._data,i);else{if(this._data.height<i.height){const t=this._data;this._data=i,i=t}this._insert(i,this._data.height-i.height-1,!0)}else this._data=i;return this}insert(t){return t&&this._insert(t,this._data.height-1),this}clear(){return this._data=new S([]),this}remove(i){if(!i)return this;let e,h=this._data,s=null,a=0,r=!1;const o=this._toBBox(i);for(w.clear(),j.clear();h||w.length>0;){if(h||(h=w.pop(),s=w.data[w.length-1],a=j.pop()??0,r=!0),h.leaf&&(e=(0,_arrayUtils_js__WEBPACK_IMPORTED_MODULE_0__.indexOf)(h.children,(0,_compilerUtils_js__WEBPACK_IMPORTED_MODULE_1__.toConst)(i),h.children.length,h.indexHint),-1!==e))return h.children.splice(e,1),w.push(h),this._condense(w),this;r||h.leaf||!g(h,o)?s?(a++,h=s.children[a],r=!1):h=null:(w.push(h),j.push(a),a=0,s=h,h=h.children[0])}return this}toJSON(){return this._data}fromJSON(t){return this._data=t,this}_build(t,i,n,e){const h=n-i+1;let s=this._maxEntries;if(h<=s){const e=new S(t.slice(i,n+1));return l(e,this._toBBox),e}e||(e=Math.ceil(Math.log(h)/Math.log(s)),s=Math.ceil(h/s**(e-1)));const a=new y([]);a.height=e;const r=Math.ceil(h/s),o=r*Math.ceil(Math.sqrt(s));X(t,i,n,o,this._compareMinX);for(let l=i;l<=n;l+=o){const i=Math.min(l+o-1,n);X(t,l,i,r,this._compareMinY);for(let n=l;n<=i;n+=r){const h=Math.min(n+r-1,i);a.children.push(this._build(t,n,h,e-1))}}return l(a,this._toBBox),a}_insert(t,i,n){const e=this._toBBox,h=n?t:e(t);w.clear();const s=a(h,this._data,i,w);for(s.children.push(t),m(s,h);i>=0&&w.data[i].children.length>this._maxEntries;)this._split(w,i),i--;o(h,w,i)}_split(t,i){const n=t.data[i],e=n.children.length,h=this._minEntries;this._chooseSplitAxis(n,h,e);const s=this._chooseSplitIndex(n,h,e);if(!s)return;const a=n.children.splice(s,n.children.length-s),r=n.leaf?new S(a):new y(a);r.height=n.height,l(n,this._toBBox),l(r,this._toBBox),i?t.data[i-1].children.push(r):this._splitRoot(n,r)}_splitRoot(t,i){this._data=new y([t,i]),this._data.height=t.height+1,l(this._data,this._toBBox)}_chooseSplitIndex(t,i,n){let e,h,s;e=h=1/0;for(let a=i;a<=n-i;a++){const i=c(t,0,a,this._toBBox),r=c(t,a,n,this._toBBox),o=p(i,r),l=f(i)+f(r);o<e?(e=o,s=a,h=l<h?l:h):o===e&&l<h&&(h=l,s=a)}return s}_chooseSplitAxis(t,i,n){const e=t.leaf?this._compareMinX:u,h=t.leaf?this._compareMinY:d;this._allDistMargin(t,i,n,e)<this._allDistMargin(t,i,n,h)&&t.children.sort(e)}_allDistMargin(t,i,n,e){t.children.sort(e);const h=this._toBBox,s=c(t,0,i,h),a=c(t,n-i,n,h);let r=x(s)+x(a);for(let o=i;o<n-i;o++){const i=t.children[o];m(s,t.leaf?h(i):i),r+=x(s)}for(let o=n-i-1;o>=i;o--){const i=t.children[o];m(a,t.leaf?h(i):i),r+=x(a)}return r}_condense(i){for(let n=i.length-1;n>=0;n--){const e=i.data[n];if(0===e.children.length)if(n>0){const h=i.data[n-1],s=h.children;s.splice((0,_arrayUtils_js__WEBPACK_IMPORTED_MODULE_0__.indexOf)(s,e,s.length,h.indexHint),1)}else this.clear();else l(e,this._toBBox)}}_initFormat(t){const i=["return a"," - b",";"];this._compareMinX=new Function("a","b",i.join(t[0])),this._compareMinY=new Function("a","b",i.join(t[1])),this._toBBox=new Function("a","return {minX: a"+t[0]+", minY: a"+t[1]+", maxX: a"+t[2]+", maxY: a"+t[3]+"};")}}function a(t,i,n,e){for(;e.push(i),!0!==i.leaf&&e.length-1!==n;){let n,e=1/0,h=1/0;for(let s=0,a=i.children.length;s<a;s++){const a=i.children[s],r=f(a),o=_(t,a)-r;o<h?(h=o,e=r<e?r:e,n=a):o===h&&r<e&&(e=r,n=a)}i=n||i.children[0]}return i}function r(t,i){let e=t;for(B.clear();e;){if(!0===e.leaf)for(const t of e.children)i((0,_compilerUtils_js__WEBPACK_IMPORTED_MODULE_1__.toConst)(t));else B.pushArray(e.children);e=B.pop()??null}}function o(t,i,n){for(let e=n;e>=0;e--)m(i.data[e],t)}function l(t,i){c(t,0,t.children.length,i,t)}function c(t,i,n,e,h){h||(h=new S([])),h.minX=1/0,h.minY=1/0,h.maxX=-1/0,h.maxY=-1/0;for(let s,a=i;a<n;a++)s=t.children[a],m(h,t.leaf?e(s):s);return h}function m(t,i){t.minX=Math.min(t.minX,i.minX),t.minY=Math.min(t.minY,i.minY),t.maxX=Math.max(t.maxX,i.maxX),t.maxY=Math.max(t.maxY,i.maxY)}function u(t,i){return t.minX-i.minX}function d(t,i){return t.minY-i.minY}function f(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function x(t){return t.maxX-t.minX+(t.maxY-t.minY)}function _(t,i){return(Math.max(i.maxX,t.maxX)-Math.min(i.minX,t.minX))*(Math.max(i.maxY,t.maxY)-Math.min(i.minY,t.minY))}function p(t,i){const n=Math.max(t.minX,i.minX),e=Math.max(t.minY,i.minY),h=Math.min(t.maxX,i.maxX),s=Math.min(t.maxY,i.maxY);return Math.max(0,h-n)*Math.max(0,s-e)}function g(t,i){return t.minX<=i.minX&&t.minY<=i.minY&&i.maxX<=t.maxX&&i.maxY<=t.maxY}function M(t,i){return i.minX<=t.maxX&&i.minY<=t.maxY&&i.maxX>=t.minX&&i.maxY>=t.minY}function X(t,i,n,e,s){const a=[i,n];for(;a.length;){const i=a.pop(),n=a.pop();if(i-n<=e)continue;const r=n+Math.ceil((i-n)/e/2)*e;(0,_chunks_quickselect_js__WEBPACK_IMPORTED_MODULE_4__.q)(t,r,n,i,s),a.push(n,r,r,i)}}const Y=new _PooledArray_js__WEBPACK_IMPORTED_MODULE_3__["default"],B=new _PooledArray_js__WEBPACK_IMPORTED_MODULE_3__["default"],w=new _PooledArray_js__WEBPACK_IMPORTED_MODULE_3__["default"],j=new _PooledArray_js__WEBPACK_IMPORTED_MODULE_3__["default"]({deallocator:void 0});class E{constructor(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0}}class b extends E{constructor(){super(...arguments),this.height=1,this.indexHint=new _arrayUtils_js__WEBPACK_IMPORTED_MODULE_0__.PositionHint}}class S extends b{constructor(t){super(),this.children=t,this.leaf=!0}}class y extends b{constructor(t){super(),this.children=t,this.leaf=!1}}


/***/ }),

/***/ "./node_modules/@arcgis/core/layers/graphics/data/BoundsStore.js":
/*!***********************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/graphics/data/BoundsStore.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   BoundsStore: () => (/* binding */ o)
/* harmony export */ });
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_libs_rbush_PooledRBush_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/libs/rbush/PooledRBush.js */ "./node_modules/@arcgis/core/core/libs/rbush/PooledRBush.js");
/* harmony import */ var _geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../geometry/support/aaBoundingRect.js */ "./node_modules/@arcgis/core/geometry/support/aaBoundingRect.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
const d=5e4,n={minX:0,minY:0,maxX:0,maxY:0};function t(i){n.minX=i[0],n.minY=i[1],n.maxX=i[2],n.maxY=i[3]}function e(i,s,d){t(s),i.search(n,d)}class o{constructor(){this._indexInvalid=!1,this._boundsToLoad=[],this._boundsById=new Map,this._idByBounds=new Map,this._index=new _core_libs_rbush_PooledRBush_js__WEBPACK_IMPORTED_MODULE_1__.PooledRBush(9,(0,_core_has_js__WEBPACK_IMPORTED_MODULE_0__["default"])("esri-csp-restrictions")?i=>({minX:i[0],minY:i[1],maxX:i[2],maxY:i[3]}):["[0]","[1]","[2]","[3]"]),this._loadIndex=()=>{if(this._indexInvalid){const i=new Array(this._idByBounds.size);let s=0;this._idByBounds.forEach(((d,n)=>{i[s++]=n})),this._indexInvalid=!1,this._index.clear(),this._index.load(i)}else this._boundsToLoad.length&&(this._index.load(Array.from(new Set(this._boundsToLoad.filter((i=>this._idByBounds.has(i)))))),this._boundsToLoad.length=0)}}get fullBounds(){if(!this._boundsById.size)return null;const i=(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_2__.empty)();for(const s of this._boundsById.values())s&&(i[0]=Math.min(s[0],i[0]),i[1]=Math.min(s[1],i[1]),i[2]=Math.max(s[2],i[2]),i[3]=Math.max(s[3],i[3]));return i}get valid(){return!this._indexInvalid}clear(){this._indexInvalid=!1,this._boundsToLoad.length=0,this._boundsById.clear(),this._idByBounds.clear(),this._index.clear()}delete(i){const s=this._boundsById.get(i);this._boundsById.delete(i),s&&(this._idByBounds.delete(s),this._indexInvalid||this._index.remove(s))}forEachInBounds(i,s){this._loadIndex(),e(this._index,i,(i=>s(this._idByBounds.get(i))))}get(i){return this._boundsById.get(i)}has(i){return this._boundsById.has(i)}invalidateIndex(){this._indexInvalid||(this._indexInvalid=!0,this._boundsToLoad.length=0)}set(i,s){if(!this._indexInvalid){const s=this._boundsById.get(i);s&&(this._index.remove(s),this._idByBounds.delete(s))}this._boundsById.set(i,s),s&&(this._idByBounds.set(s,i),this._indexInvalid||(this._boundsToLoad.push(s),this._boundsToLoad.length>d&&this._loadIndex()))}}


/***/ }),

/***/ "./node_modules/@arcgis/core/layers/graphics/data/FeatureStore.js":
/*!************************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/graphics/data/FeatureStore.js ***!
  \************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ f)
/* harmony export */ });
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_Evented_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/Evented.js */ "./node_modules/@arcgis/core/core/Evented.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../geometry/support/aaBoundingBox.js */ "./node_modules/@arcgis/core/geometry/support/aaBoundingBox.js");
/* harmony import */ var _geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../geometry/support/aaBoundingRect.js */ "./node_modules/@arcgis/core/geometry/support/aaBoundingRect.js");
/* harmony import */ var _featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../featureConversionUtils.js */ "./node_modules/@arcgis/core/layers/graphics/featureConversionUtils.js");
/* harmony import */ var _BoundsStore_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./BoundsStore.js */ "./node_modules/@arcgis/core/layers/graphics/data/BoundsStore.js");
/* harmony import */ var _geometryUtils_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./geometryUtils.js */ "./node_modules/@arcgis/core/layers/graphics/data/geometryUtils.js");
/* harmony import */ var _optimizedFeatureQueryEngineAdapter_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./optimizedFeatureQueryEngineAdapter.js */ "./node_modules/@arcgis/core/layers/graphics/data/optimizedFeatureQueryEngineAdapter.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
const m=(0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_4__.create)();class f{constructor(e){this.geometryInfo=e,this._boundsStore=new _BoundsStore_js__WEBPACK_IMPORTED_MODULE_7__.BoundsStore,this._featuresById=new Map,this._usedMemory=0,this.events=new _core_Evented_js__WEBPACK_IMPORTED_MODULE_2__["default"],this.featureAdapter=_optimizedFeatureQueryEngineAdapter_js__WEBPACK_IMPORTED_MODULE_9__.optimizedFeatureQueryEngineAdapter}get usedMemory(){return this._usedMemory}get geometryType(){return this.geometryInfo.geometryType}get hasM(){return this.geometryInfo.hasM}get hasZ(){return this.geometryInfo.hasZ}get numFeatures(){return this._featuresById.size}get fullBounds(){return this._boundsStore.fullBounds}get storeStatistics(){let e=0;return this._featuresById.forEach((t=>{null!=t.geometry&&t.geometry.coords&&(e+=t.geometry.coords.length)})),{featureCount:this._featuresById.size,vertexCount:e/(this.hasZ?this.hasM?4:3:this.hasM?3:2)}}getFullExtent(e){if(null==this.fullBounds)return null;const[t,r,s,o]=this.fullBounds;return{xmin:t,ymin:r,xmax:s,ymax:o,spatialReference:(0,_geometryUtils_js__WEBPACK_IMPORTED_MODULE_8__.cleanFromGeometryEngine)(e)}}add(e){this._add(e),this._emitChanged()}addMany(e){for(const t of e)this._add(t);this._emitChanged()}upsertMany(t){const r=t.map((e=>this._upsert(e)));return this._emitChanged(),r.filter(_core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_0__.isSome)}clear(){this._featuresById.clear(),this._boundsStore.clear(),this._emitChanged(),this._usedMemory=0}removeById(e){const t=this._featuresById.get(e);return t?(this._remove(t),this._emitChanged(),t):null}removeManyById(e){this._boundsStore.invalidateIndex();for(const t of e){const e=this._featuresById.get(t);e&&this._remove(e)}this._emitChanged()}forEachBounds(e,t){for(const r of e){const e=this._boundsStore.get(r.objectId);e&&t((0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_4__.fromRect)(m,e))}}getFeature(e){return this._featuresById.get(e)}has(e){return this._featuresById.has(e)}forEach(e){this._featuresById.forEach((t=>e(t)))}forEachInBounds(e,t){this._boundsStore.forEachInBounds(e,(e=>{t(this._featuresById.get(e))}))}_emitChanged(){this.events.emit("changed",void 0)}_add(e){if(!e)return;const r=e.objectId;if(null==r)return void _core_Logger_js__WEBPACK_IMPORTED_MODULE_3__["default"].getLogger("esri.layers.graphics.data.FeatureStore").error(new _core_Error_js__WEBPACK_IMPORTED_MODULE_1__["default"]("featurestore:invalid-feature","feature id is missing",{feature:e}));const o=this._featuresById.get(r);let i;if(o?(e.displayId=o.displayId,i=this._boundsStore.get(r),this._boundsStore.delete(r),this._usedMemory-=this.estimateFeatureUsedMemory?.(o)??0):null!=this.onFeatureAdd&&this.onFeatureAdd(e),!e.geometry?.coords?.length)return this._boundsStore.set(r,null),void this._featuresById.set(r,e);i=(0,_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_6__.getBoundsOptimizedGeometry)(null!=i?i:(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_5__.create)(),e.geometry,this.geometryInfo.hasZ,this.geometryInfo.hasM),null!=i&&this._boundsStore.set(r,i),this._featuresById.set(r,e),this._usedMemory+=this.estimateFeatureUsedMemory?.(e)??0}_upsert(e){const r=e?.objectId;if(null==r)return _core_Logger_js__WEBPACK_IMPORTED_MODULE_3__["default"].getLogger("esri.layers.graphics.data.FeatureStore").error(new _core_Error_js__WEBPACK_IMPORTED_MODULE_1__["default"]("featurestore:invalid-feature","feature id is missing",{feature:e})),null;const o=this._featuresById.get(r);if(!o)return this._add(e),e;this._usedMemory-=this.estimateFeatureUsedMemory?.(o)??0;const{geometry:i,attributes:a}=e;for(const t in a)o.attributes[t]=a[t];return i&&(o.geometry=i,this._boundsStore.set(r,(0,_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_6__.getBoundsOptimizedGeometry)((0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_5__.create)(),i,this.geometryInfo.hasZ,this.geometryInfo.hasM)??null)),this._usedMemory+=this.estimateFeatureUsedMemory?.(o)??0,o}_remove(e){null!=this.onFeatureRemove&&this.onFeatureRemove(e);const t=e.objectId;return this._boundsStore.delete(t),this._featuresById.delete(t),this._usedMemory-=this.estimateFeatureUsedMemory?.(e)??0,e}}


/***/ }),

/***/ "./node_modules/@arcgis/core/layers/graphics/data/executeQueryForSnapping.js":
/*!***********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/graphics/data/executeQueryForSnapping.js ***!
  \***********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   executeQueryForSnapping: () => (/* binding */ u)
/* harmony export */ });
/* harmony import */ var _core_lang_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../core/lang.js */ "./node_modules/@arcgis/core/core/lang.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../geometry/support/jsonUtils.js */ "./node_modules/@arcgis/core/geometry/support/jsonUtils.js");
/* harmony import */ var _geometry_support_normalizeUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../geometry/support/normalizeUtils.js */ "./node_modules/@arcgis/core/geometry/support/normalizeUtils.js");
/* harmony import */ var _geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../geometry/support/spatialReferenceUtils.js */ "./node_modules/@arcgis/core/geometry/support/spatialReferenceUtils.js");
/* harmony import */ var _projectionSupport_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./projectionSupport.js */ "./node_modules/@arcgis/core/layers/graphics/data/projectionSupport.js");
/* harmony import */ var _QueryEngine_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./QueryEngine.js */ "./node_modules/@arcgis/core/layers/graphics/data/QueryEngine.js");
/* harmony import */ var _QueryEngineResult_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./QueryEngineResult.js */ "./node_modules/@arcgis/core/layers/graphics/data/QueryEngineResult.js");
/* harmony import */ var _queryUtils_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./queryUtils.js */ "./node_modules/@arcgis/core/layers/graphics/data/queryUtils.js");
/* harmony import */ var _queryValidationUtils_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./queryValidationUtils.js */ "./node_modules/@arcgis/core/layers/graphics/data/queryValidationUtils.js");
/* harmony import */ var _spatialQuerySupport_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./spatialQuerySupport.js */ "./node_modules/@arcgis/core/layers/graphics/data/spatialQuerySupport.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
async function u(c,u,y){const d=(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_1__.signalFromSignalOrOptions)(y),{point:x,distance:g,returnEdge:R,vertexMode:j}=u;if(!R&&"none"===j)return{candidates:[]};let w=(0,_core_lang_js__WEBPACK_IMPORTED_MODULE_0__.clone)(u.query);w=await c.schedule((()=>(0,_queryUtils_js__WEBPACK_IMPORTED_MODULE_8__.normalizeQueryLike)(w,c.definitionExpression,c.spatialReference)),d),w=await c.reschedule((()=>(0,_queryValidationUtils_js__WEBPACK_IMPORTED_MODULE_9__.validateQuery)(w,{availableFields:c.availableFields,fieldsIndex:c.fieldsIndex,geometryType:c.geometryType,spatialReference:c.spatialReference})),d);const h=!(0,_geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_4__.equals)(x.spatialReference,c.spatialReference);h&&await (0,_projectionSupport_js__WEBPACK_IMPORTED_MODULE_5__.checkProjectionSupport)(x.spatialReference,c.spatialReference);const b="number"==typeof g?g:g.x,Q="number"==typeof g?g:g.y,S={xmin:x.x-b,xmax:x.x+b,ymin:x.y-Q,ymax:x.y+Q,spatialReference:x.spatialReference},U=h?(0,_projectionSupport_js__WEBPACK_IMPORTED_MODULE_5__.project)(S,c.spatialReference):S;if(!U)return{candidates:[]};const q=(await (0,_geometry_support_normalizeUtils_js__WEBPACK_IMPORTED_MODULE_3__.normalizeCentralMeridian)((0,_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_2__.fromJSON)(x),null,{signal:d}))[0],E=(await (0,_geometry_support_normalizeUtils_js__WEBPACK_IMPORTED_MODULE_3__.normalizeCentralMeridian)((0,_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_2__.fromJSON)(U),null,{signal:d}))[0];if(null==q||null==E)return{candidates:[]};const F=new _QueryEngineResult_js__WEBPACK_IMPORTED_MODULE_7__.QueryEngineResult(await c.reschedule((()=>c.searchFeatures((0,_QueryEngine_js__WEBPACK_IMPORTED_MODULE_6__.getQueryBBoxes)(E.toJSON()))),d),w,c);await c.reschedule((()=>c.executeObjectIdsQuery(F)),d),await c.reschedule((()=>c.executeTimeQuery(F)),d),await c.reschedule((()=>c.executeAttributesQuery(F)),d),await c.reschedule((()=>f(c,F,d)),d);const T=q.toJSON(),v=h?(0,_projectionSupport_js__WEBPACK_IMPORTED_MODULE_5__.project)(T,c.spatialReference):T,I=h?Math.max(U.xmax-U.xmin,U.ymax-U.ymin)/2:g;return F.createSnappingResponse({...u,point:v,distance:I},w.returnZ,x.spatialReference)}async function f(e,t,r){const{query:a}=t,{spatialRel:i}=a;if(!t?.items?.length||!a.geometry||!i)return;const s=await (0,_spatialQuerySupport_js__WEBPACK_IMPORTED_MODULE_10__.getSpatialQueryOperator)(i,a.geometry,e.geometryType,e.hasZ,e.hasM),n=await e.runSpatialFilter(t.items,(e=>s(e.geometry)),r);t.items=n}


/***/ }),

/***/ "./node_modules/@arcgis/core/layers/graphics/data/optimizedFeatureQueryEngineAdapter.js":
/*!**********************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/graphics/data/optimizedFeatureQueryEngineAdapter.js ***!
  \**********************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   optimizedFeatureQueryEngineAdapter: () => (/* binding */ e)
/* harmony export */ });
/* harmony import */ var _OptimizedFeature_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../OptimizedFeature.js */ "./node_modules/@arcgis/core/layers/graphics/OptimizedFeature.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
const e={getObjectId:t=>t.objectId,getAttributes:t=>t.attributes,getAttribute:(t,e)=>t.attributes[e],cloneWithGeometry:(e,r)=>new _OptimizedFeature_js__WEBPACK_IMPORTED_MODULE_0__.OptimizedFeature(r,e.attributes,null,e.objectId),getGeometry:t=>t.geometry,getCentroid:(t,e)=>t.ensureCentroid(e)};


/***/ })

};

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmVuZG9ycy1ub2RlX21vZHVsZXNfYXJjZ2lzX2NvcmVfbGF5ZXJzX2dyYXBoaWNzX2RhdGFfRmVhdHVyZVN0b3JlX2pzLW5vZGVfbW9kdWxlc19hcmNnaXNfY29yLWExZTRmYi5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLCtCQUErQixzQkFBc0IsS0FBSyxJQUFJLEVBQUUsWUFBWSxrR0FBa0csaUZBQWlGLG1CQUFtQixtQ0FBbUMsSUFBSSxFQUFFLHFCQUFxQixZQUFZLEtBQUssS0FBSyxZQUFZLEtBQUssK0RBQStELGtCQUFrQixXQUFXLGlCQUFpQixnQkFBZ0Isc0JBQXFDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNKL2lCO0FBQ0E7QUFDQTtBQUNBO0FBQzZOLFFBQVEsbUJBQW1CLGtPQUFrTyxVQUFVLHFEQUFxRCxPQUFPLGdCQUFnQixZQUFZLGlCQUFpQixxQkFBcUIsd0JBQXdCLEVBQUUsRUFBRSxnQ0FBZ0MsSUFBSSxLQUFLLHNDQUFzQyw4Q0FBOEMsV0FBVyxZQUFZLGlCQUFpQixxQkFBcUIsb0JBQW9CLGNBQWMsRUFBRSxFQUFFLGdDQUFnQyxJQUFJLEtBQUssc0NBQXNDLFdBQVcsMkJBQTJCLFdBQVcsVUFBVSxTQUFTLFFBQVEseUJBQXlCLDhCQUE4Qix1QkFBdUIsSUFBSSxzQkFBc0IsWUFBWSw0Q0FBNEMsNEZBQTRGLEtBQUssK0JBQStCLG1CQUFtQixpQkFBaUIsZ0RBQWdELGtCQUFrQixZQUFZLFVBQVUsbURBQW1ELFFBQVEsaUNBQWlDLFVBQVUsa0JBQWtCLG1DQUFtQyx3QkFBd0Isd0JBQXdCLGNBQWMsRUFBRSxvRUFBb0UsdURBQUMsWUFBWSwwREFBQywwR0FBMEcscUdBQXFHLFlBQVksU0FBUyxrQkFBa0IsWUFBWSx5QkFBeUIsZ0JBQWdCLGNBQWMsdUJBQXVCLFNBQVMsOEJBQThCLDJCQUEyQixrRUFBa0Usa0JBQWtCLFdBQVcsbURBQW1ELDZCQUE2QixZQUFZLEtBQUss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bm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS9jaHVua3MvcXVpY2tzZWxlY3QuanMiLCJ3ZWJwYWNrOi8vcHJlY2lzaW9uZmFybXMvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL2NvcmUvbGlicy9yYnVzaC9Qb29sZWRSQnVzaC5qcyIsIndlYnBhY2s6Ly9wcmVjaXNpb25mYXJtcy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvbGF5ZXJzL2dyYXBoaWNzL2RhdGEvQm91bmRzU3RvcmUuanMiLCJ3ZWJwYWNrOi8vcHJlY2lzaW9uZmFybXMvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL2xheWVycy9ncmFwaGljcy9kYXRhL0ZlYXR1cmVTdG9yZS5qcyIsIndlYnBhY2s6Ly9wcmVjaXNpb25mYXJtcy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvbGF5ZXJzL2dyYXBoaWNzL2RhdGEvZXhlY3V0ZVF1ZXJ5Rm9yU25hcHBpbmcuanMiLCJ3ZWJwYWNrOi8vcHJlY2lzaW9uZmFybXMvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL2xheWVycy9ncmFwaGljcy9kYXRhL29wdGltaXplZEZlYXR1cmVRdWVyeUVuZ2luZUFkYXB0ZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMzMvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmZ1bmN0aW9uIHQodCxyLGYsbixoKXtvKHQscixmfHwwLG58fHQubGVuZ3RoLTEsaHx8YSl9ZnVuY3Rpb24gbyh0LGEsZixuLGgpe2Zvcig7bj5mOyl7aWYobi1mPjYwMCl7dmFyIE09bi1mKzEsaT1hLWYrMSx1PU1hdGgubG9nKE0pLGM9LjUqTWF0aC5leHAoMip1LzMpLGU9LjUqTWF0aC5zcXJ0KHUqYyooTS1jKS9NKSooaS1NLzI8MD8tMToxKTtvKHQsYSxNYXRoLm1heChmLE1hdGguZmxvb3IoYS1pKmMvTStlKSksTWF0aC5taW4obixNYXRoLmZsb29yKGErKE0taSkqYy9NK2UpKSxoKX12YXIgbD10W2FdLHY9Zix4PW47Zm9yKHIodCxmLGEpLGgodFtuXSxsKT4wJiZyKHQsZixuKTt2PHg7KXtmb3Iocih0LHYseCksdisrLHgtLTtoKHRbdl0sbCk8MDspdisrO2Zvcig7aCh0W3hdLGwpPjA7KXgtLX0wPT09aCh0W2ZdLGwpP3IodCxmLHgpOnIodCwrK3gsbikseDw9YSYmKGY9eCsxKSxhPD14JiYobj14LTEpfX1mdW5jdGlvbiByKHQsbyxyKXt2YXIgYT10W29dO3Rbb109dFtyXSx0W3JdPWF9ZnVuY3Rpb24gYSh0LG8pe3JldHVybiB0PG8/LTE6dD5vPzE6MH1leHBvcnR7dCBhcyBxfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjMzL2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7aW5kZXhPZiBhcyB0LFBvc2l0aW9uSGludCBhcyBpfWZyb21cIi4uLy4uL2FycmF5VXRpbHMuanNcIjtpbXBvcnR7dG9Db25zdCBhcyBufWZyb21cIi4uLy4uL2NvbXBpbGVyVXRpbHMuanNcIjtpbXBvcnRcIi4uLy4uL2hhcy5qc1wiO2ltcG9ydCBlIGZyb21cIi4uLy4uL1Bvb2xlZEFycmF5LmpzXCI7aW1wb3J0e3EgYXMgaH1mcm9tXCIuLi8uLi8uLi9jaHVua3MvcXVpY2tzZWxlY3QuanNcIjtjbGFzcyBze2NvbnN0cnVjdG9yKHQ9OSxpKXt0aGlzLl9jb21wYXJlTWluWD11LHRoaXMuX2NvbXBhcmVNaW5ZPWQsdGhpcy5fdG9CQm94PXQ9PnQsdGhpcy5fbWF4RW50cmllcz1NYXRoLm1heCg0LHR8fDkpLHRoaXMuX21pbkVudHJpZXM9TWF0aC5tYXgoMixNYXRoLmNlaWwoLjQqdGhpcy5fbWF4RW50cmllcykpLGkmJihcImZ1bmN0aW9uXCI9PXR5cGVvZiBpP3RoaXMuX3RvQkJveD1pOnRoaXMuX2luaXRGb3JtYXQoaSkpLHRoaXMuY2xlYXIoKX1kZXN0cm95KCl7dGhpcy5jbGVhcigpLFkucHJ1bmUoKSxCLnBydW5lKCksdy5wcnVuZSgpLGoucHJ1bmUoKX1hbGwodCl7cih0aGlzLl9kYXRhLHQpfXNlYXJjaCh0LGkpe2xldCBuPXRoaXMuX2RhdGE7Y29uc3QgZT10aGlzLl90b0JCb3g7aWYoTSh0LG4pKWZvcihZLmNsZWFyKCk7bjspe2ZvcihsZXQgaD0wLHM9bi5jaGlsZHJlbi5sZW5ndGg7aDxzO2grKyl7Y29uc3Qgcz1uLmNoaWxkcmVuW2hdLGE9bi5sZWFmP2Uocyk6cztNKHQsYSkmJihuLmxlYWY/aShzKTpnKHQsYSk/cihzLGkpOlkucHVzaChzKSl9bj1ZLnBvcCgpfX1jb2xsaWRlcyh0KXtsZXQgaT10aGlzLl9kYXRhO2NvbnN0IG49dGhpcy5fdG9CQm94O2lmKCFNKHQsaSkpcmV0dXJuITE7Zm9yKFkuY2xlYXIoKTtpOyl7Zm9yKGxldCBlPTAsaD1pLmNoaWxkcmVuLmxlbmd0aDtlPGg7ZSsrKXtjb25zdCBoPWkuY2hpbGRyZW5bZV0scz1pLmxlYWY/bihoKTpoO2lmKE0odCxzKSl7aWYoaS5sZWFmfHxnKHQscykpcmV0dXJuITA7WS5wdXNoKGgpfX1pPVkucG9wKCl9cmV0dXJuITF9bG9hZCh0KXtpZighdC5sZW5ndGgpcmV0dXJuIHRoaXM7aWYodC5sZW5ndGg8dGhpcy5fbWluRW50cmllcyl7Zm9yKGxldCBpPTAsbj10Lmxlbmd0aDtpPG47aSsrKXRoaXMuaW5zZXJ0KHRbaV0pO3JldHVybiB0aGlzfWxldCBpPXRoaXMuX2J1aWxkKHQuc2xpY2UoKSwwLHQubGVuZ3RoLTEsMCk7aWYodGhpcy5fZGF0YS5jaGlsZHJlbi5sZW5ndGgpaWYodGhpcy5fZGF0YS5oZWlnaHQ9PT1pLmhlaWdodCl0aGlzLl9zcGxpdFJvb3QodGhpcy5fZGF0YSxpKTtlbHNle2lmKHRoaXMuX2RhdGEuaGVpZ2h0PGkuaGVpZ2h0KXtjb25zdCB0PXRoaXMuX2RhdGE7dGhpcy5fZGF0YT1pLGk9dH10aGlzLl9pbnNlcnQoaSx0aGlzLl9kYXRhLmhlaWdodC1pLmhlaWdodC0xLCEwKX1lbHNlIHRoaXMuX2RhdGE9aTtyZXR1cm4gdGhpc31pbnNlcnQodCl7cmV0dXJuIHQmJnRoaXMuX2luc2VydCh0LHRoaXMuX2RhdGEuaGVpZ2h0LTEpLHRoaXN9Y2xlYXIoKXtyZXR1cm4gdGhpcy5fZGF0YT1uZXcgUyhbXSksdGhpc31yZW1vdmUoaSl7aWYoIWkpcmV0dXJuIHRoaXM7bGV0IGUsaD10aGlzLl9kYXRhLHM9bnVsbCxhPTAscj0hMTtjb25zdCBvPXRoaXMuX3RvQkJveChpKTtmb3Iody5jbGVhcigpLGouY2xlYXIoKTtofHx3Lmxlbmd0aD4wOyl7aWYoaHx8KGg9dy5wb3AoKSxzPXcuZGF0YVt3Lmxlbmd0aC0xXSxhPWoucG9wKCk/PzAscj0hMCksaC5sZWFmJiYoZT10KGguY2hpbGRyZW4sbihpKSxoLmNoaWxkcmVuLmxlbmd0aCxoLmluZGV4SGludCksLTEhPT1lKSlyZXR1cm4gaC5jaGlsZHJlbi5zcGxpY2UoZSwxKSx3LnB1c2goaCksdGhpcy5fY29uZGVuc2UodyksdGhpcztyfHxoLmxlYWZ8fCFnKGgsbyk/cz8oYSsrLGg9cy5jaGlsZHJlblthXSxyPSExKTpoPW51bGw6KHcucHVzaChoKSxqLnB1c2goYSksYT0wLHM9aCxoPWguY2hpbGRyZW5bMF0pfXJldHVybiB0aGlzfXRvSlNPTigpe3JldHVybiB0aGlzLl9kYXRhfWZyb21KU09OKHQpe3JldHVybiB0aGlzLl9kYXRhPXQsdGhpc31fYnVpbGQodCxpLG4sZSl7Y29uc3QgaD1uLWkrMTtsZXQgcz10aGlzLl9tYXhFbnRyaWVzO2lmKGg8PXMpe2NvbnN0IGU9bmV3IFModC5zbGljZShpLG4rMSkpO3JldHVybiBsKGUsdGhpcy5fdG9CQm94KSxlfWV8fChlPU1hdGguY2VpbChNYXRoLmxvZyhoKS9NYXRoLmxvZyhzKSkscz1NYXRoLmNlaWwoaC9zKiooZS0xKSkpO2NvbnN0IGE9bmV3IHkoW10pO2EuaGVpZ2h0PWU7Y29uc3Qgcj1NYXRoLmNlaWwoaC9zKSxvPXIqTWF0aC5jZWlsKE1hdGguc3FydChzKSk7WCh0LGksbixvLHRoaXMuX2NvbXBhcmVNaW5YKTtmb3IobGV0IGw9aTtsPD1uO2wrPW8pe2NvbnN0IGk9TWF0aC5taW4obCtvLTEsbik7WCh0LGwsaSxyLHRoaXMuX2NvbXBhcmVNaW5ZKTtmb3IobGV0IG49bDtuPD1pO24rPXIpe2NvbnN0IGg9TWF0aC5taW4obityLTEsaSk7YS5jaGlsZHJlbi5wdXNoKHRoaXMuX2J1aWxkKHQsbixoLGUtMSkpfX1yZXR1cm4gbChhLHRoaXMuX3RvQkJveCksYX1faW5zZXJ0KHQsaSxuKXtjb25zdCBlPXRoaXMuX3RvQkJveCxoPW4/dDplKHQpO3cuY2xlYXIoKTtjb25zdCBzPWEoaCx0aGlzLl9kYXRhLGksdyk7Zm9yKHMuY2hpbGRyZW4ucHVzaCh0KSxtKHMsaCk7aT49MCYmdy5kYXRhW2ldLmNoaWxkcmVuLmxlbmd0aD50aGlzLl9tYXhFbnRyaWVzOyl0aGlzLl9zcGxpdCh3LGkpLGktLTtvKGgsdyxpKX1fc3BsaXQodCxpKXtjb25zdCBuPXQuZGF0YVtpXSxlPW4uY2hpbGRyZW4ubGVuZ3RoLGg9dGhpcy5fbWluRW50cmllczt0aGlzLl9jaG9vc2VTcGxpdEF4aXMobixoLGUpO2NvbnN0IHM9dGhpcy5fY2hvb3NlU3BsaXRJbmRleChuLGgsZSk7aWYoIXMpcmV0dXJuO2NvbnN0IGE9bi5jaGlsZHJlbi5zcGxpY2UocyxuLmNoaWxkcmVuLmxlbmd0aC1zKSxyPW4ubGVhZj9uZXcgUyhhKTpuZXcgeShhKTtyLmhlaWdodD1uLmhlaWdodCxsKG4sdGhpcy5fdG9CQm94KSxsKHIsdGhpcy5fdG9CQm94KSxpP3QuZGF0YVtpLTFdLmNoaWxkcmVuLnB1c2gocik6dGhpcy5fc3BsaXRSb290KG4scil9X3NwbGl0Um9vdCh0LGkpe3RoaXMuX2RhdGE9bmV3IHkoW3QsaV0pLHRoaXMuX2RhdGEuaGVpZ2h0PXQuaGVpZ2h0KzEsbCh0aGlzLl9kYXRhLHRoaXMuX3RvQkJveCl9X2Nob29zZVNwbGl0SW5kZXgodCxpLG4pe2xldCBlLGgscztlPWg9MS8wO2ZvcihsZXQgYT1pO2E8PW4taTthKyspe2NvbnN0IGk9Yyh0LDAsYSx0aGlzLl90b0JCb3gpLHI9Yyh0LGEsbix0aGlzLl90b0JCb3gpLG89cChpLHIpLGw9ZihpKStmKHIpO288ZT8oZT1vLHM9YSxoPWw8aD9sOmgpOm89PT1lJiZsPGgmJihoPWwscz1hKX1yZXR1cm4gc31fY2hvb3NlU3BsaXRBeGlzKHQsaSxuKXtjb25zdCBlPXQubGVhZj90aGlzLl9jb21wYXJlTWluWDp1LGg9dC5sZWFmP3RoaXMuX2NvbXBhcmVNaW5ZOmQ7dGhpcy5fYWxsRGlzdE1hcmdpbih0LGksbixlKTx0aGlzLl9hbGxEaXN0TWFyZ2luKHQsaSxuLGgpJiZ0LmNoaWxkcmVuLnNvcnQoZSl9X2FsbERpc3RNYXJnaW4odCxpLG4sZSl7dC5jaGlsZHJlbi5zb3J0KGUpO2NvbnN0IGg9dGhpcy5fdG9CQm94LHM9Yyh0LDAsaSxoKSxhPWModCxuLWksbixoKTtsZXQgcj14KHMpK3goYSk7Zm9yKGxldCBvPWk7bzxuLWk7bysrKXtjb25zdCBpPXQuY2hpbGRyZW5bb107bShzLHQubGVhZj9oKGkpOmkpLHIrPXgocyl9Zm9yKGxldCBvPW4taS0xO28+PWk7by0tKXtjb25zdCBpPXQuY2hpbGRyZW5bb107bShhLHQubGVhZj9oKGkpOmkpLHIrPXgoYSl9cmV0dXJuIHJ9X2NvbmRlbnNlKGkpe2ZvcihsZXQgbj1pLmxlbmd0aC0xO24+PTA7bi0tKXtjb25zdCBlPWkuZGF0YVtuXTtpZigwPT09ZS5jaGlsZHJlbi5sZW5ndGgpaWYobj4wKXtjb25zdCBoPWkuZGF0YVtuLTFdLHM9aC5jaGlsZHJlbjtzLnNwbGljZSh0KHMsZSxzLmxlbmd0aCxoLmluZGV4SGludCksMSl9ZWxzZSB0aGlzLmNsZWFyKCk7ZWxzZSBsKGUsdGhpcy5fdG9CQm94KX19X2luaXRGb3JtYXQodCl7Y29uc3QgaT1bXCJyZXR1cm4gYVwiLFwiIC0gYlwiLFwiO1wiXTt0aGlzLl9jb21wYXJlTWluWD1uZXcgRnVuY3Rpb24oXCJhXCIsXCJiXCIsaS5qb2luKHRbMF0pKSx0aGlzLl9jb21wYXJlTWluWT1uZXcgRnVuY3Rpb24oXCJhXCIsXCJiXCIsaS5qb2luKHRbMV0pKSx0aGlzLl90b0JCb3g9bmV3IEZ1bmN0aW9uKFwiYVwiLFwicmV0dXJuIHttaW5YOiBhXCIrdFswXStcIiwgbWluWTogYVwiK3RbMV0rXCIsIG1heFg6IGFcIit0WzJdK1wiLCBtYXhZOiBhXCIrdFszXStcIn07XCIpfX1mdW5jdGlvbiBhKHQsaSxuLGUpe2Zvcig7ZS5wdXNoKGkpLCEwIT09aS5sZWFmJiZlLmxlbmd0aC0xIT09bjspe2xldCBuLGU9MS8wLGg9MS8wO2ZvcihsZXQgcz0wLGE9aS5jaGlsZHJlbi5sZW5ndGg7czxhO3MrKyl7Y29uc3QgYT1pLmNoaWxkcmVuW3NdLHI9ZihhKSxvPV8odCxhKS1yO288aD8oaD1vLGU9cjxlP3I6ZSxuPWEpOm89PT1oJiZyPGUmJihlPXIsbj1hKX1pPW58fGkuY2hpbGRyZW5bMF19cmV0dXJuIGl9ZnVuY3Rpb24gcih0LGkpe2xldCBlPXQ7Zm9yKEIuY2xlYXIoKTtlOyl7aWYoITA9PT1lLmxlYWYpZm9yKGNvbnN0IHQgb2YgZS5jaGlsZHJlbilpKG4odCkpO2Vsc2UgQi5wdXNoQXJyYXkoZS5jaGlsZHJlbik7ZT1CLnBvcCgpPz9udWxsfX1mdW5jdGlvbiBvKHQsaSxuKXtmb3IobGV0IGU9bjtlPj0wO2UtLSltKGkuZGF0YVtlXSx0KX1mdW5jdGlvbiBsKHQsaSl7Yyh0LDAsdC5jaGlsZHJlbi5sZW5ndGgsaSx0KX1mdW5jdGlvbiBjKHQsaSxuLGUsaCl7aHx8KGg9bmV3IFMoW10pKSxoLm1pblg9MS8wLGgubWluWT0xLzAsaC5tYXhYPS0xLzAsaC5tYXhZPS0xLzA7Zm9yKGxldCBzLGE9aTthPG47YSsrKXM9dC5jaGlsZHJlblthXSxtKGgsdC5sZWFmP2Uocyk6cyk7cmV0dXJuIGh9ZnVuY3Rpb24gbSh0LGkpe3QubWluWD1NYXRoLm1pbih0Lm1pblgsaS5taW5YKSx0Lm1pblk9TWF0aC5taW4odC5taW5ZLGkubWluWSksdC5tYXhYPU1hdGgubWF4KHQubWF4WCxpLm1heFgpLHQubWF4WT1NYXRoLm1heCh0Lm1heFksaS5tYXhZKX1mdW5jdGlvbiB1KHQsaSl7cmV0dXJuIHQubWluWC1pLm1pblh9ZnVuY3Rpb24gZCh0LGkpe3JldHVybiB0Lm1pblktaS5taW5ZfWZ1bmN0aW9uIGYodCl7cmV0dXJuKHQubWF4WC10Lm1pblgpKih0Lm1heFktdC5taW5ZKX1mdW5jdGlvbiB4KHQpe3JldHVybiB0Lm1heFgtdC5taW5YKyh0Lm1heFktdC5taW5ZKX1mdW5jdGlvbiBfKHQsaSl7cmV0dXJuKE1hdGgubWF4KGkubWF4WCx0Lm1heFgpLU1hdGgubWluKGkubWluWCx0Lm1pblgpKSooTWF0aC5tYXgoaS5tYXhZLHQubWF4WSktTWF0aC5taW4oaS5taW5ZLHQubWluWSkpfWZ1bmN0aW9uIHAodCxpKXtjb25zdCBuPU1hdGgubWF4KHQubWluWCxpLm1pblgpLGU9TWF0aC5tYXgodC5taW5ZLGkubWluWSksaD1NYXRoLm1pbih0Lm1heFgsaS5tYXhYKSxzPU1hdGgubWluKHQubWF4WSxpLm1heFkpO3JldHVybiBNYXRoLm1heCgwLGgtbikqTWF0aC5tYXgoMCxzLWUpfWZ1bmN0aW9uIGcodCxpKXtyZXR1cm4gdC5taW5YPD1pLm1pblgmJnQubWluWTw9aS5taW5ZJiZpLm1heFg8PXQubWF4WCYmaS5tYXhZPD10Lm1heFl9ZnVuY3Rpb24gTSh0LGkpe3JldHVybiBpLm1pblg8PXQubWF4WCYmaS5taW5ZPD10Lm1heFkmJmkubWF4WD49dC5taW5YJiZpLm1heFk+PXQubWluWX1mdW5jdGlvbiBYKHQsaSxuLGUscyl7Y29uc3QgYT1baSxuXTtmb3IoO2EubGVuZ3RoOyl7Y29uc3QgaT1hLnBvcCgpLG49YS5wb3AoKTtpZihpLW48PWUpY29udGludWU7Y29uc3Qgcj1uK01hdGguY2VpbCgoaS1uKS9lLzIpKmU7aCh0LHIsbixpLHMpLGEucHVzaChuLHIscixpKX19Y29uc3QgWT1uZXcgZSxCPW5ldyBlLHc9bmV3IGUsaj1uZXcgZSh7ZGVhbGxvY2F0b3I6dm9pZCAwfSk7Y2xhc3MgRXtjb25zdHJ1Y3Rvcigpe3RoaXMubWluWD0xLzAsdGhpcy5taW5ZPTEvMCx0aGlzLm1heFg9LTEvMCx0aGlzLm1heFk9LTEvMH19Y2xhc3MgYiBleHRlbmRzIEV7Y29uc3RydWN0b3IoKXtzdXBlciguLi5hcmd1bWVudHMpLHRoaXMuaGVpZ2h0PTEsdGhpcy5pbmRleEhpbnQ9bmV3IGl9fWNsYXNzIFMgZXh0ZW5kcyBie2NvbnN0cnVjdG9yKHQpe3N1cGVyKCksdGhpcy5jaGlsZHJlbj10LHRoaXMubGVhZj0hMH19Y2xhc3MgeSBleHRlbmRzIGJ7Y29uc3RydWN0b3IodCl7c3VwZXIoKSx0aGlzLmNoaWxkcmVuPXQsdGhpcy5sZWFmPSExfX1leHBvcnR7RSBhcyBCQm94LHMgYXMgUG9vbGVkUkJ1c2h9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMzMvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydCBoYXMgZnJvbVwiLi4vLi4vLi4vY29yZS9oYXMuanNcIjtpbXBvcnR7UG9vbGVkUkJ1c2ggYXMgaX1mcm9tXCIuLi8uLi8uLi9jb3JlL2xpYnMvcmJ1c2gvUG9vbGVkUkJ1c2guanNcIjtpbXBvcnR7ZW1wdHkgYXMgc31mcm9tXCIuLi8uLi8uLi9nZW9tZXRyeS9zdXBwb3J0L2FhQm91bmRpbmdSZWN0LmpzXCI7Y29uc3QgZD01ZTQsbj17bWluWDowLG1pblk6MCxtYXhYOjAsbWF4WTowfTtmdW5jdGlvbiB0KGkpe24ubWluWD1pWzBdLG4ubWluWT1pWzFdLG4ubWF4WD1pWzJdLG4ubWF4WT1pWzNdfWZ1bmN0aW9uIGUoaSxzLGQpe3QocyksaS5zZWFyY2gobixkKX1jbGFzcyBve2NvbnN0cnVjdG9yKCl7dGhpcy5faW5kZXhJbnZhbGlkPSExLHRoaXMuX2JvdW5kc1RvTG9hZD1bXSx0aGlzLl9ib3VuZHNCeUlkPW5ldyBNYXAsdGhpcy5faWRCeUJvdW5kcz1uZXcgTWFwLHRoaXMuX2luZGV4PW5ldyBpKDksaGFzKFwiZXNyaS1jc3AtcmVzdHJpY3Rpb25zXCIpP2k9Pih7bWluWDppWzBdLG1pblk6aVsxXSxtYXhYOmlbMl0sbWF4WTppWzNdfSk6W1wiWzBdXCIsXCJbMV1cIixcIlsyXVwiLFwiWzNdXCJdKSx0aGlzLl9sb2FkSW5kZXg9KCk9PntpZih0aGlzLl9pbmRleEludmFsaWQpe2NvbnN0IGk9bmV3IEFycmF5KHRoaXMuX2lkQnlCb3VuZHMuc2l6ZSk7bGV0IHM9MDt0aGlzLl9pZEJ5Qm91bmRzLmZvckVhY2goKChkLG4pPT57aVtzKytdPW59KSksdGhpcy5faW5kZXhJbnZhbGlkPSExLHRoaXMuX2luZGV4LmNsZWFyKCksdGhpcy5faW5kZXgubG9hZChpKX1lbHNlIHRoaXMuX2JvdW5kc1RvTG9hZC5sZW5ndGgmJih0aGlzLl9pbmRleC5sb2FkKEFycmF5LmZyb20obmV3IFNldCh0aGlzLl9ib3VuZHNUb0xvYWQuZmlsdGVyKChpPT50aGlzLl9pZEJ5Qm91bmRzLmhhcyhpKSkpKSkpLHRoaXMuX2JvdW5kc1RvTG9hZC5sZW5ndGg9MCl9fWdldCBmdWxsQm91bmRzKCl7aWYoIXRoaXMuX2JvdW5kc0J5SWQuc2l6ZSlyZXR1cm4gbnVsbDtjb25zdCBpPXMoKTtmb3IoY29uc3QgcyBvZiB0aGlzLl9ib3VuZHNCeUlkLnZhbHVlcygpKXMmJihpWzBdPU1hdGgubWluKHNbMF0saVswXSksaVsxXT1NYXRoLm1pbihzWzFdLGlbMV0pLGlbMl09TWF0aC5tYXgoc1syXSxpWzJdKSxpWzNdPU1hdGgubWF4KHNbM10saVszXSkpO3JldHVybiBpfWdldCB2YWxpZCgpe3JldHVybiF0aGlzLl9pbmRleEludmFsaWR9Y2xlYXIoKXt0aGlzLl9pbmRleEludmFsaWQ9ITEsdGhpcy5fYm91bmRzVG9Mb2FkLmxlbmd0aD0wLHRoaXMuX2JvdW5kc0J5SWQuY2xlYXIoKSx0aGlzLl9pZEJ5Qm91bmRzLmNsZWFyKCksdGhpcy5faW5kZXguY2xlYXIoKX1kZWxldGUoaSl7Y29uc3Qgcz10aGlzLl9ib3VuZHNCeUlkLmdldChpKTt0aGlzLl9ib3VuZHNCeUlkLmRlbGV0ZShpKSxzJiYodGhpcy5faWRCeUJvdW5kcy5kZWxldGUocyksdGhpcy5faW5kZXhJbnZhbGlkfHx0aGlzLl9pbmRleC5yZW1vdmUocykpfWZvckVhY2hJbkJvdW5kcyhpLHMpe3RoaXMuX2xvYWRJbmRleCgpLGUodGhpcy5faW5kZXgsaSwoaT0+cyh0aGlzLl9pZEJ5Qm91bmRzLmdldChpKSkpKX1nZXQoaSl7cmV0dXJuIHRoaXMuX2JvdW5kc0J5SWQuZ2V0KGkpfWhhcyhpKXtyZXR1cm4gdGhpcy5fYm91bmRzQnlJZC5oYXMoaSl9aW52YWxpZGF0ZUluZGV4KCl7dGhpcy5faW5kZXhJbnZhbGlkfHwodGhpcy5faW5kZXhJbnZhbGlkPSEwLHRoaXMuX2JvdW5kc1RvTG9hZC5sZW5ndGg9MCl9c2V0KGkscyl7aWYoIXRoaXMuX2luZGV4SW52YWxpZCl7Y29uc3Qgcz10aGlzLl9ib3VuZHNCeUlkLmdldChpKTtzJiYodGhpcy5faW5kZXgucmVtb3ZlKHMpLHRoaXMuX2lkQnlCb3VuZHMuZGVsZXRlKHMpKX10aGlzLl9ib3VuZHNCeUlkLnNldChpLHMpLHMmJih0aGlzLl9pZEJ5Qm91bmRzLnNldChzLGkpLHRoaXMuX2luZGV4SW52YWxpZHx8KHRoaXMuX2JvdW5kc1RvTG9hZC5wdXNoKHMpLHRoaXMuX2JvdW5kc1RvTG9hZC5sZW5ndGg+ZCYmdGhpcy5fbG9hZEluZGV4KCkpKX19ZXhwb3J0e28gYXMgQm91bmRzU3RvcmV9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMzMvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtpc1NvbWUgYXMgZX1mcm9tXCIuLi8uLi8uLi9jb3JlL2FycmF5VXRpbHMuanNcIjtpbXBvcnQgdCBmcm9tXCIuLi8uLi8uLi9jb3JlL0Vycm9yLmpzXCI7aW1wb3J0IHIgZnJvbVwiLi4vLi4vLi4vY29yZS9FdmVudGVkLmpzXCI7aW1wb3J0IHMgZnJvbVwiLi4vLi4vLi4vY29yZS9Mb2dnZXIuanNcIjtpbXBvcnR7ZnJvbVJlY3QgYXMgbyxjcmVhdGUgYXMgaX1mcm9tXCIuLi8uLi8uLi9nZW9tZXRyeS9zdXBwb3J0L2FhQm91bmRpbmdCb3guanNcIjtpbXBvcnR7Y3JlYXRlIGFzIG59ZnJvbVwiLi4vLi4vLi4vZ2VvbWV0cnkvc3VwcG9ydC9hYUJvdW5kaW5nUmVjdC5qc1wiO2ltcG9ydHtnZXRCb3VuZHNPcHRpbWl6ZWRHZW9tZXRyeSBhcyB1fWZyb21cIi4uL2ZlYXR1cmVDb252ZXJzaW9uVXRpbHMuanNcIjtpbXBvcnR7Qm91bmRzU3RvcmUgYXMgYX1mcm9tXCIuL0JvdW5kc1N0b3JlLmpzXCI7aW1wb3J0e2NsZWFuRnJvbUdlb21ldHJ5RW5naW5lIGFzIGR9ZnJvbVwiLi9nZW9tZXRyeVV0aWxzLmpzXCI7aW1wb3J0e29wdGltaXplZEZlYXR1cmVRdWVyeUVuZ2luZUFkYXB0ZXIgYXMgaH1mcm9tXCIuL29wdGltaXplZEZlYXR1cmVRdWVyeUVuZ2luZUFkYXB0ZXIuanNcIjtjb25zdCBtPWkoKTtjbGFzcyBme2NvbnN0cnVjdG9yKGUpe3RoaXMuZ2VvbWV0cnlJbmZvPWUsdGhpcy5fYm91bmRzU3RvcmU9bmV3IGEsdGhpcy5fZmVhdHVyZXNCeUlkPW5ldyBNYXAsdGhpcy5fdXNlZE1lbW9yeT0wLHRoaXMuZXZlbnRzPW5ldyByLHRoaXMuZmVhdHVyZUFkYXB0ZXI9aH1nZXQgdXNlZE1lbW9yeSgpe3JldHVybiB0aGlzLl91c2VkTWVtb3J5fWdldCBnZW9tZXRyeVR5cGUoKXtyZXR1cm4gdGhpcy5nZW9tZXRyeUluZm8uZ2VvbWV0cnlUeXBlfWdldCBoYXNNKCl7cmV0dXJuIHRoaXMuZ2VvbWV0cnlJbmZvLmhhc019Z2V0IGhhc1ooKXtyZXR1cm4gdGhpcy5nZW9tZXRyeUluZm8uaGFzWn1nZXQgbnVtRmVhdHVyZXMoKXtyZXR1cm4gdGhpcy5fZmVhdHVyZXNCeUlkLnNpemV9Z2V0IGZ1bGxCb3VuZHMoKXtyZXR1cm4gdGhpcy5fYm91bmRzU3RvcmUuZnVsbEJvdW5kc31nZXQgc3RvcmVTdGF0aXN0aWNzKCl7bGV0IGU9MDtyZXR1cm4gdGhpcy5fZmVhdHVyZXNCeUlkLmZvckVhY2goKHQ9PntudWxsIT10Lmdlb21ldHJ5JiZ0Lmdlb21ldHJ5LmNvb3JkcyYmKGUrPXQuZ2VvbWV0cnkuY29vcmRzLmxlbmd0aCl9KSkse2ZlYXR1cmVDb3VudDp0aGlzLl9mZWF0dXJlc0J5SWQuc2l6ZSx2ZXJ0ZXhDb3VudDplLyh0aGlzLmhhc1o/dGhpcy5oYXNNPzQ6Mzp0aGlzLmhhc00/MzoyKX19Z2V0RnVsbEV4dGVudChlKXtpZihudWxsPT10aGlzLmZ1bGxCb3VuZHMpcmV0dXJuIG51bGw7Y29uc3RbdCxyLHMsb109dGhpcy5mdWxsQm91bmRzO3JldHVybnt4bWluOnQseW1pbjpyLHhtYXg6cyx5bWF4Om8sc3BhdGlhbFJlZmVyZW5jZTpkKGUpfX1hZGQoZSl7dGhpcy5fYWRkKGUpLHRoaXMuX2VtaXRDaGFuZ2VkKCl9YWRkTWFueShlKXtmb3IoY29uc3QgdCBvZiBlKXRoaXMuX2FkZCh0KTt0aGlzLl9lbWl0Q2hhbmdlZCgpfXVwc2VydE1hbnkodCl7Y29uc3Qgcj10Lm1hcCgoZT0+dGhpcy5fdXBzZXJ0KGUpKSk7cmV0dXJuIHRoaXMuX2VtaXRDaGFuZ2VkKCksci5maWx0ZXIoZSl9Y2xlYXIoKXt0aGlzLl9mZWF0dXJlc0J5SWQuY2xlYXIoKSx0aGlzLl9ib3VuZHNTdG9yZS5jbGVhcigpLHRoaXMuX2VtaXRDaGFuZ2VkKCksdGhpcy5fdXNlZE1lbW9yeT0wfXJlbW92ZUJ5SWQoZSl7Y29uc3QgdD10aGlzLl9mZWF0dXJlc0J5SWQuZ2V0KGUpO3JldHVybiB0Pyh0aGlzLl9yZW1vdmUodCksdGhpcy5fZW1pdENoYW5nZWQoKSx0KTpudWxsfXJlbW92ZU1hbnlCeUlkKGUpe3RoaXMuX2JvdW5kc1N0b3JlLmludmFsaWRhdGVJbmRleCgpO2Zvcihjb25zdCB0IG9mIGUpe2NvbnN0IGU9dGhpcy5fZmVhdHVyZXNCeUlkLmdldCh0KTtlJiZ0aGlzLl9yZW1vdmUoZSl9dGhpcy5fZW1pdENoYW5nZWQoKX1mb3JFYWNoQm91bmRzKGUsdCl7Zm9yKGNvbnN0IHIgb2YgZSl7Y29uc3QgZT10aGlzLl9ib3VuZHNTdG9yZS5nZXQoci5vYmplY3RJZCk7ZSYmdChvKG0sZSkpfX1nZXRGZWF0dXJlKGUpe3JldHVybiB0aGlzLl9mZWF0dXJlc0J5SWQuZ2V0KGUpfWhhcyhlKXtyZXR1cm4gdGhpcy5fZmVhdHVyZXNCeUlkLmhhcyhlKX1mb3JFYWNoKGUpe3RoaXMuX2ZlYXR1cmVzQnlJZC5mb3JFYWNoKCh0PT5lKHQpKSl9Zm9yRWFjaEluQm91bmRzKGUsdCl7dGhpcy5fYm91bmRzU3RvcmUuZm9yRWFjaEluQm91bmRzKGUsKGU9Pnt0KHRoaXMuX2ZlYXR1cmVzQnlJZC5nZXQoZSkpfSkpfV9lbWl0Q2hhbmdlZCgpe3RoaXMuZXZlbnRzLmVtaXQoXCJjaGFuZ2VkXCIsdm9pZCAwKX1fYWRkKGUpe2lmKCFlKXJldHVybjtjb25zdCByPWUub2JqZWN0SWQ7aWYobnVsbD09cilyZXR1cm4gdm9pZCBzLmdldExvZ2dlcihcImVzcmkubGF5ZXJzLmdyYXBoaWNzLmRhdGEuRmVhdHVyZVN0b3JlXCIpLmVycm9yKG5ldyB0KFwiZmVhdHVyZXN0b3JlOmludmFsaWQtZmVhdHVyZVwiLFwiZmVhdHVyZSBpZCBpcyBtaXNzaW5nXCIse2ZlYXR1cmU6ZX0pKTtjb25zdCBvPXRoaXMuX2ZlYXR1cmVzQnlJZC5nZXQocik7bGV0IGk7aWYobz8oZS5kaXNwbGF5SWQ9by5kaXNwbGF5SWQsaT10aGlzLl9ib3VuZHNTdG9yZS5nZXQociksdGhpcy5fYm91bmRzU3RvcmUuZGVsZXRlKHIpLHRoaXMuX3VzZWRNZW1vcnktPXRoaXMuZXN0aW1hdGVGZWF0dXJlVXNlZE1lbW9yeT8uKG8pPz8wKTpudWxsIT10aGlzLm9uRmVhdHVyZUFkZCYmdGhpcy5vbkZlYXR1cmVBZGQoZSksIWUuZ2VvbWV0cnk/LmNvb3Jkcz8ubGVuZ3RoKXJldHVybiB0aGlzLl9ib3VuZHNTdG9yZS5zZXQocixudWxsKSx2b2lkIHRoaXMuX2ZlYXR1cmVzQnlJZC5zZXQocixlKTtpPXUobnVsbCE9aT9pOm4oKSxlLmdlb21ldHJ5LHRoaXMuZ2VvbWV0cnlJbmZvLmhhc1osdGhpcy5nZW9tZXRyeUluZm8uaGFzTSksbnVsbCE9aSYmdGhpcy5fYm91bmRzU3RvcmUuc2V0KHIsaSksdGhpcy5fZmVhdHVyZXNCeUlkLnNldChyLGUpLHRoaXMuX3VzZWRNZW1vcnkrPXRoaXMuZXN0aW1hdGVGZWF0dXJlVXNlZE1lbW9yeT8uKGUpPz8wfV91cHNlcnQoZSl7Y29uc3Qgcj1lPy5vYmplY3RJZDtpZihudWxsPT1yKXJldHVybiBzLmdldExvZ2dlcihcImVzcmkubGF5ZXJzLmdyYXBoaWNzLmRhdGEuRmVhdHVyZVN0b3JlXCIpLmVycm9yKG5ldyB0KFwiZmVhdHVyZXN0b3JlOmludmFsaWQtZmVhdHVyZVwiLFwiZmVhdHVyZSBpZCBpcyBtaXNzaW5nXCIse2ZlYXR1cmU6ZX0pKSxudWxsO2NvbnN0IG89dGhpcy5fZmVhdHVyZXNCeUlkLmdldChyKTtpZighbylyZXR1cm4gdGhpcy5fYWRkKGUpLGU7dGhpcy5fdXNlZE1lbW9yeS09dGhpcy5lc3RpbWF0ZUZlYXR1cmVVc2VkTWVtb3J5Py4obyk/PzA7Y29uc3R7Z2VvbWV0cnk6aSxhdHRyaWJ1dGVzOmF9PWU7Zm9yKGNvbnN0IHQgaW4gYSlvLmF0dHJpYnV0ZXNbdF09YVt0XTtyZXR1cm4gaSYmKG8uZ2VvbWV0cnk9aSx0aGlzLl9ib3VuZHNTdG9yZS5zZXQocix1KG4oKSxpLHRoaXMuZ2VvbWV0cnlJbmZvLmhhc1osdGhpcy5nZW9tZXRyeUluZm8uaGFzTSk/P251bGwpKSx0aGlzLl91c2VkTWVtb3J5Kz10aGlzLmVzdGltYXRlRmVhdHVyZVVzZWRNZW1vcnk/LihvKT8/MCxvfV9yZW1vdmUoZSl7bnVsbCE9dGhpcy5vbkZlYXR1cmVSZW1vdmUmJnRoaXMub25GZWF0dXJlUmVtb3ZlKGUpO2NvbnN0IHQ9ZS5vYmplY3RJZDtyZXR1cm4gdGhpcy5fYm91bmRzU3RvcmUuZGVsZXRlKHQpLHRoaXMuX2ZlYXR1cmVzQnlJZC5kZWxldGUodCksdGhpcy5fdXNlZE1lbW9yeS09dGhpcy5lc3RpbWF0ZUZlYXR1cmVVc2VkTWVtb3J5Py4oZSk/PzAsZX19ZXhwb3J0e2YgYXMgZGVmYXVsdH07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4zMy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e2Nsb25lIGFzIGV9ZnJvbVwiLi4vLi4vLi4vY29yZS9sYW5nLmpzXCI7aW1wb3J0e3NpZ25hbEZyb21TaWduYWxPck9wdGlvbnMgYXMgdH1mcm9tXCIuLi8uLi8uLi9jb3JlL3Byb21pc2VVdGlscy5qc1wiO2ltcG9ydHtmcm9tSlNPTiBhcyByfWZyb21cIi4uLy4uLy4uL2dlb21ldHJ5L3N1cHBvcnQvanNvblV0aWxzLmpzXCI7aW1wb3J0e25vcm1hbGl6ZUNlbnRyYWxNZXJpZGlhbiBhcyBhfWZyb21cIi4uLy4uLy4uL2dlb21ldHJ5L3N1cHBvcnQvbm9ybWFsaXplVXRpbHMuanNcIjtpbXBvcnR7ZXF1YWxzIGFzIGl9ZnJvbVwiLi4vLi4vLi4vZ2VvbWV0cnkvc3VwcG9ydC9zcGF0aWFsUmVmZXJlbmNlVXRpbHMuanNcIjtpbXBvcnR7Y2hlY2tQcm9qZWN0aW9uU3VwcG9ydCBhcyBzLHByb2plY3QgYXMgbn1mcm9tXCIuL3Byb2plY3Rpb25TdXBwb3J0LmpzXCI7aW1wb3J0e2dldFF1ZXJ5QkJveGVzIGFzIG99ZnJvbVwiLi9RdWVyeUVuZ2luZS5qc1wiO2ltcG9ydHtRdWVyeUVuZ2luZVJlc3VsdCBhcyBsfWZyb21cIi4vUXVlcnlFbmdpbmVSZXN1bHQuanNcIjtpbXBvcnR7bm9ybWFsaXplUXVlcnlMaWtlIGFzIHB9ZnJvbVwiLi9xdWVyeVV0aWxzLmpzXCI7aW1wb3J0e3ZhbGlkYXRlUXVlcnkgYXMgbX1mcm9tXCIuL3F1ZXJ5VmFsaWRhdGlvblV0aWxzLmpzXCI7aW1wb3J0e2dldFNwYXRpYWxRdWVyeU9wZXJhdG9yIGFzIGN9ZnJvbVwiLi9zcGF0aWFsUXVlcnlTdXBwb3J0LmpzXCI7YXN5bmMgZnVuY3Rpb24gdShjLHUseSl7Y29uc3QgZD10KHkpLHtwb2ludDp4LGRpc3RhbmNlOmcscmV0dXJuRWRnZTpSLHZlcnRleE1vZGU6an09dTtpZighUiYmXCJub25lXCI9PT1qKXJldHVybntjYW5kaWRhdGVzOltdfTtsZXQgdz1lKHUucXVlcnkpO3c9YXdhaXQgYy5zY2hlZHVsZSgoKCk9PnAodyxjLmRlZmluaXRpb25FeHByZXNzaW9uLGMuc3BhdGlhbFJlZmVyZW5jZSkpLGQpLHc9YXdhaXQgYy5yZXNjaGVkdWxlKCgoKT0+bSh3LHthdmFpbGFibGVGaWVsZHM6Yy5hdmFpbGFibGVGaWVsZHMsZmllbGRzSW5kZXg6Yy5maWVsZHNJbmRleCxnZW9tZXRyeVR5cGU6Yy5nZW9tZXRyeVR5cGUsc3BhdGlhbFJlZmVyZW5jZTpjLnNwYXRpYWxSZWZlcmVuY2V9KSksZCk7Y29uc3QgaD0haSh4LnNwYXRpYWxSZWZlcmVuY2UsYy5zcGF0aWFsUmVmZXJlbmNlKTtoJiZhd2FpdCBzKHguc3BhdGlhbFJlZmVyZW5jZSxjLnNwYXRpYWxSZWZlcmVuY2UpO2NvbnN0IGI9XCJudW1iZXJcIj09dHlwZW9mIGc/ZzpnLngsUT1cIm51bWJlclwiPT10eXBlb2YgZz9nOmcueSxTPXt4bWluOngueC1iLHhtYXg6eC54K2IseW1pbjp4LnktUSx5bWF4OngueStRLHNwYXRpYWxSZWZlcmVuY2U6eC5zcGF0aWFsUmVmZXJlbmNlfSxVPWg/bihTLGMuc3BhdGlhbFJlZmVyZW5jZSk6UztpZighVSlyZXR1cm57Y2FuZGlkYXRlczpbXX07Y29uc3QgcT0oYXdhaXQgYShyKHgpLG51bGwse3NpZ25hbDpkfSkpWzBdLEU9KGF3YWl0IGEocihVKSxudWxsLHtzaWduYWw6ZH0pKVswXTtpZihudWxsPT1xfHxudWxsPT1FKXJldHVybntjYW5kaWRhdGVzOltdfTtjb25zdCBGPW5ldyBsKGF3YWl0IGMucmVzY2hlZHVsZSgoKCk9PmMuc2VhcmNoRmVhdHVyZXMobyhFLnRvSlNPTigpKSkpLGQpLHcsYyk7YXdhaXQgYy5yZXNjaGVkdWxlKCgoKT0+Yy5leGVjdXRlT2JqZWN0SWRzUXVlcnkoRikpLGQpLGF3YWl0IGMucmVzY2hlZHVsZSgoKCk9PmMuZXhlY3V0ZVRpbWVRdWVyeShGKSksZCksYXdhaXQgYy5yZXNjaGVkdWxlKCgoKT0+Yy5leGVjdXRlQXR0cmlidXRlc1F1ZXJ5KEYpKSxkKSxhd2FpdCBjLnJlc2NoZWR1bGUoKCgpPT5mKGMsRixkKSksZCk7Y29uc3QgVD1xLnRvSlNPTigpLHY9aD9uKFQsYy5zcGF0aWFsUmVmZXJlbmNlKTpULEk9aD9NYXRoLm1heChVLnhtYXgtVS54bWluLFUueW1heC1VLnltaW4pLzI6ZztyZXR1cm4gRi5jcmVhdGVTbmFwcGluZ1Jlc3BvbnNlKHsuLi51LHBvaW50OnYsZGlzdGFuY2U6SX0sdy5yZXR1cm5aLHguc3BhdGlhbFJlZmVyZW5jZSl9YXN5bmMgZnVuY3Rpb24gZihlLHQscil7Y29uc3R7cXVlcnk6YX09dCx7c3BhdGlhbFJlbDppfT1hO2lmKCF0Py5pdGVtcz8ubGVuZ3RofHwhYS5nZW9tZXRyeXx8IWkpcmV0dXJuO2NvbnN0IHM9YXdhaXQgYyhpLGEuZ2VvbWV0cnksZS5nZW9tZXRyeVR5cGUsZS5oYXNaLGUuaGFzTSksbj1hd2FpdCBlLnJ1blNwYXRpYWxGaWx0ZXIodC5pdGVtcywoZT0+cyhlLmdlb21ldHJ5KSkscik7dC5pdGVtcz1ufWV4cG9ydHt1IGFzIGV4ZWN1dGVRdWVyeUZvclNuYXBwaW5nfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjMzL2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7T3B0aW1pemVkRmVhdHVyZSBhcyB0fWZyb21cIi4uL09wdGltaXplZEZlYXR1cmUuanNcIjtjb25zdCBlPXtnZXRPYmplY3RJZDp0PT50Lm9iamVjdElkLGdldEF0dHJpYnV0ZXM6dD0+dC5hdHRyaWJ1dGVzLGdldEF0dHJpYnV0ZToodCxlKT0+dC5hdHRyaWJ1dGVzW2VdLGNsb25lV2l0aEdlb21ldHJ5OihlLHIpPT5uZXcgdChyLGUuYXR0cmlidXRlcyxudWxsLGUub2JqZWN0SWQpLGdldEdlb21ldHJ5OnQ9PnQuZ2VvbWV0cnksZ2V0Q2VudHJvaWQ6KHQsZSk9PnQuZW5zdXJlQ2VudHJvaWQoZSl9O2V4cG9ydHtlIGFzIG9wdGltaXplZEZlYXR1cmVRdWVyeUVuZ2luZUFkYXB0ZXJ9O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9