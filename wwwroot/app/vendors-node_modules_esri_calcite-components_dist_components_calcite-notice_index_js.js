export const __webpack_id__ = "vendors-node_modules_esri_calcite-components_dist_components_calcite-notice_index_js";
export const __webpack_ids__ = ["vendors-node_modules_esri_calcite-components_dist_components_calcite-notice_index_js"];
export const __webpack_modules__ = {

/***/ "./node_modules/@esri/calcite-components/dist/chunks/component.js":
/*!************************************************************************!*\
  !*** ./node_modules/@esri/calcite-components/dist/chunks/component.js ***!
  \************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   c: () => (/* binding */ componentFocusable),
/* harmony export */   g: () => (/* binding */ getIconScale),
/* harmony export */   i: () => (/* binding */ isHidden),
/* harmony export */   w: () => (/* binding */ warnIfMissingRequiredProp)
/* harmony export */ });
/* harmony import */ var _logger_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./logger.js */ "./node_modules/@esri/calcite-components/dist/chunks/logger.js");
/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
v3.3.3 */

function getIconScale(componentScale) {
  return componentScale === "l" ? "m" : "s";
}
function warnIfMissingRequiredProp(component, newProp, deprecatedProp) {
  if (!component[newProp] && !component[deprecatedProp]) {
    _logger_js__WEBPACK_IMPORTED_MODULE_0__.l.warn(`[${component.el.localName}] "${newProp.toString()}" or "${deprecatedProp.toString()}" is required.`);
  }
}
function isHidden(el) {
  return el.hidden || el.itemHidden;
}
async function componentFocusable(component) {
  await component.componentOnReady();
  await component.updateComplete;
}



/***/ }),

/***/ "./node_modules/@esri/calcite-components/dist/chunks/logger.js":
/*!*********************************************************************!*\
  !*** ./node_modules/@esri/calcite-components/dist/chunks/logger.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   l: () => (/* binding */ logger)
/* harmony export */ });
/* harmony import */ var _runtime_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./runtime.js */ "./node_modules/@esri/calcite-components/dist/chunks/runtime.js");
/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
v3.3.3 */

const loggedDeprecations = /* @__PURE__ */ new Set();
const logLevels = {
  trace: 0,
  debug: 1,
  info: 2,
  warn: 4,
  error: 8,
  off: 10
};
function willLog(level) {
  return logLevels[level] >= logLevels[_runtime_js__WEBPACK_IMPORTED_MODULE_0__.l];
}
function forwardToConsole(level, ...data) {
  if (!willLog(level)) {
    return;
  }
  const badgeTemplate = "%ccalcite";
  const badgeStyle = "background: #007AC2; color: #fff; border-radius: 4px; padding: 2px 4px;";
  console[level].call(this, badgeTemplate, badgeStyle, ...data);
}
let listFormatter;
const logger = {
  debug: (message) => forwardToConsole("debug", message),
  info: (message) => forwardToConsole("info", message),
  warn: (message) => forwardToConsole("warn", message),
  error: (message) => forwardToConsole("error", message),
  trace: (message) => forwardToConsole("trace", message),
  deprecated
};
function deprecated(context, { component, name, suggested, removalVersion }) {
  const key = `${context}:${context === "component" ? "" : component}${name}`;
  if (loggedDeprecations.has(key)) {
    return;
  }
  loggedDeprecations.add(key);
  const multiSuggestions = Array.isArray(suggested);
  if (multiSuggestions && !listFormatter) {
    listFormatter = new Intl.ListFormat("en", { style: "long", type: "disjunction" });
  }
  const message = `[${name}] ${context} is deprecated and will be removed in ${removalVersion === "future" ? `a future version` : `v${removalVersion}`}.${suggested ? ` Use ${multiSuggestions ? listFormatter.format(suggested.map((suggestion) => `"${suggestion}"`)) : `"${suggested}"`} instead.` : ""}`;
  forwardToConsole("warn", message);
}



/***/ }),

/***/ "./node_modules/@esri/calcite-components/dist/chunks/observers.js":
/*!************************************************************************!*\
  !*** ./node_modules/@esri/calcite-components/dist/chunks/observers.js ***!
  \************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   c: () => (/* binding */ createObserver),
/* harmony export */   u: () => (/* binding */ updateRefObserver)
/* harmony export */ });
/* harmony import */ var lit__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lit */ "./node_modules/lit/index.js");
/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
v3.3.3 */

function createObserver(type, callback, options) {
  if (lit__WEBPACK_IMPORTED_MODULE_0__.isServer) {
    return void 0;
  }
  const Observer = getObserver(type);
  return new Observer(callback, options);
}
function getObserver(type) {
  class ExtendedMutationObserver extends window.MutationObserver {
    constructor(callback) {
      super(callback);
      this.observedEntry = [];
      this.callback = callback;
    }
    observe(target, options) {
      this.observedEntry.push({ target, options });
      return super.observe(target, options);
    }
    unobserve(target) {
      const newObservedEntries = this.observedEntry.filter((observed) => observed.target !== target);
      this.observedEntry = [];
      this.callback(super.takeRecords(), this);
      this.disconnect();
      newObservedEntries.forEach((observed) => this.observe(observed.target, observed.options));
    }
  }
  return function() {
    return type === "intersection" ? window.IntersectionObserver : type === "mutation" ? ExtendedMutationObserver : window.ResizeObserver;
  }();
}
function updateRefObserver(observer, oldTarget, target, options) {
  if (!observer) {
    return;
  }
  if (oldTarget) {
    observer.unobserve(oldTarget);
  }
  if (!target) {
    return;
  }
  if (observer instanceof MutationObserver) {
    observer.observe(target, options);
    return;
  }
  observer.observe(target);
}



/***/ }),

/***/ "./node_modules/@esri/calcite-components/dist/chunks/openCloseComponent.js":
/*!*********************************************************************************!*\
  !*** ./node_modules/@esri/calcite-components/dist/chunks/openCloseComponent.js ***!
  \*********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   t: () => (/* binding */ toggleOpenClose)
/* harmony export */ });
/* harmony import */ var _dom_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./dom.js */ "./node_modules/@esri/calcite-components/dist/chunks/dom.js");
/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
v3.3.3 */

function isOpen(component) {
  return component[component.openProp || "open"];
}
async function toggleOpenClose(component) {
  await component.updateComplete;
  if (isOpen(component)) {
    component.onBeforeOpen();
  } else {
    component.onBeforeClose();
  }
  await component.updateComplete;
  if (component.transitionEl) {
    await (0,_dom_js__WEBPACK_IMPORTED_MODULE_0__.w)(component.transitionEl, component.transitionProp);
  }
  if (isOpen(component)) {
    component.onOpen();
  } else {
    component.onClose();
  }
}



/***/ }),

/***/ "./node_modules/@esri/calcite-components/dist/chunks/resources4.js":
/*!*************************************************************************!*\
  !*** ./node_modules/@esri/calcite-components/dist/chunks/resources4.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   K: () => (/* binding */ KindIcons)
/* harmony export */ });
/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
v3.3.3 */
const KindIcons = {
  brand: "lightbulb",
  danger: "exclamationMarkTriangle",
  info: "information",
  success: "checkCircle",
  warning: "exclamationMarkTriangle"
};



/***/ }),

/***/ "./node_modules/@esri/calcite-components/dist/chunks/useSetFocus.js":
/*!**************************************************************************!*\
  !*** ./node_modules/@esri/calcite-components/dist/chunks/useSetFocus.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   u: () => (/* binding */ useSetFocus)
/* harmony export */ });
/* harmony import */ var _arcgis_lumina_controllers__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @arcgis/lumina/controllers */ "./node_modules/@arcgis/lumina/dist/controllers/index.js");
/* harmony import */ var _component_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./component.js */ "./node_modules/@esri/calcite-components/dist/chunks/component.js");
/* harmony import */ var _dom_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./dom.js */ "./node_modules/@esri/calcite-components/dist/chunks/dom.js");
/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
v3.3.3 */



const useSetFocus = () => {
  return (0,_arcgis_lumina_controllers__WEBPACK_IMPORTED_MODULE_0__.makeGenericController)((component, controller) => {
    let abortController;
    function handleFocusOut() {
      abortController?.abort();
    }
    controller.onLoad(() => {
      component.listen("focus", () => {
        abortController = new AbortController();
        component.el.addEventListener("focusout", handleFocusOut, { signal: abortController.signal });
      });
    });
    controller.onDisconnected(() => {
      component.el.removeEventListener("focusout", handleFocusOut);
    });
    return async (getFocusTarget, options) => {
      if (component.disabled) {
        return;
      }
      const focusConfig = toFocusConfig(getFocusTarget());
      if (!focusConfig) {
        return;
      }
      const { target, includeContainer, strategy } = focusConfig;
      const rootNode = (0,_dom_js__WEBPACK_IMPORTED_MODULE_2__.k)(component.el);
      const currentActiveElement = rootNode.activeElement;
      await (0,_component_js__WEBPACK_IMPORTED_MODULE_1__.c)(component);
      const focusAlreadyChanged = currentActiveElement !== rootNode.activeElement;
      if (focusAlreadyChanged || abortController && !abortController?.signal.aborted) {
        return;
      }
      component.el.removeEventListener("focus", handleFocusOut);
      return (0,_dom_js__WEBPACK_IMPORTED_MODULE_2__.b)(target, includeContainer, strategy, component.el, options);
    };
  });
};
function isFocusOverride(focusTarget) {
  return "target" in focusTarget && ("includeContainer" in focusTarget || "strategy" in focusTarget);
}
function toFocusConfig(focusTarget) {
  if (!focusTarget) {
    return;
  }
  return isFocusOverride(focusTarget) ? focusTarget : { target: focusTarget };
}



/***/ }),

/***/ "./node_modules/@esri/calcite-components/dist/chunks/useT9n.js":
/*!*********************************************************************!*\
  !*** ./node_modules/@esri/calcite-components/dist/chunks/useT9n.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   u: () => (/* binding */ useT9n)
/* harmony export */ });
/* harmony import */ var _arcgis_lumina_controllers__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @arcgis/lumina/controllers */ "./node_modules/@arcgis/lumina/dist/controllers/index.js");
/* harmony import */ var _runtime_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./runtime.js */ "./node_modules/@esri/calcite-components/dist/chunks/runtime.js");
/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
v3.3.3 */


const useT9n = (0,_arcgis_lumina_controllers__WEBPACK_IMPORTED_MODULE_0__.makeT9nController)(_runtime_js__WEBPACK_IMPORTED_MODULE_1__.g);



/***/ }),

/***/ "./node_modules/@esri/calcite-components/dist/components/calcite-icon/customElement.js":
/*!*********************************************************************************************!*\
  !*** ./node_modules/@esri/calcite-components/dist/components/calcite-icon/customElement.js ***!
  \*********************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Icon: () => (/* binding */ Icon)
/* harmony export */ });
/* harmony import */ var _chunks_runtime_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../chunks/runtime.js */ "./node_modules/@esri/calcite-components/dist/chunks/runtime.js");
/* harmony import */ var lit__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lit */ "./node_modules/lit/index.js");
/* harmony import */ var _arcgis_lumina__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @arcgis/lumina */ "./node_modules/@arcgis/lumina/dist/index.js");
/* harmony import */ var _chunks_dom_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../chunks/dom.js */ "./node_modules/@esri/calcite-components/dist/chunks/dom.js");
/* harmony import */ var _chunks_observers_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../chunks/observers.js */ "./node_modules/@esri/calcite-components/dist/chunks/observers.js");
/* harmony import */ var _chunks_logger_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../chunks/logger.js */ "./node_modules/@esri/calcite-components/dist/chunks/logger.js");
/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
v3.3.3 */






const CSS = {
  flipRtl: "flip-rtl",
  svg: "svg"
};
const iconCache = {};
const requestCache = {};
const scaleToPx = {
  s: 16,
  m: 24,
  l: 32
};
function generateIconId({ icon, scale }) {
  const size = scaleToPx[scale];
  const name = normalizeIconName(icon);
  const filled = name.charAt(name.length - 1) === "F";
  const iconName = filled ? name.substring(0, name.length - 1) : name;
  return `${iconName}${size}${filled ? "F" : ""}`;
}
async function fetchIcon(props) {
  const cachedIconKey = generateIconId(props);
  const cachedIconData = getCachedIconDataByKey(cachedIconKey);
  if (cachedIconData) {
    return cachedIconData;
  }
  if (!requestCache[cachedIconKey]) {
    requestCache[cachedIconKey] = fetch((0,_chunks_runtime_js__WEBPACK_IMPORTED_MODULE_0__.g)(`./assets/icon/${cachedIconKey}.json`)).then((resp) => resp.json()).catch(() => {
      _chunks_logger_js__WEBPACK_IMPORTED_MODULE_5__.l.error(`${props.icon} (${props.scale}) icon failed to load`);
      return "";
    });
  }
  const path = await requestCache[cachedIconKey];
  iconCache[cachedIconKey] = path;
  return path;
}
function getCachedIconData(props) {
  return getCachedIconDataByKey(generateIconId(props));
}
function getCachedIconDataByKey(id) {
  return iconCache[id];
}
function normalizeIconName(name) {
  const numberLeadingName = !isNaN(Number(name.charAt(0)));
  const parts = name.split("-");
  const kebabCased = parts.length > 0;
  if (kebabCased) {
    const firstNonDigitInPartPattern = /[a-z]/i;
    name = parts.map((part, partIndex) => {
      return part.replace(firstNonDigitInPartPattern, function replacer(match, offset) {
        const isFirstCharInName = partIndex === 0 && offset === 0;
        if (isFirstCharInName) {
          return match;
        }
        return match.toUpperCase();
      });
    }).join("");
  }
  return numberLeadingName ? `i${name}` : name;
}
const styles = (0,lit__WEBPACK_IMPORTED_MODULE_1__.css)`:host{--calcite-internal-color-focus: var( --calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)) )}:host{display:inline-flex;color:var(--calcite-icon-color, var(--calcite-ui-icon-color, currentColor))}:host([scale=s]){inline-size:16px;block-size:16px;min-inline-size:16px;min-block-size:16px}:host([scale=m]){inline-size:24px;block-size:24px;min-inline-size:24px;min-block-size:24px}:host([scale=l]){inline-size:32px;block-size:32px;min-inline-size:32px;min-block-size:32px}.flip-rtl{transform:scaleX(-1)}.svg{display:block}:host([hidden]){display:none}[hidden]{display:none}`;
class Icon extends _arcgis_lumina__WEBPACK_IMPORTED_MODULE_2__.LitElement {
  constructor() {
    super(...arguments);
    this.visible = false;
    this.flipRtl = false;
    this.icon = null;
    this.preload = false;
    this.scale = "m";
  }
  static {
    this.properties = { pathData: [16, {}, { state: true }], visible: [16, {}, { state: true }], flipRtl: [7, {}, { reflect: true, type: Boolean }], icon: [3, {}, { reflect: true }], preload: [7, {}, { reflect: true, type: Boolean }], scale: [3, {}, { reflect: true }], textLabel: 1 };
  }
  static {
    this.styles = styles;
  }
  connectedCallback() {
    super.connectedCallback();
    if (this.preload) {
      this.visible = true;
      this.loadIconPathData();
      return;
    }
    if (!this.visible) {
      this.waitUntilVisible(() => {
        this.visible = true;
        this.loadIconPathData();
      });
    }
  }
  willUpdate(changes) {
    if (changes.has("icon") && (this.hasUpdated || this.icon !== null) || changes.has("scale") && (this.hasUpdated || this.scale !== "m")) {
      this.loadIconPathData();
    }
  }
  disconnectedCallback() {
    super.disconnectedCallback();
    this.intersectionObserver?.disconnect();
    this.intersectionObserver = null;
  }
  async loadIconPathData() {
    const { icon, scale, visible } = this;
    if (lit__WEBPACK_IMPORTED_MODULE_1__.isServer || !icon || !visible) {
      return;
    }
    const fetchIconProps = { icon, scale };
    const pathData = getCachedIconData(fetchIconProps) || await fetchIcon(fetchIconProps);
    if (icon !== this.icon) {
      return;
    }
    this.pathData = pathData;
  }
  waitUntilVisible(callback) {
    this.intersectionObserver = (0,_chunks_observers_js__WEBPACK_IMPORTED_MODULE_4__.c)("intersection", (entries) => {
      entries.forEach((entry) => {
        if (entry.isIntersecting) {
          this.intersectionObserver.disconnect();
          this.intersectionObserver = null;
          callback();
        }
      });
    }, { rootMargin: "50px" });
    if (!this.intersectionObserver) {
      callback();
      return;
    }
    this.intersectionObserver.observe(this.el);
  }
  render() {
    const { el, flipRtl, pathData, scale, textLabel } = this;
    const dir = (0,_chunks_dom_js__WEBPACK_IMPORTED_MODULE_3__.g)(el);
    const size = scaleToPx[scale];
    const semantic = !!textLabel;
    const paths = [].concat(pathData || "");
    this.el.ariaHidden = (0,_chunks_dom_js__WEBPACK_IMPORTED_MODULE_3__.t)(!semantic);
    this.el.ariaLabel = semantic ? textLabel : null;
    this.el.role = semantic ? "img" : null;
    return (0,lit__WEBPACK_IMPORTED_MODULE_1__.html)`<svg aria-hidden=true class=${(0,_arcgis_lumina__WEBPACK_IMPORTED_MODULE_2__.safeClassMap)({
      [CSS.flipRtl]: dir === "rtl" && flipRtl,
      [CSS.svg]: true
    })} fill=currentColor height=100% viewBox=${`0 0 ${size} ${size}`} width=100% xmlns=http://www.w3.org/2000/svg>${paths.map((path) => typeof path === "string" ? (0,lit__WEBPACK_IMPORTED_MODULE_1__.svg)`<path d=${path ?? lit__WEBPACK_IMPORTED_MODULE_1__.nothing} />` : (0,lit__WEBPACK_IMPORTED_MODULE_1__.svg)`<path d=${path.d ?? lit__WEBPACK_IMPORTED_MODULE_1__.nothing} opacity=${("opacity" in path ? path.opacity : 1) ?? lit__WEBPACK_IMPORTED_MODULE_1__.nothing} />`)}</svg>`;
  }
}
(0,_chunks_runtime_js__WEBPACK_IMPORTED_MODULE_0__.c)("calcite-icon", Icon);



/***/ }),

/***/ "./node_modules/@esri/calcite-components/dist/components/calcite-icon/index.js":
/*!*************************************************************************************!*\
  !*** ./node_modules/@esri/calcite-components/dist/components/calcite-icon/index.js ***!
  \*************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Icon: () => (/* reexport safe */ _customElement_js__WEBPACK_IMPORTED_MODULE_0__.Icon)
/* harmony export */ });
/* harmony import */ var _customElement_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./customElement.js */ "./node_modules/@esri/calcite-components/dist/components/calcite-icon/customElement.js");


/***/ }),

/***/ "./node_modules/@esri/calcite-components/dist/components/calcite-notice/customElement.js":
/*!***********************************************************************************************!*\
  !*** ./node_modules/@esri/calcite-components/dist/components/calcite-notice/customElement.js ***!
  \***********************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Notice: () => (/* binding */ Notice)
/* harmony export */ });
/* harmony import */ var _chunks_runtime_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../chunks/runtime.js */ "./node_modules/@esri/calcite-components/dist/chunks/runtime.js");
/* harmony import */ var lit__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lit */ "./node_modules/lit/index.js");
/* harmony import */ var lit_html_directives_ref_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lit-html/directives/ref.js */ "./node_modules/lit-html/development/directives/ref.js");
/* harmony import */ var _arcgis_lumina__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @arcgis/lumina */ "./node_modules/@arcgis/lumina/dist/index.js");
/* harmony import */ var _chunks_dom_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../chunks/dom.js */ "./node_modules/@esri/calcite-components/dist/chunks/dom.js");
/* harmony import */ var _chunks_resources4_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../chunks/resources4.js */ "./node_modules/@esri/calcite-components/dist/chunks/resources4.js");
/* harmony import */ var _chunks_openCloseComponent_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../chunks/openCloseComponent.js */ "./node_modules/@esri/calcite-components/dist/chunks/openCloseComponent.js");
/* harmony import */ var _chunks_component_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../chunks/component.js */ "./node_modules/@esri/calcite-components/dist/chunks/component.js");
/* harmony import */ var _chunks_useT9n_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../chunks/useT9n.js */ "./node_modules/@esri/calcite-components/dist/chunks/useT9n.js");
/* harmony import */ var _chunks_useSetFocus_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../chunks/useSetFocus.js */ "./node_modules/@esri/calcite-components/dist/chunks/useSetFocus.js");
/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
v3.3.3 */










const SLOTS = {
  title: "title",
  message: "message",
  link: "link",
  actionsEnd: "actions-end"
};
const CSS = {
  actionsEnd: "actions-end",
  close: "notice-close",
  container: "container",
  content: "notice-content",
  icon: "notice-icon"
};
const styles = (0,lit__WEBPACK_IMPORTED_MODULE_1__.css)`:host{--calcite-internal-color-focus: var( --calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)) )}:host([scale=s]){--calcite-notice-spacing-token-small: .5rem;--calcite-notice-spacing-token-large: .75rem}:host([scale=s]) .container slot[name=title]::slotted(*),:host([scale=s]) .container *::slotted([slot=title]){margin-block:.125rem;font-size:var(--calcite-font-size--1);line-height:1.375}:host([scale=s]) .container slot[name=message]::slotted(*),:host([scale=s]) .container *::slotted([slot=message]){margin-block:.125rem;font-size:var(--calcite-font-size--2);line-height:1.375}:host([scale=s]) ::slotted(calcite-link){margin-block:.125rem;font-size:var(--calcite-font-size--2);line-height:1.375}:host([scale=s]) .notice-close{padding:.5rem}:host([scale=m]){--calcite-notice-spacing-token-small: .75rem;--calcite-notice-spacing-token-large: 1rem}:host([scale=m]) .container slot[name=title]::slotted(*),:host([scale=m]) .container *::slotted([slot=title]){margin-block:.125rem;font-size:var(--calcite-font-size-0);line-height:1.375}:host([scale=m]) .container slot[name=message]::slotted(*),:host([scale=m]) .container *::slotted([slot=message]){margin-block:.125rem;font-size:var(--calcite-font-size--1);line-height:1.375}:host([scale=m]) ::slotted(calcite-link){margin-block:.125rem;font-size:var(--calcite-font-size--1);line-height:1.375}:host([scale=l]){--calcite-notice-spacing-token-small: 1rem;--calcite-notice-spacing-token-large: 1.25rem}:host([scale=l]) .container slot[name=title]::slotted(*),:host([scale=l]) .container *::slotted([slot=title]){margin-block:.125rem;font-size:var(--calcite-font-size-1);line-height:1.375}:host([scale=l]) .container slot[name=message]::slotted(*),:host([scale=l]) .container *::slotted([slot=message]){margin-block:.125rem;font-size:var(--calcite-font-size-0);line-height:1.375}:host([scale=l]) ::slotted(calcite-link){margin-block:.125rem;font-size:var(--calcite-font-size-0);line-height:1.375}:host([width=auto]){--calcite-notice-width: auto}:host([width=half]){--calcite-notice-width: 50%}:host([width=full]){--calcite-notice-width: 100%}:host{margin-inline:auto;display:none;max-inline-size:100%;align-items:center;inline-size:var(--calcite-notice-width)}.container{pointer-events:none;margin-block:0px;box-sizing:border-box;display:flex;inline-size:100%;opacity:0;overflow:hidden;max-block-size:0;transition-property:opacity,max-block-size;transition-duration:var(--calcite-animation-timing);text-align:start;border-inline-start:var(--calcite-border-width-md) solid;box-shadow:0 0 0 0 transparent;background-color:var(--calcite-notice-background-color, var(--calcite-color-foreground-1))}.notice-close{outline-color:transparent}.notice-close:focus{outline:var(--calcite-border-width-md) solid var(--calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)));outline:var(--calcite-border-width-md) solid var(--calcite-internal-color-focus);outline-offset:calc(calc(-1 * var(--calcite-spacing-base)) * calc(1 - (2*clamp(0,var(--calcite-offset-invert-focus),1))))}:host{display:flex}:host([open]) .container{pointer-events:auto;max-block-size:100%;align-items:center;opacity:1;--tw-shadow: 0 4px 8px -1px rgba(0, 0, 0, .08), 0 2px 4px -1px rgba(0, 0, 0, .04);--tw-shadow-colored: 0 4px 8px -1px var(--tw-shadow-color), 0 2px 4px -1px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow);overflow:visible}.container slot[name=title]::slotted(*),.container *::slotted([slot=title]){margin:0;font-weight:var(--calcite-font-weight-medium);color:var(--calcite-notice-title-text-color, var(--calcite-color-text-1))}.container slot[name=message]::slotted(*),.container *::slotted([slot=message]){margin:0;display:inline;font-weight:var(--calcite-font-weight-normal);margin-inline-end:var(--calcite-notice-spacing-token-small);color:var(--calcite-notice-content-text-color, var(--calcite-color-text-2))}.notice-content{box-sizing:border-box;transition-property:background-color,block-size,border-color,box-shadow,color,inset-block-end,inset-block-start,inset-inline-end,inset-inline-start,inset-size,opacity,outline-color,transform;transition-duration:var(--calcite-animation-timing);transition-timing-function:ease-in-out;padding-inline:var(--calcite-notice-spacing-token-large);flex:0 0 auto;display:flex;min-inline-size:0px;flex-direction:column;overflow-wrap:break-word;flex:1 1 0;padding-block:var(--calcite-notice-spacing-token-small);padding-inline:0 var(--calcite-notice-spacing-token-small)}.notice-content:first-of-type:not(:only-child){padding-inline-start:var(--calcite-notice-spacing-token-large)}.notice-content:only-of-type{padding-block:var(--calcite-notice-spacing-token-small);padding-inline:var(--calcite-notice-spacing-token-large)}.notice-icon{display:flex;align-items:center;box-sizing:border-box;transition-property:background-color,block-size,border-color,box-shadow,color,inset-block-end,inset-block-start,inset-inline-end,inset-inline-start,inset-size,opacity,outline-color,transform;transition-duration:var(--calcite-animation-timing);transition-timing-function:ease-in-out;padding-block:var(--calcite-notice-spacing-token-small);padding-inline:var(--calcite-notice-spacing-token-large);flex:0 0 auto}.notice-close{display:flex;cursor:pointer;align-items:center;align-self:stretch;border-style:none;background-color:transparent;outline:2px solid transparent;outline-offset:2px;box-sizing:border-box;transition-property:background-color,block-size,border-color,box-shadow,color,inset-block-end,inset-block-start,inset-inline-end,inset-inline-start,inset-size,opacity,outline-color,transform;transition-duration:var(--calcite-animation-timing);transition-timing-function:ease-in-out;padding-block:var(--calcite-notice-spacing-token-small);padding-inline:var(--calcite-notice-spacing-token-large);flex:0 0 auto;-webkit-appearance:none;color:var(--calcite-notice-close-icon-color, var(--calcite-color-text-3))}.notice-close:hover,.notice-close:focus{background-color:var(--calcite-notice-close-background-color-focus, var(--calcite-color-foreground-2));color:var(--calcite-notice-close-icon-color-hover, var(--calcite-color-text-1))}.notice-close:active{background-color:var(--calcite-notice-close-background-color-press, var(--calcite-color-foreground-3))}.actions-end{display:flex;align-self:stretch}:host([kind=brand]) .container{border-color:var(--calcite-color-brand)}:host([kind=brand]) .container .notice-icon{color:var(--calcite-color-brand)}:host([kind=info]) .container{border-color:var(--calcite-color-status-info)}:host([kind=info]) .container .notice-icon{color:var(--calcite-color-status-info)}:host([kind=danger]) .container{border-color:var(--calcite-color-status-danger)}:host([kind=danger]) .container .notice-icon{color:var(--calcite-color-status-danger)}:host([kind=success]) .container{border-color:var(--calcite-color-status-success)}:host([kind=success]) .container .notice-icon{color:var(--calcite-color-status-success)}:host([kind=warning]) .container{border-color:var(--calcite-color-status-warning)}:host([kind=warning]) .container .notice-icon{color:var(--calcite-color-status-warning)}:host([hidden]){display:none}[hidden]{display:none}`;
class Notice extends _arcgis_lumina__WEBPACK_IMPORTED_MODULE_3__.LitElement {
  constructor() {
    super(...arguments);
    this.closeButton = (0,lit_html_directives_ref_js__WEBPACK_IMPORTED_MODULE_2__.createRef)();
    this.transitionProp = "opacity";
    this.messages = (0,_chunks_useT9n_js__WEBPACK_IMPORTED_MODULE_8__.u)();
    this.focusSetter = (0,_chunks_useSetFocus_js__WEBPACK_IMPORTED_MODULE_9__.u)()(this);
    this.hasActionEnd = false;
    this.closable = false;
    this.iconFlipRtl = false;
    this.kind = "brand";
    this.open = false;
    this.scale = "m";
    this.width = "auto";
    this.calciteNoticeBeforeClose = (0,_arcgis_lumina__WEBPACK_IMPORTED_MODULE_3__.createEvent)({ cancelable: false });
    this.calciteNoticeBeforeOpen = (0,_arcgis_lumina__WEBPACK_IMPORTED_MODULE_3__.createEvent)({ cancelable: false });
    this.calciteNoticeClose = (0,_arcgis_lumina__WEBPACK_IMPORTED_MODULE_3__.createEvent)({ cancelable: false });
    this.calciteNoticeOpen = (0,_arcgis_lumina__WEBPACK_IMPORTED_MODULE_3__.createEvent)({ cancelable: false });
  }
  static {
    this.properties = { hasActionEnd: [16, {}, { state: true }], closable: [7, {}, { reflect: true, type: Boolean }], icon: [3, { converter: _arcgis_lumina__WEBPACK_IMPORTED_MODULE_3__.stringOrBoolean }, { reflect: true }], iconFlipRtl: [7, {}, { reflect: true, type: Boolean }], kind: [3, {}, { reflect: true }], messageOverrides: [0, {}, { attribute: false }], open: [7, {}, { reflect: true, type: Boolean }], scale: [3, {}, { reflect: true }], width: [3, {}, { reflect: true }] };
  }
  static {
    this.styles = styles;
  }
  async setFocus(options) {
    return this.focusSetter(() => {
      const noticeLinkEl = this.el.querySelector("calcite-link");
      return noticeLinkEl || this.closeButton.value;
    }, options);
  }
  async load() {
    this.requestedIcon = (0,_chunks_dom_js__WEBPACK_IMPORTED_MODULE_4__.v)(_chunks_resources4_js__WEBPACK_IMPORTED_MODULE_5__.K, this.icon, this.kind);
  }
  willUpdate(changes) {
    if (changes.has("open") && (this.hasUpdated || this.open !== false)) {
      (0,_chunks_openCloseComponent_js__WEBPACK_IMPORTED_MODULE_6__.t)(this);
    }
    if (changes.has("icon") || changes.has("kind") && (this.hasUpdated || this.kind !== "brand")) {
      this.requestedIcon = (0,_chunks_dom_js__WEBPACK_IMPORTED_MODULE_4__.v)(_chunks_resources4_js__WEBPACK_IMPORTED_MODULE_5__.K, this.icon, this.kind);
    }
  }
  onBeforeClose() {
    this.calciteNoticeBeforeClose.emit();
  }
  onBeforeOpen() {
    this.calciteNoticeBeforeOpen.emit();
  }
  onClose() {
    this.calciteNoticeClose.emit();
  }
  onOpen() {
    this.calciteNoticeOpen.emit();
  }
  setTransitionEl(el) {
    if (!el) {
      return;
    }
    this.transitionEl = el;
  }
  close() {
    this.open = false;
  }
  handleActionsEndSlotChange(event) {
    this.hasActionEnd = (0,_chunks_dom_js__WEBPACK_IMPORTED_MODULE_4__.a)(event);
  }
  render() {
    const closeButton = (0,lit__WEBPACK_IMPORTED_MODULE_1__.html)`<button .ariaLabel=${this.messages.close} class=${(0,_arcgis_lumina__WEBPACK_IMPORTED_MODULE_3__.safeClassMap)(CSS.close)} @click=${this.close} ${(0,lit_html_directives_ref_js__WEBPACK_IMPORTED_MODULE_2__.ref)(this.closeButton)}><calcite-icon icon=x .scale=${(0,_chunks_component_js__WEBPACK_IMPORTED_MODULE_7__.g)(this.scale)}></calcite-icon></button>`;
    return (0,lit__WEBPACK_IMPORTED_MODULE_1__.html)`<div class=${(0,_arcgis_lumina__WEBPACK_IMPORTED_MODULE_3__.safeClassMap)(CSS.container)} ${(0,lit_html_directives_ref_js__WEBPACK_IMPORTED_MODULE_2__.ref)(this.setTransitionEl)}>${this.requestedIcon ? (0,lit__WEBPACK_IMPORTED_MODULE_1__.html)`<div class=${(0,_arcgis_lumina__WEBPACK_IMPORTED_MODULE_3__.safeClassMap)(CSS.icon)}><calcite-icon .flipRtl=${this.iconFlipRtl} .icon=${this.requestedIcon} .scale=${(0,_chunks_component_js__WEBPACK_IMPORTED_MODULE_7__.g)(this.scale)}></calcite-icon></div>` : null}<div class=${(0,_arcgis_lumina__WEBPACK_IMPORTED_MODULE_3__.safeClassMap)(CSS.content)}><slot name=${SLOTS.title}></slot><slot name=${SLOTS.message}></slot><slot name=${SLOTS.link}></slot></div><div class=${(0,_arcgis_lumina__WEBPACK_IMPORTED_MODULE_3__.safeClassMap)(CSS.actionsEnd)} .hidden=${!this.hasActionEnd}><slot name=${SLOTS.actionsEnd} @slotchange=${this.handleActionsEndSlotChange}></slot></div>${this.closable ? closeButton : null}</div>`;
  }
}
(0,_chunks_runtime_js__WEBPACK_IMPORTED_MODULE_0__.c)("calcite-notice", Notice);



/***/ }),

/***/ "./node_modules/@esri/calcite-components/dist/components/calcite-notice/index.js":
/*!***************************************************************************************!*\
  !*** ./node_modules/@esri/calcite-components/dist/components/calcite-notice/index.js ***!
  \***************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Notice: () => (/* reexport safe */ _customElement_js__WEBPACK_IMPORTED_MODULE_1__.Notice)
/* harmony export */ });
/* harmony import */ var _calcite_icon_index_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../calcite-icon/index.js */ "./node_modules/@esri/calcite-components/dist/components/calcite-icon/index.js");
/* harmony import */ var _customElement_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./customElement.js */ "./node_modules/@esri/calcite-components/dist/components/calcite-notice/customElement.js");



/***/ })

};

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmVuZG9ycy1ub2RlX21vZHVsZXNfZXNyaV9jYWxjaXRlLWNvbXBvbmVudHNfZGlzdF9jb21wb25lbnRzX2NhbGNpdGUtbm90aWNlX2luZGV4X2pzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUMwQztBQUMxQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSSx5Q0FBTSxVQUFVLHVCQUF1QixLQUFLLG1CQUFtQixRQUFRLDBCQUEwQjtBQUNyRztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFNRTs7Ozs7Ozs7Ozs7Ozs7OztBQ3hCRjtBQUNBO0FBQ0E7QUFDNkM7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1Q0FBdUMsMENBQVE7QUFDL0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkNBQTJDLGFBQWEsb0JBQW9CLGlCQUFpQjtBQUM3RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0JBQStCLDRDQUE0QztBQUMzRSxpQkFBaUIsUUFBUSxHQUFHLHlDQUF5QyxFQUFFLEtBQUs7QUFDNUU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0RBQWdELG9DQUFvQztBQUNwRjtBQUNBLHNCQUFzQixLQUFLLElBQUksU0FBUyx1Q0FBdUMsdURBQXVELGVBQWUsRUFBRSxHQUFHLG9CQUFvQiwwRUFBMEUsV0FBVyxXQUFXLFVBQVUsSUFBSSxlQUFlO0FBQzNTO0FBQ0E7QUFHRTs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNoREY7QUFDQTtBQUNBO0FBQytCO0FBQy9CO0FBQ0EsTUFBTSx5Q0FBUTtBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLGlCQUFpQjtBQUNqRDtBQUNBO0FBQ0E7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QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLGlEQUE0QjtBQUNwRDtBQUNBO0FBQ0Esd0JBQXdCLHlDQUFJLHNCQUFzQixxQkFBcUIsUUFBUSw0REFBWSxhQUFhLFNBQVMsWUFBWSxFQUFFLCtEQUFHLG1CQUFtQiwrQkFBK0IsdURBQVksYUFBYTtBQUM3TSxXQUFXLHlDQUFJLGNBQWMsNERBQVksaUJBQWlCLEVBQUUsK0RBQUcsdUJBQXVCLEdBQUcscUJBQXFCLHlDQUFJLGNBQWMsNERBQVksV0FBVywwQkFBMEIsa0JBQWtCLFFBQVEsb0JBQW9CLFNBQVMsdURBQVksYUFBYSwrQkFBK0IsYUFBYSw0REFBWSxjQUFjLGNBQWMsWUFBWSxxQkFBcUIsY0FBYyxxQkFBcUIsV0FBVywyQkFBMkIsNERBQVksa0JBQWtCLFVBQVUsbUJBQW1CLGNBQWMsa0JBQWtCLGNBQWMsZ0NBQWdDLGdCQUFnQixtQ0FBbUM7QUFDM25CO0FBQ0E7QUFDQSxxREFBYTtBQUdYOzs7Ozs7Ozs7Ozs7Ozs7OztBQ3JHZ0MiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wcmVjaXNpb25mYXJtcy8uL25vZGVfbW9kdWxlcy9AZXNyaS9jYWxjaXRlLWNvbXBvbmVudHMvZGlzdC9jaHVua3MvY29tcG9uZW50LmpzIiwid2VicGFjazovL3ByZWNpc2lvbmZhcm1zLy4vbm9kZV9tb2R1bGVzL0Blc3JpL2NhbGNpdGUtY29tcG9uZW50cy9kaXN0L2NodW5rcy9sb2dnZXIuanMiLCJ3ZWJwYWNrOi8vcHJlY2lzaW9uZmFybXMvLi9ub2RlX21vZHVsZXMvQGVzcmkvY2FsY2l0ZS1jb21wb25lbnRzL2Rpc3QvY2h1bmtzL29ic2VydmVycy5qcyIsIndlYnBhY2s6Ly9wcmVjaXNpb25mYXJtcy8uL25vZGVfbW9kdWxlcy9AZXNyaS9jYWxjaXRlLWNvbXBvbmVudHMvZGlzdC9jaHVua3Mvb3BlbkNsb3NlQ29tcG9uZW50LmpzIiwid2VicGFjazovL3ByZWNpc2lvbmZhcm1zLy4vbm9kZV9tb2R1bGVzL0Blc3JpL2NhbGNpdGUtY29tcG9uZW50cy9kaXN0L2NodW5rcy9yZXNvdXJjZXM0LmpzIiwid2VicGFjazovL3ByZWNpc2lvbmZhcm1zLy4vbm9kZV9tb2R1bGVzL0Blc3JpL2NhbGNpdGUtY29tcG9uZW50cy9kaXN0L2NodW5rcy91c2VTZXRGb2N1cy5qcyIsIndlYnBhY2s6Ly9wcmVjaXNpb25mYXJtcy8uL25vZGVfbW9kdWxlcy9AZXNyaS9jYWxjaXRlLWNvbXBvbmVudHMvZGlzdC9jaHVua3MvdXNlVDluLmpzIiwid2VicGFjazovL3ByZWNpc2lvbmZhcm1zLy4vbm9kZV9tb2R1bGVzL0Blc3JpL2NhbGNpdGUtY29tcG9uZW50cy9kaXN0L2NvbXBvbmVudHMvY2FsY2l0ZS1pY29uL2N1c3RvbUVsZW1lbnQuanMiLCJ3ZWJwYWNrOi8vcHJlY2lzaW9uZmFybXMvLi9ub2RlX21vZHVsZXMvQGVzcmkvY2FsY2l0ZS1jb21wb25lbnRzL2Rpc3QvY29tcG9uZW50cy9jYWxjaXRlLW5vdGljZS9jdXN0b21FbGVtZW50LmpzIiwid2VicGFjazovL3ByZWNpc2lvbmZhcm1zLy4vbm9kZV9tb2R1bGVzL0Blc3JpL2NhbGNpdGUtY29tcG9uZW50cy9kaXN0L2NvbXBvbmVudHMvY2FsY2l0ZS1ub3RpY2UvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiLyohIEFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9naXRodWIuY29tL0VzcmkvY2FsY2l0ZS1kZXNpZ24tc3lzdGVtL2Jsb2IvZGV2L0xJQ0VOU0UubWQgZm9yIGRldGFpbHMuXG52My4zLjMgKi9cbmltcG9ydCB7IGwgYXMgbG9nZ2VyIH0gZnJvbSBcIi4vbG9nZ2VyLmpzXCI7XG5mdW5jdGlvbiBnZXRJY29uU2NhbGUoY29tcG9uZW50U2NhbGUpIHtcbiAgcmV0dXJuIGNvbXBvbmVudFNjYWxlID09PSBcImxcIiA/IFwibVwiIDogXCJzXCI7XG59XG5mdW5jdGlvbiB3YXJuSWZNaXNzaW5nUmVxdWlyZWRQcm9wKGNvbXBvbmVudCwgbmV3UHJvcCwgZGVwcmVjYXRlZFByb3ApIHtcbiAgaWYgKCFjb21wb25lbnRbbmV3UHJvcF0gJiYgIWNvbXBvbmVudFtkZXByZWNhdGVkUHJvcF0pIHtcbiAgICBsb2dnZXIud2FybihgWyR7Y29tcG9uZW50LmVsLmxvY2FsTmFtZX1dIFwiJHtuZXdQcm9wLnRvU3RyaW5nKCl9XCIgb3IgXCIke2RlcHJlY2F0ZWRQcm9wLnRvU3RyaW5nKCl9XCIgaXMgcmVxdWlyZWQuYCk7XG4gIH1cbn1cbmZ1bmN0aW9uIGlzSGlkZGVuKGVsKSB7XG4gIHJldHVybiBlbC5oaWRkZW4gfHwgZWwuaXRlbUhpZGRlbjtcbn1cbmFzeW5jIGZ1bmN0aW9uIGNvbXBvbmVudEZvY3VzYWJsZShjb21wb25lbnQpIHtcbiAgYXdhaXQgY29tcG9uZW50LmNvbXBvbmVudE9uUmVhZHkoKTtcbiAgYXdhaXQgY29tcG9uZW50LnVwZGF0ZUNvbXBsZXRlO1xufVxuZXhwb3J0IHtcbiAgY29tcG9uZW50Rm9jdXNhYmxlIGFzIGMsXG4gIGdldEljb25TY2FsZSBhcyBnLFxuICBpc0hpZGRlbiBhcyBpLFxuICB3YXJuSWZNaXNzaW5nUmVxdWlyZWRQcm9wIGFzIHdcbn07XG4iLCIvKiEgQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2dpdGh1Yi5jb20vRXNyaS9jYWxjaXRlLWRlc2lnbi1zeXN0ZW0vYmxvYi9kZXYvTElDRU5TRS5tZCBmb3IgZGV0YWlscy5cbnYzLjMuMyAqL1xuaW1wb3J0IHsgbCBhcyBsb2dMZXZlbCB9IGZyb20gXCIuL3J1bnRpbWUuanNcIjtcbmNvbnN0IGxvZ2dlZERlcHJlY2F0aW9ucyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgU2V0KCk7XG5jb25zdCBsb2dMZXZlbHMgPSB7XG4gIHRyYWNlOiAwLFxuICBkZWJ1ZzogMSxcbiAgaW5mbzogMixcbiAgd2FybjogNCxcbiAgZXJyb3I6IDgsXG4gIG9mZjogMTBcbn07XG5mdW5jdGlvbiB3aWxsTG9nKGxldmVsKSB7XG4gIHJldHVybiBsb2dMZXZlbHNbbGV2ZWxdID49IGxvZ0xldmVsc1tsb2dMZXZlbF07XG59XG5mdW5jdGlvbiBmb3J3YXJkVG9Db25zb2xlKGxldmVsLCAuLi5kYXRhKSB7XG4gIGlmICghd2lsbExvZyhsZXZlbCkpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgY29uc3QgYmFkZ2VUZW1wbGF0ZSA9IFwiJWNjYWxjaXRlXCI7XG4gIGNvbnN0IGJhZGdlU3R5bGUgPSBcImJhY2tncm91bmQ6ICMwMDdBQzI7IGNvbG9yOiAjZmZmOyBib3JkZXItcmFkaXVzOiA0cHg7IHBhZGRpbmc6IDJweCA0cHg7XCI7XG4gIGNvbnNvbGVbbGV2ZWxdLmNhbGwodGhpcywgYmFkZ2VUZW1wbGF0ZSwgYmFkZ2VTdHlsZSwgLi4uZGF0YSk7XG59XG5sZXQgbGlzdEZvcm1hdHRlcjtcbmNvbnN0IGxvZ2dlciA9IHtcbiAgZGVidWc6IChtZXNzYWdlKSA9PiBmb3J3YXJkVG9Db25zb2xlKFwiZGVidWdcIiwgbWVzc2FnZSksXG4gIGluZm86IChtZXNzYWdlKSA9PiBmb3J3YXJkVG9Db25zb2xlKFwiaW5mb1wiLCBtZXNzYWdlKSxcbiAgd2FybjogKG1lc3NhZ2UpID0+IGZvcndhcmRUb0NvbnNvbGUoXCJ3YXJuXCIsIG1lc3NhZ2UpLFxuICBlcnJvcjogKG1lc3NhZ2UpID0+IGZvcndhcmRUb0NvbnNvbGUoXCJlcnJvclwiLCBtZXNzYWdlKSxcbiAgdHJhY2U6IChtZXNzYWdlKSA9PiBmb3J3YXJkVG9Db25zb2xlKFwidHJhY2VcIiwgbWVzc2FnZSksXG4gIGRlcHJlY2F0ZWRcbn07XG5mdW5jdGlvbiBkZXByZWNhdGVkKGNvbnRleHQsIHsgY29tcG9uZW50LCBuYW1lLCBzdWdnZXN0ZWQsIHJlbW92YWxWZXJzaW9uIH0pIHtcbiAgY29uc3Qga2V5ID0gYCR7Y29udGV4dH06JHtjb250ZXh0ID09PSBcImNvbXBvbmVudFwiID8gXCJcIiA6IGNvbXBvbmVudH0ke25hbWV9YDtcbiAgaWYgKGxvZ2dlZERlcHJlY2F0aW9ucy5oYXMoa2V5KSkge1xuICAgIHJldHVybjtcbiAgfVxuICBsb2dnZWREZXByZWNhdGlvbnMuYWRkKGtleSk7XG4gIGNvbnN0IG11bHRpU3VnZ2VzdGlvbnMgPSBBcnJheS5pc0FycmF5KHN1Z2dlc3RlZCk7XG4gIGlmIChtdWx0aVN1Z2dlc3Rpb25zICYmICFsaXN0Rm9ybWF0dGVyKSB7XG4gICAgbGlzdEZvcm1hdHRlciA9IG5ldyBJbnRsLkxpc3RGb3JtYXQoXCJlblwiLCB7IHN0eWxlOiBcImxvbmdcIiwgdHlwZTogXCJkaXNqdW5jdGlvblwiIH0pO1xuICB9XG4gIGNvbnN0IG1lc3NhZ2UgPSBgWyR7bmFtZX1dICR7Y29udGV4dH0gaXMgZGVwcmVjYXRlZCBhbmQgd2lsbCBiZSByZW1vdmVkIGluICR7cmVtb3ZhbFZlcnNpb24gPT09IFwiZnV0dXJlXCIgPyBgYSBmdXR1cmUgdmVyc2lvbmAgOiBgdiR7cmVtb3ZhbFZlcnNpb259YH0uJHtzdWdnZXN0ZWQgPyBgIFVzZSAke211bHRpU3VnZ2VzdGlvbnMgPyBsaXN0Rm9ybWF0dGVyLmZvcm1hdChzdWdnZXN0ZWQubWFwKChzdWdnZXN0aW9uKSA9PiBgXCIke3N1Z2dlc3Rpb259XCJgKSkgOiBgXCIke3N1Z2dlc3RlZH1cImB9IGluc3RlYWQuYCA6IFwiXCJ9YDtcbiAgZm9yd2FyZFRvQ29uc29sZShcIndhcm5cIiwgbWVzc2FnZSk7XG59XG5leHBvcnQge1xuICBsb2dnZXIgYXMgbFxufTtcbiIsIi8qISBBbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9Fc3JpL2NhbGNpdGUtZGVzaWduLXN5c3RlbS9ibG9iL2Rldi9MSUNFTlNFLm1kIGZvciBkZXRhaWxzLlxudjMuMy4zICovXG5pbXBvcnQgeyBpc1NlcnZlciB9IGZyb20gXCJsaXRcIjtcbmZ1bmN0aW9uIGNyZWF0ZU9ic2VydmVyKHR5cGUsIGNhbGxiYWNrLCBvcHRpb25zKSB7XG4gIGlmIChpc1NlcnZlcikge1xuICAgIHJldHVybiB2b2lkIDA7XG4gIH1cbiAgY29uc3QgT2JzZXJ2ZXIgPSBnZXRPYnNlcnZlcih0eXBlKTtcbiAgcmV0dXJuIG5ldyBPYnNlcnZlcihjYWxsYmFjaywgb3B0aW9ucyk7XG59XG5mdW5jdGlvbiBnZXRPYnNlcnZlcih0eXBlKSB7XG4gIGNsYXNzIEV4dGVuZGVkTXV0YXRpb25PYnNlcnZlciBleHRlbmRzIHdpbmRvdy5NdXRhdGlvbk9ic2VydmVyIHtcbiAgICBjb25zdHJ1Y3RvcihjYWxsYmFjaykge1xuICAgICAgc3VwZXIoY2FsbGJhY2spO1xuICAgICAgdGhpcy5vYnNlcnZlZEVudHJ5ID0gW107XG4gICAgICB0aGlzLmNhbGxiYWNrID0gY2FsbGJhY2s7XG4gICAgfVxuICAgIG9ic2VydmUodGFyZ2V0LCBvcHRpb25zKSB7XG4gICAgICB0aGlzLm9ic2VydmVkRW50cnkucHVzaCh7IHRhcmdldCwgb3B0aW9ucyB9KTtcbiAgICAgIHJldHVybiBzdXBlci5vYnNlcnZlKHRhcmdldCwgb3B0aW9ucyk7XG4gICAgfVxuICAgIHVub2JzZXJ2ZSh0YXJnZXQpIHtcbiAgICAgIGNvbnN0IG5ld09ic2VydmVkRW50cmllcyA9IHRoaXMub2JzZXJ2ZWRFbnRyeS5maWx0ZXIoKG9ic2VydmVkKSA9PiBvYnNlcnZlZC50YXJnZXQgIT09IHRhcmdldCk7XG4gICAgICB0aGlzLm9ic2VydmVkRW50cnkgPSBbXTtcbiAgICAgIHRoaXMuY2FsbGJhY2soc3VwZXIudGFrZVJlY29yZHMoKSwgdGhpcyk7XG4gICAgICB0aGlzLmRpc2Nvbm5lY3QoKTtcbiAgICAgIG5ld09ic2VydmVkRW50cmllcy5mb3JFYWNoKChvYnNlcnZlZCkgPT4gdGhpcy5vYnNlcnZlKG9ic2VydmVkLnRhcmdldCwgb2JzZXJ2ZWQub3B0aW9ucykpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHR5cGUgPT09IFwiaW50ZXJzZWN0aW9uXCIgPyB3aW5kb3cuSW50ZXJzZWN0aW9uT2JzZXJ2ZXIgOiB0eXBlID09PSBcIm11dGF0aW9uXCIgPyBFeHRlbmRlZE11dGF0aW9uT2JzZXJ2ZXIgOiB3aW5kb3cuUmVzaXplT2JzZXJ2ZXI7XG4gIH0oKTtcbn1cbmZ1bmN0aW9uIHVwZGF0ZVJlZk9ic2VydmVyKG9ic2VydmVyLCBvbGRUYXJnZXQsIHRhcmdldCwgb3B0aW9ucykge1xuICBpZiAoIW9ic2VydmVyKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGlmIChvbGRUYXJnZXQpIHtcbiAgICBvYnNlcnZlci51bm9ic2VydmUob2xkVGFyZ2V0KTtcbiAgfVxuICBpZiAoIXRhcmdldCkge1xuICAgIHJldHVybjtcbiAgfVxuICBpZiAob2JzZXJ2ZXIgaW5zdGFuY2VvZiBNdXRhdGlvbk9ic2VydmVyKSB7XG4gICAgb2JzZXJ2ZXIub2JzZXJ2ZSh0YXJnZXQsIG9wdGlvbnMpO1xuICAgIHJldHVybjtcbiAgfVxuICBvYnNlcnZlci5vYnNlcnZlKHRhcmdldCk7XG59XG5leHBvcnQge1xuICBjcmVhdGVPYnNlcnZlciBhcyBjLFxuICB1cGRhdGVSZWZPYnNlcnZlciBhcyB1XG59O1xuIiwiLyohIEFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9naXRodWIuY29tL0VzcmkvY2FsY2l0ZS1kZXNpZ24tc3lzdGVtL2Jsb2IvZGV2L0xJQ0VOU0UubWQgZm9yIGRldGFpbHMuXG52My4zLjMgKi9cbmltcG9ydCB7IHcgYXMgd2hlblRyYW5zaXRpb25Eb25lIH0gZnJvbSBcIi4vZG9tLmpzXCI7XG5mdW5jdGlvbiBpc09wZW4oY29tcG9uZW50KSB7XG4gIHJldHVybiBjb21wb25lbnRbY29tcG9uZW50Lm9wZW5Qcm9wIHx8IFwib3BlblwiXTtcbn1cbmFzeW5jIGZ1bmN0aW9uIHRvZ2dsZU9wZW5DbG9zZShjb21wb25lbnQpIHtcbiAgYXdhaXQgY29tcG9uZW50LnVwZGF0ZUNvbXBsZXRlO1xuICBpZiAoaXNPcGVuKGNvbXBvbmVudCkpIHtcbiAgICBjb21wb25lbnQub25CZWZvcmVPcGVuKCk7XG4gIH0gZWxzZSB7XG4gICAgY29tcG9uZW50Lm9uQmVmb3JlQ2xvc2UoKTtcbiAgfVxuICBhd2FpdCBjb21wb25lbnQudXBkYXRlQ29tcGxldGU7XG4gIGlmIChjb21wb25lbnQudHJhbnNpdGlvbkVsKSB7XG4gICAgYXdhaXQgd2hlblRyYW5zaXRpb25Eb25lKGNvbXBvbmVudC50cmFuc2l0aW9uRWwsIGNvbXBvbmVudC50cmFuc2l0aW9uUHJvcCk7XG4gIH1cbiAgaWYgKGlzT3Blbihjb21wb25lbnQpKSB7XG4gICAgY29tcG9uZW50Lm9uT3BlbigpO1xuICB9IGVsc2Uge1xuICAgIGNvbXBvbmVudC5vbkNsb3NlKCk7XG4gIH1cbn1cbmV4cG9ydCB7XG4gIHRvZ2dsZU9wZW5DbG9zZSBhcyB0XG59O1xuIiwiLyohIEFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9naXRodWIuY29tL0VzcmkvY2FsY2l0ZS1kZXNpZ24tc3lzdGVtL2Jsb2IvZGV2L0xJQ0VOU0UubWQgZm9yIGRldGFpbHMuXG52My4zLjMgKi9cbmNvbnN0IEtpbmRJY29ucyA9IHtcbiAgYnJhbmQ6IFwibGlnaHRidWxiXCIsXG4gIGRhbmdlcjogXCJleGNsYW1hdGlvbk1hcmtUcmlhbmdsZVwiLFxuICBpbmZvOiBcImluZm9ybWF0aW9uXCIsXG4gIHN1Y2Nlc3M6IFwiY2hlY2tDaXJjbGVcIixcbiAgd2FybmluZzogXCJleGNsYW1hdGlvbk1hcmtUcmlhbmdsZVwiXG59O1xuZXhwb3J0IHtcbiAgS2luZEljb25zIGFzIEtcbn07XG4iLCIvKiEgQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2dpdGh1Yi5jb20vRXNyaS9jYWxjaXRlLWRlc2lnbi1zeXN0ZW0vYmxvYi9kZXYvTElDRU5TRS5tZCBmb3IgZGV0YWlscy5cbnYzLjMuMyAqL1xuaW1wb3J0IHsgbWFrZUdlbmVyaWNDb250cm9sbGVyIH0gZnJvbSBcIkBhcmNnaXMvbHVtaW5hL2NvbnRyb2xsZXJzXCI7XG5pbXBvcnQgeyBjIGFzIGNvbXBvbmVudEZvY3VzYWJsZSB9IGZyb20gXCIuL2NvbXBvbmVudC5qc1wiO1xuaW1wb3J0IHsgayBhcyBnZXRSb290Tm9kZSwgYiBhcyBmb2N1c0VsZW1lbnQgfSBmcm9tIFwiLi9kb20uanNcIjtcbmNvbnN0IHVzZVNldEZvY3VzID0gKCkgPT4ge1xuICByZXR1cm4gbWFrZUdlbmVyaWNDb250cm9sbGVyKChjb21wb25lbnQsIGNvbnRyb2xsZXIpID0+IHtcbiAgICBsZXQgYWJvcnRDb250cm9sbGVyO1xuICAgIGZ1bmN0aW9uIGhhbmRsZUZvY3VzT3V0KCkge1xuICAgICAgYWJvcnRDb250cm9sbGVyPy5hYm9ydCgpO1xuICAgIH1cbiAgICBjb250cm9sbGVyLm9uTG9hZCgoKSA9PiB7XG4gICAgICBjb21wb25lbnQubGlzdGVuKFwiZm9jdXNcIiwgKCkgPT4ge1xuICAgICAgICBhYm9ydENvbnRyb2xsZXIgPSBuZXcgQWJvcnRDb250cm9sbGVyKCk7XG4gICAgICAgIGNvbXBvbmVudC5lbC5hZGRFdmVudExpc3RlbmVyKFwiZm9jdXNvdXRcIiwgaGFuZGxlRm9jdXNPdXQsIHsgc2lnbmFsOiBhYm9ydENvbnRyb2xsZXIuc2lnbmFsIH0pO1xuICAgICAgfSk7XG4gICAgfSk7XG4gICAgY29udHJvbGxlci5vbkRpc2Nvbm5lY3RlZCgoKSA9PiB7XG4gICAgICBjb21wb25lbnQuZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImZvY3Vzb3V0XCIsIGhhbmRsZUZvY3VzT3V0KTtcbiAgICB9KTtcbiAgICByZXR1cm4gYXN5bmMgKGdldEZvY3VzVGFyZ2V0LCBvcHRpb25zKSA9PiB7XG4gICAgICBpZiAoY29tcG9uZW50LmRpc2FibGVkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGZvY3VzQ29uZmlnID0gdG9Gb2N1c0NvbmZpZyhnZXRGb2N1c1RhcmdldCgpKTtcbiAgICAgIGlmICghZm9jdXNDb25maWcpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgeyB0YXJnZXQsIGluY2x1ZGVDb250YWluZXIsIHN0cmF0ZWd5IH0gPSBmb2N1c0NvbmZpZztcbiAgICAgIGNvbnN0IHJvb3ROb2RlID0gZ2V0Um9vdE5vZGUoY29tcG9uZW50LmVsKTtcbiAgICAgIGNvbnN0IGN1cnJlbnRBY3RpdmVFbGVtZW50ID0gcm9vdE5vZGUuYWN0aXZlRWxlbWVudDtcbiAgICAgIGF3YWl0IGNvbXBvbmVudEZvY3VzYWJsZShjb21wb25lbnQpO1xuICAgICAgY29uc3QgZm9jdXNBbHJlYWR5Q2hhbmdlZCA9IGN1cnJlbnRBY3RpdmVFbGVtZW50ICE9PSByb290Tm9kZS5hY3RpdmVFbGVtZW50O1xuICAgICAgaWYgKGZvY3VzQWxyZWFkeUNoYW5nZWQgfHwgYWJvcnRDb250cm9sbGVyICYmICFhYm9ydENvbnRyb2xsZXI/LnNpZ25hbC5hYm9ydGVkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbXBvbmVudC5lbC5yZW1vdmVFdmVudExpc3RlbmVyKFwiZm9jdXNcIiwgaGFuZGxlRm9jdXNPdXQpO1xuICAgICAgcmV0dXJuIGZvY3VzRWxlbWVudCh0YXJnZXQsIGluY2x1ZGVDb250YWluZXIsIHN0cmF0ZWd5LCBjb21wb25lbnQuZWwsIG9wdGlvbnMpO1xuICAgIH07XG4gIH0pO1xufTtcbmZ1bmN0aW9uIGlzRm9jdXNPdmVycmlkZShmb2N1c1RhcmdldCkge1xuICByZXR1cm4gXCJ0YXJnZXRcIiBpbiBmb2N1c1RhcmdldCAmJiAoXCJpbmNsdWRlQ29udGFpbmVyXCIgaW4gZm9jdXNUYXJnZXQgfHwgXCJzdHJhdGVneVwiIGluIGZvY3VzVGFyZ2V0KTtcbn1cbmZ1bmN0aW9uIHRvRm9jdXNDb25maWcoZm9jdXNUYXJnZXQpIHtcbiAgaWYgKCFmb2N1c1RhcmdldCkge1xuICAgIHJldHVybjtcbiAgfVxuICByZXR1cm4gaXNGb2N1c092ZXJyaWRlKGZvY3VzVGFyZ2V0KSA/IGZvY3VzVGFyZ2V0IDogeyB0YXJnZXQ6IGZvY3VzVGFyZ2V0IH07XG59XG5leHBvcnQge1xuICB1c2VTZXRGb2N1cyBhcyB1XG59O1xuIiwiLyohIEFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9naXRodWIuY29tL0VzcmkvY2FsY2l0ZS1kZXNpZ24tc3lzdGVtL2Jsb2IvZGV2L0xJQ0VOU0UubWQgZm9yIGRldGFpbHMuXG52My4zLjMgKi9cbmltcG9ydCB7IG1ha2VUOW5Db250cm9sbGVyIH0gZnJvbSBcIkBhcmNnaXMvbHVtaW5hL2NvbnRyb2xsZXJzXCI7XG5pbXBvcnQgeyBnIGFzIGdldEFzc2V0UGF0aCB9IGZyb20gXCIuL3J1bnRpbWUuanNcIjtcbmNvbnN0IHVzZVQ5biA9IG1ha2VUOW5Db250cm9sbGVyKGdldEFzc2V0UGF0aCk7XG5leHBvcnQge1xuICB1c2VUOW4gYXMgdVxufTtcbiIsIi8qISBBbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9Fc3JpL2NhbGNpdGUtZGVzaWduLXN5c3RlbS9ibG9iL2Rldi9MSUNFTlNFLm1kIGZvciBkZXRhaWxzLlxudjMuMy4zICovXG5pbXBvcnQgeyBnIGFzIGdldEFzc2V0UGF0aCwgYyBhcyBjdXN0b21FbGVtZW50IH0gZnJvbSBcIi4uLy4uL2NodW5rcy9ydW50aW1lLmpzXCI7XG5pbXBvcnQgeyBjc3MsIGlzU2VydmVyLCBub3RoaW5nLCBzdmcsIGh0bWwgfSBmcm9tIFwibGl0XCI7XG5pbXBvcnQgeyBMaXRFbGVtZW50LCBzYWZlQ2xhc3NNYXAgfSBmcm9tIFwiQGFyY2dpcy9sdW1pbmFcIjtcbmltcG9ydCB7IGcgYXMgZ2V0RWxlbWVudERpciwgdCBhcyB0b0FyaWFCb29sZWFuIH0gZnJvbSBcIi4uLy4uL2NodW5rcy9kb20uanNcIjtcbmltcG9ydCB7IGMgYXMgY3JlYXRlT2JzZXJ2ZXIgfSBmcm9tIFwiLi4vLi4vY2h1bmtzL29ic2VydmVycy5qc1wiO1xuaW1wb3J0IHsgbCBhcyBsb2dnZXIgfSBmcm9tIFwiLi4vLi4vY2h1bmtzL2xvZ2dlci5qc1wiO1xuY29uc3QgQ1NTID0ge1xuICBmbGlwUnRsOiBcImZsaXAtcnRsXCIsXG4gIHN2ZzogXCJzdmdcIlxufTtcbmNvbnN0IGljb25DYWNoZSA9IHt9O1xuY29uc3QgcmVxdWVzdENhY2hlID0ge307XG5jb25zdCBzY2FsZVRvUHggPSB7XG4gIHM6IDE2LFxuICBtOiAyNCxcbiAgbDogMzJcbn07XG5mdW5jdGlvbiBnZW5lcmF0ZUljb25JZCh7IGljb24sIHNjYWxlIH0pIHtcbiAgY29uc3Qgc2l6ZSA9IHNjYWxlVG9QeFtzY2FsZV07XG4gIGNvbnN0IG5hbWUgPSBub3JtYWxpemVJY29uTmFtZShpY29uKTtcbiAgY29uc3QgZmlsbGVkID0gbmFtZS5jaGFyQXQobmFtZS5sZW5ndGggLSAxKSA9PT0gXCJGXCI7XG4gIGNvbnN0IGljb25OYW1lID0gZmlsbGVkID8gbmFtZS5zdWJzdHJpbmcoMCwgbmFtZS5sZW5ndGggLSAxKSA6IG5hbWU7XG4gIHJldHVybiBgJHtpY29uTmFtZX0ke3NpemV9JHtmaWxsZWQgPyBcIkZcIiA6IFwiXCJ9YDtcbn1cbmFzeW5jIGZ1bmN0aW9uIGZldGNoSWNvbihwcm9wcykge1xuICBjb25zdCBjYWNoZWRJY29uS2V5ID0gZ2VuZXJhdGVJY29uSWQocHJvcHMpO1xuICBjb25zdCBjYWNoZWRJY29uRGF0YSA9IGdldENhY2hlZEljb25EYXRhQnlLZXkoY2FjaGVkSWNvbktleSk7XG4gIGlmIChjYWNoZWRJY29uRGF0YSkge1xuICAgIHJldHVybiBjYWNoZWRJY29uRGF0YTtcbiAgfVxuICBpZiAoIXJlcXVlc3RDYWNoZVtjYWNoZWRJY29uS2V5XSkge1xuICAgIHJlcXVlc3RDYWNoZVtjYWNoZWRJY29uS2V5XSA9IGZldGNoKGdldEFzc2V0UGF0aChgLi9hc3NldHMvaWNvbi8ke2NhY2hlZEljb25LZXl9Lmpzb25gKSkudGhlbigocmVzcCkgPT4gcmVzcC5qc29uKCkpLmNhdGNoKCgpID0+IHtcbiAgICAgIGxvZ2dlci5lcnJvcihgJHtwcm9wcy5pY29ufSAoJHtwcm9wcy5zY2FsZX0pIGljb24gZmFpbGVkIHRvIGxvYWRgKTtcbiAgICAgIHJldHVybiBcIlwiO1xuICAgIH0pO1xuICB9XG4gIGNvbnN0IHBhdGggPSBhd2FpdCByZXF1ZXN0Q2FjaGVbY2FjaGVkSWNvbktleV07XG4gIGljb25DYWNoZVtjYWNoZWRJY29uS2V5XSA9IHBhdGg7XG4gIHJldHVybiBwYXRoO1xufVxuZnVuY3Rpb24gZ2V0Q2FjaGVkSWNvbkRhdGEocHJvcHMpIHtcbiAgcmV0dXJuIGdldENhY2hlZEljb25EYXRhQnlLZXkoZ2VuZXJhdGVJY29uSWQocHJvcHMpKTtcbn1cbmZ1bmN0aW9uIGdldENhY2hlZEljb25EYXRhQnlLZXkoaWQpIHtcbiAgcmV0dXJuIGljb25DYWNoZVtpZF07XG59XG5mdW5jdGlvbiBub3JtYWxpemVJY29uTmFtZShuYW1lKSB7XG4gIGNvbnN0IG51bWJlckxlYWRpbmdOYW1lID0gIWlzTmFOKE51bWJlcihuYW1lLmNoYXJBdCgwKSkpO1xuICBjb25zdCBwYXJ0cyA9IG5hbWUuc3BsaXQoXCItXCIpO1xuICBjb25zdCBrZWJhYkNhc2VkID0gcGFydHMubGVuZ3RoID4gMDtcbiAgaWYgKGtlYmFiQ2FzZWQpIHtcbiAgICBjb25zdCBmaXJzdE5vbkRpZ2l0SW5QYXJ0UGF0dGVybiA9IC9bYS16XS9pO1xuICAgIG5hbWUgPSBwYXJ0cy5tYXAoKHBhcnQsIHBhcnRJbmRleCkgPT4ge1xuICAgICAgcmV0dXJuIHBhcnQucmVwbGFjZShmaXJzdE5vbkRpZ2l0SW5QYXJ0UGF0dGVybiwgZnVuY3Rpb24gcmVwbGFjZXIobWF0Y2gsIG9mZnNldCkge1xuICAgICAgICBjb25zdCBpc0ZpcnN0Q2hhckluTmFtZSA9IHBhcnRJbmRleCA9PT0gMCAmJiBvZmZzZXQgPT09IDA7XG4gICAgICAgIGlmIChpc0ZpcnN0Q2hhckluTmFtZSkge1xuICAgICAgICAgIHJldHVybiBtYXRjaDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWF0Y2gudG9VcHBlckNhc2UoKTtcbiAgICAgIH0pO1xuICAgIH0pLmpvaW4oXCJcIik7XG4gIH1cbiAgcmV0dXJuIG51bWJlckxlYWRpbmdOYW1lID8gYGkke25hbWV9YCA6IG5hbWU7XG59XG5jb25zdCBzdHlsZXMgPSBjc3NgOmhvc3R7LS1jYWxjaXRlLWludGVybmFsLWNvbG9yLWZvY3VzOiB2YXIoIC0tY2FsY2l0ZS1jb2xvci1mb2N1cywgdmFyKC0tY2FsY2l0ZS11aS1mb2N1cy1jb2xvciwgdmFyKC0tY2FsY2l0ZS1jb2xvci1icmFuZCkpICl9Omhvc3R7ZGlzcGxheTppbmxpbmUtZmxleDtjb2xvcjp2YXIoLS1jYWxjaXRlLWljb24tY29sb3IsIHZhcigtLWNhbGNpdGUtdWktaWNvbi1jb2xvciwgY3VycmVudENvbG9yKSl9Omhvc3QoW3NjYWxlPXNdKXtpbmxpbmUtc2l6ZToxNnB4O2Jsb2NrLXNpemU6MTZweDttaW4taW5saW5lLXNpemU6MTZweDttaW4tYmxvY2stc2l6ZToxNnB4fTpob3N0KFtzY2FsZT1tXSl7aW5saW5lLXNpemU6MjRweDtibG9jay1zaXplOjI0cHg7bWluLWlubGluZS1zaXplOjI0cHg7bWluLWJsb2NrLXNpemU6MjRweH06aG9zdChbc2NhbGU9bF0pe2lubGluZS1zaXplOjMycHg7YmxvY2stc2l6ZTozMnB4O21pbi1pbmxpbmUtc2l6ZTozMnB4O21pbi1ibG9jay1zaXplOjMycHh9LmZsaXAtcnRse3RyYW5zZm9ybTpzY2FsZVgoLTEpfS5zdmd7ZGlzcGxheTpibG9ja306aG9zdChbaGlkZGVuXSl7ZGlzcGxheTpub25lfVtoaWRkZW5de2Rpc3BsYXk6bm9uZX1gO1xuY2xhc3MgSWNvbiBleHRlbmRzIExpdEVsZW1lbnQge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgIHRoaXMudmlzaWJsZSA9IGZhbHNlO1xuICAgIHRoaXMuZmxpcFJ0bCA9IGZhbHNlO1xuICAgIHRoaXMuaWNvbiA9IG51bGw7XG4gICAgdGhpcy5wcmVsb2FkID0gZmFsc2U7XG4gICAgdGhpcy5zY2FsZSA9IFwibVwiO1xuICB9XG4gIHN0YXRpYyB7XG4gICAgdGhpcy5wcm9wZXJ0aWVzID0geyBwYXRoRGF0YTogWzE2LCB7fSwgeyBzdGF0ZTogdHJ1ZSB9XSwgdmlzaWJsZTogWzE2LCB7fSwgeyBzdGF0ZTogdHJ1ZSB9XSwgZmxpcFJ0bDogWzcsIHt9LCB7IHJlZmxlY3Q6IHRydWUsIHR5cGU6IEJvb2xlYW4gfV0sIGljb246IFszLCB7fSwgeyByZWZsZWN0OiB0cnVlIH1dLCBwcmVsb2FkOiBbNywge30sIHsgcmVmbGVjdDogdHJ1ZSwgdHlwZTogQm9vbGVhbiB9XSwgc2NhbGU6IFszLCB7fSwgeyByZWZsZWN0OiB0cnVlIH1dLCB0ZXh0TGFiZWw6IDEgfTtcbiAgfVxuICBzdGF0aWMge1xuICAgIHRoaXMuc3R5bGVzID0gc3R5bGVzO1xuICB9XG4gIGNvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgIHN1cGVyLmNvbm5lY3RlZENhbGxiYWNrKCk7XG4gICAgaWYgKHRoaXMucHJlbG9hZCkge1xuICAgICAgdGhpcy52aXNpYmxlID0gdHJ1ZTtcbiAgICAgIHRoaXMubG9hZEljb25QYXRoRGF0YSgpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoIXRoaXMudmlzaWJsZSkge1xuICAgICAgdGhpcy53YWl0VW50aWxWaXNpYmxlKCgpID0+IHtcbiAgICAgICAgdGhpcy52aXNpYmxlID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5sb2FkSWNvblBhdGhEYXRhKCk7XG4gICAgICB9KTtcbiAgICB9XG4gIH1cbiAgd2lsbFVwZGF0ZShjaGFuZ2VzKSB7XG4gICAgaWYgKGNoYW5nZXMuaGFzKFwiaWNvblwiKSAmJiAodGhpcy5oYXNVcGRhdGVkIHx8IHRoaXMuaWNvbiAhPT0gbnVsbCkgfHwgY2hhbmdlcy5oYXMoXCJzY2FsZVwiKSAmJiAodGhpcy5oYXNVcGRhdGVkIHx8IHRoaXMuc2NhbGUgIT09IFwibVwiKSkge1xuICAgICAgdGhpcy5sb2FkSWNvblBhdGhEYXRhKCk7XG4gICAgfVxuICB9XG4gIGRpc2Nvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgIHN1cGVyLmRpc2Nvbm5lY3RlZENhbGxiYWNrKCk7XG4gICAgdGhpcy5pbnRlcnNlY3Rpb25PYnNlcnZlcj8uZGlzY29ubmVjdCgpO1xuICAgIHRoaXMuaW50ZXJzZWN0aW9uT2JzZXJ2ZXIgPSBudWxsO1xuICB9XG4gIGFzeW5jIGxvYWRJY29uUGF0aERhdGEoKSB7XG4gICAgY29uc3QgeyBpY29uLCBzY2FsZSwgdmlzaWJsZSB9ID0gdGhpcztcbiAgICBpZiAoaXNTZXJ2ZXIgfHwgIWljb24gfHwgIXZpc2libGUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgZmV0Y2hJY29uUHJvcHMgPSB7IGljb24sIHNjYWxlIH07XG4gICAgY29uc3QgcGF0aERhdGEgPSBnZXRDYWNoZWRJY29uRGF0YShmZXRjaEljb25Qcm9wcykgfHwgYXdhaXQgZmV0Y2hJY29uKGZldGNoSWNvblByb3BzKTtcbiAgICBpZiAoaWNvbiAhPT0gdGhpcy5pY29uKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMucGF0aERhdGEgPSBwYXRoRGF0YTtcbiAgfVxuICB3YWl0VW50aWxWaXNpYmxlKGNhbGxiYWNrKSB7XG4gICAgdGhpcy5pbnRlcnNlY3Rpb25PYnNlcnZlciA9IGNyZWF0ZU9ic2VydmVyKFwiaW50ZXJzZWN0aW9uXCIsIChlbnRyaWVzKSA9PiB7XG4gICAgICBlbnRyaWVzLmZvckVhY2goKGVudHJ5KSA9PiB7XG4gICAgICAgIGlmIChlbnRyeS5pc0ludGVyc2VjdGluZykge1xuICAgICAgICAgIHRoaXMuaW50ZXJzZWN0aW9uT2JzZXJ2ZXIuZGlzY29ubmVjdCgpO1xuICAgICAgICAgIHRoaXMuaW50ZXJzZWN0aW9uT2JzZXJ2ZXIgPSBudWxsO1xuICAgICAgICAgIGNhbGxiYWNrKCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0sIHsgcm9vdE1hcmdpbjogXCI1MHB4XCIgfSk7XG4gICAgaWYgKCF0aGlzLmludGVyc2VjdGlvbk9ic2VydmVyKSB7XG4gICAgICBjYWxsYmFjaygpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLmludGVyc2VjdGlvbk9ic2VydmVyLm9ic2VydmUodGhpcy5lbCk7XG4gIH1cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHsgZWwsIGZsaXBSdGwsIHBhdGhEYXRhLCBzY2FsZSwgdGV4dExhYmVsIH0gPSB0aGlzO1xuICAgIGNvbnN0IGRpciA9IGdldEVsZW1lbnREaXIoZWwpO1xuICAgIGNvbnN0IHNpemUgPSBzY2FsZVRvUHhbc2NhbGVdO1xuICAgIGNvbnN0IHNlbWFudGljID0gISF0ZXh0TGFiZWw7XG4gICAgY29uc3QgcGF0aHMgPSBbXS5jb25jYXQocGF0aERhdGEgfHwgXCJcIik7XG4gICAgdGhpcy5lbC5hcmlhSGlkZGVuID0gdG9BcmlhQm9vbGVhbighc2VtYW50aWMpO1xuICAgIHRoaXMuZWwuYXJpYUxhYmVsID0gc2VtYW50aWMgPyB0ZXh0TGFiZWwgOiBudWxsO1xuICAgIHRoaXMuZWwucm9sZSA9IHNlbWFudGljID8gXCJpbWdcIiA6IG51bGw7XG4gICAgcmV0dXJuIGh0bWxgPHN2ZyBhcmlhLWhpZGRlbj10cnVlIGNsYXNzPSR7c2FmZUNsYXNzTWFwKHtcbiAgICAgIFtDU1MuZmxpcFJ0bF06IGRpciA9PT0gXCJydGxcIiAmJiBmbGlwUnRsLFxuICAgICAgW0NTUy5zdmddOiB0cnVlXG4gICAgfSl9IGZpbGw9Y3VycmVudENvbG9yIGhlaWdodD0xMDAlIHZpZXdCb3g9JHtgMCAwICR7c2l6ZX0gJHtzaXplfWB9IHdpZHRoPTEwMCUgeG1sbnM9aHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmc+JHtwYXRocy5tYXAoKHBhdGgpID0+IHR5cGVvZiBwYXRoID09PSBcInN0cmluZ1wiID8gc3ZnYDxwYXRoIGQ9JHtwYXRoID8/IG5vdGhpbmd9IC8+YCA6IHN2Z2A8cGF0aCBkPSR7cGF0aC5kID8/IG5vdGhpbmd9IG9wYWNpdHk9JHsoXCJvcGFjaXR5XCIgaW4gcGF0aCA/IHBhdGgub3BhY2l0eSA6IDEpID8/IG5vdGhpbmd9IC8+YCl9PC9zdmc+YDtcbiAgfVxufVxuY3VzdG9tRWxlbWVudChcImNhbGNpdGUtaWNvblwiLCBJY29uKTtcbmV4cG9ydCB7XG4gIEljb25cbn07XG4iLCIvKiEgQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2dpdGh1Yi5jb20vRXNyaS9jYWxjaXRlLWRlc2lnbi1zeXN0ZW0vYmxvYi9kZXYvTElDRU5TRS5tZCBmb3IgZGV0YWlscy5cbnYzLjMuMyAqL1xuaW1wb3J0IHsgYyBhcyBjdXN0b21FbGVtZW50IH0gZnJvbSBcIi4uLy4uL2NodW5rcy9ydW50aW1lLmpzXCI7XG5pbXBvcnQgeyBjc3MsIGh0bWwgfSBmcm9tIFwibGl0XCI7XG5pbXBvcnQgeyBjcmVhdGVSZWYsIHJlZiB9IGZyb20gXCJsaXQtaHRtbC9kaXJlY3RpdmVzL3JlZi5qc1wiO1xuaW1wb3J0IHsgTGl0RWxlbWVudCwgY3JlYXRlRXZlbnQsIHN0cmluZ09yQm9vbGVhbiwgc2FmZUNsYXNzTWFwIH0gZnJvbSBcIkBhcmNnaXMvbHVtaW5hXCI7XG5pbXBvcnQgeyB2IGFzIHNldFJlcXVlc3RlZEljb24sIGEgYXMgc2xvdENoYW5nZUhhc0Fzc2lnbmVkRWxlbWVudCB9IGZyb20gXCIuLi8uLi9jaHVua3MvZG9tLmpzXCI7XG5pbXBvcnQgeyBLIGFzIEtpbmRJY29ucyB9IGZyb20gXCIuLi8uLi9jaHVua3MvcmVzb3VyY2VzNC5qc1wiO1xuaW1wb3J0IHsgdCBhcyB0b2dnbGVPcGVuQ2xvc2UgfSBmcm9tIFwiLi4vLi4vY2h1bmtzL29wZW5DbG9zZUNvbXBvbmVudC5qc1wiO1xuaW1wb3J0IHsgZyBhcyBnZXRJY29uU2NhbGUgfSBmcm9tIFwiLi4vLi4vY2h1bmtzL2NvbXBvbmVudC5qc1wiO1xuaW1wb3J0IHsgdSBhcyB1c2VUOW4gfSBmcm9tIFwiLi4vLi4vY2h1bmtzL3VzZVQ5bi5qc1wiO1xuaW1wb3J0IHsgdSBhcyB1c2VTZXRGb2N1cyB9IGZyb20gXCIuLi8uLi9jaHVua3MvdXNlU2V0Rm9jdXMuanNcIjtcbmNvbnN0IFNMT1RTID0ge1xuICB0aXRsZTogXCJ0aXRsZVwiLFxuICBtZXNzYWdlOiBcIm1lc3NhZ2VcIixcbiAgbGluazogXCJsaW5rXCIsXG4gIGFjdGlvbnNFbmQ6IFwiYWN0aW9ucy1lbmRcIlxufTtcbmNvbnN0IENTUyA9IHtcbiAgYWN0aW9uc0VuZDogXCJhY3Rpb25zLWVuZFwiLFxuICBjbG9zZTogXCJub3RpY2UtY2xvc2VcIixcbiAgY29udGFpbmVyOiBcImNvbnRhaW5lclwiLFxuICBjb250ZW50OiBcIm5vdGljZS1jb250ZW50XCIsXG4gIGljb246IFwibm90aWNlLWljb25cIlxufTtcbmNvbnN0IHN0eWxlcyA9IGNzc2A6aG9zdHstLWNhbGNpdGUtaW50ZXJuYWwtY29sb3ItZm9jdXM6IHZhciggLS1jYWxjaXRlLWNvbG9yLWZvY3VzLCB2YXIoLS1jYWxjaXRlLXVpLWZvY3VzLWNvbG9yLCB2YXIoLS1jYWxjaXRlLWNvbG9yLWJyYW5kKSkgKX06aG9zdChbc2NhbGU9c10pey0tY2FsY2l0ZS1ub3RpY2Utc3BhY2luZy10b2tlbi1zbWFsbDogLjVyZW07LS1jYWxjaXRlLW5vdGljZS1zcGFjaW5nLXRva2VuLWxhcmdlOiAuNzVyZW19Omhvc3QoW3NjYWxlPXNdKSAuY29udGFpbmVyIHNsb3RbbmFtZT10aXRsZV06OnNsb3R0ZWQoKiksOmhvc3QoW3NjYWxlPXNdKSAuY29udGFpbmVyICo6OnNsb3R0ZWQoW3Nsb3Q9dGl0bGVdKXttYXJnaW4tYmxvY2s6LjEyNXJlbTtmb250LXNpemU6dmFyKC0tY2FsY2l0ZS1mb250LXNpemUtLTEpO2xpbmUtaGVpZ2h0OjEuMzc1fTpob3N0KFtzY2FsZT1zXSkgLmNvbnRhaW5lciBzbG90W25hbWU9bWVzc2FnZV06OnNsb3R0ZWQoKiksOmhvc3QoW3NjYWxlPXNdKSAuY29udGFpbmVyICo6OnNsb3R0ZWQoW3Nsb3Q9bWVzc2FnZV0pe21hcmdpbi1ibG9jazouMTI1cmVtO2ZvbnQtc2l6ZTp2YXIoLS1jYWxjaXRlLWZvbnQtc2l6ZS0tMik7bGluZS1oZWlnaHQ6MS4zNzV9Omhvc3QoW3NjYWxlPXNdKSA6OnNsb3R0ZWQoY2FsY2l0ZS1saW5rKXttYXJnaW4tYmxvY2s6LjEyNXJlbTtmb250LXNpemU6dmFyKC0tY2FsY2l0ZS1mb250LXNpemUtLTIpO2xpbmUtaGVpZ2h0OjEuMzc1fTpob3N0KFtzY2FsZT1zXSkgLm5vdGljZS1jbG9zZXtwYWRkaW5nOi41cmVtfTpob3N0KFtzY2FsZT1tXSl7LS1jYWxjaXRlLW5vdGljZS1zcGFjaW5nLXRva2VuLXNtYWxsOiAuNzVyZW07LS1jYWxjaXRlLW5vdGljZS1zcGFjaW5nLXRva2VuLWxhcmdlOiAxcmVtfTpob3N0KFtzY2FsZT1tXSkgLmNvbnRhaW5lciBzbG90W25hbWU9dGl0bGVdOjpzbG90dGVkKCopLDpob3N0KFtzY2FsZT1tXSkgLmNvbnRhaW5lciAqOjpzbG90dGVkKFtzbG90PXRpdGxlXSl7bWFyZ2luLWJsb2NrOi4xMjVyZW07Zm9udC1zaXplOnZhcigtLWNhbGNpdGUtZm9udC1zaXplLTApO2xpbmUtaGVpZ2h0OjEuMzc1fTpob3N0KFtzY2FsZT1tXSkgLmNvbnRhaW5lciBzbG90W25hbWU9bWVzc2FnZV06OnNsb3R0ZWQoKiksOmhvc3QoW3NjYWxlPW1dKSAuY29udGFpbmVyICo6OnNsb3R0ZWQoW3Nsb3Q9bWVzc2FnZV0pe21hcmdpbi1ibG9jazouMTI1cmVtO2ZvbnQtc2l6ZTp2YXIoLS1jYWxjaXRlLWZvbnQtc2l6ZS0tMSk7bGluZS1oZWlnaHQ6MS4zNzV9Omhvc3QoW3NjYWxlPW1dKSA6OnNsb3R0ZWQoY2FsY2l0ZS1saW5rKXttYXJnaW4tYmxvY2s6LjEyNXJlbTtmb250LXNpemU6dmFyKC0tY2FsY2l0ZS1mb250LXNpemUtLTEpO2xpbmUtaGVpZ2h0OjEuMzc1fTpob3N0KFtzY2FsZT1sXSl7LS1jYWxjaXRlLW5vdGljZS1zcGFjaW5nLXRva2VuLXNtYWxsOiAxcmVtOy0tY2FsY2l0ZS1ub3RpY2Utc3BhY2luZy10b2tlbi1sYXJnZTogMS4yNXJlbX06aG9zdChbc2NhbGU9bF0pIC5jb250YWluZXIgc2xvdFtuYW1lPXRpdGxlXTo6c2xvdHRlZCgqKSw6aG9zdChbc2NhbGU9bF0pIC5jb250YWluZXIgKjo6c2xvdHRlZChbc2xvdD10aXRsZV0pe21hcmdpbi1ibG9jazouMTI1cmVtO2ZvbnQtc2l6ZTp2YXIoLS1jYWxjaXRlLWZvbnQtc2l6ZS0xKTtsaW5lLWhlaWdodDoxLjM3NX06aG9zdChbc2NhbGU9bF0pIC5jb250YWluZXIgc2xvdFtuYW1lPW1lc3NhZ2VdOjpzbG90dGVkKCopLDpob3N0KFtzY2FsZT1sXSkgLmNvbnRhaW5lciAqOjpzbG90dGVkKFtzbG90PW1lc3NhZ2VdKXttYXJnaW4tYmxvY2s6LjEyNXJlbTtmb250LXNpemU6dmFyKC0tY2FsY2l0ZS1mb250LXNpemUtMCk7bGluZS1oZWlnaHQ6MS4zNzV9Omhvc3QoW3NjYWxlPWxdKSA6OnNsb3R0ZWQoY2FsY2l0ZS1saW5rKXttYXJnaW4tYmxvY2s6LjEyNXJlbTtmb250LXNpemU6dmFyKC0tY2FsY2l0ZS1mb250LXNpemUtMCk7bGluZS1oZWlnaHQ6MS4zNzV9Omhvc3QoW3dpZHRoPWF1dG9dKXstLWNhbGNpdGUtbm90aWNlLXdpZHRoOiBhdXRvfTpob3N0KFt3aWR0aD1oYWxmXSl7LS1jYWxjaXRlLW5vdGljZS13aWR0aDogNTAlfTpob3N0KFt3aWR0aD1mdWxsXSl7LS1jYWxjaXRlLW5vdGljZS13aWR0aDogMTAwJX06aG9zdHttYXJnaW4taW5saW5lOmF1dG87ZGlzcGxheTpub25lO21heC1pbmxpbmUtc2l6ZToxMDAlO2FsaWduLWl0ZW1zOmNlbnRlcjtpbmxpbmUtc2l6ZTp2YXIoLS1jYWxjaXRlLW5vdGljZS13aWR0aCl9LmNvbnRhaW5lcntwb2ludGVyLWV2ZW50czpub25lO21hcmdpbi1ibG9jazowcHg7Ym94LXNpemluZzpib3JkZXItYm94O2Rpc3BsYXk6ZmxleDtpbmxpbmUtc2l6ZToxMDAlO29wYWNpdHk6MDtvdmVyZmxvdzpoaWRkZW47bWF4LWJsb2NrLXNpemU6MDt0cmFuc2l0aW9uLXByb3BlcnR5Om9wYWNpdHksbWF4LWJsb2NrLXNpemU7dHJhbnNpdGlvbi1kdXJhdGlvbjp2YXIoLS1jYWxjaXRlLWFuaW1hdGlvbi10aW1pbmcpO3RleHQtYWxpZ246c3RhcnQ7Ym9yZGVyLWlubGluZS1zdGFydDp2YXIoLS1jYWxjaXRlLWJvcmRlci13aWR0aC1tZCkgc29saWQ7Ym94LXNoYWRvdzowIDAgMCAwIHRyYW5zcGFyZW50O2JhY2tncm91bmQtY29sb3I6dmFyKC0tY2FsY2l0ZS1ub3RpY2UtYmFja2dyb3VuZC1jb2xvciwgdmFyKC0tY2FsY2l0ZS1jb2xvci1mb3JlZ3JvdW5kLTEpKX0ubm90aWNlLWNsb3Nle291dGxpbmUtY29sb3I6dHJhbnNwYXJlbnR9Lm5vdGljZS1jbG9zZTpmb2N1c3tvdXRsaW5lOnZhcigtLWNhbGNpdGUtYm9yZGVyLXdpZHRoLW1kKSBzb2xpZCB2YXIoLS1jYWxjaXRlLWNvbG9yLWZvY3VzLCB2YXIoLS1jYWxjaXRlLXVpLWZvY3VzLWNvbG9yLCB2YXIoLS1jYWxjaXRlLWNvbG9yLWJyYW5kKSkpO291dGxpbmU6dmFyKC0tY2FsY2l0ZS1ib3JkZXItd2lkdGgtbWQpIHNvbGlkIHZhcigtLWNhbGNpdGUtaW50ZXJuYWwtY29sb3ItZm9jdXMpO291dGxpbmUtb2Zmc2V0OmNhbGMoY2FsYygtMSAqIHZhcigtLWNhbGNpdGUtc3BhY2luZy1iYXNlKSkgKiBjYWxjKDEgLSAoMipjbGFtcCgwLHZhcigtLWNhbGNpdGUtb2Zmc2V0LWludmVydC1mb2N1cyksMSkpKSl9Omhvc3R7ZGlzcGxheTpmbGV4fTpob3N0KFtvcGVuXSkgLmNvbnRhaW5lcntwb2ludGVyLWV2ZW50czphdXRvO21heC1ibG9jay1zaXplOjEwMCU7YWxpZ24taXRlbXM6Y2VudGVyO29wYWNpdHk6MTstLXR3LXNoYWRvdzogMCA0cHggOHB4IC0xcHggcmdiYSgwLCAwLCAwLCAuMDgpLCAwIDJweCA0cHggLTFweCByZ2JhKDAsIDAsIDAsIC4wNCk7LS10dy1zaGFkb3ctY29sb3JlZDogMCA0cHggOHB4IC0xcHggdmFyKC0tdHctc2hhZG93LWNvbG9yKSwgMCAycHggNHB4IC0xcHggdmFyKC0tdHctc2hhZG93LWNvbG9yKTtib3gtc2hhZG93OnZhcigtLXR3LXJpbmctb2Zmc2V0LXNoYWRvdywgMCAwICMwMDAwKSx2YXIoLS10dy1yaW5nLXNoYWRvdywgMCAwICMwMDAwKSx2YXIoLS10dy1zaGFkb3cpO292ZXJmbG93OnZpc2libGV9LmNvbnRhaW5lciBzbG90W25hbWU9dGl0bGVdOjpzbG90dGVkKCopLC5jb250YWluZXIgKjo6c2xvdHRlZChbc2xvdD10aXRsZV0pe21hcmdpbjowO2ZvbnQtd2VpZ2h0OnZhcigtLWNhbGNpdGUtZm9udC13ZWlnaHQtbWVkaXVtKTtjb2xvcjp2YXIoLS1jYWxjaXRlLW5vdGljZS10aXRsZS10ZXh0LWNvbG9yLCB2YXIoLS1jYWxjaXRlLWNvbG9yLXRleHQtMSkpfS5jb250YWluZXIgc2xvdFtuYW1lPW1lc3NhZ2VdOjpzbG90dGVkKCopLC5jb250YWluZXIgKjo6c2xvdHRlZChbc2xvdD1tZXNzYWdlXSl7bWFyZ2luOjA7ZGlzcGxheTppbmxpbmU7Zm9udC13ZWlnaHQ6dmFyKC0tY2FsY2l0ZS1mb250LXdlaWdodC1ub3JtYWwpO21hcmdpbi1pbmxpbmUtZW5kOnZhcigtLWNhbGNpdGUtbm90aWNlLXNwYWNpbmctdG9rZW4tc21hbGwpO2NvbG9yOnZhcigtLWNhbGNpdGUtbm90aWNlLWNvbnRlbnQtdGV4dC1jb2xvciwgdmFyKC0tY2FsY2l0ZS1jb2xvci10ZXh0LTIpKX0ubm90aWNlLWNvbnRlbnR7Ym94LXNpemluZzpib3JkZXItYm94O3RyYW5zaXRpb24tcHJvcGVydHk6YmFja2dyb3VuZC1jb2xvcixibG9jay1zaXplLGJvcmRlci1jb2xvcixib3gtc2hhZG93LGNvbG9yLGluc2V0LWJsb2NrLWVuZCxpbnNldC1ibG9jay1zdGFydCxpbnNldC1pbmxpbmUtZW5kLGluc2V0LWlubGluZS1zdGFydCxpbnNldC1zaXplLG9wYWNpdHksb3V0bGluZS1jb2xvcix0cmFuc2Zvcm07dHJhbnNpdGlvbi1kdXJhdGlvbjp2YXIoLS1jYWxjaXRlLWFuaW1hdGlvbi10aW1pbmcpO3RyYW5zaXRpb24tdGltaW5nLWZ1bmN0aW9uOmVhc2UtaW4tb3V0O3BhZGRpbmctaW5saW5lOnZhcigtLWNhbGNpdGUtbm90aWNlLXNwYWNpbmctdG9rZW4tbGFyZ2UpO2ZsZXg6MCAwIGF1dG87ZGlzcGxheTpmbGV4O21pbi1pbmxpbmUtc2l6ZTowcHg7ZmxleC1kaXJlY3Rpb246Y29sdW1uO292ZXJmbG93LXdyYXA6YnJlYWstd29yZDtmbGV4OjEgMSAwO3BhZGRpbmctYmxvY2s6dmFyKC0tY2FsY2l0ZS1ub3RpY2Utc3BhY2luZy10b2tlbi1zbWFsbCk7cGFkZGluZy1pbmxpbmU6MCB2YXIoLS1jYWxjaXRlLW5vdGljZS1zcGFjaW5nLXRva2VuLXNtYWxsKX0ubm90aWNlLWNvbnRlbnQ6Zmlyc3Qtb2YtdHlwZTpub3QoOm9ubHktY2hpbGQpe3BhZGRpbmctaW5saW5lLXN0YXJ0OnZhcigtLWNhbGNpdGUtbm90aWNlLXNwYWNpbmctdG9rZW4tbGFyZ2UpfS5ub3RpY2UtY29udGVudDpvbmx5LW9mLXR5cGV7cGFkZGluZy1ibG9jazp2YXIoLS1jYWxjaXRlLW5vdGljZS1zcGFjaW5nLXRva2VuLXNtYWxsKTtwYWRkaW5nLWlubGluZTp2YXIoLS1jYWxjaXRlLW5vdGljZS1zcGFjaW5nLXRva2VuLWxhcmdlKX0ubm90aWNlLWljb257ZGlzcGxheTpmbGV4O2FsaWduLWl0ZW1zOmNlbnRlcjtib3gtc2l6aW5nOmJvcmRlci1ib3g7dHJhbnNpdGlvbi1wcm9wZXJ0eTpiYWNrZ3JvdW5kLWNvbG9yLGJsb2NrLXNpemUsYm9yZGVyLWNvbG9yLGJveC1zaGFkb3csY29sb3IsaW5zZXQtYmxvY2stZW5kLGluc2V0LWJsb2NrLXN0YXJ0LGluc2V0LWlubGluZS1lbmQsaW5zZXQtaW5saW5lLXN0YXJ0LGluc2V0LXNpemUsb3BhY2l0eSxvdXRsaW5lLWNvbG9yLHRyYW5zZm9ybTt0cmFuc2l0aW9uLWR1cmF0aW9uOnZhcigtLWNhbGNpdGUtYW5pbWF0aW9uLXRpbWluZyk7dHJhbnNpdGlvbi10aW1pbmctZnVuY3Rpb246ZWFzZS1pbi1vdXQ7cGFkZGluZy1ibG9jazp2YXIoLS1jYWxjaXRlLW5vdGljZS1zcGFjaW5nLXRva2VuLXNtYWxsKTtwYWRkaW5nLWlubGluZTp2YXIoLS1jYWxjaXRlLW5vdGljZS1zcGFjaW5nLXRva2VuLWxhcmdlKTtmbGV4OjAgMCBhdXRvfS5ub3RpY2UtY2xvc2V7ZGlzcGxheTpmbGV4O2N1cnNvcjpwb2ludGVyO2FsaWduLWl0ZW1zOmNlbnRlcjthbGlnbi1zZWxmOnN0cmV0Y2g7Ym9yZGVyLXN0eWxlOm5vbmU7YmFja2dyb3VuZC1jb2xvcjp0cmFuc3BhcmVudDtvdXRsaW5lOjJweCBzb2xpZCB0cmFuc3BhcmVudDtvdXRsaW5lLW9mZnNldDoycHg7Ym94LXNpemluZzpib3JkZXItYm94O3RyYW5zaXRpb24tcHJvcGVydHk6YmFja2dyb3VuZC1jb2xvcixibG9jay1zaXplLGJvcmRlci1jb2xvcixib3gtc2hhZG93LGNvbG9yLGluc2V0LWJsb2NrLWVuZCxpbnNldC1ibG9jay1zdGFydCxpbnNldC1pbmxpbmUtZW5kLGluc2V0LWlubGluZS1zdGFydCxpbnNldC1zaXplLG9wYWNpdHksb3V0bGluZS1jb2xvcix0cmFuc2Zvcm07dHJhbnNpdGlvbi1kdXJhdGlvbjp2YXIoLS1jYWxjaXRlLWFuaW1hdGlvbi10aW1pbmcpO3RyYW5zaXRpb24tdGltaW5nLWZ1bmN0aW9uOmVhc2UtaW4tb3V0O3BhZGRpbmctYmxvY2s6dmFyKC0tY2FsY2l0ZS1ub3RpY2Utc3BhY2luZy10b2tlbi1zbWFsbCk7cGFkZGluZy1pbmxpbmU6dmFyKC0tY2FsY2l0ZS1ub3RpY2Utc3BhY2luZy10b2tlbi1sYXJnZSk7ZmxleDowIDAgYXV0bzstd2Via2l0LWFwcGVhcmFuY2U6bm9uZTtjb2xvcjp2YXIoLS1jYWxjaXRlLW5vdGljZS1jbG9zZS1pY29uLWNvbG9yLCB2YXIoLS1jYWxjaXRlLWNvbG9yLXRleHQtMykpfS5ub3RpY2UtY2xvc2U6aG92ZXIsLm5vdGljZS1jbG9zZTpmb2N1c3tiYWNrZ3JvdW5kLWNvbG9yOnZhcigtLWNhbGNpdGUtbm90aWNlLWNsb3NlLWJhY2tncm91bmQtY29sb3ItZm9jdXMsIHZhcigtLWNhbGNpdGUtY29sb3ItZm9yZWdyb3VuZC0yKSk7Y29sb3I6dmFyKC0tY2FsY2l0ZS1ub3RpY2UtY2xvc2UtaWNvbi1jb2xvci1ob3ZlciwgdmFyKC0tY2FsY2l0ZS1jb2xvci10ZXh0LTEpKX0ubm90aWNlLWNsb3NlOmFjdGl2ZXtiYWNrZ3JvdW5kLWNvbG9yOnZhcigtLWNhbGNpdGUtbm90aWNlLWNsb3NlLWJhY2tncm91bmQtY29sb3ItcHJlc3MsIHZhcigtLWNhbGNpdGUtY29sb3ItZm9yZWdyb3VuZC0zKSl9LmFjdGlvbnMtZW5ke2Rpc3BsYXk6ZmxleDthbGlnbi1zZWxmOnN0cmV0Y2h9Omhvc3QoW2tpbmQ9YnJhbmRdKSAuY29udGFpbmVye2JvcmRlci1jb2xvcjp2YXIoLS1jYWxjaXRlLWNvbG9yLWJyYW5kKX06aG9zdChba2luZD1icmFuZF0pIC5jb250YWluZXIgLm5vdGljZS1pY29ue2NvbG9yOnZhcigtLWNhbGNpdGUtY29sb3ItYnJhbmQpfTpob3N0KFtraW5kPWluZm9dKSAuY29udGFpbmVye2JvcmRlci1jb2xvcjp2YXIoLS1jYWxjaXRlLWNvbG9yLXN0YXR1cy1pbmZvKX06aG9zdChba2luZD1pbmZvXSkgLmNvbnRhaW5lciAubm90aWNlLWljb257Y29sb3I6dmFyKC0tY2FsY2l0ZS1jb2xvci1zdGF0dXMtaW5mbyl9Omhvc3QoW2tpbmQ9ZGFuZ2VyXSkgLmNvbnRhaW5lcntib3JkZXItY29sb3I6dmFyKC0tY2FsY2l0ZS1jb2xvci1zdGF0dXMtZGFuZ2VyKX06aG9zdChba2luZD1kYW5nZXJdKSAuY29udGFpbmVyIC5ub3RpY2UtaWNvbntjb2xvcjp2YXIoLS1jYWxjaXRlLWNvbG9yLXN0YXR1cy1kYW5nZXIpfTpob3N0KFtraW5kPXN1Y2Nlc3NdKSAuY29udGFpbmVye2JvcmRlci1jb2xvcjp2YXIoLS1jYWxjaXRlLWNvbG9yLXN0YXR1cy1zdWNjZXNzKX06aG9zdChba2luZD1zdWNjZXNzXSkgLmNvbnRhaW5lciAubm90aWNlLWljb257Y29sb3I6dmFyKC0tY2FsY2l0ZS1jb2xvci1zdGF0dXMtc3VjY2Vzcyl9Omhvc3QoW2tpbmQ9d2FybmluZ10pIC5jb250YWluZXJ7Ym9yZGVyLWNvbG9yOnZhcigtLWNhbGNpdGUtY29sb3Itc3RhdHVzLXdhcm5pbmcpfTpob3N0KFtraW5kPXdhcm5pbmddKSAuY29udGFpbmVyIC5ub3RpY2UtaWNvbntjb2xvcjp2YXIoLS1jYWxjaXRlLWNvbG9yLXN0YXR1cy13YXJuaW5nKX06aG9zdChbaGlkZGVuXSl7ZGlzcGxheTpub25lfVtoaWRkZW5de2Rpc3BsYXk6bm9uZX1gO1xuY2xhc3MgTm90aWNlIGV4dGVuZHMgTGl0RWxlbWVudCB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgdGhpcy5jbG9zZUJ1dHRvbiA9IGNyZWF0ZVJlZigpO1xuICAgIHRoaXMudHJhbnNpdGlvblByb3AgPSBcIm9wYWNpdHlcIjtcbiAgICB0aGlzLm1lc3NhZ2VzID0gdXNlVDluKCk7XG4gICAgdGhpcy5mb2N1c1NldHRlciA9IHVzZVNldEZvY3VzKCkodGhpcyk7XG4gICAgdGhpcy5oYXNBY3Rpb25FbmQgPSBmYWxzZTtcbiAgICB0aGlzLmNsb3NhYmxlID0gZmFsc2U7XG4gICAgdGhpcy5pY29uRmxpcFJ0bCA9IGZhbHNlO1xuICAgIHRoaXMua2luZCA9IFwiYnJhbmRcIjtcbiAgICB0aGlzLm9wZW4gPSBmYWxzZTtcbiAgICB0aGlzLnNjYWxlID0gXCJtXCI7XG4gICAgdGhpcy53aWR0aCA9IFwiYXV0b1wiO1xuICAgIHRoaXMuY2FsY2l0ZU5vdGljZUJlZm9yZUNsb3NlID0gY3JlYXRlRXZlbnQoeyBjYW5jZWxhYmxlOiBmYWxzZSB9KTtcbiAgICB0aGlzLmNhbGNpdGVOb3RpY2VCZWZvcmVPcGVuID0gY3JlYXRlRXZlbnQoeyBjYW5jZWxhYmxlOiBmYWxzZSB9KTtcbiAgICB0aGlzLmNhbGNpdGVOb3RpY2VDbG9zZSA9IGNyZWF0ZUV2ZW50KHsgY2FuY2VsYWJsZTogZmFsc2UgfSk7XG4gICAgdGhpcy5jYWxjaXRlTm90aWNlT3BlbiA9IGNyZWF0ZUV2ZW50KHsgY2FuY2VsYWJsZTogZmFsc2UgfSk7XG4gIH1cbiAgc3RhdGljIHtcbiAgICB0aGlzLnByb3BlcnRpZXMgPSB7IGhhc0FjdGlvbkVuZDogWzE2LCB7fSwgeyBzdGF0ZTogdHJ1ZSB9XSwgY2xvc2FibGU6IFs3LCB7fSwgeyByZWZsZWN0OiB0cnVlLCB0eXBlOiBCb29sZWFuIH1dLCBpY29uOiBbMywgeyBjb252ZXJ0ZXI6IHN0cmluZ09yQm9vbGVhbiB9LCB7IHJlZmxlY3Q6IHRydWUgfV0sIGljb25GbGlwUnRsOiBbNywge30sIHsgcmVmbGVjdDogdHJ1ZSwgdHlwZTogQm9vbGVhbiB9XSwga2luZDogWzMsIHt9LCB7IHJlZmxlY3Q6IHRydWUgfV0sIG1lc3NhZ2VPdmVycmlkZXM6IFswLCB7fSwgeyBhdHRyaWJ1dGU6IGZhbHNlIH1dLCBvcGVuOiBbNywge30sIHsgcmVmbGVjdDogdHJ1ZSwgdHlwZTogQm9vbGVhbiB9XSwgc2NhbGU6IFszLCB7fSwgeyByZWZsZWN0OiB0cnVlIH1dLCB3aWR0aDogWzMsIHt9LCB7IHJlZmxlY3Q6IHRydWUgfV0gfTtcbiAgfVxuICBzdGF0aWMge1xuICAgIHRoaXMuc3R5bGVzID0gc3R5bGVzO1xuICB9XG4gIGFzeW5jIHNldEZvY3VzKG9wdGlvbnMpIHtcbiAgICByZXR1cm4gdGhpcy5mb2N1c1NldHRlcigoKSA9PiB7XG4gICAgICBjb25zdCBub3RpY2VMaW5rRWwgPSB0aGlzLmVsLnF1ZXJ5U2VsZWN0b3IoXCJjYWxjaXRlLWxpbmtcIik7XG4gICAgICByZXR1cm4gbm90aWNlTGlua0VsIHx8IHRoaXMuY2xvc2VCdXR0b24udmFsdWU7XG4gICAgfSwgb3B0aW9ucyk7XG4gIH1cbiAgYXN5bmMgbG9hZCgpIHtcbiAgICB0aGlzLnJlcXVlc3RlZEljb24gPSBzZXRSZXF1ZXN0ZWRJY29uKEtpbmRJY29ucywgdGhpcy5pY29uLCB0aGlzLmtpbmQpO1xuICB9XG4gIHdpbGxVcGRhdGUoY2hhbmdlcykge1xuICAgIGlmIChjaGFuZ2VzLmhhcyhcIm9wZW5cIikgJiYgKHRoaXMuaGFzVXBkYXRlZCB8fCB0aGlzLm9wZW4gIT09IGZhbHNlKSkge1xuICAgICAgdG9nZ2xlT3BlbkNsb3NlKHRoaXMpO1xuICAgIH1cbiAgICBpZiAoY2hhbmdlcy5oYXMoXCJpY29uXCIpIHx8IGNoYW5nZXMuaGFzKFwia2luZFwiKSAmJiAodGhpcy5oYXNVcGRhdGVkIHx8IHRoaXMua2luZCAhPT0gXCJicmFuZFwiKSkge1xuICAgICAgdGhpcy5yZXF1ZXN0ZWRJY29uID0gc2V0UmVxdWVzdGVkSWNvbihLaW5kSWNvbnMsIHRoaXMuaWNvbiwgdGhpcy5raW5kKTtcbiAgICB9XG4gIH1cbiAgb25CZWZvcmVDbG9zZSgpIHtcbiAgICB0aGlzLmNhbGNpdGVOb3RpY2VCZWZvcmVDbG9zZS5lbWl0KCk7XG4gIH1cbiAgb25CZWZvcmVPcGVuKCkge1xuICAgIHRoaXMuY2FsY2l0ZU5vdGljZUJlZm9yZU9wZW4uZW1pdCgpO1xuICB9XG4gIG9uQ2xvc2UoKSB7XG4gICAgdGhpcy5jYWxjaXRlTm90aWNlQ2xvc2UuZW1pdCgpO1xuICB9XG4gIG9uT3BlbigpIHtcbiAgICB0aGlzLmNhbGNpdGVOb3RpY2VPcGVuLmVtaXQoKTtcbiAgfVxuICBzZXRUcmFuc2l0aW9uRWwoZWwpIHtcbiAgICBpZiAoIWVsKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMudHJhbnNpdGlvbkVsID0gZWw7XG4gIH1cbiAgY2xvc2UoKSB7XG4gICAgdGhpcy5vcGVuID0gZmFsc2U7XG4gIH1cbiAgaGFuZGxlQWN0aW9uc0VuZFNsb3RDaGFuZ2UoZXZlbnQpIHtcbiAgICB0aGlzLmhhc0FjdGlvbkVuZCA9IHNsb3RDaGFuZ2VIYXNBc3NpZ25lZEVsZW1lbnQoZXZlbnQpO1xuICB9XG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCBjbG9zZUJ1dHRvbiA9IGh0bWxgPGJ1dHRvbiAuYXJpYUxhYmVsPSR7dGhpcy5tZXNzYWdlcy5jbG9zZX0gY2xhc3M9JHtzYWZlQ2xhc3NNYXAoQ1NTLmNsb3NlKX0gQGNsaWNrPSR7dGhpcy5jbG9zZX0gJHtyZWYodGhpcy5jbG9zZUJ1dHRvbil9PjxjYWxjaXRlLWljb24gaWNvbj14IC5zY2FsZT0ke2dldEljb25TY2FsZSh0aGlzLnNjYWxlKX0+PC9jYWxjaXRlLWljb24+PC9idXR0b24+YDtcbiAgICByZXR1cm4gaHRtbGA8ZGl2IGNsYXNzPSR7c2FmZUNsYXNzTWFwKENTUy5jb250YWluZXIpfSAke3JlZih0aGlzLnNldFRyYW5zaXRpb25FbCl9PiR7dGhpcy5yZXF1ZXN0ZWRJY29uID8gaHRtbGA8ZGl2IGNsYXNzPSR7c2FmZUNsYXNzTWFwKENTUy5pY29uKX0+PGNhbGNpdGUtaWNvbiAuZmxpcFJ0bD0ke3RoaXMuaWNvbkZsaXBSdGx9IC5pY29uPSR7dGhpcy5yZXF1ZXN0ZWRJY29ufSAuc2NhbGU9JHtnZXRJY29uU2NhbGUodGhpcy5zY2FsZSl9PjwvY2FsY2l0ZS1pY29uPjwvZGl2PmAgOiBudWxsfTxkaXYgY2xhc3M9JHtzYWZlQ2xhc3NNYXAoQ1NTLmNvbnRlbnQpfT48c2xvdCBuYW1lPSR7U0xPVFMudGl0bGV9Pjwvc2xvdD48c2xvdCBuYW1lPSR7U0xPVFMubWVzc2FnZX0+PC9zbG90PjxzbG90IG5hbWU9JHtTTE9UUy5saW5rfT48L3Nsb3Q+PC9kaXY+PGRpdiBjbGFzcz0ke3NhZmVDbGFzc01hcChDU1MuYWN0aW9uc0VuZCl9IC5oaWRkZW49JHshdGhpcy5oYXNBY3Rpb25FbmR9PjxzbG90IG5hbWU9JHtTTE9UUy5hY3Rpb25zRW5kfSBAc2xvdGNoYW5nZT0ke3RoaXMuaGFuZGxlQWN0aW9uc0VuZFNsb3RDaGFuZ2V9Pjwvc2xvdD48L2Rpdj4ke3RoaXMuY2xvc2FibGUgPyBjbG9zZUJ1dHRvbiA6IG51bGx9PC9kaXY+YDtcbiAgfVxufVxuY3VzdG9tRWxlbWVudChcImNhbGNpdGUtbm90aWNlXCIsIE5vdGljZSk7XG5leHBvcnQge1xuICBOb3RpY2Vcbn07XG4iLCJpbXBvcnQgXCIuLi9jYWxjaXRlLWljb24vaW5kZXguanNcIjtcbmV4cG9ydCAqIGZyb20gXCIuL2N1c3RvbUVsZW1lbnQuanNcIjsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=