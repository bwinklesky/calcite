export const __webpack_id__ = "vendors-node_modules_arcgis_core_views_3d_layers_FeatureLikeLayerView3D_js-node_modules_arcgi-730e10";
export const __webpack_ids__ = ["vendors-node_modules_arcgis_core_views_3d_layers_FeatureLikeLayerView3D_js-node_modules_arcgi-730e10"];
export const __webpack_modules__ = {

/***/ "./node_modules/@arcgis/core/chunks/Heatmap.glsl.js":
/*!**********************************************************!*\
  !*** ./node_modules/@arcgis/core/chunks/Heatmap.glsl.js ***!
  \**********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   H: () => (/* binding */ o),
/* harmony export */   b: () => (/* binding */ t)
/* harmony export */ });
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_ScreenSpacePass_glsl_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/ScreenSpacePass.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/ScreenSpacePass.glsl.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/FloatPassUniform.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/FloatPassUniform.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_glsl_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/glsl.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_Texture2DPassUniform_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/Texture2DPassUniform.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Texture2DPassUniform.js");
/* harmony import */ var _views_webgl_ShaderBuilder_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../views/webgl/ShaderBuilder.js */ "./node_modules/@arcgis/core/views/webgl/ShaderBuilder.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
function t(t){const o=new _views_webgl_ShaderBuilder_js__WEBPACK_IMPORTED_MODULE_4__.ShaderBuilder;return o.include(_views_3d_webgl_engine_core_shaderLibrary_ScreenSpacePass_glsl_js__WEBPACK_IMPORTED_MODULE_0__.ScreenSpacePass),o.fragment.uniforms.add(new _views_3d_webgl_engine_core_shaderModules_Texture2DPassUniform_js__WEBPACK_IMPORTED_MODULE_3__.Texture2DPassUniform("densityMap",(e=>e.densityMap)),new _views_3d_webgl_engine_core_shaderModules_Texture2DPassUniform_js__WEBPACK_IMPORTED_MODULE_3__.Texture2DPassUniform("tex",(e=>e.colorRamp)),new _views_3d_webgl_engine_core_shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_1__.FloatPassUniform("densityNormalizer",(e=>1/(e.maxDensity-e.minDensity))),new _views_3d_webgl_engine_core_shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_1__.FloatPassUniform("minDensity",(e=>e.minDensity)),new _views_3d_webgl_engine_core_shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_1__.FloatPassUniform("densityMultiplier",(e=>3/(e.searchRadius*e.searchRadius*Math.PI)*(t.usesHalfFloat?4:1)))).main.add((0,_views_3d_webgl_engine_core_shaderModules_glsl_js__WEBPACK_IMPORTED_MODULE_2__.glsl)`float density = texture(densityMap, uv).r * densityMultiplier;
float densityRatio = (density - minDensity) * densityNormalizer;
fragColor = texture(tex, vec2(clamp(densityRatio, 0.0, 1.0), 0.5));`),o}const o=Object.freeze(Object.defineProperty({__proto__:null,build:t},Symbol.toStringTag,{value:"Module"}));


/***/ }),

/***/ "./node_modules/@arcgis/core/chunks/HeatmapDensity.glsl.js":
/*!*****************************************************************!*\
  !*** ./node_modules/@arcgis/core/chunks/HeatmapDensity.glsl.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   H: () => (/* binding */ s),
/* harmony export */   b: () => (/* binding */ t)
/* harmony export */ });
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_util_View_glsl_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/util/View.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/util/View.glsl.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/FloatPassUniform.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/FloatPassUniform.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_glsl_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/glsl.js");
/* harmony import */ var _views_3d_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../views/3d/webgl-engine/lib/VertexAttribute.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/VertexAttribute.js");
/* harmony import */ var _views_webgl_ShaderBuilder_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../views/webgl/ShaderBuilder.js */ "./node_modules/@arcgis/core/views/webgl/ShaderBuilder.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
function t(t){const s=new _views_webgl_ShaderBuilder_js__WEBPACK_IMPORTED_MODULE_4__.ShaderBuilder,{vertex:d,fragment:u,attributes:l,varyings:n}=s;(0,_views_3d_webgl_engine_core_shaderLibrary_util_View_glsl_js__WEBPACK_IMPORTED_MODULE_0__.addProjViewLocalOrigin)(d,t);const{isAttributeDriven:c,usesHalfFloat:f}=t;return l.add(_views_3d_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_3__.VertexAttribute.POSITION,"vec3"),l.add(_views_3d_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_3__.VertexAttribute.UV0,"vec2"),c&&(l.add(_views_3d_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_3__.VertexAttribute.FEATUREATTRIBUTE,"float"),n.add("attributeValue","float")),f&&u.constants.add("compressionFactor","float",.25),n.add("unitCirclePos","vec2"),d.uniforms.add(new _views_3d_webgl_engine_core_shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_1__.FloatPassUniform("radius",(({resolutionForScale:e,searchRadius:o},{camera:i,screenToWorldRatio:r,overlayStretch:a})=>2*o*(0===e?1:e/r)*i.pixelRatio/i.fullViewport[2]/a))),d.main.add((0,_views_3d_webgl_engine_core_shaderModules_glsl_js__WEBPACK_IMPORTED_MODULE_2__.glsl)`
    unitCirclePos = uv0;

    vec4 posProj = proj * (view * vec4(${_views_3d_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_3__.VertexAttribute.POSITION}, 1.0));
    vec4 quadOffset = vec4(unitCirclePos * radius, 0.0, 0.0);

    ${c?(0,_views_3d_webgl_engine_core_shaderModules_glsl_js__WEBPACK_IMPORTED_MODULE_2__.glsl)`attributeValue = ${_views_3d_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_3__.VertexAttribute.FEATUREATTRIBUTE};`:""}
    gl_Position = posProj + quadOffset;
  `),u.main.add((0,_views_3d_webgl_engine_core_shaderModules_glsl_js__WEBPACK_IMPORTED_MODULE_2__.glsl)`
    float radiusRatioSquared = dot(unitCirclePos, unitCirclePos);
    if (radiusRatioSquared > 1.0) {
      fragColor = vec4(0.0);
    }
    else {
      float oneMinusRadiusRatioSquared = 1.0 - radiusRatioSquared;
      float density = oneMinusRadiusRatioSquared * oneMinusRadiusRatioSquared ${c?(0,_views_3d_webgl_engine_core_shaderModules_glsl_js__WEBPACK_IMPORTED_MODULE_2__.glsl)` * attributeValue`:""} ${f?(0,_views_3d_webgl_engine_core_shaderModules_glsl_js__WEBPACK_IMPORTED_MODULE_2__.glsl)` * compressionFactor`:""};
      fragColor = vec4(density);
    }
  `),s}const s=Object.freeze(Object.defineProperty({__proto__:null,build:t},Symbol.toStringTag,{value:"Module"}));


/***/ }),

/***/ "./node_modules/@arcgis/core/layers/graphics/controllers/FeatureTileController3D.js":
/*!******************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/graphics/controllers/FeatureTileController3D.js ***!
  \******************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   FeatureTileController3D: () => (/* binding */ L),
/* harmony export */   FeatureTileController3DConstants: () => (/* binding */ N)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/Accessor.js */ "./node_modules/@arcgis/core/core/Accessor.js");
/* harmony import */ var _core_asyncUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/asyncUtils.js */ "./node_modules/@arcgis/core/core/asyncUtils.js");
/* harmony import */ var _core_Collection_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/Collection.js */ "./node_modules/@arcgis/core/core/Collection.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_lang_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../core/lang.js */ "./node_modules/@arcgis/core/core/lang.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../core/maybe.js */ "./node_modules/@arcgis/core/core/maybe.js");
/* harmony import */ var _core_Promise_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../core/Promise.js */ "./node_modules/@arcgis/core/core/Promise.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../core/reactiveUtils.js */ "./node_modules/@arcgis/core/core/reactiveUtils.js");
/* harmony import */ var _core_sql_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../core/sql.js */ "./node_modules/@arcgis/core/core/sql.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _core_support_UpdatingHandles_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../core/support/UpdatingHandles.js */ "./node_modules/@arcgis/core/core/support/UpdatingHandles.js");
/* harmony import */ var _geometry_projectionUtils_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../../geometry/projectionUtils.js */ "./node_modules/@arcgis/core/geometry/projectionUtils.js");
/* harmony import */ var _support_arcgisLayerUrl_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../support/arcgisLayerUrl.js */ "./node_modules/@arcgis/core/layers/support/arcgisLayerUrl.js");
/* harmony import */ var _support_featureLayerUtils_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../support/featureLayerUtils.js */ "./node_modules/@arcgis/core/layers/support/featureLayerUtils.js");
/* harmony import */ var _support_layerUtils_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../support/layerUtils.js */ "./node_modules/@arcgis/core/layers/support/layerUtils.js");
/* harmony import */ var _rest_support_StatisticDefinition_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../../../rest/support/StatisticDefinition.js */ "./node_modules/@arcgis/core/rest/support/StatisticDefinition.js");
/* harmony import */ var _views_3d_layers_support_FeatureTileDescriptor_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../../../views/3d/layers/support/FeatureTileDescriptor.js */ "./node_modules/@arcgis/core/views/3d/layers/support/FeatureTileDescriptor.js");
/* harmony import */ var _views_3d_layers_support_FeatureTileFetcher3D_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../../../views/3d/layers/support/FeatureTileFetcher3D.js */ "./node_modules/@arcgis/core/views/3d/layers/support/FeatureTileFetcher3D.js");
/* harmony import */ var _views_3d_layers_support_FeatureTileFetcher3DDebugger_js__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../../../views/3d/layers/support/FeatureTileFetcher3DDebugger.js */ "./node_modules/@arcgis/core/views/3d/layers/support/FeatureTileFetcher3DDebugger.js");
/* harmony import */ var _views_3d_support_debugFlags_js__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ../../../views/3d/support/debugFlags.js */ "./node_modules/@arcgis/core/views/3d/support/debugFlags.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
let L=class extends(_core_Promise_js__WEBPACK_IMPORTED_MODULE_9__["default"].EsriPromiseMixin(_core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__["default"])){get dataUpdating(){return this._tileFetcher?.dataUpdating??!1}set extent(e){if(null!=e&&!e.spatialReference.equals(this.layerView.view.spatialReference))return void _core_Logger_js__WEBPACK_IMPORTED_MODULE_7__["default"].getLogger(this).error("#extent=","extent needs to be in the same spatial reference as the view");const t=this._get("extent");if(t===e)return;if(null!=t&&e&&t.equals(e))return;const i=null!=e?e.clone():null;this._set("extent",i)}get updating(){return!!(this._tileFetcher?.updating||null!=this._fetchDataInfoPromise||"tiles"===this.mode&&this.layerView.view.featureTiles?.updating||this._updatingHandles?.updating)}get updatingTotal(){return this.updating&&null!=this._tileFetcher?this._tileFetcher.updatingTotal:0}get updatingRemaining(){return this.updating&&null!=this._tileFetcher?this._tileFetcher.updatingRemaining:0}get expectedFeatureDiff(){return this.updating&&null!=this._tileFetcher?this._tileFetcher.expectedFeatureDiff:0}get memoryForUnusedFeatures(){return null!=this._tileFetcher?this._tileFetcher.memoryForUnusedFeatures:0}get maximumNumberOfFeaturesExceeded(){return!(null==this._tileFetcher||!this._tileFetcher.maximumNumberOfFeaturesExceeded)}get maximumNumberOfFeatures(){return this.displayFeatureLimit?.maximumNumberOfFeatures??0}set maximumNumberOfFeatures(e){e!==this.maximumNumberOfFeatures&&this._overrideIfSome("maximumNumberOfFeatures",e)}get hasMaximumNumberOfFeaturesOverride(){return this._isOverridden("maximumNumberOfFeatures")}get hasAllFeatures(){return this.serviceDataCount===N.noServiceDataCount&&"snapshot"===this.mode&&this.hasAllFeaturesInView||this.serviceDataCount===this.graphics.length}get hasAllFeaturesInView(){const e=this.context.effectiveDisplayFilter?.where||null,t=null!=e&&"1=1"!==e;return("tiles"!==this.mode||!t)&&(this._tileFetcher?.showsAllFeatures??!1)}get hasFullGeometries(){return this._tileFetcher?.hasFullGeometries??!1}get mode(){const e=this.layerView.layer;if("feature"===e.type&&null!=e.infoFor3D)return"snapshot";if("catalog-footprint"===e.type)return"tiles";if(this._forceTilesMode)return"tiles";const t=this.layerView.view;if(!1===t.qualitySettings?.graphics3D?.snapshotAvailable||this.serviceDataCount===N.noServiceDataCount||this._snapshotLimitExceeded||this.maximumNumberOfFeaturesExceeded||t.quality<1)return"tiles";const i=t&&t.featureTiles,r=i&&i.tilingScheme;if(e&&e.minScale&&this.serviceDataExtent&&r){const t=this._approximateExtentSizeAtScale(e.minScale,r);if((this.serviceDataExtent.width/t+this.serviceDataExtent.height/t)/2>N.maxSnapshotMinScaleFactor)return"tiles"}return!this.maximumNumberOfFeatures||this.serviceDataCount<=this.maximumNumberOfFeatures?"snapshot":"tiles"}get maxTotalSnapshotVertices(){const e=this._get("maxTotalSnapshotVertices")||0,t="snapshot"===this.mode&&this._tileFetcher?.totalVertices||0;return Math.max(e,t)}_approximateExtentSizeAtScale(e,t){const i=this.layerView.view,r=Math.ceil((i.width/t.pixelSize+i.height/t.pixelSize)/2),s=t.levels[0];return r*((s.tileSize[0]/(s.scale/e)+s.tileSize[1]/(s.scale/e))/2)}get tileDescriptors(){if("snapshot"===this.mode){const e=new _views_3d_layers_support_FeatureTileDescriptor_js__WEBPACK_IMPORTED_MODULE_21__.FeatureTileDescriptor(0,0,0,this.layerView.view.featureTiles.tilingScheme,"dummy-tile-full-extent");return new _core_Collection_js__WEBPACK_IMPORTED_MODULE_3__["default"]([e])}const e=this.layerView.view.featureTiles;return e?e.tiles:new _core_Collection_js__WEBPACK_IMPORTED_MODULE_3__["default"]}get test(){}constructor(e){super(e),this.type="feature-tile-3d",this._updatingHandles=new _core_support_UpdatingHandles_js__WEBPACK_IMPORTED_MODULE_15__.UpdatingHandles,this.serviceDataExtent=null,this.serviceDataCount=N.noServiceDataCount,this._snapshotLimitExceeded=!1,this.displayFeatureLimit=null,this._forceTilesMode=!1,this._suspended=!1,this._tileFetcher=null,this._fetchDataInfoPromise=null,this._fetchDataInfoAbortController=null,this._lifeCycleAbortController=new AbortController}initialize(){this._updatingHandles.add((()=>this.displayFeatureLimit),(e=>this._updatingHandles.addPromise(this._updateSnapshotLimit(e,null,this._lifeCycleAbortController.signal)))),this._updatingHandles.add((()=>this.mode),(()=>this._modeChanged()),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_11__.initial),this._updatingHandles.add((()=>this.mode),((e,t)=>{"tiles"===e&&"snapshot"===t&&(this._forceTilesMode=!0)}),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_11__.initial),this.addResolvingPromise(Promise.resolve().then((()=>this._verifyCapabilities())).then((()=>this._updatingHandles.addPromise(this._fetchServiceDataInfo()))).then((()=>this._initializeTileFetcher())))}_verifyCapabilities(){const e=this.layerView.layer;if("ogc-feature"!==e.type&&!(0,_support_layerUtils_js__WEBPACK_IMPORTED_MODULE_19__.getEffectiveLayerCapabilities)(e)?.operations.supportsQuery)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_5__["default"]("graphicscontroller:query-capability-required","Service requires query capabilities to be used as a feature layer",{layer:e})}destroy(){this._cancelFetchServiceDataInfo(),this._tileFetcher=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_8__.destroyMaybe)(this._tileFetcher),this._tilesHandle=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_8__.removeMaybe)(this._tilesHandle),this._lifeCycleAbortController=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_8__.abortMaybe)(this._lifeCycleAbortController),this._updatingHandles.destroy(),this._set("_updatingHandles",null)}suspend(){this._suspended||(this._suspended=!0,null!=this._tileFetcher&&this._tileFetcher.suspend())}resume(){this._suspended&&(this._suspended=!1,null!=this._tileFetcher&&this._tileFetcher.resume())}restart(){const e=()=>{null!=this._tileFetcher&&this._tileFetcher.restart()};this._updatingHandles.addPromise(this._fetchServiceDataInfo().then(e,e))}refetch(){this._refetch({resetForceTilesMode:!1})}getMissingAttributesForFeature(e){return this._tileFetcher?.getMissingAttributesForFeature(e)}_refetch(e){const t=()=>{null!=this._tileFetcher&&(e.resetForceTilesMode&&(this._forceTilesMode=!1),this._tileFetcher.refetch())};this._updatingHandles.addPromise(this._fetchServiceDataInfo().then(t,t))}_initializeTileFetcher(){const e=this.layerView.view;if(!e)return;const t=(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_11__.whenOnce)((()=>e.featureTiles?.tilingScheme),this._lifeCycleAbortController.signal);this._updatingHandles.addPromise(t),t.then((()=>{const{layerView:e,tileDescriptors:t}=this,i=e.layer,r=new _views_3d_layers_support_FeatureTileFetcher3D_js__WEBPACK_IMPORTED_MODULE_22__.FeatureTileFetcher3D({context:this.context,filterExtent:this.extent,tileDescriptors:t,features:this.graphics});this._tileFetcher=r,this._suspended?r.suspend():r.resume();const s=this.layerView.view;s&&this.addHandles((0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_11__.watch)((()=>s.quality),(e=>r.memoryFactor=e),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_11__.syncAndInitial));const a="polygon"===this.context.geometryType?"polygonLodFactor":"polyline"===this.context.geometryType?"polylineLodFactor":null;a&&this.addHandles((0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_11__.watch)((()=>this.layerView.view?.qualitySettings?.graphics3D?.[a]),(e=>r.lodFactor=e||1),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_11__.initial));const o=e=>{r.maximumNumberOfFeatures=e,r.useTileCount=this.serviceDataCount>e},n=e=>{r.useTileCount=e>this.maximumNumberOfFeatures};"ogc-feature"!==i.type&&this._updatingHandles.add((()=>i.createQueryVersion),(()=>this._dataFilterChanged())),this._updatingHandles.add((()=>this.context.effectiveDisplayFilter),(()=>this._effectiveDisplayFilterChanged())),this._updatingHandles.add((()=>e.availableFields),((e,t)=>this._availableFieldsChanged(t,e))),this._updatingHandles.add((()=>e.requiredFields),((e,t)=>this._requiredFieldsChanged(t,e))),"customParameters"in i&&this._updatingHandles.add((()=>i.customParameters),(()=>this.restart())),this.addHandles([i.on("apply-edits",(e=>this._applyEdits(e))),(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_11__.watch)((()=>this.extent),(e=>r.filterExtent=e),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_11__.sync),(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_11__.watch)((()=>this.tileDescriptors),(e=>r.tileDescriptors=e),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_11__.sync),(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_11__.watch)((()=>this.maximumNumberOfFeatures),o,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_11__.syncAndInitial),(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_11__.watch)((()=>this.serviceDataCount),n,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_11__.syncAndInitial),(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_11__.watch)((()=>_views_3d_support_debugFlags_js__WEBPACK_IMPORTED_MODULE_24__.debugFlags.FEATURE_TILE_FETCH_SHOW_TILES),(e=>{e&&r?r.debugger??=new _views_3d_layers_support_FeatureTileFetcher3DDebugger_js__WEBPACK_IMPORTED_MODULE_23__.FeatureTileFetcher3DDebugger(r,s.featureTiles.tilingScheme.toTileInfo(),s):!e&&this._tileFetcher&&r.debugger&&(r.debugger=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_8__.destroyMaybe)(r.debugger))}),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_11__.initial)]),this._supportsExceedsLimitQuery||this._updatingHandles.add((()=>this.maxTotalSnapshotVertices),(()=>this._updatingHandles.addPromise(this._updateSnapshotLimit(this.displayFeatureLimit,null,this._lifeCycleAbortController.signal))))})).catch((()=>{}))}_modeChanged(){switch(this.mode){case"tiles":this._tilesHandle||(this._tilesHandle=this.layerView.view.featureTiles.addClient());break;default:_core_Logger_js__WEBPACK_IMPORTED_MODULE_7__["default"].getLogger(this).warn("Unhandled feature layer mode "+this.mode);case"snapshot":null!=this._tilesHandle&&(this._tilesHandle.remove(),this._tilesHandle=null)}}_dataFilterChanged(){this._set("maxTotalSnapshotVertices",0),this.notifyChange("maxTotalSnapshotVertices"),this._refetch({resetForceTilesMode:!0})}_effectiveDisplayFilterChanged(){"snapshot"!==this.mode&&this._refetch({resetForceTilesMode:!1})}_applyEdits(e){const t=this.layerView.layer;null!=this._tileFetcher&&this._tileFetcher.applyEdits(e).then((e=>{if(e){if(!this._lifeCycleAbortController)throw (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_10__.createAbortError)();e.exceededTransferLimit&&"refresh"in t?t.refresh():(e.deletedFeatures.length||e.updatedFeatures.length||e.addedFeatures.length)&&this._updatingHandles.addPromise(this._updateServiceDataExtent(this._lifeCycleAbortController.signal))}})).catch((e=>{if(!(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_10__.isAbortError)(e))throw e}))}_availableFieldsChanged(e,t){null!=this._tileFetcher&&P(this._tileFetcher.availableFields,t)&&this._refetch({resetForceTilesMode:!1})}_requiredFieldsChanged(e,t){null!=this._tileFetcher&&P(this._tileFetcher.availableFields,t)&&this.restart()}_createVertexLimitExceededQuery(e){const t=this.layerView.layer,i=t.createQuery();return i.returnGeometry=!1,i.outStatistics=[new _rest_support_StatisticDefinition_js__WEBPACK_IMPORTED_MODULE_20__["default"]({statisticType:"exceedslimit",maxVertexCount:e,outStatisticFieldName:"exceedslimit",maxPointCount:1e8,maxRecordCount:1e8})],t.capabilities?.query.supportsCacheHint&&(i.cacheHint=!0),i}_createDataInfoQuery(){const e=this.layerView.layer,t=this.layerView,i=e.createQuery();return i.returnGeometry=!1,i.outSpatialReference=this.layerView.view.spatialReference,e.capabilities?.query.supportsCacheHint&&(i.cacheHint=!0),t.effectiveDisplayFilter&&(i.where=(0,_core_sql_js__WEBPACK_IMPORTED_MODULE_12__.sqlAnd)(i.where,t.effectiveDisplayFilter.where)),i}_fullExtentIsAccurate(){const e=this.layerView.layer;if("definitionExpression"in e&&e.definitionExpression)return!1;switch(e.type){case"feature":case"catalog-footprint":case"oriented-imagery":return (0,_support_arcgisLayerUrl_js__WEBPACK_IMPORTED_MODULE_17__.isHostedAgolService)(e.url);case"csv":case"geojson":case"ogc-feature":case"wfs":return!0;default:return}}async _updateServiceDataExtent(e){try{await this._tryUpdateServiceDataExtent(e)}catch(t){(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_10__.isAbortError)(t)||this._set("serviceDataExtent",(0,_core_lang_js__WEBPACK_IMPORTED_MODULE_6__.clone)(this.layerView.fullExtentInLocalViewSpatialReference)??null)}}async _tryUpdateServiceDataExtent(e){const t=this.layerView,i=t.layer,r=i.capabilities?.query.supportsExtent??!1,s=(0,_core_lang_js__WEBPACK_IMPORTED_MODULE_6__.clone)(t.fullExtentInLocalViewSpatialReference),o=i.fullExtent,l=this._fullExtentIsAccurate(),n=this.serviceDataCount;if(r&&n<=N.maxFeatureCountForExtent&&(!s||!l)&&"queryExtent"in i){const t=this._createDataInfoQuery(),r=await i.queryExtent(t,{timeout:N.queryExtentTimeout,signal:e});this._set("serviceDataExtent",r.extent)}else if(s)this._set("serviceDataExtent",s);else if(null!=o){const e=o.spatialReference?await (0,_geometry_projectionUtils_js__WEBPACK_IMPORTED_MODULE_16__.projectWithZConversion)(o,t.view.spatialReference):null;this._set("serviceDataExtent",e??null)}else this._set("serviceDataExtent",null)}async _updateServiceDataCount(e){const t=this.layerView.layer;if(!("queryFeatureCount"in t)||!(0,_core_has_js__WEBPACK_IMPORTED_MODULE_4__["default"])("featurelayer-snapshot-enabled"))return void this._set("serviceDataCount",N.noServiceDataCount);const r=await (0,_core_asyncUtils_js__WEBPACK_IMPORTED_MODULE_2__.result)(t.queryFeatureCount(this._createDataInfoQuery(),{timeout:N.queryStatisticsTimeout,signal:e}));if(!0===r.ok)this._set("serviceDataCount",r.value);else{if((0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_10__.isAbortError)(r.error))throw r.error;this._set("serviceDataCount",N.noServiceDataCount)}}get _supportsExceedsLimitQuery(){const e=this.layerView.layer;return null!=e.capabilities&&e.capabilities.operations&&e.capabilities.operations.supportsExceedsLimitStatistics}get _minimumNumberOfVerticesForGeometry(){switch(this.layerView.layer.geometryType){case"point":case"multipoint":return 1;case"polygon":return 4;case"polyline":return 2;case"multipatch":case"mesh":return 3;default:return 0}}async _updateSnapshotLimit(e,t,r){if(null==e?.averageSymbolComplexity)return void(this._snapshotLimitExceeded=!1);const{maximumTotalNumberOfVertices:s,averageSymbolComplexity:a}=e,{verticesPerFeature:o,verticesPerCoordinate:l}=a,n=o<=0,u=this._minimumNumberOfVerticesForGeometry>1;if(!n&&!u)return void(this._snapshotLimitExceeded=!1);0!==o&&null!=t&&await t;const h=Math.min(s,I),c=this.serviceDataCount,p=c!==N.noServiceDataCount;let m=p?Math.ceil((h-c*o)/(l||1)):Math.ceil(h/(l||1));if(u&&(m=Math.min(m,q)),p&&this._minimumNumberOfVerticesForGeometry*c>m)return void(this._snapshotLimitExceeded=!0);if(!this._supportsExceedsLimitQuery||!(0,_core_has_js__WEBPACK_IMPORTED_MODULE_4__["default"])("featurelayer-snapshot-enabled"))return void(this._snapshotLimitExceeded=this.maxTotalSnapshotVertices>m);const f=await (0,_core_asyncUtils_js__WEBPACK_IMPORTED_MODULE_2__.result)(this.layerView.layer.queryFeatures(this._createVertexLimitExceededQuery(m),{timeout:N.queryStatisticsTimeout,signal:r}));if(!1===f.ok){if((0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_10__.isAbortError)(f.error))throw f.error;return void(this._snapshotLimitExceeded=!1)}const y=f.value.features[0];this._snapshotLimitExceeded=!!y?.attributes&&!!y.attributes.exceedslimit}async _fetchServiceDataInfo(){this._cancelFetchServiceDataInfo(),await (0,_support_featureLayerUtils_js__WEBPACK_IMPORTED_MODULE_18__.checkServiceCurrentUserSupport)(this.layerView.layer);let e=new AbortController;const t=e.signal,i=this._updateServiceDataCount(t),r=Promise.allSettled([i,this._updateSnapshotLimit(this.displayFeatureLimit,i,t)]),s=r.then((()=>this._updateServiceDataExtent(t))).catch((e=>{(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_10__.isAbortError)(e)||_core_Logger_js__WEBPACK_IMPORTED_MODULE_7__["default"].getLogger(this).error("#fetchServiceDataInfo()",e)})).then((()=>{s===this._fetchDataInfoPromise&&(this._fetchDataInfoPromise=null,this._fetchDataInfoAbortController=null),e=null}));return e&&(this._fetchDataInfoPromise=s),this._fetchDataInfoAbortController=e,r.then((()=>{}),(()=>{}))}_cancelFetchServiceDataInfo(){const e=this._fetchDataInfoAbortController;e&&(this._fetchDataInfoAbortController=null,this._fetchDataInfoPromise=null,e.abort())}get performanceInfo(){return{storedFeatures:this._tileFetcher?.storedFeatures??0,totalFeatures:this._tileFetcher?.totalFeatures??0,totalVertices:this._tileFetcher?.totalVertices??0,missingTiles:this._tileFetcher?.missingTiles??0}}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_13__.property)({readOnly:!0})],L.prototype,"type",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_13__.property)({constructOnly:!0})],L.prototype,"graphics",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_13__.property)({constructOnly:!0})],L.prototype,"layerView",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_13__.property)({constructOnly:!0})],L.prototype,"context",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_13__.property)({readOnly:!0})],L.prototype,"dataUpdating",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_13__.property)()],L.prototype,"extent",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_13__.property)()],L.prototype,"updating",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_13__.property)({readOnly:!0})],L.prototype,"_updatingHandles",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_13__.property)()],L.prototype,"updatingTotal",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_13__.property)()],L.prototype,"updatingRemaining",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_13__.property)()],L.prototype,"expectedFeatureDiff",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_13__.property)()],L.prototype,"memoryForUnusedFeatures",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_13__.property)()],L.prototype,"maximumNumberOfFeaturesExceeded",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_13__.property)({readOnly:!0})],L.prototype,"serviceDataExtent",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_13__.property)({readOnly:!0})],L.prototype,"serviceDataCount",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_13__.property)()],L.prototype,"_snapshotLimitExceeded",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_13__.property)()],L.prototype,"displayFeatureLimit",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_13__.property)({type:Number})],L.prototype,"maximumNumberOfFeatures",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_13__.property)({readOnly:!0})],L.prototype,"hasAllFeatures",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_13__.property)({readOnly:!0})],L.prototype,"hasAllFeaturesInView",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_13__.property)({readOnly:!0})],L.prototype,"hasFullGeometries",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_13__.property)()],L.prototype,"_forceTilesMode",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_13__.property)({readOnly:!0})],L.prototype,"mode",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_13__.property)({readOnly:!0})],L.prototype,"maxTotalSnapshotVertices",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_13__.property)({readOnly:!0})],L.prototype,"tileDescriptors",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_13__.property)()],L.prototype,"_tileFetcher",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_13__.property)()],L.prototype,"_fetchDataInfoPromise",void 0),L=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_14__.subclass)("esri.layers.graphics.controllers.FeatureTileController3D")],L);const O=1e4,I=1e6,A=12e3,j=1e4,q=5e6;function P(e,t){if(!t)return!1;for(const i of t)if(!e.has(i))return!0;return!1}var N;!function(e){function t(){e.maxFeatureCountForExtent=O,e.queryStatisticsTimeout=A,e.queryExtentTimeout=j}e.noServiceDataCount=1/0,e.maxSnapshotMinScaleFactor=5,e.reset=t}(N||(N={})),N.reset();


/***/ }),

/***/ "./node_modules/@arcgis/core/layers/graphics/data/BoundsStore.js":
/*!***********************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/graphics/data/BoundsStore.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   BoundsStore: () => (/* binding */ o)
/* harmony export */ });
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_libs_rbush_PooledRBush_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/libs/rbush/PooledRBush.js */ "./node_modules/@arcgis/core/core/libs/rbush/PooledRBush.js");
/* harmony import */ var _geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../geometry/support/aaBoundingRect.js */ "./node_modules/@arcgis/core/geometry/support/aaBoundingRect.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
const d=5e4,n={minX:0,minY:0,maxX:0,maxY:0};function t(i){n.minX=i[0],n.minY=i[1],n.maxX=i[2],n.maxY=i[3]}function e(i,s,d){t(s),i.search(n,d)}class o{constructor(){this._indexInvalid=!1,this._boundsToLoad=[],this._boundsById=new Map,this._idByBounds=new Map,this._index=new _core_libs_rbush_PooledRBush_js__WEBPACK_IMPORTED_MODULE_1__.PooledRBush(9,(0,_core_has_js__WEBPACK_IMPORTED_MODULE_0__["default"])("esri-csp-restrictions")?i=>({minX:i[0],minY:i[1],maxX:i[2],maxY:i[3]}):["[0]","[1]","[2]","[3]"]),this._loadIndex=()=>{if(this._indexInvalid){const i=new Array(this._idByBounds.size);let s=0;this._idByBounds.forEach(((d,n)=>{i[s++]=n})),this._indexInvalid=!1,this._index.clear(),this._index.load(i)}else this._boundsToLoad.length&&(this._index.load(Array.from(new Set(this._boundsToLoad.filter((i=>this._idByBounds.has(i)))))),this._boundsToLoad.length=0)}}get fullBounds(){if(!this._boundsById.size)return null;const i=(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_2__.empty)();for(const s of this._boundsById.values())s&&(i[0]=Math.min(s[0],i[0]),i[1]=Math.min(s[1],i[1]),i[2]=Math.max(s[2],i[2]),i[3]=Math.max(s[3],i[3]));return i}get valid(){return!this._indexInvalid}clear(){this._indexInvalid=!1,this._boundsToLoad.length=0,this._boundsById.clear(),this._idByBounds.clear(),this._index.clear()}delete(i){const s=this._boundsById.get(i);this._boundsById.delete(i),s&&(this._idByBounds.delete(s),this._indexInvalid||this._index.remove(s))}forEachInBounds(i,s){this._loadIndex(),e(this._index,i,(i=>s(this._idByBounds.get(i))))}get(i){return this._boundsById.get(i)}has(i){return this._boundsById.has(i)}invalidateIndex(){this._indexInvalid||(this._indexInvalid=!0,this._boundsToLoad.length=0)}set(i,s){if(!this._indexInvalid){const s=this._boundsById.get(i);s&&(this._index.remove(s),this._idByBounds.delete(s))}this._boundsById.set(i,s),s&&(this._idByBounds.set(s,i),this._indexInvalid||(this._boundsToLoad.push(s),this._boundsToLoad.length>d&&this._loadIndex()))}}


/***/ }),

/***/ "./node_modules/@arcgis/core/layers/graphics/data/FeatureStore.js":
/*!************************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/graphics/data/FeatureStore.js ***!
  \************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ f)
/* harmony export */ });
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_Evented_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/Evented.js */ "./node_modules/@arcgis/core/core/Evented.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../geometry/support/aaBoundingBox.js */ "./node_modules/@arcgis/core/geometry/support/aaBoundingBox.js");
/* harmony import */ var _geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../geometry/support/aaBoundingRect.js */ "./node_modules/@arcgis/core/geometry/support/aaBoundingRect.js");
/* harmony import */ var _featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../featureConversionUtils.js */ "./node_modules/@arcgis/core/layers/graphics/featureConversionUtils.js");
/* harmony import */ var _BoundsStore_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./BoundsStore.js */ "./node_modules/@arcgis/core/layers/graphics/data/BoundsStore.js");
/* harmony import */ var _geometryUtils_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./geometryUtils.js */ "./node_modules/@arcgis/core/layers/graphics/data/geometryUtils.js");
/* harmony import */ var _optimizedFeatureQueryEngineAdapter_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./optimizedFeatureQueryEngineAdapter.js */ "./node_modules/@arcgis/core/layers/graphics/data/optimizedFeatureQueryEngineAdapter.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
const m=(0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_4__.create)();class f{constructor(e){this.geometryInfo=e,this._boundsStore=new _BoundsStore_js__WEBPACK_IMPORTED_MODULE_7__.BoundsStore,this._featuresById=new Map,this._usedMemory=0,this.events=new _core_Evented_js__WEBPACK_IMPORTED_MODULE_2__["default"],this.featureAdapter=_optimizedFeatureQueryEngineAdapter_js__WEBPACK_IMPORTED_MODULE_9__.optimizedFeatureQueryEngineAdapter}get usedMemory(){return this._usedMemory}get geometryType(){return this.geometryInfo.geometryType}get hasM(){return this.geometryInfo.hasM}get hasZ(){return this.geometryInfo.hasZ}get numFeatures(){return this._featuresById.size}get fullBounds(){return this._boundsStore.fullBounds}get storeStatistics(){let e=0;return this._featuresById.forEach((t=>{null!=t.geometry&&t.geometry.coords&&(e+=t.geometry.coords.length)})),{featureCount:this._featuresById.size,vertexCount:e/(this.hasZ?this.hasM?4:3:this.hasM?3:2)}}getFullExtent(e){if(null==this.fullBounds)return null;const[t,r,s,o]=this.fullBounds;return{xmin:t,ymin:r,xmax:s,ymax:o,spatialReference:(0,_geometryUtils_js__WEBPACK_IMPORTED_MODULE_8__.cleanFromGeometryEngine)(e)}}add(e){this._add(e),this._emitChanged()}addMany(e){for(const t of e)this._add(t);this._emitChanged()}upsertMany(t){const r=t.map((e=>this._upsert(e)));return this._emitChanged(),r.filter(_core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_0__.isSome)}clear(){this._featuresById.clear(),this._boundsStore.clear(),this._emitChanged(),this._usedMemory=0}removeById(e){const t=this._featuresById.get(e);return t?(this._remove(t),this._emitChanged(),t):null}removeManyById(e){this._boundsStore.invalidateIndex();for(const t of e){const e=this._featuresById.get(t);e&&this._remove(e)}this._emitChanged()}forEachBounds(e,t){for(const r of e){const e=this._boundsStore.get(r.objectId);e&&t((0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_4__.fromRect)(m,e))}}getFeature(e){return this._featuresById.get(e)}has(e){return this._featuresById.has(e)}forEach(e){this._featuresById.forEach((t=>e(t)))}forEachInBounds(e,t){this._boundsStore.forEachInBounds(e,(e=>{t(this._featuresById.get(e))}))}_emitChanged(){this.events.emit("changed",void 0)}_add(e){if(!e)return;const r=e.objectId;if(null==r)return void _core_Logger_js__WEBPACK_IMPORTED_MODULE_3__["default"].getLogger("esri.layers.graphics.data.FeatureStore").error(new _core_Error_js__WEBPACK_IMPORTED_MODULE_1__["default"]("featurestore:invalid-feature","feature id is missing",{feature:e}));const o=this._featuresById.get(r);let i;if(o?(e.displayId=o.displayId,i=this._boundsStore.get(r),this._boundsStore.delete(r),this._usedMemory-=this.estimateFeatureUsedMemory?.(o)??0):null!=this.onFeatureAdd&&this.onFeatureAdd(e),!e.geometry?.coords?.length)return this._boundsStore.set(r,null),void this._featuresById.set(r,e);i=(0,_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_6__.getBoundsOptimizedGeometry)(null!=i?i:(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_5__.create)(),e.geometry,this.geometryInfo.hasZ,this.geometryInfo.hasM),null!=i&&this._boundsStore.set(r,i),this._featuresById.set(r,e),this._usedMemory+=this.estimateFeatureUsedMemory?.(e)??0}_upsert(e){const r=e?.objectId;if(null==r)return _core_Logger_js__WEBPACK_IMPORTED_MODULE_3__["default"].getLogger("esri.layers.graphics.data.FeatureStore").error(new _core_Error_js__WEBPACK_IMPORTED_MODULE_1__["default"]("featurestore:invalid-feature","feature id is missing",{feature:e})),null;const o=this._featuresById.get(r);if(!o)return this._add(e),e;this._usedMemory-=this.estimateFeatureUsedMemory?.(o)??0;const{geometry:i,attributes:a}=e;for(const t in a)o.attributes[t]=a[t];return i&&(o.geometry=i,this._boundsStore.set(r,(0,_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_6__.getBoundsOptimizedGeometry)((0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_5__.create)(),i,this.geometryInfo.hasZ,this.geometryInfo.hasM)??null)),this._usedMemory+=this.estimateFeatureUsedMemory?.(o)??0,o}_remove(e){null!=this.onFeatureRemove&&this.onFeatureRemove(e);const t=e.objectId;return this._boundsStore.delete(t),this._featuresById.delete(t),this._usedMemory-=this.estimateFeatureUsedMemory?.(e)??0,e}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/FeatureLikeLayerView3D.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/FeatureLikeLayerView3D.js ***!
  \*****************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   FeatureLikeLayerView3D: () => (/* binding */ g)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _Graphic_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../Graphic.js */ "./node_modules/@arcgis/core/Graphic.js");
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../core/maybe.js */ "./node_modules/@arcgis/core/core/maybe.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_RandomLCG_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../core/RandomLCG.js */ "./node_modules/@arcgis/core/core/RandomLCG.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _layers_graphics_hydratedFeatures_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../layers/graphics/hydratedFeatures.js */ "./node_modules/@arcgis/core/layers/graphics/hydratedFeatures.js");
/* harmony import */ var _layers_support_timeSupport_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../layers/support/timeSupport.js */ "./node_modules/@arcgis/core/layers/support/timeSupport.js");
/* harmony import */ var _rest_support_Query_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../rest/support/Query.js */ "./node_modules/@arcgis/core/rest/support/Query.js");
/* harmony import */ var _webgl_engine_lib_UpdatePolicy_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../webgl-engine/lib/UpdatePolicy.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/UpdatePolicy.js");
/* harmony import */ var _support_HighlightDefaults_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../support/HighlightDefaults.js */ "./node_modules/@arcgis/core/views/support/HighlightDefaults.js");
/* harmony import */ var _support_layerViewUtils_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../support/layerViewUtils.js */ "./node_modules/@arcgis/core/views/support/layerViewUtils.js");
/* harmony import */ var _support_projectionUtils_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../support/projectionUtils.js */ "./node_modules/@arcgis/core/views/support/projectionUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
const g=g=>{let d=class extends g{constructor(){super(...arguments),this.highlightOptions=null,this.updatePolicy=_webgl_engine_lib_UpdatePolicy_js__WEBPACK_IMPORTED_MODULE_12__.UpdatePolicy.SYNC,this.slicePlaneEnabled=!1,this.fullExtentInLocalViewSpatialReference=null,this.supportsHeightUnitConversion=!0}initialize(){const e=this.layer;"isTable"in e&&e.isTable?this.addResolvingPromise(Promise.reject(new _core_Error_js__WEBPACK_IMPORTED_MODULE_2__["default"]("featurelayerview:table-not-supported","table feature layer can't be displayed",{layer:e}))):(this.addResolvingPromise(this._validateGeometryType()),this.addResolvingPromise((async()=>{if(this.destroyed)return;this.fullExtentInLocalViewSpatialReference="local"===this.view.viewingMode?await (0,_support_projectionUtils_js__WEBPACK_IMPORTED_MODULE_15__.projectWithZConversionSilent)(this.layer.fullExtent,this.view.spatialReference):null;const e=await this.createGraphicsPipeline();this.destroyed?e.destroy():(this.graphicsPipeline=e,await e.when())})()),this.notifyChange("updating"))}destroy(){this.graphicsPipeline=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_4__.destroyMaybe)(this.graphicsPipeline)}get dataUpdating(){return!!this.graphicsPipeline?.dataUpdating}get legendEnabled(){return this.canResume()&&this.graphicsPipeline?.legendEnabled}get visibleAtCurrentScale(){return (0,_support_layerViewUtils_js__WEBPACK_IMPORTED_MODULE_14__.hasLayerBasedScaleVisibility)()?(0,_support_layerViewUtils_js__WEBPACK_IMPORTED_MODULE_14__.isInEffectiveScaleRange)(this.layer.effectiveScaleRange,this.view.scale):!this.graphicsPipeline?.scaleVisibilitySuspended}get symbologySnappingSupported(){return this.graphicsPipeline.symbologySnappingSupported}get hasAllFeatures(){return this.graphicsPipeline.hasAllFeatures}get hasAllFeaturesInView(){return this.graphicsPipeline.hasAllFeaturesInView}get hasFullGeometries(){return this.graphicsPipeline.hasFullGeometries}get timeExtent(){return (0,_layers_support_timeSupport_js__WEBPACK_IMPORTED_MODULE_10__.combineTimeExtent)(this.layer,this.view?.timeExtent,this._get("timeExtent"))}getHit(e){if((0,_core_has_js__WEBPACK_IMPORTED_MODULE_3__["default"])("feature-pipeline-3d-test"))return this._getHitMock(e);const t=this.graphicsPipeline.findGraphic((t=>t.uid===e));if(null==t)return null;const r=(0,_layers_graphics_hydratedFeatures_js__WEBPACK_IMPORTED_MODULE_9__.hydrateGraphic)(t,this.layer);return{type:"graphic",graphic:r,layer:r.layer}}_getHitMock(e){const r=this.layer,i={};i[this.layer.objectIdField]=e;const s=new _Graphic_js__WEBPACK_IMPORTED_MODULE_1__["default"]({layer:r,sourceLayer:r,visible:!0,symbol:null,attributes:i,geometry:null});return{type:"graphic",graphic:s,layer:s.layer}}whenGraphicBounds(e,t){return this.graphicsPipeline?.whenGraphicBounds(e,t)}computeAttachmentOrigin(e,t){return this.graphicsPipeline?.computeAttachmentOrigin(e,t)}async elevationAlignPointsInFeatures(e,t){return this.graphicsPipeline.elevationAlignPointsInFeatures(e,t)}async queryForSymbologySnapping(e,t){return this.graphicsPipeline.graphicsQuery.queryForSymbologySnapping(e,t)}queryFeatures(e,t){return this.graphicsPipeline.graphicsQuery.executeQuery(this._ensureQuery(e),t?.signal)}queryObjectIds(e,t){return this.graphicsPipeline.graphicsQuery.executeQueryForIds(this._ensureQuery(e),t?.signal)}queryFeatureCount(e,t){return this.graphicsPipeline.graphicsQuery.executeQueryForCount(this._ensureQuery(e),t?.signal)}queryExtent(e,t){return this.graphicsPipeline.graphicsQuery.executeQueryForExtent(this._ensureQuery(e),t?.signal)}_ensureQuery(e){return null==e?this.createQuery():_rest_support_Query_js__WEBPACK_IMPORTED_MODULE_11__["default"].from(e)}highlight(e,t){return this.graphicsPipeline.highlight(e,t?.name??_support_HighlightDefaults_js__WEBPACK_IMPORTED_MODULE_13__.defaultHighlightName)}maskOccludee(e){return this.graphicsPipeline.maskOccludee(e)}getSuspendInfo(){return{...super.getSuspendInfo(),...this.graphicsPipeline.suspendInfo}}isUpdating(){return!(!this.graphicsPipeline||this.graphicsPipeline.destroyed)&&!(!this.graphicsPipeline?.updating&&this.view?.basemapTerrain?.ready)}async _validateGeometryType(){switch(this.layer.geometryType){case"multipatch":case"multipoint":throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_2__["default"]("featurelayerview3d:unsupported-geometry-type","Unsupported geometry type ${geometryType}",{geometryType:this.layer.geometryType})}}get performanceInfo(){return this.graphicsPipeline.performanceInfo}queryAttributeBins(){throw new Error("Not implemented")}queryAggregates(){throw new Error("Not implemented")}};return (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],d.prototype,"graphicsPipeline",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)({readOnly:!0})],d.prototype,"dataUpdating",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],d.prototype,"highlightOptions",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],d.prototype,"suspended",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)({readOnly:!0})],d.prototype,"legendEnabled",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)({readOnly:!0})],d.prototype,"visibleAtCurrentScale",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],d.prototype,"updating",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)({readOnly:!0})],d.prototype,"updatePolicy",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)({type:Boolean})],d.prototype,"slicePlaneEnabled",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)({readOnly:!0})],d.prototype,"suspendInfo",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],d.prototype,"symbologySnappingSupported",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)({readOnly:!0})],d.prototype,"hasAllFeatures",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)({readOnly:!0})],d.prototype,"hasAllFeaturesInView",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)({readOnly:!0})],d.prototype,"hasFullGeometries",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)({readOnly:!0})],d.prototype,"timeExtent",null),d=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_8__.subclass)("esri.views.3d.layers.FeatureLikeLayerView3D")],d),d};


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DGraphicsPipeline.js":
/*!******************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DGraphicsPipeline.js ***!
  \******************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Graphics3DGraphicsPipeline: () => (/* binding */ _)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core/maybe.js */ "./node_modules/@arcgis/core/core/maybe.js");
/* harmony import */ var _core_Promise_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../core/Promise.js */ "./node_modules/@arcgis/core/core/Promise.js");
/* harmony import */ var _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../core/reactiveUtils.js */ "./node_modules/@arcgis/core/core/reactiveUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_RandomLCG_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../core/RandomLCG.js */ "./node_modules/@arcgis/core/core/RandomLCG.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _core_support_UpdatingHandles_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../core/support/UpdatingHandles.js */ "./node_modules/@arcgis/core/core/support/UpdatingHandles.js");
/* harmony import */ var _layers_graphics_controllers_FeatureTileController3D_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../layers/graphics/controllers/FeatureTileController3D.js */ "./node_modules/@arcgis/core/layers/graphics/controllers/FeatureTileController3D.js");
/* harmony import */ var _symbols_support_utils_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../../symbols/support/utils.js */ "./node_modules/@arcgis/core/symbols/support/utils.js");
/* harmony import */ var _elevationAlignPointsInFeatures_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./elevationAlignPointsInFeatures.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/elevationAlignPointsInFeatures.js");
/* harmony import */ var _Graphics3DFeatureProcessor_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./Graphics3DFeatureProcessor.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DFeatureProcessor.js");
/* harmony import */ var _QueryEngine_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./QueryEngine.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/QueryEngine.js");
/* harmony import */ var _QueryEngineContext_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./QueryEngineContext.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/QueryEngineContext.js");
/* harmony import */ var _queryForSymbologySnapping_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./queryForSymbologySnapping.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/queryForSymbologySnapping.js");
/* harmony import */ var _support_HeatmapFeatureProcessor_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../support/HeatmapFeatureProcessor.js */ "./node_modules/@arcgis/core/views/3d/layers/support/HeatmapFeatureProcessor.js");
/* harmony import */ var _support_LayerViewPerformanceInfo_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../support/LayerViewPerformanceInfo.js */ "./node_modules/@arcgis/core/views/3d/layers/support/LayerViewPerformanceInfo.js");
/* harmony import */ var _webgl_engine_lib_UpdatePolicy_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../../webgl-engine/lib/UpdatePolicy.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/UpdatePolicy.js");
/* harmony import */ var _support_layerViewUtils_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../../../support/layerViewUtils.js */ "./node_modules/@arcgis/core/views/support/layerViewUtils.js");
/* harmony import */ var _support_Scheduler_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../../../support/Scheduler.js */ "./node_modules/@arcgis/core/views/support/Scheduler.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
let _=class extends _core_Promise_js__WEBPACK_IMPORTED_MODULE_3__["default"]{constructor(e){super(e),this._dataUpdatingState=v.NONE,this.graphicsQuery={queryForSymbologySnapping:async(e,t)=>this.symbologySnappingSupported?(0,_queryForSymbologySnapping_js__WEBPACK_IMPORTED_MODULE_17__.queryForSymbologySnapping)(this.graphics3DProcessor,e,t):{candidates:[],sourceCandidateIndices:[]},executeQuery:(e,t)=>this.queryEngine.executeQuery(e,t),executeQueryForIds:(e,t)=>this.queryEngine.executeQueryForIds(e,t),executeQueryForCount:(e,t)=>this.queryEngine.executeQueryForCount(e,t),executeQueryForExtent:(e,t)=>this.queryEngine.executeQueryForExtent(e,t),executeQueryForLatestObservations:(e,t)=>this.queryEngine.executeQueryForLatestObservations(e,t)},this.controller=null,this.updatingHandles=new _core_support_UpdatingHandles_js__WEBPACK_IMPORTED_MODULE_10__.UpdatingHandles,this._controllerCreated=!1,this._pendingController=null}initialize(){this.addResolvingPromise(this._initializeController()),this.updatingHandles.add((()=>this.layer.renderer),(e=>this._recreateProcessor(e)),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_4__.initial),this.updatingHandles.add((()=>this.updatePolicy),(e=>this.processor.preferredUpdatePolicy=e));const{layer:e,view:t,hasM:r,hasZ:i}=this,{spatialReference:o,resourceController:n}=t,a=new _QueryEngineContext_js__WEBPACK_IMPORTED_MODULE_16__.QueryEngineContext(o,e,n,(()=>this.processor.featureStore),i,r);this.queryEngine=new _QueryEngine_js__WEBPACK_IMPORTED_MODULE_15__.QueryEngine({context:a,priority:_support_Scheduler_js__WEBPACK_IMPORTED_MODULE_22__.TaskPriority.FEATURE_QUERY_ENGINE})}destroy(){this.removeAllHandles(),this.updatingHandles.destroy(),this._destroyPendingController(),this.controller=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_2__.destroyMaybe)(this.controller),this.processor=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_2__.destroyMaybe)(this.processor),this.queryEngine=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_2__.destroyMaybe)(this.queryEngine),this.loadedGraphics=null}_destroyPendingController(){this._pendingController=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_2__.destroyMaybe)(this._pendingController)}get updating(){return this.updatingHandles.updating||!this._controllerCreated||this.controller?.updating||this.processor?.updating}get legendEnabled(){return this.processor.legendEnabled}get layer(){return this.layerView.layer}get layerViewUid(){return this.layerView.uid}get view(){return this.layerView.view}get hasZ(){return this.layerView.hasZ}get hasM(){return this.layerView.hasM}get fullOpacity(){return this.layerView.fullOpacity}get suspended(){return this.layerView.suspended}get filter(){return"filter"in this.layerView?this.layerView.filter:null}get effectiveDisplayFilter(){return"effectiveDisplayFilter"in this.layerView?this.layerView.effectiveDisplayFilter:null}get slicePlaneEnabled(){return this.layerView.slicePlaneEnabled}get featureSpatialReference(){return"featureSpatialReference"in this.layerView?this.layerView.featureSpatialReference:null}get graphics3DProcessor(){return"graphics-3d"===this.processor?.type?this.processor:null}get heatmapProcessor(){return"heatmap"===this.processor?.type?this.processor:null}get hasAllFeatures(){return!(!this.controller||!("hasAllFeatures"in this.controller))&&this.controller.hasAllFeatures}get hasAllFeaturesInView(){return!(!this.controller||!("hasAllFeaturesInView"in this.controller))&&this.controller.hasAllFeaturesInView}get hasFullGeometries(){return!(!this.controller||!("hasFullGeometries"in this.controller))&&this.controller.hasFullGeometries}get symbologySnappingSupported(){return this.layer?.renderer?.symbols?.some(_symbols_support_utils_js__WEBPACK_IMPORTED_MODULE_12__.symbolHasExtrudeSymbolLayer)??!1}get updatePolicy(){return _webgl_engine_lib_UpdatePolicy_js__WEBPACK_IMPORTED_MODULE_20__.UpdatePolicy.SYNC}get scaleVisibilitySuspended(){return this.processor?.scaleVisibilitySuspended}get timeExtent(){return"timeExtent"in this.layerView?this.layerView.timeExtent:null}get dataUpdating(){return this._dataUpdatingState!==v.NONE}get suspendInfo(){return this.processor?.suspendInfo??{}}forEachGraphic(e){this.loadedGraphics.forEach(e)}findGraphic(e){return this.loadedGraphics.find(e)}queryObjectIds(e,t){return this.layerView.queryObjectIds(e,t)}whenGraphicBounds(e,t){return this.processor?.whenGraphicBounds(e,t)}computeAttachmentOrigin(e,t){return this.processor?.computeAttachmentOrigin(e,t)}async elevationAlignPointsInFeatures(e,r){const i=this.graphics3DProcessor;if(null==i)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_1__["default"]("featurelayerview3d:missing-processor","A Graphics3D processor is needed to resolve graphics elevation.");return (0,_elevationAlignPointsInFeatures_js__WEBPACK_IMPORTED_MODULE_13__.elevationAlignPointsInFeatures)(this.view,this.layer,(e=>i.getGraphics3DGraphicByObjectId(e)),e,r)}highlight(e,t){return this.processor.highlight(e,this.layer.objectIdField,t)}maskOccludee(e){return this.processor.maskOccludee(e)}notifyContentGeometryUpdate(){this.layerView.emit("visible-geometry-changed")}async _initializeController(){const e=this.createController();this._pendingController=e,this._setupDataUpdating(e),await e.when(),this._setControllerWhenInitialized(e)}_setupDataUpdating(e){"dataUpdating"in e&&this.addHandles([(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_4__.watch)((()=>e.dataUpdating),(e=>{e&&this._dataUpdatingState===v.NONE?this._dataUpdatingState=v.CONTROLLER:e||this._dataUpdatingState!==v.CONTROLLER||(this._dataUpdatingState=v.NONE)}),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_4__.sync),(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_4__.watch)((()=>!!this.graphics3DProcessor?.dataUpdating),(t=>{t&&this._dataUpdatingState===v.CONTROLLER?this._dataUpdatingState=v.CORE:t||this._dataUpdatingState!==v.CORE||(this._dataUpdatingState=e.dataUpdating?v.CONTROLLER:v.NONE)}),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_4__.sync)])}async _setControllerWhenInitialized(e){try{await this.when()}catch(t){}this._controllerCreated=!0,this.isResolved()&&!this.destroyed?(await (0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_4__.whenOnce)((()=>this.view?.basemapTerrain?.ready)),this.beforeSetController(e),this._pendingController=null,this.controller=e,this.loadedGraphics=e.graphics):this._destroyPendingController()}_recreateProcessor(e){const t="heatmap"===e?.type,r="heatmap"===this.processor?.type,i=this.processor;if(i&&t===r)return;const s=t?new _support_HeatmapFeatureProcessor_js__WEBPACK_IMPORTED_MODULE_18__.HeatmapFeatureProcessor({owner:this}):new _Graphics3DFeatureProcessor_js__WEBPACK_IMPORTED_MODULE_14__.Graphics3DFeatureProcessor({owner:this,frustumVisibilityEnabled:!0,scaleVisibilityEnabled:!(0,_support_layerViewUtils_js__WEBPACK_IMPORTED_MODULE_21__.hasLayerBasedScaleVisibility)(),filterVisibilityEnabled:!0,timeExtentEnabled:!0,elevationAlignmentEnabled:!0,elevationFeatureExpressionEnabled:!0,preferredUpdatePolicy:this.updatePolicy,updateClippingExtent:e=>this._updateClippingExtent(e)});this.processor=s,i?.destroy(),this.queryEngine?.clear(),this.addResolvingPromise(s.when())}_updateClippingExtent(e){if(this.clippingExtent=e,!this.controller)return!1;switch(this.controller.type){case"stream":return!1;case"feature-tile-3d":return this.controller.extent=e,!0}}get usedMemory(){return this.processor?.usedMemory??0}get performanceInfo(){const e=this.controller instanceof _layers_graphics_controllers_FeatureTileController3D_js__WEBPACK_IMPORTED_MODULE_11__.FeatureTileController3D?this.controller:null;return new _support_LayerViewPerformanceInfo_js__WEBPACK_IMPORTED_MODULE_19__.LayerViewPerformanceInfo(this.usedMemory,this.loadedGraphics?.length,e?.serviceDataCount??-1,e?.maximumNumberOfFeatures??-1,0,this.processor.performanceInfo)}};var v;(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],_.prototype,"updating",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],_.prototype,"legendEnabled",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],_.prototype,"layerView",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],_.prototype,"layer",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],_.prototype,"layerViewUid",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],_.prototype,"view",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],_.prototype,"hasZ",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],_.prototype,"hasM",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],_.prototype,"fullOpacity",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],_.prototype,"suspended",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],_.prototype,"filter",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],_.prototype,"effectiveDisplayFilter",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],_.prototype,"slicePlaneEnabled",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],_.prototype,"featureSpatialReference",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],_.prototype,"loadedGraphics",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],_.prototype,"graphics3DProcessor",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],_.prototype,"heatmapProcessor",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],_.prototype,"hasAllFeatures",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],_.prototype,"hasAllFeaturesInView",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],_.prototype,"hasFullGeometries",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],_.prototype,"symbologySnappingSupported",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],_.prototype,"updatePolicy",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],_.prototype,"scaleVisibilitySuspended",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],_.prototype,"timeExtent",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],_.prototype,"_dataUpdatingState",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)({readOnly:!0})],_.prototype,"dataUpdating",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],_.prototype,"controller",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],_.prototype,"processor",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],_.prototype,"updatingHandles",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],_.prototype,"_controllerCreated",void 0),_=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_9__.subclass)("esri.views.3d.layers.graphics.Graphics3DGraphicsPipeline")],_),function(e){e[e.NONE=0]="NONE",e[e.CONTROLLER=1]="CONTROLLER",e[e.CORE=2]="CORE"}(v||(v={}));


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/graphics/elevationAlignPointsInFeatures.js":
/*!**********************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/graphics/elevationAlignPointsInFeatures.js ***!
  \**********************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   elevationAlignPointsInFeatures: () => (/* binding */ l)
/* harmony export */ });
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/libs/gl-matrix-2/factories/vec3f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/vec3f64.js");
/* harmony import */ var _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../geometry/SpatialReference.js */ "./node_modules/@arcgis/core/geometry/SpatialReference.js");
/* harmony import */ var _geometry_projection_projectPointToVector_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../geometry/projection/projectPointToVector.js */ "./node_modules/@arcgis/core/geometry/projection/projectPointToVector.js");
/* harmony import */ var _layers_graphics_dehydratedPoint_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../layers/graphics/dehydratedPoint.js */ "./node_modules/@arcgis/core/layers/graphics/dehydratedPoint.js");
/* harmony import */ var _support_elevationInfoUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../support/elevationInfoUtils.js */ "./node_modules/@arcgis/core/support/elevationInfoUtils.js");
/* harmony import */ var _elevationAlignmentUtils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./elevationAlignmentUtils.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/elevationAlignmentUtils.js");
/* harmony import */ var _ElevationContext_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./ElevationContext.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/ElevationContext.js");
/* harmony import */ var _featureExpressionInfoUtils_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./featureExpressionInfoUtils.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/featureExpressionInfoUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
async function l(l,m,d,j,u){const{elevationProvider:v,renderCoordsHelper:g}=l,{elevationInfo:I}=m,{pointsInFeatures:x,spatialReference:y}=j,h=_geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_2__["default"].fromJSON(y),w=(0,_featureExpressionInfoUtils_js__WEBPACK_IMPORTED_MODULE_8__.extractExpressionInfo)(I,!0),R=await (0,_featureExpressionInfoUtils_js__WEBPACK_IMPORTED_MODULE_8__.createContext)(w,h,u);(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_0__.throwIfAborted)(u);const S=[],b=new Set,z=new Set,E=new _ElevationContext_js__WEBPACK_IMPORTED_MODULE_7__.ElevationContext,P=(0,_layers_graphics_dehydratedPoint_js__WEBPACK_IMPORTED_MODULE_4__.makeDehydratedPoint)(0,0,0,_geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_2__["default"].WGS84),U=new _elevationAlignmentUtils_js__WEBPACK_IMPORTED_MODULE_6__.SampleElevationInfo,C=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_1__.create)();P.spatialReference=h;const F=l.elevationProvider.spatialReference??l.spatialReference;for(const{objectId:e,points:o}of x){const t=d(e);if(null==t){for(const e of o)S.push(e.z??0);b.add(e);continue}t.isDraped&&z.add(e);const i=t.graphic.geometry;E.setFromElevationInfo((0,_support_elevationInfoUtils_js__WEBPACK_IMPORTED_MODULE_5__.getGeometryEffectiveElevationInfo)(i,I)),E.updateFeatureExpressionInfoContext(R,t.graphic,m);for(const{x:e,y:n,z:a}of o)P.x=e,P.y=n,P.z=a??0,await (0,_geometry_projection_projectPointToVector_js__WEBPACK_IMPORTED_MODULE_3__.projectPointToVectorAsync)(P,C,F,0,{signal:u}),(0,_elevationAlignmentUtils_js__WEBPACK_IMPORTED_MODULE_6__.evaluateElevationInfoAtPoint)(C,v,E,g,U),S.push(U.z)}return{elevations:S,drapedObjectIds:z,failedObjectIds:b}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/graphics/queryForSymbologySnapping.js":
/*!*****************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/graphics/queryForSymbologySnapping.js ***!
  \*****************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   queryForSymbologySnapping: () => (/* binding */ r)
/* harmony export */ });
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _support_loadArcade_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../support/loadArcade.js */ "./node_modules/@arcgis/core/support/loadArcade.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
async function r(r,a,s){if(null==r||0===a.candidates.length)return t;const i=r.graphics3DGraphicsByObjectID??r.graphics3DGraphics,o=[],c=[],{renderer:d}=r,l=null!=d&&"arcadeRequired"in d&&d.arcadeRequired?(0,_support_loadArcade_js__WEBPACK_IMPORTED_MODULE_1__.loadArcade)():null,p=async(e,{graphic:n,graphics3DSymbol:t})=>{const a=await l,i=await r.getRenderingInfoAsync(n,d,a,{signal:s});return null==i?[]:t.queryForSnapping(e,g,i,s)},{candidates:u,spatialReference:g}=a;for(let e=0;e<u.length;++e){const n=u[e],{objectId:r}=n,t="number"==typeof r?i?.get(r):void 0;if(null==t)continue;const{graphics3DSymbol:a}=t;a.symbologySnappingSupported&&(o.push(p(n,t)),c.push(e))}if(0===o.length)return t;const h=await Promise.all(o);(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_0__.throwIfAborted)(s);const f=[],m=[];for(let e=0;e<h.length;++e){const n=h[e],r=c[e];for(const e of n)f.push(e),m.push(r)}return{candidates:f,sourceCandidateIndices:m}}const t={candidates:[],sourceCandidateIndices:[]};


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/support/FeatureTile.js":
/*!**************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/support/FeatureTile.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   FeatureTile: () => (/* binding */ g),
/* harmony export */   FeatureTileCacheItem: () => (/* binding */ D),
/* harmony export */   FetchStatus: () => (/* binding */ p),
/* harmony export */   ReduceMode: () => (/* binding */ y),
/* harmony export */   failedFeatureCount: () => (/* binding */ S)
/* harmony export */ });
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_memoryEstimations_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/memoryEstimations.js */ "./node_modules/@arcgis/core/core/memoryEstimations.js");
/* harmony import */ var _core_signal_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core/signal.js */ "./node_modules/@arcgis/core/core/signal.js");
/* harmony import */ var _geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../geometry/support/aaBoundingBox.js */ "./node_modules/@arcgis/core/geometry/support/aaBoundingBox.js");
/* harmony import */ var _geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../geometry/support/aaBoundingRect.js */ "./node_modules/@arcgis/core/geometry/support/aaBoundingRect.js");
/* harmony import */ var _layers_graphics_dehydratedFeatures_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../layers/graphics/dehydratedFeatures.js */ "./node_modules/@arcgis/core/layers/graphics/dehydratedFeatures.js");
/* harmony import */ var _graphics_graphicUtils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../graphics/graphicUtils.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/graphicUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
const F=16438;class g{constructor(t){this.descriptor=t,this._numVertices=0,this.exceededTransferLimit=(0,_core_signal_js__WEBPACK_IMPORTED_MODULE_2__.signal)(!1),this._fetchFailed=(0,_core_signal_js__WEBPACK_IMPORTED_MODULE_2__.signal)(!1),this._sorted=!1,this._numFeatures=(0,_core_signal_js__WEBPACK_IMPORTED_MODULE_2__.signal)(E),this._emptyFeatureRatio=(0,_core_signal_js__WEBPACK_IMPORTED_MODULE_2__.signal)(0),this._estimatedSize=-1,this._estimatedUnusedSize=0,this._estimatedUnusedSizeDirty=!1,this._displayingFeatures=null,this.alive=!0,this.filtered=!1,this._features=null,this._featuresLength=(0,_core_signal_js__WEBPACK_IMPORTED_MODULE_2__.signal)(0),this._featureLimit=(0,_core_signal_js__WEBPACK_IMPORTED_MODULE_2__.signal)(0),this._fetchStatus=p.FETCH_NEEDED,this.fetchInformation=(0,_core_signal_js__WEBPACK_IMPORTED_MODULE_2__.signal)(""),this.fetchingResolution=this.displayingResolution=t.resolution}get featuresMissing(){return this.fetchFailed||(this.hasPreciseFeatureCount?this._featuresLength.value<this.numFeatures:this.exceededTransferLimit.value)}get showsAllFeatures(){return!this.fetchFailed&&null!=this.displayingFeatures&&(this.hasPreciseFeatureCount?this.displayingFeatures.length===this.numFeatures:!this.exceededTransferLimit.value)}get missingAttributes(){return this._missingAttributes}get fetchFailed(){return this._fetchFailed.value}set fetchFailed(t){this._fetchFailed.value=t}get displayingFeatures(){return this._displayingFeatures}set displayingFeatures(t){this._displayingFeatures=t,this.extentIncludingBorrowedFeatures=null}get perTileMaximumNumberOfFeaturesExceeded(){const t=this.isFetched&&this.featuresMissing;return!this.filtered&&(t||this.hasFeatureLimit)}get features(){return this._features}get featureLimit(){return this._featureLimit.value}set featureLimit(t){this._featureLimit.value!==t&&(this._featureLimit.value=t,this._estimatedUnusedSizeDirty=!0)}get hasFeatureLimit(){return this.featureLimit!==this._featuresLength.value}get availableFields(){return this._availableFields}setFeatures(t,e,s,i){this._availableFields=s,this._features=t,this._featuresLength.value=t?.length??0,this._sorted=!1,this._estimatedSize=-1,this._estimatedUnusedSizeDirty=!0,this._missingAttributes=i,t&&t.length>0?(this._emptyFeatureRatio.value=e/(t.length+e),this._numVertices=t.reduce(((t,e)=>t+(0,_layers_graphics_dehydratedFeatures_js__WEBPACK_IMPORTED_MODULE_5__.numVertices)(e.geometry)),0)):(this._emptyFeatureRatio.value=0,this._numVertices=0)}computeZQuantizationFactor(){if(this._features&&this._features.length>0){const t=this._features.reduce(((t,{geometry:e})=>Math.max(t,(0,_graphics_graphicUtils_js__WEBPACK_IMPORTED_MODULE_6__.computeMaxZ)(e)??0)),0);return Math.floor(t/this.descriptor.planetRadius)+1}return 1}get emptyFeatureRatio(){return this._emptyFeatureRatio.value}get numFeatures(){return this.hasPreciseFeatureCount?this._numFeatures.value:this._features?this._featuresLength.value:0}set numFeatures(t){this._numFeatures.value=t}get hasPreciseFeatureCount(){return this._numFeatures.value>E}get needsFeatureCount(){return this._numFeatures.value===E}get numVertices(){return this._numVertices}get id(){return this.descriptor.id}get estimatedSize(){return this.updateMemoryEstimates(),this._estimatedSize}get estimatedUnusedSize(){return this._estimatedUnusedSize}updateMemoryEstimates(){if(this._estimatedSize<0){if(this._estimatedSize=0,this._estimatedUnusedSize=0,this._features)for(let t=0;t<this._features.length;++t){const e=(0,_layers_graphics_dehydratedFeatures_js__WEBPACK_IMPORTED_MODULE_5__.estimateSize)(this._features[t]);this._estimatedSize+=e,t>=this.featureLimit&&(this._estimatedUnusedSize+=e)}return!0}if(this._estimatedUnusedSizeDirty){if(this._estimatedUnusedSize=0,this._estimatedUnusedSizeDirty=!1,this._features)for(let t=this.featureLimit;t<this._features.length;++t)this._estimatedUnusedSize+=(0,_layers_graphics_dehydratedFeatures_js__WEBPACK_IMPORTED_MODULE_5__.estimateSize)(this._features[t]);return!0}return!1}get fetchStatus(){return this._fetchStatus}requestFetch(){this._fetchStatus=p.FETCH_NEEDED}requestRefetch(){this._fetchStatus=p.REFETCH_NEEDED}startFetch(){this._fetchStatus=this.needsRefetch?p.REFETCHING:p.FETCHING}fetchDone(t){this._fetchStatus=t}get isFetching(){return this._fetchStatus===p.FETCHING||this._fetchStatus===p.REFETCHING}get isRefetching(){return this._fetchStatus===p.REFETCHING}get needsFetch(){return this._fetchStatus===p.FETCH_NEEDED||this._fetchStatus===p.REFETCH_NEEDED}get needsRefetch(){return this._fetchStatus===p.REFETCH_NEEDED}get isFetched(){return this._fetchStatus===p.DONE||this._fetchStatus===p.FULL}isFullyFetched(t){return!!this.features&&(this.features.length>=t||this.fetchStatus===p.FULL)}resetFetching(){this._fetchStatus=this.isRefetching?p.REFETCH_NEEDED:p.FETCH_NEEDED}get needsDisplayUpdate(){return!!this._features&&!L(this._features,this.displayingFeatures,this.featureLimit)}intersects(t){return null==t||!this.descriptor.extent||((0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_4__.fromExtent)(t,v),(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_4__.intersects)(this.descriptor.extent,v))}intersectionIncludingBorrowed(t,e){const s=null!=this.extentIncludingBorrowedFeatures?this.extentIncludingBorrowedFeatures:this.descriptor.extent;return t||s?(null!=t?((0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_4__.fromExtent)(t,e),(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_4__.intersection)(e,s,e)):(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_4__.copy)(e,s),e):((0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_4__.copy)(e,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_4__.positiveInfinity),e)}_shuffle(e){this._features?.sort(((t,s)=>(0,_layers_graphics_dehydratedFeatures_js__WEBPACK_IMPORTED_MODULE_5__.getObjectId)(t,e)-(0,_layers_graphics_dehydratedFeatures_js__WEBPACK_IMPORTED_MODULE_5__.getObjectId)(s,e))),(0,_core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_0__.shuffle)(this._features,F)}_sortBySize(t){this._features?.sort(((e,s)=>(0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_3__.diameter)((0,_layers_graphics_dehydratedFeatures_js__WEBPACK_IMPORTED_MODULE_5__.computeAABB)(s.geometry,R))-(0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_3__.diameter)((0,_layers_graphics_dehydratedFeatures_js__WEBPACK_IMPORTED_MODULE_5__.computeAABB)(e.geometry,R))||(0,_layers_graphics_dehydratedFeatures_js__WEBPACK_IMPORTED_MODULE_5__.getObjectId)(e,t)-(0,_layers_graphics_dehydratedFeatures_js__WEBPACK_IMPORTED_MODULE_5__.getObjectId)(s,t)))}reduceFeatures(t,e,s,i){if(t<=0)return!1;if(!this._features)return this.featureLimit=0,!1;let r=!1;this.featureLimit=Math.ceil(this.numFeatures*t),this.featureLimit>this._features.length&&this._fetchStatus===p.DONE&&this._features.length>0&&(this._fetchStatus=p.REFETCH_NEEDED,r=!0),!this._sorted&&t<1&&(i===y.RANDOM?this._shuffle(s):this._sortBySize(s),this._sorted=!0,this._estimatedUnusedSizeDirty=!0);const a=Math.max(this.featureLimit,Math.ceil(e*this.numFeatures));return this._features.length>a&&(this._features.length=a,this._featuresLength.value=a,this.exceededTransferLimit.value=!1,this._fetchStatus===p.FULL&&(this._fetchStatus=p.DONE)),r}get cache(){return new D(this,this._features,this._numFeatures.value,this._emptyFeatureRatio.value)}set cache(t){this.requestController=null,this._availableFields=t.availableFields,this._features=t.features,this._featuresLength.value=t.features?.length??0,this._numFeatures.value=t.numFeatures,this._emptyFeatureRatio.value=t.emptyFeatureRatio,this._fetchStatus=t.fetchStatus,this.exceededTransferLimit.value=t.exceededTransferLimit,this._estimatedSize=-1,this._estimatedUnusedSizeDirty=!0,this.fetchInformation.value=t.fetchInformation}}const E=-1,S=-2;var p,y;!function(t){t[t.FETCH_NEEDED=0]="FETCH_NEEDED",t[t.REFETCH_NEEDED=1]="REFETCH_NEEDED",t[t.FETCHING=2]="FETCHING",t[t.REFETCHING=3]="REFETCHING",t[t.DONE=4]="DONE",t[t.FULL=5]="FULL"}(p||(p={})),function(t){t[t.SIZE=0]="SIZE",t[t.RANDOM=1]="RANDOM"}(y||(y={}));class D{constructor(t,s,i,r){this.features=s,this.numFeatures=i,this.emptyFeatureRatio=r,this.cachedMemory=_core_memoryEstimations_js__WEBPACK_IMPORTED_MODULE_1__.baseObjectMemory+t.estimatedSize,this.resolution=t.displayingResolution,this.availableFields=t.availableFields,this.fetchStatus=t.fetchStatus,this.exceededTransferLimit=t.exceededTransferLimit.value,this.fetchInformation=t.fetchInformation.value}}function L(t,e,s){if(null==e||null==t||s!==e.length||s>t.length)return!1;for(let i=0;i<s;++i)if(t[i]!==e[i])return!1;return!0}const v=(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_4__.create)(),R=(0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_3__.create)();


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/support/FeatureTileFetcher3D.js":
/*!***********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/support/FeatureTileFetcher3D.js ***!
  \***********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   FeatureTileFetcher3D: () => (/* binding */ q)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/Accessor.js */ "./node_modules/@arcgis/core/core/Accessor.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_MapUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../core/MapUtils.js */ "./node_modules/@arcgis/core/core/MapUtils.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _core_ReactiveMap_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../core/ReactiveMap.js */ "./node_modules/@arcgis/core/core/ReactiveMap.js");
/* harmony import */ var _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../core/reactiveUtils.js */ "./node_modules/@arcgis/core/core/reactiveUtils.js");
/* harmony import */ var _core_scheduling_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../core/scheduling.js */ "./node_modules/@arcgis/core/core/scheduling.js");
/* harmony import */ var _core_signal_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../core/signal.js */ "./node_modules/@arcgis/core/core/signal.js");
/* harmony import */ var _core_sql_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../core/sql.js */ "./node_modules/@arcgis/core/core/sql.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _core_libs_gl_matrix_2_math_common_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../../core/libs/gl-matrix-2/math/common.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/math/common.js");
/* harmony import */ var _geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../../geometry/support/aaBoundingRect.js */ "./node_modules/@arcgis/core/geometry/support/aaBoundingRect.js");
/* harmony import */ var _layers_graphics_dehydratedFeatures_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../../../layers/graphics/dehydratedFeatures.js */ "./node_modules/@arcgis/core/layers/graphics/dehydratedFeatures.js");
/* harmony import */ var _rest_support_QuantizationParameters_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../../../rest/support/QuantizationParameters.js */ "./node_modules/@arcgis/core/rest/support/QuantizationParameters.js");
/* harmony import */ var _rest_support_Query_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../../../rest/support/Query.js */ "./node_modules/@arcgis/core/rest/support/Query.js");
/* harmony import */ var _ViewingMode_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../../ViewingMode.js */ "./node_modules/@arcgis/core/views/ViewingMode.js");
/* harmony import */ var _featureReference_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./featureReference.js */ "./node_modules/@arcgis/core/views/3d/layers/support/featureReference.js");
/* harmony import */ var _FeatureTile_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./FeatureTile.js */ "./node_modules/@arcgis/core/views/3d/layers/support/FeatureTile.js");
/* harmony import */ var _terrain_tileUtils_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../../terrain/tileUtils.js */ "./node_modules/@arcgis/core/views/3d/terrain/tileUtils.js");
/* harmony import */ var _support_Scheduler_js__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../../../support/Scheduler.js */ "./node_modules/@arcgis/core/views/support/Scheduler.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
let q=class extends _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__["default"]{set maximumNumberOfFeatures(e){e=e||1/0;const t=this._get("maximumNumberOfFeatures");e===t||e<1||(this._set("maximumNumberOfFeatures",e),this._maximumFeaturesUpdated(t,e))}set memoryFactor(e){this.memoryFactor!==e&&(this._set("memoryFactor",e),this._setDirty())}set lodFactor(e){this.lodFactor!==e&&(this._set("lodFactor",e),this._supportsResolution&&this.refetch())}get useTileCount(){return this._useTileCount&&null!=this.context.query.queryFeatureCount}set useTileCount(e){this._useTileCount=e,this.notifyChange("useTileCount")}get updating(){return this._dirty||!!this._pendingEdits||this._isFetching||(this.tileDescriptors?.updating??!1)}get running(){return this._dirty}get memoryForUnusedFeatures(){let e=0;return this._featureTiles.forEach((t=>e+=t.estimatedUnusedSize)),e}get totalVertices(){let e=0;return this._featureTiles.forEach((t=>e+=t.numVertices)),e}get totalFeatures(){let e=0;return this._featureTiles.forEach((t=>e+=t.numFeatures)),e}get showsAllFeatures(){if(this._paused||this.dataUpdating)return!1;for(const e of this._featureTiles.values())if(!this.hasFullGeometries&&0!==e.emptyFeatureRatio||!e.showsAllFeatures)return!1;return!0}get hasFullGeometries(){if(!this._supportsResolution)return!0;const e=this.tileDescriptors?.some(Q);return e||!this.context.capabilities.supportsQuantization&&"polyline"!==this.context.geometryType}set filterExtent(e){if(null!=e&&this.context.tilingScheme&&!e.spatialReference.equals(this.context.tilingScheme.spatialReference))return void _core_Logger_js__WEBPACK_IMPORTED_MODULE_4__["default"].getLogger(this).error("#filterExtent=","extent needs to be in the same spatial reference as the tiling scheme");const t=this._get("filterExtent");if(t===e||null!=t&&e&&t.equals(e))return;const s=null!=e?e.clone():null;this._set("filterExtent",s),this._reclip(s,t)}_updateTileZQuantization(e){if(this.context.viewingMode===_ViewingMode_js__WEBPACK_IMPORTED_MODULE_19__.ViewingMode.Global){const t=e.computeZQuantizationFactor();this._zQuantizationFactor.value<t&&(this._zQuantizationFactor.value=t)}}get _tileZQuantization(){return this.context.isDraped?1:this._zQuantizationFactor.value}constructor(e){super(e),this._useTileCount=!1,this.dataUpdating=!1,this.updatingTotal=0,this.updatingRemaining=0,this.expectedFeatureDiff=0,this.maximumNumberOfFeaturesExceeded=!1,this._fullRatio=1,this._farRatio=1,this._zQuantizationFactor=(0,_core_signal_js__WEBPACK_IMPORTED_MODULE_10__.signal)(1),this._changes={updates:{adds:new Array,removes:new Array},adds:new Array,removes:new Array},this._featureTiles=new _core_ReactiveMap_js__WEBPACK_IMPORTED_MODULE_7__["default"],this._displayingFeatureReferences=new Map,this._numDisplayingFeatureReferences=0,this._dirty=!1,this._suspended=!0,this._pendingEdits=null,this._applyEditsTilesUpdated=!1,this._isFetching=!1;const t=e.context;this._frameTask=t.scheduler?.registerTask(_support_Scheduler_js__WEBPACK_IMPORTED_MODULE_23__.TaskPriority.FEATURE_TILE_FETCHER,this)??_support_Scheduler_js__WEBPACK_IMPORTED_MODULE_23__.ImmediateTask,this.FeatureReferenceClass=t.capabilities.supportsMultipleResolutions?_featureReference_js__WEBPACK_IMPORTED_MODULE_20__.MultiFeatureReference:_featureReference_js__WEBPACK_IMPORTED_MODULE_20__.SingleFeatureReference,this._objectIdField=t.objectIdField}initialize(){this.addHandles([(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_8__.on)((()=>this.tileDescriptors),"change",(()=>this._setDirty())),(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_8__.watch)((()=>this._tileZQuantization),(()=>this.refetch()))]),this._setDirty()}destroy(){this._frameTask.remove(),this._featureTiles.forEach((e=>{this._cancelFetchTile(e),this._removeTile(e)})),this._featureTiles.clear(),this._displayingFeatureReferences.clear(),this._pendingEdits?.controller.abort(),this._pendingEdits=null}get _paused(){return this._suspended||!!this._pendingEdits}restart(){this._featureTiles.forEach((e=>{this._cancelFetchTile(e),this._clearTile(e),this._resetFetchTile(e)})),null!=this.context.memoryCache&&this.context.memoryCache.clear(),this._setDirty()}refetch(){this._featureTiles.forEach((e=>{this._cancelFetchTile(e),this._resetFetchTile(e)})),null!=this.context.memoryCache&&this.context.memoryCache.clear(),this._setDirty()}suspend(){this._suspended||(this._suspended=!0,this._pause(),this._setDirty())}resume(){this._suspended&&(this._suspended=!1,this._unpause())}getMissingAttributesForFeature(e){for(const t of this._featureTiles.values()){const s=t.missingAttributes?.get(e);if(null!=s)return s}}_pause(){this._paused&&(this._featureTiles.forEach((e=>this._cancelFetchTile(e))),this._updated())}_unpause(){this._paused||this._setDirty()}get availableFields(){let e=null;return this._featureTiles.forEach((t=>{null!=t.displayingFeatures&&0!==t.displayingFeatures.length&&(null==e?e=new Set(t.availableFields):e.forEach((s=>{t.availableFields?.has(s)||e.delete(s)})))})),null!=e?e:new Set}applyEdits(e){this._pendingEdits||(this._pendingEdits={edits:Promise.resolve(),count:0,controller:new AbortController},this._pause());const t=this._pendingEdits;t.count++;const s=t.edits.then((()=>e.result.catch((e=>{if((0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_6__.isAbortError)(e))throw e;return null})).then((e=>e?(this._applyEditsDeleteFeatures(e.deletedFeatures),this._applyEditsAddUpdateFeatures(e.addedFeatures,e.updatedFeatures,t.controller.signal).then((()=>e))):e)).then((e=>(0===--t.count&&(this._pendingEdits===t&&(this._pendingEdits=null),null!=this.context.memoryCache&&this.context.memoryCache.clear(),this._applyEditsTilesUpdated=!1,this._unpause()),e)))));return t.edits=s,this._updated(),s}_applyEditsDeleteFeatures(e){if(0===e.length)return;const t=this.context.globalIdField,s=t&&this.availableFields.has(t),r=new Set,a=this._objectIdField;e.forEach((({objectId:e,globalId:n})=>{(!e||e<0)&&t&&n&&(s||_core_Logger_js__WEBPACK_IMPORTED_MODULE_4__["default"].getLogger(this).errorOncePerTick(`Editing the specified service requires the layer's globalIdField, ${t} to be included the layer's outFields for updates to be reflected in the view`),e=this._objectIdFromGlobalId(n,a,t)),null!=e&&e>=0&&r.add(e)})),this._featureTiles.forEach((e=>{if(!e.features)return;const t=e.features.filter((e=>!r.has((0,_layers_graphics_dehydratedFeatures_js__WEBPACK_IMPORTED_MODULE_16__.getObjectId)(e,this._objectIdField))));t.length!==e.features.length&&(this._applyEditsTileUpdated(),e.setFeatures(t,0,e.availableFields,e.missingAttributes),this._updateTileZQuantization(e),this._invalidateCounts())}))}_objectIdFromGlobalId(e,t,s){if(null==e)return null;const i=this.features.find((t=>t.attributes?.[s]===e));return i?(0,_layers_graphics_dehydratedFeatures_js__WEBPACK_IMPORTED_MODULE_16__.getObjectId)(i,t):null}async _applyEditsAddUpdateFeatures(e,t,s){const{objectIdField:r,globalIdField:a}=this.context,n=a&&this.availableFields.has(a),o=new Set,u=new Set;for(const i of e){const e=i.objectId;null!=e&&o.add(e)}for(const{objectId:h,globalId:d}of t){let e=h;(null==e||e<0)&&a&&(n||_core_Logger_js__WEBPACK_IMPORTED_MODULE_4__["default"].getLogger(this).errorOncePerTick(`Editing the specified service requires the layer's globalIdField, ${a} to be included the layer's outFields for updates to be reflected in the view`),e=this._objectIdFromGlobalId(d,r,a)),null!=e&&e>=0&&(o.add(e),u.add(e))}if(0===o.size)return;const l=[];this._featureTiles.forEach((e=>{const t=this._applyEditsAddUpdateTile(e,o,u,s);t&&l.push(t)})),this._updated(),await Promise.allSettled(l)}async _applyEditsAddUpdateTile(e,t,s,i){if(!e.features)return;e.fetchingResolution=e.descriptor.resolution;const r=this._createQuery(e);r.resultType=void 0,r.cacheHint=!1,r.objectIds=Array.from(t);const a=await this._queryFeatures(r,i);let n=null;if(s.size>0){const t=e.features.filter((e=>!s.has((0,_layers_graphics_dehydratedFeatures_js__WEBPACK_IMPORTED_MODULE_16__.getObjectId)(e,this._objectIdField))));t.length!==e.features.length&&(n=t)}if(a.features.length>0){n||(n=e.features.slice());for(const e of a.features)n.push(e)}n&&(e.hasPreciseFeatureCount&&(e.numFeatures=Math.max(e.numFeatures,n.length)),this._applyEditsTileUpdated(),e.setFeatures(n,0,H(e.availableFields,a.fields),Z(e.missingAttributes,a.missingAttributes)),this._updateTileZQuantization(e),this._invalidateCounts())}_applyEditsTileUpdated(){this._applyEditsTilesUpdated||(this._applyEditsTilesUpdated=!0,this._updated())}_queryFeatures(e,t){return this.context.query.queryFeaturesDehydrated(e,{signal:t,timeout:X})}_setDirty(){this._dirty=!0,this._updated()}runTask(e){const t=this._frameTask.processQueue(e);if(!this._dirty||!this.initialized)return t;this._dirty=!1;const s=this._featureTilesArray;if(this._markTilesNotAlive(s),!e.run((()=>this._addTiles(s,e)))||!e.run((()=>this._filterExtentTiles(s,e)))||!e.run((()=>this._removeTiles(s,e)))||e.done)return void this._setDirty();const i=this._sortTiles(s);e.run((()=>this._showTiles(i,e)))&&e.run((()=>this._fetchTiles(i,e)))&&e.run((()=>this._updateMemoryEstimates(i,e)))||this._setDirty(),this._updated(),this.updating||this._updateMaximumNumberOfFeaturesExceeded()}_markTilesNotAlive(e){for(const t of e)t.alive=!1}_addTiles(e,t){return!(this._suspended||!this.tileDescriptors)&&(this.tileDescriptors.forEach((s=>{const i=this._featureTiles.get(s.id);i?i.alive=!0:t.done||(e.push(this._addTile(s)),t.madeProgress())})),t.hasProgressed)}_filterExtentTiles(e,t){for(const s of e){if(t.done)break;s.alive&&(s.filtered=!s.intersects(this.filterExtent),s.filtered&&(this._clearTile(s),t.madeProgress()))}return t.hasProgressed}_removeTiles(e,t){for(let s=e.length-1;s>=0&&!t.done;s--){const i=e[s];i.alive||(this._removeTile(i),s!==e.length-1&&(e[s]=e[e.length-1]),e.pop(),t.madeProgress())}return t.hasProgressed}_sortTiles(e){return e.sort(((e,t)=>e.descriptor.loadPriority-t.descriptor.loadPriority)),e}_showTiles(e,t){const s=this._updateRatio(e),i=e=>{const t=this._fullRatio<1?s(e)*this._farRatio:1;e.reduceFeatures(t,this.memoryFactor,this._objectIdField,this._reduceMode)&&this._setDirty();const{numFeatures:i,fetchingResolution:r,descriptor:a,isFetched:n}=e;return this._supportsResolution&&i>0&&r!==a.resolution&&n&&(e.requestRefetch(),this._setDirty()),this._showTile(e)};for(const r of e)if(!t.run((()=>i(r)))){this._setDirty();break}return t.hasProgressed}_fetchTiles(e,t){if(this._paused)return!1;let s=!1;for(const i of e){if(!i.needsFetch)continue;const e=null!=this.context.memoryCache?this.context.memoryCache.pop(i.id):null;if(e?.resolution!==i.displayingResolution){if(this._needsNumFeatures(i)){const e=new AbortController,r=this._fetchTileCount(i,e.signal);this._handleRequest(i,r,e,(()=>i.resetFetching()),(()=>i.numFeatures=_FeatureTile_js__WEBPACK_IMPORTED_MODULE_21__.failedFeatureCount)),s=!0,t.madeProgress()}if(t.done)return!0}else i.cache=e,i.numFeatures&&this._notifyDataUpdating(),this._setDirty(),this._scheduleUpdated(),t.madeProgress()}if(s)return t.hasProgressed;for(const r of e){if(!r.needsFetch)continue;const e=new AbortController,s=this._fetchTile(r,e.signal);if(this._handleRequest(r,s,e,(e=>r.fetchDone(e)),(e=>{r.fetchFailed=!0,this.context.logFetchError(_core_Logger_js__WEBPACK_IMPORTED_MODULE_4__["default"].getLogger(this),e)})),t.madeProgress(),t.done)return!0}return t.hasProgressed}_updateMemoryEstimates(e,t){return e.some((e=>!t.run((()=>e.updateMemoryEstimates()))&&(this._setDirty(),!0))),t.hasProgressed}_reclip(e,t){if(!this.initialized)return;const s=new Array;this._featureTiles.forEach((i=>{null!=i.displayingFeatures&&0!==i.displayingFeatures.length&&(i.intersectionIncludingBorrowed(t,G),i.intersectionIncludingBorrowed(e,$),(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_15__.equals)(G,$)||s.push(i))})),this._refreshDisplayingFeatures(s),this._updated()}_refreshDisplayingFeatures(e){const t=new Set,s=this._changes.updates;for(const i of e)if(null!=i.displayingFeatures)for(const e of i.displayingFeatures){const i=(0,_layers_graphics_dehydratedFeatures_js__WEBPACK_IMPORTED_MODULE_16__.getObjectId)(e,this._objectIdField);if(t.has(i))continue;t.add(i);const r=this._displayingFeatureReferences.get(i).feature;s.removes.push(r),s.adds.push(r)}this._applyChanges()}_updated(){let e=0;if(this._paused||this._featureTiles.forEach((t=>t.isFetching?++e:0)),this._isFetching=e>0,e>0||this._applyEditsTilesUpdated?this._notifyDataUpdating():this._dirty||this._set("dataUpdating",!1),this.updating){let t=0,s=0,i=0,r=0,a=0;const n=this._displayingFeatureReferences.size/this._numDisplayingFeatureReferences;this._featureTiles.forEach((e=>{if(++s,e.isFetching&&e.hasPreciseFeatureCount){const t=this._maximumFeaturesForTile(e)*(1-e.emptyFeatureRatio),s=null!=e.displayingFeatures?e.displayingFeatures.length*n:0;a+=t-s}e.needsFetch?++r:e.numFeatures>0&&(++i,t+=e.numFeatures)})),r+=e;let o=0,u=0;t?(u=t,o=Math.min(r*t/i,t)):(u=s,o=r),a=Math.min(this.maximumNumberOfFeatures-this.features.length,a),this._set("updatingTotal",u),this._set("updatingRemaining",o),this._set("expectedFeatureDiff",a)}else this._set("updatingTotal",0),this._set("updatingRemaining",0),this._set("expectedFeatureDiff",0);this.debugger?.update()}_updateMaximumNumberOfFeaturesExceeded(){for(const{perTileMaximumNumberOfFeaturesExceeded:e}of this._featureTiles.values())if(e)return void this._set("maximumNumberOfFeaturesExceeded",!0);this._set("maximumNumberOfFeaturesExceeded",!1)}_updateRatio(e){const t=S(e),s=e=>1/(1<<Math.max(0,t-e.descriptor.lij[0]));let i=0,r=0;for(const a of e){const e=a.numFeatures;i+=e,r+=e*s(a)}return this._fullRatio=Math.min(1,this.maximumNumberOfFeatures/i),this._farRatio=this.maximumNumberOfFeatures/r,this._scheduleUpdated(),s}_maximumFeaturesUpdated(e,t){e!==t&&(t>e&&this._featureTiles.forEach((e=>{if(!e.featuresMissing)return;const t=this._maximumFeaturesForTile(e);e.isFullyFetched(t)||(this._cancelFetchTile(e),this._resetFetchTile(e))})),this._setDirty())}_addTile(e){const t=new _FeatureTile_js__WEBPACK_IMPORTED_MODULE_21__.FeatureTile(e);return this._featureTiles.set(t.id,t),this._resetFetchTile(t),this._referenceDisplayingFeaturesFromRelatedTiles(t),t}_referenceDisplayingFeaturesFromRelatedTiles(e){const t=e.displayingResolution;this._featureTiles.forEach((s=>{if(null!=s.displayingFeatures&&e!==s&&(0,_terrain_tileUtils_js__WEBPACK_IMPORTED_MODULE_22__.tilesAreRelated)(e.descriptor.lij,s.descriptor.lij)){null==e.displayingFeatures&&(e.displayingFeatures=[]),e.descriptor.extent&&s.descriptor.extent&&(e.extentIncludingBorrowedFeatures??=(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_15__.clone)(e.descriptor.extent),(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_15__.expand)(e.extentIncludingBorrowedFeatures,s.descriptor.extent,e.extentIncludingBorrowedFeatures));for(const i of s.displayingFeatures){e.displayingFeatures.push(i);const s=this._displayingFeatureReferences.get((0,_layers_graphics_dehydratedFeatures_js__WEBPACK_IMPORTED_MODULE_16__.getObjectId)(i,this._objectIdField));s.ref(s.feature,t),this._numDisplayingFeatureReferences++}}}))}_removeTile(e){this._clearTile(e),this._featureTiles.delete(e.id)}_resetFetchTile(e){e.filtered=!e.intersects(this.filterExtent),e.filtered?e.needsFetch&&e.fetchDone(_FeatureTile_js__WEBPACK_IMPORTED_MODULE_21__.FetchStatus.DONE):e.requestFetch()}_cancelFetchTile(e){const t=e.requestController;null!=t&&(e.requestController=null,e.resetFetching(),t.abort())}async _fetchTileCount(e,t){e.numFeatures=await this._fetchCount(e,t),this._updateRatio(this._featureTilesArray)}async _fetchTile(e,t){e.fetchFailed=!1;const s=this._maximumFeaturesForTile(e);if(s<=0)return e.hasPreciseFeatureCount&&0===e.numFeatures||(e.fetchFailed=!0),L(e),e.fetchInformation.value="Empty tile",_FeatureTile_js__WEBPACK_IMPORTED_MODULE_21__.FetchStatus.DONE;const i=this._getMaxRecordCount(e),r=Math.ceil(s/i);if(e.fetchingResolution=e.descriptor.resolution,Q(e)||!this.context.capabilities.supportsMaxRecordCountFactor||e.numFeatures<=s&&r>_rest_support_Query_js__WEBPACK_IMPORTED_MODULE_18__["default"].MAX_MAX_RECORD_COUNT_FACTOR)return this._fetchPagedTile(e,t);const a=this._createQuery(e);if(a.maxRecordCountFactor=r,e.isRefetching&&e.features&&e.features.length>0){const t=Math.ceil(e.features.length/(1-e.emptyFeatureRatio)/i);a.maxRecordCountFactor=Math.max(t+1,a.maxRecordCountFactor)}e.fetchInformation.value=`Single fetch\n${s} features`;const{features:o,exceededTransferLimit:u,fields:l,missingAttributes:h}=await this._queryFeatures(a,t),d=u||a.maxRecordCountFactor>=_rest_support_Query_js__WEBPACK_IMPORTED_MODULE_18__["default"].MAX_MAX_RECORD_COUNT_FACTOR||s===this._totalFeaturesForTile(e)?_FeatureTile_js__WEBPACK_IMPORTED_MODULE_21__.FetchStatus.FULL:_FeatureTile_js__WEBPACK_IMPORTED_MODULE_21__.FetchStatus.DONE,c=await this._frameTask.schedule((()=>{e.exceededTransferLimit.value=!!u;const t=this._removeEmptyFeatures(o,this._getEffectiveTileResolution(e));return e.fetchInformation.value=`Single fetch\n${o.length}/${s} features`,e.setFeatures(o,t,k(l),Z(void 0,h)),this._updateTileZQuantization(e),this._maximumFeaturesForTile(e)>s?_FeatureTile_js__WEBPACK_IMPORTED_MODULE_21__.FetchStatus.REFETCH_NEEDED:d}),t);return (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_6__.throwIfAborted)(t),this._invalidateCounts(),c}async _fetchCount(e,t){return this.context.query.queryFeatureCount(this._createFeatureCountQuery(e),{signal:t})}async _fetchPagedTile(e,t){let s,i=0,r=0,a=0,o=this._maximumFeaturesForTile(e)-a;const u=this._getMaxRecordCount(e);let l,h=null;for(;;){const d=this._createQuery(e),c=this._setPagingParameters(d,i,o,u);e.fetchInformation.value=`Paged fetch\n${e.features?.length}/${o} features`;const{features:p,exceededTransferLimit:f,fields:_,missingAttributes:m}=await this._queryFeatures(d,t);if(await this._frameTask.schedule((()=>{c&&(i+=d.num),a+=p.length,r+=this._removeEmptyFeatures(p,this._getEffectiveTileResolution(e)),e.exceededTransferLimit.value=!!f,s=s?.concat(p)??p,h=H(h,_),l=Z(l,m),e.setFeatures(s,r,h,l),this._updateTileZQuantization(e),this._invalidateCounts(),this._setDirty()}),t),(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_6__.throwIfAborted)(t),o=this._maximumFeaturesForTile(e)-(s?.length??0),!c||!f||o<=0)return f?_FeatureTile_js__WEBPACK_IMPORTED_MODULE_21__.FetchStatus.DONE:_FeatureTile_js__WEBPACK_IMPORTED_MODULE_21__.FetchStatus.FULL}}_createFeatureCountQuery(e){const t=this._createQuery(e);return this.context.capabilities.supportsCacheHint&&(t.resultType=void 0,t.cacheHint=!0),t}_createQuery(e){const t=this.context.createQuery();t.resultType=this._resultType(e);const s=Q(e);return s||(t.geometry=(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_15__.toExtent)(e.descriptor.extent,this.context.tilingScheme.spatialReference)),this._setResolutionParams(t,e),"tile"!==t.resultType&&this.context.capabilities.supportsCacheHint&&(t.cacheHint=!0),!s&&this.context.effectiveDisplayFilter&&(t.where=(0,_core_sql_js__WEBPACK_IMPORTED_MODULE_11__.sqlAnd)(t.where,this.context.effectiveDisplayFilter.where)),t}_setPagingParameters(e,t,s,i){return!!this.context.capabilities.supportsPagination&&(e.start=t,s>0&&this.context.capabilities.supportsMaxRecordCountFactor?(e.maxRecordCountFactor=Math.ceil(s/i),e.num=Math.min(e.maxRecordCountFactor*i,s)):e.num=Math.min(i),!0)}_getEffectiveTileResolution(e){if(Q(e)||!this._supportsResolution)return null;const t=this.context.viewingMode===_ViewingMode_js__WEBPACK_IMPORTED_MODULE_19__.ViewingMode.Global?this.context.tilingScheme.resolutionAtLevel(3):1/0;return Math.min(e.fetchingResolution,t)/this.lodFactor/this._tileZQuantization}get _supportsResolution(){return this.context.capabilities.supportsMultipleResolutions&&"point"!==this.context.geometryType}_setResolutionParams(e,t){const s=this._getEffectiveTileResolution(t);null!=s&&(this.context.capabilities.supportsQuantization?e.quantizationParameters=new _rest_support_QuantizationParameters_js__WEBPACK_IMPORTED_MODULE_17__["default"]({mode:"view",originPosition:"upper-left",tolerance:s,extent:this.context.fullExtent}):"polyline"===this.context.geometryType&&(e.maxAllowableOffset=s))}_removeEmptyFeatures(e,t){const i=e.length;if(t&&this._supportsResolution){const i=t*(1+(0,_core_libs_gl_matrix_2_math_common_js__WEBPACK_IMPORTED_MODULE_14__.getEpsilon)());(0,_core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_2__.filterInPlace)(e,(({geometry:e})=>!(!e||!(0,_layers_graphics_dehydratedFeatures_js__WEBPACK_IMPORTED_MODULE_16__.hasVertices)(e))&&((0,_layers_graphics_dehydratedFeatures_js__WEBPACK_IMPORTED_MODULE_16__.computeAABR)(e,B),(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_15__.width)(B)>i||(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_15__.height)(B)>i)))}else (0,_core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_2__.filterInPlace)(e,(({geometry:e})=>(0,_layers_graphics_dehydratedFeatures_js__WEBPACK_IMPORTED_MODULE_16__.hasVertices)(e)));return i-e.length}_needsNumFeatures(e){return this.useTileCount&&e.needsFeatureCount&&!Q(e)}_getMaxRecordCount(e){switch(this._resultType(e)){case"tile":if(this.context.tileMaxRecordCount)return this.context.tileMaxRecordCount;break;case"standard":if(this.context.standardMaxRecordCount)return this.context.standardMaxRecordCount}return this.context.maxRecordCount||V}_resultType(e){if(this.context.capabilities.supportsResultType)return Q(e)?"standard":"tile"}get _reduceMode(){const e=this.context.geometryType;return"polygon"===e||"polyline"===e?_FeatureTile_js__WEBPACK_IMPORTED_MODULE_21__.ReduceMode.SIZE:_FeatureTile_js__WEBPACK_IMPORTED_MODULE_21__.ReduceMode.RANDOM}_handleRequest(e,t,s,i,r){e.startFetch(),e.requestController=s;let n=!1;t.then((t=>{e.requestController=null,i(t)})).catch((t=>{e.requestController===s&&(e.requestController=null,e.fetchDone(_FeatureTile_js__WEBPACK_IMPORTED_MODULE_21__.FetchStatus.DONE)),(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_6__.isAbortError)(t)?n=!0:r(t)})).then((()=>{n||this._setDirty(),this._scheduleUpdated()}))}_scheduleUpdated(){this.hasHandles("scheduleUpdated")||this.addHandles((0,_core_scheduling_js__WEBPACK_IMPORTED_MODULE_9__.schedule)((()=>{this.removeHandles("scheduleUpdated"),this._updated()})),"scheduleUpdated")}_showTile(e){if(e.displayingFeatures&&!e.needsDisplayUpdate)return!1;const t=e.features;if(0===e.featureLimit||!t){const t=null!=e.displayingFeatures&&e.displayingFeatures.length>0;return this._hideTileFeatures(e),e.displayingFeatures=[],t}const s=e.fetchingResolution,{adds:i,updates:r}=this._changes,a=Math.min(e.featureLimit,t.length);for(let n=0;n<a;++n){const e=t[n],a=(0,_layers_graphics_dehydratedFeatures_js__WEBPACK_IMPORTED_MODULE_16__.getObjectId)(e,this._objectIdField),o=this._displayingFeatureReferences.get(a);if(o){const{oldVersion:t,newVersion:i}=o.ref(e,s);t!==i&&(t&&r.removes.push(t),i&&r.adds.push(i))}else this._displayingFeatureReferences.set(a,new this.FeatureReferenceClass(e,s)),i.push(e);this._numDisplayingFeatureReferences++}return this._hideTileFeatures(e),e.displayingResolution=e.fetchingResolution,this._applyChanges(),e.displayingFeatures=t.slice(0,a),!0}_hideTile(e){this._cancelFetchTile(e),this._hideTileFeatures(e)}_hideTileFeatures(e){if(null==e.displayingFeatures)return;const{updates:t,removes:s}=this._changes;for(const i of e.displayingFeatures){const r=(0,_layers_graphics_dehydratedFeatures_js__WEBPACK_IMPORTED_MODULE_16__.getObjectId)(i,this._objectIdField),a=this._displayingFeatureReferences.get(r);if(!a)continue;const{oldVersion:n,newVersion:o}=a.unref(e.displayingResolution);this._numDisplayingFeatureReferences--,n!==o&&(null==o?(this._displayingFeatureReferences.delete(r),n&&s.push(n)):(t.adds.push(o),n&&t.removes.push(n)))}this._applyChanges(),e.displayingFeatures=null}_notifyDataUpdating(){this._get("dataUpdating")||this._set("dataUpdating",!0)}_applyChanges(){const e=this._changes.updates;e.removes.length>0&&(this._notifyDataUpdating(),this.features.removeMany(e.removes),e.removes.length=0),e.adds.length>0&&(this._notifyDataUpdating(),this.features.addMany(e.adds),e.adds.length=0);const t=this._changes.adds,s=this._changes.removes,i=Math.min(t.length,s.length);let r=0;for(;r<i;){const e=Math.min(r+J,i);this._notifyDataUpdating(),this.features.addMany(t.slice(r,e)),this.features.removeMany(s.slice(r,e)),r=e}t.length>i&&(this._notifyDataUpdating(),this.features.addMany(0===r?t:t.slice(r))),s.length>i&&(this._notifyDataUpdating(),this.features.removeMany(0===r?s:s.slice(r))),t.length=0,s.length=0}_clearTile(e){this._hideTile(e),e.features&&null!=this.context.memoryCache&&this.context.memoryCache.put(e.id,e.cache),e.setFeatures(null,0,null,void 0),this._invalidateCounts()}_invalidateCounts(){this.notifyChange("totalVertices"),this.notifyChange("totalFeatures"),this.notifyChange("memoryForUnusedFeatures")}get _featureTilesArray(){return Array.from(this._featureTiles.values())}get featureTiles(){return this._featureTiles}get storedFeatures(){return this._featureTilesArray.reduce(((e,t)=>e+(t.features?t.features.length:0)),0)}get missingTiles(){return Array.from(this._featureTiles.values()).reduce(((e,t)=>e+(t.needsFetch||t.isFetching?1:0)),0)}_totalFeaturesForTile(e){return e.hasPreciseFeatureCount?e.numFeatures:this.maximumNumberOfFeatures}_maximumFeaturesForTile(e){const t=this._totalFeaturesForTile(e),s=this._fullRatio<1?this._farRatio:1;return Math.min(Math.ceil(t*s/(1-e.emptyFeatureRatio)),t)}get test(){}};function Q(e){return"dummy-tile-full-extent"===e.id}function S(e){let t=0;for(const s of e)s.features&&s.features.length>0&&s.alive&&(t=Math.max(t,s.descriptor.lij[0]));return t}function L(e){e.setFeatures([],0,null,void 0)}function k(e){return null==e?new Set:new Set(e.map((e=>e.name)))}function H(e,t){if(null==e||null==t)return k(t);const s=new Set;for(const{name:i}of t)e.has(i)&&s.add(i);return s}function Z(e,t){if(!t?.length)return e;e??=new Map;const s=()=>new Set;for(const{objectId:i,attribute:a}of t)(0,_core_MapUtils_js__WEBPACK_IMPORTED_MODULE_5__.getOrCreateMapValue)(e,i,s).add(a);return e}(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_12__.property)({constructOnly:!0})],q.prototype,"features",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_12__.property)()],q.prototype,"tileDescriptors",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_12__.property)({value:1/0})],q.prototype,"maximumNumberOfFeatures",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_12__.property)({value:1})],q.prototype,"memoryFactor",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_12__.property)({value:1})],q.prototype,"lodFactor",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_12__.property)()],q.prototype,"useTileCount",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_12__.property)({readOnly:!0})],q.prototype,"updating",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_12__.property)({readOnly:!0})],q.prototype,"dataUpdating",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_12__.property)({readOnly:!0})],q.prototype,"updatingTotal",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_12__.property)({readOnly:!0})],q.prototype,"updatingRemaining",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_12__.property)({readOnly:!0})],q.prototype,"expectedFeatureDiff",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_12__.property)({readOnly:!0})],q.prototype,"memoryForUnusedFeatures",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_12__.property)({readOnly:!0})],q.prototype,"maximumNumberOfFeaturesExceeded",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_12__.property)({readOnly:!0})],q.prototype,"totalVertices",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_12__.property)({readOnly:!0})],q.prototype,"totalFeatures",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_12__.property)({readOnly:!0})],q.prototype,"showsAllFeatures",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_12__.property)({readOnly:!0})],q.prototype,"hasFullGeometries",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_12__.property)()],q.prototype,"filterExtent",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_12__.property)({constructOnly:!0})],q.prototype,"context",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_12__.property)()],q.prototype,"_dirty",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_12__.property)()],q.prototype,"_suspended",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_12__.property)()],q.prototype,"_pendingEdits",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_12__.property)()],q.prototype,"_applyEditsTilesUpdated",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_12__.property)()],q.prototype,"_paused",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_12__.property)()],q.prototype,"_isFetching",void 0),q=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_13__.subclass)("esri.views.3d.layers.support.FeatureTileFetcher3D")],q);const V=2e3,G=(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_15__.create)(),$=(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_15__.create)(),B=(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_15__.create)(),X=6e5,J=200;


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/support/FeatureTileFetcher3DDebugger.js":
/*!*******************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/support/FeatureTileFetcher3DDebugger.js ***!
  \*******************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   FeatureTileFetcher3DDebugger: () => (/* binding */ b)
/* harmony export */ });
/* harmony import */ var _Color_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../Color.js */ "./node_modules/@arcgis/core/Color.js");
/* harmony import */ var _Graphic_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../Graphic.js */ "./node_modules/@arcgis/core/Graphic.js");
/* harmony import */ var _core_Collection_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core/Collection.js */ "./node_modules/@arcgis/core/core/Collection.js");
/* harmony import */ var _core_Handles_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../core/Handles.js */ "./node_modules/@arcgis/core/core/Handles.js");
/* harmony import */ var _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../core/reactiveUtils.js */ "./node_modules/@arcgis/core/core/reactiveUtils.js");
/* harmony import */ var _geometry_Polygon_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../geometry/Polygon.js */ "./node_modules/@arcgis/core/geometry/Polygon.js");
/* harmony import */ var _symbols_FillSymbol3DLayer_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../symbols/FillSymbol3DLayer.js */ "./node_modules/@arcgis/core/symbols/FillSymbol3DLayer.js");
/* harmony import */ var _symbols_PointSymbol3D_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../symbols/PointSymbol3D.js */ "./node_modules/@arcgis/core/symbols/PointSymbol3D.js");
/* harmony import */ var _symbols_PolygonSymbol3D_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../symbols/PolygonSymbol3D.js */ "./node_modules/@arcgis/core/symbols/PolygonSymbol3D.js");
/* harmony import */ var _symbols_TextSymbol3DLayer_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../symbols/TextSymbol3DLayer.js */ "./node_modules/@arcgis/core/symbols/TextSymbol3DLayer.js");
/* harmony import */ var _symbols_callouts_LineCallout3D_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../symbols/callouts/LineCallout3D.js */ "./node_modules/@arcgis/core/symbols/callouts/LineCallout3D.js");
/* harmony import */ var _symbols_callouts_LineCallout3DBorder_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../symbols/callouts/LineCallout3DBorder.js */ "./node_modules/@arcgis/core/symbols/callouts/LineCallout3DBorder.js");
/* harmony import */ var _symbols_support_Symbol3DVerticalOffset_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../../symbols/support/Symbol3DVerticalOffset.js */ "./node_modules/@arcgis/core/symbols/support/Symbol3DVerticalOffset.js");
/* harmony import */ var _terrain_TilingScheme_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../terrain/TilingScheme.js */ "./node_modules/@arcgis/core/views/3d/terrain/TilingScheme.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
const _=[[0,179,255],[117,62,128],[0,104,255],[215,189,166],[32,0,193],[98,162,206],[102,112,129],[52,125,0],[142,118,246],[138,83,0],[92,122,255],[122,55,83],[0,142,255],[81,40,179],[0,200,244],[13,24,127],[0,170,147],[19,58,241],[22,44,35]];class b{constructor(e,t,o){this._tileFetcher=e,this._view=o,this._handles=new _core_Handles_js__WEBPACK_IMPORTED_MODULE_3__["default"],this._loadingGraphics=new Map,this._loadingSymbols=[new _symbols_PolygonSymbol3D_js__WEBPACK_IMPORTED_MODULE_8__["default"]({symbolLayers:new _core_Collection_js__WEBPACK_IMPORTED_MODULE_2__["default"]([new _symbols_FillSymbol3DLayer_js__WEBPACK_IMPORTED_MODULE_6__["default"]({material:{color:[200,200,200,.4]},outline:{color:[30,30,30],size:1}})])})],this._loadedGraphics=new Map,this._loadedSymbols=_.map((e=>new _symbols_PolygonSymbol3D_js__WEBPACK_IMPORTED_MODULE_8__["default"]({symbolLayers:new _core_Collection_js__WEBPACK_IMPORTED_MODULE_2__["default"]([new _symbols_FillSymbol3DLayer_js__WEBPACK_IMPORTED_MODULE_6__["default"]({material:{color:[e[0],e[1],e[2],.6]},outline:{color:"black",size:1}})])}))),this._pendingGraphics=new Map,this._pendingSymbols=[new _symbols_PolygonSymbol3D_js__WEBPACK_IMPORTED_MODULE_8__["default"]({symbolLayers:new _core_Collection_js__WEBPACK_IMPORTED_MODULE_2__["default"]([new _symbols_FillSymbol3DLayer_js__WEBPACK_IMPORTED_MODULE_6__["default"]({material:{color:[100,100,100,.4]},outline:{color:[30,30,30],size:1}})])})],this._dataExtentGraphic=null,this._dataExtentSymbol=new _symbols_PolygonSymbol3D_js__WEBPACK_IMPORTED_MODULE_8__["default"]({symbolLayers:new _core_Collection_js__WEBPACK_IMPORTED_MODULE_2__["default"]([new _symbols_FillSymbol3DLayer_js__WEBPACK_IMPORTED_MODULE_6__["default"]({material:{color:[0,0,0,0]},outline:{color:"green",size:4}})])}),this._enabled=!0,this._tilingScheme=new _terrain_TilingScheme_js__WEBPACK_IMPORTED_MODULE_13__.TilingScheme(t),this.update()}destroy(){this.enabled=!1,this._handles.destroy()}get enabled(){return this._enabled}set enabled(e){this._enabled=e,this.update()}update(){this._enabled?(this._synchronizeMaps(this._loadingGraphics,{filter:({isFetching:e})=>e,symbols:this._loadingSymbols}),this._synchronizeMaps(this._loadedGraphics,{filter:e=>!e.isFetching,symbols:this._loadedSymbols}),this._synchronizeMaps(this._pendingGraphics,{filter:({isFetching:e})=>!e,symbols:this._pendingSymbols}),this.showDataExtent(this._tileFetcher.filterExtent)):(this._loadingGraphics.forEach((e=>this._view.graphics.removeMany(e))),this._loadingGraphics.clear(),this._loadedGraphics.forEach((e=>this._view.graphics.removeMany(e))),this._loadedGraphics.clear(),this._pendingGraphics.forEach((e=>this._view.graphics.removeMany(e))),this._pendingGraphics.clear(),this._dataExtentGraphic&&(this._view.graphics.remove(this._dataExtentGraphic),this._dataExtentGraphic=null))}showDataExtent(e){if(this._dataExtentGraphic&&(this._view.graphics.remove(this._dataExtentGraphic),this._dataExtentGraphic=null),null==e)return;const i=_geometry_Polygon_js__WEBPACK_IMPORTED_MODULE_5__["default"].fromExtent(e);this._dataExtentGraphic=new _Graphic_js__WEBPACK_IMPORTED_MODULE_1__["default"]({geometry:i,symbol:this._dataExtentSymbol}),this._view.graphics.add(this._dataExtentGraphic)}_synchronizeMaps(e,t){const i=this._tileFetcher.featureTiles;e.forEach(((s,o)=>{const r=i.get(o);r&&t.filter(r)||(this._view.graphics.removeMany(s),e.delete(o))})),this._handles.removeAll(),i.forEach((i=>{t.filter(i)&&!e.has(i.id)&&this._handles.add((0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_4__.watch)((()=>i.fetchInformation),(()=>this._showTile(i,e,t)),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_4__.initial))}))}_showTile(s,o,r){const[a,l,h]=s.descriptor.lij,{numFeatures:y,featureLimit:_,features:b}=s;this._tilingScheme.ensureMaxLod(a);const g=this._tilingScheme.getExtentGeometry(a,l,h),w=new _Graphic_js__WEBPACK_IMPORTED_MODULE_1__["default"]({geometry:g,symbol:r.symbols[a%r.symbols.length]}),f=`Tile ${s.id}\nloaded/limit/total\n${b?.length}/${_}/${y}\nres ${Math.round(s.displayingResolution)} ${s.featuresMissing?"some":"all"}\n${s.fetchInformation.value}`,u=new _Graphic_js__WEBPACK_IMPORTED_MODULE_1__["default"]({geometry:g.center,symbol:new _symbols_PointSymbol3D_js__WEBPACK_IMPORTED_MODULE_7__["default"]({verticalOffset:new _symbols_support_Symbol3DVerticalOffset_js__WEBPACK_IMPORTED_MODULE_12__["default"]({screenLength:40/.75}),callout:new _symbols_callouts_LineCallout3D_js__WEBPACK_IMPORTED_MODULE_10__["default"]({color:new _Color_js__WEBPACK_IMPORTED_MODULE_0__["default"]("white"),border:new _symbols_callouts_LineCallout3DBorder_js__WEBPACK_IMPORTED_MODULE_11__["default"]({color:new _Color_js__WEBPACK_IMPORTED_MODULE_0__["default"]("black")})}),symbolLayers:new _core_Collection_js__WEBPACK_IMPORTED_MODULE_2__["default"]([new _symbols_TextSymbol3DLayer_js__WEBPACK_IMPORTED_MODULE_9__["default"]({text:f,halo:{color:"white",size:1/.75},material:{color:"black"},size:16})])})}),G=o.get(s.id);G&&this._view.graphics.removeMany(G);const v=[w,u];o.set(s.id,v),this._view.graphics.addMany(v)}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/support/HeatmapFeatureProcessor.js":
/*!**************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/support/HeatmapFeatureProcessor.js ***!
  \**************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   HeatmapFeatureProcessor: () => (/* binding */ k),
/* harmony export */   maxRadiusPt: () => (/* binding */ Y)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_handleUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core/handleUtils.js */ "./node_modules/@arcgis/core/core/handleUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_memoryEstimations_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../core/memoryEstimations.js */ "./node_modules/@arcgis/core/core/memoryEstimations.js");
/* harmony import */ var _core_Promise_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../core/Promise.js */ "./node_modules/@arcgis/core/core/Promise.js");
/* harmony import */ var _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../core/reactiveUtils.js */ "./node_modules/@arcgis/core/core/reactiveUtils.js");
/* harmony import */ var _core_screenUtils_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../core/screenUtils.js */ "./node_modules/@arcgis/core/core/screenUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../core/libs/gl-matrix-2/factories/vec3f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/vec3f64.js");
/* harmony import */ var _core_support_UpdatingHandles_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../../core/support/UpdatingHandles.js */ "./node_modules/@arcgis/core/core/support/UpdatingHandles.js");
/* harmony import */ var _geometry_projection_projectPointToVector_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../../geometry/projection/projectPointToVector.js */ "./node_modules/@arcgis/core/geometry/projection/projectPointToVector.js");
/* harmony import */ var _geometry_support_Indices_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../../geometry/support/Indices.js */ "./node_modules/@arcgis/core/geometry/support/Indices.js");
/* harmony import */ var _geometry_support_scaleUtils_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../../geometry/support/scaleUtils.js */ "./node_modules/@arcgis/core/geometry/support/scaleUtils.js");
/* harmony import */ var _layers_graphics_dehydratedFeatures_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../../../layers/graphics/dehydratedFeatures.js */ "./node_modules/@arcgis/core/layers/graphics/dehydratedFeatures.js");
/* harmony import */ var _layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../../../layers/graphics/featureConversionUtils.js */ "./node_modules/@arcgis/core/layers/graphics/featureConversionUtils.js");
/* harmony import */ var _layers_graphics_OptimizedFeature_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../../../layers/graphics/OptimizedFeature.js */ "./node_modules/@arcgis/core/layers/graphics/OptimizedFeature.js");
/* harmony import */ var _layers_graphics_OptimizedGeometry_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../../../layers/graphics/OptimizedGeometry.js */ "./node_modules/@arcgis/core/layers/graphics/OptimizedGeometry.js");
/* harmony import */ var _layers_graphics_data_FeatureStore_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../../../../layers/graphics/data/FeatureStore.js */ "./node_modules/@arcgis/core/layers/graphics/data/FeatureStore.js");
/* harmony import */ var _layers_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../../../../layers/support/fieldUtils.js */ "./node_modules/@arcgis/core/layers/support/fieldUtils.js");
/* harmony import */ var _renderers_support_heatmapUtils_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../../../../renderers/support/heatmapUtils.js */ "./node_modules/@arcgis/core/renderers/support/heatmapUtils.js");
/* harmony import */ var _interfaces_js__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../interfaces.js */ "./node_modules/@arcgis/core/views/3d/layers/interfaces.js");
/* harmony import */ var _graphics_DisplayFeatureLimit_js__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ../graphics/DisplayFeatureLimit.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/DisplayFeatureLimit.js");
/* harmony import */ var _graphics_GraphicsCorePerformanceInfo_js__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ../graphics/GraphicsCorePerformanceInfo.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/GraphicsCorePerformanceInfo.js");
/* harmony import */ var _FeatureVisibilityFilter_js__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ./FeatureVisibilityFilter.js */ "./node_modules/@arcgis/core/views/3d/layers/support/FeatureVisibilityFilter.js");
/* harmony import */ var _highlightUtils_js__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ./highlightUtils.js */ "./node_modules/@arcgis/core/views/3d/layers/support/highlightUtils.js");
/* harmony import */ var _terrain_OverlayRenderer_js__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ../../terrain/OverlayRenderer.js */ "./node_modules/@arcgis/core/views/3d/terrain/OverlayRenderer.js");
/* harmony import */ var _webgl_engine_lib_Attribute_js__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ../../webgl-engine/lib/Attribute.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/Attribute.js");
/* harmony import */ var _webgl_engine_lib_DrapedHeatmapRenderer_js__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ../../webgl-engine/lib/DrapedHeatmapRenderer.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/DrapedHeatmapRenderer.js");
/* harmony import */ var _webgl_engine_lib_Geometry_js__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ../../webgl-engine/lib/Geometry.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/Geometry.js");
/* harmony import */ var _webgl_engine_lib_ModelDirtyTypes_js__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! ../../webgl-engine/lib/ModelDirtyTypes.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/ModelDirtyTypes.js");
/* harmony import */ var _webgl_engine_lib_RenderGeometry_js__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! ../../webgl-engine/lib/RenderGeometry.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/RenderGeometry.js");
/* harmony import */ var _webgl_engine_lib_UpdatePolicy_js__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(/*! ../../webgl-engine/lib/UpdatePolicy.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/UpdatePolicy.js");
/* harmony import */ var _webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__(/*! ../../webgl-engine/lib/VertexAttribute.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/VertexAttribute.js");
/* harmony import */ var _webgl_engine_materials_HeatmapDensityMaterial_js__WEBPACK_IMPORTED_MODULE_36__ = __webpack_require__(/*! ../../webgl-engine/materials/HeatmapDensityMaterial.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/materials/HeatmapDensityMaterial.js");
/* harmony import */ var _support_layerViewUtils_js__WEBPACK_IMPORTED_MODULE_37__ = __webpack_require__(/*! ../../../support/layerViewUtils.js */ "./node_modules/@arcgis/core/views/support/layerViewUtils.js");
/* harmony import */ var _webgl_enums_js__WEBPACK_IMPORTED_MODULE_38__ = __webpack_require__(/*! ../../../webgl/enums.js */ "./node_modules/@arcgis/core/views/webgl/enums.js");
/* harmony import */ var _webgl_heatmapTextureUtils_js__WEBPACK_IMPORTED_MODULE_39__ = __webpack_require__(/*! ../../../webgl/heatmapTextureUtils.js */ "./node_modules/@arcgis/core/views/webgl/heatmapTextureUtils.js");
/* harmony import */ var _webgl_engine_lib_IntersectableGeometry_js__WEBPACK_IMPORTED_MODULE_40__ = __webpack_require__(/*! ../../webgl-engine/lib/IntersectableGeometry.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/IntersectableGeometry.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
const Y=112;let k=class extends _core_Promise_js__WEBPACK_IMPORTED_MODULE_6__["default"]{constructor(e){super(e),this.type="heatmap",this.preferredUpdatePolicy=_webgl_engine_lib_UpdatePolicy_js__WEBPACK_IMPORTED_MODULE_34__.UpdatePolicy.ASYNC,this.dataExtent=null,this.drapeSourceType=_interfaces_js__WEBPACK_IMPORTED_MODULE_23__.DrapeSourceType.Features,this._renderGeometries=new Map,this._fieldTotal=0,this._drapeSourceRenderer=null,this._dataType=_webgl_enums_js__WEBPACK_IMPORTED_MODULE_38__.PixelType.HALF_FLOAT,this._pixelFormat=_webgl_enums_js__WEBPACK_IMPORTED_MODULE_38__.PixelFormat.RGBA,this._updatingHandles=new _core_support_UpdatingHandles_js__WEBPACK_IMPORTED_MODULE_12__.UpdatingHandles}initialize(){let e;try{e=(0,_webgl_heatmapTextureUtils_js__WEBPACK_IMPORTED_MODULE_39__.loadHeatmapTextureConfiguration)(this._renderView.renderingContext,_core_Logger_js__WEBPACK_IMPORTED_MODULE_4__["default"].getLogger(this))}catch(h){this.addResolvingPromise(Promise.reject(h)),e=_webgl_heatmapTextureUtils_js__WEBPACK_IMPORTED_MODULE_39__.fallBackHeatmapConfiguration}const{dataType:t,samplingMode:a,pixelFormat:s,internalFormat:o}=e;this._featureStore=new _layers_graphics_data_FeatureStore_js__WEBPACK_IMPORTED_MODULE_20__["default"]({geometryType:"esriGeometryPoint",hasZ:this.hasZ,hasM:this.hasM}),this._dataType=t,this._pixelFormat=s;const n=t!==_webgl_enums_js__WEBPACK_IMPORTED_MODULE_38__.PixelType.FLOAT,u=this.view.basemapTerrain.overlayManager,m={...this._rendererParameters,stage:this.view.stage,dataType:t,samplingMode:a,pixelFormat:s,internalFormat:o,rendererContext:u.renderer,drapeSource:this};this._drapeSourceRenderer=new _webgl_engine_lib_DrapedHeatmapRenderer_js__WEBPACK_IMPORTED_MODULE_30__.DrapedHeatmapRenderer(m),u.registerDrapeSource(this,this._drapeSourceRenderer),this._material=new _webgl_engine_materials_HeatmapDensityMaterial_js__WEBPACK_IMPORTED_MODULE_36__.HeatmapDensityMaterial({usesHalfFloats:n}),this._materialWithField=new _webgl_engine_materials_HeatmapDensityMaterial_js__WEBPACK_IMPORTED_MODULE_36__.HeatmapDensityMaterial({usesHalfFloats:n,isAttributeDriven:!0}),this._filterVisibility=new _FeatureVisibilityFilter_js__WEBPACK_IMPORTED_MODULE_26__.FeatureVisibilityFilter({context:{configuration:this.owner,featureStore:this.featureStore,getFeatureCount:()=>this._loadedPointGraphics.length,setAllFeaturesVisibility:e=>this._setAllFeaturesVisibility(e),clearFeaturesVisibility:()=>this._setAllFeaturesVisibility(!0),updateFeatureVisibilities:e=>this._updateFeatureVisibilities(e)}}),this._updatingHandles.addOnCollectionChange((()=>this._loadedPointGraphics),(e=>this._onLoadedFeaturesChange(e)),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_7__.initial),this._updatingHandles.addWhen((()=>this._materialParameters),(e=>this._forEachMaterial((t=>t.setParameters(e)))),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_7__.initial),this._updatingHandles.add((()=>this._rendererParameters),(e=>this._drapeSourceRenderer.set(e))),this._updatingHandles.add((()=>this._heatmapRendererField),(()=>{this._recreate()}),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_7__.sync),this._updatingHandles.add((()=>({fieldName:this._heatmapRendererFieldName,numeric:this._heatmapRendererFieldIsNumeric})),(({fieldName:e,numeric:t})=>{if(null!=e&&t){let t=0;this._featureStore.forEach((r=>t+=r.attributes[e]??0)),this._fieldTotal=t}else this._fieldTotal=this._featureStore.numFeatures}),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_7__.initial),this.addHandles([(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_7__.watch)((()=>({fieldName:this._heatmapRendererFieldName,field:this._heatmapRendererField})),(({fieldName:e,field:t})=>{e&&!t&&_core_Logger_js__WEBPACK_IMPORTED_MODULE_4__["default"].getLogger(this).warn(`Heatmap renderer field '${e}' for layer '${this.layer.title??this.layer.id}' not found`)})),(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_7__.watch)((()=>({field:this._heatmapRendererField,numeric:this._heatmapRendererFieldIsNumeric})),(({field:e,numeric:t})=>{null==e||t||_core_Logger_js__WEBPACK_IMPORTED_MODULE_4__["default"].getLogger(this).warn(`Heatmap renderer field '${e.name}' for layer '${this.layer.title??this.layer.id}' does not contain numeric values and cannot be used to drive the heatmap density`)})),(0,_core_handleUtils_js__WEBPACK_IMPORTED_MODULE_2__.makeHandle)((()=>this.view.basemapTerrain.overlayManager.unregisterDrapeSource(this)))])}destroy(){this._renderGeometries.clear(),this._material=null,this._materialWithField=null,this._featureStore.clear(),this._featureStore=null,this._updatingHandles.destroy()}get layer(){return this.owner.layer}get featureStore(){return this._featureStore}get updating(){return this._updatingHandles.updating||this.filterVisibility.updating}get updatingRemaining(){return 0}get suspendInfo(){return{}}get legendEnabled(){return!0}get filterVisibility(){return this._filterVisibility}get displayFeatureLimit(){const e=this.owner?.view?.quality??1,t=this.owner?.view?.qualitySettings,r=t?Math.ceil(t.heatmap.maxTotalNumberOfFeatures*e):0;return new _graphics_DisplayFeatureLimit_js__WEBPACK_IMPORTED_MODULE_24__.DisplayFeatureLimit(r*6,r)}get hasZ(){return"hasZ"in this.layer&&this.layer.hasZ}get hasM(){return"hasM"in this.layer&&this.layer.hasM}get view(){return this.owner.view}get fullOpacity(){return this.owner.fullOpacity}get updatePolicy(){return this.owner.updatePolicy}get scaleVisibilitySuspended(){if(!this._isScaleRangeActive)return!1;const{minScale:e,maxScale:t}=this.layer.effectiveScaleRange,{scale:r}=this.view;return!(0,_support_layerViewUtils_js__WEBPACK_IMPORTED_MODULE_37__.scaleBoundsPredicate)(r,e??0,t??0)}get usedMemory(){const e=this.usedMemoryPerFeature*this._featureStore.numFeatures,t=this._pixelFormat===_webgl_enums_js__WEBPACK_IMPORTED_MODULE_38__.PixelFormat.RED?1:4,r=this._dataType===_webgl_enums_js__WEBPACK_IMPORTED_MODULE_38__.PixelType.FLOAT?4:2,i=Math.ceil((this._overlayRenderer?.overlays[0]?.resolution??0)*this._densityMapPixelRatio)??0;return i*i*t*r+e}get usedMemoryPerFeature(){const e=this._loadedPointGraphics.find((()=>!0));if(null==e)return 0;const t=(0,_core_memoryEstimations_js__WEBPACK_IMPORTED_MODULE_5__.estimateAttributesMemory)(e),r=6;return r*(0,_core_memoryEstimations_js__WEBPACK_IMPORTED_MODULE_5__.estimateFixedArrayMemory)([0,0,0],_core_memoryEstimations_js__WEBPACK_IMPORTED_MODULE_5__.estimateNumberMemory)+r*(0,_core_memoryEstimations_js__WEBPACK_IMPORTED_MODULE_5__.estimateFixedArrayMemory)([0,0],_core_memoryEstimations_js__WEBPACK_IMPORTED_MODULE_5__.estimateNumberMemory)+(this._heatmapRendererFieldIsNumeric?r*_core_memoryEstimations_js__WEBPACK_IMPORTED_MODULE_5__.estimateNumberMemory:0)+t}get loadedFeatures(){return this._featureStore.numFeatures}get unprocessedMemoryEstimate(){return 0}get performanceInfo(){return new _graphics_GraphicsCorePerformanceInfo_js__WEBPACK_IMPORTED_MODULE_25__.GraphicsCorePerformanceInfo(this._renderGeometries.size,this._visibleFeatures,0,0)}get renderer(){return this._heatmapRenderer}get _overlayRenderer(){return this.view.basemapTerrain.overlayManager.renderer}get _overlaySpatialReference(){return this._overlayRenderer.spatialReference}get _rendererParameters(){return{...this._radiusParameter,...this._densityParameters,...this._colorRampParameter,...this._pixelRatioParameter}}get _materialParameters(){return{...this._radiusParameter,...this._resolutionForScaleParameter}}get _densityParameters(){const e=this._heatmapRenderer;if(null==e)return null;const{minDensity:t,maxDensity:r}=e;return{minDensity:t,maxDensity:r,fieldTotal:this._fieldTotal}}get _radiusParameter(){const e=this._heatmapRenderer;return e?{searchRadius:(0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_8__.pt2px)(this._clampSearchRadius(e.radius))}:null}get _resolutionForScaleParameter(){const e=this._heatmapRenderer;if(!e)return null;const{referenceScale:t}=e;return{resolutionForScale:0===t?0:(0,_geometry_support_scaleUtils_js__WEBPACK_IMPORTED_MODULE_15__.getResolutionForScale)(t,this.view.spatialReference)}}get _colorRampParameter(){const e=this._heatmapRenderer;return e?{colorRampData:(0,_renderers_support_heatmapUtils_js__WEBPACK_IMPORTED_MODULE_22__.generateGradient)(e.colorStops)}:null}get _pixelRatioParameter(){return{pixelRatio:this._densityMapPixelRatio}}get _densityMapPixelRatio(){return this.owner?.view?.qualitySettings.heatmap.pixelRatio??1}get _renderView(){return this.view.stage.renderView}get _featuresArePoints(){return"point"===this.layer.geometryType}get _loadedPointGraphics(){return this.owner.loadedGraphics}get _heatmapRenderer(){const e=this.layer.renderer;return"heatmap"===e?.type?e:null}get _heatmapRendererFieldName(){return this._heatmapRenderer?.field}get _heatmapRendererField(){const e=this._heatmapRendererFieldName;return null!=e?this.layer.fieldsIndex.get(e):null}get _heatmapRendererFieldIsNumeric(){const e=this._heatmapRendererField;return null!=e&&(0,_layers_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_21__.isNumericField)(e)}get _isScaleRangeActive(){const{layer:e}=this;if(!("effectiveScaleRange"in e))return!1;const{minScale:t,maxScale:r}=e.effectiveScaleRange;return (0,_support_layerViewUtils_js__WEBPACK_IMPORTED_MODULE_37__.isScaleRangeActive)(t,r)}get _visibleFeatures(){return Array.from(this._renderGeometries.values()).reduce(((e,{visible:t})=>e+(t?1:0)),0)}async whenGraphicBounds(){return null}computeAttachmentOrigin(){return null}highlight(){return _highlightUtils_js__WEBPACK_IMPORTED_MODULE_27__.emptyHighlightHandle}maskOccludee(){return (0,_core_handleUtils_js__WEBPACK_IMPORTED_MODULE_2__.makeHandle)()}setObjectIdVisibility(){}refreshFilter(){this.filterVisibility.reapply()}_onLoadedFeaturesChange(e){if(!this._featuresArePoints)return;const{objectIdField:r}=this.layer;this._featureStore.removeManyById(e.removed.map((e=>(0,_layers_graphics_dehydratedFeatures_js__WEBPACK_IMPORTED_MODULE_16__.getObjectId)(e,r)))),this._featureStore.addMany(e.added.map((e=>{const{attributes:t,centroid:i,geometry:a}=e,s=new _layers_graphics_OptimizedFeature_js__WEBPACK_IMPORTED_MODULE_18__.OptimizedFeature((0,_layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_17__.convertFromPoint)(new _layers_graphics_OptimizedGeometry_js__WEBPACK_IMPORTED_MODULE_19__["default"],a),t,i?(0,_layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_17__.convertFromPoint)(new _layers_graphics_OptimizedGeometry_js__WEBPACK_IMPORTED_MODULE_19__["default"],i):null,(0,_layers_graphics_dehydratedFeatures_js__WEBPACK_IMPORTED_MODULE_16__.getObjectId)(e,r));return s.displayId=e.uid,s})));const i=e.added,a=e.removed;this._fieldTotal+=this._computeFieldTotalChange(i,a);const s=a.map((({uid:e})=>{const t=this._renderGeometries.get(e);return this._renderGeometries.delete(e),t})).filter(_core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_1__.isSome),o=i.map((e=>{const t=this._pointGraphicToRenderGeometry(e);return this._renderGeometries.set(e.uid,t),t}));s.length>0&&this._drapeSourceRenderer.removeGeometries(s,_webgl_engine_lib_ModelDirtyTypes_js__WEBPACK_IMPORTED_MODULE_32__.DirtyOperation.REMOVE),o.length>0&&this._drapeSourceRenderer.addGeometries(o,_webgl_engine_lib_ModelDirtyTypes_js__WEBPACK_IMPORTED_MODULE_32__.DirtyOperation.ADD),(o.length>0||s.length>0)&&(this.filterVisibility.reapply(),this._renderView.requestRender())}_recreate(){if(!this._loadedPointGraphics)return;const e=this._loadedPointGraphics.toArray();this._onLoadedFeaturesChange({added:e,removed:e})}_pointGraphicToRenderGeometry(e){const t=this._heatmapRendererFieldName,r=null!=t?this._materialWithField:this._material,i=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_11__.create)();(0,_geometry_projection_projectPointToVector_js__WEBPACK_IMPORTED_MODULE_13__.projectPointToVector)(e.geometry,i,this._overlaySpatialReference),i[2]=_terrain_OverlayRenderer_js__WEBPACK_IMPORTED_MODULE_28__.drapedZ;const a=(0,_geometry_support_Indices_js__WEBPACK_IMPORTED_MODULE_14__.getContinuousIndexArray)(1),s=[[_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_35__.VertexAttribute.POSITION,new _webgl_engine_lib_Attribute_js__WEBPACK_IMPORTED_MODULE_29__.Attribute(i,a,i.length)]],o=this._heatmapRendererFieldIsNumeric;null!=t&&s.push([_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_35__.VertexAttribute.FEATUREATTRIBUTE,new _webgl_engine_lib_Attribute_js__WEBPACK_IMPORTED_MODULE_29__.Attribute([o?e.attributes[t]??0:0],a,1)]);const n=new _webgl_engine_lib_RenderGeometry_js__WEBPACK_IMPORTED_MODULE_33__.RenderGeometry(new _webgl_engine_lib_Geometry_js__WEBPACK_IMPORTED_MODULE_31__.Geometry(r,s,null,_webgl_engine_lib_IntersectableGeometry_js__WEBPACK_IMPORTED_MODULE_40__.GeometryType.Point),{layerViewUid:this.owner.layerViewUid,graphicUid:e.uid});return n.visible=this.filterVisibility.defaultVisibility,n}_forEachMaterial(e){e(this._material),e(this._materialWithField)}_computeFieldTotalChange(e,t){if(null==this._heatmapRendererFieldName||!this._heatmapRendererFieldIsNumeric)return e.length-t.length;const r=this._heatmapRendererFieldName,i=(e,t)=>e+(t.attributes[r]??0);return e.reduce(i,0)-t.reduce(i,0)}_clampSearchRadius(e){return e>Y&&_core_Logger_js__WEBPACK_IMPORTED_MODULE_4__["default"].getLogger(this).warnOnce(`SceneView supports a maximum radius of ${Y} pt for HeatmapRenderer.`),Math.min(e,Y)}_updateFeatureVisibilities(e){const t=[];this._featureStore.forEach((({objectId:r,displayId:i})=>{const a=e(r),s=this._renderGeometries.get(i);s&&s.visible!==a&&(t.push(s),s.visible=a)})),this._drapeSourceRenderer.modifyGeometries(t,_webgl_engine_lib_ModelDirtyTypes_js__WEBPACK_IMPORTED_MODULE_32__.DirtyState.VISIBILITY)}_setAllFeaturesVisibility(e){const t=[];for(const r of this._renderGeometries.values())r.visible!==e&&(t.push(r),r.visible=e);this._drapeSourceRenderer.modifyGeometries(t,_webgl_engine_lib_ModelDirtyTypes_js__WEBPACK_IMPORTED_MODULE_32__.DirtyState.VISIBILITY)}get test(){}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)()],k.prototype,"type",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)({constructOnly:!0})],k.prototype,"owner",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)()],k.prototype,"layer",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)()],k.prototype,"featureStore",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)()],k.prototype,"updating",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)()],k.prototype,"updatingRemaining",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)()],k.prototype,"suspendInfo",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)()],k.prototype,"legendEnabled",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)()],k.prototype,"filterVisibility",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)()],k.prototype,"displayFeatureLimit",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)()],k.prototype,"preferredUpdatePolicy",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)()],k.prototype,"hasZ",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)()],k.prototype,"hasM",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)()],k.prototype,"dataExtent",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)()],k.prototype,"view",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)()],k.prototype,"fullOpacity",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)()],k.prototype,"updatePolicy",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)()],k.prototype,"drapeSourceType",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)()],k.prototype,"scaleVisibilitySuspended",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)()],k.prototype,"renderer",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)()],k.prototype,"_featureStore",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)()],k.prototype,"_filterVisibility",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)()],k.prototype,"_overlayRenderer",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)()],k.prototype,"_overlaySpatialReference",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)()],k.prototype,"_rendererParameters",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)()],k.prototype,"_materialParameters",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)()],k.prototype,"_densityParameters",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)()],k.prototype,"_radiusParameter",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)()],k.prototype,"_resolutionForScaleParameter",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)()],k.prototype,"_colorRampParameter",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)()],k.prototype,"_pixelRatioParameter",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)()],k.prototype,"_densityMapPixelRatio",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)()],k.prototype,"_renderGeometries",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)()],k.prototype,"_material",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)()],k.prototype,"_materialWithField",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)()],k.prototype,"_renderView",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)()],k.prototype,"_featuresArePoints",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)()],k.prototype,"_loadedPointGraphics",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)()],k.prototype,"_heatmapRenderer",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)()],k.prototype,"_heatmapRendererFieldName",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)()],k.prototype,"_heatmapRendererField",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)()],k.prototype,"_heatmapRendererFieldIsNumeric",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)()],k.prototype,"_fieldTotal",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)()],k.prototype,"_drapeSourceRenderer",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)()],k.prototype,"_isScaleRangeActive",null),k=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_10__.subclass)("esri.views.3d.layers.support.HeatmapFeatureProcessor")],k);


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/support/featureReference.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/support/featureReference.js ***!
  \*******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   FeatureVersion: () => (/* binding */ r),
/* harmony export */   MultiFeatureReference: () => (/* binding */ s),
/* harmony export */   SingleFeatureReference: () => (/* binding */ o)
/* harmony export */ });
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../geometry/SpatialReference.js */ "./node_modules/@arcgis/core/geometry/SpatialReference.js");
/* harmony import */ var _geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../geometry/support/aaBoundingBox.js */ "./node_modules/@arcgis/core/geometry/support/aaBoundingBox.js");
/* harmony import */ var _core_mathUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../core/mathUtils.js */ "./node_modules/@arcgis/core/core/mathUtils.js");
/* harmony import */ var _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../geometry/Extent.js */ "./node_modules/@arcgis/core/geometry/Extent.js");
/* harmony import */ var _geometry_Geometry_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../geometry/Geometry.js */ "./node_modules/@arcgis/core/geometry/Geometry.js");
/* harmony import */ var _geometry_Multipoint_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../geometry/Multipoint.js */ "./node_modules/@arcgis/core/geometry/Multipoint.js");
/* harmony import */ var _geometry_Point_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../geometry/Point.js */ "./node_modules/@arcgis/core/geometry/Point.js");
/* harmony import */ var _geometry_Polygon_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../geometry/Polygon.js */ "./node_modules/@arcgis/core/geometry/Polygon.js");
/* harmony import */ var _geometry_Polyline_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../geometry/Polyline.js */ "./node_modules/@arcgis/core/geometry/Polyline.js");
/* harmony import */ var _geometry_support_typeUtils_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../geometry/support/typeUtils.js */ "./node_modules/@arcgis/core/geometry/support/typeUtils.js");
/* harmony import */ var _layers_support_Field_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../../layers/support/Field.js */ "./node_modules/@arcgis/core/layers/support/Field.js");
/* harmony import */ var _layers_graphics_dehydratedFeatureComparison_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../../layers/graphics/dehydratedFeatureComparison.js */ "./node_modules/@arcgis/core/layers/graphics/dehydratedFeatureComparison.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
class r{constructor(e,t){this.feature=e,this.resolution=t,this.refCount=1}}class s{get isReferenced(){return 0!==this.versions.length}get isSingle(){return 1===this.versions.length&&1===this.versions[0].refCount}constructor(e,t){this._highestResolutionVersion=null,this.versions=[],this.ref(e,t)}ref(e,s){const o=this.feature;n.oldVersion=o,o&&Object.defineProperty(e,"uid",{value:o.uid,configurable:!0});const i=this._highestResolutionVersion;for(const r of this.versions)if(r.resolution===s){r.refCount++;const s=i===r&&!(0,_layers_graphics_dehydratedFeatureComparison_js__WEBPACK_IMPORTED_MODULE_13__.equals)(e,r.feature);return(s||i!==r)&&(r.feature=e),n.newVersion=s?e:o,n}const u=new r(e,s);return this.versions.push(u),!i||s<i.resolution?(n.newVersion=e,this._highestResolutionVersion=u):n.newVersion=o,n}unref(t){const{versions:r}=this;for(let e=0;e<r.length;e++){const s=r[e];if(s.resolution===t)return s.refCount--,i.oldVersion=this.feature,0===s.refCount&&(r[e]=r[r.length-1],--r.length,this._highestResolutionVersion===s&&(this._recalculateHighestResolutionVersion(),i.oldVersion=s.feature)),i.newVersion=this.feature,i}const s=`Unref feature with no references: ${this.feature?.uid}`;throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"](s,s,(new Error).stack?.slice(6))}get feature(){return this._highestResolutionVersion?.feature??null}_recalculateHighestResolutionVersion(){if(0===this.versions.length)return void(this._highestResolutionVersion=null);let e=this.versions[0];for(let t=1;t<this.versions.length;t++){const r=this.versions[t];r.resolution<e.resolution&&(e=r)}this._highestResolutionVersion=e}}class o{get isReferenced(){return 0!==this._refCount}get isSingle(){return 1===this._refCount}constructor(e){this._feature=e,this._refCount=1}ref(e){++this._refCount;const r=this._feature;return n.oldVersion=r,r&&Object.defineProperty(e,"uid",{value:r.uid,configurable:!0}),(0,_layers_graphics_dehydratedFeatureComparison_js__WEBPACK_IMPORTED_MODULE_13__.equals)(r,e)||(this._feature=e),n.newVersion=this._feature,n}unref(){i.oldVersion=this._feature;const t=this._refCount;if(!(t>0)){const t=`Unref feature with no references: ${this.feature?.uid}`;throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"](t,t,(new Error).stack?.slice(6))}return this._refCount=t-1,1===t?(i.newVersion=null,i):(i.newVersion=this._feature,i)}get feature(){return this._feature}}const i={oldVersion:null,newVersion:null},n={oldVersion:null,newVersion:null};


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/support/EventedSet.js":
/*!******************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/support/EventedSet.js ***!
  \******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   EventedSet: () => (/* binding */ r)
/* harmony export */ });
/* harmony import */ var _core_Evented_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../core/Evented.js */ "./node_modules/@arcgis/core/core/Evented.js");
/* harmony import */ var _core_ObservableChangesType_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/ObservableChangesType.js */ "./node_modules/@arcgis/core/core/ObservableChangesType.js");
/* harmony import */ var _core_signal_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/signal.js */ "./node_modules/@arcgis/core/core/signal.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
class r extends _core_Evented_js__WEBPACK_IMPORTED_MODULE_0__["default"]{constructor(){super(...arguments),this._set=new Set,this._length=(0,_core_signal_js__WEBPACK_IMPORTED_MODULE_2__.signal)(0)}clear(){if(this._set.size>0){const e=this.toArray();this._set.clear(),this.emit("after-changes",{type:_core_ObservableChangesType_js__WEBPACK_IMPORTED_MODULE_1__.ObservableChangesType.REMOVE}),this.emit("change",{added:[],removed:e})}}get length(){return this._length.value}addMany(e){if(0!==e.length){for(const t of e)this._set.add(t);this._length.value=this._set.size,this.emit("after-changes",{type:_core_ObservableChangesType_js__WEBPACK_IMPORTED_MODULE_1__.ObservableChangesType.ADD}),this.emit("change",{added:e,removed:[]})}}remove(e){this._set.delete(e)&&(this._length.value=this._set.size,this.emit("after-changes",{type:_core_ObservableChangesType_js__WEBPACK_IMPORTED_MODULE_1__.ObservableChangesType.REMOVE}),this.emit("change",{added:[],removed:[e]}))}removeMany(e){const s=[];for(const t of e)this._set.delete(t)&&s.push(t);s.length>0&&(this._length.value=this._set.size,this.emit("after-changes",{type:_core_ObservableChangesType_js__WEBPACK_IMPORTED_MODULE_1__.ObservableChangesType.REMOVE}),this.emit("change",{added:[],removed:s}))}toArray(){return Array.from(this._set.values())}find(e){for(const t of this._set.values())if(e(t))return t}some(e){for(const t of this._set.values())if(e(t))return!0;return!1}forEach(e){this._set.forEach((t=>e(t)))}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/DrapedHeatmapRenderer.js":
/*!**************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/lib/DrapedHeatmapRenderer.js ***!
  \**************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   DrapedHeatmapRenderer: () => (/* binding */ g)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/maybe.js */ "./node_modules/@arcgis/core/core/maybe.js");
/* harmony import */ var _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core/reactiveUtils.js */ "./node_modules/@arcgis/core/core/reactiveUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_RandomLCG_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../core/RandomLCG.js */ "./node_modules/@arcgis/core/core/RandomLCG.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _glUtil3D_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./glUtil3D.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/glUtil3D.js");
/* harmony import */ var _SortedRenderGeometryRenderer_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./SortedRenderGeometryRenderer.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/SortedRenderGeometryRenderer.js");
/* harmony import */ var _shaders_HeatmapTechnique_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../shaders/HeatmapTechnique.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/HeatmapTechnique.js");
/* harmony import */ var _shaders_HeatmapTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../shaders/HeatmapTechniqueConfiguration.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/HeatmapTechniqueConfiguration.js");
/* harmony import */ var _webgl_enums_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../webgl/enums.js */ "./node_modules/@arcgis/core/views/webgl/enums.js");
/* harmony import */ var _webgl_FramebufferObject_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../webgl/FramebufferObject.js */ "./node_modules/@arcgis/core/views/webgl/FramebufferObject.js");
/* harmony import */ var _webgl_Texture_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../webgl/Texture.js */ "./node_modules/@arcgis/core/views/webgl/Texture.js");
/* harmony import */ var _webgl_TextureDescriptor_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../webgl/TextureDescriptor.js */ "./node_modules/@arcgis/core/views/webgl/TextureDescriptor.js");
/* harmony import */ var _webgl_Util_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../../webgl/Util.js */ "./node_modules/@arcgis/core/views/webgl/Util.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
let g=class extends _SortedRenderGeometryRenderer_js__WEBPACK_IMPORTED_MODULE_9__.SortedRenderGeometryRenderer{constructor(t){super(t),this.pixelRatio=1,this._colorRampData=new Uint8ClampedArray(4),this.type="draped-heatmap",this._heatmapParameters=new _shaders_HeatmapTechnique_js__WEBPACK_IMPORTED_MODULE_10__.HeatmapPassParameters,this._configuration=new _shaders_HeatmapTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_11__.HeatmapTechniqueConfiguration;const e=new _webgl_TextureDescriptor_js__WEBPACK_IMPORTED_MODULE_15__.TextureDescriptor;e.pixelFormat=t.pixelFormat,e.internalFormat=t.internalFormat,e.dataType=t.dataType,e.samplingMode=t.samplingMode,e.wrapMode=_webgl_enums_js__WEBPACK_IMPORTED_MODULE_12__.TextureWrapMode.CLAMP_TO_EDGE;const r=t.rendererContext.rctx;this._densityMap=new _webgl_FramebufferObject_js__WEBPACK_IMPORTED_MODULE_13__.FramebufferObject(r,e),this._quad=(0,_glUtil3D_js__WEBPACK_IMPORTED_MODULE_8__.createQuadVAO)(r),this._configuration.usesHalfFloat=t.dataType!==_webgl_enums_js__WEBPACK_IMPORTED_MODULE_12__.PixelType.FLOAT,t.rendererContext.pluginContext.techniques.precompile(_shaders_HeatmapTechnique_js__WEBPACK_IMPORTED_MODULE_10__.HeatmapTechnique,this._configuration)}initialize(){const t=this._colorRampData,e=new _webgl_TextureDescriptor_js__WEBPACK_IMPORTED_MODULE_15__.TextureDescriptor(t.length/4,1);e.wrapMode=_webgl_enums_js__WEBPACK_IMPORTED_MODULE_12__.TextureWrapMode.CLAMP_TO_EDGE,this._colorRamp=new _webgl_Texture_js__WEBPACK_IMPORTED_MODULE_14__.Texture(this.rctx,e,t),this._heatmapParameters.densityMap=this._densityMap.colorTexture,this.addHandles((0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_2__.watch)((()=>[this.colorRampData,this.minDensity,this.maxDensity,this.fieldTotal,this.pixelRatio,this.searchRadius]),(()=>this.rendererContext.notifyContentChanged())))}destroy(){this._densityMap=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_1__.disposeMaybe)(this._densityMap),this._quad=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_1__.disposeMaybe)(this._quad),this._colorRamp=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_1__.disposeMaybe)(this._colorRamp)}get searchRadius(){return this._heatmapParameters.searchRadius}set searchRadius(t){t!==this._heatmapParameters.searchRadius&&(this._heatmapParameters.searchRadius=t,this.notifyChange("searchRadius"))}get minDensity(){return this._heatmapParameters.minDensity}set minDensity(t){t!==this._heatmapParameters.minDensity&&(this._heatmapParameters.minDensity=t,this.notifyChange("minDensity"))}get maxDensity(){return this._heatmapParameters.maxDensity}set maxDensity(t){t!==this._heatmapParameters.maxDensity&&(this._heatmapParameters.maxDensity=t,this.notifyChange("maxDensity"))}get fieldTotal(){return this._heatmapParameters.fieldTotal}set fieldTotal(t){this._heatmapParameters.fieldTotal=t,this.notifyChange("fieldTotal")}get colorRampData(){return this._colorRampData}set colorRampData(t){const{colorRamp:e}=this._heatmapParameters;if(null!=e&&t!==this._colorRampData){const r=e.descriptor.width,a=t.length/4;a!==r&&e.resize(a,1),e.setData(t)}this._colorRampData=t}get _colorRamp(){return this._heatmapParameters.colorRamp}set _colorRamp(t){this._heatmapParameters.colorRamp=t}get hasHighlights(){return!1}get hasWater(){return!1}get rendersOccludedDraped(){return!1}render(t){const e=this.sortedRenderers;if(0===e.length)return;const r=this.rctx.getBoundFramebufferObject(),a=this.rctx.getViewport(),{pixelRatio:i}=this,s=Math.ceil(a.width*i),o=Math.ceil(a.height*i);this._densityMap.resize(s,o),this.rctx.bindFramebuffer(this._densityMap),this.rctx.setViewport(0,0,s,o),this.rctx.clear(_webgl_enums_js__WEBPACK_IMPORTED_MODULE_12__.FramebufferBit.COLOR);let n=!1;if(e.forAll((e=>{const r=e.acquireTechniques(t);r&&(e.render(t,r),n=!0)})),this.rctx.bindFramebuffer(r),this.rctx.setViewport(a.x,a.y,a.width,a.height),!n)return;this.rctx.bindVAO(this._quad);const p=this.rendererContext.pluginContext.techniques.get(_shaders_HeatmapTechnique_js__WEBPACK_IMPORTED_MODULE_10__.HeatmapTechnique,this._configuration);this.rctx.bindTechnique(p,t.bind,this._heatmapParameters),this.rctx.drawArrays(p.primitiveType,0,(0,_webgl_Util_js__WEBPACK_IMPORTED_MODULE_16__.vertexCount)(this._quad,"geometry"))}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)()],g.prototype,"searchRadius",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)()],g.prototype,"minDensity",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)()],g.prototype,"maxDensity",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)()],g.prototype,"fieldTotal",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)()],g.prototype,"pixelRatio",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)()],g.prototype,"colorRampData",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)({constructOnly:!0})],g.prototype,"dataType",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)({constructOnly:!0})],g.prototype,"samplingMode",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)({constructOnly:!0})],g.prototype,"pixelFormat",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)({constructOnly:!0})],g.prototype,"internalFormat",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)()],g.prototype,"_colorRampData",void 0),g=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__.subclass)("esri.views.3d.webgl-engine.lib.DrapedHeatmapRenderer")],g);


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/webgl-engine/materials/HeatmapDensityMaterial.js":
/*!*********************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/materials/HeatmapDensityMaterial.js ***!
  \*********************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   HeatmapDensityMaterial: () => (/* binding */ T),
/* harmony export */   Parameters: () => (/* binding */ g)
/* harmony export */ });
/* harmony import */ var _core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/libs/gl-matrix-2/math/vec2.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/math/vec2.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_vec2f64_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/libs/gl-matrix-2/factories/vec2f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/vec2f64.js");
/* harmony import */ var _support_buffer_InterleavedLayout_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../support/buffer/InterleavedLayout.js */ "./node_modules/@arcgis/core/views/3d/support/buffer/InterleavedLayout.js");
/* harmony import */ var _core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../core/shaderLibrary/ShaderOutput.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/ShaderOutput.js");
/* harmony import */ var _lib_GLMaterial_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../lib/GLMaterial.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/GLMaterial.js");
/* harmony import */ var _lib_Material_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../lib/Material.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/Material.js");
/* harmony import */ var _lib_RenderSlot_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../lib/RenderSlot.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/RenderSlot.js");
/* harmony import */ var _lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../lib/VertexAttribute.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/VertexAttribute.js");
/* harmony import */ var _internal_bufferWriterUtils_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./internal/bufferWriterUtils.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/materials/internal/bufferWriterUtils.js");
/* harmony import */ var _shaders_HeatmapDensityTechnique_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../shaders/HeatmapDensityTechnique.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/HeatmapDensityTechnique.js");
/* harmony import */ var _shaders_HeatmapDensityTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../shaders/HeatmapDensityTechniqueConfiguration.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/HeatmapDensityTechniqueConfiguration.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
const h=2;class g extends _shaders_HeatmapDensityTechnique_js__WEBPACK_IMPORTED_MODULE_9__.HeatmapDensityPassParameters{constructor(){super(...arguments),this.isAttributeDriven=!1,this.usesHalfFloats=!1}}class T extends _lib_Material_js__WEBPACK_IMPORTED_MODULE_5__.Material{constructor(t){super(t,g),this.produces=new Map([[_lib_RenderSlot_js__WEBPACK_IMPORTED_MODULE_6__.RenderSlot.DRAPED_MATERIAL,t=>t===_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_3__.ShaderOutput.Color]]),this._configuration=new _shaders_HeatmapDensityTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_10__.HeatmapDensityTechniqueConfiguration}getConfiguration(t,e){return super.getConfiguration(t,e,this._configuration),this._configuration.isAttributeDriven=this.parameters.isAttributeDriven,this._configuration.usesHalfFloat=this.parameters.usesHalfFloats,this._configuration}get visible(){return!0}createGLMaterial(t){return new d(t)}intersect(){}intersectDraped(r,s,i,o,a){const n=r.attributes.get(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_7__.VertexAttribute.POSITION),{parameters:l}=this,{searchRadius:c}=l,{screenToWorldRatio:f}=r,m=c*f+h*f,p=m*m,g=n.data.length/n.size;for(let u=0;u<g;u++){const r=u*n.size,s=(0,_core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_0__.set)(j,n.data[r],n.data[r+1]);(0,_core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_0__.squaredDistance)(s,i)<p&&o(a.distance,a.normal,-1)}}createBufferWriter(){return new b(this.parameters.isAttributeDriven?I:A)}}class d extends _lib_GLMaterial_js__WEBPACK_IMPORTED_MODULE_4__["default"]{beginSlot(t){return this.getTechnique(_shaders_HeatmapDensityTechnique_js__WEBPACK_IMPORTED_MODULE_9__.HeatmapDensityTechnique,t)}}class b{constructor(t){this.vertexBufferLayout=t}elementCount(t){return t.get(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_7__.VertexAttribute.POSITION).indices.length*v}write(t,e,r,s,i,o){(0,_internal_bufferWriterUtils_js__WEBPACK_IMPORTED_MODULE_8__.writePosition)(r.get(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_7__.VertexAttribute.POSITION),t,i.position,o,v);const a=r.get(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_7__.VertexAttribute.POSITION).indices.length,n=i.uv0;let f=o;for(let u=0;u<a;++u)n.setValues(f++,-1,-1),n.setValues(f++,1,-1),n.setValues(f++,1,1),n.setValues(f++,1,1),n.setValues(f++,-1,1),n.setValues(f++,-1,-1);const m=_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_7__.VertexAttribute.FEATUREATTRIBUTE in i?i.featureAttribute:null;return m?((0,_internal_bufferWriterUtils_js__WEBPACK_IMPORTED_MODULE_8__.writeBufferFloat)(r.get(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_7__.VertexAttribute.FEATUREATTRIBUTE),m,o,v),null):null}}const A=(0,_support_buffer_InterleavedLayout_js__WEBPACK_IMPORTED_MODULE_2__.newLayout)().vec3f(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_7__.VertexAttribute.POSITION).vec2f16(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_7__.VertexAttribute.UV0),I=A.clone().f32(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_7__.VertexAttribute.FEATUREATTRIBUTE),v=6,j=(0,_core_libs_gl_matrix_2_factories_vec2f64_js__WEBPACK_IMPORTED_MODULE_1__.create)();


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/HeatmapDensityTechnique.js":
/*!********************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/HeatmapDensityTechnique.js ***!
  \********************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   HeatmapDensityPassParameters: () => (/* binding */ a),
/* harmony export */   HeatmapDensityTechnique: () => (/* binding */ n)
/* harmony export */ });
/* harmony import */ var _core_shaderTechnique_ReloadableShaderModule_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../core/shaderTechnique/ReloadableShaderModule.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderTechnique/ReloadableShaderModule.js");
/* harmony import */ var _core_shaderTechnique_ShaderTechnique_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../core/shaderTechnique/ShaderTechnique.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderTechnique/ShaderTechnique.js");
/* harmony import */ var _lib_Material_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../lib/Material.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/Material.js");
/* harmony import */ var _chunks_HeatmapDensity_glsl_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../chunks/HeatmapDensity.glsl.js */ "./node_modules/@arcgis/core/chunks/HeatmapDensity.glsl.js");
/* harmony import */ var _webgl_renderState_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../webgl/renderState.js */ "./node_modules/@arcgis/core/views/webgl/renderState.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
class a extends _lib_Material_js__WEBPACK_IMPORTED_MODULE_2__.MaterialParameters{constructor(){super(...arguments),this.searchRadius=128,this.resolutionForScale=0}}class n extends _core_shaderTechnique_ShaderTechnique_js__WEBPACK_IMPORTED_MODULE_1__.ShaderTechnique{constructor(r,s){super(r,s,new _core_shaderTechnique_ReloadableShaderModule_js__WEBPACK_IMPORTED_MODULE_0__.ReloadableShaderModule(_chunks_HeatmapDensity_glsl_js__WEBPACK_IMPORTED_MODULE_3__.H,(()=>__webpack_require__.e(/*! import() */ "node_modules_arcgis_core_views_3d_webgl-engine_shaders_HeatmapDensity_glsl_js").then(__webpack_require__.bind(__webpack_require__, /*! ./HeatmapDensity.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/HeatmapDensity.glsl.js")))))}initializePipeline(){return (0,_webgl_renderState_js__WEBPACK_IMPORTED_MODULE_4__.makePipelineState)({blending:_webgl_renderState_js__WEBPACK_IMPORTED_MODULE_4__.add,colorWrite:_webgl_renderState_js__WEBPACK_IMPORTED_MODULE_4__.defaultColorWrite,depthTest:null,depthWrite:null})}destroy(){super.destroy()}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/HeatmapDensityTechniqueConfiguration.js":
/*!*********************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/HeatmapDensityTechniqueConfiguration.js ***!
  \*********************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   HeatmapDensityTechniqueConfiguration: () => (/* binding */ o)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../core/shaderTechnique/ShaderTechniqueConfiguration.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderTechnique/ShaderTechniqueConfiguration.js");
/* harmony import */ var _materials_DefaultTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../materials/DefaultTechniqueConfiguration.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/materials/DefaultTechniqueConfiguration.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
class o extends _materials_DefaultTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_2__.DefaultTechniqueConfiguration{constructor(){super(...arguments),this.isAttributeDriven=!1,this.usesHalfFloat=!1}}(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_1__.parameter)()],o.prototype,"isAttributeDriven",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_1__.parameter)()],o.prototype,"usesHalfFloat",void 0);


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/HeatmapTechnique.js":
/*!*************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/HeatmapTechnique.js ***!
  \*************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   HeatmapPassParameters: () => (/* binding */ a),
/* harmony export */   HeatmapTechnique: () => (/* binding */ m)
/* harmony export */ });
/* harmony import */ var _core_shaderTechnique_ReloadableShaderModule_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../core/shaderTechnique/ReloadableShaderModule.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderTechnique/ReloadableShaderModule.js");
/* harmony import */ var _core_shaderTechnique_ShaderTechnique_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../core/shaderTechnique/ShaderTechnique.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderTechnique/ShaderTechnique.js");
/* harmony import */ var _chunks_Heatmap_glsl_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../chunks/Heatmap.glsl.js */ "./node_modules/@arcgis/core/chunks/Heatmap.glsl.js");
/* harmony import */ var _webgl_enums_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../webgl/enums.js */ "./node_modules/@arcgis/core/views/webgl/enums.js");
/* harmony import */ var _webgl_NoParameters_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../webgl/NoParameters.js */ "./node_modules/@arcgis/core/views/webgl/NoParameters.js");
/* harmony import */ var _webgl_renderState_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../webgl/renderState.js */ "./node_modules/@arcgis/core/views/webgl/renderState.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
class a extends _webgl_NoParameters_js__WEBPACK_IMPORTED_MODULE_4__.NoParameters{constructor(){super(...arguments),this.colorRamp=null,this.densityMap=null,this.searchRadius=1,this.fieldTotal=0,this.minDensity=0,this.maxDensity=100}}class m extends _core_shaderTechnique_ShaderTechnique_js__WEBPACK_IMPORTED_MODULE_1__.ShaderTechnique{constructor(r,i){super(r,i,new _core_shaderTechnique_ReloadableShaderModule_js__WEBPACK_IMPORTED_MODULE_0__.ReloadableShaderModule(_chunks_Heatmap_glsl_js__WEBPACK_IMPORTED_MODULE_2__.H,(()=>__webpack_require__.e(/*! import() */ "node_modules_arcgis_core_views_3d_webgl-engine_shaders_Heatmap_glsl_js").then(__webpack_require__.bind(__webpack_require__, /*! ./Heatmap.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/Heatmap.glsl.js"))))),this.primitiveType=_webgl_enums_js__WEBPACK_IMPORTED_MODULE_3__.PrimitiveType.TRIANGLE_STRIP}initializePipeline(){return (0,_webgl_renderState_js__WEBPACK_IMPORTED_MODULE_5__.makePipelineState)({blending:_webgl_renderState_js__WEBPACK_IMPORTED_MODULE_5__.unpremultipliedAlphaToPremultipliedAlpha,colorWrite:_webgl_renderState_js__WEBPACK_IMPORTED_MODULE_5__.defaultColorWrite,depthTest:null,depthWrite:null})}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/HeatmapTechniqueConfiguration.js":
/*!**************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/HeatmapTechniqueConfiguration.js ***!
  \**************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   HeatmapTechniqueConfiguration: () => (/* binding */ r)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../core/shaderTechnique/ShaderTechniqueConfiguration.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderTechnique/ShaderTechniqueConfiguration.js");
/* harmony import */ var _materials_DefaultTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../materials/DefaultTechniqueConfiguration.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/materials/DefaultTechniqueConfiguration.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
class r extends _materials_DefaultTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_2__.DefaultTechniqueConfiguration{constructor(){super(...arguments),this.usesHalfFloat=!1}}(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_1__.parameter)()],r.prototype,"usesHalfFloat",void 0);


/***/ }),

/***/ "./node_modules/@arcgis/core/views/webgl/heatmapTextureUtils.js":
/*!**********************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/webgl/heatmapTextureUtils.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   HeatmapTextureConfiguration: () => (/* binding */ l),
/* harmony export */   fallBackHeatmapConfiguration: () => (/* binding */ i),
/* harmony export */   loadHeatmapTextureConfiguration: () => (/* binding */ n)
/* harmony export */ });
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _enums_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./enums.js */ "./node_modules/@arcgis/core/views/webgl/enums.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
class l{constructor(e,t,r,o){this.dataType=e,this.samplingMode=t,this.pixelFormat=r,this.internalFormat=o}}function n(n,i){const{textureFloatLinear:s,colorBufferFloat:f}=n.capabilities,u=f?.textureFloat,_=f?.textureHalfFloat,c=f?.floatBlend,m=n.driverTest.floatBufferBlend.result;if(!u&&!_)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("heatmap:missing-color-buffer-float","HeatmapRenderer requires the WebGL extension EXT_color_buffer_float or EXT_color_buffer_half_float or WEBGL_color_buffer_float.");if(!(c&&m||_))throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("heatmap:missing-float-blend","HeatmapRenderer requires the WebGL extension EXT_float_blend or EXT_color_buffer_half_float."+(m?"":" This device claims support for EXT_float_blend, but does not actually support it."));const p=u&&c&&m,d=_,R=s,h=!!f?.R32F,b=!!f?.R16F;if(p&&R)return R||i.warnOnce("Missing WebGL extension OES_texture_float_linear. Heatmap quality may be reduced."),new l(_enums_js__WEBPACK_IMPORTED_MODULE_1__.PixelType.FLOAT,R?_enums_js__WEBPACK_IMPORTED_MODULE_1__.TextureSamplingMode.LINEAR:_enums_js__WEBPACK_IMPORTED_MODULE_1__.TextureSamplingMode.NEAREST,h?_enums_js__WEBPACK_IMPORTED_MODULE_1__.PixelFormat.RED:_enums_js__WEBPACK_IMPORTED_MODULE_1__.PixelFormat.RGBA,h?_enums_js__WEBPACK_IMPORTED_MODULE_1__.SizedPixelFormat.R32F:_enums_js__WEBPACK_IMPORTED_MODULE_1__.PixelFormat.RGBA);if(d)return new l(_enums_js__WEBPACK_IMPORTED_MODULE_1__.PixelType.HALF_FLOAT,_enums_js__WEBPACK_IMPORTED_MODULE_1__.TextureSamplingMode.LINEAR,b?_enums_js__WEBPACK_IMPORTED_MODULE_1__.PixelFormat.RED:_enums_js__WEBPACK_IMPORTED_MODULE_1__.PixelFormat.RGBA,b?_enums_js__WEBPACK_IMPORTED_MODULE_1__.SizedPixelFormat.R16F:_enums_js__WEBPACK_IMPORTED_MODULE_1__.PixelFormat.RGBA);throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("heatmap:missing-hardware-support","HeatmapRenderer requires WebGL extensions that allow it to render and blend to float or half float textures.")}const i=new l(_enums_js__WEBPACK_IMPORTED_MODULE_1__.PixelType.HALF_FLOAT,_enums_js__WEBPACK_IMPORTED_MODULE_1__.TextureSamplingMode.NEAREST,_enums_js__WEBPACK_IMPORTED_MODULE_1__.PixelFormat.RGBA,_enums_js__WEBPACK_IMPORTED_MODULE_1__.PixelFormat.RGBA);


/***/ })

};

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmVuZG9ycy1ub2RlX21vZHVsZXNfYXJjZ2lzX2NvcmVfdmlld3NfM2RfbGF5ZXJzX0ZlYXR1cmVMaWtlTGF5ZXJWaWV3M0RfanMtbm9kZV9tb2R1bGVzX2FyY2dpLTczMGUxMC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQytiLGNBQWMsWUFBWSx3RUFBQyxDQUFDLGlCQUFpQiw4R0FBQyw4QkFBOEIsbUhBQUMscUNBQXFDLG1IQUFDLDZCQUE2QiwyR0FBQyw2REFBNkQsMkdBQUMscUNBQXFDLDJHQUFDLHFHQUFxRyx1RkFBQztBQUMxeEI7QUFDQSxtRUFBbUUsS0FBSyw2Q0FBNkMsdUJBQXVCLHFCQUFxQixlQUFlLEdBQXlCOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNOek07QUFDQTtBQUNBO0FBQ0E7QUFDdWEsY0FBYyxZQUFZLHdFQUFDLEVBQUUsNENBQTRDLEdBQUcsbUhBQUMsTUFBTSxNQUFNLG9DQUFvQyxHQUFHLGFBQWEsMEZBQUMsd0JBQXdCLDBGQUFDLHVCQUF1QiwwRkFBQyxpS0FBaUssMkdBQUMsYUFBYSxvQ0FBb0MsRUFBRSwrQ0FBK0Msb0VBQW9FLHVGQUFDO0FBQy82Qjs7QUFFQSx5Q0FBeUMsMEZBQUMsVUFBVTtBQUNwRDs7QUFFQSxNQUFNLEVBQUUsdUZBQUMsb0JBQW9CLDBGQUFDLG1CQUFtQjtBQUNqRDtBQUNBLGdCQUFnQix1RkFBQztBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnRkFBZ0YsRUFBRSx1RkFBQyx3QkFBd0IsRUFBRSxFQUFFLHVGQUFDO0FBQ2hIO0FBQ0E7QUFDQSxPQUFPLDZDQUE2Qyx1QkFBdUIscUJBQXFCLGVBQWUsR0FBeUI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDdEJ4STtBQUNBO0FBQ0E7QUFDQTtBQUM2cEQsb0JBQW9CLHdEQUFDLGtCQUFrQix5REFBQyxHQUFHLG1CQUFtQiwyQ0FBMkMsY0FBYyx5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QUFDQTtBQUNBO0FBQ0E7QUFDNGQsZ0JBQWdCLGdFQUFDLENBQUMsY0FBYywwSUFBMEksZ0JBQWdCLHFGQUFDLENBQUMsaUJBQWlCLGNBQWMsbUdBQUMsQ0FBQyxzREFBQyxNQUFNLHlRQUEyQix1QkFBdUIsMERBQUMsZ0JBQWdCLHFCQUFxQixPQUFPLHdFQUFDLEVBQUUsU0FBUywyRkFBQyxZQUFZLG9FQUFDLGdDQUFnQyxHQUE0RDs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDSnI1QjtBQUNBO0FBQ0E7QUFDQTtBQUNzTyxnQkFBZ0Isc0dBQUMsQ0FBQyxjQUFjLDJDQUEyQyx1REFBQyxFQUFFLGdHQUFDLHdDQUFtRjs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ0p4WTtBQUNBO0FBQ0E7QUFDQTtBQUMwSSxRQUFRLHFCQUFxQiw4RUFBOEUsZ0JBQWdCLE1BQU0sd0NBQXdDLCtHQUErRyxvQkFBb0Isc0RBQUMseUtBQXlLLHdCQUF3QixzREFBQywyTkFBMk4sZ0RBQWdELHdIQUF3SCxnREFBQyxTQUFTLDBEQUFDLFFBQVEsMERBQUMsV0FBVyxrREFBQyxLQUFLLGtEQUFDLFFBQVEsdURBQUMsTUFBTSxrREFBQyxPQUFPLGtCQUFrQixnREFBQyxZQUFZLDBEQUFDLFVBQVUsa0RBQUMsS0FBSyxrREFBQyxRQUFRLHVEQUFDLE1BQU0sa0RBQUMsT0FBTyxVQUFVLHNEQUFDLG9KQUFvSixjQUFjLGdEQUFDLFlBQVksMERBQUMsU0FBUyxrREFBQyxNQUFNLGtEQUFDLE9BQXVIIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcHJlY2lzaW9uZmFybXMvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL2NodW5rcy9IZWF0bWFwLmdsc2wuanMiLCJ3ZWJwYWNrOi8vcHJlY2lzaW9uZmFybXMvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL2NodW5rcy9IZWF0bWFwRGVuc2l0eS5nbHNsLmpzIiwid2VicGFjazovL3ByZWNpc2lvbmZhcm1zLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS9sYXllcnMvZ3JhcGhpY3MvY29udHJvbGxlcnMvRmVhdHVyZVRpbGVDb250cm9sbGVyM0QuanMiLCJ3ZWJwYWNrOi8vcHJlY2lzaW9uZmFybXMvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL2xheWVycy9ncmFwaGljcy9kYXRhL0JvdW5kc1N0b3JlLmpzIiwid2VicGFjazovL3ByZWNpc2lvbmZhcm1zLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS9sYXllcnMvZ3JhcGhpY3MvZGF0YS9GZWF0dXJlU3RvcmUuanMiLCJ3ZWJwYWNrOi8vcHJlY2lzaW9uZmFybXMvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzNkL2xheWVycy9GZWF0dXJlTGlrZUxheWVyVmlldzNELmpzIiwid2VicGFjazovL3ByZWNpc2lvbmZhcm1zLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8zZC9sYXllcnMvZ3JhcGhpY3MvR3JhcGhpY3MzREdyYXBoaWNzUGlwZWxpbmUuanMiLCJ3ZWJwYWNrOi8vcHJlY2lzaW9uZmFybXMvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzNkL2xheWVycy9ncmFwaGljcy9lbGV2YXRpb25BbGlnblBvaW50c0luRmVhdHVyZXMuanMiLCJ3ZWJwYWNrOi8vcHJlY2lzaW9uZmFybXMvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzNkL2xheWVycy9ncmFwaGljcy9xdWVyeUZvclN5bWJvbG9neVNuYXBwaW5nLmpzIiwid2VicGFjazovL3ByZWNpc2lvbmZhcm1zLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8zZC9sYXllcnMvc3VwcG9ydC9GZWF0dXJlVGlsZS5qcyIsIndlYnBhY2s6Ly9wcmVjaXNpb25mYXJtcy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvM2QvbGF5ZXJzL3N1cHBvcnQvRmVhdHVyZVRpbGVGZXRjaGVyM0QuanMiLCJ3ZWJwYWNrOi8vcHJlY2lzaW9uZmFybXMvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzNkL2xheWVycy9zdXBwb3J0L0ZlYXR1cmVUaWxlRmV0Y2hlcjNERGVidWdnZXIuanMiLCJ3ZWJwYWNrOi8vcHJlY2lzaW9uZmFybXMvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzNkL2xheWVycy9zdXBwb3J0L0hlYXRtYXBGZWF0dXJlUHJvY2Vzc29yLmpzIiwid2VicGFjazovL3ByZWNpc2lvbmZhcm1zLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8zZC9sYXllcnMvc3VwcG9ydC9mZWF0dXJlUmVmZXJlbmNlLmpzIiwid2VicGFjazovL3ByZWNpc2lvbmZhcm1zLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8zZC9zdXBwb3J0L0V2ZW50ZWRTZXQuanMiLCJ3ZWJwYWNrOi8vcHJlY2lzaW9uZmFybXMvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzNkL3dlYmdsLWVuZ2luZS9saWIvRHJhcGVkSGVhdG1hcFJlbmRlcmVyLmpzIiwid2VicGFjazovL3ByZWNpc2lvbmZhcm1zLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8zZC93ZWJnbC1lbmdpbmUvbWF0ZXJpYWxzL0hlYXRtYXBEZW5zaXR5TWF0ZXJpYWwuanMiLCJ3ZWJwYWNrOi8vcHJlY2lzaW9uZmFybXMvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzNkL3dlYmdsLWVuZ2luZS9zaGFkZXJzL0hlYXRtYXBEZW5zaXR5VGVjaG5pcXVlLmpzIiwid2VicGFjazovL3ByZWNpc2lvbmZhcm1zLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8zZC93ZWJnbC1lbmdpbmUvc2hhZGVycy9IZWF0bWFwRGVuc2l0eVRlY2huaXF1ZUNvbmZpZ3VyYXRpb24uanMiLCJ3ZWJwYWNrOi8vcHJlY2lzaW9uZmFybXMvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzNkL3dlYmdsLWVuZ2luZS9zaGFkZXJzL0hlYXRtYXBUZWNobmlxdWUuanMiLCJ3ZWJwYWNrOi8vcHJlY2lzaW9uZmFybXMvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzNkL3dlYmdsLWVuZ2luZS9zaGFkZXJzL0hlYXRtYXBUZWNobmlxdWVDb25maWd1cmF0aW9uLmpzIiwid2VicGFjazovL3ByZWNpc2lvbmZhcm1zLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy93ZWJnbC9oZWF0bWFwVGV4dHVyZVV0aWxzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjMzL2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7U2NyZWVuU3BhY2VQYXNzIGFzIGV9ZnJvbVwiLi4vdmlld3MvM2Qvd2ViZ2wtZW5naW5lL2NvcmUvc2hhZGVyTGlicmFyeS9TY3JlZW5TcGFjZVBhc3MuZ2xzbC5qc1wiO2ltcG9ydHtGbG9hdFBhc3NVbmlmb3JtIGFzIGl9ZnJvbVwiLi4vdmlld3MvM2Qvd2ViZ2wtZW5naW5lL2NvcmUvc2hhZGVyTW9kdWxlcy9GbG9hdFBhc3NVbmlmb3JtLmpzXCI7aW1wb3J0e2dsc2wgYXMgc31mcm9tXCIuLi92aWV3cy8zZC93ZWJnbC1lbmdpbmUvY29yZS9zaGFkZXJNb2R1bGVzL2dsc2wuanNcIjtpbXBvcnR7VGV4dHVyZTJEUGFzc1VuaWZvcm0gYXMgcn1mcm9tXCIuLi92aWV3cy8zZC93ZWJnbC1lbmdpbmUvY29yZS9zaGFkZXJNb2R1bGVzL1RleHR1cmUyRFBhc3NVbmlmb3JtLmpzXCI7aW1wb3J0e1NoYWRlckJ1aWxkZXIgYXMgbn1mcm9tXCIuLi92aWV3cy93ZWJnbC9TaGFkZXJCdWlsZGVyLmpzXCI7ZnVuY3Rpb24gdCh0KXtjb25zdCBvPW5ldyBuO3JldHVybiBvLmluY2x1ZGUoZSksby5mcmFnbWVudC51bmlmb3Jtcy5hZGQobmV3IHIoXCJkZW5zaXR5TWFwXCIsKGU9PmUuZGVuc2l0eU1hcCkpLG5ldyByKFwidGV4XCIsKGU9PmUuY29sb3JSYW1wKSksbmV3IGkoXCJkZW5zaXR5Tm9ybWFsaXplclwiLChlPT4xLyhlLm1heERlbnNpdHktZS5taW5EZW5zaXR5KSkpLG5ldyBpKFwibWluRGVuc2l0eVwiLChlPT5lLm1pbkRlbnNpdHkpKSxuZXcgaShcImRlbnNpdHlNdWx0aXBsaWVyXCIsKGU9PjMvKGUuc2VhcmNoUmFkaXVzKmUuc2VhcmNoUmFkaXVzKk1hdGguUEkpKih0LnVzZXNIYWxmRmxvYXQ/NDoxKSkpKS5tYWluLmFkZChzYGZsb2F0IGRlbnNpdHkgPSB0ZXh0dXJlKGRlbnNpdHlNYXAsIHV2KS5yICogZGVuc2l0eU11bHRpcGxpZXI7XG5mbG9hdCBkZW5zaXR5UmF0aW8gPSAoZGVuc2l0eSAtIG1pbkRlbnNpdHkpICogZGVuc2l0eU5vcm1hbGl6ZXI7XG5mcmFnQ29sb3IgPSB0ZXh0dXJlKHRleCwgdmVjMihjbGFtcChkZW5zaXR5UmF0aW8sIDAuMCwgMS4wKSwgMC41KSk7YCksb31jb25zdCBvPU9iamVjdC5mcmVlemUoT2JqZWN0LmRlZmluZVByb3BlcnR5KHtfX3Byb3RvX186bnVsbCxidWlsZDp0fSxTeW1ib2wudG9TdHJpbmdUYWcse3ZhbHVlOlwiTW9kdWxlXCJ9KSk7ZXhwb3J0e28gYXMgSCx0IGFzIGJ9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMzMvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHthZGRQcm9qVmlld0xvY2FsT3JpZ2luIGFzIGV9ZnJvbVwiLi4vdmlld3MvM2Qvd2ViZ2wtZW5naW5lL2NvcmUvc2hhZGVyTGlicmFyeS91dGlsL1ZpZXcuZ2xzbC5qc1wiO2ltcG9ydHtGbG9hdFBhc3NVbmlmb3JtIGFzIG99ZnJvbVwiLi4vdmlld3MvM2Qvd2ViZ2wtZW5naW5lL2NvcmUvc2hhZGVyTW9kdWxlcy9GbG9hdFBhc3NVbmlmb3JtLmpzXCI7aW1wb3J0e2dsc2wgYXMgaX1mcm9tXCIuLi92aWV3cy8zZC93ZWJnbC1lbmdpbmUvY29yZS9zaGFkZXJNb2R1bGVzL2dsc2wuanNcIjtpbXBvcnR7VmVydGV4QXR0cmlidXRlIGFzIHJ9ZnJvbVwiLi4vdmlld3MvM2Qvd2ViZ2wtZW5naW5lL2xpYi9WZXJ0ZXhBdHRyaWJ1dGUuanNcIjtpbXBvcnR7U2hhZGVyQnVpbGRlciBhcyBhfWZyb21cIi4uL3ZpZXdzL3dlYmdsL1NoYWRlckJ1aWxkZXIuanNcIjtmdW5jdGlvbiB0KHQpe2NvbnN0IHM9bmV3IGEse3ZlcnRleDpkLGZyYWdtZW50OnUsYXR0cmlidXRlczpsLHZhcnlpbmdzOm59PXM7ZShkLHQpO2NvbnN0e2lzQXR0cmlidXRlRHJpdmVuOmMsdXNlc0hhbGZGbG9hdDpmfT10O3JldHVybiBsLmFkZChyLlBPU0lUSU9OLFwidmVjM1wiKSxsLmFkZChyLlVWMCxcInZlYzJcIiksYyYmKGwuYWRkKHIuRkVBVFVSRUFUVFJJQlVURSxcImZsb2F0XCIpLG4uYWRkKFwiYXR0cmlidXRlVmFsdWVcIixcImZsb2F0XCIpKSxmJiZ1LmNvbnN0YW50cy5hZGQoXCJjb21wcmVzc2lvbkZhY3RvclwiLFwiZmxvYXRcIiwuMjUpLG4uYWRkKFwidW5pdENpcmNsZVBvc1wiLFwidmVjMlwiKSxkLnVuaWZvcm1zLmFkZChuZXcgbyhcInJhZGl1c1wiLCgoe3Jlc29sdXRpb25Gb3JTY2FsZTplLHNlYXJjaFJhZGl1czpvfSx7Y2FtZXJhOmksc2NyZWVuVG9Xb3JsZFJhdGlvOnIsb3ZlcmxheVN0cmV0Y2g6YX0pPT4yKm8qKDA9PT1lPzE6ZS9yKSppLnBpeGVsUmF0aW8vaS5mdWxsVmlld3BvcnRbMl0vYSkpKSxkLm1haW4uYWRkKGlgXG4gICAgdW5pdENpcmNsZVBvcyA9IHV2MDtcblxuICAgIHZlYzQgcG9zUHJvaiA9IHByb2ogKiAodmlldyAqIHZlYzQoJHtyLlBPU0lUSU9OfSwgMS4wKSk7XG4gICAgdmVjNCBxdWFkT2Zmc2V0ID0gdmVjNCh1bml0Q2lyY2xlUG9zICogcmFkaXVzLCAwLjAsIDAuMCk7XG5cbiAgICAke2M/aWBhdHRyaWJ1dGVWYWx1ZSA9ICR7ci5GRUFUVVJFQVRUUklCVVRFfTtgOlwiXCJ9XG4gICAgZ2xfUG9zaXRpb24gPSBwb3NQcm9qICsgcXVhZE9mZnNldDtcbiAgYCksdS5tYWluLmFkZChpYFxuICAgIGZsb2F0IHJhZGl1c1JhdGlvU3F1YXJlZCA9IGRvdCh1bml0Q2lyY2xlUG9zLCB1bml0Q2lyY2xlUG9zKTtcbiAgICBpZiAocmFkaXVzUmF0aW9TcXVhcmVkID4gMS4wKSB7XG4gICAgICBmcmFnQ29sb3IgPSB2ZWM0KDAuMCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgZmxvYXQgb25lTWludXNSYWRpdXNSYXRpb1NxdWFyZWQgPSAxLjAgLSByYWRpdXNSYXRpb1NxdWFyZWQ7XG4gICAgICBmbG9hdCBkZW5zaXR5ID0gb25lTWludXNSYWRpdXNSYXRpb1NxdWFyZWQgKiBvbmVNaW51c1JhZGl1c1JhdGlvU3F1YXJlZCAke2M/aWAgKiBhdHRyaWJ1dGVWYWx1ZWA6XCJcIn0gJHtmP2lgICogY29tcHJlc3Npb25GYWN0b3JgOlwiXCJ9O1xuICAgICAgZnJhZ0NvbG9yID0gdmVjNChkZW5zaXR5KTtcbiAgICB9XG4gIGApLHN9Y29uc3Qgcz1PYmplY3QuZnJlZXplKE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh7X19wcm90b19fOm51bGwsYnVpbGQ6dH0sU3ltYm9sLnRvU3RyaW5nVGFnLHt2YWx1ZTpcIk1vZHVsZVwifSkpO2V4cG9ydHtzIGFzIEgsdCBhcyBifTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjMzL2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7XyBhcyBlfWZyb21cIi4uLy4uLy4uL2NodW5rcy90c2xpYi5lczYuanNcIjtpbXBvcnQgdCBmcm9tXCIuLi8uLi8uLi9jb3JlL0FjY2Vzc29yLmpzXCI7aW1wb3J0e3Jlc3VsdCBhcyBpfWZyb21cIi4uLy4uLy4uL2NvcmUvYXN5bmNVdGlscy5qc1wiO2ltcG9ydCByIGZyb21cIi4uLy4uLy4uL2NvcmUvQ29sbGVjdGlvbi5qc1wiO2ltcG9ydCBoYXMgZnJvbVwiLi4vLi4vLi4vY29yZS9oYXMuanNcIjtpbXBvcnQgcyBmcm9tXCIuLi8uLi8uLi9jb3JlL0Vycm9yLmpzXCI7aW1wb3J0e2Nsb25lIGFzIGF9ZnJvbVwiLi4vLi4vLi4vY29yZS9sYW5nLmpzXCI7aW1wb3J0IG8gZnJvbVwiLi4vLi4vLi4vY29yZS9Mb2dnZXIuanNcIjtpbXBvcnR7ZGVzdHJveU1heWJlIGFzIGwscmVtb3ZlTWF5YmUgYXMgbixhYm9ydE1heWJlIGFzIHV9ZnJvbVwiLi4vLi4vLi4vY29yZS9tYXliZS5qc1wiO2ltcG9ydCBoIGZyb21cIi4uLy4uLy4uL2NvcmUvUHJvbWlzZS5qc1wiO2ltcG9ydHtjcmVhdGVBYm9ydEVycm9yIGFzIGMsaXNBYm9ydEVycm9yIGFzIGR9ZnJvbVwiLi4vLi4vLi4vY29yZS9wcm9taXNlVXRpbHMuanNcIjtpbXBvcnR7aW5pdGlhbCBhcyBwLHdoZW5PbmNlIGFzIG0sd2F0Y2ggYXMgZixzeW5jQW5kSW5pdGlhbCBhcyB5LHN5bmMgYXMgX31mcm9tXCIuLi8uLi8uLi9jb3JlL3JlYWN0aXZlVXRpbHMuanNcIjtpbXBvcnR7c3FsQW5kIGFzIGd9ZnJvbVwiLi4vLi4vLi4vY29yZS9zcWwuanNcIjtpbXBvcnR7cHJvcGVydHkgYXMgRn1mcm9tXCIuLi8uLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3Byb3BlcnR5LmpzXCI7aW1wb3J0e3N1YmNsYXNzIGFzIHh9ZnJvbVwiLi4vLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9zdWJjbGFzcy5qc1wiO2ltcG9ydHtVcGRhdGluZ0hhbmRsZXMgYXMgdn1mcm9tXCIuLi8uLi8uLi9jb3JlL3N1cHBvcnQvVXBkYXRpbmdIYW5kbGVzLmpzXCI7aW1wb3J0e3Byb2plY3RXaXRoWkNvbnZlcnNpb24gYXMgRH1mcm9tXCIuLi8uLi8uLi9nZW9tZXRyeS9wcm9qZWN0aW9uVXRpbHMuanNcIjtpbXBvcnR7aXNIb3N0ZWRBZ29sU2VydmljZSBhcyB3fWZyb21cIi4uLy4uL3N1cHBvcnQvYXJjZ2lzTGF5ZXJVcmwuanNcIjtpbXBvcnR7Y2hlY2tTZXJ2aWNlQ3VycmVudFVzZXJTdXBwb3J0IGFzIEN9ZnJvbVwiLi4vLi4vc3VwcG9ydC9mZWF0dXJlTGF5ZXJVdGlscy5qc1wiO2ltcG9ydHtnZXRFZmZlY3RpdmVMYXllckNhcGFiaWxpdGllcyBhcyBifWZyb21cIi4uLy4uL3N1cHBvcnQvbGF5ZXJVdGlscy5qc1wiO2ltcG9ydCBTIGZyb21cIi4uLy4uLy4uL3Jlc3Qvc3VwcG9ydC9TdGF0aXN0aWNEZWZpbml0aW9uLmpzXCI7aW1wb3J0e0ZlYXR1cmVUaWxlRGVzY3JpcHRvciBhcyBFfWZyb21cIi4uLy4uLy4uL3ZpZXdzLzNkL2xheWVycy9zdXBwb3J0L0ZlYXR1cmVUaWxlRGVzY3JpcHRvci5qc1wiO2ltcG9ydHtGZWF0dXJlVGlsZUZldGNoZXIzRCBhcyBUfWZyb21cIi4uLy4uLy4uL3ZpZXdzLzNkL2xheWVycy9zdXBwb3J0L0ZlYXR1cmVUaWxlRmV0Y2hlcjNELmpzXCI7aW1wb3J0e0ZlYXR1cmVUaWxlRmV0Y2hlcjNERGVidWdnZXIgYXMgVn1mcm9tXCIuLi8uLi8uLi92aWV3cy8zZC9sYXllcnMvc3VwcG9ydC9GZWF0dXJlVGlsZUZldGNoZXIzRERlYnVnZ2VyLmpzXCI7aW1wb3J0e2RlYnVnRmxhZ3MgYXMgSH1mcm9tXCIuLi8uLi8uLi92aWV3cy8zZC9zdXBwb3J0L2RlYnVnRmxhZ3MuanNcIjtsZXQgTD1jbGFzcyBleHRlbmRzKGguRXNyaVByb21pc2VNaXhpbih0KSl7Z2V0IGRhdGFVcGRhdGluZygpe3JldHVybiB0aGlzLl90aWxlRmV0Y2hlcj8uZGF0YVVwZGF0aW5nPz8hMX1zZXQgZXh0ZW50KGUpe2lmKG51bGwhPWUmJiFlLnNwYXRpYWxSZWZlcmVuY2UuZXF1YWxzKHRoaXMubGF5ZXJWaWV3LnZpZXcuc3BhdGlhbFJlZmVyZW5jZSkpcmV0dXJuIHZvaWQgby5nZXRMb2dnZXIodGhpcykuZXJyb3IoXCIjZXh0ZW50PVwiLFwiZXh0ZW50IG5lZWRzIHRvIGJlIGluIHRoZSBzYW1lIHNwYXRpYWwgcmVmZXJlbmNlIGFzIHRoZSB2aWV3XCIpO2NvbnN0IHQ9dGhpcy5fZ2V0KFwiZXh0ZW50XCIpO2lmKHQ9PT1lKXJldHVybjtpZihudWxsIT10JiZlJiZ0LmVxdWFscyhlKSlyZXR1cm47Y29uc3QgaT1udWxsIT1lP2UuY2xvbmUoKTpudWxsO3RoaXMuX3NldChcImV4dGVudFwiLGkpfWdldCB1cGRhdGluZygpe3JldHVybiEhKHRoaXMuX3RpbGVGZXRjaGVyPy51cGRhdGluZ3x8bnVsbCE9dGhpcy5fZmV0Y2hEYXRhSW5mb1Byb21pc2V8fFwidGlsZXNcIj09PXRoaXMubW9kZSYmdGhpcy5sYXllclZpZXcudmlldy5mZWF0dXJlVGlsZXM/LnVwZGF0aW5nfHx0aGlzLl91cGRhdGluZ0hhbmRsZXM/LnVwZGF0aW5nKX1nZXQgdXBkYXRpbmdUb3RhbCgpe3JldHVybiB0aGlzLnVwZGF0aW5nJiZudWxsIT10aGlzLl90aWxlRmV0Y2hlcj90aGlzLl90aWxlRmV0Y2hlci51cGRhdGluZ1RvdGFsOjB9Z2V0IHVwZGF0aW5nUmVtYWluaW5nKCl7cmV0dXJuIHRoaXMudXBkYXRpbmcmJm51bGwhPXRoaXMuX3RpbGVGZXRjaGVyP3RoaXMuX3RpbGVGZXRjaGVyLnVwZGF0aW5nUmVtYWluaW5nOjB9Z2V0IGV4cGVjdGVkRmVhdHVyZURpZmYoKXtyZXR1cm4gdGhpcy51cGRhdGluZyYmbnVsbCE9dGhpcy5fdGlsZUZldGNoZXI/dGhpcy5fdGlsZUZldGNoZXIuZXhwZWN0ZWRGZWF0dXJlRGlmZjowfWdldCBtZW1vcnlGb3JVbnVzZWRGZWF0dXJlcygpe3JldHVybiBudWxsIT10aGlzLl90aWxlRmV0Y2hlcj90aGlzLl90aWxlRmV0Y2hlci5tZW1vcnlGb3JVbnVzZWRGZWF0dXJlczowfWdldCBtYXhpbXVtTnVtYmVyT2ZGZWF0dXJlc0V4Y2VlZGVkKCl7cmV0dXJuIShudWxsPT10aGlzLl90aWxlRmV0Y2hlcnx8IXRoaXMuX3RpbGVGZXRjaGVyLm1heGltdW1OdW1iZXJPZkZlYXR1cmVzRXhjZWVkZWQpfWdldCBtYXhpbXVtTnVtYmVyT2ZGZWF0dXJlcygpe3JldHVybiB0aGlzLmRpc3BsYXlGZWF0dXJlTGltaXQ/Lm1heGltdW1OdW1iZXJPZkZlYXR1cmVzPz8wfXNldCBtYXhpbXVtTnVtYmVyT2ZGZWF0dXJlcyhlKXtlIT09dGhpcy5tYXhpbXVtTnVtYmVyT2ZGZWF0dXJlcyYmdGhpcy5fb3ZlcnJpZGVJZlNvbWUoXCJtYXhpbXVtTnVtYmVyT2ZGZWF0dXJlc1wiLGUpfWdldCBoYXNNYXhpbXVtTnVtYmVyT2ZGZWF0dXJlc092ZXJyaWRlKCl7cmV0dXJuIHRoaXMuX2lzT3ZlcnJpZGRlbihcIm1heGltdW1OdW1iZXJPZkZlYXR1cmVzXCIpfWdldCBoYXNBbGxGZWF0dXJlcygpe3JldHVybiB0aGlzLnNlcnZpY2VEYXRhQ291bnQ9PT1OLm5vU2VydmljZURhdGFDb3VudCYmXCJzbmFwc2hvdFwiPT09dGhpcy5tb2RlJiZ0aGlzLmhhc0FsbEZlYXR1cmVzSW5WaWV3fHx0aGlzLnNlcnZpY2VEYXRhQ291bnQ9PT10aGlzLmdyYXBoaWNzLmxlbmd0aH1nZXQgaGFzQWxsRmVhdHVyZXNJblZpZXcoKXtjb25zdCBlPXRoaXMuY29udGV4dC5lZmZlY3RpdmVEaXNwbGF5RmlsdGVyPy53aGVyZXx8bnVsbCx0PW51bGwhPWUmJlwiMT0xXCIhPT1lO3JldHVybihcInRpbGVzXCIhPT10aGlzLm1vZGV8fCF0KSYmKHRoaXMuX3RpbGVGZXRjaGVyPy5zaG93c0FsbEZlYXR1cmVzPz8hMSl9Z2V0IGhhc0Z1bGxHZW9tZXRyaWVzKCl7cmV0dXJuIHRoaXMuX3RpbGVGZXRjaGVyPy5oYXNGdWxsR2VvbWV0cmllcz8/ITF9Z2V0IG1vZGUoKXtjb25zdCBlPXRoaXMubGF5ZXJWaWV3LmxheWVyO2lmKFwiZmVhdHVyZVwiPT09ZS50eXBlJiZudWxsIT1lLmluZm9Gb3IzRClyZXR1cm5cInNuYXBzaG90XCI7aWYoXCJjYXRhbG9nLWZvb3RwcmludFwiPT09ZS50eXBlKXJldHVyblwidGlsZXNcIjtpZih0aGlzLl9mb3JjZVRpbGVzTW9kZSlyZXR1cm5cInRpbGVzXCI7Y29uc3QgdD10aGlzLmxheWVyVmlldy52aWV3O2lmKCExPT09dC5xdWFsaXR5U2V0dGluZ3M/LmdyYXBoaWNzM0Q/LnNuYXBzaG90QXZhaWxhYmxlfHx0aGlzLnNlcnZpY2VEYXRhQ291bnQ9PT1OLm5vU2VydmljZURhdGFDb3VudHx8dGhpcy5fc25hcHNob3RMaW1pdEV4Y2VlZGVkfHx0aGlzLm1heGltdW1OdW1iZXJPZkZlYXR1cmVzRXhjZWVkZWR8fHQucXVhbGl0eTwxKXJldHVyblwidGlsZXNcIjtjb25zdCBpPXQmJnQuZmVhdHVyZVRpbGVzLHI9aSYmaS50aWxpbmdTY2hlbWU7aWYoZSYmZS5taW5TY2FsZSYmdGhpcy5zZXJ2aWNlRGF0YUV4dGVudCYmcil7Y29uc3QgdD10aGlzLl9hcHByb3hpbWF0ZUV4dGVudFNpemVBdFNjYWxlKGUubWluU2NhbGUscik7aWYoKHRoaXMuc2VydmljZURhdGFFeHRlbnQud2lkdGgvdCt0aGlzLnNlcnZpY2VEYXRhRXh0ZW50LmhlaWdodC90KS8yPk4ubWF4U25hcHNob3RNaW5TY2FsZUZhY3RvcilyZXR1cm5cInRpbGVzXCJ9cmV0dXJuIXRoaXMubWF4aW11bU51bWJlck9mRmVhdHVyZXN8fHRoaXMuc2VydmljZURhdGFDb3VudDw9dGhpcy5tYXhpbXVtTnVtYmVyT2ZGZWF0dXJlcz9cInNuYXBzaG90XCI6XCJ0aWxlc1wifWdldCBtYXhUb3RhbFNuYXBzaG90VmVydGljZXMoKXtjb25zdCBlPXRoaXMuX2dldChcIm1heFRvdGFsU25hcHNob3RWZXJ0aWNlc1wiKXx8MCx0PVwic25hcHNob3RcIj09PXRoaXMubW9kZSYmdGhpcy5fdGlsZUZldGNoZXI/LnRvdGFsVmVydGljZXN8fDA7cmV0dXJuIE1hdGgubWF4KGUsdCl9X2FwcHJveGltYXRlRXh0ZW50U2l6ZUF0U2NhbGUoZSx0KXtjb25zdCBpPXRoaXMubGF5ZXJWaWV3LnZpZXcscj1NYXRoLmNlaWwoKGkud2lkdGgvdC5waXhlbFNpemUraS5oZWlnaHQvdC5waXhlbFNpemUpLzIpLHM9dC5sZXZlbHNbMF07cmV0dXJuIHIqKChzLnRpbGVTaXplWzBdLyhzLnNjYWxlL2UpK3MudGlsZVNpemVbMV0vKHMuc2NhbGUvZSkpLzIpfWdldCB0aWxlRGVzY3JpcHRvcnMoKXtpZihcInNuYXBzaG90XCI9PT10aGlzLm1vZGUpe2NvbnN0IGU9bmV3IEUoMCwwLDAsdGhpcy5sYXllclZpZXcudmlldy5mZWF0dXJlVGlsZXMudGlsaW5nU2NoZW1lLFwiZHVtbXktdGlsZS1mdWxsLWV4dGVudFwiKTtyZXR1cm4gbmV3IHIoW2VdKX1jb25zdCBlPXRoaXMubGF5ZXJWaWV3LnZpZXcuZmVhdHVyZVRpbGVzO3JldHVybiBlP2UudGlsZXM6bmV3IHJ9Z2V0IHRlc3QoKXt9Y29uc3RydWN0b3IoZSl7c3VwZXIoZSksdGhpcy50eXBlPVwiZmVhdHVyZS10aWxlLTNkXCIsdGhpcy5fdXBkYXRpbmdIYW5kbGVzPW5ldyB2LHRoaXMuc2VydmljZURhdGFFeHRlbnQ9bnVsbCx0aGlzLnNlcnZpY2VEYXRhQ291bnQ9Ti5ub1NlcnZpY2VEYXRhQ291bnQsdGhpcy5fc25hcHNob3RMaW1pdEV4Y2VlZGVkPSExLHRoaXMuZGlzcGxheUZlYXR1cmVMaW1pdD1udWxsLHRoaXMuX2ZvcmNlVGlsZXNNb2RlPSExLHRoaXMuX3N1c3BlbmRlZD0hMSx0aGlzLl90aWxlRmV0Y2hlcj1udWxsLHRoaXMuX2ZldGNoRGF0YUluZm9Qcm9taXNlPW51bGwsdGhpcy5fZmV0Y2hEYXRhSW5mb0Fib3J0Q29udHJvbGxlcj1udWxsLHRoaXMuX2xpZmVDeWNsZUFib3J0Q29udHJvbGxlcj1uZXcgQWJvcnRDb250cm9sbGVyfWluaXRpYWxpemUoKXt0aGlzLl91cGRhdGluZ0hhbmRsZXMuYWRkKCgoKT0+dGhpcy5kaXNwbGF5RmVhdHVyZUxpbWl0KSwoZT0+dGhpcy5fdXBkYXRpbmdIYW5kbGVzLmFkZFByb21pc2UodGhpcy5fdXBkYXRlU25hcHNob3RMaW1pdChlLG51bGwsdGhpcy5fbGlmZUN5Y2xlQWJvcnRDb250cm9sbGVyLnNpZ25hbCkpKSksdGhpcy5fdXBkYXRpbmdIYW5kbGVzLmFkZCgoKCk9PnRoaXMubW9kZSksKCgpPT50aGlzLl9tb2RlQ2hhbmdlZCgpKSxwKSx0aGlzLl91cGRhdGluZ0hhbmRsZXMuYWRkKCgoKT0+dGhpcy5tb2RlKSwoKGUsdCk9PntcInRpbGVzXCI9PT1lJiZcInNuYXBzaG90XCI9PT10JiYodGhpcy5fZm9yY2VUaWxlc01vZGU9ITApfSkscCksdGhpcy5hZGRSZXNvbHZpbmdQcm9taXNlKFByb21pc2UucmVzb2x2ZSgpLnRoZW4oKCgpPT50aGlzLl92ZXJpZnlDYXBhYmlsaXRpZXMoKSkpLnRoZW4oKCgpPT50aGlzLl91cGRhdGluZ0hhbmRsZXMuYWRkUHJvbWlzZSh0aGlzLl9mZXRjaFNlcnZpY2VEYXRhSW5mbygpKSkpLnRoZW4oKCgpPT50aGlzLl9pbml0aWFsaXplVGlsZUZldGNoZXIoKSkpKX1fdmVyaWZ5Q2FwYWJpbGl0aWVzKCl7Y29uc3QgZT10aGlzLmxheWVyVmlldy5sYXllcjtpZihcIm9nYy1mZWF0dXJlXCIhPT1lLnR5cGUmJiFiKGUpPy5vcGVyYXRpb25zLnN1cHBvcnRzUXVlcnkpdGhyb3cgbmV3IHMoXCJncmFwaGljc2NvbnRyb2xsZXI6cXVlcnktY2FwYWJpbGl0eS1yZXF1aXJlZFwiLFwiU2VydmljZSByZXF1aXJlcyBxdWVyeSBjYXBhYmlsaXRpZXMgdG8gYmUgdXNlZCBhcyBhIGZlYXR1cmUgbGF5ZXJcIix7bGF5ZXI6ZX0pfWRlc3Ryb3koKXt0aGlzLl9jYW5jZWxGZXRjaFNlcnZpY2VEYXRhSW5mbygpLHRoaXMuX3RpbGVGZXRjaGVyPWwodGhpcy5fdGlsZUZldGNoZXIpLHRoaXMuX3RpbGVzSGFuZGxlPW4odGhpcy5fdGlsZXNIYW5kbGUpLHRoaXMuX2xpZmVDeWNsZUFib3J0Q29udHJvbGxlcj11KHRoaXMuX2xpZmVDeWNsZUFib3J0Q29udHJvbGxlciksdGhpcy5fdXBkYXRpbmdIYW5kbGVzLmRlc3Ryb3koKSx0aGlzLl9zZXQoXCJfdXBkYXRpbmdIYW5kbGVzXCIsbnVsbCl9c3VzcGVuZCgpe3RoaXMuX3N1c3BlbmRlZHx8KHRoaXMuX3N1c3BlbmRlZD0hMCxudWxsIT10aGlzLl90aWxlRmV0Y2hlciYmdGhpcy5fdGlsZUZldGNoZXIuc3VzcGVuZCgpKX1yZXN1bWUoKXt0aGlzLl9zdXNwZW5kZWQmJih0aGlzLl9zdXNwZW5kZWQ9ITEsbnVsbCE9dGhpcy5fdGlsZUZldGNoZXImJnRoaXMuX3RpbGVGZXRjaGVyLnJlc3VtZSgpKX1yZXN0YXJ0KCl7Y29uc3QgZT0oKT0+e251bGwhPXRoaXMuX3RpbGVGZXRjaGVyJiZ0aGlzLl90aWxlRmV0Y2hlci5yZXN0YXJ0KCl9O3RoaXMuX3VwZGF0aW5nSGFuZGxlcy5hZGRQcm9taXNlKHRoaXMuX2ZldGNoU2VydmljZURhdGFJbmZvKCkudGhlbihlLGUpKX1yZWZldGNoKCl7dGhpcy5fcmVmZXRjaCh7cmVzZXRGb3JjZVRpbGVzTW9kZTohMX0pfWdldE1pc3NpbmdBdHRyaWJ1dGVzRm9yRmVhdHVyZShlKXtyZXR1cm4gdGhpcy5fdGlsZUZldGNoZXI/LmdldE1pc3NpbmdBdHRyaWJ1dGVzRm9yRmVhdHVyZShlKX1fcmVmZXRjaChlKXtjb25zdCB0PSgpPT57bnVsbCE9dGhpcy5fdGlsZUZldGNoZXImJihlLnJlc2V0Rm9yY2VUaWxlc01vZGUmJih0aGlzLl9mb3JjZVRpbGVzTW9kZT0hMSksdGhpcy5fdGlsZUZldGNoZXIucmVmZXRjaCgpKX07dGhpcy5fdXBkYXRpbmdIYW5kbGVzLmFkZFByb21pc2UodGhpcy5fZmV0Y2hTZXJ2aWNlRGF0YUluZm8oKS50aGVuKHQsdCkpfV9pbml0aWFsaXplVGlsZUZldGNoZXIoKXtjb25zdCBlPXRoaXMubGF5ZXJWaWV3LnZpZXc7aWYoIWUpcmV0dXJuO2NvbnN0IHQ9bSgoKCk9PmUuZmVhdHVyZVRpbGVzPy50aWxpbmdTY2hlbWUpLHRoaXMuX2xpZmVDeWNsZUFib3J0Q29udHJvbGxlci5zaWduYWwpO3RoaXMuX3VwZGF0aW5nSGFuZGxlcy5hZGRQcm9taXNlKHQpLHQudGhlbigoKCk9Pntjb25zdHtsYXllclZpZXc6ZSx0aWxlRGVzY3JpcHRvcnM6dH09dGhpcyxpPWUubGF5ZXIscj1uZXcgVCh7Y29udGV4dDp0aGlzLmNvbnRleHQsZmlsdGVyRXh0ZW50OnRoaXMuZXh0ZW50LHRpbGVEZXNjcmlwdG9yczp0LGZlYXR1cmVzOnRoaXMuZ3JhcGhpY3N9KTt0aGlzLl90aWxlRmV0Y2hlcj1yLHRoaXMuX3N1c3BlbmRlZD9yLnN1c3BlbmQoKTpyLnJlc3VtZSgpO2NvbnN0IHM9dGhpcy5sYXllclZpZXcudmlldztzJiZ0aGlzLmFkZEhhbmRsZXMoZigoKCk9PnMucXVhbGl0eSksKGU9PnIubWVtb3J5RmFjdG9yPWUpLHkpKTtjb25zdCBhPVwicG9seWdvblwiPT09dGhpcy5jb250ZXh0Lmdlb21ldHJ5VHlwZT9cInBvbHlnb25Mb2RGYWN0b3JcIjpcInBvbHlsaW5lXCI9PT10aGlzLmNvbnRleHQuZ2VvbWV0cnlUeXBlP1wicG9seWxpbmVMb2RGYWN0b3JcIjpudWxsO2EmJnRoaXMuYWRkSGFuZGxlcyhmKCgoKT0+dGhpcy5sYXllclZpZXcudmlldz8ucXVhbGl0eVNldHRpbmdzPy5ncmFwaGljczNEPy5bYV0pLChlPT5yLmxvZEZhY3Rvcj1lfHwxKSxwKSk7Y29uc3Qgbz1lPT57ci5tYXhpbXVtTnVtYmVyT2ZGZWF0dXJlcz1lLHIudXNlVGlsZUNvdW50PXRoaXMuc2VydmljZURhdGFDb3VudD5lfSxuPWU9PntyLnVzZVRpbGVDb3VudD1lPnRoaXMubWF4aW11bU51bWJlck9mRmVhdHVyZXN9O1wib2djLWZlYXR1cmVcIiE9PWkudHlwZSYmdGhpcy5fdXBkYXRpbmdIYW5kbGVzLmFkZCgoKCk9PmkuY3JlYXRlUXVlcnlWZXJzaW9uKSwoKCk9PnRoaXMuX2RhdGFGaWx0ZXJDaGFuZ2VkKCkpKSx0aGlzLl91cGRhdGluZ0hhbmRsZXMuYWRkKCgoKT0+dGhpcy5jb250ZXh0LmVmZmVjdGl2ZURpc3BsYXlGaWx0ZXIpLCgoKT0+dGhpcy5fZWZmZWN0aXZlRGlzcGxheUZpbHRlckNoYW5nZWQoKSkpLHRoaXMuX3VwZGF0aW5nSGFuZGxlcy5hZGQoKCgpPT5lLmF2YWlsYWJsZUZpZWxkcyksKChlLHQpPT50aGlzLl9hdmFpbGFibGVGaWVsZHNDaGFuZ2VkKHQsZSkpKSx0aGlzLl91cGRhdGluZ0hhbmRsZXMuYWRkKCgoKT0+ZS5yZXF1aXJlZEZpZWxkcyksKChlLHQpPT50aGlzLl9yZXF1aXJlZEZpZWxkc0NoYW5nZWQodCxlKSkpLFwiY3VzdG9tUGFyYW1ldGVyc1wiaW4gaSYmdGhpcy5fdXBkYXRpbmdIYW5kbGVzLmFkZCgoKCk9PmkuY3VzdG9tUGFyYW1ldGVycyksKCgpPT50aGlzLnJlc3RhcnQoKSkpLHRoaXMuYWRkSGFuZGxlcyhbaS5vbihcImFwcGx5LWVkaXRzXCIsKGU9PnRoaXMuX2FwcGx5RWRpdHMoZSkpKSxmKCgoKT0+dGhpcy5leHRlbnQpLChlPT5yLmZpbHRlckV4dGVudD1lKSxfKSxmKCgoKT0+dGhpcy50aWxlRGVzY3JpcHRvcnMpLChlPT5yLnRpbGVEZXNjcmlwdG9ycz1lKSxfKSxmKCgoKT0+dGhpcy5tYXhpbXVtTnVtYmVyT2ZGZWF0dXJlcyksbyx5KSxmKCgoKT0+dGhpcy5zZXJ2aWNlRGF0YUNvdW50KSxuLHkpLGYoKCgpPT5ILkZFQVRVUkVfVElMRV9GRVRDSF9TSE9XX1RJTEVTKSwoZT0+e2UmJnI/ci5kZWJ1Z2dlcj8/PW5ldyBWKHIscy5mZWF0dXJlVGlsZXMudGlsaW5nU2NoZW1lLnRvVGlsZUluZm8oKSxzKTohZSYmdGhpcy5fdGlsZUZldGNoZXImJnIuZGVidWdnZXImJihyLmRlYnVnZ2VyPWwoci5kZWJ1Z2dlcikpfSkscCldKSx0aGlzLl9zdXBwb3J0c0V4Y2VlZHNMaW1pdFF1ZXJ5fHx0aGlzLl91cGRhdGluZ0hhbmRsZXMuYWRkKCgoKT0+dGhpcy5tYXhUb3RhbFNuYXBzaG90VmVydGljZXMpLCgoKT0+dGhpcy5fdXBkYXRpbmdIYW5kbGVzLmFkZFByb21pc2UodGhpcy5fdXBkYXRlU25hcHNob3RMaW1pdCh0aGlzLmRpc3BsYXlGZWF0dXJlTGltaXQsbnVsbCx0aGlzLl9saWZlQ3ljbGVBYm9ydENvbnRyb2xsZXIuc2lnbmFsKSkpKX0pKS5jYXRjaCgoKCk9Pnt9KSl9X21vZGVDaGFuZ2VkKCl7c3dpdGNoKHRoaXMubW9kZSl7Y2FzZVwidGlsZXNcIjp0aGlzLl90aWxlc0hhbmRsZXx8KHRoaXMuX3RpbGVzSGFuZGxlPXRoaXMubGF5ZXJWaWV3LnZpZXcuZmVhdHVyZVRpbGVzLmFkZENsaWVudCgpKTticmVhaztkZWZhdWx0Om8uZ2V0TG9nZ2VyKHRoaXMpLndhcm4oXCJVbmhhbmRsZWQgZmVhdHVyZSBsYXllciBtb2RlIFwiK3RoaXMubW9kZSk7Y2FzZVwic25hcHNob3RcIjpudWxsIT10aGlzLl90aWxlc0hhbmRsZSYmKHRoaXMuX3RpbGVzSGFuZGxlLnJlbW92ZSgpLHRoaXMuX3RpbGVzSGFuZGxlPW51bGwpfX1fZGF0YUZpbHRlckNoYW5nZWQoKXt0aGlzLl9zZXQoXCJtYXhUb3RhbFNuYXBzaG90VmVydGljZXNcIiwwKSx0aGlzLm5vdGlmeUNoYW5nZShcIm1heFRvdGFsU25hcHNob3RWZXJ0aWNlc1wiKSx0aGlzLl9yZWZldGNoKHtyZXNldEZvcmNlVGlsZXNNb2RlOiEwfSl9X2VmZmVjdGl2ZURpc3BsYXlGaWx0ZXJDaGFuZ2VkKCl7XCJzbmFwc2hvdFwiIT09dGhpcy5tb2RlJiZ0aGlzLl9yZWZldGNoKHtyZXNldEZvcmNlVGlsZXNNb2RlOiExfSl9X2FwcGx5RWRpdHMoZSl7Y29uc3QgdD10aGlzLmxheWVyVmlldy5sYXllcjtudWxsIT10aGlzLl90aWxlRmV0Y2hlciYmdGhpcy5fdGlsZUZldGNoZXIuYXBwbHlFZGl0cyhlKS50aGVuKChlPT57aWYoZSl7aWYoIXRoaXMuX2xpZmVDeWNsZUFib3J0Q29udHJvbGxlcil0aHJvdyBjKCk7ZS5leGNlZWRlZFRyYW5zZmVyTGltaXQmJlwicmVmcmVzaFwiaW4gdD90LnJlZnJlc2goKTooZS5kZWxldGVkRmVhdHVyZXMubGVuZ3RofHxlLnVwZGF0ZWRGZWF0dXJlcy5sZW5ndGh8fGUuYWRkZWRGZWF0dXJlcy5sZW5ndGgpJiZ0aGlzLl91cGRhdGluZ0hhbmRsZXMuYWRkUHJvbWlzZSh0aGlzLl91cGRhdGVTZXJ2aWNlRGF0YUV4dGVudCh0aGlzLl9saWZlQ3ljbGVBYm9ydENvbnRyb2xsZXIuc2lnbmFsKSl9fSkpLmNhdGNoKChlPT57aWYoIWQoZSkpdGhyb3cgZX0pKX1fYXZhaWxhYmxlRmllbGRzQ2hhbmdlZChlLHQpe251bGwhPXRoaXMuX3RpbGVGZXRjaGVyJiZQKHRoaXMuX3RpbGVGZXRjaGVyLmF2YWlsYWJsZUZpZWxkcyx0KSYmdGhpcy5fcmVmZXRjaCh7cmVzZXRGb3JjZVRpbGVzTW9kZTohMX0pfV9yZXF1aXJlZEZpZWxkc0NoYW5nZWQoZSx0KXtudWxsIT10aGlzLl90aWxlRmV0Y2hlciYmUCh0aGlzLl90aWxlRmV0Y2hlci5hdmFpbGFibGVGaWVsZHMsdCkmJnRoaXMucmVzdGFydCgpfV9jcmVhdGVWZXJ0ZXhMaW1pdEV4Y2VlZGVkUXVlcnkoZSl7Y29uc3QgdD10aGlzLmxheWVyVmlldy5sYXllcixpPXQuY3JlYXRlUXVlcnkoKTtyZXR1cm4gaS5yZXR1cm5HZW9tZXRyeT0hMSxpLm91dFN0YXRpc3RpY3M9W25ldyBTKHtzdGF0aXN0aWNUeXBlOlwiZXhjZWVkc2xpbWl0XCIsbWF4VmVydGV4Q291bnQ6ZSxvdXRTdGF0aXN0aWNGaWVsZE5hbWU6XCJleGNlZWRzbGltaXRcIixtYXhQb2ludENvdW50OjFlOCxtYXhSZWNvcmRDb3VudDoxZTh9KV0sdC5jYXBhYmlsaXRpZXM/LnF1ZXJ5LnN1cHBvcnRzQ2FjaGVIaW50JiYoaS5jYWNoZUhpbnQ9ITApLGl9X2NyZWF0ZURhdGFJbmZvUXVlcnkoKXtjb25zdCBlPXRoaXMubGF5ZXJWaWV3LmxheWVyLHQ9dGhpcy5sYXllclZpZXcsaT1lLmNyZWF0ZVF1ZXJ5KCk7cmV0dXJuIGkucmV0dXJuR2VvbWV0cnk9ITEsaS5vdXRTcGF0aWFsUmVmZXJlbmNlPXRoaXMubGF5ZXJWaWV3LnZpZXcuc3BhdGlhbFJlZmVyZW5jZSxlLmNhcGFiaWxpdGllcz8ucXVlcnkuc3VwcG9ydHNDYWNoZUhpbnQmJihpLmNhY2hlSGludD0hMCksdC5lZmZlY3RpdmVEaXNwbGF5RmlsdGVyJiYoaS53aGVyZT1nKGkud2hlcmUsdC5lZmZlY3RpdmVEaXNwbGF5RmlsdGVyLndoZXJlKSksaX1fZnVsbEV4dGVudElzQWNjdXJhdGUoKXtjb25zdCBlPXRoaXMubGF5ZXJWaWV3LmxheWVyO2lmKFwiZGVmaW5pdGlvbkV4cHJlc3Npb25cImluIGUmJmUuZGVmaW5pdGlvbkV4cHJlc3Npb24pcmV0dXJuITE7c3dpdGNoKGUudHlwZSl7Y2FzZVwiZmVhdHVyZVwiOmNhc2VcImNhdGFsb2ctZm9vdHByaW50XCI6Y2FzZVwib3JpZW50ZWQtaW1hZ2VyeVwiOnJldHVybiB3KGUudXJsKTtjYXNlXCJjc3ZcIjpjYXNlXCJnZW9qc29uXCI6Y2FzZVwib2djLWZlYXR1cmVcIjpjYXNlXCJ3ZnNcIjpyZXR1cm4hMDtkZWZhdWx0OnJldHVybn19YXN5bmMgX3VwZGF0ZVNlcnZpY2VEYXRhRXh0ZW50KGUpe3RyeXthd2FpdCB0aGlzLl90cnlVcGRhdGVTZXJ2aWNlRGF0YUV4dGVudChlKX1jYXRjaCh0KXtkKHQpfHx0aGlzLl9zZXQoXCJzZXJ2aWNlRGF0YUV4dGVudFwiLGEodGhpcy5sYXllclZpZXcuZnVsbEV4dGVudEluTG9jYWxWaWV3U3BhdGlhbFJlZmVyZW5jZSk/P251bGwpfX1hc3luYyBfdHJ5VXBkYXRlU2VydmljZURhdGFFeHRlbnQoZSl7Y29uc3QgdD10aGlzLmxheWVyVmlldyxpPXQubGF5ZXIscj1pLmNhcGFiaWxpdGllcz8ucXVlcnkuc3VwcG9ydHNFeHRlbnQ/PyExLHM9YSh0LmZ1bGxFeHRlbnRJbkxvY2FsVmlld1NwYXRpYWxSZWZlcmVuY2UpLG89aS5mdWxsRXh0ZW50LGw9dGhpcy5fZnVsbEV4dGVudElzQWNjdXJhdGUoKSxuPXRoaXMuc2VydmljZURhdGFDb3VudDtpZihyJiZuPD1OLm1heEZlYXR1cmVDb3VudEZvckV4dGVudCYmKCFzfHwhbCkmJlwicXVlcnlFeHRlbnRcImluIGkpe2NvbnN0IHQ9dGhpcy5fY3JlYXRlRGF0YUluZm9RdWVyeSgpLHI9YXdhaXQgaS5xdWVyeUV4dGVudCh0LHt0aW1lb3V0Ok4ucXVlcnlFeHRlbnRUaW1lb3V0LHNpZ25hbDplfSk7dGhpcy5fc2V0KFwic2VydmljZURhdGFFeHRlbnRcIixyLmV4dGVudCl9ZWxzZSBpZihzKXRoaXMuX3NldChcInNlcnZpY2VEYXRhRXh0ZW50XCIscyk7ZWxzZSBpZihudWxsIT1vKXtjb25zdCBlPW8uc3BhdGlhbFJlZmVyZW5jZT9hd2FpdCBEKG8sdC52aWV3LnNwYXRpYWxSZWZlcmVuY2UpOm51bGw7dGhpcy5fc2V0KFwic2VydmljZURhdGFFeHRlbnRcIixlPz9udWxsKX1lbHNlIHRoaXMuX3NldChcInNlcnZpY2VEYXRhRXh0ZW50XCIsbnVsbCl9YXN5bmMgX3VwZGF0ZVNlcnZpY2VEYXRhQ291bnQoZSl7Y29uc3QgdD10aGlzLmxheWVyVmlldy5sYXllcjtpZighKFwicXVlcnlGZWF0dXJlQ291bnRcImluIHQpfHwhaGFzKFwiZmVhdHVyZWxheWVyLXNuYXBzaG90LWVuYWJsZWRcIikpcmV0dXJuIHZvaWQgdGhpcy5fc2V0KFwic2VydmljZURhdGFDb3VudFwiLE4ubm9TZXJ2aWNlRGF0YUNvdW50KTtjb25zdCByPWF3YWl0IGkodC5xdWVyeUZlYXR1cmVDb3VudCh0aGlzLl9jcmVhdGVEYXRhSW5mb1F1ZXJ5KCkse3RpbWVvdXQ6Ti5xdWVyeVN0YXRpc3RpY3NUaW1lb3V0LHNpZ25hbDplfSkpO2lmKCEwPT09ci5vayl0aGlzLl9zZXQoXCJzZXJ2aWNlRGF0YUNvdW50XCIsci52YWx1ZSk7ZWxzZXtpZihkKHIuZXJyb3IpKXRocm93IHIuZXJyb3I7dGhpcy5fc2V0KFwic2VydmljZURhdGFDb3VudFwiLE4ubm9TZXJ2aWNlRGF0YUNvdW50KX19Z2V0IF9zdXBwb3J0c0V4Y2VlZHNMaW1pdFF1ZXJ5KCl7Y29uc3QgZT10aGlzLmxheWVyVmlldy5sYXllcjtyZXR1cm4gbnVsbCE9ZS5jYXBhYmlsaXRpZXMmJmUuY2FwYWJpbGl0aWVzLm9wZXJhdGlvbnMmJmUuY2FwYWJpbGl0aWVzLm9wZXJhdGlvbnMuc3VwcG9ydHNFeGNlZWRzTGltaXRTdGF0aXN0aWNzfWdldCBfbWluaW11bU51bWJlck9mVmVydGljZXNGb3JHZW9tZXRyeSgpe3N3aXRjaCh0aGlzLmxheWVyVmlldy5sYXllci5nZW9tZXRyeVR5cGUpe2Nhc2VcInBvaW50XCI6Y2FzZVwibXVsdGlwb2ludFwiOnJldHVybiAxO2Nhc2VcInBvbHlnb25cIjpyZXR1cm4gNDtjYXNlXCJwb2x5bGluZVwiOnJldHVybiAyO2Nhc2VcIm11bHRpcGF0Y2hcIjpjYXNlXCJtZXNoXCI6cmV0dXJuIDM7ZGVmYXVsdDpyZXR1cm4gMH19YXN5bmMgX3VwZGF0ZVNuYXBzaG90TGltaXQoZSx0LHIpe2lmKG51bGw9PWU/LmF2ZXJhZ2VTeW1ib2xDb21wbGV4aXR5KXJldHVybiB2b2lkKHRoaXMuX3NuYXBzaG90TGltaXRFeGNlZWRlZD0hMSk7Y29uc3R7bWF4aW11bVRvdGFsTnVtYmVyT2ZWZXJ0aWNlczpzLGF2ZXJhZ2VTeW1ib2xDb21wbGV4aXR5OmF9PWUse3ZlcnRpY2VzUGVyRmVhdHVyZTpvLHZlcnRpY2VzUGVyQ29vcmRpbmF0ZTpsfT1hLG49bzw9MCx1PXRoaXMuX21pbmltdW1OdW1iZXJPZlZlcnRpY2VzRm9yR2VvbWV0cnk+MTtpZighbiYmIXUpcmV0dXJuIHZvaWQodGhpcy5fc25hcHNob3RMaW1pdEV4Y2VlZGVkPSExKTswIT09byYmbnVsbCE9dCYmYXdhaXQgdDtjb25zdCBoPU1hdGgubWluKHMsSSksYz10aGlzLnNlcnZpY2VEYXRhQ291bnQscD1jIT09Ti5ub1NlcnZpY2VEYXRhQ291bnQ7bGV0IG09cD9NYXRoLmNlaWwoKGgtYypvKS8obHx8MSkpOk1hdGguY2VpbChoLyhsfHwxKSk7aWYodSYmKG09TWF0aC5taW4obSxxKSkscCYmdGhpcy5fbWluaW11bU51bWJlck9mVmVydGljZXNGb3JHZW9tZXRyeSpjPm0pcmV0dXJuIHZvaWQodGhpcy5fc25hcHNob3RMaW1pdEV4Y2VlZGVkPSEwKTtpZighdGhpcy5fc3VwcG9ydHNFeGNlZWRzTGltaXRRdWVyeXx8IWhhcyhcImZlYXR1cmVsYXllci1zbmFwc2hvdC1lbmFibGVkXCIpKXJldHVybiB2b2lkKHRoaXMuX3NuYXBzaG90TGltaXRFeGNlZWRlZD10aGlzLm1heFRvdGFsU25hcHNob3RWZXJ0aWNlcz5tKTtjb25zdCBmPWF3YWl0IGkodGhpcy5sYXllclZpZXcubGF5ZXIucXVlcnlGZWF0dXJlcyh0aGlzLl9jcmVhdGVWZXJ0ZXhMaW1pdEV4Y2VlZGVkUXVlcnkobSkse3RpbWVvdXQ6Ti5xdWVyeVN0YXRpc3RpY3NUaW1lb3V0LHNpZ25hbDpyfSkpO2lmKCExPT09Zi5vayl7aWYoZChmLmVycm9yKSl0aHJvdyBmLmVycm9yO3JldHVybiB2b2lkKHRoaXMuX3NuYXBzaG90TGltaXRFeGNlZWRlZD0hMSl9Y29uc3QgeT1mLnZhbHVlLmZlYXR1cmVzWzBdO3RoaXMuX3NuYXBzaG90TGltaXRFeGNlZWRlZD0hIXk/LmF0dHJpYnV0ZXMmJiEheS5hdHRyaWJ1dGVzLmV4Y2VlZHNsaW1pdH1hc3luYyBfZmV0Y2hTZXJ2aWNlRGF0YUluZm8oKXt0aGlzLl9jYW5jZWxGZXRjaFNlcnZpY2VEYXRhSW5mbygpLGF3YWl0IEModGhpcy5sYXllclZpZXcubGF5ZXIpO2xldCBlPW5ldyBBYm9ydENvbnRyb2xsZXI7Y29uc3QgdD1lLnNpZ25hbCxpPXRoaXMuX3VwZGF0ZVNlcnZpY2VEYXRhQ291bnQodCkscj1Qcm9taXNlLmFsbFNldHRsZWQoW2ksdGhpcy5fdXBkYXRlU25hcHNob3RMaW1pdCh0aGlzLmRpc3BsYXlGZWF0dXJlTGltaXQsaSx0KV0pLHM9ci50aGVuKCgoKT0+dGhpcy5fdXBkYXRlU2VydmljZURhdGFFeHRlbnQodCkpKS5jYXRjaCgoZT0+e2QoZSl8fG8uZ2V0TG9nZ2VyKHRoaXMpLmVycm9yKFwiI2ZldGNoU2VydmljZURhdGFJbmZvKClcIixlKX0pKS50aGVuKCgoKT0+e3M9PT10aGlzLl9mZXRjaERhdGFJbmZvUHJvbWlzZSYmKHRoaXMuX2ZldGNoRGF0YUluZm9Qcm9taXNlPW51bGwsdGhpcy5fZmV0Y2hEYXRhSW5mb0Fib3J0Q29udHJvbGxlcj1udWxsKSxlPW51bGx9KSk7cmV0dXJuIGUmJih0aGlzLl9mZXRjaERhdGFJbmZvUHJvbWlzZT1zKSx0aGlzLl9mZXRjaERhdGFJbmZvQWJvcnRDb250cm9sbGVyPWUsci50aGVuKCgoKT0+e30pLCgoKT0+e30pKX1fY2FuY2VsRmV0Y2hTZXJ2aWNlRGF0YUluZm8oKXtjb25zdCBlPXRoaXMuX2ZldGNoRGF0YUluZm9BYm9ydENvbnRyb2xsZXI7ZSYmKHRoaXMuX2ZldGNoRGF0YUluZm9BYm9ydENvbnRyb2xsZXI9bnVsbCx0aGlzLl9mZXRjaERhdGFJbmZvUHJvbWlzZT1udWxsLGUuYWJvcnQoKSl9Z2V0IHBlcmZvcm1hbmNlSW5mbygpe3JldHVybntzdG9yZWRGZWF0dXJlczp0aGlzLl90aWxlRmV0Y2hlcj8uc3RvcmVkRmVhdHVyZXM/PzAsdG90YWxGZWF0dXJlczp0aGlzLl90aWxlRmV0Y2hlcj8udG90YWxGZWF0dXJlcz8/MCx0b3RhbFZlcnRpY2VzOnRoaXMuX3RpbGVGZXRjaGVyPy50b3RhbFZlcnRpY2VzPz8wLG1pc3NpbmdUaWxlczp0aGlzLl90aWxlRmV0Y2hlcj8ubWlzc2luZ1RpbGVzPz8wfX19O2UoW0Yoe3JlYWRPbmx5OiEwfSldLEwucHJvdG90eXBlLFwidHlwZVwiLHZvaWQgMCksZShbRih7Y29uc3RydWN0T25seTohMH0pXSxMLnByb3RvdHlwZSxcImdyYXBoaWNzXCIsdm9pZCAwKSxlKFtGKHtjb25zdHJ1Y3RPbmx5OiEwfSldLEwucHJvdG90eXBlLFwibGF5ZXJWaWV3XCIsdm9pZCAwKSxlKFtGKHtjb25zdHJ1Y3RPbmx5OiEwfSldLEwucHJvdG90eXBlLFwiY29udGV4dFwiLHZvaWQgMCksZShbRih7cmVhZE9ubHk6ITB9KV0sTC5wcm90b3R5cGUsXCJkYXRhVXBkYXRpbmdcIixudWxsKSxlKFtGKCldLEwucHJvdG90eXBlLFwiZXh0ZW50XCIsbnVsbCksZShbRigpXSxMLnByb3RvdHlwZSxcInVwZGF0aW5nXCIsbnVsbCksZShbRih7cmVhZE9ubHk6ITB9KV0sTC5wcm90b3R5cGUsXCJfdXBkYXRpbmdIYW5kbGVzXCIsdm9pZCAwKSxlKFtGKCldLEwucHJvdG90eXBlLFwidXBkYXRpbmdUb3RhbFwiLG51bGwpLGUoW0YoKV0sTC5wcm90b3R5cGUsXCJ1cGRhdGluZ1JlbWFpbmluZ1wiLG51bGwpLGUoW0YoKV0sTC5wcm90b3R5cGUsXCJleHBlY3RlZEZlYXR1cmVEaWZmXCIsbnVsbCksZShbRigpXSxMLnByb3RvdHlwZSxcIm1lbW9yeUZvclVudXNlZEZlYXR1cmVzXCIsbnVsbCksZShbRigpXSxMLnByb3RvdHlwZSxcIm1heGltdW1OdW1iZXJPZkZlYXR1cmVzRXhjZWVkZWRcIixudWxsKSxlKFtGKHtyZWFkT25seTohMH0pXSxMLnByb3RvdHlwZSxcInNlcnZpY2VEYXRhRXh0ZW50XCIsdm9pZCAwKSxlKFtGKHtyZWFkT25seTohMH0pXSxMLnByb3RvdHlwZSxcInNlcnZpY2VEYXRhQ291bnRcIix2b2lkIDApLGUoW0YoKV0sTC5wcm90b3R5cGUsXCJfc25hcHNob3RMaW1pdEV4Y2VlZGVkXCIsdm9pZCAwKSxlKFtGKCldLEwucHJvdG90eXBlLFwiZGlzcGxheUZlYXR1cmVMaW1pdFwiLHZvaWQgMCksZShbRih7dHlwZTpOdW1iZXJ9KV0sTC5wcm90b3R5cGUsXCJtYXhpbXVtTnVtYmVyT2ZGZWF0dXJlc1wiLG51bGwpLGUoW0Yoe3JlYWRPbmx5OiEwfSldLEwucHJvdG90eXBlLFwiaGFzQWxsRmVhdHVyZXNcIixudWxsKSxlKFtGKHtyZWFkT25seTohMH0pXSxMLnByb3RvdHlwZSxcImhhc0FsbEZlYXR1cmVzSW5WaWV3XCIsbnVsbCksZShbRih7cmVhZE9ubHk6ITB9KV0sTC5wcm90b3R5cGUsXCJoYXNGdWxsR2VvbWV0cmllc1wiLG51bGwpLGUoW0YoKV0sTC5wcm90b3R5cGUsXCJfZm9yY2VUaWxlc01vZGVcIix2b2lkIDApLGUoW0Yoe3JlYWRPbmx5OiEwfSldLEwucHJvdG90eXBlLFwibW9kZVwiLG51bGwpLGUoW0Yoe3JlYWRPbmx5OiEwfSldLEwucHJvdG90eXBlLFwibWF4VG90YWxTbmFwc2hvdFZlcnRpY2VzXCIsbnVsbCksZShbRih7cmVhZE9ubHk6ITB9KV0sTC5wcm90b3R5cGUsXCJ0aWxlRGVzY3JpcHRvcnNcIixudWxsKSxlKFtGKCldLEwucHJvdG90eXBlLFwiX3RpbGVGZXRjaGVyXCIsdm9pZCAwKSxlKFtGKCldLEwucHJvdG90eXBlLFwiX2ZldGNoRGF0YUluZm9Qcm9taXNlXCIsdm9pZCAwKSxMPWUoW3goXCJlc3JpLmxheWVycy5ncmFwaGljcy5jb250cm9sbGVycy5GZWF0dXJlVGlsZUNvbnRyb2xsZXIzRFwiKV0sTCk7Y29uc3QgTz0xZTQsST0xZTYsQT0xMmUzLGo9MWU0LHE9NWU2O2Z1bmN0aW9uIFAoZSx0KXtpZighdClyZXR1cm4hMTtmb3IoY29uc3QgaSBvZiB0KWlmKCFlLmhhcyhpKSlyZXR1cm4hMDtyZXR1cm4hMX12YXIgTjshZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe2UubWF4RmVhdHVyZUNvdW50Rm9yRXh0ZW50PU8sZS5xdWVyeVN0YXRpc3RpY3NUaW1lb3V0PUEsZS5xdWVyeUV4dGVudFRpbWVvdXQ9an1lLm5vU2VydmljZURhdGFDb3VudD0xLzAsZS5tYXhTbmFwc2hvdE1pblNjYWxlRmFjdG9yPTUsZS5yZXNldD10fShOfHwoTj17fSkpLE4ucmVzZXQoKTtleHBvcnR7TCBhcyBGZWF0dXJlVGlsZUNvbnRyb2xsZXIzRCxOIGFzIEZlYXR1cmVUaWxlQ29udHJvbGxlcjNEQ29uc3RhbnRzfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjMzL2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnQgaGFzIGZyb21cIi4uLy4uLy4uL2NvcmUvaGFzLmpzXCI7aW1wb3J0e1Bvb2xlZFJCdXNoIGFzIGl9ZnJvbVwiLi4vLi4vLi4vY29yZS9saWJzL3JidXNoL1Bvb2xlZFJCdXNoLmpzXCI7aW1wb3J0e2VtcHR5IGFzIHN9ZnJvbVwiLi4vLi4vLi4vZ2VvbWV0cnkvc3VwcG9ydC9hYUJvdW5kaW5nUmVjdC5qc1wiO2NvbnN0IGQ9NWU0LG49e21pblg6MCxtaW5ZOjAsbWF4WDowLG1heFk6MH07ZnVuY3Rpb24gdChpKXtuLm1pblg9aVswXSxuLm1pblk9aVsxXSxuLm1heFg9aVsyXSxuLm1heFk9aVszXX1mdW5jdGlvbiBlKGkscyxkKXt0KHMpLGkuc2VhcmNoKG4sZCl9Y2xhc3Mgb3tjb25zdHJ1Y3Rvcigpe3RoaXMuX2luZGV4SW52YWxpZD0hMSx0aGlzLl9ib3VuZHNUb0xvYWQ9W10sdGhpcy5fYm91bmRzQnlJZD1uZXcgTWFwLHRoaXMuX2lkQnlCb3VuZHM9bmV3IE1hcCx0aGlzLl9pbmRleD1uZXcgaSg5LGhhcyhcImVzcmktY3NwLXJlc3RyaWN0aW9uc1wiKT9pPT4oe21pblg6aVswXSxtaW5ZOmlbMV0sbWF4WDppWzJdLG1heFk6aVszXX0pOltcIlswXVwiLFwiWzFdXCIsXCJbMl1cIixcIlszXVwiXSksdGhpcy5fbG9hZEluZGV4PSgpPT57aWYodGhpcy5faW5kZXhJbnZhbGlkKXtjb25zdCBpPW5ldyBBcnJheSh0aGlzLl9pZEJ5Qm91bmRzLnNpemUpO2xldCBzPTA7dGhpcy5faWRCeUJvdW5kcy5mb3JFYWNoKCgoZCxuKT0+e2lbcysrXT1ufSkpLHRoaXMuX2luZGV4SW52YWxpZD0hMSx0aGlzLl9pbmRleC5jbGVhcigpLHRoaXMuX2luZGV4LmxvYWQoaSl9ZWxzZSB0aGlzLl9ib3VuZHNUb0xvYWQubGVuZ3RoJiYodGhpcy5faW5kZXgubG9hZChBcnJheS5mcm9tKG5ldyBTZXQodGhpcy5fYm91bmRzVG9Mb2FkLmZpbHRlcigoaT0+dGhpcy5faWRCeUJvdW5kcy5oYXMoaSkpKSkpKSx0aGlzLl9ib3VuZHNUb0xvYWQubGVuZ3RoPTApfX1nZXQgZnVsbEJvdW5kcygpe2lmKCF0aGlzLl9ib3VuZHNCeUlkLnNpemUpcmV0dXJuIG51bGw7Y29uc3QgaT1zKCk7Zm9yKGNvbnN0IHMgb2YgdGhpcy5fYm91bmRzQnlJZC52YWx1ZXMoKSlzJiYoaVswXT1NYXRoLm1pbihzWzBdLGlbMF0pLGlbMV09TWF0aC5taW4oc1sxXSxpWzFdKSxpWzJdPU1hdGgubWF4KHNbMl0saVsyXSksaVszXT1NYXRoLm1heChzWzNdLGlbM10pKTtyZXR1cm4gaX1nZXQgdmFsaWQoKXtyZXR1cm4hdGhpcy5faW5kZXhJbnZhbGlkfWNsZWFyKCl7dGhpcy5faW5kZXhJbnZhbGlkPSExLHRoaXMuX2JvdW5kc1RvTG9hZC5sZW5ndGg9MCx0aGlzLl9ib3VuZHNCeUlkLmNsZWFyKCksdGhpcy5faWRCeUJvdW5kcy5jbGVhcigpLHRoaXMuX2luZGV4LmNsZWFyKCl9ZGVsZXRlKGkpe2NvbnN0IHM9dGhpcy5fYm91bmRzQnlJZC5nZXQoaSk7dGhpcy5fYm91bmRzQnlJZC5kZWxldGUoaSkscyYmKHRoaXMuX2lkQnlCb3VuZHMuZGVsZXRlKHMpLHRoaXMuX2luZGV4SW52YWxpZHx8dGhpcy5faW5kZXgucmVtb3ZlKHMpKX1mb3JFYWNoSW5Cb3VuZHMoaSxzKXt0aGlzLl9sb2FkSW5kZXgoKSxlKHRoaXMuX2luZGV4LGksKGk9PnModGhpcy5faWRCeUJvdW5kcy5nZXQoaSkpKSl9Z2V0KGkpe3JldHVybiB0aGlzLl9ib3VuZHNCeUlkLmdldChpKX1oYXMoaSl7cmV0dXJuIHRoaXMuX2JvdW5kc0J5SWQuaGFzKGkpfWludmFsaWRhdGVJbmRleCgpe3RoaXMuX2luZGV4SW52YWxpZHx8KHRoaXMuX2luZGV4SW52YWxpZD0hMCx0aGlzLl9ib3VuZHNUb0xvYWQubGVuZ3RoPTApfXNldChpLHMpe2lmKCF0aGlzLl9pbmRleEludmFsaWQpe2NvbnN0IHM9dGhpcy5fYm91bmRzQnlJZC5nZXQoaSk7cyYmKHRoaXMuX2luZGV4LnJlbW92ZShzKSx0aGlzLl9pZEJ5Qm91bmRzLmRlbGV0ZShzKSl9dGhpcy5fYm91bmRzQnlJZC5zZXQoaSxzKSxzJiYodGhpcy5faWRCeUJvdW5kcy5zZXQocyxpKSx0aGlzLl9pbmRleEludmFsaWR8fCh0aGlzLl9ib3VuZHNUb0xvYWQucHVzaChzKSx0aGlzLl9ib3VuZHNUb0xvYWQubGVuZ3RoPmQmJnRoaXMuX2xvYWRJbmRleCgpKSl9fWV4cG9ydHtvIGFzIEJvdW5kc1N0b3JlfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjMzL2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7aXNTb21lIGFzIGV9ZnJvbVwiLi4vLi4vLi4vY29yZS9hcnJheVV0aWxzLmpzXCI7aW1wb3J0IHQgZnJvbVwiLi4vLi4vLi4vY29yZS9FcnJvci5qc1wiO2ltcG9ydCByIGZyb21cIi4uLy4uLy4uL2NvcmUvRXZlbnRlZC5qc1wiO2ltcG9ydCBzIGZyb21cIi4uLy4uLy4uL2NvcmUvTG9nZ2VyLmpzXCI7aW1wb3J0e2Zyb21SZWN0IGFzIG8sY3JlYXRlIGFzIGl9ZnJvbVwiLi4vLi4vLi4vZ2VvbWV0cnkvc3VwcG9ydC9hYUJvdW5kaW5nQm94LmpzXCI7aW1wb3J0e2NyZWF0ZSBhcyBufWZyb21cIi4uLy4uLy4uL2dlb21ldHJ5L3N1cHBvcnQvYWFCb3VuZGluZ1JlY3QuanNcIjtpbXBvcnR7Z2V0Qm91bmRzT3B0aW1pemVkR2VvbWV0cnkgYXMgdX1mcm9tXCIuLi9mZWF0dXJlQ29udmVyc2lvblV0aWxzLmpzXCI7aW1wb3J0e0JvdW5kc1N0b3JlIGFzIGF9ZnJvbVwiLi9Cb3VuZHNTdG9yZS5qc1wiO2ltcG9ydHtjbGVhbkZyb21HZW9tZXRyeUVuZ2luZSBhcyBkfWZyb21cIi4vZ2VvbWV0cnlVdGlscy5qc1wiO2ltcG9ydHtvcHRpbWl6ZWRGZWF0dXJlUXVlcnlFbmdpbmVBZGFwdGVyIGFzIGh9ZnJvbVwiLi9vcHRpbWl6ZWRGZWF0dXJlUXVlcnlFbmdpbmVBZGFwdGVyLmpzXCI7Y29uc3QgbT1pKCk7Y2xhc3MgZntjb25zdHJ1Y3RvcihlKXt0aGlzLmdlb21ldHJ5SW5mbz1lLHRoaXMuX2JvdW5kc1N0b3JlPW5ldyBhLHRoaXMuX2ZlYXR1cmVzQnlJZD1uZXcgTWFwLHRoaXMuX3VzZWRNZW1vcnk9MCx0aGlzLmV2ZW50cz1uZXcgcix0aGlzLmZlYXR1cmVBZGFwdGVyPWh9Z2V0IHVzZWRNZW1vcnkoKXtyZXR1cm4gdGhpcy5fdXNlZE1lbW9yeX1nZXQgZ2VvbWV0cnlUeXBlKCl7cmV0dXJuIHRoaXMuZ2VvbWV0cnlJbmZvLmdlb21ldHJ5VHlwZX1nZXQgaGFzTSgpe3JldHVybiB0aGlzLmdlb21ldHJ5SW5mby5oYXNNfWdldCBoYXNaKCl7cmV0dXJuIHRoaXMuZ2VvbWV0cnlJbmZvLmhhc1p9Z2V0IG51bUZlYXR1cmVzKCl7cmV0dXJuIHRoaXMuX2ZlYXR1cmVzQnlJZC5zaXplfWdldCBmdWxsQm91bmRzKCl7cmV0dXJuIHRoaXMuX2JvdW5kc1N0b3JlLmZ1bGxCb3VuZHN9Z2V0IHN0b3JlU3RhdGlzdGljcygpe2xldCBlPTA7cmV0dXJuIHRoaXMuX2ZlYXR1cmVzQnlJZC5mb3JFYWNoKCh0PT57bnVsbCE9dC5nZW9tZXRyeSYmdC5nZW9tZXRyeS5jb29yZHMmJihlKz10Lmdlb21ldHJ5LmNvb3Jkcy5sZW5ndGgpfSkpLHtmZWF0dXJlQ291bnQ6dGhpcy5fZmVhdHVyZXNCeUlkLnNpemUsdmVydGV4Q291bnQ6ZS8odGhpcy5oYXNaP3RoaXMuaGFzTT80OjM6dGhpcy5oYXNNPzM6Mil9fWdldEZ1bGxFeHRlbnQoZSl7aWYobnVsbD09dGhpcy5mdWxsQm91bmRzKXJldHVybiBudWxsO2NvbnN0W3QscixzLG9dPXRoaXMuZnVsbEJvdW5kcztyZXR1cm57eG1pbjp0LHltaW46cix4bWF4OnMseW1heDpvLHNwYXRpYWxSZWZlcmVuY2U6ZChlKX19YWRkKGUpe3RoaXMuX2FkZChlKSx0aGlzLl9lbWl0Q2hhbmdlZCgpfWFkZE1hbnkoZSl7Zm9yKGNvbnN0IHQgb2YgZSl0aGlzLl9hZGQodCk7dGhpcy5fZW1pdENoYW5nZWQoKX11cHNlcnRNYW55KHQpe2NvbnN0IHI9dC5tYXAoKGU9PnRoaXMuX3Vwc2VydChlKSkpO3JldHVybiB0aGlzLl9lbWl0Q2hhbmdlZCgpLHIuZmlsdGVyKGUpfWNsZWFyKCl7dGhpcy5fZmVhdHVyZXNCeUlkLmNsZWFyKCksdGhpcy5fYm91bmRzU3RvcmUuY2xlYXIoKSx0aGlzLl9lbWl0Q2hhbmdlZCgpLHRoaXMuX3VzZWRNZW1vcnk9MH1yZW1vdmVCeUlkKGUpe2NvbnN0IHQ9dGhpcy5fZmVhdHVyZXNCeUlkLmdldChlKTtyZXR1cm4gdD8odGhpcy5fcmVtb3ZlKHQpLHRoaXMuX2VtaXRDaGFuZ2VkKCksdCk6bnVsbH1yZW1vdmVNYW55QnlJZChlKXt0aGlzLl9ib3VuZHNTdG9yZS5pbnZhbGlkYXRlSW5kZXgoKTtmb3IoY29uc3QgdCBvZiBlKXtjb25zdCBlPXRoaXMuX2ZlYXR1cmVzQnlJZC5nZXQodCk7ZSYmdGhpcy5fcmVtb3ZlKGUpfXRoaXMuX2VtaXRDaGFuZ2VkKCl9Zm9yRWFjaEJvdW5kcyhlLHQpe2Zvcihjb25zdCByIG9mIGUpe2NvbnN0IGU9dGhpcy5fYm91bmRzU3RvcmUuZ2V0KHIub2JqZWN0SWQpO2UmJnQobyhtLGUpKX19Z2V0RmVhdHVyZShlKXtyZXR1cm4gdGhpcy5fZmVhdHVyZXNCeUlkLmdldChlKX1oYXMoZSl7cmV0dXJuIHRoaXMuX2ZlYXR1cmVzQnlJZC5oYXMoZSl9Zm9yRWFjaChlKXt0aGlzLl9mZWF0dXJlc0J5SWQuZm9yRWFjaCgodD0+ZSh0KSkpfWZvckVhY2hJbkJvdW5kcyhlLHQpe3RoaXMuX2JvdW5kc1N0b3JlLmZvckVhY2hJbkJvdW5kcyhlLChlPT57dCh0aGlzLl9mZWF0dXJlc0J5SWQuZ2V0KGUpKX0pKX1fZW1pdENoYW5nZWQoKXt0aGlzLmV2ZW50cy5lbWl0KFwiY2hhbmdlZFwiLHZvaWQgMCl9X2FkZChlKXtpZighZSlyZXR1cm47Y29uc3Qgcj1lLm9iamVjdElkO2lmKG51bGw9PXIpcmV0dXJuIHZvaWQgcy5nZXRMb2dnZXIoXCJlc3JpLmxheWVycy5ncmFwaGljcy5kYXRhLkZlYXR1cmVTdG9yZVwiKS5lcnJvcihuZXcgdChcImZlYXR1cmVzdG9yZTppbnZhbGlkLWZlYXR1cmVcIixcImZlYXR1cmUgaWQgaXMgbWlzc2luZ1wiLHtmZWF0dXJlOmV9KSk7Y29uc3Qgbz10aGlzLl9mZWF0dXJlc0J5SWQuZ2V0KHIpO2xldCBpO2lmKG8/KGUuZGlzcGxheUlkPW8uZGlzcGxheUlkLGk9dGhpcy5fYm91bmRzU3RvcmUuZ2V0KHIpLHRoaXMuX2JvdW5kc1N0b3JlLmRlbGV0ZShyKSx0aGlzLl91c2VkTWVtb3J5LT10aGlzLmVzdGltYXRlRmVhdHVyZVVzZWRNZW1vcnk/LihvKT8/MCk6bnVsbCE9dGhpcy5vbkZlYXR1cmVBZGQmJnRoaXMub25GZWF0dXJlQWRkKGUpLCFlLmdlb21ldHJ5Py5jb29yZHM/Lmxlbmd0aClyZXR1cm4gdGhpcy5fYm91bmRzU3RvcmUuc2V0KHIsbnVsbCksdm9pZCB0aGlzLl9mZWF0dXJlc0J5SWQuc2V0KHIsZSk7aT11KG51bGwhPWk/aTpuKCksZS5nZW9tZXRyeSx0aGlzLmdlb21ldHJ5SW5mby5oYXNaLHRoaXMuZ2VvbWV0cnlJbmZvLmhhc00pLG51bGwhPWkmJnRoaXMuX2JvdW5kc1N0b3JlLnNldChyLGkpLHRoaXMuX2ZlYXR1cmVzQnlJZC5zZXQocixlKSx0aGlzLl91c2VkTWVtb3J5Kz10aGlzLmVzdGltYXRlRmVhdHVyZVVzZWRNZW1vcnk/LihlKT8/MH1fdXBzZXJ0KGUpe2NvbnN0IHI9ZT8ub2JqZWN0SWQ7aWYobnVsbD09cilyZXR1cm4gcy5nZXRMb2dnZXIoXCJlc3JpLmxheWVycy5ncmFwaGljcy5kYXRhLkZlYXR1cmVTdG9yZVwiKS5lcnJvcihuZXcgdChcImZlYXR1cmVzdG9yZTppbnZhbGlkLWZlYXR1cmVcIixcImZlYXR1cmUgaWQgaXMgbWlzc2luZ1wiLHtmZWF0dXJlOmV9KSksbnVsbDtjb25zdCBvPXRoaXMuX2ZlYXR1cmVzQnlJZC5nZXQocik7aWYoIW8pcmV0dXJuIHRoaXMuX2FkZChlKSxlO3RoaXMuX3VzZWRNZW1vcnktPXRoaXMuZXN0aW1hdGVGZWF0dXJlVXNlZE1lbW9yeT8uKG8pPz8wO2NvbnN0e2dlb21ldHJ5OmksYXR0cmlidXRlczphfT1lO2Zvcihjb25zdCB0IGluIGEpby5hdHRyaWJ1dGVzW3RdPWFbdF07cmV0dXJuIGkmJihvLmdlb21ldHJ5PWksdGhpcy5fYm91bmRzU3RvcmUuc2V0KHIsdShuKCksaSx0aGlzLmdlb21ldHJ5SW5mby5oYXNaLHRoaXMuZ2VvbWV0cnlJbmZvLmhhc00pPz9udWxsKSksdGhpcy5fdXNlZE1lbW9yeSs9dGhpcy5lc3RpbWF0ZUZlYXR1cmVVc2VkTWVtb3J5Py4obyk/PzAsb31fcmVtb3ZlKGUpe251bGwhPXRoaXMub25GZWF0dXJlUmVtb3ZlJiZ0aGlzLm9uRmVhdHVyZVJlbW92ZShlKTtjb25zdCB0PWUub2JqZWN0SWQ7cmV0dXJuIHRoaXMuX2JvdW5kc1N0b3JlLmRlbGV0ZSh0KSx0aGlzLl9mZWF0dXJlc0J5SWQuZGVsZXRlKHQpLHRoaXMuX3VzZWRNZW1vcnktPXRoaXMuZXN0aW1hdGVGZWF0dXJlVXNlZE1lbW9yeT8uKGUpPz8wLGV9fWV4cG9ydHtmIGFzIGRlZmF1bHR9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMzMvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtfIGFzIGV9ZnJvbVwiLi4vLi4vLi4vY2h1bmtzL3RzbGliLmVzNi5qc1wiO2ltcG9ydCB0IGZyb21cIi4uLy4uLy4uL0dyYXBoaWMuanNcIjtpbXBvcnQgciBmcm9tXCIuLi8uLi8uLi9jb3JlL0Vycm9yLmpzXCI7aW1wb3J0IGhhcyBmcm9tXCIuLi8uLi8uLi9jb3JlL2hhcy5qc1wiO2ltcG9ydHtkZXN0cm95TWF5YmUgYXMgaX1mcm9tXCIuLi8uLi8uLi9jb3JlL21heWJlLmpzXCI7aW1wb3J0e3Byb3BlcnR5IGFzIHN9ZnJvbVwiLi4vLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9wcm9wZXJ0eS5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vY29yZS9Mb2dnZXIuanNcIjtpbXBvcnRcIi4uLy4uLy4uL2NvcmUvUmFuZG9tTENHLmpzXCI7aW1wb3J0e3N1YmNsYXNzIGFzIG59ZnJvbVwiLi4vLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9zdWJjbGFzcy5qc1wiO2ltcG9ydHtoeWRyYXRlR3JhcGhpYyBhcyBhfWZyb21cIi4uLy4uLy4uL2xheWVycy9ncmFwaGljcy9oeWRyYXRlZEZlYXR1cmVzLmpzXCI7aW1wb3J0e2NvbWJpbmVUaW1lRXh0ZW50IGFzIHB9ZnJvbVwiLi4vLi4vLi4vbGF5ZXJzL3N1cHBvcnQvdGltZVN1cHBvcnQuanNcIjtpbXBvcnQgbyBmcm9tXCIuLi8uLi8uLi9yZXN0L3N1cHBvcnQvUXVlcnkuanNcIjtpbXBvcnR7VXBkYXRlUG9saWN5IGFzIGx9ZnJvbVwiLi4vd2ViZ2wtZW5naW5lL2xpYi9VcGRhdGVQb2xpY3kuanNcIjtpbXBvcnR7ZGVmYXVsdEhpZ2hsaWdodE5hbWUgYXMgdX1mcm9tXCIuLi8uLi9zdXBwb3J0L0hpZ2hsaWdodERlZmF1bHRzLmpzXCI7aW1wb3J0e2lzSW5FZmZlY3RpdmVTY2FsZVJhbmdlIGFzIGgsaGFzTGF5ZXJCYXNlZFNjYWxlVmlzaWJpbGl0eSBhcyB5fWZyb21cIi4uLy4uL3N1cHBvcnQvbGF5ZXJWaWV3VXRpbHMuanNcIjtpbXBvcnR7cHJvamVjdFdpdGhaQ29udmVyc2lvblNpbGVudCBhcyBjfWZyb21cIi4uLy4uL3N1cHBvcnQvcHJvamVjdGlvblV0aWxzLmpzXCI7Y29uc3QgZz1nPT57bGV0IGQ9Y2xhc3MgZXh0ZW5kcyBne2NvbnN0cnVjdG9yKCl7c3VwZXIoLi4uYXJndW1lbnRzKSx0aGlzLmhpZ2hsaWdodE9wdGlvbnM9bnVsbCx0aGlzLnVwZGF0ZVBvbGljeT1sLlNZTkMsdGhpcy5zbGljZVBsYW5lRW5hYmxlZD0hMSx0aGlzLmZ1bGxFeHRlbnRJbkxvY2FsVmlld1NwYXRpYWxSZWZlcmVuY2U9bnVsbCx0aGlzLnN1cHBvcnRzSGVpZ2h0VW5pdENvbnZlcnNpb249ITB9aW5pdGlhbGl6ZSgpe2NvbnN0IGU9dGhpcy5sYXllcjtcImlzVGFibGVcImluIGUmJmUuaXNUYWJsZT90aGlzLmFkZFJlc29sdmluZ1Byb21pc2UoUHJvbWlzZS5yZWplY3QobmV3IHIoXCJmZWF0dXJlbGF5ZXJ2aWV3OnRhYmxlLW5vdC1zdXBwb3J0ZWRcIixcInRhYmxlIGZlYXR1cmUgbGF5ZXIgY2FuJ3QgYmUgZGlzcGxheWVkXCIse2xheWVyOmV9KSkpOih0aGlzLmFkZFJlc29sdmluZ1Byb21pc2UodGhpcy5fdmFsaWRhdGVHZW9tZXRyeVR5cGUoKSksdGhpcy5hZGRSZXNvbHZpbmdQcm9taXNlKChhc3luYygpPT57aWYodGhpcy5kZXN0cm95ZWQpcmV0dXJuO3RoaXMuZnVsbEV4dGVudEluTG9jYWxWaWV3U3BhdGlhbFJlZmVyZW5jZT1cImxvY2FsXCI9PT10aGlzLnZpZXcudmlld2luZ01vZGU/YXdhaXQgYyh0aGlzLmxheWVyLmZ1bGxFeHRlbnQsdGhpcy52aWV3LnNwYXRpYWxSZWZlcmVuY2UpOm51bGw7Y29uc3QgZT1hd2FpdCB0aGlzLmNyZWF0ZUdyYXBoaWNzUGlwZWxpbmUoKTt0aGlzLmRlc3Ryb3llZD9lLmRlc3Ryb3koKToodGhpcy5ncmFwaGljc1BpcGVsaW5lPWUsYXdhaXQgZS53aGVuKCkpfSkoKSksdGhpcy5ub3RpZnlDaGFuZ2UoXCJ1cGRhdGluZ1wiKSl9ZGVzdHJveSgpe3RoaXMuZ3JhcGhpY3NQaXBlbGluZT1pKHRoaXMuZ3JhcGhpY3NQaXBlbGluZSl9Z2V0IGRhdGFVcGRhdGluZygpe3JldHVybiEhdGhpcy5ncmFwaGljc1BpcGVsaW5lPy5kYXRhVXBkYXRpbmd9Z2V0IGxlZ2VuZEVuYWJsZWQoKXtyZXR1cm4gdGhpcy5jYW5SZXN1bWUoKSYmdGhpcy5ncmFwaGljc1BpcGVsaW5lPy5sZWdlbmRFbmFibGVkfWdldCB2aXNpYmxlQXRDdXJyZW50U2NhbGUoKXtyZXR1cm4geSgpP2godGhpcy5sYXllci5lZmZlY3RpdmVTY2FsZVJhbmdlLHRoaXMudmlldy5zY2FsZSk6IXRoaXMuZ3JhcGhpY3NQaXBlbGluZT8uc2NhbGVWaXNpYmlsaXR5U3VzcGVuZGVkfWdldCBzeW1ib2xvZ3lTbmFwcGluZ1N1cHBvcnRlZCgpe3JldHVybiB0aGlzLmdyYXBoaWNzUGlwZWxpbmUuc3ltYm9sb2d5U25hcHBpbmdTdXBwb3J0ZWR9Z2V0IGhhc0FsbEZlYXR1cmVzKCl7cmV0dXJuIHRoaXMuZ3JhcGhpY3NQaXBlbGluZS5oYXNBbGxGZWF0dXJlc31nZXQgaGFzQWxsRmVhdHVyZXNJblZpZXcoKXtyZXR1cm4gdGhpcy5ncmFwaGljc1BpcGVsaW5lLmhhc0FsbEZlYXR1cmVzSW5WaWV3fWdldCBoYXNGdWxsR2VvbWV0cmllcygpe3JldHVybiB0aGlzLmdyYXBoaWNzUGlwZWxpbmUuaGFzRnVsbEdlb21ldHJpZXN9Z2V0IHRpbWVFeHRlbnQoKXtyZXR1cm4gcCh0aGlzLmxheWVyLHRoaXMudmlldz8udGltZUV4dGVudCx0aGlzLl9nZXQoXCJ0aW1lRXh0ZW50XCIpKX1nZXRIaXQoZSl7aWYoaGFzKFwiZmVhdHVyZS1waXBlbGluZS0zZC10ZXN0XCIpKXJldHVybiB0aGlzLl9nZXRIaXRNb2NrKGUpO2NvbnN0IHQ9dGhpcy5ncmFwaGljc1BpcGVsaW5lLmZpbmRHcmFwaGljKCh0PT50LnVpZD09PWUpKTtpZihudWxsPT10KXJldHVybiBudWxsO2NvbnN0IHI9YSh0LHRoaXMubGF5ZXIpO3JldHVybnt0eXBlOlwiZ3JhcGhpY1wiLGdyYXBoaWM6cixsYXllcjpyLmxheWVyfX1fZ2V0SGl0TW9jayhlKXtjb25zdCByPXRoaXMubGF5ZXIsaT17fTtpW3RoaXMubGF5ZXIub2JqZWN0SWRGaWVsZF09ZTtjb25zdCBzPW5ldyB0KHtsYXllcjpyLHNvdXJjZUxheWVyOnIsdmlzaWJsZTohMCxzeW1ib2w6bnVsbCxhdHRyaWJ1dGVzOmksZ2VvbWV0cnk6bnVsbH0pO3JldHVybnt0eXBlOlwiZ3JhcGhpY1wiLGdyYXBoaWM6cyxsYXllcjpzLmxheWVyfX13aGVuR3JhcGhpY0JvdW5kcyhlLHQpe3JldHVybiB0aGlzLmdyYXBoaWNzUGlwZWxpbmU/LndoZW5HcmFwaGljQm91bmRzKGUsdCl9Y29tcHV0ZUF0dGFjaG1lbnRPcmlnaW4oZSx0KXtyZXR1cm4gdGhpcy5ncmFwaGljc1BpcGVsaW5lPy5jb21wdXRlQXR0YWNobWVudE9yaWdpbihlLHQpfWFzeW5jIGVsZXZhdGlvbkFsaWduUG9pbnRzSW5GZWF0dXJlcyhlLHQpe3JldHVybiB0aGlzLmdyYXBoaWNzUGlwZWxpbmUuZWxldmF0aW9uQWxpZ25Qb2ludHNJbkZlYXR1cmVzKGUsdCl9YXN5bmMgcXVlcnlGb3JTeW1ib2xvZ3lTbmFwcGluZyhlLHQpe3JldHVybiB0aGlzLmdyYXBoaWNzUGlwZWxpbmUuZ3JhcGhpY3NRdWVyeS5xdWVyeUZvclN5bWJvbG9neVNuYXBwaW5nKGUsdCl9cXVlcnlGZWF0dXJlcyhlLHQpe3JldHVybiB0aGlzLmdyYXBoaWNzUGlwZWxpbmUuZ3JhcGhpY3NRdWVyeS5leGVjdXRlUXVlcnkodGhpcy5fZW5zdXJlUXVlcnkoZSksdD8uc2lnbmFsKX1xdWVyeU9iamVjdElkcyhlLHQpe3JldHVybiB0aGlzLmdyYXBoaWNzUGlwZWxpbmUuZ3JhcGhpY3NRdWVyeS5leGVjdXRlUXVlcnlGb3JJZHModGhpcy5fZW5zdXJlUXVlcnkoZSksdD8uc2lnbmFsKX1xdWVyeUZlYXR1cmVDb3VudChlLHQpe3JldHVybiB0aGlzLmdyYXBoaWNzUGlwZWxpbmUuZ3JhcGhpY3NRdWVyeS5leGVjdXRlUXVlcnlGb3JDb3VudCh0aGlzLl9lbnN1cmVRdWVyeShlKSx0Py5zaWduYWwpfXF1ZXJ5RXh0ZW50KGUsdCl7cmV0dXJuIHRoaXMuZ3JhcGhpY3NQaXBlbGluZS5ncmFwaGljc1F1ZXJ5LmV4ZWN1dGVRdWVyeUZvckV4dGVudCh0aGlzLl9lbnN1cmVRdWVyeShlKSx0Py5zaWduYWwpfV9lbnN1cmVRdWVyeShlKXtyZXR1cm4gbnVsbD09ZT90aGlzLmNyZWF0ZVF1ZXJ5KCk6by5mcm9tKGUpfWhpZ2hsaWdodChlLHQpe3JldHVybiB0aGlzLmdyYXBoaWNzUGlwZWxpbmUuaGlnaGxpZ2h0KGUsdD8ubmFtZT8/dSl9bWFza09jY2x1ZGVlKGUpe3JldHVybiB0aGlzLmdyYXBoaWNzUGlwZWxpbmUubWFza09jY2x1ZGVlKGUpfWdldFN1c3BlbmRJbmZvKCl7cmV0dXJuey4uLnN1cGVyLmdldFN1c3BlbmRJbmZvKCksLi4udGhpcy5ncmFwaGljc1BpcGVsaW5lLnN1c3BlbmRJbmZvfX1pc1VwZGF0aW5nKCl7cmV0dXJuISghdGhpcy5ncmFwaGljc1BpcGVsaW5lfHx0aGlzLmdyYXBoaWNzUGlwZWxpbmUuZGVzdHJveWVkKSYmISghdGhpcy5ncmFwaGljc1BpcGVsaW5lPy51cGRhdGluZyYmdGhpcy52aWV3Py5iYXNlbWFwVGVycmFpbj8ucmVhZHkpfWFzeW5jIF92YWxpZGF0ZUdlb21ldHJ5VHlwZSgpe3N3aXRjaCh0aGlzLmxheWVyLmdlb21ldHJ5VHlwZSl7Y2FzZVwibXVsdGlwYXRjaFwiOmNhc2VcIm11bHRpcG9pbnRcIjp0aHJvdyBuZXcgcihcImZlYXR1cmVsYXllcnZpZXczZDp1bnN1cHBvcnRlZC1nZW9tZXRyeS10eXBlXCIsXCJVbnN1cHBvcnRlZCBnZW9tZXRyeSB0eXBlICR7Z2VvbWV0cnlUeXBlfVwiLHtnZW9tZXRyeVR5cGU6dGhpcy5sYXllci5nZW9tZXRyeVR5cGV9KX19Z2V0IHBlcmZvcm1hbmNlSW5mbygpe3JldHVybiB0aGlzLmdyYXBoaWNzUGlwZWxpbmUucGVyZm9ybWFuY2VJbmZvfXF1ZXJ5QXR0cmlidXRlQmlucygpe3Rocm93IG5ldyBFcnJvcihcIk5vdCBpbXBsZW1lbnRlZFwiKX1xdWVyeUFnZ3JlZ2F0ZXMoKXt0aHJvdyBuZXcgRXJyb3IoXCJOb3QgaW1wbGVtZW50ZWRcIil9fTtyZXR1cm4gZShbcygpXSxkLnByb3RvdHlwZSxcImdyYXBoaWNzUGlwZWxpbmVcIix2b2lkIDApLGUoW3Moe3JlYWRPbmx5OiEwfSldLGQucHJvdG90eXBlLFwiZGF0YVVwZGF0aW5nXCIsbnVsbCksZShbcygpXSxkLnByb3RvdHlwZSxcImhpZ2hsaWdodE9wdGlvbnNcIix2b2lkIDApLGUoW3MoKV0sZC5wcm90b3R5cGUsXCJzdXNwZW5kZWRcIix2b2lkIDApLGUoW3Moe3JlYWRPbmx5OiEwfSldLGQucHJvdG90eXBlLFwibGVnZW5kRW5hYmxlZFwiLG51bGwpLGUoW3Moe3JlYWRPbmx5OiEwfSldLGQucHJvdG90eXBlLFwidmlzaWJsZUF0Q3VycmVudFNjYWxlXCIsbnVsbCksZShbcygpXSxkLnByb3RvdHlwZSxcInVwZGF0aW5nXCIsdm9pZCAwKSxlKFtzKHtyZWFkT25seTohMH0pXSxkLnByb3RvdHlwZSxcInVwZGF0ZVBvbGljeVwiLHZvaWQgMCksZShbcyh7dHlwZTpCb29sZWFufSldLGQucHJvdG90eXBlLFwic2xpY2VQbGFuZUVuYWJsZWRcIix2b2lkIDApLGUoW3Moe3JlYWRPbmx5OiEwfSldLGQucHJvdG90eXBlLFwic3VzcGVuZEluZm9cIix2b2lkIDApLGUoW3MoKV0sZC5wcm90b3R5cGUsXCJzeW1ib2xvZ3lTbmFwcGluZ1N1cHBvcnRlZFwiLG51bGwpLGUoW3Moe3JlYWRPbmx5OiEwfSldLGQucHJvdG90eXBlLFwiaGFzQWxsRmVhdHVyZXNcIixudWxsKSxlKFtzKHtyZWFkT25seTohMH0pXSxkLnByb3RvdHlwZSxcImhhc0FsbEZlYXR1cmVzSW5WaWV3XCIsbnVsbCksZShbcyh7cmVhZE9ubHk6ITB9KV0sZC5wcm90b3R5cGUsXCJoYXNGdWxsR2VvbWV0cmllc1wiLG51bGwpLGUoW3Moe3JlYWRPbmx5OiEwfSldLGQucHJvdG90eXBlLFwidGltZUV4dGVudFwiLG51bGwpLGQ9ZShbbihcImVzcmkudmlld3MuM2QubGF5ZXJzLkZlYXR1cmVMaWtlTGF5ZXJWaWV3M0RcIildLGQpLGR9O2V4cG9ydHtnIGFzIEZlYXR1cmVMaWtlTGF5ZXJWaWV3M0R9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMzMvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtfIGFzIGV9ZnJvbVwiLi4vLi4vLi4vLi4vY2h1bmtzL3RzbGliLmVzNi5qc1wiO2ltcG9ydCB0IGZyb21cIi4uLy4uLy4uLy4uL2NvcmUvRXJyb3IuanNcIjtpbXBvcnR7ZGVzdHJveU1heWJlIGFzIHJ9ZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9tYXliZS5qc1wiO2ltcG9ydCBpIGZyb21cIi4uLy4uLy4uLy4uL2NvcmUvUHJvbWlzZS5qc1wiO2ltcG9ydHtpbml0aWFsIGFzIHMsd2F0Y2ggYXMgbyxzeW5jIGFzIG4sd2hlbk9uY2UgYXMgYX1mcm9tXCIuLi8uLi8uLi8uLi9jb3JlL3JlYWN0aXZlVXRpbHMuanNcIjtpbXBvcnR7cHJvcGVydHkgYXMgbH1mcm9tXCIuLi8uLi8uLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3Byb3BlcnR5LmpzXCI7aW1wb3J0XCIuLi8uLi8uLi8uLi9jb3JlL2hhcy5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vLi4vY29yZS9Mb2dnZXIuanNcIjtpbXBvcnRcIi4uLy4uLy4uLy4uL2NvcmUvUmFuZG9tTENHLmpzXCI7aW1wb3J0e3N1YmNsYXNzIGFzIHB9ZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9zdWJjbGFzcy5qc1wiO2ltcG9ydHtVcGRhdGluZ0hhbmRsZXMgYXMgaH1mcm9tXCIuLi8uLi8uLi8uLi9jb3JlL3N1cHBvcnQvVXBkYXRpbmdIYW5kbGVzLmpzXCI7aW1wb3J0e0ZlYXR1cmVUaWxlQ29udHJvbGxlcjNEIGFzIHV9ZnJvbVwiLi4vLi4vLi4vLi4vbGF5ZXJzL2dyYXBoaWNzL2NvbnRyb2xsZXJzL0ZlYXR1cmVUaWxlQ29udHJvbGxlcjNELmpzXCI7aW1wb3J0e3N5bWJvbEhhc0V4dHJ1ZGVTeW1ib2xMYXllciBhcyBkfWZyb21cIi4uLy4uLy4uLy4uL3N5bWJvbHMvc3VwcG9ydC91dGlscy5qc1wiO2ltcG9ydHtlbGV2YXRpb25BbGlnblBvaW50c0luRmVhdHVyZXMgYXMgY31mcm9tXCIuL2VsZXZhdGlvbkFsaWduUG9pbnRzSW5GZWF0dXJlcy5qc1wiO2ltcG9ydHtHcmFwaGljczNERmVhdHVyZVByb2Nlc3NvciBhcyB5fWZyb21cIi4vR3JhcGhpY3MzREZlYXR1cmVQcm9jZXNzb3IuanNcIjtpbXBvcnR7UXVlcnlFbmdpbmUgYXMgZ31mcm9tXCIuL1F1ZXJ5RW5naW5lLmpzXCI7aW1wb3J0e1F1ZXJ5RW5naW5lQ29udGV4dCBhcyBtfWZyb21cIi4vUXVlcnlFbmdpbmVDb250ZXh0LmpzXCI7aW1wb3J0e3F1ZXJ5Rm9yU3ltYm9sb2d5U25hcHBpbmcgYXMgZn1mcm9tXCIuL3F1ZXJ5Rm9yU3ltYm9sb2d5U25hcHBpbmcuanNcIjtpbXBvcnR7SGVhdG1hcEZlYXR1cmVQcm9jZXNzb3IgYXMgRX1mcm9tXCIuLi9zdXBwb3J0L0hlYXRtYXBGZWF0dXJlUHJvY2Vzc29yLmpzXCI7aW1wb3J0e0xheWVyVmlld1BlcmZvcm1hbmNlSW5mbyBhcyB3fWZyb21cIi4uL3N1cHBvcnQvTGF5ZXJWaWV3UGVyZm9ybWFuY2VJbmZvLmpzXCI7aW1wb3J0e1VwZGF0ZVBvbGljeSBhcyBDfWZyb21cIi4uLy4uL3dlYmdsLWVuZ2luZS9saWIvVXBkYXRlUG9saWN5LmpzXCI7aW1wb3J0e2hhc0xheWVyQmFzZWRTY2FsZVZpc2liaWxpdHkgYXMgYn1mcm9tXCIuLi8uLi8uLi9zdXBwb3J0L2xheWVyVmlld1V0aWxzLmpzXCI7aW1wb3J0e1Rhc2tQcmlvcml0eSBhcyBPfWZyb21cIi4uLy4uLy4uL3N1cHBvcnQvU2NoZWR1bGVyLmpzXCI7bGV0IF89Y2xhc3MgZXh0ZW5kcyBpe2NvbnN0cnVjdG9yKGUpe3N1cGVyKGUpLHRoaXMuX2RhdGFVcGRhdGluZ1N0YXRlPXYuTk9ORSx0aGlzLmdyYXBoaWNzUXVlcnk9e3F1ZXJ5Rm9yU3ltYm9sb2d5U25hcHBpbmc6YXN5bmMoZSx0KT0+dGhpcy5zeW1ib2xvZ3lTbmFwcGluZ1N1cHBvcnRlZD9mKHRoaXMuZ3JhcGhpY3MzRFByb2Nlc3NvcixlLHQpOntjYW5kaWRhdGVzOltdLHNvdXJjZUNhbmRpZGF0ZUluZGljZXM6W119LGV4ZWN1dGVRdWVyeTooZSx0KT0+dGhpcy5xdWVyeUVuZ2luZS5leGVjdXRlUXVlcnkoZSx0KSxleGVjdXRlUXVlcnlGb3JJZHM6KGUsdCk9PnRoaXMucXVlcnlFbmdpbmUuZXhlY3V0ZVF1ZXJ5Rm9ySWRzKGUsdCksZXhlY3V0ZVF1ZXJ5Rm9yQ291bnQ6KGUsdCk9PnRoaXMucXVlcnlFbmdpbmUuZXhlY3V0ZVF1ZXJ5Rm9yQ291bnQoZSx0KSxleGVjdXRlUXVlcnlGb3JFeHRlbnQ6KGUsdCk9PnRoaXMucXVlcnlFbmdpbmUuZXhlY3V0ZVF1ZXJ5Rm9yRXh0ZW50KGUsdCksZXhlY3V0ZVF1ZXJ5Rm9yTGF0ZXN0T2JzZXJ2YXRpb25zOihlLHQpPT50aGlzLnF1ZXJ5RW5naW5lLmV4ZWN1dGVRdWVyeUZvckxhdGVzdE9ic2VydmF0aW9ucyhlLHQpfSx0aGlzLmNvbnRyb2xsZXI9bnVsbCx0aGlzLnVwZGF0aW5nSGFuZGxlcz1uZXcgaCx0aGlzLl9jb250cm9sbGVyQ3JlYXRlZD0hMSx0aGlzLl9wZW5kaW5nQ29udHJvbGxlcj1udWxsfWluaXRpYWxpemUoKXt0aGlzLmFkZFJlc29sdmluZ1Byb21pc2UodGhpcy5faW5pdGlhbGl6ZUNvbnRyb2xsZXIoKSksdGhpcy51cGRhdGluZ0hhbmRsZXMuYWRkKCgoKT0+dGhpcy5sYXllci5yZW5kZXJlciksKGU9PnRoaXMuX3JlY3JlYXRlUHJvY2Vzc29yKGUpKSxzKSx0aGlzLnVwZGF0aW5nSGFuZGxlcy5hZGQoKCgpPT50aGlzLnVwZGF0ZVBvbGljeSksKGU9PnRoaXMucHJvY2Vzc29yLnByZWZlcnJlZFVwZGF0ZVBvbGljeT1lKSk7Y29uc3R7bGF5ZXI6ZSx2aWV3OnQsaGFzTTpyLGhhc1o6aX09dGhpcyx7c3BhdGlhbFJlZmVyZW5jZTpvLHJlc291cmNlQ29udHJvbGxlcjpufT10LGE9bmV3IG0obyxlLG4sKCgpPT50aGlzLnByb2Nlc3Nvci5mZWF0dXJlU3RvcmUpLGkscik7dGhpcy5xdWVyeUVuZ2luZT1uZXcgZyh7Y29udGV4dDphLHByaW9yaXR5Ok8uRkVBVFVSRV9RVUVSWV9FTkdJTkV9KX1kZXN0cm95KCl7dGhpcy5yZW1vdmVBbGxIYW5kbGVzKCksdGhpcy51cGRhdGluZ0hhbmRsZXMuZGVzdHJveSgpLHRoaXMuX2Rlc3Ryb3lQZW5kaW5nQ29udHJvbGxlcigpLHRoaXMuY29udHJvbGxlcj1yKHRoaXMuY29udHJvbGxlciksdGhpcy5wcm9jZXNzb3I9cih0aGlzLnByb2Nlc3NvciksdGhpcy5xdWVyeUVuZ2luZT1yKHRoaXMucXVlcnlFbmdpbmUpLHRoaXMubG9hZGVkR3JhcGhpY3M9bnVsbH1fZGVzdHJveVBlbmRpbmdDb250cm9sbGVyKCl7dGhpcy5fcGVuZGluZ0NvbnRyb2xsZXI9cih0aGlzLl9wZW5kaW5nQ29udHJvbGxlcil9Z2V0IHVwZGF0aW5nKCl7cmV0dXJuIHRoaXMudXBkYXRpbmdIYW5kbGVzLnVwZGF0aW5nfHwhdGhpcy5fY29udHJvbGxlckNyZWF0ZWR8fHRoaXMuY29udHJvbGxlcj8udXBkYXRpbmd8fHRoaXMucHJvY2Vzc29yPy51cGRhdGluZ31nZXQgbGVnZW5kRW5hYmxlZCgpe3JldHVybiB0aGlzLnByb2Nlc3Nvci5sZWdlbmRFbmFibGVkfWdldCBsYXllcigpe3JldHVybiB0aGlzLmxheWVyVmlldy5sYXllcn1nZXQgbGF5ZXJWaWV3VWlkKCl7cmV0dXJuIHRoaXMubGF5ZXJWaWV3LnVpZH1nZXQgdmlldygpe3JldHVybiB0aGlzLmxheWVyVmlldy52aWV3fWdldCBoYXNaKCl7cmV0dXJuIHRoaXMubGF5ZXJWaWV3Lmhhc1p9Z2V0IGhhc00oKXtyZXR1cm4gdGhpcy5sYXllclZpZXcuaGFzTX1nZXQgZnVsbE9wYWNpdHkoKXtyZXR1cm4gdGhpcy5sYXllclZpZXcuZnVsbE9wYWNpdHl9Z2V0IHN1c3BlbmRlZCgpe3JldHVybiB0aGlzLmxheWVyVmlldy5zdXNwZW5kZWR9Z2V0IGZpbHRlcigpe3JldHVyblwiZmlsdGVyXCJpbiB0aGlzLmxheWVyVmlldz90aGlzLmxheWVyVmlldy5maWx0ZXI6bnVsbH1nZXQgZWZmZWN0aXZlRGlzcGxheUZpbHRlcigpe3JldHVyblwiZWZmZWN0aXZlRGlzcGxheUZpbHRlclwiaW4gdGhpcy5sYXllclZpZXc/dGhpcy5sYXllclZpZXcuZWZmZWN0aXZlRGlzcGxheUZpbHRlcjpudWxsfWdldCBzbGljZVBsYW5lRW5hYmxlZCgpe3JldHVybiB0aGlzLmxheWVyVmlldy5zbGljZVBsYW5lRW5hYmxlZH1nZXQgZmVhdHVyZVNwYXRpYWxSZWZlcmVuY2UoKXtyZXR1cm5cImZlYXR1cmVTcGF0aWFsUmVmZXJlbmNlXCJpbiB0aGlzLmxheWVyVmlldz90aGlzLmxheWVyVmlldy5mZWF0dXJlU3BhdGlhbFJlZmVyZW5jZTpudWxsfWdldCBncmFwaGljczNEUHJvY2Vzc29yKCl7cmV0dXJuXCJncmFwaGljcy0zZFwiPT09dGhpcy5wcm9jZXNzb3I/LnR5cGU/dGhpcy5wcm9jZXNzb3I6bnVsbH1nZXQgaGVhdG1hcFByb2Nlc3Nvcigpe3JldHVyblwiaGVhdG1hcFwiPT09dGhpcy5wcm9jZXNzb3I/LnR5cGU/dGhpcy5wcm9jZXNzb3I6bnVsbH1nZXQgaGFzQWxsRmVhdHVyZXMoKXtyZXR1cm4hKCF0aGlzLmNvbnRyb2xsZXJ8fCEoXCJoYXNBbGxGZWF0dXJlc1wiaW4gdGhpcy5jb250cm9sbGVyKSkmJnRoaXMuY29udHJvbGxlci5oYXNBbGxGZWF0dXJlc31nZXQgaGFzQWxsRmVhdHVyZXNJblZpZXcoKXtyZXR1cm4hKCF0aGlzLmNvbnRyb2xsZXJ8fCEoXCJoYXNBbGxGZWF0dXJlc0luVmlld1wiaW4gdGhpcy5jb250cm9sbGVyKSkmJnRoaXMuY29udHJvbGxlci5oYXNBbGxGZWF0dXJlc0luVmlld31nZXQgaGFzRnVsbEdlb21ldHJpZXMoKXtyZXR1cm4hKCF0aGlzLmNvbnRyb2xsZXJ8fCEoXCJoYXNGdWxsR2VvbWV0cmllc1wiaW4gdGhpcy5jb250cm9sbGVyKSkmJnRoaXMuY29udHJvbGxlci5oYXNGdWxsR2VvbWV0cmllc31nZXQgc3ltYm9sb2d5U25hcHBpbmdTdXBwb3J0ZWQoKXtyZXR1cm4gdGhpcy5sYXllcj8ucmVuZGVyZXI/LnN5bWJvbHM/LnNvbWUoZCk/PyExfWdldCB1cGRhdGVQb2xpY3koKXtyZXR1cm4gQy5TWU5DfWdldCBzY2FsZVZpc2liaWxpdHlTdXNwZW5kZWQoKXtyZXR1cm4gdGhpcy5wcm9jZXNzb3I/LnNjYWxlVmlzaWJpbGl0eVN1c3BlbmRlZH1nZXQgdGltZUV4dGVudCgpe3JldHVyblwidGltZUV4dGVudFwiaW4gdGhpcy5sYXllclZpZXc/dGhpcy5sYXllclZpZXcudGltZUV4dGVudDpudWxsfWdldCBkYXRhVXBkYXRpbmcoKXtyZXR1cm4gdGhpcy5fZGF0YVVwZGF0aW5nU3RhdGUhPT12Lk5PTkV9Z2V0IHN1c3BlbmRJbmZvKCl7cmV0dXJuIHRoaXMucHJvY2Vzc29yPy5zdXNwZW5kSW5mbz8/e319Zm9yRWFjaEdyYXBoaWMoZSl7dGhpcy5sb2FkZWRHcmFwaGljcy5mb3JFYWNoKGUpfWZpbmRHcmFwaGljKGUpe3JldHVybiB0aGlzLmxvYWRlZEdyYXBoaWNzLmZpbmQoZSl9cXVlcnlPYmplY3RJZHMoZSx0KXtyZXR1cm4gdGhpcy5sYXllclZpZXcucXVlcnlPYmplY3RJZHMoZSx0KX13aGVuR3JhcGhpY0JvdW5kcyhlLHQpe3JldHVybiB0aGlzLnByb2Nlc3Nvcj8ud2hlbkdyYXBoaWNCb3VuZHMoZSx0KX1jb21wdXRlQXR0YWNobWVudE9yaWdpbihlLHQpe3JldHVybiB0aGlzLnByb2Nlc3Nvcj8uY29tcHV0ZUF0dGFjaG1lbnRPcmlnaW4oZSx0KX1hc3luYyBlbGV2YXRpb25BbGlnblBvaW50c0luRmVhdHVyZXMoZSxyKXtjb25zdCBpPXRoaXMuZ3JhcGhpY3MzRFByb2Nlc3NvcjtpZihudWxsPT1pKXRocm93IG5ldyB0KFwiZmVhdHVyZWxheWVydmlldzNkOm1pc3NpbmctcHJvY2Vzc29yXCIsXCJBIEdyYXBoaWNzM0QgcHJvY2Vzc29yIGlzIG5lZWRlZCB0byByZXNvbHZlIGdyYXBoaWNzIGVsZXZhdGlvbi5cIik7cmV0dXJuIGModGhpcy52aWV3LHRoaXMubGF5ZXIsKGU9PmkuZ2V0R3JhcGhpY3MzREdyYXBoaWNCeU9iamVjdElkKGUpKSxlLHIpfWhpZ2hsaWdodChlLHQpe3JldHVybiB0aGlzLnByb2Nlc3Nvci5oaWdobGlnaHQoZSx0aGlzLmxheWVyLm9iamVjdElkRmllbGQsdCl9bWFza09jY2x1ZGVlKGUpe3JldHVybiB0aGlzLnByb2Nlc3Nvci5tYXNrT2NjbHVkZWUoZSl9bm90aWZ5Q29udGVudEdlb21ldHJ5VXBkYXRlKCl7dGhpcy5sYXllclZpZXcuZW1pdChcInZpc2libGUtZ2VvbWV0cnktY2hhbmdlZFwiKX1hc3luYyBfaW5pdGlhbGl6ZUNvbnRyb2xsZXIoKXtjb25zdCBlPXRoaXMuY3JlYXRlQ29udHJvbGxlcigpO3RoaXMuX3BlbmRpbmdDb250cm9sbGVyPWUsdGhpcy5fc2V0dXBEYXRhVXBkYXRpbmcoZSksYXdhaXQgZS53aGVuKCksdGhpcy5fc2V0Q29udHJvbGxlcldoZW5Jbml0aWFsaXplZChlKX1fc2V0dXBEYXRhVXBkYXRpbmcoZSl7XCJkYXRhVXBkYXRpbmdcImluIGUmJnRoaXMuYWRkSGFuZGxlcyhbbygoKCk9PmUuZGF0YVVwZGF0aW5nKSwoZT0+e2UmJnRoaXMuX2RhdGFVcGRhdGluZ1N0YXRlPT09di5OT05FP3RoaXMuX2RhdGFVcGRhdGluZ1N0YXRlPXYuQ09OVFJPTExFUjplfHx0aGlzLl9kYXRhVXBkYXRpbmdTdGF0ZSE9PXYuQ09OVFJPTExFUnx8KHRoaXMuX2RhdGFVcGRhdGluZ1N0YXRlPXYuTk9ORSl9KSxuKSxvKCgoKT0+ISF0aGlzLmdyYXBoaWNzM0RQcm9jZXNzb3I/LmRhdGFVcGRhdGluZyksKHQ9Pnt0JiZ0aGlzLl9kYXRhVXBkYXRpbmdTdGF0ZT09PXYuQ09OVFJPTExFUj90aGlzLl9kYXRhVXBkYXRpbmdTdGF0ZT12LkNPUkU6dHx8dGhpcy5fZGF0YVVwZGF0aW5nU3RhdGUhPT12LkNPUkV8fCh0aGlzLl9kYXRhVXBkYXRpbmdTdGF0ZT1lLmRhdGFVcGRhdGluZz92LkNPTlRST0xMRVI6di5OT05FKX0pLG4pXSl9YXN5bmMgX3NldENvbnRyb2xsZXJXaGVuSW5pdGlhbGl6ZWQoZSl7dHJ5e2F3YWl0IHRoaXMud2hlbigpfWNhdGNoKHQpe310aGlzLl9jb250cm9sbGVyQ3JlYXRlZD0hMCx0aGlzLmlzUmVzb2x2ZWQoKSYmIXRoaXMuZGVzdHJveWVkPyhhd2FpdCBhKCgoKT0+dGhpcy52aWV3Py5iYXNlbWFwVGVycmFpbj8ucmVhZHkpKSx0aGlzLmJlZm9yZVNldENvbnRyb2xsZXIoZSksdGhpcy5fcGVuZGluZ0NvbnRyb2xsZXI9bnVsbCx0aGlzLmNvbnRyb2xsZXI9ZSx0aGlzLmxvYWRlZEdyYXBoaWNzPWUuZ3JhcGhpY3MpOnRoaXMuX2Rlc3Ryb3lQZW5kaW5nQ29udHJvbGxlcigpfV9yZWNyZWF0ZVByb2Nlc3NvcihlKXtjb25zdCB0PVwiaGVhdG1hcFwiPT09ZT8udHlwZSxyPVwiaGVhdG1hcFwiPT09dGhpcy5wcm9jZXNzb3I/LnR5cGUsaT10aGlzLnByb2Nlc3NvcjtpZihpJiZ0PT09cilyZXR1cm47Y29uc3Qgcz10P25ldyBFKHtvd25lcjp0aGlzfSk6bmV3IHkoe293bmVyOnRoaXMsZnJ1c3R1bVZpc2liaWxpdHlFbmFibGVkOiEwLHNjYWxlVmlzaWJpbGl0eUVuYWJsZWQ6IWIoKSxmaWx0ZXJWaXNpYmlsaXR5RW5hYmxlZDohMCx0aW1lRXh0ZW50RW5hYmxlZDohMCxlbGV2YXRpb25BbGlnbm1lbnRFbmFibGVkOiEwLGVsZXZhdGlvbkZlYXR1cmVFeHByZXNzaW9uRW5hYmxlZDohMCxwcmVmZXJyZWRVcGRhdGVQb2xpY3k6dGhpcy51cGRhdGVQb2xpY3ksdXBkYXRlQ2xpcHBpbmdFeHRlbnQ6ZT0+dGhpcy5fdXBkYXRlQ2xpcHBpbmdFeHRlbnQoZSl9KTt0aGlzLnByb2Nlc3Nvcj1zLGk/LmRlc3Ryb3koKSx0aGlzLnF1ZXJ5RW5naW5lPy5jbGVhcigpLHRoaXMuYWRkUmVzb2x2aW5nUHJvbWlzZShzLndoZW4oKSl9X3VwZGF0ZUNsaXBwaW5nRXh0ZW50KGUpe2lmKHRoaXMuY2xpcHBpbmdFeHRlbnQ9ZSwhdGhpcy5jb250cm9sbGVyKXJldHVybiExO3N3aXRjaCh0aGlzLmNvbnRyb2xsZXIudHlwZSl7Y2FzZVwic3RyZWFtXCI6cmV0dXJuITE7Y2FzZVwiZmVhdHVyZS10aWxlLTNkXCI6cmV0dXJuIHRoaXMuY29udHJvbGxlci5leHRlbnQ9ZSwhMH19Z2V0IHVzZWRNZW1vcnkoKXtyZXR1cm4gdGhpcy5wcm9jZXNzb3I/LnVzZWRNZW1vcnk/PzB9Z2V0IHBlcmZvcm1hbmNlSW5mbygpe2NvbnN0IGU9dGhpcy5jb250cm9sbGVyIGluc3RhbmNlb2YgdT90aGlzLmNvbnRyb2xsZXI6bnVsbDtyZXR1cm4gbmV3IHcodGhpcy51c2VkTWVtb3J5LHRoaXMubG9hZGVkR3JhcGhpY3M/Lmxlbmd0aCxlPy5zZXJ2aWNlRGF0YUNvdW50Pz8tMSxlPy5tYXhpbXVtTnVtYmVyT2ZGZWF0dXJlcz8/LTEsMCx0aGlzLnByb2Nlc3Nvci5wZXJmb3JtYW5jZUluZm8pfX07dmFyIHY7ZShbbCgpXSxfLnByb3RvdHlwZSxcInVwZGF0aW5nXCIsbnVsbCksZShbbCgpXSxfLnByb3RvdHlwZSxcImxlZ2VuZEVuYWJsZWRcIixudWxsKSxlKFtsKCldLF8ucHJvdG90eXBlLFwibGF5ZXJWaWV3XCIsdm9pZCAwKSxlKFtsKCldLF8ucHJvdG90eXBlLFwibGF5ZXJcIixudWxsKSxlKFtsKCldLF8ucHJvdG90eXBlLFwibGF5ZXJWaWV3VWlkXCIsbnVsbCksZShbbCgpXSxfLnByb3RvdHlwZSxcInZpZXdcIixudWxsKSxlKFtsKCldLF8ucHJvdG90eXBlLFwiaGFzWlwiLG51bGwpLGUoW2woKV0sXy5wcm90b3R5cGUsXCJoYXNNXCIsbnVsbCksZShbbCgpXSxfLnByb3RvdHlwZSxcImZ1bGxPcGFjaXR5XCIsbnVsbCksZShbbCgpXSxfLnByb3RvdHlwZSxcInN1c3BlbmRlZFwiLG51bGwpLGUoW2woKV0sXy5wcm90b3R5cGUsXCJmaWx0ZXJcIixudWxsKSxlKFtsKCldLF8ucHJvdG90eXBlLFwiZWZmZWN0aXZlRGlzcGxheUZpbHRlclwiLG51bGwpLGUoW2woKV0sXy5wcm90b3R5cGUsXCJzbGljZVBsYW5lRW5hYmxlZFwiLG51bGwpLGUoW2woKV0sXy5wcm90b3R5cGUsXCJmZWF0dXJlU3BhdGlhbFJlZmVyZW5jZVwiLG51bGwpLGUoW2woKV0sXy5wcm90b3R5cGUsXCJsb2FkZWRHcmFwaGljc1wiLHZvaWQgMCksZShbbCgpXSxfLnByb3RvdHlwZSxcImdyYXBoaWNzM0RQcm9jZXNzb3JcIixudWxsKSxlKFtsKCldLF8ucHJvdG90eXBlLFwiaGVhdG1hcFByb2Nlc3NvclwiLG51bGwpLGUoW2woKV0sXy5wcm90b3R5cGUsXCJoYXNBbGxGZWF0dXJlc1wiLG51bGwpLGUoW2woKV0sXy5wcm90b3R5cGUsXCJoYXNBbGxGZWF0dXJlc0luVmlld1wiLG51bGwpLGUoW2woKV0sXy5wcm90b3R5cGUsXCJoYXNGdWxsR2VvbWV0cmllc1wiLG51bGwpLGUoW2woKV0sXy5wcm90b3R5cGUsXCJzeW1ib2xvZ3lTbmFwcGluZ1N1cHBvcnRlZFwiLG51bGwpLGUoW2woKV0sXy5wcm90b3R5cGUsXCJ1cGRhdGVQb2xpY3lcIixudWxsKSxlKFtsKCldLF8ucHJvdG90eXBlLFwic2NhbGVWaXNpYmlsaXR5U3VzcGVuZGVkXCIsbnVsbCksZShbbCgpXSxfLnByb3RvdHlwZSxcInRpbWVFeHRlbnRcIixudWxsKSxlKFtsKCldLF8ucHJvdG90eXBlLFwiX2RhdGFVcGRhdGluZ1N0YXRlXCIsdm9pZCAwKSxlKFtsKHtyZWFkT25seTohMH0pXSxfLnByb3RvdHlwZSxcImRhdGFVcGRhdGluZ1wiLG51bGwpLGUoW2woKV0sXy5wcm90b3R5cGUsXCJjb250cm9sbGVyXCIsdm9pZCAwKSxlKFtsKCldLF8ucHJvdG90eXBlLFwicHJvY2Vzc29yXCIsdm9pZCAwKSxlKFtsKCldLF8ucHJvdG90eXBlLFwidXBkYXRpbmdIYW5kbGVzXCIsdm9pZCAwKSxlKFtsKCldLF8ucHJvdG90eXBlLFwiX2NvbnRyb2xsZXJDcmVhdGVkXCIsdm9pZCAwKSxfPWUoW3AoXCJlc3JpLnZpZXdzLjNkLmxheWVycy5ncmFwaGljcy5HcmFwaGljczNER3JhcGhpY3NQaXBlbGluZVwiKV0sXyksZnVuY3Rpb24oZSl7ZVtlLk5PTkU9MF09XCJOT05FXCIsZVtlLkNPTlRST0xMRVI9MV09XCJDT05UUk9MTEVSXCIsZVtlLkNPUkU9Ml09XCJDT1JFXCJ9KHZ8fCh2PXt9KSk7ZXhwb3J0e18gYXMgR3JhcGhpY3MzREdyYXBoaWNzUGlwZWxpbmV9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMzMvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHt0aHJvd0lmQWJvcnRlZCBhcyBlfWZyb21cIi4uLy4uLy4uLy4uL2NvcmUvcHJvbWlzZVV0aWxzLmpzXCI7aW1wb3J0e2NyZWF0ZSBhcyBvfWZyb21cIi4uLy4uLy4uLy4uL2NvcmUvbGlicy9nbC1tYXRyaXgtMi9mYWN0b3JpZXMvdmVjM2Y2NC5qc1wiO2ltcG9ydCB0IGZyb21cIi4uLy4uLy4uLy4uL2dlb21ldHJ5L1NwYXRpYWxSZWZlcmVuY2UuanNcIjtpbXBvcnR7cHJvamVjdFBvaW50VG9WZWN0b3JBc3luYyBhcyByfWZyb21cIi4uLy4uLy4uLy4uL2dlb21ldHJ5L3Byb2plY3Rpb24vcHJvamVjdFBvaW50VG9WZWN0b3IuanNcIjtpbXBvcnR7bWFrZURlaHlkcmF0ZWRQb2ludCBhcyBpfWZyb21cIi4uLy4uLy4uLy4uL2xheWVycy9ncmFwaGljcy9kZWh5ZHJhdGVkUG9pbnQuanNcIjtpbXBvcnR7Z2V0R2VvbWV0cnlFZmZlY3RpdmVFbGV2YXRpb25JbmZvIGFzIG59ZnJvbVwiLi4vLi4vLi4vLi4vc3VwcG9ydC9lbGV2YXRpb25JbmZvVXRpbHMuanNcIjtpbXBvcnR7ZXZhbHVhdGVFbGV2YXRpb25JbmZvQXRQb2ludCBhcyBzLFNhbXBsZUVsZXZhdGlvbkluZm8gYXMgYX1mcm9tXCIuL2VsZXZhdGlvbkFsaWdubWVudFV0aWxzLmpzXCI7aW1wb3J0e0VsZXZhdGlvbkNvbnRleHQgYXMgcH1mcm9tXCIuL0VsZXZhdGlvbkNvbnRleHQuanNcIjtpbXBvcnR7ZXh0cmFjdEV4cHJlc3Npb25JbmZvIGFzIGYsY3JlYXRlQ29udGV4dCBhcyBjfWZyb21cIi4vZmVhdHVyZUV4cHJlc3Npb25JbmZvVXRpbHMuanNcIjthc3luYyBmdW5jdGlvbiBsKGwsbSxkLGosdSl7Y29uc3R7ZWxldmF0aW9uUHJvdmlkZXI6dixyZW5kZXJDb29yZHNIZWxwZXI6Z309bCx7ZWxldmF0aW9uSW5mbzpJfT1tLHtwb2ludHNJbkZlYXR1cmVzOngsc3BhdGlhbFJlZmVyZW5jZTp5fT1qLGg9dC5mcm9tSlNPTih5KSx3PWYoSSwhMCksUj1hd2FpdCBjKHcsaCx1KTtlKHUpO2NvbnN0IFM9W10sYj1uZXcgU2V0LHo9bmV3IFNldCxFPW5ldyBwLFA9aSgwLDAsMCx0LldHUzg0KSxVPW5ldyBhLEM9bygpO1Auc3BhdGlhbFJlZmVyZW5jZT1oO2NvbnN0IEY9bC5lbGV2YXRpb25Qcm92aWRlci5zcGF0aWFsUmVmZXJlbmNlPz9sLnNwYXRpYWxSZWZlcmVuY2U7Zm9yKGNvbnN0e29iamVjdElkOmUscG9pbnRzOm99b2YgeCl7Y29uc3QgdD1kKGUpO2lmKG51bGw9PXQpe2Zvcihjb25zdCBlIG9mIG8pUy5wdXNoKGUuej8/MCk7Yi5hZGQoZSk7Y29udGludWV9dC5pc0RyYXBlZCYmei5hZGQoZSk7Y29uc3QgaT10LmdyYXBoaWMuZ2VvbWV0cnk7RS5zZXRGcm9tRWxldmF0aW9uSW5mbyhuKGksSSkpLEUudXBkYXRlRmVhdHVyZUV4cHJlc3Npb25JbmZvQ29udGV4dChSLHQuZ3JhcGhpYyxtKTtmb3IoY29uc3R7eDplLHk6bix6OmF9b2YgbylQLng9ZSxQLnk9bixQLno9YT8/MCxhd2FpdCByKFAsQyxGLDAse3NpZ25hbDp1fSkscyhDLHYsRSxnLFUpLFMucHVzaChVLnopfXJldHVybntlbGV2YXRpb25zOlMsZHJhcGVkT2JqZWN0SWRzOnosZmFpbGVkT2JqZWN0SWRzOmJ9fWV4cG9ydHtsIGFzIGVsZXZhdGlvbkFsaWduUG9pbnRzSW5GZWF0dXJlc307XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4zMy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e3Rocm93SWZBYm9ydGVkIGFzIGV9ZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9wcm9taXNlVXRpbHMuanNcIjtpbXBvcnR7bG9hZEFyY2FkZSBhcyBufWZyb21cIi4uLy4uLy4uLy4uL3N1cHBvcnQvbG9hZEFyY2FkZS5qc1wiO2FzeW5jIGZ1bmN0aW9uIHIocixhLHMpe2lmKG51bGw9PXJ8fDA9PT1hLmNhbmRpZGF0ZXMubGVuZ3RoKXJldHVybiB0O2NvbnN0IGk9ci5ncmFwaGljczNER3JhcGhpY3NCeU9iamVjdElEPz9yLmdyYXBoaWNzM0RHcmFwaGljcyxvPVtdLGM9W10se3JlbmRlcmVyOmR9PXIsbD1udWxsIT1kJiZcImFyY2FkZVJlcXVpcmVkXCJpbiBkJiZkLmFyY2FkZVJlcXVpcmVkP24oKTpudWxsLHA9YXN5bmMoZSx7Z3JhcGhpYzpuLGdyYXBoaWNzM0RTeW1ib2w6dH0pPT57Y29uc3QgYT1hd2FpdCBsLGk9YXdhaXQgci5nZXRSZW5kZXJpbmdJbmZvQXN5bmMobixkLGEse3NpZ25hbDpzfSk7cmV0dXJuIG51bGw9PWk/W106dC5xdWVyeUZvclNuYXBwaW5nKGUsZyxpLHMpfSx7Y2FuZGlkYXRlczp1LHNwYXRpYWxSZWZlcmVuY2U6Z309YTtmb3IobGV0IGU9MDtlPHUubGVuZ3RoOysrZSl7Y29uc3Qgbj11W2VdLHtvYmplY3RJZDpyfT1uLHQ9XCJudW1iZXJcIj09dHlwZW9mIHI/aT8uZ2V0KHIpOnZvaWQgMDtpZihudWxsPT10KWNvbnRpbnVlO2NvbnN0e2dyYXBoaWNzM0RTeW1ib2w6YX09dDthLnN5bWJvbG9neVNuYXBwaW5nU3VwcG9ydGVkJiYoby5wdXNoKHAobix0KSksYy5wdXNoKGUpKX1pZigwPT09by5sZW5ndGgpcmV0dXJuIHQ7Y29uc3QgaD1hd2FpdCBQcm9taXNlLmFsbChvKTtlKHMpO2NvbnN0IGY9W10sbT1bXTtmb3IobGV0IGU9MDtlPGgubGVuZ3RoOysrZSl7Y29uc3Qgbj1oW2VdLHI9Y1tlXTtmb3IoY29uc3QgZSBvZiBuKWYucHVzaChlKSxtLnB1c2gocil9cmV0dXJue2NhbmRpZGF0ZXM6Zixzb3VyY2VDYW5kaWRhdGVJbmRpY2VzOm19fWNvbnN0IHQ9e2NhbmRpZGF0ZXM6W10sc291cmNlQ2FuZGlkYXRlSW5kaWNlczpbXX07ZXhwb3J0e3IgYXMgcXVlcnlGb3JTeW1ib2xvZ3lTbmFwcGluZ307XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4zMy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e3NodWZmbGUgYXMgdH1mcm9tXCIuLi8uLi8uLi8uLi9jb3JlL2FycmF5VXRpbHMuanNcIjtpbXBvcnR7YmFzZU9iamVjdE1lbW9yeSBhcyBlfWZyb21cIi4uLy4uLy4uLy4uL2NvcmUvbWVtb3J5RXN0aW1hdGlvbnMuanNcIjtpbXBvcnR7c2lnbmFsIGFzIHN9ZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9zaWduYWwuanNcIjtpbXBvcnR7ZGlhbWV0ZXIgYXMgaSxjcmVhdGUgYXMgcn1mcm9tXCIuLi8uLi8uLi8uLi9nZW9tZXRyeS9zdXBwb3J0L2FhQm91bmRpbmdCb3guanNcIjtpbXBvcnR7ZnJvbUV4dGVudCBhcyBhLGNyZWF0ZSBhcyB1LGludGVyc2VjdHMgYXMgaCxjb3B5IGFzIG4scG9zaXRpdmVJbmZpbml0eSBhcyBmLGludGVyc2VjdGlvbiBhcyBsfWZyb21cIi4uLy4uLy4uLy4uL2dlb21ldHJ5L3N1cHBvcnQvYWFCb3VuZGluZ1JlY3QuanNcIjtpbXBvcnR7bnVtVmVydGljZXMgYXMgXyxlc3RpbWF0ZVNpemUgYXMgZCxnZXRPYmplY3RJZCBhcyBjLGNvbXB1dGVBQUJCIGFzIG19ZnJvbVwiLi4vLi4vLi4vLi4vbGF5ZXJzL2dyYXBoaWNzL2RlaHlkcmF0ZWRGZWF0dXJlcy5qc1wiO2ltcG9ydHtjb21wdXRlTWF4WiBhcyBvfWZyb21cIi4uL2dyYXBoaWNzL2dyYXBoaWNVdGlscy5qc1wiO2NvbnN0IEY9MTY0Mzg7Y2xhc3MgZ3tjb25zdHJ1Y3Rvcih0KXt0aGlzLmRlc2NyaXB0b3I9dCx0aGlzLl9udW1WZXJ0aWNlcz0wLHRoaXMuZXhjZWVkZWRUcmFuc2ZlckxpbWl0PXMoITEpLHRoaXMuX2ZldGNoRmFpbGVkPXMoITEpLHRoaXMuX3NvcnRlZD0hMSx0aGlzLl9udW1GZWF0dXJlcz1zKEUpLHRoaXMuX2VtcHR5RmVhdHVyZVJhdGlvPXMoMCksdGhpcy5fZXN0aW1hdGVkU2l6ZT0tMSx0aGlzLl9lc3RpbWF0ZWRVbnVzZWRTaXplPTAsdGhpcy5fZXN0aW1hdGVkVW51c2VkU2l6ZURpcnR5PSExLHRoaXMuX2Rpc3BsYXlpbmdGZWF0dXJlcz1udWxsLHRoaXMuYWxpdmU9ITAsdGhpcy5maWx0ZXJlZD0hMSx0aGlzLl9mZWF0dXJlcz1udWxsLHRoaXMuX2ZlYXR1cmVzTGVuZ3RoPXMoMCksdGhpcy5fZmVhdHVyZUxpbWl0PXMoMCksdGhpcy5fZmV0Y2hTdGF0dXM9cC5GRVRDSF9ORUVERUQsdGhpcy5mZXRjaEluZm9ybWF0aW9uPXMoXCJcIiksdGhpcy5mZXRjaGluZ1Jlc29sdXRpb249dGhpcy5kaXNwbGF5aW5nUmVzb2x1dGlvbj10LnJlc29sdXRpb259Z2V0IGZlYXR1cmVzTWlzc2luZygpe3JldHVybiB0aGlzLmZldGNoRmFpbGVkfHwodGhpcy5oYXNQcmVjaXNlRmVhdHVyZUNvdW50P3RoaXMuX2ZlYXR1cmVzTGVuZ3RoLnZhbHVlPHRoaXMubnVtRmVhdHVyZXM6dGhpcy5leGNlZWRlZFRyYW5zZmVyTGltaXQudmFsdWUpfWdldCBzaG93c0FsbEZlYXR1cmVzKCl7cmV0dXJuIXRoaXMuZmV0Y2hGYWlsZWQmJm51bGwhPXRoaXMuZGlzcGxheWluZ0ZlYXR1cmVzJiYodGhpcy5oYXNQcmVjaXNlRmVhdHVyZUNvdW50P3RoaXMuZGlzcGxheWluZ0ZlYXR1cmVzLmxlbmd0aD09PXRoaXMubnVtRmVhdHVyZXM6IXRoaXMuZXhjZWVkZWRUcmFuc2ZlckxpbWl0LnZhbHVlKX1nZXQgbWlzc2luZ0F0dHJpYnV0ZXMoKXtyZXR1cm4gdGhpcy5fbWlzc2luZ0F0dHJpYnV0ZXN9Z2V0IGZldGNoRmFpbGVkKCl7cmV0dXJuIHRoaXMuX2ZldGNoRmFpbGVkLnZhbHVlfXNldCBmZXRjaEZhaWxlZCh0KXt0aGlzLl9mZXRjaEZhaWxlZC52YWx1ZT10fWdldCBkaXNwbGF5aW5nRmVhdHVyZXMoKXtyZXR1cm4gdGhpcy5fZGlzcGxheWluZ0ZlYXR1cmVzfXNldCBkaXNwbGF5aW5nRmVhdHVyZXModCl7dGhpcy5fZGlzcGxheWluZ0ZlYXR1cmVzPXQsdGhpcy5leHRlbnRJbmNsdWRpbmdCb3Jyb3dlZEZlYXR1cmVzPW51bGx9Z2V0IHBlclRpbGVNYXhpbXVtTnVtYmVyT2ZGZWF0dXJlc0V4Y2VlZGVkKCl7Y29uc3QgdD10aGlzLmlzRmV0Y2hlZCYmdGhpcy5mZWF0dXJlc01pc3Npbmc7cmV0dXJuIXRoaXMuZmlsdGVyZWQmJih0fHx0aGlzLmhhc0ZlYXR1cmVMaW1pdCl9Z2V0IGZlYXR1cmVzKCl7cmV0dXJuIHRoaXMuX2ZlYXR1cmVzfWdldCBmZWF0dXJlTGltaXQoKXtyZXR1cm4gdGhpcy5fZmVhdHVyZUxpbWl0LnZhbHVlfXNldCBmZWF0dXJlTGltaXQodCl7dGhpcy5fZmVhdHVyZUxpbWl0LnZhbHVlIT09dCYmKHRoaXMuX2ZlYXR1cmVMaW1pdC52YWx1ZT10LHRoaXMuX2VzdGltYXRlZFVudXNlZFNpemVEaXJ0eT0hMCl9Z2V0IGhhc0ZlYXR1cmVMaW1pdCgpe3JldHVybiB0aGlzLmZlYXR1cmVMaW1pdCE9PXRoaXMuX2ZlYXR1cmVzTGVuZ3RoLnZhbHVlfWdldCBhdmFpbGFibGVGaWVsZHMoKXtyZXR1cm4gdGhpcy5fYXZhaWxhYmxlRmllbGRzfXNldEZlYXR1cmVzKHQsZSxzLGkpe3RoaXMuX2F2YWlsYWJsZUZpZWxkcz1zLHRoaXMuX2ZlYXR1cmVzPXQsdGhpcy5fZmVhdHVyZXNMZW5ndGgudmFsdWU9dD8ubGVuZ3RoPz8wLHRoaXMuX3NvcnRlZD0hMSx0aGlzLl9lc3RpbWF0ZWRTaXplPS0xLHRoaXMuX2VzdGltYXRlZFVudXNlZFNpemVEaXJ0eT0hMCx0aGlzLl9taXNzaW5nQXR0cmlidXRlcz1pLHQmJnQubGVuZ3RoPjA/KHRoaXMuX2VtcHR5RmVhdHVyZVJhdGlvLnZhbHVlPWUvKHQubGVuZ3RoK2UpLHRoaXMuX251bVZlcnRpY2VzPXQucmVkdWNlKCgodCxlKT0+dCtfKGUuZ2VvbWV0cnkpKSwwKSk6KHRoaXMuX2VtcHR5RmVhdHVyZVJhdGlvLnZhbHVlPTAsdGhpcy5fbnVtVmVydGljZXM9MCl9Y29tcHV0ZVpRdWFudGl6YXRpb25GYWN0b3IoKXtpZih0aGlzLl9mZWF0dXJlcyYmdGhpcy5fZmVhdHVyZXMubGVuZ3RoPjApe2NvbnN0IHQ9dGhpcy5fZmVhdHVyZXMucmVkdWNlKCgodCx7Z2VvbWV0cnk6ZX0pPT5NYXRoLm1heCh0LG8oZSk/PzApKSwwKTtyZXR1cm4gTWF0aC5mbG9vcih0L3RoaXMuZGVzY3JpcHRvci5wbGFuZXRSYWRpdXMpKzF9cmV0dXJuIDF9Z2V0IGVtcHR5RmVhdHVyZVJhdGlvKCl7cmV0dXJuIHRoaXMuX2VtcHR5RmVhdHVyZVJhdGlvLnZhbHVlfWdldCBudW1GZWF0dXJlcygpe3JldHVybiB0aGlzLmhhc1ByZWNpc2VGZWF0dXJlQ291bnQ/dGhpcy5fbnVtRmVhdHVyZXMudmFsdWU6dGhpcy5fZmVhdHVyZXM/dGhpcy5fZmVhdHVyZXNMZW5ndGgudmFsdWU6MH1zZXQgbnVtRmVhdHVyZXModCl7dGhpcy5fbnVtRmVhdHVyZXMudmFsdWU9dH1nZXQgaGFzUHJlY2lzZUZlYXR1cmVDb3VudCgpe3JldHVybiB0aGlzLl9udW1GZWF0dXJlcy52YWx1ZT5FfWdldCBuZWVkc0ZlYXR1cmVDb3VudCgpe3JldHVybiB0aGlzLl9udW1GZWF0dXJlcy52YWx1ZT09PUV9Z2V0IG51bVZlcnRpY2VzKCl7cmV0dXJuIHRoaXMuX251bVZlcnRpY2VzfWdldCBpZCgpe3JldHVybiB0aGlzLmRlc2NyaXB0b3IuaWR9Z2V0IGVzdGltYXRlZFNpemUoKXtyZXR1cm4gdGhpcy51cGRhdGVNZW1vcnlFc3RpbWF0ZXMoKSx0aGlzLl9lc3RpbWF0ZWRTaXplfWdldCBlc3RpbWF0ZWRVbnVzZWRTaXplKCl7cmV0dXJuIHRoaXMuX2VzdGltYXRlZFVudXNlZFNpemV9dXBkYXRlTWVtb3J5RXN0aW1hdGVzKCl7aWYodGhpcy5fZXN0aW1hdGVkU2l6ZTwwKXtpZih0aGlzLl9lc3RpbWF0ZWRTaXplPTAsdGhpcy5fZXN0aW1hdGVkVW51c2VkU2l6ZT0wLHRoaXMuX2ZlYXR1cmVzKWZvcihsZXQgdD0wO3Q8dGhpcy5fZmVhdHVyZXMubGVuZ3RoOysrdCl7Y29uc3QgZT1kKHRoaXMuX2ZlYXR1cmVzW3RdKTt0aGlzLl9lc3RpbWF0ZWRTaXplKz1lLHQ+PXRoaXMuZmVhdHVyZUxpbWl0JiYodGhpcy5fZXN0aW1hdGVkVW51c2VkU2l6ZSs9ZSl9cmV0dXJuITB9aWYodGhpcy5fZXN0aW1hdGVkVW51c2VkU2l6ZURpcnR5KXtpZih0aGlzLl9lc3RpbWF0ZWRVbnVzZWRTaXplPTAsdGhpcy5fZXN0aW1hdGVkVW51c2VkU2l6ZURpcnR5PSExLHRoaXMuX2ZlYXR1cmVzKWZvcihsZXQgdD10aGlzLmZlYXR1cmVMaW1pdDt0PHRoaXMuX2ZlYXR1cmVzLmxlbmd0aDsrK3QpdGhpcy5fZXN0aW1hdGVkVW51c2VkU2l6ZSs9ZCh0aGlzLl9mZWF0dXJlc1t0XSk7cmV0dXJuITB9cmV0dXJuITF9Z2V0IGZldGNoU3RhdHVzKCl7cmV0dXJuIHRoaXMuX2ZldGNoU3RhdHVzfXJlcXVlc3RGZXRjaCgpe3RoaXMuX2ZldGNoU3RhdHVzPXAuRkVUQ0hfTkVFREVEfXJlcXVlc3RSZWZldGNoKCl7dGhpcy5fZmV0Y2hTdGF0dXM9cC5SRUZFVENIX05FRURFRH1zdGFydEZldGNoKCl7dGhpcy5fZmV0Y2hTdGF0dXM9dGhpcy5uZWVkc1JlZmV0Y2g/cC5SRUZFVENISU5HOnAuRkVUQ0hJTkd9ZmV0Y2hEb25lKHQpe3RoaXMuX2ZldGNoU3RhdHVzPXR9Z2V0IGlzRmV0Y2hpbmcoKXtyZXR1cm4gdGhpcy5fZmV0Y2hTdGF0dXM9PT1wLkZFVENISU5HfHx0aGlzLl9mZXRjaFN0YXR1cz09PXAuUkVGRVRDSElOR31nZXQgaXNSZWZldGNoaW5nKCl7cmV0dXJuIHRoaXMuX2ZldGNoU3RhdHVzPT09cC5SRUZFVENISU5HfWdldCBuZWVkc0ZldGNoKCl7cmV0dXJuIHRoaXMuX2ZldGNoU3RhdHVzPT09cC5GRVRDSF9ORUVERUR8fHRoaXMuX2ZldGNoU3RhdHVzPT09cC5SRUZFVENIX05FRURFRH1nZXQgbmVlZHNSZWZldGNoKCl7cmV0dXJuIHRoaXMuX2ZldGNoU3RhdHVzPT09cC5SRUZFVENIX05FRURFRH1nZXQgaXNGZXRjaGVkKCl7cmV0dXJuIHRoaXMuX2ZldGNoU3RhdHVzPT09cC5ET05FfHx0aGlzLl9mZXRjaFN0YXR1cz09PXAuRlVMTH1pc0Z1bGx5RmV0Y2hlZCh0KXtyZXR1cm4hIXRoaXMuZmVhdHVyZXMmJih0aGlzLmZlYXR1cmVzLmxlbmd0aD49dHx8dGhpcy5mZXRjaFN0YXR1cz09PXAuRlVMTCl9cmVzZXRGZXRjaGluZygpe3RoaXMuX2ZldGNoU3RhdHVzPXRoaXMuaXNSZWZldGNoaW5nP3AuUkVGRVRDSF9ORUVERUQ6cC5GRVRDSF9ORUVERUR9Z2V0IG5lZWRzRGlzcGxheVVwZGF0ZSgpe3JldHVybiEhdGhpcy5fZmVhdHVyZXMmJiFMKHRoaXMuX2ZlYXR1cmVzLHRoaXMuZGlzcGxheWluZ0ZlYXR1cmVzLHRoaXMuZmVhdHVyZUxpbWl0KX1pbnRlcnNlY3RzKHQpe3JldHVybiBudWxsPT10fHwhdGhpcy5kZXNjcmlwdG9yLmV4dGVudHx8KGEodCx2KSxoKHRoaXMuZGVzY3JpcHRvci5leHRlbnQsdikpfWludGVyc2VjdGlvbkluY2x1ZGluZ0JvcnJvd2VkKHQsZSl7Y29uc3Qgcz1udWxsIT10aGlzLmV4dGVudEluY2x1ZGluZ0JvcnJvd2VkRmVhdHVyZXM/dGhpcy5leHRlbnRJbmNsdWRpbmdCb3Jyb3dlZEZlYXR1cmVzOnRoaXMuZGVzY3JpcHRvci5leHRlbnQ7cmV0dXJuIHR8fHM/KG51bGwhPXQ/KGEodCxlKSxsKGUscyxlKSk6bihlLHMpLGUpOihuKGUsZiksZSl9X3NodWZmbGUoZSl7dGhpcy5fZmVhdHVyZXM/LnNvcnQoKCh0LHMpPT5jKHQsZSktYyhzLGUpKSksdCh0aGlzLl9mZWF0dXJlcyxGKX1fc29ydEJ5U2l6ZSh0KXt0aGlzLl9mZWF0dXJlcz8uc29ydCgoKGUscyk9PmkobShzLmdlb21ldHJ5LFIpKS1pKG0oZS5nZW9tZXRyeSxSKSl8fGMoZSx0KS1jKHMsdCkpKX1yZWR1Y2VGZWF0dXJlcyh0LGUscyxpKXtpZih0PD0wKXJldHVybiExO2lmKCF0aGlzLl9mZWF0dXJlcylyZXR1cm4gdGhpcy5mZWF0dXJlTGltaXQ9MCwhMTtsZXQgcj0hMTt0aGlzLmZlYXR1cmVMaW1pdD1NYXRoLmNlaWwodGhpcy5udW1GZWF0dXJlcyp0KSx0aGlzLmZlYXR1cmVMaW1pdD50aGlzLl9mZWF0dXJlcy5sZW5ndGgmJnRoaXMuX2ZldGNoU3RhdHVzPT09cC5ET05FJiZ0aGlzLl9mZWF0dXJlcy5sZW5ndGg+MCYmKHRoaXMuX2ZldGNoU3RhdHVzPXAuUkVGRVRDSF9ORUVERUQscj0hMCksIXRoaXMuX3NvcnRlZCYmdDwxJiYoaT09PXkuUkFORE9NP3RoaXMuX3NodWZmbGUocyk6dGhpcy5fc29ydEJ5U2l6ZShzKSx0aGlzLl9zb3J0ZWQ9ITAsdGhpcy5fZXN0aW1hdGVkVW51c2VkU2l6ZURpcnR5PSEwKTtjb25zdCBhPU1hdGgubWF4KHRoaXMuZmVhdHVyZUxpbWl0LE1hdGguY2VpbChlKnRoaXMubnVtRmVhdHVyZXMpKTtyZXR1cm4gdGhpcy5fZmVhdHVyZXMubGVuZ3RoPmEmJih0aGlzLl9mZWF0dXJlcy5sZW5ndGg9YSx0aGlzLl9mZWF0dXJlc0xlbmd0aC52YWx1ZT1hLHRoaXMuZXhjZWVkZWRUcmFuc2ZlckxpbWl0LnZhbHVlPSExLHRoaXMuX2ZldGNoU3RhdHVzPT09cC5GVUxMJiYodGhpcy5fZmV0Y2hTdGF0dXM9cC5ET05FKSkscn1nZXQgY2FjaGUoKXtyZXR1cm4gbmV3IEQodGhpcyx0aGlzLl9mZWF0dXJlcyx0aGlzLl9udW1GZWF0dXJlcy52YWx1ZSx0aGlzLl9lbXB0eUZlYXR1cmVSYXRpby52YWx1ZSl9c2V0IGNhY2hlKHQpe3RoaXMucmVxdWVzdENvbnRyb2xsZXI9bnVsbCx0aGlzLl9hdmFpbGFibGVGaWVsZHM9dC5hdmFpbGFibGVGaWVsZHMsdGhpcy5fZmVhdHVyZXM9dC5mZWF0dXJlcyx0aGlzLl9mZWF0dXJlc0xlbmd0aC52YWx1ZT10LmZlYXR1cmVzPy5sZW5ndGg/PzAsdGhpcy5fbnVtRmVhdHVyZXMudmFsdWU9dC5udW1GZWF0dXJlcyx0aGlzLl9lbXB0eUZlYXR1cmVSYXRpby52YWx1ZT10LmVtcHR5RmVhdHVyZVJhdGlvLHRoaXMuX2ZldGNoU3RhdHVzPXQuZmV0Y2hTdGF0dXMsdGhpcy5leGNlZWRlZFRyYW5zZmVyTGltaXQudmFsdWU9dC5leGNlZWRlZFRyYW5zZmVyTGltaXQsdGhpcy5fZXN0aW1hdGVkU2l6ZT0tMSx0aGlzLl9lc3RpbWF0ZWRVbnVzZWRTaXplRGlydHk9ITAsdGhpcy5mZXRjaEluZm9ybWF0aW9uLnZhbHVlPXQuZmV0Y2hJbmZvcm1hdGlvbn19Y29uc3QgRT0tMSxTPS0yO3ZhciBwLHk7IWZ1bmN0aW9uKHQpe3RbdC5GRVRDSF9ORUVERUQ9MF09XCJGRVRDSF9ORUVERURcIix0W3QuUkVGRVRDSF9ORUVERUQ9MV09XCJSRUZFVENIX05FRURFRFwiLHRbdC5GRVRDSElORz0yXT1cIkZFVENISU5HXCIsdFt0LlJFRkVUQ0hJTkc9M109XCJSRUZFVENISU5HXCIsdFt0LkRPTkU9NF09XCJET05FXCIsdFt0LkZVTEw9NV09XCJGVUxMXCJ9KHB8fChwPXt9KSksZnVuY3Rpb24odCl7dFt0LlNJWkU9MF09XCJTSVpFXCIsdFt0LlJBTkRPTT0xXT1cIlJBTkRPTVwifSh5fHwoeT17fSkpO2NsYXNzIER7Y29uc3RydWN0b3IodCxzLGkscil7dGhpcy5mZWF0dXJlcz1zLHRoaXMubnVtRmVhdHVyZXM9aSx0aGlzLmVtcHR5RmVhdHVyZVJhdGlvPXIsdGhpcy5jYWNoZWRNZW1vcnk9ZSt0LmVzdGltYXRlZFNpemUsdGhpcy5yZXNvbHV0aW9uPXQuZGlzcGxheWluZ1Jlc29sdXRpb24sdGhpcy5hdmFpbGFibGVGaWVsZHM9dC5hdmFpbGFibGVGaWVsZHMsdGhpcy5mZXRjaFN0YXR1cz10LmZldGNoU3RhdHVzLHRoaXMuZXhjZWVkZWRUcmFuc2ZlckxpbWl0PXQuZXhjZWVkZWRUcmFuc2ZlckxpbWl0LnZhbHVlLHRoaXMuZmV0Y2hJbmZvcm1hdGlvbj10LmZldGNoSW5mb3JtYXRpb24udmFsdWV9fWZ1bmN0aW9uIEwodCxlLHMpe2lmKG51bGw9PWV8fG51bGw9PXR8fHMhPT1lLmxlbmd0aHx8cz50Lmxlbmd0aClyZXR1cm4hMTtmb3IobGV0IGk9MDtpPHM7KytpKWlmKHRbaV0hPT1lW2ldKXJldHVybiExO3JldHVybiEwfWNvbnN0IHY9dSgpLFI9cigpO2V4cG9ydHtnIGFzIEZlYXR1cmVUaWxlLEQgYXMgRmVhdHVyZVRpbGVDYWNoZUl0ZW0scCBhcyBGZXRjaFN0YXR1cyx5IGFzIFJlZHVjZU1vZGUsUyBhcyBmYWlsZWRGZWF0dXJlQ291bnR9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMzMvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtfIGFzIGV9ZnJvbVwiLi4vLi4vLi4vLi4vY2h1bmtzL3RzbGliLmVzNi5qc1wiO2ltcG9ydCB0IGZyb21cIi4uLy4uLy4uLy4uL2NvcmUvQWNjZXNzb3IuanNcIjtpbXBvcnR7ZmlsdGVySW5QbGFjZSBhcyBzfWZyb21cIi4uLy4uLy4uLy4uL2NvcmUvYXJyYXlVdGlscy5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vLi4vY29yZS9oYXMuanNcIjtpbXBvcnQgaSBmcm9tXCIuLi8uLi8uLi8uLi9jb3JlL0xvZ2dlci5qc1wiO2ltcG9ydHtnZXRPckNyZWF0ZU1hcFZhbHVlIGFzIHJ9ZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9NYXBVdGlscy5qc1wiO2ltcG9ydHtpc0Fib3J0RXJyb3IgYXMgYSx0aHJvd0lmQWJvcnRlZCBhcyBufWZyb21cIi4uLy4uLy4uLy4uL2NvcmUvcHJvbWlzZVV0aWxzLmpzXCI7aW1wb3J0IG8gZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9SZWFjdGl2ZU1hcC5qc1wiO2ltcG9ydHtvbiBhcyB1LHdhdGNoIGFzIGx9ZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9yZWFjdGl2ZVV0aWxzLmpzXCI7aW1wb3J0e3NjaGVkdWxlIGFzIGh9ZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9zY2hlZHVsaW5nLmpzXCI7aW1wb3J0e3NpZ25hbCBhcyBkfWZyb21cIi4uLy4uLy4uLy4uL2NvcmUvc2lnbmFsLmpzXCI7aW1wb3J0e3NxbEFuZCBhcyBjfWZyb21cIi4uLy4uLy4uLy4uL2NvcmUvc3FsLmpzXCI7aW1wb3J0e3Byb3BlcnR5IGFzIHB9ZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9wcm9wZXJ0eS5qc1wiO2ltcG9ydHtzdWJjbGFzcyBhcyBmfWZyb21cIi4uLy4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvc3ViY2xhc3MuanNcIjtpbXBvcnR7Z2V0RXBzaWxvbiBhcyBffWZyb21cIi4uLy4uLy4uLy4uL2NvcmUvbGlicy9nbC1tYXRyaXgtMi9tYXRoL2NvbW1vbi5qc1wiO2ltcG9ydHtjcmVhdGUgYXMgbSxlcXVhbHMgYXMgZyxjbG9uZSBhcyBGLGV4cGFuZCBhcyB5LHRvRXh0ZW50IGFzIFQsd2lkdGggYXMgeCxoZWlnaHQgYXMgdn1mcm9tXCIuLi8uLi8uLi8uLi9nZW9tZXRyeS9zdXBwb3J0L2FhQm91bmRpbmdSZWN0LmpzXCI7aW1wb3J0e2dldE9iamVjdElkIGFzIFIsaGFzVmVydGljZXMgYXMgRSxjb21wdXRlQUFCUiBhcyBifWZyb21cIi4uLy4uLy4uLy4uL2xheWVycy9ncmFwaGljcy9kZWh5ZHJhdGVkRmVhdHVyZXMuanNcIjtpbXBvcnQgQyBmcm9tXCIuLi8uLi8uLi8uLi9yZXN0L3N1cHBvcnQvUXVhbnRpemF0aW9uUGFyYW1ldGVycy5qc1wiO2ltcG9ydCBEIGZyb21cIi4uLy4uLy4uLy4uL3Jlc3Qvc3VwcG9ydC9RdWVyeS5qc1wiO2ltcG9ydHtWaWV3aW5nTW9kZSBhcyB3fWZyb21cIi4uLy4uLy4uL1ZpZXdpbmdNb2RlLmpzXCI7aW1wb3J0e011bHRpRmVhdHVyZVJlZmVyZW5jZSBhcyBNLFNpbmdsZUZlYXR1cmVSZWZlcmVuY2UgYXMgVX1mcm9tXCIuL2ZlYXR1cmVSZWZlcmVuY2UuanNcIjtpbXBvcnR7ZmFpbGVkRmVhdHVyZUNvdW50IGFzIGosRmVhdHVyZVRpbGUgYXMgTyxGZXRjaFN0YXR1cyBhcyBBLFJlZHVjZU1vZGUgYXMgSX1mcm9tXCIuL0ZlYXR1cmVUaWxlLmpzXCI7aW1wb3J0e3RpbGVzQXJlUmVsYXRlZCBhcyBQfWZyb21cIi4uLy4uL3RlcnJhaW4vdGlsZVV0aWxzLmpzXCI7aW1wb3J0e0ltbWVkaWF0ZVRhc2sgYXMgeixUYXNrUHJpb3JpdHkgYXMgTn1mcm9tXCIuLi8uLi8uLi9zdXBwb3J0L1NjaGVkdWxlci5qc1wiO2xldCBxPWNsYXNzIGV4dGVuZHMgdHtzZXQgbWF4aW11bU51bWJlck9mRmVhdHVyZXMoZSl7ZT1lfHwxLzA7Y29uc3QgdD10aGlzLl9nZXQoXCJtYXhpbXVtTnVtYmVyT2ZGZWF0dXJlc1wiKTtlPT09dHx8ZTwxfHwodGhpcy5fc2V0KFwibWF4aW11bU51bWJlck9mRmVhdHVyZXNcIixlKSx0aGlzLl9tYXhpbXVtRmVhdHVyZXNVcGRhdGVkKHQsZSkpfXNldCBtZW1vcnlGYWN0b3IoZSl7dGhpcy5tZW1vcnlGYWN0b3IhPT1lJiYodGhpcy5fc2V0KFwibWVtb3J5RmFjdG9yXCIsZSksdGhpcy5fc2V0RGlydHkoKSl9c2V0IGxvZEZhY3RvcihlKXt0aGlzLmxvZEZhY3RvciE9PWUmJih0aGlzLl9zZXQoXCJsb2RGYWN0b3JcIixlKSx0aGlzLl9zdXBwb3J0c1Jlc29sdXRpb24mJnRoaXMucmVmZXRjaCgpKX1nZXQgdXNlVGlsZUNvdW50KCl7cmV0dXJuIHRoaXMuX3VzZVRpbGVDb3VudCYmbnVsbCE9dGhpcy5jb250ZXh0LnF1ZXJ5LnF1ZXJ5RmVhdHVyZUNvdW50fXNldCB1c2VUaWxlQ291bnQoZSl7dGhpcy5fdXNlVGlsZUNvdW50PWUsdGhpcy5ub3RpZnlDaGFuZ2UoXCJ1c2VUaWxlQ291bnRcIil9Z2V0IHVwZGF0aW5nKCl7cmV0dXJuIHRoaXMuX2RpcnR5fHwhIXRoaXMuX3BlbmRpbmdFZGl0c3x8dGhpcy5faXNGZXRjaGluZ3x8KHRoaXMudGlsZURlc2NyaXB0b3JzPy51cGRhdGluZz8/ITEpfWdldCBydW5uaW5nKCl7cmV0dXJuIHRoaXMuX2RpcnR5fWdldCBtZW1vcnlGb3JVbnVzZWRGZWF0dXJlcygpe2xldCBlPTA7cmV0dXJuIHRoaXMuX2ZlYXR1cmVUaWxlcy5mb3JFYWNoKCh0PT5lKz10LmVzdGltYXRlZFVudXNlZFNpemUpKSxlfWdldCB0b3RhbFZlcnRpY2VzKCl7bGV0IGU9MDtyZXR1cm4gdGhpcy5fZmVhdHVyZVRpbGVzLmZvckVhY2goKHQ9PmUrPXQubnVtVmVydGljZXMpKSxlfWdldCB0b3RhbEZlYXR1cmVzKCl7bGV0IGU9MDtyZXR1cm4gdGhpcy5fZmVhdHVyZVRpbGVzLmZvckVhY2goKHQ9PmUrPXQubnVtRmVhdHVyZXMpKSxlfWdldCBzaG93c0FsbEZlYXR1cmVzKCl7aWYodGhpcy5fcGF1c2VkfHx0aGlzLmRhdGFVcGRhdGluZylyZXR1cm4hMTtmb3IoY29uc3QgZSBvZiB0aGlzLl9mZWF0dXJlVGlsZXMudmFsdWVzKCkpaWYoIXRoaXMuaGFzRnVsbEdlb21ldHJpZXMmJjAhPT1lLmVtcHR5RmVhdHVyZVJhdGlvfHwhZS5zaG93c0FsbEZlYXR1cmVzKXJldHVybiExO3JldHVybiEwfWdldCBoYXNGdWxsR2VvbWV0cmllcygpe2lmKCF0aGlzLl9zdXBwb3J0c1Jlc29sdXRpb24pcmV0dXJuITA7Y29uc3QgZT10aGlzLnRpbGVEZXNjcmlwdG9ycz8uc29tZShRKTtyZXR1cm4gZXx8IXRoaXMuY29udGV4dC5jYXBhYmlsaXRpZXMuc3VwcG9ydHNRdWFudGl6YXRpb24mJlwicG9seWxpbmVcIiE9PXRoaXMuY29udGV4dC5nZW9tZXRyeVR5cGV9c2V0IGZpbHRlckV4dGVudChlKXtpZihudWxsIT1lJiZ0aGlzLmNvbnRleHQudGlsaW5nU2NoZW1lJiYhZS5zcGF0aWFsUmVmZXJlbmNlLmVxdWFscyh0aGlzLmNvbnRleHQudGlsaW5nU2NoZW1lLnNwYXRpYWxSZWZlcmVuY2UpKXJldHVybiB2b2lkIGkuZ2V0TG9nZ2VyKHRoaXMpLmVycm9yKFwiI2ZpbHRlckV4dGVudD1cIixcImV4dGVudCBuZWVkcyB0byBiZSBpbiB0aGUgc2FtZSBzcGF0aWFsIHJlZmVyZW5jZSBhcyB0aGUgdGlsaW5nIHNjaGVtZVwiKTtjb25zdCB0PXRoaXMuX2dldChcImZpbHRlckV4dGVudFwiKTtpZih0PT09ZXx8bnVsbCE9dCYmZSYmdC5lcXVhbHMoZSkpcmV0dXJuO2NvbnN0IHM9bnVsbCE9ZT9lLmNsb25lKCk6bnVsbDt0aGlzLl9zZXQoXCJmaWx0ZXJFeHRlbnRcIixzKSx0aGlzLl9yZWNsaXAocyx0KX1fdXBkYXRlVGlsZVpRdWFudGl6YXRpb24oZSl7aWYodGhpcy5jb250ZXh0LnZpZXdpbmdNb2RlPT09dy5HbG9iYWwpe2NvbnN0IHQ9ZS5jb21wdXRlWlF1YW50aXphdGlvbkZhY3RvcigpO3RoaXMuX3pRdWFudGl6YXRpb25GYWN0b3IudmFsdWU8dCYmKHRoaXMuX3pRdWFudGl6YXRpb25GYWN0b3IudmFsdWU9dCl9fWdldCBfdGlsZVpRdWFudGl6YXRpb24oKXtyZXR1cm4gdGhpcy5jb250ZXh0LmlzRHJhcGVkPzE6dGhpcy5felF1YW50aXphdGlvbkZhY3Rvci52YWx1ZX1jb25zdHJ1Y3RvcihlKXtzdXBlcihlKSx0aGlzLl91c2VUaWxlQ291bnQ9ITEsdGhpcy5kYXRhVXBkYXRpbmc9ITEsdGhpcy51cGRhdGluZ1RvdGFsPTAsdGhpcy51cGRhdGluZ1JlbWFpbmluZz0wLHRoaXMuZXhwZWN0ZWRGZWF0dXJlRGlmZj0wLHRoaXMubWF4aW11bU51bWJlck9mRmVhdHVyZXNFeGNlZWRlZD0hMSx0aGlzLl9mdWxsUmF0aW89MSx0aGlzLl9mYXJSYXRpbz0xLHRoaXMuX3pRdWFudGl6YXRpb25GYWN0b3I9ZCgxKSx0aGlzLl9jaGFuZ2VzPXt1cGRhdGVzOnthZGRzOm5ldyBBcnJheSxyZW1vdmVzOm5ldyBBcnJheX0sYWRkczpuZXcgQXJyYXkscmVtb3ZlczpuZXcgQXJyYXl9LHRoaXMuX2ZlYXR1cmVUaWxlcz1uZXcgbyx0aGlzLl9kaXNwbGF5aW5nRmVhdHVyZVJlZmVyZW5jZXM9bmV3IE1hcCx0aGlzLl9udW1EaXNwbGF5aW5nRmVhdHVyZVJlZmVyZW5jZXM9MCx0aGlzLl9kaXJ0eT0hMSx0aGlzLl9zdXNwZW5kZWQ9ITAsdGhpcy5fcGVuZGluZ0VkaXRzPW51bGwsdGhpcy5fYXBwbHlFZGl0c1RpbGVzVXBkYXRlZD0hMSx0aGlzLl9pc0ZldGNoaW5nPSExO2NvbnN0IHQ9ZS5jb250ZXh0O3RoaXMuX2ZyYW1lVGFzaz10LnNjaGVkdWxlcj8ucmVnaXN0ZXJUYXNrKE4uRkVBVFVSRV9USUxFX0ZFVENIRVIsdGhpcyk/P3osdGhpcy5GZWF0dXJlUmVmZXJlbmNlQ2xhc3M9dC5jYXBhYmlsaXRpZXMuc3VwcG9ydHNNdWx0aXBsZVJlc29sdXRpb25zP006VSx0aGlzLl9vYmplY3RJZEZpZWxkPXQub2JqZWN0SWRGaWVsZH1pbml0aWFsaXplKCl7dGhpcy5hZGRIYW5kbGVzKFt1KCgoKT0+dGhpcy50aWxlRGVzY3JpcHRvcnMpLFwiY2hhbmdlXCIsKCgpPT50aGlzLl9zZXREaXJ0eSgpKSksbCgoKCk9PnRoaXMuX3RpbGVaUXVhbnRpemF0aW9uKSwoKCk9PnRoaXMucmVmZXRjaCgpKSldKSx0aGlzLl9zZXREaXJ0eSgpfWRlc3Ryb3koKXt0aGlzLl9mcmFtZVRhc2sucmVtb3ZlKCksdGhpcy5fZmVhdHVyZVRpbGVzLmZvckVhY2goKGU9Pnt0aGlzLl9jYW5jZWxGZXRjaFRpbGUoZSksdGhpcy5fcmVtb3ZlVGlsZShlKX0pKSx0aGlzLl9mZWF0dXJlVGlsZXMuY2xlYXIoKSx0aGlzLl9kaXNwbGF5aW5nRmVhdHVyZVJlZmVyZW5jZXMuY2xlYXIoKSx0aGlzLl9wZW5kaW5nRWRpdHM/LmNvbnRyb2xsZXIuYWJvcnQoKSx0aGlzLl9wZW5kaW5nRWRpdHM9bnVsbH1nZXQgX3BhdXNlZCgpe3JldHVybiB0aGlzLl9zdXNwZW5kZWR8fCEhdGhpcy5fcGVuZGluZ0VkaXRzfXJlc3RhcnQoKXt0aGlzLl9mZWF0dXJlVGlsZXMuZm9yRWFjaCgoZT0+e3RoaXMuX2NhbmNlbEZldGNoVGlsZShlKSx0aGlzLl9jbGVhclRpbGUoZSksdGhpcy5fcmVzZXRGZXRjaFRpbGUoZSl9KSksbnVsbCE9dGhpcy5jb250ZXh0Lm1lbW9yeUNhY2hlJiZ0aGlzLmNvbnRleHQubWVtb3J5Q2FjaGUuY2xlYXIoKSx0aGlzLl9zZXREaXJ0eSgpfXJlZmV0Y2goKXt0aGlzLl9mZWF0dXJlVGlsZXMuZm9yRWFjaCgoZT0+e3RoaXMuX2NhbmNlbEZldGNoVGlsZShlKSx0aGlzLl9yZXNldEZldGNoVGlsZShlKX0pKSxudWxsIT10aGlzLmNvbnRleHQubWVtb3J5Q2FjaGUmJnRoaXMuY29udGV4dC5tZW1vcnlDYWNoZS5jbGVhcigpLHRoaXMuX3NldERpcnR5KCl9c3VzcGVuZCgpe3RoaXMuX3N1c3BlbmRlZHx8KHRoaXMuX3N1c3BlbmRlZD0hMCx0aGlzLl9wYXVzZSgpLHRoaXMuX3NldERpcnR5KCkpfXJlc3VtZSgpe3RoaXMuX3N1c3BlbmRlZCYmKHRoaXMuX3N1c3BlbmRlZD0hMSx0aGlzLl91bnBhdXNlKCkpfWdldE1pc3NpbmdBdHRyaWJ1dGVzRm9yRmVhdHVyZShlKXtmb3IoY29uc3QgdCBvZiB0aGlzLl9mZWF0dXJlVGlsZXMudmFsdWVzKCkpe2NvbnN0IHM9dC5taXNzaW5nQXR0cmlidXRlcz8uZ2V0KGUpO2lmKG51bGwhPXMpcmV0dXJuIHN9fV9wYXVzZSgpe3RoaXMuX3BhdXNlZCYmKHRoaXMuX2ZlYXR1cmVUaWxlcy5mb3JFYWNoKChlPT50aGlzLl9jYW5jZWxGZXRjaFRpbGUoZSkpKSx0aGlzLl91cGRhdGVkKCkpfV91bnBhdXNlKCl7dGhpcy5fcGF1c2VkfHx0aGlzLl9zZXREaXJ0eSgpfWdldCBhdmFpbGFibGVGaWVsZHMoKXtsZXQgZT1udWxsO3JldHVybiB0aGlzLl9mZWF0dXJlVGlsZXMuZm9yRWFjaCgodD0+e251bGwhPXQuZGlzcGxheWluZ0ZlYXR1cmVzJiYwIT09dC5kaXNwbGF5aW5nRmVhdHVyZXMubGVuZ3RoJiYobnVsbD09ZT9lPW5ldyBTZXQodC5hdmFpbGFibGVGaWVsZHMpOmUuZm9yRWFjaCgocz0+e3QuYXZhaWxhYmxlRmllbGRzPy5oYXMocyl8fGUuZGVsZXRlKHMpfSkpKX0pKSxudWxsIT1lP2U6bmV3IFNldH1hcHBseUVkaXRzKGUpe3RoaXMuX3BlbmRpbmdFZGl0c3x8KHRoaXMuX3BlbmRpbmdFZGl0cz17ZWRpdHM6UHJvbWlzZS5yZXNvbHZlKCksY291bnQ6MCxjb250cm9sbGVyOm5ldyBBYm9ydENvbnRyb2xsZXJ9LHRoaXMuX3BhdXNlKCkpO2NvbnN0IHQ9dGhpcy5fcGVuZGluZ0VkaXRzO3QuY291bnQrKztjb25zdCBzPXQuZWRpdHMudGhlbigoKCk9PmUucmVzdWx0LmNhdGNoKChlPT57aWYoYShlKSl0aHJvdyBlO3JldHVybiBudWxsfSkpLnRoZW4oKGU9PmU/KHRoaXMuX2FwcGx5RWRpdHNEZWxldGVGZWF0dXJlcyhlLmRlbGV0ZWRGZWF0dXJlcyksdGhpcy5fYXBwbHlFZGl0c0FkZFVwZGF0ZUZlYXR1cmVzKGUuYWRkZWRGZWF0dXJlcyxlLnVwZGF0ZWRGZWF0dXJlcyx0LmNvbnRyb2xsZXIuc2lnbmFsKS50aGVuKCgoKT0+ZSkpKTplKSkudGhlbigoZT0+KDA9PT0tLXQuY291bnQmJih0aGlzLl9wZW5kaW5nRWRpdHM9PT10JiYodGhpcy5fcGVuZGluZ0VkaXRzPW51bGwpLG51bGwhPXRoaXMuY29udGV4dC5tZW1vcnlDYWNoZSYmdGhpcy5jb250ZXh0Lm1lbW9yeUNhY2hlLmNsZWFyKCksdGhpcy5fYXBwbHlFZGl0c1RpbGVzVXBkYXRlZD0hMSx0aGlzLl91bnBhdXNlKCkpLGUpKSkpKTtyZXR1cm4gdC5lZGl0cz1zLHRoaXMuX3VwZGF0ZWQoKSxzfV9hcHBseUVkaXRzRGVsZXRlRmVhdHVyZXMoZSl7aWYoMD09PWUubGVuZ3RoKXJldHVybjtjb25zdCB0PXRoaXMuY29udGV4dC5nbG9iYWxJZEZpZWxkLHM9dCYmdGhpcy5hdmFpbGFibGVGaWVsZHMuaGFzKHQpLHI9bmV3IFNldCxhPXRoaXMuX29iamVjdElkRmllbGQ7ZS5mb3JFYWNoKCgoe29iamVjdElkOmUsZ2xvYmFsSWQ6bn0pPT57KCFlfHxlPDApJiZ0JiZuJiYoc3x8aS5nZXRMb2dnZXIodGhpcykuZXJyb3JPbmNlUGVyVGljayhgRWRpdGluZyB0aGUgc3BlY2lmaWVkIHNlcnZpY2UgcmVxdWlyZXMgdGhlIGxheWVyJ3MgZ2xvYmFsSWRGaWVsZCwgJHt0fSB0byBiZSBpbmNsdWRlZCB0aGUgbGF5ZXIncyBvdXRGaWVsZHMgZm9yIHVwZGF0ZXMgdG8gYmUgcmVmbGVjdGVkIGluIHRoZSB2aWV3YCksZT10aGlzLl9vYmplY3RJZEZyb21HbG9iYWxJZChuLGEsdCkpLG51bGwhPWUmJmU+PTAmJnIuYWRkKGUpfSkpLHRoaXMuX2ZlYXR1cmVUaWxlcy5mb3JFYWNoKChlPT57aWYoIWUuZmVhdHVyZXMpcmV0dXJuO2NvbnN0IHQ9ZS5mZWF0dXJlcy5maWx0ZXIoKGU9PiFyLmhhcyhSKGUsdGhpcy5fb2JqZWN0SWRGaWVsZCkpKSk7dC5sZW5ndGghPT1lLmZlYXR1cmVzLmxlbmd0aCYmKHRoaXMuX2FwcGx5RWRpdHNUaWxlVXBkYXRlZCgpLGUuc2V0RmVhdHVyZXModCwwLGUuYXZhaWxhYmxlRmllbGRzLGUubWlzc2luZ0F0dHJpYnV0ZXMpLHRoaXMuX3VwZGF0ZVRpbGVaUXVhbnRpemF0aW9uKGUpLHRoaXMuX2ludmFsaWRhdGVDb3VudHMoKSl9KSl9X29iamVjdElkRnJvbUdsb2JhbElkKGUsdCxzKXtpZihudWxsPT1lKXJldHVybiBudWxsO2NvbnN0IGk9dGhpcy5mZWF0dXJlcy5maW5kKCh0PT50LmF0dHJpYnV0ZXM/LltzXT09PWUpKTtyZXR1cm4gaT9SKGksdCk6bnVsbH1hc3luYyBfYXBwbHlFZGl0c0FkZFVwZGF0ZUZlYXR1cmVzKGUsdCxzKXtjb25zdHtvYmplY3RJZEZpZWxkOnIsZ2xvYmFsSWRGaWVsZDphfT10aGlzLmNvbnRleHQsbj1hJiZ0aGlzLmF2YWlsYWJsZUZpZWxkcy5oYXMoYSksbz1uZXcgU2V0LHU9bmV3IFNldDtmb3IoY29uc3QgaSBvZiBlKXtjb25zdCBlPWkub2JqZWN0SWQ7bnVsbCE9ZSYmby5hZGQoZSl9Zm9yKGNvbnN0e29iamVjdElkOmgsZ2xvYmFsSWQ6ZH1vZiB0KXtsZXQgZT1oOyhudWxsPT1lfHxlPDApJiZhJiYobnx8aS5nZXRMb2dnZXIodGhpcykuZXJyb3JPbmNlUGVyVGljayhgRWRpdGluZyB0aGUgc3BlY2lmaWVkIHNlcnZpY2UgcmVxdWlyZXMgdGhlIGxheWVyJ3MgZ2xvYmFsSWRGaWVsZCwgJHthfSB0byBiZSBpbmNsdWRlZCB0aGUgbGF5ZXIncyBvdXRGaWVsZHMgZm9yIHVwZGF0ZXMgdG8gYmUgcmVmbGVjdGVkIGluIHRoZSB2aWV3YCksZT10aGlzLl9vYmplY3RJZEZyb21HbG9iYWxJZChkLHIsYSkpLG51bGwhPWUmJmU+PTAmJihvLmFkZChlKSx1LmFkZChlKSl9aWYoMD09PW8uc2l6ZSlyZXR1cm47Y29uc3QgbD1bXTt0aGlzLl9mZWF0dXJlVGlsZXMuZm9yRWFjaCgoZT0+e2NvbnN0IHQ9dGhpcy5fYXBwbHlFZGl0c0FkZFVwZGF0ZVRpbGUoZSxvLHUscyk7dCYmbC5wdXNoKHQpfSkpLHRoaXMuX3VwZGF0ZWQoKSxhd2FpdCBQcm9taXNlLmFsbFNldHRsZWQobCl9YXN5bmMgX2FwcGx5RWRpdHNBZGRVcGRhdGVUaWxlKGUsdCxzLGkpe2lmKCFlLmZlYXR1cmVzKXJldHVybjtlLmZldGNoaW5nUmVzb2x1dGlvbj1lLmRlc2NyaXB0b3IucmVzb2x1dGlvbjtjb25zdCByPXRoaXMuX2NyZWF0ZVF1ZXJ5KGUpO3IucmVzdWx0VHlwZT12b2lkIDAsci5jYWNoZUhpbnQ9ITEsci5vYmplY3RJZHM9QXJyYXkuZnJvbSh0KTtjb25zdCBhPWF3YWl0IHRoaXMuX3F1ZXJ5RmVhdHVyZXMocixpKTtsZXQgbj1udWxsO2lmKHMuc2l6ZT4wKXtjb25zdCB0PWUuZmVhdHVyZXMuZmlsdGVyKChlPT4hcy5oYXMoUihlLHRoaXMuX29iamVjdElkRmllbGQpKSkpO3QubGVuZ3RoIT09ZS5mZWF0dXJlcy5sZW5ndGgmJihuPXQpfWlmKGEuZmVhdHVyZXMubGVuZ3RoPjApe258fChuPWUuZmVhdHVyZXMuc2xpY2UoKSk7Zm9yKGNvbnN0IGUgb2YgYS5mZWF0dXJlcyluLnB1c2goZSl9biYmKGUuaGFzUHJlY2lzZUZlYXR1cmVDb3VudCYmKGUubnVtRmVhdHVyZXM9TWF0aC5tYXgoZS5udW1GZWF0dXJlcyxuLmxlbmd0aCkpLHRoaXMuX2FwcGx5RWRpdHNUaWxlVXBkYXRlZCgpLGUuc2V0RmVhdHVyZXMobiwwLEgoZS5hdmFpbGFibGVGaWVsZHMsYS5maWVsZHMpLFooZS5taXNzaW5nQXR0cmlidXRlcyxhLm1pc3NpbmdBdHRyaWJ1dGVzKSksdGhpcy5fdXBkYXRlVGlsZVpRdWFudGl6YXRpb24oZSksdGhpcy5faW52YWxpZGF0ZUNvdW50cygpKX1fYXBwbHlFZGl0c1RpbGVVcGRhdGVkKCl7dGhpcy5fYXBwbHlFZGl0c1RpbGVzVXBkYXRlZHx8KHRoaXMuX2FwcGx5RWRpdHNUaWxlc1VwZGF0ZWQ9ITAsdGhpcy5fdXBkYXRlZCgpKX1fcXVlcnlGZWF0dXJlcyhlLHQpe3JldHVybiB0aGlzLmNvbnRleHQucXVlcnkucXVlcnlGZWF0dXJlc0RlaHlkcmF0ZWQoZSx7c2lnbmFsOnQsdGltZW91dDpYfSl9X3NldERpcnR5KCl7dGhpcy5fZGlydHk9ITAsdGhpcy5fdXBkYXRlZCgpfXJ1blRhc2soZSl7Y29uc3QgdD10aGlzLl9mcmFtZVRhc2sucHJvY2Vzc1F1ZXVlKGUpO2lmKCF0aGlzLl9kaXJ0eXx8IXRoaXMuaW5pdGlhbGl6ZWQpcmV0dXJuIHQ7dGhpcy5fZGlydHk9ITE7Y29uc3Qgcz10aGlzLl9mZWF0dXJlVGlsZXNBcnJheTtpZih0aGlzLl9tYXJrVGlsZXNOb3RBbGl2ZShzKSwhZS5ydW4oKCgpPT50aGlzLl9hZGRUaWxlcyhzLGUpKSl8fCFlLnJ1bigoKCk9PnRoaXMuX2ZpbHRlckV4dGVudFRpbGVzKHMsZSkpKXx8IWUucnVuKCgoKT0+dGhpcy5fcmVtb3ZlVGlsZXMocyxlKSkpfHxlLmRvbmUpcmV0dXJuIHZvaWQgdGhpcy5fc2V0RGlydHkoKTtjb25zdCBpPXRoaXMuX3NvcnRUaWxlcyhzKTtlLnJ1bigoKCk9PnRoaXMuX3Nob3dUaWxlcyhpLGUpKSkmJmUucnVuKCgoKT0+dGhpcy5fZmV0Y2hUaWxlcyhpLGUpKSkmJmUucnVuKCgoKT0+dGhpcy5fdXBkYXRlTWVtb3J5RXN0aW1hdGVzKGksZSkpKXx8dGhpcy5fc2V0RGlydHkoKSx0aGlzLl91cGRhdGVkKCksdGhpcy51cGRhdGluZ3x8dGhpcy5fdXBkYXRlTWF4aW11bU51bWJlck9mRmVhdHVyZXNFeGNlZWRlZCgpfV9tYXJrVGlsZXNOb3RBbGl2ZShlKXtmb3IoY29uc3QgdCBvZiBlKXQuYWxpdmU9ITF9X2FkZFRpbGVzKGUsdCl7cmV0dXJuISh0aGlzLl9zdXNwZW5kZWR8fCF0aGlzLnRpbGVEZXNjcmlwdG9ycykmJih0aGlzLnRpbGVEZXNjcmlwdG9ycy5mb3JFYWNoKChzPT57Y29uc3QgaT10aGlzLl9mZWF0dXJlVGlsZXMuZ2V0KHMuaWQpO2k/aS5hbGl2ZT0hMDp0LmRvbmV8fChlLnB1c2godGhpcy5fYWRkVGlsZShzKSksdC5tYWRlUHJvZ3Jlc3MoKSl9KSksdC5oYXNQcm9ncmVzc2VkKX1fZmlsdGVyRXh0ZW50VGlsZXMoZSx0KXtmb3IoY29uc3QgcyBvZiBlKXtpZih0LmRvbmUpYnJlYWs7cy5hbGl2ZSYmKHMuZmlsdGVyZWQ9IXMuaW50ZXJzZWN0cyh0aGlzLmZpbHRlckV4dGVudCkscy5maWx0ZXJlZCYmKHRoaXMuX2NsZWFyVGlsZShzKSx0Lm1hZGVQcm9ncmVzcygpKSl9cmV0dXJuIHQuaGFzUHJvZ3Jlc3NlZH1fcmVtb3ZlVGlsZXMoZSx0KXtmb3IobGV0IHM9ZS5sZW5ndGgtMTtzPj0wJiYhdC5kb25lO3MtLSl7Y29uc3QgaT1lW3NdO2kuYWxpdmV8fCh0aGlzLl9yZW1vdmVUaWxlKGkpLHMhPT1lLmxlbmd0aC0xJiYoZVtzXT1lW2UubGVuZ3RoLTFdKSxlLnBvcCgpLHQubWFkZVByb2dyZXNzKCkpfXJldHVybiB0Lmhhc1Byb2dyZXNzZWR9X3NvcnRUaWxlcyhlKXtyZXR1cm4gZS5zb3J0KCgoZSx0KT0+ZS5kZXNjcmlwdG9yLmxvYWRQcmlvcml0eS10LmRlc2NyaXB0b3IubG9hZFByaW9yaXR5KSksZX1fc2hvd1RpbGVzKGUsdCl7Y29uc3Qgcz10aGlzLl91cGRhdGVSYXRpbyhlKSxpPWU9Pntjb25zdCB0PXRoaXMuX2Z1bGxSYXRpbzwxP3MoZSkqdGhpcy5fZmFyUmF0aW86MTtlLnJlZHVjZUZlYXR1cmVzKHQsdGhpcy5tZW1vcnlGYWN0b3IsdGhpcy5fb2JqZWN0SWRGaWVsZCx0aGlzLl9yZWR1Y2VNb2RlKSYmdGhpcy5fc2V0RGlydHkoKTtjb25zdHtudW1GZWF0dXJlczppLGZldGNoaW5nUmVzb2x1dGlvbjpyLGRlc2NyaXB0b3I6YSxpc0ZldGNoZWQ6bn09ZTtyZXR1cm4gdGhpcy5fc3VwcG9ydHNSZXNvbHV0aW9uJiZpPjAmJnIhPT1hLnJlc29sdXRpb24mJm4mJihlLnJlcXVlc3RSZWZldGNoKCksdGhpcy5fc2V0RGlydHkoKSksdGhpcy5fc2hvd1RpbGUoZSl9O2Zvcihjb25zdCByIG9mIGUpaWYoIXQucnVuKCgoKT0+aShyKSkpKXt0aGlzLl9zZXREaXJ0eSgpO2JyZWFrfXJldHVybiB0Lmhhc1Byb2dyZXNzZWR9X2ZldGNoVGlsZXMoZSx0KXtpZih0aGlzLl9wYXVzZWQpcmV0dXJuITE7bGV0IHM9ITE7Zm9yKGNvbnN0IGkgb2YgZSl7aWYoIWkubmVlZHNGZXRjaCljb250aW51ZTtjb25zdCBlPW51bGwhPXRoaXMuY29udGV4dC5tZW1vcnlDYWNoZT90aGlzLmNvbnRleHQubWVtb3J5Q2FjaGUucG9wKGkuaWQpOm51bGw7aWYoZT8ucmVzb2x1dGlvbiE9PWkuZGlzcGxheWluZ1Jlc29sdXRpb24pe2lmKHRoaXMuX25lZWRzTnVtRmVhdHVyZXMoaSkpe2NvbnN0IGU9bmV3IEFib3J0Q29udHJvbGxlcixyPXRoaXMuX2ZldGNoVGlsZUNvdW50KGksZS5zaWduYWwpO3RoaXMuX2hhbmRsZVJlcXVlc3QoaSxyLGUsKCgpPT5pLnJlc2V0RmV0Y2hpbmcoKSksKCgpPT5pLm51bUZlYXR1cmVzPWopKSxzPSEwLHQubWFkZVByb2dyZXNzKCl9aWYodC5kb25lKXJldHVybiEwfWVsc2UgaS5jYWNoZT1lLGkubnVtRmVhdHVyZXMmJnRoaXMuX25vdGlmeURhdGFVcGRhdGluZygpLHRoaXMuX3NldERpcnR5KCksdGhpcy5fc2NoZWR1bGVVcGRhdGVkKCksdC5tYWRlUHJvZ3Jlc3MoKX1pZihzKXJldHVybiB0Lmhhc1Byb2dyZXNzZWQ7Zm9yKGNvbnN0IHIgb2YgZSl7aWYoIXIubmVlZHNGZXRjaCljb250aW51ZTtjb25zdCBlPW5ldyBBYm9ydENvbnRyb2xsZXIscz10aGlzLl9mZXRjaFRpbGUocixlLnNpZ25hbCk7aWYodGhpcy5faGFuZGxlUmVxdWVzdChyLHMsZSwoZT0+ci5mZXRjaERvbmUoZSkpLChlPT57ci5mZXRjaEZhaWxlZD0hMCx0aGlzLmNvbnRleHQubG9nRmV0Y2hFcnJvcihpLmdldExvZ2dlcih0aGlzKSxlKX0pKSx0Lm1hZGVQcm9ncmVzcygpLHQuZG9uZSlyZXR1cm4hMH1yZXR1cm4gdC5oYXNQcm9ncmVzc2VkfV91cGRhdGVNZW1vcnlFc3RpbWF0ZXMoZSx0KXtyZXR1cm4gZS5zb21lKChlPT4hdC5ydW4oKCgpPT5lLnVwZGF0ZU1lbW9yeUVzdGltYXRlcygpKSkmJih0aGlzLl9zZXREaXJ0eSgpLCEwKSkpLHQuaGFzUHJvZ3Jlc3NlZH1fcmVjbGlwKGUsdCl7aWYoIXRoaXMuaW5pdGlhbGl6ZWQpcmV0dXJuO2NvbnN0IHM9bmV3IEFycmF5O3RoaXMuX2ZlYXR1cmVUaWxlcy5mb3JFYWNoKChpPT57bnVsbCE9aS5kaXNwbGF5aW5nRmVhdHVyZXMmJjAhPT1pLmRpc3BsYXlpbmdGZWF0dXJlcy5sZW5ndGgmJihpLmludGVyc2VjdGlvbkluY2x1ZGluZ0JvcnJvd2VkKHQsRyksaS5pbnRlcnNlY3Rpb25JbmNsdWRpbmdCb3Jyb3dlZChlLCQpLGcoRywkKXx8cy5wdXNoKGkpKX0pKSx0aGlzLl9yZWZyZXNoRGlzcGxheWluZ0ZlYXR1cmVzKHMpLHRoaXMuX3VwZGF0ZWQoKX1fcmVmcmVzaERpc3BsYXlpbmdGZWF0dXJlcyhlKXtjb25zdCB0PW5ldyBTZXQscz10aGlzLl9jaGFuZ2VzLnVwZGF0ZXM7Zm9yKGNvbnN0IGkgb2YgZSlpZihudWxsIT1pLmRpc3BsYXlpbmdGZWF0dXJlcylmb3IoY29uc3QgZSBvZiBpLmRpc3BsYXlpbmdGZWF0dXJlcyl7Y29uc3QgaT1SKGUsdGhpcy5fb2JqZWN0SWRGaWVsZCk7aWYodC5oYXMoaSkpY29udGludWU7dC5hZGQoaSk7Y29uc3Qgcj10aGlzLl9kaXNwbGF5aW5nRmVhdHVyZVJlZmVyZW5jZXMuZ2V0KGkpLmZlYXR1cmU7cy5yZW1vdmVzLnB1c2gocikscy5hZGRzLnB1c2gocil9dGhpcy5fYXBwbHlDaGFuZ2VzKCl9X3VwZGF0ZWQoKXtsZXQgZT0wO2lmKHRoaXMuX3BhdXNlZHx8dGhpcy5fZmVhdHVyZVRpbGVzLmZvckVhY2goKHQ9PnQuaXNGZXRjaGluZz8rK2U6MCkpLHRoaXMuX2lzRmV0Y2hpbmc9ZT4wLGU+MHx8dGhpcy5fYXBwbHlFZGl0c1RpbGVzVXBkYXRlZD90aGlzLl9ub3RpZnlEYXRhVXBkYXRpbmcoKTp0aGlzLl9kaXJ0eXx8dGhpcy5fc2V0KFwiZGF0YVVwZGF0aW5nXCIsITEpLHRoaXMudXBkYXRpbmcpe2xldCB0PTAscz0wLGk9MCxyPTAsYT0wO2NvbnN0IG49dGhpcy5fZGlzcGxheWluZ0ZlYXR1cmVSZWZlcmVuY2VzLnNpemUvdGhpcy5fbnVtRGlzcGxheWluZ0ZlYXR1cmVSZWZlcmVuY2VzO3RoaXMuX2ZlYXR1cmVUaWxlcy5mb3JFYWNoKChlPT57aWYoKytzLGUuaXNGZXRjaGluZyYmZS5oYXNQcmVjaXNlRmVhdHVyZUNvdW50KXtjb25zdCB0PXRoaXMuX21heGltdW1GZWF0dXJlc0ZvclRpbGUoZSkqKDEtZS5lbXB0eUZlYXR1cmVSYXRpbykscz1udWxsIT1lLmRpc3BsYXlpbmdGZWF0dXJlcz9lLmRpc3BsYXlpbmdGZWF0dXJlcy5sZW5ndGgqbjowO2ErPXQtc31lLm5lZWRzRmV0Y2g/KytyOmUubnVtRmVhdHVyZXM+MCYmKCsraSx0Kz1lLm51bUZlYXR1cmVzKX0pKSxyKz1lO2xldCBvPTAsdT0wO3Q/KHU9dCxvPU1hdGgubWluKHIqdC9pLHQpKToodT1zLG89ciksYT1NYXRoLm1pbih0aGlzLm1heGltdW1OdW1iZXJPZkZlYXR1cmVzLXRoaXMuZmVhdHVyZXMubGVuZ3RoLGEpLHRoaXMuX3NldChcInVwZGF0aW5nVG90YWxcIix1KSx0aGlzLl9zZXQoXCJ1cGRhdGluZ1JlbWFpbmluZ1wiLG8pLHRoaXMuX3NldChcImV4cGVjdGVkRmVhdHVyZURpZmZcIixhKX1lbHNlIHRoaXMuX3NldChcInVwZGF0aW5nVG90YWxcIiwwKSx0aGlzLl9zZXQoXCJ1cGRhdGluZ1JlbWFpbmluZ1wiLDApLHRoaXMuX3NldChcImV4cGVjdGVkRmVhdHVyZURpZmZcIiwwKTt0aGlzLmRlYnVnZ2VyPy51cGRhdGUoKX1fdXBkYXRlTWF4aW11bU51bWJlck9mRmVhdHVyZXNFeGNlZWRlZCgpe2Zvcihjb25zdHtwZXJUaWxlTWF4aW11bU51bWJlck9mRmVhdHVyZXNFeGNlZWRlZDplfW9mIHRoaXMuX2ZlYXR1cmVUaWxlcy52YWx1ZXMoKSlpZihlKXJldHVybiB2b2lkIHRoaXMuX3NldChcIm1heGltdW1OdW1iZXJPZkZlYXR1cmVzRXhjZWVkZWRcIiwhMCk7dGhpcy5fc2V0KFwibWF4aW11bU51bWJlck9mRmVhdHVyZXNFeGNlZWRlZFwiLCExKX1fdXBkYXRlUmF0aW8oZSl7Y29uc3QgdD1TKGUpLHM9ZT0+MS8oMTw8TWF0aC5tYXgoMCx0LWUuZGVzY3JpcHRvci5saWpbMF0pKTtsZXQgaT0wLHI9MDtmb3IoY29uc3QgYSBvZiBlKXtjb25zdCBlPWEubnVtRmVhdHVyZXM7aSs9ZSxyKz1lKnMoYSl9cmV0dXJuIHRoaXMuX2Z1bGxSYXRpbz1NYXRoLm1pbigxLHRoaXMubWF4aW11bU51bWJlck9mRmVhdHVyZXMvaSksdGhpcy5fZmFyUmF0aW89dGhpcy5tYXhpbXVtTnVtYmVyT2ZGZWF0dXJlcy9yLHRoaXMuX3NjaGVkdWxlVXBkYXRlZCgpLHN9X21heGltdW1GZWF0dXJlc1VwZGF0ZWQoZSx0KXtlIT09dCYmKHQ+ZSYmdGhpcy5fZmVhdHVyZVRpbGVzLmZvckVhY2goKGU9PntpZighZS5mZWF0dXJlc01pc3NpbmcpcmV0dXJuO2NvbnN0IHQ9dGhpcy5fbWF4aW11bUZlYXR1cmVzRm9yVGlsZShlKTtlLmlzRnVsbHlGZXRjaGVkKHQpfHwodGhpcy5fY2FuY2VsRmV0Y2hUaWxlKGUpLHRoaXMuX3Jlc2V0RmV0Y2hUaWxlKGUpKX0pKSx0aGlzLl9zZXREaXJ0eSgpKX1fYWRkVGlsZShlKXtjb25zdCB0PW5ldyBPKGUpO3JldHVybiB0aGlzLl9mZWF0dXJlVGlsZXMuc2V0KHQuaWQsdCksdGhpcy5fcmVzZXRGZXRjaFRpbGUodCksdGhpcy5fcmVmZXJlbmNlRGlzcGxheWluZ0ZlYXR1cmVzRnJvbVJlbGF0ZWRUaWxlcyh0KSx0fV9yZWZlcmVuY2VEaXNwbGF5aW5nRmVhdHVyZXNGcm9tUmVsYXRlZFRpbGVzKGUpe2NvbnN0IHQ9ZS5kaXNwbGF5aW5nUmVzb2x1dGlvbjt0aGlzLl9mZWF0dXJlVGlsZXMuZm9yRWFjaCgocz0+e2lmKG51bGwhPXMuZGlzcGxheWluZ0ZlYXR1cmVzJiZlIT09cyYmUChlLmRlc2NyaXB0b3IubGlqLHMuZGVzY3JpcHRvci5saWopKXtudWxsPT1lLmRpc3BsYXlpbmdGZWF0dXJlcyYmKGUuZGlzcGxheWluZ0ZlYXR1cmVzPVtdKSxlLmRlc2NyaXB0b3IuZXh0ZW50JiZzLmRlc2NyaXB0b3IuZXh0ZW50JiYoZS5leHRlbnRJbmNsdWRpbmdCb3Jyb3dlZEZlYXR1cmVzPz89RihlLmRlc2NyaXB0b3IuZXh0ZW50KSx5KGUuZXh0ZW50SW5jbHVkaW5nQm9ycm93ZWRGZWF0dXJlcyxzLmRlc2NyaXB0b3IuZXh0ZW50LGUuZXh0ZW50SW5jbHVkaW5nQm9ycm93ZWRGZWF0dXJlcykpO2Zvcihjb25zdCBpIG9mIHMuZGlzcGxheWluZ0ZlYXR1cmVzKXtlLmRpc3BsYXlpbmdGZWF0dXJlcy5wdXNoKGkpO2NvbnN0IHM9dGhpcy5fZGlzcGxheWluZ0ZlYXR1cmVSZWZlcmVuY2VzLmdldChSKGksdGhpcy5fb2JqZWN0SWRGaWVsZCkpO3MucmVmKHMuZmVhdHVyZSx0KSx0aGlzLl9udW1EaXNwbGF5aW5nRmVhdHVyZVJlZmVyZW5jZXMrK319fSkpfV9yZW1vdmVUaWxlKGUpe3RoaXMuX2NsZWFyVGlsZShlKSx0aGlzLl9mZWF0dXJlVGlsZXMuZGVsZXRlKGUuaWQpfV9yZXNldEZldGNoVGlsZShlKXtlLmZpbHRlcmVkPSFlLmludGVyc2VjdHModGhpcy5maWx0ZXJFeHRlbnQpLGUuZmlsdGVyZWQ/ZS5uZWVkc0ZldGNoJiZlLmZldGNoRG9uZShBLkRPTkUpOmUucmVxdWVzdEZldGNoKCl9X2NhbmNlbEZldGNoVGlsZShlKXtjb25zdCB0PWUucmVxdWVzdENvbnRyb2xsZXI7bnVsbCE9dCYmKGUucmVxdWVzdENvbnRyb2xsZXI9bnVsbCxlLnJlc2V0RmV0Y2hpbmcoKSx0LmFib3J0KCkpfWFzeW5jIF9mZXRjaFRpbGVDb3VudChlLHQpe2UubnVtRmVhdHVyZXM9YXdhaXQgdGhpcy5fZmV0Y2hDb3VudChlLHQpLHRoaXMuX3VwZGF0ZVJhdGlvKHRoaXMuX2ZlYXR1cmVUaWxlc0FycmF5KX1hc3luYyBfZmV0Y2hUaWxlKGUsdCl7ZS5mZXRjaEZhaWxlZD0hMTtjb25zdCBzPXRoaXMuX21heGltdW1GZWF0dXJlc0ZvclRpbGUoZSk7aWYoczw9MClyZXR1cm4gZS5oYXNQcmVjaXNlRmVhdHVyZUNvdW50JiYwPT09ZS5udW1GZWF0dXJlc3x8KGUuZmV0Y2hGYWlsZWQ9ITApLEwoZSksZS5mZXRjaEluZm9ybWF0aW9uLnZhbHVlPVwiRW1wdHkgdGlsZVwiLEEuRE9ORTtjb25zdCBpPXRoaXMuX2dldE1heFJlY29yZENvdW50KGUpLHI9TWF0aC5jZWlsKHMvaSk7aWYoZS5mZXRjaGluZ1Jlc29sdXRpb249ZS5kZXNjcmlwdG9yLnJlc29sdXRpb24sUShlKXx8IXRoaXMuY29udGV4dC5jYXBhYmlsaXRpZXMuc3VwcG9ydHNNYXhSZWNvcmRDb3VudEZhY3Rvcnx8ZS5udW1GZWF0dXJlczw9cyYmcj5ELk1BWF9NQVhfUkVDT1JEX0NPVU5UX0ZBQ1RPUilyZXR1cm4gdGhpcy5fZmV0Y2hQYWdlZFRpbGUoZSx0KTtjb25zdCBhPXRoaXMuX2NyZWF0ZVF1ZXJ5KGUpO2lmKGEubWF4UmVjb3JkQ291bnRGYWN0b3I9cixlLmlzUmVmZXRjaGluZyYmZS5mZWF0dXJlcyYmZS5mZWF0dXJlcy5sZW5ndGg+MCl7Y29uc3QgdD1NYXRoLmNlaWwoZS5mZWF0dXJlcy5sZW5ndGgvKDEtZS5lbXB0eUZlYXR1cmVSYXRpbykvaSk7YS5tYXhSZWNvcmRDb3VudEZhY3Rvcj1NYXRoLm1heCh0KzEsYS5tYXhSZWNvcmRDb3VudEZhY3Rvcil9ZS5mZXRjaEluZm9ybWF0aW9uLnZhbHVlPWBTaW5nbGUgZmV0Y2hcXG4ke3N9IGZlYXR1cmVzYDtjb25zdHtmZWF0dXJlczpvLGV4Y2VlZGVkVHJhbnNmZXJMaW1pdDp1LGZpZWxkczpsLG1pc3NpbmdBdHRyaWJ1dGVzOmh9PWF3YWl0IHRoaXMuX3F1ZXJ5RmVhdHVyZXMoYSx0KSxkPXV8fGEubWF4UmVjb3JkQ291bnRGYWN0b3I+PUQuTUFYX01BWF9SRUNPUkRfQ09VTlRfRkFDVE9SfHxzPT09dGhpcy5fdG90YWxGZWF0dXJlc0ZvclRpbGUoZSk/QS5GVUxMOkEuRE9ORSxjPWF3YWl0IHRoaXMuX2ZyYW1lVGFzay5zY2hlZHVsZSgoKCk9PntlLmV4Y2VlZGVkVHJhbnNmZXJMaW1pdC52YWx1ZT0hIXU7Y29uc3QgdD10aGlzLl9yZW1vdmVFbXB0eUZlYXR1cmVzKG8sdGhpcy5fZ2V0RWZmZWN0aXZlVGlsZVJlc29sdXRpb24oZSkpO3JldHVybiBlLmZldGNoSW5mb3JtYXRpb24udmFsdWU9YFNpbmdsZSBmZXRjaFxcbiR7by5sZW5ndGh9LyR7c30gZmVhdHVyZXNgLGUuc2V0RmVhdHVyZXMobyx0LGsobCksWih2b2lkIDAsaCkpLHRoaXMuX3VwZGF0ZVRpbGVaUXVhbnRpemF0aW9uKGUpLHRoaXMuX21heGltdW1GZWF0dXJlc0ZvclRpbGUoZSk+cz9BLlJFRkVUQ0hfTkVFREVEOmR9KSx0KTtyZXR1cm4gbih0KSx0aGlzLl9pbnZhbGlkYXRlQ291bnRzKCksY31hc3luYyBfZmV0Y2hDb3VudChlLHQpe3JldHVybiB0aGlzLmNvbnRleHQucXVlcnkucXVlcnlGZWF0dXJlQ291bnQodGhpcy5fY3JlYXRlRmVhdHVyZUNvdW50UXVlcnkoZSkse3NpZ25hbDp0fSl9YXN5bmMgX2ZldGNoUGFnZWRUaWxlKGUsdCl7bGV0IHMsaT0wLHI9MCxhPTAsbz10aGlzLl9tYXhpbXVtRmVhdHVyZXNGb3JUaWxlKGUpLWE7Y29uc3QgdT10aGlzLl9nZXRNYXhSZWNvcmRDb3VudChlKTtsZXQgbCxoPW51bGw7Zm9yKDs7KXtjb25zdCBkPXRoaXMuX2NyZWF0ZVF1ZXJ5KGUpLGM9dGhpcy5fc2V0UGFnaW5nUGFyYW1ldGVycyhkLGksbyx1KTtlLmZldGNoSW5mb3JtYXRpb24udmFsdWU9YFBhZ2VkIGZldGNoXFxuJHtlLmZlYXR1cmVzPy5sZW5ndGh9LyR7b30gZmVhdHVyZXNgO2NvbnN0e2ZlYXR1cmVzOnAsZXhjZWVkZWRUcmFuc2ZlckxpbWl0OmYsZmllbGRzOl8sbWlzc2luZ0F0dHJpYnV0ZXM6bX09YXdhaXQgdGhpcy5fcXVlcnlGZWF0dXJlcyhkLHQpO2lmKGF3YWl0IHRoaXMuX2ZyYW1lVGFzay5zY2hlZHVsZSgoKCk9PntjJiYoaSs9ZC5udW0pLGErPXAubGVuZ3RoLHIrPXRoaXMuX3JlbW92ZUVtcHR5RmVhdHVyZXMocCx0aGlzLl9nZXRFZmZlY3RpdmVUaWxlUmVzb2x1dGlvbihlKSksZS5leGNlZWRlZFRyYW5zZmVyTGltaXQudmFsdWU9ISFmLHM9cz8uY29uY2F0KHApPz9wLGg9SChoLF8pLGw9WihsLG0pLGUuc2V0RmVhdHVyZXMocyxyLGgsbCksdGhpcy5fdXBkYXRlVGlsZVpRdWFudGl6YXRpb24oZSksdGhpcy5faW52YWxpZGF0ZUNvdW50cygpLHRoaXMuX3NldERpcnR5KCl9KSx0KSxuKHQpLG89dGhpcy5fbWF4aW11bUZlYXR1cmVzRm9yVGlsZShlKS0ocz8ubGVuZ3RoPz8wKSwhY3x8IWZ8fG88PTApcmV0dXJuIGY/QS5ET05FOkEuRlVMTH19X2NyZWF0ZUZlYXR1cmVDb3VudFF1ZXJ5KGUpe2NvbnN0IHQ9dGhpcy5fY3JlYXRlUXVlcnkoZSk7cmV0dXJuIHRoaXMuY29udGV4dC5jYXBhYmlsaXRpZXMuc3VwcG9ydHNDYWNoZUhpbnQmJih0LnJlc3VsdFR5cGU9dm9pZCAwLHQuY2FjaGVIaW50PSEwKSx0fV9jcmVhdGVRdWVyeShlKXtjb25zdCB0PXRoaXMuY29udGV4dC5jcmVhdGVRdWVyeSgpO3QucmVzdWx0VHlwZT10aGlzLl9yZXN1bHRUeXBlKGUpO2NvbnN0IHM9UShlKTtyZXR1cm4gc3x8KHQuZ2VvbWV0cnk9VChlLmRlc2NyaXB0b3IuZXh0ZW50LHRoaXMuY29udGV4dC50aWxpbmdTY2hlbWUuc3BhdGlhbFJlZmVyZW5jZSkpLHRoaXMuX3NldFJlc29sdXRpb25QYXJhbXModCxlKSxcInRpbGVcIiE9PXQucmVzdWx0VHlwZSYmdGhpcy5jb250ZXh0LmNhcGFiaWxpdGllcy5zdXBwb3J0c0NhY2hlSGludCYmKHQuY2FjaGVIaW50PSEwKSwhcyYmdGhpcy5jb250ZXh0LmVmZmVjdGl2ZURpc3BsYXlGaWx0ZXImJih0LndoZXJlPWModC53aGVyZSx0aGlzLmNvbnRleHQuZWZmZWN0aXZlRGlzcGxheUZpbHRlci53aGVyZSkpLHR9X3NldFBhZ2luZ1BhcmFtZXRlcnMoZSx0LHMsaSl7cmV0dXJuISF0aGlzLmNvbnRleHQuY2FwYWJpbGl0aWVzLnN1cHBvcnRzUGFnaW5hdGlvbiYmKGUuc3RhcnQ9dCxzPjAmJnRoaXMuY29udGV4dC5jYXBhYmlsaXRpZXMuc3VwcG9ydHNNYXhSZWNvcmRDb3VudEZhY3Rvcj8oZS5tYXhSZWNvcmRDb3VudEZhY3Rvcj1NYXRoLmNlaWwocy9pKSxlLm51bT1NYXRoLm1pbihlLm1heFJlY29yZENvdW50RmFjdG9yKmkscykpOmUubnVtPU1hdGgubWluKGkpLCEwKX1fZ2V0RWZmZWN0aXZlVGlsZVJlc29sdXRpb24oZSl7aWYoUShlKXx8IXRoaXMuX3N1cHBvcnRzUmVzb2x1dGlvbilyZXR1cm4gbnVsbDtjb25zdCB0PXRoaXMuY29udGV4dC52aWV3aW5nTW9kZT09PXcuR2xvYmFsP3RoaXMuY29udGV4dC50aWxpbmdTY2hlbWUucmVzb2x1dGlvbkF0TGV2ZWwoMyk6MS8wO3JldHVybiBNYXRoLm1pbihlLmZldGNoaW5nUmVzb2x1dGlvbix0KS90aGlzLmxvZEZhY3Rvci90aGlzLl90aWxlWlF1YW50aXphdGlvbn1nZXQgX3N1cHBvcnRzUmVzb2x1dGlvbigpe3JldHVybiB0aGlzLmNvbnRleHQuY2FwYWJpbGl0aWVzLnN1cHBvcnRzTXVsdGlwbGVSZXNvbHV0aW9ucyYmXCJwb2ludFwiIT09dGhpcy5jb250ZXh0Lmdlb21ldHJ5VHlwZX1fc2V0UmVzb2x1dGlvblBhcmFtcyhlLHQpe2NvbnN0IHM9dGhpcy5fZ2V0RWZmZWN0aXZlVGlsZVJlc29sdXRpb24odCk7bnVsbCE9cyYmKHRoaXMuY29udGV4dC5jYXBhYmlsaXRpZXMuc3VwcG9ydHNRdWFudGl6YXRpb24/ZS5xdWFudGl6YXRpb25QYXJhbWV0ZXJzPW5ldyBDKHttb2RlOlwidmlld1wiLG9yaWdpblBvc2l0aW9uOlwidXBwZXItbGVmdFwiLHRvbGVyYW5jZTpzLGV4dGVudDp0aGlzLmNvbnRleHQuZnVsbEV4dGVudH0pOlwicG9seWxpbmVcIj09PXRoaXMuY29udGV4dC5nZW9tZXRyeVR5cGUmJihlLm1heEFsbG93YWJsZU9mZnNldD1zKSl9X3JlbW92ZUVtcHR5RmVhdHVyZXMoZSx0KXtjb25zdCBpPWUubGVuZ3RoO2lmKHQmJnRoaXMuX3N1cHBvcnRzUmVzb2x1dGlvbil7Y29uc3QgaT10KigxK18oKSk7cyhlLCgoe2dlb21ldHJ5OmV9KT0+ISghZXx8IUUoZSkpJiYoYihlLEIpLHgoQik+aXx8dihCKT5pKSkpfWVsc2UgcyhlLCgoe2dlb21ldHJ5OmV9KT0+RShlKSkpO3JldHVybiBpLWUubGVuZ3RofV9uZWVkc051bUZlYXR1cmVzKGUpe3JldHVybiB0aGlzLnVzZVRpbGVDb3VudCYmZS5uZWVkc0ZlYXR1cmVDb3VudCYmIVEoZSl9X2dldE1heFJlY29yZENvdW50KGUpe3N3aXRjaCh0aGlzLl9yZXN1bHRUeXBlKGUpKXtjYXNlXCJ0aWxlXCI6aWYodGhpcy5jb250ZXh0LnRpbGVNYXhSZWNvcmRDb3VudClyZXR1cm4gdGhpcy5jb250ZXh0LnRpbGVNYXhSZWNvcmRDb3VudDticmVhaztjYXNlXCJzdGFuZGFyZFwiOmlmKHRoaXMuY29udGV4dC5zdGFuZGFyZE1heFJlY29yZENvdW50KXJldHVybiB0aGlzLmNvbnRleHQuc3RhbmRhcmRNYXhSZWNvcmRDb3VudH1yZXR1cm4gdGhpcy5jb250ZXh0Lm1heFJlY29yZENvdW50fHxWfV9yZXN1bHRUeXBlKGUpe2lmKHRoaXMuY29udGV4dC5jYXBhYmlsaXRpZXMuc3VwcG9ydHNSZXN1bHRUeXBlKXJldHVybiBRKGUpP1wic3RhbmRhcmRcIjpcInRpbGVcIn1nZXQgX3JlZHVjZU1vZGUoKXtjb25zdCBlPXRoaXMuY29udGV4dC5nZW9tZXRyeVR5cGU7cmV0dXJuXCJwb2x5Z29uXCI9PT1lfHxcInBvbHlsaW5lXCI9PT1lP0kuU0laRTpJLlJBTkRPTX1faGFuZGxlUmVxdWVzdChlLHQscyxpLHIpe2Uuc3RhcnRGZXRjaCgpLGUucmVxdWVzdENvbnRyb2xsZXI9cztsZXQgbj0hMTt0LnRoZW4oKHQ9PntlLnJlcXVlc3RDb250cm9sbGVyPW51bGwsaSh0KX0pKS5jYXRjaCgodD0+e2UucmVxdWVzdENvbnRyb2xsZXI9PT1zJiYoZS5yZXF1ZXN0Q29udHJvbGxlcj1udWxsLGUuZmV0Y2hEb25lKEEuRE9ORSkpLGEodCk/bj0hMDpyKHQpfSkpLnRoZW4oKCgpPT57bnx8dGhpcy5fc2V0RGlydHkoKSx0aGlzLl9zY2hlZHVsZVVwZGF0ZWQoKX0pKX1fc2NoZWR1bGVVcGRhdGVkKCl7dGhpcy5oYXNIYW5kbGVzKFwic2NoZWR1bGVVcGRhdGVkXCIpfHx0aGlzLmFkZEhhbmRsZXMoaCgoKCk9Pnt0aGlzLnJlbW92ZUhhbmRsZXMoXCJzY2hlZHVsZVVwZGF0ZWRcIiksdGhpcy5fdXBkYXRlZCgpfSkpLFwic2NoZWR1bGVVcGRhdGVkXCIpfV9zaG93VGlsZShlKXtpZihlLmRpc3BsYXlpbmdGZWF0dXJlcyYmIWUubmVlZHNEaXNwbGF5VXBkYXRlKXJldHVybiExO2NvbnN0IHQ9ZS5mZWF0dXJlcztpZigwPT09ZS5mZWF0dXJlTGltaXR8fCF0KXtjb25zdCB0PW51bGwhPWUuZGlzcGxheWluZ0ZlYXR1cmVzJiZlLmRpc3BsYXlpbmdGZWF0dXJlcy5sZW5ndGg+MDtyZXR1cm4gdGhpcy5faGlkZVRpbGVGZWF0dXJlcyhlKSxlLmRpc3BsYXlpbmdGZWF0dXJlcz1bXSx0fWNvbnN0IHM9ZS5mZXRjaGluZ1Jlc29sdXRpb24se2FkZHM6aSx1cGRhdGVzOnJ9PXRoaXMuX2NoYW5nZXMsYT1NYXRoLm1pbihlLmZlYXR1cmVMaW1pdCx0Lmxlbmd0aCk7Zm9yKGxldCBuPTA7bjxhOysrbil7Y29uc3QgZT10W25dLGE9UihlLHRoaXMuX29iamVjdElkRmllbGQpLG89dGhpcy5fZGlzcGxheWluZ0ZlYXR1cmVSZWZlcmVuY2VzLmdldChhKTtpZihvKXtjb25zdHtvbGRWZXJzaW9uOnQsbmV3VmVyc2lvbjppfT1vLnJlZihlLHMpO3QhPT1pJiYodCYmci5yZW1vdmVzLnB1c2godCksaSYmci5hZGRzLnB1c2goaSkpfWVsc2UgdGhpcy5fZGlzcGxheWluZ0ZlYXR1cmVSZWZlcmVuY2VzLnNldChhLG5ldyB0aGlzLkZlYXR1cmVSZWZlcmVuY2VDbGFzcyhlLHMpKSxpLnB1c2goZSk7dGhpcy5fbnVtRGlzcGxheWluZ0ZlYXR1cmVSZWZlcmVuY2VzKyt9cmV0dXJuIHRoaXMuX2hpZGVUaWxlRmVhdHVyZXMoZSksZS5kaXNwbGF5aW5nUmVzb2x1dGlvbj1lLmZldGNoaW5nUmVzb2x1dGlvbix0aGlzLl9hcHBseUNoYW5nZXMoKSxlLmRpc3BsYXlpbmdGZWF0dXJlcz10LnNsaWNlKDAsYSksITB9X2hpZGVUaWxlKGUpe3RoaXMuX2NhbmNlbEZldGNoVGlsZShlKSx0aGlzLl9oaWRlVGlsZUZlYXR1cmVzKGUpfV9oaWRlVGlsZUZlYXR1cmVzKGUpe2lmKG51bGw9PWUuZGlzcGxheWluZ0ZlYXR1cmVzKXJldHVybjtjb25zdHt1cGRhdGVzOnQscmVtb3ZlczpzfT10aGlzLl9jaGFuZ2VzO2Zvcihjb25zdCBpIG9mIGUuZGlzcGxheWluZ0ZlYXR1cmVzKXtjb25zdCByPVIoaSx0aGlzLl9vYmplY3RJZEZpZWxkKSxhPXRoaXMuX2Rpc3BsYXlpbmdGZWF0dXJlUmVmZXJlbmNlcy5nZXQocik7aWYoIWEpY29udGludWU7Y29uc3R7b2xkVmVyc2lvbjpuLG5ld1ZlcnNpb246b309YS51bnJlZihlLmRpc3BsYXlpbmdSZXNvbHV0aW9uKTt0aGlzLl9udW1EaXNwbGF5aW5nRmVhdHVyZVJlZmVyZW5jZXMtLSxuIT09byYmKG51bGw9PW8/KHRoaXMuX2Rpc3BsYXlpbmdGZWF0dXJlUmVmZXJlbmNlcy5kZWxldGUociksbiYmcy5wdXNoKG4pKToodC5hZGRzLnB1c2gobyksbiYmdC5yZW1vdmVzLnB1c2gobikpKX10aGlzLl9hcHBseUNoYW5nZXMoKSxlLmRpc3BsYXlpbmdGZWF0dXJlcz1udWxsfV9ub3RpZnlEYXRhVXBkYXRpbmcoKXt0aGlzLl9nZXQoXCJkYXRhVXBkYXRpbmdcIil8fHRoaXMuX3NldChcImRhdGFVcGRhdGluZ1wiLCEwKX1fYXBwbHlDaGFuZ2VzKCl7Y29uc3QgZT10aGlzLl9jaGFuZ2VzLnVwZGF0ZXM7ZS5yZW1vdmVzLmxlbmd0aD4wJiYodGhpcy5fbm90aWZ5RGF0YVVwZGF0aW5nKCksdGhpcy5mZWF0dXJlcy5yZW1vdmVNYW55KGUucmVtb3ZlcyksZS5yZW1vdmVzLmxlbmd0aD0wKSxlLmFkZHMubGVuZ3RoPjAmJih0aGlzLl9ub3RpZnlEYXRhVXBkYXRpbmcoKSx0aGlzLmZlYXR1cmVzLmFkZE1hbnkoZS5hZGRzKSxlLmFkZHMubGVuZ3RoPTApO2NvbnN0IHQ9dGhpcy5fY2hhbmdlcy5hZGRzLHM9dGhpcy5fY2hhbmdlcy5yZW1vdmVzLGk9TWF0aC5taW4odC5sZW5ndGgscy5sZW5ndGgpO2xldCByPTA7Zm9yKDtyPGk7KXtjb25zdCBlPU1hdGgubWluKHIrSixpKTt0aGlzLl9ub3RpZnlEYXRhVXBkYXRpbmcoKSx0aGlzLmZlYXR1cmVzLmFkZE1hbnkodC5zbGljZShyLGUpKSx0aGlzLmZlYXR1cmVzLnJlbW92ZU1hbnkocy5zbGljZShyLGUpKSxyPWV9dC5sZW5ndGg+aSYmKHRoaXMuX25vdGlmeURhdGFVcGRhdGluZygpLHRoaXMuZmVhdHVyZXMuYWRkTWFueSgwPT09cj90OnQuc2xpY2UocikpKSxzLmxlbmd0aD5pJiYodGhpcy5fbm90aWZ5RGF0YVVwZGF0aW5nKCksdGhpcy5mZWF0dXJlcy5yZW1vdmVNYW55KDA9PT1yP3M6cy5zbGljZShyKSkpLHQubGVuZ3RoPTAscy5sZW5ndGg9MH1fY2xlYXJUaWxlKGUpe3RoaXMuX2hpZGVUaWxlKGUpLGUuZmVhdHVyZXMmJm51bGwhPXRoaXMuY29udGV4dC5tZW1vcnlDYWNoZSYmdGhpcy5jb250ZXh0Lm1lbW9yeUNhY2hlLnB1dChlLmlkLGUuY2FjaGUpLGUuc2V0RmVhdHVyZXMobnVsbCwwLG51bGwsdm9pZCAwKSx0aGlzLl9pbnZhbGlkYXRlQ291bnRzKCl9X2ludmFsaWRhdGVDb3VudHMoKXt0aGlzLm5vdGlmeUNoYW5nZShcInRvdGFsVmVydGljZXNcIiksdGhpcy5ub3RpZnlDaGFuZ2UoXCJ0b3RhbEZlYXR1cmVzXCIpLHRoaXMubm90aWZ5Q2hhbmdlKFwibWVtb3J5Rm9yVW51c2VkRmVhdHVyZXNcIil9Z2V0IF9mZWF0dXJlVGlsZXNBcnJheSgpe3JldHVybiBBcnJheS5mcm9tKHRoaXMuX2ZlYXR1cmVUaWxlcy52YWx1ZXMoKSl9Z2V0IGZlYXR1cmVUaWxlcygpe3JldHVybiB0aGlzLl9mZWF0dXJlVGlsZXN9Z2V0IHN0b3JlZEZlYXR1cmVzKCl7cmV0dXJuIHRoaXMuX2ZlYXR1cmVUaWxlc0FycmF5LnJlZHVjZSgoKGUsdCk9PmUrKHQuZmVhdHVyZXM/dC5mZWF0dXJlcy5sZW5ndGg6MCkpLDApfWdldCBtaXNzaW5nVGlsZXMoKXtyZXR1cm4gQXJyYXkuZnJvbSh0aGlzLl9mZWF0dXJlVGlsZXMudmFsdWVzKCkpLnJlZHVjZSgoKGUsdCk9PmUrKHQubmVlZHNGZXRjaHx8dC5pc0ZldGNoaW5nPzE6MCkpLDApfV90b3RhbEZlYXR1cmVzRm9yVGlsZShlKXtyZXR1cm4gZS5oYXNQcmVjaXNlRmVhdHVyZUNvdW50P2UubnVtRmVhdHVyZXM6dGhpcy5tYXhpbXVtTnVtYmVyT2ZGZWF0dXJlc31fbWF4aW11bUZlYXR1cmVzRm9yVGlsZShlKXtjb25zdCB0PXRoaXMuX3RvdGFsRmVhdHVyZXNGb3JUaWxlKGUpLHM9dGhpcy5fZnVsbFJhdGlvPDE/dGhpcy5fZmFyUmF0aW86MTtyZXR1cm4gTWF0aC5taW4oTWF0aC5jZWlsKHQqcy8oMS1lLmVtcHR5RmVhdHVyZVJhdGlvKSksdCl9Z2V0IHRlc3QoKXt9fTtmdW5jdGlvbiBRKGUpe3JldHVyblwiZHVtbXktdGlsZS1mdWxsLWV4dGVudFwiPT09ZS5pZH1mdW5jdGlvbiBTKGUpe2xldCB0PTA7Zm9yKGNvbnN0IHMgb2YgZSlzLmZlYXR1cmVzJiZzLmZlYXR1cmVzLmxlbmd0aD4wJiZzLmFsaXZlJiYodD1NYXRoLm1heCh0LHMuZGVzY3JpcHRvci5saWpbMF0pKTtyZXR1cm4gdH1mdW5jdGlvbiBMKGUpe2Uuc2V0RmVhdHVyZXMoW10sMCxudWxsLHZvaWQgMCl9ZnVuY3Rpb24gayhlKXtyZXR1cm4gbnVsbD09ZT9uZXcgU2V0Om5ldyBTZXQoZS5tYXAoKGU9PmUubmFtZSkpKX1mdW5jdGlvbiBIKGUsdCl7aWYobnVsbD09ZXx8bnVsbD09dClyZXR1cm4gayh0KTtjb25zdCBzPW5ldyBTZXQ7Zm9yKGNvbnN0e25hbWU6aX1vZiB0KWUuaGFzKGkpJiZzLmFkZChpKTtyZXR1cm4gc31mdW5jdGlvbiBaKGUsdCl7aWYoIXQ/Lmxlbmd0aClyZXR1cm4gZTtlPz89bmV3IE1hcDtjb25zdCBzPSgpPT5uZXcgU2V0O2Zvcihjb25zdHtvYmplY3RJZDppLGF0dHJpYnV0ZTphfW9mIHQpcihlLGkscykuYWRkKGEpO3JldHVybiBlfWUoW3Aoe2NvbnN0cnVjdE9ubHk6ITB9KV0scS5wcm90b3R5cGUsXCJmZWF0dXJlc1wiLHZvaWQgMCksZShbcCgpXSxxLnByb3RvdHlwZSxcInRpbGVEZXNjcmlwdG9yc1wiLHZvaWQgMCksZShbcCh7dmFsdWU6MS8wfSldLHEucHJvdG90eXBlLFwibWF4aW11bU51bWJlck9mRmVhdHVyZXNcIixudWxsKSxlKFtwKHt2YWx1ZToxfSldLHEucHJvdG90eXBlLFwibWVtb3J5RmFjdG9yXCIsbnVsbCksZShbcCh7dmFsdWU6MX0pXSxxLnByb3RvdHlwZSxcImxvZEZhY3RvclwiLG51bGwpLGUoW3AoKV0scS5wcm90b3R5cGUsXCJ1c2VUaWxlQ291bnRcIixudWxsKSxlKFtwKHtyZWFkT25seTohMH0pXSxxLnByb3RvdHlwZSxcInVwZGF0aW5nXCIsbnVsbCksZShbcCh7cmVhZE9ubHk6ITB9KV0scS5wcm90b3R5cGUsXCJkYXRhVXBkYXRpbmdcIix2b2lkIDApLGUoW3Aoe3JlYWRPbmx5OiEwfSldLHEucHJvdG90eXBlLFwidXBkYXRpbmdUb3RhbFwiLHZvaWQgMCksZShbcCh7cmVhZE9ubHk6ITB9KV0scS5wcm90b3R5cGUsXCJ1cGRhdGluZ1JlbWFpbmluZ1wiLHZvaWQgMCksZShbcCh7cmVhZE9ubHk6ITB9KV0scS5wcm90b3R5cGUsXCJleHBlY3RlZEZlYXR1cmVEaWZmXCIsdm9pZCAwKSxlKFtwKHtyZWFkT25seTohMH0pXSxxLnByb3RvdHlwZSxcIm1lbW9yeUZvclVudXNlZEZlYXR1cmVzXCIsbnVsbCksZShbcCh7cmVhZE9ubHk6ITB9KV0scS5wcm90b3R5cGUsXCJtYXhpbXVtTnVtYmVyT2ZGZWF0dXJlc0V4Y2VlZGVkXCIsdm9pZCAwKSxlKFtwKHtyZWFkT25seTohMH0pXSxxLnByb3RvdHlwZSxcInRvdGFsVmVydGljZXNcIixudWxsKSxlKFtwKHtyZWFkT25seTohMH0pXSxxLnByb3RvdHlwZSxcInRvdGFsRmVhdHVyZXNcIixudWxsKSxlKFtwKHtyZWFkT25seTohMH0pXSxxLnByb3RvdHlwZSxcInNob3dzQWxsRmVhdHVyZXNcIixudWxsKSxlKFtwKHtyZWFkT25seTohMH0pXSxxLnByb3RvdHlwZSxcImhhc0Z1bGxHZW9tZXRyaWVzXCIsbnVsbCksZShbcCgpXSxxLnByb3RvdHlwZSxcImZpbHRlckV4dGVudFwiLG51bGwpLGUoW3Aoe2NvbnN0cnVjdE9ubHk6ITB9KV0scS5wcm90b3R5cGUsXCJjb250ZXh0XCIsdm9pZCAwKSxlKFtwKCldLHEucHJvdG90eXBlLFwiX2RpcnR5XCIsdm9pZCAwKSxlKFtwKCldLHEucHJvdG90eXBlLFwiX3N1c3BlbmRlZFwiLHZvaWQgMCksZShbcCgpXSxxLnByb3RvdHlwZSxcIl9wZW5kaW5nRWRpdHNcIix2b2lkIDApLGUoW3AoKV0scS5wcm90b3R5cGUsXCJfYXBwbHlFZGl0c1RpbGVzVXBkYXRlZFwiLHZvaWQgMCksZShbcCgpXSxxLnByb3RvdHlwZSxcIl9wYXVzZWRcIixudWxsKSxlKFtwKCldLHEucHJvdG90eXBlLFwiX2lzRmV0Y2hpbmdcIix2b2lkIDApLHE9ZShbZihcImVzcmkudmlld3MuM2QubGF5ZXJzLnN1cHBvcnQuRmVhdHVyZVRpbGVGZXRjaGVyM0RcIildLHEpO2NvbnN0IFY9MmUzLEc9bSgpLCQ9bSgpLEI9bSgpLFg9NmU1LEo9MjAwO2V4cG9ydHtxIGFzIEZlYXR1cmVUaWxlRmV0Y2hlcjNEfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjMzL2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnQgZSBmcm9tXCIuLi8uLi8uLi8uLi9Db2xvci5qc1wiO2ltcG9ydCB0IGZyb21cIi4uLy4uLy4uLy4uL0dyYXBoaWMuanNcIjtpbXBvcnQgaSBmcm9tXCIuLi8uLi8uLi8uLi9jb3JlL0NvbGxlY3Rpb24uanNcIjtpbXBvcnQgcyBmcm9tXCIuLi8uLi8uLi8uLi9jb3JlL0hhbmRsZXMuanNcIjtpbXBvcnR7d2F0Y2ggYXMgbyxpbml0aWFsIGFzIHJ9ZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9yZWFjdGl2ZVV0aWxzLmpzXCI7aW1wb3J0IGEgZnJvbVwiLi4vLi4vLi4vLi4vZ2VvbWV0cnkvUG9seWdvbi5qc1wiO2ltcG9ydCBsIGZyb21cIi4uLy4uLy4uLy4uL3N5bWJvbHMvRmlsbFN5bWJvbDNETGF5ZXIuanNcIjtpbXBvcnQgbiBmcm9tXCIuLi8uLi8uLi8uLi9zeW1ib2xzL1BvaW50U3ltYm9sM0QuanNcIjtpbXBvcnQgaCBmcm9tXCIuLi8uLi8uLi8uLi9zeW1ib2xzL1BvbHlnb25TeW1ib2wzRC5qc1wiO2ltcG9ydCBjIGZyb21cIi4uLy4uLy4uLy4uL3N5bWJvbHMvVGV4dFN5bWJvbDNETGF5ZXIuanNcIjtpbXBvcnQgbSBmcm9tXCIuLi8uLi8uLi8uLi9zeW1ib2xzL2NhbGxvdXRzL0xpbmVDYWxsb3V0M0QuanNcIjtpbXBvcnQgZCBmcm9tXCIuLi8uLi8uLi8uLi9zeW1ib2xzL2NhbGxvdXRzL0xpbmVDYWxsb3V0M0RCb3JkZXIuanNcIjtpbXBvcnQgcCBmcm9tXCIuLi8uLi8uLi8uLi9zeW1ib2xzL3N1cHBvcnQvU3ltYm9sM0RWZXJ0aWNhbE9mZnNldC5qc1wiO2ltcG9ydHtUaWxpbmdTY2hlbWUgYXMgeX1mcm9tXCIuLi8uLi90ZXJyYWluL1RpbGluZ1NjaGVtZS5qc1wiO2NvbnN0IF89W1swLDE3OSwyNTVdLFsxMTcsNjIsMTI4XSxbMCwxMDQsMjU1XSxbMjE1LDE4OSwxNjZdLFszMiwwLDE5M10sWzk4LDE2MiwyMDZdLFsxMDIsMTEyLDEyOV0sWzUyLDEyNSwwXSxbMTQyLDExOCwyNDZdLFsxMzgsODMsMF0sWzkyLDEyMiwyNTVdLFsxMjIsNTUsODNdLFswLDE0MiwyNTVdLFs4MSw0MCwxNzldLFswLDIwMCwyNDRdLFsxMywyNCwxMjddLFswLDE3MCwxNDddLFsxOSw1OCwyNDFdLFsyMiw0NCwzNV1dO2NsYXNzIGJ7Y29uc3RydWN0b3IoZSx0LG8pe3RoaXMuX3RpbGVGZXRjaGVyPWUsdGhpcy5fdmlldz1vLHRoaXMuX2hhbmRsZXM9bmV3IHMsdGhpcy5fbG9hZGluZ0dyYXBoaWNzPW5ldyBNYXAsdGhpcy5fbG9hZGluZ1N5bWJvbHM9W25ldyBoKHtzeW1ib2xMYXllcnM6bmV3IGkoW25ldyBsKHttYXRlcmlhbDp7Y29sb3I6WzIwMCwyMDAsMjAwLC40XX0sb3V0bGluZTp7Y29sb3I6WzMwLDMwLDMwXSxzaXplOjF9fSldKX0pXSx0aGlzLl9sb2FkZWRHcmFwaGljcz1uZXcgTWFwLHRoaXMuX2xvYWRlZFN5bWJvbHM9Xy5tYXAoKGU9Pm5ldyBoKHtzeW1ib2xMYXllcnM6bmV3IGkoW25ldyBsKHttYXRlcmlhbDp7Y29sb3I6W2VbMF0sZVsxXSxlWzJdLC42XX0sb3V0bGluZTp7Y29sb3I6XCJibGFja1wiLHNpemU6MX19KV0pfSkpKSx0aGlzLl9wZW5kaW5nR3JhcGhpY3M9bmV3IE1hcCx0aGlzLl9wZW5kaW5nU3ltYm9scz1bbmV3IGgoe3N5bWJvbExheWVyczpuZXcgaShbbmV3IGwoe21hdGVyaWFsOntjb2xvcjpbMTAwLDEwMCwxMDAsLjRdfSxvdXRsaW5lOntjb2xvcjpbMzAsMzAsMzBdLHNpemU6MX19KV0pfSldLHRoaXMuX2RhdGFFeHRlbnRHcmFwaGljPW51bGwsdGhpcy5fZGF0YUV4dGVudFN5bWJvbD1uZXcgaCh7c3ltYm9sTGF5ZXJzOm5ldyBpKFtuZXcgbCh7bWF0ZXJpYWw6e2NvbG9yOlswLDAsMCwwXX0sb3V0bGluZTp7Y29sb3I6XCJncmVlblwiLHNpemU6NH19KV0pfSksdGhpcy5fZW5hYmxlZD0hMCx0aGlzLl90aWxpbmdTY2hlbWU9bmV3IHkodCksdGhpcy51cGRhdGUoKX1kZXN0cm95KCl7dGhpcy5lbmFibGVkPSExLHRoaXMuX2hhbmRsZXMuZGVzdHJveSgpfWdldCBlbmFibGVkKCl7cmV0dXJuIHRoaXMuX2VuYWJsZWR9c2V0IGVuYWJsZWQoZSl7dGhpcy5fZW5hYmxlZD1lLHRoaXMudXBkYXRlKCl9dXBkYXRlKCl7dGhpcy5fZW5hYmxlZD8odGhpcy5fc3luY2hyb25pemVNYXBzKHRoaXMuX2xvYWRpbmdHcmFwaGljcyx7ZmlsdGVyOih7aXNGZXRjaGluZzplfSk9PmUsc3ltYm9sczp0aGlzLl9sb2FkaW5nU3ltYm9sc30pLHRoaXMuX3N5bmNocm9uaXplTWFwcyh0aGlzLl9sb2FkZWRHcmFwaGljcyx7ZmlsdGVyOmU9PiFlLmlzRmV0Y2hpbmcsc3ltYm9sczp0aGlzLl9sb2FkZWRTeW1ib2xzfSksdGhpcy5fc3luY2hyb25pemVNYXBzKHRoaXMuX3BlbmRpbmdHcmFwaGljcyx7ZmlsdGVyOih7aXNGZXRjaGluZzplfSk9PiFlLHN5bWJvbHM6dGhpcy5fcGVuZGluZ1N5bWJvbHN9KSx0aGlzLnNob3dEYXRhRXh0ZW50KHRoaXMuX3RpbGVGZXRjaGVyLmZpbHRlckV4dGVudCkpOih0aGlzLl9sb2FkaW5nR3JhcGhpY3MuZm9yRWFjaCgoZT0+dGhpcy5fdmlldy5ncmFwaGljcy5yZW1vdmVNYW55KGUpKSksdGhpcy5fbG9hZGluZ0dyYXBoaWNzLmNsZWFyKCksdGhpcy5fbG9hZGVkR3JhcGhpY3MuZm9yRWFjaCgoZT0+dGhpcy5fdmlldy5ncmFwaGljcy5yZW1vdmVNYW55KGUpKSksdGhpcy5fbG9hZGVkR3JhcGhpY3MuY2xlYXIoKSx0aGlzLl9wZW5kaW5nR3JhcGhpY3MuZm9yRWFjaCgoZT0+dGhpcy5fdmlldy5ncmFwaGljcy5yZW1vdmVNYW55KGUpKSksdGhpcy5fcGVuZGluZ0dyYXBoaWNzLmNsZWFyKCksdGhpcy5fZGF0YUV4dGVudEdyYXBoaWMmJih0aGlzLl92aWV3LmdyYXBoaWNzLnJlbW92ZSh0aGlzLl9kYXRhRXh0ZW50R3JhcGhpYyksdGhpcy5fZGF0YUV4dGVudEdyYXBoaWM9bnVsbCkpfXNob3dEYXRhRXh0ZW50KGUpe2lmKHRoaXMuX2RhdGFFeHRlbnRHcmFwaGljJiYodGhpcy5fdmlldy5ncmFwaGljcy5yZW1vdmUodGhpcy5fZGF0YUV4dGVudEdyYXBoaWMpLHRoaXMuX2RhdGFFeHRlbnRHcmFwaGljPW51bGwpLG51bGw9PWUpcmV0dXJuO2NvbnN0IGk9YS5mcm9tRXh0ZW50KGUpO3RoaXMuX2RhdGFFeHRlbnRHcmFwaGljPW5ldyB0KHtnZW9tZXRyeTppLHN5bWJvbDp0aGlzLl9kYXRhRXh0ZW50U3ltYm9sfSksdGhpcy5fdmlldy5ncmFwaGljcy5hZGQodGhpcy5fZGF0YUV4dGVudEdyYXBoaWMpfV9zeW5jaHJvbml6ZU1hcHMoZSx0KXtjb25zdCBpPXRoaXMuX3RpbGVGZXRjaGVyLmZlYXR1cmVUaWxlcztlLmZvckVhY2goKChzLG8pPT57Y29uc3Qgcj1pLmdldChvKTtyJiZ0LmZpbHRlcihyKXx8KHRoaXMuX3ZpZXcuZ3JhcGhpY3MucmVtb3ZlTWFueShzKSxlLmRlbGV0ZShvKSl9KSksdGhpcy5faGFuZGxlcy5yZW1vdmVBbGwoKSxpLmZvckVhY2goKGk9Pnt0LmZpbHRlcihpKSYmIWUuaGFzKGkuaWQpJiZ0aGlzLl9oYW5kbGVzLmFkZChvKCgoKT0+aS5mZXRjaEluZm9ybWF0aW9uKSwoKCk9PnRoaXMuX3Nob3dUaWxlKGksZSx0KSkscikpfSkpfV9zaG93VGlsZShzLG8scil7Y29uc3RbYSxsLGhdPXMuZGVzY3JpcHRvci5saWose251bUZlYXR1cmVzOnksZmVhdHVyZUxpbWl0Ol8sZmVhdHVyZXM6Yn09czt0aGlzLl90aWxpbmdTY2hlbWUuZW5zdXJlTWF4TG9kKGEpO2NvbnN0IGc9dGhpcy5fdGlsaW5nU2NoZW1lLmdldEV4dGVudEdlb21ldHJ5KGEsbCxoKSx3PW5ldyB0KHtnZW9tZXRyeTpnLHN5bWJvbDpyLnN5bWJvbHNbYSVyLnN5bWJvbHMubGVuZ3RoXX0pLGY9YFRpbGUgJHtzLmlkfVxcbmxvYWRlZC9saW1pdC90b3RhbFxcbiR7Yj8ubGVuZ3RofS8ke199LyR7eX1cXG5yZXMgJHtNYXRoLnJvdW5kKHMuZGlzcGxheWluZ1Jlc29sdXRpb24pfSAke3MuZmVhdHVyZXNNaXNzaW5nP1wic29tZVwiOlwiYWxsXCJ9XFxuJHtzLmZldGNoSW5mb3JtYXRpb24udmFsdWV9YCx1PW5ldyB0KHtnZW9tZXRyeTpnLmNlbnRlcixzeW1ib2w6bmV3IG4oe3ZlcnRpY2FsT2Zmc2V0Om5ldyBwKHtzY3JlZW5MZW5ndGg6NDAvLjc1fSksY2FsbG91dDpuZXcgbSh7Y29sb3I6bmV3IGUoXCJ3aGl0ZVwiKSxib3JkZXI6bmV3IGQoe2NvbG9yOm5ldyBlKFwiYmxhY2tcIil9KX0pLHN5bWJvbExheWVyczpuZXcgaShbbmV3IGMoe3RleHQ6ZixoYWxvOntjb2xvcjpcIndoaXRlXCIsc2l6ZToxLy43NX0sbWF0ZXJpYWw6e2NvbG9yOlwiYmxhY2tcIn0sc2l6ZToxNn0pXSl9KX0pLEc9by5nZXQocy5pZCk7RyYmdGhpcy5fdmlldy5ncmFwaGljcy5yZW1vdmVNYW55KEcpO2NvbnN0IHY9W3csdV07by5zZXQocy5pZCx2KSx0aGlzLl92aWV3LmdyYXBoaWNzLmFkZE1hbnkodil9fWV4cG9ydHtiIGFzIEZlYXR1cmVUaWxlRmV0Y2hlcjNERGVidWdnZXJ9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMzMvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtfIGFzIGV9ZnJvbVwiLi4vLi4vLi4vLi4vY2h1bmtzL3RzbGliLmVzNi5qc1wiO2ltcG9ydHtpc1NvbWUgYXMgdH1mcm9tXCIuLi8uLi8uLi8uLi9jb3JlL2FycmF5VXRpbHMuanNcIjtpbXBvcnR7bWFrZUhhbmRsZSBhcyByfWZyb21cIi4uLy4uLy4uLy4uL2NvcmUvaGFuZGxlVXRpbHMuanNcIjtpbXBvcnRcIi4uLy4uLy4uLy4uL2NvcmUvaGFzLmpzXCI7aW1wb3J0IGkgZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9Mb2dnZXIuanNcIjtpbXBvcnR7ZXN0aW1hdGVBdHRyaWJ1dGVzTWVtb3J5IGFzIGEsZXN0aW1hdGVGaXhlZEFycmF5TWVtb3J5IGFzIHMsZXN0aW1hdGVOdW1iZXJNZW1vcnkgYXMgb31mcm9tXCIuLi8uLi8uLi8uLi9jb3JlL21lbW9yeUVzdGltYXRpb25zLmpzXCI7aW1wb3J0IG4gZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9Qcm9taXNlLmpzXCI7aW1wb3J0e2luaXRpYWwgYXMgbCxzeW5jIGFzIHAsd2F0Y2ggYXMgZH1mcm9tXCIuLi8uLi8uLi8uLi9jb3JlL3JlYWN0aXZlVXRpbHMuanNcIjtpbXBvcnR7cHQycHggYXMgdX1mcm9tXCIuLi8uLi8uLi8uLi9jb3JlL3NjcmVlblV0aWxzLmpzXCI7aW1wb3J0e3Byb3BlcnR5IGFzIG19ZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9wcm9wZXJ0eS5qc1wiO2ltcG9ydHtzdWJjbGFzcyBhcyBofWZyb21cIi4uLy4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvc3ViY2xhc3MuanNcIjtpbXBvcnR7Y3JlYXRlIGFzIGN9ZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9saWJzL2dsLW1hdHJpeC0yL2ZhY3Rvcmllcy92ZWMzZjY0LmpzXCI7aW1wb3J0e1VwZGF0aW5nSGFuZGxlcyBhcyB5fWZyb21cIi4uLy4uLy4uLy4uL2NvcmUvc3VwcG9ydC9VcGRhdGluZ0hhbmRsZXMuanNcIjtpbXBvcnR7cHJvamVjdFBvaW50VG9WZWN0b3IgYXMgX31mcm9tXCIuLi8uLi8uLi8uLi9nZW9tZXRyeS9wcm9qZWN0aW9uL3Byb2plY3RQb2ludFRvVmVjdG9yLmpzXCI7aW1wb3J0e2dldENvbnRpbnVvdXNJbmRleEFycmF5IGFzIGd9ZnJvbVwiLi4vLi4vLi4vLi4vZ2VvbWV0cnkvc3VwcG9ydC9JbmRpY2VzLmpzXCI7aW1wb3J0e2dldFJlc29sdXRpb25Gb3JTY2FsZSBhcyBmfWZyb21cIi4uLy4uLy4uLy4uL2dlb21ldHJ5L3N1cHBvcnQvc2NhbGVVdGlscy5qc1wiO2ltcG9ydHtnZXRPYmplY3RJZCBhcyBSfWZyb21cIi4uLy4uLy4uLy4uL2xheWVycy9ncmFwaGljcy9kZWh5ZHJhdGVkRmVhdHVyZXMuanNcIjtpbXBvcnR7Y29udmVydEZyb21Qb2ludCBhcyBGfWZyb21cIi4uLy4uLy4uLy4uL2xheWVycy9ncmFwaGljcy9mZWF0dXJlQ29udmVyc2lvblV0aWxzLmpzXCI7aW1wb3J0e09wdGltaXplZEZlYXR1cmUgYXMgYn1mcm9tXCIuLi8uLi8uLi8uLi9sYXllcnMvZ3JhcGhpY3MvT3B0aW1pemVkRmVhdHVyZS5qc1wiO2ltcG9ydCB2IGZyb21cIi4uLy4uLy4uLy4uL2xheWVycy9ncmFwaGljcy9PcHRpbWl6ZWRHZW9tZXRyeS5qc1wiO2ltcG9ydCB3IGZyb21cIi4uLy4uLy4uLy4uL2xheWVycy9ncmFwaGljcy9kYXRhL0ZlYXR1cmVTdG9yZS5qc1wiO2ltcG9ydHtpc051bWVyaWNGaWVsZCBhcyBTfWZyb21cIi4uLy4uLy4uLy4uL2xheWVycy9zdXBwb3J0L2ZpZWxkVXRpbHMuanNcIjtpbXBvcnR7Z2VuZXJhdGVHcmFkaWVudCBhcyBQfWZyb21cIi4uLy4uLy4uLy4uL3JlbmRlcmVycy9zdXBwb3J0L2hlYXRtYXBVdGlscy5qc1wiO2ltcG9ydHtEcmFwZVNvdXJjZVR5cGUgYXMgan1mcm9tXCIuLi9pbnRlcmZhY2VzLmpzXCI7aW1wb3J0e0Rpc3BsYXlGZWF0dXJlTGltaXQgYXMgVH1mcm9tXCIuLi9ncmFwaGljcy9EaXNwbGF5RmVhdHVyZUxpbWl0LmpzXCI7aW1wb3J0e0dyYXBoaWNzQ29yZVBlcmZvcm1hbmNlSW5mbyBhcyBWfWZyb21cIi4uL2dyYXBoaWNzL0dyYXBoaWNzQ29yZVBlcmZvcm1hbmNlSW5mby5qc1wiO2ltcG9ydHtGZWF0dXJlVmlzaWJpbGl0eUZpbHRlciBhcyBHfWZyb21cIi4vRmVhdHVyZVZpc2liaWxpdHlGaWx0ZXIuanNcIjtpbXBvcnR7ZW1wdHlIaWdobGlnaHRIYW5kbGUgYXMgeH1mcm9tXCIuL2hpZ2hsaWdodFV0aWxzLmpzXCI7aW1wb3J0e2RyYXBlZFogYXMgSX1mcm9tXCIuLi8uLi90ZXJyYWluL092ZXJsYXlSZW5kZXJlci5qc1wiO2ltcG9ydHtBdHRyaWJ1dGUgYXMgTX1mcm9tXCIuLi8uLi93ZWJnbC1lbmdpbmUvbGliL0F0dHJpYnV0ZS5qc1wiO2ltcG9ydHtEcmFwZWRIZWF0bWFwUmVuZGVyZXIgYXMgQX1mcm9tXCIuLi8uLi93ZWJnbC1lbmdpbmUvbGliL0RyYXBlZEhlYXRtYXBSZW5kZXJlci5qc1wiO2ltcG9ydHtHZW9tZXRyeSBhcyBOfWZyb21cIi4uLy4uL3dlYmdsLWVuZ2luZS9saWIvR2VvbWV0cnkuanNcIjtpbXBvcnR7RGlydHlPcGVyYXRpb24gYXMgVSxEaXJ0eVN0YXRlIGFzIEh9ZnJvbVwiLi4vLi4vd2ViZ2wtZW5naW5lL2xpYi9Nb2RlbERpcnR5VHlwZXMuanNcIjtpbXBvcnR7UmVuZGVyR2VvbWV0cnkgYXMgT31mcm9tXCIuLi8uLi93ZWJnbC1lbmdpbmUvbGliL1JlbmRlckdlb21ldHJ5LmpzXCI7aW1wb3J0e1VwZGF0ZVBvbGljeSBhcyBMfWZyb21cIi4uLy4uL3dlYmdsLWVuZ2luZS9saWIvVXBkYXRlUG9saWN5LmpzXCI7aW1wb3J0e1ZlcnRleEF0dHJpYnV0ZSBhcyBFfWZyb21cIi4uLy4uL3dlYmdsLWVuZ2luZS9saWIvVmVydGV4QXR0cmlidXRlLmpzXCI7aW1wb3J0e0hlYXRtYXBEZW5zaXR5TWF0ZXJpYWwgYXMgRH1mcm9tXCIuLi8uLi93ZWJnbC1lbmdpbmUvbWF0ZXJpYWxzL0hlYXRtYXBEZW5zaXR5TWF0ZXJpYWwuanNcIjtpbXBvcnR7c2NhbGVCb3VuZHNQcmVkaWNhdGUgYXMgQyxpc1NjYWxlUmFuZ2VBY3RpdmUgYXMgQn1mcm9tXCIuLi8uLi8uLi9zdXBwb3J0L2xheWVyVmlld1V0aWxzLmpzXCI7aW1wb3J0e1BpeGVsVHlwZSBhcyBXLFBpeGVsRm9ybWF0IGFzIFp9ZnJvbVwiLi4vLi4vLi4vd2ViZ2wvZW51bXMuanNcIjtpbXBvcnR7bG9hZEhlYXRtYXBUZXh0dXJlQ29uZmlndXJhdGlvbiBhcyAkLGZhbGxCYWNrSGVhdG1hcENvbmZpZ3VyYXRpb24gYXMgcX1mcm9tXCIuLi8uLi8uLi93ZWJnbC9oZWF0bWFwVGV4dHVyZVV0aWxzLmpzXCI7aW1wb3J0e0dlb21ldHJ5VHlwZSBhcyB6fWZyb21cIi4uLy4uL3dlYmdsLWVuZ2luZS9saWIvSW50ZXJzZWN0YWJsZUdlb21ldHJ5LmpzXCI7Y29uc3QgWT0xMTI7bGV0IGs9Y2xhc3MgZXh0ZW5kcyBue2NvbnN0cnVjdG9yKGUpe3N1cGVyKGUpLHRoaXMudHlwZT1cImhlYXRtYXBcIix0aGlzLnByZWZlcnJlZFVwZGF0ZVBvbGljeT1MLkFTWU5DLHRoaXMuZGF0YUV4dGVudD1udWxsLHRoaXMuZHJhcGVTb3VyY2VUeXBlPWouRmVhdHVyZXMsdGhpcy5fcmVuZGVyR2VvbWV0cmllcz1uZXcgTWFwLHRoaXMuX2ZpZWxkVG90YWw9MCx0aGlzLl9kcmFwZVNvdXJjZVJlbmRlcmVyPW51bGwsdGhpcy5fZGF0YVR5cGU9Vy5IQUxGX0ZMT0FULHRoaXMuX3BpeGVsRm9ybWF0PVouUkdCQSx0aGlzLl91cGRhdGluZ0hhbmRsZXM9bmV3IHl9aW5pdGlhbGl6ZSgpe2xldCBlO3RyeXtlPSQodGhpcy5fcmVuZGVyVmlldy5yZW5kZXJpbmdDb250ZXh0LGkuZ2V0TG9nZ2VyKHRoaXMpKX1jYXRjaChoKXt0aGlzLmFkZFJlc29sdmluZ1Byb21pc2UoUHJvbWlzZS5yZWplY3QoaCkpLGU9cX1jb25zdHtkYXRhVHlwZTp0LHNhbXBsaW5nTW9kZTphLHBpeGVsRm9ybWF0OnMsaW50ZXJuYWxGb3JtYXQ6b309ZTt0aGlzLl9mZWF0dXJlU3RvcmU9bmV3IHcoe2dlb21ldHJ5VHlwZTpcImVzcmlHZW9tZXRyeVBvaW50XCIsaGFzWjp0aGlzLmhhc1osaGFzTTp0aGlzLmhhc019KSx0aGlzLl9kYXRhVHlwZT10LHRoaXMuX3BpeGVsRm9ybWF0PXM7Y29uc3Qgbj10IT09Vy5GTE9BVCx1PXRoaXMudmlldy5iYXNlbWFwVGVycmFpbi5vdmVybGF5TWFuYWdlcixtPXsuLi50aGlzLl9yZW5kZXJlclBhcmFtZXRlcnMsc3RhZ2U6dGhpcy52aWV3LnN0YWdlLGRhdGFUeXBlOnQsc2FtcGxpbmdNb2RlOmEscGl4ZWxGb3JtYXQ6cyxpbnRlcm5hbEZvcm1hdDpvLHJlbmRlcmVyQ29udGV4dDp1LnJlbmRlcmVyLGRyYXBlU291cmNlOnRoaXN9O3RoaXMuX2RyYXBlU291cmNlUmVuZGVyZXI9bmV3IEEobSksdS5yZWdpc3RlckRyYXBlU291cmNlKHRoaXMsdGhpcy5fZHJhcGVTb3VyY2VSZW5kZXJlciksdGhpcy5fbWF0ZXJpYWw9bmV3IEQoe3VzZXNIYWxmRmxvYXRzOm59KSx0aGlzLl9tYXRlcmlhbFdpdGhGaWVsZD1uZXcgRCh7dXNlc0hhbGZGbG9hdHM6bixpc0F0dHJpYnV0ZURyaXZlbjohMH0pLHRoaXMuX2ZpbHRlclZpc2liaWxpdHk9bmV3IEcoe2NvbnRleHQ6e2NvbmZpZ3VyYXRpb246dGhpcy5vd25lcixmZWF0dXJlU3RvcmU6dGhpcy5mZWF0dXJlU3RvcmUsZ2V0RmVhdHVyZUNvdW50OigpPT50aGlzLl9sb2FkZWRQb2ludEdyYXBoaWNzLmxlbmd0aCxzZXRBbGxGZWF0dXJlc1Zpc2liaWxpdHk6ZT0+dGhpcy5fc2V0QWxsRmVhdHVyZXNWaXNpYmlsaXR5KGUpLGNsZWFyRmVhdHVyZXNWaXNpYmlsaXR5OigpPT50aGlzLl9zZXRBbGxGZWF0dXJlc1Zpc2liaWxpdHkoITApLHVwZGF0ZUZlYXR1cmVWaXNpYmlsaXRpZXM6ZT0+dGhpcy5fdXBkYXRlRmVhdHVyZVZpc2liaWxpdGllcyhlKX19KSx0aGlzLl91cGRhdGluZ0hhbmRsZXMuYWRkT25Db2xsZWN0aW9uQ2hhbmdlKCgoKT0+dGhpcy5fbG9hZGVkUG9pbnRHcmFwaGljcyksKGU9PnRoaXMuX29uTG9hZGVkRmVhdHVyZXNDaGFuZ2UoZSkpLGwpLHRoaXMuX3VwZGF0aW5nSGFuZGxlcy5hZGRXaGVuKCgoKT0+dGhpcy5fbWF0ZXJpYWxQYXJhbWV0ZXJzKSwoZT0+dGhpcy5fZm9yRWFjaE1hdGVyaWFsKCh0PT50LnNldFBhcmFtZXRlcnMoZSkpKSksbCksdGhpcy5fdXBkYXRpbmdIYW5kbGVzLmFkZCgoKCk9PnRoaXMuX3JlbmRlcmVyUGFyYW1ldGVycyksKGU9PnRoaXMuX2RyYXBlU291cmNlUmVuZGVyZXIuc2V0KGUpKSksdGhpcy5fdXBkYXRpbmdIYW5kbGVzLmFkZCgoKCk9PnRoaXMuX2hlYXRtYXBSZW5kZXJlckZpZWxkKSwoKCk9Pnt0aGlzLl9yZWNyZWF0ZSgpfSkscCksdGhpcy5fdXBkYXRpbmdIYW5kbGVzLmFkZCgoKCk9Pih7ZmllbGROYW1lOnRoaXMuX2hlYXRtYXBSZW5kZXJlckZpZWxkTmFtZSxudW1lcmljOnRoaXMuX2hlYXRtYXBSZW5kZXJlckZpZWxkSXNOdW1lcmljfSkpLCgoe2ZpZWxkTmFtZTplLG51bWVyaWM6dH0pPT57aWYobnVsbCE9ZSYmdCl7bGV0IHQ9MDt0aGlzLl9mZWF0dXJlU3RvcmUuZm9yRWFjaCgocj0+dCs9ci5hdHRyaWJ1dGVzW2VdPz8wKSksdGhpcy5fZmllbGRUb3RhbD10fWVsc2UgdGhpcy5fZmllbGRUb3RhbD10aGlzLl9mZWF0dXJlU3RvcmUubnVtRmVhdHVyZXN9KSxsKSx0aGlzLmFkZEhhbmRsZXMoW2QoKCgpPT4oe2ZpZWxkTmFtZTp0aGlzLl9oZWF0bWFwUmVuZGVyZXJGaWVsZE5hbWUsZmllbGQ6dGhpcy5faGVhdG1hcFJlbmRlcmVyRmllbGR9KSksKCh7ZmllbGROYW1lOmUsZmllbGQ6dH0pPT57ZSYmIXQmJmkuZ2V0TG9nZ2VyKHRoaXMpLndhcm4oYEhlYXRtYXAgcmVuZGVyZXIgZmllbGQgJyR7ZX0nIGZvciBsYXllciAnJHt0aGlzLmxheWVyLnRpdGxlPz90aGlzLmxheWVyLmlkfScgbm90IGZvdW5kYCl9KSksZCgoKCk9Pih7ZmllbGQ6dGhpcy5faGVhdG1hcFJlbmRlcmVyRmllbGQsbnVtZXJpYzp0aGlzLl9oZWF0bWFwUmVuZGVyZXJGaWVsZElzTnVtZXJpY30pKSwoKHtmaWVsZDplLG51bWVyaWM6dH0pPT57bnVsbD09ZXx8dHx8aS5nZXRMb2dnZXIodGhpcykud2FybihgSGVhdG1hcCByZW5kZXJlciBmaWVsZCAnJHtlLm5hbWV9JyBmb3IgbGF5ZXIgJyR7dGhpcy5sYXllci50aXRsZT8/dGhpcy5sYXllci5pZH0nIGRvZXMgbm90IGNvbnRhaW4gbnVtZXJpYyB2YWx1ZXMgYW5kIGNhbm5vdCBiZSB1c2VkIHRvIGRyaXZlIHRoZSBoZWF0bWFwIGRlbnNpdHlgKX0pKSxyKCgoKT0+dGhpcy52aWV3LmJhc2VtYXBUZXJyYWluLm92ZXJsYXlNYW5hZ2VyLnVucmVnaXN0ZXJEcmFwZVNvdXJjZSh0aGlzKSkpXSl9ZGVzdHJveSgpe3RoaXMuX3JlbmRlckdlb21ldHJpZXMuY2xlYXIoKSx0aGlzLl9tYXRlcmlhbD1udWxsLHRoaXMuX21hdGVyaWFsV2l0aEZpZWxkPW51bGwsdGhpcy5fZmVhdHVyZVN0b3JlLmNsZWFyKCksdGhpcy5fZmVhdHVyZVN0b3JlPW51bGwsdGhpcy5fdXBkYXRpbmdIYW5kbGVzLmRlc3Ryb3koKX1nZXQgbGF5ZXIoKXtyZXR1cm4gdGhpcy5vd25lci5sYXllcn1nZXQgZmVhdHVyZVN0b3JlKCl7cmV0dXJuIHRoaXMuX2ZlYXR1cmVTdG9yZX1nZXQgdXBkYXRpbmcoKXtyZXR1cm4gdGhpcy5fdXBkYXRpbmdIYW5kbGVzLnVwZGF0aW5nfHx0aGlzLmZpbHRlclZpc2liaWxpdHkudXBkYXRpbmd9Z2V0IHVwZGF0aW5nUmVtYWluaW5nKCl7cmV0dXJuIDB9Z2V0IHN1c3BlbmRJbmZvKCl7cmV0dXJue319Z2V0IGxlZ2VuZEVuYWJsZWQoKXtyZXR1cm4hMH1nZXQgZmlsdGVyVmlzaWJpbGl0eSgpe3JldHVybiB0aGlzLl9maWx0ZXJWaXNpYmlsaXR5fWdldCBkaXNwbGF5RmVhdHVyZUxpbWl0KCl7Y29uc3QgZT10aGlzLm93bmVyPy52aWV3Py5xdWFsaXR5Pz8xLHQ9dGhpcy5vd25lcj8udmlldz8ucXVhbGl0eVNldHRpbmdzLHI9dD9NYXRoLmNlaWwodC5oZWF0bWFwLm1heFRvdGFsTnVtYmVyT2ZGZWF0dXJlcyplKTowO3JldHVybiBuZXcgVChyKjYscil9Z2V0IGhhc1ooKXtyZXR1cm5cImhhc1pcImluIHRoaXMubGF5ZXImJnRoaXMubGF5ZXIuaGFzWn1nZXQgaGFzTSgpe3JldHVyblwiaGFzTVwiaW4gdGhpcy5sYXllciYmdGhpcy5sYXllci5oYXNNfWdldCB2aWV3KCl7cmV0dXJuIHRoaXMub3duZXIudmlld31nZXQgZnVsbE9wYWNpdHkoKXtyZXR1cm4gdGhpcy5vd25lci5mdWxsT3BhY2l0eX1nZXQgdXBkYXRlUG9saWN5KCl7cmV0dXJuIHRoaXMub3duZXIudXBkYXRlUG9saWN5fWdldCBzY2FsZVZpc2liaWxpdHlTdXNwZW5kZWQoKXtpZighdGhpcy5faXNTY2FsZVJhbmdlQWN0aXZlKXJldHVybiExO2NvbnN0e21pblNjYWxlOmUsbWF4U2NhbGU6dH09dGhpcy5sYXllci5lZmZlY3RpdmVTY2FsZVJhbmdlLHtzY2FsZTpyfT10aGlzLnZpZXc7cmV0dXJuIUMocixlPz8wLHQ/PzApfWdldCB1c2VkTWVtb3J5KCl7Y29uc3QgZT10aGlzLnVzZWRNZW1vcnlQZXJGZWF0dXJlKnRoaXMuX2ZlYXR1cmVTdG9yZS5udW1GZWF0dXJlcyx0PXRoaXMuX3BpeGVsRm9ybWF0PT09Wi5SRUQ/MTo0LHI9dGhpcy5fZGF0YVR5cGU9PT1XLkZMT0FUPzQ6MixpPU1hdGguY2VpbCgodGhpcy5fb3ZlcmxheVJlbmRlcmVyPy5vdmVybGF5c1swXT8ucmVzb2x1dGlvbj8/MCkqdGhpcy5fZGVuc2l0eU1hcFBpeGVsUmF0aW8pPz8wO3JldHVybiBpKmkqdCpyK2V9Z2V0IHVzZWRNZW1vcnlQZXJGZWF0dXJlKCl7Y29uc3QgZT10aGlzLl9sb2FkZWRQb2ludEdyYXBoaWNzLmZpbmQoKCgpPT4hMCkpO2lmKG51bGw9PWUpcmV0dXJuIDA7Y29uc3QgdD1hKGUpLHI9NjtyZXR1cm4gcipzKFswLDAsMF0sbykrcipzKFswLDBdLG8pKyh0aGlzLl9oZWF0bWFwUmVuZGVyZXJGaWVsZElzTnVtZXJpYz9yKm86MCkrdH1nZXQgbG9hZGVkRmVhdHVyZXMoKXtyZXR1cm4gdGhpcy5fZmVhdHVyZVN0b3JlLm51bUZlYXR1cmVzfWdldCB1bnByb2Nlc3NlZE1lbW9yeUVzdGltYXRlKCl7cmV0dXJuIDB9Z2V0IHBlcmZvcm1hbmNlSW5mbygpe3JldHVybiBuZXcgVih0aGlzLl9yZW5kZXJHZW9tZXRyaWVzLnNpemUsdGhpcy5fdmlzaWJsZUZlYXR1cmVzLDAsMCl9Z2V0IHJlbmRlcmVyKCl7cmV0dXJuIHRoaXMuX2hlYXRtYXBSZW5kZXJlcn1nZXQgX292ZXJsYXlSZW5kZXJlcigpe3JldHVybiB0aGlzLnZpZXcuYmFzZW1hcFRlcnJhaW4ub3ZlcmxheU1hbmFnZXIucmVuZGVyZXJ9Z2V0IF9vdmVybGF5U3BhdGlhbFJlZmVyZW5jZSgpe3JldHVybiB0aGlzLl9vdmVybGF5UmVuZGVyZXIuc3BhdGlhbFJlZmVyZW5jZX1nZXQgX3JlbmRlcmVyUGFyYW1ldGVycygpe3JldHVybnsuLi50aGlzLl9yYWRpdXNQYXJhbWV0ZXIsLi4udGhpcy5fZGVuc2l0eVBhcmFtZXRlcnMsLi4udGhpcy5fY29sb3JSYW1wUGFyYW1ldGVyLC4uLnRoaXMuX3BpeGVsUmF0aW9QYXJhbWV0ZXJ9fWdldCBfbWF0ZXJpYWxQYXJhbWV0ZXJzKCl7cmV0dXJuey4uLnRoaXMuX3JhZGl1c1BhcmFtZXRlciwuLi50aGlzLl9yZXNvbHV0aW9uRm9yU2NhbGVQYXJhbWV0ZXJ9fWdldCBfZGVuc2l0eVBhcmFtZXRlcnMoKXtjb25zdCBlPXRoaXMuX2hlYXRtYXBSZW5kZXJlcjtpZihudWxsPT1lKXJldHVybiBudWxsO2NvbnN0e21pbkRlbnNpdHk6dCxtYXhEZW5zaXR5OnJ9PWU7cmV0dXJue21pbkRlbnNpdHk6dCxtYXhEZW5zaXR5OnIsZmllbGRUb3RhbDp0aGlzLl9maWVsZFRvdGFsfX1nZXQgX3JhZGl1c1BhcmFtZXRlcigpe2NvbnN0IGU9dGhpcy5faGVhdG1hcFJlbmRlcmVyO3JldHVybiBlP3tzZWFyY2hSYWRpdXM6dSh0aGlzLl9jbGFtcFNlYXJjaFJhZGl1cyhlLnJhZGl1cykpfTpudWxsfWdldCBfcmVzb2x1dGlvbkZvclNjYWxlUGFyYW1ldGVyKCl7Y29uc3QgZT10aGlzLl9oZWF0bWFwUmVuZGVyZXI7aWYoIWUpcmV0dXJuIG51bGw7Y29uc3R7cmVmZXJlbmNlU2NhbGU6dH09ZTtyZXR1cm57cmVzb2x1dGlvbkZvclNjYWxlOjA9PT10PzA6Zih0LHRoaXMudmlldy5zcGF0aWFsUmVmZXJlbmNlKX19Z2V0IF9jb2xvclJhbXBQYXJhbWV0ZXIoKXtjb25zdCBlPXRoaXMuX2hlYXRtYXBSZW5kZXJlcjtyZXR1cm4gZT97Y29sb3JSYW1wRGF0YTpQKGUuY29sb3JTdG9wcyl9Om51bGx9Z2V0IF9waXhlbFJhdGlvUGFyYW1ldGVyKCl7cmV0dXJue3BpeGVsUmF0aW86dGhpcy5fZGVuc2l0eU1hcFBpeGVsUmF0aW99fWdldCBfZGVuc2l0eU1hcFBpeGVsUmF0aW8oKXtyZXR1cm4gdGhpcy5vd25lcj8udmlldz8ucXVhbGl0eVNldHRpbmdzLmhlYXRtYXAucGl4ZWxSYXRpbz8/MX1nZXQgX3JlbmRlclZpZXcoKXtyZXR1cm4gdGhpcy52aWV3LnN0YWdlLnJlbmRlclZpZXd9Z2V0IF9mZWF0dXJlc0FyZVBvaW50cygpe3JldHVyblwicG9pbnRcIj09PXRoaXMubGF5ZXIuZ2VvbWV0cnlUeXBlfWdldCBfbG9hZGVkUG9pbnRHcmFwaGljcygpe3JldHVybiB0aGlzLm93bmVyLmxvYWRlZEdyYXBoaWNzfWdldCBfaGVhdG1hcFJlbmRlcmVyKCl7Y29uc3QgZT10aGlzLmxheWVyLnJlbmRlcmVyO3JldHVyblwiaGVhdG1hcFwiPT09ZT8udHlwZT9lOm51bGx9Z2V0IF9oZWF0bWFwUmVuZGVyZXJGaWVsZE5hbWUoKXtyZXR1cm4gdGhpcy5faGVhdG1hcFJlbmRlcmVyPy5maWVsZH1nZXQgX2hlYXRtYXBSZW5kZXJlckZpZWxkKCl7Y29uc3QgZT10aGlzLl9oZWF0bWFwUmVuZGVyZXJGaWVsZE5hbWU7cmV0dXJuIG51bGwhPWU/dGhpcy5sYXllci5maWVsZHNJbmRleC5nZXQoZSk6bnVsbH1nZXQgX2hlYXRtYXBSZW5kZXJlckZpZWxkSXNOdW1lcmljKCl7Y29uc3QgZT10aGlzLl9oZWF0bWFwUmVuZGVyZXJGaWVsZDtyZXR1cm4gbnVsbCE9ZSYmUyhlKX1nZXQgX2lzU2NhbGVSYW5nZUFjdGl2ZSgpe2NvbnN0e2xheWVyOmV9PXRoaXM7aWYoIShcImVmZmVjdGl2ZVNjYWxlUmFuZ2VcImluIGUpKXJldHVybiExO2NvbnN0e21pblNjYWxlOnQsbWF4U2NhbGU6cn09ZS5lZmZlY3RpdmVTY2FsZVJhbmdlO3JldHVybiBCKHQscil9Z2V0IF92aXNpYmxlRmVhdHVyZXMoKXtyZXR1cm4gQXJyYXkuZnJvbSh0aGlzLl9yZW5kZXJHZW9tZXRyaWVzLnZhbHVlcygpKS5yZWR1Y2UoKChlLHt2aXNpYmxlOnR9KT0+ZSsodD8xOjApKSwwKX1hc3luYyB3aGVuR3JhcGhpY0JvdW5kcygpe3JldHVybiBudWxsfWNvbXB1dGVBdHRhY2htZW50T3JpZ2luKCl7cmV0dXJuIG51bGx9aGlnaGxpZ2h0KCl7cmV0dXJuIHh9bWFza09jY2x1ZGVlKCl7cmV0dXJuIHIoKX1zZXRPYmplY3RJZFZpc2liaWxpdHkoKXt9cmVmcmVzaEZpbHRlcigpe3RoaXMuZmlsdGVyVmlzaWJpbGl0eS5yZWFwcGx5KCl9X29uTG9hZGVkRmVhdHVyZXNDaGFuZ2UoZSl7aWYoIXRoaXMuX2ZlYXR1cmVzQXJlUG9pbnRzKXJldHVybjtjb25zdHtvYmplY3RJZEZpZWxkOnJ9PXRoaXMubGF5ZXI7dGhpcy5fZmVhdHVyZVN0b3JlLnJlbW92ZU1hbnlCeUlkKGUucmVtb3ZlZC5tYXAoKGU9PlIoZSxyKSkpKSx0aGlzLl9mZWF0dXJlU3RvcmUuYWRkTWFueShlLmFkZGVkLm1hcCgoZT0+e2NvbnN0e2F0dHJpYnV0ZXM6dCxjZW50cm9pZDppLGdlb21ldHJ5OmF9PWUscz1uZXcgYihGKG5ldyB2LGEpLHQsaT9GKG5ldyB2LGkpOm51bGwsUihlLHIpKTtyZXR1cm4gcy5kaXNwbGF5SWQ9ZS51aWQsc30pKSk7Y29uc3QgaT1lLmFkZGVkLGE9ZS5yZW1vdmVkO3RoaXMuX2ZpZWxkVG90YWwrPXRoaXMuX2NvbXB1dGVGaWVsZFRvdGFsQ2hhbmdlKGksYSk7Y29uc3Qgcz1hLm1hcCgoKHt1aWQ6ZX0pPT57Y29uc3QgdD10aGlzLl9yZW5kZXJHZW9tZXRyaWVzLmdldChlKTtyZXR1cm4gdGhpcy5fcmVuZGVyR2VvbWV0cmllcy5kZWxldGUoZSksdH0pKS5maWx0ZXIodCksbz1pLm1hcCgoZT0+e2NvbnN0IHQ9dGhpcy5fcG9pbnRHcmFwaGljVG9SZW5kZXJHZW9tZXRyeShlKTtyZXR1cm4gdGhpcy5fcmVuZGVyR2VvbWV0cmllcy5zZXQoZS51aWQsdCksdH0pKTtzLmxlbmd0aD4wJiZ0aGlzLl9kcmFwZVNvdXJjZVJlbmRlcmVyLnJlbW92ZUdlb21ldHJpZXMocyxVLlJFTU9WRSksby5sZW5ndGg+MCYmdGhpcy5fZHJhcGVTb3VyY2VSZW5kZXJlci5hZGRHZW9tZXRyaWVzKG8sVS5BREQpLChvLmxlbmd0aD4wfHxzLmxlbmd0aD4wKSYmKHRoaXMuZmlsdGVyVmlzaWJpbGl0eS5yZWFwcGx5KCksdGhpcy5fcmVuZGVyVmlldy5yZXF1ZXN0UmVuZGVyKCkpfV9yZWNyZWF0ZSgpe2lmKCF0aGlzLl9sb2FkZWRQb2ludEdyYXBoaWNzKXJldHVybjtjb25zdCBlPXRoaXMuX2xvYWRlZFBvaW50R3JhcGhpY3MudG9BcnJheSgpO3RoaXMuX29uTG9hZGVkRmVhdHVyZXNDaGFuZ2Uoe2FkZGVkOmUscmVtb3ZlZDplfSl9X3BvaW50R3JhcGhpY1RvUmVuZGVyR2VvbWV0cnkoZSl7Y29uc3QgdD10aGlzLl9oZWF0bWFwUmVuZGVyZXJGaWVsZE5hbWUscj1udWxsIT10P3RoaXMuX21hdGVyaWFsV2l0aEZpZWxkOnRoaXMuX21hdGVyaWFsLGk9YygpO18oZS5nZW9tZXRyeSxpLHRoaXMuX292ZXJsYXlTcGF0aWFsUmVmZXJlbmNlKSxpWzJdPUk7Y29uc3QgYT1nKDEpLHM9W1tFLlBPU0lUSU9OLG5ldyBNKGksYSxpLmxlbmd0aCldXSxvPXRoaXMuX2hlYXRtYXBSZW5kZXJlckZpZWxkSXNOdW1lcmljO251bGwhPXQmJnMucHVzaChbRS5GRUFUVVJFQVRUUklCVVRFLG5ldyBNKFtvP2UuYXR0cmlidXRlc1t0XT8/MDowXSxhLDEpXSk7Y29uc3Qgbj1uZXcgTyhuZXcgTihyLHMsbnVsbCx6LlBvaW50KSx7bGF5ZXJWaWV3VWlkOnRoaXMub3duZXIubGF5ZXJWaWV3VWlkLGdyYXBoaWNVaWQ6ZS51aWR9KTtyZXR1cm4gbi52aXNpYmxlPXRoaXMuZmlsdGVyVmlzaWJpbGl0eS5kZWZhdWx0VmlzaWJpbGl0eSxufV9mb3JFYWNoTWF0ZXJpYWwoZSl7ZSh0aGlzLl9tYXRlcmlhbCksZSh0aGlzLl9tYXRlcmlhbFdpdGhGaWVsZCl9X2NvbXB1dGVGaWVsZFRvdGFsQ2hhbmdlKGUsdCl7aWYobnVsbD09dGhpcy5faGVhdG1hcFJlbmRlcmVyRmllbGROYW1lfHwhdGhpcy5faGVhdG1hcFJlbmRlcmVyRmllbGRJc051bWVyaWMpcmV0dXJuIGUubGVuZ3RoLXQubGVuZ3RoO2NvbnN0IHI9dGhpcy5faGVhdG1hcFJlbmRlcmVyRmllbGROYW1lLGk9KGUsdCk9PmUrKHQuYXR0cmlidXRlc1tyXT8/MCk7cmV0dXJuIGUucmVkdWNlKGksMCktdC5yZWR1Y2UoaSwwKX1fY2xhbXBTZWFyY2hSYWRpdXMoZSl7cmV0dXJuIGU+WSYmaS5nZXRMb2dnZXIodGhpcykud2Fybk9uY2UoYFNjZW5lVmlldyBzdXBwb3J0cyBhIG1heGltdW0gcmFkaXVzIG9mICR7WX0gcHQgZm9yIEhlYXRtYXBSZW5kZXJlci5gKSxNYXRoLm1pbihlLFkpfV91cGRhdGVGZWF0dXJlVmlzaWJpbGl0aWVzKGUpe2NvbnN0IHQ9W107dGhpcy5fZmVhdHVyZVN0b3JlLmZvckVhY2goKCh7b2JqZWN0SWQ6cixkaXNwbGF5SWQ6aX0pPT57Y29uc3QgYT1lKHIpLHM9dGhpcy5fcmVuZGVyR2VvbWV0cmllcy5nZXQoaSk7cyYmcy52aXNpYmxlIT09YSYmKHQucHVzaChzKSxzLnZpc2libGU9YSl9KSksdGhpcy5fZHJhcGVTb3VyY2VSZW5kZXJlci5tb2RpZnlHZW9tZXRyaWVzKHQsSC5WSVNJQklMSVRZKX1fc2V0QWxsRmVhdHVyZXNWaXNpYmlsaXR5KGUpe2NvbnN0IHQ9W107Zm9yKGNvbnN0IHIgb2YgdGhpcy5fcmVuZGVyR2VvbWV0cmllcy52YWx1ZXMoKSlyLnZpc2libGUhPT1lJiYodC5wdXNoKHIpLHIudmlzaWJsZT1lKTt0aGlzLl9kcmFwZVNvdXJjZVJlbmRlcmVyLm1vZGlmeUdlb21ldHJpZXModCxILlZJU0lCSUxJVFkpfWdldCB0ZXN0KCl7fX07ZShbbSgpXSxrLnByb3RvdHlwZSxcInR5cGVcIix2b2lkIDApLGUoW20oe2NvbnN0cnVjdE9ubHk6ITB9KV0say5wcm90b3R5cGUsXCJvd25lclwiLHZvaWQgMCksZShbbSgpXSxrLnByb3RvdHlwZSxcImxheWVyXCIsbnVsbCksZShbbSgpXSxrLnByb3RvdHlwZSxcImZlYXR1cmVTdG9yZVwiLG51bGwpLGUoW20oKV0say5wcm90b3R5cGUsXCJ1cGRhdGluZ1wiLG51bGwpLGUoW20oKV0say5wcm90b3R5cGUsXCJ1cGRhdGluZ1JlbWFpbmluZ1wiLG51bGwpLGUoW20oKV0say5wcm90b3R5cGUsXCJzdXNwZW5kSW5mb1wiLG51bGwpLGUoW20oKV0say5wcm90b3R5cGUsXCJsZWdlbmRFbmFibGVkXCIsbnVsbCksZShbbSgpXSxrLnByb3RvdHlwZSxcImZpbHRlclZpc2liaWxpdHlcIixudWxsKSxlKFttKCldLGsucHJvdG90eXBlLFwiZGlzcGxheUZlYXR1cmVMaW1pdFwiLG51bGwpLGUoW20oKV0say5wcm90b3R5cGUsXCJwcmVmZXJyZWRVcGRhdGVQb2xpY3lcIix2b2lkIDApLGUoW20oKV0say5wcm90b3R5cGUsXCJoYXNaXCIsbnVsbCksZShbbSgpXSxrLnByb3RvdHlwZSxcImhhc01cIixudWxsKSxlKFttKCldLGsucHJvdG90eXBlLFwiZGF0YUV4dGVudFwiLHZvaWQgMCksZShbbSgpXSxrLnByb3RvdHlwZSxcInZpZXdcIixudWxsKSxlKFttKCldLGsucHJvdG90eXBlLFwiZnVsbE9wYWNpdHlcIixudWxsKSxlKFttKCldLGsucHJvdG90eXBlLFwidXBkYXRlUG9saWN5XCIsbnVsbCksZShbbSgpXSxrLnByb3RvdHlwZSxcImRyYXBlU291cmNlVHlwZVwiLHZvaWQgMCksZShbbSgpXSxrLnByb3RvdHlwZSxcInNjYWxlVmlzaWJpbGl0eVN1c3BlbmRlZFwiLG51bGwpLGUoW20oKV0say5wcm90b3R5cGUsXCJyZW5kZXJlclwiLG51bGwpLGUoW20oKV0say5wcm90b3R5cGUsXCJfZmVhdHVyZVN0b3JlXCIsdm9pZCAwKSxlKFttKCldLGsucHJvdG90eXBlLFwiX2ZpbHRlclZpc2liaWxpdHlcIix2b2lkIDApLGUoW20oKV0say5wcm90b3R5cGUsXCJfb3ZlcmxheVJlbmRlcmVyXCIsbnVsbCksZShbbSgpXSxrLnByb3RvdHlwZSxcIl9vdmVybGF5U3BhdGlhbFJlZmVyZW5jZVwiLG51bGwpLGUoW20oKV0say5wcm90b3R5cGUsXCJfcmVuZGVyZXJQYXJhbWV0ZXJzXCIsbnVsbCksZShbbSgpXSxrLnByb3RvdHlwZSxcIl9tYXRlcmlhbFBhcmFtZXRlcnNcIixudWxsKSxlKFttKCldLGsucHJvdG90eXBlLFwiX2RlbnNpdHlQYXJhbWV0ZXJzXCIsbnVsbCksZShbbSgpXSxrLnByb3RvdHlwZSxcIl9yYWRpdXNQYXJhbWV0ZXJcIixudWxsKSxlKFttKCldLGsucHJvdG90eXBlLFwiX3Jlc29sdXRpb25Gb3JTY2FsZVBhcmFtZXRlclwiLG51bGwpLGUoW20oKV0say5wcm90b3R5cGUsXCJfY29sb3JSYW1wUGFyYW1ldGVyXCIsbnVsbCksZShbbSgpXSxrLnByb3RvdHlwZSxcIl9waXhlbFJhdGlvUGFyYW1ldGVyXCIsbnVsbCksZShbbSgpXSxrLnByb3RvdHlwZSxcIl9kZW5zaXR5TWFwUGl4ZWxSYXRpb1wiLG51bGwpLGUoW20oKV0say5wcm90b3R5cGUsXCJfcmVuZGVyR2VvbWV0cmllc1wiLHZvaWQgMCksZShbbSgpXSxrLnByb3RvdHlwZSxcIl9tYXRlcmlhbFwiLHZvaWQgMCksZShbbSgpXSxrLnByb3RvdHlwZSxcIl9tYXRlcmlhbFdpdGhGaWVsZFwiLHZvaWQgMCksZShbbSgpXSxrLnByb3RvdHlwZSxcIl9yZW5kZXJWaWV3XCIsbnVsbCksZShbbSgpXSxrLnByb3RvdHlwZSxcIl9mZWF0dXJlc0FyZVBvaW50c1wiLG51bGwpLGUoW20oKV0say5wcm90b3R5cGUsXCJfbG9hZGVkUG9pbnRHcmFwaGljc1wiLG51bGwpLGUoW20oKV0say5wcm90b3R5cGUsXCJfaGVhdG1hcFJlbmRlcmVyXCIsbnVsbCksZShbbSgpXSxrLnByb3RvdHlwZSxcIl9oZWF0bWFwUmVuZGVyZXJGaWVsZE5hbWVcIixudWxsKSxlKFttKCldLGsucHJvdG90eXBlLFwiX2hlYXRtYXBSZW5kZXJlckZpZWxkXCIsbnVsbCksZShbbSgpXSxrLnByb3RvdHlwZSxcIl9oZWF0bWFwUmVuZGVyZXJGaWVsZElzTnVtZXJpY1wiLG51bGwpLGUoW20oKV0say5wcm90b3R5cGUsXCJfZmllbGRUb3RhbFwiLHZvaWQgMCksZShbbSgpXSxrLnByb3RvdHlwZSxcIl9kcmFwZVNvdXJjZVJlbmRlcmVyXCIsdm9pZCAwKSxlKFttKCldLGsucHJvdG90eXBlLFwiX2lzU2NhbGVSYW5nZUFjdGl2ZVwiLG51bGwpLGs9ZShbaChcImVzcmkudmlld3MuM2QubGF5ZXJzLnN1cHBvcnQuSGVhdG1hcEZlYXR1cmVQcm9jZXNzb3JcIildLGspO2V4cG9ydHtrIGFzIEhlYXRtYXBGZWF0dXJlUHJvY2Vzc29yLFkgYXMgbWF4UmFkaXVzUHR9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMzMvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydCBlIGZyb21cIi4uLy4uLy4uLy4uL2NvcmUvRXJyb3IuanNcIjtpbXBvcnRcIi4uLy4uLy4uLy4uL2NvcmUvaGFzLmpzXCI7aW1wb3J0XCIuLi8uLi8uLi8uLi9nZW9tZXRyeS9TcGF0aWFsUmVmZXJlbmNlLmpzXCI7aW1wb3J0XCIuLi8uLi8uLi8uLi9nZW9tZXRyeS9zdXBwb3J0L2FhQm91bmRpbmdCb3guanNcIjtpbXBvcnRcIi4uLy4uLy4uLy4uL2NvcmUvbWF0aFV0aWxzLmpzXCI7aW1wb3J0XCIuLi8uLi8uLi8uLi9nZW9tZXRyeS9FeHRlbnQuanNcIjtpbXBvcnRcIi4uLy4uLy4uLy4uL2dlb21ldHJ5L0dlb21ldHJ5LmpzXCI7aW1wb3J0XCIuLi8uLi8uLi8uLi9nZW9tZXRyeS9NdWx0aXBvaW50LmpzXCI7aW1wb3J0XCIuLi8uLi8uLi8uLi9nZW9tZXRyeS9Qb2ludC5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vLi4vZ2VvbWV0cnkvUG9seWdvbi5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vLi4vZ2VvbWV0cnkvUG9seWxpbmUuanNcIjtpbXBvcnRcIi4uLy4uLy4uLy4uL2dlb21ldHJ5L3N1cHBvcnQvdHlwZVV0aWxzLmpzXCI7aW1wb3J0XCIuLi8uLi8uLi8uLi9sYXllcnMvc3VwcG9ydC9GaWVsZC5qc1wiO2ltcG9ydHtlcXVhbHMgYXMgdH1mcm9tXCIuLi8uLi8uLi8uLi9sYXllcnMvZ3JhcGhpY3MvZGVoeWRyYXRlZEZlYXR1cmVDb21wYXJpc29uLmpzXCI7Y2xhc3Mgcntjb25zdHJ1Y3RvcihlLHQpe3RoaXMuZmVhdHVyZT1lLHRoaXMucmVzb2x1dGlvbj10LHRoaXMucmVmQ291bnQ9MX19Y2xhc3Mgc3tnZXQgaXNSZWZlcmVuY2VkKCl7cmV0dXJuIDAhPT10aGlzLnZlcnNpb25zLmxlbmd0aH1nZXQgaXNTaW5nbGUoKXtyZXR1cm4gMT09PXRoaXMudmVyc2lvbnMubGVuZ3RoJiYxPT09dGhpcy52ZXJzaW9uc1swXS5yZWZDb3VudH1jb25zdHJ1Y3RvcihlLHQpe3RoaXMuX2hpZ2hlc3RSZXNvbHV0aW9uVmVyc2lvbj1udWxsLHRoaXMudmVyc2lvbnM9W10sdGhpcy5yZWYoZSx0KX1yZWYoZSxzKXtjb25zdCBvPXRoaXMuZmVhdHVyZTtuLm9sZFZlcnNpb249byxvJiZPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcInVpZFwiLHt2YWx1ZTpvLnVpZCxjb25maWd1cmFibGU6ITB9KTtjb25zdCBpPXRoaXMuX2hpZ2hlc3RSZXNvbHV0aW9uVmVyc2lvbjtmb3IoY29uc3QgciBvZiB0aGlzLnZlcnNpb25zKWlmKHIucmVzb2x1dGlvbj09PXMpe3IucmVmQ291bnQrKztjb25zdCBzPWk9PT1yJiYhdChlLHIuZmVhdHVyZSk7cmV0dXJuKHN8fGkhPT1yKSYmKHIuZmVhdHVyZT1lKSxuLm5ld1ZlcnNpb249cz9lOm8sbn1jb25zdCB1PW5ldyByKGUscyk7cmV0dXJuIHRoaXMudmVyc2lvbnMucHVzaCh1KSwhaXx8czxpLnJlc29sdXRpb24/KG4ubmV3VmVyc2lvbj1lLHRoaXMuX2hpZ2hlc3RSZXNvbHV0aW9uVmVyc2lvbj11KTpuLm5ld1ZlcnNpb249byxufXVucmVmKHQpe2NvbnN0e3ZlcnNpb25zOnJ9PXRoaXM7Zm9yKGxldCBlPTA7ZTxyLmxlbmd0aDtlKyspe2NvbnN0IHM9cltlXTtpZihzLnJlc29sdXRpb249PT10KXJldHVybiBzLnJlZkNvdW50LS0saS5vbGRWZXJzaW9uPXRoaXMuZmVhdHVyZSwwPT09cy5yZWZDb3VudCYmKHJbZV09cltyLmxlbmd0aC0xXSwtLXIubGVuZ3RoLHRoaXMuX2hpZ2hlc3RSZXNvbHV0aW9uVmVyc2lvbj09PXMmJih0aGlzLl9yZWNhbGN1bGF0ZUhpZ2hlc3RSZXNvbHV0aW9uVmVyc2lvbigpLGkub2xkVmVyc2lvbj1zLmZlYXR1cmUpKSxpLm5ld1ZlcnNpb249dGhpcy5mZWF0dXJlLGl9Y29uc3Qgcz1gVW5yZWYgZmVhdHVyZSB3aXRoIG5vIHJlZmVyZW5jZXM6ICR7dGhpcy5mZWF0dXJlPy51aWR9YDt0aHJvdyBuZXcgZShzLHMsKG5ldyBFcnJvcikuc3RhY2s/LnNsaWNlKDYpKX1nZXQgZmVhdHVyZSgpe3JldHVybiB0aGlzLl9oaWdoZXN0UmVzb2x1dGlvblZlcnNpb24/LmZlYXR1cmU/P251bGx9X3JlY2FsY3VsYXRlSGlnaGVzdFJlc29sdXRpb25WZXJzaW9uKCl7aWYoMD09PXRoaXMudmVyc2lvbnMubGVuZ3RoKXJldHVybiB2b2lkKHRoaXMuX2hpZ2hlc3RSZXNvbHV0aW9uVmVyc2lvbj1udWxsKTtsZXQgZT10aGlzLnZlcnNpb25zWzBdO2ZvcihsZXQgdD0xO3Q8dGhpcy52ZXJzaW9ucy5sZW5ndGg7dCsrKXtjb25zdCByPXRoaXMudmVyc2lvbnNbdF07ci5yZXNvbHV0aW9uPGUucmVzb2x1dGlvbiYmKGU9cil9dGhpcy5faGlnaGVzdFJlc29sdXRpb25WZXJzaW9uPWV9fWNsYXNzIG97Z2V0IGlzUmVmZXJlbmNlZCgpe3JldHVybiAwIT09dGhpcy5fcmVmQ291bnR9Z2V0IGlzU2luZ2xlKCl7cmV0dXJuIDE9PT10aGlzLl9yZWZDb3VudH1jb25zdHJ1Y3RvcihlKXt0aGlzLl9mZWF0dXJlPWUsdGhpcy5fcmVmQ291bnQ9MX1yZWYoZSl7Kyt0aGlzLl9yZWZDb3VudDtjb25zdCByPXRoaXMuX2ZlYXR1cmU7cmV0dXJuIG4ub2xkVmVyc2lvbj1yLHImJk9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwidWlkXCIse3ZhbHVlOnIudWlkLGNvbmZpZ3VyYWJsZTohMH0pLHQocixlKXx8KHRoaXMuX2ZlYXR1cmU9ZSksbi5uZXdWZXJzaW9uPXRoaXMuX2ZlYXR1cmUsbn11bnJlZigpe2kub2xkVmVyc2lvbj10aGlzLl9mZWF0dXJlO2NvbnN0IHQ9dGhpcy5fcmVmQ291bnQ7aWYoISh0PjApKXtjb25zdCB0PWBVbnJlZiBmZWF0dXJlIHdpdGggbm8gcmVmZXJlbmNlczogJHt0aGlzLmZlYXR1cmU/LnVpZH1gO3Rocm93IG5ldyBlKHQsdCwobmV3IEVycm9yKS5zdGFjaz8uc2xpY2UoNikpfXJldHVybiB0aGlzLl9yZWZDb3VudD10LTEsMT09PXQ/KGkubmV3VmVyc2lvbj1udWxsLGkpOihpLm5ld1ZlcnNpb249dGhpcy5fZmVhdHVyZSxpKX1nZXQgZmVhdHVyZSgpe3JldHVybiB0aGlzLl9mZWF0dXJlfX1jb25zdCBpPXtvbGRWZXJzaW9uOm51bGwsbmV3VmVyc2lvbjpudWxsfSxuPXtvbGRWZXJzaW9uOm51bGwsbmV3VmVyc2lvbjpudWxsfTtleHBvcnR7ciBhcyBGZWF0dXJlVmVyc2lvbixzIGFzIE11bHRpRmVhdHVyZVJlZmVyZW5jZSxvIGFzIFNpbmdsZUZlYXR1cmVSZWZlcmVuY2V9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMzMvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydCBlIGZyb21cIi4uLy4uLy4uL2NvcmUvRXZlbnRlZC5qc1wiO2ltcG9ydHtPYnNlcnZhYmxlQ2hhbmdlc1R5cGUgYXMgdH1mcm9tXCIuLi8uLi8uLi9jb3JlL09ic2VydmFibGVDaGFuZ2VzVHlwZS5qc1wiO2ltcG9ydHtzaWduYWwgYXMgc31mcm9tXCIuLi8uLi8uLi9jb3JlL3NpZ25hbC5qc1wiO2NsYXNzIHIgZXh0ZW5kcyBle2NvbnN0cnVjdG9yKCl7c3VwZXIoLi4uYXJndW1lbnRzKSx0aGlzLl9zZXQ9bmV3IFNldCx0aGlzLl9sZW5ndGg9cygwKX1jbGVhcigpe2lmKHRoaXMuX3NldC5zaXplPjApe2NvbnN0IGU9dGhpcy50b0FycmF5KCk7dGhpcy5fc2V0LmNsZWFyKCksdGhpcy5lbWl0KFwiYWZ0ZXItY2hhbmdlc1wiLHt0eXBlOnQuUkVNT1ZFfSksdGhpcy5lbWl0KFwiY2hhbmdlXCIse2FkZGVkOltdLHJlbW92ZWQ6ZX0pfX1nZXQgbGVuZ3RoKCl7cmV0dXJuIHRoaXMuX2xlbmd0aC52YWx1ZX1hZGRNYW55KGUpe2lmKDAhPT1lLmxlbmd0aCl7Zm9yKGNvbnN0IHQgb2YgZSl0aGlzLl9zZXQuYWRkKHQpO3RoaXMuX2xlbmd0aC52YWx1ZT10aGlzLl9zZXQuc2l6ZSx0aGlzLmVtaXQoXCJhZnRlci1jaGFuZ2VzXCIse3R5cGU6dC5BRER9KSx0aGlzLmVtaXQoXCJjaGFuZ2VcIix7YWRkZWQ6ZSxyZW1vdmVkOltdfSl9fXJlbW92ZShlKXt0aGlzLl9zZXQuZGVsZXRlKGUpJiYodGhpcy5fbGVuZ3RoLnZhbHVlPXRoaXMuX3NldC5zaXplLHRoaXMuZW1pdChcImFmdGVyLWNoYW5nZXNcIix7dHlwZTp0LlJFTU9WRX0pLHRoaXMuZW1pdChcImNoYW5nZVwiLHthZGRlZDpbXSxyZW1vdmVkOltlXX0pKX1yZW1vdmVNYW55KGUpe2NvbnN0IHM9W107Zm9yKGNvbnN0IHQgb2YgZSl0aGlzLl9zZXQuZGVsZXRlKHQpJiZzLnB1c2godCk7cy5sZW5ndGg+MCYmKHRoaXMuX2xlbmd0aC52YWx1ZT10aGlzLl9zZXQuc2l6ZSx0aGlzLmVtaXQoXCJhZnRlci1jaGFuZ2VzXCIse3R5cGU6dC5SRU1PVkV9KSx0aGlzLmVtaXQoXCJjaGFuZ2VcIix7YWRkZWQ6W10scmVtb3ZlZDpzfSkpfXRvQXJyYXkoKXtyZXR1cm4gQXJyYXkuZnJvbSh0aGlzLl9zZXQudmFsdWVzKCkpfWZpbmQoZSl7Zm9yKGNvbnN0IHQgb2YgdGhpcy5fc2V0LnZhbHVlcygpKWlmKGUodCkpcmV0dXJuIHR9c29tZShlKXtmb3IoY29uc3QgdCBvZiB0aGlzLl9zZXQudmFsdWVzKCkpaWYoZSh0KSlyZXR1cm4hMDtyZXR1cm4hMX1mb3JFYWNoKGUpe3RoaXMuX3NldC5mb3JFYWNoKCh0PT5lKHQpKSl9fWV4cG9ydHtyIGFzIEV2ZW50ZWRTZXR9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMzMvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtfIGFzIHR9ZnJvbVwiLi4vLi4vLi4vLi4vY2h1bmtzL3RzbGliLmVzNi5qc1wiO2ltcG9ydHtkaXNwb3NlTWF5YmUgYXMgZX1mcm9tXCIuLi8uLi8uLi8uLi9jb3JlL21heWJlLmpzXCI7aW1wb3J0e3dhdGNoIGFzIHJ9ZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9yZWFjdGl2ZVV0aWxzLmpzXCI7aW1wb3J0e3Byb3BlcnR5IGFzIGF9ZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9wcm9wZXJ0eS5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vLi4vY29yZS9oYXMuanNcIjtpbXBvcnRcIi4uLy4uLy4uLy4uL2NvcmUvTG9nZ2VyLmpzXCI7aW1wb3J0XCIuLi8uLi8uLi8uLi9jb3JlL1JhbmRvbUxDRy5qc1wiO2ltcG9ydHtzdWJjbGFzcyBhcyBpfWZyb21cIi4uLy4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvc3ViY2xhc3MuanNcIjtpbXBvcnR7Y3JlYXRlUXVhZFZBTyBhcyBzfWZyb21cIi4vZ2xVdGlsM0QuanNcIjtpbXBvcnR7U29ydGVkUmVuZGVyR2VvbWV0cnlSZW5kZXJlciBhcyBvfWZyb21cIi4vU29ydGVkUmVuZGVyR2VvbWV0cnlSZW5kZXJlci5qc1wiO2ltcG9ydHtIZWF0bWFwUGFzc1BhcmFtZXRlcnMgYXMgbixIZWF0bWFwVGVjaG5pcXVlIGFzIGh9ZnJvbVwiLi4vc2hhZGVycy9IZWF0bWFwVGVjaG5pcXVlLmpzXCI7aW1wb3J0e0hlYXRtYXBUZWNobmlxdWVDb25maWd1cmF0aW9uIGFzIHB9ZnJvbVwiLi4vc2hhZGVycy9IZWF0bWFwVGVjaG5pcXVlQ29uZmlndXJhdGlvbi5qc1wiO2ltcG9ydHtUZXh0dXJlV3JhcE1vZGUgYXMgbSxQaXhlbFR5cGUgYXMgYyxGcmFtZWJ1ZmZlckJpdCBhcyBsfWZyb21cIi4uLy4uLy4uL3dlYmdsL2VudW1zLmpzXCI7aW1wb3J0e0ZyYW1lYnVmZmVyT2JqZWN0IGFzIGR9ZnJvbVwiLi4vLi4vLi4vd2ViZ2wvRnJhbWVidWZmZXJPYmplY3QuanNcIjtpbXBvcnR7VGV4dHVyZSBhcyB1fWZyb21cIi4uLy4uLy4uL3dlYmdsL1RleHR1cmUuanNcIjtpbXBvcnR7VGV4dHVyZURlc2NyaXB0b3IgYXMgeX1mcm9tXCIuLi8uLi8uLi93ZWJnbC9UZXh0dXJlRGVzY3JpcHRvci5qc1wiO2ltcG9ydHt2ZXJ0ZXhDb3VudCBhcyBffWZyb21cIi4uLy4uLy4uL3dlYmdsL1V0aWwuanNcIjtsZXQgZz1jbGFzcyBleHRlbmRzIG97Y29uc3RydWN0b3IodCl7c3VwZXIodCksdGhpcy5waXhlbFJhdGlvPTEsdGhpcy5fY29sb3JSYW1wRGF0YT1uZXcgVWludDhDbGFtcGVkQXJyYXkoNCksdGhpcy50eXBlPVwiZHJhcGVkLWhlYXRtYXBcIix0aGlzLl9oZWF0bWFwUGFyYW1ldGVycz1uZXcgbix0aGlzLl9jb25maWd1cmF0aW9uPW5ldyBwO2NvbnN0IGU9bmV3IHk7ZS5waXhlbEZvcm1hdD10LnBpeGVsRm9ybWF0LGUuaW50ZXJuYWxGb3JtYXQ9dC5pbnRlcm5hbEZvcm1hdCxlLmRhdGFUeXBlPXQuZGF0YVR5cGUsZS5zYW1wbGluZ01vZGU9dC5zYW1wbGluZ01vZGUsZS53cmFwTW9kZT1tLkNMQU1QX1RPX0VER0U7Y29uc3Qgcj10LnJlbmRlcmVyQ29udGV4dC5yY3R4O3RoaXMuX2RlbnNpdHlNYXA9bmV3IGQocixlKSx0aGlzLl9xdWFkPXMociksdGhpcy5fY29uZmlndXJhdGlvbi51c2VzSGFsZkZsb2F0PXQuZGF0YVR5cGUhPT1jLkZMT0FULHQucmVuZGVyZXJDb250ZXh0LnBsdWdpbkNvbnRleHQudGVjaG5pcXVlcy5wcmVjb21waWxlKGgsdGhpcy5fY29uZmlndXJhdGlvbil9aW5pdGlhbGl6ZSgpe2NvbnN0IHQ9dGhpcy5fY29sb3JSYW1wRGF0YSxlPW5ldyB5KHQubGVuZ3RoLzQsMSk7ZS53cmFwTW9kZT1tLkNMQU1QX1RPX0VER0UsdGhpcy5fY29sb3JSYW1wPW5ldyB1KHRoaXMucmN0eCxlLHQpLHRoaXMuX2hlYXRtYXBQYXJhbWV0ZXJzLmRlbnNpdHlNYXA9dGhpcy5fZGVuc2l0eU1hcC5jb2xvclRleHR1cmUsdGhpcy5hZGRIYW5kbGVzKHIoKCgpPT5bdGhpcy5jb2xvclJhbXBEYXRhLHRoaXMubWluRGVuc2l0eSx0aGlzLm1heERlbnNpdHksdGhpcy5maWVsZFRvdGFsLHRoaXMucGl4ZWxSYXRpbyx0aGlzLnNlYXJjaFJhZGl1c10pLCgoKT0+dGhpcy5yZW5kZXJlckNvbnRleHQubm90aWZ5Q29udGVudENoYW5nZWQoKSkpKX1kZXN0cm95KCl7dGhpcy5fZGVuc2l0eU1hcD1lKHRoaXMuX2RlbnNpdHlNYXApLHRoaXMuX3F1YWQ9ZSh0aGlzLl9xdWFkKSx0aGlzLl9jb2xvclJhbXA9ZSh0aGlzLl9jb2xvclJhbXApfWdldCBzZWFyY2hSYWRpdXMoKXtyZXR1cm4gdGhpcy5faGVhdG1hcFBhcmFtZXRlcnMuc2VhcmNoUmFkaXVzfXNldCBzZWFyY2hSYWRpdXModCl7dCE9PXRoaXMuX2hlYXRtYXBQYXJhbWV0ZXJzLnNlYXJjaFJhZGl1cyYmKHRoaXMuX2hlYXRtYXBQYXJhbWV0ZXJzLnNlYXJjaFJhZGl1cz10LHRoaXMubm90aWZ5Q2hhbmdlKFwic2VhcmNoUmFkaXVzXCIpKX1nZXQgbWluRGVuc2l0eSgpe3JldHVybiB0aGlzLl9oZWF0bWFwUGFyYW1ldGVycy5taW5EZW5zaXR5fXNldCBtaW5EZW5zaXR5KHQpe3QhPT10aGlzLl9oZWF0bWFwUGFyYW1ldGVycy5taW5EZW5zaXR5JiYodGhpcy5faGVhdG1hcFBhcmFtZXRlcnMubWluRGVuc2l0eT10LHRoaXMubm90aWZ5Q2hhbmdlKFwibWluRGVuc2l0eVwiKSl9Z2V0IG1heERlbnNpdHkoKXtyZXR1cm4gdGhpcy5faGVhdG1hcFBhcmFtZXRlcnMubWF4RGVuc2l0eX1zZXQgbWF4RGVuc2l0eSh0KXt0IT09dGhpcy5faGVhdG1hcFBhcmFtZXRlcnMubWF4RGVuc2l0eSYmKHRoaXMuX2hlYXRtYXBQYXJhbWV0ZXJzLm1heERlbnNpdHk9dCx0aGlzLm5vdGlmeUNoYW5nZShcIm1heERlbnNpdHlcIikpfWdldCBmaWVsZFRvdGFsKCl7cmV0dXJuIHRoaXMuX2hlYXRtYXBQYXJhbWV0ZXJzLmZpZWxkVG90YWx9c2V0IGZpZWxkVG90YWwodCl7dGhpcy5faGVhdG1hcFBhcmFtZXRlcnMuZmllbGRUb3RhbD10LHRoaXMubm90aWZ5Q2hhbmdlKFwiZmllbGRUb3RhbFwiKX1nZXQgY29sb3JSYW1wRGF0YSgpe3JldHVybiB0aGlzLl9jb2xvclJhbXBEYXRhfXNldCBjb2xvclJhbXBEYXRhKHQpe2NvbnN0e2NvbG9yUmFtcDplfT10aGlzLl9oZWF0bWFwUGFyYW1ldGVycztpZihudWxsIT1lJiZ0IT09dGhpcy5fY29sb3JSYW1wRGF0YSl7Y29uc3Qgcj1lLmRlc2NyaXB0b3Iud2lkdGgsYT10Lmxlbmd0aC80O2EhPT1yJiZlLnJlc2l6ZShhLDEpLGUuc2V0RGF0YSh0KX10aGlzLl9jb2xvclJhbXBEYXRhPXR9Z2V0IF9jb2xvclJhbXAoKXtyZXR1cm4gdGhpcy5faGVhdG1hcFBhcmFtZXRlcnMuY29sb3JSYW1wfXNldCBfY29sb3JSYW1wKHQpe3RoaXMuX2hlYXRtYXBQYXJhbWV0ZXJzLmNvbG9yUmFtcD10fWdldCBoYXNIaWdobGlnaHRzKCl7cmV0dXJuITF9Z2V0IGhhc1dhdGVyKCl7cmV0dXJuITF9Z2V0IHJlbmRlcnNPY2NsdWRlZERyYXBlZCgpe3JldHVybiExfXJlbmRlcih0KXtjb25zdCBlPXRoaXMuc29ydGVkUmVuZGVyZXJzO2lmKDA9PT1lLmxlbmd0aClyZXR1cm47Y29uc3Qgcj10aGlzLnJjdHguZ2V0Qm91bmRGcmFtZWJ1ZmZlck9iamVjdCgpLGE9dGhpcy5yY3R4LmdldFZpZXdwb3J0KCkse3BpeGVsUmF0aW86aX09dGhpcyxzPU1hdGguY2VpbChhLndpZHRoKmkpLG89TWF0aC5jZWlsKGEuaGVpZ2h0KmkpO3RoaXMuX2RlbnNpdHlNYXAucmVzaXplKHMsbyksdGhpcy5yY3R4LmJpbmRGcmFtZWJ1ZmZlcih0aGlzLl9kZW5zaXR5TWFwKSx0aGlzLnJjdHguc2V0Vmlld3BvcnQoMCwwLHMsbyksdGhpcy5yY3R4LmNsZWFyKGwuQ09MT1IpO2xldCBuPSExO2lmKGUuZm9yQWxsKChlPT57Y29uc3Qgcj1lLmFjcXVpcmVUZWNobmlxdWVzKHQpO3ImJihlLnJlbmRlcih0LHIpLG49ITApfSkpLHRoaXMucmN0eC5iaW5kRnJhbWVidWZmZXIociksdGhpcy5yY3R4LnNldFZpZXdwb3J0KGEueCxhLnksYS53aWR0aCxhLmhlaWdodCksIW4pcmV0dXJuO3RoaXMucmN0eC5iaW5kVkFPKHRoaXMuX3F1YWQpO2NvbnN0IHA9dGhpcy5yZW5kZXJlckNvbnRleHQucGx1Z2luQ29udGV4dC50ZWNobmlxdWVzLmdldChoLHRoaXMuX2NvbmZpZ3VyYXRpb24pO3RoaXMucmN0eC5iaW5kVGVjaG5pcXVlKHAsdC5iaW5kLHRoaXMuX2hlYXRtYXBQYXJhbWV0ZXJzKSx0aGlzLnJjdHguZHJhd0FycmF5cyhwLnByaW1pdGl2ZVR5cGUsMCxfKHRoaXMuX3F1YWQsXCJnZW9tZXRyeVwiKSl9fTt0KFthKCldLGcucHJvdG90eXBlLFwic2VhcmNoUmFkaXVzXCIsbnVsbCksdChbYSgpXSxnLnByb3RvdHlwZSxcIm1pbkRlbnNpdHlcIixudWxsKSx0KFthKCldLGcucHJvdG90eXBlLFwibWF4RGVuc2l0eVwiLG51bGwpLHQoW2EoKV0sZy5wcm90b3R5cGUsXCJmaWVsZFRvdGFsXCIsbnVsbCksdChbYSgpXSxnLnByb3RvdHlwZSxcInBpeGVsUmF0aW9cIix2b2lkIDApLHQoW2EoKV0sZy5wcm90b3R5cGUsXCJjb2xvclJhbXBEYXRhXCIsbnVsbCksdChbYSh7Y29uc3RydWN0T25seTohMH0pXSxnLnByb3RvdHlwZSxcImRhdGFUeXBlXCIsdm9pZCAwKSx0KFthKHtjb25zdHJ1Y3RPbmx5OiEwfSldLGcucHJvdG90eXBlLFwic2FtcGxpbmdNb2RlXCIsdm9pZCAwKSx0KFthKHtjb25zdHJ1Y3RPbmx5OiEwfSldLGcucHJvdG90eXBlLFwicGl4ZWxGb3JtYXRcIix2b2lkIDApLHQoW2Eoe2NvbnN0cnVjdE9ubHk6ITB9KV0sZy5wcm90b3R5cGUsXCJpbnRlcm5hbEZvcm1hdFwiLHZvaWQgMCksdChbYSgpXSxnLnByb3RvdHlwZSxcIl9jb2xvclJhbXBEYXRhXCIsdm9pZCAwKSxnPXQoW2koXCJlc3JpLnZpZXdzLjNkLndlYmdsLWVuZ2luZS5saWIuRHJhcGVkSGVhdG1hcFJlbmRlcmVyXCIpXSxnKTtleHBvcnR7ZyBhcyBEcmFwZWRIZWF0bWFwUmVuZGVyZXJ9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMzMvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtzZXQgYXMgdCxzcXVhcmVkRGlzdGFuY2UgYXMgZX1mcm9tXCIuLi8uLi8uLi8uLi9jb3JlL2xpYnMvZ2wtbWF0cml4LTIvbWF0aC92ZWMyLmpzXCI7aW1wb3J0e2NyZWF0ZSBhcyByfWZyb21cIi4uLy4uLy4uLy4uL2NvcmUvbGlicy9nbC1tYXRyaXgtMi9mYWN0b3JpZXMvdmVjMmY2NC5qc1wiO2ltcG9ydHtuZXdMYXlvdXQgYXMgc31mcm9tXCIuLi8uLi9zdXBwb3J0L2J1ZmZlci9JbnRlcmxlYXZlZExheW91dC5qc1wiO2ltcG9ydHtTaGFkZXJPdXRwdXQgYXMgaX1mcm9tXCIuLi9jb3JlL3NoYWRlckxpYnJhcnkvU2hhZGVyT3V0cHV0LmpzXCI7aW1wb3J0IG8gZnJvbVwiLi4vbGliL0dMTWF0ZXJpYWwuanNcIjtpbXBvcnR7TWF0ZXJpYWwgYXMgYX1mcm9tXCIuLi9saWIvTWF0ZXJpYWwuanNcIjtpbXBvcnR7UmVuZGVyU2xvdCBhcyBufWZyb21cIi4uL2xpYi9SZW5kZXJTbG90LmpzXCI7aW1wb3J0e1ZlcnRleEF0dHJpYnV0ZSBhcyB1fWZyb21cIi4uL2xpYi9WZXJ0ZXhBdHRyaWJ1dGUuanNcIjtpbXBvcnR7d3JpdGVQb3NpdGlvbiBhcyBsLHdyaXRlQnVmZmVyRmxvYXQgYXMgY31mcm9tXCIuL2ludGVybmFsL2J1ZmZlcldyaXRlclV0aWxzLmpzXCI7aW1wb3J0e0hlYXRtYXBEZW5zaXR5UGFzc1BhcmFtZXRlcnMgYXMgZixIZWF0bWFwRGVuc2l0eVRlY2huaXF1ZSBhcyBtfWZyb21cIi4uL3NoYWRlcnMvSGVhdG1hcERlbnNpdHlUZWNobmlxdWUuanNcIjtpbXBvcnR7SGVhdG1hcERlbnNpdHlUZWNobmlxdWVDb25maWd1cmF0aW9uIGFzIHB9ZnJvbVwiLi4vc2hhZGVycy9IZWF0bWFwRGVuc2l0eVRlY2huaXF1ZUNvbmZpZ3VyYXRpb24uanNcIjtjb25zdCBoPTI7Y2xhc3MgZyBleHRlbmRzIGZ7Y29uc3RydWN0b3IoKXtzdXBlciguLi5hcmd1bWVudHMpLHRoaXMuaXNBdHRyaWJ1dGVEcml2ZW49ITEsdGhpcy51c2VzSGFsZkZsb2F0cz0hMX19Y2xhc3MgVCBleHRlbmRzIGF7Y29uc3RydWN0b3IodCl7c3VwZXIodCxnKSx0aGlzLnByb2R1Y2VzPW5ldyBNYXAoW1tuLkRSQVBFRF9NQVRFUklBTCx0PT50PT09aS5Db2xvcl1dKSx0aGlzLl9jb25maWd1cmF0aW9uPW5ldyBwfWdldENvbmZpZ3VyYXRpb24odCxlKXtyZXR1cm4gc3VwZXIuZ2V0Q29uZmlndXJhdGlvbih0LGUsdGhpcy5fY29uZmlndXJhdGlvbiksdGhpcy5fY29uZmlndXJhdGlvbi5pc0F0dHJpYnV0ZURyaXZlbj10aGlzLnBhcmFtZXRlcnMuaXNBdHRyaWJ1dGVEcml2ZW4sdGhpcy5fY29uZmlndXJhdGlvbi51c2VzSGFsZkZsb2F0PXRoaXMucGFyYW1ldGVycy51c2VzSGFsZkZsb2F0cyx0aGlzLl9jb25maWd1cmF0aW9ufWdldCB2aXNpYmxlKCl7cmV0dXJuITB9Y3JlYXRlR0xNYXRlcmlhbCh0KXtyZXR1cm4gbmV3IGQodCl9aW50ZXJzZWN0KCl7fWludGVyc2VjdERyYXBlZChyLHMsaSxvLGEpe2NvbnN0IG49ci5hdHRyaWJ1dGVzLmdldCh1LlBPU0lUSU9OKSx7cGFyYW1ldGVyczpsfT10aGlzLHtzZWFyY2hSYWRpdXM6Y309bCx7c2NyZWVuVG9Xb3JsZFJhdGlvOmZ9PXIsbT1jKmYraCpmLHA9bSptLGc9bi5kYXRhLmxlbmd0aC9uLnNpemU7Zm9yKGxldCB1PTA7dTxnO3UrKyl7Y29uc3Qgcj11Km4uc2l6ZSxzPXQoaixuLmRhdGFbcl0sbi5kYXRhW3IrMV0pO2UocyxpKTxwJiZvKGEuZGlzdGFuY2UsYS5ub3JtYWwsLTEpfX1jcmVhdGVCdWZmZXJXcml0ZXIoKXtyZXR1cm4gbmV3IGIodGhpcy5wYXJhbWV0ZXJzLmlzQXR0cmlidXRlRHJpdmVuP0k6QSl9fWNsYXNzIGQgZXh0ZW5kcyBve2JlZ2luU2xvdCh0KXtyZXR1cm4gdGhpcy5nZXRUZWNobmlxdWUobSx0KX19Y2xhc3MgYntjb25zdHJ1Y3Rvcih0KXt0aGlzLnZlcnRleEJ1ZmZlckxheW91dD10fWVsZW1lbnRDb3VudCh0KXtyZXR1cm4gdC5nZXQodS5QT1NJVElPTikuaW5kaWNlcy5sZW5ndGgqdn13cml0ZSh0LGUscixzLGksbyl7bChyLmdldCh1LlBPU0lUSU9OKSx0LGkucG9zaXRpb24sbyx2KTtjb25zdCBhPXIuZ2V0KHUuUE9TSVRJT04pLmluZGljZXMubGVuZ3RoLG49aS51djA7bGV0IGY9bztmb3IobGV0IHU9MDt1PGE7Kyt1KW4uc2V0VmFsdWVzKGYrKywtMSwtMSksbi5zZXRWYWx1ZXMoZisrLDEsLTEpLG4uc2V0VmFsdWVzKGYrKywxLDEpLG4uc2V0VmFsdWVzKGYrKywxLDEpLG4uc2V0VmFsdWVzKGYrKywtMSwxKSxuLnNldFZhbHVlcyhmKyssLTEsLTEpO2NvbnN0IG09dS5GRUFUVVJFQVRUUklCVVRFIGluIGk/aS5mZWF0dXJlQXR0cmlidXRlOm51bGw7cmV0dXJuIG0/KGMoci5nZXQodS5GRUFUVVJFQVRUUklCVVRFKSxtLG8sdiksbnVsbCk6bnVsbH19Y29uc3QgQT1zKCkudmVjM2YodS5QT1NJVElPTikudmVjMmYxNih1LlVWMCksST1BLmNsb25lKCkuZjMyKHUuRkVBVFVSRUFUVFJJQlVURSksdj02LGo9cigpO2V4cG9ydHtUIGFzIEhlYXRtYXBEZW5zaXR5TWF0ZXJpYWwsZyBhcyBQYXJhbWV0ZXJzfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjMzL2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7UmVsb2FkYWJsZVNoYWRlck1vZHVsZSBhcyBlfWZyb21cIi4uL2NvcmUvc2hhZGVyVGVjaG5pcXVlL1JlbG9hZGFibGVTaGFkZXJNb2R1bGUuanNcIjtpbXBvcnR7U2hhZGVyVGVjaG5pcXVlIGFzIHJ9ZnJvbVwiLi4vY29yZS9zaGFkZXJUZWNobmlxdWUvU2hhZGVyVGVjaG5pcXVlLmpzXCI7aW1wb3J0e01hdGVyaWFsUGFyYW1ldGVycyBhcyBzfWZyb21cIi4uL2xpYi9NYXRlcmlhbC5qc1wiO2ltcG9ydHtIIGFzIHR9ZnJvbVwiLi4vLi4vLi4vLi4vY2h1bmtzL0hlYXRtYXBEZW5zaXR5Lmdsc2wuanNcIjtpbXBvcnR7bWFrZVBpcGVsaW5lU3RhdGUgYXMgbyxkZWZhdWx0Q29sb3JXcml0ZSBhcyBpLGFkZCBhcyBsfWZyb21cIi4uLy4uLy4uL3dlYmdsL3JlbmRlclN0YXRlLmpzXCI7Y2xhc3MgYSBleHRlbmRzIHN7Y29uc3RydWN0b3IoKXtzdXBlciguLi5hcmd1bWVudHMpLHRoaXMuc2VhcmNoUmFkaXVzPTEyOCx0aGlzLnJlc29sdXRpb25Gb3JTY2FsZT0wfX1jbGFzcyBuIGV4dGVuZHMgcntjb25zdHJ1Y3RvcihyLHMpe3N1cGVyKHIscyxuZXcgZSh0LCgoKT0+aW1wb3J0KFwiLi9IZWF0bWFwRGVuc2l0eS5nbHNsLmpzXCIpKSkpfWluaXRpYWxpemVQaXBlbGluZSgpe3JldHVybiBvKHtibGVuZGluZzpsLGNvbG9yV3JpdGU6aSxkZXB0aFRlc3Q6bnVsbCxkZXB0aFdyaXRlOm51bGx9KX1kZXN0cm95KCl7c3VwZXIuZGVzdHJveSgpfX1leHBvcnR7YSBhcyBIZWF0bWFwRGVuc2l0eVBhc3NQYXJhbWV0ZXJzLG4gYXMgSGVhdG1hcERlbnNpdHlUZWNobmlxdWV9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMzMvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtfIGFzIHR9ZnJvbVwiLi4vLi4vLi4vLi4vY2h1bmtzL3RzbGliLmVzNi5qc1wiO2ltcG9ydHtwYXJhbWV0ZXIgYXMgZX1mcm9tXCIuLi9jb3JlL3NoYWRlclRlY2huaXF1ZS9TaGFkZXJUZWNobmlxdWVDb25maWd1cmF0aW9uLmpzXCI7aW1wb3J0e0RlZmF1bHRUZWNobmlxdWVDb25maWd1cmF0aW9uIGFzIGl9ZnJvbVwiLi4vbWF0ZXJpYWxzL0RlZmF1bHRUZWNobmlxdWVDb25maWd1cmF0aW9uLmpzXCI7Y2xhc3MgbyBleHRlbmRzIGl7Y29uc3RydWN0b3IoKXtzdXBlciguLi5hcmd1bWVudHMpLHRoaXMuaXNBdHRyaWJ1dGVEcml2ZW49ITEsdGhpcy51c2VzSGFsZkZsb2F0PSExfX10KFtlKCldLG8ucHJvdG90eXBlLFwiaXNBdHRyaWJ1dGVEcml2ZW5cIix2b2lkIDApLHQoW2UoKV0sby5wcm90b3R5cGUsXCJ1c2VzSGFsZkZsb2F0XCIsdm9pZCAwKTtleHBvcnR7byBhcyBIZWF0bWFwRGVuc2l0eVRlY2huaXF1ZUNvbmZpZ3VyYXRpb259O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMzMvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtSZWxvYWRhYmxlU2hhZGVyTW9kdWxlIGFzIGV9ZnJvbVwiLi4vY29yZS9zaGFkZXJUZWNobmlxdWUvUmVsb2FkYWJsZVNoYWRlck1vZHVsZS5qc1wiO2ltcG9ydHtTaGFkZXJUZWNobmlxdWUgYXMgcn1mcm9tXCIuLi9jb3JlL3NoYWRlclRlY2huaXF1ZS9TaGFkZXJUZWNobmlxdWUuanNcIjtpbXBvcnR7SCBhcyBzfWZyb21cIi4uLy4uLy4uLy4uL2NodW5rcy9IZWF0bWFwLmdsc2wuanNcIjtpbXBvcnR7UHJpbWl0aXZlVHlwZSBhcyB0fWZyb21cIi4uLy4uLy4uL3dlYmdsL2VudW1zLmpzXCI7aW1wb3J0e05vUGFyYW1ldGVycyBhcyBpfWZyb21cIi4uLy4uLy4uL3dlYmdsL05vUGFyYW1ldGVycy5qc1wiO2ltcG9ydHttYWtlUGlwZWxpbmVTdGF0ZSBhcyBvLGRlZmF1bHRDb2xvcldyaXRlIGFzIGwsdW5wcmVtdWx0aXBsaWVkQWxwaGFUb1ByZW11bHRpcGxpZWRBbHBoYSBhcyBufWZyb21cIi4uLy4uLy4uL3dlYmdsL3JlbmRlclN0YXRlLmpzXCI7Y2xhc3MgYSBleHRlbmRzIGl7Y29uc3RydWN0b3IoKXtzdXBlciguLi5hcmd1bWVudHMpLHRoaXMuY29sb3JSYW1wPW51bGwsdGhpcy5kZW5zaXR5TWFwPW51bGwsdGhpcy5zZWFyY2hSYWRpdXM9MSx0aGlzLmZpZWxkVG90YWw9MCx0aGlzLm1pbkRlbnNpdHk9MCx0aGlzLm1heERlbnNpdHk9MTAwfX1jbGFzcyBtIGV4dGVuZHMgcntjb25zdHJ1Y3RvcihyLGkpe3N1cGVyKHIsaSxuZXcgZShzLCgoKT0+aW1wb3J0KFwiLi9IZWF0bWFwLmdsc2wuanNcIikpKSksdGhpcy5wcmltaXRpdmVUeXBlPXQuVFJJQU5HTEVfU1RSSVB9aW5pdGlhbGl6ZVBpcGVsaW5lKCl7cmV0dXJuIG8oe2JsZW5kaW5nOm4sY29sb3JXcml0ZTpsLGRlcHRoVGVzdDpudWxsLGRlcHRoV3JpdGU6bnVsbH0pfX1leHBvcnR7YSBhcyBIZWF0bWFwUGFzc1BhcmFtZXRlcnMsbSBhcyBIZWF0bWFwVGVjaG5pcXVlfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjMzL2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7XyBhcyBlfWZyb21cIi4uLy4uLy4uLy4uL2NodW5rcy90c2xpYi5lczYuanNcIjtpbXBvcnR7cGFyYW1ldGVyIGFzIG99ZnJvbVwiLi4vY29yZS9zaGFkZXJUZWNobmlxdWUvU2hhZGVyVGVjaG5pcXVlQ29uZmlndXJhdGlvbi5qc1wiO2ltcG9ydHtEZWZhdWx0VGVjaG5pcXVlQ29uZmlndXJhdGlvbiBhcyBzfWZyb21cIi4uL21hdGVyaWFscy9EZWZhdWx0VGVjaG5pcXVlQ29uZmlndXJhdGlvbi5qc1wiO2NsYXNzIHIgZXh0ZW5kcyBze2NvbnN0cnVjdG9yKCl7c3VwZXIoLi4uYXJndW1lbnRzKSx0aGlzLnVzZXNIYWxmRmxvYXQ9ITF9fWUoW28oKV0sci5wcm90b3R5cGUsXCJ1c2VzSGFsZkZsb2F0XCIsdm9pZCAwKTtleHBvcnR7ciBhcyBIZWF0bWFwVGVjaG5pcXVlQ29uZmlndXJhdGlvbn07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4zMy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0IGUgZnJvbVwiLi4vLi4vY29yZS9FcnJvci5qc1wiO2ltcG9ydHtQaXhlbFR5cGUgYXMgdCxUZXh0dXJlU2FtcGxpbmdNb2RlIGFzIHIsUGl4ZWxGb3JtYXQgYXMgbyxTaXplZFBpeGVsRm9ybWF0IGFzIGF9ZnJvbVwiLi9lbnVtcy5qc1wiO2NsYXNzIGx7Y29uc3RydWN0b3IoZSx0LHIsbyl7dGhpcy5kYXRhVHlwZT1lLHRoaXMuc2FtcGxpbmdNb2RlPXQsdGhpcy5waXhlbEZvcm1hdD1yLHRoaXMuaW50ZXJuYWxGb3JtYXQ9b319ZnVuY3Rpb24gbihuLGkpe2NvbnN0e3RleHR1cmVGbG9hdExpbmVhcjpzLGNvbG9yQnVmZmVyRmxvYXQ6Zn09bi5jYXBhYmlsaXRpZXMsdT1mPy50ZXh0dXJlRmxvYXQsXz1mPy50ZXh0dXJlSGFsZkZsb2F0LGM9Zj8uZmxvYXRCbGVuZCxtPW4uZHJpdmVyVGVzdC5mbG9hdEJ1ZmZlckJsZW5kLnJlc3VsdDtpZighdSYmIV8pdGhyb3cgbmV3IGUoXCJoZWF0bWFwOm1pc3NpbmctY29sb3ItYnVmZmVyLWZsb2F0XCIsXCJIZWF0bWFwUmVuZGVyZXIgcmVxdWlyZXMgdGhlIFdlYkdMIGV4dGVuc2lvbiBFWFRfY29sb3JfYnVmZmVyX2Zsb2F0IG9yIEVYVF9jb2xvcl9idWZmZXJfaGFsZl9mbG9hdCBvciBXRUJHTF9jb2xvcl9idWZmZXJfZmxvYXQuXCIpO2lmKCEoYyYmbXx8XykpdGhyb3cgbmV3IGUoXCJoZWF0bWFwOm1pc3NpbmctZmxvYXQtYmxlbmRcIixcIkhlYXRtYXBSZW5kZXJlciByZXF1aXJlcyB0aGUgV2ViR0wgZXh0ZW5zaW9uIEVYVF9mbG9hdF9ibGVuZCBvciBFWFRfY29sb3JfYnVmZmVyX2hhbGZfZmxvYXQuXCIrKG0/XCJcIjpcIiBUaGlzIGRldmljZSBjbGFpbXMgc3VwcG9ydCBmb3IgRVhUX2Zsb2F0X2JsZW5kLCBidXQgZG9lcyBub3QgYWN0dWFsbHkgc3VwcG9ydCBpdC5cIikpO2NvbnN0IHA9dSYmYyYmbSxkPV8sUj1zLGg9ISFmPy5SMzJGLGI9ISFmPy5SMTZGO2lmKHAmJlIpcmV0dXJuIFJ8fGkud2Fybk9uY2UoXCJNaXNzaW5nIFdlYkdMIGV4dGVuc2lvbiBPRVNfdGV4dHVyZV9mbG9hdF9saW5lYXIuIEhlYXRtYXAgcXVhbGl0eSBtYXkgYmUgcmVkdWNlZC5cIiksbmV3IGwodC5GTE9BVCxSP3IuTElORUFSOnIuTkVBUkVTVCxoP28uUkVEOm8uUkdCQSxoP2EuUjMyRjpvLlJHQkEpO2lmKGQpcmV0dXJuIG5ldyBsKHQuSEFMRl9GTE9BVCxyLkxJTkVBUixiP28uUkVEOm8uUkdCQSxiP2EuUjE2RjpvLlJHQkEpO3Rocm93IG5ldyBlKFwiaGVhdG1hcDptaXNzaW5nLWhhcmR3YXJlLXN1cHBvcnRcIixcIkhlYXRtYXBSZW5kZXJlciByZXF1aXJlcyBXZWJHTCBleHRlbnNpb25zIHRoYXQgYWxsb3cgaXQgdG8gcmVuZGVyIGFuZCBibGVuZCB0byBmbG9hdCBvciBoYWxmIGZsb2F0IHRleHR1cmVzLlwiKX1jb25zdCBpPW5ldyBsKHQuSEFMRl9GTE9BVCxyLk5FQVJFU1Qsby5SR0JBLG8uUkdCQSk7ZXhwb3J0e2wgYXMgSGVhdG1hcFRleHR1cmVDb25maWd1cmF0aW9uLGkgYXMgZmFsbEJhY2tIZWF0bWFwQ29uZmlndXJhdGlvbixuIGFzIGxvYWRIZWF0bWFwVGV4dHVyZUNvbmZpZ3VyYXRpb259O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9