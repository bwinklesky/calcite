export const __webpack_id__ = "vendors-node_modules_arcgis_core_core_maybeUpdating_js-node_modules_arcgis_core_views_3d_laye-67f012";
export const __webpack_ids__ = ["vendors-node_modules_arcgis_core_core_maybeUpdating_js-node_modules_arcgis_core_views_3d_laye-67f012"];
export const __webpack_modules__ = {

/***/ "./node_modules/@arcgis/core/core/maybeUpdating.js":
/*!*********************************************************!*\
  !*** ./node_modules/@arcgis/core/core/maybeUpdating.js ***!
  \*********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   isUpdating: () => (/* binding */ u),
/* harmony export */   unwrapUpdating: () => (/* binding */ t),
/* harmony export */   updating: () => (/* binding */ n)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
const n="updating";function t(n){return"updating"===n?null:n}function u(n){return"updating"===n}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/I3SPointsWorkerHandle.js":
/*!****************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/I3SPointsWorkerHandle.js ***!
  \****************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   I3SPointsWorkerHandle: () => (/* binding */ r)
/* harmony export */ });
/* harmony import */ var _core_workers_WorkerHandle_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../core/workers/WorkerHandle.js */ "./node_modules/@arcgis/core/core/workers/WorkerHandle.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
class r extends _core_workers_WorkerHandle_js__WEBPACK_IMPORTED_MODULE_0__.WorkerHandle{constructor(e){super("SceneLayerWorker","dracoDecompressPointCloudData",{dracoDecompressPointCloudData:e=>[e.geometryBuffer]},e,{hasInitialize:!0})}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/SceneLayerGraphicsView3D.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/SceneLayerGraphicsView3D.js ***!
  \*******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ de)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/maybe.js */ "./node_modules/@arcgis/core/core/maybe.js");
/* harmony import */ var _core_memoryEstimations_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../core/memoryEstimations.js */ "./node_modules/@arcgis/core/core/memoryEstimations.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../core/reactiveUtils.js */ "./node_modules/@arcgis/core/core/reactiveUtils.js");
/* harmony import */ var _core_uid_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../core/uid.js */ "./node_modules/@arcgis/core/core/uid.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_RandomLCG_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../core/RandomLCG.js */ "./node_modules/@arcgis/core/core/RandomLCG.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _chunks_vec32_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../chunks/vec32.js */ "./node_modules/@arcgis/core/chunks/vec32.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../core/libs/gl-matrix-2/factories/vec3f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/vec3f64.js");
/* harmony import */ var _geometry_projection_projectBuffer_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../geometry/projection/projectBuffer.js */ "./node_modules/@arcgis/core/geometry/projection/projectBuffer.js");
/* harmony import */ var _geometry_projection_projectVectorToVector_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../geometry/projection/projectVectorToVector.js */ "./node_modules/@arcgis/core/geometry/projection/projectVectorToVector.js");
/* harmony import */ var _geometry_support_contains_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../geometry/support/contains.js */ "./node_modules/@arcgis/core/geometry/support/contains.js");
/* harmony import */ var _geometry_support_DoubleArray_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../../geometry/support/DoubleArray.js */ "./node_modules/@arcgis/core/geometry/support/DoubleArray.js");
/* harmony import */ var _geometry_support_zscale_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../../geometry/support/zscale.js */ "./node_modules/@arcgis/core/geometry/support/zscale.js");
/* harmony import */ var _layers_LayerConstants_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../../layers/LayerConstants.js */ "./node_modules/@arcgis/core/layers/LayerConstants.js");
/* harmony import */ var _layers_graphics_dehydratedFeatures_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../../layers/graphics/dehydratedFeatures.js */ "./node_modules/@arcgis/core/layers/graphics/dehydratedFeatures.js");
/* harmony import */ var _layers_graphics_dehydratedPoint_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../../../layers/graphics/dehydratedPoint.js */ "./node_modules/@arcgis/core/layers/graphics/dehydratedPoint.js");
/* harmony import */ var _layers_graphics_hydratedFeatures_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../../../layers/graphics/hydratedFeatures.js */ "./node_modules/@arcgis/core/layers/graphics/hydratedFeatures.js");
/* harmony import */ var _layers_graphics_controllers_I3SOnDemandController_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../../../layers/graphics/controllers/I3SOnDemandController.js */ "./node_modules/@arcgis/core/layers/graphics/controllers/I3SOnDemandController.js");
/* harmony import */ var _layers_support_FeatureFilter_js__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../../../layers/support/FeatureFilter.js */ "./node_modules/@arcgis/core/layers/support/FeatureFilter.js");
/* harmony import */ var _rest_support_Query_js__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ../../../rest/support/Query.js */ "./node_modules/@arcgis/core/rest/support/Query.js");
/* harmony import */ var _support_basemapUtils_js__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ../../../support/basemapUtils.js */ "./node_modules/@arcgis/core/support/basemapUtils.js");
/* harmony import */ var _I3SPointsWorkerHandle_js__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ./I3SPointsWorkerHandle.js */ "./node_modules/@arcgis/core/views/3d/layers/I3SPointsWorkerHandle.js");
/* harmony import */ var _LayerView3D_js__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ./LayerView3D.js */ "./node_modules/@arcgis/core/views/3d/layers/LayerView3D.js");
/* harmony import */ var _graphics_Graphics3DFeatureProcessor_js__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ./graphics/Graphics3DFeatureProcessor.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DFeatureProcessor.js");
/* harmony import */ var _graphics_QueryEngine_js__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ./graphics/QueryEngine.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/QueryEngine.js");
/* harmony import */ var _graphics_QueryEngineContext_js__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ./graphics/QueryEngineContext.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/QueryEngineContext.js");
/* harmony import */ var _i3s_featureEditing_js__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ./i3s/featureEditing.js */ "./node_modules/@arcgis/core/views/3d/layers/i3s/featureEditing.js");
/* harmony import */ var _i3s_I3SBinaryReader_js__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! ./i3s/I3SBinaryReader.js */ "./node_modules/@arcgis/core/views/3d/layers/i3s/I3SBinaryReader.js");
/* harmony import */ var _i3s_I3SGraphicsMap_js__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! ./i3s/I3SGraphicsMap.js */ "./node_modules/@arcgis/core/views/3d/layers/i3s/I3SGraphicsMap.js");
/* harmony import */ var _i3s_I3SOverrides_js__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(/*! ./i3s/I3SOverrides.js */ "./node_modules/@arcgis/core/views/3d/layers/i3s/I3SOverrides.js");
/* harmony import */ var _i3s_I3SUtil_js__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__(/*! ./i3s/I3SUtil.js */ "./node_modules/@arcgis/core/views/3d/layers/i3s/I3SUtil.js");
/* harmony import */ var _support_DefinitionExpressionSceneLayerView_js__WEBPACK_IMPORTED_MODULE_36__ = __webpack_require__(/*! ./support/DefinitionExpressionSceneLayerView.js */ "./node_modules/@arcgis/core/views/3d/layers/support/DefinitionExpressionSceneLayerView.js");
/* harmony import */ var _support_fieldProperties_js__WEBPACK_IMPORTED_MODULE_37__ = __webpack_require__(/*! ./support/fieldProperties.js */ "./node_modules/@arcgis/core/views/3d/layers/support/fieldProperties.js");
/* harmony import */ var _support_LayerViewPerformanceInfo_js__WEBPACK_IMPORTED_MODULE_38__ = __webpack_require__(/*! ./support/LayerViewPerformanceInfo.js */ "./node_modules/@arcgis/core/views/3d/layers/support/LayerViewPerformanceInfo.js");
/* harmony import */ var _support_PopupSceneLayerView_js__WEBPACK_IMPORTED_MODULE_39__ = __webpack_require__(/*! ./support/PopupSceneLayerView.js */ "./node_modules/@arcgis/core/views/3d/layers/support/PopupSceneLayerView.js");
/* harmony import */ var _support_SceneLayerViewRequiredFields_js__WEBPACK_IMPORTED_MODULE_40__ = __webpack_require__(/*! ./support/SceneLayerViewRequiredFields.js */ "./node_modules/@arcgis/core/views/3d/layers/support/SceneLayerViewRequiredFields.js");
/* harmony import */ var _support_TemporalSceneLayerView_js__WEBPACK_IMPORTED_MODULE_41__ = __webpack_require__(/*! ./support/TemporalSceneLayerView.js */ "./node_modules/@arcgis/core/views/3d/layers/support/TemporalSceneLayerView.js");
/* harmony import */ var _support_debugFlags_js__WEBPACK_IMPORTED_MODULE_42__ = __webpack_require__(/*! ../support/debugFlags.js */ "./node_modules/@arcgis/core/views/3d/support/debugFlags.js");
/* harmony import */ var _support_orientedBoundingBox_js__WEBPACK_IMPORTED_MODULE_43__ = __webpack_require__(/*! ../support/orientedBoundingBox.js */ "./node_modules/@arcgis/core/views/3d/support/orientedBoundingBox.js");
/* harmony import */ var _support_updatingProperties_js__WEBPACK_IMPORTED_MODULE_44__ = __webpack_require__(/*! ../support/updatingProperties.js */ "./node_modules/@arcgis/core/views/3d/support/updatingProperties.js");
/* harmony import */ var _webgl_engine_lib_Attribute_js__WEBPACK_IMPORTED_MODULE_45__ = __webpack_require__(/*! ../webgl-engine/lib/Attribute.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/Attribute.js");
/* harmony import */ var _webgl_engine_lib_UpdatePolicy_js__WEBPACK_IMPORTED_MODULE_46__ = __webpack_require__(/*! ../webgl-engine/lib/UpdatePolicy.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/UpdatePolicy.js");
/* harmony import */ var _layers_SceneLayerView_js__WEBPACK_IMPORTED_MODULE_47__ = __webpack_require__(/*! ../../layers/SceneLayerView.js */ "./node_modules/@arcgis/core/views/layers/SceneLayerView.js");
/* harmony import */ var _layers_support_popupUtils_js__WEBPACK_IMPORTED_MODULE_48__ = __webpack_require__(/*! ../../layers/support/popupUtils.js */ "./node_modules/@arcgis/core/views/layers/support/popupUtils.js");
/* harmony import */ var _support_HighlightDefaults_js__WEBPACK_IMPORTED_MODULE_49__ = __webpack_require__(/*! ../../support/HighlightDefaults.js */ "./node_modules/@arcgis/core/views/support/HighlightDefaults.js");
/* harmony import */ var _support_layerViewUtils_js__WEBPACK_IMPORTED_MODULE_50__ = __webpack_require__(/*! ../../support/layerViewUtils.js */ "./node_modules/@arcgis/core/views/support/layerViewUtils.js");
/* harmony import */ var _support_Scheduler_js__WEBPACK_IMPORTED_MODULE_51__ = __webpack_require__(/*! ../../support/Scheduler.js */ "./node_modules/@arcgis/core/views/support/Scheduler.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
const ae=(0,_support_fieldProperties_js__WEBPACK_IMPORTED_MODULE_37__.defineFieldProperties)();class ne{constructor(e,t,r,i){this.graphics=e,this.featureIds=t,this.attributeInfo=r,this.node=i}get cachedMemory(){return this.graphics.reduce(((e,t)=>(0,_layers_graphics_dehydratedFeatures_js__WEBPACK_IMPORTED_MODULE_19__.estimateSize)(t)+e),(0,_core_memoryEstimations_js__WEBPACK_IMPORTED_MODULE_4__.estimateNumberArrayMemory)(this.featureIds)+1024)}}let le=class extends((0,_support_TemporalSceneLayerView_js__WEBPACK_IMPORTED_MODULE_41__.TemporalSceneLayerView)((0,_support_DefinitionExpressionSceneLayerView_js__WEBPACK_IMPORTED_MODULE_36__.DefinitionExpressionSceneLayerView)((0,_support_PopupSceneLayerView_js__WEBPACK_IMPORTED_MODULE_39__.PopupSceneLayerView)((0,_LayerView3D_js__WEBPACK_IMPORTED_MODULE_27__.LayerView3D)(_layers_SceneLayerView_js__WEBPACK_IMPORTED_MODULE_47__["default"]))))){constructor(){super(...arguments),this.type="scene-layer-graphics-3d",this._queryEngine=null,this._memCache=null,this._interactiveEditingSessions=new Map,this._pendingEditsQueue=Promise.resolve(),this.loadedGraphics=new _i3s_I3SGraphicsMap_js__WEBPACK_IMPORTED_MODULE_33__.I3SGraphicsMap(((e,t,r)=>pe(e,t,r)),(e=>this.processor.graphicsCore.recreateGraphics(e))),this.holeFilling="always",this.progressiveLoadFactor=1,this.supportsHeightUnitConversion=!0,this._coordinatesOutsideExtentErrors=0,this._maxCoordinatesOutsideExtentErrors=20}tryRecycleWith(e,t){return e.url===this.layer.url&&this._i3sOverrides.isEmpty?e.load(t).then((()=>{(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_5__.throwIfAborted)(t),(0,_i3s_I3SUtil_js__WEBPACK_IMPORTED_MODULE_35__.checkRecyclable)(this.layer,e,this._i3sOverrides),this.layer=e,this._i3sOverrides.destroy();const i=this.view.resourceController?.memoryController;this._i3sOverrides=new _i3s_I3SOverrides_js__WEBPACK_IMPORTED_MODULE_34__.I3SOverrides({view:this.view,layer:e,memoryController:i}),(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_3__.destroyMaybe)(this._queryEngine),this._setupQueryEngine(),this.processor.resetObjectStates()})):null}initialize(){this.addResolvingPromise(this.layer.indexInfo);const e=this.view.resourceController?.memoryController;this._i3sOverrides=new _i3s_I3SOverrides_js__WEBPACK_IMPORTED_MODULE_34__.I3SOverrides({view:this.view,layer:this.layer,memoryController:e}),(0,_i3s_I3SUtil_js__WEBPACK_IMPORTED_MODULE_35__.checkSpatialReferences)(this.layer,this.view.spatialReference,this.view.viewingMode),this._fieldsHelper=new _support_SceneLayerViewRequiredFields_js__WEBPACK_IMPORTED_MODULE_40__.SceneLayerViewRequiredFields({layerView:this}),this._updatingHandles.add((()=>this.layer.rangeInfos),(e=>this._rangeInfosChanged(e)),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_6__.initial),this._updatingHandles.add((()=>this.layer.renderer),((e,t)=>this._rendererChange(e,t))),this._updatingHandles.add((()=>[this.parsedDefinitionExpression,this.layer.excludeObjectIds]),(()=>this._filterChange())),this._set("processor",new _graphics_Graphics3DFeatureProcessor_js__WEBPACK_IMPORTED_MODULE_28__.Graphics3DFeatureProcessor({owner:this,preferredUpdatePolicy:_webgl_engine_lib_UpdatePolicy_js__WEBPACK_IMPORTED_MODULE_46__.UpdatePolicy.ASYNC,scaleVisibilityEnabled:!(0,_support_layerViewUtils_js__WEBPACK_IMPORTED_MODULE_50__.hasLayerBasedScaleVisibility)(),filterVisibilityEnabled:!0,timeExtentEnabled:!1,frustumVisibilityEnabled:!1,elevationAlignmentEnabled:!0,elevationFeatureExpressionEnabled:!1,setUidToIdOnAdd:!1,dataExtent:this.layer.fullExtent,updateClippingExtent:e=>this._updateClippingExtent(e)})),this.processor.elevationAlignment?.events.on("invalidate-elevation",(({extent:e,spatialReference:t})=>this._controller.updateElevationChanged(e,t))),this.supportsHeightUnitConversion&&(this._verticalScale=(0,_geometry_support_zscale_js__WEBPACK_IMPORTED_MODULE_17__.getGeometryZScaler)("point",this.layer.spatialReference,this.view.spatialReference)),this.addResolvingPromise(this.processor.when()),this._memCache=this.view.resourceController.memoryController.newCache(`psl-${this.uid}`),this._controller=new _layers_graphics_controllers_I3SOnDemandController_js__WEBPACK_IMPORTED_MODULE_22__["default"]({layerView:this}),(0,_i3s_I3SUtil_js__WEBPACK_IMPORTED_MODULE_35__.containsDraco)(this.layer.geometryDefinitions)&&(this._worker=new _I3SPointsWorkerHandle_js__WEBPACK_IMPORTED_MODULE_26__.I3SPointsWorkerHandle((e=>this.view.resourceController.immediate.schedule(e)))),this.addHandles(this.layer.on("apply-edits",(e=>this._updatingHandles.addPromise(e.result)))),this.addHandles([this.layer.on("edits",(e=>{const t=this._pendingEditsQueue.then((()=>this._handleEdits(e))).then();this._pendingEditsQueue=t,this._updatingHandles.addPromise(t)})),(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_6__.watch)((()=>_support_debugFlags_js__WEBPACK_IMPORTED_MODULE_42__.debugFlags.I3S_TREE_SHOW_TILES),(e=>{if(e&&!this._treeDebugger){const e=this._controller.crsIndex;__webpack_require__.e(/*! import() */ "node_modules_arcgis_core_views_3d_layers_support_I3STreeDebugger_js").then(__webpack_require__.bind(__webpack_require__, /*! ./support/I3STreeDebugger.js */ "./node_modules/@arcgis/core/views/3d/layers/support/I3STreeDebugger.js")).then((({I3STreeDebugger:t})=>{!this._treeDebugger&&_support_debugFlags_js__WEBPACK_IMPORTED_MODULE_42__.debugFlags.I3S_TREE_SHOW_TILES&&(this._treeDebugger=new t({lv:this,view:this.view,nodeSR:e}))}))}else e||!this._treeDebugger||_support_debugFlags_js__WEBPACK_IMPORTED_MODULE_42__.debugFlags.I3S_TREE_SHOW_TILES||(this._treeDebugger.destroy(),this._treeDebugger=null)}),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_6__.initial)]),this.when((()=>{this._setupQueryEngine(),this._updatingHandles.add((()=>this.maximumNumberOfFeatures),(e=>this._controller.featureTarget=e),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_6__.initial),this._updatingHandles.add((()=>this.suspended),(e=>{e&&this._removeAllNodeData()}))}))}destroy(){this._treeDebugger=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_3__.destroyMaybe)(this._treeDebugger),this._i3sOverrides=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_3__.destroyMaybe)(this._i3sOverrides),this._set("processor",(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_3__.destroyMaybe)(this.processor)),this._controller=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_3__.destroyMaybe)(this._controller),this._queryEngine=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_3__.destroyMaybe)(this._queryEngine),this._worker=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_3__.destroyMaybe)(this._worker),this._memCache=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_3__.destroyMaybe)(this._memCache),this.loadedGraphics.clear(),this._fieldsHelper=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_3__.destroyMaybe)(this._fieldsHelper)}get i3slayer(){return this.layer}get layerViewUid(){return this.uid}get updatingProgressValue(){return this._controller?.updatingProgress??1}get visibleAtCurrentScale(){return (0,_support_layerViewUtils_js__WEBPACK_IMPORTED_MODULE_50__.hasLayerBasedScaleVisibility)()?(0,_support_layerViewUtils_js__WEBPACK_IMPORTED_MODULE_50__.isInEffectiveScaleRange)(this.layer.effectiveScaleRange,this.view.scale):!this.processor?.scaleVisibilitySuspended}get requiredFields(){return this._fieldsHelper?.requiredFields??[]}get maximumNumberOfFeatures(){const e=this.processor?.graphicsCore?.displayFeatureLimit;return e?.maximumNumberOfFeatures??0}set maximumNumberOfFeatures(e){null!=e?(this._override("maximumNumberOfFeatures",e),this._controller.fixedFeatureTarget=!0):(this._clearOverride("maximumNumberOfFeatures"),this._controller.fixedFeatureTarget=!1)}get maximumNumberOfFeaturesExceeded(){return!this.suspended&&(!!this._controller?.useMaximumNumberOfFeatures&&!this._controller.leavesReached)}get _excludeObjectIds(){return new Set(this.layer.excludeObjectIds)}get lodFactor(){return"Labels"===this.layer.semantic?1:this.view.qualitySettings.sceneService.point.lodFactor}get hasM(){return!1}get hasZ(){return!0}get contentVisible(){return!this.suspended&&!!this._controller?.rootNodeVisible}get legendEnabled(){return this.contentVisible&&!0===this.i3slayer?.legendEnabled}async whenGraphicAttributes(e,t){return (0,_i3s_I3SUtil_js__WEBPACK_IMPORTED_MODULE_35__.whenGraphicAttributes)(this.layer,e,this._getObjectIdField(),t,(()=>[...this.loadedGraphics.nodes()]))}getHit(e){if(!this.loadedGraphics)return null;const t=(0,_layers_graphics_hydratedFeatures_js__WEBPACK_IMPORTED_MODULE_21__.hydrateGraphic)(this.loadedGraphics.find((t=>t.uid===e)),this.layer),r=this._getObjectIdField();return t?.attributes?.[r]?(t.layer=this.layer,t.sourceLayer=this.layer,{type:"graphic",graphic:t,layer:t.layer}):null}whenGraphicBounds(e,t){return this.processor.whenGraphicBounds(e,t)}computeAttachmentOrigin(e,t){return this.processor.computeAttachmentOrigin(e,t)}isUpdating(){return!!(this._controller?.updating||this.processor?.updating||this._fieldsHelper?.updating||this.layerFilterUpdating)}highlight(e,t){return this.processor.highlight(e,this.layer.objectIdField,t?.name??_support_HighlightDefaults_js__WEBPACK_IMPORTED_MODULE_49__.defaultHighlightName)}get updatePolicy(){return this.processor.graphicsCore.effectiveUpdatePolicy}createInteractiveEditSession(e){return (0,_i3s_featureEditing_js__WEBPACK_IMPORTED_MODULE_31__.createInteractiveEditSession)(this._attributeEditingContext,e)}async _decompressBinaryPointData(e,t){const r={geometryBuffer:e.geometryBuffer};null==this._worker&&(this._worker=new _I3SPointsWorkerHandle_js__WEBPACK_IMPORTED_MODULE_26__.I3SPointsWorkerHandle((e=>this.view.resourceController.immediate.schedule(e))));const i=await this._worker.invoke(r,t);if(null==i)throw new Error("Failed to decompress Draco point data");return{positionData:i.positions,featureIds:i.featureIds}}async addNode(e,r,i){if(!he(r)&&!ue(r))throw new Error;if(this.loadedGraphics.hasNode(e.index))return void _core_Logger_js__WEBPACK_IMPORTED_MODULE_2__["default"].getLogger(this).error("I3S node "+e.id+" already added");const s=null!=this.layer.fullExtent?me(this.layer.fullExtent.clone(),.5):null,{featureIds:o,pointPositions:a}=he(r)?await this._extractBinaryPointPositions(e,r,i):this._extractLegacyPointPositions(r),n=new Array;this._validatePositions(e,o,a,s,n);const l=this._controller.crsVertex,d=this.view.spatialReference;(0,_geometry_projection_projectBuffer_js__WEBPACK_IMPORTED_MODULE_13__.projectBuffer)(a,l,0,a,d,0,o.length);const u=he(r)?e.level:0,h=this._createGraphics(o,a,e.index,u),p=new ne(h,o,r.attributeDataInfo,e);if(await this._i3sOverrides.applyAttributeOverrides(p.featureIds,r.attributeDataInfo,i),e.numFeatures=p.graphics.length,this._updateNodeMemory(e),ce(p),n.length>0&&(this._computeObb(e,n,l),this._controller.updateVisibility(e.index)),!this._controller.isGeometryVisible(e))return void this._cacheNodeData(p);if(null!=this._verticalScale)for(const t of p.graphics)this._verticalScale(t.geometry);const m=this.view.stage.renderView.olidRenderHelper;if(m){const e=(0,_support_basemapUtils_js__WEBPACK_IMPORTED_MODULE_25__.isBasemapLayerView)(this.view,this.uid);for(let t=0;t<p.featureIds.length;t++){const r=p.featureIds[t];m.setUidToObjectAndLayerId(r,p.graphics[t].uid,this.layer.id,this.uid,this.layer.popupEnabled&&!e&&(0,_layers_support_popupUtils_js__WEBPACK_IMPORTED_MODULE_48__.hasPopupTemplate)(this.layer,this.view.popup?.defaultPopupTemplateEnabled),p.node.resources.attributes,t)}}this.loadedGraphics.addNode(e.index,p),this._controller.updateLoadStatus(e.index,!0),this._filterNode(p),this._treeDebugger&&this._treeDebugger.update()}_computeObb(e,t,r){const i=this._controller.crsIndex,s=i.isGeographic?this.view.renderSpatialReference:i;(0,_geometry_projection_projectBuffer_js__WEBPACK_IMPORTED_MODULE_13__.projectBuffer)(t,r,0,t,s,0),e.serviceObbInIndexSR=(0,_support_orientedBoundingBox_js__WEBPACK_IMPORTED_MODULE_43__.compute)(new _webgl_engine_lib_Attribute_js__WEBPACK_IMPORTED_MODULE_45__.Vertices(t,3)),i.isGeographic&&((0,_geometry_projection_projectVectorToVector_js__WEBPACK_IMPORTED_MODULE_14__.projectVectorToVector)(e.serviceObbInIndexSR.center,s,ye,i),e.serviceObbInIndexSR.center=ye)}isNodeLoaded(e){return this.loadedGraphics.hasNode(e)}isNodeReloading(){return!1}updateNodeState(){}getNodeComponentHandle(){}async _extractBinaryPointPositions(e,t,r){const i=await this._decompressBinaryPointData(t,r),s=i.positionData,o=3,a=s.length/o,n=(0,_geometry_support_DoubleArray_js__WEBPACK_IMPORTED_MODULE_16__.newDoubleArray)(3*a),l=null!=e.serviceObbInIndexSR?e.serviceObbInIndexSR.center:_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_12__.ZEROS,d=Math.abs(l[2])*2**-20;for(let u=0;u<a;u++){const e=u*o;n[e]=s[e]+l[0],n[e+1]=s[e+1]+l[1],n[e+2]=s[e+2]+l[2],Math.abs(n[e+2])<d&&(n[e+2]=0)}return{featureIds:i.featureIds?(0,_geometry_support_DoubleArray_js__WEBPACK_IMPORTED_MODULE_16__.doubleArrayFrom)(i.featureIds):[],pointPositions:n}}_extractLegacyPointPositions(e){const t=e.pointData.length,r=(0,_geometry_support_DoubleArray_js__WEBPACK_IMPORTED_MODULE_16__.newDoubleArray)(3*t),i=new Array;for(let s=0;s<t;s++){const t=e.pointData[s],o=t.featureDataPosition,a=o.length,n=t.geometries?.[0]??ge[a],l=t.featureIds[0];if("Embedded"!==n.type||"points"!==n.params.type||a<2||a>3)continue;const d=n.params.vertexAttributes?.position??[0,0,0],u=3*i.length;r[u]=o[0]+d[0],r[u+1]=o[1]+d[1],r[u+2]=3===a?o[2]+d[2]:NaN,i.push(l)}return{featureIds:i,pointPositions:r}}_validatePositions(e,r,i,s,o){if(null==s&&e.serviceObbInIndexSR)return;const a=r.length,n=3;for(let l=0;l<a;l++){const r=l*n;(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_11__.i)(ye,i[r],i[r+1],i[r+2]);const a=!Number.isNaN(i[2]);null==s||(a?(0,_geometry_support_contains_js__WEBPACK_IMPORTED_MODULE_15__.extentContainsCoords3D)(s,ye):(0,_geometry_support_contains_js__WEBPACK_IMPORTED_MODULE_15__.extentContainsCoords2D)(s,ye))||(this._coordinatesOutsideExtentErrors<this._maxCoordinatesOutsideExtentErrors&&_core_Logger_js__WEBPACK_IMPORTED_MODULE_2__["default"].getLogger(this).error("Service Error: Coordinates outside of layer extent"),this._coordinatesOutsideExtentErrors+1===this._maxCoordinatesOutsideExtentErrors&&_core_Logger_js__WEBPACK_IMPORTED_MODULE_2__["default"].getLogger(this).error("Maximum number of errors reached. Further errors are ignored."),this._coordinatesOutsideExtentErrors++),e.serviceObbInIndexSR||o.push(ye[0],ye[1],ye[2])}}_createGraphics(e,t,r,i){const s=e.length,o=3,a=this._getObjectIdField(),l=this.processor.graphicsCore,d=new Array,u=this.view.spatialReference;for(let h=0;h<s;h++){const s=e[h],p={};null!=s&&(p[a]=s);const c=s??(0,_core_uid_js__WEBPACK_IMPORTED_MODULE_7__.generateUID)(),m=h*o,g=isNaN(t[m+2])?void 0:t[m+2],y=(0,_layers_graphics_dehydratedPoint_js__WEBPACK_IMPORTED_MODULE_20__.makeDehydratedPoint)(t[m],t[m+1],g,u),f=this.loadedGraphics.get(c);if(null!=f)(null==f.level||f.level<i)&&(fe.property="geometry",fe.graphic=f,fe.oldValue=f.geometry,fe.newValue=y,f.geometry=y,f.level=i,l.graphicUpdateHandler(fe)),d.push(f);else{const e=(0,_core_uid_js__WEBPACK_IMPORTED_MODULE_7__.generateUID)();d.push({objectId:c,uid:e,geometry:y,attributes:p,visible:!0,nodeIndex:r,level:i})}}return d}_updateNodeMemory(e){e.memory=4096+(e.numFeatures??0)*this.processor.graphicsCore.usedMemoryPerGraphic}_cacheNodeData(e){this._memCache.put(this._getMemCacheKey(e.node),e)}_getMemCacheKey(e){return`${e.index}`}_removeAllNodeData(){this.loadedGraphics.forEachNode(((e,t)=>{if(e){const t=e.node;this._updateNodeMemory(t),this._cacheNodeData(e)}this._controller.updateLoadStatus(t,!1)})),this._treeDebugger&&this._treeDebugger.update(),this.loadedGraphics.clear()}removeNode(e){const t=this._removeNodeStageData(e);t&&(this._updateNodeMemory(t.node),this._cacheNodeData(t))}_removeNodeStageData(e){const t=this.loadedGraphics.getNode(e);return null==t?null:(this._controller.updateLoadStatus(e,!1),this.loadedGraphics.removeNode(e),this._treeDebugger&&this._treeDebugger.update(),t)}async loadCachedNodeData(e){return this._memCache?.pop(this._getMemCacheKey(e))}async addCachedNodeData(e,r,i,s){this.loadedGraphics.hasNode(e.index)?_core_Logger_js__WEBPACK_IMPORTED_MODULE_2__["default"].getLogger(this).error("I3S node "+e.id+" already added"):(await this._i3sOverrides.applyAttributeOverrides(r.featureIds,i,s),r.attributeInfo=i,this.loadedGraphics.addNode(e.index,r),this._controller.updateLoadStatus(e.index,!0),this._updateNodeMemory(e),ce(r),this._filterNode(r),this._treeDebugger&&this._treeDebugger.update())}getLoadedNodeIds(){const e=[];return this.loadedGraphics.forEachNode((t=>e.push(t.node.id))),e.sort()}getVisibleNodes(){const e=new Array;return this.loadedGraphics.forEachNode((t=>e.push(t.node))),e}getLoadedNodeIndices(e){this.loadedGraphics.forEachNode(((t,r)=>e.push(r)))}getLoadedAttributes(e){const t=this.loadedGraphics.getNode(e);if(null!=t?.attributeInfo)return t.attributeInfo.loadedAttributes}getAttributeData(e){const t=this.loadedGraphics.getNode(e);if(null!=t?.attributeInfo)return t.attributeInfo.attributeData}_setAttributeData(e,t){const r=this.loadedGraphics.getNode(e);null!=r?.attributeInfo&&(r.attributeInfo.attributeData=t,this._attributeValuesChanged(r))}async updateAttributes(e,t,r){const i=this.loadedGraphics.getNode(e);null!=i&&(await this._i3sOverrides.applyAttributeOverrides(i.featureIds,t,r),i.attributeInfo=t,this._attributeValuesChanged(i))}_attributeValuesChanged(e){ce(e),this._filterNode(e);const{processor:t}=this,{graphicsCore:r}=t;if(r.labelsEnabled){const t=e.node.index,i=new Array;e.graphics.forEach((e=>e.nodeIndex===t&&i.push(e.uid))),r.updateLabelingInfo(i)}t.refreshFilter()}_updateClippingExtent(e){return this._controller&&this._controller.updateClippingArea(e),!1}_getObjectIdField(){return this.layer.objectIdField||_layers_LayerConstants_js__WEBPACK_IMPORTED_MODULE_18__.fallbackObjectIDAttribute}_getGlobalIdField(){return this.layer.globalIdField}async _rendererChange(e,t){const{layer:{fieldsIndex:r}}=this,i=new Set;let s,o;e?(await e.collectRequiredFields(i,r),s=Array.from(i).sort()):s=[],i.clear(),t?(await t.collectRequiredFields(i,r),o=Array.from(i).sort()):o=[],s.length===o.length&&s.every(((e,t)=>s[t]===o[t]))||this._reloadAllNodes()}_rangeInfosChanged(e){null!=e&&e.length>0&&_core_Logger_js__WEBPACK_IMPORTED_MODULE_2__["default"].getLogger(this).warn("Unsupported property: rangeInfos are currently only serialized to and from web scenes but do not affect rendering.")}_filterChange(){this.loadedGraphics.forEachNode((e=>this._filterNode(e)))}_reloadAllNodes(){this._removeAllNodeData(),this._controller&&this._controller.restartNodeLoading()}_filterNode(e){const t=this.parsedDefinitionExpression,r=this._excludeObjectIds,i=this._getObjectIdField();for(const s of e.graphics){const e=s.visible,o=this._evaluateClause(t,s),a=!r.has(s.attributes[i]);s.visible=o&&a,e!==s.visible&&(fe.graphic=s,fe.property="visible",fe.oldValue=e,fe.newValue=s.visible,this.processor.graphicsCore.graphicUpdateHandler(fe))}}createQuery(){const e={outFields:["*"],returnGeometry:!0,outSpatialReference:this.view.spatialReference};return this.filter?.createQuery(e)??new _rest_support_Query_js__WEBPACK_IMPORTED_MODULE_24__["default"](e)}queryFeatures(e,t){return this._queryEngine.executeQuery(this._ensureQuery(e),t?.signal)}queryObjectIds(e,t){return this._queryEngine.executeQueryForIds(this._ensureQuery(e),t?.signal)}queryFeatureCount(e,t){return this._queryEngine.executeQueryForCount(this._ensureQuery(e),t?.signal)}queryExtent(e,t){return this._queryEngine.executeQueryForExtent(this._ensureQuery(e),t?.signal)}_ensureQuery(e){return this._addDefinitionExpressionToQuery(null==e?this.createQuery():_rest_support_Query_js__WEBPACK_IMPORTED_MODULE_24__["default"].from(e))}_setupQueryEngine(){const{layer:e,view:t,hasM:r,hasZ:i}=this,{spatialReference:s,resourceController:o}=t,a=new _graphics_QueryEngineContext_js__WEBPACK_IMPORTED_MODULE_30__.QueryEngineContext(s,e,o,(()=>this.processor.featureStore),i,r);this._queryEngine=new _graphics_QueryEngine_js__WEBPACK_IMPORTED_MODULE_29__.QueryEngine({context:a,priority:_support_Scheduler_js__WEBPACK_IMPORTED_MODULE_51__.TaskPriority.FEATURE_QUERY_ENGINE})}get usedMemory(){return this.processor?.graphicsCore?.usedMemory??0}get unloadedMemory(){return.8*((this._controller?.unloadedMemoryEstimate??0)+(this.processor?.graphicsCore?.unprocessedMemoryEstimate??0))}get ignoresMemoryFactor(){return this._controller&&this._controller.fixedFeatureTarget}async _handleEdits(e){const t=this._attributeEditingContext,r=await (0,_i3s_featureEditing_js__WEBPACK_IMPORTED_MODULE_31__.normalizeEditResultsEvent)(t,e);(0,_i3s_featureEditing_js__WEBPACK_IMPORTED_MODULE_31__.processAttributeEdits)(t,r)}get _attributeEditingContext(){const e=this._getObjectIdField(),t=this._getGlobalIdField();return{sessions:this._interactiveEditingSessions,fieldsIndex:this.layer.fieldsIndex,objectIdField:e,globalIdField:t,forEachNode:e=>this.loadedGraphics.forEachNode((t=>e(t.node,t.featureIds))),attributeStorageInfo:this.i3slayer.attributeStorageInfo??[],i3sOverrides:this._i3sOverrides,getAttributeData:e=>this.getAttributeData(e),setAttributeData:(t,r,i)=>{this._setAttributeData(t,r);const s=this.loadedGraphics.getNode(t);if(null!=i){const t=this.loadedGraphics.get(i.attributes[e]);null!=t&&this.processor.graphicsCore.recreateGraphics([t])}else null!=s&&this.processor.graphicsCore.recreateGraphics(s.graphics)},clearMemCache:()=>{}}}get performanceInfo(){return new _support_LayerViewPerformanceInfo_js__WEBPACK_IMPORTED_MODULE_38__.LayerViewPerformanceInfo(this.usedMemory,this.loadedGraphics.length,-1,this.maximumNumberOfFeatures,this.loadedGraphics.nodeCount,this.processor.graphicsCore.performanceInfo)}get test(){}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)()],le.prototype,"processor",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)({type:_layers_support_FeatureFilter_js__WEBPACK_IMPORTED_MODULE_23__["default"]})],le.prototype,"filter",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)()],le.prototype,"loadedGraphics",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)()],le.prototype,"i3slayer",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)()],le.prototype,"layerViewUid",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)()],le.prototype,"_controller",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)()],le.prototype,"updating",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)()],le.prototype,"suspended",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)(_support_updatingProperties_js__WEBPACK_IMPORTED_MODULE_44__.updatingProgress)],le.prototype,"updatingProgress",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)()],le.prototype,"updatingProgressValue",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)({readOnly:!0})],le.prototype,"visibleAtCurrentScale",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)(ae.requiredFields)],le.prototype,"requiredFields",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)(ae.availableFields)],le.prototype,"availableFields",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)()],le.prototype,"_fieldsHelper",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)({type:Number})],le.prototype,"maximumNumberOfFeatures",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)({readOnly:!0})],le.prototype,"maximumNumberOfFeaturesExceeded",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)()],le.prototype,"_excludeObjectIds",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)({readOnly:!0})],le.prototype,"lodFactor",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)({readOnly:!0})],le.prototype,"hasM",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)({readOnly:!0})],le.prototype,"hasZ",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)()],le.prototype,"contentVisible",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)({readOnly:!0})],le.prototype,"legendEnabled",null),le=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_10__.subclass)("esri.views.3d.layers.SceneLayerGraphicsView3D")],le);const de=le;function ue(e){return"pointData"in e}function he(e){return"geometryBuffer"in e&&null!==e.geometryBuffer}function pe(e,t,r){const i=t.attributeInfo;if(null==i?.loadedAttributes||null==i.attributeData)return!1;let s=!1;for(const{name:o}of i.loadedAttributes)if(i.attributeData[o]){const t=(0,_i3s_I3SBinaryReader_js__WEBPACK_IMPORTED_MODULE_32__.getCachedAttributeValue)(i.attributeData[o],r);t!==e.attributes[o]&&(e.attributes[o]=t,s=!0)}return s}function ce(e){const t=e.attributeInfo;if(null==t?.loadedAttributes||null==t.attributeData)return;const r=e.node.index;for(let i=0;i<e.graphics.length;i++){const s=e.graphics[i];if(s.nodeIndex===r){s.attributes||(s.attributes={});for(const{name:e}of t.loadedAttributes)t.attributeData[e]&&(s.attributes[e]=(0,_i3s_I3SBinaryReader_js__WEBPACK_IMPORTED_MODULE_32__.getCachedAttributeValue)(t.attributeData[e],i))}}}function me(e,t){return e.xmin-=t,e.ymin-=t,e.xmax+=t,e.ymax+=t,null!=e.zmin&&null!=e.zmax&&(e.zmin-=t,e.zmax+=t),null!=e.mmin&&null!=e.mmax&&(e.mmin-=t,e.mmax+=t),e}const ge={2:{type:"Embedded",params:{type:"points",vertexAttributes:{position:[0,0]}}},3:{type:"Embedded",params:{type:"points",vertexAttributes:{position:[0,0,0]}}}},ye=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_12__.create)(),fe={graphic:null,property:null,oldValue:null,newValue:null};


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/i3s/I3SGraphicsMap.js":
/*!*************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/i3s/I3SGraphicsMap.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   I3SGraphicsMap: () => (/* binding */ i)
/* harmony export */ });
/* harmony import */ var _core_Evented_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/Evented.js */ "./node_modules/@arcgis/core/core/Evented.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_MapUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core/MapUtils.js */ "./node_modules/@arcgis/core/core/MapUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
class i extends _core_Evented_js__WEBPACK_IMPORTED_MODULE_0__["default"]{constructor(e,t){super(),this._updateAndCompare=e,this._notifyUpdated=t,this._nodes=new Map,this._graphics=new Map,this._duplicates=new Map}clear(){if(this._graphics.size>0){const e=this.toArray();this._graphics.clear(),this.emit("change",{added:[],removed:e})}this._nodes.clear()}get length(){return this._graphics.size}get(e){return this._graphics.get(e)}getNode(e){return this._nodes.get(e)}hasNode(e){return this._nodes.has(e)}nodes(){return this._nodes.values()}addNode(e,t){this._nodes.set(e,t);const s=t.graphics;if(0===s.length)return;const i=new Set;for(let o=0;o<s.length;o++){const t=s[o],n=t.objectId,h=this._graphics.get(n);if(h){i.add(n),t!==h&&(s[o]=h);const r=this._duplicates.get(n);r?r.push(e):this._duplicates.set(n,[h.nodeIndex,e])}else t.nodeIndex=e,this._graphics.set(n,t)}i.size&&this._updateForeignGraphics(t);const n=i.size>0?s.filter((e=>!i.has(e.objectId))):s;n.length>0&&this.emit("change",{added:n,removed:[]})}removeNode(e){const t=this._nodes.get(e);if(!t)return;this._nodes.delete(e);const s=new Set,i=[];for(const n of t.graphics){const t=n.objectId,o=this._graphics.get(t);if(!o)continue;const h=this._duplicates.get(t);if(h){const i=h.indexOf(e);if(-1===i)continue;if(h.splice(i,1),o.nodeIndex===e){let e=this.getNode(h[0]);for(let t=1;t<h.length;t++){const s=this.getNode(h[t]);(null==e||null!=s&&s.node.level>e.node.level)&&(e=s)}null!=e&&s.add(e)}1===h.length&&this._duplicates.delete(t)}else this._graphics.delete(t),i.push(n)}i.length>0&&this.emit("change",{added:[],removed:i}),s.forEach((e=>this._updateForeignGraphics(e)))}_updateForeignGraphics(e){const t=[],s=e.node.index,i=e.node.level;let n=0;for(;n<e.graphics.length;){const o=e.graphics[n].nodeIndex;if(o===s){n++;continue}let h=1;for(;n+h<e.graphics.length&&e.graphics[n+h].nodeIndex===o;)h++;const r=this.getNode(o);if(null!=r&&r.node.level>i)n+=h;else{for(let i=n;i<n+h;i++){const n=e.graphics[i];n.nodeIndex=s,this._updateAndCompare(n,e,i)&&t.push(n)}n+=h}}t.length>0&&this._notifyUpdated(t)}toArray(){return Array.from(this._graphics.values())}find(e){return (0,_core_MapUtils_js__WEBPACK_IMPORTED_MODULE_2__.findInMap)(this._graphics,e)}some(e){return (0,_core_MapUtils_js__WEBPACK_IMPORTED_MODULE_2__.someMap)(this._graphics,e)}forEach(e){this._graphics.forEach((t=>e(t)))}forEachNode(e){this._nodes.forEach(((t,s)=>e(t,s)))}get nodeCount(){return this._nodes.size}_checkInvariants(){const e=new Map;this._nodes.forEach(((t,s)=>{t.graphics.forEach((t=>{e.set(t.objectId,1+(e.get(t.objectId)??0)),this._duplicates.get(t.objectId)}))})),e.forEach(((e,t)=>{const s=this._graphics.get(t);if(!s)return;if(!this._nodes.get(s.nodeIndex))return;const i=this._duplicates.get(t);i&&i.forEach((e=>{this._nodes.get(e)}))}))}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/support/DefinitionExpressionSceneLayerView.js":
/*!*************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/support/DefinitionExpressionSceneLayerView.js ***!
  \*************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   DefinitionExpressionSceneLayerView: () => (/* binding */ t)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_RandomLCG_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../core/RandomLCG.js */ "./node_modules/@arcgis/core/core/RandomLCG.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _core_sql_WhereClause_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../core/sql/WhereClause.js */ "./node_modules/@arcgis/core/core/sql/WhereClause.js");
/* harmony import */ var _i3s_I3SUtil_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../i3s/I3SUtil.js */ "./node_modules/@arcgis/core/views/3d/layers/i3s/I3SUtil.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
const t=t=>{let p=class extends t{constructor(){super(...arguments),this._definitionExpressionErrors=0,this._maxDefinitionExpressionErrors=20,this.logError=r=>{this._definitionExpressionErrors<this._maxDefinitionExpressionErrors&&_core_Logger_js__WEBPACK_IMPORTED_MODULE_1__["default"].getLogger(this).error("Error while evaluating definitionExpression: "+r),this._definitionExpressionErrors++,this._definitionExpressionErrors===this._maxDefinitionExpressionErrors&&_core_Logger_js__WEBPACK_IMPORTED_MODULE_1__["default"].getLogger(this).error("Further errors are ignored")}}get parsedDefinitionExpression(){if(!this.i3slayer?.definitionExpression)return null;try{const r=_core_sql_WhereClause_js__WEBPACK_IMPORTED_MODULE_6__["default"].create(this.i3slayer.definitionExpression,{fieldsIndex:this.i3slayer.fieldsIndex});if(!r.isStandardized)return _core_Logger_js__WEBPACK_IMPORTED_MODULE_1__["default"].getLogger(this).error("definitionExpression is using non standard function"),null;const i=[],s=r.fieldNames;return (0,_i3s_I3SUtil_js__WEBPACK_IMPORTED_MODULE_7__.findFieldsCaseInsensitive)(s,this.i3slayer.fieldsIndex,{missingFields:i}),i.length>0?(_core_Logger_js__WEBPACK_IMPORTED_MODULE_1__["default"].getLogger(this).error(`definitionExpression references unknown fields: ${i.join(", ")}`),null):(this._definitionExpressionErrors=0,r)}catch(r){return _core_Logger_js__WEBPACK_IMPORTED_MODULE_1__["default"].getLogger(this).error("Failed to parse definitionExpression: "+r),null}}get definitionExpressionFields(){return this.parsedDefinitionExpression?this.parsedDefinitionExpression.fieldNames:[]}_evaluateClause(r,e){if(null==r)return!0;try{return r.testFeature(e)}catch(i){return this.logError(i),!1}}_addDefinitionExpressionToQuery(r){if(!this.parsedDefinitionExpression)return r;const e=this.i3slayer.definitionExpression,i=r.clone();return i.where?i.where=`(${e}) AND (${i.where})`:i.where=e,i}};return (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)({readOnly:!0})],p.prototype,"parsedDefinitionExpression",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)({readOnly:!0})],p.prototype,"definitionExpressionFields",null),p=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_5__.subclass)("esri.views.3d.layers.support.DefinitionExpressionSceneLayerView")],p),p};


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/support/TemporalSceneLayerView.js":
/*!*************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/support/TemporalSceneLayerView.js ***!
  \*************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   TemporalSceneLayerView: () => (/* binding */ u)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_RandomLCG_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../core/RandomLCG.js */ "./node_modules/@arcgis/core/core/RandomLCG.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _layers_graphics_data_timeSupport_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../layers/graphics/data/timeSupport.js */ "./node_modules/@arcgis/core/layers/graphics/data/timeSupport.js");
/* harmony import */ var _layers_support_FeatureFilter_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../layers/support/FeatureFilter.js */ "./node_modules/@arcgis/core/layers/support/FeatureFilter.js");
/* harmony import */ var _layers_support_timeSupport_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../layers/support/timeSupport.js */ "./node_modules/@arcgis/core/layers/support/timeSupport.js");
/* harmony import */ var _i3s_I3SBinaryReader_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../i3s/I3SBinaryReader.js */ "./node_modules/@arcgis/core/views/3d/layers/i3s/I3SBinaryReader.js");
/* harmony import */ var _i3s_I3SUtil_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../i3s/I3SUtil.js */ "./node_modules/@arcgis/core/views/3d/layers/i3s/I3SUtil.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
const u=i=>{let o=class extends i{get timeExtent(){return (0,_layers_support_timeSupport_js__WEBPACK_IMPORTED_MODULE_8__.combineTimeExtent)(this.i3slayer,this.view?.timeExtent,this._get("timeExtent"))}get mergedFilter(){const{filter:t,timeExtent:e}=this;if(null==e)return t;const r=t?.clone()??new _layers_support_FeatureFilter_js__WEBPACK_IMPORTED_MODULE_7__["default"];return null!=e&&(r.timeExtent=r.timeExtent?.intersection(e)??e),r}getTimeFilterDependencies(){const{timeInfo:t}=this.i3slayer;if(null==t)return[];const{startField:e,endField:r}=t;return[e,r]}addTimeFilter(t,e){if(null==e)return;const{timeInfo:r}=this.i3slayer;if(null==r)return;const{startField:i,endField:s,useTime:n}=r;if(!n||null==i&&null==s)return;const o=r.toJSON(),l=e.toJSON();t.push(((t,e)=>a(t,e,o,l)))}};return (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_1__.property)({readOnly:!0})],o.prototype,"timeExtent",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_1__.property)()],o.prototype,"mergedFilter",null),o=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_5__.subclass)("esri.views.3d.layers.support.TemporalSceneLayerView")],o),o};function a(t,e,r,s){const n=e.attributeInfo?.attributeData;if(null==n)return;const{startTimeField:o,endTimeField:u}=r;if(!!(null!=o&&null==n[o]||null!=u&&null==n[u]))return;const a=(0,_layers_graphics_data_timeSupport_js__WEBPACK_IMPORTED_MODULE_6__.getTimeOperator)(r,s,new m(n));if(null==a)return;const{featureIds:p}=e;(0,_i3s_I3SUtil_js__WEBPACK_IMPORTED_MODULE_10__.filterInPlace)(t,p,a)}class m{constructor(t){this.attributeData=t}getAttribute(t,e){return (0,_i3s_I3SBinaryReader_js__WEBPACK_IMPORTED_MODULE_9__.getCachedAttributeValue)(this.attributeData[e],t)}getAttributeAsTimestamp(t,e){const r=this.getAttribute(t,e);return"string"==typeof r?new Date(r).getTime():"number"==typeof r||null==r?r:null}}


/***/ })

};

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmVuZG9ycy1ub2RlX21vZHVsZXNfYXJjZ2lzX2NvcmVfY29yZV9tYXliZVVwZGF0aW5nX2pzLW5vZGVfbW9kdWxlc19hcmNnaXNfY29yZV92aWV3c18zZF9sYXllLTY3ZjAxMi5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsY0FBYyw0QkFBNEIsY0FBYyxxQkFBK0U7Ozs7Ozs7Ozs7Ozs7Ozs7QUNKMUo7QUFDQTtBQUNBO0FBQ0E7QUFDcUUsZ0JBQWdCLHVFQUFDLENBQUMsZUFBZSwwREFBMEQsb0RBQW9ELElBQUksaUJBQWlCLEdBQXNDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDSi9RO0FBQ0E7QUFDQTtBQUNBO0FBQ3dtSCxTQUFTLG1GQUFDLEdBQUcsU0FBUyxxQkFBcUIsbUVBQW1FLG1CQUFtQixvQ0FBb0MscUZBQUMsT0FBTyxxRkFBQyx5QkFBeUIscUJBQXFCLDJGQUFDLENBQUMsbUhBQUMsQ0FBQyxxRkFBQyxDQUFDLDZEQUFDLENBQUMsa0VBQUUsTUFBTSxjQUFjLDhNQUE4TSxtRUFBQywwUEFBMFAsb0JBQW9CLCtFQUErRSxxRUFBQyxJQUFJLGlFQUFDLDRFQUE0RSx1REFBdUQsdUJBQXVCLCtEQUFDLEVBQUUsMENBQTBDLEVBQUUsNERBQUMsZ0ZBQWdGLFFBQVEsYUFBYSwrQ0FBK0MsdURBQXVELHVCQUF1QiwrREFBQyxFQUFFLG1EQUFtRCxFQUFFLHdFQUFDLHFGQUFxRixtR0FBQyxFQUFFLGVBQWUsd0ZBQXdGLDJEQUFDLDhPQUE4TyxnR0FBQyxFQUFFLGlDQUFpQyw0RUFBQywrQkFBK0IseUZBQUUsMlBBQTJQLDBFQUEwRSw0QkFBNEIsMEdBQTBHLGdGQUFDLCtMQUErTCxTQUFTLHdCQUF3Qiw4RkFBQyxFQUFFLGVBQWUsRUFBRSwrREFBQyxvREFBb0QsNkVBQUMscU1BQXFNLHdFQUF3RSw4REFB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RSxTQUFTLFFBQVEsaUJBQWlCLE9BQU8sdURBQUMsRUFBRSxzRkFBQyxFQUFFLFlBQVksa0RBQWtELHVEQUFDLEVBQUUsc0ZBQUMsRUFBRSxZQUFZLG9EQUFvRCx1REFBQyxFQUFFLHNGQUFDLDJFQUEySDs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNKMXFFO0FBQ0E7QUFDQTtBQUNBO0FBQ29wQixZQUFZLHNCQUFzQixpQkFBaUIsT0FBTyxpRkFBQyw4REFBOEQsbUJBQW1CLE1BQU0sc0JBQXNCLE1BQU0sb0JBQW9CLHdCQUF3Qix3RUFBQyxDQUFDLGtFQUFrRSw0QkFBNEIsTUFBTSxXQUFXLGVBQWUsb0JBQW9CLE1BQU0sd0JBQXdCLEdBQUcsWUFBWSxtQkFBbUIsa0JBQWtCLE1BQU0sV0FBVyxlQUFlLGtCQUFrQixNQUFNLGtDQUFrQyxHQUFHLCtCQUErQixnQ0FBZ0MsOEJBQThCLE9BQU8sdURBQUMsRUFBRSxzRkFBQyxFQUFFLFlBQVksa0NBQWtDLHVEQUFDLEVBQUUsc0ZBQUMsdUNBQXVDLHVEQUFDLEVBQUUsc0ZBQUMsK0RBQStELG9CQUFvQix1Q0FBdUMsa0JBQWtCLE1BQU0sZ0NBQWdDLEdBQUcsdURBQXVELFFBQVEscUZBQUMsZUFBZSxrQkFBa0IsTUFBTSxhQUFhLEdBQUcsK0RBQUMsUUFBUSxRQUFRLGVBQWUscUJBQXFCLGtCQUFrQixPQUFPLGdGQUFDLDBCQUEwQiw2QkFBNkIsK0JBQStCLG1GQUF1SCIsInNvdXJjZXMiOlsid2VicGFjazovL3ByZWNpc2lvbmZhcm1zLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS9jb3JlL21heWJlVXBkYXRpbmcuanMiLCJ3ZWJwYWNrOi8vcHJlY2lzaW9uZmFybXMvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzNkL2xheWVycy9JM1NQb2ludHNXb3JrZXJIYW5kbGUuanMiLCJ3ZWJwYWNrOi8vcHJlY2lzaW9uZmFybXMvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzNkL2xheWVycy9TY2VuZUxheWVyR3JhcGhpY3NWaWV3M0QuanMiLCJ3ZWJwYWNrOi8vcHJlY2lzaW9uZmFybXMvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzNkL2xheWVycy9pM3MvSTNTR3JhcGhpY3NNYXAuanMiLCJ3ZWJwYWNrOi8vcHJlY2lzaW9uZmFybXMvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzNkL2xheWVycy9zdXBwb3J0L0RlZmluaXRpb25FeHByZXNzaW9uU2NlbmVMYXllclZpZXcuanMiLCJ3ZWJwYWNrOi8vcHJlY2lzaW9uZmFybXMvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzNkL2xheWVycy9zdXBwb3J0L1RlbXBvcmFsU2NlbmVMYXllclZpZXcuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMzMvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmNvbnN0IG49XCJ1cGRhdGluZ1wiO2Z1bmN0aW9uIHQobil7cmV0dXJuXCJ1cGRhdGluZ1wiPT09bj9udWxsOm59ZnVuY3Rpb24gdShuKXtyZXR1cm5cInVwZGF0aW5nXCI9PT1ufWV4cG9ydHt1IGFzIGlzVXBkYXRpbmcsdCBhcyB1bndyYXBVcGRhdGluZyxuIGFzIHVwZGF0aW5nfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjMzL2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7V29ya2VySGFuZGxlIGFzIGV9ZnJvbVwiLi4vLi4vLi4vY29yZS93b3JrZXJzL1dvcmtlckhhbmRsZS5qc1wiO2NsYXNzIHIgZXh0ZW5kcyBle2NvbnN0cnVjdG9yKGUpe3N1cGVyKFwiU2NlbmVMYXllcldvcmtlclwiLFwiZHJhY29EZWNvbXByZXNzUG9pbnRDbG91ZERhdGFcIix7ZHJhY29EZWNvbXByZXNzUG9pbnRDbG91ZERhdGE6ZT0+W2UuZ2VvbWV0cnlCdWZmZXJdfSxlLHtoYXNJbml0aWFsaXplOiEwfSl9fWV4cG9ydHtyIGFzIEkzU1BvaW50c1dvcmtlckhhbmRsZX07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4zMy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e18gYXMgZX1mcm9tXCIuLi8uLi8uLi9jaHVua3MvdHNsaWIuZXM2LmpzXCI7aW1wb3J0XCIuLi8uLi8uLi9jb3JlL2hhcy5qc1wiO2ltcG9ydCB0IGZyb21cIi4uLy4uLy4uL2NvcmUvTG9nZ2VyLmpzXCI7aW1wb3J0e2Rlc3Ryb3lNYXliZSBhcyByfWZyb21cIi4uLy4uLy4uL2NvcmUvbWF5YmUuanNcIjtpbXBvcnR7ZXN0aW1hdGVOdW1iZXJBcnJheU1lbW9yeSBhcyBpfWZyb21cIi4uLy4uLy4uL2NvcmUvbWVtb3J5RXN0aW1hdGlvbnMuanNcIjtpbXBvcnR7dGhyb3dJZkFib3J0ZWQgYXMgc31mcm9tXCIuLi8uLi8uLi9jb3JlL3Byb21pc2VVdGlscy5qc1wiO2ltcG9ydHtpbml0aWFsIGFzIG8sd2F0Y2ggYXMgYX1mcm9tXCIuLi8uLi8uLi9jb3JlL3JlYWN0aXZlVXRpbHMuanNcIjtpbXBvcnR7Z2VuZXJhdGVVSUQgYXMgbn1mcm9tXCIuLi8uLi8uLi9jb3JlL3VpZC5qc1wiO2ltcG9ydHtwcm9wZXJ0eSBhcyBsfWZyb21cIi4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvcHJvcGVydHkuanNcIjtpbXBvcnRcIi4uLy4uLy4uL2NvcmUvUmFuZG9tTENHLmpzXCI7aW1wb3J0e3N1YmNsYXNzIGFzIGR9ZnJvbVwiLi4vLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9zdWJjbGFzcy5qc1wiO2ltcG9ydHtpIGFzIHV9ZnJvbVwiLi4vLi4vLi4vY2h1bmtzL3ZlYzMyLmpzXCI7aW1wb3J0e2NyZWF0ZSBhcyBoLFpFUk9TIGFzIHB9ZnJvbVwiLi4vLi4vLi4vY29yZS9saWJzL2dsLW1hdHJpeC0yL2ZhY3Rvcmllcy92ZWMzZjY0LmpzXCI7aW1wb3J0e3Byb2plY3RCdWZmZXIgYXMgY31mcm9tXCIuLi8uLi8uLi9nZW9tZXRyeS9wcm9qZWN0aW9uL3Byb2plY3RCdWZmZXIuanNcIjtpbXBvcnR7cHJvamVjdFZlY3RvclRvVmVjdG9yIGFzIG19ZnJvbVwiLi4vLi4vLi4vZ2VvbWV0cnkvcHJvamVjdGlvbi9wcm9qZWN0VmVjdG9yVG9WZWN0b3IuanNcIjtpbXBvcnR7ZXh0ZW50Q29udGFpbnNDb29yZHMzRCBhcyBnLGV4dGVudENvbnRhaW5zQ29vcmRzMkQgYXMgeX1mcm9tXCIuLi8uLi8uLi9nZW9tZXRyeS9zdXBwb3J0L2NvbnRhaW5zLmpzXCI7aW1wb3J0e25ld0RvdWJsZUFycmF5IGFzIGYsZG91YmxlQXJyYXlGcm9tIGFzIF99ZnJvbVwiLi4vLi4vLi4vZ2VvbWV0cnkvc3VwcG9ydC9Eb3VibGVBcnJheS5qc1wiO2ltcG9ydHtnZXRHZW9tZXRyeVpTY2FsZXIgYXMgYn1mcm9tXCIuLi8uLi8uLi9nZW9tZXRyeS9zdXBwb3J0L3pzY2FsZS5qc1wiO2ltcG9ydHtmYWxsYmFja09iamVjdElEQXR0cmlidXRlIGFzIHZ9ZnJvbVwiLi4vLi4vLi4vbGF5ZXJzL0xheWVyQ29uc3RhbnRzLmpzXCI7aW1wb3J0e2VzdGltYXRlU2l6ZSBhcyB4fWZyb21cIi4uLy4uLy4uL2xheWVycy9ncmFwaGljcy9kZWh5ZHJhdGVkRmVhdHVyZXMuanNcIjtpbXBvcnR7bWFrZURlaHlkcmF0ZWRQb2ludCBhcyBJfWZyb21cIi4uLy4uLy4uL2xheWVycy9ncmFwaGljcy9kZWh5ZHJhdGVkUG9pbnQuanNcIjtpbXBvcnR7aHlkcmF0ZUdyYXBoaWMgYXMgRX1mcm9tXCIuLi8uLi8uLi9sYXllcnMvZ3JhcGhpY3MvaHlkcmF0ZWRGZWF0dXJlcy5qc1wiO2ltcG9ydCB3IGZyb21cIi4uLy4uLy4uL2xheWVycy9ncmFwaGljcy9jb250cm9sbGVycy9JM1NPbkRlbWFuZENvbnRyb2xsZXIuanNcIjtpbXBvcnQgaiBmcm9tXCIuLi8uLi8uLi9sYXllcnMvc3VwcG9ydC9GZWF0dXJlRmlsdGVyLmpzXCI7aW1wb3J0IE4gZnJvbVwiLi4vLi4vLi4vcmVzdC9zdXBwb3J0L1F1ZXJ5LmpzXCI7aW1wb3J0e2lzQmFzZW1hcExheWVyVmlldyBhcyBDfWZyb21cIi4uLy4uLy4uL3N1cHBvcnQvYmFzZW1hcFV0aWxzLmpzXCI7aW1wb3J0e0kzU1BvaW50c1dvcmtlckhhbmRsZSBhcyBPfWZyb21cIi4vSTNTUG9pbnRzV29ya2VySGFuZGxlLmpzXCI7aW1wb3J0e0xheWVyVmlldzNEIGFzIER9ZnJvbVwiLi9MYXllclZpZXczRC5qc1wiO2ltcG9ydHtHcmFwaGljczNERmVhdHVyZVByb2Nlc3NvciBhcyBTfWZyb21cIi4vZ3JhcGhpY3MvR3JhcGhpY3MzREZlYXR1cmVQcm9jZXNzb3IuanNcIjtpbXBvcnR7UXVlcnlFbmdpbmUgYXMgRn1mcm9tXCIuL2dyYXBoaWNzL1F1ZXJ5RW5naW5lLmpzXCI7aW1wb3J0e1F1ZXJ5RW5naW5lQ29udGV4dCBhcyBHfWZyb21cIi4vZ3JhcGhpY3MvUXVlcnlFbmdpbmVDb250ZXh0LmpzXCI7aW1wb3J0e2NyZWF0ZUludGVyYWN0aXZlRWRpdFNlc3Npb24gYXMgQSxub3JtYWxpemVFZGl0UmVzdWx0c0V2ZW50IGFzIFYscHJvY2Vzc0F0dHJpYnV0ZUVkaXRzIGFzIFB9ZnJvbVwiLi9pM3MvZmVhdHVyZUVkaXRpbmcuanNcIjtpbXBvcnR7Z2V0Q2FjaGVkQXR0cmlidXRlVmFsdWUgYXMgTH1mcm9tXCIuL2kzcy9JM1NCaW5hcnlSZWFkZXIuanNcIjtpbXBvcnR7STNTR3JhcGhpY3NNYXAgYXMgUn1mcm9tXCIuL2kzcy9JM1NHcmFwaGljc01hcC5qc1wiO2ltcG9ydHtJM1NPdmVycmlkZXMgYXMgTX1mcm9tXCIuL2kzcy9JM1NPdmVycmlkZXMuanNcIjtpbXBvcnR7Y2hlY2tSZWN5Y2xhYmxlIGFzIEgsY2hlY2tTcGF0aWFsUmVmZXJlbmNlcyBhcyBRLGNvbnRhaW5zRHJhY28gYXMgVSx3aGVuR3JhcGhpY0F0dHJpYnV0ZXMgYXMgcX1mcm9tXCIuL2kzcy9JM1NVdGlsLmpzXCI7aW1wb3J0e0RlZmluaXRpb25FeHByZXNzaW9uU2NlbmVMYXllclZpZXcgYXMgVH1mcm9tXCIuL3N1cHBvcnQvRGVmaW5pdGlvbkV4cHJlc3Npb25TY2VuZUxheWVyVmlldy5qc1wiO2ltcG9ydHtkZWZpbmVGaWVsZFByb3BlcnRpZXMgYXMgQn1mcm9tXCIuL3N1cHBvcnQvZmllbGRQcm9wZXJ0aWVzLmpzXCI7aW1wb3J0e0xheWVyVmlld1BlcmZvcm1hbmNlSW5mbyBhcyBrfWZyb21cIi4vc3VwcG9ydC9MYXllclZpZXdQZXJmb3JtYW5jZUluZm8uanNcIjtpbXBvcnR7UG9wdXBTY2VuZUxheWVyVmlldyBhcyB6fWZyb21cIi4vc3VwcG9ydC9Qb3B1cFNjZW5lTGF5ZXJWaWV3LmpzXCI7aW1wb3J0e1NjZW5lTGF5ZXJWaWV3UmVxdWlyZWRGaWVsZHMgYXMgV31mcm9tXCIuL3N1cHBvcnQvU2NlbmVMYXllclZpZXdSZXF1aXJlZEZpZWxkcy5qc1wiO2ltcG9ydHtUZW1wb3JhbFNjZW5lTGF5ZXJWaWV3IGFzIEt9ZnJvbVwiLi9zdXBwb3J0L1RlbXBvcmFsU2NlbmVMYXllclZpZXcuanNcIjtpbXBvcnR7ZGVidWdGbGFncyBhcyBafWZyb21cIi4uL3N1cHBvcnQvZGVidWdGbGFncy5qc1wiO2ltcG9ydHtjb21wdXRlIGFzIFl9ZnJvbVwiLi4vc3VwcG9ydC9vcmllbnRlZEJvdW5kaW5nQm94LmpzXCI7aW1wb3J0e3VwZGF0aW5nUHJvZ3Jlc3MgYXMgJH1mcm9tXCIuLi9zdXBwb3J0L3VwZGF0aW5nUHJvcGVydGllcy5qc1wiO2ltcG9ydHtWZXJ0aWNlcyBhcyBKfWZyb21cIi4uL3dlYmdsLWVuZ2luZS9saWIvQXR0cmlidXRlLmpzXCI7aW1wb3J0e1VwZGF0ZVBvbGljeSBhcyBYfWZyb21cIi4uL3dlYmdsLWVuZ2luZS9saWIvVXBkYXRlUG9saWN5LmpzXCI7aW1wb3J0IGVlIGZyb21cIi4uLy4uL2xheWVycy9TY2VuZUxheWVyVmlldy5qc1wiO2ltcG9ydHtoYXNQb3B1cFRlbXBsYXRlIGFzIHRlfWZyb21cIi4uLy4uL2xheWVycy9zdXBwb3J0L3BvcHVwVXRpbHMuanNcIjtpbXBvcnR7ZGVmYXVsdEhpZ2hsaWdodE5hbWUgYXMgcmV9ZnJvbVwiLi4vLi4vc3VwcG9ydC9IaWdobGlnaHREZWZhdWx0cy5qc1wiO2ltcG9ydHtoYXNMYXllckJhc2VkU2NhbGVWaXNpYmlsaXR5IGFzIGllLGlzSW5FZmZlY3RpdmVTY2FsZVJhbmdlIGFzIHNlfWZyb21cIi4uLy4uL3N1cHBvcnQvbGF5ZXJWaWV3VXRpbHMuanNcIjtpbXBvcnR7VGFza1ByaW9yaXR5IGFzIG9lfWZyb21cIi4uLy4uL3N1cHBvcnQvU2NoZWR1bGVyLmpzXCI7Y29uc3QgYWU9QigpO2NsYXNzIG5le2NvbnN0cnVjdG9yKGUsdCxyLGkpe3RoaXMuZ3JhcGhpY3M9ZSx0aGlzLmZlYXR1cmVJZHM9dCx0aGlzLmF0dHJpYnV0ZUluZm89cix0aGlzLm5vZGU9aX1nZXQgY2FjaGVkTWVtb3J5KCl7cmV0dXJuIHRoaXMuZ3JhcGhpY3MucmVkdWNlKCgoZSx0KT0+eCh0KStlKSxpKHRoaXMuZmVhdHVyZUlkcykrMTAyNCl9fWxldCBsZT1jbGFzcyBleHRlbmRzKEsoVCh6KEQoZWUpKSkpKXtjb25zdHJ1Y3Rvcigpe3N1cGVyKC4uLmFyZ3VtZW50cyksdGhpcy50eXBlPVwic2NlbmUtbGF5ZXItZ3JhcGhpY3MtM2RcIix0aGlzLl9xdWVyeUVuZ2luZT1udWxsLHRoaXMuX21lbUNhY2hlPW51bGwsdGhpcy5faW50ZXJhY3RpdmVFZGl0aW5nU2Vzc2lvbnM9bmV3IE1hcCx0aGlzLl9wZW5kaW5nRWRpdHNRdWV1ZT1Qcm9taXNlLnJlc29sdmUoKSx0aGlzLmxvYWRlZEdyYXBoaWNzPW5ldyBSKCgoZSx0LHIpPT5wZShlLHQscikpLChlPT50aGlzLnByb2Nlc3Nvci5ncmFwaGljc0NvcmUucmVjcmVhdGVHcmFwaGljcyhlKSkpLHRoaXMuaG9sZUZpbGxpbmc9XCJhbHdheXNcIix0aGlzLnByb2dyZXNzaXZlTG9hZEZhY3Rvcj0xLHRoaXMuc3VwcG9ydHNIZWlnaHRVbml0Q29udmVyc2lvbj0hMCx0aGlzLl9jb29yZGluYXRlc091dHNpZGVFeHRlbnRFcnJvcnM9MCx0aGlzLl9tYXhDb29yZGluYXRlc091dHNpZGVFeHRlbnRFcnJvcnM9MjB9dHJ5UmVjeWNsZVdpdGgoZSx0KXtyZXR1cm4gZS51cmw9PT10aGlzLmxheWVyLnVybCYmdGhpcy5faTNzT3ZlcnJpZGVzLmlzRW1wdHk/ZS5sb2FkKHQpLnRoZW4oKCgpPT57cyh0KSxIKHRoaXMubGF5ZXIsZSx0aGlzLl9pM3NPdmVycmlkZXMpLHRoaXMubGF5ZXI9ZSx0aGlzLl9pM3NPdmVycmlkZXMuZGVzdHJveSgpO2NvbnN0IGk9dGhpcy52aWV3LnJlc291cmNlQ29udHJvbGxlcj8ubWVtb3J5Q29udHJvbGxlcjt0aGlzLl9pM3NPdmVycmlkZXM9bmV3IE0oe3ZpZXc6dGhpcy52aWV3LGxheWVyOmUsbWVtb3J5Q29udHJvbGxlcjppfSkscih0aGlzLl9xdWVyeUVuZ2luZSksdGhpcy5fc2V0dXBRdWVyeUVuZ2luZSgpLHRoaXMucHJvY2Vzc29yLnJlc2V0T2JqZWN0U3RhdGVzKCl9KSk6bnVsbH1pbml0aWFsaXplKCl7dGhpcy5hZGRSZXNvbHZpbmdQcm9taXNlKHRoaXMubGF5ZXIuaW5kZXhJbmZvKTtjb25zdCBlPXRoaXMudmlldy5yZXNvdXJjZUNvbnRyb2xsZXI/Lm1lbW9yeUNvbnRyb2xsZXI7dGhpcy5faTNzT3ZlcnJpZGVzPW5ldyBNKHt2aWV3OnRoaXMudmlldyxsYXllcjp0aGlzLmxheWVyLG1lbW9yeUNvbnRyb2xsZXI6ZX0pLFEodGhpcy5sYXllcix0aGlzLnZpZXcuc3BhdGlhbFJlZmVyZW5jZSx0aGlzLnZpZXcudmlld2luZ01vZGUpLHRoaXMuX2ZpZWxkc0hlbHBlcj1uZXcgVyh7bGF5ZXJWaWV3OnRoaXN9KSx0aGlzLl91cGRhdGluZ0hhbmRsZXMuYWRkKCgoKT0+dGhpcy5sYXllci5yYW5nZUluZm9zKSwoZT0+dGhpcy5fcmFuZ2VJbmZvc0NoYW5nZWQoZSkpLG8pLHRoaXMuX3VwZGF0aW5nSGFuZGxlcy5hZGQoKCgpPT50aGlzLmxheWVyLnJlbmRlcmVyKSwoKGUsdCk9PnRoaXMuX3JlbmRlcmVyQ2hhbmdlKGUsdCkpKSx0aGlzLl91cGRhdGluZ0hhbmRsZXMuYWRkKCgoKT0+W3RoaXMucGFyc2VkRGVmaW5pdGlvbkV4cHJlc3Npb24sdGhpcy5sYXllci5leGNsdWRlT2JqZWN0SWRzXSksKCgpPT50aGlzLl9maWx0ZXJDaGFuZ2UoKSkpLHRoaXMuX3NldChcInByb2Nlc3NvclwiLG5ldyBTKHtvd25lcjp0aGlzLHByZWZlcnJlZFVwZGF0ZVBvbGljeTpYLkFTWU5DLHNjYWxlVmlzaWJpbGl0eUVuYWJsZWQ6IWllKCksZmlsdGVyVmlzaWJpbGl0eUVuYWJsZWQ6ITAsdGltZUV4dGVudEVuYWJsZWQ6ITEsZnJ1c3R1bVZpc2liaWxpdHlFbmFibGVkOiExLGVsZXZhdGlvbkFsaWdubWVudEVuYWJsZWQ6ITAsZWxldmF0aW9uRmVhdHVyZUV4cHJlc3Npb25FbmFibGVkOiExLHNldFVpZFRvSWRPbkFkZDohMSxkYXRhRXh0ZW50OnRoaXMubGF5ZXIuZnVsbEV4dGVudCx1cGRhdGVDbGlwcGluZ0V4dGVudDplPT50aGlzLl91cGRhdGVDbGlwcGluZ0V4dGVudChlKX0pKSx0aGlzLnByb2Nlc3Nvci5lbGV2YXRpb25BbGlnbm1lbnQ/LmV2ZW50cy5vbihcImludmFsaWRhdGUtZWxldmF0aW9uXCIsKCh7ZXh0ZW50OmUsc3BhdGlhbFJlZmVyZW5jZTp0fSk9PnRoaXMuX2NvbnRyb2xsZXIudXBkYXRlRWxldmF0aW9uQ2hhbmdlZChlLHQpKSksdGhpcy5zdXBwb3J0c0hlaWdodFVuaXRDb252ZXJzaW9uJiYodGhpcy5fdmVydGljYWxTY2FsZT1iKFwicG9pbnRcIix0aGlzLmxheWVyLnNwYXRpYWxSZWZlcmVuY2UsdGhpcy52aWV3LnNwYXRpYWxSZWZlcmVuY2UpKSx0aGlzLmFkZFJlc29sdmluZ1Byb21pc2UodGhpcy5wcm9jZXNzb3Iud2hlbigpKSx0aGlzLl9tZW1DYWNoZT10aGlzLnZpZXcucmVzb3VyY2VDb250cm9sbGVyLm1lbW9yeUNvbnRyb2xsZXIubmV3Q2FjaGUoYHBzbC0ke3RoaXMudWlkfWApLHRoaXMuX2NvbnRyb2xsZXI9bmV3IHcoe2xheWVyVmlldzp0aGlzfSksVSh0aGlzLmxheWVyLmdlb21ldHJ5RGVmaW5pdGlvbnMpJiYodGhpcy5fd29ya2VyPW5ldyBPKChlPT50aGlzLnZpZXcucmVzb3VyY2VDb250cm9sbGVyLmltbWVkaWF0ZS5zY2hlZHVsZShlKSkpKSx0aGlzLmFkZEhhbmRsZXModGhpcy5sYXllci5vbihcImFwcGx5LWVkaXRzXCIsKGU9PnRoaXMuX3VwZGF0aW5nSGFuZGxlcy5hZGRQcm9taXNlKGUucmVzdWx0KSkpKSx0aGlzLmFkZEhhbmRsZXMoW3RoaXMubGF5ZXIub24oXCJlZGl0c1wiLChlPT57Y29uc3QgdD10aGlzLl9wZW5kaW5nRWRpdHNRdWV1ZS50aGVuKCgoKT0+dGhpcy5faGFuZGxlRWRpdHMoZSkpKS50aGVuKCk7dGhpcy5fcGVuZGluZ0VkaXRzUXVldWU9dCx0aGlzLl91cGRhdGluZ0hhbmRsZXMuYWRkUHJvbWlzZSh0KX0pKSxhKCgoKT0+Wi5JM1NfVFJFRV9TSE9XX1RJTEVTKSwoZT0+e2lmKGUmJiF0aGlzLl90cmVlRGVidWdnZXIpe2NvbnN0IGU9dGhpcy5fY29udHJvbGxlci5jcnNJbmRleDtpbXBvcnQoXCIuL3N1cHBvcnQvSTNTVHJlZURlYnVnZ2VyLmpzXCIpLnRoZW4oKCh7STNTVHJlZURlYnVnZ2VyOnR9KT0+eyF0aGlzLl90cmVlRGVidWdnZXImJlouSTNTX1RSRUVfU0hPV19USUxFUyYmKHRoaXMuX3RyZWVEZWJ1Z2dlcj1uZXcgdCh7bHY6dGhpcyx2aWV3OnRoaXMudmlldyxub2RlU1I6ZX0pKX0pKX1lbHNlIGV8fCF0aGlzLl90cmVlRGVidWdnZXJ8fFouSTNTX1RSRUVfU0hPV19USUxFU3x8KHRoaXMuX3RyZWVEZWJ1Z2dlci5kZXN0cm95KCksdGhpcy5fdHJlZURlYnVnZ2VyPW51bGwpfSksbyldKSx0aGlzLndoZW4oKCgpPT57dGhpcy5fc2V0dXBRdWVyeUVuZ2luZSgpLHRoaXMuX3VwZGF0aW5nSGFuZGxlcy5hZGQoKCgpPT50aGlzLm1heGltdW1OdW1iZXJPZkZlYXR1cmVzKSwoZT0+dGhpcy5fY29udHJvbGxlci5mZWF0dXJlVGFyZ2V0PWUpLG8pLHRoaXMuX3VwZGF0aW5nSGFuZGxlcy5hZGQoKCgpPT50aGlzLnN1c3BlbmRlZCksKGU9PntlJiZ0aGlzLl9yZW1vdmVBbGxOb2RlRGF0YSgpfSkpfSkpfWRlc3Ryb3koKXt0aGlzLl90cmVlRGVidWdnZXI9cih0aGlzLl90cmVlRGVidWdnZXIpLHRoaXMuX2kzc092ZXJyaWRlcz1yKHRoaXMuX2kzc092ZXJyaWRlcyksdGhpcy5fc2V0KFwicHJvY2Vzc29yXCIscih0aGlzLnByb2Nlc3NvcikpLHRoaXMuX2NvbnRyb2xsZXI9cih0aGlzLl9jb250cm9sbGVyKSx0aGlzLl9xdWVyeUVuZ2luZT1yKHRoaXMuX3F1ZXJ5RW5naW5lKSx0aGlzLl93b3JrZXI9cih0aGlzLl93b3JrZXIpLHRoaXMuX21lbUNhY2hlPXIodGhpcy5fbWVtQ2FjaGUpLHRoaXMubG9hZGVkR3JhcGhpY3MuY2xlYXIoKSx0aGlzLl9maWVsZHNIZWxwZXI9cih0aGlzLl9maWVsZHNIZWxwZXIpfWdldCBpM3NsYXllcigpe3JldHVybiB0aGlzLmxheWVyfWdldCBsYXllclZpZXdVaWQoKXtyZXR1cm4gdGhpcy51aWR9Z2V0IHVwZGF0aW5nUHJvZ3Jlc3NWYWx1ZSgpe3JldHVybiB0aGlzLl9jb250cm9sbGVyPy51cGRhdGluZ1Byb2dyZXNzPz8xfWdldCB2aXNpYmxlQXRDdXJyZW50U2NhbGUoKXtyZXR1cm4gaWUoKT9zZSh0aGlzLmxheWVyLmVmZmVjdGl2ZVNjYWxlUmFuZ2UsdGhpcy52aWV3LnNjYWxlKTohdGhpcy5wcm9jZXNzb3I/LnNjYWxlVmlzaWJpbGl0eVN1c3BlbmRlZH1nZXQgcmVxdWlyZWRGaWVsZHMoKXtyZXR1cm4gdGhpcy5fZmllbGRzSGVscGVyPy5yZXF1aXJlZEZpZWxkcz8/W119Z2V0IG1heGltdW1OdW1iZXJPZkZlYXR1cmVzKCl7Y29uc3QgZT10aGlzLnByb2Nlc3Nvcj8uZ3JhcGhpY3NDb3JlPy5kaXNwbGF5RmVhdHVyZUxpbWl0O3JldHVybiBlPy5tYXhpbXVtTnVtYmVyT2ZGZWF0dXJlcz8/MH1zZXQgbWF4aW11bU51bWJlck9mRmVhdHVyZXMoZSl7bnVsbCE9ZT8odGhpcy5fb3ZlcnJpZGUoXCJtYXhpbXVtTnVtYmVyT2ZGZWF0dXJlc1wiLGUpLHRoaXMuX2NvbnRyb2xsZXIuZml4ZWRGZWF0dXJlVGFyZ2V0PSEwKToodGhpcy5fY2xlYXJPdmVycmlkZShcIm1heGltdW1OdW1iZXJPZkZlYXR1cmVzXCIpLHRoaXMuX2NvbnRyb2xsZXIuZml4ZWRGZWF0dXJlVGFyZ2V0PSExKX1nZXQgbWF4aW11bU51bWJlck9mRmVhdHVyZXNFeGNlZWRlZCgpe3JldHVybiF0aGlzLnN1c3BlbmRlZCYmKCEhdGhpcy5fY29udHJvbGxlcj8udXNlTWF4aW11bU51bWJlck9mRmVhdHVyZXMmJiF0aGlzLl9jb250cm9sbGVyLmxlYXZlc1JlYWNoZWQpfWdldCBfZXhjbHVkZU9iamVjdElkcygpe3JldHVybiBuZXcgU2V0KHRoaXMubGF5ZXIuZXhjbHVkZU9iamVjdElkcyl9Z2V0IGxvZEZhY3Rvcigpe3JldHVyblwiTGFiZWxzXCI9PT10aGlzLmxheWVyLnNlbWFudGljPzE6dGhpcy52aWV3LnF1YWxpdHlTZXR0aW5ncy5zY2VuZVNlcnZpY2UucG9pbnQubG9kRmFjdG9yfWdldCBoYXNNKCl7cmV0dXJuITF9Z2V0IGhhc1ooKXtyZXR1cm4hMH1nZXQgY29udGVudFZpc2libGUoKXtyZXR1cm4hdGhpcy5zdXNwZW5kZWQmJiEhdGhpcy5fY29udHJvbGxlcj8ucm9vdE5vZGVWaXNpYmxlfWdldCBsZWdlbmRFbmFibGVkKCl7cmV0dXJuIHRoaXMuY29udGVudFZpc2libGUmJiEwPT09dGhpcy5pM3NsYXllcj8ubGVnZW5kRW5hYmxlZH1hc3luYyB3aGVuR3JhcGhpY0F0dHJpYnV0ZXMoZSx0KXtyZXR1cm4gcSh0aGlzLmxheWVyLGUsdGhpcy5fZ2V0T2JqZWN0SWRGaWVsZCgpLHQsKCgpPT5bLi4udGhpcy5sb2FkZWRHcmFwaGljcy5ub2RlcygpXSkpfWdldEhpdChlKXtpZighdGhpcy5sb2FkZWRHcmFwaGljcylyZXR1cm4gbnVsbDtjb25zdCB0PUUodGhpcy5sb2FkZWRHcmFwaGljcy5maW5kKCh0PT50LnVpZD09PWUpKSx0aGlzLmxheWVyKSxyPXRoaXMuX2dldE9iamVjdElkRmllbGQoKTtyZXR1cm4gdD8uYXR0cmlidXRlcz8uW3JdPyh0LmxheWVyPXRoaXMubGF5ZXIsdC5zb3VyY2VMYXllcj10aGlzLmxheWVyLHt0eXBlOlwiZ3JhcGhpY1wiLGdyYXBoaWM6dCxsYXllcjp0LmxheWVyfSk6bnVsbH13aGVuR3JhcGhpY0JvdW5kcyhlLHQpe3JldHVybiB0aGlzLnByb2Nlc3Nvci53aGVuR3JhcGhpY0JvdW5kcyhlLHQpfWNvbXB1dGVBdHRhY2htZW50T3JpZ2luKGUsdCl7cmV0dXJuIHRoaXMucHJvY2Vzc29yLmNvbXB1dGVBdHRhY2htZW50T3JpZ2luKGUsdCl9aXNVcGRhdGluZygpe3JldHVybiEhKHRoaXMuX2NvbnRyb2xsZXI/LnVwZGF0aW5nfHx0aGlzLnByb2Nlc3Nvcj8udXBkYXRpbmd8fHRoaXMuX2ZpZWxkc0hlbHBlcj8udXBkYXRpbmd8fHRoaXMubGF5ZXJGaWx0ZXJVcGRhdGluZyl9aGlnaGxpZ2h0KGUsdCl7cmV0dXJuIHRoaXMucHJvY2Vzc29yLmhpZ2hsaWdodChlLHRoaXMubGF5ZXIub2JqZWN0SWRGaWVsZCx0Py5uYW1lPz9yZSl9Z2V0IHVwZGF0ZVBvbGljeSgpe3JldHVybiB0aGlzLnByb2Nlc3Nvci5ncmFwaGljc0NvcmUuZWZmZWN0aXZlVXBkYXRlUG9saWN5fWNyZWF0ZUludGVyYWN0aXZlRWRpdFNlc3Npb24oZSl7cmV0dXJuIEEodGhpcy5fYXR0cmlidXRlRWRpdGluZ0NvbnRleHQsZSl9YXN5bmMgX2RlY29tcHJlc3NCaW5hcnlQb2ludERhdGEoZSx0KXtjb25zdCByPXtnZW9tZXRyeUJ1ZmZlcjplLmdlb21ldHJ5QnVmZmVyfTtudWxsPT10aGlzLl93b3JrZXImJih0aGlzLl93b3JrZXI9bmV3IE8oKGU9PnRoaXMudmlldy5yZXNvdXJjZUNvbnRyb2xsZXIuaW1tZWRpYXRlLnNjaGVkdWxlKGUpKSkpO2NvbnN0IGk9YXdhaXQgdGhpcy5fd29ya2VyLmludm9rZShyLHQpO2lmKG51bGw9PWkpdGhyb3cgbmV3IEVycm9yKFwiRmFpbGVkIHRvIGRlY29tcHJlc3MgRHJhY28gcG9pbnQgZGF0YVwiKTtyZXR1cm57cG9zaXRpb25EYXRhOmkucG9zaXRpb25zLGZlYXR1cmVJZHM6aS5mZWF0dXJlSWRzfX1hc3luYyBhZGROb2RlKGUscixpKXtpZighaGUocikmJiF1ZShyKSl0aHJvdyBuZXcgRXJyb3I7aWYodGhpcy5sb2FkZWRHcmFwaGljcy5oYXNOb2RlKGUuaW5kZXgpKXJldHVybiB2b2lkIHQuZ2V0TG9nZ2VyKHRoaXMpLmVycm9yKFwiSTNTIG5vZGUgXCIrZS5pZCtcIiBhbHJlYWR5IGFkZGVkXCIpO2NvbnN0IHM9bnVsbCE9dGhpcy5sYXllci5mdWxsRXh0ZW50P21lKHRoaXMubGF5ZXIuZnVsbEV4dGVudC5jbG9uZSgpLC41KTpudWxsLHtmZWF0dXJlSWRzOm8scG9pbnRQb3NpdGlvbnM6YX09aGUocik/YXdhaXQgdGhpcy5fZXh0cmFjdEJpbmFyeVBvaW50UG9zaXRpb25zKGUscixpKTp0aGlzLl9leHRyYWN0TGVnYWN5UG9pbnRQb3NpdGlvbnMociksbj1uZXcgQXJyYXk7dGhpcy5fdmFsaWRhdGVQb3NpdGlvbnMoZSxvLGEscyxuKTtjb25zdCBsPXRoaXMuX2NvbnRyb2xsZXIuY3JzVmVydGV4LGQ9dGhpcy52aWV3LnNwYXRpYWxSZWZlcmVuY2U7YyhhLGwsMCxhLGQsMCxvLmxlbmd0aCk7Y29uc3QgdT1oZShyKT9lLmxldmVsOjAsaD10aGlzLl9jcmVhdGVHcmFwaGljcyhvLGEsZS5pbmRleCx1KSxwPW5ldyBuZShoLG8sci5hdHRyaWJ1dGVEYXRhSW5mbyxlKTtpZihhd2FpdCB0aGlzLl9pM3NPdmVycmlkZXMuYXBwbHlBdHRyaWJ1dGVPdmVycmlkZXMocC5mZWF0dXJlSWRzLHIuYXR0cmlidXRlRGF0YUluZm8saSksZS5udW1GZWF0dXJlcz1wLmdyYXBoaWNzLmxlbmd0aCx0aGlzLl91cGRhdGVOb2RlTWVtb3J5KGUpLGNlKHApLG4ubGVuZ3RoPjAmJih0aGlzLl9jb21wdXRlT2JiKGUsbixsKSx0aGlzLl9jb250cm9sbGVyLnVwZGF0ZVZpc2liaWxpdHkoZS5pbmRleCkpLCF0aGlzLl9jb250cm9sbGVyLmlzR2VvbWV0cnlWaXNpYmxlKGUpKXJldHVybiB2b2lkIHRoaXMuX2NhY2hlTm9kZURhdGEocCk7aWYobnVsbCE9dGhpcy5fdmVydGljYWxTY2FsZSlmb3IoY29uc3QgdCBvZiBwLmdyYXBoaWNzKXRoaXMuX3ZlcnRpY2FsU2NhbGUodC5nZW9tZXRyeSk7Y29uc3QgbT10aGlzLnZpZXcuc3RhZ2UucmVuZGVyVmlldy5vbGlkUmVuZGVySGVscGVyO2lmKG0pe2NvbnN0IGU9Qyh0aGlzLnZpZXcsdGhpcy51aWQpO2ZvcihsZXQgdD0wO3Q8cC5mZWF0dXJlSWRzLmxlbmd0aDt0Kyspe2NvbnN0IHI9cC5mZWF0dXJlSWRzW3RdO20uc2V0VWlkVG9PYmplY3RBbmRMYXllcklkKHIscC5ncmFwaGljc1t0XS51aWQsdGhpcy5sYXllci5pZCx0aGlzLnVpZCx0aGlzLmxheWVyLnBvcHVwRW5hYmxlZCYmIWUmJnRlKHRoaXMubGF5ZXIsdGhpcy52aWV3LnBvcHVwPy5kZWZhdWx0UG9wdXBUZW1wbGF0ZUVuYWJsZWQpLHAubm9kZS5yZXNvdXJjZXMuYXR0cmlidXRlcyx0KX19dGhpcy5sb2FkZWRHcmFwaGljcy5hZGROb2RlKGUuaW5kZXgscCksdGhpcy5fY29udHJvbGxlci51cGRhdGVMb2FkU3RhdHVzKGUuaW5kZXgsITApLHRoaXMuX2ZpbHRlck5vZGUocCksdGhpcy5fdHJlZURlYnVnZ2VyJiZ0aGlzLl90cmVlRGVidWdnZXIudXBkYXRlKCl9X2NvbXB1dGVPYmIoZSx0LHIpe2NvbnN0IGk9dGhpcy5fY29udHJvbGxlci5jcnNJbmRleCxzPWkuaXNHZW9ncmFwaGljP3RoaXMudmlldy5yZW5kZXJTcGF0aWFsUmVmZXJlbmNlOmk7Yyh0LHIsMCx0LHMsMCksZS5zZXJ2aWNlT2JiSW5JbmRleFNSPVkobmV3IEoodCwzKSksaS5pc0dlb2dyYXBoaWMmJihtKGUuc2VydmljZU9iYkluSW5kZXhTUi5jZW50ZXIscyx5ZSxpKSxlLnNlcnZpY2VPYmJJbkluZGV4U1IuY2VudGVyPXllKX1pc05vZGVMb2FkZWQoZSl7cmV0dXJuIHRoaXMubG9hZGVkR3JhcGhpY3MuaGFzTm9kZShlKX1pc05vZGVSZWxvYWRpbmcoKXtyZXR1cm4hMX11cGRhdGVOb2RlU3RhdGUoKXt9Z2V0Tm9kZUNvbXBvbmVudEhhbmRsZSgpe31hc3luYyBfZXh0cmFjdEJpbmFyeVBvaW50UG9zaXRpb25zKGUsdCxyKXtjb25zdCBpPWF3YWl0IHRoaXMuX2RlY29tcHJlc3NCaW5hcnlQb2ludERhdGEodCxyKSxzPWkucG9zaXRpb25EYXRhLG89MyxhPXMubGVuZ3RoL28sbj1mKDMqYSksbD1udWxsIT1lLnNlcnZpY2VPYmJJbkluZGV4U1I/ZS5zZXJ2aWNlT2JiSW5JbmRleFNSLmNlbnRlcjpwLGQ9TWF0aC5hYnMobFsyXSkqMioqLTIwO2ZvcihsZXQgdT0wO3U8YTt1Kyspe2NvbnN0IGU9dSpvO25bZV09c1tlXStsWzBdLG5bZSsxXT1zW2UrMV0rbFsxXSxuW2UrMl09c1tlKzJdK2xbMl0sTWF0aC5hYnMobltlKzJdKTxkJiYobltlKzJdPTApfXJldHVybntmZWF0dXJlSWRzOmkuZmVhdHVyZUlkcz9fKGkuZmVhdHVyZUlkcyk6W10scG9pbnRQb3NpdGlvbnM6bn19X2V4dHJhY3RMZWdhY3lQb2ludFBvc2l0aW9ucyhlKXtjb25zdCB0PWUucG9pbnREYXRhLmxlbmd0aCxyPWYoMyp0KSxpPW5ldyBBcnJheTtmb3IobGV0IHM9MDtzPHQ7cysrKXtjb25zdCB0PWUucG9pbnREYXRhW3NdLG89dC5mZWF0dXJlRGF0YVBvc2l0aW9uLGE9by5sZW5ndGgsbj10Lmdlb21ldHJpZXM/LlswXT8/Z2VbYV0sbD10LmZlYXR1cmVJZHNbMF07aWYoXCJFbWJlZGRlZFwiIT09bi50eXBlfHxcInBvaW50c1wiIT09bi5wYXJhbXMudHlwZXx8YTwyfHxhPjMpY29udGludWU7Y29uc3QgZD1uLnBhcmFtcy52ZXJ0ZXhBdHRyaWJ1dGVzPy5wb3NpdGlvbj8/WzAsMCwwXSx1PTMqaS5sZW5ndGg7clt1XT1vWzBdK2RbMF0sclt1KzFdPW9bMV0rZFsxXSxyW3UrMl09Mz09PWE/b1syXStkWzJdOk5hTixpLnB1c2gobCl9cmV0dXJue2ZlYXR1cmVJZHM6aSxwb2ludFBvc2l0aW9uczpyfX1fdmFsaWRhdGVQb3NpdGlvbnMoZSxyLGkscyxvKXtpZihudWxsPT1zJiZlLnNlcnZpY2VPYmJJbkluZGV4U1IpcmV0dXJuO2NvbnN0IGE9ci5sZW5ndGgsbj0zO2ZvcihsZXQgbD0wO2w8YTtsKyspe2NvbnN0IHI9bCpuO3UoeWUsaVtyXSxpW3IrMV0saVtyKzJdKTtjb25zdCBhPSFOdW1iZXIuaXNOYU4oaVsyXSk7bnVsbD09c3x8KGE/ZyhzLHllKTp5KHMseWUpKXx8KHRoaXMuX2Nvb3JkaW5hdGVzT3V0c2lkZUV4dGVudEVycm9yczx0aGlzLl9tYXhDb29yZGluYXRlc091dHNpZGVFeHRlbnRFcnJvcnMmJnQuZ2V0TG9nZ2VyKHRoaXMpLmVycm9yKFwiU2VydmljZSBFcnJvcjogQ29vcmRpbmF0ZXMgb3V0c2lkZSBvZiBsYXllciBleHRlbnRcIiksdGhpcy5fY29vcmRpbmF0ZXNPdXRzaWRlRXh0ZW50RXJyb3JzKzE9PT10aGlzLl9tYXhDb29yZGluYXRlc091dHNpZGVFeHRlbnRFcnJvcnMmJnQuZ2V0TG9nZ2VyKHRoaXMpLmVycm9yKFwiTWF4aW11bSBudW1iZXIgb2YgZXJyb3JzIHJlYWNoZWQuIEZ1cnRoZXIgZXJyb3JzIGFyZSBpZ25vcmVkLlwiKSx0aGlzLl9jb29yZGluYXRlc091dHNpZGVFeHRlbnRFcnJvcnMrKyksZS5zZXJ2aWNlT2JiSW5JbmRleFNSfHxvLnB1c2goeWVbMF0seWVbMV0seWVbMl0pfX1fY3JlYXRlR3JhcGhpY3MoZSx0LHIsaSl7Y29uc3Qgcz1lLmxlbmd0aCxvPTMsYT10aGlzLl9nZXRPYmplY3RJZEZpZWxkKCksbD10aGlzLnByb2Nlc3Nvci5ncmFwaGljc0NvcmUsZD1uZXcgQXJyYXksdT10aGlzLnZpZXcuc3BhdGlhbFJlZmVyZW5jZTtmb3IobGV0IGg9MDtoPHM7aCsrKXtjb25zdCBzPWVbaF0scD17fTtudWxsIT1zJiYocFthXT1zKTtjb25zdCBjPXM/P24oKSxtPWgqbyxnPWlzTmFOKHRbbSsyXSk/dm9pZCAwOnRbbSsyXSx5PUkodFttXSx0W20rMV0sZyx1KSxmPXRoaXMubG9hZGVkR3JhcGhpY3MuZ2V0KGMpO2lmKG51bGwhPWYpKG51bGw9PWYubGV2ZWx8fGYubGV2ZWw8aSkmJihmZS5wcm9wZXJ0eT1cImdlb21ldHJ5XCIsZmUuZ3JhcGhpYz1mLGZlLm9sZFZhbHVlPWYuZ2VvbWV0cnksZmUubmV3VmFsdWU9eSxmLmdlb21ldHJ5PXksZi5sZXZlbD1pLGwuZ3JhcGhpY1VwZGF0ZUhhbmRsZXIoZmUpKSxkLnB1c2goZik7ZWxzZXtjb25zdCBlPW4oKTtkLnB1c2goe29iamVjdElkOmMsdWlkOmUsZ2VvbWV0cnk6eSxhdHRyaWJ1dGVzOnAsdmlzaWJsZTohMCxub2RlSW5kZXg6cixsZXZlbDppfSl9fXJldHVybiBkfV91cGRhdGVOb2RlTWVtb3J5KGUpe2UubWVtb3J5PTQwOTYrKGUubnVtRmVhdHVyZXM/PzApKnRoaXMucHJvY2Vzc29yLmdyYXBoaWNzQ29yZS51c2VkTWVtb3J5UGVyR3JhcGhpY31fY2FjaGVOb2RlRGF0YShlKXt0aGlzLl9tZW1DYWNoZS5wdXQodGhpcy5fZ2V0TWVtQ2FjaGVLZXkoZS5ub2RlKSxlKX1fZ2V0TWVtQ2FjaGVLZXkoZSl7cmV0dXJuYCR7ZS5pbmRleH1gfV9yZW1vdmVBbGxOb2RlRGF0YSgpe3RoaXMubG9hZGVkR3JhcGhpY3MuZm9yRWFjaE5vZGUoKChlLHQpPT57aWYoZSl7Y29uc3QgdD1lLm5vZGU7dGhpcy5fdXBkYXRlTm9kZU1lbW9yeSh0KSx0aGlzLl9jYWNoZU5vZGVEYXRhKGUpfXRoaXMuX2NvbnRyb2xsZXIudXBkYXRlTG9hZFN0YXR1cyh0LCExKX0pKSx0aGlzLl90cmVlRGVidWdnZXImJnRoaXMuX3RyZWVEZWJ1Z2dlci51cGRhdGUoKSx0aGlzLmxvYWRlZEdyYXBoaWNzLmNsZWFyKCl9cmVtb3ZlTm9kZShlKXtjb25zdCB0PXRoaXMuX3JlbW92ZU5vZGVTdGFnZURhdGEoZSk7dCYmKHRoaXMuX3VwZGF0ZU5vZGVNZW1vcnkodC5ub2RlKSx0aGlzLl9jYWNoZU5vZGVEYXRhKHQpKX1fcmVtb3ZlTm9kZVN0YWdlRGF0YShlKXtjb25zdCB0PXRoaXMubG9hZGVkR3JhcGhpY3MuZ2V0Tm9kZShlKTtyZXR1cm4gbnVsbD09dD9udWxsOih0aGlzLl9jb250cm9sbGVyLnVwZGF0ZUxvYWRTdGF0dXMoZSwhMSksdGhpcy5sb2FkZWRHcmFwaGljcy5yZW1vdmVOb2RlKGUpLHRoaXMuX3RyZWVEZWJ1Z2dlciYmdGhpcy5fdHJlZURlYnVnZ2VyLnVwZGF0ZSgpLHQpfWFzeW5jIGxvYWRDYWNoZWROb2RlRGF0YShlKXtyZXR1cm4gdGhpcy5fbWVtQ2FjaGU/LnBvcCh0aGlzLl9nZXRNZW1DYWNoZUtleShlKSl9YXN5bmMgYWRkQ2FjaGVkTm9kZURhdGEoZSxyLGkscyl7dGhpcy5sb2FkZWRHcmFwaGljcy5oYXNOb2RlKGUuaW5kZXgpP3QuZ2V0TG9nZ2VyKHRoaXMpLmVycm9yKFwiSTNTIG5vZGUgXCIrZS5pZCtcIiBhbHJlYWR5IGFkZGVkXCIpOihhd2FpdCB0aGlzLl9pM3NPdmVycmlkZXMuYXBwbHlBdHRyaWJ1dGVPdmVycmlkZXMoci5mZWF0dXJlSWRzLGkscyksci5hdHRyaWJ1dGVJbmZvPWksdGhpcy5sb2FkZWRHcmFwaGljcy5hZGROb2RlKGUuaW5kZXgsciksdGhpcy5fY29udHJvbGxlci51cGRhdGVMb2FkU3RhdHVzKGUuaW5kZXgsITApLHRoaXMuX3VwZGF0ZU5vZGVNZW1vcnkoZSksY2UociksdGhpcy5fZmlsdGVyTm9kZShyKSx0aGlzLl90cmVlRGVidWdnZXImJnRoaXMuX3RyZWVEZWJ1Z2dlci51cGRhdGUoKSl9Z2V0TG9hZGVkTm9kZUlkcygpe2NvbnN0IGU9W107cmV0dXJuIHRoaXMubG9hZGVkR3JhcGhpY3MuZm9yRWFjaE5vZGUoKHQ9PmUucHVzaCh0Lm5vZGUuaWQpKSksZS5zb3J0KCl9Z2V0VmlzaWJsZU5vZGVzKCl7Y29uc3QgZT1uZXcgQXJyYXk7cmV0dXJuIHRoaXMubG9hZGVkR3JhcGhpY3MuZm9yRWFjaE5vZGUoKHQ9PmUucHVzaCh0Lm5vZGUpKSksZX1nZXRMb2FkZWROb2RlSW5kaWNlcyhlKXt0aGlzLmxvYWRlZEdyYXBoaWNzLmZvckVhY2hOb2RlKCgodCxyKT0+ZS5wdXNoKHIpKSl9Z2V0TG9hZGVkQXR0cmlidXRlcyhlKXtjb25zdCB0PXRoaXMubG9hZGVkR3JhcGhpY3MuZ2V0Tm9kZShlKTtpZihudWxsIT10Py5hdHRyaWJ1dGVJbmZvKXJldHVybiB0LmF0dHJpYnV0ZUluZm8ubG9hZGVkQXR0cmlidXRlc31nZXRBdHRyaWJ1dGVEYXRhKGUpe2NvbnN0IHQ9dGhpcy5sb2FkZWRHcmFwaGljcy5nZXROb2RlKGUpO2lmKG51bGwhPXQ/LmF0dHJpYnV0ZUluZm8pcmV0dXJuIHQuYXR0cmlidXRlSW5mby5hdHRyaWJ1dGVEYXRhfV9zZXRBdHRyaWJ1dGVEYXRhKGUsdCl7Y29uc3Qgcj10aGlzLmxvYWRlZEdyYXBoaWNzLmdldE5vZGUoZSk7bnVsbCE9cj8uYXR0cmlidXRlSW5mbyYmKHIuYXR0cmlidXRlSW5mby5hdHRyaWJ1dGVEYXRhPXQsdGhpcy5fYXR0cmlidXRlVmFsdWVzQ2hhbmdlZChyKSl9YXN5bmMgdXBkYXRlQXR0cmlidXRlcyhlLHQscil7Y29uc3QgaT10aGlzLmxvYWRlZEdyYXBoaWNzLmdldE5vZGUoZSk7bnVsbCE9aSYmKGF3YWl0IHRoaXMuX2kzc092ZXJyaWRlcy5hcHBseUF0dHJpYnV0ZU92ZXJyaWRlcyhpLmZlYXR1cmVJZHMsdCxyKSxpLmF0dHJpYnV0ZUluZm89dCx0aGlzLl9hdHRyaWJ1dGVWYWx1ZXNDaGFuZ2VkKGkpKX1fYXR0cmlidXRlVmFsdWVzQ2hhbmdlZChlKXtjZShlKSx0aGlzLl9maWx0ZXJOb2RlKGUpO2NvbnN0e3Byb2Nlc3Nvcjp0fT10aGlzLHtncmFwaGljc0NvcmU6cn09dDtpZihyLmxhYmVsc0VuYWJsZWQpe2NvbnN0IHQ9ZS5ub2RlLmluZGV4LGk9bmV3IEFycmF5O2UuZ3JhcGhpY3MuZm9yRWFjaCgoZT0+ZS5ub2RlSW5kZXg9PT10JiZpLnB1c2goZS51aWQpKSksci51cGRhdGVMYWJlbGluZ0luZm8oaSl9dC5yZWZyZXNoRmlsdGVyKCl9X3VwZGF0ZUNsaXBwaW5nRXh0ZW50KGUpe3JldHVybiB0aGlzLl9jb250cm9sbGVyJiZ0aGlzLl9jb250cm9sbGVyLnVwZGF0ZUNsaXBwaW5nQXJlYShlKSwhMX1fZ2V0T2JqZWN0SWRGaWVsZCgpe3JldHVybiB0aGlzLmxheWVyLm9iamVjdElkRmllbGR8fHZ9X2dldEdsb2JhbElkRmllbGQoKXtyZXR1cm4gdGhpcy5sYXllci5nbG9iYWxJZEZpZWxkfWFzeW5jIF9yZW5kZXJlckNoYW5nZShlLHQpe2NvbnN0e2xheWVyOntmaWVsZHNJbmRleDpyfX09dGhpcyxpPW5ldyBTZXQ7bGV0IHMsbztlPyhhd2FpdCBlLmNvbGxlY3RSZXF1aXJlZEZpZWxkcyhpLHIpLHM9QXJyYXkuZnJvbShpKS5zb3J0KCkpOnM9W10saS5jbGVhcigpLHQ/KGF3YWl0IHQuY29sbGVjdFJlcXVpcmVkRmllbGRzKGksciksbz1BcnJheS5mcm9tKGkpLnNvcnQoKSk6bz1bXSxzLmxlbmd0aD09PW8ubGVuZ3RoJiZzLmV2ZXJ5KCgoZSx0KT0+c1t0XT09PW9bdF0pKXx8dGhpcy5fcmVsb2FkQWxsTm9kZXMoKX1fcmFuZ2VJbmZvc0NoYW5nZWQoZSl7bnVsbCE9ZSYmZS5sZW5ndGg+MCYmdC5nZXRMb2dnZXIodGhpcykud2FybihcIlVuc3VwcG9ydGVkIHByb3BlcnR5OiByYW5nZUluZm9zIGFyZSBjdXJyZW50bHkgb25seSBzZXJpYWxpemVkIHRvIGFuZCBmcm9tIHdlYiBzY2VuZXMgYnV0IGRvIG5vdCBhZmZlY3QgcmVuZGVyaW5nLlwiKX1fZmlsdGVyQ2hhbmdlKCl7dGhpcy5sb2FkZWRHcmFwaGljcy5mb3JFYWNoTm9kZSgoZT0+dGhpcy5fZmlsdGVyTm9kZShlKSkpfV9yZWxvYWRBbGxOb2Rlcygpe3RoaXMuX3JlbW92ZUFsbE5vZGVEYXRhKCksdGhpcy5fY29udHJvbGxlciYmdGhpcy5fY29udHJvbGxlci5yZXN0YXJ0Tm9kZUxvYWRpbmcoKX1fZmlsdGVyTm9kZShlKXtjb25zdCB0PXRoaXMucGFyc2VkRGVmaW5pdGlvbkV4cHJlc3Npb24scj10aGlzLl9leGNsdWRlT2JqZWN0SWRzLGk9dGhpcy5fZ2V0T2JqZWN0SWRGaWVsZCgpO2Zvcihjb25zdCBzIG9mIGUuZ3JhcGhpY3Mpe2NvbnN0IGU9cy52aXNpYmxlLG89dGhpcy5fZXZhbHVhdGVDbGF1c2UodCxzKSxhPSFyLmhhcyhzLmF0dHJpYnV0ZXNbaV0pO3MudmlzaWJsZT1vJiZhLGUhPT1zLnZpc2libGUmJihmZS5ncmFwaGljPXMsZmUucHJvcGVydHk9XCJ2aXNpYmxlXCIsZmUub2xkVmFsdWU9ZSxmZS5uZXdWYWx1ZT1zLnZpc2libGUsdGhpcy5wcm9jZXNzb3IuZ3JhcGhpY3NDb3JlLmdyYXBoaWNVcGRhdGVIYW5kbGVyKGZlKSl9fWNyZWF0ZVF1ZXJ5KCl7Y29uc3QgZT17b3V0RmllbGRzOltcIipcIl0scmV0dXJuR2VvbWV0cnk6ITAsb3V0U3BhdGlhbFJlZmVyZW5jZTp0aGlzLnZpZXcuc3BhdGlhbFJlZmVyZW5jZX07cmV0dXJuIHRoaXMuZmlsdGVyPy5jcmVhdGVRdWVyeShlKT8/bmV3IE4oZSl9cXVlcnlGZWF0dXJlcyhlLHQpe3JldHVybiB0aGlzLl9xdWVyeUVuZ2luZS5leGVjdXRlUXVlcnkodGhpcy5fZW5zdXJlUXVlcnkoZSksdD8uc2lnbmFsKX1xdWVyeU9iamVjdElkcyhlLHQpe3JldHVybiB0aGlzLl9xdWVyeUVuZ2luZS5leGVjdXRlUXVlcnlGb3JJZHModGhpcy5fZW5zdXJlUXVlcnkoZSksdD8uc2lnbmFsKX1xdWVyeUZlYXR1cmVDb3VudChlLHQpe3JldHVybiB0aGlzLl9xdWVyeUVuZ2luZS5leGVjdXRlUXVlcnlGb3JDb3VudCh0aGlzLl9lbnN1cmVRdWVyeShlKSx0Py5zaWduYWwpfXF1ZXJ5RXh0ZW50KGUsdCl7cmV0dXJuIHRoaXMuX3F1ZXJ5RW5naW5lLmV4ZWN1dGVRdWVyeUZvckV4dGVudCh0aGlzLl9lbnN1cmVRdWVyeShlKSx0Py5zaWduYWwpfV9lbnN1cmVRdWVyeShlKXtyZXR1cm4gdGhpcy5fYWRkRGVmaW5pdGlvbkV4cHJlc3Npb25Ub1F1ZXJ5KG51bGw9PWU/dGhpcy5jcmVhdGVRdWVyeSgpOk4uZnJvbShlKSl9X3NldHVwUXVlcnlFbmdpbmUoKXtjb25zdHtsYXllcjplLHZpZXc6dCxoYXNNOnIsaGFzWjppfT10aGlzLHtzcGF0aWFsUmVmZXJlbmNlOnMscmVzb3VyY2VDb250cm9sbGVyOm99PXQsYT1uZXcgRyhzLGUsbywoKCk9PnRoaXMucHJvY2Vzc29yLmZlYXR1cmVTdG9yZSksaSxyKTt0aGlzLl9xdWVyeUVuZ2luZT1uZXcgRih7Y29udGV4dDphLHByaW9yaXR5Om9lLkZFQVRVUkVfUVVFUllfRU5HSU5FfSl9Z2V0IHVzZWRNZW1vcnkoKXtyZXR1cm4gdGhpcy5wcm9jZXNzb3I/LmdyYXBoaWNzQ29yZT8udXNlZE1lbW9yeT8/MH1nZXQgdW5sb2FkZWRNZW1vcnkoKXtyZXR1cm4uOCooKHRoaXMuX2NvbnRyb2xsZXI/LnVubG9hZGVkTWVtb3J5RXN0aW1hdGU/PzApKyh0aGlzLnByb2Nlc3Nvcj8uZ3JhcGhpY3NDb3JlPy51bnByb2Nlc3NlZE1lbW9yeUVzdGltYXRlPz8wKSl9Z2V0IGlnbm9yZXNNZW1vcnlGYWN0b3IoKXtyZXR1cm4gdGhpcy5fY29udHJvbGxlciYmdGhpcy5fY29udHJvbGxlci5maXhlZEZlYXR1cmVUYXJnZXR9YXN5bmMgX2hhbmRsZUVkaXRzKGUpe2NvbnN0IHQ9dGhpcy5fYXR0cmlidXRlRWRpdGluZ0NvbnRleHQscj1hd2FpdCBWKHQsZSk7UCh0LHIpfWdldCBfYXR0cmlidXRlRWRpdGluZ0NvbnRleHQoKXtjb25zdCBlPXRoaXMuX2dldE9iamVjdElkRmllbGQoKSx0PXRoaXMuX2dldEdsb2JhbElkRmllbGQoKTtyZXR1cm57c2Vzc2lvbnM6dGhpcy5faW50ZXJhY3RpdmVFZGl0aW5nU2Vzc2lvbnMsZmllbGRzSW5kZXg6dGhpcy5sYXllci5maWVsZHNJbmRleCxvYmplY3RJZEZpZWxkOmUsZ2xvYmFsSWRGaWVsZDp0LGZvckVhY2hOb2RlOmU9PnRoaXMubG9hZGVkR3JhcGhpY3MuZm9yRWFjaE5vZGUoKHQ9PmUodC5ub2RlLHQuZmVhdHVyZUlkcykpKSxhdHRyaWJ1dGVTdG9yYWdlSW5mbzp0aGlzLmkzc2xheWVyLmF0dHJpYnV0ZVN0b3JhZ2VJbmZvPz9bXSxpM3NPdmVycmlkZXM6dGhpcy5faTNzT3ZlcnJpZGVzLGdldEF0dHJpYnV0ZURhdGE6ZT0+dGhpcy5nZXRBdHRyaWJ1dGVEYXRhKGUpLHNldEF0dHJpYnV0ZURhdGE6KHQscixpKT0+e3RoaXMuX3NldEF0dHJpYnV0ZURhdGEodCxyKTtjb25zdCBzPXRoaXMubG9hZGVkR3JhcGhpY3MuZ2V0Tm9kZSh0KTtpZihudWxsIT1pKXtjb25zdCB0PXRoaXMubG9hZGVkR3JhcGhpY3MuZ2V0KGkuYXR0cmlidXRlc1tlXSk7bnVsbCE9dCYmdGhpcy5wcm9jZXNzb3IuZ3JhcGhpY3NDb3JlLnJlY3JlYXRlR3JhcGhpY3MoW3RdKX1lbHNlIG51bGwhPXMmJnRoaXMucHJvY2Vzc29yLmdyYXBoaWNzQ29yZS5yZWNyZWF0ZUdyYXBoaWNzKHMuZ3JhcGhpY3MpfSxjbGVhck1lbUNhY2hlOigpPT57fX19Z2V0IHBlcmZvcm1hbmNlSW5mbygpe3JldHVybiBuZXcgayh0aGlzLnVzZWRNZW1vcnksdGhpcy5sb2FkZWRHcmFwaGljcy5sZW5ndGgsLTEsdGhpcy5tYXhpbXVtTnVtYmVyT2ZGZWF0dXJlcyx0aGlzLmxvYWRlZEdyYXBoaWNzLm5vZGVDb3VudCx0aGlzLnByb2Nlc3Nvci5ncmFwaGljc0NvcmUucGVyZm9ybWFuY2VJbmZvKX1nZXQgdGVzdCgpe319O2UoW2woKV0sbGUucHJvdG90eXBlLFwicHJvY2Vzc29yXCIsdm9pZCAwKSxlKFtsKHt0eXBlOmp9KV0sbGUucHJvdG90eXBlLFwiZmlsdGVyXCIsdm9pZCAwKSxlKFtsKCldLGxlLnByb3RvdHlwZSxcImxvYWRlZEdyYXBoaWNzXCIsdm9pZCAwKSxlKFtsKCldLGxlLnByb3RvdHlwZSxcImkzc2xheWVyXCIsbnVsbCksZShbbCgpXSxsZS5wcm90b3R5cGUsXCJsYXllclZpZXdVaWRcIixudWxsKSxlKFtsKCldLGxlLnByb3RvdHlwZSxcIl9jb250cm9sbGVyXCIsdm9pZCAwKSxlKFtsKCldLGxlLnByb3RvdHlwZSxcInVwZGF0aW5nXCIsdm9pZCAwKSxlKFtsKCldLGxlLnByb3RvdHlwZSxcInN1c3BlbmRlZFwiLHZvaWQgMCksZShbbCgkKV0sbGUucHJvdG90eXBlLFwidXBkYXRpbmdQcm9ncmVzc1wiLHZvaWQgMCksZShbbCgpXSxsZS5wcm90b3R5cGUsXCJ1cGRhdGluZ1Byb2dyZXNzVmFsdWVcIixudWxsKSxlKFtsKHtyZWFkT25seTohMH0pXSxsZS5wcm90b3R5cGUsXCJ2aXNpYmxlQXRDdXJyZW50U2NhbGVcIixudWxsKSxlKFtsKGFlLnJlcXVpcmVkRmllbGRzKV0sbGUucHJvdG90eXBlLFwicmVxdWlyZWRGaWVsZHNcIixudWxsKSxlKFtsKGFlLmF2YWlsYWJsZUZpZWxkcyldLGxlLnByb3RvdHlwZSxcImF2YWlsYWJsZUZpZWxkc1wiLHZvaWQgMCksZShbbCgpXSxsZS5wcm90b3R5cGUsXCJfZmllbGRzSGVscGVyXCIsdm9pZCAwKSxlKFtsKHt0eXBlOk51bWJlcn0pXSxsZS5wcm90b3R5cGUsXCJtYXhpbXVtTnVtYmVyT2ZGZWF0dXJlc1wiLG51bGwpLGUoW2woe3JlYWRPbmx5OiEwfSldLGxlLnByb3RvdHlwZSxcIm1heGltdW1OdW1iZXJPZkZlYXR1cmVzRXhjZWVkZWRcIixudWxsKSxlKFtsKCldLGxlLnByb3RvdHlwZSxcIl9leGNsdWRlT2JqZWN0SWRzXCIsbnVsbCksZShbbCh7cmVhZE9ubHk6ITB9KV0sbGUucHJvdG90eXBlLFwibG9kRmFjdG9yXCIsbnVsbCksZShbbCh7cmVhZE9ubHk6ITB9KV0sbGUucHJvdG90eXBlLFwiaGFzTVwiLG51bGwpLGUoW2woe3JlYWRPbmx5OiEwfSldLGxlLnByb3RvdHlwZSxcImhhc1pcIixudWxsKSxlKFtsKCldLGxlLnByb3RvdHlwZSxcImNvbnRlbnRWaXNpYmxlXCIsbnVsbCksZShbbCh7cmVhZE9ubHk6ITB9KV0sbGUucHJvdG90eXBlLFwibGVnZW5kRW5hYmxlZFwiLG51bGwpLGxlPWUoW2QoXCJlc3JpLnZpZXdzLjNkLmxheWVycy5TY2VuZUxheWVyR3JhcGhpY3NWaWV3M0RcIildLGxlKTtjb25zdCBkZT1sZTtmdW5jdGlvbiB1ZShlKXtyZXR1cm5cInBvaW50RGF0YVwiaW4gZX1mdW5jdGlvbiBoZShlKXtyZXR1cm5cImdlb21ldHJ5QnVmZmVyXCJpbiBlJiZudWxsIT09ZS5nZW9tZXRyeUJ1ZmZlcn1mdW5jdGlvbiBwZShlLHQscil7Y29uc3QgaT10LmF0dHJpYnV0ZUluZm87aWYobnVsbD09aT8ubG9hZGVkQXR0cmlidXRlc3x8bnVsbD09aS5hdHRyaWJ1dGVEYXRhKXJldHVybiExO2xldCBzPSExO2Zvcihjb25zdHtuYW1lOm99b2YgaS5sb2FkZWRBdHRyaWJ1dGVzKWlmKGkuYXR0cmlidXRlRGF0YVtvXSl7Y29uc3QgdD1MKGkuYXR0cmlidXRlRGF0YVtvXSxyKTt0IT09ZS5hdHRyaWJ1dGVzW29dJiYoZS5hdHRyaWJ1dGVzW29dPXQscz0hMCl9cmV0dXJuIHN9ZnVuY3Rpb24gY2UoZSl7Y29uc3QgdD1lLmF0dHJpYnV0ZUluZm87aWYobnVsbD09dD8ubG9hZGVkQXR0cmlidXRlc3x8bnVsbD09dC5hdHRyaWJ1dGVEYXRhKXJldHVybjtjb25zdCByPWUubm9kZS5pbmRleDtmb3IobGV0IGk9MDtpPGUuZ3JhcGhpY3MubGVuZ3RoO2krKyl7Y29uc3Qgcz1lLmdyYXBoaWNzW2ldO2lmKHMubm9kZUluZGV4PT09cil7cy5hdHRyaWJ1dGVzfHwocy5hdHRyaWJ1dGVzPXt9KTtmb3IoY29uc3R7bmFtZTplfW9mIHQubG9hZGVkQXR0cmlidXRlcyl0LmF0dHJpYnV0ZURhdGFbZV0mJihzLmF0dHJpYnV0ZXNbZV09TCh0LmF0dHJpYnV0ZURhdGFbZV0saSkpfX19ZnVuY3Rpb24gbWUoZSx0KXtyZXR1cm4gZS54bWluLT10LGUueW1pbi09dCxlLnhtYXgrPXQsZS55bWF4Kz10LG51bGwhPWUuem1pbiYmbnVsbCE9ZS56bWF4JiYoZS56bWluLT10LGUuem1heCs9dCksbnVsbCE9ZS5tbWluJiZudWxsIT1lLm1tYXgmJihlLm1taW4tPXQsZS5tbWF4Kz10KSxlfWNvbnN0IGdlPXsyOnt0eXBlOlwiRW1iZWRkZWRcIixwYXJhbXM6e3R5cGU6XCJwb2ludHNcIix2ZXJ0ZXhBdHRyaWJ1dGVzOntwb3NpdGlvbjpbMCwwXX19fSwzOnt0eXBlOlwiRW1iZWRkZWRcIixwYXJhbXM6e3R5cGU6XCJwb2ludHNcIix2ZXJ0ZXhBdHRyaWJ1dGVzOntwb3NpdGlvbjpbMCwwLDBdfX19fSx5ZT1oKCksZmU9e2dyYXBoaWM6bnVsbCxwcm9wZXJ0eTpudWxsLG9sZFZhbHVlOm51bGwsbmV3VmFsdWU6bnVsbH07ZXhwb3J0e2RlIGFzIGRlZmF1bHR9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMzMvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydCBlIGZyb21cIi4uLy4uLy4uLy4uL2NvcmUvRXZlbnRlZC5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vLi4vY29yZS9oYXMuanNcIjtpbXBvcnR7ZmluZEluTWFwIGFzIHQsc29tZU1hcCBhcyBzfWZyb21cIi4uLy4uLy4uLy4uL2NvcmUvTWFwVXRpbHMuanNcIjtjbGFzcyBpIGV4dGVuZHMgZXtjb25zdHJ1Y3RvcihlLHQpe3N1cGVyKCksdGhpcy5fdXBkYXRlQW5kQ29tcGFyZT1lLHRoaXMuX25vdGlmeVVwZGF0ZWQ9dCx0aGlzLl9ub2Rlcz1uZXcgTWFwLHRoaXMuX2dyYXBoaWNzPW5ldyBNYXAsdGhpcy5fZHVwbGljYXRlcz1uZXcgTWFwfWNsZWFyKCl7aWYodGhpcy5fZ3JhcGhpY3Muc2l6ZT4wKXtjb25zdCBlPXRoaXMudG9BcnJheSgpO3RoaXMuX2dyYXBoaWNzLmNsZWFyKCksdGhpcy5lbWl0KFwiY2hhbmdlXCIse2FkZGVkOltdLHJlbW92ZWQ6ZX0pfXRoaXMuX25vZGVzLmNsZWFyKCl9Z2V0IGxlbmd0aCgpe3JldHVybiB0aGlzLl9ncmFwaGljcy5zaXplfWdldChlKXtyZXR1cm4gdGhpcy5fZ3JhcGhpY3MuZ2V0KGUpfWdldE5vZGUoZSl7cmV0dXJuIHRoaXMuX25vZGVzLmdldChlKX1oYXNOb2RlKGUpe3JldHVybiB0aGlzLl9ub2Rlcy5oYXMoZSl9bm9kZXMoKXtyZXR1cm4gdGhpcy5fbm9kZXMudmFsdWVzKCl9YWRkTm9kZShlLHQpe3RoaXMuX25vZGVzLnNldChlLHQpO2NvbnN0IHM9dC5ncmFwaGljcztpZigwPT09cy5sZW5ndGgpcmV0dXJuO2NvbnN0IGk9bmV3IFNldDtmb3IobGV0IG89MDtvPHMubGVuZ3RoO28rKyl7Y29uc3QgdD1zW29dLG49dC5vYmplY3RJZCxoPXRoaXMuX2dyYXBoaWNzLmdldChuKTtpZihoKXtpLmFkZChuKSx0IT09aCYmKHNbb109aCk7Y29uc3Qgcj10aGlzLl9kdXBsaWNhdGVzLmdldChuKTtyP3IucHVzaChlKTp0aGlzLl9kdXBsaWNhdGVzLnNldChuLFtoLm5vZGVJbmRleCxlXSl9ZWxzZSB0Lm5vZGVJbmRleD1lLHRoaXMuX2dyYXBoaWNzLnNldChuLHQpfWkuc2l6ZSYmdGhpcy5fdXBkYXRlRm9yZWlnbkdyYXBoaWNzKHQpO2NvbnN0IG49aS5zaXplPjA/cy5maWx0ZXIoKGU9PiFpLmhhcyhlLm9iamVjdElkKSkpOnM7bi5sZW5ndGg+MCYmdGhpcy5lbWl0KFwiY2hhbmdlXCIse2FkZGVkOm4scmVtb3ZlZDpbXX0pfXJlbW92ZU5vZGUoZSl7Y29uc3QgdD10aGlzLl9ub2Rlcy5nZXQoZSk7aWYoIXQpcmV0dXJuO3RoaXMuX25vZGVzLmRlbGV0ZShlKTtjb25zdCBzPW5ldyBTZXQsaT1bXTtmb3IoY29uc3QgbiBvZiB0LmdyYXBoaWNzKXtjb25zdCB0PW4ub2JqZWN0SWQsbz10aGlzLl9ncmFwaGljcy5nZXQodCk7aWYoIW8pY29udGludWU7Y29uc3QgaD10aGlzLl9kdXBsaWNhdGVzLmdldCh0KTtpZihoKXtjb25zdCBpPWguaW5kZXhPZihlKTtpZigtMT09PWkpY29udGludWU7aWYoaC5zcGxpY2UoaSwxKSxvLm5vZGVJbmRleD09PWUpe2xldCBlPXRoaXMuZ2V0Tm9kZShoWzBdKTtmb3IobGV0IHQ9MTt0PGgubGVuZ3RoO3QrKyl7Y29uc3Qgcz10aGlzLmdldE5vZGUoaFt0XSk7KG51bGw9PWV8fG51bGwhPXMmJnMubm9kZS5sZXZlbD5lLm5vZGUubGV2ZWwpJiYoZT1zKX1udWxsIT1lJiZzLmFkZChlKX0xPT09aC5sZW5ndGgmJnRoaXMuX2R1cGxpY2F0ZXMuZGVsZXRlKHQpfWVsc2UgdGhpcy5fZ3JhcGhpY3MuZGVsZXRlKHQpLGkucHVzaChuKX1pLmxlbmd0aD4wJiZ0aGlzLmVtaXQoXCJjaGFuZ2VcIix7YWRkZWQ6W10scmVtb3ZlZDppfSkscy5mb3JFYWNoKChlPT50aGlzLl91cGRhdGVGb3JlaWduR3JhcGhpY3MoZSkpKX1fdXBkYXRlRm9yZWlnbkdyYXBoaWNzKGUpe2NvbnN0IHQ9W10scz1lLm5vZGUuaW5kZXgsaT1lLm5vZGUubGV2ZWw7bGV0IG49MDtmb3IoO248ZS5ncmFwaGljcy5sZW5ndGg7KXtjb25zdCBvPWUuZ3JhcGhpY3Nbbl0ubm9kZUluZGV4O2lmKG89PT1zKXtuKys7Y29udGludWV9bGV0IGg9MTtmb3IoO24raDxlLmdyYXBoaWNzLmxlbmd0aCYmZS5ncmFwaGljc1tuK2hdLm5vZGVJbmRleD09PW87KWgrKztjb25zdCByPXRoaXMuZ2V0Tm9kZShvKTtpZihudWxsIT1yJiZyLm5vZGUubGV2ZWw+aSluKz1oO2Vsc2V7Zm9yKGxldCBpPW47aTxuK2g7aSsrKXtjb25zdCBuPWUuZ3JhcGhpY3NbaV07bi5ub2RlSW5kZXg9cyx0aGlzLl91cGRhdGVBbmRDb21wYXJlKG4sZSxpKSYmdC5wdXNoKG4pfW4rPWh9fXQubGVuZ3RoPjAmJnRoaXMuX25vdGlmeVVwZGF0ZWQodCl9dG9BcnJheSgpe3JldHVybiBBcnJheS5mcm9tKHRoaXMuX2dyYXBoaWNzLnZhbHVlcygpKX1maW5kKGUpe3JldHVybiB0KHRoaXMuX2dyYXBoaWNzLGUpfXNvbWUoZSl7cmV0dXJuIHModGhpcy5fZ3JhcGhpY3MsZSl9Zm9yRWFjaChlKXt0aGlzLl9ncmFwaGljcy5mb3JFYWNoKCh0PT5lKHQpKSl9Zm9yRWFjaE5vZGUoZSl7dGhpcy5fbm9kZXMuZm9yRWFjaCgoKHQscyk9PmUodCxzKSkpfWdldCBub2RlQ291bnQoKXtyZXR1cm4gdGhpcy5fbm9kZXMuc2l6ZX1fY2hlY2tJbnZhcmlhbnRzKCl7Y29uc3QgZT1uZXcgTWFwO3RoaXMuX25vZGVzLmZvckVhY2goKCh0LHMpPT57dC5ncmFwaGljcy5mb3JFYWNoKCh0PT57ZS5zZXQodC5vYmplY3RJZCwxKyhlLmdldCh0Lm9iamVjdElkKT8/MCkpLHRoaXMuX2R1cGxpY2F0ZXMuZ2V0KHQub2JqZWN0SWQpfSkpfSkpLGUuZm9yRWFjaCgoKGUsdCk9Pntjb25zdCBzPXRoaXMuX2dyYXBoaWNzLmdldCh0KTtpZighcylyZXR1cm47aWYoIXRoaXMuX25vZGVzLmdldChzLm5vZGVJbmRleCkpcmV0dXJuO2NvbnN0IGk9dGhpcy5fZHVwbGljYXRlcy5nZXQodCk7aSYmaS5mb3JFYWNoKChlPT57dGhpcy5fbm9kZXMuZ2V0KGUpfSkpfSkpfX1leHBvcnR7aSBhcyBJM1NHcmFwaGljc01hcH07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4zMy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e18gYXMgcn1mcm9tXCIuLi8uLi8uLi8uLi9jaHVua3MvdHNsaWIuZXM2LmpzXCI7aW1wb3J0IGUgZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9Mb2dnZXIuanNcIjtpbXBvcnR7cHJvcGVydHkgYXMgaX1mcm9tXCIuLi8uLi8uLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3Byb3BlcnR5LmpzXCI7aW1wb3J0XCIuLi8uLi8uLi8uLi9jb3JlL2hhcy5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vLi4vY29yZS9SYW5kb21MQ0cuanNcIjtpbXBvcnR7c3ViY2xhc3MgYXMgc31mcm9tXCIuLi8uLi8uLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3N1YmNsYXNzLmpzXCI7aW1wb3J0IG8gZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9zcWwvV2hlcmVDbGF1c2UuanNcIjtpbXBvcnR7ZmluZEZpZWxkc0Nhc2VJbnNlbnNpdGl2ZSBhcyBufWZyb21cIi4uL2kzcy9JM1NVdGlsLmpzXCI7Y29uc3QgdD10PT57bGV0IHA9Y2xhc3MgZXh0ZW5kcyB0e2NvbnN0cnVjdG9yKCl7c3VwZXIoLi4uYXJndW1lbnRzKSx0aGlzLl9kZWZpbml0aW9uRXhwcmVzc2lvbkVycm9ycz0wLHRoaXMuX21heERlZmluaXRpb25FeHByZXNzaW9uRXJyb3JzPTIwLHRoaXMubG9nRXJyb3I9cj0+e3RoaXMuX2RlZmluaXRpb25FeHByZXNzaW9uRXJyb3JzPHRoaXMuX21heERlZmluaXRpb25FeHByZXNzaW9uRXJyb3JzJiZlLmdldExvZ2dlcih0aGlzKS5lcnJvcihcIkVycm9yIHdoaWxlIGV2YWx1YXRpbmcgZGVmaW5pdGlvbkV4cHJlc3Npb246IFwiK3IpLHRoaXMuX2RlZmluaXRpb25FeHByZXNzaW9uRXJyb3JzKyssdGhpcy5fZGVmaW5pdGlvbkV4cHJlc3Npb25FcnJvcnM9PT10aGlzLl9tYXhEZWZpbml0aW9uRXhwcmVzc2lvbkVycm9ycyYmZS5nZXRMb2dnZXIodGhpcykuZXJyb3IoXCJGdXJ0aGVyIGVycm9ycyBhcmUgaWdub3JlZFwiKX19Z2V0IHBhcnNlZERlZmluaXRpb25FeHByZXNzaW9uKCl7aWYoIXRoaXMuaTNzbGF5ZXI/LmRlZmluaXRpb25FeHByZXNzaW9uKXJldHVybiBudWxsO3RyeXtjb25zdCByPW8uY3JlYXRlKHRoaXMuaTNzbGF5ZXIuZGVmaW5pdGlvbkV4cHJlc3Npb24se2ZpZWxkc0luZGV4OnRoaXMuaTNzbGF5ZXIuZmllbGRzSW5kZXh9KTtpZighci5pc1N0YW5kYXJkaXplZClyZXR1cm4gZS5nZXRMb2dnZXIodGhpcykuZXJyb3IoXCJkZWZpbml0aW9uRXhwcmVzc2lvbiBpcyB1c2luZyBub24gc3RhbmRhcmQgZnVuY3Rpb25cIiksbnVsbDtjb25zdCBpPVtdLHM9ci5maWVsZE5hbWVzO3JldHVybiBuKHMsdGhpcy5pM3NsYXllci5maWVsZHNJbmRleCx7bWlzc2luZ0ZpZWxkczppfSksaS5sZW5ndGg+MD8oZS5nZXRMb2dnZXIodGhpcykuZXJyb3IoYGRlZmluaXRpb25FeHByZXNzaW9uIHJlZmVyZW5jZXMgdW5rbm93biBmaWVsZHM6ICR7aS5qb2luKFwiLCBcIil9YCksbnVsbCk6KHRoaXMuX2RlZmluaXRpb25FeHByZXNzaW9uRXJyb3JzPTAscil9Y2F0Y2gocil7cmV0dXJuIGUuZ2V0TG9nZ2VyKHRoaXMpLmVycm9yKFwiRmFpbGVkIHRvIHBhcnNlIGRlZmluaXRpb25FeHByZXNzaW9uOiBcIityKSxudWxsfX1nZXQgZGVmaW5pdGlvbkV4cHJlc3Npb25GaWVsZHMoKXtyZXR1cm4gdGhpcy5wYXJzZWREZWZpbml0aW9uRXhwcmVzc2lvbj90aGlzLnBhcnNlZERlZmluaXRpb25FeHByZXNzaW9uLmZpZWxkTmFtZXM6W119X2V2YWx1YXRlQ2xhdXNlKHIsZSl7aWYobnVsbD09cilyZXR1cm4hMDt0cnl7cmV0dXJuIHIudGVzdEZlYXR1cmUoZSl9Y2F0Y2goaSl7cmV0dXJuIHRoaXMubG9nRXJyb3IoaSksITF9fV9hZGREZWZpbml0aW9uRXhwcmVzc2lvblRvUXVlcnkocil7aWYoIXRoaXMucGFyc2VkRGVmaW5pdGlvbkV4cHJlc3Npb24pcmV0dXJuIHI7Y29uc3QgZT10aGlzLmkzc2xheWVyLmRlZmluaXRpb25FeHByZXNzaW9uLGk9ci5jbG9uZSgpO3JldHVybiBpLndoZXJlP2kud2hlcmU9YCgke2V9KSBBTkQgKCR7aS53aGVyZX0pYDppLndoZXJlPWUsaX19O3JldHVybiByKFtpKHtyZWFkT25seTohMH0pXSxwLnByb3RvdHlwZSxcInBhcnNlZERlZmluaXRpb25FeHByZXNzaW9uXCIsbnVsbCkscihbaSh7cmVhZE9ubHk6ITB9KV0scC5wcm90b3R5cGUsXCJkZWZpbml0aW9uRXhwcmVzc2lvbkZpZWxkc1wiLG51bGwpLHA9cihbcyhcImVzcmkudmlld3MuM2QubGF5ZXJzLnN1cHBvcnQuRGVmaW5pdGlvbkV4cHJlc3Npb25TY2VuZUxheWVyVmlld1wiKV0scCkscH07ZXhwb3J0e3QgYXMgRGVmaW5pdGlvbkV4cHJlc3Npb25TY2VuZUxheWVyVmlld307XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4zMy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e18gYXMgdH1mcm9tXCIuLi8uLi8uLi8uLi9jaHVua3MvdHNsaWIuZXM2LmpzXCI7aW1wb3J0e3Byb3BlcnR5IGFzIGV9ZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9wcm9wZXJ0eS5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vLi4vY29yZS9oYXMuanNcIjtpbXBvcnRcIi4uLy4uLy4uLy4uL2NvcmUvTG9nZ2VyLmpzXCI7aW1wb3J0XCIuLi8uLi8uLi8uLi9jb3JlL1JhbmRvbUxDRy5qc1wiO2ltcG9ydHtzdWJjbGFzcyBhcyByfWZyb21cIi4uLy4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvc3ViY2xhc3MuanNcIjtpbXBvcnR7Z2V0VGltZU9wZXJhdG9yIGFzIGl9ZnJvbVwiLi4vLi4vLi4vLi4vbGF5ZXJzL2dyYXBoaWNzL2RhdGEvdGltZVN1cHBvcnQuanNcIjtpbXBvcnQgcyBmcm9tXCIuLi8uLi8uLi8uLi9sYXllcnMvc3VwcG9ydC9GZWF0dXJlRmlsdGVyLmpzXCI7aW1wb3J0e2NvbWJpbmVUaW1lRXh0ZW50IGFzIG59ZnJvbVwiLi4vLi4vLi4vLi4vbGF5ZXJzL3N1cHBvcnQvdGltZVN1cHBvcnQuanNcIjtpbXBvcnR7Z2V0Q2FjaGVkQXR0cmlidXRlVmFsdWUgYXMgb31mcm9tXCIuLi9pM3MvSTNTQmluYXJ5UmVhZGVyLmpzXCI7aW1wb3J0e2ZpbHRlckluUGxhY2UgYXMgbH1mcm9tXCIuLi9pM3MvSTNTVXRpbC5qc1wiO2NvbnN0IHU9aT0+e2xldCBvPWNsYXNzIGV4dGVuZHMgaXtnZXQgdGltZUV4dGVudCgpe3JldHVybiBuKHRoaXMuaTNzbGF5ZXIsdGhpcy52aWV3Py50aW1lRXh0ZW50LHRoaXMuX2dldChcInRpbWVFeHRlbnRcIikpfWdldCBtZXJnZWRGaWx0ZXIoKXtjb25zdHtmaWx0ZXI6dCx0aW1lRXh0ZW50OmV9PXRoaXM7aWYobnVsbD09ZSlyZXR1cm4gdDtjb25zdCByPXQ/LmNsb25lKCk/P25ldyBzO3JldHVybiBudWxsIT1lJiYoci50aW1lRXh0ZW50PXIudGltZUV4dGVudD8uaW50ZXJzZWN0aW9uKGUpPz9lKSxyfWdldFRpbWVGaWx0ZXJEZXBlbmRlbmNpZXMoKXtjb25zdHt0aW1lSW5mbzp0fT10aGlzLmkzc2xheWVyO2lmKG51bGw9PXQpcmV0dXJuW107Y29uc3R7c3RhcnRGaWVsZDplLGVuZEZpZWxkOnJ9PXQ7cmV0dXJuW2Uscl19YWRkVGltZUZpbHRlcih0LGUpe2lmKG51bGw9PWUpcmV0dXJuO2NvbnN0e3RpbWVJbmZvOnJ9PXRoaXMuaTNzbGF5ZXI7aWYobnVsbD09cilyZXR1cm47Y29uc3R7c3RhcnRGaWVsZDppLGVuZEZpZWxkOnMsdXNlVGltZTpufT1yO2lmKCFufHxudWxsPT1pJiZudWxsPT1zKXJldHVybjtjb25zdCBvPXIudG9KU09OKCksbD1lLnRvSlNPTigpO3QucHVzaCgoKHQsZSk9PmEodCxlLG8sbCkpKX19O3JldHVybiB0KFtlKHtyZWFkT25seTohMH0pXSxvLnByb3RvdHlwZSxcInRpbWVFeHRlbnRcIixudWxsKSx0KFtlKCldLG8ucHJvdG90eXBlLFwibWVyZ2VkRmlsdGVyXCIsbnVsbCksbz10KFtyKFwiZXNyaS52aWV3cy4zZC5sYXllcnMuc3VwcG9ydC5UZW1wb3JhbFNjZW5lTGF5ZXJWaWV3XCIpXSxvKSxvfTtmdW5jdGlvbiBhKHQsZSxyLHMpe2NvbnN0IG49ZS5hdHRyaWJ1dGVJbmZvPy5hdHRyaWJ1dGVEYXRhO2lmKG51bGw9PW4pcmV0dXJuO2NvbnN0e3N0YXJ0VGltZUZpZWxkOm8sZW5kVGltZUZpZWxkOnV9PXI7aWYoISEobnVsbCE9byYmbnVsbD09bltvXXx8bnVsbCE9dSYmbnVsbD09blt1XSkpcmV0dXJuO2NvbnN0IGE9aShyLHMsbmV3IG0obikpO2lmKG51bGw9PWEpcmV0dXJuO2NvbnN0e2ZlYXR1cmVJZHM6cH09ZTtsKHQscCxhKX1jbGFzcyBte2NvbnN0cnVjdG9yKHQpe3RoaXMuYXR0cmlidXRlRGF0YT10fWdldEF0dHJpYnV0ZSh0LGUpe3JldHVybiBvKHRoaXMuYXR0cmlidXRlRGF0YVtlXSx0KX1nZXRBdHRyaWJ1dGVBc1RpbWVzdGFtcCh0LGUpe2NvbnN0IHI9dGhpcy5nZXRBdHRyaWJ1dGUodCxlKTtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2Ygcj9uZXcgRGF0ZShyKS5nZXRUaW1lKCk6XCJudW1iZXJcIj09dHlwZW9mIHJ8fG51bGw9PXI/cjpudWxsfX1leHBvcnR7dSBhcyBUZW1wb3JhbFNjZW5lTGF5ZXJWaWV3fTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==