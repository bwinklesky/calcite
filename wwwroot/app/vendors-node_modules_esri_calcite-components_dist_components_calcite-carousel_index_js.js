export const __webpack_id__ = "vendors-node_modules_esri_calcite-components_dist_components_calcite-carousel_index_js";
export const __webpack_ids__ = ["vendors-node_modules_esri_calcite-components_dist_components_calcite-carousel_index_js"];
export const __webpack_modules__ = {

/***/ "./node_modules/@esri/calcite-components/dist/chunks/array.js":
/*!********************************************************************!*\
  !*** ./node_modules/@esri/calcite-components/dist/chunks/array.js ***!
  \********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   g: () => (/* binding */ getRoundRobinIndex)
/* harmony export */ });
/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
v3.3.3 */
function getRoundRobinIndex(index, total) {
  return (index + total) % total;
}



/***/ }),

/***/ "./node_modules/@esri/calcite-components/dist/chunks/component.js":
/*!************************************************************************!*\
  !*** ./node_modules/@esri/calcite-components/dist/chunks/component.js ***!
  \************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   c: () => (/* binding */ componentFocusable),
/* harmony export */   g: () => (/* binding */ getIconScale),
/* harmony export */   i: () => (/* binding */ isHidden),
/* harmony export */   w: () => (/* binding */ warnIfMissingRequiredProp)
/* harmony export */ });
/* harmony import */ var _logger_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./logger.js */ "./node_modules/@esri/calcite-components/dist/chunks/logger.js");
/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
v3.3.3 */

function getIconScale(componentScale) {
  return componentScale === "l" ? "m" : "s";
}
function warnIfMissingRequiredProp(component, newProp, deprecatedProp) {
  if (!component[newProp] && !component[deprecatedProp]) {
    _logger_js__WEBPACK_IMPORTED_MODULE_0__.l.warn(`[${component.el.localName}] "${newProp.toString()}" or "${deprecatedProp.toString()}" is required.`);
  }
}
function isHidden(el) {
  return el.hidden || el.itemHidden;
}
async function componentFocusable(component) {
  await component.componentOnReady();
  await component.updateComplete;
}



/***/ }),

/***/ "./node_modules/@esri/calcite-components/dist/chunks/interactive.js":
/*!**************************************************************************!*\
  !*** ./node_modules/@esri/calcite-components/dist/chunks/interactive.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   I: () => (/* binding */ InteractiveContainer),
/* harmony export */   u: () => (/* binding */ updateHostInteraction)
/* harmony export */ });
/* harmony import */ var lit_html__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lit-html */ "./node_modules/lit-html/development/lit-html.js");
/* harmony import */ var _arcgis_lumina__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @arcgis/lumina */ "./node_modules/@arcgis/lumina/dist/index.js");
/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
v3.3.3 */


function interceptedClick() {
  const { disabled } = this;
  if (!disabled) {
    HTMLElement.prototype.click.call(this);
  }
}
function onPointerDown(event) {
  const interactiveElement = event.target;
  if (interactiveElement.disabled) {
    event.preventDefault();
  }
}
const nonBubblingWhenDisabledMouseEvents = ["mousedown", "mouseup", "click"];
function onNonBubblingWhenDisabledMouseEvent(event) {
  const interactiveElement = event.target;
  if (interactiveElement.disabled) {
    event.stopImmediatePropagation();
    event.preventDefault();
  }
}
const captureOnlyOptions = { capture: true };
function updateHostInteraction(component) {
  if (component.disabled) {
    component.el.setAttribute("aria-disabled", "true");
    if (component.el.contains(document.activeElement)) {
      document.activeElement.blur();
    }
    blockInteraction(component);
    return;
  }
  restoreInteraction(component);
  component.el.removeAttribute("aria-disabled");
}
function blockInteraction(component) {
  component.el.click = interceptedClick;
  addInteractionListeners(component.el);
}
function addInteractionListeners(element) {
  element.addEventListener("pointerdown", onPointerDown, captureOnlyOptions);
  nonBubblingWhenDisabledMouseEvents.forEach((event) => element.addEventListener(event, onNonBubblingWhenDisabledMouseEvent, captureOnlyOptions));
}
function restoreInteraction(component) {
  delete component.el.click;
  removeInteractionListeners(component.el);
}
function removeInteractionListeners(element) {
  element.removeEventListener("pointerdown", onPointerDown, captureOnlyOptions);
  nonBubblingWhenDisabledMouseEvents.forEach((event) => element.removeEventListener(event, onNonBubblingWhenDisabledMouseEvent, captureOnlyOptions));
}
const CSS = {
  container: "interaction-container"
};
const InteractiveContainer = ({ children, disabled }) => (0,lit_html__WEBPACK_IMPORTED_MODULE_0__.html)`<div class=${(0,_arcgis_lumina__WEBPACK_IMPORTED_MODULE_1__.safeClassMap)(CSS.container)} .inert=${disabled}>${children}</div>`;



/***/ }),

/***/ "./node_modules/@esri/calcite-components/dist/chunks/logger.js":
/*!*********************************************************************!*\
  !*** ./node_modules/@esri/calcite-components/dist/chunks/logger.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   l: () => (/* binding */ logger)
/* harmony export */ });
/* harmony import */ var _runtime_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./runtime.js */ "./node_modules/@esri/calcite-components/dist/chunks/runtime.js");
/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
v3.3.3 */

const loggedDeprecations = /* @__PURE__ */ new Set();
const logLevels = {
  trace: 0,
  debug: 1,
  info: 2,
  warn: 4,
  error: 8,
  off: 10
};
function willLog(level) {
  return logLevels[level] >= logLevels[_runtime_js__WEBPACK_IMPORTED_MODULE_0__.l];
}
function forwardToConsole(level, ...data) {
  if (!willLog(level)) {
    return;
  }
  const badgeTemplate = "%ccalcite";
  const badgeStyle = "background: #007AC2; color: #fff; border-radius: 4px; padding: 2px 4px;";
  console[level].call(this, badgeTemplate, badgeStyle, ...data);
}
let listFormatter;
const logger = {
  debug: (message) => forwardToConsole("debug", message),
  info: (message) => forwardToConsole("info", message),
  warn: (message) => forwardToConsole("warn", message),
  error: (message) => forwardToConsole("error", message),
  trace: (message) => forwardToConsole("trace", message),
  deprecated
};
function deprecated(context, { component, name, suggested, removalVersion }) {
  const key = `${context}:${context === "component" ? "" : component}${name}`;
  if (loggedDeprecations.has(key)) {
    return;
  }
  loggedDeprecations.add(key);
  const multiSuggestions = Array.isArray(suggested);
  if (multiSuggestions && !listFormatter) {
    listFormatter = new Intl.ListFormat("en", { style: "long", type: "disjunction" });
  }
  const message = `[${name}] ${context} is deprecated and will be removed in ${removalVersion === "future" ? `a future version` : `v${removalVersion}`}.${suggested ? ` Use ${multiSuggestions ? listFormatter.format(suggested.map((suggestion) => `"${suggestion}"`)) : `"${suggested}"`} instead.` : ""}`;
  forwardToConsole("warn", message);
}



/***/ }),

/***/ "./node_modules/@esri/calcite-components/dist/chunks/observers.js":
/*!************************************************************************!*\
  !*** ./node_modules/@esri/calcite-components/dist/chunks/observers.js ***!
  \************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   c: () => (/* binding */ createObserver),
/* harmony export */   u: () => (/* binding */ updateRefObserver)
/* harmony export */ });
/* harmony import */ var lit__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lit */ "./node_modules/lit/index.js");
/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
v3.3.3 */

function createObserver(type, callback, options) {
  if (lit__WEBPACK_IMPORTED_MODULE_0__.isServer) {
    return void 0;
  }
  const Observer = getObserver(type);
  return new Observer(callback, options);
}
function getObserver(type) {
  class ExtendedMutationObserver extends window.MutationObserver {
    constructor(callback) {
      super(callback);
      this.observedEntry = [];
      this.callback = callback;
    }
    observe(target, options) {
      this.observedEntry.push({ target, options });
      return super.observe(target, options);
    }
    unobserve(target) {
      const newObservedEntries = this.observedEntry.filter((observed) => observed.target !== target);
      this.observedEntry = [];
      this.callback(super.takeRecords(), this);
      this.disconnect();
      newObservedEntries.forEach((observed) => this.observe(observed.target, observed.options));
    }
  }
  return function() {
    return type === "intersection" ? window.IntersectionObserver : type === "mutation" ? ExtendedMutationObserver : window.ResizeObserver;
  }();
}
function updateRefObserver(observer, oldTarget, target, options) {
  if (!observer) {
    return;
  }
  if (oldTarget) {
    observer.unobserve(oldTarget);
  }
  if (!target) {
    return;
  }
  if (observer instanceof MutationObserver) {
    observer.observe(target, options);
    return;
  }
  observer.observe(target);
}



/***/ }),

/***/ "./node_modules/@esri/calcite-components/dist/chunks/responsive.js":
/*!*************************************************************************!*\
  !*** ./node_modules/@esri/calcite-components/dist/chunks/responsive.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   b: () => (/* binding */ breakpoints)
/* harmony export */ });
/* harmony import */ var _global_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./global.js */ "./node_modules/@esri/calcite-components/dist/chunks/global.js");
/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
v3.3.3 */

const breakpoints = {
  width: {
    medium: cssLengthToNumber(_global_js__WEBPACK_IMPORTED_MODULE_0__.g.max),
    small: cssLengthToNumber(_global_js__WEBPACK_IMPORTED_MODULE_0__.f.max),
    xsmall: cssLengthToNumber(_global_js__WEBPACK_IMPORTED_MODULE_0__.e.max),
    xxsmall: cssLengthToNumber(_global_js__WEBPACK_IMPORTED_MODULE_0__.d.max)
  }
};
function cssLengthToNumber(length) {
  return parseInt(length);
}



/***/ }),

/***/ "./node_modules/@esri/calcite-components/dist/chunks/useSetFocus.js":
/*!**************************************************************************!*\
  !*** ./node_modules/@esri/calcite-components/dist/chunks/useSetFocus.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   u: () => (/* binding */ useSetFocus)
/* harmony export */ });
/* harmony import */ var _arcgis_lumina_controllers__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @arcgis/lumina/controllers */ "./node_modules/@arcgis/lumina/dist/controllers/index.js");
/* harmony import */ var _component_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./component.js */ "./node_modules/@esri/calcite-components/dist/chunks/component.js");
/* harmony import */ var _dom_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./dom.js */ "./node_modules/@esri/calcite-components/dist/chunks/dom.js");
/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
v3.3.3 */



const useSetFocus = () => {
  return (0,_arcgis_lumina_controllers__WEBPACK_IMPORTED_MODULE_0__.makeGenericController)((component, controller) => {
    let abortController;
    function handleFocusOut() {
      abortController?.abort();
    }
    controller.onLoad(() => {
      component.listen("focus", () => {
        abortController = new AbortController();
        component.el.addEventListener("focusout", handleFocusOut, { signal: abortController.signal });
      });
    });
    controller.onDisconnected(() => {
      component.el.removeEventListener("focusout", handleFocusOut);
    });
    return async (getFocusTarget, options) => {
      if (component.disabled) {
        return;
      }
      const focusConfig = toFocusConfig(getFocusTarget());
      if (!focusConfig) {
        return;
      }
      const { target, includeContainer, strategy } = focusConfig;
      const rootNode = (0,_dom_js__WEBPACK_IMPORTED_MODULE_2__.k)(component.el);
      const currentActiveElement = rootNode.activeElement;
      await (0,_component_js__WEBPACK_IMPORTED_MODULE_1__.c)(component);
      const focusAlreadyChanged = currentActiveElement !== rootNode.activeElement;
      if (focusAlreadyChanged || abortController && !abortController?.signal.aborted) {
        return;
      }
      component.el.removeEventListener("focus", handleFocusOut);
      return (0,_dom_js__WEBPACK_IMPORTED_MODULE_2__.b)(target, includeContainer, strategy, component.el, options);
    };
  });
};
function isFocusOverride(focusTarget) {
  return "target" in focusTarget && ("includeContainer" in focusTarget || "strategy" in focusTarget);
}
function toFocusConfig(focusTarget) {
  if (!focusTarget) {
    return;
  }
  return isFocusOverride(focusTarget) ? focusTarget : { target: focusTarget };
}



/***/ }),

/***/ "./node_modules/@esri/calcite-components/dist/chunks/useT9n.js":
/*!*********************************************************************!*\
  !*** ./node_modules/@esri/calcite-components/dist/chunks/useT9n.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   u: () => (/* binding */ useT9n)
/* harmony export */ });
/* harmony import */ var _arcgis_lumina_controllers__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @arcgis/lumina/controllers */ "./node_modules/@arcgis/lumina/dist/controllers/index.js");
/* harmony import */ var _runtime_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./runtime.js */ "./node_modules/@esri/calcite-components/dist/chunks/runtime.js");
/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
v3.3.3 */


const useT9n = (0,_arcgis_lumina_controllers__WEBPACK_IMPORTED_MODULE_0__.makeT9nController)(_runtime_js__WEBPACK_IMPORTED_MODULE_1__.g);



/***/ }),

/***/ "./node_modules/@esri/calcite-components/dist/components/calcite-carousel/customElement.js":
/*!*************************************************************************************************!*\
  !*** ./node_modules/@esri/calcite-components/dist/components/calcite-carousel/customElement.js ***!
  \*************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Carousel: () => (/* binding */ Carousel)
/* harmony export */ });
/* harmony import */ var _chunks_runtime_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../chunks/runtime.js */ "./node_modules/@esri/calcite-components/dist/chunks/runtime.js");
/* harmony import */ var lit_directives_repeat_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lit/directives/repeat.js */ "./node_modules/lit/directives/repeat.js");
/* harmony import */ var lit__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lit */ "./node_modules/lit/index.js");
/* harmony import */ var _arcgis_lumina__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @arcgis/lumina */ "./node_modules/@arcgis/lumina/dist/index.js");
/* harmony import */ var lit_html_directives_ref_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! lit-html/directives/ref.js */ "./node_modules/lit-html/development/directives/ref.js");
/* harmony import */ var _chunks_dom_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../chunks/dom.js */ "./node_modules/@esri/calcite-components/dist/chunks/dom.js");
/* harmony import */ var _chunks_guid_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../chunks/guid.js */ "./node_modules/@esri/calcite-components/dist/chunks/guid.js");
/* harmony import */ var _chunks_interactive_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../chunks/interactive.js */ "./node_modules/@esri/calcite-components/dist/chunks/interactive.js");
/* harmony import */ var _chunks_observers_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../chunks/observers.js */ "./node_modules/@esri/calcite-components/dist/chunks/observers.js");
/* harmony import */ var _chunks_responsive_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../chunks/responsive.js */ "./node_modules/@esri/calcite-components/dist/chunks/responsive.js");
/* harmony import */ var _chunks_array_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../chunks/array.js */ "./node_modules/@esri/calcite-components/dist/chunks/array.js");
/* harmony import */ var _chunks_useT9n_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../chunks/useT9n.js */ "./node_modules/@esri/calcite-components/dist/chunks/useT9n.js");
/* harmony import */ var _chunks_useSetFocus_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../chunks/useSetFocus.js */ "./node_modules/@esri/calcite-components/dist/chunks/useSetFocus.js");
/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
v3.3.3 */













const DURATION = 6e3;
const CSS = {
  container: "container",
  containerOverlaid: "container--overlaid",
  containerEdged: "container--edged",
  itemContainer: "item-container",
  itemContainerForward: "item-container--forward",
  itemContainerBackward: "item-container--backward",
  pagination: "pagination",
  paginationItems: "pagination-items",
  paginationItem: "pagination-item",
  paginationItemIndividual: "pagination-item--individual",
  paginationItemVisible: "pagination-item--visible",
  paginationItemOutOfRange: "pagination-item--out-of-range",
  paginationItemSelected: "pagination-item--selected",
  paginationItemRangeEdge: "pagination-item--range-edge",
  pageNext: "page-next",
  pagePrevious: "page-previous",
  autoplayControl: "autoplay-control",
  autoplayProgress: "autoplay-progress"
};
const ICONS = {
  chevronLeft: "chevron-left",
  chevronRight: "chevron-right",
  inactive: "bullet-point",
  active: "bullet-point-large",
  pause: "pause-f",
  play: "play-f"
};
const centerItemsByBreakpoint = {
  medium: 7,
  small: 5,
  xsmall: 3,
  xxsmall: 1
};
const idPrefix = "calcite-carousel-container";
const IDS = {
  host: (id) => `${idPrefix}-${id}`
};
const styles = (0,lit__WEBPACK_IMPORTED_MODULE_2__.css)`:host{--calcite-internal-color-focus: var( --calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)) )}:host([disabled]){cursor:default;-webkit-user-select:none;user-select:none;opacity:var(--calcite-opacity-disabled)}:host([disabled]) *,:host([disabled]) ::slotted(*){pointer-events:none}:host{display:flex;inline-size:100%;--calcite-internal-carousel-pagination-space: 1.5rem;--calcite-internal-carousel-pagination-space-wide: 3.5rem;--calcite-internal-carousel-pagination-background-color: var( --calcite-carousel-pagination-background-color, transparent );--calcite-internal-carousel-pagination-background-color-hover: var( --calcite-carousel-pagination-background-color-hover, transparent );--calcite-internal-carousel-pagination-background-color-press: var( --calcite-carousel-pagination-background-color-press, transparent );--calcite-internal-carousel-pagination-background-color-selected: var( --calcite-carousel-pagination-background-color-selected, transparent );--calcite-internal-carousel-pagination-overlay-background-color: var( --calcite-carousel-pagination-background-color, var(--calcite-color-foreground-1) );--calcite-internal-carousel-pagination-overlay-background-color-hover: var( --calcite-carousel-pagination-background-color-hover, var(--calcite-color-foreground-2) );--calcite-internal-carousel-pagination-overlay-background-color-active: var( --calcite-carousel-pagination-background-color-press, var(--calcite-color-foreground-2) );--calcite-internal-carousel-pagination-overlay-background-color-selected: var( --calcite-carousel-pagination-background-color-selected, var(--calcite-color-foreground-1) );--calcite-internal-carousel-pagination-icon-color-hover: var( --calcite-carousel-pagination-icon-color-hover, var(--calcite-color-text-1) );--calcite-internal-carousel-pagination-icon-color: var( --calcite-carousel-pagination-icon-color, var(--calcite-color-border-1) );--calcite-internal-carousel-pagination-icon-color-selected: var( --calcite-carousel-pagination-icon-color-selected, var(--calcite-color-brand) );--calcite-internal-carousel-control-icon-color-hover: var( --calcite-carousel-control-icon-color-hover, var(--calcite-internal-carousel-pagination-icon-color-hover) );--calcite-internal-carousel-control-icon-color: var( --calcite-carousel-control-icon-color, var(--calcite-carousel-pagination-icon-color, var(--calcite-color-text-3)) );--calcite-internal-carousel-autoplay-progress-background-color: var( --calcite-carousel-autoplay-progress-background-color, var(--calcite-color-border-3) );--calcite-internal-carousel-autoplay-progress-fill-color: var( --calcite-carousel-autoplay-progress-fill-color, var(--calcite-color-brand) );--calcite-internal-carousel-autoplay-control-color: var( --calcite-carousel-pagination-icon-color, var(--calcite-color-text-3) )}.container{position:relative;display:flex;inline-size:100%;flex-direction:column;overflow:hidden;font-size:var(--calcite-font-size--1);line-height:1rem;color:var(--calcite-color-text-2);outline-color:transparent}.container:focus{outline:var(--calcite-border-width-md) solid var(--calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)));outline:var(--calcite-border-width-md) solid var(--calcite-internal-color-focus);outline-offset:calc(calc(-1 * var(--calcite-spacing-base)) * calc(1 - (2*clamp(0,var(--calcite-offset-invert-focus),1))))}.container--edged:not(.container--overlaid){padding-inline:var(--calcite-internal-carousel-pagination-space-wide);inline-size:calc(100% - var(--calcite-internal-carousel-pagination-space-wide) * 2)}.item-container{display:flex;flex:1 1 auto;align-items:flex-start;justify-content:center;overflow:auto;padding:.25rem;animation-name:none;animation-duration:var(--calcite-animation-timing)}.container--overlaid .item-container{padding:0}.item-container--forward{animation-name:item-forward}.item-container--backward{animation-name:item-backward}calcite-carousel-item:not([selected]){opacity:0}.pagination{margin:.75rem;display:flex;flex-direction:row;align-items:center;justify-content:center;inline-size:auto}.pagination-items{display:flex;flex-direction:row;align-items:center}.container--overlaid .pagination{position:absolute}.pagination-item.page-next,.pagination-item.page-previous{color:var(--calcite-internal-carousel-control-icon-color);--calcite-icon-color: var(--calcite-internal-carousel-control-icon-color)}.pagination-item.page-next:hover,.pagination-item.page-previous:hover{color:var(--calcite-internal-carousel-control-icon-color-hover);--calcite-icon-color: var(--calcite-internal-carousel-control-icon-color-hover)}.container--edged .page-next,.container--edged .page-previous{block-size:3rem;inline-size:3rem;position:absolute;inset-block-start:50%;transform:translateY(-50%)}.container--edged .page-next{inset-inline-end:0}.container--edged .page-previous{inset-inline-start:0}.container--overlaid .pagination{inset-block-start:unset;inset-block-end:0;inset-inline:0}.pagination-item.autoplay-control{position:relative;color:var(--calcite-internal-carousel-autoplay-control-color);--calcite-progress-fill-color: var(--calcite-internal-carousel-autoplay-progress-fill-color);--calcite-progress-background-color: var(--calcite-internal-carousel-autoplay-progress-background-color)}.autoplay-control:focus .autoplay-progress{inset-block-end:4px;inset-inline:2px;inline-size:calc(100% - 4px)}.autoplay-progress{position:absolute;inset-block-end:2px;inset-inline:0;inline-size:100%}.pagination-item{margin:0;block-size:2rem;inline-size:2rem;cursor:pointer;align-items:center;border-style:none;background-color:transparent;transition-property:background-color,block-size,border-color,box-shadow,color,inset-block-end,inset-block-start,inset-inline-end,inset-inline-start,inset-size,opacity,outline-color,transform;transition-duration:var(--calcite-animation-timing);transition-timing-function:ease-in-out;outline-color:transparent;-webkit-appearance:none;display:flex;align-content:center;justify-content:center;background-color:var(--calcite-internal-carousel-pagination-background-color);color:var(--calcite-internal-carousel-pagination-icon-color)}.pagination-item:hover{background-color:var(--calcite-internal-carousel-pagination-background-color-hover);color:var(--calcite-internal-carousel-pagination-icon-color-hover)}.pagination-item:focus{background-color:var(--calcite-internal-carousel-pagination-background-color-press);outline:var(--calcite-border-width-md) solid var(--calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)));outline:var(--calcite-border-width-md) solid var(--calcite-internal-color-focus);outline-offset:calc(calc(-1 * var(--calcite-spacing-base)) * calc(1 - (2*clamp(0,var(--calcite-offset-invert-focus),1))))}.pagination-item:active{background-color:var(--calcite-internal-carousel-pagination-background-color-press);color:var(--calcite-internal-carousel-pagination-icon-color-hover)}.pagination-item calcite-icon{color:inherit;pointer-events:none}.pagination-item.pagination-item--selected{background-color:var(--calcite-internal-carousel-pagination-background-color-selected);color:var(--calcite-internal-carousel-pagination-icon-color-selected)}.pagination-item--individual{pointer-events:none;inline-size:0px;padding:0;opacity:0;visibility:hidden;transition:var(--calcite-animation-timing) ease-in-out inline-size,var(--calcite-animation-timing) ease-in-out padding,var(--calcite-animation-timing) ease-in-out opacity}.pagination-item--individual.pagination-item--visible{pointer-events:auto;inline-size:2rem;opacity:1;visibility:visible}.pagination-item--range-edge calcite-icon{scale:.75;transition:var(--calcite-animation-timing) ease-in-out scale}.container--overlaid .pagination-item{background-color:var(--calcite-internal-carousel-pagination-overlay-background-color)}.container--overlaid .pagination-item:hover{background-color:var(--calcite-internal-carousel-pagination-overlay-background-color-hover)}.container--overlaid .pagination-item:focus{background-color:var(--calcite-internal-carousel-pagination-overlay-background-color-active)}.container--overlaid .pagination-item:active{background-color:var(--calcite-internal-carousel-pagination-overlay-background-color-active)}.container--overlaid .pagination-item.pagination-item--selected{background-color:var(--calcite-internal-carousel-pagination-overlay-background-color-selected);color:var(--calcite-internal-carousel-pagination-icon-color-selected)}@keyframes item-forward{0%{transform:translate3d(100px,0,0)}to{transform:translateZ(0)}}@keyframes item-backward{0%{transform:translate3d(-100px,0,0)}to{transform:translateZ(0)}}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}.interaction-container{display:contents}:host([hidden]){display:none}[hidden]{display:none}`;
class Carousel extends _arcgis_lumina__WEBPACK_IMPORTED_MODULE_3__.LitElement {
  constructor() {
    super(...arguments);
    this.autoplayHandler = () => {
      this.clearIntervals();
      this.slideDurationInterval = setInterval(this.timer, this.autoplayDuration / 100);
    };
    this.containerRef = (0,lit_html_directives_ref_js__WEBPACK_IMPORTED_MODULE_4__.createRef)();
    this.containerId = IDS.host((0,_chunks_guid_js__WEBPACK_IMPORTED_MODULE_6__.g)());
    this.itemContainerRef = (0,lit_html_directives_ref_js__WEBPACK_IMPORTED_MODULE_4__.createRef)();
    this.resizeHandler = ({ contentRect: { width } }) => {
      this.setMaxItemsToBreakpoint(width);
    };
    this.resizeObserver = (0,_chunks_observers_js__WEBPACK_IMPORTED_MODULE_8__.c)("resize", (entries) => entries.forEach(this.resizeHandler));
    this.slideDurationInterval = null;
    this.slideInterval = null;
    this.tabListRef = (0,lit_html_directives_ref_js__WEBPACK_IMPORTED_MODULE_4__.createRef)();
    this.timer = () => {
      let time = this.slideDurationRemaining;
      const notSuspended = !this.suspendedDueToFocus && !this.suspendedDueToHover || this.userPreventsSuspend;
      if (notSuspended) {
        if (time <= 0.01) {
          time = 1;
          this.direction = "forward";
          this.nextItem(false);
        } else {
          time = time - 0.01;
        }
      }
      if (time > 0) {
        this.slideDurationRemaining = time;
      }
    };
    this.messages = (0,_chunks_useT9n_js__WEBPACK_IMPORTED_MODULE_11__.u)();
    this.focusSetter = (0,_chunks_useSetFocus_js__WEBPACK_IMPORTED_MODULE_12__.u)()(this);
    this.direction = "standby";
    this.items = [];
    this.maxItems = centerItemsByBreakpoint.xxsmall;
    this.playing = false;
    this.slideDurationRemaining = 1;
    this.suspendedDueToFocus = false;
    this.suspendedDueToHover = false;
    this.suspendedSlideDurationRemaining = 1;
    this.userPreventsSuspend = false;
    this.arrowType = "inline";
    this.autoplay = false;
    this.autoplayDuration = DURATION;
    this.controlOverlay = false;
    this.disabled = false;
    this.calciteCarouselChange = (0,_arcgis_lumina__WEBPACK_IMPORTED_MODULE_3__.createEvent)({ cancelable: false });
    this.calciteCarouselPause = (0,_arcgis_lumina__WEBPACK_IMPORTED_MODULE_3__.createEvent)({ cancelable: false });
    this.calciteCarouselPlay = (0,_arcgis_lumina__WEBPACK_IMPORTED_MODULE_3__.createEvent)({ cancelable: false });
    this.calciteCarouselResume = (0,_arcgis_lumina__WEBPACK_IMPORTED_MODULE_3__.createEvent)({ cancelable: false });
    this.calciteCarouselStop = (0,_arcgis_lumina__WEBPACK_IMPORTED_MODULE_3__.createEvent)({ cancelable: false });
  }
  static {
    this.properties = { direction: [16, {}, { state: true }], items: [16, {}, { state: true }], maxItems: [16, {}, { state: true }], playing: [16, {}, { state: true }], selectedIndex: [16, {}, { state: true }], slideDurationRemaining: [16, {}, { state: true }], suspendedDueToFocus: [16, {}, { state: true }], suspendedDueToHover: [16, {}, { state: true }], suspendedSlideDurationRemaining: [16, {}, { state: true }], userPreventsSuspend: [16, {}, { state: true }], arrowType: [3, {}, { reflect: true }], autoplay: [3, {}, { reflect: true }], autoplayDuration: [11, {}, { type: Number, reflect: true }], controlOverlay: [7, {}, { reflect: true, type: Boolean }], disabled: [7, {}, { reflect: true, type: Boolean }], label: 1, messageOverrides: [0, {}, { attribute: false }], paused: [5, {}, { type: Boolean }], selectedItem: [0, {}, { attribute: false }] };
  }
  static {
    this.styles = styles;
  }
  async play() {
    if (this.playing || this.autoplay !== "" && !this.autoplay && this.autoplay !== "paused") {
      return;
    }
    this.handlePlay(true);
  }
  async setFocus(options) {
    return this.focusSetter(() => this.containerRef.value, options);
  }
  async stop() {
    if (!this.playing) {
      return;
    }
    this.handlePause(true);
  }
  connectedCallback() {
    super.connectedCallback();
    this.resizeObserver?.observe(this.el);
  }
  async load() {
    if ((this.autoplay === "" || this.autoplay) && this.autoplay !== "paused") {
      this.handlePlay(false);
    } else if (this.autoplay === "paused") {
      this.paused = true;
    }
  }
  willUpdate(changes) {
    if (changes.has("autoplay") && this.hasUpdated) {
      this.autoplayWatcher(this.autoplay);
    }
    if (changes.has("direction") && (this.hasUpdated || this.direction !== "standby")) {
      this.directionWatcher(this.direction);
    }
    if (changes.has("playing") && (this.hasUpdated || this.playing !== false)) {
      this.paused = !this.playing;
    }
    if (changes.has("suspendedDueToFocus") && (this.hasUpdated || this.suspendedDueToFocus !== false) || changes.has("suspendedDueToHover") && (this.hasUpdated || this.suspendedDueToHover !== false)) {
      this.suspendWatcher();
    }
  }
  updated() {
    (0,_chunks_interactive_js__WEBPACK_IMPORTED_MODULE_7__.u)(this);
  }
  disconnectedCallback() {
    super.disconnectedCallback();
    this.clearIntervals();
    this.resizeObserver?.disconnect();
  }
  autoplayWatcher(autoplay) {
    if (!autoplay) {
      this.handlePause(false);
    }
  }
  async directionWatcher(direction) {
    if (direction === "standby" || !this.itemContainerRef.value) {
      return;
    }
    await (0,_chunks_dom_js__WEBPACK_IMPORTED_MODULE_5__.y)(this.itemContainerRef.value, direction === "forward" ? "item-forward" : "item-backward");
    this.direction = "standby";
  }
  suspendWatcher() {
    if (!this.suspendedDueToFocus && !this.suspendedDueToHover) {
      this.suspendEnd();
    } else {
      this.suspendStart();
    }
  }
  setMaxItemsToBreakpoint(width) {
    if (!width) {
      return;
    }
    if (width >= _chunks_responsive_js__WEBPACK_IMPORTED_MODULE_9__.b.width.small) {
      this.maxItems = centerItemsByBreakpoint.medium;
      return;
    }
    if (width >= _chunks_responsive_js__WEBPACK_IMPORTED_MODULE_9__.b.width.xsmall) {
      this.maxItems = centerItemsByBreakpoint.small;
      return;
    }
    if (width >= _chunks_responsive_js__WEBPACK_IMPORTED_MODULE_9__.b.width.xxsmall) {
      this.maxItems = centerItemsByBreakpoint.xsmall;
      return;
    }
    this.maxItems = centerItemsByBreakpoint.xxsmall;
  }
  clearIntervals() {
    clearInterval(this.slideDurationInterval);
    clearInterval(this.slideInterval);
  }
  nextItem(emit) {
    if (this.playing && emit) {
      this.playing = false;
    }
    const nextIndex = (0,_chunks_array_js__WEBPACK_IMPORTED_MODULE_10__.g)(this.selectedIndex + 1, this.items.length);
    this.setSelectedItem(nextIndex, emit);
  }
  previousItem() {
    this.playing = false;
    const prevIndex = (0,_chunks_array_js__WEBPACK_IMPORTED_MODULE_10__.g)(Math.max(this.selectedIndex - 1, -1), this.items.length);
    this.setSelectedItem(prevIndex, true);
  }
  handlePlay(emit) {
    this.playing = true;
    this.autoplayHandler();
    this.slideInterval = setInterval(this.autoplayHandler, this.autoplayDuration);
    if (emit) {
      this.calciteCarouselPlay.emit();
    }
  }
  handlePause(emit) {
    this.playing = false;
    this.clearIntervals();
    this.slideDurationRemaining = 1;
    this.suspendedSlideDurationRemaining = 1;
    if (emit) {
      this.calciteCarouselStop.emit();
    }
  }
  suspendStart() {
    this.suspendedSlideDurationRemaining = this.slideDurationRemaining;
  }
  suspendEnd() {
    this.slideDurationRemaining = this.suspendedSlideDurationRemaining;
  }
  handleSlotChange(event) {
    const items = (0,_chunks_dom_js__WEBPACK_IMPORTED_MODULE_5__.s)(event);
    if (items.length < 1) {
      return;
    }
    const activeItemIndex = items.findIndex((item) => item.selected);
    const requestedSelectedIndex = activeItemIndex > -1 ? activeItemIndex : 0;
    this.items = items;
    this.setSelectedItem(requestedSelectedIndex, false);
  }
  setSelectedItem(requestedIndex, emit) {
    const previousSelected = this.selectedIndex;
    this.items.forEach((el, index) => {
      const match = requestedIndex === index;
      el.selected = match;
      if (match) {
        this.selectedItem = el;
        this.selectedIndex = index;
      }
    });
    if (emit) {
      this.playing = false;
      if (previousSelected !== this.selectedIndex) {
        this.calciteCarouselChange.emit();
      }
    }
  }
  handleArrowClick(event) {
    const direction = event.target.dataset.direction;
    if (this.playing) {
      this.handlePause(true);
    }
    if (direction === "next") {
      this.direction = "forward";
      this.nextItem(true);
    } else if (direction === "previous") {
      this.direction = "backward";
      this.previousItem();
    }
  }
  handleItemSelection(event) {
    const item = event.target;
    const requestedPosition = parseInt(item.dataset.index);
    if (requestedPosition === this.selectedIndex) {
      return;
    }
    if (this.playing) {
      this.handlePause(true);
    }
    this.direction = requestedPosition > this.selectedIndex ? "forward" : "backward";
    this.setSelectedItem(requestedPosition, true);
  }
  toggleRotation() {
    this.userPreventsSuspend = true;
    if (this.playing) {
      this.handlePause(true);
    } else {
      this.handlePlay(true);
    }
  }
  handleFocusIn() {
    const isPlaying = this.playing;
    if (isPlaying) {
      this.suspendedDueToFocus = true;
    }
    if ((!this.suspendedDueToFocus || !this.suspendedDueToHover) && isPlaying) {
      this.calciteCarouselPause.emit();
    }
  }
  handleMouseIn() {
    const isPlaying = this.playing;
    if (isPlaying) {
      this.suspendedDueToHover = true;
    }
    if ((!this.suspendedDueToFocus || !this.suspendedDueToHover) && isPlaying) {
      this.calciteCarouselPause.emit();
    }
  }
  handleMouseOut(event) {
    const leavingComponent = !this.el.contains(event.relatedTarget);
    const isPlaying = this.playing;
    if (leavingComponent && isPlaying) {
      this.suspendedDueToHover = false;
    }
    if (leavingComponent && isPlaying && !this.suspendedDueToFocus) {
      this.userPreventsSuspend = false;
      this.calciteCarouselResume.emit();
    }
  }
  handleFocusOut(event) {
    const leavingComponent = !event.composedPath().includes(event.relatedTarget);
    const isPlaying = this.playing;
    if (leavingComponent && isPlaying) {
      this.suspendedDueToFocus = false;
    }
    if (leavingComponent && isPlaying && !this.suspendedDueToHover) {
      this.userPreventsSuspend = false;
      this.calciteCarouselResume.emit();
    }
  }
  containerKeyDownHandler(event) {
    if (event.target !== this.containerRef.value) {
      return;
    }
    const lastItem = this.items.length - 1;
    switch (event.key) {
      case " ":
      case "Enter":
        event.preventDefault();
        if (this.autoplay === "" || this.autoplay || this.autoplay === "paused") {
          this.toggleRotation();
        }
        break;
      case "ArrowRight":
        event.preventDefault();
        this.direction = "forward";
        this.nextItem(true);
        break;
      case "ArrowLeft":
        event.preventDefault();
        this.direction = "backward";
        this.previousItem();
        break;
      case "Home":
        event.preventDefault();
        if (this.selectedIndex === 0) {
          return;
        }
        this.direction = "backward";
        this.setSelectedItem(0, true);
        break;
      case "End":
        event.preventDefault();
        if (this.selectedIndex === lastItem) {
          return;
        }
        this.direction = "forward";
        this.setSelectedItem(lastItem, true);
        break;
    }
  }
  tabListKeyDownHandler(event) {
    const visiblePaginationEls = Array(...this.tabListRef.value.querySelectorAll(`button:not(.${CSS.paginationItemOutOfRange})`));
    const currentEl = event.target;
    switch (event.key) {
      case "ArrowRight":
        (0,_chunks_dom_js__WEBPACK_IMPORTED_MODULE_5__.d)(visiblePaginationEls, currentEl, "next");
        break;
      case "ArrowLeft":
        (0,_chunks_dom_js__WEBPACK_IMPORTED_MODULE_5__.d)(visiblePaginationEls, currentEl, "previous");
        break;
      case "Home":
        event.preventDefault();
        (0,_chunks_dom_js__WEBPACK_IMPORTED_MODULE_5__.d)(visiblePaginationEls, currentEl, "first");
        break;
      case "End":
        event.preventDefault();
        (0,_chunks_dom_js__WEBPACK_IMPORTED_MODULE_5__.d)(visiblePaginationEls, currentEl, "last");
        break;
    }
  }
  renderRotationControl() {
    const text = this.playing ? this.messages.pause : this.messages.play;
    const formattedValue = this.slideDurationRemaining * 100;
    return (0,lit__WEBPACK_IMPORTED_MODULE_2__.html)`<button .ariaLabel=${text} class=${(0,_arcgis_lumina__WEBPACK_IMPORTED_MODULE_3__.safeClassMap)({
      [CSS.paginationItem]: true,
      [CSS.autoplayControl]: true
    })} @click=${this.toggleRotation} title=${text ?? lit__WEBPACK_IMPORTED_MODULE_2__.nothing}><calcite-icon .icon=${this.playing ? ICONS.pause : ICONS.play} scale=s></calcite-icon>${this.playing && (0,lit__WEBPACK_IMPORTED_MODULE_2__.html)`<calcite-progress class=${(0,_arcgis_lumina__WEBPACK_IMPORTED_MODULE_3__.safeClassMap)(CSS.autoplayProgress)} .label=${this.messages.carouselItemProgress} .value=${formattedValue}></calcite-progress>` || ""}</button>`;
  }
  renderPaginationArea() {
    return (0,lit__WEBPACK_IMPORTED_MODULE_2__.html)`<div class=${(0,_arcgis_lumina__WEBPACK_IMPORTED_MODULE_3__.safeClassMap)({
      [CSS.pagination]: true,
      [CSS.containerOverlaid]: this.controlOverlay
    })} @keydown=${this.tabListKeyDownHandler} ${(0,lit_html_directives_ref_js__WEBPACK_IMPORTED_MODULE_4__.ref)(this.tabListRef)}>${(this.playing || this.autoplay === "" || this.autoplay || this.autoplay === "paused") && this.renderRotationControl() || ""}${this.arrowType === "inline" && this.renderArrow("previous") || ""}${this.renderPaginationItems()}${this.arrowType === "inline" && this.renderArrow("next") || ""}</div>`;
  }
  renderPaginationItems() {
    const { selectedIndex, maxItems, items, label, handleItemSelection } = this;
    return (0,lit__WEBPACK_IMPORTED_MODULE_2__.html)`<div .ariaLabel=${label} class=${(0,_arcgis_lumina__WEBPACK_IMPORTED_MODULE_3__.safeClassMap)(CSS.paginationItems)} role=tablist>${(0,lit_directives_repeat_js__WEBPACK_IMPORTED_MODULE_1__.repeat)(items, (item) => item.id, (item, index) => {
      const itemCount = items.length;
      const match = index === selectedIndex;
      const first = index === 0;
      const last = index === itemCount - 1;
      const endRangeStart = itemCount - maxItems - 1;
      const inStartRange = selectedIndex < maxItems;
      const inEndRange = selectedIndex >= endRangeStart;
      const rangeStart = inStartRange ? 0 : selectedIndex - Math.floor(maxItems / 2);
      const rangeEnd = inEndRange ? itemCount : rangeStart + maxItems;
      const low = inStartRange ? 0 : inEndRange ? endRangeStart : rangeStart;
      const high = inStartRange ? maxItems + 1 : rangeEnd;
      const isEdge = !first && !last && !match && (index === low - 1 || index === high);
      const visible = match || index <= high && index >= low - 1;
      const overflowActive = itemCount - 1 <= maxItems;
      const icon = match ? ICONS.active : ICONS.inactive;
      return (0,lit__WEBPACK_IMPORTED_MODULE_2__.html)`<button aria-controls=${(!match ? item.id : void 0) ?? lit__WEBPACK_IMPORTED_MODULE_2__.nothing} .ariaSelected=${match} class=${(0,_arcgis_lumina__WEBPACK_IMPORTED_MODULE_3__.safeClassMap)({
        [CSS.paginationItem]: true,
        [CSS.paginationItemIndividual]: true,
        [CSS.paginationItemSelected]: match,
        [CSS.paginationItemRangeEdge]: itemCount - 1 > maxItems && isEdge,
        [CSS.paginationItemOutOfRange]: !(overflowActive || visible),
        [CSS.paginationItemVisible]: overflowActive || visible
      })} data-index=${index ?? lit__WEBPACK_IMPORTED_MODULE_2__.nothing} @click=${handleItemSelection} role=tab title=${item.label ?? lit__WEBPACK_IMPORTED_MODULE_2__.nothing}><calcite-icon .icon=${icon} scale=l></calcite-icon></button>`;
    })}</div>`;
  }
  renderArrow(direction) {
    const isPrev = direction === "previous";
    const dir = (0,_chunks_dom_js__WEBPACK_IMPORTED_MODULE_5__.g)(this.el);
    const scale = this.arrowType === "edge" ? "m" : "s";
    const css2 = isPrev ? CSS.pagePrevious : CSS.pageNext;
    const title = isPrev ? this.messages.previous : this.messages.next;
    const icon = isPrev ? ICONS.chevronLeft : ICONS.chevronRight;
    return (0,lit__WEBPACK_IMPORTED_MODULE_2__.html)`<button aria-controls=${this.containerId ?? lit__WEBPACK_IMPORTED_MODULE_2__.nothing} class=${(0,_arcgis_lumina__WEBPACK_IMPORTED_MODULE_3__.safeClassMap)({ [CSS.paginationItem]: true, [css2]: true })} data-direction=${direction ?? lit__WEBPACK_IMPORTED_MODULE_2__.nothing} @click=${this.handleArrowClick} title=${title ?? lit__WEBPACK_IMPORTED_MODULE_2__.nothing}><calcite-icon .flipRtl=${dir === "rtl"} .icon=${icon} .scale=${scale}></calcite-icon></button>`;
  }
  render() {
    const { direction } = this;
    return (0,_chunks_interactive_js__WEBPACK_IMPORTED_MODULE_7__.I)({ disabled: this.disabled, children: (0,lit__WEBPACK_IMPORTED_MODULE_2__.html)`<div .ariaLabel=${this.label} .ariaLive=${this.playing ? "off" : "polite"} .ariaRoleDescription=${this.messages.carousel} class=${(0,_arcgis_lumina__WEBPACK_IMPORTED_MODULE_3__.safeClassMap)({
      [CSS.container]: true,
      [CSS.containerOverlaid]: this.controlOverlay,
      [CSS.containerEdged]: this.arrowType === "edge"
    })} @focusin=${this.handleFocusIn} @focusout=${this.handleFocusOut} @keydown=${this.containerKeyDownHandler} @mouseenter=${this.handleMouseIn} @mouseleave=${this.handleMouseOut} role=group tabindex=0 ${(0,lit_html_directives_ref_js__WEBPACK_IMPORTED_MODULE_4__.ref)(this.containerRef)}><section class=${(0,_arcgis_lumina__WEBPACK_IMPORTED_MODULE_3__.safeClassMap)({
      [CSS.itemContainer]: true,
      [CSS.itemContainerForward]: direction === "forward",
      [CSS.itemContainerBackward]: direction === "backward"
    })} id=${this.containerId ?? lit__WEBPACK_IMPORTED_MODULE_2__.nothing} ${(0,lit_html_directives_ref_js__WEBPACK_IMPORTED_MODULE_4__.ref)(this.itemContainerRef)}><slot @slotchange=${this.handleSlotChange}></slot></section>${this.items.length > 1 && this.renderPaginationArea() || ""}${this.arrowType === "edge" && this.renderArrow("previous") || ""}${this.arrowType === "edge" && this.renderArrow("next") || ""}</div>` });
  }
}
(0,_chunks_runtime_js__WEBPACK_IMPORTED_MODULE_0__.c)("calcite-carousel", Carousel);



/***/ }),

/***/ "./node_modules/@esri/calcite-components/dist/components/calcite-carousel/index.js":
/*!*****************************************************************************************!*\
  !*** ./node_modules/@esri/calcite-components/dist/components/calcite-carousel/index.js ***!
  \*****************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Carousel: () => (/* reexport safe */ _customElement_js__WEBPACK_IMPORTED_MODULE_2__.Carousel)
/* harmony export */ });
/* harmony import */ var _calcite_icon_index_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../calcite-icon/index.js */ "./node_modules/@esri/calcite-components/dist/components/calcite-icon/index.js");
/* harmony import */ var _calcite_progress_index_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../calcite-progress/index.js */ "./node_modules/@esri/calcite-components/dist/components/calcite-progress/index.js");
/* harmony import */ var _customElement_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./customElement.js */ "./node_modules/@esri/calcite-components/dist/components/calcite-carousel/customElement.js");




/***/ }),

/***/ "./node_modules/@esri/calcite-components/dist/components/calcite-icon/customElement.js":
/*!*********************************************************************************************!*\
  !*** ./node_modules/@esri/calcite-components/dist/components/calcite-icon/customElement.js ***!
  \*********************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Icon: () => (/* binding */ Icon)
/* harmony export */ });
/* harmony import */ var _chunks_runtime_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../chunks/runtime.js */ "./node_modules/@esri/calcite-components/dist/chunks/runtime.js");
/* harmony import */ var lit__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lit */ "./node_modules/lit/index.js");
/* harmony import */ var _arcgis_lumina__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @arcgis/lumina */ "./node_modules/@arcgis/lumina/dist/index.js");
/* harmony import */ var _chunks_dom_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../chunks/dom.js */ "./node_modules/@esri/calcite-components/dist/chunks/dom.js");
/* harmony import */ var _chunks_observers_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../chunks/observers.js */ "./node_modules/@esri/calcite-components/dist/chunks/observers.js");
/* harmony import */ var _chunks_logger_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../chunks/logger.js */ "./node_modules/@esri/calcite-components/dist/chunks/logger.js");
/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
v3.3.3 */






const CSS = {
  flipRtl: "flip-rtl",
  svg: "svg"
};
const iconCache = {};
const requestCache = {};
const scaleToPx = {
  s: 16,
  m: 24,
  l: 32
};
function generateIconId({ icon, scale }) {
  const size = scaleToPx[scale];
  const name = normalizeIconName(icon);
  const filled = name.charAt(name.length - 1) === "F";
  const iconName = filled ? name.substring(0, name.length - 1) : name;
  return `${iconName}${size}${filled ? "F" : ""}`;
}
async function fetchIcon(props) {
  const cachedIconKey = generateIconId(props);
  const cachedIconData = getCachedIconDataByKey(cachedIconKey);
  if (cachedIconData) {
    return cachedIconData;
  }
  if (!requestCache[cachedIconKey]) {
    requestCache[cachedIconKey] = fetch((0,_chunks_runtime_js__WEBPACK_IMPORTED_MODULE_0__.g)(`./assets/icon/${cachedIconKey}.json`)).then((resp) => resp.json()).catch(() => {
      _chunks_logger_js__WEBPACK_IMPORTED_MODULE_5__.l.error(`${props.icon} (${props.scale}) icon failed to load`);
      return "";
    });
  }
  const path = await requestCache[cachedIconKey];
  iconCache[cachedIconKey] = path;
  return path;
}
function getCachedIconData(props) {
  return getCachedIconDataByKey(generateIconId(props));
}
function getCachedIconDataByKey(id) {
  return iconCache[id];
}
function normalizeIconName(name) {
  const numberLeadingName = !isNaN(Number(name.charAt(0)));
  const parts = name.split("-");
  const kebabCased = parts.length > 0;
  if (kebabCased) {
    const firstNonDigitInPartPattern = /[a-z]/i;
    name = parts.map((part, partIndex) => {
      return part.replace(firstNonDigitInPartPattern, function replacer(match, offset) {
        const isFirstCharInName = partIndex === 0 && offset === 0;
        if (isFirstCharInName) {
          return match;
        }
        return match.toUpperCase();
      });
    }).join("");
  }
  return numberLeadingName ? `i${name}` : name;
}
const styles = (0,lit__WEBPACK_IMPORTED_MODULE_1__.css)`:host{--calcite-internal-color-focus: var( --calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)) )}:host{display:inline-flex;color:var(--calcite-icon-color, var(--calcite-ui-icon-color, currentColor))}:host([scale=s]){inline-size:16px;block-size:16px;min-inline-size:16px;min-block-size:16px}:host([scale=m]){inline-size:24px;block-size:24px;min-inline-size:24px;min-block-size:24px}:host([scale=l]){inline-size:32px;block-size:32px;min-inline-size:32px;min-block-size:32px}.flip-rtl{transform:scaleX(-1)}.svg{display:block}:host([hidden]){display:none}[hidden]{display:none}`;
class Icon extends _arcgis_lumina__WEBPACK_IMPORTED_MODULE_2__.LitElement {
  constructor() {
    super(...arguments);
    this.visible = false;
    this.flipRtl = false;
    this.icon = null;
    this.preload = false;
    this.scale = "m";
  }
  static {
    this.properties = { pathData: [16, {}, { state: true }], visible: [16, {}, { state: true }], flipRtl: [7, {}, { reflect: true, type: Boolean }], icon: [3, {}, { reflect: true }], preload: [7, {}, { reflect: true, type: Boolean }], scale: [3, {}, { reflect: true }], textLabel: 1 };
  }
  static {
    this.styles = styles;
  }
  connectedCallback() {
    super.connectedCallback();
    if (this.preload) {
      this.visible = true;
      this.loadIconPathData();
      return;
    }
    if (!this.visible) {
      this.waitUntilVisible(() => {
        this.visible = true;
        this.loadIconPathData();
      });
    }
  }
  willUpdate(changes) {
    if (changes.has("icon") && (this.hasUpdated || this.icon !== null) || changes.has("scale") && (this.hasUpdated || this.scale !== "m")) {
      this.loadIconPathData();
    }
  }
  disconnectedCallback() {
    super.disconnectedCallback();
    this.intersectionObserver?.disconnect();
    this.intersectionObserver = null;
  }
  async loadIconPathData() {
    const { icon, scale, visible } = this;
    if (lit__WEBPACK_IMPORTED_MODULE_1__.isServer || !icon || !visible) {
      return;
    }
    const fetchIconProps = { icon, scale };
    const pathData = getCachedIconData(fetchIconProps) || await fetchIcon(fetchIconProps);
    if (icon !== this.icon) {
      return;
    }
    this.pathData = pathData;
  }
  waitUntilVisible(callback) {
    this.intersectionObserver = (0,_chunks_observers_js__WEBPACK_IMPORTED_MODULE_4__.c)("intersection", (entries) => {
      entries.forEach((entry) => {
        if (entry.isIntersecting) {
          this.intersectionObserver.disconnect();
          this.intersectionObserver = null;
          callback();
        }
      });
    }, { rootMargin: "50px" });
    if (!this.intersectionObserver) {
      callback();
      return;
    }
    this.intersectionObserver.observe(this.el);
  }
  render() {
    const { el, flipRtl, pathData, scale, textLabel } = this;
    const dir = (0,_chunks_dom_js__WEBPACK_IMPORTED_MODULE_3__.g)(el);
    const size = scaleToPx[scale];
    const semantic = !!textLabel;
    const paths = [].concat(pathData || "");
    this.el.ariaHidden = (0,_chunks_dom_js__WEBPACK_IMPORTED_MODULE_3__.t)(!semantic);
    this.el.ariaLabel = semantic ? textLabel : null;
    this.el.role = semantic ? "img" : null;
    return (0,lit__WEBPACK_IMPORTED_MODULE_1__.html)`<svg aria-hidden=true class=${(0,_arcgis_lumina__WEBPACK_IMPORTED_MODULE_2__.safeClassMap)({
      [CSS.flipRtl]: dir === "rtl" && flipRtl,
      [CSS.svg]: true
    })} fill=currentColor height=100% viewBox=${`0 0 ${size} ${size}`} width=100% xmlns=http://www.w3.org/2000/svg>${paths.map((path) => typeof path === "string" ? (0,lit__WEBPACK_IMPORTED_MODULE_1__.svg)`<path d=${path ?? lit__WEBPACK_IMPORTED_MODULE_1__.nothing} />` : (0,lit__WEBPACK_IMPORTED_MODULE_1__.svg)`<path d=${path.d ?? lit__WEBPACK_IMPORTED_MODULE_1__.nothing} opacity=${("opacity" in path ? path.opacity : 1) ?? lit__WEBPACK_IMPORTED_MODULE_1__.nothing} />`)}</svg>`;
  }
}
(0,_chunks_runtime_js__WEBPACK_IMPORTED_MODULE_0__.c)("calcite-icon", Icon);



/***/ }),

/***/ "./node_modules/@esri/calcite-components/dist/components/calcite-icon/index.js":
/*!*************************************************************************************!*\
  !*** ./node_modules/@esri/calcite-components/dist/components/calcite-icon/index.js ***!
  \*************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Icon: () => (/* reexport safe */ _customElement_js__WEBPACK_IMPORTED_MODULE_0__.Icon)
/* harmony export */ });
/* harmony import */ var _customElement_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./customElement.js */ "./node_modules/@esri/calcite-components/dist/components/calcite-icon/customElement.js");


/***/ }),

/***/ "./node_modules/@esri/calcite-components/dist/components/calcite-progress/customElement.js":
/*!*************************************************************************************************!*\
  !*** ./node_modules/@esri/calcite-components/dist/components/calcite-progress/customElement.js ***!
  \*************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Progress: () => (/* binding */ Progress)
/* harmony export */ });
/* harmony import */ var _chunks_runtime_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../chunks/runtime.js */ "./node_modules/@esri/calcite-components/dist/chunks/runtime.js");
/* harmony import */ var lit__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lit */ "./node_modules/lit/index.js");
/* harmony import */ var _arcgis_lumina__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @arcgis/lumina */ "./node_modules/@arcgis/lumina/dist/index.js");
/* harmony import */ var _chunks_dom_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../chunks/dom.js */ "./node_modules/@esri/calcite-components/dist/chunks/dom.js");
/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
v3.3.3 */




const styles = (0,lit__WEBPACK_IMPORTED_MODULE_1__.css)`:host{--calcite-internal-color-focus: var( --calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)) )}:host{position:relative;display:block;inline-size:100%}.track,.bar{position:absolute;inset-block-start:0px;block-size:2px}.track{z-index:var(--calcite-z-index);inline-size:100%;overflow:hidden;background-color:var(--calcite-progress-background-color, var(--calcite-color-border-3))}.bar{z-index:var(--calcite-z-index);background-color:var(--calcite-progress-fill-color, var(--calcite-color-brand))}@media (forced-colors: active){.track{background-color:highlightText}.bar{background-color:linkText}}.indeterminate{inline-size:20%;animation:looping-progress-bar-ani calc(var(--calcite-internal-animation-timing-medium) / var(--calcite-internal-duration-factor) * 11 / var(--calcite-internal-duration-factor)) linear infinite}.indeterminate.calcite--rtl{animation-name:looping-progress-bar-ani-rtl}.reversed{animation-direction:reverse}.text{padding-inline:0px;padding-block:1rem 0px;text-align:center;font-size:var(--calcite-font-size--2);line-height:1rem;font-weight:var(--calcite-font-weight-medium);color:var(--calcite-progress-text-color, var(--calcite-color-text-2))}@keyframes looping-progress-bar-ani{0%{transform:translate3d(-100%,0,0)}50%{inline-size:40%}to{transform:translate3d(600%,0,0)}}@keyframes looping-progress-bar-ani-rtl{0%{transform:translate3d(100%,0,0)}50%{inline-size:40%}to{transform:translate3d(-600%,0,0)}}:host([hidden]){display:none}[hidden]{display:none}`;
const CSS = {
  track: "track",
  bar: "bar",
  text: "text"
};
class Progress extends _arcgis_lumina__WEBPACK_IMPORTED_MODULE_2__.LitElement {
  constructor() {
    super(...arguments);
    this.reversed = false;
    this.type = "determinate";
    this.value = 0;
  }
  static {
    this.properties = { label: 1, reversed: [7, {}, { reflect: true, type: Boolean }], text: 1, type: [3, {}, { reflect: true }], value: [9, {}, { type: Number }] };
  }
  static {
    this.styles = styles;
  }
  render() {
    const isDeterminate = this.type === "determinate";
    const barStyles = isDeterminate ? { width: `${this.value}%` } : {};
    const dir = (0,_chunks_dom_js__WEBPACK_IMPORTED_MODULE_3__.g)(this.el);
    return (0,lit__WEBPACK_IMPORTED_MODULE_1__.html)`<div .ariaLabel=${this.label || this.text} .ariaValueMax=${isDeterminate ? "100" : void 0} .ariaValueMin=${isDeterminate ? "0" : void 0} .ariaValueNow=${isDeterminate ? this.value : void 0} role=progressbar><div class=${(0,_arcgis_lumina__WEBPACK_IMPORTED_MODULE_2__.safeClassMap)(CSS.track)}><div class=${(0,_arcgis_lumina__WEBPACK_IMPORTED_MODULE_2__.safeClassMap)({
      [CSS.bar]: true,
      indeterminate: this.type === "indeterminate",
      [_chunks_runtime_js__WEBPACK_IMPORTED_MODULE_0__.C.rtl]: dir === "rtl",
      reversed: this.reversed
    })} style=${(0,_arcgis_lumina__WEBPACK_IMPORTED_MODULE_2__.safeStyleMap)(barStyles)}></div></div>${this.text ? (0,lit__WEBPACK_IMPORTED_MODULE_1__.html)`<div class=${(0,_arcgis_lumina__WEBPACK_IMPORTED_MODULE_2__.safeClassMap)(CSS.text)}>${this.text}</div>` : null}</div>`;
  }
}
(0,_chunks_runtime_js__WEBPACK_IMPORTED_MODULE_0__.c)("calcite-progress", Progress);



/***/ }),

/***/ "./node_modules/@esri/calcite-components/dist/components/calcite-progress/index.js":
/*!*****************************************************************************************!*\
  !*** ./node_modules/@esri/calcite-components/dist/components/calcite-progress/index.js ***!
  \*****************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Progress: () => (/* reexport safe */ _customElement_js__WEBPACK_IMPORTED_MODULE_0__.Progress)
/* harmony export */ });
/* harmony import */ var _customElement_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./customElement.js */ "./node_modules/@esri/calcite-components/dist/components/calcite-progress/customElement.js");


/***/ })

};

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmVuZG9ycy1ub2RlX21vZHVsZXNfZXNyaV9jYWxjaXRlLWNvbXBvbmVudHNfZGlzdF9jb21wb25lbnRzX2NhbGNpdGUtY2Fyb3VzZWxfaW5kZXhfanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHRTs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ1JGO0FBQ0E7QUFDQTtBQUMwQztBQUMxQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSSx5Q0FBTSxVQUFVLHVCQUF1QixLQUFLLG1CQUFtQixRQUFRLDBCQUEwQjtBQUNyRztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFNRTs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDeEJGO0FBQ0E7QUFDQTtBQUNnQztBQUNjO0FBQzlDO0FBQ0EsVUFBVSxXQUFXO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QjtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQyxvQkFBb0IsS0FBSyw4Q0FBSSxjQUFjLDREQUFZLGlCQUFpQixTQUFTLFNBQVMsR0FBRyxTQUFTO0FBSXBJOzs7Ozs7Ozs7Ozs7Ozs7O0FDN0RGO0FBQ0E7QUFDQTtBQUM2QztBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVDQUF1QywwQ0FBUTtBQUMvQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQ0FBMkMsYUFBYSxvQkFBb0Is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Q0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnR0FBZ0csNkJBQTZCO0FBQzdIO0FBQ0E7QUFDQTtBQUNBLFFBQVEsaURBQW1CO0FBQzNCO0FBQ0E7QUFDQSxRQUFRLGlEQUFtQjtBQUMzQjtBQUNBO0FBQ0E7QUFDQSxRQUFRLGlEQUFtQjtBQUMzQjtBQUNBO0FBQ0E7QUFDQSxRQUFRLGlEQUFtQjtBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLHlDQUFJLHNCQUFzQixNQUFNLFFBQVEsNERBQVk7QUFDL0Q7QUFDQTtBQUNBLEtBQUssR0FBRyxTQUFTLHFCQUFxQixRQUFRLFFBQVEsd0NBQU8sQ0FBQyx1QkFBdUIseUNBQXlDLHlCQUF5QixnQkFBZ0IseUNBQUksMkJBQTJCLDREQUFZLHdCQUF3QixTQUFTLG9DQUFvQyxTQUFTLGVBQWUsNEJBQTRCO0FBQzNVO0FBQ0E7QUFDQSxXQUFXLHlDQUFJLGNBQWMsNERBQVk7QUFDekM7QUFDQTtBQUNBLEtBQUssR0FBRyxXQUFXLDRCQUE0QixFQUFFLCtEQUFHLGtCQUFrQixHQUFHLDRIQUE0SCxFQUFFLGtFQUFrRSxFQUFFLDZCQUE2QixFQUFFLDhEQUE4RDtBQUN4VztBQUNBO0FBQ0EsWUFBWSw2REFBNkQ7QUFDekUsV0FBVyx5Q0FBSSxtQkFBbUIsT0FBTyxRQUFRLDREQUFZLHVCQUF1QixlQUFlLGdFQUFNO0FBQ3pHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEseUNBQUkseUJBQXlCLCtCQUErQix3Q0FBTyxFQUFFLGdCQUFnQixPQUFPLFFBQVEsNERBQVk7QUFDN0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTyxHQUFHLGFBQWEsU0FBUyx3Q0FBTyxFQUFFLFNBQVMscUJBQXFCLGlCQUFpQixjQUFjLHdDQUFPLENBQUMsdUJBQXVCLE1BQU07QUFDM0ksS0FBSyxFQUFFO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLGlEQUFhO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyx5Q0FBSSx5QkFBeUIsb0JBQW9CLHdDQUFPLEVBQUUsUUFBUSw0REFBWSxHQUFHLDBDQUEwQyxHQUFHLGlCQUFpQixhQUFhLHdDQUFPLEVBQUUsU0FBUyx1QkFBdUIsUUFBUSxTQUFTLHdDQUFPLENBQUMsMEJBQTBCLGVBQWUsUUFBUSxNQUFNLFNBQVMsTUFBTTtBQUMvUztBQUNBO0FBQ0EsWUFBWSxZQUFZO0FBQ3hCLFdBQVcseURBQW9CLEdBQUcsbUNBQW1DLHlDQUFJLG1CQUFtQixZQUFZLFlBQVksaUNBQWlDLHVCQUF1Qix3QkFBd0IsUUFBUSw0REFBWTtBQUN4TjtBQUNBO0FBQ0E7QUFDQSxLQUFLLEdBQUcsV0FBVyxvQkFBb0IsWUFBWSxxQkFBcUIsV0FBVyw4QkFBOEIsY0FBYyxvQkFBb0IsY0FBYyxxQkFBcUIsd0JBQXdCLCtEQUFHLG9CQUFvQixrQkFBa0IsNERBQVk7QUFDblE7QUFDQTtBQUNBO0FBQ0EsS0FBSyxHQUFHLEtBQUssb0JBQW9CLHdDQUFPLEVBQUUsRUFBRSwrREFBRyx3QkFBd0IscUJBQXFCLHNCQUFzQixvQkFBb0IsMkRBQTJELEVBQUUsZ0VBQWdFLEVBQUUsNERBQTRELFNBQVM7QUFDMVU7QUFDQTtBQUNBLHFEQUFhO0FBR1g7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ3JkZ0M7QUFDSTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDRHRDO0FBQ0E7QUFDQTtBQUNnRjtBQUN4QjtBQUNFO0FBQ21CO0FBQ2I7QUFDWDtBQUNyRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCLGFBQWE7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLFNBQVMsRUFBRSxLQUFLLEVBQUUsa0JBQWtCO0FBQ2hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3Q0FBd0MscURBQVksa0JBQWtCLGNBQWM7QUFDcEYsTUFBTSxnREFBTSxVQUFVLFlBQVksR0FBRyxZQUFZO0FBQ2pEO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUCxLQUFLO0FBQ0w7QUFDQSxpQ0FBaUMsS0FBSztBQUN0QztBQUNBLGVBQWUsd0NBQUcsT0FBTyx3SEFBd0gsTUFBTSxvQkFBb0IsNEVBQTRFLGlCQUFpQixpQkFBaUIsZ0JBQWdCLHFCQUFxQixvQkFBb0IsaUJBQWlCLGlCQUFpQixnQkFBZ0IscUJBQXFCLG9CQUFvQixpQkFBaUIsaUJBQWlCLGdCQUFnQixxQkFBcUIsb0JBQW9CLFVBQVUscUJBQXFCLEtBQUssY0FBYyxnQkFBZ0IsYUFBYSxTQUFTLGFBQWE7QUFDN21CLG1CQUFtQixzREFBVTtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsaUJBQWlCLElBQUksYUFBYSxtQkFBbUIsSUFBSSxhQUFhLGtCQUFrQixJQUFJLDhCQUE4QixlQUFlLElBQUksZUFBZSxrQkFBa0IsSUFBSSw4QkFBOEIsZ0JBQWdCLElBQUksZUFBZTtBQUMzUTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLHVCQUF1QjtBQUNuQyxRQUFRLHlDQUFRO0FBQ2hCO0FBQ0E7QUFDQSw2QkFBNkI7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0MsdURBQWM7QUFDOUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLEtBQUssSUFBSSxvQkFBb0I7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLDBDQUEwQztBQUN0RCxnQkFBZ0IsaURBQWE7QUFDN0I7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLGlEQUFhO0FBQ3RDO0FBQ0E7QUFDQSxXQUFXLHlDQUFJLCtCQUErQiw0REFBWTtBQUMxRDtBQUNBO0FBQ0EsS0FBSyxHQUFHLHdDQUF3QyxPQUFPLE1BQU0sRUFBRSxLQUFLLEdBQUcsOENBQThDLCtDQUErQyx3Q0FBRyxXQUFXLFFBQVEsd0NBQU8sRUFBRSxNQUFNLHdDQUFHLFdBQVcsVUFBVSx3Q0FBTyxFQUFFLFVBQVUsMENBQTBDLHdDQUFPLEVBQUUsS0FBSztBQUM1UztBQUNBO0FBQ0EscURBQWE7QUFHWDs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ3pKRjtBQUNBO0FBQ0E7QUFDK0U7QUFDL0M7QUFDd0M7QUFDZjtBQUN6RCxlQUFlLHdDQUFHLE9BQU8sd0hBQXdILE1BQU0sa0JBQWtCLGNBQWMsaUJBQWlCLFlBQVksa0JBQWtCLHNCQUFzQixlQUFlLE9BQU8sK0JBQStCLGlCQUFpQixnQkFBZ0IseUZBQXlGLEtBQUssK0JBQStCLGdGQUFnRiwrQkFBK0IsT0FBTywrQkFBK0IsS0FBSywyQkFBMkIsZUFBZSxnQkFBZ0Isa01BQWtNLDRCQUE0Qiw0Q0FBNEMsVUFBVSw0QkFBNEIsTUFBTSxtQkFBbUIsdUJBQXVCLGtCQUFrQixzQ0FBc0MsaUJBQWlCLDhDQUE4QyxzRUFBc0Usb0NBQW9DLEdBQUcsaUNBQWlDLElBQUksZ0JBQWdCLEdBQUcsaUNBQWlDLHdDQUF3QyxHQUFHLGdDQUFnQyxJQUFJLGdCQUFnQixHQUFHLGtDQUFrQyxnQkFBZ0IsYUFBYSxTQUFTLGFBQWE7QUFDdi9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsc0RBQVU7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsMEJBQTBCLElBQUksOEJBQThCLHdCQUF3QixJQUFJLGVBQWUsZ0JBQWdCLElBQUksY0FBYztBQUNqSztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3Q0FBd0MsVUFBVSxXQUFXLEtBQUs7QUFDbEUsZ0JBQWdCLGlEQUFhO0FBQzdCLFdBQVcseUNBQUksbUJBQW1CLHlCQUF5QixnQkFBZ0IsZ0NBQWdDLGdCQUFnQiw4QkFBOEIsZ0JBQWdCLHFDQUFxQyw4QkFBOEIsNERBQVksWUFBWSxjQUFjLDREQUFZO0FBQzlSO0FBQ0E7QUFDQSxPQUFPLGlEQUFXO0FBQ2xCO0FBQ0EsS0FBSyxHQUFHLFFBQVEsNERBQVksWUFBWSxlQUFlLFlBQVkseUNBQUksY0FBYyw0REFBWSxXQUFXLEdBQUcsVUFBVSxlQUFlO0FBQ3hJO0FBQ0E7QUFDQSxxREFBYTtBQUdYIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcHJlY2lzaW9uZmFybXMvLi9ub2RlX21vZHVsZXMvQGVzcmkvY2FsY2l0ZS1jb21wb25lbnRzL2Rpc3QvY2h1bmtzL2FycmF5LmpzIiwid2VicGFjazovL3ByZWNpc2lvbmZhcm1zLy4vbm9kZV9tb2R1bGVzL0Blc3JpL2NhbGNpdGUtY29tcG9uZW50cy9kaXN0L2NodW5rcy9jb21wb25lbnQuanMiLCJ3ZWJwYWNrOi8vcHJlY2lzaW9uZmFybXMvLi9ub2RlX21vZHVsZXMvQGVzcmkvY2FsY2l0ZS1jb21wb25lbnRzL2Rpc3QvY2h1bmtzL2ludGVyYWN0aXZlLmpzIiwid2VicGFjazovL3ByZWNpc2lvbmZhcm1zLy4vbm9kZV9tb2R1bGVzL0Blc3JpL2NhbGNpdGUtY29tcG9uZW50cy9kaXN0L2NodW5rcy9sb2dnZXIuanMiLCJ3ZWJwYWNrOi8vcHJlY2lzaW9uZmFybXMvLi9ub2RlX21vZHVsZXMvQGVzcmkvY2FsY2l0ZS1jb21wb25lbnRzL2Rpc3QvY2h1bmtzL29ic2VydmVycy5qcyIsIndlYnBhY2s6Ly9wcmVjaXNpb25mYXJtcy8uL25vZGVfbW9kdWxlcy9AZXNyaS9jYWxjaXRlLWNvbXBvbmVudHMvZGlzdC9jaHVua3MvcmVzcG9uc2l2ZS5qcyIsIndlYnBhY2s6Ly9wcmVjaXNpb25mYXJtcy8uL25vZGVfbW9kdWxlcy9AZXNyaS9jYWxjaXRlLWNvbXBvbmVudHMvZGlzdC9jaHVua3MvdXNlU2V0Rm9jdXMuanMiLCJ3ZWJwYWNrOi8vcHJlY2lzaW9uZmFybXMvLi9ub2RlX21vZHVsZXMvQGVzcmkvY2FsY2l0ZS1jb21wb25lbnRzL2Rpc3QvY2h1bmtzL3VzZVQ5bi5qcyIsIndlYnBhY2s6Ly9wcmVjaXNpb25mYXJtcy8uL25vZGVfbW9kdWxlcy9AZXNyaS9jYWxjaXRlLWNvbXBvbmVudHMvZGlzdC9jb21wb25lbnRzL2NhbGNpdGUtY2Fyb3VzZWwvY3VzdG9tRWxlbWVudC5qcyIsIndlYnBhY2s6Ly9wcmVjaXNpb25mYXJtcy8uL25vZGVfbW9kdWxlcy9AZXNyaS9jYWxjaXRlLWNvbXBvbmVudHMvZGlzdC9jb21wb25lbnRzL2NhbGNpdGUtY2Fyb3VzZWwvaW5kZXguanMiLCJ3ZWJwYWNrOi8vcHJlY2lzaW9uZmFybXMvLi9ub2RlX21vZHVsZXMvQGVzcmkvY2FsY2l0ZS1jb21wb25lbnRzL2Rpc3QvY29tcG9uZW50cy9jYWxjaXRlLWljb24vY3VzdG9tRWxlbWVudC5qcyIsIndlYnBhY2s6Ly9wcmVjaXNpb25mYXJtcy8uL25vZGVfbW9kdWxlcy9AZXNyaS9jYWxjaXRlLWNvbXBvbmVudHMvZGlzdC9jb21wb25lbnRzL2NhbGNpdGUtcHJvZ3Jlc3MvY3VzdG9tRWxlbWVudC5qcyIsIndlYnBhY2s6Ly9wcmVjaXNpb25mYXJtcy8uL25vZGVfbW9kdWxlcy9AZXNyaS9jYWxjaXRlLWNvbXBvbmVudHMvZGlzdC9jb21wb25lbnRzL2NhbGNpdGUtcHJvZ3Jlc3MvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiLyohIEFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9naXRodWIuY29tL0VzcmkvY2FsY2l0ZS1kZXNpZ24tc3lzdGVtL2Jsb2IvZGV2L0xJQ0VOU0UubWQgZm9yIGRldGFpbHMuXG52My4zLjMgKi9cbmZ1bmN0aW9uIGdldFJvdW5kUm9iaW5JbmRleChpbmRleCwgdG90YWwpIHtcbiAgcmV0dXJuIChpbmRleCArIHRvdGFsKSAlIHRvdGFsO1xufVxuZXhwb3J0IHtcbiAgZ2V0Um91bmRSb2JpbkluZGV4IGFzIGdcbn07XG4iLCIvKiEgQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2dpdGh1Yi5jb20vRXNyaS9jYWxjaXRlLWRlc2lnbi1zeXN0ZW0vYmxvYi9kZXYvTElDRU5TRS5tZCBmb3IgZGV0YWlscy5cbnYzLjMuMyAqL1xuaW1wb3J0IHsgbCBhcyBsb2dnZXIgfSBmcm9tIFwiLi9sb2dnZXIuanNcIjtcbmZ1bmN0aW9uIGdldEljb25TY2FsZShjb21wb25lbnRTY2FsZSkge1xuICByZXR1cm4gY29tcG9uZW50U2NhbGUgPT09IFwibFwiID8gXCJtXCIgOiBcInNcIjtcbn1cbmZ1bmN0aW9uIHdhcm5JZk1pc3NpbmdSZXF1aXJlZFByb3AoY29tcG9uZW50LCBuZXdQcm9wLCBkZXByZWNhdGVkUHJvcCkge1xuICBpZiAoIWNvbXBvbmVudFtuZXdQcm9wXSAmJiAhY29tcG9uZW50W2RlcHJlY2F0ZWRQcm9wXSkge1xuICAgIGxvZ2dlci53YXJuKGBbJHtjb21wb25lbnQuZWwubG9jYWxOYW1lfV0gXCIke25ld1Byb3AudG9TdHJpbmcoKX1cIiBvciBcIiR7ZGVwcmVjYXRlZFByb3AudG9TdHJpbmcoKX1cIiBpcyByZXF1aXJlZC5gKTtcbiAgfVxufVxuZnVuY3Rpb24gaXNIaWRkZW4oZWwpIHtcbiAgcmV0dXJuIGVsLmhpZGRlbiB8fCBlbC5pdGVtSGlkZGVuO1xufVxuYXN5bmMgZnVuY3Rpb24gY29tcG9uZW50Rm9jdXNhYmxlKGNvbXBvbmVudCkge1xuICBhd2FpdCBjb21wb25lbnQuY29tcG9uZW50T25SZWFkeSgpO1xuICBhd2FpdCBjb21wb25lbnQudXBkYXRlQ29tcGxldGU7XG59XG5leHBvcnQge1xuICBjb21wb25lbnRGb2N1c2FibGUgYXMgYyxcbiAgZ2V0SWNvblNjYWxlIGFzIGcsXG4gIGlzSGlkZGVuIGFzIGksXG4gIHdhcm5JZk1pc3NpbmdSZXF1aXJlZFByb3AgYXMgd1xufTtcbiIsIi8qISBBbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9Fc3JpL2NhbGNpdGUtZGVzaWduLXN5c3RlbS9ibG9iL2Rldi9MSUNFTlNFLm1kIGZvciBkZXRhaWxzLlxudjMuMy4zICovXG5pbXBvcnQgeyBodG1sIH0gZnJvbSBcImxpdC1odG1sXCI7XG5pbXBvcnQgeyBzYWZlQ2xhc3NNYXAgfSBmcm9tIFwiQGFyY2dpcy9sdW1pbmFcIjtcbmZ1bmN0aW9uIGludGVyY2VwdGVkQ2xpY2soKSB7XG4gIGNvbnN0IHsgZGlzYWJsZWQgfSA9IHRoaXM7XG4gIGlmICghZGlzYWJsZWQpIHtcbiAgICBIVE1MRWxlbWVudC5wcm90b3R5cGUuY2xpY2suY2FsbCh0aGlzKTtcbiAgfVxufVxuZnVuY3Rpb24gb25Qb2ludGVyRG93bihldmVudCkge1xuICBjb25zdCBpbnRlcmFjdGl2ZUVsZW1lbnQgPSBldmVudC50YXJnZXQ7XG4gIGlmIChpbnRlcmFjdGl2ZUVsZW1lbnQuZGlzYWJsZWQpIHtcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICB9XG59XG5jb25zdCBub25CdWJibGluZ1doZW5EaXNhYmxlZE1vdXNlRXZlbnRzID0gW1wibW91c2Vkb3duXCIsIFwibW91c2V1cFwiLCBcImNsaWNrXCJdO1xuZnVuY3Rpb24gb25Ob25CdWJibGluZ1doZW5EaXNhYmxlZE1vdXNlRXZlbnQoZXZlbnQpIHtcbiAgY29uc3QgaW50ZXJhY3RpdmVFbGVtZW50ID0gZXZlbnQudGFyZ2V0O1xuICBpZiAoaW50ZXJhY3RpdmVFbGVtZW50LmRpc2FibGVkKSB7XG4gICAgZXZlbnQuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgfVxufVxuY29uc3QgY2FwdHVyZU9ubHlPcHRpb25zID0geyBjYXB0dXJlOiB0cnVlIH07XG5mdW5jdGlvbiB1cGRhdGVIb3N0SW50ZXJhY3Rpb24oY29tcG9uZW50KSB7XG4gIGlmIChjb21wb25lbnQuZGlzYWJsZWQpIHtcbiAgICBjb21wb25lbnQuZWwuc2V0QXR0cmlidXRlKFwiYXJpYS1kaXNhYmxlZFwiLCBcInRydWVcIik7XG4gICAgaWYgKGNvbXBvbmVudC5lbC5jb250YWlucyhkb2N1bWVudC5hY3RpdmVFbGVtZW50KSkge1xuICAgICAgZG9jdW1lbnQuYWN0aXZlRWxlbWVudC5ibHVyKCk7XG4gICAgfVxuICAgIGJsb2NrSW50ZXJhY3Rpb24oY29tcG9uZW50KTtcbiAgICByZXR1cm47XG4gIH1cbiAgcmVzdG9yZUludGVyYWN0aW9uKGNvbXBvbmVudCk7XG4gIGNvbXBvbmVudC5lbC5yZW1vdmVBdHRyaWJ1dGUoXCJhcmlhLWRpc2FibGVkXCIpO1xufVxuZnVuY3Rpb24gYmxvY2tJbnRlcmFjdGlvbihjb21wb25lbnQpIHtcbiAgY29tcG9uZW50LmVsLmNsaWNrID0gaW50ZXJjZXB0ZWRDbGljaztcbiAgYWRkSW50ZXJhY3Rpb25MaXN0ZW5lcnMoY29tcG9uZW50LmVsKTtcbn1cbmZ1bmN0aW9uIGFkZEludGVyYWN0aW9uTGlzdGVuZXJzKGVsZW1lbnQpIHtcbiAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwicG9pbnRlcmRvd25cIiwgb25Qb2ludGVyRG93biwgY2FwdHVyZU9ubHlPcHRpb25zKTtcbiAgbm9uQnViYmxpbmdXaGVuRGlzYWJsZWRNb3VzZUV2ZW50cy5mb3JFYWNoKChldmVudCkgPT4gZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKGV2ZW50LCBvbk5vbkJ1YmJsaW5nV2hlbkRpc2FibGVkTW91c2VFdmVudCwgY2FwdHVyZU9ubHlPcHRpb25zKSk7XG59XG5mdW5jdGlvbiByZXN0b3JlSW50ZXJhY3Rpb24oY29tcG9uZW50KSB7XG4gIGRlbGV0ZSBjb21wb25lbnQuZWwuY2xpY2s7XG4gIHJlbW92ZUludGVyYWN0aW9uTGlzdGVuZXJzKGNvbXBvbmVudC5lbCk7XG59XG5mdW5jdGlvbiByZW1vdmVJbnRlcmFjdGlvbkxpc3RlbmVycyhlbGVtZW50KSB7XG4gIGVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInBvaW50ZXJkb3duXCIsIG9uUG9pbnRlckRvd24sIGNhcHR1cmVPbmx5T3B0aW9ucyk7XG4gIG5vbkJ1YmJsaW5nV2hlbkRpc2FibGVkTW91c2VFdmVudHMuZm9yRWFjaCgoZXZlbnQpID0+IGVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihldmVudCwgb25Ob25CdWJibGluZ1doZW5EaXNhYmxlZE1vdXNlRXZlbnQsIGNhcHR1cmVPbmx5T3B0aW9ucykpO1xufVxuY29uc3QgQ1NTID0ge1xuICBjb250YWluZXI6IFwiaW50ZXJhY3Rpb24tY29udGFpbmVyXCJcbn07XG5jb25zdCBJbnRlcmFjdGl2ZUNvbnRhaW5lciA9ICh7IGNoaWxkcmVuLCBkaXNhYmxlZCB9KSA9PiBodG1sYDxkaXYgY2xhc3M9JHtzYWZlQ2xhc3NNYXAoQ1NTLmNvbnRhaW5lcil9IC5pbmVydD0ke2Rpc2FibGVkfT4ke2NoaWxkcmVufTwvZGl2PmA7XG5leHBvcnQge1xuICBJbnRlcmFjdGl2ZUNvbnRhaW5lciBhcyBJLFxuICB1cGRhdGVIb3N0SW50ZXJhY3Rpb24gYXMgdVxufTtcbiIsIi8qISBBbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9Fc3JpL2NhbGNpdGUtZGVzaWduLXN5c3RlbS9ibG9iL2Rldi9MSUNFTlNFLm1kIGZvciBkZXRhaWxzLlxudjMuMy4zICovXG5pbXBvcnQgeyBsIGFzIGxvZ0xldmVsIH0gZnJvbSBcIi4vcnVudGltZS5qc1wiO1xuY29uc3QgbG9nZ2VkRGVwcmVjYXRpb25zID0gLyogQF9fUFVSRV9fICovIG5ldyBTZXQoKTtcbmNvbnN0IGxvZ0xldmVscyA9IHtcbiAgdHJhY2U6IDAsXG4gIGRlYnVnOiAxLFxuICBpbmZvOiAyLFxuICB3YXJuOiA0LFxuICBlcnJvcjogOCxcbiAgb2ZmOiAxMFxufTtcbmZ1bmN0aW9uIHdpbGxMb2cobGV2ZWwpIHtcbiAgcmV0dXJuIGxvZ0xldmVsc1tsZXZlbF0gPj0gbG9nTGV2ZWxzW2xvZ0xldmVsXTtcbn1cbmZ1bmN0aW9uIGZvcndhcmRUb0NvbnNvbGUobGV2ZWwsIC4uLmRhdGEpIHtcbiAgaWYgKCF3aWxsTG9nKGxldmVsKSkge1xuICAgIHJldHVybjtcbiAgfVxuICBjb25zdCBiYWRnZVRlbXBsYXRlID0gXCIlY2NhbGNpdGVcIjtcbiAgY29uc3QgYmFkZ2VTdHlsZSA9IFwiYmFja2dyb3VuZDogIzAwN0FDMjsgY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDRweDsgcGFkZGluZzogMnB4IDRweDtcIjtcbiAgY29uc29sZVtsZXZlbF0uY2FsbCh0aGlzLCBiYWRnZVRlbXBsYXRlLCBiYWRnZVN0eWxlLCAuLi5kYXRhKTtcbn1cbmxldCBsaXN0Rm9ybWF0dGVyO1xuY29uc3QgbG9nZ2VyID0ge1xuICBkZWJ1ZzogKG1lc3NhZ2UpID0+IGZvcndhcmRUb0NvbnNvbGUoXCJkZWJ1Z1wiLCBtZXNzYWdlKSxcbiAgaW5mbzogKG1lc3NhZ2UpID0+IGZvcndhcmRUb0NvbnNvbGUoXCJpbmZvXCIsIG1lc3NhZ2UpLFxuICB3YXJuOiAobWVzc2FnZSkgPT4gZm9yd2FyZFRvQ29uc29sZShcIndhcm5cIiwgbWVzc2FnZSksXG4gIGVycm9yOiAobWVzc2FnZSkgPT4gZm9yd2FyZFRvQ29uc29sZShcImVycm9yXCIsIG1lc3NhZ2UpLFxuICB0cmFjZTogKG1lc3NhZ2UpID0+IGZvcndhcmRUb0NvbnNvbGUoXCJ0cmFjZVwiLCBtZXNzYWdlKSxcbiAgZGVwcmVjYXRlZFxufTtcbmZ1bmN0aW9uIGRlcHJlY2F0ZWQoY29udGV4dCwgeyBjb21wb25lbnQsIG5hbWUsIHN1Z2dlc3RlZCwgcmVtb3ZhbFZlcnNpb24gfSkge1xuICBjb25zdCBrZXkgPSBgJHtjb250ZXh0fToke2NvbnRleHQgPT09IFwiY29tcG9uZW50XCIgPyBcIlwiIDogY29tcG9uZW50fSR7bmFtZX1gO1xuICBpZiAobG9nZ2VkRGVwcmVjYXRpb25zLmhhcyhrZXkpKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGxvZ2dlZERlcHJlY2F0aW9ucy5hZGQoa2V5KTtcbiAgY29uc3QgbXVsdGlTdWdnZXN0aW9ucyA9IEFycmF5LmlzQXJyYXkoc3VnZ2VzdGVkKTtcbiAgaWYgKG11bHRpU3VnZ2VzdGlvbnMgJiYgIWxpc3RGb3JtYXR0ZXIpIHtcbiAgICBsaXN0Rm9ybWF0dGVyID0gbmV3IEludGwuTGlzdEZvcm1hdChcImVuXCIsIHsgc3R5bGU6IFwibG9uZ1wiLCB0eXBlOiBcImRpc2p1bmN0aW9uXCIgfSk7XG4gIH1cbiAgY29uc3QgbWVzc2FnZSA9IGBbJHtuYW1lfV0gJHtjb250ZXh0fSBpcyBkZXByZWNhdGVkIGFuZCB3aWxsIGJlIHJlbW92ZWQgaW4gJHtyZW1vdmFsVmVyc2lvbiA9PT0gXCJmdXR1cmVcIiA/IGBhIGZ1dHVyZSB2ZXJzaW9uYCA6IGB2JHtyZW1vdmFsVmVyc2lvbn1gfS4ke3N1Z2dlc3RlZCA/IGAgVXNlICR7bXVsdGlTdWdnZXN0aW9ucyA/IGxpc3RGb3JtYXR0ZXIuZm9ybWF0KHN1Z2dlc3RlZC5tYXAoKHN1Z2dlc3Rpb24pID0+IGBcIiR7c3VnZ2VzdGlvbn1cImApKSA6IGBcIiR7c3VnZ2VzdGVkfVwiYH0gaW5zdGVhZC5gIDogXCJcIn1gO1xuICBmb3J3YXJkVG9Db25zb2xlKFwid2FyblwiLCBtZXNzYWdlKTtcbn1cbmV4cG9ydCB7XG4gIGxvZ2dlciBhcyBsXG59O1xuIiwiLyohIEFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9naXRodWIuY29tL0VzcmkvY2FsY2l0ZS1kZXNpZ24tc3lzdGVtL2Jsb2IvZGV2L0xJQ0VOU0UubWQgZm9yIGRldGFpbHMuXG52My4zLjMgKi9cbmltcG9ydCB7IGlzU2VydmVyIH0gZnJvbSBcImxpdFwiO1xuZnVuY3Rpb24gY3JlYXRlT2JzZXJ2ZXIodHlwZSwgY2FsbGJhY2ssIG9wdGlvbnMpIHtcbiAgaWYgKGlzU2VydmVyKSB7XG4gICAgcmV0dXJuIHZvaWQgMDtcbiAgfVxuICBjb25zdCBPYnNlcnZlciA9IGdldE9ic2VydmVyKHR5cGUpO1xuICByZXR1cm4gbmV3IE9ic2VydmVyKGNhbGxiYWNrLCBvcHRpb25zKTtcbn1cbmZ1bmN0aW9uIGdldE9ic2VydmVyKHR5cGUpIHtcbiAgY2xhc3MgRXh0ZW5kZWRNdXRhdGlvbk9ic2VydmVyIGV4dGVuZHMgd2luZG93Lk11dGF0aW9uT2JzZXJ2ZXIge1xuICAgIGNvbnN0cnVjdG9yKGNhbGxiYWNrKSB7XG4gICAgICBzdXBlcihjYWxsYmFjayk7XG4gICAgICB0aGlzLm9ic2VydmVkRW50cnkgPSBbXTtcbiAgICAgIHRoaXMuY2FsbGJhY2sgPSBjYWxsYmFjaztcbiAgICB9XG4gICAgb2JzZXJ2ZSh0YXJnZXQsIG9wdGlvbnMpIHtcbiAgICAgIHRoaXMub2JzZXJ2ZWRFbnRyeS5wdXNoKHsgdGFyZ2V0LCBvcHRpb25zIH0pO1xuICAgICAgcmV0dXJuIHN1cGVyLm9ic2VydmUodGFyZ2V0LCBvcHRpb25zKTtcbiAgICB9XG4gICAgdW5vYnNlcnZlKHRhcmdldCkge1xuICAgICAgY29uc3QgbmV3T2JzZXJ2ZWRFbnRyaWVzID0gdGhpcy5vYnNlcnZlZEVudHJ5LmZpbHRlcigob2JzZXJ2ZWQpID0+IG9ic2VydmVkLnRhcmdldCAhPT0gdGFyZ2V0KTtcbiAgICAgIHRoaXMub2JzZXJ2ZWRFbnRyeSA9IFtdO1xuICAgICAgdGhpcy5jYWxsYmFjayhzdXBlci50YWtlUmVjb3JkcygpLCB0aGlzKTtcbiAgICAgIHRoaXMuZGlzY29ubmVjdCgpO1xuICAgICAgbmV3T2JzZXJ2ZWRFbnRyaWVzLmZvckVhY2goKG9ic2VydmVkKSA9PiB0aGlzLm9ic2VydmUob2JzZXJ2ZWQudGFyZ2V0LCBvYnNlcnZlZC5vcHRpb25zKSk7XG4gICAgfVxuICB9XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdHlwZSA9PT0gXCJpbnRlcnNlY3Rpb25cIiA/IHdpbmRvdy5JbnRlcnNlY3Rpb25PYnNlcnZlciA6IHR5cGUgPT09IFwibXV0YXRpb25cIiA/IEV4dGVuZGVkTXV0YXRpb25PYnNlcnZlciA6IHdpbmRvdy5SZXNpemVPYnNlcnZlcjtcbiAgfSgpO1xufVxuZnVuY3Rpb24gdXBkYXRlUmVmT2JzZXJ2ZXIob2JzZXJ2ZXIsIG9sZFRhcmdldCwgdGFyZ2V0LCBvcHRpb25zKSB7XG4gIGlmICghb2JzZXJ2ZXIpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgaWYgKG9sZFRhcmdldCkge1xuICAgIG9ic2VydmVyLnVub2JzZXJ2ZShvbGRUYXJnZXQpO1xuICB9XG4gIGlmICghdGFyZ2V0KSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGlmIChvYnNlcnZlciBpbnN0YW5jZW9mIE11dGF0aW9uT2JzZXJ2ZXIpIHtcbiAgICBvYnNlcnZlci5vYnNlcnZlKHRhcmdldCwgb3B0aW9ucyk7XG4gICAgcmV0dXJuO1xuICB9XG4gIG9ic2VydmVyLm9ic2VydmUodGFyZ2V0KTtcbn1cbmV4cG9ydCB7XG4gIGNyZWF0ZU9ic2VydmVyIGFzIGMsXG4gIHVwZGF0ZVJlZk9ic2VydmVyIGFzIHVcbn07XG4iLCIvKiEgQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2dpdGh1Yi5jb20vRXNyaS9jYWxjaXRlLWRlc2lnbi1zeXN0ZW0vYmxvYi9kZXYvTElDRU5TRS5tZCBmb3IgZGV0YWlscy5cbnYzLjMuMyAqL1xuaW1wb3J0IHsgZCBhcyBjYWxjaXRlQ29udGFpbmVyU2l6ZVdpZHRoWHhzLCBlIGFzIGNhbGNpdGVDb250YWluZXJTaXplV2lkdGhYcywgZiBhcyBjYWxjaXRlQ29udGFpbmVyU2l6ZVdpZHRoU20sIGcgYXMgY2FsY2l0ZUNvbnRhaW5lclNpemVXaWR0aE1kIH0gZnJvbSBcIi4vZ2xvYmFsLmpzXCI7XG5jb25zdCBicmVha3BvaW50cyA9IHtcbiAgd2lkdGg6IHtcbiAgICBtZWRpdW06IGNzc0xlbmd0aFRvTnVtYmVyKGNhbGNpdGVDb250YWluZXJTaXplV2lkdGhNZC5tYXgpLFxuICAgIHNtYWxsOiBjc3NMZW5ndGhUb051bWJlcihjYWxjaXRlQ29udGFpbmVyU2l6ZVdpZHRoU20ubWF4KSxcbiAgICB4c21hbGw6IGNzc0xlbmd0aFRvTnVtYmVyKGNhbGNpdGVDb250YWluZXJTaXplV2lkdGhYcy5tYXgpLFxuICAgIHh4c21hbGw6IGNzc0xlbmd0aFRvTnVtYmVyKGNhbGNpdGVDb250YWluZXJTaXplV2lkdGhYeHMubWF4KVxuICB9XG59O1xuZnVuY3Rpb24gY3NzTGVuZ3RoVG9OdW1iZXIobGVuZ3RoKSB7XG4gIHJldHVybiBwYXJzZUludChsZW5ndGgpO1xufVxuZXhwb3J0IHtcbiAgYnJlYWtwb2ludHMgYXMgYlxufTtcbiIsIi8qISBBbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9Fc3JpL2NhbGNpdGUtZGVzaWduLXN5c3RlbS9ibG9iL2Rldi9MSUNFTlNFLm1kIGZvciBkZXRhaWxzLlxudjMuMy4zICovXG5pbXBvcnQgeyBtYWtlR2VuZXJpY0NvbnRyb2xsZXIgfSBmcm9tIFwiQGFyY2dpcy9sdW1pbmEvY29udHJvbGxlcnNcIjtcbmltcG9ydCB7IGMgYXMgY29tcG9uZW50Rm9jdXNhYmxlIH0gZnJvbSBcIi4vY29tcG9uZW50LmpzXCI7XG5pbXBvcnQgeyBrIGFzIGdldFJvb3ROb2RlLCBiIGFzIGZvY3VzRWxlbWVudCB9IGZyb20gXCIuL2RvbS5qc1wiO1xuY29uc3QgdXNlU2V0Rm9jdXMgPSAoKSA9PiB7XG4gIHJldHVybiBtYWtlR2VuZXJpY0NvbnRyb2xsZXIoKGNvbXBvbmVudCwgY29udHJvbGxlcikgPT4ge1xuICAgIGxldCBhYm9ydENvbnRyb2xsZXI7XG4gICAgZnVuY3Rpb24gaGFuZGxlRm9jdXNPdXQoKSB7XG4gICAgICBhYm9ydENvbnRyb2xsZXI/LmFib3J0KCk7XG4gICAgfVxuICAgIGNvbnRyb2xsZXIub25Mb2FkKCgpID0+IHtcbiAgICAgIGNvbXBvbmVudC5saXN0ZW4oXCJmb2N1c1wiLCAoKSA9PiB7XG4gICAgICAgIGFib3J0Q29udHJvbGxlciA9IG5ldyBBYm9ydENvbnRyb2xsZXIoKTtcbiAgICAgICAgY29tcG9uZW50LmVsLmFkZEV2ZW50TGlzdGVuZXIoXCJmb2N1c291dFwiLCBoYW5kbGVGb2N1c091dCwgeyBzaWduYWw6IGFib3J0Q29udHJvbGxlci5zaWduYWwgfSk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgICBjb250cm9sbGVyLm9uRGlzY29ubmVjdGVkKCgpID0+IHtcbiAgICAgIGNvbXBvbmVudC5lbC5yZW1vdmVFdmVudExpc3RlbmVyKFwiZm9jdXNvdXRcIiwgaGFuZGxlRm9jdXNPdXQpO1xuICAgIH0pO1xuICAgIHJldHVybiBhc3luYyAoZ2V0Rm9jdXNUYXJnZXQsIG9wdGlvbnMpID0+IHtcbiAgICAgIGlmIChjb21wb25lbnQuZGlzYWJsZWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgZm9jdXNDb25maWcgPSB0b0ZvY3VzQ29uZmlnKGdldEZvY3VzVGFyZ2V0KCkpO1xuICAgICAgaWYgKCFmb2N1c0NvbmZpZykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCB7IHRhcmdldCwgaW5jbHVkZUNvbnRhaW5lciwgc3RyYXRlZ3kgfSA9IGZvY3VzQ29uZmlnO1xuICAgICAgY29uc3Qgcm9vdE5vZGUgPSBnZXRSb290Tm9kZShjb21wb25lbnQuZWwpO1xuICAgICAgY29uc3QgY3VycmVudEFjdGl2ZUVsZW1lbnQgPSByb290Tm9kZS5hY3RpdmVFbGVtZW50O1xuICAgICAgYXdhaXQgY29tcG9uZW50Rm9jdXNhYmxlKGNvbXBvbmVudCk7XG4gICAgICBjb25zdCBmb2N1c0FscmVhZHlDaGFuZ2VkID0gY3VycmVudEFjdGl2ZUVsZW1lbnQgIT09IHJvb3ROb2RlLmFjdGl2ZUVsZW1lbnQ7XG4gICAgICBpZiAoZm9jdXNBbHJlYWR5Q2hhbmdlZCB8fCBhYm9ydENvbnRyb2xsZXIgJiYgIWFib3J0Q29udHJvbGxlcj8uc2lnbmFsLmFib3J0ZWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29tcG9uZW50LmVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJmb2N1c1wiLCBoYW5kbGVGb2N1c091dCk7XG4gICAgICByZXR1cm4gZm9jdXNFbGVtZW50KHRhcmdldCwgaW5jbHVkZUNvbnRhaW5lciwgc3RyYXRlZ3ksIGNvbXBvbmVudC5lbCwgb3B0aW9ucyk7XG4gICAgfTtcbiAgfSk7XG59O1xuZnVuY3Rpb24gaXNGb2N1c092ZXJyaWRlKGZvY3VzVGFyZ2V0KSB7XG4gIHJldHVybiBcInRhcmdldFwiIGluIGZvY3VzVGFyZ2V0ICYmIChcImluY2x1ZGVDb250YWluZXJcIiBpbiBmb2N1c1RhcmdldCB8fCBcInN0cmF0ZWd5XCIgaW4gZm9jdXNUYXJnZXQpO1xufVxuZnVuY3Rpb24gdG9Gb2N1c0NvbmZpZyhmb2N1c1RhcmdldCkge1xuICBpZiAoIWZvY3VzVGFyZ2V0KSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIHJldHVybiBpc0ZvY3VzT3ZlcnJpZGUoZm9jdXNUYXJnZXQpID8gZm9jdXNUYXJnZXQgOiB7IHRhcmdldDogZm9jdXNUYXJnZXQgfTtcbn1cbmV4cG9ydCB7XG4gIHVzZVNldEZvY3VzIGFzIHVcbn07XG4iLCIvKiEgQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2dpdGh1Yi5jb20vRXNyaS9jYWxjaXRlLWRlc2lnbi1zeXN0ZW0vYmxvYi9kZXYvTElDRU5TRS5tZCBmb3IgZGV0YWlscy5cbnYzLjMuMyAqL1xuaW1wb3J0IHsgbWFrZVQ5bkNvbnRyb2xsZXIgfSBmcm9tIFwiQGFyY2dpcy9sdW1pbmEvY29udHJvbGxlcnNcIjtcbmltcG9ydCB7IGcgYXMgZ2V0QXNzZXRQYXRoIH0gZnJvbSBcIi4vcnVudGltZS5qc1wiO1xuY29uc3QgdXNlVDluID0gbWFrZVQ5bkNvbnRyb2xsZXIoZ2V0QXNzZXRQYXRoKTtcbmV4cG9ydCB7XG4gIHVzZVQ5biBhcyB1XG59O1xuIiwiLyohIEFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9naXRodWIuY29tL0VzcmkvY2FsY2l0ZS1kZXNpZ24tc3lzdGVtL2Jsb2IvZGV2L0xJQ0VOU0UubWQgZm9yIGRldGFpbHMuXG52My4zLjMgKi9cbmltcG9ydCB7IGMgYXMgY3VzdG9tRWxlbWVudCB9IGZyb20gXCIuLi8uLi9jaHVua3MvcnVudGltZS5qc1wiO1xuaW1wb3J0IHsgcmVwZWF0IH0gZnJvbSBcImxpdC9kaXJlY3RpdmVzL3JlcGVhdC5qc1wiO1xuaW1wb3J0IHsgY3NzLCBub3RoaW5nLCBodG1sIH0gZnJvbSBcImxpdFwiO1xuaW1wb3J0IHsgTGl0RWxlbWVudCwgY3JlYXRlRXZlbnQsIHNhZmVDbGFzc01hcCB9IGZyb20gXCJAYXJjZ2lzL2x1bWluYVwiO1xuaW1wb3J0IHsgY3JlYXRlUmVmLCByZWYgfSBmcm9tIFwibGl0LWh0bWwvZGlyZWN0aXZlcy9yZWYuanNcIjtcbmltcG9ydCB7IHkgYXMgd2hlbkFuaW1hdGlvbkRvbmUsIHMgYXMgc2xvdENoYW5nZUdldEFzc2lnbmVkRWxlbWVudHMsIGQgYXMgZm9jdXNFbGVtZW50SW5Hcm91cCwgZyBhcyBnZXRFbGVtZW50RGlyIH0gZnJvbSBcIi4uLy4uL2NodW5rcy9kb20uanNcIjtcbmltcG9ydCB7IGcgYXMgZ3VpZCB9IGZyb20gXCIuLi8uLi9jaHVua3MvZ3VpZC5qc1wiO1xuaW1wb3J0IHsgdSBhcyB1cGRhdGVIb3N0SW50ZXJhY3Rpb24sIEkgYXMgSW50ZXJhY3RpdmVDb250YWluZXIgfSBmcm9tIFwiLi4vLi4vY2h1bmtzL2ludGVyYWN0aXZlLmpzXCI7XG5pbXBvcnQgeyBjIGFzIGNyZWF0ZU9ic2VydmVyIH0gZnJvbSBcIi4uLy4uL2NodW5rcy9vYnNlcnZlcnMuanNcIjtcbmltcG9ydCB7IGIgYXMgYnJlYWtwb2ludHMgfSBmcm9tIFwiLi4vLi4vY2h1bmtzL3Jlc3BvbnNpdmUuanNcIjtcbmltcG9ydCB7IGcgYXMgZ2V0Um91bmRSb2JpbkluZGV4IH0gZnJvbSBcIi4uLy4uL2NodW5rcy9hcnJheS5qc1wiO1xuaW1wb3J0IHsgdSBhcyB1c2VUOW4gfSBmcm9tIFwiLi4vLi4vY2h1bmtzL3VzZVQ5bi5qc1wiO1xuaW1wb3J0IHsgdSBhcyB1c2VTZXRGb2N1cyB9IGZyb20gXCIuLi8uLi9jaHVua3MvdXNlU2V0Rm9jdXMuanNcIjtcbmNvbnN0IERVUkFUSU9OID0gNmUzO1xuY29uc3QgQ1NTID0ge1xuICBjb250YWluZXI6IFwiY29udGFpbmVyXCIsXG4gIGNvbnRhaW5lck92ZXJsYWlkOiBcImNvbnRhaW5lci0tb3ZlcmxhaWRcIixcbiAgY29udGFpbmVyRWRnZWQ6IFwiY29udGFpbmVyLS1lZGdlZFwiLFxuICBpdGVtQ29udGFpbmVyOiBcIml0ZW0tY29udGFpbmVyXCIsXG4gIGl0ZW1Db250YWluZXJGb3J3YXJkOiBcIml0ZW0tY29udGFpbmVyLS1mb3J3YXJkXCIsXG4gIGl0ZW1Db250YWluZXJCYWNrd2FyZDogXCJpdGVtLWNvbnRhaW5lci0tYmFja3dhcmRcIixcbiAgcGFnaW5hdGlvbjogXCJwYWdpbmF0aW9uXCIsXG4gIHBhZ2luYXRpb25JdGVtczogXCJwYWdpbmF0aW9uLWl0ZW1zXCIsXG4gIHBhZ2luYXRpb25JdGVtOiBcInBhZ2luYXRpb24taXRlbVwiLFxuICBwYWdpbmF0aW9uSXRlbUluZGl2aWR1YWw6IFwicGFnaW5hdGlvbi1pdGVtLS1pbmRpdmlkdWFsXCIsXG4gIHBhZ2luYXRpb25JdGVtVmlzaWJsZTogXCJwYWdpbmF0aW9uLWl0ZW0tLXZpc2libGVcIixcbiAgcGFnaW5hdGlvbkl0ZW1PdXRPZlJhbmdlOiBcInBhZ2luYXRpb24taXRlbS0tb3V0LW9mLXJhbmdlXCIsXG4gIHBhZ2luYXRpb25JdGVtU2VsZWN0ZWQ6IFwicGFnaW5hdGlvbi1pdGVtLS1zZWxlY3RlZFwiLFxuICBwYWdpbmF0aW9uSXRlbVJhbmdlRWRnZTogXCJwYWdpbmF0aW9uLWl0ZW0tLXJhbmdlLWVkZ2VcIixcbiAgcGFnZU5leHQ6IFwicGFnZS1uZXh0XCIsXG4gIHBhZ2VQcmV2aW91czogXCJwYWdlLXByZXZpb3VzXCIsXG4gIGF1dG9wbGF5Q29udHJvbDogXCJhdXRvcGxheS1jb250cm9sXCIsXG4gIGF1dG9wbGF5UHJvZ3Jlc3M6IFwiYXV0b3BsYXktcHJvZ3Jlc3NcIlxufTtcbmNvbnN0IElDT05TID0ge1xuICBjaGV2cm9uTGVmdDogXCJjaGV2cm9uLWxlZnRcIixcbiAgY2hldnJvblJpZ2h0OiBcImNoZXZyb24tcmlnaHRcIixcbiAgaW5hY3RpdmU6IFwiYnVsbGV0LXBvaW50XCIsXG4gIGFjdGl2ZTogXCJidWxsZXQtcG9pbnQtbGFyZ2VcIixcbiAgcGF1c2U6IFwicGF1c2UtZlwiLFxuICBwbGF5OiBcInBsYXktZlwiXG59O1xuY29uc3QgY2VudGVySXRlbXNCeUJyZWFrcG9pbnQgPSB7XG4gIG1lZGl1bTogNyxcbiAgc21hbGw6IDUsXG4gIHhzbWFsbDogMyxcbiAgeHhzbWFsbDogMVxufTtcbmNvbnN0IGlkUHJlZml4ID0gXCJjYWxjaXRlLWNhcm91c2VsLWNvbnRhaW5lclwiO1xuY29uc3QgSURTID0ge1xuICBob3N0OiAoaWQpID0+IGAke2lkUHJlZml4fS0ke2lkfWBcbn07XG5jb25zdCBzdHlsZXMgPSBjc3NgOmhvc3R7LS1jYWxjaXRlLWludGVybmFsLWNvbG9yLWZvY3VzOiB2YXIoIC0tY2FsY2l0ZS1jb2xvci1mb2N1cywgdmFyKC0tY2FsY2l0ZS11aS1mb2N1cy1jb2xvciwgdmFyKC0tY2FsY2l0ZS1jb2xvci1icmFuZCkpICl9Omhvc3QoW2Rpc2FibGVkXSl7Y3Vyc29yOmRlZmF1bHQ7LXdlYmtpdC11c2VyLXNlbGVjdDpub25lO3VzZXItc2VsZWN0Om5vbmU7b3BhY2l0eTp2YXIoLS1jYWxjaXRlLW9wYWNpdHktZGlzYWJsZWQpfTpob3N0KFtkaXNhYmxlZF0pICosOmhvc3QoW2Rpc2FibGVkXSkgOjpzbG90dGVkKCope3BvaW50ZXItZXZlbnRzOm5vbmV9Omhvc3R7ZGlzcGxheTpmbGV4O2lubGluZS1zaXplOjEwMCU7LS1jYWxjaXRlLWludGVybmFsLWNhcm91c2VsLXBhZ2luYXRpb24tc3BhY2U6IDEuNXJlbTstLWNhbGNpdGUtaW50ZXJuYWwtY2Fyb3VzZWwtcGFnaW5hdGlvbi1zcGFjZS13aWRlOiAzLjVyZW07LS1jYWxjaXRlLWludGVybmFsLWNhcm91c2VsLXBhZ2luYXRpb24tYmFja2dyb3VuZC1jb2xvcjogdmFyKCAtLWNhbGNpdGUtY2Fyb3VzZWwtcGFnaW5hdGlvbi1iYWNrZ3JvdW5kLWNvbG9yLCB0cmFuc3BhcmVudCApOy0tY2FsY2l0ZS1pbnRlcm5hbC1jYXJvdXNlbC1wYWdpbmF0aW9uLWJhY2tncm91bmQtY29sb3ItaG92ZXI6IHZhciggLS1jYWxjaXRlLWNhcm91c2VsLXBhZ2luYXRpb24tYmFja2dyb3VuZC1jb2xvci1ob3ZlciwgdHJhbnNwYXJlbnQgKTstLWNhbGNpdGUtaW50ZXJuYWwtY2Fyb3VzZWwtcGFnaW5hdGlvbi1iYWNrZ3JvdW5kLWNvbG9yLXByZXNzOiB2YXIoIC0tY2FsY2l0ZS1jYXJvdXNlbC1wYWdpbmF0aW9uLWJhY2tncm91bmQtY29sb3ItcHJlc3MsIHRyYW5zcGFyZW50ICk7LS1jYWxjaXRlLWludGVybmFsLWNhcm91c2VsLXBhZ2luYXRpb24tYmFja2dyb3VuZC1jb2xvci1zZWxlY3RlZDogdmFyKCAtLWNhbGNpdGUtY2Fyb3VzZWwtcGFnaW5hdGlvbi1iYWNrZ3JvdW5kLWNvbG9yLXNlbGVjdGVkLCB0cmFuc3BhcmVudCApOy0tY2FsY2l0ZS1pbnRlcm5hbC1jYXJvdXNlbC1wYWdpbmF0aW9uLW92ZXJsYXktYmFja2dyb3VuZC1jb2xvcjogdmFyKCAtLWNhbGNpdGUtY2Fyb3VzZWwtcGFnaW5hdGlvbi1iYWNrZ3JvdW5kLWNvbG9yLCB2YXIoLS1jYWxjaXRlLWNvbG9yLWZvcmVncm91bmQtMSkgKTstLWNhbGNpdGUtaW50ZXJuYWwtY2Fyb3VzZWwtcGFnaW5hdGlvbi1vdmVybGF5LWJhY2tncm91bmQtY29sb3ItaG92ZXI6IHZhciggLS1jYWxjaXRlLWNhcm91c2VsLXBhZ2luYXRpb24tYmFja2dyb3VuZC1jb2xvci1ob3ZlciwgdmFyKC0tY2FsY2l0ZS1jb2xvci1mb3JlZ3JvdW5kLTIpICk7LS1jYWxjaXRlLWludGVybmFsLWNhcm91c2VsLXBhZ2luYXRpb24tb3ZlcmxheS1iYWNrZ3JvdW5kLWNvbG9yLWFjdGl2ZTogdmFyKCAtLWNhbGNpdGUtY2Fyb3VzZWwtcGFnaW5hdGlvbi1iYWNrZ3JvdW5kLWNvbG9yLXByZXNzLCB2YXIoLS1jYWxjaXRlLWNvbG9yLWZvcmVncm91bmQtMikgKTstLWNhbGNpdGUtaW50ZXJuYWwtY2Fyb3VzZWwtcGFnaW5hdGlvbi1vdmVybGF5LWJhY2tncm91bmQtY29sb3Itc2VsZWN0ZWQ6IHZhciggLS1jYWxjaXRlLWNhcm91c2VsLXBhZ2luYXRpb24tYmFja2dyb3VuZC1jb2xvci1zZWxlY3RlZCwgdmFyKC0tY2FsY2l0ZS1jb2xvci1mb3JlZ3JvdW5kLTEpICk7LS1jYWxjaXRlLWludGVybmFsLWNhcm91c2VsLXBhZ2luYXRpb24taWNvbi1jb2xvci1ob3ZlcjogdmFyKCAtLWNhbGNpdGUtY2Fyb3VzZWwtcGFnaW5hdGlvbi1pY29uLWNvbG9yLWhvdmVyLCB2YXIoLS1jYWxjaXRlLWNvbG9yLXRleHQtMSkgKTstLWNhbGNpdGUtaW50ZXJuYWwtY2Fyb3VzZWwtcGFnaW5hdGlvbi1pY29uLWNvbG9yOiB2YXIoIC0tY2FsY2l0ZS1jYXJvdXNlbC1wYWdpbmF0aW9uLWljb24tY29sb3IsIHZhcigtLWNhbGNpdGUtY29sb3ItYm9yZGVyLTEpICk7LS1jYWxjaXRlLWludGVybmFsLWNhcm91c2VsLXBhZ2luYXRpb24taWNvbi1jb2xvci1zZWxlY3RlZDogdmFyKCAtLWNhbGNpdGUtY2Fyb3VzZWwtcGFnaW5hdGlvbi1pY29uLWNvbG9yLXNlbGVjdGVkLCB2YXIoLS1jYWxjaXRlLWNvbG9yLWJyYW5kKSApOy0tY2FsY2l0ZS1pbnRlcm5hbC1jYXJvdXNlbC1jb250cm9sLWljb24tY29sb3ItaG92ZXI6IHZhciggLS1jYWxjaXRlLWNhcm91c2VsLWNvbnRyb2wtaWNvbi1jb2xvci1ob3ZlciwgdmFyKC0tY2FsY2l0ZS1pbnRlcm5hbC1jYXJvdXNlbC1wYWdpbmF0aW9uLWljb24tY29sb3ItaG92ZXIpICk7LS1jYWxjaXRlLWludGVybmFsLWNhcm91c2VsLWNvbnRyb2wtaWNvbi1jb2xvcjogdmFyKCAtLWNhbGNpdGUtY2Fyb3VzZWwtY29udHJvbC1pY29uLWNvbG9yLCB2YXIoLS1jYWxjaXRlLWNhcm91c2VsLXBhZ2luYXRpb24taWNvbi1jb2xvciwgdmFyKC0tY2FsY2l0ZS1jb2xvci10ZXh0LTMpKSApOy0tY2FsY2l0ZS1pbnRlcm5hbC1jYXJvdXNlbC1hdXRvcGxheS1wcm9ncmVzcy1iYWNrZ3JvdW5kLWNvbG9yOiB2YXIoIC0tY2FsY2l0ZS1jYXJvdXNlbC1hdXRvcGxheS1wcm9ncmVzcy1iYWNrZ3JvdW5kLWNvbG9yLCB2YXIoLS1jYWxjaXRlLWNvbG9yLWJvcmRlci0zKSApOy0tY2FsY2l0ZS1pbnRlcm5hbC1jYXJvdXNlbC1hdXRvcGxheS1wcm9ncmVzcy1maWxsLWNvbG9yOiB2YXIoIC0tY2FsY2l0ZS1jYXJvdXNlbC1hdXRvcGxheS1wcm9ncmVzcy1maWxsLWNvbG9yLCB2YXIoLS1jYWxjaXRlLWNvbG9yLWJyYW5kKSApOy0tY2FsY2l0ZS1pbnRlcm5hbC1jYXJvdXNlbC1hdXRvcGxheS1jb250cm9sLWNvbG9yOiB2YXIoIC0tY2FsY2l0ZS1jYXJvdXNlbC1wYWdpbmF0aW9uLWljb24tY29sb3IsIHZhcigtLWNhbGNpdGUtY29sb3ItdGV4dC0zKSApfS5jb250YWluZXJ7cG9zaXRpb246cmVsYXRpdmU7ZGlzcGxheTpmbGV4O2lubGluZS1zaXplOjEwMCU7ZmxleC1kaXJlY3Rpb246Y29sdW1uO292ZXJmbG93OmhpZGRlbjtmb250LXNpemU6dmFyKC0tY2FsY2l0ZS1mb250LXNpemUtLTEpO2xpbmUtaGVpZ2h0OjFyZW07Y29sb3I6dmFyKC0tY2FsY2l0ZS1jb2xvci10ZXh0LTIpO291dGxpbmUtY29sb3I6dHJhbnNwYXJlbnR9LmNvbnRhaW5lcjpmb2N1c3tvdXRsaW5lOnZhcigtLWNhbGNpdGUtYm9yZGVyLXdpZHRoLW1kKSBzb2xpZCB2YXIoLS1jYWxjaXRlLWNvbG9yLWZvY3VzLCB2YXIoLS1jYWxjaXRlLXVpLWZvY3VzLWNvbG9yLCB2YXIoLS1jYWxjaXRlLWNvbG9yLWJyYW5kKSkpO291dGxpbmU6dmFyKC0tY2FsY2l0ZS1ib3JkZXItd2lkdGgtbWQpIHNvbGlkIHZhcigtLWNhbGNpdGUtaW50ZXJuYWwtY29sb3ItZm9jdXMpO291dGxpbmUtb2Zmc2V0OmNhbGMoY2FsYygtMSAqIHZhcigtLWNhbGNpdGUtc3BhY2luZy1iYXNlKSkgKiBjYWxjKDEgLSAoMipjbGFtcCgwLHZhcigtLWNhbGNpdGUtb2Zmc2V0LWludmVydC1mb2N1cyksMSkpKSl9LmNvbnRhaW5lci0tZWRnZWQ6bm90KC5jb250YWluZXItLW92ZXJsYWlkKXtwYWRkaW5nLWlubGluZTp2YXIoLS1jYWxjaXRlLWludGVybmFsLWNhcm91c2VsLXBhZ2luYXRpb24tc3BhY2Utd2lkZSk7aW5saW5lLXNpemU6Y2FsYygxMDAlIC0gdmFyKC0tY2FsY2l0ZS1pbnRlcm5hbC1jYXJvdXNlbC1wYWdpbmF0aW9uLXNwYWNlLXdpZGUpICogMil9Lml0ZW0tY29udGFpbmVye2Rpc3BsYXk6ZmxleDtmbGV4OjEgMSBhdXRvO2FsaWduLWl0ZW1zOmZsZXgtc3RhcnQ7anVzdGlmeS1jb250ZW50OmNlbnRlcjtvdmVyZmxvdzphdXRvO3BhZGRpbmc6LjI1cmVtO2FuaW1hdGlvbi1uYW1lOm5vbmU7YW5pbWF0aW9uLWR1cmF0aW9uOnZhcigtLWNhbGNpdGUtYW5pbWF0aW9uLXRpbWluZyl9LmNvbnRhaW5lci0tb3ZlcmxhaWQgLml0ZW0tY29udGFpbmVye3BhZGRpbmc6MH0uaXRlbS1jb250YWluZXItLWZvcndhcmR7YW5pbWF0aW9uLW5hbWU6aXRlbS1mb3J3YXJkfS5pdGVtLWNvbnRhaW5lci0tYmFja3dhcmR7YW5pbWF0aW9uLW5hbWU6aXRlbS1iYWNrd2FyZH1jYWxjaXRlLWNhcm91c2VsLWl0ZW06bm90KFtzZWxlY3RlZF0pe29wYWNpdHk6MH0ucGFnaW5hdGlvbnttYXJnaW46Ljc1cmVtO2Rpc3BsYXk6ZmxleDtmbGV4LWRpcmVjdGlvbjpyb3c7YWxpZ24taXRlbXM6Y2VudGVyO2p1c3RpZnktY29udGVudDpjZW50ZXI7aW5saW5lLXNpemU6YXV0b30ucGFnaW5hdGlvbi1pdGVtc3tkaXNwbGF5OmZsZXg7ZmxleC1kaXJlY3Rpb246cm93O2FsaWduLWl0ZW1zOmNlbnRlcn0uY29udGFpbmVyLS1vdmVybGFpZCAucGFnaW5hdGlvbntwb3NpdGlvbjphYnNvbHV0ZX0ucGFnaW5hdGlvbi1pdGVtLnBhZ2UtbmV4dCwucGFnaW5hdGlvbi1pdGVtLnBhZ2UtcHJldmlvdXN7Y29sb3I6dmFyKC0tY2FsY2l0ZS1pbnRlcm5hbC1jYXJvdXNlbC1jb250cm9sLWljb24tY29sb3IpOy0tY2FsY2l0ZS1pY29uLWNvbG9yOiB2YXIoLS1jYWxjaXRlLWludGVybmFsLWNhcm91c2VsLWNvbnRyb2wtaWNvbi1jb2xvcil9LnBhZ2luYXRpb24taXRlbS5wYWdlLW5leHQ6aG92ZXIsLnBhZ2luYXRpb24taXRlbS5wYWdlLXByZXZpb3VzOmhvdmVye2NvbG9yOnZhcigtLWNhbGNpdGUtaW50ZXJuYWwtY2Fyb3VzZWwtY29udHJvbC1pY29uLWNvbG9yLWhvdmVyKTstLWNhbGNpdGUtaWNvbi1jb2xvcjogdmFyKC0tY2FsY2l0ZS1pbnRlcm5hbC1jYXJvdXNlbC1jb250cm9sLWljb24tY29sb3ItaG92ZXIpfS5jb250YWluZXItLWVkZ2VkIC5wYWdlLW5leHQsLmNvbnRhaW5lci0tZWRnZWQgLnBhZ2UtcHJldmlvdXN7YmxvY2stc2l6ZTozcmVtO2lubGluZS1zaXplOjNyZW07cG9zaXRpb246YWJzb2x1dGU7aW5zZXQtYmxvY2stc3RhcnQ6NTAlO3RyYW5zZm9ybTp0cmFuc2xhdGVZKC01MCUpfS5jb250YWluZXItLWVkZ2VkIC5wYWdlLW5leHR7aW5zZXQtaW5saW5lLWVuZDowfS5jb250YWluZXItLWVkZ2VkIC5wYWdlLXByZXZpb3Vze2luc2V0LWlubGluZS1zdGFydDowfS5jb250YWluZXItLW92ZXJsYWlkIC5wYWdpbmF0aW9ue2luc2V0LWJsb2NrLXN0YXJ0OnVuc2V0O2luc2V0LWJsb2NrLWVuZDowO2luc2V0LWlubGluZTowfS5wYWdpbmF0aW9uLWl0ZW0uYXV0b3BsYXktY29udHJvbHtwb3NpdGlvbjpyZWxhdGl2ZTtjb2xvcjp2YXIoLS1jYWxjaXRlLWludGVybmFsLWNhcm91c2VsLWF1dG9wbGF5LWNvbnRyb2wtY29sb3IpOy0tY2FsY2l0ZS1wcm9ncmVzcy1maWxsLWNvbG9yOiB2YXIoLS1jYWxjaXRlLWludGVybmFsLWNhcm91c2VsLWF1dG9wbGF5LXByb2dyZXNzLWZpbGwtY29sb3IpOy0tY2FsY2l0ZS1wcm9ncmVzcy1iYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1jYWxjaXRlLWludGVybmFsLWNhcm91c2VsLWF1dG9wbGF5LXByb2dyZXNzLWJhY2tncm91bmQtY29sb3IpfS5hdXRvcGxheS1jb250cm9sOmZvY3VzIC5hdXRvcGxheS1wcm9ncmVzc3tpbnNldC1ibG9jay1lbmQ6NHB4O2luc2V0LWlubGluZToycHg7aW5saW5lLXNpemU6Y2FsYygxMDAlIC0gNHB4KX0uYXV0b3BsYXktcHJvZ3Jlc3N7cG9zaXRpb246YWJzb2x1dGU7aW5zZXQtYmxvY2stZW5kOjJweDtpbnNldC1pbmxpbmU6MDtpbmxpbmUtc2l6ZToxMDAlfS5wYWdpbmF0aW9uLWl0ZW17bWFyZ2luOjA7YmxvY2stc2l6ZToycmVtO2lubGluZS1zaXplOjJyZW07Y3Vyc29yOnBvaW50ZXI7YWxpZ24taXRlbXM6Y2VudGVyO2JvcmRlci1zdHlsZTpub25lO2JhY2tncm91bmQtY29sb3I6dHJhbnNwYXJlbnQ7dHJhbnNpdGlvbi1wcm9wZXJ0eTpiYWNrZ3JvdW5kLWNvbG9yLGJsb2NrLXNpemUsYm9yZGVyLWNvbG9yLGJveC1zaGFkb3csY29sb3IsaW5zZXQtYmxvY2stZW5kLGluc2V0LWJsb2NrLXN0YXJ0LGluc2V0LWlubGluZS1lbmQsaW5zZXQtaW5saW5lLXN0YXJ0LGluc2V0LXNpemUsb3BhY2l0eSxvdXRsaW5lLWNvbG9yLHRyYW5zZm9ybTt0cmFuc2l0aW9uLWR1cmF0aW9uOnZhcigtLWNhbGNpdGUtYW5pbWF0aW9uLXRpbWluZyk7dHJhbnNpdGlvbi10aW1pbmctZnVuY3Rpb246ZWFzZS1pbi1vdXQ7b3V0bGluZS1jb2xvcjp0cmFuc3BhcmVudDstd2Via2l0LWFwcGVhcmFuY2U6bm9uZTtkaXNwbGF5OmZsZXg7YWxpZ24tY29udGVudDpjZW50ZXI7anVzdGlmeS1jb250ZW50OmNlbnRlcjtiYWNrZ3JvdW5kLWNvbG9yOnZhcigtLWNhbGNpdGUtaW50ZXJuYWwtY2Fyb3VzZWwtcGFnaW5hdGlvbi1iYWNrZ3JvdW5kLWNvbG9yKTtjb2xvcjp2YXIoLS1jYWxjaXRlLWludGVybmFsLWNhcm91c2VsLXBhZ2luYXRpb24taWNvbi1jb2xvcil9LnBhZ2luYXRpb24taXRlbTpob3ZlcntiYWNrZ3JvdW5kLWNvbG9yOnZhcigtLWNhbGNpdGUtaW50ZXJuYWwtY2Fyb3VzZWwtcGFnaW5hdGlvbi1iYWNrZ3JvdW5kLWNvbG9yLWhvdmVyKTtjb2xvcjp2YXIoLS1jYWxjaXRlLWludGVybmFsLWNhcm91c2VsLXBhZ2luYXRpb24taWNvbi1jb2xvci1ob3Zlcil9LnBhZ2luYXRpb24taXRlbTpmb2N1c3tiYWNrZ3JvdW5kLWNvbG9yOnZhcigtLWNhbGNpdGUtaW50ZXJuYWwtY2Fyb3VzZWwtcGFnaW5hdGlvbi1iYWNrZ3JvdW5kLWNvbG9yLXByZXNzKTtvdXRsaW5lOnZhcigtLWNhbGNpdGUtYm9yZGVyLXdpZHRoLW1kKSBzb2xpZCB2YXIoLS1jYWxjaXRlLWNvbG9yLWZvY3VzLCB2YXIoLS1jYWxjaXRlLXVpLWZvY3VzLWNvbG9yLCB2YXIoLS1jYWxjaXRlLWNvbG9yLWJyYW5kKSkpO291dGxpbmU6dmFyKC0tY2FsY2l0ZS1ib3JkZXItd2lkdGgtbWQpIHNvbGlkIHZhcigtLWNhbGNpdGUtaW50ZXJuYWwtY29sb3ItZm9jdXMpO291dGxpbmUtb2Zmc2V0OmNhbGMoY2FsYygtMSAqIHZhcigtLWNhbGNpdGUtc3BhY2luZy1iYXNlKSkgKiBjYWxjKDEgLSAoMipjbGFtcCgwLHZhcigtLWNhbGNpdGUtb2Zmc2V0LWludmVydC1mb2N1cyksMSkpKSl9LnBhZ2luYXRpb24taXRlbTphY3RpdmV7YmFja2dyb3VuZC1jb2xvcjp2YXIoLS1jYWxjaXRlLWludGVybmFsLWNhcm91c2VsLXBhZ2luYXRpb24tYmFja2dyb3VuZC1jb2xvci1wcmVzcyk7Y29sb3I6dmFyKC0tY2FsY2l0ZS1pbnRlcm5hbC1jYXJvdXNlbC1wYWdpbmF0aW9uLWljb24tY29sb3ItaG92ZXIpfS5wYWdpbmF0aW9uLWl0ZW0gY2FsY2l0ZS1pY29ue2NvbG9yOmluaGVyaXQ7cG9pbnRlci1ldmVudHM6bm9uZX0ucGFnaW5hdGlvbi1pdGVtLnBhZ2luYXRpb24taXRlbS0tc2VsZWN0ZWR7YmFja2dyb3VuZC1jb2xvcjp2YXIoLS1jYWxjaXRlLWludGVybmFsLWNhcm91c2VsLXBhZ2luYXRpb24tYmFja2dyb3VuZC1jb2xvci1zZWxlY3RlZCk7Y29sb3I6dmFyKC0tY2FsY2l0ZS1pbnRlcm5hbC1jYXJvdXNlbC1wYWdpbmF0aW9uLWljb24tY29sb3Itc2VsZWN0ZWQpfS5wYWdpbmF0aW9uLWl0ZW0tLWluZGl2aWR1YWx7cG9pbnRlci1ldmVudHM6bm9uZTtpbmxpbmUtc2l6ZTowcHg7cGFkZGluZzowO29wYWNpdHk6MDt2aXNpYmlsaXR5OmhpZGRlbjt0cmFuc2l0aW9uOnZhcigtLWNhbGNpdGUtYW5pbWF0aW9uLXRpbWluZykgZWFzZS1pbi1vdXQgaW5saW5lLXNpemUsdmFyKC0tY2FsY2l0ZS1hbmltYXRpb24tdGltaW5nKSBlYXNlLWluLW91dCBwYWRkaW5nLHZhcigtLWNhbGNpdGUtYW5pbWF0aW9uLXRpbWluZykgZWFzZS1pbi1vdXQgb3BhY2l0eX0ucGFnaW5hdGlvbi1pdGVtLS1pbmRpdmlkdWFsLnBhZ2luYXRpb24taXRlbS0tdmlzaWJsZXtwb2ludGVyLWV2ZW50czphdXRvO2lubGluZS1zaXplOjJyZW07b3BhY2l0eToxO3Zpc2liaWxpdHk6dmlzaWJsZX0ucGFnaW5hdGlvbi1pdGVtLS1yYW5nZS1lZGdlIGNhbGNpdGUtaWNvbntzY2FsZTouNzU7dHJhbnNpdGlvbjp2YXIoLS1jYWxjaXRlLWFuaW1hdGlvbi10aW1pbmcpIGVhc2UtaW4tb3V0IHNjYWxlfS5jb250YWluZXItLW92ZXJsYWlkIC5wYWdpbmF0aW9uLWl0ZW17YmFja2dyb3VuZC1jb2xvcjp2YXIoLS1jYWxjaXRlLWludGVybmFsLWNhcm91c2VsLXBhZ2luYXRpb24tb3ZlcmxheS1iYWNrZ3JvdW5kLWNvbG9yKX0uY29udGFpbmVyLS1vdmVybGFpZCAucGFnaW5hdGlvbi1pdGVtOmhvdmVye2JhY2tncm91bmQtY29sb3I6dmFyKC0tY2FsY2l0ZS1pbnRlcm5hbC1jYXJvdXNlbC1wYWdpbmF0aW9uLW92ZXJsYXktYmFja2dyb3VuZC1jb2xvci1ob3Zlcil9LmNvbnRhaW5lci0tb3ZlcmxhaWQgLnBhZ2luYXRpb24taXRlbTpmb2N1c3tiYWNrZ3JvdW5kLWNvbG9yOnZhcigtLWNhbGNpdGUtaW50ZXJuYWwtY2Fyb3VzZWwtcGFnaW5hdGlvbi1vdmVybGF5LWJhY2tncm91bmQtY29sb3ItYWN0aXZlKX0uY29udGFpbmVyLS1vdmVybGFpZCAucGFnaW5hdGlvbi1pdGVtOmFjdGl2ZXtiYWNrZ3JvdW5kLWNvbG9yOnZhcigtLWNhbGNpdGUtaW50ZXJuYWwtY2Fyb3VzZWwtcGFnaW5hdGlvbi1vdmVybGF5LWJhY2tncm91bmQtY29sb3ItYWN0aXZlKX0uY29udGFpbmVyLS1vdmVybGFpZCAucGFnaW5hdGlvbi1pdGVtLnBhZ2luYXRpb24taXRlbS0tc2VsZWN0ZWR7YmFja2dyb3VuZC1jb2xvcjp2YXIoLS1jYWxjaXRlLWludGVybmFsLWNhcm91c2VsLXBhZ2luYXRpb24tb3ZlcmxheS1iYWNrZ3JvdW5kLWNvbG9yLXNlbGVjdGVkKTtjb2xvcjp2YXIoLS1jYWxjaXRlLWludGVybmFsLWNhcm91c2VsLXBhZ2luYXRpb24taWNvbi1jb2xvci1zZWxlY3RlZCl9QGtleWZyYW1lcyBpdGVtLWZvcndhcmR7MCV7dHJhbnNmb3JtOnRyYW5zbGF0ZTNkKDEwMHB4LDAsMCl9dG97dHJhbnNmb3JtOnRyYW5zbGF0ZVooMCl9fUBrZXlmcmFtZXMgaXRlbS1iYWNrd2FyZHswJXt0cmFuc2Zvcm06dHJhbnNsYXRlM2QoLTEwMHB4LDAsMCl9dG97dHJhbnNmb3JtOnRyYW5zbGF0ZVooMCl9fTpob3N0KFtkaXNhYmxlZF0pIDo6c2xvdHRlZChbY2FsY2l0ZS1oeWRyYXRlZF1bZGlzYWJsZWRdKSw6aG9zdChbZGlzYWJsZWRdKSBbY2FsY2l0ZS1oeWRyYXRlZF1bZGlzYWJsZWRde29wYWNpdHk6MX0uaW50ZXJhY3Rpb24tY29udGFpbmVye2Rpc3BsYXk6Y29udGVudHN9Omhvc3QoW2hpZGRlbl0pe2Rpc3BsYXk6bm9uZX1baGlkZGVuXXtkaXNwbGF5Om5vbmV9YDtcbmNsYXNzIENhcm91c2VsIGV4dGVuZHMgTGl0RWxlbWVudCB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgdGhpcy5hdXRvcGxheUhhbmRsZXIgPSAoKSA9PiB7XG4gICAgICB0aGlzLmNsZWFySW50ZXJ2YWxzKCk7XG4gICAgICB0aGlzLnNsaWRlRHVyYXRpb25JbnRlcnZhbCA9IHNldEludGVydmFsKHRoaXMudGltZXIsIHRoaXMuYXV0b3BsYXlEdXJhdGlvbiAvIDEwMCk7XG4gICAgfTtcbiAgICB0aGlzLmNvbnRhaW5lclJlZiA9IGNyZWF0ZVJlZigpO1xuICAgIHRoaXMuY29udGFpbmVySWQgPSBJRFMuaG9zdChndWlkKCkpO1xuICAgIHRoaXMuaXRlbUNvbnRhaW5lclJlZiA9IGNyZWF0ZVJlZigpO1xuICAgIHRoaXMucmVzaXplSGFuZGxlciA9ICh7IGNvbnRlbnRSZWN0OiB7IHdpZHRoIH0gfSkgPT4ge1xuICAgICAgdGhpcy5zZXRNYXhJdGVtc1RvQnJlYWtwb2ludCh3aWR0aCk7XG4gICAgfTtcbiAgICB0aGlzLnJlc2l6ZU9ic2VydmVyID0gY3JlYXRlT2JzZXJ2ZXIoXCJyZXNpemVcIiwgKGVudHJpZXMpID0+IGVudHJpZXMuZm9yRWFjaCh0aGlzLnJlc2l6ZUhhbmRsZXIpKTtcbiAgICB0aGlzLnNsaWRlRHVyYXRpb25JbnRlcnZhbCA9IG51bGw7XG4gICAgdGhpcy5zbGlkZUludGVydmFsID0gbnVsbDtcbiAgICB0aGlzLnRhYkxpc3RSZWYgPSBjcmVhdGVSZWYoKTtcbiAgICB0aGlzLnRpbWVyID0gKCkgPT4ge1xuICAgICAgbGV0IHRpbWUgPSB0aGlzLnNsaWRlRHVyYXRpb25SZW1haW5pbmc7XG4gICAgICBjb25zdCBub3RTdXNwZW5kZWQgPSAhdGhpcy5zdXNwZW5kZWREdWVUb0ZvY3VzICYmICF0aGlzLnN1c3BlbmRlZER1ZVRvSG92ZXIgfHwgdGhpcy51c2VyUHJldmVudHNTdXNwZW5kO1xuICAgICAgaWYgKG5vdFN1c3BlbmRlZCkge1xuICAgICAgICBpZiAodGltZSA8PSAwLjAxKSB7XG4gICAgICAgICAgdGltZSA9IDE7XG4gICAgICAgICAgdGhpcy5kaXJlY3Rpb24gPSBcImZvcndhcmRcIjtcbiAgICAgICAgICB0aGlzLm5leHRJdGVtKGZhbHNlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aW1lID0gdGltZSAtIDAuMDE7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmICh0aW1lID4gMCkge1xuICAgICAgICB0aGlzLnNsaWRlRHVyYXRpb25SZW1haW5pbmcgPSB0aW1lO1xuICAgICAgfVxuICAgIH07XG4gICAgdGhpcy5tZXNzYWdlcyA9IHVzZVQ5bigpO1xuICAgIHRoaXMuZm9jdXNTZXR0ZXIgPSB1c2VTZXRGb2N1cygpKHRoaXMpO1xuICAgIHRoaXMuZGlyZWN0aW9uID0gXCJzdGFuZGJ5XCI7XG4gICAgdGhpcy5pdGVtcyA9IFtdO1xuICAgIHRoaXMubWF4SXRlbXMgPSBjZW50ZXJJdGVtc0J5QnJlYWtwb2ludC54eHNtYWxsO1xuICAgIHRoaXMucGxheWluZyA9IGZhbHNlO1xuICAgIHRoaXMuc2xpZGVEdXJhdGlvblJlbWFpbmluZyA9IDE7XG4gICAgdGhpcy5zdXNwZW5kZWREdWVUb0ZvY3VzID0gZmFsc2U7XG4gICAgdGhpcy5zdXNwZW5kZWREdWVUb0hvdmVyID0gZmFsc2U7XG4gICAgdGhpcy5zdXNwZW5kZWRTbGlkZUR1cmF0aW9uUmVtYWluaW5nID0gMTtcbiAgICB0aGlzLnVzZXJQcmV2ZW50c1N1c3BlbmQgPSBmYWxzZTtcbiAgICB0aGlzLmFycm93VHlwZSA9IFwiaW5saW5lXCI7XG4gICAgdGhpcy5hdXRvcGxheSA9IGZhbHNlO1xuICAgIHRoaXMuYXV0b3BsYXlEdXJhdGlvbiA9IERVUkFUSU9OO1xuICAgIHRoaXMuY29udHJvbE92ZXJsYXkgPSBmYWxzZTtcbiAgICB0aGlzLmRpc2FibGVkID0gZmFsc2U7XG4gICAgdGhpcy5jYWxjaXRlQ2Fyb3VzZWxDaGFuZ2UgPSBjcmVhdGVFdmVudCh7IGNhbmNlbGFibGU6IGZhbHNlIH0pO1xuICAgIHRoaXMuY2FsY2l0ZUNhcm91c2VsUGF1c2UgPSBjcmVhdGVFdmVudCh7IGNhbmNlbGFibGU6IGZhbHNlIH0pO1xuICAgIHRoaXMuY2FsY2l0ZUNhcm91c2VsUGxheSA9IGNyZWF0ZUV2ZW50KHsgY2FuY2VsYWJsZTogZmFsc2UgfSk7XG4gICAgdGhpcy5jYWxjaXRlQ2Fyb3VzZWxSZXN1bWUgPSBjcmVhdGVFdmVudCh7IGNhbmNlbGFibGU6IGZhbHNlIH0pO1xuICAgIHRoaXMuY2FsY2l0ZUNhcm91c2VsU3RvcCA9IGNyZWF0ZUV2ZW50KHsgY2FuY2VsYWJsZTogZmFsc2UgfSk7XG4gIH1cbiAgc3RhdGljIHtcbiAgICB0aGlzLnByb3BlcnRpZXMgPSB7IGRpcmVjdGlvbjogWzE2LCB7fSwgeyBzdGF0ZTogdHJ1ZSB9XSwgaXRlbXM6IFsxNiwge30sIHsgc3RhdGU6IHRydWUgfV0sIG1heEl0ZW1zOiBbMTYsIHt9LCB7IHN0YXRlOiB0cnVlIH1dLCBwbGF5aW5nOiBbMTYsIHt9LCB7IHN0YXRlOiB0cnVlIH1dLCBzZWxlY3RlZEluZGV4OiBbMTYsIHt9LCB7IHN0YXRlOiB0cnVlIH1dLCBzbGlkZUR1cmF0aW9uUmVtYWluaW5nOiBbMTYsIHt9LCB7IHN0YXRlOiB0cnVlIH1dLCBzdXNwZW5kZWREdWVUb0ZvY3VzOiBbMTYsIHt9LCB7IHN0YXRlOiB0cnVlIH1dLCBzdXNwZW5kZWREdWVUb0hvdmVyOiBbMTYsIHt9LCB7IHN0YXRlOiB0cnVlIH1dLCBzdXNwZW5kZWRTbGlkZUR1cmF0aW9uUmVtYWluaW5nOiBbMTYsIHt9LCB7IHN0YXRlOiB0cnVlIH1dLCB1c2VyUHJldmVudHNTdXNwZW5kOiBbMTYsIHt9LCB7IHN0YXRlOiB0cnVlIH1dLCBhcnJvd1R5cGU6IFszLCB7fSwgeyByZWZsZWN0OiB0cnVlIH1dLCBhdXRvcGxheTogWzMsIHt9LCB7IHJlZmxlY3Q6IHRydWUgfV0sIGF1dG9wbGF5RHVyYXRpb246IFsxMSwge30sIHsgdHlwZTogTnVtYmVyLCByZWZsZWN0OiB0cnVlIH1dLCBjb250cm9sT3ZlcmxheTogWzcsIHt9LCB7IHJlZmxlY3Q6IHRydWUsIHR5cGU6IEJvb2xlYW4gfV0sIGRpc2FibGVkOiBbNywge30sIHsgcmVmbGVjdDogdHJ1ZSwgdHlwZTogQm9vbGVhbiB9XSwgbGFiZWw6IDEsIG1lc3NhZ2VPdmVycmlkZXM6IFswLCB7fSwgeyBhdHRyaWJ1dGU6IGZhbHNlIH1dLCBwYXVzZWQ6IFs1LCB7fSwgeyB0eXBlOiBCb29sZWFuIH1dLCBzZWxlY3RlZEl0ZW06IFswLCB7fSwgeyBhdHRyaWJ1dGU6IGZhbHNlIH1dIH07XG4gIH1cbiAgc3RhdGljIHtcbiAgICB0aGlzLnN0eWxlcyA9IHN0eWxlcztcbiAgfVxuICBhc3luYyBwbGF5KCkge1xuICAgIGlmICh0aGlzLnBsYXlpbmcgfHwgdGhpcy5hdXRvcGxheSAhPT0gXCJcIiAmJiAhdGhpcy5hdXRvcGxheSAmJiB0aGlzLmF1dG9wbGF5ICE9PSBcInBhdXNlZFwiKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuaGFuZGxlUGxheSh0cnVlKTtcbiAgfVxuICBhc3luYyBzZXRGb2N1cyhvcHRpb25zKSB7XG4gICAgcmV0dXJuIHRoaXMuZm9jdXNTZXR0ZXIoKCkgPT4gdGhpcy5jb250YWluZXJSZWYudmFsdWUsIG9wdGlvbnMpO1xuICB9XG4gIGFzeW5jIHN0b3AoKSB7XG4gICAgaWYgKCF0aGlzLnBsYXlpbmcpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5oYW5kbGVQYXVzZSh0cnVlKTtcbiAgfVxuICBjb25uZWN0ZWRDYWxsYmFjaygpIHtcbiAgICBzdXBlci5jb25uZWN0ZWRDYWxsYmFjaygpO1xuICAgIHRoaXMucmVzaXplT2JzZXJ2ZXI/Lm9ic2VydmUodGhpcy5lbCk7XG4gIH1cbiAgYXN5bmMgbG9hZCgpIHtcbiAgICBpZiAoKHRoaXMuYXV0b3BsYXkgPT09IFwiXCIgfHwgdGhpcy5hdXRvcGxheSkgJiYgdGhpcy5hdXRvcGxheSAhPT0gXCJwYXVzZWRcIikge1xuICAgICAgdGhpcy5oYW5kbGVQbGF5KGZhbHNlKTtcbiAgICB9IGVsc2UgaWYgKHRoaXMuYXV0b3BsYXkgPT09IFwicGF1c2VkXCIpIHtcbiAgICAgIHRoaXMucGF1c2VkID0gdHJ1ZTtcbiAgICB9XG4gIH1cbiAgd2lsbFVwZGF0ZShjaGFuZ2VzKSB7XG4gICAgaWYgKGNoYW5nZXMuaGFzKFwiYXV0b3BsYXlcIikgJiYgdGhpcy5oYXNVcGRhdGVkKSB7XG4gICAgICB0aGlzLmF1dG9wbGF5V2F0Y2hlcih0aGlzLmF1dG9wbGF5KTtcbiAgICB9XG4gICAgaWYgKGNoYW5nZXMuaGFzKFwiZGlyZWN0aW9uXCIpICYmICh0aGlzLmhhc1VwZGF0ZWQgfHwgdGhpcy5kaXJlY3Rpb24gIT09IFwic3RhbmRieVwiKSkge1xuICAgICAgdGhpcy5kaXJlY3Rpb25XYXRjaGVyKHRoaXMuZGlyZWN0aW9uKTtcbiAgICB9XG4gICAgaWYgKGNoYW5nZXMuaGFzKFwicGxheWluZ1wiKSAmJiAodGhpcy5oYXNVcGRhdGVkIHx8IHRoaXMucGxheWluZyAhPT0gZmFsc2UpKSB7XG4gICAgICB0aGlzLnBhdXNlZCA9ICF0aGlzLnBsYXlpbmc7XG4gICAgfVxuICAgIGlmIChjaGFuZ2VzLmhhcyhcInN1c3BlbmRlZER1ZVRvRm9jdXNcIikgJiYgKHRoaXMuaGFzVXBkYXRlZCB8fCB0aGlzLnN1c3BlbmRlZER1ZVRvRm9jdXMgIT09IGZhbHNlKSB8fCBjaGFuZ2VzLmhhcyhcInN1c3BlbmRlZER1ZVRvSG92ZXJcIikgJiYgKHRoaXMuaGFzVXBkYXRlZCB8fCB0aGlzLnN1c3BlbmRlZER1ZVRvSG92ZXIgIT09IGZhbHNlKSkge1xuICAgICAgdGhpcy5zdXNwZW5kV2F0Y2hlcigpO1xuICAgIH1cbiAgfVxuICB1cGRhdGVkKCkge1xuICAgIHVwZGF0ZUhvc3RJbnRlcmFjdGlvbih0aGlzKTtcbiAgfVxuICBkaXNjb25uZWN0ZWRDYWxsYmFjaygpIHtcbiAgICBzdXBlci5kaXNjb25uZWN0ZWRDYWxsYmFjaygpO1xuICAgIHRoaXMuY2xlYXJJbnRlcnZhbHMoKTtcbiAgICB0aGlzLnJlc2l6ZU9ic2VydmVyPy5kaXNjb25uZWN0KCk7XG4gIH1cbiAgYXV0b3BsYXlXYXRjaGVyKGF1dG9wbGF5KSB7XG4gICAgaWYgKCFhdXRvcGxheSkge1xuICAgICAgdGhpcy5oYW5kbGVQYXVzZShmYWxzZSk7XG4gICAgfVxuICB9XG4gIGFzeW5jIGRpcmVjdGlvbldhdGNoZXIoZGlyZWN0aW9uKSB7XG4gICAgaWYgKGRpcmVjdGlvbiA9PT0gXCJzdGFuZGJ5XCIgfHwgIXRoaXMuaXRlbUNvbnRhaW5lclJlZi52YWx1ZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBhd2FpdCB3aGVuQW5pbWF0aW9uRG9uZSh0aGlzLml0ZW1Db250YWluZXJSZWYudmFsdWUsIGRpcmVjdGlvbiA9PT0gXCJmb3J3YXJkXCIgPyBcIml0ZW0tZm9yd2FyZFwiIDogXCJpdGVtLWJhY2t3YXJkXCIpO1xuICAgIHRoaXMuZGlyZWN0aW9uID0gXCJzdGFuZGJ5XCI7XG4gIH1cbiAgc3VzcGVuZFdhdGNoZXIoKSB7XG4gICAgaWYgKCF0aGlzLnN1c3BlbmRlZER1ZVRvRm9jdXMgJiYgIXRoaXMuc3VzcGVuZGVkRHVlVG9Ib3Zlcikge1xuICAgICAgdGhpcy5zdXNwZW5kRW5kKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuc3VzcGVuZFN0YXJ0KCk7XG4gICAgfVxuICB9XG4gIHNldE1heEl0ZW1zVG9CcmVha3BvaW50KHdpZHRoKSB7XG4gICAgaWYgKCF3aWR0aCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAod2lkdGggPj0gYnJlYWtwb2ludHMud2lkdGguc21hbGwpIHtcbiAgICAgIHRoaXMubWF4SXRlbXMgPSBjZW50ZXJJdGVtc0J5QnJlYWtwb2ludC5tZWRpdW07XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICh3aWR0aCA+PSBicmVha3BvaW50cy53aWR0aC54c21hbGwpIHtcbiAgICAgIHRoaXMubWF4SXRlbXMgPSBjZW50ZXJJdGVtc0J5QnJlYWtwb2ludC5zbWFsbDtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKHdpZHRoID49IGJyZWFrcG9pbnRzLndpZHRoLnh4c21hbGwpIHtcbiAgICAgIHRoaXMubWF4SXRlbXMgPSBjZW50ZXJJdGVtc0J5QnJlYWtwb2ludC54c21hbGw7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMubWF4SXRlbXMgPSBjZW50ZXJJdGVtc0J5QnJlYWtwb2ludC54eHNtYWxsO1xuICB9XG4gIGNsZWFySW50ZXJ2YWxzKCkge1xuICAgIGNsZWFySW50ZXJ2YWwodGhpcy5zbGlkZUR1cmF0aW9uSW50ZXJ2YWwpO1xuICAgIGNsZWFySW50ZXJ2YWwodGhpcy5zbGlkZUludGVydmFsKTtcbiAgfVxuICBuZXh0SXRlbShlbWl0KSB7XG4gICAgaWYgKHRoaXMucGxheWluZyAmJiBlbWl0KSB7XG4gICAgICB0aGlzLnBsYXlpbmcgPSBmYWxzZTtcbiAgICB9XG4gICAgY29uc3QgbmV4dEluZGV4ID0gZ2V0Um91bmRSb2JpbkluZGV4KHRoaXMuc2VsZWN0ZWRJbmRleCArIDEsIHRoaXMuaXRlbXMubGVuZ3RoKTtcbiAgICB0aGlzLnNldFNlbGVjdGVkSXRlbShuZXh0SW5kZXgsIGVtaXQpO1xuICB9XG4gIHByZXZpb3VzSXRlbSgpIHtcbiAgICB0aGlzLnBsYXlpbmcgPSBmYWxzZTtcbiAgICBjb25zdCBwcmV2SW5kZXggPSBnZXRSb3VuZFJvYmluSW5kZXgoTWF0aC5tYXgodGhpcy5zZWxlY3RlZEluZGV4IC0gMSwgLTEpLCB0aGlzLml0ZW1zLmxlbmd0aCk7XG4gICAgdGhpcy5zZXRTZWxlY3RlZEl0ZW0ocHJldkluZGV4LCB0cnVlKTtcbiAgfVxuICBoYW5kbGVQbGF5KGVtaXQpIHtcbiAgICB0aGlzLnBsYXlpbmcgPSB0cnVlO1xuICAgIHRoaXMuYXV0b3BsYXlIYW5kbGVyKCk7XG4gICAgdGhpcy5zbGlkZUludGVydmFsID0gc2V0SW50ZXJ2YWwodGhpcy5hdXRvcGxheUhhbmRsZXIsIHRoaXMuYXV0b3BsYXlEdXJhdGlvbik7XG4gICAgaWYgKGVtaXQpIHtcbiAgICAgIHRoaXMuY2FsY2l0ZUNhcm91c2VsUGxheS5lbWl0KCk7XG4gICAgfVxuICB9XG4gIGhhbmRsZVBhdXNlKGVtaXQpIHtcbiAgICB0aGlzLnBsYXlpbmcgPSBmYWxzZTtcbiAgICB0aGlzLmNsZWFySW50ZXJ2YWxzKCk7XG4gICAgdGhpcy5zbGlkZUR1cmF0aW9uUmVtYWluaW5nID0gMTtcbiAgICB0aGlzLnN1c3BlbmRlZFNsaWRlRHVyYXRpb25SZW1haW5pbmcgPSAxO1xuICAgIGlmIChlbWl0KSB7XG4gICAgICB0aGlzLmNhbGNpdGVDYXJvdXNlbFN0b3AuZW1pdCgpO1xuICAgIH1cbiAgfVxuICBzdXNwZW5kU3RhcnQoKSB7XG4gICAgdGhpcy5zdXNwZW5kZWRTbGlkZUR1cmF0aW9uUmVtYWluaW5nID0gdGhpcy5zbGlkZUR1cmF0aW9uUmVtYWluaW5nO1xuICB9XG4gIHN1c3BlbmRFbmQoKSB7XG4gICAgdGhpcy5zbGlkZUR1cmF0aW9uUmVtYWluaW5nID0gdGhpcy5zdXNwZW5kZWRTbGlkZUR1cmF0aW9uUmVtYWluaW5nO1xuICB9XG4gIGhhbmRsZVNsb3RDaGFuZ2UoZXZlbnQpIHtcbiAgICBjb25zdCBpdGVtcyA9IHNsb3RDaGFuZ2VHZXRBc3NpZ25lZEVsZW1lbnRzKGV2ZW50KTtcbiAgICBpZiAoaXRlbXMubGVuZ3RoIDwgMSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBhY3RpdmVJdGVtSW5kZXggPSBpdGVtcy5maW5kSW5kZXgoKGl0ZW0pID0+IGl0ZW0uc2VsZWN0ZWQpO1xuICAgIGNvbnN0IHJlcXVlc3RlZFNlbGVjdGVkSW5kZXggPSBhY3RpdmVJdGVtSW5kZXggPiAtMSA/IGFjdGl2ZUl0ZW1JbmRleCA6IDA7XG4gICAgdGhpcy5pdGVtcyA9IGl0ZW1zO1xuICAgIHRoaXMuc2V0U2VsZWN0ZWRJdGVtKHJlcXVlc3RlZFNlbGVjdGVkSW5kZXgsIGZhbHNlKTtcbiAgfVxuICBzZXRTZWxlY3RlZEl0ZW0ocmVxdWVzdGVkSW5kZXgsIGVtaXQpIHtcbiAgICBjb25zdCBwcmV2aW91c1NlbGVjdGVkID0gdGhpcy5zZWxlY3RlZEluZGV4O1xuICAgIHRoaXMuaXRlbXMuZm9yRWFjaCgoZWwsIGluZGV4KSA9PiB7XG4gICAgICBjb25zdCBtYXRjaCA9IHJlcXVlc3RlZEluZGV4ID09PSBpbmRleDtcbiAgICAgIGVsLnNlbGVjdGVkID0gbWF0Y2g7XG4gICAgICBpZiAobWF0Y2gpIHtcbiAgICAgICAgdGhpcy5zZWxlY3RlZEl0ZW0gPSBlbDtcbiAgICAgICAgdGhpcy5zZWxlY3RlZEluZGV4ID0gaW5kZXg7XG4gICAgICB9XG4gICAgfSk7XG4gICAgaWYgKGVtaXQpIHtcbiAgICAgIHRoaXMucGxheWluZyA9IGZhbHNlO1xuICAgICAgaWYgKHByZXZpb3VzU2VsZWN0ZWQgIT09IHRoaXMuc2VsZWN0ZWRJbmRleCkge1xuICAgICAgICB0aGlzLmNhbGNpdGVDYXJvdXNlbENoYW5nZS5lbWl0KCk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGhhbmRsZUFycm93Q2xpY2soZXZlbnQpIHtcbiAgICBjb25zdCBkaXJlY3Rpb24gPSBldmVudC50YXJnZXQuZGF0YXNldC5kaXJlY3Rpb247XG4gICAgaWYgKHRoaXMucGxheWluZykge1xuICAgICAgdGhpcy5oYW5kbGVQYXVzZSh0cnVlKTtcbiAgICB9XG4gICAgaWYgKGRpcmVjdGlvbiA9PT0gXCJuZXh0XCIpIHtcbiAgICAgIHRoaXMuZGlyZWN0aW9uID0gXCJmb3J3YXJkXCI7XG4gICAgICB0aGlzLm5leHRJdGVtKHRydWUpO1xuICAgIH0gZWxzZSBpZiAoZGlyZWN0aW9uID09PSBcInByZXZpb3VzXCIpIHtcbiAgICAgIHRoaXMuZGlyZWN0aW9uID0gXCJiYWNrd2FyZFwiO1xuICAgICAgdGhpcy5wcmV2aW91c0l0ZW0oKTtcbiAgICB9XG4gIH1cbiAgaGFuZGxlSXRlbVNlbGVjdGlvbihldmVudCkge1xuICAgIGNvbnN0IGl0ZW0gPSBldmVudC50YXJnZXQ7XG4gICAgY29uc3QgcmVxdWVzdGVkUG9zaXRpb24gPSBwYXJzZUludChpdGVtLmRhdGFzZXQuaW5kZXgpO1xuICAgIGlmIChyZXF1ZXN0ZWRQb3NpdGlvbiA9PT0gdGhpcy5zZWxlY3RlZEluZGV4KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICh0aGlzLnBsYXlpbmcpIHtcbiAgICAgIHRoaXMuaGFuZGxlUGF1c2UodHJ1ZSk7XG4gICAgfVxuICAgIHRoaXMuZGlyZWN0aW9uID0gcmVxdWVzdGVkUG9zaXRpb24gPiB0aGlzLnNlbGVjdGVkSW5kZXggPyBcImZvcndhcmRcIiA6IFwiYmFja3dhcmRcIjtcbiAgICB0aGlzLnNldFNlbGVjdGVkSXRlbShyZXF1ZXN0ZWRQb3NpdGlvbiwgdHJ1ZSk7XG4gIH1cbiAgdG9nZ2xlUm90YXRpb24oKSB7XG4gICAgdGhpcy51c2VyUHJldmVudHNTdXNwZW5kID0gdHJ1ZTtcbiAgICBpZiAodGhpcy5wbGF5aW5nKSB7XG4gICAgICB0aGlzLmhhbmRsZVBhdXNlKHRydWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmhhbmRsZVBsYXkodHJ1ZSk7XG4gICAgfVxuICB9XG4gIGhhbmRsZUZvY3VzSW4oKSB7XG4gICAgY29uc3QgaXNQbGF5aW5nID0gdGhpcy5wbGF5aW5nO1xuICAgIGlmIChpc1BsYXlpbmcpIHtcbiAgICAgIHRoaXMuc3VzcGVuZGVkRHVlVG9Gb2N1cyA9IHRydWU7XG4gICAgfVxuICAgIGlmICgoIXRoaXMuc3VzcGVuZGVkRHVlVG9Gb2N1cyB8fCAhdGhpcy5zdXNwZW5kZWREdWVUb0hvdmVyKSAmJiBpc1BsYXlpbmcpIHtcbiAgICAgIHRoaXMuY2FsY2l0ZUNhcm91c2VsUGF1c2UuZW1pdCgpO1xuICAgIH1cbiAgfVxuICBoYW5kbGVNb3VzZUluKCkge1xuICAgIGNvbnN0IGlzUGxheWluZyA9IHRoaXMucGxheWluZztcbiAgICBpZiAoaXNQbGF5aW5nKSB7XG4gICAgICB0aGlzLnN1c3BlbmRlZER1ZVRvSG92ZXIgPSB0cnVlO1xuICAgIH1cbiAgICBpZiAoKCF0aGlzLnN1c3BlbmRlZER1ZVRvRm9jdXMgfHwgIXRoaXMuc3VzcGVuZGVkRHVlVG9Ib3ZlcikgJiYgaXNQbGF5aW5nKSB7XG4gICAgICB0aGlzLmNhbGNpdGVDYXJvdXNlbFBhdXNlLmVtaXQoKTtcbiAgICB9XG4gIH1cbiAgaGFuZGxlTW91c2VPdXQoZXZlbnQpIHtcbiAgICBjb25zdCBsZWF2aW5nQ29tcG9uZW50ID0gIXRoaXMuZWwuY29udGFpbnMoZXZlbnQucmVsYXRlZFRhcmdldCk7XG4gICAgY29uc3QgaXNQbGF5aW5nID0gdGhpcy5wbGF5aW5nO1xuICAgIGlmIChsZWF2aW5nQ29tcG9uZW50ICYmIGlzUGxheWluZykge1xuICAgICAgdGhpcy5zdXNwZW5kZWREdWVUb0hvdmVyID0gZmFsc2U7XG4gICAgfVxuICAgIGlmIChsZWF2aW5nQ29tcG9uZW50ICYmIGlzUGxheWluZyAmJiAhdGhpcy5zdXNwZW5kZWREdWVUb0ZvY3VzKSB7XG4gICAgICB0aGlzLnVzZXJQcmV2ZW50c1N1c3BlbmQgPSBmYWxzZTtcbiAgICAgIHRoaXMuY2FsY2l0ZUNhcm91c2VsUmVzdW1lLmVtaXQoKTtcbiAgICB9XG4gIH1cbiAgaGFuZGxlRm9jdXNPdXQoZXZlbnQpIHtcbiAgICBjb25zdCBsZWF2aW5nQ29tcG9uZW50ID0gIWV2ZW50LmNvbXBvc2VkUGF0aCgpLmluY2x1ZGVzKGV2ZW50LnJlbGF0ZWRUYXJnZXQpO1xuICAgIGNvbnN0IGlzUGxheWluZyA9IHRoaXMucGxheWluZztcbiAgICBpZiAobGVhdmluZ0NvbXBvbmVudCAmJiBpc1BsYXlpbmcpIHtcbiAgICAgIHRoaXMuc3VzcGVuZGVkRHVlVG9Gb2N1cyA9IGZhbHNlO1xuICAgIH1cbiAgICBpZiAobGVhdmluZ0NvbXBvbmVudCAmJiBpc1BsYXlpbmcgJiYgIXRoaXMuc3VzcGVuZGVkRHVlVG9Ib3Zlcikge1xuICAgICAgdGhpcy51c2VyUHJldmVudHNTdXNwZW5kID0gZmFsc2U7XG4gICAgICB0aGlzLmNhbGNpdGVDYXJvdXNlbFJlc3VtZS5lbWl0KCk7XG4gICAgfVxuICB9XG4gIGNvbnRhaW5lcktleURvd25IYW5kbGVyKGV2ZW50KSB7XG4gICAgaWYgKGV2ZW50LnRhcmdldCAhPT0gdGhpcy5jb250YWluZXJSZWYudmFsdWUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgbGFzdEl0ZW0gPSB0aGlzLml0ZW1zLmxlbmd0aCAtIDE7XG4gICAgc3dpdGNoIChldmVudC5rZXkpIHtcbiAgICAgIGNhc2UgXCIgXCI6XG4gICAgICBjYXNlIFwiRW50ZXJcIjpcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgaWYgKHRoaXMuYXV0b3BsYXkgPT09IFwiXCIgfHwgdGhpcy5hdXRvcGxheSB8fCB0aGlzLmF1dG9wbGF5ID09PSBcInBhdXNlZFwiKSB7XG4gICAgICAgICAgdGhpcy50b2dnbGVSb3RhdGlvbigpO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcIkFycm93UmlnaHRcIjpcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgdGhpcy5kaXJlY3Rpb24gPSBcImZvcndhcmRcIjtcbiAgICAgICAgdGhpcy5uZXh0SXRlbSh0cnVlKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiQXJyb3dMZWZ0XCI6XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIHRoaXMuZGlyZWN0aW9uID0gXCJiYWNrd2FyZFwiO1xuICAgICAgICB0aGlzLnByZXZpb3VzSXRlbSgpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJIb21lXCI6XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGlmICh0aGlzLnNlbGVjdGVkSW5kZXggPT09IDApIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5kaXJlY3Rpb24gPSBcImJhY2t3YXJkXCI7XG4gICAgICAgIHRoaXMuc2V0U2VsZWN0ZWRJdGVtKDAsIHRydWUpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJFbmRcIjpcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgaWYgKHRoaXMuc2VsZWN0ZWRJbmRleCA9PT0gbGFzdEl0ZW0pIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5kaXJlY3Rpb24gPSBcImZvcndhcmRcIjtcbiAgICAgICAgdGhpcy5zZXRTZWxlY3RlZEl0ZW0obGFzdEl0ZW0sIHRydWUpO1xuICAgICAgICBicmVhaztcbiAgICB9XG4gIH1cbiAgdGFiTGlzdEtleURvd25IYW5kbGVyKGV2ZW50KSB7XG4gICAgY29uc3QgdmlzaWJsZVBhZ2luYXRpb25FbHMgPSBBcnJheSguLi50aGlzLnRhYkxpc3RSZWYudmFsdWUucXVlcnlTZWxlY3RvckFsbChgYnV0dG9uOm5vdCguJHtDU1MucGFnaW5hdGlvbkl0ZW1PdXRPZlJhbmdlfSlgKSk7XG4gICAgY29uc3QgY3VycmVudEVsID0gZXZlbnQudGFyZ2V0O1xuICAgIHN3aXRjaCAoZXZlbnQua2V5KSB7XG4gICAgICBjYXNlIFwiQXJyb3dSaWdodFwiOlxuICAgICAgICBmb2N1c0VsZW1lbnRJbkdyb3VwKHZpc2libGVQYWdpbmF0aW9uRWxzLCBjdXJyZW50RWwsIFwibmV4dFwiKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiQXJyb3dMZWZ0XCI6XG4gICAgICAgIGZvY3VzRWxlbWVudEluR3JvdXAodmlzaWJsZVBhZ2luYXRpb25FbHMsIGN1cnJlbnRFbCwgXCJwcmV2aW91c1wiKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiSG9tZVwiOlxuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBmb2N1c0VsZW1lbnRJbkdyb3VwKHZpc2libGVQYWdpbmF0aW9uRWxzLCBjdXJyZW50RWwsIFwiZmlyc3RcIik7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcIkVuZFwiOlxuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBmb2N1c0VsZW1lbnRJbkdyb3VwKHZpc2libGVQYWdpbmF0aW9uRWxzLCBjdXJyZW50RWwsIFwibGFzdFwiKTtcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG4gIHJlbmRlclJvdGF0aW9uQ29udHJvbCgpIHtcbiAgICBjb25zdCB0ZXh0ID0gdGhpcy5wbGF5aW5nID8gdGhpcy5tZXNzYWdlcy5wYXVzZSA6IHRoaXMubWVzc2FnZXMucGxheTtcbiAgICBjb25zdCBmb3JtYXR0ZWRWYWx1ZSA9IHRoaXMuc2xpZGVEdXJhdGlvblJlbWFpbmluZyAqIDEwMDtcbiAgICByZXR1cm4gaHRtbGA8YnV0dG9uIC5hcmlhTGFiZWw9JHt0ZXh0fSBjbGFzcz0ke3NhZmVDbGFzc01hcCh7XG4gICAgICBbQ1NTLnBhZ2luYXRpb25JdGVtXTogdHJ1ZSxcbiAgICAgIFtDU1MuYXV0b3BsYXlDb250cm9sXTogdHJ1ZVxuICAgIH0pfSBAY2xpY2s9JHt0aGlzLnRvZ2dsZVJvdGF0aW9ufSB0aXRsZT0ke3RleHQgPz8gbm90aGluZ30+PGNhbGNpdGUtaWNvbiAuaWNvbj0ke3RoaXMucGxheWluZyA/IElDT05TLnBhdXNlIDogSUNPTlMucGxheX0gc2NhbGU9cz48L2NhbGNpdGUtaWNvbj4ke3RoaXMucGxheWluZyAmJiBodG1sYDxjYWxjaXRlLXByb2dyZXNzIGNsYXNzPSR7c2FmZUNsYXNzTWFwKENTUy5hdXRvcGxheVByb2dyZXNzKX0gLmxhYmVsPSR7dGhpcy5tZXNzYWdlcy5jYXJvdXNlbEl0ZW1Qcm9ncmVzc30gLnZhbHVlPSR7Zm9ybWF0dGVkVmFsdWV9PjwvY2FsY2l0ZS1wcm9ncmVzcz5gIHx8IFwiXCJ9PC9idXR0b24+YDtcbiAgfVxuICByZW5kZXJQYWdpbmF0aW9uQXJlYSgpIHtcbiAgICByZXR1cm4gaHRtbGA8ZGl2IGNsYXNzPSR7c2FmZUNsYXNzTWFwKHtcbiAgICAgIFtDU1MucGFnaW5hdGlvbl06IHRydWUsXG4gICAgICBbQ1NTLmNvbnRhaW5lck92ZXJsYWlkXTogdGhpcy5jb250cm9sT3ZlcmxheVxuICAgIH0pfSBAa2V5ZG93bj0ke3RoaXMudGFiTGlzdEtleURvd25IYW5kbGVyfSAke3JlZih0aGlzLnRhYkxpc3RSZWYpfT4keyh0aGlzLnBsYXlpbmcgfHwgdGhpcy5hdXRvcGxheSA9PT0gXCJcIiB8fCB0aGlzLmF1dG9wbGF5IHx8IHRoaXMuYXV0b3BsYXkgPT09IFwicGF1c2VkXCIpICYmIHRoaXMucmVuZGVyUm90YXRpb25Db250cm9sKCkgfHwgXCJcIn0ke3RoaXMuYXJyb3dUeXBlID09PSBcImlubGluZVwiICYmIHRoaXMucmVuZGVyQXJyb3coXCJwcmV2aW91c1wiKSB8fCBcIlwifSR7dGhpcy5yZW5kZXJQYWdpbmF0aW9uSXRlbXMoKX0ke3RoaXMuYXJyb3dUeXBlID09PSBcImlubGluZVwiICYmIHRoaXMucmVuZGVyQXJyb3coXCJuZXh0XCIpIHx8IFwiXCJ9PC9kaXY+YDtcbiAgfVxuICByZW5kZXJQYWdpbmF0aW9uSXRlbXMoKSB7XG4gICAgY29uc3QgeyBzZWxlY3RlZEluZGV4LCBtYXhJdGVtcywgaXRlbXMsIGxhYmVsLCBoYW5kbGVJdGVtU2VsZWN0aW9uIH0gPSB0aGlzO1xuICAgIHJldHVybiBodG1sYDxkaXYgLmFyaWFMYWJlbD0ke2xhYmVsfSBjbGFzcz0ke3NhZmVDbGFzc01hcChDU1MucGFnaW5hdGlvbkl0ZW1zKX0gcm9sZT10YWJsaXN0PiR7cmVwZWF0KGl0ZW1zLCAoaXRlbSkgPT4gaXRlbS5pZCwgKGl0ZW0sIGluZGV4KSA9PiB7XG4gICAgICBjb25zdCBpdGVtQ291bnQgPSBpdGVtcy5sZW5ndGg7XG4gICAgICBjb25zdCBtYXRjaCA9IGluZGV4ID09PSBzZWxlY3RlZEluZGV4O1xuICAgICAgY29uc3QgZmlyc3QgPSBpbmRleCA9PT0gMDtcbiAgICAgIGNvbnN0IGxhc3QgPSBpbmRleCA9PT0gaXRlbUNvdW50IC0gMTtcbiAgICAgIGNvbnN0IGVuZFJhbmdlU3RhcnQgPSBpdGVtQ291bnQgLSBtYXhJdGVtcyAtIDE7XG4gICAgICBjb25zdCBpblN0YXJ0UmFuZ2UgPSBzZWxlY3RlZEluZGV4IDwgbWF4SXRlbXM7XG4gICAgICBjb25zdCBpbkVuZFJhbmdlID0gc2VsZWN0ZWRJbmRleCA+PSBlbmRSYW5nZVN0YXJ0O1xuICAgICAgY29uc3QgcmFuZ2VTdGFydCA9IGluU3RhcnRSYW5nZSA/IDAgOiBzZWxlY3RlZEluZGV4IC0gTWF0aC5mbG9vcihtYXhJdGVtcyAvIDIpO1xuICAgICAgY29uc3QgcmFuZ2VFbmQgPSBpbkVuZFJhbmdlID8gaXRlbUNvdW50IDogcmFuZ2VTdGFydCArIG1heEl0ZW1zO1xuICAgICAgY29uc3QgbG93ID0gaW5TdGFydFJhbmdlID8gMCA6IGluRW5kUmFuZ2UgPyBlbmRSYW5nZVN0YXJ0IDogcmFuZ2VTdGFydDtcbiAgICAgIGNvbnN0IGhpZ2ggPSBpblN0YXJ0UmFuZ2UgPyBtYXhJdGVtcyArIDEgOiByYW5nZUVuZDtcbiAgICAgIGNvbnN0IGlzRWRnZSA9ICFmaXJzdCAmJiAhbGFzdCAmJiAhbWF0Y2ggJiYgKGluZGV4ID09PSBsb3cgLSAxIHx8IGluZGV4ID09PSBoaWdoKTtcbiAgICAgIGNvbnN0IHZpc2libGUgPSBtYXRjaCB8fCBpbmRleCA8PSBoaWdoICYmIGluZGV4ID49IGxvdyAtIDE7XG4gICAgICBjb25zdCBvdmVyZmxvd0FjdGl2ZSA9IGl0ZW1Db3VudCAtIDEgPD0gbWF4SXRlbXM7XG4gICAgICBjb25zdCBpY29uID0gbWF0Y2ggPyBJQ09OUy5hY3RpdmUgOiBJQ09OUy5pbmFjdGl2ZTtcbiAgICAgIHJldHVybiBodG1sYDxidXR0b24gYXJpYS1jb250cm9scz0keyghbWF0Y2ggPyBpdGVtLmlkIDogdm9pZCAwKSA/PyBub3RoaW5nfSAuYXJpYVNlbGVjdGVkPSR7bWF0Y2h9IGNsYXNzPSR7c2FmZUNsYXNzTWFwKHtcbiAgICAgICAgW0NTUy5wYWdpbmF0aW9uSXRlbV06IHRydWUsXG4gICAgICAgIFtDU1MucGFnaW5hdGlvbkl0ZW1JbmRpdmlkdWFsXTogdHJ1ZSxcbiAgICAgICAgW0NTUy5wYWdpbmF0aW9uSXRlbVNlbGVjdGVkXTogbWF0Y2gsXG4gICAgICAgIFtDU1MucGFnaW5hdGlvbkl0ZW1SYW5nZUVkZ2VdOiBpdGVtQ291bnQgLSAxID4gbWF4SXRlbXMgJiYgaXNFZGdlLFxuICAgICAgICBbQ1NTLnBhZ2luYXRpb25JdGVtT3V0T2ZSYW5nZV06ICEob3ZlcmZsb3dBY3RpdmUgfHwgdmlzaWJsZSksXG4gICAgICAgIFtDU1MucGFnaW5hdGlvbkl0ZW1WaXNpYmxlXTogb3ZlcmZsb3dBY3RpdmUgfHwgdmlzaWJsZVxuICAgICAgfSl9IGRhdGEtaW5kZXg9JHtpbmRleCA/PyBub3RoaW5nfSBAY2xpY2s9JHtoYW5kbGVJdGVtU2VsZWN0aW9ufSByb2xlPXRhYiB0aXRsZT0ke2l0ZW0ubGFiZWwgPz8gbm90aGluZ30+PGNhbGNpdGUtaWNvbiAuaWNvbj0ke2ljb259IHNjYWxlPWw+PC9jYWxjaXRlLWljb24+PC9idXR0b24+YDtcbiAgICB9KX08L2Rpdj5gO1xuICB9XG4gIHJlbmRlckFycm93KGRpcmVjdGlvbikge1xuICAgIGNvbnN0IGlzUHJldiA9IGRpcmVjdGlvbiA9PT0gXCJwcmV2aW91c1wiO1xuICAgIGNvbnN0IGRpciA9IGdldEVsZW1lbnREaXIodGhpcy5lbCk7XG4gICAgY29uc3Qgc2NhbGUgPSB0aGlzLmFycm93VHlwZSA9PT0gXCJlZGdlXCIgPyBcIm1cIiA6IFwic1wiO1xuICAgIGNvbnN0IGNzczIgPSBpc1ByZXYgPyBDU1MucGFnZVByZXZpb3VzIDogQ1NTLnBhZ2VOZXh0O1xuICAgIGNvbnN0IHRpdGxlID0gaXNQcmV2ID8gdGhpcy5tZXNzYWdlcy5wcmV2aW91cyA6IHRoaXMubWVzc2FnZXMubmV4dDtcbiAgICBjb25zdCBpY29uID0gaXNQcmV2ID8gSUNPTlMuY2hldnJvbkxlZnQgOiBJQ09OUy5jaGV2cm9uUmlnaHQ7XG4gICAgcmV0dXJuIGh0bWxgPGJ1dHRvbiBhcmlhLWNvbnRyb2xzPSR7dGhpcy5jb250YWluZXJJZCA/PyBub3RoaW5nfSBjbGFzcz0ke3NhZmVDbGFzc01hcCh7IFtDU1MucGFnaW5hdGlvbkl0ZW1dOiB0cnVlLCBbY3NzMl06IHRydWUgfSl9IGRhdGEtZGlyZWN0aW9uPSR7ZGlyZWN0aW9uID8/IG5vdGhpbmd9IEBjbGljaz0ke3RoaXMuaGFuZGxlQXJyb3dDbGlja30gdGl0bGU9JHt0aXRsZSA/PyBub3RoaW5nfT48Y2FsY2l0ZS1pY29uIC5mbGlwUnRsPSR7ZGlyID09PSBcInJ0bFwifSAuaWNvbj0ke2ljb259IC5zY2FsZT0ke3NjYWxlfT48L2NhbGNpdGUtaWNvbj48L2J1dHRvbj5gO1xuICB9XG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB7IGRpcmVjdGlvbiB9ID0gdGhpcztcbiAgICByZXR1cm4gSW50ZXJhY3RpdmVDb250YWluZXIoeyBkaXNhYmxlZDogdGhpcy5kaXNhYmxlZCwgY2hpbGRyZW46IGh0bWxgPGRpdiAuYXJpYUxhYmVsPSR7dGhpcy5sYWJlbH0gLmFyaWFMaXZlPSR7dGhpcy5wbGF5aW5nID8gXCJvZmZcIiA6IFwicG9saXRlXCJ9IC5hcmlhUm9sZURlc2NyaXB0aW9uPSR7dGhpcy5tZXNzYWdlcy5jYXJvdXNlbH0gY2xhc3M9JHtzYWZlQ2xhc3NNYXAoe1xuICAgICAgW0NTUy5jb250YWluZXJdOiB0cnVlLFxuICAgICAgW0NTUy5jb250YWluZXJPdmVybGFpZF06IHRoaXMuY29udHJvbE92ZXJsYXksXG4gICAgICBbQ1NTLmNvbnRhaW5lckVkZ2VkXTogdGhpcy5hcnJvd1R5cGUgPT09IFwiZWRnZVwiXG4gICAgfSl9IEBmb2N1c2luPSR7dGhpcy5oYW5kbGVGb2N1c0lufSBAZm9jdXNvdXQ9JHt0aGlzLmhhbmRsZUZvY3VzT3V0fSBAa2V5ZG93bj0ke3RoaXMuY29udGFpbmVyS2V5RG93bkhhbmRsZXJ9IEBtb3VzZWVudGVyPSR7dGhpcy5oYW5kbGVNb3VzZUlufSBAbW91c2VsZWF2ZT0ke3RoaXMuaGFuZGxlTW91c2VPdXR9IHJvbGU9Z3JvdXAgdGFiaW5kZXg9MCAke3JlZih0aGlzLmNvbnRhaW5lclJlZil9PjxzZWN0aW9uIGNsYXNzPSR7c2FmZUNsYXNzTWFwKHtcbiAgICAgIFtDU1MuaXRlbUNvbnRhaW5lcl06IHRydWUsXG4gICAgICBbQ1NTLml0ZW1Db250YWluZXJGb3J3YXJkXTogZGlyZWN0aW9uID09PSBcImZvcndhcmRcIixcbiAgICAgIFtDU1MuaXRlbUNvbnRhaW5lckJhY2t3YXJkXTogZGlyZWN0aW9uID09PSBcImJhY2t3YXJkXCJcbiAgICB9KX0gaWQ9JHt0aGlzLmNvbnRhaW5lcklkID8/IG5vdGhpbmd9ICR7cmVmKHRoaXMuaXRlbUNvbnRhaW5lclJlZil9PjxzbG90IEBzbG90Y2hhbmdlPSR7dGhpcy5oYW5kbGVTbG90Q2hhbmdlfT48L3Nsb3Q+PC9zZWN0aW9uPiR7dGhpcy5pdGVtcy5sZW5ndGggPiAxICYmIHRoaXMucmVuZGVyUGFnaW5hdGlvbkFyZWEoKSB8fCBcIlwifSR7dGhpcy5hcnJvd1R5cGUgPT09IFwiZWRnZVwiICYmIHRoaXMucmVuZGVyQXJyb3coXCJwcmV2aW91c1wiKSB8fCBcIlwifSR7dGhpcy5hcnJvd1R5cGUgPT09IFwiZWRnZVwiICYmIHRoaXMucmVuZGVyQXJyb3coXCJuZXh0XCIpIHx8IFwiXCJ9PC9kaXY+YCB9KTtcbiAgfVxufVxuY3VzdG9tRWxlbWVudChcImNhbGNpdGUtY2Fyb3VzZWxcIiwgQ2Fyb3VzZWwpO1xuZXhwb3J0IHtcbiAgQ2Fyb3VzZWxcbn07XG4iLCJpbXBvcnQgXCIuLi9jYWxjaXRlLWljb24vaW5kZXguanNcIjtcbmltcG9ydCBcIi4uL2NhbGNpdGUtcHJvZ3Jlc3MvaW5kZXguanNcIjtcbmV4cG9ydCAqIGZyb20gXCIuL2N1c3RvbUVsZW1lbnQuanNcIjsiLCIvKiEgQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2dpdGh1Yi5jb20vRXNyaS9jYWxjaXRlLWRlc2lnbi1zeXN0ZW0vYmxvYi9kZXYvTElDRU5TRS5tZCBmb3IgZGV0YWlscy5cbnYzLjMuMyAqL1xuaW1wb3J0IHsgZyBhcyBnZXRBc3NldFBhdGgsIGMgYXMgY3VzdG9tRWxlbWVudCB9IGZyb20gXCIuLi8uLi9jaHVua3MvcnVudGltZS5qc1wiO1xuaW1wb3J0IHsgY3NzLCBpc1NlcnZlciwgbm90aGluZywgc3ZnLCBodG1sIH0gZnJvbSBcImxpdFwiO1xuaW1wb3J0IHsgTGl0RWxlbWVudCwgc2FmZUNsYXNzTWFwIH0gZnJvbSBcIkBhcmNnaXMvbHVtaW5hXCI7XG5pbXBvcnQgeyBnIGFzIGdldEVsZW1lbnREaXIsIHQgYXMgdG9BcmlhQm9vbGVhbiB9IGZyb20gXCIuLi8uLi9jaHVua3MvZG9tLmpzXCI7XG5pbXBvcnQgeyBjIGFzIGNyZWF0ZU9ic2VydmVyIH0gZnJvbSBcIi4uLy4uL2NodW5rcy9vYnNlcnZlcnMuanNcIjtcbmltcG9ydCB7IGwgYXMgbG9nZ2VyIH0gZnJvbSBcIi4uLy4uL2NodW5rcy9sb2dnZXIuanNcIjtcbmNvbnN0IENTUyA9IHtcbiAgZmxpcFJ0bDogXCJmbGlwLXJ0bFwiLFxuICBzdmc6IFwic3ZnXCJcbn07XG5jb25zdCBpY29uQ2FjaGUgPSB7fTtcbmNvbnN0IHJlcXVlc3RDYWNoZSA9IHt9O1xuY29uc3Qgc2NhbGVUb1B4ID0ge1xuICBzOiAxNixcbiAgbTogMjQsXG4gIGw6IDMyXG59O1xuZnVuY3Rpb24gZ2VuZXJhdGVJY29uSWQoeyBpY29uLCBzY2FsZSB9KSB7XG4gIGNvbnN0IHNpemUgPSBzY2FsZVRvUHhbc2NhbGVdO1xuICBjb25zdCBuYW1lID0gbm9ybWFsaXplSWNvbk5hbWUoaWNvbik7XG4gIGNvbnN0IGZpbGxlZCA9IG5hbWUuY2hhckF0KG5hbWUubGVuZ3RoIC0gMSkgPT09IFwiRlwiO1xuICBjb25zdCBpY29uTmFtZSA9IGZpbGxlZCA/IG5hbWUuc3Vic3RyaW5nKDAsIG5hbWUubGVuZ3RoIC0gMSkgOiBuYW1lO1xuICByZXR1cm4gYCR7aWNvbk5hbWV9JHtzaXplfSR7ZmlsbGVkID8gXCJGXCIgOiBcIlwifWA7XG59XG5hc3luYyBmdW5jdGlvbiBmZXRjaEljb24ocHJvcHMpIHtcbiAgY29uc3QgY2FjaGVkSWNvbktleSA9IGdlbmVyYXRlSWNvbklkKHByb3BzKTtcbiAgY29uc3QgY2FjaGVkSWNvbkRhdGEgPSBnZXRDYWNoZWRJY29uRGF0YUJ5S2V5KGNhY2hlZEljb25LZXkpO1xuICBpZiAoY2FjaGVkSWNvbkRhdGEpIHtcbiAgICByZXR1cm4gY2FjaGVkSWNvbkRhdGE7XG4gIH1cbiAgaWYgKCFyZXF1ZXN0Q2FjaGVbY2FjaGVkSWNvbktleV0pIHtcbiAgICByZXF1ZXN0Q2FjaGVbY2FjaGVkSWNvbktleV0gPSBmZXRjaChnZXRBc3NldFBhdGgoYC4vYXNzZXRzL2ljb24vJHtjYWNoZWRJY29uS2V5fS5qc29uYCkpLnRoZW4oKHJlc3ApID0+IHJlc3AuanNvbigpKS5jYXRjaCgoKSA9PiB7XG4gICAgICBsb2dnZXIuZXJyb3IoYCR7cHJvcHMuaWNvbn0gKCR7cHJvcHMuc2NhbGV9KSBpY29uIGZhaWxlZCB0byBsb2FkYCk7XG4gICAgICByZXR1cm4gXCJcIjtcbiAgICB9KTtcbiAgfVxuICBjb25zdCBwYXRoID0gYXdhaXQgcmVxdWVzdENhY2hlW2NhY2hlZEljb25LZXldO1xuICBpY29uQ2FjaGVbY2FjaGVkSWNvbktleV0gPSBwYXRoO1xuICByZXR1cm4gcGF0aDtcbn1cbmZ1bmN0aW9uIGdldENhY2hlZEljb25EYXRhKHByb3BzKSB7XG4gIHJldHVybiBnZXRDYWNoZWRJY29uRGF0YUJ5S2V5KGdlbmVyYXRlSWNvbklkKHByb3BzKSk7XG59XG5mdW5jdGlvbiBnZXRDYWNoZWRJY29uRGF0YUJ5S2V5KGlkKSB7XG4gIHJldHVybiBpY29uQ2FjaGVbaWRdO1xufVxuZnVuY3Rpb24gbm9ybWFsaXplSWNvbk5hbWUobmFtZSkge1xuICBjb25zdCBudW1iZXJMZWFkaW5nTmFtZSA9ICFpc05hTihOdW1iZXIobmFtZS5jaGFyQXQoMCkpKTtcbiAgY29uc3QgcGFydHMgPSBuYW1lLnNwbGl0KFwiLVwiKTtcbiAgY29uc3Qga2ViYWJDYXNlZCA9IHBhcnRzLmxlbmd0aCA+IDA7XG4gIGlmIChrZWJhYkNhc2VkKSB7XG4gICAgY29uc3QgZmlyc3ROb25EaWdpdEluUGFydFBhdHRlcm4gPSAvW2Etel0vaTtcbiAgICBuYW1lID0gcGFydHMubWFwKChwYXJ0LCBwYXJ0SW5kZXgpID0+IHtcbiAgICAgIHJldHVybiBwYXJ0LnJlcGxhY2UoZmlyc3ROb25EaWdpdEluUGFydFBhdHRlcm4sIGZ1bmN0aW9uIHJlcGxhY2VyKG1hdGNoLCBvZmZzZXQpIHtcbiAgICAgICAgY29uc3QgaXNGaXJzdENoYXJJbk5hbWUgPSBwYXJ0SW5kZXggPT09IDAgJiYgb2Zmc2V0ID09PSAwO1xuICAgICAgICBpZiAoaXNGaXJzdENoYXJJbk5hbWUpIHtcbiAgICAgICAgICByZXR1cm4gbWF0Y2g7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1hdGNoLnRvVXBwZXJDYXNlKCk7XG4gICAgICB9KTtcbiAgICB9KS5qb2luKFwiXCIpO1xuICB9XG4gIHJldHVybiBudW1iZXJMZWFkaW5nTmFtZSA/IGBpJHtuYW1lfWAgOiBuYW1lO1xufVxuY29uc3Qgc3R5bGVzID0gY3NzYDpob3N0ey0tY2FsY2l0ZS1pbnRlcm5hbC1jb2xvci1mb2N1czogdmFyKCAtLWNhbGNpdGUtY29sb3ItZm9jdXMsIHZhcigtLWNhbGNpdGUtdWktZm9jdXMtY29sb3IsIHZhcigtLWNhbGNpdGUtY29sb3ItYnJhbmQpKSApfTpob3N0e2Rpc3BsYXk6aW5saW5lLWZsZXg7Y29sb3I6dmFyKC0tY2FsY2l0ZS1pY29uLWNvbG9yLCB2YXIoLS1jYWxjaXRlLXVpLWljb24tY29sb3IsIGN1cnJlbnRDb2xvcikpfTpob3N0KFtzY2FsZT1zXSl7aW5saW5lLXNpemU6MTZweDtibG9jay1zaXplOjE2cHg7bWluLWlubGluZS1zaXplOjE2cHg7bWluLWJsb2NrLXNpemU6MTZweH06aG9zdChbc2NhbGU9bV0pe2lubGluZS1zaXplOjI0cHg7YmxvY2stc2l6ZToyNHB4O21pbi1pbmxpbmUtc2l6ZToyNHB4O21pbi1ibG9jay1zaXplOjI0cHh9Omhvc3QoW3NjYWxlPWxdKXtpbmxpbmUtc2l6ZTozMnB4O2Jsb2NrLXNpemU6MzJweDttaW4taW5saW5lLXNpemU6MzJweDttaW4tYmxvY2stc2l6ZTozMnB4fS5mbGlwLXJ0bHt0cmFuc2Zvcm06c2NhbGVYKC0xKX0uc3Zne2Rpc3BsYXk6YmxvY2t9Omhvc3QoW2hpZGRlbl0pe2Rpc3BsYXk6bm9uZX1baGlkZGVuXXtkaXNwbGF5Om5vbmV9YDtcbmNsYXNzIEljb24gZXh0ZW5kcyBMaXRFbGVtZW50IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICB0aGlzLnZpc2libGUgPSBmYWxzZTtcbiAgICB0aGlzLmZsaXBSdGwgPSBmYWxzZTtcbiAgICB0aGlzLmljb24gPSBudWxsO1xuICAgIHRoaXMucHJlbG9hZCA9IGZhbHNlO1xuICAgIHRoaXMuc2NhbGUgPSBcIm1cIjtcbiAgfVxuICBzdGF0aWMge1xuICAgIHRoaXMucHJvcGVydGllcyA9IHsgcGF0aERhdGE6IFsxNiwge30sIHsgc3RhdGU6IHRydWUgfV0sIHZpc2libGU6IFsxNiwge30sIHsgc3RhdGU6IHRydWUgfV0sIGZsaXBSdGw6IFs3LCB7fSwgeyByZWZsZWN0OiB0cnVlLCB0eXBlOiBCb29sZWFuIH1dLCBpY29uOiBbMywge30sIHsgcmVmbGVjdDogdHJ1ZSB9XSwgcHJlbG9hZDogWzcsIHt9LCB7IHJlZmxlY3Q6IHRydWUsIHR5cGU6IEJvb2xlYW4gfV0sIHNjYWxlOiBbMywge30sIHsgcmVmbGVjdDogdHJ1ZSB9XSwgdGV4dExhYmVsOiAxIH07XG4gIH1cbiAgc3RhdGljIHtcbiAgICB0aGlzLnN0eWxlcyA9IHN0eWxlcztcbiAgfVxuICBjb25uZWN0ZWRDYWxsYmFjaygpIHtcbiAgICBzdXBlci5jb25uZWN0ZWRDYWxsYmFjaygpO1xuICAgIGlmICh0aGlzLnByZWxvYWQpIHtcbiAgICAgIHRoaXMudmlzaWJsZSA9IHRydWU7XG4gICAgICB0aGlzLmxvYWRJY29uUGF0aERhdGEoKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKCF0aGlzLnZpc2libGUpIHtcbiAgICAgIHRoaXMud2FpdFVudGlsVmlzaWJsZSgoKSA9PiB7XG4gICAgICAgIHRoaXMudmlzaWJsZSA9IHRydWU7XG4gICAgICAgIHRoaXMubG9hZEljb25QYXRoRGF0YSgpO1xuICAgICAgfSk7XG4gICAgfVxuICB9XG4gIHdpbGxVcGRhdGUoY2hhbmdlcykge1xuICAgIGlmIChjaGFuZ2VzLmhhcyhcImljb25cIikgJiYgKHRoaXMuaGFzVXBkYXRlZCB8fCB0aGlzLmljb24gIT09IG51bGwpIHx8IGNoYW5nZXMuaGFzKFwic2NhbGVcIikgJiYgKHRoaXMuaGFzVXBkYXRlZCB8fCB0aGlzLnNjYWxlICE9PSBcIm1cIikpIHtcbiAgICAgIHRoaXMubG9hZEljb25QYXRoRGF0YSgpO1xuICAgIH1cbiAgfVxuICBkaXNjb25uZWN0ZWRDYWxsYmFjaygpIHtcbiAgICBzdXBlci5kaXNjb25uZWN0ZWRDYWxsYmFjaygpO1xuICAgIHRoaXMuaW50ZXJzZWN0aW9uT2JzZXJ2ZXI/LmRpc2Nvbm5lY3QoKTtcbiAgICB0aGlzLmludGVyc2VjdGlvbk9ic2VydmVyID0gbnVsbDtcbiAgfVxuICBhc3luYyBsb2FkSWNvblBhdGhEYXRhKCkge1xuICAgIGNvbnN0IHsgaWNvbiwgc2NhbGUsIHZpc2libGUgfSA9IHRoaXM7XG4gICAgaWYgKGlzU2VydmVyIHx8ICFpY29uIHx8ICF2aXNpYmxlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGZldGNoSWNvblByb3BzID0geyBpY29uLCBzY2FsZSB9O1xuICAgIGNvbnN0IHBhdGhEYXRhID0gZ2V0Q2FjaGVkSWNvbkRhdGEoZmV0Y2hJY29uUHJvcHMpIHx8IGF3YWl0IGZldGNoSWNvbihmZXRjaEljb25Qcm9wcyk7XG4gICAgaWYgKGljb24gIT09IHRoaXMuaWNvbikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLnBhdGhEYXRhID0gcGF0aERhdGE7XG4gIH1cbiAgd2FpdFVudGlsVmlzaWJsZShjYWxsYmFjaykge1xuICAgIHRoaXMuaW50ZXJzZWN0aW9uT2JzZXJ2ZXIgPSBjcmVhdGVPYnNlcnZlcihcImludGVyc2VjdGlvblwiLCAoZW50cmllcykgPT4ge1xuICAgICAgZW50cmllcy5mb3JFYWNoKChlbnRyeSkgPT4ge1xuICAgICAgICBpZiAoZW50cnkuaXNJbnRlcnNlY3RpbmcpIHtcbiAgICAgICAgICB0aGlzLmludGVyc2VjdGlvbk9ic2VydmVyLmRpc2Nvbm5lY3QoKTtcbiAgICAgICAgICB0aGlzLmludGVyc2VjdGlvbk9ic2VydmVyID0gbnVsbDtcbiAgICAgICAgICBjYWxsYmFjaygpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9LCB7IHJvb3RNYXJnaW46IFwiNTBweFwiIH0pO1xuICAgIGlmICghdGhpcy5pbnRlcnNlY3Rpb25PYnNlcnZlcikge1xuICAgICAgY2FsbGJhY2soKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5pbnRlcnNlY3Rpb25PYnNlcnZlci5vYnNlcnZlKHRoaXMuZWwpO1xuICB9XG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB7IGVsLCBmbGlwUnRsLCBwYXRoRGF0YSwgc2NhbGUsIHRleHRMYWJlbCB9ID0gdGhpcztcbiAgICBjb25zdCBkaXIgPSBnZXRFbGVtZW50RGlyKGVsKTtcbiAgICBjb25zdCBzaXplID0gc2NhbGVUb1B4W3NjYWxlXTtcbiAgICBjb25zdCBzZW1hbnRpYyA9ICEhdGV4dExhYmVsO1xuICAgIGNvbnN0IHBhdGhzID0gW10uY29uY2F0KHBhdGhEYXRhIHx8IFwiXCIpO1xuICAgIHRoaXMuZWwuYXJpYUhpZGRlbiA9IHRvQXJpYUJvb2xlYW4oIXNlbWFudGljKTtcbiAgICB0aGlzLmVsLmFyaWFMYWJlbCA9IHNlbWFudGljID8gdGV4dExhYmVsIDogbnVsbDtcbiAgICB0aGlzLmVsLnJvbGUgPSBzZW1hbnRpYyA/IFwiaW1nXCIgOiBudWxsO1xuICAgIHJldHVybiBodG1sYDxzdmcgYXJpYS1oaWRkZW49dHJ1ZSBjbGFzcz0ke3NhZmVDbGFzc01hcCh7XG4gICAgICBbQ1NTLmZsaXBSdGxdOiBkaXIgPT09IFwicnRsXCIgJiYgZmxpcFJ0bCxcbiAgICAgIFtDU1Muc3ZnXTogdHJ1ZVxuICAgIH0pfSBmaWxsPWN1cnJlbnRDb2xvciBoZWlnaHQ9MTAwJSB2aWV3Qm94PSR7YDAgMCAke3NpemV9ICR7c2l6ZX1gfSB3aWR0aD0xMDAlIHhtbG5zPWh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnPiR7cGF0aHMubWFwKChwYXRoKSA9PiB0eXBlb2YgcGF0aCA9PT0gXCJzdHJpbmdcIiA/IHN2Z2A8cGF0aCBkPSR7cGF0aCA/PyBub3RoaW5nfSAvPmAgOiBzdmdgPHBhdGggZD0ke3BhdGguZCA/PyBub3RoaW5nfSBvcGFjaXR5PSR7KFwib3BhY2l0eVwiIGluIHBhdGggPyBwYXRoLm9wYWNpdHkgOiAxKSA/PyBub3RoaW5nfSAvPmApfTwvc3ZnPmA7XG4gIH1cbn1cbmN1c3RvbUVsZW1lbnQoXCJjYWxjaXRlLWljb25cIiwgSWNvbik7XG5leHBvcnQge1xuICBJY29uXG59O1xuIiwiLyohIEFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9naXRodWIuY29tL0VzcmkvY2FsY2l0ZS1kZXNpZ24tc3lzdGVtL2Jsb2IvZGV2L0xJQ0VOU0UubWQgZm9yIGRldGFpbHMuXG52My4zLjMgKi9cbmltcG9ydCB7IEMgYXMgQ1NTX1VUSUxJVFksIGMgYXMgY3VzdG9tRWxlbWVudCB9IGZyb20gXCIuLi8uLi9jaHVua3MvcnVudGltZS5qc1wiO1xuaW1wb3J0IHsgY3NzLCBodG1sIH0gZnJvbSBcImxpdFwiO1xuaW1wb3J0IHsgTGl0RWxlbWVudCwgc2FmZUNsYXNzTWFwLCBzYWZlU3R5bGVNYXAgfSBmcm9tIFwiQGFyY2dpcy9sdW1pbmFcIjtcbmltcG9ydCB7IGcgYXMgZ2V0RWxlbWVudERpciB9IGZyb20gXCIuLi8uLi9jaHVua3MvZG9tLmpzXCI7XG5jb25zdCBzdHlsZXMgPSBjc3NgOmhvc3R7LS1jYWxjaXRlLWludGVybmFsLWNvbG9yLWZvY3VzOiB2YXIoIC0tY2FsY2l0ZS1jb2xvci1mb2N1cywgdmFyKC0tY2FsY2l0ZS11aS1mb2N1cy1jb2xvciwgdmFyKC0tY2FsY2l0ZS1jb2xvci1icmFuZCkpICl9Omhvc3R7cG9zaXRpb246cmVsYXRpdmU7ZGlzcGxheTpibG9jaztpbmxpbmUtc2l6ZToxMDAlfS50cmFjaywuYmFye3Bvc2l0aW9uOmFic29sdXRlO2luc2V0LWJsb2NrLXN0YXJ0OjBweDtibG9jay1zaXplOjJweH0udHJhY2t7ei1pbmRleDp2YXIoLS1jYWxjaXRlLXotaW5kZXgpO2lubGluZS1zaXplOjEwMCU7b3ZlcmZsb3c6aGlkZGVuO2JhY2tncm91bmQtY29sb3I6dmFyKC0tY2FsY2l0ZS1wcm9ncmVzcy1iYWNrZ3JvdW5kLWNvbG9yLCB2YXIoLS1jYWxjaXRlLWNvbG9yLWJvcmRlci0zKSl9LmJhcnt6LWluZGV4OnZhcigtLWNhbGNpdGUtei1pbmRleCk7YmFja2dyb3VuZC1jb2xvcjp2YXIoLS1jYWxjaXRlLXByb2dyZXNzLWZpbGwtY29sb3IsIHZhcigtLWNhbGNpdGUtY29sb3ItYnJhbmQpKX1AbWVkaWEgKGZvcmNlZC1jb2xvcnM6IGFjdGl2ZSl7LnRyYWNre2JhY2tncm91bmQtY29sb3I6aGlnaGxpZ2h0VGV4dH0uYmFye2JhY2tncm91bmQtY29sb3I6bGlua1RleHR9fS5pbmRldGVybWluYXRle2lubGluZS1zaXplOjIwJTthbmltYXRpb246bG9vcGluZy1wcm9ncmVzcy1iYXItYW5pIGNhbGModmFyKC0tY2FsY2l0ZS1pbnRlcm5hbC1hbmltYXRpb24tdGltaW5nLW1lZGl1bSkgLyB2YXIoLS1jYWxjaXRlLWludGVybmFsLWR1cmF0aW9uLWZhY3RvcikgKiAxMSAvIHZhcigtLWNhbGNpdGUtaW50ZXJuYWwtZHVyYXRpb24tZmFjdG9yKSkgbGluZWFyIGluZmluaXRlfS5pbmRldGVybWluYXRlLmNhbGNpdGUtLXJ0bHthbmltYXRpb24tbmFtZTpsb29waW5nLXByb2dyZXNzLWJhci1hbmktcnRsfS5yZXZlcnNlZHthbmltYXRpb24tZGlyZWN0aW9uOnJldmVyc2V9LnRleHR7cGFkZGluZy1pbmxpbmU6MHB4O3BhZGRpbmctYmxvY2s6MXJlbSAwcHg7dGV4dC1hbGlnbjpjZW50ZXI7Zm9udC1zaXplOnZhcigtLWNhbGNpdGUtZm9udC1zaXplLS0yKTtsaW5lLWhlaWdodDoxcmVtO2ZvbnQtd2VpZ2h0OnZhcigtLWNhbGNpdGUtZm9udC13ZWlnaHQtbWVkaXVtKTtjb2xvcjp2YXIoLS1jYWxjaXRlLXByb2dyZXNzLXRleHQtY29sb3IsIHZhcigtLWNhbGNpdGUtY29sb3ItdGV4dC0yKSl9QGtleWZyYW1lcyBsb29waW5nLXByb2dyZXNzLWJhci1hbml7MCV7dHJhbnNmb3JtOnRyYW5zbGF0ZTNkKC0xMDAlLDAsMCl9NTAle2lubGluZS1zaXplOjQwJX10b3t0cmFuc2Zvcm06dHJhbnNsYXRlM2QoNjAwJSwwLDApfX1Aa2V5ZnJhbWVzIGxvb3BpbmctcHJvZ3Jlc3MtYmFyLWFuaS1ydGx7MCV7dHJhbnNmb3JtOnRyYW5zbGF0ZTNkKDEwMCUsMCwwKX01MCV7aW5saW5lLXNpemU6NDAlfXRve3RyYW5zZm9ybTp0cmFuc2xhdGUzZCgtNjAwJSwwLDApfX06aG9zdChbaGlkZGVuXSl7ZGlzcGxheTpub25lfVtoaWRkZW5de2Rpc3BsYXk6bm9uZX1gO1xuY29uc3QgQ1NTID0ge1xuICB0cmFjazogXCJ0cmFja1wiLFxuICBiYXI6IFwiYmFyXCIsXG4gIHRleHQ6IFwidGV4dFwiXG59O1xuY2xhc3MgUHJvZ3Jlc3MgZXh0ZW5kcyBMaXRFbGVtZW50IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICB0aGlzLnJldmVyc2VkID0gZmFsc2U7XG4gICAgdGhpcy50eXBlID0gXCJkZXRlcm1pbmF0ZVwiO1xuICAgIHRoaXMudmFsdWUgPSAwO1xuICB9XG4gIHN0YXRpYyB7XG4gICAgdGhpcy5wcm9wZXJ0aWVzID0geyBsYWJlbDogMSwgcmV2ZXJzZWQ6IFs3LCB7fSwgeyByZWZsZWN0OiB0cnVlLCB0eXBlOiBCb29sZWFuIH1dLCB0ZXh0OiAxLCB0eXBlOiBbMywge30sIHsgcmVmbGVjdDogdHJ1ZSB9XSwgdmFsdWU6IFs5LCB7fSwgeyB0eXBlOiBOdW1iZXIgfV0gfTtcbiAgfVxuICBzdGF0aWMge1xuICAgIHRoaXMuc3R5bGVzID0gc3R5bGVzO1xuICB9XG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCBpc0RldGVybWluYXRlID0gdGhpcy50eXBlID09PSBcImRldGVybWluYXRlXCI7XG4gICAgY29uc3QgYmFyU3R5bGVzID0gaXNEZXRlcm1pbmF0ZSA/IHsgd2lkdGg6IGAke3RoaXMudmFsdWV9JWAgfSA6IHt9O1xuICAgIGNvbnN0IGRpciA9IGdldEVsZW1lbnREaXIodGhpcy5lbCk7XG4gICAgcmV0dXJuIGh0bWxgPGRpdiAuYXJpYUxhYmVsPSR7dGhpcy5sYWJlbCB8fCB0aGlzLnRleHR9IC5hcmlhVmFsdWVNYXg9JHtpc0RldGVybWluYXRlID8gXCIxMDBcIiA6IHZvaWQgMH0gLmFyaWFWYWx1ZU1pbj0ke2lzRGV0ZXJtaW5hdGUgPyBcIjBcIiA6IHZvaWQgMH0gLmFyaWFWYWx1ZU5vdz0ke2lzRGV0ZXJtaW5hdGUgPyB0aGlzLnZhbHVlIDogdm9pZCAwfSByb2xlPXByb2dyZXNzYmFyPjxkaXYgY2xhc3M9JHtzYWZlQ2xhc3NNYXAoQ1NTLnRyYWNrKX0+PGRpdiBjbGFzcz0ke3NhZmVDbGFzc01hcCh7XG4gICAgICBbQ1NTLmJhcl06IHRydWUsXG4gICAgICBpbmRldGVybWluYXRlOiB0aGlzLnR5cGUgPT09IFwiaW5kZXRlcm1pbmF0ZVwiLFxuICAgICAgW0NTU19VVElMSVRZLnJ0bF06IGRpciA9PT0gXCJydGxcIixcbiAgICAgIHJldmVyc2VkOiB0aGlzLnJldmVyc2VkXG4gICAgfSl9IHN0eWxlPSR7c2FmZVN0eWxlTWFwKGJhclN0eWxlcyl9PjwvZGl2PjwvZGl2PiR7dGhpcy50ZXh0ID8gaHRtbGA8ZGl2IGNsYXNzPSR7c2FmZUNsYXNzTWFwKENTUy50ZXh0KX0+JHt0aGlzLnRleHR9PC9kaXY+YCA6IG51bGx9PC9kaXY+YDtcbiAgfVxufVxuY3VzdG9tRWxlbWVudChcImNhbGNpdGUtcHJvZ3Jlc3NcIiwgUHJvZ3Jlc3MpO1xuZXhwb3J0IHtcbiAgUHJvZ3Jlc3Ncbn07XG4iLCJleHBvcnQgKiBmcm9tIFwiLi9jdXN0b21FbGVtZW50LmpzXCI7Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9