export const __webpack_id__ = "vendors-node_modules_arcgis_core_views_3d_layers_i3s_I3SBinaryReader_js";
export const __webpack_ids__ = ["vendors-node_modules_arcgis_core_views_3d_layers_i3s_I3SBinaryReader_js"];
export const __webpack_modules__ = {

/***/ "./node_modules/@arcgis/core/geometry/support/UCharArray.js":
/*!******************************************************************!*\
  !*** ./node_modules/@arcgis/core/geometry/support/UCharArray.js ***!
  \******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   compactUCharArray: () => (/* binding */ t)
/* harmony export */ });
/* harmony import */ var _core_typedArrayUtil_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../core/typedArrayUtil.js */ "./node_modules/@arcgis/core/core/typedArrayUtil.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
function t(t){return Array.isArray(t)?t.length<_core_typedArrayUtil_js__WEBPACK_IMPORTED_MODULE_0__.nativeArrayMaxSize?t:new Uint8Array(t):t.length<_core_typedArrayUtil_js__WEBPACK_IMPORTED_MODULE_0__.nativeArrayMaxSize?Array.from(t):t}


/***/ }),

/***/ "./node_modules/@arcgis/core/geometry/support/UShortArray.js":
/*!*******************************************************************!*\
  !*** ./node_modules/@arcgis/core/geometry/support/UShortArray.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   compactUShortArray: () => (/* binding */ t)
/* harmony export */ });
/* harmony import */ var _core_typedArrayUtil_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../core/typedArrayUtil.js */ "./node_modules/@arcgis/core/core/typedArrayUtil.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
function t(t){return Array.isArray(t)?t.length<_core_typedArrayUtil_js__WEBPACK_IMPORTED_MODULE_0__.nativeArrayMaxSize?t:new Uint16Array(t):t.length<_core_typedArrayUtil_js__WEBPACK_IMPORTED_MODULE_0__.nativeArrayMaxSize?Array.from(t):t}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/i3s/I3SBinaryReader.js":
/*!**************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/i3s/I3SBinaryReader.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   createAttributeDataIndex: () => (/* binding */ h),
/* harmony export */   createGeometryDescriptor: () => (/* binding */ E),
/* harmony export */   createGeometryDescriptorForDraco: () => (/* binding */ S),
/* harmony export */   createGeometryDescriptorFromDefinition: () => (/* binding */ O),
/* harmony export */   createGeometryDescriptorFromSchema: () => (/* binding */ T),
/* harmony export */   createGeometryIndexFromSchema: () => (/* binding */ U),
/* harmony export */   createRawView: () => (/* binding */ I),
/* harmony export */   createTypedView: () => (/* binding */ w),
/* harmony export */   getBytesPerValue: () => (/* binding */ B),
/* harmony export */   getCachedAttributeValue: () => (/* binding */ C),
/* harmony export */   isValueType: () => (/* binding */ R),
/* harmony export */   readBinaryAttribute: () => (/* binding */ D),
/* harmony export */   readDateStringArray: () => (/* binding */ p),
/* harmony export */   readHeader: () => (/* binding */ g),
/* harmony export */   readStringArray: () => (/* binding */ m),
/* harmony export */   valueType2ArrayBufferReader: () => (/* binding */ F),
/* harmony export */   valueType2TypedArrayClassMap: () => (/* binding */ j)
/* harmony export */ });
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_lang_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/lang.js */ "./node_modules/@arcgis/core/core/lang.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_typedArrayUtil_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../core/typedArrayUtil.js */ "./node_modules/@arcgis/core/core/typedArrayUtil.js");
/* harmony import */ var _geometry_support_UCharArray_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../geometry/support/UCharArray.js */ "./node_modules/@arcgis/core/geometry/support/UCharArray.js");
/* harmony import */ var _geometry_support_UShortArray_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../geometry/support/UShortArray.js */ "./node_modules/@arcgis/core/geometry/support/UShortArray.js");
/* harmony import */ var _LEPCC_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./LEPCC.js */ "./node_modules/@arcgis/core/views/3d/layers/i3s/LEPCC.js");
/* harmony import */ var _webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../webgl-engine/lib/VertexAttribute.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/VertexAttribute.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
const b=()=>_core_Logger_js__WEBPACK_IMPORTED_MODULE_2__["default"].getLogger("esri.views.3d.layers.i3s.I3SBinaryReader");function y(t,n,r){let o="",i=0;for(;i<r;){const u=t[n+i];if(u<128)o+=String.fromCharCode(u),i++;else if(u>=192&&u<224){if(i+1>=r)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("utf8-decode-error","UTF-8 Decode failed. Two byte character was truncated.");const a=(31&u)<<6|63&t[n+i+1];o+=String.fromCharCode(a),i+=2}else if(u>=224&&u<240){if(i+2>=r)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("utf8-decode-error","UTF-8 Decode failed. Multi byte character was truncated.");const a=(15&u)<<12|(63&t[n+i+1])<<6|63&t[n+i+2];o+=String.fromCharCode(a),i+=3}else{if(!(u>=240&&u<248))throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("utf8-decode-error","UTF-8 Decode failed. Invalid multi byte sequence.");{if(i+3>=r)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("utf8-decode-error","UTF-8 Decode failed. Multi byte character was truncated.");const a=(7&u)<<18|(63&t[n+i+1])<<12|(63&t[n+i+2])<<6|63&t[n+i+3];if(a>=65536){const e=55296+(a-65536>>10),t=56320+(1023&a);o+=String.fromCharCode(e,t)}else o+=String.fromCharCode(a);i+=4}}}return o}function g(e,t){const n={byteOffset:0,byteCount:0,fields:Object.create(null)};let r=0;for(let o=0;o<t.length;o++){const i=t[o],u=i.valueType||i.type,a=F[u];n.fields[i.property]=a(e,r),r+=j[u].BYTES_PER_ELEMENT}return n.byteCount=r,n}function p(e,t,n){return m(e,t,n).map((e=>{const t=e?Date.parse(e):null;return null==t||Number.isNaN(t)?null:t}))}function m(t,n,r){const o=[];let i,u,a=0;for(u=0;u<t;u+=1){if(i=n[u],i>0){if(o.push(y(r,a,i-1)),0!==r[a+i-1])throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("string-array-error","Invalid string array: missing null termination.")}else o.push(null);a+=i}return o}function w(e,t){return new(0,j[t.valueType])(e,t.byteOffset,t.count*t.valuesPerElement)}function v(e,t){const n=w(e,t);if(n.length>=_core_typedArrayUtil_js__WEBPACK_IMPORTED_MODULE_3__.nativeArrayMaxSize)return n;const r=new Array;return n.forEach(((e,t)=>r.push(C(n,t)))),r}function C(e,t){if(!e)return null;const n=e[t];if((0,_core_typedArrayUtil_js__WEBPACK_IMPORTED_MODULE_3__.isInt16Array)(e))return n===_core_typedArrayUtil_js__WEBPACK_IMPORTED_MODULE_3__.minInt16?null:n;if((0,_core_typedArrayUtil_js__WEBPACK_IMPORTED_MODULE_3__.isInt32Array)(e))return n===_core_typedArrayUtil_js__WEBPACK_IMPORTED_MODULE_3__.minInt32?null:n;return n!=n?null:n}function I(e,t){return new Uint8Array(e,t.byteOffset,t.byteCount)}function h(n,r,o){const i=null!=r.header?g(n,r.header):{byteOffset:0,byteCount:0,fields:{count:o}},u={header:i,byteOffset:i.byteCount,byteCount:0,entries:Object.create(null)};let a=i.byteCount;for(let s=0;s<r.ordering.length;s++){const n=r.ordering[s],o=(0,_core_lang_js__WEBPACK_IMPORTED_MODULE_1__.clone)(r[n]);if(o.count=i.fields.count??0,"String"===o.valueType){if(o.byteOffset=a,o.byteCount=i.fields[n+"ByteCount"],"UTF-8"!==o.encoding)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("unsupported-encoding","Unsupported String encoding.",{encoding:o.encoding});if(o.timeEncoding&&"ECMA_ISO8601"!==o.timeEncoding)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("unsupported-time-encoding","Unsupported time encoding.",{timeEncoding:o.timeEncoding})}else{if(!R(o.valueType))throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("unsupported-value-type","Unsupported binary valueType",{valueType:o.valueType});{const e=B(o.valueType);a+=a%e!==0?e-a%e:0,o.byteOffset=a,o.byteCount=e*o.valuesPerElement*o.count}}a+=o.byteCount??0,u.entries[n]=o}return u.byteCount=a-u.byteOffset,u}function A(t,n,r){if(n!==t&&b().error(`Invalid ${r} buffer size\n expected: ${t}, actual: ${n})`),n<t)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("buffer-too-small","Binary buffer is too small",{expectedSize:t,actualSize:n})}function O(e){return{isDraco:!1,isLegacy:!1,color:null!=e.color,normal:null!=e.normal,uv0:null!=e.uv0,uvRegion:null!=e.uvRegion,featureIndex:null!=e.faceRange&&null!=e.featureId}}function U(e,t){const n=g(e,t&&t.header);let r=n.byteCount;const o={isDraco:!1,header:n,byteOffset:n.byteCount,byteCount:0,vertexAttributes:{}},i=n.fields,u=null!=i.vertexCount?i.vertexCount:i.count;for(const c of t.ordering){if(!t.vertexAttributes[c])continue;const e={...t.vertexAttributes[c],byteOffset:r,count:u},n=x[c]||"_"+c;o.vertexAttributes[n]=e,r+=B(e.valueType)*e.valuesPerElement*u}const a=i.faceCount;if(t.faces&&a){o.faces={};for(const e of t.ordering){if(!t.faces[e])continue;const n={...t.faces[e],byteOffset:r,count:a};o.faces[e]=n,r+=B(n.valueType)*n.valuesPerElement*a}}const s=i.featureCount;if(t.featureAttributes&&t.featureAttributeOrder&&s){o.featureAttributes={};for(const e of t.featureAttributeOrder){if(!t.featureAttributes[e])continue;const n={...t.featureAttributes[e],byteOffset:r,count:s};o.featureAttributes[e]=n;r+=("UInt64"===n.valueType?8:B(n.valueType))*n.valuesPerElement*s}}return A(r,e.byteLength,"geometry"),o.byteCount=r-o.byteOffset,o}function E(e,t){return!(!e||!e.compressedAttributes||"draco"!==e.compressedAttributes.encoding)?S(e.compressedAttributes.attributes):e?O(e):T(t)}function T(e){const t={isDraco:!1,isLegacy:!0,color:!1,normal:!1,uv0:!1,uvRegion:!1,featureIndex:!1};for(const n of e.ordering)if(e.vertexAttributes[n])switch(n){case"position":break;case"normal":t.normal=!0;break;case"color":t.color=!0;break;case"uv0":t.uv0=!0;break;case"region":t.uvRegion=!0}return e.featureAttributes&&e.featureAttributeOrder&&(t.featureIndex=!0),t}function S(e){const t={isDraco:!0,isLegacy:!1,color:!1,normal:!1,uv0:!1,uvRegion:!1,featureIndex:!1};for(const n of e)switch(n){case"position":break;case"normal":t.normal=!0;break;case"uv0":t.uv0=!0;break;case"color":t.color=!0;break;case"uv-region":t.uvRegion=!0;break;case"feature-index":t.featureIndex=!0}return t}const x={position:_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_7__.VertexAttribute.POSITION,normal:_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_7__.VertexAttribute.NORMAL,color:_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_7__.VertexAttribute.COLOR,uv0:_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_7__.VertexAttribute.UV0,region:_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_7__.VertexAttribute.UVREGION};function D(t,n,r,o=!1){if("lepcc-rgb"===t.encoding)return o?(0,_LEPCC_js__WEBPACK_IMPORTED_MODULE_6__.decodeRGB)(n):(0,_geometry_support_UCharArray_js__WEBPACK_IMPORTED_MODULE_4__.compactUCharArray)((0,_LEPCC_js__WEBPACK_IMPORTED_MODULE_6__.decodeRGB)(n));if("lepcc-intensity"===t.encoding)return o?(0,_LEPCC_js__WEBPACK_IMPORTED_MODULE_6__.decodeIntensity)(n):(0,_geometry_support_UShortArray_js__WEBPACK_IMPORTED_MODULE_5__.compactUShortArray)((0,_LEPCC_js__WEBPACK_IMPORTED_MODULE_6__.decodeIntensity)(n));if(null!=t.encoding&&""!==t.encoding)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("unknown-attribute-storage-info-encoding","Unknown Attribute Storage Info Encoding");t["attributeByteCounts "]&&!t.attributeByteCounts&&(b().warn("Warning: Trailing space in 'attributeByteCounts '."),t.attributeByteCounts=t["attributeByteCounts "]),"ObjectIds"===t.ordering[0]&&t.hasOwnProperty("objectIds")&&(b().warn("Warning: Case error in objectIds"),t.ordering[0]="objectIds");const i=h(n,t,r);A(i.byteOffset+i.byteCount,n.byteLength,"attribute");const u=i.entries.attributeValues||i.entries.objectIds;if(u){if("String"===u.valueType){const e=i.entries.attributeByteCounts,t=w(n,e),r=I(n,u);return u.timeEncoding?p(e.count,t,r):m(e.count,t,r)}return o?w(n,u):v(n,u)}throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("bad-attribute-storage-info","Bad attributeStorageInfo specification.")}const j={Float32:Float32Array,Float64:Float64Array,UInt8:Uint8Array,Int8:Int8Array,UInt16:Uint16Array,Int16:Int16Array,UInt32:Uint32Array,Int32:Int32Array},F={Float32:(e,t)=>new DataView(e,0).getFloat32(t,!0),Float64:(e,t)=>new DataView(e,0).getFloat64(t,!0),UInt8:(e,t)=>new DataView(e,0).getUint8(t),Int8:(e,t)=>new DataView(e,0).getInt8(t),UInt16:(e,t)=>new DataView(e,0).getUint16(t,!0),Int16:(e,t)=>new DataView(e,0).getInt16(t,!0),UInt32:(e,t)=>new DataView(e,0).getUint32(t,!0),Int32:(e,t)=>new DataView(e,0).getInt32(t,!0)};function R(e){return j.hasOwnProperty(e)}function B(e){return R(e)?j[e].BYTES_PER_ELEMENT:0}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/i3s/LEPCC.js":
/*!****************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/i3s/LEPCC.js ***!
  \****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   decodeIntensity: () => (/* binding */ w),
/* harmony export */   decodeRGB: () => (/* binding */ u),
/* harmony export */   decodeXYZ: () => (/* binding */ c)
/* harmony export */ });
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
const t=!0,o={identifierOffset:0,identifierLength:10,versionOffset:10,checksumOffset:12,byteCount:16};function r(e,r,n){return{identifier:String.fromCharCode.apply(null,new Uint8Array(e,n+o.identifierOffset,o.identifierLength)),version:r.getUint16(n+o.versionOffset,t),checksum:r.getUint32(n+o.checksumOffset,t)}}const n={sizeLo:0,sizeHi:4,minX:8,minY:16,minZ:24,maxX:32,maxY:40,maxZ:48,errorX:56,errorY:64,errorZ:72,count:80,reserved:84,byteCount:88};function i(e,o){return{sizeLo:e.getUint32(o+n.sizeLo,t),sizeHi:e.getUint32(o+n.sizeHi,t),minX:e.getFloat64(o+n.minX,t),minY:e.getFloat64(o+n.minY,t),minZ:e.getFloat64(o+n.minZ,t),maxX:e.getFloat64(o+n.maxX,t),maxY:e.getFloat64(o+n.maxY,t),maxZ:e.getFloat64(o+n.maxZ,t),errorX:e.getFloat64(o+n.errorX,t),errorY:e.getFloat64(o+n.errorY,t),errorZ:e.getFloat64(o+n.errorZ,t),count:e.getUint32(o+n.count,t),reserved:e.getUint32(o+n.reserved,t)}}function c(t){const c=new DataView(t,0);let d=0;const{identifier:l,version:a}=r(t,c,d);if(d+=o.byteCount,"LEPCC     "!==l)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("lepcc-decode-error","Bad identifier");if(a>1)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("lepcc-decode-error","Unknown version");const u=i(c,d);d+=n.byteCount;if(u.sizeHi*2**32+u.sizeLo!==t.byteLength)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("lepcc-decode-error","Bad size");const f=new Float64Array(3*u.count),h=[],w=[],g=[],p=[];if(d=s(t,d,h),d=s(t,d,w),d=s(t,d,g),d=s(t,d,p),d!==t.byteLength)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("lepcc-decode-error","Bad length");let m=0,U=0;for(let e=0;e<h.length;e++){U+=h[e];let t=0;for(let o=0;o<w[e];o++){t+=g[m];const e=p[m];f[3*m]=Math.min(u.maxX,u.minX+2*u.errorX*t),f[3*m+1]=Math.min(u.maxY,u.minY+2*u.errorY*U),f[3*m+2]=Math.min(u.maxZ,u.minZ+2*u.errorZ*e),m++}}return{errorX:u.errorX,errorY:u.errorY,errorZ:u.errorZ,result:f}}function s(e,t,o){const r=[];t=d(e,t,r);const n=[];for(let i=0;i<r.length;i++){n.length=0,t=d(e,t,n);for(let e=0;e<n.length;e++)o.push(n[e]+r[i])}return t}function d(o,r,n){const i=new DataView(o,r),c=i.getUint8(0),s=31&c,d=!!(32&c),l=(192&c)>>6;let a=0;if(0===l)a=i.getUint32(1,t),r+=5;else if(1===l)a=i.getUint16(1,t),r+=3;else{if(2!==l)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("lepcc-decode-error","Bad count type");a=i.getUint8(1),r+=2}if(d)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("lepcc-decode-error","LUT not implemented");const u=Math.ceil(a*s/8),f=new Uint8Array(o,r,u);let h=0,w=0,g=0;const p=-1>>>32-s;for(let e=0;e<a;e++){for(;w<s;)h|=f[g]<<w,w+=8,g+=1;n[e]=h&p,h>>>=s,w-=s,w+s>32&&(h|=f[g-1]>>8-w)}return r+g}const l={sizeLo:0,sizeHi:4,count:8,colorMapCount:12,lookupMethod:14,compressionMethod:15,byteCount:16};function a(e,o){return{sizeLo:e.getUint32(o+l.sizeLo,t),sizeHi:e.getUint32(o+l.sizeHi,t),count:e.getUint32(o+l.count,t),colorMapCount:e.getUint16(o+l.colorMapCount,t),lookupMethod:e.getUint8(o+l.lookupMethod),compressionMethod:e.getUint8(o+l.compressionMethod)}}function u(t){const n=new DataView(t,0);let i=0;const{identifier:c,version:s}=r(t,n,i);if(i+=o.byteCount,"ClusterRGB"!==c)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("lepcc-decode-error","Bad identifier");if(s>1)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("lepcc-decode-error","Unknown version");const d=a(n,i);i+=l.byteCount;if(d.sizeHi*2**32+d.sizeLo!==t.byteLength)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("lepcc-decode-error","Bad size");if((2===d.lookupMethod||1===d.lookupMethod)&&0===d.compressionMethod){if(3*d.colorMapCount+d.count+i!==t.byteLength||d.colorMapCount>256)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("lepcc-decode-error","Bad count");const o=new Uint8Array(t,i,3*d.colorMapCount),r=new Uint8Array(t,i+3*d.colorMapCount,d.count),n=new Uint8Array(3*d.count);for(let e=0;e<d.count;e++){const t=r[e];n[3*e]=o[3*t],n[3*e+1]=o[3*t+1],n[3*e+2]=o[3*t+2]}return n}if(0===d.lookupMethod&&0===d.compressionMethod){if(3*d.count+i!==t.byteLength||0!==d.colorMapCount)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("lepcc-decode-error","Bad count");return new Uint8Array(t,i).slice()}if(d.lookupMethod<=2&&1===d.compressionMethod){if(i+3!==t.byteLength||1!==d.colorMapCount)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("lepcc-decode-error","Bad count");const o=n.getUint8(i),r=n.getUint8(i+1),c=n.getUint8(i+2),s=new Uint8Array(3*d.count);for(let e=0;e<d.count;e++)s[3*e]=o,s[3*e+1]=r,s[3*e+2]=c;return s}throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("lepcc-decode-error","Bad method "+d.lookupMethod+","+d.compressionMethod)}const f={sizeLo:0,sizeHi:4,count:8,scaleFactor:12,bitsPerPoint:14,reserved:15,byteCount:16};function h(e,o){return{sizeLo:e.getUint32(o+f.sizeLo,t),sizeHi:e.getUint32(o+f.sizeHi,t),count:e.getUint32(o+f.count,t),scaleFactor:e.getUint16(o+f.scaleFactor,t),bitsPerPoint:e.getUint8(o+f.bitsPerPoint),reserved:e.getUint8(o+f.reserved)}}function w(t){const n=new DataView(t,0);let i=0;const{identifier:c,version:s}=r(t,n,i);if(i+=o.byteCount,"Intensity "!==c)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("lepcc-decode-error","Bad identifier");if(s>1)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("lepcc-decode-error","Unknown version");const l=h(n,i);i+=f.byteCount;if(l.sizeHi*2**32+l.sizeLo!==t.byteLength)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("lepcc-decode-error","Bad size");const a=new Uint16Array(l.count);if(8===l.bitsPerPoint){if(l.count+i!==t.byteLength)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("lepcc-decode-error","Bad size");const o=new Uint8Array(t,i,l.count);for(let e=0;e<l.count;e++)a[e]=o[e]*l.scaleFactor}else if(16===l.bitsPerPoint){if(2*l.count+i!==t.byteLength)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("lepcc-decode-error","Bad size");const o=new Uint16Array(t,i,l.count);for(let e=0;e<l.count;e++)a[e]=o[e]*l.scaleFactor}else{const o=[];if(d(t,i,o)!==t.byteLength)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("lepcc-decode-error","Bad size");for(let e=0;e<l.count;e++)a[e]=o[e]*l.scaleFactor}return a}


/***/ })

};

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmVuZG9ycy1ub2RlX21vZHVsZXNfYXJjZ2lzX2NvcmVfdmlld3NfM2RfbGF5ZXJzX2kzc19JM1NCaW5hcnlSZWFkZXJfanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDa0UsY0FBYyxpQ0FBaUMsdUVBQUMsOEJBQThCLHVFQUFDLGlCQUFnRDs7Ozs7Ozs7Ozs7Ozs7OztBQ0pqTTtBQUNBO0FBQ0E7QUFDQTtBQUNrRSxjQUFjLGlDQUFpQyx1RUFBQywrQkFBK0IsdUVBQUMsaUJBQWlEOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNKbk07QUFDQTtBQUNBO0FBQ0E7QUFDb2pCLFlBQVksdURBQUMsdURBQXVELGtCQUFrQixhQUFhLEtBQUssSUFBSSxFQUFFLGVBQWUsdUNBQXVDLHVCQUF1QixvQkFBb0Isc0RBQUMsK0VBQStFLDhCQUE4QiwrQkFBK0IsdUJBQXVCLG9CQUFvQixzREFBQyxpRkFBaUYsZ0RBQWdELCtCQUErQixLQUFLLDhCQUE4QixzREFBQywyRUFBMkUsb0JBQW9CLHNEQUFDLGlGQUFpRixpRUFBaUUsYUFBYSw2Q0FBNkMsNEJBQTRCLCtCQUErQixPQUFPLFNBQVMsZ0JBQWdCLFNBQVMscURBQXFELFFBQVEsWUFBWSxXQUFXLEtBQUssMENBQTBDLHNEQUFzRCx1QkFBdUIsa0JBQWtCLHlCQUF5Qiw2QkFBNkIsdUNBQXVDLEdBQUcsa0JBQWtCLFdBQVcsWUFBWSxRQUFRLElBQUksTUFBTSxlQUFlLDZDQUE2QyxzREFBQyx5RUFBeUUsa0JBQWtCLEtBQUssU0FBUyxnQkFBZ0Isd0VBQXdFLGdCQUFnQixlQUFlLGFBQWEsdUVBQUMsVUFBVSxrQkFBa0IsNENBQTRDLGdCQUFnQixrQkFBa0IsYUFBYSxHQUFHLHFFQUFDLGVBQWUsNkRBQUMsUUFBUSxHQUFHLHFFQUFDLGVBQWUsNkRBQUMsUUFBUSxtQkFBbUIsZ0JBQWdCLGtEQUFrRCxrQkFBa0Isc0NBQXNDLGlDQUFpQyxTQUFTLElBQUkseUVBQXlFLGtCQUFrQixZQUFZLG9CQUFvQixLQUFLLHdCQUF3QixvREFBQyxPQUFPLHFEQUFxRCxxRkFBcUYsc0RBQUMsd0RBQXdELG9CQUFvQixFQUFFLDZEQUE2RCxzREFBQywyREFBMkQsNEJBQTRCLEVBQUUsS0FBSyw2QkFBNkIsc0RBQUMsMERBQTBELHNCQUFzQixHQUFHLHVCQUF1Qiw0RUFBNEUsaUNBQWlDLG9DQUFvQyxrQkFBa0IsK0JBQStCLEdBQUcsMEJBQTBCLEVBQUUsWUFBWSxFQUFFLGtCQUFrQixzREFBQyxrREFBa0QsNEJBQTRCLEVBQUUsY0FBYyxPQUFPLDhKQUE4SixnQkFBZ0IseUJBQXlCLGtCQUFrQixTQUFTLDJFQUEyRSx3REFBd0QsMkJBQTJCLG1DQUFtQyxTQUFTLDhDQUE4QyxlQUFlLCtEQUErRCxvQkFBb0IsZUFBZSxXQUFXLDJCQUEyQix3QkFBd0IsU0FBUyxvQ0FBb0MscURBQXFELHVCQUF1QixvREFBb0QsdUJBQXVCLHdDQUF3QyxvQ0FBb0MsU0FBUyxnREFBZ0QseUJBQXlCLG1FQUFtRSxpRUFBaUUsZ0JBQWdCLGlJQUFpSSxjQUFjLFNBQVMsOEVBQThFLDZEQUE2RCxxQkFBcUIseUJBQXlCLE1BQU0sdUJBQXVCLE1BQU0sbUJBQW1CLE1BQU0sMkJBQTJCLDJFQUEyRSxjQUFjLFNBQVMsOEVBQThFLDJCQUEyQixxQkFBcUIseUJBQXlCLE1BQU0sbUJBQW1CLE1BQU0sdUJBQXVCLE1BQU0sOEJBQThCLE1BQU0sc0NBQXNDLFNBQVMsU0FBUyxTQUFTLGlGQUFDLGlCQUFpQixpRkFBQyxjQUFjLGlGQUFDLFdBQVcsaUZBQUMsWUFBWSxpRkFBQyxXQUFXLHVCQUF1QixxQ0FBcUMsb0RBQUMsSUFBSSxrRkFBQyxDQUFDLG9EQUFDLEtBQUssMkNBQTJDLDBEQUFDLElBQUksb0ZBQUMsQ0FBQywwREFBQyxLQUFLLCtDQUErQyxzREFBQyxzRkFBc0YseVNBQXlTLGlCQUFpQixxREFBcUQsdURBQXVELE1BQU0sMkJBQTJCLHdEQUF3RCxvREFBb0QsdUJBQXVCLFVBQVUsc0RBQUMseUVBQXlFLFNBQVMsa0pBQWtKLElBQUkscVhBQXFYLGNBQWMsMkJBQTJCLGNBQWMscUNBQTRnQjs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDSnppUDtBQUNBO0FBQ0E7QUFDQTtBQUN5QyxjQUFjLHdGQUF3RixrQkFBa0IsT0FBTywwTEFBMEwsU0FBUyxrSUFBa0ksZ0JBQWdCLE9BQU8saWFBQWlhLGNBQWMsMEJBQTBCLFFBQVEsTUFBTSx1QkFBdUIsVUFBVSw2Q0FBNkMsc0RBQUMsd0NBQXdDLGlCQUFpQixzREFBQyx5Q0FBeUMsZUFBZSxlQUFlLG9EQUFvRCxzREFBQyxrQ0FBa0Msd0RBQXdELDBFQUEwRSxzREFBQyxvQ0FBb0MsWUFBWSxZQUFZLFdBQVcsS0FBSyxRQUFRLFFBQVEsWUFBWSxPQUFPLEtBQUssUUFBUSxhQUFhLDZJQUE2SSxPQUFPLDBEQUEwRCxrQkFBa0IsV0FBVyxXQUFXLFdBQVcsWUFBWSxXQUFXLEtBQUssc0JBQXNCLFlBQVksV0FBVyxzQkFBc0IsU0FBUyxrQkFBa0IseUVBQXlFLFFBQVEsaUNBQWlDLHNDQUFzQyxLQUFLLG1CQUFtQixzREFBQyx3Q0FBd0MscUJBQXFCLGVBQWUsc0RBQUMsNkNBQTZDLGlEQUFpRCxnQkFBZ0Isa0JBQWtCLFlBQVksSUFBSSxLQUFLLEtBQUssSUFBSSxzQkFBc0IsOENBQThDLFdBQVcsU0FBUyw4RkFBOEYsZ0JBQWdCLE9BQU8sK09BQStPLGNBQWMsMEJBQTBCLFFBQVEsTUFBTSx1QkFBdUIsVUFBVSw2Q0FBNkMsc0RBQUMsd0NBQXdDLGlCQUFpQixzREFBQyx5Q0FBeUMsZUFBZSxlQUFlLG9EQUFvRCxzREFBQyxrQ0FBa0Msc0VBQXNFLDZFQUE2RSxzREFBQyxtQ0FBbUMsMEhBQTBILFlBQVksVUFBVSxLQUFLLGFBQWEsa0RBQWtELFNBQVMsZ0RBQWdELDZEQUE2RCxzREFBQyxtQ0FBbUMsbUNBQW1DLCtDQUErQyxxREFBcUQsc0RBQUMsbUNBQW1DLHNGQUFzRixZQUFZLFVBQVUsbUNBQW1DLFNBQVMsVUFBVSxzREFBQyw0RUFBNEUsU0FBUyxtRkFBbUYsZ0JBQWdCLE9BQU8seU5BQXlOLGNBQWMsMEJBQTBCLFFBQVEsTUFBTSx1QkFBdUIsVUFBVSw2Q0FBNkMsc0RBQUMsd0NBQXdDLGlCQUFpQixzREFBQyx5Q0FBeUMsZUFBZSxlQUFlLG9EQUFvRCxzREFBQyxrQ0FBa0MsaUNBQWlDLHVCQUF1QixzQ0FBc0Msc0RBQUMsa0NBQWtDLG9DQUFvQyxZQUFZLFVBQVUsNEJBQTRCLDZCQUE2Qix3Q0FBd0Msc0RBQUMsa0NBQWtDLHFDQUFxQyxZQUFZLFVBQVUsNEJBQTRCLEtBQUssV0FBVyxxQ0FBcUMsc0RBQUMsa0NBQWtDLFlBQVksVUFBVSw0QkFBNEIsU0FBb0UiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wcmVjaXNpb25mYXJtcy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvZ2VvbWV0cnkvc3VwcG9ydC9VQ2hhckFycmF5LmpzIiwid2VicGFjazovL3ByZWNpc2lvbmZhcm1zLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS9nZW9tZXRyeS9zdXBwb3J0L1VTaG9ydEFycmF5LmpzIiwid2VicGFjazovL3ByZWNpc2lvbmZhcm1zLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8zZC9sYXllcnMvaTNzL0kzU0JpbmFyeVJlYWRlci5qcyIsIndlYnBhY2s6Ly9wcmVjaXNpb25mYXJtcy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvM2QvbGF5ZXJzL2kzcy9MRVBDQy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4zMy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e25hdGl2ZUFycmF5TWF4U2l6ZSBhcyByfWZyb21cIi4uLy4uL2NvcmUvdHlwZWRBcnJheVV0aWwuanNcIjtmdW5jdGlvbiB0KHQpe3JldHVybiBBcnJheS5pc0FycmF5KHQpP3QubGVuZ3RoPHI/dDpuZXcgVWludDhBcnJheSh0KTp0Lmxlbmd0aDxyP0FycmF5LmZyb20odCk6dH1leHBvcnR7dCBhcyBjb21wYWN0VUNoYXJBcnJheX07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4zMy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e25hdGl2ZUFycmF5TWF4U2l6ZSBhcyByfWZyb21cIi4uLy4uL2NvcmUvdHlwZWRBcnJheVV0aWwuanNcIjtmdW5jdGlvbiB0KHQpe3JldHVybiBBcnJheS5pc0FycmF5KHQpP3QubGVuZ3RoPHI/dDpuZXcgVWludDE2QXJyYXkodCk6dC5sZW5ndGg8cj9BcnJheS5mcm9tKHQpOnR9ZXhwb3J0e3QgYXMgY29tcGFjdFVTaG9ydEFycmF5fTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjMzL2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnQgZSBmcm9tXCIuLi8uLi8uLi8uLi9jb3JlL0Vycm9yLmpzXCI7aW1wb3J0e2Nsb25lIGFzIHR9ZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9sYW5nLmpzXCI7aW1wb3J0IG4gZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9Mb2dnZXIuanNcIjtpbXBvcnR7aXNJbnQxNkFycmF5IGFzIHIsbWluSW50MTYgYXMgbyxpc0ludDMyQXJyYXkgYXMgaSxtaW5JbnQzMiBhcyB1LG5hdGl2ZUFycmF5TWF4U2l6ZSBhcyBhfWZyb21cIi4uLy4uLy4uLy4uL2NvcmUvdHlwZWRBcnJheVV0aWwuanNcIjtpbXBvcnR7Y29tcGFjdFVDaGFyQXJyYXkgYXMgc31mcm9tXCIuLi8uLi8uLi8uLi9nZW9tZXRyeS9zdXBwb3J0L1VDaGFyQXJyYXkuanNcIjtpbXBvcnR7Y29tcGFjdFVTaG9ydEFycmF5IGFzIGN9ZnJvbVwiLi4vLi4vLi4vLi4vZ2VvbWV0cnkvc3VwcG9ydC9VU2hvcnRBcnJheS5qc1wiO2ltcG9ydHtkZWNvZGVSR0IgYXMgZixkZWNvZGVJbnRlbnNpdHkgYXMgbH1mcm9tXCIuL0xFUENDLmpzXCI7aW1wb3J0e1ZlcnRleEF0dHJpYnV0ZSBhcyBkfWZyb21cIi4uLy4uL3dlYmdsLWVuZ2luZS9saWIvVmVydGV4QXR0cmlidXRlLmpzXCI7Y29uc3QgYj0oKT0+bi5nZXRMb2dnZXIoXCJlc3JpLnZpZXdzLjNkLmxheWVycy5pM3MuSTNTQmluYXJ5UmVhZGVyXCIpO2Z1bmN0aW9uIHkodCxuLHIpe2xldCBvPVwiXCIsaT0wO2Zvcig7aTxyOyl7Y29uc3QgdT10W24raV07aWYodTwxMjgpbys9U3RyaW5nLmZyb21DaGFyQ29kZSh1KSxpKys7ZWxzZSBpZih1Pj0xOTImJnU8MjI0KXtpZihpKzE+PXIpdGhyb3cgbmV3IGUoXCJ1dGY4LWRlY29kZS1lcnJvclwiLFwiVVRGLTggRGVjb2RlIGZhaWxlZC4gVHdvIGJ5dGUgY2hhcmFjdGVyIHdhcyB0cnVuY2F0ZWQuXCIpO2NvbnN0IGE9KDMxJnUpPDw2fDYzJnRbbitpKzFdO28rPVN0cmluZy5mcm9tQ2hhckNvZGUoYSksaSs9Mn1lbHNlIGlmKHU+PTIyNCYmdTwyNDApe2lmKGkrMj49cil0aHJvdyBuZXcgZShcInV0ZjgtZGVjb2RlLWVycm9yXCIsXCJVVEYtOCBEZWNvZGUgZmFpbGVkLiBNdWx0aSBieXRlIGNoYXJhY3RlciB3YXMgdHJ1bmNhdGVkLlwiKTtjb25zdCBhPSgxNSZ1KTw8MTJ8KDYzJnRbbitpKzFdKTw8Nnw2MyZ0W24raSsyXTtvKz1TdHJpbmcuZnJvbUNoYXJDb2RlKGEpLGkrPTN9ZWxzZXtpZighKHU+PTI0MCYmdTwyNDgpKXRocm93IG5ldyBlKFwidXRmOC1kZWNvZGUtZXJyb3JcIixcIlVURi04IERlY29kZSBmYWlsZWQuIEludmFsaWQgbXVsdGkgYnl0ZSBzZXF1ZW5jZS5cIik7e2lmKGkrMz49cil0aHJvdyBuZXcgZShcInV0ZjgtZGVjb2RlLWVycm9yXCIsXCJVVEYtOCBEZWNvZGUgZmFpbGVkLiBNdWx0aSBieXRlIGNoYXJhY3RlciB3YXMgdHJ1bmNhdGVkLlwiKTtjb25zdCBhPSg3JnUpPDwxOHwoNjMmdFtuK2krMV0pPDwxMnwoNjMmdFtuK2krMl0pPDw2fDYzJnRbbitpKzNdO2lmKGE+PTY1NTM2KXtjb25zdCBlPTU1Mjk2KyhhLTY1NTM2Pj4xMCksdD01NjMyMCsoMTAyMyZhKTtvKz1TdHJpbmcuZnJvbUNoYXJDb2RlKGUsdCl9ZWxzZSBvKz1TdHJpbmcuZnJvbUNoYXJDb2RlKGEpO2krPTR9fX1yZXR1cm4gb31mdW5jdGlvbiBnKGUsdCl7Y29uc3Qgbj17Ynl0ZU9mZnNldDowLGJ5dGVDb3VudDowLGZpZWxkczpPYmplY3QuY3JlYXRlKG51bGwpfTtsZXQgcj0wO2ZvcihsZXQgbz0wO288dC5sZW5ndGg7bysrKXtjb25zdCBpPXRbb10sdT1pLnZhbHVlVHlwZXx8aS50eXBlLGE9Rlt1XTtuLmZpZWxkc1tpLnByb3BlcnR5XT1hKGUscikscis9alt1XS5CWVRFU19QRVJfRUxFTUVOVH1yZXR1cm4gbi5ieXRlQ291bnQ9cixufWZ1bmN0aW9uIHAoZSx0LG4pe3JldHVybiBtKGUsdCxuKS5tYXAoKGU9Pntjb25zdCB0PWU/RGF0ZS5wYXJzZShlKTpudWxsO3JldHVybiBudWxsPT10fHxOdW1iZXIuaXNOYU4odCk/bnVsbDp0fSkpfWZ1bmN0aW9uIG0odCxuLHIpe2NvbnN0IG89W107bGV0IGksdSxhPTA7Zm9yKHU9MDt1PHQ7dSs9MSl7aWYoaT1uW3VdLGk+MCl7aWYoby5wdXNoKHkocixhLGktMSkpLDAhPT1yW2EraS0xXSl0aHJvdyBuZXcgZShcInN0cmluZy1hcnJheS1lcnJvclwiLFwiSW52YWxpZCBzdHJpbmcgYXJyYXk6IG1pc3NpbmcgbnVsbCB0ZXJtaW5hdGlvbi5cIil9ZWxzZSBvLnB1c2gobnVsbCk7YSs9aX1yZXR1cm4gb31mdW5jdGlvbiB3KGUsdCl7cmV0dXJuIG5ldygwLGpbdC52YWx1ZVR5cGVdKShlLHQuYnl0ZU9mZnNldCx0LmNvdW50KnQudmFsdWVzUGVyRWxlbWVudCl9ZnVuY3Rpb24gdihlLHQpe2NvbnN0IG49dyhlLHQpO2lmKG4ubGVuZ3RoPj1hKXJldHVybiBuO2NvbnN0IHI9bmV3IEFycmF5O3JldHVybiBuLmZvckVhY2goKChlLHQpPT5yLnB1c2goQyhuLHQpKSkpLHJ9ZnVuY3Rpb24gQyhlLHQpe2lmKCFlKXJldHVybiBudWxsO2NvbnN0IG49ZVt0XTtpZihyKGUpKXJldHVybiBuPT09bz9udWxsOm47aWYoaShlKSlyZXR1cm4gbj09PXU/bnVsbDpuO3JldHVybiBuIT1uP251bGw6bn1mdW5jdGlvbiBJKGUsdCl7cmV0dXJuIG5ldyBVaW50OEFycmF5KGUsdC5ieXRlT2Zmc2V0LHQuYnl0ZUNvdW50KX1mdW5jdGlvbiBoKG4scixvKXtjb25zdCBpPW51bGwhPXIuaGVhZGVyP2cobixyLmhlYWRlcik6e2J5dGVPZmZzZXQ6MCxieXRlQ291bnQ6MCxmaWVsZHM6e2NvdW50Om99fSx1PXtoZWFkZXI6aSxieXRlT2Zmc2V0OmkuYnl0ZUNvdW50LGJ5dGVDb3VudDowLGVudHJpZXM6T2JqZWN0LmNyZWF0ZShudWxsKX07bGV0IGE9aS5ieXRlQ291bnQ7Zm9yKGxldCBzPTA7czxyLm9yZGVyaW5nLmxlbmd0aDtzKyspe2NvbnN0IG49ci5vcmRlcmluZ1tzXSxvPXQocltuXSk7aWYoby5jb3VudD1pLmZpZWxkcy5jb3VudD8/MCxcIlN0cmluZ1wiPT09by52YWx1ZVR5cGUpe2lmKG8uYnl0ZU9mZnNldD1hLG8uYnl0ZUNvdW50PWkuZmllbGRzW24rXCJCeXRlQ291bnRcIl0sXCJVVEYtOFwiIT09by5lbmNvZGluZyl0aHJvdyBuZXcgZShcInVuc3VwcG9ydGVkLWVuY29kaW5nXCIsXCJVbnN1cHBvcnRlZCBTdHJpbmcgZW5jb2RpbmcuXCIse2VuY29kaW5nOm8uZW5jb2Rpbmd9KTtpZihvLnRpbWVFbmNvZGluZyYmXCJFQ01BX0lTTzg2MDFcIiE9PW8udGltZUVuY29kaW5nKXRocm93IG5ldyBlKFwidW5zdXBwb3J0ZWQtdGltZS1lbmNvZGluZ1wiLFwiVW5zdXBwb3J0ZWQgdGltZSBlbmNvZGluZy5cIix7dGltZUVuY29kaW5nOm8udGltZUVuY29kaW5nfSl9ZWxzZXtpZighUihvLnZhbHVlVHlwZSkpdGhyb3cgbmV3IGUoXCJ1bnN1cHBvcnRlZC12YWx1ZS10eXBlXCIsXCJVbnN1cHBvcnRlZCBiaW5hcnkgdmFsdWVUeXBlXCIse3ZhbHVlVHlwZTpvLnZhbHVlVHlwZX0pO3tjb25zdCBlPUIoby52YWx1ZVR5cGUpO2ErPWElZSE9PTA/ZS1hJWU6MCxvLmJ5dGVPZmZzZXQ9YSxvLmJ5dGVDb3VudD1lKm8udmFsdWVzUGVyRWxlbWVudCpvLmNvdW50fX1hKz1vLmJ5dGVDb3VudD8/MCx1LmVudHJpZXNbbl09b31yZXR1cm4gdS5ieXRlQ291bnQ9YS11LmJ5dGVPZmZzZXQsdX1mdW5jdGlvbiBBKHQsbixyKXtpZihuIT09dCYmYigpLmVycm9yKGBJbnZhbGlkICR7cn0gYnVmZmVyIHNpemVcXG4gZXhwZWN0ZWQ6ICR7dH0sIGFjdHVhbDogJHtufSlgKSxuPHQpdGhyb3cgbmV3IGUoXCJidWZmZXItdG9vLXNtYWxsXCIsXCJCaW5hcnkgYnVmZmVyIGlzIHRvbyBzbWFsbFwiLHtleHBlY3RlZFNpemU6dCxhY3R1YWxTaXplOm59KX1mdW5jdGlvbiBPKGUpe3JldHVybntpc0RyYWNvOiExLGlzTGVnYWN5OiExLGNvbG9yOm51bGwhPWUuY29sb3Isbm9ybWFsOm51bGwhPWUubm9ybWFsLHV2MDpudWxsIT1lLnV2MCx1dlJlZ2lvbjpudWxsIT1lLnV2UmVnaW9uLGZlYXR1cmVJbmRleDpudWxsIT1lLmZhY2VSYW5nZSYmbnVsbCE9ZS5mZWF0dXJlSWR9fWZ1bmN0aW9uIFUoZSx0KXtjb25zdCBuPWcoZSx0JiZ0LmhlYWRlcik7bGV0IHI9bi5ieXRlQ291bnQ7Y29uc3Qgbz17aXNEcmFjbzohMSxoZWFkZXI6bixieXRlT2Zmc2V0Om4uYnl0ZUNvdW50LGJ5dGVDb3VudDowLHZlcnRleEF0dHJpYnV0ZXM6e319LGk9bi5maWVsZHMsdT1udWxsIT1pLnZlcnRleENvdW50P2kudmVydGV4Q291bnQ6aS5jb3VudDtmb3IoY29uc3QgYyBvZiB0Lm9yZGVyaW5nKXtpZighdC52ZXJ0ZXhBdHRyaWJ1dGVzW2NdKWNvbnRpbnVlO2NvbnN0IGU9ey4uLnQudmVydGV4QXR0cmlidXRlc1tjXSxieXRlT2Zmc2V0OnIsY291bnQ6dX0sbj14W2NdfHxcIl9cIitjO28udmVydGV4QXR0cmlidXRlc1tuXT1lLHIrPUIoZS52YWx1ZVR5cGUpKmUudmFsdWVzUGVyRWxlbWVudCp1fWNvbnN0IGE9aS5mYWNlQ291bnQ7aWYodC5mYWNlcyYmYSl7by5mYWNlcz17fTtmb3IoY29uc3QgZSBvZiB0Lm9yZGVyaW5nKXtpZighdC5mYWNlc1tlXSljb250aW51ZTtjb25zdCBuPXsuLi50LmZhY2VzW2VdLGJ5dGVPZmZzZXQ6cixjb3VudDphfTtvLmZhY2VzW2VdPW4scis9QihuLnZhbHVlVHlwZSkqbi52YWx1ZXNQZXJFbGVtZW50KmF9fWNvbnN0IHM9aS5mZWF0dXJlQ291bnQ7aWYodC5mZWF0dXJlQXR0cmlidXRlcyYmdC5mZWF0dXJlQXR0cmlidXRlT3JkZXImJnMpe28uZmVhdHVyZUF0dHJpYnV0ZXM9e307Zm9yKGNvbnN0IGUgb2YgdC5mZWF0dXJlQXR0cmlidXRlT3JkZXIpe2lmKCF0LmZlYXR1cmVBdHRyaWJ1dGVzW2VdKWNvbnRpbnVlO2NvbnN0IG49ey4uLnQuZmVhdHVyZUF0dHJpYnV0ZXNbZV0sYnl0ZU9mZnNldDpyLGNvdW50OnN9O28uZmVhdHVyZUF0dHJpYnV0ZXNbZV09bjtyKz0oXCJVSW50NjRcIj09PW4udmFsdWVUeXBlPzg6QihuLnZhbHVlVHlwZSkpKm4udmFsdWVzUGVyRWxlbWVudCpzfX1yZXR1cm4gQShyLGUuYnl0ZUxlbmd0aCxcImdlb21ldHJ5XCIpLG8uYnl0ZUNvdW50PXItby5ieXRlT2Zmc2V0LG99ZnVuY3Rpb24gRShlLHQpe3JldHVybiEoIWV8fCFlLmNvbXByZXNzZWRBdHRyaWJ1dGVzfHxcImRyYWNvXCIhPT1lLmNvbXByZXNzZWRBdHRyaWJ1dGVzLmVuY29kaW5nKT9TKGUuY29tcHJlc3NlZEF0dHJpYnV0ZXMuYXR0cmlidXRlcyk6ZT9PKGUpOlQodCl9ZnVuY3Rpb24gVChlKXtjb25zdCB0PXtpc0RyYWNvOiExLGlzTGVnYWN5OiEwLGNvbG9yOiExLG5vcm1hbDohMSx1djA6ITEsdXZSZWdpb246ITEsZmVhdHVyZUluZGV4OiExfTtmb3IoY29uc3QgbiBvZiBlLm9yZGVyaW5nKWlmKGUudmVydGV4QXR0cmlidXRlc1tuXSlzd2l0Y2gobil7Y2FzZVwicG9zaXRpb25cIjpicmVhaztjYXNlXCJub3JtYWxcIjp0Lm5vcm1hbD0hMDticmVhaztjYXNlXCJjb2xvclwiOnQuY29sb3I9ITA7YnJlYWs7Y2FzZVwidXYwXCI6dC51djA9ITA7YnJlYWs7Y2FzZVwicmVnaW9uXCI6dC51dlJlZ2lvbj0hMH1yZXR1cm4gZS5mZWF0dXJlQXR0cmlidXRlcyYmZS5mZWF0dXJlQXR0cmlidXRlT3JkZXImJih0LmZlYXR1cmVJbmRleD0hMCksdH1mdW5jdGlvbiBTKGUpe2NvbnN0IHQ9e2lzRHJhY286ITAsaXNMZWdhY3k6ITEsY29sb3I6ITEsbm9ybWFsOiExLHV2MDohMSx1dlJlZ2lvbjohMSxmZWF0dXJlSW5kZXg6ITF9O2Zvcihjb25zdCBuIG9mIGUpc3dpdGNoKG4pe2Nhc2VcInBvc2l0aW9uXCI6YnJlYWs7Y2FzZVwibm9ybWFsXCI6dC5ub3JtYWw9ITA7YnJlYWs7Y2FzZVwidXYwXCI6dC51djA9ITA7YnJlYWs7Y2FzZVwiY29sb3JcIjp0LmNvbG9yPSEwO2JyZWFrO2Nhc2VcInV2LXJlZ2lvblwiOnQudXZSZWdpb249ITA7YnJlYWs7Y2FzZVwiZmVhdHVyZS1pbmRleFwiOnQuZmVhdHVyZUluZGV4PSEwfXJldHVybiB0fWNvbnN0IHg9e3Bvc2l0aW9uOmQuUE9TSVRJT04sbm9ybWFsOmQuTk9STUFMLGNvbG9yOmQuQ09MT1IsdXYwOmQuVVYwLHJlZ2lvbjpkLlVWUkVHSU9OfTtmdW5jdGlvbiBEKHQsbixyLG89ITEpe2lmKFwibGVwY2MtcmdiXCI9PT10LmVuY29kaW5nKXJldHVybiBvP2Yobik6cyhmKG4pKTtpZihcImxlcGNjLWludGVuc2l0eVwiPT09dC5lbmNvZGluZylyZXR1cm4gbz9sKG4pOmMobChuKSk7aWYobnVsbCE9dC5lbmNvZGluZyYmXCJcIiE9PXQuZW5jb2RpbmcpdGhyb3cgbmV3IGUoXCJ1bmtub3duLWF0dHJpYnV0ZS1zdG9yYWdlLWluZm8tZW5jb2RpbmdcIixcIlVua25vd24gQXR0cmlidXRlIFN0b3JhZ2UgSW5mbyBFbmNvZGluZ1wiKTt0W1wiYXR0cmlidXRlQnl0ZUNvdW50cyBcIl0mJiF0LmF0dHJpYnV0ZUJ5dGVDb3VudHMmJihiKCkud2FybihcIldhcm5pbmc6IFRyYWlsaW5nIHNwYWNlIGluICdhdHRyaWJ1dGVCeXRlQ291bnRzICcuXCIpLHQuYXR0cmlidXRlQnl0ZUNvdW50cz10W1wiYXR0cmlidXRlQnl0ZUNvdW50cyBcIl0pLFwiT2JqZWN0SWRzXCI9PT10Lm9yZGVyaW5nWzBdJiZ0Lmhhc093blByb3BlcnR5KFwib2JqZWN0SWRzXCIpJiYoYigpLndhcm4oXCJXYXJuaW5nOiBDYXNlIGVycm9yIGluIG9iamVjdElkc1wiKSx0Lm9yZGVyaW5nWzBdPVwib2JqZWN0SWRzXCIpO2NvbnN0IGk9aChuLHQscik7QShpLmJ5dGVPZmZzZXQraS5ieXRlQ291bnQsbi5ieXRlTGVuZ3RoLFwiYXR0cmlidXRlXCIpO2NvbnN0IHU9aS5lbnRyaWVzLmF0dHJpYnV0ZVZhbHVlc3x8aS5lbnRyaWVzLm9iamVjdElkcztpZih1KXtpZihcIlN0cmluZ1wiPT09dS52YWx1ZVR5cGUpe2NvbnN0IGU9aS5lbnRyaWVzLmF0dHJpYnV0ZUJ5dGVDb3VudHMsdD13KG4sZSkscj1JKG4sdSk7cmV0dXJuIHUudGltZUVuY29kaW5nP3AoZS5jb3VudCx0LHIpOm0oZS5jb3VudCx0LHIpfXJldHVybiBvP3cobix1KTp2KG4sdSl9dGhyb3cgbmV3IGUoXCJiYWQtYXR0cmlidXRlLXN0b3JhZ2UtaW5mb1wiLFwiQmFkIGF0dHJpYnV0ZVN0b3JhZ2VJbmZvIHNwZWNpZmljYXRpb24uXCIpfWNvbnN0IGo9e0Zsb2F0MzI6RmxvYXQzMkFycmF5LEZsb2F0NjQ6RmxvYXQ2NEFycmF5LFVJbnQ4OlVpbnQ4QXJyYXksSW50ODpJbnQ4QXJyYXksVUludDE2OlVpbnQxNkFycmF5LEludDE2OkludDE2QXJyYXksVUludDMyOlVpbnQzMkFycmF5LEludDMyOkludDMyQXJyYXl9LEY9e0Zsb2F0MzI6KGUsdCk9Pm5ldyBEYXRhVmlldyhlLDApLmdldEZsb2F0MzIodCwhMCksRmxvYXQ2NDooZSx0KT0+bmV3IERhdGFWaWV3KGUsMCkuZ2V0RmxvYXQ2NCh0LCEwKSxVSW50ODooZSx0KT0+bmV3IERhdGFWaWV3KGUsMCkuZ2V0VWludDgodCksSW50ODooZSx0KT0+bmV3IERhdGFWaWV3KGUsMCkuZ2V0SW50OCh0KSxVSW50MTY6KGUsdCk9Pm5ldyBEYXRhVmlldyhlLDApLmdldFVpbnQxNih0LCEwKSxJbnQxNjooZSx0KT0+bmV3IERhdGFWaWV3KGUsMCkuZ2V0SW50MTYodCwhMCksVUludDMyOihlLHQpPT5uZXcgRGF0YVZpZXcoZSwwKS5nZXRVaW50MzIodCwhMCksSW50MzI6KGUsdCk9Pm5ldyBEYXRhVmlldyhlLDApLmdldEludDMyKHQsITApfTtmdW5jdGlvbiBSKGUpe3JldHVybiBqLmhhc093blByb3BlcnR5KGUpfWZ1bmN0aW9uIEIoZSl7cmV0dXJuIFIoZSk/altlXS5CWVRFU19QRVJfRUxFTUVOVDowfWV4cG9ydHtoIGFzIGNyZWF0ZUF0dHJpYnV0ZURhdGFJbmRleCxFIGFzIGNyZWF0ZUdlb21ldHJ5RGVzY3JpcHRvcixTIGFzIGNyZWF0ZUdlb21ldHJ5RGVzY3JpcHRvckZvckRyYWNvLE8gYXMgY3JlYXRlR2VvbWV0cnlEZXNjcmlwdG9yRnJvbURlZmluaXRpb24sVCBhcyBjcmVhdGVHZW9tZXRyeURlc2NyaXB0b3JGcm9tU2NoZW1hLFUgYXMgY3JlYXRlR2VvbWV0cnlJbmRleEZyb21TY2hlbWEsSSBhcyBjcmVhdGVSYXdWaWV3LHcgYXMgY3JlYXRlVHlwZWRWaWV3LEIgYXMgZ2V0Qnl0ZXNQZXJWYWx1ZSxDIGFzIGdldENhY2hlZEF0dHJpYnV0ZVZhbHVlLFIgYXMgaXNWYWx1ZVR5cGUsRCBhcyByZWFkQmluYXJ5QXR0cmlidXRlLHAgYXMgcmVhZERhdGVTdHJpbmdBcnJheSxnIGFzIHJlYWRIZWFkZXIsbSBhcyByZWFkU3RyaW5nQXJyYXksRiBhcyB2YWx1ZVR5cGUyQXJyYXlCdWZmZXJSZWFkZXIsaiBhcyB2YWx1ZVR5cGUyVHlwZWRBcnJheUNsYXNzTWFwfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjMzL2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnQgZSBmcm9tXCIuLi8uLi8uLi8uLi9jb3JlL0Vycm9yLmpzXCI7Y29uc3QgdD0hMCxvPXtpZGVudGlmaWVyT2Zmc2V0OjAsaWRlbnRpZmllckxlbmd0aDoxMCx2ZXJzaW9uT2Zmc2V0OjEwLGNoZWNrc3VtT2Zmc2V0OjEyLGJ5dGVDb3VudDoxNn07ZnVuY3Rpb24gcihlLHIsbil7cmV0dXJue2lkZW50aWZpZXI6U3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShudWxsLG5ldyBVaW50OEFycmF5KGUsbitvLmlkZW50aWZpZXJPZmZzZXQsby5pZGVudGlmaWVyTGVuZ3RoKSksdmVyc2lvbjpyLmdldFVpbnQxNihuK28udmVyc2lvbk9mZnNldCx0KSxjaGVja3N1bTpyLmdldFVpbnQzMihuK28uY2hlY2tzdW1PZmZzZXQsdCl9fWNvbnN0IG49e3NpemVMbzowLHNpemVIaTo0LG1pblg6OCxtaW5ZOjE2LG1pblo6MjQsbWF4WDozMixtYXhZOjQwLG1heFo6NDgsZXJyb3JYOjU2LGVycm9yWTo2NCxlcnJvclo6NzIsY291bnQ6ODAscmVzZXJ2ZWQ6ODQsYnl0ZUNvdW50Ojg4fTtmdW5jdGlvbiBpKGUsbyl7cmV0dXJue3NpemVMbzplLmdldFVpbnQzMihvK24uc2l6ZUxvLHQpLHNpemVIaTplLmdldFVpbnQzMihvK24uc2l6ZUhpLHQpLG1pblg6ZS5nZXRGbG9hdDY0KG8rbi5taW5YLHQpLG1pblk6ZS5nZXRGbG9hdDY0KG8rbi5taW5ZLHQpLG1pblo6ZS5nZXRGbG9hdDY0KG8rbi5taW5aLHQpLG1heFg6ZS5nZXRGbG9hdDY0KG8rbi5tYXhYLHQpLG1heFk6ZS5nZXRGbG9hdDY0KG8rbi5tYXhZLHQpLG1heFo6ZS5nZXRGbG9hdDY0KG8rbi5tYXhaLHQpLGVycm9yWDplLmdldEZsb2F0NjQobytuLmVycm9yWCx0KSxlcnJvclk6ZS5nZXRGbG9hdDY0KG8rbi5lcnJvclksdCksZXJyb3JaOmUuZ2V0RmxvYXQ2NChvK24uZXJyb3JaLHQpLGNvdW50OmUuZ2V0VWludDMyKG8rbi5jb3VudCx0KSxyZXNlcnZlZDplLmdldFVpbnQzMihvK24ucmVzZXJ2ZWQsdCl9fWZ1bmN0aW9uIGModCl7Y29uc3QgYz1uZXcgRGF0YVZpZXcodCwwKTtsZXQgZD0wO2NvbnN0e2lkZW50aWZpZXI6bCx2ZXJzaW9uOmF9PXIodCxjLGQpO2lmKGQrPW8uYnl0ZUNvdW50LFwiTEVQQ0MgICAgIFwiIT09bCl0aHJvdyBuZXcgZShcImxlcGNjLWRlY29kZS1lcnJvclwiLFwiQmFkIGlkZW50aWZpZXJcIik7aWYoYT4xKXRocm93IG5ldyBlKFwibGVwY2MtZGVjb2RlLWVycm9yXCIsXCJVbmtub3duIHZlcnNpb25cIik7Y29uc3QgdT1pKGMsZCk7ZCs9bi5ieXRlQ291bnQ7aWYodS5zaXplSGkqMioqMzIrdS5zaXplTG8hPT10LmJ5dGVMZW5ndGgpdGhyb3cgbmV3IGUoXCJsZXBjYy1kZWNvZGUtZXJyb3JcIixcIkJhZCBzaXplXCIpO2NvbnN0IGY9bmV3IEZsb2F0NjRBcnJheSgzKnUuY291bnQpLGg9W10sdz1bXSxnPVtdLHA9W107aWYoZD1zKHQsZCxoKSxkPXModCxkLHcpLGQ9cyh0LGQsZyksZD1zKHQsZCxwKSxkIT09dC5ieXRlTGVuZ3RoKXRocm93IG5ldyBlKFwibGVwY2MtZGVjb2RlLWVycm9yXCIsXCJCYWQgbGVuZ3RoXCIpO2xldCBtPTAsVT0wO2ZvcihsZXQgZT0wO2U8aC5sZW5ndGg7ZSsrKXtVKz1oW2VdO2xldCB0PTA7Zm9yKGxldCBvPTA7bzx3W2VdO28rKyl7dCs9Z1ttXTtjb25zdCBlPXBbbV07ZlszKm1dPU1hdGgubWluKHUubWF4WCx1Lm1pblgrMip1LmVycm9yWCp0KSxmWzMqbSsxXT1NYXRoLm1pbih1Lm1heFksdS5taW5ZKzIqdS5lcnJvclkqVSksZlszKm0rMl09TWF0aC5taW4odS5tYXhaLHUubWluWisyKnUuZXJyb3JaKmUpLG0rK319cmV0dXJue2Vycm9yWDp1LmVycm9yWCxlcnJvclk6dS5lcnJvclksZXJyb3JaOnUuZXJyb3JaLHJlc3VsdDpmfX1mdW5jdGlvbiBzKGUsdCxvKXtjb25zdCByPVtdO3Q9ZChlLHQscik7Y29uc3Qgbj1bXTtmb3IobGV0IGk9MDtpPHIubGVuZ3RoO2krKyl7bi5sZW5ndGg9MCx0PWQoZSx0LG4pO2ZvcihsZXQgZT0wO2U8bi5sZW5ndGg7ZSsrKW8ucHVzaChuW2VdK3JbaV0pfXJldHVybiB0fWZ1bmN0aW9uIGQobyxyLG4pe2NvbnN0IGk9bmV3IERhdGFWaWV3KG8sciksYz1pLmdldFVpbnQ4KDApLHM9MzEmYyxkPSEhKDMyJmMpLGw9KDE5MiZjKT4+NjtsZXQgYT0wO2lmKDA9PT1sKWE9aS5nZXRVaW50MzIoMSx0KSxyKz01O2Vsc2UgaWYoMT09PWwpYT1pLmdldFVpbnQxNigxLHQpLHIrPTM7ZWxzZXtpZigyIT09bCl0aHJvdyBuZXcgZShcImxlcGNjLWRlY29kZS1lcnJvclwiLFwiQmFkIGNvdW50IHR5cGVcIik7YT1pLmdldFVpbnQ4KDEpLHIrPTJ9aWYoZCl0aHJvdyBuZXcgZShcImxlcGNjLWRlY29kZS1lcnJvclwiLFwiTFVUIG5vdCBpbXBsZW1lbnRlZFwiKTtjb25zdCB1PU1hdGguY2VpbChhKnMvOCksZj1uZXcgVWludDhBcnJheShvLHIsdSk7bGV0IGg9MCx3PTAsZz0wO2NvbnN0IHA9LTE+Pj4zMi1zO2ZvcihsZXQgZT0wO2U8YTtlKyspe2Zvcig7dzxzOylofD1mW2ddPDx3LHcrPTgsZys9MTtuW2VdPWgmcCxoPj4+PXMsdy09cyx3K3M+MzImJihofD1mW2ctMV0+Pjgtdyl9cmV0dXJuIHIrZ31jb25zdCBsPXtzaXplTG86MCxzaXplSGk6NCxjb3VudDo4LGNvbG9yTWFwQ291bnQ6MTIsbG9va3VwTWV0aG9kOjE0LGNvbXByZXNzaW9uTWV0aG9kOjE1LGJ5dGVDb3VudDoxNn07ZnVuY3Rpb24gYShlLG8pe3JldHVybntzaXplTG86ZS5nZXRVaW50MzIobytsLnNpemVMbyx0KSxzaXplSGk6ZS5nZXRVaW50MzIobytsLnNpemVIaSx0KSxjb3VudDplLmdldFVpbnQzMihvK2wuY291bnQsdCksY29sb3JNYXBDb3VudDplLmdldFVpbnQxNihvK2wuY29sb3JNYXBDb3VudCx0KSxsb29rdXBNZXRob2Q6ZS5nZXRVaW50OChvK2wubG9va3VwTWV0aG9kKSxjb21wcmVzc2lvbk1ldGhvZDplLmdldFVpbnQ4KG8rbC5jb21wcmVzc2lvbk1ldGhvZCl9fWZ1bmN0aW9uIHUodCl7Y29uc3Qgbj1uZXcgRGF0YVZpZXcodCwwKTtsZXQgaT0wO2NvbnN0e2lkZW50aWZpZXI6Yyx2ZXJzaW9uOnN9PXIodCxuLGkpO2lmKGkrPW8uYnl0ZUNvdW50LFwiQ2x1c3RlclJHQlwiIT09Yyl0aHJvdyBuZXcgZShcImxlcGNjLWRlY29kZS1lcnJvclwiLFwiQmFkIGlkZW50aWZpZXJcIik7aWYocz4xKXRocm93IG5ldyBlKFwibGVwY2MtZGVjb2RlLWVycm9yXCIsXCJVbmtub3duIHZlcnNpb25cIik7Y29uc3QgZD1hKG4saSk7aSs9bC5ieXRlQ291bnQ7aWYoZC5zaXplSGkqMioqMzIrZC5zaXplTG8hPT10LmJ5dGVMZW5ndGgpdGhyb3cgbmV3IGUoXCJsZXBjYy1kZWNvZGUtZXJyb3JcIixcIkJhZCBzaXplXCIpO2lmKCgyPT09ZC5sb29rdXBNZXRob2R8fDE9PT1kLmxvb2t1cE1ldGhvZCkmJjA9PT1kLmNvbXByZXNzaW9uTWV0aG9kKXtpZigzKmQuY29sb3JNYXBDb3VudCtkLmNvdW50K2khPT10LmJ5dGVMZW5ndGh8fGQuY29sb3JNYXBDb3VudD4yNTYpdGhyb3cgbmV3IGUoXCJsZXBjYy1kZWNvZGUtZXJyb3JcIixcIkJhZCBjb3VudFwiKTtjb25zdCBvPW5ldyBVaW50OEFycmF5KHQsaSwzKmQuY29sb3JNYXBDb3VudCkscj1uZXcgVWludDhBcnJheSh0LGkrMypkLmNvbG9yTWFwQ291bnQsZC5jb3VudCksbj1uZXcgVWludDhBcnJheSgzKmQuY291bnQpO2ZvcihsZXQgZT0wO2U8ZC5jb3VudDtlKyspe2NvbnN0IHQ9cltlXTtuWzMqZV09b1szKnRdLG5bMyplKzFdPW9bMyp0KzFdLG5bMyplKzJdPW9bMyp0KzJdfXJldHVybiBufWlmKDA9PT1kLmxvb2t1cE1ldGhvZCYmMD09PWQuY29tcHJlc3Npb25NZXRob2Qpe2lmKDMqZC5jb3VudCtpIT09dC5ieXRlTGVuZ3RofHwwIT09ZC5jb2xvck1hcENvdW50KXRocm93IG5ldyBlKFwibGVwY2MtZGVjb2RlLWVycm9yXCIsXCJCYWQgY291bnRcIik7cmV0dXJuIG5ldyBVaW50OEFycmF5KHQsaSkuc2xpY2UoKX1pZihkLmxvb2t1cE1ldGhvZDw9MiYmMT09PWQuY29tcHJlc3Npb25NZXRob2Qpe2lmKGkrMyE9PXQuYnl0ZUxlbmd0aHx8MSE9PWQuY29sb3JNYXBDb3VudCl0aHJvdyBuZXcgZShcImxlcGNjLWRlY29kZS1lcnJvclwiLFwiQmFkIGNvdW50XCIpO2NvbnN0IG89bi5nZXRVaW50OChpKSxyPW4uZ2V0VWludDgoaSsxKSxjPW4uZ2V0VWludDgoaSsyKSxzPW5ldyBVaW50OEFycmF5KDMqZC5jb3VudCk7Zm9yKGxldCBlPTA7ZTxkLmNvdW50O2UrKylzWzMqZV09byxzWzMqZSsxXT1yLHNbMyplKzJdPWM7cmV0dXJuIHN9dGhyb3cgbmV3IGUoXCJsZXBjYy1kZWNvZGUtZXJyb3JcIixcIkJhZCBtZXRob2QgXCIrZC5sb29rdXBNZXRob2QrXCIsXCIrZC5jb21wcmVzc2lvbk1ldGhvZCl9Y29uc3QgZj17c2l6ZUxvOjAsc2l6ZUhpOjQsY291bnQ6OCxzY2FsZUZhY3RvcjoxMixiaXRzUGVyUG9pbnQ6MTQscmVzZXJ2ZWQ6MTUsYnl0ZUNvdW50OjE2fTtmdW5jdGlvbiBoKGUsbyl7cmV0dXJue3NpemVMbzplLmdldFVpbnQzMihvK2Yuc2l6ZUxvLHQpLHNpemVIaTplLmdldFVpbnQzMihvK2Yuc2l6ZUhpLHQpLGNvdW50OmUuZ2V0VWludDMyKG8rZi5jb3VudCx0KSxzY2FsZUZhY3RvcjplLmdldFVpbnQxNihvK2Yuc2NhbGVGYWN0b3IsdCksYml0c1BlclBvaW50OmUuZ2V0VWludDgobytmLmJpdHNQZXJQb2ludCkscmVzZXJ2ZWQ6ZS5nZXRVaW50OChvK2YucmVzZXJ2ZWQpfX1mdW5jdGlvbiB3KHQpe2NvbnN0IG49bmV3IERhdGFWaWV3KHQsMCk7bGV0IGk9MDtjb25zdHtpZGVudGlmaWVyOmMsdmVyc2lvbjpzfT1yKHQsbixpKTtpZihpKz1vLmJ5dGVDb3VudCxcIkludGVuc2l0eSBcIiE9PWMpdGhyb3cgbmV3IGUoXCJsZXBjYy1kZWNvZGUtZXJyb3JcIixcIkJhZCBpZGVudGlmaWVyXCIpO2lmKHM+MSl0aHJvdyBuZXcgZShcImxlcGNjLWRlY29kZS1lcnJvclwiLFwiVW5rbm93biB2ZXJzaW9uXCIpO2NvbnN0IGw9aChuLGkpO2krPWYuYnl0ZUNvdW50O2lmKGwuc2l6ZUhpKjIqKjMyK2wuc2l6ZUxvIT09dC5ieXRlTGVuZ3RoKXRocm93IG5ldyBlKFwibGVwY2MtZGVjb2RlLWVycm9yXCIsXCJCYWQgc2l6ZVwiKTtjb25zdCBhPW5ldyBVaW50MTZBcnJheShsLmNvdW50KTtpZig4PT09bC5iaXRzUGVyUG9pbnQpe2lmKGwuY291bnQraSE9PXQuYnl0ZUxlbmd0aCl0aHJvdyBuZXcgZShcImxlcGNjLWRlY29kZS1lcnJvclwiLFwiQmFkIHNpemVcIik7Y29uc3Qgbz1uZXcgVWludDhBcnJheSh0LGksbC5jb3VudCk7Zm9yKGxldCBlPTA7ZTxsLmNvdW50O2UrKylhW2VdPW9bZV0qbC5zY2FsZUZhY3Rvcn1lbHNlIGlmKDE2PT09bC5iaXRzUGVyUG9pbnQpe2lmKDIqbC5jb3VudCtpIT09dC5ieXRlTGVuZ3RoKXRocm93IG5ldyBlKFwibGVwY2MtZGVjb2RlLWVycm9yXCIsXCJCYWQgc2l6ZVwiKTtjb25zdCBvPW5ldyBVaW50MTZBcnJheSh0LGksbC5jb3VudCk7Zm9yKGxldCBlPTA7ZTxsLmNvdW50O2UrKylhW2VdPW9bZV0qbC5zY2FsZUZhY3Rvcn1lbHNle2NvbnN0IG89W107aWYoZCh0LGksbykhPT10LmJ5dGVMZW5ndGgpdGhyb3cgbmV3IGUoXCJsZXBjYy1kZWNvZGUtZXJyb3JcIixcIkJhZCBzaXplXCIpO2ZvcihsZXQgZT0wO2U8bC5jb3VudDtlKyspYVtlXT1vW2VdKmwuc2NhbGVGYWN0b3J9cmV0dXJuIGF9ZXhwb3J0e3cgYXMgZGVjb2RlSW50ZW5zaXR5LHUgYXMgZGVjb2RlUkdCLGMgYXMgZGVjb2RlWFlafTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==