export const __webpack_id__ = "vendors-node_modules_arcgis_core_views_2d_layers_WMSLayerView2D_js";
export const __webpack_ids__ = ["vendors-node_modules_arcgis_core_views_2d_layers_WMSLayerView2D_js"];
export const __webpack_modules__ = {

/***/ "./node_modules/@arcgis/core/layers/support/timeSupport.js":
/*!*****************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/support/timeSupport.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   combineTimeExtent: () => (/* binding */ i)
/* harmony export */ });
/* harmony import */ var _support_timeUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../support/timeUtils.js */ "./node_modules/@arcgis/core/support/timeUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
function i(i,n,s){if(null==i?.timeInfo)return null;const{datesInUnknownTimezone:l=!1,timeOffset:o,useViewTime:m}=i;let u=i.timeExtent;l&&(u=(0,_support_timeUtils_js__WEBPACK_IMPORTED_MODULE_0__.toLocalTimeExtent)(u));let r=m?n&&u?n.intersection(u):n||u:u;return!r||r.isEmpty||r.isAllTime?r:(o&&(r=r.offset(-o.value,o.unit)),l&&(r=(0,_support_timeUtils_js__WEBPACK_IMPORTED_MODULE_0__.toUTCTimeExtent)(r)),r.equals(s)?s:r)}


/***/ }),

/***/ "./node_modules/@arcgis/core/support/timeUtils.js":
/*!********************************************************!*\
  !*** ./node_modules/@arcgis/core/support/timeUtils.js ***!
  \********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   getTimeExtentFromLayers: () => (/* binding */ a),
/* harmony export */   getTimeSliderSettingsFromWebDocument: () => (/* binding */ c),
/* harmony export */   toLocalTimeExtent: () => (/* binding */ p),
/* harmony export */   toUTCTimeExtent: () => (/* binding */ d)
/* harmony export */ });
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_lang_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../core/lang.js */ "./node_modules/@arcgis/core/core/lang.js");
/* harmony import */ var _core_timeUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../core/timeUtils.js */ "./node_modules/@arcgis/core/core/timeUtils.js");
/* harmony import */ var _chunks_TimeExtent_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../chunks/TimeExtent.js */ "./node_modules/@arcgis/core/chunks/TimeExtent.js");
/* harmony import */ var _webmap_utils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../webmap/utils.js */ "./node_modules/@arcgis/core/webmap/utils.js");
/* harmony import */ var _webscene_utils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../webscene/utils.js */ "./node_modules/@arcgis/core/webscene/utils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
function s(t){return void 0!==t.timeInfo}async function u(t,e){return t.widgets?.timeSlider?.fullTimeExtent??a(t.allLayers,e)}function o(t){const e=t.numThumbs??2,n=t.currentTimeExtent;if(n){const{start:t,end:i}=n;return null!=t&&null!=i&&t.getTime()===i.getTime()?"instant":2===e?"time-window":null==t||0===t.getTime()?"cumulative-from-start":"cumulative-from-end"}return 2===e?"time-window":"cumulative-from-start"}function m(t){const{numStops:n,stopInterval:i,stops:r}=t;return r?{dates:(0,_core_lang_js__WEBPACK_IMPORTED_MODULE_1__.clone)(r)}:i?{interval:i.clone()}:{count:n??5}}async function a(e,n){if(0===e.length)return _chunks_TimeExtent_js__WEBPACK_IMPORTED_MODULE_3__.T.allTime;await Promise.all(e.map((t=>t.load({signal:n}))));const r=e.filter(s),l=e.filter((t=>!s(t)&&null!=t.visibilityTimeExtent));if(0===r.length&&0===l.length)return _chunks_TimeExtent_js__WEBPACK_IMPORTED_MODULE_3__.T.allTime;const u=[],o=[];for(const t of r)"feature"!==t?.type&&"map-image"!==t?.type||!t.timeInfo?.hasLiveData?o.push(t):u.push(t);const m=t=>null==t||t.isAllTime,a=[...o.map((t=>{const e=t.timeInfo?.fullTimeExtent,{visibilityTimeExtent:n}=t;return e?.intersection(n)??n})),...l.map((t=>t.visibilityTimeExtent))];if(a.some(m))return _chunks_TimeExtent_js__WEBPACK_IMPORTED_MODULE_3__.T.allTime;const f=u.map((async t=>{const e=(await t.fetchRecomputedExtents({signal:n}))?.timeExtent??t.timeInfo?.fullTimeExtent,{visibilityTimeExtent:i}=t;return e?.intersection(i)??i})),c=(await Promise.allSettled(f)).map((t=>"fulfilled"===t.status?t.value:null));if(c.some(m))return _chunks_TimeExtent_js__WEBPACK_IMPORTED_MODULE_3__.T.allTime;const d=[...c,...a].filter(_core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_0__.isSome);if(0===d.length)return _chunks_TimeExtent_js__WEBPACK_IMPORTED_MODULE_3__.T.allTime;return d.reduce(((t,e)=>t.union(e)))}function f(t,e){const n=t.currentTimeExtent;if(!n)return null;const{start:r,end:l}=n,s=r??l??null;switch(e){case"time-window":return new _chunks_TimeExtent_js__WEBPACK_IMPORTED_MODULE_3__.T({start:r,end:l});case"cumulative-from-start":return new _chunks_TimeExtent_js__WEBPACK_IMPORTED_MODULE_3__.T({start:null,end:s});case"cumulative-from-end":return new _chunks_TimeExtent_js__WEBPACK_IMPORTED_MODULE_3__.T({start:s,end:null});case"instant":return new _chunks_TimeExtent_js__WEBPACK_IMPORTED_MODULE_3__.T({start:s,end:s})}}async function c(t,e){if(!(0,_webmap_utils_js__WEBPACK_IMPORTED_MODULE_4__.isWebMap)(t)&&!(0,_webscene_utils_js__WEBPACK_IMPORTED_MODULE_5__.isWebScene)(t))return null;await t.load({signal:e});const n=t?.widgets?.timeSlider;if(!n)return null;const i=await u(t,e),s=n.loop,a=o(n);return{fullTimeExtent:i,loop:s,mode:a,playRate:n.stopDelay??2e3,stops:m(n),timeExtent:f(n,a)}}function d(t){if(!t)return t;const{start:e,end:r}=t;return new _chunks_TimeExtent_js__WEBPACK_IMPORTED_MODULE_3__.T({start:null!=e?(0,_core_timeUtils_js__WEBPACK_IMPORTED_MODULE_2__.offsetDate)(e,-e.getTimezoneOffset(),"minutes"):e,end:null!=r?(0,_core_timeUtils_js__WEBPACK_IMPORTED_MODULE_2__.offsetDate)(r,-r.getTimezoneOffset(),"minutes"):r})}function p(t){if(!t)return t;const{start:e,end:r}=t;return new _chunks_TimeExtent_js__WEBPACK_IMPORTED_MODULE_3__.T({start:null!=e?(0,_core_timeUtils_js__WEBPACK_IMPORTED_MODULE_2__.offsetDate)(e,e.getTimezoneOffset(),"minutes"):e,end:null!=r?(0,_core_timeUtils_js__WEBPACK_IMPORTED_MODULE_2__.offsetDate)(r,r.getTimezoneOffset(),"minutes"):r})}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/WMSLayerView2D.js":
/*!*********************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/WMSLayerView2D.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ y)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/maybe.js */ "./node_modules/@arcgis/core/core/maybe.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../core/reactiveUtils.js */ "./node_modules/@arcgis/core/core/reactiveUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_RandomLCG_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../core/RandomLCG.js */ "./node_modules/@arcgis/core/core/RandomLCG.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../geometry/Extent.js */ "./node_modules/@arcgis/core/geometry/Extent.js");
/* harmony import */ var _engine_BitmapContainer_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../engine/BitmapContainer.js */ "./node_modules/@arcgis/core/views/2d/engine/BitmapContainer.js");
/* harmony import */ var _LayerView2D_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./LayerView2D.js */ "./node_modules/@arcgis/core/views/2d/layers/LayerView2D.js");
/* harmony import */ var _support_ExportStrategy_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./support/ExportStrategy.js */ "./node_modules/@arcgis/core/views/2d/layers/support/ExportStrategy.js");
/* harmony import */ var _layers_LayerView_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../layers/LayerView.js */ "./node_modules/@arcgis/core/views/layers/LayerView.js");
/* harmony import */ var _layers_RefreshableLayerView_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../layers/RefreshableLayerView.js */ "./node_modules/@arcgis/core/views/layers/RefreshableLayerView.js");
/* harmony import */ var _layers_WMSLayerView_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../layers/WMSLayerView.js */ "./node_modules/@arcgis/core/views/layers/WMSLayerView.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
let g=class extends((0,_layers_WMSLayerView_js__WEBPACK_IMPORTED_MODULE_15__["default"])((0,_layers_RefreshableLayerView_js__WEBPACK_IMPORTED_MODULE_14__["default"])((0,_LayerView2D_js__WEBPACK_IMPORTED_MODULE_11__.LayerView2DMixin)(_layers_LayerView_js__WEBPACK_IMPORTED_MODULE_13__["default"])))){constructor(){super(...arguments),this.bitmapContainer=new _engine_BitmapContainer_js__WEBPACK_IMPORTED_MODULE_10__.BitmapContainer}supportsSpatialReference(e){return this.layer.serviceSupportsSpatialReference(e)}update(e){this.strategy.update(e).catch((e=>{(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__.isAbortError)(e)||_core_Logger_js__WEBPACK_IMPORTED_MODULE_1__["default"].getLogger(this).error(e)}))}attach(){const{layer:e}=this,{imageMaxHeight:t,imageMaxWidth:r}=e;this.bitmapContainer=new _engine_BitmapContainer_js__WEBPACK_IMPORTED_MODULE_10__.BitmapContainer,this.container.addChild(this.bitmapContainer),this.strategy=new _support_ExportStrategy_js__WEBPACK_IMPORTED_MODULE_12__["default"]({container:this.bitmapContainer,fetchSource:this.fetchImage.bind(this),requestUpdate:this.requestUpdate.bind(this),imageMaxHeight:t,imageMaxWidth:r,imageRotationSupported:!1,imageNormalizationSupported:!1,hidpi:!1}),this.addAttachHandles((0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_4__.watch)((()=>this.exportImageVersion),(()=>this.requestUpdate())))}detach(){this.strategy=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_2__.destroyMaybe)(this.strategy),this.container.removeAllChildren()}viewChange(){}moveEnd(){this.requestUpdate()}createFetchPopupFeaturesQuery(e){const{view:t,bitmapContainer:r}=this,{x:i,y:s}=e,{spatialReference:a}=t;let o,p=0,m=0;if(r.children.some((e=>{const{width:t,height:r,resolution:h,x:c,y:d}=e,u=c+h*t,g=d-h*r;return i>=c&&i<=u&&s<=d&&s>=g&&(o=new _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_9__["default"]({xmin:c,ymin:g,xmax:u,ymax:d,spatialReference:a}),p=t,m=r,!0)})),!o)return null;const h=o.width/p,c=Math.round((i-o.xmin)/h),d=Math.round((o.ymax-s)/h);return{extent:o,width:p,height:m,x:c,y:d}}async doRefresh(){this.requestUpdate()}isUpdating(){return this.strategy.updating||this.updateRequested}fetchImage(e,t,r,i){return this.layer.fetchImageBitmap(e,t,r,{timeExtent:this.timeExtent,...i})}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],g.prototype,"strategy",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],g.prototype,"updating",void 0),g=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_8__.subclass)("esri.views.2d.layers.WMSLayerView2D")],g);const y=g;


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/support/ExportStrategy.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/support/ExportStrategy.js ***!
  \*****************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ M)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/Accessor.js */ "./node_modules/@arcgis/core/core/Accessor.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_RandomLCG_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../core/RandomLCG.js */ "./node_modules/@arcgis/core/core/RandomLCG.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../geometry/support/aaBoundingRect.js */ "./node_modules/@arcgis/core/geometry/support/aaBoundingRect.js");
/* harmony import */ var _geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../geometry/support/spatialReferenceUtils.js */ "./node_modules/@arcgis/core/geometry/support/spatialReferenceUtils.js");
/* harmony import */ var _layers_support_TileInfo_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../layers/support/TileInfo.js */ "./node_modules/@arcgis/core/layers/support/TileInfo.js");
/* harmony import */ var _viewStateUtils_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../viewStateUtils.js */ "./node_modules/@arcgis/core/views/2d/viewStateUtils.js");
/* harmony import */ var _engine_Bitmap_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../engine/Bitmap.js */ "./node_modules/@arcgis/core/views/2d/engine/Bitmap.js");
/* harmony import */ var _tiling_TileInfoView_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../tiling/TileInfoView.js */ "./node_modules/@arcgis/core/views/2d/tiling/TileInfoView.js");
/* harmony import */ var _tiling_TileKey_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../tiling/TileKey.js */ "./node_modules/@arcgis/core/views/2d/tiling/TileKey.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
const y=(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_8__.create)(),x=[0,0],S=new _tiling_TileKey_js__WEBPACK_IMPORTED_MODULE_14__["default"](0,0,0,0),w={imageMaxWidth:2048,imageMaxHeight:2048,imageRotationSupported:!1,imageNormalizationSupported:!1,hidpi:!1};let M=class extends _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__["default"]{constructor(t){super(t),this._imagePromise=null,this.bitmaps=[],this.hidpi=w.hidpi,this.imageMaxWidth=w.imageMaxWidth,this.imageMaxHeight=w.imageMaxHeight,this.imageRotationSupported=w.imageRotationSupported,this.imageNormalizationSupported=w.imageNormalizationSupported,this.update=(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__.debounce)((async(t,e)=>{if((0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__.throwIfAborted)(e),!t.stationary||this.destroyed)return;const i=t.state,s=(0,_geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_9__.getInfo)(i.spatialReference),a=this.hidpi?t.pixelRatio:1,n=i.worldScreenWidth>0,p=n&&this.imageNormalizationSupported&&i.worldScreenWidth<i.size[0],m=Math.round((this.imageMaxWidth??0)/a),d=Math.round((this.imageMaxHeight??0)/a);p?(x[0]=i.worldScreenWidth,x[1]=i.size[1]):this.imageRotationSupported?(x[0]=i.size[0],x[1]=i.size[1]):(0,_viewStateUtils_js__WEBPACK_IMPORTED_MODULE_11__.getOuterSize)(x,i);const c=Math.floor(x[0])>m||Math.floor(x[1])>d,u=s&&(i.extent.xmin<s.valid[0]||i.extent.xmax>s.valid[1]),g=!this.imageNormalizationSupported&&u,f=!c&&!g,y=this.imageRotationSupported?i.rotation:0,S=this.container.children.slice();if(f){const t=p?i.paddedViewState.center:i.center;this._imagePromise=this._singleExport(i,x,t,i.resolution,y,a,e)}else{let t=Math.min(m,d);n&&(t=Math.min(i.worldScreenWidth,t),t=Math.round(i.worldScreenWidth/Math.ceil(i.worldScreenWidth/t))),this._imagePromise=this._tiledExport(i,t,a,e)}try{const t=await this._imagePromise??[];(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__.throwIfAborted)(e);const i=[];if(this._imagePromise=null,this.destroyed)return;this.bitmaps=t;for(const e of S)t.includes(e)||i.push(e.fadeOut().then((()=>{e.remove(),e.destroy()})));for(const e of t)i.push(e.fadeIn());await Promise.all(i)}catch(w){this._imagePromise=null,(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__.throwIfAbortError)(w)}}),5e3),this.updateExports=(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__.debounce)((async t=>{const e=[];for(const i of this.container.children){if(!i.visible||!i.stage)return;e.push(t(i).then((()=>{i.invalidateTexture(),i.requestRender()})))}this._imagePromise=(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__.eachAlways)(e).then((()=>this._imagePromise=null)),await this._imagePromise}))}destroy(){this.bitmaps.forEach((t=>t.destroy())),this.bitmaps=[]}get updating(){return!this.destroyed&&null!==this._imagePromise}async _export(t,e,i,r,s,a){const n=await this.fetchSource(t,Math.floor(e*s),Math.floor(i*s),{rotation:r,pixelRatio:s,signal:a});(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__.throwIfAborted)(a);const p=new _engine_Bitmap_js__WEBPACK_IMPORTED_MODULE_12__.Bitmap(null,!0);return p.x=t.xmin,p.y=t.ymax,p.resolution=t.width/e,p.rotation=r,p.pixelRatio=s,p.opacity=0,this.container.addChild(p),await p.setSourceAsync(n,a),(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__.throwIfAborted)(a),p}async _singleExport(t,e,i,o,r,s,a){(0,_viewStateUtils_js__WEBPACK_IMPORTED_MODULE_11__.getBBox)(y,i,o,e);const n=(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_8__.toExtent)(y,t.spatialReference);return[await this._export(n,e[0],e[1],r,s,a)]}_tiledExport(t,e,i,o){const r=_layers_support_TileInfo_js__WEBPACK_IMPORTED_MODULE_10__["default"].create({size:e,spatialReference:t.spatialReference,scales:[t.scale]}),s=new _tiling_TileInfoView_js__WEBPACK_IMPORTED_MODULE_13__["default"](r),a=s.getTileCoverage(t);if(!a)return null;const n=[];return a.forEach(((r,a,m,h)=>{S.set(r,a,m,0),s.getTileBounds(y,S);const d=(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_8__.toExtent)(y,t.spatialReference);n.push(this._export(d,e,e,0,i,o).then((t=>(0!==h&&(S.set(r,a,m,h),s.getTileBounds(y,S),t.x=y[0],t.y=y[3]),t))))})),Promise.all(n)}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],M.prototype,"_imagePromise",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],M.prototype,"bitmaps",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],M.prototype,"container",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],M.prototype,"fetchSource",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],M.prototype,"hidpi",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],M.prototype,"imageMaxWidth",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],M.prototype,"imageMaxHeight",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],M.prototype,"imageRotationSupported",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],M.prototype,"imageNormalizationSupported",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],M.prototype,"requestUpdate",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],M.prototype,"updating",null),M=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__.subclass)("esri.views.2d.layers.support.ExportStrategy")],M);


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/viewStateUtils.js":
/*!**************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/viewStateUtils.js ***!
  \**************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   getBBox: () => (/* binding */ a),
/* harmony export */   getOuterSize: () => (/* binding */ o)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
const t=Math.PI/180;function n(n){return n*t}function o(t,o){const a=n(o.rotation),r=Math.abs(Math.cos(a)),s=Math.abs(Math.sin(a)),[u,c]=o.size;return t[0]=Math.round(c*s+u*r),t[1]=Math.round(c*r+u*s),t}function a(t,n,o,a){const[r,s]=n,[u,c]=a,h=.5*o;return t[0]=r-h*u,t[1]=s-h*c,t[2]=r+h*u,t[3]=s+h*c,t}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/layers/RefreshableLayerView.js":
/*!************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/layers/RefreshableLayerView.js ***!
  \************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ i)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../core/reactiveUtils.js */ "./node_modules/@arcgis/core/core/reactiveUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_RandomLCG_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../core/RandomLCG.js */ "./node_modules/@arcgis/core/core/RandomLCG.js");
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
const i=i=>{let a=class extends i{initialize(){this.addHandles((0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__.on)((()=>this.layer),"refresh",(r=>{this.doRefresh(r.dataChanged).catch((r=>{(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_2__.isAbortError)(r)||_core_Logger_js__WEBPACK_IMPORTED_MODULE_1__["default"].getLogger(this).error(r)}))})),"RefreshableLayerView")}};return a=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__.subclass)("esri.views.layers.RefreshableLayerView")],a),a};


/***/ }),

/***/ "./node_modules/@arcgis/core/views/layers/WMSLayerView.js":
/*!****************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/layers/WMSLayerView.js ***!
  \****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ m)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/maybe.js */ "./node_modules/@arcgis/core/core/maybe.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_RandomLCG_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../core/RandomLCG.js */ "./node_modules/@arcgis/core/core/RandomLCG.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _layers_support_ExportWMSImageParameters_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../layers/support/ExportWMSImageParameters.js */ "./node_modules/@arcgis/core/layers/support/ExportWMSImageParameters.js");
/* harmony import */ var _layers_support_timeSupport_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../layers/support/timeSupport.js */ "./node_modules/@arcgis/core/layers/support/timeSupport.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
const m=m=>{let n=class extends m{initialize(){this.exportImageParameters=new _layers_support_ExportWMSImageParameters_js__WEBPACK_IMPORTED_MODULE_9__.ExportWMSImageParameters({layer:this.layer})}destroy(){this.exportImageParameters=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_2__.destroyMaybe)(this.exportImageParameters)}get exportImageVersion(){return this.exportImageParameters?.commitProperty("version"),this.commitProperty("timeExtent"),(this._get("exportImageVersion")||0)+1}get timeExtent(){return (0,_layers_support_timeSupport_js__WEBPACK_IMPORTED_MODULE_10__.combineTimeExtent)(this.layer,this.view?.timeExtent,this._get("timeExtent"))}async fetchPopupFeaturesAtLocation(e,r){const{layer:s}=this;if(!e)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_1__["default"]("wmslayerview:fetchPopupFeatures","Nothing to fetch without area",{layer:s});const{popupEnabled:a}=s;if(!a)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_1__["default"]("wmslayerview:fetchPopupFeatures","popupEnabled should be true",{popupEnabled:a});const p=this.createFetchPopupFeaturesQuery(e);if(!p)return[];const{extent:i,width:m,height:n,x:c,y:u}=p;if(!(i&&m&&n))throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_1__["default"]("wmslayerview:fetchPopupFeatures","WMSLayer does not support fetching features.",{extent:i,width:m,height:n});const h=await s.fetchFeatureInfo(i,m,n,c,u);return (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__.throwIfAborted)(r),h}};return (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],n.prototype,"exportImageParameters",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)({readOnly:!0})],n.prototype,"exportImageVersion",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],n.prototype,"layer",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)({readOnly:!0})],n.prototype,"timeExtent",null),n=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_8__.subclass)("esri.views.layers.WMSLayerView")],n),n};


/***/ }),

/***/ "./node_modules/@arcgis/core/webscene/utils.js":
/*!*****************************************************!*\
  !*** ./node_modules/@arcgis/core/webscene/utils.js ***!
  \*****************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   isWebScene: () => (/* binding */ t)
/* harmony export */ });
/* harmony import */ var _support_tagSymbols_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../support/tagSymbols.js */ "./node_modules/@arcgis/core/support/tagSymbols.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
function t(t){return null!=t&&"object"==typeof t&&_support_tagSymbols_js__WEBPACK_IMPORTED_MODULE_0__.WebSceneTag in t}


/***/ })

};

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmVuZG9ycy1ub2RlX21vZHVsZXNfYXJjZ2lzX2NvcmVfdmlld3NfMmRfbGF5ZXJzX1dNU0xheWVyVmlldzJEX2pzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ29GLGtCQUFrQixpQ0FBaUMsTUFBTSx1REFBdUQsR0FBRyxtQkFBbUIsTUFBTSx3RUFBQyxLQUFLLHNDQUFzQywyRUFBMkUsc0VBQUMsc0JBQXFEOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNKN1k7QUFDQTtBQUNBO0FBQ0E7QUFDcVIsY0FBYywyQkFBMkIsc0JBQXNCLCtEQUErRCxjQUFjLDZDQUE2QyxNQUFNLE1BQU0sY0FBYyxHQUFHLHdKQUF3SixtREFBbUQsY0FBYyxNQUFNLGtDQUFrQyxHQUFHLFVBQVUsTUFBTSxvREFBQyxJQUFJLElBQUksbUJBQW1CLEVBQUUsWUFBWSxzQkFBc0IsdUJBQXVCLG9EQUFDLFNBQVMsb0NBQW9DLFNBQVMsS0FBSyx5RUFBeUUscUNBQXFDLG9EQUFDLFNBQVMsZ0JBQWdCLDBHQUEwRyxpREFBaUQsb0NBQW9DLHVCQUF1QixHQUFHLDZCQUE2QiwwQ0FBMEMsb0JBQW9CLG9EQUFDLFNBQVMseUJBQXlCLHlDQUF5QyxTQUFTLDRDQUE0Qyx1QkFBdUIsR0FBRyw2QkFBNkIsaUZBQWlGLG9CQUFvQixvREFBQyxTQUFTLDJCQUEyQix1REFBQyxFQUFFLHVCQUF1QixvREFBQyxTQUFTLHFDQUFxQyxnQkFBZ0IsNEJBQTRCLGtCQUFrQixNQUFNLGNBQWMsZ0JBQWdCLFVBQVUsNkJBQTZCLG9EQUFDLEVBQUUsY0FBYyxFQUFFLHVDQUF1QyxvREFBQyxFQUFFLGlCQUFpQixFQUFFLHFDQUFxQyxvREFBQyxFQUFFLGlCQUFpQixFQUFFLHlCQUF5QixvREFBQyxFQUFFLGNBQWMsR0FBRyxzQkFBc0IsSUFBSSwwREFBQyxNQUFNLDhEQUFDLGdCQUFnQixjQUFjLFNBQVMsRUFBRSwrQkFBK0Isa0JBQWtCLHFDQUFxQyxPQUFP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Ozs7Ozs7Ozs7Ozs7QUNKdlY7QUFDQTtBQUNBO0FBQ0E7QUFDZ1csWUFBWSxzQkFBc0IsYUFBYSxnQkFBZ0IsMERBQUMsaUNBQWlDLHlDQUF5QyxtRUFBQyxLQUFLLHVEQUFDLDBCQUEwQixHQUFHLDZCQUE2QixTQUFTLHVEQUFDLEVBQUUsc0ZBQUMsa0RBQXVFOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ0ovbkI7QUFDQTtBQUNBO0FBQ0E7QUFDcWxCLFlBQVksc0JBQXNCLGFBQWEsK0JBQStCLGlHQUFDLEVBQUUsaUJBQWlCLEVBQUUsVUFBVSwyQkFBMkIsNERBQUMsNkJBQTZCLHlCQUF5QixzSUFBc0ksaUJBQWlCLE9BQU8sa0ZBQUMsMkRBQTJELHdDQUF3QyxNQUFNLFFBQVEsTUFBTSxnQkFBZ0Isc0RBQUMsb0VBQW9FLFFBQVEsRUFBRSxNQUFNLGVBQWUsR0FBRyxnQkFBZ0Isc0RBQUMsa0VBQWtFLGVBQWUsRUFBRSw4Q0FBOEMsZUFBZSxNQUFNLGtDQUFrQyxHQUFHLHdCQUF3QixzREFBQyxtRkFBbUYsMEJBQTBCLEVBQUUsNENBQTRDLE9BQU8scUVBQUMsUUFBUSxPQUFPLHVEQUFDLEVBQUUsc0ZBQUMsZ0RBQWdELHVEQUFDLEVBQUUsc0ZBQUMsRUFBRSxZQUFZLDBDQUEwQyx1REFBQyxFQUFFLHNGQUFDLGdDQUFnQyx1REFBQyxFQUFFLHNGQUFDLEVBQUUsWUFBWSxvQ0FBb0MsdURBQUMsRUFBRSxzRkFBQywwQ0FBK0Q7Ozs7Ozs7Ozs7Ozs7Ozs7QUNKdDBEO0FBQ0E7QUFDQTtBQUNBO0FBQ3VELGNBQWMsb0NBQW9DLCtEQUFDLE1BQThCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcHJlY2lzaW9uZmFybXMvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL2xheWVycy9zdXBwb3J0L3RpbWVTdXBwb3J0LmpzIiwid2VicGFjazovL3ByZWNpc2lvbmZhcm1zLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS9zdXBwb3J0L3RpbWVVdGlscy5qcyIsIndlYnBhY2s6Ly9wcmVjaXNpb25mYXJtcy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvMmQvbGF5ZXJzL1dNU0xheWVyVmlldzJELmpzIiwid2VicGFjazovL3ByZWNpc2lvbmZhcm1zLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8yZC9sYXllcnMvc3VwcG9ydC9FeHBvcnRTdHJhdGVneS5qcyIsIndlYnBhY2s6Ly9wcmVjaXNpb25mYXJtcy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvMmQvdmlld1N0YXRlVXRpbHMuanMiLCJ3ZWJwYWNrOi8vcHJlY2lzaW9uZmFybXMvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzL2xheWVycy9SZWZyZXNoYWJsZUxheWVyVmlldy5qcyIsIndlYnBhY2s6Ly9wcmVjaXNpb25mYXJtcy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvbGF5ZXJzL1dNU0xheWVyVmlldy5qcyIsIndlYnBhY2s6Ly9wcmVjaXNpb25mYXJtcy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvd2Vic2NlbmUvdXRpbHMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMzMvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHt0b0xvY2FsVGltZUV4dGVudCBhcyBlLHRvVVRDVGltZUV4dGVudCBhcyB0fWZyb21cIi4uLy4uL3N1cHBvcnQvdGltZVV0aWxzLmpzXCI7ZnVuY3Rpb24gaShpLG4scyl7aWYobnVsbD09aT8udGltZUluZm8pcmV0dXJuIG51bGw7Y29uc3R7ZGF0ZXNJblVua25vd25UaW1lem9uZTpsPSExLHRpbWVPZmZzZXQ6byx1c2VWaWV3VGltZTptfT1pO2xldCB1PWkudGltZUV4dGVudDtsJiYodT1lKHUpKTtsZXQgcj1tP24mJnU/bi5pbnRlcnNlY3Rpb24odSk6bnx8dTp1O3JldHVybiFyfHxyLmlzRW1wdHl8fHIuaXNBbGxUaW1lP3I6KG8mJihyPXIub2Zmc2V0KC1vLnZhbHVlLG8udW5pdCkpLGwmJihyPXQocikpLHIuZXF1YWxzKHMpP3M6cil9ZXhwb3J0e2kgYXMgY29tYmluZVRpbWVFeHRlbnR9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMzMvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtpc1NvbWUgYXMgdH1mcm9tXCIuLi9jb3JlL2FycmF5VXRpbHMuanNcIjtpbXBvcnR7Y2xvbmUgYXMgZX1mcm9tXCIuLi9jb3JlL2xhbmcuanNcIjtpbXBvcnR7b2Zmc2V0RGF0ZSBhcyBufWZyb21cIi4uL2NvcmUvdGltZVV0aWxzLmpzXCI7aW1wb3J0e1QgYXMgaX1mcm9tXCIuLi9jaHVua3MvVGltZUV4dGVudC5qc1wiO2ltcG9ydHtpc1dlYk1hcCBhcyByfWZyb21cIi4uL3dlYm1hcC91dGlscy5qc1wiO2ltcG9ydHtpc1dlYlNjZW5lIGFzIGx9ZnJvbVwiLi4vd2Vic2NlbmUvdXRpbHMuanNcIjtmdW5jdGlvbiBzKHQpe3JldHVybiB2b2lkIDAhPT10LnRpbWVJbmZvfWFzeW5jIGZ1bmN0aW9uIHUodCxlKXtyZXR1cm4gdC53aWRnZXRzPy50aW1lU2xpZGVyPy5mdWxsVGltZUV4dGVudD8/YSh0LmFsbExheWVycyxlKX1mdW5jdGlvbiBvKHQpe2NvbnN0IGU9dC5udW1UaHVtYnM/PzIsbj10LmN1cnJlbnRUaW1lRXh0ZW50O2lmKG4pe2NvbnN0e3N0YXJ0OnQsZW5kOml9PW47cmV0dXJuIG51bGwhPXQmJm51bGwhPWkmJnQuZ2V0VGltZSgpPT09aS5nZXRUaW1lKCk/XCJpbnN0YW50XCI6Mj09PWU/XCJ0aW1lLXdpbmRvd1wiOm51bGw9PXR8fDA9PT10LmdldFRpbWUoKT9cImN1bXVsYXRpdmUtZnJvbS1zdGFydFwiOlwiY3VtdWxhdGl2ZS1mcm9tLWVuZFwifXJldHVybiAyPT09ZT9cInRpbWUtd2luZG93XCI6XCJjdW11bGF0aXZlLWZyb20tc3RhcnRcIn1mdW5jdGlvbiBtKHQpe2NvbnN0e251bVN0b3BzOm4sc3RvcEludGVydmFsOmksc3RvcHM6cn09dDtyZXR1cm4gcj97ZGF0ZXM6ZShyKX06aT97aW50ZXJ2YWw6aS5jbG9uZSgpfTp7Y291bnQ6bj8/NX19YXN5bmMgZnVuY3Rpb24gYShlLG4pe2lmKDA9PT1lLmxlbmd0aClyZXR1cm4gaS5hbGxUaW1lO2F3YWl0IFByb21pc2UuYWxsKGUubWFwKCh0PT50LmxvYWQoe3NpZ25hbDpufSkpKSk7Y29uc3Qgcj1lLmZpbHRlcihzKSxsPWUuZmlsdGVyKCh0PT4hcyh0KSYmbnVsbCE9dC52aXNpYmlsaXR5VGltZUV4dGVudCkpO2lmKDA9PT1yLmxlbmd0aCYmMD09PWwubGVuZ3RoKXJldHVybiBpLmFsbFRpbWU7Y29uc3QgdT1bXSxvPVtdO2Zvcihjb25zdCB0IG9mIHIpXCJmZWF0dXJlXCIhPT10Py50eXBlJiZcIm1hcC1pbWFnZVwiIT09dD8udHlwZXx8IXQudGltZUluZm8/Lmhhc0xpdmVEYXRhP28ucHVzaCh0KTp1LnB1c2godCk7Y29uc3QgbT10PT5udWxsPT10fHx0LmlzQWxsVGltZSxhPVsuLi5vLm1hcCgodD0+e2NvbnN0IGU9dC50aW1lSW5mbz8uZnVsbFRpbWVFeHRlbnQse3Zpc2liaWxpdHlUaW1lRXh0ZW50Om59PXQ7cmV0dXJuIGU/LmludGVyc2VjdGlvbihuKT8/bn0pKSwuLi5sLm1hcCgodD0+dC52aXNpYmlsaXR5VGltZUV4dGVudCkpXTtpZihhLnNvbWUobSkpcmV0dXJuIGkuYWxsVGltZTtjb25zdCBmPXUubWFwKChhc3luYyB0PT57Y29uc3QgZT0oYXdhaXQgdC5mZXRjaFJlY29tcHV0ZWRFeHRlbnRzKHtzaWduYWw6bn0pKT8udGltZUV4dGVudD8/dC50aW1lSW5mbz8uZnVsbFRpbWVFeHRlbnQse3Zpc2liaWxpdHlUaW1lRXh0ZW50Oml9PXQ7cmV0dXJuIGU/LmludGVyc2VjdGlvbihpKT8/aX0pKSxjPShhd2FpdCBQcm9taXNlLmFsbFNldHRsZWQoZikpLm1hcCgodD0+XCJmdWxmaWxsZWRcIj09PXQuc3RhdHVzP3QudmFsdWU6bnVsbCkpO2lmKGMuc29tZShtKSlyZXR1cm4gaS5hbGxUaW1lO2NvbnN0IGQ9Wy4uLmMsLi4uYV0uZmlsdGVyKHQpO2lmKDA9PT1kLmxlbmd0aClyZXR1cm4gaS5hbGxUaW1lO3JldHVybiBkLnJlZHVjZSgoKHQsZSk9PnQudW5pb24oZSkpKX1mdW5jdGlvbiBmKHQsZSl7Y29uc3Qgbj10LmN1cnJlbnRUaW1lRXh0ZW50O2lmKCFuKXJldHVybiBudWxsO2NvbnN0e3N0YXJ0OnIsZW5kOmx9PW4scz1yPz9sPz9udWxsO3N3aXRjaChlKXtjYXNlXCJ0aW1lLXdpbmRvd1wiOnJldHVybiBuZXcgaSh7c3RhcnQ6cixlbmQ6bH0pO2Nhc2VcImN1bXVsYXRpdmUtZnJvbS1zdGFydFwiOnJldHVybiBuZXcgaSh7c3RhcnQ6bnVsbCxlbmQ6c30pO2Nhc2VcImN1bXVsYXRpdmUtZnJvbS1lbmRcIjpyZXR1cm4gbmV3IGkoe3N0YXJ0OnMsZW5kOm51bGx9KTtjYXNlXCJpbnN0YW50XCI6cmV0dXJuIG5ldyBpKHtzdGFydDpzLGVuZDpzfSl9fWFzeW5jIGZ1bmN0aW9uIGModCxlKXtpZighcih0KSYmIWwodCkpcmV0dXJuIG51bGw7YXdhaXQgdC5sb2FkKHtzaWduYWw6ZX0pO2NvbnN0IG49dD8ud2lkZ2V0cz8udGltZVNsaWRlcjtpZighbilyZXR1cm4gbnVsbDtjb25zdCBpPWF3YWl0IHUodCxlKSxzPW4ubG9vcCxhPW8obik7cmV0dXJue2Z1bGxUaW1lRXh0ZW50OmksbG9vcDpzLG1vZGU6YSxwbGF5UmF0ZTpuLnN0b3BEZWxheT8/MmUzLHN0b3BzOm0obiksdGltZUV4dGVudDpmKG4sYSl9fWZ1bmN0aW9uIGQodCl7aWYoIXQpcmV0dXJuIHQ7Y29uc3R7c3RhcnQ6ZSxlbmQ6cn09dDtyZXR1cm4gbmV3IGkoe3N0YXJ0Om51bGwhPWU/bihlLC1lLmdldFRpbWV6b25lT2Zmc2V0KCksXCJtaW51dGVzXCIpOmUsZW5kOm51bGwhPXI/bihyLC1yLmdldFRpbWV6b25lT2Zmc2V0KCksXCJtaW51dGVzXCIpOnJ9KX1mdW5jdGlvbiBwKHQpe2lmKCF0KXJldHVybiB0O2NvbnN0e3N0YXJ0OmUsZW5kOnJ9PXQ7cmV0dXJuIG5ldyBpKHtzdGFydDpudWxsIT1lP24oZSxlLmdldFRpbWV6b25lT2Zmc2V0KCksXCJtaW51dGVzXCIpOmUsZW5kOm51bGwhPXI/bihyLHIuZ2V0VGltZXpvbmVPZmZzZXQoKSxcIm1pbnV0ZXNcIik6cn0pfWV4cG9ydHthIGFzIGdldFRpbWVFeHRlbnRGcm9tTGF5ZXJzLGMgYXMgZ2V0VGltZVNsaWRlclNldHRpbmdzRnJvbVdlYkRvY3VtZW50LHAgYXMgdG9Mb2NhbFRpbWVFeHRlbnQsZCBhcyB0b1VUQ1RpbWVFeHRlbnR9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMzMvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtfIGFzIGV9ZnJvbVwiLi4vLi4vLi4vY2h1bmtzL3RzbGliLmVzNi5qc1wiO2ltcG9ydCB0IGZyb21cIi4uLy4uLy4uL2NvcmUvTG9nZ2VyLmpzXCI7aW1wb3J0e2Rlc3Ryb3lNYXliZSBhcyByfWZyb21cIi4uLy4uLy4uL2NvcmUvbWF5YmUuanNcIjtpbXBvcnR7aXNBYm9ydEVycm9yIGFzIGl9ZnJvbVwiLi4vLi4vLi4vY29yZS9wcm9taXNlVXRpbHMuanNcIjtpbXBvcnR7d2F0Y2ggYXMgc31mcm9tXCIuLi8uLi8uLi9jb3JlL3JlYWN0aXZlVXRpbHMuanNcIjtpbXBvcnR7cHJvcGVydHkgYXMgYX1mcm9tXCIuLi8uLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3Byb3BlcnR5LmpzXCI7aW1wb3J0XCIuLi8uLi8uLi9jb3JlL2hhcy5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vY29yZS9SYW5kb21MQ0cuanNcIjtpbXBvcnR7c3ViY2xhc3MgYXMgb31mcm9tXCIuLi8uLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3N1YmNsYXNzLmpzXCI7aW1wb3J0IG4gZnJvbVwiLi4vLi4vLi4vZ2VvbWV0cnkvRXh0ZW50LmpzXCI7aW1wb3J0e0JpdG1hcENvbnRhaW5lciBhcyBwfWZyb21cIi4uL2VuZ2luZS9CaXRtYXBDb250YWluZXIuanNcIjtpbXBvcnR7TGF5ZXJWaWV3MkRNaXhpbiBhcyBtfWZyb21cIi4vTGF5ZXJWaWV3MkQuanNcIjtpbXBvcnQgaCBmcm9tXCIuL3N1cHBvcnQvRXhwb3J0U3RyYXRlZ3kuanNcIjtpbXBvcnQgYyBmcm9tXCIuLi8uLi9sYXllcnMvTGF5ZXJWaWV3LmpzXCI7aW1wb3J0IGQgZnJvbVwiLi4vLi4vbGF5ZXJzL1JlZnJlc2hhYmxlTGF5ZXJWaWV3LmpzXCI7aW1wb3J0IHUgZnJvbVwiLi4vLi4vbGF5ZXJzL1dNU0xheWVyVmlldy5qc1wiO2xldCBnPWNsYXNzIGV4dGVuZHModShkKG0oYykpKSl7Y29uc3RydWN0b3IoKXtzdXBlciguLi5hcmd1bWVudHMpLHRoaXMuYml0bWFwQ29udGFpbmVyPW5ldyBwfXN1cHBvcnRzU3BhdGlhbFJlZmVyZW5jZShlKXtyZXR1cm4gdGhpcy5sYXllci5zZXJ2aWNlU3VwcG9ydHNTcGF0aWFsUmVmZXJlbmNlKGUpfXVwZGF0ZShlKXt0aGlzLnN0cmF0ZWd5LnVwZGF0ZShlKS5jYXRjaCgoZT0+e2koZSl8fHQuZ2V0TG9nZ2VyKHRoaXMpLmVycm9yKGUpfSkpfWF0dGFjaCgpe2NvbnN0e2xheWVyOmV9PXRoaXMse2ltYWdlTWF4SGVpZ2h0OnQsaW1hZ2VNYXhXaWR0aDpyfT1lO3RoaXMuYml0bWFwQ29udGFpbmVyPW5ldyBwLHRoaXMuY29udGFpbmVyLmFkZENoaWxkKHRoaXMuYml0bWFwQ29udGFpbmVyKSx0aGlzLnN0cmF0ZWd5PW5ldyBoKHtjb250YWluZXI6dGhpcy5iaXRtYXBDb250YWluZXIsZmV0Y2hTb3VyY2U6dGhpcy5mZXRjaEltYWdlLmJpbmQodGhpcykscmVxdWVzdFVwZGF0ZTp0aGlzLnJlcXVlc3RVcGRhdGUuYmluZCh0aGlzKSxpbWFnZU1heEhlaWdodDp0LGltYWdlTWF4V2lkdGg6cixpbWFnZVJvdGF0aW9uU3VwcG9ydGVkOiExLGltYWdlTm9ybWFsaXphdGlvblN1cHBvcnRlZDohMSxoaWRwaTohMX0pLHRoaXMuYWRkQXR0YWNoSGFuZGxlcyhzKCgoKT0+dGhpcy5leHBvcnRJbWFnZVZlcnNpb24pLCgoKT0+dGhpcy5yZXF1ZXN0VXBkYXRlKCkpKSl9ZGV0YWNoKCl7dGhpcy5zdHJhdGVneT1yKHRoaXMuc3RyYXRlZ3kpLHRoaXMuY29udGFpbmVyLnJlbW92ZUFsbENoaWxkcmVuKCl9dmlld0NoYW5nZSgpe31tb3ZlRW5kKCl7dGhpcy5yZXF1ZXN0VXBkYXRlKCl9Y3JlYXRlRmV0Y2hQb3B1cEZlYXR1cmVzUXVlcnkoZSl7Y29uc3R7dmlldzp0LGJpdG1hcENvbnRhaW5lcjpyfT10aGlzLHt4OmkseTpzfT1lLHtzcGF0aWFsUmVmZXJlbmNlOmF9PXQ7bGV0IG8scD0wLG09MDtpZihyLmNoaWxkcmVuLnNvbWUoKGU9Pntjb25zdHt3aWR0aDp0LGhlaWdodDpyLHJlc29sdXRpb246aCx4OmMseTpkfT1lLHU9YytoKnQsZz1kLWgqcjtyZXR1cm4gaT49YyYmaTw9dSYmczw9ZCYmcz49ZyYmKG89bmV3IG4oe3htaW46Yyx5bWluOmcseG1heDp1LHltYXg6ZCxzcGF0aWFsUmVmZXJlbmNlOmF9KSxwPXQsbT1yLCEwKX0pKSwhbylyZXR1cm4gbnVsbDtjb25zdCBoPW8ud2lkdGgvcCxjPU1hdGgucm91bmQoKGktby54bWluKS9oKSxkPU1hdGgucm91bmQoKG8ueW1heC1zKS9oKTtyZXR1cm57ZXh0ZW50Om8sd2lkdGg6cCxoZWlnaHQ6bSx4OmMseTpkfX1hc3luYyBkb1JlZnJlc2goKXt0aGlzLnJlcXVlc3RVcGRhdGUoKX1pc1VwZGF0aW5nKCl7cmV0dXJuIHRoaXMuc3RyYXRlZ3kudXBkYXRpbmd8fHRoaXMudXBkYXRlUmVxdWVzdGVkfWZldGNoSW1hZ2UoZSx0LHIsaSl7cmV0dXJuIHRoaXMubGF5ZXIuZmV0Y2hJbWFnZUJpdG1hcChlLHQscix7dGltZUV4dGVudDp0aGlzLnRpbWVFeHRlbnQsLi4uaX0pfX07ZShbYSgpXSxnLnByb3RvdHlwZSxcInN0cmF0ZWd5XCIsdm9pZCAwKSxlKFthKCldLGcucHJvdG90eXBlLFwidXBkYXRpbmdcIix2b2lkIDApLGc9ZShbbyhcImVzcmkudmlld3MuMmQubGF5ZXJzLldNU0xheWVyVmlldzJEXCIpXSxnKTtjb25zdCB5PWc7ZXhwb3J0e3kgYXMgZGVmYXVsdH07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4zMy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e18gYXMgdH1mcm9tXCIuLi8uLi8uLi8uLi9jaHVua3MvdHNsaWIuZXM2LmpzXCI7aW1wb3J0IGUgZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9BY2Nlc3Nvci5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vLi4vY29yZS9oYXMuanNcIjtpbXBvcnR7ZGVib3VuY2UgYXMgaSx0aHJvd0lmQWJvcnRlZCBhcyBvLHRocm93SWZBYm9ydEVycm9yIGFzIHIsZWFjaEFsd2F5cyBhcyBzfWZyb21cIi4uLy4uLy4uLy4uL2NvcmUvcHJvbWlzZVV0aWxzLmpzXCI7aW1wb3J0e3Byb3BlcnR5IGFzIGF9ZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9wcm9wZXJ0eS5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vLi4vY29yZS9Mb2dnZXIuanNcIjtpbXBvcnRcIi4uLy4uLy4uLy4uL2NvcmUvUmFuZG9tTENHLmpzXCI7aW1wb3J0e3N1YmNsYXNzIGFzIG59ZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9zdWJjbGFzcy5qc1wiO2ltcG9ydHt0b0V4dGVudCBhcyBwLGNyZWF0ZSBhcyBtfWZyb21cIi4uLy4uLy4uLy4uL2dlb21ldHJ5L3N1cHBvcnQvYWFCb3VuZGluZ1JlY3QuanNcIjtpbXBvcnR7Z2V0SW5mbyBhcyBofWZyb21cIi4uLy4uLy4uLy4uL2dlb21ldHJ5L3N1cHBvcnQvc3BhdGlhbFJlZmVyZW5jZVV0aWxzLmpzXCI7aW1wb3J0IGQgZnJvbVwiLi4vLi4vLi4vLi4vbGF5ZXJzL3N1cHBvcnQvVGlsZUluZm8uanNcIjtpbXBvcnR7Z2V0T3V0ZXJTaXplIGFzIGwsZ2V0QkJveCBhcyBjfWZyb21cIi4uLy4uL3ZpZXdTdGF0ZVV0aWxzLmpzXCI7aW1wb3J0e0JpdG1hcCBhcyB1fWZyb21cIi4uLy4uL2VuZ2luZS9CaXRtYXAuanNcIjtpbXBvcnQgZyBmcm9tXCIuLi8uLi90aWxpbmcvVGlsZUluZm9WaWV3LmpzXCI7aW1wb3J0IGYgZnJvbVwiLi4vLi4vdGlsaW5nL1RpbGVLZXkuanNcIjtjb25zdCB5PW0oKSx4PVswLDBdLFM9bmV3IGYoMCwwLDAsMCksdz17aW1hZ2VNYXhXaWR0aDoyMDQ4LGltYWdlTWF4SGVpZ2h0OjIwNDgsaW1hZ2VSb3RhdGlvblN1cHBvcnRlZDohMSxpbWFnZU5vcm1hbGl6YXRpb25TdXBwb3J0ZWQ6ITEsaGlkcGk6ITF9O2xldCBNPWNsYXNzIGV4dGVuZHMgZXtjb25zdHJ1Y3Rvcih0KXtzdXBlcih0KSx0aGlzLl9pbWFnZVByb21pc2U9bnVsbCx0aGlzLmJpdG1hcHM9W10sdGhpcy5oaWRwaT13LmhpZHBpLHRoaXMuaW1hZ2VNYXhXaWR0aD13LmltYWdlTWF4V2lkdGgsdGhpcy5pbWFnZU1heEhlaWdodD13LmltYWdlTWF4SGVpZ2h0LHRoaXMuaW1hZ2VSb3RhdGlvblN1cHBvcnRlZD13LmltYWdlUm90YXRpb25TdXBwb3J0ZWQsdGhpcy5pbWFnZU5vcm1hbGl6YXRpb25TdXBwb3J0ZWQ9dy5pbWFnZU5vcm1hbGl6YXRpb25TdXBwb3J0ZWQsdGhpcy51cGRhdGU9aSgoYXN5bmModCxlKT0+e2lmKG8oZSksIXQuc3RhdGlvbmFyeXx8dGhpcy5kZXN0cm95ZWQpcmV0dXJuO2NvbnN0IGk9dC5zdGF0ZSxzPWgoaS5zcGF0aWFsUmVmZXJlbmNlKSxhPXRoaXMuaGlkcGk/dC5waXhlbFJhdGlvOjEsbj1pLndvcmxkU2NyZWVuV2lkdGg+MCxwPW4mJnRoaXMuaW1hZ2VOb3JtYWxpemF0aW9uU3VwcG9ydGVkJiZpLndvcmxkU2NyZWVuV2lkdGg8aS5zaXplWzBdLG09TWF0aC5yb3VuZCgodGhpcy5pbWFnZU1heFdpZHRoPz8wKS9hKSxkPU1hdGgucm91bmQoKHRoaXMuaW1hZ2VNYXhIZWlnaHQ/PzApL2EpO3A/KHhbMF09aS53b3JsZFNjcmVlbldpZHRoLHhbMV09aS5zaXplWzFdKTp0aGlzLmltYWdlUm90YXRpb25TdXBwb3J0ZWQ/KHhbMF09aS5zaXplWzBdLHhbMV09aS5zaXplWzFdKTpsKHgsaSk7Y29uc3QgYz1NYXRoLmZsb29yKHhbMF0pPm18fE1hdGguZmxvb3IoeFsxXSk+ZCx1PXMmJihpLmV4dGVudC54bWluPHMudmFsaWRbMF18fGkuZXh0ZW50LnhtYXg+cy52YWxpZFsxXSksZz0hdGhpcy5pbWFnZU5vcm1hbGl6YXRpb25TdXBwb3J0ZWQmJnUsZj0hYyYmIWcseT10aGlzLmltYWdlUm90YXRpb25TdXBwb3J0ZWQ/aS5yb3RhdGlvbjowLFM9dGhpcy5jb250YWluZXIuY2hpbGRyZW4uc2xpY2UoKTtpZihmKXtjb25zdCB0PXA/aS5wYWRkZWRWaWV3U3RhdGUuY2VudGVyOmkuY2VudGVyO3RoaXMuX2ltYWdlUHJvbWlzZT10aGlzLl9zaW5nbGVFeHBvcnQoaSx4LHQsaS5yZXNvbHV0aW9uLHksYSxlKX1lbHNle2xldCB0PU1hdGgubWluKG0sZCk7biYmKHQ9TWF0aC5taW4oaS53b3JsZFNjcmVlbldpZHRoLHQpLHQ9TWF0aC5yb3VuZChpLndvcmxkU2NyZWVuV2lkdGgvTWF0aC5jZWlsKGkud29ybGRTY3JlZW5XaWR0aC90KSkpLHRoaXMuX2ltYWdlUHJvbWlzZT10aGlzLl90aWxlZEV4cG9ydChpLHQsYSxlKX10cnl7Y29uc3QgdD1hd2FpdCB0aGlzLl9pbWFnZVByb21pc2U/P1tdO28oZSk7Y29uc3QgaT1bXTtpZih0aGlzLl9pbWFnZVByb21pc2U9bnVsbCx0aGlzLmRlc3Ryb3llZClyZXR1cm47dGhpcy5iaXRtYXBzPXQ7Zm9yKGNvbnN0IGUgb2YgUyl0LmluY2x1ZGVzKGUpfHxpLnB1c2goZS5mYWRlT3V0KCkudGhlbigoKCk9PntlLnJlbW92ZSgpLGUuZGVzdHJveSgpfSkpKTtmb3IoY29uc3QgZSBvZiB0KWkucHVzaChlLmZhZGVJbigpKTthd2FpdCBQcm9taXNlLmFsbChpKX1jYXRjaCh3KXt0aGlzLl9pbWFnZVByb21pc2U9bnVsbCxyKHcpfX0pLDVlMyksdGhpcy51cGRhdGVFeHBvcnRzPWkoKGFzeW5jIHQ9Pntjb25zdCBlPVtdO2Zvcihjb25zdCBpIG9mIHRoaXMuY29udGFpbmVyLmNoaWxkcmVuKXtpZighaS52aXNpYmxlfHwhaS5zdGFnZSlyZXR1cm47ZS5wdXNoKHQoaSkudGhlbigoKCk9PntpLmludmFsaWRhdGVUZXh0dXJlKCksaS5yZXF1ZXN0UmVuZGVyKCl9KSkpfXRoaXMuX2ltYWdlUHJvbWlzZT1zKGUpLnRoZW4oKCgpPT50aGlzLl9pbWFnZVByb21pc2U9bnVsbCkpLGF3YWl0IHRoaXMuX2ltYWdlUHJvbWlzZX0pKX1kZXN0cm95KCl7dGhpcy5iaXRtYXBzLmZvckVhY2goKHQ9PnQuZGVzdHJveSgpKSksdGhpcy5iaXRtYXBzPVtdfWdldCB1cGRhdGluZygpe3JldHVybiF0aGlzLmRlc3Ryb3llZCYmbnVsbCE9PXRoaXMuX2ltYWdlUHJvbWlzZX1hc3luYyBfZXhwb3J0KHQsZSxpLHIscyxhKXtjb25zdCBuPWF3YWl0IHRoaXMuZmV0Y2hTb3VyY2UodCxNYXRoLmZsb29yKGUqcyksTWF0aC5mbG9vcihpKnMpLHtyb3RhdGlvbjpyLHBpeGVsUmF0aW86cyxzaWduYWw6YX0pO28oYSk7Y29uc3QgcD1uZXcgdShudWxsLCEwKTtyZXR1cm4gcC54PXQueG1pbixwLnk9dC55bWF4LHAucmVzb2x1dGlvbj10LndpZHRoL2UscC5yb3RhdGlvbj1yLHAucGl4ZWxSYXRpbz1zLHAub3BhY2l0eT0wLHRoaXMuY29udGFpbmVyLmFkZENoaWxkKHApLGF3YWl0IHAuc2V0U291cmNlQXN5bmMobixhKSxvKGEpLHB9YXN5bmMgX3NpbmdsZUV4cG9ydCh0LGUsaSxvLHIscyxhKXtjKHksaSxvLGUpO2NvbnN0IG49cCh5LHQuc3BhdGlhbFJlZmVyZW5jZSk7cmV0dXJuW2F3YWl0IHRoaXMuX2V4cG9ydChuLGVbMF0sZVsxXSxyLHMsYSldfV90aWxlZEV4cG9ydCh0LGUsaSxvKXtjb25zdCByPWQuY3JlYXRlKHtzaXplOmUsc3BhdGlhbFJlZmVyZW5jZTp0LnNwYXRpYWxSZWZlcmVuY2Usc2NhbGVzOlt0LnNjYWxlXX0pLHM9bmV3IGcociksYT1zLmdldFRpbGVDb3ZlcmFnZSh0KTtpZighYSlyZXR1cm4gbnVsbDtjb25zdCBuPVtdO3JldHVybiBhLmZvckVhY2goKChyLGEsbSxoKT0+e1Muc2V0KHIsYSxtLDApLHMuZ2V0VGlsZUJvdW5kcyh5LFMpO2NvbnN0IGQ9cCh5LHQuc3BhdGlhbFJlZmVyZW5jZSk7bi5wdXNoKHRoaXMuX2V4cG9ydChkLGUsZSwwLGksbykudGhlbigodD0+KDAhPT1oJiYoUy5zZXQocixhLG0saCkscy5nZXRUaWxlQm91bmRzKHksUyksdC54PXlbMF0sdC55PXlbM10pLHQpKSkpfSkpLFByb21pc2UuYWxsKG4pfX07dChbYSgpXSxNLnByb3RvdHlwZSxcIl9pbWFnZVByb21pc2VcIix2b2lkIDApLHQoW2EoKV0sTS5wcm90b3R5cGUsXCJiaXRtYXBzXCIsdm9pZCAwKSx0KFthKCldLE0ucHJvdG90eXBlLFwiY29udGFpbmVyXCIsdm9pZCAwKSx0KFthKCldLE0ucHJvdG90eXBlLFwiZmV0Y2hTb3VyY2VcIix2b2lkIDApLHQoW2EoKV0sTS5wcm90b3R5cGUsXCJoaWRwaVwiLHZvaWQgMCksdChbYSgpXSxNLnByb3RvdHlwZSxcImltYWdlTWF4V2lkdGhcIix2b2lkIDApLHQoW2EoKV0sTS5wcm90b3R5cGUsXCJpbWFnZU1heEhlaWdodFwiLHZvaWQgMCksdChbYSgpXSxNLnByb3RvdHlwZSxcImltYWdlUm90YXRpb25TdXBwb3J0ZWRcIix2b2lkIDApLHQoW2EoKV0sTS5wcm90b3R5cGUsXCJpbWFnZU5vcm1hbGl6YXRpb25TdXBwb3J0ZWRcIix2b2lkIDApLHQoW2EoKV0sTS5wcm90b3R5cGUsXCJyZXF1ZXN0VXBkYXRlXCIsdm9pZCAwKSx0KFthKCldLE0ucHJvdG90eXBlLFwidXBkYXRpbmdcIixudWxsKSxNPXQoW24oXCJlc3JpLnZpZXdzLjJkLmxheWVycy5zdXBwb3J0LkV4cG9ydFN0cmF0ZWd5XCIpXSxNKTtleHBvcnR7TSBhcyBkZWZhdWx0fTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjMzL2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5jb25zdCB0PU1hdGguUEkvMTgwO2Z1bmN0aW9uIG4obil7cmV0dXJuIG4qdH1mdW5jdGlvbiBvKHQsbyl7Y29uc3QgYT1uKG8ucm90YXRpb24pLHI9TWF0aC5hYnMoTWF0aC5jb3MoYSkpLHM9TWF0aC5hYnMoTWF0aC5zaW4oYSkpLFt1LGNdPW8uc2l6ZTtyZXR1cm4gdFswXT1NYXRoLnJvdW5kKGMqcyt1KnIpLHRbMV09TWF0aC5yb3VuZChjKnIrdSpzKSx0fWZ1bmN0aW9uIGEodCxuLG8sYSl7Y29uc3RbcixzXT1uLFt1LGNdPWEsaD0uNSpvO3JldHVybiB0WzBdPXItaCp1LHRbMV09cy1oKmMsdFsyXT1yK2gqdSx0WzNdPXMraCpjLHR9ZXhwb3J0e2EgYXMgZ2V0QkJveCxvIGFzIGdldE91dGVyU2l6ZX07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4zMy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e18gYXMgcn1mcm9tXCIuLi8uLi9jaHVua3MvdHNsaWIuZXM2LmpzXCI7aW1wb3J0IGUgZnJvbVwiLi4vLi4vY29yZS9Mb2dnZXIuanNcIjtpbXBvcnR7aXNBYm9ydEVycm9yIGFzIHN9ZnJvbVwiLi4vLi4vY29yZS9wcm9taXNlVXRpbHMuanNcIjtpbXBvcnR7b24gYXMgb31mcm9tXCIuLi8uLi9jb3JlL3JlYWN0aXZlVXRpbHMuanNcIjtpbXBvcnRcIi4uLy4uL2NvcmUvaGFzLmpzXCI7aW1wb3J0XCIuLi8uLi9jb3JlL1JhbmRvbUxDRy5qc1wiO2ltcG9ydFwiLi4vLi4vY29yZS9FcnJvci5qc1wiO2ltcG9ydHtzdWJjbGFzcyBhcyB0fWZyb21cIi4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvc3ViY2xhc3MuanNcIjtjb25zdCBpPWk9PntsZXQgYT1jbGFzcyBleHRlbmRzIGl7aW5pdGlhbGl6ZSgpe3RoaXMuYWRkSGFuZGxlcyhvKCgoKT0+dGhpcy5sYXllciksXCJyZWZyZXNoXCIsKHI9Pnt0aGlzLmRvUmVmcmVzaChyLmRhdGFDaGFuZ2VkKS5jYXRjaCgocj0+e3Mocil8fGUuZ2V0TG9nZ2VyKHRoaXMpLmVycm9yKHIpfSkpfSkpLFwiUmVmcmVzaGFibGVMYXllclZpZXdcIil9fTtyZXR1cm4gYT1yKFt0KFwiZXNyaS52aWV3cy5sYXllcnMuUmVmcmVzaGFibGVMYXllclZpZXdcIildLGEpLGF9O2V4cG9ydHtpIGFzIGRlZmF1bHR9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMzMvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtfIGFzIGV9ZnJvbVwiLi4vLi4vY2h1bmtzL3RzbGliLmVzNi5qc1wiO2ltcG9ydCB0IGZyb21cIi4uLy4uL2NvcmUvRXJyb3IuanNcIjtpbXBvcnR7ZGVzdHJveU1heWJlIGFzIHJ9ZnJvbVwiLi4vLi4vY29yZS9tYXliZS5qc1wiO2ltcG9ydHt0aHJvd0lmQWJvcnRlZCBhcyBvfWZyb21cIi4uLy4uL2NvcmUvcHJvbWlzZVV0aWxzLmpzXCI7aW1wb3J0e3Byb3BlcnR5IGFzIHN9ZnJvbVwiLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9wcm9wZXJ0eS5qc1wiO2ltcG9ydFwiLi4vLi4vY29yZS9oYXMuanNcIjtpbXBvcnRcIi4uLy4uL2NvcmUvTG9nZ2VyLmpzXCI7aW1wb3J0XCIuLi8uLi9jb3JlL1JhbmRvbUxDRy5qc1wiO2ltcG9ydHtzdWJjbGFzcyBhcyBhfWZyb21cIi4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvc3ViY2xhc3MuanNcIjtpbXBvcnR7RXhwb3J0V01TSW1hZ2VQYXJhbWV0ZXJzIGFzIHB9ZnJvbVwiLi4vLi4vbGF5ZXJzL3N1cHBvcnQvRXhwb3J0V01TSW1hZ2VQYXJhbWV0ZXJzLmpzXCI7aW1wb3J0e2NvbWJpbmVUaW1lRXh0ZW50IGFzIGl9ZnJvbVwiLi4vLi4vbGF5ZXJzL3N1cHBvcnQvdGltZVN1cHBvcnQuanNcIjtjb25zdCBtPW09PntsZXQgbj1jbGFzcyBleHRlbmRzIG17aW5pdGlhbGl6ZSgpe3RoaXMuZXhwb3J0SW1hZ2VQYXJhbWV0ZXJzPW5ldyBwKHtsYXllcjp0aGlzLmxheWVyfSl9ZGVzdHJveSgpe3RoaXMuZXhwb3J0SW1hZ2VQYXJhbWV0ZXJzPXIodGhpcy5leHBvcnRJbWFnZVBhcmFtZXRlcnMpfWdldCBleHBvcnRJbWFnZVZlcnNpb24oKXtyZXR1cm4gdGhpcy5leHBvcnRJbWFnZVBhcmFtZXRlcnM/LmNvbW1pdFByb3BlcnR5KFwidmVyc2lvblwiKSx0aGlzLmNvbW1pdFByb3BlcnR5KFwidGltZUV4dGVudFwiKSwodGhpcy5fZ2V0KFwiZXhwb3J0SW1hZ2VWZXJzaW9uXCIpfHwwKSsxfWdldCB0aW1lRXh0ZW50KCl7cmV0dXJuIGkodGhpcy5sYXllcix0aGlzLnZpZXc/LnRpbWVFeHRlbnQsdGhpcy5fZ2V0KFwidGltZUV4dGVudFwiKSl9YXN5bmMgZmV0Y2hQb3B1cEZlYXR1cmVzQXRMb2NhdGlvbihlLHIpe2NvbnN0e2xheWVyOnN9PXRoaXM7aWYoIWUpdGhyb3cgbmV3IHQoXCJ3bXNsYXllcnZpZXc6ZmV0Y2hQb3B1cEZlYXR1cmVzXCIsXCJOb3RoaW5nIHRvIGZldGNoIHdpdGhvdXQgYXJlYVwiLHtsYXllcjpzfSk7Y29uc3R7cG9wdXBFbmFibGVkOmF9PXM7aWYoIWEpdGhyb3cgbmV3IHQoXCJ3bXNsYXllcnZpZXc6ZmV0Y2hQb3B1cEZlYXR1cmVzXCIsXCJwb3B1cEVuYWJsZWQgc2hvdWxkIGJlIHRydWVcIix7cG9wdXBFbmFibGVkOmF9KTtjb25zdCBwPXRoaXMuY3JlYXRlRmV0Y2hQb3B1cEZlYXR1cmVzUXVlcnkoZSk7aWYoIXApcmV0dXJuW107Y29uc3R7ZXh0ZW50Omksd2lkdGg6bSxoZWlnaHQ6bix4OmMseTp1fT1wO2lmKCEoaSYmbSYmbikpdGhyb3cgbmV3IHQoXCJ3bXNsYXllcnZpZXc6ZmV0Y2hQb3B1cEZlYXR1cmVzXCIsXCJXTVNMYXllciBkb2VzIG5vdCBzdXBwb3J0IGZldGNoaW5nIGZlYXR1cmVzLlwiLHtleHRlbnQ6aSx3aWR0aDptLGhlaWdodDpufSk7Y29uc3QgaD1hd2FpdCBzLmZldGNoRmVhdHVyZUluZm8oaSxtLG4sYyx1KTtyZXR1cm4gbyhyKSxofX07cmV0dXJuIGUoW3MoKV0sbi5wcm90b3R5cGUsXCJleHBvcnRJbWFnZVBhcmFtZXRlcnNcIix2b2lkIDApLGUoW3Moe3JlYWRPbmx5OiEwfSldLG4ucHJvdG90eXBlLFwiZXhwb3J0SW1hZ2VWZXJzaW9uXCIsbnVsbCksZShbcygpXSxuLnByb3RvdHlwZSxcImxheWVyXCIsdm9pZCAwKSxlKFtzKHtyZWFkT25seTohMH0pXSxuLnByb3RvdHlwZSxcInRpbWVFeHRlbnRcIixudWxsKSxuPWUoW2EoXCJlc3JpLnZpZXdzLmxheWVycy5XTVNMYXllclZpZXdcIildLG4pLG59O2V4cG9ydHttIGFzIGRlZmF1bHR9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMzMvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtXZWJTY2VuZVRhZyBhcyBvfWZyb21cIi4uL3N1cHBvcnQvdGFnU3ltYm9scy5qc1wiO2Z1bmN0aW9uIHQodCl7cmV0dXJuIG51bGwhPXQmJlwib2JqZWN0XCI9PXR5cGVvZiB0JiZvIGluIHR9ZXhwb3J0e3QgYXMgaXNXZWJTY2VuZX07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=