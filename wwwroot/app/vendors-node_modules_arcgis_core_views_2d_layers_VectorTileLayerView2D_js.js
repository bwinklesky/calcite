export const __webpack_id__ = "vendors-node_modules_arcgis_core_views_2d_layers_VectorTileLayerView2D_js";
export const __webpack_ids__ = ["vendors-node_modules_arcgis_core_views_2d_layers_VectorTileLayerView2D_js"];
export const __webpack_modules__ = {

/***/ "./node_modules/@arcgis/core/core/libs/rbush/PooledRBush.js":
/*!******************************************************************!*\
  !*** ./node_modules/@arcgis/core/core/libs/rbush/PooledRBush.js ***!
  \******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   BBox: () => (/* binding */ E),
/* harmony export */   PooledRBush: () => (/* binding */ s)
/* harmony export */ });
/* harmony import */ var _arrayUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _compilerUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../compilerUtils.js */ "./node_modules/@arcgis/core/core/compilerUtils.js");
/* harmony import */ var _has_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _PooledArray_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../PooledArray.js */ "./node_modules/@arcgis/core/core/PooledArray.js");
/* harmony import */ var _chunks_quickselect_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../chunks/quickselect.js */ "./node_modules/@arcgis/core/chunks/quickselect.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
class s{constructor(t=9,i){this._compareMinX=u,this._compareMinY=d,this._toBBox=t=>t,this._maxEntries=Math.max(4,t||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),i&&("function"==typeof i?this._toBBox=i:this._initFormat(i)),this.clear()}destroy(){this.clear(),Y.prune(),B.prune(),w.prune(),j.prune()}all(t){r(this._data,t)}search(t,i){let n=this._data;const e=this._toBBox;if(M(t,n))for(Y.clear();n;){for(let h=0,s=n.children.length;h<s;h++){const s=n.children[h],a=n.leaf?e(s):s;M(t,a)&&(n.leaf?i(s):g(t,a)?r(s,i):Y.push(s))}n=Y.pop()}}collides(t){let i=this._data;const n=this._toBBox;if(!M(t,i))return!1;for(Y.clear();i;){for(let e=0,h=i.children.length;e<h;e++){const h=i.children[e],s=i.leaf?n(h):h;if(M(t,s)){if(i.leaf||g(t,s))return!0;Y.push(h)}}i=Y.pop()}return!1}load(t){if(!t.length)return this;if(t.length<this._minEntries){for(let i=0,n=t.length;i<n;i++)this.insert(t[i]);return this}let i=this._build(t.slice(),0,t.length-1,0);if(this._data.children.length)if(this._data.height===i.height)this._splitRoot(this._data,i);else{if(this._data.height<i.height){const t=this._data;this._data=i,i=t}this._insert(i,this._data.height-i.height-1,!0)}else this._data=i;return this}insert(t){return t&&this._insert(t,this._data.height-1),this}clear(){return this._data=new S([]),this}remove(i){if(!i)return this;let e,h=this._data,s=null,a=0,r=!1;const o=this._toBBox(i);for(w.clear(),j.clear();h||w.length>0;){if(h||(h=w.pop(),s=w.data[w.length-1],a=j.pop()??0,r=!0),h.leaf&&(e=(0,_arrayUtils_js__WEBPACK_IMPORTED_MODULE_0__.indexOf)(h.children,(0,_compilerUtils_js__WEBPACK_IMPORTED_MODULE_1__.toConst)(i),h.children.length,h.indexHint),-1!==e))return h.children.splice(e,1),w.push(h),this._condense(w),this;r||h.leaf||!g(h,o)?s?(a++,h=s.children[a],r=!1):h=null:(w.push(h),j.push(a),a=0,s=h,h=h.children[0])}return this}toJSON(){return this._data}fromJSON(t){return this._data=t,this}_build(t,i,n,e){const h=n-i+1;let s=this._maxEntries;if(h<=s){const e=new S(t.slice(i,n+1));return l(e,this._toBBox),e}e||(e=Math.ceil(Math.log(h)/Math.log(s)),s=Math.ceil(h/s**(e-1)));const a=new y([]);a.height=e;const r=Math.ceil(h/s),o=r*Math.ceil(Math.sqrt(s));X(t,i,n,o,this._compareMinX);for(let l=i;l<=n;l+=o){const i=Math.min(l+o-1,n);X(t,l,i,r,this._compareMinY);for(let n=l;n<=i;n+=r){const h=Math.min(n+r-1,i);a.children.push(this._build(t,n,h,e-1))}}return l(a,this._toBBox),a}_insert(t,i,n){const e=this._toBBox,h=n?t:e(t);w.clear();const s=a(h,this._data,i,w);for(s.children.push(t),m(s,h);i>=0&&w.data[i].children.length>this._maxEntries;)this._split(w,i),i--;o(h,w,i)}_split(t,i){const n=t.data[i],e=n.children.length,h=this._minEntries;this._chooseSplitAxis(n,h,e);const s=this._chooseSplitIndex(n,h,e);if(!s)return;const a=n.children.splice(s,n.children.length-s),r=n.leaf?new S(a):new y(a);r.height=n.height,l(n,this._toBBox),l(r,this._toBBox),i?t.data[i-1].children.push(r):this._splitRoot(n,r)}_splitRoot(t,i){this._data=new y([t,i]),this._data.height=t.height+1,l(this._data,this._toBBox)}_chooseSplitIndex(t,i,n){let e,h,s;e=h=1/0;for(let a=i;a<=n-i;a++){const i=c(t,0,a,this._toBBox),r=c(t,a,n,this._toBBox),o=p(i,r),l=f(i)+f(r);o<e?(e=o,s=a,h=l<h?l:h):o===e&&l<h&&(h=l,s=a)}return s}_chooseSplitAxis(t,i,n){const e=t.leaf?this._compareMinX:u,h=t.leaf?this._compareMinY:d;this._allDistMargin(t,i,n,e)<this._allDistMargin(t,i,n,h)&&t.children.sort(e)}_allDistMargin(t,i,n,e){t.children.sort(e);const h=this._toBBox,s=c(t,0,i,h),a=c(t,n-i,n,h);let r=x(s)+x(a);for(let o=i;o<n-i;o++){const i=t.children[o];m(s,t.leaf?h(i):i),r+=x(s)}for(let o=n-i-1;o>=i;o--){const i=t.children[o];m(a,t.leaf?h(i):i),r+=x(a)}return r}_condense(i){for(let n=i.length-1;n>=0;n--){const e=i.data[n];if(0===e.children.length)if(n>0){const h=i.data[n-1],s=h.children;s.splice((0,_arrayUtils_js__WEBPACK_IMPORTED_MODULE_0__.indexOf)(s,e,s.length,h.indexHint),1)}else this.clear();else l(e,this._toBBox)}}_initFormat(t){const i=["return a"," - b",";"];this._compareMinX=new Function("a","b",i.join(t[0])),this._compareMinY=new Function("a","b",i.join(t[1])),this._toBBox=new Function("a","return {minX: a"+t[0]+", minY: a"+t[1]+", maxX: a"+t[2]+", maxY: a"+t[3]+"};")}}function a(t,i,n,e){for(;e.push(i),!0!==i.leaf&&e.length-1!==n;){let n,e=1/0,h=1/0;for(let s=0,a=i.children.length;s<a;s++){const a=i.children[s],r=f(a),o=_(t,a)-r;o<h?(h=o,e=r<e?r:e,n=a):o===h&&r<e&&(e=r,n=a)}i=n||i.children[0]}return i}function r(t,i){let e=t;for(B.clear();e;){if(!0===e.leaf)for(const t of e.children)i((0,_compilerUtils_js__WEBPACK_IMPORTED_MODULE_1__.toConst)(t));else B.pushArray(e.children);e=B.pop()??null}}function o(t,i,n){for(let e=n;e>=0;e--)m(i.data[e],t)}function l(t,i){c(t,0,t.children.length,i,t)}function c(t,i,n,e,h){h||(h=new S([])),h.minX=1/0,h.minY=1/0,h.maxX=-1/0,h.maxY=-1/0;for(let s,a=i;a<n;a++)s=t.children[a],m(h,t.leaf?e(s):s);return h}function m(t,i){t.minX=Math.min(t.minX,i.minX),t.minY=Math.min(t.minY,i.minY),t.maxX=Math.max(t.maxX,i.maxX),t.maxY=Math.max(t.maxY,i.maxY)}function u(t,i){return t.minX-i.minX}function d(t,i){return t.minY-i.minY}function f(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function x(t){return t.maxX-t.minX+(t.maxY-t.minY)}function _(t,i){return(Math.max(i.maxX,t.maxX)-Math.min(i.minX,t.minX))*(Math.max(i.maxY,t.maxY)-Math.min(i.minY,t.minY))}function p(t,i){const n=Math.max(t.minX,i.minX),e=Math.max(t.minY,i.minY),h=Math.min(t.maxX,i.maxX),s=Math.min(t.maxY,i.maxY);return Math.max(0,h-n)*Math.max(0,s-e)}function g(t,i){return t.minX<=i.minX&&t.minY<=i.minY&&i.maxX<=t.maxX&&i.maxY<=t.maxY}function M(t,i){return i.minX<=t.maxX&&i.minY<=t.maxY&&i.maxX>=t.minX&&i.maxY>=t.minY}function X(t,i,n,e,s){const a=[i,n];for(;a.length;){const i=a.pop(),n=a.pop();if(i-n<=e)continue;const r=n+Math.ceil((i-n)/e/2)*e;(0,_chunks_quickselect_js__WEBPACK_IMPORTED_MODULE_4__.q)(t,r,n,i,s),a.push(n,r,r,i)}}const Y=new _PooledArray_js__WEBPACK_IMPORTED_MODULE_3__["default"],B=new _PooledArray_js__WEBPACK_IMPORTED_MODULE_3__["default"],w=new _PooledArray_js__WEBPACK_IMPORTED_MODULE_3__["default"],j=new _PooledArray_js__WEBPACK_IMPORTED_MODULE_3__["default"]({deallocator:void 0});class E{constructor(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0}}class b extends E{constructor(){super(...arguments),this.height=1,this.indexHint=new _arrayUtils_js__WEBPACK_IMPORTED_MODULE_0__.PositionHint}}class S extends b{constructor(t){super(),this.children=t,this.leaf=!0}}class y extends b{constructor(t){super(),this.children=t,this.leaf=!1}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/engine/vectorTiles/Feature.js":
/*!**************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/vectorTiles/Feature.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ s)
/* harmony export */ });
/* harmony import */ var _geometry_support_TileClipper_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../geometry/support/TileClipper.js */ "./node_modules/@arcgis/core/geometry/support/TileClipper.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
var t;!function(e){e[e.moveTo=1]="moveTo",e[e.lineTo=2]="lineTo",e[e.close=7]="close"}(t||(t={}));class s{constructor(e,t,s=0){this.values={},this._geometry=void 0,this._pbfGeometry=null,this.featureIndex=s;const o=t.keys,r=t.values,a=e.asUnsafe();for(;a.next();)switch(a.tag()){case 1:this.id=a.getUInt64();break;case 2:{const e=a.getMessage().asUnsafe(),t=this.values;for(;!e.empty();){const s=e.getUInt32(),a=e.getUInt32();t[o[s]]=r[a]}e.release();break}case 3:this.type=a.getUInt32();break;case 4:this._pbfGeometry=a.getMessage();break;default:a.skip()}}getGeometry(s){if(void 0!==this._geometry)return this._geometry;if(!this._pbfGeometry)return null;const o=this._pbfGeometry.asUnsafe();let r,a;this._pbfGeometry=null,s?s.reset(this.type):r=[];let n,i=t.moveTo,l=0,h=0,c=0;for(;!o.empty();){if(0===l){const e=o.getUInt32();i=7&e,l=e>>3}switch(l--,i){case t.moveTo:h+=o.getSInt32(),c+=o.getSInt32(),s?s.moveTo(h,c):r&&(a&&r.push(a),a=[],a.push(new _geometry_support_TileClipper_js__WEBPACK_IMPORTED_MODULE_0__.Point(h,c)));break;case t.lineTo:h+=o.getSInt32(),c+=o.getSInt32(),s?s.lineTo(h,c):a&&a.push(new _geometry_support_TileClipper_js__WEBPACK_IMPORTED_MODULE_0__.Point(h,c));break;case t.close:s?s.close():a&&!a[0].equals(h,c)&&a.push(a[0].clone());break;default:throw o.release(),new Error("Invalid path operation")}}return s?n=s.result():r&&(a&&r.push(a),n=r),o.release(),this._geometry=n,n}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/engine/vectorTiles/SourceLayerData.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/vectorTiles/SourceLayerData.js ***!
  \**********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ t)
/* harmony export */ });
/* harmony import */ var _constants_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./constants.js */ "./node_modules/@arcgis/core/views/2d/engine/vectorTiles/constants.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
class t{constructor(s){this.extent=_constants_js__WEBPACK_IMPORTED_MODULE_0__.tileCoordSize,this.keys=[],this.values=[],this._pbfLayer=s.clone();const a=s.asUnsafe();for(;a.next();)switch(a.tag()){case 1:this.name=a.getString();break;case 3:this.keys.push(a.getString());break;case 4:this.values.push(a.processMessage(t._parseValue));break;case 5:this.extent=a.getUInt32();break;default:a.skip()}}getData(){return this._pbfLayer}static _parseValue(e){for(;e.next();)switch(e.tag()){case 1:return e.getString();case 2:return e.getFloat();case 3:return e.getDouble();case 4:return e.getInt64();case 5:return e.getUInt64();case 6:return e.getSInt64();case 7:return e.getBool();default:e.skip()}return null}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/engine/vectorTiles/TileManager.js":
/*!******************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/vectorTiles/TileManager.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   TileManager: () => (/* binding */ c)
/* harmony export */ });
/* harmony import */ var _core_LRUCache_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/LRUCache.js */ "./node_modules/@arcgis/core/core/LRUCache.js");
/* harmony import */ var _geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../geometry/support/aaBoundingRect.js */ "./node_modules/@arcgis/core/geometry/support/aaBoundingRect.js");
/* harmony import */ var _constants_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./constants.js */ "./node_modules/@arcgis/core/views/2d/engine/vectorTiles/constants.js");
/* harmony import */ var _tiling_TileCoverage_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../tiling/TileCoverage.js */ "./node_modules/@arcgis/core/views/2d/tiling/TileCoverage.js");
/* harmony import */ var _tiling_TileKey_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../tiling/TileKey.js */ "./node_modules/@arcgis/core/views/2d/tiling/TileKey.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
const n=1e-6,a=(e,i)=>e+1/(1<<2*i);class c{constructor(i,t){this._tiles=new Map,this._tileCache=new _core_LRUCache_js__WEBPACK_IMPORTED_MODULE_0__.LRUCache(40,(e=>e.dispose())),this._viewSize=[0,0],this._visibleTiles=new Map,this.acquireTile=i.acquireTile,this.releaseTile=i.releaseTile,this.tileInfoView=i.tileInfoView,this._container=t}destroy(){for(const e of this._tiles.values())e.dispose();this._tiles=null,this._tileCache.clear(),this._tileCache=null}update(e){this._updateCacheSize(e);const i=this.tileInfoView,t=i.getTileCoverage(e.state,0,!0,"smallest");if(!t)return!0;const{spans:s,lodInfo:l}=t,{level:n}=l,a=this._tiles,c=new Set,h=new Set;for(const{row:o,colFrom:_,colTo:f}of s)for(let e=_;e<=f;e++){const i=_tiling_TileKey_js__WEBPACK_IMPORTED_MODULE_4__["default"].getId(n,o,l.normalizeCol(e),l.getWorldForColumn(e)),t=this._getOrAcquireTile(i);c.add(i),t.processed()?this._addToContainer(t):h.add(new _tiling_TileKey_js__WEBPACK_IMPORTED_MODULE_4__["default"](i))}for(const[o,r]of a)r.isCoverage=c.has(o);for(const o of h)this._findPlaceholdersForMissingTiles(o,c);let d=!1;for(const[o,r]of a)r.neededForCoverage=c.has(o),r.neededForCoverage||r.isHoldingForFade&&i.intersects(t,r.key)&&c.add(o),r.isFading&&(d=!0);for(const o of this._tiles.keys())c.has(o)||this._releaseTile(o);return _tiling_TileCoverage_js__WEBPACK_IMPORTED_MODULE_3__["default"].pool.release(t),!d}clear(){this._tiles.clear(),this._tileCache.clear(),this._visibleTiles.clear()}clearCache(){this._tileCache.clear()}getIntersectingTiles(e,l,o,r,n){const a=[0,0],c=[0,0];r.toMap(a,e-o,l+o),r.toMap(c,e+o,l-o);const h=Math.min(a[0],c[0]),d=Math.min(a[1],c[1]),_=Math.max(a[0],c[0]),f=Math.max(a[1],c[1]),T=(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_1__.fromValues)(h,d,_,f),u=(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_1__.create)(),p=[];for(const i of this._visibleTiles.values())this.tileInfoView.getTileBounds(u,i.key),(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_1__.intersects)(T,u)&&p.push(i);if(null!=n&&n.length>0){const e=new Set(p.map((e=>e.id))),i=n.filter((i=>!e.has(i.tileKey.id))).map((e=>this._visibleTiles.get(e.tileKey.id))).filter((e=>void 0!==e));p.push(...i)}return p}_findPlaceholdersForMissingTiles(e,i){const t=[];for(const l of this._tiles.values())this._addPlaceholderChild(t,l,e,i);const s=t.reduce(a,0);Math.abs(1-s)<n||this._addPlaceholderParent(e.id,i)}_addPlaceholderChild(e,i,t,s){i.key.level<=t.level||!i.hasData()||d(t,i.key)&&(this._addToContainer(i),s.add(i.id),e.push(i.key.level-t.level))}_addPlaceholderParent(e,i){const t=this._tiles;let s=e;for(;;){if(s=h(s),!s||i.has(s))return;const e=t.get(s);if(e?.hasData())return this._addToContainer(e),void i.add(e.id)}}_getOrAcquireTile(e){let i=this._tiles.get(e);return i||(i=this._tileCache.pop(e),i||(i=this.acquireTile(new _tiling_TileKey_js__WEBPACK_IMPORTED_MODULE_4__["default"](e))),this._tiles.set(e,i),i)}_releaseTile(e){const i=this._tiles.get(e);this.releaseTile(i),this._removeFromContainer(i),this._tiles.delete(e),i.hasData()?this._tileCache.put(e,i,1):i.dispose()}_addToContainer(e){let i;const t=[],s=this._container;if(s.contains(e))return;const l=this._visibleTiles;for(const o of l.values())this._canConnectDirectly(e,o)&&t.push(o),null==i&&this._canConnectDirectly(o,e)&&(i=o);if(null!=i){for(const s of t)i.childrenTiles.delete(s),e.childrenTiles.add(s),s.parentTile=e;i.childrenTiles.add(e),e.parentTile=i}else for(const o of t)e.childrenTiles.add(o),o.parentTile=e;l.set(e.id,e),s.addChild(e)}_removeFromContainer(e){if(this._visibleTiles.delete(e.id),this._container.removeChild(e),null!=e.parentTile){e.parentTile.childrenTiles.delete(e);for(const i of e.childrenTiles)null!=e.parentTile&&e.parentTile.childrenTiles.add(i)}for(const i of e.childrenTiles)i.parentTile=e.parentTile;e.parentTile=null,e.childrenTiles.clear()}_canConnectDirectly(e,i){const t=e.key;let{level:s,row:l,col:o,world:r}=i.key;const n=this._visibleTiles;for(;s>0;){if(s--,l>>=1,o>>=1,t.level===s&&t.row===l&&t.col===o&&t.world===r)return!0;if(n.has(`${s}/${l}/${o}/${r}`))return!1}return!1}_updateCacheSize(e){const i=e.state.size;if(i[0]===this._viewSize[0]&&i[1]===this._viewSize[1])return;const t=Math.ceil(i[0]/_constants_js__WEBPACK_IMPORTED_MODULE_2__.tilePixelSize)+1,s=Math.ceil(i[1]/_constants_js__WEBPACK_IMPORTED_MODULE_2__.tilePixelSize)+1;this._viewSize[0]=i[0],this._viewSize[1]=i[1],this._tileCache.maxSize=5*t*s}}function h(e){const[i,t,s,l]=e.split("/"),o=parseInt(i,10);return 0===o?null:`${o-1}/${parseInt(t,10)>>1}/${parseInt(s,10)>>1}/${parseInt(l,10)}`}function d(e,i){const t=i.level-e.level;return e.row===i.row>>t&&e.col===i.col>>t&&e.world===i.world}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/engine/vectorTiles/VectorTileContainer.js":
/*!**************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/vectorTiles/VectorTileContainer.js ***!
  \**************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   VectorTileContainer: () => (/* binding */ _)
/* harmony export */ });
/* harmony import */ var _geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../geometry/support/aaBoundingRect.js */ "./node_modules/@arcgis/core/geometry/support/aaBoundingRect.js");
/* harmony import */ var _layers_support_TileInfo_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../layers/support/TileInfo.js */ "./node_modules/@arcgis/core/layers/support/TileInfo.js");
/* harmony import */ var _constants_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./constants.js */ "./node_modules/@arcgis/core/views/2d/engine/vectorTiles/constants.js");
/* harmony import */ var _decluttering_SymbolFader_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./decluttering/SymbolFader.js */ "./node_modules/@arcgis/core/views/2d/engine/vectorTiles/decluttering/SymbolFader.js");
/* harmony import */ var _decluttering_util_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./decluttering/util.js */ "./node_modules/@arcgis/core/views/2d/engine/vectorTiles/decluttering/util.js");
/* harmony import */ var _style_StyleDefinition_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./style/StyleDefinition.js */ "./node_modules/@arcgis/core/views/2d/engine/vectorTiles/style/StyleDefinition.js");
/* harmony import */ var _webgl_enums_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../webgl/enums.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/enums.js");
/* harmony import */ var _webgl_RenderableTile_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../webgl/RenderableTile.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/RenderableTile.js");
/* harmony import */ var _webgl_TileContainer_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../webgl/TileContainer.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/TileContainer.js");
/* harmony import */ var _tiling_TileCoverage_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../tiling/TileCoverage.js */ "./node_modules/@arcgis/core/views/2d/tiling/TileCoverage.js");
/* harmony import */ var _tiling_TileKey_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../tiling/TileKey.js */ "./node_modules/@arcgis/core/views/2d/tiling/TileKey.js");
/* harmony import */ var _webgl_enums_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../webgl/enums.js */ "./node_modules/@arcgis/core/views/webgl/enums.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
const g=1e-6;function b(e,t){if(e){const s=e.getLayoutProperty("visibility");if(!s||s.getValue()!==_style_StyleDefinition_js__WEBPACK_IMPORTED_MODULE_5__.Visibility.NONE&&(void 0===e.minzoom||e.minzoom<t+g)&&(void 0===e.maxzoom||e.maxzoom>=t-g))return!0}return!1}class _ extends _webgl_TileContainer_js__WEBPACK_IMPORTED_MODULE_8__["default"]{constructor(e){super(e),this._backgroundTiles=[],this._computeDisplayInfoView(e)}destroy(){this.removeAllChildren(),this._spriteMosaic?.dispose(),this._spriteMosaic=null,this._glyphMosaic?.dispose(),this._glyphMosaic=null,null!=this._symbolFader&&(this._symbolFader.clear(),this._symbolFader=null),this._styleRepository=null,this._backgroundTiles=[]}get fading(){return this._symbolFader?.fading??!1}get symbolFader(){return this._symbolFader}get symbolRepository(){return this._symbolFader?.symbolRepository}setStyleResources(e,t,r,o){if(this._spriteMosaic=e,this._glyphMosaic=t,this._styleRepository=r,this.tileInfoView=o,this._computeDisplayInfoView(o),null==this._symbolFader){const e=(e,t)=>{e.allSymbolsFadingOut=!0,e.lastOpacityUpdate=t,(0,_decluttering_util_js__WEBPACK_IMPORTED_MODULE_4__.writeOpacityToBuffers)(e,t,!0),e.decluttered=!0,e.requestRender()};this._symbolFader=new _decluttering_SymbolFader_js__WEBPACK_IMPORTED_MODULE_3__.SymbolFader("vector-tile",this._styleRepository,e,this.children,_constants_js__WEBPACK_IMPORTED_MODULE_2__.tileCoordSize)}this._symbolFader.styleRepository=r}setSpriteMosaic(e){this._spriteMosaic?.dispose(),this._spriteMosaic=e}deleteStyleLayers(e){null!=this._symbolFader&&this._symbolFader.deleteStyleLayers(e)}createRenderParams(e){return{...super.createRenderParams(e),renderPass:null,styleLayer:null,styleLayerUID:-1,glyphMosaic:this._glyphMosaic,spriteMosaic:this._spriteMosaic,hasClipping:!!this._clippingInfos}}doRender(e){!this.visible||e.drawPhase!==_webgl_enums_js__WEBPACK_IMPORTED_MODULE_6__.WGLDrawPhase.MAP&&e.drawPhase!==_webgl_enums_js__WEBPACK_IMPORTED_MODULE_6__.WGLDrawPhase.DEBUG||void 0===this._spriteMosaic||super.doRender(e)}addChild(e){return super.addChild(e),null!=this._symbolFader?this._symbolFader.addTile(e):e.decluttered=!0,this.requestRender(),e}removeChild(e){return null!=this._symbolFader&&this._symbolFader.removeTile(e),this.requestRender(),super.removeChild(e)}renderChildren(e){const{drawPhase:t}=e;t!==_webgl_enums_js__WEBPACK_IMPORTED_MODULE_6__.WGLDrawPhase.DEBUG?this._doRender(e):super.renderChildren(e)}removeAllChildren(){for(let e=0;e<this.children.length;e++){const t=this.children[e];null!=this._symbolFader&&this._symbolFader.removeTile(t),t.dispose()}super.removeAllChildren()}getStencilTarget(){return this.children.filter((e=>e.neededForCoverage&&e.hasData()))}restartDeclutter(){null!=this._symbolFader&&this._symbolFader.restartDeclutter()}_doRender(e){const{context:t,state:s}=e,r=this._styleRepository;if(!r)return;const i=r.layers,l=this._displayInfo.scaleToZoom(s.scale);r.backgroundBucketIds.length>0&&(e.renderPass="background",this._renderBackgroundLayers(e,r.backgroundBucketIds,l)),super.renderChildren(e),e.drawPhase===_webgl_enums_js__WEBPACK_IMPORTED_MODULE_6__.WGLDrawPhase.MAP&&this._fade(l,s);const o=this.children.filter((e=>e.visible&&e.hasData()));if(!o||0===o.length)return t.bindVAO(),t.setStencilTestEnabled(!0),void t.setBlendingEnabled(!0);for(const n of o)n.triangleCount=0;t.setStencilWriteMask(0),t.setColorMask(!0,!0,!0,!0),t.setStencilOp(_webgl_enums_js__WEBPACK_IMPORTED_MODULE_11__.StencilOperation.KEEP,_webgl_enums_js__WEBPACK_IMPORTED_MODULE_11__.StencilOperation.KEEP,_webgl_enums_js__WEBPACK_IMPORTED_MODULE_11__.StencilOperation.REPLACE),t.setStencilTestEnabled(!0),t.setBlendingEnabled(!1),t.setDepthTestEnabled(!0),t.setDepthWriteEnabled(!0),t.setDepthFunction(_webgl_enums_js__WEBPACK_IMPORTED_MODULE_11__.CompareFunction.LEQUAL),t.setClearDepth(1),t.clear(_webgl_enums_js__WEBPACK_IMPORTED_MODULE_11__.FramebufferBit.DEPTH),e.renderPass="opaque";for(let n=i.length-1;n>=0;n--)this._renderStyleLayer(i[n],e,o);t.setDepthWriteEnabled(!1),t.setBlendingEnabled(!0),t.setBlendFunctionSeparate(_webgl_enums_js__WEBPACK_IMPORTED_MODULE_11__.BlendFactor.ONE,_webgl_enums_js__WEBPACK_IMPORTED_MODULE_11__.BlendFactor.ONE_MINUS_SRC_ALPHA,_webgl_enums_js__WEBPACK_IMPORTED_MODULE_11__.BlendFactor.ONE,_webgl_enums_js__WEBPACK_IMPORTED_MODULE_11__.BlendFactor.ONE_MINUS_SRC_ALPHA),e.renderPass="translucent";for(let n=0;n<i.length;n++)this._renderStyleLayer(i[n],e,o);t.bindVAO(),t.setStencilTestEnabled(!0),t.setBlendingEnabled(!0);for(const n of o)n.debugInfo.display.triangleCount=n.triangleCount}_fade(e,t){null!=this._symbolFader&&(this._symbolFader.update(e,t)||this.requestRender())}_renderStyleLayer(e,t,s){const{displayLevel:r,painter:i,renderPass:l}=t;if(void 0===e)return;const a=e.getLayoutProperty("visibility");if(a&&a.getValue()===_style_StyleDefinition_js__WEBPACK_IMPORTED_MODULE_5__.Visibility.NONE)return;let d;switch(e.type){case _style_StyleDefinition_js__WEBPACK_IMPORTED_MODULE_5__.StyleLayerType.BACKGROUND:return;case _style_StyleDefinition_js__WEBPACK_IMPORTED_MODULE_5__.StyleLayerType.FILL:if("opaque"!==l&&"translucent"!==t.renderPass)return;d="vtlFill";break;case _style_StyleDefinition_js__WEBPACK_IMPORTED_MODULE_5__.StyleLayerType.LINE:if("translucent"!==l)return;d="vtlLine";break;case _style_StyleDefinition_js__WEBPACK_IMPORTED_MODULE_5__.StyleLayerType.CIRCLE:if("translucent"!==l)return;d="vtlCircle";break;case _style_StyleDefinition_js__WEBPACK_IMPORTED_MODULE_5__.StyleLayerType.SYMBOL:if("translucent"!==l)return;d="vtlSymbol"}if(s=e.type===_style_StyleDefinition_js__WEBPACK_IMPORTED_MODULE_5__.StyleLayerType.SYMBOL?s.filter((e=>e.decluttered)):s.filter((e=>e.neededForCoverage)),"vtlSymbol"!==d&&(0===s.length||void 0!==e.minzoom&&e.minzoom>=r+g||void 0!==e.maxzoom&&e.maxzoom<r-g))return;const c=e.uid;t.styleLayerUID=c,t.styleLayer=e;for(const o of s)if(o.layerData.has(c)){i.renderObjects(t,s,d);break}}_renderBackgroundLayers(t,i,l){const{context:o,painter:a,state:c}=t,m=this._styleRepository;let f=!1;for(const e of i){if(m.getLayerById(e).type===_style_StyleDefinition_js__WEBPACK_IMPORTED_MODULE_5__.StyleLayerType.BACKGROUND&&b(m.getLayerById(e),l)){f=!0;break}}if(!f)return;const g=this.tileInfoView,_=g.getTileCoverage(t.state,0,!0,"smallest"),{spans:C,lodInfo:E}=_,{level:F}=E,L=(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_0__.create)(),R=[];if(this._renderPasses){const e=this._renderPasses[0];null!=this._clippingInfos&&(e.brushes[0].prepareState(t),e.brushes[0].drawMany(t,this._clippingInfos))}const v=this._backgroundTiles;let S,I=0;for(const{row:n,colFrom:h,colTo:y}of C)for(let t=h;t<=y;t++){if(I<v.length)S=v[I],S.key.set(F,n,E.normalizeCol(t),E.getWorldForColumn(t)),g.getTileBounds(L,S.key,!1),S.x=L[0],S.y=L[3],S.resolution=g.getTileResolution(F);else{const i=new _tiling_TileKey_js__WEBPACK_IMPORTED_MODULE_10__["default"](F,n,E.normalizeCol(t),E.getWorldForColumn(t)),l=g.getTileBounds((0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_0__.create)(),i),o=g.getTileResolution(F);S=new _webgl_RenderableTile_js__WEBPACK_IMPORTED_MODULE_7__.RenderableTile(i,o,l[0],l[3],_constants_js__WEBPACK_IMPORTED_MODULE_2__.tilePixelSize,_constants_js__WEBPACK_IMPORTED_MODULE_2__.tilePixelSize,_constants_js__WEBPACK_IMPORTED_MODULE_2__.tileCoordSize,_constants_js__WEBPACK_IMPORTED_MODULE_2__.tileCoordSize),v.push(S)}S.setTransform(c),R.push(S),I++}o.setStencilWriteMask(0),o.setColorMask(!0,!0,!0,!0),o.setStencilOp(_webgl_enums_js__WEBPACK_IMPORTED_MODULE_11__.StencilOperation.KEEP,_webgl_enums_js__WEBPACK_IMPORTED_MODULE_11__.StencilOperation.KEEP,_webgl_enums_js__WEBPACK_IMPORTED_MODULE_11__.StencilOperation.REPLACE),o.setStencilFunction(_webgl_enums_js__WEBPACK_IMPORTED_MODULE_11__.CompareFunction.EQUAL,0,255),o.setStencilTestEnabled(!0);for(const e of i){const s=m.getLayerById(e);s.type===_style_StyleDefinition_js__WEBPACK_IMPORTED_MODULE_5__.StyleLayerType.BACKGROUND&&b(s,l)&&(t.styleLayerUID=s.uid,t.styleLayer=s,a.renderObjects(t,R,"vtlBackground"))}_tiling_TileCoverage_js__WEBPACK_IMPORTED_MODULE_9__["default"].pool.release(_)}_computeDisplayInfoView(e){let s=e.tileInfo.lods[0].scale;const i=Math.max(25,e.tileInfo.lods.length),l=[];for(let t=0;t<=i;t++)l.push(s),s/=2;this._displayInfo=_layers_support_TileInfo_js__WEBPACK_IMPORTED_MODULE_1__["default"].create({scales:l,size:_constants_js__WEBPACK_IMPORTED_MODULE_2__.tilePixelSize,spatialReference:e.spatialReference,numLODs:i})}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/engine/vectorTiles/VectorTileFeatureIndex.js":
/*!*****************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/vectorTiles/VectorTileFeatureIndex.js ***!
  \*****************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ m)
/* harmony export */ });
/* harmony import */ var _Graphic_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../Graphic.js */ "./node_modules/@arcgis/core/Graphic.js");
/* harmony import */ var _core_MapUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/MapUtils.js */ "./node_modules/@arcgis/core/core/MapUtils.js");
/* harmony import */ var _core_pbf_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core/pbf.js */ "./node_modules/@arcgis/core/core/pbf.js");
/* harmony import */ var _core_libs_rbush_PooledRBush_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../core/libs/rbush/PooledRBush.js */ "./node_modules/@arcgis/core/core/libs/rbush/PooledRBush.js");
/* harmony import */ var _constants_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./constants.js */ "./node_modules/@arcgis/core/views/2d/engine/vectorTiles/constants.js");
/* harmony import */ var _enums_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./enums.js */ "./node_modules/@arcgis/core/views/2d/engine/vectorTiles/enums.js");
/* harmony import */ var _Feature_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./Feature.js */ "./node_modules/@arcgis/core/views/2d/engine/vectorTiles/Feature.js");
/* harmony import */ var _GeometryUtils_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./GeometryUtils.js */ "./node_modules/@arcgis/core/views/2d/engine/vectorTiles/GeometryUtils.js");
/* harmony import */ var _SourceLayerData_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./SourceLayerData.js */ "./node_modules/@arcgis/core/views/2d/engine/vectorTiles/SourceLayerData.js");
/* harmony import */ var _style_StyleLayer_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./style/StyleLayer.js */ "./node_modules/@arcgis/core/views/2d/engine/vectorTiles/style/StyleLayer.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
const h=(e,t)=>{const s=e.vtlSymbol.sourceTile,r=t.vtlSymbol.sourceTile;return s.level!==r.level?s.level-r.level:s.row!==r.row?s.row-r.row:s.col!==r.col?s.col-r.col:e.styleLayerUID-t.styleLayerUID};class m{constructor(e,t,s,r,i){this.tileKey=e,this._tileLayerData=t,this._styleRepository=s,this._tileHandler=r,this._parentLayer=i,this._index=null,this._tileKeyToPBF=new Map}static create(e,t,s,r,i){return new m(e,t,s,r,i)}clear(){this._index?.clear(),this._tileKeyToPBF.clear()}async queryAttributes(e,t,s,i,o){if(0===this._tileLayerData.size||!this._styleRepository||!this._tileHandler)return[];null===this._index&&(this._index=new _core_libs_rbush_PooledRBush_js__WEBPACK_IMPORTED_MODULE_3__.PooledRBush(100,d),await this._indexLayers());const l=[];return this._queryIndex(l,e,t,s,this.tileKey.level,i),o&&o?.length>0&&await this._getSymbolsAttributes(l,o),l}async _indexLayers(){const e=this.tileKey,t=this._styleRepository.layers,s=await this._getTilePayload(e);for(const[r,i]of this._tileLayerData){const o=t[r],l=s.find((e=>e.sourceName===o.source));if(!l)continue;const{protobuff:a,key:y}=l;if(i.type!==_enums_js__WEBPACK_IMPORTED_MODULE_5__.BucketType.SYMBOL){const t=1<<e.level-y.level,s=e.row-y.row*t,r=e.col-y.col*t;this._indexLayer(o,a,e.level,t,s,r)}}}_indexLayer(e,t,r,l,n,h){const m=e.sourceLayer,d=e.getFeatureFilter(),f=r,_=r+1,p=(0,_GeometryUtils_js__WEBPACK_IMPORTED_MODULE_7__.getTileMargins)(f),g=new _core_pbf_js__WEBPACK_IMPORTED_MODULE_2__["default"](new Uint8Array(t),new DataView(t));for(;g.next();)switch(g.tag()){case 3:{const t=g.getMessage(),s=new _SourceLayerData_js__WEBPACK_IMPORTED_MODULE_8__["default"](t);if(t.release(),s.name!==m)continue;const y=s.getData(),w=s.extent/l,b=w*h-p,x=w*n-p,L=b+w+2*p,v=x+w+2*p,I=w/_constants_js__WEBPACK_IMPORTED_MODULE_4__.tilePixelSize,D=_constants_js__WEBPACK_IMPORTED_MODULE_4__.tileCoordSize/w,T=w*h,S=w*n;for(;y.nextTag(2);){const t=y.getMessage(),i=new _Feature_js__WEBPACK_IMPORTED_MODULE_6__["default"](t,s);if(t.release(),d&&!d.filter(i,r))continue;const o=i.values||{},l=o._minzoom,n=o._maxzoom;if(l&&l>=10*_||n&&n<=10*f)continue;const c=e.getFeatureInflatedBounds(i,f,s.extent,I);null==c||c[0]>L||c[1]>v||c[2]<b||c[3]<x||(c[0]=(c[0]-T)*D,c[1]=(c[1]-S)*D,c[2]=(c[2]-T)*D,c[3]=(c[3]-S)*D,this._index.insert(new _style_StyleLayer_js__WEBPACK_IMPORTED_MODULE_9__.IndexItem(e,i,c,D,T,S)))}break}default:g.skip()}g.release()}async _getSymbolsAttributes(e,t){if(!t||0===t.length)return e;const s=[];if(t.sort(h),t.length>0){let e=0,{styleLayerUID:r}=t[0];for(let o=1;o<t.length;o++){const{styleLayerUID:i}=t[o];i!==r&&(s.push({from:e,to:o,styleLayerUID:r,sourceTileKey:t[o-1].vtlSymbol.sourceTile}),e=o,r=i)}const i=t.length-1;s.push({from:e,to:t.length,styleLayerUID:r,sourceTileKey:t[i].vtlSymbol.sourceTile})}const r=this._styleRepository.layers;for(const i of s){const s=await this._getTilePayload(i.sourceTileKey),o=r[i.styleLayerUID],l=!!o&&s.find((e=>e.sourceName===o.source));l&&this._addSymbolsAttributes(e,t.slice(i.from,i.to).map((e=>e.vtlSymbol.featureIndex)),i.styleLayerUID,l)}return e}_addSymbolsAttributes(t,s,r,i){const o=this._styleRepository.layers,l=i.key,n=this.tileKey,a=1<<n.level-l.level,y=n.row-l.row*a,c=n.col-l.col*a;this._getSymbolAttributes(i.protobuff,s,r,a,y,c).forEach((s=>{const{attributes:i,tilePoint:l}=s;t.push({layerId:o[r].id,layerIndex:r,graphic:new _Graphic_js__WEBPACK_IMPORTED_MODULE_0__["default"]({attributes:i,origin:{type:"vector-tile",layerId:o[r].id,layerIndex:r,layer:this._parentLayer}}),tilePoint:l})}))}_getSymbolAttributes(e,t,r,i,l,n){const y=[],u=this._styleRepository.layers;let h=0;t.sort(((e,t)=>e-t));const m=new _core_pbf_js__WEBPACK_IMPORTED_MODULE_2__["default"](new Uint8Array(e),new DataView(e));for(;m.next();)switch(m.tag()){case 3:{const e=m.getMessage(),s=new _SourceLayerData_js__WEBPACK_IMPORTED_MODULE_8__["default"](e);if(e.release(),s.name!==u[r].sourceLayer)continue;const d=s.getData(),f=s.extent/i,_=_constants_js__WEBPACK_IMPORTED_MODULE_4__.tileCoordSize/f,p=f*n,g=f*l;let w=0;for(;d.nextTag(2);){const e=d.getMessage();if(w++===t[h]){const t=new _Feature_js__WEBPACK_IMPORTED_MODULE_6__["default"](e,s),r=t.values,i=t.getGeometry(),o=null!=i?[_*(i[0][0].x-p),_*(i[0][0].y-g)]:null;y.push({attributes:r,tilePoint:o}),h++}if(e.release(),h===t.length)return y}break}default:m.skip()}return m.release(),y}_queryIndex(t,s,r,i,o,n){const a=_constants_js__WEBPACK_IMPORTED_MODULE_4__.tilePixelRatio*i*(window.devicePixelRatio||1);return this._index?.search({minX:s-a,minY:r-a,maxX:s+a,maxY:r+a},(l=>{const{layer:a,feature:y}=l;a.isIntersectingFeature(s,r,i,y,o,n,l)&&t.push({layerId:a.id,layerIndex:a.uid,tilePoint:null,graphic:new _Graphic_js__WEBPACK_IMPORTED_MODULE_0__["default"]({attributes:y.values,origin:{type:"vector-tile",layerId:l.layer.id,layerIndex:l.layer.uid,layer:this._parentLayer}})})})),t}async _getTilePayload(e){return (0,_core_MapUtils_js__WEBPACK_IMPORTED_MODULE_1__.getOrCreateMapValue)(this._tileKeyToPBF,e.id,(()=>this._tileHandler.fetchTilePBFs(e))).then((e=>e))}}const d=e=>({minX:e.bounds[0],minY:e.bounds[1],maxX:e.bounds[2],maxY:e.bounds[3]});


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/engine/vectorTiles/decluttering/SymbolFader.js":
/*!*******************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/vectorTiles/decluttering/SymbolFader.js ***!
  \*******************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   SymbolFader: () => (/* binding */ c)
/* harmony export */ });
/* harmony import */ var _core_signal_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../core/signal.js */ "./node_modules/@arcgis/core/core/signal.js");
/* harmony import */ var _CollisionJob_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./CollisionJob.js */ "./node_modules/@arcgis/core/views/2d/engine/vectorTiles/decluttering/CollisionJob.js");
/* harmony import */ var _config_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./config.js */ "./node_modules/@arcgis/core/views/2d/engine/vectorTiles/decluttering/config.js");
/* harmony import */ var _SymbolDeclutterer_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./SymbolDeclutterer.js */ "./node_modules/@arcgis/core/views/2d/engine/vectorTiles/decluttering/SymbolDeclutterer.js");
/* harmony import */ var _SymbolRepository_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./SymbolRepository.js */ "./node_modules/@arcgis/core/views/2d/engine/vectorTiles/decluttering/SymbolRepository.js");
/* harmony import */ var _style_StyleDefinition_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../style/StyleDefinition.js */ "./node_modules/@arcgis/core/views/2d/engine/vectorTiles/style/StyleDefinition.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
const a=.5,n=1e-6;class c{constructor(e,s,a,c,h,y=_config_js__WEBPACK_IMPORTED_MODULE_2__.declutterBudget){this.styleRepository=s,this._declutterBudget=y,this._tileToHandle=new Map,this._viewState={scale:0,rotation:0,center:[0,0],size:[0,0]},this._declutterViewState={scale:0,rotation:0,center:[0,0],size:[0,0]},this._offsetFromScreenCenter=[0,0],this._completed=!1,this._fading=(0,_core_signal_js__WEBPACK_IMPORTED_MODULE_0__.signal)(!1);const _=(t,e,i)=>this._createCollisionJob(t,e,i),u=t=>{const e=this.styleRepository.getStyleLayerByUID?.(t);if(e){if(this._zoom+n<e.minzoom||this._zoom-n>=e.maxzoom)return!1;const t=e.getLayoutProperty?.("visibility");if(t&&t.getValue()===_style_StyleDefinition_js__WEBPACK_IMPORTED_MODULE_5__.Visibility.NONE)return!1}return!0},m=(t,e)=>(this.styleRepository.getStyleLayerByUID?.(t.styleLayerUID)?.z??0)-(this.styleRepository.getStyleLayerByUID?.(e.styleLayerUID)?.z??0);this._symbolRepository=new _SymbolRepository_js__WEBPACK_IMPORTED_MODULE_4__.SymbolRepository(h,c),this._symbolDeclutterer=new _SymbolDeclutterer_js__WEBPACK_IMPORTED_MODULE_3__.SymbolDeclutterer(e,c,this._symbolRepository,this.styleRepository,_,a,m,u)}get symbolRepository(){return this._symbolRepository}_createCollisionJob(t,i,s){return this.updateDecluttererViewState(),new _CollisionJob_js__WEBPACK_IMPORTED_MODULE_1__.CollisionJob(t,i,s,this.styleRepository,this._zoom,this._viewState.rotation)}get fading(){return this._fading.value}get decluttererOffset(){return this._offsetFromScreenCenter}registerFeatureTile(t){this.symbolRepository?(this.symbolRepository.registerFeatureTile(t),this.restartDeclutter()):console.error("InternalError: Symbol repository not yet initialized")}unregisterFeatureTile(t){this.symbolRepository?(this._symbolRepository.unregisterFeatureTile(t),this.restartDeclutter()):console.error("InternalError: Symbol repository not yet initialized")}insertFeatureTileMetrics(t,e){this.symbolRepository?(this.symbolRepository.insertFeatureTileMetrics(t,e),this.restartDeclutter()):console.error("InternalError: Symbol repository not yet initialized")}removeFeatureTileMetrics(t,e){this.symbolRepository?(this.symbolRepository.removeFeatureTileMetrics(t,e),this.restartDeclutter()):console.error("InternalError: Symbol repository not yet initialized")}addTile(t){t.decluttered=!1,this._tileToHandle.set(t,t.on("symbols-changed",(()=>{this._symbolRepository.registerVectorTile(t),this.restartDeclutter()}))),this._symbolRepository.registerVectorTile(t),this.restartDeclutter()}removeTile(t){const e=this._tileToHandle.get(t);e&&(this._symbolRepository.unregisterVectorTile(t),this.restartDeclutter(),e.remove(),this._tileToHandle.delete(t))}update(t,e){this._zoom=t,this._viewState={scale:e.scale,rotation:e.rotation,center:[e.center[0],e.center[1]],size:[e.size[0],e.size[1]]};const i=[0,0];e.toScreen(i,e.center);const s=[0,0];return e.toScreen(s,this._declutterViewState.center),this._offsetFromScreenCenter[0]=i[0]-s[0],this._offsetFromScreenCenter[1]=i[1]-s[1],this._continueDeclutter(),this._completed}restartDeclutter(){this._completed=!1,this._symbolDeclutterer.restart(),this._notifyUnstable()}clear(){this._completed=!1,this._symbolRepository=null,this._symbolDeclutterer.restart(),this._tileToHandle.forEach((t=>t.remove())),this._tileToHandle.clear()}get stale(){return this._zoom!==this._declutterZoom||this._viewState.size[0]!==this._declutterViewState.size[0]||this._viewState.size[1]!==this._declutterViewState.size[1]||this._viewState.scale!==this._declutterViewState.scale||this._viewState.rotation!==this._declutterViewState.rotation}deleteStyleLayers(t){this._symbolRepository.deleteStyleLayers(t)}_continueDeclutter(){this._completed&&!this.stale||(this._symbolDeclutterer.running||(this.updateDecluttererViewState(),this._symbolDeclutterer.restart()),this._symbolDeclutterer.setScreenSize(this._viewState.size[0],this._viewState.size[1]),this._completed=this._symbolDeclutterer.continue(this._declutterBudget),this._completed&&this._scheduleNotifyStable())}_scheduleNotifyStable(){null!=this._stableNotificationHandle&&clearTimeout(this._stableNotificationHandle),this._stableNotificationHandle=setTimeout((()=>{this._stableNotificationHandle=null,this._fading.value=!1}),(1+a)*_config_js__WEBPACK_IMPORTED_MODULE_2__.fadeDuration)}_notifyUnstable(){null!=this._stableNotificationHandle&&(clearTimeout(this._stableNotificationHandle),this._stableNotificationHandle=null),this._fading.value=!0}updateDecluttererViewState(){this._declutterZoom=this._zoom,this._declutterViewState.center[0]=this._viewState.center[0],this._declutterViewState.center[1]=this._viewState.center[1],this._declutterViewState.rotation=this._viewState.rotation,this._declutterViewState.scale=this._viewState.scale,this._declutterViewState.size[0]=this._viewState.size[0],this._declutterViewState.size[1]=this._viewState.size[1],this._offsetFromScreenCenter[0]=0,this._offsetFromScreenCenter[1]=0}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/engine/webgl/TileContainer.js":
/*!**************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/webgl/TileContainer.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ i)
/* harmony export */ });
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _enums_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./enums.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/enums.js");
/* harmony import */ var _WGLContainer_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./WGLContainer.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/WGLContainer.js");
/* harmony import */ var _brushes_WGLBrushStencil_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./brushes/WGLBrushStencil.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/brushes/WGLBrushStencil.js");
/* harmony import */ var _brushes_WGLBrushTileDebugInfo_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./brushes/WGLBrushTileDebugInfo.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/brushes/WGLBrushTileDebugInfo.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
const n=(e,r)=>e.key.level-r.key.level!==0?e.key.level-r.key.level:e.key.row-r.key.row!==0?e.key.row-r.key.row:e.key.col-r.key.col;class i extends _WGLContainer_js__WEBPACK_IMPORTED_MODULE_2__["default"]{constructor(e){super(),this.tileInfoView=e,this.sortFunction=n}renderChildren(e){this.setStencilReference(e),super.renderChildren(e)}createRenderParams(e){const{state:r}=e,s=super.createRenderParams(e);return s.requiredLevel=this.tileInfoView.getClosestInfoForScale(r.scale).level,s.displayLevel=this.tileInfoView.tileInfo.scaleToZoom(r.scale),s}prepareRenderPasses(r){const n=super.prepareRenderPasses(r);return n.push(r.registerRenderPass({name:"stencil",brushes:[_brushes_WGLBrushStencil_js__WEBPACK_IMPORTED_MODULE_3__["default"]],drawPhase:_enums_js__WEBPACK_IMPORTED_MODULE_1__.WGLDrawPhase.DEBUG|_enums_js__WEBPACK_IMPORTED_MODULE_1__.WGLDrawPhase.MAP|_enums_js__WEBPACK_IMPORTED_MODULE_1__.WGLDrawPhase.HIGHLIGHT|_enums_js__WEBPACK_IMPORTED_MODULE_1__.WGLDrawPhase.LABEL,target:()=>this.getStencilTarget()})),(0,_core_has_js__WEBPACK_IMPORTED_MODULE_0__["default"])("esri-tiles-debug")&&n.push(r.registerRenderPass({name:"tileInfo",brushes:[_brushes_WGLBrushTileDebugInfo_js__WEBPACK_IMPORTED_MODULE_4__["default"]],drawPhase:_enums_js__WEBPACK_IMPORTED_MODULE_1__.WGLDrawPhase.DEBUG,target:()=>this.children})),n}getStencilTarget(){return this.children}setStencilReference(e){let r=1;for(const s of this.children)s.stencilRef=r++}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/VectorTileLayerView2D.js":
/*!****************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/VectorTileLayerView2D.js ***!
  \****************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ A)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_lang_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/lang.js */ "./node_modules/@arcgis/core/core/lang.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/maybe.js */ "./node_modules/@arcgis/core/core/maybe.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _core_accessorSupport_diffUtils_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../core/accessorSupport/diffUtils.js */ "./node_modules/@arcgis/core/core/accessorSupport/diffUtils.js");
/* harmony import */ var _geometry_Point_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../geometry/Point.js */ "./node_modules/@arcgis/core/geometry/Point.js");
/* harmony import */ var _geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../geometry/support/aaBoundingRect.js */ "./node_modules/@arcgis/core/geometry/support/aaBoundingRect.js");
/* harmony import */ var _geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../geometry/support/spatialReferenceUtils.js */ "./node_modules/@arcgis/core/geometry/support/spatialReferenceUtils.js");
/* harmony import */ var _engine_vectorTiles_enums_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../engine/vectorTiles/enums.js */ "./node_modules/@arcgis/core/views/2d/engine/vectorTiles/enums.js");
/* harmony import */ var _engine_vectorTiles_TileHandler_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../engine/vectorTiles/TileHandler.js */ "./node_modules/@arcgis/core/views/2d/engine/vectorTiles/TileHandler.js");
/* harmony import */ var _engine_vectorTiles_TileManager_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../engine/vectorTiles/TileManager.js */ "./node_modules/@arcgis/core/views/2d/engine/vectorTiles/TileManager.js");
/* harmony import */ var _engine_vectorTiles_VectorTile_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../engine/vectorTiles/VectorTile.js */ "./node_modules/@arcgis/core/views/2d/engine/vectorTiles/VectorTile.js");
/* harmony import */ var _engine_vectorTiles_VectorTileContainer_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../engine/vectorTiles/VectorTileContainer.js */ "./node_modules/@arcgis/core/views/2d/engine/vectorTiles/VectorTileContainer.js");
/* harmony import */ var _engine_vectorTiles_VectorTileFeatureIndex_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../engine/vectorTiles/VectorTileFeatureIndex.js */ "./node_modules/@arcgis/core/views/2d/engine/vectorTiles/VectorTileFeatureIndex.js");
/* harmony import */ var _engine_vectorTiles_style_StyleDefinition_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../engine/vectorTiles/style/StyleDefinition.js */ "./node_modules/@arcgis/core/views/2d/engine/vectorTiles/style/StyleDefinition.js");
/* harmony import */ var _engine_vectorTiles_style_StyleRepository_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../engine/vectorTiles/style/StyleRepository.js */ "./node_modules/@arcgis/core/views/2d/engine/vectorTiles/style/StyleRepository.js");
/* harmony import */ var _LayerView2D_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./LayerView2D.js */ "./node_modules/@arcgis/core/views/2d/layers/LayerView2D.js");
/* harmony import */ var _tiling_TileInfoViewPOT_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../tiling/TileInfoViewPOT.js */ "./node_modules/@arcgis/core/views/2d/tiling/TileInfoViewPOT.js");
/* harmony import */ var _tiling_TileQueue_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../tiling/TileQueue.js */ "./node_modules/@arcgis/core/views/2d/tiling/TileQueue.js");
/* harmony import */ var _layers_LayerView_js__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../../layers/LayerView.js */ "./node_modules/@arcgis/core/views/layers/LayerView.js");
/* harmony import */ var _layers_RefreshableLayerView_js__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ../../layers/RefreshableLayerView.js */ "./node_modules/@arcgis/core/views/layers/RefreshableLayerView.js");
/* harmony import */ var _support_Scheduler_js__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ../../support/Scheduler.js */ "./node_modules/@arcgis/core/views/support/Scheduler.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
const S=2,D=8,P=512;let Q=class extends((0,_layers_RefreshableLayerView_js__WEBPACK_IMPORTED_MODULE_24__["default"])((0,_LayerView2D_js__WEBPACK_IMPORTED_MODULE_20__.LayerView2DMixin)(_layers_LayerView_js__WEBPACK_IMPORTED_MODULE_23__["default"]))){constructor(){super(...arguments),this._styleChanges=[],this._fetchQueue=null,this._parseQueue=null,this._tileHandlerPromise=null,this._isTileHandlerReady=!1,this._styeChanged=!1,this._spriteSourceChanged=!1}get fading(){return this._vectorTileContainer?.fading??!1}get hasVisibleFeatures(){const e=this._vectorTileContainer.children;for(const t of e)if(t.hasFeatures())return!0;return!1}get spriteSourceChanged(){return this._spriteSourceChanged}get styleChanged(){return this._styeChanged}async hitTest(e,t){const i=this._tileHandlerPromise,s=this._vectorTileContainer?.symbolFader;if(!i||!this._isTileHandlerReady||!s)return;await i;let r=null;const a=this._vectorTileContainer?.symbolRepository;a&&(r=a.querySymbols(t,S,s.decluttererOffset,{}));const l=this.view.state,n=this._tileManager.getIntersectingTiles(t.x,t.y,S,l,r);if((!n||0===n.length)&&0===r?.length)return null;e=e.clone().normalize();const o=[],h=[];for(const u of n)o.push(this._queryTile(h,e,S,this.view.state.rotation,u,r?.filter((e=>e.tileKey.id===u.id))));return await Promise.all(o),h}update(e){if(this._tileHandlerPromise&&this._isTileHandlerReady)return e.pixelRatio!==this._tileHandler.devicePixelRatio?(this._tileHandler.devicePixelRatio=e.pixelRatio,void this._loadStyle()):void(this._styleChanges.length>0?this._tileHandlerPromise=this._applyStyleChanges():(this._pauseQueues(),this._fetchQueue.state=e.state,this._parseQueue.state=e.state,this._tileManager.update(e)||this.requestUpdate(),this._resumeQueues()))}attach(){const{style:e}=this.layer.currentStyleInfo;this._styleRepository=new _engine_vectorTiles_style_StyleRepository_js__WEBPACK_IMPORTED_MODULE_19__["default"](e),this._tileInfoView=new _tiling_TileInfoViewPOT_js__WEBPACK_IMPORTED_MODULE_21__["default"](this.layer.tileInfo,this.layer.fullExtent),this._vectorTileContainer=new _engine_vectorTiles_VectorTileContainer_js__WEBPACK_IMPORTED_MODULE_16__.VectorTileContainer(this._tileInfoView),this._tileHandler=new _engine_vectorTiles_TileHandler_js__WEBPACK_IMPORTED_MODULE_13__.TileHandler(this.layer,this._styleRepository,window.devicePixelRatio||1,this.layer.tileInfo.lods.length-1),this.container.addChild(this._vectorTileContainer),this._start(),this.addAttachHandles([this.layer.on("paint-change",(e=>{if(this._styeChanged=!0,e.isDataDriven)this._styleChanges.push({type:_engine_vectorTiles_enums_js__WEBPACK_IMPORTED_MODULE_12__.StyleUpdateType.PAINTER_CHANGED,data:e}),this.requestUpdate();else{const t=this._styleRepository,i=t.getLayerById(e.layer);if(!i)return;const s=i.type===_engine_vectorTiles_style_StyleDefinition_js__WEBPACK_IMPORTED_MODULE_18__.StyleLayerType.SYMBOL;t.setPaintProperties(e.layer,e.paint),s&&this._vectorTileContainer?.restartDeclutter(),this._vectorTileContainer?.requestRender()}})),this.layer.on("layout-change",(e=>{const t=this._styleRepository,i=t.getLayerById(e.layer);if(!i)return;this._styeChanged=!0;const s=(0,_core_accessorSupport_diffUtils_js__WEBPACK_IMPORTED_MODULE_8__.diff)(i.layout,e.layout);if(null!=s){if((0,_core_accessorSupport_diffUtils_js__WEBPACK_IMPORTED_MODULE_8__.hasDiff)(s,"visibility")&&1===E(s))return t.setLayoutProperties(e.layer,e.layout),i.type===_engine_vectorTiles_style_StyleDefinition_js__WEBPACK_IMPORTED_MODULE_18__.StyleLayerType.SYMBOL&&this._vectorTileContainer?.restartDeclutter(),void this._vectorTileContainer?.requestRender();this._styleChanges.push({type:_engine_vectorTiles_enums_js__WEBPACK_IMPORTED_MODULE_12__.StyleUpdateType.LAYOUT_CHANGED,data:e}),this.requestUpdate()}})),this.layer.on("style-layer-visibility-change",(e=>{const t=this._styleRepository,i=t.getLayerById(e.layer);i&&(this._styeChanged=!0,t.setStyleLayerVisibility(e.layer,e.visibility),i.type===_engine_vectorTiles_style_StyleDefinition_js__WEBPACK_IMPORTED_MODULE_18__.StyleLayerType.SYMBOL&&this._vectorTileContainer?.restartDeclutter(),this._vectorTileContainer?.requestRender())})),this.layer.on("style-layer-change",(e=>{this._styleChanges.push({type:_engine_vectorTiles_enums_js__WEBPACK_IMPORTED_MODULE_12__.StyleUpdateType.LAYER_CHANGED,data:e}),this._styeChanged=!0,this.requestUpdate()})),this.layer.on("delete-style-layer",(e=>{this._styleChanges.push({type:_engine_vectorTiles_enums_js__WEBPACK_IMPORTED_MODULE_12__.StyleUpdateType.LAYER_REMOVED,data:e}),this._styeChanged=!0,this.requestUpdate()})),this.layer.on("load-style",(()=>this._loadStyle())),this.layer.on("spriteSource-change",(e=>{this._spriteSourceChanged=!0,this._styleChanges.push({type:_engine_vectorTiles_enums_js__WEBPACK_IMPORTED_MODULE_12__.StyleUpdateType.SPRITES_CHANGED,data:e});const t=this._styleRepository.layers;for(const i of t)switch(i.type){case _engine_vectorTiles_style_StyleDefinition_js__WEBPACK_IMPORTED_MODULE_18__.StyleLayerType.SYMBOL:i.getLayoutProperty("icon-image")&&this._styleChanges.push({type:_engine_vectorTiles_enums_js__WEBPACK_IMPORTED_MODULE_12__.StyleUpdateType.LAYOUT_CHANGED,data:{layer:i.id,layout:i.layout}});break;case _engine_vectorTiles_style_StyleDefinition_js__WEBPACK_IMPORTED_MODULE_18__.StyleLayerType.LINE:i.getPaintProperty("line-pattern")&&this._styleChanges.push({type:_engine_vectorTiles_enums_js__WEBPACK_IMPORTED_MODULE_12__.StyleUpdateType.PAINTER_CHANGED,data:{layer:i.id,paint:i.paint,isDataDriven:i.isPainterDataDriven()}});break;case _engine_vectorTiles_style_StyleDefinition_js__WEBPACK_IMPORTED_MODULE_18__.StyleLayerType.FILL:i.getLayoutProperty("fill-pattern")&&this._styleChanges.push({type:_engine_vectorTiles_enums_js__WEBPACK_IMPORTED_MODULE_12__.StyleUpdateType.PAINTER_CHANGED,data:{layer:i.id,paint:i.paint,isDataDriven:i.isPainterDataDriven()}})}this.requestUpdate()}))])}detach(){this._stop(),this.container.removeAllChildren(),this._vectorTileContainer=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_3__.destroyMaybe)(this._vectorTileContainer),this._tileHandler=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_3__.destroyMaybe)(this._tileHandler)}viewChange(){this.requestUpdate()}moveEnd(){this.requestUpdate()}supportsSpatialReference(e){return (0,_geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_11__.equals)(this.layer.tileInfo?.spatialReference,e)}canResume(){let e=super.canResume();const{currentStyleInfo:t}=this.layer;if(e&&t?.layerDefinition){const i=this.view.scale,{minScale:s,maxScale:r}=t.layerDefinition;t?.layerDefinition&&(s&&s<i&&(e=!1),r&&r>i&&(e=!1))}return e}isUpdating(){return this.fading}acquireTile(e){const t=this._createVectorTile(e);return this._updatingHandles.addPromise(this._fetchQueue.push(t.key).then((e=>this._parseQueue.push({key:t.key,data:e}))).then((e=>{t.once("attach",(()=>this.requestUpdate())),t.setData(e),this.requestUpdate()})).catch((e=>{(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_4__.isAbortError)(e)||_core_Logger_js__WEBPACK_IMPORTED_MODULE_2__["default"].getLogger(this).error(e)}))),t}releaseTile(e){const t=e.key.id;this._fetchQueue.abort(t),this._parseQueue.abort(t),this.requestUpdate()}async doRefresh(){if(!this.attached)return;if(this.suspended)return this._tileManager.clear(),void this.requestUpdate();this._isTileHandlerReady=!1,this._pauseQueues(),this._clearQueues(),this._tileManager.clearCache(),this._resumeQueues();const e=this._vectorTileContainer.children,t=[];try{for(const i of e){const e=this._updatingHandles.addPromise(this._fetchQueue.push(i.key).then((e=>this._parseQueue.push({key:i.key,data:e}))).then((e=>i.setData(e))).finally((()=>i.featureIndex=null)));t.push(e)}await Promise.all(t)}catch(s){_core_Logger_js__WEBPACK_IMPORTED_MODULE_2__["default"].getLogger(this).error("error refreshing vector-tiles layer-view",s),this._resumeQueues(),this._isTileHandlerReady=!0}this._isTileHandlerReady=!0,this.requestUpdate()}_start(){if(this._stop(),this._tileManager=new _engine_vectorTiles_TileManager_js__WEBPACK_IMPORTED_MODULE_14__.TileManager({acquireTile:e=>this.acquireTile(e),releaseTile:e=>this.releaseTile(e),tileInfoView:this._tileInfoView},this._vectorTileContainer),!this.layer.currentStyleInfo)return;const e=new AbortController,t=this._tileHandler.start({signal:e.signal}).then((()=>{this._fetchQueue=new _tiling_TileQueue_js__WEBPACK_IMPORTED_MODULE_22__["default"]({tileInfoView:this._tileInfoView,process:(e,t)=>this._getTileData(e,t),concurrency:15,scheduler:this.scheduler,priority:_support_Scheduler_js__WEBPACK_IMPORTED_MODULE_25__.TaskPriority.MAPVIEW_FETCH_QUEUE}),this._parseQueue=new _tiling_TileQueue_js__WEBPACK_IMPORTED_MODULE_22__["default"]({tileInfoView:this._tileInfoView,process:(e,t)=>this._parseTileData(e,t),concurrency:8,scheduler:this.scheduler,priority:_support_Scheduler_js__WEBPACK_IMPORTED_MODULE_25__.TaskPriority.MAPVIEW_VECTOR_TILE_PARSING_QUEUE}),this.requestUpdate(),this._isTileHandlerReady=!0}));this._tileHandler.spriteMosaic.then((e=>{this._vectorTileContainer.setStyleResources(e,this._tileHandler.glyphMosaic,this._styleRepository,this._tileInfoView),this.requestUpdate()})),this._tileHandlerAbortController=e,this._tileHandlerPromise=t}_stop(){if(!this._tileHandlerAbortController||!this._vectorTileContainer)return;const e=this._tileHandlerAbortController;e&&e.abort(),this._tileHandlerPromise=null,this._isTileHandlerReady=!1,this._fetchQueue=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_3__.destroyMaybe)(this._fetchQueue),this._parseQueue=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_3__.destroyMaybe)(this._parseQueue),this._tileManager=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_3__.destroyMaybe)(this._tileManager),this._vectorTileContainer.removeAllChildren()}async _getTileData(e,t){return this._tileHandler.fetchTileData(e,t)}async _parseTileData(e,t){return this._tileHandler.parseTileData(e,t)}async _applyStyleChanges(){this._isTileHandlerReady=!1,this._pauseQueues(),this._clearQueues(),this._tileManager.clearCache();const e=this._styleChanges;try{await this._tileHandler.updateStyle(e)}catch(l){_core_Logger_js__WEBPACK_IMPORTED_MODULE_2__["default"].getLogger(this).error("error applying vector-tiles style update",l.message),this._resumeQueues(),this._isTileHandlerReady=!0}const t=this._styleRepository,s=new Set;e.forEach((e=>{if(e.type!==_engine_vectorTiles_enums_js__WEBPACK_IMPORTED_MODULE_12__.StyleUpdateType.LAYER_REMOVED)return;const i=e.data,r=t.getLayerById(i.layer);r&&s.add(r.uid)}));const r=new Set;e.forEach((e=>{let i;switch(e.type){case _engine_vectorTiles_enums_js__WEBPACK_IMPORTED_MODULE_12__.StyleUpdateType.PAINTER_CHANGED:t.setPaintProperties(e.data.layer,e.data.paint),i=e.data.layer;break;case _engine_vectorTiles_enums_js__WEBPACK_IMPORTED_MODULE_12__.StyleUpdateType.LAYOUT_CHANGED:t.setLayoutProperties(e.data.layer,e.data.layout),i=e.data.layer;break;case _engine_vectorTiles_enums_js__WEBPACK_IMPORTED_MODULE_12__.StyleUpdateType.LAYER_REMOVED:return void t.deleteStyleLayer(e.data.layer);case _engine_vectorTiles_enums_js__WEBPACK_IMPORTED_MODULE_12__.StyleUpdateType.LAYER_CHANGED:t.setStyleLayer(e.data.layer,e.data.index),i=e.data.layer.id;break;case _engine_vectorTiles_enums_js__WEBPACK_IMPORTED_MODULE_12__.StyleUpdateType.SPRITES_CHANGED:this._vectorTileContainer.setSpriteMosaic(this._tileHandler.setSpriteSource(e.data.spriteSource))}if(i){const e=t.getLayerById(i);e&&r.add(e.uid)}}));const a=this._vectorTileContainer.children;if(s.size>0){const e=Array.from(s);this._vectorTileContainer.deleteStyleLayers(e);for(const t of a)t.deleteLayerData(e)}if(this._resumeQueues(),r.size>0){const e=Array.from(r),t=[];for(const i of a){const s=this._updatingHandles.addPromise(this._fetchQueue.push(i.key).then((t=>this._parseQueue.push({key:i.key,data:t,styleLayerUIDs:e}))).then((e=>i.setData(e))).finally((()=>i.featureIndex=null)));t.push(s)}await Promise.all(t)}this._styleChanges=[],this._isTileHandlerReady=!0,this.requestUpdate()}async _loadStyle(){const{style:e}=this.layer.currentStyleInfo,i=(0,_core_lang_js__WEBPACK_IMPORTED_MODULE_1__.clone)(e);this._isTileHandlerReady=!1,this._pauseQueues(),this._clearQueues(),this._styleRepository=new _engine_vectorTiles_style_StyleRepository_js__WEBPACK_IMPORTED_MODULE_19__["default"](i),this._vectorTileContainer.destroy(),this._tileManager.clear(),this._tileHandlerAbortController.abort(),this._tileHandlerAbortController=new AbortController;const{signal:s}=this._tileHandlerAbortController;try{this._tileHandlerPromise=this._tileHandler.setStyle(this._styleRepository,i,this.layer.tileInfo.lods.length-1),await this._tileHandlerPromise}catch(n){if(!(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_4__.isAbortError)(n))throw n}if(s.aborted)return this._resumeQueues(),this._isTileHandlerReady=!0,this._styeChanged=!1,this._spriteSourceChanged=!1,void this.requestUpdate();const a=await this._tileHandler.spriteMosaic,l=this._vectorTileContainer;this._tileInfoView=new _tiling_TileInfoViewPOT_js__WEBPACK_IMPORTED_MODULE_21__["default"](this.layer.tileInfo,this.layer.fullExtent),l.setStyleResources(a,this._tileHandler.glyphMosaic,this._styleRepository,this._tileInfoView),this._tileManager=new _engine_vectorTiles_TileManager_js__WEBPACK_IMPORTED_MODULE_14__.TileManager({acquireTile:e=>this.acquireTile(e),releaseTile:e=>this.releaseTile(e),tileInfoView:this._tileInfoView},this._vectorTileContainer),this._resumeQueues(),this._isTileHandlerReady=!0,this.requestUpdate(),this._styeChanged=!1,this._spriteSourceChanged=!1}_createVectorTile(e){const t=this._tileInfoView.getTileBounds((0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_10__.create)(),e),i=this._tileInfoView.getTileResolution(e.level);return new _engine_vectorTiles_VectorTile_js__WEBPACK_IMPORTED_MODULE_15__.VectorTile(e,i,t[0],t[3],512,512,this._styleRepository)}async _queryTile(e,t,i,s,r,a){if(0===r.layerData.size)return;const l=this._ensureTileIndex(r),n=this._tileInfoView.getTileBounds((0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_10__.create)(),r.key,!0),o=D*P*((t.x-n[0])/(n[2]-n[0])),h=D*P*(1-(t.y-n[1])/(n[3]-n[1])),y=await l.queryAttributes(o,h,i,s,a);for(const u of y)u.graphic.geometry=this._tileToMapPoint(u.tilePoint,r.transforms.tileUnitsToPixels),e.push({type:"graphic",layer:this.layer,graphic:u.graphic,mapPoint:t.clone()});e.sort(((e,t)=>t.graphic.origin.layerIndex-e.graphic.origin.layerIndex))}_tileToMapPoint(e,t){if(!e)return null;const i=e[0]*t[0]+e[1]*t[3]+t[6],s=e[0]*t[1]+e[1]*t[4]+t[7],r=this.view.state,a=[0,0];return r.toMap(a,[i,s]),new _geometry_Point_js__WEBPACK_IMPORTED_MODULE_9__["default"]({x:a[0],y:a[1],spatialReference:r.spatialReference})}_ensureTileIndex(e){let t=e.featureIndex;return t||(t=_engine_vectorTiles_VectorTileFeatureIndex_js__WEBPACK_IMPORTED_MODULE_17__["default"].create(e.key,e.layerData,this._styleRepository,this._tileHandler,this.layer),e.featureIndex=t),t}_pauseQueues(){this._fetchQueue.pause(),this._parseQueue.pause()}_resumeQueues(){this._fetchQueue.resume(),this._parseQueue.resume()}_clearQueues(){this._fetchQueue.clear(),this._parseQueue.clear()}};function E(e){if(null==e)return 0;switch(e.type){case"partial":return Object.keys(e.diff).length;case"complete":return Math.max(Object.keys(e.oldValue).length,Object.keys(e.newValue).length);case"collection":return Object.keys(e.added).length+Object.keys(e.changed).length+Object.keys(e.removed).length}}(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],Q.prototype,"_isTileHandlerReady",void 0),Q=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__.subclass)("esri.views.2d.layers.VectorTileLayerView2D")],Q);const A=Q;


/***/ }),

/***/ "./node_modules/@arcgis/core/views/layers/RefreshableLayerView.js":
/*!************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/layers/RefreshableLayerView.js ***!
  \************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ i)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../core/reactiveUtils.js */ "./node_modules/@arcgis/core/core/reactiveUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_RandomLCG_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../core/RandomLCG.js */ "./node_modules/@arcgis/core/core/RandomLCG.js");
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
const i=i=>{let a=class extends i{initialize(){this.addHandles((0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__.on)((()=>this.layer),"refresh",(r=>{this.doRefresh(r.dataChanged).catch((r=>{(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_2__.isAbortError)(r)||_core_Logger_js__WEBPACK_IMPORTED_MODULE_1__["default"].getLogger(this).error(r)}))})),"RefreshableLayerView")}};return a=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__.subclass)("esri.views.layers.RefreshableLayerView")],a),a};


/***/ })

};

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmVuZG9ycy1ub2RlX21vZHVsZXNfYXJjZ2lzX2NvcmVfdmlld3NfMmRfbGF5ZXJzX1ZlY3RvclRpbGVMYXllclZpZXcyRF9qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQzZOLFFBQVEsbUJBQW1CLGtPQUFrTyxVQUFVLHFEQUFxRCxPQUFPLGdCQUFnQixZQUFZLGlCQUFpQixxQkFBcUIsd0JBQXdCLEVBQUUsRUFBRSxnQ0FBZ0MsSUFBSSxLQUFLLHNDQUFzQyw4Q0FBOEMsV0FBVyxZQUFZLGlCQUFpQixxQkFBcUIsb0JBQW9CLGNBQWMsRUFBRSxFQUFFLGdDQUFnQyxJQUFJLEtBQUssc0NBQXNDLFdBQVcsMkJBQTJCLFdBQVcsVUFBVSxTQUFTLFFBQVEseUJBQXlCLDhCQUE4Qix1QkFBdUIsSUFBSSxzQkFBc0IsWUFBWSw0Q0FBNEMsNEZBQTRGLEtBQUssK0JBQStCLG1CQUFtQixpQkFBaUIsZ0RBQWdELGtCQUFrQixZQUFZLFVBQVUsbURBQW1ELFFBQVEsaUNBQWlDLFVBQVUsa0JBQWtCLG1DQUFtQyx3QkFBd0Isd0JBQXdCLGNBQWMsRUFBRSxvRUFBb0UsdURBQUMsWUFBWSwwREFBQywwR0FBMEcscUdBQXFHLFlBQVksU0FBUyxrQkFBa0IsWUFBWSx5QkFBeUIsZ0JBQWdCLGNBQWMsdUJBQXVCLFNBQVMsOEJBQThCLDJCQUEyQixrRUFBa0Usa0JBQWtCLFdBQVcsbURBQW1ELDZCQUE2QixZQUFZLEtBQUssTUFBTSwwQkFBMEIsNkJBQTZCLFlBQVksS0FBSyxNQUFNLDBCQUEwQix5Q0FBeUMsMkJBQTJCLGVBQWUsZ0NBQWdDLFVBQVUsNEJBQTRCLDhCQUE4QixpREFBaUQsc0JBQXNCLFNBQVMsWUFBWSx5REFBeUQsNkJBQTZCLHNDQUFzQyxhQUFhLDRFQUE0RSwwR0FBMEcsZ0JBQWdCLGdGQUFnRix5QkFBeUIsVUFBVSxRQUFRLFlBQVksT0FBTyxLQUFLLDJFQUEyRSw4Q0FBOEMsU0FBUyx3QkFB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QXlDLG1FQUFDLEtBQUssdURBQUMsMEJBQTBCLEdBQUcsNkJBQTZCLFNBQVMsdURBQUMsRUFBRSxzRkFBQyxrREFBdUUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wcmVjaXNpb25mYXJtcy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvY29yZS9saWJzL3JidXNoL1Bvb2xlZFJCdXNoLmpzIiwid2VicGFjazovL3ByZWNpc2lvbmZhcm1zLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8yZC9lbmdpbmUvdmVjdG9yVGlsZXMvRmVhdHVyZS5qcyIsIndlYnBhY2s6Ly9wcmVjaXNpb25mYXJtcy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvMmQvZW5naW5lL3ZlY3RvclRpbGVzL1NvdXJjZUxheWVyRGF0YS5qcyIsIndlYnBhY2s6Ly9wcmVjaXNpb25mYXJtcy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvMmQvZW5naW5lL3ZlY3RvclRpbGVzL1RpbGVNYW5hZ2VyLmpzIiwid2VicGFjazovL3ByZWNpc2lvbmZhcm1zLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8yZC9lbmdpbmUvdmVjdG9yVGlsZXMvVmVjdG9yVGlsZUNvbnRhaW5lci5qcyIsIndlYnBhY2s6Ly9wcmVjaXNpb25mYXJtcy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvMmQvZW5naW5lL3ZlY3RvclRpbGVzL1ZlY3RvclRpbGVGZWF0dXJlSW5kZXguanMiLCJ3ZWJwYWNrOi8vcHJlY2lzaW9uZmFybXMvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzJkL2VuZ2luZS92ZWN0b3JUaWxlcy9kZWNsdXR0ZXJpbmcvU3ltYm9sRmFkZXIuanMiLCJ3ZWJwYWNrOi8vcHJlY2lzaW9uZmFybXMvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzJkL2VuZ2luZS93ZWJnbC9UaWxlQ29udGFpbmVyLmpzIiwid2VicGFjazovL3ByZWNpc2lvbmZhcm1zLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8yZC9sYXllcnMvVmVjdG9yVGlsZUxheWVyVmlldzJELmpzIiwid2VicGFjazovL3ByZWNpc2lvbmZhcm1zLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy9sYXllcnMvUmVmcmVzaGFibGVMYXllclZpZXcuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMzMvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtpbmRleE9mIGFzIHQsUG9zaXRpb25IaW50IGFzIGl9ZnJvbVwiLi4vLi4vYXJyYXlVdGlscy5qc1wiO2ltcG9ydHt0b0NvbnN0IGFzIG59ZnJvbVwiLi4vLi4vY29tcGlsZXJVdGlscy5qc1wiO2ltcG9ydFwiLi4vLi4vaGFzLmpzXCI7aW1wb3J0IGUgZnJvbVwiLi4vLi4vUG9vbGVkQXJyYXkuanNcIjtpbXBvcnR7cSBhcyBofWZyb21cIi4uLy4uLy4uL2NodW5rcy9xdWlja3NlbGVjdC5qc1wiO2NsYXNzIHN7Y29uc3RydWN0b3IodD05LGkpe3RoaXMuX2NvbXBhcmVNaW5YPXUsdGhpcy5fY29tcGFyZU1pblk9ZCx0aGlzLl90b0JCb3g9dD0+dCx0aGlzLl9tYXhFbnRyaWVzPU1hdGgubWF4KDQsdHx8OSksdGhpcy5fbWluRW50cmllcz1NYXRoLm1heCgyLE1hdGguY2VpbCguNCp0aGlzLl9tYXhFbnRyaWVzKSksaSYmKFwiZnVuY3Rpb25cIj09dHlwZW9mIGk/dGhpcy5fdG9CQm94PWk6dGhpcy5faW5pdEZvcm1hdChpKSksdGhpcy5jbGVhcigpfWRlc3Ryb3koKXt0aGlzLmNsZWFyKCksWS5wcnVuZSgpLEIucHJ1bmUoKSx3LnBydW5lKCksai5wcnVuZSgpfWFsbCh0KXtyKHRoaXMuX2RhdGEsdCl9c2VhcmNoKHQsaSl7bGV0IG49dGhpcy5fZGF0YTtjb25zdCBlPXRoaXMuX3RvQkJveDtpZihNKHQsbikpZm9yKFkuY2xlYXIoKTtuOyl7Zm9yKGxldCBoPTAscz1uLmNoaWxkcmVuLmxlbmd0aDtoPHM7aCsrKXtjb25zdCBzPW4uY2hpbGRyZW5baF0sYT1uLmxlYWY/ZShzKTpzO00odCxhKSYmKG4ubGVhZj9pKHMpOmcodCxhKT9yKHMsaSk6WS5wdXNoKHMpKX1uPVkucG9wKCl9fWNvbGxpZGVzKHQpe2xldCBpPXRoaXMuX2RhdGE7Y29uc3Qgbj10aGlzLl90b0JCb3g7aWYoIU0odCxpKSlyZXR1cm4hMTtmb3IoWS5jbGVhcigpO2k7KXtmb3IobGV0IGU9MCxoPWkuY2hpbGRyZW4ubGVuZ3RoO2U8aDtlKyspe2NvbnN0IGg9aS5jaGlsZHJlbltlXSxzPWkubGVhZj9uKGgpOmg7aWYoTSh0LHMpKXtpZihpLmxlYWZ8fGcodCxzKSlyZXR1cm4hMDtZLnB1c2goaCl9fWk9WS5wb3AoKX1yZXR1cm4hMX1sb2FkKHQpe2lmKCF0Lmxlbmd0aClyZXR1cm4gdGhpcztpZih0Lmxlbmd0aDx0aGlzLl9taW5FbnRyaWVzKXtmb3IobGV0IGk9MCxuPXQubGVuZ3RoO2k8bjtpKyspdGhpcy5pbnNlcnQodFtpXSk7cmV0dXJuIHRoaXN9bGV0IGk9dGhpcy5fYnVpbGQodC5zbGljZSgpLDAsdC5sZW5ndGgtMSwwKTtpZih0aGlzLl9kYXRhLmNoaWxkcmVuLmxlbmd0aClpZih0aGlzLl9kYXRhLmhlaWdodD09PWkuaGVpZ2h0KXRoaXMuX3NwbGl0Um9vdCh0aGlzLl9kYXRhLGkpO2Vsc2V7aWYodGhpcy5fZGF0YS5oZWlnaHQ8aS5oZWlnaHQpe2NvbnN0IHQ9dGhpcy5fZGF0YTt0aGlzLl9kYXRhPWksaT10fXRoaXMuX2luc2VydChpLHRoaXMuX2RhdGEuaGVpZ2h0LWkuaGVpZ2h0LTEsITApfWVsc2UgdGhpcy5fZGF0YT1pO3JldHVybiB0aGlzfWluc2VydCh0KXtyZXR1cm4gdCYmdGhpcy5faW5zZXJ0KHQsdGhpcy5fZGF0YS5oZWlnaHQtMSksdGhpc31jbGVhcigpe3JldHVybiB0aGlzLl9kYXRhPW5ldyBTKFtdKSx0aGlzfXJlbW92ZShpKXtpZighaSlyZXR1cm4gdGhpcztsZXQgZSxoPXRoaXMuX2RhdGEscz1udWxsLGE9MCxyPSExO2NvbnN0IG89dGhpcy5fdG9CQm94KGkpO2Zvcih3LmNsZWFyKCksai5jbGVhcigpO2h8fHcubGVuZ3RoPjA7KXtpZihofHwoaD13LnBvcCgpLHM9dy5kYXRhW3cubGVuZ3RoLTFdLGE9ai5wb3AoKT8/MCxyPSEwKSxoLmxlYWYmJihlPXQoaC5jaGlsZHJlbixuKGkpLGguY2hpbGRyZW4ubGVuZ3RoLGguaW5kZXhIaW50KSwtMSE9PWUpKXJldHVybiBoLmNoaWxkcmVuLnNwbGljZShlLDEpLHcucHVzaChoKSx0aGlzLl9jb25kZW5zZSh3KSx0aGlzO3J8fGgubGVhZnx8IWcoaCxvKT9zPyhhKyssaD1zLmNoaWxkcmVuW2FdLHI9ITEpOmg9bnVsbDoody5wdXNoKGgpLGoucHVzaChhKSxhPTAscz1oLGg9aC5jaGlsZHJlblswXSl9cmV0dXJuIHRoaXN9dG9KU09OKCl7cmV0dXJuIHRoaXMuX2RhdGF9ZnJvbUpTT04odCl7cmV0dXJuIHRoaXMuX2RhdGE9dCx0aGlzfV9idWlsZCh0LGksbixlKXtjb25zdCBoPW4taSsxO2xldCBzPXRoaXMuX21heEVudHJpZXM7aWYoaDw9cyl7Y29uc3QgZT1uZXcgUyh0LnNsaWNlKGksbisxKSk7cmV0dXJuIGwoZSx0aGlzLl90b0JCb3gpLGV9ZXx8KGU9TWF0aC5jZWlsKE1hdGgubG9nKGgpL01hdGgubG9nKHMpKSxzPU1hdGguY2VpbChoL3MqKihlLTEpKSk7Y29uc3QgYT1uZXcgeShbXSk7YS5oZWlnaHQ9ZTtjb25zdCByPU1hdGguY2VpbChoL3MpLG89cipNYXRoLmNlaWwoTWF0aC5zcXJ0KHMpKTtYKHQsaSxuLG8sdGhpcy5fY29tcGFyZU1pblgpO2ZvcihsZXQgbD1pO2w8PW47bCs9byl7Y29uc3QgaT1NYXRoLm1pbihsK28tMSxuKTtYKHQsbCxpLHIsdGhpcy5fY29tcGFyZU1pblkpO2ZvcihsZXQgbj1sO248PWk7bis9cil7Y29uc3QgaD1NYXRoLm1pbihuK3ItMSxpKTthLmNoaWxkcmVuLnB1c2godGhpcy5fYnVpbGQodCxuLGgsZS0xKSl9fXJldHVybiBsKGEsdGhpcy5fdG9CQm94KSxhfV9pbnNlcnQodCxpLG4pe2NvbnN0IGU9dGhpcy5fdG9CQm94LGg9bj90OmUodCk7dy5jbGVhcigpO2NvbnN0IHM9YShoLHRoaXMuX2RhdGEsaSx3KTtmb3Iocy5jaGlsZHJlbi5wdXNoKHQpLG0ocyxoKTtpPj0wJiZ3LmRhdGFbaV0uY2hpbGRyZW4ubGVuZ3RoPnRoaXMuX21heEVudHJpZXM7KXRoaXMuX3NwbGl0KHcsaSksaS0tO28oaCx3LGkpfV9zcGxpdCh0LGkpe2NvbnN0IG49dC5kYXRhW2ldLGU9bi5jaGlsZHJlbi5sZW5ndGgsaD10aGlzLl9taW5FbnRyaWVzO3RoaXMuX2Nob29zZVNwbGl0QXhpcyhuLGgsZSk7Y29uc3Qgcz10aGlzLl9jaG9vc2VTcGxpdEluZGV4KG4saCxlKTtpZighcylyZXR1cm47Y29uc3QgYT1uLmNoaWxkcmVuLnNwbGljZShzLG4uY2hpbGRyZW4ubGVuZ3RoLXMpLHI9bi5sZWFmP25ldyBTKGEpOm5ldyB5KGEpO3IuaGVpZ2h0PW4uaGVpZ2h0LGwobix0aGlzLl90b0JCb3gpLGwocix0aGlzLl90b0JCb3gpLGk/dC5kYXRhW2ktMV0uY2hpbGRyZW4ucHVzaChyKTp0aGlzLl9zcGxpdFJvb3QobixyKX1fc3BsaXRSb290KHQsaSl7dGhpcy5fZGF0YT1uZXcgeShbdCxpXSksdGhpcy5fZGF0YS5oZWlnaHQ9dC5oZWlnaHQrMSxsKHRoaXMuX2RhdGEsdGhpcy5fdG9CQm94KX1fY2hvb3NlU3BsaXRJbmRleCh0LGksbil7bGV0IGUsaCxzO2U9aD0xLzA7Zm9yKGxldCBhPWk7YTw9bi1pO2ErKyl7Y29uc3QgaT1jKHQsMCxhLHRoaXMuX3RvQkJveCkscj1jKHQsYSxuLHRoaXMuX3RvQkJveCksbz1wKGksciksbD1mKGkpK2Yocik7bzxlPyhlPW8scz1hLGg9bDxoP2w6aCk6bz09PWUmJmw8aCYmKGg9bCxzPWEpfXJldHVybiBzfV9jaG9vc2VTcGxpdEF4aXModCxpLG4pe2NvbnN0IGU9dC5sZWFmP3RoaXMuX2NvbXBhcmVNaW5YOnUsaD10LmxlYWY/dGhpcy5fY29tcGFyZU1pblk6ZDt0aGlzLl9hbGxEaXN0TWFyZ2luKHQsaSxuLGUpPHRoaXMuX2FsbERpc3RNYXJnaW4odCxpLG4saCkmJnQuY2hpbGRyZW4uc29ydChlKX1fYWxsRGlzdE1hcmdpbih0LGksbixlKXt0LmNoaWxkcmVuLnNvcnQoZSk7Y29uc3QgaD10aGlzLl90b0JCb3gscz1jKHQsMCxpLGgpLGE9Yyh0LG4taSxuLGgpO2xldCByPXgocykreChhKTtmb3IobGV0IG89aTtvPG4taTtvKyspe2NvbnN0IGk9dC5jaGlsZHJlbltvXTttKHMsdC5sZWFmP2goaSk6aSkscis9eChzKX1mb3IobGV0IG89bi1pLTE7bz49aTtvLS0pe2NvbnN0IGk9dC5jaGlsZHJlbltvXTttKGEsdC5sZWFmP2goaSk6aSkscis9eChhKX1yZXR1cm4gcn1fY29uZGVuc2UoaSl7Zm9yKGxldCBuPWkubGVuZ3RoLTE7bj49MDtuLS0pe2NvbnN0IGU9aS5kYXRhW25dO2lmKDA9PT1lLmNoaWxkcmVuLmxlbmd0aClpZihuPjApe2NvbnN0IGg9aS5kYXRhW24tMV0scz1oLmNoaWxkcmVuO3Muc3BsaWNlKHQocyxlLHMubGVuZ3RoLGguaW5kZXhIaW50KSwxKX1lbHNlIHRoaXMuY2xlYXIoKTtlbHNlIGwoZSx0aGlzLl90b0JCb3gpfX1faW5pdEZvcm1hdCh0KXtjb25zdCBpPVtcInJldHVybiBhXCIsXCIgLSBiXCIsXCI7XCJdO3RoaXMuX2NvbXBhcmVNaW5YPW5ldyBGdW5jdGlvbihcImFcIixcImJcIixpLmpvaW4odFswXSkpLHRoaXMuX2NvbXBhcmVNaW5ZPW5ldyBGdW5jdGlvbihcImFcIixcImJcIixpLmpvaW4odFsxXSkpLHRoaXMuX3RvQkJveD1uZXcgRnVuY3Rpb24oXCJhXCIsXCJyZXR1cm4ge21pblg6IGFcIit0WzBdK1wiLCBtaW5ZOiBhXCIrdFsxXStcIiwgbWF4WDogYVwiK3RbMl0rXCIsIG1heFk6IGFcIit0WzNdK1wifTtcIil9fWZ1bmN0aW9uIGEodCxpLG4sZSl7Zm9yKDtlLnB1c2goaSksITAhPT1pLmxlYWYmJmUubGVuZ3RoLTEhPT1uOyl7bGV0IG4sZT0xLzAsaD0xLzA7Zm9yKGxldCBzPTAsYT1pLmNoaWxkcmVuLmxlbmd0aDtzPGE7cysrKXtjb25zdCBhPWkuY2hpbGRyZW5bc10scj1mKGEpLG89Xyh0LGEpLXI7bzxoPyhoPW8sZT1yPGU/cjplLG49YSk6bz09PWgmJnI8ZSYmKGU9cixuPWEpfWk9bnx8aS5jaGlsZHJlblswXX1yZXR1cm4gaX1mdW5jdGlvbiByKHQsaSl7bGV0IGU9dDtmb3IoQi5jbGVhcigpO2U7KXtpZighMD09PWUubGVhZilmb3IoY29uc3QgdCBvZiBlLmNoaWxkcmVuKWkobih0KSk7ZWxzZSBCLnB1c2hBcnJheShlLmNoaWxkcmVuKTtlPUIucG9wKCk/P251bGx9fWZ1bmN0aW9uIG8odCxpLG4pe2ZvcihsZXQgZT1uO2U+PTA7ZS0tKW0oaS5kYXRhW2VdLHQpfWZ1bmN0aW9uIGwodCxpKXtjKHQsMCx0LmNoaWxkcmVuLmxlbmd0aCxpLHQpfWZ1bmN0aW9uIGModCxpLG4sZSxoKXtofHwoaD1uZXcgUyhbXSkpLGgubWluWD0xLzAsaC5taW5ZPTEvMCxoLm1heFg9LTEvMCxoLm1heFk9LTEvMDtmb3IobGV0IHMsYT1pO2E8bjthKyspcz10LmNoaWxkcmVuW2FdLG0oaCx0LmxlYWY/ZShzKTpzKTtyZXR1cm4gaH1mdW5jdGlvbiBtKHQsaSl7dC5taW5YPU1hdGgubWluKHQubWluWCxpLm1pblgpLHQubWluWT1NYXRoLm1pbih0Lm1pblksaS5taW5ZKSx0Lm1heFg9TWF0aC5tYXgodC5tYXhYLGkubWF4WCksdC5tYXhZPU1hdGgubWF4KHQubWF4WSxpLm1heFkpfWZ1bmN0aW9uIHUodCxpKXtyZXR1cm4gdC5taW5YLWkubWluWH1mdW5jdGlvbiBkKHQsaSl7cmV0dXJuIHQubWluWS1pLm1pbll9ZnVuY3Rpb24gZih0KXtyZXR1cm4odC5tYXhYLXQubWluWCkqKHQubWF4WS10Lm1pblkpfWZ1bmN0aW9uIHgodCl7cmV0dXJuIHQubWF4WC10Lm1pblgrKHQubWF4WS10Lm1pblkpfWZ1bmN0aW9uIF8odCxpKXtyZXR1cm4oTWF0aC5tYXgoaS5tYXhYLHQubWF4WCktTWF0aC5taW4oaS5taW5YLHQubWluWCkpKihNYXRoLm1heChpLm1heFksdC5tYXhZKS1NYXRoLm1pbihpLm1pblksdC5taW5ZKSl9ZnVuY3Rpb24gcCh0LGkpe2NvbnN0IG49TWF0aC5tYXgodC5taW5YLGkubWluWCksZT1NYXRoLm1heCh0Lm1pblksaS5taW5ZKSxoPU1hdGgubWluKHQubWF4WCxpLm1heFgpLHM9TWF0aC5taW4odC5tYXhZLGkubWF4WSk7cmV0dXJuIE1hdGgubWF4KDAsaC1uKSpNYXRoLm1heCgwLHMtZSl9ZnVuY3Rpb24gZyh0LGkpe3JldHVybiB0Lm1pblg8PWkubWluWCYmdC5taW5ZPD1pLm1pblkmJmkubWF4WDw9dC5tYXhYJiZpLm1heFk8PXQubWF4WX1mdW5jdGlvbiBNKHQsaSl7cmV0dXJuIGkubWluWDw9dC5tYXhYJiZpLm1pblk8PXQubWF4WSYmaS5tYXhYPj10Lm1pblgmJmkubWF4WT49dC5taW5ZfWZ1bmN0aW9uIFgodCxpLG4sZSxzKXtjb25zdCBhPVtpLG5dO2Zvcig7YS5sZW5ndGg7KXtjb25zdCBpPWEucG9wKCksbj1hLnBvcCgpO2lmKGktbjw9ZSljb250aW51ZTtjb25zdCByPW4rTWF0aC5jZWlsKChpLW4pL2UvMikqZTtoKHQscixuLGkscyksYS5wdXNoKG4scixyLGkpfX1jb25zdCBZPW5ldyBlLEI9bmV3IGUsdz1uZXcgZSxqPW5ldyBlKHtkZWFsbG9jYXRvcjp2b2lkIDB9KTtjbGFzcyBFe2NvbnN0cnVjdG9yKCl7dGhpcy5taW5YPTEvMCx0aGlzLm1pblk9MS8wLHRoaXMubWF4WD0tMS8wLHRoaXMubWF4WT0tMS8wfX1jbGFzcyBiIGV4dGVuZHMgRXtjb25zdHJ1Y3Rvcigpe3N1cGVyKC4uLmFyZ3VtZW50cyksdGhpcy5oZWlnaHQ9MSx0aGlzLmluZGV4SGludD1uZXcgaX19Y2xhc3MgUyBleHRlbmRzIGJ7Y29uc3RydWN0b3IodCl7c3VwZXIoKSx0aGlzLmNoaWxkcmVuPXQsdGhpcy5sZWFmPSEwfX1jbGFzcyB5IGV4dGVuZHMgYntjb25zdHJ1Y3Rvcih0KXtzdXBlcigpLHRoaXMuY2hpbGRyZW49dCx0aGlzLmxlYWY9ITF9fWV4cG9ydHtFIGFzIEJCb3gscyBhcyBQb29sZWRSQnVzaH07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4zMy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e1BvaW50IGFzIGV9ZnJvbVwiLi4vLi4vLi4vLi4vZ2VvbWV0cnkvc3VwcG9ydC9UaWxlQ2xpcHBlci5qc1wiO3ZhciB0OyFmdW5jdGlvbihlKXtlW2UubW92ZVRvPTFdPVwibW92ZVRvXCIsZVtlLmxpbmVUbz0yXT1cImxpbmVUb1wiLGVbZS5jbG9zZT03XT1cImNsb3NlXCJ9KHR8fCh0PXt9KSk7Y2xhc3Mgc3tjb25zdHJ1Y3RvcihlLHQscz0wKXt0aGlzLnZhbHVlcz17fSx0aGlzLl9nZW9tZXRyeT12b2lkIDAsdGhpcy5fcGJmR2VvbWV0cnk9bnVsbCx0aGlzLmZlYXR1cmVJbmRleD1zO2NvbnN0IG89dC5rZXlzLHI9dC52YWx1ZXMsYT1lLmFzVW5zYWZlKCk7Zm9yKDthLm5leHQoKTspc3dpdGNoKGEudGFnKCkpe2Nhc2UgMTp0aGlzLmlkPWEuZ2V0VUludDY0KCk7YnJlYWs7Y2FzZSAyOntjb25zdCBlPWEuZ2V0TWVzc2FnZSgpLmFzVW5zYWZlKCksdD10aGlzLnZhbHVlcztmb3IoOyFlLmVtcHR5KCk7KXtjb25zdCBzPWUuZ2V0VUludDMyKCksYT1lLmdldFVJbnQzMigpO3Rbb1tzXV09clthXX1lLnJlbGVhc2UoKTticmVha31jYXNlIDM6dGhpcy50eXBlPWEuZ2V0VUludDMyKCk7YnJlYWs7Y2FzZSA0OnRoaXMuX3BiZkdlb21ldHJ5PWEuZ2V0TWVzc2FnZSgpO2JyZWFrO2RlZmF1bHQ6YS5za2lwKCl9fWdldEdlb21ldHJ5KHMpe2lmKHZvaWQgMCE9PXRoaXMuX2dlb21ldHJ5KXJldHVybiB0aGlzLl9nZW9tZXRyeTtpZighdGhpcy5fcGJmR2VvbWV0cnkpcmV0dXJuIG51bGw7Y29uc3Qgbz10aGlzLl9wYmZHZW9tZXRyeS5hc1Vuc2FmZSgpO2xldCByLGE7dGhpcy5fcGJmR2VvbWV0cnk9bnVsbCxzP3MucmVzZXQodGhpcy50eXBlKTpyPVtdO2xldCBuLGk9dC5tb3ZlVG8sbD0wLGg9MCxjPTA7Zm9yKDshby5lbXB0eSgpOyl7aWYoMD09PWwpe2NvbnN0IGU9by5nZXRVSW50MzIoKTtpPTcmZSxsPWU+PjN9c3dpdGNoKGwtLSxpKXtjYXNlIHQubW92ZVRvOmgrPW8uZ2V0U0ludDMyKCksYys9by5nZXRTSW50MzIoKSxzP3MubW92ZVRvKGgsYyk6ciYmKGEmJnIucHVzaChhKSxhPVtdLGEucHVzaChuZXcgZShoLGMpKSk7YnJlYWs7Y2FzZSB0LmxpbmVUbzpoKz1vLmdldFNJbnQzMigpLGMrPW8uZ2V0U0ludDMyKCkscz9zLmxpbmVUbyhoLGMpOmEmJmEucHVzaChuZXcgZShoLGMpKTticmVhaztjYXNlIHQuY2xvc2U6cz9zLmNsb3NlKCk6YSYmIWFbMF0uZXF1YWxzKGgsYykmJmEucHVzaChhWzBdLmNsb25lKCkpO2JyZWFrO2RlZmF1bHQ6dGhyb3cgby5yZWxlYXNlKCksbmV3IEVycm9yKFwiSW52YWxpZCBwYXRoIG9wZXJhdGlvblwiKX19cmV0dXJuIHM/bj1zLnJlc3VsdCgpOnImJihhJiZyLnB1c2goYSksbj1yKSxvLnJlbGVhc2UoKSx0aGlzLl9nZW9tZXRyeT1uLG59fWV4cG9ydHtzIGFzIGRlZmF1bHR9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMzMvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHt0aWxlQ29vcmRTaXplIGFzIGV9ZnJvbVwiLi9jb25zdGFudHMuanNcIjtjbGFzcyB0e2NvbnN0cnVjdG9yKHMpe3RoaXMuZXh0ZW50PWUsdGhpcy5rZXlzPVtdLHRoaXMudmFsdWVzPVtdLHRoaXMuX3BiZkxheWVyPXMuY2xvbmUoKTtjb25zdCBhPXMuYXNVbnNhZmUoKTtmb3IoO2EubmV4dCgpOylzd2l0Y2goYS50YWcoKSl7Y2FzZSAxOnRoaXMubmFtZT1hLmdldFN0cmluZygpO2JyZWFrO2Nhc2UgMzp0aGlzLmtleXMucHVzaChhLmdldFN0cmluZygpKTticmVhaztjYXNlIDQ6dGhpcy52YWx1ZXMucHVzaChhLnByb2Nlc3NNZXNzYWdlKHQuX3BhcnNlVmFsdWUpKTticmVhaztjYXNlIDU6dGhpcy5leHRlbnQ9YS5nZXRVSW50MzIoKTticmVhaztkZWZhdWx0OmEuc2tpcCgpfX1nZXREYXRhKCl7cmV0dXJuIHRoaXMuX3BiZkxheWVyfXN0YXRpYyBfcGFyc2VWYWx1ZShlKXtmb3IoO2UubmV4dCgpOylzd2l0Y2goZS50YWcoKSl7Y2FzZSAxOnJldHVybiBlLmdldFN0cmluZygpO2Nhc2UgMjpyZXR1cm4gZS5nZXRGbG9hdCgpO2Nhc2UgMzpyZXR1cm4gZS5nZXREb3VibGUoKTtjYXNlIDQ6cmV0dXJuIGUuZ2V0SW50NjQoKTtjYXNlIDU6cmV0dXJuIGUuZ2V0VUludDY0KCk7Y2FzZSA2OnJldHVybiBlLmdldFNJbnQ2NCgpO2Nhc2UgNzpyZXR1cm4gZS5nZXRCb29sKCk7ZGVmYXVsdDplLnNraXAoKX1yZXR1cm4gbnVsbH19ZXhwb3J0e3QgYXMgZGVmYXVsdH07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4zMy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e0xSVUNhY2hlIGFzIGV9ZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9MUlVDYWNoZS5qc1wiO2ltcG9ydHtmcm9tVmFsdWVzIGFzIGksY3JlYXRlIGFzIHQsaW50ZXJzZWN0cyBhcyBzfWZyb21cIi4uLy4uLy4uLy4uL2dlb21ldHJ5L3N1cHBvcnQvYWFCb3VuZGluZ1JlY3QuanNcIjtpbXBvcnR7dGlsZVBpeGVsU2l6ZSBhcyBsfWZyb21cIi4vY29uc3RhbnRzLmpzXCI7aW1wb3J0IG8gZnJvbVwiLi4vLi4vdGlsaW5nL1RpbGVDb3ZlcmFnZS5qc1wiO2ltcG9ydCByIGZyb21cIi4uLy4uL3RpbGluZy9UaWxlS2V5LmpzXCI7Y29uc3Qgbj0xZS02LGE9KGUsaSk9PmUrMS8oMTw8MippKTtjbGFzcyBje2NvbnN0cnVjdG9yKGksdCl7dGhpcy5fdGlsZXM9bmV3IE1hcCx0aGlzLl90aWxlQ2FjaGU9bmV3IGUoNDAsKGU9PmUuZGlzcG9zZSgpKSksdGhpcy5fdmlld1NpemU9WzAsMF0sdGhpcy5fdmlzaWJsZVRpbGVzPW5ldyBNYXAsdGhpcy5hY3F1aXJlVGlsZT1pLmFjcXVpcmVUaWxlLHRoaXMucmVsZWFzZVRpbGU9aS5yZWxlYXNlVGlsZSx0aGlzLnRpbGVJbmZvVmlldz1pLnRpbGVJbmZvVmlldyx0aGlzLl9jb250YWluZXI9dH1kZXN0cm95KCl7Zm9yKGNvbnN0IGUgb2YgdGhpcy5fdGlsZXMudmFsdWVzKCkpZS5kaXNwb3NlKCk7dGhpcy5fdGlsZXM9bnVsbCx0aGlzLl90aWxlQ2FjaGUuY2xlYXIoKSx0aGlzLl90aWxlQ2FjaGU9bnVsbH11cGRhdGUoZSl7dGhpcy5fdXBkYXRlQ2FjaGVTaXplKGUpO2NvbnN0IGk9dGhpcy50aWxlSW5mb1ZpZXcsdD1pLmdldFRpbGVDb3ZlcmFnZShlLnN0YXRlLDAsITAsXCJzbWFsbGVzdFwiKTtpZighdClyZXR1cm4hMDtjb25zdHtzcGFuczpzLGxvZEluZm86bH09dCx7bGV2ZWw6bn09bCxhPXRoaXMuX3RpbGVzLGM9bmV3IFNldCxoPW5ldyBTZXQ7Zm9yKGNvbnN0e3JvdzpvLGNvbEZyb206Xyxjb2xUbzpmfW9mIHMpZm9yKGxldCBlPV87ZTw9ZjtlKyspe2NvbnN0IGk9ci5nZXRJZChuLG8sbC5ub3JtYWxpemVDb2woZSksbC5nZXRXb3JsZEZvckNvbHVtbihlKSksdD10aGlzLl9nZXRPckFjcXVpcmVUaWxlKGkpO2MuYWRkKGkpLHQucHJvY2Vzc2VkKCk/dGhpcy5fYWRkVG9Db250YWluZXIodCk6aC5hZGQobmV3IHIoaSkpfWZvcihjb25zdFtvLHJdb2YgYSlyLmlzQ292ZXJhZ2U9Yy5oYXMobyk7Zm9yKGNvbnN0IG8gb2YgaCl0aGlzLl9maW5kUGxhY2Vob2xkZXJzRm9yTWlzc2luZ1RpbGVzKG8sYyk7bGV0IGQ9ITE7Zm9yKGNvbnN0W28scl1vZiBhKXIubmVlZGVkRm9yQ292ZXJhZ2U9Yy5oYXMobyksci5uZWVkZWRGb3JDb3ZlcmFnZXx8ci5pc0hvbGRpbmdGb3JGYWRlJiZpLmludGVyc2VjdHModCxyLmtleSkmJmMuYWRkKG8pLHIuaXNGYWRpbmcmJihkPSEwKTtmb3IoY29uc3QgbyBvZiB0aGlzLl90aWxlcy5rZXlzKCkpYy5oYXMobyl8fHRoaXMuX3JlbGVhc2VUaWxlKG8pO3JldHVybiBvLnBvb2wucmVsZWFzZSh0KSwhZH1jbGVhcigpe3RoaXMuX3RpbGVzLmNsZWFyKCksdGhpcy5fdGlsZUNhY2hlLmNsZWFyKCksdGhpcy5fdmlzaWJsZVRpbGVzLmNsZWFyKCl9Y2xlYXJDYWNoZSgpe3RoaXMuX3RpbGVDYWNoZS5jbGVhcigpfWdldEludGVyc2VjdGluZ1RpbGVzKGUsbCxvLHIsbil7Y29uc3QgYT1bMCwwXSxjPVswLDBdO3IudG9NYXAoYSxlLW8sbCtvKSxyLnRvTWFwKGMsZStvLGwtbyk7Y29uc3QgaD1NYXRoLm1pbihhWzBdLGNbMF0pLGQ9TWF0aC5taW4oYVsxXSxjWzFdKSxfPU1hdGgubWF4KGFbMF0sY1swXSksZj1NYXRoLm1heChhWzFdLGNbMV0pLFQ9aShoLGQsXyxmKSx1PXQoKSxwPVtdO2Zvcihjb25zdCBpIG9mIHRoaXMuX3Zpc2libGVUaWxlcy52YWx1ZXMoKSl0aGlzLnRpbGVJbmZvVmlldy5nZXRUaWxlQm91bmRzKHUsaS5rZXkpLHMoVCx1KSYmcC5wdXNoKGkpO2lmKG51bGwhPW4mJm4ubGVuZ3RoPjApe2NvbnN0IGU9bmV3IFNldChwLm1hcCgoZT0+ZS5pZCkpKSxpPW4uZmlsdGVyKChpPT4hZS5oYXMoaS50aWxlS2V5LmlkKSkpLm1hcCgoZT0+dGhpcy5fdmlzaWJsZVRpbGVzLmdldChlLnRpbGVLZXkuaWQpKSkuZmlsdGVyKChlPT52b2lkIDAhPT1lKSk7cC5wdXNoKC4uLmkpfXJldHVybiBwfV9maW5kUGxhY2Vob2xkZXJzRm9yTWlzc2luZ1RpbGVzKGUsaSl7Y29uc3QgdD1bXTtmb3IoY29uc3QgbCBvZiB0aGlzLl90aWxlcy52YWx1ZXMoKSl0aGlzLl9hZGRQbGFjZWhvbGRlckNoaWxkKHQsbCxlLGkpO2NvbnN0IHM9dC5yZWR1Y2UoYSwwKTtNYXRoLmFicygxLXMpPG58fHRoaXMuX2FkZFBsYWNlaG9sZGVyUGFyZW50KGUuaWQsaSl9X2FkZFBsYWNlaG9sZGVyQ2hpbGQoZSxpLHQscyl7aS5rZXkubGV2ZWw8PXQubGV2ZWx8fCFpLmhhc0RhdGEoKXx8ZCh0LGkua2V5KSYmKHRoaXMuX2FkZFRvQ29udGFpbmVyKGkpLHMuYWRkKGkuaWQpLGUucHVzaChpLmtleS5sZXZlbC10LmxldmVsKSl9X2FkZFBsYWNlaG9sZGVyUGFyZW50KGUsaSl7Y29uc3QgdD10aGlzLl90aWxlcztsZXQgcz1lO2Zvcig7Oyl7aWYocz1oKHMpLCFzfHxpLmhhcyhzKSlyZXR1cm47Y29uc3QgZT10LmdldChzKTtpZihlPy5oYXNEYXRhKCkpcmV0dXJuIHRoaXMuX2FkZFRvQ29udGFpbmVyKGUpLHZvaWQgaS5hZGQoZS5pZCl9fV9nZXRPckFjcXVpcmVUaWxlKGUpe2xldCBpPXRoaXMuX3RpbGVzLmdldChlKTtyZXR1cm4gaXx8KGk9dGhpcy5fdGlsZUNhY2hlLnBvcChlKSxpfHwoaT10aGlzLmFjcXVpcmVUaWxlKG5ldyByKGUpKSksdGhpcy5fdGlsZXMuc2V0KGUsaSksaSl9X3JlbGVhc2VUaWxlKGUpe2NvbnN0IGk9dGhpcy5fdGlsZXMuZ2V0KGUpO3RoaXMucmVsZWFzZVRpbGUoaSksdGhpcy5fcmVtb3ZlRnJvbUNvbnRhaW5lcihpKSx0aGlzLl90aWxlcy5kZWxldGUoZSksaS5oYXNEYXRhKCk/dGhpcy5fdGlsZUNhY2hlLnB1dChlLGksMSk6aS5kaXNwb3NlKCl9X2FkZFRvQ29udGFpbmVyKGUpe2xldCBpO2NvbnN0IHQ9W10scz10aGlzLl9jb250YWluZXI7aWYocy5jb250YWlucyhlKSlyZXR1cm47Y29uc3QgbD10aGlzLl92aXNpYmxlVGlsZXM7Zm9yKGNvbnN0IG8gb2YgbC52YWx1ZXMoKSl0aGlzLl9jYW5Db25uZWN0RGlyZWN0bHkoZSxvKSYmdC5wdXNoKG8pLG51bGw9PWkmJnRoaXMuX2NhbkNvbm5lY3REaXJlY3RseShvLGUpJiYoaT1vKTtpZihudWxsIT1pKXtmb3IoY29uc3QgcyBvZiB0KWkuY2hpbGRyZW5UaWxlcy5kZWxldGUocyksZS5jaGlsZHJlblRpbGVzLmFkZChzKSxzLnBhcmVudFRpbGU9ZTtpLmNoaWxkcmVuVGlsZXMuYWRkKGUpLGUucGFyZW50VGlsZT1pfWVsc2UgZm9yKGNvbnN0IG8gb2YgdCllLmNoaWxkcmVuVGlsZXMuYWRkKG8pLG8ucGFyZW50VGlsZT1lO2wuc2V0KGUuaWQsZSkscy5hZGRDaGlsZChlKX1fcmVtb3ZlRnJvbUNvbnRhaW5lcihlKXtpZih0aGlzLl92aXNpYmxlVGlsZXMuZGVsZXRlKGUuaWQpLHRoaXMuX2NvbnRhaW5lci5yZW1vdmVDaGlsZChlKSxudWxsIT1lLnBhcmVudFRpbGUpe2UucGFyZW50VGlsZS5jaGlsZHJlblRpbGVzLmRlbGV0ZShlKTtmb3IoY29uc3QgaSBvZiBlLmNoaWxkcmVuVGlsZXMpbnVsbCE9ZS5wYXJlbnRUaWxlJiZlLnBhcmVudFRpbGUuY2hpbGRyZW5UaWxlcy5hZGQoaSl9Zm9yKGNvbnN0IGkgb2YgZS5jaGlsZHJlblRpbGVzKWkucGFyZW50VGlsZT1lLnBhcmVudFRpbGU7ZS5wYXJlbnRUaWxlPW51bGwsZS5jaGlsZHJlblRpbGVzLmNsZWFyKCl9X2NhbkNvbm5lY3REaXJlY3RseShlLGkpe2NvbnN0IHQ9ZS5rZXk7bGV0e2xldmVsOnMscm93OmwsY29sOm8sd29ybGQ6cn09aS5rZXk7Y29uc3Qgbj10aGlzLl92aXNpYmxlVGlsZXM7Zm9yKDtzPjA7KXtpZihzLS0sbD4+PTEsbz4+PTEsdC5sZXZlbD09PXMmJnQucm93PT09bCYmdC5jb2w9PT1vJiZ0LndvcmxkPT09cilyZXR1cm4hMDtpZihuLmhhcyhgJHtzfS8ke2x9LyR7b30vJHtyfWApKXJldHVybiExfXJldHVybiExfV91cGRhdGVDYWNoZVNpemUoZSl7Y29uc3QgaT1lLnN0YXRlLnNpemU7aWYoaVswXT09PXRoaXMuX3ZpZXdTaXplWzBdJiZpWzFdPT09dGhpcy5fdmlld1NpemVbMV0pcmV0dXJuO2NvbnN0IHQ9TWF0aC5jZWlsKGlbMF0vbCkrMSxzPU1hdGguY2VpbChpWzFdL2wpKzE7dGhpcy5fdmlld1NpemVbMF09aVswXSx0aGlzLl92aWV3U2l6ZVsxXT1pWzFdLHRoaXMuX3RpbGVDYWNoZS5tYXhTaXplPTUqdCpzfX1mdW5jdGlvbiBoKGUpe2NvbnN0W2ksdCxzLGxdPWUuc3BsaXQoXCIvXCIpLG89cGFyc2VJbnQoaSwxMCk7cmV0dXJuIDA9PT1vP251bGw6YCR7by0xfS8ke3BhcnNlSW50KHQsMTApPj4xfS8ke3BhcnNlSW50KHMsMTApPj4xfS8ke3BhcnNlSW50KGwsMTApfWB9ZnVuY3Rpb24gZChlLGkpe2NvbnN0IHQ9aS5sZXZlbC1lLmxldmVsO3JldHVybiBlLnJvdz09PWkucm93Pj50JiZlLmNvbD09PWkuY29sPj50JiZlLndvcmxkPT09aS53b3JsZH1leHBvcnR7YyBhcyBUaWxlTWFuYWdlcn07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4zMy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e2NyZWF0ZSBhcyBlfWZyb21cIi4uLy4uLy4uLy4uL2dlb21ldHJ5L3N1cHBvcnQvYWFCb3VuZGluZ1JlY3QuanNcIjtpbXBvcnQgdCBmcm9tXCIuLi8uLi8uLi8uLi9sYXllcnMvc3VwcG9ydC9UaWxlSW5mby5qc1wiO2ltcG9ydHt0aWxlQ29vcmRTaXplIGFzIHMsdGlsZVBpeGVsU2l6ZSBhcyByfWZyb21cIi4vY29uc3RhbnRzLmpzXCI7aW1wb3J0e1N5bWJvbEZhZGVyIGFzIGl9ZnJvbVwiLi9kZWNsdXR0ZXJpbmcvU3ltYm9sRmFkZXIuanNcIjtpbXBvcnR7d3JpdGVPcGFjaXR5VG9CdWZmZXJzIGFzIGx9ZnJvbVwiLi9kZWNsdXR0ZXJpbmcvdXRpbC5qc1wiO2ltcG9ydHtWaXNpYmlsaXR5IGFzIG8sU3R5bGVMYXllclR5cGUgYXMgbn1mcm9tXCIuL3N0eWxlL1N0eWxlRGVmaW5pdGlvbi5qc1wiO2ltcG9ydHtXR0xEcmF3UGhhc2UgYXMgYX1mcm9tXCIuLi93ZWJnbC9lbnVtcy5qc1wiO2ltcG9ydHtSZW5kZXJhYmxlVGlsZSBhcyBkfWZyb21cIi4uL3dlYmdsL1JlbmRlcmFibGVUaWxlLmpzXCI7aW1wb3J0IGMgZnJvbVwiLi4vd2ViZ2wvVGlsZUNvbnRhaW5lci5qc1wiO2ltcG9ydCBoIGZyb21cIi4uLy4uL3RpbGluZy9UaWxlQ292ZXJhZ2UuanNcIjtpbXBvcnQgdSBmcm9tXCIuLi8uLi90aWxpbmcvVGlsZUtleS5qc1wiO2ltcG9ydHtTdGVuY2lsT3BlcmF0aW9uIGFzIHksQ29tcGFyZUZ1bmN0aW9uIGFzIHAsRnJhbWVidWZmZXJCaXQgYXMgbSxCbGVuZEZhY3RvciBhcyBmfWZyb21cIi4uLy4uLy4uL3dlYmdsL2VudW1zLmpzXCI7Y29uc3QgZz0xZS02O2Z1bmN0aW9uIGIoZSx0KXtpZihlKXtjb25zdCBzPWUuZ2V0TGF5b3V0UHJvcGVydHkoXCJ2aXNpYmlsaXR5XCIpO2lmKCFzfHxzLmdldFZhbHVlKCkhPT1vLk5PTkUmJih2b2lkIDA9PT1lLm1pbnpvb218fGUubWluem9vbTx0K2cpJiYodm9pZCAwPT09ZS5tYXh6b29tfHxlLm1heHpvb20+PXQtZykpcmV0dXJuITB9cmV0dXJuITF9Y2xhc3MgXyBleHRlbmRzIGN7Y29uc3RydWN0b3IoZSl7c3VwZXIoZSksdGhpcy5fYmFja2dyb3VuZFRpbGVzPVtdLHRoaXMuX2NvbXB1dGVEaXNwbGF5SW5mb1ZpZXcoZSl9ZGVzdHJveSgpe3RoaXMucmVtb3ZlQWxsQ2hpbGRyZW4oKSx0aGlzLl9zcHJpdGVNb3NhaWM/LmRpc3Bvc2UoKSx0aGlzLl9zcHJpdGVNb3NhaWM9bnVsbCx0aGlzLl9nbHlwaE1vc2FpYz8uZGlzcG9zZSgpLHRoaXMuX2dseXBoTW9zYWljPW51bGwsbnVsbCE9dGhpcy5fc3ltYm9sRmFkZXImJih0aGlzLl9zeW1ib2xGYWRlci5jbGVhcigpLHRoaXMuX3N5bWJvbEZhZGVyPW51bGwpLHRoaXMuX3N0eWxlUmVwb3NpdG9yeT1udWxsLHRoaXMuX2JhY2tncm91bmRUaWxlcz1bXX1nZXQgZmFkaW5nKCl7cmV0dXJuIHRoaXMuX3N5bWJvbEZhZGVyPy5mYWRpbmc/PyExfWdldCBzeW1ib2xGYWRlcigpe3JldHVybiB0aGlzLl9zeW1ib2xGYWRlcn1nZXQgc3ltYm9sUmVwb3NpdG9yeSgpe3JldHVybiB0aGlzLl9zeW1ib2xGYWRlcj8uc3ltYm9sUmVwb3NpdG9yeX1zZXRTdHlsZVJlc291cmNlcyhlLHQscixvKXtpZih0aGlzLl9zcHJpdGVNb3NhaWM9ZSx0aGlzLl9nbHlwaE1vc2FpYz10LHRoaXMuX3N0eWxlUmVwb3NpdG9yeT1yLHRoaXMudGlsZUluZm9WaWV3PW8sdGhpcy5fY29tcHV0ZURpc3BsYXlJbmZvVmlldyhvKSxudWxsPT10aGlzLl9zeW1ib2xGYWRlcil7Y29uc3QgZT0oZSx0KT0+e2UuYWxsU3ltYm9sc0ZhZGluZ091dD0hMCxlLmxhc3RPcGFjaXR5VXBkYXRlPXQsbChlLHQsITApLGUuZGVjbHV0dGVyZWQ9ITAsZS5yZXF1ZXN0UmVuZGVyKCl9O3RoaXMuX3N5bWJvbEZhZGVyPW5ldyBpKFwidmVjdG9yLXRpbGVcIix0aGlzLl9zdHlsZVJlcG9zaXRvcnksZSx0aGlzLmNoaWxkcmVuLHMpfXRoaXMuX3N5bWJvbEZhZGVyLnN0eWxlUmVwb3NpdG9yeT1yfXNldFNwcml0ZU1vc2FpYyhlKXt0aGlzLl9zcHJpdGVNb3NhaWM/LmRpc3Bvc2UoKSx0aGlzLl9zcHJpdGVNb3NhaWM9ZX1kZWxldGVTdHlsZUxheWVycyhlKXtudWxsIT10aGlzLl9zeW1ib2xGYWRlciYmdGhpcy5fc3ltYm9sRmFkZXIuZGVsZXRlU3R5bGVMYXllcnMoZSl9Y3JlYXRlUmVuZGVyUGFyYW1zKGUpe3JldHVybnsuLi5zdXBlci5jcmVhdGVSZW5kZXJQYXJhbXMoZSkscmVuZGVyUGFzczpudWxsLHN0eWxlTGF5ZXI6bnVsbCxzdHlsZUxheWVyVUlEOi0xLGdseXBoTW9zYWljOnRoaXMuX2dseXBoTW9zYWljLHNwcml0ZU1vc2FpYzp0aGlzLl9zcHJpdGVNb3NhaWMsaGFzQ2xpcHBpbmc6ISF0aGlzLl9jbGlwcGluZ0luZm9zfX1kb1JlbmRlcihlKXshdGhpcy52aXNpYmxlfHxlLmRyYXdQaGFzZSE9PWEuTUFQJiZlLmRyYXdQaGFzZSE9PWEuREVCVUd8fHZvaWQgMD09PXRoaXMuX3Nwcml0ZU1vc2FpY3x8c3VwZXIuZG9SZW5kZXIoZSl9YWRkQ2hpbGQoZSl7cmV0dXJuIHN1cGVyLmFkZENoaWxkKGUpLG51bGwhPXRoaXMuX3N5bWJvbEZhZGVyP3RoaXMuX3N5bWJvbEZhZGVyLmFkZFRpbGUoZSk6ZS5kZWNsdXR0ZXJlZD0hMCx0aGlzLnJlcXVlc3RSZW5kZXIoKSxlfXJlbW92ZUNoaWxkKGUpe3JldHVybiBudWxsIT10aGlzLl9zeW1ib2xGYWRlciYmdGhpcy5fc3ltYm9sRmFkZXIucmVtb3ZlVGlsZShlKSx0aGlzLnJlcXVlc3RSZW5kZXIoKSxzdXBlci5yZW1vdmVDaGlsZChlKX1yZW5kZXJDaGlsZHJlbihlKXtjb25zdHtkcmF3UGhhc2U6dH09ZTt0IT09YS5ERUJVRz90aGlzLl9kb1JlbmRlcihlKTpzdXBlci5yZW5kZXJDaGlsZHJlbihlKX1yZW1vdmVBbGxDaGlsZHJlbigpe2ZvcihsZXQgZT0wO2U8dGhpcy5jaGlsZHJlbi5sZW5ndGg7ZSsrKXtjb25zdCB0PXRoaXMuY2hpbGRyZW5bZV07bnVsbCE9dGhpcy5fc3ltYm9sRmFkZXImJnRoaXMuX3N5bWJvbEZhZGVyLnJlbW92ZVRpbGUodCksdC5kaXNwb3NlKCl9c3VwZXIucmVtb3ZlQWxsQ2hpbGRyZW4oKX1nZXRTdGVuY2lsVGFyZ2V0KCl7cmV0dXJuIHRoaXMuY2hpbGRyZW4uZmlsdGVyKChlPT5lLm5lZWRlZEZvckNvdmVyYWdlJiZlLmhhc0RhdGEoKSkpfXJlc3RhcnREZWNsdXR0ZXIoKXtudWxsIT10aGlzLl9zeW1ib2xGYWRlciYmdGhpcy5fc3ltYm9sRmFkZXIucmVzdGFydERlY2x1dHRlcigpfV9kb1JlbmRlcihlKXtjb25zdHtjb250ZXh0OnQsc3RhdGU6c309ZSxyPXRoaXMuX3N0eWxlUmVwb3NpdG9yeTtpZighcilyZXR1cm47Y29uc3QgaT1yLmxheWVycyxsPXRoaXMuX2Rpc3BsYXlJbmZvLnNjYWxlVG9ab29tKHMuc2NhbGUpO3IuYmFja2dyb3VuZEJ1Y2tldElkcy5sZW5ndGg+MCYmKGUucmVuZGVyUGFzcz1cImJhY2tncm91bmRcIix0aGlzLl9yZW5kZXJCYWNrZ3JvdW5kTGF5ZXJzKGUsci5iYWNrZ3JvdW5kQnVja2V0SWRzLGwpKSxzdXBlci5yZW5kZXJDaGlsZHJlbihlKSxlLmRyYXdQaGFzZT09PWEuTUFQJiZ0aGlzLl9mYWRlKGwscyk7Y29uc3Qgbz10aGlzLmNoaWxkcmVuLmZpbHRlcigoZT0+ZS52aXNpYmxlJiZlLmhhc0RhdGEoKSkpO2lmKCFvfHwwPT09by5sZW5ndGgpcmV0dXJuIHQuYmluZFZBTygpLHQuc2V0U3RlbmNpbFRlc3RFbmFibGVkKCEwKSx2b2lkIHQuc2V0QmxlbmRpbmdFbmFibGVkKCEwKTtmb3IoY29uc3QgbiBvZiBvKW4udHJpYW5nbGVDb3VudD0wO3Quc2V0U3RlbmNpbFdyaXRlTWFzaygwKSx0LnNldENvbG9yTWFzayghMCwhMCwhMCwhMCksdC5zZXRTdGVuY2lsT3AoeS5LRUVQLHkuS0VFUCx5LlJFUExBQ0UpLHQuc2V0U3RlbmNpbFRlc3RFbmFibGVkKCEwKSx0LnNldEJsZW5kaW5nRW5hYmxlZCghMSksdC5zZXREZXB0aFRlc3RFbmFibGVkKCEwKSx0LnNldERlcHRoV3JpdGVFbmFibGVkKCEwKSx0LnNldERlcHRoRnVuY3Rpb24ocC5MRVFVQUwpLHQuc2V0Q2xlYXJEZXB0aCgxKSx0LmNsZWFyKG0uREVQVEgpLGUucmVuZGVyUGFzcz1cIm9wYXF1ZVwiO2ZvcihsZXQgbj1pLmxlbmd0aC0xO24+PTA7bi0tKXRoaXMuX3JlbmRlclN0eWxlTGF5ZXIoaVtuXSxlLG8pO3Quc2V0RGVwdGhXcml0ZUVuYWJsZWQoITEpLHQuc2V0QmxlbmRpbmdFbmFibGVkKCEwKSx0LnNldEJsZW5kRnVuY3Rpb25TZXBhcmF0ZShmLk9ORSxmLk9ORV9NSU5VU19TUkNfQUxQSEEsZi5PTkUsZi5PTkVfTUlOVVNfU1JDX0FMUEhBKSxlLnJlbmRlclBhc3M9XCJ0cmFuc2x1Y2VudFwiO2ZvcihsZXQgbj0wO248aS5sZW5ndGg7bisrKXRoaXMuX3JlbmRlclN0eWxlTGF5ZXIoaVtuXSxlLG8pO3QuYmluZFZBTygpLHQuc2V0U3RlbmNpbFRlc3RFbmFibGVkKCEwKSx0LnNldEJsZW5kaW5nRW5hYmxlZCghMCk7Zm9yKGNvbnN0IG4gb2YgbyluLmRlYnVnSW5mby5kaXNwbGF5LnRyaWFuZ2xlQ291bnQ9bi50cmlhbmdsZUNvdW50fV9mYWRlKGUsdCl7bnVsbCE9dGhpcy5fc3ltYm9sRmFkZXImJih0aGlzLl9zeW1ib2xGYWRlci51cGRhdGUoZSx0KXx8dGhpcy5yZXF1ZXN0UmVuZGVyKCkpfV9yZW5kZXJTdHlsZUxheWVyKGUsdCxzKXtjb25zdHtkaXNwbGF5TGV2ZWw6cixwYWludGVyOmkscmVuZGVyUGFzczpsfT10O2lmKHZvaWQgMD09PWUpcmV0dXJuO2NvbnN0IGE9ZS5nZXRMYXlvdXRQcm9wZXJ0eShcInZpc2liaWxpdHlcIik7aWYoYSYmYS5nZXRWYWx1ZSgpPT09by5OT05FKXJldHVybjtsZXQgZDtzd2l0Y2goZS50eXBlKXtjYXNlIG4uQkFDS0dST1VORDpyZXR1cm47Y2FzZSBuLkZJTEw6aWYoXCJvcGFxdWVcIiE9PWwmJlwidHJhbnNsdWNlbnRcIiE9PXQucmVuZGVyUGFzcylyZXR1cm47ZD1cInZ0bEZpbGxcIjticmVhaztjYXNlIG4uTElORTppZihcInRyYW5zbHVjZW50XCIhPT1sKXJldHVybjtkPVwidnRsTGluZVwiO2JyZWFrO2Nhc2Ugbi5DSVJDTEU6aWYoXCJ0cmFuc2x1Y2VudFwiIT09bClyZXR1cm47ZD1cInZ0bENpcmNsZVwiO2JyZWFrO2Nhc2Ugbi5TWU1CT0w6aWYoXCJ0cmFuc2x1Y2VudFwiIT09bClyZXR1cm47ZD1cInZ0bFN5bWJvbFwifWlmKHM9ZS50eXBlPT09bi5TWU1CT0w/cy5maWx0ZXIoKGU9PmUuZGVjbHV0dGVyZWQpKTpzLmZpbHRlcigoZT0+ZS5uZWVkZWRGb3JDb3ZlcmFnZSkpLFwidnRsU3ltYm9sXCIhPT1kJiYoMD09PXMubGVuZ3RofHx2b2lkIDAhPT1lLm1pbnpvb20mJmUubWluem9vbT49citnfHx2b2lkIDAhPT1lLm1heHpvb20mJmUubWF4em9vbTxyLWcpKXJldHVybjtjb25zdCBjPWUudWlkO3Quc3R5bGVMYXllclVJRD1jLHQuc3R5bGVMYXllcj1lO2Zvcihjb25zdCBvIG9mIHMpaWYoby5sYXllckRhdGEuaGFzKGMpKXtpLnJlbmRlck9iamVjdHModCxzLGQpO2JyZWFrfX1fcmVuZGVyQmFja2dyb3VuZExheWVycyh0LGksbCl7Y29uc3R7Y29udGV4dDpvLHBhaW50ZXI6YSxzdGF0ZTpjfT10LG09dGhpcy5fc3R5bGVSZXBvc2l0b3J5O2xldCBmPSExO2Zvcihjb25zdCBlIG9mIGkpe2lmKG0uZ2V0TGF5ZXJCeUlkKGUpLnR5cGU9PT1uLkJBQ0tHUk9VTkQmJmIobS5nZXRMYXllckJ5SWQoZSksbCkpe2Y9ITA7YnJlYWt9fWlmKCFmKXJldHVybjtjb25zdCBnPXRoaXMudGlsZUluZm9WaWV3LF89Zy5nZXRUaWxlQ292ZXJhZ2UodC5zdGF0ZSwwLCEwLFwic21hbGxlc3RcIikse3NwYW5zOkMsbG9kSW5mbzpFfT1fLHtsZXZlbDpGfT1FLEw9ZSgpLFI9W107aWYodGhpcy5fcmVuZGVyUGFzc2VzKXtjb25zdCBlPXRoaXMuX3JlbmRlclBhc3Nlc1swXTtudWxsIT10aGlzLl9jbGlwcGluZ0luZm9zJiYoZS5icnVzaGVzWzBdLnByZXBhcmVTdGF0ZSh0KSxlLmJydXNoZXNbMF0uZHJhd01hbnkodCx0aGlzLl9jbGlwcGluZ0luZm9zKSl9Y29uc3Qgdj10aGlzLl9iYWNrZ3JvdW5kVGlsZXM7bGV0IFMsST0wO2Zvcihjb25zdHtyb3c6bixjb2xGcm9tOmgsY29sVG86eX1vZiBDKWZvcihsZXQgdD1oO3Q8PXk7dCsrKXtpZihJPHYubGVuZ3RoKVM9dltJXSxTLmtleS5zZXQoRixuLEUubm9ybWFsaXplQ29sKHQpLEUuZ2V0V29ybGRGb3JDb2x1bW4odCkpLGcuZ2V0VGlsZUJvdW5kcyhMLFMua2V5LCExKSxTLng9TFswXSxTLnk9TFszXSxTLnJlc29sdXRpb249Zy5nZXRUaWxlUmVzb2x1dGlvbihGKTtlbHNle2NvbnN0IGk9bmV3IHUoRixuLEUubm9ybWFsaXplQ29sKHQpLEUuZ2V0V29ybGRGb3JDb2x1bW4odCkpLGw9Zy5nZXRUaWxlQm91bmRzKGUoKSxpKSxvPWcuZ2V0VGlsZVJlc29sdXRpb24oRik7Uz1uZXcgZChpLG8sbFswXSxsWzNdLHIscixzLHMpLHYucHVzaChTKX1TLnNldFRyYW5zZm9ybShjKSxSLnB1c2goUyksSSsrfW8uc2V0U3RlbmNpbFdyaXRlTWFzaygwKSxvLnNldENvbG9yTWFzayghMCwhMCwhMCwhMCksby5zZXRTdGVuY2lsT3AoeS5LRUVQLHkuS0VFUCx5LlJFUExBQ0UpLG8uc2V0U3RlbmNpbEZ1bmN0aW9uKHAuRVFVQUwsMCwyNTUpLG8uc2V0U3RlbmNpbFRlc3RFbmFibGVkKCEwKTtmb3IoY29uc3QgZSBvZiBpKXtjb25zdCBzPW0uZ2V0TGF5ZXJCeUlkKGUpO3MudHlwZT09PW4uQkFDS0dST1VORCYmYihzLGwpJiYodC5zdHlsZUxheWVyVUlEPXMudWlkLHQuc3R5bGVMYXllcj1zLGEucmVuZGVyT2JqZWN0cyh0LFIsXCJ2dGxCYWNrZ3JvdW5kXCIpKX1oLnBvb2wucmVsZWFzZShfKX1fY29tcHV0ZURpc3BsYXlJbmZvVmlldyhlKXtsZXQgcz1lLnRpbGVJbmZvLmxvZHNbMF0uc2NhbGU7Y29uc3QgaT1NYXRoLm1heCgyNSxlLnRpbGVJbmZvLmxvZHMubGVuZ3RoKSxsPVtdO2ZvcihsZXQgdD0wO3Q8PWk7dCsrKWwucHVzaChzKSxzLz0yO3RoaXMuX2Rpc3BsYXlJbmZvPXQuY3JlYXRlKHtzY2FsZXM6bCxzaXplOnIsc3BhdGlhbFJlZmVyZW5jZTplLnNwYXRpYWxSZWZlcmVuY2UsbnVtTE9EczppfSl9fWV4cG9ydHtfIGFzIFZlY3RvclRpbGVDb250YWluZXJ9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMzMvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydCBlIGZyb21cIi4uLy4uLy4uLy4uL0dyYXBoaWMuanNcIjtpbXBvcnR7Z2V0T3JDcmVhdGVNYXBWYWx1ZSBhcyB0fWZyb21cIi4uLy4uLy4uLy4uL2NvcmUvTWFwVXRpbHMuanNcIjtpbXBvcnQgcyBmcm9tXCIuLi8uLi8uLi8uLi9jb3JlL3BiZi5qc1wiO2ltcG9ydHtQb29sZWRSQnVzaCBhcyByfWZyb21cIi4uLy4uLy4uLy4uL2NvcmUvbGlicy9yYnVzaC9Qb29sZWRSQnVzaC5qc1wiO2ltcG9ydHt0aWxlUGl4ZWxTaXplIGFzIGksdGlsZUNvb3JkU2l6ZSBhcyBvLHRpbGVQaXhlbFJhdGlvIGFzIGx9ZnJvbVwiLi9jb25zdGFudHMuanNcIjtpbXBvcnR7QnVja2V0VHlwZSBhcyBufWZyb21cIi4vZW51bXMuanNcIjtpbXBvcnQgYSBmcm9tXCIuL0ZlYXR1cmUuanNcIjtpbXBvcnR7Z2V0VGlsZU1hcmdpbnMgYXMgeX1mcm9tXCIuL0dlb21ldHJ5VXRpbHMuanNcIjtpbXBvcnQgYyBmcm9tXCIuL1NvdXJjZUxheWVyRGF0YS5qc1wiO2ltcG9ydHtJbmRleEl0ZW0gYXMgdX1mcm9tXCIuL3N0eWxlL1N0eWxlTGF5ZXIuanNcIjtjb25zdCBoPShlLHQpPT57Y29uc3Qgcz1lLnZ0bFN5bWJvbC5zb3VyY2VUaWxlLHI9dC52dGxTeW1ib2wuc291cmNlVGlsZTtyZXR1cm4gcy5sZXZlbCE9PXIubGV2ZWw/cy5sZXZlbC1yLmxldmVsOnMucm93IT09ci5yb3c/cy5yb3ctci5yb3c6cy5jb2whPT1yLmNvbD9zLmNvbC1yLmNvbDplLnN0eWxlTGF5ZXJVSUQtdC5zdHlsZUxheWVyVUlEfTtjbGFzcyBte2NvbnN0cnVjdG9yKGUsdCxzLHIsaSl7dGhpcy50aWxlS2V5PWUsdGhpcy5fdGlsZUxheWVyRGF0YT10LHRoaXMuX3N0eWxlUmVwb3NpdG9yeT1zLHRoaXMuX3RpbGVIYW5kbGVyPXIsdGhpcy5fcGFyZW50TGF5ZXI9aSx0aGlzLl9pbmRleD1udWxsLHRoaXMuX3RpbGVLZXlUb1BCRj1uZXcgTWFwfXN0YXRpYyBjcmVhdGUoZSx0LHMscixpKXtyZXR1cm4gbmV3IG0oZSx0LHMscixpKX1jbGVhcigpe3RoaXMuX2luZGV4Py5jbGVhcigpLHRoaXMuX3RpbGVLZXlUb1BCRi5jbGVhcigpfWFzeW5jIHF1ZXJ5QXR0cmlidXRlcyhlLHQscyxpLG8pe2lmKDA9PT10aGlzLl90aWxlTGF5ZXJEYXRhLnNpemV8fCF0aGlzLl9zdHlsZVJlcG9zaXRvcnl8fCF0aGlzLl90aWxlSGFuZGxlcilyZXR1cm5bXTtudWxsPT09dGhpcy5faW5kZXgmJih0aGlzLl9pbmRleD1uZXcgcigxMDAsZCksYXdhaXQgdGhpcy5faW5kZXhMYXllcnMoKSk7Y29uc3QgbD1bXTtyZXR1cm4gdGhpcy5fcXVlcnlJbmRleChsLGUsdCxzLHRoaXMudGlsZUtleS5sZXZlbCxpKSxvJiZvPy5sZW5ndGg+MCYmYXdhaXQgdGhpcy5fZ2V0U3ltYm9sc0F0dHJpYnV0ZXMobCxvKSxsfWFzeW5jIF9pbmRleExheWVycygpe2NvbnN0IGU9dGhpcy50aWxlS2V5LHQ9dGhpcy5fc3R5bGVSZXBvc2l0b3J5LmxheWVycyxzPWF3YWl0IHRoaXMuX2dldFRpbGVQYXlsb2FkKGUpO2Zvcihjb25zdFtyLGldb2YgdGhpcy5fdGlsZUxheWVyRGF0YSl7Y29uc3Qgbz10W3JdLGw9cy5maW5kKChlPT5lLnNvdXJjZU5hbWU9PT1vLnNvdXJjZSkpO2lmKCFsKWNvbnRpbnVlO2NvbnN0e3Byb3RvYnVmZjphLGtleTp5fT1sO2lmKGkudHlwZSE9PW4uU1lNQk9MKXtjb25zdCB0PTE8PGUubGV2ZWwteS5sZXZlbCxzPWUucm93LXkucm93KnQscj1lLmNvbC15LmNvbCp0O3RoaXMuX2luZGV4TGF5ZXIobyxhLGUubGV2ZWwsdCxzLHIpfX19X2luZGV4TGF5ZXIoZSx0LHIsbCxuLGgpe2NvbnN0IG09ZS5zb3VyY2VMYXllcixkPWUuZ2V0RmVhdHVyZUZpbHRlcigpLGY9cixfPXIrMSxwPXkoZiksZz1uZXcgcyhuZXcgVWludDhBcnJheSh0KSxuZXcgRGF0YVZpZXcodCkpO2Zvcig7Zy5uZXh0KCk7KXN3aXRjaChnLnRhZygpKXtjYXNlIDM6e2NvbnN0IHQ9Zy5nZXRNZXNzYWdlKCkscz1uZXcgYyh0KTtpZih0LnJlbGVhc2UoKSxzLm5hbWUhPT1tKWNvbnRpbnVlO2NvbnN0IHk9cy5nZXREYXRhKCksdz1zLmV4dGVudC9sLGI9dypoLXAseD13Km4tcCxMPWIrdysyKnAsdj14K3crMipwLEk9dy9pLEQ9by93LFQ9dypoLFM9dypuO2Zvcig7eS5uZXh0VGFnKDIpOyl7Y29uc3QgdD15LmdldE1lc3NhZ2UoKSxpPW5ldyBhKHQscyk7aWYodC5yZWxlYXNlKCksZCYmIWQuZmlsdGVyKGkscikpY29udGludWU7Y29uc3Qgbz1pLnZhbHVlc3x8e30sbD1vLl9taW56b29tLG49by5fbWF4em9vbTtpZihsJiZsPj0xMCpffHxuJiZuPD0xMCpmKWNvbnRpbnVlO2NvbnN0IGM9ZS5nZXRGZWF0dXJlSW5mbGF0ZWRCb3VuZHMoaSxmLHMuZXh0ZW50LEkpO251bGw9PWN8fGNbMF0+THx8Y1sxXT52fHxjWzJdPGJ8fGNbM108eHx8KGNbMF09KGNbMF0tVCkqRCxjWzFdPShjWzFdLVMpKkQsY1syXT0oY1syXS1UKSpELGNbM109KGNbM10tUykqRCx0aGlzLl9pbmRleC5pbnNlcnQobmV3IHUoZSxpLGMsRCxULFMpKSl9YnJlYWt9ZGVmYXVsdDpnLnNraXAoKX1nLnJlbGVhc2UoKX1hc3luYyBfZ2V0U3ltYm9sc0F0dHJpYnV0ZXMoZSx0KXtpZighdHx8MD09PXQubGVuZ3RoKXJldHVybiBlO2NvbnN0IHM9W107aWYodC5zb3J0KGgpLHQubGVuZ3RoPjApe2xldCBlPTAse3N0eWxlTGF5ZXJVSUQ6cn09dFswXTtmb3IobGV0IG89MTtvPHQubGVuZ3RoO28rKyl7Y29uc3R7c3R5bGVMYXllclVJRDppfT10W29dO2khPT1yJiYocy5wdXNoKHtmcm9tOmUsdG86byxzdHlsZUxheWVyVUlEOnIsc291cmNlVGlsZUtleTp0W28tMV0udnRsU3ltYm9sLnNvdXJjZVRpbGV9KSxlPW8scj1pKX1jb25zdCBpPXQubGVuZ3RoLTE7cy5wdXNoKHtmcm9tOmUsdG86dC5sZW5ndGgsc3R5bGVMYXllclVJRDpyLHNvdXJjZVRpbGVLZXk6dFtpXS52dGxTeW1ib2wuc291cmNlVGlsZX0pfWNvbnN0IHI9dGhpcy5fc3R5bGVSZXBvc2l0b3J5LmxheWVycztmb3IoY29uc3QgaSBvZiBzKXtjb25zdCBzPWF3YWl0IHRoaXMuX2dldFRpbGVQYXlsb2FkKGkuc291cmNlVGlsZUtleSksbz1yW2kuc3R5bGVMYXllclVJRF0sbD0hIW8mJnMuZmluZCgoZT0+ZS5zb3VyY2VOYW1lPT09by5zb3VyY2UpKTtsJiZ0aGlzLl9hZGRTeW1ib2xzQXR0cmlidXRlcyhlLHQuc2xpY2UoaS5mcm9tLGkudG8pLm1hcCgoZT0+ZS52dGxTeW1ib2wuZmVhdHVyZUluZGV4KSksaS5zdHlsZUxheWVyVUlELGwpfXJldHVybiBlfV9hZGRTeW1ib2xzQXR0cmlidXRlcyh0LHMscixpKXtjb25zdCBvPXRoaXMuX3N0eWxlUmVwb3NpdG9yeS5sYXllcnMsbD1pLmtleSxuPXRoaXMudGlsZUtleSxhPTE8PG4ubGV2ZWwtbC5sZXZlbCx5PW4ucm93LWwucm93KmEsYz1uLmNvbC1sLmNvbCphO3RoaXMuX2dldFN5bWJvbEF0dHJpYnV0ZXMoaS5wcm90b2J1ZmYscyxyLGEseSxjKS5mb3JFYWNoKChzPT57Y29uc3R7YXR0cmlidXRlczppLHRpbGVQb2ludDpsfT1zO3QucHVzaCh7bGF5ZXJJZDpvW3JdLmlkLGxheWVySW5kZXg6cixncmFwaGljOm5ldyBlKHthdHRyaWJ1dGVzOmksb3JpZ2luOnt0eXBlOlwidmVjdG9yLXRpbGVcIixsYXllcklkOm9bcl0uaWQsbGF5ZXJJbmRleDpyLGxheWVyOnRoaXMuX3BhcmVudExheWVyfX0pLHRpbGVQb2ludDpsfSl9KSl9X2dldFN5bWJvbEF0dHJpYnV0ZXMoZSx0LHIsaSxsLG4pe2NvbnN0IHk9W10sdT10aGlzLl9zdHlsZVJlcG9zaXRvcnkubGF5ZXJzO2xldCBoPTA7dC5zb3J0KCgoZSx0KT0+ZS10KSk7Y29uc3QgbT1uZXcgcyhuZXcgVWludDhBcnJheShlKSxuZXcgRGF0YVZpZXcoZSkpO2Zvcig7bS5uZXh0KCk7KXN3aXRjaChtLnRhZygpKXtjYXNlIDM6e2NvbnN0IGU9bS5nZXRNZXNzYWdlKCkscz1uZXcgYyhlKTtpZihlLnJlbGVhc2UoKSxzLm5hbWUhPT11W3JdLnNvdXJjZUxheWVyKWNvbnRpbnVlO2NvbnN0IGQ9cy5nZXREYXRhKCksZj1zLmV4dGVudC9pLF89by9mLHA9ZipuLGc9ZipsO2xldCB3PTA7Zm9yKDtkLm5leHRUYWcoMik7KXtjb25zdCBlPWQuZ2V0TWVzc2FnZSgpO2lmKHcrKz09PXRbaF0pe2NvbnN0IHQ9bmV3IGEoZSxzKSxyPXQudmFsdWVzLGk9dC5nZXRHZW9tZXRyeSgpLG89bnVsbCE9aT9bXyooaVswXVswXS54LXApLF8qKGlbMF1bMF0ueS1nKV06bnVsbDt5LnB1c2goe2F0dHJpYnV0ZXM6cix0aWxlUG9pbnQ6b30pLGgrK31pZihlLnJlbGVhc2UoKSxoPT09dC5sZW5ndGgpcmV0dXJuIHl9YnJlYWt9ZGVmYXVsdDptLnNraXAoKX1yZXR1cm4gbS5yZWxlYXNlKCkseX1fcXVlcnlJbmRleCh0LHMscixpLG8sbil7Y29uc3QgYT1sKmkqKHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvfHwxKTtyZXR1cm4gdGhpcy5faW5kZXg/LnNlYXJjaCh7bWluWDpzLWEsbWluWTpyLWEsbWF4WDpzK2EsbWF4WTpyK2F9LChsPT57Y29uc3R7bGF5ZXI6YSxmZWF0dXJlOnl9PWw7YS5pc0ludGVyc2VjdGluZ0ZlYXR1cmUocyxyLGkseSxvLG4sbCkmJnQucHVzaCh7bGF5ZXJJZDphLmlkLGxheWVySW5kZXg6YS51aWQsdGlsZVBvaW50Om51bGwsZ3JhcGhpYzpuZXcgZSh7YXR0cmlidXRlczp5LnZhbHVlcyxvcmlnaW46e3R5cGU6XCJ2ZWN0b3ItdGlsZVwiLGxheWVySWQ6bC5sYXllci5pZCxsYXllckluZGV4OmwubGF5ZXIudWlkLGxheWVyOnRoaXMuX3BhcmVudExheWVyfX0pfSl9KSksdH1hc3luYyBfZ2V0VGlsZVBheWxvYWQoZSl7cmV0dXJuIHQodGhpcy5fdGlsZUtleVRvUEJGLGUuaWQsKCgpPT50aGlzLl90aWxlSGFuZGxlci5mZXRjaFRpbGVQQkZzKGUpKSkudGhlbigoZT0+ZSkpfX1jb25zdCBkPWU9Pih7bWluWDplLmJvdW5kc1swXSxtaW5ZOmUuYm91bmRzWzFdLG1heFg6ZS5ib3VuZHNbMl0sbWF4WTplLmJvdW5kc1szXX0pO2V4cG9ydHttIGFzIGRlZmF1bHR9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMzMvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtzaWduYWwgYXMgdH1mcm9tXCIuLi8uLi8uLi8uLi8uLi9jb3JlL3NpZ25hbC5qc1wiO2ltcG9ydHtDb2xsaXNpb25Kb2IgYXMgZX1mcm9tXCIuL0NvbGxpc2lvbkpvYi5qc1wiO2ltcG9ydHtkZWNsdXR0ZXJCdWRnZXQgYXMgaSxmYWRlRHVyYXRpb24gYXMgc31mcm9tXCIuL2NvbmZpZy5qc1wiO2ltcG9ydHtTeW1ib2xEZWNsdXR0ZXJlciBhcyByfWZyb21cIi4vU3ltYm9sRGVjbHV0dGVyZXIuanNcIjtpbXBvcnR7U3ltYm9sUmVwb3NpdG9yeSBhcyBvfWZyb21cIi4vU3ltYm9sUmVwb3NpdG9yeS5qc1wiO2ltcG9ydHtWaXNpYmlsaXR5IGFzIGx9ZnJvbVwiLi4vc3R5bGUvU3R5bGVEZWZpbml0aW9uLmpzXCI7Y29uc3QgYT0uNSxuPTFlLTY7Y2xhc3MgY3tjb25zdHJ1Y3RvcihlLHMsYSxjLGgseT1pKXt0aGlzLnN0eWxlUmVwb3NpdG9yeT1zLHRoaXMuX2RlY2x1dHRlckJ1ZGdldD15LHRoaXMuX3RpbGVUb0hhbmRsZT1uZXcgTWFwLHRoaXMuX3ZpZXdTdGF0ZT17c2NhbGU6MCxyb3RhdGlvbjowLGNlbnRlcjpbMCwwXSxzaXplOlswLDBdfSx0aGlzLl9kZWNsdXR0ZXJWaWV3U3RhdGU9e3NjYWxlOjAscm90YXRpb246MCxjZW50ZXI6WzAsMF0sc2l6ZTpbMCwwXX0sdGhpcy5fb2Zmc2V0RnJvbVNjcmVlbkNlbnRlcj1bMCwwXSx0aGlzLl9jb21wbGV0ZWQ9ITEsdGhpcy5fZmFkaW5nPXQoITEpO2NvbnN0IF89KHQsZSxpKT0+dGhpcy5fY3JlYXRlQ29sbGlzaW9uSm9iKHQsZSxpKSx1PXQ9Pntjb25zdCBlPXRoaXMuc3R5bGVSZXBvc2l0b3J5LmdldFN0eWxlTGF5ZXJCeVVJRD8uKHQpO2lmKGUpe2lmKHRoaXMuX3pvb20rbjxlLm1pbnpvb218fHRoaXMuX3pvb20tbj49ZS5tYXh6b29tKXJldHVybiExO2NvbnN0IHQ9ZS5nZXRMYXlvdXRQcm9wZXJ0eT8uKFwidmlzaWJpbGl0eVwiKTtpZih0JiZ0LmdldFZhbHVlKCk9PT1sLk5PTkUpcmV0dXJuITF9cmV0dXJuITB9LG09KHQsZSk9Pih0aGlzLnN0eWxlUmVwb3NpdG9yeS5nZXRTdHlsZUxheWVyQnlVSUQ/Lih0LnN0eWxlTGF5ZXJVSUQpPy56Pz8wKS0odGhpcy5zdHlsZVJlcG9zaXRvcnkuZ2V0U3R5bGVMYXllckJ5VUlEPy4oZS5zdHlsZUxheWVyVUlEKT8uej8/MCk7dGhpcy5fc3ltYm9sUmVwb3NpdG9yeT1uZXcgbyhoLGMpLHRoaXMuX3N5bWJvbERlY2x1dHRlcmVyPW5ldyByKGUsYyx0aGlzLl9zeW1ib2xSZXBvc2l0b3J5LHRoaXMuc3R5bGVSZXBvc2l0b3J5LF8sYSxtLHUpfWdldCBzeW1ib2xSZXBvc2l0b3J5KCl7cmV0dXJuIHRoaXMuX3N5bWJvbFJlcG9zaXRvcnl9X2NyZWF0ZUNvbGxpc2lvbkpvYih0LGkscyl7cmV0dXJuIHRoaXMudXBkYXRlRGVjbHV0dGVyZXJWaWV3U3RhdGUoKSxuZXcgZSh0LGkscyx0aGlzLnN0eWxlUmVwb3NpdG9yeSx0aGlzLl96b29tLHRoaXMuX3ZpZXdTdGF0ZS5yb3RhdGlvbil9Z2V0IGZhZGluZygpe3JldHVybiB0aGlzLl9mYWRpbmcudmFsdWV9Z2V0IGRlY2x1dHRlcmVyT2Zmc2V0KCl7cmV0dXJuIHRoaXMuX29mZnNldEZyb21TY3JlZW5DZW50ZXJ9cmVnaXN0ZXJGZWF0dXJlVGlsZSh0KXt0aGlzLnN5bWJvbFJlcG9zaXRvcnk/KHRoaXMuc3ltYm9sUmVwb3NpdG9yeS5yZWdpc3RlckZlYXR1cmVUaWxlKHQpLHRoaXMucmVzdGFydERlY2x1dHRlcigpKTpjb25zb2xlLmVycm9yKFwiSW50ZXJuYWxFcnJvcjogU3ltYm9sIHJlcG9zaXRvcnkgbm90IHlldCBpbml0aWFsaXplZFwiKX11bnJlZ2lzdGVyRmVhdHVyZVRpbGUodCl7dGhpcy5zeW1ib2xSZXBvc2l0b3J5Pyh0aGlzLl9zeW1ib2xSZXBvc2l0b3J5LnVucmVnaXN0ZXJGZWF0dXJlVGlsZSh0KSx0aGlzLnJlc3RhcnREZWNsdXR0ZXIoKSk6Y29uc29sZS5lcnJvcihcIkludGVybmFsRXJyb3I6IFN5bWJvbCByZXBvc2l0b3J5IG5vdCB5ZXQgaW5pdGlhbGl6ZWRcIil9aW5zZXJ0RmVhdHVyZVRpbGVNZXRyaWNzKHQsZSl7dGhpcy5zeW1ib2xSZXBvc2l0b3J5Pyh0aGlzLnN5bWJvbFJlcG9zaXRvcnkuaW5zZXJ0RmVhdHVyZVRpbGVNZXRyaWNzKHQsZSksdGhpcy5yZXN0YXJ0RGVjbHV0dGVyKCkpOmNvbnNvbGUuZXJyb3IoXCJJbnRlcm5hbEVycm9yOiBTeW1ib2wgcmVwb3NpdG9yeSBub3QgeWV0IGluaXRpYWxpemVkXCIpfXJlbW92ZUZlYXR1cmVUaWxlTWV0cmljcyh0LGUpe3RoaXMuc3ltYm9sUmVwb3NpdG9yeT8odGhpcy5zeW1ib2xSZXBvc2l0b3J5LnJlbW92ZUZlYXR1cmVUaWxlTWV0cmljcyh0LGUpLHRoaXMucmVzdGFydERlY2x1dHRlcigpKTpjb25zb2xlLmVycm9yKFwiSW50ZXJuYWxFcnJvcjogU3ltYm9sIHJlcG9zaXRvcnkgbm90IHlldCBpbml0aWFsaXplZFwiKX1hZGRUaWxlKHQpe3QuZGVjbHV0dGVyZWQ9ITEsdGhpcy5fdGlsZVRvSGFuZGxlLnNldCh0LHQub24oXCJzeW1ib2xzLWNoYW5nZWRcIiwoKCk9Pnt0aGlzLl9zeW1ib2xSZXBvc2l0b3J5LnJlZ2lzdGVyVmVjdG9yVGlsZSh0KSx0aGlzLnJlc3RhcnREZWNsdXR0ZXIoKX0pKSksdGhpcy5fc3ltYm9sUmVwb3NpdG9yeS5yZWdpc3RlclZlY3RvclRpbGUodCksdGhpcy5yZXN0YXJ0RGVjbHV0dGVyKCl9cmVtb3ZlVGlsZSh0KXtjb25zdCBlPXRoaXMuX3RpbGVUb0hhbmRsZS5nZXQodCk7ZSYmKHRoaXMuX3N5bWJvbFJlcG9zaXRvcnkudW5yZWdpc3RlclZlY3RvclRpbGUodCksdGhpcy5yZXN0YXJ0RGVjbHV0dGVyKCksZS5yZW1vdmUoKSx0aGlzLl90aWxlVG9IYW5kbGUuZGVsZXRlKHQpKX11cGRhdGUodCxlKXt0aGlzLl96b29tPXQsdGhpcy5fdmlld1N0YXRlPXtzY2FsZTplLnNjYWxlLHJvdGF0aW9uOmUucm90YXRpb24sY2VudGVyOltlLmNlbnRlclswXSxlLmNlbnRlclsxXV0sc2l6ZTpbZS5zaXplWzBdLGUuc2l6ZVsxXV19O2NvbnN0IGk9WzAsMF07ZS50b1NjcmVlbihpLGUuY2VudGVyKTtjb25zdCBzPVswLDBdO3JldHVybiBlLnRvU2NyZWVuKHMsdGhpcy5fZGVjbHV0dGVyVmlld1N0YXRlLmNlbnRlciksdGhpcy5fb2Zmc2V0RnJvbVNjcmVlbkNlbnRlclswXT1pWzBdLXNbMF0sdGhpcy5fb2Zmc2V0RnJvbVNjcmVlbkNlbnRlclsxXT1pWzFdLXNbMV0sdGhpcy5fY29udGludWVEZWNsdXR0ZXIoKSx0aGlzLl9jb21wbGV0ZWR9cmVzdGFydERlY2x1dHRlcigpe3RoaXMuX2NvbXBsZXRlZD0hMSx0aGlzLl9zeW1ib2xEZWNsdXR0ZXJlci5yZXN0YXJ0KCksdGhpcy5fbm90aWZ5VW5zdGFibGUoKX1jbGVhcigpe3RoaXMuX2NvbXBsZXRlZD0hMSx0aGlzLl9zeW1ib2xSZXBvc2l0b3J5PW51bGwsdGhpcy5fc3ltYm9sRGVjbHV0dGVyZXIucmVzdGFydCgpLHRoaXMuX3RpbGVUb0hhbmRsZS5mb3JFYWNoKCh0PT50LnJlbW92ZSgpKSksdGhpcy5fdGlsZVRvSGFuZGxlLmNsZWFyKCl9Z2V0IHN0YWxlKCl7cmV0dXJuIHRoaXMuX3pvb20hPT10aGlzLl9kZWNsdXR0ZXJab29tfHx0aGlzLl92aWV3U3RhdGUuc2l6ZVswXSE9PXRoaXMuX2RlY2x1dHRlclZpZXdTdGF0ZS5zaXplWzBdfHx0aGlzLl92aWV3U3RhdGUuc2l6ZVsxXSE9PXRoaXMuX2RlY2x1dHRlclZpZXdTdGF0ZS5zaXplWzFdfHx0aGlzLl92aWV3U3RhdGUuc2NhbGUhPT10aGlzLl9kZWNsdXR0ZXJWaWV3U3RhdGUuc2NhbGV8fHRoaXMuX3ZpZXdTdGF0ZS5yb3RhdGlvbiE9PXRoaXMuX2RlY2x1dHRlclZpZXdTdGF0ZS5yb3RhdGlvbn1kZWxldGVTdHlsZUxheWVycyh0KXt0aGlzLl9zeW1ib2xSZXBvc2l0b3J5LmRlbGV0ZVN0eWxlTGF5ZXJzKHQpfV9jb250aW51ZURlY2x1dHRlcigpe3RoaXMuX2NvbXBsZXRlZCYmIXRoaXMuc3RhbGV8fCh0aGlzLl9zeW1ib2xEZWNsdXR0ZXJlci5ydW5uaW5nfHwodGhpcy51cGRhdGVEZWNsdXR0ZXJlclZpZXdTdGF0ZSgpLHRoaXMuX3N5bWJvbERlY2x1dHRlcmVyLnJlc3RhcnQoKSksdGhpcy5fc3ltYm9sRGVjbHV0dGVyZXIuc2V0U2NyZWVuU2l6ZSh0aGlzLl92aWV3U3RhdGUuc2l6ZVswXSx0aGlzLl92aWV3U3RhdGUuc2l6ZVsxXSksdGhpcy5fY29tcGxldGVkPXRoaXMuX3N5bWJvbERlY2x1dHRlcmVyLmNvbnRpbnVlKHRoaXMuX2RlY2x1dHRlckJ1ZGdldCksdGhpcy5fY29tcGxldGVkJiZ0aGlzLl9zY2hlZHVsZU5vdGlmeVN0YWJsZSgpKX1fc2NoZWR1bGVOb3RpZnlTdGFibGUoKXtudWxsIT10aGlzLl9zdGFibGVOb3RpZmljYXRpb25IYW5kbGUmJmNsZWFyVGltZW91dCh0aGlzLl9zdGFibGVOb3RpZmljYXRpb25IYW5kbGUpLHRoaXMuX3N0YWJsZU5vdGlmaWNhdGlvbkhhbmRsZT1zZXRUaW1lb3V0KCgoKT0+e3RoaXMuX3N0YWJsZU5vdGlmaWNhdGlvbkhhbmRsZT1udWxsLHRoaXMuX2ZhZGluZy52YWx1ZT0hMX0pLCgxK2EpKnMpfV9ub3RpZnlVbnN0YWJsZSgpe251bGwhPXRoaXMuX3N0YWJsZU5vdGlmaWNhdGlvbkhhbmRsZSYmKGNsZWFyVGltZW91dCh0aGlzLl9zdGFibGVOb3RpZmljYXRpb25IYW5kbGUpLHRoaXMuX3N0YWJsZU5vdGlmaWNhdGlvbkhhbmRsZT1udWxsKSx0aGlzLl9mYWRpbmcudmFsdWU9ITB9dXBkYXRlRGVjbHV0dGVyZXJWaWV3U3RhdGUoKXt0aGlzLl9kZWNsdXR0ZXJab29tPXRoaXMuX3pvb20sdGhpcy5fZGVjbHV0dGVyVmlld1N0YXRlLmNlbnRlclswXT10aGlzLl92aWV3U3RhdGUuY2VudGVyWzBdLHRoaXMuX2RlY2x1dHRlclZpZXdTdGF0ZS5jZW50ZXJbMV09dGhpcy5fdmlld1N0YXRlLmNlbnRlclsxXSx0aGlzLl9kZWNsdXR0ZXJWaWV3U3RhdGUucm90YXRpb249dGhpcy5fdmlld1N0YXRlLnJvdGF0aW9uLHRoaXMuX2RlY2x1dHRlclZpZXdTdGF0ZS5zY2FsZT10aGlzLl92aWV3U3RhdGUuc2NhbGUsdGhpcy5fZGVjbHV0dGVyVmlld1N0YXRlLnNpemVbMF09dGhpcy5fdmlld1N0YXRlLnNpemVbMF0sdGhpcy5fZGVjbHV0dGVyVmlld1N0YXRlLnNpemVbMV09dGhpcy5fdmlld1N0YXRlLnNpemVbMV0sdGhpcy5fb2Zmc2V0RnJvbVNjcmVlbkNlbnRlclswXT0wLHRoaXMuX29mZnNldEZyb21TY3JlZW5DZW50ZXJbMV09MH19ZXhwb3J0e2MgYXMgU3ltYm9sRmFkZXJ9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMzMvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydCBoYXMgZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9oYXMuanNcIjtpbXBvcnR7V0dMRHJhd1BoYXNlIGFzIGV9ZnJvbVwiLi9lbnVtcy5qc1wiO2ltcG9ydCByIGZyb21cIi4vV0dMQ29udGFpbmVyLmpzXCI7aW1wb3J0IHMgZnJvbVwiLi9icnVzaGVzL1dHTEJydXNoU3RlbmNpbC5qc1wiO2ltcG9ydCB0IGZyb21cIi4vYnJ1c2hlcy9XR0xCcnVzaFRpbGVEZWJ1Z0luZm8uanNcIjtjb25zdCBuPShlLHIpPT5lLmtleS5sZXZlbC1yLmtleS5sZXZlbCE9PTA/ZS5rZXkubGV2ZWwtci5rZXkubGV2ZWw6ZS5rZXkucm93LXIua2V5LnJvdyE9PTA/ZS5rZXkucm93LXIua2V5LnJvdzplLmtleS5jb2wtci5rZXkuY29sO2NsYXNzIGkgZXh0ZW5kcyBye2NvbnN0cnVjdG9yKGUpe3N1cGVyKCksdGhpcy50aWxlSW5mb1ZpZXc9ZSx0aGlzLnNvcnRGdW5jdGlvbj1ufXJlbmRlckNoaWxkcmVuKGUpe3RoaXMuc2V0U3RlbmNpbFJlZmVyZW5jZShlKSxzdXBlci5yZW5kZXJDaGlsZHJlbihlKX1jcmVhdGVSZW5kZXJQYXJhbXMoZSl7Y29uc3R7c3RhdGU6cn09ZSxzPXN1cGVyLmNyZWF0ZVJlbmRlclBhcmFtcyhlKTtyZXR1cm4gcy5yZXF1aXJlZExldmVsPXRoaXMudGlsZUluZm9WaWV3LmdldENsb3Nlc3RJbmZvRm9yU2NhbGUoci5zY2FsZSkubGV2ZWwscy5kaXNwbGF5TGV2ZWw9dGhpcy50aWxlSW5mb1ZpZXcudGlsZUluZm8uc2NhbGVUb1pvb20oci5zY2FsZSksc31wcmVwYXJlUmVuZGVyUGFzc2VzKHIpe2NvbnN0IG49c3VwZXIucHJlcGFyZVJlbmRlclBhc3NlcyhyKTtyZXR1cm4gbi5wdXNoKHIucmVnaXN0ZXJSZW5kZXJQYXNzKHtuYW1lOlwic3RlbmNpbFwiLGJydXNoZXM6W3NdLGRyYXdQaGFzZTplLkRFQlVHfGUuTUFQfGUuSElHSExJR0hUfGUuTEFCRUwsdGFyZ2V0OigpPT50aGlzLmdldFN0ZW5jaWxUYXJnZXQoKX0pKSxoYXMoXCJlc3JpLXRpbGVzLWRlYnVnXCIpJiZuLnB1c2goci5yZWdpc3RlclJlbmRlclBhc3Moe25hbWU6XCJ0aWxlSW5mb1wiLGJydXNoZXM6W3RdLGRyYXdQaGFzZTplLkRFQlVHLHRhcmdldDooKT0+dGhpcy5jaGlsZHJlbn0pKSxufWdldFN0ZW5jaWxUYXJnZXQoKXtyZXR1cm4gdGhpcy5jaGlsZHJlbn1zZXRTdGVuY2lsUmVmZXJlbmNlKGUpe2xldCByPTE7Zm9yKGNvbnN0IHMgb2YgdGhpcy5jaGlsZHJlbilzLnN0ZW5jaWxSZWY9cisrfX1leHBvcnR7aSBhcyBkZWZhdWx0fTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjMzL2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7XyBhcyBlfWZyb21cIi4uLy4uLy4uL2NodW5rcy90c2xpYi5lczYuanNcIjtpbXBvcnR7Y2xvbmUgYXMgdH1mcm9tXCIuLi8uLi8uLi9jb3JlL2xhbmcuanNcIjtpbXBvcnQgaSBmcm9tXCIuLi8uLi8uLi9jb3JlL0xvZ2dlci5qc1wiO2ltcG9ydHtkZXN0cm95TWF5YmUgYXMgc31mcm9tXCIuLi8uLi8uLi9jb3JlL21heWJlLmpzXCI7aW1wb3J0e2lzQWJvcnRFcnJvciBhcyByfWZyb21cIi4uLy4uLy4uL2NvcmUvcHJvbWlzZVV0aWxzLmpzXCI7aW1wb3J0e3Byb3BlcnR5IGFzIGF9ZnJvbVwiLi4vLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9wcm9wZXJ0eS5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vY29yZS9oYXMuanNcIjtpbXBvcnR7c3ViY2xhc3MgYXMgbH1mcm9tXCIuLi8uLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3N1YmNsYXNzLmpzXCI7aW1wb3J0e2RpZmYgYXMgbixoYXNEaWZmIGFzIG99ZnJvbVwiLi4vLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGlmZlV0aWxzLmpzXCI7aW1wb3J0IGggZnJvbVwiLi4vLi4vLi4vZ2VvbWV0cnkvUG9pbnQuanNcIjtpbXBvcnR7Y3JlYXRlIGFzIHV9ZnJvbVwiLi4vLi4vLi4vZ2VvbWV0cnkvc3VwcG9ydC9hYUJvdW5kaW5nUmVjdC5qc1wiO2ltcG9ydHtlcXVhbHMgYXMgeX1mcm9tXCIuLi8uLi8uLi9nZW9tZXRyeS9zdXBwb3J0L3NwYXRpYWxSZWZlcmVuY2VVdGlscy5qc1wiO2ltcG9ydHtTdHlsZVVwZGF0ZVR5cGUgYXMgY31mcm9tXCIuLi9lbmdpbmUvdmVjdG9yVGlsZXMvZW51bXMuanNcIjtpbXBvcnR7VGlsZUhhbmRsZXIgYXMgZH1mcm9tXCIuLi9lbmdpbmUvdmVjdG9yVGlsZXMvVGlsZUhhbmRsZXIuanNcIjtpbXBvcnR7VGlsZU1hbmFnZXIgYXMgX31mcm9tXCIuLi9lbmdpbmUvdmVjdG9yVGlsZXMvVGlsZU1hbmFnZXIuanNcIjtpbXBvcnR7VmVjdG9yVGlsZSBhcyBwfWZyb21cIi4uL2VuZ2luZS92ZWN0b3JUaWxlcy9WZWN0b3JUaWxlLmpzXCI7aW1wb3J0e1ZlY3RvclRpbGVDb250YWluZXIgYXMgZn1mcm9tXCIuLi9lbmdpbmUvdmVjdG9yVGlsZXMvVmVjdG9yVGlsZUNvbnRhaW5lci5qc1wiO2ltcG9ydCBnIGZyb21cIi4uL2VuZ2luZS92ZWN0b3JUaWxlcy9WZWN0b3JUaWxlRmVhdHVyZUluZGV4LmpzXCI7aW1wb3J0e1N0eWxlTGF5ZXJUeXBlIGFzIG19ZnJvbVwiLi4vZW5naW5lL3ZlY3RvclRpbGVzL3N0eWxlL1N0eWxlRGVmaW5pdGlvbi5qc1wiO2ltcG9ydCBUIGZyb21cIi4uL2VuZ2luZS92ZWN0b3JUaWxlcy9zdHlsZS9TdHlsZVJlcG9zaXRvcnkuanNcIjtpbXBvcnR7TGF5ZXJWaWV3MkRNaXhpbiBhcyBDfWZyb21cIi4vTGF5ZXJWaWV3MkQuanNcIjtpbXBvcnQgUiBmcm9tXCIuLi90aWxpbmcvVGlsZUluZm9WaWV3UE9ULmpzXCI7aW1wb3J0IHYgZnJvbVwiLi4vdGlsaW5nL1RpbGVRdWV1ZS5qc1wiO2ltcG9ydCBIIGZyb21cIi4uLy4uL2xheWVycy9MYXllclZpZXcuanNcIjtpbXBvcnQgdyBmcm9tXCIuLi8uLi9sYXllcnMvUmVmcmVzaGFibGVMYXllclZpZXcuanNcIjtpbXBvcnR7VGFza1ByaW9yaXR5IGFzIEl9ZnJvbVwiLi4vLi4vc3VwcG9ydC9TY2hlZHVsZXIuanNcIjtjb25zdCBTPTIsRD04LFA9NTEyO2xldCBRPWNsYXNzIGV4dGVuZHModyhDKEgpKSl7Y29uc3RydWN0b3IoKXtzdXBlciguLi5hcmd1bWVudHMpLHRoaXMuX3N0eWxlQ2hhbmdlcz1bXSx0aGlzLl9mZXRjaFF1ZXVlPW51bGwsdGhpcy5fcGFyc2VRdWV1ZT1udWxsLHRoaXMuX3RpbGVIYW5kbGVyUHJvbWlzZT1udWxsLHRoaXMuX2lzVGlsZUhhbmRsZXJSZWFkeT0hMSx0aGlzLl9zdHllQ2hhbmdlZD0hMSx0aGlzLl9zcHJpdGVTb3VyY2VDaGFuZ2VkPSExfWdldCBmYWRpbmcoKXtyZXR1cm4gdGhpcy5fdmVjdG9yVGlsZUNvbnRhaW5lcj8uZmFkaW5nPz8hMX1nZXQgaGFzVmlzaWJsZUZlYXR1cmVzKCl7Y29uc3QgZT10aGlzLl92ZWN0b3JUaWxlQ29udGFpbmVyLmNoaWxkcmVuO2Zvcihjb25zdCB0IG9mIGUpaWYodC5oYXNGZWF0dXJlcygpKXJldHVybiEwO3JldHVybiExfWdldCBzcHJpdGVTb3VyY2VDaGFuZ2VkKCl7cmV0dXJuIHRoaXMuX3Nwcml0ZVNvdXJjZUNoYW5nZWR9Z2V0IHN0eWxlQ2hhbmdlZCgpe3JldHVybiB0aGlzLl9zdHllQ2hhbmdlZH1hc3luYyBoaXRUZXN0KGUsdCl7Y29uc3QgaT10aGlzLl90aWxlSGFuZGxlclByb21pc2Uscz10aGlzLl92ZWN0b3JUaWxlQ29udGFpbmVyPy5zeW1ib2xGYWRlcjtpZighaXx8IXRoaXMuX2lzVGlsZUhhbmRsZXJSZWFkeXx8IXMpcmV0dXJuO2F3YWl0IGk7bGV0IHI9bnVsbDtjb25zdCBhPXRoaXMuX3ZlY3RvclRpbGVDb250YWluZXI/LnN5bWJvbFJlcG9zaXRvcnk7YSYmKHI9YS5xdWVyeVN5bWJvbHModCxTLHMuZGVjbHV0dGVyZXJPZmZzZXQse30pKTtjb25zdCBsPXRoaXMudmlldy5zdGF0ZSxuPXRoaXMuX3RpbGVNYW5hZ2VyLmdldEludGVyc2VjdGluZ1RpbGVzKHQueCx0LnksUyxsLHIpO2lmKCghbnx8MD09PW4ubGVuZ3RoKSYmMD09PXI/Lmxlbmd0aClyZXR1cm4gbnVsbDtlPWUuY2xvbmUoKS5ub3JtYWxpemUoKTtjb25zdCBvPVtdLGg9W107Zm9yKGNvbnN0IHUgb2YgbilvLnB1c2godGhpcy5fcXVlcnlUaWxlKGgsZSxTLHRoaXMudmlldy5zdGF0ZS5yb3RhdGlvbix1LHI/LmZpbHRlcigoZT0+ZS50aWxlS2V5LmlkPT09dS5pZCkpKSk7cmV0dXJuIGF3YWl0IFByb21pc2UuYWxsKG8pLGh9dXBkYXRlKGUpe2lmKHRoaXMuX3RpbGVIYW5kbGVyUHJvbWlzZSYmdGhpcy5faXNUaWxlSGFuZGxlclJlYWR5KXJldHVybiBlLnBpeGVsUmF0aW8hPT10aGlzLl90aWxlSGFuZGxlci5kZXZpY2VQaXhlbFJhdGlvPyh0aGlzLl90aWxlSGFuZGxlci5kZXZpY2VQaXhlbFJhdGlvPWUucGl4ZWxSYXRpbyx2b2lkIHRoaXMuX2xvYWRTdHlsZSgpKTp2b2lkKHRoaXMuX3N0eWxlQ2hhbmdlcy5sZW5ndGg+MD90aGlzLl90aWxlSGFuZGxlclByb21pc2U9dGhpcy5fYXBwbHlTdHlsZUNoYW5nZXMoKToodGhpcy5fcGF1c2VRdWV1ZXMoKSx0aGlzLl9mZXRjaFF1ZXVlLnN0YXRlPWUuc3RhdGUsdGhpcy5fcGFyc2VRdWV1ZS5zdGF0ZT1lLnN0YXRlLHRoaXMuX3RpbGVNYW5hZ2VyLnVwZGF0ZShlKXx8dGhpcy5yZXF1ZXN0VXBkYXRlKCksdGhpcy5fcmVzdW1lUXVldWVzKCkpKX1hdHRhY2goKXtjb25zdHtzdHlsZTplfT10aGlzLmxheWVyLmN1cnJlbnRTdHlsZUluZm87dGhpcy5fc3R5bGVSZXBvc2l0b3J5PW5ldyBUKGUpLHRoaXMuX3RpbGVJbmZvVmlldz1uZXcgUih0aGlzLmxheWVyLnRpbGVJbmZvLHRoaXMubGF5ZXIuZnVsbEV4dGVudCksdGhpcy5fdmVjdG9yVGlsZUNvbnRhaW5lcj1uZXcgZih0aGlzLl90aWxlSW5mb1ZpZXcpLHRoaXMuX3RpbGVIYW5kbGVyPW5ldyBkKHRoaXMubGF5ZXIsdGhpcy5fc3R5bGVSZXBvc2l0b3J5LHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvfHwxLHRoaXMubGF5ZXIudGlsZUluZm8ubG9kcy5sZW5ndGgtMSksdGhpcy5jb250YWluZXIuYWRkQ2hpbGQodGhpcy5fdmVjdG9yVGlsZUNvbnRhaW5lciksdGhpcy5fc3RhcnQoKSx0aGlzLmFkZEF0dGFjaEhhbmRsZXMoW3RoaXMubGF5ZXIub24oXCJwYWludC1jaGFuZ2VcIiwoZT0+e2lmKHRoaXMuX3N0eWVDaGFuZ2VkPSEwLGUuaXNEYXRhRHJpdmVuKXRoaXMuX3N0eWxlQ2hhbmdlcy5wdXNoKHt0eXBlOmMuUEFJTlRFUl9DSEFOR0VELGRhdGE6ZX0pLHRoaXMucmVxdWVzdFVwZGF0ZSgpO2Vsc2V7Y29uc3QgdD10aGlzLl9zdHlsZVJlcG9zaXRvcnksaT10LmdldExheWVyQnlJZChlLmxheWVyKTtpZighaSlyZXR1cm47Y29uc3Qgcz1pLnR5cGU9PT1tLlNZTUJPTDt0LnNldFBhaW50UHJvcGVydGllcyhlLmxheWVyLGUucGFpbnQpLHMmJnRoaXMuX3ZlY3RvclRpbGVDb250YWluZXI/LnJlc3RhcnREZWNsdXR0ZXIoKSx0aGlzLl92ZWN0b3JUaWxlQ29udGFpbmVyPy5yZXF1ZXN0UmVuZGVyKCl9fSkpLHRoaXMubGF5ZXIub24oXCJsYXlvdXQtY2hhbmdlXCIsKGU9Pntjb25zdCB0PXRoaXMuX3N0eWxlUmVwb3NpdG9yeSxpPXQuZ2V0TGF5ZXJCeUlkKGUubGF5ZXIpO2lmKCFpKXJldHVybjt0aGlzLl9zdHllQ2hhbmdlZD0hMDtjb25zdCBzPW4oaS5sYXlvdXQsZS5sYXlvdXQpO2lmKG51bGwhPXMpe2lmKG8ocyxcInZpc2liaWxpdHlcIikmJjE9PT1FKHMpKXJldHVybiB0LnNldExheW91dFByb3BlcnRpZXMoZS5sYXllcixlLmxheW91dCksaS50eXBlPT09bS5TWU1CT0wmJnRoaXMuX3ZlY3RvclRpbGVDb250YWluZXI/LnJlc3RhcnREZWNsdXR0ZXIoKSx2b2lkIHRoaXMuX3ZlY3RvclRpbGVDb250YWluZXI/LnJlcXVlc3RSZW5kZXIoKTt0aGlzLl9zdHlsZUNoYW5nZXMucHVzaCh7dHlwZTpjLkxBWU9VVF9DSEFOR0VELGRhdGE6ZX0pLHRoaXMucmVxdWVzdFVwZGF0ZSgpfX0pKSx0aGlzLmxheWVyLm9uKFwic3R5bGUtbGF5ZXItdmlzaWJpbGl0eS1jaGFuZ2VcIiwoZT0+e2NvbnN0IHQ9dGhpcy5fc3R5bGVSZXBvc2l0b3J5LGk9dC5nZXRMYXllckJ5SWQoZS5sYXllcik7aSYmKHRoaXMuX3N0eWVDaGFuZ2VkPSEwLHQuc2V0U3R5bGVMYXllclZpc2liaWxpdHkoZS5sYXllcixlLnZpc2liaWxpdHkpLGkudHlwZT09PW0uU1lNQk9MJiZ0aGlzLl92ZWN0b3JUaWxlQ29udGFpbmVyPy5yZXN0YXJ0RGVjbHV0dGVyKCksdGhpcy5fdmVjdG9yVGlsZUNvbnRhaW5lcj8ucmVxdWVzdFJlbmRlcigpKX0pKSx0aGlzLmxheWVyLm9uKFwic3R5bGUtbGF5ZXItY2hhbmdlXCIsKGU9Pnt0aGlzLl9zdHlsZUNoYW5nZXMucHVzaCh7dHlwZTpjLkxBWUVSX0NIQU5HRUQsZGF0YTplfSksdGhpcy5fc3R5ZUNoYW5nZWQ9ITAsdGhpcy5yZXF1ZXN0VXBkYXRlKCl9KSksdGhpcy5sYXllci5vbihcImRlbGV0ZS1zdHlsZS1sYXllclwiLChlPT57dGhpcy5fc3R5bGVDaGFuZ2VzLnB1c2goe3R5cGU6Yy5MQVlFUl9SRU1PVkVELGRhdGE6ZX0pLHRoaXMuX3N0eWVDaGFuZ2VkPSEwLHRoaXMucmVxdWVzdFVwZGF0ZSgpfSkpLHRoaXMubGF5ZXIub24oXCJsb2FkLXN0eWxlXCIsKCgpPT50aGlzLl9sb2FkU3R5bGUoKSkpLHRoaXMubGF5ZXIub24oXCJzcHJpdGVTb3VyY2UtY2hhbmdlXCIsKGU9Pnt0aGlzLl9zcHJpdGVTb3VyY2VDaGFuZ2VkPSEwLHRoaXMuX3N0eWxlQ2hhbmdlcy5wdXNoKHt0eXBlOmMuU1BSSVRFU19DSEFOR0VELGRhdGE6ZX0pO2NvbnN0IHQ9dGhpcy5fc3R5bGVSZXBvc2l0b3J5LmxheWVycztmb3IoY29uc3QgaSBvZiB0KXN3aXRjaChpLnR5cGUpe2Nhc2UgbS5TWU1CT0w6aS5nZXRMYXlvdXRQcm9wZXJ0eShcImljb24taW1hZ2VcIikmJnRoaXMuX3N0eWxlQ2hhbmdlcy5wdXNoKHt0eXBlOmMuTEFZT1VUX0NIQU5HRUQsZGF0YTp7bGF5ZXI6aS5pZCxsYXlvdXQ6aS5sYXlvdXR9fSk7YnJlYWs7Y2FzZSBtLkxJTkU6aS5nZXRQYWludFByb3BlcnR5KFwibGluZS1wYXR0ZXJuXCIpJiZ0aGlzLl9zdHlsZUNoYW5nZXMucHVzaCh7dHlwZTpjLlBBSU5URVJfQ0hBTkdFRCxkYXRhOntsYXllcjppLmlkLHBhaW50OmkucGFpbnQsaXNEYXRhRHJpdmVuOmkuaXNQYWludGVyRGF0YURyaXZlbigpfX0pO2JyZWFrO2Nhc2UgbS5GSUxMOmkuZ2V0TGF5b3V0UHJvcGVydHkoXCJmaWxsLXBhdHRlcm5cIikmJnRoaXMuX3N0eWxlQ2hhbmdlcy5wdXNoKHt0eXBlOmMuUEFJTlRFUl9DSEFOR0VELGRhdGE6e2xheWVyOmkuaWQscGFpbnQ6aS5wYWludCxpc0RhdGFEcml2ZW46aS5pc1BhaW50ZXJEYXRhRHJpdmVuKCl9fSl9dGhpcy5yZXF1ZXN0VXBkYXRlKCl9KSldKX1kZXRhY2goKXt0aGlzLl9zdG9wKCksdGhpcy5jb250YWluZXIucmVtb3ZlQWxsQ2hpbGRyZW4oKSx0aGlzLl92ZWN0b3JUaWxlQ29udGFpbmVyPXModGhpcy5fdmVjdG9yVGlsZUNvbnRhaW5lciksdGhpcy5fdGlsZUhhbmRsZXI9cyh0aGlzLl90aWxlSGFuZGxlcil9dmlld0NoYW5nZSgpe3RoaXMucmVxdWVzdFVwZGF0ZSgpfW1vdmVFbmQoKXt0aGlzLnJlcXVlc3RVcGRhdGUoKX1zdXBwb3J0c1NwYXRpYWxSZWZlcmVuY2UoZSl7cmV0dXJuIHkodGhpcy5sYXllci50aWxlSW5mbz8uc3BhdGlhbFJlZmVyZW5jZSxlKX1jYW5SZXN1bWUoKXtsZXQgZT1zdXBlci5jYW5SZXN1bWUoKTtjb25zdHtjdXJyZW50U3R5bGVJbmZvOnR9PXRoaXMubGF5ZXI7aWYoZSYmdD8ubGF5ZXJEZWZpbml0aW9uKXtjb25zdCBpPXRoaXMudmlldy5zY2FsZSx7bWluU2NhbGU6cyxtYXhTY2FsZTpyfT10LmxheWVyRGVmaW5pdGlvbjt0Py5sYXllckRlZmluaXRpb24mJihzJiZzPGkmJihlPSExKSxyJiZyPmkmJihlPSExKSl9cmV0dXJuIGV9aXNVcGRhdGluZygpe3JldHVybiB0aGlzLmZhZGluZ31hY3F1aXJlVGlsZShlKXtjb25zdCB0PXRoaXMuX2NyZWF0ZVZlY3RvclRpbGUoZSk7cmV0dXJuIHRoaXMuX3VwZGF0aW5nSGFuZGxlcy5hZGRQcm9taXNlKHRoaXMuX2ZldGNoUXVldWUucHVzaCh0LmtleSkudGhlbigoZT0+dGhpcy5fcGFyc2VRdWV1ZS5wdXNoKHtrZXk6dC5rZXksZGF0YTplfSkpKS50aGVuKChlPT57dC5vbmNlKFwiYXR0YWNoXCIsKCgpPT50aGlzLnJlcXVlc3RVcGRhdGUoKSkpLHQuc2V0RGF0YShlKSx0aGlzLnJlcXVlc3RVcGRhdGUoKX0pKS5jYXRjaCgoZT0+e3IoZSl8fGkuZ2V0TG9nZ2VyKHRoaXMpLmVycm9yKGUpfSkpKSx0fXJlbGVhc2VUaWxlKGUpe2NvbnN0IHQ9ZS5rZXkuaWQ7dGhpcy5fZmV0Y2hRdWV1ZS5hYm9ydCh0KSx0aGlzLl9wYXJzZVF1ZXVlLmFib3J0KHQpLHRoaXMucmVxdWVzdFVwZGF0ZSgpfWFzeW5jIGRvUmVmcmVzaCgpe2lmKCF0aGlzLmF0dGFjaGVkKXJldHVybjtpZih0aGlzLnN1c3BlbmRlZClyZXR1cm4gdGhpcy5fdGlsZU1hbmFnZXIuY2xlYXIoKSx2b2lkIHRoaXMucmVxdWVzdFVwZGF0ZSgpO3RoaXMuX2lzVGlsZUhhbmRsZXJSZWFkeT0hMSx0aGlzLl9wYXVzZVF1ZXVlcygpLHRoaXMuX2NsZWFyUXVldWVzKCksdGhpcy5fdGlsZU1hbmFnZXIuY2xlYXJDYWNoZSgpLHRoaXMuX3Jlc3VtZVF1ZXVlcygpO2NvbnN0IGU9dGhpcy5fdmVjdG9yVGlsZUNvbnRhaW5lci5jaGlsZHJlbix0PVtdO3RyeXtmb3IoY29uc3QgaSBvZiBlKXtjb25zdCBlPXRoaXMuX3VwZGF0aW5nSGFuZGxlcy5hZGRQcm9taXNlKHRoaXMuX2ZldGNoUXVldWUucHVzaChpLmtleSkudGhlbigoZT0+dGhpcy5fcGFyc2VRdWV1ZS5wdXNoKHtrZXk6aS5rZXksZGF0YTplfSkpKS50aGVuKChlPT5pLnNldERhdGEoZSkpKS5maW5hbGx5KCgoKT0+aS5mZWF0dXJlSW5kZXg9bnVsbCkpKTt0LnB1c2goZSl9YXdhaXQgUHJvbWlzZS5hbGwodCl9Y2F0Y2gocyl7aS5nZXRMb2dnZXIodGhpcykuZXJyb3IoXCJlcnJvciByZWZyZXNoaW5nIHZlY3Rvci10aWxlcyBsYXllci12aWV3XCIscyksdGhpcy5fcmVzdW1lUXVldWVzKCksdGhpcy5faXNUaWxlSGFuZGxlclJlYWR5PSEwfXRoaXMuX2lzVGlsZUhhbmRsZXJSZWFkeT0hMCx0aGlzLnJlcXVlc3RVcGRhdGUoKX1fc3RhcnQoKXtpZih0aGlzLl9zdG9wKCksdGhpcy5fdGlsZU1hbmFnZXI9bmV3IF8oe2FjcXVpcmVUaWxlOmU9PnRoaXMuYWNxdWlyZVRpbGUoZSkscmVsZWFzZVRpbGU6ZT0+dGhpcy5yZWxlYXNlVGlsZShlKSx0aWxlSW5mb1ZpZXc6dGhpcy5fdGlsZUluZm9WaWV3fSx0aGlzLl92ZWN0b3JUaWxlQ29udGFpbmVyKSwhdGhpcy5sYXllci5jdXJyZW50U3R5bGVJbmZvKXJldHVybjtjb25zdCBlPW5ldyBBYm9ydENvbnRyb2xsZXIsdD10aGlzLl90aWxlSGFuZGxlci5zdGFydCh7c2lnbmFsOmUuc2lnbmFsfSkudGhlbigoKCk9Pnt0aGlzLl9mZXRjaFF1ZXVlPW5ldyB2KHt0aWxlSW5mb1ZpZXc6dGhpcy5fdGlsZUluZm9WaWV3LHByb2Nlc3M6KGUsdCk9PnRoaXMuX2dldFRpbGVEYXRhKGUsdCksY29uY3VycmVuY3k6MTUsc2NoZWR1bGVyOnRoaXMuc2NoZWR1bGVyLHByaW9yaXR5OkkuTUFQVklFV19GRVRDSF9RVUVVRX0pLHRoaXMuX3BhcnNlUXVldWU9bmV3IHYoe3RpbGVJbmZvVmlldzp0aGlzLl90aWxlSW5mb1ZpZXcscHJvY2VzczooZSx0KT0+dGhpcy5fcGFyc2VUaWxlRGF0YShlLHQpLGNvbmN1cnJlbmN5Ojgsc2NoZWR1bGVyOnRoaXMuc2NoZWR1bGVyLHByaW9yaXR5OkkuTUFQVklFV19WRUNUT1JfVElMRV9QQVJTSU5HX1FVRVVFfSksdGhpcy5yZXF1ZXN0VXBkYXRlKCksdGhpcy5faXNUaWxlSGFuZGxlclJlYWR5PSEwfSkpO3RoaXMuX3RpbGVIYW5kbGVyLnNwcml0ZU1vc2FpYy50aGVuKChlPT57dGhpcy5fdmVjdG9yVGlsZUNvbnRhaW5lci5zZXRTdHlsZVJlc291cmNlcyhlLHRoaXMuX3RpbGVIYW5kbGVyLmdseXBoTW9zYWljLHRoaXMuX3N0eWxlUmVwb3NpdG9yeSx0aGlzLl90aWxlSW5mb1ZpZXcpLHRoaXMucmVxdWVzdFVwZGF0ZSgpfSkpLHRoaXMuX3RpbGVIYW5kbGVyQWJvcnRDb250cm9sbGVyPWUsdGhpcy5fdGlsZUhhbmRsZXJQcm9taXNlPXR9X3N0b3AoKXtpZighdGhpcy5fdGlsZUhhbmRsZXJBYm9ydENvbnRyb2xsZXJ8fCF0aGlzLl92ZWN0b3JUaWxlQ29udGFpbmVyKXJldHVybjtjb25zdCBlPXRoaXMuX3RpbGVIYW5kbGVyQWJvcnRDb250cm9sbGVyO2UmJmUuYWJvcnQoKSx0aGlzLl90aWxlSGFuZGxlclByb21pc2U9bnVsbCx0aGlzLl9pc1RpbGVIYW5kbGVyUmVhZHk9ITEsdGhpcy5fZmV0Y2hRdWV1ZT1zKHRoaXMuX2ZldGNoUXVldWUpLHRoaXMuX3BhcnNlUXVldWU9cyh0aGlzLl9wYXJzZVF1ZXVlKSx0aGlzLl90aWxlTWFuYWdlcj1zKHRoaXMuX3RpbGVNYW5hZ2VyKSx0aGlzLl92ZWN0b3JUaWxlQ29udGFpbmVyLnJlbW92ZUFsbENoaWxkcmVuKCl9YXN5bmMgX2dldFRpbGVEYXRhKGUsdCl7cmV0dXJuIHRoaXMuX3RpbGVIYW5kbGVyLmZldGNoVGlsZURhdGEoZSx0KX1hc3luYyBfcGFyc2VUaWxlRGF0YShlLHQpe3JldHVybiB0aGlzLl90aWxlSGFuZGxlci5wYXJzZVRpbGVEYXRhKGUsdCl9YXN5bmMgX2FwcGx5U3R5bGVDaGFuZ2VzKCl7dGhpcy5faXNUaWxlSGFuZGxlclJlYWR5PSExLHRoaXMuX3BhdXNlUXVldWVzKCksdGhpcy5fY2xlYXJRdWV1ZXMoKSx0aGlzLl90aWxlTWFuYWdlci5jbGVhckNhY2hlKCk7Y29uc3QgZT10aGlzLl9zdHlsZUNoYW5nZXM7dHJ5e2F3YWl0IHRoaXMuX3RpbGVIYW5kbGVyLnVwZGF0ZVN0eWxlKGUpfWNhdGNoKGwpe2kuZ2V0TG9nZ2VyKHRoaXMpLmVycm9yKFwiZXJyb3IgYXBwbHlpbmcgdmVjdG9yLXRpbGVzIHN0eWxlIHVwZGF0ZVwiLGwubWVzc2FnZSksdGhpcy5fcmVzdW1lUXVldWVzKCksdGhpcy5faXNUaWxlSGFuZGxlclJlYWR5PSEwfWNvbnN0IHQ9dGhpcy5fc3R5bGVSZXBvc2l0b3J5LHM9bmV3IFNldDtlLmZvckVhY2goKGU9PntpZihlLnR5cGUhPT1jLkxBWUVSX1JFTU9WRUQpcmV0dXJuO2NvbnN0IGk9ZS5kYXRhLHI9dC5nZXRMYXllckJ5SWQoaS5sYXllcik7ciYmcy5hZGQoci51aWQpfSkpO2NvbnN0IHI9bmV3IFNldDtlLmZvckVhY2goKGU9PntsZXQgaTtzd2l0Y2goZS50eXBlKXtjYXNlIGMuUEFJTlRFUl9DSEFOR0VEOnQuc2V0UGFpbnRQcm9wZXJ0aWVzKGUuZGF0YS5sYXllcixlLmRhdGEucGFpbnQpLGk9ZS5kYXRhLmxheWVyO2JyZWFrO2Nhc2UgYy5MQVlPVVRfQ0hBTkdFRDp0LnNldExheW91dFByb3BlcnRpZXMoZS5kYXRhLmxheWVyLGUuZGF0YS5sYXlvdXQpLGk9ZS5kYXRhLmxheWVyO2JyZWFrO2Nhc2UgYy5MQVlFUl9SRU1PVkVEOnJldHVybiB2b2lkIHQuZGVsZXRlU3R5bGVMYXllcihlLmRhdGEubGF5ZXIpO2Nhc2UgYy5MQVlFUl9DSEFOR0VEOnQuc2V0U3R5bGVMYXllcihlLmRhdGEubGF5ZXIsZS5kYXRhLmluZGV4KSxpPWUuZGF0YS5sYXllci5pZDticmVhaztjYXNlIGMuU1BSSVRFU19DSEFOR0VEOnRoaXMuX3ZlY3RvclRpbGVDb250YWluZXIuc2V0U3ByaXRlTW9zYWljKHRoaXMuX3RpbGVIYW5kbGVyLnNldFNwcml0ZVNvdXJjZShlLmRhdGEuc3ByaXRlU291cmNlKSl9aWYoaSl7Y29uc3QgZT10LmdldExheWVyQnlJZChpKTtlJiZyLmFkZChlLnVpZCl9fSkpO2NvbnN0IGE9dGhpcy5fdmVjdG9yVGlsZUNvbnRhaW5lci5jaGlsZHJlbjtpZihzLnNpemU+MCl7Y29uc3QgZT1BcnJheS5mcm9tKHMpO3RoaXMuX3ZlY3RvclRpbGVDb250YWluZXIuZGVsZXRlU3R5bGVMYXllcnMoZSk7Zm9yKGNvbnN0IHQgb2YgYSl0LmRlbGV0ZUxheWVyRGF0YShlKX1pZih0aGlzLl9yZXN1bWVRdWV1ZXMoKSxyLnNpemU+MCl7Y29uc3QgZT1BcnJheS5mcm9tKHIpLHQ9W107Zm9yKGNvbnN0IGkgb2YgYSl7Y29uc3Qgcz10aGlzLl91cGRhdGluZ0hhbmRsZXMuYWRkUHJvbWlzZSh0aGlzLl9mZXRjaFF1ZXVlLnB1c2goaS5rZXkpLnRoZW4oKHQ9PnRoaXMuX3BhcnNlUXVldWUucHVzaCh7a2V5Omkua2V5LGRhdGE6dCxzdHlsZUxheWVyVUlEczplfSkpKS50aGVuKChlPT5pLnNldERhdGEoZSkpKS5maW5hbGx5KCgoKT0+aS5mZWF0dXJlSW5kZXg9bnVsbCkpKTt0LnB1c2gocyl9YXdhaXQgUHJvbWlzZS5hbGwodCl9dGhpcy5fc3R5bGVDaGFuZ2VzPVtdLHRoaXMuX2lzVGlsZUhhbmRsZXJSZWFkeT0hMCx0aGlzLnJlcXVlc3RVcGRhdGUoKX1hc3luYyBfbG9hZFN0eWxlKCl7Y29uc3R7c3R5bGU6ZX09dGhpcy5sYXllci5jdXJyZW50U3R5bGVJbmZvLGk9dChlKTt0aGlzLl9pc1RpbGVIYW5kbGVyUmVhZHk9ITEsdGhpcy5fcGF1c2VRdWV1ZXMoKSx0aGlzLl9jbGVhclF1ZXVlcygpLHRoaXMuX3N0eWxlUmVwb3NpdG9yeT1uZXcgVChpKSx0aGlzLl92ZWN0b3JUaWxlQ29udGFpbmVyLmRlc3Ryb3koKSx0aGlzLl90aWxlTWFuYWdlci5jbGVhcigpLHRoaXMuX3RpbGVIYW5kbGVyQWJvcnRDb250cm9sbGVyLmFib3J0KCksdGhpcy5fdGlsZUhhbmRsZXJBYm9ydENvbnRyb2xsZXI9bmV3IEFib3J0Q29udHJvbGxlcjtjb25zdHtzaWduYWw6c309dGhpcy5fdGlsZUhhbmRsZXJBYm9ydENvbnRyb2xsZXI7dHJ5e3RoaXMuX3RpbGVIYW5kbGVyUHJvbWlzZT10aGlzLl90aWxlSGFuZGxlci5zZXRTdHlsZSh0aGlzLl9zdHlsZVJlcG9zaXRvcnksaSx0aGlzLmxheWVyLnRpbGVJbmZvLmxvZHMubGVuZ3RoLTEpLGF3YWl0IHRoaXMuX3RpbGVIYW5kbGVyUHJvbWlzZX1jYXRjaChuKXtpZighcihuKSl0aHJvdyBufWlmKHMuYWJvcnRlZClyZXR1cm4gdGhpcy5fcmVzdW1lUXVldWVzKCksdGhpcy5faXNUaWxlSGFuZGxlclJlYWR5PSEwLHRoaXMuX3N0eWVDaGFuZ2VkPSExLHRoaXMuX3Nwcml0ZVNvdXJjZUNoYW5nZWQ9ITEsdm9pZCB0aGlzLnJlcXVlc3RVcGRhdGUoKTtjb25zdCBhPWF3YWl0IHRoaXMuX3RpbGVIYW5kbGVyLnNwcml0ZU1vc2FpYyxsPXRoaXMuX3ZlY3RvclRpbGVDb250YWluZXI7dGhpcy5fdGlsZUluZm9WaWV3PW5ldyBSKHRoaXMubGF5ZXIudGlsZUluZm8sdGhpcy5sYXllci5mdWxsRXh0ZW50KSxsLnNldFN0eWxlUmVzb3VyY2VzKGEsdGhpcy5fdGlsZUhhbmRsZXIuZ2x5cGhNb3NhaWMsdGhpcy5fc3R5bGVSZXBvc2l0b3J5LHRoaXMuX3RpbGVJbmZvVmlldyksdGhpcy5fdGlsZU1hbmFnZXI9bmV3IF8oe2FjcXVpcmVUaWxlOmU9PnRoaXMuYWNxdWlyZVRpbGUoZSkscmVsZWFzZVRpbGU6ZT0+dGhpcy5yZWxlYXNlVGlsZShlKSx0aWxlSW5mb1ZpZXc6dGhpcy5fdGlsZUluZm9WaWV3fSx0aGlzLl92ZWN0b3JUaWxlQ29udGFpbmVyKSx0aGlzLl9yZXN1bWVRdWV1ZXMoKSx0aGlzLl9pc1RpbGVIYW5kbGVyUmVhZHk9ITAsdGhpcy5yZXF1ZXN0VXBkYXRlKCksdGhpcy5fc3R5ZUNoYW5nZWQ9ITEsdGhpcy5fc3ByaXRlU291cmNlQ2hhbmdlZD0hMX1fY3JlYXRlVmVjdG9yVGlsZShlKXtjb25zdCB0PXRoaXMuX3RpbGVJbmZvVmlldy5nZXRUaWxlQm91bmRzKHUoKSxlKSxpPXRoaXMuX3RpbGVJbmZvVmlldy5nZXRUaWxlUmVzb2x1dGlvbihlLmxldmVsKTtyZXR1cm4gbmV3IHAoZSxpLHRbMF0sdFszXSw1MTIsNTEyLHRoaXMuX3N0eWxlUmVwb3NpdG9yeSl9YXN5bmMgX3F1ZXJ5VGlsZShlLHQsaSxzLHIsYSl7aWYoMD09PXIubGF5ZXJEYXRhLnNpemUpcmV0dXJuO2NvbnN0IGw9dGhpcy5fZW5zdXJlVGlsZUluZGV4KHIpLG49dGhpcy5fdGlsZUluZm9WaWV3LmdldFRpbGVCb3VuZHModSgpLHIua2V5LCEwKSxvPUQqUCooKHQueC1uWzBdKS8oblsyXS1uWzBdKSksaD1EKlAqKDEtKHQueS1uWzFdKS8oblszXS1uWzFdKSkseT1hd2FpdCBsLnF1ZXJ5QXR0cmlidXRlcyhvLGgsaSxzLGEpO2Zvcihjb25zdCB1IG9mIHkpdS5ncmFwaGljLmdlb21ldHJ5PXRoaXMuX3RpbGVUb01hcFBvaW50KHUudGlsZVBvaW50LHIudHJhbnNmb3Jtcy50aWxlVW5pdHNUb1BpeGVscyksZS5wdXNoKHt0eXBlOlwiZ3JhcGhpY1wiLGxheWVyOnRoaXMubGF5ZXIsZ3JhcGhpYzp1LmdyYXBoaWMsbWFwUG9pbnQ6dC5jbG9uZSgpfSk7ZS5zb3J0KCgoZSx0KT0+dC5ncmFwaGljLm9yaWdpbi5sYXllckluZGV4LWUuZ3JhcGhpYy5vcmlnaW4ubGF5ZXJJbmRleCkpfV90aWxlVG9NYXBQb2ludChlLHQpe2lmKCFlKXJldHVybiBudWxsO2NvbnN0IGk9ZVswXSp0WzBdK2VbMV0qdFszXSt0WzZdLHM9ZVswXSp0WzFdK2VbMV0qdFs0XSt0WzddLHI9dGhpcy52aWV3LnN0YXRlLGE9WzAsMF07cmV0dXJuIHIudG9NYXAoYSxbaSxzXSksbmV3IGgoe3g6YVswXSx5OmFbMV0sc3BhdGlhbFJlZmVyZW5jZTpyLnNwYXRpYWxSZWZlcmVuY2V9KX1fZW5zdXJlVGlsZUluZGV4KGUpe2xldCB0PWUuZmVhdHVyZUluZGV4O3JldHVybiB0fHwodD1nLmNyZWF0ZShlLmtleSxlLmxheWVyRGF0YSx0aGlzLl9zdHlsZVJlcG9zaXRvcnksdGhpcy5fdGlsZUhhbmRsZXIsdGhpcy5sYXllciksZS5mZWF0dXJlSW5kZXg9dCksdH1fcGF1c2VRdWV1ZXMoKXt0aGlzLl9mZXRjaFF1ZXVlLnBhdXNlKCksdGhpcy5fcGFyc2VRdWV1ZS5wYXVzZSgpfV9yZXN1bWVRdWV1ZXMoKXt0aGlzLl9mZXRjaFF1ZXVlLnJlc3VtZSgpLHRoaXMuX3BhcnNlUXVldWUucmVzdW1lKCl9X2NsZWFyUXVldWVzKCl7dGhpcy5fZmV0Y2hRdWV1ZS5jbGVhcigpLHRoaXMuX3BhcnNlUXVldWUuY2xlYXIoKX19O2Z1bmN0aW9uIEUoZSl7aWYobnVsbD09ZSlyZXR1cm4gMDtzd2l0Y2goZS50eXBlKXtjYXNlXCJwYXJ0aWFsXCI6cmV0dXJuIE9iamVjdC5rZXlzKGUuZGlmZikubGVuZ3RoO2Nhc2VcImNvbXBsZXRlXCI6cmV0dXJuIE1hdGgubWF4KE9iamVjdC5rZXlzKGUub2xkVmFsdWUpLmxlbmd0aCxPYmplY3Qua2V5cyhlLm5ld1ZhbHVlKS5sZW5ndGgpO2Nhc2VcImNvbGxlY3Rpb25cIjpyZXR1cm4gT2JqZWN0LmtleXMoZS5hZGRlZCkubGVuZ3RoK09iamVjdC5rZXlzKGUuY2hhbmdlZCkubGVuZ3RoK09iamVjdC5rZXlzKGUucmVtb3ZlZCkubGVuZ3RofX1lKFthKCldLFEucHJvdG90eXBlLFwiX2lzVGlsZUhhbmRsZXJSZWFkeVwiLHZvaWQgMCksUT1lKFtsKFwiZXNyaS52aWV3cy4yZC5sYXllcnMuVmVjdG9yVGlsZUxheWVyVmlldzJEXCIpXSxRKTtjb25zdCBBPVE7ZXhwb3J0e0EgYXMgZGVmYXVsdH07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4zMy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e18gYXMgcn1mcm9tXCIuLi8uLi9jaHVua3MvdHNsaWIuZXM2LmpzXCI7aW1wb3J0IGUgZnJvbVwiLi4vLi4vY29yZS9Mb2dnZXIuanNcIjtpbXBvcnR7aXNBYm9ydEVycm9yIGFzIHN9ZnJvbVwiLi4vLi4vY29yZS9wcm9taXNlVXRpbHMuanNcIjtpbXBvcnR7b24gYXMgb31mcm9tXCIuLi8uLi9jb3JlL3JlYWN0aXZlVXRpbHMuanNcIjtpbXBvcnRcIi4uLy4uL2NvcmUvaGFzLmpzXCI7aW1wb3J0XCIuLi8uLi9jb3JlL1JhbmRvbUxDRy5qc1wiO2ltcG9ydFwiLi4vLi4vY29yZS9FcnJvci5qc1wiO2ltcG9ydHtzdWJjbGFzcyBhcyB0fWZyb21cIi4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvc3ViY2xhc3MuanNcIjtjb25zdCBpPWk9PntsZXQgYT1jbGFzcyBleHRlbmRzIGl7aW5pdGlhbGl6ZSgpe3RoaXMuYWRkSGFuZGxlcyhvKCgoKT0+dGhpcy5sYXllciksXCJyZWZyZXNoXCIsKHI9Pnt0aGlzLmRvUmVmcmVzaChyLmRhdGFDaGFuZ2VkKS5jYXRjaCgocj0+e3Mocil8fGUuZ2V0TG9nZ2VyKHRoaXMpLmVycm9yKHIpfSkpfSkpLFwiUmVmcmVzaGFibGVMYXllclZpZXdcIil9fTtyZXR1cm4gYT1yKFt0KFwiZXNyaS52aWV3cy5sYXllcnMuUmVmcmVzaGFibGVMYXllclZpZXdcIildLGEpLGF9O2V4cG9ydHtpIGFzIGRlZmF1bHR9O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9