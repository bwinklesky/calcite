export const __webpack_id__ = "vendors-node_modules_esri_calcite-components_dist_components_calcite-switch_index_js";
export const __webpack_ids__ = ["vendors-node_modules_esri_calcite-components_dist_components_calcite-switch_index_js"];
export const __webpack_modules__ = {

/***/ "./node_modules/@esri/calcite-components/dist/chunks/InternalLabel.js":
/*!****************************************************************************!*\
  !*** ./node_modules/@esri/calcite-components/dist/chunks/InternalLabel.js ***!
  \****************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   I: () => (/* binding */ InternalLabel)
/* harmony export */ });
/* harmony import */ var lit_html__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lit-html */ "./node_modules/lit-html/development/lit-html.js");
/* harmony import */ var _arcgis_lumina__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @arcgis/lumina */ "./node_modules/@arcgis/lumina/dist/index.js");
/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
v3.3.3 */


const CSS = {
  alignmentCenter: "internal-label-alignment--center",
  alignmentEnd: "internal-label-alignment--end",
  container: "internal-label--container",
  requiredIndicator: "internal-label-required--indicator",
  spacingBottom: "internal-label-spacing--bottom",
  spacingInlineEnd: "internal-label-spacing-inline--end",
  spacingInlineStart: "internal-label-spacing-inline--start",
  text: "internal-label--text"
};
const InternalLabel = ({ alignmentCenter, bottomSpacingDisabled, labelText, onClick, required, spacingInlineEnd, spacingInlineStart, tooltipText }) => (0,lit_html__WEBPACK_IMPORTED_MODULE_0__.html)`<div class=${(0,_arcgis_lumina__WEBPACK_IMPORTED_MODULE_1__.safeClassMap)({
  [CSS.alignmentCenter]: alignmentCenter,
  [CSS.alignmentEnd]: !alignmentCenter,
  [CSS.container]: true,
  [CSS.spacingBottom]: !bottomSpacingDisabled,
  [CSS.spacingInlineEnd]: spacingInlineEnd,
  [CSS.spacingInlineStart]: spacingInlineStart
})} @click=${onClick}><div class=${(0,_arcgis_lumina__WEBPACK_IMPORTED_MODULE_1__.safeClassMap)(CSS.text)}>${labelText}${required && (0,lit_html__WEBPACK_IMPORTED_MODULE_0__.html)`<span aria-hidden=true class=${(0,_arcgis_lumina__WEBPACK_IMPORTED_MODULE_1__.safeClassMap)(CSS.requiredIndicator)} title=${tooltipText ?? lit_html__WEBPACK_IMPORTED_MODULE_0__.nothing}>*</span>` || ""}</div><slot name=label-content></slot></div>`;



/***/ }),

/***/ "./node_modules/@esri/calcite-components/dist/chunks/key.js":
/*!******************************************************************!*\
  !*** ./node_modules/@esri/calcite-components/dist/chunks/key.js ***!
  \******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   i: () => (/* binding */ isActivationKey),
/* harmony export */   n: () => (/* binding */ numberKeys)
/* harmony export */ });
/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
v3.3.3 */
function isActivationKey(key) {
  return key === "Enter" || key === " ";
}
const numberKeys = ["0", "1", "2", "3", "4", "5", "6", "7", "8", "9"];



/***/ }),

/***/ "./node_modules/@esri/calcite-components/dist/chunks/label.js":
/*!********************************************************************!*\
  !*** ./node_modules/@esri/calcite-components/dist/chunks/label.js ***!
  \********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   a: () => (/* binding */ associateExplicitLabelToUnlabeledComponent),
/* harmony export */   b: () => (/* binding */ labelDisconnectedEvent),
/* harmony export */   c: () => (/* binding */ connectLabel),
/* harmony export */   d: () => (/* binding */ disconnectLabel),
/* harmony export */   g: () => (/* binding */ getLabelText),
/* harmony export */   l: () => (/* binding */ labelConnectedEvent)
/* harmony export */ });
/* harmony import */ var _dom_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./dom.js */ "./node_modules/@esri/calcite-components/dist/chunks/dom.js");
/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
v3.3.3 */

const labelClickEvent = "calciteInternalLabelClick";
const labelConnectedEvent = "calciteInternalLabelConnected";
const labelDisconnectedEvent = "calciteInternalLabelDisconnected";
const labelTagName = "calcite-label";
const labelToLabelables = /* @__PURE__ */ new WeakMap();
const onLabelClickMap = /* @__PURE__ */ new WeakMap();
const onLabelConnectedMap = /* @__PURE__ */ new WeakMap();
const onLabelDisconnectedMap = /* @__PURE__ */ new WeakMap();
const unlabeledComponents = /* @__PURE__ */ new Set();
const findLabelForComponent = (componentEl) => {
  const { id } = componentEl;
  const forLabel = id && (0,_dom_js__WEBPACK_IMPORTED_MODULE_0__.q)(componentEl, { selector: `${labelTagName}[for="${id}"]` });
  if (forLabel) {
    return forLabel;
  }
  const parentLabel = (0,_dom_js__WEBPACK_IMPORTED_MODULE_0__.l)(componentEl, labelTagName);
  if (!parentLabel || // labelable components within other custom elements are not considered labelable
  hasAncestorCustomElements(parentLabel, componentEl)) {
    return null;
  }
  return parentLabel;
};
function hasAncestorCustomElements(label, componentEl) {
  let traversedElements;
  const customElementAncestorCheckEventType = "custom-element-ancestor-check";
  const listener = (event) => {
    event.stopImmediatePropagation();
    const composedPath = event.composedPath();
    traversedElements = composedPath.slice(composedPath.indexOf(componentEl), composedPath.indexOf(label));
  };
  label.addEventListener(customElementAncestorCheckEventType, listener, { once: true });
  componentEl.dispatchEvent(new CustomEvent(customElementAncestorCheckEventType, { composed: true, bubbles: true }));
  label.removeEventListener(customElementAncestorCheckEventType, listener);
  const ancestorCustomElements = traversedElements.filter((el) => el !== componentEl && el !== label).filter((el) => el.tagName?.includes("-"));
  return ancestorCustomElements.length > 0;
}
function connectLabel(component) {
  if (!component) {
    return;
  }
  const labelEl = findLabelForComponent(component.el);
  if (onLabelClickMap.has(labelEl) && labelEl === component.labelEl || !labelEl && unlabeledComponents.has(component)) {
    return;
  }
  const boundOnLabelDisconnected = onLabelDisconnected.bind(component);
  if (labelEl) {
    component.labelEl = labelEl;
    const labelables = labelToLabelables.get(labelEl) || [];
    labelables.push(component);
    labelToLabelables.set(labelEl, labelables.sort(sortByDOMOrder));
    if (!onLabelClickMap.has(component.labelEl)) {
      onLabelClickMap.set(component.labelEl, onLabelClick);
      component.labelEl.addEventListener(labelClickEvent, onLabelClick);
    }
    unlabeledComponents.delete(component);
    document.removeEventListener(labelConnectedEvent, onLabelConnectedMap.get(component));
    onLabelDisconnectedMap.set(component, boundOnLabelDisconnected);
    document.addEventListener(labelDisconnectedEvent, boundOnLabelDisconnected);
  } else if (!unlabeledComponents.has(component)) {
    boundOnLabelDisconnected();
    document.removeEventListener(labelDisconnectedEvent, onLabelDisconnectedMap.get(component));
  }
}
function disconnectLabel(component) {
  if (!component) {
    return;
  }
  unlabeledComponents.delete(component);
  document.removeEventListener(labelConnectedEvent, onLabelConnectedMap.get(component));
  document.removeEventListener(labelDisconnectedEvent, onLabelDisconnectedMap.get(component));
  onLabelConnectedMap.delete(component);
  onLabelDisconnectedMap.delete(component);
  if (!component.labelEl) {
    return;
  }
  const labelables = labelToLabelables.get(component.labelEl);
  if (labelables.length === 1) {
    component.labelEl.removeEventListener(labelClickEvent, onLabelClickMap.get(component.labelEl));
    onLabelClickMap.delete(component.labelEl);
  }
  labelToLabelables.set(
    component.labelEl,
    labelables.filter((labelable) => labelable !== component).sort(sortByDOMOrder)
  );
  component.labelEl = null;
}
function sortByDOMOrder(a, b) {
  return (0,_dom_js__WEBPACK_IMPORTED_MODULE_0__.m)(a.el, b.el) ? -1 : 1;
}
function getLabelText(component) {
  return component.label || component.labelEl?.textContent?.trim() || "";
}
function onLabelClick(event) {
  const labelClickTarget = event.detail.sourceEvent.target;
  const labelables = labelToLabelables.get(this);
  const clickedLabelable = labelables.find((labelable) => labelable.el === labelClickTarget);
  const labelableChildClicked = labelables.includes(clickedLabelable);
  if (labelableChildClicked) {
    return;
  }
  const firstLabelable = labelables[0];
  if (firstLabelable.disabled) {
    return;
  }
  firstLabelable.onLabelClick(event);
}
function onLabelConnected() {
  if (unlabeledComponents.has(this)) {
    connectLabel(this);
  }
}
function onLabelDisconnected() {
  unlabeledComponents.add(this);
  const boundOnLabelConnected = onLabelConnectedMap.get(this) || onLabelConnected.bind(this);
  onLabelConnectedMap.set(this, boundOnLabelConnected);
  document.addEventListener(labelConnectedEvent, boundOnLabelConnected);
}
async function associateExplicitLabelToUnlabeledComponent(label) {
  await label.componentOnReady();
  const alreadyLabeled = labelToLabelables.has(label);
  if (alreadyLabeled) {
    return;
  }
  const forComponentEl = label.ownerDocument?.getElementById(label.for);
  if (!forComponentEl) {
    return;
  }
  requestAnimationFrame(() => {
    for (const labelable of unlabeledComponents) {
      if (labelable.el === forComponentEl) {
        connectLabel(labelable);
        break;
      }
    }
  });
}



/***/ }),

/***/ "./node_modules/@esri/calcite-components/dist/components/calcite-switch/customElement.js":
/*!***********************************************************************************************!*\
  !*** ./node_modules/@esri/calcite-components/dist/components/calcite-switch/customElement.js ***!
  \***********************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Switch: () => (/* binding */ Switch)
/* harmony export */ });
/* harmony import */ var _chunks_runtime_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../chunks/runtime.js */ "./node_modules/@esri/calcite-components/dist/chunks/runtime.js");
/* harmony import */ var lit__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lit */ "./node_modules/lit/index.js");
/* harmony import */ var _arcgis_lumina__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @arcgis/lumina */ "./node_modules/@arcgis/lumina/dist/index.js");
/* harmony import */ var lit_html_directives_ref_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lit-html/directives/ref.js */ "./node_modules/lit-html/development/directives/ref.js");
/* harmony import */ var _chunks_form_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../chunks/form.js */ "./node_modules/@esri/calcite-components/dist/chunks/form.js");
/* harmony import */ var _chunks_interactive_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../chunks/interactive.js */ "./node_modules/@esri/calcite-components/dist/chunks/interactive.js");
/* harmony import */ var _chunks_key_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../chunks/key.js */ "./node_modules/@esri/calcite-components/dist/chunks/key.js");
/* harmony import */ var _chunks_label_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../chunks/label.js */ "./node_modules/@esri/calcite-components/dist/chunks/label.js");
/* harmony import */ var _chunks_InternalLabel_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../chunks/InternalLabel.js */ "./node_modules/@esri/calcite-components/dist/chunks/InternalLabel.js");
/* harmony import */ var _chunks_useSetFocus_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../chunks/useSetFocus.js */ "./node_modules/@esri/calcite-components/dist/chunks/useSetFocus.js");
/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
v3.3.3 */










const CSS = {
  container: "container",
  track: "track",
  handle: "handle"
};
const styles = (0,lit__WEBPACK_IMPORTED_MODULE_1__.css)`:host{--calcite-internal-color-focus: var( --calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)) )}:host([disabled]){cursor:default;-webkit-user-select:none;user-select:none;opacity:var(--calcite-opacity-disabled)}:host([disabled]) *,:host([disabled]) ::slotted(*){pointer-events:none}:host([scale=s]) .container{block-size:.75rem}:host([scale=s]) .track{block-size:.75rem;inline-size:1.5rem}:host([scale=s]) .handle{block-size:.5rem;inline-size:.5rem}:host([scale=m]) .container{block-size:1rem}:host([scale=m]) .track{block-size:1rem;inline-size:2rem}:host([scale=m]) .handle{block-size:.75rem;inline-size:.75rem}:host([scale=l]) .container{block-size:1.5rem}:host([scale=l]) .track{block-size:1.5rem;inline-size:3rem}:host([scale=l]) .handle{block-size:1.25rem;inline-size:1.25rem}:host{position:relative;display:inline-block;inline-size:auto;cursor:pointer;-webkit-user-select:none;user-select:none;vertical-align:middle;tap-highlight-color:transparent}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}.interaction-container{display:contents}.container{outline-width:0px;display:flex}.track{pointer-events:none;position:relative;box-sizing:border-box;display:inline-block;vertical-align:top;outline-color:transparent;border-radius:var(--calcite-switch-corner-radius, 9999px);border-color:var(--calcite-switch-border-color);background-color:var(--calcite-switch-background-color, var(--calcite-color-border-input))}.container:focus .track{outline:var(--calcite-border-width-md) solid var(--calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)));outline:var(--calcite-border-width-md) solid var(--calcite-internal-color-focus);outline-offset:calc(var(--calcite-spacing-base) * calc(1 - (2*clamp(0,var(--calcite-offset-invert-focus),1))))}.container:hover .track{background-color:var(--calcite-switch-background-color-hover, var(--calcite-color-text-3))}.handle{pointer-events:none;position:absolute;display:block;transition-property:all;transition-duration:var(--calcite-animation-timing);transition-timing-function:cubic-bezier(.4,0,.2,1);inset-block-start:var(--calcite-spacing-base);inset-inline:var(--calcite-spacing-base) auto;background-color:var(--calcite-switch-handle-background-color, var(--calcite-color-foreground-1));border-color:var(--calcite-switch-handle-border-color);border-radius:var(--calcite-switch-corner-radius, 9999px);box-shadow:var(--calcite-switch-handle-shadow)}:host([checked]) .track{background-color:var(--calcite-switch-background-color, var(--calcite-color-brand))}:host([checked]) .handle{inset-inline:auto var(--calcite-spacing-base)}:host([checked]):host(:hover:not([disabled])) .track{background-color:var(--calcite-switch-background-color-hover, var(--calcite-color-brand-hover))}@media (forced-colors: active){:host([checked]) .track{background-color:canvasText}}.internal-label-alignment--center{align-items:center}.internal-label-alignment--end{align-items:end}.internal-label--container{display:flex;justify-content:space-between;color:var(--calcite-color-text-1)}.internal-label-required--indicator{font-weight:var(--calcite-font-weight-medium);color:var(--calcite-color-status-danger);padding-inline:var(--calcite-spacing-base)}.internal-label-required--indicator:hover{cursor:help}.internal-label--text{line-height:1}:host([scale=s]) .internal-label-spacing--bottom{margin-block-end:var(--calcite-spacing-xxs)}:host([scale=s]) .internal-label-spacing-inline--end{margin-inline-end:var(--calcite-spacing-sm)}:host([scale=s]) .internal-label-spacing-inline--start{margin-inline-start:var(--calcite-spacing-sm)}:host([scale=s]) .internal-label--text{font-size:var(--calcite-font-size--2)}:host([scale=m]) .internal-label-spacing--bottom{margin-block-end:var(--calcite-spacing-sm)}:host([scale=m]) .internal-label-spacing-inline--end{margin-inline-end:var(--calcite-spacing-sm)}:host([scale=m]) .internal-label-spacing-inline--start{margin-inline-start:var(--calcite-spacing-sm)}:host([scale=m]) .internal-label--text{font-size:var(--calcite-font-size--1)}:host([scale=l]) .internal-label-spacing--bottom{margin-block-end:var(--calcite-spacing-sm)}:host([scale=l]) .internal-label-spacing-inline--end{margin-inline-end:var(--calcite-spacing-md)}:host([scale=l]) .internal-label-spacing-inline--start{margin-inline-start:var(--calcite-spacing-md)}:host([scale=l]) .internal-label--text{font-size:var(--calcite-font-size-0)}::slotted(input[slot=hidden-form-input]){margin:0!important;opacity:0!important;outline:none!important;padding:0!important;position:absolute!important;inset:0!important;transform:none!important;-webkit-appearance:none!important;z-index:-1!important}:host([hidden]){display:none}[hidden]{display:none}`;
class Switch extends _arcgis_lumina__WEBPACK_IMPORTED_MODULE_2__.LitElement {
  constructor() {
    super();
    this.switchRef = (0,lit_html_directives_ref_js__WEBPACK_IMPORTED_MODULE_3__.createRef)();
    this.focusSetter = (0,_chunks_useSetFocus_js__WEBPACK_IMPORTED_MODULE_9__.u)()(this);
    this.checked = false;
    this.disabled = false;
    this.scale = "m";
    this.calciteSwitchChange = (0,_arcgis_lumina__WEBPACK_IMPORTED_MODULE_2__.createEvent)({ cancelable: false });
    this.listen("click", this.clickHandler);
    this.listen("keydown", this.keyDownHandler);
  }
  static {
    this.properties = { checked: [7, {}, { reflect: true, type: Boolean }], disabled: [7, {}, { reflect: true, type: Boolean }], form: [3, {}, { reflect: true }], label: 1, labelTextEnd: 1, labelTextStart: 1, name: [3, {}, { reflect: true }], scale: [3, {}, { reflect: true }], value: 1 };
  }
  static {
    this.styles = styles;
  }
  async setFocus(options) {
    return this.focusSetter(() => this.switchRef.value, options);
  }
  connectedCallback() {
    super.connectedCallback();
    (0,_chunks_label_js__WEBPACK_IMPORTED_MODULE_7__.c)(this);
    (0,_chunks_form_js__WEBPACK_IMPORTED_MODULE_4__.c)(this);
  }
  updated() {
    (0,_chunks_interactive_js__WEBPACK_IMPORTED_MODULE_5__.u)(this);
  }
  disconnectedCallback() {
    super.disconnectedCallback();
    (0,_chunks_label_js__WEBPACK_IMPORTED_MODULE_7__.d)(this);
    (0,_chunks_form_js__WEBPACK_IMPORTED_MODULE_4__.d)(this);
  }
  syncHiddenFormInput(input) {
    input.type = "checkbox";
  }
  keyDownHandler(event) {
    if (!this.disabled && (0,_chunks_key_js__WEBPACK_IMPORTED_MODULE_6__.i)(event.key)) {
      this.toggle();
      event.preventDefault();
    }
  }
  onLabelClick() {
    if (!this.disabled) {
      this.toggle();
      this.setFocus();
    }
  }
  toggle() {
    this.checked = !this.checked;
    this.calciteSwitchChange.emit();
  }
  clickHandler() {
    if (this.disabled) {
      return;
    }
    this.toggle();
  }
  render() {
    return (0,_chunks_interactive_js__WEBPACK_IMPORTED_MODULE_5__.I)({ disabled: this.disabled, children: (0,lit__WEBPACK_IMPORTED_MODULE_1__.html)`<div .ariaChecked=${this.checked} .ariaLabel=${(0,_chunks_label_js__WEBPACK_IMPORTED_MODULE_7__.g)(this)} class=${(0,_arcgis_lumina__WEBPACK_IMPORTED_MODULE_2__.safeClassMap)(CSS.container)} role=switch tabindex=0 ${(0,lit_html_directives_ref_js__WEBPACK_IMPORTED_MODULE_3__.ref)(this.switchRef)}>${this.labelTextStart && (0,_chunks_InternalLabel_js__WEBPACK_IMPORTED_MODULE_8__.I)({ alignmentCenter: true, bottomSpacingDisabled: true, labelText: this.labelTextStart, spacingInlineEnd: true }) || ""}<div class=${(0,_arcgis_lumina__WEBPACK_IMPORTED_MODULE_2__.safeClassMap)(CSS.track)}><div class=${(0,_arcgis_lumina__WEBPACK_IMPORTED_MODULE_2__.safeClassMap)(CSS.handle)}></div></div>${this.labelTextEnd && (0,_chunks_InternalLabel_js__WEBPACK_IMPORTED_MODULE_8__.I)({ alignmentCenter: true, bottomSpacingDisabled: true, labelText: this.labelTextEnd, spacingInlineStart: true }) || ""}${(0,_chunks_form_js__WEBPACK_IMPORTED_MODULE_4__.H)({ component: this })}</div>` });
  }
}
(0,_chunks_runtime_js__WEBPACK_IMPORTED_MODULE_0__.c)("calcite-switch", Switch);



/***/ }),

/***/ "./node_modules/@esri/calcite-components/dist/components/calcite-switch/index.js":
/*!***************************************************************************************!*\
  !*** ./node_modules/@esri/calcite-components/dist/components/calcite-switch/index.js ***!
  \***************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Switch: () => (/* reexport safe */ _customElement_js__WEBPACK_IMPORTED_MODULE_0__.Switch)
/* harmony export */ });
/* harmony import */ var _customElement_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./customElement.js */ "./node_modules/@esri/calcite-components/dist/components/calcite-switch/customElement.js");


/***/ })

};

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmVuZG9ycy1ub2RlX21vZHVsZXNfZXNyaV9jYWxjaXRlLWNvbXBvbmVudHNfZGlzdF9jb21wb25lbnRzX2NhbGNpdGUtc3dpdGNoX2luZGV4X2pzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDeUM7QUFDSztBQUM5QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5Qix5SEFBeUgsS0FBSyw4Q0FBSSxjQUFjLDREQUFZO0FBQ3JMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsR0FBRyxTQUFTLFFBQVEsY0FBYyw0REFBWSxXQUFXLEdBQUcsVUFBVSxFQUFFLFlBQVksOENBQUksZ0NBQWdDLDREQUFZLHlCQUF5QixRQUFRLGVBQWUsNkNBQU8sQ0FBQyxpQkFBaUI7QUFHNU07Ozs7Ozs7Ozs7Ozs7Ozs7QUN6QkY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFJRTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDVkY7QUFDQTtBQUNBO0FBQ3lHO0FBQ3pHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVSxLQUFLO0FBQ2YseUJBQXlCLDBDQUFpQixnQkFBZ0IsYUFBYSxhQUFhLFFBQVEsR0FBRyxLQUFLO0FBQ3BHO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQiwwQ0FBaUM7QUFDdkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBFQUEwRSxZQUFZO0FBQ3RGLG1GQUFtRiwrQkFBK0I7QUFDbEg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNB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O0FBQ2hCLElBQUksa0RBQVc7QUFDZjtBQUNBO0FBQ0EsSUFBSSx5REFBcUI7QUFDekI7QUFDQTtBQUNBO0FBQ0EsSUFBSSxtREFBZTtBQUNuQixJQUFJLGtEQUFjO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEIsaURBQWU7QUFDekM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyx5REFBb0IsR0FBRyxtQ0FBbUMseUNBQUkscUJBQXFCLGNBQWMsYUFBYSxtREFBWSxRQUFRLFFBQVEsNERBQVksaUJBQWlCLHlCQUF5QiwrREFBRyxpQkFBaUIsR0FBRyx1QkFBdUIsMkRBQWEsR0FBRyw0R0FBNEcsUUFBUSxhQUFhLDREQUFZLFlBQVksY0FBYyw0REFBWSxhQUFhLGVBQWUscUJBQXFCLDJEQUFhLEdBQUcsNEdBQTRHLFFBQVEsRUFBRSxrREFBbUIsR0FBRyxpQkFBaUIsRUFBRSxTQUFTO0FBQ3JxQjtBQUNBO0FBQ0EscURBQWE7QUFHWCIsInNvdXJjZXMiOlsid2VicGFjazovL3ByZWNpc2lvbmZhcm1zLy4vbm9kZV9tb2R1bGVzL0Blc3JpL2NhbGNpdGUtY29tcG9uZW50cy9kaXN0L2NodW5rcy9JbnRlcm5hbExhYmVsLmpzIiwid2VicGFjazovL3ByZWNpc2lvbmZhcm1zLy4vbm9kZV9tb2R1bGVzL0Blc3JpL2NhbGNpdGUtY29tcG9uZW50cy9kaXN0L2NodW5rcy9rZXkuanMiLCJ3ZWJwYWNrOi8vcHJlY2lzaW9uZmFybXMvLi9ub2RlX21vZHVsZXMvQGVzcmkvY2FsY2l0ZS1jb21wb25lbnRzL2Rpc3QvY2h1bmtzL2xhYmVsLmpzIiwid2VicGFjazovL3ByZWNpc2lvbmZhcm1zLy4vbm9kZV9tb2R1bGVzL0Blc3JpL2NhbGNpdGUtY29tcG9uZW50cy9kaXN0L2NvbXBvbmVudHMvY2FsY2l0ZS1zd2l0Y2gvY3VzdG9tRWxlbWVudC5qcyIsIndlYnBhY2s6Ly9wcmVjaXNpb25mYXJtcy8uL25vZGVfbW9kdWxlcy9AZXNyaS9jYWxjaXRlLWNvbXBvbmVudHMvZGlzdC9jb21wb25lbnRzL2NhbGNpdGUtc3dpdGNoL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qISBBbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9Fc3JpL2NhbGNpdGUtZGVzaWduLXN5c3RlbS9ibG9iL2Rldi9MSUNFTlNFLm1kIGZvciBkZXRhaWxzLlxudjMuMy4zICovXG5pbXBvcnQgeyBub3RoaW5nLCBodG1sIH0gZnJvbSBcImxpdC1odG1sXCI7XG5pbXBvcnQgeyBzYWZlQ2xhc3NNYXAgfSBmcm9tIFwiQGFyY2dpcy9sdW1pbmFcIjtcbmNvbnN0IENTUyA9IHtcbiAgYWxpZ25tZW50Q2VudGVyOiBcImludGVybmFsLWxhYmVsLWFsaWdubWVudC0tY2VudGVyXCIsXG4gIGFsaWdubWVudEVuZDogXCJpbnRlcm5hbC1sYWJlbC1hbGlnbm1lbnQtLWVuZFwiLFxuICBjb250YWluZXI6IFwiaW50ZXJuYWwtbGFiZWwtLWNvbnRhaW5lclwiLFxuICByZXF1aXJlZEluZGljYXRvcjogXCJpbnRlcm5hbC1sYWJlbC1yZXF1aXJlZC0taW5kaWNhdG9yXCIsXG4gIHNwYWNpbmdCb3R0b206IFwiaW50ZXJuYWwtbGFiZWwtc3BhY2luZy0tYm90dG9tXCIsXG4gIHNwYWNpbmdJbmxpbmVFbmQ6IFwiaW50ZXJuYWwtbGFiZWwtc3BhY2luZy1pbmxpbmUtLWVuZFwiLFxuICBzcGFjaW5nSW5saW5lU3RhcnQ6IFwiaW50ZXJuYWwtbGFiZWwtc3BhY2luZy1pbmxpbmUtLXN0YXJ0XCIsXG4gIHRleHQ6IFwiaW50ZXJuYWwtbGFiZWwtLXRleHRcIlxufTtcbmNvbnN0IEludGVybmFsTGFiZWwgPSAoeyBhbGlnbm1lbnRDZW50ZXIsIGJvdHRvbVNwYWNpbmdEaXNhYmxlZCwgbGFiZWxUZXh0LCBvbkNsaWNrLCByZXF1aXJlZCwgc3BhY2luZ0lubGluZUVuZCwgc3BhY2luZ0lubGluZVN0YXJ0LCB0b29sdGlwVGV4dCB9KSA9PiBodG1sYDxkaXYgY2xhc3M9JHtzYWZlQ2xhc3NNYXAoe1xuICBbQ1NTLmFsaWdubWVudENlbnRlcl06IGFsaWdubWVudENlbnRlcixcbiAgW0NTUy5hbGlnbm1lbnRFbmRdOiAhYWxpZ25tZW50Q2VudGVyLFxuICBbQ1NTLmNvbnRhaW5lcl06IHRydWUsXG4gIFtDU1Muc3BhY2luZ0JvdHRvbV06ICFib3R0b21TcGFjaW5nRGlzYWJsZWQsXG4gIFtDU1Muc3BhY2luZ0lubGluZUVuZF06IHNwYWNpbmdJbmxpbmVFbmQsXG4gIFtDU1Muc3BhY2luZ0lubGluZVN0YXJ0XTogc3BhY2luZ0lubGluZVN0YXJ0XG59KX0gQGNsaWNrPSR7b25DbGlja30+PGRpdiBjbGFzcz0ke3NhZmVDbGFzc01hcChDU1MudGV4dCl9PiR7bGFiZWxUZXh0fSR7cmVxdWlyZWQgJiYgaHRtbGA8c3BhbiBhcmlhLWhpZGRlbj10cnVlIGNsYXNzPSR7c2FmZUNsYXNzTWFwKENTUy5yZXF1aXJlZEluZGljYXRvcil9IHRpdGxlPSR7dG9vbHRpcFRleHQgPz8gbm90aGluZ30+Kjwvc3Bhbj5gIHx8IFwiXCJ9PC9kaXY+PHNsb3QgbmFtZT1sYWJlbC1jb250ZW50Pjwvc2xvdD48L2Rpdj5gO1xuZXhwb3J0IHtcbiAgSW50ZXJuYWxMYWJlbCBhcyBJXG59O1xuIiwiLyohIEFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9naXRodWIuY29tL0VzcmkvY2FsY2l0ZS1kZXNpZ24tc3lzdGVtL2Jsb2IvZGV2L0xJQ0VOU0UubWQgZm9yIGRldGFpbHMuXG52My4zLjMgKi9cbmZ1bmN0aW9uIGlzQWN0aXZhdGlvbktleShrZXkpIHtcbiAgcmV0dXJuIGtleSA9PT0gXCJFbnRlclwiIHx8IGtleSA9PT0gXCIgXCI7XG59XG5jb25zdCBudW1iZXJLZXlzID0gW1wiMFwiLCBcIjFcIiwgXCIyXCIsIFwiM1wiLCBcIjRcIiwgXCI1XCIsIFwiNlwiLCBcIjdcIiwgXCI4XCIsIFwiOVwiXTtcbmV4cG9ydCB7XG4gIGlzQWN0aXZhdGlvbktleSBhcyBpLFxuICBudW1iZXJLZXlzIGFzIG5cbn07XG4iLCIvKiEgQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2dpdGh1Yi5jb20vRXNyaS9jYWxjaXRlLWRlc2lnbi1zeXN0ZW0vYmxvYi9kZXYvTElDRU5TRS5tZCBmb3IgZGV0YWlscy5cbnYzLjMuMyAqL1xuaW1wb3J0IHsgcSBhcyBxdWVyeUVsZW1lbnRSb290cywgbCBhcyBjbG9zZXN0RWxlbWVudENyb3NzU2hhZG93Qm91bmRhcnksIG0gYXMgaXNCZWZvcmUgfSBmcm9tIFwiLi9kb20uanNcIjtcbmNvbnN0IGxhYmVsQ2xpY2tFdmVudCA9IFwiY2FsY2l0ZUludGVybmFsTGFiZWxDbGlja1wiO1xuY29uc3QgbGFiZWxDb25uZWN0ZWRFdmVudCA9IFwiY2FsY2l0ZUludGVybmFsTGFiZWxDb25uZWN0ZWRcIjtcbmNvbnN0IGxhYmVsRGlzY29ubmVjdGVkRXZlbnQgPSBcImNhbGNpdGVJbnRlcm5hbExhYmVsRGlzY29ubmVjdGVkXCI7XG5jb25zdCBsYWJlbFRhZ05hbWUgPSBcImNhbGNpdGUtbGFiZWxcIjtcbmNvbnN0IGxhYmVsVG9MYWJlbGFibGVzID0gLyogQF9fUFVSRV9fICovIG5ldyBXZWFrTWFwKCk7XG5jb25zdCBvbkxhYmVsQ2xpY2tNYXAgPSAvKiBAX19QVVJFX18gKi8gbmV3IFdlYWtNYXAoKTtcbmNvbnN0IG9uTGFiZWxDb25uZWN0ZWRNYXAgPSAvKiBAX19QVVJFX18gKi8gbmV3IFdlYWtNYXAoKTtcbmNvbnN0IG9uTGFiZWxEaXNjb25uZWN0ZWRNYXAgPSAvKiBAX19QVVJFX18gKi8gbmV3IFdlYWtNYXAoKTtcbmNvbnN0IHVubGFiZWxlZENvbXBvbmVudHMgPSAvKiBAX19QVVJFX18gKi8gbmV3IFNldCgpO1xuY29uc3QgZmluZExhYmVsRm9yQ29tcG9uZW50ID0gKGNvbXBvbmVudEVsKSA9PiB7XG4gIGNvbnN0IHsgaWQgfSA9IGNvbXBvbmVudEVsO1xuICBjb25zdCBmb3JMYWJlbCA9IGlkICYmIHF1ZXJ5RWxlbWVudFJvb3RzKGNvbXBvbmVudEVsLCB7IHNlbGVjdG9yOiBgJHtsYWJlbFRhZ05hbWV9W2Zvcj1cIiR7aWR9XCJdYCB9KTtcbiAgaWYgKGZvckxhYmVsKSB7XG4gICAgcmV0dXJuIGZvckxhYmVsO1xuICB9XG4gIGNvbnN0IHBhcmVudExhYmVsID0gY2xvc2VzdEVsZW1lbnRDcm9zc1NoYWRvd0JvdW5kYXJ5KGNvbXBvbmVudEVsLCBsYWJlbFRhZ05hbWUpO1xuICBpZiAoIXBhcmVudExhYmVsIHx8IC8vIGxhYmVsYWJsZSBjb21wb25lbnRzIHdpdGhpbiBvdGhlciBjdXN0b20gZWxlbWVudHMgYXJlIG5vdCBjb25zaWRlcmVkIGxhYmVsYWJsZVxuICBoYXNBbmNlc3RvckN1c3RvbUVsZW1lbnRzKHBhcmVudExhYmVsLCBjb21wb25lbnRFbCkpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICByZXR1cm4gcGFyZW50TGFiZWw7XG59O1xuZnVuY3Rpb24gaGFzQW5jZXN0b3JDdXN0b21FbGVtZW50cyhsYWJlbCwgY29tcG9uZW50RWwpIHtcbiAgbGV0IHRyYXZlcnNlZEVsZW1lbnRzO1xuICBjb25zdCBjdXN0b21FbGVtZW50QW5jZXN0b3JDaGVja0V2ZW50VHlwZSA9IFwiY3VzdG9tLWVsZW1lbnQtYW5jZXN0b3ItY2hlY2tcIjtcbiAgY29uc3QgbGlzdGVuZXIgPSAoZXZlbnQpID0+IHtcbiAgICBldmVudC5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKTtcbiAgICBjb25zdCBjb21wb3NlZFBhdGggPSBldmVudC5jb21wb3NlZFBhdGgoKTtcbiAgICB0cmF2ZXJzZWRFbGVtZW50cyA9IGNvbXBvc2VkUGF0aC5zbGljZShjb21wb3NlZFBhdGguaW5kZXhPZihjb21wb25lbnRFbCksIGNvbXBvc2VkUGF0aC5pbmRleE9mKGxhYmVsKSk7XG4gIH07XG4gIGxhYmVsLmFkZEV2ZW50TGlzdGVuZXIoY3VzdG9tRWxlbWVudEFuY2VzdG9yQ2hlY2tFdmVudFR5cGUsIGxpc3RlbmVyLCB7IG9uY2U6IHRydWUgfSk7XG4gIGNvbXBvbmVudEVsLmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KGN1c3RvbUVsZW1lbnRBbmNlc3RvckNoZWNrRXZlbnRUeXBlLCB7IGNvbXBvc2VkOiB0cnVlLCBidWJibGVzOiB0cnVlIH0pKTtcbiAgbGFiZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcihjdXN0b21FbGVtZW50QW5jZXN0b3JDaGVja0V2ZW50VHlwZSwgbGlzdGVuZXIpO1xuICBjb25zdCBhbmNlc3RvckN1c3RvbUVsZW1lbnRzID0gdHJhdmVyc2VkRWxlbWVudHMuZmlsdGVyKChlbCkgPT4gZWwgIT09IGNvbXBvbmVudEVsICYmIGVsICE9PSBsYWJlbCkuZmlsdGVyKChlbCkgPT4gZWwudGFnTmFtZT8uaW5jbHVkZXMoXCItXCIpKTtcbiAgcmV0dXJuIGFuY2VzdG9yQ3VzdG9tRWxlbWVudHMubGVuZ3RoID4gMDtcbn1cbmZ1bmN0aW9uIGNvbm5lY3RMYWJlbChjb21wb25lbnQpIHtcbiAgaWYgKCFjb21wb25lbnQpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgY29uc3QgbGFiZWxFbCA9IGZpbmRMYWJlbEZvckNvbXBvbmVudChjb21wb25lbnQuZWwpO1xuICBpZiAob25MYWJlbENsaWNrTWFwLmhhcyhsYWJlbEVsKSAmJiBsYWJlbEVsID09PSBjb21wb25lbnQubGFiZWxFbCB8fCAhbGFiZWxFbCAmJiB1bmxhYmVsZWRDb21wb25lbnRzLmhhcyhjb21wb25lbnQpKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGNvbnN0IGJvdW5kT25MYWJlbERpc2Nvbm5lY3RlZCA9IG9uTGFiZWxEaXNjb25uZWN0ZWQuYmluZChjb21wb25lbnQpO1xuICBpZiAobGFiZWxFbCkge1xuICAgIGNvbXBvbmVudC5sYWJlbEVsID0gbGFiZWxFbDtcbiAgICBjb25zdCBsYWJlbGFibGVzID0gbGFiZWxUb0xhYmVsYWJsZXMuZ2V0KGxhYmVsRWwpIHx8IFtdO1xuICAgIGxhYmVsYWJsZXMucHVzaChjb21wb25lbnQpO1xuICAgIGxhYmVsVG9MYWJlbGFibGVzLnNldChsYWJlbEVsLCBsYWJlbGFibGVzLnNvcnQoc29ydEJ5RE9NT3JkZXIpKTtcbiAgICBpZiAoIW9uTGFiZWxDbGlja01hcC5oYXMoY29tcG9uZW50LmxhYmVsRWwpKSB7XG4gICAgICBvbkxhYmVsQ2xpY2tNYXAuc2V0KGNvbXBvbmVudC5sYWJlbEVsLCBvbkxhYmVsQ2xpY2spO1xuICAgICAgY29tcG9uZW50LmxhYmVsRWwuYWRkRXZlbnRMaXN0ZW5lcihsYWJlbENsaWNrRXZlbnQsIG9uTGFiZWxDbGljayk7XG4gICAgfVxuICAgIHVubGFiZWxlZENvbXBvbmVudHMuZGVsZXRlKGNvbXBvbmVudCk7XG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihsYWJlbENvbm5lY3RlZEV2ZW50LCBvbkxhYmVsQ29ubmVjdGVkTWFwLmdldChjb21wb25lbnQpKTtcbiAgICBvbkxhYmVsRGlzY29ubmVjdGVkTWFwLnNldChjb21wb25lbnQsIGJvdW5kT25MYWJlbERpc2Nvbm5lY3RlZCk7XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihsYWJlbERpc2Nvbm5lY3RlZEV2ZW50LCBib3VuZE9uTGFiZWxEaXNjb25uZWN0ZWQpO1xuICB9IGVsc2UgaWYgKCF1bmxhYmVsZWRDb21wb25lbnRzLmhhcyhjb21wb25lbnQpKSB7XG4gICAgYm91bmRPbkxhYmVsRGlzY29ubmVjdGVkKCk7XG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihsYWJlbERpc2Nvbm5lY3RlZEV2ZW50LCBvbkxhYmVsRGlzY29ubmVjdGVkTWFwLmdldChjb21wb25lbnQpKTtcbiAgfVxufVxuZnVuY3Rpb24gZGlzY29ubmVjdExhYmVsKGNvbXBvbmVudCkge1xuICBpZiAoIWNvbXBvbmVudCkge1xuICAgIHJldHVybjtcbiAgfVxuICB1bmxhYmVsZWRDb21wb25lbnRzLmRlbGV0ZShjb21wb25lbnQpO1xuICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKGxhYmVsQ29ubmVjdGVkRXZlbnQsIG9uTGFiZWxDb25uZWN0ZWRNYXAuZ2V0KGNvbXBvbmVudCkpO1xuICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKGxhYmVsRGlzY29ubmVjdGVkRXZlbnQsIG9uTGFiZWxEaXNjb25uZWN0ZWRNYXAuZ2V0KGNvbXBvbmVudCkpO1xuICBvbkxhYmVsQ29ubmVjdGVkTWFwLmRlbGV0ZShjb21wb25lbnQpO1xuICBvbkxhYmVsRGlzY29ubmVjdGVkTWFwLmRlbGV0ZShjb21wb25lbnQpO1xuICBpZiAoIWNvbXBvbmVudC5sYWJlbEVsKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGNvbnN0IGxhYmVsYWJsZXMgPSBsYWJlbFRvTGFiZWxhYmxlcy5nZXQoY29tcG9uZW50LmxhYmVsRWwpO1xuICBpZiAobGFiZWxhYmxlcy5sZW5ndGggPT09IDEpIHtcbiAgICBjb21wb25lbnQubGFiZWxFbC5yZW1vdmVFdmVudExpc3RlbmVyKGxhYmVsQ2xpY2tFdmVudCwgb25MYWJlbENsaWNrTWFwLmdldChjb21wb25lbnQubGFiZWxFbCkpO1xuICAgIG9uTGFiZWxDbGlja01hcC5kZWxldGUoY29tcG9uZW50LmxhYmVsRWwpO1xuICB9XG4gIGxhYmVsVG9MYWJlbGFibGVzLnNldChcbiAgICBjb21wb25lbnQubGFiZWxFbCxcbiAgICBsYWJlbGFibGVzLmZpbHRlcigobGFiZWxhYmxlKSA9PiBsYWJlbGFibGUgIT09IGNvbXBvbmVudCkuc29ydChzb3J0QnlET01PcmRlcilcbiAgKTtcbiAgY29tcG9uZW50LmxhYmVsRWwgPSBudWxsO1xufVxuZnVuY3Rpb24gc29ydEJ5RE9NT3JkZXIoYSwgYikge1xuICByZXR1cm4gaXNCZWZvcmUoYS5lbCwgYi5lbCkgPyAtMSA6IDE7XG59XG5mdW5jdGlvbiBnZXRMYWJlbFRleHQoY29tcG9uZW50KSB7XG4gIHJldHVybiBjb21wb25lbnQubGFiZWwgfHwgY29tcG9uZW50LmxhYmVsRWw/LnRleHRDb250ZW50Py50cmltKCkgfHwgXCJcIjtcbn1cbmZ1bmN0aW9uIG9uTGFiZWxDbGljayhldmVudCkge1xuICBjb25zdCBsYWJlbENsaWNrVGFyZ2V0ID0gZXZlbnQuZGV0YWlsLnNvdXJjZUV2ZW50LnRhcmdldDtcbiAgY29uc3QgbGFiZWxhYmxlcyA9IGxhYmVsVG9MYWJlbGFibGVzLmdldCh0aGlzKTtcbiAgY29uc3QgY2xpY2tlZExhYmVsYWJsZSA9IGxhYmVsYWJsZXMuZmluZCgobGFiZWxhYmxlKSA9PiBsYWJlbGFibGUuZWwgPT09IGxhYmVsQ2xpY2tUYXJnZXQpO1xuICBjb25zdCBsYWJlbGFibGVDaGlsZENsaWNrZWQgPSBsYWJlbGFibGVzLmluY2x1ZGVzKGNsaWNrZWRMYWJlbGFibGUpO1xuICBpZiAobGFiZWxhYmxlQ2hpbGRDbGlja2VkKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGNvbnN0IGZpcnN0TGFiZWxhYmxlID0gbGFiZWxhYmxlc1swXTtcbiAgaWYgKGZpcnN0TGFiZWxhYmxlLmRpc2FibGVkKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGZpcnN0TGFiZWxhYmxlLm9uTGFiZWxDbGljayhldmVudCk7XG59XG5mdW5jdGlvbiBvbkxhYmVsQ29ubmVjdGVkKCkge1xuICBpZiAodW5sYWJlbGVkQ29tcG9uZW50cy5oYXModGhpcykpIHtcbiAgICBjb25uZWN0TGFiZWwodGhpcyk7XG4gIH1cbn1cbmZ1bmN0aW9uIG9uTGFiZWxEaXNjb25uZWN0ZWQoKSB7XG4gIHVubGFiZWxlZENvbXBvbmVudHMuYWRkKHRoaXMpO1xuICBjb25zdCBib3VuZE9uTGFiZWxDb25uZWN0ZWQgPSBvbkxhYmVsQ29ubmVjdGVkTWFwLmdldCh0aGlzKSB8fCBvbkxhYmVsQ29ubmVjdGVkLmJpbmQodGhpcyk7XG4gIG9uTGFiZWxDb25uZWN0ZWRNYXAuc2V0KHRoaXMsIGJvdW5kT25MYWJlbENvbm5lY3RlZCk7XG4gIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIobGFiZWxDb25uZWN0ZWRFdmVudCwgYm91bmRPbkxhYmVsQ29ubmVjdGVkKTtcbn1cbmFzeW5jIGZ1bmN0aW9uIGFzc29jaWF0ZUV4cGxpY2l0TGFiZWxUb1VubGFiZWxlZENvbXBvbmVudChsYWJlbCkge1xuICBhd2FpdCBsYWJlbC5jb21wb25lbnRPblJlYWR5KCk7XG4gIGNvbnN0IGFscmVhZHlMYWJlbGVkID0gbGFiZWxUb0xhYmVsYWJsZXMuaGFzKGxhYmVsKTtcbiAgaWYgKGFscmVhZHlMYWJlbGVkKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGNvbnN0IGZvckNvbXBvbmVudEVsID0gbGFiZWwub3duZXJEb2N1bWVudD8uZ2V0RWxlbWVudEJ5SWQobGFiZWwuZm9yKTtcbiAgaWYgKCFmb3JDb21wb25lbnRFbCkge1xuICAgIHJldHVybjtcbiAgfVxuICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge1xuICAgIGZvciAoY29uc3QgbGFiZWxhYmxlIG9mIHVubGFiZWxlZENvbXBvbmVudHMpIHtcbiAgICAgIGlmIChsYWJlbGFibGUuZWwgPT09IGZvckNvbXBvbmVudEVsKSB7XG4gICAgICAgIGNvbm5lY3RMYWJlbChsYWJlbGFibGUpO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xufVxuZXhwb3J0IHtcbiAgYXNzb2NpYXRlRXhwbGljaXRMYWJlbFRvVW5sYWJlbGVkQ29tcG9uZW50IGFzIGEsXG4gIGxhYmVsRGlzY29ubmVjdGVkRXZlbnQgYXMgYixcbiAgY29ubmVjdExhYmVsIGFzIGMsXG4gIGRpc2Nvbm5lY3RMYWJlbCBhcyBkLFxuICBnZXRMYWJlbFRleHQgYXMgZyxcbiAgbGFiZWxDb25uZWN0ZWRFdmVudCBhcyBsXG59O1xuIiwiLyohIEFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9naXRodWIuY29tL0VzcmkvY2FsY2l0ZS1kZXNpZ24tc3lzdGVtL2Jsb2IvZGV2L0xJQ0VOU0UubWQgZm9yIGRldGFpbHMuXG52My4zLjMgKi9cbmltcG9ydCB7IGMgYXMgY3VzdG9tRWxlbWVudCB9IGZyb20gXCIuLi8uLi9jaHVua3MvcnVudGltZS5qc1wiO1xuaW1wb3J0IHsgY3NzLCBodG1sIH0gZnJvbSBcImxpdFwiO1xuaW1wb3J0IHsgTGl0RWxlbWVudCwgY3JlYXRlRXZlbnQsIHNhZmVDbGFzc01hcCB9IGZyb20gXCJAYXJjZ2lzL2x1bWluYVwiO1xuaW1wb3J0IHsgY3JlYXRlUmVmLCByZWYgfSBmcm9tIFwibGl0LWh0bWwvZGlyZWN0aXZlcy9yZWYuanNcIjtcbmltcG9ydCB7IGMgYXMgY29ubmVjdEZvcm0sIGQgYXMgZGlzY29ubmVjdEZvcm0sIEggYXMgSGlkZGVuRm9ybUlucHV0U2xvdCB9IGZyb20gXCIuLi8uLi9jaHVua3MvZm9ybS5qc1wiO1xuaW1wb3J0IHsgdSBhcyB1cGRhdGVIb3N0SW50ZXJhY3Rpb24sIEkgYXMgSW50ZXJhY3RpdmVDb250YWluZXIgfSBmcm9tIFwiLi4vLi4vY2h1bmtzL2ludGVyYWN0aXZlLmpzXCI7XG5pbXBvcnQgeyBpIGFzIGlzQWN0aXZhdGlvbktleSB9IGZyb20gXCIuLi8uLi9jaHVua3Mva2V5LmpzXCI7XG5pbXBvcnQgeyBjIGFzIGNvbm5lY3RMYWJlbCwgZCBhcyBkaXNjb25uZWN0TGFiZWwsIGcgYXMgZ2V0TGFiZWxUZXh0IH0gZnJvbSBcIi4uLy4uL2NodW5rcy9sYWJlbC5qc1wiO1xuaW1wb3J0IHsgSSBhcyBJbnRlcm5hbExhYmVsIH0gZnJvbSBcIi4uLy4uL2NodW5rcy9JbnRlcm5hbExhYmVsLmpzXCI7XG5pbXBvcnQgeyB1IGFzIHVzZVNldEZvY3VzIH0gZnJvbSBcIi4uLy4uL2NodW5rcy91c2VTZXRGb2N1cy5qc1wiO1xuY29uc3QgQ1NTID0ge1xuICBjb250YWluZXI6IFwiY29udGFpbmVyXCIsXG4gIHRyYWNrOiBcInRyYWNrXCIsXG4gIGhhbmRsZTogXCJoYW5kbGVcIlxufTtcbmNvbnN0IHN0eWxlcyA9IGNzc2A6aG9zdHstLWNhbGNpdGUtaW50ZXJuYWwtY29sb3ItZm9jdXM6IHZhciggLS1jYWxjaXRlLWNvbG9yLWZvY3VzLCB2YXIoLS1jYWxjaXRlLXVpLWZvY3VzLWNvbG9yLCB2YXIoLS1jYWxjaXRlLWNvbG9yLWJyYW5kKSkgKX06aG9zdChbZGlzYWJsZWRdKXtjdXJzb3I6ZGVmYXVsdDstd2Via2l0LXVzZXItc2VsZWN0Om5vbmU7dXNlci1zZWxlY3Q6bm9uZTtvcGFjaXR5OnZhcigtLWNhbGNpdGUtb3BhY2l0eS1kaXNhYmxlZCl9Omhvc3QoW2Rpc2FibGVkXSkgKiw6aG9zdChbZGlzYWJsZWRdKSA6OnNsb3R0ZWQoKil7cG9pbnRlci1ldmVudHM6bm9uZX06aG9zdChbc2NhbGU9c10pIC5jb250YWluZXJ7YmxvY2stc2l6ZTouNzVyZW19Omhvc3QoW3NjYWxlPXNdKSAudHJhY2t7YmxvY2stc2l6ZTouNzVyZW07aW5saW5lLXNpemU6MS41cmVtfTpob3N0KFtzY2FsZT1zXSkgLmhhbmRsZXtibG9jay1zaXplOi41cmVtO2lubGluZS1zaXplOi41cmVtfTpob3N0KFtzY2FsZT1tXSkgLmNvbnRhaW5lcntibG9jay1zaXplOjFyZW19Omhvc3QoW3NjYWxlPW1dKSAudHJhY2t7YmxvY2stc2l6ZToxcmVtO2lubGluZS1zaXplOjJyZW19Omhvc3QoW3NjYWxlPW1dKSAuaGFuZGxle2Jsb2NrLXNpemU6Ljc1cmVtO2lubGluZS1zaXplOi43NXJlbX06aG9zdChbc2NhbGU9bF0pIC5jb250YWluZXJ7YmxvY2stc2l6ZToxLjVyZW19Omhvc3QoW3NjYWxlPWxdKSAudHJhY2t7YmxvY2stc2l6ZToxLjVyZW07aW5saW5lLXNpemU6M3JlbX06aG9zdChbc2NhbGU9bF0pIC5oYW5kbGV7YmxvY2stc2l6ZToxLjI1cmVtO2lubGluZS1zaXplOjEuMjVyZW19Omhvc3R7cG9zaXRpb246cmVsYXRpdmU7ZGlzcGxheTppbmxpbmUtYmxvY2s7aW5saW5lLXNpemU6YXV0bztjdXJzb3I6cG9pbnRlcjstd2Via2l0LXVzZXItc2VsZWN0Om5vbmU7dXNlci1zZWxlY3Q6bm9uZTt2ZXJ0aWNhbC1hbGlnbjptaWRkbGU7dGFwLWhpZ2hsaWdodC1jb2xvcjp0cmFuc3BhcmVudH06aG9zdChbZGlzYWJsZWRdKSA6OnNsb3R0ZWQoW2NhbGNpdGUtaHlkcmF0ZWRdW2Rpc2FibGVkXSksOmhvc3QoW2Rpc2FibGVkXSkgW2NhbGNpdGUtaHlkcmF0ZWRdW2Rpc2FibGVkXXtvcGFjaXR5OjF9LmludGVyYWN0aW9uLWNvbnRhaW5lcntkaXNwbGF5OmNvbnRlbnRzfS5jb250YWluZXJ7b3V0bGluZS13aWR0aDowcHg7ZGlzcGxheTpmbGV4fS50cmFja3twb2ludGVyLWV2ZW50czpub25lO3Bvc2l0aW9uOnJlbGF0aXZlO2JveC1zaXppbmc6Ym9yZGVyLWJveDtkaXNwbGF5OmlubGluZS1ibG9jazt2ZXJ0aWNhbC1hbGlnbjp0b3A7b3V0bGluZS1jb2xvcjp0cmFuc3BhcmVudDtib3JkZXItcmFkaXVzOnZhcigtLWNhbGNpdGUtc3dpdGNoLWNvcm5lci1yYWRpdXMsIDk5OTlweCk7Ym9yZGVyLWNvbG9yOnZhcigtLWNhbGNpdGUtc3dpdGNoLWJvcmRlci1jb2xvcik7YmFja2dyb3VuZC1jb2xvcjp2YXIoLS1jYWxjaXRlLXN3aXRjaC1iYWNrZ3JvdW5kLWNvbG9yLCB2YXIoLS1jYWxjaXRlLWNvbG9yLWJvcmRlci1pbnB1dCkpfS5jb250YWluZXI6Zm9jdXMgLnRyYWNre291dGxpbmU6dmFyKC0tY2FsY2l0ZS1ib3JkZXItd2lkdGgtbWQpIHNvbGlkIHZhcigtLWNhbGNpdGUtY29sb3ItZm9jdXMsIHZhcigtLWNhbGNpdGUtdWktZm9jdXMtY29sb3IsIHZhcigtLWNhbGNpdGUtY29sb3ItYnJhbmQpKSk7b3V0bGluZTp2YXIoLS1jYWxjaXRlLWJvcmRlci13aWR0aC1tZCkgc29saWQgdmFyKC0tY2FsY2l0ZS1pbnRlcm5hbC1jb2xvci1mb2N1cyk7b3V0bGluZS1vZmZzZXQ6Y2FsYyh2YXIoLS1jYWxjaXRlLXNwYWNpbmctYmFzZSkgKiBjYWxjKDEgLSAoMipjbGFtcCgwLHZhcigtLWNhbGNpdGUtb2Zmc2V0LWludmVydC1mb2N1cyksMSkpKSl9LmNvbnRhaW5lcjpob3ZlciAudHJhY2t7YmFja2dyb3VuZC1jb2xvcjp2YXIoLS1jYWxjaXRlLXN3aXRjaC1iYWNrZ3JvdW5kLWNvbG9yLWhvdmVyLCB2YXIoLS1jYWxjaXRlLWNvbG9yLXRleHQtMykpfS5oYW5kbGV7cG9pbnRlci1ldmVudHM6bm9uZTtwb3NpdGlvbjphYnNvbHV0ZTtkaXNwbGF5OmJsb2NrO3RyYW5zaXRpb24tcHJvcGVydHk6YWxsO3RyYW5zaXRpb24tZHVyYXRpb246dmFyKC0tY2FsY2l0ZS1hbmltYXRpb24tdGltaW5nKTt0cmFuc2l0aW9uLXRpbWluZy1mdW5jdGlvbjpjdWJpYy1iZXppZXIoLjQsMCwuMiwxKTtpbnNldC1ibG9jay1zdGFydDp2YXIoLS1jYWxjaXRlLXNwYWNpbmctYmFzZSk7aW5zZXQtaW5saW5lOnZhcigtLWNhbGNpdGUtc3BhY2luZy1iYXNlKSBhdXRvO2JhY2tncm91bmQtY29sb3I6dmFyKC0tY2FsY2l0ZS1zd2l0Y2gtaGFuZGxlLWJhY2tncm91bmQtY29sb3IsIHZhcigtLWNhbGNpdGUtY29sb3ItZm9yZWdyb3VuZC0xKSk7Ym9yZGVyLWNvbG9yOnZhcigtLWNhbGNpdGUtc3dpdGNoLWhhbmRsZS1ib3JkZXItY29sb3IpO2JvcmRlci1yYWRpdXM6dmFyKC0tY2FsY2l0ZS1zd2l0Y2gtY29ybmVyLXJhZGl1cywgOTk5OXB4KTtib3gtc2hhZG93OnZhcigtLWNhbGNpdGUtc3dpdGNoLWhhbmRsZS1zaGFkb3cpfTpob3N0KFtjaGVja2VkXSkgLnRyYWNre2JhY2tncm91bmQtY29sb3I6dmFyKC0tY2FsY2l0ZS1zd2l0Y2gtYmFja2dyb3VuZC1jb2xvciwgdmFyKC0tY2FsY2l0ZS1jb2xvci1icmFuZCkpfTpob3N0KFtjaGVja2VkXSkgLmhhbmRsZXtpbnNldC1pbmxpbmU6YXV0byB2YXIoLS1jYWxjaXRlLXNwYWNpbmctYmFzZSl9Omhvc3QoW2NoZWNrZWRdKTpob3N0KDpob3Zlcjpub3QoW2Rpc2FibGVkXSkpIC50cmFja3tiYWNrZ3JvdW5kLWNvbG9yOnZhcigtLWNhbGNpdGUtc3dpdGNoLWJhY2tncm91bmQtY29sb3ItaG92ZXIsIHZhcigtLWNhbGNpdGUtY29sb3ItYnJhbmQtaG92ZXIpKX1AbWVkaWEgKGZvcmNlZC1jb2xvcnM6IGFjdGl2ZSl7Omhvc3QoW2NoZWNrZWRdKSAudHJhY2t7YmFja2dyb3VuZC1jb2xvcjpjYW52YXNUZXh0fX0uaW50ZXJuYWwtbGFiZWwtYWxpZ25tZW50LS1jZW50ZXJ7YWxpZ24taXRlbXM6Y2VudGVyfS5pbnRlcm5hbC1sYWJlbC1hbGlnbm1lbnQtLWVuZHthbGlnbi1pdGVtczplbmR9LmludGVybmFsLWxhYmVsLS1jb250YWluZXJ7ZGlzcGxheTpmbGV4O2p1c3RpZnktY29udGVudDpzcGFjZS1iZXR3ZWVuO2NvbG9yOnZhcigtLWNhbGNpdGUtY29sb3ItdGV4dC0xKX0uaW50ZXJuYWwtbGFiZWwtcmVxdWlyZWQtLWluZGljYXRvcntmb250LXdlaWdodDp2YXIoLS1jYWxjaXRlLWZvbnQtd2VpZ2h0LW1lZGl1bSk7Y29sb3I6dmFyKC0tY2FsY2l0ZS1jb2xvci1zdGF0dXMtZGFuZ2VyKTtwYWRkaW5nLWlubGluZTp2YXIoLS1jYWxjaXRlLXNwYWNpbmctYmFzZSl9LmludGVybmFsLWxhYmVsLXJlcXVpcmVkLS1pbmRpY2F0b3I6aG92ZXJ7Y3Vyc29yOmhlbHB9LmludGVybmFsLWxhYmVsLS10ZXh0e2xpbmUtaGVpZ2h0OjF9Omhvc3QoW3NjYWxlPXNdKSAuaW50ZXJuYWwtbGFiZWwtc3BhY2luZy0tYm90dG9te21hcmdpbi1ibG9jay1lbmQ6dmFyKC0tY2FsY2l0ZS1zcGFjaW5nLXh4cyl9Omhvc3QoW3NjYWxlPXNdKSAuaW50ZXJuYWwtbGFiZWwtc3BhY2luZy1pbmxpbmUtLWVuZHttYXJnaW4taW5saW5lLWVuZDp2YXIoLS1jYWxjaXRlLXNwYWNpbmctc20pfTpob3N0KFtzY2FsZT1zXSkgLmludGVybmFsLWxhYmVsLXNwYWNpbmctaW5saW5lLS1zdGFydHttYXJnaW4taW5saW5lLXN0YXJ0OnZhcigtLWNhbGNpdGUtc3BhY2luZy1zbSl9Omhvc3QoW3NjYWxlPXNdKSAuaW50ZXJuYWwtbGFiZWwtLXRleHR7Zm9udC1zaXplOnZhcigtLWNhbGNpdGUtZm9udC1zaXplLS0yKX06aG9zdChbc2NhbGU9bV0pIC5pbnRlcm5hbC1sYWJlbC1zcGFjaW5nLS1ib3R0b217bWFyZ2luLWJsb2NrLWVuZDp2YXIoLS1jYWxjaXRlLXNwYWNpbmctc20pfTpob3N0KFtzY2FsZT1tXSkgLmludGVybmFsLWxhYmVsLXNwYWNpbmctaW5saW5lLS1lbmR7bWFyZ2luLWlubGluZS1lbmQ6dmFyKC0tY2FsY2l0ZS1zcGFjaW5nLXNtKX06aG9zdChbc2NhbGU9bV0pIC5pbnRlcm5hbC1sYWJlbC1zcGFjaW5nLWlubGluZS0tc3RhcnR7bWFyZ2luLWlubGluZS1zdGFydDp2YXIoLS1jYWxjaXRlLXNwYWNpbmctc20pfTpob3N0KFtzY2FsZT1tXSkgLmludGVybmFsLWxhYmVsLS10ZXh0e2ZvbnQtc2l6ZTp2YXIoLS1jYWxjaXRlLWZvbnQtc2l6ZS0tMSl9Omhvc3QoW3NjYWxlPWxdKSAuaW50ZXJuYWwtbGFiZWwtc3BhY2luZy0tYm90dG9te21hcmdpbi1ibG9jay1lbmQ6dmFyKC0tY2FsY2l0ZS1zcGFjaW5nLXNtKX06aG9zdChbc2NhbGU9bF0pIC5pbnRlcm5hbC1sYWJlbC1zcGFjaW5nLWlubGluZS0tZW5ke21hcmdpbi1pbmxpbmUtZW5kOnZhcigtLWNhbGNpdGUtc3BhY2luZy1tZCl9Omhvc3QoW3NjYWxlPWxdKSAuaW50ZXJuYWwtbGFiZWwtc3BhY2luZy1pbmxpbmUtLXN0YXJ0e21hcmdpbi1pbmxpbmUtc3RhcnQ6dmFyKC0tY2FsY2l0ZS1zcGFjaW5nLW1kKX06aG9zdChbc2NhbGU9bF0pIC5pbnRlcm5hbC1sYWJlbC0tdGV4dHtmb250LXNpemU6dmFyKC0tY2FsY2l0ZS1mb250LXNpemUtMCl9OjpzbG90dGVkKGlucHV0W3Nsb3Q9aGlkZGVuLWZvcm0taW5wdXRdKXttYXJnaW46MCFpbXBvcnRhbnQ7b3BhY2l0eTowIWltcG9ydGFudDtvdXRsaW5lOm5vbmUhaW1wb3J0YW50O3BhZGRpbmc6MCFpbXBvcnRhbnQ7cG9zaXRpb246YWJzb2x1dGUhaW1wb3J0YW50O2luc2V0OjAhaW1wb3J0YW50O3RyYW5zZm9ybTpub25lIWltcG9ydGFudDstd2Via2l0LWFwcGVhcmFuY2U6bm9uZSFpbXBvcnRhbnQ7ei1pbmRleDotMSFpbXBvcnRhbnR9Omhvc3QoW2hpZGRlbl0pe2Rpc3BsYXk6bm9uZX1baGlkZGVuXXtkaXNwbGF5Om5vbmV9YDtcbmNsYXNzIFN3aXRjaCBleHRlbmRzIExpdEVsZW1lbnQge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMuc3dpdGNoUmVmID0gY3JlYXRlUmVmKCk7XG4gICAgdGhpcy5mb2N1c1NldHRlciA9IHVzZVNldEZvY3VzKCkodGhpcyk7XG4gICAgdGhpcy5jaGVja2VkID0gZmFsc2U7XG4gICAgdGhpcy5kaXNhYmxlZCA9IGZhbHNlO1xuICAgIHRoaXMuc2NhbGUgPSBcIm1cIjtcbiAgICB0aGlzLmNhbGNpdGVTd2l0Y2hDaGFuZ2UgPSBjcmVhdGVFdmVudCh7IGNhbmNlbGFibGU6IGZhbHNlIH0pO1xuICAgIHRoaXMubGlzdGVuKFwiY2xpY2tcIiwgdGhpcy5jbGlja0hhbmRsZXIpO1xuICAgIHRoaXMubGlzdGVuKFwia2V5ZG93blwiLCB0aGlzLmtleURvd25IYW5kbGVyKTtcbiAgfVxuICBzdGF0aWMge1xuICAgIHRoaXMucHJvcGVydGllcyA9IHsgY2hlY2tlZDogWzcsIHt9LCB7IHJlZmxlY3Q6IHRydWUsIHR5cGU6IEJvb2xlYW4gfV0sIGRpc2FibGVkOiBbNywge30sIHsgcmVmbGVjdDogdHJ1ZSwgdHlwZTogQm9vbGVhbiB9XSwgZm9ybTogWzMsIHt9LCB7IHJlZmxlY3Q6IHRydWUgfV0sIGxhYmVsOiAxLCBsYWJlbFRleHRFbmQ6IDEsIGxhYmVsVGV4dFN0YXJ0OiAxLCBuYW1lOiBbMywge30sIHsgcmVmbGVjdDogdHJ1ZSB9XSwgc2NhbGU6IFszLCB7fSwgeyByZWZsZWN0OiB0cnVlIH1dLCB2YWx1ZTogMSB9O1xuICB9XG4gIHN0YXRpYyB7XG4gICAgdGhpcy5zdHlsZXMgPSBzdHlsZXM7XG4gIH1cbiAgYXN5bmMgc2V0Rm9jdXMob3B0aW9ucykge1xuICAgIHJldHVybiB0aGlzLmZvY3VzU2V0dGVyKCgpID0+IHRoaXMuc3dpdGNoUmVmLnZhbHVlLCBvcHRpb25zKTtcbiAgfVxuICBjb25uZWN0ZWRDYWxsYmFjaygpIHtcbiAgICBzdXBlci5jb25uZWN0ZWRDYWxsYmFjaygpO1xuICAgIGNvbm5lY3RMYWJlbCh0aGlzKTtcbiAgICBjb25uZWN0Rm9ybSh0aGlzKTtcbiAgfVxuICB1cGRhdGVkKCkge1xuICAgIHVwZGF0ZUhvc3RJbnRlcmFjdGlvbih0aGlzKTtcbiAgfVxuICBkaXNjb25uZWN0ZWRDYWxsYmFjaygpIHtcbiAgICBzdXBlci5kaXNjb25uZWN0ZWRDYWxsYmFjaygpO1xuICAgIGRpc2Nvbm5lY3RMYWJlbCh0aGlzKTtcbiAgICBkaXNjb25uZWN0Rm9ybSh0aGlzKTtcbiAgfVxuICBzeW5jSGlkZGVuRm9ybUlucHV0KGlucHV0KSB7XG4gICAgaW5wdXQudHlwZSA9IFwiY2hlY2tib3hcIjtcbiAgfVxuICBrZXlEb3duSGFuZGxlcihldmVudCkge1xuICAgIGlmICghdGhpcy5kaXNhYmxlZCAmJiBpc0FjdGl2YXRpb25LZXkoZXZlbnQua2V5KSkge1xuICAgICAgdGhpcy50b2dnbGUoKTtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgfVxuICB9XG4gIG9uTGFiZWxDbGljaygpIHtcbiAgICBpZiAoIXRoaXMuZGlzYWJsZWQpIHtcbiAgICAgIHRoaXMudG9nZ2xlKCk7XG4gICAgICB0aGlzLnNldEZvY3VzKCk7XG4gICAgfVxuICB9XG4gIHRvZ2dsZSgpIHtcbiAgICB0aGlzLmNoZWNrZWQgPSAhdGhpcy5jaGVja2VkO1xuICAgIHRoaXMuY2FsY2l0ZVN3aXRjaENoYW5nZS5lbWl0KCk7XG4gIH1cbiAgY2xpY2tIYW5kbGVyKCkge1xuICAgIGlmICh0aGlzLmRpc2FibGVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMudG9nZ2xlKCk7XG4gIH1cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiBJbnRlcmFjdGl2ZUNvbnRhaW5lcih7IGRpc2FibGVkOiB0aGlzLmRpc2FibGVkLCBjaGlsZHJlbjogaHRtbGA8ZGl2IC5hcmlhQ2hlY2tlZD0ke3RoaXMuY2hlY2tlZH0gLmFyaWFMYWJlbD0ke2dldExhYmVsVGV4dCh0aGlzKX0gY2xhc3M9JHtzYWZlQ2xhc3NNYXAoQ1NTLmNvbnRhaW5lcil9IHJvbGU9c3dpdGNoIHRhYmluZGV4PTAgJHtyZWYodGhpcy5zd2l0Y2hSZWYpfT4ke3RoaXMubGFiZWxUZXh0U3RhcnQgJiYgSW50ZXJuYWxMYWJlbCh7IGFsaWdubWVudENlbnRlcjogdHJ1ZSwgYm90dG9tU3BhY2luZ0Rpc2FibGVkOiB0cnVlLCBsYWJlbFRleHQ6IHRoaXMubGFiZWxUZXh0U3RhcnQsIHNwYWNpbmdJbmxpbmVFbmQ6IHRydWUgfSkgfHwgXCJcIn08ZGl2IGNsYXNzPSR7c2FmZUNsYXNzTWFwKENTUy50cmFjayl9PjxkaXYgY2xhc3M9JHtzYWZlQ2xhc3NNYXAoQ1NTLmhhbmRsZSl9PjwvZGl2PjwvZGl2PiR7dGhpcy5sYWJlbFRleHRFbmQgJiYgSW50ZXJuYWxMYWJlbCh7IGFsaWdubWVudENlbnRlcjogdHJ1ZSwgYm90dG9tU3BhY2luZ0Rpc2FibGVkOiB0cnVlLCBsYWJlbFRleHQ6IHRoaXMubGFiZWxUZXh0RW5kLCBzcGFjaW5nSW5saW5lU3RhcnQ6IHRydWUgfSkgfHwgXCJcIn0ke0hpZGRlbkZvcm1JbnB1dFNsb3QoeyBjb21wb25lbnQ6IHRoaXMgfSl9PC9kaXY+YCB9KTtcbiAgfVxufVxuY3VzdG9tRWxlbWVudChcImNhbGNpdGUtc3dpdGNoXCIsIFN3aXRjaCk7XG5leHBvcnQge1xuICBTd2l0Y2hcbn07XG4iLCJleHBvcnQgKiBmcm9tIFwiLi9jdXN0b21FbGVtZW50LmpzXCI7Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9