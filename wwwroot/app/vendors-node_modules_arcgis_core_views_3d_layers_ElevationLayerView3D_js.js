export const __webpack_id__ = "vendors-node_modules_arcgis_core_views_3d_layers_ElevationLayerView3D_js";
export const __webpack_ids__ = ["vendors-node_modules_arcgis_core_views_3d_layers_ElevationLayerView3D_js"];
export const __webpack_modules__ = {

/***/ "./node_modules/@arcgis/core/views/3d/layers/ElevationLayerView3D.js":
/*!***************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/ElevationLayerView3D.js ***!
  \***************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ u)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/maybe.js */ "./node_modules/@arcgis/core/core/maybe.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_RandomLCG_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../core/RandomLCG.js */ "./node_modules/@arcgis/core/core/RandomLCG.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _layers_support_ElevationTileData_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../layers/support/ElevationTileData.js */ "./node_modules/@arcgis/core/layers/support/ElevationTileData.js");
/* harmony import */ var _layers_support_LercDecoder_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../layers/support/LercDecoder.js */ "./node_modules/@arcgis/core/layers/support/LercDecoder.js");
/* harmony import */ var _ElevationLayerView3DModifications_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./ElevationLayerView3DModifications.js */ "./node_modules/@arcgis/core/views/3d/layers/ElevationLayerView3DModifications.js");
/* harmony import */ var _LayerView3D_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./LayerView3D.js */ "./node_modules/@arcgis/core/views/3d/layers/LayerView3D.js");
/* harmony import */ var _TiledLayerView3D_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./TiledLayerView3D.js */ "./node_modules/@arcgis/core/views/3d/layers/TiledLayerView3D.js");
/* harmony import */ var _terrain_TerrainConst_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../terrain/TerrainConst.js */ "./node_modules/@arcgis/core/views/3d/terrain/TerrainConst.js");
/* harmony import */ var _terrain_terrainUtils_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../terrain/terrainUtils.js */ "./node_modules/@arcgis/core/views/3d/terrain/terrainUtils.js");
/* harmony import */ var _layers_LayerView_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../layers/LayerView.js */ "./node_modules/@arcgis/core/views/layers/LayerView.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
let g=class extends((0,_TiledLayerView3D_js__WEBPACK_IMPORTED_MODULE_13__.TiledLayerView3D)((0,_LayerView3D_js__WEBPACK_IMPORTED_MODULE_12__.LayerView3D)(_layers_LayerView_js__WEBPACK_IMPORTED_MODULE_16__["default"]))){constructor(){super(...arguments),this.type="elevation-3d",this.modifications=new _ElevationLayerView3DModifications_js__WEBPACK_IMPORTED_MODULE_11__.ElevationLayerView3DModifications}get tileInfo(){return this.layer.tileInfo}initialize(){const e=this.view,i=e.map?.allLayers,t=i&&i.includes(this.layer),r=e.map?.ground?.layers,s=r&&r.includes(this.layer);if(t&&!s){const e=new _core_Error_js__WEBPACK_IMPORTED_MODULE_1__["default"]("layerview:elevation-layer-only",`3D elevation layer '${this.layer.id}' can only be added to layers in map.ground`);this.addResolvingPromise(Promise.reject(e))}this._lercDecoder=(0,_layers_support_LercDecoder_js__WEBPACK_IMPORTED_MODULE_10__.acquireDecoder)(e.resourceController),this._addTilingSchemeMatchPromise()}destroy(){this._lercDecoder=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_3__.releaseMaybe)(this._lercDecoder)}async fetchElevationTile(e,o){const i=await this._fetchTileData(e.lij,o);if(!(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_4__.isAborted)(o))return i&&await this.modifications.apply(i,e,o.signal),i}async _fetchTileData(e,o){const t=this.layer;if((0,_terrain_terrainUtils_js__WEBPACK_IMPORTED_MODULE_15__.useFetchTileForLayer)(t)){const s=await t.fetchTile(e[0],e[1],e[2],{noDataValue:_terrain_TerrainConst_js__WEBPACK_IMPORTED_MODULE_14__.elevationNoDataValue,signal:o.signal});return (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_4__.isAborted)(o)?void _core_Logger_js__WEBPACK_IMPORTED_MODULE_2__["default"].getLogger(this).warnOnce("A call to fetchTile resolved even though the request was aborted. fetchTile should not resolve if options.signal.aborted is true."):s}const s=this.getTileUrl(e),a=await o.requester.request(s,"binary",o),l=await this._lercDecoder.decode(a,{noDataValue:_terrain_TerrainConst_js__WEBPACK_IMPORTED_MODULE_14__.elevationNoDataValue},o.signal);if(l)return new _layers_support_ElevationTileData_js__WEBPACK_IMPORTED_MODULE_9__.ElevationTileData(l);throw new Error("LERC decoding failed")}async setModifications(e){if(this.modifications.modifications.length=0,!e||0===e.length)return;this._simplifyOperatorPromise??=Promise.all(/*! import() */[__webpack_require__.e("vendors-node_modules_arcgis_core_chunks_Point2D_js"), __webpack_require__.e("vendors-node_modules_arcgis_core_chunks_Transformation2D_js"), __webpack_require__.e("vendors-node_modules_arcgis_core_chunks_Envelope2D_js"), __webpack_require__.e("vendors-node_modules_arcgis_core_chunks_ProjectionTransformation_js"), __webpack_require__.e("vendors-node_modules_arcgis_core_geometry_operators_support_jsonConverter_js"), __webpack_require__.e("node_modules_arcgis_core_geometry_operators_simplifyOperator_js")]).then(__webpack_require__.bind(__webpack_require__, /*! ../../../geometry/operators/simplifyOperator.js */ "./node_modules/@arcgis/core/geometry/operators/simplifyOperator.js"));const o=await this._simplifyOperatorPromise;for(const t of e){const e=t.geometry;if("polygon"===e?.type){const r=o.execute(e);if("polygon"===r?.type){const e=new _ElevationLayerView3DModifications_js__WEBPACK_IMPORTED_MODULE_11__.ElevationLayerView3DModification(t.type,r);this.modifications.modifications.push(e)}else _core_Logger_js__WEBPACK_IMPORTED_MODULE_2__["default"].getLogger(this).warn("Failed to simplify modification polygon")}else _core_Logger_js__WEBPACK_IMPORTED_MODULE_2__["default"].getLogger(this).warn("Invalid modification added to elevation layer: "+(e?`non polygon geometry ${e.type}`:"no geometry"))}}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],g.prototype,"layer",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],g.prototype,"tileInfo",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],g.prototype,"modifications",void 0),g=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_8__.subclass)("esri.views.3d.layers.ElevationLayerView3D")],g);const u=g;


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/ElevationLayerView3DModifications.js":
/*!****************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/ElevationLayerView3DModifications.js ***!
  \****************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ElevationLayerView3DModification: () => (/* binding */ n),
/* harmony export */   ElevationLayerView3DModifications: () => (/* binding */ r)
/* harmony export */ });
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../geometry/Extent.js */ "./node_modules/@arcgis/core/geometry/Extent.js");
/* harmony import */ var _geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../geometry/support/aaBoundingRect.js */ "./node_modules/@arcgis/core/geometry/support/aaBoundingRect.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
class r{constructor(){this.modifications=[]}async apply(t,o,r){if(0!==this.modifications.length&&(s??=Promise.all([Promise.all(/*! import() */[__webpack_require__.e("vendors-node_modules_arcgis_core_chunks_Point2D_js"), __webpack_require__.e("vendors-node_modules_arcgis_core_chunks_Transformation2D_js"), __webpack_require__.e("vendors-node_modules_arcgis_core_chunks_Envelope2D_js"), __webpack_require__.e("vendors-node_modules_arcgis_core_chunks_ProjectionTransformation_js"), __webpack_require__.e("vendors-node_modules_arcgis_core_geometry_operators_support_jsonConverter_js"), __webpack_require__.e("node_modules_arcgis_core_chunks_SimpleGeometryCursor_js-node_modules_arcgis_core_geometry_ope-a18ac8")]).then(__webpack_require__.bind(__webpack_require__, /*! ../../../geometry/operators/containsOperator.js */ "./node_modules/@arcgis/core/geometry/operators/containsOperator.js")),Promise.all(/*! import() */[__webpack_require__.e("vendors-node_modules_arcgis_core_chunks_Point2D_js"), __webpack_require__.e("vendors-node_modules_arcgis_core_chunks_Transformation2D_js"), __webpack_require__.e("vendors-node_modules_arcgis_core_chunks_Envelope2D_js"), __webpack_require__.e("vendors-node_modules_arcgis_core_chunks_ProjectionTransformation_js"), __webpack_require__.e("vendors-node_modules_arcgis_core_geometry_operators_support_jsonConverter_js"), __webpack_require__.e("node_modules_arcgis_core_chunks_SimpleGeometryCursor_js-node_modules_arcgis_core_geometry_ope-fc4162")]).then(__webpack_require__.bind(__webpack_require__, /*! ../../../geometry/operators/intersectsOperator.js */ "./node_modules/@arcgis/core/geometry/operators/intersectsOperator.js")),Promise.all(/*! import() */[__webpack_require__.e("vendors-node_modules_arcgis_core_chunks_Point2D_js"), __webpack_require__.e("vendors-node_modules_arcgis_core_chunks_Transformation2D_js"), __webpack_require__.e("vendors-node_modules_arcgis_core_chunks_Envelope2D_js"), __webpack_require__.e("vendors-node_modules_arcgis_core_chunks_ProjectionTransformation_js"), __webpack_require__.e("vendors-node_modules_arcgis_core_geometry_operators_support_jsonConverter_js"), __webpack_require__.e("node_modules_arcgis_core_geometry_operators_intersectionOperator_js")]).then(__webpack_require__.bind(__webpack_require__, /*! ../../../geometry/operators/intersectionOperator.js */ "./node_modules/@arcgis/core/geometry/operators/intersectionOperator.js"))]),a=await s,!(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_0__.isAborted)(r)))for(const e of this.modifications)e.apply(t,o)}}class n{constructor(e,t){this.type=e,this.polygon=t}apply(e,t){if("replace"!==this.type)return;const{polygon:r}=this,[n,s,l]=a,{extent:f,spatialReference:p}=t,m=(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_2__.toExtent)(f,p);if(s.accelerateGeometry(r),!s.execute(r,m))return;n.accelerateGeometry(r),l.accelerateGeometry(r);const{width:y,height:h,values:u}=e,g=r.hasZ?r.rings.reduce(((e,t)=>t.reduce(((e,t)=>Math.min(e,t[2]??1/0)),e)),1/0):1/0,d=g===1/0?0:g;if(n.execute(r,m))u.fill(d);else{const e=i(t,r,[y,h]);if(!e)return;if(e.rings.every((e=>0===e.length)))return;const o=c(t,e,y,h);for(let t=h-1;t>=0;--t)for(let e=0;e<y;++e){const r=(t+1)*(y+2)+(e+1);let n=0;for(let e=-1;e<=1;++e){const t=r+e*(y+2);for(let e=-1;e<=1;++e)n=Math.max(n,o[t+e])}const s=t*y+e;u[s]=0===n?u[s]:d}}}}let s,a;function i(e,o,r){const[n,s,i,c]=e.extent,{spatialReference:l}=e,[f,p]=r,m=2,y=(i-n)/(f-1),h=(c-s)/(p-1),u=new _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_1__["default"]({xmin:n-m*y,ymin:s-m*h,xmax:i+m*y,ymax:c+m*h,spatialReference:l}),g=a[2].execute(o,u);return"polygon"===g?.type?g:null}function c(e,t,o,r){const n=new OffscreenCanvas(o+2,r+2).getContext("2d",{willReadFrequently:!0});if(!n)throw new Error("failed to create canvas");const[s,a,i,c]=e.extent,f=i-s,p=c-a;n.fillStyle="black",n.clearRect(0,0,o,r);const m=new Path2D;for(const g of t.rings)if(g.length>0){const e=new Path2D;let t=!0;for(const[n,a]of g){const i=(n-s)/f*(o-1)+1+l,m=(c-a)/p*(r-1)+1+l;t?(t=!1,e.moveTo(i,m)):e.lineTo(i,m)}e.closePath(),m.addPath(e)}n.fillStyle="white",n.fill(m,"evenodd");const y=n.getImageData(0,0,o+2,r+2),h=(o+2)*(r+2),u=new Uint8Array(h);for(let l=0;l<h;++l)u[l]=y.data[4*l+0]>0?1:0;return u}const l=.5;


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/LayerView3D.js":
/*!******************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/LayerView3D.js ***!
  \******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   LayerView3D: () => (/* binding */ l)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_handleUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/handleUtils.js */ "./node_modules/@arcgis/core/core/handleUtils.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/reactiveUtils.js */ "./node_modules/@arcgis/core/core/reactiveUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_RandomLCG_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../core/RandomLCG.js */ "./node_modules/@arcgis/core/core/RandomLCG.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _geometry_support_heightModelInfoUtils_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../geometry/support/heightModelInfoUtils.js */ "./node_modules/@arcgis/core/geometry/support/heightModelInfoUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
const l=l=>{let n=class extends l{constructor(){super(...arguments),this.slicePlaneEnabled=!1,this.supportsHeightUnitConversion=!1}postscript(){super.postscript(),(0,_geometry_support_heightModelInfoUtils_js__WEBPACK_IMPORTED_MODULE_9__.supportsHeightModelInfo)(this.layer)&&this.addResolvingPromise(this._validateHeightModelInfo())}async _validateHeightModelInfo(){const o=new AbortController,r=o.signal;this.addHandles((0,_core_handleUtils_js__WEBPACK_IMPORTED_MODULE_1__.makeHandle)((()=>o.abort()))),await (0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__.whenOnce)((()=>this.view.defaultsFromMap?.heightModelInfoReady),r),(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_2__.throwIfAborted)(r);const i=(0,_geometry_support_heightModelInfoUtils_js__WEBPACK_IMPORTED_MODULE_9__.rejectLayerError)(this.layer,this.view.heightModelInfo,this.supportsHeightUnitConversion);if(i)throw i}};return (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],n.prototype,"view",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],n.prototype,"slicePlaneEnabled",void 0),n=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_8__.subclass)("esri.views.3d.layers.LayerView3D")],n),n};


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/TiledLayerView3D.js":
/*!***********************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/TiledLayerView3D.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   TiledLayerView3D: () => (/* binding */ p)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/reactiveUtils.js */ "./node_modules/@arcgis/core/core/reactiveUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_RandomLCG_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../core/RandomLCG.js */ "./node_modules/@arcgis/core/core/RandomLCG.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _support_LayerViewPerformanceInfo_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./support/LayerViewPerformanceInfo.js */ "./node_modules/@arcgis/core/views/3d/layers/support/LayerViewPerformanceInfo.js");
/* harmony import */ var _support_updatingProperties_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../support/updatingProperties.js */ "./node_modules/@arcgis/core/views/3d/support/updatingProperties.js");
/* harmony import */ var _terrain_terrainUtils_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../terrain/terrainUtils.js */ "./node_modules/@arcgis/core/views/3d/terrain/terrainUtils.js");
/* harmony import */ var _support_layerViewUtils_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../support/layerViewUtils.js */ "./node_modules/@arcgis/core/views/support/layerViewUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
const p=p=>{let m=class extends p{constructor(){super(...arguments),this.hasMixedImageFormats=!0}get imageFormatIsOpaque(){return!1}get fullExtent(){return this.layer.fullExtent}get isOpaque(){return this.fullOpacity>=1&&this.imageFormatIsOpaque}get visibleAtCurrentScale(){if(!(0,_support_layerViewUtils_js__WEBPACK_IMPORTED_MODULE_11__.isScaleRangeActive)(this.layer.minScale,this.layer.maxScale)||!this.view.scale)return!0;const e=Math.round(this.view.basemapTerrain.tilingScheme.levelAtScale(this.view.scale));return e>=this.displayLevelRange.minLevel&&e<=this.displayLevelRange.maxLevel}get dataScaleRange(){const e=this.tileInfo.lods;let t=e[0].scale,i=e[e.length-1].scale;if("tilemapCache"in this.layer&&this.layer.tilemapCache){const{effectiveMinLOD:e,effectiveMaxLOD:a}=this.layer.tilemapCache;t=this.tileInfo.lodAt(e).scale,i=this.tileInfo.lodAt(a).scale}return{minScale:t,maxScale:i}}canResume(){const e=this.layer&&"effectiveScaleRange"in this.layer?this.layer.effectiveScaleRange:null;return this.visible&&this.layer?.loaded&&!this.parent?.suspended&&this.view?.ready&&(0,_support_layerViewUtils_js__WEBPACK_IMPORTED_MODULE_11__.validateScaleRange)(e)&&this.visibleAtCurrentTimeExtent||!1}get dataLevelRange(){const{minScale:e,maxScale:t}=this.dataScaleRange;return this.levelRangeFromScaleRange(e,t)}get displayLevelRange(){const e=this.layer.minScale||this.dataScaleRange.minScale,t=this.layer.maxScale||this.dataScaleRange.maxScale,i=this.levelRangeFromScaleRange(e,t);return this.layer.maxScale&&i.maxLevel++,i}get performanceInfo(){return new _support_LayerViewPerformanceInfo_js__WEBPACK_IMPORTED_MODULE_8__.LayerViewPerformanceInfo(this.view.basemapTerrain.getUsedMemoryForLayerView(this))}getTileUrl(e){return this.layer.getTileUrl(e[0],e[1],e[2])}_addTilingSchemeMatchPromise(){if(null==this.fullExtent)return this.addResolvingPromise(Promise.reject(new _core_Error_js__WEBPACK_IMPORTED_MODULE_1__["default"]("tilingscheme:extent-not-defined","This layer doesn't define a fullExtent.")));const e=this._getTileInfoSupportError(this.tileInfo,this.fullExtent);if(e)return this.addResolvingPromise(Promise.reject(e));this.addResolvingPromise((0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_2__.whenOnce)((()=>this.view?.basemapTerrain?.tilingSchemeLocked)).then((()=>{const e=this.view.basemapTerrain.tilingScheme,t="tilemapCache"in this.layer?this.layer.tilemapCache?.effectiveMaxLOD:void 0,i=this._getTileInfoCompatibilityError(this.tileInfo,e,t);if(i)throw i})))}_getTileInfoSupportError(e,i){const a=(0,_terrain_terrainUtils_js__WEBPACK_IMPORTED_MODULE_10__.checkIfTileInfoSupportedForView)(e,i,this.view.spatialReference,this.view.state.viewingMode,"tilemapCache"in this.layer?this.layer.tilemapCache?.effectiveMaxLOD:void 0);if(!a)return;const r={layer:this.layer,error:a};switch(a.name){case"tilingscheme:spatial-reference-mismatch":case"tilingscheme:global-unsupported-spatial-reference":case"tilingscheme:local-unsupported-spatial-reference":return new _core_Error_js__WEBPACK_IMPORTED_MODULE_1__["default"]("layerview:spatial-reference-incompatible","The spatial reference of this layer does not meet the requirements of the view",r);default:return new _core_Error_js__WEBPACK_IMPORTED_MODULE_1__["default"]("layerview:tiling-scheme-unsupported","The tiling scheme of this layer is not supported by SceneView",r)}}_getTileInfoCompatibilityError(e,i,a){return null!=e&&i.compatibleWith(e,a)?null:new _core_Error_js__WEBPACK_IMPORTED_MODULE_1__["default"]("layerview:tiling-scheme-incompatible","The tiling scheme of this layer is incompatible with the tiling scheme of the surface")}levelRangeFromScaleRange(e,t){const i={minLevel:0,maxLevel:1/0},a=this.view&&this.view.basemapTerrain&&this.view.basemapTerrain.tilingScheme;if(!a)return i;const r=a.levels[0],l=e=>{const t=Math.log(r.scale/e)/Math.LN2;return.5-Math.abs(.5-t%1)<1e-9?Math.round(t):Math.ceil(t)};return null!=e&&e>0&&(i.minLevel=Math.max(0,l(e))),null!=t&&t>0&&(i.maxLevel=Math.max(0,l(t))),i}isUpdating(){return!!(this.view&&this.view.basemapTerrain&&this.view.basemapTerrain.updating)}};return (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)({readOnly:!0})],m.prototype,"imageFormatIsOpaque",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)({readOnly:!0})],m.prototype,"updating",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)(_support_updatingProperties_js__WEBPACK_IMPORTED_MODULE_9__.updatingProgress)],m.prototype,"updatingProgress",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)(_support_updatingProperties_js__WEBPACK_IMPORTED_MODULE_9__.updatingProgressValue)],m.prototype,"updatingProgressValue",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)()],m.prototype,"hasMixedImageFormats",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)()],m.prototype,"fullExtent",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)({readOnly:!0})],m.prototype,"isOpaque",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)({readOnly:!0})],m.prototype,"visibleAtCurrentScale",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)()],m.prototype,"dataScaleRange",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)({readOnly:!0})],m.prototype,"dataLevelRange",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)({readOnly:!0})],m.prototype,"displayLevelRange",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)()],m.prototype,"layer",void 0),m=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__.subclass)("esri.views.3d.layers.TiledLayerView3D")],m),m};


/***/ }),

/***/ "./node_modules/@arcgis/core/views/layers/LayerView.js":
/*!*************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/layers/LayerView.js ***!
  \*************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ u)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/Accessor.js */ "./node_modules/@arcgis/core/core/Accessor.js");
/* harmony import */ var _core_Evented_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/Evented.js */ "./node_modules/@arcgis/core/core/Evented.js");
/* harmony import */ var _core_Identifiable_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../core/Identifiable.js */ "./node_modules/@arcgis/core/core/Identifiable.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../core/maybe.js */ "./node_modules/@arcgis/core/core/maybe.js");
/* harmony import */ var _core_Promise_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../core/Promise.js */ "./node_modules/@arcgis/core/core/Promise.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_RandomLCG_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../core/RandomLCG.js */ "./node_modules/@arcgis/core/core/RandomLCG.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _core_support_UpdatingHandles_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../core/support/UpdatingHandles.js */ "./node_modules/@arcgis/core/core/support/UpdatingHandles.js");
/* harmony import */ var _support_layerViewUtils_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../support/layerViewUtils.js */ "./node_modules/@arcgis/core/views/support/layerViewUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
let u=class extends(_core_Identifiable_js__WEBPACK_IMPORTED_MODULE_3__["default"].IdentifiableMixin(_core_Promise_js__WEBPACK_IMPORTED_MODULE_6__["default"].EsriPromiseMixin(_core_Evented_js__WEBPACK_IMPORTED_MODULE_2__["default"].EventedMixin(_core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__["default"])))){get spatialReferenceSupported(){return!0}constructor(e){super(e),this._updatingHandles=new _core_support_UpdatingHandles_js__WEBPACK_IMPORTED_MODULE_11__.UpdatingHandles,this.layer=null,this.parent=null}initialize(){this.when().catch((e=>{if("layerview:create-error"!==e.name){const t=this.layer&&this.layer.id||"no id",r=this.layer?.title||"no title";_core_Logger_js__WEBPACK_IMPORTED_MODULE_4__["default"].getLogger(this).error("#resolve()",`Failed to resolve layer view (layer title: '${r}', id: '${t}')`,e)}}))}destroy(){this._updatingHandles=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_5__.destroyMaybe)(this._updatingHandles)}get fullOpacity(){return(this.layer?.opacity??1)*(this.parent?.fullOpacity??1)}get suspended(){return this.destroyed||!this.canResume()}get suspendInfo(){return this.getSuspendInfo()}get legendEnabled(){return!this.suspended&&!0===this.layer?.legendEnabled}get updating(){return!(!this._updatingHandles?.updating&&!this.isUpdating())}get updatingProgress(){return this.updating?0:1}get updateSuspended(){return this.suspended}get visible(){return!0===this.layer?.visible}set visible(e){this._overrideIfSome("visible",e)}get visibleAtCurrentScale(){return!0}get visibleAtCurrentTimeExtent(){const e=this.view.timeExtent,t=this.layer?.visibilityTimeExtent;return!e||!t||!e.intersection(t).isEmpty}canResume(){const e=this.layer&&"effectiveScaleRange"in this.layer?this.layer.effectiveScaleRange:null;return this.visible&&this.layer?.loaded&&this.parent&&!this.parent.suspended&&this.view?.ready&&(0,_support_layerViewUtils_js__WEBPACK_IMPORTED_MODULE_12__.validateScaleRange)(e)&&this.visibleAtCurrentScale&&this.visibleAtCurrentTimeExtent||!1}getSuspendInfo(){const e=this.parent?.suspended?this.parent.suspendInfo:{},t=this;t.view?.ready||(e.viewNotReady=!0),this.layer&&this.layer.loaded||(e.layerNotLoaded=!0);const r=this.layer&&"effectiveScaleRange"in this.layer?this.layer.effectiveScaleRange:null;return (0,_support_layerViewUtils_js__WEBPACK_IMPORTED_MODULE_12__.validateScaleRange)(r)&&this.visibleAtCurrentScale||(e.outsideScaleRange=!0),this.visibleAtCurrentTimeExtent||(e.outsideVisibilityTimeExtent=!0),this.visible||(e.layerInvisible=!0),e}isUpdating(){return!1}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)({readOnly:!0})],u.prototype,"spatialReferenceSupported",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)()],u.prototype,"view",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)()],u.prototype,"fullOpacity",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)()],u.prototype,"layer",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)()],u.prototype,"parent",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)({readOnly:!0})],u.prototype,"suspended",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)({readOnly:!0})],u.prototype,"suspendInfo",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)({readOnly:!0})],u.prototype,"legendEnabled",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)({type:Boolean,readOnly:!0})],u.prototype,"updating",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)({readOnly:!0})],u.prototype,"updatingProgress",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)()],u.prototype,"updateSuspended",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)()],u.prototype,"visible",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)({readOnly:!0})],u.prototype,"visibleAtCurrentScale",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)({readOnly:!0})],u.prototype,"visibleAtCurrentTimeExtent",null),u=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_10__.subclass)("esri.views.layers.LayerView")],u);


/***/ })

};

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmVuZG9ycy1ub2RlX21vZHVsZXNfYXJjZ2lzX2NvcmVfdmlld3NfM2RfbGF5ZXJzX0VsZXZhdGlvbkxheWVyVmlldzNEX2pzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUM2L0Isb0JBQW9CLHVFQUFDLENBQUMsNkRBQUMsQ0FBQyw2REFBQyxJQUFJLGNBQWMsb0VBQW9FLHFHQUFDLENBQUMsZUFBZSwyQkFBMkIsYUFBYSxxSEFBcUgsVUFBVSxZQUFZLHNEQUFDLHlEQUF5RCxjQUFjLDhDQUE4Qyw0Q0FBNEMsa0JBQWtCLCtFQUFDLDJEQUEyRCxVQUFVLGtCQUFrQiw0REFBQyxvQkFBb0IsOEJBQThCLDJDQUEyQyxJQUFJLGdFQUFDLDZEQUE2RCwwQkFBMEIsbUJBQW1CLEdBQUcsK0VBQUMsS0FBSywwQ0FBMEMsWUFBWSwyRUFBQyxpQkFBaUIsRUFBRSxPQUFPLGdFQUFDLFNBQVMsdURBQUMsaUtBQWlLLHlHQUF5RyxZQUFZLDJFQUFDLENBQUMsV0FBVyxnQkFBZ0IsbUZBQUMsSUFBSSx3Q0FBd0MsMEJBQTBCLHFFQUFxRSxnQ0FBZ0MsK3RCQUF5RCxDQUFDLDRDQUE0QyxrQkFBa0IsbUJBQW1CLHdCQUF3QixxQkFBcUIsd0JBQXdCLFlBQVksb0dBQUMsV0FBVyx5Q0FBeUMsS0FBSyx1REFBQyxpRUFBaUUsS0FBSyx1REFBQyxtR0FBbUcsT0FBTyxxQkFBcUIsdURBQUMsRUFBRSxzRkFBQyxnQ0FBZ0MsdURBQUMsRUFBRSxzRkFBQyxpQ0FBaUMsdURBQUMsRUFBRSxzRkFBQywwQ0FBMEMsdURBQUMsRUFBRSxzRkFBQyxrREFBa0QsVUFBK0I7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNKdC9GO0FBQ0E7QUFDQTtBQUNBO0FBQzRLLFFBQVEsY0FBYyxzQkFBc0IsbUJBQW1CLG9EQUFvRCxvd0JBQXlELENBQUMsd3dCQUEyRCxDQUFDLDJ1QkFBNkQsY0FBYyxnRUFBQyxxREFBcUQsUUFBUSxpQkFBaUIsMkJBQTJCLFdBQVcsZ0NBQWdDLE1BQU0sVUFBVSxpQkFBaUIsNEJBQTRCLEtBQUssNkVBQUMsTUFBTSxrREFBa0QsZ0RBQWdELE1BQU0sMEJBQTBCLHNHQUFzRyw0QkFBNEIsS0FBSyxxQkFBcUIsYUFBYSwyQ0FBMkMsbUJBQW1CLGNBQWMsS0FBSyxnQkFBZ0IsSUFBSSxLQUFLLDBCQUEwQixRQUFRLGFBQWEsS0FBSyxLQUFLLGtCQUFrQixhQUFhLEtBQUsseUJBQXlCLGNBQWMscUJBQXFCLFFBQVEsa0JBQWtCLHlCQUF5QixtQkFBbUIsaURBQWlELDJEQUFDLEVBQUUsK0RBQStELHNCQUFzQixpQ0FBaUMsb0JBQW9CLHNEQUFzRCxzQkFBc0IsRUFBRSxpREFBaUQsb0NBQW9DLHlDQUF5QyxtQkFBbUIsc0NBQXNDLG1CQUFtQixTQUFTLG9CQUFvQiw4Q0FBOEMscUNBQXFDLDJCQUEyQix3Q0FBd0Msc0VBQXNFLFlBQVksSUFBSSw2QkFBNkIsU0FBUyxXQUFnRzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ0p2cEU7QUFDQTtBQUNBO0FBQ0E7QUFDc2xCLFlBQVksc0JBQXNCLGNBQWMsbUZBQW1GLGFBQWEsbUJBQW1CLGtHQUFDLHdFQUF3RSxpQ0FBaUMsdUNBQXVDLGdCQUFnQixnRUFBQyx5QkFBeUIsZ0VBQUMsMERBQTBELHFFQUFDLElBQUksUUFBUSwyRkFBQyx5RUFBeUUsZUFBZSxPQUFPLHVEQUFDLEVBQUUsc0ZBQUMsK0JBQStCLHVEQUFDLEVBQUUsc0ZBQUMsOENBQThDLHVEQUFDLEVBQUUsc0ZBQUMsNENBQXFFOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNKMXZDO0FBQ0E7QUFDQTtBQUNBO0FBQzJ1QixZQUFZLHNCQUFzQixjQUFjLGlEQUFpRCwwQkFBMEIsU0FBUyxpQkFBaUIsNkJBQTZCLGVBQWUscURBQXFELDRCQUE0QixJQUFJLCtFQUFDLHFFQUFxRSx3RkFBd0YsOEVBQThFLHFCQUFxQiwyQkFBMkIsdUNBQXVDLHlEQUF5RCxNQUFNLG9DQUFvQyx5QkFBeUIsOERBQThELE9BQU8sdUJBQXVCLFlBQVksMkZBQTJGLG9GQUFvRiwrRUFBQyx5Q0FBeUMscUJBQXFCLE1BQU0sc0JBQXNCLHFCQUFxQiwwQ0FBMEMsd0JBQXdCLG1KQUFtSiwyQ0FBMkMsc0JBQXNCLFdBQVcsMEZBQUMsMkRBQTJELGNBQWMsNkNBQTZDLCtCQUErQiw0RUFBNEUsc0RBQUMsZ0ZBQWdGLHFFQUFxRSx3REFBd0QseUJBQXlCLGdFQUFDLGlFQUFpRSxxTEFBcUwsYUFBYSxJQUFJLDhCQUE4QixRQUFRLDBGQUFDLHlJQUF5SSxhQUFhLFNBQVMsMEJBQTBCLGVBQWUsd0tBQXdLLHNEQUFDLGdJQUFnSSxtQkFBbUIsc0RBQUMsMkdBQTJHLHNDQUFzQywrQ0FBK0Msc0RBQUMsaUlBQWlJLDhCQUE4QixTQUFTLHdCQUF3Qiw4RUFBOEUsZUFBZSwwQkFBMEIscUNBQXFDLDJEQUEyRCxpR0FBaUcsYUFBYSxtRkFBbUYsT0FBTyx1REFBQyxFQUFFLHNGQUFDLEVBQUUsWUFBWSwyQ0FBMkMsdURBQUMsRUFBRSxzRkFBQyxFQUFFLFlBQVksa0NBQWtDLHVEQUFDLEVBQUUsc0ZBQUMsQ0FBQyw0RUFBQywwQ0FBMEMsdURBQUMsRUFBRSxzRkFBQyxDQUFDLGlGQUFDLCtDQUErQyx1REFBQyxFQUFFLHNGQUFDLCtDQUErQyx1REFBQyxFQUFFLHNGQUFDLG1DQUFtQyx1REFBQyxFQUFFLHNGQUFDLEVBQUUsWUFBWSxnQ0FBZ0MsdURBQUMsRUFBRSxzRkFBQyxFQUFFLFlBQVksNkNBQTZDLHVEQUFDLEVBQUUsc0ZBQUMsdUNBQXVDLHVEQUFDLEVBQUUsc0ZBQUMsRUFBRSxZQUFZLHNDQUFzQyx1REFBQyxFQUFFLHNGQUFDLEVBQUUsWUFBWSx5Q0FBeUMsdURBQUMsRUFBRSxzRkFBQyxrQ0FBa0MsdURBQUMsRUFBRSxzRkFBQyxpREFBK0U7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNKN3pKO0FBQ0E7QUFDQTtBQUNBO0FBQzZuQixvQkFBb0IsNkRBQUMsbUJBQW1CLHdEQUFDLGtCQUFrQix3REFBQyxjQUFjLHlEQUFDLEtBQUssZ0NBQWdDLFNBQVMsZUFBZSxtQ0FBbUMsOEVBQUMsa0NBQWtDLGFBQWEsdUJBQXVCLHNDQUFzQywyRUFBMkUsdURBQUMsbUZBQW1GLEVBQUUsVUFBVSxFQUFFLFFBQVEsR0FBRyxVQUFVLHNCQUFzQiw0REFBQyx3QkFBd0Isa0JBQWtCLDZEQUE2RCxnQkFBZ0IseUNBQXlDLGtCQUFrQiw2QkFBNkIsb0JBQW9CLHNEQUFzRCxlQUFlLDhEQUE4RCx1QkFBdUIseUJBQXlCLHNCQUFzQixzQkFBc0IsY0FBYywrQkFBK0IsZUFBZSxrQ0FBa0MsNEJBQTRCLFNBQVMsaUNBQWlDLGdFQUFnRSx5Q0FBeUMsWUFBWSwyRkFBMkYsZ0dBQWdHLCtFQUFDLHFFQUFxRSxpQkFBaUIseURBQXlELFFBQVEsd0ZBQXdGLDJGQUEyRixPQUFPLCtFQUFDLG9LQUFvSyxhQUFhLFdBQVcsdURBQUMsRUFBRSxzRkFBQyxFQUFFLFlBQVksaURBQWlELHVEQUFDLEVBQUUsc0ZBQUMsK0JBQStCLHVEQUFDLEVBQUUsc0ZBQUMsb0NBQW9DLHVEQUFDLEVBQUUsc0ZBQUMsZ0NBQWdDLHVEQUFDLEVBQUUsc0ZBQUMsaUNBQWlDLHVEQUFDLEVBQUUsc0ZBQUMsRUFBRSxZQUFZLGlDQUFpQyx1REFBQyxFQUFFLHNGQUFDLEVBQUUsWUFBWSxtQ0FBbUMsdURBQUMsRUFBRSxzRkFBQyxFQUFFLFlBQVkscUNBQXFDLHVEQUFDLEVBQUUsc0ZBQUMsRUFBRSx5QkFBeUIsZ0NBQWdDLHVEQUFDLEVBQUUsc0ZBQUMsRUFBRSxZQUFZLHdDQUF3Qyx1REFBQyxFQUFFLHNGQUFDLHdDQUF3Qyx1REFBQyxFQUFFLHNGQUFDLGdDQUFnQyx1REFBQyxFQUFFLHNGQUFDLEVBQUUsWUFBWSw2Q0FBNkMsdURBQUMsRUFBRSxzRkFBQyxFQUFFLFlBQVksb0RBQW9ELHVEQUFDLEVBQUUsdUZBQUMsb0NBQXlEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcHJlY2lzaW9uZmFybXMvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzNkL2xheWVycy9FbGV2YXRpb25MYXllclZpZXczRC5qcyIsIndlYnBhY2s6Ly9wcmVjaXNpb25mYXJtcy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvM2QvbGF5ZXJzL0VsZXZhdGlvbkxheWVyVmlldzNETW9kaWZpY2F0aW9ucy5qcyIsIndlYnBhY2s6Ly9wcmVjaXNpb25mYXJtcy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvM2QvbGF5ZXJzL0xheWVyVmlldzNELmpzIiwid2VicGFjazovL3ByZWNpc2lvbmZhcm1zLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8zZC9sYXllcnMvVGlsZWRMYXllclZpZXczRC5qcyIsIndlYnBhY2s6Ly9wcmVjaXNpb25mYXJtcy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvbGF5ZXJzL0xheWVyVmlldy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4zMy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e18gYXMgZX1mcm9tXCIuLi8uLi8uLi9jaHVua3MvdHNsaWIuZXM2LmpzXCI7aW1wb3J0IG8gZnJvbVwiLi4vLi4vLi4vY29yZS9FcnJvci5qc1wiO2ltcG9ydCBpIGZyb21cIi4uLy4uLy4uL2NvcmUvTG9nZ2VyLmpzXCI7aW1wb3J0e3JlbGVhc2VNYXliZSBhcyB0fWZyb21cIi4uLy4uLy4uL2NvcmUvbWF5YmUuanNcIjtpbXBvcnR7aXNBYm9ydGVkIGFzIHJ9ZnJvbVwiLi4vLi4vLi4vY29yZS9wcm9taXNlVXRpbHMuanNcIjtpbXBvcnR7cHJvcGVydHkgYXMgc31mcm9tXCIuLi8uLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3Byb3BlcnR5LmpzXCI7aW1wb3J0XCIuLi8uLi8uLi9jb3JlL2hhcy5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vY29yZS9SYW5kb21MQ0cuanNcIjtpbXBvcnR7c3ViY2xhc3MgYXMgYX1mcm9tXCIuLi8uLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3N1YmNsYXNzLmpzXCI7aW1wb3J0e0VsZXZhdGlvblRpbGVEYXRhIGFzIG59ZnJvbVwiLi4vLi4vLi4vbGF5ZXJzL3N1cHBvcnQvRWxldmF0aW9uVGlsZURhdGEuanNcIjtpbXBvcnR7YWNxdWlyZURlY29kZXIgYXMgbH1mcm9tXCIuLi8uLi8uLi9sYXllcnMvc3VwcG9ydC9MZXJjRGVjb2Rlci5qc1wiO2ltcG9ydHtFbGV2YXRpb25MYXllclZpZXczRE1vZGlmaWNhdGlvbnMgYXMgYyxFbGV2YXRpb25MYXllclZpZXczRE1vZGlmaWNhdGlvbiBhcyBtfWZyb21cIi4vRWxldmF0aW9uTGF5ZXJWaWV3M0RNb2RpZmljYXRpb25zLmpzXCI7aW1wb3J0e0xheWVyVmlldzNEIGFzIHB9ZnJvbVwiLi9MYXllclZpZXczRC5qc1wiO2ltcG9ydHtUaWxlZExheWVyVmlldzNEIGFzIGR9ZnJvbVwiLi9UaWxlZExheWVyVmlldzNELmpzXCI7aW1wb3J0e2VsZXZhdGlvbk5vRGF0YVZhbHVlIGFzIHl9ZnJvbVwiLi4vdGVycmFpbi9UZXJyYWluQ29uc3QuanNcIjtpbXBvcnR7dXNlRmV0Y2hUaWxlRm9yTGF5ZXIgYXMgZn1mcm9tXCIuLi90ZXJyYWluL3RlcnJhaW5VdGlscy5qc1wiO2ltcG9ydCBoIGZyb21cIi4uLy4uL2xheWVycy9MYXllclZpZXcuanNcIjtsZXQgZz1jbGFzcyBleHRlbmRzKGQocChoKSkpe2NvbnN0cnVjdG9yKCl7c3VwZXIoLi4uYXJndW1lbnRzKSx0aGlzLnR5cGU9XCJlbGV2YXRpb24tM2RcIix0aGlzLm1vZGlmaWNhdGlvbnM9bmV3IGN9Z2V0IHRpbGVJbmZvKCl7cmV0dXJuIHRoaXMubGF5ZXIudGlsZUluZm99aW5pdGlhbGl6ZSgpe2NvbnN0IGU9dGhpcy52aWV3LGk9ZS5tYXA/LmFsbExheWVycyx0PWkmJmkuaW5jbHVkZXModGhpcy5sYXllcikscj1lLm1hcD8uZ3JvdW5kPy5sYXllcnMscz1yJiZyLmluY2x1ZGVzKHRoaXMubGF5ZXIpO2lmKHQmJiFzKXtjb25zdCBlPW5ldyBvKFwibGF5ZXJ2aWV3OmVsZXZhdGlvbi1sYXllci1vbmx5XCIsYDNEIGVsZXZhdGlvbiBsYXllciAnJHt0aGlzLmxheWVyLmlkfScgY2FuIG9ubHkgYmUgYWRkZWQgdG8gbGF5ZXJzIGluIG1hcC5ncm91bmRgKTt0aGlzLmFkZFJlc29sdmluZ1Byb21pc2UoUHJvbWlzZS5yZWplY3QoZSkpfXRoaXMuX2xlcmNEZWNvZGVyPWwoZS5yZXNvdXJjZUNvbnRyb2xsZXIpLHRoaXMuX2FkZFRpbGluZ1NjaGVtZU1hdGNoUHJvbWlzZSgpfWRlc3Ryb3koKXt0aGlzLl9sZXJjRGVjb2Rlcj10KHRoaXMuX2xlcmNEZWNvZGVyKX1hc3luYyBmZXRjaEVsZXZhdGlvblRpbGUoZSxvKXtjb25zdCBpPWF3YWl0IHRoaXMuX2ZldGNoVGlsZURhdGEoZS5saWosbyk7aWYoIXIobykpcmV0dXJuIGkmJmF3YWl0IHRoaXMubW9kaWZpY2F0aW9ucy5hcHBseShpLGUsby5zaWduYWwpLGl9YXN5bmMgX2ZldGNoVGlsZURhdGEoZSxvKXtjb25zdCB0PXRoaXMubGF5ZXI7aWYoZih0KSl7Y29uc3Qgcz1hd2FpdCB0LmZldGNoVGlsZShlWzBdLGVbMV0sZVsyXSx7bm9EYXRhVmFsdWU6eSxzaWduYWw6by5zaWduYWx9KTtyZXR1cm4gcihvKT92b2lkIGkuZ2V0TG9nZ2VyKHRoaXMpLndhcm5PbmNlKFwiQSBjYWxsIHRvIGZldGNoVGlsZSByZXNvbHZlZCBldmVuIHRob3VnaCB0aGUgcmVxdWVzdCB3YXMgYWJvcnRlZC4gZmV0Y2hUaWxlIHNob3VsZCBub3QgcmVzb2x2ZSBpZiBvcHRpb25zLnNpZ25hbC5hYm9ydGVkIGlzIHRydWUuXCIpOnN9Y29uc3Qgcz10aGlzLmdldFRpbGVVcmwoZSksYT1hd2FpdCBvLnJlcXVlc3Rlci5yZXF1ZXN0KHMsXCJiaW5hcnlcIixvKSxsPWF3YWl0IHRoaXMuX2xlcmNEZWNvZGVyLmRlY29kZShhLHtub0RhdGFWYWx1ZTp5fSxvLnNpZ25hbCk7aWYobClyZXR1cm4gbmV3IG4obCk7dGhyb3cgbmV3IEVycm9yKFwiTEVSQyBkZWNvZGluZyBmYWlsZWRcIil9YXN5bmMgc2V0TW9kaWZpY2F0aW9ucyhlKXtpZih0aGlzLm1vZGlmaWNhdGlvbnMubW9kaWZpY2F0aW9ucy5sZW5ndGg9MCwhZXx8MD09PWUubGVuZ3RoKXJldHVybjt0aGlzLl9zaW1wbGlmeU9wZXJhdG9yUHJvbWlzZT8/PWltcG9ydChcIi4uLy4uLy4uL2dlb21ldHJ5L29wZXJhdG9ycy9zaW1wbGlmeU9wZXJhdG9yLmpzXCIpO2NvbnN0IG89YXdhaXQgdGhpcy5fc2ltcGxpZnlPcGVyYXRvclByb21pc2U7Zm9yKGNvbnN0IHQgb2YgZSl7Y29uc3QgZT10Lmdlb21ldHJ5O2lmKFwicG9seWdvblwiPT09ZT8udHlwZSl7Y29uc3Qgcj1vLmV4ZWN1dGUoZSk7aWYoXCJwb2x5Z29uXCI9PT1yPy50eXBlKXtjb25zdCBlPW5ldyBtKHQudHlwZSxyKTt0aGlzLm1vZGlmaWNhdGlvbnMubW9kaWZpY2F0aW9ucy5wdXNoKGUpfWVsc2UgaS5nZXRMb2dnZXIodGhpcykud2FybihcIkZhaWxlZCB0byBzaW1wbGlmeSBtb2RpZmljYXRpb24gcG9seWdvblwiKX1lbHNlIGkuZ2V0TG9nZ2VyKHRoaXMpLndhcm4oXCJJbnZhbGlkIG1vZGlmaWNhdGlvbiBhZGRlZCB0byBlbGV2YXRpb24gbGF5ZXI6IFwiKyhlP2Bub24gcG9seWdvbiBnZW9tZXRyeSAke2UudHlwZX1gOlwibm8gZ2VvbWV0cnlcIikpfX19O2UoW3MoKV0sZy5wcm90b3R5cGUsXCJsYXllclwiLHZvaWQgMCksZShbcygpXSxnLnByb3RvdHlwZSxcInRpbGVJbmZvXCIsbnVsbCksZShbcygpXSxnLnByb3RvdHlwZSxcIm1vZGlmaWNhdGlvbnNcIix2b2lkIDApLGc9ZShbYShcImVzcmkudmlld3MuM2QubGF5ZXJzLkVsZXZhdGlvbkxheWVyVmlldzNEXCIpXSxnKTtjb25zdCB1PWc7ZXhwb3J0e3UgYXMgZGVmYXVsdH07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4zMy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e2lzQWJvcnRlZCBhcyBlfWZyb21cIi4uLy4uLy4uL2NvcmUvcHJvbWlzZVV0aWxzLmpzXCI7aW1wb3J0IHQgZnJvbVwiLi4vLi4vLi4vZ2VvbWV0cnkvRXh0ZW50LmpzXCI7aW1wb3J0e3RvRXh0ZW50IGFzIG99ZnJvbVwiLi4vLi4vLi4vZ2VvbWV0cnkvc3VwcG9ydC9hYUJvdW5kaW5nUmVjdC5qc1wiO2NsYXNzIHJ7Y29uc3RydWN0b3IoKXt0aGlzLm1vZGlmaWNhdGlvbnM9W119YXN5bmMgYXBwbHkodCxvLHIpe2lmKDAhPT10aGlzLm1vZGlmaWNhdGlvbnMubGVuZ3RoJiYocz8/PVByb21pc2UuYWxsKFtpbXBvcnQoXCIuLi8uLi8uLi9nZW9tZXRyeS9vcGVyYXRvcnMvY29udGFpbnNPcGVyYXRvci5qc1wiKSxpbXBvcnQoXCIuLi8uLi8uLi9nZW9tZXRyeS9vcGVyYXRvcnMvaW50ZXJzZWN0c09wZXJhdG9yLmpzXCIpLGltcG9ydChcIi4uLy4uLy4uL2dlb21ldHJ5L29wZXJhdG9ycy9pbnRlcnNlY3Rpb25PcGVyYXRvci5qc1wiKV0pLGE9YXdhaXQgcywhZShyKSkpZm9yKGNvbnN0IGUgb2YgdGhpcy5tb2RpZmljYXRpb25zKWUuYXBwbHkodCxvKX19Y2xhc3Mgbntjb25zdHJ1Y3RvcihlLHQpe3RoaXMudHlwZT1lLHRoaXMucG9seWdvbj10fWFwcGx5KGUsdCl7aWYoXCJyZXBsYWNlXCIhPT10aGlzLnR5cGUpcmV0dXJuO2NvbnN0e3BvbHlnb246cn09dGhpcyxbbixzLGxdPWEse2V4dGVudDpmLHNwYXRpYWxSZWZlcmVuY2U6cH09dCxtPW8oZixwKTtpZihzLmFjY2VsZXJhdGVHZW9tZXRyeShyKSwhcy5leGVjdXRlKHIsbSkpcmV0dXJuO24uYWNjZWxlcmF0ZUdlb21ldHJ5KHIpLGwuYWNjZWxlcmF0ZUdlb21ldHJ5KHIpO2NvbnN0e3dpZHRoOnksaGVpZ2h0OmgsdmFsdWVzOnV9PWUsZz1yLmhhc1o/ci5yaW5ncy5yZWR1Y2UoKChlLHQpPT50LnJlZHVjZSgoKGUsdCk9Pk1hdGgubWluKGUsdFsyXT8/MS8wKSksZSkpLDEvMCk6MS8wLGQ9Zz09PTEvMD8wOmc7aWYobi5leGVjdXRlKHIsbSkpdS5maWxsKGQpO2Vsc2V7Y29uc3QgZT1pKHQscixbeSxoXSk7aWYoIWUpcmV0dXJuO2lmKGUucmluZ3MuZXZlcnkoKGU9PjA9PT1lLmxlbmd0aCkpKXJldHVybjtjb25zdCBvPWModCxlLHksaCk7Zm9yKGxldCB0PWgtMTt0Pj0wOy0tdClmb3IobGV0IGU9MDtlPHk7KytlKXtjb25zdCByPSh0KzEpKih5KzIpKyhlKzEpO2xldCBuPTA7Zm9yKGxldCBlPS0xO2U8PTE7KytlKXtjb25zdCB0PXIrZSooeSsyKTtmb3IobGV0IGU9LTE7ZTw9MTsrK2Upbj1NYXRoLm1heChuLG9bdCtlXSl9Y29uc3Qgcz10KnkrZTt1W3NdPTA9PT1uP3Vbc106ZH19fX1sZXQgcyxhO2Z1bmN0aW9uIGkoZSxvLHIpe2NvbnN0W24scyxpLGNdPWUuZXh0ZW50LHtzcGF0aWFsUmVmZXJlbmNlOmx9PWUsW2YscF09cixtPTIseT0oaS1uKS8oZi0xKSxoPShjLXMpLyhwLTEpLHU9bmV3IHQoe3htaW46bi1tKnkseW1pbjpzLW0qaCx4bWF4OmkrbSp5LHltYXg6YyttKmgsc3BhdGlhbFJlZmVyZW5jZTpsfSksZz1hWzJdLmV4ZWN1dGUobyx1KTtyZXR1cm5cInBvbHlnb25cIj09PWc/LnR5cGU/ZzpudWxsfWZ1bmN0aW9uIGMoZSx0LG8scil7Y29uc3Qgbj1uZXcgT2Zmc2NyZWVuQ2FudmFzKG8rMixyKzIpLmdldENvbnRleHQoXCIyZFwiLHt3aWxsUmVhZEZyZXF1ZW50bHk6ITB9KTtpZighbil0aHJvdyBuZXcgRXJyb3IoXCJmYWlsZWQgdG8gY3JlYXRlIGNhbnZhc1wiKTtjb25zdFtzLGEsaSxjXT1lLmV4dGVudCxmPWktcyxwPWMtYTtuLmZpbGxTdHlsZT1cImJsYWNrXCIsbi5jbGVhclJlY3QoMCwwLG8scik7Y29uc3QgbT1uZXcgUGF0aDJEO2Zvcihjb25zdCBnIG9mIHQucmluZ3MpaWYoZy5sZW5ndGg+MCl7Y29uc3QgZT1uZXcgUGF0aDJEO2xldCB0PSEwO2Zvcihjb25zdFtuLGFdb2YgZyl7Y29uc3QgaT0obi1zKS9mKihvLTEpKzErbCxtPShjLWEpL3AqKHItMSkrMStsO3Q/KHQ9ITEsZS5tb3ZlVG8oaSxtKSk6ZS5saW5lVG8oaSxtKX1lLmNsb3NlUGF0aCgpLG0uYWRkUGF0aChlKX1uLmZpbGxTdHlsZT1cIndoaXRlXCIsbi5maWxsKG0sXCJldmVub2RkXCIpO2NvbnN0IHk9bi5nZXRJbWFnZURhdGEoMCwwLG8rMixyKzIpLGg9KG8rMikqKHIrMiksdT1uZXcgVWludDhBcnJheShoKTtmb3IobGV0IGw9MDtsPGg7KytsKXVbbF09eS5kYXRhWzQqbCswXT4wPzE6MDtyZXR1cm4gdX1jb25zdCBsPS41O2V4cG9ydHtuIGFzIEVsZXZhdGlvbkxheWVyVmlldzNETW9kaWZpY2F0aW9uLHIgYXMgRWxldmF0aW9uTGF5ZXJWaWV3M0RNb2RpZmljYXRpb25zfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjMzL2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7XyBhcyBvfWZyb21cIi4uLy4uLy4uL2NodW5rcy90c2xpYi5lczYuanNcIjtpbXBvcnR7bWFrZUhhbmRsZSBhcyBzfWZyb21cIi4uLy4uLy4uL2NvcmUvaGFuZGxlVXRpbHMuanNcIjtpbXBvcnR7dGhyb3dJZkFib3J0ZWQgYXMgZX1mcm9tXCIuLi8uLi8uLi9jb3JlL3Byb21pc2VVdGlscy5qc1wiO2ltcG9ydHt3aGVuT25jZSBhcyB0fWZyb21cIi4uLy4uLy4uL2NvcmUvcmVhY3RpdmVVdGlscy5qc1wiO2ltcG9ydHtwcm9wZXJ0eSBhcyByfWZyb21cIi4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvcHJvcGVydHkuanNcIjtpbXBvcnRcIi4uLy4uLy4uL2NvcmUvaGFzLmpzXCI7aW1wb3J0XCIuLi8uLi8uLi9jb3JlL0xvZ2dlci5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vY29yZS9SYW5kb21MQ0cuanNcIjtpbXBvcnR7c3ViY2xhc3MgYXMgaX1mcm9tXCIuLi8uLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3N1YmNsYXNzLmpzXCI7aW1wb3J0e3N1cHBvcnRzSGVpZ2h0TW9kZWxJbmZvIGFzIHAscmVqZWN0TGF5ZXJFcnJvciBhcyBhfWZyb21cIi4uLy4uLy4uL2dlb21ldHJ5L3N1cHBvcnQvaGVpZ2h0TW9kZWxJbmZvVXRpbHMuanNcIjtjb25zdCBsPWw9PntsZXQgbj1jbGFzcyBleHRlbmRzIGx7Y29uc3RydWN0b3IoKXtzdXBlciguLi5hcmd1bWVudHMpLHRoaXMuc2xpY2VQbGFuZUVuYWJsZWQ9ITEsdGhpcy5zdXBwb3J0c0hlaWdodFVuaXRDb252ZXJzaW9uPSExfXBvc3RzY3JpcHQoKXtzdXBlci5wb3N0c2NyaXB0KCkscCh0aGlzLmxheWVyKSYmdGhpcy5hZGRSZXNvbHZpbmdQcm9taXNlKHRoaXMuX3ZhbGlkYXRlSGVpZ2h0TW9kZWxJbmZvKCkpfWFzeW5jIF92YWxpZGF0ZUhlaWdodE1vZGVsSW5mbygpe2NvbnN0IG89bmV3IEFib3J0Q29udHJvbGxlcixyPW8uc2lnbmFsO3RoaXMuYWRkSGFuZGxlcyhzKCgoKT0+by5hYm9ydCgpKSkpLGF3YWl0IHQoKCgpPT50aGlzLnZpZXcuZGVmYXVsdHNGcm9tTWFwPy5oZWlnaHRNb2RlbEluZm9SZWFkeSksciksZShyKTtjb25zdCBpPWEodGhpcy5sYXllcix0aGlzLnZpZXcuaGVpZ2h0TW9kZWxJbmZvLHRoaXMuc3VwcG9ydHNIZWlnaHRVbml0Q29udmVyc2lvbik7aWYoaSl0aHJvdyBpfX07cmV0dXJuIG8oW3IoKV0sbi5wcm90b3R5cGUsXCJ2aWV3XCIsdm9pZCAwKSxvKFtyKCldLG4ucHJvdG90eXBlLFwic2xpY2VQbGFuZUVuYWJsZWRcIix2b2lkIDApLG49byhbaShcImVzcmkudmlld3MuM2QubGF5ZXJzLkxheWVyVmlldzNEXCIpXSxuKSxufTtleHBvcnR7bCBhcyBMYXllclZpZXczRH07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4zMy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e18gYXMgZX1mcm9tXCIuLi8uLi8uLi9jaHVua3MvdHNsaWIuZXM2LmpzXCI7aW1wb3J0IHQgZnJvbVwiLi4vLi4vLi4vY29yZS9FcnJvci5qc1wiO2ltcG9ydHt3aGVuT25jZSBhcyBpfWZyb21cIi4uLy4uLy4uL2NvcmUvcmVhY3RpdmVVdGlscy5qc1wiO2ltcG9ydHtwcm9wZXJ0eSBhcyBhfWZyb21cIi4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvcHJvcGVydHkuanNcIjtpbXBvcnRcIi4uLy4uLy4uL2NvcmUvaGFzLmpzXCI7aW1wb3J0XCIuLi8uLi8uLi9jb3JlL0xvZ2dlci5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vY29yZS9SYW5kb21MQ0cuanNcIjtpbXBvcnR7c3ViY2xhc3MgYXMgcn1mcm9tXCIuLi8uLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3N1YmNsYXNzLmpzXCI7aW1wb3J0e0xheWVyVmlld1BlcmZvcm1hbmNlSW5mbyBhcyBsfWZyb21cIi4vc3VwcG9ydC9MYXllclZpZXdQZXJmb3JtYW5jZUluZm8uanNcIjtpbXBvcnR7dXBkYXRpbmdQcm9ncmVzcyBhcyBzLHVwZGF0aW5nUHJvZ3Jlc3NWYWx1ZSBhcyBufWZyb21cIi4uL3N1cHBvcnQvdXBkYXRpbmdQcm9wZXJ0aWVzLmpzXCI7aW1wb3J0e2NoZWNrSWZUaWxlSW5mb1N1cHBvcnRlZEZvclZpZXcgYXMgb31mcm9tXCIuLi90ZXJyYWluL3RlcnJhaW5VdGlscy5qc1wiO2ltcG9ydHtpc1NjYWxlUmFuZ2VBY3RpdmUgYXMgYyx2YWxpZGF0ZVNjYWxlUmFuZ2UgYXMgaH1mcm9tXCIuLi8uLi9zdXBwb3J0L2xheWVyVmlld1V0aWxzLmpzXCI7Y29uc3QgcD1wPT57bGV0IG09Y2xhc3MgZXh0ZW5kcyBwe2NvbnN0cnVjdG9yKCl7c3VwZXIoLi4uYXJndW1lbnRzKSx0aGlzLmhhc01peGVkSW1hZ2VGb3JtYXRzPSEwfWdldCBpbWFnZUZvcm1hdElzT3BhcXVlKCl7cmV0dXJuITF9Z2V0IGZ1bGxFeHRlbnQoKXtyZXR1cm4gdGhpcy5sYXllci5mdWxsRXh0ZW50fWdldCBpc09wYXF1ZSgpe3JldHVybiB0aGlzLmZ1bGxPcGFjaXR5Pj0xJiZ0aGlzLmltYWdlRm9ybWF0SXNPcGFxdWV9Z2V0IHZpc2libGVBdEN1cnJlbnRTY2FsZSgpe2lmKCFjKHRoaXMubGF5ZXIubWluU2NhbGUsdGhpcy5sYXllci5tYXhTY2FsZSl8fCF0aGlzLnZpZXcuc2NhbGUpcmV0dXJuITA7Y29uc3QgZT1NYXRoLnJvdW5kKHRoaXMudmlldy5iYXNlbWFwVGVycmFpbi50aWxpbmdTY2hlbWUubGV2ZWxBdFNjYWxlKHRoaXMudmlldy5zY2FsZSkpO3JldHVybiBlPj10aGlzLmRpc3BsYXlMZXZlbFJhbmdlLm1pbkxldmVsJiZlPD10aGlzLmRpc3BsYXlMZXZlbFJhbmdlLm1heExldmVsfWdldCBkYXRhU2NhbGVSYW5nZSgpe2NvbnN0IGU9dGhpcy50aWxlSW5mby5sb2RzO2xldCB0PWVbMF0uc2NhbGUsaT1lW2UubGVuZ3RoLTFdLnNjYWxlO2lmKFwidGlsZW1hcENhY2hlXCJpbiB0aGlzLmxheWVyJiZ0aGlzLmxheWVyLnRpbGVtYXBDYWNoZSl7Y29uc3R7ZWZmZWN0aXZlTWluTE9EOmUsZWZmZWN0aXZlTWF4TE9EOmF9PXRoaXMubGF5ZXIudGlsZW1hcENhY2hlO3Q9dGhpcy50aWxlSW5mby5sb2RBdChlKS5zY2FsZSxpPXRoaXMudGlsZUluZm8ubG9kQXQoYSkuc2NhbGV9cmV0dXJue21pblNjYWxlOnQsbWF4U2NhbGU6aX19Y2FuUmVzdW1lKCl7Y29uc3QgZT10aGlzLmxheWVyJiZcImVmZmVjdGl2ZVNjYWxlUmFuZ2VcImluIHRoaXMubGF5ZXI/dGhpcy5sYXllci5lZmZlY3RpdmVTY2FsZVJhbmdlOm51bGw7cmV0dXJuIHRoaXMudmlzaWJsZSYmdGhpcy5sYXllcj8ubG9hZGVkJiYhdGhpcy5wYXJlbnQ/LnN1c3BlbmRlZCYmdGhpcy52aWV3Py5yZWFkeSYmaChlKSYmdGhpcy52aXNpYmxlQXRDdXJyZW50VGltZUV4dGVudHx8ITF9Z2V0IGRhdGFMZXZlbFJhbmdlKCl7Y29uc3R7bWluU2NhbGU6ZSxtYXhTY2FsZTp0fT10aGlzLmRhdGFTY2FsZVJhbmdlO3JldHVybiB0aGlzLmxldmVsUmFuZ2VGcm9tU2NhbGVSYW5nZShlLHQpfWdldCBkaXNwbGF5TGV2ZWxSYW5nZSgpe2NvbnN0IGU9dGhpcy5sYXllci5taW5TY2FsZXx8dGhpcy5kYXRhU2NhbGVSYW5nZS5taW5TY2FsZSx0PXRoaXMubGF5ZXIubWF4U2NhbGV8fHRoaXMuZGF0YVNjYWxlUmFuZ2UubWF4U2NhbGUsaT10aGlzLmxldmVsUmFuZ2VGcm9tU2NhbGVSYW5nZShlLHQpO3JldHVybiB0aGlzLmxheWVyLm1heFNjYWxlJiZpLm1heExldmVsKyssaX1nZXQgcGVyZm9ybWFuY2VJbmZvKCl7cmV0dXJuIG5ldyBsKHRoaXMudmlldy5iYXNlbWFwVGVycmFpbi5nZXRVc2VkTWVtb3J5Rm9yTGF5ZXJWaWV3KHRoaXMpKX1nZXRUaWxlVXJsKGUpe3JldHVybiB0aGlzLmxheWVyLmdldFRpbGVVcmwoZVswXSxlWzFdLGVbMl0pfV9hZGRUaWxpbmdTY2hlbWVNYXRjaFByb21pc2UoKXtpZihudWxsPT10aGlzLmZ1bGxFeHRlbnQpcmV0dXJuIHRoaXMuYWRkUmVzb2x2aW5nUHJvbWlzZShQcm9taXNlLnJlamVjdChuZXcgdChcInRpbGluZ3NjaGVtZTpleHRlbnQtbm90LWRlZmluZWRcIixcIlRoaXMgbGF5ZXIgZG9lc24ndCBkZWZpbmUgYSBmdWxsRXh0ZW50LlwiKSkpO2NvbnN0IGU9dGhpcy5fZ2V0VGlsZUluZm9TdXBwb3J0RXJyb3IodGhpcy50aWxlSW5mbyx0aGlzLmZ1bGxFeHRlbnQpO2lmKGUpcmV0dXJuIHRoaXMuYWRkUmVzb2x2aW5nUHJvbWlzZShQcm9taXNlLnJlamVjdChlKSk7dGhpcy5hZGRSZXNvbHZpbmdQcm9taXNlKGkoKCgpPT50aGlzLnZpZXc/LmJhc2VtYXBUZXJyYWluPy50aWxpbmdTY2hlbWVMb2NrZWQpKS50aGVuKCgoKT0+e2NvbnN0IGU9dGhpcy52aWV3LmJhc2VtYXBUZXJyYWluLnRpbGluZ1NjaGVtZSx0PVwidGlsZW1hcENhY2hlXCJpbiB0aGlzLmxheWVyP3RoaXMubGF5ZXIudGlsZW1hcENhY2hlPy5lZmZlY3RpdmVNYXhMT0Q6dm9pZCAwLGk9dGhpcy5fZ2V0VGlsZUluZm9Db21wYXRpYmlsaXR5RXJyb3IodGhpcy50aWxlSW5mbyxlLHQpO2lmKGkpdGhyb3cgaX0pKSl9X2dldFRpbGVJbmZvU3VwcG9ydEVycm9yKGUsaSl7Y29uc3QgYT1vKGUsaSx0aGlzLnZpZXcuc3BhdGlhbFJlZmVyZW5jZSx0aGlzLnZpZXcuc3RhdGUudmlld2luZ01vZGUsXCJ0aWxlbWFwQ2FjaGVcImluIHRoaXMubGF5ZXI/dGhpcy5sYXllci50aWxlbWFwQ2FjaGU/LmVmZmVjdGl2ZU1heExPRDp2b2lkIDApO2lmKCFhKXJldHVybjtjb25zdCByPXtsYXllcjp0aGlzLmxheWVyLGVycm9yOmF9O3N3aXRjaChhLm5hbWUpe2Nhc2VcInRpbGluZ3NjaGVtZTpzcGF0aWFsLXJlZmVyZW5jZS1taXNtYXRjaFwiOmNhc2VcInRpbGluZ3NjaGVtZTpnbG9iYWwtdW5zdXBwb3J0ZWQtc3BhdGlhbC1yZWZlcmVuY2VcIjpjYXNlXCJ0aWxpbmdzY2hlbWU6bG9jYWwtdW5zdXBwb3J0ZWQtc3BhdGlhbC1yZWZlcmVuY2VcIjpyZXR1cm4gbmV3IHQoXCJsYXllcnZpZXc6c3BhdGlhbC1yZWZlcmVuY2UtaW5jb21wYXRpYmxlXCIsXCJUaGUgc3BhdGlhbCByZWZlcmVuY2Ugb2YgdGhpcyBsYXllciBkb2VzIG5vdCBtZWV0IHRoZSByZXF1aXJlbWVudHMgb2YgdGhlIHZpZXdcIixyKTtkZWZhdWx0OnJldHVybiBuZXcgdChcImxheWVydmlldzp0aWxpbmctc2NoZW1lLXVuc3VwcG9ydGVkXCIsXCJUaGUgdGlsaW5nIHNjaGVtZSBvZiB0aGlzIGxheWVyIGlzIG5vdCBzdXBwb3J0ZWQgYnkgU2NlbmVWaWV3XCIscil9fV9nZXRUaWxlSW5mb0NvbXBhdGliaWxpdHlFcnJvcihlLGksYSl7cmV0dXJuIG51bGwhPWUmJmkuY29tcGF0aWJsZVdpdGgoZSxhKT9udWxsOm5ldyB0KFwibGF5ZXJ2aWV3OnRpbGluZy1zY2hlbWUtaW5jb21wYXRpYmxlXCIsXCJUaGUgdGlsaW5nIHNjaGVtZSBvZiB0aGlzIGxheWVyIGlzIGluY29tcGF0aWJsZSB3aXRoIHRoZSB0aWxpbmcgc2NoZW1lIG9mIHRoZSBzdXJmYWNlXCIpfWxldmVsUmFuZ2VGcm9tU2NhbGVSYW5nZShlLHQpe2NvbnN0IGk9e21pbkxldmVsOjAsbWF4TGV2ZWw6MS8wfSxhPXRoaXMudmlldyYmdGhpcy52aWV3LmJhc2VtYXBUZXJyYWluJiZ0aGlzLnZpZXcuYmFzZW1hcFRlcnJhaW4udGlsaW5nU2NoZW1lO2lmKCFhKXJldHVybiBpO2NvbnN0IHI9YS5sZXZlbHNbMF0sbD1lPT57Y29uc3QgdD1NYXRoLmxvZyhyLnNjYWxlL2UpL01hdGguTE4yO3JldHVybi41LU1hdGguYWJzKC41LXQlMSk8MWUtOT9NYXRoLnJvdW5kKHQpOk1hdGguY2VpbCh0KX07cmV0dXJuIG51bGwhPWUmJmU+MCYmKGkubWluTGV2ZWw9TWF0aC5tYXgoMCxsKGUpKSksbnVsbCE9dCYmdD4wJiYoaS5tYXhMZXZlbD1NYXRoLm1heCgwLGwodCkpKSxpfWlzVXBkYXRpbmcoKXtyZXR1cm4hISh0aGlzLnZpZXcmJnRoaXMudmlldy5iYXNlbWFwVGVycmFpbiYmdGhpcy52aWV3LmJhc2VtYXBUZXJyYWluLnVwZGF0aW5nKX19O3JldHVybiBlKFthKHtyZWFkT25seTohMH0pXSxtLnByb3RvdHlwZSxcImltYWdlRm9ybWF0SXNPcGFxdWVcIixudWxsKSxlKFthKHtyZWFkT25seTohMH0pXSxtLnByb3RvdHlwZSxcInVwZGF0aW5nXCIsdm9pZCAwKSxlKFthKHMpXSxtLnByb3RvdHlwZSxcInVwZGF0aW5nUHJvZ3Jlc3NcIix2b2lkIDApLGUoW2EobildLG0ucHJvdG90eXBlLFwidXBkYXRpbmdQcm9ncmVzc1ZhbHVlXCIsdm9pZCAwKSxlKFthKCldLG0ucHJvdG90eXBlLFwiaGFzTWl4ZWRJbWFnZUZvcm1hdHNcIix2b2lkIDApLGUoW2EoKV0sbS5wcm90b3R5cGUsXCJmdWxsRXh0ZW50XCIsbnVsbCksZShbYSh7cmVhZE9ubHk6ITB9KV0sbS5wcm90b3R5cGUsXCJpc09wYXF1ZVwiLG51bGwpLGUoW2Eoe3JlYWRPbmx5OiEwfSldLG0ucHJvdG90eXBlLFwidmlzaWJsZUF0Q3VycmVudFNjYWxlXCIsbnVsbCksZShbYSgpXSxtLnByb3RvdHlwZSxcImRhdGFTY2FsZVJhbmdlXCIsbnVsbCksZShbYSh7cmVhZE9ubHk6ITB9KV0sbS5wcm90b3R5cGUsXCJkYXRhTGV2ZWxSYW5nZVwiLG51bGwpLGUoW2Eoe3JlYWRPbmx5OiEwfSldLG0ucHJvdG90eXBlLFwiZGlzcGxheUxldmVsUmFuZ2VcIixudWxsKSxlKFthKCldLG0ucHJvdG90eXBlLFwibGF5ZXJcIix2b2lkIDApLG09ZShbcihcImVzcmkudmlld3MuM2QubGF5ZXJzLlRpbGVkTGF5ZXJWaWV3M0RcIildLG0pLG19O2V4cG9ydHtwIGFzIFRpbGVkTGF5ZXJWaWV3M0R9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMzMvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtfIGFzIGV9ZnJvbVwiLi4vLi4vY2h1bmtzL3RzbGliLmVzNi5qc1wiO2ltcG9ydCB0IGZyb21cIi4uLy4uL2NvcmUvQWNjZXNzb3IuanNcIjtpbXBvcnQgciBmcm9tXCIuLi8uLi9jb3JlL0V2ZW50ZWQuanNcIjtpbXBvcnQgaSBmcm9tXCIuLi8uLi9jb3JlL0lkZW50aWZpYWJsZS5qc1wiO2ltcG9ydCBzIGZyb21cIi4uLy4uL2NvcmUvTG9nZ2VyLmpzXCI7aW1wb3J0e2Rlc3Ryb3lNYXliZSBhcyBufWZyb21cIi4uLy4uL2NvcmUvbWF5YmUuanNcIjtpbXBvcnQgbCBmcm9tXCIuLi8uLi9jb3JlL1Byb21pc2UuanNcIjtpbXBvcnR7cHJvcGVydHkgYXMgb31mcm9tXCIuLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3Byb3BlcnR5LmpzXCI7aW1wb3J0XCIuLi8uLi9jb3JlL2hhcy5qc1wiO2ltcG9ydFwiLi4vLi4vY29yZS9SYW5kb21MQ0cuanNcIjtpbXBvcnR7c3ViY2xhc3MgYXMgYX1mcm9tXCIuLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3N1YmNsYXNzLmpzXCI7aW1wb3J0e1VwZGF0aW5nSGFuZGxlcyBhcyBwfWZyb21cIi4uLy4uL2NvcmUvc3VwcG9ydC9VcGRhdGluZ0hhbmRsZXMuanNcIjtpbXBvcnR7dmFsaWRhdGVTY2FsZVJhbmdlIGFzIGR9ZnJvbVwiLi4vc3VwcG9ydC9sYXllclZpZXdVdGlscy5qc1wiO2xldCB1PWNsYXNzIGV4dGVuZHMoaS5JZGVudGlmaWFibGVNaXhpbihsLkVzcmlQcm9taXNlTWl4aW4oci5FdmVudGVkTWl4aW4odCkpKSl7Z2V0IHNwYXRpYWxSZWZlcmVuY2VTdXBwb3J0ZWQoKXtyZXR1cm4hMH1jb25zdHJ1Y3RvcihlKXtzdXBlcihlKSx0aGlzLl91cGRhdGluZ0hhbmRsZXM9bmV3IHAsdGhpcy5sYXllcj1udWxsLHRoaXMucGFyZW50PW51bGx9aW5pdGlhbGl6ZSgpe3RoaXMud2hlbigpLmNhdGNoKChlPT57aWYoXCJsYXllcnZpZXc6Y3JlYXRlLWVycm9yXCIhPT1lLm5hbWUpe2NvbnN0IHQ9dGhpcy5sYXllciYmdGhpcy5sYXllci5pZHx8XCJubyBpZFwiLHI9dGhpcy5sYXllcj8udGl0bGV8fFwibm8gdGl0bGVcIjtzLmdldExvZ2dlcih0aGlzKS5lcnJvcihcIiNyZXNvbHZlKClcIixgRmFpbGVkIHRvIHJlc29sdmUgbGF5ZXIgdmlldyAobGF5ZXIgdGl0bGU6ICcke3J9JywgaWQ6ICcke3R9JylgLGUpfX0pKX1kZXN0cm95KCl7dGhpcy5fdXBkYXRpbmdIYW5kbGVzPW4odGhpcy5fdXBkYXRpbmdIYW5kbGVzKX1nZXQgZnVsbE9wYWNpdHkoKXtyZXR1cm4odGhpcy5sYXllcj8ub3BhY2l0eT8/MSkqKHRoaXMucGFyZW50Py5mdWxsT3BhY2l0eT8/MSl9Z2V0IHN1c3BlbmRlZCgpe3JldHVybiB0aGlzLmRlc3Ryb3llZHx8IXRoaXMuY2FuUmVzdW1lKCl9Z2V0IHN1c3BlbmRJbmZvKCl7cmV0dXJuIHRoaXMuZ2V0U3VzcGVuZEluZm8oKX1nZXQgbGVnZW5kRW5hYmxlZCgpe3JldHVybiF0aGlzLnN1c3BlbmRlZCYmITA9PT10aGlzLmxheWVyPy5sZWdlbmRFbmFibGVkfWdldCB1cGRhdGluZygpe3JldHVybiEoIXRoaXMuX3VwZGF0aW5nSGFuZGxlcz8udXBkYXRpbmcmJiF0aGlzLmlzVXBkYXRpbmcoKSl9Z2V0IHVwZGF0aW5nUHJvZ3Jlc3MoKXtyZXR1cm4gdGhpcy51cGRhdGluZz8wOjF9Z2V0IHVwZGF0ZVN1c3BlbmRlZCgpe3JldHVybiB0aGlzLnN1c3BlbmRlZH1nZXQgdmlzaWJsZSgpe3JldHVybiEwPT09dGhpcy5sYXllcj8udmlzaWJsZX1zZXQgdmlzaWJsZShlKXt0aGlzLl9vdmVycmlkZUlmU29tZShcInZpc2libGVcIixlKX1nZXQgdmlzaWJsZUF0Q3VycmVudFNjYWxlKCl7cmV0dXJuITB9Z2V0IHZpc2libGVBdEN1cnJlbnRUaW1lRXh0ZW50KCl7Y29uc3QgZT10aGlzLnZpZXcudGltZUV4dGVudCx0PXRoaXMubGF5ZXI/LnZpc2liaWxpdHlUaW1lRXh0ZW50O3JldHVybiFlfHwhdHx8IWUuaW50ZXJzZWN0aW9uKHQpLmlzRW1wdHl9Y2FuUmVzdW1lKCl7Y29uc3QgZT10aGlzLmxheWVyJiZcImVmZmVjdGl2ZVNjYWxlUmFuZ2VcImluIHRoaXMubGF5ZXI/dGhpcy5sYXllci5lZmZlY3RpdmVTY2FsZVJhbmdlOm51bGw7cmV0dXJuIHRoaXMudmlzaWJsZSYmdGhpcy5sYXllcj8ubG9hZGVkJiZ0aGlzLnBhcmVudCYmIXRoaXMucGFyZW50LnN1c3BlbmRlZCYmdGhpcy52aWV3Py5yZWFkeSYmZChlKSYmdGhpcy52aXNpYmxlQXRDdXJyZW50U2NhbGUmJnRoaXMudmlzaWJsZUF0Q3VycmVudFRpbWVFeHRlbnR8fCExfWdldFN1c3BlbmRJbmZvKCl7Y29uc3QgZT10aGlzLnBhcmVudD8uc3VzcGVuZGVkP3RoaXMucGFyZW50LnN1c3BlbmRJbmZvOnt9LHQ9dGhpczt0LnZpZXc/LnJlYWR5fHwoZS52aWV3Tm90UmVhZHk9ITApLHRoaXMubGF5ZXImJnRoaXMubGF5ZXIubG9hZGVkfHwoZS5sYXllck5vdExvYWRlZD0hMCk7Y29uc3Qgcj10aGlzLmxheWVyJiZcImVmZmVjdGl2ZVNjYWxlUmFuZ2VcImluIHRoaXMubGF5ZXI/dGhpcy5sYXllci5lZmZlY3RpdmVTY2FsZVJhbmdlOm51bGw7cmV0dXJuIGQocikmJnRoaXMudmlzaWJsZUF0Q3VycmVudFNjYWxlfHwoZS5vdXRzaWRlU2NhbGVSYW5nZT0hMCksdGhpcy52aXNpYmxlQXRDdXJyZW50VGltZUV4dGVudHx8KGUub3V0c2lkZVZpc2liaWxpdHlUaW1lRXh0ZW50PSEwKSx0aGlzLnZpc2libGV8fChlLmxheWVySW52aXNpYmxlPSEwKSxlfWlzVXBkYXRpbmcoKXtyZXR1cm4hMX19O2UoW28oe3JlYWRPbmx5OiEwfSldLHUucHJvdG90eXBlLFwic3BhdGlhbFJlZmVyZW5jZVN1cHBvcnRlZFwiLG51bGwpLGUoW28oKV0sdS5wcm90b3R5cGUsXCJ2aWV3XCIsdm9pZCAwKSxlKFtvKCldLHUucHJvdG90eXBlLFwiZnVsbE9wYWNpdHlcIixudWxsKSxlKFtvKCldLHUucHJvdG90eXBlLFwibGF5ZXJcIix2b2lkIDApLGUoW28oKV0sdS5wcm90b3R5cGUsXCJwYXJlbnRcIix2b2lkIDApLGUoW28oe3JlYWRPbmx5OiEwfSldLHUucHJvdG90eXBlLFwic3VzcGVuZGVkXCIsbnVsbCksZShbbyh7cmVhZE9ubHk6ITB9KV0sdS5wcm90b3R5cGUsXCJzdXNwZW5kSW5mb1wiLG51bGwpLGUoW28oe3JlYWRPbmx5OiEwfSldLHUucHJvdG90eXBlLFwibGVnZW5kRW5hYmxlZFwiLG51bGwpLGUoW28oe3R5cGU6Qm9vbGVhbixyZWFkT25seTohMH0pXSx1LnByb3RvdHlwZSxcInVwZGF0aW5nXCIsbnVsbCksZShbbyh7cmVhZE9ubHk6ITB9KV0sdS5wcm90b3R5cGUsXCJ1cGRhdGluZ1Byb2dyZXNzXCIsbnVsbCksZShbbygpXSx1LnByb3RvdHlwZSxcInVwZGF0ZVN1c3BlbmRlZFwiLG51bGwpLGUoW28oKV0sdS5wcm90b3R5cGUsXCJ2aXNpYmxlXCIsbnVsbCksZShbbyh7cmVhZE9ubHk6ITB9KV0sdS5wcm90b3R5cGUsXCJ2aXNpYmxlQXRDdXJyZW50U2NhbGVcIixudWxsKSxlKFtvKHtyZWFkT25seTohMH0pXSx1LnByb3RvdHlwZSxcInZpc2libGVBdEN1cnJlbnRUaW1lRXh0ZW50XCIsbnVsbCksdT1lKFthKFwiZXNyaS52aWV3cy5sYXllcnMuTGF5ZXJWaWV3XCIpXSx1KTtleHBvcnR7dSBhcyBkZWZhdWx0fTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==