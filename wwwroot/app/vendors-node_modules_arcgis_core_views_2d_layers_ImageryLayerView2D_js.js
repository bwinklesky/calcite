export const __webpack_id__ = "vendors-node_modules_arcgis_core_views_2d_layers_ImageryLayerView2D_js";
export const __webpack_ids__ = ["vendors-node_modules_arcgis_core_views_2d_layers_ImageryLayerView2D_js"];
export const __webpack_modules__ = {

/***/ "./node_modules/@arcgis/core/views/2d/engine/imagery/RasterVFContainer.js":
/*!********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/imagery/RasterVFContainer.js ***!
  \********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   RasterVFContainer: () => (/* binding */ t)
/* harmony export */ });
/* harmony import */ var _BrushVectorField_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./BrushVectorField.js */ "./node_modules/@arcgis/core/views/2d/engine/imagery/BrushVectorField.js");
/* harmony import */ var _webgl_enums_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../webgl/enums.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/enums.js");
/* harmony import */ var _webgl_WGLContainer_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../webgl/WGLContainer.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/WGLContainer.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
class t extends _webgl_WGLContainer_js__WEBPACK_IMPORTED_MODULE_2__["default"]{constructor(){super(...arguments),this.symbolTypes=["triangle"]}prepareRenderPasses(s){const t=s.registerRenderPass({name:"imagery (vf)",brushes:[_BrushVectorField_js__WEBPACK_IMPORTED_MODULE_0__["default"]],target:()=>this.children,drawPhase:_webgl_enums_js__WEBPACK_IMPORTED_MODULE_1__.WGLDrawPhase.MAP});return[...super.prepareRenderPasses(s),t]}doRender(e){this.visible&&e.drawPhase===_webgl_enums_js__WEBPACK_IMPORTED_MODULE_1__.WGLDrawPhase.MAP&&this.symbolTypes.forEach((r=>{e.renderPass=r,super.doRender(e)}))}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/engine/webgl/shaderGraph/techniques/GraphicInstanceStore.js":
/*!********************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/webgl/shaderGraph/techniques/GraphicInstanceStore.js ***!
  \********************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   GraphicInstanceStore: () => (/* binding */ l)
/* harmony export */ });
/* harmony import */ var _TechniqueInstance_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./TechniqueInstance.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/shaderGraph/techniques/TechniqueInstance.js");
/* harmony import */ var _TechniqueRegistry_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./TechniqueRegistry.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/shaderGraph/techniques/TechniqueRegistry.js");
/* harmony import */ var _mesh_instanceIdUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./mesh/instanceIdUtils.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/shaderGraph/techniques/mesh/instanceIdUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
let n=0;function a(i,a){return new _TechniqueInstance_js__WEBPACK_IMPORTED_MODULE_0__.FeatureTechniqueInstance((0,_mesh_instanceIdUtils_js__WEBPACK_IMPORTED_MODULE_2__.castInstanceId)(n++),i,a)}const o={visualVariableColor:null,visualVariableOpacity:null,visualVariableSizeMinMaxValue:null,visualVariableSizeScaleStops:null,visualVariableSizeStops:null,visualVariableSizeUnitValue:null,visualVariableRotation:null,visualVariableSizeOutlineScaleStops:null};class l{constructor(){this.instances={fill:a(_TechniqueRegistry_js__WEBPACK_IMPORTED_MODULE_1__.Techniques.fill,{uniforms:o,optionalAttributes:{zoomRange:!0}}),marker:a(_TechniqueRegistry_js__WEBPACK_IMPORTED_MODULE_1__.Techniques.marker,{uniforms:o,optionalAttributes:{zoomRange:!0}}),line:a(_TechniqueRegistry_js__WEBPACK_IMPORTED_MODULE_1__.Techniques.line,{uniforms:o,optionalAttributes:{zoomRange:!0}}),text:a(_TechniqueRegistry_js__WEBPACK_IMPORTED_MODULE_1__.Techniques.text,{uniforms:o,optionalAttributes:{zoomRange:!0,referenceSymbol:!1,clipAngle:!1,visibility:!1}}),outlineFill:a(_TechniqueRegistry_js__WEBPACK_IMPORTED_MODULE_1__.Techniques.outlineFill,{uniforms:o,optionalAttributes:{zoomRange:!0}}),complexFill:a(_TechniqueRegistry_js__WEBPACK_IMPORTED_MODULE_1__.Techniques.complexFill,{uniforms:o,optionalAttributes:{zoomRange:!0}}),gradientFill:a(_TechniqueRegistry_js__WEBPACK_IMPORTED_MODULE_1__.Techniques.gradientFill,{uniforms:o,optionalAttributes:{zoomRange:!0}}),texturedLine:a(_TechniqueRegistry_js__WEBPACK_IMPORTED_MODULE_1__.Techniques.texturedLine,{uniforms:o,optionalAttributes:{zoomRange:!0}}),gradientStroke:a(_TechniqueRegistry_js__WEBPACK_IMPORTED_MODULE_1__.Techniques.gradientStroke,{uniforms:o,optionalAttributes:{zoomRange:!0}}),animatedMarker:a(_TechniqueRegistry_js__WEBPACK_IMPORTED_MODULE_1__.Techniques.animatedMarker,{uniforms:o,optionalAttributes:{zoomRange:!0,value1Position2Value2:!1,lineLength:!1}}),animatedMarkerShift:a(_TechniqueRegistry_js__WEBPACK_IMPORTED_MODULE_1__.Techniques.animatedMarkerShift,{uniforms:o,optionalAttributes:{zoomRange:!0,value1Position2Value2:!0,lineLength:!0}}),animatedPolygon:a(_TechniqueRegistry_js__WEBPACK_IMPORTED_MODULE_1__.Techniques.animatedFill,{uniforms:o,optionalAttributes:{zoomRange:!0,value1Position2Value2:!1,lineLength:!1}}),animatedPolyline:a(_TechniqueRegistry_js__WEBPACK_IMPORTED_MODULE_1__.Techniques.animatedLine,{uniforms:o,optionalAttributes:{zoomRange:!0,value1Position2Value2:!1,accumulatedDistance:!0,segmentDirection:!0,normal:!0,lineLength:!1}}),animatedPolylineShift:a(_TechniqueRegistry_js__WEBPACK_IMPORTED_MODULE_1__.Techniques.animatedLine,{uniforms:o,optionalAttributes:{zoomRange:!0,value1Position2Value2:!1,accumulatedDistance:!0,segmentDirection:!0,normal:!0,lineLength:!0}})},this._instancesById=Object.values(this.instances).reduce(((e,i)=>(e.set(i.instanceId,i),e)),new Map)}getInstance(e){return this._instancesById.get(e)}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/ImageryLayerView2D.js":
/*!*************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/ImageryLayerView2D.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ _)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _Graphic_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../Graphic.js */ "./node_modules/@arcgis/core/Graphic.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_Collection_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/Collection.js */ "./node_modules/@arcgis/core/core/Collection.js");
/* harmony import */ var _core_handleUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../core/handleUtils.js */ "./node_modules/@arcgis/core/core/handleUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../core/reactiveUtils.js */ "./node_modules/@arcgis/core/core/reactiveUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _support_GraphicsCollection_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../support/GraphicsCollection.js */ "./node_modules/@arcgis/core/support/GraphicsCollection.js");
/* harmony import */ var _engine_flow_FlowView2D_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../engine/flow/FlowView2D.js */ "./node_modules/@arcgis/core/views/2d/engine/flow/FlowView2D.js");
/* harmony import */ var _LayerView2D_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./LayerView2D.js */ "./node_modules/@arcgis/core/views/2d/layers/LayerView2D.js");
/* harmony import */ var _graphics_GraphicsView2D_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./graphics/GraphicsView2D.js */ "./node_modules/@arcgis/core/views/2d/layers/graphics/GraphicsView2D.js");
/* harmony import */ var _graphics_HighlightGraphicContainer_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./graphics/HighlightGraphicContainer.js */ "./node_modules/@arcgis/core/views/2d/layers/graphics/HighlightGraphicContainer.js");
/* harmony import */ var _imagery_ImageryView2D_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./imagery/ImageryView2D.js */ "./node_modules/@arcgis/core/views/2d/layers/imagery/ImageryView2D.js");
/* harmony import */ var _imagery_VectorFieldView2D_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./imagery/VectorFieldView2D.js */ "./node_modules/@arcgis/core/views/2d/layers/imagery/VectorFieldView2D.js");
/* harmony import */ var _layers_ImageryLayerView_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../layers/ImageryLayerView.js */ "./node_modules/@arcgis/core/views/layers/ImageryLayerView.js");
/* harmony import */ var _layers_LayerView_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../layers/LayerView.js */ "./node_modules/@arcgis/core/views/layers/LayerView.js");
/* harmony import */ var _layers_RefreshableLayerView_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../layers/RefreshableLayerView.js */ "./node_modules/@arcgis/core/views/layers/RefreshableLayerView.js");
/* harmony import */ var _support_HighlightDefaults_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../../support/HighlightDefaults.js */ "./node_modules/@arcgis/core/views/support/HighlightDefaults.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
let b=class extends((0,_layers_ImageryLayerView_js__WEBPACK_IMPORTED_MODULE_17__["default"])((0,_layers_RefreshableLayerView_js__WEBPACK_IMPORTED_MODULE_19__["default"])((0,_LayerView2D_js__WEBPACK_IMPORTED_MODULE_12__.LayerView2DMixin)(_layers_LayerView_js__WEBPACK_IMPORTED_MODULE_18__["default"])))){constructor(){super(...arguments),this._exportImageVersion=-1,this._highlightGraphics=new _support_GraphicsCollection_js__WEBPACK_IMPORTED_MODULE_10__.GraphicsCollection,this._highlightView=void 0,this.layer=null,this.subview=null}get pixelData(){const{subview:e}=this;return this.updating||!e?null:"getPixelData"in e?e.getPixelData():null}update(e){this.subview?.update(e)}attach(){this.layer.increaseRasterJobHandlerUsage(),this._setSubView(),this.view&&(this._highlightView=new _graphics_GraphicsView2D_js__WEBPACK_IMPORTED_MODULE_13__["default"]({view:this.view,graphics:this._highlightGraphics,requestUpdateCallback:()=>this.requestUpdate(),container:new _graphics_HighlightGraphicContainer_js__WEBPACK_IMPORTED_MODULE_14__["default"](this.view.featuresTilingScheme)}),this.container.addChild(this._highlightView.container)),this.addAttachHandles([(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_6__.watch)((()=>this.layer.exportImageServiceParameters.version),(e=>{e&&this._exportImageVersion!==e&&(this._exportImageVersion=e,this.requestUpdate())}),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_6__.sync),(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_6__.watch)((()=>this.timeExtent),(e=>{const{subview:i}=this;i&&(i.timeExtent=e,"redraw"in i?this.requestUpdate():i.redrawOrRefetch())}),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_6__.sync),this.layer.on("redraw",(()=>{const{subview:e}=this;e&&("redraw"in e?e.redraw():e.redrawOrRefetch())})),(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_6__.watch)((()=>this.layer.renderer),(()=>this._setSubView()))])}detach(){this.layer.decreaseRasterJobHandlerUsage(),this.container.removeAllChildren(),this._detachSubview(this.subview),this.subview?.destroy(),this.subview=null,this._highlightView?.destroy(),this._exportImageVersion=-1}viewChange(){}moveEnd(){this.requestUpdate()}highlight(e,h){if(!((Array.isArray(e)?e[0]:_core_Collection_js__WEBPACK_IMPORTED_MODULE_3__["default"].isCollection(e)?e.at(0):e)instanceof _Graphic_js__WEBPACK_IMPORTED_MODULE_1__["default"]))return (0,_core_handleUtils_js__WEBPACK_IMPORTED_MODULE_4__.makeHandle)();let a=[];Array.isArray(e)||_core_Collection_js__WEBPACK_IMPORTED_MODULE_3__["default"].isCollection(e)?a=e.map((e=>e.clone())):e instanceof _Graphic_js__WEBPACK_IMPORTED_MODULE_1__["default"]&&(a=[e.clone()]);const o=a?.filter(_core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_2__.isSome);if(!o?.length)return (0,_core_handleUtils_js__WEBPACK_IMPORTED_MODULE_4__.makeHandle)();const l=h?.name??_support_HighlightDefaults_js__WEBPACK_IMPORTED_MODULE_20__.defaultHighlightName;return this._addHighlightGraphics(a,l),(0,_core_handleUtils_js__WEBPACK_IMPORTED_MODULE_4__.makeHandle)((()=>!this.destroyed&&this._removeHighlightGraphics(a,l)))}_addHighlightGraphics(e,i){this._highlightGraphics.addMany(e),this._addHighlights(e.map((e=>e.uid)),i)}_removeHighlightGraphics(e,i){this._highlightGraphics.removeMany(e),this._removeHighlights(e.map((e=>e.uid)),i)}async doRefresh(){this.requestUpdate()}isUpdating(){const e=!this.subview||this.subview.updating||!!this._highlightView?.updating;return (0,_core_has_js__WEBPACK_IMPORTED_MODULE_5__["default"])("esri-2d-log-updating")&&console.log(`Updating ImageryLayerView2D (${this.layer.id}): ${e}\n-> subview ${!this.subview||this.subview.updating}\n-> higlightView ${this._highlightView?.updating}\n`),e}_processHighlight(){const e=this._getHighlights();this._highlightView?.setHighlight(e)}_setSubView(){if(!this.view)return;const e=this.layer.renderer?.type;let i="imagery";if("vector-field"===e?i="imageryVF":"flow"===e&&(i="flow"),this.subview){const{type:e}=this.subview;if(e===i)return this._attachSubview(this.subview),void("flow"===e?this.subview.redrawOrRefetch():"imagery"===e&&"lerc"===this.layer.format?this.subview.redraw():this.requestUpdate());this._detachSubview(this.subview),this.subview?.destroy()}this.subview="imagery"===i?new _imagery_ImageryView2D_js__WEBPACK_IMPORTED_MODULE_15__["default"]({layer:this.layer,view:this.view,timeExtent:this.timeExtent}):"imageryVF"===i?new _imagery_VectorFieldView2D_js__WEBPACK_IMPORTED_MODULE_16__["default"]({layer:this.layer,view:this.view,timeExtent:this.timeExtent}):new _engine_flow_FlowView2D_js__WEBPACK_IMPORTED_MODULE_11__["default"]({layer:this.layer,layerView:this}),this._attachSubview(this.subview),this.requestUpdate()}_attachSubview(e){e&&!e.attached&&(e.attach(),e.attached=!0,this.container.addChildAt(e.container,0))}_detachSubview(e){e?.attached&&(this.container.removeChild(e.container),e.detach(),e.attached=!1)}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)()],b.prototype,"pixelData",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)()],b.prototype,"subview",void 0),b=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_9__.subclass)("esri.views.2d.layers.ImageryLayerView2D")],b);const _=b;


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/graphics/AGraphicContainer.js":
/*!*********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/graphics/AGraphicContainer.js ***!
  \*********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   AGraphicContainer: () => (/* binding */ i)
/* harmony export */ });
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/maybe.js */ "./node_modules/@arcgis/core/core/maybe.js");
/* harmony import */ var _engine_AFeatureContainer_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../engine/AFeatureContainer.js */ "./node_modules/@arcgis/core/views/2d/engine/AFeatureContainer.js");
/* harmony import */ var _engine_webgl_enums_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../engine/webgl/enums.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/enums.js");
/* harmony import */ var _engine_webgl_shaderGraph_techniques_GraphicInstanceStore_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../engine/webgl/shaderGraph/techniques/GraphicInstanceStore.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/shaderGraph/techniques/GraphicInstanceStore.js");
/* harmony import */ var _GraphicBoundsRenderer_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./GraphicBoundsRenderer.js */ "./node_modules/@arcgis/core/views/2d/layers/graphics/GraphicBoundsRenderer.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
class i extends _engine_AFeatureContainer_js__WEBPACK_IMPORTED_MODULE_1__.AFeatureContainer{constructor(e){super(e),this._instanceStore=new _engine_webgl_shaderGraph_techniques_GraphicInstanceStore_js__WEBPACK_IMPORTED_MODULE_3__.GraphicInstanceStore,this.checkHighlight=()=>!0}destroy(){super.destroy(),this._boundsRenderer=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_0__.destroyMaybe)(this._boundsRenderer)}get instanceStore(){return this._instanceStore}enableRenderingBounds(e){this._boundsRenderer=new _GraphicBoundsRenderer_js__WEBPACK_IMPORTED_MODULE_4__["default"](e),this.requestRender()}get hasHighlight(){return this.checkHighlight()}onTileData(e,t){e.onMessage(t),this.contains(e)||this.addChild(e),this.requestRender()}_renderChildren(e,t){e.selection=t;for(const r of this.children){if(!r.visible)continue;const t=r.getDisplayList(this._instanceStore,_engine_webgl_enums_js__WEBPACK_IMPORTED_MODULE_2__.FeatureBatchingStrategy.STRICT_ORDER);t?.render(e)}}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/graphics/GraphicBoundsRenderer.js":
/*!*************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/graphics/GraphicBoundsRenderer.js ***!
  \*************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ b)
/* harmony export */ });
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/maybe.js */ "./node_modules/@arcgis/core/core/maybe.js");
/* harmony import */ var _core_libs_gl_matrix_2_math_mat3_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/libs/gl-matrix-2/math/mat3.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/math/mat3.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_mat3f32_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core/libs/gl-matrix-2/factories/mat3f32.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/mat3f32.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_vec2f32_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../core/libs/gl-matrix-2/factories/vec2f32.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/vec2f32.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_vec3f32_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../core/libs/gl-matrix-2/factories/vec3f32.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/vec3f32.js");
/* harmony import */ var _geometry_support_normalizeUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../geometry/support/normalizeUtils.js */ "./node_modules/@arcgis/core/geometry/support/normalizeUtils.js");
/* harmony import */ var _engine_DisplayObject_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../engine/DisplayObject.js */ "./node_modules/@arcgis/core/views/2d/engine/DisplayObject.js");
/* harmony import */ var _engine_webgl_Utils_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../engine/webgl/Utils.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/Utils.js");
/* harmony import */ var _webgl_BufferObject_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../webgl/BufferObject.js */ "./node_modules/@arcgis/core/views/webgl/BufferObject.js");
/* harmony import */ var _webgl_enums_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../webgl/enums.js */ "./node_modules/@arcgis/core/views/webgl/enums.js");
/* harmony import */ var _webgl_VertexArrayObject_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../webgl/VertexArrayObject.js */ "./node_modules/@arcgis/core/views/webgl/VertexArrayObject.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
const v=Math.PI/180,x=4;class b extends _engine_DisplayObject_js__WEBPACK_IMPORTED_MODULE_6__.DisplayObject{constructor(t){super(),this._program=null,this._vao=null,this._vertexBuffer=null,this._indexBuffer=null,this._dvsMat3=(0,_core_libs_gl_matrix_2_factories_mat3f32_js__WEBPACK_IMPORTED_MODULE_2__.create)(),this._localOrigin={x:0,y:0},this._getBounds=t}destroy(){this._vao&&(this._vao.dispose(),this._vao=null,this._vertexBuffer=null,this._indexBuffer=null),this._program=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_0__.disposeMaybe)(this._program)}doRender(t){const{context:e}=t,r=this._getBounds();if(r.length<1)return;this._createShaderProgram(e),this._updateMatricesAndLocalOrigin(t),this._updateBufferData(e,r),e.setBlendingEnabled(!0),e.setDepthTestEnabled(!1),e.setStencilWriteMask(0),e.setStencilTestEnabled(!1),e.setBlendFunction(_webgl_enums_js__WEBPACK_IMPORTED_MODULE_9__.BlendFactor.ONE,_webgl_enums_js__WEBPACK_IMPORTED_MODULE_9__.BlendFactor.ONE_MINUS_SRC_ALPHA),e.setColorMask(!0,!0,!0,!0);const i=this._program;e.bindVAO(this._vao),e.useProgram(i),i.setUniformMatrix3fv("u_dvsMat3",this._dvsMat3),e.gl.lineWidth(1),e.drawElements(_webgl_enums_js__WEBPACK_IMPORTED_MODULE_9__.PrimitiveType.LINES,8*r.length,_webgl_enums_js__WEBPACK_IMPORTED_MODULE_9__.DataType.UNSIGNED_INT,0),e.bindVAO()}_createTransforms(){return{displayViewScreenMat3:(0,_core_libs_gl_matrix_2_factories_mat3f32_js__WEBPACK_IMPORTED_MODULE_2__.create)()}}_createShaderProgram(t){if(this._program)return;const e="precision highp float;\n        uniform mat3 u_dvsMat3;\n\n        attribute vec2 a_position;\n\n        void main() {\n          mediump vec3 pos = u_dvsMat3 * vec3(a_position, 1.0);\n          gl_Position = vec4(pos.xy, 0.0, 1.0);\n        }",r="precision mediump float;\n      void main() {\n        gl_FragColor = vec4(0.75, 0.0, 0.0, 0.75);\n      }";this._program=t.programCache.acquire(e,r,y().attributes)}_updateMatricesAndLocalOrigin(t){const{state:a}=t,{displayMat3:m,size:c,resolution:u,pixelRatio:_,rotation:h,viewpoint:p}=a,d=v*h,{x:g,y:x}=p.targetGeometry,b=(0,_geometry_support_normalizeUtils_js__WEBPACK_IMPORTED_MODULE_5__.normalizeMapX)(g,a.spatialReference);this._localOrigin.x=b,this._localOrigin.y=x;const y=_*c[0],B=_*c[1],M=u*y,j=u*B,A=(0,_core_libs_gl_matrix_2_math_mat3_js__WEBPACK_IMPORTED_MODULE_1__.identity)(this._dvsMat3);(0,_core_libs_gl_matrix_2_math_mat3_js__WEBPACK_IMPORTED_MODULE_1__.multiply)(A,A,m),(0,_core_libs_gl_matrix_2_math_mat3_js__WEBPACK_IMPORTED_MODULE_1__.translate)(A,A,(0,_core_libs_gl_matrix_2_factories_vec2f32_js__WEBPACK_IMPORTED_MODULE_3__.fromValues)(y/2,B/2)),(0,_core_libs_gl_matrix_2_math_mat3_js__WEBPACK_IMPORTED_MODULE_1__.scale)(A,A,(0,_core_libs_gl_matrix_2_factories_vec3f32_js__WEBPACK_IMPORTED_MODULE_4__.fromValues)(c[0]/M,-B/j,1)),(0,_core_libs_gl_matrix_2_math_mat3_js__WEBPACK_IMPORTED_MODULE_1__.rotate)(A,A,-d)}_updateBufferData(t,e){const{x:r,y:i}=this._localOrigin,s=2*x*e.length,o=new Float32Array(s),a=new Uint32Array(8*e.length);let n=0,l=0;for(const f of e)f&&(o[2*n]=f[0]-r,o[2*n+1]=f[1]-i,o[2*n+2]=f[0]-r,o[2*n+3]=f[3]-i,o[2*n+4]=f[2]-r,o[2*n+5]=f[3]-i,o[2*n+6]=f[2]-r,o[2*n+7]=f[1]-i,a[l]=n+0,a[l+1]=n+3,a[l+2]=n+3,a[l+3]=n+2,a[l+4]=n+2,a[l+5]=n+1,a[l+6]=n+1,a[l+7]=n+0,n+=4,l+=8);if(this._vertexBuffer?this._vertexBuffer.setData(o.buffer):this._vertexBuffer=_webgl_BufferObject_js__WEBPACK_IMPORTED_MODULE_8__.BufferObject.createVertex(t,_webgl_enums_js__WEBPACK_IMPORTED_MODULE_9__.Usage.DYNAMIC_DRAW,o.buffer),this._indexBuffer?this._indexBuffer.setData(a):this._indexBuffer=_webgl_BufferObject_js__WEBPACK_IMPORTED_MODULE_8__.BufferObject.createIndex(t,_webgl_enums_js__WEBPACK_IMPORTED_MODULE_9__.Usage.DYNAMIC_DRAW,a),!this._vao){const e=y();this._vao=new _webgl_VertexArrayObject_js__WEBPACK_IMPORTED_MODULE_10__.VertexArrayObject(t,e.attributes,e.bufferLayouts,new Map([["geometry",this._vertexBuffer]]),this._indexBuffer)}}}const y=()=>(0,_engine_webgl_Utils_js__WEBPACK_IMPORTED_MODULE_7__.createProgramDescriptor)("bounds",{geometry:[{location:0,name:"a_position",count:2,type:_webgl_enums_js__WEBPACK_IMPORTED_MODULE_9__.DataType.FLOAT}]});


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/graphics/HighlightGraphicContainer.js":
/*!*****************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/graphics/HighlightGraphicContainer.js ***!
  \*****************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ a)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_RandomLCG_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../core/RandomLCG.js */ "./node_modules/@arcgis/core/core/RandomLCG.js");
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _engine_webgl_enums_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../engine/webgl/enums.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/enums.js");
/* harmony import */ var _AGraphicContainer_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./AGraphicContainer.js */ "./node_modules/@arcgis/core/views/2d/layers/graphics/AGraphicContainer.js");
/* harmony import */ var _support_util_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../support/util.js */ "./node_modules/@arcgis/core/views/2d/layers/support/util.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
let a=class extends _AGraphicContainer_js__WEBPACK_IMPORTED_MODULE_7__.AGraphicContainer{get hasHighlight(){return this.children.some((r=>r.hasData))}renderChildren(r){this.attributeView.update(),r.drawPhase===_engine_webgl_enums_js__WEBPACK_IMPORTED_MODULE_6__.WGLDrawPhase.HIGHLIGHT&&this.children.some((r=>r.hasData))&&(super.renderChildren(r),r.context.setColorMask(!0,!0,!0,!0),(0,_support_util_js__WEBPACK_IMPORTED_MODULE_8__.renderHighlight)(r,!1,(r=>{this._renderChildren(r,_engine_webgl_enums_js__WEBPACK_IMPORTED_MODULE_6__.FeatureSelection.Highlight)})))}};a=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_5__.subclass)("esri.views.2d.layers.graphics.HighlightGraphicContainer")],a);


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/imagery/ImageryVFStrategy.js":
/*!********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/imagery/ImageryVFStrategy.js ***!
  \********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ c)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/Accessor.js */ "./node_modules/@arcgis/core/core/Accessor.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_RandomLCG_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../core/RandomLCG.js */ "./node_modules/@arcgis/core/core/RandomLCG.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../geometry/Extent.js */ "./node_modules/@arcgis/core/geometry/Extent.js");
/* harmony import */ var _engine_imagery_RasterVFDisplayObject_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../engine/imagery/RasterVFDisplayObject.js */ "./node_modules/@arcgis/core/views/2d/engine/imagery/RasterVFDisplayObject.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
let c=class extends _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__["default"]{constructor(e){super(e),this._loading=null,this.update=(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__.debounce)(((e,t)=>this._update(e,t).catch((e=>{(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__.isAbortError)(e)||_core_Logger_js__WEBPACK_IMPORTED_MODULE_2__["default"].getLogger(this).error(e)}))))}get updating(){return!!this._loading}redraw(e){if(!this.container.children.length)return;const t=this.container.children[0];t.symbolizerParameters=e,t.invalidateVAO(),this.container.symbolTypes="wind_speed"===e.style?["scalar","triangle"]:"simple_scalar"===e.style?["scalar"]:["triangle"],this.container.requestRender()}async _update(e,t,i){if(!e.stationary)return;const{extent:r,spatialReference:o}=e.state,s=new _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_8__["default"]({xmin:r.xmin,ymin:r.ymin,xmax:r.xmax,ymax:r.ymax,spatialReference:o}),[a,l]=e.state.size;this._loading=this.fetchPixels(s,a,l,i);const c=await this._loading;this._addToDisplay(c,t,e.state),this._loading=null}_addToDisplay(e,t,i){if(null==e.pixelBlock)return this.container.children.forEach((e=>e.destroy())),void this.container.removeAllChildren();const{extent:r,pixelBlock:o}=e,s=new _engine_imagery_RasterVFDisplayObject_js__WEBPACK_IMPORTED_MODULE_9__.RasterVFDisplayObject(o);s.offset=[0,0],s.symbolizerParameters=t,s.rawPixelData=e,s.invalidateVAO(),s.x=r.xmin,s.y=r.ymax,s.pixelRatio=i.pixelRatio,s.rotation=i.rotation,s.resolution=i.resolution,s.width=o.width*t.symbolTileSize,s.height=o.height*t.symbolTileSize,this.container.children.forEach((e=>e.destroy())),this.container.removeAllChildren(),this.container.symbolTypes="wind_speed"===t.style?["scalar","triangle"]:"simple_scalar"===t.style?["scalar"]:["triangle"],this.container.addChild(s)}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],c.prototype,"fetchPixels",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],c.prototype,"container",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],c.prototype,"_loading",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],c.prototype,"updating",null),c=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__.subclass)("esri.views.2d.layers.imagery.ImageryVFStrategy")],c);


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/imagery/ImageryView2D.js":
/*!****************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/imagery/ImageryView2D.js ***!
  \****************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ m)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _Graphic_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../Graphic.js */ "./node_modules/@arcgis/core/Graphic.js");
/* harmony import */ var _core_Accessor_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core/Accessor.js */ "./node_modules/@arcgis/core/core/Accessor.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_RandomLCG_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../core/RandomLCG.js */ "./node_modules/@arcgis/core/core/RandomLCG.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _layers_support_rasterFunctions_pixelUtils_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../layers/support/rasterFunctions/pixelUtils.js */ "./node_modules/@arcgis/core/layers/support/rasterFunctions/pixelUtils.js");
/* harmony import */ var _engine_BitmapContainer_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../engine/BitmapContainer.js */ "./node_modules/@arcgis/core/views/2d/engine/BitmapContainer.js");
/* harmony import */ var _engine_Container_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../engine/Container.js */ "./node_modules/@arcgis/core/views/2d/engine/Container.js");
/* harmony import */ var _engine_ImageryBitmapSource_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../engine/ImageryBitmapSource.js */ "./node_modules/@arcgis/core/views/2d/engine/ImageryBitmapSource.js");
/* harmony import */ var _support_ExportStrategy_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../support/ExportStrategy.js */ "./node_modules/@arcgis/core/views/2d/layers/support/ExportStrategy.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
let m=class extends _core_Accessor_js__WEBPACK_IMPORTED_MODULE_2__["default"]{constructor(){super(...arguments),this.attached=!1,this.container=new _engine_Container_js__WEBPACK_IMPORTED_MODULE_11__.Container,this.updateRequested=!1,this.type="imagery",this._bitmapView=new _engine_BitmapContainer_js__WEBPACK_IMPORTED_MODULE_10__.BitmapContainer}destroy(){this.attached&&(this.detach(),this.attached=!1),this.updateRequested=!1}get updating(){return!this.attached||this.isUpdating()}update(t){this.strategy.update(t).catch((t=>{(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_4__.isAbortError)(t)||_core_Logger_js__WEBPACK_IMPORTED_MODULE_3__["default"].getLogger(this).error(t)}))}hitTest(t){return new _Graphic_js__WEBPACK_IMPORTED_MODULE_1__["default"]({attributes:{},geometry:t.clone(),layer:this.layer})}attach(){this.container.addChild(this._bitmapView);const t=this.layer.version>=10,e=this.layer.version>=10.1?this.layer.imageMaxHeight:2048,i=this.layer.version>=10.1?this.layer.imageMaxWidth:2048;this.strategy=new _support_ExportStrategy_js__WEBPACK_IMPORTED_MODULE_13__["default"]({container:this._bitmapView,imageNormalizationSupported:t,imageMaxHeight:e,imageMaxWidth:i,fetchSource:this._fetchImage.bind(this),requestUpdate:()=>this.requestUpdate()})}detach(){this.strategy.destroy(),this._bitmapView.removeAllChildren(),this.container.removeAllChildren(),this.updateRequested=!1}redraw(){this.strategy.updateExports((async t=>{const{source:e}=t;if(!e||e instanceof ImageBitmap)return;const i=await this.layer.applyRenderer({extent:e.extent,pixelBlock:e.originalPixelBlock??e.pixelBlock});e.filter=t=>this.layer.pixelFilter?this.layer.applyFilter(t):{...i,extent:e.extent}})).catch((t=>{(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_4__.isAbortError)(t)||_core_Logger_js__WEBPACK_IMPORTED_MODULE_3__["default"].getLogger(this).error(t)}))}requestUpdate(){this.updateRequested||(this.updateRequested=!0,this.view.requestUpdate())}isUpdating(){return this.strategy.updating||this.updateRequested}getPixelData(){if(this.updating)return null;const t=this.strategy.bitmaps;if(1===t.length&&t[0].source)return{extent:t[0].source.extent,pixelBlock:t[0].source.originalPixelBlock};if(t.length>1){const e=this.view.extent,i=t.map((t=>t.source)).filter((t=>t.extent&&t.extent.intersects(e))).map((t=>({extent:t.extent,pixelBlock:t.originalPixelBlock}))),r=(0,_layers_support_rasterFunctions_pixelUtils_js__WEBPACK_IMPORTED_MODULE_9__.mosaicPixelData)(i,e);return null!=r?{extent:r.extent,pixelBlock:r.pixelBlock}:null}return null}async _fetchImage(t,e,i,r){(r=r||{}).timeExtent=this.timeExtent,r.requestAsImageElement=!0,r.returnImageBitmap=!0;const a=await this.layer.internalFetchImage(t,e,i,r);if(a.imageBitmap)return a.imageBitmap;const s=await this.layer.applyRenderer(a.pixelData,{signal:r.signal}),o=new _engine_ImageryBitmapSource_js__WEBPACK_IMPORTED_MODULE_12__["default"](s.pixelBlock,s.extent?.clone(),a.pixelData.pixelBlock);return o.filter=t=>this.layer.applyFilter(t),o}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],m.prototype,"attached",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],m.prototype,"container",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],m.prototype,"layer",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],m.prototype,"strategy",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],m.prototype,"timeExtent",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],m.prototype,"view",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],m.prototype,"updateRequested",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],m.prototype,"updating",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],m.prototype,"type",void 0),m=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_8__.subclass)("esri.views.2d.layers.imagery.ImageryView2D")],m);


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/imagery/VectorFieldView2D.js":
/*!********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/imagery/VectorFieldView2D.js ***!
  \********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ x)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _Graphic_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../Graphic.js */ "./node_modules/@arcgis/core/Graphic.js");
/* harmony import */ var _request_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../request.js */ "./node_modules/@arcgis/core/request.js");
/* harmony import */ var _core_Accessor_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../core/Accessor.js */ "./node_modules/@arcgis/core/core/Accessor.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../core/reactiveUtils.js */ "./node_modules/@arcgis/core/core/reactiveUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_RandomLCG_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../core/RandomLCG.js */ "./node_modules/@arcgis/core/core/RandomLCG.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../geometry/Extent.js */ "./node_modules/@arcgis/core/geometry/Extent.js");
/* harmony import */ var _geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../../geometry/support/spatialReferenceUtils.js */ "./node_modules/@arcgis/core/geometry/support/spatialReferenceUtils.js");
/* harmony import */ var _layers_support_rasterFunctions_rasterProjectionHelper_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../../layers/support/rasterFunctions/rasterProjectionHelper.js */ "./node_modules/@arcgis/core/layers/support/rasterFunctions/rasterProjectionHelper.js");
/* harmony import */ var _layers_support_rasterFunctions_vectorFieldUtils_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../../layers/support/rasterFunctions/vectorFieldUtils.js */ "./node_modules/@arcgis/core/layers/support/rasterFunctions/vectorFieldUtils.js");
/* harmony import */ var _engine_imagery_RasterVFContainer_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../engine/imagery/RasterVFContainer.js */ "./node_modules/@arcgis/core/views/2d/engine/imagery/RasterVFContainer.js");
/* harmony import */ var _ImageryVFStrategy_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./ImageryVFStrategy.js */ "./node_modules/@arcgis/core/views/2d/layers/imagery/ImageryVFStrategy.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
let x=class extends _core_Accessor_js__WEBPACK_IMPORTED_MODULE_3__["default"]{constructor(){super(...arguments),this.attached=!1,this.container=new _engine_imagery_RasterVFContainer_js__WEBPACK_IMPORTED_MODULE_15__.RasterVFContainer,this.type="imageryVF",this._dataParameters={exportParametersVersion:0,bbox:"",symbolTileSize:0,time:""},this._fetchpixels=async(t,e,r,i)=>{const s=await this._projectFullExtentPromise,{layer:o}=this,{symbolTileSize:a}=o.renderer,{extent:n,width:l,height:c}=(0,_layers_support_rasterFunctions_vectorFieldUtils_js__WEBPACK_IMPORTED_MODULE_14__.snapImageToSymbolTile)(t,e,r,a,s);if(null!=s&&!s.intersects(t))return{extent:n,pixelBlock:null};const m={bbox:`${n.xmin}, ${n.ymin}, ${n.xmax}, ${n.ymax}`,exportParametersVersion:o.exportImageServiceParameters.version,symbolTileSize:a,time:JSON.stringify(this.timeExtent||"")};if(this._canReuseVectorFieldData(m)){const t=this.getPixelData();if(null!=t){if(`${t.extent.xmin}, ${t.extent.ymin}, ${t.extent.xmax}, ${t.extent.ymax}`===m.bbox)return t}}const{pixelBlock:p}=await o.fetchPixels(n,l,c,{timeExtent:this.timeExtent,interpolation:o.interpolation,signal:i});if(this._dataParameters=m,null==p)return{extent:n,pixelBlock:null};const{dataType:h}=o.rasterInfo;return{extent:n,pixelBlock:"vector-uv"===h&&p?await o.convertVectorFieldData(p,"vector-uv",{signal:i}):p}}}get updating(){return!this.attached||this._strategy.updating}attach(){this._projectFullExtentPromise=this._getProjectedFullExtent(this.view.spatialReference),this._strategy=new _ImageryVFStrategy_js__WEBPACK_IMPORTED_MODULE_16__["default"]({container:this.container,fetchPixels:this._fetchpixels}),this.addHandles((0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_6__.watch)((()=>this.layer.renderer),(t=>this._updateSymbolizerParams(t)),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_6__.syncAndInitial),"attach")}detach(){this._strategy.destroy(),this.container.children.forEach((t=>t.destroy())),this.container.removeAllChildren(),this.removeHandles("attach"),this._strategy=this.container=this._projectFullExtentPromise=null}getPixelData(){const t=this.container.children[0]?.rawPixelData;if(this.updating||!t)return null;const{extent:e,pixelBlock:r}=t;return{extent:e,pixelBlock:r}}hitTest(t){return new _Graphic_js__WEBPACK_IMPORTED_MODULE_1__["default"]({attributes:{},geometry:t.clone(),layer:this.layer})}update(t){this._strategy.update(t,this._symbolizerParams).catch((t=>{(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_5__.isAbortError)(t)||_core_Logger_js__WEBPACK_IMPORTED_MODULE_4__["default"].getLogger(this).error(t)}))}redraw(){const{renderer:t}=this.layer;t&&(this._updateSymbolizerParams(t),this._strategy.redraw(this._symbolizerParams))}_canReuseVectorFieldData(t){const e=this._dataParameters.exportParametersVersion===t.exportParametersVersion,r=this._dataParameters.time===t.time,i=this._dataParameters.symbolTileSize===t.symbolTileSize,s=this._dataParameters.bbox===t.bbox;return e&&r&&i&&s}async _getProjectedFullExtent(t){try{return (0,_layers_support_rasterFunctions_rasterProjectionHelper_js__WEBPACK_IMPORTED_MODULE_13__.projectExtent)(this.layer.fullExtent,t)}catch(e){try{const e=(await (0,_request_js__WEBPACK_IMPORTED_MODULE_2__["default"])(this.layer.url,{query:{option:"footprints",outSR:(0,_geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_12__.srToRESTValue)(t),f:"json"}})).data.featureCollection.layers[0].layerDefinition.extent;return e?_geometry_Extent_js__WEBPACK_IMPORTED_MODULE_11__["default"].fromJSON(e):null}catch{return null}}}_updateSymbolizerParams(t){"vector-field"===t?.type&&(this._symbolizerParams=this.layer.symbolizer.generateWebGLParameters({pixelBlock:null}))}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)()],x.prototype,"attached",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)()],x.prototype,"container",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)()],x.prototype,"layer",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)()],x.prototype,"timeExtent",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)()],x.prototype,"type",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)()],x.prototype,"view",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)()],x.prototype,"updating",null),x=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_10__.subclass)("esri.views.2d.layers.imagery.VectorFieldView2D")],x);


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/support/ExportStrategy.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/support/ExportStrategy.js ***!
  \*****************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ M)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/Accessor.js */ "./node_modules/@arcgis/core/core/Accessor.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_RandomLCG_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../core/RandomLCG.js */ "./node_modules/@arcgis/core/core/RandomLCG.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../geometry/support/aaBoundingRect.js */ "./node_modules/@arcgis/core/geometry/support/aaBoundingRect.js");
/* harmony import */ var _geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../geometry/support/spatialReferenceUtils.js */ "./node_modules/@arcgis/core/geometry/support/spatialReferenceUtils.js");
/* harmony import */ var _layers_support_TileInfo_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../layers/support/TileInfo.js */ "./node_modules/@arcgis/core/layers/support/TileInfo.js");
/* harmony import */ var _viewStateUtils_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../viewStateUtils.js */ "./node_modules/@arcgis/core/views/2d/viewStateUtils.js");
/* harmony import */ var _engine_Bitmap_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../engine/Bitmap.js */ "./node_modules/@arcgis/core/views/2d/engine/Bitmap.js");
/* harmony import */ var _tiling_TileInfoView_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../tiling/TileInfoView.js */ "./node_modules/@arcgis/core/views/2d/tiling/TileInfoView.js");
/* harmony import */ var _tiling_TileKey_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../tiling/TileKey.js */ "./node_modules/@arcgis/core/views/2d/tiling/TileKey.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
const y=(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_8__.create)(),x=[0,0],S=new _tiling_TileKey_js__WEBPACK_IMPORTED_MODULE_14__["default"](0,0,0,0),w={imageMaxWidth:2048,imageMaxHeight:2048,imageRotationSupported:!1,imageNormalizationSupported:!1,hidpi:!1};let M=class extends _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__["default"]{constructor(t){super(t),this._imagePromise=null,this.bitmaps=[],this.hidpi=w.hidpi,this.imageMaxWidth=w.imageMaxWidth,this.imageMaxHeight=w.imageMaxHeight,this.imageRotationSupported=w.imageRotationSupported,this.imageNormalizationSupported=w.imageNormalizationSupported,this.update=(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__.debounce)((async(t,e)=>{if((0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__.throwIfAborted)(e),!t.stationary||this.destroyed)return;const i=t.state,s=(0,_geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_9__.getInfo)(i.spatialReference),a=this.hidpi?t.pixelRatio:1,n=i.worldScreenWidth>0,p=n&&this.imageNormalizationSupported&&i.worldScreenWidth<i.size[0],m=Math.round((this.imageMaxWidth??0)/a),d=Math.round((this.imageMaxHeight??0)/a);p?(x[0]=i.worldScreenWidth,x[1]=i.size[1]):this.imageRotationSupported?(x[0]=i.size[0],x[1]=i.size[1]):(0,_viewStateUtils_js__WEBPACK_IMPORTED_MODULE_11__.getOuterSize)(x,i);const c=Math.floor(x[0])>m||Math.floor(x[1])>d,u=s&&(i.extent.xmin<s.valid[0]||i.extent.xmax>s.valid[1]),g=!this.imageNormalizationSupported&&u,f=!c&&!g,y=this.imageRotationSupported?i.rotation:0,S=this.container.children.slice();if(f){const t=p?i.paddedViewState.center:i.center;this._imagePromise=this._singleExport(i,x,t,i.resolution,y,a,e)}else{let t=Math.min(m,d);n&&(t=Math.min(i.worldScreenWidth,t),t=Math.round(i.worldScreenWidth/Math.ceil(i.worldScreenWidth/t))),this._imagePromise=this._tiledExport(i,t,a,e)}try{const t=await this._imagePromise??[];(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__.throwIfAborted)(e);const i=[];if(this._imagePromise=null,this.destroyed)return;this.bitmaps=t;for(const e of S)t.includes(e)||i.push(e.fadeOut().then((()=>{e.remove(),e.destroy()})));for(const e of t)i.push(e.fadeIn());await Promise.all(i)}catch(w){this._imagePromise=null,(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__.throwIfAbortError)(w)}}),5e3),this.updateExports=(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__.debounce)((async t=>{const e=[];for(const i of this.container.children){if(!i.visible||!i.stage)return;e.push(t(i).then((()=>{i.invalidateTexture(),i.requestRender()})))}this._imagePromise=(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__.eachAlways)(e).then((()=>this._imagePromise=null)),await this._imagePromise}))}destroy(){this.bitmaps.forEach((t=>t.destroy())),this.bitmaps=[]}get updating(){return!this.destroyed&&null!==this._imagePromise}async _export(t,e,i,r,s,a){const n=await this.fetchSource(t,Math.floor(e*s),Math.floor(i*s),{rotation:r,pixelRatio:s,signal:a});(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__.throwIfAborted)(a);const p=new _engine_Bitmap_js__WEBPACK_IMPORTED_MODULE_12__.Bitmap(null,!0);return p.x=t.xmin,p.y=t.ymax,p.resolution=t.width/e,p.rotation=r,p.pixelRatio=s,p.opacity=0,this.container.addChild(p),await p.setSourceAsync(n,a),(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__.throwIfAborted)(a),p}async _singleExport(t,e,i,o,r,s,a){(0,_viewStateUtils_js__WEBPACK_IMPORTED_MODULE_11__.getBBox)(y,i,o,e);const n=(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_8__.toExtent)(y,t.spatialReference);return[await this._export(n,e[0],e[1],r,s,a)]}_tiledExport(t,e,i,o){const r=_layers_support_TileInfo_js__WEBPACK_IMPORTED_MODULE_10__["default"].create({size:e,spatialReference:t.spatialReference,scales:[t.scale]}),s=new _tiling_TileInfoView_js__WEBPACK_IMPORTED_MODULE_13__["default"](r),a=s.getTileCoverage(t);if(!a)return null;const n=[];return a.forEach(((r,a,m,h)=>{S.set(r,a,m,0),s.getTileBounds(y,S);const d=(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_8__.toExtent)(y,t.spatialReference);n.push(this._export(d,e,e,0,i,o).then((t=>(0!==h&&(S.set(r,a,m,h),s.getTileBounds(y,S),t.x=y[0],t.y=y[3]),t))))})),Promise.all(n)}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],M.prototype,"_imagePromise",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],M.prototype,"bitmaps",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],M.prototype,"container",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],M.prototype,"fetchSource",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],M.prototype,"hidpi",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],M.prototype,"imageMaxWidth",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],M.prototype,"imageMaxHeight",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],M.prototype,"imageRotationSupported",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],M.prototype,"imageNormalizationSupported",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],M.prototype,"requestUpdate",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],M.prototype,"updating",null),M=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__.subclass)("esri.views.2d.layers.support.ExportStrategy")],M);


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/viewStateUtils.js":
/*!**************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/viewStateUtils.js ***!
  \**************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   getBBox: () => (/* binding */ a),
/* harmony export */   getOuterSize: () => (/* binding */ o)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
const t=Math.PI/180;function n(n){return n*t}function o(t,o){const a=n(o.rotation),r=Math.abs(Math.cos(a)),s=Math.abs(Math.sin(a)),[u,c]=o.size;return t[0]=Math.round(c*s+u*r),t[1]=Math.round(c*r+u*s),t}function a(t,n,o,a){const[r,s]=n,[u,c]=a,h=.5*o;return t[0]=r-h*u,t[1]=s-h*c,t[2]=r+h*u,t[3]=s+h*c,t}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/layers/ImageryLayerView.js":
/*!********************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/layers/ImageryLayerView.js ***!
  \********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ m)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_RandomLCG_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../core/RandomLCG.js */ "./node_modules/@arcgis/core/core/RandomLCG.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _geometry_Point_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../geometry/Point.js */ "./node_modules/@arcgis/core/geometry/Point.js");
/* harmony import */ var _layers_support_timeSupport_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../layers/support/timeSupport.js */ "./node_modules/@arcgis/core/layers/support/timeSupport.js");
/* harmony import */ var _layers_support_rasterFunctions_rasterProjectionHelper_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../layers/support/rasterFunctions/rasterProjectionHelper.js */ "./node_modules/@arcgis/core/layers/support/rasterFunctions/rasterProjectionHelper.js");
/* harmony import */ var _rest_support_Query_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../rest/support/Query.js */ "./node_modules/@arcgis/core/rest/support/Query.js");
/* harmony import */ var _support_popupUtils_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./support/popupUtils.js */ "./node_modules/@arcgis/core/views/layers/support/popupUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
const m=m=>{let l=class extends m{constructor(){super(...arguments),this.view=null}get timeExtent(){return (0,_layers_support_timeSupport_js__WEBPACK_IMPORTED_MODULE_9__.combineTimeExtent)(this.layer,this.view?.timeExtent,this._get("timeExtent"))}async fetchPopupFeaturesAtLocation(e,o){const{layer:s}=this;if(!e)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_1__["default"]("imagerylayerview:fetchPopupFeatures","Nothing to fetch without area",{layer:s});const{popupEnabled:a}=s,p=(0,_support_popupUtils_js__WEBPACK_IMPORTED_MODULE_12__.getFetchPopupTemplate)(s,o);if(!a||null==p)return[];const n=await p.getRequiredFields();(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_2__.throwIfAborted)(o);const m=new _rest_support_Query_js__WEBPACK_IMPORTED_MODULE_11__["default"];m.timeExtent=this.timeExtent,m.geometry=e,m.outFields=n,m.outSpatialReference=e.spatialReference;const{resolution:l,spatialReference:y}=this.view,h="2d"===this.view.type?new _geometry_Point_js__WEBPACK_IMPORTED_MODULE_8__["default"](l,l,y):new _geometry_Point_js__WEBPACK_IMPORTED_MODULE_8__["default"](.5*l,.5*l,y),{returnTopmostRaster:f,showNoDataRecords:w}=p.layerOptions||{returnTopmostRaster:!0,showNoDataRecords:!1},d={returnDomainValues:!0,returnTopmostRaster:f,pixelSize:h,showNoDataRecords:w,signal:o?.signal};return s.queryVisibleRasters(m,d).then((e=>e))}async getSourceScale(){return await (0,_layers_support_rasterFunctions_rasterProjectionHelper_js__WEBPACK_IMPORTED_MODULE_10__.load)(),await this.layer.load(),(0,_layers_support_rasterFunctions_rasterProjectionHelper_js__WEBPACK_IMPORTED_MODULE_10__.getSourceScale)(this.layer.serviceRasterInfo,this.view.spatialReference)}canResume(){return!!super.canResume()&&!this.timeExtent?.isEmpty}};return (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)()],l.prototype,"layer",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)()],l.prototype,"suspended",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)({readOnly:!0})],l.prototype,"timeExtent",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)()],l.prototype,"view",void 0),l=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__.subclass)("esri.views.layers.ImageryLayerView")],l),l};


/***/ })

};

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmVuZG9ycy1ub2RlX21vZHVsZXNfYXJjZ2lzX2NvcmVfdmlld3NfMmRfbGF5ZXJzX0ltYWdlcnlMYXllclZpZXcyRF9qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQzhILGdCQUFnQiw4REFBQyxDQUFDLGNBQWMsa0RBQWtELHVCQUF1Qiw4QkFBOEIsNkJBQTZCLDREQUFDLHFDQUFxQyx5REFBQyxLQUFLLEVBQUUsMENBQTBDLFlBQVksNEJBQTRCLHlEQUFDLG9DQUFvQyxpQ0FBaUMsSUFBbUM7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ0ozZ0I7QUFDQTtBQUNBO0FBQ0E7QUFDaUwsUUFBUSxnQkFBZ0IsV0FBVywyRUFBQyxDQUFDLHdFQUFDLFdBQVcsU0FBUyw2UEFBNlAsUUFBUSxjQUFjLGdCQUFnQixPQUFPLDZEQUFDLE9BQU8sK0JBQStCLGNBQWMsV0FBVyw2REFBQyxTQUFTLCtCQUErQixjQUFjLFNBQVMsNkRBQUMsT0FBTywrQkFBK0IsY0FBYyxTQUFTLDZEQUFDLE9BQU8sK0JBQStCLDREQUE0RCxnQkFBZ0IsNkRBQUMsY0FBYywrQkFBK0IsY0FBYyxnQkFBZ0IsNkRBQUMsY0FBYywrQkFBK0IsY0FBYyxpQkFBaUIsNkRBQUMsZUFBZSwrQkFBK0IsY0FBYyxpQkFBaUIsNkRBQUMsZUFBZSwrQkFBK0IsY0FBYyxtQkFBbUIsNkRBQUMsaUJBQWlCLCtCQUErQixjQUFjLG1CQUFtQiw2REFBQyxpQkFBaUIsK0JBQStCLHFEQUFxRCx3QkFBd0IsNkRBQUMsc0JBQXNCLCtCQUErQixxREFBcUQsb0JBQW9CLDZEQUFDLGVBQWUsK0JBQStCLHFEQUFxRCxxQkFBcUIsNkRBQUMsZUFBZSwrQkFBK0IsMEdBQTBHLDBCQUEwQiw2REFBQyxlQUFlLCtCQUErQiwwR0FBMEcsRUFBRSxzR0FBc0csZUFBZSxtQ0FBcUU7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ0o3a0U7QUFDQTtBQUNBO0FBQ0E7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b0NBQW9DLHFFQUFDLElBQUksWUFBWSwrREFBQyxDQUFDLGlHQUFpRyxNQUFNLGdDQUFnQyx1Q0FBdUMsMERBQUMsWUFBWSwwREFBQyxlQUFlLDBDQUEwQyxrQkFBa0IsNENBQTRDLElBQUksOEZBQThGLCtDQUErQyx1QkFBdUIsYUFBYSxnR0FBQywyQkFBMkIsMEdBQUMsMERBQTBELFlBQVksdURBQXVELE9BQU8sdURBQUMsRUFBRSxzRkFBQyxnQ0FBZ0MsdURBQUMsRUFBRSxzRkFBQyxvQ0FBb0MsdURBQUMsRUFBRSxzRkFBQyxFQUFFLFlBQVksa0NBQWtDLHVEQUFDLEVBQUUsc0ZBQUMsaUNBQWlDLHVEQUFDLEVBQUUsc0ZBQUMsOENBQW1FIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcHJlY2lzaW9uZmFybXMvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzJkL2VuZ2luZS9pbWFnZXJ5L1Jhc3RlclZGQ29udGFpbmVyLmpzIiwid2VicGFjazovL3ByZWNpc2lvbmZhcm1zLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8yZC9lbmdpbmUvd2ViZ2wvc2hhZGVyR3JhcGgvdGVjaG5pcXVlcy9HcmFwaGljSW5zdGFuY2VTdG9yZS5qcyIsIndlYnBhY2s6Ly9wcmVjaXNpb25mYXJtcy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvMmQvbGF5ZXJzL0ltYWdlcnlMYXllclZpZXcyRC5qcyIsIndlYnBhY2s6Ly9wcmVjaXNpb25mYXJtcy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvMmQvbGF5ZXJzL2dyYXBoaWNzL0FHcmFwaGljQ29udGFpbmVyLmpzIiwid2VicGFjazovL3ByZWNpc2lvbmZhcm1zLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8yZC9sYXllcnMvZ3JhcGhpY3MvR3JhcGhpY0JvdW5kc1JlbmRlcmVyLmpzIiwid2VicGFjazovL3ByZWNpc2lvbmZhcm1zLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8yZC9sYXllcnMvZ3JhcGhpY3MvSGlnaGxpZ2h0R3JhcGhpY0NvbnRhaW5lci5qcyIsIndlYnBhY2s6Ly9wcmVjaXNpb25mYXJtcy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvMmQvbGF5ZXJzL2ltYWdlcnkvSW1hZ2VyeVZGU3RyYXRlZ3kuanMiLCJ3ZWJwYWNrOi8vcHJlY2lzaW9uZmFybXMvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzJkL2xheWVycy9pbWFnZXJ5L0ltYWdlcnlWaWV3MkQuanMiLCJ3ZWJwYWNrOi8vcHJlY2lzaW9uZmFybXMvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzJkL2xheWVycy9pbWFnZXJ5L1ZlY3RvckZpZWxkVmlldzJELmpzIiwid2VicGFjazovL3ByZWNpc2lvbmZhcm1zLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8yZC9sYXllcnMvc3VwcG9ydC9FeHBvcnRTdHJhdGVneS5qcyIsIndlYnBhY2s6Ly9wcmVjaXNpb25mYXJtcy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvMmQvdmlld1N0YXRlVXRpbHMuanMiLCJ3ZWJwYWNrOi8vcHJlY2lzaW9uZmFybXMvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzL2xheWVycy9JbWFnZXJ5TGF5ZXJWaWV3LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjMzL2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnQgZSBmcm9tXCIuL0JydXNoVmVjdG9yRmllbGQuanNcIjtpbXBvcnR7V0dMRHJhd1BoYXNlIGFzIHJ9ZnJvbVwiLi4vd2ViZ2wvZW51bXMuanNcIjtpbXBvcnQgcyBmcm9tXCIuLi93ZWJnbC9XR0xDb250YWluZXIuanNcIjtjbGFzcyB0IGV4dGVuZHMgc3tjb25zdHJ1Y3Rvcigpe3N1cGVyKC4uLmFyZ3VtZW50cyksdGhpcy5zeW1ib2xUeXBlcz1bXCJ0cmlhbmdsZVwiXX1wcmVwYXJlUmVuZGVyUGFzc2VzKHMpe2NvbnN0IHQ9cy5yZWdpc3RlclJlbmRlclBhc3Moe25hbWU6XCJpbWFnZXJ5ICh2ZilcIixicnVzaGVzOltlXSx0YXJnZXQ6KCk9PnRoaXMuY2hpbGRyZW4sZHJhd1BoYXNlOnIuTUFQfSk7cmV0dXJuWy4uLnN1cGVyLnByZXBhcmVSZW5kZXJQYXNzZXMocyksdF19ZG9SZW5kZXIoZSl7dGhpcy52aXNpYmxlJiZlLmRyYXdQaGFzZT09PXIuTUFQJiZ0aGlzLnN5bWJvbFR5cGVzLmZvckVhY2goKHI9PntlLnJlbmRlclBhc3M9cixzdXBlci5kb1JlbmRlcihlKX0pKX19ZXhwb3J0e3QgYXMgUmFzdGVyVkZDb250YWluZXJ9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMzMvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtGZWF0dXJlVGVjaG5pcXVlSW5zdGFuY2UgYXMgZX1mcm9tXCIuL1RlY2huaXF1ZUluc3RhbmNlLmpzXCI7aW1wb3J0e1RlY2huaXF1ZXMgYXMgaX1mcm9tXCIuL1RlY2huaXF1ZVJlZ2lzdHJ5LmpzXCI7aW1wb3J0e2Nhc3RJbnN0YW5jZUlkIGFzIHR9ZnJvbVwiLi9tZXNoL2luc3RhbmNlSWRVdGlscy5qc1wiO2xldCBuPTA7ZnVuY3Rpb24gYShpLGEpe3JldHVybiBuZXcgZSh0KG4rKyksaSxhKX1jb25zdCBvPXt2aXN1YWxWYXJpYWJsZUNvbG9yOm51bGwsdmlzdWFsVmFyaWFibGVPcGFjaXR5Om51bGwsdmlzdWFsVmFyaWFibGVTaXplTWluTWF4VmFsdWU6bnVsbCx2aXN1YWxWYXJpYWJsZVNpemVTY2FsZVN0b3BzOm51bGwsdmlzdWFsVmFyaWFibGVTaXplU3RvcHM6bnVsbCx2aXN1YWxWYXJpYWJsZVNpemVVbml0VmFsdWU6bnVsbCx2aXN1YWxWYXJpYWJsZVJvdGF0aW9uOm51bGwsdmlzdWFsVmFyaWFibGVTaXplT3V0bGluZVNjYWxlU3RvcHM6bnVsbH07Y2xhc3MgbHtjb25zdHJ1Y3Rvcigpe3RoaXMuaW5zdGFuY2VzPXtmaWxsOmEoaS5maWxsLHt1bmlmb3JtczpvLG9wdGlvbmFsQXR0cmlidXRlczp7em9vbVJhbmdlOiEwfX0pLG1hcmtlcjphKGkubWFya2VyLHt1bmlmb3JtczpvLG9wdGlvbmFsQXR0cmlidXRlczp7em9vbVJhbmdlOiEwfX0pLGxpbmU6YShpLmxpbmUse3VuaWZvcm1zOm8sb3B0aW9uYWxBdHRyaWJ1dGVzOnt6b29tUmFuZ2U6ITB9fSksdGV4dDphKGkudGV4dCx7dW5pZm9ybXM6byxvcHRpb25hbEF0dHJpYnV0ZXM6e3pvb21SYW5nZTohMCxyZWZlcmVuY2VTeW1ib2w6ITEsY2xpcEFuZ2xlOiExLHZpc2liaWxpdHk6ITF9fSksb3V0bGluZUZpbGw6YShpLm91dGxpbmVGaWxsLHt1bmlmb3JtczpvLG9wdGlvbmFsQXR0cmlidXRlczp7em9vbVJhbmdlOiEwfX0pLGNvbXBsZXhGaWxsOmEoaS5jb21wbGV4RmlsbCx7dW5pZm9ybXM6byxvcHRpb25hbEF0dHJpYnV0ZXM6e3pvb21SYW5nZTohMH19KSxncmFkaWVudEZpbGw6YShpLmdyYWRpZW50RmlsbCx7dW5pZm9ybXM6byxvcHRpb25hbEF0dHJpYnV0ZXM6e3pvb21SYW5nZTohMH19KSx0ZXh0dXJlZExpbmU6YShpLnRleHR1cmVkTGluZSx7dW5pZm9ybXM6byxvcHRpb25hbEF0dHJpYnV0ZXM6e3pvb21SYW5nZTohMH19KSxncmFkaWVudFN0cm9rZTphKGkuZ3JhZGllbnRTdHJva2Use3VuaWZvcm1zOm8sb3B0aW9uYWxBdHRyaWJ1dGVzOnt6b29tUmFuZ2U6ITB9fSksYW5pbWF0ZWRNYXJrZXI6YShpLmFuaW1hdGVkTWFya2VyLHt1bmlmb3JtczpvLG9wdGlvbmFsQXR0cmlidXRlczp7em9vbVJhbmdlOiEwLHZhbHVlMVBvc2l0aW9uMlZhbHVlMjohMSxsaW5lTGVuZ3RoOiExfX0pLGFuaW1hdGVkTWFya2VyU2hpZnQ6YShpLmFuaW1hdGVkTWFya2VyU2hpZnQse3VuaWZvcm1zOm8sb3B0aW9uYWxBdHRyaWJ1dGVzOnt6b29tUmFuZ2U6ITAsdmFsdWUxUG9zaXRpb24yVmFsdWUyOiEwLGxpbmVMZW5ndGg6ITB9fSksYW5pbWF0ZWRQb2x5Z29uOmEoaS5hbmltYXRlZEZpbGwse3VuaWZvcm1zOm8sb3B0aW9uYWxBdHRyaWJ1dGVzOnt6b29tUmFuZ2U6ITAsdmFsdWUxUG9zaXRpb24yVmFsdWUyOiExLGxpbmVMZW5ndGg6ITF9fSksYW5pbWF0ZWRQb2x5bGluZTphKGkuYW5pbWF0ZWRMaW5lLHt1bmlmb3JtczpvLG9wdGlvbmFsQXR0cmlidXRlczp7em9vbVJhbmdlOiEwLHZhbHVlMVBvc2l0aW9uMlZhbHVlMjohMSxhY2N1bXVsYXRlZERpc3RhbmNlOiEwLHNlZ21lbnREaXJlY3Rpb246ITAsbm9ybWFsOiEwLGxpbmVMZW5ndGg6ITF9fSksYW5pbWF0ZWRQb2x5bGluZVNoaWZ0OmEoaS5hbmltYXRlZExpbmUse3VuaWZvcm1zOm8sb3B0aW9uYWxBdHRyaWJ1dGVzOnt6b29tUmFuZ2U6ITAsdmFsdWUxUG9zaXRpb24yVmFsdWUyOiExLGFjY3VtdWxhdGVkRGlzdGFuY2U6ITAsc2VnbWVudERpcmVjdGlvbjohMCxub3JtYWw6ITAsbGluZUxlbmd0aDohMH19KX0sdGhpcy5faW5zdGFuY2VzQnlJZD1PYmplY3QudmFsdWVzKHRoaXMuaW5zdGFuY2VzKS5yZWR1Y2UoKChlLGkpPT4oZS5zZXQoaS5pbnN0YW5jZUlkLGkpLGUpKSxuZXcgTWFwKX1nZXRJbnN0YW5jZShlKXtyZXR1cm4gdGhpcy5faW5zdGFuY2VzQnlJZC5nZXQoZSl9fWV4cG9ydHtsIGFzIEdyYXBoaWNJbnN0YW5jZVN0b3JlfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjMzL2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7XyBhcyBlfWZyb21cIi4uLy4uLy4uL2NodW5rcy90c2xpYi5lczYuanNcIjtpbXBvcnQgaSBmcm9tXCIuLi8uLi8uLi9HcmFwaGljLmpzXCI7aW1wb3J0e2lzU29tZSBhcyB0fWZyb21cIi4uLy4uLy4uL2NvcmUvYXJyYXlVdGlscy5qc1wiO2ltcG9ydCBzIGZyb21cIi4uLy4uLy4uL2NvcmUvQ29sbGVjdGlvbi5qc1wiO2ltcG9ydHttYWtlSGFuZGxlIGFzIHJ9ZnJvbVwiLi4vLi4vLi4vY29yZS9oYW5kbGVVdGlscy5qc1wiO2ltcG9ydCBoYXMgZnJvbVwiLi4vLi4vLi4vY29yZS9oYXMuanNcIjtpbXBvcnR7d2F0Y2ggYXMgaCxzeW5jIGFzIGF9ZnJvbVwiLi4vLi4vLi4vY29yZS9yZWFjdGl2ZVV0aWxzLmpzXCI7aW1wb3J0e3Byb3BlcnR5IGFzIG99ZnJvbVwiLi4vLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9wcm9wZXJ0eS5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vY29yZS9Mb2dnZXIuanNcIjtpbXBvcnR7c3ViY2xhc3MgYXMgbH1mcm9tXCIuLi8uLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3N1YmNsYXNzLmpzXCI7aW1wb3J0e0dyYXBoaWNzQ29sbGVjdGlvbiBhcyBufWZyb21cIi4uLy4uLy4uL3N1cHBvcnQvR3JhcGhpY3NDb2xsZWN0aW9uLmpzXCI7aW1wb3J0IGMgZnJvbVwiLi4vZW5naW5lL2Zsb3cvRmxvd1ZpZXcyRC5qc1wiO2ltcG9ydHtMYXllclZpZXcyRE1peGluIGFzIGd9ZnJvbVwiLi9MYXllclZpZXcyRC5qc1wiO2ltcG9ydCBwIGZyb21cIi4vZ3JhcGhpY3MvR3JhcGhpY3NWaWV3MkQuanNcIjtpbXBvcnQgZCBmcm9tXCIuL2dyYXBoaWNzL0hpZ2hsaWdodEdyYXBoaWNDb250YWluZXIuanNcIjtpbXBvcnQgdyBmcm9tXCIuL2ltYWdlcnkvSW1hZ2VyeVZpZXcyRC5qc1wiO2ltcG9ydCBtIGZyb21cIi4vaW1hZ2VyeS9WZWN0b3JGaWVsZFZpZXcyRC5qc1wiO2ltcG9ydCB1IGZyb21cIi4uLy4uL2xheWVycy9JbWFnZXJ5TGF5ZXJWaWV3LmpzXCI7aW1wb3J0IHYgZnJvbVwiLi4vLi4vbGF5ZXJzL0xheWVyVmlldy5qc1wiO2ltcG9ydCB5IGZyb21cIi4uLy4uL2xheWVycy9SZWZyZXNoYWJsZUxheWVyVmlldy5qc1wiO2ltcG9ydHtkZWZhdWx0SGlnaGxpZ2h0TmFtZSBhcyBmfWZyb21cIi4uLy4uL3N1cHBvcnQvSGlnaGxpZ2h0RGVmYXVsdHMuanNcIjtsZXQgYj1jbGFzcyBleHRlbmRzKHUoeShnKHYpKSkpe2NvbnN0cnVjdG9yKCl7c3VwZXIoLi4uYXJndW1lbnRzKSx0aGlzLl9leHBvcnRJbWFnZVZlcnNpb249LTEsdGhpcy5faGlnaGxpZ2h0R3JhcGhpY3M9bmV3IG4sdGhpcy5faGlnaGxpZ2h0Vmlldz12b2lkIDAsdGhpcy5sYXllcj1udWxsLHRoaXMuc3Vidmlldz1udWxsfWdldCBwaXhlbERhdGEoKXtjb25zdHtzdWJ2aWV3OmV9PXRoaXM7cmV0dXJuIHRoaXMudXBkYXRpbmd8fCFlP251bGw6XCJnZXRQaXhlbERhdGFcImluIGU/ZS5nZXRQaXhlbERhdGEoKTpudWxsfXVwZGF0ZShlKXt0aGlzLnN1YnZpZXc/LnVwZGF0ZShlKX1hdHRhY2goKXt0aGlzLmxheWVyLmluY3JlYXNlUmFzdGVySm9iSGFuZGxlclVzYWdlKCksdGhpcy5fc2V0U3ViVmlldygpLHRoaXMudmlldyYmKHRoaXMuX2hpZ2hsaWdodFZpZXc9bmV3IHAoe3ZpZXc6dGhpcy52aWV3LGdyYXBoaWNzOnRoaXMuX2hpZ2hsaWdodEdyYXBoaWNzLHJlcXVlc3RVcGRhdGVDYWxsYmFjazooKT0+dGhpcy5yZXF1ZXN0VXBkYXRlKCksY29udGFpbmVyOm5ldyBkKHRoaXMudmlldy5mZWF0dXJlc1RpbGluZ1NjaGVtZSl9KSx0aGlzLmNvbnRhaW5lci5hZGRDaGlsZCh0aGlzLl9oaWdobGlnaHRWaWV3LmNvbnRhaW5lcikpLHRoaXMuYWRkQXR0YWNoSGFuZGxlcyhbaCgoKCk9PnRoaXMubGF5ZXIuZXhwb3J0SW1hZ2VTZXJ2aWNlUGFyYW1ldGVycy52ZXJzaW9uKSwoZT0+e2UmJnRoaXMuX2V4cG9ydEltYWdlVmVyc2lvbiE9PWUmJih0aGlzLl9leHBvcnRJbWFnZVZlcnNpb249ZSx0aGlzLnJlcXVlc3RVcGRhdGUoKSl9KSxhKSxoKCgoKT0+dGhpcy50aW1lRXh0ZW50KSwoZT0+e2NvbnN0e3N1YnZpZXc6aX09dGhpcztpJiYoaS50aW1lRXh0ZW50PWUsXCJyZWRyYXdcImluIGk/dGhpcy5yZXF1ZXN0VXBkYXRlKCk6aS5yZWRyYXdPclJlZmV0Y2goKSl9KSxhKSx0aGlzLmxheWVyLm9uKFwicmVkcmF3XCIsKCgpPT57Y29uc3R7c3VidmlldzplfT10aGlzO2UmJihcInJlZHJhd1wiaW4gZT9lLnJlZHJhdygpOmUucmVkcmF3T3JSZWZldGNoKCkpfSkpLGgoKCgpPT50aGlzLmxheWVyLnJlbmRlcmVyKSwoKCk9PnRoaXMuX3NldFN1YlZpZXcoKSkpXSl9ZGV0YWNoKCl7dGhpcy5sYXllci5kZWNyZWFzZVJhc3RlckpvYkhhbmRsZXJVc2FnZSgpLHRoaXMuY29udGFpbmVyLnJlbW92ZUFsbENoaWxkcmVuKCksdGhpcy5fZGV0YWNoU3Vidmlldyh0aGlzLnN1YnZpZXcpLHRoaXMuc3Vidmlldz8uZGVzdHJveSgpLHRoaXMuc3Vidmlldz1udWxsLHRoaXMuX2hpZ2hsaWdodFZpZXc/LmRlc3Ryb3koKSx0aGlzLl9leHBvcnRJbWFnZVZlcnNpb249LTF9dmlld0NoYW5nZSgpe31tb3ZlRW5kKCl7dGhpcy5yZXF1ZXN0VXBkYXRlKCl9aGlnaGxpZ2h0KGUsaCl7aWYoISgoQXJyYXkuaXNBcnJheShlKT9lWzBdOnMuaXNDb2xsZWN0aW9uKGUpP2UuYXQoMCk6ZSlpbnN0YW5jZW9mIGkpKXJldHVybiByKCk7bGV0IGE9W107QXJyYXkuaXNBcnJheShlKXx8cy5pc0NvbGxlY3Rpb24oZSk/YT1lLm1hcCgoZT0+ZS5jbG9uZSgpKSk6ZSBpbnN0YW5jZW9mIGkmJihhPVtlLmNsb25lKCldKTtjb25zdCBvPWE/LmZpbHRlcih0KTtpZighbz8ubGVuZ3RoKXJldHVybiByKCk7Y29uc3QgbD1oPy5uYW1lPz9mO3JldHVybiB0aGlzLl9hZGRIaWdobGlnaHRHcmFwaGljcyhhLGwpLHIoKCgpPT4hdGhpcy5kZXN0cm95ZWQmJnRoaXMuX3JlbW92ZUhpZ2hsaWdodEdyYXBoaWNzKGEsbCkpKX1fYWRkSGlnaGxpZ2h0R3JhcGhpY3MoZSxpKXt0aGlzLl9oaWdobGlnaHRHcmFwaGljcy5hZGRNYW55KGUpLHRoaXMuX2FkZEhpZ2hsaWdodHMoZS5tYXAoKGU9PmUudWlkKSksaSl9X3JlbW92ZUhpZ2hsaWdodEdyYXBoaWNzKGUsaSl7dGhpcy5faGlnaGxpZ2h0R3JhcGhpY3MucmVtb3ZlTWFueShlKSx0aGlzLl9yZW1vdmVIaWdobGlnaHRzKGUubWFwKChlPT5lLnVpZCkpLGkpfWFzeW5jIGRvUmVmcmVzaCgpe3RoaXMucmVxdWVzdFVwZGF0ZSgpfWlzVXBkYXRpbmcoKXtjb25zdCBlPSF0aGlzLnN1YnZpZXd8fHRoaXMuc3Vidmlldy51cGRhdGluZ3x8ISF0aGlzLl9oaWdobGlnaHRWaWV3Py51cGRhdGluZztyZXR1cm4gaGFzKFwiZXNyaS0yZC1sb2ctdXBkYXRpbmdcIikmJmNvbnNvbGUubG9nKGBVcGRhdGluZyBJbWFnZXJ5TGF5ZXJWaWV3MkQgKCR7dGhpcy5sYXllci5pZH0pOiAke2V9XFxuLT4gc3VidmlldyAkeyF0aGlzLnN1YnZpZXd8fHRoaXMuc3Vidmlldy51cGRhdGluZ31cXG4tPiBoaWdsaWdodFZpZXcgJHt0aGlzLl9oaWdobGlnaHRWaWV3Py51cGRhdGluZ31cXG5gKSxlfV9wcm9jZXNzSGlnaGxpZ2h0KCl7Y29uc3QgZT10aGlzLl9nZXRIaWdobGlnaHRzKCk7dGhpcy5faGlnaGxpZ2h0Vmlldz8uc2V0SGlnaGxpZ2h0KGUpfV9zZXRTdWJWaWV3KCl7aWYoIXRoaXMudmlldylyZXR1cm47Y29uc3QgZT10aGlzLmxheWVyLnJlbmRlcmVyPy50eXBlO2xldCBpPVwiaW1hZ2VyeVwiO2lmKFwidmVjdG9yLWZpZWxkXCI9PT1lP2k9XCJpbWFnZXJ5VkZcIjpcImZsb3dcIj09PWUmJihpPVwiZmxvd1wiKSx0aGlzLnN1YnZpZXcpe2NvbnN0e3R5cGU6ZX09dGhpcy5zdWJ2aWV3O2lmKGU9PT1pKXJldHVybiB0aGlzLl9hdHRhY2hTdWJ2aWV3KHRoaXMuc3Vidmlldyksdm9pZChcImZsb3dcIj09PWU/dGhpcy5zdWJ2aWV3LnJlZHJhd09yUmVmZXRjaCgpOlwiaW1hZ2VyeVwiPT09ZSYmXCJsZXJjXCI9PT10aGlzLmxheWVyLmZvcm1hdD90aGlzLnN1YnZpZXcucmVkcmF3KCk6dGhpcy5yZXF1ZXN0VXBkYXRlKCkpO3RoaXMuX2RldGFjaFN1YnZpZXcodGhpcy5zdWJ2aWV3KSx0aGlzLnN1YnZpZXc/LmRlc3Ryb3koKX10aGlzLnN1YnZpZXc9XCJpbWFnZXJ5XCI9PT1pP25ldyB3KHtsYXllcjp0aGlzLmxheWVyLHZpZXc6dGhpcy52aWV3LHRpbWVFeHRlbnQ6dGhpcy50aW1lRXh0ZW50fSk6XCJpbWFnZXJ5VkZcIj09PWk/bmV3IG0oe2xheWVyOnRoaXMubGF5ZXIsdmlldzp0aGlzLnZpZXcsdGltZUV4dGVudDp0aGlzLnRpbWVFeHRlbnR9KTpuZXcgYyh7bGF5ZXI6dGhpcy5sYXllcixsYXllclZpZXc6dGhpc30pLHRoaXMuX2F0dGFjaFN1YnZpZXcodGhpcy5zdWJ2aWV3KSx0aGlzLnJlcXVlc3RVcGRhdGUoKX1fYXR0YWNoU3VidmlldyhlKXtlJiYhZS5hdHRhY2hlZCYmKGUuYXR0YWNoKCksZS5hdHRhY2hlZD0hMCx0aGlzLmNvbnRhaW5lci5hZGRDaGlsZEF0KGUuY29udGFpbmVyLDApKX1fZGV0YWNoU3VidmlldyhlKXtlPy5hdHRhY2hlZCYmKHRoaXMuY29udGFpbmVyLnJlbW92ZUNoaWxkKGUuY29udGFpbmVyKSxlLmRldGFjaCgpLGUuYXR0YWNoZWQ9ITEpfX07ZShbbygpXSxiLnByb3RvdHlwZSxcInBpeGVsRGF0YVwiLG51bGwpLGUoW28oKV0sYi5wcm90b3R5cGUsXCJzdWJ2aWV3XCIsdm9pZCAwKSxiPWUoW2woXCJlc3JpLnZpZXdzLjJkLmxheWVycy5JbWFnZXJ5TGF5ZXJWaWV3MkRcIildLGIpO2NvbnN0IF89YjtleHBvcnR7XyBhcyBkZWZhdWx0fTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjMzL2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7ZGVzdHJveU1heWJlIGFzIGV9ZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9tYXliZS5qc1wiO2ltcG9ydHtBRmVhdHVyZUNvbnRhaW5lciBhcyB0fWZyb21cIi4uLy4uL2VuZ2luZS9BRmVhdHVyZUNvbnRhaW5lci5qc1wiO2ltcG9ydHtGZWF0dXJlQmF0Y2hpbmdTdHJhdGVneSBhcyBufWZyb21cIi4uLy4uL2VuZ2luZS93ZWJnbC9lbnVtcy5qc1wiO2ltcG9ydHtHcmFwaGljSW5zdGFuY2VTdG9yZSBhcyByfWZyb21cIi4uLy4uL2VuZ2luZS93ZWJnbC9zaGFkZXJHcmFwaC90ZWNobmlxdWVzL0dyYXBoaWNJbnN0YW5jZVN0b3JlLmpzXCI7aW1wb3J0IHMgZnJvbVwiLi9HcmFwaGljQm91bmRzUmVuZGVyZXIuanNcIjtjbGFzcyBpIGV4dGVuZHMgdHtjb25zdHJ1Y3RvcihlKXtzdXBlcihlKSx0aGlzLl9pbnN0YW5jZVN0b3JlPW5ldyByLHRoaXMuY2hlY2tIaWdobGlnaHQ9KCk9PiEwfWRlc3Ryb3koKXtzdXBlci5kZXN0cm95KCksdGhpcy5fYm91bmRzUmVuZGVyZXI9ZSh0aGlzLl9ib3VuZHNSZW5kZXJlcil9Z2V0IGluc3RhbmNlU3RvcmUoKXtyZXR1cm4gdGhpcy5faW5zdGFuY2VTdG9yZX1lbmFibGVSZW5kZXJpbmdCb3VuZHMoZSl7dGhpcy5fYm91bmRzUmVuZGVyZXI9bmV3IHMoZSksdGhpcy5yZXF1ZXN0UmVuZGVyKCl9Z2V0IGhhc0hpZ2hsaWdodCgpe3JldHVybiB0aGlzLmNoZWNrSGlnaGxpZ2h0KCl9b25UaWxlRGF0YShlLHQpe2Uub25NZXNzYWdlKHQpLHRoaXMuY29udGFpbnMoZSl8fHRoaXMuYWRkQ2hpbGQoZSksdGhpcy5yZXF1ZXN0UmVuZGVyKCl9X3JlbmRlckNoaWxkcmVuKGUsdCl7ZS5zZWxlY3Rpb249dDtmb3IoY29uc3QgciBvZiB0aGlzLmNoaWxkcmVuKXtpZighci52aXNpYmxlKWNvbnRpbnVlO2NvbnN0IHQ9ci5nZXREaXNwbGF5TGlzdCh0aGlzLl9pbnN0YW5jZVN0b3JlLG4uU1RSSUNUX09SREVSKTt0Py5yZW5kZXIoZSl9fX1leHBvcnR7aSBhcyBBR3JhcGhpY0NvbnRhaW5lcn07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4zMy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e2Rpc3Bvc2VNYXliZSBhcyB0fWZyb21cIi4uLy4uLy4uLy4uL2NvcmUvbWF5YmUuanNcIjtpbXBvcnR7aWRlbnRpdHkgYXMgZSxtdWx0aXBseSBhcyByLHRyYW5zbGF0ZSBhcyBpLHNjYWxlIGFzIHMscm90YXRlIGFzIG99ZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9saWJzL2dsLW1hdHJpeC0yL21hdGgvbWF0My5qc1wiO2ltcG9ydHtjcmVhdGUgYXMgYX1mcm9tXCIuLi8uLi8uLi8uLi9jb3JlL2xpYnMvZ2wtbWF0cml4LTIvZmFjdG9yaWVzL21hdDNmMzIuanNcIjtpbXBvcnR7ZnJvbVZhbHVlcyBhcyBufWZyb21cIi4uLy4uLy4uLy4uL2NvcmUvbGlicy9nbC1tYXRyaXgtMi9mYWN0b3JpZXMvdmVjMmYzMi5qc1wiO2ltcG9ydHtmcm9tVmFsdWVzIGFzIGx9ZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9saWJzL2dsLW1hdHJpeC0yL2ZhY3Rvcmllcy92ZWMzZjMyLmpzXCI7aW1wb3J0e25vcm1hbGl6ZU1hcFggYXMgZn1mcm9tXCIuLi8uLi8uLi8uLi9nZW9tZXRyeS9zdXBwb3J0L25vcm1hbGl6ZVV0aWxzLmpzXCI7aW1wb3J0e0Rpc3BsYXlPYmplY3QgYXMgbX1mcm9tXCIuLi8uLi9lbmdpbmUvRGlzcGxheU9iamVjdC5qc1wiO2ltcG9ydHtjcmVhdGVQcm9ncmFtRGVzY3JpcHRvciBhcyBjfWZyb21cIi4uLy4uL2VuZ2luZS93ZWJnbC9VdGlscy5qc1wiO2ltcG9ydHtCdWZmZXJPYmplY3QgYXMgdX1mcm9tXCIuLi8uLi8uLi93ZWJnbC9CdWZmZXJPYmplY3QuanNcIjtpbXBvcnR7QmxlbmRGYWN0b3IgYXMgXyxQcmltaXRpdmVUeXBlIGFzIGgsRGF0YVR5cGUgYXMgcCxVc2FnZSBhcyBkfWZyb21cIi4uLy4uLy4uL3dlYmdsL2VudW1zLmpzXCI7aW1wb3J0e1ZlcnRleEFycmF5T2JqZWN0IGFzIGd9ZnJvbVwiLi4vLi4vLi4vd2ViZ2wvVmVydGV4QXJyYXlPYmplY3QuanNcIjtjb25zdCB2PU1hdGguUEkvMTgwLHg9NDtjbGFzcyBiIGV4dGVuZHMgbXtjb25zdHJ1Y3Rvcih0KXtzdXBlcigpLHRoaXMuX3Byb2dyYW09bnVsbCx0aGlzLl92YW89bnVsbCx0aGlzLl92ZXJ0ZXhCdWZmZXI9bnVsbCx0aGlzLl9pbmRleEJ1ZmZlcj1udWxsLHRoaXMuX2R2c01hdDM9YSgpLHRoaXMuX2xvY2FsT3JpZ2luPXt4OjAseTowfSx0aGlzLl9nZXRCb3VuZHM9dH1kZXN0cm95KCl7dGhpcy5fdmFvJiYodGhpcy5fdmFvLmRpc3Bvc2UoKSx0aGlzLl92YW89bnVsbCx0aGlzLl92ZXJ0ZXhCdWZmZXI9bnVsbCx0aGlzLl9pbmRleEJ1ZmZlcj1udWxsKSx0aGlzLl9wcm9ncmFtPXQodGhpcy5fcHJvZ3JhbSl9ZG9SZW5kZXIodCl7Y29uc3R7Y29udGV4dDplfT10LHI9dGhpcy5fZ2V0Qm91bmRzKCk7aWYoci5sZW5ndGg8MSlyZXR1cm47dGhpcy5fY3JlYXRlU2hhZGVyUHJvZ3JhbShlKSx0aGlzLl91cGRhdGVNYXRyaWNlc0FuZExvY2FsT3JpZ2luKHQpLHRoaXMuX3VwZGF0ZUJ1ZmZlckRhdGEoZSxyKSxlLnNldEJsZW5kaW5nRW5hYmxlZCghMCksZS5zZXREZXB0aFRlc3RFbmFibGVkKCExKSxlLnNldFN0ZW5jaWxXcml0ZU1hc2soMCksZS5zZXRTdGVuY2lsVGVzdEVuYWJsZWQoITEpLGUuc2V0QmxlbmRGdW5jdGlvbihfLk9ORSxfLk9ORV9NSU5VU19TUkNfQUxQSEEpLGUuc2V0Q29sb3JNYXNrKCEwLCEwLCEwLCEwKTtjb25zdCBpPXRoaXMuX3Byb2dyYW07ZS5iaW5kVkFPKHRoaXMuX3ZhbyksZS51c2VQcm9ncmFtKGkpLGkuc2V0VW5pZm9ybU1hdHJpeDNmdihcInVfZHZzTWF0M1wiLHRoaXMuX2R2c01hdDMpLGUuZ2wubGluZVdpZHRoKDEpLGUuZHJhd0VsZW1lbnRzKGguTElORVMsOCpyLmxlbmd0aCxwLlVOU0lHTkVEX0lOVCwwKSxlLmJpbmRWQU8oKX1fY3JlYXRlVHJhbnNmb3Jtcygpe3JldHVybntkaXNwbGF5Vmlld1NjcmVlbk1hdDM6YSgpfX1fY3JlYXRlU2hhZGVyUHJvZ3JhbSh0KXtpZih0aGlzLl9wcm9ncmFtKXJldHVybjtjb25zdCBlPVwicHJlY2lzaW9uIGhpZ2hwIGZsb2F0O1xcbiAgICAgICAgdW5pZm9ybSBtYXQzIHVfZHZzTWF0MztcXG5cXG4gICAgICAgIGF0dHJpYnV0ZSB2ZWMyIGFfcG9zaXRpb247XFxuXFxuICAgICAgICB2b2lkIG1haW4oKSB7XFxuICAgICAgICAgIG1lZGl1bXAgdmVjMyBwb3MgPSB1X2R2c01hdDMgKiB2ZWMzKGFfcG9zaXRpb24sIDEuMCk7XFxuICAgICAgICAgIGdsX1Bvc2l0aW9uID0gdmVjNChwb3MueHksIDAuMCwgMS4wKTtcXG4gICAgICAgIH1cIixyPVwicHJlY2lzaW9uIG1lZGl1bXAgZmxvYXQ7XFxuICAgICAgdm9pZCBtYWluKCkge1xcbiAgICAgICAgZ2xfRnJhZ0NvbG9yID0gdmVjNCgwLjc1LCAwLjAsIDAuMCwgMC43NSk7XFxuICAgICAgfVwiO3RoaXMuX3Byb2dyYW09dC5wcm9ncmFtQ2FjaGUuYWNxdWlyZShlLHIseSgpLmF0dHJpYnV0ZXMpfV91cGRhdGVNYXRyaWNlc0FuZExvY2FsT3JpZ2luKHQpe2NvbnN0e3N0YXRlOmF9PXQse2Rpc3BsYXlNYXQzOm0sc2l6ZTpjLHJlc29sdXRpb246dSxwaXhlbFJhdGlvOl8scm90YXRpb246aCx2aWV3cG9pbnQ6cH09YSxkPXYqaCx7eDpnLHk6eH09cC50YXJnZXRHZW9tZXRyeSxiPWYoZyxhLnNwYXRpYWxSZWZlcmVuY2UpO3RoaXMuX2xvY2FsT3JpZ2luLng9Yix0aGlzLl9sb2NhbE9yaWdpbi55PXg7Y29uc3QgeT1fKmNbMF0sQj1fKmNbMV0sTT11Knksaj11KkIsQT1lKHRoaXMuX2R2c01hdDMpO3IoQSxBLG0pLGkoQSxBLG4oeS8yLEIvMikpLHMoQSxBLGwoY1swXS9NLC1CL2osMSkpLG8oQSxBLC1kKX1fdXBkYXRlQnVmZmVyRGF0YSh0LGUpe2NvbnN0e3g6cix5Oml9PXRoaXMuX2xvY2FsT3JpZ2luLHM9Mip4KmUubGVuZ3RoLG89bmV3IEZsb2F0MzJBcnJheShzKSxhPW5ldyBVaW50MzJBcnJheSg4KmUubGVuZ3RoKTtsZXQgbj0wLGw9MDtmb3IoY29uc3QgZiBvZiBlKWYmJihvWzIqbl09ZlswXS1yLG9bMipuKzFdPWZbMV0taSxvWzIqbisyXT1mWzBdLXIsb1syKm4rM109ZlszXS1pLG9bMipuKzRdPWZbMl0tcixvWzIqbis1XT1mWzNdLWksb1syKm4rNl09ZlsyXS1yLG9bMipuKzddPWZbMV0taSxhW2xdPW4rMCxhW2wrMV09biszLGFbbCsyXT1uKzMsYVtsKzNdPW4rMixhW2wrNF09bisyLGFbbCs1XT1uKzEsYVtsKzZdPW4rMSxhW2wrN109biswLG4rPTQsbCs9OCk7aWYodGhpcy5fdmVydGV4QnVmZmVyP3RoaXMuX3ZlcnRleEJ1ZmZlci5zZXREYXRhKG8uYnVmZmVyKTp0aGlzLl92ZXJ0ZXhCdWZmZXI9dS5jcmVhdGVWZXJ0ZXgodCxkLkRZTkFNSUNfRFJBVyxvLmJ1ZmZlciksdGhpcy5faW5kZXhCdWZmZXI/dGhpcy5faW5kZXhCdWZmZXIuc2V0RGF0YShhKTp0aGlzLl9pbmRleEJ1ZmZlcj11LmNyZWF0ZUluZGV4KHQsZC5EWU5BTUlDX0RSQVcsYSksIXRoaXMuX3Zhbyl7Y29uc3QgZT15KCk7dGhpcy5fdmFvPW5ldyBnKHQsZS5hdHRyaWJ1dGVzLGUuYnVmZmVyTGF5b3V0cyxuZXcgTWFwKFtbXCJnZW9tZXRyeVwiLHRoaXMuX3ZlcnRleEJ1ZmZlcl1dKSx0aGlzLl9pbmRleEJ1ZmZlcil9fX1jb25zdCB5PSgpPT5jKFwiYm91bmRzXCIse2dlb21ldHJ5Olt7bG9jYXRpb246MCxuYW1lOlwiYV9wb3NpdGlvblwiLGNvdW50OjIsdHlwZTpwLkZMT0FUfV19KTtleHBvcnR7YiBhcyBkZWZhdWx0fTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjMzL2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7XyBhcyByfWZyb21cIi4uLy4uLy4uLy4uL2NodW5rcy90c2xpYi5lczYuanNcIjtpbXBvcnRcIi4uLy4uLy4uLy4uL2NvcmUvTG9nZ2VyLmpzXCI7aW1wb3J0XCIuLi8uLi8uLi8uLi9jb3JlL2hhcy5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vLi4vY29yZS9SYW5kb21MQ0cuanNcIjtpbXBvcnRcIi4uLy4uLy4uLy4uL2NvcmUvRXJyb3IuanNcIjtpbXBvcnR7c3ViY2xhc3MgYXMgZX1mcm9tXCIuLi8uLi8uLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3N1YmNsYXNzLmpzXCI7aW1wb3J0e1dHTERyYXdQaGFzZSBhcyBzLEZlYXR1cmVTZWxlY3Rpb24gYXMgdH1mcm9tXCIuLi8uLi9lbmdpbmUvd2ViZ2wvZW51bXMuanNcIjtpbXBvcnR7QUdyYXBoaWNDb250YWluZXIgYXMgaX1mcm9tXCIuL0FHcmFwaGljQ29udGFpbmVyLmpzXCI7aW1wb3J0e3JlbmRlckhpZ2hsaWdodCBhcyBvfWZyb21cIi4uL3N1cHBvcnQvdXRpbC5qc1wiO2xldCBhPWNsYXNzIGV4dGVuZHMgaXtnZXQgaGFzSGlnaGxpZ2h0KCl7cmV0dXJuIHRoaXMuY2hpbGRyZW4uc29tZSgocj0+ci5oYXNEYXRhKSl9cmVuZGVyQ2hpbGRyZW4ocil7dGhpcy5hdHRyaWJ1dGVWaWV3LnVwZGF0ZSgpLHIuZHJhd1BoYXNlPT09cy5ISUdITElHSFQmJnRoaXMuY2hpbGRyZW4uc29tZSgocj0+ci5oYXNEYXRhKSkmJihzdXBlci5yZW5kZXJDaGlsZHJlbihyKSxyLmNvbnRleHQuc2V0Q29sb3JNYXNrKCEwLCEwLCEwLCEwKSxvKHIsITEsKHI9Pnt0aGlzLl9yZW5kZXJDaGlsZHJlbihyLHQuSGlnaGxpZ2h0KX0pKSl9fTthPXIoW2UoXCJlc3JpLnZpZXdzLjJkLmxheWVycy5ncmFwaGljcy5IaWdobGlnaHRHcmFwaGljQ29udGFpbmVyXCIpXSxhKTtleHBvcnR7YSBhcyBkZWZhdWx0fTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjMzL2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7XyBhcyBlfWZyb21cIi4uLy4uLy4uLy4uL2NodW5rcy90c2xpYi5lczYuanNcIjtpbXBvcnQgdCBmcm9tXCIuLi8uLi8uLi8uLi9jb3JlL0FjY2Vzc29yLmpzXCI7aW1wb3J0IGkgZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9Mb2dnZXIuanNcIjtpbXBvcnR7ZGVib3VuY2UgYXMgcixpc0Fib3J0RXJyb3IgYXMgb31mcm9tXCIuLi8uLi8uLi8uLi9jb3JlL3Byb21pc2VVdGlscy5qc1wiO2ltcG9ydHtwcm9wZXJ0eSBhcyBzfWZyb21cIi4uLy4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvcHJvcGVydHkuanNcIjtpbXBvcnRcIi4uLy4uLy4uLy4uL2NvcmUvaGFzLmpzXCI7aW1wb3J0XCIuLi8uLi8uLi8uLi9jb3JlL1JhbmRvbUxDRy5qc1wiO2ltcG9ydHtzdWJjbGFzcyBhcyBhfWZyb21cIi4uLy4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvc3ViY2xhc3MuanNcIjtpbXBvcnQgbiBmcm9tXCIuLi8uLi8uLi8uLi9nZW9tZXRyeS9FeHRlbnQuanNcIjtpbXBvcnR7UmFzdGVyVkZEaXNwbGF5T2JqZWN0IGFzIGx9ZnJvbVwiLi4vLi4vZW5naW5lL2ltYWdlcnkvUmFzdGVyVkZEaXNwbGF5T2JqZWN0LmpzXCI7bGV0IGM9Y2xhc3MgZXh0ZW5kcyB0e2NvbnN0cnVjdG9yKGUpe3N1cGVyKGUpLHRoaXMuX2xvYWRpbmc9bnVsbCx0aGlzLnVwZGF0ZT1yKCgoZSx0KT0+dGhpcy5fdXBkYXRlKGUsdCkuY2F0Y2goKGU9PntvKGUpfHxpLmdldExvZ2dlcih0aGlzKS5lcnJvcihlKX0pKSkpfWdldCB1cGRhdGluZygpe3JldHVybiEhdGhpcy5fbG9hZGluZ31yZWRyYXcoZSl7aWYoIXRoaXMuY29udGFpbmVyLmNoaWxkcmVuLmxlbmd0aClyZXR1cm47Y29uc3QgdD10aGlzLmNvbnRhaW5lci5jaGlsZHJlblswXTt0LnN5bWJvbGl6ZXJQYXJhbWV0ZXJzPWUsdC5pbnZhbGlkYXRlVkFPKCksdGhpcy5jb250YWluZXIuc3ltYm9sVHlwZXM9XCJ3aW5kX3NwZWVkXCI9PT1lLnN0eWxlP1tcInNjYWxhclwiLFwidHJpYW5nbGVcIl06XCJzaW1wbGVfc2NhbGFyXCI9PT1lLnN0eWxlP1tcInNjYWxhclwiXTpbXCJ0cmlhbmdsZVwiXSx0aGlzLmNvbnRhaW5lci5yZXF1ZXN0UmVuZGVyKCl9YXN5bmMgX3VwZGF0ZShlLHQsaSl7aWYoIWUuc3RhdGlvbmFyeSlyZXR1cm47Y29uc3R7ZXh0ZW50OnIsc3BhdGlhbFJlZmVyZW5jZTpvfT1lLnN0YXRlLHM9bmV3IG4oe3htaW46ci54bWluLHltaW46ci55bWluLHhtYXg6ci54bWF4LHltYXg6ci55bWF4LHNwYXRpYWxSZWZlcmVuY2U6b30pLFthLGxdPWUuc3RhdGUuc2l6ZTt0aGlzLl9sb2FkaW5nPXRoaXMuZmV0Y2hQaXhlbHMocyxhLGwsaSk7Y29uc3QgYz1hd2FpdCB0aGlzLl9sb2FkaW5nO3RoaXMuX2FkZFRvRGlzcGxheShjLHQsZS5zdGF0ZSksdGhpcy5fbG9hZGluZz1udWxsfV9hZGRUb0Rpc3BsYXkoZSx0LGkpe2lmKG51bGw9PWUucGl4ZWxCbG9jaylyZXR1cm4gdGhpcy5jb250YWluZXIuY2hpbGRyZW4uZm9yRWFjaCgoZT0+ZS5kZXN0cm95KCkpKSx2b2lkIHRoaXMuY29udGFpbmVyLnJlbW92ZUFsbENoaWxkcmVuKCk7Y29uc3R7ZXh0ZW50OnIscGl4ZWxCbG9jazpvfT1lLHM9bmV3IGwobyk7cy5vZmZzZXQ9WzAsMF0scy5zeW1ib2xpemVyUGFyYW1ldGVycz10LHMucmF3UGl4ZWxEYXRhPWUscy5pbnZhbGlkYXRlVkFPKCkscy54PXIueG1pbixzLnk9ci55bWF4LHMucGl4ZWxSYXRpbz1pLnBpeGVsUmF0aW8scy5yb3RhdGlvbj1pLnJvdGF0aW9uLHMucmVzb2x1dGlvbj1pLnJlc29sdXRpb24scy53aWR0aD1vLndpZHRoKnQuc3ltYm9sVGlsZVNpemUscy5oZWlnaHQ9by5oZWlnaHQqdC5zeW1ib2xUaWxlU2l6ZSx0aGlzLmNvbnRhaW5lci5jaGlsZHJlbi5mb3JFYWNoKChlPT5lLmRlc3Ryb3koKSkpLHRoaXMuY29udGFpbmVyLnJlbW92ZUFsbENoaWxkcmVuKCksdGhpcy5jb250YWluZXIuc3ltYm9sVHlwZXM9XCJ3aW5kX3NwZWVkXCI9PT10LnN0eWxlP1tcInNjYWxhclwiLFwidHJpYW5nbGVcIl06XCJzaW1wbGVfc2NhbGFyXCI9PT10LnN0eWxlP1tcInNjYWxhclwiXTpbXCJ0cmlhbmdsZVwiXSx0aGlzLmNvbnRhaW5lci5hZGRDaGlsZChzKX19O2UoW3MoKV0sYy5wcm90b3R5cGUsXCJmZXRjaFBpeGVsc1wiLHZvaWQgMCksZShbcygpXSxjLnByb3RvdHlwZSxcImNvbnRhaW5lclwiLHZvaWQgMCksZShbcygpXSxjLnByb3RvdHlwZSxcIl9sb2FkaW5nXCIsdm9pZCAwKSxlKFtzKCldLGMucHJvdG90eXBlLFwidXBkYXRpbmdcIixudWxsKSxjPWUoW2EoXCJlc3JpLnZpZXdzLjJkLmxheWVycy5pbWFnZXJ5LkltYWdlcnlWRlN0cmF0ZWd5XCIpXSxjKTtleHBvcnR7YyBhcyBkZWZhdWx0fTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjMzL2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7XyBhcyB0fWZyb21cIi4uLy4uLy4uLy4uL2NodW5rcy90c2xpYi5lczYuanNcIjtpbXBvcnQgZSBmcm9tXCIuLi8uLi8uLi8uLi9HcmFwaGljLmpzXCI7aW1wb3J0IGkgZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9BY2Nlc3Nvci5qc1wiO2ltcG9ydCByIGZyb21cIi4uLy4uLy4uLy4uL2NvcmUvTG9nZ2VyLmpzXCI7aW1wb3J0e2lzQWJvcnRFcnJvciBhcyBhfWZyb21cIi4uLy4uLy4uLy4uL2NvcmUvcHJvbWlzZVV0aWxzLmpzXCI7aW1wb3J0e3Byb3BlcnR5IGFzIHN9ZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9wcm9wZXJ0eS5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vLi4vY29yZS9oYXMuanNcIjtpbXBvcnRcIi4uLy4uLy4uLy4uL2NvcmUvUmFuZG9tTENHLmpzXCI7aW1wb3J0e3N1YmNsYXNzIGFzIG99ZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9zdWJjbGFzcy5qc1wiO2ltcG9ydHttb3NhaWNQaXhlbERhdGEgYXMgcH1mcm9tXCIuLi8uLi8uLi8uLi9sYXllcnMvc3VwcG9ydC9yYXN0ZXJGdW5jdGlvbnMvcGl4ZWxVdGlscy5qc1wiO2ltcG9ydHtCaXRtYXBDb250YWluZXIgYXMgbn1mcm9tXCIuLi8uLi9lbmdpbmUvQml0bWFwQ29udGFpbmVyLmpzXCI7aW1wb3J0e0NvbnRhaW5lciBhcyBsfWZyb21cIi4uLy4uL2VuZ2luZS9Db250YWluZXIuanNcIjtpbXBvcnQgYyBmcm9tXCIuLi8uLi9lbmdpbmUvSW1hZ2VyeUJpdG1hcFNvdXJjZS5qc1wiO2ltcG9ydCBoIGZyb21cIi4uL3N1cHBvcnQvRXhwb3J0U3RyYXRlZ3kuanNcIjtsZXQgbT1jbGFzcyBleHRlbmRzIGl7Y29uc3RydWN0b3IoKXtzdXBlciguLi5hcmd1bWVudHMpLHRoaXMuYXR0YWNoZWQ9ITEsdGhpcy5jb250YWluZXI9bmV3IGwsdGhpcy51cGRhdGVSZXF1ZXN0ZWQ9ITEsdGhpcy50eXBlPVwiaW1hZ2VyeVwiLHRoaXMuX2JpdG1hcFZpZXc9bmV3IG59ZGVzdHJveSgpe3RoaXMuYXR0YWNoZWQmJih0aGlzLmRldGFjaCgpLHRoaXMuYXR0YWNoZWQ9ITEpLHRoaXMudXBkYXRlUmVxdWVzdGVkPSExfWdldCB1cGRhdGluZygpe3JldHVybiF0aGlzLmF0dGFjaGVkfHx0aGlzLmlzVXBkYXRpbmcoKX11cGRhdGUodCl7dGhpcy5zdHJhdGVneS51cGRhdGUodCkuY2F0Y2goKHQ9PnthKHQpfHxyLmdldExvZ2dlcih0aGlzKS5lcnJvcih0KX0pKX1oaXRUZXN0KHQpe3JldHVybiBuZXcgZSh7YXR0cmlidXRlczp7fSxnZW9tZXRyeTp0LmNsb25lKCksbGF5ZXI6dGhpcy5sYXllcn0pfWF0dGFjaCgpe3RoaXMuY29udGFpbmVyLmFkZENoaWxkKHRoaXMuX2JpdG1hcFZpZXcpO2NvbnN0IHQ9dGhpcy5sYXllci52ZXJzaW9uPj0xMCxlPXRoaXMubGF5ZXIudmVyc2lvbj49MTAuMT90aGlzLmxheWVyLmltYWdlTWF4SGVpZ2h0OjIwNDgsaT10aGlzLmxheWVyLnZlcnNpb24+PTEwLjE/dGhpcy5sYXllci5pbWFnZU1heFdpZHRoOjIwNDg7dGhpcy5zdHJhdGVneT1uZXcgaCh7Y29udGFpbmVyOnRoaXMuX2JpdG1hcFZpZXcsaW1hZ2VOb3JtYWxpemF0aW9uU3VwcG9ydGVkOnQsaW1hZ2VNYXhIZWlnaHQ6ZSxpbWFnZU1heFdpZHRoOmksZmV0Y2hTb3VyY2U6dGhpcy5fZmV0Y2hJbWFnZS5iaW5kKHRoaXMpLHJlcXVlc3RVcGRhdGU6KCk9PnRoaXMucmVxdWVzdFVwZGF0ZSgpfSl9ZGV0YWNoKCl7dGhpcy5zdHJhdGVneS5kZXN0cm95KCksdGhpcy5fYml0bWFwVmlldy5yZW1vdmVBbGxDaGlsZHJlbigpLHRoaXMuY29udGFpbmVyLnJlbW92ZUFsbENoaWxkcmVuKCksdGhpcy51cGRhdGVSZXF1ZXN0ZWQ9ITF9cmVkcmF3KCl7dGhpcy5zdHJhdGVneS51cGRhdGVFeHBvcnRzKChhc3luYyB0PT57Y29uc3R7c291cmNlOmV9PXQ7aWYoIWV8fGUgaW5zdGFuY2VvZiBJbWFnZUJpdG1hcClyZXR1cm47Y29uc3QgaT1hd2FpdCB0aGlzLmxheWVyLmFwcGx5UmVuZGVyZXIoe2V4dGVudDplLmV4dGVudCxwaXhlbEJsb2NrOmUub3JpZ2luYWxQaXhlbEJsb2NrPz9lLnBpeGVsQmxvY2t9KTtlLmZpbHRlcj10PT50aGlzLmxheWVyLnBpeGVsRmlsdGVyP3RoaXMubGF5ZXIuYXBwbHlGaWx0ZXIodCk6ey4uLmksZXh0ZW50OmUuZXh0ZW50fX0pKS5jYXRjaCgodD0+e2EodCl8fHIuZ2V0TG9nZ2VyKHRoaXMpLmVycm9yKHQpfSkpfXJlcXVlc3RVcGRhdGUoKXt0aGlzLnVwZGF0ZVJlcXVlc3RlZHx8KHRoaXMudXBkYXRlUmVxdWVzdGVkPSEwLHRoaXMudmlldy5yZXF1ZXN0VXBkYXRlKCkpfWlzVXBkYXRpbmcoKXtyZXR1cm4gdGhpcy5zdHJhdGVneS51cGRhdGluZ3x8dGhpcy51cGRhdGVSZXF1ZXN0ZWR9Z2V0UGl4ZWxEYXRhKCl7aWYodGhpcy51cGRhdGluZylyZXR1cm4gbnVsbDtjb25zdCB0PXRoaXMuc3RyYXRlZ3kuYml0bWFwcztpZigxPT09dC5sZW5ndGgmJnRbMF0uc291cmNlKXJldHVybntleHRlbnQ6dFswXS5zb3VyY2UuZXh0ZW50LHBpeGVsQmxvY2s6dFswXS5zb3VyY2Uub3JpZ2luYWxQaXhlbEJsb2NrfTtpZih0Lmxlbmd0aD4xKXtjb25zdCBlPXRoaXMudmlldy5leHRlbnQsaT10Lm1hcCgodD0+dC5zb3VyY2UpKS5maWx0ZXIoKHQ9PnQuZXh0ZW50JiZ0LmV4dGVudC5pbnRlcnNlY3RzKGUpKSkubWFwKCh0PT4oe2V4dGVudDp0LmV4dGVudCxwaXhlbEJsb2NrOnQub3JpZ2luYWxQaXhlbEJsb2NrfSkpKSxyPXAoaSxlKTtyZXR1cm4gbnVsbCE9cj97ZXh0ZW50OnIuZXh0ZW50LHBpeGVsQmxvY2s6ci5waXhlbEJsb2NrfTpudWxsfXJldHVybiBudWxsfWFzeW5jIF9mZXRjaEltYWdlKHQsZSxpLHIpeyhyPXJ8fHt9KS50aW1lRXh0ZW50PXRoaXMudGltZUV4dGVudCxyLnJlcXVlc3RBc0ltYWdlRWxlbWVudD0hMCxyLnJldHVybkltYWdlQml0bWFwPSEwO2NvbnN0IGE9YXdhaXQgdGhpcy5sYXllci5pbnRlcm5hbEZldGNoSW1hZ2UodCxlLGkscik7aWYoYS5pbWFnZUJpdG1hcClyZXR1cm4gYS5pbWFnZUJpdG1hcDtjb25zdCBzPWF3YWl0IHRoaXMubGF5ZXIuYXBwbHlSZW5kZXJlcihhLnBpeGVsRGF0YSx7c2lnbmFsOnIuc2lnbmFsfSksbz1uZXcgYyhzLnBpeGVsQmxvY2sscy5leHRlbnQ/LmNsb25lKCksYS5waXhlbERhdGEucGl4ZWxCbG9jayk7cmV0dXJuIG8uZmlsdGVyPXQ9PnRoaXMubGF5ZXIuYXBwbHlGaWx0ZXIodCksb319O3QoW3MoKV0sbS5wcm90b3R5cGUsXCJhdHRhY2hlZFwiLHZvaWQgMCksdChbcygpXSxtLnByb3RvdHlwZSxcImNvbnRhaW5lclwiLHZvaWQgMCksdChbcygpXSxtLnByb3RvdHlwZSxcImxheWVyXCIsdm9pZCAwKSx0KFtzKCldLG0ucHJvdG90eXBlLFwic3RyYXRlZ3lcIix2b2lkIDApLHQoW3MoKV0sbS5wcm90b3R5cGUsXCJ0aW1lRXh0ZW50XCIsdm9pZCAwKSx0KFtzKCldLG0ucHJvdG90eXBlLFwidmlld1wiLHZvaWQgMCksdChbcygpXSxtLnByb3RvdHlwZSxcInVwZGF0ZVJlcXVlc3RlZFwiLHZvaWQgMCksdChbcygpXSxtLnByb3RvdHlwZSxcInVwZGF0aW5nXCIsbnVsbCksdChbcygpXSxtLnByb3RvdHlwZSxcInR5cGVcIix2b2lkIDApLG09dChbbyhcImVzcmkudmlld3MuMmQubGF5ZXJzLmltYWdlcnkuSW1hZ2VyeVZpZXcyRFwiKV0sbSk7ZXhwb3J0e20gYXMgZGVmYXVsdH07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4zMy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e18gYXMgdH1mcm9tXCIuLi8uLi8uLi8uLi9jaHVua3MvdHNsaWIuZXM2LmpzXCI7aW1wb3J0IGUgZnJvbVwiLi4vLi4vLi4vLi4vR3JhcGhpYy5qc1wiO2ltcG9ydCByIGZyb21cIi4uLy4uLy4uLy4uL3JlcXVlc3QuanNcIjtpbXBvcnQgaSBmcm9tXCIuLi8uLi8uLi8uLi9jb3JlL0FjY2Vzc29yLmpzXCI7aW1wb3J0IHMgZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9Mb2dnZXIuanNcIjtpbXBvcnR7aXNBYm9ydEVycm9yIGFzIG99ZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9wcm9taXNlVXRpbHMuanNcIjtpbXBvcnR7d2F0Y2ggYXMgYSxzeW5jQW5kSW5pdGlhbCBhcyBufWZyb21cIi4uLy4uLy4uLy4uL2NvcmUvcmVhY3RpdmVVdGlscy5qc1wiO2ltcG9ydHtwcm9wZXJ0eSBhcyBsfWZyb21cIi4uLy4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvcHJvcGVydHkuanNcIjtpbXBvcnRcIi4uLy4uLy4uLy4uL2NvcmUvaGFzLmpzXCI7aW1wb3J0XCIuLi8uLi8uLi8uLi9jb3JlL1JhbmRvbUxDRy5qc1wiO2ltcG9ydHtzdWJjbGFzcyBhcyBjfWZyb21cIi4uLy4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvc3ViY2xhc3MuanNcIjtpbXBvcnQgbSBmcm9tXCIuLi8uLi8uLi8uLi9nZW9tZXRyeS9FeHRlbnQuanNcIjtpbXBvcnR7c3JUb1JFU1RWYWx1ZSBhcyBwfWZyb21cIi4uLy4uLy4uLy4uL2dlb21ldHJ5L3N1cHBvcnQvc3BhdGlhbFJlZmVyZW5jZVV0aWxzLmpzXCI7aW1wb3J0e3Byb2plY3RFeHRlbnQgYXMgaH1mcm9tXCIuLi8uLi8uLi8uLi9sYXllcnMvc3VwcG9ydC9yYXN0ZXJGdW5jdGlvbnMvcmFzdGVyUHJvamVjdGlvbkhlbHBlci5qc1wiO2ltcG9ydHtzbmFwSW1hZ2VUb1N5bWJvbFRpbGUgYXMgeX1mcm9tXCIuLi8uLi8uLi8uLi9sYXllcnMvc3VwcG9ydC9yYXN0ZXJGdW5jdGlvbnMvdmVjdG9yRmllbGRVdGlscy5qc1wiO2ltcG9ydHtSYXN0ZXJWRkNvbnRhaW5lciBhcyB1fWZyb21cIi4uLy4uL2VuZ2luZS9pbWFnZXJ5L1Jhc3RlclZGQ29udGFpbmVyLmpzXCI7aW1wb3J0IGQgZnJvbVwiLi9JbWFnZXJ5VkZTdHJhdGVneS5qc1wiO2xldCB4PWNsYXNzIGV4dGVuZHMgaXtjb25zdHJ1Y3Rvcigpe3N1cGVyKC4uLmFyZ3VtZW50cyksdGhpcy5hdHRhY2hlZD0hMSx0aGlzLmNvbnRhaW5lcj1uZXcgdSx0aGlzLnR5cGU9XCJpbWFnZXJ5VkZcIix0aGlzLl9kYXRhUGFyYW1ldGVycz17ZXhwb3J0UGFyYW1ldGVyc1ZlcnNpb246MCxiYm94OlwiXCIsc3ltYm9sVGlsZVNpemU6MCx0aW1lOlwiXCJ9LHRoaXMuX2ZldGNocGl4ZWxzPWFzeW5jKHQsZSxyLGkpPT57Y29uc3Qgcz1hd2FpdCB0aGlzLl9wcm9qZWN0RnVsbEV4dGVudFByb21pc2Use2xheWVyOm99PXRoaXMse3N5bWJvbFRpbGVTaXplOmF9PW8ucmVuZGVyZXIse2V4dGVudDpuLHdpZHRoOmwsaGVpZ2h0OmN9PXkodCxlLHIsYSxzKTtpZihudWxsIT1zJiYhcy5pbnRlcnNlY3RzKHQpKXJldHVybntleHRlbnQ6bixwaXhlbEJsb2NrOm51bGx9O2NvbnN0IG09e2Jib3g6YCR7bi54bWlufSwgJHtuLnltaW59LCAke24ueG1heH0sICR7bi55bWF4fWAsZXhwb3J0UGFyYW1ldGVyc1ZlcnNpb246by5leHBvcnRJbWFnZVNlcnZpY2VQYXJhbWV0ZXJzLnZlcnNpb24sc3ltYm9sVGlsZVNpemU6YSx0aW1lOkpTT04uc3RyaW5naWZ5KHRoaXMudGltZUV4dGVudHx8XCJcIil9O2lmKHRoaXMuX2NhblJldXNlVmVjdG9yRmllbGREYXRhKG0pKXtjb25zdCB0PXRoaXMuZ2V0UGl4ZWxEYXRhKCk7aWYobnVsbCE9dCl7aWYoYCR7dC5leHRlbnQueG1pbn0sICR7dC5leHRlbnQueW1pbn0sICR7dC5leHRlbnQueG1heH0sICR7dC5leHRlbnQueW1heH1gPT09bS5iYm94KXJldHVybiB0fX1jb25zdHtwaXhlbEJsb2NrOnB9PWF3YWl0IG8uZmV0Y2hQaXhlbHMobixsLGMse3RpbWVFeHRlbnQ6dGhpcy50aW1lRXh0ZW50LGludGVycG9sYXRpb246by5pbnRlcnBvbGF0aW9uLHNpZ25hbDppfSk7aWYodGhpcy5fZGF0YVBhcmFtZXRlcnM9bSxudWxsPT1wKXJldHVybntleHRlbnQ6bixwaXhlbEJsb2NrOm51bGx9O2NvbnN0e2RhdGFUeXBlOmh9PW8ucmFzdGVySW5mbztyZXR1cm57ZXh0ZW50Om4scGl4ZWxCbG9jazpcInZlY3Rvci11dlwiPT09aCYmcD9hd2FpdCBvLmNvbnZlcnRWZWN0b3JGaWVsZERhdGEocCxcInZlY3Rvci11dlwiLHtzaWduYWw6aX0pOnB9fX1nZXQgdXBkYXRpbmcoKXtyZXR1cm4hdGhpcy5hdHRhY2hlZHx8dGhpcy5fc3RyYXRlZ3kudXBkYXRpbmd9YXR0YWNoKCl7dGhpcy5fcHJvamVjdEZ1bGxFeHRlbnRQcm9taXNlPXRoaXMuX2dldFByb2plY3RlZEZ1bGxFeHRlbnQodGhpcy52aWV3LnNwYXRpYWxSZWZlcmVuY2UpLHRoaXMuX3N0cmF0ZWd5PW5ldyBkKHtjb250YWluZXI6dGhpcy5jb250YWluZXIsZmV0Y2hQaXhlbHM6dGhpcy5fZmV0Y2hwaXhlbHN9KSx0aGlzLmFkZEhhbmRsZXMoYSgoKCk9PnRoaXMubGF5ZXIucmVuZGVyZXIpLCh0PT50aGlzLl91cGRhdGVTeW1ib2xpemVyUGFyYW1zKHQpKSxuKSxcImF0dGFjaFwiKX1kZXRhY2goKXt0aGlzLl9zdHJhdGVneS5kZXN0cm95KCksdGhpcy5jb250YWluZXIuY2hpbGRyZW4uZm9yRWFjaCgodD0+dC5kZXN0cm95KCkpKSx0aGlzLmNvbnRhaW5lci5yZW1vdmVBbGxDaGlsZHJlbigpLHRoaXMucmVtb3ZlSGFuZGxlcyhcImF0dGFjaFwiKSx0aGlzLl9zdHJhdGVneT10aGlzLmNvbnRhaW5lcj10aGlzLl9wcm9qZWN0RnVsbEV4dGVudFByb21pc2U9bnVsbH1nZXRQaXhlbERhdGEoKXtjb25zdCB0PXRoaXMuY29udGFpbmVyLmNoaWxkcmVuWzBdPy5yYXdQaXhlbERhdGE7aWYodGhpcy51cGRhdGluZ3x8IXQpcmV0dXJuIG51bGw7Y29uc3R7ZXh0ZW50OmUscGl4ZWxCbG9jazpyfT10O3JldHVybntleHRlbnQ6ZSxwaXhlbEJsb2NrOnJ9fWhpdFRlc3QodCl7cmV0dXJuIG5ldyBlKHthdHRyaWJ1dGVzOnt9LGdlb21ldHJ5OnQuY2xvbmUoKSxsYXllcjp0aGlzLmxheWVyfSl9dXBkYXRlKHQpe3RoaXMuX3N0cmF0ZWd5LnVwZGF0ZSh0LHRoaXMuX3N5bWJvbGl6ZXJQYXJhbXMpLmNhdGNoKCh0PT57byh0KXx8cy5nZXRMb2dnZXIodGhpcykuZXJyb3IodCl9KSl9cmVkcmF3KCl7Y29uc3R7cmVuZGVyZXI6dH09dGhpcy5sYXllcjt0JiYodGhpcy5fdXBkYXRlU3ltYm9saXplclBhcmFtcyh0KSx0aGlzLl9zdHJhdGVneS5yZWRyYXcodGhpcy5fc3ltYm9saXplclBhcmFtcykpfV9jYW5SZXVzZVZlY3RvckZpZWxkRGF0YSh0KXtjb25zdCBlPXRoaXMuX2RhdGFQYXJhbWV0ZXJzLmV4cG9ydFBhcmFtZXRlcnNWZXJzaW9uPT09dC5leHBvcnRQYXJhbWV0ZXJzVmVyc2lvbixyPXRoaXMuX2RhdGFQYXJhbWV0ZXJzLnRpbWU9PT10LnRpbWUsaT10aGlzLl9kYXRhUGFyYW1ldGVycy5zeW1ib2xUaWxlU2l6ZT09PXQuc3ltYm9sVGlsZVNpemUscz10aGlzLl9kYXRhUGFyYW1ldGVycy5iYm94PT09dC5iYm94O3JldHVybiBlJiZyJiZpJiZzfWFzeW5jIF9nZXRQcm9qZWN0ZWRGdWxsRXh0ZW50KHQpe3RyeXtyZXR1cm4gaCh0aGlzLmxheWVyLmZ1bGxFeHRlbnQsdCl9Y2F0Y2goZSl7dHJ5e2NvbnN0IGU9KGF3YWl0IHIodGhpcy5sYXllci51cmwse3F1ZXJ5OntvcHRpb246XCJmb290cHJpbnRzXCIsb3V0U1I6cCh0KSxmOlwianNvblwifX0pKS5kYXRhLmZlYXR1cmVDb2xsZWN0aW9uLmxheWVyc1swXS5sYXllckRlZmluaXRpb24uZXh0ZW50O3JldHVybiBlP20uZnJvbUpTT04oZSk6bnVsbH1jYXRjaHtyZXR1cm4gbnVsbH19fV91cGRhdGVTeW1ib2xpemVyUGFyYW1zKHQpe1widmVjdG9yLWZpZWxkXCI9PT10Py50eXBlJiYodGhpcy5fc3ltYm9saXplclBhcmFtcz10aGlzLmxheWVyLnN5bWJvbGl6ZXIuZ2VuZXJhdGVXZWJHTFBhcmFtZXRlcnMoe3BpeGVsQmxvY2s6bnVsbH0pKX19O3QoW2woKV0seC5wcm90b3R5cGUsXCJhdHRhY2hlZFwiLHZvaWQgMCksdChbbCgpXSx4LnByb3RvdHlwZSxcImNvbnRhaW5lclwiLHZvaWQgMCksdChbbCgpXSx4LnByb3RvdHlwZSxcImxheWVyXCIsdm9pZCAwKSx0KFtsKCldLHgucHJvdG90eXBlLFwidGltZUV4dGVudFwiLHZvaWQgMCksdChbbCgpXSx4LnByb3RvdHlwZSxcInR5cGVcIix2b2lkIDApLHQoW2woKV0seC5wcm90b3R5cGUsXCJ2aWV3XCIsdm9pZCAwKSx0KFtsKCldLHgucHJvdG90eXBlLFwidXBkYXRpbmdcIixudWxsKSx4PXQoW2MoXCJlc3JpLnZpZXdzLjJkLmxheWVycy5pbWFnZXJ5LlZlY3RvckZpZWxkVmlldzJEXCIpXSx4KTtleHBvcnR7eCBhcyBkZWZhdWx0fTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjMzL2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7XyBhcyB0fWZyb21cIi4uLy4uLy4uLy4uL2NodW5rcy90c2xpYi5lczYuanNcIjtpbXBvcnQgZSBmcm9tXCIuLi8uLi8uLi8uLi9jb3JlL0FjY2Vzc29yLmpzXCI7aW1wb3J0XCIuLi8uLi8uLi8uLi9jb3JlL2hhcy5qc1wiO2ltcG9ydHtkZWJvdW5jZSBhcyBpLHRocm93SWZBYm9ydGVkIGFzIG8sdGhyb3dJZkFib3J0RXJyb3IgYXMgcixlYWNoQWx3YXlzIGFzIHN9ZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9wcm9taXNlVXRpbHMuanNcIjtpbXBvcnR7cHJvcGVydHkgYXMgYX1mcm9tXCIuLi8uLi8uLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3Byb3BlcnR5LmpzXCI7aW1wb3J0XCIuLi8uLi8uLi8uLi9jb3JlL0xvZ2dlci5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vLi4vY29yZS9SYW5kb21MQ0cuanNcIjtpbXBvcnR7c3ViY2xhc3MgYXMgbn1mcm9tXCIuLi8uLi8uLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3N1YmNsYXNzLmpzXCI7aW1wb3J0e3RvRXh0ZW50IGFzIHAsY3JlYXRlIGFzIG19ZnJvbVwiLi4vLi4vLi4vLi4vZ2VvbWV0cnkvc3VwcG9ydC9hYUJvdW5kaW5nUmVjdC5qc1wiO2ltcG9ydHtnZXRJbmZvIGFzIGh9ZnJvbVwiLi4vLi4vLi4vLi4vZ2VvbWV0cnkvc3VwcG9ydC9zcGF0aWFsUmVmZXJlbmNlVXRpbHMuanNcIjtpbXBvcnQgZCBmcm9tXCIuLi8uLi8uLi8uLi9sYXllcnMvc3VwcG9ydC9UaWxlSW5mby5qc1wiO2ltcG9ydHtnZXRPdXRlclNpemUgYXMgbCxnZXRCQm94IGFzIGN9ZnJvbVwiLi4vLi4vdmlld1N0YXRlVXRpbHMuanNcIjtpbXBvcnR7Qml0bWFwIGFzIHV9ZnJvbVwiLi4vLi4vZW5naW5lL0JpdG1hcC5qc1wiO2ltcG9ydCBnIGZyb21cIi4uLy4uL3RpbGluZy9UaWxlSW5mb1ZpZXcuanNcIjtpbXBvcnQgZiBmcm9tXCIuLi8uLi90aWxpbmcvVGlsZUtleS5qc1wiO2NvbnN0IHk9bSgpLHg9WzAsMF0sUz1uZXcgZigwLDAsMCwwKSx3PXtpbWFnZU1heFdpZHRoOjIwNDgsaW1hZ2VNYXhIZWlnaHQ6MjA0OCxpbWFnZVJvdGF0aW9uU3VwcG9ydGVkOiExLGltYWdlTm9ybWFsaXphdGlvblN1cHBvcnRlZDohMSxoaWRwaTohMX07bGV0IE09Y2xhc3MgZXh0ZW5kcyBle2NvbnN0cnVjdG9yKHQpe3N1cGVyKHQpLHRoaXMuX2ltYWdlUHJvbWlzZT1udWxsLHRoaXMuYml0bWFwcz1bXSx0aGlzLmhpZHBpPXcuaGlkcGksdGhpcy5pbWFnZU1heFdpZHRoPXcuaW1hZ2VNYXhXaWR0aCx0aGlzLmltYWdlTWF4SGVpZ2h0PXcuaW1hZ2VNYXhIZWlnaHQsdGhpcy5pbWFnZVJvdGF0aW9uU3VwcG9ydGVkPXcuaW1hZ2VSb3RhdGlvblN1cHBvcnRlZCx0aGlzLmltYWdlTm9ybWFsaXphdGlvblN1cHBvcnRlZD13LmltYWdlTm9ybWFsaXphdGlvblN1cHBvcnRlZCx0aGlzLnVwZGF0ZT1pKChhc3luYyh0LGUpPT57aWYobyhlKSwhdC5zdGF0aW9uYXJ5fHx0aGlzLmRlc3Ryb3llZClyZXR1cm47Y29uc3QgaT10LnN0YXRlLHM9aChpLnNwYXRpYWxSZWZlcmVuY2UpLGE9dGhpcy5oaWRwaT90LnBpeGVsUmF0aW86MSxuPWkud29ybGRTY3JlZW5XaWR0aD4wLHA9biYmdGhpcy5pbWFnZU5vcm1hbGl6YXRpb25TdXBwb3J0ZWQmJmkud29ybGRTY3JlZW5XaWR0aDxpLnNpemVbMF0sbT1NYXRoLnJvdW5kKCh0aGlzLmltYWdlTWF4V2lkdGg/PzApL2EpLGQ9TWF0aC5yb3VuZCgodGhpcy5pbWFnZU1heEhlaWdodD8/MCkvYSk7cD8oeFswXT1pLndvcmxkU2NyZWVuV2lkdGgseFsxXT1pLnNpemVbMV0pOnRoaXMuaW1hZ2VSb3RhdGlvblN1cHBvcnRlZD8oeFswXT1pLnNpemVbMF0seFsxXT1pLnNpemVbMV0pOmwoeCxpKTtjb25zdCBjPU1hdGguZmxvb3IoeFswXSk+bXx8TWF0aC5mbG9vcih4WzFdKT5kLHU9cyYmKGkuZXh0ZW50LnhtaW48cy52YWxpZFswXXx8aS5leHRlbnQueG1heD5zLnZhbGlkWzFdKSxnPSF0aGlzLmltYWdlTm9ybWFsaXphdGlvblN1cHBvcnRlZCYmdSxmPSFjJiYhZyx5PXRoaXMuaW1hZ2VSb3RhdGlvblN1cHBvcnRlZD9pLnJvdGF0aW9uOjAsUz10aGlzLmNvbnRhaW5lci5jaGlsZHJlbi5zbGljZSgpO2lmKGYpe2NvbnN0IHQ9cD9pLnBhZGRlZFZpZXdTdGF0ZS5jZW50ZXI6aS5jZW50ZXI7dGhpcy5faW1hZ2VQcm9taXNlPXRoaXMuX3NpbmdsZUV4cG9ydChpLHgsdCxpLnJlc29sdXRpb24seSxhLGUpfWVsc2V7bGV0IHQ9TWF0aC5taW4obSxkKTtuJiYodD1NYXRoLm1pbihpLndvcmxkU2NyZWVuV2lkdGgsdCksdD1NYXRoLnJvdW5kKGkud29ybGRTY3JlZW5XaWR0aC9NYXRoLmNlaWwoaS53b3JsZFNjcmVlbldpZHRoL3QpKSksdGhpcy5faW1hZ2VQcm9taXNlPXRoaXMuX3RpbGVkRXhwb3J0KGksdCxhLGUpfXRyeXtjb25zdCB0PWF3YWl0IHRoaXMuX2ltYWdlUHJvbWlzZT8/W107byhlKTtjb25zdCBpPVtdO2lmKHRoaXMuX2ltYWdlUHJvbWlzZT1udWxsLHRoaXMuZGVzdHJveWVkKXJldHVybjt0aGlzLmJpdG1hcHM9dDtmb3IoY29uc3QgZSBvZiBTKXQuaW5jbHVkZXMoZSl8fGkucHVzaChlLmZhZGVPdXQoKS50aGVuKCgoKT0+e2UucmVtb3ZlKCksZS5kZXN0cm95KCl9KSkpO2Zvcihjb25zdCBlIG9mIHQpaS5wdXNoKGUuZmFkZUluKCkpO2F3YWl0IFByb21pc2UuYWxsKGkpfWNhdGNoKHcpe3RoaXMuX2ltYWdlUHJvbWlzZT1udWxsLHIodyl9fSksNWUzKSx0aGlzLnVwZGF0ZUV4cG9ydHM9aSgoYXN5bmMgdD0+e2NvbnN0IGU9W107Zm9yKGNvbnN0IGkgb2YgdGhpcy5jb250YWluZXIuY2hpbGRyZW4pe2lmKCFpLnZpc2libGV8fCFpLnN0YWdlKXJldHVybjtlLnB1c2godChpKS50aGVuKCgoKT0+e2kuaW52YWxpZGF0ZVRleHR1cmUoKSxpLnJlcXVlc3RSZW5kZXIoKX0pKSl9dGhpcy5faW1hZ2VQcm9taXNlPXMoZSkudGhlbigoKCk9PnRoaXMuX2ltYWdlUHJvbWlzZT1udWxsKSksYXdhaXQgdGhpcy5faW1hZ2VQcm9taXNlfSkpfWRlc3Ryb3koKXt0aGlzLmJpdG1hcHMuZm9yRWFjaCgodD0+dC5kZXN0cm95KCkpKSx0aGlzLmJpdG1hcHM9W119Z2V0IHVwZGF0aW5nKCl7cmV0dXJuIXRoaXMuZGVzdHJveWVkJiZudWxsIT09dGhpcy5faW1hZ2VQcm9taXNlfWFzeW5jIF9leHBvcnQodCxlLGkscixzLGEpe2NvbnN0IG49YXdhaXQgdGhpcy5mZXRjaFNvdXJjZSh0LE1hdGguZmxvb3IoZSpzKSxNYXRoLmZsb29yKGkqcykse3JvdGF0aW9uOnIscGl4ZWxSYXRpbzpzLHNpZ25hbDphfSk7byhhKTtjb25zdCBwPW5ldyB1KG51bGwsITApO3JldHVybiBwLng9dC54bWluLHAueT10LnltYXgscC5yZXNvbHV0aW9uPXQud2lkdGgvZSxwLnJvdGF0aW9uPXIscC5waXhlbFJhdGlvPXMscC5vcGFjaXR5PTAsdGhpcy5jb250YWluZXIuYWRkQ2hpbGQocCksYXdhaXQgcC5zZXRTb3VyY2VBc3luYyhuLGEpLG8oYSkscH1hc3luYyBfc2luZ2xlRXhwb3J0KHQsZSxpLG8scixzLGEpe2MoeSxpLG8sZSk7Y29uc3Qgbj1wKHksdC5zcGF0aWFsUmVmZXJlbmNlKTtyZXR1cm5bYXdhaXQgdGhpcy5fZXhwb3J0KG4sZVswXSxlWzFdLHIscyxhKV19X3RpbGVkRXhwb3J0KHQsZSxpLG8pe2NvbnN0IHI9ZC5jcmVhdGUoe3NpemU6ZSxzcGF0aWFsUmVmZXJlbmNlOnQuc3BhdGlhbFJlZmVyZW5jZSxzY2FsZXM6W3Quc2NhbGVdfSkscz1uZXcgZyhyKSxhPXMuZ2V0VGlsZUNvdmVyYWdlKHQpO2lmKCFhKXJldHVybiBudWxsO2NvbnN0IG49W107cmV0dXJuIGEuZm9yRWFjaCgoKHIsYSxtLGgpPT57Uy5zZXQocixhLG0sMCkscy5nZXRUaWxlQm91bmRzKHksUyk7Y29uc3QgZD1wKHksdC5zcGF0aWFsUmVmZXJlbmNlKTtuLnB1c2godGhpcy5fZXhwb3J0KGQsZSxlLDAsaSxvKS50aGVuKCh0PT4oMCE9PWgmJihTLnNldChyLGEsbSxoKSxzLmdldFRpbGVCb3VuZHMoeSxTKSx0Lng9eVswXSx0Lnk9eVszXSksdCkpKSl9KSksUHJvbWlzZS5hbGwobil9fTt0KFthKCldLE0ucHJvdG90eXBlLFwiX2ltYWdlUHJvbWlzZVwiLHZvaWQgMCksdChbYSgpXSxNLnByb3RvdHlwZSxcImJpdG1hcHNcIix2b2lkIDApLHQoW2EoKV0sTS5wcm90b3R5cGUsXCJjb250YWluZXJcIix2b2lkIDApLHQoW2EoKV0sTS5wcm90b3R5cGUsXCJmZXRjaFNvdXJjZVwiLHZvaWQgMCksdChbYSgpXSxNLnByb3RvdHlwZSxcImhpZHBpXCIsdm9pZCAwKSx0KFthKCldLE0ucHJvdG90eXBlLFwiaW1hZ2VNYXhXaWR0aFwiLHZvaWQgMCksdChbYSgpXSxNLnByb3RvdHlwZSxcImltYWdlTWF4SGVpZ2h0XCIsdm9pZCAwKSx0KFthKCldLE0ucHJvdG90eXBlLFwiaW1hZ2VSb3RhdGlvblN1cHBvcnRlZFwiLHZvaWQgMCksdChbYSgpXSxNLnByb3RvdHlwZSxcImltYWdlTm9ybWFsaXphdGlvblN1cHBvcnRlZFwiLHZvaWQgMCksdChbYSgpXSxNLnByb3RvdHlwZSxcInJlcXVlc3RVcGRhdGVcIix2b2lkIDApLHQoW2EoKV0sTS5wcm90b3R5cGUsXCJ1cGRhdGluZ1wiLG51bGwpLE09dChbbihcImVzcmkudmlld3MuMmQubGF5ZXJzLnN1cHBvcnQuRXhwb3J0U3RyYXRlZ3lcIildLE0pO2V4cG9ydHtNIGFzIGRlZmF1bHR9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMzMvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmNvbnN0IHQ9TWF0aC5QSS8xODA7ZnVuY3Rpb24gbihuKXtyZXR1cm4gbip0fWZ1bmN0aW9uIG8odCxvKXtjb25zdCBhPW4oby5yb3RhdGlvbikscj1NYXRoLmFicyhNYXRoLmNvcyhhKSkscz1NYXRoLmFicyhNYXRoLnNpbihhKSksW3UsY109by5zaXplO3JldHVybiB0WzBdPU1hdGgucm91bmQoYypzK3UqciksdFsxXT1NYXRoLnJvdW5kKGMqcit1KnMpLHR9ZnVuY3Rpb24gYSh0LG4sbyxhKXtjb25zdFtyLHNdPW4sW3UsY109YSxoPS41Km87cmV0dXJuIHRbMF09ci1oKnUsdFsxXT1zLWgqYyx0WzJdPXIraCp1LHRbM109cytoKmMsdH1leHBvcnR7YSBhcyBnZXRCQm94LG8gYXMgZ2V0T3V0ZXJTaXplfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjMzL2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7XyBhcyBlfWZyb21cIi4uLy4uL2NodW5rcy90c2xpYi5lczYuanNcIjtpbXBvcnQgdCBmcm9tXCIuLi8uLi9jb3JlL0Vycm9yLmpzXCI7aW1wb3J0e3Rocm93SWZBYm9ydGVkIGFzIHJ9ZnJvbVwiLi4vLi4vY29yZS9wcm9taXNlVXRpbHMuanNcIjtpbXBvcnR7cHJvcGVydHkgYXMgb31mcm9tXCIuLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3Byb3BlcnR5LmpzXCI7aW1wb3J0XCIuLi8uLi9jb3JlL2hhcy5qc1wiO2ltcG9ydFwiLi4vLi4vY29yZS9Mb2dnZXIuanNcIjtpbXBvcnRcIi4uLy4uL2NvcmUvUmFuZG9tTENHLmpzXCI7aW1wb3J0e3N1YmNsYXNzIGFzIHN9ZnJvbVwiLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9zdWJjbGFzcy5qc1wiO2ltcG9ydCBpIGZyb21cIi4uLy4uL2dlb21ldHJ5L1BvaW50LmpzXCI7aW1wb3J0e2NvbWJpbmVUaW1lRXh0ZW50IGFzIGF9ZnJvbVwiLi4vLi4vbGF5ZXJzL3N1cHBvcnQvdGltZVN1cHBvcnQuanNcIjtpbXBvcnR7bG9hZCBhcyBwLGdldFNvdXJjZVNjYWxlIGFzIG59ZnJvbVwiLi4vLi4vbGF5ZXJzL3N1cHBvcnQvcmFzdGVyRnVuY3Rpb25zL3Jhc3RlclByb2plY3Rpb25IZWxwZXIuanNcIjtpbXBvcnQgdSBmcm9tXCIuLi8uLi9yZXN0L3N1cHBvcnQvUXVlcnkuanNcIjtpbXBvcnR7Z2V0RmV0Y2hQb3B1cFRlbXBsYXRlIGFzIGN9ZnJvbVwiLi9zdXBwb3J0L3BvcHVwVXRpbHMuanNcIjtjb25zdCBtPW09PntsZXQgbD1jbGFzcyBleHRlbmRzIG17Y29uc3RydWN0b3IoKXtzdXBlciguLi5hcmd1bWVudHMpLHRoaXMudmlldz1udWxsfWdldCB0aW1lRXh0ZW50KCl7cmV0dXJuIGEodGhpcy5sYXllcix0aGlzLnZpZXc/LnRpbWVFeHRlbnQsdGhpcy5fZ2V0KFwidGltZUV4dGVudFwiKSl9YXN5bmMgZmV0Y2hQb3B1cEZlYXR1cmVzQXRMb2NhdGlvbihlLG8pe2NvbnN0e2xheWVyOnN9PXRoaXM7aWYoIWUpdGhyb3cgbmV3IHQoXCJpbWFnZXJ5bGF5ZXJ2aWV3OmZldGNoUG9wdXBGZWF0dXJlc1wiLFwiTm90aGluZyB0byBmZXRjaCB3aXRob3V0IGFyZWFcIix7bGF5ZXI6c30pO2NvbnN0e3BvcHVwRW5hYmxlZDphfT1zLHA9YyhzLG8pO2lmKCFhfHxudWxsPT1wKXJldHVybltdO2NvbnN0IG49YXdhaXQgcC5nZXRSZXF1aXJlZEZpZWxkcygpO3Iobyk7Y29uc3QgbT1uZXcgdTttLnRpbWVFeHRlbnQ9dGhpcy50aW1lRXh0ZW50LG0uZ2VvbWV0cnk9ZSxtLm91dEZpZWxkcz1uLG0ub3V0U3BhdGlhbFJlZmVyZW5jZT1lLnNwYXRpYWxSZWZlcmVuY2U7Y29uc3R7cmVzb2x1dGlvbjpsLHNwYXRpYWxSZWZlcmVuY2U6eX09dGhpcy52aWV3LGg9XCIyZFwiPT09dGhpcy52aWV3LnR5cGU/bmV3IGkobCxsLHkpOm5ldyBpKC41KmwsLjUqbCx5KSx7cmV0dXJuVG9wbW9zdFJhc3RlcjpmLHNob3dOb0RhdGFSZWNvcmRzOnd9PXAubGF5ZXJPcHRpb25zfHx7cmV0dXJuVG9wbW9zdFJhc3RlcjohMCxzaG93Tm9EYXRhUmVjb3JkczohMX0sZD17cmV0dXJuRG9tYWluVmFsdWVzOiEwLHJldHVyblRvcG1vc3RSYXN0ZXI6ZixwaXhlbFNpemU6aCxzaG93Tm9EYXRhUmVjb3Jkczp3LHNpZ25hbDpvPy5zaWduYWx9O3JldHVybiBzLnF1ZXJ5VmlzaWJsZVJhc3RlcnMobSxkKS50aGVuKChlPT5lKSl9YXN5bmMgZ2V0U291cmNlU2NhbGUoKXtyZXR1cm4gYXdhaXQgcCgpLGF3YWl0IHRoaXMubGF5ZXIubG9hZCgpLG4odGhpcy5sYXllci5zZXJ2aWNlUmFzdGVySW5mbyx0aGlzLnZpZXcuc3BhdGlhbFJlZmVyZW5jZSl9Y2FuUmVzdW1lKCl7cmV0dXJuISFzdXBlci5jYW5SZXN1bWUoKSYmIXRoaXMudGltZUV4dGVudD8uaXNFbXB0eX19O3JldHVybiBlKFtvKCldLGwucHJvdG90eXBlLFwibGF5ZXJcIix2b2lkIDApLGUoW28oKV0sbC5wcm90b3R5cGUsXCJzdXNwZW5kZWRcIix2b2lkIDApLGUoW28oe3JlYWRPbmx5OiEwfSldLGwucHJvdG90eXBlLFwidGltZUV4dGVudFwiLG51bGwpLGUoW28oKV0sbC5wcm90b3R5cGUsXCJ2aWV3XCIsdm9pZCAwKSxsPWUoW3MoXCJlc3JpLnZpZXdzLmxheWVycy5JbWFnZXJ5TGF5ZXJWaWV3XCIpXSxsKSxsfTtleHBvcnR7bSBhcyBkZWZhdWx0fTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==