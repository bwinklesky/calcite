export const __webpack_id__ = "vendors-node_modules_arcgis_core_layers_SubtypeGroupLayer_js";
export const __webpack_ids__ = ["vendors-node_modules_arcgis_core_layers_SubtypeGroupLayer_js"];
export const __webpack_modules__ = {

/***/ "./node_modules/@arcgis/core/layers/SubtypeGroupLayer.js":
/*!***************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/SubtypeGroupLayer.js ***!
  \***************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ de)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_Clonable_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../core/Clonable.js */ "./node_modules/@arcgis/core/core/Clonable.js");
/* harmony import */ var _core_Collection_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../core/Collection.js */ "./node_modules/@arcgis/core/core/Collection.js");
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_loadAll_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../core/loadAll.js */ "./node_modules/@arcgis/core/core/loadAll.js");
/* harmony import */ var _core_MapUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../core/MapUtils.js */ "./node_modules/@arcgis/core/core/MapUtils.js");
/* harmony import */ var _core_MultiOriginJSONSupport_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../core/MultiOriginJSONSupport.js */ "./node_modules/@arcgis/core/core/MultiOriginJSONSupport.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../core/reactiveUtils.js */ "./node_modules/@arcgis/core/core/reactiveUtils.js");
/* harmony import */ var _core_sql_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../core/sql.js */ "./node_modules/@arcgis/core/core/sql.js");
/* harmony import */ var _core_urlUtils_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../core/urlUtils.js */ "./node_modules/@arcgis/core/core/urlUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_RandomLCG_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../core/RandomLCG.js */ "./node_modules/@arcgis/core/core/RandomLCG.js");
/* harmony import */ var _core_accessorSupport_decorators_reader_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../core/accessorSupport/decorators/reader.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/reader.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _Layer_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./Layer.js */ "./node_modules/@arcgis/core/layers/Layer.js");
/* harmony import */ var _mixins_APIKeyMixin_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./mixins/APIKeyMixin.js */ "./node_modules/@arcgis/core/layers/mixins/APIKeyMixin.js");
/* harmony import */ var _mixins_ArcGISService_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./mixins/ArcGISService.js */ "./node_modules/@arcgis/core/layers/mixins/ArcGISService.js");
/* harmony import */ var _mixins_BlendLayer_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./mixins/BlendLayer.js */ "./node_modules/@arcgis/core/layers/mixins/BlendLayer.js");
/* harmony import */ var _mixins_CustomParametersMixin_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./mixins/CustomParametersMixin.js */ "./node_modules/@arcgis/core/layers/mixins/CustomParametersMixin.js");
/* harmony import */ var _mixins_DisplayFilteredLayer_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./mixins/DisplayFilteredLayer.js */ "./node_modules/@arcgis/core/layers/mixins/DisplayFilteredLayer.js");
/* harmony import */ var _mixins_EditBusLayer_js__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./mixins/EditBusLayer.js */ "./node_modules/@arcgis/core/layers/mixins/EditBusLayer.js");
/* harmony import */ var _mixins_FeatureLayerBase_js__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ./mixins/FeatureLayerBase.js */ "./node_modules/@arcgis/core/layers/mixins/FeatureLayerBase.js");
/* harmony import */ var _mixins_OperationalLayer_js__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ./mixins/OperationalLayer.js */ "./node_modules/@arcgis/core/layers/mixins/OperationalLayer.js");
/* harmony import */ var _mixins_PortalLayer_js__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ./mixins/PortalLayer.js */ "./node_modules/@arcgis/core/layers/mixins/PortalLayer.js");
/* harmony import */ var _mixins_RefreshableLayer_js__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ./mixins/RefreshableLayer.js */ "./node_modules/@arcgis/core/layers/mixins/RefreshableLayer.js");
/* harmony import */ var _mixins_ScaleRangeLayer_js__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ./mixins/ScaleRangeLayer.js */ "./node_modules/@arcgis/core/layers/mixins/ScaleRangeLayer.js");
/* harmony import */ var _mixins_TemporalLayer_js__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ./mixins/TemporalLayer.js */ "./node_modules/@arcgis/core/layers/mixins/TemporalLayer.js");
/* harmony import */ var _support_arcgisLayerUrl_js__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ./support/arcgisLayerUrl.js */ "./node_modules/@arcgis/core/layers/support/arcgisLayerUrl.js");
/* harmony import */ var _support_commonProperties_js__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ./support/commonProperties.js */ "./node_modules/@arcgis/core/layers/support/commonProperties.js");
/* harmony import */ var _support_featureLayerUtils_js__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! ./support/featureLayerUtils.js */ "./node_modules/@arcgis/core/layers/support/featureLayerUtils.js");
/* harmony import */ var _support_fieldProperties_js__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! ./support/fieldProperties.js */ "./node_modules/@arcgis/core/layers/support/fieldProperties.js");
/* harmony import */ var _support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(/*! ./support/fieldUtils.js */ "./node_modules/@arcgis/core/layers/support/fieldUtils.js");
/* harmony import */ var _support_subtypeGroupLayerUtils_js__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__(/*! ./support/subtypeGroupLayerUtils.js */ "./node_modules/@arcgis/core/layers/support/subtypeGroupLayerUtils.js");
/* harmony import */ var _support_SubtypeSublayer_js__WEBPACK_IMPORTED_MODULE_36__ = __webpack_require__(/*! ./support/SubtypeSublayer.js */ "./node_modules/@arcgis/core/layers/support/SubtypeSublayer.js");
/* harmony import */ var _support_TimeInfo_js__WEBPACK_IMPORTED_MODULE_37__ = __webpack_require__(/*! ./support/TimeInfo.js */ "./node_modules/@arcgis/core/layers/support/TimeInfo.js");
/* harmony import */ var _support_versionUtils_js__WEBPACK_IMPORTED_MODULE_38__ = __webpack_require__(/*! ./support/versionUtils.js */ "./node_modules/@arcgis/core/layers/support/versionUtils.js");
/* harmony import */ var _rest_support_Query_js__WEBPACK_IMPORTED_MODULE_39__ = __webpack_require__(/*! ../rest/support/Query.js */ "./node_modules/@arcgis/core/rest/support/Query.js");
/* harmony import */ var _support_guards_js__WEBPACK_IMPORTED_MODULE_40__ = __webpack_require__(/*! ../support/guards.js */ "./node_modules/@arcgis/core/support/guards.js");
/* harmony import */ var _webdoc_interfaces_js__WEBPACK_IMPORTED_MODULE_41__ = __webpack_require__(/*! ../webdoc/interfaces.js */ "./node_modules/@arcgis/core/webdoc/interfaces.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
const ae="SubtypeGroupLayer";function ne(e,t){return new _core_Error_js__WEBPACK_IMPORTED_MODULE_3__["default"]("layer:unsupported",`Layer (${e.title}, ${e.id}) of type '${e.declaredClass}' ${t}`,{layer:e})}function ue(e,t){const r=[];for(const s of e){const e=new _support_SubtypeSublayer_js__WEBPACK_IMPORTED_MODULE_36__["default"];e.read(s,t),r.push(e)}return r}const le=(0,_support_fieldProperties_js__WEBPACK_IMPORTED_MODULE_33__.defineFieldProperties)();function pe(){return{name:"layerType",read:{enabled:!0},write:{enabled:!0,ignoreOrigin:!0,isRequired:!0}}}let ye=class extends((0,_mixins_FeatureLayerBase_js__WEBPACK_IMPORTED_MODULE_24__.FeatureLayerBase)((0,_mixins_DisplayFilteredLayer_js__WEBPACK_IMPORTED_MODULE_22__.DisplayFilteredLayer)((0,_mixins_EditBusLayer_js__WEBPACK_IMPORTED_MODULE_23__.EditBusLayer)((0,_mixins_BlendLayer_js__WEBPACK_IMPORTED_MODULE_20__.BlendLayer)((0,_mixins_TemporalLayer_js__WEBPACK_IMPORTED_MODULE_29__.TemporalLayer)((0,_mixins_ScaleRangeLayer_js__WEBPACK_IMPORTED_MODULE_28__.ScaleRangeLayer)((0,_mixins_RefreshableLayer_js__WEBPACK_IMPORTED_MODULE_27__.RefreshableLayer)((0,_mixins_ArcGISService_js__WEBPACK_IMPORTED_MODULE_19__.ArcGISService)((0,_mixins_OperationalLayer_js__WEBPACK_IMPORTED_MODULE_25__.OperationalLayer)((0,_mixins_PortalLayer_js__WEBPACK_IMPORTED_MODULE_26__.PortalLayer)((0,_core_MultiOriginJSONSupport_js__WEBPACK_IMPORTED_MODULE_6__.MultiOriginJSONMixin)((0,_mixins_CustomParametersMixin_js__WEBPACK_IMPORTED_MODULE_21__.CustomParametersMixin)((0,_mixins_APIKeyMixin_js__WEBPACK_IMPORTED_MODULE_18__.APIKeyMixin)(_core_Clonable_js__WEBPACK_IMPORTED_MODULE_1__["default"].ClonableMixin(_Layer_js__WEBPACK_IMPORTED_MODULE_17__["default"]))))))))))))))){constructor(...e){super(...e),this._sublayerLookup=new Map,this.fields=null,this.fieldsIndex=null,this.outFields=null,this.sublayers=new(_core_Collection_js__WEBPACK_IMPORTED_MODULE_2__["default"].ofType(_support_SubtypeSublayer_js__WEBPACK_IMPORTED_MODULE_36__["default"])),this.useUniqueColorsForSublayers=!0,this.supportedSourceTypes=new Set(["Feature Layer","Table"]),this.timeInfo=null,this.title="Layer",this.type="subtype-group",this._debouncedSaveOperations=(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_7__.debounce)((async(e,t,r)=>{const{save:s,saveAs:i}=await __webpack_require__.e(/*! import() */ "vendors-node_modules_arcgis_core_layers_save_featureLayerUtils_js").then(__webpack_require__.bind(__webpack_require__, /*! ./save/featureLayerUtils.js */ "./node_modules/@arcgis/core/layers/save/featureLayerUtils.js"));switch(e){case _webdoc_interfaces_js__WEBPACK_IMPORTED_MODULE_41__.SaveOperationType.SAVE:return s(this,t);case _webdoc_interfaces_js__WEBPACK_IMPORTED_MODULE_41__.SaveOperationType.SAVE_AS:return i(this,r,t)}})),this.addHandles((0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_8__.watch)((()=>this.sublayers),((e,t)=>this._handleSublayersChange(e,t)),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_8__.sync))}destroy(){this.source?.destroy()}normalizeCtorArgs(e,t){return"string"==typeof e?{url:e,...t}:e}load(e){const t=null!=e?e.signal:null,r=this.loadFromPortal({supportedTypes:["Feature Service"]},e).catch(_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_7__.throwIfAbortError).then((async()=>{if(!this.url)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_3__["default"]("subtype-grouplayer:missing-url-or-source","SubtypeGroupLayer must be created with either a url or a portal item");if(null==this.layerId)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_3__["default"]("subtype-grouplayer:missing-layerid","layerId is required for a SubtypeGroupLayer created with url");return this._initLayerProperties(await this.createGraphicsSource(t))})).then((()=>(0,_support_featureLayerUtils_js__WEBPACK_IMPORTED_MODULE_32__.ensureLayerCredential)(this,"load",e)));return this.addResolvingPromise(r),Promise.resolve(this)}get createQueryVersion(){return this.commitProperty("definitionExpression"),this.commitProperty("timeExtent"),this.commitProperty("timeOffset"),this.commitProperty("geometryType"),this.commitProperty("gdbVersion"),this.commitProperty("historicMoment"),this.commitProperty("returnZ"),this.commitProperty("capabilities"),this.commitProperty("returnM"),(this._get("createQueryVersion")??0)+1}get editingEnabled(){return this.loaded&&null!=this.capabilities&&this.capabilities.operations.supportsEditing&&this.userHasEditingPrivileges}get effectiveEditingEnabled(){return (0,_support_featureLayerUtils_js__WEBPACK_IMPORTED_MODULE_32__.computeEffectiveEditingEnabled)(this)}get operationalLayerType(){return this.isTable?"SubtypeGroupTable":"SubtypeGroupLayer"}get parsedUrl(){const e=(0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_10__.urlToObject)(this.url);return null!=e&&null!=this.layerId&&(e.path=(0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_10__.join)(e.path,this.layerId.toString())),e}set source(e){this._get("source")!==e&&this._set("source",e)}readTitleFromService(e,{name:t}){return this.url?(0,_support_arcgisLayerUrl_js__WEBPACK_IMPORTED_MODULE_30__.titleFromUrlAndName)(this.url,t):t}async addAttachment(e,t){const r=await (0,_support_featureLayerUtils_js__WEBPACK_IMPORTED_MODULE_32__.addAttachment)(this,e,t,ae);return this.lastEditsEventDate=new Date,r}async updateAttachment(e,t,r){const s=await (0,_support_featureLayerUtils_js__WEBPACK_IMPORTED_MODULE_32__.updateAttachment)(this,e,t,r,ae);return this.lastEditsEventDate=new Date,s}async applyEdits(e,t){return (0,_support_featureLayerUtils_js__WEBPACK_IMPORTED_MODULE_32__.applyEdits)(this,e,t)}on(e,t){return super.on(e,t)}async createGraphicsSource(e){const{default:t}=await (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_7__.whenOrAbort)(Promise.all(/*! import() */[__webpack_require__.e("vendors-node_modules_arcgis_core_layers_graphics_editingSupport_js"), __webpack_require__.e("vendors-node_modules_arcgis_core_layers_graphics_sources_FeatureLayerSource_js")]).then(__webpack_require__.bind(__webpack_require__, /*! ./graphics/sources/FeatureLayerSource.js */ "./node_modules/@arcgis/core/layers/graphics/sources/FeatureLayerSource.js")),e);return new t({layer:this,supportedSourceTypes:this.supportedSourceTypes}).load({signal:e})}createQuery(){const e=(0,_support_featureLayerUtils_js__WEBPACK_IMPORTED_MODULE_32__.createQuery)(this),t=this.sublayers.map((e=>e.subtypeCode));return e.where=(0,_core_sql_js__WEBPACK_IMPORTED_MODULE_9__.sqlAnd)(`${this.subtypeField} IN (${t.join(",")})`,this.definitionExpression),e}async deleteAttachments(e,t){const r=await (0,_support_featureLayerUtils_js__WEBPACK_IMPORTED_MODULE_32__.deleteAttachments)(this,e,t,ae);return this.lastEditsEventDate=new Date,r}async fetchRecomputedExtents(e){return (0,_support_featureLayerUtils_js__WEBPACK_IMPORTED_MODULE_32__.fetchRecomputedExtents)(this,e,ae)}findSublayerForFeature(e){const t=this.fieldsIndex.get(this.subtypeField),r=e.attributes[t.name];return this.findSublayerForSubtypeCode(r)}findSublayerForSubtypeCode(e){return this._sublayerLookup.get(e)}getFieldDomain(e,t){if(!t?.excludeImpliedDomains){const t=(0,_support_featureLayerUtils_js__WEBPACK_IMPORTED_MODULE_32__.computeDomainFromSubtypes)(this,e);if(t)return t}const r=(0,_support_featureLayerUtils_js__WEBPACK_IMPORTED_MODULE_32__.getFeatureSubtype)(this,t?.feature);if(r){const t=r.domains?.[e];return"inherited"===t?.type?this._getLayerDomain(e):t}return this._getLayerDomain(e)}loadAll(){return (0,_core_loadAll_js__WEBPACK_IMPORTED_MODULE_4__.loadAll)(this,(e=>{e(this.sublayers)}))}async queryAttachments(e,t){return (0,_support_featureLayerUtils_js__WEBPACK_IMPORTED_MODULE_32__.queryAttachments)(this,e,t,ae)}async queryFeatures(e,t){const r=await this.load(),s=_rest_support_Query_js__WEBPACK_IMPORTED_MODULE_39__["default"].from(e)??r.createQuery(),i=s.outFields??[];i.includes(this.subtypeField)||(i.push(this.subtypeField),s.outFields=i);const o=await r.source.queryFeatures(s,t);if(o?.features)for(const a of o.features)a.layer=a.sourceLayer=this.findSublayerForFeature(a);return o}async queryObjectIds(e,t){return(await (0,_support_featureLayerUtils_js__WEBPACK_IMPORTED_MODULE_32__.queryObjectIds)(this,e,t,ae)).filter(_support_guards_js__WEBPACK_IMPORTED_MODULE_40__.isNumber)}async queryFeatureCount(e,t){return (0,_support_featureLayerUtils_js__WEBPACK_IMPORTED_MODULE_32__.queryFeatureCount)(this,e,t,ae)}async queryExtent(e,t){return (0,_support_featureLayerUtils_js__WEBPACK_IMPORTED_MODULE_32__.queryExtent)(this,e,t,ae)}async queryRelatedFeatures(e,t){return (0,_support_featureLayerUtils_js__WEBPACK_IMPORTED_MODULE_32__.queryRelatedFeatures)(this,e,t,ae)}async queryRelatedFeaturesCount(e,t){return (0,_support_featureLayerUtils_js__WEBPACK_IMPORTED_MODULE_32__.queryRelatedFeaturesCount)(this,e,t,ae)}async save(e){return this._debouncedSaveOperations(_webdoc_interfaces_js__WEBPACK_IMPORTED_MODULE_41__.SaveOperationType.SAVE,e)}async saveAs(e,t){return this._debouncedSaveOperations(_webdoc_interfaces_js__WEBPACK_IMPORTED_MODULE_41__.SaveOperationType.SAVE_AS,t,e)}write(e,t){const{origin:r,layerContainerType:i,messages:o}=t;if(this.isTable){if("web-scene"===r||"web-map"===r&&"tables"!==i)return o?.push(ne(this,"using a table source cannot be written to web scenes and web maps")),null}else if(this.loaded&&"web-map"===r&&"tables"===i)return o?.push(ne(this,"using a non-table source cannot be written to tables in web maps")),null;return this.sublayers?.length?super.write(e,t):(o?.push(new _core_Error_js__WEBPACK_IMPORTED_MODULE_3__["default"]("web-document-write:invalid-property",`Layer (${this.title}, ${this.id}) of type '${this.declaredClass}' has invalid value for 'sublayers' property. 'sublayers' collection should contain at least one sublayer`,{layer:this})),null)}serviceSupportsSpatialReference(e){return!!this.loaded&&(0,_support_versionUtils_js__WEBPACK_IMPORTED_MODULE_38__.serviceSupportsSpatialReference)(this,e)}async getFeatureTitle(e,t){const r=this.findSublayerForFeature(e);return r?await r.getFeatureTitle(e,t):this._getFeatureTitleForUnknownSublayer(e)}async getFeatureTitles(e,t){const r=new Map,s=new Map,i=[s];e.forEach((e=>{const t=this.findSublayerForFeature(e);if(t)(0,_core_MapUtils_js__WEBPACK_IMPORTED_MODULE_5__.getOrCreateMapValue)(r,t,(()=>[])).push(e);else{const t=e.getObjectId()??e.attributes[this.objectIdField];s.set(t,this._getFeatureTitleForUnknownSublayer(e))}}));const a=await Promise.all(Array.from(r).map((([e,r])=>e.getFeatureTitles(r,t))));return a.forEach((e=>i.push(e))),new Map(i.flatMap((e=>[...e])))}get featureTitleFields(){const e=new Set;for(const t of this.sublayers){const r=t.featureTitleFields;for(const t of r)e.add(t)}return[...e]}_getLayerDomain(e){const t=this.fieldsIndex.get(e);return t?t.domain:null}async _initLayerProperties(e){this._set("source",e);const{sourceJSON:t}=e;if(t&&(this.sourceJSON=t,this.read(t,{origin:"service",url:this.parsedUrl})),!this.subtypes?.length)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_3__["default"]("subtype-grouplayer:missing-subtypes","SubtypeGroupLayer must be created using a layer with subtypes");this._verifyFields(),(0,_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_34__.fixTimeInfoFields)(this.timeInfo,this.fieldsIndex)}async hasDataChanged(){return (0,_support_featureLayerUtils_js__WEBPACK_IMPORTED_MODULE_32__.hasDataChanged)(this)}_verifyFields(){const e=this.parsedUrl?.path??"undefined";this.objectIdField||console.log("SubtypeGroupLayer: 'objectIdField' property is not defined (url: "+e+")"),this.isTable||-1!==e.search(/\/FeatureServer\//i)||this.fields?.some((e=>"geometry"===e.type))||console.log("SubtypeGroupLayer: unable to find field of type 'geometry' in the layer 'fields' list. If you are using a map service layer, features will not have geometry (url: "+e+")")}_handleSublayersChange(e,t){t&&(t.forEach((e=>{e.parent=null})),this.removeHandles("sublayers-owner"),this._sublayerLookup.clear()),e&&(e.forEach((e=>{e.parent=this,this._sublayerLookup.set(e.subtypeCode,e)})),this.addHandles([e.on("after-add",(({item:e})=>{e.parent=this,this._sublayerLookup.set(e.subtypeCode,e)})),e.on("after-remove",(({item:e})=>{e.parent=null,this._sublayerLookup.delete(e.subtypeCode)}))],"sublayers-owner"))}_getFeatureTitleForUnknownSublayer(e){const{displayField:t,fieldsIndex:r,objectIdField:s}=this;if(t&&r.has(t))return e.attributes[r.get(t).name]??"";const i=e.getObjectId();return null!=i?i.toString():s&&r.has(s)?e.attributes[r.get(s).name]??"":""}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_11__.property)({readOnly:!0})],ye.prototype,"createQueryVersion",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_11__.property)({readOnly:!0})],ye.prototype,"editingEnabled",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_11__.property)({readOnly:!0})],ye.prototype,"effectiveEditingEnabled",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_11__.property)({...le.fields,readOnly:!0,json:{origins:{service:{read:!0}},read:!1}})],ye.prototype,"fields",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_11__.property)(le.fieldsIndex)],ye.prototype,"fieldsIndex",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_11__.property)(_support_commonProperties_js__WEBPACK_IMPORTED_MODULE_31__.id)],ye.prototype,"id",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_11__.property)({type:["show","hide","hide-children"],json:{origins:{"portal-item":{read:!1,write:!1}}}})],ye.prototype,"listMode",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_11__.property)({type:["SubtypeGroupLayer","SubtypeGroupTable"],json:{...pe(),origins:{"web-document":pe(),"portal-item":pe()}}})],ye.prototype,"operationalLayerType",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_11__.property)(le.outFields)],ye.prototype,"outFields",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_11__.property)({readOnly:!0})],ye.prototype,"parsedUrl",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_11__.property)({clonable:!1})],ye.prototype,"source",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_11__.property)({type:_core_Collection_js__WEBPACK_IMPORTED_MODULE_2__["default"].ofType(_support_SubtypeSublayer_js__WEBPACK_IMPORTED_MODULE_36__["default"]),json:{origins:{service:{read:{source:"subtypes",reader(e,t,s){let i=null;if(this.useUniqueColorsForSublayers){const r=(0,_support_subtypeGroupLayerUtils_js__WEBPACK_IMPORTED_MODULE_35__.getSymbolWithColorSupport)(t,s);i=r?(0,_support_subtypeGroupLayerUtils_js__WEBPACK_IMPORTED_MODULE_35__.createSimpleRenderersWithUniqueColors)(e.length,r):null}const o=e.map((({code:e},r)=>{const o=new _support_SubtypeSublayer_js__WEBPACK_IMPORTED_MODULE_36__["default"]({subtypeCode:e});o.read(t,s);const a=i?.[r];return a&&o.read({drawingInfo:{renderer:a.toJSON()}},s),o}));return new(_core_Collection_js__WEBPACK_IMPORTED_MODULE_2__["default"].ofType(_support_SubtypeSublayer_js__WEBPACK_IMPORTED_MODULE_36__["default"]))(o)}}}},read:{source:["layers","tables"],reader(e,t,s){let i;return"SubtypeGroupLayer"===t.layerType&&t.layers?.length?i=ue(t.layers,s):"SubtypeGroupTable"===t.layerType&&t.tables?.length&&(i=ue(t.tables,s)),new(_core_Collection_js__WEBPACK_IMPORTED_MODULE_2__["default"].ofType(_support_SubtypeSublayer_js__WEBPACK_IMPORTED_MODULE_36__["default"]))(i)}},write:{ignoreOrigin:!0,writer(e,t,r,s){const i=[];for(const o of e){const e=o.write({},s);i.push(e)}this.isTable?t.tables=i:t.layers=i}}}})],ye.prototype,"sublayers",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_11__.property)()],ye.prototype,"useUniqueColorsForSublayers",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_11__.property)({type:_support_TimeInfo_js__WEBPACK_IMPORTED_MODULE_37__["default"]})],ye.prototype,"timeInfo",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_11__.property)({json:{origins:{"portal-item":{write:{enabled:!0,ignoreOrigin:!0,writerEnsuresNonNull:!0}}}}})],ye.prototype,"title",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_reader_js__WEBPACK_IMPORTED_MODULE_15__.reader)("service","title",["name"])],ye.prototype,"readTitleFromService",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_11__.property)({json:{read:!1}})],ye.prototype,"type",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_11__.property)({clonable:!1,readOnly:!0})],ye.prototype,"featureTitleFields",null),ye=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_16__.subclass)("esri.layers.SubtypeGroupLayer")],ye);const de=ye;


/***/ }),

/***/ "./node_modules/@arcgis/core/layers/support/SubtypeSublayer.js":
/*!*********************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/support/SubtypeSublayer.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ K)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _PopupTemplate_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../PopupTemplate.js */ "./node_modules/@arcgis/core/PopupTemplate.js");
/* harmony import */ var _core_Clonable_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/Clonable.js */ "./node_modules/@arcgis/core/core/Clonable.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_Identifiable_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../core/Identifiable.js */ "./node_modules/@arcgis/core/core/Identifiable.js");
/* harmony import */ var _core_lang_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../core/lang.js */ "./node_modules/@arcgis/core/core/lang.js");
/* harmony import */ var _core_Loadable_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../core/Loadable.js */ "./node_modules/@arcgis/core/core/Loadable.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../core/maybe.js */ "./node_modules/@arcgis/core/core/maybe.js");
/* harmony import */ var _core_MultiOriginJSONSupport_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../core/MultiOriginJSONSupport.js */ "./node_modules/@arcgis/core/core/MultiOriginJSONSupport.js");
/* harmony import */ var _core_object_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../core/object.js */ "./node_modules/@arcgis/core/core/object.js");
/* harmony import */ var _core_sql_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../core/sql.js */ "./node_modules/@arcgis/core/core/sql.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_decorators_reader_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/reader.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/reader.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _core_accessorSupport_decorators_writer_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/writer.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/writer.js");
/* harmony import */ var _core_accessorSupport_layerContainerType_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../core/accessorSupport/layerContainerType.js */ "./node_modules/@arcgis/core/core/accessorSupport/layerContainerType.js");
/* harmony import */ var _form_FormTemplate_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../form/FormTemplate.js */ "./node_modules/@arcgis/core/form/FormTemplate.js");
/* harmony import */ var _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../geometry/SpatialReference.js */ "./node_modules/@arcgis/core/geometry/SpatialReference.js");
/* harmony import */ var _commonProperties_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./commonProperties.js */ "./node_modules/@arcgis/core/layers/support/commonProperties.js");
/* harmony import */ var _featureLayerUtils_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./featureLayerUtils.js */ "./node_modules/@arcgis/core/layers/support/featureLayerUtils.js");
/* harmony import */ var _FeatureTemplate_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./FeatureTemplate.js */ "./node_modules/@arcgis/core/layers/support/FeatureTemplate.js");
/* harmony import */ var _fieldProperties_js__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./fieldProperties.js */ "./node_modules/@arcgis/core/layers/support/fieldProperties.js");
/* harmony import */ var _fieldUtils_js__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ./fieldUtils.js */ "./node_modules/@arcgis/core/layers/support/fieldUtils.js");
/* harmony import */ var _LabelClass_js__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ./LabelClass.js */ "./node_modules/@arcgis/core/layers/support/LabelClass.js");
/* harmony import */ var _labelingInfo_js__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ./labelingInfo.js */ "./node_modules/@arcgis/core/layers/support/labelingInfo.js");
/* harmony import */ var _subtypeGroupLayerUtils_js__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ./subtypeGroupLayerUtils.js */ "./node_modules/@arcgis/core/layers/support/subtypeGroupLayerUtils.js");
/* harmony import */ var _TitleCreator_js__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ./TitleCreator.js */ "./node_modules/@arcgis/core/layers/support/TitleCreator.js");
/* harmony import */ var _renderers_SimpleRenderer_js__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ../../renderers/SimpleRenderer.js */ "./node_modules/@arcgis/core/renderers/SimpleRenderer.js");
/* harmony import */ var _rest_support_Query_js__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ../../rest/support/Query.js */ "./node_modules/@arcgis/core/rest/support/Query.js");
/* harmony import */ var _support_popupUtils_js__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ../../support/popupUtils.js */ "./node_modules/@arcgis/core/support/popupUtils.js");
/* harmony import */ var _symbols_support_defaults_js__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! ../../symbols/support/defaults.js */ "./node_modules/@arcgis/core/symbols/support/defaults.js");
/* harmony import */ var _tables_AttributeTableTemplate_js__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! ../../tables/AttributeTableTemplate.js */ "./node_modules/@arcgis/core/tables/AttributeTableTemplate.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
const M=(0,_fieldProperties_js__WEBPACK_IMPORTED_MODULE_23__.defineFieldProperties)();let U=0;function k(e,t){let r=e.json.write;return"object"!=typeof r&&(r=e.json.write={}),r.ignoreOrigin=!0,t?.spatialOnly&&(r.layerContainerTypes=_core_accessorSupport_layerContainerType_js__WEBPACK_IMPORTED_MODULE_17__.excludeTables),e}function Q(e){const t={write:{ignoreOrigin:!0}};return e?.name&&(t.name=e.name),"object"==typeof t.write&&(e?.spatialOnly&&(t.write.layerContainerTypes=_core_accessorSupport_layerContainerType_js__WEBPACK_IMPORTED_MODULE_17__.excludeTables),e?.target&&(t.write.target=e.target)),t}function B(e){return new _renderers_SimpleRenderer_js__WEBPACK_IMPORTED_MODULE_29__["default"]({symbol:H(e)})}function H(e){switch(e){case"point":case"multipoint":return _symbols_support_defaults_js__WEBPACK_IMPORTED_MODULE_32__.defaultPointSymbol2D.clone();case"polyline":return _symbols_support_defaults_js__WEBPACK_IMPORTED_MODULE_32__.defaultPolylineSymbol2D.clone();case"polygon":case"multipatch":return _symbols_support_defaults_js__WEBPACK_IMPORTED_MODULE_32__.defaultPolygonSymbol2D.clone();default:return null}}function J(e,t){return!!t&&("unique-value"===e?.type&&null!=e.field&&e.field.toLowerCase()===t.toLowerCase()&&!e.field2&&!e.field3&&!e.valueExpression)}function W(e,t){return null==e?null:t.subtypes?.find((t=>t.code===e))}function z(e,t){let r=null;switch(t.geometryType){case"esriGeometryPoint":case"esriGeometryMultipoint":r="point";break;case"esriGeometryPolyline":r="line";break;case"esriGeometryPolygon":case"esriGeometryMultiPatch":r="polygon";break;default:t.type,r=null}const i={},o=W(e,t);if(null!=o){const{defaultValues:e}=o;for(const t in e)i[t]=e[t]}return i[t.subtypeField]=e,new _FeatureTemplate_js__WEBPACK_IMPORTED_MODULE_22__["default"]({name:"New Feature",drawingTool:r,prototype:{attributes:i}})}let K=class extends((0,_core_MultiOriginJSONSupport_js__WEBPACK_IMPORTED_MODULE_10__.MultiOriginJSONMixin)(_core_Clonable_js__WEBPACK_IMPORTED_MODULE_2__["default"].ClonableMixin(_core_Identifiable_js__WEBPACK_IMPORTED_MODULE_5__["default"].IdentifiableMixin(_core_Loadable_js__WEBPACK_IMPORTED_MODULE_7__["default"])))){constructor(e){super(e),this.attributeTableTemplate=null,this.charts=null,this.editingEnabled=!0,this.fieldOverrides=null,this.fieldsIndex=null,this.formTemplate=null,this.id=`${Date.now().toString(16)}-subtype-sublayer-${U++}`,this.type="subtype-sublayer",this.labelsVisible=!0,this.labelingInfo=null,this.layerType="ArcGISFeatureLayer",this.legendEnabled=!0,this.listMode="show",this.minScale=0,this.maxScale=0,this.opacity=1,this.parent=null,this.popupEnabled=!0,this.popupTemplate=null,this.subtypeCode=null,this.templates=null,this.title=null,this.visible=!0}load(e){return (0,_fieldUtils_js__WEBPACK_IMPORTED_MODULE_24__.fixRendererFields)(this.renderer,this.fieldsIndex),Promise.resolve(this)}get _titleCreator(){const e=this._get("_titleCreator");return (0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_9__.destroyMaybe)(e),new _TitleCreator_js__WEBPACK_IMPORTED_MODULE_28__["default"]({fieldsIndex:this.fieldsIndex,objectIdField:this.objectIdField,displayField:this.parent?.displayField??"",fields:this.fields,effectivePopupTemplate:this.popupTemplate??this.defaultPopupTemplate})}get capabilities(){return this.parent?.capabilities}get effectiveCapabilities(){return this.parent?.effectiveCapabilities}get effectiveEditingEnabled(){const{parent:e}=this;return e?e.effectiveEditingEnabled&&this.editingEnabled:this.editingEnabled}get elevationInfo(){return this.parent?.elevationInfo}get featureTitleFields(){return[...this._titleCreator.requiredFields]}writeFieldOverrides(e,t,r){const{fields:i,parent:o}=this;let l;if(i){l=[];let e=0;i.forEach((({name:t,alias:r,editable:i,visible:n})=>{if(!n)return;const s=o?.fields?.find((e=>e.name===t));if(!s)return;const a={name:t};let p=!1;r!==s.alias&&(a.alias=r,p=!0),i!==s.editable&&(a.editable=i,p=!0),l.push(a),p&&e++})),0===e&&l.length===i.length&&(l=null)}else l=(0,_core_lang_js__WEBPACK_IMPORTED_MODULE_6__.clone)(e);l?.length&&(0,_core_object_js__WEBPACK_IMPORTED_MODULE_11__.setDeepValue)(r,l,t)}get fields(){const{parent:e,fieldOverrides:t,subtypeCode:r}=this,i=e?.fields;if(!e||!i?.length)return null;const{subtypes:o,subtypeField:n}=e,l=o?.find((e=>e.code===r)),s=l?.defaultValues,a=l?.domains,p=[];for(const d of i){const e=d.clone(),{name:i}=e,o=t?.find((e=>e.name===i));if(e.visible=!t?.length||!!o,o){const{alias:t,editable:r}=o;t&&(e.alias=t),!1===r&&(e.editable=!1)}const l=s?.[i]??null;e.defaultValue=i===n?r:l;const u=a?.[i]??null;e.domain=i===n?null:u?"inherited"===u.type?e.domain:u.clone():null,p.push(e)}return p}get floorInfo(){return this.parent?.floorInfo}get isTable(){return!!this.parent?.isTable}get geometryType(){return this.parent?.geometryType}get globalIdField(){return this.parent?this.parent.globalIdField:(_core_Logger_js__WEBPACK_IMPORTED_MODULE_8__["default"].getLogger(this).error(Z("globalIdField")),null)}get effectiveScaleRange(){const{minScale:e,maxScale:t}=this;return{minScale:e,maxScale:t}}get objectIdField(){return this.parent||_core_Logger_js__WEBPACK_IMPORTED_MODULE_8__["default"].getLogger(this).error(Z("objectIdField")),this.parent?.objectIdField}get defaultPopupTemplate(){return this.createPopupTemplate()}get relationships(){return this.parent?.relationships}set renderer(e){(0,_fieldUtils_js__WEBPACK_IMPORTED_MODULE_24__.fixRendererFields)(e,this.fieldsIndex),this._override("renderer",e)}get renderer(){if(this._isOverridden("renderer"))return this._get("renderer");const{parent:e}=this;return e&&!e.isTable&&"mesh"!==e.geometryType?B(e.geometryType):null}readRendererFromService(e,t,r){if("Table"===t.type)return null;const i=t.drawingInfo?.renderer,o=(0,_subtypeGroupLayerUtils_js__WEBPACK_IMPORTED_MODULE_27__.rendererReader)(i,t,r);let n;const{subtypeCode:l}=this;if(null!=l&&J(o,t.subtypeField)){const e=o.uniqueValueInfos?.find((({value:e})=>(e="number"==typeof e?String(e):e)===String(l)));e&&(n=new _renderers_SimpleRenderer_js__WEBPACK_IMPORTED_MODULE_29__["default"]({symbol:e.symbol}))}else"simple"!==o?.type||o.visualVariables?.length||(n=o);return n}readRenderer(e,t,r){const i=t?.layerDefinition?.drawingInfo?.renderer;if(!i)return;const o=i.visualVariables?.some((e=>"rotationInfo"!==e.type));return o?void 0:(0,_subtypeGroupLayerUtils_js__WEBPACK_IMPORTED_MODULE_27__.rendererReader)(i,t,r)||void 0}get spatialReference(){return this.parent?.spatialReference??_geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_19__["default"].WGS84}get subtypeField(){return this.parent?.subtypeField}readTemplatesFromService(e,t){return[z(this.subtypeCode,t)]}readTitleFromService(e,t){const r=W(this.subtypeCode,t);return null!=r?r.name:null}get url(){return this.parent?.url}get userHasUpdateItemPrivileges(){return!!this.parent?.userHasUpdateItemPrivileges}async addAttachment(e,t){const{parent:r}=this;if(!r)throw Z("addAttachment");if(e.getAttribute(r.subtypeField)!==this.subtypeCode)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_4__["default"]("subtype-sublayer:addAttachment","The feature provided does not belong to this SubtypeSublayer");return r.addAttachment(e,t)}async updateAttachment(e,t,r){const{parent:o}=this;if(!o)throw Z("updateAttachment");if(e.getAttribute(o.subtypeField)!==this.subtypeCode)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_4__["default"]("subtype-sublayer:updateAttachment","The feature provided does not belong to this SubtypeSublayer");return o.updateAttachment(e,t,r)}async deleteAttachments(e,t){const{parent:r}=this;if(!r)throw Z("deleteAttachments");if(e.getAttribute(r.subtypeField)!==this.subtypeCode)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_4__["default"]("subtype-sublayer:deleteAttachments","The feature provided does not belong to this SubtypeSublayer");return r.deleteAttachments(e,t)}async applyEdits(e,t){if(!this.parent)throw Z("applyEdits");return this.parent.applyEdits(e,t)}createPopupTemplate(e){let t=this;const{parent:r,fields:i,title:o}=this;if(r){const{displayField:e,editFieldsInfo:n,objectIdField:l}=r;t={displayField:e,editFieldsInfo:n,fields:i,objectIdField:l,title:o}}return (0,_support_popupUtils_js__WEBPACK_IMPORTED_MODULE_31__.createPopupTemplate)(t,e)}createQuery(){if(!this.parent)throw Z("createQuery");const e=(0,_featureLayerUtils_js__WEBPACK_IMPORTED_MODULE_21__.createQuery)(this.parent),t=`${this.parent.subtypeField}=${this.subtypeCode}`;return e.where=(0,_core_sql_js__WEBPACK_IMPORTED_MODULE_12__.sqlAnd)(t,this.parent.definitionExpression),e}getFeatureTitle(e,t){return this._titleCreator.getTitle(this,e,t)}getFeatureTitles(e,t){return this._titleCreator.getTitles(this,e,t)}getField(e){return this.fieldsIndex.get(e)}getFieldDomain(e,t){if(!t?.excludeImpliedDomains&&this.parent){const t=(0,_featureLayerUtils_js__WEBPACK_IMPORTED_MODULE_21__.computeDomainFromSubtypes)(this.parent,e);if(t)return t}return this._getLayerDomain(e)}async queryAttachments(e,t){const r=await this.load();if(!r.parent)throw Z("queryAttachments");const i=e.clone();return i.where=Y(i.where,r.parent.subtypeField,r.subtypeCode),r.parent.queryAttachments(e,t)}async queryFeatureCount(e,t){const r=await this.load();if(!r.parent)throw Z("queryFeatureCount");return r.parent.queryFeatureCount(X(r.parent,r,e),t)}async queryFeatures(e,t){const r=await this.load();if(!r.parent)throw Z("queryFeatures");return r.parent.queryFeatures(X(r.parent,r,e),t)}async queryObjectIds(e,t){const r=await this.load();if(!r.parent)throw Z("queryObjectIds");return r.parent.queryObjectIds(X(r.parent,r,e),t)}async queryRelatedFeatures(e,t){const r=await this.load();if(!r.parent)throw Z("queryRelatedFeatures");return r.parent.queryRelatedFeatures(e,t)}async queryRelatedFeaturesCount(e,t){const r=await this.load();if(!r.parent)throw Z("queryRelatedFeaturesCount");return r.parent.queryRelatedFeaturesCount(e,t)}_getLayerDomain(e){const t=this.fieldsIndex.get(e);return t?t.domain:null}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_13__.property)({clonable:!1,readOnly:!0})],K.prototype,"_titleCreator",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_13__.property)({type:_tables_AttributeTableTemplate_js__WEBPACK_IMPORTED_MODULE_33__["default"],json:Q({name:"attributeTableInfo"})})],K.prototype,"attributeTableTemplate",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_13__.property)({readOnly:!0,json:{read:!1}})],K.prototype,"capabilities",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_13__.property)({readOnly:!0,json:{read:!1}})],K.prototype,"effectiveCapabilities",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_13__.property)({json:Q()})],K.prototype,"charts",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_13__.property)({type:Boolean,nonNullable:!0,json:Q({name:"enableEditing"})})],K.prototype,"editingEnabled",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_13__.property)({type:Boolean,readOnly:!0})],K.prototype,"effectiveEditingEnabled",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_13__.property)({readOnly:!0,json:{read:!1}})],K.prototype,"elevationInfo",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_13__.property)({clonable:!1,readOnly:!0})],K.prototype,"featureTitleFields",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_13__.property)({json:{name:"layerDefinition.fieldOverrides",origins:{service:{read:!1}},write:{ignoreOrigin:!0,allowNull:!0}}})],K.prototype,"fieldOverrides",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_writer_js__WEBPACK_IMPORTED_MODULE_16__.writer)("fieldOverrides")],K.prototype,"writeFieldOverrides",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_13__.property)({...M.fields,readOnly:!0,json:{read:!1}})],K.prototype,"fields",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_13__.property)(M.fieldsIndex)],K.prototype,"fieldsIndex",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_13__.property)({readOnly:!0,json:{read:!1}})],K.prototype,"floorInfo",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_13__.property)({type:_form_FormTemplate_js__WEBPACK_IMPORTED_MODULE_18__["default"],json:Q({name:"formInfo"})})],K.prototype,"formTemplate",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_13__.property)({type:String,clonable:!1,json:{origins:{service:{read:!1},"portal-item":{read:!1}},write:{ignoreOrigin:!0}}})],K.prototype,"id",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_13__.property)({readOnly:!0,json:{read:!1}})],K.prototype,"isTable",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_13__.property)({readOnly:!0,json:{read:!1}})],K.prototype,"geometryType",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_13__.property)({readOnly:!0,json:{read:!1}})],K.prototype,"globalIdField",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_13__.property)({readOnly:!0,json:{read:!1}})],K.prototype,"type",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_13__.property)(k((0,_core_lang_js__WEBPACK_IMPORTED_MODULE_6__.clone)(_commonProperties_js__WEBPACK_IMPORTED_MODULE_20__.labelsVisible)))],K.prototype,"labelsVisible",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_13__.property)({type:[_LabelClass_js__WEBPACK_IMPORTED_MODULE_25__["default"]],json:{name:"layerDefinition.drawingInfo.labelingInfo",origins:{service:{read:!1}},read:{reader:_labelingInfo_js__WEBPACK_IMPORTED_MODULE_26__.reader},write:{ignoreOrigin:!0,layerContainerTypes:_core_accessorSupport_layerContainerType_js__WEBPACK_IMPORTED_MODULE_17__.excludeTables}}})],K.prototype,"labelingInfo",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_13__.property)({type:["ArcGISFeatureLayer"],readOnly:!0,json:{read:!1,write:{ignoreOrigin:!0,layerContainerTypes:_core_accessorSupport_layerContainerType_js__WEBPACK_IMPORTED_MODULE_17__.excludeTables}}})],K.prototype,"layerType",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_13__.property)(k((0,_core_lang_js__WEBPACK_IMPORTED_MODULE_6__.clone)(_commonProperties_js__WEBPACK_IMPORTED_MODULE_20__.legendEnabled)))],K.prototype,"legendEnabled",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_13__.property)({type:["show","hide"]})],K.prototype,"listMode",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_13__.property)((()=>{const e=(0,_core_lang_js__WEBPACK_IMPORTED_MODULE_6__.clone)(_commonProperties_js__WEBPACK_IMPORTED_MODULE_20__.minScale);return e.json.origins.service.read=!1,k(e,{spatialOnly:!0})})())],K.prototype,"minScale",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_13__.property)((()=>{const e=(0,_core_lang_js__WEBPACK_IMPORTED_MODULE_6__.clone)(_commonProperties_js__WEBPACK_IMPORTED_MODULE_20__.maxScale);return e.json.origins.service.read=!1,k(e,{spatialOnly:!0})})())],K.prototype,"maxScale",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_13__.property)({readOnly:!0})],K.prototype,"effectiveScaleRange",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_13__.property)({readOnly:!0,json:{read:!1}})],K.prototype,"objectIdField",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_13__.property)({type:Number,range:{min:0,max:1},nonNullable:!0,json:Q({spatialOnly:!0})})],K.prototype,"opacity",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_13__.property)({clonable:!1})],K.prototype,"parent",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_13__.property)(k((0,_core_lang_js__WEBPACK_IMPORTED_MODULE_6__.clone)(_commonProperties_js__WEBPACK_IMPORTED_MODULE_20__.popupEnabled)))],K.prototype,"popupEnabled",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_13__.property)({type:_PopupTemplate_js__WEBPACK_IMPORTED_MODULE_1__["default"],json:Q({name:"popupInfo"})})],K.prototype,"popupTemplate",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_13__.property)({readOnly:!0})],K.prototype,"defaultPopupTemplate",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_13__.property)({readOnly:!0,json:{read:!1}})],K.prototype,"relationships",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_13__.property)({types:_subtypeGroupLayerUtils_js__WEBPACK_IMPORTED_MODULE_27__.supportedRendererTypes,json:Q({target:"layerDefinition.drawingInfo.renderer",spatialOnly:!0})})],K.prototype,"renderer",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_reader_js__WEBPACK_IMPORTED_MODULE_14__.reader)("service","renderer",["drawingInfo.renderer","subtypeField","type"])],K.prototype,"readRendererFromService",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_reader_js__WEBPACK_IMPORTED_MODULE_14__.reader)("renderer",["layerDefinition.drawingInfo.renderer"])],K.prototype,"readRenderer",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_13__.property)({readOnly:!0,json:{read:!1}})],K.prototype,"spatialReference",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_13__.property)({type:Number,json:{origins:{service:{read:!1}},write:{ignoreOrigin:!0}}})],K.prototype,"subtypeCode",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_13__.property)({readOnly:!0,json:{read:!1}})],K.prototype,"subtypeField",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_13__.property)({type:[_FeatureTemplate_js__WEBPACK_IMPORTED_MODULE_22__["default"]],json:Q({name:"layerDefinition.templates"})})],K.prototype,"templates",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_reader_js__WEBPACK_IMPORTED_MODULE_14__.reader)("service","templates",["geometryType","subtypeField","subtypes","type"])],K.prototype,"readTemplatesFromService",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_13__.property)({type:String,json:Q()})],K.prototype,"title",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_reader_js__WEBPACK_IMPORTED_MODULE_14__.reader)("service","title",["subtypes"])],K.prototype,"readTitleFromService",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_13__.property)({readOnly:!0,json:{read:!1}})],K.prototype,"url",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_13__.property)({readOnly:!0})],K.prototype,"userHasUpdateItemPrivileges",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_13__.property)({type:Boolean,nonNullable:!0,json:Q({name:"visibility",spatialOnly:!0})})],K.prototype,"visible",void 0),K=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_15__.subclass)("esri.layers.support.SubtypeSublayer")],K);const X=(e,t,r)=>{if(!r)return t.createQuery();const i=_rest_support_Query_js__WEBPACK_IMPORTED_MODULE_30__["default"].from(r);return i.where=Y(i.where,e.subtypeField,t.subtypeCode),i},Y=(e,t,r)=>{const i=new RegExp(`${t}\\s*=\\s*\\d+`),o=`${t}=${r}`,n=e??"";return i.test(n)?n.replace(i,o):(0,_core_sql_js__WEBPACK_IMPORTED_MODULE_12__.sqlAnd)(o,n)},Z=e=>new _core_Error_js__WEBPACK_IMPORTED_MODULE_4__["default"]("subtype-sublayer:parent-missing",`This sublayer must have a parent SubtypeGroupLayer in order to use ${e}`);


/***/ }),

/***/ "./node_modules/@arcgis/core/layers/support/subtypeGroupLayerUtils.js":
/*!****************************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/support/subtypeGroupLayerUtils.js ***!
  \****************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   createSimpleRenderersWithUniqueColors: () => (/* binding */ a),
/* harmony export */   getSymbolWithColorSupport: () => (/* binding */ c),
/* harmony export */   rendererReader: () => (/* binding */ i),
/* harmony export */   supportedRendererTypes: () => (/* binding */ f)
/* harmony export */ });
/* harmony import */ var _core_colorUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../core/colorUtils.js */ "./node_modules/@arcgis/core/core/colorUtils.js");
/* harmony import */ var _core_accessorSupport_extensions_serializableProperty_reader_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/accessorSupport/extensions/serializableProperty/reader.js */ "./node_modules/@arcgis/core/core/accessorSupport/extensions/serializableProperty/reader.js");
/* harmony import */ var _renderers_ClassBreaksRenderer_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../renderers/ClassBreaksRenderer.js */ "./node_modules/@arcgis/core/renderers/ClassBreaksRenderer.js");
/* harmony import */ var _renderers_Renderer_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../renderers/Renderer.js */ "./node_modules/@arcgis/core/renderers/Renderer.js");
/* harmony import */ var _renderers_SimpleRenderer_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../renderers/SimpleRenderer.js */ "./node_modules/@arcgis/core/renderers/SimpleRenderer.js");
/* harmony import */ var _renderers_UniqueValueRenderer_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../renderers/UniqueValueRenderer.js */ "./node_modules/@arcgis/core/renderers/UniqueValueRenderer.js");
/* harmony import */ var _symbols_support_cimSymbolUtils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../symbols/support/cimSymbolUtils.js */ "./node_modules/@arcgis/core/symbols/support/cimSymbolUtils.js");
/* harmony import */ var _symbols_support_utils_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../symbols/support/utils.js */ "./node_modules/@arcgis/core/symbols/support/utils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
const f={key:"type",base:_renderers_Renderer_js__WEBPACK_IMPORTED_MODULE_3__["default"],errorContext:"renderer",typeMap:{simple:_renderers_SimpleRenderer_js__WEBPACK_IMPORTED_MODULE_4__["default"],"unique-value":_renderers_UniqueValueRenderer_js__WEBPACK_IMPORTED_MODULE_5__["default"],"class-breaks":_renderers_ClassBreaksRenderer_js__WEBPACK_IMPORTED_MODULE_2__["default"]}},i=(0,_core_accessorSupport_extensions_serializableProperty_reader_js__WEBPACK_IMPORTED_MODULE_1__.createTypeReader)({types:f});function c(e,r){const s=e.drawingInfo?.renderer,o=s?i(s,e,r):null;if("simple"!==o?.type)return;return (0,_symbols_support_utils_js__WEBPACK_IMPORTED_MODULE_7__.getColorFromSymbol)(o.symbol,null)?o.symbol.clone():null}const u=["#ed5151","#149ece","#a7c636","#9e559c","#fc921f","#ffde3e","#f789d8","#b7814a","#3caf99","#6b6bd6","#b54779","#7f7f7f"];function a(r,s){return (0,_core_colorUtils_js__WEBPACK_IMPORTED_MODULE_0__.createUniqueColors)(u,r,{offset:!0,shuffle:!0}).reverse().map((e=>{const r=s.clone();return"cim"===r.type?(0,_symbols_support_cimSymbolUtils_js__WEBPACK_IMPORTED_MODULE_6__.applyCIMSymbolColor)(r,e):(0,_symbols_support_utils_js__WEBPACK_IMPORTED_MODULE_7__.applyColorToSymbol)(r,e),new _renderers_SimpleRenderer_js__WEBPACK_IMPORTED_MODULE_4__["default"]({symbol:r})}))}


/***/ })

};

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmVuZG9ycy1ub2RlX21vZHVsZXNfYXJjZ2lzX2NvcmVfbGF5ZXJzX1N1YnR5cGVHcm91cExheWVyX2pzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDZ3NGLDZCQUE2QixpQkFBaUIsV0FBVyxzREFBQywrQkFBK0IsUUFBUSxJQUFJLEtBQUssYUFBYSxnQkFBZ0IsSUFBSSxFQUFFLEdBQUcsUUFBUSxFQUFFLGlCQUFpQixXQUFXLGtCQUFrQixZQUFZLG9FQUFFLENBQUMsc0JBQXNCLFNBQVMsU0FBUyxtRkFBQyxHQUFHLGNBQWMsT0FBTyx1QkFBdUIsV0FBVyxRQUFRLDJDQUEyQyxxQkFBcUIsOEVBQUMsQ0FBQyxzRkFBQyxDQUFDLHNFQUFDLENBQUMsa0VBQUMsQ0FBQyx3RUFBQyxDQUFDLDRFQUFDLENBQUMsOEVBQUMsQ0FBQyx3RUFBQyxDQUFDLDhFQUFDLENBQUMsb0VBQUMsQ0FBQyxxRkFBQyxDQUFDLHdGQUFDLENBQUMsb0VBQUMsQ0FBQyx5REFBQyxlQUFlLGtEQUFDLGdCQUFnQixrQkFBa0IsdUhBQXVILDJEQUFDLFFBQVEsb0VBQUUsa01BQWtNLCtEQUFDLGlCQUFpQixNQUFNLGdCQUFnQixPQUFPLGlRQUFxQyxDQUFDLFVBQVUsS0FBSyxxRUFBRSx1QkFBdUIsS0FBSyxxRUFBRSw2QkFBNkIsbUJBQW1CLDZEQUFDLGdFQUFnRSx3REFBQyxHQUFHLFVBQVUsdUJBQXVCLHVCQUF1QiwwQkFBMEIsV0FBVyxHQUFHLFFBQVEscURBQXFELG1DQUFtQyxVQUFVLG9FQUFDLGtCQUFrQix1QkFBdUIsc0RBQUMsb0hBQW9ILGdDQUFnQyxzREFBQyxzR0FBc0cscUVBQXFFLGFBQWEscUZBQUMsa0JBQWtCLHlEQUF5RCx5QkFBeUIsNFdBQTRXLHFCQUFxQix5SEFBeUgsOEJBQThCLE9BQU8sOEZBQUMsT0FBTywyQkFBMkIsNERBQTRELGdC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QUMsRUFBRSxNQUFNLDREQUFDLFVBQVUsaUNBQWlDLEVBQUUsbUNBQW1DLHVEQUFDLEVBQUUsbUZBQUMsd0hBQXdILHVEQUFDLEVBQUUsdUZBQUMsRUFBRSxxQkFBcUIsK0JBQStCLHVEQUFDLEVBQUUsbUZBQUMsMkVBQTJFLHVEQUFDLEVBQUUsdUZBQUMsRUFBRSxrQkFBa0IsU0FBUywyQkFBMkIsdURBQUMsRUFBRSx1RkFBQyxFQUFFLFlBQVksbURBQW1ELHVEQUFDLEVBQUUsdUZBQUMsRUFBRSxvQ0FBb0MsaUNBQWlDLEVBQUUsbUNBQW1DLHVEQUFDLEVBQUUsdUZBQUMsNENBQTRDLGtCQUFrQiw2QkFBNkIsUUFBUSwrREFBQyxTQUFTLHlEQUF5RCxhQUFhLHNCQUFzQixFQUFFLHFCQUFxQixFQUFFLEdBQUcsRUFBRSxVQUFVLGdDQUFnQyxxREFBQyxNQUFNLFVBQVUsc0RBQUMseUdBQXlHLEVBQUUsR0FBd0I7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDSjM4YjtBQUNBO0FBQ0E7QUFDQTtBQUN3aEIsU0FBUyxnQkFBZ0IsOERBQUMsa0NBQWtDLE9BQU8sb0VBQUMsZ0JBQWdCLHlFQUFDLGdCQUFnQix5RUFBQyxFQUFFLEdBQUcsaUhBQUMsRUFBRSxRQUFRLEVBQUUsZ0JBQWdCLGtEQUFrRCw2QkFBNkIsT0FBTyw2RUFBQyxzQ0FBc0Msa0lBQWtJLGdCQUFnQixPQUFPLHVFQUFDLE1BQU0scUJBQXFCLHFCQUFxQixrQkFBa0IscUJBQXFCLHVGQUFDLE1BQU0sNkVBQUMsVUFBVSxvRUFBQyxFQUFFLFNBQVMsRUFBRSxHQUFxSSIsInNvdXJjZXMiOlsid2VicGFjazovL3ByZWNpc2lvbmZhcm1zLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS9sYXllcnMvU3VidHlwZUdyb3VwTGF5ZXIuanMiLCJ3ZWJwYWNrOi8vcHJlY2lzaW9uZmFybXMvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL2xheWVycy9zdXBwb3J0L1N1YnR5cGVTdWJsYXllci5qcyIsIndlYnBhY2s6Ly9wcmVjaXNpb25mYXJtcy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvbGF5ZXJzL3N1cHBvcnQvc3VidHlwZUdyb3VwTGF5ZXJVdGlscy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4zMy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e18gYXMgZX1mcm9tXCIuLi9jaHVua3MvdHNsaWIuZXM2LmpzXCI7aW1wb3J0IHQgZnJvbVwiLi4vY29yZS9DbG9uYWJsZS5qc1wiO2ltcG9ydCByIGZyb21cIi4uL2NvcmUvQ29sbGVjdGlvbi5qc1wiO2ltcG9ydCBzIGZyb21cIi4uL2NvcmUvRXJyb3IuanNcIjtpbXBvcnR7bG9hZEFsbCBhcyBpfWZyb21cIi4uL2NvcmUvbG9hZEFsbC5qc1wiO2ltcG9ydHtnZXRPckNyZWF0ZU1hcFZhbHVlIGFzIG99ZnJvbVwiLi4vY29yZS9NYXBVdGlscy5qc1wiO2ltcG9ydHtNdWx0aU9yaWdpbkpTT05NaXhpbiBhcyBhfWZyb21cIi4uL2NvcmUvTXVsdGlPcmlnaW5KU09OU3VwcG9ydC5qc1wiO2ltcG9ydHtkZWJvdW5jZSBhcyBuLHRocm93SWZBYm9ydEVycm9yIGFzIHUsd2hlbk9yQWJvcnQgYXMgbH1mcm9tXCIuLi9jb3JlL3Byb21pc2VVdGlscy5qc1wiO2ltcG9ydHt3YXRjaCBhcyBwLHN5bmMgYXMgeX1mcm9tXCIuLi9jb3JlL3JlYWN0aXZlVXRpbHMuanNcIjtpbXBvcnR7c3FsQW5kIGFzIGR9ZnJvbVwiLi4vY29yZS9zcWwuanNcIjtpbXBvcnR7dXJsVG9PYmplY3QgYXMgYyxqb2luIGFzIGh9ZnJvbVwiLi4vY29yZS91cmxVdGlscy5qc1wiO2ltcG9ydHtwcm9wZXJ0eSBhcyBtfWZyb21cIi4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvcHJvcGVydHkuanNcIjtpbXBvcnRcIi4uL2NvcmUvaGFzLmpzXCI7aW1wb3J0XCIuLi9jb3JlL0xvZ2dlci5qc1wiO2ltcG9ydFwiLi4vY29yZS9SYW5kb21MQ0cuanNcIjtpbXBvcnR7cmVhZGVyIGFzIGZ9ZnJvbVwiLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9yZWFkZXIuanNcIjtpbXBvcnR7c3ViY2xhc3MgYXMgYn1mcm9tXCIuLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3N1YmNsYXNzLmpzXCI7aW1wb3J0IGcgZnJvbVwiLi9MYXllci5qc1wiO2ltcG9ydHtBUElLZXlNaXhpbiBhcyB3fWZyb21cIi4vbWl4aW5zL0FQSUtleU1peGluLmpzXCI7aW1wb3J0e0FyY0dJU1NlcnZpY2UgYXMgU31mcm9tXCIuL21peGlucy9BcmNHSVNTZXJ2aWNlLmpzXCI7aW1wb3J0e0JsZW5kTGF5ZXIgYXMgan1mcm9tXCIuL21peGlucy9CbGVuZExheWVyLmpzXCI7aW1wb3J0e0N1c3RvbVBhcmFtZXRlcnNNaXhpbiBhcyBGfWZyb21cIi4vbWl4aW5zL0N1c3RvbVBhcmFtZXRlcnNNaXhpbi5qc1wiO2ltcG9ydHtEaXNwbGF5RmlsdGVyZWRMYXllciBhcyB2fWZyb21cIi4vbWl4aW5zL0Rpc3BsYXlGaWx0ZXJlZExheWVyLmpzXCI7aW1wb3J0e0VkaXRCdXNMYXllciBhcyBMfWZyb21cIi4vbWl4aW5zL0VkaXRCdXNMYXllci5qc1wiO2ltcG9ydHtGZWF0dXJlTGF5ZXJCYXNlIGFzIFR9ZnJvbVwiLi9taXhpbnMvRmVhdHVyZUxheWVyQmFzZS5qc1wiO2ltcG9ydHtPcGVyYXRpb25hbExheWVyIGFzIEV9ZnJvbVwiLi9taXhpbnMvT3BlcmF0aW9uYWxMYXllci5qc1wiO2ltcG9ydHtQb3J0YWxMYXllciBhcyB4fWZyb21cIi4vbWl4aW5zL1BvcnRhbExheWVyLmpzXCI7aW1wb3J0e1JlZnJlc2hhYmxlTGF5ZXIgYXMgSX1mcm9tXCIuL21peGlucy9SZWZyZXNoYWJsZUxheWVyLmpzXCI7aW1wb3J0e1NjYWxlUmFuZ2VMYXllciBhcyBffWZyb21cIi4vbWl4aW5zL1NjYWxlUmFuZ2VMYXllci5qc1wiO2ltcG9ydHtUZW1wb3JhbExheWVyIGFzIEN9ZnJvbVwiLi9taXhpbnMvVGVtcG9yYWxMYXllci5qc1wiO2ltcG9ydHt0aXRsZUZyb21VcmxBbmROYW1lIGFzIE99ZnJvbVwiLi9zdXBwb3J0L2FyY2dpc0xheWVyVXJsLmpzXCI7aW1wb3J0e2lkIGFzIFB9ZnJvbVwiLi9zdXBwb3J0L2NvbW1vblByb3BlcnRpZXMuanNcIjtpbXBvcnR7ZW5zdXJlTGF5ZXJDcmVkZW50aWFsIGFzIFUsY29tcHV0ZUVmZmVjdGl2ZUVkaXRpbmdFbmFibGVkIGFzIEEsYWRkQXR0YWNobWVudCBhcyBHLHVwZGF0ZUF0dGFjaG1lbnQgYXMgcSxhcHBseUVkaXRzIGFzIEQsY3JlYXRlUXVlcnkgYXMgTSxkZWxldGVBdHRhY2htZW50cyBhcyBrLGZldGNoUmVjb21wdXRlZEV4dGVudHMgYXMgUixjb21wdXRlRG9tYWluRnJvbVN1YnR5cGVzIGFzICQsZ2V0RmVhdHVyZVN1YnR5cGUgYXMgVixxdWVyeUF0dGFjaG1lbnRzIGFzIE4scXVlcnlPYmplY3RJZHMgYXMgUSxxdWVyeUZlYXR1cmVDb3VudCBhcyBILHF1ZXJ5RXh0ZW50IGFzIEoscXVlcnlSZWxhdGVkRmVhdHVyZXMgYXMgQixxdWVyeVJlbGF0ZWRGZWF0dXJlc0NvdW50IGFzIHosaGFzRGF0YUNoYW5nZWQgYXMgS31mcm9tXCIuL3N1cHBvcnQvZmVhdHVyZUxheWVyVXRpbHMuanNcIjtpbXBvcnR7ZGVmaW5lRmllbGRQcm9wZXJ0aWVzIGFzIFp9ZnJvbVwiLi9zdXBwb3J0L2ZpZWxkUHJvcGVydGllcy5qc1wiO2ltcG9ydHtmaXhUaW1lSW5mb0ZpZWxkcyBhcyBXfWZyb21cIi4vc3VwcG9ydC9maWVsZFV0aWxzLmpzXCI7aW1wb3J0e2dldFN5bWJvbFdpdGhDb2xvclN1cHBvcnQgYXMgWCxjcmVhdGVTaW1wbGVSZW5kZXJlcnNXaXRoVW5pcXVlQ29sb3JzIGFzIFl9ZnJvbVwiLi9zdXBwb3J0L3N1YnR5cGVHcm91cExheWVyVXRpbHMuanNcIjtpbXBvcnQgZWUgZnJvbVwiLi9zdXBwb3J0L1N1YnR5cGVTdWJsYXllci5qc1wiO2ltcG9ydCB0ZSBmcm9tXCIuL3N1cHBvcnQvVGltZUluZm8uanNcIjtpbXBvcnR7c2VydmljZVN1cHBvcnRzU3BhdGlhbFJlZmVyZW5jZSBhcyByZX1mcm9tXCIuL3N1cHBvcnQvdmVyc2lvblV0aWxzLmpzXCI7aW1wb3J0IHNlIGZyb21cIi4uL3Jlc3Qvc3VwcG9ydC9RdWVyeS5qc1wiO2ltcG9ydHtpc051bWJlciBhcyBpZX1mcm9tXCIuLi9zdXBwb3J0L2d1YXJkcy5qc1wiO2ltcG9ydHtTYXZlT3BlcmF0aW9uVHlwZSBhcyBvZX1mcm9tXCIuLi93ZWJkb2MvaW50ZXJmYWNlcy5qc1wiO2NvbnN0IGFlPVwiU3VidHlwZUdyb3VwTGF5ZXJcIjtmdW5jdGlvbiBuZShlLHQpe3JldHVybiBuZXcgcyhcImxheWVyOnVuc3VwcG9ydGVkXCIsYExheWVyICgke2UudGl0bGV9LCAke2UuaWR9KSBvZiB0eXBlICcke2UuZGVjbGFyZWRDbGFzc30nICR7dH1gLHtsYXllcjplfSl9ZnVuY3Rpb24gdWUoZSx0KXtjb25zdCByPVtdO2Zvcihjb25zdCBzIG9mIGUpe2NvbnN0IGU9bmV3IGVlO2UucmVhZChzLHQpLHIucHVzaChlKX1yZXR1cm4gcn1jb25zdCBsZT1aKCk7ZnVuY3Rpb24gcGUoKXtyZXR1cm57bmFtZTpcImxheWVyVHlwZVwiLHJlYWQ6e2VuYWJsZWQ6ITB9LHdyaXRlOntlbmFibGVkOiEwLGlnbm9yZU9yaWdpbjohMCxpc1JlcXVpcmVkOiEwfX19bGV0IHllPWNsYXNzIGV4dGVuZHMoVCh2KEwoaihDKF8oSShTKEUoeChhKEYodyh0LkNsb25hYmxlTWl4aW4oZykpKSkpKSkpKSkpKSkpKXtjb25zdHJ1Y3RvciguLi5lKXtzdXBlciguLi5lKSx0aGlzLl9zdWJsYXllckxvb2t1cD1uZXcgTWFwLHRoaXMuZmllbGRzPW51bGwsdGhpcy5maWVsZHNJbmRleD1udWxsLHRoaXMub3V0RmllbGRzPW51bGwsdGhpcy5zdWJsYXllcnM9bmV3KHIub2ZUeXBlKGVlKSksdGhpcy51c2VVbmlxdWVDb2xvcnNGb3JTdWJsYXllcnM9ITAsdGhpcy5zdXBwb3J0ZWRTb3VyY2VUeXBlcz1uZXcgU2V0KFtcIkZlYXR1cmUgTGF5ZXJcIixcIlRhYmxlXCJdKSx0aGlzLnRpbWVJbmZvPW51bGwsdGhpcy50aXRsZT1cIkxheWVyXCIsdGhpcy50eXBlPVwic3VidHlwZS1ncm91cFwiLHRoaXMuX2RlYm91bmNlZFNhdmVPcGVyYXRpb25zPW4oKGFzeW5jKGUsdCxyKT0+e2NvbnN0e3NhdmU6cyxzYXZlQXM6aX09YXdhaXQgaW1wb3J0KFwiLi9zYXZlL2ZlYXR1cmVMYXllclV0aWxzLmpzXCIpO3N3aXRjaChlKXtjYXNlIG9lLlNBVkU6cmV0dXJuIHModGhpcyx0KTtjYXNlIG9lLlNBVkVfQVM6cmV0dXJuIGkodGhpcyxyLHQpfX0pKSx0aGlzLmFkZEhhbmRsZXMocCgoKCk9PnRoaXMuc3VibGF5ZXJzKSwoKGUsdCk9PnRoaXMuX2hhbmRsZVN1YmxheWVyc0NoYW5nZShlLHQpKSx5KSl9ZGVzdHJveSgpe3RoaXMuc291cmNlPy5kZXN0cm95KCl9bm9ybWFsaXplQ3RvckFyZ3MoZSx0KXtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgZT97dXJsOmUsLi4udH06ZX1sb2FkKGUpe2NvbnN0IHQ9bnVsbCE9ZT9lLnNpZ25hbDpudWxsLHI9dGhpcy5sb2FkRnJvbVBvcnRhbCh7c3VwcG9ydGVkVHlwZXM6W1wiRmVhdHVyZSBTZXJ2aWNlXCJdfSxlKS5jYXRjaCh1KS50aGVuKChhc3luYygpPT57aWYoIXRoaXMudXJsKXRocm93IG5ldyBzKFwic3VidHlwZS1ncm91cGxheWVyOm1pc3NpbmctdXJsLW9yLXNvdXJjZVwiLFwiU3VidHlwZUdyb3VwTGF5ZXIgbXVzdCBiZSBjcmVhdGVkIHdpdGggZWl0aGVyIGEgdXJsIG9yIGEgcG9ydGFsIGl0ZW1cIik7aWYobnVsbD09dGhpcy5sYXllcklkKXRocm93IG5ldyBzKFwic3VidHlwZS1ncm91cGxheWVyOm1pc3NpbmctbGF5ZXJpZFwiLFwibGF5ZXJJZCBpcyByZXF1aXJlZCBmb3IgYSBTdWJ0eXBlR3JvdXBMYXllciBjcmVhdGVkIHdpdGggdXJsXCIpO3JldHVybiB0aGlzLl9pbml0TGF5ZXJQcm9wZXJ0aWVzKGF3YWl0IHRoaXMuY3JlYXRlR3JhcGhpY3NTb3VyY2UodCkpfSkpLnRoZW4oKCgpPT5VKHRoaXMsXCJsb2FkXCIsZSkpKTtyZXR1cm4gdGhpcy5hZGRSZXNvbHZpbmdQcm9taXNlKHIpLFByb21pc2UucmVzb2x2ZSh0aGlzKX1nZXQgY3JlYXRlUXVlcnlWZXJzaW9uKCl7cmV0dXJuIHRoaXMuY29tbWl0UHJvcGVydHkoXCJkZWZpbml0aW9uRXhwcmVzc2lvblwiKSx0aGlzLmNvbW1pdFByb3BlcnR5KFwidGltZUV4dGVudFwiKSx0aGlzLmNvbW1pdFByb3BlcnR5KFwidGltZU9mZnNldFwiKSx0aGlzLmNvbW1pdFByb3BlcnR5KFwiZ2VvbWV0cnlUeXBlXCIpLHRoaXMuY29tbWl0UHJvcGVydHkoXCJnZGJWZXJzaW9uXCIpLHRoaXMuY29tbWl0UHJvcGVydHkoXCJoaXN0b3JpY01vbWVudFwiKSx0aGlzLmNvbW1pdFByb3BlcnR5KFwicmV0dXJuWlwiKSx0aGlzLmNvbW1pdFByb3BlcnR5KFwiY2FwYWJpbGl0aWVzXCIpLHRoaXMuY29tbWl0UHJvcGVydHkoXCJyZXR1cm5NXCIpLCh0aGlzLl9nZXQoXCJjcmVhdGVRdWVyeVZlcnNpb25cIik/PzApKzF9Z2V0IGVkaXRpbmdFbmFibGVkKCl7cmV0dXJuIHRoaXMubG9hZGVkJiZudWxsIT10aGlzLmNhcGFiaWxpdGllcyYmdGhpcy5jYXBhYmlsaXRpZXMub3BlcmF0aW9ucy5zdXBwb3J0c0VkaXRpbmcmJnRoaXMudXNlckhhc0VkaXRpbmdQcml2aWxlZ2VzfWdldCBlZmZlY3RpdmVFZGl0aW5nRW5hYmxlZCgpe3JldHVybiBBKHRoaXMpfWdldCBvcGVyYXRpb25hbExheWVyVHlwZSgpe3JldHVybiB0aGlzLmlzVGFibGU/XCJTdWJ0eXBlR3JvdXBUYWJsZVwiOlwiU3VidHlwZUdyb3VwTGF5ZXJcIn1nZXQgcGFyc2VkVXJsKCl7Y29uc3QgZT1jKHRoaXMudXJsKTtyZXR1cm4gbnVsbCE9ZSYmbnVsbCE9dGhpcy5sYXllcklkJiYoZS5wYXRoPWgoZS5wYXRoLHRoaXMubGF5ZXJJZC50b1N0cmluZygpKSksZX1zZXQgc291cmNlKGUpe3RoaXMuX2dldChcInNvdXJjZVwiKSE9PWUmJnRoaXMuX3NldChcInNvdXJjZVwiLGUpfXJlYWRUaXRsZUZyb21TZXJ2aWNlKGUse25hbWU6dH0pe3JldHVybiB0aGlzLnVybD9PKHRoaXMudXJsLHQpOnR9YXN5bmMgYWRkQXR0YWNobWVudChlLHQpe2NvbnN0IHI9YXdhaXQgRyh0aGlzLGUsdCxhZSk7cmV0dXJuIHRoaXMubGFzdEVkaXRzRXZlbnREYXRlPW5ldyBEYXRlLHJ9YXN5bmMgdXBkYXRlQXR0YWNobWVudChlLHQscil7Y29uc3Qgcz1hd2FpdCBxKHRoaXMsZSx0LHIsYWUpO3JldHVybiB0aGlzLmxhc3RFZGl0c0V2ZW50RGF0ZT1uZXcgRGF0ZSxzfWFzeW5jIGFwcGx5RWRpdHMoZSx0KXtyZXR1cm4gRCh0aGlzLGUsdCl9b24oZSx0KXtyZXR1cm4gc3VwZXIub24oZSx0KX1hc3luYyBjcmVhdGVHcmFwaGljc1NvdXJjZShlKXtjb25zdHtkZWZhdWx0OnR9PWF3YWl0IGwoaW1wb3J0KFwiLi9ncmFwaGljcy9zb3VyY2VzL0ZlYXR1cmVMYXllclNvdXJjZS5qc1wiKSxlKTtyZXR1cm4gbmV3IHQoe2xheWVyOnRoaXMsc3VwcG9ydGVkU291cmNlVHlwZXM6dGhpcy5zdXBwb3J0ZWRTb3VyY2VUeXBlc30pLmxvYWQoe3NpZ25hbDplfSl9Y3JlYXRlUXVlcnkoKXtjb25zdCBlPU0odGhpcyksdD10aGlzLnN1YmxheWVycy5tYXAoKGU9PmUuc3VidHlwZUNvZGUpKTtyZXR1cm4gZS53aGVyZT1kKGAke3RoaXMuc3VidHlwZUZpZWxkfSBJTiAoJHt0LmpvaW4oXCIsXCIpfSlgLHRoaXMuZGVmaW5pdGlvbkV4cHJlc3Npb24pLGV9YXN5bmMgZGVsZXRlQXR0YWNobWVudHMoZSx0KXtjb25zdCByPWF3YWl0IGsodGhpcyxlLHQsYWUpO3JldHVybiB0aGlzLmxhc3RFZGl0c0V2ZW50RGF0ZT1uZXcgRGF0ZSxyfWFzeW5jIGZldGNoUmVjb21wdXRlZEV4dGVudHMoZSl7cmV0dXJuIFIodGhpcyxlLGFlKX1maW5kU3VibGF5ZXJGb3JGZWF0dXJlKGUpe2NvbnN0IHQ9dGhpcy5maWVsZHNJbmRleC5nZXQodGhpcy5zdWJ0eXBlRmllbGQpLHI9ZS5hdHRyaWJ1dGVzW3QubmFtZV07cmV0dXJuIHRoaXMuZmluZFN1YmxheWVyRm9yU3VidHlwZUNvZGUocil9ZmluZFN1YmxheWVyRm9yU3VidHlwZUNvZGUoZSl7cmV0dXJuIHRoaXMuX3N1YmxheWVyTG9va3VwLmdldChlKX1nZXRGaWVsZERvbWFpbihlLHQpe2lmKCF0Py5leGNsdWRlSW1wbGllZERvbWFpbnMpe2NvbnN0IHQ9JCh0aGlzLGUpO2lmKHQpcmV0dXJuIHR9Y29uc3Qgcj1WKHRoaXMsdD8uZmVhdHVyZSk7aWYocil7Y29uc3QgdD1yLmRvbWFpbnM/LltlXTtyZXR1cm5cImluaGVyaXRlZFwiPT09dD8udHlwZT90aGlzLl9nZXRMYXllckRvbWFpbihlKTp0fXJldHVybiB0aGlzLl9nZXRMYXllckRvbWFpbihlKX1sb2FkQWxsKCl7cmV0dXJuIGkodGhpcywoZT0+e2UodGhpcy5zdWJsYXllcnMpfSkpfWFzeW5jIHF1ZXJ5QXR0YWNobWVudHMoZSx0KXtyZXR1cm4gTih0aGlzLGUsdCxhZSl9YXN5bmMgcXVlcnlGZWF0dXJlcyhlLHQpe2NvbnN0IHI9YXdhaXQgdGhpcy5sb2FkKCkscz1zZS5mcm9tKGUpPz9yLmNyZWF0ZVF1ZXJ5KCksaT1zLm91dEZpZWxkcz8/W107aS5pbmNsdWRlcyh0aGlzLnN1YnR5cGVGaWVsZCl8fChpLnB1c2godGhpcy5zdWJ0eXBlRmllbGQpLHMub3V0RmllbGRzPWkpO2NvbnN0IG89YXdhaXQgci5zb3VyY2UucXVlcnlGZWF0dXJlcyhzLHQpO2lmKG8/LmZlYXR1cmVzKWZvcihjb25zdCBhIG9mIG8uZmVhdHVyZXMpYS5sYXllcj1hLnNvdXJjZUxheWVyPXRoaXMuZmluZFN1YmxheWVyRm9yRmVhdHVyZShhKTtyZXR1cm4gb31hc3luYyBxdWVyeU9iamVjdElkcyhlLHQpe3JldHVybihhd2FpdCBRKHRoaXMsZSx0LGFlKSkuZmlsdGVyKGllKX1hc3luYyBxdWVyeUZlYXR1cmVDb3VudChlLHQpe3JldHVybiBIKHRoaXMsZSx0LGFlKX1hc3luYyBxdWVyeUV4dGVudChlLHQpe3JldHVybiBKKHRoaXMsZSx0LGFlKX1hc3luYyBxdWVyeVJlbGF0ZWRGZWF0dXJlcyhlLHQpe3JldHVybiBCKHRoaXMsZSx0LGFlKX1hc3luYyBxdWVyeVJlbGF0ZWRGZWF0dXJlc0NvdW50KGUsdCl7cmV0dXJuIHoodGhpcyxlLHQsYWUpfWFzeW5jIHNhdmUoZSl7cmV0dXJuIHRoaXMuX2RlYm91bmNlZFNhdmVPcGVyYXRpb25zKG9lLlNBVkUsZSl9YXN5bmMgc2F2ZUFzKGUsdCl7cmV0dXJuIHRoaXMuX2RlYm91bmNlZFNhdmVPcGVyYXRpb25zKG9lLlNBVkVfQVMsdCxlKX13cml0ZShlLHQpe2NvbnN0e29yaWdpbjpyLGxheWVyQ29udGFpbmVyVHlwZTppLG1lc3NhZ2VzOm99PXQ7aWYodGhpcy5pc1RhYmxlKXtpZihcIndlYi1zY2VuZVwiPT09cnx8XCJ3ZWItbWFwXCI9PT1yJiZcInRhYmxlc1wiIT09aSlyZXR1cm4gbz8ucHVzaChuZSh0aGlzLFwidXNpbmcgYSB0YWJsZSBzb3VyY2UgY2Fubm90IGJlIHdyaXR0ZW4gdG8gd2ViIHNjZW5lcyBhbmQgd2ViIG1hcHNcIikpLG51bGx9ZWxzZSBpZih0aGlzLmxvYWRlZCYmXCJ3ZWItbWFwXCI9PT1yJiZcInRhYmxlc1wiPT09aSlyZXR1cm4gbz8ucHVzaChuZSh0aGlzLFwidXNpbmcgYSBub24tdGFibGUgc291cmNlIGNhbm5vdCBiZSB3cml0dGVuIHRvIHRhYmxlcyBpbiB3ZWIgbWFwc1wiKSksbnVsbDtyZXR1cm4gdGhpcy5zdWJsYXllcnM/Lmxlbmd0aD9zdXBlci53cml0ZShlLHQpOihvPy5wdXNoKG5ldyBzKFwid2ViLWRvY3VtZW50LXdyaXRlOmludmFsaWQtcHJvcGVydHlcIixgTGF5ZXIgKCR7dGhpcy50aXRsZX0sICR7dGhpcy5pZH0pIG9mIHR5cGUgJyR7dGhpcy5kZWNsYXJlZENsYXNzfScgaGFzIGludmFsaWQgdmFsdWUgZm9yICdzdWJsYXllcnMnIHByb3BlcnR5LiAnc3VibGF5ZXJzJyBjb2xsZWN0aW9uIHNob3VsZCBjb250YWluIGF0IGxlYXN0IG9uZSBzdWJsYXllcmAse2xheWVyOnRoaXN9KSksbnVsbCl9c2VydmljZVN1cHBvcnRzU3BhdGlhbFJlZmVyZW5jZShlKXtyZXR1cm4hIXRoaXMubG9hZGVkJiZyZSh0aGlzLGUpfWFzeW5jIGdldEZlYXR1cmVUaXRsZShlLHQpe2NvbnN0IHI9dGhpcy5maW5kU3VibGF5ZXJGb3JGZWF0dXJlKGUpO3JldHVybiByP2F3YWl0IHIuZ2V0RmVhdHVyZVRpdGxlKGUsdCk6dGhpcy5fZ2V0RmVhdHVyZVRpdGxlRm9yVW5rbm93blN1YmxheWVyKGUpfWFzeW5jIGdldEZlYXR1cmVUaXRsZXMoZSx0KXtjb25zdCByPW5ldyBNYXAscz1uZXcgTWFwLGk9W3NdO2UuZm9yRWFjaCgoZT0+e2NvbnN0IHQ9dGhpcy5maW5kU3VibGF5ZXJGb3JGZWF0dXJlKGUpO2lmKHQpbyhyLHQsKCgpPT5bXSkpLnB1c2goZSk7ZWxzZXtjb25zdCB0PWUuZ2V0T2JqZWN0SWQoKT8/ZS5hdHRyaWJ1dGVzW3RoaXMub2JqZWN0SWRGaWVsZF07cy5zZXQodCx0aGlzLl9nZXRGZWF0dXJlVGl0bGVGb3JVbmtub3duU3VibGF5ZXIoZSkpfX0pKTtjb25zdCBhPWF3YWl0IFByb21pc2UuYWxsKEFycmF5LmZyb20ocikubWFwKCgoW2Uscl0pPT5lLmdldEZlYXR1cmVUaXRsZXMocix0KSkpKTtyZXR1cm4gYS5mb3JFYWNoKChlPT5pLnB1c2goZSkpKSxuZXcgTWFwKGkuZmxhdE1hcCgoZT0+Wy4uLmVdKSkpfWdldCBmZWF0dXJlVGl0bGVGaWVsZHMoKXtjb25zdCBlPW5ldyBTZXQ7Zm9yKGNvbnN0IHQgb2YgdGhpcy5zdWJsYXllcnMpe2NvbnN0IHI9dC5mZWF0dXJlVGl0bGVGaWVsZHM7Zm9yKGNvbnN0IHQgb2YgcillLmFkZCh0KX1yZXR1cm5bLi4uZV19X2dldExheWVyRG9tYWluKGUpe2NvbnN0IHQ9dGhpcy5maWVsZHNJbmRleC5nZXQoZSk7cmV0dXJuIHQ/dC5kb21haW46bnVsbH1hc3luYyBfaW5pdExheWVyUHJvcGVydGllcyhlKXt0aGlzLl9zZXQoXCJzb3VyY2VcIixlKTtjb25zdHtzb3VyY2VKU09OOnR9PWU7aWYodCYmKHRoaXMuc291cmNlSlNPTj10LHRoaXMucmVhZCh0LHtvcmlnaW46XCJzZXJ2aWNlXCIsdXJsOnRoaXMucGFyc2VkVXJsfSkpLCF0aGlzLnN1YnR5cGVzPy5sZW5ndGgpdGhyb3cgbmV3IHMoXCJzdWJ0eXBlLWdyb3VwbGF5ZXI6bWlzc2luZy1zdWJ0eXBlc1wiLFwiU3VidHlwZUdyb3VwTGF5ZXIgbXVzdCBiZSBjcmVhdGVkIHVzaW5nIGEgbGF5ZXIgd2l0aCBzdWJ0eXBlc1wiKTt0aGlzLl92ZXJpZnlGaWVsZHMoKSxXKHRoaXMudGltZUluZm8sdGhpcy5maWVsZHNJbmRleCl9YXN5bmMgaGFzRGF0YUNoYW5nZWQoKXtyZXR1cm4gSyh0aGlzKX1fdmVyaWZ5RmllbGRzKCl7Y29uc3QgZT10aGlzLnBhcnNlZFVybD8ucGF0aD8/XCJ1bmRlZmluZWRcIjt0aGlzLm9iamVjdElkRmllbGR8fGNvbnNvbGUubG9nKFwiU3VidHlwZUdyb3VwTGF5ZXI6ICdvYmplY3RJZEZpZWxkJyBwcm9wZXJ0eSBpcyBub3QgZGVmaW5lZCAodXJsOiBcIitlK1wiKVwiKSx0aGlzLmlzVGFibGV8fC0xIT09ZS5zZWFyY2goL1xcL0ZlYXR1cmVTZXJ2ZXJcXC8vaSl8fHRoaXMuZmllbGRzPy5zb21lKChlPT5cImdlb21ldHJ5XCI9PT1lLnR5cGUpKXx8Y29uc29sZS5sb2coXCJTdWJ0eXBlR3JvdXBMYXllcjogdW5hYmxlIHRvIGZpbmQgZmllbGQgb2YgdHlwZSAnZ2VvbWV0cnknIGluIHRoZSBsYXllciAnZmllbGRzJyBsaXN0LiBJZiB5b3UgYXJlIHVzaW5nIGEgbWFwIHNlcnZpY2UgbGF5ZXIsIGZlYXR1cmVzIHdpbGwgbm90IGhhdmUgZ2VvbWV0cnkgKHVybDogXCIrZStcIilcIil9X2hhbmRsZVN1YmxheWVyc0NoYW5nZShlLHQpe3QmJih0LmZvckVhY2goKGU9PntlLnBhcmVudD1udWxsfSkpLHRoaXMucmVtb3ZlSGFuZGxlcyhcInN1YmxheWVycy1vd25lclwiKSx0aGlzLl9zdWJsYXllckxvb2t1cC5jbGVhcigpKSxlJiYoZS5mb3JFYWNoKChlPT57ZS5wYXJlbnQ9dGhpcyx0aGlzLl9zdWJsYXllckxvb2t1cC5zZXQoZS5zdWJ0eXBlQ29kZSxlKX0pKSx0aGlzLmFkZEhhbmRsZXMoW2Uub24oXCJhZnRlci1hZGRcIiwoKHtpdGVtOmV9KT0+e2UucGFyZW50PXRoaXMsdGhpcy5fc3VibGF5ZXJMb29rdXAuc2V0KGUuc3VidHlwZUNvZGUsZSl9KSksZS5vbihcImFmdGVyLXJlbW92ZVwiLCgoe2l0ZW06ZX0pPT57ZS5wYXJlbnQ9bnVsbCx0aGlzLl9zdWJsYXllckxvb2t1cC5kZWxldGUoZS5zdWJ0eXBlQ29kZSl9KSldLFwic3VibGF5ZXJzLW93bmVyXCIpKX1fZ2V0RmVhdHVyZVRpdGxlRm9yVW5rbm93blN1YmxheWVyKGUpe2NvbnN0e2Rpc3BsYXlGaWVsZDp0LGZpZWxkc0luZGV4OnIsb2JqZWN0SWRGaWVsZDpzfT10aGlzO2lmKHQmJnIuaGFzKHQpKXJldHVybiBlLmF0dHJpYnV0ZXNbci5nZXQodCkubmFtZV0/P1wiXCI7Y29uc3QgaT1lLmdldE9iamVjdElkKCk7cmV0dXJuIG51bGwhPWk/aS50b1N0cmluZygpOnMmJnIuaGFzKHMpP2UuYXR0cmlidXRlc1tyLmdldChzKS5uYW1lXT8/XCJcIjpcIlwifX07ZShbbSh7cmVhZE9ubHk6ITB9KV0seWUucHJvdG90eXBlLFwiY3JlYXRlUXVlcnlWZXJzaW9uXCIsbnVsbCksZShbbSh7cmVhZE9ubHk6ITB9KV0seWUucHJvdG90eXBlLFwiZWRpdGluZ0VuYWJsZWRcIixudWxsKSxlKFttKHtyZWFkT25seTohMH0pXSx5ZS5wcm90b3R5cGUsXCJlZmZlY3RpdmVFZGl0aW5nRW5hYmxlZFwiLG51bGwpLGUoW20oey4uLmxlLmZpZWxkcyxyZWFkT25seTohMCxqc29uOntvcmlnaW5zOntzZXJ2aWNlOntyZWFkOiEwfX0scmVhZDohMX19KV0seWUucHJvdG90eXBlLFwiZmllbGRzXCIsdm9pZCAwKSxlKFttKGxlLmZpZWxkc0luZGV4KV0seWUucHJvdG90eXBlLFwiZmllbGRzSW5kZXhcIix2b2lkIDApLGUoW20oUCldLHllLnByb3RvdHlwZSxcImlkXCIsdm9pZCAwKSxlKFttKHt0eXBlOltcInNob3dcIixcImhpZGVcIixcImhpZGUtY2hpbGRyZW5cIl0sanNvbjp7b3JpZ2luczp7XCJwb3J0YWwtaXRlbVwiOntyZWFkOiExLHdyaXRlOiExfX19fSldLHllLnByb3RvdHlwZSxcImxpc3RNb2RlXCIsdm9pZCAwKSxlKFttKHt0eXBlOltcIlN1YnR5cGVHcm91cExheWVyXCIsXCJTdWJ0eXBlR3JvdXBUYWJsZVwiXSxqc29uOnsuLi5wZSgpLG9yaWdpbnM6e1wid2ViLWRvY3VtZW50XCI6cGUoKSxcInBvcnRhbC1pdGVtXCI6cGUoKX19fSldLHllLnByb3RvdHlwZSxcIm9wZXJhdGlvbmFsTGF5ZXJUeXBlXCIsbnVsbCksZShbbShsZS5vdXRGaWVsZHMpXSx5ZS5wcm90b3R5cGUsXCJvdXRGaWVsZHNcIix2b2lkIDApLGUoW20oe3JlYWRPbmx5OiEwfSldLHllLnByb3RvdHlwZSxcInBhcnNlZFVybFwiLG51bGwpLGUoW20oe2Nsb25hYmxlOiExfSldLHllLnByb3RvdHlwZSxcInNvdXJjZVwiLG51bGwpLGUoW20oe3R5cGU6ci5vZlR5cGUoZWUpLGpzb246e29yaWdpbnM6e3NlcnZpY2U6e3JlYWQ6e3NvdXJjZTpcInN1YnR5cGVzXCIscmVhZGVyKGUsdCxzKXtsZXQgaT1udWxsO2lmKHRoaXMudXNlVW5pcXVlQ29sb3JzRm9yU3VibGF5ZXJzKXtjb25zdCByPVgodCxzKTtpPXI/WShlLmxlbmd0aCxyKTpudWxsfWNvbnN0IG89ZS5tYXAoKCh7Y29kZTplfSxyKT0+e2NvbnN0IG89bmV3IGVlKHtzdWJ0eXBlQ29kZTplfSk7by5yZWFkKHQscyk7Y29uc3QgYT1pPy5bcl07cmV0dXJuIGEmJm8ucmVhZCh7ZHJhd2luZ0luZm86e3JlbmRlcmVyOmEudG9KU09OKCl9fSxzKSxvfSkpO3JldHVybiBuZXcoci5vZlR5cGUoZWUpKShvKX19fX0scmVhZDp7c291cmNlOltcImxheWVyc1wiLFwidGFibGVzXCJdLHJlYWRlcihlLHQscyl7bGV0IGk7cmV0dXJuXCJTdWJ0eXBlR3JvdXBMYXllclwiPT09dC5sYXllclR5cGUmJnQubGF5ZXJzPy5sZW5ndGg/aT11ZSh0LmxheWVycyxzKTpcIlN1YnR5cGVHcm91cFRhYmxlXCI9PT10LmxheWVyVHlwZSYmdC50YWJsZXM/Lmxlbmd0aCYmKGk9dWUodC50YWJsZXMscykpLG5ldyhyLm9mVHlwZShlZSkpKGkpfX0sd3JpdGU6e2lnbm9yZU9yaWdpbjohMCx3cml0ZXIoZSx0LHIscyl7Y29uc3QgaT1bXTtmb3IoY29uc3QgbyBvZiBlKXtjb25zdCBlPW8ud3JpdGUoe30scyk7aS5wdXNoKGUpfXRoaXMuaXNUYWJsZT90LnRhYmxlcz1pOnQubGF5ZXJzPWl9fX19KV0seWUucHJvdG90eXBlLFwic3VibGF5ZXJzXCIsdm9pZCAwKSxlKFttKCldLHllLnByb3RvdHlwZSxcInVzZVVuaXF1ZUNvbG9yc0ZvclN1YmxheWVyc1wiLHZvaWQgMCksZShbbSh7dHlwZTp0ZX0pXSx5ZS5wcm90b3R5cGUsXCJ0aW1lSW5mb1wiLHZvaWQgMCksZShbbSh7anNvbjp7b3JpZ2luczp7XCJwb3J0YWwtaXRlbVwiOnt3cml0ZTp7ZW5hYmxlZDohMCxpZ25vcmVPcmlnaW46ITAsd3JpdGVyRW5zdXJlc05vbk51bGw6ITB9fX19fSldLHllLnByb3RvdHlwZSxcInRpdGxlXCIsdm9pZCAwKSxlKFtmKFwic2VydmljZVwiLFwidGl0bGVcIixbXCJuYW1lXCJdKV0seWUucHJvdG90eXBlLFwicmVhZFRpdGxlRnJvbVNlcnZpY2VcIixudWxsKSxlKFttKHtqc29uOntyZWFkOiExfX0pXSx5ZS5wcm90b3R5cGUsXCJ0eXBlXCIsdm9pZCAwKSxlKFttKHtjbG9uYWJsZTohMSxyZWFkT25seTohMH0pXSx5ZS5wcm90b3R5cGUsXCJmZWF0dXJlVGl0bGVGaWVsZHNcIixudWxsKSx5ZT1lKFtiKFwiZXNyaS5sYXllcnMuU3VidHlwZUdyb3VwTGF5ZXJcIildLHllKTtjb25zdCBkZT15ZTtleHBvcnR7ZGUgYXMgZGVmYXVsdH07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4zMy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e18gYXMgZX1mcm9tXCIuLi8uLi9jaHVua3MvdHNsaWIuZXM2LmpzXCI7aW1wb3J0IHQgZnJvbVwiLi4vLi4vUG9wdXBUZW1wbGF0ZS5qc1wiO2ltcG9ydCByIGZyb21cIi4uLy4uL2NvcmUvQ2xvbmFibGUuanNcIjtpbXBvcnRcIi4uLy4uL2NvcmUvaGFzLmpzXCI7aW1wb3J0IGkgZnJvbVwiLi4vLi4vY29yZS9FcnJvci5qc1wiO2ltcG9ydCBvIGZyb21cIi4uLy4uL2NvcmUvSWRlbnRpZmlhYmxlLmpzXCI7aW1wb3J0e2Nsb25lIGFzIG59ZnJvbVwiLi4vLi4vY29yZS9sYW5nLmpzXCI7aW1wb3J0IGwgZnJvbVwiLi4vLi4vY29yZS9Mb2FkYWJsZS5qc1wiO2ltcG9ydCBzIGZyb21cIi4uLy4uL2NvcmUvTG9nZ2VyLmpzXCI7aW1wb3J0e2Rlc3Ryb3lNYXliZSBhcyBhfWZyb21cIi4uLy4uL2NvcmUvbWF5YmUuanNcIjtpbXBvcnR7TXVsdGlPcmlnaW5KU09OTWl4aW4gYXMgcH1mcm9tXCIuLi8uLi9jb3JlL011bHRpT3JpZ2luSlNPTlN1cHBvcnQuanNcIjtpbXBvcnR7c2V0RGVlcFZhbHVlIGFzIGR9ZnJvbVwiLi4vLi4vY29yZS9vYmplY3QuanNcIjtpbXBvcnR7c3FsQW5kIGFzIHV9ZnJvbVwiLi4vLi4vY29yZS9zcWwuanNcIjtpbXBvcnR7cHJvcGVydHkgYXMgeX1mcm9tXCIuLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3Byb3BlcnR5LmpzXCI7aW1wb3J0e3JlYWRlciBhcyBjfWZyb21cIi4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvcmVhZGVyLmpzXCI7aW1wb3J0e3N1YmNsYXNzIGFzIG19ZnJvbVwiLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9zdWJjbGFzcy5qc1wiO2ltcG9ydHt3cml0ZXIgYXMgZn1mcm9tXCIuLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3dyaXRlci5qc1wiO2ltcG9ydHtleGNsdWRlVGFibGVzIGFzIGh9ZnJvbVwiLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvbGF5ZXJDb250YWluZXJUeXBlLmpzXCI7aW1wb3J0IGIgZnJvbVwiLi4vLi4vZm9ybS9Gb3JtVGVtcGxhdGUuanNcIjtpbXBvcnQgZyBmcm9tXCIuLi8uLi9nZW9tZXRyeS9TcGF0aWFsUmVmZXJlbmNlLmpzXCI7aW1wb3J0e2xhYmVsc1Zpc2libGUgYXMgaixsZWdlbmRFbmFibGVkIGFzIHYsbWluU2NhbGUgYXMgdyxtYXhTY2FsZSBhcyBGLHBvcHVwRW5hYmxlZCBhcyBUfWZyb21cIi4vY29tbW9uUHJvcGVydGllcy5qc1wiO2ltcG9ydHtjcmVhdGVRdWVyeSBhcyBJLGNvbXB1dGVEb21haW5Gcm9tU3VidHlwZXMgYXMgT31mcm9tXCIuL2ZlYXR1cmVMYXllclV0aWxzLmpzXCI7aW1wb3J0IFMgZnJvbVwiLi9GZWF0dXJlVGVtcGxhdGUuanNcIjtpbXBvcnR7ZGVmaW5lRmllbGRQcm9wZXJ0aWVzIGFzIEN9ZnJvbVwiLi9maWVsZFByb3BlcnRpZXMuanNcIjtpbXBvcnR7Zml4UmVuZGVyZXJGaWVsZHMgYXMgRX1mcm9tXCIuL2ZpZWxkVXRpbHMuanNcIjtpbXBvcnQgcSBmcm9tXCIuL0xhYmVsQ2xhc3MuanNcIjtpbXBvcnR7cmVhZGVyIGFzIHh9ZnJvbVwiLi9sYWJlbGluZ0luZm8uanNcIjtpbXBvcnR7cmVuZGVyZXJSZWFkZXIgYXMgQSxzdXBwb3J0ZWRSZW5kZXJlclR5cGVzIGFzIFJ9ZnJvbVwiLi9zdWJ0eXBlR3JvdXBMYXllclV0aWxzLmpzXCI7aW1wb3J0IFAgZnJvbVwiLi9UaXRsZUNyZWF0b3IuanNcIjtpbXBvcnQgTCBmcm9tXCIuLi8uLi9yZW5kZXJlcnMvU2ltcGxlUmVuZGVyZXIuanNcIjtpbXBvcnQgXyBmcm9tXCIuLi8uLi9yZXN0L3N1cHBvcnQvUXVlcnkuanNcIjtpbXBvcnR7Y3JlYXRlUG9wdXBUZW1wbGF0ZSBhcyBEfWZyb21cIi4uLy4uL3N1cHBvcnQvcG9wdXBVdGlscy5qc1wiO2ltcG9ydHtkZWZhdWx0UG9seWdvblN5bWJvbDJEIGFzIEcsZGVmYXVsdFBvbHlsaW5lU3ltYm9sMkQgYXMgTixkZWZhdWx0UG9pbnRTeW1ib2wyRCBhcyBWfWZyb21cIi4uLy4uL3N5bWJvbHMvc3VwcG9ydC9kZWZhdWx0cy5qc1wiO2ltcG9ydCAkIGZyb21cIi4uLy4uL3RhYmxlcy9BdHRyaWJ1dGVUYWJsZVRlbXBsYXRlLmpzXCI7Y29uc3QgTT1DKCk7bGV0IFU9MDtmdW5jdGlvbiBrKGUsdCl7bGV0IHI9ZS5qc29uLndyaXRlO3JldHVyblwib2JqZWN0XCIhPXR5cGVvZiByJiYocj1lLmpzb24ud3JpdGU9e30pLHIuaWdub3JlT3JpZ2luPSEwLHQ/LnNwYXRpYWxPbmx5JiYoci5sYXllckNvbnRhaW5lclR5cGVzPWgpLGV9ZnVuY3Rpb24gUShlKXtjb25zdCB0PXt3cml0ZTp7aWdub3JlT3JpZ2luOiEwfX07cmV0dXJuIGU/Lm5hbWUmJih0Lm5hbWU9ZS5uYW1lKSxcIm9iamVjdFwiPT10eXBlb2YgdC53cml0ZSYmKGU/LnNwYXRpYWxPbmx5JiYodC53cml0ZS5sYXllckNvbnRhaW5lclR5cGVzPWgpLGU/LnRhcmdldCYmKHQud3JpdGUudGFyZ2V0PWUudGFyZ2V0KSksdH1mdW5jdGlvbiBCKGUpe3JldHVybiBuZXcgTCh7c3ltYm9sOkgoZSl9KX1mdW5jdGlvbiBIKGUpe3N3aXRjaChlKXtjYXNlXCJwb2ludFwiOmNhc2VcIm11bHRpcG9pbnRcIjpyZXR1cm4gVi5jbG9uZSgpO2Nhc2VcInBvbHlsaW5lXCI6cmV0dXJuIE4uY2xvbmUoKTtjYXNlXCJwb2x5Z29uXCI6Y2FzZVwibXVsdGlwYXRjaFwiOnJldHVybiBHLmNsb25lKCk7ZGVmYXVsdDpyZXR1cm4gbnVsbH19ZnVuY3Rpb24gSihlLHQpe3JldHVybiEhdCYmKFwidW5pcXVlLXZhbHVlXCI9PT1lPy50eXBlJiZudWxsIT1lLmZpZWxkJiZlLmZpZWxkLnRvTG93ZXJDYXNlKCk9PT10LnRvTG93ZXJDYXNlKCkmJiFlLmZpZWxkMiYmIWUuZmllbGQzJiYhZS52YWx1ZUV4cHJlc3Npb24pfWZ1bmN0aW9uIFcoZSx0KXtyZXR1cm4gbnVsbD09ZT9udWxsOnQuc3VidHlwZXM/LmZpbmQoKHQ9PnQuY29kZT09PWUpKX1mdW5jdGlvbiB6KGUsdCl7bGV0IHI9bnVsbDtzd2l0Y2godC5nZW9tZXRyeVR5cGUpe2Nhc2VcImVzcmlHZW9tZXRyeVBvaW50XCI6Y2FzZVwiZXNyaUdlb21ldHJ5TXVsdGlwb2ludFwiOnI9XCJwb2ludFwiO2JyZWFrO2Nhc2VcImVzcmlHZW9tZXRyeVBvbHlsaW5lXCI6cj1cImxpbmVcIjticmVhaztjYXNlXCJlc3JpR2VvbWV0cnlQb2x5Z29uXCI6Y2FzZVwiZXNyaUdlb21ldHJ5TXVsdGlQYXRjaFwiOnI9XCJwb2x5Z29uXCI7YnJlYWs7ZGVmYXVsdDp0LnR5cGUscj1udWxsfWNvbnN0IGk9e30sbz1XKGUsdCk7aWYobnVsbCE9byl7Y29uc3R7ZGVmYXVsdFZhbHVlczplfT1vO2Zvcihjb25zdCB0IGluIGUpaVt0XT1lW3RdfXJldHVybiBpW3Quc3VidHlwZUZpZWxkXT1lLG5ldyBTKHtuYW1lOlwiTmV3IEZlYXR1cmVcIixkcmF3aW5nVG9vbDpyLHByb3RvdHlwZTp7YXR0cmlidXRlczppfX0pfWxldCBLPWNsYXNzIGV4dGVuZHMocChyLkNsb25hYmxlTWl4aW4oby5JZGVudGlmaWFibGVNaXhpbihsKSkpKXtjb25zdHJ1Y3RvcihlKXtzdXBlcihlKSx0aGlzLmF0dHJpYnV0ZVRhYmxlVGVtcGxhdGU9bnVsbCx0aGlzLmNoYXJ0cz1udWxsLHRoaXMuZWRpdGluZ0VuYWJsZWQ9ITAsdGhpcy5maWVsZE92ZXJyaWRlcz1udWxsLHRoaXMuZmllbGRzSW5kZXg9bnVsbCx0aGlzLmZvcm1UZW1wbGF0ZT1udWxsLHRoaXMuaWQ9YCR7RGF0ZS5ub3coKS50b1N0cmluZygxNil9LXN1YnR5cGUtc3VibGF5ZXItJHtVKyt9YCx0aGlzLnR5cGU9XCJzdWJ0eXBlLXN1YmxheWVyXCIsdGhpcy5sYWJlbHNWaXNpYmxlPSEwLHRoaXMubGFiZWxpbmdJbmZvPW51bGwsdGhpcy5sYXllclR5cGU9XCJBcmNHSVNGZWF0dXJlTGF5ZXJcIix0aGlzLmxlZ2VuZEVuYWJsZWQ9ITAsdGhpcy5saXN0TW9kZT1cInNob3dcIix0aGlzLm1pblNjYWxlPTAsdGhpcy5tYXhTY2FsZT0wLHRoaXMub3BhY2l0eT0xLHRoaXMucGFyZW50PW51bGwsdGhpcy5wb3B1cEVuYWJsZWQ9ITAsdGhpcy5wb3B1cFRlbXBsYXRlPW51bGwsdGhpcy5zdWJ0eXBlQ29kZT1udWxsLHRoaXMudGVtcGxhdGVzPW51bGwsdGhpcy50aXRsZT1udWxsLHRoaXMudmlzaWJsZT0hMH1sb2FkKGUpe3JldHVybiBFKHRoaXMucmVuZGVyZXIsdGhpcy5maWVsZHNJbmRleCksUHJvbWlzZS5yZXNvbHZlKHRoaXMpfWdldCBfdGl0bGVDcmVhdG9yKCl7Y29uc3QgZT10aGlzLl9nZXQoXCJfdGl0bGVDcmVhdG9yXCIpO3JldHVybiBhKGUpLG5ldyBQKHtmaWVsZHNJbmRleDp0aGlzLmZpZWxkc0luZGV4LG9iamVjdElkRmllbGQ6dGhpcy5vYmplY3RJZEZpZWxkLGRpc3BsYXlGaWVsZDp0aGlzLnBhcmVudD8uZGlzcGxheUZpZWxkPz9cIlwiLGZpZWxkczp0aGlzLmZpZWxkcyxlZmZlY3RpdmVQb3B1cFRlbXBsYXRlOnRoaXMucG9wdXBUZW1wbGF0ZT8/dGhpcy5kZWZhdWx0UG9wdXBUZW1wbGF0ZX0pfWdldCBjYXBhYmlsaXRpZXMoKXtyZXR1cm4gdGhpcy5wYXJlbnQ/LmNhcGFiaWxpdGllc31nZXQgZWZmZWN0aXZlQ2FwYWJpbGl0aWVzKCl7cmV0dXJuIHRoaXMucGFyZW50Py5lZmZlY3RpdmVDYXBhYmlsaXRpZXN9Z2V0IGVmZmVjdGl2ZUVkaXRpbmdFbmFibGVkKCl7Y29uc3R7cGFyZW50OmV9PXRoaXM7cmV0dXJuIGU/ZS5lZmZlY3RpdmVFZGl0aW5nRW5hYmxlZCYmdGhpcy5lZGl0aW5nRW5hYmxlZDp0aGlzLmVkaXRpbmdFbmFibGVkfWdldCBlbGV2YXRpb25JbmZvKCl7cmV0dXJuIHRoaXMucGFyZW50Py5lbGV2YXRpb25JbmZvfWdldCBmZWF0dXJlVGl0bGVGaWVsZHMoKXtyZXR1cm5bLi4udGhpcy5fdGl0bGVDcmVhdG9yLnJlcXVpcmVkRmllbGRzXX13cml0ZUZpZWxkT3ZlcnJpZGVzKGUsdCxyKXtjb25zdHtmaWVsZHM6aSxwYXJlbnQ6b309dGhpcztsZXQgbDtpZihpKXtsPVtdO2xldCBlPTA7aS5mb3JFYWNoKCgoe25hbWU6dCxhbGlhczpyLGVkaXRhYmxlOmksdmlzaWJsZTpufSk9PntpZighbilyZXR1cm47Y29uc3Qgcz1vPy5maWVsZHM/LmZpbmQoKGU9PmUubmFtZT09PXQpKTtpZighcylyZXR1cm47Y29uc3QgYT17bmFtZTp0fTtsZXQgcD0hMTtyIT09cy5hbGlhcyYmKGEuYWxpYXM9cixwPSEwKSxpIT09cy5lZGl0YWJsZSYmKGEuZWRpdGFibGU9aSxwPSEwKSxsLnB1c2goYSkscCYmZSsrfSkpLDA9PT1lJiZsLmxlbmd0aD09PWkubGVuZ3RoJiYobD1udWxsKX1lbHNlIGw9bihlKTtsPy5sZW5ndGgmJmQocixsLHQpfWdldCBmaWVsZHMoKXtjb25zdHtwYXJlbnQ6ZSxmaWVsZE92ZXJyaWRlczp0LHN1YnR5cGVDb2RlOnJ9PXRoaXMsaT1lPy5maWVsZHM7aWYoIWV8fCFpPy5sZW5ndGgpcmV0dXJuIG51bGw7Y29uc3R7c3VidHlwZXM6byxzdWJ0eXBlRmllbGQ6bn09ZSxsPW8/LmZpbmQoKGU9PmUuY29kZT09PXIpKSxzPWw/LmRlZmF1bHRWYWx1ZXMsYT1sPy5kb21haW5zLHA9W107Zm9yKGNvbnN0IGQgb2YgaSl7Y29uc3QgZT1kLmNsb25lKCkse25hbWU6aX09ZSxvPXQ/LmZpbmQoKGU9PmUubmFtZT09PWkpKTtpZihlLnZpc2libGU9IXQ/Lmxlbmd0aHx8ISFvLG8pe2NvbnN0e2FsaWFzOnQsZWRpdGFibGU6cn09bzt0JiYoZS5hbGlhcz10KSwhMT09PXImJihlLmVkaXRhYmxlPSExKX1jb25zdCBsPXM/LltpXT8/bnVsbDtlLmRlZmF1bHRWYWx1ZT1pPT09bj9yOmw7Y29uc3QgdT1hPy5baV0/P251bGw7ZS5kb21haW49aT09PW4/bnVsbDp1P1wiaW5oZXJpdGVkXCI9PT11LnR5cGU/ZS5kb21haW46dS5jbG9uZSgpOm51bGwscC5wdXNoKGUpfXJldHVybiBwfWdldCBmbG9vckluZm8oKXtyZXR1cm4gdGhpcy5wYXJlbnQ/LmZsb29ySW5mb31nZXQgaXNUYWJsZSgpe3JldHVybiEhdGhpcy5wYXJlbnQ/LmlzVGFibGV9Z2V0IGdlb21ldHJ5VHlwZSgpe3JldHVybiB0aGlzLnBhcmVudD8uZ2VvbWV0cnlUeXBlfWdldCBnbG9iYWxJZEZpZWxkKCl7cmV0dXJuIHRoaXMucGFyZW50P3RoaXMucGFyZW50Lmdsb2JhbElkRmllbGQ6KHMuZ2V0TG9nZ2VyKHRoaXMpLmVycm9yKFooXCJnbG9iYWxJZEZpZWxkXCIpKSxudWxsKX1nZXQgZWZmZWN0aXZlU2NhbGVSYW5nZSgpe2NvbnN0e21pblNjYWxlOmUsbWF4U2NhbGU6dH09dGhpcztyZXR1cm57bWluU2NhbGU6ZSxtYXhTY2FsZTp0fX1nZXQgb2JqZWN0SWRGaWVsZCgpe3JldHVybiB0aGlzLnBhcmVudHx8cy5nZXRMb2dnZXIodGhpcykuZXJyb3IoWihcIm9iamVjdElkRmllbGRcIikpLHRoaXMucGFyZW50Py5vYmplY3RJZEZpZWxkfWdldCBkZWZhdWx0UG9wdXBUZW1wbGF0ZSgpe3JldHVybiB0aGlzLmNyZWF0ZVBvcHVwVGVtcGxhdGUoKX1nZXQgcmVsYXRpb25zaGlwcygpe3JldHVybiB0aGlzLnBhcmVudD8ucmVsYXRpb25zaGlwc31zZXQgcmVuZGVyZXIoZSl7RShlLHRoaXMuZmllbGRzSW5kZXgpLHRoaXMuX292ZXJyaWRlKFwicmVuZGVyZXJcIixlKX1nZXQgcmVuZGVyZXIoKXtpZih0aGlzLl9pc092ZXJyaWRkZW4oXCJyZW5kZXJlclwiKSlyZXR1cm4gdGhpcy5fZ2V0KFwicmVuZGVyZXJcIik7Y29uc3R7cGFyZW50OmV9PXRoaXM7cmV0dXJuIGUmJiFlLmlzVGFibGUmJlwibWVzaFwiIT09ZS5nZW9tZXRyeVR5cGU/QihlLmdlb21ldHJ5VHlwZSk6bnVsbH1yZWFkUmVuZGVyZXJGcm9tU2VydmljZShlLHQscil7aWYoXCJUYWJsZVwiPT09dC50eXBlKXJldHVybiBudWxsO2NvbnN0IGk9dC5kcmF3aW5nSW5mbz8ucmVuZGVyZXIsbz1BKGksdCxyKTtsZXQgbjtjb25zdHtzdWJ0eXBlQ29kZTpsfT10aGlzO2lmKG51bGwhPWwmJkoobyx0LnN1YnR5cGVGaWVsZCkpe2NvbnN0IGU9by51bmlxdWVWYWx1ZUluZm9zPy5maW5kKCgoe3ZhbHVlOmV9KT0+KGU9XCJudW1iZXJcIj09dHlwZW9mIGU/U3RyaW5nKGUpOmUpPT09U3RyaW5nKGwpKSk7ZSYmKG49bmV3IEwoe3N5bWJvbDplLnN5bWJvbH0pKX1lbHNlXCJzaW1wbGVcIiE9PW8/LnR5cGV8fG8udmlzdWFsVmFyaWFibGVzPy5sZW5ndGh8fChuPW8pO3JldHVybiBufXJlYWRSZW5kZXJlcihlLHQscil7Y29uc3QgaT10Py5sYXllckRlZmluaXRpb24/LmRyYXdpbmdJbmZvPy5yZW5kZXJlcjtpZighaSlyZXR1cm47Y29uc3Qgbz1pLnZpc3VhbFZhcmlhYmxlcz8uc29tZSgoZT0+XCJyb3RhdGlvbkluZm9cIiE9PWUudHlwZSkpO3JldHVybiBvP3ZvaWQgMDpBKGksdCxyKXx8dm9pZCAwfWdldCBzcGF0aWFsUmVmZXJlbmNlKCl7cmV0dXJuIHRoaXMucGFyZW50Py5zcGF0aWFsUmVmZXJlbmNlPz9nLldHUzg0fWdldCBzdWJ0eXBlRmllbGQoKXtyZXR1cm4gdGhpcy5wYXJlbnQ/LnN1YnR5cGVGaWVsZH1yZWFkVGVtcGxhdGVzRnJvbVNlcnZpY2UoZSx0KXtyZXR1cm5beih0aGlzLnN1YnR5cGVDb2RlLHQpXX1yZWFkVGl0bGVGcm9tU2VydmljZShlLHQpe2NvbnN0IHI9Vyh0aGlzLnN1YnR5cGVDb2RlLHQpO3JldHVybiBudWxsIT1yP3IubmFtZTpudWxsfWdldCB1cmwoKXtyZXR1cm4gdGhpcy5wYXJlbnQ/LnVybH1nZXQgdXNlckhhc1VwZGF0ZUl0ZW1Qcml2aWxlZ2VzKCl7cmV0dXJuISF0aGlzLnBhcmVudD8udXNlckhhc1VwZGF0ZUl0ZW1Qcml2aWxlZ2VzfWFzeW5jIGFkZEF0dGFjaG1lbnQoZSx0KXtjb25zdHtwYXJlbnQ6cn09dGhpcztpZighcil0aHJvdyBaKFwiYWRkQXR0YWNobWVudFwiKTtpZihlLmdldEF0dHJpYnV0ZShyLnN1YnR5cGVGaWVsZCkhPT10aGlzLnN1YnR5cGVDb2RlKXRocm93IG5ldyBpKFwic3VidHlwZS1zdWJsYXllcjphZGRBdHRhY2htZW50XCIsXCJUaGUgZmVhdHVyZSBwcm92aWRlZCBkb2VzIG5vdCBiZWxvbmcgdG8gdGhpcyBTdWJ0eXBlU3VibGF5ZXJcIik7cmV0dXJuIHIuYWRkQXR0YWNobWVudChlLHQpfWFzeW5jIHVwZGF0ZUF0dGFjaG1lbnQoZSx0LHIpe2NvbnN0e3BhcmVudDpvfT10aGlzO2lmKCFvKXRocm93IFooXCJ1cGRhdGVBdHRhY2htZW50XCIpO2lmKGUuZ2V0QXR0cmlidXRlKG8uc3VidHlwZUZpZWxkKSE9PXRoaXMuc3VidHlwZUNvZGUpdGhyb3cgbmV3IGkoXCJzdWJ0eXBlLXN1YmxheWVyOnVwZGF0ZUF0dGFjaG1lbnRcIixcIlRoZSBmZWF0dXJlIHByb3ZpZGVkIGRvZXMgbm90IGJlbG9uZyB0byB0aGlzIFN1YnR5cGVTdWJsYXllclwiKTtyZXR1cm4gby51cGRhdGVBdHRhY2htZW50KGUsdCxyKX1hc3luYyBkZWxldGVBdHRhY2htZW50cyhlLHQpe2NvbnN0e3BhcmVudDpyfT10aGlzO2lmKCFyKXRocm93IFooXCJkZWxldGVBdHRhY2htZW50c1wiKTtpZihlLmdldEF0dHJpYnV0ZShyLnN1YnR5cGVGaWVsZCkhPT10aGlzLnN1YnR5cGVDb2RlKXRocm93IG5ldyBpKFwic3VidHlwZS1zdWJsYXllcjpkZWxldGVBdHRhY2htZW50c1wiLFwiVGhlIGZlYXR1cmUgcHJvdmlkZWQgZG9lcyBub3QgYmVsb25nIHRvIHRoaXMgU3VidHlwZVN1YmxheWVyXCIpO3JldHVybiByLmRlbGV0ZUF0dGFjaG1lbnRzKGUsdCl9YXN5bmMgYXBwbHlFZGl0cyhlLHQpe2lmKCF0aGlzLnBhcmVudCl0aHJvdyBaKFwiYXBwbHlFZGl0c1wiKTtyZXR1cm4gdGhpcy5wYXJlbnQuYXBwbHlFZGl0cyhlLHQpfWNyZWF0ZVBvcHVwVGVtcGxhdGUoZSl7bGV0IHQ9dGhpcztjb25zdHtwYXJlbnQ6cixmaWVsZHM6aSx0aXRsZTpvfT10aGlzO2lmKHIpe2NvbnN0e2Rpc3BsYXlGaWVsZDplLGVkaXRGaWVsZHNJbmZvOm4sb2JqZWN0SWRGaWVsZDpsfT1yO3Q9e2Rpc3BsYXlGaWVsZDplLGVkaXRGaWVsZHNJbmZvOm4sZmllbGRzOmksb2JqZWN0SWRGaWVsZDpsLHRpdGxlOm99fXJldHVybiBEKHQsZSl9Y3JlYXRlUXVlcnkoKXtpZighdGhpcy5wYXJlbnQpdGhyb3cgWihcImNyZWF0ZVF1ZXJ5XCIpO2NvbnN0IGU9SSh0aGlzLnBhcmVudCksdD1gJHt0aGlzLnBhcmVudC5zdWJ0eXBlRmllbGR9PSR7dGhpcy5zdWJ0eXBlQ29kZX1gO3JldHVybiBlLndoZXJlPXUodCx0aGlzLnBhcmVudC5kZWZpbml0aW9uRXhwcmVzc2lvbiksZX1nZXRGZWF0dXJlVGl0bGUoZSx0KXtyZXR1cm4gdGhpcy5fdGl0bGVDcmVhdG9yLmdldFRpdGxlKHRoaXMsZSx0KX1nZXRGZWF0dXJlVGl0bGVzKGUsdCl7cmV0dXJuIHRoaXMuX3RpdGxlQ3JlYXRvci5nZXRUaXRsZXModGhpcyxlLHQpfWdldEZpZWxkKGUpe3JldHVybiB0aGlzLmZpZWxkc0luZGV4LmdldChlKX1nZXRGaWVsZERvbWFpbihlLHQpe2lmKCF0Py5leGNsdWRlSW1wbGllZERvbWFpbnMmJnRoaXMucGFyZW50KXtjb25zdCB0PU8odGhpcy5wYXJlbnQsZSk7aWYodClyZXR1cm4gdH1yZXR1cm4gdGhpcy5fZ2V0TGF5ZXJEb21haW4oZSl9YXN5bmMgcXVlcnlBdHRhY2htZW50cyhlLHQpe2NvbnN0IHI9YXdhaXQgdGhpcy5sb2FkKCk7aWYoIXIucGFyZW50KXRocm93IFooXCJxdWVyeUF0dGFjaG1lbnRzXCIpO2NvbnN0IGk9ZS5jbG9uZSgpO3JldHVybiBpLndoZXJlPVkoaS53aGVyZSxyLnBhcmVudC5zdWJ0eXBlRmllbGQsci5zdWJ0eXBlQ29kZSksci5wYXJlbnQucXVlcnlBdHRhY2htZW50cyhlLHQpfWFzeW5jIHF1ZXJ5RmVhdHVyZUNvdW50KGUsdCl7Y29uc3Qgcj1hd2FpdCB0aGlzLmxvYWQoKTtpZighci5wYXJlbnQpdGhyb3cgWihcInF1ZXJ5RmVhdHVyZUNvdW50XCIpO3JldHVybiByLnBhcmVudC5xdWVyeUZlYXR1cmVDb3VudChYKHIucGFyZW50LHIsZSksdCl9YXN5bmMgcXVlcnlGZWF0dXJlcyhlLHQpe2NvbnN0IHI9YXdhaXQgdGhpcy5sb2FkKCk7aWYoIXIucGFyZW50KXRocm93IFooXCJxdWVyeUZlYXR1cmVzXCIpO3JldHVybiByLnBhcmVudC5xdWVyeUZlYXR1cmVzKFgoci5wYXJlbnQscixlKSx0KX1hc3luYyBxdWVyeU9iamVjdElkcyhlLHQpe2NvbnN0IHI9YXdhaXQgdGhpcy5sb2FkKCk7aWYoIXIucGFyZW50KXRocm93IFooXCJxdWVyeU9iamVjdElkc1wiKTtyZXR1cm4gci5wYXJlbnQucXVlcnlPYmplY3RJZHMoWChyLnBhcmVudCxyLGUpLHQpfWFzeW5jIHF1ZXJ5UmVsYXRlZEZlYXR1cmVzKGUsdCl7Y29uc3Qgcj1hd2FpdCB0aGlzLmxvYWQoKTtpZighci5wYXJlbnQpdGhyb3cgWihcInF1ZXJ5UmVsYXRlZEZlYXR1cmVzXCIpO3JldHVybiByLnBhcmVudC5xdWVyeVJlbGF0ZWRGZWF0dXJlcyhlLHQpfWFzeW5jIHF1ZXJ5UmVsYXRlZEZlYXR1cmVzQ291bnQoZSx0KXtjb25zdCByPWF3YWl0IHRoaXMubG9hZCgpO2lmKCFyLnBhcmVudCl0aHJvdyBaKFwicXVlcnlSZWxhdGVkRmVhdHVyZXNDb3VudFwiKTtyZXR1cm4gci5wYXJlbnQucXVlcnlSZWxhdGVkRmVhdHVyZXNDb3VudChlLHQpfV9nZXRMYXllckRvbWFpbihlKXtjb25zdCB0PXRoaXMuZmllbGRzSW5kZXguZ2V0KGUpO3JldHVybiB0P3QuZG9tYWluOm51bGx9fTtlKFt5KHtjbG9uYWJsZTohMSxyZWFkT25seTohMH0pXSxLLnByb3RvdHlwZSxcIl90aXRsZUNyZWF0b3JcIixudWxsKSxlKFt5KHt0eXBlOiQsanNvbjpRKHtuYW1lOlwiYXR0cmlidXRlVGFibGVJbmZvXCJ9KX0pXSxLLnByb3RvdHlwZSxcImF0dHJpYnV0ZVRhYmxlVGVtcGxhdGVcIix2b2lkIDApLGUoW3koe3JlYWRPbmx5OiEwLGpzb246e3JlYWQ6ITF9fSldLEsucHJvdG90eXBlLFwiY2FwYWJpbGl0aWVzXCIsbnVsbCksZShbeSh7cmVhZE9ubHk6ITAsanNvbjp7cmVhZDohMX19KV0sSy5wcm90b3R5cGUsXCJlZmZlY3RpdmVDYXBhYmlsaXRpZXNcIixudWxsKSxlKFt5KHtqc29uOlEoKX0pXSxLLnByb3RvdHlwZSxcImNoYXJ0c1wiLHZvaWQgMCksZShbeSh7dHlwZTpCb29sZWFuLG5vbk51bGxhYmxlOiEwLGpzb246USh7bmFtZTpcImVuYWJsZUVkaXRpbmdcIn0pfSldLEsucHJvdG90eXBlLFwiZWRpdGluZ0VuYWJsZWRcIix2b2lkIDApLGUoW3koe3R5cGU6Qm9vbGVhbixyZWFkT25seTohMH0pXSxLLnByb3RvdHlwZSxcImVmZmVjdGl2ZUVkaXRpbmdFbmFibGVkXCIsbnVsbCksZShbeSh7cmVhZE9ubHk6ITAsanNvbjp7cmVhZDohMX19KV0sSy5wcm90b3R5cGUsXCJlbGV2YXRpb25JbmZvXCIsbnVsbCksZShbeSh7Y2xvbmFibGU6ITEscmVhZE9ubHk6ITB9KV0sSy5wcm90b3R5cGUsXCJmZWF0dXJlVGl0bGVGaWVsZHNcIixudWxsKSxlKFt5KHtqc29uOntuYW1lOlwibGF5ZXJEZWZpbml0aW9uLmZpZWxkT3ZlcnJpZGVzXCIsb3JpZ2luczp7c2VydmljZTp7cmVhZDohMX19LHdyaXRlOntpZ25vcmVPcmlnaW46ITAsYWxsb3dOdWxsOiEwfX19KV0sSy5wcm90b3R5cGUsXCJmaWVsZE92ZXJyaWRlc1wiLHZvaWQgMCksZShbZihcImZpZWxkT3ZlcnJpZGVzXCIpXSxLLnByb3RvdHlwZSxcIndyaXRlRmllbGRPdmVycmlkZXNcIixudWxsKSxlKFt5KHsuLi5NLmZpZWxkcyxyZWFkT25seTohMCxqc29uOntyZWFkOiExfX0pXSxLLnByb3RvdHlwZSxcImZpZWxkc1wiLG51bGwpLGUoW3koTS5maWVsZHNJbmRleCldLEsucHJvdG90eXBlLFwiZmllbGRzSW5kZXhcIix2b2lkIDApLGUoW3koe3JlYWRPbmx5OiEwLGpzb246e3JlYWQ6ITF9fSldLEsucHJvdG90eXBlLFwiZmxvb3JJbmZvXCIsbnVsbCksZShbeSh7dHlwZTpiLGpzb246USh7bmFtZTpcImZvcm1JbmZvXCJ9KX0pXSxLLnByb3RvdHlwZSxcImZvcm1UZW1wbGF0ZVwiLHZvaWQgMCksZShbeSh7dHlwZTpTdHJpbmcsY2xvbmFibGU6ITEsanNvbjp7b3JpZ2luczp7c2VydmljZTp7cmVhZDohMX0sXCJwb3J0YWwtaXRlbVwiOntyZWFkOiExfX0sd3JpdGU6e2lnbm9yZU9yaWdpbjohMH19fSldLEsucHJvdG90eXBlLFwiaWRcIix2b2lkIDApLGUoW3koe3JlYWRPbmx5OiEwLGpzb246e3JlYWQ6ITF9fSldLEsucHJvdG90eXBlLFwiaXNUYWJsZVwiLG51bGwpLGUoW3koe3JlYWRPbmx5OiEwLGpzb246e3JlYWQ6ITF9fSldLEsucHJvdG90eXBlLFwiZ2VvbWV0cnlUeXBlXCIsbnVsbCksZShbeSh7cmVhZE9ubHk6ITAsanNvbjp7cmVhZDohMX19KV0sSy5wcm90b3R5cGUsXCJnbG9iYWxJZEZpZWxkXCIsbnVsbCksZShbeSh7cmVhZE9ubHk6ITAsanNvbjp7cmVhZDohMX19KV0sSy5wcm90b3R5cGUsXCJ0eXBlXCIsdm9pZCAwKSxlKFt5KGsobihqKSkpXSxLLnByb3RvdHlwZSxcImxhYmVsc1Zpc2libGVcIix2b2lkIDApLGUoW3koe3R5cGU6W3FdLGpzb246e25hbWU6XCJsYXllckRlZmluaXRpb24uZHJhd2luZ0luZm8ubGFiZWxpbmdJbmZvXCIsb3JpZ2luczp7c2VydmljZTp7cmVhZDohMX19LHJlYWQ6e3JlYWRlcjp4fSx3cml0ZTp7aWdub3JlT3JpZ2luOiEwLGxheWVyQ29udGFpbmVyVHlwZXM6aH19fSldLEsucHJvdG90eXBlLFwibGFiZWxpbmdJbmZvXCIsdm9pZCAwKSxlKFt5KHt0eXBlOltcIkFyY0dJU0ZlYXR1cmVMYXllclwiXSxyZWFkT25seTohMCxqc29uOntyZWFkOiExLHdyaXRlOntpZ25vcmVPcmlnaW46ITAsbGF5ZXJDb250YWluZXJUeXBlczpofX19KV0sSy5wcm90b3R5cGUsXCJsYXllclR5cGVcIix2b2lkIDApLGUoW3koayhuKHYpKSldLEsucHJvdG90eXBlLFwibGVnZW5kRW5hYmxlZFwiLHZvaWQgMCksZShbeSh7dHlwZTpbXCJzaG93XCIsXCJoaWRlXCJdfSldLEsucHJvdG90eXBlLFwibGlzdE1vZGVcIix2b2lkIDApLGUoW3koKCgpPT57Y29uc3QgZT1uKHcpO3JldHVybiBlLmpzb24ub3JpZ2lucy5zZXJ2aWNlLnJlYWQ9ITEsayhlLHtzcGF0aWFsT25seTohMH0pfSkoKSldLEsucHJvdG90eXBlLFwibWluU2NhbGVcIix2b2lkIDApLGUoW3koKCgpPT57Y29uc3QgZT1uKEYpO3JldHVybiBlLmpzb24ub3JpZ2lucy5zZXJ2aWNlLnJlYWQ9ITEsayhlLHtzcGF0aWFsT25seTohMH0pfSkoKSldLEsucHJvdG90eXBlLFwibWF4U2NhbGVcIix2b2lkIDApLGUoW3koe3JlYWRPbmx5OiEwfSldLEsucHJvdG90eXBlLFwiZWZmZWN0aXZlU2NhbGVSYW5nZVwiLG51bGwpLGUoW3koe3JlYWRPbmx5OiEwLGpzb246e3JlYWQ6ITF9fSldLEsucHJvdG90eXBlLFwib2JqZWN0SWRGaWVsZFwiLG51bGwpLGUoW3koe3R5cGU6TnVtYmVyLHJhbmdlOnttaW46MCxtYXg6MX0sbm9uTnVsbGFibGU6ITAsanNvbjpRKHtzcGF0aWFsT25seTohMH0pfSldLEsucHJvdG90eXBlLFwib3BhY2l0eVwiLHZvaWQgMCksZShbeSh7Y2xvbmFibGU6ITF9KV0sSy5wcm90b3R5cGUsXCJwYXJlbnRcIix2b2lkIDApLGUoW3koayhuKFQpKSldLEsucHJvdG90eXBlLFwicG9wdXBFbmFibGVkXCIsdm9pZCAwKSxlKFt5KHt0eXBlOnQsanNvbjpRKHtuYW1lOlwicG9wdXBJbmZvXCJ9KX0pXSxLLnByb3RvdHlwZSxcInBvcHVwVGVtcGxhdGVcIix2b2lkIDApLGUoW3koe3JlYWRPbmx5OiEwfSldLEsucHJvdG90eXBlLFwiZGVmYXVsdFBvcHVwVGVtcGxhdGVcIixudWxsKSxlKFt5KHtyZWFkT25seTohMCxqc29uOntyZWFkOiExfX0pXSxLLnByb3RvdHlwZSxcInJlbGF0aW9uc2hpcHNcIixudWxsKSxlKFt5KHt0eXBlczpSLGpzb246USh7dGFyZ2V0OlwibGF5ZXJEZWZpbml0aW9uLmRyYXdpbmdJbmZvLnJlbmRlcmVyXCIsc3BhdGlhbE9ubHk6ITB9KX0pXSxLLnByb3RvdHlwZSxcInJlbmRlcmVyXCIsbnVsbCksZShbYyhcInNlcnZpY2VcIixcInJlbmRlcmVyXCIsW1wiZHJhd2luZ0luZm8ucmVuZGVyZXJcIixcInN1YnR5cGVGaWVsZFwiLFwidHlwZVwiXSldLEsucHJvdG90eXBlLFwicmVhZFJlbmRlcmVyRnJvbVNlcnZpY2VcIixudWxsKSxlKFtjKFwicmVuZGVyZXJcIixbXCJsYXllckRlZmluaXRpb24uZHJhd2luZ0luZm8ucmVuZGVyZXJcIl0pXSxLLnByb3RvdHlwZSxcInJlYWRSZW5kZXJlclwiLG51bGwpLGUoW3koe3JlYWRPbmx5OiEwLGpzb246e3JlYWQ6ITF9fSldLEsucHJvdG90eXBlLFwic3BhdGlhbFJlZmVyZW5jZVwiLG51bGwpLGUoW3koe3R5cGU6TnVtYmVyLGpzb246e29yaWdpbnM6e3NlcnZpY2U6e3JlYWQ6ITF9fSx3cml0ZTp7aWdub3JlT3JpZ2luOiEwfX19KV0sSy5wcm90b3R5cGUsXCJzdWJ0eXBlQ29kZVwiLHZvaWQgMCksZShbeSh7cmVhZE9ubHk6ITAsanNvbjp7cmVhZDohMX19KV0sSy5wcm90b3R5cGUsXCJzdWJ0eXBlRmllbGRcIixudWxsKSxlKFt5KHt0eXBlOltTXSxqc29uOlEoe25hbWU6XCJsYXllckRlZmluaXRpb24udGVtcGxhdGVzXCJ9KX0pXSxLLnByb3RvdHlwZSxcInRlbXBsYXRlc1wiLHZvaWQgMCksZShbYyhcInNlcnZpY2VcIixcInRlbXBsYXRlc1wiLFtcImdlb21ldHJ5VHlwZVwiLFwic3VidHlwZUZpZWxkXCIsXCJzdWJ0eXBlc1wiLFwidHlwZVwiXSldLEsucHJvdG90eXBlLFwicmVhZFRlbXBsYXRlc0Zyb21TZXJ2aWNlXCIsbnVsbCksZShbeSh7dHlwZTpTdHJpbmcsanNvbjpRKCl9KV0sSy5wcm90b3R5cGUsXCJ0aXRsZVwiLHZvaWQgMCksZShbYyhcInNlcnZpY2VcIixcInRpdGxlXCIsW1wic3VidHlwZXNcIl0pXSxLLnByb3RvdHlwZSxcInJlYWRUaXRsZUZyb21TZXJ2aWNlXCIsbnVsbCksZShbeSh7cmVhZE9ubHk6ITAsanNvbjp7cmVhZDohMX19KV0sSy5wcm90b3R5cGUsXCJ1cmxcIixudWxsKSxlKFt5KHtyZWFkT25seTohMH0pXSxLLnByb3RvdHlwZSxcInVzZXJIYXNVcGRhdGVJdGVtUHJpdmlsZWdlc1wiLG51bGwpLGUoW3koe3R5cGU6Qm9vbGVhbixub25OdWxsYWJsZTohMCxqc29uOlEoe25hbWU6XCJ2aXNpYmlsaXR5XCIsc3BhdGlhbE9ubHk6ITB9KX0pXSxLLnByb3RvdHlwZSxcInZpc2libGVcIix2b2lkIDApLEs9ZShbbShcImVzcmkubGF5ZXJzLnN1cHBvcnQuU3VidHlwZVN1YmxheWVyXCIpXSxLKTtjb25zdCBYPShlLHQscik9PntpZighcilyZXR1cm4gdC5jcmVhdGVRdWVyeSgpO2NvbnN0IGk9Xy5mcm9tKHIpO3JldHVybiBpLndoZXJlPVkoaS53aGVyZSxlLnN1YnR5cGVGaWVsZCx0LnN1YnR5cGVDb2RlKSxpfSxZPShlLHQscik9Pntjb25zdCBpPW5ldyBSZWdFeHAoYCR7dH1cXFxccyo9XFxcXHMqXFxcXGQrYCksbz1gJHt0fT0ke3J9YCxuPWU/P1wiXCI7cmV0dXJuIGkudGVzdChuKT9uLnJlcGxhY2UoaSxvKTp1KG8sbil9LFo9ZT0+bmV3IGkoXCJzdWJ0eXBlLXN1YmxheWVyOnBhcmVudC1taXNzaW5nXCIsYFRoaXMgc3VibGF5ZXIgbXVzdCBoYXZlIGEgcGFyZW50IFN1YnR5cGVHcm91cExheWVyIGluIG9yZGVyIHRvIHVzZSAke2V9YCk7ZXhwb3J0e0sgYXMgZGVmYXVsdH07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4zMy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e2NyZWF0ZVVuaXF1ZUNvbG9ycyBhcyBlfWZyb21cIi4uLy4uL2NvcmUvY29sb3JVdGlscy5qc1wiO2ltcG9ydHtjcmVhdGVUeXBlUmVhZGVyIGFzIHJ9ZnJvbVwiLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZXh0ZW5zaW9ucy9zZXJpYWxpemFibGVQcm9wZXJ0eS9yZWFkZXIuanNcIjtpbXBvcnQgcyBmcm9tXCIuLi8uLi9yZW5kZXJlcnMvQ2xhc3NCcmVha3NSZW5kZXJlci5qc1wiO2ltcG9ydCBvIGZyb21cIi4uLy4uL3JlbmRlcmVycy9SZW5kZXJlci5qc1wiO2ltcG9ydCBuIGZyb21cIi4uLy4uL3JlbmRlcmVycy9TaW1wbGVSZW5kZXJlci5qc1wiO2ltcG9ydCB0IGZyb21cIi4uLy4uL3JlbmRlcmVycy9VbmlxdWVWYWx1ZVJlbmRlcmVyLmpzXCI7aW1wb3J0e2FwcGx5Q0lNU3ltYm9sQ29sb3IgYXMgbH1mcm9tXCIuLi8uLi9zeW1ib2xzL3N1cHBvcnQvY2ltU3ltYm9sVXRpbHMuanNcIjtpbXBvcnR7Z2V0Q29sb3JGcm9tU3ltYm9sIGFzIG0sYXBwbHlDb2xvclRvU3ltYm9sIGFzIHB9ZnJvbVwiLi4vLi4vc3ltYm9scy9zdXBwb3J0L3V0aWxzLmpzXCI7Y29uc3QgZj17a2V5OlwidHlwZVwiLGJhc2U6byxlcnJvckNvbnRleHQ6XCJyZW5kZXJlclwiLHR5cGVNYXA6e3NpbXBsZTpuLFwidW5pcXVlLXZhbHVlXCI6dCxcImNsYXNzLWJyZWFrc1wiOnN9fSxpPXIoe3R5cGVzOmZ9KTtmdW5jdGlvbiBjKGUscil7Y29uc3Qgcz1lLmRyYXdpbmdJbmZvPy5yZW5kZXJlcixvPXM/aShzLGUscik6bnVsbDtpZihcInNpbXBsZVwiIT09bz8udHlwZSlyZXR1cm47cmV0dXJuIG0oby5zeW1ib2wsbnVsbCk/by5zeW1ib2wuY2xvbmUoKTpudWxsfWNvbnN0IHU9W1wiI2VkNTE1MVwiLFwiIzE0OWVjZVwiLFwiI2E3YzYzNlwiLFwiIzllNTU5Y1wiLFwiI2ZjOTIxZlwiLFwiI2ZmZGUzZVwiLFwiI2Y3ODlkOFwiLFwiI2I3ODE0YVwiLFwiIzNjYWY5OVwiLFwiIzZiNmJkNlwiLFwiI2I1NDc3OVwiLFwiIzdmN2Y3ZlwiXTtmdW5jdGlvbiBhKHIscyl7cmV0dXJuIGUodSxyLHtvZmZzZXQ6ITAsc2h1ZmZsZTohMH0pLnJldmVyc2UoKS5tYXAoKGU9Pntjb25zdCByPXMuY2xvbmUoKTtyZXR1cm5cImNpbVwiPT09ci50eXBlP2wocixlKTpwKHIsZSksbmV3IG4oe3N5bWJvbDpyfSl9KSl9ZXhwb3J0e2EgYXMgY3JlYXRlU2ltcGxlUmVuZGVyZXJzV2l0aFVuaXF1ZUNvbG9ycyxjIGFzIGdldFN5bWJvbFdpdGhDb2xvclN1cHBvcnQsaSBhcyByZW5kZXJlclJlYWRlcixmIGFzIHN1cHBvcnRlZFJlbmRlcmVyVHlwZXN9O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9