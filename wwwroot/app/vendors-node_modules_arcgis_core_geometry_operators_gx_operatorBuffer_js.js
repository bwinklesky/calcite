export const __webpack_id__ = "vendors-node_modules_arcgis_core_geometry_operators_gx_operatorBuffer_js";
export const __webpack_ids__ = ["vendors-node_modules_arcgis_core_geometry_operators_gx_operatorBuffer_js"];
export const __webpack_modules__ = {

/***/ "./node_modules/@arcgis/core/chunks/Bufferer-Dw9Qi4T1.js":
/*!***************************************************************!*\
  !*** ./node_modules/@arcgis/core/chunks/Bufferer-Dw9Qi4T1.js ***!
  \***************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   B: () => (/* binding */ U)
/* harmony export */ });
/* harmony import */ var _tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _Geometry_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Geometry.js */ "./node_modules/@arcgis/core/chunks/Geometry.js");
/* harmony import */ var _SimpleGeometryCursor_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./SimpleGeometryCursor.js */ "./node_modules/@arcgis/core/chunks/SimpleGeometryCursor.js");
/* harmony import */ var _Envelope_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Envelope.js */ "./node_modules/@arcgis/core/chunks/Envelope.js");
/* harmony import */ var _Point2D_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./Point2D.js */ "./node_modules/@arcgis/core/chunks/Point2D.js");
/* harmony import */ var _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./MultiPathImpl.js */ "./node_modules/@arcgis/core/chunks/MultiPathImpl.js");
/* harmony import */ var _Envelope2D_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./Envelope2D.js */ "./node_modules/@arcgis/core/chunks/Envelope2D.js");
/* harmony import */ var _Transformation2D_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./Transformation2D.js */ "./node_modules/@arcgis/core/chunks/Transformation2D.js");
/* harmony import */ var _GeometryCleaner_BEJM7I4l_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./GeometryCleaner-BEJM7I4l.js */ "./node_modules/@arcgis/core/chunks/GeometryCleaner-BEJM7I4l.js");
/* harmony import */ var _ProjectionTransformation_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./ProjectionTransformation.js */ "./node_modules/@arcgis/core/chunks/ProjectionTransformation.js");
/* harmony import */ var _OperatorSimplifyOGC_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./OperatorSimplifyOGC.js */ "./node_modules/@arcgis/core/chunks/OperatorSimplifyOGC.js");
/* harmony import */ var _OperatorGeneralize_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./OperatorGeneralize.js */ "./node_modules/@arcgis/core/chunks/OperatorGeneralize.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
var L;function q(e,t,s,i,n,r){return{m_from:e.clone(),m_to:t.clone(),m_center:s.clone(),m_next:n,m_type:i}}function z(e,t,s,i,n){return{m_from:e.clone(),m_to:t.clone(),m_next:s,m_type:4,m_center:new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P}}!function(e){e[e.enumDummy=256]="enumDummy",e[e.enumLine=1]="enumLine",e[e.enumArc=2]="enumArc",e[e.enumMiter=8]="enumMiter",e[e.enumBevel=16]="enumBevel",e[e.enumJoinMask=26]="enumJoinMask",e[e.enumConnectionMask=27]="enumConnectionMask"}(L||(L={}));class G extends _SimpleGeometryCursor_js__WEBPACK_IMPORTED_MODULE_2__.G{constructor(e,t,s,i,n,r,m,o,a,h){super(),this.m_index=0,this.m_bufferedPolygon=null,this.m_x=0,this.m_y=0,this.m_progressTracker=h,this.m_parent=e,this.m_mp=t,this.m_distance=s,this.m_spatialReference=i,this.m_densifyDist=o,this.m_maxVertexInCompleteCircle=a,this.m_joins=n,this.m_caps=r,this.m_miterLimit=m}next(){const e=new _Envelope_js__WEBPACK_IMPORTED_MODULE_3__.P;for(;;){if(this.m_index===this.m_mp.getPointCount())return null;if(1===this.m_caps)return this.m_index=this.m_mp.getPointCount(),new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_5__.a({vd:this.m_mp.getDescription()});if(this.m_mp.getPointByVal(this.m_index,e),this.m_index++,!e.isEmpty())break}let t,s=!1;if(null===this.m_bufferedPolygon&&(this.m_x=e.getX(),this.m_y=e.getY(),this.m_bufferedPolygon=this.m_parent.buffer(e,this.m_distance,this.m_spatialReference,this.m_joins,this.m_caps,this.m_miterLimit,this.m_densifyDist,this.m_maxVertexInCompleteCircle),s=!0),t=this.m_index<this.m_mp.getPointCount()?this.m_bufferedPolygon.clone():this.m_bufferedPolygon,!s){const s=new _Transformation2D_js__WEBPACK_IMPORTED_MODULE_7__.T,i=e.getX()-this.m_x,n=e.getY()-this.m_y;s.setShiftCoords(i,n),t.applyTransformation(s)}return (0,_Envelope_js__WEBPACK_IMPORTED_MODULE_3__.s)(t,0),t}getGeometryID(){return 0}getRank(){return 1}tock(){return!0}}class N extends _SimpleGeometryCursor_js__WEBPACK_IMPORTED_MODULE_2__.G{constructor(e){super(),this.m_currentPathIndex=0,this.m_polyline=e}next(){if(!this.m_polyline)return null;const e=this.m_polyline.getImpl(),t=e.getPathCount();if(this.m_currentPathIndex<t){const t=this.m_currentPathIndex;if(this.m_currentPathIndex++,!e.isClosedPathInXYPlane(t)){let s=e.getXY(e.getPathEnd(t)-1);for(;this.m_currentPathIndex<e.getPathCount();){const t=e.getXY(e.getPathStart(this.m_currentPathIndex));if(e.isClosedPathInXYPlane(this.m_currentPathIndex))break;if(!t.equals(s))break;s=e.getXY(e.getPathEnd(this.m_currentPathIndex)-1),this.m_currentPathIndex++}}if(0===t&&this.m_currentPathIndex===this.m_polyline.getPathCount()){const e=this.m_polyline;return this.m_polyline=null,e}const s=new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_5__.P({vd:this.m_polyline.getDescription()});s.addPath(this.m_polyline,t,!0);for(let i=t+1;i<this.m_currentPathIndex;i++)s.addSegmentsFromPath(this.m_polyline,i,0,e.getSegmentCountPath(i),!1);return this.m_currentPathIndex===this.m_polyline.getPathCount()&&(this.m_polyline=null),s}return null}getGeometryID(){return 0}getRank(){return 1}tock(){return!0}}class O extends _SimpleGeometryCursor_js__WEBPACK_IMPORTED_MODULE_2__.G{constructor(e,t,s){super(),this.m_geometry=null,this.m_index=0,this.m_bufferer=e,this.m_geoms=t,this.m_index=0,this.m_bFilter=s}next(){if(null===this.m_geometry&&(this.m_index=0,this.m_geometry=this.m_geoms.next(),!this.m_geometry))return null;const e=this.m_geometry.getImpl();if(this.m_index<e.getPathCount()){const e=this.m_index;this.m_index++;return this.m_bufferer.bufferPolylinePath(this.m_geometry,e,this.m_bFilter)}return this.m_geometry=null,this.next()}getGeometryID(){return 0}getRank(){return 1}tock(){return!0}}class J extends _SimpleGeometryCursor_js__WEBPACK_IMPORTED_MODULE_2__.G{constructor(e){super(),this.m_index=0,this.m_bufferer=e}next(){const e=this.m_bufferer.m_geometry;if(this.m_index<e.getPathCount()){const t=this.m_index,s=e.calculateRingArea2D(this.m_index);for((0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(s>0),this.m_index++;this.m_index<e.getPathCount();){if(e.calculateRingArea2D(this.m_index)>0)break;this.m_index++}let i;return i=0===t&&this.m_index===e.getPathCount()?this.m_bufferer.bufferPolygonImpl(e,0,e.getPathCount()):this.m_bufferer.bufferPolygonImpl(e,t,this.m_index),i}return null}getGeometryID(){return 0}getRank(){return 1}tock(){return!0}}class U{constructor(e){this.m_geometry=null,this.m_bufferCommands=[],this.m_originalGeomType=_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumUnknown,this.m_maxVertexInCompleteCircle=-1,this.m_circleTemplateSize=-1,this.m_oldCircleTemplateSize=0,this.m_spatialReference=null,this.m_tolerance=new _Envelope_js__WEBPACK_IMPORTED_MODULE_3__.C(0,0),this.m_smallTolerance=new _Envelope_js__WEBPACK_IMPORTED_MODULE_3__.C(0,0),this.m_filterTolerance=0,this.m_densifyDist=-1,this.m_distance=Number.NaN,this.m_absDistance=0,this.m_absDistanceReversed=0,this.m_dA=-1,this.m_miterLimit=4,this.m_joins=0,this.m_caps=0,this.m_bRoundBuffer=!0,this.m_bOutputLoops=!0,this.m_bFilter=!0,this.m_circleTemplate=[],this.m_leftStack=[],this.m_middleStack=[],this.m_helperLine1=new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_5__.L,this.m_helperLine2=new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_5__.L,this.m_helperArray=[],this.m_progressCounter=0,this.m_densificator=_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_5__.D.constructDefault(e),this.m_progressTracker=e}buffer(e,t,s,l,c,u,f,_){if(e||(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.a)("Geometry.Bufferer.Impl.Buffer"),f<0&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.a)("Geometry.Bufferer.Impl.Buffer"),(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.j)(e.getGeometryType())&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.t)("Unsupported geometry type."),e.isEmpty())return new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_5__.a({vd:e.getDescription()});if(this.m_joins=l,this.m_caps=c,this.m_bRoundBuffer=!1,this.m_miterLimit=u,this.m_originalGeomType=e.getGeometryType(),(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.k)(this.m_originalGeomType)?this.m_bRoundBuffer=0===this.m_joins:(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.e)(this.m_originalGeomType)?this.m_bRoundBuffer=0===this.m_caps:(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.l)(this.m_originalGeomType)&&(this.m_bRoundBuffer=0===this.m_joins&&0===this.m_caps),this.m_bFilter=this.m_bRoundBuffer,this.m_geometry=(0,_GeometryCleaner_BEJM7I4l_js__WEBPACK_IMPORTED_MODULE_8__.c)(e),this.m_geometry.isEmpty())return new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_5__.a({vd:e.getDescription()});const d=new _Envelope2D_js__WEBPACK_IMPORTED_MODULE_6__.Envelope2D;this.m_geometry.queryLooseEnvelope(d),t>0&&d.inflateCoords(t,t),this.m_tolerance=(0,_Envelope_js__WEBPACK_IMPORTED_MODULE_3__.c)(s,d,!0),this.m_smallTolerance=(0,_Envelope_js__WEBPACK_IMPORTED_MODULE_3__.c)(null,d,!0),_<=0&&(_=96),this.m_spatialReference=s,this.m_distance=t,this.m_absDistance=Math.abs(this.m_distance),this.m_absDistanceReversed=0!==this.m_absDistance?1/this.m_absDistance:0,Number.isNaN(f)||0===f?f=1e-5*this.m_absDistance:f>.5*this.m_absDistance&&(f=.5*this.m_absDistance),_<12&&(_=12);const p=Math.abs(t)*(1-Math.cos(Math.PI/_));if(p>f)f=p;else if(0!==t){const e=Math.PI/Math.acos(1-f/Math.abs(t));e<_-1&&(_=Math.trunc(e))<12&&(_=12,f=Math.abs(t)*(1-Math.cos(Math.PI/_)))}this.m_densifyDist=f,this.m_maxVertexInCompleteCircle=_,this.m_filterTolerance=this.m_bRoundBuffer?Math.min(this.m_smallTolerance.total(),.25*this.m_densifyDist):0,this.m_circleTemplateSize=this.calcN(),this.m_circleTemplateSize!==this.m_oldCircleTemplateSize&&(this.m_circleTemplate.length=0,this.m_oldCircleTemplateSize=this.m_circleTemplateSize),this.m_densifyDist>0&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.m)(this.m_geometry)&&(this.m_geometry=this.m_densificator.densifyEx(this.m_geometry,0,this.m_densifyDist,0,0!==this.m_joins,(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.i)()));const b=this.bufferImpl();return this.m_geometry=null,b}generateCircleTemplate(){if(this.m_circleTemplate.length)return;const e=this.m_circleTemplateSize,t=Math.trunc((e+3)/4),s=.5*Math.PI/t;this.m_dA=s,this.m_circleTemplate=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P,4*t);const i=Math.cos(s),n=Math.sin(s),r=_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P.construct(0,1);for(let m=0;m<t;m++)this.m_circleTemplate[m+0*t].setCoords(r.y,-r.x),this.m_circleTemplate[m+1*t].setCoords(-r.x,-r.y),this.m_circleTemplate[m+2*t].setCoords(-r.y,r.x),this.m_circleTemplate[m+3*t].setCoords(r.x,r.y),r.rotateReverse(i,n)}bufferImpl(){const e=this.m_geometry.getGeometryType();if((0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.f)(e)){const e=new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_5__.P({vd:this.m_geometry.getDescription()});return e.addSegment(this.m_geometry,!0),this.m_geometry=e,this.bufferImpl()}if(this.m_distance<=this.m_tolerance.total()){if(!(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.k)(e))return new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_5__.a({vd:this.m_geometry.getDescription()});if(this.m_distance<0){const e=new _Envelope2D_js__WEBPACK_IMPORTED_MODULE_6__.Envelope2D;if(this.m_geometry.queryEnvelope(e),e.width()<=2*this.m_absDistance||e.height()<=2*this.m_absDistance)return new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_5__.a({vd:this.m_geometry.getDescription()})}}switch(this.m_geometry.getGeometryType()){case _Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumPoint:return this.bufferPoint();case _Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumMultiPoint:return this.bufferMultiPoint();case _Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumPolyline:return this.bufferPolyline();case _Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumPolygon:return this.bufferPolygon();case _Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumEnvelope:return this.bufferEnvelope();default:(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.d)("")}}bufferPolyline(){if(this.isDegenerateGeometry(this.m_geometry)){const e=new _Envelope_js__WEBPACK_IMPORTED_MODULE_3__.P;this.m_geometry.getPointByVal(0,e);const t=new _Envelope2D_js__WEBPACK_IMPORTED_MODULE_6__.Envelope2D;return this.m_geometry.queryEnvelope(t),e.setXY(t.getCenter()),this.bufferDegeneratePath(e,!0)}const e=this.m_geometry,t=this.m_geometry.getDescription();this.m_geometry=null;const s=new N(e);let i,n;i=0===this.m_joins?(new _OperatorGeneralize_js__WEBPACK_IMPORTED_MODULE_11__.O).executeMany(s,.25*this.m_densifyDist,!1,this.m_progressTracker):s,n=this.m_bRoundBuffer?(new _OperatorSimplifyOGC_js__WEBPACK_IMPORTED_MODULE_10__.O).executeMany(i,null,!0,this.m_progressTracker):i;const r=new O(this,n,this.m_bFilter),m=(new _ProjectionTransformation_js__WEBPACK_IMPORTED_MODULE_9__.j).executeMany(r,this.m_spatialReference,this.m_progressTracker,2),o=(new _ProjectionTransformation_js__WEBPACK_IMPORTED_MODULE_9__.O).executeMany(m,this.m_spatialReference,!1,this.m_progressTracker).next();return null!==o?o:new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_5__.a({vd:t})}bufferPolygon(){if(0===this.m_distance)return this.m_geometry;this.generateCircleTemplate();const e=(new _ProjectionTransformation_js__WEBPACK_IMPORTED_MODULE_9__.O).execute(this.m_geometry,null,!1,this.m_progressTracker);if(this.m_distance<0){if(this.m_geometry=e,this.m_geometry.isEmpty())return this.m_geometry;const t=this.m_geometry,s=this.bufferPolygonImpl(t,0,t.getPathCount());return(new _ProjectionTransformation_js__WEBPACK_IMPORTED_MODULE_9__.O).execute(s,this.m_spatialReference,!1,this.m_progressTracker)}{if(this.m_geometry=e,this.isDegenerateGeometry(this.m_geometry)){const e=new _Envelope_js__WEBPACK_IMPORTED_MODULE_3__.P;this.m_geometry.getPointByVal(0,e);const t=new _Envelope2D_js__WEBPACK_IMPORTED_MODULE_6__.Envelope2D;return this.m_geometry.queryEnvelope(t),e.setXY(t.getCenter()),this.bufferDegeneratePath(e,!0)}const t=new J(this),s=(new _ProjectionTransformation_js__WEBPACK_IMPORTED_MODULE_9__.j).executeMany(t,this.m_spatialReference,this.m_progressTracker,2),i=(new _ProjectionTransformation_js__WEBPACK_IMPORTED_MODULE_9__.O).executeMany(s,this.m_spatialReference,!1,this.m_progressTracker).next();return null!==i?i:new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_5__.a({vd:this.m_geometry.getDescription()})}}bufferPolygonImpl(e,t,s){const i=e,n=i.getImpl();let r=new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_5__.a({vd:e.getDescription()});for(let m=t;m<s;m++){if(n.getPathSize(m)<1)continue;const t=n.calculateRingArea2D(m),s=new _Envelope2D_js__WEBPACK_IMPORTED_MODULE_6__.Envelope2D;if(n.queryPathEnvelope(m,s),this.m_distance>0)if(t>0)if(this.isDegeneratePath(n,m)){const e=new _Envelope_js__WEBPACK_IMPORTED_MODULE_3__.P;n.getPointByVal(n.getPathStart(m),e),e.setXY(s.getCenter()),r.add(this.bufferDegeneratePath(e,!0),!1)}else{const t=new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_5__.P({vd:e.getDescription()}),s=t.getImpl();if((0,_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_5__.i)(this.m_geometry,m)){const e=this.bufferConvexPath(i,m);r.add(e,!1)}else{this.bufferClosedPath(this.m_geometry,m,s,this.m_bRoundBuffer,1);const e=this.bufferCleanup(t);r.add(e,!1)}}else{if(s.width()+this.m_tolerance.total()<=2*this.m_absDistance||s.height()+this.m_tolerance.total()<=2*this.m_absDistance)continue;const t=new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_5__.P({vd:e.getDescription()}),i=t.getImpl();if(this.bufferClosedPath(this.m_geometry,m,i,this.m_bRoundBuffer,1),!t.isEmpty()){const e=s,n=Math.max(1,this.m_absDistance),m=e.clone();m.inflateCoords(n,n),i.addEnvelope(m,!1);const o=this.bufferCleanup(t);r.reserve(r.getPointCount()+o.getPointCount()-4),ee(o,r,m,!0)}}else if(t>0){if(s.width()+this.m_tolerance.total()<=2*this.m_absDistance||s.height()+this.m_tolerance.total()<=2*this.m_absDistance)continue;const t=new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_5__.P({vd:e.getDescription()}),i=t.getImpl();if(this.bufferClosedPath(this.m_geometry,m,i,this.m_bRoundBuffer,-1),!t.isEmpty()){const e=new _Envelope2D_js__WEBPACK_IMPORTED_MODULE_6__.Envelope2D;i.queryLooseEnvelope(e);const s=Math.max(1,this.m_absDistance),n=e.clone();n.inflateCoords(s,s),i.addEnvelope(n,!1);ee(this.bufferCleanup(t),r,n,!0)}}else{const t=new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_5__.P({vd:e.getDescription()}),s=t.getImpl();this.bufferClosedPath(this.m_geometry,m,s,this.m_bRoundBuffer,-1);const i=this.bufferCleanup(t);for(let e=0,n=i.getPathCount();e<n;e++)r.addPath(i,e,!0)}}if(this.m_distance>0){if(r.getPathCount()>1){return this.bufferCleanup(r)}return H(r)}{const e=new _Envelope2D_js__WEBPACK_IMPORTED_MODULE_6__.Envelope2D;if(r.queryLooseEnvelope(e),r.isEmpty())return H(r);{const t=Math.max(1,this.m_absDistance),s=e.clone();s.inflateCoords(t,t),r.addEnvelope(s,!1);const i=this.bufferCleanup(r);r=new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_5__.a;const n=new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_5__.a({vd:i.getDescription()});return ee(i,n,s,!1),H(n)}}}bufferPoint(){return this.bufferPointImpl(this.m_geometry)}bufferPointImpl(e){const t=new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_5__.a({vd:e.getDescription()});return 0===this.m_caps?(this.addCircle(t.getImpl(),e),this.setStrongSimple(t)):2===this.m_caps?(this.addSquare(t.getImpl(),e),this.setStrongSimple(t)):t}bufferDegeneratePath(e,t){const s=new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_5__.a({vd:e.getDescription()});return t&&0===this.m_joins||!t&&0===this.m_caps?(this.addCircle(s.getImpl(),e),this.setStrongSimple(s)):t||2!==this.m_caps?s:(this.addSquare(s.getImpl(),e),this.setStrongSimple(s))}bufferMultiPoint(){const e=new G(this,this.m_geometry,this.m_distance,this.m_spatialReference,this.m_joins,this.m_caps,this.m_miterLimit,this.m_densifyDist,this.m_maxVertexInCompleteCircle,this.m_progressTracker);return(new _ProjectionTransformation_js__WEBPACK_IMPORTED_MODULE_9__.j).executeMany(e,this.m_spatialReference,this.m_progressTracker,2).next()}bufferEnvelope(){let e=new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_5__.a({vd:this.m_geometry.getDescription()});if(this.m_distance<=0){if(0===this.m_distance)e.addEnvelope(this.m_geometry,!1),K(this.m_geometry,this.m_tolerance.total())&&(e=this.setStrongSimple(e));else{const t=new _Envelope_js__WEBPACK_IMPORTED_MODULE_3__.E;this.m_geometry.queryEnvelope(t),t.inflateCoords(this.m_distance,this.m_distance),e.addEnvelope(t,!1),K(t,this.m_tolerance.total())&&(e=this.setStrongSimple(e))}return e}if(1===this.m_joins){const t=new _Envelope_js__WEBPACK_IMPORTED_MODULE_3__.E({copy:this.m_geometry});return t.inflateCoords(this.m_absDistance,this.m_absDistance),e.addEnvelope(t,!1),e}const t=this.m_geometry.clone();if(0===t.width()||0===t.height()){if(0===t.width()&&0===t.height()){const e=new _Envelope_js__WEBPACK_IMPORTED_MODULE_3__.P({vd:this.m_geometry.getDescription()});return t.queryCornerByVal(0,e),this.m_geometry=e,this.bufferImpl()}const e=new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_5__.P({vd:this.m_geometry.getDescription()}),s=new _Envelope_js__WEBPACK_IMPORTED_MODULE_3__.P;return t.queryCornerByVal(0,s),e.startPathPoint(s),t.queryCornerByVal(2,s),e.lineToPoint(s),this.m_geometry=e,this.bufferImpl()}return e.addEnvelope(this.m_geometry,!1),this.m_geometry=e,this.bufferConvexPath(e,0)}bufferConvexPath(e,t){this.generateCircleTemplate();const s=e.hasAttribute(10),i=new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_5__.a({vd:e.getDescription()}),n=i.getImpl();i.reserve((this.m_circleTemplate.length/10+4)*e.getPathSize(t));const r=new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P,m=new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P,o=new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P,a=new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P(0,0),h=new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P,l=new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P,u=e.getImpl(),f=e.getPathSize(t),_=e.getPathStart(t);for(let g=0,d=e.getPathSize(t);g<d;g++){const e=u.getXY(_+g),t=u.getXY(_+(g+1)%f),i=u.getXY(_+(g+2)%f);h.setSub(t,e),0===h.length()&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.d)("");const d=s&&!!(1&u.getAttributeAsInt(10,(g+1)%f,0));h.normalize();const p=h.clone();h.leftPerpendicularThis(),h.scale(this.m_absDistance),r.setAdd(h,e),m.setAdd(h,t),0===g?n.startPath(r):n.lineTo(r),n.lineTo(m),l.setSub(i,t),0===l.length()&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.d)(""),l.normalize();const b=l.clone();l.leftPerpendicularThis(),l.scale(this.m_absDistance),o.setAdd(l,t);let P=L.enumArc;const y=d?0:this.m_joins;if(2===y)P=L.enumBevel;else if(1===y){const e=-p.crossProduct(b);a.setSub(p,b),a.scale(this.m_absDistance/e),a.length()<this.m_miterLimit*this.m_absDistance?(a.addThis(t),P=L.enumMiter):P=L.enumBevel}else a.assign(t);this.addJoin(P,n,a,m,o,!1,!1)}return H(i)}bufferPolylinePath(e,t,s){this.generateCircleTemplate();const i=e,n=i.getImpl();if(n.getPathSize(t)<1)return null;let r;if(r=this.m_bRoundBuffer?n.isClosedPathInXYPlane(t):n.isClosedPath(t),this.isDegeneratePath(n,t)&&this.m_distance>0){const e=new _Envelope_js__WEBPACK_IMPORTED_MODULE_3__.P;n.getPointByVal(n.getPathStart(t),e);const s=new _Envelope2D_js__WEBPACK_IMPORTED_MODULE_6__.Envelope2D;return n.queryPathEnvelope(t,s),e.setXY(s.getCenter()),this.bufferDegeneratePath(e,r)}const m=new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_5__.P({vd:e.getDescription()});m.reserve((Math.trunc(this.m_circleTemplate.length/10)+4)*n.getPathSize(t));const o=m.getImpl();return r?2!==this.bufferClosedPath(i,t,o,s,1)&&this.bufferClosedPath(i,t,o,s,-1):this.bufferOpenPath(i,t,o,s),this.bufferCleanup(m)}progress_(){}bufferCleanup(e,t=!1){const s=t?this.m_tolerance:this.m_smallTolerance;return (0,_ProjectionTransformation_js__WEBPACK_IMPORTED_MODULE_9__.p)(e,s,!0,!t,-1,this.m_progressTracker,0,!1)}calcN(){const e=4;if(0===this.m_densifyDist)return this.m_maxVertexInCompleteCircle;const t=1-this.m_densifyDist*Math.abs(this.m_absDistanceReversed);let s=e;return s=t<-1?e:2*Math.PI/Math.acos(t)+.5,s<e?s=e:s>this.m_maxVertexInCompleteCircle&&(s=this.m_maxVertexInCompleteCircle),Math.trunc(s)}addJoin(e,t,s,i,n,r,m){if(this.generateCircleTemplate(),r&&(t.startPath(i),r=!1),e===L.enumBevel)return void(m&&t.lineTo(n));if(e===L.enumMiter){const e=s.clone();return t.lineTo(e),void(m&&t.lineTo(n))}const o=new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P;o.setSub(i,s),o.scale(this.m_absDistanceReversed);const a=new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P;a.setSub(n,s),a.scale(this.m_absDistanceReversed);let h=Math.atan2(o.y,o.x)/this.m_dA;h<0&&(h=this.m_circleTemplate.length+h),h=this.m_circleTemplate.length-h;let l=Math.atan2(a.y,a.x)/this.m_dA;l<0&&(l=this.m_circleTemplate.length+l),l=this.m_circleTemplate.length-l,l<h&&(l+=this.m_circleTemplate.length);let c=Math.trunc(l),u=Math.ceil(h),f=this.m_circleTemplate[u%this.m_circleTemplate.length].clone();f.scaleAddThis(this.m_absDistance,s);const _=10*this.m_tolerance.total();f.sub(i).length()<_&&(u+=1),f=this.m_circleTemplate[c%this.m_circleTemplate.length].clone(),f.scaleAddThis(this.m_absDistance,s),f.sub(n).length()<_&&(c-=1);let g=c-u;g++;for(let d=0,p=u%this.m_circleTemplate.length;d<g;d++,p=(p+1)%this.m_circleTemplate.length)f=this.m_circleTemplate[p].clone(),f.scaleAddThis(this.m_absDistance,s),t.lineTo(f),this.progress_();m&&t.lineTo(n)}bufferClosedPath(e,t,s,i,n){const r=new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_5__.E,m=r.addPathFromMultiPath(e,t,!0);return this.bufferClosedPathImpl(r,m,s,i,n)}bufferClosedPathImpl(e,t,s,i,n){const r=e.getFirstVertex(e.getFirstPath(t)),m=new _Envelope_js__WEBPACK_IMPORTED_MODULE_3__.P;e.queryPoint(r,m),e.filterClosePoints(this.m_filterTolerance,!1,!1,!1,-1);if(e.getPointCount(t)<2)return n<0?0:(this.m_bRoundBuffer&&this.addCircle(s,m),2);(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(e.getFirstPath(t)!==_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_5__.n),(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(e.getFirstVertex(e.getFirstPath(t))!==_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_5__.n);const o=e.getXY(e.getFirstVertex(e.getFirstPath(t))),a=new _Transformation2D_js__WEBPACK_IMPORTED_MODULE_7__.T;if(a.setShift(o.negate()),e.applyTransformation(a),i){const i=$(e,t,n,!0,this.m_absDistance,this.m_filterTolerance,this.m_densifyDist);if((0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(1===i),e.getPointCount(t)<2)return n<0?0:(this.addCircle(s,m),2)}const h=0!==this.m_joins&&e.getVertexDescription().hasAttribute(10);this.m_bufferCommands.length=0;const l=e.getFirstPath(t);let c=e.getFirstVertex(l),f=1===n?e.getPrevVertex(c):e.getNextVertex(c),_=1===n?e.getNextVertex(c):e.getPrevVertex(c),g=!0;const p=new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P,b=new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P,P=new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P,y=new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P,C=new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P,D=new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P,w=new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P,T=new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P,v=this.m_absDistance,S=e.getPathSize(l),I=new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P(0,0);for(let u=0;u<S;u++){b.assign(e.getXY(_)),g&&(p.assign(e.getXY(c)),P.assign(e.getXY(f)),D.setSub(p,P),D.normalize(),T.leftPerpendicularOther(D),T.scale(v),y.setAdd(T,p));const t=h&&!!(1&e.getAttributeAsDbl(10,c,0));C.setSub(b,p),C.normalize(),w.leftPerpendicularOther(C),w.scale(v);const s=new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P;s.setAdd(p,w);const i=D.crossProduct(C),r=D.dotProduct(C);if(i<0||r<0&&i<Math.abs(r)*Number.EPSILON*8){let e=!1;const n=t?0:this.m_joins;if(1===n){const t=-i;I.setSub(D,C),I.scale(this.m_absDistance/t),I.length()<this.m_miterLimit*this.m_absDistance&&(I.addThis(p),e=!0),this.m_bufferCommands.push(q(y,s,I,e?L.enumMiter:L.enumBevel,this.m_bufferCommands.length+1))}else this.m_bufferCommands.push(q(y,s,p,0===n?L.enumArc:L.enumBevel,this.m_bufferCommands.length+1))}else y.equals(s)||(this.m_bufferCommands.push(z(y,p,this.m_bufferCommands.length+1)),this.m_bufferCommands.push(z(p,s,this.m_bufferCommands.length+1)));const m=new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P;m.setAdd(b,w),this.m_bufferCommands.push(q(s,m,p,L.enumLine,this.m_bufferCommands.length+1)),y.setCoordsPoint2D(m),T.setCoordsPoint2D(w),P.setCoordsPoint2D(p),p.setCoordsPoint2D(b),D.setCoordsPoint2D(C),f=c,c=_,g=!1,_=1===n?e.getNextVertex(c):e.getPrevVertex(c)}return this.m_bufferCommands.at(-1).m_next=0,this.processBufferCommands(s),a.setShift(o),s.applyTransformationToPath(a,s.getPathCount()-1),1}bufferOpenPath(e,t,s,i){if(this.m_bRoundBuffer){const n=new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_5__.P({vd:e.getDescription()});return n.addPath(e,t,!1),n.addSegmentsFromPath(e,t,0,e.getSegmentCountPath(t),!1),this.bufferClosedPath(n,0,s,i,1)}let n=0;const r=new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_5__.P({vd:e.getDescription()}),m=new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P(0,0);{const i=new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_5__.E,o=i.addPathFromMultiPath(e,t,!1),a=i.getFirstVertex(i.getFirstPath(o)),h=new _Envelope_js__WEBPACK_IMPORTED_MODULE_3__.P;i.queryPoint(a,h),m.assign(h.getXY()),i.filterClosePoints(0,!1,!1,!1,-1);if(i.getPointCount(o)<2)return this.m_bRoundBuffer&&this.addCircle(s,h),2;const l=i.getGeometry(i.getFirstGeometry());r.addPath(l,0,!1),n=r.getPointCount()-1,r.addSegmentsFromPath(l,0,0,l.getSegmentCountPath(0)-1,!1)}const o=new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_5__.E,a=o.addPathFromMultiPath(r,0,!0);(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(o.getFirstPath(a)!==_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_5__.n),(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(o.getFirstVertex(o.getFirstPath(a))!==_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_5__.n);const h=new _Transformation2D_js__WEBPACK_IMPORTED_MODULE_7__.T;h.setShift(m.negate()),o.applyTransformation(h),this.m_bufferCommands.length=0;const l=o.getFirstPath(a),c=0!==this.m_joins&&o.getVertexDescription().hasAttribute(10);let f=o.getFirstVertex(l),_=o.getPrevVertex(f),g=o.getNextVertex(f),p=!0;const b=new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P,P=new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P,y=new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P,C=new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P,D=new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P,w=new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P,T=new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P,v=new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P,S=this.m_absDistance,M=o.getPathSize(l),k=new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P(0,0);for(let u=0;u<M;u++){let e=!1;0!==u&&u!==n||(e=!0),P.assign(o.getXY(g)),p&&(b.assign(o.getXY(f)),y.assign(o.getXY(_)),w.setSub(b,y),w.normalize(),v.leftPerpendicularOther(w),v.scale(S),C.setAdd(v,b));const t=c&&!!(1&o.getAttributeAsDbl(10,f,0));D.setSub(P,b),D.normalize(),T.leftPerpendicularOther(D),T.scale(S);const s=new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P;s.setAdd(b,T);const i=w.crossProduct(D),r=w.dotProduct(D);if(i<0||r<0&&i<Math.abs(r)*Number.EPSILON*8)if(e)if(0===this.m_caps)this.m_bufferCommands.push(q(C,s,b,L.enumArc,this.m_bufferCommands.length+1));else if(1===this.m_caps)this.m_bufferCommands.push(q(C,s,b,L.enumLine,this.m_bufferCommands.length+1));else{const e=D.mul(this.m_absDistance).negate(),t=e.clone();e.addThis(C),t.addThis(s),this.m_bufferCommands.push(q(C,e,b,L.enumLine,this.m_bufferCommands.length+1)),this.m_bufferCommands.push(q(e,t,b,L.enumLine,this.m_bufferCommands.length+1)),this.m_bufferCommands.push(q(t,s,b,L.enumLine,this.m_bufferCommands.length+1))}else{let e=!1;const n=t?0:this.m_joins;if(1===n){const t=-i;k.setSub(w,D),k.scale(this.m_absDistance/t),k.length()<this.m_miterLimit*this.m_absDistance&&(k.addThis(b),e=!0),this.m_bufferCommands.push(q(C,s,k,e?L.enumMiter:L.enumBevel,this.m_bufferCommands.length+1))}else this.m_bufferCommands.push(q(C,s,b,0===n?L.enumArc:L.enumBevel,this.m_bufferCommands.length+1))}else C.equals(s)||(this.m_bufferCommands.push(z(C,b,this.m_bufferCommands.length+1)),this.m_bufferCommands.push(z(b,s,this.m_bufferCommands.length+1)));const m=new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P;m.setAdd(P,T),this.m_bufferCommands.push(q(s,m,b,L.enumLine,this.m_bufferCommands.length+1)),C.setCoordsPoint2D(m),v.setCoordsPoint2D(T),y.setCoordsPoint2D(b),b.setCoordsPoint2D(P),w.setCoordsPoint2D(D),_=f,f=g,p=!1,g=o.getNextVertex(f)}return this.m_bufferCommands.at(-1).m_next=0,this.processBufferCommands(s),h.setShift(m),s.applyTransformationToPath(h,s.getPathCount()-1),1}processBufferCommands(e){const t=this.cleanupBufferCommands();let s=!0,i=t+1;for(let n=t;i!==t;n=i){const t=this.m_bufferCommands[n];i=-1!==t.m_next?t.m_next:(n+1)%this.m_bufferCommands.length,t.m_type&&(s&&(e.startPath(t.m_from),s=!1),t.m_type&L.enumJoinMask?this.addJoin(t.m_type,e,t.m_center,t.m_from,t.m_to,!1,!0):e.lineTo(t.m_to))}}cleanupBufferCommands(){this.m_helperArray=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.m)(_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P,9);let e=0;for(let s=0,i=this.m_bufferCommands.length;s<i;){const t=this.m_bufferCommands[s];if(t.m_type&L.enumConnectionMask){e=s;break}s=t.m_next}let t=e+1;for(let s=e;t!==e;s=t){const e=this.m_bufferCommands[s];t=e.m_next;let i=1,n=null;for(;t!==s&&(n=this.m_bufferCommands[t],!(n.m_type&L.enumConnectionMask));)t=n.m_next,i++;if(1!==i&&(e.m_type&n.m_type)===L.enumLine){this.m_helperLine1.setStartXY(e.m_from),this.m_helperLine1.setEndXY(e.m_to),this.m_helperLine2.setStartXY(n.m_from),this.m_helperLine2.setEndXY(n.m_to);1===this.m_helperLine1.intersect(this.m_helperLine2,this.m_helperArray,null,null,this.m_smallTolerance.total())&&(e.m_to.assign(this.m_helperArray[0]),n.m_from.assign(this.m_helperArray[0]),e.m_next=t)}}return e}isDegeneratePath(e,t){if(1===e.getPathSize(t))return!0;if(0===this.m_joins&&0===this.m_caps){const s=new _Envelope2D_js__WEBPACK_IMPORTED_MODULE_6__.Envelope2D;if(e.queryPathEnvelope(t,s),Math.max(s.width(),s.height())<.5*this.m_densifyDist)return!0}return!1}isDegenerateGeometry(e){if(0===this.m_joins&&0===this.m_caps){const t=new _Envelope2D_js__WEBPACK_IMPORTED_MODULE_6__.Envelope2D;if(e.queryEnvelope(t),Math.max(t.width(),t.height())<.5*this.m_densifyDist)return!0}return!1}addCircle(e,t){const s=t.getXY();if(0!==this.m_circleTemplate.length){let t=this.m_circleTemplate[0].clone();t.scaleAddThis(this.m_absDistance,s),e.startPath(t);for(let i=1,n=this.m_circleTemplate.length;i<n;i++)t=this.m_circleTemplate[i].clone(),t.scaleAddThis(this.m_absDistance,s),e.lineTo(t);return}const i=this.m_circleTemplateSize,n=Math.trunc((i+3)/4),r=.5*Math.PI/n;e.reserve(4*n);const m=Math.cos(r),o=Math.sin(r);for(let a=3;a>=0;a--){const t=_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P.construct(0,this.m_absDistance);switch(a){case 0:for(let i=0;i<n;i++)e.lineToCoords(t.x+s.x,t.y+s.y),t.rotateReverse(m,o);break;case 1:for(let i=0;i<n;i++)e.lineToCoords(-t.y+s.x,t.x+s.y),t.rotateReverse(m,o);break;case 2:for(let i=0;i<n;i++)e.lineToCoords(-t.x+s.x,-t.y+s.y),t.rotateReverse(m,o);break;default:e.startPathCoords(t.y+s.x,-t.x+s.y);for(let i=1;i<n;i++)t.rotateReverse(m,o),e.lineToCoords(t.y+s.x,-t.x+s.y)}this.progress_()}}addSquare(e,t){const s=new _Envelope_js__WEBPACK_IMPORTED_MODULE_3__.E({vd:t.getDescription()});s.setCoords(t.getX(),t.getY(),t.getX(),t.getY()),s.inflateCoords(this.m_absDistance,this.m_absDistance),e.addEnvelope(s,!1)}setStrongSimple(e){return e.getImpl().setIsSimple(4,this.m_tolerance.total()),e.getImpl().updateOGCFlagsProtected(),e}}function H(e){return (0,_Envelope_js__WEBPACK_IMPORTED_MODULE_3__.s)(e,0),e}function K(e,t){return!!e.isEmpty()||Math.min(e.width(),e.height())>t}function Q(e,t,s,i,n,r,m,o){const a=e.getXY(s),h=e.getXY(i);if(a.equals(h))return-1;const l=.25*m,c=.25*m,f=new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P;f.setSub(h,a);const _=f.length(),g=_*_*.25,d=r*r-g;if(d<=g)return-1;const p=Math.sqrt(d);f.normalize();const b=f.clone();b.rightPerpendicularThis();const P=g/p,y=P<=c,C=_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P.lerp(h,a,.5),T=b.clone(),v=P-l;T.scaleAddThis(Math.max(0,v),C);b.negate().scaleAddThis(p,C);const S=3.61*(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.a)(r-c),I=T.sub(a),M=T.sub(h);let E=!1,V=0;const k=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.d)(64,0);(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(o===k.length);{for(let o=e.getPrevVertexEx(i,n);o!==s;){if(1===e.getUserIndex(o,t))return-1;if(!e.getXY(o).equals(h))break;{const t=e.getPrevVertexEx(o,n);e.removeVertex(o,!1),o=t}}const r=new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P,m=a.clone();k[V++]=1;for(let o=e.getNextVertexEx(s,n);o!==i;){if(1===e.getUserIndex(o,t))return-1;const s=e.getXY(o);if(s.equals(m)){const t=e.getNextVertexEx(o,n);e.removeVertex(o,!1),o=t;continue}k[V++]=0;const i=new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P;if(i.setSub(s,a),i.dotProduct(b)<0)return 0;(_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P.sqrDistance(s,a)>S||_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P.sqrDistance(s,h)>S)&&(E=!0);let l=0;s.sub(a).crossProduct(I)>=0&&(l=1);if(s.sub(h).crossProduct(M)<=0&&(l|=2),0===l)return 0;k[V-1]=l,r.assign(m),m.assign(s),o=e.getNextVertexEx(o,n)}if(1===V)return 0;(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(V<k.length),k[V++]=2}let B=!0;for(let u=1,x=0;u<V;u++)if(k[u]!==k[u-1]&&(x++,B=x<3&&(1===x&&3===k[u]||2===x&&2===k[u]),!B))return 0;if(V>2&&B&&(3===V||!E)){let t=0,r=e.getNextVertexEx(s,n);for(y||(e.setXY(r,T),r=e.getNextVertexEx(r,n));r!==i;){const s=e.getNextVertexEx(r,n);e.removeVertex(r,!1),r=s,++t}return t}if((0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(3!==V),E&&V>3)return 0;const R=a.clone();let A=s;const X=a.clone();let Y=1,j=-1,F=A,L=0;for(V=1;F!==i;){F=e.getNextVertexEx(F,n);const t=k[V++];if(0===t){if(F===i)break;continue}const s=e.getXY(F);if(-1!==j){if(3&(j&Y&t)){e.removeVertex(A,!0),L++,A=F,X.setCoordsPoint2D(s),Y=t;continue}if(3===Y&&0!==j&&0!==t){if(X.setCoordsPoint2D(T),y||X.equals(R)){e.removeVertex(A,!0),L++,A=F,X.setCoordsPoint2D(s),Y=t;continue}e.setXY(A,X)}}j=Y,R.setCoordsPoint2D(X),A=F,Y=t,X.setCoordsPoint2D(s)}return L}function W(e,t,s,i){let n=-1;const r=new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P,m=new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P,o=new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P;for(let a=0,h=e.getPathSize(i),l=e.getFirstVertex(i);a<h;++a){-1===n&&(e.queryXY(l,m),n=e.getPrevVertex(l),-1!==n&&(e.queryXY(n,r),o.setSub(m,r),o.normalize()));const s=e.getNextVertex(l);if(-1===s)break;const i=e.getXY(s),a=i.sub(m);if(a.normalize(),-1!==n){a.dotProduct(o)<-.99&&Math.abs(a.crossProduct(o))<1e-7&&e.setUserIndex(l,t,1)}n=l,l=s,r.assign(m),m.assign(i),o.assign(a)}}function Z(s,i,n,r,m,o,a){const h={stack:[],error:void 0,hasError:!1};try{const t=s.getFirstPath(i),r=s.createUserIndex();(0,_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.b)(h,(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.h)((()=>{s.removeUserIndex(r)}),!1),!1),W(s,r,i,t);for(let e=0;e<100;++e){if(0===s.getPathSize(t))return 1;let e=s.getFirstVertex(t),i=s.getPathSize(t);if(i<3)return 1;s.isClosedPath(t)||(i-=1);const o=64;let h=0,l=!1;for(let t=0;t<i&&e!==_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_5__.n;t++){let c=0,u=e;for(let h=1,l=Math.min(o,i-t);h<l;h++)if(u=s.getNextVertexEx(u,n),h>1){const t=Q(s,r,e,u,n,m,a,o);if(-1===t)break;c+=t,i-=t}if(h+=c,l=c>0,l){const t=s.getPrevVertexEx(e,n);if(-1!==t){e=t,i++;continue}}e=s.getNextVertexEx(e,n)}if(0===h)break}return s.filterClosePoints(o,!1,!1,!1,-1),1}catch(l){h.error=l,h.hasError=!0}finally{(0,_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.c)(h)}}function $(e,t,s,i,n,r,m){return Z(e,t,s,i,n,r,m)}function ee(e,t,s,i){for(let n=0,r=e.getPathCount();n<r;n++){const r=e.getXY(e.getPathStart(n));r.x!==s.xmin&&r.x!==s.xmax&&t.addPath(e,n,i)}}


/***/ }),

/***/ "./node_modules/@arcgis/core/chunks/GeometryCleaner-BEJM7I4l.js":
/*!**********************************************************************!*\
  !*** ./node_modules/@arcgis/core/chunks/GeometryCleaner-BEJM7I4l.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   c: () => (/* binding */ i)
/* harmony export */ });
/* harmony import */ var _Geometry_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Geometry.js */ "./node_modules/@arcgis/core/chunks/Geometry.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
function i(i,a){const f=i.getGeometryType();return f===_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.G.enumPoint?r(i):(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.h)(f)?u(i):f===_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.G.enumMultiPoint?o(i):f===_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.G.enumEnvelope?i:f===_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.G.enumMultipatch?((0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.t)("not implemented for multipatch"),i):i}function r(t){return t}function u(e){if(a(e))return e;const n=e.createInstance();for(let i=0,r=e.getPathCount();i<r;i++){const r=e.getPathSize(i);if(0!==r){if(1===r){if(0===e.getSegmentCountPath(i))continue;if(e.getSegmentType(e.getPathStart(i))===_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.G.enumLine)continue;if(!e.isClosedPath(i))continue}n.addPath(e,i,!0)}}return n}function o(t){return t}function a(e){for(let n=0,i=e.getPathCount();n<i;n++){const i=e.getPathSize(n);if(0===i)return!1;if(1===i){if(0===e.getSegmentCountPath(n))return!1;if(e.getSegmentType(e.getPathStart(n))===_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.G.enumLine)return!1;if(!e.isClosedPath(n))return!1}}return!0}


/***/ }),

/***/ "./node_modules/@arcgis/core/chunks/OperatorGeneralize.js":
/*!****************************************************************!*\
  !*** ./node_modules/@arcgis/core/chunks/OperatorGeneralize.js ***!
  \****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   O: () => (/* binding */ P)
/* harmony export */ });
/* harmony import */ var _tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _SimpleGeometryCursor_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./SimpleGeometryCursor.js */ "./node_modules/@arcgis/core/chunks/SimpleGeometryCursor.js");
/* harmony import */ var _Geometry_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Geometry.js */ "./node_modules/@arcgis/core/chunks/Geometry.js");
/* harmony import */ var _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./MultiPathImpl.js */ "./node_modules/@arcgis/core/chunks/MultiPathImpl.js");
/* harmony import */ var _Envelope_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./Envelope.js */ "./node_modules/@arcgis/core/chunks/Envelope.js");
/* harmony import */ var _Point2D_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./Point2D.js */ "./node_modules/@arcgis/core/chunks/Point2D.js");
/* harmony import */ var _OperatorDensify_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./OperatorDensify.js */ "./node_modules/@arcgis/core/chunks/OperatorDensify.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
class P{getOperatorType(){return 10204}supportsCurves(){return!0}accelerateGeometry(t,e,s){return!1}canAccelerateGeometry(t){return!1}executeMany(t,e,s,i){return new y(t,e,s,i)}execute(t,e,s,r){t||(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_2__.a)("null param is not allowed.");return new y(null,e,s,r).generalize(t)}}class y extends _SimpleGeometryCursor_js__WEBPACK_IMPORTED_MODULE_1__.G{constructor(t,e,s,i){super(),this.m_pline=null,this.m_point=new _Envelope_js__WEBPACK_IMPORTED_MODULE_4__.P,this.m_stack=[],this.m_resultstack=[],this.m_callCount=0,this.m_progressTracker=i,this.m_geoms=t,this.m_maxDeviation=e,this.m_bRemoveDegenerateParts=s}tock(){return!0}getRank(){return 1}next(){const t=this.m_geoms.next();return null===t?null:((0,_Geometry_js__WEBPACK_IMPORTED_MODULE_2__.c)(t),this.generalize(t))}getGeometryID(){return this.m_geoms.getGeometryID()}generalize(s){const i=s.getGeometryType();if((0,_Geometry_js__WEBPACK_IMPORTED_MODULE_2__.e)(i))return s;if(i===_Geometry_js__WEBPACK_IMPORTED_MODULE_2__.G.enumEnvelope){const t=new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_3__.a({vd:s.getDescription()});return t.addEnvelope(s,!1),this.generalize(t)}if((0,_Geometry_js__WEBPACK_IMPORTED_MODULE_2__.f)(i)){const t=new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_3__.P({vd:s.getDescription()});return t.addSegment(s,!0),this.generalize(t)}if((0,_Geometry_js__WEBPACK_IMPORTED_MODULE_2__.h)(i)||(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_2__.t)(""),s.isEmpty()||this.m_maxDeviation<=0)return s;const r=(new _OperatorDensify_js__WEBPACK_IMPORTED_MODULE_6__.O).execute(s,0,.05*this.m_maxDeviation,0,this.m_progressTracker);s.hasNonLinearSegments()&&(this.m_maxDeviation*=.95);const _=r,p=s.createInstance();if(p.getGeometryType()===_Geometry_js__WEBPACK_IMPORTED_MODULE_2__.G.enumPolygon){p.setFillRule(s.getFillRule())}this.m_xy=_.getAttributeStreamRef(0);{const s={stack:[],error:void 0,hasError:!1};try{const e=new _MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_3__.L;this.m_pline=e,(0,_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.b)(s,(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_5__.h)((()=>{this.m_pline=null}),!1),!1);for(let t=0,s=_.getPathCount();t<s;t++)this.generalizePath(_.getImpl(),t,p.getImpl())}catch(k){s.error=k,s.hasError=!0}finally{(0,_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.c)(s)}}return this.m_resultstack.length=0,this.m_stack.length=0,p}generalizePath(t,e,s){if(t.getPathSize(e)<2)return;this.m_resultstack.length=0,this.m_stack.length=0;const i=t.getPathStart(e),r=t.getPathEnd(e)-1,a=t.isClosedPath(e),n=t.isClosedPathInXYPlane(e);let h=0,m=-1;this.m_stack.push(a?i:r),this.m_stack.push(i);let l=!1,o=!1;for(!this.m_bRemoveDegenerateParts&&n&&(l=!0,o=!0);this.m_stack.length>1;){const e=this.m_stack.at(-1);this.m_stack.pop();const s=this.m_stack.at(-1);let i=t.getXY(e);this.m_pline.setStartXY(i),i=t.getXY(s),this.m_pline.setEndXY(i);const a=[Number.NaN];let n=this.findGreatestDistance(e,s,r,a);n>=0&&(l?l=!1:(o&&a[0]>h&&(h=a[0],m=n),a[0]<=this.m_maxDeviation&&(n=-1))),n>=0?(this.m_stack.push(n),this.m_stack.push(e)):this.m_resultstack.push(e)}a||this.m_resultstack.push(this.m_stack[0]);const c=this.m_resultstack.length;if(c===t.getPathSize(e)&&c===this.m_stack.length)s.addPath(t,e,!0);else if(this.m_resultstack.length>0){if(this.m_bRemoveDegenerateParts&&this.m_resultstack.length<=2){if(a||1===this.m_resultstack.length)return;if(_Point2D_js__WEBPACK_IMPORTED_MODULE_5__.P.distance(t.getXY(this.m_resultstack[0]),t.getXY(this.m_resultstack[1]))<=this.m_maxDeviation)return}if(o&&m>=0&&h<=this.m_maxDeviation){const t=this.m_resultstack.at(-1)>m;this.m_resultstack.push(m),t&&(this.m_resultstack[this.m_resultstack.length-2]=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_5__.c)(this.m_resultstack[this.m_resultstack.length-1],this.m_resultstack[this.m_resultstack.length-1]=this.m_resultstack[this.m_resultstack.length-2]))}for(let e=0,i=this.m_resultstack.length;e<i;e++)t.getPointByVal(this.m_resultstack[e],this.m_point),0===e?s.startPathPoint(this.m_point):s.lineToPoint(this.m_point);if(a){for(let t=this.m_resultstack.length;t<3;t++)s.lineToPoint(this.m_point);s.closePathWithLine()}}}findGreatestDistance(t,e,s,i){let r=e-1;e<=t&&(r=s);let a=-1,n=0;const h=new _Point2D_js__WEBPACK_IMPORTED_MODULE_5__.P;for(let m=t+1;m<=r;m++){this.m_xy.queryPoint2D(2*m,h);const t=h.x,e=h.y,s=this.m_pline.getClosestCoordinate(h,!1);h.assign(this.m_pline.getCoord2D(s)),h.x-=t,h.y-=e;const i=h.length();i>n&&(a=m,n=i),this.m_callCount++}return i[0]=n,a}}


/***/ }),

/***/ "./node_modules/@arcgis/core/chunks/OperatorSimplifyOGC.js":
/*!*****************************************************************!*\
  !*** ./node_modules/@arcgis/core/chunks/OperatorSimplifyOGC.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   O: () => (/* binding */ m)
/* harmony export */ });
/* harmony import */ var _SimpleGeometryCursor_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./SimpleGeometryCursor.js */ "./node_modules/@arcgis/core/chunks/SimpleGeometryCursor.js");
/* harmony import */ var _Geometry_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Geometry.js */ "./node_modules/@arcgis/core/chunks/Geometry.js");
/* harmony import */ var _ProjectionTransformation_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ProjectionTransformation.js */ "./node_modules/@arcgis/core/chunks/ProjectionTransformation.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
class m{getOperatorType(){return 10104}accelerateGeometry(e,r,t){return!1}canAccelerateGeometry(e){return!1}supportsCurves(){return!0}isSimple(e,r,t,s,i){return 5===(0,_ProjectionTransformation_js__WEBPACK_IMPORTED_MODULE_2__.k)(e,r,t,s,i)}executeMany(e,r,t,s){return new u(e,r,t,s)}execute(r,s,i,n){const o=new _SimpleGeometryCursor_js__WEBPACK_IMPORTED_MODULE_0__.S([r]),m=this.executeMany(o,s,i,n).next();return m||(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.d)("null output"),m}}class u extends _SimpleGeometryCursor_js__WEBPACK_IMPORTED_MODULE_0__.G{constructor(e,r,t,i){super(),e||(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.a)(""),this.m_progressTracker=i,this.m_bForceSimplify=t,this.m_index=-1,this.m_inputGeometryCursor=e,this.m_spatialReference=r}next(){const e=this.m_inputGeometryCursor.next();return e?((0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.c)(e),this.m_index=this.m_inputGeometryCursor.getGeometryID(),this.simplify(e)):null}getGeometryID(){return this.m_index}tock(){return!1}getRank(){return 1}simplify(e){e||(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.a)("");return (0,_ProjectionTransformation_js__WEBPACK_IMPORTED_MODULE_2__.s)(e,this.m_spatialReference,this.m_bForceSimplify,this.m_progressTracker)}}


/***/ }),

/***/ "./node_modules/@arcgis/core/geometry/operators/gx/operatorBuffer.js":
/*!***************************************************************************!*\
  !*** ./node_modules/@arcgis/core/geometry/operators/gx/operatorBuffer.js ***!
  \***************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   execute: () => (/* binding */ f),
/* harmony export */   executeMany: () => (/* binding */ h),
/* harmony export */   executeManyEx: () => (/* binding */ l),
/* harmony export */   supportsCurves: () => (/* binding */ x)
/* harmony export */ });
/* harmony import */ var _chunks_SimpleGeometryCursor_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../chunks/SimpleGeometryCursor.js */ "./node_modules/@arcgis/core/chunks/SimpleGeometryCursor.js");
/* harmony import */ var _chunks_Geometry_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../chunks/Geometry.js */ "./node_modules/@arcgis/core/chunks/Geometry.js");
/* harmony import */ var _chunks_ProjectionTransformation_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../chunks/ProjectionTransformation.js */ "./node_modules/@arcgis/core/chunks/ProjectionTransformation.js");
/* harmony import */ var _chunks_Envelope2D_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../chunks/Envelope2D.js */ "./node_modules/@arcgis/core/chunks/Envelope2D.js");
/* harmony import */ var _chunks_Bufferer_Dw9Qi4T1_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../chunks/Bufferer-Dw9Qi4T1.js */ "./node_modules/@arcgis/core/chunks/Bufferer-Dw9Qi4T1.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
class m{getOperatorType(){return 10004}supportsCurves(){return!0}accelerateGeometry(e,t,r){return!1}canAccelerateGeometry(e){return!1}executeMany(e,t,r,n,s){return this.executeManyEx(e,t,r,Number.NaN,96,n,s)}execute(t,s,i,u){Number.isFinite(i)||(0,_chunks_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.a)("Invalid distance for buffer operation");const o=new _chunks_SimpleGeometryCursor_js__WEBPACK_IMPORTED_MODULE_0__.S([t]),m=[i],a=this.executeMany(o,s,m,!1,u).next();return a||(0,_chunks_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.d)("null buffer output"),a}executeManyEx(e,t,n,s,u,o,m){if(void 0!==n.find((e=>!Number.isFinite(e)))&&(0,_chunks_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.a)("Invalid distance for buffer operation"),o){const r=new a(e,t,n,s,u,!1,m);return(new _chunks_ProjectionTransformation_js__WEBPACK_IMPORTED_MODULE_2__.j).executeMany(r,t,m,2)}return new a(e,t,n,s,u,!1,m)}}class a extends _chunks_SimpleGeometryCursor_js__WEBPACK_IMPORTED_MODULE_0__.G{constructor(e,t,r,n,s,i,m){super(),this.m_currentUnionEnvelope2D=new _chunks_Envelope2D_js__WEBPACK_IMPORTED_MODULE_3__.Envelope2D,this.m_index=-1,this.m_dindex=-1,this.m_progressTracker=m,this.m_bufferer=new _chunks_Bufferer_Dw9Qi4T1_js__WEBPACK_IMPORTED_MODULE_4__.B(m),this.m_inputGeoms=e,this.m_spatialReference=t,this.m_distances=r,this.m_maxDeviation=n,this.m_maxVerticesInFullCircle=s}tock(){return!0}getRank(){return 1}next(){{let e;for(;e=this.m_inputGeoms.next();)return (0,_chunks_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.c)(e),this.m_index=this.m_inputGeoms.getGeometryID(),this.m_dindex+1<this.m_distances.length&&this.m_dindex++,this.buffer(e,this.m_distances[this.m_dindex]);return null}}getGeometryID(){return this.m_index}buffer(e,t){return this.m_bufferer.buffer(e,t,this.m_spatialReference,0,0,4,this.m_maxDeviation,this.m_maxVerticesInFullCircle)}}const c=new m;function f(e,t,r){return c.execute(e,t,r,null)}function h(t,r,n,s){const i=c.executeMany(new _chunks_SimpleGeometryCursor_js__WEBPACK_IMPORTED_MODULE_0__.S(t),r,n,s,null);return Array.from(i)}function l(t,r,n,s,i,u){const o=c.executeManyEx(new _chunks_SimpleGeometryCursor_js__WEBPACK_IMPORTED_MODULE_0__.S(t),r,n,s,i,u,null);return Array.from(o)}function x(){return c.supportsCurves()}


/***/ })

};

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmVuZG9ycy1ub2RlX21vZHVsZXNfYXJjZ2lzX2NvcmVfZ2VvbWV0cnlfb3BlcmF0b3JzX2d4X29wZXJhdG9yQnVmZmVyX2pzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDZ3JCLE1BQU0sd0JBQXdCLE9BQU8sc0VBQXNFLHNCQUFzQixPQUFPLCtEQUErRCwwQ0FBQyxFQUFFLGFBQWEsa09BQWtPLFNBQVMsR0FBRyxnQkFBZ0IsdURBQUMsQ0FBQyxpQ0FBaUMsbVJBQW1SLE9BQU8sWUFBWSwyQ0FBQyxDQUFDLE1BQU0sRUFBRSx3REFBd0QscUVBQXFFLGdEQUFDLEVBQUUsOEJBQThCLEVBQUUsNkVBQTZFLFdBQVcsc1dBQXNXLFlBQVksbURBQUMseUNBQXlDLCtDQUErQyxPQUFPLCtDQUFDLFFBQVEsZ0JBQWdCLFNBQVMsVUFBVSxTQUFTLE9BQU8sVUFBVSxnQkFBZ0IsdURBQUMsQ0FBQyxlQUFlLG9EQUFvRCxPQUFPLGdDQUFnQyxxREFBcUQsOEJBQThCLGdDQUFnQywwREFBMEQsaUNBQWlDLEtBQUsseUNBQXlDLEVBQUUseURBQXlELDBEQUEwRCxzQkFBc0IsOEVBQThFLG9FQUFvRSx3QkFBd0IsOEJBQThCLFlBQVksZ0RBQUMsRUFBRSxvQ0FBb0MsRUFBRSxnQ0FBZ0MsY0FBYywwQkFBMEIsMkVBQTJFLDBGQUEwRixZQUFZLGdCQUFnQixTQUFTLFVBQVUsU0FBUyxPQUFPLFVBQVUsZ0JBQWdCLHVEQUFDLENBQUMsbUJBQW1CLDZHQUE2RyxPQUFPLDZHQUE2RyxrQ0FBa0Msa0NBQWtDLHFCQUFxQixlQUFlLDRFQUE0RSx3Q0FBd0MsZ0JBQWdCLFNBQVMsVUFBVSxTQUFTLE9BQU8sVUFBVSxnQkFBZ0IsdURBQUMsQ0FBQyxlQUFlLHlDQUF5QyxPQUFPLG1DQUFtQyxrQ0FBa0MsMkRBQTJELElBQUksK0NBQUMscUJBQXFCLDhCQUE4QixFQUFFLCtDQUErQyxlQUFlLE1BQU0sOEpBQThKLFlB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c0RBQUMseUJBQXlCLDZCQUE2Qiw4Q0FBOEMsc0RBQUMsNkNBQTZDLDhCQUE4QixXQUFXLGtFQUFDLHVCQUF1Qiw4QkFBOEIsZ0JBQWdCLDhEQUFDLENBQUMsMkJBQTJCLDBDQUEwQyw2REFBQywrRUFBK0UsMkRBQUMsNEhBQTRILE9BQU8sU0FBUyxVQUFVLFNBQVMsUUFBUSxNQUFNLEtBQUssMkJBQTJCLFFBQVEsc0RBQUMsMkpBQTJKLGFBQWEsZ0JBQWdCLG9CQUFvQixZQUFZLHFIQUFxSCxjQUFjLGtCQUFrQiw2QkFBNkIsb0JBQW9CLDBCQUEwQiw4REFBQyxnQkFBZ0IscUJBQXFCLHdCQUF3Qiw0QkFBNEIsOERBQUMsb0JBQW9CLHFCQUFxQixhQUFhLDBCQUF1RyIsInNvdXJjZXMiOlsid2VicGFjazovL3ByZWNpc2lvbmZhcm1zLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS9jaHVua3MvQnVmZmVyZXItRHc5UWk0VDEuanMiLCJ3ZWJwYWNrOi8vcHJlY2lzaW9uZmFybXMvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL2NodW5rcy9HZW9tZXRyeUNsZWFuZXItQkVKTTdJNGwuanMiLCJ3ZWJwYWNrOi8vcHJlY2lzaW9uZmFybXMvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL2NodW5rcy9PcGVyYXRvckdlbmVyYWxpemUuanMiLCJ3ZWJwYWNrOi8vcHJlY2lzaW9uZmFybXMvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL2NodW5rcy9PcGVyYXRvclNpbXBsaWZ5T0dDLmpzIiwid2VicGFjazovL3ByZWNpc2lvbmZhcm1zLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS9nZW9tZXRyeS9vcGVyYXRvcnMvZ3gvb3BlcmF0b3JCdWZmZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMzMvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtiIGFzIGUsYyBhcyB0fWZyb21cIi4vdHNsaWIuZXM2LmpzXCI7aW1wb3J0e0cgYXMgcyxhIGFzIGksaiBhcyBuLHQgYXMgcixrIGFzIG0sZSBhcyBvLGwgYXMgYSxtIGFzIGgsZiBhcyBsLGQgYXMgYyxnIGFzIHV9ZnJvbVwiLi9HZW9tZXRyeS5qc1wiO2ltcG9ydHtHIGFzIGZ9ZnJvbVwiLi9TaW1wbGVHZW9tZXRyeUN1cnNvci5qc1wiO2ltcG9ydHtDIGFzIF8sYyBhcyBnLFAgYXMgZCxFIGFzIHAscyBhcyBifWZyb21cIi4vRW52ZWxvcGUuanNcIjtpbXBvcnR7aSBhcyBQLG0gYXMgeSxQIGFzIHgsaCBhcyBDLGQgYXMgRCxhIGFzIHd9ZnJvbVwiLi9Qb2ludDJELmpzXCI7aW1wb3J0e0wgYXMgVCxEIGFzIHYsYSBhcyBTLFAgYXMgSSxpIGFzIE0sRSxuIGFzIFZ9ZnJvbVwiLi9NdWx0aVBhdGhJbXBsLmpzXCI7aW1wb3J0e0VudmVsb3BlMkQgYXMga31mcm9tXCIuL0VudmVsb3BlMkQuanNcIjtpbXBvcnR7VCBhcyBCfWZyb21cIi4vVHJhbnNmb3JtYXRpb24yRC5qc1wiO2ltcG9ydHtjIGFzIFJ9ZnJvbVwiLi9HZW9tZXRyeUNsZWFuZXItQkVKTTdJNGwuanNcIjtpbXBvcnR7aiBhcyBBLE8gYXMgWCxwIGFzIFl9ZnJvbVwiLi9Qcm9qZWN0aW9uVHJhbnNmb3JtYXRpb24uanNcIjtpbXBvcnR7TyBhcyBqfWZyb21cIi4vT3BlcmF0b3JTaW1wbGlmeU9HQy5qc1wiO2ltcG9ydHtPIGFzIEZ9ZnJvbVwiLi9PcGVyYXRvckdlbmVyYWxpemUuanNcIjt2YXIgTDtmdW5jdGlvbiBxKGUsdCxzLGksbixyKXtyZXR1cm57bV9mcm9tOmUuY2xvbmUoKSxtX3RvOnQuY2xvbmUoKSxtX2NlbnRlcjpzLmNsb25lKCksbV9uZXh0Om4sbV90eXBlOml9fWZ1bmN0aW9uIHooZSx0LHMsaSxuKXtyZXR1cm57bV9mcm9tOmUuY2xvbmUoKSxtX3RvOnQuY2xvbmUoKSxtX25leHQ6cyxtX3R5cGU6NCxtX2NlbnRlcjpuZXcgeH19IWZ1bmN0aW9uKGUpe2VbZS5lbnVtRHVtbXk9MjU2XT1cImVudW1EdW1teVwiLGVbZS5lbnVtTGluZT0xXT1cImVudW1MaW5lXCIsZVtlLmVudW1BcmM9Ml09XCJlbnVtQXJjXCIsZVtlLmVudW1NaXRlcj04XT1cImVudW1NaXRlclwiLGVbZS5lbnVtQmV2ZWw9MTZdPVwiZW51bUJldmVsXCIsZVtlLmVudW1Kb2luTWFzaz0yNl09XCJlbnVtSm9pbk1hc2tcIixlW2UuZW51bUNvbm5lY3Rpb25NYXNrPTI3XT1cImVudW1Db25uZWN0aW9uTWFza1wifShMfHwoTD17fSkpO2NsYXNzIEcgZXh0ZW5kcyBme2NvbnN0cnVjdG9yKGUsdCxzLGksbixyLG0sbyxhLGgpe3N1cGVyKCksdGhpcy5tX2luZGV4PTAsdGhpcy5tX2J1ZmZlcmVkUG9seWdvbj1udWxsLHRoaXMubV94PTAsdGhpcy5tX3k9MCx0aGlzLm1fcHJvZ3Jlc3NUcmFja2VyPWgsdGhpcy5tX3BhcmVudD1lLHRoaXMubV9tcD10LHRoaXMubV9kaXN0YW5jZT1zLHRoaXMubV9zcGF0aWFsUmVmZXJlbmNlPWksdGhpcy5tX2RlbnNpZnlEaXN0PW8sdGhpcy5tX21heFZlcnRleEluQ29tcGxldGVDaXJjbGU9YSx0aGlzLm1fam9pbnM9bix0aGlzLm1fY2Fwcz1yLHRoaXMubV9taXRlckxpbWl0PW19bmV4dCgpe2NvbnN0IGU9bmV3IGQ7Zm9yKDs7KXtpZih0aGlzLm1faW5kZXg9PT10aGlzLm1fbXAuZ2V0UG9pbnRDb3VudCgpKXJldHVybiBudWxsO2lmKDE9PT10aGlzLm1fY2FwcylyZXR1cm4gdGhpcy5tX2luZGV4PXRoaXMubV9tcC5nZXRQb2ludENvdW50KCksbmV3IFMoe3ZkOnRoaXMubV9tcC5nZXREZXNjcmlwdGlvbigpfSk7aWYodGhpcy5tX21wLmdldFBvaW50QnlWYWwodGhpcy5tX2luZGV4LGUpLHRoaXMubV9pbmRleCsrLCFlLmlzRW1wdHkoKSlicmVha31sZXQgdCxzPSExO2lmKG51bGw9PT10aGlzLm1fYnVmZmVyZWRQb2x5Z29uJiYodGhpcy5tX3g9ZS5nZXRYKCksdGhpcy5tX3k9ZS5nZXRZKCksdGhpcy5tX2J1ZmZlcmVkUG9seWdvbj10aGlzLm1fcGFyZW50LmJ1ZmZlcihlLHRoaXMubV9kaXN0YW5jZSx0aGlzLm1fc3BhdGlhbFJlZmVyZW5jZSx0aGlzLm1fam9pbnMsdGhpcy5tX2NhcHMsdGhpcy5tX21pdGVyTGltaXQsdGhpcy5tX2RlbnNpZnlEaXN0LHRoaXMubV9tYXhWZXJ0ZXhJbkNvbXBsZXRlQ2lyY2xlKSxzPSEwKSx0PXRoaXMubV9pbmRleDx0aGlzLm1fbXAuZ2V0UG9pbnRDb3VudCgpP3RoaXMubV9idWZmZXJlZFBvbHlnb24uY2xvbmUoKTp0aGlzLm1fYnVmZmVyZWRQb2x5Z29uLCFzKXtjb25zdCBzPW5ldyBCLGk9ZS5nZXRYKCktdGhpcy5tX3gsbj1lLmdldFkoKS10aGlzLm1feTtzLnNldFNoaWZ0Q29vcmRzKGksbiksdC5hcHBseVRyYW5zZm9ybWF0aW9uKHMpfXJldHVybiBiKHQsMCksdH1nZXRHZW9tZXRyeUlEKCl7cmV0dXJuIDB9Z2V0UmFuaygpe3JldHVybiAxfXRvY2soKXtyZXR1cm4hMH19Y2xhc3MgTiBleHRlbmRzIGZ7Y29uc3RydWN0b3IoZSl7c3VwZXIoKSx0aGlzLm1fY3VycmVudFBhdGhJbmRleD0wLHRoaXMubV9wb2x5bGluZT1lfW5leHQoKXtpZighdGhpcy5tX3BvbHlsaW5lKXJldHVybiBudWxsO2NvbnN0IGU9dGhpcy5tX3BvbHlsaW5lLmdldEltcGwoKSx0PWUuZ2V0UGF0aENvdW50KCk7aWYodGhpcy5tX2N1cnJlbnRQYXRoSW5kZXg8dCl7Y29uc3QgdD10aGlzLm1fY3VycmVudFBhdGhJbmRleDtpZih0aGlzLm1fY3VycmVudFBhdGhJbmRleCsrLCFlLmlzQ2xvc2VkUGF0aEluWFlQbGFuZSh0KSl7bGV0IHM9ZS5nZXRYWShlLmdldFBhdGhFbmQodCktMSk7Zm9yKDt0aGlzLm1fY3VycmVudFBhdGhJbmRleDxlLmdldFBhdGhDb3VudCgpOyl7Y29uc3QgdD1lLmdldFhZKGUuZ2V0UGF0aFN0YXJ0KHRoaXMubV9jdXJyZW50UGF0aEluZGV4KSk7aWYoZS5pc0Nsb3NlZFBhdGhJblhZUGxhbmUodGhpcy5tX2N1cnJlbnRQYXRoSW5kZXgpKWJyZWFrO2lmKCF0LmVxdWFscyhzKSlicmVhaztzPWUuZ2V0WFkoZS5nZXRQYXRoRW5kKHRoaXMubV9jdXJyZW50UGF0aEluZGV4KS0xKSx0aGlzLm1fY3VycmVudFBhdGhJbmRleCsrfX1pZigwPT09dCYmdGhpcy5tX2N1cnJlbnRQYXRoSW5kZXg9PT10aGlzLm1fcG9seWxpbmUuZ2V0UGF0aENvdW50KCkpe2NvbnN0IGU9dGhpcy5tX3BvbHlsaW5lO3JldHVybiB0aGlzLm1fcG9seWxpbmU9bnVsbCxlfWNvbnN0IHM9bmV3IEkoe3ZkOnRoaXMubV9wb2x5bGluZS5nZXREZXNjcmlwdGlvbigpfSk7cy5hZGRQYXRoKHRoaXMubV9wb2x5bGluZSx0LCEwKTtmb3IobGV0IGk9dCsxO2k8dGhpcy5tX2N1cnJlbnRQYXRoSW5kZXg7aSsrKXMuYWRkU2VnbWVudHNGcm9tUGF0aCh0aGlzLm1fcG9seWxpbmUsaSwwLGUuZ2V0U2VnbWVudENvdW50UGF0aChpKSwhMSk7cmV0dXJuIHRoaXMubV9jdXJyZW50UGF0aEluZGV4PT09dGhpcy5tX3BvbHlsaW5lLmdldFBhdGhDb3VudCgpJiYodGhpcy5tX3BvbHlsaW5lPW51bGwpLHN9cmV0dXJuIG51bGx9Z2V0R2VvbWV0cnlJRCgpe3JldHVybiAwfWdldFJhbmsoKXtyZXR1cm4gMX10b2NrKCl7cmV0dXJuITB9fWNsYXNzIE8gZXh0ZW5kcyBme2NvbnN0cnVjdG9yKGUsdCxzKXtzdXBlcigpLHRoaXMubV9nZW9tZXRyeT1udWxsLHRoaXMubV9pbmRleD0wLHRoaXMubV9idWZmZXJlcj1lLHRoaXMubV9nZW9tcz10LHRoaXMubV9pbmRleD0wLHRoaXMubV9iRmlsdGVyPXN9bmV4dCgpe2lmKG51bGw9PT10aGlzLm1fZ2VvbWV0cnkmJih0aGlzLm1faW5kZXg9MCx0aGlzLm1fZ2VvbWV0cnk9dGhpcy5tX2dlb21zLm5leHQoKSwhdGhpcy5tX2dlb21ldHJ5KSlyZXR1cm4gbnVsbDtjb25zdCBlPXRoaXMubV9nZW9tZXRyeS5nZXRJbXBsKCk7aWYodGhpcy5tX2luZGV4PGUuZ2V0UGF0aENvdW50KCkpe2NvbnN0IGU9dGhpcy5tX2luZGV4O3RoaXMubV9pbmRleCsrO3JldHVybiB0aGlzLm1fYnVmZmVyZXIuYnVmZmVyUG9seWxpbmVQYXRoKHRoaXMubV9nZW9tZXRyeSxlLHRoaXMubV9iRmlsdGVyKX1yZXR1cm4gdGhpcy5tX2dlb21ldHJ5PW51bGwsdGhpcy5uZXh0KCl9Z2V0R2VvbWV0cnlJRCgpe3JldHVybiAwfWdldFJhbmsoKXtyZXR1cm4gMX10b2NrKCl7cmV0dXJuITB9fWNsYXNzIEogZXh0ZW5kcyBme2NvbnN0cnVjdG9yKGUpe3N1cGVyKCksdGhpcy5tX2luZGV4PTAsdGhpcy5tX2J1ZmZlcmVyPWV9bmV4dCgpe2NvbnN0IGU9dGhpcy5tX2J1ZmZlcmVyLm1fZ2VvbWV0cnk7aWYodGhpcy5tX2luZGV4PGUuZ2V0UGF0aENvdW50KCkpe2NvbnN0IHQ9dGhpcy5tX2luZGV4LHM9ZS5jYWxjdWxhdGVSaW5nQXJlYTJEKHRoaXMubV9pbmRleCk7Zm9yKHUocz4wKSx0aGlzLm1faW5kZXgrKzt0aGlzLm1faW5kZXg8ZS5nZXRQYXRoQ291bnQoKTspe2lmKGUuY2FsY3VsYXRlUmluZ0FyZWEyRCh0aGlzLm1faW5kZXgpPjApYnJlYWs7dGhpcy5tX2luZGV4Kyt9bGV0IGk7cmV0dXJuIGk9MD09PXQmJnRoaXMubV9pbmRleD09PWUuZ2V0UGF0aENvdW50KCk/dGhpcy5tX2J1ZmZlcmVyLmJ1ZmZlclBvbHlnb25JbXBsKGUsMCxlLmdldFBhdGhDb3VudCgpKTp0aGlzLm1fYnVmZmVyZXIuYnVmZmVyUG9seWdvbkltcGwoZSx0LHRoaXMubV9pbmRleCksaX1yZXR1cm4gbnVsbH1nZXRHZW9tZXRyeUlEKCl7cmV0dXJuIDB9Z2V0UmFuaygpe3JldHVybiAxfXRvY2soKXtyZXR1cm4hMH19Y2xhc3MgVXtjb25zdHJ1Y3RvcihlKXt0aGlzLm1fZ2VvbWV0cnk9bnVsbCx0aGlzLm1fYnVmZmVyQ29tbWFuZHM9W10sdGhpcy5tX29yaWdpbmFsR2VvbVR5cGU9cy5lbnVtVW5rbm93bix0aGlzLm1fbWF4VmVydGV4SW5Db21wbGV0ZUNpcmNsZT0tMSx0aGlzLm1fY2lyY2xlVGVtcGxhdGVTaXplPS0xLHRoaXMubV9vbGRDaXJjbGVUZW1wbGF0ZVNpemU9MCx0aGlzLm1fc3BhdGlhbFJlZmVyZW5jZT1udWxsLHRoaXMubV90b2xlcmFuY2U9bmV3IF8oMCwwKSx0aGlzLm1fc21hbGxUb2xlcmFuY2U9bmV3IF8oMCwwKSx0aGlzLm1fZmlsdGVyVG9sZXJhbmNlPTAsdGhpcy5tX2RlbnNpZnlEaXN0PS0xLHRoaXMubV9kaXN0YW5jZT1OdW1iZXIuTmFOLHRoaXMubV9hYnNEaXN0YW5jZT0wLHRoaXMubV9hYnNEaXN0YW5jZVJldmVyc2VkPTAsdGhpcy5tX2RBPS0xLHRoaXMubV9taXRlckxpbWl0PTQsdGhpcy5tX2pvaW5zPTAsdGhpcy5tX2NhcHM9MCx0aGlzLm1fYlJvdW5kQnVmZmVyPSEwLHRoaXMubV9iT3V0cHV0TG9vcHM9ITAsdGhpcy5tX2JGaWx0ZXI9ITAsdGhpcy5tX2NpcmNsZVRlbXBsYXRlPVtdLHRoaXMubV9sZWZ0U3RhY2s9W10sdGhpcy5tX21pZGRsZVN0YWNrPVtdLHRoaXMubV9oZWxwZXJMaW5lMT1uZXcgVCx0aGlzLm1faGVscGVyTGluZTI9bmV3IFQsdGhpcy5tX2hlbHBlckFycmF5PVtdLHRoaXMubV9wcm9ncmVzc0NvdW50ZXI9MCx0aGlzLm1fZGVuc2lmaWNhdG9yPXYuY29uc3RydWN0RGVmYXVsdChlKSx0aGlzLm1fcHJvZ3Jlc3NUcmFja2VyPWV9YnVmZmVyKGUsdCxzLGwsYyx1LGYsXyl7aWYoZXx8aShcIkdlb21ldHJ5LkJ1ZmZlcmVyLkltcGwuQnVmZmVyXCIpLGY8MCYmaShcIkdlb21ldHJ5LkJ1ZmZlcmVyLkltcGwuQnVmZmVyXCIpLG4oZS5nZXRHZW9tZXRyeVR5cGUoKSkmJnIoXCJVbnN1cHBvcnRlZCBnZW9tZXRyeSB0eXBlLlwiKSxlLmlzRW1wdHkoKSlyZXR1cm4gbmV3IFMoe3ZkOmUuZ2V0RGVzY3JpcHRpb24oKX0pO2lmKHRoaXMubV9qb2lucz1sLHRoaXMubV9jYXBzPWMsdGhpcy5tX2JSb3VuZEJ1ZmZlcj0hMSx0aGlzLm1fbWl0ZXJMaW1pdD11LHRoaXMubV9vcmlnaW5hbEdlb21UeXBlPWUuZ2V0R2VvbWV0cnlUeXBlKCksbSh0aGlzLm1fb3JpZ2luYWxHZW9tVHlwZSk/dGhpcy5tX2JSb3VuZEJ1ZmZlcj0wPT09dGhpcy5tX2pvaW5zOm8odGhpcy5tX29yaWdpbmFsR2VvbVR5cGUpP3RoaXMubV9iUm91bmRCdWZmZXI9MD09PXRoaXMubV9jYXBzOmEodGhpcy5tX29yaWdpbmFsR2VvbVR5cGUpJiYodGhpcy5tX2JSb3VuZEJ1ZmZlcj0wPT09dGhpcy5tX2pvaW5zJiYwPT09dGhpcy5tX2NhcHMpLHRoaXMubV9iRmlsdGVyPXRoaXMubV9iUm91bmRCdWZmZXIsdGhpcy5tX2dlb21ldHJ5PVIoZSksdGhpcy5tX2dlb21ldHJ5LmlzRW1wdHkoKSlyZXR1cm4gbmV3IFMoe3ZkOmUuZ2V0RGVzY3JpcHRpb24oKX0pO2NvbnN0IGQ9bmV3IGs7dGhpcy5tX2dlb21ldHJ5LnF1ZXJ5TG9vc2VFbnZlbG9wZShkKSx0PjAmJmQuaW5mbGF0ZUNvb3Jkcyh0LHQpLHRoaXMubV90b2xlcmFuY2U9ZyhzLGQsITApLHRoaXMubV9zbWFsbFRvbGVyYW5jZT1nKG51bGwsZCwhMCksXzw9MCYmKF89OTYpLHRoaXMubV9zcGF0aWFsUmVmZXJlbmNlPXMsdGhpcy5tX2Rpc3RhbmNlPXQsdGhpcy5tX2Fic0Rpc3RhbmNlPU1hdGguYWJzKHRoaXMubV9kaXN0YW5jZSksdGhpcy5tX2Fic0Rpc3RhbmNlUmV2ZXJzZWQ9MCE9PXRoaXMubV9hYnNEaXN0YW5jZT8xL3RoaXMubV9hYnNEaXN0YW5jZTowLE51bWJlci5pc05hTihmKXx8MD09PWY/Zj0xZS01KnRoaXMubV9hYnNEaXN0YW5jZTpmPi41KnRoaXMubV9hYnNEaXN0YW5jZSYmKGY9LjUqdGhpcy5tX2Fic0Rpc3RhbmNlKSxfPDEyJiYoXz0xMik7Y29uc3QgcD1NYXRoLmFicyh0KSooMS1NYXRoLmNvcyhNYXRoLlBJL18pKTtpZihwPmYpZj1wO2Vsc2UgaWYoMCE9PXQpe2NvbnN0IGU9TWF0aC5QSS9NYXRoLmFjb3MoMS1mL01hdGguYWJzKHQpKTtlPF8tMSYmKF89TWF0aC50cnVuYyhlKSk8MTImJihfPTEyLGY9TWF0aC5hYnModCkqKDEtTWF0aC5jb3MoTWF0aC5QSS9fKSkpfXRoaXMubV9kZW5zaWZ5RGlzdD1mLHRoaXMubV9tYXhWZXJ0ZXhJbkNvbXBsZXRlQ2lyY2xlPV8sdGhpcy5tX2ZpbHRlclRvbGVyYW5jZT10aGlzLm1fYlJvdW5kQnVmZmVyP01hdGgubWluKHRoaXMubV9zbWFsbFRvbGVyYW5jZS50b3RhbCgpLC4yNSp0aGlzLm1fZGVuc2lmeURpc3QpOjAsdGhpcy5tX2NpcmNsZVRlbXBsYXRlU2l6ZT10aGlzLmNhbGNOKCksdGhpcy5tX2NpcmNsZVRlbXBsYXRlU2l6ZSE9PXRoaXMubV9vbGRDaXJjbGVUZW1wbGF0ZVNpemUmJih0aGlzLm1fY2lyY2xlVGVtcGxhdGUubGVuZ3RoPTAsdGhpcy5tX29sZENpcmNsZVRlbXBsYXRlU2l6ZT10aGlzLm1fY2lyY2xlVGVtcGxhdGVTaXplKSx0aGlzLm1fZGVuc2lmeURpc3Q+MCYmaCh0aGlzLm1fZ2VvbWV0cnkpJiYodGhpcy5tX2dlb21ldHJ5PXRoaXMubV9kZW5zaWZpY2F0b3IuZGVuc2lmeUV4KHRoaXMubV9nZW9tZXRyeSwwLHRoaXMubV9kZW5zaWZ5RGlzdCwwLDAhPT10aGlzLm1fam9pbnMsUCgpKSk7Y29uc3QgYj10aGlzLmJ1ZmZlckltcGwoKTtyZXR1cm4gdGhpcy5tX2dlb21ldHJ5PW51bGwsYn1nZW5lcmF0ZUNpcmNsZVRlbXBsYXRlKCl7aWYodGhpcy5tX2NpcmNsZVRlbXBsYXRlLmxlbmd0aClyZXR1cm47Y29uc3QgZT10aGlzLm1fY2lyY2xlVGVtcGxhdGVTaXplLHQ9TWF0aC50cnVuYygoZSszKS80KSxzPS41Kk1hdGguUEkvdDt0aGlzLm1fZEE9cyx0aGlzLm1fY2lyY2xlVGVtcGxhdGU9eSh4LDQqdCk7Y29uc3QgaT1NYXRoLmNvcyhzKSxuPU1hdGguc2luKHMpLHI9eC5jb25zdHJ1Y3QoMCwxKTtmb3IobGV0IG09MDttPHQ7bSsrKXRoaXMubV9jaXJjbGVUZW1wbGF0ZVttKzAqdF0uc2V0Q29vcmRzKHIueSwtci54KSx0aGlzLm1fY2lyY2xlVGVtcGxhdGVbbSsxKnRdLnNldENvb3Jkcygtci54LC1yLnkpLHRoaXMubV9jaXJjbGVUZW1wbGF0ZVttKzIqdF0uc2V0Q29vcmRzKC1yLnksci54KSx0aGlzLm1fY2lyY2xlVGVtcGxhdGVbbSszKnRdLnNldENvb3JkcyhyLngsci55KSxyLnJvdGF0ZVJldmVyc2UoaSxuKX1idWZmZXJJbXBsKCl7Y29uc3QgZT10aGlzLm1fZ2VvbWV0cnkuZ2V0R2VvbWV0cnlUeXBlKCk7aWYobChlKSl7Y29uc3QgZT1uZXcgSSh7dmQ6dGhpcy5tX2dlb21ldHJ5LmdldERlc2NyaXB0aW9uKCl9KTtyZXR1cm4gZS5hZGRTZWdtZW50KHRoaXMubV9nZW9tZXRyeSwhMCksdGhpcy5tX2dlb21ldHJ5PWUsdGhpcy5idWZmZXJJbXBsKCl9aWYodGhpcy5tX2Rpc3RhbmNlPD10aGlzLm1fdG9sZXJhbmNlLnRvdGFsKCkpe2lmKCFtKGUpKXJldHVybiBuZXcgUyh7dmQ6dGhpcy5tX2dlb21ldHJ5LmdldERlc2NyaXB0aW9uKCl9KTtpZih0aGlzLm1fZGlzdGFuY2U8MCl7Y29uc3QgZT1uZXcgaztpZih0aGlzLm1fZ2VvbWV0cnkucXVlcnlFbnZlbG9wZShlKSxlLndpZHRoKCk8PTIqdGhpcy5tX2Fic0Rpc3RhbmNlfHxlLmhlaWdodCgpPD0yKnRoaXMubV9hYnNEaXN0YW5jZSlyZXR1cm4gbmV3IFMoe3ZkOnRoaXMubV9nZW9tZXRyeS5nZXREZXNjcmlwdGlvbigpfSl9fXN3aXRjaCh0aGlzLm1fZ2VvbWV0cnkuZ2V0R2VvbWV0cnlUeXBlKCkpe2Nhc2Ugcy5lbnVtUG9pbnQ6cmV0dXJuIHRoaXMuYnVmZmVyUG9pbnQoKTtjYXNlIHMuZW51bU11bHRpUG9pbnQ6cmV0dXJuIHRoaXMuYnVmZmVyTXVsdGlQb2ludCgpO2Nhc2Ugcy5lbnVtUG9seWxpbmU6cmV0dXJuIHRoaXMuYnVmZmVyUG9seWxpbmUoKTtjYXNlIHMuZW51bVBvbHlnb246cmV0dXJuIHRoaXMuYnVmZmVyUG9seWdvbigpO2Nhc2Ugcy5lbnVtRW52ZWxvcGU6cmV0dXJuIHRoaXMuYnVmZmVyRW52ZWxvcGUoKTtkZWZhdWx0OmMoXCJcIil9fWJ1ZmZlclBvbHlsaW5lKCl7aWYodGhpcy5pc0RlZ2VuZXJhdGVHZW9tZXRyeSh0aGlzLm1fZ2VvbWV0cnkpKXtjb25zdCBlPW5ldyBkO3RoaXMubV9nZW9tZXRyeS5nZXRQb2ludEJ5VmFsKDAsZSk7Y29uc3QgdD1uZXcgaztyZXR1cm4gdGhpcy5tX2dlb21ldHJ5LnF1ZXJ5RW52ZWxvcGUodCksZS5zZXRYWSh0LmdldENlbnRlcigpKSx0aGlzLmJ1ZmZlckRlZ2VuZXJhdGVQYXRoKGUsITApfWNvbnN0IGU9dGhpcy5tX2dlb21ldHJ5LHQ9dGhpcy5tX2dlb21ldHJ5LmdldERlc2NyaXB0aW9uKCk7dGhpcy5tX2dlb21ldHJ5PW51bGw7Y29uc3Qgcz1uZXcgTihlKTtsZXQgaSxuO2k9MD09PXRoaXMubV9qb2lucz8obmV3IEYpLmV4ZWN1dGVNYW55KHMsLjI1KnRoaXMubV9kZW5zaWZ5RGlzdCwhMSx0aGlzLm1fcHJvZ3Jlc3NUcmFja2VyKTpzLG49dGhpcy5tX2JSb3VuZEJ1ZmZlcj8obmV3IGopLmV4ZWN1dGVNYW55KGksbnVsbCwhMCx0aGlzLm1fcHJvZ3Jlc3NUcmFja2VyKTppO2NvbnN0IHI9bmV3IE8odGhpcyxuLHRoaXMubV9iRmlsdGVyKSxtPShuZXcgQSkuZXhlY3V0ZU1hbnkocix0aGlzLm1fc3BhdGlhbFJlZmVyZW5jZSx0aGlzLm1fcHJvZ3Jlc3NUcmFja2VyLDIpLG89KG5ldyBYKS5leGVjdXRlTWFueShtLHRoaXMubV9zcGF0aWFsUmVmZXJlbmNlLCExLHRoaXMubV9wcm9ncmVzc1RyYWNrZXIpLm5leHQoKTtyZXR1cm4gbnVsbCE9PW8/bzpuZXcgUyh7dmQ6dH0pfWJ1ZmZlclBvbHlnb24oKXtpZigwPT09dGhpcy5tX2Rpc3RhbmNlKXJldHVybiB0aGlzLm1fZ2VvbWV0cnk7dGhpcy5nZW5lcmF0ZUNpcmNsZVRlbXBsYXRlKCk7Y29uc3QgZT0obmV3IFgpLmV4ZWN1dGUodGhpcy5tX2dlb21ldHJ5LG51bGwsITEsdGhpcy5tX3Byb2dyZXNzVHJhY2tlcik7aWYodGhpcy5tX2Rpc3RhbmNlPDApe2lmKHRoaXMubV9nZW9tZXRyeT1lLHRoaXMubV9nZW9tZXRyeS5pc0VtcHR5KCkpcmV0dXJuIHRoaXMubV9nZW9tZXRyeTtjb25zdCB0PXRoaXMubV9nZW9tZXRyeSxzPXRoaXMuYnVmZmVyUG9seWdvbkltcGwodCwwLHQuZ2V0UGF0aENvdW50KCkpO3JldHVybihuZXcgWCkuZXhlY3V0ZShzLHRoaXMubV9zcGF0aWFsUmVmZXJlbmNlLCExLHRoaXMubV9wcm9ncmVzc1RyYWNrZXIpfXtpZih0aGlzLm1fZ2VvbWV0cnk9ZSx0aGlzLmlzRGVnZW5lcmF0ZUdlb21ldHJ5KHRoaXMubV9nZW9tZXRyeSkpe2NvbnN0IGU9bmV3IGQ7dGhpcy5tX2dlb21ldHJ5LmdldFBvaW50QnlWYWwoMCxlKTtjb25zdCB0PW5ldyBrO3JldHVybiB0aGlzLm1fZ2VvbWV0cnkucXVlcnlFbnZlbG9wZSh0KSxlLnNldFhZKHQuZ2V0Q2VudGVyKCkpLHRoaXMuYnVmZmVyRGVnZW5lcmF0ZVBhdGgoZSwhMCl9Y29uc3QgdD1uZXcgSih0aGlzKSxzPShuZXcgQSkuZXhlY3V0ZU1hbnkodCx0aGlzLm1fc3BhdGlhbFJlZmVyZW5jZSx0aGlzLm1fcHJvZ3Jlc3NUcmFja2VyLDIpLGk9KG5ldyBYKS5leGVjdXRlTWFueShzLHRoaXMubV9zcGF0aWFsUmVmZXJlbmNlLCExLHRoaXMubV9wcm9ncmVzc1RyYWNrZXIpLm5leHQoKTtyZXR1cm4gbnVsbCE9PWk/aTpuZXcgUyh7dmQ6dGhpcy5tX2dlb21ldHJ5LmdldERlc2NyaXB0aW9uKCl9KX19YnVmZmVyUG9seWdvbkltcGwoZSx0LHMpe2NvbnN0IGk9ZSxuPWkuZ2V0SW1wbCgpO2xldCByPW5ldyBTKHt2ZDplLmdldERlc2NyaXB0aW9uKCl9KTtmb3IobGV0IG09dDttPHM7bSsrKXtpZihuLmdldFBhdGhTaXplKG0pPDEpY29udGludWU7Y29uc3QgdD1uLmNhbGN1bGF0ZVJpbmdBcmVhMkQobSkscz1uZXcgaztpZihuLnF1ZXJ5UGF0aEVudmVsb3BlKG0scyksdGhpcy5tX2Rpc3RhbmNlPjApaWYodD4wKWlmKHRoaXMuaXNEZWdlbmVyYXRlUGF0aChuLG0pKXtjb25zdCBlPW5ldyBkO24uZ2V0UG9pbnRCeVZhbChuLmdldFBhdGhTdGFydChtKSxlKSxlLnNldFhZKHMuZ2V0Q2VudGVyKCkpLHIuYWRkKHRoaXMuYnVmZmVyRGVnZW5lcmF0ZVBhdGgoZSwhMCksITEpfWVsc2V7Y29uc3QgdD1uZXcgSSh7dmQ6ZS5nZXREZXNjcmlwdGlvbigpfSkscz10LmdldEltcGwoKTtpZihNKHRoaXMubV9nZW9tZXRyeSxtKSl7Y29uc3QgZT10aGlzLmJ1ZmZlckNvbnZleFBhdGgoaSxtKTtyLmFkZChlLCExKX1lbHNle3RoaXMuYnVmZmVyQ2xvc2VkUGF0aCh0aGlzLm1fZ2VvbWV0cnksbSxzLHRoaXMubV9iUm91bmRCdWZmZXIsMSk7Y29uc3QgZT10aGlzLmJ1ZmZlckNsZWFudXAodCk7ci5hZGQoZSwhMSl9fWVsc2V7aWYocy53aWR0aCgpK3RoaXMubV90b2xlcmFuY2UudG90YWwoKTw9Mip0aGlzLm1fYWJzRGlzdGFuY2V8fHMuaGVpZ2h0KCkrdGhpcy5tX3RvbGVyYW5jZS50b3RhbCgpPD0yKnRoaXMubV9hYnNEaXN0YW5jZSljb250aW51ZTtjb25zdCB0PW5ldyBJKHt2ZDplLmdldERlc2NyaXB0aW9uKCl9KSxpPXQuZ2V0SW1wbCgpO2lmKHRoaXMuYnVmZmVyQ2xvc2VkUGF0aCh0aGlzLm1fZ2VvbWV0cnksbSxpLHRoaXMubV9iUm91bmRCdWZmZXIsMSksIXQuaXNFbXB0eSgpKXtjb25zdCBlPXMsbj1NYXRoLm1heCgxLHRoaXMubV9hYnNEaXN0YW5jZSksbT1lLmNsb25lKCk7bS5pbmZsYXRlQ29vcmRzKG4sbiksaS5hZGRFbnZlbG9wZShtLCExKTtjb25zdCBvPXRoaXMuYnVmZmVyQ2xlYW51cCh0KTtyLnJlc2VydmUoci5nZXRQb2ludENvdW50KCkrby5nZXRQb2ludENvdW50KCktNCksZWUobyxyLG0sITApfX1lbHNlIGlmKHQ+MCl7aWYocy53aWR0aCgpK3RoaXMubV90b2xlcmFuY2UudG90YWwoKTw9Mip0aGlzLm1fYWJzRGlzdGFuY2V8fHMuaGVpZ2h0KCkrdGhpcy5tX3RvbGVyYW5jZS50b3RhbCgpPD0yKnRoaXMubV9hYnNEaXN0YW5jZSljb250aW51ZTtjb25zdCB0PW5ldyBJKHt2ZDplLmdldERlc2NyaXB0aW9uKCl9KSxpPXQuZ2V0SW1wbCgpO2lmKHRoaXMuYnVmZmVyQ2xvc2VkUGF0aCh0aGlzLm1fZ2VvbWV0cnksbSxpLHRoaXMubV9iUm91bmRCdWZmZXIsLTEpLCF0LmlzRW1wdHkoKSl7Y29uc3QgZT1uZXcgaztpLnF1ZXJ5TG9vc2VFbnZlbG9wZShlKTtjb25zdCBzPU1hdGgubWF4KDEsdGhpcy5tX2Fic0Rpc3RhbmNlKSxuPWUuY2xvbmUoKTtuLmluZmxhdGVDb29yZHMocyxzKSxpLmFkZEVudmVsb3BlKG4sITEpO2VlKHRoaXMuYnVmZmVyQ2xlYW51cCh0KSxyLG4sITApfX1lbHNle2NvbnN0IHQ9bmV3IEkoe3ZkOmUuZ2V0RGVzY3JpcHRpb24oKX0pLHM9dC5nZXRJbXBsKCk7dGhpcy5idWZmZXJDbG9zZWRQYXRoKHRoaXMubV9nZW9tZXRyeSxtLHMsdGhpcy5tX2JSb3VuZEJ1ZmZlciwtMSk7Y29uc3QgaT10aGlzLmJ1ZmZlckNsZWFudXAodCk7Zm9yKGxldCBlPTAsbj1pLmdldFBhdGhDb3VudCgpO2U8bjtlKyspci5hZGRQYXRoKGksZSwhMCl9fWlmKHRoaXMubV9kaXN0YW5jZT4wKXtpZihyLmdldFBhdGhDb3VudCgpPjEpe3JldHVybiB0aGlzLmJ1ZmZlckNsZWFudXAocil9cmV0dXJuIEgocil9e2NvbnN0IGU9bmV3IGs7aWYoci5xdWVyeUxvb3NlRW52ZWxvcGUoZSksci5pc0VtcHR5KCkpcmV0dXJuIEgocik7e2NvbnN0IHQ9TWF0aC5tYXgoMSx0aGlzLm1fYWJzRGlzdGFuY2UpLHM9ZS5jbG9uZSgpO3MuaW5mbGF0ZUNvb3Jkcyh0LHQpLHIuYWRkRW52ZWxvcGUocywhMSk7Y29uc3QgaT10aGlzLmJ1ZmZlckNsZWFudXAocik7cj1uZXcgUztjb25zdCBuPW5ldyBTKHt2ZDppLmdldERlc2NyaXB0aW9uKCl9KTtyZXR1cm4gZWUoaSxuLHMsITEpLEgobil9fX1idWZmZXJQb2ludCgpe3JldHVybiB0aGlzLmJ1ZmZlclBvaW50SW1wbCh0aGlzLm1fZ2VvbWV0cnkpfWJ1ZmZlclBvaW50SW1wbChlKXtjb25zdCB0PW5ldyBTKHt2ZDplLmdldERlc2NyaXB0aW9uKCl9KTtyZXR1cm4gMD09PXRoaXMubV9jYXBzPyh0aGlzLmFkZENpcmNsZSh0LmdldEltcGwoKSxlKSx0aGlzLnNldFN0cm9uZ1NpbXBsZSh0KSk6Mj09PXRoaXMubV9jYXBzPyh0aGlzLmFkZFNxdWFyZSh0LmdldEltcGwoKSxlKSx0aGlzLnNldFN0cm9uZ1NpbXBsZSh0KSk6dH1idWZmZXJEZWdlbmVyYXRlUGF0aChlLHQpe2NvbnN0IHM9bmV3IFMoe3ZkOmUuZ2V0RGVzY3JpcHRpb24oKX0pO3JldHVybiB0JiYwPT09dGhpcy5tX2pvaW5zfHwhdCYmMD09PXRoaXMubV9jYXBzPyh0aGlzLmFkZENpcmNsZShzLmdldEltcGwoKSxlKSx0aGlzLnNldFN0cm9uZ1NpbXBsZShzKSk6dHx8MiE9PXRoaXMubV9jYXBzP3M6KHRoaXMuYWRkU3F1YXJlKHMuZ2V0SW1wbCgpLGUpLHRoaXMuc2V0U3Ryb25nU2ltcGxlKHMpKX1idWZmZXJNdWx0aVBvaW50KCl7Y29uc3QgZT1uZXcgRyh0aGlzLHRoaXMubV9nZW9tZXRyeSx0aGlzLm1fZGlzdGFuY2UsdGhpcy5tX3NwYXRpYWxSZWZlcmVuY2UsdGhpcy5tX2pvaW5zLHRoaXMubV9jYXBzLHRoaXMubV9taXRlckxpbWl0LHRoaXMubV9kZW5zaWZ5RGlzdCx0aGlzLm1fbWF4VmVydGV4SW5Db21wbGV0ZUNpcmNsZSx0aGlzLm1fcHJvZ3Jlc3NUcmFja2VyKTtyZXR1cm4obmV3IEEpLmV4ZWN1dGVNYW55KGUsdGhpcy5tX3NwYXRpYWxSZWZlcmVuY2UsdGhpcy5tX3Byb2dyZXNzVHJhY2tlciwyKS5uZXh0KCl9YnVmZmVyRW52ZWxvcGUoKXtsZXQgZT1uZXcgUyh7dmQ6dGhpcy5tX2dlb21ldHJ5LmdldERlc2NyaXB0aW9uKCl9KTtpZih0aGlzLm1fZGlzdGFuY2U8PTApe2lmKDA9PT10aGlzLm1fZGlzdGFuY2UpZS5hZGRFbnZlbG9wZSh0aGlzLm1fZ2VvbWV0cnksITEpLEsodGhpcy5tX2dlb21ldHJ5LHRoaXMubV90b2xlcmFuY2UudG90YWwoKSkmJihlPXRoaXMuc2V0U3Ryb25nU2ltcGxlKGUpKTtlbHNle2NvbnN0IHQ9bmV3IHA7dGhpcy5tX2dlb21ldHJ5LnF1ZXJ5RW52ZWxvcGUodCksdC5pbmZsYXRlQ29vcmRzKHRoaXMubV9kaXN0YW5jZSx0aGlzLm1fZGlzdGFuY2UpLGUuYWRkRW52ZWxvcGUodCwhMSksSyh0LHRoaXMubV90b2xlcmFuY2UudG90YWwoKSkmJihlPXRoaXMuc2V0U3Ryb25nU2ltcGxlKGUpKX1yZXR1cm4gZX1pZigxPT09dGhpcy5tX2pvaW5zKXtjb25zdCB0PW5ldyBwKHtjb3B5OnRoaXMubV9nZW9tZXRyeX0pO3JldHVybiB0LmluZmxhdGVDb29yZHModGhpcy5tX2Fic0Rpc3RhbmNlLHRoaXMubV9hYnNEaXN0YW5jZSksZS5hZGRFbnZlbG9wZSh0LCExKSxlfWNvbnN0IHQ9dGhpcy5tX2dlb21ldHJ5LmNsb25lKCk7aWYoMD09PXQud2lkdGgoKXx8MD09PXQuaGVpZ2h0KCkpe2lmKDA9PT10LndpZHRoKCkmJjA9PT10LmhlaWdodCgpKXtjb25zdCBlPW5ldyBkKHt2ZDp0aGlzLm1fZ2VvbWV0cnkuZ2V0RGVzY3JpcHRpb24oKX0pO3JldHVybiB0LnF1ZXJ5Q29ybmVyQnlWYWwoMCxlKSx0aGlzLm1fZ2VvbWV0cnk9ZSx0aGlzLmJ1ZmZlckltcGwoKX1jb25zdCBlPW5ldyBJKHt2ZDp0aGlzLm1fZ2VvbWV0cnkuZ2V0RGVzY3JpcHRpb24oKX0pLHM9bmV3IGQ7cmV0dXJuIHQucXVlcnlDb3JuZXJCeVZhbCgwLHMpLGUuc3RhcnRQYXRoUG9pbnQocyksdC5xdWVyeUNvcm5lckJ5VmFsKDIscyksZS5saW5lVG9Qb2ludChzKSx0aGlzLm1fZ2VvbWV0cnk9ZSx0aGlzLmJ1ZmZlckltcGwoKX1yZXR1cm4gZS5hZGRFbnZlbG9wZSh0aGlzLm1fZ2VvbWV0cnksITEpLHRoaXMubV9nZW9tZXRyeT1lLHRoaXMuYnVmZmVyQ29udmV4UGF0aChlLDApfWJ1ZmZlckNvbnZleFBhdGgoZSx0KXt0aGlzLmdlbmVyYXRlQ2lyY2xlVGVtcGxhdGUoKTtjb25zdCBzPWUuaGFzQXR0cmlidXRlKDEwKSxpPW5ldyBTKHt2ZDplLmdldERlc2NyaXB0aW9uKCl9KSxuPWkuZ2V0SW1wbCgpO2kucmVzZXJ2ZSgodGhpcy5tX2NpcmNsZVRlbXBsYXRlLmxlbmd0aC8xMCs0KSplLmdldFBhdGhTaXplKHQpKTtjb25zdCByPW5ldyB4LG09bmV3IHgsbz1uZXcgeCxhPW5ldyB4KDAsMCksaD1uZXcgeCxsPW5ldyB4LHU9ZS5nZXRJbXBsKCksZj1lLmdldFBhdGhTaXplKHQpLF89ZS5nZXRQYXRoU3RhcnQodCk7Zm9yKGxldCBnPTAsZD1lLmdldFBhdGhTaXplKHQpO2c8ZDtnKyspe2NvbnN0IGU9dS5nZXRYWShfK2cpLHQ9dS5nZXRYWShfKyhnKzEpJWYpLGk9dS5nZXRYWShfKyhnKzIpJWYpO2guc2V0U3ViKHQsZSksMD09PWgubGVuZ3RoKCkmJmMoXCJcIik7Y29uc3QgZD1zJiYhISgxJnUuZ2V0QXR0cmlidXRlQXNJbnQoMTAsKGcrMSklZiwwKSk7aC5ub3JtYWxpemUoKTtjb25zdCBwPWguY2xvbmUoKTtoLmxlZnRQZXJwZW5kaWN1bGFyVGhpcygpLGguc2NhbGUodGhpcy5tX2Fic0Rpc3RhbmNlKSxyLnNldEFkZChoLGUpLG0uc2V0QWRkKGgsdCksMD09PWc/bi5zdGFydFBhdGgocik6bi5saW5lVG8ociksbi5saW5lVG8obSksbC5zZXRTdWIoaSx0KSwwPT09bC5sZW5ndGgoKSYmYyhcIlwiKSxsLm5vcm1hbGl6ZSgpO2NvbnN0IGI9bC5jbG9uZSgpO2wubGVmdFBlcnBlbmRpY3VsYXJUaGlzKCksbC5zY2FsZSh0aGlzLm1fYWJzRGlzdGFuY2UpLG8uc2V0QWRkKGwsdCk7bGV0IFA9TC5lbnVtQXJjO2NvbnN0IHk9ZD8wOnRoaXMubV9qb2lucztpZigyPT09eSlQPUwuZW51bUJldmVsO2Vsc2UgaWYoMT09PXkpe2NvbnN0IGU9LXAuY3Jvc3NQcm9kdWN0KGIpO2Euc2V0U3ViKHAsYiksYS5zY2FsZSh0aGlzLm1fYWJzRGlzdGFuY2UvZSksYS5sZW5ndGgoKTx0aGlzLm1fbWl0ZXJMaW1pdCp0aGlzLm1fYWJzRGlzdGFuY2U/KGEuYWRkVGhpcyh0KSxQPUwuZW51bU1pdGVyKTpQPUwuZW51bUJldmVsfWVsc2UgYS5hc3NpZ24odCk7dGhpcy5hZGRKb2luKFAsbixhLG0sbywhMSwhMSl9cmV0dXJuIEgoaSl9YnVmZmVyUG9seWxpbmVQYXRoKGUsdCxzKXt0aGlzLmdlbmVyYXRlQ2lyY2xlVGVtcGxhdGUoKTtjb25zdCBpPWUsbj1pLmdldEltcGwoKTtpZihuLmdldFBhdGhTaXplKHQpPDEpcmV0dXJuIG51bGw7bGV0IHI7aWYocj10aGlzLm1fYlJvdW5kQnVmZmVyP24uaXNDbG9zZWRQYXRoSW5YWVBsYW5lKHQpOm4uaXNDbG9zZWRQYXRoKHQpLHRoaXMuaXNEZWdlbmVyYXRlUGF0aChuLHQpJiZ0aGlzLm1fZGlzdGFuY2U+MCl7Y29uc3QgZT1uZXcgZDtuLmdldFBvaW50QnlWYWwobi5nZXRQYXRoU3RhcnQodCksZSk7Y29uc3Qgcz1uZXcgaztyZXR1cm4gbi5xdWVyeVBhdGhFbnZlbG9wZSh0LHMpLGUuc2V0WFkocy5nZXRDZW50ZXIoKSksdGhpcy5idWZmZXJEZWdlbmVyYXRlUGF0aChlLHIpfWNvbnN0IG09bmV3IEkoe3ZkOmUuZ2V0RGVzY3JpcHRpb24oKX0pO20ucmVzZXJ2ZSgoTWF0aC50cnVuYyh0aGlzLm1fY2lyY2xlVGVtcGxhdGUubGVuZ3RoLzEwKSs0KSpuLmdldFBhdGhTaXplKHQpKTtjb25zdCBvPW0uZ2V0SW1wbCgpO3JldHVybiByPzIhPT10aGlzLmJ1ZmZlckNsb3NlZFBhdGgoaSx0LG8scywxKSYmdGhpcy5idWZmZXJDbG9zZWRQYXRoKGksdCxvLHMsLTEpOnRoaXMuYnVmZmVyT3BlblBhdGgoaSx0LG8scyksdGhpcy5idWZmZXJDbGVhbnVwKG0pfXByb2dyZXNzXygpe31idWZmZXJDbGVhbnVwKGUsdD0hMSl7Y29uc3Qgcz10P3RoaXMubV90b2xlcmFuY2U6dGhpcy5tX3NtYWxsVG9sZXJhbmNlO3JldHVybiBZKGUscywhMCwhdCwtMSx0aGlzLm1fcHJvZ3Jlc3NUcmFja2VyLDAsITEpfWNhbGNOKCl7Y29uc3QgZT00O2lmKDA9PT10aGlzLm1fZGVuc2lmeURpc3QpcmV0dXJuIHRoaXMubV9tYXhWZXJ0ZXhJbkNvbXBsZXRlQ2lyY2xlO2NvbnN0IHQ9MS10aGlzLm1fZGVuc2lmeURpc3QqTWF0aC5hYnModGhpcy5tX2Fic0Rpc3RhbmNlUmV2ZXJzZWQpO2xldCBzPWU7cmV0dXJuIHM9dDwtMT9lOjIqTWF0aC5QSS9NYXRoLmFjb3ModCkrLjUsczxlP3M9ZTpzPnRoaXMubV9tYXhWZXJ0ZXhJbkNvbXBsZXRlQ2lyY2xlJiYocz10aGlzLm1fbWF4VmVydGV4SW5Db21wbGV0ZUNpcmNsZSksTWF0aC50cnVuYyhzKX1hZGRKb2luKGUsdCxzLGksbixyLG0pe2lmKHRoaXMuZ2VuZXJhdGVDaXJjbGVUZW1wbGF0ZSgpLHImJih0LnN0YXJ0UGF0aChpKSxyPSExKSxlPT09TC5lbnVtQmV2ZWwpcmV0dXJuIHZvaWQobSYmdC5saW5lVG8obikpO2lmKGU9PT1MLmVudW1NaXRlcil7Y29uc3QgZT1zLmNsb25lKCk7cmV0dXJuIHQubGluZVRvKGUpLHZvaWQobSYmdC5saW5lVG8obikpfWNvbnN0IG89bmV3IHg7by5zZXRTdWIoaSxzKSxvLnNjYWxlKHRoaXMubV9hYnNEaXN0YW5jZVJldmVyc2VkKTtjb25zdCBhPW5ldyB4O2Euc2V0U3ViKG4scyksYS5zY2FsZSh0aGlzLm1fYWJzRGlzdGFuY2VSZXZlcnNlZCk7bGV0IGg9TWF0aC5hdGFuMihvLnksby54KS90aGlzLm1fZEE7aDwwJiYoaD10aGlzLm1fY2lyY2xlVGVtcGxhdGUubGVuZ3RoK2gpLGg9dGhpcy5tX2NpcmNsZVRlbXBsYXRlLmxlbmd0aC1oO2xldCBsPU1hdGguYXRhbjIoYS55LGEueCkvdGhpcy5tX2RBO2w8MCYmKGw9dGhpcy5tX2NpcmNsZVRlbXBsYXRlLmxlbmd0aCtsKSxsPXRoaXMubV9jaXJjbGVUZW1wbGF0ZS5sZW5ndGgtbCxsPGgmJihsKz10aGlzLm1fY2lyY2xlVGVtcGxhdGUubGVuZ3RoKTtsZXQgYz1NYXRoLnRydW5jKGwpLHU9TWF0aC5jZWlsKGgpLGY9dGhpcy5tX2NpcmNsZVRlbXBsYXRlW3UldGhpcy5tX2NpcmNsZVRlbXBsYXRlLmxlbmd0aF0uY2xvbmUoKTtmLnNjYWxlQWRkVGhpcyh0aGlzLm1fYWJzRGlzdGFuY2Uscyk7Y29uc3QgXz0xMCp0aGlzLm1fdG9sZXJhbmNlLnRvdGFsKCk7Zi5zdWIoaSkubGVuZ3RoKCk8XyYmKHUrPTEpLGY9dGhpcy5tX2NpcmNsZVRlbXBsYXRlW2MldGhpcy5tX2NpcmNsZVRlbXBsYXRlLmxlbmd0aF0uY2xvbmUoKSxmLnNjYWxlQWRkVGhpcyh0aGlzLm1fYWJzRGlzdGFuY2UscyksZi5zdWIobikubGVuZ3RoKCk8XyYmKGMtPTEpO2xldCBnPWMtdTtnKys7Zm9yKGxldCBkPTAscD11JXRoaXMubV9jaXJjbGVUZW1wbGF0ZS5sZW5ndGg7ZDxnO2QrKyxwPShwKzEpJXRoaXMubV9jaXJjbGVUZW1wbGF0ZS5sZW5ndGgpZj10aGlzLm1fY2lyY2xlVGVtcGxhdGVbcF0uY2xvbmUoKSxmLnNjYWxlQWRkVGhpcyh0aGlzLm1fYWJzRGlzdGFuY2UscyksdC5saW5lVG8oZiksdGhpcy5wcm9ncmVzc18oKTttJiZ0LmxpbmVUbyhuKX1idWZmZXJDbG9zZWRQYXRoKGUsdCxzLGksbil7Y29uc3Qgcj1uZXcgRSxtPXIuYWRkUGF0aEZyb21NdWx0aVBhdGgoZSx0LCEwKTtyZXR1cm4gdGhpcy5idWZmZXJDbG9zZWRQYXRoSW1wbChyLG0scyxpLG4pfWJ1ZmZlckNsb3NlZFBhdGhJbXBsKGUsdCxzLGksbil7Y29uc3Qgcj1lLmdldEZpcnN0VmVydGV4KGUuZ2V0Rmlyc3RQYXRoKHQpKSxtPW5ldyBkO2UucXVlcnlQb2ludChyLG0pLGUuZmlsdGVyQ2xvc2VQb2ludHModGhpcy5tX2ZpbHRlclRvbGVyYW5jZSwhMSwhMSwhMSwtMSk7aWYoZS5nZXRQb2ludENvdW50KHQpPDIpcmV0dXJuIG48MD8wOih0aGlzLm1fYlJvdW5kQnVmZmVyJiZ0aGlzLmFkZENpcmNsZShzLG0pLDIpO3UoZS5nZXRGaXJzdFBhdGgodCkhPT1WKSx1KGUuZ2V0Rmlyc3RWZXJ0ZXgoZS5nZXRGaXJzdFBhdGgodCkpIT09Vik7Y29uc3Qgbz1lLmdldFhZKGUuZ2V0Rmlyc3RWZXJ0ZXgoZS5nZXRGaXJzdFBhdGgodCkpKSxhPW5ldyBCO2lmKGEuc2V0U2hpZnQoby5uZWdhdGUoKSksZS5hcHBseVRyYW5zZm9ybWF0aW9uKGEpLGkpe2NvbnN0IGk9JChlLHQsbiwhMCx0aGlzLm1fYWJzRGlzdGFuY2UsdGhpcy5tX2ZpbHRlclRvbGVyYW5jZSx0aGlzLm1fZGVuc2lmeURpc3QpO2lmKHUoMT09PWkpLGUuZ2V0UG9pbnRDb3VudCh0KTwyKXJldHVybiBuPDA/MDoodGhpcy5hZGRDaXJjbGUocyxtKSwyKX1jb25zdCBoPTAhPT10aGlzLm1fam9pbnMmJmUuZ2V0VmVydGV4RGVzY3JpcHRpb24oKS5oYXNBdHRyaWJ1dGUoMTApO3RoaXMubV9idWZmZXJDb21tYW5kcy5sZW5ndGg9MDtjb25zdCBsPWUuZ2V0Rmlyc3RQYXRoKHQpO2xldCBjPWUuZ2V0Rmlyc3RWZXJ0ZXgobCksZj0xPT09bj9lLmdldFByZXZWZXJ0ZXgoYyk6ZS5nZXROZXh0VmVydGV4KGMpLF89MT09PW4/ZS5nZXROZXh0VmVydGV4KGMpOmUuZ2V0UHJldlZlcnRleChjKSxnPSEwO2NvbnN0IHA9bmV3IHgsYj1uZXcgeCxQPW5ldyB4LHk9bmV3IHgsQz1uZXcgeCxEPW5ldyB4LHc9bmV3IHgsVD1uZXcgeCx2PXRoaXMubV9hYnNEaXN0YW5jZSxTPWUuZ2V0UGF0aFNpemUobCksST1uZXcgeCgwLDApO2ZvcihsZXQgdT0wO3U8Uzt1Kyspe2IuYXNzaWduKGUuZ2V0WFkoXykpLGcmJihwLmFzc2lnbihlLmdldFhZKGMpKSxQLmFzc2lnbihlLmdldFhZKGYpKSxELnNldFN1YihwLFApLEQubm9ybWFsaXplKCksVC5sZWZ0UGVycGVuZGljdWxhck90aGVyKEQpLFQuc2NhbGUodikseS5zZXRBZGQoVCxwKSk7Y29uc3QgdD1oJiYhISgxJmUuZ2V0QXR0cmlidXRlQXNEYmwoMTAsYywwKSk7Qy5zZXRTdWIoYixwKSxDLm5vcm1hbGl6ZSgpLHcubGVmdFBlcnBlbmRpY3VsYXJPdGhlcihDKSx3LnNjYWxlKHYpO2NvbnN0IHM9bmV3IHg7cy5zZXRBZGQocCx3KTtjb25zdCBpPUQuY3Jvc3NQcm9kdWN0KEMpLHI9RC5kb3RQcm9kdWN0KEMpO2lmKGk8MHx8cjwwJiZpPE1hdGguYWJzKHIpKk51bWJlci5FUFNJTE9OKjgpe2xldCBlPSExO2NvbnN0IG49dD8wOnRoaXMubV9qb2lucztpZigxPT09bil7Y29uc3QgdD0taTtJLnNldFN1YihELEMpLEkuc2NhbGUodGhpcy5tX2Fic0Rpc3RhbmNlL3QpLEkubGVuZ3RoKCk8dGhpcy5tX21pdGVyTGltaXQqdGhpcy5tX2Fic0Rpc3RhbmNlJiYoSS5hZGRUaGlzKHApLGU9ITApLHRoaXMubV9idWZmZXJDb21tYW5kcy5wdXNoKHEoeSxzLEksZT9MLmVudW1NaXRlcjpMLmVudW1CZXZlbCx0aGlzLm1fYnVmZmVyQ29tbWFuZHMubGVuZ3RoKzEpKX1lbHNlIHRoaXMubV9idWZmZXJDb21tYW5kcy5wdXNoKHEoeSxzLHAsMD09PW4/TC5lbnVtQXJjOkwuZW51bUJldmVsLHRoaXMubV9idWZmZXJDb21tYW5kcy5sZW5ndGgrMSkpfWVsc2UgeS5lcXVhbHMocyl8fCh0aGlzLm1fYnVmZmVyQ29tbWFuZHMucHVzaCh6KHkscCx0aGlzLm1fYnVmZmVyQ29tbWFuZHMubGVuZ3RoKzEpKSx0aGlzLm1fYnVmZmVyQ29tbWFuZHMucHVzaCh6KHAscyx0aGlzLm1fYnVmZmVyQ29tbWFuZHMubGVuZ3RoKzEpKSk7Y29uc3QgbT1uZXcgeDttLnNldEFkZChiLHcpLHRoaXMubV9idWZmZXJDb21tYW5kcy5wdXNoKHEocyxtLHAsTC5lbnVtTGluZSx0aGlzLm1fYnVmZmVyQ29tbWFuZHMubGVuZ3RoKzEpKSx5LnNldENvb3Jkc1BvaW50MkQobSksVC5zZXRDb29yZHNQb2ludDJEKHcpLFAuc2V0Q29vcmRzUG9pbnQyRChwKSxwLnNldENvb3Jkc1BvaW50MkQoYiksRC5zZXRDb29yZHNQb2ludDJEKEMpLGY9YyxjPV8sZz0hMSxfPTE9PT1uP2UuZ2V0TmV4dFZlcnRleChjKTplLmdldFByZXZWZXJ0ZXgoYyl9cmV0dXJuIHRoaXMubV9idWZmZXJDb21tYW5kcy5hdCgtMSkubV9uZXh0PTAsdGhpcy5wcm9jZXNzQnVmZmVyQ29tbWFuZHMocyksYS5zZXRTaGlmdChvKSxzLmFwcGx5VHJhbnNmb3JtYXRpb25Ub1BhdGgoYSxzLmdldFBhdGhDb3VudCgpLTEpLDF9YnVmZmVyT3BlblBhdGgoZSx0LHMsaSl7aWYodGhpcy5tX2JSb3VuZEJ1ZmZlcil7Y29uc3Qgbj1uZXcgSSh7dmQ6ZS5nZXREZXNjcmlwdGlvbigpfSk7cmV0dXJuIG4uYWRkUGF0aChlLHQsITEpLG4uYWRkU2VnbWVudHNGcm9tUGF0aChlLHQsMCxlLmdldFNlZ21lbnRDb3VudFBhdGgodCksITEpLHRoaXMuYnVmZmVyQ2xvc2VkUGF0aChuLDAscyxpLDEpfWxldCBuPTA7Y29uc3Qgcj1uZXcgSSh7dmQ6ZS5nZXREZXNjcmlwdGlvbigpfSksbT1uZXcgeCgwLDApO3tjb25zdCBpPW5ldyBFLG89aS5hZGRQYXRoRnJvbU11bHRpUGF0aChlLHQsITEpLGE9aS5nZXRGaXJzdFZlcnRleChpLmdldEZpcnN0UGF0aChvKSksaD1uZXcgZDtpLnF1ZXJ5UG9pbnQoYSxoKSxtLmFzc2lnbihoLmdldFhZKCkpLGkuZmlsdGVyQ2xvc2VQb2ludHMoMCwhMSwhMSwhMSwtMSk7aWYoaS5nZXRQb2ludENvdW50KG8pPDIpcmV0dXJuIHRoaXMubV9iUm91bmRCdWZmZXImJnRoaXMuYWRkQ2lyY2xlKHMsaCksMjtjb25zdCBsPWkuZ2V0R2VvbWV0cnkoaS5nZXRGaXJzdEdlb21ldHJ5KCkpO3IuYWRkUGF0aChsLDAsITEpLG49ci5nZXRQb2ludENvdW50KCktMSxyLmFkZFNlZ21lbnRzRnJvbVBhdGgobCwwLDAsbC5nZXRTZWdtZW50Q291bnRQYXRoKDApLTEsITEpfWNvbnN0IG89bmV3IEUsYT1vLmFkZFBhdGhGcm9tTXVsdGlQYXRoKHIsMCwhMCk7dShvLmdldEZpcnN0UGF0aChhKSE9PVYpLHUoby5nZXRGaXJzdFZlcnRleChvLmdldEZpcnN0UGF0aChhKSkhPT1WKTtjb25zdCBoPW5ldyBCO2guc2V0U2hpZnQobS5uZWdhdGUoKSksby5hcHBseVRyYW5zZm9ybWF0aW9uKGgpLHRoaXMubV9idWZmZXJDb21tYW5kcy5sZW5ndGg9MDtjb25zdCBsPW8uZ2V0Rmlyc3RQYXRoKGEpLGM9MCE9PXRoaXMubV9qb2lucyYmby5nZXRWZXJ0ZXhEZXNjcmlwdGlvbigpLmhhc0F0dHJpYnV0ZSgxMCk7bGV0IGY9by5nZXRGaXJzdFZlcnRleChsKSxfPW8uZ2V0UHJldlZlcnRleChmKSxnPW8uZ2V0TmV4dFZlcnRleChmKSxwPSEwO2NvbnN0IGI9bmV3IHgsUD1uZXcgeCx5PW5ldyB4LEM9bmV3IHgsRD1uZXcgeCx3PW5ldyB4LFQ9bmV3IHgsdj1uZXcgeCxTPXRoaXMubV9hYnNEaXN0YW5jZSxNPW8uZ2V0UGF0aFNpemUobCksaz1uZXcgeCgwLDApO2ZvcihsZXQgdT0wO3U8TTt1Kyspe2xldCBlPSExOzAhPT11JiZ1IT09bnx8KGU9ITApLFAuYXNzaWduKG8uZ2V0WFkoZykpLHAmJihiLmFzc2lnbihvLmdldFhZKGYpKSx5LmFzc2lnbihvLmdldFhZKF8pKSx3LnNldFN1YihiLHkpLHcubm9ybWFsaXplKCksdi5sZWZ0UGVycGVuZGljdWxhck90aGVyKHcpLHYuc2NhbGUoUyksQy5zZXRBZGQodixiKSk7Y29uc3QgdD1jJiYhISgxJm8uZ2V0QXR0cmlidXRlQXNEYmwoMTAsZiwwKSk7RC5zZXRTdWIoUCxiKSxELm5vcm1hbGl6ZSgpLFQubGVmdFBlcnBlbmRpY3VsYXJPdGhlcihEKSxULnNjYWxlKFMpO2NvbnN0IHM9bmV3IHg7cy5zZXRBZGQoYixUKTtjb25zdCBpPXcuY3Jvc3NQcm9kdWN0KEQpLHI9dy5kb3RQcm9kdWN0KEQpO2lmKGk8MHx8cjwwJiZpPE1hdGguYWJzKHIpKk51bWJlci5FUFNJTE9OKjgpaWYoZSlpZigwPT09dGhpcy5tX2NhcHMpdGhpcy5tX2J1ZmZlckNvbW1hbmRzLnB1c2gocShDLHMsYixMLmVudW1BcmMsdGhpcy5tX2J1ZmZlckNvbW1hbmRzLmxlbmd0aCsxKSk7ZWxzZSBpZigxPT09dGhpcy5tX2NhcHMpdGhpcy5tX2J1ZmZlckNvbW1hbmRzLnB1c2gocShDLHMsYixMLmVudW1MaW5lLHRoaXMubV9idWZmZXJDb21tYW5kcy5sZW5ndGgrMSkpO2Vsc2V7Y29uc3QgZT1ELm11bCh0aGlzLm1fYWJzRGlzdGFuY2UpLm5lZ2F0ZSgpLHQ9ZS5jbG9uZSgpO2UuYWRkVGhpcyhDKSx0LmFkZFRoaXMocyksdGhpcy5tX2J1ZmZlckNvbW1hbmRzLnB1c2gocShDLGUsYixMLmVudW1MaW5lLHRoaXMubV9idWZmZXJDb21tYW5kcy5sZW5ndGgrMSkpLHRoaXMubV9idWZmZXJDb21tYW5kcy5wdXNoKHEoZSx0LGIsTC5lbnVtTGluZSx0aGlzLm1fYnVmZmVyQ29tbWFuZHMubGVuZ3RoKzEpKSx0aGlzLm1fYnVmZmVyQ29tbWFuZHMucHVzaChxKHQscyxiLEwuZW51bUxpbmUsdGhpcy5tX2J1ZmZlckNvbW1hbmRzLmxlbmd0aCsxKSl9ZWxzZXtsZXQgZT0hMTtjb25zdCBuPXQ/MDp0aGlzLm1fam9pbnM7aWYoMT09PW4pe2NvbnN0IHQ9LWk7ay5zZXRTdWIodyxEKSxrLnNjYWxlKHRoaXMubV9hYnNEaXN0YW5jZS90KSxrLmxlbmd0aCgpPHRoaXMubV9taXRlckxpbWl0KnRoaXMubV9hYnNEaXN0YW5jZSYmKGsuYWRkVGhpcyhiKSxlPSEwKSx0aGlzLm1fYnVmZmVyQ29tbWFuZHMucHVzaChxKEMscyxrLGU/TC5lbnVtTWl0ZXI6TC5lbnVtQmV2ZWwsdGhpcy5tX2J1ZmZlckNvbW1hbmRzLmxlbmd0aCsxKSl9ZWxzZSB0aGlzLm1fYnVmZmVyQ29tbWFuZHMucHVzaChxKEMscyxiLDA9PT1uP0wuZW51bUFyYzpMLmVudW1CZXZlbCx0aGlzLm1fYnVmZmVyQ29tbWFuZHMubGVuZ3RoKzEpKX1lbHNlIEMuZXF1YWxzKHMpfHwodGhpcy5tX2J1ZmZlckNvbW1hbmRzLnB1c2goeihDLGIsdGhpcy5tX2J1ZmZlckNvbW1hbmRzLmxlbmd0aCsxKSksdGhpcy5tX2J1ZmZlckNvbW1hbmRzLnB1c2goeihiLHMsdGhpcy5tX2J1ZmZlckNvbW1hbmRzLmxlbmd0aCsxKSkpO2NvbnN0IG09bmV3IHg7bS5zZXRBZGQoUCxUKSx0aGlzLm1fYnVmZmVyQ29tbWFuZHMucHVzaChxKHMsbSxiLEwuZW51bUxpbmUsdGhpcy5tX2J1ZmZlckNvbW1hbmRzLmxlbmd0aCsxKSksQy5zZXRDb29yZHNQb2ludDJEKG0pLHYuc2V0Q29vcmRzUG9pbnQyRChUKSx5LnNldENvb3Jkc1BvaW50MkQoYiksYi5zZXRDb29yZHNQb2ludDJEKFApLHcuc2V0Q29vcmRzUG9pbnQyRChEKSxfPWYsZj1nLHA9ITEsZz1vLmdldE5leHRWZXJ0ZXgoZil9cmV0dXJuIHRoaXMubV9idWZmZXJDb21tYW5kcy5hdCgtMSkubV9uZXh0PTAsdGhpcy5wcm9jZXNzQnVmZmVyQ29tbWFuZHMocyksaC5zZXRTaGlmdChtKSxzLmFwcGx5VHJhbnNmb3JtYXRpb25Ub1BhdGgoaCxzLmdldFBhdGhDb3VudCgpLTEpLDF9cHJvY2Vzc0J1ZmZlckNvbW1hbmRzKGUpe2NvbnN0IHQ9dGhpcy5jbGVhbnVwQnVmZmVyQ29tbWFuZHMoKTtsZXQgcz0hMCxpPXQrMTtmb3IobGV0IG49dDtpIT09dDtuPWkpe2NvbnN0IHQ9dGhpcy5tX2J1ZmZlckNvbW1hbmRzW25dO2k9LTEhPT10Lm1fbmV4dD90Lm1fbmV4dDoobisxKSV0aGlzLm1fYnVmZmVyQ29tbWFuZHMubGVuZ3RoLHQubV90eXBlJiYocyYmKGUuc3RhcnRQYXRoKHQubV9mcm9tKSxzPSExKSx0Lm1fdHlwZSZMLmVudW1Kb2luTWFzaz90aGlzLmFkZEpvaW4odC5tX3R5cGUsZSx0Lm1fY2VudGVyLHQubV9mcm9tLHQubV90bywhMSwhMCk6ZS5saW5lVG8odC5tX3RvKSl9fWNsZWFudXBCdWZmZXJDb21tYW5kcygpe3RoaXMubV9oZWxwZXJBcnJheT15KHgsOSk7bGV0IGU9MDtmb3IobGV0IHM9MCxpPXRoaXMubV9idWZmZXJDb21tYW5kcy5sZW5ndGg7czxpOyl7Y29uc3QgdD10aGlzLm1fYnVmZmVyQ29tbWFuZHNbc107aWYodC5tX3R5cGUmTC5lbnVtQ29ubmVjdGlvbk1hc2spe2U9czticmVha31zPXQubV9uZXh0fWxldCB0PWUrMTtmb3IobGV0IHM9ZTt0IT09ZTtzPXQpe2NvbnN0IGU9dGhpcy5tX2J1ZmZlckNvbW1hbmRzW3NdO3Q9ZS5tX25leHQ7bGV0IGk9MSxuPW51bGw7Zm9yKDt0IT09cyYmKG49dGhpcy5tX2J1ZmZlckNvbW1hbmRzW3RdLCEobi5tX3R5cGUmTC5lbnVtQ29ubmVjdGlvbk1hc2spKTspdD1uLm1fbmV4dCxpKys7aWYoMSE9PWkmJihlLm1fdHlwZSZuLm1fdHlwZSk9PT1MLmVudW1MaW5lKXt0aGlzLm1faGVscGVyTGluZTEuc2V0U3RhcnRYWShlLm1fZnJvbSksdGhpcy5tX2hlbHBlckxpbmUxLnNldEVuZFhZKGUubV90byksdGhpcy5tX2hlbHBlckxpbmUyLnNldFN0YXJ0WFkobi5tX2Zyb20pLHRoaXMubV9oZWxwZXJMaW5lMi5zZXRFbmRYWShuLm1fdG8pOzE9PT10aGlzLm1faGVscGVyTGluZTEuaW50ZXJzZWN0KHRoaXMubV9oZWxwZXJMaW5lMix0aGlzLm1faGVscGVyQXJyYXksbnVsbCxudWxsLHRoaXMubV9zbWFsbFRvbGVyYW5jZS50b3RhbCgpKSYmKGUubV90by5hc3NpZ24odGhpcy5tX2hlbHBlckFycmF5WzBdKSxuLm1fZnJvbS5hc3NpZ24odGhpcy5tX2hlbHBlckFycmF5WzBdKSxlLm1fbmV4dD10KX19cmV0dXJuIGV9aXNEZWdlbmVyYXRlUGF0aChlLHQpe2lmKDE9PT1lLmdldFBhdGhTaXplKHQpKXJldHVybiEwO2lmKDA9PT10aGlzLm1fam9pbnMmJjA9PT10aGlzLm1fY2Fwcyl7Y29uc3Qgcz1uZXcgaztpZihlLnF1ZXJ5UGF0aEVudmVsb3BlKHQscyksTWF0aC5tYXgocy53aWR0aCgpLHMuaGVpZ2h0KCkpPC41KnRoaXMubV9kZW5zaWZ5RGlzdClyZXR1cm4hMH1yZXR1cm4hMX1pc0RlZ2VuZXJhdGVHZW9tZXRyeShlKXtpZigwPT09dGhpcy5tX2pvaW5zJiYwPT09dGhpcy5tX2NhcHMpe2NvbnN0IHQ9bmV3IGs7aWYoZS5xdWVyeUVudmVsb3BlKHQpLE1hdGgubWF4KHQud2lkdGgoKSx0LmhlaWdodCgpKTwuNSp0aGlzLm1fZGVuc2lmeURpc3QpcmV0dXJuITB9cmV0dXJuITF9YWRkQ2lyY2xlKGUsdCl7Y29uc3Qgcz10LmdldFhZKCk7aWYoMCE9PXRoaXMubV9jaXJjbGVUZW1wbGF0ZS5sZW5ndGgpe2xldCB0PXRoaXMubV9jaXJjbGVUZW1wbGF0ZVswXS5jbG9uZSgpO3Quc2NhbGVBZGRUaGlzKHRoaXMubV9hYnNEaXN0YW5jZSxzKSxlLnN0YXJ0UGF0aCh0KTtmb3IobGV0IGk9MSxuPXRoaXMubV9jaXJjbGVUZW1wbGF0ZS5sZW5ndGg7aTxuO2krKyl0PXRoaXMubV9jaXJjbGVUZW1wbGF0ZVtpXS5jbG9uZSgpLHQuc2NhbGVBZGRUaGlzKHRoaXMubV9hYnNEaXN0YW5jZSxzKSxlLmxpbmVUbyh0KTtyZXR1cm59Y29uc3QgaT10aGlzLm1fY2lyY2xlVGVtcGxhdGVTaXplLG49TWF0aC50cnVuYygoaSszKS80KSxyPS41Kk1hdGguUEkvbjtlLnJlc2VydmUoNCpuKTtjb25zdCBtPU1hdGguY29zKHIpLG89TWF0aC5zaW4ocik7Zm9yKGxldCBhPTM7YT49MDthLS0pe2NvbnN0IHQ9eC5jb25zdHJ1Y3QoMCx0aGlzLm1fYWJzRGlzdGFuY2UpO3N3aXRjaChhKXtjYXNlIDA6Zm9yKGxldCBpPTA7aTxuO2krKyllLmxpbmVUb0Nvb3Jkcyh0Lngrcy54LHQueStzLnkpLHQucm90YXRlUmV2ZXJzZShtLG8pO2JyZWFrO2Nhc2UgMTpmb3IobGV0IGk9MDtpPG47aSsrKWUubGluZVRvQ29vcmRzKC10Lnkrcy54LHQueCtzLnkpLHQucm90YXRlUmV2ZXJzZShtLG8pO2JyZWFrO2Nhc2UgMjpmb3IobGV0IGk9MDtpPG47aSsrKWUubGluZVRvQ29vcmRzKC10Lngrcy54LC10Lnkrcy55KSx0LnJvdGF0ZVJldmVyc2UobSxvKTticmVhaztkZWZhdWx0OmUuc3RhcnRQYXRoQ29vcmRzKHQueStzLngsLXQueCtzLnkpO2ZvcihsZXQgaT0xO2k8bjtpKyspdC5yb3RhdGVSZXZlcnNlKG0sbyksZS5saW5lVG9Db29yZHModC55K3MueCwtdC54K3MueSl9dGhpcy5wcm9ncmVzc18oKX19YWRkU3F1YXJlKGUsdCl7Y29uc3Qgcz1uZXcgcCh7dmQ6dC5nZXREZXNjcmlwdGlvbigpfSk7cy5zZXRDb29yZHModC5nZXRYKCksdC5nZXRZKCksdC5nZXRYKCksdC5nZXRZKCkpLHMuaW5mbGF0ZUNvb3Jkcyh0aGlzLm1fYWJzRGlzdGFuY2UsdGhpcy5tX2Fic0Rpc3RhbmNlKSxlLmFkZEVudmVsb3BlKHMsITEpfXNldFN0cm9uZ1NpbXBsZShlKXtyZXR1cm4gZS5nZXRJbXBsKCkuc2V0SXNTaW1wbGUoNCx0aGlzLm1fdG9sZXJhbmNlLnRvdGFsKCkpLGUuZ2V0SW1wbCgpLnVwZGF0ZU9HQ0ZsYWdzUHJvdGVjdGVkKCksZX19ZnVuY3Rpb24gSChlKXtyZXR1cm4gYihlLDApLGV9ZnVuY3Rpb24gSyhlLHQpe3JldHVybiEhZS5pc0VtcHR5KCl8fE1hdGgubWluKGUud2lkdGgoKSxlLmhlaWdodCgpKT50fWZ1bmN0aW9uIFEoZSx0LHMsaSxuLHIsbSxvKXtjb25zdCBhPWUuZ2V0WFkocyksaD1lLmdldFhZKGkpO2lmKGEuZXF1YWxzKGgpKXJldHVybi0xO2NvbnN0IGw9LjI1Km0sYz0uMjUqbSxmPW5ldyB4O2Yuc2V0U3ViKGgsYSk7Y29uc3QgXz1mLmxlbmd0aCgpLGc9XypfKi4yNSxkPXIqci1nO2lmKGQ8PWcpcmV0dXJuLTE7Y29uc3QgcD1NYXRoLnNxcnQoZCk7Zi5ub3JtYWxpemUoKTtjb25zdCBiPWYuY2xvbmUoKTtiLnJpZ2h0UGVycGVuZGljdWxhclRoaXMoKTtjb25zdCBQPWcvcCx5PVA8PWMsQz14LmxlcnAoaCxhLC41KSxUPWIuY2xvbmUoKSx2PVAtbDtULnNjYWxlQWRkVGhpcyhNYXRoLm1heCgwLHYpLEMpO2IubmVnYXRlKCkuc2NhbGVBZGRUaGlzKHAsQyk7Y29uc3QgUz0zLjYxKncoci1jKSxJPVQuc3ViKGEpLE09VC5zdWIoaCk7bGV0IEU9ITEsVj0wO2NvbnN0IGs9RCg2NCwwKTt1KG89PT1rLmxlbmd0aCk7e2ZvcihsZXQgbz1lLmdldFByZXZWZXJ0ZXhFeChpLG4pO28hPT1zOyl7aWYoMT09PWUuZ2V0VXNlckluZGV4KG8sdCkpcmV0dXJuLTE7aWYoIWUuZ2V0WFkobykuZXF1YWxzKGgpKWJyZWFrO3tjb25zdCB0PWUuZ2V0UHJldlZlcnRleEV4KG8sbik7ZS5yZW1vdmVWZXJ0ZXgobywhMSksbz10fX1jb25zdCByPW5ldyB4LG09YS5jbG9uZSgpO2tbVisrXT0xO2ZvcihsZXQgbz1lLmdldE5leHRWZXJ0ZXhFeChzLG4pO28hPT1pOyl7aWYoMT09PWUuZ2V0VXNlckluZGV4KG8sdCkpcmV0dXJuLTE7Y29uc3Qgcz1lLmdldFhZKG8pO2lmKHMuZXF1YWxzKG0pKXtjb25zdCB0PWUuZ2V0TmV4dFZlcnRleEV4KG8sbik7ZS5yZW1vdmVWZXJ0ZXgobywhMSksbz10O2NvbnRpbnVlfWtbVisrXT0wO2NvbnN0IGk9bmV3IHg7aWYoaS5zZXRTdWIocyxhKSxpLmRvdFByb2R1Y3QoYik8MClyZXR1cm4gMDsoeC5zcXJEaXN0YW5jZShzLGEpPlN8fHguc3FyRGlzdGFuY2UocyxoKT5TKSYmKEU9ITApO2xldCBsPTA7cy5zdWIoYSkuY3Jvc3NQcm9kdWN0KEkpPj0wJiYobD0xKTtpZihzLnN1YihoKS5jcm9zc1Byb2R1Y3QoTSk8PTAmJihsfD0yKSwwPT09bClyZXR1cm4gMDtrW1YtMV09bCxyLmFzc2lnbihtKSxtLmFzc2lnbihzKSxvPWUuZ2V0TmV4dFZlcnRleEV4KG8sbil9aWYoMT09PVYpcmV0dXJuIDA7dShWPGsubGVuZ3RoKSxrW1YrK109Mn1sZXQgQj0hMDtmb3IobGV0IHU9MSx4PTA7dTxWO3UrKylpZihrW3VdIT09a1t1LTFdJiYoeCsrLEI9eDwzJiYoMT09PXgmJjM9PT1rW3VdfHwyPT09eCYmMj09PWtbdV0pLCFCKSlyZXR1cm4gMDtpZihWPjImJkImJigzPT09Vnx8IUUpKXtsZXQgdD0wLHI9ZS5nZXROZXh0VmVydGV4RXgocyxuKTtmb3IoeXx8KGUuc2V0WFkocixUKSxyPWUuZ2V0TmV4dFZlcnRleEV4KHIsbikpO3IhPT1pOyl7Y29uc3Qgcz1lLmdldE5leHRWZXJ0ZXhFeChyLG4pO2UucmVtb3ZlVmVydGV4KHIsITEpLHI9cywrK3R9cmV0dXJuIHR9aWYodSgzIT09ViksRSYmVj4zKXJldHVybiAwO2NvbnN0IFI9YS5jbG9uZSgpO2xldCBBPXM7Y29uc3QgWD1hLmNsb25lKCk7bGV0IFk9MSxqPS0xLEY9QSxMPTA7Zm9yKFY9MTtGIT09aTspe0Y9ZS5nZXROZXh0VmVydGV4RXgoRixuKTtjb25zdCB0PWtbVisrXTtpZigwPT09dCl7aWYoRj09PWkpYnJlYWs7Y29udGludWV9Y29uc3Qgcz1lLmdldFhZKEYpO2lmKC0xIT09ail7aWYoMyYoaiZZJnQpKXtlLnJlbW92ZVZlcnRleChBLCEwKSxMKyssQT1GLFguc2V0Q29vcmRzUG9pbnQyRChzKSxZPXQ7Y29udGludWV9aWYoMz09PVkmJjAhPT1qJiYwIT09dCl7aWYoWC5zZXRDb29yZHNQb2ludDJEKFQpLHl8fFguZXF1YWxzKFIpKXtlLnJlbW92ZVZlcnRleChBLCEwKSxMKyssQT1GLFguc2V0Q29vcmRzUG9pbnQyRChzKSxZPXQ7Y29udGludWV9ZS5zZXRYWShBLFgpfX1qPVksUi5zZXRDb29yZHNQb2ludDJEKFgpLEE9RixZPXQsWC5zZXRDb29yZHNQb2ludDJEKHMpfXJldHVybiBMfWZ1bmN0aW9uIFcoZSx0LHMsaSl7bGV0IG49LTE7Y29uc3Qgcj1uZXcgeCxtPW5ldyB4LG89bmV3IHg7Zm9yKGxldCBhPTAsaD1lLmdldFBhdGhTaXplKGkpLGw9ZS5nZXRGaXJzdFZlcnRleChpKTthPGg7KythKXstMT09PW4mJihlLnF1ZXJ5WFkobCxtKSxuPWUuZ2V0UHJldlZlcnRleChsKSwtMSE9PW4mJihlLnF1ZXJ5WFkobixyKSxvLnNldFN1YihtLHIpLG8ubm9ybWFsaXplKCkpKTtjb25zdCBzPWUuZ2V0TmV4dFZlcnRleChsKTtpZigtMT09PXMpYnJlYWs7Y29uc3QgaT1lLmdldFhZKHMpLGE9aS5zdWIobSk7aWYoYS5ub3JtYWxpemUoKSwtMSE9PW4pe2EuZG90UHJvZHVjdChvKTwtLjk5JiZNYXRoLmFicyhhLmNyb3NzUHJvZHVjdChvKSk8MWUtNyYmZS5zZXRVc2VySW5kZXgobCx0LDEpfW49bCxsPXMsci5hc3NpZ24obSksbS5hc3NpZ24oaSksby5hc3NpZ24oYSl9fWZ1bmN0aW9uIFoocyxpLG4scixtLG8sYSl7Y29uc3QgaD17c3RhY2s6W10sZXJyb3I6dm9pZCAwLGhhc0Vycm9yOiExfTt0cnl7Y29uc3QgdD1zLmdldEZpcnN0UGF0aChpKSxyPXMuY3JlYXRlVXNlckluZGV4KCk7ZShoLEMoKCgpPT57cy5yZW1vdmVVc2VySW5kZXgocil9KSwhMSksITEpLFcocyxyLGksdCk7Zm9yKGxldCBlPTA7ZTwxMDA7KytlKXtpZigwPT09cy5nZXRQYXRoU2l6ZSh0KSlyZXR1cm4gMTtsZXQgZT1zLmdldEZpcnN0VmVydGV4KHQpLGk9cy5nZXRQYXRoU2l6ZSh0KTtpZihpPDMpcmV0dXJuIDE7cy5pc0Nsb3NlZFBhdGgodCl8fChpLT0xKTtjb25zdCBvPTY0O2xldCBoPTAsbD0hMTtmb3IobGV0IHQ9MDt0PGkmJmUhPT1WO3QrKyl7bGV0IGM9MCx1PWU7Zm9yKGxldCBoPTEsbD1NYXRoLm1pbihvLGktdCk7aDxsO2grKylpZih1PXMuZ2V0TmV4dFZlcnRleEV4KHUsbiksaD4xKXtjb25zdCB0PVEocyxyLGUsdSxuLG0sYSxvKTtpZigtMT09PXQpYnJlYWs7Yys9dCxpLT10fWlmKGgrPWMsbD1jPjAsbCl7Y29uc3QgdD1zLmdldFByZXZWZXJ0ZXhFeChlLG4pO2lmKC0xIT09dCl7ZT10LGkrKztjb250aW51ZX19ZT1zLmdldE5leHRWZXJ0ZXhFeChlLG4pfWlmKDA9PT1oKWJyZWFrfXJldHVybiBzLmZpbHRlckNsb3NlUG9pbnRzKG8sITEsITEsITEsLTEpLDF9Y2F0Y2gobCl7aC5lcnJvcj1sLGguaGFzRXJyb3I9ITB9ZmluYWxseXt0KGgpfX1mdW5jdGlvbiAkKGUsdCxzLGksbixyLG0pe3JldHVybiBaKGUsdCxzLGksbixyLG0pfWZ1bmN0aW9uIGVlKGUsdCxzLGkpe2ZvcihsZXQgbj0wLHI9ZS5nZXRQYXRoQ291bnQoKTtuPHI7bisrKXtjb25zdCByPWUuZ2V0WFkoZS5nZXRQYXRoU3RhcnQobikpO3IueCE9PXMueG1pbiYmci54IT09cy54bWF4JiZ0LmFkZFBhdGgoZSxuLGkpfX1leHBvcnR7VSBhcyBCfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjMzL2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7RyBhcyB0LGggYXMgZSx0IGFzIG59ZnJvbVwiLi9HZW9tZXRyeS5qc1wiO2Z1bmN0aW9uIGkoaSxhKXtjb25zdCBmPWkuZ2V0R2VvbWV0cnlUeXBlKCk7cmV0dXJuIGY9PT10LmVudW1Qb2ludD9yKGkpOmUoZik/dShpKTpmPT09dC5lbnVtTXVsdGlQb2ludD9vKGkpOmY9PT10LmVudW1FbnZlbG9wZT9pOmY9PT10LmVudW1NdWx0aXBhdGNoPyhuKFwibm90IGltcGxlbWVudGVkIGZvciBtdWx0aXBhdGNoXCIpLGkpOml9ZnVuY3Rpb24gcih0KXtyZXR1cm4gdH1mdW5jdGlvbiB1KGUpe2lmKGEoZSkpcmV0dXJuIGU7Y29uc3Qgbj1lLmNyZWF0ZUluc3RhbmNlKCk7Zm9yKGxldCBpPTAscj1lLmdldFBhdGhDb3VudCgpO2k8cjtpKyspe2NvbnN0IHI9ZS5nZXRQYXRoU2l6ZShpKTtpZigwIT09cil7aWYoMT09PXIpe2lmKDA9PT1lLmdldFNlZ21lbnRDb3VudFBhdGgoaSkpY29udGludWU7aWYoZS5nZXRTZWdtZW50VHlwZShlLmdldFBhdGhTdGFydChpKSk9PT10LmVudW1MaW5lKWNvbnRpbnVlO2lmKCFlLmlzQ2xvc2VkUGF0aChpKSljb250aW51ZX1uLmFkZFBhdGgoZSxpLCEwKX19cmV0dXJuIG59ZnVuY3Rpb24gbyh0KXtyZXR1cm4gdH1mdW5jdGlvbiBhKGUpe2ZvcihsZXQgbj0wLGk9ZS5nZXRQYXRoQ291bnQoKTtuPGk7bisrKXtjb25zdCBpPWUuZ2V0UGF0aFNpemUobik7aWYoMD09PWkpcmV0dXJuITE7aWYoMT09PWkpe2lmKDA9PT1lLmdldFNlZ21lbnRDb3VudFBhdGgobikpcmV0dXJuITE7aWYoZS5nZXRTZWdtZW50VHlwZShlLmdldFBhdGhTdGFydChuKSk9PT10LmVudW1MaW5lKXJldHVybiExO2lmKCFlLmlzQ2xvc2VkUGF0aChuKSlyZXR1cm4hMX19cmV0dXJuITB9ZXhwb3J0e2kgYXMgY307XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4zMy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e2IgYXMgdCxjIGFzIGV9ZnJvbVwiLi90c2xpYi5lczYuanNcIjtpbXBvcnR7RyBhcyBzfWZyb21cIi4vU2ltcGxlR2VvbWV0cnlDdXJzb3IuanNcIjtpbXBvcnR7YSBhcyBpLGMgYXMgcixlIGFzIGEsRyBhcyBuLGYgYXMgaCxoIGFzIG0sdCBhcyBsfWZyb21cIi4vR2VvbWV0cnkuanNcIjtpbXBvcnR7YSBhcyBvLFAgYXMgYyxMIGFzIHV9ZnJvbVwiLi9NdWx0aVBhdGhJbXBsLmpzXCI7aW1wb3J0e1AgYXMgX31mcm9tXCIuL0VudmVsb3BlLmpzXCI7aW1wb3J0e2ggYXMgZyxQIGFzIHAsYyBhcyBrfWZyb21cIi4vUG9pbnQyRC5qc1wiO2ltcG9ydHtPIGFzIGZ9ZnJvbVwiLi9PcGVyYXRvckRlbnNpZnkuanNcIjtjbGFzcyBQe2dldE9wZXJhdG9yVHlwZSgpe3JldHVybiAxMDIwNH1zdXBwb3J0c0N1cnZlcygpe3JldHVybiEwfWFjY2VsZXJhdGVHZW9tZXRyeSh0LGUscyl7cmV0dXJuITF9Y2FuQWNjZWxlcmF0ZUdlb21ldHJ5KHQpe3JldHVybiExfWV4ZWN1dGVNYW55KHQsZSxzLGkpe3JldHVybiBuZXcgeSh0LGUscyxpKX1leGVjdXRlKHQsZSxzLHIpe3R8fGkoXCJudWxsIHBhcmFtIGlzIG5vdCBhbGxvd2VkLlwiKTtyZXR1cm4gbmV3IHkobnVsbCxlLHMscikuZ2VuZXJhbGl6ZSh0KX19Y2xhc3MgeSBleHRlbmRzIHN7Y29uc3RydWN0b3IodCxlLHMsaSl7c3VwZXIoKSx0aGlzLm1fcGxpbmU9bnVsbCx0aGlzLm1fcG9pbnQ9bmV3IF8sdGhpcy5tX3N0YWNrPVtdLHRoaXMubV9yZXN1bHRzdGFjaz1bXSx0aGlzLm1fY2FsbENvdW50PTAsdGhpcy5tX3Byb2dyZXNzVHJhY2tlcj1pLHRoaXMubV9nZW9tcz10LHRoaXMubV9tYXhEZXZpYXRpb249ZSx0aGlzLm1fYlJlbW92ZURlZ2VuZXJhdGVQYXJ0cz1zfXRvY2soKXtyZXR1cm4hMH1nZXRSYW5rKCl7cmV0dXJuIDF9bmV4dCgpe2NvbnN0IHQ9dGhpcy5tX2dlb21zLm5leHQoKTtyZXR1cm4gbnVsbD09PXQ/bnVsbDoocih0KSx0aGlzLmdlbmVyYWxpemUodCkpfWdldEdlb21ldHJ5SUQoKXtyZXR1cm4gdGhpcy5tX2dlb21zLmdldEdlb21ldHJ5SUQoKX1nZW5lcmFsaXplKHMpe2NvbnN0IGk9cy5nZXRHZW9tZXRyeVR5cGUoKTtpZihhKGkpKXJldHVybiBzO2lmKGk9PT1uLmVudW1FbnZlbG9wZSl7Y29uc3QgdD1uZXcgbyh7dmQ6cy5nZXREZXNjcmlwdGlvbigpfSk7cmV0dXJuIHQuYWRkRW52ZWxvcGUocywhMSksdGhpcy5nZW5lcmFsaXplKHQpfWlmKGgoaSkpe2NvbnN0IHQ9bmV3IGMoe3ZkOnMuZ2V0RGVzY3JpcHRpb24oKX0pO3JldHVybiB0LmFkZFNlZ21lbnQocywhMCksdGhpcy5nZW5lcmFsaXplKHQpfWlmKG0oaSl8fGwoXCJcIikscy5pc0VtcHR5KCl8fHRoaXMubV9tYXhEZXZpYXRpb248PTApcmV0dXJuIHM7Y29uc3Qgcj0obmV3IGYpLmV4ZWN1dGUocywwLC4wNSp0aGlzLm1fbWF4RGV2aWF0aW9uLDAsdGhpcy5tX3Byb2dyZXNzVHJhY2tlcik7cy5oYXNOb25MaW5lYXJTZWdtZW50cygpJiYodGhpcy5tX21heERldmlhdGlvbio9Ljk1KTtjb25zdCBfPXIscD1zLmNyZWF0ZUluc3RhbmNlKCk7aWYocC5nZXRHZW9tZXRyeVR5cGUoKT09PW4uZW51bVBvbHlnb24pe3Auc2V0RmlsbFJ1bGUocy5nZXRGaWxsUnVsZSgpKX10aGlzLm1feHk9Xy5nZXRBdHRyaWJ1dGVTdHJlYW1SZWYoMCk7e2NvbnN0IHM9e3N0YWNrOltdLGVycm9yOnZvaWQgMCxoYXNFcnJvcjohMX07dHJ5e2NvbnN0IGU9bmV3IHU7dGhpcy5tX3BsaW5lPWUsdChzLGcoKCgpPT57dGhpcy5tX3BsaW5lPW51bGx9KSwhMSksITEpO2ZvcihsZXQgdD0wLHM9Xy5nZXRQYXRoQ291bnQoKTt0PHM7dCsrKXRoaXMuZ2VuZXJhbGl6ZVBhdGgoXy5nZXRJbXBsKCksdCxwLmdldEltcGwoKSl9Y2F0Y2goayl7cy5lcnJvcj1rLHMuaGFzRXJyb3I9ITB9ZmluYWxseXtlKHMpfX1yZXR1cm4gdGhpcy5tX3Jlc3VsdHN0YWNrLmxlbmd0aD0wLHRoaXMubV9zdGFjay5sZW5ndGg9MCxwfWdlbmVyYWxpemVQYXRoKHQsZSxzKXtpZih0LmdldFBhdGhTaXplKGUpPDIpcmV0dXJuO3RoaXMubV9yZXN1bHRzdGFjay5sZW5ndGg9MCx0aGlzLm1fc3RhY2subGVuZ3RoPTA7Y29uc3QgaT10LmdldFBhdGhTdGFydChlKSxyPXQuZ2V0UGF0aEVuZChlKS0xLGE9dC5pc0Nsb3NlZFBhdGgoZSksbj10LmlzQ2xvc2VkUGF0aEluWFlQbGFuZShlKTtsZXQgaD0wLG09LTE7dGhpcy5tX3N0YWNrLnB1c2goYT9pOnIpLHRoaXMubV9zdGFjay5wdXNoKGkpO2xldCBsPSExLG89ITE7Zm9yKCF0aGlzLm1fYlJlbW92ZURlZ2VuZXJhdGVQYXJ0cyYmbiYmKGw9ITAsbz0hMCk7dGhpcy5tX3N0YWNrLmxlbmd0aD4xOyl7Y29uc3QgZT10aGlzLm1fc3RhY2suYXQoLTEpO3RoaXMubV9zdGFjay5wb3AoKTtjb25zdCBzPXRoaXMubV9zdGFjay5hdCgtMSk7bGV0IGk9dC5nZXRYWShlKTt0aGlzLm1fcGxpbmUuc2V0U3RhcnRYWShpKSxpPXQuZ2V0WFkocyksdGhpcy5tX3BsaW5lLnNldEVuZFhZKGkpO2NvbnN0IGE9W051bWJlci5OYU5dO2xldCBuPXRoaXMuZmluZEdyZWF0ZXN0RGlzdGFuY2UoZSxzLHIsYSk7bj49MCYmKGw/bD0hMToobyYmYVswXT5oJiYoaD1hWzBdLG09biksYVswXTw9dGhpcy5tX21heERldmlhdGlvbiYmKG49LTEpKSksbj49MD8odGhpcy5tX3N0YWNrLnB1c2gobiksdGhpcy5tX3N0YWNrLnB1c2goZSkpOnRoaXMubV9yZXN1bHRzdGFjay5wdXNoKGUpfWF8fHRoaXMubV9yZXN1bHRzdGFjay5wdXNoKHRoaXMubV9zdGFja1swXSk7Y29uc3QgYz10aGlzLm1fcmVzdWx0c3RhY2subGVuZ3RoO2lmKGM9PT10LmdldFBhdGhTaXplKGUpJiZjPT09dGhpcy5tX3N0YWNrLmxlbmd0aClzLmFkZFBhdGgodCxlLCEwKTtlbHNlIGlmKHRoaXMubV9yZXN1bHRzdGFjay5sZW5ndGg+MCl7aWYodGhpcy5tX2JSZW1vdmVEZWdlbmVyYXRlUGFydHMmJnRoaXMubV9yZXN1bHRzdGFjay5sZW5ndGg8PTIpe2lmKGF8fDE9PT10aGlzLm1fcmVzdWx0c3RhY2subGVuZ3RoKXJldHVybjtpZihwLmRpc3RhbmNlKHQuZ2V0WFkodGhpcy5tX3Jlc3VsdHN0YWNrWzBdKSx0LmdldFhZKHRoaXMubV9yZXN1bHRzdGFja1sxXSkpPD10aGlzLm1fbWF4RGV2aWF0aW9uKXJldHVybn1pZihvJiZtPj0wJiZoPD10aGlzLm1fbWF4RGV2aWF0aW9uKXtjb25zdCB0PXRoaXMubV9yZXN1bHRzdGFjay5hdCgtMSk+bTt0aGlzLm1fcmVzdWx0c3RhY2sucHVzaChtKSx0JiYodGhpcy5tX3Jlc3VsdHN0YWNrW3RoaXMubV9yZXN1bHRzdGFjay5sZW5ndGgtMl09ayh0aGlzLm1fcmVzdWx0c3RhY2tbdGhpcy5tX3Jlc3VsdHN0YWNrLmxlbmd0aC0xXSx0aGlzLm1fcmVzdWx0c3RhY2tbdGhpcy5tX3Jlc3VsdHN0YWNrLmxlbmd0aC0xXT10aGlzLm1fcmVzdWx0c3RhY2tbdGhpcy5tX3Jlc3VsdHN0YWNrLmxlbmd0aC0yXSkpfWZvcihsZXQgZT0wLGk9dGhpcy5tX3Jlc3VsdHN0YWNrLmxlbmd0aDtlPGk7ZSsrKXQuZ2V0UG9pbnRCeVZhbCh0aGlzLm1fcmVzdWx0c3RhY2tbZV0sdGhpcy5tX3BvaW50KSwwPT09ZT9zLnN0YXJ0UGF0aFBvaW50KHRoaXMubV9wb2ludCk6cy5saW5lVG9Qb2ludCh0aGlzLm1fcG9pbnQpO2lmKGEpe2ZvcihsZXQgdD10aGlzLm1fcmVzdWx0c3RhY2subGVuZ3RoO3Q8Mzt0Kyspcy5saW5lVG9Qb2ludCh0aGlzLm1fcG9pbnQpO3MuY2xvc2VQYXRoV2l0aExpbmUoKX19fWZpbmRHcmVhdGVzdERpc3RhbmNlKHQsZSxzLGkpe2xldCByPWUtMTtlPD10JiYocj1zKTtsZXQgYT0tMSxuPTA7Y29uc3QgaD1uZXcgcDtmb3IobGV0IG09dCsxO208PXI7bSsrKXt0aGlzLm1feHkucXVlcnlQb2ludDJEKDIqbSxoKTtjb25zdCB0PWgueCxlPWgueSxzPXRoaXMubV9wbGluZS5nZXRDbG9zZXN0Q29vcmRpbmF0ZShoLCExKTtoLmFzc2lnbih0aGlzLm1fcGxpbmUuZ2V0Q29vcmQyRChzKSksaC54LT10LGgueS09ZTtjb25zdCBpPWgubGVuZ3RoKCk7aT5uJiYoYT1tLG49aSksdGhpcy5tX2NhbGxDb3VudCsrfXJldHVybiBpWzBdPW4sYX19ZXhwb3J0e1AgYXMgT307XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4zMy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e1MgYXMgZSxHIGFzIHJ9ZnJvbVwiLi9TaW1wbGVHZW9tZXRyeUN1cnNvci5qc1wiO2ltcG9ydHtkIGFzIHQsYSBhcyBzLGMgYXMgaX1mcm9tXCIuL0dlb21ldHJ5LmpzXCI7aW1wb3J0e2sgYXMgbixzIGFzIG99ZnJvbVwiLi9Qcm9qZWN0aW9uVHJhbnNmb3JtYXRpb24uanNcIjtjbGFzcyBte2dldE9wZXJhdG9yVHlwZSgpe3JldHVybiAxMDEwNH1hY2NlbGVyYXRlR2VvbWV0cnkoZSxyLHQpe3JldHVybiExfWNhbkFjY2VsZXJhdGVHZW9tZXRyeShlKXtyZXR1cm4hMX1zdXBwb3J0c0N1cnZlcygpe3JldHVybiEwfWlzU2ltcGxlKGUscix0LHMsaSl7cmV0dXJuIDU9PT1uKGUscix0LHMsaSl9ZXhlY3V0ZU1hbnkoZSxyLHQscyl7cmV0dXJuIG5ldyB1KGUscix0LHMpfWV4ZWN1dGUocixzLGksbil7Y29uc3Qgbz1uZXcgZShbcl0pLG09dGhpcy5leGVjdXRlTWFueShvLHMsaSxuKS5uZXh0KCk7cmV0dXJuIG18fHQoXCJudWxsIG91dHB1dFwiKSxtfX1jbGFzcyB1IGV4dGVuZHMgcntjb25zdHJ1Y3RvcihlLHIsdCxpKXtzdXBlcigpLGV8fHMoXCJcIiksdGhpcy5tX3Byb2dyZXNzVHJhY2tlcj1pLHRoaXMubV9iRm9yY2VTaW1wbGlmeT10LHRoaXMubV9pbmRleD0tMSx0aGlzLm1faW5wdXRHZW9tZXRyeUN1cnNvcj1lLHRoaXMubV9zcGF0aWFsUmVmZXJlbmNlPXJ9bmV4dCgpe2NvbnN0IGU9dGhpcy5tX2lucHV0R2VvbWV0cnlDdXJzb3IubmV4dCgpO3JldHVybiBlPyhpKGUpLHRoaXMubV9pbmRleD10aGlzLm1faW5wdXRHZW9tZXRyeUN1cnNvci5nZXRHZW9tZXRyeUlEKCksdGhpcy5zaW1wbGlmeShlKSk6bnVsbH1nZXRHZW9tZXRyeUlEKCl7cmV0dXJuIHRoaXMubV9pbmRleH10b2NrKCl7cmV0dXJuITF9Z2V0UmFuaygpe3JldHVybiAxfXNpbXBsaWZ5KGUpe2V8fHMoXCJcIik7cmV0dXJuIG8oZSx0aGlzLm1fc3BhdGlhbFJlZmVyZW5jZSx0aGlzLm1fYkZvcmNlU2ltcGxpZnksdGhpcy5tX3Byb2dyZXNzVHJhY2tlcil9fWV4cG9ydHttIGFzIE99O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMzMvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtTIGFzIGUsRyBhcyB0fWZyb21cIi4uLy4uLy4uL2NodW5rcy9TaW1wbGVHZW9tZXRyeUN1cnNvci5qc1wiO2ltcG9ydHthIGFzIHIsZCBhcyBuLGMgYXMgc31mcm9tXCIuLi8uLi8uLi9jaHVua3MvR2VvbWV0cnkuanNcIjtpbXBvcnR7aiBhcyBpfWZyb21cIi4uLy4uLy4uL2NodW5rcy9Qcm9qZWN0aW9uVHJhbnNmb3JtYXRpb24uanNcIjtpbXBvcnR7RW52ZWxvcGUyRCBhcyB1fWZyb21cIi4uLy4uLy4uL2NodW5rcy9FbnZlbG9wZTJELmpzXCI7aW1wb3J0e0IgYXMgb31mcm9tXCIuLi8uLi8uLi9jaHVua3MvQnVmZmVyZXItRHc5UWk0VDEuanNcIjtjbGFzcyBte2dldE9wZXJhdG9yVHlwZSgpe3JldHVybiAxMDAwNH1zdXBwb3J0c0N1cnZlcygpe3JldHVybiEwfWFjY2VsZXJhdGVHZW9tZXRyeShlLHQscil7cmV0dXJuITF9Y2FuQWNjZWxlcmF0ZUdlb21ldHJ5KGUpe3JldHVybiExfWV4ZWN1dGVNYW55KGUsdCxyLG4scyl7cmV0dXJuIHRoaXMuZXhlY3V0ZU1hbnlFeChlLHQscixOdW1iZXIuTmFOLDk2LG4scyl9ZXhlY3V0ZSh0LHMsaSx1KXtOdW1iZXIuaXNGaW5pdGUoaSl8fHIoXCJJbnZhbGlkIGRpc3RhbmNlIGZvciBidWZmZXIgb3BlcmF0aW9uXCIpO2NvbnN0IG89bmV3IGUoW3RdKSxtPVtpXSxhPXRoaXMuZXhlY3V0ZU1hbnkobyxzLG0sITEsdSkubmV4dCgpO3JldHVybiBhfHxuKFwibnVsbCBidWZmZXIgb3V0cHV0XCIpLGF9ZXhlY3V0ZU1hbnlFeChlLHQsbixzLHUsbyxtKXtpZih2b2lkIDAhPT1uLmZpbmQoKGU9PiFOdW1iZXIuaXNGaW5pdGUoZSkpKSYmcihcIkludmFsaWQgZGlzdGFuY2UgZm9yIGJ1ZmZlciBvcGVyYXRpb25cIiksbyl7Y29uc3Qgcj1uZXcgYShlLHQsbixzLHUsITEsbSk7cmV0dXJuKG5ldyBpKS5leGVjdXRlTWFueShyLHQsbSwyKX1yZXR1cm4gbmV3IGEoZSx0LG4scyx1LCExLG0pfX1jbGFzcyBhIGV4dGVuZHMgdHtjb25zdHJ1Y3RvcihlLHQscixuLHMsaSxtKXtzdXBlcigpLHRoaXMubV9jdXJyZW50VW5pb25FbnZlbG9wZTJEPW5ldyB1LHRoaXMubV9pbmRleD0tMSx0aGlzLm1fZGluZGV4PS0xLHRoaXMubV9wcm9ncmVzc1RyYWNrZXI9bSx0aGlzLm1fYnVmZmVyZXI9bmV3IG8obSksdGhpcy5tX2lucHV0R2VvbXM9ZSx0aGlzLm1fc3BhdGlhbFJlZmVyZW5jZT10LHRoaXMubV9kaXN0YW5jZXM9cix0aGlzLm1fbWF4RGV2aWF0aW9uPW4sdGhpcy5tX21heFZlcnRpY2VzSW5GdWxsQ2lyY2xlPXN9dG9jaygpe3JldHVybiEwfWdldFJhbmsoKXtyZXR1cm4gMX1uZXh0KCl7e2xldCBlO2Zvcig7ZT10aGlzLm1faW5wdXRHZW9tcy5uZXh0KCk7KXJldHVybiBzKGUpLHRoaXMubV9pbmRleD10aGlzLm1faW5wdXRHZW9tcy5nZXRHZW9tZXRyeUlEKCksdGhpcy5tX2RpbmRleCsxPHRoaXMubV9kaXN0YW5jZXMubGVuZ3RoJiZ0aGlzLm1fZGluZGV4KyssdGhpcy5idWZmZXIoZSx0aGlzLm1fZGlzdGFuY2VzW3RoaXMubV9kaW5kZXhdKTtyZXR1cm4gbnVsbH19Z2V0R2VvbWV0cnlJRCgpe3JldHVybiB0aGlzLm1faW5kZXh9YnVmZmVyKGUsdCl7cmV0dXJuIHRoaXMubV9idWZmZXJlci5idWZmZXIoZSx0LHRoaXMubV9zcGF0aWFsUmVmZXJlbmNlLDAsMCw0LHRoaXMubV9tYXhEZXZpYXRpb24sdGhpcy5tX21heFZlcnRpY2VzSW5GdWxsQ2lyY2xlKX19Y29uc3QgYz1uZXcgbTtmdW5jdGlvbiBmKGUsdCxyKXtyZXR1cm4gYy5leGVjdXRlKGUsdCxyLG51bGwpfWZ1bmN0aW9uIGgodCxyLG4scyl7Y29uc3QgaT1jLmV4ZWN1dGVNYW55KG5ldyBlKHQpLHIsbixzLG51bGwpO3JldHVybiBBcnJheS5mcm9tKGkpfWZ1bmN0aW9uIGwodCxyLG4scyxpLHUpe2NvbnN0IG89Yy5leGVjdXRlTWFueUV4KG5ldyBlKHQpLHIsbixzLGksdSxudWxsKTtyZXR1cm4gQXJyYXkuZnJvbShvKX1mdW5jdGlvbiB4KCl7cmV0dXJuIGMuc3VwcG9ydHNDdXJ2ZXMoKX1leHBvcnR7ZiBhcyBleGVjdXRlLGggYXMgZXhlY3V0ZU1hbnksbCBhcyBleGVjdXRlTWFueUV4LHggYXMgc3VwcG9ydHNDdXJ2ZXN9O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9