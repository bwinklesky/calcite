export const __webpack_id__ = "vendors-node_modules_arcgis_core_views_2d_engine_webgl_brushes_WGLBrushVTLBackground_js-node_-bdcbd4";
export const __webpack_ids__ = ["vendors-node_modules_arcgis_core_views_2d_engine_webgl_brushes_WGLBrushVTLBackground_js-node_-bdcbd4"];
export const __webpack_modules__ = {

/***/ "./node_modules/@arcgis/core/views/2d/engine/webgl/GeometryUtils.js":
/*!**************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/webgl/GeometryUtils.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   between: () => (/* binding */ i),
/* harmony export */   degToByte: () => (/* binding */ c),
/* harmony export */   interpolate: () => (/* binding */ f),
/* harmony export */   log2: () => (/* binding */ e),
/* harmony export */   positiveMod: () => (/* binding */ u),
/* harmony export */   radToByte: () => (/* binding */ o)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
const n=128/Math.PI,t=256/360,r=1/Math.LN2;function u(n,t){return(n%=t)>=0?n:n+t}function o(t){return u(t*n,256)}function c(n){return u(n*t,256)}function e(n){return Math.log(n)*r}function f(n,t,r){return n*(1-r)+t*r}function i(n,t,r){return n>=t&&n<=r||n>=r&&n<=t}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/engine/webgl/brushes/WGLBrush.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/webgl/brushes/WGLBrush.js ***!
  \*****************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ t)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
class t{constructor(){this.name=this.constructor.name||"UnnamedBrush",this.brushEffect=null}prepareState(t,r){}draw(t,r,s){}drawMany(t,r,s){for(const a of r)a.visible&&this.draw(t,a,s)}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/engine/webgl/brushes/WGLBrushVTLBackground.js":
/*!******************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/webgl/brushes/WGLBrushVTLBackground.js ***!
  \******************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   WGLBrushVTLBackground: () => (/* binding */ u)
/* harmony export */ });
/* harmony import */ var _core_mathUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../core/mathUtils.js */ "./node_modules/@arcgis/core/core/mathUtils.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_mat3f32_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../core/libs/gl-matrix-2/factories/mat3f32.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/mat3f32.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_vec4f32_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../core/libs/gl-matrix-2/factories/vec4f32.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/vec4f32.js");
/* harmony import */ var _definitions_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../definitions.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/definitions.js");
/* harmony import */ var _WGLBrush_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./WGLBrush.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/brushes/WGLBrush.js");
/* harmony import */ var _webgl_BufferObject_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../webgl/BufferObject.js */ "./node_modules/@arcgis/core/views/webgl/BufferObject.js");
/* harmony import */ var _webgl_enums_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../webgl/enums.js */ "./node_modules/@arcgis/core/views/webgl/enums.js");
/* harmony import */ var _webgl_VertexArrayObject_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../webgl/VertexArrayObject.js */ "./node_modules/@arcgis/core/views/webgl/VertexArrayObject.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
class u extends _WGLBrush_js__WEBPACK_IMPORTED_MODULE_4__["default"]{constructor(){super(...arguments),this._color=(0,_core_libs_gl_matrix_2_factories_vec4f32_js__WEBPACK_IMPORTED_MODULE_2__.fromValues)(1,0,0,1),this._patternMatrix=(0,_core_libs_gl_matrix_2_factories_mat3f32_js__WEBPACK_IMPORTED_MODULE_1__.create)(),this._programOptions={id:!1,pattern:!1}}dispose(){this._vao&&(this._vao.dispose(),this._vao=null)}drawMany(e,r){const{context:s,painter:a,requestRender:f,allowDelayedRender:m}=e;this._loadWGLResources(e);const u=e.displayLevel,p=e.styleLayer,_=p.backgroundMaterial,d=a.vectorTilesMaterialManager,g=p.getPaintValue("background-color",u),h=p.getPaintValue("background-opacity",u),x=p.getPaintValue("background-pattern",u),M=void 0!==x,b=1|window.devicePixelRatio,v=e.spriteMosaic;let y,w;const j=b>_definitions_js__WEBPACK_IMPORTED_MODULE_3__.vtlHighResCutoff?2:1,A=this._programOptions;A.pattern=M;const L=d.getMaterialProgram(s,_,A);if(!m||null==f||L.compiled){if(s.bindVAO(this._vao),s.useProgram(L),M){const t=v.getMosaicItemPosition(x,!0);if(null!=t){const{tl:e,br:r,page:i}=t;y=r[0]-e[0],w=r[1]-e[1];const a=v.getPageSize(i);null!=a&&(v.bind(s,_webgl_enums_js__WEBPACK_IMPORTED_MODULE_6__.TextureSamplingMode.LINEAR,i,_definitions_js__WEBPACK_IMPORTED_MODULE_3__.vtlTextureBindingUnitSprites),L.setUniform4f("u_tlbr",e[0],e[1],r[0],r[1]),L.setUniform2fv("u_mosaicSize",a),L.setUniform1i("u_texture",_definitions_js__WEBPACK_IMPORTED_MODULE_3__.vtlTextureBindingUnitSprites))}L.setUniform1f("u_opacity",h)}else{const t=g[3]*h;this._color[0]=t*g[0],this._color[1]=t*g[1],this._color[2]=t*g[2],this._color[3]=t,L.setUniform4fv("u_color",this._color)}L.setUniform1f("u_depth",p.z||0);for(const e of r){if(L.setUniform1f("u_coord_range",e.rangeX),L.setUniformMatrix3fv("u_dvsMat3",e.transforms.displayViewScreenMat3),M){const r=Math.max(2**(Math.round(u)-e.key.level),1),o=j*e.width*r,i=o/(0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_0__.nextPowerOfTwo)(y),s=o/(0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_0__.nextPowerOfTwo)(w);this._patternMatrix[0]=i,this._patternMatrix[4]=s,L.setUniformMatrix3fv("u_pattern_matrix",this._patternMatrix)}s.setStencilFunction(_webgl_enums_js__WEBPACK_IMPORTED_MODULE_6__.CompareFunction.EQUAL,0,255),s.drawArrays(_webgl_enums_js__WEBPACK_IMPORTED_MODULE_6__.PrimitiveType.TRIANGLE_STRIP,0,4)}}else f()}_loadWGLResources(t){if(this._vao)return;const{context:e,styleLayer:r}=t,o=r.backgroundMaterial,i=new Int8Array([0,0,1,0,0,1,1,1]),s=_webgl_BufferObject_js__WEBPACK_IMPORTED_MODULE_5__.BufferObject.createVertex(e,_webgl_enums_js__WEBPACK_IMPORTED_MODULE_6__.Usage.STATIC_DRAW,i),n=new _webgl_VertexArrayObject_js__WEBPACK_IMPORTED_MODULE_7__.VertexArrayObject(e,o.getAttributeLocations(),o.getLayoutInfo(),new Map([["geometry",s]]));this._vao=n}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/engine/webgl/brushes/WGLBrushVTLCircle.js":
/*!**************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/webgl/brushes/WGLBrushVTLCircle.js ***!
  \**************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   WGLBrushVTLCircle: () => (/* binding */ n)
/* harmony export */ });
/* harmony import */ var _vectorTiles_style_StyleDefinition_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../vectorTiles/style/StyleDefinition.js */ "./node_modules/@arcgis/core/views/2d/engine/vectorTiles/style/StyleDefinition.js");
/* harmony import */ var _WGLBrush_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./WGLBrush.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/brushes/WGLBrush.js");
/* harmony import */ var _webgl_enums_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../webgl/enums.js */ "./node_modules/@arcgis/core/views/webgl/enums.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
class n extends _WGLBrush_js__WEBPACK_IMPORTED_MODULE_1__["default"]{constructor(){super(...arguments),this._programOptions={id:!1}}dispose(){}drawMany(t,n){const{context:l,displayLevel:s,requiredLevel:o,state:c,painter:u,spriteMosaic:d,styleLayerUID:f,requestRender:m,allowDelayedRender:p}=t;if(!n.some((e=>e.layerData.get(f)?.circleIndexCount??!1)))return;const y=t.styleLayer,g=y.circleMaterial,M=u.vectorTilesMaterialManager,v=1.2,E=y.getPaintValue("circle-translate",s),x=y.getPaintValue("circle-translate-anchor",s),I=this._programOptions,U=M.getMaterialProgram(l,g,I);if(p&&null!=m&&!U.compiled)return void m();l.useProgram(U),U.setUniformMatrix3fv("u_displayMat3",x===_vectorTiles_style_StyleDefinition_js__WEBPACK_IMPORTED_MODULE_0__.TranslateAnchor.VIEWPORT?c.displayMat3:c.displayViewMat3),U.setUniform2fv("u_circleTranslation",E),U.setUniform1f("u_depth",y.z),U.setUniform1f("u_antialiasingWidth",v);let _=-1;for(const e of n){if(!e.layerData.has(f))continue;e.key.level!==_&&(_=e.key.level,g.setDataUniforms(U,s,y,_,d));const t=e.layerData.get(f);if(!t.circleIndexCount)continue;t.prepareForRendering(l);const n=t.vao;null!=n&&(l.bindVAO(n),U.setUniformMatrix3fv("u_dvsMat3",e.transforms.displayViewScreenMat3),o!==e.key.level?l.setStencilFunction(_webgl_enums_js__WEBPACK_IMPORTED_MODULE_2__.CompareFunction.EQUAL,e.stencilRef,255):l.setStencilFunction(_webgl_enums_js__WEBPACK_IMPORTED_MODULE_2__.CompareFunction.GREATER,255,255),l.drawElements(_webgl_enums_js__WEBPACK_IMPORTED_MODULE_2__.PrimitiveType.TRIANGLES,t.circleIndexCount,_webgl_enums_js__WEBPACK_IMPORTED_MODULE_2__.DataType.UNSIGNED_INT,Uint32Array.BYTES_PER_ELEMENT*t.circleIndexStart),e.triangleCount+=t.circleIndexCount/3)}}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/engine/webgl/brushes/WGLBrushVTLFill.js":
/*!************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/webgl/brushes/WGLBrushVTLFill.js ***!
  \************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   WGLBrushVTLFill: () => (/* binding */ f)
/* harmony export */ });
/* harmony import */ var _vectorTiles_style_StyleDefinition_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../vectorTiles/style/StyleDefinition.js */ "./node_modules/@arcgis/core/views/2d/engine/vectorTiles/style/StyleDefinition.js");
/* harmony import */ var _definitions_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../definitions.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/definitions.js");
/* harmony import */ var _WGLBrush_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./WGLBrush.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/brushes/WGLBrush.js");
/* harmony import */ var _webgl_enums_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../webgl/enums.js */ "./node_modules/@arcgis/core/views/webgl/enums.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
const s=1/65536;class f extends _WGLBrush_js__WEBPACK_IMPORTED_MODULE_2__["default"]{constructor(){super(...arguments),this._fillProgramOptions={id:!1,pattern:!1},this._outlineProgramOptions={id:!1}}dispose(){}drawMany(t,e){const{displayLevel:i,renderPass:n,spriteMosaic:a,styleLayerUID:l}=t;let r=!1;for(const _ of e)if(_.layerData.has(l)){const t=_.layerData.get(l);if(t.fillIndexCount>0||t.outlineIndexCount>0){r=!0;break}}if(!r)return;const o=t.styleLayer,s=o.getPaintProperty("fill-pattern"),f=void 0!==s,u=f&&s.isDataDriven;let c;if(f&&!u){const t=s.getValue(i);c=a.getMosaicItemPosition(t,!0)}const d=!f&&o.getPaintValue("fill-antialias",i);let p=!0,m=1;if(!f){const t=o.getPaintProperty("fill-color"),e=o.getPaintProperty("fill-opacity");if(!t?.isDataDriven&&!e?.isDataDriven){const t=o.getPaintValue("fill-color",i);m=o.getPaintValue("fill-opacity",i)*t[3],m>=1&&(p=!1)}}if(p&&"opaque"===n)return;const y=o.getPaintValue("fill-translate",i),g=o.getPaintValue("fill-translate-anchor",i);(p||"translucent"!==n)&&this._drawFill(t,l,o,e,y,g,f,c,u);const M=!o.hasDataDrivenOutlineColor&&o.outlineUsesFillColor&&m<1;d&&"opaque"!==n&&!M&&this._drawOutline(t,l,o,e,y,g)}_drawFill(n,f,u,c,d,p,m,y,g){if(m&&!g&&null==y)return;const{context:M,displayLevel:_,state:E,painter:v,pixelRatio:P,spriteMosaic:U,requestRender:I,allowDelayedRender:x}=n,D=u.fillMaterial,R=v.vectorTilesMaterialManager,S=P>_definitions_js__WEBPACK_IMPORTED_MODULE_1__.vtlHighResCutoff?2:1,T=this._fillProgramOptions;T.pattern=m;const h=R.getMaterialProgram(M,D,T);if(x&&null!=I&&!h.compiled)return void I();if(M.useProgram(h),null!=y){const{page:t}=y,i=U.getPageSize(t);null!=i&&(U.bind(M,_webgl_enums_js__WEBPACK_IMPORTED_MODULE_3__.TextureSamplingMode.LINEAR,t,_definitions_js__WEBPACK_IMPORTED_MODULE_1__.vtlTextureBindingUnitSprites),h.setUniform2fv("u_mosaicSize",i),h.setUniform1i("u_texture",_definitions_js__WEBPACK_IMPORTED_MODULE_1__.vtlTextureBindingUnitSprites))}h.setUniformMatrix3fv("u_displayMat3",p===_vectorTiles_style_StyleDefinition_js__WEBPACK_IMPORTED_MODULE_0__.TranslateAnchor.VIEWPORT?E.displayMat3:E.displayViewMat3),h.setUniform2fv("u_fillTranslation",d),h.setUniform1f("u_depth",u.z+s);let w=-1;for(const t of c){if(!t.layerData.has(f))continue;t.key.level!==w&&(w=t.key.level,D.setDataUniforms(h,_,u,w,U));const i=t.layerData.get(f);if(!i.fillIndexCount)continue;i.prepareForRendering(M);const n=i.fillVAO;if(null!=n){if(M.bindVAO(n),h.setUniformMatrix3fv("u_dvsMat3",t.transforms.displayViewScreenMat3),M.setStencilFunction(_webgl_enums_js__WEBPACK_IMPORTED_MODULE_3__.CompareFunction.EQUAL,t.stencilRef,255),m){const e=Math.max(2**(Math.round(_)-t.key.level),1),i=t.rangeX/(S*t.width*e);h.setUniform1f("u_patternFactor",i)}if(g){const t=i.patternMap;if(!t)continue;for(const[i,n]of t){const t=U.getPageSize(i);null!=t&&(U.bind(M,_webgl_enums_js__WEBPACK_IMPORTED_MODULE_3__.TextureSamplingMode.LINEAR,i,_definitions_js__WEBPACK_IMPORTED_MODULE_1__.vtlTextureBindingUnitSprites),h.setUniform2fv("u_mosaicSize",t),h.setUniform1i("u_texture",_definitions_js__WEBPACK_IMPORTED_MODULE_1__.vtlTextureBindingUnitSprites),M.drawElements(_webgl_enums_js__WEBPACK_IMPORTED_MODULE_3__.PrimitiveType.TRIANGLES,n[1],_webgl_enums_js__WEBPACK_IMPORTED_MODULE_3__.DataType.UNSIGNED_INT,Uint32Array.BYTES_PER_ELEMENT*n[0]))}}else M.drawElements(_webgl_enums_js__WEBPACK_IMPORTED_MODULE_3__.PrimitiveType.TRIANGLES,i.fillIndexCount,_webgl_enums_js__WEBPACK_IMPORTED_MODULE_3__.DataType.UNSIGNED_INT,Uint32Array.BYTES_PER_ELEMENT*i.fillIndexStart);t.triangleCount+=i.fillIndexCount/3}}}_drawOutline(e,i,n,a,f,u){const{context:c,displayLevel:d,state:p,painter:m,pixelRatio:y,spriteMosaic:g,requestRender:M,allowDelayedRender:_}=e,E=n.outlineMaterial,v=m.vectorTilesMaterialManager,P=.75/y,U=this._outlineProgramOptions,I=v.getMaterialProgram(c,E,U);if(_&&null!=M&&!I.compiled)return void M();c.useProgram(I),I.setUniformMatrix3fv("u_displayMat3",u===_vectorTiles_style_StyleDefinition_js__WEBPACK_IMPORTED_MODULE_0__.TranslateAnchor.VIEWPORT?p.displayMat3:p.displayViewMat3),I.setUniform2fv("u_fillTranslation",f),I.setUniform1f("u_depth",n.z+s),I.setUniform1f("u_outline_width",P);let x=-1;for(const t of a){if(!t.layerData.has(i))continue;t.key.level!==x&&(x=t.key.level,E.setDataUniforms(I,d,n,x,g));const e=t.layerData.get(i);if(e.prepareForRendering(c),!e.outlineIndexCount)continue;const a=e.outlineVAO;null!=a&&(c.bindVAO(a),I.setUniformMatrix3fv("u_dvsMat3",t.transforms.displayViewScreenMat3),c.setStencilFunction(_webgl_enums_js__WEBPACK_IMPORTED_MODULE_3__.CompareFunction.EQUAL,t.stencilRef,255),c.drawElements(_webgl_enums_js__WEBPACK_IMPORTED_MODULE_3__.PrimitiveType.TRIANGLES,e.outlineIndexCount,_webgl_enums_js__WEBPACK_IMPORTED_MODULE_3__.DataType.UNSIGNED_INT,Uint32Array.BYTES_PER_ELEMENT*e.outlineIndexStart),t.triangleCount+=e.outlineIndexCount/3)}}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/engine/webgl/brushes/WGLBrushVTLLine.js":
/*!************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/webgl/brushes/WGLBrushVTLLine.js ***!
  \************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   WGLBrushVTLLine: () => (/* binding */ s)
/* harmony export */ });
/* harmony import */ var _vectorTiles_style_StyleDefinition_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../vectorTiles/style/StyleDefinition.js */ "./node_modules/@arcgis/core/views/2d/engine/vectorTiles/style/StyleDefinition.js");
/* harmony import */ var _definitions_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../definitions.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/definitions.js");
/* harmony import */ var _WGLBrush_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./WGLBrush.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/brushes/WGLBrush.js");
/* harmony import */ var _webgl_enums_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../webgl/enums.js */ "./node_modules/@arcgis/core/views/webgl/enums.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
class s extends _WGLBrush_js__WEBPACK_IMPORTED_MODULE_2__["default"]{constructor(){super(...arguments),this._programOptions={id:!1,pattern:!1,sdf:!1}}dispose(){}drawMany(i,s){const{context:l,displayLevel:f,state:u,painter:c,pixelRatio:d,spriteMosaic:m,styleLayerUID:p,requestRender:g,allowDelayedRender:y}=i;if(!s.some((e=>e.layerData.get(p)?.lineIndexCount??!1)))return;const M=i.styleLayer,E=M.lineMaterial,_=c.vectorTilesMaterialManager,v=M.getPaintValue("line-translate",f),U=M.getPaintValue("line-translate-anchor",f),I=M.getPaintProperty("line-pattern"),P=void 0!==I,x=P&&I.isDataDriven;let D,S;if(P&&!x){const e=I.getValue(f);D=m.getMosaicItemPosition(e)}let L=!1;if(!P){const e=M.getPaintProperty("line-dasharray");if(S=void 0!==e,L=S&&e.isDataDriven,S&&!L){const t=e.getValue(f),i=M.getDashKey(t,M.getLayoutValue("line-cap",f));D=m.getMosaicItemPosition(i)}}const N=1/d,R=this._programOptions;R.pattern=P,R.sdf=S;const T=_.getMaterialProgram(l,E,R);if(y&&null!=g&&!T.compiled)return void g();if(l.useProgram(T),T.setUniformMatrix3fv("u_displayViewMat3",u.displayViewMat3),T.setUniformMatrix3fv("u_displayMat3",U===_vectorTiles_style_StyleDefinition_js__WEBPACK_IMPORTED_MODULE_0__.TranslateAnchor.VIEWPORT?u.displayMat3:u.displayViewMat3),T.setUniform2fv("u_lineTranslation",v),T.setUniform1f("u_depth",M.z),T.setUniform1f("u_antialiasing",N),D&&null!=D){const{page:e}=D,i=m.getPageSize(e);null!=i&&(m.bind(l,_webgl_enums_js__WEBPACK_IMPORTED_MODULE_3__.TextureSamplingMode.LINEAR,e,_definitions_js__WEBPACK_IMPORTED_MODULE_1__.vtlTextureBindingUnitSprites),T.setUniform2fv("u_mosaicSize",i),T.setUniform1i("u_texture",_definitions_js__WEBPACK_IMPORTED_MODULE_1__.vtlTextureBindingUnitSprites))}let V=-1;for(const e of s){if(!e.layerData.has(p))continue;e.key.level!==V&&(V=e.key.level,E.setDataUniforms(T,f,M,V,m));const i=2**(f-V)/d;T.setUniform1f("u_zoomFactor",i);const s=e.layerData.get(p);if(!s.lineIndexCount)continue;s.prepareForRendering(l);const u=s.vao;if(null!=u){if(l.bindVAO(u),T.setUniformMatrix3fv("u_dvsMat3",e.transforms.displayViewScreenMat3),l.setStencilFunction(_webgl_enums_js__WEBPACK_IMPORTED_MODULE_3__.CompareFunction.EQUAL,e.stencilRef,255),x||L){const e=s.patternMap;if(!e)continue;for(const[i,a]of e){const e=m.getPageSize(i);null!=e&&(m.bind(l,_webgl_enums_js__WEBPACK_IMPORTED_MODULE_3__.TextureSamplingMode.LINEAR,i,_definitions_js__WEBPACK_IMPORTED_MODULE_1__.vtlTextureBindingUnitSprites),T.setUniform2fv("u_mosaicSize",e),T.setUniform1i("u_texture",_definitions_js__WEBPACK_IMPORTED_MODULE_1__.vtlTextureBindingUnitSprites),l.drawElements(_webgl_enums_js__WEBPACK_IMPORTED_MODULE_3__.PrimitiveType.TRIANGLES,a[1],_webgl_enums_js__WEBPACK_IMPORTED_MODULE_3__.DataType.UNSIGNED_INT,Uint32Array.BYTES_PER_ELEMENT*a[0]))}}else l.drawElements(_webgl_enums_js__WEBPACK_IMPORTED_MODULE_3__.PrimitiveType.TRIANGLES,s.lineIndexCount,_webgl_enums_js__WEBPACK_IMPORTED_MODULE_3__.DataType.UNSIGNED_INT,Uint32Array.BYTES_PER_ELEMENT*s.lineIndexStart);e.triangleCount+=s.lineIndexCount/3}}}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/engine/webgl/brushes/WGLBrushVTLSymbol.js":
/*!**************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/webgl/brushes/WGLBrushVTLSymbol.js ***!
  \**************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   WGLBrushVTLSymbol: () => (/* binding */ d)
/* harmony export */ });
/* harmony import */ var _core_libs_gl_matrix_2_factories_vec2f32_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../core/libs/gl-matrix-2/factories/vec2f32.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/vec2f32.js");
/* harmony import */ var _vectorTiles_decluttering_config_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../vectorTiles/decluttering/config.js */ "./node_modules/@arcgis/core/views/2d/engine/vectorTiles/decluttering/config.js");
/* harmony import */ var _vectorTiles_style_StyleDefinition_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../vectorTiles/style/StyleDefinition.js */ "./node_modules/@arcgis/core/views/2d/engine/vectorTiles/style/StyleDefinition.js");
/* harmony import */ var _definitions_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../definitions.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/definitions.js");
/* harmony import */ var _GeometryUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../GeometryUtils.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/GeometryUtils.js");
/* harmony import */ var _WGLBrush_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./WGLBrush.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/brushes/WGLBrush.js");
/* harmony import */ var _webgl_enums_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../webgl/enums.js */ "./node_modules/@arcgis/core/views/webgl/enums.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
const g=1/65536;class d extends _WGLBrush_js__WEBPACK_IMPORTED_MODULE_5__["default"]{constructor(){super(...arguments),this._iconProgramOptions={id:!1,sdf:!1},this._sdfProgramOptions={id:!1},this._spritesTextureSize=(0,_core_libs_gl_matrix_2_factories_vec2f32_js__WEBPACK_IMPORTED_MODULE_0__.create)()}dispose(){}drawMany(e,t){const i=e.styleLayer;this._drawIcons(e,i,t),this._drawText(e,i,t)}_drawIcons(e,t,o){const{context:f,displayLevel:c,painter:u,spriteMosaic:p,state:m,styleLayerUID:g,requestRender:d,allowDelayedRender:y}=e,_=t.iconMaterial,M=u.vectorTilesMaterialManager;let h,P=!1;for(const i of o)if(i.layerData.has(g)&&(h=i.layerData.get(g),h.iconPerPageElementsMap.size>0)){P=!0;break}if(!P)return;const U=t.getPaintValue("icon-translate",c),E=t.getPaintValue("icon-translate-anchor",c);let T=t.getLayoutValue("icon-rotation-alignment",c);T===_vectorTiles_style_StyleDefinition_js__WEBPACK_IMPORTED_MODULE_2__.RotationAlignment.AUTO&&(T=t.getLayoutValue("symbol-placement",c)===_vectorTiles_style_StyleDefinition_js__WEBPACK_IMPORTED_MODULE_2__.SymbolPlacement.POINT?_vectorTiles_style_StyleDefinition_js__WEBPACK_IMPORTED_MODULE_2__.RotationAlignment.VIEWPORT:_vectorTiles_style_StyleDefinition_js__WEBPACK_IMPORTED_MODULE_2__.RotationAlignment.MAP);const x=T===_vectorTiles_style_StyleDefinition_js__WEBPACK_IMPORTED_MODULE_2__.RotationAlignment.MAP,S=t.getLayoutValue("icon-keep-upright",c)&&x,v=h.isIconSDF,D=this._iconProgramOptions;D.sdf=v;const V=M.getMaterialProgram(f,_,D);if(y&&null!=d&&!V.compiled)return void d();f.useProgram(V),V.setUniformMatrix3fv("u_displayViewMat3",T===_vectorTiles_style_StyleDefinition_js__WEBPACK_IMPORTED_MODULE_2__.RotationAlignment.MAP?m.displayViewMat3:m.displayMat3),V.setUniformMatrix3fv("u_displayMat3",E===_vectorTiles_style_StyleDefinition_js__WEBPACK_IMPORTED_MODULE_2__.TranslateAnchor.VIEWPORT?m.displayMat3:m.displayViewMat3),V.setUniform2fv("u_iconTranslation",U),V.setUniform1f("u_depth",t.z),V.setUniform1f("u_mapRotation",(0,_GeometryUtils_js__WEBPACK_IMPORTED_MODULE_4__.degToByte)(m.rotation)),V.setUniform1f("u_keepUpright",S?1:0),V.setUniform1f("u_level",10*c),V.setUniform1i("u_texture",_definitions_js__WEBPACK_IMPORTED_MODULE_3__.vtlTextureBindingUnitSprites),V.setUniform1f("u_fadeDuration",_vectorTiles_decluttering_config_js__WEBPACK_IMPORTED_MODULE_1__.fadeDuration/1e3);let R=-1;for(const i of o){if(!i.layerData.has(g))continue;if(i.key.level!==R&&(R=i.key.level,_.setDataUniforms(V,c,t,R,p)),h=i.layerData.get(g),0===h.iconPerPageElementsMap.size)continue;h.prepareForRendering(f),h.updateOpacityInfo();const a=h.iconVAO;if(null!=a){f.bindVAO(a),V.setUniformMatrix3fv("u_dvsMat3",i.transforms.displayViewScreenMat3),V.setUniform1f("u_time",(performance.now()-h.lastOpacityUpdate)/1e3);for(const[t,a]of h.iconPerPageElementsMap)this._renderIconRange(e,V,a,t,i)}}}_renderIconRange(e,t,i,a,r){const{context:n,spriteMosaic:o}=e;this._spritesTextureSize[0]=o.getWidth(a)/4,this._spritesTextureSize[1]=o.getHeight(a)/4,t.setUniform2fv("u_mosaicSize",this._spritesTextureSize),o.bind(n,_webgl_enums_js__WEBPACK_IMPORTED_MODULE_6__.TextureSamplingMode.LINEAR,a,_definitions_js__WEBPACK_IMPORTED_MODULE_3__.vtlTextureBindingUnitSprites),this._setStencilState(e,r),n.drawElements(_webgl_enums_js__WEBPACK_IMPORTED_MODULE_6__.PrimitiveType.TRIANGLES,i[1],_webgl_enums_js__WEBPACK_IMPORTED_MODULE_6__.DataType.UNSIGNED_INT,Uint32Array.BYTES_PER_ELEMENT*i[0]),r.triangleCount+=i[1]/3}_drawText(e,s,f){const{context:c,displayLevel:u,glyphMosaic:p,painter:m,pixelRatio:d,spriteMosaic:y,state:_,styleLayerUID:M,requestRender:h,allowDelayedRender:P}=e,U=s.textMaterial,E=m.vectorTilesMaterialManager;let T,x=!1;for(const t of f)if(t.layerData.has(M)&&(T=t.layerData.get(M),T.glyphPerPageElementsMap.size>0)){x=!0;break}if(!x)return;const S=s.getPaintProperty("text-opacity");if(S&&!S.isDataDriven&&0===S.getValue(u))return;const v=s.getPaintProperty("text-color"),D=!v||v.isDataDriven||v.getValue(u)[3]>0,V=s.getPaintProperty("text-halo-width"),R=s.getPaintProperty("text-halo-color"),I=(!V||V.isDataDriven||V.getValue(u)>0)&&(!R||R.isDataDriven||R.getValue(u)[3]>0);if(!D&&!I)return;const A=24/8;let w=s.getLayoutValue("text-rotation-alignment",u);w===_vectorTiles_style_StyleDefinition_js__WEBPACK_IMPORTED_MODULE_2__.RotationAlignment.AUTO&&(w=s.getLayoutValue("symbol-placement",u)===_vectorTiles_style_StyleDefinition_js__WEBPACK_IMPORTED_MODULE_2__.SymbolPlacement.POINT?_vectorTiles_style_StyleDefinition_js__WEBPACK_IMPORTED_MODULE_2__.RotationAlignment.VIEWPORT:_vectorTiles_style_StyleDefinition_js__WEBPACK_IMPORTED_MODULE_2__.RotationAlignment.MAP);const L=w===_vectorTiles_style_StyleDefinition_js__WEBPACK_IMPORTED_MODULE_2__.RotationAlignment.MAP,O=s.getLayoutValue("text-keep-upright",u)&&L,N=.8*A/d;this._glyphTextureSize||(this._glyphTextureSize=(0,_core_libs_gl_matrix_2_factories_vec2f32_js__WEBPACK_IMPORTED_MODULE_0__.fromValues)(p.width/4,p.height/4));const z=s.getPaintValue("text-translate",u),b=s.getPaintValue("text-translate-anchor",u),k=this._sdfProgramOptions,G=E.getMaterialProgram(c,U,k);if(P&&null!=h&&!G.compiled)return void h();c.useProgram(G),G.setUniformMatrix3fv("u_displayViewMat3",w===_vectorTiles_style_StyleDefinition_js__WEBPACK_IMPORTED_MODULE_2__.RotationAlignment.MAP?_.displayViewMat3:_.displayMat3),G.setUniformMatrix3fv("u_displayMat3",b===_vectorTiles_style_StyleDefinition_js__WEBPACK_IMPORTED_MODULE_2__.TranslateAnchor.VIEWPORT?_.displayMat3:_.displayViewMat3),G.setUniform2fv("u_textTranslation",z),G.setUniform1f("u_depth",s.z+g),G.setUniform2fv("u_mosaicSize",this._glyphTextureSize),G.setUniform1f("u_mapRotation",(0,_GeometryUtils_js__WEBPACK_IMPORTED_MODULE_4__.degToByte)(_.rotation)),G.setUniform1f("u_keepUpright",O?1:0),G.setUniform1f("u_level",10*u),G.setUniform1i("u_texture",_definitions_js__WEBPACK_IMPORTED_MODULE_3__.vtlTextureBindingUnitGlyphs),G.setUniform1f("u_antialiasingWidth",N),G.setUniform1f("u_fadeDuration",_vectorTiles_decluttering_config_js__WEBPACK_IMPORTED_MODULE_1__.fadeDuration/1e3);let W=-1;for(const t of f){if(!t.layerData.has(M))continue;if(t.key.level!==W&&(W=t.key.level,U.setDataUniforms(G,u,s,W,y)),T=t.layerData.get(M),0===T.glyphPerPageElementsMap.size)continue;T.prepareForRendering(c),T.updateOpacityInfo();const i=T.textVAO;if(null==i)continue;c.bindVAO(i),G.setUniformMatrix3fv("u_dvsMat3",t.transforms.displayViewScreenMat3),this._setStencilState(e,t);const a=(performance.now()-T.lastOpacityUpdate)/1e3;G.setUniform1f("u_time",a),T.glyphPerPageElementsMap.forEach(((e,i)=>{this._renderGlyphRange(c,e,i,p,G,I,D,t)}))}}_renderGlyphRange(e,t,i,a,r,n,s,l){a.bind(e,_webgl_enums_js__WEBPACK_IMPORTED_MODULE_6__.TextureSamplingMode.LINEAR,i,_definitions_js__WEBPACK_IMPORTED_MODULE_3__.vtlTextureBindingUnitGlyphs),n&&(r.setUniform1f("u_halo",1),e.drawElements(_webgl_enums_js__WEBPACK_IMPORTED_MODULE_6__.PrimitiveType.TRIANGLES,t[1],_webgl_enums_js__WEBPACK_IMPORTED_MODULE_6__.DataType.UNSIGNED_INT,Uint32Array.BYTES_PER_ELEMENT*t[0]),l.triangleCount+=t[1]/3),s&&(r.setUniform1f("u_halo",0),e.drawElements(_webgl_enums_js__WEBPACK_IMPORTED_MODULE_6__.PrimitiveType.TRIANGLES,t[1],_webgl_enums_js__WEBPACK_IMPORTED_MODULE_6__.DataType.UNSIGNED_INT,Uint32Array.BYTES_PER_ELEMENT*t[0]),l.triangleCount+=t[1]/3)}_setStencilState(e,t){const{context:i,is3D:a,stencilSymbols:r}=e;if(i.setStencilTestEnabled(!0),r)return i.setStencilWriteMask(255),void i.setStencilFunction(_webgl_enums_js__WEBPACK_IMPORTED_MODULE_6__.CompareFunction.ALWAYS,t.stencilRef,255);i.setStencilWriteMask(0),a?i.setStencilFunction(_webgl_enums_js__WEBPACK_IMPORTED_MODULE_6__.CompareFunction.EQUAL,t.stencilRef,255):i.setStencilFunction(_webgl_enums_js__WEBPACK_IMPORTED_MODULE_6__.CompareFunction.GREATER,255,255)}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/webgl/ShaderCompiler.js":
/*!*****************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/webgl/ShaderCompiler.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ShaderCompiler: () => (/* binding */ e)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
class e{constructor(e){this._readFile=e}resolveIncludes(e){return this._resolve(e)}_resolve(e,t=new Map){if(t.has(e))return t.get(e);const r=this._read(e);if(!r)throw new Error(`cannot find shader file ${e}`);const s=/^[^\S\n]*#include\s+<(\S+)>[^\S\n]?/gm;let n=s.exec(r);const l=[];for(;null!=n;)l.push({path:n[1],start:n.index,length:n[0].length}),n=s.exec(r);let a=0,h="";return l.forEach((e=>{h+=r.slice(a,e.start),h+=t.has(e.path)?"":this._resolve(e.path,t),a=e.start+e.length})),h+=r.slice(a),t.set(e,h),h}_read(e){return this._readFile(e)}}


/***/ })

};

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmVuZG9ycy1ub2RlX21vZHVsZXNfYXJjZ2lzX2NvcmVfdmlld3NfMmRfZW5naW5lX3dlYmdsX2JydXNoZXNfV0dMQnJ1c2hWVExCYWNrZ3JvdW5kX2pzLW5vZGVfLWJkY2JkNC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQ0FBMkMsZ0JBQWdCLHNCQUFzQixjQUFjLGtCQUFrQixjQUFjLGtCQUFrQixjQUFjLHFCQUFxQixrQkFBa0IsbUJBQW1CLGtCQUFrQiw4QkFBNkg7Ozs7Ozs7Ozs7Ozs7OztBQ0p4VztBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsY0FBYyxzRUFBc0UsbUJBQW1CLGFBQWEsZ0JBQWdCLDhDQUFtRTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNKL007QUFDQTtBQUNBO0FBQ0E7QUFDZ21CLGdCQUFnQixvREFBQyxDQUFDLGNBQWMsZ0NBQWdDLHVGQUFDLDhCQUE4QixtRkFBQyx5QkFBeUIsa0JBQWtCLFVBQVUsZ0RBQWdELGNBQWMsTUFBTSx5REFBeUQsR0FBRywwQkFBMEIsa1JBQWtSLFFBQVEsVUFBVSw2REFBQyw0QkFBNEIsWUFBWSxvQ0FBb0MsNEJBQTRCLDJDQUEyQyxzQ0FBc0MsWUFBWSxNQUFNLGlCQUFpQixHQUFHLHdCQUF3Qix5QkFBeUIsbUJBQW1CLGdFQUFDLFVBQVUseUVBQUMsNEdBQTRHLHlFQUFDLEdBQUcsOEJBQThCLEtBQUssZUFBZSwwSEFBMEgsaUNBQWlDLGtCQUFrQixxSEFBcUgscUVBQXFFLGtFQUFDLFFBQVEsa0VBQUMsSUFBSSxnSEFBZ0gscUJBQXFCLDREQUFDLDJCQUEyQiwwREFBQyxzQkFBc0IsU0FBUyxxQkFBcUIsb0JBQW9CLE1BQU0sdUJBQXVCLCtEQUErRCxnRUFBQyxnQkFBZ0Isa0RBQUMsc0JBQXNCLDBFQUFDLDBFQUEwRSxhQUFnRDs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDSm4rRTtBQUNBO0FBQ0E7QUFDQTtBQUN3TSxnQkFBZ0Isb0RBQUMs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Q0FBMkMsY0FBYyxhQUFhLHNCQUFzQixxRkFBcUYsOEJBQThCLFNBQVMsMEJBQXNEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcHJlY2lzaW9uZmFybXMvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzJkL2VuZ2luZS93ZWJnbC9HZW9tZXRyeVV0aWxzLmpzIiwid2VicGFjazovL3ByZWNpc2lvbmZhcm1zLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8yZC9lbmdpbmUvd2ViZ2wvYnJ1c2hlcy9XR0xCcnVzaC5qcyIsIndlYnBhY2s6Ly9wcmVjaXNpb25mYXJtcy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvMmQvZW5naW5lL3dlYmdsL2JydXNoZXMvV0dMQnJ1c2hWVExCYWNrZ3JvdW5kLmpzIiwid2VicGFjazovL3ByZWNpc2lvbmZhcm1zLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8yZC9lbmdpbmUvd2ViZ2wvYnJ1c2hlcy9XR0xCcnVzaFZUTENpcmNsZS5qcyIsIndlYnBhY2s6Ly9wcmVjaXNpb25mYXJtcy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvMmQvZW5naW5lL3dlYmdsL2JydXNoZXMvV0dMQnJ1c2hWVExGaWxsLmpzIiwid2VicGFjazovL3ByZWNpc2lvbmZhcm1zLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8yZC9lbmdpbmUvd2ViZ2wvYnJ1c2hlcy9XR0xCcnVzaFZUTExpbmUuanMiLCJ3ZWJwYWNrOi8vcHJlY2lzaW9uZmFybXMvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzJkL2VuZ2luZS93ZWJnbC9icnVzaGVzL1dHTEJydXNoVlRMU3ltYm9sLmpzIiwid2VicGFjazovL3ByZWNpc2lvbmZhcm1zLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy93ZWJnbC9TaGFkZXJDb21waWxlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4zMy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuY29uc3Qgbj0xMjgvTWF0aC5QSSx0PTI1Ni8zNjAscj0xL01hdGguTE4yO2Z1bmN0aW9uIHUobix0KXtyZXR1cm4obiU9dCk+PTA/bjpuK3R9ZnVuY3Rpb24gbyh0KXtyZXR1cm4gdSh0Km4sMjU2KX1mdW5jdGlvbiBjKG4pe3JldHVybiB1KG4qdCwyNTYpfWZ1bmN0aW9uIGUobil7cmV0dXJuIE1hdGgubG9nKG4pKnJ9ZnVuY3Rpb24gZihuLHQscil7cmV0dXJuIG4qKDEtcikrdCpyfWZ1bmN0aW9uIGkobix0LHIpe3JldHVybiBuPj10JiZuPD1yfHxuPj1yJiZuPD10fWV4cG9ydHtpIGFzIGJldHdlZW4sYyBhcyBkZWdUb0J5dGUsZiBhcyBpbnRlcnBvbGF0ZSxlIGFzIGxvZzIsdSBhcyBwb3NpdGl2ZU1vZCxvIGFzIHJhZFRvQnl0ZX07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4zMy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuY2xhc3MgdHtjb25zdHJ1Y3Rvcigpe3RoaXMubmFtZT10aGlzLmNvbnN0cnVjdG9yLm5hbWV8fFwiVW5uYW1lZEJydXNoXCIsdGhpcy5icnVzaEVmZmVjdD1udWxsfXByZXBhcmVTdGF0ZSh0LHIpe31kcmF3KHQscixzKXt9ZHJhd01hbnkodCxyLHMpe2Zvcihjb25zdCBhIG9mIHIpYS52aXNpYmxlJiZ0aGlzLmRyYXcodCxhLHMpfX1leHBvcnR7dCBhcyBkZWZhdWx0fTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjMzL2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7bmV4dFBvd2VyT2ZUd28gYXMgdH1mcm9tXCIuLi8uLi8uLi8uLi8uLi9jb3JlL21hdGhVdGlscy5qc1wiO2ltcG9ydHtjcmVhdGUgYXMgZX1mcm9tXCIuLi8uLi8uLi8uLi8uLi9jb3JlL2xpYnMvZ2wtbWF0cml4LTIvZmFjdG9yaWVzL21hdDNmMzIuanNcIjtpbXBvcnR7ZnJvbVZhbHVlcyBhcyByfWZyb21cIi4uLy4uLy4uLy4uLy4uL2NvcmUvbGlicy9nbC1tYXRyaXgtMi9mYWN0b3JpZXMvdmVjNGYzMi5qc1wiO2ltcG9ydHt2dGxUZXh0dXJlQmluZGluZ1VuaXRTcHJpdGVzIGFzIG8sdnRsSGlnaFJlc0N1dG9mZiBhcyBpfWZyb21cIi4uL2RlZmluaXRpb25zLmpzXCI7aW1wb3J0IHMgZnJvbVwiLi9XR0xCcnVzaC5qc1wiO2ltcG9ydHtCdWZmZXJPYmplY3QgYXMgYX1mcm9tXCIuLi8uLi8uLi8uLi93ZWJnbC9CdWZmZXJPYmplY3QuanNcIjtpbXBvcnR7VGV4dHVyZVNhbXBsaW5nTW9kZSBhcyBuLENvbXBhcmVGdW5jdGlvbiBhcyBjLFByaW1pdGl2ZVR5cGUgYXMgbCxVc2FnZSBhcyBmfWZyb21cIi4uLy4uLy4uLy4uL3dlYmdsL2VudW1zLmpzXCI7aW1wb3J0e1ZlcnRleEFycmF5T2JqZWN0IGFzIG19ZnJvbVwiLi4vLi4vLi4vLi4vd2ViZ2wvVmVydGV4QXJyYXlPYmplY3QuanNcIjtjbGFzcyB1IGV4dGVuZHMgc3tjb25zdHJ1Y3Rvcigpe3N1cGVyKC4uLmFyZ3VtZW50cyksdGhpcy5fY29sb3I9cigxLDAsMCwxKSx0aGlzLl9wYXR0ZXJuTWF0cml4PWUoKSx0aGlzLl9wcm9ncmFtT3B0aW9ucz17aWQ6ITEscGF0dGVybjohMX19ZGlzcG9zZSgpe3RoaXMuX3ZhbyYmKHRoaXMuX3Zhby5kaXNwb3NlKCksdGhpcy5fdmFvPW51bGwpfWRyYXdNYW55KGUscil7Y29uc3R7Y29udGV4dDpzLHBhaW50ZXI6YSxyZXF1ZXN0UmVuZGVyOmYsYWxsb3dEZWxheWVkUmVuZGVyOm19PWU7dGhpcy5fbG9hZFdHTFJlc291cmNlcyhlKTtjb25zdCB1PWUuZGlzcGxheUxldmVsLHA9ZS5zdHlsZUxheWVyLF89cC5iYWNrZ3JvdW5kTWF0ZXJpYWwsZD1hLnZlY3RvclRpbGVzTWF0ZXJpYWxNYW5hZ2VyLGc9cC5nZXRQYWludFZhbHVlKFwiYmFja2dyb3VuZC1jb2xvclwiLHUpLGg9cC5nZXRQYWludFZhbHVlKFwiYmFja2dyb3VuZC1vcGFjaXR5XCIsdSkseD1wLmdldFBhaW50VmFsdWUoXCJiYWNrZ3JvdW5kLXBhdHRlcm5cIix1KSxNPXZvaWQgMCE9PXgsYj0xfHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvLHY9ZS5zcHJpdGVNb3NhaWM7bGV0IHksdztjb25zdCBqPWI+aT8yOjEsQT10aGlzLl9wcm9ncmFtT3B0aW9ucztBLnBhdHRlcm49TTtjb25zdCBMPWQuZ2V0TWF0ZXJpYWxQcm9ncmFtKHMsXyxBKTtpZighbXx8bnVsbD09Znx8TC5jb21waWxlZCl7aWYocy5iaW5kVkFPKHRoaXMuX3Zhbykscy51c2VQcm9ncmFtKEwpLE0pe2NvbnN0IHQ9di5nZXRNb3NhaWNJdGVtUG9zaXRpb24oeCwhMCk7aWYobnVsbCE9dCl7Y29uc3R7dGw6ZSxicjpyLHBhZ2U6aX09dDt5PXJbMF0tZVswXSx3PXJbMV0tZVsxXTtjb25zdCBhPXYuZ2V0UGFnZVNpemUoaSk7bnVsbCE9YSYmKHYuYmluZChzLG4uTElORUFSLGksbyksTC5zZXRVbmlmb3JtNGYoXCJ1X3RsYnJcIixlWzBdLGVbMV0sclswXSxyWzFdKSxMLnNldFVuaWZvcm0yZnYoXCJ1X21vc2FpY1NpemVcIixhKSxMLnNldFVuaWZvcm0xaShcInVfdGV4dHVyZVwiLG8pKX1MLnNldFVuaWZvcm0xZihcInVfb3BhY2l0eVwiLGgpfWVsc2V7Y29uc3QgdD1nWzNdKmg7dGhpcy5fY29sb3JbMF09dCpnWzBdLHRoaXMuX2NvbG9yWzFdPXQqZ1sxXSx0aGlzLl9jb2xvclsyXT10KmdbMl0sdGhpcy5fY29sb3JbM109dCxMLnNldFVuaWZvcm00ZnYoXCJ1X2NvbG9yXCIsdGhpcy5fY29sb3IpfUwuc2V0VW5pZm9ybTFmKFwidV9kZXB0aFwiLHAuenx8MCk7Zm9yKGNvbnN0IGUgb2Ygcil7aWYoTC5zZXRVbmlmb3JtMWYoXCJ1X2Nvb3JkX3JhbmdlXCIsZS5yYW5nZVgpLEwuc2V0VW5pZm9ybU1hdHJpeDNmdihcInVfZHZzTWF0M1wiLGUudHJhbnNmb3Jtcy5kaXNwbGF5Vmlld1NjcmVlbk1hdDMpLE0pe2NvbnN0IHI9TWF0aC5tYXgoMioqKE1hdGgucm91bmQodSktZS5rZXkubGV2ZWwpLDEpLG89aiplLndpZHRoKnIsaT1vL3QoeSkscz1vL3Qodyk7dGhpcy5fcGF0dGVybk1hdHJpeFswXT1pLHRoaXMuX3BhdHRlcm5NYXRyaXhbNF09cyxMLnNldFVuaWZvcm1NYXRyaXgzZnYoXCJ1X3BhdHRlcm5fbWF0cml4XCIsdGhpcy5fcGF0dGVybk1hdHJpeCl9cy5zZXRTdGVuY2lsRnVuY3Rpb24oYy5FUVVBTCwwLDI1NSkscy5kcmF3QXJyYXlzKGwuVFJJQU5HTEVfU1RSSVAsMCw0KX19ZWxzZSBmKCl9X2xvYWRXR0xSZXNvdXJjZXModCl7aWYodGhpcy5fdmFvKXJldHVybjtjb25zdHtjb250ZXh0OmUsc3R5bGVMYXllcjpyfT10LG89ci5iYWNrZ3JvdW5kTWF0ZXJpYWwsaT1uZXcgSW50OEFycmF5KFswLDAsMSwwLDAsMSwxLDFdKSxzPWEuY3JlYXRlVmVydGV4KGUsZi5TVEFUSUNfRFJBVyxpKSxuPW5ldyBtKGUsby5nZXRBdHRyaWJ1dGVMb2NhdGlvbnMoKSxvLmdldExheW91dEluZm8oKSxuZXcgTWFwKFtbXCJnZW9tZXRyeVwiLHNdXSkpO3RoaXMuX3Zhbz1ufX1leHBvcnR7dSBhcyBXR0xCcnVzaFZUTEJhY2tncm91bmR9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMzMvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtUcmFuc2xhdGVBbmNob3IgYXMgZX1mcm9tXCIuLi8uLi92ZWN0b3JUaWxlcy9zdHlsZS9TdHlsZURlZmluaXRpb24uanNcIjtpbXBvcnQgdCBmcm9tXCIuL1dHTEJydXNoLmpzXCI7aW1wb3J0e0NvbXBhcmVGdW5jdGlvbiBhcyByLFByaW1pdGl2ZVR5cGUgYXMgaSxEYXRhVHlwZSBhcyBhfWZyb21cIi4uLy4uLy4uLy4uL3dlYmdsL2VudW1zLmpzXCI7Y2xhc3MgbiBleHRlbmRzIHR7Y29uc3RydWN0b3IoKXtzdXBlciguLi5hcmd1bWVudHMpLHRoaXMuX3Byb2dyYW1PcHRpb25zPXtpZDohMX19ZGlzcG9zZSgpe31kcmF3TWFueSh0LG4pe2NvbnN0e2NvbnRleHQ6bCxkaXNwbGF5TGV2ZWw6cyxyZXF1aXJlZExldmVsOm8sc3RhdGU6YyxwYWludGVyOnUsc3ByaXRlTW9zYWljOmQsc3R5bGVMYXllclVJRDpmLHJlcXVlc3RSZW5kZXI6bSxhbGxvd0RlbGF5ZWRSZW5kZXI6cH09dDtpZighbi5zb21lKChlPT5lLmxheWVyRGF0YS5nZXQoZik/LmNpcmNsZUluZGV4Q291bnQ/PyExKSkpcmV0dXJuO2NvbnN0IHk9dC5zdHlsZUxheWVyLGc9eS5jaXJjbGVNYXRlcmlhbCxNPXUudmVjdG9yVGlsZXNNYXRlcmlhbE1hbmFnZXIsdj0xLjIsRT15LmdldFBhaW50VmFsdWUoXCJjaXJjbGUtdHJhbnNsYXRlXCIscykseD15LmdldFBhaW50VmFsdWUoXCJjaXJjbGUtdHJhbnNsYXRlLWFuY2hvclwiLHMpLEk9dGhpcy5fcHJvZ3JhbU9wdGlvbnMsVT1NLmdldE1hdGVyaWFsUHJvZ3JhbShsLGcsSSk7aWYocCYmbnVsbCE9bSYmIVUuY29tcGlsZWQpcmV0dXJuIHZvaWQgbSgpO2wudXNlUHJvZ3JhbShVKSxVLnNldFVuaWZvcm1NYXRyaXgzZnYoXCJ1X2Rpc3BsYXlNYXQzXCIseD09PWUuVklFV1BPUlQ/Yy5kaXNwbGF5TWF0MzpjLmRpc3BsYXlWaWV3TWF0MyksVS5zZXRVbmlmb3JtMmZ2KFwidV9jaXJjbGVUcmFuc2xhdGlvblwiLEUpLFUuc2V0VW5pZm9ybTFmKFwidV9kZXB0aFwiLHkueiksVS5zZXRVbmlmb3JtMWYoXCJ1X2FudGlhbGlhc2luZ1dpZHRoXCIsdik7bGV0IF89LTE7Zm9yKGNvbnN0IGUgb2Ygbil7aWYoIWUubGF5ZXJEYXRhLmhhcyhmKSljb250aW51ZTtlLmtleS5sZXZlbCE9PV8mJihfPWUua2V5LmxldmVsLGcuc2V0RGF0YVVuaWZvcm1zKFUscyx5LF8sZCkpO2NvbnN0IHQ9ZS5sYXllckRhdGEuZ2V0KGYpO2lmKCF0LmNpcmNsZUluZGV4Q291bnQpY29udGludWU7dC5wcmVwYXJlRm9yUmVuZGVyaW5nKGwpO2NvbnN0IG49dC52YW87bnVsbCE9biYmKGwuYmluZFZBTyhuKSxVLnNldFVuaWZvcm1NYXRyaXgzZnYoXCJ1X2R2c01hdDNcIixlLnRyYW5zZm9ybXMuZGlzcGxheVZpZXdTY3JlZW5NYXQzKSxvIT09ZS5rZXkubGV2ZWw/bC5zZXRTdGVuY2lsRnVuY3Rpb24oci5FUVVBTCxlLnN0ZW5jaWxSZWYsMjU1KTpsLnNldFN0ZW5jaWxGdW5jdGlvbihyLkdSRUFURVIsMjU1LDI1NSksbC5kcmF3RWxlbWVudHMoaS5UUklBTkdMRVMsdC5jaXJjbGVJbmRleENvdW50LGEuVU5TSUdORURfSU5ULFVpbnQzMkFycmF5LkJZVEVTX1BFUl9FTEVNRU5UKnQuY2lyY2xlSW5kZXhTdGFydCksZS50cmlhbmdsZUNvdW50Kz10LmNpcmNsZUluZGV4Q291bnQvMyl9fX1leHBvcnR7biBhcyBXR0xCcnVzaFZUTENpcmNsZX07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4zMy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e1RyYW5zbGF0ZUFuY2hvciBhcyB0fWZyb21cIi4uLy4uL3ZlY3RvclRpbGVzL3N0eWxlL1N0eWxlRGVmaW5pdGlvbi5qc1wiO2ltcG9ydHt2dGxUZXh0dXJlQmluZGluZ1VuaXRTcHJpdGVzIGFzIGUsdnRsSGlnaFJlc0N1dG9mZiBhcyBpfWZyb21cIi4uL2RlZmluaXRpb25zLmpzXCI7aW1wb3J0IG4gZnJvbVwiLi9XR0xCcnVzaC5qc1wiO2ltcG9ydHtUZXh0dXJlU2FtcGxpbmdNb2RlIGFzIGEsQ29tcGFyZUZ1bmN0aW9uIGFzIGwsUHJpbWl0aXZlVHlwZSBhcyByLERhdGFUeXBlIGFzIG99ZnJvbVwiLi4vLi4vLi4vLi4vd2ViZ2wvZW51bXMuanNcIjtjb25zdCBzPTEvNjU1MzY7Y2xhc3MgZiBleHRlbmRzIG57Y29uc3RydWN0b3IoKXtzdXBlciguLi5hcmd1bWVudHMpLHRoaXMuX2ZpbGxQcm9ncmFtT3B0aW9ucz17aWQ6ITEscGF0dGVybjohMX0sdGhpcy5fb3V0bGluZVByb2dyYW1PcHRpb25zPXtpZDohMX19ZGlzcG9zZSgpe31kcmF3TWFueSh0LGUpe2NvbnN0e2Rpc3BsYXlMZXZlbDppLHJlbmRlclBhc3M6bixzcHJpdGVNb3NhaWM6YSxzdHlsZUxheWVyVUlEOmx9PXQ7bGV0IHI9ITE7Zm9yKGNvbnN0IF8gb2YgZSlpZihfLmxheWVyRGF0YS5oYXMobCkpe2NvbnN0IHQ9Xy5sYXllckRhdGEuZ2V0KGwpO2lmKHQuZmlsbEluZGV4Q291bnQ+MHx8dC5vdXRsaW5lSW5kZXhDb3VudD4wKXtyPSEwO2JyZWFrfX1pZighcilyZXR1cm47Y29uc3Qgbz10LnN0eWxlTGF5ZXIscz1vLmdldFBhaW50UHJvcGVydHkoXCJmaWxsLXBhdHRlcm5cIiksZj12b2lkIDAhPT1zLHU9ZiYmcy5pc0RhdGFEcml2ZW47bGV0IGM7aWYoZiYmIXUpe2NvbnN0IHQ9cy5nZXRWYWx1ZShpKTtjPWEuZ2V0TW9zYWljSXRlbVBvc2l0aW9uKHQsITApfWNvbnN0IGQ9IWYmJm8uZ2V0UGFpbnRWYWx1ZShcImZpbGwtYW50aWFsaWFzXCIsaSk7bGV0IHA9ITAsbT0xO2lmKCFmKXtjb25zdCB0PW8uZ2V0UGFpbnRQcm9wZXJ0eShcImZpbGwtY29sb3JcIiksZT1vLmdldFBhaW50UHJvcGVydHkoXCJmaWxsLW9wYWNpdHlcIik7aWYoIXQ/LmlzRGF0YURyaXZlbiYmIWU/LmlzRGF0YURyaXZlbil7Y29uc3QgdD1vLmdldFBhaW50VmFsdWUoXCJmaWxsLWNvbG9yXCIsaSk7bT1vLmdldFBhaW50VmFsdWUoXCJmaWxsLW9wYWNpdHlcIixpKSp0WzNdLG0+PTEmJihwPSExKX19aWYocCYmXCJvcGFxdWVcIj09PW4pcmV0dXJuO2NvbnN0IHk9by5nZXRQYWludFZhbHVlKFwiZmlsbC10cmFuc2xhdGVcIixpKSxnPW8uZ2V0UGFpbnRWYWx1ZShcImZpbGwtdHJhbnNsYXRlLWFuY2hvclwiLGkpOyhwfHxcInRyYW5zbHVjZW50XCIhPT1uKSYmdGhpcy5fZHJhd0ZpbGwodCxsLG8sZSx5LGcsZixjLHUpO2NvbnN0IE09IW8uaGFzRGF0YURyaXZlbk91dGxpbmVDb2xvciYmby5vdXRsaW5lVXNlc0ZpbGxDb2xvciYmbTwxO2QmJlwib3BhcXVlXCIhPT1uJiYhTSYmdGhpcy5fZHJhd091dGxpbmUodCxsLG8sZSx5LGcpfV9kcmF3RmlsbChuLGYsdSxjLGQscCxtLHksZyl7aWYobSYmIWcmJm51bGw9PXkpcmV0dXJuO2NvbnN0e2NvbnRleHQ6TSxkaXNwbGF5TGV2ZWw6XyxzdGF0ZTpFLHBhaW50ZXI6dixwaXhlbFJhdGlvOlAsc3ByaXRlTW9zYWljOlUscmVxdWVzdFJlbmRlcjpJLGFsbG93RGVsYXllZFJlbmRlcjp4fT1uLEQ9dS5maWxsTWF0ZXJpYWwsUj12LnZlY3RvclRpbGVzTWF0ZXJpYWxNYW5hZ2VyLFM9UD5pPzI6MSxUPXRoaXMuX2ZpbGxQcm9ncmFtT3B0aW9ucztULnBhdHRlcm49bTtjb25zdCBoPVIuZ2V0TWF0ZXJpYWxQcm9ncmFtKE0sRCxUKTtpZih4JiZudWxsIT1JJiYhaC5jb21waWxlZClyZXR1cm4gdm9pZCBJKCk7aWYoTS51c2VQcm9ncmFtKGgpLG51bGwhPXkpe2NvbnN0e3BhZ2U6dH09eSxpPVUuZ2V0UGFnZVNpemUodCk7bnVsbCE9aSYmKFUuYmluZChNLGEuTElORUFSLHQsZSksaC5zZXRVbmlmb3JtMmZ2KFwidV9tb3NhaWNTaXplXCIsaSksaC5zZXRVbmlmb3JtMWkoXCJ1X3RleHR1cmVcIixlKSl9aC5zZXRVbmlmb3JtTWF0cml4M2Z2KFwidV9kaXNwbGF5TWF0M1wiLHA9PT10LlZJRVdQT1JUP0UuZGlzcGxheU1hdDM6RS5kaXNwbGF5Vmlld01hdDMpLGguc2V0VW5pZm9ybTJmdihcInVfZmlsbFRyYW5zbGF0aW9uXCIsZCksaC5zZXRVbmlmb3JtMWYoXCJ1X2RlcHRoXCIsdS56K3MpO2xldCB3PS0xO2Zvcihjb25zdCB0IG9mIGMpe2lmKCF0LmxheWVyRGF0YS5oYXMoZikpY29udGludWU7dC5rZXkubGV2ZWwhPT13JiYodz10LmtleS5sZXZlbCxELnNldERhdGFVbmlmb3JtcyhoLF8sdSx3LFUpKTtjb25zdCBpPXQubGF5ZXJEYXRhLmdldChmKTtpZighaS5maWxsSW5kZXhDb3VudCljb250aW51ZTtpLnByZXBhcmVGb3JSZW5kZXJpbmcoTSk7Y29uc3Qgbj1pLmZpbGxWQU87aWYobnVsbCE9bil7aWYoTS5iaW5kVkFPKG4pLGguc2V0VW5pZm9ybU1hdHJpeDNmdihcInVfZHZzTWF0M1wiLHQudHJhbnNmb3Jtcy5kaXNwbGF5Vmlld1NjcmVlbk1hdDMpLE0uc2V0U3RlbmNpbEZ1bmN0aW9uKGwuRVFVQUwsdC5zdGVuY2lsUmVmLDI1NSksbSl7Y29uc3QgZT1NYXRoLm1heCgyKiooTWF0aC5yb3VuZChfKS10LmtleS5sZXZlbCksMSksaT10LnJhbmdlWC8oUyp0LndpZHRoKmUpO2guc2V0VW5pZm9ybTFmKFwidV9wYXR0ZXJuRmFjdG9yXCIsaSl9aWYoZyl7Y29uc3QgdD1pLnBhdHRlcm5NYXA7aWYoIXQpY29udGludWU7Zm9yKGNvbnN0W2ksbl1vZiB0KXtjb25zdCB0PVUuZ2V0UGFnZVNpemUoaSk7bnVsbCE9dCYmKFUuYmluZChNLGEuTElORUFSLGksZSksaC5zZXRVbmlmb3JtMmZ2KFwidV9tb3NhaWNTaXplXCIsdCksaC5zZXRVbmlmb3JtMWkoXCJ1X3RleHR1cmVcIixlKSxNLmRyYXdFbGVtZW50cyhyLlRSSUFOR0xFUyxuWzFdLG8uVU5TSUdORURfSU5ULFVpbnQzMkFycmF5LkJZVEVTX1BFUl9FTEVNRU5UKm5bMF0pKX19ZWxzZSBNLmRyYXdFbGVtZW50cyhyLlRSSUFOR0xFUyxpLmZpbGxJbmRleENvdW50LG8uVU5TSUdORURfSU5ULFVpbnQzMkFycmF5LkJZVEVTX1BFUl9FTEVNRU5UKmkuZmlsbEluZGV4U3RhcnQpO3QudHJpYW5nbGVDb3VudCs9aS5maWxsSW5kZXhDb3VudC8zfX19X2RyYXdPdXRsaW5lKGUsaSxuLGEsZix1KXtjb25zdHtjb250ZXh0OmMsZGlzcGxheUxldmVsOmQsc3RhdGU6cCxwYWludGVyOm0scGl4ZWxSYXRpbzp5LHNwcml0ZU1vc2FpYzpnLHJlcXVlc3RSZW5kZXI6TSxhbGxvd0RlbGF5ZWRSZW5kZXI6X309ZSxFPW4ub3V0bGluZU1hdGVyaWFsLHY9bS52ZWN0b3JUaWxlc01hdGVyaWFsTWFuYWdlcixQPS43NS95LFU9dGhpcy5fb3V0bGluZVByb2dyYW1PcHRpb25zLEk9di5nZXRNYXRlcmlhbFByb2dyYW0oYyxFLFUpO2lmKF8mJm51bGwhPU0mJiFJLmNvbXBpbGVkKXJldHVybiB2b2lkIE0oKTtjLnVzZVByb2dyYW0oSSksSS5zZXRVbmlmb3JtTWF0cml4M2Z2KFwidV9kaXNwbGF5TWF0M1wiLHU9PT10LlZJRVdQT1JUP3AuZGlzcGxheU1hdDM6cC5kaXNwbGF5Vmlld01hdDMpLEkuc2V0VW5pZm9ybTJmdihcInVfZmlsbFRyYW5zbGF0aW9uXCIsZiksSS5zZXRVbmlmb3JtMWYoXCJ1X2RlcHRoXCIsbi56K3MpLEkuc2V0VW5pZm9ybTFmKFwidV9vdXRsaW5lX3dpZHRoXCIsUCk7bGV0IHg9LTE7Zm9yKGNvbnN0IHQgb2YgYSl7aWYoIXQubGF5ZXJEYXRhLmhhcyhpKSljb250aW51ZTt0LmtleS5sZXZlbCE9PXgmJih4PXQua2V5LmxldmVsLEUuc2V0RGF0YVVuaWZvcm1zKEksZCxuLHgsZykpO2NvbnN0IGU9dC5sYXllckRhdGEuZ2V0KGkpO2lmKGUucHJlcGFyZUZvclJlbmRlcmluZyhjKSwhZS5vdXRsaW5lSW5kZXhDb3VudCljb250aW51ZTtjb25zdCBhPWUub3V0bGluZVZBTztudWxsIT1hJiYoYy5iaW5kVkFPKGEpLEkuc2V0VW5pZm9ybU1hdHJpeDNmdihcInVfZHZzTWF0M1wiLHQudHJhbnNmb3Jtcy5kaXNwbGF5Vmlld1NjcmVlbk1hdDMpLGMuc2V0U3RlbmNpbEZ1bmN0aW9uKGwuRVFVQUwsdC5zdGVuY2lsUmVmLDI1NSksYy5kcmF3RWxlbWVudHMoci5UUklBTkdMRVMsZS5vdXRsaW5lSW5kZXhDb3VudCxvLlVOU0lHTkVEX0lOVCxVaW50MzJBcnJheS5CWVRFU19QRVJfRUxFTUVOVCplLm91dGxpbmVJbmRleFN0YXJ0KSx0LnRyaWFuZ2xlQ291bnQrPWUub3V0bGluZUluZGV4Q291bnQvMyl9fX1leHBvcnR7ZiBhcyBXR0xCcnVzaFZUTEZpbGx9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMzMvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtUcmFuc2xhdGVBbmNob3IgYXMgZX1mcm9tXCIuLi8uLi92ZWN0b3JUaWxlcy9zdHlsZS9TdHlsZURlZmluaXRpb24uanNcIjtpbXBvcnR7dnRsVGV4dHVyZUJpbmRpbmdVbml0U3ByaXRlcyBhcyB0fWZyb21cIi4uL2RlZmluaXRpb25zLmpzXCI7aW1wb3J0IGkgZnJvbVwiLi9XR0xCcnVzaC5qc1wiO2ltcG9ydHtUZXh0dXJlU2FtcGxpbmdNb2RlIGFzIG4sQ29tcGFyZUZ1bmN0aW9uIGFzIGEsUHJpbWl0aXZlVHlwZSBhcyByLERhdGFUeXBlIGFzIG99ZnJvbVwiLi4vLi4vLi4vLi4vd2ViZ2wvZW51bXMuanNcIjtjbGFzcyBzIGV4dGVuZHMgaXtjb25zdHJ1Y3Rvcigpe3N1cGVyKC4uLmFyZ3VtZW50cyksdGhpcy5fcHJvZ3JhbU9wdGlvbnM9e2lkOiExLHBhdHRlcm46ITEsc2RmOiExfX1kaXNwb3NlKCl7fWRyYXdNYW55KGkscyl7Y29uc3R7Y29udGV4dDpsLGRpc3BsYXlMZXZlbDpmLHN0YXRlOnUscGFpbnRlcjpjLHBpeGVsUmF0aW86ZCxzcHJpdGVNb3NhaWM6bSxzdHlsZUxheWVyVUlEOnAscmVxdWVzdFJlbmRlcjpnLGFsbG93RGVsYXllZFJlbmRlcjp5fT1pO2lmKCFzLnNvbWUoKGU9PmUubGF5ZXJEYXRhLmdldChwKT8ubGluZUluZGV4Q291bnQ/PyExKSkpcmV0dXJuO2NvbnN0IE09aS5zdHlsZUxheWVyLEU9TS5saW5lTWF0ZXJpYWwsXz1jLnZlY3RvclRpbGVzTWF0ZXJpYWxNYW5hZ2VyLHY9TS5nZXRQYWludFZhbHVlKFwibGluZS10cmFuc2xhdGVcIixmKSxVPU0uZ2V0UGFpbnRWYWx1ZShcImxpbmUtdHJhbnNsYXRlLWFuY2hvclwiLGYpLEk9TS5nZXRQYWludFByb3BlcnR5KFwibGluZS1wYXR0ZXJuXCIpLFA9dm9pZCAwIT09SSx4PVAmJkkuaXNEYXRhRHJpdmVuO2xldCBELFM7aWYoUCYmIXgpe2NvbnN0IGU9SS5nZXRWYWx1ZShmKTtEPW0uZ2V0TW9zYWljSXRlbVBvc2l0aW9uKGUpfWxldCBMPSExO2lmKCFQKXtjb25zdCBlPU0uZ2V0UGFpbnRQcm9wZXJ0eShcImxpbmUtZGFzaGFycmF5XCIpO2lmKFM9dm9pZCAwIT09ZSxMPVMmJmUuaXNEYXRhRHJpdmVuLFMmJiFMKXtjb25zdCB0PWUuZ2V0VmFsdWUoZiksaT1NLmdldERhc2hLZXkodCxNLmdldExheW91dFZhbHVlKFwibGluZS1jYXBcIixmKSk7RD1tLmdldE1vc2FpY0l0ZW1Qb3NpdGlvbihpKX19Y29uc3QgTj0xL2QsUj10aGlzLl9wcm9ncmFtT3B0aW9ucztSLnBhdHRlcm49UCxSLnNkZj1TO2NvbnN0IFQ9Xy5nZXRNYXRlcmlhbFByb2dyYW0obCxFLFIpO2lmKHkmJm51bGwhPWcmJiFULmNvbXBpbGVkKXJldHVybiB2b2lkIGcoKTtpZihsLnVzZVByb2dyYW0oVCksVC5zZXRVbmlmb3JtTWF0cml4M2Z2KFwidV9kaXNwbGF5Vmlld01hdDNcIix1LmRpc3BsYXlWaWV3TWF0MyksVC5zZXRVbmlmb3JtTWF0cml4M2Z2KFwidV9kaXNwbGF5TWF0M1wiLFU9PT1lLlZJRVdQT1JUP3UuZGlzcGxheU1hdDM6dS5kaXNwbGF5Vmlld01hdDMpLFQuc2V0VW5pZm9ybTJmdihcInVfbGluZVRyYW5zbGF0aW9uXCIsdiksVC5zZXRVbmlmb3JtMWYoXCJ1X2RlcHRoXCIsTS56KSxULnNldFVuaWZvcm0xZihcInVfYW50aWFsaWFzaW5nXCIsTiksRCYmbnVsbCE9RCl7Y29uc3R7cGFnZTplfT1ELGk9bS5nZXRQYWdlU2l6ZShlKTtudWxsIT1pJiYobS5iaW5kKGwsbi5MSU5FQVIsZSx0KSxULnNldFVuaWZvcm0yZnYoXCJ1X21vc2FpY1NpemVcIixpKSxULnNldFVuaWZvcm0xaShcInVfdGV4dHVyZVwiLHQpKX1sZXQgVj0tMTtmb3IoY29uc3QgZSBvZiBzKXtpZighZS5sYXllckRhdGEuaGFzKHApKWNvbnRpbnVlO2Uua2V5LmxldmVsIT09ViYmKFY9ZS5rZXkubGV2ZWwsRS5zZXREYXRhVW5pZm9ybXMoVCxmLE0sVixtKSk7Y29uc3QgaT0yKiooZi1WKS9kO1Quc2V0VW5pZm9ybTFmKFwidV96b29tRmFjdG9yXCIsaSk7Y29uc3Qgcz1lLmxheWVyRGF0YS5nZXQocCk7aWYoIXMubGluZUluZGV4Q291bnQpY29udGludWU7cy5wcmVwYXJlRm9yUmVuZGVyaW5nKGwpO2NvbnN0IHU9cy52YW87aWYobnVsbCE9dSl7aWYobC5iaW5kVkFPKHUpLFQuc2V0VW5pZm9ybU1hdHJpeDNmdihcInVfZHZzTWF0M1wiLGUudHJhbnNmb3Jtcy5kaXNwbGF5Vmlld1NjcmVlbk1hdDMpLGwuc2V0U3RlbmNpbEZ1bmN0aW9uKGEuRVFVQUwsZS5zdGVuY2lsUmVmLDI1NSkseHx8TCl7Y29uc3QgZT1zLnBhdHRlcm5NYXA7aWYoIWUpY29udGludWU7Zm9yKGNvbnN0W2ksYV1vZiBlKXtjb25zdCBlPW0uZ2V0UGFnZVNpemUoaSk7bnVsbCE9ZSYmKG0uYmluZChsLG4uTElORUFSLGksdCksVC5zZXRVbmlmb3JtMmZ2KFwidV9tb3NhaWNTaXplXCIsZSksVC5zZXRVbmlmb3JtMWkoXCJ1X3RleHR1cmVcIix0KSxsLmRyYXdFbGVtZW50cyhyLlRSSUFOR0xFUyxhWzFdLG8uVU5TSUdORURfSU5ULFVpbnQzMkFycmF5LkJZVEVTX1BFUl9FTEVNRU5UKmFbMF0pKX19ZWxzZSBsLmRyYXdFbGVtZW50cyhyLlRSSUFOR0xFUyxzLmxpbmVJbmRleENvdW50LG8uVU5TSUdORURfSU5ULFVpbnQzMkFycmF5LkJZVEVTX1BFUl9FTEVNRU5UKnMubGluZUluZGV4U3RhcnQpO2UudHJpYW5nbGVDb3VudCs9cy5saW5lSW5kZXhDb3VudC8zfX19fWV4cG9ydHtzIGFzIFdHTEJydXNoVlRMTGluZX07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4zMy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e2NyZWF0ZSBhcyBlLGZyb21WYWx1ZXMgYXMgdH1mcm9tXCIuLi8uLi8uLi8uLi8uLi9jb3JlL2xpYnMvZ2wtbWF0cml4LTIvZmFjdG9yaWVzL3ZlYzJmMzIuanNcIjtpbXBvcnR7ZmFkZUR1cmF0aW9uIGFzIGl9ZnJvbVwiLi4vLi4vdmVjdG9yVGlsZXMvZGVjbHV0dGVyaW5nL2NvbmZpZy5qc1wiO2ltcG9ydHtSb3RhdGlvbkFsaWdubWVudCBhcyBhLFN5bWJvbFBsYWNlbWVudCBhcyByLFRyYW5zbGF0ZUFuY2hvciBhcyBufWZyb21cIi4uLy4uL3ZlY3RvclRpbGVzL3N0eWxlL1N0eWxlRGVmaW5pdGlvbi5qc1wiO2ltcG9ydHt2dGxUZXh0dXJlQmluZGluZ1VuaXRTcHJpdGVzIGFzIHMsdnRsVGV4dHVyZUJpbmRpbmdVbml0R2x5cGhzIGFzIG99ZnJvbVwiLi4vZGVmaW5pdGlvbnMuanNcIjtpbXBvcnR7ZGVnVG9CeXRlIGFzIGx9ZnJvbVwiLi4vR2VvbWV0cnlVdGlscy5qc1wiO2ltcG9ydCBmIGZyb21cIi4vV0dMQnJ1c2guanNcIjtpbXBvcnR7VGV4dHVyZVNhbXBsaW5nTW9kZSBhcyBjLFByaW1pdGl2ZVR5cGUgYXMgdSxEYXRhVHlwZSBhcyBwLENvbXBhcmVGdW5jdGlvbiBhcyBtfWZyb21cIi4uLy4uLy4uLy4uL3dlYmdsL2VudW1zLmpzXCI7Y29uc3QgZz0xLzY1NTM2O2NsYXNzIGQgZXh0ZW5kcyBme2NvbnN0cnVjdG9yKCl7c3VwZXIoLi4uYXJndW1lbnRzKSx0aGlzLl9pY29uUHJvZ3JhbU9wdGlvbnM9e2lkOiExLHNkZjohMX0sdGhpcy5fc2RmUHJvZ3JhbU9wdGlvbnM9e2lkOiExfSx0aGlzLl9zcHJpdGVzVGV4dHVyZVNpemU9ZSgpfWRpc3Bvc2UoKXt9ZHJhd01hbnkoZSx0KXtjb25zdCBpPWUuc3R5bGVMYXllcjt0aGlzLl9kcmF3SWNvbnMoZSxpLHQpLHRoaXMuX2RyYXdUZXh0KGUsaSx0KX1fZHJhd0ljb25zKGUsdCxvKXtjb25zdHtjb250ZXh0OmYsZGlzcGxheUxldmVsOmMscGFpbnRlcjp1LHNwcml0ZU1vc2FpYzpwLHN0YXRlOm0sc3R5bGVMYXllclVJRDpnLHJlcXVlc3RSZW5kZXI6ZCxhbGxvd0RlbGF5ZWRSZW5kZXI6eX09ZSxfPXQuaWNvbk1hdGVyaWFsLE09dS52ZWN0b3JUaWxlc01hdGVyaWFsTWFuYWdlcjtsZXQgaCxQPSExO2Zvcihjb25zdCBpIG9mIG8paWYoaS5sYXllckRhdGEuaGFzKGcpJiYoaD1pLmxheWVyRGF0YS5nZXQoZyksaC5pY29uUGVyUGFnZUVsZW1lbnRzTWFwLnNpemU+MCkpe1A9ITA7YnJlYWt9aWYoIVApcmV0dXJuO2NvbnN0IFU9dC5nZXRQYWludFZhbHVlKFwiaWNvbi10cmFuc2xhdGVcIixjKSxFPXQuZ2V0UGFpbnRWYWx1ZShcImljb24tdHJhbnNsYXRlLWFuY2hvclwiLGMpO2xldCBUPXQuZ2V0TGF5b3V0VmFsdWUoXCJpY29uLXJvdGF0aW9uLWFsaWdubWVudFwiLGMpO1Q9PT1hLkFVVE8mJihUPXQuZ2V0TGF5b3V0VmFsdWUoXCJzeW1ib2wtcGxhY2VtZW50XCIsYyk9PT1yLlBPSU5UP2EuVklFV1BPUlQ6YS5NQVApO2NvbnN0IHg9VD09PWEuTUFQLFM9dC5nZXRMYXlvdXRWYWx1ZShcImljb24ta2VlcC11cHJpZ2h0XCIsYykmJngsdj1oLmlzSWNvblNERixEPXRoaXMuX2ljb25Qcm9ncmFtT3B0aW9ucztELnNkZj12O2NvbnN0IFY9TS5nZXRNYXRlcmlhbFByb2dyYW0oZixfLEQpO2lmKHkmJm51bGwhPWQmJiFWLmNvbXBpbGVkKXJldHVybiB2b2lkIGQoKTtmLnVzZVByb2dyYW0oViksVi5zZXRVbmlmb3JtTWF0cml4M2Z2KFwidV9kaXNwbGF5Vmlld01hdDNcIixUPT09YS5NQVA/bS5kaXNwbGF5Vmlld01hdDM6bS5kaXNwbGF5TWF0MyksVi5zZXRVbmlmb3JtTWF0cml4M2Z2KFwidV9kaXNwbGF5TWF0M1wiLEU9PT1uLlZJRVdQT1JUP20uZGlzcGxheU1hdDM6bS5kaXNwbGF5Vmlld01hdDMpLFYuc2V0VW5pZm9ybTJmdihcInVfaWNvblRyYW5zbGF0aW9uXCIsVSksVi5zZXRVbmlmb3JtMWYoXCJ1X2RlcHRoXCIsdC56KSxWLnNldFVuaWZvcm0xZihcInVfbWFwUm90YXRpb25cIixsKG0ucm90YXRpb24pKSxWLnNldFVuaWZvcm0xZihcInVfa2VlcFVwcmlnaHRcIixTPzE6MCksVi5zZXRVbmlmb3JtMWYoXCJ1X2xldmVsXCIsMTAqYyksVi5zZXRVbmlmb3JtMWkoXCJ1X3RleHR1cmVcIixzKSxWLnNldFVuaWZvcm0xZihcInVfZmFkZUR1cmF0aW9uXCIsaS8xZTMpO2xldCBSPS0xO2Zvcihjb25zdCBpIG9mIG8pe2lmKCFpLmxheWVyRGF0YS5oYXMoZykpY29udGludWU7aWYoaS5rZXkubGV2ZWwhPT1SJiYoUj1pLmtleS5sZXZlbCxfLnNldERhdGFVbmlmb3JtcyhWLGMsdCxSLHApKSxoPWkubGF5ZXJEYXRhLmdldChnKSwwPT09aC5pY29uUGVyUGFnZUVsZW1lbnRzTWFwLnNpemUpY29udGludWU7aC5wcmVwYXJlRm9yUmVuZGVyaW5nKGYpLGgudXBkYXRlT3BhY2l0eUluZm8oKTtjb25zdCBhPWguaWNvblZBTztpZihudWxsIT1hKXtmLmJpbmRWQU8oYSksVi5zZXRVbmlmb3JtTWF0cml4M2Z2KFwidV9kdnNNYXQzXCIsaS50cmFuc2Zvcm1zLmRpc3BsYXlWaWV3U2NyZWVuTWF0MyksVi5zZXRVbmlmb3JtMWYoXCJ1X3RpbWVcIiwocGVyZm9ybWFuY2Uubm93KCktaC5sYXN0T3BhY2l0eVVwZGF0ZSkvMWUzKTtmb3IoY29uc3RbdCxhXW9mIGguaWNvblBlclBhZ2VFbGVtZW50c01hcCl0aGlzLl9yZW5kZXJJY29uUmFuZ2UoZSxWLGEsdCxpKX19fV9yZW5kZXJJY29uUmFuZ2UoZSx0LGksYSxyKXtjb25zdHtjb250ZXh0Om4sc3ByaXRlTW9zYWljOm99PWU7dGhpcy5fc3ByaXRlc1RleHR1cmVTaXplWzBdPW8uZ2V0V2lkdGgoYSkvNCx0aGlzLl9zcHJpdGVzVGV4dHVyZVNpemVbMV09by5nZXRIZWlnaHQoYSkvNCx0LnNldFVuaWZvcm0yZnYoXCJ1X21vc2FpY1NpemVcIix0aGlzLl9zcHJpdGVzVGV4dHVyZVNpemUpLG8uYmluZChuLGMuTElORUFSLGEscyksdGhpcy5fc2V0U3RlbmNpbFN0YXRlKGUsciksbi5kcmF3RWxlbWVudHModS5UUklBTkdMRVMsaVsxXSxwLlVOU0lHTkVEX0lOVCxVaW50MzJBcnJheS5CWVRFU19QRVJfRUxFTUVOVCppWzBdKSxyLnRyaWFuZ2xlQ291bnQrPWlbMV0vM31fZHJhd1RleHQoZSxzLGYpe2NvbnN0e2NvbnRleHQ6YyxkaXNwbGF5TGV2ZWw6dSxnbHlwaE1vc2FpYzpwLHBhaW50ZXI6bSxwaXhlbFJhdGlvOmQsc3ByaXRlTW9zYWljOnksc3RhdGU6XyxzdHlsZUxheWVyVUlEOk0scmVxdWVzdFJlbmRlcjpoLGFsbG93RGVsYXllZFJlbmRlcjpQfT1lLFU9cy50ZXh0TWF0ZXJpYWwsRT1tLnZlY3RvclRpbGVzTWF0ZXJpYWxNYW5hZ2VyO2xldCBULHg9ITE7Zm9yKGNvbnN0IHQgb2YgZilpZih0LmxheWVyRGF0YS5oYXMoTSkmJihUPXQubGF5ZXJEYXRhLmdldChNKSxULmdseXBoUGVyUGFnZUVsZW1lbnRzTWFwLnNpemU+MCkpe3g9ITA7YnJlYWt9aWYoIXgpcmV0dXJuO2NvbnN0IFM9cy5nZXRQYWludFByb3BlcnR5KFwidGV4dC1vcGFjaXR5XCIpO2lmKFMmJiFTLmlzRGF0YURyaXZlbiYmMD09PVMuZ2V0VmFsdWUodSkpcmV0dXJuO2NvbnN0IHY9cy5nZXRQYWludFByb3BlcnR5KFwidGV4dC1jb2xvclwiKSxEPSF2fHx2LmlzRGF0YURyaXZlbnx8di5nZXRWYWx1ZSh1KVszXT4wLFY9cy5nZXRQYWludFByb3BlcnR5KFwidGV4dC1oYWxvLXdpZHRoXCIpLFI9cy5nZXRQYWludFByb3BlcnR5KFwidGV4dC1oYWxvLWNvbG9yXCIpLEk9KCFWfHxWLmlzRGF0YURyaXZlbnx8Vi5nZXRWYWx1ZSh1KT4wKSYmKCFSfHxSLmlzRGF0YURyaXZlbnx8Ui5nZXRWYWx1ZSh1KVszXT4wKTtpZighRCYmIUkpcmV0dXJuO2NvbnN0IEE9MjQvODtsZXQgdz1zLmdldExheW91dFZhbHVlKFwidGV4dC1yb3RhdGlvbi1hbGlnbm1lbnRcIix1KTt3PT09YS5BVVRPJiYodz1zLmdldExheW91dFZhbHVlKFwic3ltYm9sLXBsYWNlbWVudFwiLHUpPT09ci5QT0lOVD9hLlZJRVdQT1JUOmEuTUFQKTtjb25zdCBMPXc9PT1hLk1BUCxPPXMuZ2V0TGF5b3V0VmFsdWUoXCJ0ZXh0LWtlZXAtdXByaWdodFwiLHUpJiZMLE49LjgqQS9kO3RoaXMuX2dseXBoVGV4dHVyZVNpemV8fCh0aGlzLl9nbHlwaFRleHR1cmVTaXplPXQocC53aWR0aC80LHAuaGVpZ2h0LzQpKTtjb25zdCB6PXMuZ2V0UGFpbnRWYWx1ZShcInRleHQtdHJhbnNsYXRlXCIsdSksYj1zLmdldFBhaW50VmFsdWUoXCJ0ZXh0LXRyYW5zbGF0ZS1hbmNob3JcIix1KSxrPXRoaXMuX3NkZlByb2dyYW1PcHRpb25zLEc9RS5nZXRNYXRlcmlhbFByb2dyYW0oYyxVLGspO2lmKFAmJm51bGwhPWgmJiFHLmNvbXBpbGVkKXJldHVybiB2b2lkIGgoKTtjLnVzZVByb2dyYW0oRyksRy5zZXRVbmlmb3JtTWF0cml4M2Z2KFwidV9kaXNwbGF5Vmlld01hdDNcIix3PT09YS5NQVA/Xy5kaXNwbGF5Vmlld01hdDM6Xy5kaXNwbGF5TWF0MyksRy5zZXRVbmlmb3JtTWF0cml4M2Z2KFwidV9kaXNwbGF5TWF0M1wiLGI9PT1uLlZJRVdQT1JUP18uZGlzcGxheU1hdDM6Xy5kaXNwbGF5Vmlld01hdDMpLEcuc2V0VW5pZm9ybTJmdihcInVfdGV4dFRyYW5zbGF0aW9uXCIseiksRy5zZXRVbmlmb3JtMWYoXCJ1X2RlcHRoXCIscy56K2cpLEcuc2V0VW5pZm9ybTJmdihcInVfbW9zYWljU2l6ZVwiLHRoaXMuX2dseXBoVGV4dHVyZVNpemUpLEcuc2V0VW5pZm9ybTFmKFwidV9tYXBSb3RhdGlvblwiLGwoXy5yb3RhdGlvbikpLEcuc2V0VW5pZm9ybTFmKFwidV9rZWVwVXByaWdodFwiLE8/MTowKSxHLnNldFVuaWZvcm0xZihcInVfbGV2ZWxcIiwxMCp1KSxHLnNldFVuaWZvcm0xaShcInVfdGV4dHVyZVwiLG8pLEcuc2V0VW5pZm9ybTFmKFwidV9hbnRpYWxpYXNpbmdXaWR0aFwiLE4pLEcuc2V0VW5pZm9ybTFmKFwidV9mYWRlRHVyYXRpb25cIixpLzFlMyk7bGV0IFc9LTE7Zm9yKGNvbnN0IHQgb2YgZil7aWYoIXQubGF5ZXJEYXRhLmhhcyhNKSljb250aW51ZTtpZih0LmtleS5sZXZlbCE9PVcmJihXPXQua2V5LmxldmVsLFUuc2V0RGF0YVVuaWZvcm1zKEcsdSxzLFcseSkpLFQ9dC5sYXllckRhdGEuZ2V0KE0pLDA9PT1ULmdseXBoUGVyUGFnZUVsZW1lbnRzTWFwLnNpemUpY29udGludWU7VC5wcmVwYXJlRm9yUmVuZGVyaW5nKGMpLFQudXBkYXRlT3BhY2l0eUluZm8oKTtjb25zdCBpPVQudGV4dFZBTztpZihudWxsPT1pKWNvbnRpbnVlO2MuYmluZFZBTyhpKSxHLnNldFVuaWZvcm1NYXRyaXgzZnYoXCJ1X2R2c01hdDNcIix0LnRyYW5zZm9ybXMuZGlzcGxheVZpZXdTY3JlZW5NYXQzKSx0aGlzLl9zZXRTdGVuY2lsU3RhdGUoZSx0KTtjb25zdCBhPShwZXJmb3JtYW5jZS5ub3coKS1ULmxhc3RPcGFjaXR5VXBkYXRlKS8xZTM7Ry5zZXRVbmlmb3JtMWYoXCJ1X3RpbWVcIixhKSxULmdseXBoUGVyUGFnZUVsZW1lbnRzTWFwLmZvckVhY2goKChlLGkpPT57dGhpcy5fcmVuZGVyR2x5cGhSYW5nZShjLGUsaSxwLEcsSSxELHQpfSkpfX1fcmVuZGVyR2x5cGhSYW5nZShlLHQsaSxhLHIsbixzLGwpe2EuYmluZChlLGMuTElORUFSLGksbyksbiYmKHIuc2V0VW5pZm9ybTFmKFwidV9oYWxvXCIsMSksZS5kcmF3RWxlbWVudHModS5UUklBTkdMRVMsdFsxXSxwLlVOU0lHTkVEX0lOVCxVaW50MzJBcnJheS5CWVRFU19QRVJfRUxFTUVOVCp0WzBdKSxsLnRyaWFuZ2xlQ291bnQrPXRbMV0vMykscyYmKHIuc2V0VW5pZm9ybTFmKFwidV9oYWxvXCIsMCksZS5kcmF3RWxlbWVudHModS5UUklBTkdMRVMsdFsxXSxwLlVOU0lHTkVEX0lOVCxVaW50MzJBcnJheS5CWVRFU19QRVJfRUxFTUVOVCp0WzBdKSxsLnRyaWFuZ2xlQ291bnQrPXRbMV0vMyl9X3NldFN0ZW5jaWxTdGF0ZShlLHQpe2NvbnN0e2NvbnRleHQ6aSxpczNEOmEsc3RlbmNpbFN5bWJvbHM6cn09ZTtpZihpLnNldFN0ZW5jaWxUZXN0RW5hYmxlZCghMCkscilyZXR1cm4gaS5zZXRTdGVuY2lsV3JpdGVNYXNrKDI1NSksdm9pZCBpLnNldFN0ZW5jaWxGdW5jdGlvbihtLkFMV0FZUyx0LnN0ZW5jaWxSZWYsMjU1KTtpLnNldFN0ZW5jaWxXcml0ZU1hc2soMCksYT9pLnNldFN0ZW5jaWxGdW5jdGlvbihtLkVRVUFMLHQuc3RlbmNpbFJlZiwyNTUpOmkuc2V0U3RlbmNpbEZ1bmN0aW9uKG0uR1JFQVRFUiwyNTUsMjU1KX19ZXhwb3J0e2QgYXMgV0dMQnJ1c2hWVExTeW1ib2x9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMzMvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmNsYXNzIGV7Y29uc3RydWN0b3IoZSl7dGhpcy5fcmVhZEZpbGU9ZX1yZXNvbHZlSW5jbHVkZXMoZSl7cmV0dXJuIHRoaXMuX3Jlc29sdmUoZSl9X3Jlc29sdmUoZSx0PW5ldyBNYXApe2lmKHQuaGFzKGUpKXJldHVybiB0LmdldChlKTtjb25zdCByPXRoaXMuX3JlYWQoZSk7aWYoIXIpdGhyb3cgbmV3IEVycm9yKGBjYW5ub3QgZmluZCBzaGFkZXIgZmlsZSAke2V9YCk7Y29uc3Qgcz0vXlteXFxTXFxuXSojaW5jbHVkZVxccys8KFxcUyspPlteXFxTXFxuXT8vZ207bGV0IG49cy5leGVjKHIpO2NvbnN0IGw9W107Zm9yKDtudWxsIT1uOylsLnB1c2goe3BhdGg6blsxXSxzdGFydDpuLmluZGV4LGxlbmd0aDpuWzBdLmxlbmd0aH0pLG49cy5leGVjKHIpO2xldCBhPTAsaD1cIlwiO3JldHVybiBsLmZvckVhY2goKGU9PntoKz1yLnNsaWNlKGEsZS5zdGFydCksaCs9dC5oYXMoZS5wYXRoKT9cIlwiOnRoaXMuX3Jlc29sdmUoZS5wYXRoLHQpLGE9ZS5zdGFydCtlLmxlbmd0aH0pKSxoKz1yLnNsaWNlKGEpLHQuc2V0KGUsaCksaH1fcmVhZChlKXtyZXR1cm4gdGhpcy5fcmVhZEZpbGUoZSl9fWV4cG9ydHtlIGFzIFNoYWRlckNvbXBpbGVyfTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==