export const __webpack_id__ = "vendors-node_modules_arcgis_core_layers_graphics_sources_support_uploadAssets_js";
export const __webpack_ids__ = ["vendors-node_modules_arcgis_core_layers_graphics_sources_support_uploadAssets_js"];
export const __webpack_modules__ = {

/***/ "./node_modules/@arcgis/core/layers/graphics/sources/support/uploadAssetErrors.js":
/*!****************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/graphics/sources/support/uploadAssetErrors.js ***!
  \****************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   BadResponseError: () => (/* binding */ a),
/* harmony export */   Convert3DFailedError: () => (/* binding */ l),
/* harmony export */   MultipleModelsError: () => (/* binding */ m),
/* harmony export */   NoGlbSupportError: () => (/* binding */ t),
/* harmony export */   NoModelError: () => (/* binding */ i),
/* harmony export */   NoSupportedSourceError: () => (/* binding */ n),
/* harmony export */   NotBase64Error: () => (/* binding */ u),
/* harmony export */   UnableToPrepareOptionsError: () => (/* binding */ p),
/* harmony export */   UnsupportedError: () => (/* binding */ r),
/* harmony export */   UnsupportedFormatUploadedError: () => (/* binding */ c),
/* harmony export */   UploadFailedError: () => (/* binding */ d)
/* harmony export */ });
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
const e="upload-assets",o=()=>new Error;class r extends _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]{constructor(){super(`${e}:unsupported`,"Layer does not support asset uploads.",o())}}class t extends _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]{constructor(){super(`${e}:no-glb-support`,"Layer does not support glb.",o())}}class n extends _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]{constructor(){super(`${e}:no-supported-source`,"No supported external source found",o())}}class u extends _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]{constructor(){super(`${e}:not-base-64`,"Expected gltf data in base64 format after conversion.",o())}}class p extends _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]{constructor(){super(`${e}:unable-to-prepare-options`,"Unable to prepare uploadAsset request options.",o())}}class a extends _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]{constructor(s,r){super(`${e}:bad-response`,`Bad response. Uploaded ${s} items and received ${r} results.`,o())}}class d extends _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]{constructor(s,r){super(`${e}-layer:upload-failed`,`Failed to upload mesh file ${s}. Error code: ${r?.code??"-1"}. Error message: ${r?.messages??"unknown"}`,o())}}class c extends _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]{constructor(s){super(`${e}-layer:unsupported-format`,`The service allowed us to upload an asset of FormatID ${s}, but it does not list it in its supported formats.`,o())}}class l extends _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]{constructor(){super(`${e}:convert3D-failed`,"convert3D failed.")}}class i extends _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]{constructor(){super("invalid-input:no-model","No supported model found")}}class m extends _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]{constructor(){super("invalid-input:multiple-models","Multiple supported models found")}}


/***/ }),

/***/ "./node_modules/@arcgis/core/layers/graphics/sources/support/uploadAssets.js":
/*!***********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/graphics/sources/support/uploadAssets.js ***!
  \***********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   uploadAssets: () => (/* binding */ B)
/* harmony export */ });
/* harmony import */ var _request_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../request.js */ "./node_modules/@arcgis/core/request.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _core_time_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../core/time.js */ "./node_modules/@arcgis/core/core/time.js");
/* harmony import */ var _core_urlUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../core/urlUtils.js */ "./node_modules/@arcgis/core/core/urlUtils.js");
/* harmony import */ var _core_uuid_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../core/uuid.js */ "./node_modules/@arcgis/core/core/uuid.js");
/* harmony import */ var _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../geometry/SpatialReference.js */ "./node_modules/@arcgis/core/geometry/SpatialReference.js");
/* harmony import */ var _geometry_support_meshUtils_External_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../geometry/support/meshUtils/External.js */ "./node_modules/@arcgis/core/geometry/support/meshUtils/External.js");
/* harmony import */ var _uploadAssetErrors_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./uploadAssetErrors.js */ "./node_modules/@arcgis/core/layers/graphics/sources/support/uploadAssetErrors.js");
/* harmony import */ var _uploadProgressWeights_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./uploadProgressWeights.js */ "./node_modules/@arcgis/core/layers/graphics/sources/support/uploadProgressWeights.js");
/* harmony import */ var _uploads_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./uploads.js */ "./node_modules/@arcgis/core/layers/graphics/sources/support/uploads.js");
/* harmony import */ var _support_infoFor3D_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../support/infoFor3D.js */ "./node_modules/@arcgis/core/layers/support/infoFor3D.js");
/* harmony import */ var _support_meshSpatialReferenceScaleUtils_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../support/meshSpatialReferenceScaleUtils.js */ "./node_modules/@arcgis/core/layers/support/meshSpatialReferenceScaleUtils.js");
/* harmony import */ var _rest_support_meshFeatureAttributes_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../../rest/support/meshFeatureAttributes.js */ "./node_modules/@arcgis/core/rest/support/meshFeatureAttributes.js");
/* harmony import */ var _support_progressUtils_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../../support/progressUtils.js */ "./node_modules/@arcgis/core/support/progressUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
async function B(e,s,t){const r=e.length;if(!r)return t?.onProgress?.(1),[];const o=(0,_support_progressUtils_js__WEBPACK_IMPORTED_MODULE_15__.makeProgressManager)(r,t?.onProgress,"uploadAssets");return Promise.all(e.map(((e,r)=>q(e,s,{...t,onProgress:o.makeOnProgress(r)}))))}async function q(e,{layer:s,ongoingUploads:t},r){const o=t.get(e);if(o)return o;if(!ne(s))throw new _uploadAssetErrors_js__WEBPACK_IMPORTED_MODULE_9__.UnsupportedError;if(L(e,s))return r?.onProgress?.(1),e;const n=H(e,s,r);t.set(e,n);try{await n}finally{t.delete(e)}return e}function L(e,s){const{parsedUrl:t}=s;return null!=t&&e.metadata.externalSources.some((e=>(0,_geometry_support_meshUtils_External_js__WEBPACK_IMPORTED_MODULE_8__.externalIsOnService)(e,t)))}async function H(e,s,r){const{metadata:o}=e,{displaySource:n}=o,a=W(n?.source,s,{checkForConversionRequired:(0,_core_has_js__WEBPACK_IMPORTED_MODULE_1__["default"])("enable-feature:georeferenced-uploads")}),i=null!=a?$(a,s,r):o.externalSources.length>0?J(e,s,r):z(e,s,r),c=await i;return (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__.throwIfAborted)(r),e.addExternalSources([c]),e}async function $(e,s,t){return{source:{type:"service",assets:await Q(e,s,t)},original:!0,unitConversionDisabled:!0}}async function J(e,s,t){const r=ae(s),{externalSources:o}=e.metadata,n=M(o,s);if(!n)throw new _uploadAssetErrors_js__WEBPACK_IMPORTED_MODULE_9__.NoSupportedSourceError;const a=(0,_support_progressUtils_js__WEBPACK_IMPORTED_MODULE_15__.makeProgressManager)(_uploadProgressWeights_js__WEBPACK_IMPORTED_MODULE_10__.uploadProgressWeights.uploadConvertibleSource,t?.onProgress,"uploadConvertibleSource"),i={type:"service",assets:await Q(n,s,{onProgress:a.makeOnProgress("uploadEditSource")})};e.addExternalSources([{source:i,original:!0}]);const c=n.reduce(((e,{asset:s})=>s instanceof File?e+s.size:e),0),u=a.simulate("serviceAssetsToGlb",(0,_support_progressUtils_js__WEBPACK_IMPORTED_MODULE_15__.estimatedConversionTime)(c));try{const{source:o,transform:n,origin:a}=await se(i,s,r);return e.transform=n,a&&(e.metadata.georeferenced=!0,t?.useAssetOrigin&&(e.vertexSpace.origin=[a.x,a.y,a.z??0],e.spatialReference=a.spatialReference)),{source:o,unitConversionDisabled:!0}}finally{u.remove()}}async function z(e,s,t){const r=(0,_support_progressUtils_js__WEBPACK_IMPORTED_MODULE_15__.makeProgressManager)(_uploadProgressWeights_js__WEBPACK_IMPORTED_MODULE_10__.uploadProgressWeights.uploadLocalMesh,t?.onProgress,"uploadLocalMesh"),o=G(e,s,{...t,onProgress:r.makeOnProgress("meshToAssetBlob")});return{source:{type:"service",assets:await V([o],s,{...t,onProgress:r.makeOnProgress("uploadAssetBlobs")})},extent:e.extent.clone(),original:!0}}async function G(e,s,r){const o=ae(s),n=await e.load(r),a=await n.toBinaryGLTF({origin:n.origin,signal:r?.signal,ignoreLocalTransform:!0,unitConversionDisabled:!0});return (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__.throwIfAborted)(r),{blob:new Blob([a],{type:"model/gltf-binary"}),assetName:`${(0,_core_uuid_js__WEBPACK_IMPORTED_MODULE_6__.generateBracedUUID)()}.glb`,assetType:o}}function M(e,s){for(const t of e){const e=W(t.source,s);if(e)return e}return null}function W(e,{infoFor3D:s},t={}){if(!e)return null;const r=(0,_geometry_support_meshUtils_External_js__WEBPACK_IMPORTED_MODULE_8__.externalSourceToMultiPart)(e);if(!r)return null;const{supportedFormats:o,editFormats:n}=s,a=new Array,i=(0,_support_infoFor3D_js__WEBPACK_IMPORTED_MODULE_12__.getPrjFormatId)(s),c=(0,_support_infoFor3D_js__WEBPACK_IMPORTED_MODULE_12__.getWorldFileFormatId)(s);let u=!1;for(const l of r){const e=K(l,o);if(!e)return null;const{assetType:s}=e;if(t.checkForConversionRequired&&(s===i||s===c))return null;n.includes(s)&&(u=!0),a.push(e)}return u?a:null}function K(e,s){const t=(0,_geometry_support_meshUtils_External_js__WEBPACK_IMPORTED_MODULE_8__.assetFormatId)(e,s);return t?{asset:e,assetType:t}:null}async function Q(e,s,t){return V(e.map((e=>X(e,t))),s,t)}async function V(e,s,r){const o=(0,_support_progressUtils_js__WEBPACK_IMPORTED_MODULE_15__.makeProgressManager)(_uploadProgressWeights_js__WEBPACK_IMPORTED_MODULE_10__.uploadProgressWeights.uploadAssetBlobs,r?.onProgress,"uploadAssetBlobs"),n=await Z(e,s,{...r,onProgress:o.makeOnProgress("prepareAssetItems")});(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__.throwIfAborted)(r);const a=n.map((({item:e})=>e)),{uploadResults:i}=await _(a,s,{...r,onProgress:o.makeOnProgress("uploadAssetItems")});return (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__.throwIfAborted)(r),e.map(((e,t)=>ee(n[t],i[t],s)))}async function X(e,s){const{asset:r,assetType:o}=e;if(r instanceof File)return{blob:r,assetName:r.name,assetType:o};const n=await r.toBlob(s);return (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__.throwIfAborted)(s),{blob:n,assetName:r.assetName,assetType:o}}async function Y(e,s,r){const{blob:n,assetType:a,assetName:c}=e;let u=null;try{const e=await (0,_uploads_js__WEBPACK_IMPORTED_MODULE_11__.uploadItem)({data:n,name:c},s.url,r);(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__.throwIfAborted)(r),u={assetType:a,assetUploadId:e.itemID}}catch(l){(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__.throwIfAbortError)(l),ie().warnOnce(`Service ${s.url} does not support the REST Uploads API.`)}if(!u){const e=await (0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_5__.parseData)(n);if((0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__.throwIfAborted)(r),!e.isBase64)throw new _uploadAssetErrors_js__WEBPACK_IMPORTED_MODULE_9__.NotBase64Error;u={assetType:a,assetData:e.data}}if(!u)throw new _uploadAssetErrors_js__WEBPACK_IMPORTED_MODULE_9__.UnableToPrepareOptionsError;return{item:u,assetName:c}}function Z(e,s,r){const o=(0,_support_progressUtils_js__WEBPACK_IMPORTED_MODULE_15__.makeProgressManager)(e.length,r?.onProgress,"prepareAssetItems");return Promise.all(e.map((async(e,n)=>{const a=Y(await e,s,{...r,onProgress:o.makeOnProgress(n)});return (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__.throwIfAborted)(r),a})))}async function _(s,r,o){const n=(0,_support_progressUtils_js__WEBPACK_IMPORTED_MODULE_15__.simulateProgress)(o?.onProgress);try{const n=await (0,_request_js__WEBPACK_IMPORTED_MODULE_0__["default"])((0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_5__.join)(r.parsedUrl.path,"uploadAssets"),{timeout:0,query:{f:"json",assets:JSON.stringify(s)},method:"post",responseType:"json"});if((0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__.throwIfAborted)(o),n.data.uploadResults.length!==s.length)throw new _uploadAssetErrors_js__WEBPACK_IMPORTED_MODULE_9__.BadResponseError(s.length,n.data.uploadResults.length);return n.data}finally{n.remove()}}function ee(e,s,t){const{success:r}=s;if(!r){const{error:t}=s;throw new _uploadAssetErrors_js__WEBPACK_IMPORTED_MODULE_9__.UploadFailedError(e.assetName,t)}const{assetHash:o}=s,{assetName:n,item:{assetType:a}}=e,{infoFor3D:{supportedFormats:i}}=t,c=(0,_support_infoFor3D_js__WEBPACK_IMPORTED_MODULE_12__.getFormatIdMimeType)(a,i);if(!c)throw new _uploadAssetErrors_js__WEBPACK_IMPORTED_MODULE_9__.UnsupportedFormatUploadedError(a);return new _geometry_support_meshUtils_External_js__WEBPACK_IMPORTED_MODULE_8__.ServiceAsset(n,c,[new _geometry_support_meshUtils_External_js__WEBPACK_IMPORTED_MODULE_8__.ServiceAssetPart(`${t.parsedUrl.path}/assets/${o}`,o)])}async function se({assets:e},s,t){const r=e.map((({assetName:e,parts:s})=>({assetName:e,assetHash:s[0].partHash})));let o;try{const e=(0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_5__.join)(s.parsedUrl.path,"convert3D"),n=s.capabilities?.operations.supportsAsyncConvert3D;o=(await(n?oe:re)(e,{query:{f:"json",assets:JSON.stringify(r),transportType:"esriTransportTypeUrl",targetFormat:t,async:n},responseType:"json",timeout:0})).data}catch(n){throw new _uploadAssetErrors_js__WEBPACK_IMPORTED_MODULE_9__.Convert3DFailedError}return te(s,o)}function te(e,s){const t={source:{type:"service",assets:s.assets.map((s=>{const t=(0,_support_infoFor3D_js__WEBPACK_IMPORTED_MODULE_12__.getMimeTypeFormatId)(s.contentType,e.infoFor3D.supportedFormats);if(!t)throw new _uploadAssetErrors_js__WEBPACK_IMPORTED_MODULE_9__.UnsupportedFormatUploadedError(t);return new _geometry_support_meshUtils_External_js__WEBPACK_IMPORTED_MODULE_8__.ServiceAsset(s.assetName,s.contentType,[new _geometry_support_meshUtils_External_js__WEBPACK_IMPORTED_MODULE_8__.ServiceAssetPart(s.assetURL,s.assetHash)])}))},origin:void 0,transform:void 0};if((0,_core_has_js__WEBPACK_IMPORTED_MODULE_1__["default"])("enable-feature:georeferenced-uploads")&&s.transform){if(t.transform=(0,_rest_support_meshFeatureAttributes_js__WEBPACK_IMPORTED_MODULE_14__.extractMeshFeatureTransform)(s.transform),s.spatialReference){const e=_geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_7__["default"].fromJSON(s.spatialReference);t.origin=(0,_rest_support_meshFeatureAttributes_js__WEBPACK_IMPORTED_MODULE_14__.extractMeshFeatureOrigin)(s.transform,e)}}else t.transform=(0,_support_meshSpatialReferenceScaleUtils_js__WEBPACK_IMPORTED_MODULE_13__.getMeshTransformForMetersToSpatialReference)(e.spatialReference);return t}function re(s,t){return (0,_request_js__WEBPACK_IMPORTED_MODULE_0__["default"])(s,t)}async function oe(s,t){const o=(await (0,_request_js__WEBPACK_IMPORTED_MODULE_0__["default"])(s,t)).data.statusUrl;for(;;){const s=(await (0,_request_js__WEBPACK_IMPORTED_MODULE_0__["default"])(o,{query:{f:"json"},responseType:"json"})).data;switch(s.status){case"Completed":return (0,_request_js__WEBPACK_IMPORTED_MODULE_0__["default"])(s.resultUrl,{query:{f:"json"},responseType:"json"});case"CompletedWithErrors":throw new Error(s.status);case"Failed ImportChanges":case"InProgress":case"Pending":case"ExportAttachments":case"ExportChanges":case"ExportingData":case"ExportingSnapshot":case"ImportAttachments":case"ProvisioningReplica":case"UnRegisteringReplica":break;default:throw new Error}await (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__.after)(ce)}}function ne(e){return!!e.infoFor3D&&!!e.url}function ae({infoFor3D:e}){const s=(0,_support_infoFor3D_js__WEBPACK_IMPORTED_MODULE_12__.getGlbFormatId)(e);if(!s)throw new _uploadAssetErrors_js__WEBPACK_IMPORTED_MODULE_9__.NoGlbSupportError;return s}function ie(){return _core_Logger_js__WEBPACK_IMPORTED_MODULE_2__["default"].getLogger("esri.layers.graphics.sources.support.uploadAssets")}const ce=(0,_core_time_js__WEBPACK_IMPORTED_MODULE_4__.Milliseconds)(1e3);


/***/ }),

/***/ "./node_modules/@arcgis/core/layers/graphics/sources/support/uploadProgressWeights.js":
/*!********************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/graphics/sources/support/uploadProgressWeights.js ***!
  \********************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   uploadProgressWeights: () => (/* binding */ e)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
const e={upload:{createFromFiles:.8,loadMesh:.2},uploadAssetBlobs:{prepareAssetItems:.9,uploadAssetItems:.1},uploadConvertibleSource:{uploadEditSource:.5,serviceAssetsToGlb:.5},uploadLocalMesh:{meshToAssetBlob:.5,uploadAssetBlobs:.5}};


/***/ }),

/***/ "./node_modules/@arcgis/core/layers/graphics/sources/support/uploads.js":
/*!******************************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/graphics/sources/support/uploads.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   uploadItem: () => (/* binding */ m)
/* harmony export */ });
/* harmony import */ var _request_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../request.js */ "./node_modules/@arcgis/core/request.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _core_urlUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core/urlUtils.js */ "./node_modules/@arcgis/core/core/urlUtils.js");
/* harmony import */ var _support_arcgisLayerUrl_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../support/arcgisLayerUrl.js */ "./node_modules/@arcgis/core/layers/support/arcgisLayerUrl.js");
/* harmony import */ var _support_progressUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../support/progressUtils.js */ "./node_modules/@arcgis/core/support/progressUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
const n=1e6,i=20*n,p=2e9,l=3;async function m({data:m,name:f,description:d},u,h){let w=null;try{const y=(0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_2__.join)(u,"uploads"),j=(0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_2__.join)(y,"info"),{data:g}=await (0,_request_js__WEBPACK_IMPORTED_MODULE_0__["default"])(j,{query:{f:"json"},responseType:"json"});(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_1__.throwIfAborted)(h);const q=(0,_support_arcgisLayerUrl_js__WEBPACK_IMPORTED_MODULE_3__.isHostedAgolService)(u),z=g.maxUploadFileSize*n,T=q?p:z,U=q?Math.min(i,z):i;if(m.size>T)throw new Error("Data too large");const A=(0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_2__.join)(y,"register"),{data:E}=await (0,_request_js__WEBPACK_IMPORTED_MODULE_0__["default"])(A,{query:{f:"json",itemName:c(f),description:d},responseType:"json",method:"post"});if((0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_1__.throwIfAborted)(h),!E.success)throw new Error("Registration failed");const{itemID:P}=E.item;w=(0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_2__.join)(y,P);const D=(0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_2__.join)(w,"uploadPart"),I=Math.ceil(m.size/U),M=new Array;for(let e=0;e<I;++e)M.push(m.slice(e*U,Math.min((e+1)*U,m.size)));const v=M.slice().reverse(),x=new Array,F=(0,_support_progressUtils_js__WEBPACK_IMPORTED_MODULE_4__.makeProgressManager)(I,h?.onProgress,"uploadItem"),_=async()=>{for(;0!==v.length;){const t=M.length-v.length,r=v.pop(),s=new FormData,n=F.simulate(t,(0,_support_progressUtils_js__WEBPACK_IMPORTED_MODULE_4__.estimatedTransferTime)(r.size));try{s.append("f","json"),s.append("file",r),s.append("partId",`${t}`);const{data:a}=await (0,_request_js__WEBPACK_IMPORTED_MODULE_0__["default"])(D,{timeout:0,body:s,responseType:"json",method:"post"});if((0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_1__.throwIfAborted)(h),!a.success)throw new Error("Part upload failed")}finally{n.remove()}}};for(let e=0;e<l&&0!==v.length;++e)x.push(_());await Promise.all(x);const b=(0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_2__.join)(w,"commit"),{data:C}=await (0,_request_js__WEBPACK_IMPORTED_MODULE_0__["default"])(b,{query:{f:"json",parts:M.map(((e,o)=>o)).join(",")},responseType:"json",method:"post"});if((0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_1__.throwIfAborted)(h),!C.success)throw new Error("Commit failed");return C.item}catch(y){if(null!=w){const o=(0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_2__.join)(w,"delete");await (0,_request_js__WEBPACK_IMPORTED_MODULE_0__["default"])(o,{query:{f:"json"},responseType:"json",method:"post"})}throw y}}function c(e){return e.replaceAll("/","_").replaceAll("\\","_")}


/***/ }),

/***/ "./node_modules/@arcgis/core/layers/support/meshSpatialReferenceScaleUtils.js":
/*!************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/support/meshSpatialReferenceScaleUtils.js ***!
  \************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   getMeshTransformForMetersToSpatialReference: () => (/* binding */ t)
/* harmony export */ });
/* harmony import */ var _core_unitUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../core/unitUtils.js */ "./node_modules/@arcgis/core/core/unitUtils.js");
/* harmony import */ var _geometry_support_MeshTransform_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../geometry/support/MeshTransform.js */ "./node_modules/@arcgis/core/geometry/support/MeshTransform.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
function t(t){const e=1/(0,_core_unitUtils_js__WEBPACK_IMPORTED_MODULE_0__.getMetersPerUnitForSR)(t,1);return 1!==e?new _geometry_support_MeshTransform_js__WEBPACK_IMPORTED_MODULE_1__["default"]({scale:[e,e,e]}):void 0}


/***/ }),

/***/ "./node_modules/@arcgis/core/rest/support/meshFeatureAttributes.js":
/*!*************************************************************************!*\
  !*** ./node_modules/@arcgis/core/rest/support/meshFeatureAttributes.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   extractMeshFeatureOrigin: () => (/* binding */ n),
/* harmony export */   extractMeshFeatureTransform: () => (/* binding */ i)
/* harmony export */ });
/* harmony import */ var _geometry_Point_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../geometry/Point.js */ "./node_modules/@arcgis/core/geometry/Point.js");
/* harmony import */ var _geometry_support_MeshTransform_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../geometry/support/MeshTransform.js */ "./node_modules/@arcgis/core/geometry/support/MeshTransform.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
function n(o,n,i=r){return new _geometry_Point_js__WEBPACK_IMPORTED_MODULE_0__["default"]({x:o[i.originX],y:o[i.originY],z:o[i.originZ],spatialReference:n})}function i(t,n=r){return new _geometry_support_MeshTransform_js__WEBPACK_IMPORTED_MODULE_1__["default"]({translation:[t[n.translationX],-t[n.translationZ],t[n.translationY]],rotationAxis:[t[n.rotationX],-t[n.rotationZ],t[n.rotationY]],rotationAngle:t[n.rotationDeg],scale:[t[n.scaleX],t[n.scaleZ],t[n.scaleY]]})}const r={originX:"originX",originY:"originY",originZ:"originZ",translationX:"translationX",translationY:"translationY",translationZ:"translationZ",scaleX:"scaleX",scaleY:"scaleY",scaleZ:"scaleZ",rotationX:"rotationX",rotationY:"rotationY",rotationZ:"rotationZ",rotationDeg:"rotationDeg"};


/***/ }),

/***/ "./node_modules/@arcgis/core/support/progressUtils.js":
/*!************************************************************!*\
  !*** ./node_modules/@arcgis/core/support/progressUtils.js ***!
  \************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ProgressManager: () => (/* binding */ n),
/* harmony export */   estimatedConversionTime: () => (/* binding */ m),
/* harmony export */   estimatedTransferTime: () => (/* binding */ h),
/* harmony export */   makeProgressManager: () => (/* binding */ i),
/* harmony export */   simulateProgress: () => (/* binding */ a)
/* harmony export */ });
/* harmony import */ var _core_handleUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../core/handleUtils.js */ "./node_modules/@arcgis/core/core/handleUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_MapUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../core/MapUtils.js */ "./node_modules/@arcgis/core/core/MapUtils.js");
/* harmony import */ var _core_time_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../core/time.js */ "./node_modules/@arcgis/core/core/time.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
function i(s,t=s=>{},e){return new n(s,t,e)}class n{constructor(s,t=s=>{},e){if(this.onProgress=t,this.taskName=e,this._progressMap=new Map,this._startTime=void 0,this._timingsMap=new Map,"number"==typeof s){this._weights={};for(let t=0;t<s;t++){const e=t,r=1/s;this._weights[e]=r,this._progressMap.set(e,0)}}else this._weights=s;this.emitProgress()}emitProgress(){let s=0;for(const[t,e]of this._progressMap.entries()){s+=e*this._weights[t]}if(1===s&&(0,_core_has_js__WEBPACK_IMPORTED_MODULE_1__["default"])("enable-feature:esri-3dofl-upload-timings")){const s=Math.round(performance.now()-(this._startTime??0))/1e3;console.log(`${this.taskName} done in ${s} sec`);for(const[t,e]of this._timingsMap){const r=Math.round(e.end-e.start)/1e3,o=Math.round(r/s*100);console.log(this.taskName??"Task",{stepKey:t,stepTime:r,relativeTime:o})}}this.onProgress(s)}setProgress(s,e){if(this._progressMap.set(s,e),(0,_core_has_js__WEBPACK_IMPORTED_MODULE_1__["default"])("enable-feature:esri-3dofl-upload-timings")){const r=performance.now();this._startTime??=r;const o=(0,_core_MapUtils_js__WEBPACK_IMPORTED_MODULE_2__.getOrCreateMapValue)(this._timingsMap,s,(()=>({start:r,end:0})));1===e&&(o.end=r)}this.emitProgress()}simulate(s,t){return a((t=>this.setProgress(s,t)),t)}makeOnProgress(s){return t=>this.setProgress(s,t)}}function a(t=s=>{},e=l){const r=performance.now();t(0);const o=setInterval((()=>{const s=performance.now()-r,o=1-Math.exp(-s/e);t(o)}),g);return (0,_core_handleUtils_js__WEBPACK_IMPORTED_MODULE_0__.makeHandle)((()=>{clearInterval(o),t(1)}))}function h(s,t=c){return (0,_core_time_js__WEBPACK_IMPORTED_MODULE_3__.millisecondsFromSeconds)((0,_core_time_js__WEBPACK_IMPORTED_MODULE_3__.Seconds)(s*f/t))}function m(s,t=p){return (0,_core_time_js__WEBPACK_IMPORTED_MODULE_3__.millisecondsFromSeconds)((0,_core_time_js__WEBPACK_IMPORTED_MODULE_3__.Seconds)(s*f/t))}const c=10,p=10,f=8e-6,g=(0,_core_time_js__WEBPACK_IMPORTED_MODULE_3__.Milliseconds)(50),l=(0,_core_time_js__WEBPACK_IMPORTED_MODULE_3__.Milliseconds)(1e3);


/***/ })

};

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmVuZG9ycy1ub2RlX21vZHVsZXNfYXJjZ2lzX2NvcmVfbGF5ZXJzX2dyYXBoaWNzX3NvdXJjZXNfc3VwcG9ydF91cGxvYWRBc3NldHNfanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ3lDLHdDQUF3QyxnQkFBZ0Isc0RBQUMsQ0FBQyxjQUFjLFNBQVMsRUFBRSw0REFBNEQsZ0JBQWdCLHNEQUFDLENBQUMsY0FBYyxTQUFTLEVBQUUscURBQXFELGdCQUFnQixzREFBQyxDQUFDLGNBQWMsU0FBUyxFQUFFLGlFQUFpRSxnQkFBZ0Isc0RBQUMsQ0FBQyxjQUFjLFNBQVMsRUFBRSw0RUFBNEUsZ0JBQWdCLHNEQUFDLENBQUMsY0FBYyxTQUFTLEVBQUUsbUZBQW1GLGdCQUFnQixzREFBQyxDQUFDLGlCQUFpQixTQUFTLEVBQUUseUNBQXlDLEdBQUcscUJBQXFCLEdBQUcsZ0JBQWdCLGdCQUFnQixzREFBQyxDQUFDLGlCQUFpQixTQUFTLEVBQUUsb0RBQW9ELEVBQUUsZ0JBQWdCLGNBQWMsbUJBQW1CLHVCQUF1QixRQUFRLGdCQUFnQixzREFBQyxDQUFDLGVBQWUsU0FBUyxFQUFFLG9GQUFvRixFQUFFLDJEQUEyRCxnQkFBZ0Isc0RBQUMsQ0FBQyxjQUFjLFNBQVMsRUFBRSx5Q0FBeUMsZ0JBQWdCLHNEQUFDLENBQUMsY0FBYyw0REFBNEQsZ0JBQWdCLHNEQUFDLENBQUMsY0FBYywwRUFBc1c7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNKbHFEO0FBQ0E7QUFDQTtBQUNBO0FBQ3VnRCx3QkFBd0IsaUJBQWlCLG1DQUFtQyxRQUFRLCtFQUFDLGlDQUFpQyx3Q0FBd0Msb0NBQW9DLEtBQUssb0JBQW9CLHlCQUF5QixJQUFJLGlCQUFpQixjQUFjLG9CQUFvQixtRUFBQyxDQUFDLHNDQUFzQyxpQkFBaUIsV0FBVyxJQUFJLFFBQVEsUUFBUSxZQUFZLFNBQVMsZ0JBQWdCLE1BQU0sWUFBWSxH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Q0FBQyxzREFBQyxTQUFTLHlCQUF5QiwyREFBQyxPQUFPLDJEQUFDLE1BQTBJIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcHJlY2lzaW9uZmFybXMvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL2xheWVycy9ncmFwaGljcy9zb3VyY2VzL3N1cHBvcnQvdXBsb2FkQXNzZXRFcnJvcnMuanMiLCJ3ZWJwYWNrOi8vcHJlY2lzaW9uZmFybXMvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL2xheWVycy9ncmFwaGljcy9zb3VyY2VzL3N1cHBvcnQvdXBsb2FkQXNzZXRzLmpzIiwid2VicGFjazovL3ByZWNpc2lvbmZhcm1zLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS9sYXllcnMvZ3JhcGhpY3Mvc291cmNlcy9zdXBwb3J0L3VwbG9hZFByb2dyZXNzV2VpZ2h0cy5qcyIsIndlYnBhY2s6Ly9wcmVjaXNpb25mYXJtcy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvbGF5ZXJzL2dyYXBoaWNzL3NvdXJjZXMvc3VwcG9ydC91cGxvYWRzLmpzIiwid2VicGFjazovL3ByZWNpc2lvbmZhcm1zLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS9sYXllcnMvc3VwcG9ydC9tZXNoU3BhdGlhbFJlZmVyZW5jZVNjYWxlVXRpbHMuanMiLCJ3ZWJwYWNrOi8vcHJlY2lzaW9uZmFybXMvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3Jlc3Qvc3VwcG9ydC9tZXNoRmVhdHVyZUF0dHJpYnV0ZXMuanMiLCJ3ZWJwYWNrOi8vcHJlY2lzaW9uZmFybXMvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3N1cHBvcnQvcHJvZ3Jlc3NVdGlscy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4zMy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0IHMgZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9FcnJvci5qc1wiO2NvbnN0IGU9XCJ1cGxvYWQtYXNzZXRzXCIsbz0oKT0+bmV3IEVycm9yO2NsYXNzIHIgZXh0ZW5kcyBze2NvbnN0cnVjdG9yKCl7c3VwZXIoYCR7ZX06dW5zdXBwb3J0ZWRgLFwiTGF5ZXIgZG9lcyBub3Qgc3VwcG9ydCBhc3NldCB1cGxvYWRzLlwiLG8oKSl9fWNsYXNzIHQgZXh0ZW5kcyBze2NvbnN0cnVjdG9yKCl7c3VwZXIoYCR7ZX06bm8tZ2xiLXN1cHBvcnRgLFwiTGF5ZXIgZG9lcyBub3Qgc3VwcG9ydCBnbGIuXCIsbygpKX19Y2xhc3MgbiBleHRlbmRzIHN7Y29uc3RydWN0b3IoKXtzdXBlcihgJHtlfTpuby1zdXBwb3J0ZWQtc291cmNlYCxcIk5vIHN1cHBvcnRlZCBleHRlcm5hbCBzb3VyY2UgZm91bmRcIixvKCkpfX1jbGFzcyB1IGV4dGVuZHMgc3tjb25zdHJ1Y3Rvcigpe3N1cGVyKGAke2V9Om5vdC1iYXNlLTY0YCxcIkV4cGVjdGVkIGdsdGYgZGF0YSBpbiBiYXNlNjQgZm9ybWF0IGFmdGVyIGNvbnZlcnNpb24uXCIsbygpKX19Y2xhc3MgcCBleHRlbmRzIHN7Y29uc3RydWN0b3IoKXtzdXBlcihgJHtlfTp1bmFibGUtdG8tcHJlcGFyZS1vcHRpb25zYCxcIlVuYWJsZSB0byBwcmVwYXJlIHVwbG9hZEFzc2V0IHJlcXVlc3Qgb3B0aW9ucy5cIixvKCkpfX1jbGFzcyBhIGV4dGVuZHMgc3tjb25zdHJ1Y3RvcihzLHIpe3N1cGVyKGAke2V9OmJhZC1yZXNwb25zZWAsYEJhZCByZXNwb25zZS4gVXBsb2FkZWQgJHtzfSBpdGVtcyBhbmQgcmVjZWl2ZWQgJHtyfSByZXN1bHRzLmAsbygpKX19Y2xhc3MgZCBleHRlbmRzIHN7Y29uc3RydWN0b3IocyxyKXtzdXBlcihgJHtlfS1sYXllcjp1cGxvYWQtZmFpbGVkYCxgRmFpbGVkIHRvIHVwbG9hZCBtZXNoIGZpbGUgJHtzfS4gRXJyb3IgY29kZTogJHtyPy5jb2RlPz9cIi0xXCJ9LiBFcnJvciBtZXNzYWdlOiAke3I/Lm1lc3NhZ2VzPz9cInVua25vd25cIn1gLG8oKSl9fWNsYXNzIGMgZXh0ZW5kcyBze2NvbnN0cnVjdG9yKHMpe3N1cGVyKGAke2V9LWxheWVyOnVuc3VwcG9ydGVkLWZvcm1hdGAsYFRoZSBzZXJ2aWNlIGFsbG93ZWQgdXMgdG8gdXBsb2FkIGFuIGFzc2V0IG9mIEZvcm1hdElEICR7c30sIGJ1dCBpdCBkb2VzIG5vdCBsaXN0IGl0IGluIGl0cyBzdXBwb3J0ZWQgZm9ybWF0cy5gLG8oKSl9fWNsYXNzIGwgZXh0ZW5kcyBze2NvbnN0cnVjdG9yKCl7c3VwZXIoYCR7ZX06Y29udmVydDNELWZhaWxlZGAsXCJjb252ZXJ0M0QgZmFpbGVkLlwiKX19Y2xhc3MgaSBleHRlbmRzIHN7Y29uc3RydWN0b3IoKXtzdXBlcihcImludmFsaWQtaW5wdXQ6bm8tbW9kZWxcIixcIk5vIHN1cHBvcnRlZCBtb2RlbCBmb3VuZFwiKX19Y2xhc3MgbSBleHRlbmRzIHN7Y29uc3RydWN0b3IoKXtzdXBlcihcImludmFsaWQtaW5wdXQ6bXVsdGlwbGUtbW9kZWxzXCIsXCJNdWx0aXBsZSBzdXBwb3J0ZWQgbW9kZWxzIGZvdW5kXCIpfX1leHBvcnR7YSBhcyBCYWRSZXNwb25zZUVycm9yLGwgYXMgQ29udmVydDNERmFpbGVkRXJyb3IsbSBhcyBNdWx0aXBsZU1vZGVsc0Vycm9yLHQgYXMgTm9HbGJTdXBwb3J0RXJyb3IsaSBhcyBOb01vZGVsRXJyb3IsbiBhcyBOb1N1cHBvcnRlZFNvdXJjZUVycm9yLHUgYXMgTm90QmFzZTY0RXJyb3IscCBhcyBVbmFibGVUb1ByZXBhcmVPcHRpb25zRXJyb3IsciBhcyBVbnN1cHBvcnRlZEVycm9yLGMgYXMgVW5zdXBwb3J0ZWRGb3JtYXRVcGxvYWRlZEVycm9yLGQgYXMgVXBsb2FkRmFpbGVkRXJyb3J9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMzMvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydCBlIGZyb21cIi4uLy4uLy4uLy4uL3JlcXVlc3QuanNcIjtpbXBvcnQgaGFzIGZyb21cIi4uLy4uLy4uLy4uL2NvcmUvaGFzLmpzXCI7aW1wb3J0IHMgZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9Mb2dnZXIuanNcIjtpbXBvcnR7dGhyb3dJZkFib3J0ZWQgYXMgdCxhZnRlciBhcyByLHRocm93SWZBYm9ydEVycm9yIGFzIG99ZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9wcm9taXNlVXRpbHMuanNcIjtpbXBvcnR7TWlsbGlzZWNvbmRzIGFzIG59ZnJvbVwiLi4vLi4vLi4vLi4vY29yZS90aW1lLmpzXCI7aW1wb3J0e2pvaW4gYXMgYSxwYXJzZURhdGEgYXMgaX1mcm9tXCIuLi8uLi8uLi8uLi9jb3JlL3VybFV0aWxzLmpzXCI7aW1wb3J0e2dlbmVyYXRlQnJhY2VkVVVJRCBhcyBjfWZyb21cIi4uLy4uLy4uLy4uL2NvcmUvdXVpZC5qc1wiO2ltcG9ydCB1IGZyb21cIi4uLy4uLy4uLy4uL2dlb21ldHJ5L1NwYXRpYWxSZWZlcmVuY2UuanNcIjtpbXBvcnR7ZXh0ZXJuYWxJc09uU2VydmljZSBhcyBsLGV4dGVybmFsU291cmNlVG9NdWx0aVBhcnQgYXMgcCxhc3NldEZvcm1hdElkIGFzIG0sU2VydmljZUFzc2V0IGFzIGYsU2VydmljZUFzc2V0UGFydCBhcyBkfWZyb21cIi4uLy4uLy4uLy4uL2dlb21ldHJ5L3N1cHBvcnQvbWVzaFV0aWxzL0V4dGVybmFsLmpzXCI7aW1wb3J0e1Vuc3VwcG9ydGVkRXJyb3IgYXMgZyxOb1N1cHBvcnRlZFNvdXJjZUVycm9yIGFzIHksTm9HbGJTdXBwb3J0RXJyb3IgYXMgdyxDb252ZXJ0M0RGYWlsZWRFcnJvciBhcyBoLFVuc3VwcG9ydGVkRm9ybWF0VXBsb2FkZWRFcnJvciBhcyBQLEJhZFJlc3BvbnNlRXJyb3IgYXMgYixVcGxvYWRGYWlsZWRFcnJvciBhcyBqLE5vdEJhc2U2NEVycm9yIGFzIFQsVW5hYmxlVG9QcmVwYXJlT3B0aW9uc0Vycm9yIGFzIHZ9ZnJvbVwiLi91cGxvYWRBc3NldEVycm9ycy5qc1wiO2ltcG9ydHt1cGxvYWRQcm9ncmVzc1dlaWdodHMgYXMgQX1mcm9tXCIuL3VwbG9hZFByb2dyZXNzV2VpZ2h0cy5qc1wiO2ltcG9ydHt1cGxvYWRJdGVtIGFzIFN9ZnJvbVwiLi91cGxvYWRzLmpzXCI7aW1wb3J0e2dldFByakZvcm1hdElkIGFzIEYsZ2V0V29ybGRGaWxlRm9ybWF0SWQgYXMgUixnZXRHbGJGb3JtYXRJZCBhcyBVLGdldE1pbWVUeXBlRm9ybWF0SWQgYXMgeCxnZXRGb3JtYXRJZE1pbWVUeXBlIGFzIER9ZnJvbVwiLi4vLi4vLi4vc3VwcG9ydC9pbmZvRm9yM0QuanNcIjtpbXBvcnR7Z2V0TWVzaFRyYW5zZm9ybUZvck1ldGVyc1RvU3BhdGlhbFJlZmVyZW5jZSBhcyBOfWZyb21cIi4uLy4uLy4uL3N1cHBvcnQvbWVzaFNwYXRpYWxSZWZlcmVuY2VTY2FsZVV0aWxzLmpzXCI7aW1wb3J0e2V4dHJhY3RNZXNoRmVhdHVyZVRyYW5zZm9ybSBhcyBFLGV4dHJhY3RNZXNoRmVhdHVyZU9yaWdpbiBhcyBDfWZyb21cIi4uLy4uLy4uLy4uL3Jlc3Qvc3VwcG9ydC9tZXNoRmVhdHVyZUF0dHJpYnV0ZXMuanNcIjtpbXBvcnR7bWFrZVByb2dyZXNzTWFuYWdlciBhcyBPLGVzdGltYXRlZENvbnZlcnNpb25UaW1lIGFzIGssc2ltdWxhdGVQcm9ncmVzcyBhcyBJfWZyb21cIi4uLy4uLy4uLy4uL3N1cHBvcnQvcHJvZ3Jlc3NVdGlscy5qc1wiO2FzeW5jIGZ1bmN0aW9uIEIoZSxzLHQpe2NvbnN0IHI9ZS5sZW5ndGg7aWYoIXIpcmV0dXJuIHQ/Lm9uUHJvZ3Jlc3M/LigxKSxbXTtjb25zdCBvPU8ocix0Py5vblByb2dyZXNzLFwidXBsb2FkQXNzZXRzXCIpO3JldHVybiBQcm9taXNlLmFsbChlLm1hcCgoKGUscik9PnEoZSxzLHsuLi50LG9uUHJvZ3Jlc3M6by5tYWtlT25Qcm9ncmVzcyhyKX0pKSkpfWFzeW5jIGZ1bmN0aW9uIHEoZSx7bGF5ZXI6cyxvbmdvaW5nVXBsb2Fkczp0fSxyKXtjb25zdCBvPXQuZ2V0KGUpO2lmKG8pcmV0dXJuIG87aWYoIW5lKHMpKXRocm93IG5ldyBnO2lmKEwoZSxzKSlyZXR1cm4gcj8ub25Qcm9ncmVzcz8uKDEpLGU7Y29uc3Qgbj1IKGUscyxyKTt0LnNldChlLG4pO3RyeXthd2FpdCBufWZpbmFsbHl7dC5kZWxldGUoZSl9cmV0dXJuIGV9ZnVuY3Rpb24gTChlLHMpe2NvbnN0e3BhcnNlZFVybDp0fT1zO3JldHVybiBudWxsIT10JiZlLm1ldGFkYXRhLmV4dGVybmFsU291cmNlcy5zb21lKChlPT5sKGUsdCkpKX1hc3luYyBmdW5jdGlvbiBIKGUscyxyKXtjb25zdHttZXRhZGF0YTpvfT1lLHtkaXNwbGF5U291cmNlOm59PW8sYT1XKG4/LnNvdXJjZSxzLHtjaGVja0ZvckNvbnZlcnNpb25SZXF1aXJlZDpoYXMoXCJlbmFibGUtZmVhdHVyZTpnZW9yZWZlcmVuY2VkLXVwbG9hZHNcIil9KSxpPW51bGwhPWE/JChhLHMscik6by5leHRlcm5hbFNvdXJjZXMubGVuZ3RoPjA/SihlLHMscik6eihlLHMsciksYz1hd2FpdCBpO3JldHVybiB0KHIpLGUuYWRkRXh0ZXJuYWxTb3VyY2VzKFtjXSksZX1hc3luYyBmdW5jdGlvbiAkKGUscyx0KXtyZXR1cm57c291cmNlOnt0eXBlOlwic2VydmljZVwiLGFzc2V0czphd2FpdCBRKGUscyx0KX0sb3JpZ2luYWw6ITAsdW5pdENvbnZlcnNpb25EaXNhYmxlZDohMH19YXN5bmMgZnVuY3Rpb24gSihlLHMsdCl7Y29uc3Qgcj1hZShzKSx7ZXh0ZXJuYWxTb3VyY2VzOm99PWUubWV0YWRhdGEsbj1NKG8scyk7aWYoIW4pdGhyb3cgbmV3IHk7Y29uc3QgYT1PKEEudXBsb2FkQ29udmVydGlibGVTb3VyY2UsdD8ub25Qcm9ncmVzcyxcInVwbG9hZENvbnZlcnRpYmxlU291cmNlXCIpLGk9e3R5cGU6XCJzZXJ2aWNlXCIsYXNzZXRzOmF3YWl0IFEobixzLHtvblByb2dyZXNzOmEubWFrZU9uUHJvZ3Jlc3MoXCJ1cGxvYWRFZGl0U291cmNlXCIpfSl9O2UuYWRkRXh0ZXJuYWxTb3VyY2VzKFt7c291cmNlOmksb3JpZ2luYWw6ITB9XSk7Y29uc3QgYz1uLnJlZHVjZSgoKGUse2Fzc2V0OnN9KT0+cyBpbnN0YW5jZW9mIEZpbGU/ZStzLnNpemU6ZSksMCksdT1hLnNpbXVsYXRlKFwic2VydmljZUFzc2V0c1RvR2xiXCIsayhjKSk7dHJ5e2NvbnN0e3NvdXJjZTpvLHRyYW5zZm9ybTpuLG9yaWdpbjphfT1hd2FpdCBzZShpLHMscik7cmV0dXJuIGUudHJhbnNmb3JtPW4sYSYmKGUubWV0YWRhdGEuZ2VvcmVmZXJlbmNlZD0hMCx0Py51c2VBc3NldE9yaWdpbiYmKGUudmVydGV4U3BhY2Uub3JpZ2luPVthLngsYS55LGEuej8/MF0sZS5zcGF0aWFsUmVmZXJlbmNlPWEuc3BhdGlhbFJlZmVyZW5jZSkpLHtzb3VyY2U6byx1bml0Q29udmVyc2lvbkRpc2FibGVkOiEwfX1maW5hbGx5e3UucmVtb3ZlKCl9fWFzeW5jIGZ1bmN0aW9uIHooZSxzLHQpe2NvbnN0IHI9TyhBLnVwbG9hZExvY2FsTWVzaCx0Py5vblByb2dyZXNzLFwidXBsb2FkTG9jYWxNZXNoXCIpLG89RyhlLHMsey4uLnQsb25Qcm9ncmVzczpyLm1ha2VPblByb2dyZXNzKFwibWVzaFRvQXNzZXRCbG9iXCIpfSk7cmV0dXJue3NvdXJjZTp7dHlwZTpcInNlcnZpY2VcIixhc3NldHM6YXdhaXQgVihbb10scyx7Li4udCxvblByb2dyZXNzOnIubWFrZU9uUHJvZ3Jlc3MoXCJ1cGxvYWRBc3NldEJsb2JzXCIpfSl9LGV4dGVudDplLmV4dGVudC5jbG9uZSgpLG9yaWdpbmFsOiEwfX1hc3luYyBmdW5jdGlvbiBHKGUscyxyKXtjb25zdCBvPWFlKHMpLG49YXdhaXQgZS5sb2FkKHIpLGE9YXdhaXQgbi50b0JpbmFyeUdMVEYoe29yaWdpbjpuLm9yaWdpbixzaWduYWw6cj8uc2lnbmFsLGlnbm9yZUxvY2FsVHJhbnNmb3JtOiEwLHVuaXRDb252ZXJzaW9uRGlzYWJsZWQ6ITB9KTtyZXR1cm4gdChyKSx7YmxvYjpuZXcgQmxvYihbYV0se3R5cGU6XCJtb2RlbC9nbHRmLWJpbmFyeVwifSksYXNzZXROYW1lOmAke2MoKX0uZ2xiYCxhc3NldFR5cGU6b319ZnVuY3Rpb24gTShlLHMpe2Zvcihjb25zdCB0IG9mIGUpe2NvbnN0IGU9Vyh0LnNvdXJjZSxzKTtpZihlKXJldHVybiBlfXJldHVybiBudWxsfWZ1bmN0aW9uIFcoZSx7aW5mb0ZvcjNEOnN9LHQ9e30pe2lmKCFlKXJldHVybiBudWxsO2NvbnN0IHI9cChlKTtpZighcilyZXR1cm4gbnVsbDtjb25zdHtzdXBwb3J0ZWRGb3JtYXRzOm8sZWRpdEZvcm1hdHM6bn09cyxhPW5ldyBBcnJheSxpPUYocyksYz1SKHMpO2xldCB1PSExO2Zvcihjb25zdCBsIG9mIHIpe2NvbnN0IGU9SyhsLG8pO2lmKCFlKXJldHVybiBudWxsO2NvbnN0e2Fzc2V0VHlwZTpzfT1lO2lmKHQuY2hlY2tGb3JDb252ZXJzaW9uUmVxdWlyZWQmJihzPT09aXx8cz09PWMpKXJldHVybiBudWxsO24uaW5jbHVkZXMocykmJih1PSEwKSxhLnB1c2goZSl9cmV0dXJuIHU/YTpudWxsfWZ1bmN0aW9uIEsoZSxzKXtjb25zdCB0PW0oZSxzKTtyZXR1cm4gdD97YXNzZXQ6ZSxhc3NldFR5cGU6dH06bnVsbH1hc3luYyBmdW5jdGlvbiBRKGUscyx0KXtyZXR1cm4gVihlLm1hcCgoZT0+WChlLHQpKSkscyx0KX1hc3luYyBmdW5jdGlvbiBWKGUscyxyKXtjb25zdCBvPU8oQS51cGxvYWRBc3NldEJsb2JzLHI/Lm9uUHJvZ3Jlc3MsXCJ1cGxvYWRBc3NldEJsb2JzXCIpLG49YXdhaXQgWihlLHMsey4uLnIsb25Qcm9ncmVzczpvLm1ha2VPblByb2dyZXNzKFwicHJlcGFyZUFzc2V0SXRlbXNcIil9KTt0KHIpO2NvbnN0IGE9bi5tYXAoKCh7aXRlbTplfSk9PmUpKSx7dXBsb2FkUmVzdWx0czppfT1hd2FpdCBfKGEscyx7Li4ucixvblByb2dyZXNzOm8ubWFrZU9uUHJvZ3Jlc3MoXCJ1cGxvYWRBc3NldEl0ZW1zXCIpfSk7cmV0dXJuIHQociksZS5tYXAoKChlLHQpPT5lZShuW3RdLGlbdF0scykpKX1hc3luYyBmdW5jdGlvbiBYKGUscyl7Y29uc3R7YXNzZXQ6cixhc3NldFR5cGU6b309ZTtpZihyIGluc3RhbmNlb2YgRmlsZSlyZXR1cm57YmxvYjpyLGFzc2V0TmFtZTpyLm5hbWUsYXNzZXRUeXBlOm99O2NvbnN0IG49YXdhaXQgci50b0Jsb2Iocyk7cmV0dXJuIHQocykse2Jsb2I6bixhc3NldE5hbWU6ci5hc3NldE5hbWUsYXNzZXRUeXBlOm99fWFzeW5jIGZ1bmN0aW9uIFkoZSxzLHIpe2NvbnN0e2Jsb2I6bixhc3NldFR5cGU6YSxhc3NldE5hbWU6Y309ZTtsZXQgdT1udWxsO3RyeXtjb25zdCBlPWF3YWl0IFMoe2RhdGE6bixuYW1lOmN9LHMudXJsLHIpO3QociksdT17YXNzZXRUeXBlOmEsYXNzZXRVcGxvYWRJZDplLml0ZW1JRH19Y2F0Y2gobCl7byhsKSxpZSgpLndhcm5PbmNlKGBTZXJ2aWNlICR7cy51cmx9IGRvZXMgbm90IHN1cHBvcnQgdGhlIFJFU1QgVXBsb2FkcyBBUEkuYCl9aWYoIXUpe2NvbnN0IGU9YXdhaXQgaShuKTtpZih0KHIpLCFlLmlzQmFzZTY0KXRocm93IG5ldyBUO3U9e2Fzc2V0VHlwZTphLGFzc2V0RGF0YTplLmRhdGF9fWlmKCF1KXRocm93IG5ldyB2O3JldHVybntpdGVtOnUsYXNzZXROYW1lOmN9fWZ1bmN0aW9uIFooZSxzLHIpe2NvbnN0IG89TyhlLmxlbmd0aCxyPy5vblByb2dyZXNzLFwicHJlcGFyZUFzc2V0SXRlbXNcIik7cmV0dXJuIFByb21pc2UuYWxsKGUubWFwKChhc3luYyhlLG4pPT57Y29uc3QgYT1ZKGF3YWl0IGUscyx7Li4ucixvblByb2dyZXNzOm8ubWFrZU9uUHJvZ3Jlc3Mobil9KTtyZXR1cm4gdChyKSxhfSkpKX1hc3luYyBmdW5jdGlvbiBfKHMscixvKXtjb25zdCBuPUkobz8ub25Qcm9ncmVzcyk7dHJ5e2NvbnN0IG49YXdhaXQgZShhKHIucGFyc2VkVXJsLnBhdGgsXCJ1cGxvYWRBc3NldHNcIikse3RpbWVvdXQ6MCxxdWVyeTp7ZjpcImpzb25cIixhc3NldHM6SlNPTi5zdHJpbmdpZnkocyl9LG1ldGhvZDpcInBvc3RcIixyZXNwb25zZVR5cGU6XCJqc29uXCJ9KTtpZih0KG8pLG4uZGF0YS51cGxvYWRSZXN1bHRzLmxlbmd0aCE9PXMubGVuZ3RoKXRocm93IG5ldyBiKHMubGVuZ3RoLG4uZGF0YS51cGxvYWRSZXN1bHRzLmxlbmd0aCk7cmV0dXJuIG4uZGF0YX1maW5hbGx5e24ucmVtb3ZlKCl9fWZ1bmN0aW9uIGVlKGUscyx0KXtjb25zdHtzdWNjZXNzOnJ9PXM7aWYoIXIpe2NvbnN0e2Vycm9yOnR9PXM7dGhyb3cgbmV3IGooZS5hc3NldE5hbWUsdCl9Y29uc3R7YXNzZXRIYXNoOm99PXMse2Fzc2V0TmFtZTpuLGl0ZW06e2Fzc2V0VHlwZTphfX09ZSx7aW5mb0ZvcjNEOntzdXBwb3J0ZWRGb3JtYXRzOml9fT10LGM9RChhLGkpO2lmKCFjKXRocm93IG5ldyBQKGEpO3JldHVybiBuZXcgZihuLGMsW25ldyBkKGAke3QucGFyc2VkVXJsLnBhdGh9L2Fzc2V0cy8ke299YCxvKV0pfWFzeW5jIGZ1bmN0aW9uIHNlKHthc3NldHM6ZX0scyx0KXtjb25zdCByPWUubWFwKCgoe2Fzc2V0TmFtZTplLHBhcnRzOnN9KT0+KHthc3NldE5hbWU6ZSxhc3NldEhhc2g6c1swXS5wYXJ0SGFzaH0pKSk7bGV0IG87dHJ5e2NvbnN0IGU9YShzLnBhcnNlZFVybC5wYXRoLFwiY29udmVydDNEXCIpLG49cy5jYXBhYmlsaXRpZXM/Lm9wZXJhdGlvbnMuc3VwcG9ydHNBc3luY0NvbnZlcnQzRDtvPShhd2FpdChuP29lOnJlKShlLHtxdWVyeTp7ZjpcImpzb25cIixhc3NldHM6SlNPTi5zdHJpbmdpZnkociksdHJhbnNwb3J0VHlwZTpcImVzcmlUcmFuc3BvcnRUeXBlVXJsXCIsdGFyZ2V0Rm9ybWF0OnQsYXN5bmM6bn0scmVzcG9uc2VUeXBlOlwianNvblwiLHRpbWVvdXQ6MH0pKS5kYXRhfWNhdGNoKG4pe3Rocm93IG5ldyBofXJldHVybiB0ZShzLG8pfWZ1bmN0aW9uIHRlKGUscyl7Y29uc3QgdD17c291cmNlOnt0eXBlOlwic2VydmljZVwiLGFzc2V0czpzLmFzc2V0cy5tYXAoKHM9Pntjb25zdCB0PXgocy5jb250ZW50VHlwZSxlLmluZm9Gb3IzRC5zdXBwb3J0ZWRGb3JtYXRzKTtpZighdCl0aHJvdyBuZXcgUCh0KTtyZXR1cm4gbmV3IGYocy5hc3NldE5hbWUscy5jb250ZW50VHlwZSxbbmV3IGQocy5hc3NldFVSTCxzLmFzc2V0SGFzaCldKX0pKX0sb3JpZ2luOnZvaWQgMCx0cmFuc2Zvcm06dm9pZCAwfTtpZihoYXMoXCJlbmFibGUtZmVhdHVyZTpnZW9yZWZlcmVuY2VkLXVwbG9hZHNcIikmJnMudHJhbnNmb3JtKXtpZih0LnRyYW5zZm9ybT1FKHMudHJhbnNmb3JtKSxzLnNwYXRpYWxSZWZlcmVuY2Upe2NvbnN0IGU9dS5mcm9tSlNPTihzLnNwYXRpYWxSZWZlcmVuY2UpO3Qub3JpZ2luPUMocy50cmFuc2Zvcm0sZSl9fWVsc2UgdC50cmFuc2Zvcm09TihlLnNwYXRpYWxSZWZlcmVuY2UpO3JldHVybiB0fWZ1bmN0aW9uIHJlKHMsdCl7cmV0dXJuIGUocyx0KX1hc3luYyBmdW5jdGlvbiBvZShzLHQpe2NvbnN0IG89KGF3YWl0IGUocyx0KSkuZGF0YS5zdGF0dXNVcmw7Zm9yKDs7KXtjb25zdCBzPShhd2FpdCBlKG8se3F1ZXJ5OntmOlwianNvblwifSxyZXNwb25zZVR5cGU6XCJqc29uXCJ9KSkuZGF0YTtzd2l0Y2gocy5zdGF0dXMpe2Nhc2VcIkNvbXBsZXRlZFwiOnJldHVybiBlKHMucmVzdWx0VXJsLHtxdWVyeTp7ZjpcImpzb25cIn0scmVzcG9uc2VUeXBlOlwianNvblwifSk7Y2FzZVwiQ29tcGxldGVkV2l0aEVycm9yc1wiOnRocm93IG5ldyBFcnJvcihzLnN0YXR1cyk7Y2FzZVwiRmFpbGVkIEltcG9ydENoYW5nZXNcIjpjYXNlXCJJblByb2dyZXNzXCI6Y2FzZVwiUGVuZGluZ1wiOmNhc2VcIkV4cG9ydEF0dGFjaG1lbnRzXCI6Y2FzZVwiRXhwb3J0Q2hhbmdlc1wiOmNhc2VcIkV4cG9ydGluZ0RhdGFcIjpjYXNlXCJFeHBvcnRpbmdTbmFwc2hvdFwiOmNhc2VcIkltcG9ydEF0dGFjaG1lbnRzXCI6Y2FzZVwiUHJvdmlzaW9uaW5nUmVwbGljYVwiOmNhc2VcIlVuUmVnaXN0ZXJpbmdSZXBsaWNhXCI6YnJlYWs7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3J9YXdhaXQgcihjZSl9fWZ1bmN0aW9uIG5lKGUpe3JldHVybiEhZS5pbmZvRm9yM0QmJiEhZS51cmx9ZnVuY3Rpb24gYWUoe2luZm9Gb3IzRDplfSl7Y29uc3Qgcz1VKGUpO2lmKCFzKXRocm93IG5ldyB3O3JldHVybiBzfWZ1bmN0aW9uIGllKCl7cmV0dXJuIHMuZ2V0TG9nZ2VyKFwiZXNyaS5sYXllcnMuZ3JhcGhpY3Muc291cmNlcy5zdXBwb3J0LnVwbG9hZEFzc2V0c1wiKX1jb25zdCBjZT1uKDFlMyk7ZXhwb3J0e0IgYXMgdXBsb2FkQXNzZXRzfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjMzL2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5jb25zdCBlPXt1cGxvYWQ6e2NyZWF0ZUZyb21GaWxlczouOCxsb2FkTWVzaDouMn0sdXBsb2FkQXNzZXRCbG9iczp7cHJlcGFyZUFzc2V0SXRlbXM6LjksdXBsb2FkQXNzZXRJdGVtczouMX0sdXBsb2FkQ29udmVydGlibGVTb3VyY2U6e3VwbG9hZEVkaXRTb3VyY2U6LjUsc2VydmljZUFzc2V0c1RvR2xiOi41fSx1cGxvYWRMb2NhbE1lc2g6e21lc2hUb0Fzc2V0QmxvYjouNSx1cGxvYWRBc3NldEJsb2JzOi41fX07ZXhwb3J0e2UgYXMgdXBsb2FkUHJvZ3Jlc3NXZWlnaHRzfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjMzL2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnQgZSBmcm9tXCIuLi8uLi8uLi8uLi9yZXF1ZXN0LmpzXCI7aW1wb3J0e3Rocm93SWZBYm9ydGVkIGFzIG99ZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9wcm9taXNlVXRpbHMuanNcIjtpbXBvcnR7am9pbiBhcyB0fWZyb21cIi4uLy4uLy4uLy4uL2NvcmUvdXJsVXRpbHMuanNcIjtpbXBvcnR7aXNIb3N0ZWRBZ29sU2VydmljZSBhcyByfWZyb21cIi4uLy4uLy4uL3N1cHBvcnQvYXJjZ2lzTGF5ZXJVcmwuanNcIjtpbXBvcnR7bWFrZVByb2dyZXNzTWFuYWdlciBhcyBzLGVzdGltYXRlZFRyYW5zZmVyVGltZSBhcyBhfWZyb21cIi4uLy4uLy4uLy4uL3N1cHBvcnQvcHJvZ3Jlc3NVdGlscy5qc1wiO2NvbnN0IG49MWU2LGk9MjAqbixwPTJlOSxsPTM7YXN5bmMgZnVuY3Rpb24gbSh7ZGF0YTptLG5hbWU6ZixkZXNjcmlwdGlvbjpkfSx1LGgpe2xldCB3PW51bGw7dHJ5e2NvbnN0IHk9dCh1LFwidXBsb2Fkc1wiKSxqPXQoeSxcImluZm9cIikse2RhdGE6Z309YXdhaXQgZShqLHtxdWVyeTp7ZjpcImpzb25cIn0scmVzcG9uc2VUeXBlOlwianNvblwifSk7byhoKTtjb25zdCBxPXIodSksej1nLm1heFVwbG9hZEZpbGVTaXplKm4sVD1xP3A6eixVPXE/TWF0aC5taW4oaSx6KTppO2lmKG0uc2l6ZT5UKXRocm93IG5ldyBFcnJvcihcIkRhdGEgdG9vIGxhcmdlXCIpO2NvbnN0IEE9dCh5LFwicmVnaXN0ZXJcIikse2RhdGE6RX09YXdhaXQgZShBLHtxdWVyeTp7ZjpcImpzb25cIixpdGVtTmFtZTpjKGYpLGRlc2NyaXB0aW9uOmR9LHJlc3BvbnNlVHlwZTpcImpzb25cIixtZXRob2Q6XCJwb3N0XCJ9KTtpZihvKGgpLCFFLnN1Y2Nlc3MpdGhyb3cgbmV3IEVycm9yKFwiUmVnaXN0cmF0aW9uIGZhaWxlZFwiKTtjb25zdHtpdGVtSUQ6UH09RS5pdGVtO3c9dCh5LFApO2NvbnN0IEQ9dCh3LFwidXBsb2FkUGFydFwiKSxJPU1hdGguY2VpbChtLnNpemUvVSksTT1uZXcgQXJyYXk7Zm9yKGxldCBlPTA7ZTxJOysrZSlNLnB1c2gobS5zbGljZShlKlUsTWF0aC5taW4oKGUrMSkqVSxtLnNpemUpKSk7Y29uc3Qgdj1NLnNsaWNlKCkucmV2ZXJzZSgpLHg9bmV3IEFycmF5LEY9cyhJLGg/Lm9uUHJvZ3Jlc3MsXCJ1cGxvYWRJdGVtXCIpLF89YXN5bmMoKT0+e2Zvcig7MCE9PXYubGVuZ3RoOyl7Y29uc3QgdD1NLmxlbmd0aC12Lmxlbmd0aCxyPXYucG9wKCkscz1uZXcgRm9ybURhdGEsbj1GLnNpbXVsYXRlKHQsYShyLnNpemUpKTt0cnl7cy5hcHBlbmQoXCJmXCIsXCJqc29uXCIpLHMuYXBwZW5kKFwiZmlsZVwiLHIpLHMuYXBwZW5kKFwicGFydElkXCIsYCR7dH1gKTtjb25zdHtkYXRhOmF9PWF3YWl0IGUoRCx7dGltZW91dDowLGJvZHk6cyxyZXNwb25zZVR5cGU6XCJqc29uXCIsbWV0aG9kOlwicG9zdFwifSk7aWYobyhoKSwhYS5zdWNjZXNzKXRocm93IG5ldyBFcnJvcihcIlBhcnQgdXBsb2FkIGZhaWxlZFwiKX1maW5hbGx5e24ucmVtb3ZlKCl9fX07Zm9yKGxldCBlPTA7ZTxsJiYwIT09di5sZW5ndGg7KytlKXgucHVzaChfKCkpO2F3YWl0IFByb21pc2UuYWxsKHgpO2NvbnN0IGI9dCh3LFwiY29tbWl0XCIpLHtkYXRhOkN9PWF3YWl0IGUoYix7cXVlcnk6e2Y6XCJqc29uXCIscGFydHM6TS5tYXAoKChlLG8pPT5vKSkuam9pbihcIixcIil9LHJlc3BvbnNlVHlwZTpcImpzb25cIixtZXRob2Q6XCJwb3N0XCJ9KTtpZihvKGgpLCFDLnN1Y2Nlc3MpdGhyb3cgbmV3IEVycm9yKFwiQ29tbWl0IGZhaWxlZFwiKTtyZXR1cm4gQy5pdGVtfWNhdGNoKHkpe2lmKG51bGwhPXcpe2NvbnN0IG89dCh3LFwiZGVsZXRlXCIpO2F3YWl0IGUobyx7cXVlcnk6e2Y6XCJqc29uXCJ9LHJlc3BvbnNlVHlwZTpcImpzb25cIixtZXRob2Q6XCJwb3N0XCJ9KX10aHJvdyB5fX1mdW5jdGlvbiBjKGUpe3JldHVybiBlLnJlcGxhY2VBbGwoXCIvXCIsXCJfXCIpLnJlcGxhY2VBbGwoXCJcXFxcXCIsXCJfXCIpfWV4cG9ydHttIGFzIHVwbG9hZEl0ZW19O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMzMvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtnZXRNZXRlcnNQZXJVbml0Rm9yU1IgYXMgb31mcm9tXCIuLi8uLi9jb3JlL3VuaXRVdGlscy5qc1wiO2ltcG9ydCByIGZyb21cIi4uLy4uL2dlb21ldHJ5L3N1cHBvcnQvTWVzaFRyYW5zZm9ybS5qc1wiO2Z1bmN0aW9uIHQodCl7Y29uc3QgZT0xL28odCwxKTtyZXR1cm4gMSE9PWU/bmV3IHIoe3NjYWxlOltlLGUsZV19KTp2b2lkIDB9ZXhwb3J0e3QgYXMgZ2V0TWVzaFRyYW5zZm9ybUZvck1ldGVyc1RvU3BhdGlhbFJlZmVyZW5jZX07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4zMy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0IHQgZnJvbVwiLi4vLi4vZ2VvbWV0cnkvUG9pbnQuanNcIjtpbXBvcnQgbyBmcm9tXCIuLi8uLi9nZW9tZXRyeS9zdXBwb3J0L01lc2hUcmFuc2Zvcm0uanNcIjtmdW5jdGlvbiBuKG8sbixpPXIpe3JldHVybiBuZXcgdCh7eDpvW2kub3JpZ2luWF0seTpvW2kub3JpZ2luWV0sejpvW2kub3JpZ2luWl0sc3BhdGlhbFJlZmVyZW5jZTpufSl9ZnVuY3Rpb24gaSh0LG49cil7cmV0dXJuIG5ldyBvKHt0cmFuc2xhdGlvbjpbdFtuLnRyYW5zbGF0aW9uWF0sLXRbbi50cmFuc2xhdGlvblpdLHRbbi50cmFuc2xhdGlvblldXSxyb3RhdGlvbkF4aXM6W3Rbbi5yb3RhdGlvblhdLC10W24ucm90YXRpb25aXSx0W24ucm90YXRpb25ZXV0scm90YXRpb25BbmdsZTp0W24ucm90YXRpb25EZWddLHNjYWxlOlt0W24uc2NhbGVYXSx0W24uc2NhbGVaXSx0W24uc2NhbGVZXV19KX1jb25zdCByPXtvcmlnaW5YOlwib3JpZ2luWFwiLG9yaWdpblk6XCJvcmlnaW5ZXCIsb3JpZ2luWjpcIm9yaWdpblpcIix0cmFuc2xhdGlvblg6XCJ0cmFuc2xhdGlvblhcIix0cmFuc2xhdGlvblk6XCJ0cmFuc2xhdGlvbllcIix0cmFuc2xhdGlvblo6XCJ0cmFuc2xhdGlvblpcIixzY2FsZVg6XCJzY2FsZVhcIixzY2FsZVk6XCJzY2FsZVlcIixzY2FsZVo6XCJzY2FsZVpcIixyb3RhdGlvblg6XCJyb3RhdGlvblhcIixyb3RhdGlvblk6XCJyb3RhdGlvbllcIixyb3RhdGlvblo6XCJyb3RhdGlvblpcIixyb3RhdGlvbkRlZzpcInJvdGF0aW9uRGVnXCJ9O2V4cG9ydHtuIGFzIGV4dHJhY3RNZXNoRmVhdHVyZU9yaWdpbixpIGFzIGV4dHJhY3RNZXNoRmVhdHVyZVRyYW5zZm9ybX07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4zMy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e21ha2VIYW5kbGUgYXMgc31mcm9tXCIuLi9jb3JlL2hhbmRsZVV0aWxzLmpzXCI7aW1wb3J0IGhhcyBmcm9tXCIuLi9jb3JlL2hhcy5qc1wiO2ltcG9ydHtnZXRPckNyZWF0ZU1hcFZhbHVlIGFzIHR9ZnJvbVwiLi4vY29yZS9NYXBVdGlscy5qc1wiO2ltcG9ydHtNaWxsaXNlY29uZHMgYXMgZSxtaWxsaXNlY29uZHNGcm9tU2Vjb25kcyBhcyByLFNlY29uZHMgYXMgb31mcm9tXCIuLi9jb3JlL3RpbWUuanNcIjtmdW5jdGlvbiBpKHMsdD1zPT57fSxlKXtyZXR1cm4gbmV3IG4ocyx0LGUpfWNsYXNzIG57Y29uc3RydWN0b3Iocyx0PXM9Pnt9LGUpe2lmKHRoaXMub25Qcm9ncmVzcz10LHRoaXMudGFza05hbWU9ZSx0aGlzLl9wcm9ncmVzc01hcD1uZXcgTWFwLHRoaXMuX3N0YXJ0VGltZT12b2lkIDAsdGhpcy5fdGltaW5nc01hcD1uZXcgTWFwLFwibnVtYmVyXCI9PXR5cGVvZiBzKXt0aGlzLl93ZWlnaHRzPXt9O2ZvcihsZXQgdD0wO3Q8czt0Kyspe2NvbnN0IGU9dCxyPTEvczt0aGlzLl93ZWlnaHRzW2VdPXIsdGhpcy5fcHJvZ3Jlc3NNYXAuc2V0KGUsMCl9fWVsc2UgdGhpcy5fd2VpZ2h0cz1zO3RoaXMuZW1pdFByb2dyZXNzKCl9ZW1pdFByb2dyZXNzKCl7bGV0IHM9MDtmb3IoY29uc3RbdCxlXW9mIHRoaXMuX3Byb2dyZXNzTWFwLmVudHJpZXMoKSl7cys9ZSp0aGlzLl93ZWlnaHRzW3RdfWlmKDE9PT1zJiZoYXMoXCJlbmFibGUtZmVhdHVyZTplc3JpLTNkb2ZsLXVwbG9hZC10aW1pbmdzXCIpKXtjb25zdCBzPU1hdGgucm91bmQocGVyZm9ybWFuY2Uubm93KCktKHRoaXMuX3N0YXJ0VGltZT8/MCkpLzFlMztjb25zb2xlLmxvZyhgJHt0aGlzLnRhc2tOYW1lfSBkb25lIGluICR7c30gc2VjYCk7Zm9yKGNvbnN0W3QsZV1vZiB0aGlzLl90aW1pbmdzTWFwKXtjb25zdCByPU1hdGgucm91bmQoZS5lbmQtZS5zdGFydCkvMWUzLG89TWF0aC5yb3VuZChyL3MqMTAwKTtjb25zb2xlLmxvZyh0aGlzLnRhc2tOYW1lPz9cIlRhc2tcIix7c3RlcEtleTp0LHN0ZXBUaW1lOnIscmVsYXRpdmVUaW1lOm99KX19dGhpcy5vblByb2dyZXNzKHMpfXNldFByb2dyZXNzKHMsZSl7aWYodGhpcy5fcHJvZ3Jlc3NNYXAuc2V0KHMsZSksaGFzKFwiZW5hYmxlLWZlYXR1cmU6ZXNyaS0zZG9mbC11cGxvYWQtdGltaW5nc1wiKSl7Y29uc3Qgcj1wZXJmb3JtYW5jZS5ub3coKTt0aGlzLl9zdGFydFRpbWU/Pz1yO2NvbnN0IG89dCh0aGlzLl90aW1pbmdzTWFwLHMsKCgpPT4oe3N0YXJ0OnIsZW5kOjB9KSkpOzE9PT1lJiYoby5lbmQ9cil9dGhpcy5lbWl0UHJvZ3Jlc3MoKX1zaW11bGF0ZShzLHQpe3JldHVybiBhKCh0PT50aGlzLnNldFByb2dyZXNzKHMsdCkpLHQpfW1ha2VPblByb2dyZXNzKHMpe3JldHVybiB0PT50aGlzLnNldFByb2dyZXNzKHMsdCl9fWZ1bmN0aW9uIGEodD1zPT57fSxlPWwpe2NvbnN0IHI9cGVyZm9ybWFuY2Uubm93KCk7dCgwKTtjb25zdCBvPXNldEludGVydmFsKCgoKT0+e2NvbnN0IHM9cGVyZm9ybWFuY2Uubm93KCktcixvPTEtTWF0aC5leHAoLXMvZSk7dChvKX0pLGcpO3JldHVybiBzKCgoKT0+e2NsZWFySW50ZXJ2YWwobyksdCgxKX0pKX1mdW5jdGlvbiBoKHMsdD1jKXtyZXR1cm4gcihvKHMqZi90KSl9ZnVuY3Rpb24gbShzLHQ9cCl7cmV0dXJuIHIobyhzKmYvdCkpfWNvbnN0IGM9MTAscD0xMCxmPThlLTYsZz1lKDUwKSxsPWUoMWUzKTtleHBvcnR7biBhcyBQcm9ncmVzc01hbmFnZXIsbSBhcyBlc3RpbWF0ZWRDb252ZXJzaW9uVGltZSxoIGFzIGVzdGltYXRlZFRyYW5zZmVyVGltZSxpIGFzIG1ha2VQcm9ncmVzc01hbmFnZXIsYSBhcyBzaW11bGF0ZVByb2dyZXNzfTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==