export const __webpack_id__ = "vendors-node_modules_arcgis_core_views_3d_layers_graphics_pipeline_Feature3DPipelineWorker_js";
export const __webpack_ids__ = ["vendors-node_modules_arcgis_core_views_3d_layers_graphics_pipeline_Feature3DPipelineWorker_js"];
export const __webpack_modules__ = {

/***/ "./node_modules/@arcgis/core/chunks/quickselect.js":
/*!*********************************************************!*\
  !*** ./node_modules/@arcgis/core/chunks/quickselect.js ***!
  \*********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   q: () => (/* binding */ t)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
function t(t,r,f,n,h){o(t,r,f||0,n||t.length-1,h||a)}function o(t,a,f,n,h){for(;n>f;){if(n-f>600){var M=n-f+1,i=a-f+1,u=Math.log(M),c=.5*Math.exp(2*u/3),e=.5*Math.sqrt(u*c*(M-c)/M)*(i-M/2<0?-1:1);o(t,a,Math.max(f,Math.floor(a-i*c/M+e)),Math.min(n,Math.floor(a+(M-i)*c/M+e)),h)}var l=t[a],v=f,x=n;for(r(t,f,a),h(t[n],l)>0&&r(t,f,n);v<x;){for(r(t,v,x),v++,x--;h(t[v],l)<0;)v++;for(;h(t[x],l)>0;)x--}0===h(t[f],l)?r(t,f,x):r(t,++x,n),x<=a&&(f=x+1),a<=x&&(n=x-1)}}function r(t,o,r){var a=t[o];t[o]=t[r],t[r]=a}function a(t,o){return t<o?-1:t>o?1:0}


/***/ }),

/***/ "./node_modules/@arcgis/core/core/libs/rbush/PooledRBush.js":
/*!******************************************************************!*\
  !*** ./node_modules/@arcgis/core/core/libs/rbush/PooledRBush.js ***!
  \******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   BBox: () => (/* binding */ E),
/* harmony export */   PooledRBush: () => (/* binding */ s)
/* harmony export */ });
/* harmony import */ var _arrayUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _compilerUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../compilerUtils.js */ "./node_modules/@arcgis/core/core/compilerUtils.js");
/* harmony import */ var _has_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _PooledArray_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../PooledArray.js */ "./node_modules/@arcgis/core/core/PooledArray.js");
/* harmony import */ var _chunks_quickselect_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../chunks/quickselect.js */ "./node_modules/@arcgis/core/chunks/quickselect.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
class s{constructor(t=9,i){this._compareMinX=u,this._compareMinY=d,this._toBBox=t=>t,this._maxEntries=Math.max(4,t||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),i&&("function"==typeof i?this._toBBox=i:this._initFormat(i)),this.clear()}destroy(){this.clear(),Y.prune(),B.prune(),w.prune(),j.prune()}all(t){r(this._data,t)}search(t,i){let n=this._data;const e=this._toBBox;if(M(t,n))for(Y.clear();n;){for(let h=0,s=n.children.length;h<s;h++){const s=n.children[h],a=n.leaf?e(s):s;M(t,a)&&(n.leaf?i(s):g(t,a)?r(s,i):Y.push(s))}n=Y.pop()}}collides(t){let i=this._data;const n=this._toBBox;if(!M(t,i))return!1;for(Y.clear();i;){for(let e=0,h=i.children.length;e<h;e++){const h=i.children[e],s=i.leaf?n(h):h;if(M(t,s)){if(i.leaf||g(t,s))return!0;Y.push(h)}}i=Y.pop()}return!1}load(t){if(!t.length)return this;if(t.length<this._minEntries){for(let i=0,n=t.length;i<n;i++)this.insert(t[i]);return this}let i=this._build(t.slice(),0,t.length-1,0);if(this._data.children.length)if(this._data.height===i.height)this._splitRoot(this._data,i);else{if(this._data.height<i.height){const t=this._data;this._data=i,i=t}this._insert(i,this._data.height-i.height-1,!0)}else this._data=i;return this}insert(t){return t&&this._insert(t,this._data.height-1),this}clear(){return this._data=new S([]),this}remove(i){if(!i)return this;let e,h=this._data,s=null,a=0,r=!1;const o=this._toBBox(i);for(w.clear(),j.clear();h||w.length>0;){if(h||(h=w.pop(),s=w.data[w.length-1],a=j.pop()??0,r=!0),h.leaf&&(e=(0,_arrayUtils_js__WEBPACK_IMPORTED_MODULE_0__.indexOf)(h.children,(0,_compilerUtils_js__WEBPACK_IMPORTED_MODULE_1__.toConst)(i),h.children.length,h.indexHint),-1!==e))return h.children.splice(e,1),w.push(h),this._condense(w),this;r||h.leaf||!g(h,o)?s?(a++,h=s.children[a],r=!1):h=null:(w.push(h),j.push(a),a=0,s=h,h=h.children[0])}return this}toJSON(){return this._data}fromJSON(t){return this._data=t,this}_build(t,i,n,e){const h=n-i+1;let s=this._maxEntries;if(h<=s){const e=new S(t.slice(i,n+1));return l(e,this._toBBox),e}e||(e=Math.ceil(Math.log(h)/Math.log(s)),s=Math.ceil(h/s**(e-1)));const a=new y([]);a.height=e;const r=Math.ceil(h/s),o=r*Math.ceil(Math.sqrt(s));X(t,i,n,o,this._compareMinX);for(let l=i;l<=n;l+=o){const i=Math.min(l+o-1,n);X(t,l,i,r,this._compareMinY);for(let n=l;n<=i;n+=r){const h=Math.min(n+r-1,i);a.children.push(this._build(t,n,h,e-1))}}return l(a,this._toBBox),a}_insert(t,i,n){const e=this._toBBox,h=n?t:e(t);w.clear();const s=a(h,this._data,i,w);for(s.children.push(t),m(s,h);i>=0&&w.data[i].children.length>this._maxEntries;)this._split(w,i),i--;o(h,w,i)}_split(t,i){const n=t.data[i],e=n.children.length,h=this._minEntries;this._chooseSplitAxis(n,h,e);const s=this._chooseSplitIndex(n,h,e);if(!s)return;const a=n.children.splice(s,n.children.length-s),r=n.leaf?new S(a):new y(a);r.height=n.height,l(n,this._toBBox),l(r,this._toBBox),i?t.data[i-1].children.push(r):this._splitRoot(n,r)}_splitRoot(t,i){this._data=new y([t,i]),this._data.height=t.height+1,l(this._data,this._toBBox)}_chooseSplitIndex(t,i,n){let e,h,s;e=h=1/0;for(let a=i;a<=n-i;a++){const i=c(t,0,a,this._toBBox),r=c(t,a,n,this._toBBox),o=p(i,r),l=f(i)+f(r);o<e?(e=o,s=a,h=l<h?l:h):o===e&&l<h&&(h=l,s=a)}return s}_chooseSplitAxis(t,i,n){const e=t.leaf?this._compareMinX:u,h=t.leaf?this._compareMinY:d;this._allDistMargin(t,i,n,e)<this._allDistMargin(t,i,n,h)&&t.children.sort(e)}_allDistMargin(t,i,n,e){t.children.sort(e);const h=this._toBBox,s=c(t,0,i,h),a=c(t,n-i,n,h);let r=x(s)+x(a);for(let o=i;o<n-i;o++){const i=t.children[o];m(s,t.leaf?h(i):i),r+=x(s)}for(let o=n-i-1;o>=i;o--){const i=t.children[o];m(a,t.leaf?h(i):i),r+=x(a)}return r}_condense(i){for(let n=i.length-1;n>=0;n--){const e=i.data[n];if(0===e.children.length)if(n>0){const h=i.data[n-1],s=h.children;s.splice((0,_arrayUtils_js__WEBPACK_IMPORTED_MODULE_0__.indexOf)(s,e,s.length,h.indexHint),1)}else this.clear();else l(e,this._toBBox)}}_initFormat(t){const i=["return a"," - b",";"];this._compareMinX=new Function("a","b",i.join(t[0])),this._compareMinY=new Function("a","b",i.join(t[1])),this._toBBox=new Function("a","return {minX: a"+t[0]+", minY: a"+t[1]+", maxX: a"+t[2]+", maxY: a"+t[3]+"};")}}function a(t,i,n,e){for(;e.push(i),!0!==i.leaf&&e.length-1!==n;){let n,e=1/0,h=1/0;for(let s=0,a=i.children.length;s<a;s++){const a=i.children[s],r=f(a),o=_(t,a)-r;o<h?(h=o,e=r<e?r:e,n=a):o===h&&r<e&&(e=r,n=a)}i=n||i.children[0]}return i}function r(t,i){let e=t;for(B.clear();e;){if(!0===e.leaf)for(const t of e.children)i((0,_compilerUtils_js__WEBPACK_IMPORTED_MODULE_1__.toConst)(t));else B.pushArray(e.children);e=B.pop()??null}}function o(t,i,n){for(let e=n;e>=0;e--)m(i.data[e],t)}function l(t,i){c(t,0,t.children.length,i,t)}function c(t,i,n,e,h){h||(h=new S([])),h.minX=1/0,h.minY=1/0,h.maxX=-1/0,h.maxY=-1/0;for(let s,a=i;a<n;a++)s=t.children[a],m(h,t.leaf?e(s):s);return h}function m(t,i){t.minX=Math.min(t.minX,i.minX),t.minY=Math.min(t.minY,i.minY),t.maxX=Math.max(t.maxX,i.maxX),t.maxY=Math.max(t.maxY,i.maxY)}function u(t,i){return t.minX-i.minX}function d(t,i){return t.minY-i.minY}function f(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function x(t){return t.maxX-t.minX+(t.maxY-t.minY)}function _(t,i){return(Math.max(i.maxX,t.maxX)-Math.min(i.minX,t.minX))*(Math.max(i.maxY,t.maxY)-Math.min(i.minY,t.minY))}function p(t,i){const n=Math.max(t.minX,i.minX),e=Math.max(t.minY,i.minY),h=Math.min(t.maxX,i.maxX),s=Math.min(t.maxY,i.maxY);return Math.max(0,h-n)*Math.max(0,s-e)}function g(t,i){return t.minX<=i.minX&&t.minY<=i.minY&&i.maxX<=t.maxX&&i.maxY<=t.maxY}function M(t,i){return i.minX<=t.maxX&&i.minY<=t.maxY&&i.maxX>=t.minX&&i.maxY>=t.minY}function X(t,i,n,e,s){const a=[i,n];for(;a.length;){const i=a.pop(),n=a.pop();if(i-n<=e)continue;const r=n+Math.ceil((i-n)/e/2)*e;(0,_chunks_quickselect_js__WEBPACK_IMPORTED_MODULE_4__.q)(t,r,n,i,s),a.push(n,r,r,i)}}const Y=new _PooledArray_js__WEBPACK_IMPORTED_MODULE_3__["default"],B=new _PooledArray_js__WEBPACK_IMPORTED_MODULE_3__["default"],w=new _PooledArray_js__WEBPACK_IMPORTED_MODULE_3__["default"],j=new _PooledArray_js__WEBPACK_IMPORTED_MODULE_3__["default"]({deallocator:void 0});class E{constructor(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0}}class b extends E{constructor(){super(...arguments),this.height=1,this.indexHint=new _arrayUtils_js__WEBPACK_IMPORTED_MODULE_0__.PositionHint}}class S extends b{constructor(t){super(),this.children=t,this.leaf=!0}}class y extends b{constructor(t){super(),this.children=t,this.leaf=!1}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/graphics/pipeline/Feature3DPipelineWorker.js":
/*!************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/graphics/pipeline/Feature3DPipelineWorker.js ***!
  \************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ S)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_Evented_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../core/Evented.js */ "./node_modules/@arcgis/core/core/Evented.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../core/reactiveUtils.js */ "./node_modules/@arcgis/core/core/reactiveUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_RandomLCG_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../../core/RandomLCG.js */ "./node_modules/@arcgis/core/core/RandomLCG.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../../geometry/Extent.js */ "./node_modules/@arcgis/core/geometry/Extent.js");
/* harmony import */ var _geometry_projectionUtils_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../../geometry/projectionUtils.js */ "./node_modules/@arcgis/core/geometry/projectionUtils.js");
/* harmony import */ var _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../../geometry/SpatialReference.js */ "./node_modules/@arcgis/core/geometry/SpatialReference.js");
/* harmony import */ var _layers_graphics_data_QueryEngine_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../../../layers/graphics/data/QueryEngine.js */ "./node_modules/@arcgis/core/layers/graphics/data/QueryEngine.js");
/* harmony import */ var _rest_support_Query_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../../../rest/support/Query.js */ "./node_modules/@arcgis/core/rest/support/Query.js");
/* harmony import */ var _FeatureProcessingContext_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./FeatureProcessingContext.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/pipeline/FeatureProcessingContext.js");
/* harmony import */ var _PipelineCommand_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./PipelineCommand.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/pipeline/PipelineCommand.js");
/* harmony import */ var _Tile3DManager_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./Tile3DManager.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/pipeline/Tile3DManager.js");
/* harmony import */ var _TileLocks_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./TileLocks.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/pipeline/TileLocks.js");
/* harmony import */ var _featureSet_TiledFeatureStore_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./featureSet/TiledFeatureStore.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/pipeline/featureSet/TiledFeatureStore.js");
/* harmony import */ var _fetching_Tile3DFetcher_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./fetching/Tile3DFetcher.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/pipeline/fetching/Tile3DFetcher.js");
/* harmony import */ var _rendering_RenderCommandContext_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./rendering/RenderCommandContext.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/pipeline/rendering/RenderCommandContext.js");
/* harmony import */ var _support_RenderCoordsHelper_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../../../support/RenderCoordsHelper.js */ "./node_modules/@arcgis/core/views/3d/support/RenderCoordsHelper.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
let R=class extends _core_Evented_js__WEBPACK_IMPORTED_MODULE_1__["default"].EventedAccessor{constructor(){super(...arguments),this.remoteClient=null,this._featureStore=new _featureSet_TiledFeatureStore_js__WEBPACK_IMPORTED_MODULE_18__.TiledFeatureStore,this._tileLocks=new _TileLocks_js__WEBPACK_IMPORTED_MODULE_17__.TileLocks,this._tileManager=null,this._renderer=null,this._fetcher=null,this._queryEngine=null,this._defaultQueryJSON=null,this._mainThreadDelegate=null,this._viewSpatialReference=null,this._renderCommandContext=null,this._context=null}get updating(){return this._tileManager.updating}destroy(){this._featureStore.clear(),this._tileManager?.destroy()}async setup({viewSpatialReference:e,renderSpatialReference:t,viewingMode:r,layerInfo:a,layerViewInfo:n}){const s=_geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_11__["default"].fromJSON(e);this._viewSpatialReference=s;const l=_geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_11__["default"].fromJSON(t);this._fetcher=new _fetching_Tile3DFetcher_js__WEBPACK_IMPORTED_MODULE_19__.Tile3DFetcher(this._viewSpatialReference,_rest_support_Query_js__WEBPACK_IMPORTED_MODULE_13__["default"].fromJSON(a.baseQuery),a.url,a.objectIdField,a.capabilities),this._queryEngine=new _layers_graphics_data_QueryEngine_js__WEBPACK_IMPORTED_MODULE_12__.QueryEngine({hasZ:!0,hasM:!1,geometryType:"esriGeometryPoint",featureIdInfo:{type:"object-id",fieldName:a.objectIdField},fieldsIndex:a.fieldIndex,availableFields:[a.objectIdField],spatialReference:e,featureStore:this._featureStore,timeInfo:a.timeInfo}),this._mainThreadDelegate={createTexture:async(e,t)=>{const r={data:e,parameters:t};return await this.remoteClient.invoke("createTexture",r,{transferList:[e.buffer]})},releaseTexture:async e=>{const t={uid:e};await this.remoteClient.invoke("releaseTexture",t)},createMaterial:async e=>{const t={materialJSON:e};await this.remoteClient.invoke("createMaterial",t)},destroyMaterial:async e=>{const t={materialId:e};await this.remoteClient.invoke("destroyMaterial",t)},createDirectRenderer:async e=>{const t={materialId:e};await this.remoteClient.invoke("createDirectRenderer",t)},destroyDirectRenderer:async e=>{const t={materialId:e};await this.remoteClient.invoke("destroyDirectRenderer",t)},createLodRenderer:async(e,t,r)=>{const a={rendererId:e,lodRenderGeometry:t};await this.remoteClient.invoke("createLoDRenderer",a,{transferList:r})},destroyLodRenderer:async e=>{const t={rendererId:e};await this.remoteClient.invoke("destroyLoDRenderer",t)},executeRenderCommands:async e=>{const t={commands:e.commands};await this.remoteClient.invoke("dispatchRenderCommands",t,{transferList:e.transferList})},applyElevationAlignmentTo:async e=>{const t={mapPoints:e};return await this.remoteClient.invoke("applyElevationAlignment",t,{transferList:[e.buffer]})}};const f=_support_RenderCoordsHelper_js__WEBPACK_IMPORTED_MODULE_21__.RenderCoordsHelper.create(r,l),C=new _rendering_RenderCommandContext_js__WEBPACK_IMPORTED_MODULE_20__.RenderCommandContext(r,this._mainThreadDelegate);this._renderCommandContext=C;const w=new _FeatureProcessingContext_js__WEBPACK_IMPORTED_MODULE_14__.FeatureProcessingContext(s,l,this._mainThreadDelegate,f,C,a,n);this._context=w,this._renderer=w.symbolRendererFactory.createSymbolRendererFromJSON(a.renderer),this._defaultQueryJSON=new _rest_support_Query_js__WEBPACK_IMPORTED_MODULE_13__["default"]({outSpatialReference:s}).toJSON();let R=null;if(null!=a.fullExtent){const e=_geometry_Extent_js__WEBPACK_IMPORTED_MODULE_9__["default"].fromJSON(a.fullExtent);await (0,_geometry_projectionUtils_js__WEBPACK_IMPORTED_MODULE_10__.initializeProjection)(e.spatialReference,s),R=(0,_geometry_projectionUtils_js__WEBPACK_IMPORTED_MODULE_10__.project)(e,s)}return this._tileManager=new _Tile3DManager_js__WEBPACK_IMPORTED_MODULE_16__.Tile3DManager({loadTile:(e,t)=>this._fetcher.fetch(e,t),createAddCommand:(e,t)=>this._createAddFeatureDataCommand(e,t),createRemoveCommand:e=>this._createRemoveFeatureDataCommand(e),createUpdateCommand:(e,t)=>this._createUpdateFeatureDataVisibilityCommand(e,t),tileLocks:this._tileLocks,extent:R}),this.addHandles((0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__.watch)((()=>this.updating),(e=>{this.emit("notify-updating",{updating:e})})),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__.initial),null!=this._renderer&&await this._renderer.load(),j}async executeQuery(e,t){return{result:await this._queryEngine.executeQuery(this._ensureQuery(e),t)}}async executeQueryForIds(e,t){const r=await this._queryEngine.executeQueryForIdSet(this._ensureQuery(e),t);return{result:Array.from(r)}}async executeQueryForCount(e,t){return{result:await this._queryEngine.executeQueryForCount(this._ensureQuery(e),t)}}async executeQueryForExtent(e,t){return{result:await this._queryEngine.executeQueryForExtent(this._ensureQuery(e),t)}}async executeQueryForLatestObservations(e,t){return{result:await this._queryEngine.executeQueryForLatestObservations(this._ensureQuery(e),t)}}onTileTreeChange(e){return this._tileManager.onTileTreeChange(e),Promise.resolve(j)}async onElevationChange(e){return j}async onLayerViewOpacityChange(e){const{_context:t,_renderer:r}=this;if(t.layerViewInfo.fullOpacity=e,null==r)return j;const a=await r.createUpdateLayerViewOpacityCommand(e);return await a.execute(),j}async onRendererChange(r){const{_context:a}=this,n=a.symbolRendererFactory.createSymbolRendererFromJSON(r);await n.load();const i=this._renderer;this._renderer=n;const o=[...this._tileManager.loadedTiles()],s=o.map((e=>e.tileId));{const r={stack:[],error:void 0,hasError:!1};try{(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.b)(r,await this._tileLocks.lock(s),!1);const t=o.flatMap((e=>[i.createRemoveCommand(e.id),n.createAddCommand(e)])),l=await Promise.all(t),c=a.joinPipelineCommands(l);await c.execute()}catch(c){r.error=c,r.hasError=!0}finally{(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.c)(r)}}const l=await i.createDestroyCommand();return await l.execute(),j}async _createAddFeatureDataCommand(e,t){const r=this._featureStore,a=this._renderer;let i;return i=null!=a?await a.createAddCommand(e):_PipelineCommand_js__WEBPACK_IMPORTED_MODULE_15__.PipelineCommand.create(this._renderCommandContext),(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_2__.throwIfAborted)(t),i.appendPipelineStateCommand((()=>{r.addTile(e)})),i}async _createRemoveFeatureDataCommand(e){const t=this._featureStore,r=this._renderer;let a;return a=null!=r?await r.createRemoveCommand(e):_PipelineCommand_js__WEBPACK_IMPORTED_MODULE_15__.PipelineCommand.create(this._renderCommandContext),a.appendPipelineStateCommand((()=>{t.removeTile(e)})),a}async _createUpdateFeatureDataVisibilityCommand(e,t){const r=this._renderer;let a;return a=null!=r?await r.createUpdateVisibilityCommand(e):_PipelineCommand_js__WEBPACK_IMPORTED_MODULE_15__.PipelineCommand.create(this._renderCommandContext),(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_2__.throwIfAborted)(t),a}_ensureQuery(e){return e??this._defaultQueryJSON}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],R.prototype,"updating",null),R=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_8__.subclass)("esri.views.3d.layers.graphics.pipeline.Feature3DPipelineWorker")],R);const S=R,j={result:void 0};


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/graphics/pipeline/FeatureProcessingContext.js":
/*!*************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/graphics/pipeline/FeatureProcessingContext.js ***!
  \*************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   FeatureProcessingContext: () => (/* binding */ a),
/* harmony export */   SymbolRendererFactory: () => (/* binding */ m)
/* harmony export */ });
/* harmony import */ var _renderers_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../renderers/support/jsonUtils.js */ "./node_modules/@arcgis/core/renderers/support/jsonUtils.js");
/* harmony import */ var _PipelineCommand_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./PipelineCommand.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/pipeline/PipelineCommand.js");
/* harmony import */ var _symbolization_factoryUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./symbolization/factoryUtils.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/pipeline/symbolization/factoryUtils.js");
/* harmony import */ var _symbolization_IconSymbolLayerRenderer_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./symbolization/IconSymbolLayerRenderer.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/pipeline/symbolization/IconSymbolLayerRenderer.js");
/* harmony import */ var _symbolization_Point3DSymbolRenderer_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./symbolization/Point3DSymbolRenderer.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/pipeline/symbolization/Point3DSymbolRenderer.js");
/* harmony import */ var _symbolization_SimpleFeatureRenderer_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./symbolization/SimpleFeatureRenderer.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/pipeline/symbolization/SimpleFeatureRenderer.js");
/* harmony import */ var _symbolization_UniqueValueFeatureRenderer_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./symbolization/UniqueValueFeatureRenderer.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/pipeline/symbolization/UniqueValueFeatureRenderer.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
class a{constructor(e,r,t,o,n,i,s){this.viewSpatialReference=e,this.renderSpatialReference=r,this.mainThreadDelegate=t,this.renderCoordsHelper=o,this.renderCommandContext=n,this.layerInfo=i,this.layerViewInfo=s,this.symbolRendererFactory=new m(this)}createPipelineCommand(e=this.renderCommandContext.createRenderCommandBuffer(),t=[]){return new _PipelineCommand_js__WEBPACK_IMPORTED_MODULE_1__.PipelineCommand(this.renderCommandContext,e,t)}joinPipelineCommands(e){if(0===e.length)return this.createPipelineCommand();return e.filter((e=>null!=e)).reduce(((e,r)=>(e.append(r),e)))}}class m{constructor(e){this.context=e}createSymbolRendererFromJSON(r){const t=(0,_renderers_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_0__.read)(r??l)??void 0;if(!t)throw new Error("Failed to create renderer");const o=t.type;switch(o){case"simple":return new _symbolization_SimpleFeatureRenderer_js__WEBPACK_IMPORTED_MODULE_5__.SimpleFeatureRenderer(t,this.context);case"unique-value":return new _symbolization_UniqueValueFeatureRenderer_js__WEBPACK_IMPORTED_MODULE_6__.UniqueValueFeatureRenderer(t,this.context);default:return console.warn(`Unable to create symbolrenderer for renderer of ${o}`),this.createSymbolRendererFromJSON(l)}}createSymbolRendererFromSymbol(e){const r=e?.type;switch(r){case"point-3d":return new _symbolization_Point3DSymbolRenderer_js__WEBPACK_IMPORTED_MODULE_4__.Point3DSymbolRenderer(e,this.context);case"picture-marker":case"simple-marker":return new _symbolization_IconSymbolLayerRenderer_js__WEBPACK_IMPORTED_MODULE_3__.IconSymbolLayerRenderer((0,_symbolization_factoryUtils_js__WEBPACK_IMPORTED_MODULE_2__.createDefaultIconSymbolLayer)(),this.context);default:return console.warn(`Unable to create symbolrenderer for symbol of ${r}`),null}}createSymbolRendererFromSymbolLayer(e){const r=e.type;return"icon"===r?new _symbolization_IconSymbolLayerRenderer_js__WEBPACK_IMPORTED_MODULE_3__.IconSymbolLayerRenderer(e,this.context):(console.warn(`Unable to create symbolrenderer for symbolLayer of ${r}`),null)}}const l={type:"simple"};


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/graphics/pipeline/PipelineCommand.js":
/*!****************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/graphics/pipeline/PipelineCommand.js ***!
  \****************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   PipelineCommand: () => (/* binding */ e),
/* harmony export */   joinCommands: () => (/* binding */ n)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
class e{constructor(e,n,t){this.renderCommandContext=e,this.renderCommandBuffer=n,this.pipelineStateCommands=t}append(e){this.appendRenderCommands(e.renderCommandBuffer),this.appendPipelineStateCommands(e.pipelineStateCommands)}appendRenderCommands(e){this.renderCommandBuffer.commands.push(...e.commands),this.renderCommandBuffer.transferList.push(...e.transferList)}appendPipelineStateCommand(e){this.pipelineStateCommands.push(e)}appendPipelineStateCommands(e){for(const n of e)this.appendPipelineStateCommand(n)}async execute(){for(const e of this.pipelineStateCommands)e();await this.renderCommandContext.dispatchRenderCommands(this.renderCommandBuffer)}static create(n,t=[]){return new e(n,n.createRenderCommandBuffer(),t)}}function n(e){if(0===e.length)return null;return e.reduce(((e,n)=>(e.append(n),e)))}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/graphics/pipeline/Tile.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/graphics/pipeline/Tile.js ***!
  \*****************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Tile: () => (/* binding */ n)
/* harmony export */ });
/* harmony import */ var _core_memoryEstimations_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../core/memoryEstimations.js */ "./node_modules/@arcgis/core/core/memoryEstimations.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
class n{constructor(n,a,r){this.descriptor=n,this._pages=a,this._pageSize=r;const i=_core_memoryEstimations_js__WEBPACK_IMPORTED_MODULE_0__.baseArrayMemory+a.reduce(((e,{usedMemory:t})=>e+t),0),d=3*_core_memoryEstimations_js__WEBPACK_IMPORTED_MODULE_0__.estimateNumberMemory;this.usedMemory=_core_memoryEstimations_js__WEBPACK_IMPORTED_MODULE_0__.baseObjectMemory+i+d,this.featureCount=a.reduce(((e,t)=>e+t.featureCount),0)}get id(){return this.descriptor.id}getObjectId(e){const{pageIndex:t,featurePageIndex:s}=this._translateIndex(e);return this._pages[t].getObjectId(s)}getAttribute(e,t){const{pageIndex:s,featurePageIndex:n}=this._translateIndex(e);return this._pages[s].getAttribute(n,t)}getAttributeAsTimestamp(e,t){const{pageIndex:s,featurePageIndex:n}=this._translateIndex(e);return this._pages[s].getAttributeAsTimestamp(n,t)}getAttributes(e){const{pageIndex:t,featurePageIndex:s}=this._translateIndex(e);return this._pages[t].getAttributes(s)}getCoordinates(e,t,s){const{pageIndex:n,featurePageIndex:a}=this._translateIndex(e);this._pages[n].getCoordinates(a,t,s)}getOptimizedGeometry(e){const{pageIndex:t,featurePageIndex:s}=this._translateIndex(e);return this._pages[t].getOptimizedGeometry(s)}getCentroid(e,t){const{pageIndex:s,featurePageIndex:n}=this._translateIndex(e);return this._pages[s].getCentroid(n,t)}getBounds(e){const{pageIndex:t,featurePageIndex:s}=this._translateIndex(e);return this._pages[t].getBounds(s)}getBoundingBox(e){const{pageIndex:t,featurePageIndex:s}=this._translateIndex(e);return this._pages[t].getBoundingBox(s)}getObjectIdsArray(e,t=this._allFeatureIndices(),s=0){let n=s;for(const{page:a,indices:r}of this._batchPageIndices(t))n=a.getObjectIdsArray(e,r,n);return n}getCoordinatesArray(e,t=this._allFeatureIndices(),s=0){let n=s;for(const{page:a,indices:r}of this._batchPageIndices(t))n=a.getCoordinatesArray(e,r,n);return n}*objectIds(e=this._allFeatureIndices()){for(const{page:t,indices:s}of this._batchPageIndices(e))for(const e of t.objectIds(s))yield e}*_allFeatureIndices(){const{featureCount:e}=this;for(let t=0;t<e;++t)yield t}_translateIndex(e){const{_pageSize:t}=this;return{pageIndex:Math.floor(e/t),featurePageIndex:e%t}}*_batchPageIndices(e){const t=new Array;{let s=0,n=new Array;for(const a of e){const{pageIndex:e,featurePageIndex:r}=this._translateIndex(a);s!==e&&(0!==n.length&&t.push({pageIndex:s,indices:n}),s=e,n=[]),n.push(r)}0!==n.length&&t.push({pageIndex:s,indices:n})}const{_pages:s}=this;for(const{pageIndex:n,indices:a}of t)yield{page:s[n],indices:a}}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/graphics/pipeline/Tile3DManager.js":
/*!**************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/graphics/pipeline/Tile3DManager.js ***!
  \**************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Tile3DManager: () => (/* binding */ _)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../core/Accessor.js */ "./node_modules/@arcgis/core/core/Accessor.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_asyncUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../core/asyncUtils.js */ "./node_modules/@arcgis/core/core/asyncUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _core_ReactiveMap_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../core/ReactiveMap.js */ "./node_modules/@arcgis/core/core/ReactiveMap.js");
/* harmony import */ var _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../../core/reactiveUtils.js */ "./node_modules/@arcgis/core/core/reactiveUtils.js");
/* harmony import */ var _core_scheduling_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../../core/scheduling.js */ "./node_modules/@arcgis/core/core/scheduling.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../../../geometry/support/aaBoundingRect.js */ "./node_modules/@arcgis/core/geometry/support/aaBoundingRect.js");
/* harmony import */ var _PipelineCommand_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./PipelineCommand.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/pipeline/PipelineCommand.js");
/* harmony import */ var _featureData_FeatureData_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./featureData/FeatureData.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/pipeline/featureData/FeatureData.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
let _=class extends _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__["default"]{constructor(t){super(t),this.extent=null,this._tileHandles=new _core_ReactiveMap_js__WEBPACK_IMPORTED_MODULE_6__["default"],this._wanted=new _core_ReactiveMap_js__WEBPACK_IMPORTED_MODULE_6__["default"],this._updateRequested=!1,this._synchronizationTask=null,this._requestedTiles=new Array}destroy(){this._tileHandles.clear(),this._wanted.clear()}get updating(){return this._updateRequested||!(this._synchronizationTask?.finished??1)}get _boundingRect(){const{extent:t}=this;return null==t?null:(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_12__.fromExtent)(t)}get _missingTiles(){const t=new Array,e=this._wanted,s=this._tileHandles;for(const o of e.values())null==s.get(o.id)?.featureData&&t.push(o);return t}onTileTreeChange({tiles:t}){this._requestedTiles=t,this._scheduleTilesSync()}_scheduleTilesSync(){if(this._updateRequested)return;this._updateRequested=!0;const t=this._synchronizationTask,e=(0,_core_asyncUtils_js__WEBPACK_IMPORTED_MODULE_3__.createTask)((async()=>{try{await (0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_7__.whenOnce)((()=>t?.finished??!0)),await (0,_core_scheduling_js__WEBPACK_IMPORTED_MODULE_8__.waitTick)(),this._updateRequested=!1,await this._synchronizeTiles()}finally{this._synchronizationTask===e&&(this._synchronizationTask=null)}}));this._synchronizationTask=e}async _synchronizeTiles(){const t=this._requestedTiles,e=this._tileHandles,s=new Array;for(const u of t)e.has(u.id)||s.push(u);const o=new Array;for(const u of e.values()){const{id:e}=u;t.every((t=>t.id!==e))&&o.push(u.descriptor)}const a=this._tileHandles,{_boundingRect:i}=this,r=null!=i?s.filter((t=>(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_12__.intersects)(i,t.extent))):s,n=this._wanted,l=new Array;for(const{id:u}of o)n.delete(u);for(const u of r)n.set(u.id,u);const c=this._missingTiles;for(const u of o){const{id:t}=u;if(c.some((t=>w(t,u)||w(u,t))))continue;const e=a.get(t);null!=e&&l.push(this._removeTile(e))}for(const u of r)l.push(this._addTile(u));const d=await Promise.allSettled(l);for(const u of d)"rejected"===u.status&&console.error(u.reason)}forEachTile(t){for(const e of this._tileHandles.values()){const s=e.featureData;null!=s&&t(s)}}*loadedTiles(){for(const t of this._tileHandles.values()){const e=t.featureData;null!=e&&(yield e)}}async _removeTile(s){s.loadTask.abort(),this._tileHandles.delete(s.id),this._validate();const{featureData:o}=s;if(null!=o){const s={stack:[],error:void 0,hasError:!1};try{(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.b)(s,await this.tileLocks.lock([o.tileId]),!1);const e=await this.createRemoveCommand(o.id);await(e?.execute())}catch(a){s.error=a,s.hasError=!0}finally{(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.c)(s)}}}async _addTile(t){const{_tileHandles:e}=this,s=e.get(t.id);if(null!=s){if(!T(s)||s.featureData.isFullyEnabled)return;return s.featureData.enableAll(),void await this._onTileLoad(s)}const o=new v(t,(0,_core_asyncUtils_js__WEBPACK_IMPORTED_MODULE_3__.createTask)((async e=>{const s=await this.loadTile(t,e);return (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_5__.throwIfAborted)(e),new _featureData_FeatureData_js__WEBPACK_IMPORTED_MODULE_14__.FeatureData(s)})));this._tileHandles.set(o.id,o);try{await o.loadTask.promise}catch(a){return void (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_5__.throwIfNotAbortError)(a)}g(o),await this._onTileLoad(o)}async _onTileLoad(s){const o={stack:[],error:void 0,hasError:!1};try{const{_wanted:e,_tileHandles:i,_missingTiles:r}=this,n=s.descriptor,l=new Array,c=new Array,d=new Array,u=new Set;for(const t of i.values()){if(t===s)continue;const{descriptor:o,id:a}=t;if(e.has(a)||r.some((t=>w(t,o)||w(o,t)))){if(T(t)){if(w(n,o)){const e=t.featureData;for(const t of e.objectIds())u.add(t)}if(w(o,n)){const{featureData:e}=t;c.push(e)}}}else{i.delete(a),t.loadTask.abort();const{featureData:e}=t;null!=e&&l.push(e)}}u.size>0&&(s.featureData.disableObjectIds(u),this._validateRemoval(s.featureData,u)),this._validate(),d.push(s.featureData);const h=[...d,...l,...c].map((t=>t.tileId));(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.b)(o,await this.tileLocks.lock(h),!1);if(0!==c.length){const t=s.featureData,e=new Set(t.objectIds());for(const s of c)s.disableObjectIds(e),this._validateRemoval(s,e)}const f=l.map((t=>this.createRemoveCommand(t.id))),p=d.map((t=>this.createAddCommand(t))),y=c.map((t=>this.createUpdateCommand(t))),_=await Promise.all([...f,...p,...y]),v=(0,_PipelineCommand_js__WEBPACK_IMPORTED_MODULE_13__.joinCommands)(_.filter(_core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_2__.isSome));await(v?.execute())}catch(i){o.error=i,o.hasError=!0}finally{(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.c)(o)}}_validate(){if(!(0,_core_has_js__WEBPACK_IMPORTED_MODULE_4__["default"])("feature-pipeline-3d-test-validation"))return;const t=new Array;for(const e of this._tileHandles.values()){if(!T(e))continue;const{featureData:s}=e;t.push({featureData:s,objectIds:new Set(s.enabledObjectIds())})}for(let e=0;e<t.length;++e){const{featureData:s,objectIds:o}=t[e];for(let a=e+1;a<t.length;++a){const{featureData:e,objectIds:i}=t[a];for(const t of i)if(o.has(t))throw new Error(`${s.id} and ${e.id} both contain ${t}.`)}}}_validateRemoval(t,e){if((0,_core_has_js__WEBPACK_IMPORTED_MODULE_4__["default"])("feature-pipeline-3d-test-validation"))for(const s of t.enabledObjectIds())if(e.has(s))throw new Error(`Failed to remove ${s} from ${t.id}!`)}};function w({lij:[t,e,s]},{lij:[o,a,i]}){const r=o-t;return r>=0&&e===a>>r&&s===i>>r}(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)()],_.prototype,"updating",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)({constructOnly:!0})],_.prototype,"loadTile",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)({constructOnly:!0})],_.prototype,"createAddCommand",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)({constructOnly:!0})],_.prototype,"createRemoveCommand",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)({constructOnly:!0})],_.prototype,"createUpdateCommand",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)({constructOnly:!0})],_.prototype,"tileLocks",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)()],_.prototype,"extent",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)()],_.prototype,"_boundingRect",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)()],_.prototype,"_missingTiles",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)()],_.prototype,"_updateRequested",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)()],_.prototype,"_synchronizationTask",void 0),_=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_11__.subclass)("esri.views.3d.layers.graphics.pipeline.Tile3DManager")],_);class v{constructor(t,e){this.descriptor=t,this.loadTask=e}get id(){return this.descriptor.id}get featureData(){return this.loadTask.value}}function T(t){return null!=t.featureData}function g(t){if(!T(t))throw new Error}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/graphics/pipeline/TileLocks.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/graphics/pipeline/TileLocks.js ***!
  \**********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   TileLocks: () => (/* binding */ e)
/* harmony export */ });
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_handleUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../core/handleUtils.js */ "./node_modules/@arcgis/core/core/handleUtils.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
class e{constructor(){this._previousActions=new Map}async lock(e){const{_previousActions:i}=this,l=e.map((o=>i.get(o))).filter(_core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_0__.isSome),c=Promise.allSettled(l),a=(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_2__.createResolver)(),n=(0,_core_handleUtils_js__WEBPACK_IMPORTED_MODULE_1__.makeHandle)((()=>a.resolve())),m=a.promise.finally((()=>{for(const o of e)i.get(o)===m&&i.delete(o)}));for(const o of e)i.set(o,m);return await c,(0,_core_handleUtils_js__WEBPACK_IMPORTED_MODULE_1__.disposable)(n)}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/graphics/pipeline/featureData/FeatureData.js":
/*!************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/graphics/pipeline/featureData/FeatureData.js ***!
  \************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   FeatureData: () => (/* binding */ s)
/* harmony export */ });
/* harmony import */ var _core_memoryEstimations_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../core/memoryEstimations.js */ "./node_modules/@arcgis/core/core/memoryEstimations.js");
/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/pipeline/utils.js");
/* harmony import */ var _FeatureDataSubset_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./FeatureDataSubset.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/pipeline/featureData/FeatureDataSubset.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
class s{constructor(t){this._tile=t,this.id=(0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.generateId)(`featureData-${t.id}-`),this._enabled=new Array(t.featureCount).fill(!0)}get tileId(){return this._tile.id}get featureCount(){return this._tile.featureCount}get usedMemory(){return _core_memoryEstimations_js__WEBPACK_IMPORTED_MODULE_0__.baseObjectMemory+(0,_core_memoryEstimations_js__WEBPACK_IMPORTED_MODULE_0__.estimateStringMemory)(this.id)}get extent(){return this._tile.descriptor.extent}get isFullyEnabled(){return this._enabled.every((t=>t))}getObjectId(t){return this._tile.getObjectId(t)}getAttribute(t,e){return this._tile.getAttribute(t,e)}getAttributeAsTimestamp(t,e){return this._tile.getAttribute(t,e)}getAttributes(t){return this._tile.getAttributes(t)}getCoordinates(t,e,r){return this._tile.getCoordinates(t,e,r)}getOptimizedGeometry(t){return this._tile.getOptimizedGeometry(t)}getCentroid(t,e){return this._tile.getCentroid(t,e)}getBounds(t){return this._tile.getBounds(t)}getBoundingBox(t){return this._tile.getBoundingBox(t)}getObjectIdsArray(t,e,r){return this._tile.getObjectIdsArray(t,e,r)}getCoordinatesArray(t,e,r){return this._tile.getCoordinatesArray(t,e,r)}objectIds(t){return this._tile.objectIds(t)}subset(t){return new _FeatureDataSubset_js__WEBPACK_IMPORTED_MODULE_2__.FeatureDataSubset(this,t)}disableObjectIds(t){if(0===t.size)return;const{_enabled:e}=this,r=new Array;for(const i of this._allFeatureIndices())e[i]&&t.has(this.getObjectId(i))&&r.push(i);if(0!==r.length)for(const i of r)e[i]=!1}setEnabled(t,e){this._enabled[t]=e}getEnabled(t){return this._enabled[t]}enableAll(){this._enabled.fill(!0)}getVisibilityArray(t,e=this._allFeatureIndices(),r=0){const{_enabled:i}=this;for(const s of e)t[r++]=Number(i[s]);return r}*enabledObjectIds(t=this._allFeatureIndices()){const{_enabled:e}=this;for(const r of t)e[r]&&(yield this.getObjectId(r))}*_allFeatureIndices(){const{featureCount:t}=this;for(let e=0;e<t;++e)yield e}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/graphics/pipeline/featureData/FeatureDataSubset.js":
/*!******************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/graphics/pipeline/featureData/FeatureDataSubset.js ***!
  \******************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   FeatureDataSubset: () => (/* binding */ s)
/* harmony export */ });
/* harmony import */ var _core_memoryEstimations_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../core/memoryEstimations.js */ "./node_modules/@arcgis/core/core/memoryEstimations.js");
/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/pipeline/utils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
class s{constructor(t,s){this._parent=t,this._subsetIndices=s,this.id=(0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.generateId)(`featureDataSubset-${t.id}-`)}get tileId(){return this._parent.tileId}get extent(){return this._parent.extent}get featureCount(){return this._subsetIndices.length}get usedMemory(){return this._parent.usedMemory+_core_memoryEstimations_js__WEBPACK_IMPORTED_MODULE_0__.baseObjectMemory+this._subsetIndices.byteLength}get isFullyEnabled(){for(const t of this._subsetIndices)if(!this._parent.getEnabled(t))return!1;return!0}getObjectId(t){return this._parent.getObjectId(this._subsetIndices[t])}getAttribute(t,e){return this._parent.getAttribute(this._subsetIndices[t],e)}getAttributeAsTimestamp(t,e){return this._parent.getAttribute(this._subsetIndices[t],e)}getAttributes(t){return this._parent.getAttributes(this._subsetIndices[t])}getCoordinates(t,e,s){return this._parent.getCoordinates(this._subsetIndices[t],e,s)}getOptimizedGeometry(t){return this._parent.getOptimizedGeometry(this._subsetIndices[t])}getCentroid(t,e){return this._parent.getCentroid(this._subsetIndices[t],e)}getBounds(t){return this._parent.getBounds(this._subsetIndices[t])}getBoundingBox(t){return this._parent.getBoundingBox(this._subsetIndices[t])}getObjectIdsArray(t,e,s){return this._parent.getObjectIdsArray(t,this._translatedIndices(e),s)}getCoordinatesArray(t,e,s){return this._parent.getCoordinatesArray(t,this._translatedIndices(e),s)}objectIds(t){return this._parent.objectIds(this._translatedIndices(t))}subset(t){const{_subsetIndices:e}=this,r=new Uint32Array(t.length);for(let s=0;s<r.length;++s)r[s]=e[t[s]];return new s(this._parent,r)}disableObjectIds(t){if(0===t.size)return;const{featureCount:e}=this,s=new Array;for(let r=0;r<e;++r)this.getEnabled(r)&&t.has(this.getObjectId(r))&&s.push(r);if(0!==s.length)for(const r of s)this.setEnabled(r,!1)}setEnabled(t,e){this._parent.setEnabled(this._subsetIndices[t],e)}getEnabled(t){return this._parent.getEnabled(this._subsetIndices[t])}enableAll(){const{_subsetIndices:t,_parent:e}=this;for(const s of t)e.setEnabled(s,!0)}getVisibilityArray(t,e,s){return this._parent.getVisibilityArray(t,this._translatedIndices(e),s)}enabledObjectIds(t){return this._parent.enabledObjectIds(this._translatedIndices(t))}*_translatedIndices(t){const{_subsetIndices:e}=this;if(null!=t)for(const s of t)yield e[s];else yield*e}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/graphics/pipeline/featureData/processingUtils.js":
/*!****************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/graphics/pipeline/featureData/processingUtils.js ***!
  \****************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   computeRenderCoordinates: () => (/* binding */ i),
/* harmony export */   computeTileCenterRenderCoordinates: () => (/* binding */ f),
/* harmony export */   projectToRenderCoordinates: () => (/* binding */ c),
/* harmony export */   readMapCoordinates: () => (/* binding */ a),
/* harmony export */   readObjectIds: () => (/* binding */ n)
/* harmony export */ });
/* harmony import */ var _core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../core/libs/gl-matrix-2/factories/vec3f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/vec3f64.js");
/* harmony import */ var _geometry_projection_projectBuffer_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../../geometry/projection/projectBuffer.js */ "./node_modules/@arcgis/core/geometry/projection/projectBuffer.js");
/* harmony import */ var _geometry_projection_projectVectorToVector_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../../geometry/projection/projectVectorToVector.js */ "./node_modules/@arcgis/core/geometry/projection/projectVectorToVector.js");
/* harmony import */ var _geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../../geometry/support/aaBoundingRect.js */ "./node_modules/@arcgis/core/geometry/support/aaBoundingRect.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
function n(r){const{featureCount:e}=r;if(0===e)return new Uint32Array;const t=new Uint32Array(e);return r.getObjectIdsArray(t),t}function a(r){const{featureCount:e}=r;if(0===e)return new Float64Array;const t=new Float64Array(3*e);return r.getCoordinatesArray(t),t}function i(r,e){const{featureCount:t}=r;if(0===t)return new Float64Array;return c(a(r),e)}function c(r,t){const o=r.length/3,n=t.viewSpatialReference,a=t.renderSpatialReference,i=new Float64Array(3*o);if(!(0,_geometry_projection_projectBuffer_js__WEBPACK_IMPORTED_MODULE_1__.projectBuffer)(r,n,0,i,a,0,o))throw new Error("Failed to project coordinates");return i}function f(e,n){const a=n.viewSpatialReference,i=n.renderSpatialReference,{extent:c}=e,f=(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_3__.center)(c),u=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_0__.create)();return (0,_geometry_projection_projectVectorToVector_js__WEBPACK_IMPORTED_MODULE_2__.projectVectorToVector)([f[0],f[1],0],a,u,i),u}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/graphics/pipeline/featureSet/PBFPointFeatureSetView.js":
/*!**********************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/graphics/pipeline/featureSet/PBFPointFeatureSetView.js ***!
  \**********************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   PBFPointFeatureSetView: () => (/* binding */ u)
/* harmony export */ });
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_pbf_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../../core/pbf.js */ "./node_modules/@arcgis/core/core/pbf.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../../core/libs/gl-matrix-2/factories/vec3f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/vec3f64.js");
/* harmony import */ var _core_libs_rbush_PooledRBush_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../../core/libs/rbush/PooledRBush.js */ "./node_modules/@arcgis/core/core/libs/rbush/PooledRBush.js");
/* harmony import */ var _geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../../../geometry/support/aaBoundingBox.js */ "./node_modules/@arcgis/core/geometry/support/aaBoundingBox.js");
/* harmony import */ var _geometry_support_quantizationUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../../../geometry/support/quantizationUtils.js */ "./node_modules/@arcgis/core/geometry/support/quantizationUtils.js");
/* harmony import */ var _layers_graphics_OptimizedGeometry_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../../layers/graphics/OptimizedGeometry.js */ "./node_modules/@arcgis/core/layers/graphics/OptimizedGeometry.js");
/* harmony import */ var _layers_support_FieldsIndex_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../../../layers/support/FieldsIndex.js */ "./node_modules/@arcgis/core/layers/support/FieldsIndex.js");
/* harmony import */ var _rest_query_operations_pbfFeatureServiceParser_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../../../rest/query/operations/pbfFeatureServiceParser.js */ "./node_modules/@arcgis/core/rest/query/operations/pbfFeatureServiceParser.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
class u{constructor(e){this._reader=new _core_pbf_js__WEBPACK_IMPORTED_MODULE_1__["default"](new Uint8Array(e),new DataView(e)),this._index=g(this._reader)}get featureCount(){return this._index.featureIndices.length}get exceededTransferLimit(){return this._index.exceededTransferLimit}get usedMemory(){return this._reader.usedMemory}getObjectId(e){return this.getAttribute(e,this._index.objectIdFieldName)}getAttribute(e,t){const{_index:{fieldsIndex:r,attributeIndices:s}}=this,n=r.get(t)?.index;if(null==n)return;const o=s[e*r.fields.length+n],i=this._reader;return i.move(o),m(i)}getAttributeAsTimestamp(e,t){const r=this.getAttribute(e,t);return"string"==typeof r?new Date(r).getTime():"number"==typeof r||null==r?r:null}getAttributes(e){const{_index:{fieldsIndex:t,attributeIndices:r}}=this,s=e*t.fields.length,n=this._reader,o={};for(const i of t.fields){const e=r[s+i.index];n.move(e),o[i.name]=m(n)}return o}getCoordinates(e,t,r=0){const s=this._reader,{transform:n,featureIndices:o}=this._index,{scale:i,translate:a}=n;s.move(o[e]),this._readCoordinates(i,a,t,r)}getOptimizedGeometry(e){const t=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_2__.create)();return this.getCoordinates(e,t),new _layers_graphics_OptimizedGeometry_js__WEBPACK_IMPORTED_MODULE_6__["default"]([],t)}getCentroid(e,{hasZ:t,hasM:r}){this.getCoordinates(e,p);const[s,n,o]=p,a=[s,n];return t&&(a[3]=o),r&&(a[t?4:3]=0),new _layers_graphics_OptimizedGeometry_js__WEBPACK_IMPORTED_MODULE_6__["default"]([],a)}getBounds(e){this.getCoordinates(e,p);const[t,r]=p,n=new _core_libs_rbush_PooledRBush_js__WEBPACK_IMPORTED_MODULE_3__.BBox;return n.minX=t,n.minY=r,n.maxX=t,n.maxY=r,n}getBoundingBox(e){this.getCoordinates(e,p);const[t,r,s]=p;return (0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_4__.fromValues)(t,r,s,t,r,s)}getObjectIdsArray(e,t=this._allFeatureIndices(),r=0){const s=this._reader,{objectIdFieldName:n,attributeIndices:o,fieldsIndex:i}=this._index,a=i.get(n).index,d=i.fields.length;for(const c of t){const t=o[c*d+a];s.move(t),e[r++]=m(s)}return r}getCoordinatesArray(e,t=this._allFeatureIndices(),r=0){const s=this._reader,{transform:n,featureIndices:o}=this._index,{scale:i,translate:a}=n;for(const d of t){const t=o[d];s.move(t),r=this._readCoordinates(i,a,e,r)}return r}*objectIds(e=this._allFeatureIndices()){const t=this._reader,{objectIdFieldName:r,attributeIndices:s,fieldsIndex:n}=this._index,o=n.get(r).index,i=n.fields.length;for(const a of e){const e=s[a*i+o];t.move(e),yield m(t)}}*_allFeatureIndices(){const{featureCount:e}=this;for(let t=0;t<e;++t)yield t}_readCoordinates([e,t,r],[s,n,o],i,a){const d=2,c=3,u=this._reader,g=u.getLength(),l=u.pos()+g;for(;u.pos()<l&&u.next();)switch(u.tag()){case d:{const d=u.getLength(),g=u.pos()+d;for(;u.pos()<g&&u.next();)if(u.tag()===c)u.getUInt32(),i[a++]=s+e*u.getSInt64(),i[a++]=n+t*u.getSInt64(),i[a++]=o+r*u.getSInt64();else u.skip();break}default:u.skip()}return a}}function g(e){const t=2;for(;e.next();){if(e.tag()===t)return l(e.getMessage());e.skip()}h()}function l(e){const t=1;for(;e.next();){if(e.tag()===t)return f(e.getMessage());e.skip()}h()}function f(e){const t=9,r=12,s=13,n=15,i=7,u=0,g=10,l=1,f=1;let m,p,x=!1,I=!1,b=0;const _=new Array,w=new Array,y=new Array;for(;e.next();)switch(e.tag()){case f:p=e.getString();break;case i:e.getEnum()!==u&&h();break;case t:x=e.getBool()??!1;break;case r:m=(0,_geometry_support_quantizationUtils_js__WEBPACK_IMPORTED_MODULE_5__.normalizeTransform)(e.processMessage(_rest_query_operations_pbfFeatureServiceParser_js__WEBPACK_IMPORTED_MODULE_8__.parseTransform));break;case s:{const t=e.processMessage(_rest_query_operations_pbfFeatureServiceParser_js__WEBPACK_IMPORTED_MODULE_8__.parseField);t.index=b++,_.push(t);break}case n:{w.push(e.pos());const t=e.getUInt32(),r=e.pos()+t;for(;e.pos()<r&&e.next();)if(e.tag()===l)y.push(e.pos()),e.skip();else e.skip();break}case g:I=e.getBool()??!1;break;default:e.skip()}const j=new _layers_support_FieldsIndex_js__WEBPACK_IMPORTED_MODULE_7__["default"](_);return null!=m&&I&&null!=p&&j.has(p)||h(),{transform:m,exceededTransferLimit:x,fieldsIndex:j,objectIdFieldName:p,featureIndices:w,attributeIndices:y}}function h(){const t=new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("pbf-parsing-failed","Error while parsing PBF",new Error);throw console.error(t),t}function m(e){const t=1,r=2,s=3,n=4,o=5,i=6,a=7,d=8,c=9,u=e.getLength(),g=e.pos()+u;for(;e.pos()<g&&e.next();)switch(e.tag()){case t:return e.getString();case r:return e.getFloat();case s:return e.getDouble();case n:return e.getSInt32();case o:return e.getUInt32();case i:return e.getInt64();case a:return e.getUInt64();case d:return e.getSInt64();case c:return e.getBool();default:return e.skip(),null}return null}const p=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_2__.create)();


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/graphics/pipeline/featureSet/TiledFeatureStore.js":
/*!*****************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/graphics/pipeline/featureSet/TiledFeatureStore.js ***!
  \*****************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   FeatureHandle: () => (/* binding */ u),
/* harmony export */   TiledFeatureStore: () => (/* binding */ h)
/* harmony export */ });
/* harmony import */ var _core_Evented_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../core/Evented.js */ "./node_modules/@arcgis/core/core/Evented.js");
/* harmony import */ var _core_memoryEstimations_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../../core/memoryEstimations.js */ "./node_modules/@arcgis/core/core/memoryEstimations.js");
/* harmony import */ var _core_libs_rbush_PooledRBush_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../../core/libs/rbush/PooledRBush.js */ "./node_modules/@arcgis/core/core/libs/rbush/PooledRBush.js");
/* harmony import */ var _layers_graphics_centroid_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../../layers/graphics/centroid.js */ "./node_modules/@arcgis/core/layers/graphics/centroid.js");
/* harmony import */ var _layers_graphics_OptimizedGeometry_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../../../layers/graphics/OptimizedGeometry.js */ "./node_modules/@arcgis/core/layers/graphics/OptimizedGeometry.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
class u{constructor(t,e){this._index=t,this._view=e}get usedMemory(){return _core_memoryEstimations_js__WEBPACK_IMPORTED_MODULE_1__.baseObjectMemory+_core_memoryEstimations_js__WEBPACK_IMPORTED_MODULE_1__.estimateNumberMemory}getObjectId(){return this._view.getObjectId(this._index)}getAttribute(t){return this._view.getAttribute(this._index,t)}getAttributeAsTimestamp(t){return this._view.getAttributeAsTimestamp(this._index,t)}getAttributes(){return this._view.getAttributes(this._index)}getOptimizedGeometry(){return this._view.getOptimizedGeometry(this._index)}getCentroid(t){return this._view.getCentroid(this._index,t)}getBounds(){return this._view.getBounds(this._index)}getBoundingBox(){return this._view.getBoundingBox(this._index)}cloneWithGeometry(t){return new d(this._index,this._view,t)}}class d extends u{constructor(t,e,i){super(t,e),this._geometryOverride=i}getOptimizedGeometry(){return this._geometryOverride}getCentroid(t){return (0,_layers_graphics_centroid_js__WEBPACK_IMPORTED_MODULE_3__.getCentroidOptimizedGeometry)(new _layers_graphics_OptimizedGeometry_js__WEBPACK_IMPORTED_MODULE_4__["default"],this._geometryOverride,t.hasZ,t.hasM)}}class a{constructor(t,e){this.featureData=t,this.bounds=e}}class h{constructor(){this._tileBounds=new Map,this.events=new _core_Evented_js__WEBPACK_IMPORTED_MODULE_0__["default"],this.featureAdapter=m.shared}get usedMemory(){return _core_memoryEstimations_js__WEBPACK_IMPORTED_MODULE_1__.baseObjectMemory+_core_memoryEstimations_js__WEBPACK_IMPORTED_MODULE_1__.baseObjectMemory*this._tileBounds.size}addTile(t){const{featureCount:e}=t;if(0===e)return;const i=new _core_libs_rbush_PooledRBush_js__WEBPACK_IMPORTED_MODULE_2__.PooledRBush(9,(e=>t.getBounds(e))),s=new Array;for(let r=0;r<e;++r)s[r]=r;i.load(s),this._tileBounds.set(t.id,new a(t,i)),this.events.emit("changed")}removeTile(t){this._tileBounds.delete(t),this.events.emit("changed")}clear(){this._tileBounds.clear(),this.events.emit("changed")}forEach(t){for(const{featureData:e,bounds:i}of this._tileBounds.values())i.all((i=>{e.getEnabled(i)&&t(new u(i,e))}))}forEachInBounds(t,e){g.minX=t[0],g.minY=t[1],g.maxX=t[2],g.maxY=t[3];for(const{featureData:i,bounds:r}of this._tileBounds.values())r.search(g,(t=>{i.getEnabled(t)&&e(new u(t,i))}))}forEachBounds(t,e){for(const i of t)e(i.getBoundingBox())}getFullExtent(t){let e=1/0,i=1/0,r=-1/0,s=-1/0;for(const{bounds:n}of this._tileBounds.values()){const{minX:t,minY:o,maxX:u,maxY:d}=n.toJSON();e=Math.min(e,t),i=Math.min(i,o),r=Math.min(r,u),s=Math.min(s,d)}return{xmin:e,ymin:i,xmax:r,ymax:s,spatialReference:t}}}class m{static{this.shared=new m}getObjectId(t){return t.getObjectId()}getAttribute(t,e){return t.getAttribute(e)}getAttributeAsTimestamp(t,e){return t.getAttributeAsTimestamp(e)}getAttributes(t){return t.getAttributes()}getGeometry(t){return t.getOptimizedGeometry()}getCentroid(t,e){return t.getCentroid(e)}cloneWithGeometry(t,e){return t.cloneWithGeometry(e)}}const g=new _core_libs_rbush_PooledRBush_js__WEBPACK_IMPORTED_MODULE_2__.BBox;


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/graphics/pipeline/fetching/Tile3DFetcher.js":
/*!***********************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/graphics/pipeline/fetching/Tile3DFetcher.js ***!
  \***********************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Tile3DFetcher: () => (/* binding */ c)
/* harmony export */ });
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../../geometry/support/aaBoundingRect.js */ "./node_modules/@arcgis/core/geometry/support/aaBoundingRect.js");
/* harmony import */ var _rest_query_operations_query_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../../rest/query/operations/query.js */ "./node_modules/@arcgis/core/rest/query/operations/query.js");
/* harmony import */ var _Tile_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../Tile.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/pipeline/Tile.js");
/* harmony import */ var _featureSet_PBFPointFeatureSetView_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../featureSet/PBFPointFeatureSetView.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/pipeline/featureSet/PBFPointFeatureSetView.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
const i=8e3,a=4,n=4;class c{constructor(e,t,r,o,s){this.spatialReference=e,this.url=r,this.objectIdField=o,this.capabilities=s;const{supportsMaxRecordCountFactor:n,maxRecordCount:c}=this.capabilities.query,u=n?a:1,p=(c??i)*u;this._pageSize=Math.min(i,p);const l=t.clone();l.cacheHint=!0,l.resultType="tile",l.outSpatialReference=e,l.returnGeometry=!0,l.returnZ=!0,l.maxRecordCountFactor=u,l.num=this._pageSize,l.outFields=[o],this._baseQuery=l}async fetch(r,s){const{spatialReference:i,_pageSize:a}=this,c=(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_1__.toExtent)(r.extent,i),u=this._baseQuery.clone();u.geometry=c;const p=new Array;let l=0,h=!1,m=1;for(;!h;){const t=[];for(let e=0;e<m;++e)t.push(this._fetchPage(u,l++,s));const r=await Promise.all(t);(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_0__.throwIfAborted)(s);for(const e of r){const t=0!==e.featureCount;h||=!e.exceededTransferLimit||!t,t&&p.push(e)}m=Math.min(m+1,n)}return new _Tile_js__WEBPACK_IMPORTED_MODULE_3__.Tile(r,p,a)}async _fetchPage(t,o,i){const a=t.clone();a.start=o*this._pageSize;const n=(await (0,_rest_query_operations_query_js__WEBPACK_IMPORTED_MODULE_2__.executeQueryPBFBuffer)(this.url,a,{signal:i})).data;return (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_0__.throwIfAborted)(i),new _featureSet_PBFPointFeatureSetView_js__WEBPACK_IMPORTED_MODULE_4__.PBFPointFeatureSetView(n)}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/graphics/pipeline/rendering/RenderCommandContext.js":
/*!*******************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/graphics/pipeline/rendering/RenderCommandContext.js ***!
  \*******************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   RenderCommandContext: () => (/* binding */ l)
/* harmony export */ });
/* harmony import */ var _core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../core/libs/gl-matrix-2/math/mat4.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/math/mat4.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_mat4f64_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../../core/libs/gl-matrix-2/factories/mat4f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/mat4f64.js");
/* harmony import */ var _geometry_support_Indices_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../../geometry/support/Indices.js */ "./node_modules/@arcgis/core/geometry/support/Indices.js");
/* harmony import */ var _ViewingMode_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../ViewingMode.js */ "./node_modules/@arcgis/core/views/ViewingMode.js");
/* harmony import */ var _PipelineCommand_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../PipelineCommand.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/pipeline/PipelineCommand.js");
/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../utils.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/pipeline/utils.js");
/* harmony import */ var _webgl_engine_lib_BoundingInfo_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../webgl-engine/lib/BoundingInfo.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/BoundingInfo.js");
/* harmony import */ var _webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../webgl-engine/lib/VertexAttribute.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/VertexAttribute.js");
/* harmony import */ var _webgl_engine_materials_DefaultMaterial_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../webgl-engine/materials/DefaultMaterial.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/materials/DefaultMaterial.js");
/* harmony import */ var _webgl_engine_materials_HUDMaterial_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../webgl-engine/materials/HUDMaterial.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/materials/HUDMaterial.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
class l{constructor(e,r){this._mainThreadDelegate=r,this._bufferWriters=new Map,this.globalViewingMode=e===_ViewingMode_js__WEBPACK_IMPORTED_MODULE_3__.ViewingMode.Global}createRenderCommandBuffer(e=[],r=[]){return{commands:e,transferList:r}}mergeRenderCommandBuffers(e){const r=this.createRenderCommandBuffer();for(const t of e)null!=t&&(r.commands.push(...t.commands),r.transferList.push(...t.transferList));return r}async createTexture(e){const{data:r,parameters:t}=e();return await this._mainThreadDelegate.createTexture(r,t)}async releaseTexture(e){const r=this._destroyTexture(e);return new _PipelineCommand_js__WEBPACK_IMPORTED_MODULE_4__.PipelineCommand(this,r,[])}_destroyTexture(e){return{commands:[{id:"destroy-texture",textureId:e}],transferList:[]}}async createMaterial(e){const{type:r,parameters:t}=e,n=(0,_utils_js__WEBPACK_IMPORTED_MODULE_5__.generateId)("material");let a,i;switch(r){case"default":a=new _webgl_engine_materials_DefaultMaterial_js__WEBPACK_IMPORTED_MODULE_8__.DefaultMaterial(e.parameters,{spherical:this.globalViewingMode}),i={type:r,materialId:n,parameters:e.parameters};break;case"hud":a=new _webgl_engine_materials_HUDMaterial_js__WEBPACK_IMPORTED_MODULE_9__.HUDMaterial(t,this.globalViewingMode),i={type:r,materialId:n,parameters:e.parameters}}return this._bufferWriters.set(n,a.createBufferWriter()),await this._mainThreadDelegate.createMaterial(i),n}destroyMaterial(e){return{commands:[{id:"destroy-material",materialId:e}],transferList:[]}}updateMaterial(e){return{commands:[{...e,id:"update-material"}],transferList:[]}}async createDirectRenderer(e){return await this._mainThreadDelegate.createDirectRenderer(e),e}async destroyDirectRenderer(e){await this._mainThreadDelegate.destroyDirectRenderer(e)}addDirectRendererGeometry(e,r,t){const{materialId:n}=r;if(null==this._bufferWriters.get(n))throw new Error(`no bufferwriter found for material ${n}`);const{renderGeometryBuffer:a,renderGeometryBufferItems:i}=this.createRenderGeometryBuffer(r,t);return this.addDirectRendererGeometryBuffer(n,e,a,i,t)}updateDirectRendererGeometry(e,r,t){const{materialId:n}=r;if(null==this._bufferWriters.get(n))throw new Error(`no bufferwriter found for material ${n}`);const{renderGeometryBuffer:a,renderGeometryBufferItems:i}=this.createRenderGeometryBuffer(r,t);return this.updateDirectRendererGeometryBuffer(n,e,a,i,t)}addDirectRendererGeometryBuffer(e,r,t,n,a){const{objectIds:i,visibilities:s}=n;return{commands:[{id:"add-direct-renderer-geometry-buffer",rendererId:e,groupId:r,renderGeometryBuffer:t,renderGeometryBufferItems:n,localOrigin:a}],transferList:[t.data,i.buffer,s.buffer]}}updateDirectRendererGeometryBuffer(e,r,t,n,a){const{objectIds:i,visibilities:s}=n;return{commands:[{id:"update-direct-renderer-geometry-buffer",rendererId:e,groupId:r,renderGeometryBuffer:t,renderGeometryBufferItems:n,localOrigin:a}],transferList:[t.data,i.buffer,s.buffer]}}removeDirectRendererGeometryBuffer(e,r){return{commands:[{id:"remove-direct-renderer-geometry-buffer",rendererId:e,groupId:r}],transferList:[]}}async createLodRenderer(e){const r=(0,_utils_js__WEBPACK_IMPORTED_MODULE_5__.generateId)("lod-renderer"),t=new Set,n={levels:e.levels.map((e=>({components:e.components.map((e=>{const r=e.attributes.get(_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_7__.VertexAttribute.POSITION);if(!r||0===r.indices.length)throw new Error("positions attribute expected");const n=3,i=(0,_geometry_support_Indices_js__WEBPACK_IMPORTED_MODULE_2__.getContinuousIndexArray)(r.indices.length/n),s=new _webgl_engine_lib_BoundingInfo_js__WEBPACK_IMPORTED_MODULE_6__.BoundingInfo(i,n,r);if(null==this._bufferWriters.get(e.materialId))throw new Error("writer not found");const{renderGeometryBuffer:o}=this.createRenderGeometryBuffer(e,null);t.add(o.data);return{materialId:e.materialId,renderGeometryBuffer:o,boundingInfo:{bbMax:s.bbMax,bbMin:s.bbMin}}})),minScreenSpaceRadius:e.minScreenSpaceRadius})))};return await this._mainThreadDelegate.createLodRenderer(r,n,Array.from(t)),r}destroyLodRenderer(e){return{commands:[{id:"destroy-lod-renderer",rendererId:e}],transferList:[]}}addLodInstances(e,r,t){return{commands:[{id:"add-lod-instances",rendererId:e,groupId:r,data:t}],transferList:[t.featureIds.buffer,t.globalTransforms.buffer,t.localTransforms.buffer,t.visibility.buffer]}}removeLodInstances(e,r){return{commands:[{id:"remove-lod-instances",rendererId:e,groupId:r}],transferList:[]}}updateLodInstancesData(e,r,t){return{commands:[{id:"update-lod-instance-data",rendererId:e,groupId:r,globalTransforms:t}],transferList:[t.buffer]}}updateVisibility(e,r,t){return{commands:[{id:"update-visibility",rendererId:e,groupId:r,visibility:t}],transferList:[t.buffer]}}async dispatchRenderCommands(e){0!==e.commands.length&&await this._mainThreadDelegate.executeRenderCommands(e)}createRenderGeometryBuffer(n,a){const{materialId:i,visibilities:s,objectIds:o}=n,d=this._bufferWriters.get(i);if(null==d)throw new Error("no registered bufferWriter for material found");let m=null;if(n.transformation&&a)(0,_core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_0__.copy)(c,n.transformation),c[12]-=a[0],c[13]-=a[1],c[14]-=a[2],m=c;else{if(a)throw new Error("not implemented");n.transformation&&(m=n.transformation)}let f=null;m&&((0,_core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_0__.invert)(b,c),(0,_core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_0__.transpose)(b,b),f=b);const u=n.attributes,l=d.elementCount(u),y=d.vertexBufferLayout.stride/4;l>Math.floor(p/y)&&console.warn("geometry with very large number of elements encountered");const g=d.vertexBufferLayout.createBuffer(l),h=0,I=d.write(m,f,u,n.objectAndLayerIdColor,g,h);if(null==I)throw new Error("Bufferwriter.write does not provide item information.");if(s.length!==I.numItems||o.length!==I.numItems)throw new Error("Unexpected mismatch between number of RenderGeometryBufferItems and provided objectIds/visibility flags.");return{renderGeometryBuffer:{data:g.buffer,elementCount:l},renderGeometryBufferItems:{objectIds:o,visibilities:s,ranges:{numVertices:I.numVerticesPerItem,numItems:I.numItems}}}}}const c=(0,_core_libs_gl_matrix_2_factories_mat4f64_js__WEBPACK_IMPORTED_MODULE_1__.create)(),b=(0,_core_libs_gl_matrix_2_factories_mat4f64_js__WEBPACK_IMPORTED_MODULE_1__.create)(),p=16777216/4;


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/graphics/pipeline/symbolization/IconSymbolLayerRenderer.js":
/*!**************************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/graphics/pipeline/symbolization/IconSymbolLayerRenderer.js ***!
  \**************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   IconSymbolLayerRenderer: () => (/* binding */ f),
/* harmony export */   defaultMaterialOptions: () => (/* binding */ b),
/* harmony export */   getPrimitive: () => (/* binding */ x),
/* harmony export */   isOutlineOnly: () => (/* binding */ g),
/* harmony export */   transparentUnit: () => (/* binding */ w)
/* harmony export */ });
/* harmony import */ var _Color_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../Color.js */ "./node_modules/@arcgis/core/Color.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_mat4f64_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../../core/libs/gl-matrix-2/factories/mat4f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/mat4f64.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../../core/libs/gl-matrix-2/factories/vec3f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/vec3f64.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_vec4f64_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../../core/libs/gl-matrix-2/factories/vec4f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/vec4f64.js");
/* harmony import */ var _symbols_support_IconSymbol3DLayerResource_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../../../symbols/support/IconSymbol3DLayerResource.js */ "./node_modules/@arcgis/core/symbols/support/IconSymbol3DLayerResource.js");
/* harmony import */ var _graphicUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../graphicUtils.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/graphicUtils.js");
/* harmony import */ var _placementUtils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../placementUtils.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/placementUtils.js");
/* harmony import */ var _PipelineCommand_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../PipelineCommand.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/pipeline/PipelineCommand.js");
/* harmony import */ var _featureData_processingUtils_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../featureData/processingUtils.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/pipeline/featureData/processingUtils.js");
/* harmony import */ var _symbolizationUtils_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./symbolizationUtils.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/pipeline/symbolization/symbolizationUtils.js");
/* harmony import */ var _support_engineContent_sdfPrimitives_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../support/engineContent/sdfPrimitives.js */ "./node_modules/@arcgis/core/views/3d/support/engineContent/sdfPrimitives.js");
/* harmony import */ var _webgl_engine_lib_Attribute_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../webgl-engine/lib/Attribute.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/Attribute.js");
/* harmony import */ var _webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../../webgl-engine/lib/VertexAttribute.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/VertexAttribute.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
class f{constructor(e,t){this._context=null,this._symbolLayer=null,this._draped=!1,this._loaded=!1,this._loadingPromise=null,this._iconTextureID=null,this._materialId=null,this._context=t,this._symbolLayer=e}get loaded(){return this._loaded}load(){return null==this._loadingPromise&&(this._loadingPromise=this._load()),this._loadingPromise}_destroy(){this._iconTextureID=null}async _load(){const e=this._context.renderCommandContext,t=await e.createTexture((()=>(0,_support_engineContent_sdfPrimitives_js__WEBPACK_IMPORTED_MODULE_10__.createTextureInfo)("circle")));this._iconTextureID=t;const r={anchorPosition:_placementUtils_js__WEBPACK_IMPORTED_MODULE_6__.namedAnchorToHUDMaterialAnchorPos.center,occlusionTest:!0,hasSlicePlane:!1,color:this._getFillColor(),outlineColor:this._getOutlineColor(),outlineSize:1,distanceFieldBoundingBox:_support_engineContent_sdfPrimitives_js__WEBPACK_IMPORTED_MODULE_10__.defaultBoundingBox,textureId:t,textureIsSignedDistanceField:!0,sampleSignedDistanceFieldTexelCenter:(0,_support_engineContent_sdfPrimitives_js__WEBPACK_IMPORTED_MODULE_10__.requiresHalfTexelOffset)("circle")};this._materialId=await e.createMaterial({type:"hud",parameters:r}),await e.createDirectRenderer(this._materialId),this._loaded=!0}async createAddCommand(e){const{_materialId:t,_context:r}=this,{renderCommandContext:i}=r;if(null==t)throw new Error("expected material not to be null");const n=await this._createGeometry(e);if(null==n)return r.createPipelineCommand();const o=(0,_featureData_processingUtils_js__WEBPACK_IMPORTED_MODULE_8__.computeTileCenterRenderCoordinates)(e,r);return r.createPipelineCommand(i.addDirectRendererGeometry(e.id,n,o))}async _createGeometry(e){const{_materialId:r,_context:i}=this,{mainThreadDelegate:n}=i,{featureCount:o}=e;if(0===o||null==r)return null;const a=(0,_featureData_processingUtils_js__WEBPACK_IMPORTED_MODULE_8__.readObjectIds)(e),l=(0,_featureData_processingUtils_js__WEBPACK_IMPORTED_MODULE_8__.readMapCoordinates)(e),s=await n.applyElevationAlignmentTo(l),y=(0,_featureData_processingUtils_js__WEBPACK_IMPORTED_MODULE_8__.projectToRenderCoordinates)(s,i),p=new Float64Array([0,0,1]),_=new Float64Array([255,255,255,255]),f=new Float64Array([24,24]),g=new Float64Array([0,0,0,1]),x=new Float64Array([0,0]),b=new Float64Array([0]),w=new Uint32Array(o);for(let t=0;t<o;++t)w[t]=t;const I=new Uint32Array(o);for(let t=0;t<o;++t)I[t]=0;const P=new _webgl_engine_lib_Attribute_js__WEBPACK_IMPORTED_MODULE_11__.Attribute(y,w,3,!0),A=new _webgl_engine_lib_Attribute_js__WEBPACK_IMPORTED_MODULE_11__.Attribute(p,I,3,!0),O=new _webgl_engine_lib_Attribute_js__WEBPACK_IMPORTED_MODULE_11__.Attribute(x,I,2,!0),D=new _webgl_engine_lib_Attribute_js__WEBPACK_IMPORTED_MODULE_11__.Attribute(_,I,4,!0),T=new _webgl_engine_lib_Attribute_js__WEBPACK_IMPORTED_MODULE_11__.Attribute(b,I,1,!0),j=new _webgl_engine_lib_Attribute_js__WEBPACK_IMPORTED_MODULE_11__.Attribute(f,I,2,!0),F=new _webgl_engine_lib_Attribute_js__WEBPACK_IMPORTED_MODULE_11__.Attribute(g,I,4,!0),U=[[_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_12__.VertexAttribute.POSITION,P],[_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_12__.VertexAttribute.NORMAL,A],[_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_12__.VertexAttribute.UV0,O],[_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_12__.VertexAttribute.COLOR,D],[_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_12__.VertexAttribute.ROTATION,T],[_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_12__.VertexAttribute.SIZE,j],[_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_12__.VertexAttribute.CENTEROFFSETANDDISTANCE,F]],v=new Uint8Array(o);e.getVisibilityArray(v);return{attributes:(0,_symbolizationUtils_js__WEBPACK_IMPORTED_MODULE_9__.inputAttributesToAttributesMap)(U),objectAndLayerIdColor:void 0,transformation:(0,_core_libs_gl_matrix_2_factories_mat4f64_js__WEBPACK_IMPORTED_MODULE_1__.create)(),materialId:r,objectIds:a,visibilities:v}}async createRemoveCommand(e){const{_materialId:t,_context:r}=this,i=r.renderCommandContext;return null==t?r.createPipelineCommand():r.createPipelineCommand(i.removeDirectRendererGeometryBuffer(t,e))}async createUpdateVisibilityCommand(e){const{_materialId:t,_context:r}=this,i=r.renderCommandContext;if(null==t)return r.createPipelineCommand();const n=new Uint8Array(e.featureCount);return e.getVisibilityArray(n),r.createPipelineCommand(i.updateVisibility(t,e.id,n))}async createUpdateLayerViewOpacityCommand(e){const{_context:t,_materialId:r}=this,i=t.renderCommandContext;return null==r?t.createPipelineCommand():t.createPipelineCommand(i.updateMaterial({type:"hud",materialId:r,parameters:{color:this._getFillColor(),outlineColor:this._getOutlineColor()}}))}async createUpdateElevationCommand(e){const{_materialId:t,_context:r}=this,{renderCommandContext:i}=r,{featureCount:n,id:o}=e;if(null==t||0===n)return r.createPipelineCommand();const a=await this._createGeometry(e);if(null==a)return r.createPipelineCommand();const l=(0,_featureData_processingUtils_js__WEBPACK_IMPORTED_MODULE_8__.computeTileCenterRenderCoordinates)(e,r);return r.createPipelineCommand(i.updateDirectRendererGeometry(o,a,l))}async createDestroyCommand(){const{_iconTextureID:e,_context:t}=this,r=t.renderCommandContext;let i;return i=null!=e?await r.releaseTexture(e):_PipelineCommand_js__WEBPACK_IMPORTED_MODULE_7__.PipelineCommand.create(r),i.appendPipelineStateCommand((()=>this._destroy())),i}_getOutlineColor(){const t=this._getLayerOpacity(),r=this._symbolLayer,i=r?.outline?.color;if(null!=i){const r=_Color_js__WEBPACK_IMPORTED_MODULE_0__["default"].toUnitRGB(i),n=i.a*t;return[r[0],r[1],r[2],n]}return[0,0,0,0]}_getFillColor(){if(g(this._getPrimitive()))return w;const e=null==this._getPrimitive(),t=this._symbolLayer?.material?.color;return this._getCombinedOpacityAndColor(t,{hasIntrinsicColor:e})}_getLayerOpacity(){return this._context.layerViewInfo.fullOpacity}_getCombinedOpacity(e,t=b){const r=this._draped?1:this._getLayerOpacity();return e?r*e.a:t.hasIntrinsicColor?r:0}_getCombinedOpacityAndColor(t,i=b){const n=this._getCombinedOpacity(t,i),a=null!=t?_Color_js__WEBPACK_IMPORTED_MODULE_0__["default"].toUnitRGB(t):_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_2__.ONES;return (0,_graphicUtils_js__WEBPACK_IMPORTED_MODULE_5__.mixinColorAndOpacity)(a,n)}_getPrimitive(){return x(this._symbolLayer)}}function g(e){return null!=e&&("cross"===e||"x"===e)}function x(e){return e.resource?.href?null:e.resource?.primitive??_symbols_support_IconSymbol3DLayerResource_js__WEBPACK_IMPORTED_MODULE_4__.defaultPrimitive}const b={hasIntrinsicColor:!1},w=_core_libs_gl_matrix_2_factories_vec4f64_js__WEBPACK_IMPORTED_MODULE_3__.ZEROS;


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/graphics/pipeline/symbolization/ObjectSymbolLayerRenderer.js":
/*!****************************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/graphics/pipeline/symbolization/ObjectSymbolLayerRenderer.js ***!
  \****************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ObjectSymbolLayerRenderer: () => (/* binding */ w)
/* harmony export */ });
/* harmony import */ var _core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../core/libs/gl-matrix-2/math/mat4.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/math/mat4.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_mat4f64_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../../core/libs/gl-matrix-2/factories/mat4f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/mat4f64.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../../core/libs/gl-matrix-2/factories/vec3f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/vec3f64.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_vec4f64_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../../core/libs/gl-matrix-2/factories/vec4f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/vec4f64.js");
/* harmony import */ var _geometry_projection_computeTranslationToOriginAndRotation_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../../../geometry/projection/computeTranslationToOriginAndRotation.js */ "./node_modules/@arcgis/core/geometry/projection/computeTranslationToOriginAndRotation.js");
/* harmony import */ var _geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../../../geometry/support/aaBoundingBox.js */ "./node_modules/@arcgis/core/geometry/support/aaBoundingBox.js");
/* harmony import */ var _symbols_support_ObjectSymbol3DLayerResource_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../../symbols/support/ObjectSymbol3DLayerResource.js */ "./node_modules/@arcgis/core/symbols/support/ObjectSymbol3DLayerResource.js");
/* harmony import */ var _symbols_support_symbolLayerUtils3D_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../../../symbols/support/symbolLayerUtils3D.js */ "./node_modules/@arcgis/core/symbols/support/symbolLayerUtils3D.js");
/* harmony import */ var _graphicUtils_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../graphicUtils.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/graphicUtils.js");
/* harmony import */ var _primitiveObjectSymbolUtils_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../primitiveObjectSymbolUtils.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/primitiveObjectSymbolUtils.js");
/* harmony import */ var _PipelineCommand_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../PipelineCommand.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/pipeline/PipelineCommand.js");
/* harmony import */ var _featureData_processingUtils_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../featureData/processingUtils.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/pipeline/featureData/processingUtils.js");
/* harmony import */ var _primitiveObjectUtils_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./primitiveObjectUtils.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/pipeline/symbolization/primitiveObjectUtils.js");
/* harmony import */ var _webgl_engine_lib_basicInterfaces_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../../webgl-engine/lib/basicInterfaces.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/basicInterfaces.js");
/* harmony import */ var _webgl_engine_materials_DefaultMaterial_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../../webgl-engine/materials/DefaultMaterial.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/materials/DefaultMaterial.js");
/* harmony import */ var _webgl_engine_materials_pbrUtils_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../../webgl-engine/materials/pbrUtils.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/materials/pbrUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
class w{constructor(e,t){this._loaded=!1,this._loadingPromise=null,this._primitiveMaterialId=null,this._lodRendererId=null,this._context=null,this._symbolLayer=null,this._primitive=null,this._context=t,this._symbolLayer=e}_destroy(){this._lodRendererId=null,this._primitiveMaterialId=null}get loaded(){return this._loaded}get _isPrimitive(){return null!=this._primitive}load(){return null==this._loadingPromise&&(this._loadingPromise=this._load()),this._loadingPromise}async _load(){const e=this._context.renderCommandContext,t={physicalBasedRenderingEnabled:!0,slicePlaneEnabled:!1,castShadows:!0},r=this._getLayerOpacity();let a={usePBR:t.physicalBasedRenderingEnabled,isSchematic:!0,mrrFactors:_webgl_engine_materials_pbrUtils_js__WEBPACK_IMPORTED_MODULE_15__.schematicMRRFactors,ambient:_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_2__.ONES,diffuse:_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_2__.ONES,hasSlicePlane:t.slicePlaneEnabled,castShadows:t.castShadows,layerOpacity:r,offsetTransparentBackfaces:!1,screenSizePerspective:{}};if(a.externalColor=_core_libs_gl_matrix_2_factories_vec4f64_js__WEBPACK_IMPORTED_MODULE_3__.ONES,a.isInstanced=!0,this._isPrimitive){const e=new _webgl_engine_materials_DefaultMaterial_js__WEBPACK_IMPORTED_MODULE_14__.DefaultMaterialParameters;e.layerOpacity=r,a={...a,cullFace:P((0,_webgl_engine_materials_DefaultMaterial_js__WEBPACK_IMPORTED_MODULE_14__.isTransparent)(e))}}const n=await e.createMaterial({type:"default",parameters:a}),s=this._symbolLayer.resource;this._primitive=s&&(0,_primitiveObjectSymbolUtils_js__WEBPACK_IMPORTED_MODULE_9__.isValidPrimitive)(s?.primitive)?s.primitive:_symbols_support_ObjectSymbol3DLayerResource_js__WEBPACK_IMPORTED_MODULE_6__.defaultPrimitive;const l=(0,_primitiveObjectUtils_js__WEBPACK_IMPORTED_MODULE_12__.createPrimitiveGeometry)(this._primitive,n);this._lodRendererId=await e.createLodRenderer(l),this._primitiveMaterialId=n,this._loaded=!0}async createDestroyCommand(){const{_lodRendererId:e,_primitiveMaterialId:t,_context:r}=this,i=r.renderCommandContext,a=[];return null!=e&&a.push(i.destroyLodRenderer(e)),null!=t&&a.push(i.destroyMaterial(t)),new _PipelineCommand_js__WEBPACK_IMPORTED_MODULE_10__.PipelineCommand(i,i.mergeRenderCommandBuffers(a),[()=>this._destroy()])}async createAddCommand(e){const t=this._context,{renderCommandContext:r,mainThreadDelegate:i}=t;if(null==this._lodRendererId)throw new Error("expected lod renderer id to not be null");const{featureCount:n}=e;if(0===n)return t.createPipelineCommand();const o=this._isPrimitive,s=this._primitive||_symbols_support_ObjectSymbol3DLayerResource_js__WEBPACK_IMPORTED_MODULE_6__.defaultPrimitive,u=(0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_5__.create)((0,_symbols_support_symbolLayerUtils3D_js__WEBPACK_IMPORTED_MODULE_7__.objectSymbolLayerPrimitiveBoundingBox)(s)),h=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_2__.fromArray)((0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_5__.size)(u)),y=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_2__.fromArray)((0,_symbols_support_symbolLayerUtils3D_js__WEBPACK_IMPORTED_MODULE_7__.objectSymbolLayerSizeWithResourceSize)(h,{isPrimitive:o,width:100,depth:null,height:null})),b=new Float64Array(16*n),C=new Float64Array(16*n),g=(0,_featureData_processingUtils_js__WEBPACK_IMPORTED_MODULE_11__.readMapCoordinates)(e),x=await i.applyElevationAlignmentTo(g);for(let a=0;a<n;++a){const e=a,t=x[3*a+0],r=x[3*a+1],i=x[3*a+2],n=this._computeGlobalTransform(t,r,i,this._context.viewSpatialReference,T),o=this._computeLocalTransform(y,h,j);this._writeMatrixToTypedBuffer(b,e,o),this._writeMatrixToTypedBuffer(C,e,n)}const v=(0,_featureData_processingUtils_js__WEBPACK_IMPORTED_MODULE_11__.readObjectIds)(e),w=new Uint8Array(n);e.getVisibilityArray(w);const P={featureIds:new Uint32Array(v),visibility:w,localTransforms:b,globalTransforms:C};return t.createPipelineCommand(r.addLodInstances(this._lodRendererId,e.id,P))}async createRemoveCommand(e){const{_context:t,_lodRendererId:r}=this,i=t.renderCommandContext;return null==r?t.createPipelineCommand():t.createPipelineCommand(i.removeLodInstances(r,e))}async createUpdateVisibilityCommand(e){const{_lodRendererId:t,_context:r}=this,i=r.renderCommandContext;if(null==t)return r.createPipelineCommand();const a=new Uint8Array(e.featureCount);return e.getVisibilityArray(a),r.createPipelineCommand(i.updateVisibility(t,e.id,a))}async createUpdateLayerViewOpacityCommand(e){const{_context:t}=this,r=t.renderCommandContext,i=this._primitiveMaterialId;if(null==i)return t.createPipelineCommand();const a=this._getLayerOpacity();let n={layerOpacity:a};if(this._isPrimitive){const e=new _webgl_engine_materials_DefaultMaterial_js__WEBPACK_IMPORTED_MODULE_14__.DefaultMaterialParameters;e.layerOpacity=a,n={...n,cullFace:P((0,_webgl_engine_materials_DefaultMaterial_js__WEBPACK_IMPORTED_MODULE_14__.isTransparent)(e))}}return t.createPipelineCommand(r.updateMaterial({type:"default",materialId:i,parameters:n}))}async createUpdateElevationCommand(e){const{_context:t,_lodRendererId:r}=this,{renderCommandContext:i,mainThreadDelegate:a}=t,{featureCount:n,id:o}=e;if(null==r||0===n)return t.createPipelineCommand();const s=new Float64Array(16*n),l=(0,_featureData_processingUtils_js__WEBPACK_IMPORTED_MODULE_11__.readMapCoordinates)(e),m=await a.applyElevationAlignmentTo(l);for(let d=0;d<n;++d){const e=d,t=m[3*d+0],r=m[3*d+1],i=m[3*d+2],a=this._computeGlobalTransform(t,r,i,this._context.viewSpatialReference,T);this._writeMatrixToTypedBuffer(s,e,a)}return t.createPipelineCommand(i.updateLodInstancesData(r,o,s))}_writeMatrixToTypedBuffer(e,t,r){let i=16*t;for(let a=0;a<16;a++)e[i++]=r[a]}_computeGlobalTransform(e,t,r,i,a){return I[0]=e,I[1]=t,I[2]=r,(0,_geometry_projection_computeTranslationToOriginAndRotation_js__WEBPACK_IMPORTED_MODULE_4__.computeTranslationToOriginAndRotation)(i,I,a,this._context.renderSpatialReference),a}_computeLocalTransform(t,r,i){return (0,_core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_0__.identity)(i),this._applyObjectScale(t,r,i),i}_applyObjectScale(e,r,i){const a=(0,_graphicUtils_js__WEBPACK_IMPORTED_MODULE_8__.computeObjectScale)(e,e,r,this._context.renderCoordsHelper.unitInMeters);1===a[0]&&1===a[1]&&1===a[2]||(0,_core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_0__.scale)(i,i,a)}_getLayerOpacity(){return this._context.layerViewInfo.fullOpacity}}function P(e){return e?_webgl_engine_lib_basicInterfaces_js__WEBPACK_IMPORTED_MODULE_13__.CullFaceOptions.None:_webgl_engine_lib_basicInterfaces_js__WEBPACK_IMPORTED_MODULE_13__.CullFaceOptions.Back}const I=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_2__.create)(),j=(0,_core_libs_gl_matrix_2_factories_mat4f64_js__WEBPACK_IMPORTED_MODULE_1__.create)(),T=(0,_core_libs_gl_matrix_2_factories_mat4f64_js__WEBPACK_IMPORTED_MODULE_1__.create)();


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/graphics/pipeline/symbolization/Point3DSymbolRenderer.js":
/*!************************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/graphics/pipeline/symbolization/Point3DSymbolRenderer.js ***!
  \************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Point3DSymbolRenderer: () => (/* binding */ e)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
class e{constructor(e,o){this._loaded=!1,this._loadingPromise=null,this._context=null,this._symbol=null,this._symbolLayerRenderers=[],this._context=o,this._symbol=e}_destroy(){}get loaded(){return this._loaded}load(){return null==this._loadingPromise&&(this._loadingPromise=this._load()),this._loadingPromise}async _load(){const{_context:e,_symbol:o,_symbolLayerRenderers:t}=this,s=[];for(const a of o.symbolLayers){const o=e.symbolRendererFactory.createSymbolRendererFromSymbolLayer(a);null!=o&&(s.push(o.load()),t.push(o))}await Promise.all(s),this._loaded=!0}async createDestroyCommand(){const{_context:e,_symbolLayerRenderers:o}=this,t=[];for(const a of o)t.push(a.createDestroyCommand());const s=e.joinPipelineCommands(await Promise.all(t));return s.appendPipelineStateCommand((()=>this._destroy())),s}async createAddCommand(e){const{_context:o,_symbolLayerRenderers:t}=this,s=[];for(const a of t)s.push(a.createAddCommand(e));return o.joinPipelineCommands(await Promise.all(s))}async createRemoveCommand(e){const{_context:o,_symbolLayerRenderers:t}=this,s=[];for(const a of t)s.push(a.createRemoveCommand(e));return o.joinPipelineCommands(await Promise.all(s))}async createUpdateVisibilityCommand(e){const{_context:o,_symbolLayerRenderers:t}=this,s=[];for(const a of t)s.push(a.createUpdateVisibilityCommand(e));return o.joinPipelineCommands(await Promise.all(s))}async createUpdateLayerViewOpacityCommand(e){const{_context:o,_symbolLayerRenderers:t}=this,s=[];for(const a of t)s.push(a.createUpdateLayerViewOpacityCommand(e));return o.joinPipelineCommands(await Promise.all(s))}async createUpdateElevationCommand(e){const{_context:o,_symbolLayerRenderers:t}=this,s=[];for(const a of t)s.push(a.createUpdateElevationCommand(e));return o.joinPipelineCommands(await Promise.all(s))}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/graphics/pipeline/symbolization/SimpleFeatureRenderer.js":
/*!************************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/graphics/pipeline/symbolization/SimpleFeatureRenderer.js ***!
  \************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   SimpleFeatureRenderer: () => (/* binding */ e)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
class e{constructor(e,t){this._symbol=null,this._featureData=new Map,this._loaded=!1,this._loadingPromise=null,this._renderer=null,this._context=t,this._renderer=e}async load(){return null==this._loadingPromise&&(this._loadingPromise=this._load()),this._loadingPromise}async _load(){const{_renderer:e,_context:t}=this;this._symbol=t.symbolRendererFactory.createSymbolRendererFromSymbol(e.symbol),this._loaded=!0}get loaded(){return this._loaded}async createAddCommand(e){const t=this._context,a=await this._provisionSymbol(),n=null==a?t.createPipelineCommand():await a.createAddCommand(e);return n.appendPipelineStateCommand((()=>this._featureData.set(e.id,e))),n}async createRemoveCommand(e){const t=this._context,a=await this._provisionSymbol(),n=null==a?t.createPipelineCommand():await a.createRemoveCommand(e);return n.appendPipelineStateCommand((()=>this._featureData.delete(e))),n}async createUpdateVisibilityCommand(e){const t=this._context,a=await this._provisionSymbol();return null==a?t.createPipelineCommand():await a.createUpdateVisibilityCommand(e)}async createUpdateLayerViewOpacityCommand(e){const t=this._context,a=await this._provisionSymbol();return null==a?t.createPipelineCommand():await a.createUpdateLayerViewOpacityCommand(e)}async createUpdateElevationCommand(){const{_featureData:e,_context:t}=this,a=await this._provisionSymbol();if(null==a)return t.createPipelineCommand();const n=[];for(const i of e.values())n.push(a.createUpdateElevationCommand(i));const o=await Promise.all(n);return t.joinPipelineCommands(o)}async createDestroyCommand(){const{_symbol:e,_context:t,_featureData:a}=this;if(!e)return t.createPipelineCommand();const n=[];for(const i of a.keys())n.push(this.createRemoveCommand(i));n.push(e.createDestroyCommand());const o=await Promise.all(n);return t.joinPipelineCommands(o)}async _provisionSymbol(){const e=this._symbol;return e?(e.loaded||await e.load(),e):null}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/graphics/pipeline/symbolization/UniqueValueFeatureRenderer.js":
/*!*****************************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/graphics/pipeline/symbolization/UniqueValueFeatureRenderer.js ***!
  \*****************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   UniqueValueFeatureRenderer: () => (/* binding */ s)
/* harmony export */ });
/* harmony import */ var _PipelineCommand_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../PipelineCommand.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/pipeline/PipelineCommand.js");
/* harmony import */ var _featureData_processingUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../featureData/processingUtils.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/pipeline/featureData/processingUtils.js");
/* harmony import */ var _factoryUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./factoryUtils.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/pipeline/symbolization/factoryUtils.js");
/* harmony import */ var _IconSymbolLayerRenderer_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./IconSymbolLayerRenderer.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/pipeline/symbolization/IconSymbolLayerRenderer.js");
/* harmony import */ var _ObjectSymbolLayerRenderer_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./ObjectSymbolLayerRenderer.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/pipeline/symbolization/ObjectSymbolLayerRenderer.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
class s{constructor(t,e){this._symbols=new Array,this._featureDataPartitioning=new Map,this._loaded=!1,this._loadingPromise=null,this._renderer=null,this._context=e,this._renderer=t}async load(){return null==this._loadingPromise&&(this._loadingPromise=this._load()),this._loadingPromise}async _load(){this._symbols[0]=new _IconSymbolLayerRenderer_js__WEBPACK_IMPORTED_MODULE_3__.IconSymbolLayerRenderer((0,_factoryUtils_js__WEBPACK_IMPORTED_MODULE_2__.createDefaultIconSymbolLayer)(),this._context),this._symbols[1]=new _ObjectSymbolLayerRenderer_js__WEBPACK_IMPORTED_MODULE_4__.ObjectSymbolLayerRenderer((0,_factoryUtils_js__WEBPACK_IMPORTED_MODULE_2__.createDefaultObjectSymbolLayer)(),this._context),this._loaded=!0}get loaded(){return this._loaded}async createAddCommand(t){const e=this._context,n=this._partition(t),a=await Promise.all(n.map((async({index:t,features:e})=>{const n=await this._provisionSymbol(t);return await(n?.createAddCommand(e))}))),o=e.joinPipelineCommands(a);return o.appendPipelineStateCommand((()=>this._featureDataPartitioning.set(t.id,n))),o}async createRemoveCommand(e){const{_featureDataPartitioning:n,_context:a}=this,o=a.renderCommandContext,i=n.get(e);if(null==i)return new _PipelineCommand_js__WEBPACK_IMPORTED_MODULE_0__.PipelineCommand(o,o.createRenderCommandBuffer(),[]);const s=await Promise.all(i.map((async({index:t,features:e})=>{const n=this._getLoadedSymbol(t);return await(n?.createRemoveCommand(e.id))}))),r=a.joinPipelineCommands(s);return r.appendPipelineStateCommand((()=>n.delete(e))),r}async createUpdateVisibilityCommand(e){const{_featureDataPartitioning:n,_context:a}=this,o=a.renderCommandContext,i=n.get(e.id);if(null==i)return new _PipelineCommand_js__WEBPACK_IMPORTED_MODULE_0__.PipelineCommand(o,o.createRenderCommandBuffer(),[]);const s=await Promise.all(i.map((async({index:t,features:e})=>{const n=this._getLoadedSymbol(t);return await(n?.createUpdateVisibilityCommand(e))})));return a.joinPipelineCommands(s)}async createUpdateLayerViewOpacityCommand(t){const e=this._context,n=[];for(let o=0;o<this._symbols.length;++o){const e=this._symbols[o];null!=e&&e.loaded&&n.push(e.createUpdateLayerViewOpacityCommand(t))}const a=await Promise.all(n);return e.joinPipelineCommands(a)}async createUpdateElevationCommand(){const{_featureDataPartitioning:t,_context:e}=this,n=[];for(const o of t.values()){const t=o.map((async({index:t,features:e})=>{const n=this._getLoadedSymbol(t);return await(n?.createUpdateElevationCommand(e))}));n.push(...t)}const a=await Promise.all(n);return e.joinPipelineCommands(a)}async createDestroyCommand(){const{_featureDataPartitioning:t,_context:e}=this,n=[];for(const o of t.keys())n.push(this.createRemoveCommand(o));for(const o of this._symbols)n.push(o.createDestroyCommand());const a=await Promise.all(n);return e.joinPipelineCommands(a)}async _provisionSymbol(t){if(null==t)return null;const e=this._symbols[t];return e?(e.loaded||await e.load(),e):null}_getLoadedSymbol(t){if(null==t)return null;const e=this._symbols[t];return null!=e&&e.loaded?e:null}_partition(t){const n=(0,_featureData_processingUtils_js__WEBPACK_IMPORTED_MODULE_1__.readObjectIds)(t);if(null==n)throw new Error("unable to fetch objectIds");const{featureCount:a}=t,o=[[],[]];for(let e=0;e<a;++e){o[n[e]%2].push(e)}return o.map(((e,n)=>new r(n,t.subset(new Uint32Array(e))))).filter((t=>t.features.featureCount>0))}}class r{constructor(t,e){this.index=t,this.features=e}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/graphics/pipeline/symbolization/factoryUtils.js":
/*!***************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/graphics/pipeline/symbolization/factoryUtils.js ***!
  \***************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   createDefaultIconSymbolLayer: () => (/* binding */ t),
/* harmony export */   createDefaultObjectSymbolLayer: () => (/* binding */ n)
/* harmony export */ });
/* harmony import */ var _Color_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../Color.js */ "./node_modules/@arcgis/core/Color.js");
/* harmony import */ var _symbols_IconSymbol3DLayer_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../../symbols/IconSymbol3DLayer.js */ "./node_modules/@arcgis/core/symbols/IconSymbol3DLayer.js");
/* harmony import */ var _symbols_ObjectSymbol3DLayer_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../../symbols/ObjectSymbol3DLayer.js */ "./node_modules/@arcgis/core/symbols/ObjectSymbol3DLayer.js");
/* harmony import */ var _symbols_support_Symbol3DMaterial_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../../symbols/support/Symbol3DMaterial.js */ "./node_modules/@arcgis/core/symbols/support/Symbol3DMaterial.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
function t(){return new _symbols_IconSymbol3DLayer_js__WEBPACK_IMPORTED_MODULE_1__["default"]({material:new _symbols_support_Symbol3DMaterial_js__WEBPACK_IMPORTED_MODULE_3__.Symbol3DMaterial({color:new _Color_js__WEBPACK_IMPORTED_MODULE_0__["default"]("red")})})}function n(){return new _symbols_ObjectSymbol3DLayer_js__WEBPACK_IMPORTED_MODULE_2__["default"]}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/graphics/pipeline/symbolization/primitiveObjectUtils.js":
/*!***********************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/graphics/pipeline/symbolization/primitiveObjectUtils.js ***!
  \***********************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   createPrimitiveGeometry: () => (/* binding */ s)
/* harmony export */ });
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _symbolizationUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./symbolizationUtils.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/pipeline/symbolization/symbolizationUtils.js");
/* harmony import */ var _webgl_engine_lib_AttributeArray_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../webgl-engine/lib/AttributeArray.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/AttributeArray.js");
/* harmony import */ var _webgl_engine_lib_GeometryUtil_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../webgl-engine/lib/GeometryUtil.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/GeometryUtil.js");
/* harmony import */ var _webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../webgl-engine/lib/VertexAttribute.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/VertexAttribute.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
function s(t,a){const s=(t,n,i=!1)=>({levels:t.map((t=>{const s=(0,_symbolizationUtils_js__WEBPACK_IMPORTED_MODULE_1__.inputAttributesToAttributesMap)(n(t.tesselation));i&&r(s);return{components:[{attributes:s,objectAndLayerIdColor:void 0,transformation:null,materialId:a,visibilities:new Uint8Array([1]),objectIds:new Uint32Array([-1])}],minScreenSpaceRadius:t.minScreenSpaceRadius}}))});switch(t){case"cone":return s(c,(e=>(0,_webgl_engine_lib_GeometryUtil_js__WEBPACK_IMPORTED_MODULE_3__.createConeGeometryData)(1,.5,e,!1)),!0);case"sphere":return s([{tesselation:0,minScreenSpaceRadius:0},{tesselation:1,minScreenSpaceRadius:8},{tesselation:2,minScreenSpaceRadius:16},{tesselation:3,minScreenSpaceRadius:50},{tesselation:4,minScreenSpaceRadius:250}],(e=>(0,_webgl_engine_lib_GeometryUtil_js__WEBPACK_IMPORTED_MODULE_3__.createPolySphereData)(.5,e,!0)));case"cube":case"inverted-cone":case"cylinder":case"tetrahedron":case"diamond":throw new Error("not implemented");default:return}}function r(e){const t=e,n=t.get(_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_4__.VertexAttribute.POSITION).data,i=t.get(_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_4__.VertexAttribute.NORMAL).data;if(i){const t=o(e,_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_4__.VertexAttribute.NORMAL).data;for(let e=0;e<i.length;e+=3){const n=i[e+1];t[e+1]=-i[e+2],t[e+2]=n}}if(n){const t=o(e,_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_4__.VertexAttribute.POSITION).data;for(let e=0;e<n.length;e+=3){const i=n[e+1];t[e+1]=-n[e+2],t[e+2]=i}}}function o(e,n){let i=e.get(n);return i&&!i.exclusive&&(i={...i,exclusive:!0,data:(0,_webgl_engine_lib_AttributeArray_js__WEBPACK_IMPORTED_MODULE_2__.cloneAttributeData)(i.data)},e.set(n,i)),i}const c=[{tesselation:6,minScreenSpaceRadius:0},{tesselation:18,minScreenSpaceRadius:7},{tesselation:64,minScreenSpaceRadius:65}];


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/graphics/pipeline/symbolization/symbolizationUtils.js":
/*!*********************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/graphics/pipeline/symbolization/symbolizationUtils.js ***!
  \*********************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   inputAttributesToAttributesMap: () => (/* binding */ e)
/* harmony export */ });
/* harmony import */ var _geometry_support_Indices_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../geometry/support/Indices.js */ "./node_modules/@arcgis/core/geometry/support/Indices.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
function e(e){const n=new Map;for(const[t,r]of e)n.set(t,{...r,indices:(0,_geometry_support_Indices_js__WEBPACK_IMPORTED_MODULE_0__.compactIndices)(r.indices)});return n}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/graphics/pipeline/utils.js":
/*!******************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/graphics/pipeline/utils.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   applyElevationAlignment: () => (/* binding */ n),
/* harmony export */   generateId: () => (/* binding */ r)
/* harmony export */ });
/* harmony import */ var _core_uid_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../core/uid.js */ "./node_modules/@arcgis/core/core/uid.js");
/* harmony import */ var _geometry_projection_projectors_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../geometry/projection/projectors.js */ "./node_modules/@arcgis/core/geometry/projection/projectors.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
function r(t=""){return`${t}${(0,_core_uid_js__WEBPACK_IMPORTED_MODULE_0__.generateUID)()}`}function n(e,r,n,s,a){const l=s.spatialReference,i=(0,_geometry_projection_projectors_js__WEBPACK_IMPORTED_MODULE_1__.getProjector)(r,l);if(null==i)return e;let f=t=>[e[t],e[t+1],e[t+2]];i!==_geometry_projection_projectors_js__WEBPACK_IMPORTED_MODULE_1__.copy3&&(f=t=>(i(e,t,c,0),[c[0],c[1],c[2]]));const u=e.length/3,d=n.mode;switch(n.mode){case"on-the-ground":for(let t=0;t<u;++t){const o=3*t,[r,n]=f(o);e[o+2]=s.getElevation(r,n,0,s.spatialReference,"ground")??0}break;case"relative-to-ground":case"relative-to-scene":{const t="relative-to-ground"===d?"ground":"scene";for(let o=0;o<u;++o){const r=3*o,[c,l,i]=f(r),u=n.calculateOffsetRenderUnits(a),d=s.getElevation(c,l,0,s.spatialReference,t)??0;e[r+2]=i+u+d}}break;case"absolute-height":for(let t=0;t<u;++t){const o=3*t,r=e[o+2],c=n.calculateOffsetRenderUnits(a);e[o+2]=r+c}}return e}const c=new Float64Array(3);


/***/ })

};

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmVuZG9ycy1ub2RlX21vZHVsZXNfYXJjZ2lzX2NvcmVfdmlld3NfM2RfbGF5ZXJzX2dyYXBoaWNzX3BpcGVsaW5lX0ZlYXR1cmUzRFBpcGVsaW5lV29ya2VyX2pzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0IsK0JBQStCLHNCQUFzQixLQUFLLElBQUksRUFBRSxZQUFZLGtHQUFrRyxpRkFBaUYsbUJBQW1CLG1DQUFtQyxJQUFJLEVBQUUscUJBQXFCLFlBQVksS0FBSyxLQUFLLFlBQVksS0FBSywrREFBK0Qsa0JBQWtCLFdBQVcsaUJBQWlCLGdCQUFnQixzQkFBcUM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ0ovaUI7QUFDQTtBQUNBO0FBQ0E7QUFDNk4sUUFBUSxtQkFBbUIsa09BQWtPLFVBQVUscURBQXFELE9BQU8sZ0JBQWdCLFlBQVksaUJBQWlCLHFCQUFxQix3QkFBd0IsRUFBRSxFQUFFLGdDQUFnQyxJQUFJLEtBQUssc0NBQXNDLDhDQUE4QyxXQUFXLFlBQVksaUJBQWlCLHFCQUFxQixvQkFBb0IsY0FBYyxFQUFFLEVBQUUsZ0NBQWdDLElBQUksS0FBSyxzQ0FBc0MsV0FBVywyQkFBMkIsV0FBVyxVQUFVLFNBQVMsUUFBUSx5QkFBeUIsOEJBQThCLHVCQUF1QixJQUFJLHNCQUFzQixZQUFZLDRDQUE0Qyw0RkFBNEYsS0FBSywrQkFBK0IsbUJBQW1CLGlCQUFpQixnREFBZ0Qsa0JBQWtCLFlBQVksVUFBVSxtREFBbUQsUUFBUSxpQ0FBaUMsVUFBVSxrQkFBa0IsbUNBQW1DLHdCQUF3Qix3QkFBd0IsY0FBYyxFQUFFLG9FQUFvRSx1REFBQyxZQUFZLDBEQUFDLDBHQUEwRyxxR0FBcUcsWUFBWSxTQUFTLGtCQUFrQixZQUFZLHlCQUF5QixnQkFBZ0IsY0FBYyx1QkFBdUIsU0FBUyw4QkFBOEIsMkJBQTJCLGtFQUFrRSxrQkFBa0IsV0FBVyxtREFBbUQsNkJBQTZCLFlBQVksS0FBSyxNQUFNLDBC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USxzRkFBQyxtQkFBbUIsUUFBUSxPQUFPLGFBQWEsNElBQTRJLCtDQUErQyxHQUFHLEVBQUUsVUFBVSwwQkFBMEIseUZBQUMsaUJBQWlCLHdCQUF3QixxQ0FBcUMsRUFBRSxxQ0FBcUMsRUFBRSxzQ0FBc0MsRUFBRSxzQ0FBc0MsRUFBRSx1Q0FBdUMsTUFBTSx1RkFBQyxZQUFZLGlIQUFpSCxnQkFBZ0IsY0FBYyxrQkFBa0IsaUZBQUMsd0JBQXdCLGlGQUFDLGNBQWMsTUFBTSxZQUFZLGlGQUFDLGNBQWMsWUFBWSxXQUFXLE1BQU0sZUFBZSx5QkFBeUIsTUFBTSxZQUFZLGlGQUFDLGdCQUFnQixZQUFZLFdBQVcsTUFBTSxlQUFlLDBCQUEwQixnQkFBZ0IsZUFBZSw0QkFBNEIsdUJBQXVCLHVGQUFDLFNBQVMsZUFBZSxVQUFVLHFDQUFxQyxFQUFFLHNDQUFzQyxFQUFFLHVDQUF1QyxFQUF1Qzs7Ozs7Ozs7Ozs7Ozs7OztBQ0pyb0Q7QUFDQTtBQUNBO0FBQ0E7QUFDK0UsY0FBYyxnQkFBZ0IsNEJBQTRCLGFBQWEsNEVBQUMsWUFBWSxFQUFFLFNBQXFEOzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNKMU47QUFDQTtBQUNBO0FBQ0E7QUFDb0osaUJBQWlCLFNBQVMsRUFBRSxFQUFFLHlEQUFDLEdBQUcsRUFBRSxzQkFBc0IsNkJBQTZCLGdGQUFDLE1BQU0sb0JBQW9CLDhCQUE4QixJQUFJLHFFQUFDLHVDQUF1Qyw0QkFBNEIsZUFBZSxnQ0FBZ0MsSUFBSSxLQUFLLHVCQUF1Qiw0REFBNEQsTUFBTSxrREFBa0Qsa0RBQWtELFlBQVksSUFBSSxLQUFLLDJHQUEyRyxjQUFjLE1BQU0sa0NBQWtDLElBQUksS0FBSyx1REFBdUQsWUFBWSxTQUFTLDRCQUFpRiIsInNvdXJjZXMiOlsid2VicGFjazovL3ByZWNpc2lvbmZhcm1zLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS9jaHVua3MvcXVpY2tzZWxlY3QuanMiLCJ3ZWJwYWNrOi8vcHJlY2lzaW9uZmFybXMvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL2NvcmUvbGlicy9yYnVzaC9Qb29sZWRSQnVzaC5qcyIsIndlYnBhY2s6Ly9wcmVjaXNpb25mYXJtcy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvM2QvbGF5ZXJzL2dyYXBoaWNzL3BpcGVsaW5lL0ZlYXR1cmUzRFBpcGVsaW5lV29ya2VyLmpzIiwid2VicGFjazovL3ByZWNpc2lvbmZhcm1zLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8zZC9sYXllcnMvZ3JhcGhpY3MvcGlwZWxpbmUvRmVhdHVyZVByb2Nlc3NpbmdDb250ZXh0LmpzIiwid2VicGFjazovL3ByZWNpc2lvbmZhcm1zLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8zZC9sYXllcnMvZ3JhcGhpY3MvcGlwZWxpbmUvUGlwZWxpbmVDb21tYW5kLmpzIiwid2VicGFjazovL3ByZWNpc2lvbmZhcm1zLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8zZC9sYXllcnMvZ3JhcGhpY3MvcGlwZWxpbmUvVGlsZS5qcyIsIndlYnBhY2s6Ly9wcmVjaXNpb25mYXJtcy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvM2QvbGF5ZXJzL2dyYXBoaWNzL3BpcGVsaW5lL1RpbGUzRE1hbmFnZXIuanMiLCJ3ZWJwYWNrOi8vcHJlY2lzaW9uZmFybXMvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzNkL2xheWVycy9ncmFwaGljcy9waXBlbGluZS9UaWxlTG9ja3MuanMiLCJ3ZWJwYWNrOi8vcHJlY2lzaW9uZmFybXMvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzNkL2xheWVycy9ncmFwaGljcy9waXBlbGluZS9mZWF0dXJlRGF0YS9GZWF0dXJlRGF0YS5qcyIsIndlYnBhY2s6Ly9wcmVjaXNpb25mYXJtcy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvM2QvbGF5ZXJzL2dyYXBoaWNzL3BpcGVsaW5lL2ZlYXR1cmVEYXRhL0ZlYXR1cmVEYXRhU3Vic2V0LmpzIiwid2VicGFjazovL3ByZWNpc2lvbmZhcm1zLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8zZC9sYXllcnMvZ3JhcGhpY3MvcGlwZWxpbmUvZmVhdHVyZURhdGEvcHJvY2Vzc2luZ1V0aWxzLmpzIiwid2VicGFjazovL3ByZWNpc2lvbmZhcm1zLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8zZC9sYXllcnMvZ3JhcGhpY3MvcGlwZWxpbmUvZmVhdHVyZVNldC9QQkZQb2ludEZlYXR1cmVTZXRWaWV3LmpzIiwid2VicGFjazovL3ByZWNpc2lvbmZhcm1zLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8zZC9sYXllcnMvZ3JhcGhpY3MvcGlwZWxpbmUvZmVhdHVyZVNldC9UaWxlZEZlYXR1cmVTdG9yZS5qcyIsIndlYnBhY2s6Ly9wcmVjaXNpb25mYXJtcy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvM2QvbGF5ZXJzL2dyYXBoaWNzL3BpcGVsaW5lL2ZldGNoaW5nL1RpbGUzREZldGNoZXIuanMiLCJ3ZWJwYWNrOi8vcHJlY2lzaW9uZmFybXMvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzNkL2xheWVycy9ncmFwaGljcy9waXBlbGluZS9yZW5kZXJpbmcvUmVuZGVyQ29tbWFuZENvbnRleHQuanMiLCJ3ZWJwYWNrOi8vcHJlY2lzaW9uZmFybXMvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzNkL2xheWVycy9ncmFwaGljcy9waXBlbGluZS9zeW1ib2xpemF0aW9uL0ljb25TeW1ib2xMYXllclJlbmRlcmVyLmpzIiwid2VicGFjazovL3ByZWNpc2lvbmZhcm1zLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8zZC9sYXllcnMvZ3JhcGhpY3MvcGlwZWxpbmUvc3ltYm9saXphdGlvbi9PYmplY3RTeW1ib2xMYXllclJlbmRlcmVyLmpzIiwid2VicGFjazovL3ByZWNpc2lvbmZhcm1zLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8zZC9sYXllcnMvZ3JhcGhpY3MvcGlwZWxpbmUvc3ltYm9saXphdGlvbi9Qb2ludDNEU3ltYm9sUmVuZGVyZXIuanMiLCJ3ZWJwYWNrOi8vcHJlY2lzaW9uZmFybXMvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzNkL2xheWVycy9ncmFwaGljcy9waXBlbGluZS9zeW1ib2xpemF0aW9uL1NpbXBsZUZlYXR1cmVSZW5kZXJlci5qcyIsIndlYnBhY2s6Ly9wcmVjaXNpb25mYXJtcy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvM2QvbGF5ZXJzL2dyYXBoaWNzL3BpcGVsaW5lL3N5bWJvbGl6YXRpb24vVW5pcXVlVmFsdWVGZWF0dXJlUmVuZGVyZXIuanMiLCJ3ZWJwYWNrOi8vcHJlY2lzaW9uZmFybXMvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzNkL2xheWVycy9ncmFwaGljcy9waXBlbGluZS9zeW1ib2xpemF0aW9uL2ZhY3RvcnlVdGlscy5qcyIsIndlYnBhY2s6Ly9wcmVjaXNpb25mYXJtcy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvM2QvbGF5ZXJzL2dyYXBoaWNzL3BpcGVsaW5lL3N5bWJvbGl6YXRpb24vcHJpbWl0aXZlT2JqZWN0VXRpbHMuanMiLCJ3ZWJwYWNrOi8vcHJlY2lzaW9uZmFybXMvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzNkL2xheWVycy9ncmFwaGljcy9waXBlbGluZS9zeW1ib2xpemF0aW9uL3N5bWJvbGl6YXRpb25VdGlscy5qcyIsIndlYnBhY2s6Ly9wcmVjaXNpb25mYXJtcy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvM2QvbGF5ZXJzL2dyYXBoaWNzL3BpcGVsaW5lL3V0aWxzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjMzL2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5mdW5jdGlvbiB0KHQscixmLG4saCl7byh0LHIsZnx8MCxufHx0Lmxlbmd0aC0xLGh8fGEpfWZ1bmN0aW9uIG8odCxhLGYsbixoKXtmb3IoO24+Zjspe2lmKG4tZj42MDApe3ZhciBNPW4tZisxLGk9YS1mKzEsdT1NYXRoLmxvZyhNKSxjPS41Kk1hdGguZXhwKDIqdS8zKSxlPS41Kk1hdGguc3FydCh1KmMqKE0tYykvTSkqKGktTS8yPDA/LTE6MSk7byh0LGEsTWF0aC5tYXgoZixNYXRoLmZsb29yKGEtaSpjL00rZSkpLE1hdGgubWluKG4sTWF0aC5mbG9vcihhKyhNLWkpKmMvTStlKSksaCl9dmFyIGw9dFthXSx2PWYseD1uO2ZvcihyKHQsZixhKSxoKHRbbl0sbCk+MCYmcih0LGYsbik7djx4Oyl7Zm9yKHIodCx2LHgpLHYrKyx4LS07aCh0W3ZdLGwpPDA7KXYrKztmb3IoO2godFt4XSxsKT4wOyl4LS19MD09PWgodFtmXSxsKT9yKHQsZix4KTpyKHQsKyt4LG4pLHg8PWEmJihmPXgrMSksYTw9eCYmKG49eC0xKX19ZnVuY3Rpb24gcih0LG8scil7dmFyIGE9dFtvXTt0W29dPXRbcl0sdFtyXT1hfWZ1bmN0aW9uIGEodCxvKXtyZXR1cm4gdDxvPy0xOnQ+bz8xOjB9ZXhwb3J0e3QgYXMgcX07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4zMy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e2luZGV4T2YgYXMgdCxQb3NpdGlvbkhpbnQgYXMgaX1mcm9tXCIuLi8uLi9hcnJheVV0aWxzLmpzXCI7aW1wb3J0e3RvQ29uc3QgYXMgbn1mcm9tXCIuLi8uLi9jb21waWxlclV0aWxzLmpzXCI7aW1wb3J0XCIuLi8uLi9oYXMuanNcIjtpbXBvcnQgZSBmcm9tXCIuLi8uLi9Qb29sZWRBcnJheS5qc1wiO2ltcG9ydHtxIGFzIGh9ZnJvbVwiLi4vLi4vLi4vY2h1bmtzL3F1aWNrc2VsZWN0LmpzXCI7Y2xhc3Mgc3tjb25zdHJ1Y3Rvcih0PTksaSl7dGhpcy5fY29tcGFyZU1pblg9dSx0aGlzLl9jb21wYXJlTWluWT1kLHRoaXMuX3RvQkJveD10PT50LHRoaXMuX21heEVudHJpZXM9TWF0aC5tYXgoNCx0fHw5KSx0aGlzLl9taW5FbnRyaWVzPU1hdGgubWF4KDIsTWF0aC5jZWlsKC40KnRoaXMuX21heEVudHJpZXMpKSxpJiYoXCJmdW5jdGlvblwiPT10eXBlb2YgaT90aGlzLl90b0JCb3g9aTp0aGlzLl9pbml0Rm9ybWF0KGkpKSx0aGlzLmNsZWFyKCl9ZGVzdHJveSgpe3RoaXMuY2xlYXIoKSxZLnBydW5lKCksQi5wcnVuZSgpLHcucHJ1bmUoKSxqLnBydW5lKCl9YWxsKHQpe3IodGhpcy5fZGF0YSx0KX1zZWFyY2godCxpKXtsZXQgbj10aGlzLl9kYXRhO2NvbnN0IGU9dGhpcy5fdG9CQm94O2lmKE0odCxuKSlmb3IoWS5jbGVhcigpO247KXtmb3IobGV0IGg9MCxzPW4uY2hpbGRyZW4ubGVuZ3RoO2g8cztoKyspe2NvbnN0IHM9bi5jaGlsZHJlbltoXSxhPW4ubGVhZj9lKHMpOnM7TSh0LGEpJiYobi5sZWFmP2kocyk6Zyh0LGEpP3IocyxpKTpZLnB1c2gocykpfW49WS5wb3AoKX19Y29sbGlkZXModCl7bGV0IGk9dGhpcy5fZGF0YTtjb25zdCBuPXRoaXMuX3RvQkJveDtpZighTSh0LGkpKXJldHVybiExO2ZvcihZLmNsZWFyKCk7aTspe2ZvcihsZXQgZT0wLGg9aS5jaGlsZHJlbi5sZW5ndGg7ZTxoO2UrKyl7Y29uc3QgaD1pLmNoaWxkcmVuW2VdLHM9aS5sZWFmP24oaCk6aDtpZihNKHQscykpe2lmKGkubGVhZnx8Zyh0LHMpKXJldHVybiEwO1kucHVzaChoKX19aT1ZLnBvcCgpfXJldHVybiExfWxvYWQodCl7aWYoIXQubGVuZ3RoKXJldHVybiB0aGlzO2lmKHQubGVuZ3RoPHRoaXMuX21pbkVudHJpZXMpe2ZvcihsZXQgaT0wLG49dC5sZW5ndGg7aTxuO2krKyl0aGlzLmluc2VydCh0W2ldKTtyZXR1cm4gdGhpc31sZXQgaT10aGlzLl9idWlsZCh0LnNsaWNlKCksMCx0Lmxlbmd0aC0xLDApO2lmKHRoaXMuX2RhdGEuY2hpbGRyZW4ubGVuZ3RoKWlmKHRoaXMuX2RhdGEuaGVpZ2h0PT09aS5oZWlnaHQpdGhpcy5fc3BsaXRSb290KHRoaXMuX2RhdGEsaSk7ZWxzZXtpZih0aGlzLl9kYXRhLmhlaWdodDxpLmhlaWdodCl7Y29uc3QgdD10aGlzLl9kYXRhO3RoaXMuX2RhdGE9aSxpPXR9dGhpcy5faW5zZXJ0KGksdGhpcy5fZGF0YS5oZWlnaHQtaS5oZWlnaHQtMSwhMCl9ZWxzZSB0aGlzLl9kYXRhPWk7cmV0dXJuIHRoaXN9aW5zZXJ0KHQpe3JldHVybiB0JiZ0aGlzLl9pbnNlcnQodCx0aGlzLl9kYXRhLmhlaWdodC0xKSx0aGlzfWNsZWFyKCl7cmV0dXJuIHRoaXMuX2RhdGE9bmV3IFMoW10pLHRoaXN9cmVtb3ZlKGkpe2lmKCFpKXJldHVybiB0aGlzO2xldCBlLGg9dGhpcy5fZGF0YSxzPW51bGwsYT0wLHI9ITE7Y29uc3Qgbz10aGlzLl90b0JCb3goaSk7Zm9yKHcuY2xlYXIoKSxqLmNsZWFyKCk7aHx8dy5sZW5ndGg+MDspe2lmKGh8fChoPXcucG9wKCkscz13LmRhdGFbdy5sZW5ndGgtMV0sYT1qLnBvcCgpPz8wLHI9ITApLGgubGVhZiYmKGU9dChoLmNoaWxkcmVuLG4oaSksaC5jaGlsZHJlbi5sZW5ndGgsaC5pbmRleEhpbnQpLC0xIT09ZSkpcmV0dXJuIGguY2hpbGRyZW4uc3BsaWNlKGUsMSksdy5wdXNoKGgpLHRoaXMuX2NvbmRlbnNlKHcpLHRoaXM7cnx8aC5sZWFmfHwhZyhoLG8pP3M/KGErKyxoPXMuY2hpbGRyZW5bYV0scj0hMSk6aD1udWxsOih3LnB1c2goaCksai5wdXNoKGEpLGE9MCxzPWgsaD1oLmNoaWxkcmVuWzBdKX1yZXR1cm4gdGhpc310b0pTT04oKXtyZXR1cm4gdGhpcy5fZGF0YX1mcm9tSlNPTih0KXtyZXR1cm4gdGhpcy5fZGF0YT10LHRoaXN9X2J1aWxkKHQsaSxuLGUpe2NvbnN0IGg9bi1pKzE7bGV0IHM9dGhpcy5fbWF4RW50cmllcztpZihoPD1zKXtjb25zdCBlPW5ldyBTKHQuc2xpY2UoaSxuKzEpKTtyZXR1cm4gbChlLHRoaXMuX3RvQkJveCksZX1lfHwoZT1NYXRoLmNlaWwoTWF0aC5sb2coaCkvTWF0aC5sb2cocykpLHM9TWF0aC5jZWlsKGgvcyoqKGUtMSkpKTtjb25zdCBhPW5ldyB5KFtdKTthLmhlaWdodD1lO2NvbnN0IHI9TWF0aC5jZWlsKGgvcyksbz1yKk1hdGguY2VpbChNYXRoLnNxcnQocykpO1godCxpLG4sbyx0aGlzLl9jb21wYXJlTWluWCk7Zm9yKGxldCBsPWk7bDw9bjtsKz1vKXtjb25zdCBpPU1hdGgubWluKGwrby0xLG4pO1godCxsLGkscix0aGlzLl9jb21wYXJlTWluWSk7Zm9yKGxldCBuPWw7bjw9aTtuKz1yKXtjb25zdCBoPU1hdGgubWluKG4rci0xLGkpO2EuY2hpbGRyZW4ucHVzaCh0aGlzLl9idWlsZCh0LG4saCxlLTEpKX19cmV0dXJuIGwoYSx0aGlzLl90b0JCb3gpLGF9X2luc2VydCh0LGksbil7Y29uc3QgZT10aGlzLl90b0JCb3gsaD1uP3Q6ZSh0KTt3LmNsZWFyKCk7Y29uc3Qgcz1hKGgsdGhpcy5fZGF0YSxpLHcpO2ZvcihzLmNoaWxkcmVuLnB1c2godCksbShzLGgpO2k+PTAmJncuZGF0YVtpXS5jaGlsZHJlbi5sZW5ndGg+dGhpcy5fbWF4RW50cmllczspdGhpcy5fc3BsaXQodyxpKSxpLS07byhoLHcsaSl9X3NwbGl0KHQsaSl7Y29uc3Qgbj10LmRhdGFbaV0sZT1uLmNoaWxkcmVuLmxlbmd0aCxoPXRoaXMuX21pbkVudHJpZXM7dGhpcy5fY2hvb3NlU3BsaXRBeGlzKG4saCxlKTtjb25zdCBzPXRoaXMuX2Nob29zZVNwbGl0SW5kZXgobixoLGUpO2lmKCFzKXJldHVybjtjb25zdCBhPW4uY2hpbGRyZW4uc3BsaWNlKHMsbi5jaGlsZHJlbi5sZW5ndGgtcykscj1uLmxlYWY/bmV3IFMoYSk6bmV3IHkoYSk7ci5oZWlnaHQ9bi5oZWlnaHQsbChuLHRoaXMuX3RvQkJveCksbChyLHRoaXMuX3RvQkJveCksaT90LmRhdGFbaS0xXS5jaGlsZHJlbi5wdXNoKHIpOnRoaXMuX3NwbGl0Um9vdChuLHIpfV9zcGxpdFJvb3QodCxpKXt0aGlzLl9kYXRhPW5ldyB5KFt0LGldKSx0aGlzLl9kYXRhLmhlaWdodD10LmhlaWdodCsxLGwodGhpcy5fZGF0YSx0aGlzLl90b0JCb3gpfV9jaG9vc2VTcGxpdEluZGV4KHQsaSxuKXtsZXQgZSxoLHM7ZT1oPTEvMDtmb3IobGV0IGE9aTthPD1uLWk7YSsrKXtjb25zdCBpPWModCwwLGEsdGhpcy5fdG9CQm94KSxyPWModCxhLG4sdGhpcy5fdG9CQm94KSxvPXAoaSxyKSxsPWYoaSkrZihyKTtvPGU/KGU9byxzPWEsaD1sPGg/bDpoKTpvPT09ZSYmbDxoJiYoaD1sLHM9YSl9cmV0dXJuIHN9X2Nob29zZVNwbGl0QXhpcyh0LGksbil7Y29uc3QgZT10LmxlYWY/dGhpcy5fY29tcGFyZU1pblg6dSxoPXQubGVhZj90aGlzLl9jb21wYXJlTWluWTpkO3RoaXMuX2FsbERpc3RNYXJnaW4odCxpLG4sZSk8dGhpcy5fYWxsRGlzdE1hcmdpbih0LGksbixoKSYmdC5jaGlsZHJlbi5zb3J0KGUpfV9hbGxEaXN0TWFyZ2luKHQsaSxuLGUpe3QuY2hpbGRyZW4uc29ydChlKTtjb25zdCBoPXRoaXMuX3RvQkJveCxzPWModCwwLGksaCksYT1jKHQsbi1pLG4saCk7bGV0IHI9eChzKSt4KGEpO2ZvcihsZXQgbz1pO288bi1pO28rKyl7Y29uc3QgaT10LmNoaWxkcmVuW29dO20ocyx0LmxlYWY/aChpKTppKSxyKz14KHMpfWZvcihsZXQgbz1uLWktMTtvPj1pO28tLSl7Y29uc3QgaT10LmNoaWxkcmVuW29dO20oYSx0LmxlYWY/aChpKTppKSxyKz14KGEpfXJldHVybiByfV9jb25kZW5zZShpKXtmb3IobGV0IG49aS5sZW5ndGgtMTtuPj0wO24tLSl7Y29uc3QgZT1pLmRhdGFbbl07aWYoMD09PWUuY2hpbGRyZW4ubGVuZ3RoKWlmKG4+MCl7Y29uc3QgaD1pLmRhdGFbbi0xXSxzPWguY2hpbGRyZW47cy5zcGxpY2UodChzLGUscy5sZW5ndGgsaC5pbmRleEhpbnQpLDEpfWVsc2UgdGhpcy5jbGVhcigpO2Vsc2UgbChlLHRoaXMuX3RvQkJveCl9fV9pbml0Rm9ybWF0KHQpe2NvbnN0IGk9W1wicmV0dXJuIGFcIixcIiAtIGJcIixcIjtcIl07dGhpcy5fY29tcGFyZU1pblg9bmV3IEZ1bmN0aW9uKFwiYVwiLFwiYlwiLGkuam9pbih0WzBdKSksdGhpcy5fY29tcGFyZU1pblk9bmV3IEZ1bmN0aW9uKFwiYVwiLFwiYlwiLGkuam9pbih0WzFdKSksdGhpcy5fdG9CQm94PW5ldyBGdW5jdGlvbihcImFcIixcInJldHVybiB7bWluWDogYVwiK3RbMF0rXCIsIG1pblk6IGFcIit0WzFdK1wiLCBtYXhYOiBhXCIrdFsyXStcIiwgbWF4WTogYVwiK3RbM10rXCJ9O1wiKX19ZnVuY3Rpb24gYSh0LGksbixlKXtmb3IoO2UucHVzaChpKSwhMCE9PWkubGVhZiYmZS5sZW5ndGgtMSE9PW47KXtsZXQgbixlPTEvMCxoPTEvMDtmb3IobGV0IHM9MCxhPWkuY2hpbGRyZW4ubGVuZ3RoO3M8YTtzKyspe2NvbnN0IGE9aS5jaGlsZHJlbltzXSxyPWYoYSksbz1fKHQsYSktcjtvPGg/KGg9byxlPXI8ZT9yOmUsbj1hKTpvPT09aCYmcjxlJiYoZT1yLG49YSl9aT1ufHxpLmNoaWxkcmVuWzBdfXJldHVybiBpfWZ1bmN0aW9uIHIodCxpKXtsZXQgZT10O2ZvcihCLmNsZWFyKCk7ZTspe2lmKCEwPT09ZS5sZWFmKWZvcihjb25zdCB0IG9mIGUuY2hpbGRyZW4paShuKHQpKTtlbHNlIEIucHVzaEFycmF5KGUuY2hpbGRyZW4pO2U9Qi5wb3AoKT8/bnVsbH19ZnVuY3Rpb24gbyh0LGksbil7Zm9yKGxldCBlPW47ZT49MDtlLS0pbShpLmRhdGFbZV0sdCl9ZnVuY3Rpb24gbCh0LGkpe2ModCwwLHQuY2hpbGRyZW4ubGVuZ3RoLGksdCl9ZnVuY3Rpb24gYyh0LGksbixlLGgpe2h8fChoPW5ldyBTKFtdKSksaC5taW5YPTEvMCxoLm1pblk9MS8wLGgubWF4WD0tMS8wLGgubWF4WT0tMS8wO2ZvcihsZXQgcyxhPWk7YTxuO2ErKylzPXQuY2hpbGRyZW5bYV0sbShoLHQubGVhZj9lKHMpOnMpO3JldHVybiBofWZ1bmN0aW9uIG0odCxpKXt0Lm1pblg9TWF0aC5taW4odC5taW5YLGkubWluWCksdC5taW5ZPU1hdGgubWluKHQubWluWSxpLm1pblkpLHQubWF4WD1NYXRoLm1heCh0Lm1heFgsaS5tYXhYKSx0Lm1heFk9TWF0aC5tYXgodC5tYXhZLGkubWF4WSl9ZnVuY3Rpb24gdSh0LGkpe3JldHVybiB0Lm1pblgtaS5taW5YfWZ1bmN0aW9uIGQodCxpKXtyZXR1cm4gdC5taW5ZLWkubWluWX1mdW5jdGlvbiBmKHQpe3JldHVybih0Lm1heFgtdC5taW5YKSoodC5tYXhZLXQubWluWSl9ZnVuY3Rpb24geCh0KXtyZXR1cm4gdC5tYXhYLXQubWluWCsodC5tYXhZLXQubWluWSl9ZnVuY3Rpb24gXyh0LGkpe3JldHVybihNYXRoLm1heChpLm1heFgsdC5tYXhYKS1NYXRoLm1pbihpLm1pblgsdC5taW5YKSkqKE1hdGgubWF4KGkubWF4WSx0Lm1heFkpLU1hdGgubWluKGkubWluWSx0Lm1pblkpKX1mdW5jdGlvbiBwKHQsaSl7Y29uc3Qgbj1NYXRoLm1heCh0Lm1pblgsaS5taW5YKSxlPU1hdGgubWF4KHQubWluWSxpLm1pblkpLGg9TWF0aC5taW4odC5tYXhYLGkubWF4WCkscz1NYXRoLm1pbih0Lm1heFksaS5tYXhZKTtyZXR1cm4gTWF0aC5tYXgoMCxoLW4pKk1hdGgubWF4KDAscy1lKX1mdW5jdGlvbiBnKHQsaSl7cmV0dXJuIHQubWluWDw9aS5taW5YJiZ0Lm1pblk8PWkubWluWSYmaS5tYXhYPD10Lm1heFgmJmkubWF4WTw9dC5tYXhZfWZ1bmN0aW9uIE0odCxpKXtyZXR1cm4gaS5taW5YPD10Lm1heFgmJmkubWluWTw9dC5tYXhZJiZpLm1heFg+PXQubWluWCYmaS5tYXhZPj10Lm1pbll9ZnVuY3Rpb24gWCh0LGksbixlLHMpe2NvbnN0IGE9W2ksbl07Zm9yKDthLmxlbmd0aDspe2NvbnN0IGk9YS5wb3AoKSxuPWEucG9wKCk7aWYoaS1uPD1lKWNvbnRpbnVlO2NvbnN0IHI9bitNYXRoLmNlaWwoKGktbikvZS8yKSplO2godCxyLG4saSxzKSxhLnB1c2gobixyLHIsaSl9fWNvbnN0IFk9bmV3IGUsQj1uZXcgZSx3PW5ldyBlLGo9bmV3IGUoe2RlYWxsb2NhdG9yOnZvaWQgMH0pO2NsYXNzIEV7Y29uc3RydWN0b3IoKXt0aGlzLm1pblg9MS8wLHRoaXMubWluWT0xLzAsdGhpcy5tYXhYPS0xLzAsdGhpcy5tYXhZPS0xLzB9fWNsYXNzIGIgZXh0ZW5kcyBFe2NvbnN0cnVjdG9yKCl7c3VwZXIoLi4uYXJndW1lbnRzKSx0aGlzLmhlaWdodD0xLHRoaXMuaW5kZXhIaW50PW5ldyBpfX1jbGFzcyBTIGV4dGVuZHMgYntjb25zdHJ1Y3Rvcih0KXtzdXBlcigpLHRoaXMuY2hpbGRyZW49dCx0aGlzLmxlYWY9ITB9fWNsYXNzIHkgZXh0ZW5kcyBie2NvbnN0cnVjdG9yKHQpe3N1cGVyKCksdGhpcy5jaGlsZHJlbj10LHRoaXMubGVhZj0hMX19ZXhwb3J0e0UgYXMgQkJveCxzIGFzIFBvb2xlZFJCdXNofTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjMzL2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7YiBhcyBlLGMgYXMgdCxfIGFzIHJ9ZnJvbVwiLi4vLi4vLi4vLi4vLi4vY2h1bmtzL3RzbGliLmVzNi5qc1wiO2ltcG9ydCBhIGZyb21cIi4uLy4uLy4uLy4uLy4uL2NvcmUvRXZlbnRlZC5qc1wiO2ltcG9ydHt0aHJvd0lmQWJvcnRlZCBhcyBufWZyb21cIi4uLy4uLy4uLy4uLy4uL2NvcmUvcHJvbWlzZVV0aWxzLmpzXCI7aW1wb3J0e3dhdGNoIGFzIGksaW5pdGlhbCBhcyBvfWZyb21cIi4uLy4uLy4uLy4uLy4uL2NvcmUvcmVhY3RpdmVVdGlscy5qc1wiO2ltcG9ydHtwcm9wZXJ0eSBhcyBzfWZyb21cIi4uLy4uLy4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvcHJvcGVydHkuanNcIjtpbXBvcnRcIi4uLy4uLy4uLy4uLy4uL2NvcmUvaGFzLmpzXCI7aW1wb3J0XCIuLi8uLi8uLi8uLi8uLi9jb3JlL0xvZ2dlci5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vLi4vLi4vY29yZS9SYW5kb21MQ0cuanNcIjtpbXBvcnR7c3ViY2xhc3MgYXMgbH1mcm9tXCIuLi8uLi8uLi8uLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3N1YmNsYXNzLmpzXCI7aW1wb3J0IGMgZnJvbVwiLi4vLi4vLi4vLi4vLi4vZ2VvbWV0cnkvRXh0ZW50LmpzXCI7aW1wb3J0e2luaXRpYWxpemVQcm9qZWN0aW9uIGFzIGQscHJvamVjdCBhcyBtfWZyb21cIi4uLy4uLy4uLy4uLy4uL2dlb21ldHJ5L3Byb2plY3Rpb25VdGlscy5qc1wiO2ltcG9ydCB1IGZyb21cIi4uLy4uLy4uLy4uLy4uL2dlb21ldHJ5L1NwYXRpYWxSZWZlcmVuY2UuanNcIjtpbXBvcnR7UXVlcnlFbmdpbmUgYXMgaH1mcm9tXCIuLi8uLi8uLi8uLi8uLi9sYXllcnMvZ3JhcGhpY3MvZGF0YS9RdWVyeUVuZ2luZS5qc1wiO2ltcG9ydCB5IGZyb21cIi4uLy4uLy4uLy4uLy4uL3Jlc3Qvc3VwcG9ydC9RdWVyeS5qc1wiO2ltcG9ydHtGZWF0dXJlUHJvY2Vzc2luZ0NvbnRleHQgYXMgcH1mcm9tXCIuL0ZlYXR1cmVQcm9jZXNzaW5nQ29udGV4dC5qc1wiO2ltcG9ydHtQaXBlbGluZUNvbW1hbmQgYXMgZn1mcm9tXCIuL1BpcGVsaW5lQ29tbWFuZC5qc1wiO2ltcG9ydHtUaWxlM0RNYW5hZ2VyIGFzIF99ZnJvbVwiLi9UaWxlM0RNYW5hZ2VyLmpzXCI7aW1wb3J0e1RpbGVMb2NrcyBhcyBDfWZyb21cIi4vVGlsZUxvY2tzLmpzXCI7aW1wb3J0e1RpbGVkRmVhdHVyZVN0b3JlIGFzIHd9ZnJvbVwiLi9mZWF0dXJlU2V0L1RpbGVkRmVhdHVyZVN0b3JlLmpzXCI7aW1wb3J0e1RpbGUzREZldGNoZXIgYXMgZ31mcm9tXCIuL2ZldGNoaW5nL1RpbGUzREZldGNoZXIuanNcIjtpbXBvcnR7UmVuZGVyQ29tbWFuZENvbnRleHQgYXMgeH1mcm9tXCIuL3JlbmRlcmluZy9SZW5kZXJDb21tYW5kQ29udGV4dC5qc1wiO2ltcG9ydHtSZW5kZXJDb29yZHNIZWxwZXIgYXMgdn1mcm9tXCIuLi8uLi8uLi9zdXBwb3J0L1JlbmRlckNvb3Jkc0hlbHBlci5qc1wiO2xldCBSPWNsYXNzIGV4dGVuZHMgYS5FdmVudGVkQWNjZXNzb3J7Y29uc3RydWN0b3IoKXtzdXBlciguLi5hcmd1bWVudHMpLHRoaXMucmVtb3RlQ2xpZW50PW51bGwsdGhpcy5fZmVhdHVyZVN0b3JlPW5ldyB3LHRoaXMuX3RpbGVMb2Nrcz1uZXcgQyx0aGlzLl90aWxlTWFuYWdlcj1udWxsLHRoaXMuX3JlbmRlcmVyPW51bGwsdGhpcy5fZmV0Y2hlcj1udWxsLHRoaXMuX3F1ZXJ5RW5naW5lPW51bGwsdGhpcy5fZGVmYXVsdFF1ZXJ5SlNPTj1udWxsLHRoaXMuX21haW5UaHJlYWREZWxlZ2F0ZT1udWxsLHRoaXMuX3ZpZXdTcGF0aWFsUmVmZXJlbmNlPW51bGwsdGhpcy5fcmVuZGVyQ29tbWFuZENvbnRleHQ9bnVsbCx0aGlzLl9jb250ZXh0PW51bGx9Z2V0IHVwZGF0aW5nKCl7cmV0dXJuIHRoaXMuX3RpbGVNYW5hZ2VyLnVwZGF0aW5nfWRlc3Ryb3koKXt0aGlzLl9mZWF0dXJlU3RvcmUuY2xlYXIoKSx0aGlzLl90aWxlTWFuYWdlcj8uZGVzdHJveSgpfWFzeW5jIHNldHVwKHt2aWV3U3BhdGlhbFJlZmVyZW5jZTplLHJlbmRlclNwYXRpYWxSZWZlcmVuY2U6dCx2aWV3aW5nTW9kZTpyLGxheWVySW5mbzphLGxheWVyVmlld0luZm86bn0pe2NvbnN0IHM9dS5mcm9tSlNPTihlKTt0aGlzLl92aWV3U3BhdGlhbFJlZmVyZW5jZT1zO2NvbnN0IGw9dS5mcm9tSlNPTih0KTt0aGlzLl9mZXRjaGVyPW5ldyBnKHRoaXMuX3ZpZXdTcGF0aWFsUmVmZXJlbmNlLHkuZnJvbUpTT04oYS5iYXNlUXVlcnkpLGEudXJsLGEub2JqZWN0SWRGaWVsZCxhLmNhcGFiaWxpdGllcyksdGhpcy5fcXVlcnlFbmdpbmU9bmV3IGgoe2hhc1o6ITAsaGFzTTohMSxnZW9tZXRyeVR5cGU6XCJlc3JpR2VvbWV0cnlQb2ludFwiLGZlYXR1cmVJZEluZm86e3R5cGU6XCJvYmplY3QtaWRcIixmaWVsZE5hbWU6YS5vYmplY3RJZEZpZWxkfSxmaWVsZHNJbmRleDphLmZpZWxkSW5kZXgsYXZhaWxhYmxlRmllbGRzOlthLm9iamVjdElkRmllbGRdLHNwYXRpYWxSZWZlcmVuY2U6ZSxmZWF0dXJlU3RvcmU6dGhpcy5fZmVhdHVyZVN0b3JlLHRpbWVJbmZvOmEudGltZUluZm99KSx0aGlzLl9tYWluVGhyZWFkRGVsZWdhdGU9e2NyZWF0ZVRleHR1cmU6YXN5bmMoZSx0KT0+e2NvbnN0IHI9e2RhdGE6ZSxwYXJhbWV0ZXJzOnR9O3JldHVybiBhd2FpdCB0aGlzLnJlbW90ZUNsaWVudC5pbnZva2UoXCJjcmVhdGVUZXh0dXJlXCIscix7dHJhbnNmZXJMaXN0OltlLmJ1ZmZlcl19KX0scmVsZWFzZVRleHR1cmU6YXN5bmMgZT0+e2NvbnN0IHQ9e3VpZDplfTthd2FpdCB0aGlzLnJlbW90ZUNsaWVudC5pbnZva2UoXCJyZWxlYXNlVGV4dHVyZVwiLHQpfSxjcmVhdGVNYXRlcmlhbDphc3luYyBlPT57Y29uc3QgdD17bWF0ZXJpYWxKU09OOmV9O2F3YWl0IHRoaXMucmVtb3RlQ2xpZW50Lmludm9rZShcImNyZWF0ZU1hdGVyaWFsXCIsdCl9LGRlc3Ryb3lNYXRlcmlhbDphc3luYyBlPT57Y29uc3QgdD17bWF0ZXJpYWxJZDplfTthd2FpdCB0aGlzLnJlbW90ZUNsaWVudC5pbnZva2UoXCJkZXN0cm95TWF0ZXJpYWxcIix0KX0sY3JlYXRlRGlyZWN0UmVuZGVyZXI6YXN5bmMgZT0+e2NvbnN0IHQ9e21hdGVyaWFsSWQ6ZX07YXdhaXQgdGhpcy5yZW1vdGVDbGllbnQuaW52b2tlKFwiY3JlYXRlRGlyZWN0UmVuZGVyZXJcIix0KX0sZGVzdHJveURpcmVjdFJlbmRlcmVyOmFzeW5jIGU9Pntjb25zdCB0PXttYXRlcmlhbElkOmV9O2F3YWl0IHRoaXMucmVtb3RlQ2xpZW50Lmludm9rZShcImRlc3Ryb3lEaXJlY3RSZW5kZXJlclwiLHQpfSxjcmVhdGVMb2RSZW5kZXJlcjphc3luYyhlLHQscik9Pntjb25zdCBhPXtyZW5kZXJlcklkOmUsbG9kUmVuZGVyR2VvbWV0cnk6dH07YXdhaXQgdGhpcy5yZW1vdGVDbGllbnQuaW52b2tlKFwiY3JlYXRlTG9EUmVuZGVyZXJcIixhLHt0cmFuc2Zlckxpc3Q6cn0pfSxkZXN0cm95TG9kUmVuZGVyZXI6YXN5bmMgZT0+e2NvbnN0IHQ9e3JlbmRlcmVySWQ6ZX07YXdhaXQgdGhpcy5yZW1vdGVDbGllbnQuaW52b2tlKFwiZGVzdHJveUxvRFJlbmRlcmVyXCIsdCl9LGV4ZWN1dGVSZW5kZXJDb21tYW5kczphc3luYyBlPT57Y29uc3QgdD17Y29tbWFuZHM6ZS5jb21tYW5kc307YXdhaXQgdGhpcy5yZW1vdGVDbGllbnQuaW52b2tlKFwiZGlzcGF0Y2hSZW5kZXJDb21tYW5kc1wiLHQse3RyYW5zZmVyTGlzdDplLnRyYW5zZmVyTGlzdH0pfSxhcHBseUVsZXZhdGlvbkFsaWdubWVudFRvOmFzeW5jIGU9Pntjb25zdCB0PXttYXBQb2ludHM6ZX07cmV0dXJuIGF3YWl0IHRoaXMucmVtb3RlQ2xpZW50Lmludm9rZShcImFwcGx5RWxldmF0aW9uQWxpZ25tZW50XCIsdCx7dHJhbnNmZXJMaXN0OltlLmJ1ZmZlcl19KX19O2NvbnN0IGY9di5jcmVhdGUocixsKSxDPW5ldyB4KHIsdGhpcy5fbWFpblRocmVhZERlbGVnYXRlKTt0aGlzLl9yZW5kZXJDb21tYW5kQ29udGV4dD1DO2NvbnN0IHc9bmV3IHAocyxsLHRoaXMuX21haW5UaHJlYWREZWxlZ2F0ZSxmLEMsYSxuKTt0aGlzLl9jb250ZXh0PXcsdGhpcy5fcmVuZGVyZXI9dy5zeW1ib2xSZW5kZXJlckZhY3RvcnkuY3JlYXRlU3ltYm9sUmVuZGVyZXJGcm9tSlNPTihhLnJlbmRlcmVyKSx0aGlzLl9kZWZhdWx0UXVlcnlKU09OPW5ldyB5KHtvdXRTcGF0aWFsUmVmZXJlbmNlOnN9KS50b0pTT04oKTtsZXQgUj1udWxsO2lmKG51bGwhPWEuZnVsbEV4dGVudCl7Y29uc3QgZT1jLmZyb21KU09OKGEuZnVsbEV4dGVudCk7YXdhaXQgZChlLnNwYXRpYWxSZWZlcmVuY2UscyksUj1tKGUscyl9cmV0dXJuIHRoaXMuX3RpbGVNYW5hZ2VyPW5ldyBfKHtsb2FkVGlsZTooZSx0KT0+dGhpcy5fZmV0Y2hlci5mZXRjaChlLHQpLGNyZWF0ZUFkZENvbW1hbmQ6KGUsdCk9PnRoaXMuX2NyZWF0ZUFkZEZlYXR1cmVEYXRhQ29tbWFuZChlLHQpLGNyZWF0ZVJlbW92ZUNvbW1hbmQ6ZT0+dGhpcy5fY3JlYXRlUmVtb3ZlRmVhdHVyZURhdGFDb21tYW5kKGUpLGNyZWF0ZVVwZGF0ZUNvbW1hbmQ6KGUsdCk9PnRoaXMuX2NyZWF0ZVVwZGF0ZUZlYXR1cmVEYXRhVmlzaWJpbGl0eUNvbW1hbmQoZSx0KSx0aWxlTG9ja3M6dGhpcy5fdGlsZUxvY2tzLGV4dGVudDpSfSksdGhpcy5hZGRIYW5kbGVzKGkoKCgpPT50aGlzLnVwZGF0aW5nKSwoZT0+e3RoaXMuZW1pdChcIm5vdGlmeS11cGRhdGluZ1wiLHt1cGRhdGluZzplfSl9KSksbyksbnVsbCE9dGhpcy5fcmVuZGVyZXImJmF3YWl0IHRoaXMuX3JlbmRlcmVyLmxvYWQoKSxqfWFzeW5jIGV4ZWN1dGVRdWVyeShlLHQpe3JldHVybntyZXN1bHQ6YXdhaXQgdGhpcy5fcXVlcnlFbmdpbmUuZXhlY3V0ZVF1ZXJ5KHRoaXMuX2Vuc3VyZVF1ZXJ5KGUpLHQpfX1hc3luYyBleGVjdXRlUXVlcnlGb3JJZHMoZSx0KXtjb25zdCByPWF3YWl0IHRoaXMuX3F1ZXJ5RW5naW5lLmV4ZWN1dGVRdWVyeUZvcklkU2V0KHRoaXMuX2Vuc3VyZVF1ZXJ5KGUpLHQpO3JldHVybntyZXN1bHQ6QXJyYXkuZnJvbShyKX19YXN5bmMgZXhlY3V0ZVF1ZXJ5Rm9yQ291bnQoZSx0KXtyZXR1cm57cmVzdWx0OmF3YWl0IHRoaXMuX3F1ZXJ5RW5naW5lLmV4ZWN1dGVRdWVyeUZvckNvdW50KHRoaXMuX2Vuc3VyZVF1ZXJ5KGUpLHQpfX1hc3luYyBleGVjdXRlUXVlcnlGb3JFeHRlbnQoZSx0KXtyZXR1cm57cmVzdWx0OmF3YWl0IHRoaXMuX3F1ZXJ5RW5naW5lLmV4ZWN1dGVRdWVyeUZvckV4dGVudCh0aGlzLl9lbnN1cmVRdWVyeShlKSx0KX19YXN5bmMgZXhlY3V0ZVF1ZXJ5Rm9yTGF0ZXN0T2JzZXJ2YXRpb25zKGUsdCl7cmV0dXJue3Jlc3VsdDphd2FpdCB0aGlzLl9xdWVyeUVuZ2luZS5leGVjdXRlUXVlcnlGb3JMYXRlc3RPYnNlcnZhdGlvbnModGhpcy5fZW5zdXJlUXVlcnkoZSksdCl9fW9uVGlsZVRyZWVDaGFuZ2UoZSl7cmV0dXJuIHRoaXMuX3RpbGVNYW5hZ2VyLm9uVGlsZVRyZWVDaGFuZ2UoZSksUHJvbWlzZS5yZXNvbHZlKGopfWFzeW5jIG9uRWxldmF0aW9uQ2hhbmdlKGUpe3JldHVybiBqfWFzeW5jIG9uTGF5ZXJWaWV3T3BhY2l0eUNoYW5nZShlKXtjb25zdHtfY29udGV4dDp0LF9yZW5kZXJlcjpyfT10aGlzO2lmKHQubGF5ZXJWaWV3SW5mby5mdWxsT3BhY2l0eT1lLG51bGw9PXIpcmV0dXJuIGo7Y29uc3QgYT1hd2FpdCByLmNyZWF0ZVVwZGF0ZUxheWVyVmlld09wYWNpdHlDb21tYW5kKGUpO3JldHVybiBhd2FpdCBhLmV4ZWN1dGUoKSxqfWFzeW5jIG9uUmVuZGVyZXJDaGFuZ2Uocil7Y29uc3R7X2NvbnRleHQ6YX09dGhpcyxuPWEuc3ltYm9sUmVuZGVyZXJGYWN0b3J5LmNyZWF0ZVN5bWJvbFJlbmRlcmVyRnJvbUpTT04ocik7YXdhaXQgbi5sb2FkKCk7Y29uc3QgaT10aGlzLl9yZW5kZXJlcjt0aGlzLl9yZW5kZXJlcj1uO2NvbnN0IG89Wy4uLnRoaXMuX3RpbGVNYW5hZ2VyLmxvYWRlZFRpbGVzKCldLHM9by5tYXAoKGU9PmUudGlsZUlkKSk7e2NvbnN0IHI9e3N0YWNrOltdLGVycm9yOnZvaWQgMCxoYXNFcnJvcjohMX07dHJ5e2Uocixhd2FpdCB0aGlzLl90aWxlTG9ja3MubG9jayhzKSwhMSk7Y29uc3QgdD1vLmZsYXRNYXAoKGU9PltpLmNyZWF0ZVJlbW92ZUNvbW1hbmQoZS5pZCksbi5jcmVhdGVBZGRDb21tYW5kKGUpXSkpLGw9YXdhaXQgUHJvbWlzZS5hbGwodCksYz1hLmpvaW5QaXBlbGluZUNvbW1hbmRzKGwpO2F3YWl0IGMuZXhlY3V0ZSgpfWNhdGNoKGMpe3IuZXJyb3I9YyxyLmhhc0Vycm9yPSEwfWZpbmFsbHl7dChyKX19Y29uc3QgbD1hd2FpdCBpLmNyZWF0ZURlc3Ryb3lDb21tYW5kKCk7cmV0dXJuIGF3YWl0IGwuZXhlY3V0ZSgpLGp9YXN5bmMgX2NyZWF0ZUFkZEZlYXR1cmVEYXRhQ29tbWFuZChlLHQpe2NvbnN0IHI9dGhpcy5fZmVhdHVyZVN0b3JlLGE9dGhpcy5fcmVuZGVyZXI7bGV0IGk7cmV0dXJuIGk9bnVsbCE9YT9hd2FpdCBhLmNyZWF0ZUFkZENvbW1hbmQoZSk6Zi5jcmVhdGUodGhpcy5fcmVuZGVyQ29tbWFuZENvbnRleHQpLG4odCksaS5hcHBlbmRQaXBlbGluZVN0YXRlQ29tbWFuZCgoKCk9PntyLmFkZFRpbGUoZSl9KSksaX1hc3luYyBfY3JlYXRlUmVtb3ZlRmVhdHVyZURhdGFDb21tYW5kKGUpe2NvbnN0IHQ9dGhpcy5fZmVhdHVyZVN0b3JlLHI9dGhpcy5fcmVuZGVyZXI7bGV0IGE7cmV0dXJuIGE9bnVsbCE9cj9hd2FpdCByLmNyZWF0ZVJlbW92ZUNvbW1hbmQoZSk6Zi5jcmVhdGUodGhpcy5fcmVuZGVyQ29tbWFuZENvbnRleHQpLGEuYXBwZW5kUGlwZWxpbmVTdGF0ZUNvbW1hbmQoKCgpPT57dC5yZW1vdmVUaWxlKGUpfSkpLGF9YXN5bmMgX2NyZWF0ZVVwZGF0ZUZlYXR1cmVEYXRhVmlzaWJpbGl0eUNvbW1hbmQoZSx0KXtjb25zdCByPXRoaXMuX3JlbmRlcmVyO2xldCBhO3JldHVybiBhPW51bGwhPXI/YXdhaXQgci5jcmVhdGVVcGRhdGVWaXNpYmlsaXR5Q29tbWFuZChlKTpmLmNyZWF0ZSh0aGlzLl9yZW5kZXJDb21tYW5kQ29udGV4dCksbih0KSxhfV9lbnN1cmVRdWVyeShlKXtyZXR1cm4gZT8/dGhpcy5fZGVmYXVsdFF1ZXJ5SlNPTn19O3IoW3MoKV0sUi5wcm90b3R5cGUsXCJ1cGRhdGluZ1wiLG51bGwpLFI9cihbbChcImVzcmkudmlld3MuM2QubGF5ZXJzLmdyYXBoaWNzLnBpcGVsaW5lLkZlYXR1cmUzRFBpcGVsaW5lV29ya2VyXCIpXSxSKTtjb25zdCBTPVIsaj17cmVzdWx0OnZvaWQgMH07ZXhwb3J0e1MgYXMgZGVmYXVsdH07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4zMy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e3JlYWQgYXMgZX1mcm9tXCIuLi8uLi8uLi8uLi8uLi9yZW5kZXJlcnMvc3VwcG9ydC9qc29uVXRpbHMuanNcIjtpbXBvcnR7UGlwZWxpbmVDb21tYW5kIGFzIHJ9ZnJvbVwiLi9QaXBlbGluZUNvbW1hbmQuanNcIjtpbXBvcnR7Y3JlYXRlRGVmYXVsdEljb25TeW1ib2xMYXllciBhcyB0fWZyb21cIi4vc3ltYm9saXphdGlvbi9mYWN0b3J5VXRpbHMuanNcIjtpbXBvcnR7SWNvblN5bWJvbExheWVyUmVuZGVyZXIgYXMgb31mcm9tXCIuL3N5bWJvbGl6YXRpb24vSWNvblN5bWJvbExheWVyUmVuZGVyZXIuanNcIjtpbXBvcnR7UG9pbnQzRFN5bWJvbFJlbmRlcmVyIGFzIG59ZnJvbVwiLi9zeW1ib2xpemF0aW9uL1BvaW50M0RTeW1ib2xSZW5kZXJlci5qc1wiO2ltcG9ydHtTaW1wbGVGZWF0dXJlUmVuZGVyZXIgYXMgaX1mcm9tXCIuL3N5bWJvbGl6YXRpb24vU2ltcGxlRmVhdHVyZVJlbmRlcmVyLmpzXCI7aW1wb3J0e1VuaXF1ZVZhbHVlRmVhdHVyZVJlbmRlcmVyIGFzIHN9ZnJvbVwiLi9zeW1ib2xpemF0aW9uL1VuaXF1ZVZhbHVlRmVhdHVyZVJlbmRlcmVyLmpzXCI7Y2xhc3MgYXtjb25zdHJ1Y3RvcihlLHIsdCxvLG4saSxzKXt0aGlzLnZpZXdTcGF0aWFsUmVmZXJlbmNlPWUsdGhpcy5yZW5kZXJTcGF0aWFsUmVmZXJlbmNlPXIsdGhpcy5tYWluVGhyZWFkRGVsZWdhdGU9dCx0aGlzLnJlbmRlckNvb3Jkc0hlbHBlcj1vLHRoaXMucmVuZGVyQ29tbWFuZENvbnRleHQ9bix0aGlzLmxheWVySW5mbz1pLHRoaXMubGF5ZXJWaWV3SW5mbz1zLHRoaXMuc3ltYm9sUmVuZGVyZXJGYWN0b3J5PW5ldyBtKHRoaXMpfWNyZWF0ZVBpcGVsaW5lQ29tbWFuZChlPXRoaXMucmVuZGVyQ29tbWFuZENvbnRleHQuY3JlYXRlUmVuZGVyQ29tbWFuZEJ1ZmZlcigpLHQ9W10pe3JldHVybiBuZXcgcih0aGlzLnJlbmRlckNvbW1hbmRDb250ZXh0LGUsdCl9am9pblBpcGVsaW5lQ29tbWFuZHMoZSl7aWYoMD09PWUubGVuZ3RoKXJldHVybiB0aGlzLmNyZWF0ZVBpcGVsaW5lQ29tbWFuZCgpO3JldHVybiBlLmZpbHRlcigoZT0+bnVsbCE9ZSkpLnJlZHVjZSgoKGUscik9PihlLmFwcGVuZChyKSxlKSkpfX1jbGFzcyBte2NvbnN0cnVjdG9yKGUpe3RoaXMuY29udGV4dD1lfWNyZWF0ZVN5bWJvbFJlbmRlcmVyRnJvbUpTT04ocil7Y29uc3QgdD1lKHI/P2wpPz92b2lkIDA7aWYoIXQpdGhyb3cgbmV3IEVycm9yKFwiRmFpbGVkIHRvIGNyZWF0ZSByZW5kZXJlclwiKTtjb25zdCBvPXQudHlwZTtzd2l0Y2gobyl7Y2FzZVwic2ltcGxlXCI6cmV0dXJuIG5ldyBpKHQsdGhpcy5jb250ZXh0KTtjYXNlXCJ1bmlxdWUtdmFsdWVcIjpyZXR1cm4gbmV3IHModCx0aGlzLmNvbnRleHQpO2RlZmF1bHQ6cmV0dXJuIGNvbnNvbGUud2FybihgVW5hYmxlIHRvIGNyZWF0ZSBzeW1ib2xyZW5kZXJlciBmb3IgcmVuZGVyZXIgb2YgJHtvfWApLHRoaXMuY3JlYXRlU3ltYm9sUmVuZGVyZXJGcm9tSlNPTihsKX19Y3JlYXRlU3ltYm9sUmVuZGVyZXJGcm9tU3ltYm9sKGUpe2NvbnN0IHI9ZT8udHlwZTtzd2l0Y2gocil7Y2FzZVwicG9pbnQtM2RcIjpyZXR1cm4gbmV3IG4oZSx0aGlzLmNvbnRleHQpO2Nhc2VcInBpY3R1cmUtbWFya2VyXCI6Y2FzZVwic2ltcGxlLW1hcmtlclwiOnJldHVybiBuZXcgbyh0KCksdGhpcy5jb250ZXh0KTtkZWZhdWx0OnJldHVybiBjb25zb2xlLndhcm4oYFVuYWJsZSB0byBjcmVhdGUgc3ltYm9scmVuZGVyZXIgZm9yIHN5bWJvbCBvZiAke3J9YCksbnVsbH19Y3JlYXRlU3ltYm9sUmVuZGVyZXJGcm9tU3ltYm9sTGF5ZXIoZSl7Y29uc3Qgcj1lLnR5cGU7cmV0dXJuXCJpY29uXCI9PT1yP25ldyBvKGUsdGhpcy5jb250ZXh0KTooY29uc29sZS53YXJuKGBVbmFibGUgdG8gY3JlYXRlIHN5bWJvbHJlbmRlcmVyIGZvciBzeW1ib2xMYXllciBvZiAke3J9YCksbnVsbCl9fWNvbnN0IGw9e3R5cGU6XCJzaW1wbGVcIn07ZXhwb3J0e2EgYXMgRmVhdHVyZVByb2Nlc3NpbmdDb250ZXh0LG0gYXMgU3ltYm9sUmVuZGVyZXJGYWN0b3J5fTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjMzL2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5jbGFzcyBle2NvbnN0cnVjdG9yKGUsbix0KXt0aGlzLnJlbmRlckNvbW1hbmRDb250ZXh0PWUsdGhpcy5yZW5kZXJDb21tYW5kQnVmZmVyPW4sdGhpcy5waXBlbGluZVN0YXRlQ29tbWFuZHM9dH1hcHBlbmQoZSl7dGhpcy5hcHBlbmRSZW5kZXJDb21tYW5kcyhlLnJlbmRlckNvbW1hbmRCdWZmZXIpLHRoaXMuYXBwZW5kUGlwZWxpbmVTdGF0ZUNvbW1hbmRzKGUucGlwZWxpbmVTdGF0ZUNvbW1hbmRzKX1hcHBlbmRSZW5kZXJDb21tYW5kcyhlKXt0aGlzLnJlbmRlckNvbW1hbmRCdWZmZXIuY29tbWFuZHMucHVzaCguLi5lLmNvbW1hbmRzKSx0aGlzLnJlbmRlckNvbW1hbmRCdWZmZXIudHJhbnNmZXJMaXN0LnB1c2goLi4uZS50cmFuc2Zlckxpc3QpfWFwcGVuZFBpcGVsaW5lU3RhdGVDb21tYW5kKGUpe3RoaXMucGlwZWxpbmVTdGF0ZUNvbW1hbmRzLnB1c2goZSl9YXBwZW5kUGlwZWxpbmVTdGF0ZUNvbW1hbmRzKGUpe2Zvcihjb25zdCBuIG9mIGUpdGhpcy5hcHBlbmRQaXBlbGluZVN0YXRlQ29tbWFuZChuKX1hc3luYyBleGVjdXRlKCl7Zm9yKGNvbnN0IGUgb2YgdGhpcy5waXBlbGluZVN0YXRlQ29tbWFuZHMpZSgpO2F3YWl0IHRoaXMucmVuZGVyQ29tbWFuZENvbnRleHQuZGlzcGF0Y2hSZW5kZXJDb21tYW5kcyh0aGlzLnJlbmRlckNvbW1hbmRCdWZmZXIpfXN0YXRpYyBjcmVhdGUobix0PVtdKXtyZXR1cm4gbmV3IGUobixuLmNyZWF0ZVJlbmRlckNvbW1hbmRCdWZmZXIoKSx0KX19ZnVuY3Rpb24gbihlKXtpZigwPT09ZS5sZW5ndGgpcmV0dXJuIG51bGw7cmV0dXJuIGUucmVkdWNlKCgoZSxuKT0+KGUuYXBwZW5kKG4pLGUpKSl9ZXhwb3J0e2UgYXMgUGlwZWxpbmVDb21tYW5kLG4gYXMgam9pbkNvbW1hbmRzfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjMzL2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7YmFzZUFycmF5TWVtb3J5IGFzIGUsYmFzZU9iamVjdE1lbW9yeSBhcyB0LGVzdGltYXRlTnVtYmVyTWVtb3J5IGFzIHN9ZnJvbVwiLi4vLi4vLi4vLi4vLi4vY29yZS9tZW1vcnlFc3RpbWF0aW9ucy5qc1wiO2NsYXNzIG57Y29uc3RydWN0b3IobixhLHIpe3RoaXMuZGVzY3JpcHRvcj1uLHRoaXMuX3BhZ2VzPWEsdGhpcy5fcGFnZVNpemU9cjtjb25zdCBpPWUrYS5yZWR1Y2UoKChlLHt1c2VkTWVtb3J5OnR9KT0+ZSt0KSwwKSxkPTMqczt0aGlzLnVzZWRNZW1vcnk9dCtpK2QsdGhpcy5mZWF0dXJlQ291bnQ9YS5yZWR1Y2UoKChlLHQpPT5lK3QuZmVhdHVyZUNvdW50KSwwKX1nZXQgaWQoKXtyZXR1cm4gdGhpcy5kZXNjcmlwdG9yLmlkfWdldE9iamVjdElkKGUpe2NvbnN0e3BhZ2VJbmRleDp0LGZlYXR1cmVQYWdlSW5kZXg6c309dGhpcy5fdHJhbnNsYXRlSW5kZXgoZSk7cmV0dXJuIHRoaXMuX3BhZ2VzW3RdLmdldE9iamVjdElkKHMpfWdldEF0dHJpYnV0ZShlLHQpe2NvbnN0e3BhZ2VJbmRleDpzLGZlYXR1cmVQYWdlSW5kZXg6bn09dGhpcy5fdHJhbnNsYXRlSW5kZXgoZSk7cmV0dXJuIHRoaXMuX3BhZ2VzW3NdLmdldEF0dHJpYnV0ZShuLHQpfWdldEF0dHJpYnV0ZUFzVGltZXN0YW1wKGUsdCl7Y29uc3R7cGFnZUluZGV4OnMsZmVhdHVyZVBhZ2VJbmRleDpufT10aGlzLl90cmFuc2xhdGVJbmRleChlKTtyZXR1cm4gdGhpcy5fcGFnZXNbc10uZ2V0QXR0cmlidXRlQXNUaW1lc3RhbXAobix0KX1nZXRBdHRyaWJ1dGVzKGUpe2NvbnN0e3BhZ2VJbmRleDp0LGZlYXR1cmVQYWdlSW5kZXg6c309dGhpcy5fdHJhbnNsYXRlSW5kZXgoZSk7cmV0dXJuIHRoaXMuX3BhZ2VzW3RdLmdldEF0dHJpYnV0ZXMocyl9Z2V0Q29vcmRpbmF0ZXMoZSx0LHMpe2NvbnN0e3BhZ2VJbmRleDpuLGZlYXR1cmVQYWdlSW5kZXg6YX09dGhpcy5fdHJhbnNsYXRlSW5kZXgoZSk7dGhpcy5fcGFnZXNbbl0uZ2V0Q29vcmRpbmF0ZXMoYSx0LHMpfWdldE9wdGltaXplZEdlb21ldHJ5KGUpe2NvbnN0e3BhZ2VJbmRleDp0LGZlYXR1cmVQYWdlSW5kZXg6c309dGhpcy5fdHJhbnNsYXRlSW5kZXgoZSk7cmV0dXJuIHRoaXMuX3BhZ2VzW3RdLmdldE9wdGltaXplZEdlb21ldHJ5KHMpfWdldENlbnRyb2lkKGUsdCl7Y29uc3R7cGFnZUluZGV4OnMsZmVhdHVyZVBhZ2VJbmRleDpufT10aGlzLl90cmFuc2xhdGVJbmRleChlKTtyZXR1cm4gdGhpcy5fcGFnZXNbc10uZ2V0Q2VudHJvaWQobix0KX1nZXRCb3VuZHMoZSl7Y29uc3R7cGFnZUluZGV4OnQsZmVhdHVyZVBhZ2VJbmRleDpzfT10aGlzLl90cmFuc2xhdGVJbmRleChlKTtyZXR1cm4gdGhpcy5fcGFnZXNbdF0uZ2V0Qm91bmRzKHMpfWdldEJvdW5kaW5nQm94KGUpe2NvbnN0e3BhZ2VJbmRleDp0LGZlYXR1cmVQYWdlSW5kZXg6c309dGhpcy5fdHJhbnNsYXRlSW5kZXgoZSk7cmV0dXJuIHRoaXMuX3BhZ2VzW3RdLmdldEJvdW5kaW5nQm94KHMpfWdldE9iamVjdElkc0FycmF5KGUsdD10aGlzLl9hbGxGZWF0dXJlSW5kaWNlcygpLHM9MCl7bGV0IG49cztmb3IoY29uc3R7cGFnZTphLGluZGljZXM6cn1vZiB0aGlzLl9iYXRjaFBhZ2VJbmRpY2VzKHQpKW49YS5nZXRPYmplY3RJZHNBcnJheShlLHIsbik7cmV0dXJuIG59Z2V0Q29vcmRpbmF0ZXNBcnJheShlLHQ9dGhpcy5fYWxsRmVhdHVyZUluZGljZXMoKSxzPTApe2xldCBuPXM7Zm9yKGNvbnN0e3BhZ2U6YSxpbmRpY2VzOnJ9b2YgdGhpcy5fYmF0Y2hQYWdlSW5kaWNlcyh0KSluPWEuZ2V0Q29vcmRpbmF0ZXNBcnJheShlLHIsbik7cmV0dXJuIG59Km9iamVjdElkcyhlPXRoaXMuX2FsbEZlYXR1cmVJbmRpY2VzKCkpe2Zvcihjb25zdHtwYWdlOnQsaW5kaWNlczpzfW9mIHRoaXMuX2JhdGNoUGFnZUluZGljZXMoZSkpZm9yKGNvbnN0IGUgb2YgdC5vYmplY3RJZHMocykpeWllbGQgZX0qX2FsbEZlYXR1cmVJbmRpY2VzKCl7Y29uc3R7ZmVhdHVyZUNvdW50OmV9PXRoaXM7Zm9yKGxldCB0PTA7dDxlOysrdCl5aWVsZCB0fV90cmFuc2xhdGVJbmRleChlKXtjb25zdHtfcGFnZVNpemU6dH09dGhpcztyZXR1cm57cGFnZUluZGV4Ok1hdGguZmxvb3IoZS90KSxmZWF0dXJlUGFnZUluZGV4OmUldH19Kl9iYXRjaFBhZ2VJbmRpY2VzKGUpe2NvbnN0IHQ9bmV3IEFycmF5O3tsZXQgcz0wLG49bmV3IEFycmF5O2Zvcihjb25zdCBhIG9mIGUpe2NvbnN0e3BhZ2VJbmRleDplLGZlYXR1cmVQYWdlSW5kZXg6cn09dGhpcy5fdHJhbnNsYXRlSW5kZXgoYSk7cyE9PWUmJigwIT09bi5sZW5ndGgmJnQucHVzaCh7cGFnZUluZGV4OnMsaW5kaWNlczpufSkscz1lLG49W10pLG4ucHVzaChyKX0wIT09bi5sZW5ndGgmJnQucHVzaCh7cGFnZUluZGV4OnMsaW5kaWNlczpufSl9Y29uc3R7X3BhZ2VzOnN9PXRoaXM7Zm9yKGNvbnN0e3BhZ2VJbmRleDpuLGluZGljZXM6YX1vZiB0KXlpZWxke3BhZ2U6c1tuXSxpbmRpY2VzOmF9fX1leHBvcnR7biBhcyBUaWxlfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjMzL2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7YiBhcyB0LGMgYXMgZSxfIGFzIHN9ZnJvbVwiLi4vLi4vLi4vLi4vLi4vY2h1bmtzL3RzbGliLmVzNi5qc1wiO2ltcG9ydCBvIGZyb21cIi4uLy4uLy4uLy4uLy4uL2NvcmUvQWNjZXNzb3IuanNcIjtpbXBvcnR7aXNTb21lIGFzIGF9ZnJvbVwiLi4vLi4vLi4vLi4vLi4vY29yZS9hcnJheVV0aWxzLmpzXCI7aW1wb3J0e2NyZWF0ZVRhc2sgYXMgaX1mcm9tXCIuLi8uLi8uLi8uLi8uLi9jb3JlL2FzeW5jVXRpbHMuanNcIjtpbXBvcnQgaGFzIGZyb21cIi4uLy4uLy4uLy4uLy4uL2NvcmUvaGFzLmpzXCI7aW1wb3J0e3Rocm93SWZBYm9ydGVkIGFzIHIsdGhyb3dJZk5vdEFib3J0RXJyb3IgYXMgbn1mcm9tXCIuLi8uLi8uLi8uLi8uLi9jb3JlL3Byb21pc2VVdGlscy5qc1wiO2ltcG9ydCBsIGZyb21cIi4uLy4uLy4uLy4uLy4uL2NvcmUvUmVhY3RpdmVNYXAuanNcIjtpbXBvcnR7d2hlbk9uY2UgYXMgY31mcm9tXCIuLi8uLi8uLi8uLi8uLi9jb3JlL3JlYWN0aXZlVXRpbHMuanNcIjtpbXBvcnR7d2FpdFRpY2sgYXMgZH1mcm9tXCIuLi8uLi8uLi8uLi8uLi9jb3JlL3NjaGVkdWxpbmcuanNcIjtpbXBvcnR7cHJvcGVydHkgYXMgdX1mcm9tXCIuLi8uLi8uLi8uLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3Byb3BlcnR5LmpzXCI7aW1wb3J0XCIuLi8uLi8uLi8uLi8uLi9jb3JlL0xvZ2dlci5qc1wiO2ltcG9ydHtzdWJjbGFzcyBhcyBofWZyb21cIi4uLy4uLy4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvc3ViY2xhc3MuanNcIjtpbXBvcnR7ZnJvbUV4dGVudCBhcyBmLGludGVyc2VjdHMgYXMgcH1mcm9tXCIuLi8uLi8uLi8uLi8uLi9nZW9tZXRyeS9zdXBwb3J0L2FhQm91bmRpbmdSZWN0LmpzXCI7aW1wb3J0e2pvaW5Db21tYW5kcyBhcyBtfWZyb21cIi4vUGlwZWxpbmVDb21tYW5kLmpzXCI7aW1wb3J0e0ZlYXR1cmVEYXRhIGFzIHl9ZnJvbVwiLi9mZWF0dXJlRGF0YS9GZWF0dXJlRGF0YS5qc1wiO2xldCBfPWNsYXNzIGV4dGVuZHMgb3tjb25zdHJ1Y3Rvcih0KXtzdXBlcih0KSx0aGlzLmV4dGVudD1udWxsLHRoaXMuX3RpbGVIYW5kbGVzPW5ldyBsLHRoaXMuX3dhbnRlZD1uZXcgbCx0aGlzLl91cGRhdGVSZXF1ZXN0ZWQ9ITEsdGhpcy5fc3luY2hyb25pemF0aW9uVGFzaz1udWxsLHRoaXMuX3JlcXVlc3RlZFRpbGVzPW5ldyBBcnJheX1kZXN0cm95KCl7dGhpcy5fdGlsZUhhbmRsZXMuY2xlYXIoKSx0aGlzLl93YW50ZWQuY2xlYXIoKX1nZXQgdXBkYXRpbmcoKXtyZXR1cm4gdGhpcy5fdXBkYXRlUmVxdWVzdGVkfHwhKHRoaXMuX3N5bmNocm9uaXphdGlvblRhc2s/LmZpbmlzaGVkPz8xKX1nZXQgX2JvdW5kaW5nUmVjdCgpe2NvbnN0e2V4dGVudDp0fT10aGlzO3JldHVybiBudWxsPT10P251bGw6Zih0KX1nZXQgX21pc3NpbmdUaWxlcygpe2NvbnN0IHQ9bmV3IEFycmF5LGU9dGhpcy5fd2FudGVkLHM9dGhpcy5fdGlsZUhhbmRsZXM7Zm9yKGNvbnN0IG8gb2YgZS52YWx1ZXMoKSludWxsPT1zLmdldChvLmlkKT8uZmVhdHVyZURhdGEmJnQucHVzaChvKTtyZXR1cm4gdH1vblRpbGVUcmVlQ2hhbmdlKHt0aWxlczp0fSl7dGhpcy5fcmVxdWVzdGVkVGlsZXM9dCx0aGlzLl9zY2hlZHVsZVRpbGVzU3luYygpfV9zY2hlZHVsZVRpbGVzU3luYygpe2lmKHRoaXMuX3VwZGF0ZVJlcXVlc3RlZClyZXR1cm47dGhpcy5fdXBkYXRlUmVxdWVzdGVkPSEwO2NvbnN0IHQ9dGhpcy5fc3luY2hyb25pemF0aW9uVGFzayxlPWkoKGFzeW5jKCk9Pnt0cnl7YXdhaXQgYygoKCk9PnQ/LmZpbmlzaGVkPz8hMCkpLGF3YWl0IGQoKSx0aGlzLl91cGRhdGVSZXF1ZXN0ZWQ9ITEsYXdhaXQgdGhpcy5fc3luY2hyb25pemVUaWxlcygpfWZpbmFsbHl7dGhpcy5fc3luY2hyb25pemF0aW9uVGFzaz09PWUmJih0aGlzLl9zeW5jaHJvbml6YXRpb25UYXNrPW51bGwpfX0pKTt0aGlzLl9zeW5jaHJvbml6YXRpb25UYXNrPWV9YXN5bmMgX3N5bmNocm9uaXplVGlsZXMoKXtjb25zdCB0PXRoaXMuX3JlcXVlc3RlZFRpbGVzLGU9dGhpcy5fdGlsZUhhbmRsZXMscz1uZXcgQXJyYXk7Zm9yKGNvbnN0IHUgb2YgdCllLmhhcyh1LmlkKXx8cy5wdXNoKHUpO2NvbnN0IG89bmV3IEFycmF5O2Zvcihjb25zdCB1IG9mIGUudmFsdWVzKCkpe2NvbnN0e2lkOmV9PXU7dC5ldmVyeSgodD0+dC5pZCE9PWUpKSYmby5wdXNoKHUuZGVzY3JpcHRvcil9Y29uc3QgYT10aGlzLl90aWxlSGFuZGxlcyx7X2JvdW5kaW5nUmVjdDppfT10aGlzLHI9bnVsbCE9aT9zLmZpbHRlcigodD0+cChpLHQuZXh0ZW50KSkpOnMsbj10aGlzLl93YW50ZWQsbD1uZXcgQXJyYXk7Zm9yKGNvbnN0e2lkOnV9b2YgbyluLmRlbGV0ZSh1KTtmb3IoY29uc3QgdSBvZiByKW4uc2V0KHUuaWQsdSk7Y29uc3QgYz10aGlzLl9taXNzaW5nVGlsZXM7Zm9yKGNvbnN0IHUgb2Ygbyl7Y29uc3R7aWQ6dH09dTtpZihjLnNvbWUoKHQ9PncodCx1KXx8dyh1LHQpKSkpY29udGludWU7Y29uc3QgZT1hLmdldCh0KTtudWxsIT1lJiZsLnB1c2godGhpcy5fcmVtb3ZlVGlsZShlKSl9Zm9yKGNvbnN0IHUgb2YgcilsLnB1c2godGhpcy5fYWRkVGlsZSh1KSk7Y29uc3QgZD1hd2FpdCBQcm9taXNlLmFsbFNldHRsZWQobCk7Zm9yKGNvbnN0IHUgb2YgZClcInJlamVjdGVkXCI9PT11LnN0YXR1cyYmY29uc29sZS5lcnJvcih1LnJlYXNvbil9Zm9yRWFjaFRpbGUodCl7Zm9yKGNvbnN0IGUgb2YgdGhpcy5fdGlsZUhhbmRsZXMudmFsdWVzKCkpe2NvbnN0IHM9ZS5mZWF0dXJlRGF0YTtudWxsIT1zJiZ0KHMpfX0qbG9hZGVkVGlsZXMoKXtmb3IoY29uc3QgdCBvZiB0aGlzLl90aWxlSGFuZGxlcy52YWx1ZXMoKSl7Y29uc3QgZT10LmZlYXR1cmVEYXRhO251bGwhPWUmJih5aWVsZCBlKX19YXN5bmMgX3JlbW92ZVRpbGUocyl7cy5sb2FkVGFzay5hYm9ydCgpLHRoaXMuX3RpbGVIYW5kbGVzLmRlbGV0ZShzLmlkKSx0aGlzLl92YWxpZGF0ZSgpO2NvbnN0e2ZlYXR1cmVEYXRhOm99PXM7aWYobnVsbCE9byl7Y29uc3Qgcz17c3RhY2s6W10sZXJyb3I6dm9pZCAwLGhhc0Vycm9yOiExfTt0cnl7dChzLGF3YWl0IHRoaXMudGlsZUxvY2tzLmxvY2soW28udGlsZUlkXSksITEpO2NvbnN0IGU9YXdhaXQgdGhpcy5jcmVhdGVSZW1vdmVDb21tYW5kKG8uaWQpO2F3YWl0KGU/LmV4ZWN1dGUoKSl9Y2F0Y2goYSl7cy5lcnJvcj1hLHMuaGFzRXJyb3I9ITB9ZmluYWxseXtlKHMpfX19YXN5bmMgX2FkZFRpbGUodCl7Y29uc3R7X3RpbGVIYW5kbGVzOmV9PXRoaXMscz1lLmdldCh0LmlkKTtpZihudWxsIT1zKXtpZighVChzKXx8cy5mZWF0dXJlRGF0YS5pc0Z1bGx5RW5hYmxlZClyZXR1cm47cmV0dXJuIHMuZmVhdHVyZURhdGEuZW5hYmxlQWxsKCksdm9pZCBhd2FpdCB0aGlzLl9vblRpbGVMb2FkKHMpfWNvbnN0IG89bmV3IHYodCxpKChhc3luYyBlPT57Y29uc3Qgcz1hd2FpdCB0aGlzLmxvYWRUaWxlKHQsZSk7cmV0dXJuIHIoZSksbmV3IHkocyl9KSkpO3RoaXMuX3RpbGVIYW5kbGVzLnNldChvLmlkLG8pO3RyeXthd2FpdCBvLmxvYWRUYXNrLnByb21pc2V9Y2F0Y2goYSl7cmV0dXJuIHZvaWQgbihhKX1nKG8pLGF3YWl0IHRoaXMuX29uVGlsZUxvYWQobyl9YXN5bmMgX29uVGlsZUxvYWQocyl7Y29uc3Qgbz17c3RhY2s6W10sZXJyb3I6dm9pZCAwLGhhc0Vycm9yOiExfTt0cnl7Y29uc3R7X3dhbnRlZDplLF90aWxlSGFuZGxlczppLF9taXNzaW5nVGlsZXM6cn09dGhpcyxuPXMuZGVzY3JpcHRvcixsPW5ldyBBcnJheSxjPW5ldyBBcnJheSxkPW5ldyBBcnJheSx1PW5ldyBTZXQ7Zm9yKGNvbnN0IHQgb2YgaS52YWx1ZXMoKSl7aWYodD09PXMpY29udGludWU7Y29uc3R7ZGVzY3JpcHRvcjpvLGlkOmF9PXQ7aWYoZS5oYXMoYSl8fHIuc29tZSgodD0+dyh0LG8pfHx3KG8sdCkpKSl7aWYoVCh0KSl7aWYodyhuLG8pKXtjb25zdCBlPXQuZmVhdHVyZURhdGE7Zm9yKGNvbnN0IHQgb2YgZS5vYmplY3RJZHMoKSl1LmFkZCh0KX1pZih3KG8sbikpe2NvbnN0e2ZlYXR1cmVEYXRhOmV9PXQ7Yy5wdXNoKGUpfX19ZWxzZXtpLmRlbGV0ZShhKSx0LmxvYWRUYXNrLmFib3J0KCk7Y29uc3R7ZmVhdHVyZURhdGE6ZX09dDtudWxsIT1lJiZsLnB1c2goZSl9fXUuc2l6ZT4wJiYocy5mZWF0dXJlRGF0YS5kaXNhYmxlT2JqZWN0SWRzKHUpLHRoaXMuX3ZhbGlkYXRlUmVtb3ZhbChzLmZlYXR1cmVEYXRhLHUpKSx0aGlzLl92YWxpZGF0ZSgpLGQucHVzaChzLmZlYXR1cmVEYXRhKTtjb25zdCBoPVsuLi5kLC4uLmwsLi4uY10ubWFwKCh0PT50LnRpbGVJZCkpO3Qobyxhd2FpdCB0aGlzLnRpbGVMb2Nrcy5sb2NrKGgpLCExKTtpZigwIT09Yy5sZW5ndGgpe2NvbnN0IHQ9cy5mZWF0dXJlRGF0YSxlPW5ldyBTZXQodC5vYmplY3RJZHMoKSk7Zm9yKGNvbnN0IHMgb2YgYylzLmRpc2FibGVPYmplY3RJZHMoZSksdGhpcy5fdmFsaWRhdGVSZW1vdmFsKHMsZSl9Y29uc3QgZj1sLm1hcCgodD0+dGhpcy5jcmVhdGVSZW1vdmVDb21tYW5kKHQuaWQpKSkscD1kLm1hcCgodD0+dGhpcy5jcmVhdGVBZGRDb21tYW5kKHQpKSkseT1jLm1hcCgodD0+dGhpcy5jcmVhdGVVcGRhdGVDb21tYW5kKHQpKSksXz1hd2FpdCBQcm9taXNlLmFsbChbLi4uZiwuLi5wLC4uLnldKSx2PW0oXy5maWx0ZXIoYSkpO2F3YWl0KHY/LmV4ZWN1dGUoKSl9Y2F0Y2goaSl7by5lcnJvcj1pLG8uaGFzRXJyb3I9ITB9ZmluYWxseXtlKG8pfX1fdmFsaWRhdGUoKXtpZighaGFzKFwiZmVhdHVyZS1waXBlbGluZS0zZC10ZXN0LXZhbGlkYXRpb25cIikpcmV0dXJuO2NvbnN0IHQ9bmV3IEFycmF5O2Zvcihjb25zdCBlIG9mIHRoaXMuX3RpbGVIYW5kbGVzLnZhbHVlcygpKXtpZighVChlKSljb250aW51ZTtjb25zdHtmZWF0dXJlRGF0YTpzfT1lO3QucHVzaCh7ZmVhdHVyZURhdGE6cyxvYmplY3RJZHM6bmV3IFNldChzLmVuYWJsZWRPYmplY3RJZHMoKSl9KX1mb3IobGV0IGU9MDtlPHQubGVuZ3RoOysrZSl7Y29uc3R7ZmVhdHVyZURhdGE6cyxvYmplY3RJZHM6b309dFtlXTtmb3IobGV0IGE9ZSsxO2E8dC5sZW5ndGg7KythKXtjb25zdHtmZWF0dXJlRGF0YTplLG9iamVjdElkczppfT10W2FdO2Zvcihjb25zdCB0IG9mIGkpaWYoby5oYXModCkpdGhyb3cgbmV3IEVycm9yKGAke3MuaWR9IGFuZCAke2UuaWR9IGJvdGggY29udGFpbiAke3R9LmApfX19X3ZhbGlkYXRlUmVtb3ZhbCh0LGUpe2lmKGhhcyhcImZlYXR1cmUtcGlwZWxpbmUtM2QtdGVzdC12YWxpZGF0aW9uXCIpKWZvcihjb25zdCBzIG9mIHQuZW5hYmxlZE9iamVjdElkcygpKWlmKGUuaGFzKHMpKXRocm93IG5ldyBFcnJvcihgRmFpbGVkIHRvIHJlbW92ZSAke3N9IGZyb20gJHt0LmlkfSFgKX19O2Z1bmN0aW9uIHcoe2xpajpbdCxlLHNdfSx7bGlqOltvLGEsaV19KXtjb25zdCByPW8tdDtyZXR1cm4gcj49MCYmZT09PWE+PnImJnM9PT1pPj5yfXMoW3UoKV0sXy5wcm90b3R5cGUsXCJ1cGRhdGluZ1wiLG51bGwpLHMoW3Uoe2NvbnN0cnVjdE9ubHk6ITB9KV0sXy5wcm90b3R5cGUsXCJsb2FkVGlsZVwiLHZvaWQgMCkscyhbdSh7Y29uc3RydWN0T25seTohMH0pXSxfLnByb3RvdHlwZSxcImNyZWF0ZUFkZENvbW1hbmRcIix2b2lkIDApLHMoW3Uoe2NvbnN0cnVjdE9ubHk6ITB9KV0sXy5wcm90b3R5cGUsXCJjcmVhdGVSZW1vdmVDb21tYW5kXCIsdm9pZCAwKSxzKFt1KHtjb25zdHJ1Y3RPbmx5OiEwfSldLF8ucHJvdG90eXBlLFwiY3JlYXRlVXBkYXRlQ29tbWFuZFwiLHZvaWQgMCkscyhbdSh7Y29uc3RydWN0T25seTohMH0pXSxfLnByb3RvdHlwZSxcInRpbGVMb2Nrc1wiLHZvaWQgMCkscyhbdSgpXSxfLnByb3RvdHlwZSxcImV4dGVudFwiLHZvaWQgMCkscyhbdSgpXSxfLnByb3RvdHlwZSxcIl9ib3VuZGluZ1JlY3RcIixudWxsKSxzKFt1KCldLF8ucHJvdG90eXBlLFwiX21pc3NpbmdUaWxlc1wiLG51bGwpLHMoW3UoKV0sXy5wcm90b3R5cGUsXCJfdXBkYXRlUmVxdWVzdGVkXCIsdm9pZCAwKSxzKFt1KCldLF8ucHJvdG90eXBlLFwiX3N5bmNocm9uaXphdGlvblRhc2tcIix2b2lkIDApLF89cyhbaChcImVzcmkudmlld3MuM2QubGF5ZXJzLmdyYXBoaWNzLnBpcGVsaW5lLlRpbGUzRE1hbmFnZXJcIildLF8pO2NsYXNzIHZ7Y29uc3RydWN0b3IodCxlKXt0aGlzLmRlc2NyaXB0b3I9dCx0aGlzLmxvYWRUYXNrPWV9Z2V0IGlkKCl7cmV0dXJuIHRoaXMuZGVzY3JpcHRvci5pZH1nZXQgZmVhdHVyZURhdGEoKXtyZXR1cm4gdGhpcy5sb2FkVGFzay52YWx1ZX19ZnVuY3Rpb24gVCh0KXtyZXR1cm4gbnVsbCE9dC5mZWF0dXJlRGF0YX1mdW5jdGlvbiBnKHQpe2lmKCFUKHQpKXRocm93IG5ldyBFcnJvcn1leHBvcnR7XyBhcyBUaWxlM0RNYW5hZ2VyfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjMzL2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7aXNTb21lIGFzIG99ZnJvbVwiLi4vLi4vLi4vLi4vLi4vY29yZS9hcnJheVV0aWxzLmpzXCI7aW1wb3J0e2Rpc3Bvc2FibGUgYXMgcixtYWtlSGFuZGxlIGFzIHR9ZnJvbVwiLi4vLi4vLi4vLi4vLi4vY29yZS9oYW5kbGVVdGlscy5qc1wiO2ltcG9ydHtjcmVhdGVSZXNvbHZlciBhcyBzfWZyb21cIi4uLy4uLy4uLy4uLy4uL2NvcmUvcHJvbWlzZVV0aWxzLmpzXCI7Y2xhc3MgZXtjb25zdHJ1Y3Rvcigpe3RoaXMuX3ByZXZpb3VzQWN0aW9ucz1uZXcgTWFwfWFzeW5jIGxvY2soZSl7Y29uc3R7X3ByZXZpb3VzQWN0aW9uczppfT10aGlzLGw9ZS5tYXAoKG89PmkuZ2V0KG8pKSkuZmlsdGVyKG8pLGM9UHJvbWlzZS5hbGxTZXR0bGVkKGwpLGE9cygpLG49dCgoKCk9PmEucmVzb2x2ZSgpKSksbT1hLnByb21pc2UuZmluYWxseSgoKCk9Pntmb3IoY29uc3QgbyBvZiBlKWkuZ2V0KG8pPT09bSYmaS5kZWxldGUobyl9KSk7Zm9yKGNvbnN0IG8gb2YgZSlpLnNldChvLG0pO3JldHVybiBhd2FpdCBjLHIobil9fWV4cG9ydHtlIGFzIFRpbGVMb2Nrc307XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4zMy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e2Jhc2VPYmplY3RNZW1vcnkgYXMgdCxlc3RpbWF0ZVN0cmluZ01lbW9yeSBhcyBlfWZyb21cIi4uLy4uLy4uLy4uLy4uLy4uL2NvcmUvbWVtb3J5RXN0aW1hdGlvbnMuanNcIjtpbXBvcnR7Z2VuZXJhdGVJZCBhcyByfWZyb21cIi4uL3V0aWxzLmpzXCI7aW1wb3J0e0ZlYXR1cmVEYXRhU3Vic2V0IGFzIGl9ZnJvbVwiLi9GZWF0dXJlRGF0YVN1YnNldC5qc1wiO2NsYXNzIHN7Y29uc3RydWN0b3IodCl7dGhpcy5fdGlsZT10LHRoaXMuaWQ9cihgZmVhdHVyZURhdGEtJHt0LmlkfS1gKSx0aGlzLl9lbmFibGVkPW5ldyBBcnJheSh0LmZlYXR1cmVDb3VudCkuZmlsbCghMCl9Z2V0IHRpbGVJZCgpe3JldHVybiB0aGlzLl90aWxlLmlkfWdldCBmZWF0dXJlQ291bnQoKXtyZXR1cm4gdGhpcy5fdGlsZS5mZWF0dXJlQ291bnR9Z2V0IHVzZWRNZW1vcnkoKXtyZXR1cm4gdCtlKHRoaXMuaWQpfWdldCBleHRlbnQoKXtyZXR1cm4gdGhpcy5fdGlsZS5kZXNjcmlwdG9yLmV4dGVudH1nZXQgaXNGdWxseUVuYWJsZWQoKXtyZXR1cm4gdGhpcy5fZW5hYmxlZC5ldmVyeSgodD0+dCkpfWdldE9iamVjdElkKHQpe3JldHVybiB0aGlzLl90aWxlLmdldE9iamVjdElkKHQpfWdldEF0dHJpYnV0ZSh0LGUpe3JldHVybiB0aGlzLl90aWxlLmdldEF0dHJpYnV0ZSh0LGUpfWdldEF0dHJpYnV0ZUFzVGltZXN0YW1wKHQsZSl7cmV0dXJuIHRoaXMuX3RpbGUuZ2V0QXR0cmlidXRlKHQsZSl9Z2V0QXR0cmlidXRlcyh0KXtyZXR1cm4gdGhpcy5fdGlsZS5nZXRBdHRyaWJ1dGVzKHQpfWdldENvb3JkaW5hdGVzKHQsZSxyKXtyZXR1cm4gdGhpcy5fdGlsZS5nZXRDb29yZGluYXRlcyh0LGUscil9Z2V0T3B0aW1pemVkR2VvbWV0cnkodCl7cmV0dXJuIHRoaXMuX3RpbGUuZ2V0T3B0aW1pemVkR2VvbWV0cnkodCl9Z2V0Q2VudHJvaWQodCxlKXtyZXR1cm4gdGhpcy5fdGlsZS5nZXRDZW50cm9pZCh0LGUpfWdldEJvdW5kcyh0KXtyZXR1cm4gdGhpcy5fdGlsZS5nZXRCb3VuZHModCl9Z2V0Qm91bmRpbmdCb3godCl7cmV0dXJuIHRoaXMuX3RpbGUuZ2V0Qm91bmRpbmdCb3godCl9Z2V0T2JqZWN0SWRzQXJyYXkodCxlLHIpe3JldHVybiB0aGlzLl90aWxlLmdldE9iamVjdElkc0FycmF5KHQsZSxyKX1nZXRDb29yZGluYXRlc0FycmF5KHQsZSxyKXtyZXR1cm4gdGhpcy5fdGlsZS5nZXRDb29yZGluYXRlc0FycmF5KHQsZSxyKX1vYmplY3RJZHModCl7cmV0dXJuIHRoaXMuX3RpbGUub2JqZWN0SWRzKHQpfXN1YnNldCh0KXtyZXR1cm4gbmV3IGkodGhpcyx0KX1kaXNhYmxlT2JqZWN0SWRzKHQpe2lmKDA9PT10LnNpemUpcmV0dXJuO2NvbnN0e19lbmFibGVkOmV9PXRoaXMscj1uZXcgQXJyYXk7Zm9yKGNvbnN0IGkgb2YgdGhpcy5fYWxsRmVhdHVyZUluZGljZXMoKSllW2ldJiZ0Lmhhcyh0aGlzLmdldE9iamVjdElkKGkpKSYmci5wdXNoKGkpO2lmKDAhPT1yLmxlbmd0aClmb3IoY29uc3QgaSBvZiByKWVbaV09ITF9c2V0RW5hYmxlZCh0LGUpe3RoaXMuX2VuYWJsZWRbdF09ZX1nZXRFbmFibGVkKHQpe3JldHVybiB0aGlzLl9lbmFibGVkW3RdfWVuYWJsZUFsbCgpe3RoaXMuX2VuYWJsZWQuZmlsbCghMCl9Z2V0VmlzaWJpbGl0eUFycmF5KHQsZT10aGlzLl9hbGxGZWF0dXJlSW5kaWNlcygpLHI9MCl7Y29uc3R7X2VuYWJsZWQ6aX09dGhpcztmb3IoY29uc3QgcyBvZiBlKXRbcisrXT1OdW1iZXIoaVtzXSk7cmV0dXJuIHJ9KmVuYWJsZWRPYmplY3RJZHModD10aGlzLl9hbGxGZWF0dXJlSW5kaWNlcygpKXtjb25zdHtfZW5hYmxlZDplfT10aGlzO2Zvcihjb25zdCByIG9mIHQpZVtyXSYmKHlpZWxkIHRoaXMuZ2V0T2JqZWN0SWQocikpfSpfYWxsRmVhdHVyZUluZGljZXMoKXtjb25zdHtmZWF0dXJlQ291bnQ6dH09dGhpcztmb3IobGV0IGU9MDtlPHQ7KytlKXlpZWxkIGV9fWV4cG9ydHtzIGFzIEZlYXR1cmVEYXRhfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjMzL2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7YmFzZU9iamVjdE1lbW9yeSBhcyB0fWZyb21cIi4uLy4uLy4uLy4uLy4uLy4uL2NvcmUvbWVtb3J5RXN0aW1hdGlvbnMuanNcIjtpbXBvcnR7Z2VuZXJhdGVJZCBhcyBlfWZyb21cIi4uL3V0aWxzLmpzXCI7Y2xhc3Mgc3tjb25zdHJ1Y3Rvcih0LHMpe3RoaXMuX3BhcmVudD10LHRoaXMuX3N1YnNldEluZGljZXM9cyx0aGlzLmlkPWUoYGZlYXR1cmVEYXRhU3Vic2V0LSR7dC5pZH0tYCl9Z2V0IHRpbGVJZCgpe3JldHVybiB0aGlzLl9wYXJlbnQudGlsZUlkfWdldCBleHRlbnQoKXtyZXR1cm4gdGhpcy5fcGFyZW50LmV4dGVudH1nZXQgZmVhdHVyZUNvdW50KCl7cmV0dXJuIHRoaXMuX3N1YnNldEluZGljZXMubGVuZ3RofWdldCB1c2VkTWVtb3J5KCl7cmV0dXJuIHRoaXMuX3BhcmVudC51c2VkTWVtb3J5K3QrdGhpcy5fc3Vic2V0SW5kaWNlcy5ieXRlTGVuZ3RofWdldCBpc0Z1bGx5RW5hYmxlZCgpe2Zvcihjb25zdCB0IG9mIHRoaXMuX3N1YnNldEluZGljZXMpaWYoIXRoaXMuX3BhcmVudC5nZXRFbmFibGVkKHQpKXJldHVybiExO3JldHVybiEwfWdldE9iamVjdElkKHQpe3JldHVybiB0aGlzLl9wYXJlbnQuZ2V0T2JqZWN0SWQodGhpcy5fc3Vic2V0SW5kaWNlc1t0XSl9Z2V0QXR0cmlidXRlKHQsZSl7cmV0dXJuIHRoaXMuX3BhcmVudC5nZXRBdHRyaWJ1dGUodGhpcy5fc3Vic2V0SW5kaWNlc1t0XSxlKX1nZXRBdHRyaWJ1dGVBc1RpbWVzdGFtcCh0LGUpe3JldHVybiB0aGlzLl9wYXJlbnQuZ2V0QXR0cmlidXRlKHRoaXMuX3N1YnNldEluZGljZXNbdF0sZSl9Z2V0QXR0cmlidXRlcyh0KXtyZXR1cm4gdGhpcy5fcGFyZW50LmdldEF0dHJpYnV0ZXModGhpcy5fc3Vic2V0SW5kaWNlc1t0XSl9Z2V0Q29vcmRpbmF0ZXModCxlLHMpe3JldHVybiB0aGlzLl9wYXJlbnQuZ2V0Q29vcmRpbmF0ZXModGhpcy5fc3Vic2V0SW5kaWNlc1t0XSxlLHMpfWdldE9wdGltaXplZEdlb21ldHJ5KHQpe3JldHVybiB0aGlzLl9wYXJlbnQuZ2V0T3B0aW1pemVkR2VvbWV0cnkodGhpcy5fc3Vic2V0SW5kaWNlc1t0XSl9Z2V0Q2VudHJvaWQodCxlKXtyZXR1cm4gdGhpcy5fcGFyZW50LmdldENlbnRyb2lkKHRoaXMuX3N1YnNldEluZGljZXNbdF0sZSl9Z2V0Qm91bmRzKHQpe3JldHVybiB0aGlzLl9wYXJlbnQuZ2V0Qm91bmRzKHRoaXMuX3N1YnNldEluZGljZXNbdF0pfWdldEJvdW5kaW5nQm94KHQpe3JldHVybiB0aGlzLl9wYXJlbnQuZ2V0Qm91bmRpbmdCb3godGhpcy5fc3Vic2V0SW5kaWNlc1t0XSl9Z2V0T2JqZWN0SWRzQXJyYXkodCxlLHMpe3JldHVybiB0aGlzLl9wYXJlbnQuZ2V0T2JqZWN0SWRzQXJyYXkodCx0aGlzLl90cmFuc2xhdGVkSW5kaWNlcyhlKSxzKX1nZXRDb29yZGluYXRlc0FycmF5KHQsZSxzKXtyZXR1cm4gdGhpcy5fcGFyZW50LmdldENvb3JkaW5hdGVzQXJyYXkodCx0aGlzLl90cmFuc2xhdGVkSW5kaWNlcyhlKSxzKX1vYmplY3RJZHModCl7cmV0dXJuIHRoaXMuX3BhcmVudC5vYmplY3RJZHModGhpcy5fdHJhbnNsYXRlZEluZGljZXModCkpfXN1YnNldCh0KXtjb25zdHtfc3Vic2V0SW5kaWNlczplfT10aGlzLHI9bmV3IFVpbnQzMkFycmF5KHQubGVuZ3RoKTtmb3IobGV0IHM9MDtzPHIubGVuZ3RoOysrcylyW3NdPWVbdFtzXV07cmV0dXJuIG5ldyBzKHRoaXMuX3BhcmVudCxyKX1kaXNhYmxlT2JqZWN0SWRzKHQpe2lmKDA9PT10LnNpemUpcmV0dXJuO2NvbnN0e2ZlYXR1cmVDb3VudDplfT10aGlzLHM9bmV3IEFycmF5O2ZvcihsZXQgcj0wO3I8ZTsrK3IpdGhpcy5nZXRFbmFibGVkKHIpJiZ0Lmhhcyh0aGlzLmdldE9iamVjdElkKHIpKSYmcy5wdXNoKHIpO2lmKDAhPT1zLmxlbmd0aClmb3IoY29uc3QgciBvZiBzKXRoaXMuc2V0RW5hYmxlZChyLCExKX1zZXRFbmFibGVkKHQsZSl7dGhpcy5fcGFyZW50LnNldEVuYWJsZWQodGhpcy5fc3Vic2V0SW5kaWNlc1t0XSxlKX1nZXRFbmFibGVkKHQpe3JldHVybiB0aGlzLl9wYXJlbnQuZ2V0RW5hYmxlZCh0aGlzLl9zdWJzZXRJbmRpY2VzW3RdKX1lbmFibGVBbGwoKXtjb25zdHtfc3Vic2V0SW5kaWNlczp0LF9wYXJlbnQ6ZX09dGhpcztmb3IoY29uc3QgcyBvZiB0KWUuc2V0RW5hYmxlZChzLCEwKX1nZXRWaXNpYmlsaXR5QXJyYXkodCxlLHMpe3JldHVybiB0aGlzLl9wYXJlbnQuZ2V0VmlzaWJpbGl0eUFycmF5KHQsdGhpcy5fdHJhbnNsYXRlZEluZGljZXMoZSkscyl9ZW5hYmxlZE9iamVjdElkcyh0KXtyZXR1cm4gdGhpcy5fcGFyZW50LmVuYWJsZWRPYmplY3RJZHModGhpcy5fdHJhbnNsYXRlZEluZGljZXModCkpfSpfdHJhbnNsYXRlZEluZGljZXModCl7Y29uc3R7X3N1YnNldEluZGljZXM6ZX09dGhpcztpZihudWxsIT10KWZvcihjb25zdCBzIG9mIHQpeWllbGQgZVtzXTtlbHNlIHlpZWxkKmV9fWV4cG9ydHtzIGFzIEZlYXR1cmVEYXRhU3Vic2V0fTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjMzL2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7Y3JlYXRlIGFzIHJ9ZnJvbVwiLi4vLi4vLi4vLi4vLi4vLi4vY29yZS9saWJzL2dsLW1hdHJpeC0yL2ZhY3Rvcmllcy92ZWMzZjY0LmpzXCI7aW1wb3J0e3Byb2plY3RCdWZmZXIgYXMgZX1mcm9tXCIuLi8uLi8uLi8uLi8uLi8uLi9nZW9tZXRyeS9wcm9qZWN0aW9uL3Byb2plY3RCdWZmZXIuanNcIjtpbXBvcnR7cHJvamVjdFZlY3RvclRvVmVjdG9yIGFzIHR9ZnJvbVwiLi4vLi4vLi4vLi4vLi4vLi4vZ2VvbWV0cnkvcHJvamVjdGlvbi9wcm9qZWN0VmVjdG9yVG9WZWN0b3IuanNcIjtpbXBvcnR7Y2VudGVyIGFzIG99ZnJvbVwiLi4vLi4vLi4vLi4vLi4vLi4vZ2VvbWV0cnkvc3VwcG9ydC9hYUJvdW5kaW5nUmVjdC5qc1wiO2Z1bmN0aW9uIG4ocil7Y29uc3R7ZmVhdHVyZUNvdW50OmV9PXI7aWYoMD09PWUpcmV0dXJuIG5ldyBVaW50MzJBcnJheTtjb25zdCB0PW5ldyBVaW50MzJBcnJheShlKTtyZXR1cm4gci5nZXRPYmplY3RJZHNBcnJheSh0KSx0fWZ1bmN0aW9uIGEocil7Y29uc3R7ZmVhdHVyZUNvdW50OmV9PXI7aWYoMD09PWUpcmV0dXJuIG5ldyBGbG9hdDY0QXJyYXk7Y29uc3QgdD1uZXcgRmxvYXQ2NEFycmF5KDMqZSk7cmV0dXJuIHIuZ2V0Q29vcmRpbmF0ZXNBcnJheSh0KSx0fWZ1bmN0aW9uIGkocixlKXtjb25zdHtmZWF0dXJlQ291bnQ6dH09cjtpZigwPT09dClyZXR1cm4gbmV3IEZsb2F0NjRBcnJheTtyZXR1cm4gYyhhKHIpLGUpfWZ1bmN0aW9uIGMocix0KXtjb25zdCBvPXIubGVuZ3RoLzMsbj10LnZpZXdTcGF0aWFsUmVmZXJlbmNlLGE9dC5yZW5kZXJTcGF0aWFsUmVmZXJlbmNlLGk9bmV3IEZsb2F0NjRBcnJheSgzKm8pO2lmKCFlKHIsbiwwLGksYSwwLG8pKXRocm93IG5ldyBFcnJvcihcIkZhaWxlZCB0byBwcm9qZWN0IGNvb3JkaW5hdGVzXCIpO3JldHVybiBpfWZ1bmN0aW9uIGYoZSxuKXtjb25zdCBhPW4udmlld1NwYXRpYWxSZWZlcmVuY2UsaT1uLnJlbmRlclNwYXRpYWxSZWZlcmVuY2Use2V4dGVudDpjfT1lLGY9byhjKSx1PXIoKTtyZXR1cm4gdChbZlswXSxmWzFdLDBdLGEsdSxpKSx1fWV4cG9ydHtpIGFzIGNvbXB1dGVSZW5kZXJDb29yZGluYXRlcyxmIGFzIGNvbXB1dGVUaWxlQ2VudGVyUmVuZGVyQ29vcmRpbmF0ZXMsYyBhcyBwcm9qZWN0VG9SZW5kZXJDb29yZGluYXRlcyxhIGFzIHJlYWRNYXBDb29yZGluYXRlcyxuIGFzIHJlYWRPYmplY3RJZHN9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMzMvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydCBlIGZyb21cIi4uLy4uLy4uLy4uLy4uLy4uL2NvcmUvRXJyb3IuanNcIjtpbXBvcnQgdCBmcm9tXCIuLi8uLi8uLi8uLi8uLi8uLi9jb3JlL3BiZi5qc1wiO2ltcG9ydHtjcmVhdGUgYXMgcn1mcm9tXCIuLi8uLi8uLi8uLi8uLi8uLi9jb3JlL2xpYnMvZ2wtbWF0cml4LTIvZmFjdG9yaWVzL3ZlYzNmNjQuanNcIjtpbXBvcnR7QkJveCBhcyBzfWZyb21cIi4uLy4uLy4uLy4uLy4uLy4uL2NvcmUvbGlicy9yYnVzaC9Qb29sZWRSQnVzaC5qc1wiO2ltcG9ydHtmcm9tVmFsdWVzIGFzIG59ZnJvbVwiLi4vLi4vLi4vLi4vLi4vLi4vZ2VvbWV0cnkvc3VwcG9ydC9hYUJvdW5kaW5nQm94LmpzXCI7aW1wb3J0e25vcm1hbGl6ZVRyYW5zZm9ybSBhcyBvfWZyb21cIi4uLy4uLy4uLy4uLy4uLy4uL2dlb21ldHJ5L3N1cHBvcnQvcXVhbnRpemF0aW9uVXRpbHMuanNcIjtpbXBvcnQgaSBmcm9tXCIuLi8uLi8uLi8uLi8uLi8uLi9sYXllcnMvZ3JhcGhpY3MvT3B0aW1pemVkR2VvbWV0cnkuanNcIjtpbXBvcnQgYSBmcm9tXCIuLi8uLi8uLi8uLi8uLi8uLi9sYXllcnMvc3VwcG9ydC9GaWVsZHNJbmRleC5qc1wiO2ltcG9ydHtwYXJzZUZpZWxkIGFzIGQscGFyc2VUcmFuc2Zvcm0gYXMgY31mcm9tXCIuLi8uLi8uLi8uLi8uLi8uLi9yZXN0L3F1ZXJ5L29wZXJhdGlvbnMvcGJmRmVhdHVyZVNlcnZpY2VQYXJzZXIuanNcIjtjbGFzcyB1e2NvbnN0cnVjdG9yKGUpe3RoaXMuX3JlYWRlcj1uZXcgdChuZXcgVWludDhBcnJheShlKSxuZXcgRGF0YVZpZXcoZSkpLHRoaXMuX2luZGV4PWcodGhpcy5fcmVhZGVyKX1nZXQgZmVhdHVyZUNvdW50KCl7cmV0dXJuIHRoaXMuX2luZGV4LmZlYXR1cmVJbmRpY2VzLmxlbmd0aH1nZXQgZXhjZWVkZWRUcmFuc2ZlckxpbWl0KCl7cmV0dXJuIHRoaXMuX2luZGV4LmV4Y2VlZGVkVHJhbnNmZXJMaW1pdH1nZXQgdXNlZE1lbW9yeSgpe3JldHVybiB0aGlzLl9yZWFkZXIudXNlZE1lbW9yeX1nZXRPYmplY3RJZChlKXtyZXR1cm4gdGhpcy5nZXRBdHRyaWJ1dGUoZSx0aGlzLl9pbmRleC5vYmplY3RJZEZpZWxkTmFtZSl9Z2V0QXR0cmlidXRlKGUsdCl7Y29uc3R7X2luZGV4OntmaWVsZHNJbmRleDpyLGF0dHJpYnV0ZUluZGljZXM6c319PXRoaXMsbj1yLmdldCh0KT8uaW5kZXg7aWYobnVsbD09bilyZXR1cm47Y29uc3Qgbz1zW2Uqci5maWVsZHMubGVuZ3RoK25dLGk9dGhpcy5fcmVhZGVyO3JldHVybiBpLm1vdmUobyksbShpKX1nZXRBdHRyaWJ1dGVBc1RpbWVzdGFtcChlLHQpe2NvbnN0IHI9dGhpcy5nZXRBdHRyaWJ1dGUoZSx0KTtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2Ygcj9uZXcgRGF0ZShyKS5nZXRUaW1lKCk6XCJudW1iZXJcIj09dHlwZW9mIHJ8fG51bGw9PXI/cjpudWxsfWdldEF0dHJpYnV0ZXMoZSl7Y29uc3R7X2luZGV4OntmaWVsZHNJbmRleDp0LGF0dHJpYnV0ZUluZGljZXM6cn19PXRoaXMscz1lKnQuZmllbGRzLmxlbmd0aCxuPXRoaXMuX3JlYWRlcixvPXt9O2Zvcihjb25zdCBpIG9mIHQuZmllbGRzKXtjb25zdCBlPXJbcytpLmluZGV4XTtuLm1vdmUoZSksb1tpLm5hbWVdPW0obil9cmV0dXJuIG99Z2V0Q29vcmRpbmF0ZXMoZSx0LHI9MCl7Y29uc3Qgcz10aGlzLl9yZWFkZXIse3RyYW5zZm9ybTpuLGZlYXR1cmVJbmRpY2VzOm99PXRoaXMuX2luZGV4LHtzY2FsZTppLHRyYW5zbGF0ZTphfT1uO3MubW92ZShvW2VdKSx0aGlzLl9yZWFkQ29vcmRpbmF0ZXMoaSxhLHQscil9Z2V0T3B0aW1pemVkR2VvbWV0cnkoZSl7Y29uc3QgdD1yKCk7cmV0dXJuIHRoaXMuZ2V0Q29vcmRpbmF0ZXMoZSx0KSxuZXcgaShbXSx0KX1nZXRDZW50cm9pZChlLHtoYXNaOnQsaGFzTTpyfSl7dGhpcy5nZXRDb29yZGluYXRlcyhlLHApO2NvbnN0W3MsbixvXT1wLGE9W3Msbl07cmV0dXJuIHQmJihhWzNdPW8pLHImJihhW3Q/NDozXT0wKSxuZXcgaShbXSxhKX1nZXRCb3VuZHMoZSl7dGhpcy5nZXRDb29yZGluYXRlcyhlLHApO2NvbnN0W3Qscl09cCxuPW5ldyBzO3JldHVybiBuLm1pblg9dCxuLm1pblk9cixuLm1heFg9dCxuLm1heFk9cixufWdldEJvdW5kaW5nQm94KGUpe3RoaXMuZ2V0Q29vcmRpbmF0ZXMoZSxwKTtjb25zdFt0LHIsc109cDtyZXR1cm4gbih0LHIscyx0LHIscyl9Z2V0T2JqZWN0SWRzQXJyYXkoZSx0PXRoaXMuX2FsbEZlYXR1cmVJbmRpY2VzKCkscj0wKXtjb25zdCBzPXRoaXMuX3JlYWRlcix7b2JqZWN0SWRGaWVsZE5hbWU6bixhdHRyaWJ1dGVJbmRpY2VzOm8sZmllbGRzSW5kZXg6aX09dGhpcy5faW5kZXgsYT1pLmdldChuKS5pbmRleCxkPWkuZmllbGRzLmxlbmd0aDtmb3IoY29uc3QgYyBvZiB0KXtjb25zdCB0PW9bYypkK2FdO3MubW92ZSh0KSxlW3IrK109bShzKX1yZXR1cm4gcn1nZXRDb29yZGluYXRlc0FycmF5KGUsdD10aGlzLl9hbGxGZWF0dXJlSW5kaWNlcygpLHI9MCl7Y29uc3Qgcz10aGlzLl9yZWFkZXIse3RyYW5zZm9ybTpuLGZlYXR1cmVJbmRpY2VzOm99PXRoaXMuX2luZGV4LHtzY2FsZTppLHRyYW5zbGF0ZTphfT1uO2Zvcihjb25zdCBkIG9mIHQpe2NvbnN0IHQ9b1tkXTtzLm1vdmUodCkscj10aGlzLl9yZWFkQ29vcmRpbmF0ZXMoaSxhLGUscil9cmV0dXJuIHJ9Km9iamVjdElkcyhlPXRoaXMuX2FsbEZlYXR1cmVJbmRpY2VzKCkpe2NvbnN0IHQ9dGhpcy5fcmVhZGVyLHtvYmplY3RJZEZpZWxkTmFtZTpyLGF0dHJpYnV0ZUluZGljZXM6cyxmaWVsZHNJbmRleDpufT10aGlzLl9pbmRleCxvPW4uZ2V0KHIpLmluZGV4LGk9bi5maWVsZHMubGVuZ3RoO2Zvcihjb25zdCBhIG9mIGUpe2NvbnN0IGU9c1thKmkrb107dC5tb3ZlKGUpLHlpZWxkIG0odCl9fSpfYWxsRmVhdHVyZUluZGljZXMoKXtjb25zdHtmZWF0dXJlQ291bnQ6ZX09dGhpcztmb3IobGV0IHQ9MDt0PGU7Kyt0KXlpZWxkIHR9X3JlYWRDb29yZGluYXRlcyhbZSx0LHJdLFtzLG4sb10saSxhKXtjb25zdCBkPTIsYz0zLHU9dGhpcy5fcmVhZGVyLGc9dS5nZXRMZW5ndGgoKSxsPXUucG9zKCkrZztmb3IoO3UucG9zKCk8bCYmdS5uZXh0KCk7KXN3aXRjaCh1LnRhZygpKXtjYXNlIGQ6e2NvbnN0IGQ9dS5nZXRMZW5ndGgoKSxnPXUucG9zKCkrZDtmb3IoO3UucG9zKCk8ZyYmdS5uZXh0KCk7KWlmKHUudGFnKCk9PT1jKXUuZ2V0VUludDMyKCksaVthKytdPXMrZSp1LmdldFNJbnQ2NCgpLGlbYSsrXT1uK3QqdS5nZXRTSW50NjQoKSxpW2ErK109bytyKnUuZ2V0U0ludDY0KCk7ZWxzZSB1LnNraXAoKTticmVha31kZWZhdWx0OnUuc2tpcCgpfXJldHVybiBhfX1mdW5jdGlvbiBnKGUpe2NvbnN0IHQ9Mjtmb3IoO2UubmV4dCgpOyl7aWYoZS50YWcoKT09PXQpcmV0dXJuIGwoZS5nZXRNZXNzYWdlKCkpO2Uuc2tpcCgpfWgoKX1mdW5jdGlvbiBsKGUpe2NvbnN0IHQ9MTtmb3IoO2UubmV4dCgpOyl7aWYoZS50YWcoKT09PXQpcmV0dXJuIGYoZS5nZXRNZXNzYWdlKCkpO2Uuc2tpcCgpfWgoKX1mdW5jdGlvbiBmKGUpe2NvbnN0IHQ9OSxyPTEyLHM9MTMsbj0xNSxpPTcsdT0wLGc9MTAsbD0xLGY9MTtsZXQgbSxwLHg9ITEsST0hMSxiPTA7Y29uc3QgXz1uZXcgQXJyYXksdz1uZXcgQXJyYXkseT1uZXcgQXJyYXk7Zm9yKDtlLm5leHQoKTspc3dpdGNoKGUudGFnKCkpe2Nhc2UgZjpwPWUuZ2V0U3RyaW5nKCk7YnJlYWs7Y2FzZSBpOmUuZ2V0RW51bSgpIT09dSYmaCgpO2JyZWFrO2Nhc2UgdDp4PWUuZ2V0Qm9vbCgpPz8hMTticmVhaztjYXNlIHI6bT1vKGUucHJvY2Vzc01lc3NhZ2UoYykpO2JyZWFrO2Nhc2Ugczp7Y29uc3QgdD1lLnByb2Nlc3NNZXNzYWdlKGQpO3QuaW5kZXg9YisrLF8ucHVzaCh0KTticmVha31jYXNlIG46e3cucHVzaChlLnBvcygpKTtjb25zdCB0PWUuZ2V0VUludDMyKCkscj1lLnBvcygpK3Q7Zm9yKDtlLnBvcygpPHImJmUubmV4dCgpOylpZihlLnRhZygpPT09bCl5LnB1c2goZS5wb3MoKSksZS5za2lwKCk7ZWxzZSBlLnNraXAoKTticmVha31jYXNlIGc6ST1lLmdldEJvb2woKT8/ITE7YnJlYWs7ZGVmYXVsdDplLnNraXAoKX1jb25zdCBqPW5ldyBhKF8pO3JldHVybiBudWxsIT1tJiZJJiZudWxsIT1wJiZqLmhhcyhwKXx8aCgpLHt0cmFuc2Zvcm06bSxleGNlZWRlZFRyYW5zZmVyTGltaXQ6eCxmaWVsZHNJbmRleDpqLG9iamVjdElkRmllbGROYW1lOnAsZmVhdHVyZUluZGljZXM6dyxhdHRyaWJ1dGVJbmRpY2VzOnl9fWZ1bmN0aW9uIGgoKXtjb25zdCB0PW5ldyBlKFwicGJmLXBhcnNpbmctZmFpbGVkXCIsXCJFcnJvciB3aGlsZSBwYXJzaW5nIFBCRlwiLG5ldyBFcnJvcik7dGhyb3cgY29uc29sZS5lcnJvcih0KSx0fWZ1bmN0aW9uIG0oZSl7Y29uc3QgdD0xLHI9MixzPTMsbj00LG89NSxpPTYsYT03LGQ9OCxjPTksdT1lLmdldExlbmd0aCgpLGc9ZS5wb3MoKSt1O2Zvcig7ZS5wb3MoKTxnJiZlLm5leHQoKTspc3dpdGNoKGUudGFnKCkpe2Nhc2UgdDpyZXR1cm4gZS5nZXRTdHJpbmcoKTtjYXNlIHI6cmV0dXJuIGUuZ2V0RmxvYXQoKTtjYXNlIHM6cmV0dXJuIGUuZ2V0RG91YmxlKCk7Y2FzZSBuOnJldHVybiBlLmdldFNJbnQzMigpO2Nhc2UgbzpyZXR1cm4gZS5nZXRVSW50MzIoKTtjYXNlIGk6cmV0dXJuIGUuZ2V0SW50NjQoKTtjYXNlIGE6cmV0dXJuIGUuZ2V0VUludDY0KCk7Y2FzZSBkOnJldHVybiBlLmdldFNJbnQ2NCgpO2Nhc2UgYzpyZXR1cm4gZS5nZXRCb29sKCk7ZGVmYXVsdDpyZXR1cm4gZS5za2lwKCksbnVsbH1yZXR1cm4gbnVsbH1jb25zdCBwPXIoKTtleHBvcnR7dSBhcyBQQkZQb2ludEZlYXR1cmVTZXRWaWV3fTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjMzL2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnQgdCBmcm9tXCIuLi8uLi8uLi8uLi8uLi8uLi9jb3JlL0V2ZW50ZWQuanNcIjtpbXBvcnR7YmFzZU9iamVjdE1lbW9yeSBhcyBlLGVzdGltYXRlTnVtYmVyTWVtb3J5IGFzIGl9ZnJvbVwiLi4vLi4vLi4vLi4vLi4vLi4vY29yZS9tZW1vcnlFc3RpbWF0aW9ucy5qc1wiO2ltcG9ydHtQb29sZWRSQnVzaCBhcyByLEJCb3ggYXMgc31mcm9tXCIuLi8uLi8uLi8uLi8uLi8uLi9jb3JlL2xpYnMvcmJ1c2gvUG9vbGVkUkJ1c2guanNcIjtpbXBvcnR7Z2V0Q2VudHJvaWRPcHRpbWl6ZWRHZW9tZXRyeSBhcyBufWZyb21cIi4uLy4uLy4uLy4uLy4uLy4uL2xheWVycy9ncmFwaGljcy9jZW50cm9pZC5qc1wiO2ltcG9ydCBvIGZyb21cIi4uLy4uLy4uLy4uLy4uLy4uL2xheWVycy9ncmFwaGljcy9PcHRpbWl6ZWRHZW9tZXRyeS5qc1wiO2NsYXNzIHV7Y29uc3RydWN0b3IodCxlKXt0aGlzLl9pbmRleD10LHRoaXMuX3ZpZXc9ZX1nZXQgdXNlZE1lbW9yeSgpe3JldHVybiBlK2l9Z2V0T2JqZWN0SWQoKXtyZXR1cm4gdGhpcy5fdmlldy5nZXRPYmplY3RJZCh0aGlzLl9pbmRleCl9Z2V0QXR0cmlidXRlKHQpe3JldHVybiB0aGlzLl92aWV3LmdldEF0dHJpYnV0ZSh0aGlzLl9pbmRleCx0KX1nZXRBdHRyaWJ1dGVBc1RpbWVzdGFtcCh0KXtyZXR1cm4gdGhpcy5fdmlldy5nZXRBdHRyaWJ1dGVBc1RpbWVzdGFtcCh0aGlzLl9pbmRleCx0KX1nZXRBdHRyaWJ1dGVzKCl7cmV0dXJuIHRoaXMuX3ZpZXcuZ2V0QXR0cmlidXRlcyh0aGlzLl9pbmRleCl9Z2V0T3B0aW1pemVkR2VvbWV0cnkoKXtyZXR1cm4gdGhpcy5fdmlldy5nZXRPcHRpbWl6ZWRHZW9tZXRyeSh0aGlzLl9pbmRleCl9Z2V0Q2VudHJvaWQodCl7cmV0dXJuIHRoaXMuX3ZpZXcuZ2V0Q2VudHJvaWQodGhpcy5faW5kZXgsdCl9Z2V0Qm91bmRzKCl7cmV0dXJuIHRoaXMuX3ZpZXcuZ2V0Qm91bmRzKHRoaXMuX2luZGV4KX1nZXRCb3VuZGluZ0JveCgpe3JldHVybiB0aGlzLl92aWV3LmdldEJvdW5kaW5nQm94KHRoaXMuX2luZGV4KX1jbG9uZVdpdGhHZW9tZXRyeSh0KXtyZXR1cm4gbmV3IGQodGhpcy5faW5kZXgsdGhpcy5fdmlldyx0KX19Y2xhc3MgZCBleHRlbmRzIHV7Y29uc3RydWN0b3IodCxlLGkpe3N1cGVyKHQsZSksdGhpcy5fZ2VvbWV0cnlPdmVycmlkZT1pfWdldE9wdGltaXplZEdlb21ldHJ5KCl7cmV0dXJuIHRoaXMuX2dlb21ldHJ5T3ZlcnJpZGV9Z2V0Q2VudHJvaWQodCl7cmV0dXJuIG4obmV3IG8sdGhpcy5fZ2VvbWV0cnlPdmVycmlkZSx0Lmhhc1osdC5oYXNNKX19Y2xhc3MgYXtjb25zdHJ1Y3Rvcih0LGUpe3RoaXMuZmVhdHVyZURhdGE9dCx0aGlzLmJvdW5kcz1lfX1jbGFzcyBoe2NvbnN0cnVjdG9yKCl7dGhpcy5fdGlsZUJvdW5kcz1uZXcgTWFwLHRoaXMuZXZlbnRzPW5ldyB0LHRoaXMuZmVhdHVyZUFkYXB0ZXI9bS5zaGFyZWR9Z2V0IHVzZWRNZW1vcnkoKXtyZXR1cm4gZStlKnRoaXMuX3RpbGVCb3VuZHMuc2l6ZX1hZGRUaWxlKHQpe2NvbnN0e2ZlYXR1cmVDb3VudDplfT10O2lmKDA9PT1lKXJldHVybjtjb25zdCBpPW5ldyByKDksKGU9PnQuZ2V0Qm91bmRzKGUpKSkscz1uZXcgQXJyYXk7Zm9yKGxldCByPTA7cjxlOysrcilzW3JdPXI7aS5sb2FkKHMpLHRoaXMuX3RpbGVCb3VuZHMuc2V0KHQuaWQsbmV3IGEodCxpKSksdGhpcy5ldmVudHMuZW1pdChcImNoYW5nZWRcIil9cmVtb3ZlVGlsZSh0KXt0aGlzLl90aWxlQm91bmRzLmRlbGV0ZSh0KSx0aGlzLmV2ZW50cy5lbWl0KFwiY2hhbmdlZFwiKX1jbGVhcigpe3RoaXMuX3RpbGVCb3VuZHMuY2xlYXIoKSx0aGlzLmV2ZW50cy5lbWl0KFwiY2hhbmdlZFwiKX1mb3JFYWNoKHQpe2Zvcihjb25zdHtmZWF0dXJlRGF0YTplLGJvdW5kczppfW9mIHRoaXMuX3RpbGVCb3VuZHMudmFsdWVzKCkpaS5hbGwoKGk9PntlLmdldEVuYWJsZWQoaSkmJnQobmV3IHUoaSxlKSl9KSl9Zm9yRWFjaEluQm91bmRzKHQsZSl7Zy5taW5YPXRbMF0sZy5taW5ZPXRbMV0sZy5tYXhYPXRbMl0sZy5tYXhZPXRbM107Zm9yKGNvbnN0e2ZlYXR1cmVEYXRhOmksYm91bmRzOnJ9b2YgdGhpcy5fdGlsZUJvdW5kcy52YWx1ZXMoKSlyLnNlYXJjaChnLCh0PT57aS5nZXRFbmFibGVkKHQpJiZlKG5ldyB1KHQsaSkpfSkpfWZvckVhY2hCb3VuZHModCxlKXtmb3IoY29uc3QgaSBvZiB0KWUoaS5nZXRCb3VuZGluZ0JveCgpKX1nZXRGdWxsRXh0ZW50KHQpe2xldCBlPTEvMCxpPTEvMCxyPS0xLzAscz0tMS8wO2Zvcihjb25zdHtib3VuZHM6bn1vZiB0aGlzLl90aWxlQm91bmRzLnZhbHVlcygpKXtjb25zdHttaW5YOnQsbWluWTpvLG1heFg6dSxtYXhZOmR9PW4udG9KU09OKCk7ZT1NYXRoLm1pbihlLHQpLGk9TWF0aC5taW4oaSxvKSxyPU1hdGgubWluKHIsdSkscz1NYXRoLm1pbihzLGQpfXJldHVybnt4bWluOmUseW1pbjppLHhtYXg6cix5bWF4OnMsc3BhdGlhbFJlZmVyZW5jZTp0fX19Y2xhc3MgbXtzdGF0aWN7dGhpcy5zaGFyZWQ9bmV3IG19Z2V0T2JqZWN0SWQodCl7cmV0dXJuIHQuZ2V0T2JqZWN0SWQoKX1nZXRBdHRyaWJ1dGUodCxlKXtyZXR1cm4gdC5nZXRBdHRyaWJ1dGUoZSl9Z2V0QXR0cmlidXRlQXNUaW1lc3RhbXAodCxlKXtyZXR1cm4gdC5nZXRBdHRyaWJ1dGVBc1RpbWVzdGFtcChlKX1nZXRBdHRyaWJ1dGVzKHQpe3JldHVybiB0LmdldEF0dHJpYnV0ZXMoKX1nZXRHZW9tZXRyeSh0KXtyZXR1cm4gdC5nZXRPcHRpbWl6ZWRHZW9tZXRyeSgpfWdldENlbnRyb2lkKHQsZSl7cmV0dXJuIHQuZ2V0Q2VudHJvaWQoZSl9Y2xvbmVXaXRoR2VvbWV0cnkodCxlKXtyZXR1cm4gdC5jbG9uZVdpdGhHZW9tZXRyeShlKX19Y29uc3QgZz1uZXcgcztleHBvcnR7dSBhcyBGZWF0dXJlSGFuZGxlLGggYXMgVGlsZWRGZWF0dXJlU3RvcmV9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMzMvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHt0aHJvd0lmQWJvcnRlZCBhcyBlfWZyb21cIi4uLy4uLy4uLy4uLy4uLy4uL2NvcmUvcHJvbWlzZVV0aWxzLmpzXCI7aW1wb3J0e3RvRXh0ZW50IGFzIHR9ZnJvbVwiLi4vLi4vLi4vLi4vLi4vLi4vZ2VvbWV0cnkvc3VwcG9ydC9hYUJvdW5kaW5nUmVjdC5qc1wiO2ltcG9ydHtleGVjdXRlUXVlcnlQQkZCdWZmZXIgYXMgcn1mcm9tXCIuLi8uLi8uLi8uLi8uLi8uLi9yZXN0L3F1ZXJ5L29wZXJhdGlvbnMvcXVlcnkuanNcIjtpbXBvcnR7VGlsZSBhcyBvfWZyb21cIi4uL1RpbGUuanNcIjtpbXBvcnR7UEJGUG9pbnRGZWF0dXJlU2V0VmlldyBhcyBzfWZyb21cIi4uL2ZlYXR1cmVTZXQvUEJGUG9pbnRGZWF0dXJlU2V0Vmlldy5qc1wiO2NvbnN0IGk9OGUzLGE9NCxuPTQ7Y2xhc3MgY3tjb25zdHJ1Y3RvcihlLHQscixvLHMpe3RoaXMuc3BhdGlhbFJlZmVyZW5jZT1lLHRoaXMudXJsPXIsdGhpcy5vYmplY3RJZEZpZWxkPW8sdGhpcy5jYXBhYmlsaXRpZXM9cztjb25zdHtzdXBwb3J0c01heFJlY29yZENvdW50RmFjdG9yOm4sbWF4UmVjb3JkQ291bnQ6Y309dGhpcy5jYXBhYmlsaXRpZXMucXVlcnksdT1uP2E6MSxwPShjPz9pKSp1O3RoaXMuX3BhZ2VTaXplPU1hdGgubWluKGkscCk7Y29uc3QgbD10LmNsb25lKCk7bC5jYWNoZUhpbnQ9ITAsbC5yZXN1bHRUeXBlPVwidGlsZVwiLGwub3V0U3BhdGlhbFJlZmVyZW5jZT1lLGwucmV0dXJuR2VvbWV0cnk9ITAsbC5yZXR1cm5aPSEwLGwubWF4UmVjb3JkQ291bnRGYWN0b3I9dSxsLm51bT10aGlzLl9wYWdlU2l6ZSxsLm91dEZpZWxkcz1bb10sdGhpcy5fYmFzZVF1ZXJ5PWx9YXN5bmMgZmV0Y2gocixzKXtjb25zdHtzcGF0aWFsUmVmZXJlbmNlOmksX3BhZ2VTaXplOmF9PXRoaXMsYz10KHIuZXh0ZW50LGkpLHU9dGhpcy5fYmFzZVF1ZXJ5LmNsb25lKCk7dS5nZW9tZXRyeT1jO2NvbnN0IHA9bmV3IEFycmF5O2xldCBsPTAsaD0hMSxtPTE7Zm9yKDshaDspe2NvbnN0IHQ9W107Zm9yKGxldCBlPTA7ZTxtOysrZSl0LnB1c2godGhpcy5fZmV0Y2hQYWdlKHUsbCsrLHMpKTtjb25zdCByPWF3YWl0IFByb21pc2UuYWxsKHQpO2Uocyk7Zm9yKGNvbnN0IGUgb2Ygcil7Y29uc3QgdD0wIT09ZS5mZWF0dXJlQ291bnQ7aHx8PSFlLmV4Y2VlZGVkVHJhbnNmZXJMaW1pdHx8IXQsdCYmcC5wdXNoKGUpfW09TWF0aC5taW4obSsxLG4pfXJldHVybiBuZXcgbyhyLHAsYSl9YXN5bmMgX2ZldGNoUGFnZSh0LG8saSl7Y29uc3QgYT10LmNsb25lKCk7YS5zdGFydD1vKnRoaXMuX3BhZ2VTaXplO2NvbnN0IG49KGF3YWl0IHIodGhpcy51cmwsYSx7c2lnbmFsOml9KSkuZGF0YTtyZXR1cm4gZShpKSxuZXcgcyhuKX19ZXhwb3J0e2MgYXMgVGlsZTNERmV0Y2hlcn07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4zMy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e2NvcHkgYXMgZSxpbnZlcnQgYXMgcix0cmFuc3Bvc2UgYXMgdH1mcm9tXCIuLi8uLi8uLi8uLi8uLi8uLi9jb3JlL2xpYnMvZ2wtbWF0cml4LTIvbWF0aC9tYXQ0LmpzXCI7aW1wb3J0e2NyZWF0ZSBhcyBufWZyb21cIi4uLy4uLy4uLy4uLy4uLy4uL2NvcmUvbGlicy9nbC1tYXRyaXgtMi9mYWN0b3JpZXMvbWF0NGY2NC5qc1wiO2ltcG9ydHtnZXRDb250aW51b3VzSW5kZXhBcnJheSBhcyBhfWZyb21cIi4uLy4uLy4uLy4uLy4uLy4uL2dlb21ldHJ5L3N1cHBvcnQvSW5kaWNlcy5qc1wiO2ltcG9ydHtWaWV3aW5nTW9kZSBhcyBpfWZyb21cIi4uLy4uLy4uLy4uLy4uL1ZpZXdpbmdNb2RlLmpzXCI7aW1wb3J0e1BpcGVsaW5lQ29tbWFuZCBhcyBzfWZyb21cIi4uL1BpcGVsaW5lQ29tbWFuZC5qc1wiO2ltcG9ydHtnZW5lcmF0ZUlkIGFzIG99ZnJvbVwiLi4vdXRpbHMuanNcIjtpbXBvcnR7Qm91bmRpbmdJbmZvIGFzIGR9ZnJvbVwiLi4vLi4vLi4vLi4vd2ViZ2wtZW5naW5lL2xpYi9Cb3VuZGluZ0luZm8uanNcIjtpbXBvcnR7VmVydGV4QXR0cmlidXRlIGFzIG19ZnJvbVwiLi4vLi4vLi4vLi4vd2ViZ2wtZW5naW5lL2xpYi9WZXJ0ZXhBdHRyaWJ1dGUuanNcIjtpbXBvcnR7RGVmYXVsdE1hdGVyaWFsIGFzIGZ9ZnJvbVwiLi4vLi4vLi4vLi4vd2ViZ2wtZW5naW5lL21hdGVyaWFscy9EZWZhdWx0TWF0ZXJpYWwuanNcIjtpbXBvcnR7SFVETWF0ZXJpYWwgYXMgdX1mcm9tXCIuLi8uLi8uLi8uLi93ZWJnbC1lbmdpbmUvbWF0ZXJpYWxzL0hVRE1hdGVyaWFsLmpzXCI7Y2xhc3MgbHtjb25zdHJ1Y3RvcihlLHIpe3RoaXMuX21haW5UaHJlYWREZWxlZ2F0ZT1yLHRoaXMuX2J1ZmZlcldyaXRlcnM9bmV3IE1hcCx0aGlzLmdsb2JhbFZpZXdpbmdNb2RlPWU9PT1pLkdsb2JhbH1jcmVhdGVSZW5kZXJDb21tYW5kQnVmZmVyKGU9W10scj1bXSl7cmV0dXJue2NvbW1hbmRzOmUsdHJhbnNmZXJMaXN0OnJ9fW1lcmdlUmVuZGVyQ29tbWFuZEJ1ZmZlcnMoZSl7Y29uc3Qgcj10aGlzLmNyZWF0ZVJlbmRlckNvbW1hbmRCdWZmZXIoKTtmb3IoY29uc3QgdCBvZiBlKW51bGwhPXQmJihyLmNvbW1hbmRzLnB1c2goLi4udC5jb21tYW5kcyksci50cmFuc2Zlckxpc3QucHVzaCguLi50LnRyYW5zZmVyTGlzdCkpO3JldHVybiByfWFzeW5jIGNyZWF0ZVRleHR1cmUoZSl7Y29uc3R7ZGF0YTpyLHBhcmFtZXRlcnM6dH09ZSgpO3JldHVybiBhd2FpdCB0aGlzLl9tYWluVGhyZWFkRGVsZWdhdGUuY3JlYXRlVGV4dHVyZShyLHQpfWFzeW5jIHJlbGVhc2VUZXh0dXJlKGUpe2NvbnN0IHI9dGhpcy5fZGVzdHJveVRleHR1cmUoZSk7cmV0dXJuIG5ldyBzKHRoaXMscixbXSl9X2Rlc3Ryb3lUZXh0dXJlKGUpe3JldHVybntjb21tYW5kczpbe2lkOlwiZGVzdHJveS10ZXh0dXJlXCIsdGV4dHVyZUlkOmV9XSx0cmFuc2Zlckxpc3Q6W119fWFzeW5jIGNyZWF0ZU1hdGVyaWFsKGUpe2NvbnN0e3R5cGU6cixwYXJhbWV0ZXJzOnR9PWUsbj1vKFwibWF0ZXJpYWxcIik7bGV0IGEsaTtzd2l0Y2gocil7Y2FzZVwiZGVmYXVsdFwiOmE9bmV3IGYoZS5wYXJhbWV0ZXJzLHtzcGhlcmljYWw6dGhpcy5nbG9iYWxWaWV3aW5nTW9kZX0pLGk9e3R5cGU6cixtYXRlcmlhbElkOm4scGFyYW1ldGVyczplLnBhcmFtZXRlcnN9O2JyZWFrO2Nhc2VcImh1ZFwiOmE9bmV3IHUodCx0aGlzLmdsb2JhbFZpZXdpbmdNb2RlKSxpPXt0eXBlOnIsbWF0ZXJpYWxJZDpuLHBhcmFtZXRlcnM6ZS5wYXJhbWV0ZXJzfX1yZXR1cm4gdGhpcy5fYnVmZmVyV3JpdGVycy5zZXQobixhLmNyZWF0ZUJ1ZmZlcldyaXRlcigpKSxhd2FpdCB0aGlzLl9tYWluVGhyZWFkRGVsZWdhdGUuY3JlYXRlTWF0ZXJpYWwoaSksbn1kZXN0cm95TWF0ZXJpYWwoZSl7cmV0dXJue2NvbW1hbmRzOlt7aWQ6XCJkZXN0cm95LW1hdGVyaWFsXCIsbWF0ZXJpYWxJZDplfV0sdHJhbnNmZXJMaXN0OltdfX11cGRhdGVNYXRlcmlhbChlKXtyZXR1cm57Y29tbWFuZHM6W3suLi5lLGlkOlwidXBkYXRlLW1hdGVyaWFsXCJ9XSx0cmFuc2Zlckxpc3Q6W119fWFzeW5jIGNyZWF0ZURpcmVjdFJlbmRlcmVyKGUpe3JldHVybiBhd2FpdCB0aGlzLl9tYWluVGhyZWFkRGVsZWdhdGUuY3JlYXRlRGlyZWN0UmVuZGVyZXIoZSksZX1hc3luYyBkZXN0cm95RGlyZWN0UmVuZGVyZXIoZSl7YXdhaXQgdGhpcy5fbWFpblRocmVhZERlbGVnYXRlLmRlc3Ryb3lEaXJlY3RSZW5kZXJlcihlKX1hZGREaXJlY3RSZW5kZXJlckdlb21ldHJ5KGUscix0KXtjb25zdHttYXRlcmlhbElkOm59PXI7aWYobnVsbD09dGhpcy5fYnVmZmVyV3JpdGVycy5nZXQobikpdGhyb3cgbmV3IEVycm9yKGBubyBidWZmZXJ3cml0ZXIgZm91bmQgZm9yIG1hdGVyaWFsICR7bn1gKTtjb25zdHtyZW5kZXJHZW9tZXRyeUJ1ZmZlcjphLHJlbmRlckdlb21ldHJ5QnVmZmVySXRlbXM6aX09dGhpcy5jcmVhdGVSZW5kZXJHZW9tZXRyeUJ1ZmZlcihyLHQpO3JldHVybiB0aGlzLmFkZERpcmVjdFJlbmRlcmVyR2VvbWV0cnlCdWZmZXIobixlLGEsaSx0KX11cGRhdGVEaXJlY3RSZW5kZXJlckdlb21ldHJ5KGUscix0KXtjb25zdHttYXRlcmlhbElkOm59PXI7aWYobnVsbD09dGhpcy5fYnVmZmVyV3JpdGVycy5nZXQobikpdGhyb3cgbmV3IEVycm9yKGBubyBidWZmZXJ3cml0ZXIgZm91bmQgZm9yIG1hdGVyaWFsICR7bn1gKTtjb25zdHtyZW5kZXJHZW9tZXRyeUJ1ZmZlcjphLHJlbmRlckdlb21ldHJ5QnVmZmVySXRlbXM6aX09dGhpcy5jcmVhdGVSZW5kZXJHZW9tZXRyeUJ1ZmZlcihyLHQpO3JldHVybiB0aGlzLnVwZGF0ZURpcmVjdFJlbmRlcmVyR2VvbWV0cnlCdWZmZXIobixlLGEsaSx0KX1hZGREaXJlY3RSZW5kZXJlckdlb21ldHJ5QnVmZmVyKGUscix0LG4sYSl7Y29uc3R7b2JqZWN0SWRzOmksdmlzaWJpbGl0aWVzOnN9PW47cmV0dXJue2NvbW1hbmRzOlt7aWQ6XCJhZGQtZGlyZWN0LXJlbmRlcmVyLWdlb21ldHJ5LWJ1ZmZlclwiLHJlbmRlcmVySWQ6ZSxncm91cElkOnIscmVuZGVyR2VvbWV0cnlCdWZmZXI6dCxyZW5kZXJHZW9tZXRyeUJ1ZmZlckl0ZW1zOm4sbG9jYWxPcmlnaW46YX1dLHRyYW5zZmVyTGlzdDpbdC5kYXRhLGkuYnVmZmVyLHMuYnVmZmVyXX19dXBkYXRlRGlyZWN0UmVuZGVyZXJHZW9tZXRyeUJ1ZmZlcihlLHIsdCxuLGEpe2NvbnN0e29iamVjdElkczppLHZpc2liaWxpdGllczpzfT1uO3JldHVybntjb21tYW5kczpbe2lkOlwidXBkYXRlLWRpcmVjdC1yZW5kZXJlci1nZW9tZXRyeS1idWZmZXJcIixyZW5kZXJlcklkOmUsZ3JvdXBJZDpyLHJlbmRlckdlb21ldHJ5QnVmZmVyOnQscmVuZGVyR2VvbWV0cnlCdWZmZXJJdGVtczpuLGxvY2FsT3JpZ2luOmF9XSx0cmFuc2Zlckxpc3Q6W3QuZGF0YSxpLmJ1ZmZlcixzLmJ1ZmZlcl19fXJlbW92ZURpcmVjdFJlbmRlcmVyR2VvbWV0cnlCdWZmZXIoZSxyKXtyZXR1cm57Y29tbWFuZHM6W3tpZDpcInJlbW92ZS1kaXJlY3QtcmVuZGVyZXItZ2VvbWV0cnktYnVmZmVyXCIscmVuZGVyZXJJZDplLGdyb3VwSWQ6cn1dLHRyYW5zZmVyTGlzdDpbXX19YXN5bmMgY3JlYXRlTG9kUmVuZGVyZXIoZSl7Y29uc3Qgcj1vKFwibG9kLXJlbmRlcmVyXCIpLHQ9bmV3IFNldCxuPXtsZXZlbHM6ZS5sZXZlbHMubWFwKChlPT4oe2NvbXBvbmVudHM6ZS5jb21wb25lbnRzLm1hcCgoZT0+e2NvbnN0IHI9ZS5hdHRyaWJ1dGVzLmdldChtLlBPU0lUSU9OKTtpZighcnx8MD09PXIuaW5kaWNlcy5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKFwicG9zaXRpb25zIGF0dHJpYnV0ZSBleHBlY3RlZFwiKTtjb25zdCBuPTMsaT1hKHIuaW5kaWNlcy5sZW5ndGgvbikscz1uZXcgZChpLG4scik7aWYobnVsbD09dGhpcy5fYnVmZmVyV3JpdGVycy5nZXQoZS5tYXRlcmlhbElkKSl0aHJvdyBuZXcgRXJyb3IoXCJ3cml0ZXIgbm90IGZvdW5kXCIpO2NvbnN0e3JlbmRlckdlb21ldHJ5QnVmZmVyOm99PXRoaXMuY3JlYXRlUmVuZGVyR2VvbWV0cnlCdWZmZXIoZSxudWxsKTt0LmFkZChvLmRhdGEpO3JldHVybnttYXRlcmlhbElkOmUubWF0ZXJpYWxJZCxyZW5kZXJHZW9tZXRyeUJ1ZmZlcjpvLGJvdW5kaW5nSW5mbzp7YmJNYXg6cy5iYk1heCxiYk1pbjpzLmJiTWlufX19KSksbWluU2NyZWVuU3BhY2VSYWRpdXM6ZS5taW5TY3JlZW5TcGFjZVJhZGl1c30pKSl9O3JldHVybiBhd2FpdCB0aGlzLl9tYWluVGhyZWFkRGVsZWdhdGUuY3JlYXRlTG9kUmVuZGVyZXIocixuLEFycmF5LmZyb20odCkpLHJ9ZGVzdHJveUxvZFJlbmRlcmVyKGUpe3JldHVybntjb21tYW5kczpbe2lkOlwiZGVzdHJveS1sb2QtcmVuZGVyZXJcIixyZW5kZXJlcklkOmV9XSx0cmFuc2Zlckxpc3Q6W119fWFkZExvZEluc3RhbmNlcyhlLHIsdCl7cmV0dXJue2NvbW1hbmRzOlt7aWQ6XCJhZGQtbG9kLWluc3RhbmNlc1wiLHJlbmRlcmVySWQ6ZSxncm91cElkOnIsZGF0YTp0fV0sdHJhbnNmZXJMaXN0Olt0LmZlYXR1cmVJZHMuYnVmZmVyLHQuZ2xvYmFsVHJhbnNmb3Jtcy5idWZmZXIsdC5sb2NhbFRyYW5zZm9ybXMuYnVmZmVyLHQudmlzaWJpbGl0eS5idWZmZXJdfX1yZW1vdmVMb2RJbnN0YW5jZXMoZSxyKXtyZXR1cm57Y29tbWFuZHM6W3tpZDpcInJlbW92ZS1sb2QtaW5zdGFuY2VzXCIscmVuZGVyZXJJZDplLGdyb3VwSWQ6cn1dLHRyYW5zZmVyTGlzdDpbXX19dXBkYXRlTG9kSW5zdGFuY2VzRGF0YShlLHIsdCl7cmV0dXJue2NvbW1hbmRzOlt7aWQ6XCJ1cGRhdGUtbG9kLWluc3RhbmNlLWRhdGFcIixyZW5kZXJlcklkOmUsZ3JvdXBJZDpyLGdsb2JhbFRyYW5zZm9ybXM6dH1dLHRyYW5zZmVyTGlzdDpbdC5idWZmZXJdfX11cGRhdGVWaXNpYmlsaXR5KGUscix0KXtyZXR1cm57Y29tbWFuZHM6W3tpZDpcInVwZGF0ZS12aXNpYmlsaXR5XCIscmVuZGVyZXJJZDplLGdyb3VwSWQ6cix2aXNpYmlsaXR5OnR9XSx0cmFuc2Zlckxpc3Q6W3QuYnVmZmVyXX19YXN5bmMgZGlzcGF0Y2hSZW5kZXJDb21tYW5kcyhlKXswIT09ZS5jb21tYW5kcy5sZW5ndGgmJmF3YWl0IHRoaXMuX21haW5UaHJlYWREZWxlZ2F0ZS5leGVjdXRlUmVuZGVyQ29tbWFuZHMoZSl9Y3JlYXRlUmVuZGVyR2VvbWV0cnlCdWZmZXIobixhKXtjb25zdHttYXRlcmlhbElkOmksdmlzaWJpbGl0aWVzOnMsb2JqZWN0SWRzOm99PW4sZD10aGlzLl9idWZmZXJXcml0ZXJzLmdldChpKTtpZihudWxsPT1kKXRocm93IG5ldyBFcnJvcihcIm5vIHJlZ2lzdGVyZWQgYnVmZmVyV3JpdGVyIGZvciBtYXRlcmlhbCBmb3VuZFwiKTtsZXQgbT1udWxsO2lmKG4udHJhbnNmb3JtYXRpb24mJmEpZShjLG4udHJhbnNmb3JtYXRpb24pLGNbMTJdLT1hWzBdLGNbMTNdLT1hWzFdLGNbMTRdLT1hWzJdLG09YztlbHNle2lmKGEpdGhyb3cgbmV3IEVycm9yKFwibm90IGltcGxlbWVudGVkXCIpO24udHJhbnNmb3JtYXRpb24mJihtPW4udHJhbnNmb3JtYXRpb24pfWxldCBmPW51bGw7bSYmKHIoYixjKSx0KGIsYiksZj1iKTtjb25zdCB1PW4uYXR0cmlidXRlcyxsPWQuZWxlbWVudENvdW50KHUpLHk9ZC52ZXJ0ZXhCdWZmZXJMYXlvdXQuc3RyaWRlLzQ7bD5NYXRoLmZsb29yKHAveSkmJmNvbnNvbGUud2FybihcImdlb21ldHJ5IHdpdGggdmVyeSBsYXJnZSBudW1iZXIgb2YgZWxlbWVudHMgZW5jb3VudGVyZWRcIik7Y29uc3QgZz1kLnZlcnRleEJ1ZmZlckxheW91dC5jcmVhdGVCdWZmZXIobCksaD0wLEk9ZC53cml0ZShtLGYsdSxuLm9iamVjdEFuZExheWVySWRDb2xvcixnLGgpO2lmKG51bGw9PUkpdGhyb3cgbmV3IEVycm9yKFwiQnVmZmVyd3JpdGVyLndyaXRlIGRvZXMgbm90IHByb3ZpZGUgaXRlbSBpbmZvcm1hdGlvbi5cIik7aWYocy5sZW5ndGghPT1JLm51bUl0ZW1zfHxvLmxlbmd0aCE9PUkubnVtSXRlbXMpdGhyb3cgbmV3IEVycm9yKFwiVW5leHBlY3RlZCBtaXNtYXRjaCBiZXR3ZWVuIG51bWJlciBvZiBSZW5kZXJHZW9tZXRyeUJ1ZmZlckl0ZW1zIGFuZCBwcm92aWRlZCBvYmplY3RJZHMvdmlzaWJpbGl0eSBmbGFncy5cIik7cmV0dXJue3JlbmRlckdlb21ldHJ5QnVmZmVyOntkYXRhOmcuYnVmZmVyLGVsZW1lbnRDb3VudDpsfSxyZW5kZXJHZW9tZXRyeUJ1ZmZlckl0ZW1zOntvYmplY3RJZHM6byx2aXNpYmlsaXRpZXM6cyxyYW5nZXM6e251bVZlcnRpY2VzOkkubnVtVmVydGljZXNQZXJJdGVtLG51bUl0ZW1zOkkubnVtSXRlbXN9fX19fWNvbnN0IGM9bigpLGI9bigpLHA9MTY3NzcyMTYvNDtleHBvcnR7bCBhcyBSZW5kZXJDb21tYW5kQ29udGV4dH07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4zMy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0IGUgZnJvbVwiLi4vLi4vLi4vLi4vLi4vLi4vQ29sb3IuanNcIjtpbXBvcnR7Y3JlYXRlIGFzIHR9ZnJvbVwiLi4vLi4vLi4vLi4vLi4vLi4vY29yZS9saWJzL2dsLW1hdHJpeC0yL2ZhY3Rvcmllcy9tYXQ0ZjY0LmpzXCI7aW1wb3J0e09ORVMgYXMgcn1mcm9tXCIuLi8uLi8uLi8uLi8uLi8uLi9jb3JlL2xpYnMvZ2wtbWF0cml4LTIvZmFjdG9yaWVzL3ZlYzNmNjQuanNcIjtpbXBvcnR7WkVST1MgYXMgaX1mcm9tXCIuLi8uLi8uLi8uLi8uLi8uLi9jb3JlL2xpYnMvZ2wtbWF0cml4LTIvZmFjdG9yaWVzL3ZlYzRmNjQuanNcIjtpbXBvcnR7ZGVmYXVsdFByaW1pdGl2ZSBhcyBufWZyb21cIi4uLy4uLy4uLy4uLy4uLy4uL3N5bWJvbHMvc3VwcG9ydC9JY29uU3ltYm9sM0RMYXllclJlc291cmNlLmpzXCI7aW1wb3J0e21peGluQ29sb3JBbmRPcGFjaXR5IGFzIG99ZnJvbVwiLi4vLi4vZ3JhcGhpY1V0aWxzLmpzXCI7aW1wb3J0e25hbWVkQW5jaG9yVG9IVURNYXRlcmlhbEFuY2hvclBvcyBhcyBhfWZyb21cIi4uLy4uL3BsYWNlbWVudFV0aWxzLmpzXCI7aW1wb3J0e1BpcGVsaW5lQ29tbWFuZCBhcyBsfWZyb21cIi4uL1BpcGVsaW5lQ29tbWFuZC5qc1wiO2ltcG9ydHtjb21wdXRlVGlsZUNlbnRlclJlbmRlckNvb3JkaW5hdGVzIGFzIHMscmVhZE9iamVjdElkcyBhcyBtLHJlYWRNYXBDb29yZGluYXRlcyBhcyBjLHByb2plY3RUb1JlbmRlckNvb3JkaW5hdGVzIGFzIGR9ZnJvbVwiLi4vZmVhdHVyZURhdGEvcHJvY2Vzc2luZ1V0aWxzLmpzXCI7aW1wb3J0e2lucHV0QXR0cmlidXRlc1RvQXR0cmlidXRlc01hcCBhcyB1fWZyb21cIi4vc3ltYm9saXphdGlvblV0aWxzLmpzXCI7aW1wb3J0e2NyZWF0ZVRleHR1cmVJbmZvIGFzIHkscmVxdWlyZXNIYWxmVGV4ZWxPZmZzZXQgYXMgcCxkZWZhdWx0Qm91bmRpbmdCb3ggYXMgX31mcm9tXCIuLi8uLi8uLi8uLi9zdXBwb3J0L2VuZ2luZUNvbnRlbnQvc2RmUHJpbWl0aXZlcy5qc1wiO2ltcG9ydHtBdHRyaWJ1dGUgYXMgQ31mcm9tXCIuLi8uLi8uLi8uLi93ZWJnbC1lbmdpbmUvbGliL0F0dHJpYnV0ZS5qc1wiO2ltcG9ydHtWZXJ0ZXhBdHRyaWJ1dGUgYXMgaH1mcm9tXCIuLi8uLi8uLi8uLi93ZWJnbC1lbmdpbmUvbGliL1ZlcnRleEF0dHJpYnV0ZS5qc1wiO2NsYXNzIGZ7Y29uc3RydWN0b3IoZSx0KXt0aGlzLl9jb250ZXh0PW51bGwsdGhpcy5fc3ltYm9sTGF5ZXI9bnVsbCx0aGlzLl9kcmFwZWQ9ITEsdGhpcy5fbG9hZGVkPSExLHRoaXMuX2xvYWRpbmdQcm9taXNlPW51bGwsdGhpcy5faWNvblRleHR1cmVJRD1udWxsLHRoaXMuX21hdGVyaWFsSWQ9bnVsbCx0aGlzLl9jb250ZXh0PXQsdGhpcy5fc3ltYm9sTGF5ZXI9ZX1nZXQgbG9hZGVkKCl7cmV0dXJuIHRoaXMuX2xvYWRlZH1sb2FkKCl7cmV0dXJuIG51bGw9PXRoaXMuX2xvYWRpbmdQcm9taXNlJiYodGhpcy5fbG9hZGluZ1Byb21pc2U9dGhpcy5fbG9hZCgpKSx0aGlzLl9sb2FkaW5nUHJvbWlzZX1fZGVzdHJveSgpe3RoaXMuX2ljb25UZXh0dXJlSUQ9bnVsbH1hc3luYyBfbG9hZCgpe2NvbnN0IGU9dGhpcy5fY29udGV4dC5yZW5kZXJDb21tYW5kQ29udGV4dCx0PWF3YWl0IGUuY3JlYXRlVGV4dHVyZSgoKCk9PnkoXCJjaXJjbGVcIikpKTt0aGlzLl9pY29uVGV4dHVyZUlEPXQ7Y29uc3Qgcj17YW5jaG9yUG9zaXRpb246YS5jZW50ZXIsb2NjbHVzaW9uVGVzdDohMCxoYXNTbGljZVBsYW5lOiExLGNvbG9yOnRoaXMuX2dldEZpbGxDb2xvcigpLG91dGxpbmVDb2xvcjp0aGlzLl9nZXRPdXRsaW5lQ29sb3IoKSxvdXRsaW5lU2l6ZToxLGRpc3RhbmNlRmllbGRCb3VuZGluZ0JveDpfLHRleHR1cmVJZDp0LHRleHR1cmVJc1NpZ25lZERpc3RhbmNlRmllbGQ6ITAsc2FtcGxlU2lnbmVkRGlzdGFuY2VGaWVsZFRleGVsQ2VudGVyOnAoXCJjaXJjbGVcIil9O3RoaXMuX21hdGVyaWFsSWQ9YXdhaXQgZS5jcmVhdGVNYXRlcmlhbCh7dHlwZTpcImh1ZFwiLHBhcmFtZXRlcnM6cn0pLGF3YWl0IGUuY3JlYXRlRGlyZWN0UmVuZGVyZXIodGhpcy5fbWF0ZXJpYWxJZCksdGhpcy5fbG9hZGVkPSEwfWFzeW5jIGNyZWF0ZUFkZENvbW1hbmQoZSl7Y29uc3R7X21hdGVyaWFsSWQ6dCxfY29udGV4dDpyfT10aGlzLHtyZW5kZXJDb21tYW5kQ29udGV4dDppfT1yO2lmKG51bGw9PXQpdGhyb3cgbmV3IEVycm9yKFwiZXhwZWN0ZWQgbWF0ZXJpYWwgbm90IHRvIGJlIG51bGxcIik7Y29uc3Qgbj1hd2FpdCB0aGlzLl9jcmVhdGVHZW9tZXRyeShlKTtpZihudWxsPT1uKXJldHVybiByLmNyZWF0ZVBpcGVsaW5lQ29tbWFuZCgpO2NvbnN0IG89cyhlLHIpO3JldHVybiByLmNyZWF0ZVBpcGVsaW5lQ29tbWFuZChpLmFkZERpcmVjdFJlbmRlcmVyR2VvbWV0cnkoZS5pZCxuLG8pKX1hc3luYyBfY3JlYXRlR2VvbWV0cnkoZSl7Y29uc3R7X21hdGVyaWFsSWQ6cixfY29udGV4dDppfT10aGlzLHttYWluVGhyZWFkRGVsZWdhdGU6bn09aSx7ZmVhdHVyZUNvdW50Om99PWU7aWYoMD09PW98fG51bGw9PXIpcmV0dXJuIG51bGw7Y29uc3QgYT1tKGUpLGw9YyhlKSxzPWF3YWl0IG4uYXBwbHlFbGV2YXRpb25BbGlnbm1lbnRUbyhsKSx5PWQocyxpKSxwPW5ldyBGbG9hdDY0QXJyYXkoWzAsMCwxXSksXz1uZXcgRmxvYXQ2NEFycmF5KFsyNTUsMjU1LDI1NSwyNTVdKSxmPW5ldyBGbG9hdDY0QXJyYXkoWzI0LDI0XSksZz1uZXcgRmxvYXQ2NEFycmF5KFswLDAsMCwxXSkseD1uZXcgRmxvYXQ2NEFycmF5KFswLDBdKSxiPW5ldyBGbG9hdDY0QXJyYXkoWzBdKSx3PW5ldyBVaW50MzJBcnJheShvKTtmb3IobGV0IHQ9MDt0PG87Kyt0KXdbdF09dDtjb25zdCBJPW5ldyBVaW50MzJBcnJheShvKTtmb3IobGV0IHQ9MDt0PG87Kyt0KUlbdF09MDtjb25zdCBQPW5ldyBDKHksdywzLCEwKSxBPW5ldyBDKHAsSSwzLCEwKSxPPW5ldyBDKHgsSSwyLCEwKSxEPW5ldyBDKF8sSSw0LCEwKSxUPW5ldyBDKGIsSSwxLCEwKSxqPW5ldyBDKGYsSSwyLCEwKSxGPW5ldyBDKGcsSSw0LCEwKSxVPVtbaC5QT1NJVElPTixQXSxbaC5OT1JNQUwsQV0sW2guVVYwLE9dLFtoLkNPTE9SLERdLFtoLlJPVEFUSU9OLFRdLFtoLlNJWkUsal0sW2guQ0VOVEVST0ZGU0VUQU5ERElTVEFOQ0UsRl1dLHY9bmV3IFVpbnQ4QXJyYXkobyk7ZS5nZXRWaXNpYmlsaXR5QXJyYXkodik7cmV0dXJue2F0dHJpYnV0ZXM6dShVKSxvYmplY3RBbmRMYXllcklkQ29sb3I6dm9pZCAwLHRyYW5zZm9ybWF0aW9uOnQoKSxtYXRlcmlhbElkOnIsb2JqZWN0SWRzOmEsdmlzaWJpbGl0aWVzOnZ9fWFzeW5jIGNyZWF0ZVJlbW92ZUNvbW1hbmQoZSl7Y29uc3R7X21hdGVyaWFsSWQ6dCxfY29udGV4dDpyfT10aGlzLGk9ci5yZW5kZXJDb21tYW5kQ29udGV4dDtyZXR1cm4gbnVsbD09dD9yLmNyZWF0ZVBpcGVsaW5lQ29tbWFuZCgpOnIuY3JlYXRlUGlwZWxpbmVDb21tYW5kKGkucmVtb3ZlRGlyZWN0UmVuZGVyZXJHZW9tZXRyeUJ1ZmZlcih0LGUpKX1hc3luYyBjcmVhdGVVcGRhdGVWaXNpYmlsaXR5Q29tbWFuZChlKXtjb25zdHtfbWF0ZXJpYWxJZDp0LF9jb250ZXh0OnJ9PXRoaXMsaT1yLnJlbmRlckNvbW1hbmRDb250ZXh0O2lmKG51bGw9PXQpcmV0dXJuIHIuY3JlYXRlUGlwZWxpbmVDb21tYW5kKCk7Y29uc3Qgbj1uZXcgVWludDhBcnJheShlLmZlYXR1cmVDb3VudCk7cmV0dXJuIGUuZ2V0VmlzaWJpbGl0eUFycmF5KG4pLHIuY3JlYXRlUGlwZWxpbmVDb21tYW5kKGkudXBkYXRlVmlzaWJpbGl0eSh0LGUuaWQsbikpfWFzeW5jIGNyZWF0ZVVwZGF0ZUxheWVyVmlld09wYWNpdHlDb21tYW5kKGUpe2NvbnN0e19jb250ZXh0OnQsX21hdGVyaWFsSWQ6cn09dGhpcyxpPXQucmVuZGVyQ29tbWFuZENvbnRleHQ7cmV0dXJuIG51bGw9PXI/dC5jcmVhdGVQaXBlbGluZUNvbW1hbmQoKTp0LmNyZWF0ZVBpcGVsaW5lQ29tbWFuZChpLnVwZGF0ZU1hdGVyaWFsKHt0eXBlOlwiaHVkXCIsbWF0ZXJpYWxJZDpyLHBhcmFtZXRlcnM6e2NvbG9yOnRoaXMuX2dldEZpbGxDb2xvcigpLG91dGxpbmVDb2xvcjp0aGlzLl9nZXRPdXRsaW5lQ29sb3IoKX19KSl9YXN5bmMgY3JlYXRlVXBkYXRlRWxldmF0aW9uQ29tbWFuZChlKXtjb25zdHtfbWF0ZXJpYWxJZDp0LF9jb250ZXh0OnJ9PXRoaXMse3JlbmRlckNvbW1hbmRDb250ZXh0Oml9PXIse2ZlYXR1cmVDb3VudDpuLGlkOm99PWU7aWYobnVsbD09dHx8MD09PW4pcmV0dXJuIHIuY3JlYXRlUGlwZWxpbmVDb21tYW5kKCk7Y29uc3QgYT1hd2FpdCB0aGlzLl9jcmVhdGVHZW9tZXRyeShlKTtpZihudWxsPT1hKXJldHVybiByLmNyZWF0ZVBpcGVsaW5lQ29tbWFuZCgpO2NvbnN0IGw9cyhlLHIpO3JldHVybiByLmNyZWF0ZVBpcGVsaW5lQ29tbWFuZChpLnVwZGF0ZURpcmVjdFJlbmRlcmVyR2VvbWV0cnkobyxhLGwpKX1hc3luYyBjcmVhdGVEZXN0cm95Q29tbWFuZCgpe2NvbnN0e19pY29uVGV4dHVyZUlEOmUsX2NvbnRleHQ6dH09dGhpcyxyPXQucmVuZGVyQ29tbWFuZENvbnRleHQ7bGV0IGk7cmV0dXJuIGk9bnVsbCE9ZT9hd2FpdCByLnJlbGVhc2VUZXh0dXJlKGUpOmwuY3JlYXRlKHIpLGkuYXBwZW5kUGlwZWxpbmVTdGF0ZUNvbW1hbmQoKCgpPT50aGlzLl9kZXN0cm95KCkpKSxpfV9nZXRPdXRsaW5lQ29sb3IoKXtjb25zdCB0PXRoaXMuX2dldExheWVyT3BhY2l0eSgpLHI9dGhpcy5fc3ltYm9sTGF5ZXIsaT1yPy5vdXRsaW5lPy5jb2xvcjtpZihudWxsIT1pKXtjb25zdCByPWUudG9Vbml0UkdCKGkpLG49aS5hKnQ7cmV0dXJuW3JbMF0sclsxXSxyWzJdLG5dfXJldHVyblswLDAsMCwwXX1fZ2V0RmlsbENvbG9yKCl7aWYoZyh0aGlzLl9nZXRQcmltaXRpdmUoKSkpcmV0dXJuIHc7Y29uc3QgZT1udWxsPT10aGlzLl9nZXRQcmltaXRpdmUoKSx0PXRoaXMuX3N5bWJvbExheWVyPy5tYXRlcmlhbD8uY29sb3I7cmV0dXJuIHRoaXMuX2dldENvbWJpbmVkT3BhY2l0eUFuZENvbG9yKHQse2hhc0ludHJpbnNpY0NvbG9yOmV9KX1fZ2V0TGF5ZXJPcGFjaXR5KCl7cmV0dXJuIHRoaXMuX2NvbnRleHQubGF5ZXJWaWV3SW5mby5mdWxsT3BhY2l0eX1fZ2V0Q29tYmluZWRPcGFjaXR5KGUsdD1iKXtjb25zdCByPXRoaXMuX2RyYXBlZD8xOnRoaXMuX2dldExheWVyT3BhY2l0eSgpO3JldHVybiBlP3IqZS5hOnQuaGFzSW50cmluc2ljQ29sb3I/cjowfV9nZXRDb21iaW5lZE9wYWNpdHlBbmRDb2xvcih0LGk9Yil7Y29uc3Qgbj10aGlzLl9nZXRDb21iaW5lZE9wYWNpdHkodCxpKSxhPW51bGwhPXQ/ZS50b1VuaXRSR0IodCk6cjtyZXR1cm4gbyhhLG4pfV9nZXRQcmltaXRpdmUoKXtyZXR1cm4geCh0aGlzLl9zeW1ib2xMYXllcil9fWZ1bmN0aW9uIGcoZSl7cmV0dXJuIG51bGwhPWUmJihcImNyb3NzXCI9PT1lfHxcInhcIj09PWUpfWZ1bmN0aW9uIHgoZSl7cmV0dXJuIGUucmVzb3VyY2U/LmhyZWY/bnVsbDplLnJlc291cmNlPy5wcmltaXRpdmU/P259Y29uc3QgYj17aGFzSW50cmluc2ljQ29sb3I6ITF9LHc9aTtleHBvcnR7ZiBhcyBJY29uU3ltYm9sTGF5ZXJSZW5kZXJlcixiIGFzIGRlZmF1bHRNYXRlcmlhbE9wdGlvbnMseCBhcyBnZXRQcmltaXRpdmUsZyBhcyBpc091dGxpbmVPbmx5LHcgYXMgdHJhbnNwYXJlbnRVbml0fTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjMzL2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7aWRlbnRpdHkgYXMgZSxzY2FsZSBhcyB0fWZyb21cIi4uLy4uLy4uLy4uLy4uLy4uL2NvcmUvbGlicy9nbC1tYXRyaXgtMi9tYXRoL21hdDQuanNcIjtpbXBvcnR7Y3JlYXRlIGFzIHJ9ZnJvbVwiLi4vLi4vLi4vLi4vLi4vLi4vY29yZS9saWJzL2dsLW1hdHJpeC0yL2ZhY3Rvcmllcy9tYXQ0ZjY0LmpzXCI7aW1wb3J0e09ORVMgYXMgaSxmcm9tQXJyYXkgYXMgYSxjcmVhdGUgYXMgbn1mcm9tXCIuLi8uLi8uLi8uLi8uLi8uLi9jb3JlL2xpYnMvZ2wtbWF0cml4LTIvZmFjdG9yaWVzL3ZlYzNmNjQuanNcIjtpbXBvcnR7T05FUyBhcyBvfWZyb21cIi4uLy4uLy4uLy4uLy4uLy4uL2NvcmUvbGlicy9nbC1tYXRyaXgtMi9mYWN0b3JpZXMvdmVjNGY2NC5qc1wiO2ltcG9ydHtjb21wdXRlVHJhbnNsYXRpb25Ub09yaWdpbkFuZFJvdGF0aW9uIGFzIHN9ZnJvbVwiLi4vLi4vLi4vLi4vLi4vLi4vZ2VvbWV0cnkvcHJvamVjdGlvbi9jb21wdXRlVHJhbnNsYXRpb25Ub09yaWdpbkFuZFJvdGF0aW9uLmpzXCI7aW1wb3J0e2NyZWF0ZSBhcyBsLHNpemUgYXMgbX1mcm9tXCIuLi8uLi8uLi8uLi8uLi8uLi9nZW9tZXRyeS9zdXBwb3J0L2FhQm91bmRpbmdCb3guanNcIjtpbXBvcnR7ZGVmYXVsdFByaW1pdGl2ZSBhcyBkfWZyb21cIi4uLy4uLy4uLy4uLy4uLy4uL3N5bWJvbHMvc3VwcG9ydC9PYmplY3RTeW1ib2wzRExheWVyUmVzb3VyY2UuanNcIjtpbXBvcnR7b2JqZWN0U3ltYm9sTGF5ZXJQcmltaXRpdmVCb3VuZGluZ0JveCBhcyBjLG9iamVjdFN5bWJvbExheWVyU2l6ZVdpdGhSZXNvdXJjZVNpemUgYXMgcH1mcm9tXCIuLi8uLi8uLi8uLi8uLi8uLi9zeW1ib2xzL3N1cHBvcnQvc3ltYm9sTGF5ZXJVdGlsczNELmpzXCI7aW1wb3J0e2NvbXB1dGVPYmplY3RTY2FsZSBhcyB1fWZyb21cIi4uLy4uL2dyYXBoaWNVdGlscy5qc1wiO2ltcG9ydHtpc1ZhbGlkUHJpbWl0aXZlIGFzIGh9ZnJvbVwiLi4vLi4vcHJpbWl0aXZlT2JqZWN0U3ltYm9sVXRpbHMuanNcIjtpbXBvcnR7UGlwZWxpbmVDb21tYW5kIGFzIHl9ZnJvbVwiLi4vUGlwZWxpbmVDb21tYW5kLmpzXCI7aW1wb3J0e3JlYWRNYXBDb29yZGluYXRlcyBhcyBmLHJlYWRPYmplY3RJZHMgYXMgX31mcm9tXCIuLi9mZWF0dXJlRGF0YS9wcm9jZXNzaW5nVXRpbHMuanNcIjtpbXBvcnR7Y3JlYXRlUHJpbWl0aXZlR2VvbWV0cnkgYXMgYn1mcm9tXCIuL3ByaW1pdGl2ZU9iamVjdFV0aWxzLmpzXCI7aW1wb3J0e0N1bGxGYWNlT3B0aW9ucyBhcyBDfWZyb21cIi4uLy4uLy4uLy4uL3dlYmdsLWVuZ2luZS9saWIvYmFzaWNJbnRlcmZhY2VzLmpzXCI7aW1wb3J0e0RlZmF1bHRNYXRlcmlhbFBhcmFtZXRlcnMgYXMgZyxpc1RyYW5zcGFyZW50IGFzIHh9ZnJvbVwiLi4vLi4vLi4vLi4vd2ViZ2wtZW5naW5lL21hdGVyaWFscy9EZWZhdWx0TWF0ZXJpYWwuanNcIjtpbXBvcnR7c2NoZW1hdGljTVJSRmFjdG9ycyBhcyB2fWZyb21cIi4uLy4uLy4uLy4uL3dlYmdsLWVuZ2luZS9tYXRlcmlhbHMvcGJyVXRpbHMuanNcIjtjbGFzcyB3e2NvbnN0cnVjdG9yKGUsdCl7dGhpcy5fbG9hZGVkPSExLHRoaXMuX2xvYWRpbmdQcm9taXNlPW51bGwsdGhpcy5fcHJpbWl0aXZlTWF0ZXJpYWxJZD1udWxsLHRoaXMuX2xvZFJlbmRlcmVySWQ9bnVsbCx0aGlzLl9jb250ZXh0PW51bGwsdGhpcy5fc3ltYm9sTGF5ZXI9bnVsbCx0aGlzLl9wcmltaXRpdmU9bnVsbCx0aGlzLl9jb250ZXh0PXQsdGhpcy5fc3ltYm9sTGF5ZXI9ZX1fZGVzdHJveSgpe3RoaXMuX2xvZFJlbmRlcmVySWQ9bnVsbCx0aGlzLl9wcmltaXRpdmVNYXRlcmlhbElkPW51bGx9Z2V0IGxvYWRlZCgpe3JldHVybiB0aGlzLl9sb2FkZWR9Z2V0IF9pc1ByaW1pdGl2ZSgpe3JldHVybiBudWxsIT10aGlzLl9wcmltaXRpdmV9bG9hZCgpe3JldHVybiBudWxsPT10aGlzLl9sb2FkaW5nUHJvbWlzZSYmKHRoaXMuX2xvYWRpbmdQcm9taXNlPXRoaXMuX2xvYWQoKSksdGhpcy5fbG9hZGluZ1Byb21pc2V9YXN5bmMgX2xvYWQoKXtjb25zdCBlPXRoaXMuX2NvbnRleHQucmVuZGVyQ29tbWFuZENvbnRleHQsdD17cGh5c2ljYWxCYXNlZFJlbmRlcmluZ0VuYWJsZWQ6ITAsc2xpY2VQbGFuZUVuYWJsZWQ6ITEsY2FzdFNoYWRvd3M6ITB9LHI9dGhpcy5fZ2V0TGF5ZXJPcGFjaXR5KCk7bGV0IGE9e3VzZVBCUjp0LnBoeXNpY2FsQmFzZWRSZW5kZXJpbmdFbmFibGVkLGlzU2NoZW1hdGljOiEwLG1yckZhY3RvcnM6dixhbWJpZW50OmksZGlmZnVzZTppLGhhc1NsaWNlUGxhbmU6dC5zbGljZVBsYW5lRW5hYmxlZCxjYXN0U2hhZG93czp0LmNhc3RTaGFkb3dzLGxheWVyT3BhY2l0eTpyLG9mZnNldFRyYW5zcGFyZW50QmFja2ZhY2VzOiExLHNjcmVlblNpemVQZXJzcGVjdGl2ZTp7fX07aWYoYS5leHRlcm5hbENvbG9yPW8sYS5pc0luc3RhbmNlZD0hMCx0aGlzLl9pc1ByaW1pdGl2ZSl7Y29uc3QgZT1uZXcgZztlLmxheWVyT3BhY2l0eT1yLGE9ey4uLmEsY3VsbEZhY2U6UCh4KGUpKX19Y29uc3Qgbj1hd2FpdCBlLmNyZWF0ZU1hdGVyaWFsKHt0eXBlOlwiZGVmYXVsdFwiLHBhcmFtZXRlcnM6YX0pLHM9dGhpcy5fc3ltYm9sTGF5ZXIucmVzb3VyY2U7dGhpcy5fcHJpbWl0aXZlPXMmJmgocz8ucHJpbWl0aXZlKT9zLnByaW1pdGl2ZTpkO2NvbnN0IGw9Yih0aGlzLl9wcmltaXRpdmUsbik7dGhpcy5fbG9kUmVuZGVyZXJJZD1hd2FpdCBlLmNyZWF0ZUxvZFJlbmRlcmVyKGwpLHRoaXMuX3ByaW1pdGl2ZU1hdGVyaWFsSWQ9bix0aGlzLl9sb2FkZWQ9ITB9YXN5bmMgY3JlYXRlRGVzdHJveUNvbW1hbmQoKXtjb25zdHtfbG9kUmVuZGVyZXJJZDplLF9wcmltaXRpdmVNYXRlcmlhbElkOnQsX2NvbnRleHQ6cn09dGhpcyxpPXIucmVuZGVyQ29tbWFuZENvbnRleHQsYT1bXTtyZXR1cm4gbnVsbCE9ZSYmYS5wdXNoKGkuZGVzdHJveUxvZFJlbmRlcmVyKGUpKSxudWxsIT10JiZhLnB1c2goaS5kZXN0cm95TWF0ZXJpYWwodCkpLG5ldyB5KGksaS5tZXJnZVJlbmRlckNvbW1hbmRCdWZmZXJzKGEpLFsoKT0+dGhpcy5fZGVzdHJveSgpXSl9YXN5bmMgY3JlYXRlQWRkQ29tbWFuZChlKXtjb25zdCB0PXRoaXMuX2NvbnRleHQse3JlbmRlckNvbW1hbmRDb250ZXh0OnIsbWFpblRocmVhZERlbGVnYXRlOml9PXQ7aWYobnVsbD09dGhpcy5fbG9kUmVuZGVyZXJJZCl0aHJvdyBuZXcgRXJyb3IoXCJleHBlY3RlZCBsb2QgcmVuZGVyZXIgaWQgdG8gbm90IGJlIG51bGxcIik7Y29uc3R7ZmVhdHVyZUNvdW50Om59PWU7aWYoMD09PW4pcmV0dXJuIHQuY3JlYXRlUGlwZWxpbmVDb21tYW5kKCk7Y29uc3Qgbz10aGlzLl9pc1ByaW1pdGl2ZSxzPXRoaXMuX3ByaW1pdGl2ZXx8ZCx1PWwoYyhzKSksaD1hKG0odSkpLHk9YShwKGgse2lzUHJpbWl0aXZlOm8sd2lkdGg6MTAwLGRlcHRoOm51bGwsaGVpZ2h0Om51bGx9KSksYj1uZXcgRmxvYXQ2NEFycmF5KDE2Km4pLEM9bmV3IEZsb2F0NjRBcnJheSgxNipuKSxnPWYoZSkseD1hd2FpdCBpLmFwcGx5RWxldmF0aW9uQWxpZ25tZW50VG8oZyk7Zm9yKGxldCBhPTA7YTxuOysrYSl7Y29uc3QgZT1hLHQ9eFszKmErMF0scj14WzMqYSsxXSxpPXhbMyphKzJdLG49dGhpcy5fY29tcHV0ZUdsb2JhbFRyYW5zZm9ybSh0LHIsaSx0aGlzLl9jb250ZXh0LnZpZXdTcGF0aWFsUmVmZXJlbmNlLFQpLG89dGhpcy5fY29tcHV0ZUxvY2FsVHJhbnNmb3JtKHksaCxqKTt0aGlzLl93cml0ZU1hdHJpeFRvVHlwZWRCdWZmZXIoYixlLG8pLHRoaXMuX3dyaXRlTWF0cml4VG9UeXBlZEJ1ZmZlcihDLGUsbil9Y29uc3Qgdj1fKGUpLHc9bmV3IFVpbnQ4QXJyYXkobik7ZS5nZXRWaXNpYmlsaXR5QXJyYXkodyk7Y29uc3QgUD17ZmVhdHVyZUlkczpuZXcgVWludDMyQXJyYXkodiksdmlzaWJpbGl0eTp3LGxvY2FsVHJhbnNmb3JtczpiLGdsb2JhbFRyYW5zZm9ybXM6Q307cmV0dXJuIHQuY3JlYXRlUGlwZWxpbmVDb21tYW5kKHIuYWRkTG9kSW5zdGFuY2VzKHRoaXMuX2xvZFJlbmRlcmVySWQsZS5pZCxQKSl9YXN5bmMgY3JlYXRlUmVtb3ZlQ29tbWFuZChlKXtjb25zdHtfY29udGV4dDp0LF9sb2RSZW5kZXJlcklkOnJ9PXRoaXMsaT10LnJlbmRlckNvbW1hbmRDb250ZXh0O3JldHVybiBudWxsPT1yP3QuY3JlYXRlUGlwZWxpbmVDb21tYW5kKCk6dC5jcmVhdGVQaXBlbGluZUNvbW1hbmQoaS5yZW1vdmVMb2RJbnN0YW5jZXMocixlKSl9YXN5bmMgY3JlYXRlVXBkYXRlVmlzaWJpbGl0eUNvbW1hbmQoZSl7Y29uc3R7X2xvZFJlbmRlcmVySWQ6dCxfY29udGV4dDpyfT10aGlzLGk9ci5yZW5kZXJDb21tYW5kQ29udGV4dDtpZihudWxsPT10KXJldHVybiByLmNyZWF0ZVBpcGVsaW5lQ29tbWFuZCgpO2NvbnN0IGE9bmV3IFVpbnQ4QXJyYXkoZS5mZWF0dXJlQ291bnQpO3JldHVybiBlLmdldFZpc2liaWxpdHlBcnJheShhKSxyLmNyZWF0ZVBpcGVsaW5lQ29tbWFuZChpLnVwZGF0ZVZpc2liaWxpdHkodCxlLmlkLGEpKX1hc3luYyBjcmVhdGVVcGRhdGVMYXllclZpZXdPcGFjaXR5Q29tbWFuZChlKXtjb25zdHtfY29udGV4dDp0fT10aGlzLHI9dC5yZW5kZXJDb21tYW5kQ29udGV4dCxpPXRoaXMuX3ByaW1pdGl2ZU1hdGVyaWFsSWQ7aWYobnVsbD09aSlyZXR1cm4gdC5jcmVhdGVQaXBlbGluZUNvbW1hbmQoKTtjb25zdCBhPXRoaXMuX2dldExheWVyT3BhY2l0eSgpO2xldCBuPXtsYXllck9wYWNpdHk6YX07aWYodGhpcy5faXNQcmltaXRpdmUpe2NvbnN0IGU9bmV3IGc7ZS5sYXllck9wYWNpdHk9YSxuPXsuLi5uLGN1bGxGYWNlOlAoeChlKSl9fXJldHVybiB0LmNyZWF0ZVBpcGVsaW5lQ29tbWFuZChyLnVwZGF0ZU1hdGVyaWFsKHt0eXBlOlwiZGVmYXVsdFwiLG1hdGVyaWFsSWQ6aSxwYXJhbWV0ZXJzOm59KSl9YXN5bmMgY3JlYXRlVXBkYXRlRWxldmF0aW9uQ29tbWFuZChlKXtjb25zdHtfY29udGV4dDp0LF9sb2RSZW5kZXJlcklkOnJ9PXRoaXMse3JlbmRlckNvbW1hbmRDb250ZXh0OmksbWFpblRocmVhZERlbGVnYXRlOmF9PXQse2ZlYXR1cmVDb3VudDpuLGlkOm99PWU7aWYobnVsbD09cnx8MD09PW4pcmV0dXJuIHQuY3JlYXRlUGlwZWxpbmVDb21tYW5kKCk7Y29uc3Qgcz1uZXcgRmxvYXQ2NEFycmF5KDE2Km4pLGw9ZihlKSxtPWF3YWl0IGEuYXBwbHlFbGV2YXRpb25BbGlnbm1lbnRUbyhsKTtmb3IobGV0IGQ9MDtkPG47KytkKXtjb25zdCBlPWQsdD1tWzMqZCswXSxyPW1bMypkKzFdLGk9bVszKmQrMl0sYT10aGlzLl9jb21wdXRlR2xvYmFsVHJhbnNmb3JtKHQscixpLHRoaXMuX2NvbnRleHQudmlld1NwYXRpYWxSZWZlcmVuY2UsVCk7dGhpcy5fd3JpdGVNYXRyaXhUb1R5cGVkQnVmZmVyKHMsZSxhKX1yZXR1cm4gdC5jcmVhdGVQaXBlbGluZUNvbW1hbmQoaS51cGRhdGVMb2RJbnN0YW5jZXNEYXRhKHIsbyxzKSl9X3dyaXRlTWF0cml4VG9UeXBlZEJ1ZmZlcihlLHQscil7bGV0IGk9MTYqdDtmb3IobGV0IGE9MDthPDE2O2ErKyllW2krK109clthXX1fY29tcHV0ZUdsb2JhbFRyYW5zZm9ybShlLHQscixpLGEpe3JldHVybiBJWzBdPWUsSVsxXT10LElbMl09cixzKGksSSxhLHRoaXMuX2NvbnRleHQucmVuZGVyU3BhdGlhbFJlZmVyZW5jZSksYX1fY29tcHV0ZUxvY2FsVHJhbnNmb3JtKHQscixpKXtyZXR1cm4gZShpKSx0aGlzLl9hcHBseU9iamVjdFNjYWxlKHQscixpKSxpfV9hcHBseU9iamVjdFNjYWxlKGUscixpKXtjb25zdCBhPXUoZSxlLHIsdGhpcy5fY29udGV4dC5yZW5kZXJDb29yZHNIZWxwZXIudW5pdEluTWV0ZXJzKTsxPT09YVswXSYmMT09PWFbMV0mJjE9PT1hWzJdfHx0KGksaSxhKX1fZ2V0TGF5ZXJPcGFjaXR5KCl7cmV0dXJuIHRoaXMuX2NvbnRleHQubGF5ZXJWaWV3SW5mby5mdWxsT3BhY2l0eX19ZnVuY3Rpb24gUChlKXtyZXR1cm4gZT9DLk5vbmU6Qy5CYWNrfWNvbnN0IEk9bigpLGo9cigpLFQ9cigpO2V4cG9ydHt3IGFzIE9iamVjdFN5bWJvbExheWVyUmVuZGVyZXJ9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMzMvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmNsYXNzIGV7Y29uc3RydWN0b3IoZSxvKXt0aGlzLl9sb2FkZWQ9ITEsdGhpcy5fbG9hZGluZ1Byb21pc2U9bnVsbCx0aGlzLl9jb250ZXh0PW51bGwsdGhpcy5fc3ltYm9sPW51bGwsdGhpcy5fc3ltYm9sTGF5ZXJSZW5kZXJlcnM9W10sdGhpcy5fY29udGV4dD1vLHRoaXMuX3N5bWJvbD1lfV9kZXN0cm95KCl7fWdldCBsb2FkZWQoKXtyZXR1cm4gdGhpcy5fbG9hZGVkfWxvYWQoKXtyZXR1cm4gbnVsbD09dGhpcy5fbG9hZGluZ1Byb21pc2UmJih0aGlzLl9sb2FkaW5nUHJvbWlzZT10aGlzLl9sb2FkKCkpLHRoaXMuX2xvYWRpbmdQcm9taXNlfWFzeW5jIF9sb2FkKCl7Y29uc3R7X2NvbnRleHQ6ZSxfc3ltYm9sOm8sX3N5bWJvbExheWVyUmVuZGVyZXJzOnR9PXRoaXMscz1bXTtmb3IoY29uc3QgYSBvZiBvLnN5bWJvbExheWVycyl7Y29uc3Qgbz1lLnN5bWJvbFJlbmRlcmVyRmFjdG9yeS5jcmVhdGVTeW1ib2xSZW5kZXJlckZyb21TeW1ib2xMYXllcihhKTtudWxsIT1vJiYocy5wdXNoKG8ubG9hZCgpKSx0LnB1c2gobykpfWF3YWl0IFByb21pc2UuYWxsKHMpLHRoaXMuX2xvYWRlZD0hMH1hc3luYyBjcmVhdGVEZXN0cm95Q29tbWFuZCgpe2NvbnN0e19jb250ZXh0OmUsX3N5bWJvbExheWVyUmVuZGVyZXJzOm99PXRoaXMsdD1bXTtmb3IoY29uc3QgYSBvZiBvKXQucHVzaChhLmNyZWF0ZURlc3Ryb3lDb21tYW5kKCkpO2NvbnN0IHM9ZS5qb2luUGlwZWxpbmVDb21tYW5kcyhhd2FpdCBQcm9taXNlLmFsbCh0KSk7cmV0dXJuIHMuYXBwZW5kUGlwZWxpbmVTdGF0ZUNvbW1hbmQoKCgpPT50aGlzLl9kZXN0cm95KCkpKSxzfWFzeW5jIGNyZWF0ZUFkZENvbW1hbmQoZSl7Y29uc3R7X2NvbnRleHQ6byxfc3ltYm9sTGF5ZXJSZW5kZXJlcnM6dH09dGhpcyxzPVtdO2Zvcihjb25zdCBhIG9mIHQpcy5wdXNoKGEuY3JlYXRlQWRkQ29tbWFuZChlKSk7cmV0dXJuIG8uam9pblBpcGVsaW5lQ29tbWFuZHMoYXdhaXQgUHJvbWlzZS5hbGwocykpfWFzeW5jIGNyZWF0ZVJlbW92ZUNvbW1hbmQoZSl7Y29uc3R7X2NvbnRleHQ6byxfc3ltYm9sTGF5ZXJSZW5kZXJlcnM6dH09dGhpcyxzPVtdO2Zvcihjb25zdCBhIG9mIHQpcy5wdXNoKGEuY3JlYXRlUmVtb3ZlQ29tbWFuZChlKSk7cmV0dXJuIG8uam9pblBpcGVsaW5lQ29tbWFuZHMoYXdhaXQgUHJvbWlzZS5hbGwocykpfWFzeW5jIGNyZWF0ZVVwZGF0ZVZpc2liaWxpdHlDb21tYW5kKGUpe2NvbnN0e19jb250ZXh0Om8sX3N5bWJvbExheWVyUmVuZGVyZXJzOnR9PXRoaXMscz1bXTtmb3IoY29uc3QgYSBvZiB0KXMucHVzaChhLmNyZWF0ZVVwZGF0ZVZpc2liaWxpdHlDb21tYW5kKGUpKTtyZXR1cm4gby5qb2luUGlwZWxpbmVDb21tYW5kcyhhd2FpdCBQcm9taXNlLmFsbChzKSl9YXN5bmMgY3JlYXRlVXBkYXRlTGF5ZXJWaWV3T3BhY2l0eUNvbW1hbmQoZSl7Y29uc3R7X2NvbnRleHQ6byxfc3ltYm9sTGF5ZXJSZW5kZXJlcnM6dH09dGhpcyxzPVtdO2Zvcihjb25zdCBhIG9mIHQpcy5wdXNoKGEuY3JlYXRlVXBkYXRlTGF5ZXJWaWV3T3BhY2l0eUNvbW1hbmQoZSkpO3JldHVybiBvLmpvaW5QaXBlbGluZUNvbW1hbmRzKGF3YWl0IFByb21pc2UuYWxsKHMpKX1hc3luYyBjcmVhdGVVcGRhdGVFbGV2YXRpb25Db21tYW5kKGUpe2NvbnN0e19jb250ZXh0Om8sX3N5bWJvbExheWVyUmVuZGVyZXJzOnR9PXRoaXMscz1bXTtmb3IoY29uc3QgYSBvZiB0KXMucHVzaChhLmNyZWF0ZVVwZGF0ZUVsZXZhdGlvbkNvbW1hbmQoZSkpO3JldHVybiBvLmpvaW5QaXBlbGluZUNvbW1hbmRzKGF3YWl0IFByb21pc2UuYWxsKHMpKX19ZXhwb3J0e2UgYXMgUG9pbnQzRFN5bWJvbFJlbmRlcmVyfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjMzL2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5jbGFzcyBle2NvbnN0cnVjdG9yKGUsdCl7dGhpcy5fc3ltYm9sPW51bGwsdGhpcy5fZmVhdHVyZURhdGE9bmV3IE1hcCx0aGlzLl9sb2FkZWQ9ITEsdGhpcy5fbG9hZGluZ1Byb21pc2U9bnVsbCx0aGlzLl9yZW5kZXJlcj1udWxsLHRoaXMuX2NvbnRleHQ9dCx0aGlzLl9yZW5kZXJlcj1lfWFzeW5jIGxvYWQoKXtyZXR1cm4gbnVsbD09dGhpcy5fbG9hZGluZ1Byb21pc2UmJih0aGlzLl9sb2FkaW5nUHJvbWlzZT10aGlzLl9sb2FkKCkpLHRoaXMuX2xvYWRpbmdQcm9taXNlfWFzeW5jIF9sb2FkKCl7Y29uc3R7X3JlbmRlcmVyOmUsX2NvbnRleHQ6dH09dGhpczt0aGlzLl9zeW1ib2w9dC5zeW1ib2xSZW5kZXJlckZhY3RvcnkuY3JlYXRlU3ltYm9sUmVuZGVyZXJGcm9tU3ltYm9sKGUuc3ltYm9sKSx0aGlzLl9sb2FkZWQ9ITB9Z2V0IGxvYWRlZCgpe3JldHVybiB0aGlzLl9sb2FkZWR9YXN5bmMgY3JlYXRlQWRkQ29tbWFuZChlKXtjb25zdCB0PXRoaXMuX2NvbnRleHQsYT1hd2FpdCB0aGlzLl9wcm92aXNpb25TeW1ib2woKSxuPW51bGw9PWE/dC5jcmVhdGVQaXBlbGluZUNvbW1hbmQoKTphd2FpdCBhLmNyZWF0ZUFkZENvbW1hbmQoZSk7cmV0dXJuIG4uYXBwZW5kUGlwZWxpbmVTdGF0ZUNvbW1hbmQoKCgpPT50aGlzLl9mZWF0dXJlRGF0YS5zZXQoZS5pZCxlKSkpLG59YXN5bmMgY3JlYXRlUmVtb3ZlQ29tbWFuZChlKXtjb25zdCB0PXRoaXMuX2NvbnRleHQsYT1hd2FpdCB0aGlzLl9wcm92aXNpb25TeW1ib2woKSxuPW51bGw9PWE/dC5jcmVhdGVQaXBlbGluZUNvbW1hbmQoKTphd2FpdCBhLmNyZWF0ZVJlbW92ZUNvbW1hbmQoZSk7cmV0dXJuIG4uYXBwZW5kUGlwZWxpbmVTdGF0ZUNvbW1hbmQoKCgpPT50aGlzLl9mZWF0dXJlRGF0YS5kZWxldGUoZSkpKSxufWFzeW5jIGNyZWF0ZVVwZGF0ZVZpc2liaWxpdHlDb21tYW5kKGUpe2NvbnN0IHQ9dGhpcy5fY29udGV4dCxhPWF3YWl0IHRoaXMuX3Byb3Zpc2lvblN5bWJvbCgpO3JldHVybiBudWxsPT1hP3QuY3JlYXRlUGlwZWxpbmVDb21tYW5kKCk6YXdhaXQgYS5jcmVhdGVVcGRhdGVWaXNpYmlsaXR5Q29tbWFuZChlKX1hc3luYyBjcmVhdGVVcGRhdGVMYXllclZpZXdPcGFjaXR5Q29tbWFuZChlKXtjb25zdCB0PXRoaXMuX2NvbnRleHQsYT1hd2FpdCB0aGlzLl9wcm92aXNpb25TeW1ib2woKTtyZXR1cm4gbnVsbD09YT90LmNyZWF0ZVBpcGVsaW5lQ29tbWFuZCgpOmF3YWl0IGEuY3JlYXRlVXBkYXRlTGF5ZXJWaWV3T3BhY2l0eUNvbW1hbmQoZSl9YXN5bmMgY3JlYXRlVXBkYXRlRWxldmF0aW9uQ29tbWFuZCgpe2NvbnN0e19mZWF0dXJlRGF0YTplLF9jb250ZXh0OnR9PXRoaXMsYT1hd2FpdCB0aGlzLl9wcm92aXNpb25TeW1ib2woKTtpZihudWxsPT1hKXJldHVybiB0LmNyZWF0ZVBpcGVsaW5lQ29tbWFuZCgpO2NvbnN0IG49W107Zm9yKGNvbnN0IGkgb2YgZS52YWx1ZXMoKSluLnB1c2goYS5jcmVhdGVVcGRhdGVFbGV2YXRpb25Db21tYW5kKGkpKTtjb25zdCBvPWF3YWl0IFByb21pc2UuYWxsKG4pO3JldHVybiB0LmpvaW5QaXBlbGluZUNvbW1hbmRzKG8pfWFzeW5jIGNyZWF0ZURlc3Ryb3lDb21tYW5kKCl7Y29uc3R7X3N5bWJvbDplLF9jb250ZXh0OnQsX2ZlYXR1cmVEYXRhOmF9PXRoaXM7aWYoIWUpcmV0dXJuIHQuY3JlYXRlUGlwZWxpbmVDb21tYW5kKCk7Y29uc3Qgbj1bXTtmb3IoY29uc3QgaSBvZiBhLmtleXMoKSluLnB1c2godGhpcy5jcmVhdGVSZW1vdmVDb21tYW5kKGkpKTtuLnB1c2goZS5jcmVhdGVEZXN0cm95Q29tbWFuZCgpKTtjb25zdCBvPWF3YWl0IFByb21pc2UuYWxsKG4pO3JldHVybiB0LmpvaW5QaXBlbGluZUNvbW1hbmRzKG8pfWFzeW5jIF9wcm92aXNpb25TeW1ib2woKXtjb25zdCBlPXRoaXMuX3N5bWJvbDtyZXR1cm4gZT8oZS5sb2FkZWR8fGF3YWl0IGUubG9hZCgpLGUpOm51bGx9fWV4cG9ydHtlIGFzIFNpbXBsZUZlYXR1cmVSZW5kZXJlcn07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4zMy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e1BpcGVsaW5lQ29tbWFuZCBhcyB0fWZyb21cIi4uL1BpcGVsaW5lQ29tbWFuZC5qc1wiO2ltcG9ydHtyZWFkT2JqZWN0SWRzIGFzIGV9ZnJvbVwiLi4vZmVhdHVyZURhdGEvcHJvY2Vzc2luZ1V0aWxzLmpzXCI7aW1wb3J0e2NyZWF0ZURlZmF1bHRJY29uU3ltYm9sTGF5ZXIgYXMgbixjcmVhdGVEZWZhdWx0T2JqZWN0U3ltYm9sTGF5ZXIgYXMgYX1mcm9tXCIuL2ZhY3RvcnlVdGlscy5qc1wiO2ltcG9ydHtJY29uU3ltYm9sTGF5ZXJSZW5kZXJlciBhcyBvfWZyb21cIi4vSWNvblN5bWJvbExheWVyUmVuZGVyZXIuanNcIjtpbXBvcnR7T2JqZWN0U3ltYm9sTGF5ZXJSZW5kZXJlciBhcyBpfWZyb21cIi4vT2JqZWN0U3ltYm9sTGF5ZXJSZW5kZXJlci5qc1wiO2NsYXNzIHN7Y29uc3RydWN0b3IodCxlKXt0aGlzLl9zeW1ib2xzPW5ldyBBcnJheSx0aGlzLl9mZWF0dXJlRGF0YVBhcnRpdGlvbmluZz1uZXcgTWFwLHRoaXMuX2xvYWRlZD0hMSx0aGlzLl9sb2FkaW5nUHJvbWlzZT1udWxsLHRoaXMuX3JlbmRlcmVyPW51bGwsdGhpcy5fY29udGV4dD1lLHRoaXMuX3JlbmRlcmVyPXR9YXN5bmMgbG9hZCgpe3JldHVybiBudWxsPT10aGlzLl9sb2FkaW5nUHJvbWlzZSYmKHRoaXMuX2xvYWRpbmdQcm9taXNlPXRoaXMuX2xvYWQoKSksdGhpcy5fbG9hZGluZ1Byb21pc2V9YXN5bmMgX2xvYWQoKXt0aGlzLl9zeW1ib2xzWzBdPW5ldyBvKG4oKSx0aGlzLl9jb250ZXh0KSx0aGlzLl9zeW1ib2xzWzFdPW5ldyBpKGEoKSx0aGlzLl9jb250ZXh0KSx0aGlzLl9sb2FkZWQ9ITB9Z2V0IGxvYWRlZCgpe3JldHVybiB0aGlzLl9sb2FkZWR9YXN5bmMgY3JlYXRlQWRkQ29tbWFuZCh0KXtjb25zdCBlPXRoaXMuX2NvbnRleHQsbj10aGlzLl9wYXJ0aXRpb24odCksYT1hd2FpdCBQcm9taXNlLmFsbChuLm1hcCgoYXN5bmMoe2luZGV4OnQsZmVhdHVyZXM6ZX0pPT57Y29uc3Qgbj1hd2FpdCB0aGlzLl9wcm92aXNpb25TeW1ib2wodCk7cmV0dXJuIGF3YWl0KG4/LmNyZWF0ZUFkZENvbW1hbmQoZSkpfSkpKSxvPWUuam9pblBpcGVsaW5lQ29tbWFuZHMoYSk7cmV0dXJuIG8uYXBwZW5kUGlwZWxpbmVTdGF0ZUNvbW1hbmQoKCgpPT50aGlzLl9mZWF0dXJlRGF0YVBhcnRpdGlvbmluZy5zZXQodC5pZCxuKSkpLG99YXN5bmMgY3JlYXRlUmVtb3ZlQ29tbWFuZChlKXtjb25zdHtfZmVhdHVyZURhdGFQYXJ0aXRpb25pbmc6bixfY29udGV4dDphfT10aGlzLG89YS5yZW5kZXJDb21tYW5kQ29udGV4dCxpPW4uZ2V0KGUpO2lmKG51bGw9PWkpcmV0dXJuIG5ldyB0KG8sby5jcmVhdGVSZW5kZXJDb21tYW5kQnVmZmVyKCksW10pO2NvbnN0IHM9YXdhaXQgUHJvbWlzZS5hbGwoaS5tYXAoKGFzeW5jKHtpbmRleDp0LGZlYXR1cmVzOmV9KT0+e2NvbnN0IG49dGhpcy5fZ2V0TG9hZGVkU3ltYm9sKHQpO3JldHVybiBhd2FpdChuPy5jcmVhdGVSZW1vdmVDb21tYW5kKGUuaWQpKX0pKSkscj1hLmpvaW5QaXBlbGluZUNvbW1hbmRzKHMpO3JldHVybiByLmFwcGVuZFBpcGVsaW5lU3RhdGVDb21tYW5kKCgoKT0+bi5kZWxldGUoZSkpKSxyfWFzeW5jIGNyZWF0ZVVwZGF0ZVZpc2liaWxpdHlDb21tYW5kKGUpe2NvbnN0e19mZWF0dXJlRGF0YVBhcnRpdGlvbmluZzpuLF9jb250ZXh0OmF9PXRoaXMsbz1hLnJlbmRlckNvbW1hbmRDb250ZXh0LGk9bi5nZXQoZS5pZCk7aWYobnVsbD09aSlyZXR1cm4gbmV3IHQobyxvLmNyZWF0ZVJlbmRlckNvbW1hbmRCdWZmZXIoKSxbXSk7Y29uc3Qgcz1hd2FpdCBQcm9taXNlLmFsbChpLm1hcCgoYXN5bmMoe2luZGV4OnQsZmVhdHVyZXM6ZX0pPT57Y29uc3Qgbj10aGlzLl9nZXRMb2FkZWRTeW1ib2wodCk7cmV0dXJuIGF3YWl0KG4/LmNyZWF0ZVVwZGF0ZVZpc2liaWxpdHlDb21tYW5kKGUpKX0pKSk7cmV0dXJuIGEuam9pblBpcGVsaW5lQ29tbWFuZHMocyl9YXN5bmMgY3JlYXRlVXBkYXRlTGF5ZXJWaWV3T3BhY2l0eUNvbW1hbmQodCl7Y29uc3QgZT10aGlzLl9jb250ZXh0LG49W107Zm9yKGxldCBvPTA7bzx0aGlzLl9zeW1ib2xzLmxlbmd0aDsrK28pe2NvbnN0IGU9dGhpcy5fc3ltYm9sc1tvXTtudWxsIT1lJiZlLmxvYWRlZCYmbi5wdXNoKGUuY3JlYXRlVXBkYXRlTGF5ZXJWaWV3T3BhY2l0eUNvbW1hbmQodCkpfWNvbnN0IGE9YXdhaXQgUHJvbWlzZS5hbGwobik7cmV0dXJuIGUuam9pblBpcGVsaW5lQ29tbWFuZHMoYSl9YXN5bmMgY3JlYXRlVXBkYXRlRWxldmF0aW9uQ29tbWFuZCgpe2NvbnN0e19mZWF0dXJlRGF0YVBhcnRpdGlvbmluZzp0LF9jb250ZXh0OmV9PXRoaXMsbj1bXTtmb3IoY29uc3QgbyBvZiB0LnZhbHVlcygpKXtjb25zdCB0PW8ubWFwKChhc3luYyh7aW5kZXg6dCxmZWF0dXJlczplfSk9Pntjb25zdCBuPXRoaXMuX2dldExvYWRlZFN5bWJvbCh0KTtyZXR1cm4gYXdhaXQobj8uY3JlYXRlVXBkYXRlRWxldmF0aW9uQ29tbWFuZChlKSl9KSk7bi5wdXNoKC4uLnQpfWNvbnN0IGE9YXdhaXQgUHJvbWlzZS5hbGwobik7cmV0dXJuIGUuam9pblBpcGVsaW5lQ29tbWFuZHMoYSl9YXN5bmMgY3JlYXRlRGVzdHJveUNvbW1hbmQoKXtjb25zdHtfZmVhdHVyZURhdGFQYXJ0aXRpb25pbmc6dCxfY29udGV4dDplfT10aGlzLG49W107Zm9yKGNvbnN0IG8gb2YgdC5rZXlzKCkpbi5wdXNoKHRoaXMuY3JlYXRlUmVtb3ZlQ29tbWFuZChvKSk7Zm9yKGNvbnN0IG8gb2YgdGhpcy5fc3ltYm9scyluLnB1c2goby5jcmVhdGVEZXN0cm95Q29tbWFuZCgpKTtjb25zdCBhPWF3YWl0IFByb21pc2UuYWxsKG4pO3JldHVybiBlLmpvaW5QaXBlbGluZUNvbW1hbmRzKGEpfWFzeW5jIF9wcm92aXNpb25TeW1ib2wodCl7aWYobnVsbD09dClyZXR1cm4gbnVsbDtjb25zdCBlPXRoaXMuX3N5bWJvbHNbdF07cmV0dXJuIGU/KGUubG9hZGVkfHxhd2FpdCBlLmxvYWQoKSxlKTpudWxsfV9nZXRMb2FkZWRTeW1ib2wodCl7aWYobnVsbD09dClyZXR1cm4gbnVsbDtjb25zdCBlPXRoaXMuX3N5bWJvbHNbdF07cmV0dXJuIG51bGwhPWUmJmUubG9hZGVkP2U6bnVsbH1fcGFydGl0aW9uKHQpe2NvbnN0IG49ZSh0KTtpZihudWxsPT1uKXRocm93IG5ldyBFcnJvcihcInVuYWJsZSB0byBmZXRjaCBvYmplY3RJZHNcIik7Y29uc3R7ZmVhdHVyZUNvdW50OmF9PXQsbz1bW10sW11dO2ZvcihsZXQgZT0wO2U8YTsrK2Upe29bbltlXSUyXS5wdXNoKGUpfXJldHVybiBvLm1hcCgoKGUsbik9Pm5ldyByKG4sdC5zdWJzZXQobmV3IFVpbnQzMkFycmF5KGUpKSkpKS5maWx0ZXIoKHQ9PnQuZmVhdHVyZXMuZmVhdHVyZUNvdW50PjApKX19Y2xhc3Mgcntjb25zdHJ1Y3Rvcih0LGUpe3RoaXMuaW5kZXg9dCx0aGlzLmZlYXR1cmVzPWV9fWV4cG9ydHtzIGFzIFVuaXF1ZVZhbHVlRmVhdHVyZVJlbmRlcmVyfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjMzL2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnQgbyBmcm9tXCIuLi8uLi8uLi8uLi8uLi8uLi9Db2xvci5qc1wiO2ltcG9ydCByIGZyb21cIi4uLy4uLy4uLy4uLy4uLy4uL3N5bWJvbHMvSWNvblN5bWJvbDNETGF5ZXIuanNcIjtpbXBvcnQgbSBmcm9tXCIuLi8uLi8uLi8uLi8uLi8uLi9zeW1ib2xzL09iamVjdFN5bWJvbDNETGF5ZXIuanNcIjtpbXBvcnR7U3ltYm9sM0RNYXRlcmlhbCBhcyBlfWZyb21cIi4uLy4uLy4uLy4uLy4uLy4uL3N5bWJvbHMvc3VwcG9ydC9TeW1ib2wzRE1hdGVyaWFsLmpzXCI7ZnVuY3Rpb24gdCgpe3JldHVybiBuZXcgcih7bWF0ZXJpYWw6bmV3IGUoe2NvbG9yOm5ldyBvKFwicmVkXCIpfSl9KX1mdW5jdGlvbiBuKCl7cmV0dXJuIG5ldyBtfWV4cG9ydHt0IGFzIGNyZWF0ZURlZmF1bHRJY29uU3ltYm9sTGF5ZXIsbiBhcyBjcmVhdGVEZWZhdWx0T2JqZWN0U3ltYm9sTGF5ZXJ9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMzMvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydFwiLi4vLi4vLi4vLi4vLi4vLi4vY29yZS9oYXMuanNcIjtpbXBvcnR7aW5wdXRBdHRyaWJ1dGVzVG9BdHRyaWJ1dGVzTWFwIGFzIGV9ZnJvbVwiLi9zeW1ib2xpemF0aW9uVXRpbHMuanNcIjtpbXBvcnR7Y2xvbmVBdHRyaWJ1dGVEYXRhIGFzIHR9ZnJvbVwiLi4vLi4vLi4vLi4vd2ViZ2wtZW5naW5lL2xpYi9BdHRyaWJ1dGVBcnJheS5qc1wiO2ltcG9ydHtjcmVhdGVQb2x5U3BoZXJlRGF0YSBhcyBuLGNyZWF0ZUNvbmVHZW9tZXRyeURhdGEgYXMgaX1mcm9tXCIuLi8uLi8uLi8uLi93ZWJnbC1lbmdpbmUvbGliL0dlb21ldHJ5VXRpbC5qc1wiO2ltcG9ydHtWZXJ0ZXhBdHRyaWJ1dGUgYXMgYX1mcm9tXCIuLi8uLi8uLi8uLi93ZWJnbC1lbmdpbmUvbGliL1ZlcnRleEF0dHJpYnV0ZS5qc1wiO2Z1bmN0aW9uIHModCxhKXtjb25zdCBzPSh0LG4saT0hMSk9Pih7bGV2ZWxzOnQubWFwKCh0PT57Y29uc3Qgcz1lKG4odC50ZXNzZWxhdGlvbikpO2kmJnIocyk7cmV0dXJue2NvbXBvbmVudHM6W3thdHRyaWJ1dGVzOnMsb2JqZWN0QW5kTGF5ZXJJZENvbG9yOnZvaWQgMCx0cmFuc2Zvcm1hdGlvbjpudWxsLG1hdGVyaWFsSWQ6YSx2aXNpYmlsaXRpZXM6bmV3IFVpbnQ4QXJyYXkoWzFdKSxvYmplY3RJZHM6bmV3IFVpbnQzMkFycmF5KFstMV0pfV0sbWluU2NyZWVuU3BhY2VSYWRpdXM6dC5taW5TY3JlZW5TcGFjZVJhZGl1c319KSl9KTtzd2l0Y2godCl7Y2FzZVwiY29uZVwiOnJldHVybiBzKGMsKGU9PmkoMSwuNSxlLCExKSksITApO2Nhc2VcInNwaGVyZVwiOnJldHVybiBzKFt7dGVzc2VsYXRpb246MCxtaW5TY3JlZW5TcGFjZVJhZGl1czowfSx7dGVzc2VsYXRpb246MSxtaW5TY3JlZW5TcGFjZVJhZGl1czo4fSx7dGVzc2VsYXRpb246MixtaW5TY3JlZW5TcGFjZVJhZGl1czoxNn0se3Rlc3NlbGF0aW9uOjMsbWluU2NyZWVuU3BhY2VSYWRpdXM6NTB9LHt0ZXNzZWxhdGlvbjo0LG1pblNjcmVlblNwYWNlUmFkaXVzOjI1MH1dLChlPT5uKC41LGUsITApKSk7Y2FzZVwiY3ViZVwiOmNhc2VcImludmVydGVkLWNvbmVcIjpjYXNlXCJjeWxpbmRlclwiOmNhc2VcInRldHJhaGVkcm9uXCI6Y2FzZVwiZGlhbW9uZFwiOnRocm93IG5ldyBFcnJvcihcIm5vdCBpbXBsZW1lbnRlZFwiKTtkZWZhdWx0OnJldHVybn19ZnVuY3Rpb24gcihlKXtjb25zdCB0PWUsbj10LmdldChhLlBPU0lUSU9OKS5kYXRhLGk9dC5nZXQoYS5OT1JNQUwpLmRhdGE7aWYoaSl7Y29uc3QgdD1vKGUsYS5OT1JNQUwpLmRhdGE7Zm9yKGxldCBlPTA7ZTxpLmxlbmd0aDtlKz0zKXtjb25zdCBuPWlbZSsxXTt0W2UrMV09LWlbZSsyXSx0W2UrMl09bn19aWYobil7Y29uc3QgdD1vKGUsYS5QT1NJVElPTikuZGF0YTtmb3IobGV0IGU9MDtlPG4ubGVuZ3RoO2UrPTMpe2NvbnN0IGk9bltlKzFdO3RbZSsxXT0tbltlKzJdLHRbZSsyXT1pfX19ZnVuY3Rpb24gbyhlLG4pe2xldCBpPWUuZ2V0KG4pO3JldHVybiBpJiYhaS5leGNsdXNpdmUmJihpPXsuLi5pLGV4Y2x1c2l2ZTohMCxkYXRhOnQoaS5kYXRhKX0sZS5zZXQobixpKSksaX1jb25zdCBjPVt7dGVzc2VsYXRpb246NixtaW5TY3JlZW5TcGFjZVJhZGl1czowfSx7dGVzc2VsYXRpb246MTgsbWluU2NyZWVuU3BhY2VSYWRpdXM6N30se3Rlc3NlbGF0aW9uOjY0LG1pblNjcmVlblNwYWNlUmFkaXVzOjY1fV07ZXhwb3J0e3MgYXMgY3JlYXRlUHJpbWl0aXZlR2VvbWV0cnl9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMzMvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtjb21wYWN0SW5kaWNlcyBhcyBvfWZyb21cIi4uLy4uLy4uLy4uLy4uLy4uL2dlb21ldHJ5L3N1cHBvcnQvSW5kaWNlcy5qc1wiO2Z1bmN0aW9uIGUoZSl7Y29uc3Qgbj1uZXcgTWFwO2Zvcihjb25zdFt0LHJdb2YgZSluLnNldCh0LHsuLi5yLGluZGljZXM6byhyLmluZGljZXMpfSk7cmV0dXJuIG59ZXhwb3J0e2UgYXMgaW5wdXRBdHRyaWJ1dGVzVG9BdHRyaWJ1dGVzTWFwfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjMzL2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7Z2VuZXJhdGVVSUQgYXMgZX1mcm9tXCIuLi8uLi8uLi8uLi8uLi9jb3JlL3VpZC5qc1wiO2ltcG9ydHtnZXRQcm9qZWN0b3IgYXMgdCxjb3B5MyBhcyBvfWZyb21cIi4uLy4uLy4uLy4uLy4uL2dlb21ldHJ5L3Byb2plY3Rpb24vcHJvamVjdG9ycy5qc1wiO2Z1bmN0aW9uIHIodD1cIlwiKXtyZXR1cm5gJHt0fSR7ZSgpfWB9ZnVuY3Rpb24gbihlLHIsbixzLGEpe2NvbnN0IGw9cy5zcGF0aWFsUmVmZXJlbmNlLGk9dChyLGwpO2lmKG51bGw9PWkpcmV0dXJuIGU7bGV0IGY9dD0+W2VbdF0sZVt0KzFdLGVbdCsyXV07aSE9PW8mJihmPXQ9PihpKGUsdCxjLDApLFtjWzBdLGNbMV0sY1syXV0pKTtjb25zdCB1PWUubGVuZ3RoLzMsZD1uLm1vZGU7c3dpdGNoKG4ubW9kZSl7Y2FzZVwib24tdGhlLWdyb3VuZFwiOmZvcihsZXQgdD0wO3Q8dTsrK3Qpe2NvbnN0IG89Myp0LFtyLG5dPWYobyk7ZVtvKzJdPXMuZ2V0RWxldmF0aW9uKHIsbiwwLHMuc3BhdGlhbFJlZmVyZW5jZSxcImdyb3VuZFwiKT8/MH1icmVhaztjYXNlXCJyZWxhdGl2ZS10by1ncm91bmRcIjpjYXNlXCJyZWxhdGl2ZS10by1zY2VuZVwiOntjb25zdCB0PVwicmVsYXRpdmUtdG8tZ3JvdW5kXCI9PT1kP1wiZ3JvdW5kXCI6XCJzY2VuZVwiO2ZvcihsZXQgbz0wO288dTsrK28pe2NvbnN0IHI9MypvLFtjLGwsaV09ZihyKSx1PW4uY2FsY3VsYXRlT2Zmc2V0UmVuZGVyVW5pdHMoYSksZD1zLmdldEVsZXZhdGlvbihjLGwsMCxzLnNwYXRpYWxSZWZlcmVuY2UsdCk/PzA7ZVtyKzJdPWkrdStkfX1icmVhaztjYXNlXCJhYnNvbHV0ZS1oZWlnaHRcIjpmb3IobGV0IHQ9MDt0PHU7Kyt0KXtjb25zdCBvPTMqdCxyPWVbbysyXSxjPW4uY2FsY3VsYXRlT2Zmc2V0UmVuZGVyVW5pdHMoYSk7ZVtvKzJdPXIrY319cmV0dXJuIGV9Y29uc3QgYz1uZXcgRmxvYXQ2NEFycmF5KDMpO2V4cG9ydHtuIGFzIGFwcGx5RWxldmF0aW9uQWxpZ25tZW50LHIgYXMgZ2VuZXJhdGVJZH07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=