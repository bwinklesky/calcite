export const __webpack_id__ = "vendors-node_modules_arcgis_core_views_3d_layers_LayerView3D_js-node_modules_arcgis_core_view-d1055f";
export const __webpack_ids__ = ["vendors-node_modules_arcgis_core_views_3d_layers_LayerView3D_js-node_modules_arcgis_core_view-d1055f"];
export const __webpack_modules__ = {

/***/ "./node_modules/@arcgis/core/arcade/functions/hash.js":
/*!************************************************************!*\
  !*** ./node_modules/@arcgis/core/arcade/functions/hash.js ***!
  \************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   XXH: () => (/* binding */ i)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
const t=2654435761,s=2246822519,n=3266489917,e=668265263,r=374761393;function h(t){const s=[];for(let n=0,e=t.length;n<e;n++){let e=t.charCodeAt(n);e<128?s.push(e):e<2048?s.push(192|e>>6,128|63&e):e<55296||e>=57344?s.push(224|e>>12,128|e>>6&63,128|63&e):(n++,e=65536+((1023&e)<<10|1023&t.charCodeAt(n)),s.push(240|e>>18,128|e>>12&63,128|e>>6&63,128|63&e))}return new Uint8Array(s)}class i{constructor(t){this._seed=t,this._totallen=0,this._bufs=[],this.init()}init(){return this._bufs=[],this._totallen=0,this}updateFloatArray(t){const s=[];for(const n of t)isNaN(n)?s.push("NaN"):n===1/0?s.push("Infinity"):n===-1/0?s.push("-Infinity"):0===n?s.push("0"):s.push(n.toString(16));this.update(h(s.join("")))}updateIntArray(t){const s=Int32Array.from(t);this.update(new Uint8Array(s.buffer))}updateUint8Array(t){this.update(Uint8Array.from(t))}updateWithString(t){return this.update(h(t))}update(t){return this._bufs.push(t),this._totallen+=t.length,this}digest(){const t=new Uint8Array(this._totallen);let s=0;for(const n of this._bufs)t.set(n,s),s+=n.length;return this.init(),this._xxHash32(t,this._seed)}_xxHash32(h,i=0){const o=h;let u=i+r&4294967295,a=0;if(o.length>=16){const n=[i+t+s&4294967295,i+s&4294967295,i+0&4294967295,i-t&4294967295],e=h,r=e.length-16;let o=0;for(a=0;(4294967280&a)<=r;a+=4){const r=a,h=e[r]+(e[r+1]<<8),i=e[r+2]+(e[r+3]<<8),u=h*s+(i*s<<16);let l=n[o]+u&4294967295;l=l<<13|l>>>19;const f=65535&l,p=l>>>16;n[o]=f*t+(p*t<<16)&4294967295,o=o+1&3}u=(n[0]<<1|n[0]>>>31)+(n[1]<<7|n[1]>>>25)+(n[2]<<12|n[2]>>>20)+(n[3]<<18|n[3]>>>14)&4294967295}u=u+h.length&4294967295;const l=h.length-4;for(;a<=l;a+=4){const t=a,s=o[t]+(o[t+1]<<8),r=o[t+2]+(o[t+3]<<8);u=u+(s*n+(r*n<<16))&4294967295,u=u<<17|u>>>15,u=(65535&u)*e+((u>>>16)*e<<16)&4294967295}for(;a<o.length;++a){u+=o[a]*r,u=u<<11|u>>>21,u=(65535&u)*t+((u>>>16)*t<<16)&4294967295}return u^=u>>>15,u=((65535&u)*s&4294967295)+((u>>>16)*s<<16),u^=u>>>13,u=((65535&u)*n&4294967295)+((u>>>16)*n<<16),u^=u>>>16,u<0?u+4294967296:u}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/LayerView3D.js":
/*!******************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/LayerView3D.js ***!
  \******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   LayerView3D: () => (/* binding */ l)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_handleUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/handleUtils.js */ "./node_modules/@arcgis/core/core/handleUtils.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/reactiveUtils.js */ "./node_modules/@arcgis/core/core/reactiveUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_RandomLCG_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../core/RandomLCG.js */ "./node_modules/@arcgis/core/core/RandomLCG.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _geometry_support_heightModelInfoUtils_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../geometry/support/heightModelInfoUtils.js */ "./node_modules/@arcgis/core/geometry/support/heightModelInfoUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
const l=l=>{let n=class extends l{constructor(){super(...arguments),this.slicePlaneEnabled=!1,this.supportsHeightUnitConversion=!1}postscript(){super.postscript(),(0,_geometry_support_heightModelInfoUtils_js__WEBPACK_IMPORTED_MODULE_9__.supportsHeightModelInfo)(this.layer)&&this.addResolvingPromise(this._validateHeightModelInfo())}async _validateHeightModelInfo(){const o=new AbortController,r=o.signal;this.addHandles((0,_core_handleUtils_js__WEBPACK_IMPORTED_MODULE_1__.makeHandle)((()=>o.abort()))),await (0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__.whenOnce)((()=>this.view.defaultsFromMap?.heightModelInfoReady),r),(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_2__.throwIfAborted)(r);const i=(0,_geometry_support_heightModelInfoUtils_js__WEBPACK_IMPORTED_MODULE_9__.rejectLayerError)(this.layer,this.view.heightModelInfo,this.supportsHeightUnitConversion);if(i)throw i}};return (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],n.prototype,"view",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],n.prototype,"slicePlaneEnabled",void 0),n=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_8__.subclass)("esri.views.3d.layers.LayerView3D")],n),n};


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DFeatureProcessor.js":
/*!******************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DFeatureProcessor.js ***!
  \******************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Graphics3DFeatureProcessor: () => (/* binding */ D)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _Graphic_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../Graphic.js */ "./node_modules/@arcgis/core/Graphic.js");
/* harmony import */ var _arcade_functions_hash_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../arcade/functions/hash.js */ "./node_modules/@arcgis/core/arcade/functions/hash.js");
/* harmony import */ var _core_compilerUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../core/compilerUtils.js */ "./node_modules/@arcgis/core/core/compilerUtils.js");
/* harmony import */ var _core_handleUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../core/handleUtils.js */ "./node_modules/@arcgis/core/core/handleUtils.js");
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../core/maybe.js */ "./node_modules/@arcgis/core/core/maybe.js");
/* harmony import */ var _core_Promise_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../core/Promise.js */ "./node_modules/@arcgis/core/core/Promise.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../core/reactiveUtils.js */ "./node_modules/@arcgis/core/core/reactiveUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_RandomLCG_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../core/RandomLCG.js */ "./node_modules/@arcgis/core/core/RandomLCG.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _core_accessorSupport_diffUtils_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../../core/accessorSupport/diffUtils.js */ "./node_modules/@arcgis/core/core/accessorSupport/diffUtils.js");
/* harmony import */ var _core_support_UpdatingHandles_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../../core/support/UpdatingHandles.js */ "./node_modules/@arcgis/core/core/support/UpdatingHandles.js");
/* harmony import */ var _geometry_support_webMercatorUtils_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../../geometry/support/webMercatorUtils.js */ "./node_modules/@arcgis/core/geometry/support/webMercatorUtils.js");
/* harmony import */ var _renderers_support_renderingInfoUtils_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../../../renderers/support/renderingInfoUtils.js */ "./node_modules/@arcgis/core/renderers/support/renderingInfoUtils.js");
/* harmony import */ var _rest_support_Query_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../../../rest/support/Query.js */ "./node_modules/@arcgis/core/rest/support/Query.js");
/* harmony import */ var _support_arcadeExpressionUtils_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../../../support/arcadeExpressionUtils.js */ "./node_modules/@arcgis/core/support/arcadeExpressionUtils.js");
/* harmony import */ var _interfaces_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../interfaces.js */ "./node_modules/@arcgis/core/views/3d/layers/interfaces.js");
/* harmony import */ var _constants_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./constants.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/constants.js");
/* harmony import */ var _DisplayFeatureLimit_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./DisplayFeatureLimit.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/DisplayFeatureLimit.js");
/* harmony import */ var _Graphics3DCore_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./Graphics3DCore.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DCore.js");
/* harmony import */ var _Graphics3DElevationAlignment_js__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./Graphics3DElevationAlignment.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DElevationAlignment.js");
/* harmony import */ var _Graphics3DFrustumVisibility_js__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ./Graphics3DFrustumVisibility.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DFrustumVisibility.js");
/* harmony import */ var _Graphics3DObjectStates_js__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ./Graphics3DObjectStates.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DObjectStates.js");
/* harmony import */ var _Graphics3DScaleVisibility_js__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ./Graphics3DScaleVisibility.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DScaleVisibility.js");
/* harmony import */ var _graphicUtils_js__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ./graphicUtils.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/graphicUtils.js");
/* harmony import */ var _support_attributeUtils_js__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ../support/attributeUtils.js */ "./node_modules/@arcgis/core/views/3d/layers/support/attributeUtils.js");
/* harmony import */ var _support_FeatureVisibilityFilter_js__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ../support/FeatureVisibilityFilter.js */ "./node_modules/@arcgis/core/views/3d/layers/support/FeatureVisibilityFilter.js");
/* harmony import */ var _support_highlightUtils_js__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ../support/highlightUtils.js */ "./node_modules/@arcgis/core/views/3d/layers/support/highlightUtils.js");
/* harmony import */ var _webgl_engine_lib_UpdatePolicy_js__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ../../webgl-engine/lib/UpdatePolicy.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/UpdatePolicy.js");
/* harmony import */ var _support_HighlightDefaults_js__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! ../../../support/HighlightDefaults.js */ "./node_modules/@arcgis/core/views/support/HighlightDefaults.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
let D=class extends _core_Promise_js__WEBPACK_IMPORTED_MODULE_6__["default"]{constructor(e){super(e),this.type="graphics-3d",this._updatingHandles=new _core_support_UpdatingHandles_js__WEBPACK_IMPORTED_MODULE_14__.UpdatingHandles,this.elevationFeatureExpressionEnabled=!1,this.scaleVisibilityEnabled=!1,this.filterVisibilityEnabled=!1,this.frustumVisibilityEnabled=!1,this.elevationAlignmentEnabled=!1,this.timeExtentEnabled=!1,this.setUidToIdOnAdd=!0,this.dataExtent=null,this.drapeSourceType=_interfaces_js__WEBPACK_IMPORTED_MODULE_19__.DrapeSourceType.Features,this.preferredUpdatePolicy=_webgl_engine_lib_UpdatePolicy_js__WEBPACK_IMPORTED_MODULE_31__.UpdatePolicy.ASYNC,this._suspendResumeExtent=null}initialize(){const e=this.owner,t=(this.filterVisibilityEnabled||this.timeExtentEnabled)&&"multipatch"!==e.layer.geometryType,i=new _Graphics3DCore_js__WEBPACK_IMPORTED_MODULE_22__.Graphics3DCore({owner:this,layer:this.layer,preferredUpdatePolicy:this.preferredUpdatePolicy,elevationFeatureExpressionEnabled:this.elevationFeatureExpressionEnabled,graphicSymbolSupported:!1,hasZ:e.hasZ,hasM:e.hasM,setUidToIdOnAdd:this.setUidToIdOnAdd,componentFactories:{deconflictor:t=>e.view.deconflictor.addGraphicsOwner(t),labeler:(t,i)=>e.view.labeler.addGraphicsOwner(t,i),elevationAlignment:this.elevationAlignmentEnabled?(t,i)=>new _Graphics3DElevationAlignment_js__WEBPACK_IMPORTED_MODULE_23__.Graphics3DElevationAlignment({graphicsCoreOwner:this,graphicsCore:t,queryGraphicUIDsInExtent:i,elevationProvider:e.view.elevationProvider}):null,scaleVisibility:this.scaleVisibilityEnabled?(t,i)=>new _Graphics3DScaleVisibility_js__WEBPACK_IMPORTED_MODULE_26__.Graphics3DScaleVisibility({graphicsCoreOwner:this,layer:this.layer,queryGraphicUIDsInExtent:i,graphicsCore:t,basemapTerrain:e.view.basemapTerrain}):null,filterVisibility:t?t=>new _support_FeatureVisibilityFilter_js__WEBPACK_IMPORTED_MODULE_29__.FeatureVisibilityFilter({context:{...t,configuration:e}}):null,objectStates:e=>new _Graphics3DObjectStates_js__WEBPACK_IMPORTED_MODULE_25__.Graphics3DObjectStates(e)}});this._set("graphicsCore",i),this.frustumVisibilityEnabled&&this._set("frustumVisibility",new _Graphics3DFrustumVisibility_js__WEBPACK_IMPORTED_MODULE_24__.Graphics3DFrustumVisibility({graphicsCoreOwner:this})),this.elevationAlignment&&this._updatingHandles.add((()=>this.layer.elevationInfo),((e,t)=>{(0,_core_accessorSupport_diffUtils_js__WEBPACK_IMPORTED_MODULE_13__.diff)(e,t)&&this._updatingHandles.addPromise(this.graphicsCore.elevationInfoChange())})),this._updatingHandles.add((()=>this.layer.labelsVisible),(()=>this.graphicsCore.updateVisibilityInfo())),this._updatingHandles.add((()=>this.layer.labelingInfo),((e,t)=>{(0,_core_accessorSupport_diffUtils_js__WEBPACK_IMPORTED_MODULE_13__.diff)(e,t)&&this.graphicsCore.updateLabelingInfo()})),this._updatingHandles.add((()=>this.preferredUpdatePolicy),(e=>this.graphicsCore.preferredUpdatePolicy=e)),this.addResolvingPromise(this._initializeAsync())}async _initializeAsync(){await (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_7__.logOnError)(this.graphicsCore.initializePromise);const e=this.owner;this._updatingHandles.add((()=>this.renderer),(e=>this._updatingHandles.addPromise(this.graphicsCore.rendererChange(e)))),this._updatingHandles.add((()=>e.fullOpacity),(()=>this.graphicsCore.opacityChange())),this._setupSuspendResumeExtent(),this.updateClippingExtent&&(this._updatingHandles.add((()=>e.view.clippingArea),(()=>this._updateClippingExtent())),this._updateClippingExtent()),this.graphicsCore.startCreateGraphics(),this.graphicsCore.labelsEnabled&&await (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_7__.logOnError)(this.graphicsCore.updateLabelingInfo())}destroy(){this._updatingHandles.destroy(),this._set("frustumVisibility",(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_5__.destroyMaybe)(this.frustumVisibility)),this._set("graphicsCore",(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_5__.destroyMaybe)(this.graphicsCore)),this._set("owner",null)}get layer(){return this.owner.layer}get layerViewUid(){return this.owner.layerViewUid}get dataUpdating(){return this.graphicsCore?.dataUpdating??!1}get renderer(){const{renderer:e,objectIdField:t}=this.layer;if(!e||!t||"heatmap"===e.type||!e.visualVariables)return e;const i=e.visualVariables.findIndex((e=>"rotation"===e.type&&null!=e.valueExpression&&(0,_support_arcadeExpressionUtils_js__WEBPACK_IMPORTED_MODULE_18__.matchRandomRotationExpression)(e.valueExpression)===t&&(null==e.axis||"heading"===e.axis)&&"geographic"===e.rotationType));if(i<0)return e;const r=e.clone();return r.visualVariables?(r.visualVariables.splice(i,1),this._randomRotationRenderers??=new WeakMap,this._randomRotationRenderers.set(r,t),r):e}get scaleVisibility(){return this.graphicsCore?.scaleVisibility}get filterVisibility(){return this.graphicsCore?.filterVisibility}get elevationAlignment(){return this.graphicsCore?.elevationAlignment}get suspendResumeExtentMode(){return this.owner.suspendResumeExtentMode??"computed"}get scaleVisibilitySuspended(){return null!=this.scaleVisibility&&this.scaleVisibility.suspended}get suspended(){return this.owner.suspended}get legendEnabled(){return null==this.frustumVisibility||!this.frustumVisibility.suspended}get suspendInfo(){const e={};return this.scaleVisibilitySuspended&&(e.outsideScaleRange=!0),null!=this.frustumVisibility&&this.frustumVisibility.suspended&&(e.outsideOfView=!0),e}get updating(){return!!(this.graphicsCore?.updating||this.frustumVisibility?.updating||this._updatingHandles.updating)}get updatingRemaining(){return this.graphicsCore?.updatingRemaining??0}get featureStore(){return this.graphicsCore?.featureStore}get view(){return this.owner.view}get loadedGraphics(){return this.owner.loadedGraphics}get fullOpacity(){return this.owner?.fullOpacity}get filter(){return"filter"in this.owner?this.owner.filter:null}get slicePlaneEnabled(){return this.owner.slicePlaneEnabled}get updatePolicy(){return this.owner.updatePolicy}get featureSpatialReference(){return"featureSpatialReference"in this.owner?this.owner.featureSpatialReference:this.owner.view.spatialReference}get graphics3DGraphics(){return this.graphicsCore?.graphics3DGraphics}get graphics3DGraphicsByObjectID(){return this.graphicsCore?.graphics3DGraphicsByObjectID}get symbolUpdateType(){return this.graphicsCore?.symbolUpdateType}get displayFeatureLimit(){const e=this.view.quality,t=this.graphicsCore?.displayFeatureLimit;if(1===e)return t;const i=Math.ceil(t.maximumNumberOfFeatures*e);return new _DisplayFeatureLimit_js__WEBPACK_IMPORTED_MODULE_21__.DisplayFeatureLimit(t.maximumTotalNumberOfVertices,i,t.averageSymbolComplexity)}get usedMemory(){return this.graphicsCore?.usedMemory??0}get loadedFeatures(){return this.graphicsCore?.numberOfGraphics??0}get usedMemoryPerFeature(){return this.graphicsCore?.usedMemoryPerGraphic??0}get unprocessedMemoryEstimate(){return this.graphicsCore?.unprocessedMemoryEstimate??0}get performanceInfo(){return this.graphicsCore.performanceInfo}maskOccludee(e){const t=this.graphicsCore?.objectStates;if(!t)return (0,_core_handleUtils_js__WEBPACK_IMPORTED_MODULE_4__.makeHandle)();const{set:i,handle:r}=t.acquireOccludeeSet(null);return t.setUid(i,e.uid),r}highlight(e,i=null,r){const s=this.graphicsCore?.objectStates;if(!s)return _support_highlightUtils_js__WEBPACK_IMPORTED_MODULE_30__.emptyHighlightHandle;if(r??=_support_HighlightDefaults_js__WEBPACK_IMPORTED_MODULE_32__.defaultHighlightName,e instanceof _rest_support_Query_js__WEBPACK_IMPORTED_MODULE_17__["default"]){const{set:t,handle:n}=s.acquireHighlightSet(r,i);return this.owner.queryObjectIds(e).then((e=>s.setObjectIds(t,e))),n}let n=(0,_support_highlightUtils_js__WEBPACK_IMPORTED_MODULE_30__.normalizeHighlightTargetExceptQuery)(e);if(0===n.length)return _support_highlightUtils_js__WEBPACK_IMPORTED_MODULE_30__.emptyHighlightHandle;if(n[0]instanceof _Graphic_js__WEBPACK_IMPORTED_MODULE_1__["default"]){const e=n;if(null==(0,_support_attributeUtils_js__WEBPACK_IMPORTED_MODULE_28__.attributeLookup)(this.layer.fieldsIndex,e[0].attributes,i)){const t=e.map((e=>e.uid)),{set:i,handle:n}=s.acquireHighlightSet(r,null);return s.setUids(i,t),n}n=e.map((e=>(0,_support_attributeUtils_js__WEBPACK_IMPORTED_MODULE_28__.attributeLookup)(this.layer.fieldsIndex,e.attributes,i)))}if((0,_support_highlightUtils_js__WEBPACK_IMPORTED_MODULE_30__.isObjectId)(n[0])){const e=n,{set:t,handle:a}=s.acquireHighlightSet(r,i);return s.setObjectIds(t,e),a}return _support_highlightUtils_js__WEBPACK_IMPORTED_MODULE_30__.emptyHighlightHandle}resetObjectStates(){this.graphicsCore?.objectStates?.reset()}whenGraphicBounds(e,t){return this.graphicsCore?.whenGraphicBounds(e,t)}computeAttachmentOrigin(e,t){return this.graphicsCore?.computeAttachmentOrigin(e,t)}notifyGraphicGeometryChanged(e){this.graphicsCore.notifyGraphicGeometryChanged(e)}notifyGraphicVisibilityChanged(e){this.graphicsCore.notifyGraphicVisibilityChanged(e)}notifyContentGeometryUpdate(){this.owner.notifyContentGeometryUpdate?.()}getRenderingInfo(e,t,r){const s=(0,_renderers_support_renderingInfoUtils_js__WEBPACK_IMPORTED_MODULE_16__.getRenderingInfo)(e,{renderer:t,arcade:r});if(s?.color){const e=s.color;e[0]=e[0]/255,e[1]=e[1]/255,e[2]=e[2]/255}if(null!=s&&null!=t&&this._randomRotationRenderers?.has(t)){const r=this._randomRotationRenderers.get(t),n=e.attributes[r],a=new _arcade_functions_hash_js__WEBPACK_IMPORTED_MODULE_2__.XXH(0);a.updateFloatArray([n]),a.updateUint8Array([173]),s.heading=8.381e-8*a.digest()}return s}getRenderingInfoAsync(e,t,i,r){return (0,_renderers_support_renderingInfoUtils_js__WEBPACK_IMPORTED_MODULE_16__.getRenderingInfoAsync)(e,{renderer:t,arcade:i,...r})}getSymbolLayerSize(e,t){return this.graphicsCore?.getSymbolLayerSize(e,t)}setObjectIdVisibility(e,t){this.graphicsCore?.setObjectIdVisibility(e,t)}refreshFilter(){null!=this.filterVisibility&&this.filterVisibility.reapply()}getGraphics3DGraphicByObjectId(e){return this.graphicsCore?.getGraphics3DGraphicByObjectId(e)}_updateClippingExtent(){const e=this.owner.view.clippingArea;this.graphicsCore.setClippingExtent(e,this.owner.view.spatialReference)&&(this.updateClippingExtent(e)||this.graphicsCore.recreateAllGraphics())}_setupSuspendResumeExtent(){(this.frustumVisibility||this.scaleVisibility)&&this.addHandles((0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_8__.watch)((()=>this.suspendResumeExtentMode),(()=>{switch(this.removeHandles(M),this.suspendResumeExtentMode){case"computed":this.addHandles([(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_8__.watch)((()=>this.graphicsCore.computedExtent),(e=>this._updateSuspendResumeExtent(e)),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_8__.initial),(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_8__.watch)((()=>this.graphicsCore.extentPadding),(()=>this._updateSuspendResumeExtent(this.graphicsCore.computedExtent)))],M);break;case"data":this.addHandles([(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_8__.when)((()=>this.dataExtent),(e=>this._updateSuspendResumeExtent(e)),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_8__.initial),(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_8__.watch)((()=>this.graphicsCore.extentPadding),(()=>this._updateSuspendResumeExtent(this.dataExtent)))],M);break;default:(0,_core_compilerUtils_js__WEBPACK_IMPORTED_MODULE_3__.neverReached)(this.suspendResumeExtentMode)}}),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_8__.initial))}_updateSuspendResumeExtent(e){e?this._suspendResumeExtentChanged(this._extentToSuspendResumeRect(e,this._suspendResumeExtent)):this._suspendResumeExtentChanged(null)}_extentToSuspendResumeRect(e,t){const i=this.owner.view.spatialReference;if(!e.spatialReference.equals(i)){if(!(0,_geometry_support_webMercatorUtils_js__WEBPACK_IMPORTED_MODULE_15__.canProject)(e,i))return;e=(0,_geometry_support_webMercatorUtils_js__WEBPACK_IMPORTED_MODULE_15__.project)(e,i)}return (0,_graphicUtils_js__WEBPACK_IMPORTED_MODULE_27__.enlargeExtent)(e,t,_constants_js__WEBPACK_IMPORTED_MODULE_20__.suspendResumeExtentOptimism,this.graphicsCore.extentPadding)}_suspendResumeExtentChanged(e){null!=this.frustumVisibility&&this.frustumVisibility.setExtent(e),null!=this.scaleVisibility&&this.scaleVisibility.setExtent(e)}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)()],D.prototype,"type",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)({constructOnly:!0})],D.prototype,"owner",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)()],D.prototype,"layer",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)()],D.prototype,"layerViewUid",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)({readOnly:!0})],D.prototype,"dataUpdating",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)()],D.prototype,"renderer",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)({constructOnly:!0})],D.prototype,"updateClippingExtent",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)({constructOnly:!0})],D.prototype,"elevationFeatureExpressionEnabled",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)({constructOnly:!0})],D.prototype,"graphicsCore",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)({constructOnly:!0})],D.prototype,"scaleVisibilityEnabled",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)({constructOnly:!0})],D.prototype,"filterVisibilityEnabled",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)({constructOnly:!0})],D.prototype,"frustumVisibilityEnabled",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)({constructOnly:!0})],D.prototype,"elevationAlignmentEnabled",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)({constructOnly:!0})],D.prototype,"timeExtentEnabled",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)({constructOnly:!0})],D.prototype,"setUidToIdOnAdd",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)()],D.prototype,"scaleVisibility",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)()],D.prototype,"filterVisibility",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)()],D.prototype,"elevationAlignment",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)({constructOnly:!0})],D.prototype,"frustumVisibility",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)()],D.prototype,"suspendResumeExtentMode",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)()],D.prototype,"dataExtent",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)()],D.prototype,"scaleVisibilitySuspended",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)()],D.prototype,"suspended",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)()],D.prototype,"legendEnabled",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)()],D.prototype,"suspendInfo",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)()],D.prototype,"updating",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)()],D.prototype,"updatingRemaining",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)()],D.prototype,"featureStore",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)()],D.prototype,"view",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)()],D.prototype,"loadedGraphics",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)()],D.prototype,"fullOpacity",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)()],D.prototype,"filter",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)()],D.prototype,"slicePlaneEnabled",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)()],D.prototype,"drapeSourceType",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)()],D.prototype,"updatePolicy",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)()],D.prototype,"preferredUpdatePolicy",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)({readOnly:!0})],D.prototype,"displayFeatureLimit",null),D=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_12__.subclass)("esri.views.3d.layers.graphics.Graphics3DFeatureProcessor")],D);const M="suspendResumeExtentMode";


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/graphics/QueryEngine.js":
/*!***************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/graphics/QueryEngine.js ***!
  \***************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   QueryEngine: () => (/* binding */ h)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/Accessor.js */ "./node_modules/@arcgis/core/core/Accessor.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_RandomLCG_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../core/RandomLCG.js */ "./node_modules/@arcgis/core/core/RandomLCG.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../geometry/Extent.js */ "./node_modules/@arcgis/core/geometry/Extent.js");
/* harmony import */ var _geometry_support_typeUtils_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../geometry/support/typeUtils.js */ "./node_modules/@arcgis/core/geometry/support/typeUtils.js");
/* harmony import */ var _layers_graphics_data_QueryEngine_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../layers/graphics/data/QueryEngine.js */ "./node_modules/@arcgis/core/layers/graphics/data/QueryEngine.js");
/* harmony import */ var _layers_support_FieldsIndex_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../layers/support/FieldsIndex.js */ "./node_modules/@arcgis/core/layers/support/FieldsIndex.js");
/* harmony import */ var _rest_support_FeatureSet_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../rest/support/FeatureSet.js */ "./node_modules/@arcgis/core/rest/support/FeatureSet.js");
/* harmony import */ var _rest_support_Query_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../../rest/support/Query.js */ "./node_modules/@arcgis/core/rest/support/Query.js");
/* harmony import */ var _2d_layers_features_layerAdapters_featureServiceUtils_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../2d/layers/features/layerAdapters/featureServiceUtils.js */ "./node_modules/@arcgis/core/views/2d/layers/features/layerAdapters/featureServiceUtils.js");
/* harmony import */ var _QueryEngineCache_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./QueryEngineCache.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/QueryEngineCache.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
const p=_layers_graphics_data_QueryEngine_js__WEBPACK_IMPORTED_MODULE_9__.QueryEngine;let h=class extends _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__["default"]{constructor(e){super(e),this._dataQueryEngineInstance=null}destroy(){this.clear()}get layer(){return this.context.layer}get spatialReference(){return this.context.spatialReference}get _queryGeometryType(){switch(this.layer.geometryType){case"multipoint":case"point":case"polygon":case"polyline":return this.layer.geometryType;case"mesh":return"polygon";default:return}}get defaultQueryJSON(){return new _rest_support_Query_js__WEBPACK_IMPORTED_MODULE_12__["default"]({outSpatialReference:this.spatialReference}).toJSON()}clear(){return!!this._dataQueryEngineInstance&&(this._dataQueryEngineInstance.destroy(),this._dataQueryEngineInstance=null,!0)}async executeQueryForIdSet(e,t,r){return this._dataQueryEngine.executeQueryForIdSet(this._ensureQueryJSON(e,t),r)}async executeQueryForCount(e,t){return this._dataQueryEngine.executeQueryForCount(this._ensureQueryJSON(e),t)}async executeQueryForExtent(e,t){const{count:r,extent:s}=await this._dataQueryEngine.executeQueryForExtent(this._ensureQueryJSON(e),t);return{count:r,extent:_geometry_Extent_js__WEBPACK_IMPORTED_MODULE_7__["default"].fromJSON(s)}}async executeQueryForIds(e,t){return this._dataQueryEngine.executeQueryForIds(this._ensureQueryJSON(e),t)}async executeQueryForLatestObservations(e,t){const r=await this._dataQueryEngine.executeQueryForLatestObservations(this._ensureQueryJSON(e),t),s=_rest_support_FeatureSet_js__WEBPACK_IMPORTED_MODULE_11__["default"].fromJSON(r);return s.features.forEach((e=>{e.layer=this.layer,e.sourceLayer=this.layer})),s}async executeQuery(e,t){const r=await this._dataQueryEngine.executeQuery(this._ensureQueryJSON(e),t),s=_rest_support_FeatureSet_js__WEBPACK_IMPORTED_MODULE_11__["default"].fromJSON(r);return s.features.forEach((e=>{e.layer=this.layer,e.sourceLayer=this.layer})),s}_ensureQueryJSON(e,t){let r=this.defaultQueryJSON;if(null!=e&&("outSpatialReference"in e&&!e.outSpatialReference&&(e.outSpatialReference=this.spatialReference),r=e.toJSON(),r.cacheHint=!0),null!=t){const e=t.geometries.map((e=>e.toJSON())).reduce(((e,t)=>(e.rings=e.rings.concat(t.rings),e)));r={...r,cacheHint:!0,sceneFilter:{...t,geometry:e}}}return r}get _dataQueryEngine(){if(this._dataQueryEngineInstance)return this._dataQueryEngineInstance;const{priority:e,layer:t}=this,r="timeInfo"in t&&t.timeInfo?.toJSON()||null,s=(0,_2d_layers_features_layerAdapters_featureServiceUtils_js__WEBPACK_IMPORTED_MODULE_13__.createFeatureIdInfo)(t),n=_geometry_support_typeUtils_js__WEBPACK_IMPORTED_MODULE_8__.featureGeometryTypeKebabDictionary.toJSON(this._queryGeometryType),a=t.fieldsIndex?.toJSON()||new _layers_support_FieldsIndex_js__WEBPACK_IMPORTED_MODULE_10__["default"]([]),i=this.spatialReference.toJSON(),{hasZ:y,hasM:h,featureStore:m,scheduler:f,memoryController:d}=this.context,Q=new _QueryEngineCache_js__WEBPACK_IMPORTED_MODULE_14__.QueryEngineCache(d);return this._dataQueryEngineInstance=new p({hasZ:y,hasM:h,geometryType:n,fieldsIndex:a,timeInfo:r,spatialReference:i,featureIdInfo:s,featureStore:m,scheduler:f,cache:Q,priority:e}),this._dataQueryEngineInstance}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)({constructOnly:!0})],h.prototype,"context",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)({constructOnly:!0})],h.prototype,"priority",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)()],h.prototype,"layer",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)()],h.prototype,"spatialReference",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)()],h.prototype,"_queryGeometryType",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)()],h.prototype,"defaultQueryJSON",null),h=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_6__.subclass)("esri.views.3d.layers.graphics.QueryEngine")],h);


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/graphics/QueryEngineCache.js":
/*!********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/graphics/QueryEngineCache.js ***!
  \********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   QueryEngineCache: () => (/* binding */ s)
/* harmony export */ });
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_memoryEstimations_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/memoryEstimations.js */ "./node_modules/@arcgis/core/core/memoryEstimations.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
class s{constructor(e){this._cache=e.newCache("QueryEngine",null,-1)}clear(){this._cache.clear()}destroy(){this._cache.destroy()}get(e){return this._cache.get(e)?.items}put(e,t){this._cache.put(e,new c(t))}get test(){}}class c{constructor(e){this.items=e}get cachedMemory(){return this.items.reduce(((e,t)=>e+t.usedMemory),_core_memoryEstimations_js__WEBPACK_IMPORTED_MODULE_1__.baseArrayMemory+_core_memoryEstimations_js__WEBPACK_IMPORTED_MODULE_1__.baseObjectMemory)}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/graphics/QueryEngineContext.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/graphics/QueryEngineContext.js ***!
  \**********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   QueryEngineContext: () => (/* binding */ e)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
class e{constructor(e,r,t,o,s,l){this.spatialReference=e,this.layer=r,this.resourceController=t,this._getFeatureStore=o,this.hasZ=s,this.hasM=l}get scheduler(){return this.resourceController.scheduler}get memoryController(){return this.resourceController.memoryController}get featureStore(){return this._getFeatureStore()}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/support/FeatureVisibilityFilter.js":
/*!**************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/support/FeatureVisibilityFilter.js ***!
  \**************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   FeatureVisibilityFilter: () => (/* binding */ y)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/Accessor.js */ "./node_modules/@arcgis/core/core/Accessor.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../core/maybe.js */ "./node_modules/@arcgis/core/core/maybe.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../core/reactiveUtils.js */ "./node_modules/@arcgis/core/core/reactiveUtils.js");
/* harmony import */ var _core_sql_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../core/sql.js */ "./node_modules/@arcgis/core/core/sql.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_RandomLCG_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../core/RandomLCG.js */ "./node_modules/@arcgis/core/core/RandomLCG.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _core_support_UpdatingHandles_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../core/support/UpdatingHandles.js */ "./node_modules/@arcgis/core/core/support/UpdatingHandles.js");
/* harmony import */ var _layers_support_FeatureFilter_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../../layers/support/FeatureFilter.js */ "./node_modules/@arcgis/core/layers/support/FeatureFilter.js");
/* harmony import */ var _layers_support_floorFilterUtils_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../../layers/support/floorFilterUtils.js */ "./node_modules/@arcgis/core/layers/support/floorFilterUtils.js");
/* harmony import */ var _graphics_QueryEngine_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../graphics/QueryEngine.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/QueryEngine.js");
/* harmony import */ var _graphics_QueryEngineContext_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../graphics/QueryEngineContext.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/QueryEngineContext.js");
/* harmony import */ var _support_Scheduler_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../../support/Scheduler.js */ "./node_modules/@arcgis/core/views/support/Scheduler.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
let y=class extends _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__["default"]{constructor(e){super(e),this._frameTask=null,this._queryEngine=null,this._updateRequested=!0,this._updatingHandles=new _core_support_UpdatingHandles_js__WEBPACK_IMPORTED_MODULE_11__.UpdatingHandles,this._abortController=new AbortController}initialize(){const e=_support_Scheduler_js__WEBPACK_IMPORTED_MODULE_16__.TaskPriority.FILTER_VISIBILITY,{layer:t,view:r}=this._configuration,{featureStore:i}=this.context,{spatialReference:s,resourceController:n}=r,l=this._configuration.hasZ??!1,u=this._configuration.hasM??!1,p=new _graphics_QueryEngineContext_js__WEBPACK_IMPORTED_MODULE_15__.QueryEngineContext(s,t,n,(()=>i),l,u);this._queryEngine=new _graphics_QueryEngine_js__WEBPACK_IMPORTED_MODULE_14__.QueryEngine({context:p,priority:e}),this._frameTask=r.resourceController.scheduler.registerTask(e),this._updatingHandles.add((()=>[this._compositedFeatureFilter,this._sceneFilter]),(()=>this._updateRequested=!0),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_5__.initial),this._updatingHandles.addWhen((()=>!this._frameTask.updating&&this._updateRequested),(()=>{this._frameTask.schedule((()=>this._updateVisibility()),this._abortController.signal).catch(_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_4__.throwIfNotAbortError),this._updateRequested=!1}),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_5__.initial)}destroy(){this._abortController.abort(),this._updatingHandles.destroy(),this.clear(),this._frameTask=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_3__.removeMaybe)(this._frameTask),this._queryEngine=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_3__.destroyMaybe)(this._queryEngine),this._set("context",null)}get updating(){return this._updateRequested||this._updatingHandles.updating||this._frameTask.updating}get defaultVisibility(){return null==this._compositedFeatureFilter&&null==this._sceneFilter}get _featureFilter(){return"filter"in this._configuration?this._configuration.filter:null}get _effectiveDisplayFilter(){return"effectiveDisplayFilter"in this._configuration?this._configuration.effectiveDisplayFilter:null}get _sceneFilter(){return"layerFilter"in this._configuration?this._configuration.layerFilter:null}get _floorFilter(){return (0,_layers_support_floorFilterUtils_js__WEBPACK_IMPORTED_MODULE_13__.getFloorFilterClause)(this._configuration)}get _timeExtent(){return"timeExtent"in this._configuration?this._configuration.timeExtent:null}get _compositedFeatureFilter(){const{_featureFilter:e,_effectiveDisplayFilter:t,_timeExtent:r,_floorFilter:i}=this;let s=e?.clone();if(null!=t&&(s??=new _layers_support_FeatureFilter_js__WEBPACK_IMPORTED_MODULE_12__["default"],s.where=(0,_core_sql_js__WEBPACK_IMPORTED_MODULE_6__.sqlAnd)(s.where,t.where)),null!=r&&(s??=new _layers_support_FeatureFilter_js__WEBPACK_IMPORTED_MODULE_12__["default"],s.timeExtent=s.timeExtent?.intersection(r)??r),null!=i){s??=new _layers_support_FeatureFilter_js__WEBPACK_IMPORTED_MODULE_12__["default"];const e=null==s.where||""===s.where;s.where=e?i:(0,_core_sql_js__WEBPACK_IMPORTED_MODULE_6__.sqlAnd)(s.where,i)}return s}get _configuration(){return this.context.configuration}reapply(){this._updateRequested=!0}clear(){this._queryEngine.clear(),this.context.clearFeaturesVisibility()}async _updateVisibility(){const{signal:e}=this._abortController,{context:t,_frameTask:i,_sceneFilter:s,_compositedFeatureFilter:o}=this;if((0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_4__.throwIfAborted)(e),null==o&&null==s||0===t.getFeatureCount())return await i.schedule((()=>this.clear()),e);try{const r=await this._updatingHandles.addPromise(this._queryEngine.executeQueryForIdSet(o,s,e));return (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_4__.throwIfAborted)(e),await i.schedule((()=>{t.updateFeatureVisibilities((e=>r.has(e)))}),e)}catch(a){return (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_4__.throwIfAbortError)(a),_core_Logger_js__WEBPACK_IMPORTED_MODULE_2__["default"].getLogger(this).warn(`FeatureFilter query failed: ${a}`,{error:a}),await i.schedule((()=>{t.setAllFeaturesVisibility(!0)}),e)}}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)({constructOnly:!0})],y.prototype,"context",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)()],y.prototype,"updating",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)()],y.prototype,"defaultVisibility",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)()],y.prototype,"_featureFilter",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)()],y.prototype,"_effectiveDisplayFilter",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)()],y.prototype,"_sceneFilter",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)()],y.prototype,"_floorFilter",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)()],y.prototype,"_timeExtent",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)()],y.prototype,"_compositedFeatureFilter",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)()],y.prototype,"_configuration",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)()],y.prototype,"_updateRequested",void 0),y=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_10__.subclass)("esri.views.3d.layers.support.FeatureVisibilityFilter")],y);


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/support/attributeUtils.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/support/attributeUtils.js ***!
  \*****************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   attributeLookup: () => (/* binding */ n)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
function n(n,t,e){if(!e||null==t)return null;if(!n)return r(t,e);const o=n.get(e);return o?t[o.name]:null}function r(n,r){const t=r.toLowerCase();for(const e in n)if(e.toLowerCase()===t)return n[e];return null}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/layers/LayerView.js":
/*!*************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/layers/LayerView.js ***!
  \*************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ u)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/Accessor.js */ "./node_modules/@arcgis/core/core/Accessor.js");
/* harmony import */ var _core_Evented_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/Evented.js */ "./node_modules/@arcgis/core/core/Evented.js");
/* harmony import */ var _core_Identifiable_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../core/Identifiable.js */ "./node_modules/@arcgis/core/core/Identifiable.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../core/maybe.js */ "./node_modules/@arcgis/core/core/maybe.js");
/* harmony import */ var _core_Promise_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../core/Promise.js */ "./node_modules/@arcgis/core/core/Promise.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_RandomLCG_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../core/RandomLCG.js */ "./node_modules/@arcgis/core/core/RandomLCG.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _core_support_UpdatingHandles_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../core/support/UpdatingHandles.js */ "./node_modules/@arcgis/core/core/support/UpdatingHandles.js");
/* harmony import */ var _support_layerViewUtils_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../support/layerViewUtils.js */ "./node_modules/@arcgis/core/views/support/layerViewUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
let u=class extends(_core_Identifiable_js__WEBPACK_IMPORTED_MODULE_3__["default"].IdentifiableMixin(_core_Promise_js__WEBPACK_IMPORTED_MODULE_6__["default"].EsriPromiseMixin(_core_Evented_js__WEBPACK_IMPORTED_MODULE_2__["default"].EventedMixin(_core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__["default"])))){get spatialReferenceSupported(){return!0}constructor(e){super(e),this._updatingHandles=new _core_support_UpdatingHandles_js__WEBPACK_IMPORTED_MODULE_11__.UpdatingHandles,this.layer=null,this.parent=null}initialize(){this.when().catch((e=>{if("layerview:create-error"!==e.name){const t=this.layer&&this.layer.id||"no id",r=this.layer?.title||"no title";_core_Logger_js__WEBPACK_IMPORTED_MODULE_4__["default"].getLogger(this).error("#resolve()",`Failed to resolve layer view (layer title: '${r}', id: '${t}')`,e)}}))}destroy(){this._updatingHandles=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_5__.destroyMaybe)(this._updatingHandles)}get fullOpacity(){return(this.layer?.opacity??1)*(this.parent?.fullOpacity??1)}get suspended(){return this.destroyed||!this.canResume()}get suspendInfo(){return this.getSuspendInfo()}get legendEnabled(){return!this.suspended&&!0===this.layer?.legendEnabled}get updating(){return!(!this._updatingHandles?.updating&&!this.isUpdating())}get updatingProgress(){return this.updating?0:1}get updateSuspended(){return this.suspended}get visible(){return!0===this.layer?.visible}set visible(e){this._overrideIfSome("visible",e)}get visibleAtCurrentScale(){return!0}get visibleAtCurrentTimeExtent(){const e=this.view.timeExtent,t=this.layer?.visibilityTimeExtent;return!e||!t||!e.intersection(t).isEmpty}canResume(){const e=this.layer&&"effectiveScaleRange"in this.layer?this.layer.effectiveScaleRange:null;return this.visible&&this.layer?.loaded&&this.parent&&!this.parent.suspended&&this.view?.ready&&(0,_support_layerViewUtils_js__WEBPACK_IMPORTED_MODULE_12__.validateScaleRange)(e)&&this.visibleAtCurrentScale&&this.visibleAtCurrentTimeExtent||!1}getSuspendInfo(){const e=this.parent?.suspended?this.parent.suspendInfo:{},t=this;t.view?.ready||(e.viewNotReady=!0),this.layer&&this.layer.loaded||(e.layerNotLoaded=!0);const r=this.layer&&"effectiveScaleRange"in this.layer?this.layer.effectiveScaleRange:null;return (0,_support_layerViewUtils_js__WEBPACK_IMPORTED_MODULE_12__.validateScaleRange)(r)&&this.visibleAtCurrentScale||(e.outsideScaleRange=!0),this.visibleAtCurrentTimeExtent||(e.outsideVisibilityTimeExtent=!0),this.visible||(e.layerInvisible=!0),e}isUpdating(){return!1}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)({readOnly:!0})],u.prototype,"spatialReferenceSupported",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)()],u.prototype,"view",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)()],u.prototype,"fullOpacity",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)()],u.prototype,"layer",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)()],u.prototype,"parent",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)({readOnly:!0})],u.prototype,"suspended",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)({readOnly:!0})],u.prototype,"suspendInfo",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)({readOnly:!0})],u.prototype,"legendEnabled",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)({type:Boolean,readOnly:!0})],u.prototype,"updating",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)({readOnly:!0})],u.prototype,"updatingProgress",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)()],u.prototype,"updateSuspended",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)()],u.prototype,"visible",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)({readOnly:!0})],u.prototype,"visibleAtCurrentScale",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)({readOnly:!0})],u.prototype,"visibleAtCurrentTimeExtent",null),u=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_10__.subclass)("esri.views.layers.LayerView")],u);


/***/ })

};

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmVuZG9ycy1ub2RlX21vZHVsZXNfYXJjZ2lzX2NvcmVfdmlld3NfM2RfbGF5ZXJzX0xheWVyVmlldzNEX2pzLW5vZGVfbW9kdWxlc19hcmNnaXNfY29yZV92aWV3LWQxMDU1Zi5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUVBQXFFLGNBQWMsV0FBVyx1QkFBdUIsSUFBSSxLQUFLLHNCQUFzQixnTkFBZ04seUJBQXlCLFFBQVEsZUFBZSx3REFBd0QsT0FBTywyQ0FBMkMsb0JBQW9CLFdBQVcseUlBQXlJLDJCQUEyQixrQkFBa0IsMkJBQTJCLHNDQUFzQyxvQkFBb0IsZ0NBQWdDLG9CQUFvQix5QkFBeUIsVUFBVSx3REFBd0QsU0FBUyx1Q0FBdUMsUUFBUSxpREFBaUQsZ0RBQWdELGlCQUFpQixVQUFVLHlCQUF5QixpQkFBaUIsMEZBQTBGLFFBQVEsUUFBUSxrQkFBa0IsTUFBTSxrRUFBa0Usd0JBQXdCLGVBQWUseUJBQXlCLHNDQUFzQywrRkFBK0Ysd0JBQXdCLG1CQUFtQixLQUFLLEtBQUssTUFBTSxrREFBa0Qsd0ZBQXdGLEtBQUssV0FBVyxLQUFLLG1FQUFtRSxpSkFBa0s7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNKNzlEO0FBQ0E7QUFDQTtBQUNBO0FBQ3NsQixZQUFZLHNCQUFzQixjQUFjLG1GQUFtRixhQUFhLG1CQUFtQixrR0FBQyx3RUFBd0UsaUNBQWlDLHVDQUF1QyxnQkFBZ0IsZ0VBQUMseUJBQXlCLGdFQUFDLDBEQUEwRCxxRUFBQyxJQUFJLFFBQVEsMkZBQUMseUVBQXlFLGVBQWUsT0FBTyx1REFBQyxFQUFFLHNGQUFDLCtCQUErQix1REFBQyxFQUFFLHNGQUFDLDhDQUE4Qyx1REFBQyxFQUFFLHNGQUFDLDRDQUFxRTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDSjF2QztBQUNBO0FBQ0E7QUFDQTtBQUN3c0Usb0JBQW9CLHdEQUFDLENBQUMs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RkFBd0YsMkZBQTJGLE9BQU8sK0VBQUMsb0tBQW9LLGFBQWEsV0FBVyx1REFBQyxFQUFFLHNGQUFDLEVBQUUsWUFBWSxpREFBaUQsdURBQUMsRUFBRSxzRkFBQywrQkFBK0IsdURBQUMsRUFBRSxzRkFBQyxvQ0FBb0MsdURBQUMsRUFBRSxzRkFBQyxnQ0FBZ0MsdURBQUMsRUFBRSxzRkFBQyxpQ0FBaUMsdURBQUMsRUFBRSxzRkFBQyxFQUFFLFlBQVksaUNBQWlDLHVEQUFDLEVBQUUsc0ZBQUMsRUFBRSxZQUFZLG1DQUFtQyx1REFBQyxFQUFFLHNGQUFDLEVBQUUsWUFBWSxxQ0FBcUMsdURBQUMsRUFBRSxzRkFBQyxFQUFFLHlCQUF5QixnQ0FBZ0MsdURBQUMsRUFBRSxzRkFBQyxFQUFFLFlBQVksd0NBQXdDLHVEQUFDLEVBQUUsc0ZBQUMsd0NBQXdDLHVEQUFDLEVBQUUsc0ZBQUMsZ0NBQWdDLHVEQUFDLEVBQUUsc0ZBQUMsRUFBRSxZQUFZLDZDQUE2Qyx1REFBQyxFQUFFLHNGQUFDLEVBQUUsWUFBWSxvREFBb0QsdURBQUMsRUFBRSx1RkFBQyxvQ0FBeUQiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wcmVjaXNpb25mYXJtcy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvYXJjYWRlL2Z1bmN0aW9ucy9oYXNoLmpzIiwid2VicGFjazovL3ByZWNpc2lvbmZhcm1zLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8zZC9sYXllcnMvTGF5ZXJWaWV3M0QuanMiLCJ3ZWJwYWNrOi8vcHJlY2lzaW9uZmFybXMvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzNkL2xheWVycy9ncmFwaGljcy9HcmFwaGljczNERmVhdHVyZVByb2Nlc3Nvci5qcyIsIndlYnBhY2s6Ly9wcmVjaXNpb25mYXJtcy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvM2QvbGF5ZXJzL2dyYXBoaWNzL1F1ZXJ5RW5naW5lLmpzIiwid2VicGFjazovL3ByZWNpc2lvbmZhcm1zLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8zZC9sYXllcnMvZ3JhcGhpY3MvUXVlcnlFbmdpbmVDYWNoZS5qcyIsIndlYnBhY2s6Ly9wcmVjaXNpb25mYXJtcy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvM2QvbGF5ZXJzL2dyYXBoaWNzL1F1ZXJ5RW5naW5lQ29udGV4dC5qcyIsIndlYnBhY2s6Ly9wcmVjaXNpb25mYXJtcy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvM2QvbGF5ZXJzL3N1cHBvcnQvRmVhdHVyZVZpc2liaWxpdHlGaWx0ZXIuanMiLCJ3ZWJwYWNrOi8vcHJlY2lzaW9uZmFybXMvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzNkL2xheWVycy9zdXBwb3J0L2F0dHJpYnV0ZVV0aWxzLmpzIiwid2VicGFjazovL3ByZWNpc2lvbmZhcm1zLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy9sYXllcnMvTGF5ZXJWaWV3LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjMzL2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5jb25zdCB0PTI2NTQ0MzU3NjEscz0yMjQ2ODIyNTE5LG49MzI2NjQ4OTkxNyxlPTY2ODI2NTI2MyxyPTM3NDc2MTM5MztmdW5jdGlvbiBoKHQpe2NvbnN0IHM9W107Zm9yKGxldCBuPTAsZT10Lmxlbmd0aDtuPGU7bisrKXtsZXQgZT10LmNoYXJDb2RlQXQobik7ZTwxMjg/cy5wdXNoKGUpOmU8MjA0OD9zLnB1c2goMTkyfGU+PjYsMTI4fDYzJmUpOmU8NTUyOTZ8fGU+PTU3MzQ0P3MucHVzaCgyMjR8ZT4+MTIsMTI4fGU+PjYmNjMsMTI4fDYzJmUpOihuKyssZT02NTUzNisoKDEwMjMmZSk8PDEwfDEwMjMmdC5jaGFyQ29kZUF0KG4pKSxzLnB1c2goMjQwfGU+PjE4LDEyOHxlPj4xMiY2MywxMjh8ZT4+NiY2MywxMjh8NjMmZSkpfXJldHVybiBuZXcgVWludDhBcnJheShzKX1jbGFzcyBpe2NvbnN0cnVjdG9yKHQpe3RoaXMuX3NlZWQ9dCx0aGlzLl90b3RhbGxlbj0wLHRoaXMuX2J1ZnM9W10sdGhpcy5pbml0KCl9aW5pdCgpe3JldHVybiB0aGlzLl9idWZzPVtdLHRoaXMuX3RvdGFsbGVuPTAsdGhpc311cGRhdGVGbG9hdEFycmF5KHQpe2NvbnN0IHM9W107Zm9yKGNvbnN0IG4gb2YgdClpc05hTihuKT9zLnB1c2goXCJOYU5cIik6bj09PTEvMD9zLnB1c2goXCJJbmZpbml0eVwiKTpuPT09LTEvMD9zLnB1c2goXCItSW5maW5pdHlcIik6MD09PW4/cy5wdXNoKFwiMFwiKTpzLnB1c2gobi50b1N0cmluZygxNikpO3RoaXMudXBkYXRlKGgocy5qb2luKFwiXCIpKSl9dXBkYXRlSW50QXJyYXkodCl7Y29uc3Qgcz1JbnQzMkFycmF5LmZyb20odCk7dGhpcy51cGRhdGUobmV3IFVpbnQ4QXJyYXkocy5idWZmZXIpKX11cGRhdGVVaW50OEFycmF5KHQpe3RoaXMudXBkYXRlKFVpbnQ4QXJyYXkuZnJvbSh0KSl9dXBkYXRlV2l0aFN0cmluZyh0KXtyZXR1cm4gdGhpcy51cGRhdGUoaCh0KSl9dXBkYXRlKHQpe3JldHVybiB0aGlzLl9idWZzLnB1c2godCksdGhpcy5fdG90YWxsZW4rPXQubGVuZ3RoLHRoaXN9ZGlnZXN0KCl7Y29uc3QgdD1uZXcgVWludDhBcnJheSh0aGlzLl90b3RhbGxlbik7bGV0IHM9MDtmb3IoY29uc3QgbiBvZiB0aGlzLl9idWZzKXQuc2V0KG4scykscys9bi5sZW5ndGg7cmV0dXJuIHRoaXMuaW5pdCgpLHRoaXMuX3h4SGFzaDMyKHQsdGhpcy5fc2VlZCl9X3h4SGFzaDMyKGgsaT0wKXtjb25zdCBvPWg7bGV0IHU9aStyJjQyOTQ5NjcyOTUsYT0wO2lmKG8ubGVuZ3RoPj0xNil7Y29uc3Qgbj1baSt0K3MmNDI5NDk2NzI5NSxpK3MmNDI5NDk2NzI5NSxpKzAmNDI5NDk2NzI5NSxpLXQmNDI5NDk2NzI5NV0sZT1oLHI9ZS5sZW5ndGgtMTY7bGV0IG89MDtmb3IoYT0wOyg0Mjk0OTY3MjgwJmEpPD1yO2ErPTQpe2NvbnN0IHI9YSxoPWVbcl0rKGVbcisxXTw8OCksaT1lW3IrMl0rKGVbciszXTw8OCksdT1oKnMrKGkqczw8MTYpO2xldCBsPW5bb10rdSY0Mjk0OTY3Mjk1O2w9bDw8MTN8bD4+PjE5O2NvbnN0IGY9NjU1MzUmbCxwPWw+Pj4xNjtuW29dPWYqdCsocCp0PDwxNikmNDI5NDk2NzI5NSxvPW8rMSYzfXU9KG5bMF08PDF8blswXT4+PjMxKSsoblsxXTw8N3xuWzFdPj4+MjUpKyhuWzJdPDwxMnxuWzJdPj4+MjApKyhuWzNdPDwxOHxuWzNdPj4+MTQpJjQyOTQ5NjcyOTV9dT11K2gubGVuZ3RoJjQyOTQ5NjcyOTU7Y29uc3QgbD1oLmxlbmd0aC00O2Zvcig7YTw9bDthKz00KXtjb25zdCB0PWEscz1vW3RdKyhvW3QrMV08PDgpLHI9b1t0KzJdKyhvW3QrM108PDgpO3U9dSsocypuKyhyKm48PDE2KSkmNDI5NDk2NzI5NSx1PXU8PDE3fHU+Pj4xNSx1PSg2NTUzNSZ1KSplKygodT4+PjE2KSplPDwxNikmNDI5NDk2NzI5NX1mb3IoO2E8by5sZW5ndGg7KythKXt1Kz1vW2FdKnIsdT11PDwxMXx1Pj4+MjEsdT0oNjU1MzUmdSkqdCsoKHU+Pj4xNikqdDw8MTYpJjQyOTQ5NjcyOTV9cmV0dXJuIHVePXU+Pj4xNSx1PSgoNjU1MzUmdSkqcyY0Mjk0OTY3Mjk1KSsoKHU+Pj4xNikqczw8MTYpLHVePXU+Pj4xMyx1PSgoNjU1MzUmdSkqbiY0Mjk0OTY3Mjk1KSsoKHU+Pj4xNikqbjw8MTYpLHVePXU+Pj4xNix1PDA/dSs0Mjk0OTY3Mjk2OnV9fWV4cG9ydHtpIGFzIFhYSH07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4zMy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e18gYXMgb31mcm9tXCIuLi8uLi8uLi9jaHVua3MvdHNsaWIuZXM2LmpzXCI7aW1wb3J0e21ha2VIYW5kbGUgYXMgc31mcm9tXCIuLi8uLi8uLi9jb3JlL2hhbmRsZVV0aWxzLmpzXCI7aW1wb3J0e3Rocm93SWZBYm9ydGVkIGFzIGV9ZnJvbVwiLi4vLi4vLi4vY29yZS9wcm9taXNlVXRpbHMuanNcIjtpbXBvcnR7d2hlbk9uY2UgYXMgdH1mcm9tXCIuLi8uLi8uLi9jb3JlL3JlYWN0aXZlVXRpbHMuanNcIjtpbXBvcnR7cHJvcGVydHkgYXMgcn1mcm9tXCIuLi8uLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3Byb3BlcnR5LmpzXCI7aW1wb3J0XCIuLi8uLi8uLi9jb3JlL2hhcy5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vY29yZS9Mb2dnZXIuanNcIjtpbXBvcnRcIi4uLy4uLy4uL2NvcmUvUmFuZG9tTENHLmpzXCI7aW1wb3J0e3N1YmNsYXNzIGFzIGl9ZnJvbVwiLi4vLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9zdWJjbGFzcy5qc1wiO2ltcG9ydHtzdXBwb3J0c0hlaWdodE1vZGVsSW5mbyBhcyBwLHJlamVjdExheWVyRXJyb3IgYXMgYX1mcm9tXCIuLi8uLi8uLi9nZW9tZXRyeS9zdXBwb3J0L2hlaWdodE1vZGVsSW5mb1V0aWxzLmpzXCI7Y29uc3QgbD1sPT57bGV0IG49Y2xhc3MgZXh0ZW5kcyBse2NvbnN0cnVjdG9yKCl7c3VwZXIoLi4uYXJndW1lbnRzKSx0aGlzLnNsaWNlUGxhbmVFbmFibGVkPSExLHRoaXMuc3VwcG9ydHNIZWlnaHRVbml0Q29udmVyc2lvbj0hMX1wb3N0c2NyaXB0KCl7c3VwZXIucG9zdHNjcmlwdCgpLHAodGhpcy5sYXllcikmJnRoaXMuYWRkUmVzb2x2aW5nUHJvbWlzZSh0aGlzLl92YWxpZGF0ZUhlaWdodE1vZGVsSW5mbygpKX1hc3luYyBfdmFsaWRhdGVIZWlnaHRNb2RlbEluZm8oKXtjb25zdCBvPW5ldyBBYm9ydENvbnRyb2xsZXIscj1vLnNpZ25hbDt0aGlzLmFkZEhhbmRsZXMocygoKCk9Pm8uYWJvcnQoKSkpKSxhd2FpdCB0KCgoKT0+dGhpcy52aWV3LmRlZmF1bHRzRnJvbU1hcD8uaGVpZ2h0TW9kZWxJbmZvUmVhZHkpLHIpLGUocik7Y29uc3QgaT1hKHRoaXMubGF5ZXIsdGhpcy52aWV3LmhlaWdodE1vZGVsSW5mbyx0aGlzLnN1cHBvcnRzSGVpZ2h0VW5pdENvbnZlcnNpb24pO2lmKGkpdGhyb3cgaX19O3JldHVybiBvKFtyKCldLG4ucHJvdG90eXBlLFwidmlld1wiLHZvaWQgMCksbyhbcigpXSxuLnByb3RvdHlwZSxcInNsaWNlUGxhbmVFbmFibGVkXCIsdm9pZCAwKSxuPW8oW2koXCJlc3JpLnZpZXdzLjNkLmxheWVycy5MYXllclZpZXczRFwiKV0sbiksbn07ZXhwb3J0e2wgYXMgTGF5ZXJWaWV3M0R9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMzMvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtfIGFzIGV9ZnJvbVwiLi4vLi4vLi4vLi4vY2h1bmtzL3RzbGliLmVzNi5qc1wiO2ltcG9ydCB0IGZyb21cIi4uLy4uLy4uLy4uL0dyYXBoaWMuanNcIjtpbXBvcnR7WFhIIGFzIGl9ZnJvbVwiLi4vLi4vLi4vLi4vYXJjYWRlL2Z1bmN0aW9ucy9oYXNoLmpzXCI7aW1wb3J0e25ldmVyUmVhY2hlZCBhcyByfWZyb21cIi4uLy4uLy4uLy4uL2NvcmUvY29tcGlsZXJVdGlscy5qc1wiO2ltcG9ydHttYWtlSGFuZGxlIGFzIHN9ZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9oYW5kbGVVdGlscy5qc1wiO2ltcG9ydHtkZXN0cm95TWF5YmUgYXMgbn1mcm9tXCIuLi8uLi8uLi8uLi9jb3JlL21heWJlLmpzXCI7aW1wb3J0IGEgZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9Qcm9taXNlLmpzXCI7aW1wb3J0e2xvZ09uRXJyb3IgYXMgb31mcm9tXCIuLi8uLi8uLi8uLi9jb3JlL3Byb21pc2VVdGlscy5qc1wiO2ltcG9ydHt3YXRjaCBhcyBsLGluaXRpYWwgYXMgcCx3aGVuIGFzIGR9ZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9yZWFjdGl2ZVV0aWxzLmpzXCI7aW1wb3J0e3Byb3BlcnR5IGFzIHV9ZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9wcm9wZXJ0eS5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vLi4vY29yZS9Mb2dnZXIuanNcIjtpbXBvcnRcIi4uLy4uLy4uLy4uL2NvcmUvUmFuZG9tTENHLmpzXCI7aW1wb3J0e3N1YmNsYXNzIGFzIGh9ZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9zdWJjbGFzcy5qc1wiO2ltcG9ydHtkaWZmIGFzIGN9ZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGlmZlV0aWxzLmpzXCI7aW1wb3J0e1VwZGF0aW5nSGFuZGxlcyBhcyBnfWZyb21cIi4uLy4uLy4uLy4uL2NvcmUvc3VwcG9ydC9VcGRhdGluZ0hhbmRsZXMuanNcIjtpbXBvcnR7Y2FuUHJvamVjdCBhcyB5LHByb2plY3QgYXMgbX1mcm9tXCIuLi8uLi8uLi8uLi9nZW9tZXRyeS9zdXBwb3J0L3dlYk1lcmNhdG9yVXRpbHMuanNcIjtpbXBvcnR7Z2V0UmVuZGVyaW5nSW5mbyBhcyBmLGdldFJlbmRlcmluZ0luZm9Bc3luYyBhcyBifWZyb21cIi4uLy4uLy4uLy4uL3JlbmRlcmVycy9zdXBwb3J0L3JlbmRlcmluZ0luZm9VdGlscy5qc1wiO2ltcG9ydCBDIGZyb21cIi4uLy4uLy4uLy4uL3Jlc3Qvc3VwcG9ydC9RdWVyeS5qc1wiO2ltcG9ydHttYXRjaFJhbmRvbVJvdGF0aW9uRXhwcmVzc2lvbiBhcyBFfWZyb21cIi4uLy4uLy4uLy4uL3N1cHBvcnQvYXJjYWRlRXhwcmVzc2lvblV0aWxzLmpzXCI7aW1wb3J0e0RyYXBlU291cmNlVHlwZSBhcyB3fWZyb21cIi4uL2ludGVyZmFjZXMuanNcIjtpbXBvcnR7c3VzcGVuZFJlc3VtZUV4dGVudE9wdGltaXNtIGFzIHh9ZnJvbVwiLi9jb25zdGFudHMuanNcIjtpbXBvcnR7RGlzcGxheUZlYXR1cmVMaW1pdCBhcyB2fWZyb21cIi4vRGlzcGxheUZlYXR1cmVMaW1pdC5qc1wiO2ltcG9ydHtHcmFwaGljczNEQ29yZSBhcyBWfWZyb21cIi4vR3JhcGhpY3MzRENvcmUuanNcIjtpbXBvcnR7R3JhcGhpY3MzREVsZXZhdGlvbkFsaWdubWVudCBhcyBqfWZyb21cIi4vR3JhcGhpY3MzREVsZXZhdGlvbkFsaWdubWVudC5qc1wiO2ltcG9ydHtHcmFwaGljczNERnJ1c3R1bVZpc2liaWxpdHkgYXMgUn1mcm9tXCIuL0dyYXBoaWNzM0RGcnVzdHVtVmlzaWJpbGl0eS5qc1wiO2ltcG9ydHtHcmFwaGljczNET2JqZWN0U3RhdGVzIGFzIE99ZnJvbVwiLi9HcmFwaGljczNET2JqZWN0U3RhdGVzLmpzXCI7aW1wb3J0e0dyYXBoaWNzM0RTY2FsZVZpc2liaWxpdHkgYXMgU31mcm9tXCIuL0dyYXBoaWNzM0RTY2FsZVZpc2liaWxpdHkuanNcIjtpbXBvcnR7ZW5sYXJnZUV4dGVudCBhcyBffWZyb21cIi4vZ3JhcGhpY1V0aWxzLmpzXCI7aW1wb3J0e2F0dHJpYnV0ZUxvb2t1cCBhcyBVfWZyb21cIi4uL3N1cHBvcnQvYXR0cmlidXRlVXRpbHMuanNcIjtpbXBvcnR7RmVhdHVyZVZpc2liaWxpdHlGaWx0ZXIgYXMgR31mcm9tXCIuLi9zdXBwb3J0L0ZlYXR1cmVWaXNpYmlsaXR5RmlsdGVyLmpzXCI7aW1wb3J0e2VtcHR5SGlnaGxpZ2h0SGFuZGxlIGFzIEksbm9ybWFsaXplSGlnaGxpZ2h0VGFyZ2V0RXhjZXB0UXVlcnkgYXMgUCxpc09iamVjdElkIGFzIEF9ZnJvbVwiLi4vc3VwcG9ydC9oaWdobGlnaHRVdGlscy5qc1wiO2ltcG9ydHtVcGRhdGVQb2xpY3kgYXMgSH1mcm9tXCIuLi8uLi93ZWJnbC1lbmdpbmUvbGliL1VwZGF0ZVBvbGljeS5qc1wiO2ltcG9ydHtkZWZhdWx0SGlnaGxpZ2h0TmFtZSBhcyBGfWZyb21cIi4uLy4uLy4uL3N1cHBvcnQvSGlnaGxpZ2h0RGVmYXVsdHMuanNcIjtsZXQgRD1jbGFzcyBleHRlbmRzIGF7Y29uc3RydWN0b3IoZSl7c3VwZXIoZSksdGhpcy50eXBlPVwiZ3JhcGhpY3MtM2RcIix0aGlzLl91cGRhdGluZ0hhbmRsZXM9bmV3IGcsdGhpcy5lbGV2YXRpb25GZWF0dXJlRXhwcmVzc2lvbkVuYWJsZWQ9ITEsdGhpcy5zY2FsZVZpc2liaWxpdHlFbmFibGVkPSExLHRoaXMuZmlsdGVyVmlzaWJpbGl0eUVuYWJsZWQ9ITEsdGhpcy5mcnVzdHVtVmlzaWJpbGl0eUVuYWJsZWQ9ITEsdGhpcy5lbGV2YXRpb25BbGlnbm1lbnRFbmFibGVkPSExLHRoaXMudGltZUV4dGVudEVuYWJsZWQ9ITEsdGhpcy5zZXRVaWRUb0lkT25BZGQ9ITAsdGhpcy5kYXRhRXh0ZW50PW51bGwsdGhpcy5kcmFwZVNvdXJjZVR5cGU9dy5GZWF0dXJlcyx0aGlzLnByZWZlcnJlZFVwZGF0ZVBvbGljeT1ILkFTWU5DLHRoaXMuX3N1c3BlbmRSZXN1bWVFeHRlbnQ9bnVsbH1pbml0aWFsaXplKCl7Y29uc3QgZT10aGlzLm93bmVyLHQ9KHRoaXMuZmlsdGVyVmlzaWJpbGl0eUVuYWJsZWR8fHRoaXMudGltZUV4dGVudEVuYWJsZWQpJiZcIm11bHRpcGF0Y2hcIiE9PWUubGF5ZXIuZ2VvbWV0cnlUeXBlLGk9bmV3IFYoe293bmVyOnRoaXMsbGF5ZXI6dGhpcy5sYXllcixwcmVmZXJyZWRVcGRhdGVQb2xpY3k6dGhpcy5wcmVmZXJyZWRVcGRhdGVQb2xpY3ksZWxldmF0aW9uRmVhdHVyZUV4cHJlc3Npb25FbmFibGVkOnRoaXMuZWxldmF0aW9uRmVhdHVyZUV4cHJlc3Npb25FbmFibGVkLGdyYXBoaWNTeW1ib2xTdXBwb3J0ZWQ6ITEsaGFzWjplLmhhc1osaGFzTTplLmhhc00sc2V0VWlkVG9JZE9uQWRkOnRoaXMuc2V0VWlkVG9JZE9uQWRkLGNvbXBvbmVudEZhY3Rvcmllczp7ZGVjb25mbGljdG9yOnQ9PmUudmlldy5kZWNvbmZsaWN0b3IuYWRkR3JhcGhpY3NPd25lcih0KSxsYWJlbGVyOih0LGkpPT5lLnZpZXcubGFiZWxlci5hZGRHcmFwaGljc093bmVyKHQsaSksZWxldmF0aW9uQWxpZ25tZW50OnRoaXMuZWxldmF0aW9uQWxpZ25tZW50RW5hYmxlZD8odCxpKT0+bmV3IGooe2dyYXBoaWNzQ29yZU93bmVyOnRoaXMsZ3JhcGhpY3NDb3JlOnQscXVlcnlHcmFwaGljVUlEc0luRXh0ZW50OmksZWxldmF0aW9uUHJvdmlkZXI6ZS52aWV3LmVsZXZhdGlvblByb3ZpZGVyfSk6bnVsbCxzY2FsZVZpc2liaWxpdHk6dGhpcy5zY2FsZVZpc2liaWxpdHlFbmFibGVkPyh0LGkpPT5uZXcgUyh7Z3JhcGhpY3NDb3JlT3duZXI6dGhpcyxsYXllcjp0aGlzLmxheWVyLHF1ZXJ5R3JhcGhpY1VJRHNJbkV4dGVudDppLGdyYXBoaWNzQ29yZTp0LGJhc2VtYXBUZXJyYWluOmUudmlldy5iYXNlbWFwVGVycmFpbn0pOm51bGwsZmlsdGVyVmlzaWJpbGl0eTp0P3Q9Pm5ldyBHKHtjb250ZXh0OnsuLi50LGNvbmZpZ3VyYXRpb246ZX19KTpudWxsLG9iamVjdFN0YXRlczplPT5uZXcgTyhlKX19KTt0aGlzLl9zZXQoXCJncmFwaGljc0NvcmVcIixpKSx0aGlzLmZydXN0dW1WaXNpYmlsaXR5RW5hYmxlZCYmdGhpcy5fc2V0KFwiZnJ1c3R1bVZpc2liaWxpdHlcIixuZXcgUih7Z3JhcGhpY3NDb3JlT3duZXI6dGhpc30pKSx0aGlzLmVsZXZhdGlvbkFsaWdubWVudCYmdGhpcy5fdXBkYXRpbmdIYW5kbGVzLmFkZCgoKCk9PnRoaXMubGF5ZXIuZWxldmF0aW9uSW5mbyksKChlLHQpPT57YyhlLHQpJiZ0aGlzLl91cGRhdGluZ0hhbmRsZXMuYWRkUHJvbWlzZSh0aGlzLmdyYXBoaWNzQ29yZS5lbGV2YXRpb25JbmZvQ2hhbmdlKCkpfSkpLHRoaXMuX3VwZGF0aW5nSGFuZGxlcy5hZGQoKCgpPT50aGlzLmxheWVyLmxhYmVsc1Zpc2libGUpLCgoKT0+dGhpcy5ncmFwaGljc0NvcmUudXBkYXRlVmlzaWJpbGl0eUluZm8oKSkpLHRoaXMuX3VwZGF0aW5nSGFuZGxlcy5hZGQoKCgpPT50aGlzLmxheWVyLmxhYmVsaW5nSW5mbyksKChlLHQpPT57YyhlLHQpJiZ0aGlzLmdyYXBoaWNzQ29yZS51cGRhdGVMYWJlbGluZ0luZm8oKX0pKSx0aGlzLl91cGRhdGluZ0hhbmRsZXMuYWRkKCgoKT0+dGhpcy5wcmVmZXJyZWRVcGRhdGVQb2xpY3kpLChlPT50aGlzLmdyYXBoaWNzQ29yZS5wcmVmZXJyZWRVcGRhdGVQb2xpY3k9ZSkpLHRoaXMuYWRkUmVzb2x2aW5nUHJvbWlzZSh0aGlzLl9pbml0aWFsaXplQXN5bmMoKSl9YXN5bmMgX2luaXRpYWxpemVBc3luYygpe2F3YWl0IG8odGhpcy5ncmFwaGljc0NvcmUuaW5pdGlhbGl6ZVByb21pc2UpO2NvbnN0IGU9dGhpcy5vd25lcjt0aGlzLl91cGRhdGluZ0hhbmRsZXMuYWRkKCgoKT0+dGhpcy5yZW5kZXJlciksKGU9PnRoaXMuX3VwZGF0aW5nSGFuZGxlcy5hZGRQcm9taXNlKHRoaXMuZ3JhcGhpY3NDb3JlLnJlbmRlcmVyQ2hhbmdlKGUpKSkpLHRoaXMuX3VwZGF0aW5nSGFuZGxlcy5hZGQoKCgpPT5lLmZ1bGxPcGFjaXR5KSwoKCk9PnRoaXMuZ3JhcGhpY3NDb3JlLm9wYWNpdHlDaGFuZ2UoKSkpLHRoaXMuX3NldHVwU3VzcGVuZFJlc3VtZUV4dGVudCgpLHRoaXMudXBkYXRlQ2xpcHBpbmdFeHRlbnQmJih0aGlzLl91cGRhdGluZ0hhbmRsZXMuYWRkKCgoKT0+ZS52aWV3LmNsaXBwaW5nQXJlYSksKCgpPT50aGlzLl91cGRhdGVDbGlwcGluZ0V4dGVudCgpKSksdGhpcy5fdXBkYXRlQ2xpcHBpbmdFeHRlbnQoKSksdGhpcy5ncmFwaGljc0NvcmUuc3RhcnRDcmVhdGVHcmFwaGljcygpLHRoaXMuZ3JhcGhpY3NDb3JlLmxhYmVsc0VuYWJsZWQmJmF3YWl0IG8odGhpcy5ncmFwaGljc0NvcmUudXBkYXRlTGFiZWxpbmdJbmZvKCkpfWRlc3Ryb3koKXt0aGlzLl91cGRhdGluZ0hhbmRsZXMuZGVzdHJveSgpLHRoaXMuX3NldChcImZydXN0dW1WaXNpYmlsaXR5XCIsbih0aGlzLmZydXN0dW1WaXNpYmlsaXR5KSksdGhpcy5fc2V0KFwiZ3JhcGhpY3NDb3JlXCIsbih0aGlzLmdyYXBoaWNzQ29yZSkpLHRoaXMuX3NldChcIm93bmVyXCIsbnVsbCl9Z2V0IGxheWVyKCl7cmV0dXJuIHRoaXMub3duZXIubGF5ZXJ9Z2V0IGxheWVyVmlld1VpZCgpe3JldHVybiB0aGlzLm93bmVyLmxheWVyVmlld1VpZH1nZXQgZGF0YVVwZGF0aW5nKCl7cmV0dXJuIHRoaXMuZ3JhcGhpY3NDb3JlPy5kYXRhVXBkYXRpbmc/PyExfWdldCByZW5kZXJlcigpe2NvbnN0e3JlbmRlcmVyOmUsb2JqZWN0SWRGaWVsZDp0fT10aGlzLmxheWVyO2lmKCFlfHwhdHx8XCJoZWF0bWFwXCI9PT1lLnR5cGV8fCFlLnZpc3VhbFZhcmlhYmxlcylyZXR1cm4gZTtjb25zdCBpPWUudmlzdWFsVmFyaWFibGVzLmZpbmRJbmRleCgoZT0+XCJyb3RhdGlvblwiPT09ZS50eXBlJiZudWxsIT1lLnZhbHVlRXhwcmVzc2lvbiYmRShlLnZhbHVlRXhwcmVzc2lvbik9PT10JiYobnVsbD09ZS5heGlzfHxcImhlYWRpbmdcIj09PWUuYXhpcykmJlwiZ2VvZ3JhcGhpY1wiPT09ZS5yb3RhdGlvblR5cGUpKTtpZihpPDApcmV0dXJuIGU7Y29uc3Qgcj1lLmNsb25lKCk7cmV0dXJuIHIudmlzdWFsVmFyaWFibGVzPyhyLnZpc3VhbFZhcmlhYmxlcy5zcGxpY2UoaSwxKSx0aGlzLl9yYW5kb21Sb3RhdGlvblJlbmRlcmVycz8/PW5ldyBXZWFrTWFwLHRoaXMuX3JhbmRvbVJvdGF0aW9uUmVuZGVyZXJzLnNldChyLHQpLHIpOmV9Z2V0IHNjYWxlVmlzaWJpbGl0eSgpe3JldHVybiB0aGlzLmdyYXBoaWNzQ29yZT8uc2NhbGVWaXNpYmlsaXR5fWdldCBmaWx0ZXJWaXNpYmlsaXR5KCl7cmV0dXJuIHRoaXMuZ3JhcGhpY3NDb3JlPy5maWx0ZXJWaXNpYmlsaXR5fWdldCBlbGV2YXRpb25BbGlnbm1lbnQoKXtyZXR1cm4gdGhpcy5ncmFwaGljc0NvcmU/LmVsZXZhdGlvbkFsaWdubWVudH1nZXQgc3VzcGVuZFJlc3VtZUV4dGVudE1vZGUoKXtyZXR1cm4gdGhpcy5vd25lci5zdXNwZW5kUmVzdW1lRXh0ZW50TW9kZT8/XCJjb21wdXRlZFwifWdldCBzY2FsZVZpc2liaWxpdHlTdXNwZW5kZWQoKXtyZXR1cm4gbnVsbCE9dGhpcy5zY2FsZVZpc2liaWxpdHkmJnRoaXMuc2NhbGVWaXNpYmlsaXR5LnN1c3BlbmRlZH1nZXQgc3VzcGVuZGVkKCl7cmV0dXJuIHRoaXMub3duZXIuc3VzcGVuZGVkfWdldCBsZWdlbmRFbmFibGVkKCl7cmV0dXJuIG51bGw9PXRoaXMuZnJ1c3R1bVZpc2liaWxpdHl8fCF0aGlzLmZydXN0dW1WaXNpYmlsaXR5LnN1c3BlbmRlZH1nZXQgc3VzcGVuZEluZm8oKXtjb25zdCBlPXt9O3JldHVybiB0aGlzLnNjYWxlVmlzaWJpbGl0eVN1c3BlbmRlZCYmKGUub3V0c2lkZVNjYWxlUmFuZ2U9ITApLG51bGwhPXRoaXMuZnJ1c3R1bVZpc2liaWxpdHkmJnRoaXMuZnJ1c3R1bVZpc2liaWxpdHkuc3VzcGVuZGVkJiYoZS5vdXRzaWRlT2ZWaWV3PSEwKSxlfWdldCB1cGRhdGluZygpe3JldHVybiEhKHRoaXMuZ3JhcGhpY3NDb3JlPy51cGRhdGluZ3x8dGhpcy5mcnVzdHVtVmlzaWJpbGl0eT8udXBkYXRpbmd8fHRoaXMuX3VwZGF0aW5nSGFuZGxlcy51cGRhdGluZyl9Z2V0IHVwZGF0aW5nUmVtYWluaW5nKCl7cmV0dXJuIHRoaXMuZ3JhcGhpY3NDb3JlPy51cGRhdGluZ1JlbWFpbmluZz8/MH1nZXQgZmVhdHVyZVN0b3JlKCl7cmV0dXJuIHRoaXMuZ3JhcGhpY3NDb3JlPy5mZWF0dXJlU3RvcmV9Z2V0IHZpZXcoKXtyZXR1cm4gdGhpcy5vd25lci52aWV3fWdldCBsb2FkZWRHcmFwaGljcygpe3JldHVybiB0aGlzLm93bmVyLmxvYWRlZEdyYXBoaWNzfWdldCBmdWxsT3BhY2l0eSgpe3JldHVybiB0aGlzLm93bmVyPy5mdWxsT3BhY2l0eX1nZXQgZmlsdGVyKCl7cmV0dXJuXCJmaWx0ZXJcImluIHRoaXMub3duZXI/dGhpcy5vd25lci5maWx0ZXI6bnVsbH1nZXQgc2xpY2VQbGFuZUVuYWJsZWQoKXtyZXR1cm4gdGhpcy5vd25lci5zbGljZVBsYW5lRW5hYmxlZH1nZXQgdXBkYXRlUG9saWN5KCl7cmV0dXJuIHRoaXMub3duZXIudXBkYXRlUG9saWN5fWdldCBmZWF0dXJlU3BhdGlhbFJlZmVyZW5jZSgpe3JldHVyblwiZmVhdHVyZVNwYXRpYWxSZWZlcmVuY2VcImluIHRoaXMub3duZXI/dGhpcy5vd25lci5mZWF0dXJlU3BhdGlhbFJlZmVyZW5jZTp0aGlzLm93bmVyLnZpZXcuc3BhdGlhbFJlZmVyZW5jZX1nZXQgZ3JhcGhpY3MzREdyYXBoaWNzKCl7cmV0dXJuIHRoaXMuZ3JhcGhpY3NDb3JlPy5ncmFwaGljczNER3JhcGhpY3N9Z2V0IGdyYXBoaWNzM0RHcmFwaGljc0J5T2JqZWN0SUQoKXtyZXR1cm4gdGhpcy5ncmFwaGljc0NvcmU/LmdyYXBoaWNzM0RHcmFwaGljc0J5T2JqZWN0SUR9Z2V0IHN5bWJvbFVwZGF0ZVR5cGUoKXtyZXR1cm4gdGhpcy5ncmFwaGljc0NvcmU/LnN5bWJvbFVwZGF0ZVR5cGV9Z2V0IGRpc3BsYXlGZWF0dXJlTGltaXQoKXtjb25zdCBlPXRoaXMudmlldy5xdWFsaXR5LHQ9dGhpcy5ncmFwaGljc0NvcmU/LmRpc3BsYXlGZWF0dXJlTGltaXQ7aWYoMT09PWUpcmV0dXJuIHQ7Y29uc3QgaT1NYXRoLmNlaWwodC5tYXhpbXVtTnVtYmVyT2ZGZWF0dXJlcyplKTtyZXR1cm4gbmV3IHYodC5tYXhpbXVtVG90YWxOdW1iZXJPZlZlcnRpY2VzLGksdC5hdmVyYWdlU3ltYm9sQ29tcGxleGl0eSl9Z2V0IHVzZWRNZW1vcnkoKXtyZXR1cm4gdGhpcy5ncmFwaGljc0NvcmU/LnVzZWRNZW1vcnk/PzB9Z2V0IGxvYWRlZEZlYXR1cmVzKCl7cmV0dXJuIHRoaXMuZ3JhcGhpY3NDb3JlPy5udW1iZXJPZkdyYXBoaWNzPz8wfWdldCB1c2VkTWVtb3J5UGVyRmVhdHVyZSgpe3JldHVybiB0aGlzLmdyYXBoaWNzQ29yZT8udXNlZE1lbW9yeVBlckdyYXBoaWM/PzB9Z2V0IHVucHJvY2Vzc2VkTWVtb3J5RXN0aW1hdGUoKXtyZXR1cm4gdGhpcy5ncmFwaGljc0NvcmU/LnVucHJvY2Vzc2VkTWVtb3J5RXN0aW1hdGU/PzB9Z2V0IHBlcmZvcm1hbmNlSW5mbygpe3JldHVybiB0aGlzLmdyYXBoaWNzQ29yZS5wZXJmb3JtYW5jZUluZm99bWFza09jY2x1ZGVlKGUpe2NvbnN0IHQ9dGhpcy5ncmFwaGljc0NvcmU/Lm9iamVjdFN0YXRlcztpZighdClyZXR1cm4gcygpO2NvbnN0e3NldDppLGhhbmRsZTpyfT10LmFjcXVpcmVPY2NsdWRlZVNldChudWxsKTtyZXR1cm4gdC5zZXRVaWQoaSxlLnVpZCkscn1oaWdobGlnaHQoZSxpPW51bGwscil7Y29uc3Qgcz10aGlzLmdyYXBoaWNzQ29yZT8ub2JqZWN0U3RhdGVzO2lmKCFzKXJldHVybiBJO2lmKHI/Pz1GLGUgaW5zdGFuY2VvZiBDKXtjb25zdHtzZXQ6dCxoYW5kbGU6bn09cy5hY3F1aXJlSGlnaGxpZ2h0U2V0KHIsaSk7cmV0dXJuIHRoaXMub3duZXIucXVlcnlPYmplY3RJZHMoZSkudGhlbigoZT0+cy5zZXRPYmplY3RJZHModCxlKSkpLG59bGV0IG49UChlKTtpZigwPT09bi5sZW5ndGgpcmV0dXJuIEk7aWYoblswXWluc3RhbmNlb2YgdCl7Y29uc3QgZT1uO2lmKG51bGw9PVUodGhpcy5sYXllci5maWVsZHNJbmRleCxlWzBdLmF0dHJpYnV0ZXMsaSkpe2NvbnN0IHQ9ZS5tYXAoKGU9PmUudWlkKSkse3NldDppLGhhbmRsZTpufT1zLmFjcXVpcmVIaWdobGlnaHRTZXQocixudWxsKTtyZXR1cm4gcy5zZXRVaWRzKGksdCksbn1uPWUubWFwKChlPT5VKHRoaXMubGF5ZXIuZmllbGRzSW5kZXgsZS5hdHRyaWJ1dGVzLGkpKSl9aWYoQShuWzBdKSl7Y29uc3QgZT1uLHtzZXQ6dCxoYW5kbGU6YX09cy5hY3F1aXJlSGlnaGxpZ2h0U2V0KHIsaSk7cmV0dXJuIHMuc2V0T2JqZWN0SWRzKHQsZSksYX1yZXR1cm4gSX1yZXNldE9iamVjdFN0YXRlcygpe3RoaXMuZ3JhcGhpY3NDb3JlPy5vYmplY3RTdGF0ZXM/LnJlc2V0KCl9d2hlbkdyYXBoaWNCb3VuZHMoZSx0KXtyZXR1cm4gdGhpcy5ncmFwaGljc0NvcmU/LndoZW5HcmFwaGljQm91bmRzKGUsdCl9Y29tcHV0ZUF0dGFjaG1lbnRPcmlnaW4oZSx0KXtyZXR1cm4gdGhpcy5ncmFwaGljc0NvcmU/LmNvbXB1dGVBdHRhY2htZW50T3JpZ2luKGUsdCl9bm90aWZ5R3JhcGhpY0dlb21ldHJ5Q2hhbmdlZChlKXt0aGlzLmdyYXBoaWNzQ29yZS5ub3RpZnlHcmFwaGljR2VvbWV0cnlDaGFuZ2VkKGUpfW5vdGlmeUdyYXBoaWNWaXNpYmlsaXR5Q2hhbmdlZChlKXt0aGlzLmdyYXBoaWNzQ29yZS5ub3RpZnlHcmFwaGljVmlzaWJpbGl0eUNoYW5nZWQoZSl9bm90aWZ5Q29udGVudEdlb21ldHJ5VXBkYXRlKCl7dGhpcy5vd25lci5ub3RpZnlDb250ZW50R2VvbWV0cnlVcGRhdGU/LigpfWdldFJlbmRlcmluZ0luZm8oZSx0LHIpe2NvbnN0IHM9ZihlLHtyZW5kZXJlcjp0LGFyY2FkZTpyfSk7aWYocz8uY29sb3Ipe2NvbnN0IGU9cy5jb2xvcjtlWzBdPWVbMF0vMjU1LGVbMV09ZVsxXS8yNTUsZVsyXT1lWzJdLzI1NX1pZihudWxsIT1zJiZudWxsIT10JiZ0aGlzLl9yYW5kb21Sb3RhdGlvblJlbmRlcmVycz8uaGFzKHQpKXtjb25zdCByPXRoaXMuX3JhbmRvbVJvdGF0aW9uUmVuZGVyZXJzLmdldCh0KSxuPWUuYXR0cmlidXRlc1tyXSxhPW5ldyBpKDApO2EudXBkYXRlRmxvYXRBcnJheShbbl0pLGEudXBkYXRlVWludDhBcnJheShbMTczXSkscy5oZWFkaW5nPTguMzgxZS04KmEuZGlnZXN0KCl9cmV0dXJuIHN9Z2V0UmVuZGVyaW5nSW5mb0FzeW5jKGUsdCxpLHIpe3JldHVybiBiKGUse3JlbmRlcmVyOnQsYXJjYWRlOmksLi4ucn0pfWdldFN5bWJvbExheWVyU2l6ZShlLHQpe3JldHVybiB0aGlzLmdyYXBoaWNzQ29yZT8uZ2V0U3ltYm9sTGF5ZXJTaXplKGUsdCl9c2V0T2JqZWN0SWRWaXNpYmlsaXR5KGUsdCl7dGhpcy5ncmFwaGljc0NvcmU/LnNldE9iamVjdElkVmlzaWJpbGl0eShlLHQpfXJlZnJlc2hGaWx0ZXIoKXtudWxsIT10aGlzLmZpbHRlclZpc2liaWxpdHkmJnRoaXMuZmlsdGVyVmlzaWJpbGl0eS5yZWFwcGx5KCl9Z2V0R3JhcGhpY3MzREdyYXBoaWNCeU9iamVjdElkKGUpe3JldHVybiB0aGlzLmdyYXBoaWNzQ29yZT8uZ2V0R3JhcGhpY3MzREdyYXBoaWNCeU9iamVjdElkKGUpfV91cGRhdGVDbGlwcGluZ0V4dGVudCgpe2NvbnN0IGU9dGhpcy5vd25lci52aWV3LmNsaXBwaW5nQXJlYTt0aGlzLmdyYXBoaWNzQ29yZS5zZXRDbGlwcGluZ0V4dGVudChlLHRoaXMub3duZXIudmlldy5zcGF0aWFsUmVmZXJlbmNlKSYmKHRoaXMudXBkYXRlQ2xpcHBpbmdFeHRlbnQoZSl8fHRoaXMuZ3JhcGhpY3NDb3JlLnJlY3JlYXRlQWxsR3JhcGhpY3MoKSl9X3NldHVwU3VzcGVuZFJlc3VtZUV4dGVudCgpeyh0aGlzLmZydXN0dW1WaXNpYmlsaXR5fHx0aGlzLnNjYWxlVmlzaWJpbGl0eSkmJnRoaXMuYWRkSGFuZGxlcyhsKCgoKT0+dGhpcy5zdXNwZW5kUmVzdW1lRXh0ZW50TW9kZSksKCgpPT57c3dpdGNoKHRoaXMucmVtb3ZlSGFuZGxlcyhNKSx0aGlzLnN1c3BlbmRSZXN1bWVFeHRlbnRNb2RlKXtjYXNlXCJjb21wdXRlZFwiOnRoaXMuYWRkSGFuZGxlcyhbbCgoKCk9PnRoaXMuZ3JhcGhpY3NDb3JlLmNvbXB1dGVkRXh0ZW50KSwoZT0+dGhpcy5fdXBkYXRlU3VzcGVuZFJlc3VtZUV4dGVudChlKSkscCksbCgoKCk9PnRoaXMuZ3JhcGhpY3NDb3JlLmV4dGVudFBhZGRpbmcpLCgoKT0+dGhpcy5fdXBkYXRlU3VzcGVuZFJlc3VtZUV4dGVudCh0aGlzLmdyYXBoaWNzQ29yZS5jb21wdXRlZEV4dGVudCkpKV0sTSk7YnJlYWs7Y2FzZVwiZGF0YVwiOnRoaXMuYWRkSGFuZGxlcyhbZCgoKCk9PnRoaXMuZGF0YUV4dGVudCksKGU9PnRoaXMuX3VwZGF0ZVN1c3BlbmRSZXN1bWVFeHRlbnQoZSkpLHApLGwoKCgpPT50aGlzLmdyYXBoaWNzQ29yZS5leHRlbnRQYWRkaW5nKSwoKCk9PnRoaXMuX3VwZGF0ZVN1c3BlbmRSZXN1bWVFeHRlbnQodGhpcy5kYXRhRXh0ZW50KSkpXSxNKTticmVhaztkZWZhdWx0OnIodGhpcy5zdXNwZW5kUmVzdW1lRXh0ZW50TW9kZSl9fSkscCkpfV91cGRhdGVTdXNwZW5kUmVzdW1lRXh0ZW50KGUpe2U/dGhpcy5fc3VzcGVuZFJlc3VtZUV4dGVudENoYW5nZWQodGhpcy5fZXh0ZW50VG9TdXNwZW5kUmVzdW1lUmVjdChlLHRoaXMuX3N1c3BlbmRSZXN1bWVFeHRlbnQpKTp0aGlzLl9zdXNwZW5kUmVzdW1lRXh0ZW50Q2hhbmdlZChudWxsKX1fZXh0ZW50VG9TdXNwZW5kUmVzdW1lUmVjdChlLHQpe2NvbnN0IGk9dGhpcy5vd25lci52aWV3LnNwYXRpYWxSZWZlcmVuY2U7aWYoIWUuc3BhdGlhbFJlZmVyZW5jZS5lcXVhbHMoaSkpe2lmKCF5KGUsaSkpcmV0dXJuO2U9bShlLGkpfXJldHVybiBfKGUsdCx4LHRoaXMuZ3JhcGhpY3NDb3JlLmV4dGVudFBhZGRpbmcpfV9zdXNwZW5kUmVzdW1lRXh0ZW50Q2hhbmdlZChlKXtudWxsIT10aGlzLmZydXN0dW1WaXNpYmlsaXR5JiZ0aGlzLmZydXN0dW1WaXNpYmlsaXR5LnNldEV4dGVudChlKSxudWxsIT10aGlzLnNjYWxlVmlzaWJpbGl0eSYmdGhpcy5zY2FsZVZpc2liaWxpdHkuc2V0RXh0ZW50KGUpfX07ZShbdSgpXSxELnByb3RvdHlwZSxcInR5cGVcIix2b2lkIDApLGUoW3Uoe2NvbnN0cnVjdE9ubHk6ITB9KV0sRC5wcm90b3R5cGUsXCJvd25lclwiLHZvaWQgMCksZShbdSgpXSxELnByb3RvdHlwZSxcImxheWVyXCIsbnVsbCksZShbdSgpXSxELnByb3RvdHlwZSxcImxheWVyVmlld1VpZFwiLG51bGwpLGUoW3Uoe3JlYWRPbmx5OiEwfSldLEQucHJvdG90eXBlLFwiZGF0YVVwZGF0aW5nXCIsbnVsbCksZShbdSgpXSxELnByb3RvdHlwZSxcInJlbmRlcmVyXCIsbnVsbCksZShbdSh7Y29uc3RydWN0T25seTohMH0pXSxELnByb3RvdHlwZSxcInVwZGF0ZUNsaXBwaW5nRXh0ZW50XCIsdm9pZCAwKSxlKFt1KHtjb25zdHJ1Y3RPbmx5OiEwfSldLEQucHJvdG90eXBlLFwiZWxldmF0aW9uRmVhdHVyZUV4cHJlc3Npb25FbmFibGVkXCIsdm9pZCAwKSxlKFt1KHtjb25zdHJ1Y3RPbmx5OiEwfSldLEQucHJvdG90eXBlLFwiZ3JhcGhpY3NDb3JlXCIsdm9pZCAwKSxlKFt1KHtjb25zdHJ1Y3RPbmx5OiEwfSldLEQucHJvdG90eXBlLFwic2NhbGVWaXNpYmlsaXR5RW5hYmxlZFwiLHZvaWQgMCksZShbdSh7Y29uc3RydWN0T25seTohMH0pXSxELnByb3RvdHlwZSxcImZpbHRlclZpc2liaWxpdHlFbmFibGVkXCIsdm9pZCAwKSxlKFt1KHtjb25zdHJ1Y3RPbmx5OiEwfSldLEQucHJvdG90eXBlLFwiZnJ1c3R1bVZpc2liaWxpdHlFbmFibGVkXCIsdm9pZCAwKSxlKFt1KHtjb25zdHJ1Y3RPbmx5OiEwfSldLEQucHJvdG90eXBlLFwiZWxldmF0aW9uQWxpZ25tZW50RW5hYmxlZFwiLHZvaWQgMCksZShbdSh7Y29uc3RydWN0T25seTohMH0pXSxELnByb3RvdHlwZSxcInRpbWVFeHRlbnRFbmFibGVkXCIsdm9pZCAwKSxlKFt1KHtjb25zdHJ1Y3RPbmx5OiEwfSldLEQucHJvdG90eXBlLFwic2V0VWlkVG9JZE9uQWRkXCIsdm9pZCAwKSxlKFt1KCldLEQucHJvdG90eXBlLFwic2NhbGVWaXNpYmlsaXR5XCIsbnVsbCksZShbdSgpXSxELnByb3RvdHlwZSxcImZpbHRlclZpc2liaWxpdHlcIixudWxsKSxlKFt1KCldLEQucHJvdG90eXBlLFwiZWxldmF0aW9uQWxpZ25tZW50XCIsbnVsbCksZShbdSh7Y29uc3RydWN0T25seTohMH0pXSxELnByb3RvdHlwZSxcImZydXN0dW1WaXNpYmlsaXR5XCIsdm9pZCAwKSxlKFt1KCldLEQucHJvdG90eXBlLFwic3VzcGVuZFJlc3VtZUV4dGVudE1vZGVcIixudWxsKSxlKFt1KCldLEQucHJvdG90eXBlLFwiZGF0YUV4dGVudFwiLHZvaWQgMCksZShbdSgpXSxELnByb3RvdHlwZSxcInNjYWxlVmlzaWJpbGl0eVN1c3BlbmRlZFwiLG51bGwpLGUoW3UoKV0sRC5wcm90b3R5cGUsXCJzdXNwZW5kZWRcIixudWxsKSxlKFt1KCldLEQucHJvdG90eXBlLFwibGVnZW5kRW5hYmxlZFwiLG51bGwpLGUoW3UoKV0sRC5wcm90b3R5cGUsXCJzdXNwZW5kSW5mb1wiLG51bGwpLGUoW3UoKV0sRC5wcm90b3R5cGUsXCJ1cGRhdGluZ1wiLG51bGwpLGUoW3UoKV0sRC5wcm90b3R5cGUsXCJ1cGRhdGluZ1JlbWFpbmluZ1wiLG51bGwpLGUoW3UoKV0sRC5wcm90b3R5cGUsXCJmZWF0dXJlU3RvcmVcIixudWxsKSxlKFt1KCldLEQucHJvdG90eXBlLFwidmlld1wiLG51bGwpLGUoW3UoKV0sRC5wcm90b3R5cGUsXCJsb2FkZWRHcmFwaGljc1wiLG51bGwpLGUoW3UoKV0sRC5wcm90b3R5cGUsXCJmdWxsT3BhY2l0eVwiLG51bGwpLGUoW3UoKV0sRC5wcm90b3R5cGUsXCJmaWx0ZXJcIixudWxsKSxlKFt1KCldLEQucHJvdG90eXBlLFwic2xpY2VQbGFuZUVuYWJsZWRcIixudWxsKSxlKFt1KCldLEQucHJvdG90eXBlLFwiZHJhcGVTb3VyY2VUeXBlXCIsdm9pZCAwKSxlKFt1KCldLEQucHJvdG90eXBlLFwidXBkYXRlUG9saWN5XCIsbnVsbCksZShbdSgpXSxELnByb3RvdHlwZSxcInByZWZlcnJlZFVwZGF0ZVBvbGljeVwiLHZvaWQgMCksZShbdSh7cmVhZE9ubHk6ITB9KV0sRC5wcm90b3R5cGUsXCJkaXNwbGF5RmVhdHVyZUxpbWl0XCIsbnVsbCksRD1lKFtoKFwiZXNyaS52aWV3cy4zZC5sYXllcnMuZ3JhcGhpY3MuR3JhcGhpY3MzREZlYXR1cmVQcm9jZXNzb3JcIildLEQpO2NvbnN0IE09XCJzdXNwZW5kUmVzdW1lRXh0ZW50TW9kZVwiO2V4cG9ydHtEIGFzIEdyYXBoaWNzM0RGZWF0dXJlUHJvY2Vzc29yfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjMzL2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7XyBhcyBlfWZyb21cIi4uLy4uLy4uLy4uL2NodW5rcy90c2xpYi5lczYuanNcIjtpbXBvcnQgdCBmcm9tXCIuLi8uLi8uLi8uLi9jb3JlL0FjY2Vzc29yLmpzXCI7aW1wb3J0e3Byb3BlcnR5IGFzIHJ9ZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9wcm9wZXJ0eS5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vLi4vY29yZS9oYXMuanNcIjtpbXBvcnRcIi4uLy4uLy4uLy4uL2NvcmUvTG9nZ2VyLmpzXCI7aW1wb3J0XCIuLi8uLi8uLi8uLi9jb3JlL1JhbmRvbUxDRy5qc1wiO2ltcG9ydHtzdWJjbGFzcyBhcyBzfWZyb21cIi4uLy4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvc3ViY2xhc3MuanNcIjtpbXBvcnQgbiBmcm9tXCIuLi8uLi8uLi8uLi9nZW9tZXRyeS9FeHRlbnQuanNcIjtpbXBvcnR7ZmVhdHVyZUdlb21ldHJ5VHlwZUtlYmFiRGljdGlvbmFyeSBhcyBvfWZyb21cIi4uLy4uLy4uLy4uL2dlb21ldHJ5L3N1cHBvcnQvdHlwZVV0aWxzLmpzXCI7aW1wb3J0e1F1ZXJ5RW5naW5lIGFzIGF9ZnJvbVwiLi4vLi4vLi4vLi4vbGF5ZXJzL2dyYXBoaWNzL2RhdGEvUXVlcnlFbmdpbmUuanNcIjtpbXBvcnQgdSBmcm9tXCIuLi8uLi8uLi8uLi9sYXllcnMvc3VwcG9ydC9GaWVsZHNJbmRleC5qc1wiO2ltcG9ydCBpIGZyb21cIi4uLy4uLy4uLy4uL3Jlc3Qvc3VwcG9ydC9GZWF0dXJlU2V0LmpzXCI7aW1wb3J0IHkgZnJvbVwiLi4vLi4vLi4vLi4vcmVzdC9zdXBwb3J0L1F1ZXJ5LmpzXCI7aW1wb3J0e2NyZWF0ZUZlYXR1cmVJZEluZm8gYXMgY31mcm9tXCIuLi8uLi8uLi8yZC9sYXllcnMvZmVhdHVyZXMvbGF5ZXJBZGFwdGVycy9mZWF0dXJlU2VydmljZVV0aWxzLmpzXCI7aW1wb3J0e1F1ZXJ5RW5naW5lQ2FjaGUgYXMgbH1mcm9tXCIuL1F1ZXJ5RW5naW5lQ2FjaGUuanNcIjtjb25zdCBwPWE7bGV0IGg9Y2xhc3MgZXh0ZW5kcyB0e2NvbnN0cnVjdG9yKGUpe3N1cGVyKGUpLHRoaXMuX2RhdGFRdWVyeUVuZ2luZUluc3RhbmNlPW51bGx9ZGVzdHJveSgpe3RoaXMuY2xlYXIoKX1nZXQgbGF5ZXIoKXtyZXR1cm4gdGhpcy5jb250ZXh0LmxheWVyfWdldCBzcGF0aWFsUmVmZXJlbmNlKCl7cmV0dXJuIHRoaXMuY29udGV4dC5zcGF0aWFsUmVmZXJlbmNlfWdldCBfcXVlcnlHZW9tZXRyeVR5cGUoKXtzd2l0Y2godGhpcy5sYXllci5nZW9tZXRyeVR5cGUpe2Nhc2VcIm11bHRpcG9pbnRcIjpjYXNlXCJwb2ludFwiOmNhc2VcInBvbHlnb25cIjpjYXNlXCJwb2x5bGluZVwiOnJldHVybiB0aGlzLmxheWVyLmdlb21ldHJ5VHlwZTtjYXNlXCJtZXNoXCI6cmV0dXJuXCJwb2x5Z29uXCI7ZGVmYXVsdDpyZXR1cm59fWdldCBkZWZhdWx0UXVlcnlKU09OKCl7cmV0dXJuIG5ldyB5KHtvdXRTcGF0aWFsUmVmZXJlbmNlOnRoaXMuc3BhdGlhbFJlZmVyZW5jZX0pLnRvSlNPTigpfWNsZWFyKCl7cmV0dXJuISF0aGlzLl9kYXRhUXVlcnlFbmdpbmVJbnN0YW5jZSYmKHRoaXMuX2RhdGFRdWVyeUVuZ2luZUluc3RhbmNlLmRlc3Ryb3koKSx0aGlzLl9kYXRhUXVlcnlFbmdpbmVJbnN0YW5jZT1udWxsLCEwKX1hc3luYyBleGVjdXRlUXVlcnlGb3JJZFNldChlLHQscil7cmV0dXJuIHRoaXMuX2RhdGFRdWVyeUVuZ2luZS5leGVjdXRlUXVlcnlGb3JJZFNldCh0aGlzLl9lbnN1cmVRdWVyeUpTT04oZSx0KSxyKX1hc3luYyBleGVjdXRlUXVlcnlGb3JDb3VudChlLHQpe3JldHVybiB0aGlzLl9kYXRhUXVlcnlFbmdpbmUuZXhlY3V0ZVF1ZXJ5Rm9yQ291bnQodGhpcy5fZW5zdXJlUXVlcnlKU09OKGUpLHQpfWFzeW5jIGV4ZWN1dGVRdWVyeUZvckV4dGVudChlLHQpe2NvbnN0e2NvdW50OnIsZXh0ZW50OnN9PWF3YWl0IHRoaXMuX2RhdGFRdWVyeUVuZ2luZS5leGVjdXRlUXVlcnlGb3JFeHRlbnQodGhpcy5fZW5zdXJlUXVlcnlKU09OKGUpLHQpO3JldHVybntjb3VudDpyLGV4dGVudDpuLmZyb21KU09OKHMpfX1hc3luYyBleGVjdXRlUXVlcnlGb3JJZHMoZSx0KXtyZXR1cm4gdGhpcy5fZGF0YVF1ZXJ5RW5naW5lLmV4ZWN1dGVRdWVyeUZvcklkcyh0aGlzLl9lbnN1cmVRdWVyeUpTT04oZSksdCl9YXN5bmMgZXhlY3V0ZVF1ZXJ5Rm9yTGF0ZXN0T2JzZXJ2YXRpb25zKGUsdCl7Y29uc3Qgcj1hd2FpdCB0aGlzLl9kYXRhUXVlcnlFbmdpbmUuZXhlY3V0ZVF1ZXJ5Rm9yTGF0ZXN0T2JzZXJ2YXRpb25zKHRoaXMuX2Vuc3VyZVF1ZXJ5SlNPTihlKSx0KSxzPWkuZnJvbUpTT04ocik7cmV0dXJuIHMuZmVhdHVyZXMuZm9yRWFjaCgoZT0+e2UubGF5ZXI9dGhpcy5sYXllcixlLnNvdXJjZUxheWVyPXRoaXMubGF5ZXJ9KSksc31hc3luYyBleGVjdXRlUXVlcnkoZSx0KXtjb25zdCByPWF3YWl0IHRoaXMuX2RhdGFRdWVyeUVuZ2luZS5leGVjdXRlUXVlcnkodGhpcy5fZW5zdXJlUXVlcnlKU09OKGUpLHQpLHM9aS5mcm9tSlNPTihyKTtyZXR1cm4gcy5mZWF0dXJlcy5mb3JFYWNoKChlPT57ZS5sYXllcj10aGlzLmxheWVyLGUuc291cmNlTGF5ZXI9dGhpcy5sYXllcn0pKSxzfV9lbnN1cmVRdWVyeUpTT04oZSx0KXtsZXQgcj10aGlzLmRlZmF1bHRRdWVyeUpTT047aWYobnVsbCE9ZSYmKFwib3V0U3BhdGlhbFJlZmVyZW5jZVwiaW4gZSYmIWUub3V0U3BhdGlhbFJlZmVyZW5jZSYmKGUub3V0U3BhdGlhbFJlZmVyZW5jZT10aGlzLnNwYXRpYWxSZWZlcmVuY2UpLHI9ZS50b0pTT04oKSxyLmNhY2hlSGludD0hMCksbnVsbCE9dCl7Y29uc3QgZT10Lmdlb21ldHJpZXMubWFwKChlPT5lLnRvSlNPTigpKSkucmVkdWNlKCgoZSx0KT0+KGUucmluZ3M9ZS5yaW5ncy5jb25jYXQodC5yaW5ncyksZSkpKTtyPXsuLi5yLGNhY2hlSGludDohMCxzY2VuZUZpbHRlcjp7Li4udCxnZW9tZXRyeTplfX19cmV0dXJuIHJ9Z2V0IF9kYXRhUXVlcnlFbmdpbmUoKXtpZih0aGlzLl9kYXRhUXVlcnlFbmdpbmVJbnN0YW5jZSlyZXR1cm4gdGhpcy5fZGF0YVF1ZXJ5RW5naW5lSW5zdGFuY2U7Y29uc3R7cHJpb3JpdHk6ZSxsYXllcjp0fT10aGlzLHI9XCJ0aW1lSW5mb1wiaW4gdCYmdC50aW1lSW5mbz8udG9KU09OKCl8fG51bGwscz1jKHQpLG49by50b0pTT04odGhpcy5fcXVlcnlHZW9tZXRyeVR5cGUpLGE9dC5maWVsZHNJbmRleD8udG9KU09OKCl8fG5ldyB1KFtdKSxpPXRoaXMuc3BhdGlhbFJlZmVyZW5jZS50b0pTT04oKSx7aGFzWjp5LGhhc006aCxmZWF0dXJlU3RvcmU6bSxzY2hlZHVsZXI6ZixtZW1vcnlDb250cm9sbGVyOmR9PXRoaXMuY29udGV4dCxRPW5ldyBsKGQpO3JldHVybiB0aGlzLl9kYXRhUXVlcnlFbmdpbmVJbnN0YW5jZT1uZXcgcCh7aGFzWjp5LGhhc006aCxnZW9tZXRyeVR5cGU6bixmaWVsZHNJbmRleDphLHRpbWVJbmZvOnIsc3BhdGlhbFJlZmVyZW5jZTppLGZlYXR1cmVJZEluZm86cyxmZWF0dXJlU3RvcmU6bSxzY2hlZHVsZXI6ZixjYWNoZTpRLHByaW9yaXR5OmV9KSx0aGlzLl9kYXRhUXVlcnlFbmdpbmVJbnN0YW5jZX19O2UoW3Ioe2NvbnN0cnVjdE9ubHk6ITB9KV0saC5wcm90b3R5cGUsXCJjb250ZXh0XCIsdm9pZCAwKSxlKFtyKHtjb25zdHJ1Y3RPbmx5OiEwfSldLGgucHJvdG90eXBlLFwicHJpb3JpdHlcIix2b2lkIDApLGUoW3IoKV0saC5wcm90b3R5cGUsXCJsYXllclwiLG51bGwpLGUoW3IoKV0saC5wcm90b3R5cGUsXCJzcGF0aWFsUmVmZXJlbmNlXCIsbnVsbCksZShbcigpXSxoLnByb3RvdHlwZSxcIl9xdWVyeUdlb21ldHJ5VHlwZVwiLG51bGwpLGUoW3IoKV0saC5wcm90b3R5cGUsXCJkZWZhdWx0UXVlcnlKU09OXCIsbnVsbCksaD1lKFtzKFwiZXNyaS52aWV3cy4zZC5sYXllcnMuZ3JhcGhpY3MuUXVlcnlFbmdpbmVcIildLGgpO2V4cG9ydHtoIGFzIFF1ZXJ5RW5naW5lfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjMzL2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnRcIi4uLy4uLy4uLy4uL2NvcmUvaGFzLmpzXCI7aW1wb3J0e2Jhc2VBcnJheU1lbW9yeSBhcyBlLGJhc2VPYmplY3RNZW1vcnkgYXMgdH1mcm9tXCIuLi8uLi8uLi8uLi9jb3JlL21lbW9yeUVzdGltYXRpb25zLmpzXCI7Y2xhc3Mgc3tjb25zdHJ1Y3RvcihlKXt0aGlzLl9jYWNoZT1lLm5ld0NhY2hlKFwiUXVlcnlFbmdpbmVcIixudWxsLC0xKX1jbGVhcigpe3RoaXMuX2NhY2hlLmNsZWFyKCl9ZGVzdHJveSgpe3RoaXMuX2NhY2hlLmRlc3Ryb3koKX1nZXQoZSl7cmV0dXJuIHRoaXMuX2NhY2hlLmdldChlKT8uaXRlbXN9cHV0KGUsdCl7dGhpcy5fY2FjaGUucHV0KGUsbmV3IGModCkpfWdldCB0ZXN0KCl7fX1jbGFzcyBje2NvbnN0cnVjdG9yKGUpe3RoaXMuaXRlbXM9ZX1nZXQgY2FjaGVkTWVtb3J5KCl7cmV0dXJuIHRoaXMuaXRlbXMucmVkdWNlKCgoZSx0KT0+ZSt0LnVzZWRNZW1vcnkpLGUrdCl9fWV4cG9ydHtzIGFzIFF1ZXJ5RW5naW5lQ2FjaGV9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMzMvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmNsYXNzIGV7Y29uc3RydWN0b3IoZSxyLHQsbyxzLGwpe3RoaXMuc3BhdGlhbFJlZmVyZW5jZT1lLHRoaXMubGF5ZXI9cix0aGlzLnJlc291cmNlQ29udHJvbGxlcj10LHRoaXMuX2dldEZlYXR1cmVTdG9yZT1vLHRoaXMuaGFzWj1zLHRoaXMuaGFzTT1sfWdldCBzY2hlZHVsZXIoKXtyZXR1cm4gdGhpcy5yZXNvdXJjZUNvbnRyb2xsZXIuc2NoZWR1bGVyfWdldCBtZW1vcnlDb250cm9sbGVyKCl7cmV0dXJuIHRoaXMucmVzb3VyY2VDb250cm9sbGVyLm1lbW9yeUNvbnRyb2xsZXJ9Z2V0IGZlYXR1cmVTdG9yZSgpe3JldHVybiB0aGlzLl9nZXRGZWF0dXJlU3RvcmUoKX19ZXhwb3J0e2UgYXMgUXVlcnlFbmdpbmVDb250ZXh0fTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjMzL2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7XyBhcyBlfWZyb21cIi4uLy4uLy4uLy4uL2NodW5rcy90c2xpYi5lczYuanNcIjtpbXBvcnQgdCBmcm9tXCIuLi8uLi8uLi8uLi9jb3JlL0FjY2Vzc29yLmpzXCI7aW1wb3J0IHIgZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9Mb2dnZXIuanNcIjtpbXBvcnR7cmVtb3ZlTWF5YmUgYXMgaSxkZXN0cm95TWF5YmUgYXMgc31mcm9tXCIuLi8uLi8uLi8uLi9jb3JlL21heWJlLmpzXCI7aW1wb3J0e3Rocm93SWZOb3RBYm9ydEVycm9yIGFzIG8sdGhyb3dJZkFib3J0ZWQgYXMgbix0aHJvd0lmQWJvcnRFcnJvciBhcyBsfWZyb21cIi4uLy4uLy4uLy4uL2NvcmUvcHJvbWlzZVV0aWxzLmpzXCI7aW1wb3J0e2luaXRpYWwgYXMgYX1mcm9tXCIuLi8uLi8uLi8uLi9jb3JlL3JlYWN0aXZlVXRpbHMuanNcIjtpbXBvcnR7c3FsQW5kIGFzIHV9ZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9zcWwuanNcIjtpbXBvcnR7cHJvcGVydHkgYXMgcH1mcm9tXCIuLi8uLi8uLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3Byb3BlcnR5LmpzXCI7aW1wb3J0XCIuLi8uLi8uLi8uLi9jb3JlL2hhcy5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vLi4vY29yZS9SYW5kb21MQ0cuanNcIjtpbXBvcnR7c3ViY2xhc3MgYXMgY31mcm9tXCIuLi8uLi8uLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3N1YmNsYXNzLmpzXCI7aW1wb3J0e1VwZGF0aW5nSGFuZGxlcyBhcyBofWZyb21cIi4uLy4uLy4uLy4uL2NvcmUvc3VwcG9ydC9VcGRhdGluZ0hhbmRsZXMuanNcIjtpbXBvcnQgXyBmcm9tXCIuLi8uLi8uLi8uLi9sYXllcnMvc3VwcG9ydC9GZWF0dXJlRmlsdGVyLmpzXCI7aW1wb3J0e2dldEZsb29yRmlsdGVyQ2xhdXNlIGFzIGR9ZnJvbVwiLi4vLi4vLi4vLi4vbGF5ZXJzL3N1cHBvcnQvZmxvb3JGaWx0ZXJVdGlscy5qc1wiO2ltcG9ydHtRdWVyeUVuZ2luZSBhcyBmfWZyb21cIi4uL2dyYXBoaWNzL1F1ZXJ5RW5naW5lLmpzXCI7aW1wb3J0e1F1ZXJ5RW5naW5lQ29udGV4dCBhcyBtfWZyb21cIi4uL2dyYXBoaWNzL1F1ZXJ5RW5naW5lQ29udGV4dC5qc1wiO2ltcG9ydHtUYXNrUHJpb3JpdHkgYXMgZ31mcm9tXCIuLi8uLi8uLi9zdXBwb3J0L1NjaGVkdWxlci5qc1wiO2xldCB5PWNsYXNzIGV4dGVuZHMgdHtjb25zdHJ1Y3RvcihlKXtzdXBlcihlKSx0aGlzLl9mcmFtZVRhc2s9bnVsbCx0aGlzLl9xdWVyeUVuZ2luZT1udWxsLHRoaXMuX3VwZGF0ZVJlcXVlc3RlZD0hMCx0aGlzLl91cGRhdGluZ0hhbmRsZXM9bmV3IGgsdGhpcy5fYWJvcnRDb250cm9sbGVyPW5ldyBBYm9ydENvbnRyb2xsZXJ9aW5pdGlhbGl6ZSgpe2NvbnN0IGU9Zy5GSUxURVJfVklTSUJJTElUWSx7bGF5ZXI6dCx2aWV3OnJ9PXRoaXMuX2NvbmZpZ3VyYXRpb24se2ZlYXR1cmVTdG9yZTppfT10aGlzLmNvbnRleHQse3NwYXRpYWxSZWZlcmVuY2U6cyxyZXNvdXJjZUNvbnRyb2xsZXI6bn09cixsPXRoaXMuX2NvbmZpZ3VyYXRpb24uaGFzWj8/ITEsdT10aGlzLl9jb25maWd1cmF0aW9uLmhhc00/PyExLHA9bmV3IG0ocyx0LG4sKCgpPT5pKSxsLHUpO3RoaXMuX3F1ZXJ5RW5naW5lPW5ldyBmKHtjb250ZXh0OnAscHJpb3JpdHk6ZX0pLHRoaXMuX2ZyYW1lVGFzaz1yLnJlc291cmNlQ29udHJvbGxlci5zY2hlZHVsZXIucmVnaXN0ZXJUYXNrKGUpLHRoaXMuX3VwZGF0aW5nSGFuZGxlcy5hZGQoKCgpPT5bdGhpcy5fY29tcG9zaXRlZEZlYXR1cmVGaWx0ZXIsdGhpcy5fc2NlbmVGaWx0ZXJdKSwoKCk9PnRoaXMuX3VwZGF0ZVJlcXVlc3RlZD0hMCksYSksdGhpcy5fdXBkYXRpbmdIYW5kbGVzLmFkZFdoZW4oKCgpPT4hdGhpcy5fZnJhbWVUYXNrLnVwZGF0aW5nJiZ0aGlzLl91cGRhdGVSZXF1ZXN0ZWQpLCgoKT0+e3RoaXMuX2ZyYW1lVGFzay5zY2hlZHVsZSgoKCk9PnRoaXMuX3VwZGF0ZVZpc2liaWxpdHkoKSksdGhpcy5fYWJvcnRDb250cm9sbGVyLnNpZ25hbCkuY2F0Y2gobyksdGhpcy5fdXBkYXRlUmVxdWVzdGVkPSExfSksYSl9ZGVzdHJveSgpe3RoaXMuX2Fib3J0Q29udHJvbGxlci5hYm9ydCgpLHRoaXMuX3VwZGF0aW5nSGFuZGxlcy5kZXN0cm95KCksdGhpcy5jbGVhcigpLHRoaXMuX2ZyYW1lVGFzaz1pKHRoaXMuX2ZyYW1lVGFzayksdGhpcy5fcXVlcnlFbmdpbmU9cyh0aGlzLl9xdWVyeUVuZ2luZSksdGhpcy5fc2V0KFwiY29udGV4dFwiLG51bGwpfWdldCB1cGRhdGluZygpe3JldHVybiB0aGlzLl91cGRhdGVSZXF1ZXN0ZWR8fHRoaXMuX3VwZGF0aW5nSGFuZGxlcy51cGRhdGluZ3x8dGhpcy5fZnJhbWVUYXNrLnVwZGF0aW5nfWdldCBkZWZhdWx0VmlzaWJpbGl0eSgpe3JldHVybiBudWxsPT10aGlzLl9jb21wb3NpdGVkRmVhdHVyZUZpbHRlciYmbnVsbD09dGhpcy5fc2NlbmVGaWx0ZXJ9Z2V0IF9mZWF0dXJlRmlsdGVyKCl7cmV0dXJuXCJmaWx0ZXJcImluIHRoaXMuX2NvbmZpZ3VyYXRpb24/dGhpcy5fY29uZmlndXJhdGlvbi5maWx0ZXI6bnVsbH1nZXQgX2VmZmVjdGl2ZURpc3BsYXlGaWx0ZXIoKXtyZXR1cm5cImVmZmVjdGl2ZURpc3BsYXlGaWx0ZXJcImluIHRoaXMuX2NvbmZpZ3VyYXRpb24/dGhpcy5fY29uZmlndXJhdGlvbi5lZmZlY3RpdmVEaXNwbGF5RmlsdGVyOm51bGx9Z2V0IF9zY2VuZUZpbHRlcigpe3JldHVyblwibGF5ZXJGaWx0ZXJcImluIHRoaXMuX2NvbmZpZ3VyYXRpb24/dGhpcy5fY29uZmlndXJhdGlvbi5sYXllckZpbHRlcjpudWxsfWdldCBfZmxvb3JGaWx0ZXIoKXtyZXR1cm4gZCh0aGlzLl9jb25maWd1cmF0aW9uKX1nZXQgX3RpbWVFeHRlbnQoKXtyZXR1cm5cInRpbWVFeHRlbnRcImluIHRoaXMuX2NvbmZpZ3VyYXRpb24/dGhpcy5fY29uZmlndXJhdGlvbi50aW1lRXh0ZW50Om51bGx9Z2V0IF9jb21wb3NpdGVkRmVhdHVyZUZpbHRlcigpe2NvbnN0e19mZWF0dXJlRmlsdGVyOmUsX2VmZmVjdGl2ZURpc3BsYXlGaWx0ZXI6dCxfdGltZUV4dGVudDpyLF9mbG9vckZpbHRlcjppfT10aGlzO2xldCBzPWU/LmNsb25lKCk7aWYobnVsbCE9dCYmKHM/Pz1uZXcgXyxzLndoZXJlPXUocy53aGVyZSx0LndoZXJlKSksbnVsbCE9ciYmKHM/Pz1uZXcgXyxzLnRpbWVFeHRlbnQ9cy50aW1lRXh0ZW50Py5pbnRlcnNlY3Rpb24ocik/P3IpLG51bGwhPWkpe3M/Pz1uZXcgXztjb25zdCBlPW51bGw9PXMud2hlcmV8fFwiXCI9PT1zLndoZXJlO3Mud2hlcmU9ZT9pOnUocy53aGVyZSxpKX1yZXR1cm4gc31nZXQgX2NvbmZpZ3VyYXRpb24oKXtyZXR1cm4gdGhpcy5jb250ZXh0LmNvbmZpZ3VyYXRpb259cmVhcHBseSgpe3RoaXMuX3VwZGF0ZVJlcXVlc3RlZD0hMH1jbGVhcigpe3RoaXMuX3F1ZXJ5RW5naW5lLmNsZWFyKCksdGhpcy5jb250ZXh0LmNsZWFyRmVhdHVyZXNWaXNpYmlsaXR5KCl9YXN5bmMgX3VwZGF0ZVZpc2liaWxpdHkoKXtjb25zdHtzaWduYWw6ZX09dGhpcy5fYWJvcnRDb250cm9sbGVyLHtjb250ZXh0OnQsX2ZyYW1lVGFzazppLF9zY2VuZUZpbHRlcjpzLF9jb21wb3NpdGVkRmVhdHVyZUZpbHRlcjpvfT10aGlzO2lmKG4oZSksbnVsbD09byYmbnVsbD09c3x8MD09PXQuZ2V0RmVhdHVyZUNvdW50KCkpcmV0dXJuIGF3YWl0IGkuc2NoZWR1bGUoKCgpPT50aGlzLmNsZWFyKCkpLGUpO3RyeXtjb25zdCByPWF3YWl0IHRoaXMuX3VwZGF0aW5nSGFuZGxlcy5hZGRQcm9taXNlKHRoaXMuX3F1ZXJ5RW5naW5lLmV4ZWN1dGVRdWVyeUZvcklkU2V0KG8scyxlKSk7cmV0dXJuIG4oZSksYXdhaXQgaS5zY2hlZHVsZSgoKCk9Pnt0LnVwZGF0ZUZlYXR1cmVWaXNpYmlsaXRpZXMoKGU9PnIuaGFzKGUpKSl9KSxlKX1jYXRjaChhKXtyZXR1cm4gbChhKSxyLmdldExvZ2dlcih0aGlzKS53YXJuKGBGZWF0dXJlRmlsdGVyIHF1ZXJ5IGZhaWxlZDogJHthfWAse2Vycm9yOmF9KSxhd2FpdCBpLnNjaGVkdWxlKCgoKT0+e3Quc2V0QWxsRmVhdHVyZXNWaXNpYmlsaXR5KCEwKX0pLGUpfX19O2UoW3Aoe2NvbnN0cnVjdE9ubHk6ITB9KV0seS5wcm90b3R5cGUsXCJjb250ZXh0XCIsdm9pZCAwKSxlKFtwKCldLHkucHJvdG90eXBlLFwidXBkYXRpbmdcIixudWxsKSxlKFtwKCldLHkucHJvdG90eXBlLFwiZGVmYXVsdFZpc2liaWxpdHlcIixudWxsKSxlKFtwKCldLHkucHJvdG90eXBlLFwiX2ZlYXR1cmVGaWx0ZXJcIixudWxsKSxlKFtwKCldLHkucHJvdG90eXBlLFwiX2VmZmVjdGl2ZURpc3BsYXlGaWx0ZXJcIixudWxsKSxlKFtwKCldLHkucHJvdG90eXBlLFwiX3NjZW5lRmlsdGVyXCIsbnVsbCksZShbcCgpXSx5LnByb3RvdHlwZSxcIl9mbG9vckZpbHRlclwiLG51bGwpLGUoW3AoKV0seS5wcm90b3R5cGUsXCJfdGltZUV4dGVudFwiLG51bGwpLGUoW3AoKV0seS5wcm90b3R5cGUsXCJfY29tcG9zaXRlZEZlYXR1cmVGaWx0ZXJcIixudWxsKSxlKFtwKCldLHkucHJvdG90eXBlLFwiX2NvbmZpZ3VyYXRpb25cIixudWxsKSxlKFtwKCldLHkucHJvdG90eXBlLFwiX3VwZGF0ZVJlcXVlc3RlZFwiLHZvaWQgMCkseT1lKFtjKFwiZXNyaS52aWV3cy4zZC5sYXllcnMuc3VwcG9ydC5GZWF0dXJlVmlzaWJpbGl0eUZpbHRlclwiKV0seSk7ZXhwb3J0e3kgYXMgRmVhdHVyZVZpc2liaWxpdHlGaWx0ZXJ9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMzMvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmZ1bmN0aW9uIG4obix0LGUpe2lmKCFlfHxudWxsPT10KXJldHVybiBudWxsO2lmKCFuKXJldHVybiByKHQsZSk7Y29uc3Qgbz1uLmdldChlKTtyZXR1cm4gbz90W28ubmFtZV06bnVsbH1mdW5jdGlvbiByKG4scil7Y29uc3QgdD1yLnRvTG93ZXJDYXNlKCk7Zm9yKGNvbnN0IGUgaW4gbilpZihlLnRvTG93ZXJDYXNlKCk9PT10KXJldHVybiBuW2VdO3JldHVybiBudWxsfWV4cG9ydHtuIGFzIGF0dHJpYnV0ZUxvb2t1cH07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4zMy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e18gYXMgZX1mcm9tXCIuLi8uLi9jaHVua3MvdHNsaWIuZXM2LmpzXCI7aW1wb3J0IHQgZnJvbVwiLi4vLi4vY29yZS9BY2Nlc3Nvci5qc1wiO2ltcG9ydCByIGZyb21cIi4uLy4uL2NvcmUvRXZlbnRlZC5qc1wiO2ltcG9ydCBpIGZyb21cIi4uLy4uL2NvcmUvSWRlbnRpZmlhYmxlLmpzXCI7aW1wb3J0IHMgZnJvbVwiLi4vLi4vY29yZS9Mb2dnZXIuanNcIjtpbXBvcnR7ZGVzdHJveU1heWJlIGFzIG59ZnJvbVwiLi4vLi4vY29yZS9tYXliZS5qc1wiO2ltcG9ydCBsIGZyb21cIi4uLy4uL2NvcmUvUHJvbWlzZS5qc1wiO2ltcG9ydHtwcm9wZXJ0eSBhcyBvfWZyb21cIi4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvcHJvcGVydHkuanNcIjtpbXBvcnRcIi4uLy4uL2NvcmUvaGFzLmpzXCI7aW1wb3J0XCIuLi8uLi9jb3JlL1JhbmRvbUxDRy5qc1wiO2ltcG9ydHtzdWJjbGFzcyBhcyBhfWZyb21cIi4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvc3ViY2xhc3MuanNcIjtpbXBvcnR7VXBkYXRpbmdIYW5kbGVzIGFzIHB9ZnJvbVwiLi4vLi4vY29yZS9zdXBwb3J0L1VwZGF0aW5nSGFuZGxlcy5qc1wiO2ltcG9ydHt2YWxpZGF0ZVNjYWxlUmFuZ2UgYXMgZH1mcm9tXCIuLi9zdXBwb3J0L2xheWVyVmlld1V0aWxzLmpzXCI7bGV0IHU9Y2xhc3MgZXh0ZW5kcyhpLklkZW50aWZpYWJsZU1peGluKGwuRXNyaVByb21pc2VNaXhpbihyLkV2ZW50ZWRNaXhpbih0KSkpKXtnZXQgc3BhdGlhbFJlZmVyZW5jZVN1cHBvcnRlZCgpe3JldHVybiEwfWNvbnN0cnVjdG9yKGUpe3N1cGVyKGUpLHRoaXMuX3VwZGF0aW5nSGFuZGxlcz1uZXcgcCx0aGlzLmxheWVyPW51bGwsdGhpcy5wYXJlbnQ9bnVsbH1pbml0aWFsaXplKCl7dGhpcy53aGVuKCkuY2F0Y2goKGU9PntpZihcImxheWVydmlldzpjcmVhdGUtZXJyb3JcIiE9PWUubmFtZSl7Y29uc3QgdD10aGlzLmxheWVyJiZ0aGlzLmxheWVyLmlkfHxcIm5vIGlkXCIscj10aGlzLmxheWVyPy50aXRsZXx8XCJubyB0aXRsZVwiO3MuZ2V0TG9nZ2VyKHRoaXMpLmVycm9yKFwiI3Jlc29sdmUoKVwiLGBGYWlsZWQgdG8gcmVzb2x2ZSBsYXllciB2aWV3IChsYXllciB0aXRsZTogJyR7cn0nLCBpZDogJyR7dH0nKWAsZSl9fSkpfWRlc3Ryb3koKXt0aGlzLl91cGRhdGluZ0hhbmRsZXM9bih0aGlzLl91cGRhdGluZ0hhbmRsZXMpfWdldCBmdWxsT3BhY2l0eSgpe3JldHVybih0aGlzLmxheWVyPy5vcGFjaXR5Pz8xKSoodGhpcy5wYXJlbnQ/LmZ1bGxPcGFjaXR5Pz8xKX1nZXQgc3VzcGVuZGVkKCl7cmV0dXJuIHRoaXMuZGVzdHJveWVkfHwhdGhpcy5jYW5SZXN1bWUoKX1nZXQgc3VzcGVuZEluZm8oKXtyZXR1cm4gdGhpcy5nZXRTdXNwZW5kSW5mbygpfWdldCBsZWdlbmRFbmFibGVkKCl7cmV0dXJuIXRoaXMuc3VzcGVuZGVkJiYhMD09PXRoaXMubGF5ZXI/LmxlZ2VuZEVuYWJsZWR9Z2V0IHVwZGF0aW5nKCl7cmV0dXJuISghdGhpcy5fdXBkYXRpbmdIYW5kbGVzPy51cGRhdGluZyYmIXRoaXMuaXNVcGRhdGluZygpKX1nZXQgdXBkYXRpbmdQcm9ncmVzcygpe3JldHVybiB0aGlzLnVwZGF0aW5nPzA6MX1nZXQgdXBkYXRlU3VzcGVuZGVkKCl7cmV0dXJuIHRoaXMuc3VzcGVuZGVkfWdldCB2aXNpYmxlKCl7cmV0dXJuITA9PT10aGlzLmxheWVyPy52aXNpYmxlfXNldCB2aXNpYmxlKGUpe3RoaXMuX292ZXJyaWRlSWZTb21lKFwidmlzaWJsZVwiLGUpfWdldCB2aXNpYmxlQXRDdXJyZW50U2NhbGUoKXtyZXR1cm4hMH1nZXQgdmlzaWJsZUF0Q3VycmVudFRpbWVFeHRlbnQoKXtjb25zdCBlPXRoaXMudmlldy50aW1lRXh0ZW50LHQ9dGhpcy5sYXllcj8udmlzaWJpbGl0eVRpbWVFeHRlbnQ7cmV0dXJuIWV8fCF0fHwhZS5pbnRlcnNlY3Rpb24odCkuaXNFbXB0eX1jYW5SZXN1bWUoKXtjb25zdCBlPXRoaXMubGF5ZXImJlwiZWZmZWN0aXZlU2NhbGVSYW5nZVwiaW4gdGhpcy5sYXllcj90aGlzLmxheWVyLmVmZmVjdGl2ZVNjYWxlUmFuZ2U6bnVsbDtyZXR1cm4gdGhpcy52aXNpYmxlJiZ0aGlzLmxheWVyPy5sb2FkZWQmJnRoaXMucGFyZW50JiYhdGhpcy5wYXJlbnQuc3VzcGVuZGVkJiZ0aGlzLnZpZXc/LnJlYWR5JiZkKGUpJiZ0aGlzLnZpc2libGVBdEN1cnJlbnRTY2FsZSYmdGhpcy52aXNpYmxlQXRDdXJyZW50VGltZUV4dGVudHx8ITF9Z2V0U3VzcGVuZEluZm8oKXtjb25zdCBlPXRoaXMucGFyZW50Py5zdXNwZW5kZWQ/dGhpcy5wYXJlbnQuc3VzcGVuZEluZm86e30sdD10aGlzO3Qudmlldz8ucmVhZHl8fChlLnZpZXdOb3RSZWFkeT0hMCksdGhpcy5sYXllciYmdGhpcy5sYXllci5sb2FkZWR8fChlLmxheWVyTm90TG9hZGVkPSEwKTtjb25zdCByPXRoaXMubGF5ZXImJlwiZWZmZWN0aXZlU2NhbGVSYW5nZVwiaW4gdGhpcy5sYXllcj90aGlzLmxheWVyLmVmZmVjdGl2ZVNjYWxlUmFuZ2U6bnVsbDtyZXR1cm4gZChyKSYmdGhpcy52aXNpYmxlQXRDdXJyZW50U2NhbGV8fChlLm91dHNpZGVTY2FsZVJhbmdlPSEwKSx0aGlzLnZpc2libGVBdEN1cnJlbnRUaW1lRXh0ZW50fHwoZS5vdXRzaWRlVmlzaWJpbGl0eVRpbWVFeHRlbnQ9ITApLHRoaXMudmlzaWJsZXx8KGUubGF5ZXJJbnZpc2libGU9ITApLGV9aXNVcGRhdGluZygpe3JldHVybiExfX07ZShbbyh7cmVhZE9ubHk6ITB9KV0sdS5wcm90b3R5cGUsXCJzcGF0aWFsUmVmZXJlbmNlU3VwcG9ydGVkXCIsbnVsbCksZShbbygpXSx1LnByb3RvdHlwZSxcInZpZXdcIix2b2lkIDApLGUoW28oKV0sdS5wcm90b3R5cGUsXCJmdWxsT3BhY2l0eVwiLG51bGwpLGUoW28oKV0sdS5wcm90b3R5cGUsXCJsYXllclwiLHZvaWQgMCksZShbbygpXSx1LnByb3RvdHlwZSxcInBhcmVudFwiLHZvaWQgMCksZShbbyh7cmVhZE9ubHk6ITB9KV0sdS5wcm90b3R5cGUsXCJzdXNwZW5kZWRcIixudWxsKSxlKFtvKHtyZWFkT25seTohMH0pXSx1LnByb3RvdHlwZSxcInN1c3BlbmRJbmZvXCIsbnVsbCksZShbbyh7cmVhZE9ubHk6ITB9KV0sdS5wcm90b3R5cGUsXCJsZWdlbmRFbmFibGVkXCIsbnVsbCksZShbbyh7dHlwZTpCb29sZWFuLHJlYWRPbmx5OiEwfSldLHUucHJvdG90eXBlLFwidXBkYXRpbmdcIixudWxsKSxlKFtvKHtyZWFkT25seTohMH0pXSx1LnByb3RvdHlwZSxcInVwZGF0aW5nUHJvZ3Jlc3NcIixudWxsKSxlKFtvKCldLHUucHJvdG90eXBlLFwidXBkYXRlU3VzcGVuZGVkXCIsbnVsbCksZShbbygpXSx1LnByb3RvdHlwZSxcInZpc2libGVcIixudWxsKSxlKFtvKHtyZWFkT25seTohMH0pXSx1LnByb3RvdHlwZSxcInZpc2libGVBdEN1cnJlbnRTY2FsZVwiLG51bGwpLGUoW28oe3JlYWRPbmx5OiEwfSldLHUucHJvdG90eXBlLFwidmlzaWJsZUF0Q3VycmVudFRpbWVFeHRlbnRcIixudWxsKSx1PWUoW2EoXCJlc3JpLnZpZXdzLmxheWVycy5MYXllclZpZXdcIildLHUpO2V4cG9ydHt1IGFzIGRlZmF1bHR9O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9