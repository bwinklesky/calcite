export const __webpack_id__ = "vendors-node_modules_esri_calcite-components_dist_components_calcite-dropdown-item_index_js";
export const __webpack_ids__ = ["vendors-node_modules_esri_calcite-components_dist_components_calcite-dropdown-item_index_js"];
export const __webpack_modules__ = {

/***/ "./node_modules/@esri/calcite-components/dist/chunks/resources7.js":
/*!*************************************************************************!*\
  !*** ./node_modules/@esri/calcite-components/dist/chunks/resources7.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   C: () => (/* binding */ CSS),
/* harmony export */   I: () => (/* binding */ ICONS)
/* harmony export */ });
/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
v3.3.3 */
const CSS = {
  container: "container",
  containerNone: "container--none-selection",
  icon: "dropdown-item-icon",
  iconEnd: "dropdown-item-icon--end",
  iconStart: "dropdown-item-icon--start",
  itemContent: "dropdown-item-content",
  link: "dropdown-link"
};
const ICONS = {
  check: "check",
  bulletPoint: "bullet-point"
};



/***/ }),

/***/ "./node_modules/@esri/calcite-components/dist/components/calcite-dropdown-item/customElement.js":
/*!******************************************************************************************************!*\
  !*** ./node_modules/@esri/calcite-components/dist/components/calcite-dropdown-item/customElement.js ***!
  \******************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   DropdownItem: () => (/* binding */ DropdownItem)
/* harmony export */ });
/* harmony import */ var _chunks_runtime_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../chunks/runtime.js */ "./node_modules/@esri/calcite-components/dist/chunks/runtime.js");
/* harmony import */ var lit__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lit */ "./node_modules/lit/index.js");
/* harmony import */ var lit_html_directives_ref_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lit-html/directives/ref.js */ "./node_modules/lit-html/development/directives/ref.js");
/* harmony import */ var _arcgis_lumina__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @arcgis/lumina */ "./node_modules/@arcgis/lumina/dist/index.js");
/* harmony import */ var _chunks_dom_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../chunks/dom.js */ "./node_modules/@esri/calcite-components/dist/chunks/dom.js");
/* harmony import */ var _chunks_component_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../chunks/component.js */ "./node_modules/@esri/calcite-components/dist/chunks/component.js");
/* harmony import */ var _chunks_interactive_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../chunks/interactive.js */ "./node_modules/@esri/calcite-components/dist/chunks/interactive.js");
/* harmony import */ var _chunks_useSetFocus_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../chunks/useSetFocus.js */ "./node_modules/@esri/calcite-components/dist/chunks/useSetFocus.js");
/* harmony import */ var _chunks_resources7_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../chunks/resources7.js */ "./node_modules/@esri/calcite-components/dist/chunks/resources7.js");
/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
v3.3.3 */









const styles = (0,lit__WEBPACK_IMPORTED_MODULE_1__.css)`:host{--calcite-internal-color-focus: var( --calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)) )}:host([disabled]){cursor:default;-webkit-user-select:none;user-select:none;opacity:var(--calcite-opacity-disabled)}:host([disabled]) *,:host([disabled]) ::slotted(*){pointer-events:none}:host{position:relative;display:flex;flex-grow:1;align-items:center;outline-color:transparent}.container{position:relative;display:flex;flex-grow:1;cursor:pointer;align-items:center;text-decoration-line:none;color:var(--calcite-dropdown-item-text-color, var(--calcite-color-text-3));text-align:start;outline-color:transparent}.container a{outline:none;position:relative;display:flex;flex-grow:1;cursor:pointer;align-items:center;text-decoration-line:none;color:var(--calcite-dropdown-item-text-color, var(--calcite-color-text-3))}.dropdown-item-content{flex:1 1 auto;padding-block:.125rem}.dropdown-item-icon{position:relative;opacity:0;transition-timing-function:cubic-bezier(.4,0,.2,1);transform:scale(.9)}:host([scale=s]) .container{padding-block:.25rem;padding-inline:.5rem;font-size:var(--calcite-font-size--2);line-height:1rem}:host([scale=s]) .dropdown-item-icon,:host([scale=s]) .dropdown-item-icon--start{padding-inline-end:var(--calcite-spacing-sm)}:host([scale=s]) .dropdown-item-icon--end{padding-inline-start:var(--calcite-spacing-sm)}:host([scale=m]) .container{padding-block:.5rem;padding-inline:.75rem;font-size:var(--calcite-font-size--1);line-height:1rem}:host([scale=m]) .dropdown-item-icon,:host([scale=m]) .dropdown-item-icon--start{padding-inline-end:var(--calcite-spacing-md)}:host([scale=m]) .dropdown-item-icon--end{padding-inline-start:var(--calcite-spacing-md)}:host([scale=l]) .container{padding-block:.625rem;padding-inline:1rem;font-size:var(--calcite-font-size-0);line-height:1.25rem}:host([scale=l]) .dropdown-item-icon,:host([scale=l]) .dropdown-item-icon--start{padding-inline-end:var(--calcite-spacing-lg)}:host([scale=l]) .dropdown-item-icon--end{padding-inline-start:var(--calcite-spacing-lg)}:host(:focus) .container{text-decoration-line:none;outline:var(--calcite-border-width-md) solid var(--calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)));outline:var(--calcite-border-width-md) solid var(--calcite-internal-color-focus);outline-offset:calc(calc(-1 * var(--calcite-spacing-base)) * calc(1 - (2*clamp(0,var(--calcite-offset-invert-focus),1))))}:host(:hover:not([disabled])) .container{background-color:var(--calcite-dropdown-item-background-color-hover, var(--calcite-color-foreground-2))}:host(:active:not([disabled])) .container{background-color:var(--calcite-dropdown-item-background-color-press, var(--calcite-color-foreground-3))}:host(:hover:not([disabled])) .container,:host(:active:not([disabled])) .container{text-decoration-line:none;color:var(--calcite-dropdown-item-text-color-press, var(--calcite-color-text-1))}:host(:hover:not([disabled])) .dropdown-link,:host(:active:not([disabled])) .dropdown-link{color:var(--calcite-dropdown-item-text-color-press, var(--calcite-color-text-1))}:host([selected]) .container:not(.container--none-selection),:host([selected]) .dropdown-link{font-weight:var(--calcite-font-weight-medium);color:var(--calcite-dropdown-item-text-color-press, var(--calcite-color-text-1))}:host([selected]) .container:not(.container--none-selection) calcite-icon,:host([selected]) .dropdown-link calcite-icon{color:var(--calcite-dropdown-item-icon-color-press, var(--calcite-color-brand))}:host(:hover:not([disabled])) .dropdown-item-icon{color:var(--calcite-dropdown-item-icon-color-hover)}:host([selected]) .dropdown-item-icon{opacity:1}:host([hidden]){display:none}[hidden]{display:none}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}.interaction-container{display:contents}`;
class DropdownItem extends _arcgis_lumina__WEBPACK_IMPORTED_MODULE_3__.LitElement {
  constructor() {
    super();
    this.childLink = (0,lit_html_directives_ref_js__WEBPACK_IMPORTED_MODULE_2__.createRef)();
    this.focusSetter = (0,_chunks_useSetFocus_js__WEBPACK_IMPORTED_MODULE_7__.u)()(this);
    this.disabled = false;
    this.scale = "m";
    this.selected = false;
    this.selectionMode = "single";
    this.calciteDropdownItemSelect = (0,_arcgis_lumina__WEBPACK_IMPORTED_MODULE_3__.createEvent)({ cancelable: false });
    this.calciteInternalDropdownCloseRequest = (0,_arcgis_lumina__WEBPACK_IMPORTED_MODULE_3__.createEvent)({ cancelable: false });
    this.calciteInternalDropdownItemKeyEvent = (0,_arcgis_lumina__WEBPACK_IMPORTED_MODULE_3__.createEvent)({ cancelable: false });
    this.calciteInternalDropdownItemSelect = (0,_arcgis_lumina__WEBPACK_IMPORTED_MODULE_3__.createEvent)({ cancelable: false });
    this.listen("click", this.onClick);
    this.listen("keydown", this.keyDownHandler);
    this.listenOn(document.body, "calciteInternalDropdownItemChange", this.updateActiveItemOnChange);
  }
  static {
    this.properties = { disabled: [7, {}, { reflect: true, type: Boolean }], href: [3, {}, { reflect: true }], iconEnd: [3, {}, { reflect: true }], iconFlipRtl: [3, {}, { reflect: true }], iconStart: [3, {}, { reflect: true }], label: 1, rel: [3, {}, { reflect: true }], scale: [3, {}, { reflect: true }], selected: [7, {}, { reflect: true, type: Boolean }], selectionMode: 1, target: [3, {}, { reflect: true }] };
  }
  static {
    this.styles = styles;
  }
  async setFocus(options) {
    return this.focusSetter(() => {
      return this.el;
    }, options);
  }
  connectedCallback() {
    super.connectedCallback();
    this.initialize();
  }
  load() {
    this.initialize();
  }
  updated() {
    (0,_chunks_interactive_js__WEBPACK_IMPORTED_MODULE_6__.u)(this);
  }
  onClick() {
    this.emitRequestedItem();
  }
  keyDownHandler(event) {
    switch (event.key) {
      case " ":
      case "Enter":
        this.emitRequestedItem();
        if (this.href) {
          this.childLink.value.click();
        }
        event.preventDefault();
        break;
      case "Escape":
        this.calciteInternalDropdownCloseRequest.emit();
        event.preventDefault();
        break;
      case "Tab":
        this.calciteInternalDropdownItemKeyEvent.emit({ keyboardEvent: event });
        break;
      case "ArrowUp":
      case "ArrowDown":
      case "Home":
      case "End":
        event.preventDefault();
        this.calciteInternalDropdownItemKeyEvent.emit({ keyboardEvent: event });
        break;
    }
  }
  updateActiveItemOnChange(event) {
    const parentEmittedChange = event.composedPath().includes(this.parentDropdownGroupEl);
    if (parentEmittedChange) {
      this.requestedDropdownGroup = event.detail.requestedDropdownGroup;
      this.requestedDropdownItem = event.detail.requestedDropdownItem;
      this.determineActiveItem();
    }
    event.stopPropagation();
  }
  initialize() {
    this.parentDropdownGroupEl = this.el.closest("calcite-dropdown-group");
    if (this.selectionMode === "none") {
      this.selected = false;
    }
  }
  determineActiveItem() {
    switch (this.selectionMode) {
      case "multiple":
        if (this.el === this.requestedDropdownItem) {
          this.selected = !this.selected;
        }
        break;
      case "single":
        if (this.el === this.requestedDropdownItem) {
          this.selected = true;
        } else if (this.requestedDropdownGroup === this.parentDropdownGroupEl) {
          this.selected = false;
        }
        break;
      case "none":
        this.selected = false;
        break;
    }
  }
  emitRequestedItem() {
    this.calciteDropdownItemSelect.emit();
    this.calciteInternalDropdownItemSelect.emit({
      requestedDropdownItem: this.el,
      requestedDropdownGroup: this.parentDropdownGroupEl
    });
  }
  render() {
    const { href, selectionMode, label, iconFlipRtl } = this;
    const iconStartEl = (0,lit__WEBPACK_IMPORTED_MODULE_1__.html)`<calcite-icon class=${(0,_arcgis_lumina__WEBPACK_IMPORTED_MODULE_3__.safeClassMap)(_chunks_resources7_js__WEBPACK_IMPORTED_MODULE_8__.C.iconStart)} .flipRtl=${iconFlipRtl === "start" || iconFlipRtl === "both"} .icon=${this.iconStart} .scale=${(0,_chunks_component_js__WEBPACK_IMPORTED_MODULE_5__.g)(this.scale)}></calcite-icon>`;
    const contentNode = (0,lit__WEBPACK_IMPORTED_MODULE_1__.html)`<span class=${(0,_arcgis_lumina__WEBPACK_IMPORTED_MODULE_3__.safeClassMap)(_chunks_resources7_js__WEBPACK_IMPORTED_MODULE_8__.C.itemContent)}><slot></slot></span>`;
    const iconEndEl = (0,lit__WEBPACK_IMPORTED_MODULE_1__.html)`<calcite-icon class=${(0,_arcgis_lumina__WEBPACK_IMPORTED_MODULE_3__.safeClassMap)(_chunks_resources7_js__WEBPACK_IMPORTED_MODULE_8__.C.iconEnd)} .flipRtl=${iconFlipRtl === "end" || iconFlipRtl === "both"} .icon=${this.iconEnd} .scale=${(0,_chunks_component_js__WEBPACK_IMPORTED_MODULE_5__.g)(this.scale)}></calcite-icon>`;
    const slottedContent = this.iconStart && this.iconEnd ? [iconStartEl, contentNode, iconEndEl] : this.iconStart ? [iconStartEl, contentNode] : this.iconEnd ? [contentNode, iconEndEl] : contentNode;
    const contentEl = !href ? slottedContent : (0,lit__WEBPACK_IMPORTED_MODULE_1__.html)`<a .ariaLabel=${label} class=${(0,_arcgis_lumina__WEBPACK_IMPORTED_MODULE_3__.safeClassMap)(_chunks_resources7_js__WEBPACK_IMPORTED_MODULE_8__.C.link)} href=${href ?? _arcgis_lumina__WEBPACK_IMPORTED_MODULE_3__.nothing} rel=${this.rel ?? _arcgis_lumina__WEBPACK_IMPORTED_MODULE_3__.nothing} tabindex=-1 target=${this.target ?? _arcgis_lumina__WEBPACK_IMPORTED_MODULE_3__.nothing} ${(0,lit_html_directives_ref_js__WEBPACK_IMPORTED_MODULE_2__.ref)(this.childLink)}>${slottedContent}</a>`;
    const itemRole = href ? null : selectionMode === "single" ? "menuitemradio" : selectionMode === "multiple" ? "menuitemcheckbox" : "menuitem";
    const itemAria = selectionMode !== "none" ? (0,_chunks_dom_js__WEBPACK_IMPORTED_MODULE_4__.t)(this.selected) : null;
    const { disabled } = this;
    this.el.ariaChecked = itemAria;
    this.el.ariaLabel = !href ? label : "";
    this.el.role = itemRole;
    (0,_arcgis_lumina__WEBPACK_IMPORTED_MODULE_3__.setAttribute)(this.el, "tabIndex", disabled ? -1 : 0);
    return (0,_chunks_interactive_js__WEBPACK_IMPORTED_MODULE_6__.I)({ disabled, children: (0,lit__WEBPACK_IMPORTED_MODULE_1__.html)`<div class=${(0,_arcgis_lumina__WEBPACK_IMPORTED_MODULE_3__.safeClassMap)({
      [_chunks_resources7_js__WEBPACK_IMPORTED_MODULE_8__.C.container]: true,
      [_chunks_resources7_js__WEBPACK_IMPORTED_MODULE_8__.C.containerNone]: selectionMode === "none"
    })}>${selectionMode !== "none" ? (0,lit__WEBPACK_IMPORTED_MODULE_1__.html)`<calcite-icon class=${(0,_arcgis_lumina__WEBPACK_IMPORTED_MODULE_3__.safeClassMap)(_chunks_resources7_js__WEBPACK_IMPORTED_MODULE_8__.C.icon)} .icon=${selectionMode === "multiple" ? _chunks_resources7_js__WEBPACK_IMPORTED_MODULE_8__.I.check : _chunks_resources7_js__WEBPACK_IMPORTED_MODULE_8__.I.bulletPoint} .scale=${(0,_chunks_component_js__WEBPACK_IMPORTED_MODULE_5__.g)(this.scale)}></calcite-icon>` : null}${contentEl}</div>` });
  }
}
(0,_chunks_runtime_js__WEBPACK_IMPORTED_MODULE_0__.c)("calcite-dropdown-item", DropdownItem);



/***/ }),

/***/ "./node_modules/@esri/calcite-components/dist/components/calcite-dropdown-item/index.js":
/*!**********************************************************************************************!*\
  !*** ./node_modules/@esri/calcite-components/dist/components/calcite-dropdown-item/index.js ***!
  \**********************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   DropdownItem: () => (/* reexport safe */ _customElement_js__WEBPACK_IMPORTED_MODULE_1__.DropdownItem)
/* harmony export */ });
/* harmony import */ var _calcite_icon_index_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../calcite-icon/index.js */ "./node_modules/@esri/calcite-components/dist/components/calcite-icon/index.js");
/* harmony import */ var _customElement_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./customElement.js */ "./node_modules/@esri/calcite-components/dist/components/calcite-dropdown-item/customElement.js");



/***/ })

};

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmVuZG9ycy1ub2RlX21vZHVsZXNfZXNyaV9jYWxjaXRlLWNvbXBvbmVudHNfZGlzdF9jb21wb25lbnRzX2NhbGNpdGUtZHJvcGRvd24taXRlbV9pbmRleF9qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUlFOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNuQkY7QUFDQTtBQUNBO0FBQzZEO0FBQzdCO0FBQzRCO0FBQ2tDO0FBQ3JDO0FBQ0s7QUFDc0M7QUFDckM7QUFDRztBQUNsRSxlQUFlLHdDQUFHLE9BQU8sd0hBQXdILGtCQUFrQixlQUFlLHlCQUF5QixpQkFBaUIsd0NBQXdDLG1EQUFtRCxvQkFBb0IsTUFBTSxrQkFBa0IsYUFBYSxZQUFZLG1CQUFtQiwwQkFBMEIsV0FBVyxrQkFBa0IsYUFBYSxZQUFZLGVBQWUsbUJBQW1CLDBCQUEwQiwyRUFBMkUsaUJBQWlCLDBCQUEwQixhQUFhLGFBQWEsa0JBQWtCLGFBQWEsWUFBWSxlQUFlLG1CQUFtQiwwQkFBMEIsMkVBQTJFLHVCQUF1QixjQUFjLHNCQUFzQixvQkFBb0Isa0JBQWtCLFVBQVUsbURBQW1ELG9CQUFvQiw0QkFBNEIscUJBQXFCLHFCQUFxQixzQ0FBc0MsaUJBQWlCLGlGQUFpRiw2Q0FBNkMsMENBQTBDLCtDQUErQyw0QkFBNEIsb0JBQW9CLHNCQUFzQixzQ0FBc0MsaUJBQWlCLGlGQUFpRiw2Q0FBNkMsMENBQTBDLCtDQUErQyw0QkFBNEIsc0JBQXNCLG9CQUFvQixxQ0FBcUMsb0JBQW9CLGlGQUFpRiw2Q0FBNkMsMENBQTBDLCtDQUErQyx5QkFBeUIsMEJBQTBCLG1JQUFtSSxpRkFBaUYsMEhBQTBILHlDQUF5Qyx3R0FBd0csMENBQTBDLHdHQUF3RyxtRkFBbUYsMEJBQTBCLGlGQUFpRiwyRkFBMkYsaUZBQWlGLDhGQUE4Riw4Q0FBOEMs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Y2l0ZS1jb21wb25lbnRzL2Rpc3QvY2h1bmtzL3Jlc291cmNlczcuanMiLCJ3ZWJwYWNrOi8vcHJlY2lzaW9uZmFybXMvLi9ub2RlX21vZHVsZXMvQGVzcmkvY2FsY2l0ZS1jb21wb25lbnRzL2Rpc3QvY29tcG9uZW50cy9jYWxjaXRlLWRyb3Bkb3duLWl0ZW0vY3VzdG9tRWxlbWVudC5qcyIsIndlYnBhY2s6Ly9wcmVjaXNpb25mYXJtcy8uL25vZGVfbW9kdWxlcy9AZXNyaS9jYWxjaXRlLWNvbXBvbmVudHMvZGlzdC9jb21wb25lbnRzL2NhbGNpdGUtZHJvcGRvd24taXRlbS9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiEgQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2dpdGh1Yi5jb20vRXNyaS9jYWxjaXRlLWRlc2lnbi1zeXN0ZW0vYmxvYi9kZXYvTElDRU5TRS5tZCBmb3IgZGV0YWlscy5cbnYzLjMuMyAqL1xuY29uc3QgQ1NTID0ge1xuICBjb250YWluZXI6IFwiY29udGFpbmVyXCIsXG4gIGNvbnRhaW5lck5vbmU6IFwiY29udGFpbmVyLS1ub25lLXNlbGVjdGlvblwiLFxuICBpY29uOiBcImRyb3Bkb3duLWl0ZW0taWNvblwiLFxuICBpY29uRW5kOiBcImRyb3Bkb3duLWl0ZW0taWNvbi0tZW5kXCIsXG4gIGljb25TdGFydDogXCJkcm9wZG93bi1pdGVtLWljb24tLXN0YXJ0XCIsXG4gIGl0ZW1Db250ZW50OiBcImRyb3Bkb3duLWl0ZW0tY29udGVudFwiLFxuICBsaW5rOiBcImRyb3Bkb3duLWxpbmtcIlxufTtcbmNvbnN0IElDT05TID0ge1xuICBjaGVjazogXCJjaGVja1wiLFxuICBidWxsZXRQb2ludDogXCJidWxsZXQtcG9pbnRcIlxufTtcbmV4cG9ydCB7XG4gIENTUyBhcyBDLFxuICBJQ09OUyBhcyBJXG59O1xuIiwiLyohIEFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9naXRodWIuY29tL0VzcmkvY2FsY2l0ZS1kZXNpZ24tc3lzdGVtL2Jsb2IvZGV2L0xJQ0VOU0UubWQgZm9yIGRldGFpbHMuXG52My4zLjMgKi9cbmltcG9ydCB7IGMgYXMgY3VzdG9tRWxlbWVudCB9IGZyb20gXCIuLi8uLi9jaHVua3MvcnVudGltZS5qc1wiO1xuaW1wb3J0IHsgY3NzLCBodG1sIH0gZnJvbSBcImxpdFwiO1xuaW1wb3J0IHsgY3JlYXRlUmVmLCByZWYgfSBmcm9tIFwibGl0LWh0bWwvZGlyZWN0aXZlcy9yZWYuanNcIjtcbmltcG9ydCB7IExpdEVsZW1lbnQsIGNyZWF0ZUV2ZW50LCBzYWZlQ2xhc3NNYXAsIG5vdGhpbmcsIHNldEF0dHJpYnV0ZSB9IGZyb20gXCJAYXJjZ2lzL2x1bWluYVwiO1xuaW1wb3J0IHsgdCBhcyB0b0FyaWFCb29sZWFuIH0gZnJvbSBcIi4uLy4uL2NodW5rcy9kb20uanNcIjtcbmltcG9ydCB7IGcgYXMgZ2V0SWNvblNjYWxlIH0gZnJvbSBcIi4uLy4uL2NodW5rcy9jb21wb25lbnQuanNcIjtcbmltcG9ydCB7IHUgYXMgdXBkYXRlSG9zdEludGVyYWN0aW9uLCBJIGFzIEludGVyYWN0aXZlQ29udGFpbmVyIH0gZnJvbSBcIi4uLy4uL2NodW5rcy9pbnRlcmFjdGl2ZS5qc1wiO1xuaW1wb3J0IHsgdSBhcyB1c2VTZXRGb2N1cyB9IGZyb20gXCIuLi8uLi9jaHVua3MvdXNlU2V0Rm9jdXMuanNcIjtcbmltcG9ydCB7IEMgYXMgQ1NTLCBJIGFzIElDT05TIH0gZnJvbSBcIi4uLy4uL2NodW5rcy9yZXNvdXJjZXM3LmpzXCI7XG5jb25zdCBzdHlsZXMgPSBjc3NgOmhvc3R7LS1jYWxjaXRlLWludGVybmFsLWNvbG9yLWZvY3VzOiB2YXIoIC0tY2FsY2l0ZS1jb2xvci1mb2N1cywgdmFyKC0tY2FsY2l0ZS11aS1mb2N1cy1jb2xvciwgdmFyKC0tY2FsY2l0ZS1jb2xvci1icmFuZCkpICl9Omhvc3QoW2Rpc2FibGVkXSl7Y3Vyc29yOmRlZmF1bHQ7LXdlYmtpdC11c2VyLXNlbGVjdDpub25lO3VzZXItc2VsZWN0Om5vbmU7b3BhY2l0eTp2YXIoLS1jYWxjaXRlLW9wYWNpdHktZGlzYWJsZWQpfTpob3N0KFtkaXNhYmxlZF0pICosOmhvc3QoW2Rpc2FibGVkXSkgOjpzbG90dGVkKCope3BvaW50ZXItZXZlbnRzOm5vbmV9Omhvc3R7cG9zaXRpb246cmVsYXRpdmU7ZGlzcGxheTpmbGV4O2ZsZXgtZ3JvdzoxO2FsaWduLWl0ZW1zOmNlbnRlcjtvdXRsaW5lLWNvbG9yOnRyYW5zcGFyZW50fS5jb250YWluZXJ7cG9zaXRpb246cmVsYXRpdmU7ZGlzcGxheTpmbGV4O2ZsZXgtZ3JvdzoxO2N1cnNvcjpwb2ludGVyO2FsaWduLWl0ZW1zOmNlbnRlcjt0ZXh0LWRlY29yYXRpb24tbGluZTpub25lO2NvbG9yOnZhcigtLWNhbGNpdGUtZHJvcGRvd24taXRlbS10ZXh0LWNvbG9yLCB2YXIoLS1jYWxjaXRlLWNvbG9yLXRleHQtMykpO3RleHQtYWxpZ246c3RhcnQ7b3V0bGluZS1jb2xvcjp0cmFuc3BhcmVudH0uY29udGFpbmVyIGF7b3V0bGluZTpub25lO3Bvc2l0aW9uOnJlbGF0aXZlO2Rpc3BsYXk6ZmxleDtmbGV4LWdyb3c6MTtjdXJzb3I6cG9pbnRlcjthbGlnbi1pdGVtczpjZW50ZXI7dGV4dC1kZWNvcmF0aW9uLWxpbmU6bm9uZTtjb2xvcjp2YXIoLS1jYWxjaXRlLWRyb3Bkb3duLWl0ZW0tdGV4dC1jb2xvciwgdmFyKC0tY2FsY2l0ZS1jb2xvci10ZXh0LTMpKX0uZHJvcGRvd24taXRlbS1jb250ZW50e2ZsZXg6MSAxIGF1dG87cGFkZGluZy1ibG9jazouMTI1cmVtfS5kcm9wZG93bi1pdGVtLWljb257cG9zaXRpb246cmVsYXRpdmU7b3BhY2l0eTowO3RyYW5zaXRpb24tdGltaW5nLWZ1bmN0aW9uOmN1YmljLWJlemllciguNCwwLC4yLDEpO3RyYW5zZm9ybTpzY2FsZSguOSl9Omhvc3QoW3NjYWxlPXNdKSAuY29udGFpbmVye3BhZGRpbmctYmxvY2s6LjI1cmVtO3BhZGRpbmctaW5saW5lOi41cmVtO2ZvbnQtc2l6ZTp2YXIoLS1jYWxjaXRlLWZvbnQtc2l6ZS0tMik7bGluZS1oZWlnaHQ6MXJlbX06aG9zdChbc2NhbGU9c10pIC5kcm9wZG93bi1pdGVtLWljb24sOmhvc3QoW3NjYWxlPXNdKSAuZHJvcGRvd24taXRlbS1pY29uLS1zdGFydHtwYWRkaW5nLWlubGluZS1lbmQ6dmFyKC0tY2FsY2l0ZS1zcGFjaW5nLXNtKX06aG9zdChbc2NhbGU9c10pIC5kcm9wZG93bi1pdGVtLWljb24tLWVuZHtwYWRkaW5nLWlubGluZS1zdGFydDp2YXIoLS1jYWxjaXRlLXNwYWNpbmctc20pfTpob3N0KFtzY2FsZT1tXSkgLmNvbnRhaW5lcntwYWRkaW5nLWJsb2NrOi41cmVtO3BhZGRpbmctaW5saW5lOi43NXJlbTtmb250LXNpemU6dmFyKC0tY2FsY2l0ZS1mb250LXNpemUtLTEpO2xpbmUtaGVpZ2h0OjFyZW19Omhvc3QoW3NjYWxlPW1dKSAuZHJvcGRvd24taXRlbS1pY29uLDpob3N0KFtzY2FsZT1tXSkgLmRyb3Bkb3duLWl0ZW0taWNvbi0tc3RhcnR7cGFkZGluZy1pbmxpbmUtZW5kOnZhcigtLWNhbGNpdGUtc3BhY2luZy1tZCl9Omhvc3QoW3NjYWxlPW1dKSAuZHJvcGRvd24taXRlbS1pY29uLS1lbmR7cGFkZGluZy1pbmxpbmUtc3RhcnQ6dmFyKC0tY2FsY2l0ZS1zcGFjaW5nLW1kKX06aG9zdChbc2NhbGU9bF0pIC5jb250YWluZXJ7cGFkZGluZy1ibG9jazouNjI1cmVtO3BhZGRpbmctaW5saW5lOjFyZW07Zm9udC1zaXplOnZhcigtLWNhbGNpdGUtZm9udC1zaXplLTApO2xpbmUtaGVpZ2h0OjEuMjVyZW19Omhvc3QoW3NjYWxlPWxdKSAuZHJvcGRvd24taXRlbS1pY29uLDpob3N0KFtzY2FsZT1sXSkgLmRyb3Bkb3duLWl0ZW0taWNvbi0tc3RhcnR7cGFkZGluZy1pbmxpbmUtZW5kOnZhcigtLWNhbGNpdGUtc3BhY2luZy1sZyl9Omhvc3QoW3NjYWxlPWxdKSAuZHJvcGRvd24taXRlbS1pY29uLS1lbmR7cGFkZGluZy1pbmxpbmUtc3RhcnQ6dmFyKC0tY2FsY2l0ZS1zcGFjaW5nLWxnKX06aG9zdCg6Zm9jdXMpIC5jb250YWluZXJ7dGV4dC1kZWNvcmF0aW9uLWxpbmU6bm9uZTtvdXRsaW5lOnZhcigtLWNhbGNpdGUtYm9yZGVyLXdpZHRoLW1kKSBzb2xpZCB2YXIoLS1jYWxjaXRlLWNvbG9yLWZvY3VzLCB2YXIoLS1jYWxjaXRlLXVpLWZvY3VzLWNvbG9yLCB2YXIoLS1jYWxjaXRlLWNvbG9yLWJyYW5kKSkpO291dGxpbmU6dmFyKC0tY2FsY2l0ZS1ib3JkZXItd2lkdGgtbWQpIHNvbGlkIHZhcigtLWNhbGNpdGUtaW50ZXJuYWwtY29sb3ItZm9jdXMpO291dGxpbmUtb2Zmc2V0OmNhbGMoY2FsYygtMSAqIHZhcigtLWNhbGNpdGUtc3BhY2luZy1iYXNlKSkgKiBjYWxjKDEgLSAoMipjbGFtcCgwLHZhcigtLWNhbGNpdGUtb2Zmc2V0LWludmVydC1mb2N1cyksMSkpKSl9Omhvc3QoOmhvdmVyOm5vdChbZGlzYWJsZWRdKSkgLmNvbnRhaW5lcntiYWNrZ3JvdW5kLWNvbG9yOnZhcigtLWNhbGNpdGUtZHJvcGRvd24taXRlbS1iYWNrZ3JvdW5kLWNvbG9yLWhvdmVyLCB2YXIoLS1jYWxjaXRlLWNvbG9yLWZvcmVncm91bmQtMikpfTpob3N0KDphY3RpdmU6bm90KFtkaXNhYmxlZF0pKSAuY29udGFpbmVye2JhY2tncm91bmQtY29sb3I6dmFyKC0tY2FsY2l0ZS1kcm9wZG93bi1pdGVtLWJhY2tncm91bmQtY29sb3ItcHJlc3MsIHZhcigtLWNhbGNpdGUtY29sb3ItZm9yZWdyb3VuZC0zKSl9Omhvc3QoOmhvdmVyOm5vdChbZGlzYWJsZWRdKSkgLmNvbnRhaW5lciw6aG9zdCg6YWN0aXZlOm5vdChbZGlzYWJsZWRdKSkgLmNvbnRhaW5lcnt0ZXh0LWRlY29yYXRpb24tbGluZTpub25lO2NvbG9yOnZhcigtLWNhbGNpdGUtZHJvcGRvd24taXRlbS10ZXh0LWNvbG9yLXByZXNzLCB2YXIoLS1jYWxjaXRlLWNvbG9yLXRleHQtMSkpfTpob3N0KDpob3Zlcjpub3QoW2Rpc2FibGVkXSkpIC5kcm9wZG93bi1saW5rLDpob3N0KDphY3RpdmU6bm90KFtkaXNhYmxlZF0pKSAuZHJvcGRvd24tbGlua3tjb2xvcjp2YXIoLS1jYWxjaXRlLWRyb3Bkb3duLWl0ZW0tdGV4dC1jb2xvci1wcmVzcywgdmFyKC0tY2FsY2l0ZS1jb2xvci10ZXh0LTEpKX06aG9zdChbc2VsZWN0ZWRdKSAuY29udGFpbmVyOm5vdCguY29udGFpbmVyLS1ub25lLXNlbGVjdGlvbiksOmhvc3QoW3NlbGVjdGVkXSkgLmRyb3Bkb3duLWxpbmt7Zm9udC13ZWlnaHQ6dmFyKC0tY2FsY2l0ZS1mb250LXdlaWdodC1tZWRpdW0pO2NvbG9yOnZhcigtLWNhbGNpdGUtZHJvcGRvd24taXRlbS10ZXh0LWNvbG9yLXByZXNzLCB2YXIoLS1jYWxjaXRlLWNvbG9yLXRleHQtMSkpfTpob3N0KFtzZWxlY3RlZF0pIC5jb250YWluZXI6bm90KC5jb250YWluZXItLW5vbmUtc2VsZWN0aW9uKSBjYWxjaXRlLWljb24sOmhvc3QoW3NlbGVjdGVkXSkgLmRyb3Bkb3duLWxpbmsgY2FsY2l0ZS1pY29ue2NvbG9yOnZhcigtLWNhbGNpdGUtZHJvcGRvd24taXRlbS1pY29uLWNvbG9yLXByZXNzLCB2YXIoLS1jYWxjaXRlLWNvbG9yLWJyYW5kKSl9Omhvc3QoOmhvdmVyOm5vdChbZGlzYWJsZWRdKSkgLmRyb3Bkb3duLWl0ZW0taWNvbntjb2xvcjp2YXIoLS1jYWxjaXRlLWRyb3Bkb3duLWl0ZW0taWNvbi1jb2xvci1ob3Zlcil9Omhvc3QoW3NlbGVjdGVkXSkgLmRyb3Bkb3duLWl0ZW0taWNvbntvcGFjaXR5OjF9Omhvc3QoW2hpZGRlbl0pe2Rpc3BsYXk6bm9uZX1baGlkZGVuXXtkaXNwbGF5Om5vbmV9Omhvc3QoW2Rpc2FibGVkXSkgOjpzbG90dGVkKFtjYWxjaXRlLWh5ZHJhdGVkXVtkaXNhYmxlZF0pLDpob3N0KFtkaXNhYmxlZF0pIFtjYWxjaXRlLWh5ZHJhdGVkXVtkaXNhYmxlZF17b3BhY2l0eToxfS5pbnRlcmFjdGlvbi1jb250YWluZXJ7ZGlzcGxheTpjb250ZW50c31gO1xuY2xhc3MgRHJvcGRvd25JdGVtIGV4dGVuZHMgTGl0RWxlbWVudCB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5jaGlsZExpbmsgPSBjcmVhdGVSZWYoKTtcbiAgICB0aGlzLmZvY3VzU2V0dGVyID0gdXNlU2V0Rm9jdXMoKSh0aGlzKTtcbiAgICB0aGlzLmRpc2FibGVkID0gZmFsc2U7XG4gICAgdGhpcy5zY2FsZSA9IFwibVwiO1xuICAgIHRoaXMuc2VsZWN0ZWQgPSBmYWxzZTtcbiAgICB0aGlzLnNlbGVjdGlvbk1vZGUgPSBcInNpbmdsZVwiO1xuICAgIHRoaXMuY2FsY2l0ZURyb3Bkb3duSXRlbVNlbGVjdCA9IGNyZWF0ZUV2ZW50KHsgY2FuY2VsYWJsZTogZmFsc2UgfSk7XG4gICAgdGhpcy5jYWxjaXRlSW50ZXJuYWxEcm9wZG93bkNsb3NlUmVxdWVzdCA9IGNyZWF0ZUV2ZW50KHsgY2FuY2VsYWJsZTogZmFsc2UgfSk7XG4gICAgdGhpcy5jYWxjaXRlSW50ZXJuYWxEcm9wZG93bkl0ZW1LZXlFdmVudCA9IGNyZWF0ZUV2ZW50KHsgY2FuY2VsYWJsZTogZmFsc2UgfSk7XG4gICAgdGhpcy5jYWxjaXRlSW50ZXJuYWxEcm9wZG93bkl0ZW1TZWxlY3QgPSBjcmVhdGVFdmVudCh7IGNhbmNlbGFibGU6IGZhbHNlIH0pO1xuICAgIHRoaXMubGlzdGVuKFwiY2xpY2tcIiwgdGhpcy5vbkNsaWNrKTtcbiAgICB0aGlzLmxpc3RlbihcImtleWRvd25cIiwgdGhpcy5rZXlEb3duSGFuZGxlcik7XG4gICAgdGhpcy5saXN0ZW5Pbihkb2N1bWVudC5ib2R5LCBcImNhbGNpdGVJbnRlcm5hbERyb3Bkb3duSXRlbUNoYW5nZVwiLCB0aGlzLnVwZGF0ZUFjdGl2ZUl0ZW1PbkNoYW5nZSk7XG4gIH1cbiAgc3RhdGljIHtcbiAgICB0aGlzLnByb3BlcnRpZXMgPSB7IGRpc2FibGVkOiBbNywge30sIHsgcmVmbGVjdDogdHJ1ZSwgdHlwZTogQm9vbGVhbiB9XSwgaHJlZjogWzMsIHt9LCB7IHJlZmxlY3Q6IHRydWUgfV0sIGljb25FbmQ6IFszLCB7fSwgeyByZWZsZWN0OiB0cnVlIH1dLCBpY29uRmxpcFJ0bDogWzMsIHt9LCB7IHJlZmxlY3Q6IHRydWUgfV0sIGljb25TdGFydDogWzMsIHt9LCB7IHJlZmxlY3Q6IHRydWUgfV0sIGxhYmVsOiAxLCByZWw6IFszLCB7fSwgeyByZWZsZWN0OiB0cnVlIH1dLCBzY2FsZTogWzMsIHt9LCB7IHJlZmxlY3Q6IHRydWUgfV0sIHNlbGVjdGVkOiBbNywge30sIHsgcmVmbGVjdDogdHJ1ZSwgdHlwZTogQm9vbGVhbiB9XSwgc2VsZWN0aW9uTW9kZTogMSwgdGFyZ2V0OiBbMywge30sIHsgcmVmbGVjdDogdHJ1ZSB9XSB9O1xuICB9XG4gIHN0YXRpYyB7XG4gICAgdGhpcy5zdHlsZXMgPSBzdHlsZXM7XG4gIH1cbiAgYXN5bmMgc2V0Rm9jdXMob3B0aW9ucykge1xuICAgIHJldHVybiB0aGlzLmZvY3VzU2V0dGVyKCgpID0+IHtcbiAgICAgIHJldHVybiB0aGlzLmVsO1xuICAgIH0sIG9wdGlvbnMpO1xuICB9XG4gIGNvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgIHN1cGVyLmNvbm5lY3RlZENhbGxiYWNrKCk7XG4gICAgdGhpcy5pbml0aWFsaXplKCk7XG4gIH1cbiAgbG9hZCgpIHtcbiAgICB0aGlzLmluaXRpYWxpemUoKTtcbiAgfVxuICB1cGRhdGVkKCkge1xuICAgIHVwZGF0ZUhvc3RJbnRlcmFjdGlvbih0aGlzKTtcbiAgfVxuICBvbkNsaWNrKCkge1xuICAgIHRoaXMuZW1pdFJlcXVlc3RlZEl0ZW0oKTtcbiAgfVxuICBrZXlEb3duSGFuZGxlcihldmVudCkge1xuICAgIHN3aXRjaCAoZXZlbnQua2V5KSB7XG4gICAgICBjYXNlIFwiIFwiOlxuICAgICAgY2FzZSBcIkVudGVyXCI6XG4gICAgICAgIHRoaXMuZW1pdFJlcXVlc3RlZEl0ZW0oKTtcbiAgICAgICAgaWYgKHRoaXMuaHJlZikge1xuICAgICAgICAgIHRoaXMuY2hpbGRMaW5rLnZhbHVlLmNsaWNrKCk7XG4gICAgICAgIH1cbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiRXNjYXBlXCI6XG4gICAgICAgIHRoaXMuY2FsY2l0ZUludGVybmFsRHJvcGRvd25DbG9zZVJlcXVlc3QuZW1pdCgpO1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJUYWJcIjpcbiAgICAgICAgdGhpcy5jYWxjaXRlSW50ZXJuYWxEcm9wZG93bkl0ZW1LZXlFdmVudC5lbWl0KHsga2V5Ym9hcmRFdmVudDogZXZlbnQgfSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcIkFycm93VXBcIjpcbiAgICAgIGNhc2UgXCJBcnJvd0Rvd25cIjpcbiAgICAgIGNhc2UgXCJIb21lXCI6XG4gICAgICBjYXNlIFwiRW5kXCI6XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIHRoaXMuY2FsY2l0ZUludGVybmFsRHJvcGRvd25JdGVtS2V5RXZlbnQuZW1pdCh7IGtleWJvYXJkRXZlbnQ6IGV2ZW50IH0pO1xuICAgICAgICBicmVhaztcbiAgICB9XG4gIH1cbiAgdXBkYXRlQWN0aXZlSXRlbU9uQ2hhbmdlKGV2ZW50KSB7XG4gICAgY29uc3QgcGFyZW50RW1pdHRlZENoYW5nZSA9IGV2ZW50LmNvbXBvc2VkUGF0aCgpLmluY2x1ZGVzKHRoaXMucGFyZW50RHJvcGRvd25Hcm91cEVsKTtcbiAgICBpZiAocGFyZW50RW1pdHRlZENoYW5nZSkge1xuICAgICAgdGhpcy5yZXF1ZXN0ZWREcm9wZG93bkdyb3VwID0gZXZlbnQuZGV0YWlsLnJlcXVlc3RlZERyb3Bkb3duR3JvdXA7XG4gICAgICB0aGlzLnJlcXVlc3RlZERyb3Bkb3duSXRlbSA9IGV2ZW50LmRldGFpbC5yZXF1ZXN0ZWREcm9wZG93bkl0ZW07XG4gICAgICB0aGlzLmRldGVybWluZUFjdGl2ZUl0ZW0oKTtcbiAgICB9XG4gICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gIH1cbiAgaW5pdGlhbGl6ZSgpIHtcbiAgICB0aGlzLnBhcmVudERyb3Bkb3duR3JvdXBFbCA9IHRoaXMuZWwuY2xvc2VzdChcImNhbGNpdGUtZHJvcGRvd24tZ3JvdXBcIik7XG4gICAgaWYgKHRoaXMuc2VsZWN0aW9uTW9kZSA9PT0gXCJub25lXCIpIHtcbiAgICAgIHRoaXMuc2VsZWN0ZWQgPSBmYWxzZTtcbiAgICB9XG4gIH1cbiAgZGV0ZXJtaW5lQWN0aXZlSXRlbSgpIHtcbiAgICBzd2l0Y2ggKHRoaXMuc2VsZWN0aW9uTW9kZSkge1xuICAgICAgY2FzZSBcIm11bHRpcGxlXCI6XG4gICAgICAgIGlmICh0aGlzLmVsID09PSB0aGlzLnJlcXVlc3RlZERyb3Bkb3duSXRlbSkge1xuICAgICAgICAgIHRoaXMuc2VsZWN0ZWQgPSAhdGhpcy5zZWxlY3RlZDtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJzaW5nbGVcIjpcbiAgICAgICAgaWYgKHRoaXMuZWwgPT09IHRoaXMucmVxdWVzdGVkRHJvcGRvd25JdGVtKSB7XG4gICAgICAgICAgdGhpcy5zZWxlY3RlZCA9IHRydWU7XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5yZXF1ZXN0ZWREcm9wZG93bkdyb3VwID09PSB0aGlzLnBhcmVudERyb3Bkb3duR3JvdXBFbCkge1xuICAgICAgICAgIHRoaXMuc2VsZWN0ZWQgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJub25lXCI6XG4gICAgICAgIHRoaXMuc2VsZWN0ZWQgPSBmYWxzZTtcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG4gIGVtaXRSZXF1ZXN0ZWRJdGVtKCkge1xuICAgIHRoaXMuY2FsY2l0ZURyb3Bkb3duSXRlbVNlbGVjdC5lbWl0KCk7XG4gICAgdGhpcy5jYWxjaXRlSW50ZXJuYWxEcm9wZG93bkl0ZW1TZWxlY3QuZW1pdCh7XG4gICAgICByZXF1ZXN0ZWREcm9wZG93bkl0ZW06IHRoaXMuZWwsXG4gICAgICByZXF1ZXN0ZWREcm9wZG93bkdyb3VwOiB0aGlzLnBhcmVudERyb3Bkb3duR3JvdXBFbFxuICAgIH0pO1xuICB9XG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB7IGhyZWYsIHNlbGVjdGlvbk1vZGUsIGxhYmVsLCBpY29uRmxpcFJ0bCB9ID0gdGhpcztcbiAgICBjb25zdCBpY29uU3RhcnRFbCA9IGh0bWxgPGNhbGNpdGUtaWNvbiBjbGFzcz0ke3NhZmVDbGFzc01hcChDU1MuaWNvblN0YXJ0KX0gLmZsaXBSdGw9JHtpY29uRmxpcFJ0bCA9PT0gXCJzdGFydFwiIHx8IGljb25GbGlwUnRsID09PSBcImJvdGhcIn0gLmljb249JHt0aGlzLmljb25TdGFydH0gLnNjYWxlPSR7Z2V0SWNvblNjYWxlKHRoaXMuc2NhbGUpfT48L2NhbGNpdGUtaWNvbj5gO1xuICAgIGNvbnN0IGNvbnRlbnROb2RlID0gaHRtbGA8c3BhbiBjbGFzcz0ke3NhZmVDbGFzc01hcChDU1MuaXRlbUNvbnRlbnQpfT48c2xvdD48L3Nsb3Q+PC9zcGFuPmA7XG4gICAgY29uc3QgaWNvbkVuZEVsID0gaHRtbGA8Y2FsY2l0ZS1pY29uIGNsYXNzPSR7c2FmZUNsYXNzTWFwKENTUy5pY29uRW5kKX0gLmZsaXBSdGw9JHtpY29uRmxpcFJ0bCA9PT0gXCJlbmRcIiB8fCBpY29uRmxpcFJ0bCA9PT0gXCJib3RoXCJ9IC5pY29uPSR7dGhpcy5pY29uRW5kfSAuc2NhbGU9JHtnZXRJY29uU2NhbGUodGhpcy5zY2FsZSl9PjwvY2FsY2l0ZS1pY29uPmA7XG4gICAgY29uc3Qgc2xvdHRlZENvbnRlbnQgPSB0aGlzLmljb25TdGFydCAmJiB0aGlzLmljb25FbmQgPyBbaWNvblN0YXJ0RWwsIGNvbnRlbnROb2RlLCBpY29uRW5kRWxdIDogdGhpcy5pY29uU3RhcnQgPyBbaWNvblN0YXJ0RWwsIGNvbnRlbnROb2RlXSA6IHRoaXMuaWNvbkVuZCA/IFtjb250ZW50Tm9kZSwgaWNvbkVuZEVsXSA6IGNvbnRlbnROb2RlO1xuICAgIGNvbnN0IGNvbnRlbnRFbCA9ICFocmVmID8gc2xvdHRlZENvbnRlbnQgOiBodG1sYDxhIC5hcmlhTGFiZWw9JHtsYWJlbH0gY2xhc3M9JHtzYWZlQ2xhc3NNYXAoQ1NTLmxpbmspfSBocmVmPSR7aHJlZiA/PyBub3RoaW5nfSByZWw9JHt0aGlzLnJlbCA/PyBub3RoaW5nfSB0YWJpbmRleD0tMSB0YXJnZXQ9JHt0aGlzLnRhcmdldCA/PyBub3RoaW5nfSAke3JlZih0aGlzLmNoaWxkTGluayl9PiR7c2xvdHRlZENvbnRlbnR9PC9hPmA7XG4gICAgY29uc3QgaXRlbVJvbGUgPSBocmVmID8gbnVsbCA6IHNlbGVjdGlvbk1vZGUgPT09IFwic2luZ2xlXCIgPyBcIm1lbnVpdGVtcmFkaW9cIiA6IHNlbGVjdGlvbk1vZGUgPT09IFwibXVsdGlwbGVcIiA/IFwibWVudWl0ZW1jaGVja2JveFwiIDogXCJtZW51aXRlbVwiO1xuICAgIGNvbnN0IGl0ZW1BcmlhID0gc2VsZWN0aW9uTW9kZSAhPT0gXCJub25lXCIgPyB0b0FyaWFCb29sZWFuKHRoaXMuc2VsZWN0ZWQpIDogbnVsbDtcbiAgICBjb25zdCB7IGRpc2FibGVkIH0gPSB0aGlzO1xuICAgIHRoaXMuZWwuYXJpYUNoZWNrZWQgPSBpdGVtQXJpYTtcbiAgICB0aGlzLmVsLmFyaWFMYWJlbCA9ICFocmVmID8gbGFiZWwgOiBcIlwiO1xuICAgIHRoaXMuZWwucm9sZSA9IGl0ZW1Sb2xlO1xuICAgIHNldEF0dHJpYnV0ZSh0aGlzLmVsLCBcInRhYkluZGV4XCIsIGRpc2FibGVkID8gLTEgOiAwKTtcbiAgICByZXR1cm4gSW50ZXJhY3RpdmVDb250YWluZXIoeyBkaXNhYmxlZCwgY2hpbGRyZW46IGh0bWxgPGRpdiBjbGFzcz0ke3NhZmVDbGFzc01hcCh7XG4gICAgICBbQ1NTLmNvbnRhaW5lcl06IHRydWUsXG4gICAgICBbQ1NTLmNvbnRhaW5lck5vbmVdOiBzZWxlY3Rpb25Nb2RlID09PSBcIm5vbmVcIlxuICAgIH0pfT4ke3NlbGVjdGlvbk1vZGUgIT09IFwibm9uZVwiID8gaHRtbGA8Y2FsY2l0ZS1pY29uIGNsYXNzPSR7c2FmZUNsYXNzTWFwKENTUy5pY29uKX0gLmljb249JHtzZWxlY3Rpb25Nb2RlID09PSBcIm11bHRpcGxlXCIgPyBJQ09OUy5jaGVjayA6IElDT05TLmJ1bGxldFBvaW50fSAuc2NhbGU9JHtnZXRJY29uU2NhbGUodGhpcy5zY2FsZSl9PjwvY2FsY2l0ZS1pY29uPmAgOiBudWxsfSR7Y29udGVudEVsfTwvZGl2PmAgfSk7XG4gIH1cbn1cbmN1c3RvbUVsZW1lbnQoXCJjYWxjaXRlLWRyb3Bkb3duLWl0ZW1cIiwgRHJvcGRvd25JdGVtKTtcbmV4cG9ydCB7XG4gIERyb3Bkb3duSXRlbVxufTtcbiIsImltcG9ydCBcIi4uL2NhbGNpdGUtaWNvbi9pbmRleC5qc1wiO1xuZXhwb3J0ICogZnJvbSBcIi4vY3VzdG9tRWxlbWVudC5qc1wiOyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==