export const __webpack_id__ = "vendors-node_modules_arcgis_core_views_3d_interactive_visualElements_LaserlineVisualElement_js";
export const __webpack_ids__ = ["vendors-node_modules_arcgis_core_views_3d_interactive_visualElements_LaserlineVisualElement_js"];
export const __webpack_modules__ = {

/***/ "./node_modules/@arcgis/core/chunks/LaserlinePath.glsl.js":
/*!****************************************************************!*\
  !*** ./node_modules/@arcgis/core/chunks/LaserlinePath.glsl.js ***!
  \****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   L: () => (/* binding */ u),
/* harmony export */   b: () => (/* binding */ w)
/* harmony export */ });
/* harmony import */ var _core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../core/libs/gl-matrix-2/math/mat4.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/math/mat4.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_mat4f64_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../core/libs/gl-matrix-2/factories/mat4f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/mat4f64.js");
/* harmony import */ var _core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../core/libs/gl-matrix-2/math/vec2.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/math/vec2.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_vec2f64_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../core/libs/gl-matrix-2/factories/vec2f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/vec2f64.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_Laserline_glsl_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/Laserline.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/Laserline.glsl.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_Float2BindUniform_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/Float2BindUniform.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Float2BindUniform.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_FloatBindUniform_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/FloatBindUniform.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/FloatBindUniform.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/FloatPassUniform.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/FloatPassUniform.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_glsl_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/glsl.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_Matrix4BindUniform_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/Matrix4BindUniform.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Matrix4BindUniform.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_Matrix4PassUniform_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/Matrix4PassUniform.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Matrix4PassUniform.js");
/* harmony import */ var _views_3d_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../views/3d/webgl-engine/lib/VertexAttribute.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/VertexAttribute.js");
/* harmony import */ var _views_webgl_ShaderBuilder_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../views/webgl/ShaderBuilder.js */ "./node_modules/@arcgis/core/views/webgl/ShaderBuilder.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
function w(t){const r=new _views_webgl_ShaderBuilder_js__WEBPACK_IMPORTED_MODULE_12__.ShaderBuilder;r.include(_views_3d_webgl_engine_core_shaderLibrary_Laserline_glsl_js__WEBPACK_IMPORTED_MODULE_4__.Laserline,t);const{vertex:w,fragment:u}=r;w.uniforms.add(new _views_3d_webgl_engine_core_shaderModules_Matrix4PassUniform_js__WEBPACK_IMPORTED_MODULE_10__.Matrix4PassUniform("modelView",((t,{camera:o})=>(0,_core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_0__.translate)(f,o.viewMatrix,t.origin))),new _views_3d_webgl_engine_core_shaderModules_Matrix4BindUniform_js__WEBPACK_IMPORTED_MODULE_9__.Matrix4BindUniform("proj",(({camera:e})=>e.projectionMatrix)),new _views_3d_webgl_engine_core_shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_7__.FloatPassUniform("glowWidth",((e,{camera:t})=>e.glowWidth*t.pixelRatio)),new _views_3d_webgl_engine_core_shaderModules_Float2BindUniform_js__WEBPACK_IMPORTED_MODULE_5__.Float2BindUniform("pixelToNDC",(({camera:e})=>(0,_core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_2__.set)(g,2/e.fullViewport[2],2/e.fullViewport[3])))),r.attributes.add(_views_3d_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_11__.VertexAttribute.START,"vec3"),r.attributes.add(_views_3d_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_11__.VertexAttribute.END,"vec3"),t.spherical&&(r.attributes.add(_views_3d_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_11__.VertexAttribute.START_UP,"vec3"),r.attributes.add(_views_3d_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_11__.VertexAttribute.END_UP,"vec3")),r.attributes.add(_views_3d_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_11__.VertexAttribute.EXTRUDE,"vec2"),r.varyings.add("uv","vec2"),r.varyings.add("vViewStart","vec3"),r.varyings.add("vViewEnd","vec3"),r.varyings.add("vViewSegmentNormal","vec3"),r.varyings.add("vViewStartNormal","vec3"),r.varyings.add("vViewEndNormal","vec3");const h=!t.spherical;return w.main.add((0,_views_3d_webgl_engine_core_shaderModules_glsl_js__WEBPACK_IMPORTED_MODULE_8__.glsl)`
    vec3 pos = mix(start, end, extrude.x);

    vec4 viewPos = modelView * vec4(pos, 1);
    vec4 projPos = proj * viewPos;
    vec2 ndcPos = projPos.xy / projPos.w;

    // in planar we hardcode the up vectors to be Z-up */
    ${(0,_views_3d_webgl_engine_core_shaderModules_glsl_js__WEBPACK_IMPORTED_MODULE_8__.If)(h,(0,_views_3d_webgl_engine_core_shaderModules_glsl_js__WEBPACK_IMPORTED_MODULE_8__.glsl)`vec3 startUp = vec3(0, 0, 1);`)}
    ${(0,_views_3d_webgl_engine_core_shaderModules_glsl_js__WEBPACK_IMPORTED_MODULE_8__.If)(h,(0,_views_3d_webgl_engine_core_shaderModules_glsl_js__WEBPACK_IMPORTED_MODULE_8__.glsl)`vec3 endUp = vec3(0, 0, 1);`)}

    // up vector corresponding to the location of the vertex, selecting either startUp or endUp */
    vec3 up = extrude.y * mix(startUp, endUp, extrude.x);
    vec3 viewUp = (modelView * vec4(up, 0)).xyz;

    vec4 projPosUp = proj * vec4(viewPos.xyz + viewUp, 1);
    vec2 projUp = normalize(projPosUp.xy / projPosUp.w - ndcPos);

    // extrude ndcPos along projUp to the edge of the screen
    vec2 lxy = abs(sign(projUp) - ndcPos);
    ndcPos += length(lxy) * projUp;

    vViewStart = (modelView * vec4(start, 1)).xyz;
    vViewEnd = (modelView * vec4(end, 1)).xyz;

    vec3 viewStartEndDir = vViewEnd - vViewStart;

    vec3 viewStartUp = (modelView * vec4(startUp, 0)).xyz;

    // the normal of the plane that aligns with the segment and the up vector
    vViewSegmentNormal = normalize(cross(viewStartUp, viewStartEndDir));

    // the normal orthogonal to the segment normal and the start up vector
    vViewStartNormal = -normalize(cross(vViewSegmentNormal, viewStartUp));

    // the normal orthogonal to the segment normal and the end up vector
    vec3 viewEndUp = (modelView * vec4(endUp, 0)).xyz;
    vViewEndNormal = normalize(cross(vViewSegmentNormal, viewEndUp));

    // Add enough padding in the X screen space direction for "glow"
    float xPaddingPixels = sign(dot(vViewSegmentNormal, viewPos.xyz)) * (extrude.x * 2.0 - 1.0) * glowWidth;
    ndcPos.x += xPaddingPixels * pixelToNDC.x;

    // uv is used to read back depth to reconstruct the position at the fragment
    uv = ndcPos * 0.5 + 0.5;

    gl_Position = vec4(ndcPos, 0, 1);
  `),u.uniforms.add(new _views_3d_webgl_engine_core_shaderModules_FloatBindUniform_js__WEBPACK_IMPORTED_MODULE_6__.FloatBindUniform("perScreenPixelRatio",(e=>e.camera.perScreenPixelRatio))),u.code.add((0,_views_3d_webgl_engine_core_shaderModules_glsl_js__WEBPACK_IMPORTED_MODULE_8__.glsl)`float planeDistance(vec3 planeNormal, vec3 planeOrigin, vec3 pos) {
return dot(planeNormal, pos - planeOrigin);
}
float segmentDistancePixels(vec3 segmentNormal, vec3 startNormal, vec3 endNormal, vec3 pos, vec3 start, vec3 end) {
float distSegmentPlane = planeDistance(segmentNormal, start, pos);
float distStartPlane = planeDistance(startNormal, start, pos);
float distEndPlane = planeDistance(endNormal, end, pos);
float dist = max(max(distStartPlane, distEndPlane), abs(distSegmentPlane));
float width = fwidth(distSegmentPlane);
float maxPixelDistance = length(pos) * perScreenPixelRatio * 2.0;
float pixelDist = dist / min(width, maxPixelDistance);
return abs(pixelDist);
}`),u.main.add((0,_views_3d_webgl_engine_core_shaderModules_glsl_js__WEBPACK_IMPORTED_MODULE_8__.glsl)`fragColor = vec4(0.0);
vec3 dEndStart = vViewEnd - vViewStart;
if (dot(dEndStart, dEndStart) < 1e-5) {
return;
}
vec3 pos;
vec3 normal;
float angleCutoffAdjust;
float depthDiscontinuityAlpha;
if (!laserlineReconstructFromDepth(pos, normal, angleCutoffAdjust, depthDiscontinuityAlpha)) {
return;
}
float distance = segmentDistancePixels(
vViewSegmentNormal,
vViewStartNormal,
vViewEndNormal,
pos,
vViewStart,
vViewEnd
);
vec4 color = laserlineProfile(distance);
float alpha = (1.0 - smoothstep(0.995 - angleCutoffAdjust, 0.999 - angleCutoffAdjust, abs(dot(normal, vViewSegmentNormal))));
fragColor = laserlineOutput(color * alpha * depthDiscontinuityAlpha);`),r}const g=(0,_core_libs_gl_matrix_2_factories_vec2f64_js__WEBPACK_IMPORTED_MODULE_3__.create)(),f=(0,_core_libs_gl_matrix_2_factories_mat4f64_js__WEBPACK_IMPORTED_MODULE_1__.create)(),u=Object.freeze(Object.defineProperty({__proto__:null,build:w},Symbol.toStringTag,{value:"Module"}));


/***/ }),

/***/ "./node_modules/@arcgis/core/chunks/Laserlines.glsl.js":
/*!*************************************************************!*\
  !*** ./node_modules/@arcgis/core/chunks/Laserlines.glsl.js ***!
  \*************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   L: () => (/* binding */ $),
/* harmony export */   b: () => (/* binding */ y),
/* harmony export */   d: () => (/* binding */ V)
/* harmony export */ });
/* harmony import */ var _core_mathUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../core/mathUtils.js */ "./node_modules/@arcgis/core/core/mathUtils.js");
/* harmony import */ var _core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../core/libs/gl-matrix-2/math/vec2.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/math/vec2.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_vec2f64_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../core/libs/gl-matrix-2/factories/vec2f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/vec2f64.js");
/* harmony import */ var _vec32_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./vec32.js */ "./node_modules/@arcgis/core/chunks/vec32.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../core/libs/gl-matrix-2/factories/vec3f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/vec3f64.js");
/* harmony import */ var _vec42_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./vec42.js */ "./node_modules/@arcgis/core/chunks/vec42.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_vec4f64_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../core/libs/gl-matrix-2/factories/vec4f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/vec4f64.js");
/* harmony import */ var _geometry_support_lineSegment_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../geometry/support/lineSegment.js */ "./node_modules/@arcgis/core/geometry/support/lineSegment.js");
/* harmony import */ var _geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../geometry/support/plane.js */ "./node_modules/@arcgis/core/geometry/support/plane.js");
/* harmony import */ var _sphere_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./sphere.js */ "./node_modules/@arcgis/core/chunks/sphere.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_Laserline_glsl_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/Laserline.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/Laserline.glsl.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_ScreenSpacePass_glsl_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/ScreenSpacePass.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/ScreenSpacePass.glsl.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_Float2PassUniform_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/Float2PassUniform.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Float2PassUniform.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_Float3BindUniform_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/Float3BindUniform.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Float3BindUniform.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_Float3PassUniform_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/Float3PassUniform.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Float3PassUniform.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_Float4PassUniform_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/Float4PassUniform.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Float4PassUniform.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_FloatBindUniform_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/FloatBindUniform.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/FloatBindUniform.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/FloatPassUniform.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/FloatPassUniform.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_glsl_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/glsl.js");
/* harmony import */ var _views_webgl_ShaderBuilder_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../views/webgl/ShaderBuilder.js */ "./node_modules/@arcgis/core/views/webgl/ShaderBuilder.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
const V=(0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_0__.deg2rad)(6);function y(e){const i=new _views_webgl_ShaderBuilder_js__WEBPACK_IMPORTED_MODULE_19__.ShaderBuilder;i.include(_views_3d_webgl_engine_core_shaderLibrary_ScreenSpacePass_glsl_js__WEBPACK_IMPORTED_MODULE_11__.ScreenSpacePass),i.include(_views_3d_webgl_engine_core_shaderLibrary_Laserline_glsl_js__WEBPACK_IMPORTED_MODULE_10__.Laserline,e);const t=i.fragment;if(e.lineVerticalPlaneEnabled||e.heightManifoldEnabled)if(t.uniforms.add(new _views_3d_webgl_engine_core_shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_17__.FloatPassUniform("maxPixelDistance",((i,t)=>e.heightManifoldEnabled?2*t.camera.computeScreenPixelSizeAt(i.heightManifoldTarget):2*t.camera.computeScreenPixelSizeAt(i.lineVerticalPlaneSegment.origin)))),t.code.add((0,_views_3d_webgl_engine_core_shaderModules_glsl_js__WEBPACK_IMPORTED_MODULE_18__.glsl)`float planeDistancePixels(vec4 plane, vec3 pos) {
float dist = dot(plane.xyz, pos) + plane.w;
float width = fwidth(dist);
dist /= min(width, maxPixelDistance);
return abs(dist);
}`),e.spherical){const e=(e,i,t)=>(0,_vec32_js__WEBPACK_IMPORTED_MODULE_3__.t)(e,i.heightManifoldTarget,t.camera.viewMatrix),i=(e,i)=>(0,_vec32_js__WEBPACK_IMPORTED_MODULE_3__.t)(e,[0,0,0],i.camera.viewMatrix);t.uniforms.add(new _views_3d_webgl_engine_core_shaderModules_Float4PassUniform_js__WEBPACK_IMPORTED_MODULE_15__.Float4PassUniform("heightManifoldOrigin",((t,n)=>(e(F,t,n),i(H,n),(0,_vec32_js__WEBPACK_IMPORTED_MODULE_3__.d)(H,H,F),(0,_vec32_js__WEBPACK_IMPORTED_MODULE_3__.n)(G,H),G[3]=(0,_vec32_js__WEBPACK_IMPORTED_MODULE_3__.l)(H),G))),new _views_3d_webgl_engine_core_shaderModules_Float3BindUniform_js__WEBPACK_IMPORTED_MODULE_13__.Float3BindUniform("globalOrigin",(e=>i(F,e))),new _views_3d_webgl_engine_core_shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_17__.FloatPassUniform("cosSphericalAngleThreshold",((e,i)=>1-Math.max(2,(0,_vec32_js__WEBPACK_IMPORTED_MODULE_3__.j)(i.camera.eye,e.heightManifoldTarget)*i.camera.perRenderPixelRatio)/(0,_vec32_js__WEBPACK_IMPORTED_MODULE_3__.l)(e.heightManifoldTarget)))),t.code.add((0,_views_3d_webgl_engine_core_shaderModules_glsl_js__WEBPACK_IMPORTED_MODULE_18__.glsl)`float globeDistancePixels(float posInGlobalOriginLength) {
float dist = abs(posInGlobalOriginLength - heightManifoldOrigin.w);
float width = fwidth(dist);
dist /= min(width, maxPixelDistance);
return abs(dist);
}
float heightManifoldDistancePixels(vec4 heightPlane, vec3 pos) {
vec3 posInGlobalOriginNorm = normalize(globalOrigin - pos);
float cosAngle = dot(posInGlobalOriginNorm, heightManifoldOrigin.xyz);
vec3 posInGlobalOrigin = globalOrigin - pos;
float posInGlobalOriginLength = length(posInGlobalOrigin);
float sphericalDistance = globeDistancePixels(posInGlobalOriginLength);
float planarDistance = planeDistancePixels(heightPlane, pos);
return cosAngle < cosSphericalAngleThreshold ? sphericalDistance : planarDistance;
}`)}else t.code.add((0,_views_3d_webgl_engine_core_shaderModules_glsl_js__WEBPACK_IMPORTED_MODULE_18__.glsl)`float heightManifoldDistancePixels(vec4 heightPlane, vec3 pos) {
return planeDistancePixels(heightPlane, pos);
}`);if(e.pointDistanceEnabled&&(t.uniforms.add(new _views_3d_webgl_engine_core_shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_17__.FloatPassUniform("maxPixelDistance",((e,i)=>2*i.camera.computeScreenPixelSizeAt(e.pointDistanceTarget)))),t.code.add((0,_views_3d_webgl_engine_core_shaderModules_glsl_js__WEBPACK_IMPORTED_MODULE_18__.glsl)`float sphereDistancePixels(vec4 sphere, vec3 pos) {
float dist = distance(sphere.xyz, pos) - sphere.w;
float width = fwidth(dist);
dist /= min(width, maxPixelDistance);
return abs(dist);
}`)),e.intersectsLineEnabled&&t.uniforms.add(new _views_3d_webgl_engine_core_shaderModules_FloatBindUniform_js__WEBPACK_IMPORTED_MODULE_16__.FloatBindUniform("perScreenPixelRatio",(e=>e.camera.perScreenPixelRatio))).code.add((0,_views_3d_webgl_engine_core_shaderModules_glsl_js__WEBPACK_IMPORTED_MODULE_18__.glsl)`float lineDistancePixels(vec3 start, vec3 dir, float radius, vec3 pos) {
float dist = length(cross(dir, pos - start)) / (length(pos) * perScreenPixelRatio);
return abs(dist) - radius;
}`),(e.lineVerticalPlaneEnabled||e.intersectsLineEnabled)&&t.code.add((0,_views_3d_webgl_engine_core_shaderModules_glsl_js__WEBPACK_IMPORTED_MODULE_18__.glsl)`bool pointIsWithinLine(vec3 pos, vec3 start, vec3 end) {
vec3 dir = end - start;
float t2 = dot(dir, pos - start);
float l2 = dot(dir, dir);
return t2 >= 0.0 && t2 <= l2;
}`),t.main.add((0,_views_3d_webgl_engine_core_shaderModules_glsl_js__WEBPACK_IMPORTED_MODULE_18__.glsl)`vec3 pos;
vec3 normal;
float angleCutoffAdjust;
float depthDiscontinuityAlpha;
if (!laserlineReconstructFromDepth(pos, normal, angleCutoffAdjust, depthDiscontinuityAlpha)) {
fragColor = vec4(0.0);
return;
}
vec4 color = vec4(0.0);`),e.heightManifoldEnabled){t.uniforms.add(new _views_3d_webgl_engine_core_shaderModules_Float2PassUniform_js__WEBPACK_IMPORTED_MODULE_12__.Float2PassUniform("angleCutoff",(e=>O(e))),new _views_3d_webgl_engine_core_shaderModules_Float4PassUniform_js__WEBPACK_IMPORTED_MODULE_15__.Float4PassUniform("heightPlane",((e,i)=>R(e.heightManifoldTarget,e.renderCoordsHelper.worldUpAtPosition(e.heightManifoldTarget,F),i.camera.viewMatrix))));const i=e.spherical?(0,_views_3d_webgl_engine_core_shaderModules_glsl_js__WEBPACK_IMPORTED_MODULE_18__.glsl)`normalize(globalOrigin - pos)`:(0,_views_3d_webgl_engine_core_shaderModules_glsl_js__WEBPACK_IMPORTED_MODULE_18__.glsl)`heightPlane.xyz`;t.main.add((0,_views_3d_webgl_engine_core_shaderModules_glsl_js__WEBPACK_IMPORTED_MODULE_18__.glsl)`
      vec2 angleCutoffAdjusted = angleCutoff - angleCutoffAdjust;
      // Fade out laserlines on flat surfaces
      float heightManifoldAlpha = 1.0 - smoothstep(angleCutoffAdjusted.x, angleCutoffAdjusted.y, abs(dot(normal, ${i})));
      vec4 heightManifoldColor = laserlineProfile(heightManifoldDistancePixels(heightPlane, pos));
      color = max(color, heightManifoldColor * heightManifoldAlpha);`)}return e.pointDistanceEnabled&&(t.uniforms.add(new _views_3d_webgl_engine_core_shaderModules_Float2PassUniform_js__WEBPACK_IMPORTED_MODULE_12__.Float2PassUniform("angleCutoff",(e=>O(e))),new _views_3d_webgl_engine_core_shaderModules_Float4PassUniform_js__WEBPACK_IMPORTED_MODULE_15__.Float4PassUniform("pointDistanceSphere",((e,i)=>E(e,i)))),t.main.add((0,_views_3d_webgl_engine_core_shaderModules_glsl_js__WEBPACK_IMPORTED_MODULE_18__.glsl)`float pointDistanceSphereDistance = sphereDistancePixels(pointDistanceSphere, pos);
vec4 pointDistanceSphereColor = laserlineProfile(pointDistanceSphereDistance);
float pointDistanceSphereAlpha = 1.0 - smoothstep(angleCutoff.x, angleCutoff.y, abs(dot(normal, normalize(pos - pointDistanceSphere.xyz))));
color = max(color, pointDistanceSphereColor * pointDistanceSphereAlpha);`)),e.lineVerticalPlaneEnabled&&(t.uniforms.add(new _views_3d_webgl_engine_core_shaderModules_Float2PassUniform_js__WEBPACK_IMPORTED_MODULE_12__.Float2PassUniform("angleCutoff",(e=>O(e))),new _views_3d_webgl_engine_core_shaderModules_Float4PassUniform_js__WEBPACK_IMPORTED_MODULE_15__.Float4PassUniform("lineVerticalPlane",((e,i)=>z(e,i))),new _views_3d_webgl_engine_core_shaderModules_Float3PassUniform_js__WEBPACK_IMPORTED_MODULE_14__.Float3PassUniform("lineVerticalStart",((e,i)=>I(e,i))),new _views_3d_webgl_engine_core_shaderModules_Float3PassUniform_js__WEBPACK_IMPORTED_MODULE_14__.Float3PassUniform("lineVerticalEnd",((e,i)=>T(e,i)))),t.main.add((0,_views_3d_webgl_engine_core_shaderModules_glsl_js__WEBPACK_IMPORTED_MODULE_18__.glsl)`if (pointIsWithinLine(pos, lineVerticalStart, lineVerticalEnd)) {
float lineVerticalDistance = planeDistancePixels(lineVerticalPlane, pos);
vec4 lineVerticalColor = laserlineProfile(lineVerticalDistance);
float lineVerticalAlpha = 1.0 - smoothstep(angleCutoff.x, angleCutoff.y, abs(dot(normal, lineVerticalPlane.xyz)));
color = max(color, lineVerticalColor * lineVerticalAlpha);
}`)),e.intersectsLineEnabled&&(t.uniforms.add(new _views_3d_webgl_engine_core_shaderModules_Float2PassUniform_js__WEBPACK_IMPORTED_MODULE_12__.Float2PassUniform("angleCutoff",(e=>O(e))),new _views_3d_webgl_engine_core_shaderModules_Float3PassUniform_js__WEBPACK_IMPORTED_MODULE_14__.Float3PassUniform("intersectsLineStart",((e,i)=>(0,_vec32_js__WEBPACK_IMPORTED_MODULE_3__.t)(F,e.lineStartWorld,i.camera.viewMatrix))),new _views_3d_webgl_engine_core_shaderModules_Float3PassUniform_js__WEBPACK_IMPORTED_MODULE_14__.Float3PassUniform("intersectsLineEnd",((e,i)=>(0,_vec32_js__WEBPACK_IMPORTED_MODULE_3__.t)(F,e.lineEndWorld,i.camera.viewMatrix))),new _views_3d_webgl_engine_core_shaderModules_Float3PassUniform_js__WEBPACK_IMPORTED_MODULE_14__.Float3PassUniform("intersectsLineDirection",((e,i)=>((0,_vec32_js__WEBPACK_IMPORTED_MODULE_3__.c)(G,e.intersectsLineSegment.vector),G[3]=0,(0,_vec32_js__WEBPACK_IMPORTED_MODULE_3__.n)(F,(0,_vec42_js__WEBPACK_IMPORTED_MODULE_5__.t)(G,G,i.camera.viewMatrix))))),new _views_3d_webgl_engine_core_shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_17__.FloatPassUniform("intersectsLineRadius",(e=>e.intersectsLineRadius))),t.main.add((0,_views_3d_webgl_engine_core_shaderModules_glsl_js__WEBPACK_IMPORTED_MODULE_18__.glsl)`if (pointIsWithinLine(pos, intersectsLineStart, intersectsLineEnd)) {
float intersectsLineDistance = lineDistancePixels(intersectsLineStart, intersectsLineDirection, intersectsLineRadius, pos);
vec4 intersectsLineColor = laserlineProfile(intersectsLineDistance);
float intersectsLineAlpha = 1.0 - smoothstep(angleCutoff.x, angleCutoff.y, 1.0 - abs(dot(normal, intersectsLineDirection)));
color = max(color, intersectsLineColor * intersectsLineAlpha);
}`)),t.main.add((0,_views_3d_webgl_engine_core_shaderModules_glsl_js__WEBPACK_IMPORTED_MODULE_18__.glsl)`fragColor = laserlineOutput(color * depthDiscontinuityAlpha);`),i}function O(t){return (0,_core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_1__.set)(U,Math.cos(t.angleCutoff),Math.cos(Math.max(0,t.angleCutoff-(0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_0__.deg2rad)(2))))}function E(e,i){return (0,_vec32_js__WEBPACK_IMPORTED_MODULE_3__.t)((0,_sphere_js__WEBPACK_IMPORTED_MODULE_9__.a)(N),e.pointDistanceOrigin,i.camera.viewMatrix),N[3]=(0,_vec32_js__WEBPACK_IMPORTED_MODULE_3__.j)(e.pointDistanceOrigin,e.pointDistanceTarget),N}function z(e,i){const t=(0,_geometry_support_lineSegment_js__WEBPACK_IMPORTED_MODULE_7__.pointAt)(e.lineVerticalPlaneSegment,.5,F),n=e.renderCoordsHelper.worldUpAtPosition(t,W),a=(0,_vec32_js__WEBPACK_IMPORTED_MODULE_3__.n)(H,e.lineVerticalPlaneSegment.vector),r=(0,_vec32_js__WEBPACK_IMPORTED_MODULE_3__.h)(F,n,a);return (0,_vec32_js__WEBPACK_IMPORTED_MODULE_3__.n)(r,r),R(e.lineVerticalPlaneSegment.origin,r,i.camera.viewMatrix)}function I(e,i){const t=(0,_vec32_js__WEBPACK_IMPORTED_MODULE_3__.c)(F,e.lineVerticalPlaneSegment.origin);return e.renderCoordsHelper.setAltitude(t,0),(0,_vec32_js__WEBPACK_IMPORTED_MODULE_3__.t)(t,t,i.camera.viewMatrix)}function T(e,i){const t=(0,_vec32_js__WEBPACK_IMPORTED_MODULE_3__.f)(F,e.lineVerticalPlaneSegment.origin,e.lineVerticalPlaneSegment.vector);return e.renderCoordsHelper.setAltitude(t,0),(0,_vec32_js__WEBPACK_IMPORTED_MODULE_3__.t)(t,t,i.camera.viewMatrix)}function R(e,i,t){return (0,_vec32_js__WEBPACK_IMPORTED_MODULE_3__.t)(_,e,t),(0,_vec32_js__WEBPACK_IMPORTED_MODULE_3__.c)(G,i),G[3]=0,(0,_vec42_js__WEBPACK_IMPORTED_MODULE_5__.t)(G,G,t),(0,_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_8__.fromPositionAndNormal)(_,G,B)}const U=(0,_core_libs_gl_matrix_2_factories_vec2f64_js__WEBPACK_IMPORTED_MODULE_2__.create)(),F=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_4__.create)(),G=(0,_core_libs_gl_matrix_2_factories_vec4f64_js__WEBPACK_IMPORTED_MODULE_6__.create)(),W=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_4__.create)(),H=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_4__.create)(),_=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_4__.create)(),B=(0,_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_8__.create)(),N=(0,_sphere_js__WEBPACK_IMPORTED_MODULE_9__.c)(),$=Object.freeze(Object.defineProperty({__proto__:null,build:y,defaultAngleCutoff:V},Symbol.toStringTag,{value:"Module"}));


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/interactive/visualElements/LaserlineVisualElement.js":
/*!*************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/interactive/visualElements/LaserlineVisualElement.js ***!
  \*************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   LaserlineVisualElement: () => (/* binding */ c)
/* harmony export */ });
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _chunks_vec32_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../chunks/vec32.js */ "./node_modules/@arcgis/core/chunks/vec32.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core/libs/gl-matrix-2/factories/vec3f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/vec3f64.js");
/* harmony import */ var _geometry_support_lineSegment_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../geometry/support/lineSegment.js */ "./node_modules/@arcgis/core/geometry/support/lineSegment.js");
/* harmony import */ var _VisualElement_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./VisualElement.js */ "./node_modules/@arcgis/core/views/3d/interactive/visualElements/VisualElement.js");
/* harmony import */ var _webgl_engine_effects_laserlines_LaserLineRenderer_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../webgl-engine/effects/laserlines/LaserLineRenderer.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/effects/laserlines/LaserLineRenderer.js");
/* harmony import */ var _chunks_Laserlines_glsl_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../chunks/Laserlines.glsl.js */ "./node_modules/@arcgis/core/chunks/Laserlines.glsl.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
class c extends _VisualElement_js__WEBPACK_IMPORTED_MODULE_4__.VisualElement{constructor(e){super(e),this._angleCutoff=_chunks_Laserlines_glsl_js__WEBPACK_IMPORTED_MODULE_6__.d,this._style={},this._heightManifoldTarget=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_2__.create)(),this._heightManifoldEnabled=!1,this._intersectsLine=(0,_geometry_support_lineSegment_js__WEBPACK_IMPORTED_MODULE_3__.create)(),this._intersectsLineEnabled=!1,this._intersectsLineInfinite=!1,this._lineVerticalPlaneSegment=null,this._pathVerticalPlaneBuffers=null,this._pointDistanceLine=null,this.applyProperties(e)}get testData(){}createResources(){this._ensureRenderer()}destroyResources(){this._disposeRenderer()}updateVisibility(){this._syncRenderer(),this._syncHeightManifold(),this._syncIntersectsLine(),this._syncPathVerticalPlane(),this._syncLineVerticalPlane(),this._syncPointDistance()}get angleCutoff(){return this._angleCutoff}set angleCutoff(e){this._angleCutoff!==e&&(this._angleCutoff=e,this._syncAngleCutoff())}get style(){return this._style}set style(e){this._style=e,this._syncStyle()}get heightManifoldTarget(){return this._heightManifoldEnabled?this._heightManifoldTarget:null}set heightManifoldTarget(t){null!=t?((0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_1__.c)(this._heightManifoldTarget,t),this._heightManifoldEnabled=!0):this._heightManifoldEnabled=!1,this._syncRenderer(),this._syncHeightManifold()}set intersectsWorldUpAtLocation(e){if(null==e)return void(this.intersectsLine=null);const t=this.view.renderCoordsHelper.worldUpAtPosition(e,_);this.intersectsLine=(0,_geometry_support_lineSegment_js__WEBPACK_IMPORTED_MODULE_3__.fromValues)(e,t),this.intersectsLineInfinite=!0}get intersectsLine(){return this._intersectsLineEnabled?this._intersectsLine:null}set intersectsLine(e){null!=e?((0,_geometry_support_lineSegment_js__WEBPACK_IMPORTED_MODULE_3__.copy)(e,this._intersectsLine),this._intersectsLineEnabled=!0):this._intersectsLineEnabled=!1,this._syncIntersectsLine(),this._syncRenderer()}get intersectsLineInfinite(){return this._intersectsLineInfinite}set intersectsLineInfinite(e){this._intersectsLineInfinite=e,this._syncIntersectsLineInfinite()}get lineVerticalPlaneSegment(){return this._lineVerticalPlaneSegment}set lineVerticalPlaneSegment(e){this._lineVerticalPlaneSegment=null!=e?(0,_geometry_support_lineSegment_js__WEBPACK_IMPORTED_MODULE_3__.copy)(e):null,this._syncLineVerticalPlane(),this._syncRenderer()}get pathVerticalPlane(){return this._pathVerticalPlaneBuffers}set pathVerticalPlane(e){this._pathVerticalPlaneBuffers=e,this._syncPathVerticalPlane(),this._syncLineVerticalPlane(),this._syncPointDistance(),this._syncRenderer()}get pointDistanceLine(){return this._pointDistanceLine}set pointDistanceLine(e){this._pointDistanceLine=null!=e?{origin:(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_2__.clone)(e.origin),target:e.target?(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_2__.clone)(e.target):null}:null,this._syncPointDistance(),this._syncRenderer()}get isDecoration(){return this._isDecoration}set isDecoration(e){this._isDecoration=e,this._renderer&&(this._renderer.isDecoration=e)}_syncRenderer(){this.attached&&this.visible&&(this._intersectsLineEnabled||this._heightManifoldEnabled||null!=this._pointDistanceLine||null!=this._pathVerticalPlaneBuffers)?this._ensureRenderer():this._disposeRenderer()}_ensureRenderer(){null==this._renderer&&(this._renderer=new _webgl_engine_effects_laserlines_LaserLineRenderer_js__WEBPACK_IMPORTED_MODULE_5__.LaserLineRenderer({view:this.view,contrastControlEnabled:!0,isDecoration:this.isDecoration}),this._syncStyle(),this._syncHeightManifold(),this._syncIntersectsLine(),this._syncIntersectsLineInfinite(),this._syncPathVerticalPlane(),this._syncLineVerticalPlane(),this._syncPointDistance(),this._syncAngleCutoff())}_syncStyle(){null!=this._renderer&&this._renderer.setParameters(this._style)}_syncAngleCutoff(){this._renderer?.setParameters({angleCutoff:this._angleCutoff})}_syncHeightManifold(){null!=this._renderer&&(this._renderer.heightManifoldEnabled=this._heightManifoldEnabled&&this.visible,this._heightManifoldEnabled&&(this._renderer.heightManifoldTarget=this._heightManifoldTarget))}_syncIntersectsLine(){null!=this._renderer&&(this._renderer.intersectsLineEnabled=this._intersectsLineEnabled&&this.visible,this._intersectsLineEnabled&&(this._renderer.intersectsLineSegment=this._intersectsLine))}_syncIntersectsLineInfinite(){null!=this._renderer&&(this._renderer.intersectsLineInfinite=this._intersectsLineInfinite)}_syncPathVerticalPlane(){null!=this._renderer&&(this._renderer.pathVerticalPlaneEnabled=null!=this._pathVerticalPlaneBuffers&&this.visible,null!=this._pathVerticalPlaneBuffers&&(this._renderer.pathVerticalPlaneBuffers=this._pathVerticalPlaneBuffers))}_syncLineVerticalPlane(){null!=this._renderer&&(this._renderer.lineVerticalPlaneEnabled=null!=this._lineVerticalPlaneSegment&&this.visible,null!=this._lineVerticalPlaneSegment&&(this._renderer.lineVerticalPlaneSegment=this._lineVerticalPlaneSegment))}_syncPointDistance(){if(null==this._renderer)return;const e=this._pointDistanceLine,t=null!=e;this._renderer.pointDistanceEnabled=t&&null!=e.target&&this.visible,t&&(this._renderer.pointDistanceOrigin=e.origin,null!=e.target&&(this._renderer.pointDistanceTarget=e.target))}_disposeRenderer(){null!=this._renderer&&this.view.stage&&(this._renderer.destroy(),this._renderer=null)}forEachMaterial(){}}const _=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_2__.create)();


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/interactive/visualElements/VisualElement.js":
/*!****************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/interactive/visualElements/VisualElement.js ***!
  \****************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   VisualElement: () => (/* binding */ t)
/* harmony export */ });
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/reactiveUtils.js */ "./node_modules/@arcgis/core/core/reactiveUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
class t{get isDecoration(){return this._isDecoration}set isDecoration(e){this._isDecoration=e,this.forEachMaterial((t=>t?.setParameters({isDecoration:e})))}constructor(t){this._isDecoration=!1,this._attached=!1,this._resourcesCreated=!1,this._visible=!0,this.view=t.view,this._handle=(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_1__.watch)((()=>t.view.ready),(e=>{this._resourcesCreated&&(e?this._createResources():this._destroyResources())}))}applyProperties(e){let t=!1;for(const s in e)s in this&&("attached"===s?t=!!e[s]:this[s]=e[s]);this.attached=t}destroy(){this.attached=!1,this._handle.remove()}get attached(){return this._attached}set attached(e){e!==this._attached&&this.view.stage&&(this._attached=e,this._attached&&!this._resourcesCreated?this._createResources():!this._attached&&this._resourcesCreated&&this._destroyResources(),this.onAttachedChange(e))}onAttachedChange(e){}get visible(){return this._visible}set visible(e){e!==this._visible&&(this._visible=e,this.attached&&this.updateVisibility(e))}_createResources(){this.createResources(),this._resourcesCreated=!0,this.updateVisibility(this.visible)}_destroyResources(){this.destroyResources(),this._resourcesCreated=!1}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/Laserline.glsl.js":
/*!**********************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/Laserline.glsl.js ***!
  \**********************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Laserline: () => (/* binding */ p)
/* harmony export */ });
/* harmony import */ var _output_ReadDepth_glsl_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./output/ReadDepth.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/output/ReadDepth.glsl.js");
/* harmony import */ var _util_BlendColorsPremultiplied_glsl_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./util/BlendColorsPremultiplied.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/util/BlendColorsPremultiplied.glsl.js");
/* harmony import */ var _util_CameraSpace_glsl_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./util/CameraSpace.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/util/CameraSpace.glsl.js");
/* harmony import */ var _shaderModules_Float3PassUniform_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../shaderModules/Float3PassUniform.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Float3PassUniform.js");
/* harmony import */ var _shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../shaderModules/FloatPassUniform.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/FloatPassUniform.js");
/* harmony import */ var _shaderModules_glsl_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../shaderModules/glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/glsl.js");
/* harmony import */ var _shaderModules_Texture2DBindUniform_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../shaderModules/Texture2DBindUniform.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Texture2DBindUniform.js");
/* harmony import */ var _shaderModules_Texture2DPassUniform_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../shaderModules/Texture2DPassUniform.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Texture2DPassUniform.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
function p(p,d){const s=p.fragment;s.include(_output_ReadDepth_glsl_js__WEBPACK_IMPORTED_MODULE_0__.ReadDepth),p.include(_util_CameraSpace_glsl_js__WEBPACK_IMPORTED_MODULE_2__.CameraSpace),s.include(_util_BlendColorsPremultiplied_glsl_js__WEBPACK_IMPORTED_MODULE_1__.BlendColorsPremultiplied),s.uniforms.add(new _shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_4__.FloatPassUniform("globalAlpha",(o=>o.globalAlpha)),new _shaderModules_Float3PassUniform_js__WEBPACK_IMPORTED_MODULE_3__.Float3PassUniform("glowColor",(o=>o.glowColor)),new _shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_4__.FloatPassUniform("glowWidth",((o,e)=>o.glowWidth*e.camera.pixelRatio)),new _shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_4__.FloatPassUniform("glowFalloff",(o=>o.glowFalloff)),new _shaderModules_Float3PassUniform_js__WEBPACK_IMPORTED_MODULE_3__.Float3PassUniform("innerColor",(o=>o.innerColor)),new _shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_4__.FloatPassUniform("innerWidth",((o,e)=>o.innerWidth*e.camera.pixelRatio)),new _shaderModules_Texture2DBindUniform_js__WEBPACK_IMPORTED_MODULE_6__.Texture2DBindUniform("depthMap",(o=>o.depth?.attachment)),new _shaderModules_Texture2DPassUniform_js__WEBPACK_IMPORTED_MODULE_7__.Texture2DPassUniform("normalMap",(o=>o.normals))),s.code.add((0,_shaderModules_glsl_js__WEBPACK_IMPORTED_MODULE_5__.glsl)`vec4 premultipliedColor(vec3 rgb, float alpha) {
return vec4(rgb * alpha, alpha);
}`),s.code.add((0,_shaderModules_glsl_js__WEBPACK_IMPORTED_MODULE_5__.glsl)`vec4 laserlineProfile(float dist) {
if (dist > glowWidth) {
return vec4(0.0);
}
float innerAlpha = (1.0 - smoothstep(0.0, innerWidth, dist));
float glowAlpha = pow(max(0.0, 1.0 - dist / glowWidth), glowFalloff);
return blendColorsPremultiplied(
premultipliedColor(innerColor, innerAlpha),
premultipliedColor(glowColor, glowAlpha)
);
}`),s.code.add((0,_shaderModules_glsl_js__WEBPACK_IMPORTED_MODULE_5__.glsl)`bool laserlineReconstructFromDepth(out vec3 pos, out vec3 normal, out float angleCutoffAdjust, out float depthDiscontinuityAlpha) {
float depth = depthFromTexture(depthMap, uv);
if (depth == 1.0) {
return false;
}
float linearDepth = linearizeDepth(depth);
pos = reconstructPosition(gl_FragCoord.xy, linearDepth);
float minStep = 6e-8;
float depthStep = clamp(depth + minStep, 0.0, 1.0);
float linearDepthStep = linearizeDepth(depthStep);
float depthError = abs(linearDepthStep - linearDepth);
vec3 normalReconstructed = normalize(cross(dFdx(pos), dFdy(pos)));
vec3 normalFromTexture = normalize(texture(normalMap, uv).xyz * 2.0 - 1.0);
float blendFactor = smoothstep(0.15, 0.2, depthError);
normal = normalize(mix(normalReconstructed, normalFromTexture, blendFactor));
angleCutoffAdjust = mix(0.0, 0.004, blendFactor);
float ddepth = fwidth(linearDepth);
depthDiscontinuityAlpha = 1.0 - smoothstep(0.0, 0.01, -ddepth / linearDepth);
return true;
}`),d.contrastControlEnabled?s.uniforms.add(new _shaderModules_Texture2DPassUniform_js__WEBPACK_IMPORTED_MODULE_7__.Texture2DPassUniform("frameColor",((o,e)=>o.colors)),new _shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_4__.FloatPassUniform("globalAlphaContrastBoost",(o=>o.globalAlphaContrastBoost))).code.add((0,_shaderModules_glsl_js__WEBPACK_IMPORTED_MODULE_5__.glsl)`float rgbToLuminance(vec3 color) {
return dot(vec3(0.2126, 0.7152, 0.0722), color);
}
vec4 laserlineOutput(vec4 color) {
float backgroundLuminance = rgbToLuminance(texture(frameColor, uv).rgb);
float alpha = clamp(globalAlpha * max(backgroundLuminance * globalAlphaContrastBoost, 1.0), 0.0, 1.0);
return color * alpha;
}`):s.code.add((0,_shaderModules_glsl_js__WEBPACK_IMPORTED_MODULE_5__.glsl)`vec4 laserlineOutput(vec4 color) {
return color * globalAlpha;
}`)}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/webgl-engine/effects/laserlines/LaserLineRenderer.js":
/*!*************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/effects/laserlines/LaserLineRenderer.js ***!
  \*************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   LaserLineRenderer: () => (/* binding */ j)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../core/maybe.js */ "./node_modules/@arcgis/core/core/maybe.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_RandomLCG_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../../core/RandomLCG.js */ "./node_modules/@arcgis/core/core/RandomLCG.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _chunks_vec32_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../../chunks/vec32.js */ "./node_modules/@arcgis/core/chunks/vec32.js");
/* harmony import */ var _geometry_support_clipRay_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../../geometry/support/clipRay.js */ "./node_modules/@arcgis/core/geometry/support/clipRay.js");
/* harmony import */ var _geometry_support_frustum_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../../geometry/support/frustum.js */ "./node_modules/@arcgis/core/geometry/support/frustum.js");
/* harmony import */ var _geometry_support_lineSegment_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../../geometry/support/lineSegment.js */ "./node_modules/@arcgis/core/geometry/support/lineSegment.js");
/* harmony import */ var _geometry_support_ray_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../../geometry/support/ray.js */ "./node_modules/@arcgis/core/geometry/support/ray.js");
/* harmony import */ var _ViewingMode_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../../ViewingMode.js */ "./node_modules/@arcgis/core/views/ViewingMode.js");
/* harmony import */ var _webgl_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../webgl.js */ "./node_modules/@arcgis/core/views/3d/webgl.js");
/* harmony import */ var _webgl_RenderNode_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../webgl/RenderNode.js */ "./node_modules/@arcgis/core/views/3d/webgl/RenderNode.js");
/* harmony import */ var _blit_Blit_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../blit/Blit.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/effects/blit/Blit.js");
/* harmony import */ var _LaserlinePathData_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./LaserlinePathData.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/effects/laserlines/LaserlinePathData.js");
/* harmony import */ var _LaserlinePathTechnique_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./LaserlinePathTechnique.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/effects/laserlines/LaserlinePathTechnique.js");
/* harmony import */ var _LaserlinePathTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./LaserlinePathTechniqueConfiguration.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/effects/laserlines/LaserlinePathTechniqueConfiguration.js");
/* harmony import */ var _LaserlineTechnique_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./LaserlineTechnique.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/effects/laserlines/LaserlineTechnique.js");
/* harmony import */ var _LaserlineTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./LaserlineTechniqueConfiguration.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/effects/laserlines/LaserlineTechniqueConfiguration.js");
/* harmony import */ var _lib_basicInterfaces_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../../lib/basicInterfaces.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/basicInterfaces.js");
/* harmony import */ var _materials_internal_MaterialUtil_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../../materials/internal/MaterialUtil.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/materials/internal/MaterialUtil.js");
/* harmony import */ var _shaders_CompositingTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../../shaders/CompositingTechniqueConfiguration.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/CompositingTechniqueConfiguration.js");
/* harmony import */ var _webgl_enums_js__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ../../../../webgl/enums.js */ "./node_modules/@arcgis/core/views/webgl/enums.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
let j=class extends _webgl_RenderNode_js__WEBPACK_IMPORTED_MODULE_14__["default"]{constructor(e){super(e),this.isDecoration=!0,this.produces=_webgl_js__WEBPACK_IMPORTED_MODULE_13__.InternalRenderCategory.LASERLINES,this.consumes={required:[_webgl_js__WEBPACK_IMPORTED_MODULE_13__.InternalRenderCategory.LASERLINES,"normals"]},this.requireGeometryDepth=!0,this._configuration=new _LaserlineTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_20__.LaserlineTechniqueConfiguration,this._pathTechniqueConfiguration=new _LaserlinePathTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_18__.LaserlinePathTechniqueConfiguration,this._heightManifoldEnabled=!1,this._pointDistanceEnabled=!1,this._lineVerticalPlaneEnabled=!1,this._intersectsLineEnabled=!1,this._intersectsLineInfinite=!1,this._pathVerticalPlaneEnabled=!1,this._passParameters=new _LaserlinePathTechnique_js__WEBPACK_IMPORTED_MODULE_17__.LaserlinePathPassParameters;const t=e.view.stage.renderView.techniques,i=new _LaserlinePathTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_18__.LaserlinePathTechniqueConfiguration;i.contrastControlEnabled=e.contrastControlEnabled,t.precompile(_LaserlinePathTechnique_js__WEBPACK_IMPORTED_MODULE_17__.LaserlinePathTechnique,i)}initialize(){this._passParameters.renderCoordsHelper=this.view.renderCoordsHelper,this._pathTechniqueConfiguration.spherical=this.view.state.viewingMode===_ViewingMode_js__WEBPACK_IMPORTED_MODULE_12__.ViewingMode.Global,this._pathTechniqueConfiguration.contrastControlEnabled=this.contrastControlEnabled,this._techniques.precompile(_LaserlinePathTechnique_js__WEBPACK_IMPORTED_MODULE_17__.LaserlinePathTechnique,this._pathTechniqueConfiguration),this._blit=new _blit_Blit_js__WEBPACK_IMPORTED_MODULE_15__.Blit(this._techniques,_shaders_CompositingTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_23__.BlitMode.PremultipliedAlpha)}destroy(){this._pathVerticalPlaneData=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_2__.disposeMaybe)(this._pathVerticalPlaneData),this._blit=null}get _techniques(){return this.view.stage.renderView.techniques}get heightManifoldEnabled(){return this._heightManifoldEnabled}set heightManifoldEnabled(e){this._heightManifoldEnabled!==e&&(this._heightManifoldEnabled=e,this.requestRender(_lib_basicInterfaces_js__WEBPACK_IMPORTED_MODULE_21__.RenderRequestType.UPDATE))}get heightManifoldTarget(){return this._passParameters.heightManifoldTarget}set heightManifoldTarget(e){(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_7__.c)(this._passParameters.heightManifoldTarget,e),this.requestRender(_lib_basicInterfaces_js__WEBPACK_IMPORTED_MODULE_21__.RenderRequestType.UPDATE)}get pointDistanceEnabled(){return this._pointDistanceEnabled}set pointDistanceEnabled(e){e!==this._pointDistanceEnabled&&(this._pointDistanceEnabled=e,this.requestRender(_lib_basicInterfaces_js__WEBPACK_IMPORTED_MODULE_21__.RenderRequestType.UPDATE))}get pointDistanceTarget(){return this._passParameters.pointDistanceTarget}set pointDistanceTarget(e){(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_7__.c)(this._passParameters.pointDistanceTarget,e),this.requestRender(_lib_basicInterfaces_js__WEBPACK_IMPORTED_MODULE_21__.RenderRequestType.UPDATE)}get pointDistanceOrigin(){return this._passParameters.pointDistanceOrigin}set pointDistanceOrigin(e){(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_7__.c)(this._passParameters.pointDistanceOrigin,e),this.requestRender(_lib_basicInterfaces_js__WEBPACK_IMPORTED_MODULE_21__.RenderRequestType.UPDATE)}get lineVerticalPlaneEnabled(){return this._lineVerticalPlaneEnabled}set lineVerticalPlaneEnabled(e){e!==this._lineVerticalPlaneEnabled&&(this._lineVerticalPlaneEnabled=e,this.requestRender(_lib_basicInterfaces_js__WEBPACK_IMPORTED_MODULE_21__.RenderRequestType.UPDATE))}get lineVerticalPlaneSegment(){return this._passParameters.lineVerticalPlaneSegment}set lineVerticalPlaneSegment(e){(0,_geometry_support_lineSegment_js__WEBPACK_IMPORTED_MODULE_10__.copy)(e,this._passParameters.lineVerticalPlaneSegment),this.requestRender(_lib_basicInterfaces_js__WEBPACK_IMPORTED_MODULE_21__.RenderRequestType.UPDATE)}get intersectsLineEnabled(){return this._intersectsLineEnabled}set intersectsLineEnabled(e){e!==this._intersectsLineEnabled&&(this._intersectsLineEnabled=e,this.requestRender(_lib_basicInterfaces_js__WEBPACK_IMPORTED_MODULE_21__.RenderRequestType.UPDATE))}get intersectsLineSegment(){return this._passParameters.intersectsLineSegment}set intersectsLineSegment(e){(0,_geometry_support_lineSegment_js__WEBPACK_IMPORTED_MODULE_10__.copy)(e,this._passParameters.intersectsLineSegment),this.requestRender(_lib_basicInterfaces_js__WEBPACK_IMPORTED_MODULE_21__.RenderRequestType.UPDATE)}get intersectsLineInfinite(){return this._intersectsLineInfinite}set intersectsLineInfinite(e){e!==this._intersectsLineInfinite&&(this._intersectsLineInfinite=e,this.requestRender(_lib_basicInterfaces_js__WEBPACK_IMPORTED_MODULE_21__.RenderRequestType.UPDATE))}get pathVerticalPlaneEnabled(){return this._pathVerticalPlaneEnabled}set pathVerticalPlaneEnabled(e){e!==this._pathVerticalPlaneEnabled&&(this._pathVerticalPlaneEnabled=e,null!=this._pathVerticalPlaneData&&this.requestRender(_lib_basicInterfaces_js__WEBPACK_IMPORTED_MODULE_21__.RenderRequestType.UPDATE))}set pathVerticalPlaneVertices(e){null==this._pathVerticalPlaneData&&(this._pathVerticalPlaneData=new _LaserlinePathData_js__WEBPACK_IMPORTED_MODULE_16__.LaserlinePathData(this._passParameters.renderCoordsHelper)),this._pathVerticalPlaneData.vertices=e,this.pathVerticalPlaneEnabled&&this.requestRender(_lib_basicInterfaces_js__WEBPACK_IMPORTED_MODULE_21__.RenderRequestType.UPDATE)}set pathVerticalPlaneBuffers(e){null==this._pathVerticalPlaneData&&(this._pathVerticalPlaneData=new _LaserlinePathData_js__WEBPACK_IMPORTED_MODULE_16__.LaserlinePathData(this._passParameters.renderCoordsHelper)),this._pathVerticalPlaneData.buffers=e,this.pathVerticalPlaneEnabled&&this.requestRender(_lib_basicInterfaces_js__WEBPACK_IMPORTED_MODULE_21__.RenderRequestType.UPDATE)}setParameters(e){(0,_materials_internal_MaterialUtil_js__WEBPACK_IMPORTED_MODULE_22__.updateParameters)(this._passParameters,e)&&this.requestRender(_lib_basicInterfaces_js__WEBPACK_IMPORTED_MODULE_21__.RenderRequestType.UPDATE)}precompile(){this._acquireTechnique()}render(e){const t=e.find((({name:e})=>e===this.produces));if(this.isDecoration&&!this.bindParameters.decorations||null==this._blit)return t;const i=this.renderingContext,n=e.find((({name:e})=>"normals"===e));this._passParameters.normals=n?.getTexture();const s=()=>{(this.heightManifoldEnabled||this.pointDistanceEnabled||this.lineVerticalPlaneSegment||this.intersectsLineEnabled)&&this._renderUnified(),this.pathVerticalPlaneEnabled&&this._renderPath()};if(!this.contrastControlEnabled)return i.bindFramebuffer(t.fbo),s(),t;this._passParameters.colors=t.getTexture();const r=this.fboCache.acquire(t.fbo.width,t.fbo.height,"laser lines");return i.bindFramebuffer(r.fbo),i.setClearColor(0,0,0,0),i.clear(_webgl_enums_js__WEBPACK_IMPORTED_MODULE_24__.FramebufferBit.COLOR|_webgl_enums_js__WEBPACK_IMPORTED_MODULE_24__.FramebufferBit.DEPTH),s(),i.unbindTexture(t.getTexture()),this._blit.blend(i,r,t,this.bindParameters)||this.requestRender(_lib_basicInterfaces_js__WEBPACK_IMPORTED_MODULE_21__.RenderRequestType.UPDATE),r.release(),t}_acquireTechnique(){return this._configuration.heightManifoldEnabled=this.heightManifoldEnabled,this._configuration.lineVerticalPlaneEnabled=this.lineVerticalPlaneEnabled,this._configuration.pointDistanceEnabled=this.pointDistanceEnabled,this._configuration.intersectsLineEnabled=this.intersectsLineEnabled,this._configuration.contrastControlEnabled=this.contrastControlEnabled,this._configuration.spherical=this.view.state.viewingMode===_ViewingMode_js__WEBPACK_IMPORTED_MODULE_12__.ViewingMode.Global,this._techniques.get(_LaserlineTechnique_js__WEBPACK_IMPORTED_MODULE_19__.LaserlineTechnique,this._configuration)}_renderUnified(){if(!this._updatePassParameters())return;const e=this._acquireTechnique();if(e.compiled){const t=this.renderingContext;t.bindTechnique(e,this.bindParameters,this._passParameters),t.screen.draw()}else this.requestRender(_lib_basicInterfaces_js__WEBPACK_IMPORTED_MODULE_21__.RenderRequestType.UPDATE)}_renderPath(){if(null==this._pathVerticalPlaneData)return;const e=this._techniques.get(_LaserlinePathTechnique_js__WEBPACK_IMPORTED_MODULE_17__.LaserlinePathTechnique,this._pathTechniqueConfiguration);if(e.compiled){const t=this.renderingContext;this._passParameters.origin=this._pathVerticalPlaneData.origin,t.bindTechnique(e,this.bindParameters,this._passParameters),this._pathVerticalPlaneData.draw(t)}else this.requestRender(_lib_basicInterfaces_js__WEBPACK_IMPORTED_MODULE_21__.RenderRequestType.UPDATE)}_updatePassParameters(){if(!this._intersectsLineEnabled)return!0;const e=this.bindParameters.camera,t=this._passParameters;if(this._intersectsLineInfinite){if((0,_geometry_support_clipRay_js__WEBPACK_IMPORTED_MODULE_8__.fromRay)((0,_geometry_support_ray_js__WEBPACK_IMPORTED_MODULE_11__.wrap)(t.intersectsLineSegment.origin,t.intersectsLineSegment.vector),w),w.c0=-Number.MAX_VALUE,!(0,_geometry_support_frustum_js__WEBPACK_IMPORTED_MODULE_9__.intersectClipRay)(e.frustum,w))return!1;(0,_geometry_support_clipRay_js__WEBPACK_IMPORTED_MODULE_8__.getStart)(w,t.lineStartWorld),(0,_geometry_support_clipRay_js__WEBPACK_IMPORTED_MODULE_8__.getEnd)(w,t.lineEndWorld)}else (0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_7__.c)(t.lineStartWorld,t.intersectsLineSegment.origin),(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_7__.f)(t.lineEndWorld,t.intersectsLineSegment.origin,t.intersectsLineSegment.vector);return!0}get test(){}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)({constructOnly:!0})],j.prototype,"contrastControlEnabled",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)()],j.prototype,"isDecoration",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)()],j.prototype,"produces",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)()],j.prototype,"consumes",void 0),j=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_6__.subclass)("esri.views.3d.webgl-engine.effects.laserlines.LaserLineRenderer")],j);const w=(0,_geometry_support_clipRay_js__WEBPACK_IMPORTED_MODULE_8__.create)();


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/webgl-engine/effects/laserlines/LaserlinePathData.js":
/*!*************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/effects/laserlines/LaserlinePathData.js ***!
  \*************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   LaserlinePathData: () => (/* binding */ _)
/* harmony export */ });
/* harmony import */ var _chunks_vec32_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../chunks/vec32.js */ "./node_modules/@arcgis/core/chunks/vec32.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../core/libs/gl-matrix-2/factories/vec3f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/vec3f64.js");
/* harmony import */ var _geometry_support_DoubleArray_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../geometry/support/DoubleArray.js */ "./node_modules/@arcgis/core/geometry/support/DoubleArray.js");
/* harmony import */ var _ViewingMode_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../ViewingMode.js */ "./node_modules/@arcgis/core/views/ViewingMode.js");
/* harmony import */ var _support_buffer_glUtil_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../support/buffer/glUtil.js */ "./node_modules/@arcgis/core/views/3d/support/buffer/glUtil.js");
/* harmony import */ var _support_buffer_InterleavedLayout_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../support/buffer/InterleavedLayout.js */ "./node_modules/@arcgis/core/views/3d/support/buffer/InterleavedLayout.js");
/* harmony import */ var _LaserlinePathTechnique_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./LaserlinePathTechnique.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/effects/laserlines/LaserlinePathTechnique.js");
/* harmony import */ var _lib_VertexArrayObject_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../lib/VertexArrayObject.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/VertexArrayObject.js");
/* harmony import */ var _lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../lib/VertexAttribute.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/VertexAttribute.js");
/* harmony import */ var _webgl_BufferObject_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../webgl/BufferObject.js */ "./node_modules/@arcgis/core/views/webgl/BufferObject.js");
/* harmony import */ var _webgl_enums_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../webgl/enums.js */ "./node_modules/@arcgis/core/views/webgl/enums.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
class _{constructor(e){this._renderCoordsHelper=e,this._buffers=null,this._origin=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_1__.create)(),this._dirty=!1,this._count=0,this._vao=null}set vertices(e){const t=(0,_geometry_support_DoubleArray_js__WEBPACK_IMPORTED_MODULE_2__.newDoubleArray)(3*e.length);let r=0;for(const s of e)t[r++]=s[0],t[r++]=s[1],t[r++]=s[2];this.buffers=[t]}set buffers(t){if(this._buffers=t,this._buffers.length>0){const t=this._buffers[0],r=3*Math.floor(t.length/3/2);(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_0__.i)(this._origin,t[r],t[r+1],t[r+2])}else (0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_0__.i)(this._origin,0,0,0);this._dirty=!0}get origin(){return this._origin}draw(e){const t=this._ensureVAO(e);null!=t&&(e.bindVAO(t),e.drawArrays(_webgl_enums_js__WEBPACK_IMPORTED_MODULE_10__.PrimitiveType.TRIANGLES,0,this._count))}dispose(){null!=this._vao&&this._vao.dispose()}get _layout(){return this._renderCoordsHelper.viewingMode===_ViewingMode_js__WEBPACK_IMPORTED_MODULE_3__.ViewingMode.Global?b:g}_ensureVAO(e){return null==this._buffers?null:(this._vao??=this._createVAO(e,this._buffers),this._ensureVertexData(this._vao,this._buffers),this._vao)}_createVAO(e,t){const r=this._createDataBuffer(t);return this._dirty=!1,new _lib_VertexArrayObject_js__WEBPACK_IMPORTED_MODULE_7__.VertexArrayObject(e,_LaserlinePathTechnique_js__WEBPACK_IMPORTED_MODULE_6__.vertexAttributeLocations,new Map([["data",(0,_support_buffer_glUtil_js__WEBPACK_IMPORTED_MODULE_4__.glLayout)(this._layout)]]),new Map([["data",_webgl_BufferObject_js__WEBPACK_IMPORTED_MODULE_9__.BufferObject.createVertex(e,_webgl_enums_js__WEBPACK_IMPORTED_MODULE_10__.Usage.STATIC_DRAW,r)]]))}_ensureVertexData(e,t){if(!this._dirty)return;const r=this._createDataBuffer(t);e.vertexBuffers.get("data")?.setData(r),this._dirty=!1}_createDataBuffer(r){const s=r.reduce(((e,t)=>e+d(t)),0);this._count=s;const i=this._layout.createBuffer(s),o=this._origin;let f=0,n=0;const u="startUp"in i?this._setUpVectors.bind(this,i):void 0;for(const a of r){for(let r=0;r<a.length;r+=3){const s=(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_0__.i)(m,a[r],a[r+1],a[r+2]);0===r?n=this._renderCoordsHelper.getAltitude(s):this._renderCoordsHelper.setAltitude(s,n);const l=f+2*r;u?.(r,l,a,s);const c=(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_0__.d)(m,s,o);if(r<a.length-3){for(let e=0;e<6;e++)i.start.setVec(l+e,c);i.extrude.setValues(l,0,-1),i.extrude.setValues(l+1,1,-1),i.extrude.setValues(l+2,1,1),i.extrude.setValues(l+3,0,-1),i.extrude.setValues(l+4,1,1),i.extrude.setValues(l+5,0,1)}if(r>0)for(let e=-6;e<0;e++)i.end.setVec(l+e,c)}f+=d(a)}return i.buffer}_setUpVectors(e,t,r,s,i){const o=this._renderCoordsHelper.worldUpAtPosition(i,p);if(t<s.length-3)for(let f=0;f<6;f++)e.startUp.setVec(r+f,o);if(t>0)for(let f=-6;f<0;f++)e.endUp.setVec(r+f,o)}}function d(e){return 3*(2*(e.length/3-1))}const p=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_1__.create)(),m=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_1__.create)(),b=(0,_support_buffer_InterleavedLayout_js__WEBPACK_IMPORTED_MODULE_5__.newLayout)().vec3f(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_8__.VertexAttribute.START).vec3f(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_8__.VertexAttribute.END).vec2f(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_8__.VertexAttribute.EXTRUDE).vec3f(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_8__.VertexAttribute.START_UP).vec3f(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_8__.VertexAttribute.END_UP),g=(0,_support_buffer_InterleavedLayout_js__WEBPACK_IMPORTED_MODULE_5__.newLayout)().vec3f(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_8__.VertexAttribute.START).vec3f(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_8__.VertexAttribute.END).vec2f(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_8__.VertexAttribute.EXTRUDE);


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/webgl-engine/effects/laserlines/LaserlinePathTechnique.js":
/*!******************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/effects/laserlines/LaserlinePathTechnique.js ***!
  \******************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   LaserlinePathPassParameters: () => (/* binding */ a),
/* harmony export */   LaserlinePathTechnique: () => (/* binding */ c),
/* harmony export */   vertexAttributeLocations: () => (/* binding */ n)
/* harmony export */ });
/* harmony import */ var _core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../core/libs/gl-matrix-2/factories/vec3f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/vec3f64.js");
/* harmony import */ var _core_shaderTechnique_ReloadableShaderModule_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/shaderTechnique/ReloadableShaderModule.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderTechnique/ReloadableShaderModule.js");
/* harmony import */ var _core_shaderTechnique_ShaderTechnique_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/shaderTechnique/ShaderTechnique.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderTechnique/ShaderTechnique.js");
/* harmony import */ var _LaserlineTechnique_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./LaserlineTechnique.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/effects/laserlines/LaserlineTechnique.js");
/* harmony import */ var _lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../lib/VertexAttribute.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/VertexAttribute.js");
/* harmony import */ var _chunks_LaserlinePath_glsl_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../../chunks/LaserlinePath.glsl.js */ "./node_modules/@arcgis/core/chunks/LaserlinePath.glsl.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
class a extends _LaserlineTechnique_js__WEBPACK_IMPORTED_MODULE_3__.LaserlinePassParameters{constructor(){super(...arguments),this.origin=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_0__.create)()}}class c extends _core_shaderTechnique_ShaderTechnique_js__WEBPACK_IMPORTED_MODULE_2__.ShaderTechnique{constructor(e,s){super(e,s,new _core_shaderTechnique_ReloadableShaderModule_js__WEBPACK_IMPORTED_MODULE_1__.ReloadableShaderModule(_chunks_LaserlinePath_glsl_js__WEBPACK_IMPORTED_MODULE_5__.L,(()=>__webpack_require__.e(/*! import() */ "node_modules_arcgis_core_views_3d_webgl-engine_shaders_LaserlinePath_glsl_js").then(__webpack_require__.bind(__webpack_require__, /*! ../../shaders/LaserlinePath.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/LaserlinePath.glsl.js")))),n)}}const n=new Map([[_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_4__.VertexAttribute.START,0],[_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_4__.VertexAttribute.END,1],[_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_4__.VertexAttribute.EXTRUDE,2],[_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_4__.VertexAttribute.START_UP,3],[_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_4__.VertexAttribute.END_UP,4]]);


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/webgl-engine/effects/laserlines/LaserlinePathTechniqueConfiguration.js":
/*!*******************************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/effects/laserlines/LaserlinePathTechniqueConfiguration.js ***!
  \*******************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   LaserlinePathTechniqueConfiguration: () => (/* binding */ e)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/shaderTechnique/ShaderTechniqueConfiguration.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderTechnique/ShaderTechniqueConfiguration.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
class e extends _core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_1__.ShaderTechniqueConfiguration{constructor(){super(...arguments),this.contrastControlEnabled=!1,this.spherical=!1}}(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_1__.parameter)()],e.prototype,"contrastControlEnabled",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_1__.parameter)()],e.prototype,"spherical",void 0);


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/webgl-engine/effects/laserlines/LaserlineTechnique.js":
/*!**************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/effects/laserlines/LaserlineTechnique.js ***!
  \**************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   LaserlinePassParameters: () => (/* binding */ a),
/* harmony export */   LaserlineTechnique: () => (/* binding */ h)
/* harmony export */ });
/* harmony import */ var _core_mathUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../core/mathUtils.js */ "./node_modules/@arcgis/core/core/mathUtils.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../core/libs/gl-matrix-2/factories/vec3f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/vec3f64.js");
/* harmony import */ var _geometry_support_lineSegment_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../geometry/support/lineSegment.js */ "./node_modules/@arcgis/core/geometry/support/lineSegment.js");
/* harmony import */ var _core_shaderTechnique_ReloadableShaderModule_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../core/shaderTechnique/ReloadableShaderModule.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderTechnique/ReloadableShaderModule.js");
/* harmony import */ var _core_shaderTechnique_ShaderTechnique_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../core/shaderTechnique/ShaderTechnique.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderTechnique/ShaderTechnique.js");
/* harmony import */ var _chunks_Laserlines_glsl_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../../chunks/Laserlines.glsl.js */ "./node_modules/@arcgis/core/chunks/Laserlines.glsl.js");
/* harmony import */ var _webgl_NoParameters_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../webgl/NoParameters.js */ "./node_modules/@arcgis/core/views/webgl/NoParameters.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
class a extends _webgl_NoParameters_js__WEBPACK_IMPORTED_MODULE_6__.NoParameters{constructor(){super(...arguments),this.innerColor=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_1__.fromValues)(1,1,1),this.innerWidth=1,this.glowColor=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_1__.fromValues)(1,.5,0),this.glowWidth=8,this.glowFalloff=8,this.globalAlpha=.75,this.globalAlphaContrastBoost=2,this.angleCutoff=(0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_0__.deg2rad)(6),this.pointDistanceOrigin=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_1__.create)(),this.pointDistanceTarget=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_1__.create)(),this.lineVerticalPlaneSegment=(0,_geometry_support_lineSegment_js__WEBPACK_IMPORTED_MODULE_2__.create)(),this.intersectsLineSegment=(0,_geometry_support_lineSegment_js__WEBPACK_IMPORTED_MODULE_2__.create)(),this.intersectsLineRadius=3,this.heightManifoldTarget=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_1__.create)(),this.lineStartWorld=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_1__.create)(),this.lineEndWorld=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_1__.create)()}}class h extends _core_shaderTechnique_ShaderTechnique_js__WEBPACK_IMPORTED_MODULE_4__.ShaderTechnique{constructor(e,t){super(e,t,new _core_shaderTechnique_ReloadableShaderModule_js__WEBPACK_IMPORTED_MODULE_3__.ReloadableShaderModule(_chunks_Laserlines_glsl_js__WEBPACK_IMPORTED_MODULE_5__.L,(()=>__webpack_require__.e(/*! import() */ "node_modules_arcgis_core_views_3d_webgl-engine_shaders_Laserlines_glsl_js").then(__webpack_require__.bind(__webpack_require__, /*! ../../shaders/Laserlines.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/Laserlines.glsl.js")))))}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/webgl-engine/effects/laserlines/LaserlineTechniqueConfiguration.js":
/*!***************************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/effects/laserlines/LaserlineTechniqueConfiguration.js ***!
  \***************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   LaserlineTechniqueConfiguration: () => (/* binding */ n)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/shaderTechnique/ShaderTechniqueConfiguration.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderTechnique/ShaderTechniqueConfiguration.js");
/* harmony import */ var _LaserlinePathTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./LaserlinePathTechniqueConfiguration.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/effects/laserlines/LaserlinePathTechniqueConfiguration.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
class n extends _LaserlinePathTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_2__.LaserlinePathTechniqueConfiguration{constructor(){super(...arguments),this.heightManifoldEnabled=!1,this.pointDistanceEnabled=!1,this.lineVerticalPlaneEnabled=!1,this.intersectsLineEnabled=!1}}(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_1__.parameter)()],n.prototype,"heightManifoldEnabled",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_1__.parameter)()],n.prototype,"pointDistanceEnabled",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_1__.parameter)()],n.prototype,"lineVerticalPlaneEnabled",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_1__.parameter)()],n.prototype,"intersectsLineEnabled",void 0);


/***/ })

};

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmVuZG9ycy1ub2RlX21vZHVsZXNfYXJjZ2lzX2NvcmVfdmlld3NfM2RfaW50ZXJhY3RpdmVfdmlzdWFsRWxlbWVudHNfTGFzZXJsaW5lVmlzdWFsRWxlbWVudF9qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDb2tDLGNBQWMsWUFBWSx5RUFBQyxDQUFDLFVBQVUsa0dBQUMsSUFBSSxNQUFNLG9CQUFvQixHQUFHLG1CQUFtQixnSEFBQyxrQkFBa0IsU0FBUyxHQUFHLDhFQUFDLGdDQUFnQywrR0FBQyxXQUFXLFNBQVMsNEJBQTRCLDJHQUFDLGtCQUFrQixTQUFTLGtDQUFrQyw2R0FBQyxpQkFBaUIsU0FBUyxHQUFHLHdFQUFDLGdFQUFnRSwyRkFBQyxnQ0FBZ0MsMkZBQUMsNENBQTRDLDJGQUFDLG1DQUFtQywyRkFBQyxrQ0FBa0MsMkZBQUMsaVBBQWlQLHFCQUFxQixrQkFBa0IsdUZBQUM7QUFDNTFEOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLE1BQU0scUZBQUMsR0FBRyx1RkFBQyw4QkFBOEI7QUFDekMsTUFBTSxxRkFBQyxHQUFHLHVGQUFDLDRCQUE0Qjs7QUFFdkM7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLHdCQUF3QiwyR0FBQyxzRUFBc0UsdUZBQUM7QUFDaEc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsY0FBYyx1RkFBQztBQUNoQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FB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LFlBQVksb0VBQUMsVUFBeUM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDSnA5RjtBQUNBO0FBQ0E7QUFDQTtBQUNrYyxnQkFBZ0IsMkVBQUMsQ0FBQyxjQUFjLGdDQUFnQyxtRkFBQyxJQUFJLGdCQUFnQixxRkFBQyxDQUFDLGlCQUFpQixjQUFjLG1HQUFDLENBQUMsNERBQUMsTUFBTSx1U0FBNkMsT0FBTyxrQkFBa0Isb0VBQUMsV0FBVyxvRUFBQyxTQUFTLG9FQUFDLGFBQWEsb0VBQUMsY0FBYyxvRUFBQyxhQUFnSDs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNKM3lCO0FBQ0E7QUFDQTtBQUNBO0FBQ2dMLGdCQUFnQiwrR0FBQyxDQUFDLGNBQWMsc0VBQXNFLHVEQUFDLEVBQUUsZ0dBQUMsaURBQWlELHVEQUFDLEVBQUUsZ0dBQUMsb0NBQXFGOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ0pwYTtBQUNBO0FBQ0E7QUFDQTtBQUNraEIsZ0JBQWdCLGdFQUFDLENBQUMsY0FBYyxvQ0FBb0MsdUZBQUMseUNBQXlDLHVGQUFDLG1IQUFtSCwyREFBQyw2QkFBNkIsbUZBQUMsNEJBQTRCLG1GQUFDLGlDQUFpQyx3RUFBQyw4QkFBOEIsd0VBQUMseURBQXlELG1GQUFDLHVCQUF1QixtRkFBQyxxQkFBcUIsbUZBQUMsSUFBSSxnQkFBZ0IscUZBQUMsQ0FBQyxpQkFBaUIsY0FBYyxtR0FBQyxDQUFDLHlEQUFDLE1BQU0sOFJBQTBDLEtBQWtFOzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNKbm9DO0FBQ0E7QUFDQTtBQUNBO0FBQzZPLGdCQUFnQix3R0FBQyxDQUFDLGNBQWMsK0lBQStJLHVEQUFDLEVBQUUsZ0dBQUMsZ0RBQWdELHVEQUFDLEVBQUUsZ0dBQUMsK0NBQStDLHVEQUFDLEVBQUUsZ0dBQUMsbURBQW1ELHVEQUFDLEVBQUUsZ0dBQUMsZ0RBQTZGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcHJlY2lzaW9uZmFybXMvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL2NodW5rcy9MYXNlcmxpbmVQYXRoLmdsc2wuanMiLCJ3ZWJwYWNrOi8vcHJlY2lzaW9uZmFybXMvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL2NodW5rcy9MYXNlcmxpbmVzLmdsc2wuanMiLCJ3ZWJwYWNrOi8vcHJlY2lzaW9uZmFybXMvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzNkL2ludGVyYWN0aXZlL3Zpc3VhbEVsZW1lbnRzL0xhc2VybGluZVZpc3VhbEVsZW1lbnQuanMiLCJ3ZWJwYWNrOi8vcHJlY2lzaW9uZmFybXMvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzNkL2ludGVyYWN0aXZlL3Zpc3VhbEVsZW1lbnRzL1Zpc3VhbEVsZW1lbnQuanMiLCJ3ZWJwYWNrOi8vcHJlY2lzaW9uZmFybXMvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzNkL3dlYmdsLWVuZ2luZS9jb3JlL3NoYWRlckxpYnJhcnkvTGFzZXJsaW5lLmdsc2wuanMiLCJ3ZWJwYWNrOi8vcHJlY2lzaW9uZmFybXMvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzNkL3dlYmdsLWVuZ2luZS9lZmZlY3RzL2xhc2VybGluZXMvTGFzZXJMaW5lUmVuZGVyZXIuanMiLCJ3ZWJwYWNrOi8vcHJlY2lzaW9uZmFybXMvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzNkL3dlYmdsLWVuZ2luZS9lZmZlY3RzL2xhc2VybGluZXMvTGFzZXJsaW5lUGF0aERhdGEuanMiLCJ3ZWJwYWNrOi8vcHJlY2lzaW9uZmFybXMvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzNkL3dlYmdsLWVuZ2luZS9lZmZlY3RzL2xhc2VybGluZXMvTGFzZXJsaW5lUGF0aFRlY2huaXF1ZS5qcyIsIndlYnBhY2s6Ly9wcmVjaXNpb25mYXJtcy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvM2Qvd2ViZ2wtZW5naW5lL2VmZmVjdHMvbGFzZXJsaW5lcy9MYXNlcmxpbmVQYXRoVGVjaG5pcXVlQ29uZmlndXJhdGlvbi5qcyIsIndlYnBhY2s6Ly9wcmVjaXNpb25mYXJtcy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvM2Qvd2ViZ2wtZW5naW5lL2VmZmVjdHMvbGFzZXJsaW5lcy9MYXNlcmxpbmVUZWNobmlxdWUuanMiLCJ3ZWJwYWNrOi8vcHJlY2lzaW9uZmFybXMvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzNkL3dlYmdsLWVuZ2luZS9lZmZlY3RzL2xhc2VybGluZXMvTGFzZXJsaW5lVGVjaG5pcXVlQ29uZmlndXJhdGlvbi5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4zMy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e3RyYW5zbGF0ZSBhcyBlfWZyb21cIi4uL2NvcmUvbGlicy9nbC1tYXRyaXgtMi9tYXRoL21hdDQuanNcIjtpbXBvcnR7Y3JlYXRlIGFzIHR9ZnJvbVwiLi4vY29yZS9saWJzL2dsLW1hdHJpeC0yL2ZhY3Rvcmllcy9tYXQ0ZjY0LmpzXCI7aW1wb3J0e3NldCBhcyBvfWZyb21cIi4uL2NvcmUvbGlicy9nbC1tYXRyaXgtMi9tYXRoL3ZlYzIuanNcIjtpbXBvcnR7Y3JlYXRlIGFzIHJ9ZnJvbVwiLi4vY29yZS9saWJzL2dsLW1hdHJpeC0yL2ZhY3Rvcmllcy92ZWMyZjY0LmpzXCI7aW1wb3J0e0xhc2VybGluZSBhcyBhfWZyb21cIi4uL3ZpZXdzLzNkL3dlYmdsLWVuZ2luZS9jb3JlL3NoYWRlckxpYnJhcnkvTGFzZXJsaW5lLmdsc2wuanNcIjtpbXBvcnR7RmxvYXQyQmluZFVuaWZvcm0gYXMgaX1mcm9tXCIuLi92aWV3cy8zZC93ZWJnbC1lbmdpbmUvY29yZS9zaGFkZXJNb2R1bGVzL0Zsb2F0MkJpbmRVbmlmb3JtLmpzXCI7aW1wb3J0e0Zsb2F0QmluZFVuaWZvcm0gYXMgbn1mcm9tXCIuLi92aWV3cy8zZC93ZWJnbC1lbmdpbmUvY29yZS9zaGFkZXJNb2R1bGVzL0Zsb2F0QmluZFVuaWZvcm0uanNcIjtpbXBvcnR7RmxvYXRQYXNzVW5pZm9ybSBhcyBzfWZyb21cIi4uL3ZpZXdzLzNkL3dlYmdsLWVuZ2luZS9jb3JlL3NoYWRlck1vZHVsZXMvRmxvYXRQYXNzVW5pZm9ybS5qc1wiO2ltcG9ydHtJZiBhcyBsLGdsc2wgYXMgZH1mcm9tXCIuLi92aWV3cy8zZC93ZWJnbC1lbmdpbmUvY29yZS9zaGFkZXJNb2R1bGVzL2dsc2wuanNcIjtpbXBvcnR7TWF0cml4NEJpbmRVbmlmb3JtIGFzIGN9ZnJvbVwiLi4vdmlld3MvM2Qvd2ViZ2wtZW5naW5lL2NvcmUvc2hhZGVyTW9kdWxlcy9NYXRyaXg0QmluZFVuaWZvcm0uanNcIjtpbXBvcnR7TWF0cml4NFBhc3NVbmlmb3JtIGFzIG19ZnJvbVwiLi4vdmlld3MvM2Qvd2ViZ2wtZW5naW5lL2NvcmUvc2hhZGVyTW9kdWxlcy9NYXRyaXg0UGFzc1VuaWZvcm0uanNcIjtpbXBvcnR7VmVydGV4QXR0cmlidXRlIGFzIHZ9ZnJvbVwiLi4vdmlld3MvM2Qvd2ViZ2wtZW5naW5lL2xpYi9WZXJ0ZXhBdHRyaWJ1dGUuanNcIjtpbXBvcnR7U2hhZGVyQnVpbGRlciBhcyBwfWZyb21cIi4uL3ZpZXdzL3dlYmdsL1NoYWRlckJ1aWxkZXIuanNcIjtmdW5jdGlvbiB3KHQpe2NvbnN0IHI9bmV3IHA7ci5pbmNsdWRlKGEsdCk7Y29uc3R7dmVydGV4OncsZnJhZ21lbnQ6dX09cjt3LnVuaWZvcm1zLmFkZChuZXcgbShcIm1vZGVsVmlld1wiLCgodCx7Y2FtZXJhOm99KT0+ZShmLG8udmlld01hdHJpeCx0Lm9yaWdpbikpKSxuZXcgYyhcInByb2pcIiwoKHtjYW1lcmE6ZX0pPT5lLnByb2plY3Rpb25NYXRyaXgpKSxuZXcgcyhcImdsb3dXaWR0aFwiLCgoZSx7Y2FtZXJhOnR9KT0+ZS5nbG93V2lkdGgqdC5waXhlbFJhdGlvKSksbmV3IGkoXCJwaXhlbFRvTkRDXCIsKCh7Y2FtZXJhOmV9KT0+byhnLDIvZS5mdWxsVmlld3BvcnRbMl0sMi9lLmZ1bGxWaWV3cG9ydFszXSkpKSksci5hdHRyaWJ1dGVzLmFkZCh2LlNUQVJULFwidmVjM1wiKSxyLmF0dHJpYnV0ZXMuYWRkKHYuRU5ELFwidmVjM1wiKSx0LnNwaGVyaWNhbCYmKHIuYXR0cmlidXRlcy5hZGQodi5TVEFSVF9VUCxcInZlYzNcIiksci5hdHRyaWJ1dGVzLmFkZCh2LkVORF9VUCxcInZlYzNcIikpLHIuYXR0cmlidXRlcy5hZGQodi5FWFRSVURFLFwidmVjMlwiKSxyLnZhcnlpbmdzLmFkZChcInV2XCIsXCJ2ZWMyXCIpLHIudmFyeWluZ3MuYWRkKFwidlZpZXdTdGFydFwiLFwidmVjM1wiKSxyLnZhcnlpbmdzLmFkZChcInZWaWV3RW5kXCIsXCJ2ZWMzXCIpLHIudmFyeWluZ3MuYWRkKFwidlZpZXdTZWdtZW50Tm9ybWFsXCIsXCJ2ZWMzXCIpLHIudmFyeWluZ3MuYWRkKFwidlZpZXdTdGFydE5vcm1hbFwiLFwidmVjM1wiKSxyLnZhcnlpbmdzLmFkZChcInZWaWV3RW5kTm9ybWFsXCIsXCJ2ZWMzXCIpO2NvbnN0IGg9IXQuc3BoZXJpY2FsO3JldHVybiB3Lm1haW4uYWRkKGRgXG4gICAgdmVjMyBwb3MgPSBtaXgoc3RhcnQsIGVuZCwgZXh0cnVkZS54KTtcblxuICAgIHZlYzQgdmlld1BvcyA9IG1vZGVsVmlldyAqIHZlYzQocG9zLCAxKTtcbiAgICB2ZWM0IHByb2pQb3MgPSBwcm9qICogdmlld1BvcztcbiAgICB2ZWMyIG5kY1BvcyA9IHByb2pQb3MueHkgLyBwcm9qUG9zLnc7XG5cbiAgICAvLyBpbiBwbGFuYXIgd2UgaGFyZGNvZGUgdGhlIHVwIHZlY3RvcnMgdG8gYmUgWi11cCAqL1xuICAgICR7bChoLGRgdmVjMyBzdGFydFVwID0gdmVjMygwLCAwLCAxKTtgKX1cbiAgICAke2woaCxkYHZlYzMgZW5kVXAgPSB2ZWMzKDAsIDAsIDEpO2ApfVxuXG4gICAgLy8gdXAgdmVjdG9yIGNvcnJlc3BvbmRpbmcgdG8gdGhlIGxvY2F0aW9uIG9mIHRoZSB2ZXJ0ZXgsIHNlbGVjdGluZyBlaXRoZXIgc3RhcnRVcCBvciBlbmRVcCAqL1xuICAgIHZlYzMgdXAgPSBleHRydWRlLnkgKiBtaXgoc3RhcnRVcCwgZW5kVXAsIGV4dHJ1ZGUueCk7XG4gICAgdmVjMyB2aWV3VXAgPSAobW9kZWxWaWV3ICogdmVjNCh1cCwgMCkpLnh5ejtcblxuICAgIHZlYzQgcHJvalBvc1VwID0gcHJvaiAqIHZlYzQodmlld1Bvcy54eXogKyB2aWV3VXAsIDEpO1xuICAgIHZlYzIgcHJvalVwID0gbm9ybWFsaXplKHByb2pQb3NVcC54eSAvIHByb2pQb3NVcC53IC0gbmRjUG9zKTtcblxuICAgIC8vIGV4dHJ1ZGUgbmRjUG9zIGFsb25nIHByb2pVcCB0byB0aGUgZWRnZSBvZiB0aGUgc2NyZWVuXG4gICAgdmVjMiBseHkgPSBhYnMoc2lnbihwcm9qVXApIC0gbmRjUG9zKTtcbiAgICBuZGNQb3MgKz0gbGVuZ3RoKGx4eSkgKiBwcm9qVXA7XG5cbiAgICB2Vmlld1N0YXJ0ID0gKG1vZGVsVmlldyAqIHZlYzQoc3RhcnQsIDEpKS54eXo7XG4gICAgdlZpZXdFbmQgPSAobW9kZWxWaWV3ICogdmVjNChlbmQsIDEpKS54eXo7XG5cbiAgICB2ZWMzIHZpZXdTdGFydEVuZERpciA9IHZWaWV3RW5kIC0gdlZpZXdTdGFydDtcblxuICAgIHZlYzMgdmlld1N0YXJ0VXAgPSAobW9kZWxWaWV3ICogdmVjNChzdGFydFVwLCAwKSkueHl6O1xuXG4gICAgLy8gdGhlIG5vcm1hbCBvZiB0aGUgcGxhbmUgdGhhdCBhbGlnbnMgd2l0aCB0aGUgc2VnbWVudCBhbmQgdGhlIHVwIHZlY3RvclxuICAgIHZWaWV3U2VnbWVudE5vcm1hbCA9IG5vcm1hbGl6ZShjcm9zcyh2aWV3U3RhcnRVcCwgdmlld1N0YXJ0RW5kRGlyKSk7XG5cbiAgICAvLyB0aGUgbm9ybWFsIG9ydGhvZ29uYWwgdG8gdGhlIHNlZ21lbnQgbm9ybWFsIGFuZCB0aGUgc3RhcnQgdXAgdmVjdG9yXG4gICAgdlZpZXdTdGFydE5vcm1hbCA9IC1ub3JtYWxpemUoY3Jvc3ModlZpZXdTZWdtZW50Tm9ybWFsLCB2aWV3U3RhcnRVcCkpO1xuXG4gICAgLy8gdGhlIG5vcm1hbCBvcnRob2dvbmFsIHRvIHRoZSBzZWdtZW50IG5vcm1hbCBhbmQgdGhlIGVuZCB1cCB2ZWN0b3JcbiAgICB2ZWMzIHZpZXdFbmRVcCA9IChtb2RlbFZpZXcgKiB2ZWM0KGVuZFVwLCAwKSkueHl6O1xuICAgIHZWaWV3RW5kTm9ybWFsID0gbm9ybWFsaXplKGNyb3NzKHZWaWV3U2VnbWVudE5vcm1hbCwgdmlld0VuZFVwKSk7XG5cbiAgICAvLyBBZGQgZW5vdWdoIHBhZGRpbmcgaW4gdGhlIFggc2NyZWVuIHNwYWNlIGRpcmVjdGlvbiBmb3IgXCJnbG93XCJcbiAgICBmbG9hdCB4UGFkZGluZ1BpeGVscyA9IHNpZ24oZG90KHZWaWV3U2VnbWVudE5vcm1hbCwgdmlld1Bvcy54eXopKSAqIChleHRydWRlLnggKiAyLjAgLSAxLjApICogZ2xvd1dpZHRoO1xuICAgIG5kY1Bvcy54ICs9IHhQYWRkaW5nUGl4ZWxzICogcGl4ZWxUb05EQy54O1xuXG4gICAgLy8gdXYgaXMgdXNlZCB0byByZWFkIGJhY2sgZGVwdGggdG8gcmVjb25zdHJ1Y3QgdGhlIHBvc2l0aW9uIGF0IHRoZSBmcmFnbWVudFxuICAgIHV2ID0gbmRjUG9zICogMC41ICsgMC41O1xuXG4gICAgZ2xfUG9zaXRpb24gPSB2ZWM0KG5kY1BvcywgMCwgMSk7XG4gIGApLHUudW5pZm9ybXMuYWRkKG5ldyBuKFwicGVyU2NyZWVuUGl4ZWxSYXRpb1wiLChlPT5lLmNhbWVyYS5wZXJTY3JlZW5QaXhlbFJhdGlvKSkpLHUuY29kZS5hZGQoZGBmbG9hdCBwbGFuZURpc3RhbmNlKHZlYzMgcGxhbmVOb3JtYWwsIHZlYzMgcGxhbmVPcmlnaW4sIHZlYzMgcG9zKSB7XG5yZXR1cm4gZG90KHBsYW5lTm9ybWFsLCBwb3MgLSBwbGFuZU9yaWdpbik7XG59XG5mbG9hdCBzZWdtZW50RGlzdGFuY2VQaXhlbHModmVjMyBzZWdtZW50Tm9ybWFsLCB2ZWMzIHN0YXJ0Tm9ybWFsLCB2ZWMzIGVuZE5vcm1hbCwgdmVjMyBwb3MsIHZlYzMgc3RhcnQsIHZlYzMgZW5kKSB7XG5mbG9hdCBkaXN0U2VnbWVudFBsYW5lID0gcGxhbmVEaXN0YW5jZShzZWdtZW50Tm9ybWFsLCBzdGFydCwgcG9zKTtcbmZsb2F0IGRpc3RTdGFydFBsYW5lID0gcGxhbmVEaXN0YW5jZShzdGFydE5vcm1hbCwgc3RhcnQsIHBvcyk7XG5mbG9hdCBkaXN0RW5kUGxhbmUgPSBwbGFuZURpc3RhbmNlKGVuZE5vcm1hbCwgZW5kLCBwb3MpO1xuZmxvYXQgZGlzdCA9IG1heChtYXgoZGlzdFN0YXJ0UGxhbmUsIGRpc3RFbmRQbGFuZSksIGFicyhkaXN0U2VnbWVudFBsYW5lKSk7XG5mbG9hdCB3aWR0aCA9IGZ3aWR0aChkaXN0U2VnbWVudFBsYW5lKTtcbmZsb2F0IG1heFBpeGVsRGlzdGFuY2UgPSBsZW5ndGgocG9zKSAqIHBlclNjcmVlblBpeGVsUmF0aW8gKiAyLjA7XG5mbG9hdCBwaXhlbERpc3QgPSBkaXN0IC8gbWluKHdpZHRoLCBtYXhQaXhlbERpc3RhbmNlKTtcbnJldHVybiBhYnMocGl4ZWxEaXN0KTtcbn1gKSx1Lm1haW4uYWRkKGRgZnJhZ0NvbG9yID0gdmVjNCgwLjApO1xudmVjMyBkRW5kU3RhcnQgPSB2Vmlld0VuZCAtIHZWaWV3U3RhcnQ7XG5pZiAoZG90KGRFbmRTdGFydCwgZEVuZFN0YXJ0KSA8IDFlLTUpIHtcbnJldHVybjtcbn1cbnZlYzMgcG9zO1xudmVjMyBub3JtYWw7XG5mbG9hdCBhbmdsZUN1dG9mZkFkanVzdDtcbmZsb2F0IGRlcHRoRGlzY29udGludWl0eUFscGhhO1xuaWYgKCFsYXNlcmxpbmVSZWNvbnN0cnVjdEZyb21EZXB0aChwb3MsIG5vcm1hbCwgYW5nbGVDdXRvZmZBZGp1c3QsIGRlcHRoRGlzY29udGludWl0eUFscGhhKSkge1xucmV0dXJuO1xufVxuZmxvYXQgZGlzdGFuY2UgPSBzZWdtZW50RGlzdGFuY2VQaXhlbHMoXG52Vmlld1NlZ21lbnROb3JtYWwsXG52Vmlld1N0YXJ0Tm9ybWFsLFxudlZpZXdFbmROb3JtYWwsXG5wb3MsXG52Vmlld1N0YXJ0LFxudlZpZXdFbmRcbik7XG52ZWM0IGNvbG9yID0gbGFzZXJsaW5lUHJvZmlsZShkaXN0YW5jZSk7XG5mbG9hdCBhbHBoYSA9ICgxLjAgLSBzbW9vdGhzdGVwKDAuOTk1IC0gYW5nbGVDdXRvZmZBZGp1c3QsIDAuOTk5IC0gYW5nbGVDdXRvZmZBZGp1c3QsIGFicyhkb3Qobm9ybWFsLCB2Vmlld1NlZ21lbnROb3JtYWwpKSkpO1xuZnJhZ0NvbG9yID0gbGFzZXJsaW5lT3V0cHV0KGNvbG9yICogYWxwaGEgKiBkZXB0aERpc2NvbnRpbnVpdHlBbHBoYSk7YCkscn1jb25zdCBnPXIoKSxmPXQoKSx1PU9iamVjdC5mcmVlemUoT2JqZWN0LmRlZmluZVByb3BlcnR5KHtfX3Byb3RvX186bnVsbCxidWlsZDp3fSxTeW1ib2wudG9TdHJpbmdUYWcse3ZhbHVlOlwiTW9kdWxlXCJ9KSk7ZXhwb3J0e3UgYXMgTCx3IGFzIGJ9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMzMvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtkZWcycmFkIGFzIGV9ZnJvbVwiLi4vY29yZS9tYXRoVXRpbHMuanNcIjtpbXBvcnR7c2V0IGFzIGl9ZnJvbVwiLi4vY29yZS9saWJzL2dsLW1hdHJpeC0yL21hdGgvdmVjMi5qc1wiO2ltcG9ydHtjcmVhdGUgYXMgdH1mcm9tXCIuLi9jb3JlL2xpYnMvZ2wtbWF0cml4LTIvZmFjdG9yaWVzL3ZlYzJmNjQuanNcIjtpbXBvcnR7dCBhcyBuLGQgYXMgYSxuIGFzIG8sbCBhcyByLGogYXMgbCxjIGFzIHMsaCBhcyBjLGYgYXMgZH1mcm9tXCIuL3ZlYzMyLmpzXCI7aW1wb3J0e2NyZWF0ZSBhcyBmfWZyb21cIi4uL2NvcmUvbGlicy9nbC1tYXRyaXgtMi9mYWN0b3JpZXMvdmVjM2Y2NC5qc1wiO2ltcG9ydHt0IGFzIHB9ZnJvbVwiLi92ZWM0Mi5qc1wiO2ltcG9ydHtjcmVhdGUgYXMgZ31mcm9tXCIuLi9jb3JlL2xpYnMvZ2wtbWF0cml4LTIvZmFjdG9yaWVzL3ZlYzRmNjQuanNcIjtpbXBvcnR7cG9pbnRBdCBhcyBofWZyb21cIi4uL2dlb21ldHJ5L3N1cHBvcnQvbGluZVNlZ21lbnQuanNcIjtpbXBvcnR7ZnJvbVBvc2l0aW9uQW5kTm9ybWFsIGFzIG0sY3JlYXRlIGFzIHV9ZnJvbVwiLi4vZ2VvbWV0cnkvc3VwcG9ydC9wbGFuZS5qc1wiO2ltcG9ydHthIGFzIHcsYyBhcyB4fWZyb21cIi4vc3BoZXJlLmpzXCI7aW1wb3J0e0xhc2VybGluZSBhcyB2fWZyb21cIi4uL3ZpZXdzLzNkL3dlYmdsLWVuZ2luZS9jb3JlL3NoYWRlckxpYnJhcnkvTGFzZXJsaW5lLmdsc2wuanNcIjtpbXBvcnR7U2NyZWVuU3BhY2VQYXNzIGFzIFB9ZnJvbVwiLi4vdmlld3MvM2Qvd2ViZ2wtZW5naW5lL2NvcmUvc2hhZGVyTGlicmFyeS9TY3JlZW5TcGFjZVBhc3MuZ2xzbC5qc1wiO2ltcG9ydHtGbG9hdDJQYXNzVW5pZm9ybSBhcyBifWZyb21cIi4uL3ZpZXdzLzNkL3dlYmdsLWVuZ2luZS9jb3JlL3NoYWRlck1vZHVsZXMvRmxvYXQyUGFzc1VuaWZvcm0uanNcIjtpbXBvcnR7RmxvYXQzQmluZFVuaWZvcm0gYXMgRH1mcm9tXCIuLi92aWV3cy8zZC93ZWJnbC1lbmdpbmUvY29yZS9zaGFkZXJNb2R1bGVzL0Zsb2F0M0JpbmRVbmlmb3JtLmpzXCI7aW1wb3J0e0Zsb2F0M1Bhc3NVbmlmb3JtIGFzIE19ZnJvbVwiLi4vdmlld3MvM2Qvd2ViZ2wtZW5naW5lL2NvcmUvc2hhZGVyTW9kdWxlcy9GbG9hdDNQYXNzVW5pZm9ybS5qc1wiO2ltcG9ydHtGbG9hdDRQYXNzVW5pZm9ybSBhcyBTfWZyb21cIi4uL3ZpZXdzLzNkL3dlYmdsLWVuZ2luZS9jb3JlL3NoYWRlck1vZHVsZXMvRmxvYXQ0UGFzc1VuaWZvcm0uanNcIjtpbXBvcnR7RmxvYXRCaW5kVW5pZm9ybSBhcyBDfWZyb21cIi4uL3ZpZXdzLzNkL3dlYmdsLWVuZ2luZS9jb3JlL3NoYWRlck1vZHVsZXMvRmxvYXRCaW5kVW5pZm9ybS5qc1wiO2ltcG9ydHtGbG9hdFBhc3NVbmlmb3JtIGFzIEx9ZnJvbVwiLi4vdmlld3MvM2Qvd2ViZ2wtZW5naW5lL2NvcmUvc2hhZGVyTW9kdWxlcy9GbG9hdFBhc3NVbmlmb3JtLmpzXCI7aW1wb3J0e2dsc2wgYXMgan1mcm9tXCIuLi92aWV3cy8zZC93ZWJnbC1lbmdpbmUvY29yZS9zaGFkZXJNb2R1bGVzL2dsc2wuanNcIjtpbXBvcnR7U2hhZGVyQnVpbGRlciBhcyBBfWZyb21cIi4uL3ZpZXdzL3dlYmdsL1NoYWRlckJ1aWxkZXIuanNcIjtjb25zdCBWPWUoNik7ZnVuY3Rpb24geShlKXtjb25zdCBpPW5ldyBBO2kuaW5jbHVkZShQKSxpLmluY2x1ZGUodixlKTtjb25zdCB0PWkuZnJhZ21lbnQ7aWYoZS5saW5lVmVydGljYWxQbGFuZUVuYWJsZWR8fGUuaGVpZ2h0TWFuaWZvbGRFbmFibGVkKWlmKHQudW5pZm9ybXMuYWRkKG5ldyBMKFwibWF4UGl4ZWxEaXN0YW5jZVwiLCgoaSx0KT0+ZS5oZWlnaHRNYW5pZm9sZEVuYWJsZWQ/Mip0LmNhbWVyYS5jb21wdXRlU2NyZWVuUGl4ZWxTaXplQXQoaS5oZWlnaHRNYW5pZm9sZFRhcmdldCk6Mip0LmNhbWVyYS5jb21wdXRlU2NyZWVuUGl4ZWxTaXplQXQoaS5saW5lVmVydGljYWxQbGFuZVNlZ21lbnQub3JpZ2luKSkpKSx0LmNvZGUuYWRkKGpgZmxvYXQgcGxhbmVEaXN0YW5jZVBpeGVscyh2ZWM0IHBsYW5lLCB2ZWMzIHBvcykge1xuZmxvYXQgZGlzdCA9IGRvdChwbGFuZS54eXosIHBvcykgKyBwbGFuZS53O1xuZmxvYXQgd2lkdGggPSBmd2lkdGgoZGlzdCk7XG5kaXN0IC89IG1pbih3aWR0aCwgbWF4UGl4ZWxEaXN0YW5jZSk7XG5yZXR1cm4gYWJzKGRpc3QpO1xufWApLGUuc3BoZXJpY2FsKXtjb25zdCBlPShlLGksdCk9Pm4oZSxpLmhlaWdodE1hbmlmb2xkVGFyZ2V0LHQuY2FtZXJhLnZpZXdNYXRyaXgpLGk9KGUsaSk9Pm4oZSxbMCwwLDBdLGkuY2FtZXJhLnZpZXdNYXRyaXgpO3QudW5pZm9ybXMuYWRkKG5ldyBTKFwiaGVpZ2h0TWFuaWZvbGRPcmlnaW5cIiwoKHQsbik9PihlKEYsdCxuKSxpKEgsbiksYShILEgsRiksbyhHLEgpLEdbM109cihIKSxHKSkpLG5ldyBEKFwiZ2xvYmFsT3JpZ2luXCIsKGU9PmkoRixlKSkpLG5ldyBMKFwiY29zU3BoZXJpY2FsQW5nbGVUaHJlc2hvbGRcIiwoKGUsaSk9PjEtTWF0aC5tYXgoMixsKGkuY2FtZXJhLmV5ZSxlLmhlaWdodE1hbmlmb2xkVGFyZ2V0KSppLmNhbWVyYS5wZXJSZW5kZXJQaXhlbFJhdGlvKS9yKGUuaGVpZ2h0TWFuaWZvbGRUYXJnZXQpKSkpLHQuY29kZS5hZGQoamBmbG9hdCBnbG9iZURpc3RhbmNlUGl4ZWxzKGZsb2F0IHBvc0luR2xvYmFsT3JpZ2luTGVuZ3RoKSB7XG5mbG9hdCBkaXN0ID0gYWJzKHBvc0luR2xvYmFsT3JpZ2luTGVuZ3RoIC0gaGVpZ2h0TWFuaWZvbGRPcmlnaW4udyk7XG5mbG9hdCB3aWR0aCA9IGZ3aWR0aChkaXN0KTtcbmRpc3QgLz0gbWluKHdpZHRoLCBtYXhQaXhlbERpc3RhbmNlKTtcbnJldHVybiBhYnMoZGlzdCk7XG59XG5mbG9hdCBoZWlnaHRNYW5pZm9sZERpc3RhbmNlUGl4ZWxzKHZlYzQgaGVpZ2h0UGxhbmUsIHZlYzMgcG9zKSB7XG52ZWMzIHBvc0luR2xvYmFsT3JpZ2luTm9ybSA9IG5vcm1hbGl6ZShnbG9iYWxPcmlnaW4gLSBwb3MpO1xuZmxvYXQgY29zQW5nbGUgPSBkb3QocG9zSW5HbG9iYWxPcmlnaW5Ob3JtLCBoZWlnaHRNYW5pZm9sZE9yaWdpbi54eXopO1xudmVjMyBwb3NJbkdsb2JhbE9yaWdpbiA9IGdsb2JhbE9yaWdpbiAtIHBvcztcbmZsb2F0IHBvc0luR2xvYmFsT3JpZ2luTGVuZ3RoID0gbGVuZ3RoKHBvc0luR2xvYmFsT3JpZ2luKTtcbmZsb2F0IHNwaGVyaWNhbERpc3RhbmNlID0gZ2xvYmVEaXN0YW5jZVBpeGVscyhwb3NJbkdsb2JhbE9yaWdpbkxlbmd0aCk7XG5mbG9hdCBwbGFuYXJEaXN0YW5jZSA9IHBsYW5lRGlzdGFuY2VQaXhlbHMoaGVpZ2h0UGxhbmUsIHBvcyk7XG5yZXR1cm4gY29zQW5nbGUgPCBjb3NTcGhlcmljYWxBbmdsZVRocmVzaG9sZCA/IHNwaGVyaWNhbERpc3RhbmNlIDogcGxhbmFyRGlzdGFuY2U7XG59YCl9ZWxzZSB0LmNvZGUuYWRkKGpgZmxvYXQgaGVpZ2h0TWFuaWZvbGREaXN0YW5jZVBpeGVscyh2ZWM0IGhlaWdodFBsYW5lLCB2ZWMzIHBvcykge1xucmV0dXJuIHBsYW5lRGlzdGFuY2VQaXhlbHMoaGVpZ2h0UGxhbmUsIHBvcyk7XG59YCk7aWYoZS5wb2ludERpc3RhbmNlRW5hYmxlZCYmKHQudW5pZm9ybXMuYWRkKG5ldyBMKFwibWF4UGl4ZWxEaXN0YW5jZVwiLCgoZSxpKT0+MippLmNhbWVyYS5jb21wdXRlU2NyZWVuUGl4ZWxTaXplQXQoZS5wb2ludERpc3RhbmNlVGFyZ2V0KSkpKSx0LmNvZGUuYWRkKGpgZmxvYXQgc3BoZXJlRGlzdGFuY2VQaXhlbHModmVjNCBzcGhlcmUsIHZlYzMgcG9zKSB7XG5mbG9hdCBkaXN0ID0gZGlzdGFuY2Uoc3BoZXJlLnh5eiwgcG9zKSAtIHNwaGVyZS53O1xuZmxvYXQgd2lkdGggPSBmd2lkdGgoZGlzdCk7XG5kaXN0IC89IG1pbih3aWR0aCwgbWF4UGl4ZWxEaXN0YW5jZSk7XG5yZXR1cm4gYWJzKGRpc3QpO1xufWApKSxlLmludGVyc2VjdHNMaW5lRW5hYmxlZCYmdC51bmlmb3Jtcy5hZGQobmV3IEMoXCJwZXJTY3JlZW5QaXhlbFJhdGlvXCIsKGU9PmUuY2FtZXJhLnBlclNjcmVlblBpeGVsUmF0aW8pKSkuY29kZS5hZGQoamBmbG9hdCBsaW5lRGlzdGFuY2VQaXhlbHModmVjMyBzdGFydCwgdmVjMyBkaXIsIGZsb2F0IHJhZGl1cywgdmVjMyBwb3MpIHtcbmZsb2F0IGRpc3QgPSBsZW5ndGgoY3Jvc3MoZGlyLCBwb3MgLSBzdGFydCkpIC8gKGxlbmd0aChwb3MpICogcGVyU2NyZWVuUGl4ZWxSYXRpbyk7XG5yZXR1cm4gYWJzKGRpc3QpIC0gcmFkaXVzO1xufWApLChlLmxpbmVWZXJ0aWNhbFBsYW5lRW5hYmxlZHx8ZS5pbnRlcnNlY3RzTGluZUVuYWJsZWQpJiZ0LmNvZGUuYWRkKGpgYm9vbCBwb2ludElzV2l0aGluTGluZSh2ZWMzIHBvcywgdmVjMyBzdGFydCwgdmVjMyBlbmQpIHtcbnZlYzMgZGlyID0gZW5kIC0gc3RhcnQ7XG5mbG9hdCB0MiA9IGRvdChkaXIsIHBvcyAtIHN0YXJ0KTtcbmZsb2F0IGwyID0gZG90KGRpciwgZGlyKTtcbnJldHVybiB0MiA+PSAwLjAgJiYgdDIgPD0gbDI7XG59YCksdC5tYWluLmFkZChqYHZlYzMgcG9zO1xudmVjMyBub3JtYWw7XG5mbG9hdCBhbmdsZUN1dG9mZkFkanVzdDtcbmZsb2F0IGRlcHRoRGlzY29udGludWl0eUFscGhhO1xuaWYgKCFsYXNlcmxpbmVSZWNvbnN0cnVjdEZyb21EZXB0aChwb3MsIG5vcm1hbCwgYW5nbGVDdXRvZmZBZGp1c3QsIGRlcHRoRGlzY29udGludWl0eUFscGhhKSkge1xuZnJhZ0NvbG9yID0gdmVjNCgwLjApO1xucmV0dXJuO1xufVxudmVjNCBjb2xvciA9IHZlYzQoMC4wKTtgKSxlLmhlaWdodE1hbmlmb2xkRW5hYmxlZCl7dC51bmlmb3Jtcy5hZGQobmV3IGIoXCJhbmdsZUN1dG9mZlwiLChlPT5PKGUpKSksbmV3IFMoXCJoZWlnaHRQbGFuZVwiLCgoZSxpKT0+UihlLmhlaWdodE1hbmlmb2xkVGFyZ2V0LGUucmVuZGVyQ29vcmRzSGVscGVyLndvcmxkVXBBdFBvc2l0aW9uKGUuaGVpZ2h0TWFuaWZvbGRUYXJnZXQsRiksaS5jYW1lcmEudmlld01hdHJpeCkpKSk7Y29uc3QgaT1lLnNwaGVyaWNhbD9qYG5vcm1hbGl6ZShnbG9iYWxPcmlnaW4gLSBwb3MpYDpqYGhlaWdodFBsYW5lLnh5emA7dC5tYWluLmFkZChqYFxuICAgICAgdmVjMiBhbmdsZUN1dG9mZkFkanVzdGVkID0gYW5nbGVDdXRvZmYgLSBhbmdsZUN1dG9mZkFkanVzdDtcbiAgICAgIC8vIEZhZGUgb3V0IGxhc2VybGluZXMgb24gZmxhdCBzdXJmYWNlc1xuICAgICAgZmxvYXQgaGVpZ2h0TWFuaWZvbGRBbHBoYSA9IDEuMCAtIHNtb290aHN0ZXAoYW5nbGVDdXRvZmZBZGp1c3RlZC54LCBhbmdsZUN1dG9mZkFkanVzdGVkLnksIGFicyhkb3Qobm9ybWFsLCAke2l9KSkpO1xuICAgICAgdmVjNCBoZWlnaHRNYW5pZm9sZENvbG9yID0gbGFzZXJsaW5lUHJvZmlsZShoZWlnaHRNYW5pZm9sZERpc3RhbmNlUGl4ZWxzKGhlaWdodFBsYW5lLCBwb3MpKTtcbiAgICAgIGNvbG9yID0gbWF4KGNvbG9yLCBoZWlnaHRNYW5pZm9sZENvbG9yICogaGVpZ2h0TWFuaWZvbGRBbHBoYSk7YCl9cmV0dXJuIGUucG9pbnREaXN0YW5jZUVuYWJsZWQmJih0LnVuaWZvcm1zLmFkZChuZXcgYihcImFuZ2xlQ3V0b2ZmXCIsKGU9Pk8oZSkpKSxuZXcgUyhcInBvaW50RGlzdGFuY2VTcGhlcmVcIiwoKGUsaSk9PkUoZSxpKSkpKSx0Lm1haW4uYWRkKGpgZmxvYXQgcG9pbnREaXN0YW5jZVNwaGVyZURpc3RhbmNlID0gc3BoZXJlRGlzdGFuY2VQaXhlbHMocG9pbnREaXN0YW5jZVNwaGVyZSwgcG9zKTtcbnZlYzQgcG9pbnREaXN0YW5jZVNwaGVyZUNvbG9yID0gbGFzZXJsaW5lUHJvZmlsZShwb2ludERpc3RhbmNlU3BoZXJlRGlzdGFuY2UpO1xuZmxvYXQgcG9pbnREaXN0YW5jZVNwaGVyZUFscGhhID0gMS4wIC0gc21vb3Roc3RlcChhbmdsZUN1dG9mZi54LCBhbmdsZUN1dG9mZi55LCBhYnMoZG90KG5vcm1hbCwgbm9ybWFsaXplKHBvcyAtIHBvaW50RGlzdGFuY2VTcGhlcmUueHl6KSkpKTtcbmNvbG9yID0gbWF4KGNvbG9yLCBwb2ludERpc3RhbmNlU3BoZXJlQ29sb3IgKiBwb2ludERpc3RhbmNlU3BoZXJlQWxwaGEpO2ApKSxlLmxpbmVWZXJ0aWNhbFBsYW5lRW5hYmxlZCYmKHQudW5pZm9ybXMuYWRkKG5ldyBiKFwiYW5nbGVDdXRvZmZcIiwoZT0+TyhlKSkpLG5ldyBTKFwibGluZVZlcnRpY2FsUGxhbmVcIiwoKGUsaSk9PnooZSxpKSkpLG5ldyBNKFwibGluZVZlcnRpY2FsU3RhcnRcIiwoKGUsaSk9PkkoZSxpKSkpLG5ldyBNKFwibGluZVZlcnRpY2FsRW5kXCIsKChlLGkpPT5UKGUsaSkpKSksdC5tYWluLmFkZChqYGlmIChwb2ludElzV2l0aGluTGluZShwb3MsIGxpbmVWZXJ0aWNhbFN0YXJ0LCBsaW5lVmVydGljYWxFbmQpKSB7XG5mbG9hdCBsaW5lVmVydGljYWxEaXN0YW5jZSA9IHBsYW5lRGlzdGFuY2VQaXhlbHMobGluZVZlcnRpY2FsUGxhbmUsIHBvcyk7XG52ZWM0IGxpbmVWZXJ0aWNhbENvbG9yID0gbGFzZXJsaW5lUHJvZmlsZShsaW5lVmVydGljYWxEaXN0YW5jZSk7XG5mbG9hdCBsaW5lVmVydGljYWxBbHBoYSA9IDEuMCAtIHNtb290aHN0ZXAoYW5nbGVDdXRvZmYueCwgYW5nbGVDdXRvZmYueSwgYWJzKGRvdChub3JtYWwsIGxpbmVWZXJ0aWNhbFBsYW5lLnh5eikpKTtcbmNvbG9yID0gbWF4KGNvbG9yLCBsaW5lVmVydGljYWxDb2xvciAqIGxpbmVWZXJ0aWNhbEFscGhhKTtcbn1gKSksZS5pbnRlcnNlY3RzTGluZUVuYWJsZWQmJih0LnVuaWZvcm1zLmFkZChuZXcgYihcImFuZ2xlQ3V0b2ZmXCIsKGU9Pk8oZSkpKSxuZXcgTShcImludGVyc2VjdHNMaW5lU3RhcnRcIiwoKGUsaSk9Pm4oRixlLmxpbmVTdGFydFdvcmxkLGkuY2FtZXJhLnZpZXdNYXRyaXgpKSksbmV3IE0oXCJpbnRlcnNlY3RzTGluZUVuZFwiLCgoZSxpKT0+bihGLGUubGluZUVuZFdvcmxkLGkuY2FtZXJhLnZpZXdNYXRyaXgpKSksbmV3IE0oXCJpbnRlcnNlY3RzTGluZURpcmVjdGlvblwiLCgoZSxpKT0+KHMoRyxlLmludGVyc2VjdHNMaW5lU2VnbWVudC52ZWN0b3IpLEdbM109MCxvKEYscChHLEcsaS5jYW1lcmEudmlld01hdHJpeCkpKSkpLG5ldyBMKFwiaW50ZXJzZWN0c0xpbmVSYWRpdXNcIiwoZT0+ZS5pbnRlcnNlY3RzTGluZVJhZGl1cykpKSx0Lm1haW4uYWRkKGpgaWYgKHBvaW50SXNXaXRoaW5MaW5lKHBvcywgaW50ZXJzZWN0c0xpbmVTdGFydCwgaW50ZXJzZWN0c0xpbmVFbmQpKSB7XG5mbG9hdCBpbnRlcnNlY3RzTGluZURpc3RhbmNlID0gbGluZURpc3RhbmNlUGl4ZWxzKGludGVyc2VjdHNMaW5lU3RhcnQsIGludGVyc2VjdHNMaW5lRGlyZWN0aW9uLCBpbnRlcnNlY3RzTGluZVJhZGl1cywgcG9zKTtcbnZlYzQgaW50ZXJzZWN0c0xpbmVDb2xvciA9IGxhc2VybGluZVByb2ZpbGUoaW50ZXJzZWN0c0xpbmVEaXN0YW5jZSk7XG5mbG9hdCBpbnRlcnNlY3RzTGluZUFscGhhID0gMS4wIC0gc21vb3Roc3RlcChhbmdsZUN1dG9mZi54LCBhbmdsZUN1dG9mZi55LCAxLjAgLSBhYnMoZG90KG5vcm1hbCwgaW50ZXJzZWN0c0xpbmVEaXJlY3Rpb24pKSk7XG5jb2xvciA9IG1heChjb2xvciwgaW50ZXJzZWN0c0xpbmVDb2xvciAqIGludGVyc2VjdHNMaW5lQWxwaGEpO1xufWApKSx0Lm1haW4uYWRkKGpgZnJhZ0NvbG9yID0gbGFzZXJsaW5lT3V0cHV0KGNvbG9yICogZGVwdGhEaXNjb250aW51aXR5QWxwaGEpO2ApLGl9ZnVuY3Rpb24gTyh0KXtyZXR1cm4gaShVLE1hdGguY29zKHQuYW5nbGVDdXRvZmYpLE1hdGguY29zKE1hdGgubWF4KDAsdC5hbmdsZUN1dG9mZi1lKDIpKSkpfWZ1bmN0aW9uIEUoZSxpKXtyZXR1cm4gbih3KE4pLGUucG9pbnREaXN0YW5jZU9yaWdpbixpLmNhbWVyYS52aWV3TWF0cml4KSxOWzNdPWwoZS5wb2ludERpc3RhbmNlT3JpZ2luLGUucG9pbnREaXN0YW5jZVRhcmdldCksTn1mdW5jdGlvbiB6KGUsaSl7Y29uc3QgdD1oKGUubGluZVZlcnRpY2FsUGxhbmVTZWdtZW50LC41LEYpLG49ZS5yZW5kZXJDb29yZHNIZWxwZXIud29ybGRVcEF0UG9zaXRpb24odCxXKSxhPW8oSCxlLmxpbmVWZXJ0aWNhbFBsYW5lU2VnbWVudC52ZWN0b3IpLHI9YyhGLG4sYSk7cmV0dXJuIG8ocixyKSxSKGUubGluZVZlcnRpY2FsUGxhbmVTZWdtZW50Lm9yaWdpbixyLGkuY2FtZXJhLnZpZXdNYXRyaXgpfWZ1bmN0aW9uIEkoZSxpKXtjb25zdCB0PXMoRixlLmxpbmVWZXJ0aWNhbFBsYW5lU2VnbWVudC5vcmlnaW4pO3JldHVybiBlLnJlbmRlckNvb3Jkc0hlbHBlci5zZXRBbHRpdHVkZSh0LDApLG4odCx0LGkuY2FtZXJhLnZpZXdNYXRyaXgpfWZ1bmN0aW9uIFQoZSxpKXtjb25zdCB0PWQoRixlLmxpbmVWZXJ0aWNhbFBsYW5lU2VnbWVudC5vcmlnaW4sZS5saW5lVmVydGljYWxQbGFuZVNlZ21lbnQudmVjdG9yKTtyZXR1cm4gZS5yZW5kZXJDb29yZHNIZWxwZXIuc2V0QWx0aXR1ZGUodCwwKSxuKHQsdCxpLmNhbWVyYS52aWV3TWF0cml4KX1mdW5jdGlvbiBSKGUsaSx0KXtyZXR1cm4gbihfLGUsdCkscyhHLGkpLEdbM109MCxwKEcsRyx0KSxtKF8sRyxCKX1jb25zdCBVPXQoKSxGPWYoKSxHPWcoKSxXPWYoKSxIPWYoKSxfPWYoKSxCPXUoKSxOPXgoKSwkPU9iamVjdC5mcmVlemUoT2JqZWN0LmRlZmluZVByb3BlcnR5KHtfX3Byb3RvX186bnVsbCxidWlsZDp5LGRlZmF1bHRBbmdsZUN1dG9mZjpWfSxTeW1ib2wudG9TdHJpbmdUYWcse3ZhbHVlOlwiTW9kdWxlXCJ9KSk7ZXhwb3J0eyQgYXMgTCx5IGFzIGIsViBhcyBkfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjMzL2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnRcIi4uLy4uLy4uLy4uL2NvcmUvaGFzLmpzXCI7aW1wb3J0e2MgYXMgZX1mcm9tXCIuLi8uLi8uLi8uLi9jaHVua3MvdmVjMzIuanNcIjtpbXBvcnR7Y3JlYXRlIGFzIHQsY2xvbmUgYXMgaX1mcm9tXCIuLi8uLi8uLi8uLi9jb3JlL2xpYnMvZ2wtbWF0cml4LTIvZmFjdG9yaWVzL3ZlYzNmNjQuanNcIjtpbXBvcnR7Y3JlYXRlIGFzIG4sZnJvbVZhbHVlcyBhcyBzLGNvcHkgYXMgcn1mcm9tXCIuLi8uLi8uLi8uLi9nZW9tZXRyeS9zdXBwb3J0L2xpbmVTZWdtZW50LmpzXCI7aW1wb3J0e1Zpc3VhbEVsZW1lbnQgYXMgbH1mcm9tXCIuL1Zpc3VhbEVsZW1lbnQuanNcIjtpbXBvcnR7TGFzZXJMaW5lUmVuZGVyZXIgYXMgYX1mcm9tXCIuLi8uLi93ZWJnbC1lbmdpbmUvZWZmZWN0cy9sYXNlcmxpbmVzL0xhc2VyTGluZVJlbmRlcmVyLmpzXCI7aW1wb3J0e2QgYXMgaH1mcm9tXCIuLi8uLi8uLi8uLi9jaHVua3MvTGFzZXJsaW5lcy5nbHNsLmpzXCI7Y2xhc3MgYyBleHRlbmRzIGx7Y29uc3RydWN0b3IoZSl7c3VwZXIoZSksdGhpcy5fYW5nbGVDdXRvZmY9aCx0aGlzLl9zdHlsZT17fSx0aGlzLl9oZWlnaHRNYW5pZm9sZFRhcmdldD10KCksdGhpcy5faGVpZ2h0TWFuaWZvbGRFbmFibGVkPSExLHRoaXMuX2ludGVyc2VjdHNMaW5lPW4oKSx0aGlzLl9pbnRlcnNlY3RzTGluZUVuYWJsZWQ9ITEsdGhpcy5faW50ZXJzZWN0c0xpbmVJbmZpbml0ZT0hMSx0aGlzLl9saW5lVmVydGljYWxQbGFuZVNlZ21lbnQ9bnVsbCx0aGlzLl9wYXRoVmVydGljYWxQbGFuZUJ1ZmZlcnM9bnVsbCx0aGlzLl9wb2ludERpc3RhbmNlTGluZT1udWxsLHRoaXMuYXBwbHlQcm9wZXJ0aWVzKGUpfWdldCB0ZXN0RGF0YSgpe31jcmVhdGVSZXNvdXJjZXMoKXt0aGlzLl9lbnN1cmVSZW5kZXJlcigpfWRlc3Ryb3lSZXNvdXJjZXMoKXt0aGlzLl9kaXNwb3NlUmVuZGVyZXIoKX11cGRhdGVWaXNpYmlsaXR5KCl7dGhpcy5fc3luY1JlbmRlcmVyKCksdGhpcy5fc3luY0hlaWdodE1hbmlmb2xkKCksdGhpcy5fc3luY0ludGVyc2VjdHNMaW5lKCksdGhpcy5fc3luY1BhdGhWZXJ0aWNhbFBsYW5lKCksdGhpcy5fc3luY0xpbmVWZXJ0aWNhbFBsYW5lKCksdGhpcy5fc3luY1BvaW50RGlzdGFuY2UoKX1nZXQgYW5nbGVDdXRvZmYoKXtyZXR1cm4gdGhpcy5fYW5nbGVDdXRvZmZ9c2V0IGFuZ2xlQ3V0b2ZmKGUpe3RoaXMuX2FuZ2xlQ3V0b2ZmIT09ZSYmKHRoaXMuX2FuZ2xlQ3V0b2ZmPWUsdGhpcy5fc3luY0FuZ2xlQ3V0b2ZmKCkpfWdldCBzdHlsZSgpe3JldHVybiB0aGlzLl9zdHlsZX1zZXQgc3R5bGUoZSl7dGhpcy5fc3R5bGU9ZSx0aGlzLl9zeW5jU3R5bGUoKX1nZXQgaGVpZ2h0TWFuaWZvbGRUYXJnZXQoKXtyZXR1cm4gdGhpcy5faGVpZ2h0TWFuaWZvbGRFbmFibGVkP3RoaXMuX2hlaWdodE1hbmlmb2xkVGFyZ2V0Om51bGx9c2V0IGhlaWdodE1hbmlmb2xkVGFyZ2V0KHQpe251bGwhPXQ/KGUodGhpcy5faGVpZ2h0TWFuaWZvbGRUYXJnZXQsdCksdGhpcy5faGVpZ2h0TWFuaWZvbGRFbmFibGVkPSEwKTp0aGlzLl9oZWlnaHRNYW5pZm9sZEVuYWJsZWQ9ITEsdGhpcy5fc3luY1JlbmRlcmVyKCksdGhpcy5fc3luY0hlaWdodE1hbmlmb2xkKCl9c2V0IGludGVyc2VjdHNXb3JsZFVwQXRMb2NhdGlvbihlKXtpZihudWxsPT1lKXJldHVybiB2b2lkKHRoaXMuaW50ZXJzZWN0c0xpbmU9bnVsbCk7Y29uc3QgdD10aGlzLnZpZXcucmVuZGVyQ29vcmRzSGVscGVyLndvcmxkVXBBdFBvc2l0aW9uKGUsXyk7dGhpcy5pbnRlcnNlY3RzTGluZT1zKGUsdCksdGhpcy5pbnRlcnNlY3RzTGluZUluZmluaXRlPSEwfWdldCBpbnRlcnNlY3RzTGluZSgpe3JldHVybiB0aGlzLl9pbnRlcnNlY3RzTGluZUVuYWJsZWQ/dGhpcy5faW50ZXJzZWN0c0xpbmU6bnVsbH1zZXQgaW50ZXJzZWN0c0xpbmUoZSl7bnVsbCE9ZT8ocihlLHRoaXMuX2ludGVyc2VjdHNMaW5lKSx0aGlzLl9pbnRlcnNlY3RzTGluZUVuYWJsZWQ9ITApOnRoaXMuX2ludGVyc2VjdHNMaW5lRW5hYmxlZD0hMSx0aGlzLl9zeW5jSW50ZXJzZWN0c0xpbmUoKSx0aGlzLl9zeW5jUmVuZGVyZXIoKX1nZXQgaW50ZXJzZWN0c0xpbmVJbmZpbml0ZSgpe3JldHVybiB0aGlzLl9pbnRlcnNlY3RzTGluZUluZmluaXRlfXNldCBpbnRlcnNlY3RzTGluZUluZmluaXRlKGUpe3RoaXMuX2ludGVyc2VjdHNMaW5lSW5maW5pdGU9ZSx0aGlzLl9zeW5jSW50ZXJzZWN0c0xpbmVJbmZpbml0ZSgpfWdldCBsaW5lVmVydGljYWxQbGFuZVNlZ21lbnQoKXtyZXR1cm4gdGhpcy5fbGluZVZlcnRpY2FsUGxhbmVTZWdtZW50fXNldCBsaW5lVmVydGljYWxQbGFuZVNlZ21lbnQoZSl7dGhpcy5fbGluZVZlcnRpY2FsUGxhbmVTZWdtZW50PW51bGwhPWU/cihlKTpudWxsLHRoaXMuX3N5bmNMaW5lVmVydGljYWxQbGFuZSgpLHRoaXMuX3N5bmNSZW5kZXJlcigpfWdldCBwYXRoVmVydGljYWxQbGFuZSgpe3JldHVybiB0aGlzLl9wYXRoVmVydGljYWxQbGFuZUJ1ZmZlcnN9c2V0IHBhdGhWZXJ0aWNhbFBsYW5lKGUpe3RoaXMuX3BhdGhWZXJ0aWNhbFBsYW5lQnVmZmVycz1lLHRoaXMuX3N5bmNQYXRoVmVydGljYWxQbGFuZSgpLHRoaXMuX3N5bmNMaW5lVmVydGljYWxQbGFuZSgpLHRoaXMuX3N5bmNQb2ludERpc3RhbmNlKCksdGhpcy5fc3luY1JlbmRlcmVyKCl9Z2V0IHBvaW50RGlzdGFuY2VMaW5lKCl7cmV0dXJuIHRoaXMuX3BvaW50RGlzdGFuY2VMaW5lfXNldCBwb2ludERpc3RhbmNlTGluZShlKXt0aGlzLl9wb2ludERpc3RhbmNlTGluZT1udWxsIT1lP3tvcmlnaW46aShlLm9yaWdpbiksdGFyZ2V0OmUudGFyZ2V0P2koZS50YXJnZXQpOm51bGx9Om51bGwsdGhpcy5fc3luY1BvaW50RGlzdGFuY2UoKSx0aGlzLl9zeW5jUmVuZGVyZXIoKX1nZXQgaXNEZWNvcmF0aW9uKCl7cmV0dXJuIHRoaXMuX2lzRGVjb3JhdGlvbn1zZXQgaXNEZWNvcmF0aW9uKGUpe3RoaXMuX2lzRGVjb3JhdGlvbj1lLHRoaXMuX3JlbmRlcmVyJiYodGhpcy5fcmVuZGVyZXIuaXNEZWNvcmF0aW9uPWUpfV9zeW5jUmVuZGVyZXIoKXt0aGlzLmF0dGFjaGVkJiZ0aGlzLnZpc2libGUmJih0aGlzLl9pbnRlcnNlY3RzTGluZUVuYWJsZWR8fHRoaXMuX2hlaWdodE1hbmlmb2xkRW5hYmxlZHx8bnVsbCE9dGhpcy5fcG9pbnREaXN0YW5jZUxpbmV8fG51bGwhPXRoaXMuX3BhdGhWZXJ0aWNhbFBsYW5lQnVmZmVycyk/dGhpcy5fZW5zdXJlUmVuZGVyZXIoKTp0aGlzLl9kaXNwb3NlUmVuZGVyZXIoKX1fZW5zdXJlUmVuZGVyZXIoKXtudWxsPT10aGlzLl9yZW5kZXJlciYmKHRoaXMuX3JlbmRlcmVyPW5ldyBhKHt2aWV3OnRoaXMudmlldyxjb250cmFzdENvbnRyb2xFbmFibGVkOiEwLGlzRGVjb3JhdGlvbjp0aGlzLmlzRGVjb3JhdGlvbn0pLHRoaXMuX3N5bmNTdHlsZSgpLHRoaXMuX3N5bmNIZWlnaHRNYW5pZm9sZCgpLHRoaXMuX3N5bmNJbnRlcnNlY3RzTGluZSgpLHRoaXMuX3N5bmNJbnRlcnNlY3RzTGluZUluZmluaXRlKCksdGhpcy5fc3luY1BhdGhWZXJ0aWNhbFBsYW5lKCksdGhpcy5fc3luY0xpbmVWZXJ0aWNhbFBsYW5lKCksdGhpcy5fc3luY1BvaW50RGlzdGFuY2UoKSx0aGlzLl9zeW5jQW5nbGVDdXRvZmYoKSl9X3N5bmNTdHlsZSgpe251bGwhPXRoaXMuX3JlbmRlcmVyJiZ0aGlzLl9yZW5kZXJlci5zZXRQYXJhbWV0ZXJzKHRoaXMuX3N0eWxlKX1fc3luY0FuZ2xlQ3V0b2ZmKCl7dGhpcy5fcmVuZGVyZXI/LnNldFBhcmFtZXRlcnMoe2FuZ2xlQ3V0b2ZmOnRoaXMuX2FuZ2xlQ3V0b2ZmfSl9X3N5bmNIZWlnaHRNYW5pZm9sZCgpe251bGwhPXRoaXMuX3JlbmRlcmVyJiYodGhpcy5fcmVuZGVyZXIuaGVpZ2h0TWFuaWZvbGRFbmFibGVkPXRoaXMuX2hlaWdodE1hbmlmb2xkRW5hYmxlZCYmdGhpcy52aXNpYmxlLHRoaXMuX2hlaWdodE1hbmlmb2xkRW5hYmxlZCYmKHRoaXMuX3JlbmRlcmVyLmhlaWdodE1hbmlmb2xkVGFyZ2V0PXRoaXMuX2hlaWdodE1hbmlmb2xkVGFyZ2V0KSl9X3N5bmNJbnRlcnNlY3RzTGluZSgpe251bGwhPXRoaXMuX3JlbmRlcmVyJiYodGhpcy5fcmVuZGVyZXIuaW50ZXJzZWN0c0xpbmVFbmFibGVkPXRoaXMuX2ludGVyc2VjdHNMaW5lRW5hYmxlZCYmdGhpcy52aXNpYmxlLHRoaXMuX2ludGVyc2VjdHNMaW5lRW5hYmxlZCYmKHRoaXMuX3JlbmRlcmVyLmludGVyc2VjdHNMaW5lU2VnbWVudD10aGlzLl9pbnRlcnNlY3RzTGluZSkpfV9zeW5jSW50ZXJzZWN0c0xpbmVJbmZpbml0ZSgpe251bGwhPXRoaXMuX3JlbmRlcmVyJiYodGhpcy5fcmVuZGVyZXIuaW50ZXJzZWN0c0xpbmVJbmZpbml0ZT10aGlzLl9pbnRlcnNlY3RzTGluZUluZmluaXRlKX1fc3luY1BhdGhWZXJ0aWNhbFBsYW5lKCl7bnVsbCE9dGhpcy5fcmVuZGVyZXImJih0aGlzLl9yZW5kZXJlci5wYXRoVmVydGljYWxQbGFuZUVuYWJsZWQ9bnVsbCE9dGhpcy5fcGF0aFZlcnRpY2FsUGxhbmVCdWZmZXJzJiZ0aGlzLnZpc2libGUsbnVsbCE9dGhpcy5fcGF0aFZlcnRpY2FsUGxhbmVCdWZmZXJzJiYodGhpcy5fcmVuZGVyZXIucGF0aFZlcnRpY2FsUGxhbmVCdWZmZXJzPXRoaXMuX3BhdGhWZXJ0aWNhbFBsYW5lQnVmZmVycykpfV9zeW5jTGluZVZlcnRpY2FsUGxhbmUoKXtudWxsIT10aGlzLl9yZW5kZXJlciYmKHRoaXMuX3JlbmRlcmVyLmxpbmVWZXJ0aWNhbFBsYW5lRW5hYmxlZD1udWxsIT10aGlzLl9saW5lVmVydGljYWxQbGFuZVNlZ21lbnQmJnRoaXMudmlzaWJsZSxudWxsIT10aGlzLl9saW5lVmVydGljYWxQbGFuZVNlZ21lbnQmJih0aGlzLl9yZW5kZXJlci5saW5lVmVydGljYWxQbGFuZVNlZ21lbnQ9dGhpcy5fbGluZVZlcnRpY2FsUGxhbmVTZWdtZW50KSl9X3N5bmNQb2ludERpc3RhbmNlKCl7aWYobnVsbD09dGhpcy5fcmVuZGVyZXIpcmV0dXJuO2NvbnN0IGU9dGhpcy5fcG9pbnREaXN0YW5jZUxpbmUsdD1udWxsIT1lO3RoaXMuX3JlbmRlcmVyLnBvaW50RGlzdGFuY2VFbmFibGVkPXQmJm51bGwhPWUudGFyZ2V0JiZ0aGlzLnZpc2libGUsdCYmKHRoaXMuX3JlbmRlcmVyLnBvaW50RGlzdGFuY2VPcmlnaW49ZS5vcmlnaW4sbnVsbCE9ZS50YXJnZXQmJih0aGlzLl9yZW5kZXJlci5wb2ludERpc3RhbmNlVGFyZ2V0PWUudGFyZ2V0KSl9X2Rpc3Bvc2VSZW5kZXJlcigpe251bGwhPXRoaXMuX3JlbmRlcmVyJiZ0aGlzLnZpZXcuc3RhZ2UmJih0aGlzLl9yZW5kZXJlci5kZXN0cm95KCksdGhpcy5fcmVuZGVyZXI9bnVsbCl9Zm9yRWFjaE1hdGVyaWFsKCl7fX1jb25zdCBfPXQoKTtleHBvcnR7YyBhcyBMYXNlcmxpbmVWaXN1YWxFbGVtZW50fTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjMzL2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnRcIi4uLy4uLy4uLy4uL2NvcmUvaGFzLmpzXCI7aW1wb3J0e3dhdGNoIGFzIGV9ZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9yZWFjdGl2ZVV0aWxzLmpzXCI7Y2xhc3MgdHtnZXQgaXNEZWNvcmF0aW9uKCl7cmV0dXJuIHRoaXMuX2lzRGVjb3JhdGlvbn1zZXQgaXNEZWNvcmF0aW9uKGUpe3RoaXMuX2lzRGVjb3JhdGlvbj1lLHRoaXMuZm9yRWFjaE1hdGVyaWFsKCh0PT50Py5zZXRQYXJhbWV0ZXJzKHtpc0RlY29yYXRpb246ZX0pKSl9Y29uc3RydWN0b3IodCl7dGhpcy5faXNEZWNvcmF0aW9uPSExLHRoaXMuX2F0dGFjaGVkPSExLHRoaXMuX3Jlc291cmNlc0NyZWF0ZWQ9ITEsdGhpcy5fdmlzaWJsZT0hMCx0aGlzLnZpZXc9dC52aWV3LHRoaXMuX2hhbmRsZT1lKCgoKT0+dC52aWV3LnJlYWR5KSwoZT0+e3RoaXMuX3Jlc291cmNlc0NyZWF0ZWQmJihlP3RoaXMuX2NyZWF0ZVJlc291cmNlcygpOnRoaXMuX2Rlc3Ryb3lSZXNvdXJjZXMoKSl9KSl9YXBwbHlQcm9wZXJ0aWVzKGUpe2xldCB0PSExO2Zvcihjb25zdCBzIGluIGUpcyBpbiB0aGlzJiYoXCJhdHRhY2hlZFwiPT09cz90PSEhZVtzXTp0aGlzW3NdPWVbc10pO3RoaXMuYXR0YWNoZWQ9dH1kZXN0cm95KCl7dGhpcy5hdHRhY2hlZD0hMSx0aGlzLl9oYW5kbGUucmVtb3ZlKCl9Z2V0IGF0dGFjaGVkKCl7cmV0dXJuIHRoaXMuX2F0dGFjaGVkfXNldCBhdHRhY2hlZChlKXtlIT09dGhpcy5fYXR0YWNoZWQmJnRoaXMudmlldy5zdGFnZSYmKHRoaXMuX2F0dGFjaGVkPWUsdGhpcy5fYXR0YWNoZWQmJiF0aGlzLl9yZXNvdXJjZXNDcmVhdGVkP3RoaXMuX2NyZWF0ZVJlc291cmNlcygpOiF0aGlzLl9hdHRhY2hlZCYmdGhpcy5fcmVzb3VyY2VzQ3JlYXRlZCYmdGhpcy5fZGVzdHJveVJlc291cmNlcygpLHRoaXMub25BdHRhY2hlZENoYW5nZShlKSl9b25BdHRhY2hlZENoYW5nZShlKXt9Z2V0IHZpc2libGUoKXtyZXR1cm4gdGhpcy5fdmlzaWJsZX1zZXQgdmlzaWJsZShlKXtlIT09dGhpcy5fdmlzaWJsZSYmKHRoaXMuX3Zpc2libGU9ZSx0aGlzLmF0dGFjaGVkJiZ0aGlzLnVwZGF0ZVZpc2liaWxpdHkoZSkpfV9jcmVhdGVSZXNvdXJjZXMoKXt0aGlzLmNyZWF0ZVJlc291cmNlcygpLHRoaXMuX3Jlc291cmNlc0NyZWF0ZWQ9ITAsdGhpcy51cGRhdGVWaXNpYmlsaXR5KHRoaXMudmlzaWJsZSl9X2Rlc3Ryb3lSZXNvdXJjZXMoKXt0aGlzLmRlc3Ryb3lSZXNvdXJjZXMoKSx0aGlzLl9yZXNvdXJjZXNDcmVhdGVkPSExfX1leHBvcnR7dCBhcyBWaXN1YWxFbGVtZW50fTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjMzL2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7UmVhZERlcHRoIGFzIG99ZnJvbVwiLi9vdXRwdXQvUmVhZERlcHRoLmdsc2wuanNcIjtpbXBvcnR7QmxlbmRDb2xvcnNQcmVtdWx0aXBsaWVkIGFzIGV9ZnJvbVwiLi91dGlsL0JsZW5kQ29sb3JzUHJlbXVsdGlwbGllZC5nbHNsLmpzXCI7aW1wb3J0e0NhbWVyYVNwYWNlIGFzIGx9ZnJvbVwiLi91dGlsL0NhbWVyYVNwYWNlLmdsc2wuanNcIjtpbXBvcnR7RmxvYXQzUGFzc1VuaWZvcm0gYXMgdH1mcm9tXCIuLi9zaGFkZXJNb2R1bGVzL0Zsb2F0M1Bhc3NVbmlmb3JtLmpzXCI7aW1wb3J0e0Zsb2F0UGFzc1VuaWZvcm0gYXMgcn1mcm9tXCIuLi9zaGFkZXJNb2R1bGVzL0Zsb2F0UGFzc1VuaWZvcm0uanNcIjtpbXBvcnR7Z2xzbCBhcyBhfWZyb21cIi4uL3NoYWRlck1vZHVsZXMvZ2xzbC5qc1wiO2ltcG9ydHtUZXh0dXJlMkRCaW5kVW5pZm9ybSBhcyBufWZyb21cIi4uL3NoYWRlck1vZHVsZXMvVGV4dHVyZTJEQmluZFVuaWZvcm0uanNcIjtpbXBvcnR7VGV4dHVyZTJEUGFzc1VuaWZvcm0gYXMgaX1mcm9tXCIuLi9zaGFkZXJNb2R1bGVzL1RleHR1cmUyRFBhc3NVbmlmb3JtLmpzXCI7ZnVuY3Rpb24gcChwLGQpe2NvbnN0IHM9cC5mcmFnbWVudDtzLmluY2x1ZGUobykscC5pbmNsdWRlKGwpLHMuaW5jbHVkZShlKSxzLnVuaWZvcm1zLmFkZChuZXcgcihcImdsb2JhbEFscGhhXCIsKG89Pm8uZ2xvYmFsQWxwaGEpKSxuZXcgdChcImdsb3dDb2xvclwiLChvPT5vLmdsb3dDb2xvcikpLG5ldyByKFwiZ2xvd1dpZHRoXCIsKChvLGUpPT5vLmdsb3dXaWR0aCplLmNhbWVyYS5waXhlbFJhdGlvKSksbmV3IHIoXCJnbG93RmFsbG9mZlwiLChvPT5vLmdsb3dGYWxsb2ZmKSksbmV3IHQoXCJpbm5lckNvbG9yXCIsKG89Pm8uaW5uZXJDb2xvcikpLG5ldyByKFwiaW5uZXJXaWR0aFwiLCgobyxlKT0+by5pbm5lcldpZHRoKmUuY2FtZXJhLnBpeGVsUmF0aW8pKSxuZXcgbihcImRlcHRoTWFwXCIsKG89Pm8uZGVwdGg/LmF0dGFjaG1lbnQpKSxuZXcgaShcIm5vcm1hbE1hcFwiLChvPT5vLm5vcm1hbHMpKSkscy5jb2RlLmFkZChhYHZlYzQgcHJlbXVsdGlwbGllZENvbG9yKHZlYzMgcmdiLCBmbG9hdCBhbHBoYSkge1xucmV0dXJuIHZlYzQocmdiICogYWxwaGEsIGFscGhhKTtcbn1gKSxzLmNvZGUuYWRkKGFgdmVjNCBsYXNlcmxpbmVQcm9maWxlKGZsb2F0IGRpc3QpIHtcbmlmIChkaXN0ID4gZ2xvd1dpZHRoKSB7XG5yZXR1cm4gdmVjNCgwLjApO1xufVxuZmxvYXQgaW5uZXJBbHBoYSA9ICgxLjAgLSBzbW9vdGhzdGVwKDAuMCwgaW5uZXJXaWR0aCwgZGlzdCkpO1xuZmxvYXQgZ2xvd0FscGhhID0gcG93KG1heCgwLjAsIDEuMCAtIGRpc3QgLyBnbG93V2lkdGgpLCBnbG93RmFsbG9mZik7XG5yZXR1cm4gYmxlbmRDb2xvcnNQcmVtdWx0aXBsaWVkKFxucHJlbXVsdGlwbGllZENvbG9yKGlubmVyQ29sb3IsIGlubmVyQWxwaGEpLFxucHJlbXVsdGlwbGllZENvbG9yKGdsb3dDb2xvciwgZ2xvd0FscGhhKVxuKTtcbn1gKSxzLmNvZGUuYWRkKGFgYm9vbCBsYXNlcmxpbmVSZWNvbnN0cnVjdEZyb21EZXB0aChvdXQgdmVjMyBwb3MsIG91dCB2ZWMzIG5vcm1hbCwgb3V0IGZsb2F0IGFuZ2xlQ3V0b2ZmQWRqdXN0LCBvdXQgZmxvYXQgZGVwdGhEaXNjb250aW51aXR5QWxwaGEpIHtcbmZsb2F0IGRlcHRoID0gZGVwdGhGcm9tVGV4dHVyZShkZXB0aE1hcCwgdXYpO1xuaWYgKGRlcHRoID09IDEuMCkge1xucmV0dXJuIGZhbHNlO1xufVxuZmxvYXQgbGluZWFyRGVwdGggPSBsaW5lYXJpemVEZXB0aChkZXB0aCk7XG5wb3MgPSByZWNvbnN0cnVjdFBvc2l0aW9uKGdsX0ZyYWdDb29yZC54eSwgbGluZWFyRGVwdGgpO1xuZmxvYXQgbWluU3RlcCA9IDZlLTg7XG5mbG9hdCBkZXB0aFN0ZXAgPSBjbGFtcChkZXB0aCArIG1pblN0ZXAsIDAuMCwgMS4wKTtcbmZsb2F0IGxpbmVhckRlcHRoU3RlcCA9IGxpbmVhcml6ZURlcHRoKGRlcHRoU3RlcCk7XG5mbG9hdCBkZXB0aEVycm9yID0gYWJzKGxpbmVhckRlcHRoU3RlcCAtIGxpbmVhckRlcHRoKTtcbnZlYzMgbm9ybWFsUmVjb25zdHJ1Y3RlZCA9IG5vcm1hbGl6ZShjcm9zcyhkRmR4KHBvcyksIGRGZHkocG9zKSkpO1xudmVjMyBub3JtYWxGcm9tVGV4dHVyZSA9IG5vcm1hbGl6ZSh0ZXh0dXJlKG5vcm1hbE1hcCwgdXYpLnh5eiAqIDIuMCAtIDEuMCk7XG5mbG9hdCBibGVuZEZhY3RvciA9IHNtb290aHN0ZXAoMC4xNSwgMC4yLCBkZXB0aEVycm9yKTtcbm5vcm1hbCA9IG5vcm1hbGl6ZShtaXgobm9ybWFsUmVjb25zdHJ1Y3RlZCwgbm9ybWFsRnJvbVRleHR1cmUsIGJsZW5kRmFjdG9yKSk7XG5hbmdsZUN1dG9mZkFkanVzdCA9IG1peCgwLjAsIDAuMDA0LCBibGVuZEZhY3Rvcik7XG5mbG9hdCBkZGVwdGggPSBmd2lkdGgobGluZWFyRGVwdGgpO1xuZGVwdGhEaXNjb250aW51aXR5QWxwaGEgPSAxLjAgLSBzbW9vdGhzdGVwKDAuMCwgMC4wMSwgLWRkZXB0aCAvIGxpbmVhckRlcHRoKTtcbnJldHVybiB0cnVlO1xufWApLGQuY29udHJhc3RDb250cm9sRW5hYmxlZD9zLnVuaWZvcm1zLmFkZChuZXcgaShcImZyYW1lQ29sb3JcIiwoKG8sZSk9Pm8uY29sb3JzKSksbmV3IHIoXCJnbG9iYWxBbHBoYUNvbnRyYXN0Qm9vc3RcIiwobz0+by5nbG9iYWxBbHBoYUNvbnRyYXN0Qm9vc3QpKSkuY29kZS5hZGQoYWBmbG9hdCByZ2JUb0x1bWluYW5jZSh2ZWMzIGNvbG9yKSB7XG5yZXR1cm4gZG90KHZlYzMoMC4yMTI2LCAwLjcxNTIsIDAuMDcyMiksIGNvbG9yKTtcbn1cbnZlYzQgbGFzZXJsaW5lT3V0cHV0KHZlYzQgY29sb3IpIHtcbmZsb2F0IGJhY2tncm91bmRMdW1pbmFuY2UgPSByZ2JUb0x1bWluYW5jZSh0ZXh0dXJlKGZyYW1lQ29sb3IsIHV2KS5yZ2IpO1xuZmxvYXQgYWxwaGEgPSBjbGFtcChnbG9iYWxBbHBoYSAqIG1heChiYWNrZ3JvdW5kTHVtaW5hbmNlICogZ2xvYmFsQWxwaGFDb250cmFzdEJvb3N0LCAxLjApLCAwLjAsIDEuMCk7XG5yZXR1cm4gY29sb3IgKiBhbHBoYTtcbn1gKTpzLmNvZGUuYWRkKGFgdmVjNCBsYXNlcmxpbmVPdXRwdXQodmVjNCBjb2xvcikge1xucmV0dXJuIGNvbG9yICogZ2xvYmFsQWxwaGE7XG59YCl9ZXhwb3J0e3AgYXMgTGFzZXJsaW5lfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjMzL2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7XyBhcyBlfWZyb21cIi4uLy4uLy4uLy4uLy4uL2NodW5rcy90c2xpYi5lczYuanNcIjtpbXBvcnRcIi4uLy4uLy4uLy4uLy4uL2NvcmUvaGFzLmpzXCI7aW1wb3J0e2Rpc3Bvc2VNYXliZSBhcyB0fWZyb21cIi4uLy4uLy4uLy4uLy4uL2NvcmUvbWF5YmUuanNcIjtpbXBvcnR7cHJvcGVydHkgYXMgaX1mcm9tXCIuLi8uLi8uLi8uLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3Byb3BlcnR5LmpzXCI7aW1wb3J0XCIuLi8uLi8uLi8uLi8uLi9jb3JlL0xvZ2dlci5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vLi4vLi4vY29yZS9SYW5kb21MQ0cuanNcIjtpbXBvcnR7c3ViY2xhc3MgYXMgbn1mcm9tXCIuLi8uLi8uLi8uLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3N1YmNsYXNzLmpzXCI7aW1wb3J0e2MgYXMgcyxmIGFzIHJ9ZnJvbVwiLi4vLi4vLi4vLi4vLi4vY2h1bmtzL3ZlYzMyLmpzXCI7aW1wb3J0e2Zyb21SYXkgYXMgYSxjcmVhdGUgYXMgbyxnZXRTdGFydCBhcyBsLGdldEVuZCBhcyBofWZyb21cIi4uLy4uLy4uLy4uLy4uL2dlb21ldHJ5L3N1cHBvcnQvY2xpcFJheS5qc1wiO2ltcG9ydHtpbnRlcnNlY3RDbGlwUmF5IGFzIGN9ZnJvbVwiLi4vLi4vLi4vLi4vLi4vZ2VvbWV0cnkvc3VwcG9ydC9mcnVzdHVtLmpzXCI7aW1wb3J0e2NvcHkgYXMgZH1mcm9tXCIuLi8uLi8uLi8uLi8uLi9nZW9tZXRyeS9zdXBwb3J0L2xpbmVTZWdtZW50LmpzXCI7aW1wb3J0e3dyYXAgYXMgcH1mcm9tXCIuLi8uLi8uLi8uLi8uLi9nZW9tZXRyeS9zdXBwb3J0L3JheS5qc1wiO2ltcG9ydHtWaWV3aW5nTW9kZSBhcyB1fWZyb21cIi4uLy4uLy4uLy4uL1ZpZXdpbmdNb2RlLmpzXCI7aW1wb3J0e0ludGVybmFsUmVuZGVyQ2F0ZWdvcnkgYXMgbX1mcm9tXCIuLi8uLi8uLi93ZWJnbC5qc1wiO2ltcG9ydCBnIGZyb21cIi4uLy4uLy4uL3dlYmdsL1JlbmRlck5vZGUuanNcIjtpbXBvcnR7QmxpdCBhcyBffWZyb21cIi4uL2JsaXQvQmxpdC5qc1wiO2ltcG9ydHtMYXNlcmxpbmVQYXRoRGF0YSBhcyBQfWZyb21cIi4vTGFzZXJsaW5lUGF0aERhdGEuanNcIjtpbXBvcnR7TGFzZXJsaW5lUGF0aFBhc3NQYXJhbWV0ZXJzIGFzIGYsTGFzZXJsaW5lUGF0aFRlY2huaXF1ZSBhcyBifWZyb21cIi4vTGFzZXJsaW5lUGF0aFRlY2huaXF1ZS5qc1wiO2ltcG9ydHtMYXNlcmxpbmVQYXRoVGVjaG5pcXVlQ29uZmlndXJhdGlvbiBhcyBFfWZyb21cIi4vTGFzZXJsaW5lUGF0aFRlY2huaXF1ZUNvbmZpZ3VyYXRpb24uanNcIjtpbXBvcnR7TGFzZXJsaW5lVGVjaG5pcXVlIGFzIER9ZnJvbVwiLi9MYXNlcmxpbmVUZWNobmlxdWUuanNcIjtpbXBvcnR7TGFzZXJsaW5lVGVjaG5pcXVlQ29uZmlndXJhdGlvbiBhcyBxfWZyb21cIi4vTGFzZXJsaW5lVGVjaG5pcXVlQ29uZmlndXJhdGlvbi5qc1wiO2ltcG9ydHtSZW5kZXJSZXF1ZXN0VHlwZSBhcyBUfWZyb21cIi4uLy4uL2xpYi9iYXNpY0ludGVyZmFjZXMuanNcIjtpbXBvcnR7dXBkYXRlUGFyYW1ldGVycyBhcyBMfWZyb21cIi4uLy4uL21hdGVyaWFscy9pbnRlcm5hbC9NYXRlcmlhbFV0aWwuanNcIjtpbXBvcnR7QmxpdE1vZGUgYXMgVn1mcm9tXCIuLi8uLi9zaGFkZXJzL0NvbXBvc2l0aW5nVGVjaG5pcXVlQ29uZmlndXJhdGlvbi5qc1wiO2ltcG9ydHtGcmFtZWJ1ZmZlckJpdCBhcyBDfWZyb21cIi4uLy4uLy4uLy4uL3dlYmdsL2VudW1zLmpzXCI7bGV0IGo9Y2xhc3MgZXh0ZW5kcyBne2NvbnN0cnVjdG9yKGUpe3N1cGVyKGUpLHRoaXMuaXNEZWNvcmF0aW9uPSEwLHRoaXMucHJvZHVjZXM9bS5MQVNFUkxJTkVTLHRoaXMuY29uc3VtZXM9e3JlcXVpcmVkOlttLkxBU0VSTElORVMsXCJub3JtYWxzXCJdfSx0aGlzLnJlcXVpcmVHZW9tZXRyeURlcHRoPSEwLHRoaXMuX2NvbmZpZ3VyYXRpb249bmV3IHEsdGhpcy5fcGF0aFRlY2huaXF1ZUNvbmZpZ3VyYXRpb249bmV3IEUsdGhpcy5faGVpZ2h0TWFuaWZvbGRFbmFibGVkPSExLHRoaXMuX3BvaW50RGlzdGFuY2VFbmFibGVkPSExLHRoaXMuX2xpbmVWZXJ0aWNhbFBsYW5lRW5hYmxlZD0hMSx0aGlzLl9pbnRlcnNlY3RzTGluZUVuYWJsZWQ9ITEsdGhpcy5faW50ZXJzZWN0c0xpbmVJbmZpbml0ZT0hMSx0aGlzLl9wYXRoVmVydGljYWxQbGFuZUVuYWJsZWQ9ITEsdGhpcy5fcGFzc1BhcmFtZXRlcnM9bmV3IGY7Y29uc3QgdD1lLnZpZXcuc3RhZ2UucmVuZGVyVmlldy50ZWNobmlxdWVzLGk9bmV3IEU7aS5jb250cmFzdENvbnRyb2xFbmFibGVkPWUuY29udHJhc3RDb250cm9sRW5hYmxlZCx0LnByZWNvbXBpbGUoYixpKX1pbml0aWFsaXplKCl7dGhpcy5fcGFzc1BhcmFtZXRlcnMucmVuZGVyQ29vcmRzSGVscGVyPXRoaXMudmlldy5yZW5kZXJDb29yZHNIZWxwZXIsdGhpcy5fcGF0aFRlY2huaXF1ZUNvbmZpZ3VyYXRpb24uc3BoZXJpY2FsPXRoaXMudmlldy5zdGF0ZS52aWV3aW5nTW9kZT09PXUuR2xvYmFsLHRoaXMuX3BhdGhUZWNobmlxdWVDb25maWd1cmF0aW9uLmNvbnRyYXN0Q29udHJvbEVuYWJsZWQ9dGhpcy5jb250cmFzdENvbnRyb2xFbmFibGVkLHRoaXMuX3RlY2huaXF1ZXMucHJlY29tcGlsZShiLHRoaXMuX3BhdGhUZWNobmlxdWVDb25maWd1cmF0aW9uKSx0aGlzLl9ibGl0PW5ldyBfKHRoaXMuX3RlY2huaXF1ZXMsVi5QcmVtdWx0aXBsaWVkQWxwaGEpfWRlc3Ryb3koKXt0aGlzLl9wYXRoVmVydGljYWxQbGFuZURhdGE9dCh0aGlzLl9wYXRoVmVydGljYWxQbGFuZURhdGEpLHRoaXMuX2JsaXQ9bnVsbH1nZXQgX3RlY2huaXF1ZXMoKXtyZXR1cm4gdGhpcy52aWV3LnN0YWdlLnJlbmRlclZpZXcudGVjaG5pcXVlc31nZXQgaGVpZ2h0TWFuaWZvbGRFbmFibGVkKCl7cmV0dXJuIHRoaXMuX2hlaWdodE1hbmlmb2xkRW5hYmxlZH1zZXQgaGVpZ2h0TWFuaWZvbGRFbmFibGVkKGUpe3RoaXMuX2hlaWdodE1hbmlmb2xkRW5hYmxlZCE9PWUmJih0aGlzLl9oZWlnaHRNYW5pZm9sZEVuYWJsZWQ9ZSx0aGlzLnJlcXVlc3RSZW5kZXIoVC5VUERBVEUpKX1nZXQgaGVpZ2h0TWFuaWZvbGRUYXJnZXQoKXtyZXR1cm4gdGhpcy5fcGFzc1BhcmFtZXRlcnMuaGVpZ2h0TWFuaWZvbGRUYXJnZXR9c2V0IGhlaWdodE1hbmlmb2xkVGFyZ2V0KGUpe3ModGhpcy5fcGFzc1BhcmFtZXRlcnMuaGVpZ2h0TWFuaWZvbGRUYXJnZXQsZSksdGhpcy5yZXF1ZXN0UmVuZGVyKFQuVVBEQVRFKX1nZXQgcG9pbnREaXN0YW5jZUVuYWJsZWQoKXtyZXR1cm4gdGhpcy5fcG9pbnREaXN0YW5jZUVuYWJsZWR9c2V0IHBvaW50RGlzdGFuY2VFbmFibGVkKGUpe2UhPT10aGlzLl9wb2ludERpc3RhbmNlRW5hYmxlZCYmKHRoaXMuX3BvaW50RGlzdGFuY2VFbmFibGVkPWUsdGhpcy5yZXF1ZXN0UmVuZGVyKFQuVVBEQVRFKSl9Z2V0IHBvaW50RGlzdGFuY2VUYXJnZXQoKXtyZXR1cm4gdGhpcy5fcGFzc1BhcmFtZXRlcnMucG9pbnREaXN0YW5jZVRhcmdldH1zZXQgcG9pbnREaXN0YW5jZVRhcmdldChlKXtzKHRoaXMuX3Bhc3NQYXJhbWV0ZXJzLnBvaW50RGlzdGFuY2VUYXJnZXQsZSksdGhpcy5yZXF1ZXN0UmVuZGVyKFQuVVBEQVRFKX1nZXQgcG9pbnREaXN0YW5jZU9yaWdpbigpe3JldHVybiB0aGlzLl9wYXNzUGFyYW1ldGVycy5wb2ludERpc3RhbmNlT3JpZ2lufXNldCBwb2ludERpc3RhbmNlT3JpZ2luKGUpe3ModGhpcy5fcGFzc1BhcmFtZXRlcnMucG9pbnREaXN0YW5jZU9yaWdpbixlKSx0aGlzLnJlcXVlc3RSZW5kZXIoVC5VUERBVEUpfWdldCBsaW5lVmVydGljYWxQbGFuZUVuYWJsZWQoKXtyZXR1cm4gdGhpcy5fbGluZVZlcnRpY2FsUGxhbmVFbmFibGVkfXNldCBsaW5lVmVydGljYWxQbGFuZUVuYWJsZWQoZSl7ZSE9PXRoaXMuX2xpbmVWZXJ0aWNhbFBsYW5lRW5hYmxlZCYmKHRoaXMuX2xpbmVWZXJ0aWNhbFBsYW5lRW5hYmxlZD1lLHRoaXMucmVxdWVzdFJlbmRlcihULlVQREFURSkpfWdldCBsaW5lVmVydGljYWxQbGFuZVNlZ21lbnQoKXtyZXR1cm4gdGhpcy5fcGFzc1BhcmFtZXRlcnMubGluZVZlcnRpY2FsUGxhbmVTZWdtZW50fXNldCBsaW5lVmVydGljYWxQbGFuZVNlZ21lbnQoZSl7ZChlLHRoaXMuX3Bhc3NQYXJhbWV0ZXJzLmxpbmVWZXJ0aWNhbFBsYW5lU2VnbWVudCksdGhpcy5yZXF1ZXN0UmVuZGVyKFQuVVBEQVRFKX1nZXQgaW50ZXJzZWN0c0xpbmVFbmFibGVkKCl7cmV0dXJuIHRoaXMuX2ludGVyc2VjdHNMaW5lRW5hYmxlZH1zZXQgaW50ZXJzZWN0c0xpbmVFbmFibGVkKGUpe2UhPT10aGlzLl9pbnRlcnNlY3RzTGluZUVuYWJsZWQmJih0aGlzLl9pbnRlcnNlY3RzTGluZUVuYWJsZWQ9ZSx0aGlzLnJlcXVlc3RSZW5kZXIoVC5VUERBVEUpKX1nZXQgaW50ZXJzZWN0c0xpbmVTZWdtZW50KCl7cmV0dXJuIHRoaXMuX3Bhc3NQYXJhbWV0ZXJzLmludGVyc2VjdHNMaW5lU2VnbWVudH1zZXQgaW50ZXJzZWN0c0xpbmVTZWdtZW50KGUpe2QoZSx0aGlzLl9wYXNzUGFyYW1ldGVycy5pbnRlcnNlY3RzTGluZVNlZ21lbnQpLHRoaXMucmVxdWVzdFJlbmRlcihULlVQREFURSl9Z2V0IGludGVyc2VjdHNMaW5lSW5maW5pdGUoKXtyZXR1cm4gdGhpcy5faW50ZXJzZWN0c0xpbmVJbmZpbml0ZX1zZXQgaW50ZXJzZWN0c0xpbmVJbmZpbml0ZShlKXtlIT09dGhpcy5faW50ZXJzZWN0c0xpbmVJbmZpbml0ZSYmKHRoaXMuX2ludGVyc2VjdHNMaW5lSW5maW5pdGU9ZSx0aGlzLnJlcXVlc3RSZW5kZXIoVC5VUERBVEUpKX1nZXQgcGF0aFZlcnRpY2FsUGxhbmVFbmFibGVkKCl7cmV0dXJuIHRoaXMuX3BhdGhWZXJ0aWNhbFBsYW5lRW5hYmxlZH1zZXQgcGF0aFZlcnRpY2FsUGxhbmVFbmFibGVkKGUpe2UhPT10aGlzLl9wYXRoVmVydGljYWxQbGFuZUVuYWJsZWQmJih0aGlzLl9wYXRoVmVydGljYWxQbGFuZUVuYWJsZWQ9ZSxudWxsIT10aGlzLl9wYXRoVmVydGljYWxQbGFuZURhdGEmJnRoaXMucmVxdWVzdFJlbmRlcihULlVQREFURSkpfXNldCBwYXRoVmVydGljYWxQbGFuZVZlcnRpY2VzKGUpe251bGw9PXRoaXMuX3BhdGhWZXJ0aWNhbFBsYW5lRGF0YSYmKHRoaXMuX3BhdGhWZXJ0aWNhbFBsYW5lRGF0YT1uZXcgUCh0aGlzLl9wYXNzUGFyYW1ldGVycy5yZW5kZXJDb29yZHNIZWxwZXIpKSx0aGlzLl9wYXRoVmVydGljYWxQbGFuZURhdGEudmVydGljZXM9ZSx0aGlzLnBhdGhWZXJ0aWNhbFBsYW5lRW5hYmxlZCYmdGhpcy5yZXF1ZXN0UmVuZGVyKFQuVVBEQVRFKX1zZXQgcGF0aFZlcnRpY2FsUGxhbmVCdWZmZXJzKGUpe251bGw9PXRoaXMuX3BhdGhWZXJ0aWNhbFBsYW5lRGF0YSYmKHRoaXMuX3BhdGhWZXJ0aWNhbFBsYW5lRGF0YT1uZXcgUCh0aGlzLl9wYXNzUGFyYW1ldGVycy5yZW5kZXJDb29yZHNIZWxwZXIpKSx0aGlzLl9wYXRoVmVydGljYWxQbGFuZURhdGEuYnVmZmVycz1lLHRoaXMucGF0aFZlcnRpY2FsUGxhbmVFbmFibGVkJiZ0aGlzLnJlcXVlc3RSZW5kZXIoVC5VUERBVEUpfXNldFBhcmFtZXRlcnMoZSl7TCh0aGlzLl9wYXNzUGFyYW1ldGVycyxlKSYmdGhpcy5yZXF1ZXN0UmVuZGVyKFQuVVBEQVRFKX1wcmVjb21waWxlKCl7dGhpcy5fYWNxdWlyZVRlY2huaXF1ZSgpfXJlbmRlcihlKXtjb25zdCB0PWUuZmluZCgoKHtuYW1lOmV9KT0+ZT09PXRoaXMucHJvZHVjZXMpKTtpZih0aGlzLmlzRGVjb3JhdGlvbiYmIXRoaXMuYmluZFBhcmFtZXRlcnMuZGVjb3JhdGlvbnN8fG51bGw9PXRoaXMuX2JsaXQpcmV0dXJuIHQ7Y29uc3QgaT10aGlzLnJlbmRlcmluZ0NvbnRleHQsbj1lLmZpbmQoKCh7bmFtZTplfSk9Plwibm9ybWFsc1wiPT09ZSkpO3RoaXMuX3Bhc3NQYXJhbWV0ZXJzLm5vcm1hbHM9bj8uZ2V0VGV4dHVyZSgpO2NvbnN0IHM9KCk9PnsodGhpcy5oZWlnaHRNYW5pZm9sZEVuYWJsZWR8fHRoaXMucG9pbnREaXN0YW5jZUVuYWJsZWR8fHRoaXMubGluZVZlcnRpY2FsUGxhbmVTZWdtZW50fHx0aGlzLmludGVyc2VjdHNMaW5lRW5hYmxlZCkmJnRoaXMuX3JlbmRlclVuaWZpZWQoKSx0aGlzLnBhdGhWZXJ0aWNhbFBsYW5lRW5hYmxlZCYmdGhpcy5fcmVuZGVyUGF0aCgpfTtpZighdGhpcy5jb250cmFzdENvbnRyb2xFbmFibGVkKXJldHVybiBpLmJpbmRGcmFtZWJ1ZmZlcih0LmZibykscygpLHQ7dGhpcy5fcGFzc1BhcmFtZXRlcnMuY29sb3JzPXQuZ2V0VGV4dHVyZSgpO2NvbnN0IHI9dGhpcy5mYm9DYWNoZS5hY3F1aXJlKHQuZmJvLndpZHRoLHQuZmJvLmhlaWdodCxcImxhc2VyIGxpbmVzXCIpO3JldHVybiBpLmJpbmRGcmFtZWJ1ZmZlcihyLmZibyksaS5zZXRDbGVhckNvbG9yKDAsMCwwLDApLGkuY2xlYXIoQy5DT0xPUnxDLkRFUFRIKSxzKCksaS51bmJpbmRUZXh0dXJlKHQuZ2V0VGV4dHVyZSgpKSx0aGlzLl9ibGl0LmJsZW5kKGkscix0LHRoaXMuYmluZFBhcmFtZXRlcnMpfHx0aGlzLnJlcXVlc3RSZW5kZXIoVC5VUERBVEUpLHIucmVsZWFzZSgpLHR9X2FjcXVpcmVUZWNobmlxdWUoKXtyZXR1cm4gdGhpcy5fY29uZmlndXJhdGlvbi5oZWlnaHRNYW5pZm9sZEVuYWJsZWQ9dGhpcy5oZWlnaHRNYW5pZm9sZEVuYWJsZWQsdGhpcy5fY29uZmlndXJhdGlvbi5saW5lVmVydGljYWxQbGFuZUVuYWJsZWQ9dGhpcy5saW5lVmVydGljYWxQbGFuZUVuYWJsZWQsdGhpcy5fY29uZmlndXJhdGlvbi5wb2ludERpc3RhbmNlRW5hYmxlZD10aGlzLnBvaW50RGlzdGFuY2VFbmFibGVkLHRoaXMuX2NvbmZpZ3VyYXRpb24uaW50ZXJzZWN0c0xpbmVFbmFibGVkPXRoaXMuaW50ZXJzZWN0c0xpbmVFbmFibGVkLHRoaXMuX2NvbmZpZ3VyYXRpb24uY29udHJhc3RDb250cm9sRW5hYmxlZD10aGlzLmNvbnRyYXN0Q29udHJvbEVuYWJsZWQsdGhpcy5fY29uZmlndXJhdGlvbi5zcGhlcmljYWw9dGhpcy52aWV3LnN0YXRlLnZpZXdpbmdNb2RlPT09dS5HbG9iYWwsdGhpcy5fdGVjaG5pcXVlcy5nZXQoRCx0aGlzLl9jb25maWd1cmF0aW9uKX1fcmVuZGVyVW5pZmllZCgpe2lmKCF0aGlzLl91cGRhdGVQYXNzUGFyYW1ldGVycygpKXJldHVybjtjb25zdCBlPXRoaXMuX2FjcXVpcmVUZWNobmlxdWUoKTtpZihlLmNvbXBpbGVkKXtjb25zdCB0PXRoaXMucmVuZGVyaW5nQ29udGV4dDt0LmJpbmRUZWNobmlxdWUoZSx0aGlzLmJpbmRQYXJhbWV0ZXJzLHRoaXMuX3Bhc3NQYXJhbWV0ZXJzKSx0LnNjcmVlbi5kcmF3KCl9ZWxzZSB0aGlzLnJlcXVlc3RSZW5kZXIoVC5VUERBVEUpfV9yZW5kZXJQYXRoKCl7aWYobnVsbD09dGhpcy5fcGF0aFZlcnRpY2FsUGxhbmVEYXRhKXJldHVybjtjb25zdCBlPXRoaXMuX3RlY2huaXF1ZXMuZ2V0KGIsdGhpcy5fcGF0aFRlY2huaXF1ZUNvbmZpZ3VyYXRpb24pO2lmKGUuY29tcGlsZWQpe2NvbnN0IHQ9dGhpcy5yZW5kZXJpbmdDb250ZXh0O3RoaXMuX3Bhc3NQYXJhbWV0ZXJzLm9yaWdpbj10aGlzLl9wYXRoVmVydGljYWxQbGFuZURhdGEub3JpZ2luLHQuYmluZFRlY2huaXF1ZShlLHRoaXMuYmluZFBhcmFtZXRlcnMsdGhpcy5fcGFzc1BhcmFtZXRlcnMpLHRoaXMuX3BhdGhWZXJ0aWNhbFBsYW5lRGF0YS5kcmF3KHQpfWVsc2UgdGhpcy5yZXF1ZXN0UmVuZGVyKFQuVVBEQVRFKX1fdXBkYXRlUGFzc1BhcmFtZXRlcnMoKXtpZighdGhpcy5faW50ZXJzZWN0c0xpbmVFbmFibGVkKXJldHVybiEwO2NvbnN0IGU9dGhpcy5iaW5kUGFyYW1ldGVycy5jYW1lcmEsdD10aGlzLl9wYXNzUGFyYW1ldGVycztpZih0aGlzLl9pbnRlcnNlY3RzTGluZUluZmluaXRlKXtpZihhKHAodC5pbnRlcnNlY3RzTGluZVNlZ21lbnQub3JpZ2luLHQuaW50ZXJzZWN0c0xpbmVTZWdtZW50LnZlY3Rvciksdyksdy5jMD0tTnVtYmVyLk1BWF9WQUxVRSwhYyhlLmZydXN0dW0sdykpcmV0dXJuITE7bCh3LHQubGluZVN0YXJ0V29ybGQpLGgodyx0LmxpbmVFbmRXb3JsZCl9ZWxzZSBzKHQubGluZVN0YXJ0V29ybGQsdC5pbnRlcnNlY3RzTGluZVNlZ21lbnQub3JpZ2luKSxyKHQubGluZUVuZFdvcmxkLHQuaW50ZXJzZWN0c0xpbmVTZWdtZW50Lm9yaWdpbix0LmludGVyc2VjdHNMaW5lU2VnbWVudC52ZWN0b3IpO3JldHVybiEwfWdldCB0ZXN0KCl7fX07ZShbaSh7Y29uc3RydWN0T25seTohMH0pXSxqLnByb3RvdHlwZSxcImNvbnRyYXN0Q29udHJvbEVuYWJsZWRcIix2b2lkIDApLGUoW2koKV0sai5wcm90b3R5cGUsXCJpc0RlY29yYXRpb25cIix2b2lkIDApLGUoW2koKV0sai5wcm90b3R5cGUsXCJwcm9kdWNlc1wiLHZvaWQgMCksZShbaSgpXSxqLnByb3RvdHlwZSxcImNvbnN1bWVzXCIsdm9pZCAwKSxqPWUoW24oXCJlc3JpLnZpZXdzLjNkLndlYmdsLWVuZ2luZS5lZmZlY3RzLmxhc2VybGluZXMuTGFzZXJMaW5lUmVuZGVyZXJcIildLGopO2NvbnN0IHc9bygpO2V4cG9ydHtqIGFzIExhc2VyTGluZVJlbmRlcmVyfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjMzL2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7aSBhcyBlLGQgYXMgdH1mcm9tXCIuLi8uLi8uLi8uLi8uLi9jaHVua3MvdmVjMzIuanNcIjtpbXBvcnR7Y3JlYXRlIGFzIHJ9ZnJvbVwiLi4vLi4vLi4vLi4vLi4vY29yZS9saWJzL2dsLW1hdHJpeC0yL2ZhY3Rvcmllcy92ZWMzZjY0LmpzXCI7aW1wb3J0e25ld0RvdWJsZUFycmF5IGFzIHN9ZnJvbVwiLi4vLi4vLi4vLi4vLi4vZ2VvbWV0cnkvc3VwcG9ydC9Eb3VibGVBcnJheS5qc1wiO2ltcG9ydHtWaWV3aW5nTW9kZSBhcyBpfWZyb21cIi4uLy4uLy4uLy4uL1ZpZXdpbmdNb2RlLmpzXCI7aW1wb3J0e2dsTGF5b3V0IGFzIG99ZnJvbVwiLi4vLi4vLi4vc3VwcG9ydC9idWZmZXIvZ2xVdGlsLmpzXCI7aW1wb3J0e25ld0xheW91dCBhcyBmfWZyb21cIi4uLy4uLy4uL3N1cHBvcnQvYnVmZmVyL0ludGVybGVhdmVkTGF5b3V0LmpzXCI7aW1wb3J0e3ZlcnRleEF0dHJpYnV0ZUxvY2F0aW9ucyBhcyBufWZyb21cIi4vTGFzZXJsaW5lUGF0aFRlY2huaXF1ZS5qc1wiO2ltcG9ydHtWZXJ0ZXhBcnJheU9iamVjdCBhcyB1fWZyb21cIi4uLy4uL2xpYi9WZXJ0ZXhBcnJheU9iamVjdC5qc1wiO2ltcG9ydHtWZXJ0ZXhBdHRyaWJ1dGUgYXMgYX1mcm9tXCIuLi8uLi9saWIvVmVydGV4QXR0cmlidXRlLmpzXCI7aW1wb3J0e0J1ZmZlck9iamVjdCBhcyBsfWZyb21cIi4uLy4uLy4uLy4uL3dlYmdsL0J1ZmZlck9iamVjdC5qc1wiO2ltcG9ydHtQcmltaXRpdmVUeXBlIGFzIGMsVXNhZ2UgYXMgaH1mcm9tXCIuLi8uLi8uLi8uLi93ZWJnbC9lbnVtcy5qc1wiO2NsYXNzIF97Y29uc3RydWN0b3IoZSl7dGhpcy5fcmVuZGVyQ29vcmRzSGVscGVyPWUsdGhpcy5fYnVmZmVycz1udWxsLHRoaXMuX29yaWdpbj1yKCksdGhpcy5fZGlydHk9ITEsdGhpcy5fY291bnQ9MCx0aGlzLl92YW89bnVsbH1zZXQgdmVydGljZXMoZSl7Y29uc3QgdD1zKDMqZS5sZW5ndGgpO2xldCByPTA7Zm9yKGNvbnN0IHMgb2YgZSl0W3IrK109c1swXSx0W3IrK109c1sxXSx0W3IrK109c1syXTt0aGlzLmJ1ZmZlcnM9W3RdfXNldCBidWZmZXJzKHQpe2lmKHRoaXMuX2J1ZmZlcnM9dCx0aGlzLl9idWZmZXJzLmxlbmd0aD4wKXtjb25zdCB0PXRoaXMuX2J1ZmZlcnNbMF0scj0zKk1hdGguZmxvb3IodC5sZW5ndGgvMy8yKTtlKHRoaXMuX29yaWdpbix0W3JdLHRbcisxXSx0W3IrMl0pfWVsc2UgZSh0aGlzLl9vcmlnaW4sMCwwLDApO3RoaXMuX2RpcnR5PSEwfWdldCBvcmlnaW4oKXtyZXR1cm4gdGhpcy5fb3JpZ2lufWRyYXcoZSl7Y29uc3QgdD10aGlzLl9lbnN1cmVWQU8oZSk7bnVsbCE9dCYmKGUuYmluZFZBTyh0KSxlLmRyYXdBcnJheXMoYy5UUklBTkdMRVMsMCx0aGlzLl9jb3VudCkpfWRpc3Bvc2UoKXtudWxsIT10aGlzLl92YW8mJnRoaXMuX3Zhby5kaXNwb3NlKCl9Z2V0IF9sYXlvdXQoKXtyZXR1cm4gdGhpcy5fcmVuZGVyQ29vcmRzSGVscGVyLnZpZXdpbmdNb2RlPT09aS5HbG9iYWw/YjpnfV9lbnN1cmVWQU8oZSl7cmV0dXJuIG51bGw9PXRoaXMuX2J1ZmZlcnM/bnVsbDoodGhpcy5fdmFvPz89dGhpcy5fY3JlYXRlVkFPKGUsdGhpcy5fYnVmZmVycyksdGhpcy5fZW5zdXJlVmVydGV4RGF0YSh0aGlzLl92YW8sdGhpcy5fYnVmZmVycyksdGhpcy5fdmFvKX1fY3JlYXRlVkFPKGUsdCl7Y29uc3Qgcj10aGlzLl9jcmVhdGVEYXRhQnVmZmVyKHQpO3JldHVybiB0aGlzLl9kaXJ0eT0hMSxuZXcgdShlLG4sbmV3IE1hcChbW1wiZGF0YVwiLG8odGhpcy5fbGF5b3V0KV1dKSxuZXcgTWFwKFtbXCJkYXRhXCIsbC5jcmVhdGVWZXJ0ZXgoZSxoLlNUQVRJQ19EUkFXLHIpXV0pKX1fZW5zdXJlVmVydGV4RGF0YShlLHQpe2lmKCF0aGlzLl9kaXJ0eSlyZXR1cm47Y29uc3Qgcj10aGlzLl9jcmVhdGVEYXRhQnVmZmVyKHQpO2UudmVydGV4QnVmZmVycy5nZXQoXCJkYXRhXCIpPy5zZXREYXRhKHIpLHRoaXMuX2RpcnR5PSExfV9jcmVhdGVEYXRhQnVmZmVyKHIpe2NvbnN0IHM9ci5yZWR1Y2UoKChlLHQpPT5lK2QodCkpLDApO3RoaXMuX2NvdW50PXM7Y29uc3QgaT10aGlzLl9sYXlvdXQuY3JlYXRlQnVmZmVyKHMpLG89dGhpcy5fb3JpZ2luO2xldCBmPTAsbj0wO2NvbnN0IHU9XCJzdGFydFVwXCJpbiBpP3RoaXMuX3NldFVwVmVjdG9ycy5iaW5kKHRoaXMsaSk6dm9pZCAwO2Zvcihjb25zdCBhIG9mIHIpe2ZvcihsZXQgcj0wO3I8YS5sZW5ndGg7cis9Myl7Y29uc3Qgcz1lKG0sYVtyXSxhW3IrMV0sYVtyKzJdKTswPT09cj9uPXRoaXMuX3JlbmRlckNvb3Jkc0hlbHBlci5nZXRBbHRpdHVkZShzKTp0aGlzLl9yZW5kZXJDb29yZHNIZWxwZXIuc2V0QWx0aXR1ZGUocyxuKTtjb25zdCBsPWYrMipyO3U/LihyLGwsYSxzKTtjb25zdCBjPXQobSxzLG8pO2lmKHI8YS5sZW5ndGgtMyl7Zm9yKGxldCBlPTA7ZTw2O2UrKylpLnN0YXJ0LnNldFZlYyhsK2UsYyk7aS5leHRydWRlLnNldFZhbHVlcyhsLDAsLTEpLGkuZXh0cnVkZS5zZXRWYWx1ZXMobCsxLDEsLTEpLGkuZXh0cnVkZS5zZXRWYWx1ZXMobCsyLDEsMSksaS5leHRydWRlLnNldFZhbHVlcyhsKzMsMCwtMSksaS5leHRydWRlLnNldFZhbHVlcyhsKzQsMSwxKSxpLmV4dHJ1ZGUuc2V0VmFsdWVzKGwrNSwwLDEpfWlmKHI+MClmb3IobGV0IGU9LTY7ZTwwO2UrKylpLmVuZC5zZXRWZWMobCtlLGMpfWYrPWQoYSl9cmV0dXJuIGkuYnVmZmVyfV9zZXRVcFZlY3RvcnMoZSx0LHIscyxpKXtjb25zdCBvPXRoaXMuX3JlbmRlckNvb3Jkc0hlbHBlci53b3JsZFVwQXRQb3NpdGlvbihpLHApO2lmKHQ8cy5sZW5ndGgtMylmb3IobGV0IGY9MDtmPDY7ZisrKWUuc3RhcnRVcC5zZXRWZWMocitmLG8pO2lmKHQ+MClmb3IobGV0IGY9LTY7ZjwwO2YrKyllLmVuZFVwLnNldFZlYyhyK2Ysbyl9fWZ1bmN0aW9uIGQoZSl7cmV0dXJuIDMqKDIqKGUubGVuZ3RoLzMtMSkpfWNvbnN0IHA9cigpLG09cigpLGI9ZigpLnZlYzNmKGEuU1RBUlQpLnZlYzNmKGEuRU5EKS52ZWMyZihhLkVYVFJVREUpLnZlYzNmKGEuU1RBUlRfVVApLnZlYzNmKGEuRU5EX1VQKSxnPWYoKS52ZWMzZihhLlNUQVJUKS52ZWMzZihhLkVORCkudmVjMmYoYS5FWFRSVURFKTtleHBvcnR7XyBhcyBMYXNlcmxpbmVQYXRoRGF0YX07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4zMy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e2NyZWF0ZSBhcyBlfWZyb21cIi4uLy4uLy4uLy4uLy4uL2NvcmUvbGlicy9nbC1tYXRyaXgtMi9mYWN0b3JpZXMvdmVjM2Y2NC5qc1wiO2ltcG9ydHtSZWxvYWRhYmxlU2hhZGVyTW9kdWxlIGFzIHJ9ZnJvbVwiLi4vLi4vY29yZS9zaGFkZXJUZWNobmlxdWUvUmVsb2FkYWJsZVNoYWRlck1vZHVsZS5qc1wiO2ltcG9ydHtTaGFkZXJUZWNobmlxdWUgYXMgc31mcm9tXCIuLi8uLi9jb3JlL3NoYWRlclRlY2huaXF1ZS9TaGFkZXJUZWNobmlxdWUuanNcIjtpbXBvcnR7TGFzZXJsaW5lUGFzc1BhcmFtZXRlcnMgYXMgb31mcm9tXCIuL0xhc2VybGluZVRlY2huaXF1ZS5qc1wiO2ltcG9ydHtWZXJ0ZXhBdHRyaWJ1dGUgYXMgdH1mcm9tXCIuLi8uLi9saWIvVmVydGV4QXR0cmlidXRlLmpzXCI7aW1wb3J0e0wgYXMgaX1mcm9tXCIuLi8uLi8uLi8uLi8uLi9jaHVua3MvTGFzZXJsaW5lUGF0aC5nbHNsLmpzXCI7Y2xhc3MgYSBleHRlbmRzIG97Y29uc3RydWN0b3IoKXtzdXBlciguLi5hcmd1bWVudHMpLHRoaXMub3JpZ2luPWUoKX19Y2xhc3MgYyBleHRlbmRzIHN7Y29uc3RydWN0b3IoZSxzKXtzdXBlcihlLHMsbmV3IHIoaSwoKCk9PmltcG9ydChcIi4uLy4uL3NoYWRlcnMvTGFzZXJsaW5lUGF0aC5nbHNsLmpzXCIpKSksbil9fWNvbnN0IG49bmV3IE1hcChbW3QuU1RBUlQsMF0sW3QuRU5ELDFdLFt0LkVYVFJVREUsMl0sW3QuU1RBUlRfVVAsM10sW3QuRU5EX1VQLDRdXSk7ZXhwb3J0e2EgYXMgTGFzZXJsaW5lUGF0aFBhc3NQYXJhbWV0ZXJzLGMgYXMgTGFzZXJsaW5lUGF0aFRlY2huaXF1ZSxuIGFzIHZlcnRleEF0dHJpYnV0ZUxvY2F0aW9uc307XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4zMy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e18gYXMgb31mcm9tXCIuLi8uLi8uLi8uLi8uLi9jaHVua3MvdHNsaWIuZXM2LmpzXCI7aW1wb3J0e1NoYWRlclRlY2huaXF1ZUNvbmZpZ3VyYXRpb24gYXMgcixwYXJhbWV0ZXIgYXMgdH1mcm9tXCIuLi8uLi9jb3JlL3NoYWRlclRlY2huaXF1ZS9TaGFkZXJUZWNobmlxdWVDb25maWd1cmF0aW9uLmpzXCI7Y2xhc3MgZSBleHRlbmRzIHJ7Y29uc3RydWN0b3IoKXtzdXBlciguLi5hcmd1bWVudHMpLHRoaXMuY29udHJhc3RDb250cm9sRW5hYmxlZD0hMSx0aGlzLnNwaGVyaWNhbD0hMX19byhbdCgpXSxlLnByb3RvdHlwZSxcImNvbnRyYXN0Q29udHJvbEVuYWJsZWRcIix2b2lkIDApLG8oW3QoKV0sZS5wcm90b3R5cGUsXCJzcGhlcmljYWxcIix2b2lkIDApO2V4cG9ydHtlIGFzIExhc2VybGluZVBhdGhUZWNobmlxdWVDb25maWd1cmF0aW9ufTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjMzL2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7ZGVnMnJhZCBhcyBlfWZyb21cIi4uLy4uLy4uLy4uLy4uL2NvcmUvbWF0aFV0aWxzLmpzXCI7aW1wb3J0e2Zyb21WYWx1ZXMgYXMgdCxjcmVhdGUgYXMgc31mcm9tXCIuLi8uLi8uLi8uLi8uLi9jb3JlL2xpYnMvZ2wtbWF0cml4LTIvZmFjdG9yaWVzL3ZlYzNmNjQuanNcIjtpbXBvcnR7Y3JlYXRlIGFzIGl9ZnJvbVwiLi4vLi4vLi4vLi4vLi4vZ2VvbWV0cnkvc3VwcG9ydC9saW5lU2VnbWVudC5qc1wiO2ltcG9ydHtSZWxvYWRhYmxlU2hhZGVyTW9kdWxlIGFzIHJ9ZnJvbVwiLi4vLi4vY29yZS9zaGFkZXJUZWNobmlxdWUvUmVsb2FkYWJsZVNoYWRlck1vZHVsZS5qc1wiO2ltcG9ydHtTaGFkZXJUZWNobmlxdWUgYXMgb31mcm9tXCIuLi8uLi9jb3JlL3NoYWRlclRlY2huaXF1ZS9TaGFkZXJUZWNobmlxdWUuanNcIjtpbXBvcnR7TCBhcyBsfWZyb21cIi4uLy4uLy4uLy4uLy4uL2NodW5rcy9MYXNlcmxpbmVzLmdsc2wuanNcIjtpbXBvcnR7Tm9QYXJhbWV0ZXJzIGFzIG59ZnJvbVwiLi4vLi4vLi4vLi4vd2ViZ2wvTm9QYXJhbWV0ZXJzLmpzXCI7Y2xhc3MgYSBleHRlbmRzIG57Y29uc3RydWN0b3IoKXtzdXBlciguLi5hcmd1bWVudHMpLHRoaXMuaW5uZXJDb2xvcj10KDEsMSwxKSx0aGlzLmlubmVyV2lkdGg9MSx0aGlzLmdsb3dDb2xvcj10KDEsLjUsMCksdGhpcy5nbG93V2lkdGg9OCx0aGlzLmdsb3dGYWxsb2ZmPTgsdGhpcy5nbG9iYWxBbHBoYT0uNzUsdGhpcy5nbG9iYWxBbHBoYUNvbnRyYXN0Qm9vc3Q9Mix0aGlzLmFuZ2xlQ3V0b2ZmPWUoNiksdGhpcy5wb2ludERpc3RhbmNlT3JpZ2luPXMoKSx0aGlzLnBvaW50RGlzdGFuY2VUYXJnZXQ9cygpLHRoaXMubGluZVZlcnRpY2FsUGxhbmVTZWdtZW50PWkoKSx0aGlzLmludGVyc2VjdHNMaW5lU2VnbWVudD1pKCksdGhpcy5pbnRlcnNlY3RzTGluZVJhZGl1cz0zLHRoaXMuaGVpZ2h0TWFuaWZvbGRUYXJnZXQ9cygpLHRoaXMubGluZVN0YXJ0V29ybGQ9cygpLHRoaXMubGluZUVuZFdvcmxkPXMoKX19Y2xhc3MgaCBleHRlbmRzIG97Y29uc3RydWN0b3IoZSx0KXtzdXBlcihlLHQsbmV3IHIobCwoKCk9PmltcG9ydChcIi4uLy4uL3NoYWRlcnMvTGFzZXJsaW5lcy5nbHNsLmpzXCIpKSkpfX1leHBvcnR7YSBhcyBMYXNlcmxpbmVQYXNzUGFyYW1ldGVycyxoIGFzIExhc2VybGluZVRlY2huaXF1ZX07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4zMy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e18gYXMgZX1mcm9tXCIuLi8uLi8uLi8uLi8uLi9jaHVua3MvdHNsaWIuZXM2LmpzXCI7aW1wb3J0e3BhcmFtZXRlciBhcyBpfWZyb21cIi4uLy4uL2NvcmUvc2hhZGVyVGVjaG5pcXVlL1NoYWRlclRlY2huaXF1ZUNvbmZpZ3VyYXRpb24uanNcIjtpbXBvcnR7TGFzZXJsaW5lUGF0aFRlY2huaXF1ZUNvbmZpZ3VyYXRpb24gYXMgdH1mcm9tXCIuL0xhc2VybGluZVBhdGhUZWNobmlxdWVDb25maWd1cmF0aW9uLmpzXCI7Y2xhc3MgbiBleHRlbmRzIHR7Y29uc3RydWN0b3IoKXtzdXBlciguLi5hcmd1bWVudHMpLHRoaXMuaGVpZ2h0TWFuaWZvbGRFbmFibGVkPSExLHRoaXMucG9pbnREaXN0YW5jZUVuYWJsZWQ9ITEsdGhpcy5saW5lVmVydGljYWxQbGFuZUVuYWJsZWQ9ITEsdGhpcy5pbnRlcnNlY3RzTGluZUVuYWJsZWQ9ITF9fWUoW2koKV0sbi5wcm90b3R5cGUsXCJoZWlnaHRNYW5pZm9sZEVuYWJsZWRcIix2b2lkIDApLGUoW2koKV0sbi5wcm90b3R5cGUsXCJwb2ludERpc3RhbmNlRW5hYmxlZFwiLHZvaWQgMCksZShbaSgpXSxuLnByb3RvdHlwZSxcImxpbmVWZXJ0aWNhbFBsYW5lRW5hYmxlZFwiLHZvaWQgMCksZShbaSgpXSxuLnByb3RvdHlwZSxcImludGVyc2VjdHNMaW5lRW5hYmxlZFwiLHZvaWQgMCk7ZXhwb3J0e24gYXMgTGFzZXJsaW5lVGVjaG5pcXVlQ29uZmlndXJhdGlvbn07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=