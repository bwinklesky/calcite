export const __webpack_id__ = "vendors-node_modules_arcgis_core_views_3d_webgl-engine_materials_LineMarkerMaterial_js";
export const __webpack_ids__ = ["vendors-node_modules_arcgis_core_views_3d_webgl-engine_materials_LineMarkerMaterial_js"];
export const __webpack_modules__ = {

/***/ "./node_modules/@arcgis/core/chunks/LineMarker.glsl.js":
/*!*************************************************************!*\
  !*** ./node_modules/@arcgis/core/chunks/LineMarker.glsl.js ***!
  \*************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   L: () => (/* binding */ k),
/* harmony export */   b: () => (/* binding */ L)
/* harmony export */ });
/* harmony import */ var _views_3d_support_engineContent_marker_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../views/3d/support/engineContent/marker.js */ "./node_modules/@arcgis/core/views/3d/support/engineContent/marker.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_Slice_glsl_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/Slice.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/Slice.glsl.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_attributes_RibbonVertexPosition_glsl_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/attributes/RibbonVertexPosition.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/attributes/RibbonVertexPosition.glsl.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_output_OutputHighlight_glsl_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/output/OutputHighlight.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/output/OutputHighlight.glsl.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_shading_MarkerSizing_glsl_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/shading/MarkerSizing.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/MarkerSizing.glsl.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_shading_TerrainDepthTest_glsl_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/shading/TerrainDepthTest.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/TerrainDepthTest.glsl.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_util_ColorConversion_glsl_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/util/ColorConversion.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/util/ColorConversion.glsl.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_util_RgbaFloatEncoding_glsl_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/util/RgbaFloatEncoding.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/util/RgbaFloatEncoding.glsl.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_util_View_glsl_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/util/View.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/util/View.glsl.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_Float2BindUniform_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/Float2BindUniform.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Float2BindUniform.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_Float4BindUniform_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/Float4BindUniform.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Float4BindUniform.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_Float4PassUniform_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/Float4PassUniform.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Float4PassUniform.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_FloatBindUniform_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/FloatBindUniform.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/FloatBindUniform.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_glsl_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/glsl.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_Matrix4BindUniform_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/Matrix4BindUniform.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Matrix4BindUniform.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_Texture2DPassUniform_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/Texture2DPassUniform.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Texture2DPassUniform.js");
/* harmony import */ var _views_3d_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../views/3d/webgl-engine/lib/VertexAttribute.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/VertexAttribute.js");
/* harmony import */ var _views_3d_webgl_engine_shaders_LineMarkerTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../views/3d/webgl-engine/shaders/LineMarkerTechniqueConfiguration.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/LineMarkerTechniqueConfiguration.js");
/* harmony import */ var _views_3d_webgl_engine_shaders_OutputColorHighlightOID_glsl_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../views/3d/webgl-engine/shaders/OutputColorHighlightOID.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/OutputColorHighlightOID.glsl.js");
/* harmony import */ var _views_webgl_ShaderBuilder_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../views/webgl/ShaderBuilder.js */ "./node_modules/@arcgis/core/views/webgl/ShaderBuilder.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
function L(L){const k=new _views_webgl_ShaderBuilder_js__WEBPACK_IMPORTED_MODULE_19__.ShaderBuilder,{space:M,anchor:D,hasTip:C}=L,$=M===_views_3d_webgl_engine_shaders_LineMarkerTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_17__.LineMarkerSpace.World;k.include(_views_3d_webgl_engine_core_shaderLibrary_attributes_RibbonVertexPosition_glsl_js__WEBPACK_IMPORTED_MODULE_2__.RibbonVertexPosition,L),k.include(_views_3d_webgl_engine_core_shaderLibrary_shading_MarkerSizing_glsl_js__WEBPACK_IMPORTED_MODULE_4__.MarkerSizing,L),k.include(_views_3d_webgl_engine_core_shaderLibrary_shading_TerrainDepthTest_glsl_js__WEBPACK_IMPORTED_MODULE_5__.terrainDepthTest,L);const{vertex:O,fragment:T,varyings:W}=k;T.include(_views_3d_webgl_engine_core_shaderLibrary_util_RgbaFloatEncoding_glsl_js__WEBPACK_IMPORTED_MODULE_7__.RgbaFloatEncoding),(0,_views_3d_webgl_engine_core_shaderLibrary_util_View_glsl_js__WEBPACK_IMPORTED_MODULE_8__.addProjViewLocalOrigin)(O,L),k.attributes.add(_views_3d_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_16__.VertexAttribute.POSITION,"vec3"),k.attributes.add(_views_3d_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_16__.VertexAttribute.PREVIOUSDELTA,"vec4"),k.attributes.add(_views_3d_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_16__.VertexAttribute.UV0,"vec2"),W.add("vColor","vec4"),W.add("vpos","vec3",{invariant:!0}),W.add("vUV","vec2"),W.add("vSize","float"),C&&W.add("vLineWidth","float"),O.uniforms.add(new _views_3d_webgl_engine_core_shaderModules_Float2BindUniform_js__WEBPACK_IMPORTED_MODULE_9__.Float2BindUniform("nearFar",(({camera:e})=>e.nearFar)),new _views_3d_webgl_engine_core_shaderModules_Float4BindUniform_js__WEBPACK_IMPORTED_MODULE_10__.Float4BindUniform("viewport",(({camera:e})=>e.fullViewport))).code.add((0,_views_3d_webgl_engine_core_shaderModules_glsl_js__WEBPACK_IMPORTED_MODULE_13__.glsl)`vec4 projectAndScale(vec4 pos) {
vec4 posNdc = proj * pos;
posNdc.xy *= viewport.zw / posNdc.w;
return posNdc;
}`),O.code.add((0,_views_3d_webgl_engine_core_shaderModules_glsl_js__WEBPACK_IMPORTED_MODULE_13__.glsl)`void clip(vec4 pos, inout vec4 prev) {
float vnp = nearFar[0] * 0.99;
if (prev.z > -nearFar[0]) {
float interpolation = (-vnp - pos.z) / (prev.z - pos.z);
prev = mix(pos, prev, interpolation);
}
}`),$?(k.attributes.add(_views_3d_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_16__.VertexAttribute.NORMAL,"vec3"),(0,_views_3d_webgl_engine_core_shaderLibrary_util_View_glsl_js__WEBPACK_IMPORTED_MODULE_8__.addViewNormal)(O),O.constants.add("tiltThreshold","float",.7),O.code.add((0,_views_3d_webgl_engine_core_shaderModules_glsl_js__WEBPACK_IMPORTED_MODULE_13__.glsl)`vec3 perpendicular(vec3 v) {
vec3 n = (viewNormal * vec4(normal.xyz, 1.0)).xyz;
vec3 n2 = cross(v, n);
vec3 forward = vec3(0.0, 0.0, 1.0);
float tiltDot = dot(forward, n);
return abs(tiltDot) < tiltThreshold ? n : n2;
}`)):O.code.add((0,_views_3d_webgl_engine_core_shaderModules_glsl_js__WEBPACK_IMPORTED_MODULE_13__.glsl)`vec2 perpendicular(vec2 v) {
return vec2(v.y, -v.x);
}`);const U=$?"vec3":"vec2";return O.code.add((0,_views_3d_webgl_engine_core_shaderModules_glsl_js__WEBPACK_IMPORTED_MODULE_13__.glsl)`
      ${U} normalizedSegment(${U} pos, ${U} prev) {
        ${U} segment = pos - prev;
        float segmentLen = length(segment);

        // normalize or zero if too short
        return (segmentLen > 0.001) ? segment / segmentLen : ${$?"vec3(0.0, 0.0, 0.0)":"vec2(0.0, 0.0)"};
      }

      ${U} displace(${U} pos, ${U} prev, float displacementLen) {
        ${U} segment = normalizedSegment(pos, prev);

        ${U} displacementDirU = perpendicular(segment);
        ${U} displacementDirV = segment;

        ${D===_views_3d_webgl_engine_shaders_LineMarkerTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_17__.LineMarkerAnchor.Tip?"pos -= 0.5 * displacementLen * displacementDirV;":""}

        return pos + displacementLen * (uv0.x * displacementDirU + uv0.y * displacementDirV);
      }
    `),M===_views_3d_webgl_engine_shaders_LineMarkerTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_17__.LineMarkerSpace.Screen&&(O.uniforms.add(new _views_3d_webgl_engine_core_shaderModules_Matrix4BindUniform_js__WEBPACK_IMPORTED_MODULE_14__.Matrix4BindUniform("inverseProjectionMatrix",(({camera:e})=>e.inverseProjectionMatrix))),O.code.add((0,_views_3d_webgl_engine_core_shaderModules_glsl_js__WEBPACK_IMPORTED_MODULE_13__.glsl)`vec3 inverseProject(vec4 posScreen) {
posScreen.xy = (posScreen.xy / viewport.zw) * posScreen.w;
return (inverseProjectionMatrix * posScreen).xyz;
}`),O.code.add((0,_views_3d_webgl_engine_core_shaderModules_glsl_js__WEBPACK_IMPORTED_MODULE_13__.glsl)`bool rayIntersectPlane(vec3 rayDir, vec3 planeOrigin, vec3 planeNormal, out vec3 intersection) {
float cos = dot(rayDir, planeNormal);
float t = dot(planeOrigin, planeNormal) / cos;
intersection = t * rayDir;
return abs(cos) > 0.001 && t > 0.0;
}`),O.uniforms.add(new _views_3d_webgl_engine_core_shaderModules_FloatBindUniform_js__WEBPACK_IMPORTED_MODULE_12__.FloatBindUniform("perScreenPixelRatio",(({camera:e})=>e.perScreenPixelRatio))),O.code.add((0,_views_3d_webgl_engine_core_shaderModules_glsl_js__WEBPACK_IMPORTED_MODULE_13__.glsl)`
      vec4 toFront(vec4 displacedPosScreen, vec3 posLeft, vec3 posRight, vec3 prev, float lineWidth) {
        // Project displaced position back to camera space
        vec3 displacedPos = inverseProject(displacedPosScreen);

        // Calculate the plane that we want the marker to lie in. Note that this will always be an approximation since ribbon lines are generally
        // not planar and we do not know the actual position of the displaced prev vertices (they are offset in screen space, too).
        vec3 planeNormal = normalize(cross(posLeft - posRight, posLeft - prev));
        vec3 planeOrigin = posLeft;

        ${(0,_views_3d_webgl_engine_core_shaderModules_glsl_js__WEBPACK_IMPORTED_MODULE_13__.If)(L.hasCap,"if(prev.z > posLeft.z) {\n                vec2 diff = posLeft.xy - posRight.xy;\n                planeOrigin.xy += perpendicular(diff) / 2.0;\n             }")};

        // Move the plane towards the camera by a margin dependent on the line width (approximated in world space). This tolerance corrects for the
        // non-planarity in most cases, but sharp joins can place the prev vertices at arbitrary positions so markers can still clip.
        float offset = lineWidth * perScreenPixelRatio;
        planeOrigin *= (1.0 - offset);

        // Intersect camera ray with the plane and make sure it is within clip space
        vec3 rayDir = normalize(displacedPos);
        vec3 intersection;
        if (rayIntersectPlane(rayDir, planeOrigin, planeNormal, intersection) && intersection.z < -nearFar[0] && intersection.z > -nearFar[1]) {
          return vec4(intersection.xyz, 1.0);
        }

        // Fallback: use depth of pos or prev, whichever is closer to the camera
        float minDepth = planeOrigin.z > prev.z ? length(planeOrigin) : length(prev);
        displacedPos *= minDepth / length(displacedPos);
        return vec4(displacedPos.xyz, 1.0);
      }
  `)),(0,_views_3d_webgl_engine_core_shaderLibrary_util_View_glsl_js__WEBPACK_IMPORTED_MODULE_8__.addPixelRatio)(O),O.main.add((0,_views_3d_webgl_engine_core_shaderModules_glsl_js__WEBPACK_IMPORTED_MODULE_13__.glsl)`
    // Check for special value of uv0.y which is used by the Renderer when graphics
    // are removed before the VBO is recompacted. If this is the case, then we just
    // project outside of clip space.
    if (uv0.y == 0.0) {
      // Project out of clip space
      gl_Position = vec4(1e038, 1e038, 1e038, 1.0);
    }
    else {
      float lineWidth = getLineWidth();
      float screenMarkerSize = getScreenMarkerSize();

      vec4 pos  = view * vec4(position, 1.0);
      vec4 prev = view * vec4(position + previousDelta.xyz * previousDelta.w, 1.0);
      clip(pos, prev);

      ${$?(0,_views_3d_webgl_engine_core_shaderModules_glsl_js__WEBPACK_IMPORTED_MODULE_13__.glsl)`${(0,_views_3d_webgl_engine_core_shaderModules_glsl_js__WEBPACK_IMPORTED_MODULE_13__.If)(L.hideOnShortSegments,(0,_views_3d_webgl_engine_core_shaderModules_glsl_js__WEBPACK_IMPORTED_MODULE_13__.glsl)`
                if (areWorldMarkersHidden(pos, prev)) {
                  // Project out of clip space
                  gl_Position = vec4(1e038, 1e038, 1e038, 1.0);
                  return;
                }`)}
            pos.xyz = displace(pos.xyz, prev.xyz, getWorldMarkerSize(pos));
            vec4 displacedPosScreen = projectAndScale(pos);`:(0,_views_3d_webgl_engine_core_shaderModules_glsl_js__WEBPACK_IMPORTED_MODULE_13__.glsl)`
            vec4 posScreen = projectAndScale(pos);
            vec4 prevScreen = projectAndScale(prev);
            vec4 displacedPosScreen = posScreen;

            displacedPosScreen.xy = displace(posScreen.xy, prevScreen.xy, screenMarkerSize);
            ${(0,_views_3d_webgl_engine_core_shaderModules_glsl_js__WEBPACK_IMPORTED_MODULE_13__.If)(M===_views_3d_webgl_engine_shaders_LineMarkerTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_17__.LineMarkerSpace.Screen,(0,_views_3d_webgl_engine_core_shaderModules_glsl_js__WEBPACK_IMPORTED_MODULE_13__.glsl)`
                vec2 displacementDirU = perpendicular(normalizedSegment(posScreen.xy, prevScreen.xy));

                // We need three points of the ribbon line in camera space to calculate the plane it lies in
                // Note that we approximate the third point, since we have no information about the join around prev
                vec3 lineRight = inverseProject(posScreen + lineWidth * vec4(displacementDirU.xy, 0.0, 0.0));
                vec3 lineLeft = pos.xyz + (pos.xyz - lineRight);

                pos = toFront(displacedPosScreen, lineLeft, lineRight, prev.xyz, lineWidth);
                displacedPosScreen = projectAndScale(pos);`)}`}
      forwardViewPosDepth(pos.xyz);
      // Convert back into NDC
      displacedPosScreen.xy = (displacedPosScreen.xy / viewport.zw) * displacedPosScreen.w;

      // Convert texture coordinate into [0,1]
      vUV = (uv0 + 1.0) / 2.0;
      ${(0,_views_3d_webgl_engine_core_shaderModules_glsl_js__WEBPACK_IMPORTED_MODULE_13__.If)(!$,"vUV *= displacedPosScreen.w;")}
      ${(0,_views_3d_webgl_engine_core_shaderModules_glsl_js__WEBPACK_IMPORTED_MODULE_13__.If)(C,"vLineWidth = lineWidth;")}

      vSize = screenMarkerSize;
      vColor = getColor();

      // Use camera space for slicing
      vpos = pos.xyz;

      gl_Position = displacedPosScreen;
    }`),T.include(_views_3d_webgl_engine_core_shaderLibrary_Slice_glsl_js__WEBPACK_IMPORTED_MODULE_1__.SliceDraw,L),k.include(_views_3d_webgl_engine_shaders_OutputColorHighlightOID_glsl_js__WEBPACK_IMPORTED_MODULE_18__.outputColorHighlightOID,L),T.include(_views_3d_webgl_engine_core_shaderLibrary_util_ColorConversion_glsl_js__WEBPACK_IMPORTED_MODULE_6__.ColorConversion),T.uniforms.add(new _views_3d_webgl_engine_core_shaderModules_Float4PassUniform_js__WEBPACK_IMPORTED_MODULE_11__.Float4PassUniform("intrinsicColor",(({color:e})=>e)),new _views_3d_webgl_engine_core_shaderModules_Texture2DPassUniform_js__WEBPACK_IMPORTED_MODULE_15__.Texture2DPassUniform("tex",(({markerTexture:e})=>e))).constants.add("texelSize","float",1/_views_3d_support_engineContent_marker_js__WEBPACK_IMPORTED_MODULE_0__.markerTextureSize).code.add((0,_views_3d_webgl_engine_core_shaderModules_glsl_js__WEBPACK_IMPORTED_MODULE_13__.glsl)`float markerAlpha(vec2 samplePos) {
samplePos += vec2(0.5, -0.5) * texelSize;
float sdf = rgbaTofloat(texture(tex, samplePos)) - 0.5;
float distance = sdf * vSize;
distance -= 0.5;
return clamp(0.5 - distance, 0.0, 1.0);
}`),C&&T.constants.add("relativeMarkerSize","float",_views_3d_support_engineContent_marker_js__WEBPACK_IMPORTED_MODULE_0__.markerSymbolSize/_views_3d_support_engineContent_marker_js__WEBPACK_IMPORTED_MODULE_0__.markerTextureSize).constants.add("relativeTipLineWidth","float",_views_3d_support_engineContent_marker_js__WEBPACK_IMPORTED_MODULE_0__.markerTipThicknessFactor).code.add((0,_views_3d_webgl_engine_core_shaderModules_glsl_js__WEBPACK_IMPORTED_MODULE_13__.glsl)`
    float tipAlpha(vec2 samplePos) {
      // Convert coordinates s.t. they are in pixels and relative to the tip of an arrow marker
      samplePos -= vec2(0.5, 0.5 + 0.5 * relativeMarkerSize);
      samplePos *= vSize;

      float halfMarkerSize = 0.5 * relativeMarkerSize * vSize;
      float halfTipLineWidth = 0.5 * max(1.0, relativeTipLineWidth * vLineWidth);

      ${(0,_views_3d_webgl_engine_core_shaderModules_glsl_js__WEBPACK_IMPORTED_MODULE_13__.If)($,"halfTipLineWidth *= fwidth(samplePos.y);")}

      float distance = max(abs(samplePos.x) - halfMarkerSize, abs(samplePos.y) - halfTipLineWidth);
      return clamp(0.5 - distance, 0.0, 1.0);
    }
  `),k.include(_views_3d_webgl_engine_core_shaderLibrary_output_OutputHighlight_glsl_js__WEBPACK_IMPORTED_MODULE_3__.OutputHighlight,L),T.main.add((0,_views_3d_webgl_engine_core_shaderModules_glsl_js__WEBPACK_IMPORTED_MODULE_13__.glsl)`
    discardBySlice(vpos);
    discardByTerrainDepth();

    vec4 finalColor = intrinsicColor * vColor;

    // Cancel out perspective correct interpolation if in screen space or draped
    vec2 samplePos = vUV ${(0,_views_3d_webgl_engine_core_shaderModules_glsl_js__WEBPACK_IMPORTED_MODULE_13__.If)(!$,"* gl_FragCoord.w")};
    finalColor.a *= ${C?"max(markerAlpha(samplePos), tipAlpha(samplePos))":"markerAlpha(samplePos)"};
    outputColorHighlightOID(finalColor, vpos, finalColor.rgb);`),k}const k=Object.freeze(Object.defineProperty({__proto__:null,build:L},Symbol.toStringTag,{value:"Module"}));


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/webgl-engine/materials/LineMarkerMaterial.js":
/*!*****************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/materials/LineMarkerMaterial.js ***!
  \*****************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   LineMarkerMaterial: () => (/* binding */ I),
/* harmony export */   Parameters: () => (/* binding */ C)
/* harmony export */ });
/* harmony import */ var _chunks_vec32_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../chunks/vec32.js */ "./node_modules/@arcgis/core/chunks/vec32.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/libs/gl-matrix-2/factories/vec3f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/vec3f64.js");
/* harmony import */ var _geometry_support_float16_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../geometry/support/float16.js */ "./node_modules/@arcgis/core/geometry/support/float16.js");
/* harmony import */ var _support_buffer_InterleavedLayout_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../support/buffer/InterleavedLayout.js */ "./node_modules/@arcgis/core/views/3d/support/buffer/InterleavedLayout.js");
/* harmony import */ var _core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../core/shaderLibrary/ShaderOutput.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/ShaderOutput.js");
/* harmony import */ var _lib_GLMaterial_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../lib/GLMaterial.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/GLMaterial.js");
/* harmony import */ var _lib_Material_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../lib/Material.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/Material.js");
/* harmony import */ var _lib_RenderSlot_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../lib/RenderSlot.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/RenderSlot.js");
/* harmony import */ var _lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../lib/VertexAttribute.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/VertexAttribute.js");
/* harmony import */ var _VisualVariablePassParameters_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./VisualVariablePassParameters.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/materials/VisualVariablePassParameters.js");
/* harmony import */ var _internal_bufferWriterUtils_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./internal/bufferWriterUtils.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/materials/internal/bufferWriterUtils.js");
/* harmony import */ var _shaders_LineMarkerTechnique_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../shaders/LineMarkerTechnique.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/LineMarkerTechnique.js");
/* harmony import */ var _shaders_LineMarkerTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../shaders/LineMarkerTechniqueConfiguration.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/LineMarkerTechniqueConfiguration.js");
/* harmony import */ var _shaders_RibbonLineTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../shaders/RibbonLineTechniqueConfiguration.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/RibbonLineTechniqueConfiguration.js");
/* harmony import */ var _webscene_support_AlphaCutoff_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../../webscene/support/AlphaCutoff.js */ "./node_modules/@arcgis/core/webscene/support/AlphaCutoff.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
class I extends _lib_Material_js__WEBPACK_IMPORTED_MODULE_6__.Material{constructor(e){super(e,C),this._configuration=new _shaders_LineMarkerTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_12__.LineMarkerTechniqueConfiguration,this.vertexAttributeLocations=_shaders_LineMarkerTechnique_js__WEBPACK_IMPORTED_MODULE_11__.vertexAttributeLocations,this.produces=new Map([[_lib_RenderSlot_js__WEBPACK_IMPORTED_MODULE_7__.RenderSlot.OPAQUE_MATERIAL,e=>e===_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_4__.ShaderOutput.Highlight||(0,_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_4__.isColor)(e)&&this.parameters.renderOccluded===_lib_Material_js__WEBPACK_IMPORTED_MODULE_6__.RenderOccludedFlag.OccludeAndTransparentStencil],[_lib_RenderSlot_js__WEBPACK_IMPORTED_MODULE_7__.RenderSlot.OPAQUE_MATERIAL_WITHOUT_NORMALS,e=>(0,_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_4__.isDepth)(e)],[_lib_RenderSlot_js__WEBPACK_IMPORTED_MODULE_7__.RenderSlot.OCCLUDER_MATERIAL,e=>(0,_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_4__.isColorHighlightOrDepth)(e)&&this.parameters.renderOccluded===_lib_Material_js__WEBPACK_IMPORTED_MODULE_6__.RenderOccludedFlag.OccludeAndTransparentStencil],[_lib_RenderSlot_js__WEBPACK_IMPORTED_MODULE_7__.RenderSlot.TRANSPARENT_OCCLUDER_MATERIAL,e=>(0,_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_4__.isColorHighlightOrDepth)(e)&&this.parameters.renderOccluded===_lib_Material_js__WEBPACK_IMPORTED_MODULE_6__.RenderOccludedFlag.OccludeAndTransparentStencil],[_lib_RenderSlot_js__WEBPACK_IMPORTED_MODULE_7__.RenderSlot.TRANSPARENT_MATERIAL,e=>(0,_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_4__.isColor)(e)&&this.parameters.writeDepth],[_lib_RenderSlot_js__WEBPACK_IMPORTED_MODULE_7__.RenderSlot.TRANSPARENT_MATERIAL_WITHOUT_DEPTH,e=>(0,_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_4__.isColor)(e)&&!this.parameters.writeDepth],[_lib_RenderSlot_js__WEBPACK_IMPORTED_MODULE_7__.RenderSlot.DRAPED_MATERIAL,e=>(0,_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_4__.isColorOrColorEmission)(e)||e===_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_4__.ShaderOutput.Highlight]]),this.intersectDraped=void 0,this._layout=this.createLayout()}getConfiguration(e,t){return super.getConfiguration(e,t,this._configuration),this._configuration.space=t.slot===_lib_RenderSlot_js__WEBPACK_IMPORTED_MODULE_7__.RenderSlot.DRAPED_MATERIAL?_shaders_LineMarkerTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_12__.LineMarkerSpace.Draped:this.parameters.worldSpace?_shaders_LineMarkerTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_12__.LineMarkerSpace.World:_shaders_LineMarkerTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_12__.LineMarkerSpace.Screen,this._configuration.hideOnShortSegments=this.parameters.hideOnShortSegments,this._configuration.hasCap=this.parameters.cap!==_shaders_RibbonLineTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_13__.CapType.BUTT,this._configuration.anchor=this.parameters.anchor,this._configuration.hasTip=this.parameters.hasTip,this._configuration.hasSlicePlane=this.parameters.hasSlicePlane,this._configuration.hasOccludees=t.hasOccludees,this._configuration.writeDepth=this.parameters.writeDepth,this._configuration.vvSize=!!this.parameters.vvSize,this._configuration.vvColor=!!this.parameters.vvColor,this._configuration.vvOpacity=!!this.parameters.vvOpacity,this._configuration.occluder=this.parameters.renderOccluded===_lib_Material_js__WEBPACK_IMPORTED_MODULE_6__.RenderOccludedFlag.OccludeAndTransparentStencil,this._configuration.oitPass=t.oitPass,this._configuration.terrainDepthTest=t.terrainDepthTest&&(0,_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_4__.isColorOrColorEmission)(e),this._configuration.cullAboveTerrain=t.cullAboveTerrain,this._configuration}get visible(){return this.parameters.color[3]>=_webscene_support_AlphaCutoff_js__WEBPACK_IMPORTED_MODULE_14__.alphaCutoff}intersect(){}createLayout(){const e=(0,_support_buffer_InterleavedLayout_js__WEBPACK_IMPORTED_MODULE_3__.newLayout)().vec3f(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_8__.VertexAttribute.POSITION).vec4f16(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_8__.VertexAttribute.PREVIOUSDELTA).vec2f16(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_8__.VertexAttribute.UV0);return this.parameters.vvColor?e.f32(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_8__.VertexAttribute.COLORFEATUREATTRIBUTE):e.vec4u8(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_8__.VertexAttribute.COLOR,{glNormalized:!0}),this.parameters.vvOpacity&&e.f32(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_8__.VertexAttribute.OPACITYFEATUREATTRIBUTE),this.parameters.vvSize?e.f32(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_8__.VertexAttribute.SIZEFEATUREATTRIBUTE):e.f16(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_8__.VertexAttribute.SIZE),this.parameters.worldSpace&&e.vec3f16(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_8__.VertexAttribute.NORMAL),e}createBufferWriter(){return new P(this._layout,this.parameters)}createGLMaterial(e){return new L(e)}}class L extends _lib_GLMaterial_js__WEBPACK_IMPORTED_MODULE_5__["default"]{dispose(){super.dispose(),this._markerTextures.release(this._markerPrimitive),this._markerPrimitive=null}beginSlot(e){const t=this._material.parameters.markerPrimitive;return t!==this._markerPrimitive&&(this._material.setParameters({markerTexture:this._markerTextures.swap(t,this._markerPrimitive)}),this._markerPrimitive=t),this.getTechnique(_shaders_LineMarkerTechnique_js__WEBPACK_IMPORTED_MODULE_11__.LineMarkerTechnique,e)}}class C extends _VisualVariablePassParameters_js__WEBPACK_IMPORTED_MODULE_9__.VisualVariablePassParameters{constructor(){super(...arguments),this.width=0,this.color=[1,1,1,1],this.markerPrimitive="arrow",this.placement="end",this.cap=_shaders_RibbonLineTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_13__.CapType.BUTT,this.anchor=_shaders_LineMarkerTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_12__.LineMarkerAnchor.Center,this.hasTip=!1,this.worldSpace=!1,this.hideOnShortSegments=!1,this.writeDepth=!0,this.hasSlicePlane=!1,this.vvFastUpdate=!1,this.markerTexture=null}}class P{constructor(e,t){this.vertexBufferLayout=e,this._parameters=t}elementCount(){return"begin-end"===this._parameters.placement?12:6}write(i,s,n,o,h,c){const p=n.get(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_8__.VertexAttribute.POSITION).data,l=p.length/3;let m=[1,0,0];const u=n.get(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_8__.VertexAttribute.NORMAL);this._parameters.worldSpace&&null!=u&&(m=u.data);let T=1,d=0;this._parameters.vvSize?d=n.get(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_8__.VertexAttribute.SIZEFEATUREATTRIBUTE).data[0]:n.has(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_8__.VertexAttribute.SIZE)&&(T=n.get(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_8__.VertexAttribute.SIZE).data[0]);let A=[1,1,1,1],_=0;this._parameters.vvColor?_=n.get(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_8__.VertexAttribute.COLORFEATUREATTRIBUTE).data[0]:n.has(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_8__.VertexAttribute.COLOR)&&(A=n.get(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_8__.VertexAttribute.COLOR).data);let v=0;this._parameters.vvOpacity&&(v=n.get(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_8__.VertexAttribute.OPACITYFEATUREATTRIBUTE).data[0]);const g=new Float32Array(h.buffer),S=(0,_geometry_support_float16_js__WEBPACK_IMPORTED_MODULE_2__.makeFloat16Array)(h.buffer),O=new Uint8Array(h.buffer);let R=c*(this.vertexBufferLayout.stride/4);const I=g.BYTES_PER_ELEMENT/S.BYTES_PER_ELEMENT,L=4/I,C=(e,t,r,i)=>{g[R++]=e[0],g[R++]=e[1],g[R++]=e[2],(0,_internal_bufferWriterUtils_js__WEBPACK_IMPORTED_MODULE_10__.writeDeltaF16Vector)(t,e,S,R*I),R+=L;let a=R*I;if(S[a++]=r[0],S[a++]=r[1],R=Math.ceil(a/I),this._parameters.vvColor)g[R++]=_;else{const e=Math.min(4*i,A.length-4),t=4*R++;O[t]=255*A[e],O[t+1]=255*A[e+1],O[t+2]=255*A[e+2],O[t+3]=255*A[e+3]}this._parameters.vvOpacity&&(g[R++]=v),a=R*I,this._parameters.vvSize?(g[R++]=d,a+=2):S[a++]=T,this._parameters.worldSpace&&(S[a++]=m[0],S[a++]=m[1],S[a++]=m[2]),R=Math.ceil(a/I)};let P;!function(e){e[e.ASCENDING=1]="ASCENDING",e[e.DESCENDING=-1]="DESCENDING"}(P||(P={}));const b=(a,s)=>{const n=(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_0__.i)(D,p[3*a],p[3*a+1],p[3*a+2]),o=N;let h=a+s;do{(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_0__.i)(o,p[3*h],p[3*h+1],p[3*h+2]),h+=s}while((0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_0__.G)(n,o)&&h>=0&&h<l);i&&((0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_0__.t)(n,n,i),(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_0__.t)(o,o,i)),C(n,o,[-1,-1],a),C(n,o,[1,-1],a),C(n,o,[1,1],a),C(n,o,[-1,-1],a),C(n,o,[1,1],a),C(n,o,[-1,1],a)},U=this._parameters.placement;return"begin"!==U&&"begin-end"!==U||b(0,P.ASCENDING),"end"!==U&&"begin-end"!==U||b(l-1,P.DESCENDING),null}}const D=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_1__.create)(),N=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_1__.create)();


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/LineMarkerTechnique.js":
/*!****************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/LineMarkerTechnique.js ***!
  \****************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   LineMarkerTechnique: () => (/* binding */ S),
/* harmony export */   vertexAttributeLocations: () => (/* binding */ W)
/* harmony export */ });
/* harmony import */ var _core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../core/shaderLibrary/ShaderOutput.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/ShaderOutput.js");
/* harmony import */ var _core_shaderTechnique_ReloadableShaderModule_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../core/shaderTechnique/ReloadableShaderModule.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderTechnique/ReloadableShaderModule.js");
/* harmony import */ var _core_shaderTechnique_ShaderTechnique_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../core/shaderTechnique/ShaderTechnique.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderTechnique/ShaderTechnique.js");
/* harmony import */ var _lib_OrderIndependentTransparency_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../lib/OrderIndependentTransparency.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/OrderIndependentTransparency.js");
/* harmony import */ var _lib_RenderSlot_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../lib/RenderSlot.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/RenderSlot.js");
/* harmony import */ var _lib_StencilUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../lib/StencilUtils.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/StencilUtils.js");
/* harmony import */ var _lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../lib/VertexAttribute.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/VertexAttribute.js");
/* harmony import */ var _chunks_LineMarker_glsl_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../chunks/LineMarker.glsl.js */ "./node_modules/@arcgis/core/chunks/LineMarker.glsl.js");
/* harmony import */ var _LineMarkerTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./LineMarkerTechniqueConfiguration.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/LineMarkerTechniqueConfiguration.js");
/* harmony import */ var _webgl_renderState_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../webgl/renderState.js */ "./node_modules/@arcgis/core/views/webgl/renderState.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
class S extends _core_shaderTechnique_ShaderTechnique_js__WEBPACK_IMPORTED_MODULE_2__.ShaderTechnique{constructor(e,t){super(e,t,new _core_shaderTechnique_ReloadableShaderModule_js__WEBPACK_IMPORTED_MODULE_1__.ReloadableShaderModule(_chunks_LineMarker_glsl_js__WEBPACK_IMPORTED_MODULE_7__.L,(()=>__webpack_require__.e(/*! import() */ "node_modules_arcgis_core_views_3d_webgl-engine_shaders_LineMarker_glsl_js").then(__webpack_require__.bind(__webpack_require__, /*! ./LineMarker.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/LineMarker.glsl.js")))),W)}_makePipelineState(i,t){const{output:p,oitPass:d,space:T,hasOccludees:h}=i;return (0,_webgl_renderState_js__WEBPACK_IMPORTED_MODULE_9__.makePipelineState)({blending:(0,_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_0__.isColorOrColorEmission)(p)?(0,_lib_OrderIndependentTransparency_js__WEBPACK_IMPORTED_MODULE_3__.blending)(d):null,depthTest:T===_LineMarkerTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_8__.LineMarkerSpace.Draped?null:{func:(0,_lib_OrderIndependentTransparency_js__WEBPACK_IMPORTED_MODULE_3__.oitDepthTest)(d)},depthWrite:(0,_lib_OrderIndependentTransparency_js__WEBPACK_IMPORTED_MODULE_3__.depthWrite)(i),drawBuffers:(0,_core_shaderTechnique_ShaderTechnique_js__WEBPACK_IMPORTED_MODULE_2__.depthOnlyOutputBuffersOr)(p,(0,_lib_OrderIndependentTransparency_js__WEBPACK_IMPORTED_MODULE_3__.getDrawBuffers)(d,p)),colorWrite:_webgl_renderState_js__WEBPACK_IMPORTED_MODULE_9__.defaultColorWrite,stencilWrite:h?_lib_StencilUtils_js__WEBPACK_IMPORTED_MODULE_5__.stencilWriteMaskOn:null,stencilTest:h?t?_lib_StencilUtils_js__WEBPACK_IMPORTED_MODULE_5__.stencilToolMaskBaseParams:_lib_StencilUtils_js__WEBPACK_IMPORTED_MODULE_5__.stencilBaseAllZerosParams:null,polygonOffset:{factor:0,units:-10}})}initializePipeline(e){return e.occluder?(this._occluderPipelineTransparent=(0,_webgl_renderState_js__WEBPACK_IMPORTED_MODULE_9__.makePipelineState)({blending:_webgl_renderState_js__WEBPACK_IMPORTED_MODULE_9__.unpremultipliedAlphaToPremultipliedAlpha,depthTest:_lib_StencilUtils_js__WEBPACK_IMPORTED_MODULE_5__.depthCompareAlways,depthWrite:null,colorWrite:_webgl_renderState_js__WEBPACK_IMPORTED_MODULE_9__.defaultColorWrite,stencilWrite:null,stencilTest:_lib_StencilUtils_js__WEBPACK_IMPORTED_MODULE_5__.stencilToolTransparentOccluderParams}),this._occluderPipelineOpaque=(0,_webgl_renderState_js__WEBPACK_IMPORTED_MODULE_9__.makePipelineState)({blending:_webgl_renderState_js__WEBPACK_IMPORTED_MODULE_9__.unpremultipliedAlphaToPremultipliedAlpha,depthTest:_lib_StencilUtils_js__WEBPACK_IMPORTED_MODULE_5__.depthCompareAlways,depthWrite:null,colorWrite:_webgl_renderState_js__WEBPACK_IMPORTED_MODULE_9__.defaultColorWrite,stencilWrite:_lib_StencilUtils_js__WEBPACK_IMPORTED_MODULE_5__.stencilWriteMaskOff,stencilTest:_lib_StencilUtils_js__WEBPACK_IMPORTED_MODULE_5__.stencilToolMaskOccluderParams}),this._occluderPipelineMaskWrite=(0,_webgl_renderState_js__WEBPACK_IMPORTED_MODULE_9__.makePipelineState)({blending:null,depthTest:_lib_StencilUtils_js__WEBPACK_IMPORTED_MODULE_5__.depthCompareLess,depthWrite:null,colorWrite:null,stencilWrite:_lib_StencilUtils_js__WEBPACK_IMPORTED_MODULE_5__.stencilWriteMaskOn,stencilTest:_lib_StencilUtils_js__WEBPACK_IMPORTED_MODULE_5__.stencilToolMaskBaseParams})):this._occluderPipelineTransparent=this._occluderPipelineOpaque=this._occluderPipelineMaskWrite=null,this._occludeePipelineState=this._makePipelineState(e,!0),this._makePipelineState(e,!1)}getPipeline(e,i){return e?this._occludeePipelineState:i===_lib_RenderSlot_js__WEBPACK_IMPORTED_MODULE_4__.RenderSlot.TRANSPARENT_OCCLUDER_MATERIAL?this._occluderPipelineTransparent??super.getPipeline():i===_lib_RenderSlot_js__WEBPACK_IMPORTED_MODULE_4__.RenderSlot.OCCLUDER_MATERIAL?this._occluderPipelineOpaque??super.getPipeline():this._occluderPipelineMaskWrite??super.getPipeline()}}const W=new Map([[_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_6__.VertexAttribute.POSITION,0],[_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_6__.VertexAttribute.PREVIOUSDELTA,1],[_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_6__.VertexAttribute.UV0,2],[_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_6__.VertexAttribute.COLOR,3],[_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_6__.VertexAttribute.COLORFEATUREATTRIBUTE,3],[_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_6__.VertexAttribute.OPACITYFEATUREATTRIBUTE,4],[_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_6__.VertexAttribute.SIZE,5],[_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_6__.VertexAttribute.SIZEFEATUREATTRIBUTE,5],[_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_6__.VertexAttribute.NORMAL,6]]);


/***/ })

};

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmVuZG9ycy1ub2RlX21vZHVsZXNfYXJjZ2lzX2NvcmVfdmlld3NfM2Rfd2ViZ2wtZW5naW5lX21hdGVyaWFsc19MaW5lTWFya2VyTWF0ZXJpYWxfanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNrakUsY0FBYyxZQUFZLHlFQUFDLEVBQUUsMEJBQTBCLFNBQVMsZ0hBQUMsT0FBTyxVQUFVLG1JQUFDLGNBQWMsZ0hBQUMsY0FBYyx3SEFBQyxJQUFJLE1BQU0sK0JBQStCLEdBQUcsVUFBVSx1SEFBQyxFQUFFLG1IQUFDLHVCQUF1QiwyRkFBQyxtQ0FBbUMsMkZBQUMsd0NBQXdDLDJGQUFDLHlEQUF5RCxhQUFhLCtGQUErRiw2R0FBQyxjQUFjLFNBQVMsbUJBQW1CLDhHQUFDLGVBQWUsU0FBUyw4QkFBOEIsd0ZBQUM7QUFDMWtGO0FBQ0E7QUFDQTtBQUNBLENBQUMsY0FBYyx3RkFBQztBQUNoQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyx1QkFBdUIsMkZBQUMsZ0JBQWdCLDBHQUFDLDJEQUEyRCx3RkFBQztBQUN0RztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyxlQUFlLHdGQUFDO0FBQ2pCO0FBQ0EsQ0FBQyxHQUFHLHdCQUF3QixrQkFBa0Isd0ZBQUM7QUFDL0MsUUFBUSxHQUFHLG9CQUFvQixHQUFHLE9BQU8sR0FBRztBQUM1QyxVQUFVLEdBQUc7QUFDYjs7QUFFQTtBQUNBLCtEQUErRDtBQUMvRDs7QUFFQSxRQUFRLEdBQUcsV0FBVyxHQUFHLE9BQU8sR0FBRztBQUNuQyxVQUFVLEdBQUc7O0FBRWIsVUFBVSxHQUFHO0FBQ2IsVUFBVSxHQUFHOztBQUViLFVBQVUsSUFBSSxpSEFBQyxzREFBc0Q7O0FBRXJFO0FBQ0E7QUFDQSxXQUFXLGdIQUFDLDZCQUE2QixnSEFBQyw4QkFBOEIsU0FBUywyQ0FBMkMsd0ZBQUM7QUFDN0g7QUFDQTtBQUNBLENBQUMs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QywrQkFBK0Isc0ZBQUMsQ0FBQywrQkFBK0Isd0VBQUMsRUFBRSxTQUFTLDJGQUFDLFdBQVcsb0VBQUMsNEJBQTRCLG9FQUFDLGNBQWMscUVBQUMsYUFBYSwrRUFBQyxDQUFDLGtDQUFrQyx3RUFBQyxFQUFFLHdCQUF3QixrRUFBQyw4Q0FBOEMsb0VBQUMsYUFBYSwyRUFBQyxDQUFDLCtMQUErTCxpQkFBaUIseUNBQXlDLDBEQUFDLDBGQUEwRiwwREFBQywySEFBMkgsa0JBQWtCLG9FQUFDLGNBQWMsb0VBQUMsbUJBQW1CLG9FQUFDLFNBQVMsb0VBQUMsV0FBVyxvRUFBQywyQkFBMkIsb0VBQUMsNkJBQTZCLG9FQUFDLFVBQVUsb0VBQUMsMEJBQTBCLG9FQUFDLGFBQTRFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcHJlY2lzaW9uZmFybXMvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL2NodW5rcy9MaW5lTWFya2VyLmdsc2wuanMiLCJ3ZWJwYWNrOi8vcHJlY2lzaW9uZmFybXMvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzNkL3dlYmdsLWVuZ2luZS9tYXRlcmlhbHMvTGluZU1hcmtlck1hdGVyaWFsLmpzIiwid2VicGFjazovL3ByZWNpc2lvbmZhcm1zLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8zZC93ZWJnbC1lbmdpbmUvc2hhZGVycy9MaW5lTWFya2VyVGVjaG5pcXVlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjMzL2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7bWFya2VyVGV4dHVyZVNpemUgYXMgZSxtYXJrZXJTeW1ib2xTaXplIGFzIHIsbWFya2VyVGlwVGhpY2tuZXNzRmFjdG9yIGFzIGl9ZnJvbVwiLi4vdmlld3MvM2Qvc3VwcG9ydC9lbmdpbmVDb250ZW50L21hcmtlci5qc1wiO2ltcG9ydHtTbGljZURyYXcgYXMgb31mcm9tXCIuLi92aWV3cy8zZC93ZWJnbC1lbmdpbmUvY29yZS9zaGFkZXJMaWJyYXJ5L1NsaWNlLmdsc2wuanNcIjtpbXBvcnR7UmliYm9uVmVydGV4UG9zaXRpb24gYXMgdH1mcm9tXCIuLi92aWV3cy8zZC93ZWJnbC1lbmdpbmUvY29yZS9zaGFkZXJMaWJyYXJ5L2F0dHJpYnV0ZXMvUmliYm9uVmVydGV4UG9zaXRpb24uZ2xzbC5qc1wiO2ltcG9ydHtPdXRwdXRIaWdobGlnaHQgYXMgYX1mcm9tXCIuLi92aWV3cy8zZC93ZWJnbC1lbmdpbmUvY29yZS9zaGFkZXJMaWJyYXJ5L291dHB1dC9PdXRwdXRIaWdobGlnaHQuZ2xzbC5qc1wiO2ltcG9ydHtNYXJrZXJTaXppbmcgYXMgbn1mcm9tXCIuLi92aWV3cy8zZC93ZWJnbC1lbmdpbmUvY29yZS9zaGFkZXJMaWJyYXJ5L3NoYWRpbmcvTWFya2VyU2l6aW5nLmdsc2wuanNcIjtpbXBvcnR7dGVycmFpbkRlcHRoVGVzdCBhcyBzfWZyb21cIi4uL3ZpZXdzLzNkL3dlYmdsLWVuZ2luZS9jb3JlL3NoYWRlckxpYnJhcnkvc2hhZGluZy9UZXJyYWluRGVwdGhUZXN0Lmdsc2wuanNcIjtpbXBvcnR7Q29sb3JDb252ZXJzaW9uIGFzIGx9ZnJvbVwiLi4vdmlld3MvM2Qvd2ViZ2wtZW5naW5lL2NvcmUvc2hhZGVyTGlicmFyeS91dGlsL0NvbG9yQ29udmVyc2lvbi5nbHNsLmpzXCI7aW1wb3J0e1JnYmFGbG9hdEVuY29kaW5nIGFzIGN9ZnJvbVwiLi4vdmlld3MvM2Qvd2ViZ2wtZW5naW5lL2NvcmUvc2hhZGVyTGlicmFyeS91dGlsL1JnYmFGbG9hdEVuY29kaW5nLmdsc2wuanNcIjtpbXBvcnR7YWRkUHJvalZpZXdMb2NhbE9yaWdpbiBhcyBwLGFkZFZpZXdOb3JtYWwgYXMgZCxhZGRQaXhlbFJhdGlvIGFzIHZ9ZnJvbVwiLi4vdmlld3MvM2Qvd2ViZ2wtZW5naW5lL2NvcmUvc2hhZGVyTGlicmFyeS91dGlsL1ZpZXcuZ2xzbC5qc1wiO2ltcG9ydHtGbG9hdDJCaW5kVW5pZm9ybSBhcyBtfWZyb21cIi4uL3ZpZXdzLzNkL3dlYmdsLWVuZ2luZS9jb3JlL3NoYWRlck1vZHVsZXMvRmxvYXQyQmluZFVuaWZvcm0uanNcIjtpbXBvcnR7RmxvYXQ0QmluZFVuaWZvcm0gYXMgaH1mcm9tXCIuLi92aWV3cy8zZC93ZWJnbC1lbmdpbmUvY29yZS9zaGFkZXJNb2R1bGVzL0Zsb2F0NEJpbmRVbmlmb3JtLmpzXCI7aW1wb3J0e0Zsb2F0NFBhc3NVbmlmb3JtIGFzIGZ9ZnJvbVwiLi4vdmlld3MvM2Qvd2ViZ2wtZW5naW5lL2NvcmUvc2hhZGVyTW9kdWxlcy9GbG9hdDRQYXNzVW5pZm9ybS5qc1wiO2ltcG9ydHtGbG9hdEJpbmRVbmlmb3JtIGFzIGd9ZnJvbVwiLi4vdmlld3MvM2Qvd2ViZ2wtZW5naW5lL2NvcmUvc2hhZGVyTW9kdWxlcy9GbG9hdEJpbmRVbmlmb3JtLmpzXCI7aW1wb3J0e2dsc2wgYXMgdSxJZiBhcyB3fWZyb21cIi4uL3ZpZXdzLzNkL3dlYmdsLWVuZ2luZS9jb3JlL3NoYWRlck1vZHVsZXMvZ2xzbC5qc1wiO2ltcG9ydHtNYXRyaXg0QmluZFVuaWZvcm0gYXMgU31mcm9tXCIuLi92aWV3cy8zZC93ZWJnbC1lbmdpbmUvY29yZS9zaGFkZXJNb2R1bGVzL01hdHJpeDRCaW5kVW5pZm9ybS5qc1wiO2ltcG9ydHtUZXh0dXJlMkRQYXNzVW5pZm9ybSBhcyBifWZyb21cIi4uL3ZpZXdzLzNkL3dlYmdsLWVuZ2luZS9jb3JlL3NoYWRlck1vZHVsZXMvVGV4dHVyZTJEUGFzc1VuaWZvcm0uanNcIjtpbXBvcnR7VmVydGV4QXR0cmlidXRlIGFzIHl9ZnJvbVwiLi4vdmlld3MvM2Qvd2ViZ2wtZW5naW5lL2xpYi9WZXJ0ZXhBdHRyaWJ1dGUuanNcIjtpbXBvcnR7TGluZU1hcmtlclNwYWNlIGFzIHgsTGluZU1hcmtlckFuY2hvciBhcyBQfWZyb21cIi4uL3ZpZXdzLzNkL3dlYmdsLWVuZ2luZS9zaGFkZXJzL0xpbmVNYXJrZXJUZWNobmlxdWVDb25maWd1cmF0aW9uLmpzXCI7aW1wb3J0e291dHB1dENvbG9ySGlnaGxpZ2h0T0lEIGFzIHp9ZnJvbVwiLi4vdmlld3MvM2Qvd2ViZ2wtZW5naW5lL3NoYWRlcnMvT3V0cHV0Q29sb3JIaWdobGlnaHRPSUQuZ2xzbC5qc1wiO2ltcG9ydHtTaGFkZXJCdWlsZGVyIGFzIGp9ZnJvbVwiLi4vdmlld3Mvd2ViZ2wvU2hhZGVyQnVpbGRlci5qc1wiO2Z1bmN0aW9uIEwoTCl7Y29uc3Qgaz1uZXcgaix7c3BhY2U6TSxhbmNob3I6RCxoYXNUaXA6Q309TCwkPU09PT14LldvcmxkO2suaW5jbHVkZSh0LEwpLGsuaW5jbHVkZShuLEwpLGsuaW5jbHVkZShzLEwpO2NvbnN0e3ZlcnRleDpPLGZyYWdtZW50OlQsdmFyeWluZ3M6V309aztULmluY2x1ZGUoYykscChPLEwpLGsuYXR0cmlidXRlcy5hZGQoeS5QT1NJVElPTixcInZlYzNcIiksay5hdHRyaWJ1dGVzLmFkZCh5LlBSRVZJT1VTREVMVEEsXCJ2ZWM0XCIpLGsuYXR0cmlidXRlcy5hZGQoeS5VVjAsXCJ2ZWMyXCIpLFcuYWRkKFwidkNvbG9yXCIsXCJ2ZWM0XCIpLFcuYWRkKFwidnBvc1wiLFwidmVjM1wiLHtpbnZhcmlhbnQ6ITB9KSxXLmFkZChcInZVVlwiLFwidmVjMlwiKSxXLmFkZChcInZTaXplXCIsXCJmbG9hdFwiKSxDJiZXLmFkZChcInZMaW5lV2lkdGhcIixcImZsb2F0XCIpLE8udW5pZm9ybXMuYWRkKG5ldyBtKFwibmVhckZhclwiLCgoe2NhbWVyYTplfSk9PmUubmVhckZhcikpLG5ldyBoKFwidmlld3BvcnRcIiwoKHtjYW1lcmE6ZX0pPT5lLmZ1bGxWaWV3cG9ydCkpKS5jb2RlLmFkZCh1YHZlYzQgcHJvamVjdEFuZFNjYWxlKHZlYzQgcG9zKSB7XG52ZWM0IHBvc05kYyA9IHByb2ogKiBwb3M7XG5wb3NOZGMueHkgKj0gdmlld3BvcnQuencgLyBwb3NOZGMudztcbnJldHVybiBwb3NOZGM7XG59YCksTy5jb2RlLmFkZCh1YHZvaWQgY2xpcCh2ZWM0IHBvcywgaW5vdXQgdmVjNCBwcmV2KSB7XG5mbG9hdCB2bnAgPSBuZWFyRmFyWzBdICogMC45OTtcbmlmIChwcmV2LnogPiAtbmVhckZhclswXSkge1xuZmxvYXQgaW50ZXJwb2xhdGlvbiA9ICgtdm5wIC0gcG9zLnopIC8gKHByZXYueiAtIHBvcy56KTtcbnByZXYgPSBtaXgocG9zLCBwcmV2LCBpbnRlcnBvbGF0aW9uKTtcbn1cbn1gKSwkPyhrLmF0dHJpYnV0ZXMuYWRkKHkuTk9STUFMLFwidmVjM1wiKSxkKE8pLE8uY29uc3RhbnRzLmFkZChcInRpbHRUaHJlc2hvbGRcIixcImZsb2F0XCIsLjcpLE8uY29kZS5hZGQodWB2ZWMzIHBlcnBlbmRpY3VsYXIodmVjMyB2KSB7XG52ZWMzIG4gPSAodmlld05vcm1hbCAqIHZlYzQobm9ybWFsLnh5eiwgMS4wKSkueHl6O1xudmVjMyBuMiA9IGNyb3NzKHYsIG4pO1xudmVjMyBmb3J3YXJkID0gdmVjMygwLjAsIDAuMCwgMS4wKTtcbmZsb2F0IHRpbHREb3QgPSBkb3QoZm9yd2FyZCwgbik7XG5yZXR1cm4gYWJzKHRpbHREb3QpIDwgdGlsdFRocmVzaG9sZCA/IG4gOiBuMjtcbn1gKSk6Ty5jb2RlLmFkZCh1YHZlYzIgcGVycGVuZGljdWxhcih2ZWMyIHYpIHtcbnJldHVybiB2ZWMyKHYueSwgLXYueCk7XG59YCk7Y29uc3QgVT0kP1widmVjM1wiOlwidmVjMlwiO3JldHVybiBPLmNvZGUuYWRkKHVgXG4gICAgICAke1V9IG5vcm1hbGl6ZWRTZWdtZW50KCR7VX0gcG9zLCAke1V9IHByZXYpIHtcbiAgICAgICAgJHtVfSBzZWdtZW50ID0gcG9zIC0gcHJldjtcbiAgICAgICAgZmxvYXQgc2VnbWVudExlbiA9IGxlbmd0aChzZWdtZW50KTtcblxuICAgICAgICAvLyBub3JtYWxpemUgb3IgemVybyBpZiB0b28gc2hvcnRcbiAgICAgICAgcmV0dXJuIChzZWdtZW50TGVuID4gMC4wMDEpID8gc2VnbWVudCAvIHNlZ21lbnRMZW4gOiAkeyQ/XCJ2ZWMzKDAuMCwgMC4wLCAwLjApXCI6XCJ2ZWMyKDAuMCwgMC4wKVwifTtcbiAgICAgIH1cblxuICAgICAgJHtVfSBkaXNwbGFjZSgke1V9IHBvcywgJHtVfSBwcmV2LCBmbG9hdCBkaXNwbGFjZW1lbnRMZW4pIHtcbiAgICAgICAgJHtVfSBzZWdtZW50ID0gbm9ybWFsaXplZFNlZ21lbnQocG9zLCBwcmV2KTtcblxuICAgICAgICAke1V9IGRpc3BsYWNlbWVudERpclUgPSBwZXJwZW5kaWN1bGFyKHNlZ21lbnQpO1xuICAgICAgICAke1V9IGRpc3BsYWNlbWVudERpclYgPSBzZWdtZW50O1xuXG4gICAgICAgICR7RD09PVAuVGlwP1wicG9zIC09IDAuNSAqIGRpc3BsYWNlbWVudExlbiAqIGRpc3BsYWNlbWVudERpclY7XCI6XCJcIn1cblxuICAgICAgICByZXR1cm4gcG9zICsgZGlzcGxhY2VtZW50TGVuICogKHV2MC54ICogZGlzcGxhY2VtZW50RGlyVSArIHV2MC55ICogZGlzcGxhY2VtZW50RGlyVik7XG4gICAgICB9XG4gICAgYCksTT09PXguU2NyZWVuJiYoTy51bmlmb3Jtcy5hZGQobmV3IFMoXCJpbnZlcnNlUHJvamVjdGlvbk1hdHJpeFwiLCgoe2NhbWVyYTplfSk9PmUuaW52ZXJzZVByb2plY3Rpb25NYXRyaXgpKSksTy5jb2RlLmFkZCh1YHZlYzMgaW52ZXJzZVByb2plY3QodmVjNCBwb3NTY3JlZW4pIHtcbnBvc1NjcmVlbi54eSA9IChwb3NTY3JlZW4ueHkgLyB2aWV3cG9ydC56dykgKiBwb3NTY3JlZW4udztcbnJldHVybiAoaW52ZXJzZVByb2plY3Rpb25NYXRyaXggKiBwb3NTY3JlZW4pLnh5ejtcbn1gKSxPLmNvZGUuYWRkKHVgYm9vbCByYXlJbnRlcnNlY3RQbGFuZSh2ZWMzIHJheURpciwgdmVjMyBwbGFuZU9yaWdpbiwgdmVjMyBwbGFuZU5vcm1hbCwgb3V0IHZlYzMgaW50ZXJzZWN0aW9uKSB7XG5mbG9hdCBjb3MgPSBkb3QocmF5RGlyLCBwbGFuZU5vcm1hbCk7XG5mbG9hdCB0ID0gZG90KHBsYW5lT3JpZ2luLCBwbGFuZU5vcm1hbCkgLyBjb3M7XG5pbnRlcnNlY3Rpb24gPSB0ICogcmF5RGlyO1xucmV0dXJuIGFicyhjb3MpID4gMC4wMDEgJiYgdCA+IDAuMDtcbn1gKSxPLnVuaWZvcm1zLmFkZChuZXcgZyhcInBlclNjcmVlblBpeGVsUmF0aW9cIiwoKHtjYW1lcmE6ZX0pPT5lLnBlclNjcmVlblBpeGVsUmF0aW8pKSksTy5jb2RlLmFkZCh1YFxuICAgICAgdmVjNCB0b0Zyb250KHZlYzQgZGlzcGxhY2VkUG9zU2NyZWVuLCB2ZWMzIHBvc0xlZnQsIHZlYzMgcG9zUmlnaHQsIHZlYzMgcHJldiwgZmxvYXQgbGluZVdpZHRoKSB7XG4gICAgICAgIC8vIFByb2plY3QgZGlzcGxhY2VkIHBvc2l0aW9uIGJhY2sgdG8gY2FtZXJhIHNwYWNlXG4gICAgICAgIHZlYzMgZGlzcGxhY2VkUG9zID0gaW52ZXJzZVByb2plY3QoZGlzcGxhY2VkUG9zU2NyZWVuKTtcblxuICAgICAgICAvLyBDYWxjdWxhdGUgdGhlIHBsYW5lIHRoYXQgd2Ugd2FudCB0aGUgbWFya2VyIHRvIGxpZSBpbi4gTm90ZSB0aGF0IHRoaXMgd2lsbCBhbHdheXMgYmUgYW4gYXBwcm94aW1hdGlvbiBzaW5jZSByaWJib24gbGluZXMgYXJlIGdlbmVyYWxseVxuICAgICAgICAvLyBub3QgcGxhbmFyIGFuZCB3ZSBkbyBub3Qga25vdyB0aGUgYWN0dWFsIHBvc2l0aW9uIG9mIHRoZSBkaXNwbGFjZWQgcHJldiB2ZXJ0aWNlcyAodGhleSBhcmUgb2Zmc2V0IGluIHNjcmVlbiBzcGFjZSwgdG9vKS5cbiAgICAgICAgdmVjMyBwbGFuZU5vcm1hbCA9IG5vcm1hbGl6ZShjcm9zcyhwb3NMZWZ0IC0gcG9zUmlnaHQsIHBvc0xlZnQgLSBwcmV2KSk7XG4gICAgICAgIHZlYzMgcGxhbmVPcmlnaW4gPSBwb3NMZWZ0O1xuXG4gICAgICAgICR7dyhMLmhhc0NhcCxcImlmKHByZXYueiA+IHBvc0xlZnQueikge1xcbiAgICAgICAgICAgICAgICB2ZWMyIGRpZmYgPSBwb3NMZWZ0Lnh5IC0gcG9zUmlnaHQueHk7XFxuICAgICAgICAgICAgICAgIHBsYW5lT3JpZ2luLnh5ICs9IHBlcnBlbmRpY3VsYXIoZGlmZikgLyAyLjA7XFxuICAgICAgICAgICAgIH1cIil9O1xuXG4gICAgICAgIC8vIE1vdmUgdGhlIHBsYW5lIHRvd2FyZHMgdGhlIGNhbWVyYSBieSBhIG1hcmdpbiBkZXBlbmRlbnQgb24gdGhlIGxpbmUgd2lkdGggKGFwcHJveGltYXRlZCBpbiB3b3JsZCBzcGFjZSkuIFRoaXMgdG9sZXJhbmNlIGNvcnJlY3RzIGZvciB0aGVcbiAgICAgICAgLy8gbm9uLXBsYW5hcml0eSBpbiBtb3N0IGNhc2VzLCBidXQgc2hhcnAgam9pbnMgY2FuIHBsYWNlIHRoZSBwcmV2IHZlcnRpY2VzIGF0IGFyYml0cmFyeSBwb3NpdGlvbnMgc28gbWFya2VycyBjYW4gc3RpbGwgY2xpcC5cbiAgICAgICAgZmxvYXQgb2Zmc2V0ID0gbGluZVdpZHRoICogcGVyU2NyZWVuUGl4ZWxSYXRpbztcbiAgICAgICAgcGxhbmVPcmlnaW4gKj0gKDEuMCAtIG9mZnNldCk7XG5cbiAgICAgICAgLy8gSW50ZXJzZWN0IGNhbWVyYSByYXkgd2l0aCB0aGUgcGxhbmUgYW5kIG1ha2Ugc3VyZSBpdCBpcyB3aXRoaW4gY2xpcCBzcGFjZVxuICAgICAgICB2ZWMzIHJheURpciA9IG5vcm1hbGl6ZShkaXNwbGFjZWRQb3MpO1xuICAgICAgICB2ZWMzIGludGVyc2VjdGlvbjtcbiAgICAgICAgaWYgKHJheUludGVyc2VjdFBsYW5lKHJheURpciwgcGxhbmVPcmlnaW4sIHBsYW5lTm9ybWFsLCBpbnRlcnNlY3Rpb24pICYmIGludGVyc2VjdGlvbi56IDwgLW5lYXJGYXJbMF0gJiYgaW50ZXJzZWN0aW9uLnogPiAtbmVhckZhclsxXSkge1xuICAgICAgICAgIHJldHVybiB2ZWM0KGludGVyc2VjdGlvbi54eXosIDEuMCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBGYWxsYmFjazogdXNlIGRlcHRoIG9mIHBvcyBvciBwcmV2LCB3aGljaGV2ZXIgaXMgY2xvc2VyIHRvIHRoZSBjYW1lcmFcbiAgICAgICAgZmxvYXQgbWluRGVwdGggPSBwbGFuZU9yaWdpbi56ID4gcHJldi56ID8gbGVuZ3RoKHBsYW5lT3JpZ2luKSA6IGxlbmd0aChwcmV2KTtcbiAgICAgICAgZGlzcGxhY2VkUG9zICo9IG1pbkRlcHRoIC8gbGVuZ3RoKGRpc3BsYWNlZFBvcyk7XG4gICAgICAgIHJldHVybiB2ZWM0KGRpc3BsYWNlZFBvcy54eXosIDEuMCk7XG4gICAgICB9XG4gIGApKSx2KE8pLE8ubWFpbi5hZGQodWBcbiAgICAvLyBDaGVjayBmb3Igc3BlY2lhbCB2YWx1ZSBvZiB1djAueSB3aGljaCBpcyB1c2VkIGJ5IHRoZSBSZW5kZXJlciB3aGVuIGdyYXBoaWNzXG4gICAgLy8gYXJlIHJlbW92ZWQgYmVmb3JlIHRoZSBWQk8gaXMgcmVjb21wYWN0ZWQuIElmIHRoaXMgaXMgdGhlIGNhc2UsIHRoZW4gd2UganVzdFxuICAgIC8vIHByb2plY3Qgb3V0c2lkZSBvZiBjbGlwIHNwYWNlLlxuICAgIGlmICh1djAueSA9PSAwLjApIHtcbiAgICAgIC8vIFByb2plY3Qgb3V0IG9mIGNsaXAgc3BhY2VcbiAgICAgIGdsX1Bvc2l0aW9uID0gdmVjNCgxZTAzOCwgMWUwMzgsIDFlMDM4LCAxLjApO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIGZsb2F0IGxpbmVXaWR0aCA9IGdldExpbmVXaWR0aCgpO1xuICAgICAgZmxvYXQgc2NyZWVuTWFya2VyU2l6ZSA9IGdldFNjcmVlbk1hcmtlclNpemUoKTtcblxuICAgICAgdmVjNCBwb3MgID0gdmlldyAqIHZlYzQocG9zaXRpb24sIDEuMCk7XG4gICAgICB2ZWM0IHByZXYgPSB2aWV3ICogdmVjNChwb3NpdGlvbiArIHByZXZpb3VzRGVsdGEueHl6ICogcHJldmlvdXNEZWx0YS53LCAxLjApO1xuICAgICAgY2xpcChwb3MsIHByZXYpO1xuXG4gICAgICAkeyQ/dWAke3coTC5oaWRlT25TaG9ydFNlZ21lbnRzLHVgXG4gICAgICAgICAgICAgICAgaWYgKGFyZVdvcmxkTWFya2Vyc0hpZGRlbihwb3MsIHByZXYpKSB7XG4gICAgICAgICAgICAgICAgICAvLyBQcm9qZWN0IG91dCBvZiBjbGlwIHNwYWNlXG4gICAgICAgICAgICAgICAgICBnbF9Qb3NpdGlvbiA9IHZlYzQoMWUwMzgsIDFlMDM4LCAxZTAzOCwgMS4wKTtcbiAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9YCl9XG4gICAgICAgICAgICBwb3MueHl6ID0gZGlzcGxhY2UocG9zLnh5eiwgcHJldi54eXosIGdldFdvcmxkTWFya2VyU2l6ZShwb3MpKTtcbiAgICAgICAgICAgIHZlYzQgZGlzcGxhY2VkUG9zU2NyZWVuID0gcHJvamVjdEFuZFNjYWxlKHBvcyk7YDp1YFxuICAgICAgICAgICAgdmVjNCBwb3NTY3JlZW4gPSBwcm9qZWN0QW5kU2NhbGUocG9zKTtcbiAgICAgICAgICAgIHZlYzQgcHJldlNjcmVlbiA9IHByb2plY3RBbmRTY2FsZShwcmV2KTtcbiAgICAgICAgICAgIHZlYzQgZGlzcGxhY2VkUG9zU2NyZWVuID0gcG9zU2NyZWVuO1xuXG4gICAgICAgICAgICBkaXNwbGFjZWRQb3NTY3JlZW4ueHkgPSBkaXNwbGFjZShwb3NTY3JlZW4ueHksIHByZXZTY3JlZW4ueHksIHNjcmVlbk1hcmtlclNpemUpO1xuICAgICAgICAgICAgJHt3KE09PT14LlNjcmVlbix1YFxuICAgICAgICAgICAgICAgIHZlYzIgZGlzcGxhY2VtZW50RGlyVSA9IHBlcnBlbmRpY3VsYXIobm9ybWFsaXplZFNlZ21lbnQocG9zU2NyZWVuLnh5LCBwcmV2U2NyZWVuLnh5KSk7XG5cbiAgICAgICAgICAgICAgICAvLyBXZSBuZWVkIHRocmVlIHBvaW50cyBvZiB0aGUgcmliYm9uIGxpbmUgaW4gY2FtZXJhIHNwYWNlIHRvIGNhbGN1bGF0ZSB0aGUgcGxhbmUgaXQgbGllcyBpblxuICAgICAgICAgICAgICAgIC8vIE5vdGUgdGhhdCB3ZSBhcHByb3hpbWF0ZSB0aGUgdGhpcmQgcG9pbnQsIHNpbmNlIHdlIGhhdmUgbm8gaW5mb3JtYXRpb24gYWJvdXQgdGhlIGpvaW4gYXJvdW5kIHByZXZcbiAgICAgICAgICAgICAgICB2ZWMzIGxpbmVSaWdodCA9IGludmVyc2VQcm9qZWN0KHBvc1NjcmVlbiArIGxpbmVXaWR0aCAqIHZlYzQoZGlzcGxhY2VtZW50RGlyVS54eSwgMC4wLCAwLjApKTtcbiAgICAgICAgICAgICAgICB2ZWMzIGxpbmVMZWZ0ID0gcG9zLnh5eiArIChwb3MueHl6IC0gbGluZVJpZ2h0KTtcblxuICAgICAgICAgICAgICAgIHBvcyA9IHRvRnJvbnQoZGlzcGxhY2VkUG9zU2NyZWVuLCBsaW5lTGVmdCwgbGluZVJpZ2h0LCBwcmV2Lnh5eiwgbGluZVdpZHRoKTtcbiAgICAgICAgICAgICAgICBkaXNwbGFjZWRQb3NTY3JlZW4gPSBwcm9qZWN0QW5kU2NhbGUocG9zKTtgKX1gfVxuICAgICAgZm9yd2FyZFZpZXdQb3NEZXB0aChwb3MueHl6KTtcbiAgICAgIC8vIENvbnZlcnQgYmFjayBpbnRvIE5EQ1xuICAgICAgZGlzcGxhY2VkUG9zU2NyZWVuLnh5ID0gKGRpc3BsYWNlZFBvc1NjcmVlbi54eSAvIHZpZXdwb3J0Lnp3KSAqIGRpc3BsYWNlZFBvc1NjcmVlbi53O1xuXG4gICAgICAvLyBDb252ZXJ0IHRleHR1cmUgY29vcmRpbmF0ZSBpbnRvIFswLDFdXG4gICAgICB2VVYgPSAodXYwICsgMS4wKSAvIDIuMDtcbiAgICAgICR7dyghJCxcInZVViAqPSBkaXNwbGFjZWRQb3NTY3JlZW4udztcIil9XG4gICAgICAke3coQyxcInZMaW5lV2lkdGggPSBsaW5lV2lkdGg7XCIpfVxuXG4gICAgICB2U2l6ZSA9IHNjcmVlbk1hcmtlclNpemU7XG4gICAgICB2Q29sb3IgPSBnZXRDb2xvcigpO1xuXG4gICAgICAvLyBVc2UgY2FtZXJhIHNwYWNlIGZvciBzbGljaW5nXG4gICAgICB2cG9zID0gcG9zLnh5ejtcblxuICAgICAgZ2xfUG9zaXRpb24gPSBkaXNwbGFjZWRQb3NTY3JlZW47XG4gICAgfWApLFQuaW5jbHVkZShvLEwpLGsuaW5jbHVkZSh6LEwpLFQuaW5jbHVkZShsKSxULnVuaWZvcm1zLmFkZChuZXcgZihcImludHJpbnNpY0NvbG9yXCIsKCh7Y29sb3I6ZX0pPT5lKSksbmV3IGIoXCJ0ZXhcIiwoKHttYXJrZXJUZXh0dXJlOmV9KT0+ZSkpKS5jb25zdGFudHMuYWRkKFwidGV4ZWxTaXplXCIsXCJmbG9hdFwiLDEvZSkuY29kZS5hZGQodWBmbG9hdCBtYXJrZXJBbHBoYSh2ZWMyIHNhbXBsZVBvcykge1xuc2FtcGxlUG9zICs9IHZlYzIoMC41LCAtMC41KSAqIHRleGVsU2l6ZTtcbmZsb2F0IHNkZiA9IHJnYmFUb2Zsb2F0KHRleHR1cmUodGV4LCBzYW1wbGVQb3MpKSAtIDAuNTtcbmZsb2F0IGRpc3RhbmNlID0gc2RmICogdlNpemU7XG5kaXN0YW5jZSAtPSAwLjU7XG5yZXR1cm4gY2xhbXAoMC41IC0gZGlzdGFuY2UsIDAuMCwgMS4wKTtcbn1gKSxDJiZULmNvbnN0YW50cy5hZGQoXCJyZWxhdGl2ZU1hcmtlclNpemVcIixcImZsb2F0XCIsci9lKS5jb25zdGFudHMuYWRkKFwicmVsYXRpdmVUaXBMaW5lV2lkdGhcIixcImZsb2F0XCIsaSkuY29kZS5hZGQodWBcbiAgICBmbG9hdCB0aXBBbHBoYSh2ZWMyIHNhbXBsZVBvcykge1xuICAgICAgLy8gQ29udmVydCBjb29yZGluYXRlcyBzLnQuIHRoZXkgYXJlIGluIHBpeGVscyBhbmQgcmVsYXRpdmUgdG8gdGhlIHRpcCBvZiBhbiBhcnJvdyBtYXJrZXJcbiAgICAgIHNhbXBsZVBvcyAtPSB2ZWMyKDAuNSwgMC41ICsgMC41ICogcmVsYXRpdmVNYXJrZXJTaXplKTtcbiAgICAgIHNhbXBsZVBvcyAqPSB2U2l6ZTtcblxuICAgICAgZmxvYXQgaGFsZk1hcmtlclNpemUgPSAwLjUgKiByZWxhdGl2ZU1hcmtlclNpemUgKiB2U2l6ZTtcbiAgICAgIGZsb2F0IGhhbGZUaXBMaW5lV2lkdGggPSAwLjUgKiBtYXgoMS4wLCByZWxhdGl2ZVRpcExpbmVXaWR0aCAqIHZMaW5lV2lkdGgpO1xuXG4gICAgICAke3coJCxcImhhbGZUaXBMaW5lV2lkdGggKj0gZndpZHRoKHNhbXBsZVBvcy55KTtcIil9XG5cbiAgICAgIGZsb2F0IGRpc3RhbmNlID0gbWF4KGFicyhzYW1wbGVQb3MueCkgLSBoYWxmTWFya2VyU2l6ZSwgYWJzKHNhbXBsZVBvcy55KSAtIGhhbGZUaXBMaW5lV2lkdGgpO1xuICAgICAgcmV0dXJuIGNsYW1wKDAuNSAtIGRpc3RhbmNlLCAwLjAsIDEuMCk7XG4gICAgfVxuICBgKSxrLmluY2x1ZGUoYSxMKSxULm1haW4uYWRkKHVgXG4gICAgZGlzY2FyZEJ5U2xpY2UodnBvcyk7XG4gICAgZGlzY2FyZEJ5VGVycmFpbkRlcHRoKCk7XG5cbiAgICB2ZWM0IGZpbmFsQ29sb3IgPSBpbnRyaW5zaWNDb2xvciAqIHZDb2xvcjtcblxuICAgIC8vIENhbmNlbCBvdXQgcGVyc3BlY3RpdmUgY29ycmVjdCBpbnRlcnBvbGF0aW9uIGlmIGluIHNjcmVlbiBzcGFjZSBvciBkcmFwZWRcbiAgICB2ZWMyIHNhbXBsZVBvcyA9IHZVViAke3coISQsXCIqIGdsX0ZyYWdDb29yZC53XCIpfTtcbiAgICBmaW5hbENvbG9yLmEgKj0gJHtDP1wibWF4KG1hcmtlckFscGhhKHNhbXBsZVBvcyksIHRpcEFscGhhKHNhbXBsZVBvcykpXCI6XCJtYXJrZXJBbHBoYShzYW1wbGVQb3MpXCJ9O1xuICAgIG91dHB1dENvbG9ySGlnaGxpZ2h0T0lEKGZpbmFsQ29sb3IsIHZwb3MsIGZpbmFsQ29sb3IucmdiKTtgKSxrfWNvbnN0IGs9T2JqZWN0LmZyZWV6ZShPYmplY3QuZGVmaW5lUHJvcGVydHkoe19fcHJvdG9fXzpudWxsLGJ1aWxkOkx9LFN5bWJvbC50b1N0cmluZ1RhZyx7dmFsdWU6XCJNb2R1bGVcIn0pKTtleHBvcnR7ayBhcyBMLEwgYXMgYn07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4zMy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e2kgYXMgZSxHIGFzIHQsdCBhcyByfWZyb21cIi4uLy4uLy4uLy4uL2NodW5rcy92ZWMzMi5qc1wiO2ltcG9ydHtjcmVhdGUgYXMgaX1mcm9tXCIuLi8uLi8uLi8uLi9jb3JlL2xpYnMvZ2wtbWF0cml4LTIvZmFjdG9yaWVzL3ZlYzNmNjQuanNcIjtpbXBvcnR7bWFrZUZsb2F0MTZBcnJheSBhcyBhfWZyb21cIi4uLy4uLy4uLy4uL2dlb21ldHJ5L3N1cHBvcnQvZmxvYXQxNi5qc1wiO2ltcG9ydHtuZXdMYXlvdXQgYXMgc31mcm9tXCIuLi8uLi9zdXBwb3J0L2J1ZmZlci9JbnRlcmxlYXZlZExheW91dC5qc1wiO2ltcG9ydHtpc0NvbG9yIGFzIG4saXNEZXB0aCBhcyBvLGlzQ29sb3JIaWdobGlnaHRPckRlcHRoIGFzIGgsaXNDb2xvck9yQ29sb3JFbWlzc2lvbiBhcyBjLFNoYWRlck91dHB1dCBhcyBwfWZyb21cIi4uL2NvcmUvc2hhZGVyTGlicmFyeS9TaGFkZXJPdXRwdXQuanNcIjtpbXBvcnQgbCBmcm9tXCIuLi9saWIvR0xNYXRlcmlhbC5qc1wiO2ltcG9ydHtNYXRlcmlhbCBhcyBtLFJlbmRlck9jY2x1ZGVkRmxhZyBhcyB1fWZyb21cIi4uL2xpYi9NYXRlcmlhbC5qc1wiO2ltcG9ydHtSZW5kZXJTbG90IGFzIFR9ZnJvbVwiLi4vbGliL1JlbmRlclNsb3QuanNcIjtpbXBvcnR7VmVydGV4QXR0cmlidXRlIGFzIGZ9ZnJvbVwiLi4vbGliL1ZlcnRleEF0dHJpYnV0ZS5qc1wiO2ltcG9ydHtWaXN1YWxWYXJpYWJsZVBhc3NQYXJhbWV0ZXJzIGFzIGR9ZnJvbVwiLi9WaXN1YWxWYXJpYWJsZVBhc3NQYXJhbWV0ZXJzLmpzXCI7aW1wb3J0e3dyaXRlRGVsdGFGMTZWZWN0b3IgYXMgRX1mcm9tXCIuL2ludGVybmFsL2J1ZmZlcldyaXRlclV0aWxzLmpzXCI7aW1wb3J0e3ZlcnRleEF0dHJpYnV0ZUxvY2F0aW9ucyBhcyBBLExpbmVNYXJrZXJUZWNobmlxdWUgYXMgX31mcm9tXCIuLi9zaGFkZXJzL0xpbmVNYXJrZXJUZWNobmlxdWUuanNcIjtpbXBvcnR7TGluZU1hcmtlclRlY2huaXF1ZUNvbmZpZ3VyYXRpb24gYXMgdixMaW5lTWFya2VyU3BhY2UgYXMgZyxMaW5lTWFya2VyQW5jaG9yIGFzIFN9ZnJvbVwiLi4vc2hhZGVycy9MaW5lTWFya2VyVGVjaG5pcXVlQ29uZmlndXJhdGlvbi5qc1wiO2ltcG9ydHtDYXBUeXBlIGFzIE99ZnJvbVwiLi4vc2hhZGVycy9SaWJib25MaW5lVGVjaG5pcXVlQ29uZmlndXJhdGlvbi5qc1wiO2ltcG9ydHthbHBoYUN1dG9mZiBhcyBSfWZyb21cIi4uLy4uLy4uLy4uL3dlYnNjZW5lL3N1cHBvcnQvQWxwaGFDdXRvZmYuanNcIjtjbGFzcyBJIGV4dGVuZHMgbXtjb25zdHJ1Y3RvcihlKXtzdXBlcihlLEMpLHRoaXMuX2NvbmZpZ3VyYXRpb249bmV3IHYsdGhpcy52ZXJ0ZXhBdHRyaWJ1dGVMb2NhdGlvbnM9QSx0aGlzLnByb2R1Y2VzPW5ldyBNYXAoW1tULk9QQVFVRV9NQVRFUklBTCxlPT5lPT09cC5IaWdobGlnaHR8fG4oZSkmJnRoaXMucGFyYW1ldGVycy5yZW5kZXJPY2NsdWRlZD09PXUuT2NjbHVkZUFuZFRyYW5zcGFyZW50U3RlbmNpbF0sW1QuT1BBUVVFX01BVEVSSUFMX1dJVEhPVVRfTk9STUFMUyxlPT5vKGUpXSxbVC5PQ0NMVURFUl9NQVRFUklBTCxlPT5oKGUpJiZ0aGlzLnBhcmFtZXRlcnMucmVuZGVyT2NjbHVkZWQ9PT11Lk9jY2x1ZGVBbmRUcmFuc3BhcmVudFN0ZW5jaWxdLFtULlRSQU5TUEFSRU5UX09DQ0xVREVSX01BVEVSSUFMLGU9PmgoZSkmJnRoaXMucGFyYW1ldGVycy5yZW5kZXJPY2NsdWRlZD09PXUuT2NjbHVkZUFuZFRyYW5zcGFyZW50U3RlbmNpbF0sW1QuVFJBTlNQQVJFTlRfTUFURVJJQUwsZT0+bihlKSYmdGhpcy5wYXJhbWV0ZXJzLndyaXRlRGVwdGhdLFtULlRSQU5TUEFSRU5UX01BVEVSSUFMX1dJVEhPVVRfREVQVEgsZT0+bihlKSYmIXRoaXMucGFyYW1ldGVycy53cml0ZURlcHRoXSxbVC5EUkFQRURfTUFURVJJQUwsZT0+YyhlKXx8ZT09PXAuSGlnaGxpZ2h0XV0pLHRoaXMuaW50ZXJzZWN0RHJhcGVkPXZvaWQgMCx0aGlzLl9sYXlvdXQ9dGhpcy5jcmVhdGVMYXlvdXQoKX1nZXRDb25maWd1cmF0aW9uKGUsdCl7cmV0dXJuIHN1cGVyLmdldENvbmZpZ3VyYXRpb24oZSx0LHRoaXMuX2NvbmZpZ3VyYXRpb24pLHRoaXMuX2NvbmZpZ3VyYXRpb24uc3BhY2U9dC5zbG90PT09VC5EUkFQRURfTUFURVJJQUw/Zy5EcmFwZWQ6dGhpcy5wYXJhbWV0ZXJzLndvcmxkU3BhY2U/Zy5Xb3JsZDpnLlNjcmVlbix0aGlzLl9jb25maWd1cmF0aW9uLmhpZGVPblNob3J0U2VnbWVudHM9dGhpcy5wYXJhbWV0ZXJzLmhpZGVPblNob3J0U2VnbWVudHMsdGhpcy5fY29uZmlndXJhdGlvbi5oYXNDYXA9dGhpcy5wYXJhbWV0ZXJzLmNhcCE9PU8uQlVUVCx0aGlzLl9jb25maWd1cmF0aW9uLmFuY2hvcj10aGlzLnBhcmFtZXRlcnMuYW5jaG9yLHRoaXMuX2NvbmZpZ3VyYXRpb24uaGFzVGlwPXRoaXMucGFyYW1ldGVycy5oYXNUaXAsdGhpcy5fY29uZmlndXJhdGlvbi5oYXNTbGljZVBsYW5lPXRoaXMucGFyYW1ldGVycy5oYXNTbGljZVBsYW5lLHRoaXMuX2NvbmZpZ3VyYXRpb24uaGFzT2NjbHVkZWVzPXQuaGFzT2NjbHVkZWVzLHRoaXMuX2NvbmZpZ3VyYXRpb24ud3JpdGVEZXB0aD10aGlzLnBhcmFtZXRlcnMud3JpdGVEZXB0aCx0aGlzLl9jb25maWd1cmF0aW9uLnZ2U2l6ZT0hIXRoaXMucGFyYW1ldGVycy52dlNpemUsdGhpcy5fY29uZmlndXJhdGlvbi52dkNvbG9yPSEhdGhpcy5wYXJhbWV0ZXJzLnZ2Q29sb3IsdGhpcy5fY29uZmlndXJhdGlvbi52dk9wYWNpdHk9ISF0aGlzLnBhcmFtZXRlcnMudnZPcGFjaXR5LHRoaXMuX2NvbmZpZ3VyYXRpb24ub2NjbHVkZXI9dGhpcy5wYXJhbWV0ZXJzLnJlbmRlck9jY2x1ZGVkPT09dS5PY2NsdWRlQW5kVHJhbnNwYXJlbnRTdGVuY2lsLHRoaXMuX2NvbmZpZ3VyYXRpb24ub2l0UGFzcz10Lm9pdFBhc3MsdGhpcy5fY29uZmlndXJhdGlvbi50ZXJyYWluRGVwdGhUZXN0PXQudGVycmFpbkRlcHRoVGVzdCYmYyhlKSx0aGlzLl9jb25maWd1cmF0aW9uLmN1bGxBYm92ZVRlcnJhaW49dC5jdWxsQWJvdmVUZXJyYWluLHRoaXMuX2NvbmZpZ3VyYXRpb259Z2V0IHZpc2libGUoKXtyZXR1cm4gdGhpcy5wYXJhbWV0ZXJzLmNvbG9yWzNdPj1SfWludGVyc2VjdCgpe31jcmVhdGVMYXlvdXQoKXtjb25zdCBlPXMoKS52ZWMzZihmLlBPU0lUSU9OKS52ZWM0ZjE2KGYuUFJFVklPVVNERUxUQSkudmVjMmYxNihmLlVWMCk7cmV0dXJuIHRoaXMucGFyYW1ldGVycy52dkNvbG9yP2UuZjMyKGYuQ09MT1JGRUFUVVJFQVRUUklCVVRFKTplLnZlYzR1OChmLkNPTE9SLHtnbE5vcm1hbGl6ZWQ6ITB9KSx0aGlzLnBhcmFtZXRlcnMudnZPcGFjaXR5JiZlLmYzMihmLk9QQUNJVFlGRUFUVVJFQVRUUklCVVRFKSx0aGlzLnBhcmFtZXRlcnMudnZTaXplP2UuZjMyKGYuU0laRUZFQVRVUkVBVFRSSUJVVEUpOmUuZjE2KGYuU0laRSksdGhpcy5wYXJhbWV0ZXJzLndvcmxkU3BhY2UmJmUudmVjM2YxNihmLk5PUk1BTCksZX1jcmVhdGVCdWZmZXJXcml0ZXIoKXtyZXR1cm4gbmV3IFAodGhpcy5fbGF5b3V0LHRoaXMucGFyYW1ldGVycyl9Y3JlYXRlR0xNYXRlcmlhbChlKXtyZXR1cm4gbmV3IEwoZSl9fWNsYXNzIEwgZXh0ZW5kcyBse2Rpc3Bvc2UoKXtzdXBlci5kaXNwb3NlKCksdGhpcy5fbWFya2VyVGV4dHVyZXMucmVsZWFzZSh0aGlzLl9tYXJrZXJQcmltaXRpdmUpLHRoaXMuX21hcmtlclByaW1pdGl2ZT1udWxsfWJlZ2luU2xvdChlKXtjb25zdCB0PXRoaXMuX21hdGVyaWFsLnBhcmFtZXRlcnMubWFya2VyUHJpbWl0aXZlO3JldHVybiB0IT09dGhpcy5fbWFya2VyUHJpbWl0aXZlJiYodGhpcy5fbWF0ZXJpYWwuc2V0UGFyYW1ldGVycyh7bWFya2VyVGV4dHVyZTp0aGlzLl9tYXJrZXJUZXh0dXJlcy5zd2FwKHQsdGhpcy5fbWFya2VyUHJpbWl0aXZlKX0pLHRoaXMuX21hcmtlclByaW1pdGl2ZT10KSx0aGlzLmdldFRlY2huaXF1ZShfLGUpfX1jbGFzcyBDIGV4dGVuZHMgZHtjb25zdHJ1Y3Rvcigpe3N1cGVyKC4uLmFyZ3VtZW50cyksdGhpcy53aWR0aD0wLHRoaXMuY29sb3I9WzEsMSwxLDFdLHRoaXMubWFya2VyUHJpbWl0aXZlPVwiYXJyb3dcIix0aGlzLnBsYWNlbWVudD1cImVuZFwiLHRoaXMuY2FwPU8uQlVUVCx0aGlzLmFuY2hvcj1TLkNlbnRlcix0aGlzLmhhc1RpcD0hMSx0aGlzLndvcmxkU3BhY2U9ITEsdGhpcy5oaWRlT25TaG9ydFNlZ21lbnRzPSExLHRoaXMud3JpdGVEZXB0aD0hMCx0aGlzLmhhc1NsaWNlUGxhbmU9ITEsdGhpcy52dkZhc3RVcGRhdGU9ITEsdGhpcy5tYXJrZXJUZXh0dXJlPW51bGx9fWNsYXNzIFB7Y29uc3RydWN0b3IoZSx0KXt0aGlzLnZlcnRleEJ1ZmZlckxheW91dD1lLHRoaXMuX3BhcmFtZXRlcnM9dH1lbGVtZW50Q291bnQoKXtyZXR1cm5cImJlZ2luLWVuZFwiPT09dGhpcy5fcGFyYW1ldGVycy5wbGFjZW1lbnQ/MTI6Nn13cml0ZShpLHMsbixvLGgsYyl7Y29uc3QgcD1uLmdldChmLlBPU0lUSU9OKS5kYXRhLGw9cC5sZW5ndGgvMztsZXQgbT1bMSwwLDBdO2NvbnN0IHU9bi5nZXQoZi5OT1JNQUwpO3RoaXMuX3BhcmFtZXRlcnMud29ybGRTcGFjZSYmbnVsbCE9dSYmKG09dS5kYXRhKTtsZXQgVD0xLGQ9MDt0aGlzLl9wYXJhbWV0ZXJzLnZ2U2l6ZT9kPW4uZ2V0KGYuU0laRUZFQVRVUkVBVFRSSUJVVEUpLmRhdGFbMF06bi5oYXMoZi5TSVpFKSYmKFQ9bi5nZXQoZi5TSVpFKS5kYXRhWzBdKTtsZXQgQT1bMSwxLDEsMV0sXz0wO3RoaXMuX3BhcmFtZXRlcnMudnZDb2xvcj9fPW4uZ2V0KGYuQ09MT1JGRUFUVVJFQVRUUklCVVRFKS5kYXRhWzBdOm4uaGFzKGYuQ09MT1IpJiYoQT1uLmdldChmLkNPTE9SKS5kYXRhKTtsZXQgdj0wO3RoaXMuX3BhcmFtZXRlcnMudnZPcGFjaXR5JiYodj1uLmdldChmLk9QQUNJVFlGRUFUVVJFQVRUUklCVVRFKS5kYXRhWzBdKTtjb25zdCBnPW5ldyBGbG9hdDMyQXJyYXkoaC5idWZmZXIpLFM9YShoLmJ1ZmZlciksTz1uZXcgVWludDhBcnJheShoLmJ1ZmZlcik7bGV0IFI9YyoodGhpcy52ZXJ0ZXhCdWZmZXJMYXlvdXQuc3RyaWRlLzQpO2NvbnN0IEk9Zy5CWVRFU19QRVJfRUxFTUVOVC9TLkJZVEVTX1BFUl9FTEVNRU5ULEw9NC9JLEM9KGUsdCxyLGkpPT57Z1tSKytdPWVbMF0sZ1tSKytdPWVbMV0sZ1tSKytdPWVbMl0sRSh0LGUsUyxSKkkpLFIrPUw7bGV0IGE9UipJO2lmKFNbYSsrXT1yWzBdLFNbYSsrXT1yWzFdLFI9TWF0aC5jZWlsKGEvSSksdGhpcy5fcGFyYW1ldGVycy52dkNvbG9yKWdbUisrXT1fO2Vsc2V7Y29uc3QgZT1NYXRoLm1pbig0KmksQS5sZW5ndGgtNCksdD00KlIrKztPW3RdPTI1NSpBW2VdLE9bdCsxXT0yNTUqQVtlKzFdLE9bdCsyXT0yNTUqQVtlKzJdLE9bdCszXT0yNTUqQVtlKzNdfXRoaXMuX3BhcmFtZXRlcnMudnZPcGFjaXR5JiYoZ1tSKytdPXYpLGE9UipJLHRoaXMuX3BhcmFtZXRlcnMudnZTaXplPyhnW1IrK109ZCxhKz0yKTpTW2ErK109VCx0aGlzLl9wYXJhbWV0ZXJzLndvcmxkU3BhY2UmJihTW2ErK109bVswXSxTW2ErK109bVsxXSxTW2ErK109bVsyXSksUj1NYXRoLmNlaWwoYS9JKX07bGV0IFA7IWZ1bmN0aW9uKGUpe2VbZS5BU0NFTkRJTkc9MV09XCJBU0NFTkRJTkdcIixlW2UuREVTQ0VORElORz0tMV09XCJERVNDRU5ESU5HXCJ9KFB8fChQPXt9KSk7Y29uc3QgYj0oYSxzKT0+e2NvbnN0IG49ZShELHBbMyphXSxwWzMqYSsxXSxwWzMqYSsyXSksbz1OO2xldCBoPWErcztkb3tlKG8scFszKmhdLHBbMypoKzFdLHBbMypoKzJdKSxoKz1zfXdoaWxlKHQobixvKSYmaD49MCYmaDxsKTtpJiYocihuLG4saSkscihvLG8saSkpLEMobixvLFstMSwtMV0sYSksQyhuLG8sWzEsLTFdLGEpLEMobixvLFsxLDFdLGEpLEMobixvLFstMSwtMV0sYSksQyhuLG8sWzEsMV0sYSksQyhuLG8sWy0xLDFdLGEpfSxVPXRoaXMuX3BhcmFtZXRlcnMucGxhY2VtZW50O3JldHVyblwiYmVnaW5cIiE9PVUmJlwiYmVnaW4tZW5kXCIhPT1VfHxiKDAsUC5BU0NFTkRJTkcpLFwiZW5kXCIhPT1VJiZcImJlZ2luLWVuZFwiIT09VXx8YihsLTEsUC5ERVNDRU5ESU5HKSxudWxsfX1jb25zdCBEPWkoKSxOPWkoKTtleHBvcnR7SSBhcyBMaW5lTWFya2VyTWF0ZXJpYWwsQyBhcyBQYXJhbWV0ZXJzfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjMzL2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7aXNDb2xvck9yQ29sb3JFbWlzc2lvbiBhcyBlfWZyb21cIi4uL2NvcmUvc2hhZGVyTGlicmFyeS9TaGFkZXJPdXRwdXQuanNcIjtpbXBvcnR7UmVsb2FkYWJsZVNoYWRlck1vZHVsZSBhcyBpfWZyb21cIi4uL2NvcmUvc2hhZGVyVGVjaG5pcXVlL1JlbG9hZGFibGVTaGFkZXJNb2R1bGUuanNcIjtpbXBvcnR7U2hhZGVyVGVjaG5pcXVlIGFzIHQsZGVwdGhPbmx5T3V0cHV0QnVmZmVyc09yIGFzIHJ9ZnJvbVwiLi4vY29yZS9zaGFkZXJUZWNobmlxdWUvU2hhZGVyVGVjaG5pcXVlLmpzXCI7aW1wb3J0e2RlcHRoV3JpdGUgYXMgbCxvaXREZXB0aFRlc3QgYXMgbixibGVuZGluZyBhcyBzLGdldERyYXdCdWZmZXJzIGFzIG99ZnJvbVwiLi4vbGliL09yZGVySW5kZXBlbmRlbnRUcmFuc3BhcmVuY3kuanNcIjtpbXBvcnR7UmVuZGVyU2xvdCBhcyBwfWZyb21cIi4uL2xpYi9SZW5kZXJTbG90LmpzXCI7aW1wb3J0e3N0ZW5jaWxUb29sTWFza0Jhc2VQYXJhbXMgYXMgYyxzdGVuY2lsQmFzZUFsbFplcm9zUGFyYW1zIGFzIHUsc3RlbmNpbFdyaXRlTWFza09uIGFzIGEsc3RlbmNpbFRvb2xUcmFuc3BhcmVudE9jY2x1ZGVyUGFyYW1zIGFzIGQsZGVwdGhDb21wYXJlQWx3YXlzIGFzIFQsc3RlbmNpbFRvb2xNYXNrT2NjbHVkZXJQYXJhbXMgYXMgaCxzdGVuY2lsV3JpdGVNYXNrT2ZmIGFzIG0sZGVwdGhDb21wYXJlTGVzcyBhcyBQfWZyb21cIi4uL2xpYi9TdGVuY2lsVXRpbHMuanNcIjtpbXBvcnR7VmVydGV4QXR0cmlidXRlIGFzIEV9ZnJvbVwiLi4vbGliL1ZlcnRleEF0dHJpYnV0ZS5qc1wiO2ltcG9ydHtMIGFzIE99ZnJvbVwiLi4vLi4vLi4vLi4vY2h1bmtzL0xpbmVNYXJrZXIuZ2xzbC5qc1wiO2ltcG9ydHtMaW5lTWFya2VyU3BhY2UgYXMgUn1mcm9tXCIuL0xpbmVNYXJrZXJUZWNobmlxdWVDb25maWd1cmF0aW9uLmpzXCI7aW1wb3J0e21ha2VQaXBlbGluZVN0YXRlIGFzIGYsZGVmYXVsdENvbG9yV3JpdGUgYXMgXyx1bnByZW11bHRpcGxpZWRBbHBoYVRvUHJlbXVsdGlwbGllZEFscGhhIGFzIEF9ZnJvbVwiLi4vLi4vLi4vd2ViZ2wvcmVuZGVyU3RhdGUuanNcIjtjbGFzcyBTIGV4dGVuZHMgdHtjb25zdHJ1Y3RvcihlLHQpe3N1cGVyKGUsdCxuZXcgaShPLCgoKT0+aW1wb3J0KFwiLi9MaW5lTWFya2VyLmdsc2wuanNcIikpKSxXKX1fbWFrZVBpcGVsaW5lU3RhdGUoaSx0KXtjb25zdHtvdXRwdXQ6cCxvaXRQYXNzOmQsc3BhY2U6VCxoYXNPY2NsdWRlZXM6aH09aTtyZXR1cm4gZih7YmxlbmRpbmc6ZShwKT9zKGQpOm51bGwsZGVwdGhUZXN0OlQ9PT1SLkRyYXBlZD9udWxsOntmdW5jOm4oZCl9LGRlcHRoV3JpdGU6bChpKSxkcmF3QnVmZmVyczpyKHAsbyhkLHApKSxjb2xvcldyaXRlOl8sc3RlbmNpbFdyaXRlOmg/YTpudWxsLHN0ZW5jaWxUZXN0Omg/dD9jOnU6bnVsbCxwb2x5Z29uT2Zmc2V0OntmYWN0b3I6MCx1bml0czotMTB9fSl9aW5pdGlhbGl6ZVBpcGVsaW5lKGUpe3JldHVybiBlLm9jY2x1ZGVyPyh0aGlzLl9vY2NsdWRlclBpcGVsaW5lVHJhbnNwYXJlbnQ9Zih7YmxlbmRpbmc6QSxkZXB0aFRlc3Q6VCxkZXB0aFdyaXRlOm51bGwsY29sb3JXcml0ZTpfLHN0ZW5jaWxXcml0ZTpudWxsLHN0ZW5jaWxUZXN0OmR9KSx0aGlzLl9vY2NsdWRlclBpcGVsaW5lT3BhcXVlPWYoe2JsZW5kaW5nOkEsZGVwdGhUZXN0OlQsZGVwdGhXcml0ZTpudWxsLGNvbG9yV3JpdGU6XyxzdGVuY2lsV3JpdGU6bSxzdGVuY2lsVGVzdDpofSksdGhpcy5fb2NjbHVkZXJQaXBlbGluZU1hc2tXcml0ZT1mKHtibGVuZGluZzpudWxsLGRlcHRoVGVzdDpQLGRlcHRoV3JpdGU6bnVsbCxjb2xvcldyaXRlOm51bGwsc3RlbmNpbFdyaXRlOmEsc3RlbmNpbFRlc3Q6Y30pKTp0aGlzLl9vY2NsdWRlclBpcGVsaW5lVHJhbnNwYXJlbnQ9dGhpcy5fb2NjbHVkZXJQaXBlbGluZU9wYXF1ZT10aGlzLl9vY2NsdWRlclBpcGVsaW5lTWFza1dyaXRlPW51bGwsdGhpcy5fb2NjbHVkZWVQaXBlbGluZVN0YXRlPXRoaXMuX21ha2VQaXBlbGluZVN0YXRlKGUsITApLHRoaXMuX21ha2VQaXBlbGluZVN0YXRlKGUsITEpfWdldFBpcGVsaW5lKGUsaSl7cmV0dXJuIGU/dGhpcy5fb2NjbHVkZWVQaXBlbGluZVN0YXRlOmk9PT1wLlRSQU5TUEFSRU5UX09DQ0xVREVSX01BVEVSSUFMP3RoaXMuX29jY2x1ZGVyUGlwZWxpbmVUcmFuc3BhcmVudD8/c3VwZXIuZ2V0UGlwZWxpbmUoKTppPT09cC5PQ0NMVURFUl9NQVRFUklBTD90aGlzLl9vY2NsdWRlclBpcGVsaW5lT3BhcXVlPz9zdXBlci5nZXRQaXBlbGluZSgpOnRoaXMuX29jY2x1ZGVyUGlwZWxpbmVNYXNrV3JpdGU/P3N1cGVyLmdldFBpcGVsaW5lKCl9fWNvbnN0IFc9bmV3IE1hcChbW0UuUE9TSVRJT04sMF0sW0UuUFJFVklPVVNERUxUQSwxXSxbRS5VVjAsMl0sW0UuQ09MT1IsM10sW0UuQ09MT1JGRUFUVVJFQVRUUklCVVRFLDNdLFtFLk9QQUNJVFlGRUFUVVJFQVRUUklCVVRFLDRdLFtFLlNJWkUsNV0sW0UuU0laRUZFQVRVUkVBVFRSSUJVVEUsNV0sW0UuTk9STUFMLDZdXSk7ZXhwb3J0e1MgYXMgTGluZU1hcmtlclRlY2huaXF1ZSxXIGFzIHZlcnRleEF0dHJpYnV0ZUxvY2F0aW9uc307XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=