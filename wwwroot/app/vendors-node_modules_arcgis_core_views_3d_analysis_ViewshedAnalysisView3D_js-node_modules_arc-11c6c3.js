export const __webpack_id__ = "vendors-node_modules_arcgis_core_views_3d_analysis_ViewshedAnalysisView3D_js-node_modules_arc-11c6c3";
export const __webpack_ids__ = ["vendors-node_modules_arcgis_core_views_3d_analysis_ViewshedAnalysisView3D_js-node_modules_arc-11c6c3"];
export const __webpack_modules__ = {

/***/ "./node_modules/@arcgis/core/analysis/Viewshed.js":
/*!********************************************************!*\
  !*** ./node_modules/@arcgis/core/analysis/Viewshed.js ***!
  \********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ c)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _featureReferenceUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./featureReferenceUtils.js */ "./node_modules/@arcgis/core/analysis/featureReferenceUtils.js");
/* harmony import */ var _core_Clonable_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../core/Clonable.js */ "./node_modules/@arcgis/core/core/Clonable.js");
/* harmony import */ var _core_Cyclical_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../core/Cyclical.js */ "./node_modules/@arcgis/core/core/Cyclical.js");
/* harmony import */ var _core_JSONSupport_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../core/JSONSupport.js */ "./node_modules/@arcgis/core/core/JSONSupport.js");
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../core/maybe.js */ "./node_modules/@arcgis/core/core/maybe.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_decorators_cast_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../core/accessorSupport/decorators/cast.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/cast.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_RandomLCG_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../core/RandomLCG.js */ "./node_modules/@arcgis/core/core/RandomLCG.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _geometry_Point_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../geometry/Point.js */ "./node_modules/@arcgis/core/geometry/Point.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
let c=class extends(_core_JSONSupport_js__WEBPACK_IMPORTED_MODULE_4__["default"].JSONSupportMixin(_core_Clonable_js__WEBPACK_IMPORTED_MODULE_2__["default"])){constructor(e){super(e),this.observer=null,this.farDistance=1e3,this.heading=0,this.tilt=90,this.horizontalFieldOfView=45,this.verticalFieldOfView=45,this.feature=null}get valid(){return null!=this.observer&&this.farDistance>0}equals(e){return (0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_5__.equalsMaybe)(this.observer,e.observer)&&this.farDistance===e.farDistance&&this.heading===e.heading&&this.tilt===e.tilt&&this.horizontalFieldOfView===e.horizontalFieldOfView&&this.verticalFieldOfView===e.verticalFieldOfView&&(0,_featureReferenceUtils_js__WEBPACK_IMPORTED_MODULE_1__.featureReferenceEquals)(this.feature,e.feature)}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)({type:_geometry_Point_js__WEBPACK_IMPORTED_MODULE_12__["default"],json:{write:{isRequired:!0}}})],c.prototype,"observer",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)({type:Number,nonNullable:!0,range:{min:0},json:{write:{isRequired:!0}}})],c.prototype,"farDistance",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)({type:Number,nonNullable:!0,json:{write:{isRequired:!0}}}),(0,_core_accessorSupport_decorators_cast_js__WEBPACK_IMPORTED_MODULE_7__.cast)((e=>_core_Cyclical_js__WEBPACK_IMPORTED_MODULE_3__.cyclicalDegrees.normalize((0,_core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_11__.ensureNumber)(e),void 0,!0)))],c.prototype,"heading",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)({type:Number,nonNullable:!0,range:{min:0,max:180},json:{write:{isRequired:!0}}})],c.prototype,"tilt",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)({type:Number,nonNullable:!0,range:{min:0,max:360},json:{write:{isRequired:!0}}})],c.prototype,"horizontalFieldOfView",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)({type:Number,nonNullable:!0,range:{min:0,max:180},json:{write:{isRequired:!0}}})],c.prototype,"verticalFieldOfView",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)(_featureReferenceUtils_js__WEBPACK_IMPORTED_MODULE_1__.featureReferenceProperty)],c.prototype,"feature",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)({readOnly:!0,json:{read:!1}})],c.prototype,"valid",null),c=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_10__.subclass)("esri.analysis.Viewshed")],c);


/***/ }),

/***/ "./node_modules/@arcgis/core/analysis/featureReferenceUtils.js":
/*!*********************************************************************!*\
  !*** ./node_modules/@arcgis/core/analysis/featureReferenceUtils.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   featureReferenceEquals: () => (/* binding */ c),
/* harmony export */   featureReferenceProperty: () => (/* binding */ b),
/* harmony export */   getFeatureId: () => (/* binding */ d),
/* harmony export */   updatePointsFromFeatureReference: () => (/* binding */ m)
/* harmony export */ });
/* harmony import */ var _chunks_vec32_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../chunks/vec32.js */ "./node_modules/@arcgis/core/chunks/vec32.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../core/libs/gl-matrix-2/factories/vec3f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/vec3f64.js");
/* harmony import */ var _geometry_support_ray_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../geometry/support/ray.js */ "./node_modules/@arcgis/core/geometry/support/ray.js");
/* harmony import */ var _views_3d_webgl_engine_lib_IntersectorInterfaces_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../views/3d/webgl-engine/lib/IntersectorInterfaces.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/IntersectorInterfaces.js");
/* harmony import */ var _views_3d_webgl_engine_lib_intersectorUtilsConversions_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../views/3d/webgl-engine/lib/intersectorUtilsConversions.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/intersectorUtilsConversions.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
function c(e,t){return d(e)===d(t)}function d(e){if(null==e)return null;const t=null!=e.layer?e.layer.id:"";let r=null;return r=null!=e.objectId?e.objectId:null!=e.layer&&"objectIdField"in e.layer&&null!=e.layer.objectIdField&&null!=e.attributes?e.attributes[e.layer.objectIdField]:e.uid,null==r?null:`o-${t}-${r}`}const b={json:{write:{writer:f,target:{"feature.layerId":{type:[Number,String],isRequired:!0},"feature.objectId":{type:[Number,String],isRequired:!0}}},origins:{"web-scene":{read:I}}}};function f(e,t){null!=e?.layer?.objectIdField&&null!=e.attributes&&(t.feature={layerId:e.layer.id,objectId:e.attributes[e.layer.objectIdField]})}function I(e){if(null!=e.layerId&&null!=e.objectId)return{uid:null,layer:{id:e.layerId,objectIdField:"ObjectId"},attributes:{ObjectId:e.objectId}}}function m(l,s,a,c){const{sceneIntersectionHelper:b}=l,{observer:f,observerFeatureId:I,targetFeatureId:m,target:g}=a;if(null==I&&null==m)return;c||(c=e=>e),(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_0__.a)(p,f,g);const v=(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_0__.l)(p),S=1;(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_0__.b)(p,f,p,S/v);const F=(0,_geometry_support_ray_js__WEBPACK_IMPORTED_MODULE_2__.fromPoints)(p,g,y);s.options.store=_views_3d_webgl_engine_lib_IntersectorInterfaces_js__WEBPACK_IMPORTED_MODULE_3__.StoreResults.ALL,b.intersectToolIntersectorRay(F,s);let N=null,w=null,R=null,A=null;for(const e of s.results.all){const t=(0,_views_3d_webgl_engine_lib_intersectorUtilsConversions_js__WEBPACK_IMPORTED_MODULE_4__.toGraphic)(e,l);if(null==t||null==e.distanceInRenderSpace)continue;const r=d(t);null!=r&&(null!=I&&r===I&&(N??=c(j(e,l,v)),e.distanceInRenderSpace-S<N&&(R=e)),null!=m&&r===m&&(w??=c(j(e,l,v)),null==A&&e.distanceInRenderSpace-S<v&&v-e.distanceInRenderSpace+S<w&&(A=e)))}const{observerAdjusted:T,targetAdjusted:h}=a;R?.getIntersectionPoint(T)?a.observerSurfaceNormal=R.getTransformedNormal((0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_1__.create)()):a.observerSurfaceNormal=null,A?.getIntersectionPoint(h)?a.targetSurfaceNormal=A.getTransformedNormal((0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_1__.create)()):a.targetSurfaceNormal=null}function j(e,t,r){if((0,_views_3d_webgl_engine_lib_intersectorUtilsConversions_js__WEBPACK_IMPORTED_MODULE_4__.hasLod)(e)){const n=(0,_views_3d_webgl_engine_lib_intersectorUtilsConversions_js__WEBPACK_IMPORTED_MODULE_4__.getIntersectedFeatureBSRadius)(e,t);if(null!=n)return Math.min(n*g,r)}return 1e-5*r}const g=.05,y=(0,_geometry_support_ray_js__WEBPACK_IMPORTED_MODULE_2__.create)(),p=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_1__.create)();


/***/ }),

/***/ "./node_modules/@arcgis/core/chunks/Viewshed.glsl.js":
/*!***********************************************************!*\
  !*** ./node_modules/@arcgis/core/chunks/Viewshed.glsl.js ***!
  \***********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   V: () => (/* binding */ x),
/* harmony export */   a: () => (/* binding */ M),
/* harmony export */   b: () => (/* binding */ V)
/* harmony export */ });
/* harmony import */ var _core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../core/libs/gl-matrix-2/math/mat4.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/math/mat4.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_mat4f64_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../core/libs/gl-matrix-2/factories/mat4f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/mat4f64.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_ScreenSpacePass_glsl_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/ScreenSpacePass.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/ScreenSpacePass.glsl.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_output_ReadDepth_glsl_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/output/ReadDepth.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/output/ReadDepth.glsl.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_shading_PiUtils_glsl_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/shading/PiUtils.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/PiUtils.glsl.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_util_LocalFromScreenSpace_glsl_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/util/LocalFromScreenSpace.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/util/LocalFromScreenSpace.glsl.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_Float2PassUniform_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/Float2PassUniform.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Float2PassUniform.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_Float3PassUniform_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/Float3PassUniform.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Float3PassUniform.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/FloatPassUniform.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/FloatPassUniform.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_FloatsPassUniform_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/FloatsPassUniform.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/FloatsPassUniform.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_glsl_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/glsl.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_IntegerPassUniform_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/IntegerPassUniform.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/IntegerPassUniform.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_Matrix4BindUniform_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/Matrix4BindUniform.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Matrix4BindUniform.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_Matrix4sPassUniform_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/Matrix4sPassUniform.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Matrix4sPassUniform.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_Texture2DBindUniform_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/Texture2DBindUniform.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Texture2DBindUniform.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_Texture2DPassUniform_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/Texture2DPassUniform.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Texture2DPassUniform.js");
/* harmony import */ var _views_webgl_ShaderBuilder_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../views/webgl/ShaderBuilder.js */ "./node_modules/@arcgis/core/views/webgl/ShaderBuilder.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
class x extends _views_3d_webgl_engine_core_shaderLibrary_util_LocalFromScreenSpace_glsl_js__WEBPACK_IMPORTED_MODULE_5__.LocalFromScreenSpacePassParameters{constructor(){super(...arguments),this.shadowMap={depthTexture:null,nearFar:[1,100],numActiveFaces:1,atlasRegions:[[0,0,1,1]]},this.targetVector=[1,0,0],this.upVector=[0,0,1],this.fovs=[45,45],this.headingAndTilt=[0,0],this.observerOffset=[0,0,0],this.projectionMatrices=_core_libs_gl_matrix_2_factories_mat4f64_js__WEBPACK_IMPORTED_MODULE_1__.IDENTITY.flat(),this.viewMatrices=_core_libs_gl_matrix_2_factories_mat4f64_js__WEBPACK_IMPORTED_MODULE_1__.IDENTITY.flat(),this.volumeOffset=0}}function V(){const i=new _views_webgl_ShaderBuilder_js__WEBPACK_IMPORTED_MODULE_16__.ShaderBuilder,o=i.fragment;return i.include(_views_3d_webgl_engine_core_shaderLibrary_ScreenSpacePass_glsl_js__WEBPACK_IMPORTED_MODULE_2__.ScreenSpacePass),i.include(_views_3d_webgl_engine_core_shaderLibrary_util_LocalFromScreenSpace_glsl_js__WEBPACK_IMPORTED_MODULE_5__.localFromScreenSpace),o.include(_views_3d_webgl_engine_core_shaderLibrary_output_ReadDepth_glsl_js__WEBPACK_IMPORTED_MODULE_3__.ReadDepth),o.include(_views_3d_webgl_engine_core_shaderLibrary_shading_PiUtils_glsl_js__WEBPACK_IMPORTED_MODULE_4__.PiUtils),o.uniforms.add(new _views_3d_webgl_engine_core_shaderModules_Texture2DBindUniform_js__WEBPACK_IMPORTED_MODULE_14__.Texture2DBindUniform("depthTexture",(e=>e.depth?.attachment)),new _views_3d_webgl_engine_core_shaderModules_Matrix4BindUniform_js__WEBPACK_IMPORTED_MODULE_12__.Matrix4BindUniform("inverseProjectionMatrix",(e=>e.camera.inverseProjectionMatrix)),new _views_3d_webgl_engine_core_shaderModules_Matrix4BindUniform_js__WEBPACK_IMPORTED_MODULE_12__.Matrix4BindUniform("inverseViewNormalMatrix",(({camera:i})=>(0,_core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_0__.invertOrIdentity)(b,i.viewInverseTransposeMatrix))),new _views_3d_webgl_engine_core_shaderModules_Float3PassUniform_js__WEBPACK_IMPORTED_MODULE_7__.Float3PassUniform("viewshedObserverOffset",(e=>e.observerOffset)),new _views_3d_webgl_engine_core_shaderModules_Float3PassUniform_js__WEBPACK_IMPORTED_MODULE_7__.Float3PassUniform("viewshedTargetVector",(e=>e.targetVector)),new _views_3d_webgl_engine_core_shaderModules_Float3PassUniform_js__WEBPACK_IMPORTED_MODULE_7__.Float3PassUniform("viewshedUpVector",(e=>e.upVector)),new _views_3d_webgl_engine_core_shaderModules_Float2PassUniform_js__WEBPACK_IMPORTED_MODULE_6__.Float2PassUniform("viewshedFOVs",(e=>e.fovs)),new _views_3d_webgl_engine_core_shaderModules_Float2PassUniform_js__WEBPACK_IMPORTED_MODULE_6__.Float2PassUniform("viewshedHeadingAndTilt",(e=>e.headingAndTilt)),new _views_3d_webgl_engine_core_shaderModules_Float2PassUniform_js__WEBPACK_IMPORTED_MODULE_6__.Float2PassUniform("viewshedNearFar",(e=>e.shadowMap.nearFar??[1,100])),new _views_3d_webgl_engine_core_shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_8__.FloatPassUniform("viewshedVolumeOffset",(e=>e.volumeOffset)),new _views_3d_webgl_engine_core_shaderModules_Texture2DPassUniform_js__WEBPACK_IMPORTED_MODULE_15__.Texture2DPassUniform("viewshedShadowMap",(e=>e.shadowMap.depthTexture)),new _views_3d_webgl_engine_core_shaderModules_Matrix4sPassUniform_js__WEBPACK_IMPORTED_MODULE_13__.Matrix4sPassUniform("viewshedProjectionMatrices",(e=>e.projectionMatrices),6),new _views_3d_webgl_engine_core_shaderModules_Matrix4sPassUniform_js__WEBPACK_IMPORTED_MODULE_13__.Matrix4sPassUniform("viewshedViewMatrices",(e=>e.viewMatrices),6),new _views_3d_webgl_engine_core_shaderModules_IntegerPassUniform_js__WEBPACK_IMPORTED_MODULE_11__.IntegerPassUniform("viewshedNumFaces",(e=>e.shadowMap.numActiveFaces)),new _views_3d_webgl_engine_core_shaderModules_FloatsPassUniform_js__WEBPACK_IMPORTED_MODULE_9__.FloatsPassUniform("viewshedAtlasRegions",(e=>e.shadowMap.atlasRegions.flat()),24),new _views_3d_webgl_engine_core_shaderModules_Texture2DPassUniform_js__WEBPACK_IMPORTED_MODULE_15__.Texture2DPassUniform("normalMap",(e=>e.normals))),o.constants.add("visibleColor","vec4",[0,1,0,.5]),o.constants.add("occludedColor","vec4",[1,0,0,.5]),o.code.add((0,_views_3d_webgl_engine_core_shaderModules_glsl_js__WEBPACK_IMPORTED_MODULE_10__.glsl)`vec2 getViewshedUv(vec4 worldPosition, int face) {
mat4 viewshedMatrix = viewshedProjectionMatrices[face];
vec4 viewshedUv4 = viewshedMatrix * worldPosition;
vec3 viewshedUv = viewshedUv4.xyz / viewshedUv4.w;
return viewshedUv.xy;
}
float viewshedDepthToFloat(float depth) {
return (depth - viewshedNearFar[0]) / (viewshedNearFar[1] - viewshedNearFar[0]);
}
float getOrthographicDepthToViewshed(vec4 worldPosition, int face) {
mat4 viewshedViewMatrix = viewshedViewMatrices[face];
vec4 viewshedUv4 = viewshedViewMatrix * worldPosition;
vec3 viewshedUv = viewshedUv4.xyz / viewshedUv4.w;
float depth = -viewshedUv.z;
return viewshedDepthToFloat(depth);
}
float viewshedReadShadowMapDepth(sampler2D _viewshedShadowmap, ivec2 uv) {
return texelFetch(_viewshedShadowmap, uv, 0).r;
}
float viewshedFilterShadow(sampler2D _viewshedShadowmap, vec2 uv) {
vec2 uvScaled = uv * vec2(textureSize(_viewshedShadowmap, 0));
vec2 st    = fract(uvScaled);
ivec2 base = ivec2(uvScaled);
float s00 = viewshedReadShadowMapDepth( _viewshedShadowmap, ivec2(base.x,     base.y    ));
float s10 = viewshedReadShadowMapDepth( _viewshedShadowmap, ivec2(base.x + 1, base.y    ));
float s11 = viewshedReadShadowMapDepth( _viewshedShadowmap, ivec2(base.x + 1, base.y + 1));
float s01 = viewshedReadShadowMapDepth( _viewshedShadowmap, ivec2(base.x,     base.y + 1));
return mix(mix(s00, s10, st.x), mix(s01, s11, st.x), st.y);
}
float viewshedTextureAtlasLookup(sampler2D _viewshedShadowmap, vec2 uv, vec4 atlasRegion) {
vec2 atlasScale = atlasRegion.zw - atlasRegion.xy;
vec2 uvAtlas = fract(uv) * atlasScale + atlasRegion.xy;
return viewshedFilterShadow(_viewshedShadowmap, uvAtlas);
}
float getDepthFromShadowMap(vec2 uv, int face) {
int index = 4 * face;
float umin = viewshedAtlasRegions[index];
float umax = viewshedAtlasRegions[index + 1];
float vmin = viewshedAtlasRegions[index + 2];
float vmax = viewshedAtlasRegions[index + 3];
vec4 atlasRegion = vec4(umin, vmin, umax, vmax);
return viewshedTextureAtlasLookup(viewshedShadowMap, uv, atlasRegion);
}
struct ViewshedPoint {
int face;
vec2 uv;
bool isWithin;
float orthographicDepth;
};
mat3 rotationMatrix(vec3 axis, float angle)
{
float s = sin(angle);
float c = cos(angle);
float oc = 1.0 - c;
return mat3(
oc * axis.xxz * axis.xyx + vec3(c, axis.zy) * vec3(1., -s, s),
oc * axis.xyy * axis.yyz + vec3(axis.z, c, axis.x) * vec3(s, 1., -s),
oc * axis.zyz * axis.xzz + vec3(axis.yx, c) * vec3(-s, s, 1.)
);
}
float distanceToPlane(vec3 position, vec3 normal) {
return dot(position, normal);
}
bool outsideViewshed(float distance) {
return distance > -viewshedVolumeOffset;
}
bool isWithinViewshed(vec3 position) {
float positionLength = length(position - viewshedObserverOffset);
float farSphereDistance = positionLength - viewshedNearFar[1];
if (outsideViewshed(farSphereDistance)) { return false; }
float nearSphereDistance = viewshedNearFar[0] - positionLength;
if (outsideViewshed(nearSphereDistance)) { return false; }
vec3 westVector = normalize(cross(viewshedUpVector, viewshedTargetVector));
bool leftOfTarget = distanceToPlane(position, westVector) > 0.0;
if (viewshedFOVs[0] < TWO_PI) {
float horAngle = viewshedFOVs[0] / 2.0;
horAngle = leftOfTarget ? horAngle : -horAngle;
vec3 sideVector = viewshedTargetVector * rotationMatrix(viewshedUpVector, horAngle);
bool inFront = distanceToPlane(position, sideVector) > 0.0;
if (inFront) {
vec3 sideNormal = cross(viewshedUpVector, sideVector) * (leftOfTarget ? 1. : -1.);
float sideDistance = distanceToPlane(position, normalize(sideNormal));
if (outsideViewshed(sideDistance)) { return false; }
} else if (viewshedFOVs[0] < PI) { return false; }
}
if (viewshedFOVs[1] < PI) {
float t = dot(viewshedUpVector, position);
vec3 nProjVector = normalize(position - t * viewshedUpVector);
float heading = acos(clamp(dot(normalize(viewshedTargetVector), nProjVector), -1.0, 1.0));
heading = leftOfTarget ? heading : -heading;
bool aboveTarget = distanceToPlane(position, viewshedUpVector) > 0.0;
float verFOV = viewshedFOVs[1] / 2.0;
verFOV = aboveTarget ? -verFOV : verFOV;
mat3 rotateByHeading = rotationMatrix(viewshedUpVector, heading);
vec3 sideVector = viewshedTargetVector * rotationMatrix(westVector, verFOV) * rotateByHeading;
vec3 leftVector = westVector * rotateByHeading;
vec3 sideNormal = cross(sideVector, leftVector) * (aboveTarget ? 1. : -1.);
float sideDistance = distanceToPlane(position, normalize(sideNormal));
if (outsideViewshed(sideDistance)) { return false; }
}
return true;
}
bool getViewshedPoint(vec4 localPosition, out ViewshedPoint point) {
for(int i=0; i < viewshedNumFaces; i++) {
vec2 viewshedUv = getViewshedUv(localPosition, i);
if (viewshedUv.x > 0. && viewshedUv.x < 1. && viewshedUv.y > 0. && viewshedUv.y < 1.) {
float orthoDepth = getOrthographicDepthToViewshed(localPosition, i);
if (orthoDepth >= 0.) {
bool isWithin = isWithinViewshed(localPosition.xyz);
point = ViewshedPoint(i, viewshedUv, isWithin, orthoDepth);
return true;
}
}
}
return false;
}
float normalCosAngle(float linearDepth, vec3 localPosition) {
vec4 normal4 = texture(normalMap, uv);
vec3 normalN = normalize(normal4.xyz * 2.0 - 1.0);
vec3 normal =  normalize((inverseViewNormalMatrix * vec4(normalN, 1.0)).xyz);
vec3 viewingDir = normalize(localPosition);
return dot(normal, viewingDir);
}`),o.main.add((0,_views_3d_webgl_engine_core_shaderModules_glsl_js__WEBPACK_IMPORTED_MODULE_10__.glsl)`float depth = depthFromTexture(depthTexture, uv);
if (depth >= 1.0 || depth <= 0.0) {
return;
}
float linearDepth = linearizeDepth(depth);
vec4 localPosition = reconstructLocalPosition(gl_FragCoord.xy, linearDepth);
ViewshedPoint point;
bool foundFace = getViewshedPoint(localPosition, point);
if (!foundFace || !point.isWithin) {
return;
}
float viewshedDepth = getDepthFromShadowMap(point.uv, point.face);
float distance = point.orthographicDepth;
bool visible = distance < viewshedDepth;
fragColor = visible ? visibleColor : occludedColor;
float cosAngle = normalCosAngle(linearDepth, localPosition.xyz);
float threshold = -0.01;
if (cosAngle > threshold) {
fragColor = occludedColor;
}`),i}const b=(0,_core_libs_gl_matrix_2_factories_mat4f64_js__WEBPACK_IMPORTED_MODULE_1__.create)(),M=Object.freeze(Object.defineProperty({__proto__:null,ViewshedPassParameters:x,build:V},Symbol.toStringTag,{value:"Module"}));


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/analysis/AnalysisView3D.js":
/*!***********************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/analysis/AnalysisView3D.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   AnalysisView3D: () => (/* binding */ s)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_handleUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/handleUtils.js */ "./node_modules/@arcgis/core/core/handleUtils.js");
/* harmony import */ var _core_Promise_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/Promise.js */ "./node_modules/@arcgis/core/core/Promise.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_RandomLCG_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../core/RandomLCG.js */ "./node_modules/@arcgis/core/core/RandomLCG.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
const s=s=>{let n=class extends(_core_Promise_js__WEBPACK_IMPORTED_MODULE_2__["default"].EsriPromiseMixin(s)){constructor(){super(...arguments),this.parent=null,this._userInteractive=!1,this._interactiveViewModelCount=0}get interactive(){return this._interactiveViewModelCount>0||this._userInteractive}set interactive(e){this._userInteractive=e}get updating(){return!1}get visible(){return null==this.parent||this.parent.visible&&!this.parent.suspended}set visible(e){this._overrideIfSome("visible",e)}forceInteractive(){return this._interactiveViewModelCount++,(0,_core_handleUtils_js__WEBPACK_IMPORTED_MODULE_1__.makeHandle)((()=>this._interactiveViewModelCount--))}};return (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)({constructOnly:!0})],n.prototype,"parent",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)({constructOnly:!0})],n.prototype,"view",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)({type:Boolean})],n.prototype,"interactive",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)()],n.prototype,"_userInteractive",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)({readOnly:!0})],n.prototype,"updating",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)()],n.prototype,"visible",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)()],n.prototype,"_interactiveViewModelCount",void 0),n=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__.subclass)("esri.views.3d.analysis.AnalysisView3D")],n),n};


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/analysis/Slice/sliceToolConfig.js":
/*!******************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/analysis/Slice/sliceToolConfig.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   displayFocusMultiplier: () => (/* binding */ s),
/* harmony export */   forceHorizontalModifier: () => (/* binding */ t),
/* harmony export */   forceVerticalModifier: () => (/* binding */ r),
/* harmony export */   initialDepthOffsetFrac: () => (/* binding */ h),
/* harmony export */   initialPlaneHalfSizeViewProportion: () => (/* binding */ v),
/* harmony export */   planeMinBasisScreenLen2: () => (/* binding */ u),
/* harmony export */   planeOutlineWidth: () => (/* binding */ j),
/* harmony export */   planePreviewOutlineWidth: () => (/* binding */ M),
/* harmony export */   pointerMoveTimerMs: () => (/* binding */ m),
/* harmony export */   previewFadeDotThreshold: () => (/* binding */ f),
/* harmony export */   previewFadeDurationSeconds: () => (/* binding */ p),
/* harmony export */   resizeHandleCornerInputRadius: () => (/* binding */ k),
/* harmony export */   resizeHandleCornerWidth: () => (/* binding */ b),
/* harmony export */   resizeHandleEdgeInputRadius: () => (/* binding */ q),
/* harmony export */   resizeHandleEdgePaddingFrac: () => (/* binding */ g),
/* harmony export */   resizeHandleEdgeWidth: () => (/* binding */ d),
/* harmony export */   shiftRestartArrowLength: () => (/* binding */ S),
/* harmony export */   shiftRestartArrowOutlineWidth: () => (/* binding */ U),
/* harmony export */   shiftRestartOffsetDistance: () => (/* binding */ C),
/* harmony export */   shiftRestartTipFocusMultiplier: () => (/* binding */ c),
/* harmony export */   shiftRestartTipLength: () => (/* binding */ x),
/* harmony export */   shiftRestartTipRadius: () => (/* binding */ n),
/* harmony export */   shiftRestartTubeFocusMultiplier: () => (/* binding */ a),
/* harmony export */   shiftRestartTubeRadius: () => (/* binding */ l),
/* harmony export */   smallAngleDotThreshold: () => (/* binding */ i),
/* harmony export */   verticalDotThreshold: () => (/* binding */ e)
/* harmony export */ });
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_mathUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/mathUtils.js */ "./node_modules/@arcgis/core/core/mathUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
const t=(0,_core_has_js__WEBPACK_IMPORTED_MODULE_0__["default"])("mac")?"Meta":"Control",r="Shift",s=2,a=1.15,c=1.15,m=2500,h=.02,e=Math.cos((0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_1__.deg2rad)(45)),i=Math.cos((0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_1__.deg2rad)(5)),f=.95,p=.3,M=2,j=1,l=3,n=11,x=22.5,C=40,S=48,U=2.25,b=4,d=1,g=.3,k=6,q=4,u=1600,v=.4;


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/analysis/Viewshed/ArrowManipulator.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/analysis/Viewshed/ArrowManipulator.js ***!
  \**********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ArrowManipulator: () => (/* binding */ M)
/* harmony export */ });
/* harmony import */ var _Color_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../Color.js */ "./node_modules/@arcgis/core/Color.js");
/* harmony import */ var _core_Handles_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/Handles.js */ "./node_modules/@arcgis/core/core/Handles.js");
/* harmony import */ var _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core/reactiveUtils.js */ "./node_modules/@arcgis/core/core/reactiveUtils.js");
/* harmony import */ var _core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../core/libs/gl-matrix-2/math/mat4.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/math/mat4.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_mat4f64_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../core/libs/gl-matrix-2/factories/mat4f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/mat4f64.js");
/* harmony import */ var _chunks_vec32_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../chunks/vec32.js */ "./node_modules/@arcgis/core/chunks/vec32.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../core/libs/gl-matrix-2/factories/vec3f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/vec3f64.js");
/* harmony import */ var _Slice_sliceToolConfig_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../Slice/sliceToolConfig.js */ "./node_modules/@arcgis/core/views/3d/analysis/Slice/sliceToolConfig.js");
/* harmony import */ var _ViewshedConfiguration_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./ViewshedConfiguration.js */ "./node_modules/@arcgis/core/views/3d/analysis/Viewshed/ViewshedConfiguration.js");
/* harmony import */ var _interactive_Manipulator3D_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../interactive/Manipulator3D.js */ "./node_modules/@arcgis/core/views/3d/interactive/Manipulator3D.js");
/* harmony import */ var _interactive_RenderObject_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../interactive/RenderObject.js */ "./node_modules/@arcgis/core/views/3d/interactive/RenderObject.js");
/* harmony import */ var _webgl_engine_lib_basicInterfaces_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../webgl-engine/lib/basicInterfaces.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/basicInterfaces.js");
/* harmony import */ var _webgl_engine_lib_GeometryUtil_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../webgl-engine/lib/GeometryUtil.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/GeometryUtil.js");
/* harmony import */ var _webgl_engine_lib_Material_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../webgl-engine/lib/Material.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/Material.js");
/* harmony import */ var _webgl_engine_materials_ColorMaterial_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../webgl-engine/materials/ColorMaterial.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/materials/ColorMaterial.js");
/* harmony import */ var _interactive_interfaces_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../interactive/interfaces.js */ "./node_modules/@arcgis/core/views/interactive/interfaces.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
class M extends _interactive_Manipulator3D_js__WEBPACK_IMPORTED_MODULE_9__.Manipulator3D{constructor(e,r){super({view:e,autoScaleRenderObjects:!1,worldSized:!1,radius:_ViewshedConfiguration_js__WEBPACK_IMPORTED_MODULE_8__.viewshedToolManipulatorConfiguration.collisionRadius}),this._handles=new _core_Handles_js__WEBPACK_IMPORTED_MODULE_1__["default"],this._setupManipulatorVisual(r)}destroy(){this._handles.remove(),super.destroy()}_setupManipulatorVisual(e){const t=this._createMaterial(),r=1,o=[(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_6__.fromValues)(0,0,0),(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_6__.fromValues)(0,0,r)],d=(0,_webgl_engine_lib_GeometryUtil_js__WEBPACK_IMPORTED_MODULE_12__.createTubeGeometry)(t,o,e,16,!1),h=(0,_webgl_engine_lib_GeometryUtil_js__WEBPACK_IMPORTED_MODULE_12__.createTubeGeometry)(t,o,e*_Slice_sliceToolConfig_js__WEBPACK_IMPORTED_MODULE_7__.displayFocusMultiplier,16,!1),g=O(!1,t,e),w=O(!0,t,e),b=(0,_core_libs_gl_matrix_2_factories_mat4f64_js__WEBPACK_IMPORTED_MODULE_4__.create)();(0,_core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_3__.fromTranslation)(b,o[o.length-1]),(0,_core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_3__.mul)(b,b,(0,_core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_3__.fromXRotation)(_,Math.PI/2)),(0,_core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_3__.mul)(b,b,(0,_core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_3__.fromYRotation)(_,Math.PI/2)),g.transformation=b,w.transformation=b,this.renderObjects=[new _interactive_RenderObject_js__WEBPACK_IMPORTED_MODULE_10__.RenderObject(d,_interactive_interfaces_js__WEBPACK_IMPORTED_MODULE_15__.ManipulatorStateFlags.Unfocused),new _interactive_RenderObject_js__WEBPACK_IMPORTED_MODULE_10__.RenderObject(h,_interactive_interfaces_js__WEBPACK_IMPORTED_MODULE_15__.ManipulatorStateFlags.Focused),new _interactive_RenderObject_js__WEBPACK_IMPORTED_MODULE_10__.RenderObject(g,_interactive_interfaces_js__WEBPACK_IMPORTED_MODULE_15__.ManipulatorStateFlags.Unfocused),new _interactive_RenderObject_js__WEBPACK_IMPORTED_MODULE_10__.RenderObject(w,_interactive_interfaces_js__WEBPACK_IMPORTED_MODULE_15__.ManipulatorStateFlags.Focused)];const M=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_6__.fromValues)(0,_ViewshedConfiguration_js__WEBPACK_IMPORTED_MODULE_8__.viewshedToolManipulatorConfiguration.getScaleOrientArrowTipLength(!0),0),T=(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_5__.t)(M,M,b),x=[...o,T];this.collisionType={type:"line",paths:[x]}}_createMaterial(){const t=new _webgl_engine_materials_ColorMaterial_js__WEBPACK_IMPORTED_MODULE_14__.ColorMaterial({cullFace:_webgl_engine_lib_basicInterfaces_js__WEBPACK_IMPORTED_MODULE_11__.CullFaceOptions.Back,renderOccluded:_webgl_engine_lib_Material_js__WEBPACK_IMPORTED_MODULE_13__.RenderOccludedFlag.OccludeAndTransparent,isDecoration:!0});return this._handles.add((0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_2__.watch)((()=>_Color_js__WEBPACK_IMPORTED_MODULE_0__["default"].toUnitRGBA(this.view.effectiveTheme.accentColor)),(e=>t.setParameters({color:e})),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_2__.initial)),t}}function O(e,t,r){const o=_ViewshedConfiguration_js__WEBPACK_IMPORTED_MODULE_8__.viewshedToolManipulatorConfiguration.getScaleOrientArrowTipLength(e);let i=2*r;e&&(i*=_Slice_sliceToolConfig_js__WEBPACK_IMPORTED_MODULE_7__.displayFocusMultiplier);const s=o/2;return (0,_webgl_engine_lib_GeometryUtil_js__WEBPACK_IMPORTED_MODULE_12__.createExtrudedTriangle)(t,o,s,s,i,0)}const _=(0,_core_libs_gl_matrix_2_factories_mat4f64_js__WEBPACK_IMPORTED_MODULE_4__.create)();


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/analysis/Viewshed/FieldOfViewManipulation.js":
/*!*****************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/analysis/Viewshed/FieldOfViewManipulation.js ***!
  \*****************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   FieldOfViewManipulation: () => (/* binding */ C),
/* harmony export */   createArcPolylineVertices: () => (/* binding */ D),
/* harmony export */   flipSide: () => (/* binding */ G),
/* harmony export */   isSideHorizontal: () => (/* binding */ z),
/* harmony export */   sideToRad: () => (/* binding */ L)
/* harmony export */ });
/* harmony import */ var _Color_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../Color.js */ "./node_modules/@arcgis/core/Color.js");
/* harmony import */ var _core_Handles_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/Handles.js */ "./node_modules/@arcgis/core/core/Handles.js");
/* harmony import */ var _core_handleUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core/handleUtils.js */ "./node_modules/@arcgis/core/core/handleUtils.js");
/* harmony import */ var _core_mathUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../core/mathUtils.js */ "./node_modules/@arcgis/core/core/mathUtils.js");
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../core/maybe.js */ "./node_modules/@arcgis/core/core/maybe.js");
/* harmony import */ var _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../core/reactiveUtils.js */ "./node_modules/@arcgis/core/core/reactiveUtils.js");
/* harmony import */ var _core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../core/libs/gl-matrix-2/math/mat4.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/math/mat4.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_mat4f64_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../core/libs/gl-matrix-2/factories/mat4f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/mat4f64.js");
/* harmony import */ var _chunks_vec32_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../chunks/vec32.js */ "./node_modules/@arcgis/core/chunks/vec32.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../core/libs/gl-matrix-2/factories/vec3f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/vec3f64.js");
/* harmony import */ var _chunks_boundedPlane_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../chunks/boundedPlane.js */ "./node_modules/@arcgis/core/chunks/boundedPlane.js");
/* harmony import */ var _ViewshedConfiguration_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./ViewshedConfiguration.js */ "./node_modules/@arcgis/core/views/3d/analysis/Viewshed/ViewshedConfiguration.js");
/* harmony import */ var _viewshedToolUtils_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./viewshedToolUtils.js */ "./node_modules/@arcgis/core/views/3d/analysis/Viewshed/viewshedToolUtils.js");
/* harmony import */ var _interactive_Manipulator3D_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../interactive/Manipulator3D.js */ "./node_modules/@arcgis/core/views/3d/interactive/Manipulator3D.js");
/* harmony import */ var _interactive_RenderObject_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../interactive/RenderObject.js */ "./node_modules/@arcgis/core/views/3d/interactive/RenderObject.js");
/* harmony import */ var _interactive_editingTools_ManipulatorType_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../interactive/editingTools/ManipulatorType.js */ "./node_modules/@arcgis/core/views/3d/interactive/editingTools/ManipulatorType.js");
/* harmony import */ var _interactive_editingTools_manipulations_InteractiveManipulation_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../interactive/editingTools/manipulations/InteractiveManipulation.js */ "./node_modules/@arcgis/core/views/3d/interactive/editingTools/manipulations/InteractiveManipulation.js");
/* harmony import */ var _webgl_engine_lib_GeometryUtil_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../webgl-engine/lib/GeometryUtil.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/GeometryUtil.js");
/* harmony import */ var _webgl_engine_lib_Material_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../webgl-engine/lib/Material.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/Material.js");
/* harmony import */ var _webgl_engine_lib_Util_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../webgl-engine/lib/Util.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/Util.js");
/* harmony import */ var _webgl_engine_materials_RibbonLineMaterial_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../../webgl-engine/materials/RibbonLineMaterial.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/materials/RibbonLineMaterial.js");
/* harmony import */ var _interactive_dragEventPipeline_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../../../interactive/dragEventPipeline.js */ "./node_modules/@arcgis/core/views/interactive/dragEventPipeline.js");
/* harmony import */ var _interactive_interfaces_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../../../interactive/interfaces.js */ "./node_modules/@arcgis/core/views/interactive/interfaces.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
class C extends _interactive_editingTools_manipulations_InteractiveManipulation_js__WEBPACK_IMPORTED_MODULE_16__.InteractiveManipulation{constructor(t){super(),this._handles=new _core_Handles_js__WEBPACK_IMPORTED_MODULE_1__["default"],this._tool=t.tool,this._view=t.view,this._focusedArcMaterial=this._createArcMaterial(!0),this._unfocusedArcMaterial=this._createArcMaterial(!1),this._createManipulators(),this.forEachManipulator((t=>this._tool.manipulators.add(t)))}destroy(){this._handles=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_4__.destroyMaybe)(this._handles),this.forEachManipulator((t=>{this._tool.manipulators.remove(t),t.destroy()})),this._tool=null,this._view=null,this._manipulators=null}createDragPipeline(t,r){const i=Object.values(this._manipulators);return (0,_core_handleUtils_js__WEBPACK_IMPORTED_MODULE_2__.handlesGroup)(i.map((({manipulator:e,side:i})=>(0,_interactive_dragEventPipeline_js__WEBPACK_IMPORTED_MODULE_21__.createManipulatorDragEventPipeline)(e,((e,a,o,n,s)=>{const l=k(i,r),c=a.next((t=>({...t,manipulatorType:_interactive_editingTools_ManipulatorType_js__WEBPACK_IMPORTED_MODULE_15__.ManipulatorType.SCALE,side:i}))),u=(0,_viewshedToolUtils_js__WEBPACK_IMPORTED_MODULE_12__.screenToCircleAngle)(c,this._view,l,r);t(e,u,o)})))))}updateManipulatorsTransform(t){t.arcCentersPoints(J),this._forEachManipulatorInfo((r=>this._updateArcManipulatorTransform(r,t,J[r.side])))}updateManipulatorVisuals(t){this._forEachManipulatorInfo((r=>this._updateArcManipulatorVisuals(r,t)))}_updateArcManipulatorVisuals({manipulator:t,side:r},e){const i=[];if(null!=e){const[a,o]=F(r,e,this._unfocusedArcMaterial);i.push(new _interactive_RenderObject_js__WEBPACK_IMPORTED_MODULE_14__.RenderObject(a,_interactive_interfaces_js__WEBPACK_IMPORTED_MODULE_22__.ManipulatorStateFlags.Unfocused),new _interactive_RenderObject_js__WEBPACK_IMPORTED_MODULE_14__.RenderObject(a.instantiate({material:this._focusedArcMaterial}),_interactive_interfaces_js__WEBPACK_IMPORTED_MODULE_22__.ManipulatorStateFlags.Focused)),t.collisionType={type:"line",paths:[o]}}t.renderObjects=i,t.radius=_ViewshedConfiguration_js__WEBPACK_IMPORTED_MODULE_11__.viewshedToolManipulatorConfiguration.collisionRadius}_updateArcManipulatorTransform({manipulator:t,side:r},e,a){const o=e.horizontalFieldOfView,n=(0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_3__.deg2rad)(e.verticalFieldOfView/2),s=(0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_3__.deg2rad)(o/2),g=z(r);t.renderLocation=a;const _=(0,_core_libs_gl_matrix_2_factories_mat4f64_js__WEBPACK_IMPORTED_MODULE_7__.create)(),M=t=>{(0,_core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_6__.multiply)(_,t,_)};M((0,_core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_6__.fromYRotation)(H,(0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_3__.deg2rad)(-90))),g||M((0,_core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_6__.fromXRotation)(H,n));const b=e.farDistanceRenderSpace;let v,j;M((0,_core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_6__.fromScaling)(H,(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_8__.i)(W,b,b,b))),M((0,_core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_6__.fromZRotation)(H,L(r))),M((0,_viewshedToolUtils_js__WEBPACK_IMPORTED_MODULE_12__.getViewshedRotationMatrix)(e,H)),g?(v=s,j=e.tiltedUpVector):(j=e.rightVector,v=n),v*="right"===r||"bottom"===r?-1:1;const A=(0,_core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_6__.fromRotation)(H,v,j);null!=A&&M(A),t.modelTransform=_}_createManipulators(){const t=this._createArcManipulator("left"),r=this._createArcManipulator("right"),e=this._createArcManipulator("top"),i=this._createArcManipulator("bottom");this._manipulators={left:t,right:r,top:e,bottom:i};[[i.manipulator,e.manipulator],[t.manipulator,r.manipulator]].forEach((([t,r])=>{t.metadata={pairedManipulator:r},r.metadata={pairedManipulator:t}}))}_createArcManipulator(t){const r=new _interactive_Manipulator3D_js__WEBPACK_IMPORTED_MODULE_13__.Manipulator3D({view:this._view,autoScaleRenderObjects:!1,worldSized:!0}),e={manipulator:r,side:t};return this._updateArcManipulatorVisuals(e),this._handles.add(r.events.on("focus-changed",(t=>{const e=r.metadata?.pairedManipulator;null!=e&&(e.hovering!==r.hovering&&(e.hovering=r.hovering),e.grabbing!==r.grabbing&&(e.grabbing=r.grabbing))}))),e}_createArcMaterial(r){const e=_ViewshedConfiguration_js__WEBPACK_IMPORTED_MODULE_11__.viewshedToolManipulatorConfiguration.getFovArcWidth(r),i=new _webgl_engine_materials_RibbonLineMaterial_js__WEBPACK_IMPORTED_MODULE_20__.RibbonLineMaterial({renderOccluded:_webgl_engine_lib_Material_js__WEBPACK_IMPORTED_MODULE_18__.RenderOccludedFlag.OccludeAndTransparent,isDecoration:!0,width:e});return this._handles.add((0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_5__.watch)((()=>_Color_js__WEBPACK_IMPORTED_MODULE_0__["default"].toUnitRGBA(this._view.effectiveTheme.accentColor)),(t=>i.setParameters({color:t})),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_5__.initial)),i}forEachManipulator(t){Object.values(this._manipulators).forEach((({manipulator:r})=>t(r,_interactive_editingTools_ManipulatorType_js__WEBPACK_IMPORTED_MODULE_15__.ManipulatorType.SCALE)))}_forEachManipulatorInfo(t){Object.values(this._manipulators).forEach((r=>t(r)))}get test(){return{manipulators:this._manipulators}}}function F(t,r,e){const{horizontalFieldOfView:o,verticalFieldOfView:n}=r,s=z(t),l=(0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_3__.deg2rad)((0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_3__.clamp)((s?n:o)/2,0,15)),c=D(-l/2,l/2,s?1:Math.max(Math.sin((0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_3__.deg2rad)(90-n/2)),.1));return[(0,_webgl_engine_lib_GeometryUtil_js__WEBPACK_IMPORTED_MODULE_17__.createPolylineGeometry)(e,c),c]}function D(t,r,e,i=10){(0,_webgl_engine_lib_Util_js__WEBPACK_IMPORTED_MODULE_19__.assert)(i>1,"createArcPolylineGeometry() needs at least 2 for numVertices");const a=r-t;if(a<=0||e<=0){return[(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_9__.fromValues)(0,0,.01),(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_9__.fromValues)(0,0,-.01)]}const o=[],n=a/i;for(let s=0;s<i;s++){let a=t+s*n;s===i-1&&(a=r);const l=Math.cos(a)*e,c=Math.sin(a)*e,u=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_9__.fromValues)(l-e,0,c);o.push(u)}return o}function I(t){switch(t){case"left":return 0;case"bottom":return 1;case"right":return 2;case"top":return 3}}function L(t){return I(t)*B}function z(t){return"left"===t||"right"===t}function G(t){return"left"===t?"right":"right"===t?"left":"top"===t?"bottom":"top"}function k(t,{observerRenderSpace:r,targetRenderSpace:e,tiltedUpVector:i,rightVector:a,farDistanceRenderSpace:o}){const n=(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_8__.a)(W,e,r),s=z(t)?a:i,l=(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_8__.g)(q,s,o);return (0,_chunks_boundedPlane_js__WEBPACK_IMPORTED_MODULE_10__.f)(r,n,l)}const B=Math.PI/2,H=(0,_core_libs_gl_matrix_2_factories_mat4f64_js__WEBPACK_IMPORTED_MODULE_7__.create)(),W=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_9__.create)(),q=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_9__.create)(),J={top:(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_9__.create)(),bottom:(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_9__.create)(),left:(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_9__.create)(),right:(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_9__.create)()};


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/analysis/Viewshed/ScaleOrientManipulation.js":
/*!*****************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/analysis/Viewshed/ScaleOrientManipulation.js ***!
  \*****************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ScaleOrientManipulation: () => (/* binding */ A)
/* harmony export */ });
/* harmony import */ var _core_Handles_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/Handles.js */ "./node_modules/@arcgis/core/core/Handles.js");
/* harmony import */ var _core_mathUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/mathUtils.js */ "./node_modules/@arcgis/core/core/mathUtils.js");
/* harmony import */ var _core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core/libs/gl-matrix-2/math/mat4.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/math/mat4.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_mat4f64_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../core/libs/gl-matrix-2/factories/mat4f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/mat4f64.js");
/* harmony import */ var _chunks_vec32_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../chunks/vec32.js */ "./node_modules/@arcgis/core/chunks/vec32.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../core/libs/gl-matrix-2/factories/vec3f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/vec3f64.js");
/* harmony import */ var _chunks_boundedPlane_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../chunks/boundedPlane.js */ "./node_modules/@arcgis/core/chunks/boundedPlane.js");
/* harmony import */ var _geometry_support_ray_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../geometry/support/ray.js */ "./node_modules/@arcgis/core/geometry/support/ray.js");
/* harmony import */ var _Slice_sliceToolConfig_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../Slice/sliceToolConfig.js */ "./node_modules/@arcgis/core/views/3d/analysis/Slice/sliceToolConfig.js");
/* harmony import */ var _ArrowManipulator_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./ArrowManipulator.js */ "./node_modules/@arcgis/core/views/3d/analysis/Viewshed/ArrowManipulator.js");
/* harmony import */ var _ViewshedConfiguration_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./ViewshedConfiguration.js */ "./node_modules/@arcgis/core/views/3d/analysis/Viewshed/ViewshedConfiguration.js");
/* harmony import */ var _viewshedToolUtils_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./viewshedToolUtils.js */ "./node_modules/@arcgis/core/views/3d/analysis/Viewshed/viewshedToolUtils.js");
/* harmony import */ var _interactive_editingTools_dragEventPipeline3D_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../interactive/editingTools/dragEventPipeline3D.js */ "./node_modules/@arcgis/core/views/3d/interactive/editingTools/dragEventPipeline3D.js");
/* harmony import */ var _interactive_editingTools_ManipulatorType_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../interactive/editingTools/ManipulatorType.js */ "./node_modules/@arcgis/core/views/3d/interactive/editingTools/ManipulatorType.js");
/* harmony import */ var _interactive_editingTools_manipulations_config_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../interactive/editingTools/manipulations/config.js */ "./node_modules/@arcgis/core/views/3d/interactive/editingTools/manipulations/config.js");
/* harmony import */ var _interactive_editingTools_manipulations_InteractiveManipulation_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../interactive/editingTools/manipulations/InteractiveManipulation.js */ "./node_modules/@arcgis/core/views/3d/interactive/editingTools/manipulations/InteractiveManipulation.js");
/* harmony import */ var _interactive_dragEventPipeline_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../../interactive/dragEventPipeline.js */ "./node_modules/@arcgis/core/views/interactive/dragEventPipeline.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
class A extends _interactive_editingTools_manipulations_InteractiveManipulation_js__WEBPACK_IMPORTED_MODULE_15__.InteractiveManipulation{constructor(i){super(),this._handles=new _core_Handles_js__WEBPACK_IMPORTED_MODULE_0__["default"],this._tool=i.tool,this._view=i.view;const e=_ViewshedConfiguration_js__WEBPACK_IMPORTED_MODULE_10__.viewshedToolManipulatorConfiguration.scaleOrientHandleRadius;this._manipulatorHeading=new _ArrowManipulator_js__WEBPACK_IMPORTED_MODULE_9__.ArrowManipulator(this._view,e),this._manipulatorTilt=new _ArrowManipulator_js__WEBPACK_IMPORTED_MODULE_9__.ArrowManipulator(this._view,e),this._manipulatorDistance=new _ArrowManipulator_js__WEBPACK_IMPORTED_MODULE_9__.ArrowManipulator(this._view,e),this.forEachManipulator((t=>this._tool.manipulators.add(t)))}destroy(){this._handles.destroy(),this.forEachManipulator((t=>{this._tool.manipulators.remove(t),t.destroy()})),this._manipulatorHeading=null,this._manipulatorTilt=null,this._manipulatorDistance=null,this._tool=null,this._view=null}createHeadingDragPipeline(t,e){return (0,_interactive_dragEventPipeline_js__WEBPACK_IMPORTED_MODULE_16__.createManipulatorDragEventPipeline)(this._manipulatorHeading,((a,r,o,n,s)=>{const l=this._view,{tiltParallelToSurface:m,farDistanceRenderSpace:d,upVector:f,observerRenderSpace:_,targetRenderSpace:g,rightVector:v}=e,j=Math.sin((0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_1__.deg2rad)(m))*d,w=(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_4__.f)(V,_,(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_4__.g)(C,f,j)),D=(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_4__.a)(C,g,w),R=(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_4__.g)(I,v,(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_4__.H)(D)),E=(0,_chunks_boundedPlane_js__WEBPACK_IMPORTED_MODULE_6__.f)(w,D,R),x=(0,_viewshedToolUtils_js__WEBPACK_IMPORTED_MODULE_11__.screenToCircleAngle)(r,l,E,e).next((t=>({...t,manipulatorType:_interactive_editingTools_ManipulatorType_js__WEBPACK_IMPORTED_MODULE_13__.ManipulatorType.ROTATE})));t(a,x,o)}))}createTiltDragPipeline(t,i){return (0,_interactive_dragEventPipeline_js__WEBPACK_IMPORTED_MODULE_16__.createManipulatorDragEventPipeline)(this._manipulatorTilt,((e,a,r,o,n)=>{const{observerRenderSpace:s,farDistanceRenderSpace:l,upVector:m,targetDirection:c}=i,u=(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_4__.e)(c,m),h=(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_4__.b)(V,c,m,-u);(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_4__.g)(h,(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_4__.n)(h,h),l);const g=(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_4__.g)(C,m,l),v=(0,_chunks_boundedPlane_js__WEBPACK_IMPORTED_MODULE_6__.f)(s,h,g),j=(0,_viewshedToolUtils_js__WEBPACK_IMPORTED_MODULE_11__.screenToCircleAngle)(a,this._view,v,i).next((t=>({...t,manipulatorType:_interactive_editingTools_ManipulatorType_js__WEBPACK_IMPORTED_MODULE_13__.ManipulatorType.ROTATE})));t(e,j,r)}))}createDistanceDragPipeline(t,i){return (0,_interactive_dragEventPipeline_js__WEBPACK_IMPORTED_MODULE_16__.createManipulatorDragEventPipeline)(this._manipulatorDistance,((e,a,r,o,n)=>{const s=(0,_geometry_support_ray_js__WEBPACK_IMPORTED_MODULE_7__.fromValues)(i.observerRenderSpace,i.targetDirection),l=a.next((0,_interactive_dragEventPipeline_js__WEBPACK_IMPORTED_MODULE_16__.dragAtLocation)(this._view,e.location)).next((0,_interactive_editingTools_dragEventPipeline3D_js__WEBPACK_IMPORTED_MODULE_12__.screenToRenderRay)(this._view,s)).next((t=>({...t,manipulatorType:_interactive_editingTools_ManipulatorType_js__WEBPACK_IMPORTED_MODULE_13__.ManipulatorType.SCALE})));t(e,l,r)}))}updateManipulators(t){const{targetRenderSpace:i}=t;this._manipulatorHeading.renderLocation=i,this._manipulatorTilt.renderLocation=i,this._manipulatorDistance.renderLocation=i;const c=(0,_core_libs_gl_matrix_2_factories_mat4f64_js__WEBPACK_IMPORTED_MODULE_3__.create)(),u=t=>{(0,_core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_2__.multiply)(c,t,c)},h=_ViewshedConfiguration_js__WEBPACK_IMPORTED_MODULE_10__.viewshedToolManipulatorConfiguration.scaleOrientSize*(_interactive_editingTools_manipulations_config_js__WEBPACK_IMPORTED_MODULE_14__.discRadiusSmall/_interactive_editingTools_manipulations_config_js__WEBPACK_IMPORTED_MODULE_14__.discRadius);u((0,_core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_2__.fromScaling)(O,(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_4__.i)(V,h,h,h))),u((0,_viewshedToolUtils_js__WEBPACK_IMPORTED_MODULE_11__.getViewshedRotationMatrix)(t,O));const d=_ViewshedConfiguration_js__WEBPACK_IMPORTED_MODULE_10__.viewshedToolManipulatorConfiguration.scaleOrientHandleRadius*_Slice_sliceToolConfig_js__WEBPACK_IMPORTED_MODULE_8__.displayFocusMultiplier*h,f=(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_4__.g)(V,t.targetDirection,d);u((0,_core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_2__.fromTranslation)(O,f));const _=(0,_core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_2__.fromZRotation)(O,-k);(0,_core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_2__.mul)(_,_,(0,_core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_2__.fromYRotation)(L,-k)),this._manipulatorHeading.modelTransform=(0,_core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_2__.mul)((0,_core_libs_gl_matrix_2_factories_mat4f64_js__WEBPACK_IMPORTED_MODULE_3__.create)(),c,_);const g=(0,_core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_2__.fromYRotation)(O,k);(0,_core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_2__.mul)(g,g,(0,_core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_2__.fromZRotation)(L,Math.PI)),this._manipulatorTilt.modelTransform=(0,_core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_2__.multiply)((0,_core_libs_gl_matrix_2_factories_mat4f64_js__WEBPACK_IMPORTED_MODULE_3__.create)(),c,g),this._manipulatorDistance.modelTransform=c}forEachManipulator(t){t(this._manipulatorHeading,_interactive_editingTools_ManipulatorType_js__WEBPACK_IMPORTED_MODULE_13__.ManipulatorType.ROTATE),t(this._manipulatorTilt,_interactive_editingTools_ManipulatorType_js__WEBPACK_IMPORTED_MODULE_13__.ManipulatorType.ROTATE),t(this._manipulatorDistance,_interactive_editingTools_ManipulatorType_js__WEBPACK_IMPORTED_MODULE_13__.ManipulatorType.SCALE)}}const O=(0,_core_libs_gl_matrix_2_factories_mat4f64_js__WEBPACK_IMPORTED_MODULE_3__.create)(),L=(0,_core_libs_gl_matrix_2_factories_mat4f64_js__WEBPACK_IMPORTED_MODULE_3__.create)(),V=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_5__.create)(),C=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_5__.create)(),I=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_5__.create)(),k=Math.PI/2;


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/analysis/Viewshed/ViewshedAnalysisVisualization.js":
/*!***********************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/analysis/Viewshed/ViewshedAnalysisVisualization.js ***!
  \***********************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ViewshedAnalysisVisualization: () => (/* binding */ c)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/Accessor.js */ "./node_modules/@arcgis/core/core/Accessor.js");
/* harmony import */ var _core_handleUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core/handleUtils.js */ "./node_modules/@arcgis/core/core/handleUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_mapCollectionUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../core/mapCollectionUtils.js */ "./node_modules/@arcgis/core/core/mapCollectionUtils.js");
/* harmony import */ var _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../core/reactiveUtils.js */ "./node_modules/@arcgis/core/core/reactiveUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_RandomLCG_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../core/RandomLCG.js */ "./node_modules/@arcgis/core/core/RandomLCG.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _ViewshedVisualization_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./ViewshedVisualization.js */ "./node_modules/@arcgis/core/views/3d/analysis/Viewshed/ViewshedVisualization.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
let c=class extends _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__["default"]{get visible(){return this.analysisViewData.visible}constructor(s){super(s)}initialize(){const s=this.analysisViewData,i=(0,_core_mapCollectionUtils_js__WEBPACK_IMPORTED_MODULE_4__.mapCollection)((()=>this.analysisViewData.viewshedComputedDataHandles),(({viewshedComputedData:i})=>{const e=new _ViewshedVisualization_js__WEBPACK_IMPORTED_MODULE_10__["default"]({view:this.view,viewshedComputedData:i,analysisViewData:s,isDecoration:this.isDecoration});return{visualization:e,remove:()=>e.destroy()}}));this._viewshedVisualizations=i,this.addHandles([(0,_core_handleUtils_js__WEBPACK_IMPORTED_MODULE_2__.destroyHandle)(i),(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_5__.watch)((()=>this.visible),(s=>this._viewshedVisualizations.forEach((({visualization:i})=>i.visible=s))),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_5__.initial)])}get test(){}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)({constructOnly:!0})],c.prototype,"analysisViewData",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)({constructOnly:!0,nonNullable:!0})],c.prototype,"view",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)({constructOnly:!0})],c.prototype,"isDecoration",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)()],c.prototype,"visible",null),c=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_9__.subclass)("esri.views.3d.analysis.Viewshed.ViewshedAnalysisVisualization")],c);


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/analysis/Viewshed/ViewshedComputedData.js":
/*!**************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/analysis/Viewshed/ViewshedComputedData.js ***!
  \**************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ViewshedComputedData: () => (/* binding */ m)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/Accessor.js */ "./node_modules/@arcgis/core/core/Accessor.js");
/* harmony import */ var _core_mathUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core/mathUtils.js */ "./node_modules/@arcgis/core/core/mathUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_RandomLCG_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../core/RandomLCG.js */ "./node_modules/@arcgis/core/core/RandomLCG.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_mat4f64_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../core/libs/gl-matrix-2/factories/mat4f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/mat4f64.js");
/* harmony import */ var _chunks_vec32_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../chunks/vec32.js */ "./node_modules/@arcgis/core/chunks/vec32.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../core/libs/gl-matrix-2/factories/vec3f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/vec3f64.js");
/* harmony import */ var _geometry_Point_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../geometry/Point.js */ "./node_modules/@arcgis/core/geometry/Point.js");
/* harmony import */ var _viewshedToolUtils_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./viewshedToolUtils.js */ "./node_modules/@arcgis/core/views/3d/analysis/Viewshed/viewshedToolUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
var S;let m=S=class extends _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__["default"]{constructor(e){super(e),this.observerRenderSpaceOverride=null,this.needUpdateByFeature=!1}get observer(){return this.viewshed.observer??new _geometry_Point_js__WEBPACK_IMPORTED_MODULE_11__["default"]}get effectiveObserverRenderSpace(){return this.observerRenderSpaceOverride??this.observerRenderSpace}get effectiveObserver(){return this.renderSpaceToPoint(this.effectiveObserverRenderSpace,this.observer.spatialReference)}get effectiveTargetRenderSpace(){return this._computeTargetRenderSpace(this.effectiveObserverRenderSpace)}get farDistance(){return this.viewshed.farDistance}get farDistanceRenderSpace(){return this.farDistance/this.metersPerUnit}get heading(){return this.viewshed.heading}get tilt(){return this.viewshed.tilt}get feature(){return this.viewshed.feature}get tiltParallelToSurface(){return this.tilt-90}get horizontalFieldOfView(){return this.viewshed.horizontalFieldOfView}get verticalFieldOfView(){return this.viewshed.verticalFieldOfView}get observerRenderSpace(){return this._pointToRenderSpace(this.observer,(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_10__.create)())}get target(){const e=this.targetRenderSpace;return this.renderSpaceToPoint(e,this.observer.spatialReference)}get targetRenderSpace(){return this._computeTargetRenderSpace(this.observerRenderSpace)}get targetDirection(){const e=(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_9__.a)((0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_10__.create)(),this.targetRenderSpace,this.observerRenderSpace);return (0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_9__.n)(e,e)}get tiltedUpVector(){const e=(0,_viewshedToolUtils_js__WEBPACK_IMPORTED_MODULE_12__.rotateBy)((0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_10__.create)(),this.upVector,-(0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_2__.deg2rad)(this.tiltParallelToSurface),this.leftVector);return (0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_9__.n)(e,e)}get _basis(){return this.renderCoordsHelper.basisMatrixAtPosition(this.observerRenderSpace,(0,_core_libs_gl_matrix_2_factories_mat4f64_js__WEBPACK_IMPORTED_MODULE_8__.create)())}get upVector(){const e=this._basis;return (0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_10__.fromValues)(e[8],e[9],e[10])}get northVector(){const e=this._basis;return (0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_10__.fromValues)(e[4],e[5],e[6])}get leftVector(){const e=this.upVector,t=(0,_viewshedToolUtils_js__WEBPACK_IMPORTED_MODULE_12__.rotateBy)((0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_10__.create)(),this.northVector,-(0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_2__.deg2rad)(this.heading),e);return (0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_9__.h)(t,e,t)}get rightVector(){return (0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_9__.u)((0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_10__.create)(),this.leftVector)}clone(){return new S({renderCoordsHelper:this.renderCoordsHelper,viewshed:this.viewshed.clone()})}get valid(){return this.viewshed.valid}get metersPerUnit(){return this.renderCoordsHelper.spatialReference.metersPerUnit}pointOnSphere(e,t,o){const{observerRenderSpace:i,targetRenderSpace:s}=this,p=(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_9__.a)(R,s,i);return (0,_viewshedToolUtils_js__WEBPACK_IMPORTED_MODULE_12__.rotateBy)(p,p,-(0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_2__.deg2rad)(t),this.leftVector),(0,_viewshedToolUtils_js__WEBPACK_IMPORTED_MODULE_12__.rotateBy)(p,p,-(0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_2__.deg2rad)(e),this.tiltedUpVector),(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_9__.f)(o,p,i)}cornerPoints(e){const t=this.horizontalFieldOfView/2,r=this.verticalFieldOfView/2;this.pointOnSphere(-t,r,e.topLeft),this.pointOnSphere(t,r,e.topRight),this.pointOnSphere(-t,-r,e.bottomLeft),this.pointOnSphere(t,-r,e.bottomRight)}arcCentersPoints(e){const t=this.horizontalFieldOfView/2,r=this.verticalFieldOfView/2;this.pointOnSphere(0,r,e.top),this.pointOnSphere(0,-r,e.bottom),this.pointOnSphere(-t,0,e.left),this.pointOnSphere(t,0,e.right)}parallelCenterPoints(e){const t=this.observerRenderSpace,o=this.farDistanceRenderSpace*Math.sin((0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_2__.deg2rad)(this.verticalFieldOfView/2)),i=(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_9__.g)(R,this.tiltedUpVector,o);(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_9__.f)(e.top,t,i),(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_9__.a)(e.bottom,t,i)}renderSpaceToPoint(e,t){const r=R;return this.renderCoordsHelper.fromRenderCoords(e,r,t),new _geometry_Point_js__WEBPACK_IMPORTED_MODULE_11__["default"](r[0],r[1],r[2],t)}_pointToRenderSpace(e,t){const r=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_10__.fromArray)(e.toArray());return this.renderCoordsHelper.toRenderCoords(r,e.spatialReference,t),t}_computeTargetRenderSpace(e){const{leftVector:t,northVector:o,upVector:i}=this,s=this.farDistanceRenderSpace,n=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_10__.create)();return (0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_9__.g)(n,o,s),(0,_viewshedToolUtils_js__WEBPACK_IMPORTED_MODULE_12__.rotateBy)(n,n,-(0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_2__.deg2rad)(this.heading),i),(0,_viewshedToolUtils_js__WEBPACK_IMPORTED_MODULE_12__.rotateBy)(n,n,-(0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_2__.deg2rad)(this.tiltParallelToSurface),t),(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_9__.f)(n,e,n),n}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)()],m.prototype,"renderCoordsHelper",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)()],m.prototype,"viewshed",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)()],m.prototype,"observerRenderSpaceOverride",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)()],m.prototype,"needUpdateByFeature",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)()],m.prototype,"observer",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)()],m.prototype,"effectiveObserverRenderSpace",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)()],m.prototype,"effectiveObserver",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)()],m.prototype,"effectiveTargetRenderSpace",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)()],m.prototype,"farDistance",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)()],m.prototype,"farDistanceRenderSpace",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)()],m.prototype,"heading",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)()],m.prototype,"tilt",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)()],m.prototype,"feature",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)()],m.prototype,"tiltParallelToSurface",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)()],m.prototype,"horizontalFieldOfView",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)()],m.prototype,"verticalFieldOfView",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)()],m.prototype,"observerRenderSpace",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)()],m.prototype,"target",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)()],m.prototype,"targetRenderSpace",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)()],m.prototype,"targetDirection",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)()],m.prototype,"tiltedUpVector",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)()],m.prototype,"_basis",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)()],m.prototype,"upVector",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)()],m.prototype,"northVector",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)()],m.prototype,"leftVector",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)()],m.prototype,"rightVector",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)()],m.prototype,"valid",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)()],m.prototype,"metersPerUnit",null),m=S=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__.subclass)("esri.views.3d.analysis.Viewshed.ViewshedComputedData")],m);const R=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_10__.create)();


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/analysis/Viewshed/ViewshedConfiguration.js":
/*!***************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/analysis/Viewshed/ViewshedConfiguration.js ***!
  \***************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   arcAnglePerSegment: () => (/* binding */ c),
/* harmony export */   creationVerticalOffset: () => (/* binding */ n),
/* harmony export */   viewshedToolManipulatorConfiguration: () => (/* binding */ h),
/* harmony export */   viewshedVisualizationConfiguration: () => (/* binding */ d)
/* harmony export */ });
/* harmony import */ var _Color_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../Color.js */ "./node_modules/@arcgis/core/Color.js");
/* harmony import */ var _core_mathUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/mathUtils.js */ "./node_modules/@arcgis/core/core/mathUtils.js");
/* harmony import */ var _webgl_engine_lib_basicInterfaces_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../webgl-engine/lib/basicInterfaces.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/basicInterfaces.js");
/* harmony import */ var _webgl_engine_lib_Material_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../webgl-engine/lib/Material.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/Material.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
const s=2,o=4,c=(0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_1__.deg2rad)(2),n=1.5;class l{constructor(){this.collisionRadius=5,this.fovUnfocusedArcWidth=o,this.fovFocusedArcWidth=s*this.fovUnfocusedArcWidth,this.scaleOrientSize=90,this.scaleOrientHandleRadius=.025,this.scaleOrientMinDistance=1,this.scaleOrientArrowTipLength=.3,this.scaleOrientArrowTipFocusMultiplier=s/1.5,this.observerSize=5,this.hoverTimeoutMilliseconds=1e3,this.viewAngleThreshold=10}getFovArcWidth(e){return e?this.fovFocusedArcWidth:this.fovUnfocusedArcWidth}getScaleOrientArrowTipLength(e){return this.scaleOrientArrowTipLength*(e?this.scaleOrientArrowTipFocusMultiplier:1)}}const h=new l;class a{constructor(){this.frameWidthNotSelected=.3,this.frameWidthSelected=1,this.frameColor=new _Color_js__WEBPACK_IMPORTED_MODULE_0__["default"]([255,255,255,.99]),this.observerPointConfiguration={size:6,pixelSnappingEnabled:!1,primitive:"circle",elevationInfo:{mode:"absolute-height",offset:0},outlineSize:0,color:_Color_js__WEBPACK_IMPORTED_MODULE_0__["default"].toUnitRGBA(new _Color_js__WEBPACK_IMPORTED_MODULE_0__["default"]([3,252,111,1]))},this.shapeMaterialParameters={color:[.33,.33,.33,.25],renderOccluded:_webgl_engine_lib_Material_js__WEBPACK_IMPORTED_MODULE_3__.RenderOccludedFlag.Occlude,cullFace:_webgl_engine_lib_basicInterfaces_js__WEBPACK_IMPORTED_MODULE_2__.CullFaceOptions.Back,writeDepth:!1}}}const d=new a;


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/analysis/Viewshed/ViewshedSubTool.js":
/*!*********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/analysis/Viewshed/ViewshedSubTool.js ***!
  \*********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ViewshedSubTool: () => (/* binding */ U)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/Accessor.js */ "./node_modules/@arcgis/core/core/Accessor.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_asyncUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../core/asyncUtils.js */ "./node_modules/@arcgis/core/core/asyncUtils.js");
/* harmony import */ var _core_Cyclical_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../core/Cyclical.js */ "./node_modules/@arcgis/core/core/Cyclical.js");
/* harmony import */ var _core_handleUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../core/handleUtils.js */ "./node_modules/@arcgis/core/core/handleUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_mathUtils_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../core/mathUtils.js */ "./node_modules/@arcgis/core/core/mathUtils.js");
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../core/maybe.js */ "./node_modules/@arcgis/core/core/maybe.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../core/reactiveUtils.js */ "./node_modules/@arcgis/core/core/reactiveUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _chunks_vec32_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../../chunks/vec32.js */ "./node_modules/@arcgis/core/chunks/vec32.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../../core/libs/gl-matrix-2/factories/vec3f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/vec3f64.js");
/* harmony import */ var _geometry_projectionUtils_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../../../geometry/projectionUtils.js */ "./node_modules/@arcgis/core/geometry/projectionUtils.js");
/* harmony import */ var _ViewingMode_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../../ViewingMode.js */ "./node_modules/@arcgis/core/views/ViewingMode.js");
/* harmony import */ var _FieldOfViewManipulation_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./FieldOfViewManipulation.js */ "./node_modules/@arcgis/core/views/3d/analysis/Viewshed/FieldOfViewManipulation.js");
/* harmony import */ var _ScaleOrientManipulation_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./ScaleOrientManipulation.js */ "./node_modules/@arcgis/core/views/3d/analysis/Viewshed/ScaleOrientManipulation.js");
/* harmony import */ var _ViewshedConfiguration_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./ViewshedConfiguration.js */ "./node_modules/@arcgis/core/views/3d/analysis/Viewshed/ViewshedConfiguration.js");
/* harmony import */ var _viewshedToolManipulatorUtils_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./viewshedToolManipulatorUtils.js */ "./node_modules/@arcgis/core/views/3d/analysis/Viewshed/viewshedToolManipulatorUtils.js");
/* harmony import */ var _interactive_editingTools_manipulations_config_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../../interactive/editingTools/manipulations/config.js */ "./node_modules/@arcgis/core/views/3d/interactive/editingTools/manipulations/config.js");
/* harmony import */ var _interactive_editingTools_manipulations_MoveManipulation_js__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../../interactive/editingTools/manipulations/MoveManipulation.js */ "./node_modules/@arcgis/core/views/3d/interactive/editingTools/manipulations/MoveManipulation.js");
/* harmony import */ var _interactive_dragEventPipeline_js__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ../../../interactive/dragEventPipeline.js */ "./node_modules/@arcgis/core/views/interactive/dragEventPipeline.js");
/* harmony import */ var _interactive_editGeometry_EditGeometryOperations_js__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ../../../interactive/editGeometry/EditGeometryOperations.js */ "./node_modules/@arcgis/core/views/interactive/editGeometry/EditGeometryOperations.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
const E=Symbol("dragHandles"),x=Symbol("hideManipulators"),A=Symbol("hideFoVManipulators"),z=Symbol("hideObserverManipulator");let U=class extends _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__["default"]{constructor(e){super(e),this._moveManipulation=null,this._observerManipulator=null,this._fieldOfViewManipulation=null,this._scaleOrientManipulation=null,this._forceHoveringTask=null,this._forceHoveringTestPromise=null,this._grabbing=!1,this.viewshedComputedData=null}initialize(){this._moveManipulation=this._createMoveManipulation(),this._fieldOfViewManipulation=new _FieldOfViewManipulation_js__WEBPACK_IMPORTED_MODULE_18__.FieldOfViewManipulation({view:this.view,tool:this.parentTool}),this._scaleOrientManipulation=new _ScaleOrientManipulation_js__WEBPACK_IMPORTED_MODULE_19__.ScaleOrientManipulation({view:this.view,tool:this.parentTool}),this._observerManipulator=new _viewshedToolManipulatorUtils_js__WEBPACK_IMPORTED_MODULE_21__.ViewshedObserverManipulator(this.view,this.parentTool),this.addHandles([(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_10__.watch)((()=>this.viewshedComputedData?.observerRenderSpace),(e=>{null!=e&&(this._moveManipulation.renderLocation=e,this._observerManipulator.renderLocation=e)}),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_10__.syncAndInitial),(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_10__.watch)((()=>this.viewshedComputedData?.heading),(e=>{e&&(this._moveManipulation.angle=(0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_7__.deg2rad)(90-e))}),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_10__.initial),(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_10__.watch)((()=>{const{viewshedComputedData:e}=this;return{viewshedComputedData:e,observer:e?.observer}}),(({viewshedComputedData:e,observer:i},a)=>{this._grabbing&&i!==a?.observer||(this.removeHandles(E),e?.valid&&this.addHandles([this._buildObserverDragPipeline(e),this._buildFOVDragPipeline(e),this._buildScaleOrientDragPipeline(e)].filter(_core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_2__.isSome),E))}),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_10__.initial),(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_10__.watch)((()=>{const e=this.viewshedComputedData;return e?.valid?{viewshedCompData:e,target:e.targetRenderSpace,hFOV:e.horizontalFieldOfView,vFOV:e.verticalFieldOfView}:null}),(e=>{null!=e&&this._fieldOfViewManipulation.updateManipulatorsTransform(e.viewshedCompData)}),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_10__.initial),(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_10__.watch)((()=>{const e=this.viewshedComputedData;return e?.valid?{viewshedCompData:e,hFOV:e.horizontalFieldOfView,vFOV:e.verticalFieldOfView,tilt:e.tilt}:null}),(e=>{null!=e&&this._fieldOfViewManipulation.updateManipulatorVisuals(e.viewshedCompData)}),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_10__.initial),(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_10__.watch)((()=>{const e=this.analysisViewData.visible&&(this.viewshedComputedData?.valid??!1),i=this.parentTool.selectedViewshedComputedData===this.viewshedComputedData;return{fovManipulationAvailable:e&&!this.parentTool.isPlacingTarget,nonFOVManipulationAvailable:e&&(!this.parentTool.creating||i)}}),(({fovManipulationAvailable:e,nonFOVManipulationAvailable:i})=>{this._moveManipulation.available=i,this._scaleOrientManipulation.available=i,this._observerManipulator.available=i,this._fieldOfViewManipulation.available=e}),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_10__.initial),(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_10__.watch)((()=>{const e=this.viewshedComputedData;if(!e?.valid)return null;const{observer:i,target:t,verticalFieldOfView:a,horizontalFieldOfView:o}=e;return{viewshedCompData:e,observer:i,target:t,verticalFieldOfView:a,horizontalFieldOfView:o}}),(e=>{null!=e&&this._scaleOrientManipulation.updateManipulators(e.viewshedCompData)}),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_10__.initial)]);const e=e=>{const i=this.analysisViewData;this.addHandles([e.events.on("focus-changed",(()=>{const e=this._someManipulatorHovering();e&&this.parentTool.subToolHandles.forEach((({subTool:e})=>{e._resetHoveringTask()})),this._someManipulatorSelected()||e||(this._forceHoveringTask=(0,_core_asyncUtils_js__WEBPACK_IMPORTED_MODULE_3__.createTask)((async e=>{await(this._forceHoveringTestPromise??(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_9__.after)(_ViewshedConfiguration_js__WEBPACK_IMPORTED_MODULE_20__.viewshedToolManipulatorConfiguration.hoverTimeoutMilliseconds,e)),(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_9__.throwIfAborted)(e),this._forceHoveringTask=null,this._updateManipulatorVisibility()})))})),e.events.on("grab-changed",(t=>{this._grabbing="start"===t.action,"end"===t.action&&i.tool?.updateInteractionVisualsVisibility(),this.parentTool.subToolHandles.forEach((({subTool:e})=>{e!==this&&e._setInteractive(!this._grabbing)})),this._setInteractive((i=>i.hasManipulator(e)||!this._grabbing))})),e.events.on("drag",(e=>{"start"===e.action&&i.tool?.updateInteractionVisualsVisibility()}))])};this._forEachManipulator(e)}destroy(){this._forceHoveringTask=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_8__.abortMaybe)(this._forceHoveringTask),this._moveManipulation=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_8__.destroyMaybe)(this._moveManipulation),this._fieldOfViewManipulation=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_8__.destroyMaybe)(this._fieldOfViewManipulation),this._scaleOrientManipulation=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_8__.destroyMaybe)(this._scaleOrientManipulation),this.parentTool.manipulators.remove(this._observerManipulator),this._observerManipulator=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_8__.destroyMaybe)(this._observerManipulator)}get viewshed(){return this.viewshedComputedData?.viewshed}get grabbing(){return this._grabbing}get observer(){return this.viewshed?.observer}set observer(e){const i=this.viewshed;null!=i&&(i.observer=e)}get discManipulator(){return this._moveManipulation.xyManipulation.discManipulator}get moveInteractionState(){const{dragging:e,grabbing:i}=this._moveManipulation;return{dragging:e,grabbing:i}}get scaleOrientInteractionState(){const{dragging:e,grabbing:i}=this._scaleOrientManipulation;return{dragging:e,grabbing:i}}_setInteractive(e){const i="boolean"==typeof e;this._forEachManipulation((t=>t.interactive=i?e:e(t)))}onManipulatorSelectionChanged(){if(this._updateManipulatorVisibility(),!this._someManipulatorSelected()){this.analysisViewData.selectedViewshed===this.viewshed&&(this.analysisViewData.selectedViewshed=null),this._resetHoveringTask()}}hasManipulator(e){let i=!1;return this._forEachManipulator((t=>{i=i||t===e})),i}_someManipulatorSelected(){return this._moveManipulation.selected||this._fieldOfViewManipulation.selected||this._scaleOrientManipulation.selected}_someManipulatorHovering(){return this._moveManipulation.hovering||this._fieldOfViewManipulation.hovering||this._scaleOrientManipulation.hovering}_createMoveManipulation(){return new _interactive_editingTools_manipulations_MoveManipulation_js__WEBPACK_IMPORTED_MODULE_23__.MoveManipulation({view:this.view,tool:this.parentTool,snapToScene:!1,xyAvailable:!0,xyAxisAvailable:!0,zAvailable:!0,radius:_interactive_editingTools_manipulations_config_js__WEBPACK_IMPORTED_MODULE_22__.discRadiusSmall})}_buildObserverDragPipeline(e){const i={mode:"absolute-height",offset:0},t=e.observer;if(null==t)return null;const a=this.view.spatialReference;return this._moveManipulation.createDragPipeline(((e,i,o,n,s)=>{n=n.next((0,_interactive_dragEventPipeline_js__WEBPACK_IMPORTED_MODULE_24__.resetProperties)(this,["observer"]));const r=(0,_geometry_projectionUtils_js__WEBPACK_IMPORTED_MODULE_16__.tryProjectWithZConversion)(t,a);if(null==r)return{steps:o,cancel:n};const l=_interactive_editGeometry_EditGeometryOperations_js__WEBPACK_IMPORTED_MODULE_25__.EditGeometryOperations.fromGeometry(r,(0,_ViewingMode_js__WEBPACK_IMPORTED_MODULE_17__.viewingModeFromString)(this.view.viewingMode));return{steps:o.next((0,_interactive_dragEventPipeline_js__WEBPACK_IMPORTED_MODULE_24__.dragManipulatedObject)({operations:l})).next((e=>(this.observer=l.data.geometry,e))),cancel:n}}),i,a,void 0)}_buildFOVDragPipeline(e){let i=0,t=0;return this._fieldOfViewManipulation.createDragPipeline(((a,n,s)=>{if(null==e)return{steps:n,cancel:s};const r=e.viewshed;let l=null;s=s.next((0,_interactive_dragEventPipeline_js__WEBPACK_IMPORTED_MODULE_24__.resetProperties)(r,["horizontalFieldOfView","verticalFieldOfView"]));return{steps:n.next((a=>{"start"===a.action&&(l=null,i=e.horizontalFieldOfView,t=e.verticalFieldOfView);const n=a.deltaAngle;if(null==l&&0!==n){const e="bottom"===a.side||"left"===a.side?n>0:n<0;l=(0,_FieldOfViewManipulation_js__WEBPACK_IMPORTED_MODULE_18__.isSideHorizontal)(a.side)?0===i&&e||360===i&&!e:0===t&&e}const s=l?(0,_FieldOfViewManipulation_js__WEBPACK_IMPORTED_MODULE_18__.flipSide)(a.side):a.side;let p=0;switch(s){case"left":p=i/2-n;break;case"right":p=i/2+n;break;case"top":p=t+2*n;break;case"bottom":p=t-2*n}return (0,_FieldOfViewManipulation_js__WEBPACK_IMPORTED_MODULE_18__.isSideHorizontal)(s)?(p=_core_Cyclical_js__WEBPACK_IMPORTED_MODULE_4__.cyclicalDegrees.normalize(p),p=p>270?0:p>180?180:p,r.horizontalFieldOfView=2*p):r.verticalFieldOfView=p,a})),cancel:s}}),e)}_buildScaleOrientDragPipeline(e){let i=0,t=0;const a=(i,t)=>(a,o,n)=>{if(null==e)return{steps:o,cancel:n};const s=e.viewshed;return n=n.next((0,_interactive_dragEventPipeline_js__WEBPACK_IMPORTED_MODULE_24__.resetProperties)(s,[i])),{steps:o=o.next(t(s,e)),cancel:n}};return (0,_core_handleUtils_js__WEBPACK_IMPORTED_MODULE_5__.handlesGroup)([this._scaleOrientManipulation.createHeadingDragPipeline(a("heading",((i,a)=>a=>("start"===a.action&&(t=e.heading),i.heading=_core_Cyclical_js__WEBPACK_IMPORTED_MODULE_4__.cyclicalDegrees.normalize(t+a.deltaAngle),a))),e),this._scaleOrientManipulation.createTiltDragPipeline(a("tilt",((t,a)=>a=>{"start"===a.action&&(i=e.tilt);let o=i+a.deltaAngle;return o<-90?o=180:o>270&&(o=0),t.tilt=R.clamp(o),a})),e),this._scaleOrientManipulation.createDistanceDragPipeline(a("farDistance",((e,i)=>t=>{const a=(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_14__.a)(I,t.renderEnd,i.observerRenderSpace),o=(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_14__.H)(a)*i.metersPerUnit,n=(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_14__.e)(a,i.targetDirection)<0?_ViewshedConfiguration_js__WEBPACK_IMPORTED_MODULE_20__.viewshedToolManipulatorConfiguration.scaleOrientMinDistance:o;return e.farDistance=n,t})),e)])}_updateManipulatorVisibility(){const e=this._someManipulatorSelected(),i=null!=this._forceHoveringTask||this._someManipulatorHovering(),t=this._fieldOfViewManipulation.hovering,a=this.parentTool.creating;let o=[];const n=e=>{o.push(e.disableDisplay())};e||!a&&i?this.removeHandles(x):(this._scaleOrientManipulation.forEachManipulator(n),this._moveManipulation.forEachManipulator(n),this.addHandles(o,x),o=[]),e||!a&&i||a&&t?this.removeHandles(A):(this._fieldOfViewManipulation.forEachManipulator(n),this.addHandles(o,A)),e||!a?this.removeHandles(z):this.addHandles(this._observerManipulator.disableDisplay(),z)}_resetHoveringTask(){this._forceHoveringTask=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_8__.abortMaybe)(this._forceHoveringTask),this._updateManipulatorVisibility()}_forEachManipulator(e){this._forEachManipulation((i=>{i.forEachManipulator(e)})),e(this._observerManipulator)}_forEachManipulation(e){e(this._moveManipulation),e(this._fieldOfViewManipulation),e(this._scaleOrientManipulation)}get test(){return{moveManipulation:this._moveManipulation,fieldOfViewManipulation:this._fieldOfViewManipulation,scaleOrientManipulation:this._scaleOrientManipulation,viewshedComputedData:this.viewshedComputedData,setHoveringTimeoutPromise:e=>{this._forceHoveringTestPromise=e}}}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_11__.property)({constructOnly:!0})],U.prototype,"analysis",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_11__.property)({constructOnly:!0})],U.prototype,"analysisViewData",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_11__.property)({constructOnly:!0})],U.prototype,"parentTool",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_11__.property)({constructOnly:!0,nonNullable:!0})],U.prototype,"view",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_11__.property)()],U.prototype,"viewshed",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_11__.property)()],U.prototype,"_grabbing",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_11__.property)()],U.prototype,"grabbing",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_11__.property)()],U.prototype,"viewshedComputedData",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_11__.property)()],U.prototype,"observer",null),U=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_13__.subclass)("esri.views.3d.analysis.Viewshed.ViewshedSubTool")],U);const I=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_15__.create)(),R=new _core_Cyclical_js__WEBPACK_IMPORTED_MODULE_4__.Cyclical(0,180);


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/analysis/Viewshed/ViewshedTool.js":
/*!******************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/analysis/Viewshed/ViewshedTool.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ W)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _analysis_Viewshed_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../analysis/Viewshed.js */ "./node_modules/@arcgis/core/analysis/Viewshed.js");
/* harmony import */ var _core_handleUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core/handleUtils.js */ "./node_modules/@arcgis/core/core/handleUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_mapCollectionUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../core/mapCollectionUtils.js */ "./node_modules/@arcgis/core/core/mapCollectionUtils.js");
/* harmony import */ var _core_mathUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../core/mathUtils.js */ "./node_modules/@arcgis/core/core/mathUtils.js");
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../core/maybe.js */ "./node_modules/@arcgis/core/core/maybe.js");
/* harmony import */ var _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../core/reactiveUtils.js */ "./node_modules/@arcgis/core/core/reactiveUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_RandomLCG_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../core/RandomLCG.js */ "./node_modules/@arcgis/core/core/RandomLCG.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_mat4f64_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../../core/libs/gl-matrix-2/factories/mat4f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/mat4f64.js");
/* harmony import */ var _chunks_vec32_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../../chunks/vec32.js */ "./node_modules/@arcgis/core/chunks/vec32.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../../core/libs/gl-matrix-2/factories/vec3f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/vec3f64.js");
/* harmony import */ var _geometry_Point_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../../geometry/Point.js */ "./node_modules/@arcgis/core/geometry/Point.js");
/* harmony import */ var _geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../../../geometry/support/plane.js */ "./node_modules/@arcgis/core/geometry/support/plane.js");
/* harmony import */ var _ViewshedConfiguration_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./ViewshedConfiguration.js */ "./node_modules/@arcgis/core/views/3d/analysis/Viewshed/ViewshedConfiguration.js");
/* harmony import */ var _ViewshedSubTool_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./ViewshedSubTool.js */ "./node_modules/@arcgis/core/views/3d/analysis/Viewshed/ViewshedSubTool.js");
/* harmony import */ var _interactive_Manipulator3D_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../interactive/Manipulator3D.js */ "./node_modules/@arcgis/core/views/3d/interactive/Manipulator3D.js");
/* harmony import */ var _interactive_editingTools_settings_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../../interactive/editingTools/settings.js */ "./node_modules/@arcgis/core/views/3d/interactive/editingTools/settings.js");
/* harmony import */ var _interactive_visualElements_ExtendedLineVisualElement_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../../interactive/visualElements/ExtendedLineVisualElement.js */ "./node_modules/@arcgis/core/views/3d/interactive/visualElements/ExtendedLineVisualElement.js");
/* harmony import */ var _interactive_visualElements_LaserlineVisualElement_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../../interactive/visualElements/LaserlineVisualElement.js */ "./node_modules/@arcgis/core/views/3d/interactive/visualElements/LaserlineVisualElement.js");
/* harmony import */ var _webgl_engine_lib_intersectorUtilsConversions_js__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../../webgl-engine/lib/intersectorUtilsConversions.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/intersectorUtilsConversions.js");
/* harmony import */ var _webgl_engine_lib_Material_js__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ../../webgl-engine/lib/Material.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/Material.js");
/* harmony import */ var _interactive_AnalysisToolBase_js__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ../../../interactive/AnalysisToolBase.js */ "./node_modules/@arcgis/core/views/interactive/AnalysisToolBase.js");
/* harmony import */ var _interactive_keybindings_js__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ../../../interactive/keybindings.js */ "./node_modules/@arcgis/core/views/interactive/keybindings.js");
/* harmony import */ var _interactive_ToolIntersector_js__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ../../../interactive/ToolIntersector.js */ "./node_modules/@arcgis/core/views/interactive/ToolIntersector.js");
/* harmony import */ var _support_screenUtils_js__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ../../../support/screenUtils.js */ "./node_modules/@arcgis/core/views/support/screenUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
const R=Symbol("interactionVisuals");let W=class extends _interactive_AnalysisToolBase_js__WEBPACK_IMPORTED_MODULE_25__.AnalysisToolBase{constructor(e){super(e),this.removeIncompleteOnCancel=!1,this.automaticManipulatorSelection=!1,this._stagedViewshed=null,this._stagedViewshedComputedData=null,this._placementMode=q,this._creationState=!1,this._interactionVisualElements=null,this._settings=new _interactive_editingTools_settings_js__WEBPACK_IMPORTED_MODULE_20__.Settings({getTheme:()=>this.view.effectiveTheme}),this._selectedManipulator=null}initialize(){this._intersector=(0,_interactive_ToolIntersector_js__WEBPACK_IMPORTED_MODULE_27__.newToolIntersector)(this.view.state.viewingMode),this._createInteractionVisuals();const e=this.analysisViewData.viewshedComputedDataHandles;this.subToolHandles=(0,_core_mapCollectionUtils_js__WEBPACK_IMPORTED_MODULE_4__.mapCollection)((()=>e),(({viewshedComputedData:e})=>{const t=new _ViewshedSubTool_js__WEBPACK_IMPORTED_MODULE_18__.ViewshedSubTool({analysis:this.analysis,analysisViewData:this.analysisViewData,parentTool:this,view:this.view,viewshedComputedData:e});return{subTool:t,remove:()=>{this.selectedViewshed===e.viewshed&&(this.selectedViewshed=null),t.destroy()}}})),this.addHandles([(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_7__.when)((()=>this._valid),(()=>this.finishToolCreation()),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_7__.syncAndInitial),(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_7__.watch)((()=>this._stagedViewshed),(e=>{const t=this.analysisViewData.viewshedComputedDataHandles;this._stagedViewshedComputedData=null!=e&&null!=t?this._findSubTool(e)?.viewshedComputedData:null}),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_7__.syncAndInitial),this.analysis.viewsheds.on("after-remove",(e=>{const t=this._stagedViewshed;null!=t&&e.item===t&&this.analysis.viewsheds.add(t)})),(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_7__.watch)((()=>this.firstGrabbedManipulator),(e=>{if(null!=e){const t=this._findSubTool(e)?.viewshed;this.selectedViewshed=t,this._selectManipulator(e)}else this._selectedSubTool?.onManipulatorSelectionChanged()}),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_7__.sync),(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_7__.watch)((()=>this.view.activeTool),(e=>{e!==this&&null!=e&&(this.selectedViewshed=null)})),(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_7__.when)((()=>{const e=this.selectedViewshedComputedData;return null==e?null:{subTool:this._selectedSubTool,observer:e.observerRenderSpace,target:e.targetRenderSpace}}),(e=>{const{subTool:t,observer:i,target:s}=e;t?.moveInteractionState.dragging?this._updateInteractionVisualsLocation(i,!0):t?.scaleOrientInteractionState.dragging&&this._updateInteractionVisualsLocation(s,!1)}),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_7__.initial),(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_7__.watch)((()=>this.creating),(()=>this.updateInteractionVisualsVisibility())),(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_7__.watch)((()=>this.selectedViewshed),(e=>{const t=this._selectedManipulator,i=this._selectedSubTool;null==e?this._selectManipulator(null):null!=t&&i.hasManipulator(t)||this._selectManipulator(i.discManipulator)}),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_7__.initial)])}destroy(){this.subToolHandles=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_6__.destroyMaybe)(this.subToolHandles),this.removeHandles(R)}onDeactivate(){this.removeStaged(),this._creationState=!1}get _valid(){return this.analysisViewData.viewshedComputedDataHandles?.some((e=>e.viewshedComputedData.valid))??!1}get cursor(){return this.creating?"crosshair":null}get _selectedSubTool(){return this._findSubTool(this.selectedViewshed)}_selectManipulator(e){const t=this._selectedManipulator;t!==e&&(this._selectedManipulator=e,null!=t&&(t.selected=!1),null!=e&&(e.selected=!0),this._findSubTool(t)?.onManipulatorSelectionChanged(),this._selectedSubTool?.onManipulatorSelectionChanged())}get selectedViewshed(){return this.analysisViewData.selectedViewshed}set selectedViewshed(e){this.analysisViewData.selectedViewshed=e}get selectedViewshedComputedData(){return this._selectedSubTool?.viewshedComputedData}get stagedViewshed(){return this._stagedViewshed}get grabbing(){return this.subToolHandles.some((({subTool:e})=>e.grabbing))}get creating(){return this._creationState&&this.active}get isPlacingTarget(){return"placing-target"===this._creationState}place(e){this.selectedViewshed=null,this._placementMode=e,this._creationState="placing-observer",this._finishToolCreationIfValid()}onManipulatorSelectionChanged(){this.subToolHandles.forEach((e=>e.subTool.onManipulatorSelectionChanged()))}onInputEvent(e){switch(e.type){case"immediate-double-click":this._doubleClickHandler(e);break;case"pointer-move":this._pointerMoveHandler(e);break;case"key-down":_interactive_keybindings_js__WEBPACK_IMPORTED_MODULE_26__.sketchKeys.cancel===e.key?this._cancelKeyHandler(e):_interactive_keybindings_js__WEBPACK_IMPORTED_MODULE_26__.sketchKeys.delete.includes(e.key)&&this._deleteKeyHandler();break;case"hold":this.updateInteractionVisualsVisibility(!0)}}onInputEventAfter(e){if("immediate-click"===e.type)this._clickPlacementHandler(e)}onActivate(){this._placementMode=q}_clickPlacementHandler(e){if(!this.creating||this.hasFocusedManipulators)return;const i=this._intersectScreen(e,B);if(null!=i){if("placing-observer"===this._creationState){i.mapPoint.z=(i.mapPoint.z??0)+_ViewshedConfiguration_js__WEBPACK_IMPORTED_MODULE_17__.creationVerticalOffset;const e=new _analysis_Viewshed_js__WEBPACK_IMPORTED_MODULE_1__["default"]({observer:i.mapPoint.clone(),feature:i.feature});this.analysis.viewsheds.add(e),this._stagedViewshed=e,this._creationState="placing-target",this._updateStagedViewshed(i.scenePoint)}else if("placing-target"===this._creationState){this._updateStagedViewshed(i.scenePoint);const e=this._stagedViewshed;this._stagedViewshed=null,"multiple"===this._placementMode?this._creationState="placing-observer":(this._creationState=!1,this._stagedViewshed=null,this._finishToolCreationIfValid(),this.view.activeTool=null),this.selectedViewshed=e}e.stopPropagation()}}_doubleClickHandler(e){this.creating&&(this.removeStaged(),this._creationState=!1,this.view.activeTool=null,e.stopPropagation())}_pointerMoveHandler(e){if(!this.creating)return;const t=this._intersectScreen(e,B);null!=t&&(this._updateInteractionVisualsLocation(t.scenePoint,!1),this._updateStagedViewshed(t.scenePoint))}_cancelKeyHandler(e){this.creating?this._onCancelWhileCreating(e):this.grabbing||(this.selectedViewshed=null,e.stopPropagation())}_onCancelWhileCreating(e){const t=this.removeStaged();this._finishToolCreationIfValid(),t?(this._creationState="placing-observer",this.selectedViewshed=null,"multiple"===this._placementMode&&e.stopPropagation()):this._creationState=!1}_deleteKeyHandler(){this.creating&&(this.removeStaged(),this._creationState="placing-observer"),null!=this.selectedViewshed&&this.analysis.viewsheds.remove(this.selectedViewshed)}_finishToolCreationIfValid(){this._valid&&this.finishToolCreation()}_updateStagedViewshed(e){const t=this._stagedViewshed,i=this._stagedViewshedComputedData;if(null==t||null==i)return;const{heading:s,tilt:a,farDistance:n}=x(this.view,i,e);t.farDistance=n,t.tilt=a,t.heading=s}removeStaged(){const e=this._stagedViewshed;return null!=e&&(this._stagedViewshed=null,this.analysis.viewsheds.remove(e),!0)}_intersectScreen(e,t){const i=(0,_support_screenUtils_js__WEBPACK_IMPORTED_MODULE_28__.createScreenPointArrayFromEvent)(e);this.view.sceneIntersectionHelper.intersectToolIntersectorScreen(i,this._intersector);const s=this._intersector.results.min,a=t.scenePoint;if(!s.getIntersectionPoint(a))return null;const n=t.mapPoint;return n.spatialReference=this.view.spatialReference,this.view.renderCoordsHelper.fromRenderCoords(a,n),null==n?null:(t.feature=(0,_webgl_engine_lib_intersectorUtilsConversions_js__WEBPACK_IMPORTED_MODULE_23__.toGraphic)(s,this.view),t)}_createInteractionVisuals(){this.removeHandles(R);const e=this._settings.visualElements,t=new _interactive_visualElements_LaserlineVisualElement_js__WEBPACK_IMPORTED_MODULE_22__.LaserlineVisualElement({view:this.view,attached:!1,style:{glowWidth:e.heightPlane.glowWidth,innerWidth:e.heightPlane.innerWidth},isDecoration:!0}),s=new _interactive_visualElements_ExtendedLineVisualElement_js__WEBPACK_IMPORTED_MODULE_21__.ExtendedLineVisualElement({view:this.view,extensionType:e.zVerticalLine.extensionType,attached:!1,innerWidth:1,writeDepthEnabled:!1,renderOccluded:_webgl_engine_lib_Material_js__WEBPACK_IMPORTED_MODULE_24__.RenderOccludedFlag.OccludeAndTransparent,isDecoration:!0});this._interactionVisualElements={laserline:t,verticalLine:s},this.addHandles([(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_7__.watch)((()=>e.zVerticalLine),(e=>e.apply(s)),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_7__.syncAndInitial),(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_7__.watch)((()=>e.heightPlane),(e=>e.apply(t)),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_7__.syncAndInitial),(0,_core_handleUtils_js__WEBPACK_IMPORTED_MODULE_2__.makeHandle)((()=>{t.destroy(),s.destroy(),this._interactionVisualElements=null}))],R)}updateInteractionVisualsVisibility(e=!1){const t=this.creating,i=this.analysisViewData.visible,s=this._selectedSubTool,a=this.selectedViewshedComputedData,n=(e,t)=>{const i=this._interactionVisualElements;null!=i&&(i.verticalLine.attached=t,i.laserline.attached=e)};if(t)return void n(i,!1);if(null==s||null==a)return void n(!1,!1);const o=s.moveInteractionState,l=e?o.grabbing:o.dragging,r=s.scaleOrientInteractionState,d=e?r.grabbing:r.dragging,c=i&&(l||d);if(n(c,l),c){const e=l?a.observerRenderSpace:a.targetRenderSpace;this._updateInteractionVisualsLocation(e,l)}}_updateInteractionVisualsLocation(e,t){const i=this._interactionVisualElements;if(null==i)return;const{laserline:s,verticalLine:a}=i;s.heightManifoldTarget=e,s.intersectsWorldUpAtLocation=t?e:null,null!=e&&a.setStartEndFromWorldDownAtLocation(e)}_findSubTool(e){if(null==e)return null;const t=e instanceof _interactive_Manipulator3D_js__WEBPACK_IMPORTED_MODULE_19__.Manipulator3D?t=>t.subTool.hasManipulator(e):t=>t.subTool.viewshed===e;return this.subToolHandles?.find(t)?.subTool}get test(){}};function x(e,t,i){const s=t.observerRenderSpace,n=(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_13__.a)(U,i,s),o=(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_13__.H)(n)*t.metersPerUnit,l=e.renderCoordsHelper.basisMatrixAtPosition(s,F),r=(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_13__.i)(A,l[8],l[9],l[10]),d=(0,_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_16__.fromPositionAndNormal)(s,r,G),c=(0,_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_16__.projectPoint)(d,i,z),h=(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_13__.a)(c,c,s),u=((0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_13__.H)(h)<1e-4?90:(0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_5__.rad2deg)((0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_13__.p)(n,h)))*((0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_13__.e)(r,n)<0?-1:1)+90,p=(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_13__.i)(K,l[4],l[5],l[6]),V=(0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_5__.rad2deg)((0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_13__.p)(p,h)),f=(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_13__.i)(K,l[0],l[1],l[2]);return{heading:(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_13__.e)(h,f)<0?360-V:V,tilt:u,farDistance:o}}(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)({constructOnly:!0})],W.prototype,"view",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)()],W.prototype,"analysisViewData",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)()],W.prototype,"removeIncompleteOnCancel",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)()],W.prototype,"automaticManipulatorSelection",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)({constructOnly:!0})],W.prototype,"analysis",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)()],W.prototype,"subToolHandles",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)()],W.prototype,"_stagedViewshed",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)()],W.prototype,"_stagedViewshedComputedData",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)()],W.prototype,"_placementMode",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)()],W.prototype,"_creationState",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)()],W.prototype,"_valid",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)({readOnly:!0})],W.prototype,"cursor",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)()],W.prototype,"_selectedManipulator",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)()],W.prototype,"_selectedSubTool",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)()],W.prototype,"selectedViewshed",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)()],W.prototype,"selectedViewshedComputedData",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)()],W.prototype,"stagedViewshed",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)()],W.prototype,"grabbing",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)()],W.prototype,"creating",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)()],W.prototype,"isPlacingTarget",null),W=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_11__.subclass)("esri.views.3d.analysis.Viewshed.ViewshedTool")],W);const U=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_14__.create)(),A=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_14__.create)(),z=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_14__.create)(),K=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_14__.create)(),F=(0,_core_libs_gl_matrix_2_factories_mat4f64_js__WEBPACK_IMPORTED_MODULE_12__.create)(),G=(0,_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_16__.create)(),B={mapPoint:new _geometry_Point_js__WEBPACK_IMPORTED_MODULE_15__["default"],scenePoint:(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_14__.create)(),feature:null},q="multiple";


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/analysis/Viewshed/ViewshedVisualization.js":
/*!***************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/analysis/Viewshed/ViewshedVisualization.js ***!
  \***************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ S)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _Color_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../Color.js */ "./node_modules/@arcgis/core/Color.js");
/* harmony import */ var _core_Accessor_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core/Accessor.js */ "./node_modules/@arcgis/core/core/Accessor.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_lang_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../core/lang.js */ "./node_modules/@arcgis/core/core/lang.js");
/* harmony import */ var _core_mathUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../core/mathUtils.js */ "./node_modules/@arcgis/core/core/mathUtils.js");
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../core/maybe.js */ "./node_modules/@arcgis/core/core/maybe.js");
/* harmony import */ var _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../core/reactiveUtils.js */ "./node_modules/@arcgis/core/core/reactiveUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../core/libs/gl-matrix-2/math/mat4.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/math/mat4.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_mat4f64_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../../core/libs/gl-matrix-2/factories/mat4f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/mat4f64.js");
/* harmony import */ var _chunks_vec32_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../../chunks/vec32.js */ "./node_modules/@arcgis/core/chunks/vec32.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../../core/libs/gl-matrix-2/factories/vec3f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/vec3f64.js");
/* harmony import */ var _ViewshedConfiguration_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./ViewshedConfiguration.js */ "./node_modules/@arcgis/core/views/3d/analysis/Viewshed/ViewshedConfiguration.js");
/* harmony import */ var _ViewshedTool_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./ViewshedTool.js */ "./node_modules/@arcgis/core/views/3d/analysis/Viewshed/ViewshedTool.js");
/* harmony import */ var _interactive_visualElements_LineVisualElement_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../interactive/visualElements/LineVisualElement.js */ "./node_modules/@arcgis/core/views/3d/interactive/visualElements/LineVisualElement.js");
/* harmony import */ var _interactive_visualElements_PointVisualElement_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../interactive/visualElements/PointVisualElement.js */ "./node_modules/@arcgis/core/views/3d/interactive/visualElements/PointVisualElement.js");
/* harmony import */ var _interactive_visualElements_ViewshedShapeVisualElement_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../interactive/visualElements/ViewshedShapeVisualElement.js */ "./node_modules/@arcgis/core/views/3d/interactive/visualElements/ViewshedShapeVisualElement.js");
/* harmony import */ var _webgl_engine_lib_Material_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../../webgl-engine/lib/Material.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/Material.js");
/* harmony import */ var _webgl_engine_materials_lineStippleUtils_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../../webgl-engine/materials/lineStippleUtils.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/materials/lineStippleUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
let S=class extends _core_Accessor_js__WEBPACK_IMPORTED_MODULE_2__["default"]{constructor(e){super(e),this.visible=!0,this._viewshedCorners={topLeft:(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_14__.create)(),topRight:(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_14__.create)(),bottomLeft:(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_14__.create)(),bottomRight:(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_14__.create)()},this._arcCenterPoints={top:(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_14__.create)(),bottom:(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_14__.create)(),left:(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_14__.create)(),right:(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_14__.create)()},this._parallelCenters={top:(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_14__.create)(),bottom:(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_14__.create)()}}initialize(){const e={view:this.view,isDecoration:!0},t={...e,color:this._color,renderOccluded:_webgl_engine_lib_Material_js__WEBPACK_IMPORTED_MODULE_20__.RenderOccludedFlag.OccludeAndTransparent},i={...t,stipplePattern:(0,_webgl_engine_materials_lineStippleUtils_js__WEBPACK_IMPORTED_MODULE_21__.createStipplePatternSimple)(2)};this._observerVisualElement=new _interactive_visualElements_PointVisualElement_js__WEBPACK_IMPORTED_MODULE_18__.PointVisualElement({...e,..._ViewshedConfiguration_js__WEBPACK_IMPORTED_MODULE_15__.viewshedVisualizationConfiguration.observerPointConfiguration}),this._shapeVisualElement=new _interactive_visualElements_ViewshedShapeVisualElement_js__WEBPACK_IMPORTED_MODULE_19__.ViewshedShapeVisualElement({...e,isDecoration:this.isDecoration}),this._frameLinesVisualElement=new _interactive_visualElements_LineVisualElement_js__WEBPACK_IMPORTED_MODULE_17__.LineVisualElement(t),this._leftArcVisualElement=new _interactive_visualElements_LineVisualElement_js__WEBPACK_IMPORTED_MODULE_17__.LineVisualElement(t),this._rightArcVisualElement=new _interactive_visualElements_LineVisualElement_js__WEBPACK_IMPORTED_MODULE_17__.LineVisualElement(t),this._topArcVisualElement=new _interactive_visualElements_LineVisualElement_js__WEBPACK_IMPORTED_MODULE_17__.LineVisualElement(t),this._bottomArcVisualElement=new _interactive_visualElements_LineVisualElement_js__WEBPACK_IMPORTED_MODULE_17__.LineVisualElement(t),this._centralLongitude=new _interactive_visualElements_LineVisualElement_js__WEBPACK_IMPORTED_MODULE_17__.LineVisualElement(i),this._centralLatitude=new _interactive_visualElements_LineVisualElement_js__WEBPACK_IMPORTED_MODULE_17__.LineVisualElement(i),this.addHandles([(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_7__.watch)((()=>{const e=this.viewshedComputedData;if(!e?.valid)return null;const t=this._viewshedCorners,i=this._arcCenterPoints,s=this._parallelCenters;return e.cornerPoints(t),e.arcCentersPoints(i),e.parallelCenterPoints(s),{viewshedComputedData:e,corners:t,arcCenters:i,parallelCenters:s,interactive:this.analysisViewData.interactive,selected:this._selected}}),(e=>{const t=null!=e;this._forEachVisualElement((e=>e.attached=t)),t&&this._updateVisualElements(e)}),{initial:!0,equals:_core_lang_js__WEBPACK_IMPORTED_MODULE_4__.equals}),(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_7__.watch)((()=>{const{viewshedComputedData:e}=this,{horizontalFieldOfView:t,verticalFieldOfView:i}=e??{};return{viewshedComputedData:e,horizontalFieldOfView:t,verticalFieldOfView:i}}),(({viewshedComputedData:e})=>{const{_shapeVisualElement:t}=this;e!==t.viewshedComputedData&&(t.viewshedComputedData=e),this._shapeVisualElement.recreateGeometry()}),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_7__.initial),(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_7__.watch)((()=>{const{interactive:e}=this.analysisViewData;return{visible:this.visible,selected:e&&this._selected,staged:e&&this._staged,horFovNot360:360!==this.viewshedComputedData?.horizontalFieldOfView}}),(({visible:e,selected:t,staged:i,horFovNot360:s})=>{const r=t||i;this._shapeVisualElement.visible=e,this._topArcVisualElement.visible=e,this._bottomArcVisualElement.visible=e,this._frameLinesVisualElement.visible=e&&s;const o=e&&(t||s);this._leftArcVisualElement.visible=o,this._rightArcVisualElement.visible=o,this._forEachLineVisualElement((e=>{e.width=r?_ViewshedConfiguration_js__WEBPACK_IMPORTED_MODULE_15__.viewshedVisualizationConfiguration.frameWidthSelected:_ViewshedConfiguration_js__WEBPACK_IMPORTED_MODULE_15__.viewshedVisualizationConfiguration.frameWidthNotSelected,e.renderOccluded=t?_webgl_engine_lib_Material_js__WEBPACK_IMPORTED_MODULE_20__.RenderOccludedFlag.OccludeAndTransparent:_webgl_engine_lib_Material_js__WEBPACK_IMPORTED_MODULE_20__.RenderOccludedFlag.Occlude})),[this._centralLatitude,this._centralLongitude].forEach((i=>{i.width=2*(r?_ViewshedConfiguration_js__WEBPACK_IMPORTED_MODULE_15__.viewshedVisualizationConfiguration.frameWidthSelected:_ViewshedConfiguration_js__WEBPACK_IMPORTED_MODULE_15__.viewshedVisualizationConfiguration.frameWidthNotSelected),i.visible=e&&t}))}),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_7__.initial),(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_7__.watch)((()=>{const{analysisViewData:{interactive:e,tool:t},_selected:i,visible:s}=this,r=this.view.activeTool,o=!t?.active&&r instanceof _ViewshedTool_js__WEBPACK_IMPORTED_MODULE_16__["default"]&&r.creating;return{observerVisible:s&&!i&&(!e||(t?.creating??!1)||o),color:this._color}}),(({observerVisible:e,color:t})=>{this._observerVisualElement.visible=e,this._forEachLineVisualElement((e=>e.color=t))}),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_7__.initial)])}get _color(){const{viewshedComputedData:e,_selected:i,analysisViewData:s}=this;if(null==e)return _Color_js__WEBPACK_IMPORTED_MODULE_1__["default"].toUnitRGBA(_ViewshedConfiguration_js__WEBPACK_IMPORTED_MODULE_15__.viewshedVisualizationConfiguration.frameColor);const r=s.tool?.active||s.interactive,o=e.viewshed===s.tool?.stagedViewshed,a=r&&(i||o)?this.view.effectiveTheme.accentColor:_ViewshedConfiguration_js__WEBPACK_IMPORTED_MODULE_15__.viewshedVisualizationConfiguration.frameColor;return _Color_js__WEBPACK_IMPORTED_MODULE_1__["default"].toUnitRGBA(a)}get _selected(){const{viewshedComputedData:e,analysisViewData:{selectedViewshedComputedData:t}}=this;return null!=e&&e===t}get _staged(){const{analysisViewData:{tool:e},viewshedComputedData:t}=this;return null!=e&&e.creating&&e.stagedViewshed===t?.viewshed}destroy(){this._observerVisualElement=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_6__.destroyMaybe)(this._observerVisualElement),this._shapeVisualElement=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_6__.destroyMaybe)(this._shapeVisualElement),this._frameLinesVisualElement=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_6__.destroyMaybe)(this._frameLinesVisualElement),this._leftArcVisualElement=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_6__.destroyMaybe)(this._leftArcVisualElement),this._rightArcVisualElement=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_6__.destroyMaybe)(this._rightArcVisualElement),this._topArcVisualElement=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_6__.destroyMaybe)(this._topArcVisualElement),this._bottomArcVisualElement=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_6__.destroyMaybe)(this._bottomArcVisualElement),this._centralLongitude=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_6__.destroyMaybe)(this._centralLongitude),this._centralLatitude=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_6__.destroyMaybe)(this._centralLatitude)}_forEachLineVisualElement(e){[this._frameLinesVisualElement,this._leftArcVisualElement,this._rightArcVisualElement,this._topArcVisualElement,this._bottomArcVisualElement,this._centralLatitude,this._centralLongitude].forEach(e)}_forEachVisualElement(e){this._forEachLineVisualElement(e),e(this._observerVisualElement),e(this._shapeVisualElement)}_updateVisualElements(e){const{viewshedComputedData:t,corners:i,arcCenters:s,parallelCenters:r}=e,o=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_14__.clone)(t.observerRenderSpace);this._observerVisualElement.geometry=t.observer,this._shapeVisualElement.updateTransform(),this._updateFrameLines(o,i),this._updateFrameArcs(t,i,r),this._updateCentralHelperArcs(t,s)}_updateFrameLines(e,t){this._frameLinesVisualElement.geometry=[[e,t.topLeft],[e,t.topRight],[e,t.bottomLeft],[e,t.bottomRight]]}_updateFrameArcs(e,t,i){const{observerRenderSpace:s,rightVector:o,horizontalFieldOfView:a,tiltedUpVector:l}=e,n=(0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_5__.deg2rad)(a),c=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_14__.create)(),p=(0,_core_libs_gl_matrix_2_factories_mat4f64_js__WEBPACK_IMPORTED_MODULE_12__.create)();(0,_core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_11__.fromRotation)(p,n/2,l),(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_13__.t)(c,o,p),P(this._leftArcVisualElement,s,t.bottomLeft,t.topLeft,"forward",c),(0,_core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_11__.fromRotation)(p,-n/2,l),(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_13__.i)(c,0,0,0),(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_13__.t)(c,o,p),P(this._rightArcVisualElement,s,t.bottomRight,t.topRight,"forward",c);const _=a>180?"backward":"forward";P(this._topArcVisualElement,i.top,t.topRight,t.topLeft,_,l),P(this._bottomArcVisualElement,i.bottom,t.bottomRight,t.bottomLeft,_,l)}_updateCentralHelperArcs(e,t){const i=e.observerRenderSpace,s=e.horizontalFieldOfView>=180?"backward":"forward";P(this._centralLatitude,i,t.right,t.left,s,e.tiltedUpVector),P(this._centralLongitude,i,t.top,t.bottom,"forward",e.leftVector)}get test(){}};function P(e,t,i,s,r,o,a=_ViewshedConfiguration_js__WEBPACK_IMPORTED_MODULE_15__.arcAnglePerSegment){const l=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_14__.create)();(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_13__.a)(l,i,t);const n=(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_13__.H)(l),c=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_14__.create)();(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_13__.a)(c,s,t),(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_13__.n)(c,c),(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_13__.g)(c,c,n);let u=(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_13__.p)(l,c);const L=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_14__.clone)(o);"backward"===r&&((0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_13__.u)(L,L),u=-(2*Math.PI-u));const D=[],y=Math.ceil(Math.abs(u)/a),j=(0,_core_libs_gl_matrix_2_factories_mat4f64_js__WEBPACK_IMPORTED_MODULE_12__.create)();(0,_core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_11__.fromRotation)(j,u/y,L);const F=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_14__.create)();(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_13__.c)(F,l);const O=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_14__.create)();(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_13__.c)(O,i);for(let h=0;h<y;h++){const e=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_14__.create)();(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_13__.c)(e,O),(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_13__.t)(F,F,j),(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_13__.f)(O,t,F);const i=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_14__.create)();(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_13__.c)(i,O),D.push([e,i])}e.geometry=D}(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)()],S.prototype,"view",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)({constructOnly:!0})],S.prototype,"isDecoration",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)()],S.prototype,"analysisViewData",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)()],S.prototype,"viewshedComputedData",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)()],S.prototype,"visible",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)()],S.prototype,"_color",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)()],S.prototype,"_selected",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)()],S.prototype,"_staged",null),S=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_10__.subclass)("esri.views.3d.analysis.Viewshed.ViewshedVisualization")],S);


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/analysis/Viewshed/viewshedToolManipulatorUtils.js":
/*!**********************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/analysis/Viewshed/viewshedToolManipulatorUtils.js ***!
  \**********************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ViewshedObserverManipulator: () => (/* binding */ l)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _Color_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../Color.js */ "./node_modules/@arcgis/core/Color.js");
/* harmony import */ var _core_Handles_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core/Handles.js */ "./node_modules/@arcgis/core/core/Handles.js");
/* harmony import */ var _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../core/reactiveUtils.js */ "./node_modules/@arcgis/core/core/reactiveUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_RandomLCG_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../core/RandomLCG.js */ "./node_modules/@arcgis/core/core/RandomLCG.js");
/* harmony import */ var _core_Warning_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../core/Warning.js */ "./node_modules/@arcgis/core/core/Warning.js");
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _ViewshedConfiguration_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./ViewshedConfiguration.js */ "./node_modules/@arcgis/core/views/3d/analysis/Viewshed/ViewshedConfiguration.js");
/* harmony import */ var _interactive_Manipulator3D_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../interactive/Manipulator3D.js */ "./node_modules/@arcgis/core/views/3d/interactive/Manipulator3D.js");
/* harmony import */ var _interactive_manipulatorUtils_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../interactive/manipulatorUtils.js */ "./node_modules/@arcgis/core/views/3d/interactive/manipulatorUtils.js");
/* harmony import */ var _interactive_RenderObject_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../interactive/RenderObject.js */ "./node_modules/@arcgis/core/views/3d/interactive/RenderObject.js");
/* harmony import */ var _webgl_engine_lib_GeometryUtil_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../webgl-engine/lib/GeometryUtil.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/GeometryUtil.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
class l extends _interactive_Manipulator3D_js__WEBPACK_IMPORTED_MODULE_11__.Manipulator3D{constructor(r,e){super({view:r,autoScaleRenderObjects:!1,worldSized:!1,radius:_ViewshedConfiguration_js__WEBPACK_IMPORTED_MODULE_10__.viewshedToolManipulatorConfiguration.observerSize,interactive:!1}),this._handles=new _core_Handles_js__WEBPACK_IMPORTED_MODULE_2__["default"];const i=(0,_interactive_manipulatorUtils_js__WEBPACK_IMPORTED_MODULE_12__.createManipulatorMaterial)(this._color);this.renderObjects=[new _interactive_RenderObject_js__WEBPACK_IMPORTED_MODULE_13__.RenderObject((0,_webgl_engine_lib_GeometryUtil_js__WEBPACK_IMPORTED_MODULE_14__.createSphereGeometry)(i,_ViewshedConfiguration_js__WEBPACK_IMPORTED_MODULE_10__.viewshedToolManipulatorConfiguration.observerSize,32,32))],e.manipulators.add(this),this._handles.add([(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__.watch)((()=>this._color),(r=>{i.setParameters({color:r})}),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__.initial)])}destroy(){this._handles.remove(),super.destroy()}get _color(){return _Color_js__WEBPACK_IMPORTED_MODULE_1__["default"].toUnitRGBA(this.view.effectiveTheme.accentColor)}}(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],l.prototype,"_color",null);


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/analysis/Viewshed/viewshedToolUtils.js":
/*!***********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/analysis/Viewshed/viewshedToolUtils.js ***!
  \***********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   getViewshedRotationMatrix: () => (/* binding */ R),
/* harmony export */   rotateBy: () => (/* binding */ C),
/* harmony export */   screenToCircleAngle: () => (/* binding */ U)
/* harmony export */ });
/* harmony import */ var _core_mathUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/mathUtils.js */ "./node_modules/@arcgis/core/core/mathUtils.js");
/* harmony import */ var _core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/libs/gl-matrix-2/math/mat4.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/math/mat4.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_mat4f64_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core/libs/gl-matrix-2/factories/mat4f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/mat4f64.js");
/* harmony import */ var _chunks_vec32_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../chunks/vec32.js */ "./node_modules/@arcgis/core/chunks/vec32.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../core/libs/gl-matrix-2/factories/vec3f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/vec3f64.js");
/* harmony import */ var _geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../geometry/support/plane.js */ "./node_modules/@arcgis/core/geometry/support/plane.js");
/* harmony import */ var _ViewshedConfiguration_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./ViewshedConfiguration.js */ "./node_modules/@arcgis/core/views/3d/analysis/Viewshed/ViewshedConfiguration.js");
/* harmony import */ var _interactive_manipulatorUtils_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../interactive/manipulatorUtils.js */ "./node_modules/@arcgis/core/views/3d/interactive/manipulatorUtils.js");
/* harmony import */ var _interactive_editingTools_dragEventPipeline3D_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../interactive/editingTools/dragEventPipeline3D.js */ "./node_modules/@arcgis/core/views/3d/interactive/editingTools/dragEventPipeline3D.js");
/* harmony import */ var _support_cameraUtils_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../support/cameraUtils.js */ "./node_modules/@arcgis/core/views/3d/support/cameraUtils.js");
/* harmony import */ var _support_cameraUtilsInternal_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../support/cameraUtilsInternal.js */ "./node_modules/@arcgis/core/views/3d/support/cameraUtilsInternal.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
function R({tiltedUpVector:r,rightVector:e,observerRenderSpace:t},n){const o=(0,_interactive_manipulatorUtils_js__WEBPACK_IMPORTED_MODULE_7__.calculateTranslateRotateFromBases)(r,e,t,n);return o[12]=0,o[13]=0,o[14]=0,o}function U(t,n,o,i){const j=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_4__.create)(),v=(0,_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_5__.getNormal)(o.plane),S=E(n,v);let R;if(Math.abs(S)>_ViewshedConfiguration_js__WEBPACK_IMPORTED_MODULE_6__.viewshedToolManipulatorConfiguration.viewAngleThreshold)R=t.next((0,_interactive_editingTools_dragEventPipeline3D_js__WEBPACK_IMPORTED_MODULE_8__.screenToRenderPlane)(n,o.plane));else{const r=(0,_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_5__.fromPositionAndNormal)(i.targetRenderSpace,o.basis1,(0,_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_5__.create)()),s=(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_3__.n)(D,o.basis1),f=(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_3__.n)(M,o.basis2);R=t.next((0,_interactive_editingTools_dragEventPipeline3D_js__WEBPACK_IMPORTED_MODULE_8__.screenToRenderPlane)(n,r)).next((r=>{const t=r=>{const t=(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_3__.e)((0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_3__.a)(V,r,o.origin),f),n=Math.acos((0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_0__.clamp)(t/i.farDistanceRenderSpace,-1,1)),a=Math.sin(n)*i.farDistanceRenderSpace;return (0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_3__.f)((0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_4__.create)(),o.origin,(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_3__.f)((0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_4__.create)(),(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_3__.g)(V,s,a),(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_3__.g)(w,f,t)))},n=t(r.renderStart),a=t(r.renderEnd);return{...r,renderStart:n,renderEnd:a}}))}return R.next((e=>{"start"===e.action&&(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_3__.c)(j,e.renderStart);const t=(0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_0__.rad2deg)((0,_interactive_manipulatorUtils_js__WEBPACK_IMPORTED_MODULE_7__.calculateInputRotationTransform)(j,e.renderEnd,o.origin,v));return{...e,deltaAngle:t}}))}function E(e,t){const n=D;e.renderCoordsHelper.toRenderCoords(e.camera.position,n);const o=(0,_support_cameraUtils_js__WEBPACK_IMPORTED_MODULE_9__.headingTiltToDirectionUp)(e,n,e.camera.heading,e.camera.tilt,(0,_support_cameraUtilsInternal_js__WEBPACK_IMPORTED_MODULE_10__.createDirectionUp)()).direction;return (0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_0__.rad2deg)((0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_3__.p)(o,t))-90}function C(r,e,n,a){return (0,_core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_1__.fromRotation)(A,n,a),(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_3__.t)(r,e,A)}const D=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_4__.create)(),M=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_4__.create)(),V=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_4__.create)(),w=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_4__.create)(),A=(0,_core_libs_gl_matrix_2_factories_mat4f64_js__WEBPACK_IMPORTED_MODULE_2__.create)();


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/analysis/ViewshedAnalysisView3D.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/analysis/ViewshedAnalysisView3D.js ***!
  \*******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ T)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _analysis_featureReferenceUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../analysis/featureReferenceUtils.js */ "./node_modules/@arcgis/core/analysis/featureReferenceUtils.js");
/* harmony import */ var _core_Accessor_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/Accessor.js */ "./node_modules/@arcgis/core/core/Accessor.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_mapCollectionUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../core/mapCollectionUtils.js */ "./node_modules/@arcgis/core/core/mapCollectionUtils.js");
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../core/maybe.js */ "./node_modules/@arcgis/core/core/maybe.js");
/* harmony import */ var _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../core/reactiveUtils.js */ "./node_modules/@arcgis/core/core/reactiveUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_RandomLCG_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../core/RandomLCG.js */ "./node_modules/@arcgis/core/core/RandomLCG.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _chunks_vec32_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../chunks/vec32.js */ "./node_modules/@arcgis/core/chunks/vec32.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../core/libs/gl-matrix-2/factories/vec3f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/vec3f64.js");
/* harmony import */ var _geometry_projectionUtils_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../geometry/projectionUtils.js */ "./node_modules/@arcgis/core/geometry/projectionUtils.js");
/* harmony import */ var _geometry_projection_projectBoundingRect_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../geometry/projection/projectBoundingRect.js */ "./node_modules/@arcgis/core/geometry/projection/projectBoundingRect.js");
/* harmony import */ var _geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../geometry/support/aaBoundingRect.js */ "./node_modules/@arcgis/core/geometry/support/aaBoundingRect.js");
/* harmony import */ var _AnalysisView3D_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./AnalysisView3D.js */ "./node_modules/@arcgis/core/views/3d/analysis/AnalysisView3D.js");
/* harmony import */ var _support_projectionUtils_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./support/projectionUtils.js */ "./node_modules/@arcgis/core/views/3d/analysis/support/projectionUtils.js");
/* harmony import */ var _Viewshed_ViewshedAnalysisVisualization_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./Viewshed/ViewshedAnalysisVisualization.js */ "./node_modules/@arcgis/core/views/3d/analysis/Viewshed/ViewshedAnalysisVisualization.js");
/* harmony import */ var _Viewshed_ViewshedComputedData_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./Viewshed/ViewshedComputedData.js */ "./node_modules/@arcgis/core/views/3d/analysis/Viewshed/ViewshedComputedData.js");
/* harmony import */ var _Viewshed_ViewshedTool_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./Viewshed/ViewshedTool.js */ "./node_modules/@arcgis/core/views/3d/analysis/Viewshed/ViewshedTool.js");
/* harmony import */ var _webgl_engine_lib_Intersector_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../webgl-engine/lib/Intersector.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/Intersector.js");
/* harmony import */ var _webgl_engine_lib_IntersectorInterfaces_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../webgl-engine/lib/IntersectorInterfaces.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/IntersectorInterfaces.js");
/* harmony import */ var _webgl_engine_lib_Viewshed_js__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../webgl-engine/lib/Viewshed.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/Viewshed.js");
/* harmony import */ var _analysis_analysisViewUtils_js__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ../../analysis/analysisViewUtils.js */ "./node_modules/@arcgis/core/views/analysis/analysisViewUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
let I=class extends((0,_AnalysisView3D_js__WEBPACK_IMPORTED_MODULE_16__.AnalysisView3D)(_core_Accessor_js__WEBPACK_IMPORTED_MODULE_2__["default"])){constructor(e){super(e),this.type="viewshed-view-3d",this.analysis=null,this.tool=null,this._selectedViewshed=null,this.viewshedComputedDataHandles=null,this.userOperation=null,this._viewshedRenderer=null,this._intersector=null}get selectedViewshed(){return this._selectedViewshed}set selectedViewshed(e){this._unselectOtherViewsheds(e),this._selectedViewshed=e}get selectedViewshedComputedData(){return this.tool?.selectedViewshedComputedData}get _isDecoration(){return!this.parent}initialize(){const e=this.view;this._viewshedRenderer=new _webgl_engine_lib_Viewshed_js__WEBPACK_IMPORTED_MODULE_23__.Viewshed({view:e,selectedViewshed:()=>this.selectedViewshed??this.tool?.stagedViewshed,isDecoration:this._isDecoration}),this._intersector=new _webgl_engine_lib_Intersector_js__WEBPACK_IMPORTED_MODULE_21__.Intersector(this.view.state.viewingMode),this._intersector.options.hud=!1,this._intersector.options.store=_webgl_engine_lib_IntersectorInterfaces_js__WEBPACK_IMPORTED_MODULE_22__.StoreResults.MIN,this.viewshedComputedDataHandles=(0,_core_mapCollectionUtils_js__WEBPACK_IMPORTED_MODULE_5__.mapCollection)((()=>this.analysis.viewsheds),(t=>{const s=new _Viewshed_ViewshedComputedData_js__WEBPACK_IMPORTED_MODULE_19__.ViewshedComputedData({renderCoordsHelper:e.renderCoordsHelper,viewshed:t}),i=Symbol();return this.addHandles([(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_7__.watch)((()=>({valid:s.valid,canProject:(0,_geometry_projectionUtils_js__WEBPACK_IMPORTED_MODULE_13__.canProjectWithoutEngine)(s.observer?.spatialReference,this.view.spatialReference)||(0,_geometry_projectionUtils_js__WEBPACK_IMPORTED_MODULE_13__.isLoaded)()})),(({valid:e,canProject:t},i)=>{this.visible&&(e&&t?this._addViewshedsToRenderer(s):i?.valid&&i?.canProject&&this._removeViewshedsFromRenderer(s),t||(0,_support_projectionUtils_js__WEBPACK_IMPORTED_MODULE_17__.logFailedGeometryProjectionError)(this.analysis,s.observer.spatialReference,_core_Logger_js__WEBPACK_IMPORTED_MODULE_4__["default"].getLogger(this)))}),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_7__.initial),...this._createFeatureReferenceHandles(s)],i),{viewshedComputedData:s,remove:()=>{this.removeHandles(i),this._removeViewshedsFromRenderer(s),s.destroy()}}})),this._analysisVisualization=new _Viewshed_ViewshedAnalysisVisualization_js__WEBPACK_IMPORTED_MODULE_18__.ViewshedAnalysisVisualization({view:e,analysisViewData:this,isDecoration:this._isDecoration}),this.addHandles([(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_7__.watch)((()=>this.visible),(e=>{const t=this.viewshedComputedDataHandles;if(null==t)return;e||(this.selectedViewshed=null);const s=t.map((e=>e.viewshedComputedData)).filter((e=>e.valid)).toArray();e?this._addViewshedsToRenderer(s):this._removeViewshedsFromRenderer(s)})),(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_7__.watch)((()=>e.renderCoordsHelper),(e=>{this.viewshedComputedDataHandles?.forEach((({viewshedComputedData:t})=>t.renderCoordsHelper=e))})),(0,_analysis_analysisViewUtils_js__WEBPACK_IMPORTED_MODULE_24__.connectAnalysisViewToTool)(this,_Viewshed_ViewshedTool_js__WEBPACK_IMPORTED_MODULE_20__["default"]),(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_7__.when)((()=>this.interactive),(()=>{this._unselectOtherViewsheds(this.selectedViewshed)}),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_7__.syncAndInitial)])}destroy(){this.userOperation=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_6__.abortMaybe)(this.userOperation),(0,_analysis_analysisViewUtils_js__WEBPACK_IMPORTED_MODULE_24__.removeAnalysisViewTool)(this),this._analysisVisualization=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_6__.destroyMaybe)(this._analysisVisualization);const e=this.viewshedComputedDataHandles;null!=e&&this._removeViewshedsFromRenderer(e.map((e=>e.viewshedComputedData)).toArray())}_createFeatureReferenceHandles(e){const{view:t}=this;return[(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_7__.watch)((()=>[t.state.camera,t.slice.plane,e.viewshed.observer,e.targetRenderSpace,e.verticalFieldOfView,e.horizontalFieldOfView,e.feature]),(()=>{this._updateObserverFromFeature(t,e)}),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_7__.initial),this._createElevationUpdateHandle(e),(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_7__.when)((()=>e.needUpdateByFeature),(()=>{this._updateObserverFromFeature(t,e),e.needUpdateByFeature=!1}))]}_createElevationUpdateHandle(e){const t=(s,i)=>{const{view:r}=this,{observer:o}=e;if(null==o)return;const a=(0,_geometry_projectionUtils_js__WEBPACK_IMPORTED_MODULE_13__.projectOrLoad)(o,r.spatialReference);if(null!=a.pending)return void a.pending.finally((()=>t(s,i)));const n=a.geometry;null!=n&&((0,_geometry_projection_projectBoundingRect_js__WEBPACK_IMPORTED_MODULE_14__.projectBoundingRect)(s,i,x,r.spatialReference),(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_15__.containsPoint)(x,[n.x,n.y])&&(e.needUpdateByFeature=!0))};return this.view.elevationProvider.on("elevation-change",(({extent:e,spatialReference:s})=>t(e,s)))}async createViewsheds(e){await (0,_analysis_analysisViewUtils_js__WEBPACK_IMPORTED_MODULE_24__.startPlaceOperation)(this,{placementOptions:e,onToolActivated:e=>e.place("multiple")})}place(e){return (0,_analysis_analysisViewUtils_js__WEBPACK_IMPORTED_MODULE_24__.startPlaceOperation)(this,{placementOptions:e,onToolActivated:e=>e.place("single")})}_addViewshedsToRenderer(e){this._viewshedRenderer.updateViewsheds({adds:e})}_removeViewshedsFromRenderer(e){this._viewshedRenderer.updateViewsheds({removes:e})}_updateObserverFromFeature(e,i){const r=i.observerRenderSpace,o=i.targetRenderSpace,a=(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_11__.c)((0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_12__.create)(),r),n={observer:r,observerSurfaceNormal:null,observerAdjusted:a,observerFeatureId:(0,_analysis_featureReferenceUtils_js__WEBPACK_IMPORTED_MODULE_1__.getFeatureId)(i.feature),target:o,targetSurfaceNormal:null,targetAdjusted:(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_11__.c)((0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_12__.create)(),o),targetFeatureId:null};(0,_analysis_featureReferenceUtils_js__WEBPACK_IMPORTED_MODULE_1__.updatePointsFromFeatureReference)(e,this._intersector,n,(e=>Math.min(e,.05*i.farDistanceRenderSpace))),i.observerRenderSpaceOverride=(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_11__.q)(a,r)?null:a}_unselectOtherViewsheds(e){if(null!=e)for(const t of this.view.tools.items)t!==this.tool&&t instanceof _Viewshed_ViewshedTool_js__WEBPACK_IMPORTED_MODULE_20__["default"]&&(t.analysisViewData.selectedViewshed=null)}get test(){}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)({readOnly:!0})],I.prototype,"type",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)({constructOnly:!0,nonNullable:!0})],I.prototype,"analysis",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)()],I.prototype,"tool",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)()],I.prototype,"_selectedViewshed",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)()],I.prototype,"selectedViewshed",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)()],I.prototype,"selectedViewshedComputedData",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)()],I.prototype,"viewshedComputedDataHandles",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)()],I.prototype,"userOperation",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)()],I.prototype,"_analysisVisualization",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)()],I.prototype,"_viewshedRenderer",void 0),I=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_10__.subclass)("esri.views.3d.analysis.ViewshedAnalysisView3D")],I);const T=I,x=(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_15__.empty)();


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/interactive/visualElements/ViewshedShapeVisualElement.js":
/*!*****************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/interactive/visualElements/ViewshedShapeVisualElement.js ***!
  \*****************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ViewshedShapeVisualElement: () => (/* binding */ j)
/* harmony export */ });
/* harmony import */ var _core_mathUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/mathUtils.js */ "./node_modules/@arcgis/core/core/mathUtils.js");
/* harmony import */ var _core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/libs/gl-matrix-2/math/mat4.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/math/mat4.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_mat4f64_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core/libs/gl-matrix-2/factories/mat4f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/mat4f64.js");
/* harmony import */ var _chunks_vec32_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../chunks/vec32.js */ "./node_modules/@arcgis/core/chunks/vec32.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../core/libs/gl-matrix-2/factories/vec3f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/vec3f64.js");
/* harmony import */ var _analysis_Viewshed_ViewshedConfiguration_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../analysis/Viewshed/ViewshedConfiguration.js */ "./node_modules/@arcgis/core/views/3d/analysis/Viewshed/ViewshedConfiguration.js");
/* harmony import */ var _analysis_Viewshed_viewshedToolUtils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../analysis/Viewshed/viewshedToolUtils.js */ "./node_modules/@arcgis/core/views/3d/analysis/Viewshed/viewshedToolUtils.js");
/* harmony import */ var _Object3DVisualElement_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./Object3DVisualElement.js */ "./node_modules/@arcgis/core/views/3d/interactive/visualElements/Object3DVisualElement.js");
/* harmony import */ var _webgl_engine_lib_Attribute_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../webgl-engine/lib/Attribute.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/Attribute.js");
/* harmony import */ var _webgl_engine_lib_Geometry_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../webgl-engine/lib/Geometry.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/Geometry.js");
/* harmony import */ var _webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../webgl-engine/lib/VertexAttribute.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/VertexAttribute.js");
/* harmony import */ var _webgl_engine_materials_ColorMaterial_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../webgl-engine/materials/ColorMaterial.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/materials/ColorMaterial.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
class j extends _Object3DVisualElement_js__WEBPACK_IMPORTED_MODULE_7__.Object3DVisualElement{constructor(e){super(e),this._material=null,this._viewshedComputedData=null,this._material=new _webgl_engine_materials_ColorMaterial_js__WEBPACK_IMPORTED_MODULE_11__.ColorMaterial({..._analysis_Viewshed_ViewshedConfiguration_js__WEBPACK_IMPORTED_MODULE_5__.viewshedVisualizationConfiguration.shapeMaterialParameters,isDecoration:this.isDecoration,writeDepth:!1}),this.applyProperties(e)}get viewshedComputedData(){return this._viewshedComputedData}set viewshedComputedData(e){this._viewshedComputedData=e,this.updateTransform()}updateTransform(){const e=this._viewshedComputedData;if(null==e)return;const i=(0,_core_libs_gl_matrix_2_factories_mat4f64_js__WEBPACK_IMPORTED_MODULE_2__.create)(),a=e.farDistanceRenderSpace;(0,_core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_1__.fromScaling)(i,(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_4__.fromValues)(a,a,a)),(0,_analysis_Viewshed_viewshedToolUtils_js__WEBPACK_IMPORTED_MODULE_6__.getViewshedRotationMatrix)(e,E),(0,_core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_1__.mul)(i,E,i),(0,_core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_1__.fromTranslation)(E,this._viewshedComputedData.observerRenderSpace),(0,_core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_1__.mul)(i,E,i),this.transform=i}createExternalResources(){}destroyExternalResources(){}forEachMaterial(e){e(this._material)}createGeometries(e){const{_material:t,viewshedComputedData:r}=this;if(null==r||null==t||!r.valid)return;D(t,r).forEach((t=>e.addGeometry(t)))}}function D(t,r){const{horizontalFieldOfView:s,verticalFieldOfView:o}=r,m=(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_3__.i)(_,0,0,1),c=(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_3__.i)(x,0,1,0),f=(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_3__.i)(V,1,0,0);(0,_analysis_Viewshed_viewshedToolUtils_js__WEBPACK_IMPORTED_MODULE_6__.rotateBy)(m,m,(0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_0__.deg2rad)(o/2),c),(0,_analysis_Viewshed_viewshedToolUtils_js__WEBPACK_IMPORTED_MODULE_6__.rotateBy)(m,m,(0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_0__.deg2rad)(s/2),f);const p=e=>Math.ceil(Math.abs(e)/_analysis_Viewshed_ViewshedConfiguration_js__WEBPACK_IMPORTED_MODULE_5__.arcAnglePerSegment)+1,d=(0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_0__.deg2rad)(s),g=(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_3__.c)(y,f),j=p(d),D=C(-d/(j-1)),O=(0,_core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_1__.fromRotation)(E,D,g),R=(0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_0__.deg2rad)(-o),T=p(R),G=C(R/(T-1)),N=(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_3__.c)(x,c),P=(0,_core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_1__.fromRotation)(M,(0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_0__.deg2rad)(s)/2,f);(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_3__.t)(N,N,P);const S=M,A=[],F=(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_3__.c)(V,m);for(let e=0;e<j;e++){(0,_core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_1__.fromRotation)(S,G,N);for(let t=0;t<T;t++){const r=3*(t*j+e);A[r]=F[0],A[r+1]=F[1],A[r+2]=F[2],(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_3__.t)(F,F,S)}(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_3__.t)(N,N,O),(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_3__.t)(m,m,O),(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_3__.c)(F,m)}const I=j*T;A[3*I]=0,A[3*I+1]=0,A[3*I+2]=0;const U=[];for(let e=0;e<j-1;e++)for(let t=0;t<T-1;t++){const r=6*(t*(j-1)+e);U[r]=t*j+e,U[r+1]=(t+1)*j+e,U[r+2]=t*j+e+1,U[r+3]=t*j+e+1,U[r+4]=(t+1)*j+e,U[r+5]=(t+1)*j+e+1}const k=[U];if(360!==s&&0!==o){const e=[],t=[];for(let r=0;r<T-1;r++){const s=3*r;e[s]=I,e[s+1]=(r+1)*j,e[s+2]=r*j,t[s]=I,t[s+1]=r*j+j-1,t[s+2]=(r+1)*j+j-1}k.push(e,t)}if(180!==o&&0!==s){const e=[],t=[];for(let r=0;r<j-1;r++){const s=3*r;e[s]=I,e[s+1]=r,e[s+2]=r+1,t[s]=I,t[s+1]=r+(T-1)*j+1,t[s+2]=r+(T-1)*j}k.push(e,t)}return k.map((e=>{const r=[[_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_10__.VertexAttribute.POSITION,new _webgl_engine_lib_Attribute_js__WEBPACK_IMPORTED_MODULE_8__.Attribute(A,e,3,!0)]];return new _webgl_engine_lib_Geometry_js__WEBPACK_IMPORTED_MODULE_9__.Geometry(t,r)}))}function C(e){return isNaN(e)?1:e}const _=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_4__.create)(),x=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_4__.create)(),V=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_4__.create)(),y=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_4__.create)(),E=(0,_core_libs_gl_matrix_2_factories_mat4f64_js__WEBPACK_IMPORTED_MODULE_2__.create)(),M=(0,_core_libs_gl_matrix_2_factories_mat4f64_js__WEBPACK_IMPORTED_MODULE_2__.create)();


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/util/LocalFromScreenSpace.glsl.js":
/*!**************************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/util/LocalFromScreenSpace.glsl.js ***!
  \**************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   LocalFromScreenSpacePassParameters: () => (/* binding */ m),
/* harmony export */   localFromScreenSpace: () => (/* binding */ l)
/* harmony export */ });
/* harmony import */ var _core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../core/libs/gl-matrix-2/math/mat4.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/math/mat4.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_mat4f64_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../../core/libs/gl-matrix-2/factories/mat4f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/mat4f64.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../../core/libs/gl-matrix-2/factories/vec3f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/vec3f64.js");
/* harmony import */ var _CameraSpace_glsl_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./CameraSpace.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/util/CameraSpace.glsl.js");
/* harmony import */ var _shaderModules_glsl_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../shaderModules/glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/glsl.js");
/* harmony import */ var _shaderModules_Matrix4PassUniform_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../shaderModules/Matrix4PassUniform.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Matrix4PassUniform.js");
/* harmony import */ var _webgl_NoParameters_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../webgl/NoParameters.js */ "./node_modules/@arcgis/core/views/webgl/NoParameters.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
class m extends _webgl_NoParameters_js__WEBPACK_IMPORTED_MODULE_6__.NoParameters{constructor(){super(...arguments),this.localOrigin=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_2__.zeros)()}}function l(i){i.include(_CameraSpace_glsl_js__WEBPACK_IMPORTED_MODULE_3__.CameraSpace),i.fragment.uniforms.add(new _shaderModules_Matrix4PassUniform_js__WEBPACK_IMPORTED_MODULE_5__.Matrix4PassUniform("inverseViewMatrix",((i,t)=>{const a=(0,_core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_0__.translate)((0,_core_libs_gl_matrix_2_factories_mat4f64_js__WEBPACK_IMPORTED_MODULE_1__.create)(),t.camera.viewMatrix,i.localOrigin);return (0,_core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_0__.invertOrIdentity)(a,a)}))).code.add((0,_shaderModules_glsl_js__WEBPACK_IMPORTED_MODULE_4__.glsl)`vec4 reconstructLocalPosition(vec2 coord, float linearDepth) {
vec4 cameraSpace = vec4(reconstructPosition(coord, linearDepth), 1.0);
return inverseViewMatrix * cameraSpace;
}`)}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/Viewshed.js":
/*!*************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/lib/Viewshed.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Viewshed: () => (/* binding */ P),
/* harmony export */   computeOffsetScale: () => (/* binding */ D)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_Collection_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/Collection.js */ "./node_modules/@arcgis/core/core/Collection.js");
/* harmony import */ var _core_mathUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core/mathUtils.js */ "./node_modules/@arcgis/core/core/mathUtils.js");
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../core/maybe.js */ "./node_modules/@arcgis/core/core/maybe.js");
/* harmony import */ var _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../core/reactiveUtils.js */ "./node_modules/@arcgis/core/core/reactiveUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_RandomLCG_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../core/RandomLCG.js */ "./node_modules/@arcgis/core/core/RandomLCG.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../core/libs/gl-matrix-2/math/mat4.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/math/mat4.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_mat4f64_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../core/libs/gl-matrix-2/factories/mat4f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/mat4f64.js");
/* harmony import */ var _chunks_vec32_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../../chunks/vec32.js */ "./node_modules/@arcgis/core/chunks/vec32.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../../core/libs/gl-matrix-2/factories/vec3f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/vec3f64.js");
/* harmony import */ var _chunks_sphere_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../../chunks/sphere.js */ "./node_modules/@arcgis/core/chunks/sphere.js");
/* harmony import */ var _webgl_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../webgl.js */ "./node_modules/@arcgis/core/views/3d/webgl.js");
/* harmony import */ var _webgl_RenderNode_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../webgl/RenderNode.js */ "./node_modules/@arcgis/core/views/3d/webgl/RenderNode.js");
/* harmony import */ var _basicInterfaces_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./basicInterfaces.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/basicInterfaces.js");
/* harmony import */ var _RenderFeature_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./RenderFeature.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/RenderFeature.js");
/* harmony import */ var _ViewshedShadowMap_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./ViewshedShadowMap.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/ViewshedShadowMap.js");
/* harmony import */ var _chunks_Viewshed_glsl_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../../../../chunks/Viewshed.glsl.js */ "./node_modules/@arcgis/core/chunks/Viewshed.glsl.js");
/* harmony import */ var _shaders_ViewshedTechnique_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../shaders/ViewshedTechnique.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/ViewshedTechnique.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
let P=class extends _webgl_RenderNode_js__WEBPACK_IMPORTED_MODULE_16__["default"]{get shadowMap(){return this._shadowMap}get hasViewsheds(){return this._viewsheds.length>0}get _contentPixelRatio(){return this.view.state.contentPixelRatio}get _viewshedsInView(){return this._viewsheds.items.filter((e=>E(this.view,e)))}constructor(e){super(e),this.isDecoration=!1,this._passParameters=new _chunks_Viewshed_glsl_js__WEBPACK_IMPORTED_MODULE_20__.V,this._viewsheds=new _core_Collection_js__WEBPACK_IMPORTED_MODULE_1__["default"],this._shadowMap=null,this.consumes={required:[_webgl_js__WEBPACK_IMPORTED_MODULE_15__.InternalRenderCategory.VIEWSHED,"normals"]},this.produces=_webgl_js__WEBPACK_IMPORTED_MODULE_15__.InternalRenderCategory.VIEWSHED,this.requireGeometryDepth=!0}initialize(){this._shadowMap=new _ViewshedShadowMap_js__WEBPACK_IMPORTED_MODULE_19__.ViewshedShadowMap(this.fboCache),this.addHandles([(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_4__.watch)((()=>this.view.resolutionScale),(e=>{const s=this._shadowMap;s&&(s.settings.textureSizeQuality=e)}),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_4__.initial),(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_4__.when)((()=>!this.hasViewsheds),(()=>this._shadowMap?.dispose())),(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_4__.watch)((()=>this._viewshedsInView.map((e=>[e.observerRenderSpace,e.heading,e.tilt,e.farDistance,e.horizontalFieldOfView,e.verticalFieldOfView]))),(()=>this.requestRender(_basicInterfaces_js__WEBPACK_IMPORTED_MODULE_17__.RenderRequestType.UPDATE)),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_4__.sync)])}destroy(){this._shadowMap=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_3__.disposeMaybe)(this._shadowMap)}precompile(){if(this.hasViewsheds){this.techniques.precompile(_shaders_ViewshedTechnique_js__WEBPACK_IMPORTED_MODULE_21__.ViewshedTechnique);for(const e of this._viewshedsInView)if(this._shadowMap?.isActive(e))return void this.view.stage.renderer.precompileViewshedShadowMap()}}render(e){const s=this.bindParameters,t=this.renderingContext,r=e.find((({name:e})=>e===_webgl_js__WEBPACK_IMPORTED_MODULE_15__.InternalRenderCategory.VIEWSHED));if(!this.hasViewsheds||!s.depth||this.isDecoration&&!s.decorations)return r;this._passParameters.shadowMap=this._shadowMap??this._passParameters.shadowMap,this._passParameters.normals=e.find((({name:e})=>"normals"===e))?.getTexture();const i=this.techniques.get(_shaders_ViewshedTechnique_js__WEBPACK_IMPORTED_MODULE_21__.ViewshedTechnique);if(!i?.compiled)return this.requestRender(_basicInterfaces_js__WEBPACK_IMPORTED_MODULE_17__.RenderRequestType.UPDATE),r;const o=this.view.stage.renderer.isFeatureEnabled(_RenderFeature_js__WEBPACK_IMPORTED_MODULE_18__.RenderFeature.HighResolutionViewshed);for(const a of this._viewshedsInView){if(!this._renderShadowCubeMap(s,a,o)||!this._shadowMap?.ready)continue;const e=this._setupViewshedParameters(a,s.camera);t.bindTechnique(i,s,e),t.bindFramebuffer(r.fbo),t.screen.draw()}return this.shadowMap?.dispose(),r}updateViewsheds(e){const s=this._viewsheds,{removes:t,adds:r}=e;if(t&&(Array.isArray(t)?s.removeMany(t):s.remove(t)),r)if(Array.isArray(r)){const e=r.filter((e=>!s.includes(e)));s.addMany(e)}else s.includes(r)||s.add(r)}_renderShadowCubeMap(e,s,t){const r=this._shadowMap;if(!r)return!1;const i=this.view.basemapTerrain.hasStencilEnabledExtents,o=r.start(e.camera,s,t,this._contentPixelRatio,i);return o&&r.faces.forEach((e=>this.view.stage.renderer.renderViewshedShadowMap(e))),r.finish(),o}_setupViewshedParameters(e,s){const r=this._shadowMap;if(!r)return this._passParameters;const i=this._passParameters,o=e.effectiveObserverRenderSpace;i.localOrigin=o,i.observerOffset=(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_12__.a)(I,e.observerRenderSpace,e.effectiveObserverRenderSpace),i.fovs=[(0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_2__.deg2rad)(e.horizontalFieldOfView),(0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_2__.deg2rad)(e.verticalFieldOfView)],i.headingAndTilt=[(0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_2__.deg2rad)(e.heading),(0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_2__.deg2rad)(e.tiltParallelToSurface)],i.upVector=e.tiltedUpVector;const a=x(e.targetRenderSpace,o);i.targetVector=a;const n=new Array,h=new Array;for(let t=0;t<r.numActiveFaces;t++)(0,_core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_10__.translate)(O,r.viewshedViewMatrices[t],o),n.push(...O),A(r.viewshedProjectionMatrices[t],O,q),h.push(...q);return i.viewMatrices=n,i.projectionMatrices=h,i.volumeOffset=this.selectedViewshed?.()===e.viewshed?D(e,this.view,s.eye):0,i}get test(){return{viewsheds:this._viewsheds,shadowMap:this._shadowMap,viewshedsInView:this._viewshedsInView}}};function x(e,s){const t=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_13__.create)();return (0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_12__.a)(t,e,s)}function A(e,s,t){const r=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_13__.fromValues)(.5,.5,.5);return (0,_core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_10__.fromTranslation)(t,r),(0,_core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_10__.scale)(t,t,r),(0,_core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_10__.mul)(t,t,e),(0,_core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_10__.mul)(t,t,s),t}function E(e,s){const t=(0,_chunks_sphere_js__WEBPACK_IMPORTED_MODULE_14__.h)(s.observerRenderSpace,s.farDistanceRenderSpace);return!!e.ready&&e.frustum.intersectsSphere(t)}function D(e,s,t){if(null==e)return 0;const{observerRenderSpace:r,targetRenderSpace:i}=e,o=(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_12__.j)(t,r)>(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_12__.j)(t,i)?e.observer:e.target;return s.pixelSizeAt(o)}(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],P.prototype,"selectedViewshed",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],P.prototype,"isDecoration",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],P.prototype,"shadowMap",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],P.prototype,"hasViewsheds",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],P.prototype,"_contentPixelRatio",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],P.prototype,"_viewshedsInView",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],P.prototype,"consumes",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],P.prototype,"produces",void 0),P=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_9__.subclass)("esri.views.3d.webgl-engine.lib.Viewshed")],P);const I=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_13__.create)(),O=(0,_core_libs_gl_matrix_2_factories_mat4f64_js__WEBPACK_IMPORTED_MODULE_11__.create)(),q=(0,_core_libs_gl_matrix_2_factories_mat4f64_js__WEBPACK_IMPORTED_MODULE_11__.create)();


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/ViewshedFaceCamera.js":
/*!***********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/lib/ViewshedFaceCamera.js ***!
  \***********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ViewshedFaceCamera: () => (/* binding */ g)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_mathUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/mathUtils.js */ "./node_modules/@arcgis/core/core/mathUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_RandomLCG_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../core/RandomLCG.js */ "./node_modules/@arcgis/core/core/RandomLCG.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../core/libs/gl-matrix-2/math/mat4.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/math/mat4.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_mat4f64_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../core/libs/gl-matrix-2/factories/mat4f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/mat4f64.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_vec4f64_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../core/libs/gl-matrix-2/factories/vec4f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/vec4f64.js");
/* harmony import */ var _webgl_RenderCamera_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../webgl/RenderCamera.js */ "./node_modules/@arcgis/core/views/3d/webgl/RenderCamera.js");
/* harmony import */ var _Util_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./Util.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/Util.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
let g=class extends _webgl_RenderCamera_js__WEBPACK_IMPORTED_MODULE_10__["default"]{constructor(){super(...arguments),this.sectionAngles=(0,_core_libs_gl_matrix_2_factories_vec4f64_js__WEBPACK_IMPORTED_MODULE_9__.create)()}get sectionAnglesDeg(){return (0,_core_libs_gl_matrix_2_factories_vec4f64_js__WEBPACK_IMPORTED_MODULE_9__.fromArray)(this.sectionAngles.map((t=>(0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_1__.rad2deg)(t))))}set sectionAnglesDeg(t){this.sectionAngles=(0,_core_libs_gl_matrix_2_factories_vec4f64_js__WEBPACK_IMPORTED_MODULE_9__.fromArray)(t.map((t=>(0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_1__.deg2rad)(t))))}get projectionMatrix(){return (0,_core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_7__.mul)((0,_core_libs_gl_matrix_2_factories_mat4f64_js__WEBPACK_IMPORTED_MODULE_8__.create)(),this.sectionMatrix,this._projectionMatrixInternal)}get sectionMatrix(){const t=this.sectionAngles[0],s=this.sectionAngles[1],e=this.sectionAngles[2],o=this.sectionAngles[3];(0,_Util_js__WEBPACK_IMPORTED_MODULE_11__.assert)(t<=s),(0,_Util_js__WEBPACK_IMPORTED_MODULE_11__.assert)(e<=o);const r=2*Math.tan(this.fovX/2),l=2*Math.tan(this.fovY/2),p=Math.tan(t),m=Math.tan(s),g=Math.tan(e),f=m-p,M=Math.tan(o)-g,j=r/f,u=l/M,A=-(p+f/2)/r*2,x=-(g+M/2)/l*2,b=(0,_core_libs_gl_matrix_2_factories_mat4f64_js__WEBPACK_IMPORTED_MODULE_8__.create)();(0,_core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_7__.fromTranslation)(b,[A,x,0]);const d=(0,_core_libs_gl_matrix_2_factories_mat4f64_js__WEBPACK_IMPORTED_MODULE_8__.create)();(0,_core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_7__.fromScaling)(d,[j,u,1]);const v=(0,_core_libs_gl_matrix_2_factories_mat4f64_js__WEBPACK_IMPORTED_MODULE_8__.create)();return (0,_core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_7__.mul)(v,d,b)}get _sectionRatioX(){const t=Math.tan(this.sectionAngles[0]),s=Math.tan(this.sectionAngles[1]),e=2*Math.tan(this.fovX/2);return Math.min(1,(s-t)/e)}setViewport(t,s){const e=s*this._sectionRatioX;return this.viewport=[t[0],t[1],e,s],e}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)()],g.prototype,"sectionAngles",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)()],g.prototype,"sectionAnglesDeg",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)()],g.prototype,"projectionMatrix",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)()],g.prototype,"sectionMatrix",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)()],g.prototype,"_sectionRatioX",null),g=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_6__.subclass)("esri.views.3d.webgl-engine.lib.ViewshedFaceCamera")],g);


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/ViewshedShadowMap.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/lib/ViewshedShadowMap.js ***!
  \**********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ViewshedShadowMap: () => (/* binding */ w)
/* harmony export */ });
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_mathUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/mathUtils.js */ "./node_modules/@arcgis/core/core/mathUtils.js");
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core/maybe.js */ "./node_modules/@arcgis/core/core/maybe.js");
/* harmony import */ var _core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../core/libs/gl-matrix-2/math/mat4.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/math/mat4.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_mat4f64_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../core/libs/gl-matrix-2/factories/mat4f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/mat4f64.js");
/* harmony import */ var _chunks_vec32_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../chunks/vec32.js */ "./node_modules/@arcgis/core/chunks/vec32.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../core/libs/gl-matrix-2/factories/vec3f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/vec3f64.js");
/* harmony import */ var _core_FBOCacheFormats_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../core/FBOCacheFormats.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/FBOCacheFormats.js");
/* harmony import */ var _textureUtils_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./textureUtils.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/textureUtils.js");
/* harmony import */ var _ViewshedFaceCamera_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./ViewshedFaceCamera.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/ViewshedFaceCamera.js");
/* harmony import */ var _webgl_enums_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../webgl/enums.js */ "./node_modules/@arcgis/core/views/webgl/enums.js");
/* harmony import */ var _webgl_textureUtils_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../webgl/textureUtils.js */ "./node_modules/@arcgis/core/views/webgl/textureUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
class g{constructor(){this.textureSizeQuality=1,this.textureSizeModHighQuality=1.3,this.textureSizeModLowQuality=.9,this.textureSizeMultiple=128,this.toleranceSides=5,this.toleranceBottomTop=10}textureSizeModifier(t){const e=t?this.textureSizeModHighQuality:this.textureSizeModLowQuality;return this.textureSizeQuality*e}textureResizeModulo(t){return Math.ceil(t/this.textureSizeMultiple)*this.textureSizeMultiple}}const _=["front","left","right","back","top","bottom"];function x(t){return!["top","bottom"].includes(t)}class w{constructor(t){this._fbos=t,this._faces={},this._width=0,this._height=0,this.settings=new g,this._maxTextureSize=Math.min((0,_core_has_js__WEBPACK_IMPORTED_MODULE_0__["default"])("esri-mobile")?4096:16384,t.rctx.parameters.maxTextureSize)}get depthTexture(){return this._handle?.getTexture(_webgl_enums_js__WEBPACK_IMPORTED_MODULE_10__.DepthStencilAttachment)}get ready(){return null!=this.depthTexture&&0!==this._width&&0!==this._height}get nearFar(){const t=this.faces;return 0===t.length?null:t[0].nearFar}get numActiveFaces(){const t=this._faces;let e=0;return Object.keys(t).forEach((i=>{t[i]&&(e+=1)})),e}get faces(){const t=this._faces,e=[];for(const i of _){const s=t[i];s&&e.push(s)}return e}get atlasRegions(){return this.faces.map((t=>[t.x/this._width,(t.x+t.width)/this._width,t.y/this._height,(t.y+t.height)/this._height]))}get viewshedProjectionMatrices(){return this.faces.map((t=>t.projectionMatrix))}get viewshedViewMatrices(){return this.faces.map((t=>t.viewMatrix))}_setupFaceCamera(e,n,l,m){const{effectiveObserverRenderSpace:f,tiltedUpVector:d,targetRenderSpace:p,farDistanceRenderSpace:g,horizontalFieldOfView:_,verticalFieldOfView:w}=n,b=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_6__.create)();(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_5__.a)(b,p,f);const M=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_6__.create)(),S=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_6__.create)(),F=(t,e)=>{const r=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_6__.create)(),o=(0,_core_libs_gl_matrix_2_factories_mat4f64_js__WEBPACK_IMPORTED_MODULE_4__.create)();return (0,_core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_3__.fromRotation)(o,t,e),(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_5__.t)(r,b,o),(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_5__.f)(r,f,r),r};let z,T=d;const O=Math.min(90,_),v=Math.min(90,Math.max(0,(_-90)/2));let j=-45,B=45,y=-45,k=45;if(x(e)){const e=e=>(0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_1__.clamp)(e,-45,45);y=e(-w/2)-this.settings.toleranceBottomTop,k=e(+w/2)+this.settings.toleranceBottomTop}switch(e){case"front":z=p,j=-O/2,B=O/2;break;case"left":z=F(Math.PI/2,d),j=45-v;break;case"right":z=F(-Math.PI/2,d),B=-45+v;break;case"top":z=(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_5__.f)(M,f,d),T=(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_5__.u)(S,b);break;case"bottom":z=(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_5__.a)(M,f,d),T=b;break;case"back":z=F(Math.PI,d)}const P=new _ViewshedFaceCamera_js__WEBPACK_IMPORTED_MODULE_9__.ViewshedFaceCamera({center:z,eye:f,up:T,far:g});P.sectionAnglesDeg=[j-this.settings.toleranceSides,B+this.settings.toleranceSides,y,k],P.fovY=Math.PI/2;const C=P.setViewport(l,m);return this._faces[e]=P,C}isActive(t){return this._computeActiveFaces(t).size>0}_computeActiveFaces(t){const e=new Set,{horizontalFieldOfView:i,verticalFieldOfView:s}=t,r=-s/2,a=s/2;return 0===i||0===s||(r<=45&&a>=-45&&e.add("front"),i>90&&(e.add("left"),e.add("right")),i>270&&e.add("back"),a>45-this.settings.toleranceBottomTop&&e.add("top"),r<-45+this.settings.toleranceBottomTop&&e.add("bottom")),e}_computeBaseTextureSize({pixelRatio:t,fullWidth:e,fullHeight:i},s,r,a){const o=s/t,h=this.settings.textureSizeModifier(r);return (0,_textureUtils_js__WEBPACK_IMPORTED_MODULE_8__.applyTextureResizeModulo)(Math.max(e,i)*o*h,this._maxTextureSize/a)}_ensureFBO(t){const e=this._width,i=this._height,s=this._handle?.fbo;s&&s.width===e&&s.height===i&&t===(0,_webgl_textureUtils_js__WEBPACK_IMPORTED_MODULE_11__.isSizedDepthStencilFormat)(s.depthStencilTexture?.descriptor?.internalFormat??_webgl_enums_js__WEBPACK_IMPORTED_MODULE_10__.SizedDepthFormat.DEPTH_COMPONENT16)||(this._handle?.release(),this._handle=this._allocateFBO(t))}_allocateFBO(t){const{_width:e,_height:i}=this,s=t?_core_FBOCacheFormats_js__WEBPACK_IMPORTED_MODULE_7__.DepthFormat.DEPTH24_STENCIL8:_core_FBOCacheFormats_js__WEBPACK_IMPORTED_MODULE_7__.DepthFormat.DEPTH16,r=this._fbos.acquire(e,i,"viewshed shadow map",s);return r.getTexture(_webgl_enums_js__WEBPACK_IMPORTED_MODULE_10__.DepthStencilAttachment)?.setShadowFiltering(!1),r}clearFBO(t){const e=this._fbos.rctx;this._ensureFBO(t),e.bindFramebuffer(this._handle?.fbo),e.setClearColor(1,1,1,1),e.clear(_webgl_enums_js__WEBPACK_IMPORTED_MODULE_10__.FramebufferBit.COLOR|_webgl_enums_js__WEBPACK_IMPORTED_MODULE_10__.FramebufferBit.DEPTH)}dispose(){this._debugFBO||(this._handle=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_2__.releaseMaybe)(this._handle))}start(t,e,i,s,r=!1){this._faces={};const a=this._computeActiveFaces(e),o=a.size;if(0===o)return!1;const h=this._computeBaseTextureSize(t,s,i,o);let c=0,n=0,l=0;return _.filter((t=>a.has(t))).forEach((t=>{const i=b(t,o);i>n&&(l=Math.max(l,c),c=0),n=i;const s=i*h;c+=this._setupFaceCamera(t,e,[c,s],h)})),l=Math.max(l,c),this._width=this.settings.textureResizeModulo(l),this._height=M(o)*h,this.clearFBO(r),!0}finish(){}get test(){}}function b(t,e){if(e<4)return 0;const i="front"===t||"left"===t;return 4===e?i?0:1:i||"right"===t?0:1}function M(t){return t<4?1:2}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/webgl-engine/materials/TriangleMaterial.js":
/*!***************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/materials/TriangleMaterial.js ***!
  \***************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   TriangleMaterial: () => (/* binding */ r)
/* harmony export */ });
/* harmony import */ var _core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/libs/gl-matrix-2/factories/vec3f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/vec3f64.js");
/* harmony import */ var _lib_Material_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../lib/Material.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/Material.js");
/* harmony import */ var _lib_RayIntersections_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../lib/RayIntersections.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/RayIntersections.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
class r extends _lib_Material_js__WEBPACK_IMPORTED_MODULE_1__.Material{constructor(){super(...arguments),this._pp0=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_0__.fromValues)(0,0,1),this._pp1=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_0__.fromValues)(0,0,0)}intersect(t,i,r,s,e,o){return (0,_lib_RayIntersections_js__WEBPACK_IMPORTED_MODULE_2__.intersectTriangleGeometry)(t,r,s,e,void 0,o)}intersectDraped(t,i,r,s){return this._pp0[0]=this._pp1[0]=r[0],this._pp0[1]=this._pp1[1]=r[1],(0,_lib_RayIntersections_js__WEBPACK_IMPORTED_MODULE_2__.intersectTriangleGeometry)(t,i,this._pp0,this._pp1,void 0,s)}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/ViewshedTechnique.js":
/*!**************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/ViewshedTechnique.js ***!
  \**************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ViewshedTechnique: () => (/* binding */ l)
/* harmony export */ });
/* harmony import */ var _core_shaderTechnique_ReloadableShaderModule_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../core/shaderTechnique/ReloadableShaderModule.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderTechnique/ReloadableShaderModule.js");
/* harmony import */ var _core_shaderTechnique_ShaderTechnique_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../core/shaderTechnique/ShaderTechnique.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderTechnique/ShaderTechnique.js");
/* harmony import */ var _chunks_Viewshed_glsl_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../chunks/Viewshed.glsl.js */ "./node_modules/@arcgis/core/chunks/Viewshed.glsl.js");
/* harmony import */ var _webgl_renderState_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../webgl/renderState.js */ "./node_modules/@arcgis/core/views/webgl/renderState.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
class l extends _core_shaderTechnique_ShaderTechnique_js__WEBPACK_IMPORTED_MODULE_1__.ShaderTechnique{constructor(r,o){super(r,o,new _core_shaderTechnique_ReloadableShaderModule_js__WEBPACK_IMPORTED_MODULE_0__.ReloadableShaderModule(_chunks_Viewshed_glsl_js__WEBPACK_IMPORTED_MODULE_2__.a,(()=>__webpack_require__.e(/*! import() */ "node_modules_arcgis_core_views_3d_webgl-engine_shaders_Viewshed_glsl_js").then(__webpack_require__.bind(__webpack_require__, /*! ./Viewshed.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/Viewshed.glsl.js")))))}initializePipeline(){return (0,_webgl_renderState_js__WEBPACK_IMPORTED_MODULE_3__.makePipelineState)({colorWrite:_webgl_renderState_js__WEBPACK_IMPORTED_MODULE_3__.defaultColorWrite,blending:_webgl_renderState_js__WEBPACK_IMPORTED_MODULE_3__.unpremultipliedAlphaToPremultipliedAlpha})}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/analysis/analysisViewUtils.js":
/*!***********************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/analysis/analysisViewUtils.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   activateAnalysisViewTool: () => (/* binding */ u),
/* harmony export */   connectAnalysisViewToTool: () => (/* binding */ m),
/* harmony export */   removeAnalysisViewTool: () => (/* binding */ f),
/* harmony export */   startExclusiveInteractiveOperation: () => (/* binding */ y),
/* harmony export */   startPlaceOperation: () => (/* binding */ d)
/* harmony export */ });
/* harmony import */ var _core_asyncUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../core/asyncUtils.js */ "./node_modules/@arcgis/core/core/asyncUtils.js");
/* harmony import */ var _core_handleUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/handleUtils.js */ "./node_modules/@arcgis/core/core/handleUtils.js");
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/maybe.js */ "./node_modules/@arcgis/core/core/maybe.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../core/reactiveUtils.js */ "./node_modules/@arcgis/core/core/reactiveUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
function u(t,n){t.interactive=!0;const{tool:i,view:r}=t;r.activeTool=i;let s=(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__.onAbort)(n,(()=>{r.activeTool===i&&(r.activeTool=null)}));return (0,_core_asyncUtils_js__WEBPACK_IMPORTED_MODULE_0__.createTask)((async o=>{await (0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_4__.whenOnce)((()=>!t.tool?.active),o),s=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_2__.removeMaybe)(s)}),n)}function m(o,t){return (0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_4__.watch)((()=>o.interactive),(()=>p(o,t)),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_4__.syncAndInitial)}function p(o,t){o.interactive?v(o,t):f(o)}function v(o,t){f(o);const{view:e,analysis:n}=o,i=new t({view:e,analysis:n,analysisViewData:o});return o.tool=i,e.tools.add(i),i}function f(o){const{view:t,tool:e}=o;null!=e&&(t.tools.remove(e),o.tool=null)}function y(e,a){const r=e.userOperation,s=(0,_core_asyncUtils_js__WEBPACK_IMPORTED_MODULE_0__.createTask)((async o=>{if(r){const t=r.promise.catch((()=>{}));r?.abort(),await t,(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__.throwIfAborted)(o)}const s=u(e,{signal:o}),c=a?.shouldRejectOnCancel??(()=>!0),m=(0,_core_handleUtils_js__WEBPACK_IMPORTED_MODULE_1__.handlesGroup)([(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_4__.on)((()=>e.tool),"cancel",(()=>{c()&&s.abort()}))]),{tool:p}=e;try{p&&(p.resetCreated(),a?.onToolActivated?.(p)),await s.promise,(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__.throwIfAborted)(o)}catch(v){if(o.aborted||!(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__.isAbortError)(v)||c())throw v}finally{m?.remove()}}),{signal:a?.abortOptions?.signal});return e.userOperation=s,s.promise.finally((()=>{e.userOperation===s&&(e.userOperation=null)}))}async function d(o,t){const e=o.analysis.clone();return await y(o,{abortOptions:t?.placementOptions,onToolActivated:t?.onToolActivated,shouldRejectOnCancel:()=>{const{analysis:t}=o;return!t.valid||t.equals(e)}}),{}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/interactive/AnalysisToolBase.js":
/*!*************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/interactive/AnalysisToolBase.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   AnalysisToolBase: () => (/* binding */ o)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/reactiveUtils.js */ "./node_modules/@arcgis/core/core/reactiveUtils.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_RandomLCG_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../core/RandomLCG.js */ "./node_modules/@arcgis/core/core/RandomLCG.js");
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _InteractiveToolBase_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./InteractiveToolBase.js */ "./node_modules/@arcgis/core/views/interactive/InteractiveToolBase.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
let o=class extends _InteractiveToolBase_js__WEBPACK_IMPORTED_MODULE_7__.InteractiveToolBase{constructor(s){super(s)}initialize(){this.addHandles((0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_1__.watch)((()=>this.analysisViewData.visible),(s=>this.visible=s),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_1__.syncAndInitial))}deactivate(){this.onDeactivate(),this.created||this.analysis.clear()}resetCreated(){this._set("created",!1)}};o=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_6__.subclass)("esri.views.interactive.AnalysisToolBase")],o);


/***/ }),

/***/ "./node_modules/@arcgis/core/views/interactive/ToolIntersector.js":
/*!************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/interactive/ToolIntersector.js ***!
  \************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   newToolIntersector: () => (/* binding */ o)
/* harmony export */ });
/* harmony import */ var _3d_webgl_engine_lib_Intersector_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../3d/webgl-engine/lib/Intersector.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/Intersector.js");
/* harmony import */ var _3d_webgl_engine_lib_IntersectorInterfaces_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../3d/webgl-engine/lib/IntersectorInterfaces.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/IntersectorInterfaces.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
function o(o){const t=new _3d_webgl_engine_lib_Intersector_js__WEBPACK_IMPORTED_MODULE_0__.Intersector(o);return t.options.store=_3d_webgl_engine_lib_IntersectorInterfaces_js__WEBPACK_IMPORTED_MODULE_1__.StoreResults.MIN,t.options.excludeLabels=!0,t}


/***/ })

};

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmVuZG9ycy1ub2RlX21vZHVsZXNfYXJjZ2lzX2NvcmVfdmlld3NfM2RfYW5hbHlzaXNfVmlld3NoZWRBbmFseXNpc1ZpZXczRF9qcy1ub2RlX21vZHVsZXNfYXJjLTExYzZjMy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUM4cUIsb0JBQW9CLDREQUFDLGtCQUFrQix5REFBQyxHQUFHLGVBQWUseUpBQXlKLFlBQVksK0NBQStDLFVBQVUsT0FBTywyREFBQyxvTkFBb04saUZBQUMsMkJBQTJCLHVEQUFDLEVBQUUsc0ZBQUMsRUFBRSxLQUFLLDJEQUFDLE9BQU8sT0FBTyxnQkFBZ0Isa0NBQWtDLHVEQUFDLEVBQUUsc0ZBQUMsRUFBRSxrQ0FBa0MsTUFBTSxPQUFPLE9BQU8sZ0JBQWdCLHFDQUFxQyx1REFBQyxFQUFFLHNGQUFDLEVBQUUsaUNBQWlDLE9BQU8sZ0JBQWdCLEVBQUUsOEVBQUMsS0FBSyw4REFBQyxXQUFXLGtGQUFDLGdEQUFnRCx1REFBQyxFQUFFLHNGQUFDLEVBQUUsa0NBQWtDLGNBQWMsT0FBTyxPQUFPLGdCQUFnQiw4QkFBOEIsdURBQUMsRUFBRSxzRkFBQyxFQUFFLGtDQUFrQyxjQUFjLE9BQU8sT0FBTyxnQkFBZ0IsK0NBQStDLHVEQUFDLEVBQUUsc0ZBQUMsRUFBRSxrQ0FBa0MsY0FBYyxPQUFPLE9BQU8sZ0JBQWdCLDZDQUE2Qyx1REFBQyxFQUFFLHNGQUFDLENBQUMsK0VBQUMsaUNBQWlDLHVEQUFDLEVBQUUsc0ZBQUMsRUFBRSxrQkFBa0IsU0FBUywrQkFBK0IsdURBQUMsRUFBRSx1RkFBQywrQkFBb0Q7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDSm5oRTtBQUNBO0FBQ0E7QUFDQTtBQUM0WixnQkFBZ0IsbUJBQW1CLGNBQWMsdUJBQXVCLG9DQUFvQyxXQUFXLDJMQUEyTCxFQUFFLEdBQUcsRUFBRSxFQUFFLFNBQVMsTUFBTSxPQUFPLGlCQUFpQixtQkFBbUIsbUNB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QTtBQUNBO0FBQ3FYLG9CQUFvQix3RUFBQyxDQUFDLGVBQWUsU0FBUyxhQUFhLGdCQUFnQiw2REFBQyx5REFBeUQsa0VBQUMsR0FBRyxhQUFhLHdEQUF3RCxlQUFlLDBCQUEwQixFQUFFLHVEQUFDLEVBQUUsc0ZBQUMsZ0RBQThFOzs7Ozs7Ozs7Ozs7Ozs7OztBQ0poc0I7QUFDQTtBQUNBO0FBQ0E7QUFDbUosY0FBYyxZQUFZLDRFQUFDLElBQUksdUJBQXVCLHVGQUFDLGtDQUFrRSIsInNvdXJjZXMiOlsid2VicGFjazovL3ByZWNpc2lvbmZhcm1zLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS9hbmFseXNpcy9WaWV3c2hlZC5qcyIsIndlYnBhY2s6Ly9wcmVjaXNpb25mYXJtcy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvYW5hbHlzaXMvZmVhdHVyZVJlZmVyZW5jZVV0aWxzLmpzIiwid2VicGFjazovL3ByZWNpc2lvbmZhcm1zLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS9jaHVua3MvVmlld3NoZWQuZ2xzbC5qcyIsIndlYnBhY2s6Ly9wcmVjaXNpb25mYXJtcy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvM2QvYW5hbHlzaXMvQW5hbHlzaXNWaWV3M0QuanMiLCJ3ZWJwYWNrOi8vcHJlY2lzaW9uZmFybXMvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzNkL2FuYWx5c2lzL1NsaWNlL3NsaWNlVG9vbENvbmZpZy5qcyIsIndlYnBhY2s6Ly9wcmVjaXNpb25mYXJtcy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvM2QvYW5hbHlzaXMvVmlld3NoZWQvQXJyb3dNYW5pcHVsYXRvci5qcyIsIndlYnBhY2s6Ly9wcmVjaXNpb25mYXJtcy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvM2QvYW5hbHlzaXMvVmlld3NoZWQvRmllbGRPZlZpZXdNYW5pcHVsYXRpb24uanMiLCJ3ZWJwYWNrOi8vcHJlY2lzaW9uZmFybXMvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzNkL2FuYWx5c2lzL1ZpZXdzaGVkL1NjYWxlT3JpZW50TWFuaXB1bGF0aW9uLmpzIiwid2VicGFjazovL3ByZWNpc2lvbmZhcm1zLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8zZC9hbmFseXNpcy9WaWV3c2hlZC9WaWV3c2hlZEFuYWx5c2lzVmlzdWFsaXphdGlvbi5qcyIsIndlYnBhY2s6Ly9wcmVjaXNpb25mYXJtcy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvM2QvYW5hbHlzaXMvVmlld3NoZWQvVmlld3NoZWRDb21wdXRlZERhdGEuanMiLCJ3ZWJwYWNrOi8vcHJlY2lzaW9uZmFybXMvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzNkL2FuYWx5c2lzL1ZpZXdzaGVkL1ZpZXdzaGVkQ29uZmlndXJhdGlvbi5qcyIsIndlYnBhY2s6Ly9wcmVjaXNpb25mYXJtcy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvM2QvYW5hbHlzaXMvVmlld3NoZWQvVmlld3NoZWRTdWJUb29sLmpzIiwid2VicGFjazovL3ByZWNpc2lvbmZhcm1zLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8zZC9hbmFseXNpcy9WaWV3c2hlZC9WaWV3c2hlZFRvb2wuanMiLCJ3ZWJwYWNrOi8vcHJlY2lzaW9uZmFybXMvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzNkL2FuYWx5c2lzL1ZpZXdzaGVkL1ZpZXdzaGVkVmlzdWFsaXphdGlvbi5qcyIsIndlYnBhY2s6Ly9wcmVjaXNpb25mYXJtcy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvM2QvYW5hbHlzaXMvVmlld3NoZWQvdmlld3NoZWRUb29sTWFuaXB1bGF0b3JVdGlscy5qcyIsIndlYnBhY2s6Ly9wcmVjaXNpb25mYXJtcy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvM2QvYW5hbHlzaXMvVmlld3NoZWQvdmlld3NoZWRUb29sVXRpbHMuanMiLCJ3ZWJwYWNrOi8vcHJlY2lzaW9uZmFybXMvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzNkL2FuYWx5c2lzL1ZpZXdzaGVkQW5hbHlzaXNWaWV3M0QuanMiLCJ3ZWJwYWNrOi8vcHJlY2lzaW9uZmFybXMvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzNkL2ludGVyYWN0aXZlL3Zpc3VhbEVsZW1lbnRzL1ZpZXdzaGVkU2hhcGVWaXN1YWxFbGVtZW50LmpzIiwid2VicGFjazovL3ByZWNpc2lvbmZhcm1zLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8zZC93ZWJnbC1lbmdpbmUvY29yZS9zaGFkZXJMaWJyYXJ5L3V0aWwvTG9jYWxGcm9tU2NyZWVuU3BhY2UuZ2xzbC5qcyIsIndlYnBhY2s6Ly9wcmVjaXNpb25mYXJtcy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvM2Qvd2ViZ2wtZW5naW5lL2xpYi9WaWV3c2hlZC5qcyIsIndlYnBhY2s6Ly9wcmVjaXNpb25mYXJtcy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvM2Qvd2ViZ2wtZW5naW5lL2xpYi9WaWV3c2hlZEZhY2VDYW1lcmEuanMiLCJ3ZWJwYWNrOi8vcHJlY2lzaW9uZmFybXMvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzNkL3dlYmdsLWVuZ2luZS9saWIvVmlld3NoZWRTaGFkb3dNYXAuanMiLCJ3ZWJwYWNrOi8vcHJlY2lzaW9uZmFybXMvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzNkL3dlYmdsLWVuZ2luZS9tYXRlcmlhbHMvVHJpYW5nbGVNYXRlcmlhbC5qcyIsIndlYnBhY2s6Ly9wcmVjaXNpb25mYXJtcy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvM2Qvd2ViZ2wtZW5naW5lL3NoYWRlcnMvVmlld3NoZWRUZWNobmlxdWUuanMiLCJ3ZWJwYWNrOi8vcHJlY2lzaW9uZmFybXMvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzL2FuYWx5c2lzL2FuYWx5c2lzVmlld1V0aWxzLmpzIiwid2VicGFjazovL3ByZWNpc2lvbmZhcm1zLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy9pbnRlcmFjdGl2ZS9BbmFseXNpc1Rvb2xCYXNlLmpzIiwid2VicGFjazovL3ByZWNpc2lvbmZhcm1zLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy9pbnRlcmFjdGl2ZS9Ub29sSW50ZXJzZWN0b3IuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMzMvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtfIGFzIGV9ZnJvbVwiLi4vY2h1bmtzL3RzbGliLmVzNi5qc1wiO2ltcG9ydHtmZWF0dXJlUmVmZXJlbmNlRXF1YWxzIGFzIHIsZmVhdHVyZVJlZmVyZW5jZVByb3BlcnR5IGFzIGl9ZnJvbVwiLi9mZWF0dXJlUmVmZXJlbmNlVXRpbHMuanNcIjtpbXBvcnQgbyBmcm9tXCIuLi9jb3JlL0Nsb25hYmxlLmpzXCI7aW1wb3J0e2N5Y2xpY2FsRGVncmVlcyBhcyB0fWZyb21cIi4uL2NvcmUvQ3ljbGljYWwuanNcIjtpbXBvcnQgcyBmcm9tXCIuLi9jb3JlL0pTT05TdXBwb3J0LmpzXCI7aW1wb3J0e2VxdWFsc01heWJlIGFzIGF9ZnJvbVwiLi4vY29yZS9tYXliZS5qc1wiO2ltcG9ydHtwcm9wZXJ0eSBhcyBsfWZyb21cIi4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvcHJvcGVydHkuanNcIjtpbXBvcnR7Y2FzdCBhcyBufWZyb21cIi4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvY2FzdC5qc1wiO2ltcG9ydFwiLi4vY29yZS9oYXMuanNcIjtpbXBvcnRcIi4uL2NvcmUvUmFuZG9tTENHLmpzXCI7aW1wb3J0e3N1YmNsYXNzIGFzIHB9ZnJvbVwiLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9zdWJjbGFzcy5qc1wiO2ltcG9ydHtlbnN1cmVOdW1iZXIgYXMgbX1mcm9tXCIuLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9lbnN1cmVUeXBlLmpzXCI7aW1wb3J0IHUgZnJvbVwiLi4vZ2VvbWV0cnkvUG9pbnQuanNcIjtsZXQgYz1jbGFzcyBleHRlbmRzKHMuSlNPTlN1cHBvcnRNaXhpbihvKSl7Y29uc3RydWN0b3IoZSl7c3VwZXIoZSksdGhpcy5vYnNlcnZlcj1udWxsLHRoaXMuZmFyRGlzdGFuY2U9MWUzLHRoaXMuaGVhZGluZz0wLHRoaXMudGlsdD05MCx0aGlzLmhvcml6b250YWxGaWVsZE9mVmlldz00NSx0aGlzLnZlcnRpY2FsRmllbGRPZlZpZXc9NDUsdGhpcy5mZWF0dXJlPW51bGx9Z2V0IHZhbGlkKCl7cmV0dXJuIG51bGwhPXRoaXMub2JzZXJ2ZXImJnRoaXMuZmFyRGlzdGFuY2U+MH1lcXVhbHMoZSl7cmV0dXJuIGEodGhpcy5vYnNlcnZlcixlLm9ic2VydmVyKSYmdGhpcy5mYXJEaXN0YW5jZT09PWUuZmFyRGlzdGFuY2UmJnRoaXMuaGVhZGluZz09PWUuaGVhZGluZyYmdGhpcy50aWx0PT09ZS50aWx0JiZ0aGlzLmhvcml6b250YWxGaWVsZE9mVmlldz09PWUuaG9yaXpvbnRhbEZpZWxkT2ZWaWV3JiZ0aGlzLnZlcnRpY2FsRmllbGRPZlZpZXc9PT1lLnZlcnRpY2FsRmllbGRPZlZpZXcmJnIodGhpcy5mZWF0dXJlLGUuZmVhdHVyZSl9fTtlKFtsKHt0eXBlOnUsanNvbjp7d3JpdGU6e2lzUmVxdWlyZWQ6ITB9fX0pXSxjLnByb3RvdHlwZSxcIm9ic2VydmVyXCIsdm9pZCAwKSxlKFtsKHt0eXBlOk51bWJlcixub25OdWxsYWJsZTohMCxyYW5nZTp7bWluOjB9LGpzb246e3dyaXRlOntpc1JlcXVpcmVkOiEwfX19KV0sYy5wcm90b3R5cGUsXCJmYXJEaXN0YW5jZVwiLHZvaWQgMCksZShbbCh7dHlwZTpOdW1iZXIsbm9uTnVsbGFibGU6ITAsanNvbjp7d3JpdGU6e2lzUmVxdWlyZWQ6ITB9fX0pLG4oKGU9PnQubm9ybWFsaXplKG0oZSksdm9pZCAwLCEwKSkpXSxjLnByb3RvdHlwZSxcImhlYWRpbmdcIix2b2lkIDApLGUoW2woe3R5cGU6TnVtYmVyLG5vbk51bGxhYmxlOiEwLHJhbmdlOnttaW46MCxtYXg6MTgwfSxqc29uOnt3cml0ZTp7aXNSZXF1aXJlZDohMH19fSldLGMucHJvdG90eXBlLFwidGlsdFwiLHZvaWQgMCksZShbbCh7dHlwZTpOdW1iZXIsbm9uTnVsbGFibGU6ITAscmFuZ2U6e21pbjowLG1heDozNjB9LGpzb246e3dyaXRlOntpc1JlcXVpcmVkOiEwfX19KV0sYy5wcm90b3R5cGUsXCJob3Jpem9udGFsRmllbGRPZlZpZXdcIix2b2lkIDApLGUoW2woe3R5cGU6TnVtYmVyLG5vbk51bGxhYmxlOiEwLHJhbmdlOnttaW46MCxtYXg6MTgwfSxqc29uOnt3cml0ZTp7aXNSZXF1aXJlZDohMH19fSldLGMucHJvdG90eXBlLFwidmVydGljYWxGaWVsZE9mVmlld1wiLHZvaWQgMCksZShbbChpKV0sYy5wcm90b3R5cGUsXCJmZWF0dXJlXCIsdm9pZCAwKSxlKFtsKHtyZWFkT25seTohMCxqc29uOntyZWFkOiExfX0pXSxjLnByb3RvdHlwZSxcInZhbGlkXCIsbnVsbCksYz1lKFtwKFwiZXNyaS5hbmFseXNpcy5WaWV3c2hlZFwiKV0sYyk7ZXhwb3J0e2MgYXMgZGVmYXVsdH07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4zMy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e2EgYXMgZSxsIGFzIHQsYiBhcyByfWZyb21cIi4uL2NodW5rcy92ZWMzMi5qc1wiO2ltcG9ydHtjcmVhdGUgYXMgbn1mcm9tXCIuLi9jb3JlL2xpYnMvZ2wtbWF0cml4LTIvZmFjdG9yaWVzL3ZlYzNmNjQuanNcIjtpbXBvcnR7Y3JlYXRlIGFzIGwsZnJvbVBvaW50cyBhcyBvfWZyb21cIi4uL2dlb21ldHJ5L3N1cHBvcnQvcmF5LmpzXCI7aW1wb3J0e1N0b3JlUmVzdWx0cyBhcyBpfWZyb21cIi4uL3ZpZXdzLzNkL3dlYmdsLWVuZ2luZS9saWIvSW50ZXJzZWN0b3JJbnRlcmZhY2VzLmpzXCI7aW1wb3J0e3RvR3JhcGhpYyBhcyB1LGhhc0xvZCBhcyBzLGdldEludGVyc2VjdGVkRmVhdHVyZUJTUmFkaXVzIGFzIGF9ZnJvbVwiLi4vdmlld3MvM2Qvd2ViZ2wtZW5naW5lL2xpYi9pbnRlcnNlY3RvclV0aWxzQ29udmVyc2lvbnMuanNcIjtmdW5jdGlvbiBjKGUsdCl7cmV0dXJuIGQoZSk9PT1kKHQpfWZ1bmN0aW9uIGQoZSl7aWYobnVsbD09ZSlyZXR1cm4gbnVsbDtjb25zdCB0PW51bGwhPWUubGF5ZXI/ZS5sYXllci5pZDpcIlwiO2xldCByPW51bGw7cmV0dXJuIHI9bnVsbCE9ZS5vYmplY3RJZD9lLm9iamVjdElkOm51bGwhPWUubGF5ZXImJlwib2JqZWN0SWRGaWVsZFwiaW4gZS5sYXllciYmbnVsbCE9ZS5sYXllci5vYmplY3RJZEZpZWxkJiZudWxsIT1lLmF0dHJpYnV0ZXM/ZS5hdHRyaWJ1dGVzW2UubGF5ZXIub2JqZWN0SWRGaWVsZF06ZS51aWQsbnVsbD09cj9udWxsOmBvLSR7dH0tJHtyfWB9Y29uc3QgYj17anNvbjp7d3JpdGU6e3dyaXRlcjpmLHRhcmdldDp7XCJmZWF0dXJlLmxheWVySWRcIjp7dHlwZTpbTnVtYmVyLFN0cmluZ10saXNSZXF1aXJlZDohMH0sXCJmZWF0dXJlLm9iamVjdElkXCI6e3R5cGU6W051bWJlcixTdHJpbmddLGlzUmVxdWlyZWQ6ITB9fX0sb3JpZ2luczp7XCJ3ZWItc2NlbmVcIjp7cmVhZDpJfX19fTtmdW5jdGlvbiBmKGUsdCl7bnVsbCE9ZT8ubGF5ZXI/Lm9iamVjdElkRmllbGQmJm51bGwhPWUuYXR0cmlidXRlcyYmKHQuZmVhdHVyZT17bGF5ZXJJZDplLmxheWVyLmlkLG9iamVjdElkOmUuYXR0cmlidXRlc1tlLmxheWVyLm9iamVjdElkRmllbGRdfSl9ZnVuY3Rpb24gSShlKXtpZihudWxsIT1lLmxheWVySWQmJm51bGwhPWUub2JqZWN0SWQpcmV0dXJue3VpZDpudWxsLGxheWVyOntpZDplLmxheWVySWQsb2JqZWN0SWRGaWVsZDpcIk9iamVjdElkXCJ9LGF0dHJpYnV0ZXM6e09iamVjdElkOmUub2JqZWN0SWR9fX1mdW5jdGlvbiBtKGwscyxhLGMpe2NvbnN0e3NjZW5lSW50ZXJzZWN0aW9uSGVscGVyOmJ9PWwse29ic2VydmVyOmYsb2JzZXJ2ZXJGZWF0dXJlSWQ6SSx0YXJnZXRGZWF0dXJlSWQ6bSx0YXJnZXQ6Z309YTtpZihudWxsPT1JJiZudWxsPT1tKXJldHVybjtjfHwoYz1lPT5lKSxlKHAsZixnKTtjb25zdCB2PXQocCksUz0xO3IocCxmLHAsUy92KTtjb25zdCBGPW8ocCxnLHkpO3Mub3B0aW9ucy5zdG9yZT1pLkFMTCxiLmludGVyc2VjdFRvb2xJbnRlcnNlY3RvclJheShGLHMpO2xldCBOPW51bGwsdz1udWxsLFI9bnVsbCxBPW51bGw7Zm9yKGNvbnN0IGUgb2Ygcy5yZXN1bHRzLmFsbCl7Y29uc3QgdD11KGUsbCk7aWYobnVsbD09dHx8bnVsbD09ZS5kaXN0YW5jZUluUmVuZGVyU3BhY2UpY29udGludWU7Y29uc3Qgcj1kKHQpO251bGwhPXImJihudWxsIT1JJiZyPT09SSYmKE4/Pz1jKGooZSxsLHYpKSxlLmRpc3RhbmNlSW5SZW5kZXJTcGFjZS1TPE4mJihSPWUpKSxudWxsIT1tJiZyPT09bSYmKHc/Pz1jKGooZSxsLHYpKSxudWxsPT1BJiZlLmRpc3RhbmNlSW5SZW5kZXJTcGFjZS1TPHYmJnYtZS5kaXN0YW5jZUluUmVuZGVyU3BhY2UrUzx3JiYoQT1lKSkpfWNvbnN0e29ic2VydmVyQWRqdXN0ZWQ6VCx0YXJnZXRBZGp1c3RlZDpofT1hO1I/LmdldEludGVyc2VjdGlvblBvaW50KFQpP2Eub2JzZXJ2ZXJTdXJmYWNlTm9ybWFsPVIuZ2V0VHJhbnNmb3JtZWROb3JtYWwobigpKTphLm9ic2VydmVyU3VyZmFjZU5vcm1hbD1udWxsLEE/LmdldEludGVyc2VjdGlvblBvaW50KGgpP2EudGFyZ2V0U3VyZmFjZU5vcm1hbD1BLmdldFRyYW5zZm9ybWVkTm9ybWFsKG4oKSk6YS50YXJnZXRTdXJmYWNlTm9ybWFsPW51bGx9ZnVuY3Rpb24gaihlLHQscil7aWYocyhlKSl7Y29uc3Qgbj1hKGUsdCk7aWYobnVsbCE9bilyZXR1cm4gTWF0aC5taW4obipnLHIpfXJldHVybiAxZS01KnJ9Y29uc3QgZz0uMDUseT1sKCkscD1uKCk7ZXhwb3J0e2MgYXMgZmVhdHVyZVJlZmVyZW5jZUVxdWFscyxiIGFzIGZlYXR1cmVSZWZlcmVuY2VQcm9wZXJ0eSxkIGFzIGdldEZlYXR1cmVJZCxtIGFzIHVwZGF0ZVBvaW50c0Zyb21GZWF0dXJlUmVmZXJlbmNlfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjMzL2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7aW52ZXJ0T3JJZGVudGl0eSBhcyBlfWZyb21cIi4uL2NvcmUvbGlicy9nbC1tYXRyaXgtMi9tYXRoL21hdDQuanNcIjtpbXBvcnR7SURFTlRJVFkgYXMgaSxjcmVhdGUgYXMgb31mcm9tXCIuLi9jb3JlL2xpYnMvZ2wtbWF0cml4LTIvZmFjdG9yaWVzL21hdDRmNjQuanNcIjtpbXBvcnR7U2NyZWVuU3BhY2VQYXNzIGFzIHR9ZnJvbVwiLi4vdmlld3MvM2Qvd2ViZ2wtZW5naW5lL2NvcmUvc2hhZGVyTGlicmFyeS9TY3JlZW5TcGFjZVBhc3MuZ2xzbC5qc1wiO2ltcG9ydHtSZWFkRGVwdGggYXMgc31mcm9tXCIuLi92aWV3cy8zZC93ZWJnbC1lbmdpbmUvY29yZS9zaGFkZXJMaWJyYXJ5L291dHB1dC9SZWFkRGVwdGguZ2xzbC5qc1wiO2ltcG9ydHtQaVV0aWxzIGFzIGF9ZnJvbVwiLi4vdmlld3MvM2Qvd2ViZ2wtZW5naW5lL2NvcmUvc2hhZGVyTGlicmFyeS9zaGFkaW5nL1BpVXRpbHMuZ2xzbC5qc1wiO2ltcG9ydHtMb2NhbEZyb21TY3JlZW5TcGFjZVBhc3NQYXJhbWV0ZXJzIGFzIHIsbG9jYWxGcm9tU2NyZWVuU3BhY2UgYXMgbn1mcm9tXCIuLi92aWV3cy8zZC93ZWJnbC1lbmdpbmUvY29yZS9zaGFkZXJMaWJyYXJ5L3V0aWwvTG9jYWxGcm9tU2NyZWVuU3BhY2UuZ2xzbC5qc1wiO2ltcG9ydHtGbG9hdDJQYXNzVW5pZm9ybSBhcyBkfWZyb21cIi4uL3ZpZXdzLzNkL3dlYmdsLWVuZ2luZS9jb3JlL3NoYWRlck1vZHVsZXMvRmxvYXQyUGFzc1VuaWZvcm0uanNcIjtpbXBvcnR7RmxvYXQzUGFzc1VuaWZvcm0gYXMgbH1mcm9tXCIuLi92aWV3cy8zZC93ZWJnbC1lbmdpbmUvY29yZS9zaGFkZXJNb2R1bGVzL0Zsb2F0M1Bhc3NVbmlmb3JtLmpzXCI7aW1wb3J0e0Zsb2F0UGFzc1VuaWZvcm0gYXMgaH1mcm9tXCIuLi92aWV3cy8zZC93ZWJnbC1lbmdpbmUvY29yZS9zaGFkZXJNb2R1bGVzL0Zsb2F0UGFzc1VuaWZvcm0uanNcIjtpbXBvcnR7RmxvYXRzUGFzc1VuaWZvcm0gYXMgdn1mcm9tXCIuLi92aWV3cy8zZC93ZWJnbC1lbmdpbmUvY29yZS9zaGFkZXJNb2R1bGVzL0Zsb2F0c1Bhc3NVbmlmb3JtLmpzXCI7aW1wb3J0e2dsc2wgYXMgY31mcm9tXCIuLi92aWV3cy8zZC93ZWJnbC1lbmdpbmUvY29yZS9zaGFkZXJNb2R1bGVzL2dsc2wuanNcIjtpbXBvcnR7SW50ZWdlclBhc3NVbmlmb3JtIGFzIHd9ZnJvbVwiLi4vdmlld3MvM2Qvd2ViZ2wtZW5naW5lL2NvcmUvc2hhZGVyTW9kdWxlcy9JbnRlZ2VyUGFzc1VuaWZvcm0uanNcIjtpbXBvcnR7TWF0cml4NEJpbmRVbmlmb3JtIGFzIGZ9ZnJvbVwiLi4vdmlld3MvM2Qvd2ViZ2wtZW5naW5lL2NvcmUvc2hhZGVyTW9kdWxlcy9NYXRyaXg0QmluZFVuaWZvcm0uanNcIjtpbXBvcnR7TWF0cml4NHNQYXNzVW5pZm9ybSBhcyBwfWZyb21cIi4uL3ZpZXdzLzNkL3dlYmdsLWVuZ2luZS9jb3JlL3NoYWRlck1vZHVsZXMvTWF0cml4NHNQYXNzVW5pZm9ybS5qc1wiO2ltcG9ydHtUZXh0dXJlMkRCaW5kVW5pZm9ybSBhcyBtfWZyb21cIi4uL3ZpZXdzLzNkL3dlYmdsLWVuZ2luZS9jb3JlL3NoYWRlck1vZHVsZXMvVGV4dHVyZTJEQmluZFVuaWZvcm0uanNcIjtpbXBvcnR7VGV4dHVyZTJEUGFzc1VuaWZvcm0gYXMgZ31mcm9tXCIuLi92aWV3cy8zZC93ZWJnbC1lbmdpbmUvY29yZS9zaGFkZXJNb2R1bGVzL1RleHR1cmUyRFBhc3NVbmlmb3JtLmpzXCI7aW1wb3J0e1NoYWRlckJ1aWxkZXIgYXMgdX1mcm9tXCIuLi92aWV3cy93ZWJnbC9TaGFkZXJCdWlsZGVyLmpzXCI7Y2xhc3MgeCBleHRlbmRzIHJ7Y29uc3RydWN0b3IoKXtzdXBlciguLi5hcmd1bWVudHMpLHRoaXMuc2hhZG93TWFwPXtkZXB0aFRleHR1cmU6bnVsbCxuZWFyRmFyOlsxLDEwMF0sbnVtQWN0aXZlRmFjZXM6MSxhdGxhc1JlZ2lvbnM6W1swLDAsMSwxXV19LHRoaXMudGFyZ2V0VmVjdG9yPVsxLDAsMF0sdGhpcy51cFZlY3Rvcj1bMCwwLDFdLHRoaXMuZm92cz1bNDUsNDVdLHRoaXMuaGVhZGluZ0FuZFRpbHQ9WzAsMF0sdGhpcy5vYnNlcnZlck9mZnNldD1bMCwwLDBdLHRoaXMucHJvamVjdGlvbk1hdHJpY2VzPWkuZmxhdCgpLHRoaXMudmlld01hdHJpY2VzPWkuZmxhdCgpLHRoaXMudm9sdW1lT2Zmc2V0PTB9fWZ1bmN0aW9uIFYoKXtjb25zdCBpPW5ldyB1LG89aS5mcmFnbWVudDtyZXR1cm4gaS5pbmNsdWRlKHQpLGkuaW5jbHVkZShuKSxvLmluY2x1ZGUocyksby5pbmNsdWRlKGEpLG8udW5pZm9ybXMuYWRkKG5ldyBtKFwiZGVwdGhUZXh0dXJlXCIsKGU9PmUuZGVwdGg/LmF0dGFjaG1lbnQpKSxuZXcgZihcImludmVyc2VQcm9qZWN0aW9uTWF0cml4XCIsKGU9PmUuY2FtZXJhLmludmVyc2VQcm9qZWN0aW9uTWF0cml4KSksbmV3IGYoXCJpbnZlcnNlVmlld05vcm1hbE1hdHJpeFwiLCgoe2NhbWVyYTppfSk9PmUoYixpLnZpZXdJbnZlcnNlVHJhbnNwb3NlTWF0cml4KSkpLG5ldyBsKFwidmlld3NoZWRPYnNlcnZlck9mZnNldFwiLChlPT5lLm9ic2VydmVyT2Zmc2V0KSksbmV3IGwoXCJ2aWV3c2hlZFRhcmdldFZlY3RvclwiLChlPT5lLnRhcmdldFZlY3RvcikpLG5ldyBsKFwidmlld3NoZWRVcFZlY3RvclwiLChlPT5lLnVwVmVjdG9yKSksbmV3IGQoXCJ2aWV3c2hlZEZPVnNcIiwoZT0+ZS5mb3ZzKSksbmV3IGQoXCJ2aWV3c2hlZEhlYWRpbmdBbmRUaWx0XCIsKGU9PmUuaGVhZGluZ0FuZFRpbHQpKSxuZXcgZChcInZpZXdzaGVkTmVhckZhclwiLChlPT5lLnNoYWRvd01hcC5uZWFyRmFyPz9bMSwxMDBdKSksbmV3IGgoXCJ2aWV3c2hlZFZvbHVtZU9mZnNldFwiLChlPT5lLnZvbHVtZU9mZnNldCkpLG5ldyBnKFwidmlld3NoZWRTaGFkb3dNYXBcIiwoZT0+ZS5zaGFkb3dNYXAuZGVwdGhUZXh0dXJlKSksbmV3IHAoXCJ2aWV3c2hlZFByb2plY3Rpb25NYXRyaWNlc1wiLChlPT5lLnByb2plY3Rpb25NYXRyaWNlcyksNiksbmV3IHAoXCJ2aWV3c2hlZFZpZXdNYXRyaWNlc1wiLChlPT5lLnZpZXdNYXRyaWNlcyksNiksbmV3IHcoXCJ2aWV3c2hlZE51bUZhY2VzXCIsKGU9PmUuc2hhZG93TWFwLm51bUFjdGl2ZUZhY2VzKSksbmV3IHYoXCJ2aWV3c2hlZEF0bGFzUmVnaW9uc1wiLChlPT5lLnNoYWRvd01hcC5hdGxhc1JlZ2lvbnMuZmxhdCgpKSwyNCksbmV3IGcoXCJub3JtYWxNYXBcIiwoZT0+ZS5ub3JtYWxzKSkpLG8uY29uc3RhbnRzLmFkZChcInZpc2libGVDb2xvclwiLFwidmVjNFwiLFswLDEsMCwuNV0pLG8uY29uc3RhbnRzLmFkZChcIm9jY2x1ZGVkQ29sb3JcIixcInZlYzRcIixbMSwwLDAsLjVdKSxvLmNvZGUuYWRkKGNgdmVjMiBnZXRWaWV3c2hlZFV2KHZlYzQgd29ybGRQb3NpdGlvbiwgaW50IGZhY2UpIHtcbm1hdDQgdmlld3NoZWRNYXRyaXggPSB2aWV3c2hlZFByb2plY3Rpb25NYXRyaWNlc1tmYWNlXTtcbnZlYzQgdmlld3NoZWRVdjQgPSB2aWV3c2hlZE1hdHJpeCAqIHdvcmxkUG9zaXRpb247XG52ZWMzIHZpZXdzaGVkVXYgPSB2aWV3c2hlZFV2NC54eXogLyB2aWV3c2hlZFV2NC53O1xucmV0dXJuIHZpZXdzaGVkVXYueHk7XG59XG5mbG9hdCB2aWV3c2hlZERlcHRoVG9GbG9hdChmbG9hdCBkZXB0aCkge1xucmV0dXJuIChkZXB0aCAtIHZpZXdzaGVkTmVhckZhclswXSkgLyAodmlld3NoZWROZWFyRmFyWzFdIC0gdmlld3NoZWROZWFyRmFyWzBdKTtcbn1cbmZsb2F0IGdldE9ydGhvZ3JhcGhpY0RlcHRoVG9WaWV3c2hlZCh2ZWM0IHdvcmxkUG9zaXRpb24sIGludCBmYWNlKSB7XG5tYXQ0IHZpZXdzaGVkVmlld01hdHJpeCA9IHZpZXdzaGVkVmlld01hdHJpY2VzW2ZhY2VdO1xudmVjNCB2aWV3c2hlZFV2NCA9IHZpZXdzaGVkVmlld01hdHJpeCAqIHdvcmxkUG9zaXRpb247XG52ZWMzIHZpZXdzaGVkVXYgPSB2aWV3c2hlZFV2NC54eXogLyB2aWV3c2hlZFV2NC53O1xuZmxvYXQgZGVwdGggPSAtdmlld3NoZWRVdi56O1xucmV0dXJuIHZpZXdzaGVkRGVwdGhUb0Zsb2F0KGRlcHRoKTtcbn1cbmZsb2F0IHZpZXdzaGVkUmVhZFNoYWRvd01hcERlcHRoKHNhbXBsZXIyRCBfdmlld3NoZWRTaGFkb3dtYXAsIGl2ZWMyIHV2KSB7XG5yZXR1cm4gdGV4ZWxGZXRjaChfdmlld3NoZWRTaGFkb3dtYXAsIHV2LCAwKS5yO1xufVxuZmxvYXQgdmlld3NoZWRGaWx0ZXJTaGFkb3coc2FtcGxlcjJEIF92aWV3c2hlZFNoYWRvd21hcCwgdmVjMiB1dikge1xudmVjMiB1dlNjYWxlZCA9IHV2ICogdmVjMih0ZXh0dXJlU2l6ZShfdmlld3NoZWRTaGFkb3dtYXAsIDApKTtcbnZlYzIgc3QgICAgPSBmcmFjdCh1dlNjYWxlZCk7XG5pdmVjMiBiYXNlID0gaXZlYzIodXZTY2FsZWQpO1xuZmxvYXQgczAwID0gdmlld3NoZWRSZWFkU2hhZG93TWFwRGVwdGgoIF92aWV3c2hlZFNoYWRvd21hcCwgaXZlYzIoYmFzZS54LCAgICAgYmFzZS55ICAgICkpO1xuZmxvYXQgczEwID0gdmlld3NoZWRSZWFkU2hhZG93TWFwRGVwdGgoIF92aWV3c2hlZFNoYWRvd21hcCwgaXZlYzIoYmFzZS54ICsgMSwgYmFzZS55ICAgICkpO1xuZmxvYXQgczExID0gdmlld3NoZWRSZWFkU2hhZG93TWFwRGVwdGgoIF92aWV3c2hlZFNoYWRvd21hcCwgaXZlYzIoYmFzZS54ICsgMSwgYmFzZS55ICsgMSkpO1xuZmxvYXQgczAxID0gdmlld3NoZWRSZWFkU2hhZG93TWFwRGVwdGgoIF92aWV3c2hlZFNoYWRvd21hcCwgaXZlYzIoYmFzZS54LCAgICAgYmFzZS55ICsgMSkpO1xucmV0dXJuIG1peChtaXgoczAwLCBzMTAsIHN0LngpLCBtaXgoczAxLCBzMTEsIHN0LngpLCBzdC55KTtcbn1cbmZsb2F0IHZpZXdzaGVkVGV4dHVyZUF0bGFzTG9va3VwKHNhbXBsZXIyRCBfdmlld3NoZWRTaGFkb3dtYXAsIHZlYzIgdXYsIHZlYzQgYXRsYXNSZWdpb24pIHtcbnZlYzIgYXRsYXNTY2FsZSA9IGF0bGFzUmVnaW9uLnp3IC0gYXRsYXNSZWdpb24ueHk7XG52ZWMyIHV2QXRsYXMgPSBmcmFjdCh1dikgKiBhdGxhc1NjYWxlICsgYXRsYXNSZWdpb24ueHk7XG5yZXR1cm4gdmlld3NoZWRGaWx0ZXJTaGFkb3coX3ZpZXdzaGVkU2hhZG93bWFwLCB1dkF0bGFzKTtcbn1cbmZsb2F0IGdldERlcHRoRnJvbVNoYWRvd01hcCh2ZWMyIHV2LCBpbnQgZmFjZSkge1xuaW50IGluZGV4ID0gNCAqIGZhY2U7XG5mbG9hdCB1bWluID0gdmlld3NoZWRBdGxhc1JlZ2lvbnNbaW5kZXhdO1xuZmxvYXQgdW1heCA9IHZpZXdzaGVkQXRsYXNSZWdpb25zW2luZGV4ICsgMV07XG5mbG9hdCB2bWluID0gdmlld3NoZWRBdGxhc1JlZ2lvbnNbaW5kZXggKyAyXTtcbmZsb2F0IHZtYXggPSB2aWV3c2hlZEF0bGFzUmVnaW9uc1tpbmRleCArIDNdO1xudmVjNCBhdGxhc1JlZ2lvbiA9IHZlYzQodW1pbiwgdm1pbiwgdW1heCwgdm1heCk7XG5yZXR1cm4gdmlld3NoZWRUZXh0dXJlQXRsYXNMb29rdXAodmlld3NoZWRTaGFkb3dNYXAsIHV2LCBhdGxhc1JlZ2lvbik7XG59XG5zdHJ1Y3QgVmlld3NoZWRQb2ludCB7XG5pbnQgZmFjZTtcbnZlYzIgdXY7XG5ib29sIGlzV2l0aGluO1xuZmxvYXQgb3J0aG9ncmFwaGljRGVwdGg7XG59O1xubWF0MyByb3RhdGlvbk1hdHJpeCh2ZWMzIGF4aXMsIGZsb2F0IGFuZ2xlKVxue1xuZmxvYXQgcyA9IHNpbihhbmdsZSk7XG5mbG9hdCBjID0gY29zKGFuZ2xlKTtcbmZsb2F0IG9jID0gMS4wIC0gYztcbnJldHVybiBtYXQzKFxub2MgKiBheGlzLnh4eiAqIGF4aXMueHl4ICsgdmVjMyhjLCBheGlzLnp5KSAqIHZlYzMoMS4sIC1zLCBzKSxcbm9jICogYXhpcy54eXkgKiBheGlzLnl5eiArIHZlYzMoYXhpcy56LCBjLCBheGlzLngpICogdmVjMyhzLCAxLiwgLXMpLFxub2MgKiBheGlzLnp5eiAqIGF4aXMueHp6ICsgdmVjMyhheGlzLnl4LCBjKSAqIHZlYzMoLXMsIHMsIDEuKVxuKTtcbn1cbmZsb2F0IGRpc3RhbmNlVG9QbGFuZSh2ZWMzIHBvc2l0aW9uLCB2ZWMzIG5vcm1hbCkge1xucmV0dXJuIGRvdChwb3NpdGlvbiwgbm9ybWFsKTtcbn1cbmJvb2wgb3V0c2lkZVZpZXdzaGVkKGZsb2F0IGRpc3RhbmNlKSB7XG5yZXR1cm4gZGlzdGFuY2UgPiAtdmlld3NoZWRWb2x1bWVPZmZzZXQ7XG59XG5ib29sIGlzV2l0aGluVmlld3NoZWQodmVjMyBwb3NpdGlvbikge1xuZmxvYXQgcG9zaXRpb25MZW5ndGggPSBsZW5ndGgocG9zaXRpb24gLSB2aWV3c2hlZE9ic2VydmVyT2Zmc2V0KTtcbmZsb2F0IGZhclNwaGVyZURpc3RhbmNlID0gcG9zaXRpb25MZW5ndGggLSB2aWV3c2hlZE5lYXJGYXJbMV07XG5pZiAob3V0c2lkZVZpZXdzaGVkKGZhclNwaGVyZURpc3RhbmNlKSkgeyByZXR1cm4gZmFsc2U7IH1cbmZsb2F0IG5lYXJTcGhlcmVEaXN0YW5jZSA9IHZpZXdzaGVkTmVhckZhclswXSAtIHBvc2l0aW9uTGVuZ3RoO1xuaWYgKG91dHNpZGVWaWV3c2hlZChuZWFyU3BoZXJlRGlzdGFuY2UpKSB7IHJldHVybiBmYWxzZTsgfVxudmVjMyB3ZXN0VmVjdG9yID0gbm9ybWFsaXplKGNyb3NzKHZpZXdzaGVkVXBWZWN0b3IsIHZpZXdzaGVkVGFyZ2V0VmVjdG9yKSk7XG5ib29sIGxlZnRPZlRhcmdldCA9IGRpc3RhbmNlVG9QbGFuZShwb3NpdGlvbiwgd2VzdFZlY3RvcikgPiAwLjA7XG5pZiAodmlld3NoZWRGT1ZzWzBdIDwgVFdPX1BJKSB7XG5mbG9hdCBob3JBbmdsZSA9IHZpZXdzaGVkRk9Wc1swXSAvIDIuMDtcbmhvckFuZ2xlID0gbGVmdE9mVGFyZ2V0ID8gaG9yQW5nbGUgOiAtaG9yQW5nbGU7XG52ZWMzIHNpZGVWZWN0b3IgPSB2aWV3c2hlZFRhcmdldFZlY3RvciAqIHJvdGF0aW9uTWF0cml4KHZpZXdzaGVkVXBWZWN0b3IsIGhvckFuZ2xlKTtcbmJvb2wgaW5Gcm9udCA9IGRpc3RhbmNlVG9QbGFuZShwb3NpdGlvbiwgc2lkZVZlY3RvcikgPiAwLjA7XG5pZiAoaW5Gcm9udCkge1xudmVjMyBzaWRlTm9ybWFsID0gY3Jvc3Modmlld3NoZWRVcFZlY3Rvciwgc2lkZVZlY3RvcikgKiAobGVmdE9mVGFyZ2V0ID8gMS4gOiAtMS4pO1xuZmxvYXQgc2lkZURpc3RhbmNlID0gZGlzdGFuY2VUb1BsYW5lKHBvc2l0aW9uLCBub3JtYWxpemUoc2lkZU5vcm1hbCkpO1xuaWYgKG91dHNpZGVWaWV3c2hlZChzaWRlRGlzdGFuY2UpKSB7IHJldHVybiBmYWxzZTsgfVxufSBlbHNlIGlmICh2aWV3c2hlZEZPVnNbMF0gPCBQSSkgeyByZXR1cm4gZmFsc2U7IH1cbn1cbmlmICh2aWV3c2hlZEZPVnNbMV0gPCBQSSkge1xuZmxvYXQgdCA9IGRvdCh2aWV3c2hlZFVwVmVjdG9yLCBwb3NpdGlvbik7XG52ZWMzIG5Qcm9qVmVjdG9yID0gbm9ybWFsaXplKHBvc2l0aW9uIC0gdCAqIHZpZXdzaGVkVXBWZWN0b3IpO1xuZmxvYXQgaGVhZGluZyA9IGFjb3MoY2xhbXAoZG90KG5vcm1hbGl6ZSh2aWV3c2hlZFRhcmdldFZlY3RvciksIG5Qcm9qVmVjdG9yKSwgLTEuMCwgMS4wKSk7XG5oZWFkaW5nID0gbGVmdE9mVGFyZ2V0ID8gaGVhZGluZyA6IC1oZWFkaW5nO1xuYm9vbCBhYm92ZVRhcmdldCA9IGRpc3RhbmNlVG9QbGFuZShwb3NpdGlvbiwgdmlld3NoZWRVcFZlY3RvcikgPiAwLjA7XG5mbG9hdCB2ZXJGT1YgPSB2aWV3c2hlZEZPVnNbMV0gLyAyLjA7XG52ZXJGT1YgPSBhYm92ZVRhcmdldCA/IC12ZXJGT1YgOiB2ZXJGT1Y7XG5tYXQzIHJvdGF0ZUJ5SGVhZGluZyA9IHJvdGF0aW9uTWF0cml4KHZpZXdzaGVkVXBWZWN0b3IsIGhlYWRpbmcpO1xudmVjMyBzaWRlVmVjdG9yID0gdmlld3NoZWRUYXJnZXRWZWN0b3IgKiByb3RhdGlvbk1hdHJpeCh3ZXN0VmVjdG9yLCB2ZXJGT1YpICogcm90YXRlQnlIZWFkaW5nO1xudmVjMyBsZWZ0VmVjdG9yID0gd2VzdFZlY3RvciAqIHJvdGF0ZUJ5SGVhZGluZztcbnZlYzMgc2lkZU5vcm1hbCA9IGNyb3NzKHNpZGVWZWN0b3IsIGxlZnRWZWN0b3IpICogKGFib3ZlVGFyZ2V0ID8gMS4gOiAtMS4pO1xuZmxvYXQgc2lkZURpc3RhbmNlID0gZGlzdGFuY2VUb1BsYW5lKHBvc2l0aW9uLCBub3JtYWxpemUoc2lkZU5vcm1hbCkpO1xuaWYgKG91dHNpZGVWaWV3c2hlZChzaWRlRGlzdGFuY2UpKSB7IHJldHVybiBmYWxzZTsgfVxufVxucmV0dXJuIHRydWU7XG59XG5ib29sIGdldFZpZXdzaGVkUG9pbnQodmVjNCBsb2NhbFBvc2l0aW9uLCBvdXQgVmlld3NoZWRQb2ludCBwb2ludCkge1xuZm9yKGludCBpPTA7IGkgPCB2aWV3c2hlZE51bUZhY2VzOyBpKyspIHtcbnZlYzIgdmlld3NoZWRVdiA9IGdldFZpZXdzaGVkVXYobG9jYWxQb3NpdGlvbiwgaSk7XG5pZiAodmlld3NoZWRVdi54ID4gMC4gJiYgdmlld3NoZWRVdi54IDwgMS4gJiYgdmlld3NoZWRVdi55ID4gMC4gJiYgdmlld3NoZWRVdi55IDwgMS4pIHtcbmZsb2F0IG9ydGhvRGVwdGggPSBnZXRPcnRob2dyYXBoaWNEZXB0aFRvVmlld3NoZWQobG9jYWxQb3NpdGlvbiwgaSk7XG5pZiAob3J0aG9EZXB0aCA+PSAwLikge1xuYm9vbCBpc1dpdGhpbiA9IGlzV2l0aGluVmlld3NoZWQobG9jYWxQb3NpdGlvbi54eXopO1xucG9pbnQgPSBWaWV3c2hlZFBvaW50KGksIHZpZXdzaGVkVXYsIGlzV2l0aGluLCBvcnRob0RlcHRoKTtcbnJldHVybiB0cnVlO1xufVxufVxufVxucmV0dXJuIGZhbHNlO1xufVxuZmxvYXQgbm9ybWFsQ29zQW5nbGUoZmxvYXQgbGluZWFyRGVwdGgsIHZlYzMgbG9jYWxQb3NpdGlvbikge1xudmVjNCBub3JtYWw0ID0gdGV4dHVyZShub3JtYWxNYXAsIHV2KTtcbnZlYzMgbm9ybWFsTiA9IG5vcm1hbGl6ZShub3JtYWw0Lnh5eiAqIDIuMCAtIDEuMCk7XG52ZWMzIG5vcm1hbCA9ICBub3JtYWxpemUoKGludmVyc2VWaWV3Tm9ybWFsTWF0cml4ICogdmVjNChub3JtYWxOLCAxLjApKS54eXopO1xudmVjMyB2aWV3aW5nRGlyID0gbm9ybWFsaXplKGxvY2FsUG9zaXRpb24pO1xucmV0dXJuIGRvdChub3JtYWwsIHZpZXdpbmdEaXIpO1xufWApLG8ubWFpbi5hZGQoY2BmbG9hdCBkZXB0aCA9IGRlcHRoRnJvbVRleHR1cmUoZGVwdGhUZXh0dXJlLCB1dik7XG5pZiAoZGVwdGggPj0gMS4wIHx8IGRlcHRoIDw9IDAuMCkge1xucmV0dXJuO1xufVxuZmxvYXQgbGluZWFyRGVwdGggPSBsaW5lYXJpemVEZXB0aChkZXB0aCk7XG52ZWM0IGxvY2FsUG9zaXRpb24gPSByZWNvbnN0cnVjdExvY2FsUG9zaXRpb24oZ2xfRnJhZ0Nvb3JkLnh5LCBsaW5lYXJEZXB0aCk7XG5WaWV3c2hlZFBvaW50IHBvaW50O1xuYm9vbCBmb3VuZEZhY2UgPSBnZXRWaWV3c2hlZFBvaW50KGxvY2FsUG9zaXRpb24sIHBvaW50KTtcbmlmICghZm91bmRGYWNlIHx8ICFwb2ludC5pc1dpdGhpbikge1xucmV0dXJuO1xufVxuZmxvYXQgdmlld3NoZWREZXB0aCA9IGdldERlcHRoRnJvbVNoYWRvd01hcChwb2ludC51diwgcG9pbnQuZmFjZSk7XG5mbG9hdCBkaXN0YW5jZSA9IHBvaW50Lm9ydGhvZ3JhcGhpY0RlcHRoO1xuYm9vbCB2aXNpYmxlID0gZGlzdGFuY2UgPCB2aWV3c2hlZERlcHRoO1xuZnJhZ0NvbG9yID0gdmlzaWJsZSA/IHZpc2libGVDb2xvciA6IG9jY2x1ZGVkQ29sb3I7XG5mbG9hdCBjb3NBbmdsZSA9IG5vcm1hbENvc0FuZ2xlKGxpbmVhckRlcHRoLCBsb2NhbFBvc2l0aW9uLnh5eik7XG5mbG9hdCB0aHJlc2hvbGQgPSAtMC4wMTtcbmlmIChjb3NBbmdsZSA+IHRocmVzaG9sZCkge1xuZnJhZ0NvbG9yID0gb2NjbHVkZWRDb2xvcjtcbn1gKSxpfWNvbnN0IGI9bygpLE09T2JqZWN0LmZyZWV6ZShPYmplY3QuZGVmaW5lUHJvcGVydHkoe19fcHJvdG9fXzpudWxsLFZpZXdzaGVkUGFzc1BhcmFtZXRlcnM6eCxidWlsZDpWfSxTeW1ib2wudG9TdHJpbmdUYWcse3ZhbHVlOlwiTW9kdWxlXCJ9KSk7ZXhwb3J0e3ggYXMgVixNIGFzIGEsViBhcyBifTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjMzL2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7XyBhcyBlfWZyb21cIi4uLy4uLy4uL2NodW5rcy90c2xpYi5lczYuanNcIjtpbXBvcnR7bWFrZUhhbmRsZSBhcyB0fWZyb21cIi4uLy4uLy4uL2NvcmUvaGFuZGxlVXRpbHMuanNcIjtpbXBvcnQgciBmcm9tXCIuLi8uLi8uLi9jb3JlL1Byb21pc2UuanNcIjtpbXBvcnR7cHJvcGVydHkgYXMgaX1mcm9tXCIuLi8uLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3Byb3BlcnR5LmpzXCI7aW1wb3J0XCIuLi8uLi8uLi9jb3JlL2hhcy5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vY29yZS9Mb2dnZXIuanNcIjtpbXBvcnRcIi4uLy4uLy4uL2NvcmUvUmFuZG9tTENHLmpzXCI7aW1wb3J0e3N1YmNsYXNzIGFzIG99ZnJvbVwiLi4vLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9zdWJjbGFzcy5qc1wiO2NvbnN0IHM9cz0+e2xldCBuPWNsYXNzIGV4dGVuZHMoci5Fc3JpUHJvbWlzZU1peGluKHMpKXtjb25zdHJ1Y3Rvcigpe3N1cGVyKC4uLmFyZ3VtZW50cyksdGhpcy5wYXJlbnQ9bnVsbCx0aGlzLl91c2VySW50ZXJhY3RpdmU9ITEsdGhpcy5faW50ZXJhY3RpdmVWaWV3TW9kZWxDb3VudD0wfWdldCBpbnRlcmFjdGl2ZSgpe3JldHVybiB0aGlzLl9pbnRlcmFjdGl2ZVZpZXdNb2RlbENvdW50PjB8fHRoaXMuX3VzZXJJbnRlcmFjdGl2ZX1zZXQgaW50ZXJhY3RpdmUoZSl7dGhpcy5fdXNlckludGVyYWN0aXZlPWV9Z2V0IHVwZGF0aW5nKCl7cmV0dXJuITF9Z2V0IHZpc2libGUoKXtyZXR1cm4gbnVsbD09dGhpcy5wYXJlbnR8fHRoaXMucGFyZW50LnZpc2libGUmJiF0aGlzLnBhcmVudC5zdXNwZW5kZWR9c2V0IHZpc2libGUoZSl7dGhpcy5fb3ZlcnJpZGVJZlNvbWUoXCJ2aXNpYmxlXCIsZSl9Zm9yY2VJbnRlcmFjdGl2ZSgpe3JldHVybiB0aGlzLl9pbnRlcmFjdGl2ZVZpZXdNb2RlbENvdW50KyssdCgoKCk9PnRoaXMuX2ludGVyYWN0aXZlVmlld01vZGVsQ291bnQtLSkpfX07cmV0dXJuIGUoW2koe2NvbnN0cnVjdE9ubHk6ITB9KV0sbi5wcm90b3R5cGUsXCJwYXJlbnRcIix2b2lkIDApLGUoW2koe2NvbnN0cnVjdE9ubHk6ITB9KV0sbi5wcm90b3R5cGUsXCJ2aWV3XCIsdm9pZCAwKSxlKFtpKHt0eXBlOkJvb2xlYW59KV0sbi5wcm90b3R5cGUsXCJpbnRlcmFjdGl2ZVwiLG51bGwpLGUoW2koKV0sbi5wcm90b3R5cGUsXCJfdXNlckludGVyYWN0aXZlXCIsdm9pZCAwKSxlKFtpKHtyZWFkT25seTohMH0pXSxuLnByb3RvdHlwZSxcInVwZGF0aW5nXCIsbnVsbCksZShbaSgpXSxuLnByb3RvdHlwZSxcInZpc2libGVcIixudWxsKSxlKFtpKCldLG4ucHJvdG90eXBlLFwiX2ludGVyYWN0aXZlVmlld01vZGVsQ291bnRcIix2b2lkIDApLG49ZShbbyhcImVzcmkudmlld3MuM2QuYW5hbHlzaXMuQW5hbHlzaXNWaWV3M0RcIildLG4pLG59O2V4cG9ydHtzIGFzIEFuYWx5c2lzVmlldzNEfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjMzL2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnQgaGFzIGZyb21cIi4uLy4uLy4uLy4uL2NvcmUvaGFzLmpzXCI7aW1wb3J0e2RlZzJyYWQgYXMgb31mcm9tXCIuLi8uLi8uLi8uLi9jb3JlL21hdGhVdGlscy5qc1wiO2NvbnN0IHQ9aGFzKFwibWFjXCIpP1wiTWV0YVwiOlwiQ29udHJvbFwiLHI9XCJTaGlmdFwiLHM9MixhPTEuMTUsYz0xLjE1LG09MjUwMCxoPS4wMixlPU1hdGguY29zKG8oNDUpKSxpPU1hdGguY29zKG8oNSkpLGY9Ljk1LHA9LjMsTT0yLGo9MSxsPTMsbj0xMSx4PTIyLjUsQz00MCxTPTQ4LFU9Mi4yNSxiPTQsZD0xLGc9LjMsaz02LHE9NCx1PTE2MDAsdj0uNDtleHBvcnR7cyBhcyBkaXNwbGF5Rm9jdXNNdWx0aXBsaWVyLHQgYXMgZm9yY2VIb3Jpem9udGFsTW9kaWZpZXIsciBhcyBmb3JjZVZlcnRpY2FsTW9kaWZpZXIsaCBhcyBpbml0aWFsRGVwdGhPZmZzZXRGcmFjLHYgYXMgaW5pdGlhbFBsYW5lSGFsZlNpemVWaWV3UHJvcG9ydGlvbix1IGFzIHBsYW5lTWluQmFzaXNTY3JlZW5MZW4yLGogYXMgcGxhbmVPdXRsaW5lV2lkdGgsTSBhcyBwbGFuZVByZXZpZXdPdXRsaW5lV2lkdGgsbSBhcyBwb2ludGVyTW92ZVRpbWVyTXMsZiBhcyBwcmV2aWV3RmFkZURvdFRocmVzaG9sZCxwIGFzIHByZXZpZXdGYWRlRHVyYXRpb25TZWNvbmRzLGsgYXMgcmVzaXplSGFuZGxlQ29ybmVySW5wdXRSYWRpdXMsYiBhcyByZXNpemVIYW5kbGVDb3JuZXJXaWR0aCxxIGFzIHJlc2l6ZUhhbmRsZUVkZ2VJbnB1dFJhZGl1cyxnIGFzIHJlc2l6ZUhhbmRsZUVkZ2VQYWRkaW5nRnJhYyxkIGFzIHJlc2l6ZUhhbmRsZUVkZ2VXaWR0aCxTIGFzIHNoaWZ0UmVzdGFydEFycm93TGVuZ3RoLFUgYXMgc2hpZnRSZXN0YXJ0QXJyb3dPdXRsaW5lV2lkdGgsQyBhcyBzaGlmdFJlc3RhcnRPZmZzZXREaXN0YW5jZSxjIGFzIHNoaWZ0UmVzdGFydFRpcEZvY3VzTXVsdGlwbGllcix4IGFzIHNoaWZ0UmVzdGFydFRpcExlbmd0aCxuIGFzIHNoaWZ0UmVzdGFydFRpcFJhZGl1cyxhIGFzIHNoaWZ0UmVzdGFydFR1YmVGb2N1c011bHRpcGxpZXIsbCBhcyBzaGlmdFJlc3RhcnRUdWJlUmFkaXVzLGkgYXMgc21hbGxBbmdsZURvdFRocmVzaG9sZCxlIGFzIHZlcnRpY2FsRG90VGhyZXNob2xkfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjMzL2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnQgZSBmcm9tXCIuLi8uLi8uLi8uLi9Db2xvci5qc1wiO2ltcG9ydCB0IGZyb21cIi4uLy4uLy4uLy4uL2NvcmUvSGFuZGxlcy5qc1wiO2ltcG9ydHt3YXRjaCBhcyByLGluaXRpYWwgYXMgb31mcm9tXCIuLi8uLi8uLi8uLi9jb3JlL3JlYWN0aXZlVXRpbHMuanNcIjtpbXBvcnR7ZnJvbVRyYW5zbGF0aW9uIGFzIGksbXVsIGFzIHMsZnJvbVhSb3RhdGlvbiBhcyBuLGZyb21ZUm90YXRpb24gYXMgYX1mcm9tXCIuLi8uLi8uLi8uLi9jb3JlL2xpYnMvZ2wtbWF0cml4LTIvbWF0aC9tYXQ0LmpzXCI7aW1wb3J0e2NyZWF0ZSBhcyBjfWZyb21cIi4uLy4uLy4uLy4uL2NvcmUvbGlicy9nbC1tYXRyaXgtMi9mYWN0b3JpZXMvbWF0NGY2NC5qc1wiO2ltcG9ydHt0IGFzIGx9ZnJvbVwiLi4vLi4vLi4vLi4vY2h1bmtzL3ZlYzMyLmpzXCI7aW1wb3J0e2Zyb21WYWx1ZXMgYXMgbX1mcm9tXCIuLi8uLi8uLi8uLi9jb3JlL2xpYnMvZ2wtbWF0cml4LTIvZmFjdG9yaWVzL3ZlYzNmNjQuanNcIjtpbXBvcnR7ZGlzcGxheUZvY3VzTXVsdGlwbGllciBhcyBmfWZyb21cIi4uL1NsaWNlL3NsaWNlVG9vbENvbmZpZy5qc1wiO2ltcG9ydHt2aWV3c2hlZFRvb2xNYW5pcHVsYXRvckNvbmZpZ3VyYXRpb24gYXMgcH1mcm9tXCIuL1ZpZXdzaGVkQ29uZmlndXJhdGlvbi5qc1wiO2ltcG9ydHtNYW5pcHVsYXRvcjNEIGFzIGR9ZnJvbVwiLi4vLi4vaW50ZXJhY3RpdmUvTWFuaXB1bGF0b3IzRC5qc1wiO2ltcG9ydHtSZW5kZXJPYmplY3QgYXMgdX1mcm9tXCIuLi8uLi9pbnRlcmFjdGl2ZS9SZW5kZXJPYmplY3QuanNcIjtpbXBvcnR7Q3VsbEZhY2VPcHRpb25zIGFzIGh9ZnJvbVwiLi4vLi4vd2ViZ2wtZW5naW5lL2xpYi9iYXNpY0ludGVyZmFjZXMuanNcIjtpbXBvcnR7Y3JlYXRlVHViZUdlb21ldHJ5IGFzIGosY3JlYXRlRXh0cnVkZWRUcmlhbmdsZSBhcyBnfWZyb21cIi4uLy4uL3dlYmdsLWVuZ2luZS9saWIvR2VvbWV0cnlVdGlsLmpzXCI7aW1wb3J0e1JlbmRlck9jY2x1ZGVkRmxhZyBhcyB3fWZyb21cIi4uLy4uL3dlYmdsLWVuZ2luZS9saWIvTWF0ZXJpYWwuanNcIjtpbXBvcnR7Q29sb3JNYXRlcmlhbCBhcyBifWZyb21cIi4uLy4uL3dlYmdsLWVuZ2luZS9tYXRlcmlhbHMvQ29sb3JNYXRlcmlhbC5qc1wiO2ltcG9ydHtNYW5pcHVsYXRvclN0YXRlRmxhZ3MgYXMgdn1mcm9tXCIuLi8uLi8uLi9pbnRlcmFjdGl2ZS9pbnRlcmZhY2VzLmpzXCI7Y2xhc3MgTSBleHRlbmRzIGR7Y29uc3RydWN0b3IoZSxyKXtzdXBlcih7dmlldzplLGF1dG9TY2FsZVJlbmRlck9iamVjdHM6ITEsd29ybGRTaXplZDohMSxyYWRpdXM6cC5jb2xsaXNpb25SYWRpdXN9KSx0aGlzLl9oYW5kbGVzPW5ldyB0LHRoaXMuX3NldHVwTWFuaXB1bGF0b3JWaXN1YWwocil9ZGVzdHJveSgpe3RoaXMuX2hhbmRsZXMucmVtb3ZlKCksc3VwZXIuZGVzdHJveSgpfV9zZXR1cE1hbmlwdWxhdG9yVmlzdWFsKGUpe2NvbnN0IHQ9dGhpcy5fY3JlYXRlTWF0ZXJpYWwoKSxyPTEsbz1bbSgwLDAsMCksbSgwLDAscildLGQ9aih0LG8sZSwxNiwhMSksaD1qKHQsbyxlKmYsMTYsITEpLGc9TyghMSx0LGUpLHc9TyghMCx0LGUpLGI9YygpO2koYixvW28ubGVuZ3RoLTFdKSxzKGIsYixuKF8sTWF0aC5QSS8yKSkscyhiLGIsYShfLE1hdGguUEkvMikpLGcudHJhbnNmb3JtYXRpb249Yix3LnRyYW5zZm9ybWF0aW9uPWIsdGhpcy5yZW5kZXJPYmplY3RzPVtuZXcgdShkLHYuVW5mb2N1c2VkKSxuZXcgdShoLHYuRm9jdXNlZCksbmV3IHUoZyx2LlVuZm9jdXNlZCksbmV3IHUodyx2LkZvY3VzZWQpXTtjb25zdCBNPW0oMCxwLmdldFNjYWxlT3JpZW50QXJyb3dUaXBMZW5ndGgoITApLDApLFQ9bChNLE0sYikseD1bLi4ubyxUXTt0aGlzLmNvbGxpc2lvblR5cGU9e3R5cGU6XCJsaW5lXCIscGF0aHM6W3hdfX1fY3JlYXRlTWF0ZXJpYWwoKXtjb25zdCB0PW5ldyBiKHtjdWxsRmFjZTpoLkJhY2sscmVuZGVyT2NjbHVkZWQ6dy5PY2NsdWRlQW5kVHJhbnNwYXJlbnQsaXNEZWNvcmF0aW9uOiEwfSk7cmV0dXJuIHRoaXMuX2hhbmRsZXMuYWRkKHIoKCgpPT5lLnRvVW5pdFJHQkEodGhpcy52aWV3LmVmZmVjdGl2ZVRoZW1lLmFjY2VudENvbG9yKSksKGU9PnQuc2V0UGFyYW1ldGVycyh7Y29sb3I6ZX0pKSxvKSksdH19ZnVuY3Rpb24gTyhlLHQscil7Y29uc3Qgbz1wLmdldFNjYWxlT3JpZW50QXJyb3dUaXBMZW5ndGgoZSk7bGV0IGk9MipyO2UmJihpKj1mKTtjb25zdCBzPW8vMjtyZXR1cm4gZyh0LG8scyxzLGksMCl9Y29uc3QgXz1jKCk7ZXhwb3J0e00gYXMgQXJyb3dNYW5pcHVsYXRvcn07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4zMy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0IHQgZnJvbVwiLi4vLi4vLi4vLi4vQ29sb3IuanNcIjtpbXBvcnQgciBmcm9tXCIuLi8uLi8uLi8uLi9jb3JlL0hhbmRsZXMuanNcIjtpbXBvcnR7aGFuZGxlc0dyb3VwIGFzIGV9ZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9oYW5kbGVVdGlscy5qc1wiO2ltcG9ydHtkZWcycmFkIGFzIGksY2xhbXAgYXMgYX1mcm9tXCIuLi8uLi8uLi8uLi9jb3JlL21hdGhVdGlscy5qc1wiO2ltcG9ydHtkZXN0cm95TWF5YmUgYXMgb31mcm9tXCIuLi8uLi8uLi8uLi9jb3JlL21heWJlLmpzXCI7aW1wb3J0e3dhdGNoIGFzIG4saW5pdGlhbCBhcyBzfWZyb21cIi4uLy4uLy4uLy4uL2NvcmUvcmVhY3RpdmVVdGlscy5qc1wiO2ltcG9ydHtmcm9tWVJvdGF0aW9uIGFzIGwsZnJvbVhSb3RhdGlvbiBhcyBjLGZyb21TY2FsaW5nIGFzIHUsZnJvbVpSb3RhdGlvbiBhcyBwLGZyb21Sb3RhdGlvbiBhcyBtLG11bHRpcGx5IGFzIGh9ZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9saWJzL2dsLW1hdHJpeC0yL21hdGgvbWF0NC5qc1wiO2ltcG9ydHtjcmVhdGUgYXMgZn1mcm9tXCIuLi8uLi8uLi8uLi9jb3JlL2xpYnMvZ2wtbWF0cml4LTIvZmFjdG9yaWVzL21hdDRmNjQuanNcIjtpbXBvcnR7aSBhcyBkLGEgYXMgZyxnIGFzIF99ZnJvbVwiLi4vLi4vLi4vLi4vY2h1bmtzL3ZlYzMyLmpzXCI7aW1wb3J0e2NyZWF0ZSBhcyBNLGZyb21WYWx1ZXMgYXMgYn1mcm9tXCIuLi8uLi8uLi8uLi9jb3JlL2xpYnMvZ2wtbWF0cml4LTIvZmFjdG9yaWVzL3ZlYzNmNjQuanNcIjtpbXBvcnR7ZiBhcyB2fWZyb21cIi4uLy4uLy4uLy4uL2NodW5rcy9ib3VuZGVkUGxhbmUuanNcIjtpbXBvcnR7dmlld3NoZWRUb29sTWFuaXB1bGF0b3JDb25maWd1cmF0aW9uIGFzIGp9ZnJvbVwiLi9WaWV3c2hlZENvbmZpZ3VyYXRpb24uanNcIjtpbXBvcnR7Z2V0Vmlld3NoZWRSb3RhdGlvbk1hdHJpeCBhcyB3LHNjcmVlblRvQ2lyY2xlQW5nbGUgYXMgQX1mcm9tXCIuL3ZpZXdzaGVkVG9vbFV0aWxzLmpzXCI7aW1wb3J0e01hbmlwdWxhdG9yM0QgYXMgVn1mcm9tXCIuLi8uLi9pbnRlcmFjdGl2ZS9NYW5pcHVsYXRvcjNELmpzXCI7aW1wb3J0e1JlbmRlck9iamVjdCBhcyBFfWZyb21cIi4uLy4uL2ludGVyYWN0aXZlL1JlbmRlck9iamVjdC5qc1wiO2ltcG9ydHtNYW5pcHVsYXRvclR5cGUgYXMgT31mcm9tXCIuLi8uLi9pbnRlcmFjdGl2ZS9lZGl0aW5nVG9vbHMvTWFuaXB1bGF0b3JUeXBlLmpzXCI7aW1wb3J0e0ludGVyYWN0aXZlTWFuaXB1bGF0aW9uIGFzIFR9ZnJvbVwiLi4vLi4vaW50ZXJhY3RpdmUvZWRpdGluZ1Rvb2xzL21hbmlwdWxhdGlvbnMvSW50ZXJhY3RpdmVNYW5pcHVsYXRpb24uanNcIjtpbXBvcnR7Y3JlYXRlUG9seWxpbmVHZW9tZXRyeSBhcyB5fWZyb21cIi4uLy4uL3dlYmdsLWVuZ2luZS9saWIvR2VvbWV0cnlVdGlsLmpzXCI7aW1wb3J0e1JlbmRlck9jY2x1ZGVkRmxhZyBhcyBVfWZyb21cIi4uLy4uL3dlYmdsLWVuZ2luZS9saWIvTWF0ZXJpYWwuanNcIjtpbXBvcnR7YXNzZXJ0IGFzIFJ9ZnJvbVwiLi4vLi4vd2ViZ2wtZW5naW5lL2xpYi9VdGlsLmpzXCI7aW1wb3J0e1JpYmJvbkxpbmVNYXRlcmlhbCBhcyBTfWZyb21cIi4uLy4uL3dlYmdsLWVuZ2luZS9tYXRlcmlhbHMvUmliYm9uTGluZU1hdGVyaWFsLmpzXCI7aW1wb3J0e2NyZWF0ZU1hbmlwdWxhdG9yRHJhZ0V2ZW50UGlwZWxpbmUgYXMgeH1mcm9tXCIuLi8uLi8uLi9pbnRlcmFjdGl2ZS9kcmFnRXZlbnRQaXBlbGluZS5qc1wiO2ltcG9ydHtNYW5pcHVsYXRvclN0YXRlRmxhZ3MgYXMgUH1mcm9tXCIuLi8uLi8uLi9pbnRlcmFjdGl2ZS9pbnRlcmZhY2VzLmpzXCI7Y2xhc3MgQyBleHRlbmRzIFR7Y29uc3RydWN0b3IodCl7c3VwZXIoKSx0aGlzLl9oYW5kbGVzPW5ldyByLHRoaXMuX3Rvb2w9dC50b29sLHRoaXMuX3ZpZXc9dC52aWV3LHRoaXMuX2ZvY3VzZWRBcmNNYXRlcmlhbD10aGlzLl9jcmVhdGVBcmNNYXRlcmlhbCghMCksdGhpcy5fdW5mb2N1c2VkQXJjTWF0ZXJpYWw9dGhpcy5fY3JlYXRlQXJjTWF0ZXJpYWwoITEpLHRoaXMuX2NyZWF0ZU1hbmlwdWxhdG9ycygpLHRoaXMuZm9yRWFjaE1hbmlwdWxhdG9yKCh0PT50aGlzLl90b29sLm1hbmlwdWxhdG9ycy5hZGQodCkpKX1kZXN0cm95KCl7dGhpcy5faGFuZGxlcz1vKHRoaXMuX2hhbmRsZXMpLHRoaXMuZm9yRWFjaE1hbmlwdWxhdG9yKCh0PT57dGhpcy5fdG9vbC5tYW5pcHVsYXRvcnMucmVtb3ZlKHQpLHQuZGVzdHJveSgpfSkpLHRoaXMuX3Rvb2w9bnVsbCx0aGlzLl92aWV3PW51bGwsdGhpcy5fbWFuaXB1bGF0b3JzPW51bGx9Y3JlYXRlRHJhZ1BpcGVsaW5lKHQscil7Y29uc3QgaT1PYmplY3QudmFsdWVzKHRoaXMuX21hbmlwdWxhdG9ycyk7cmV0dXJuIGUoaS5tYXAoKCh7bWFuaXB1bGF0b3I6ZSxzaWRlOml9KT0+eChlLCgoZSxhLG8sbixzKT0+e2NvbnN0IGw9ayhpLHIpLGM9YS5uZXh0KCh0PT4oey4uLnQsbWFuaXB1bGF0b3JUeXBlOk8uU0NBTEUsc2lkZTppfSkpKSx1PUEoYyx0aGlzLl92aWV3LGwscik7dChlLHUsbyl9KSkpKSl9dXBkYXRlTWFuaXB1bGF0b3JzVHJhbnNmb3JtKHQpe3QuYXJjQ2VudGVyc1BvaW50cyhKKSx0aGlzLl9mb3JFYWNoTWFuaXB1bGF0b3JJbmZvKChyPT50aGlzLl91cGRhdGVBcmNNYW5pcHVsYXRvclRyYW5zZm9ybShyLHQsSltyLnNpZGVdKSkpfXVwZGF0ZU1hbmlwdWxhdG9yVmlzdWFscyh0KXt0aGlzLl9mb3JFYWNoTWFuaXB1bGF0b3JJbmZvKChyPT50aGlzLl91cGRhdGVBcmNNYW5pcHVsYXRvclZpc3VhbHMocix0KSkpfV91cGRhdGVBcmNNYW5pcHVsYXRvclZpc3VhbHMoe21hbmlwdWxhdG9yOnQsc2lkZTpyfSxlKXtjb25zdCBpPVtdO2lmKG51bGwhPWUpe2NvbnN0W2Esb109RihyLGUsdGhpcy5fdW5mb2N1c2VkQXJjTWF0ZXJpYWwpO2kucHVzaChuZXcgRShhLFAuVW5mb2N1c2VkKSxuZXcgRShhLmluc3RhbnRpYXRlKHttYXRlcmlhbDp0aGlzLl9mb2N1c2VkQXJjTWF0ZXJpYWx9KSxQLkZvY3VzZWQpKSx0LmNvbGxpc2lvblR5cGU9e3R5cGU6XCJsaW5lXCIscGF0aHM6W29dfX10LnJlbmRlck9iamVjdHM9aSx0LnJhZGl1cz1qLmNvbGxpc2lvblJhZGl1c31fdXBkYXRlQXJjTWFuaXB1bGF0b3JUcmFuc2Zvcm0oe21hbmlwdWxhdG9yOnQsc2lkZTpyfSxlLGEpe2NvbnN0IG89ZS5ob3Jpem9udGFsRmllbGRPZlZpZXcsbj1pKGUudmVydGljYWxGaWVsZE9mVmlldy8yKSxzPWkoby8yKSxnPXoocik7dC5yZW5kZXJMb2NhdGlvbj1hO2NvbnN0IF89ZigpLE09dD0+e2goXyx0LF8pfTtNKGwoSCxpKC05MCkpKSxnfHxNKGMoSCxuKSk7Y29uc3QgYj1lLmZhckRpc3RhbmNlUmVuZGVyU3BhY2U7bGV0IHYsajtNKHUoSCxkKFcsYixiLGIpKSksTShwKEgsTChyKSkpLE0odyhlLEgpKSxnPyh2PXMsaj1lLnRpbHRlZFVwVmVjdG9yKTooaj1lLnJpZ2h0VmVjdG9yLHY9biksdio9XCJyaWdodFwiPT09cnx8XCJib3R0b21cIj09PXI/LTE6MTtjb25zdCBBPW0oSCx2LGopO251bGwhPUEmJk0oQSksdC5tb2RlbFRyYW5zZm9ybT1ffV9jcmVhdGVNYW5pcHVsYXRvcnMoKXtjb25zdCB0PXRoaXMuX2NyZWF0ZUFyY01hbmlwdWxhdG9yKFwibGVmdFwiKSxyPXRoaXMuX2NyZWF0ZUFyY01hbmlwdWxhdG9yKFwicmlnaHRcIiksZT10aGlzLl9jcmVhdGVBcmNNYW5pcHVsYXRvcihcInRvcFwiKSxpPXRoaXMuX2NyZWF0ZUFyY01hbmlwdWxhdG9yKFwiYm90dG9tXCIpO3RoaXMuX21hbmlwdWxhdG9ycz17bGVmdDp0LHJpZ2h0OnIsdG9wOmUsYm90dG9tOml9O1tbaS5tYW5pcHVsYXRvcixlLm1hbmlwdWxhdG9yXSxbdC5tYW5pcHVsYXRvcixyLm1hbmlwdWxhdG9yXV0uZm9yRWFjaCgoKFt0LHJdKT0+e3QubWV0YWRhdGE9e3BhaXJlZE1hbmlwdWxhdG9yOnJ9LHIubWV0YWRhdGE9e3BhaXJlZE1hbmlwdWxhdG9yOnR9fSkpfV9jcmVhdGVBcmNNYW5pcHVsYXRvcih0KXtjb25zdCByPW5ldyBWKHt2aWV3OnRoaXMuX3ZpZXcsYXV0b1NjYWxlUmVuZGVyT2JqZWN0czohMSx3b3JsZFNpemVkOiEwfSksZT17bWFuaXB1bGF0b3I6cixzaWRlOnR9O3JldHVybiB0aGlzLl91cGRhdGVBcmNNYW5pcHVsYXRvclZpc3VhbHMoZSksdGhpcy5faGFuZGxlcy5hZGQoci5ldmVudHMub24oXCJmb2N1cy1jaGFuZ2VkXCIsKHQ9Pntjb25zdCBlPXIubWV0YWRhdGE/LnBhaXJlZE1hbmlwdWxhdG9yO251bGwhPWUmJihlLmhvdmVyaW5nIT09ci5ob3ZlcmluZyYmKGUuaG92ZXJpbmc9ci5ob3ZlcmluZyksZS5ncmFiYmluZyE9PXIuZ3JhYmJpbmcmJihlLmdyYWJiaW5nPXIuZ3JhYmJpbmcpKX0pKSksZX1fY3JlYXRlQXJjTWF0ZXJpYWwocil7Y29uc3QgZT1qLmdldEZvdkFyY1dpZHRoKHIpLGk9bmV3IFMoe3JlbmRlck9jY2x1ZGVkOlUuT2NjbHVkZUFuZFRyYW5zcGFyZW50LGlzRGVjb3JhdGlvbjohMCx3aWR0aDplfSk7cmV0dXJuIHRoaXMuX2hhbmRsZXMuYWRkKG4oKCgpPT50LnRvVW5pdFJHQkEodGhpcy5fdmlldy5lZmZlY3RpdmVUaGVtZS5hY2NlbnRDb2xvcikpLCh0PT5pLnNldFBhcmFtZXRlcnMoe2NvbG9yOnR9KSkscykpLGl9Zm9yRWFjaE1hbmlwdWxhdG9yKHQpe09iamVjdC52YWx1ZXModGhpcy5fbWFuaXB1bGF0b3JzKS5mb3JFYWNoKCgoe21hbmlwdWxhdG9yOnJ9KT0+dChyLE8uU0NBTEUpKSl9X2ZvckVhY2hNYW5pcHVsYXRvckluZm8odCl7T2JqZWN0LnZhbHVlcyh0aGlzLl9tYW5pcHVsYXRvcnMpLmZvckVhY2goKHI9PnQocikpKX1nZXQgdGVzdCgpe3JldHVybnttYW5pcHVsYXRvcnM6dGhpcy5fbWFuaXB1bGF0b3JzfX19ZnVuY3Rpb24gRih0LHIsZSl7Y29uc3R7aG9yaXpvbnRhbEZpZWxkT2ZWaWV3Om8sdmVydGljYWxGaWVsZE9mVmlldzpufT1yLHM9eih0KSxsPWkoYSgocz9uOm8pLzIsMCwxNSkpLGM9RCgtbC8yLGwvMixzPzE6TWF0aC5tYXgoTWF0aC5zaW4oaSg5MC1uLzIpKSwuMSkpO3JldHVyblt5KGUsYyksY119ZnVuY3Rpb24gRCh0LHIsZSxpPTEwKXtSKGk+MSxcImNyZWF0ZUFyY1BvbHlsaW5lR2VvbWV0cnkoKSBuZWVkcyBhdCBsZWFzdCAyIGZvciBudW1WZXJ0aWNlc1wiKTtjb25zdCBhPXItdDtpZihhPD0wfHxlPD0wKXtyZXR1cm5bYigwLDAsLjAxKSxiKDAsMCwtLjAxKV19Y29uc3Qgbz1bXSxuPWEvaTtmb3IobGV0IHM9MDtzPGk7cysrKXtsZXQgYT10K3MqbjtzPT09aS0xJiYoYT1yKTtjb25zdCBsPU1hdGguY29zKGEpKmUsYz1NYXRoLnNpbihhKSplLHU9YihsLWUsMCxjKTtvLnB1c2godSl9cmV0dXJuIG99ZnVuY3Rpb24gSSh0KXtzd2l0Y2godCl7Y2FzZVwibGVmdFwiOnJldHVybiAwO2Nhc2VcImJvdHRvbVwiOnJldHVybiAxO2Nhc2VcInJpZ2h0XCI6cmV0dXJuIDI7Y2FzZVwidG9wXCI6cmV0dXJuIDN9fWZ1bmN0aW9uIEwodCl7cmV0dXJuIEkodCkqQn1mdW5jdGlvbiB6KHQpe3JldHVyblwibGVmdFwiPT09dHx8XCJyaWdodFwiPT09dH1mdW5jdGlvbiBHKHQpe3JldHVyblwibGVmdFwiPT09dD9cInJpZ2h0XCI6XCJyaWdodFwiPT09dD9cImxlZnRcIjpcInRvcFwiPT09dD9cImJvdHRvbVwiOlwidG9wXCJ9ZnVuY3Rpb24gayh0LHtvYnNlcnZlclJlbmRlclNwYWNlOnIsdGFyZ2V0UmVuZGVyU3BhY2U6ZSx0aWx0ZWRVcFZlY3RvcjppLHJpZ2h0VmVjdG9yOmEsZmFyRGlzdGFuY2VSZW5kZXJTcGFjZTpvfSl7Y29uc3Qgbj1nKFcsZSxyKSxzPXoodCk/YTppLGw9XyhxLHMsbyk7cmV0dXJuIHYocixuLGwpfWNvbnN0IEI9TWF0aC5QSS8yLEg9ZigpLFc9TSgpLHE9TSgpLEo9e3RvcDpNKCksYm90dG9tOk0oKSxsZWZ0Ok0oKSxyaWdodDpNKCl9O2V4cG9ydHtDIGFzIEZpZWxkT2ZWaWV3TWFuaXB1bGF0aW9uLEQgYXMgY3JlYXRlQXJjUG9seWxpbmVWZXJ0aWNlcyxHIGFzIGZsaXBTaWRlLHogYXMgaXNTaWRlSG9yaXpvbnRhbCxMIGFzIHNpZGVUb1JhZH07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4zMy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0IHQgZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9IYW5kbGVzLmpzXCI7aW1wb3J0e2RlZzJyYWQgYXMgaX1mcm9tXCIuLi8uLi8uLi8uLi9jb3JlL21hdGhVdGlscy5qc1wiO2ltcG9ydHtmcm9tU2NhbGluZyBhcyBlLGZyb21UcmFuc2xhdGlvbiBhcyBhLGZyb21aUm90YXRpb24gYXMgcixtdWwgYXMgbyxmcm9tWVJvdGF0aW9uIGFzIG4sbXVsdGlwbHkgYXMgc31mcm9tXCIuLi8uLi8uLi8uLi9jb3JlL2xpYnMvZ2wtbWF0cml4LTIvbWF0aC9tYXQ0LmpzXCI7aW1wb3J0e2NyZWF0ZSBhcyBsfWZyb21cIi4uLy4uLy4uLy4uL2NvcmUvbGlicy9nbC1tYXRyaXgtMi9mYWN0b3JpZXMvbWF0NGY2NC5qc1wiO2ltcG9ydHtpIGFzIG0sZyBhcyBwLGYgYXMgYyxhIGFzIHUsSCBhcyBoLGUgYXMgZCxiIGFzIGYsbiBhcyBffWZyb21cIi4uLy4uLy4uLy4uL2NodW5rcy92ZWMzMi5qc1wiO2ltcG9ydHtjcmVhdGUgYXMgZ31mcm9tXCIuLi8uLi8uLi8uLi9jb3JlL2xpYnMvZ2wtbWF0cml4LTIvZmFjdG9yaWVzL3ZlYzNmNjQuanNcIjtpbXBvcnR7ZiBhcyBUfWZyb21cIi4uLy4uLy4uLy4uL2NodW5rcy9ib3VuZGVkUGxhbmUuanNcIjtpbXBvcnR7ZnJvbVZhbHVlcyBhcyB2fWZyb21cIi4uLy4uLy4uLy4uL2dlb21ldHJ5L3N1cHBvcnQvcmF5LmpzXCI7aW1wb3J0e2Rpc3BsYXlGb2N1c011bHRpcGxpZXIgYXMgan1mcm9tXCIuLi9TbGljZS9zbGljZVRvb2xDb25maWcuanNcIjtpbXBvcnR7QXJyb3dNYW5pcHVsYXRvciBhcyB3fWZyb21cIi4vQXJyb3dNYW5pcHVsYXRvci5qc1wiO2ltcG9ydHt2aWV3c2hlZFRvb2xNYW5pcHVsYXRvckNvbmZpZ3VyYXRpb24gYXMgRH1mcm9tXCIuL1ZpZXdzaGVkQ29uZmlndXJhdGlvbi5qc1wiO2ltcG9ydHtnZXRWaWV3c2hlZFJvdGF0aW9uTWF0cml4IGFzIFIsc2NyZWVuVG9DaXJjbGVBbmdsZSBhcyBTfWZyb21cIi4vdmlld3NoZWRUb29sVXRpbHMuanNcIjtpbXBvcnR7c2NyZWVuVG9SZW5kZXJSYXkgYXMgRX1mcm9tXCIuLi8uLi9pbnRlcmFjdGl2ZS9lZGl0aW5nVG9vbHMvZHJhZ0V2ZW50UGlwZWxpbmUzRC5qc1wiO2ltcG9ydHtNYW5pcHVsYXRvclR5cGUgYXMgSH1mcm9tXCIuLi8uLi9pbnRlcmFjdGl2ZS9lZGl0aW5nVG9vbHMvTWFuaXB1bGF0b3JUeXBlLmpzXCI7aW1wb3J0e2Rpc2NSYWRpdXNTbWFsbCBhcyB4LGRpc2NSYWRpdXMgYXMgTX1mcm9tXCIuLi8uLi9pbnRlcmFjdGl2ZS9lZGl0aW5nVG9vbHMvbWFuaXB1bGF0aW9ucy9jb25maWcuanNcIjtpbXBvcnR7SW50ZXJhY3RpdmVNYW5pcHVsYXRpb24gYXMgeX1mcm9tXCIuLi8uLi9pbnRlcmFjdGl2ZS9lZGl0aW5nVG9vbHMvbWFuaXB1bGF0aW9ucy9JbnRlcmFjdGl2ZU1hbmlwdWxhdGlvbi5qc1wiO2ltcG9ydHtjcmVhdGVNYW5pcHVsYXRvckRyYWdFdmVudFBpcGVsaW5lIGFzIFAsZHJhZ0F0TG9jYXRpb24gYXMgYn1mcm9tXCIuLi8uLi8uLi9pbnRlcmFjdGl2ZS9kcmFnRXZlbnRQaXBlbGluZS5qc1wiO2NsYXNzIEEgZXh0ZW5kcyB5e2NvbnN0cnVjdG9yKGkpe3N1cGVyKCksdGhpcy5faGFuZGxlcz1uZXcgdCx0aGlzLl90b29sPWkudG9vbCx0aGlzLl92aWV3PWkudmlldztjb25zdCBlPUQuc2NhbGVPcmllbnRIYW5kbGVSYWRpdXM7dGhpcy5fbWFuaXB1bGF0b3JIZWFkaW5nPW5ldyB3KHRoaXMuX3ZpZXcsZSksdGhpcy5fbWFuaXB1bGF0b3JUaWx0PW5ldyB3KHRoaXMuX3ZpZXcsZSksdGhpcy5fbWFuaXB1bGF0b3JEaXN0YW5jZT1uZXcgdyh0aGlzLl92aWV3LGUpLHRoaXMuZm9yRWFjaE1hbmlwdWxhdG9yKCh0PT50aGlzLl90b29sLm1hbmlwdWxhdG9ycy5hZGQodCkpKX1kZXN0cm95KCl7dGhpcy5faGFuZGxlcy5kZXN0cm95KCksdGhpcy5mb3JFYWNoTWFuaXB1bGF0b3IoKHQ9Pnt0aGlzLl90b29sLm1hbmlwdWxhdG9ycy5yZW1vdmUodCksdC5kZXN0cm95KCl9KSksdGhpcy5fbWFuaXB1bGF0b3JIZWFkaW5nPW51bGwsdGhpcy5fbWFuaXB1bGF0b3JUaWx0PW51bGwsdGhpcy5fbWFuaXB1bGF0b3JEaXN0YW5jZT1udWxsLHRoaXMuX3Rvb2w9bnVsbCx0aGlzLl92aWV3PW51bGx9Y3JlYXRlSGVhZGluZ0RyYWdQaXBlbGluZSh0LGUpe3JldHVybiBQKHRoaXMuX21hbmlwdWxhdG9ySGVhZGluZywoKGEscixvLG4scyk9Pntjb25zdCBsPXRoaXMuX3ZpZXcse3RpbHRQYXJhbGxlbFRvU3VyZmFjZTptLGZhckRpc3RhbmNlUmVuZGVyU3BhY2U6ZCx1cFZlY3RvcjpmLG9ic2VydmVyUmVuZGVyU3BhY2U6Xyx0YXJnZXRSZW5kZXJTcGFjZTpnLHJpZ2h0VmVjdG9yOnZ9PWUsaj1NYXRoLnNpbihpKG0pKSpkLHc9YyhWLF8scChDLGYsaikpLEQ9dShDLGcsdyksUj1wKEksdixoKEQpKSxFPVQodyxELFIpLHg9UyhyLGwsRSxlKS5uZXh0KCh0PT4oey4uLnQsbWFuaXB1bGF0b3JUeXBlOkguUk9UQVRFfSkpKTt0KGEseCxvKX0pKX1jcmVhdGVUaWx0RHJhZ1BpcGVsaW5lKHQsaSl7cmV0dXJuIFAodGhpcy5fbWFuaXB1bGF0b3JUaWx0LCgoZSxhLHIsbyxuKT0+e2NvbnN0e29ic2VydmVyUmVuZGVyU3BhY2U6cyxmYXJEaXN0YW5jZVJlbmRlclNwYWNlOmwsdXBWZWN0b3I6bSx0YXJnZXREaXJlY3Rpb246Y309aSx1PWQoYyxtKSxoPWYoVixjLG0sLXUpO3AoaCxfKGgsaCksbCk7Y29uc3QgZz1wKEMsbSxsKSx2PVQocyxoLGcpLGo9UyhhLHRoaXMuX3ZpZXcsdixpKS5uZXh0KCh0PT4oey4uLnQsbWFuaXB1bGF0b3JUeXBlOkguUk9UQVRFfSkpKTt0KGUsaixyKX0pKX1jcmVhdGVEaXN0YW5jZURyYWdQaXBlbGluZSh0LGkpe3JldHVybiBQKHRoaXMuX21hbmlwdWxhdG9yRGlzdGFuY2UsKChlLGEscixvLG4pPT57Y29uc3Qgcz12KGkub2JzZXJ2ZXJSZW5kZXJTcGFjZSxpLnRhcmdldERpcmVjdGlvbiksbD1hLm5leHQoYih0aGlzLl92aWV3LGUubG9jYXRpb24pKS5uZXh0KEUodGhpcy5fdmlldyxzKSkubmV4dCgodD0+KHsuLi50LG1hbmlwdWxhdG9yVHlwZTpILlNDQUxFfSkpKTt0KGUsbCxyKX0pKX11cGRhdGVNYW5pcHVsYXRvcnModCl7Y29uc3R7dGFyZ2V0UmVuZGVyU3BhY2U6aX09dDt0aGlzLl9tYW5pcHVsYXRvckhlYWRpbmcucmVuZGVyTG9jYXRpb249aSx0aGlzLl9tYW5pcHVsYXRvclRpbHQucmVuZGVyTG9jYXRpb249aSx0aGlzLl9tYW5pcHVsYXRvckRpc3RhbmNlLnJlbmRlckxvY2F0aW9uPWk7Y29uc3QgYz1sKCksdT10PT57cyhjLHQsYyl9LGg9RC5zY2FsZU9yaWVudFNpemUqKHgvTSk7dShlKE8sbShWLGgsaCxoKSkpLHUoUih0LE8pKTtjb25zdCBkPUQuc2NhbGVPcmllbnRIYW5kbGVSYWRpdXMqaipoLGY9cChWLHQudGFyZ2V0RGlyZWN0aW9uLGQpO3UoYShPLGYpKTtjb25zdCBfPXIoTywtayk7byhfLF8sbihMLC1rKSksdGhpcy5fbWFuaXB1bGF0b3JIZWFkaW5nLm1vZGVsVHJhbnNmb3JtPW8obCgpLGMsXyk7Y29uc3QgZz1uKE8sayk7byhnLGcscihMLE1hdGguUEkpKSx0aGlzLl9tYW5pcHVsYXRvclRpbHQubW9kZWxUcmFuc2Zvcm09cyhsKCksYyxnKSx0aGlzLl9tYW5pcHVsYXRvckRpc3RhbmNlLm1vZGVsVHJhbnNmb3JtPWN9Zm9yRWFjaE1hbmlwdWxhdG9yKHQpe3QodGhpcy5fbWFuaXB1bGF0b3JIZWFkaW5nLEguUk9UQVRFKSx0KHRoaXMuX21hbmlwdWxhdG9yVGlsdCxILlJPVEFURSksdCh0aGlzLl9tYW5pcHVsYXRvckRpc3RhbmNlLEguU0NBTEUpfX1jb25zdCBPPWwoKSxMPWwoKSxWPWcoKSxDPWcoKSxJPWcoKSxrPU1hdGguUEkvMjtleHBvcnR7QSBhcyBTY2FsZU9yaWVudE1hbmlwdWxhdGlvbn07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4zMy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e18gYXMgc31mcm9tXCIuLi8uLi8uLi8uLi9jaHVua3MvdHNsaWIuZXM2LmpzXCI7aW1wb3J0IGkgZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9BY2Nlc3Nvci5qc1wiO2ltcG9ydHtkZXN0cm95SGFuZGxlIGFzIGV9ZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9oYW5kbGVVdGlscy5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vLi4vY29yZS9oYXMuanNcIjtpbXBvcnR7bWFwQ29sbGVjdGlvbiBhcyBvfWZyb21cIi4uLy4uLy4uLy4uL2NvcmUvbWFwQ29sbGVjdGlvblV0aWxzLmpzXCI7aW1wb3J0e3dhdGNoIGFzIHQsaW5pdGlhbCBhcyByfWZyb21cIi4uLy4uLy4uLy4uL2NvcmUvcmVhY3RpdmVVdGlscy5qc1wiO2ltcG9ydHtwcm9wZXJ0eSBhcyBhfWZyb21cIi4uLy4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvcHJvcGVydHkuanNcIjtpbXBvcnRcIi4uLy4uLy4uLy4uL2NvcmUvTG9nZ2VyLmpzXCI7aW1wb3J0XCIuLi8uLi8uLi8uLi9jb3JlL1JhbmRvbUxDRy5qc1wiO2ltcG9ydHtzdWJjbGFzcyBhcyBsfWZyb21cIi4uLy4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvc3ViY2xhc3MuanNcIjtpbXBvcnQgbiBmcm9tXCIuL1ZpZXdzaGVkVmlzdWFsaXphdGlvbi5qc1wiO2xldCBjPWNsYXNzIGV4dGVuZHMgaXtnZXQgdmlzaWJsZSgpe3JldHVybiB0aGlzLmFuYWx5c2lzVmlld0RhdGEudmlzaWJsZX1jb25zdHJ1Y3RvcihzKXtzdXBlcihzKX1pbml0aWFsaXplKCl7Y29uc3Qgcz10aGlzLmFuYWx5c2lzVmlld0RhdGEsaT1vKCgoKT0+dGhpcy5hbmFseXNpc1ZpZXdEYXRhLnZpZXdzaGVkQ29tcHV0ZWREYXRhSGFuZGxlcyksKCh7dmlld3NoZWRDb21wdXRlZERhdGE6aX0pPT57Y29uc3QgZT1uZXcgbih7dmlldzp0aGlzLnZpZXcsdmlld3NoZWRDb21wdXRlZERhdGE6aSxhbmFseXNpc1ZpZXdEYXRhOnMsaXNEZWNvcmF0aW9uOnRoaXMuaXNEZWNvcmF0aW9ufSk7cmV0dXJue3Zpc3VhbGl6YXRpb246ZSxyZW1vdmU6KCk9PmUuZGVzdHJveSgpfX0pKTt0aGlzLl92aWV3c2hlZFZpc3VhbGl6YXRpb25zPWksdGhpcy5hZGRIYW5kbGVzKFtlKGkpLHQoKCgpPT50aGlzLnZpc2libGUpLChzPT50aGlzLl92aWV3c2hlZFZpc3VhbGl6YXRpb25zLmZvckVhY2goKCh7dmlzdWFsaXphdGlvbjppfSk9PmkudmlzaWJsZT1zKSkpLHIpXSl9Z2V0IHRlc3QoKXt9fTtzKFthKHtjb25zdHJ1Y3RPbmx5OiEwfSldLGMucHJvdG90eXBlLFwiYW5hbHlzaXNWaWV3RGF0YVwiLHZvaWQgMCkscyhbYSh7Y29uc3RydWN0T25seTohMCxub25OdWxsYWJsZTohMH0pXSxjLnByb3RvdHlwZSxcInZpZXdcIix2b2lkIDApLHMoW2Eoe2NvbnN0cnVjdE9ubHk6ITB9KV0sYy5wcm90b3R5cGUsXCJpc0RlY29yYXRpb25cIix2b2lkIDApLHMoW2EoKV0sYy5wcm90b3R5cGUsXCJ2aXNpYmxlXCIsbnVsbCksYz1zKFtsKFwiZXNyaS52aWV3cy4zZC5hbmFseXNpcy5WaWV3c2hlZC5WaWV3c2hlZEFuYWx5c2lzVmlzdWFsaXphdGlvblwiKV0sYyk7ZXhwb3J0e2MgYXMgVmlld3NoZWRBbmFseXNpc1Zpc3VhbGl6YXRpb259O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMzMvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtfIGFzIGV9ZnJvbVwiLi4vLi4vLi4vLi4vY2h1bmtzL3RzbGliLmVzNi5qc1wiO2ltcG9ydCB0IGZyb21cIi4uLy4uLy4uLy4uL2NvcmUvQWNjZXNzb3IuanNcIjtpbXBvcnR7ZGVnMnJhZCBhcyByfWZyb21cIi4uLy4uLy4uLy4uL2NvcmUvbWF0aFV0aWxzLmpzXCI7aW1wb3J0e3Byb3BlcnR5IGFzIG99ZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9wcm9wZXJ0eS5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vLi4vY29yZS9oYXMuanNcIjtpbXBvcnRcIi4uLy4uLy4uLy4uL2NvcmUvTG9nZ2VyLmpzXCI7aW1wb3J0XCIuLi8uLi8uLi8uLi9jb3JlL1JhbmRvbUxDRy5qc1wiO2ltcG9ydHtzdWJjbGFzcyBhcyBpfWZyb21cIi4uLy4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvc3ViY2xhc3MuanNcIjtpbXBvcnR7Y3JlYXRlIGFzIHN9ZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9saWJzL2dsLW1hdHJpeC0yL2ZhY3Rvcmllcy9tYXQ0ZjY0LmpzXCI7aW1wb3J0e2EgYXMgbixuIGFzIHAsaCBhcyBhLHUgYXMgYyxmIGFzIGwsZyBhcyBofWZyb21cIi4uLy4uLy4uLy4uL2NodW5rcy92ZWMzMi5qc1wiO2ltcG9ydHtjcmVhdGUgYXMgZCxmcm9tVmFsdWVzIGFzIHUsZnJvbUFycmF5IGFzIGZ9ZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9saWJzL2dsLW1hdHJpeC0yL2ZhY3Rvcmllcy92ZWMzZjY0LmpzXCI7aW1wb3J0IHYgZnJvbVwiLi4vLi4vLi4vLi4vZ2VvbWV0cnkvUG9pbnQuanNcIjtpbXBvcnR7cm90YXRlQnkgYXMgZ31mcm9tXCIuL3ZpZXdzaGVkVG9vbFV0aWxzLmpzXCI7dmFyIFM7bGV0IG09Uz1jbGFzcyBleHRlbmRzIHR7Y29uc3RydWN0b3IoZSl7c3VwZXIoZSksdGhpcy5vYnNlcnZlclJlbmRlclNwYWNlT3ZlcnJpZGU9bnVsbCx0aGlzLm5lZWRVcGRhdGVCeUZlYXR1cmU9ITF9Z2V0IG9ic2VydmVyKCl7cmV0dXJuIHRoaXMudmlld3NoZWQub2JzZXJ2ZXI/P25ldyB2fWdldCBlZmZlY3RpdmVPYnNlcnZlclJlbmRlclNwYWNlKCl7cmV0dXJuIHRoaXMub2JzZXJ2ZXJSZW5kZXJTcGFjZU92ZXJyaWRlPz90aGlzLm9ic2VydmVyUmVuZGVyU3BhY2V9Z2V0IGVmZmVjdGl2ZU9ic2VydmVyKCl7cmV0dXJuIHRoaXMucmVuZGVyU3BhY2VUb1BvaW50KHRoaXMuZWZmZWN0aXZlT2JzZXJ2ZXJSZW5kZXJTcGFjZSx0aGlzLm9ic2VydmVyLnNwYXRpYWxSZWZlcmVuY2UpfWdldCBlZmZlY3RpdmVUYXJnZXRSZW5kZXJTcGFjZSgpe3JldHVybiB0aGlzLl9jb21wdXRlVGFyZ2V0UmVuZGVyU3BhY2UodGhpcy5lZmZlY3RpdmVPYnNlcnZlclJlbmRlclNwYWNlKX1nZXQgZmFyRGlzdGFuY2UoKXtyZXR1cm4gdGhpcy52aWV3c2hlZC5mYXJEaXN0YW5jZX1nZXQgZmFyRGlzdGFuY2VSZW5kZXJTcGFjZSgpe3JldHVybiB0aGlzLmZhckRpc3RhbmNlL3RoaXMubWV0ZXJzUGVyVW5pdH1nZXQgaGVhZGluZygpe3JldHVybiB0aGlzLnZpZXdzaGVkLmhlYWRpbmd9Z2V0IHRpbHQoKXtyZXR1cm4gdGhpcy52aWV3c2hlZC50aWx0fWdldCBmZWF0dXJlKCl7cmV0dXJuIHRoaXMudmlld3NoZWQuZmVhdHVyZX1nZXQgdGlsdFBhcmFsbGVsVG9TdXJmYWNlKCl7cmV0dXJuIHRoaXMudGlsdC05MH1nZXQgaG9yaXpvbnRhbEZpZWxkT2ZWaWV3KCl7cmV0dXJuIHRoaXMudmlld3NoZWQuaG9yaXpvbnRhbEZpZWxkT2ZWaWV3fWdldCB2ZXJ0aWNhbEZpZWxkT2ZWaWV3KCl7cmV0dXJuIHRoaXMudmlld3NoZWQudmVydGljYWxGaWVsZE9mVmlld31nZXQgb2JzZXJ2ZXJSZW5kZXJTcGFjZSgpe3JldHVybiB0aGlzLl9wb2ludFRvUmVuZGVyU3BhY2UodGhpcy5vYnNlcnZlcixkKCkpfWdldCB0YXJnZXQoKXtjb25zdCBlPXRoaXMudGFyZ2V0UmVuZGVyU3BhY2U7cmV0dXJuIHRoaXMucmVuZGVyU3BhY2VUb1BvaW50KGUsdGhpcy5vYnNlcnZlci5zcGF0aWFsUmVmZXJlbmNlKX1nZXQgdGFyZ2V0UmVuZGVyU3BhY2UoKXtyZXR1cm4gdGhpcy5fY29tcHV0ZVRhcmdldFJlbmRlclNwYWNlKHRoaXMub2JzZXJ2ZXJSZW5kZXJTcGFjZSl9Z2V0IHRhcmdldERpcmVjdGlvbigpe2NvbnN0IGU9bihkKCksdGhpcy50YXJnZXRSZW5kZXJTcGFjZSx0aGlzLm9ic2VydmVyUmVuZGVyU3BhY2UpO3JldHVybiBwKGUsZSl9Z2V0IHRpbHRlZFVwVmVjdG9yKCl7Y29uc3QgZT1nKGQoKSx0aGlzLnVwVmVjdG9yLC1yKHRoaXMudGlsdFBhcmFsbGVsVG9TdXJmYWNlKSx0aGlzLmxlZnRWZWN0b3IpO3JldHVybiBwKGUsZSl9Z2V0IF9iYXNpcygpe3JldHVybiB0aGlzLnJlbmRlckNvb3Jkc0hlbHBlci5iYXNpc01hdHJpeEF0UG9zaXRpb24odGhpcy5vYnNlcnZlclJlbmRlclNwYWNlLHMoKSl9Z2V0IHVwVmVjdG9yKCl7Y29uc3QgZT10aGlzLl9iYXNpcztyZXR1cm4gdShlWzhdLGVbOV0sZVsxMF0pfWdldCBub3J0aFZlY3Rvcigpe2NvbnN0IGU9dGhpcy5fYmFzaXM7cmV0dXJuIHUoZVs0XSxlWzVdLGVbNl0pfWdldCBsZWZ0VmVjdG9yKCl7Y29uc3QgZT10aGlzLnVwVmVjdG9yLHQ9ZyhkKCksdGhpcy5ub3J0aFZlY3Rvciwtcih0aGlzLmhlYWRpbmcpLGUpO3JldHVybiBhKHQsZSx0KX1nZXQgcmlnaHRWZWN0b3IoKXtyZXR1cm4gYyhkKCksdGhpcy5sZWZ0VmVjdG9yKX1jbG9uZSgpe3JldHVybiBuZXcgUyh7cmVuZGVyQ29vcmRzSGVscGVyOnRoaXMucmVuZGVyQ29vcmRzSGVscGVyLHZpZXdzaGVkOnRoaXMudmlld3NoZWQuY2xvbmUoKX0pfWdldCB2YWxpZCgpe3JldHVybiB0aGlzLnZpZXdzaGVkLnZhbGlkfWdldCBtZXRlcnNQZXJVbml0KCl7cmV0dXJuIHRoaXMucmVuZGVyQ29vcmRzSGVscGVyLnNwYXRpYWxSZWZlcmVuY2UubWV0ZXJzUGVyVW5pdH1wb2ludE9uU3BoZXJlKGUsdCxvKXtjb25zdHtvYnNlcnZlclJlbmRlclNwYWNlOmksdGFyZ2V0UmVuZGVyU3BhY2U6c309dGhpcyxwPW4oUixzLGkpO3JldHVybiBnKHAscCwtcih0KSx0aGlzLmxlZnRWZWN0b3IpLGcocCxwLC1yKGUpLHRoaXMudGlsdGVkVXBWZWN0b3IpLGwobyxwLGkpfWNvcm5lclBvaW50cyhlKXtjb25zdCB0PXRoaXMuaG9yaXpvbnRhbEZpZWxkT2ZWaWV3LzIscj10aGlzLnZlcnRpY2FsRmllbGRPZlZpZXcvMjt0aGlzLnBvaW50T25TcGhlcmUoLXQscixlLnRvcExlZnQpLHRoaXMucG9pbnRPblNwaGVyZSh0LHIsZS50b3BSaWdodCksdGhpcy5wb2ludE9uU3BoZXJlKC10LC1yLGUuYm90dG9tTGVmdCksdGhpcy5wb2ludE9uU3BoZXJlKHQsLXIsZS5ib3R0b21SaWdodCl9YXJjQ2VudGVyc1BvaW50cyhlKXtjb25zdCB0PXRoaXMuaG9yaXpvbnRhbEZpZWxkT2ZWaWV3LzIscj10aGlzLnZlcnRpY2FsRmllbGRPZlZpZXcvMjt0aGlzLnBvaW50T25TcGhlcmUoMCxyLGUudG9wKSx0aGlzLnBvaW50T25TcGhlcmUoMCwtcixlLmJvdHRvbSksdGhpcy5wb2ludE9uU3BoZXJlKC10LDAsZS5sZWZ0KSx0aGlzLnBvaW50T25TcGhlcmUodCwwLGUucmlnaHQpfXBhcmFsbGVsQ2VudGVyUG9pbnRzKGUpe2NvbnN0IHQ9dGhpcy5vYnNlcnZlclJlbmRlclNwYWNlLG89dGhpcy5mYXJEaXN0YW5jZVJlbmRlclNwYWNlKk1hdGguc2luKHIodGhpcy52ZXJ0aWNhbEZpZWxkT2ZWaWV3LzIpKSxpPWgoUix0aGlzLnRpbHRlZFVwVmVjdG9yLG8pO2woZS50b3AsdCxpKSxuKGUuYm90dG9tLHQsaSl9cmVuZGVyU3BhY2VUb1BvaW50KGUsdCl7Y29uc3Qgcj1SO3JldHVybiB0aGlzLnJlbmRlckNvb3Jkc0hlbHBlci5mcm9tUmVuZGVyQ29vcmRzKGUscix0KSxuZXcgdihyWzBdLHJbMV0sclsyXSx0KX1fcG9pbnRUb1JlbmRlclNwYWNlKGUsdCl7Y29uc3Qgcj1mKGUudG9BcnJheSgpKTtyZXR1cm4gdGhpcy5yZW5kZXJDb29yZHNIZWxwZXIudG9SZW5kZXJDb29yZHMocixlLnNwYXRpYWxSZWZlcmVuY2UsdCksdH1fY29tcHV0ZVRhcmdldFJlbmRlclNwYWNlKGUpe2NvbnN0e2xlZnRWZWN0b3I6dCxub3J0aFZlY3RvcjpvLHVwVmVjdG9yOml9PXRoaXMscz10aGlzLmZhckRpc3RhbmNlUmVuZGVyU3BhY2Usbj1kKCk7cmV0dXJuIGgobixvLHMpLGcobixuLC1yKHRoaXMuaGVhZGluZyksaSksZyhuLG4sLXIodGhpcy50aWx0UGFyYWxsZWxUb1N1cmZhY2UpLHQpLGwobixlLG4pLG59fTtlKFtvKCldLG0ucHJvdG90eXBlLFwicmVuZGVyQ29vcmRzSGVscGVyXCIsdm9pZCAwKSxlKFtvKCldLG0ucHJvdG90eXBlLFwidmlld3NoZWRcIix2b2lkIDApLGUoW28oKV0sbS5wcm90b3R5cGUsXCJvYnNlcnZlclJlbmRlclNwYWNlT3ZlcnJpZGVcIix2b2lkIDApLGUoW28oKV0sbS5wcm90b3R5cGUsXCJuZWVkVXBkYXRlQnlGZWF0dXJlXCIsdm9pZCAwKSxlKFtvKCldLG0ucHJvdG90eXBlLFwib2JzZXJ2ZXJcIixudWxsKSxlKFtvKCldLG0ucHJvdG90eXBlLFwiZWZmZWN0aXZlT2JzZXJ2ZXJSZW5kZXJTcGFjZVwiLG51bGwpLGUoW28oKV0sbS5wcm90b3R5cGUsXCJlZmZlY3RpdmVPYnNlcnZlclwiLG51bGwpLGUoW28oKV0sbS5wcm90b3R5cGUsXCJlZmZlY3RpdmVUYXJnZXRSZW5kZXJTcGFjZVwiLG51bGwpLGUoW28oKV0sbS5wcm90b3R5cGUsXCJmYXJEaXN0YW5jZVwiLG51bGwpLGUoW28oKV0sbS5wcm90b3R5cGUsXCJmYXJEaXN0YW5jZVJlbmRlclNwYWNlXCIsbnVsbCksZShbbygpXSxtLnByb3RvdHlwZSxcImhlYWRpbmdcIixudWxsKSxlKFtvKCldLG0ucHJvdG90eXBlLFwidGlsdFwiLG51bGwpLGUoW28oKV0sbS5wcm90b3R5cGUsXCJmZWF0dXJlXCIsbnVsbCksZShbbygpXSxtLnByb3RvdHlwZSxcInRpbHRQYXJhbGxlbFRvU3VyZmFjZVwiLG51bGwpLGUoW28oKV0sbS5wcm90b3R5cGUsXCJob3Jpem9udGFsRmllbGRPZlZpZXdcIixudWxsKSxlKFtvKCldLG0ucHJvdG90eXBlLFwidmVydGljYWxGaWVsZE9mVmlld1wiLG51bGwpLGUoW28oKV0sbS5wcm90b3R5cGUsXCJvYnNlcnZlclJlbmRlclNwYWNlXCIsbnVsbCksZShbbygpXSxtLnByb3RvdHlwZSxcInRhcmdldFwiLG51bGwpLGUoW28oKV0sbS5wcm90b3R5cGUsXCJ0YXJnZXRSZW5kZXJTcGFjZVwiLG51bGwpLGUoW28oKV0sbS5wcm90b3R5cGUsXCJ0YXJnZXREaXJlY3Rpb25cIixudWxsKSxlKFtvKCldLG0ucHJvdG90eXBlLFwidGlsdGVkVXBWZWN0b3JcIixudWxsKSxlKFtvKCldLG0ucHJvdG90eXBlLFwiX2Jhc2lzXCIsbnVsbCksZShbbygpXSxtLnByb3RvdHlwZSxcInVwVmVjdG9yXCIsbnVsbCksZShbbygpXSxtLnByb3RvdHlwZSxcIm5vcnRoVmVjdG9yXCIsbnVsbCksZShbbygpXSxtLnByb3RvdHlwZSxcImxlZnRWZWN0b3JcIixudWxsKSxlKFtvKCldLG0ucHJvdG90eXBlLFwicmlnaHRWZWN0b3JcIixudWxsKSxlKFtvKCldLG0ucHJvdG90eXBlLFwidmFsaWRcIixudWxsKSxlKFtvKCldLG0ucHJvdG90eXBlLFwibWV0ZXJzUGVyVW5pdFwiLG51bGwpLG09Uz1lKFtpKFwiZXNyaS52aWV3cy4zZC5hbmFseXNpcy5WaWV3c2hlZC5WaWV3c2hlZENvbXB1dGVkRGF0YVwiKV0sbSk7Y29uc3QgUj1kKCk7ZXhwb3J0e20gYXMgVmlld3NoZWRDb21wdXRlZERhdGF9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMzMvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydCBlIGZyb21cIi4uLy4uLy4uLy4uL0NvbG9yLmpzXCI7aW1wb3J0e2RlZzJyYWQgYXMgaX1mcm9tXCIuLi8uLi8uLi8uLi9jb3JlL21hdGhVdGlscy5qc1wiO2ltcG9ydHtDdWxsRmFjZU9wdGlvbnMgYXMgdH1mcm9tXCIuLi8uLi93ZWJnbC1lbmdpbmUvbGliL2Jhc2ljSW50ZXJmYWNlcy5qc1wiO2ltcG9ydHtSZW5kZXJPY2NsdWRlZEZsYWcgYXMgcn1mcm9tXCIuLi8uLi93ZWJnbC1lbmdpbmUvbGliL01hdGVyaWFsLmpzXCI7Y29uc3Qgcz0yLG89NCxjPWkoMiksbj0xLjU7Y2xhc3MgbHtjb25zdHJ1Y3Rvcigpe3RoaXMuY29sbGlzaW9uUmFkaXVzPTUsdGhpcy5mb3ZVbmZvY3VzZWRBcmNXaWR0aD1vLHRoaXMuZm92Rm9jdXNlZEFyY1dpZHRoPXMqdGhpcy5mb3ZVbmZvY3VzZWRBcmNXaWR0aCx0aGlzLnNjYWxlT3JpZW50U2l6ZT05MCx0aGlzLnNjYWxlT3JpZW50SGFuZGxlUmFkaXVzPS4wMjUsdGhpcy5zY2FsZU9yaWVudE1pbkRpc3RhbmNlPTEsdGhpcy5zY2FsZU9yaWVudEFycm93VGlwTGVuZ3RoPS4zLHRoaXMuc2NhbGVPcmllbnRBcnJvd1RpcEZvY3VzTXVsdGlwbGllcj1zLzEuNSx0aGlzLm9ic2VydmVyU2l6ZT01LHRoaXMuaG92ZXJUaW1lb3V0TWlsbGlzZWNvbmRzPTFlMyx0aGlzLnZpZXdBbmdsZVRocmVzaG9sZD0xMH1nZXRGb3ZBcmNXaWR0aChlKXtyZXR1cm4gZT90aGlzLmZvdkZvY3VzZWRBcmNXaWR0aDp0aGlzLmZvdlVuZm9jdXNlZEFyY1dpZHRofWdldFNjYWxlT3JpZW50QXJyb3dUaXBMZW5ndGgoZSl7cmV0dXJuIHRoaXMuc2NhbGVPcmllbnRBcnJvd1RpcExlbmd0aCooZT90aGlzLnNjYWxlT3JpZW50QXJyb3dUaXBGb2N1c011bHRpcGxpZXI6MSl9fWNvbnN0IGg9bmV3IGw7Y2xhc3MgYXtjb25zdHJ1Y3Rvcigpe3RoaXMuZnJhbWVXaWR0aE5vdFNlbGVjdGVkPS4zLHRoaXMuZnJhbWVXaWR0aFNlbGVjdGVkPTEsdGhpcy5mcmFtZUNvbG9yPW5ldyBlKFsyNTUsMjU1LDI1NSwuOTldKSx0aGlzLm9ic2VydmVyUG9pbnRDb25maWd1cmF0aW9uPXtzaXplOjYscGl4ZWxTbmFwcGluZ0VuYWJsZWQ6ITEscHJpbWl0aXZlOlwiY2lyY2xlXCIsZWxldmF0aW9uSW5mbzp7bW9kZTpcImFic29sdXRlLWhlaWdodFwiLG9mZnNldDowfSxvdXRsaW5lU2l6ZTowLGNvbG9yOmUudG9Vbml0UkdCQShuZXcgZShbMywyNTIsMTExLDFdKSl9LHRoaXMuc2hhcGVNYXRlcmlhbFBhcmFtZXRlcnM9e2NvbG9yOlsuMzMsLjMzLC4zMywuMjVdLHJlbmRlck9jY2x1ZGVkOnIuT2NjbHVkZSxjdWxsRmFjZTp0LkJhY2ssd3JpdGVEZXB0aDohMX19fWNvbnN0IGQ9bmV3IGE7ZXhwb3J0e2MgYXMgYXJjQW5nbGVQZXJTZWdtZW50LG4gYXMgY3JlYXRpb25WZXJ0aWNhbE9mZnNldCxoIGFzIHZpZXdzaGVkVG9vbE1hbmlwdWxhdG9yQ29uZmlndXJhdGlvbixkIGFzIHZpZXdzaGVkVmlzdWFsaXphdGlvbkNvbmZpZ3VyYXRpb259O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMzMvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtfIGFzIGV9ZnJvbVwiLi4vLi4vLi4vLi4vY2h1bmtzL3RzbGliLmVzNi5qc1wiO2ltcG9ydCBpIGZyb21cIi4uLy4uLy4uLy4uL2NvcmUvQWNjZXNzb3IuanNcIjtpbXBvcnR7aXNTb21lIGFzIHR9ZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9hcnJheVV0aWxzLmpzXCI7aW1wb3J0e2NyZWF0ZVRhc2sgYXMgYX1mcm9tXCIuLi8uLi8uLi8uLi9jb3JlL2FzeW5jVXRpbHMuanNcIjtpbXBvcnR7Y3ljbGljYWxEZWdyZWVzIGFzIG8sQ3ljbGljYWwgYXMgbn1mcm9tXCIuLi8uLi8uLi8uLi9jb3JlL0N5Y2xpY2FsLmpzXCI7aW1wb3J0e2hhbmRsZXNHcm91cCBhcyBzfWZyb21cIi4uLy4uLy4uLy4uL2NvcmUvaGFuZGxlVXRpbHMuanNcIjtpbXBvcnRcIi4uLy4uLy4uLy4uL2NvcmUvaGFzLmpzXCI7aW1wb3J0e2RlZzJyYWQgYXMgcn1mcm9tXCIuLi8uLi8uLi8uLi9jb3JlL21hdGhVdGlscy5qc1wiO2ltcG9ydHthYm9ydE1heWJlIGFzIGwsZGVzdHJveU1heWJlIGFzIHB9ZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9tYXliZS5qc1wiO2ltcG9ydHthZnRlciBhcyBoLHRocm93SWZBYm9ydGVkIGFzIHV9ZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9wcm9taXNlVXRpbHMuanNcIjtpbXBvcnR7d2F0Y2ggYXMgYyxzeW5jQW5kSW5pdGlhbCBhcyBkLGluaXRpYWwgYXMgdn1mcm9tXCIuLi8uLi8uLi8uLi9jb3JlL3JlYWN0aXZlVXRpbHMuanNcIjtpbXBvcnR7cHJvcGVydHkgYXMgbX1mcm9tXCIuLi8uLi8uLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3Byb3BlcnR5LmpzXCI7aW1wb3J0XCIuLi8uLi8uLi8uLi9jb3JlL0xvZ2dlci5qc1wiO2ltcG9ydHtzdWJjbGFzcyBhcyBmfWZyb21cIi4uLy4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvc3ViY2xhc3MuanNcIjtpbXBvcnR7YSBhcyBnLEggYXMgTSxlIGFzIF99ZnJvbVwiLi4vLi4vLi4vLi4vY2h1bmtzL3ZlYzMyLmpzXCI7aW1wb3J0e2NyZWF0ZSBhcyBifWZyb21cIi4uLy4uLy4uLy4uL2NvcmUvbGlicy9nbC1tYXRyaXgtMi9mYWN0b3JpZXMvdmVjM2Y2NC5qc1wiO2ltcG9ydHt0cnlQcm9qZWN0V2l0aFpDb252ZXJzaW9uIGFzIHd9ZnJvbVwiLi4vLi4vLi4vLi4vZ2VvbWV0cnkvcHJvamVjdGlvblV0aWxzLmpzXCI7aW1wb3J0e3ZpZXdpbmdNb2RlRnJvbVN0cmluZyBhcyBPfWZyb21cIi4uLy4uLy4uL1ZpZXdpbmdNb2RlLmpzXCI7aW1wb3J0e0ZpZWxkT2ZWaWV3TWFuaXB1bGF0aW9uIGFzIFYsaXNTaWRlSG9yaXpvbnRhbCBhcyB5LGZsaXBTaWRlIGFzIER9ZnJvbVwiLi9GaWVsZE9mVmlld01hbmlwdWxhdGlvbi5qc1wiO2ltcG9ydHtTY2FsZU9yaWVudE1hbmlwdWxhdGlvbiBhcyBUfWZyb21cIi4vU2NhbGVPcmllbnRNYW5pcHVsYXRpb24uanNcIjtpbXBvcnR7dmlld3NoZWRUb29sTWFuaXB1bGF0b3JDb25maWd1cmF0aW9uIGFzIEh9ZnJvbVwiLi9WaWV3c2hlZENvbmZpZ3VyYXRpb24uanNcIjtpbXBvcnR7Vmlld3NoZWRPYnNlcnZlck1hbmlwdWxhdG9yIGFzIGp9ZnJvbVwiLi92aWV3c2hlZFRvb2xNYW5pcHVsYXRvclV0aWxzLmpzXCI7aW1wb3J0e2Rpc2NSYWRpdXNTbWFsbCBhcyBDfWZyb21cIi4uLy4uL2ludGVyYWN0aXZlL2VkaXRpbmdUb29scy9tYW5pcHVsYXRpb25zL2NvbmZpZy5qc1wiO2ltcG9ydHtNb3ZlTWFuaXB1bGF0aW9uIGFzIEZ9ZnJvbVwiLi4vLi4vaW50ZXJhY3RpdmUvZWRpdGluZ1Rvb2xzL21hbmlwdWxhdGlvbnMvTW92ZU1hbmlwdWxhdGlvbi5qc1wiO2ltcG9ydHtyZXNldFByb3BlcnRpZXMgYXMgUyxkcmFnTWFuaXB1bGF0ZWRPYmplY3QgYXMgUH1mcm9tXCIuLi8uLi8uLi9pbnRlcmFjdGl2ZS9kcmFnRXZlbnRQaXBlbGluZS5qc1wiO2ltcG9ydHtFZGl0R2VvbWV0cnlPcGVyYXRpb25zIGFzIGt9ZnJvbVwiLi4vLi4vLi4vaW50ZXJhY3RpdmUvZWRpdEdlb21ldHJ5L0VkaXRHZW9tZXRyeU9wZXJhdGlvbnMuanNcIjtjb25zdCBFPVN5bWJvbChcImRyYWdIYW5kbGVzXCIpLHg9U3ltYm9sKFwiaGlkZU1hbmlwdWxhdG9yc1wiKSxBPVN5bWJvbChcImhpZGVGb1ZNYW5pcHVsYXRvcnNcIiksej1TeW1ib2woXCJoaWRlT2JzZXJ2ZXJNYW5pcHVsYXRvclwiKTtsZXQgVT1jbGFzcyBleHRlbmRzIGl7Y29uc3RydWN0b3IoZSl7c3VwZXIoZSksdGhpcy5fbW92ZU1hbmlwdWxhdGlvbj1udWxsLHRoaXMuX29ic2VydmVyTWFuaXB1bGF0b3I9bnVsbCx0aGlzLl9maWVsZE9mVmlld01hbmlwdWxhdGlvbj1udWxsLHRoaXMuX3NjYWxlT3JpZW50TWFuaXB1bGF0aW9uPW51bGwsdGhpcy5fZm9yY2VIb3ZlcmluZ1Rhc2s9bnVsbCx0aGlzLl9mb3JjZUhvdmVyaW5nVGVzdFByb21pc2U9bnVsbCx0aGlzLl9ncmFiYmluZz0hMSx0aGlzLnZpZXdzaGVkQ29tcHV0ZWREYXRhPW51bGx9aW5pdGlhbGl6ZSgpe3RoaXMuX21vdmVNYW5pcHVsYXRpb249dGhpcy5fY3JlYXRlTW92ZU1hbmlwdWxhdGlvbigpLHRoaXMuX2ZpZWxkT2ZWaWV3TWFuaXB1bGF0aW9uPW5ldyBWKHt2aWV3OnRoaXMudmlldyx0b29sOnRoaXMucGFyZW50VG9vbH0pLHRoaXMuX3NjYWxlT3JpZW50TWFuaXB1bGF0aW9uPW5ldyBUKHt2aWV3OnRoaXMudmlldyx0b29sOnRoaXMucGFyZW50VG9vbH0pLHRoaXMuX29ic2VydmVyTWFuaXB1bGF0b3I9bmV3IGoodGhpcy52aWV3LHRoaXMucGFyZW50VG9vbCksdGhpcy5hZGRIYW5kbGVzKFtjKCgoKT0+dGhpcy52aWV3c2hlZENvbXB1dGVkRGF0YT8ub2JzZXJ2ZXJSZW5kZXJTcGFjZSksKGU9PntudWxsIT1lJiYodGhpcy5fbW92ZU1hbmlwdWxhdGlvbi5yZW5kZXJMb2NhdGlvbj1lLHRoaXMuX29ic2VydmVyTWFuaXB1bGF0b3IucmVuZGVyTG9jYXRpb249ZSl9KSxkKSxjKCgoKT0+dGhpcy52aWV3c2hlZENvbXB1dGVkRGF0YT8uaGVhZGluZyksKGU9PntlJiYodGhpcy5fbW92ZU1hbmlwdWxhdGlvbi5hbmdsZT1yKDkwLWUpKX0pLHYpLGMoKCgpPT57Y29uc3R7dmlld3NoZWRDb21wdXRlZERhdGE6ZX09dGhpcztyZXR1cm57dmlld3NoZWRDb21wdXRlZERhdGE6ZSxvYnNlcnZlcjplPy5vYnNlcnZlcn19KSwoKHt2aWV3c2hlZENvbXB1dGVkRGF0YTplLG9ic2VydmVyOml9LGEpPT57dGhpcy5fZ3JhYmJpbmcmJmkhPT1hPy5vYnNlcnZlcnx8KHRoaXMucmVtb3ZlSGFuZGxlcyhFKSxlPy52YWxpZCYmdGhpcy5hZGRIYW5kbGVzKFt0aGlzLl9idWlsZE9ic2VydmVyRHJhZ1BpcGVsaW5lKGUpLHRoaXMuX2J1aWxkRk9WRHJhZ1BpcGVsaW5lKGUpLHRoaXMuX2J1aWxkU2NhbGVPcmllbnREcmFnUGlwZWxpbmUoZSldLmZpbHRlcih0KSxFKSl9KSx2KSxjKCgoKT0+e2NvbnN0IGU9dGhpcy52aWV3c2hlZENvbXB1dGVkRGF0YTtyZXR1cm4gZT8udmFsaWQ/e3ZpZXdzaGVkQ29tcERhdGE6ZSx0YXJnZXQ6ZS50YXJnZXRSZW5kZXJTcGFjZSxoRk9WOmUuaG9yaXpvbnRhbEZpZWxkT2ZWaWV3LHZGT1Y6ZS52ZXJ0aWNhbEZpZWxkT2ZWaWV3fTpudWxsfSksKGU9PntudWxsIT1lJiZ0aGlzLl9maWVsZE9mVmlld01hbmlwdWxhdGlvbi51cGRhdGVNYW5pcHVsYXRvcnNUcmFuc2Zvcm0oZS52aWV3c2hlZENvbXBEYXRhKX0pLHYpLGMoKCgpPT57Y29uc3QgZT10aGlzLnZpZXdzaGVkQ29tcHV0ZWREYXRhO3JldHVybiBlPy52YWxpZD97dmlld3NoZWRDb21wRGF0YTplLGhGT1Y6ZS5ob3Jpem9udGFsRmllbGRPZlZpZXcsdkZPVjplLnZlcnRpY2FsRmllbGRPZlZpZXcsdGlsdDplLnRpbHR9Om51bGx9KSwoZT0+e251bGwhPWUmJnRoaXMuX2ZpZWxkT2ZWaWV3TWFuaXB1bGF0aW9uLnVwZGF0ZU1hbmlwdWxhdG9yVmlzdWFscyhlLnZpZXdzaGVkQ29tcERhdGEpfSksdiksYygoKCk9Pntjb25zdCBlPXRoaXMuYW5hbHlzaXNWaWV3RGF0YS52aXNpYmxlJiYodGhpcy52aWV3c2hlZENvbXB1dGVkRGF0YT8udmFsaWQ/PyExKSxpPXRoaXMucGFyZW50VG9vbC5zZWxlY3RlZFZpZXdzaGVkQ29tcHV0ZWREYXRhPT09dGhpcy52aWV3c2hlZENvbXB1dGVkRGF0YTtyZXR1cm57Zm92TWFuaXB1bGF0aW9uQXZhaWxhYmxlOmUmJiF0aGlzLnBhcmVudFRvb2wuaXNQbGFjaW5nVGFyZ2V0LG5vbkZPVk1hbmlwdWxhdGlvbkF2YWlsYWJsZTplJiYoIXRoaXMucGFyZW50VG9vbC5jcmVhdGluZ3x8aSl9fSksKCh7Zm92TWFuaXB1bGF0aW9uQXZhaWxhYmxlOmUsbm9uRk9WTWFuaXB1bGF0aW9uQXZhaWxhYmxlOml9KT0+e3RoaXMuX21vdmVNYW5pcHVsYXRpb24uYXZhaWxhYmxlPWksdGhpcy5fc2NhbGVPcmllbnRNYW5pcHVsYXRpb24uYXZhaWxhYmxlPWksdGhpcy5fb2JzZXJ2ZXJNYW5pcHVsYXRvci5hdmFpbGFibGU9aSx0aGlzLl9maWVsZE9mVmlld01hbmlwdWxhdGlvbi5hdmFpbGFibGU9ZX0pLHYpLGMoKCgpPT57Y29uc3QgZT10aGlzLnZpZXdzaGVkQ29tcHV0ZWREYXRhO2lmKCFlPy52YWxpZClyZXR1cm4gbnVsbDtjb25zdHtvYnNlcnZlcjppLHRhcmdldDp0LHZlcnRpY2FsRmllbGRPZlZpZXc6YSxob3Jpem9udGFsRmllbGRPZlZpZXc6b309ZTtyZXR1cm57dmlld3NoZWRDb21wRGF0YTplLG9ic2VydmVyOmksdGFyZ2V0OnQsdmVydGljYWxGaWVsZE9mVmlldzphLGhvcml6b250YWxGaWVsZE9mVmlldzpvfX0pLChlPT57bnVsbCE9ZSYmdGhpcy5fc2NhbGVPcmllbnRNYW5pcHVsYXRpb24udXBkYXRlTWFuaXB1bGF0b3JzKGUudmlld3NoZWRDb21wRGF0YSl9KSx2KV0pO2NvbnN0IGU9ZT0+e2NvbnN0IGk9dGhpcy5hbmFseXNpc1ZpZXdEYXRhO3RoaXMuYWRkSGFuZGxlcyhbZS5ldmVudHMub24oXCJmb2N1cy1jaGFuZ2VkXCIsKCgpPT57Y29uc3QgZT10aGlzLl9zb21lTWFuaXB1bGF0b3JIb3ZlcmluZygpO2UmJnRoaXMucGFyZW50VG9vbC5zdWJUb29sSGFuZGxlcy5mb3JFYWNoKCgoe3N1YlRvb2w6ZX0pPT57ZS5fcmVzZXRIb3ZlcmluZ1Rhc2soKX0pKSx0aGlzLl9zb21lTWFuaXB1bGF0b3JTZWxlY3RlZCgpfHxlfHwodGhpcy5fZm9yY2VIb3ZlcmluZ1Rhc2s9YSgoYXN5bmMgZT0+e2F3YWl0KHRoaXMuX2ZvcmNlSG92ZXJpbmdUZXN0UHJvbWlzZT8/aChILmhvdmVyVGltZW91dE1pbGxpc2Vjb25kcyxlKSksdShlKSx0aGlzLl9mb3JjZUhvdmVyaW5nVGFzaz1udWxsLHRoaXMuX3VwZGF0ZU1hbmlwdWxhdG9yVmlzaWJpbGl0eSgpfSkpKX0pKSxlLmV2ZW50cy5vbihcImdyYWItY2hhbmdlZFwiLCh0PT57dGhpcy5fZ3JhYmJpbmc9XCJzdGFydFwiPT09dC5hY3Rpb24sXCJlbmRcIj09PXQuYWN0aW9uJiZpLnRvb2w/LnVwZGF0ZUludGVyYWN0aW9uVmlzdWFsc1Zpc2liaWxpdHkoKSx0aGlzLnBhcmVudFRvb2wuc3ViVG9vbEhhbmRsZXMuZm9yRWFjaCgoKHtzdWJUb29sOmV9KT0+e2UhPT10aGlzJiZlLl9zZXRJbnRlcmFjdGl2ZSghdGhpcy5fZ3JhYmJpbmcpfSkpLHRoaXMuX3NldEludGVyYWN0aXZlKChpPT5pLmhhc01hbmlwdWxhdG9yKGUpfHwhdGhpcy5fZ3JhYmJpbmcpKX0pKSxlLmV2ZW50cy5vbihcImRyYWdcIiwoZT0+e1wic3RhcnRcIj09PWUuYWN0aW9uJiZpLnRvb2w/LnVwZGF0ZUludGVyYWN0aW9uVmlzdWFsc1Zpc2liaWxpdHkoKX0pKV0pfTt0aGlzLl9mb3JFYWNoTWFuaXB1bGF0b3IoZSl9ZGVzdHJveSgpe3RoaXMuX2ZvcmNlSG92ZXJpbmdUYXNrPWwodGhpcy5fZm9yY2VIb3ZlcmluZ1Rhc2spLHRoaXMuX21vdmVNYW5pcHVsYXRpb249cCh0aGlzLl9tb3ZlTWFuaXB1bGF0aW9uKSx0aGlzLl9maWVsZE9mVmlld01hbmlwdWxhdGlvbj1wKHRoaXMuX2ZpZWxkT2ZWaWV3TWFuaXB1bGF0aW9uKSx0aGlzLl9zY2FsZU9yaWVudE1hbmlwdWxhdGlvbj1wKHRoaXMuX3NjYWxlT3JpZW50TWFuaXB1bGF0aW9uKSx0aGlzLnBhcmVudFRvb2wubWFuaXB1bGF0b3JzLnJlbW92ZSh0aGlzLl9vYnNlcnZlck1hbmlwdWxhdG9yKSx0aGlzLl9vYnNlcnZlck1hbmlwdWxhdG9yPXAodGhpcy5fb2JzZXJ2ZXJNYW5pcHVsYXRvcil9Z2V0IHZpZXdzaGVkKCl7cmV0dXJuIHRoaXMudmlld3NoZWRDb21wdXRlZERhdGE/LnZpZXdzaGVkfWdldCBncmFiYmluZygpe3JldHVybiB0aGlzLl9ncmFiYmluZ31nZXQgb2JzZXJ2ZXIoKXtyZXR1cm4gdGhpcy52aWV3c2hlZD8ub2JzZXJ2ZXJ9c2V0IG9ic2VydmVyKGUpe2NvbnN0IGk9dGhpcy52aWV3c2hlZDtudWxsIT1pJiYoaS5vYnNlcnZlcj1lKX1nZXQgZGlzY01hbmlwdWxhdG9yKCl7cmV0dXJuIHRoaXMuX21vdmVNYW5pcHVsYXRpb24ueHlNYW5pcHVsYXRpb24uZGlzY01hbmlwdWxhdG9yfWdldCBtb3ZlSW50ZXJhY3Rpb25TdGF0ZSgpe2NvbnN0e2RyYWdnaW5nOmUsZ3JhYmJpbmc6aX09dGhpcy5fbW92ZU1hbmlwdWxhdGlvbjtyZXR1cm57ZHJhZ2dpbmc6ZSxncmFiYmluZzppfX1nZXQgc2NhbGVPcmllbnRJbnRlcmFjdGlvblN0YXRlKCl7Y29uc3R7ZHJhZ2dpbmc6ZSxncmFiYmluZzppfT10aGlzLl9zY2FsZU9yaWVudE1hbmlwdWxhdGlvbjtyZXR1cm57ZHJhZ2dpbmc6ZSxncmFiYmluZzppfX1fc2V0SW50ZXJhY3RpdmUoZSl7Y29uc3QgaT1cImJvb2xlYW5cIj09dHlwZW9mIGU7dGhpcy5fZm9yRWFjaE1hbmlwdWxhdGlvbigodD0+dC5pbnRlcmFjdGl2ZT1pP2U6ZSh0KSkpfW9uTWFuaXB1bGF0b3JTZWxlY3Rpb25DaGFuZ2VkKCl7aWYodGhpcy5fdXBkYXRlTWFuaXB1bGF0b3JWaXNpYmlsaXR5KCksIXRoaXMuX3NvbWVNYW5pcHVsYXRvclNlbGVjdGVkKCkpe3RoaXMuYW5hbHlzaXNWaWV3RGF0YS5zZWxlY3RlZFZpZXdzaGVkPT09dGhpcy52aWV3c2hlZCYmKHRoaXMuYW5hbHlzaXNWaWV3RGF0YS5zZWxlY3RlZFZpZXdzaGVkPW51bGwpLHRoaXMuX3Jlc2V0SG92ZXJpbmdUYXNrKCl9fWhhc01hbmlwdWxhdG9yKGUpe2xldCBpPSExO3JldHVybiB0aGlzLl9mb3JFYWNoTWFuaXB1bGF0b3IoKHQ9PntpPWl8fHQ9PT1lfSkpLGl9X3NvbWVNYW5pcHVsYXRvclNlbGVjdGVkKCl7cmV0dXJuIHRoaXMuX21vdmVNYW5pcHVsYXRpb24uc2VsZWN0ZWR8fHRoaXMuX2ZpZWxkT2ZWaWV3TWFuaXB1bGF0aW9uLnNlbGVjdGVkfHx0aGlzLl9zY2FsZU9yaWVudE1hbmlwdWxhdGlvbi5zZWxlY3RlZH1fc29tZU1hbmlwdWxhdG9ySG92ZXJpbmcoKXtyZXR1cm4gdGhpcy5fbW92ZU1hbmlwdWxhdGlvbi5ob3ZlcmluZ3x8dGhpcy5fZmllbGRPZlZpZXdNYW5pcHVsYXRpb24uaG92ZXJpbmd8fHRoaXMuX3NjYWxlT3JpZW50TWFuaXB1bGF0aW9uLmhvdmVyaW5nfV9jcmVhdGVNb3ZlTWFuaXB1bGF0aW9uKCl7cmV0dXJuIG5ldyBGKHt2aWV3OnRoaXMudmlldyx0b29sOnRoaXMucGFyZW50VG9vbCxzbmFwVG9TY2VuZTohMSx4eUF2YWlsYWJsZTohMCx4eUF4aXNBdmFpbGFibGU6ITAsekF2YWlsYWJsZTohMCxyYWRpdXM6Q30pfV9idWlsZE9ic2VydmVyRHJhZ1BpcGVsaW5lKGUpe2NvbnN0IGk9e21vZGU6XCJhYnNvbHV0ZS1oZWlnaHRcIixvZmZzZXQ6MH0sdD1lLm9ic2VydmVyO2lmKG51bGw9PXQpcmV0dXJuIG51bGw7Y29uc3QgYT10aGlzLnZpZXcuc3BhdGlhbFJlZmVyZW5jZTtyZXR1cm4gdGhpcy5fbW92ZU1hbmlwdWxhdGlvbi5jcmVhdGVEcmFnUGlwZWxpbmUoKChlLGksbyxuLHMpPT57bj1uLm5leHQoUyh0aGlzLFtcIm9ic2VydmVyXCJdKSk7Y29uc3Qgcj13KHQsYSk7aWYobnVsbD09cilyZXR1cm57c3RlcHM6byxjYW5jZWw6bn07Y29uc3QgbD1rLmZyb21HZW9tZXRyeShyLE8odGhpcy52aWV3LnZpZXdpbmdNb2RlKSk7cmV0dXJue3N0ZXBzOm8ubmV4dChQKHtvcGVyYXRpb25zOmx9KSkubmV4dCgoZT0+KHRoaXMub2JzZXJ2ZXI9bC5kYXRhLmdlb21ldHJ5LGUpKSksY2FuY2VsOm59fSksaSxhLHZvaWQgMCl9X2J1aWxkRk9WRHJhZ1BpcGVsaW5lKGUpe2xldCBpPTAsdD0wO3JldHVybiB0aGlzLl9maWVsZE9mVmlld01hbmlwdWxhdGlvbi5jcmVhdGVEcmFnUGlwZWxpbmUoKChhLG4scyk9PntpZihudWxsPT1lKXJldHVybntzdGVwczpuLGNhbmNlbDpzfTtjb25zdCByPWUudmlld3NoZWQ7bGV0IGw9bnVsbDtzPXMubmV4dChTKHIsW1wiaG9yaXpvbnRhbEZpZWxkT2ZWaWV3XCIsXCJ2ZXJ0aWNhbEZpZWxkT2ZWaWV3XCJdKSk7cmV0dXJue3N0ZXBzOm4ubmV4dCgoYT0+e1wic3RhcnRcIj09PWEuYWN0aW9uJiYobD1udWxsLGk9ZS5ob3Jpem9udGFsRmllbGRPZlZpZXcsdD1lLnZlcnRpY2FsRmllbGRPZlZpZXcpO2NvbnN0IG49YS5kZWx0YUFuZ2xlO2lmKG51bGw9PWwmJjAhPT1uKXtjb25zdCBlPVwiYm90dG9tXCI9PT1hLnNpZGV8fFwibGVmdFwiPT09YS5zaWRlP24+MDpuPDA7bD15KGEuc2lkZSk/MD09PWkmJmV8fDM2MD09PWkmJiFlOjA9PT10JiZlfWNvbnN0IHM9bD9EKGEuc2lkZSk6YS5zaWRlO2xldCBwPTA7c3dpdGNoKHMpe2Nhc2VcImxlZnRcIjpwPWkvMi1uO2JyZWFrO2Nhc2VcInJpZ2h0XCI6cD1pLzIrbjticmVhaztjYXNlXCJ0b3BcIjpwPXQrMipuO2JyZWFrO2Nhc2VcImJvdHRvbVwiOnA9dC0yKm59cmV0dXJuIHkocyk/KHA9by5ub3JtYWxpemUocCkscD1wPjI3MD8wOnA+MTgwPzE4MDpwLHIuaG9yaXpvbnRhbEZpZWxkT2ZWaWV3PTIqcCk6ci52ZXJ0aWNhbEZpZWxkT2ZWaWV3PXAsYX0pKSxjYW5jZWw6c319KSxlKX1fYnVpbGRTY2FsZU9yaWVudERyYWdQaXBlbGluZShlKXtsZXQgaT0wLHQ9MDtjb25zdCBhPShpLHQpPT4oYSxvLG4pPT57aWYobnVsbD09ZSlyZXR1cm57c3RlcHM6byxjYW5jZWw6bn07Y29uc3Qgcz1lLnZpZXdzaGVkO3JldHVybiBuPW4ubmV4dChTKHMsW2ldKSkse3N0ZXBzOm89by5uZXh0KHQocyxlKSksY2FuY2VsOm59fTtyZXR1cm4gcyhbdGhpcy5fc2NhbGVPcmllbnRNYW5pcHVsYXRpb24uY3JlYXRlSGVhZGluZ0RyYWdQaXBlbGluZShhKFwiaGVhZGluZ1wiLCgoaSxhKT0+YT0+KFwic3RhcnRcIj09PWEuYWN0aW9uJiYodD1lLmhlYWRpbmcpLGkuaGVhZGluZz1vLm5vcm1hbGl6ZSh0K2EuZGVsdGFBbmdsZSksYSkpKSxlKSx0aGlzLl9zY2FsZU9yaWVudE1hbmlwdWxhdGlvbi5jcmVhdGVUaWx0RHJhZ1BpcGVsaW5lKGEoXCJ0aWx0XCIsKCh0LGEpPT5hPT57XCJzdGFydFwiPT09YS5hY3Rpb24mJihpPWUudGlsdCk7bGV0IG89aSthLmRlbHRhQW5nbGU7cmV0dXJuIG88LTkwP289MTgwOm8+MjcwJiYobz0wKSx0LnRpbHQ9Ui5jbGFtcChvKSxhfSkpLGUpLHRoaXMuX3NjYWxlT3JpZW50TWFuaXB1bGF0aW9uLmNyZWF0ZURpc3RhbmNlRHJhZ1BpcGVsaW5lKGEoXCJmYXJEaXN0YW5jZVwiLCgoZSxpKT0+dD0+e2NvbnN0IGE9ZyhJLHQucmVuZGVyRW5kLGkub2JzZXJ2ZXJSZW5kZXJTcGFjZSksbz1NKGEpKmkubWV0ZXJzUGVyVW5pdCxuPV8oYSxpLnRhcmdldERpcmVjdGlvbik8MD9ILnNjYWxlT3JpZW50TWluRGlzdGFuY2U6bztyZXR1cm4gZS5mYXJEaXN0YW5jZT1uLHR9KSksZSldKX1fdXBkYXRlTWFuaXB1bGF0b3JWaXNpYmlsaXR5KCl7Y29uc3QgZT10aGlzLl9zb21lTWFuaXB1bGF0b3JTZWxlY3RlZCgpLGk9bnVsbCE9dGhpcy5fZm9yY2VIb3ZlcmluZ1Rhc2t8fHRoaXMuX3NvbWVNYW5pcHVsYXRvckhvdmVyaW5nKCksdD10aGlzLl9maWVsZE9mVmlld01hbmlwdWxhdGlvbi5ob3ZlcmluZyxhPXRoaXMucGFyZW50VG9vbC5jcmVhdGluZztsZXQgbz1bXTtjb25zdCBuPWU9PntvLnB1c2goZS5kaXNhYmxlRGlzcGxheSgpKX07ZXx8IWEmJmk/dGhpcy5yZW1vdmVIYW5kbGVzKHgpOih0aGlzLl9zY2FsZU9yaWVudE1hbmlwdWxhdGlvbi5mb3JFYWNoTWFuaXB1bGF0b3IobiksdGhpcy5fbW92ZU1hbmlwdWxhdGlvbi5mb3JFYWNoTWFuaXB1bGF0b3IobiksdGhpcy5hZGRIYW5kbGVzKG8seCksbz1bXSksZXx8IWEmJml8fGEmJnQ/dGhpcy5yZW1vdmVIYW5kbGVzKEEpOih0aGlzLl9maWVsZE9mVmlld01hbmlwdWxhdGlvbi5mb3JFYWNoTWFuaXB1bGF0b3IobiksdGhpcy5hZGRIYW5kbGVzKG8sQSkpLGV8fCFhP3RoaXMucmVtb3ZlSGFuZGxlcyh6KTp0aGlzLmFkZEhhbmRsZXModGhpcy5fb2JzZXJ2ZXJNYW5pcHVsYXRvci5kaXNhYmxlRGlzcGxheSgpLHopfV9yZXNldEhvdmVyaW5nVGFzaygpe3RoaXMuX2ZvcmNlSG92ZXJpbmdUYXNrPWwodGhpcy5fZm9yY2VIb3ZlcmluZ1Rhc2spLHRoaXMuX3VwZGF0ZU1hbmlwdWxhdG9yVmlzaWJpbGl0eSgpfV9mb3JFYWNoTWFuaXB1bGF0b3IoZSl7dGhpcy5fZm9yRWFjaE1hbmlwdWxhdGlvbigoaT0+e2kuZm9yRWFjaE1hbmlwdWxhdG9yKGUpfSkpLGUodGhpcy5fb2JzZXJ2ZXJNYW5pcHVsYXRvcil9X2ZvckVhY2hNYW5pcHVsYXRpb24oZSl7ZSh0aGlzLl9tb3ZlTWFuaXB1bGF0aW9uKSxlKHRoaXMuX2ZpZWxkT2ZWaWV3TWFuaXB1bGF0aW9uKSxlKHRoaXMuX3NjYWxlT3JpZW50TWFuaXB1bGF0aW9uKX1nZXQgdGVzdCgpe3JldHVybnttb3ZlTWFuaXB1bGF0aW9uOnRoaXMuX21vdmVNYW5pcHVsYXRpb24sZmllbGRPZlZpZXdNYW5pcHVsYXRpb246dGhpcy5fZmllbGRPZlZpZXdNYW5pcHVsYXRpb24sc2NhbGVPcmllbnRNYW5pcHVsYXRpb246dGhpcy5fc2NhbGVPcmllbnRNYW5pcHVsYXRpb24sdmlld3NoZWRDb21wdXRlZERhdGE6dGhpcy52aWV3c2hlZENvbXB1dGVkRGF0YSxzZXRIb3ZlcmluZ1RpbWVvdXRQcm9taXNlOmU9Pnt0aGlzLl9mb3JjZUhvdmVyaW5nVGVzdFByb21pc2U9ZX19fX07ZShbbSh7Y29uc3RydWN0T25seTohMH0pXSxVLnByb3RvdHlwZSxcImFuYWx5c2lzXCIsdm9pZCAwKSxlKFttKHtjb25zdHJ1Y3RPbmx5OiEwfSldLFUucHJvdG90eXBlLFwiYW5hbHlzaXNWaWV3RGF0YVwiLHZvaWQgMCksZShbbSh7Y29uc3RydWN0T25seTohMH0pXSxVLnByb3RvdHlwZSxcInBhcmVudFRvb2xcIix2b2lkIDApLGUoW20oe2NvbnN0cnVjdE9ubHk6ITAsbm9uTnVsbGFibGU6ITB9KV0sVS5wcm90b3R5cGUsXCJ2aWV3XCIsdm9pZCAwKSxlKFttKCldLFUucHJvdG90eXBlLFwidmlld3NoZWRcIixudWxsKSxlKFttKCldLFUucHJvdG90eXBlLFwiX2dyYWJiaW5nXCIsdm9pZCAwKSxlKFttKCldLFUucHJvdG90eXBlLFwiZ3JhYmJpbmdcIixudWxsKSxlKFttKCldLFUucHJvdG90eXBlLFwidmlld3NoZWRDb21wdXRlZERhdGFcIix2b2lkIDApLGUoW20oKV0sVS5wcm90b3R5cGUsXCJvYnNlcnZlclwiLG51bGwpLFU9ZShbZihcImVzcmkudmlld3MuM2QuYW5hbHlzaXMuVmlld3NoZWQuVmlld3NoZWRTdWJUb29sXCIpXSxVKTtjb25zdCBJPWIoKSxSPW5ldyBuKDAsMTgwKTtleHBvcnR7VSBhcyBWaWV3c2hlZFN1YlRvb2x9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMzMvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtfIGFzIGV9ZnJvbVwiLi4vLi4vLi4vLi4vY2h1bmtzL3RzbGliLmVzNi5qc1wiO2ltcG9ydCB0IGZyb21cIi4uLy4uLy4uLy4uL2FuYWx5c2lzL1ZpZXdzaGVkLmpzXCI7aW1wb3J0e21ha2VIYW5kbGUgYXMgaX1mcm9tXCIuLi8uLi8uLi8uLi9jb3JlL2hhbmRsZVV0aWxzLmpzXCI7aW1wb3J0XCIuLi8uLi8uLi8uLi9jb3JlL2hhcy5qc1wiO2ltcG9ydHttYXBDb2xsZWN0aW9uIGFzIHN9ZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9tYXBDb2xsZWN0aW9uVXRpbHMuanNcIjtpbXBvcnR7cmFkMmRlZyBhcyBhfWZyb21cIi4uLy4uLy4uLy4uL2NvcmUvbWF0aFV0aWxzLmpzXCI7aW1wb3J0e2Rlc3Ryb3lNYXliZSBhcyBufWZyb21cIi4uLy4uLy4uLy4uL2NvcmUvbWF5YmUuanNcIjtpbXBvcnR7d2hlbiBhcyBvLHdhdGNoIGFzIGwsc3luY0FuZEluaXRpYWwgYXMgcixzeW5jIGFzIGQsaW5pdGlhbCBhcyBjfWZyb21cIi4uLy4uLy4uLy4uL2NvcmUvcmVhY3RpdmVVdGlscy5qc1wiO2ltcG9ydHtwcm9wZXJ0eSBhcyBofWZyb21cIi4uLy4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvcHJvcGVydHkuanNcIjtpbXBvcnRcIi4uLy4uLy4uLy4uL2NvcmUvTG9nZ2VyLmpzXCI7aW1wb3J0XCIuLi8uLi8uLi8uLi9jb3JlL1JhbmRvbUxDRy5qc1wiO2ltcG9ydHtzdWJjbGFzcyBhcyB1fWZyb21cIi4uLy4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvc3ViY2xhc3MuanNcIjtpbXBvcnR7Y3JlYXRlIGFzIHB9ZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9saWJzL2dsLW1hdHJpeC0yL2ZhY3Rvcmllcy9tYXQ0ZjY0LmpzXCI7aW1wb3J0e2EgYXMgbSxIIGFzIGcsaSBhcyB2LHAgYXMgdyxlIGFzIF99ZnJvbVwiLi4vLi4vLi4vLi4vY2h1bmtzL3ZlYzMyLmpzXCI7aW1wb3J0e2NyZWF0ZSBhcyBWfWZyb21cIi4uLy4uLy4uLy4uL2NvcmUvbGlicy9nbC1tYXRyaXgtMi9mYWN0b3JpZXMvdmVjM2Y2NC5qc1wiO2ltcG9ydCBmIGZyb21cIi4uLy4uLy4uLy4uL2dlb21ldHJ5L1BvaW50LmpzXCI7aW1wb3J0e2Zyb21Qb3NpdGlvbkFuZE5vcm1hbCBhcyBiLGNyZWF0ZSBhcyB5LHByb2plY3RQb2ludCBhcyBTfWZyb21cIi4uLy4uLy4uLy4uL2dlb21ldHJ5L3N1cHBvcnQvcGxhbmUuanNcIjtpbXBvcnR7Y3JlYXRpb25WZXJ0aWNhbE9mZnNldCBhcyBUfWZyb21cIi4vVmlld3NoZWRDb25maWd1cmF0aW9uLmpzXCI7aW1wb3J0e1ZpZXdzaGVkU3ViVG9vbCBhcyBDfWZyb21cIi4vVmlld3NoZWRTdWJUb29sLmpzXCI7aW1wb3J0e01hbmlwdWxhdG9yM0QgYXMgRH1mcm9tXCIuLi8uLi9pbnRlcmFjdGl2ZS9NYW5pcHVsYXRvcjNELmpzXCI7aW1wb3J0e1NldHRpbmdzIGFzIE19ZnJvbVwiLi4vLi4vaW50ZXJhY3RpdmUvZWRpdGluZ1Rvb2xzL3NldHRpbmdzLmpzXCI7aW1wb3J0e0V4dGVuZGVkTGluZVZpc3VhbEVsZW1lbnQgYXMgan1mcm9tXCIuLi8uLi9pbnRlcmFjdGl2ZS92aXN1YWxFbGVtZW50cy9FeHRlbmRlZExpbmVWaXN1YWxFbGVtZW50LmpzXCI7aW1wb3J0e0xhc2VybGluZVZpc3VhbEVsZW1lbnQgYXMgSH1mcm9tXCIuLi8uLi9pbnRlcmFjdGl2ZS92aXN1YWxFbGVtZW50cy9MYXNlcmxpbmVWaXN1YWxFbGVtZW50LmpzXCI7aW1wb3J0e3RvR3JhcGhpYyBhcyBJfWZyb21cIi4uLy4uL3dlYmdsLWVuZ2luZS9saWIvaW50ZXJzZWN0b3JVdGlsc0NvbnZlcnNpb25zLmpzXCI7aW1wb3J0e1JlbmRlck9jY2x1ZGVkRmxhZyBhcyBQfWZyb21cIi4uLy4uL3dlYmdsLWVuZ2luZS9saWIvTWF0ZXJpYWwuanNcIjtpbXBvcnR7QW5hbHlzaXNUb29sQmFzZSBhcyBFfWZyb21cIi4uLy4uLy4uL2ludGVyYWN0aXZlL0FuYWx5c2lzVG9vbEJhc2UuanNcIjtpbXBvcnR7c2tldGNoS2V5cyBhcyBMfWZyb21cIi4uLy4uLy4uL2ludGVyYWN0aXZlL2tleWJpbmRpbmdzLmpzXCI7aW1wb3J0e25ld1Rvb2xJbnRlcnNlY3RvciBhcyBrfWZyb21cIi4uLy4uLy4uL2ludGVyYWN0aXZlL1Rvb2xJbnRlcnNlY3Rvci5qc1wiO2ltcG9ydHtjcmVhdGVTY3JlZW5Qb2ludEFycmF5RnJvbUV2ZW50IGFzIE99ZnJvbVwiLi4vLi4vLi4vc3VwcG9ydC9zY3JlZW5VdGlscy5qc1wiO2NvbnN0IFI9U3ltYm9sKFwiaW50ZXJhY3Rpb25WaXN1YWxzXCIpO2xldCBXPWNsYXNzIGV4dGVuZHMgRXtjb25zdHJ1Y3RvcihlKXtzdXBlcihlKSx0aGlzLnJlbW92ZUluY29tcGxldGVPbkNhbmNlbD0hMSx0aGlzLmF1dG9tYXRpY01hbmlwdWxhdG9yU2VsZWN0aW9uPSExLHRoaXMuX3N0YWdlZFZpZXdzaGVkPW51bGwsdGhpcy5fc3RhZ2VkVmlld3NoZWRDb21wdXRlZERhdGE9bnVsbCx0aGlzLl9wbGFjZW1lbnRNb2RlPXEsdGhpcy5fY3JlYXRpb25TdGF0ZT0hMSx0aGlzLl9pbnRlcmFjdGlvblZpc3VhbEVsZW1lbnRzPW51bGwsdGhpcy5fc2V0dGluZ3M9bmV3IE0oe2dldFRoZW1lOigpPT50aGlzLnZpZXcuZWZmZWN0aXZlVGhlbWV9KSx0aGlzLl9zZWxlY3RlZE1hbmlwdWxhdG9yPW51bGx9aW5pdGlhbGl6ZSgpe3RoaXMuX2ludGVyc2VjdG9yPWsodGhpcy52aWV3LnN0YXRlLnZpZXdpbmdNb2RlKSx0aGlzLl9jcmVhdGVJbnRlcmFjdGlvblZpc3VhbHMoKTtjb25zdCBlPXRoaXMuYW5hbHlzaXNWaWV3RGF0YS52aWV3c2hlZENvbXB1dGVkRGF0YUhhbmRsZXM7dGhpcy5zdWJUb29sSGFuZGxlcz1zKCgoKT0+ZSksKCh7dmlld3NoZWRDb21wdXRlZERhdGE6ZX0pPT57Y29uc3QgdD1uZXcgQyh7YW5hbHlzaXM6dGhpcy5hbmFseXNpcyxhbmFseXNpc1ZpZXdEYXRhOnRoaXMuYW5hbHlzaXNWaWV3RGF0YSxwYXJlbnRUb29sOnRoaXMsdmlldzp0aGlzLnZpZXcsdmlld3NoZWRDb21wdXRlZERhdGE6ZX0pO3JldHVybntzdWJUb29sOnQscmVtb3ZlOigpPT57dGhpcy5zZWxlY3RlZFZpZXdzaGVkPT09ZS52aWV3c2hlZCYmKHRoaXMuc2VsZWN0ZWRWaWV3c2hlZD1udWxsKSx0LmRlc3Ryb3koKX19fSkpLHRoaXMuYWRkSGFuZGxlcyhbbygoKCk9PnRoaXMuX3ZhbGlkKSwoKCk9PnRoaXMuZmluaXNoVG9vbENyZWF0aW9uKCkpLHIpLGwoKCgpPT50aGlzLl9zdGFnZWRWaWV3c2hlZCksKGU9Pntjb25zdCB0PXRoaXMuYW5hbHlzaXNWaWV3RGF0YS52aWV3c2hlZENvbXB1dGVkRGF0YUhhbmRsZXM7dGhpcy5fc3RhZ2VkVmlld3NoZWRDb21wdXRlZERhdGE9bnVsbCE9ZSYmbnVsbCE9dD90aGlzLl9maW5kU3ViVG9vbChlKT8udmlld3NoZWRDb21wdXRlZERhdGE6bnVsbH0pLHIpLHRoaXMuYW5hbHlzaXMudmlld3NoZWRzLm9uKFwiYWZ0ZXItcmVtb3ZlXCIsKGU9Pntjb25zdCB0PXRoaXMuX3N0YWdlZFZpZXdzaGVkO251bGwhPXQmJmUuaXRlbT09PXQmJnRoaXMuYW5hbHlzaXMudmlld3NoZWRzLmFkZCh0KX0pKSxsKCgoKT0+dGhpcy5maXJzdEdyYWJiZWRNYW5pcHVsYXRvciksKGU9PntpZihudWxsIT1lKXtjb25zdCB0PXRoaXMuX2ZpbmRTdWJUb29sKGUpPy52aWV3c2hlZDt0aGlzLnNlbGVjdGVkVmlld3NoZWQ9dCx0aGlzLl9zZWxlY3RNYW5pcHVsYXRvcihlKX1lbHNlIHRoaXMuX3NlbGVjdGVkU3ViVG9vbD8ub25NYW5pcHVsYXRvclNlbGVjdGlvbkNoYW5nZWQoKX0pLGQpLGwoKCgpPT50aGlzLnZpZXcuYWN0aXZlVG9vbCksKGU9PntlIT09dGhpcyYmbnVsbCE9ZSYmKHRoaXMuc2VsZWN0ZWRWaWV3c2hlZD1udWxsKX0pKSxvKCgoKT0+e2NvbnN0IGU9dGhpcy5zZWxlY3RlZFZpZXdzaGVkQ29tcHV0ZWREYXRhO3JldHVybiBudWxsPT1lP251bGw6e3N1YlRvb2w6dGhpcy5fc2VsZWN0ZWRTdWJUb29sLG9ic2VydmVyOmUub2JzZXJ2ZXJSZW5kZXJTcGFjZSx0YXJnZXQ6ZS50YXJnZXRSZW5kZXJTcGFjZX19KSwoZT0+e2NvbnN0e3N1YlRvb2w6dCxvYnNlcnZlcjppLHRhcmdldDpzfT1lO3Q/Lm1vdmVJbnRlcmFjdGlvblN0YXRlLmRyYWdnaW5nP3RoaXMuX3VwZGF0ZUludGVyYWN0aW9uVmlzdWFsc0xvY2F0aW9uKGksITApOnQ/LnNjYWxlT3JpZW50SW50ZXJhY3Rpb25TdGF0ZS5kcmFnZ2luZyYmdGhpcy5fdXBkYXRlSW50ZXJhY3Rpb25WaXN1YWxzTG9jYXRpb24ocywhMSl9KSxjKSxsKCgoKT0+dGhpcy5jcmVhdGluZyksKCgpPT50aGlzLnVwZGF0ZUludGVyYWN0aW9uVmlzdWFsc1Zpc2liaWxpdHkoKSkpLGwoKCgpPT50aGlzLnNlbGVjdGVkVmlld3NoZWQpLChlPT57Y29uc3QgdD10aGlzLl9zZWxlY3RlZE1hbmlwdWxhdG9yLGk9dGhpcy5fc2VsZWN0ZWRTdWJUb29sO251bGw9PWU/dGhpcy5fc2VsZWN0TWFuaXB1bGF0b3IobnVsbCk6bnVsbCE9dCYmaS5oYXNNYW5pcHVsYXRvcih0KXx8dGhpcy5fc2VsZWN0TWFuaXB1bGF0b3IoaS5kaXNjTWFuaXB1bGF0b3IpfSksYyldKX1kZXN0cm95KCl7dGhpcy5zdWJUb29sSGFuZGxlcz1uKHRoaXMuc3ViVG9vbEhhbmRsZXMpLHRoaXMucmVtb3ZlSGFuZGxlcyhSKX1vbkRlYWN0aXZhdGUoKXt0aGlzLnJlbW92ZVN0YWdlZCgpLHRoaXMuX2NyZWF0aW9uU3RhdGU9ITF9Z2V0IF92YWxpZCgpe3JldHVybiB0aGlzLmFuYWx5c2lzVmlld0RhdGEudmlld3NoZWRDb21wdXRlZERhdGFIYW5kbGVzPy5zb21lKChlPT5lLnZpZXdzaGVkQ29tcHV0ZWREYXRhLnZhbGlkKSk/PyExfWdldCBjdXJzb3IoKXtyZXR1cm4gdGhpcy5jcmVhdGluZz9cImNyb3NzaGFpclwiOm51bGx9Z2V0IF9zZWxlY3RlZFN1YlRvb2woKXtyZXR1cm4gdGhpcy5fZmluZFN1YlRvb2wodGhpcy5zZWxlY3RlZFZpZXdzaGVkKX1fc2VsZWN0TWFuaXB1bGF0b3IoZSl7Y29uc3QgdD10aGlzLl9zZWxlY3RlZE1hbmlwdWxhdG9yO3QhPT1lJiYodGhpcy5fc2VsZWN0ZWRNYW5pcHVsYXRvcj1lLG51bGwhPXQmJih0LnNlbGVjdGVkPSExKSxudWxsIT1lJiYoZS5zZWxlY3RlZD0hMCksdGhpcy5fZmluZFN1YlRvb2wodCk/Lm9uTWFuaXB1bGF0b3JTZWxlY3Rpb25DaGFuZ2VkKCksdGhpcy5fc2VsZWN0ZWRTdWJUb29sPy5vbk1hbmlwdWxhdG9yU2VsZWN0aW9uQ2hhbmdlZCgpKX1nZXQgc2VsZWN0ZWRWaWV3c2hlZCgpe3JldHVybiB0aGlzLmFuYWx5c2lzVmlld0RhdGEuc2VsZWN0ZWRWaWV3c2hlZH1zZXQgc2VsZWN0ZWRWaWV3c2hlZChlKXt0aGlzLmFuYWx5c2lzVmlld0RhdGEuc2VsZWN0ZWRWaWV3c2hlZD1lfWdldCBzZWxlY3RlZFZpZXdzaGVkQ29tcHV0ZWREYXRhKCl7cmV0dXJuIHRoaXMuX3NlbGVjdGVkU3ViVG9vbD8udmlld3NoZWRDb21wdXRlZERhdGF9Z2V0IHN0YWdlZFZpZXdzaGVkKCl7cmV0dXJuIHRoaXMuX3N0YWdlZFZpZXdzaGVkfWdldCBncmFiYmluZygpe3JldHVybiB0aGlzLnN1YlRvb2xIYW5kbGVzLnNvbWUoKCh7c3ViVG9vbDplfSk9PmUuZ3JhYmJpbmcpKX1nZXQgY3JlYXRpbmcoKXtyZXR1cm4gdGhpcy5fY3JlYXRpb25TdGF0ZSYmdGhpcy5hY3RpdmV9Z2V0IGlzUGxhY2luZ1RhcmdldCgpe3JldHVyblwicGxhY2luZy10YXJnZXRcIj09PXRoaXMuX2NyZWF0aW9uU3RhdGV9cGxhY2UoZSl7dGhpcy5zZWxlY3RlZFZpZXdzaGVkPW51bGwsdGhpcy5fcGxhY2VtZW50TW9kZT1lLHRoaXMuX2NyZWF0aW9uU3RhdGU9XCJwbGFjaW5nLW9ic2VydmVyXCIsdGhpcy5fZmluaXNoVG9vbENyZWF0aW9uSWZWYWxpZCgpfW9uTWFuaXB1bGF0b3JTZWxlY3Rpb25DaGFuZ2VkKCl7dGhpcy5zdWJUb29sSGFuZGxlcy5mb3JFYWNoKChlPT5lLnN1YlRvb2wub25NYW5pcHVsYXRvclNlbGVjdGlvbkNoYW5nZWQoKSkpfW9uSW5wdXRFdmVudChlKXtzd2l0Y2goZS50eXBlKXtjYXNlXCJpbW1lZGlhdGUtZG91YmxlLWNsaWNrXCI6dGhpcy5fZG91YmxlQ2xpY2tIYW5kbGVyKGUpO2JyZWFrO2Nhc2VcInBvaW50ZXItbW92ZVwiOnRoaXMuX3BvaW50ZXJNb3ZlSGFuZGxlcihlKTticmVhaztjYXNlXCJrZXktZG93blwiOkwuY2FuY2VsPT09ZS5rZXk/dGhpcy5fY2FuY2VsS2V5SGFuZGxlcihlKTpMLmRlbGV0ZS5pbmNsdWRlcyhlLmtleSkmJnRoaXMuX2RlbGV0ZUtleUhhbmRsZXIoKTticmVhaztjYXNlXCJob2xkXCI6dGhpcy51cGRhdGVJbnRlcmFjdGlvblZpc3VhbHNWaXNpYmlsaXR5KCEwKX19b25JbnB1dEV2ZW50QWZ0ZXIoZSl7aWYoXCJpbW1lZGlhdGUtY2xpY2tcIj09PWUudHlwZSl0aGlzLl9jbGlja1BsYWNlbWVudEhhbmRsZXIoZSl9b25BY3RpdmF0ZSgpe3RoaXMuX3BsYWNlbWVudE1vZGU9cX1fY2xpY2tQbGFjZW1lbnRIYW5kbGVyKGUpe2lmKCF0aGlzLmNyZWF0aW5nfHx0aGlzLmhhc0ZvY3VzZWRNYW5pcHVsYXRvcnMpcmV0dXJuO2NvbnN0IGk9dGhpcy5faW50ZXJzZWN0U2NyZWVuKGUsQik7aWYobnVsbCE9aSl7aWYoXCJwbGFjaW5nLW9ic2VydmVyXCI9PT10aGlzLl9jcmVhdGlvblN0YXRlKXtpLm1hcFBvaW50Lno9KGkubWFwUG9pbnQuej8/MCkrVDtjb25zdCBlPW5ldyB0KHtvYnNlcnZlcjppLm1hcFBvaW50LmNsb25lKCksZmVhdHVyZTppLmZlYXR1cmV9KTt0aGlzLmFuYWx5c2lzLnZpZXdzaGVkcy5hZGQoZSksdGhpcy5fc3RhZ2VkVmlld3NoZWQ9ZSx0aGlzLl9jcmVhdGlvblN0YXRlPVwicGxhY2luZy10YXJnZXRcIix0aGlzLl91cGRhdGVTdGFnZWRWaWV3c2hlZChpLnNjZW5lUG9pbnQpfWVsc2UgaWYoXCJwbGFjaW5nLXRhcmdldFwiPT09dGhpcy5fY3JlYXRpb25TdGF0ZSl7dGhpcy5fdXBkYXRlU3RhZ2VkVmlld3NoZWQoaS5zY2VuZVBvaW50KTtjb25zdCBlPXRoaXMuX3N0YWdlZFZpZXdzaGVkO3RoaXMuX3N0YWdlZFZpZXdzaGVkPW51bGwsXCJtdWx0aXBsZVwiPT09dGhpcy5fcGxhY2VtZW50TW9kZT90aGlzLl9jcmVhdGlvblN0YXRlPVwicGxhY2luZy1vYnNlcnZlclwiOih0aGlzLl9jcmVhdGlvblN0YXRlPSExLHRoaXMuX3N0YWdlZFZpZXdzaGVkPW51bGwsdGhpcy5fZmluaXNoVG9vbENyZWF0aW9uSWZWYWxpZCgpLHRoaXMudmlldy5hY3RpdmVUb29sPW51bGwpLHRoaXMuc2VsZWN0ZWRWaWV3c2hlZD1lfWUuc3RvcFByb3BhZ2F0aW9uKCl9fV9kb3VibGVDbGlja0hhbmRsZXIoZSl7dGhpcy5jcmVhdGluZyYmKHRoaXMucmVtb3ZlU3RhZ2VkKCksdGhpcy5fY3JlYXRpb25TdGF0ZT0hMSx0aGlzLnZpZXcuYWN0aXZlVG9vbD1udWxsLGUuc3RvcFByb3BhZ2F0aW9uKCkpfV9wb2ludGVyTW92ZUhhbmRsZXIoZSl7aWYoIXRoaXMuY3JlYXRpbmcpcmV0dXJuO2NvbnN0IHQ9dGhpcy5faW50ZXJzZWN0U2NyZWVuKGUsQik7bnVsbCE9dCYmKHRoaXMuX3VwZGF0ZUludGVyYWN0aW9uVmlzdWFsc0xvY2F0aW9uKHQuc2NlbmVQb2ludCwhMSksdGhpcy5fdXBkYXRlU3RhZ2VkVmlld3NoZWQodC5zY2VuZVBvaW50KSl9X2NhbmNlbEtleUhhbmRsZXIoZSl7dGhpcy5jcmVhdGluZz90aGlzLl9vbkNhbmNlbFdoaWxlQ3JlYXRpbmcoZSk6dGhpcy5ncmFiYmluZ3x8KHRoaXMuc2VsZWN0ZWRWaWV3c2hlZD1udWxsLGUuc3RvcFByb3BhZ2F0aW9uKCkpfV9vbkNhbmNlbFdoaWxlQ3JlYXRpbmcoZSl7Y29uc3QgdD10aGlzLnJlbW92ZVN0YWdlZCgpO3RoaXMuX2ZpbmlzaFRvb2xDcmVhdGlvbklmVmFsaWQoKSx0Pyh0aGlzLl9jcmVhdGlvblN0YXRlPVwicGxhY2luZy1vYnNlcnZlclwiLHRoaXMuc2VsZWN0ZWRWaWV3c2hlZD1udWxsLFwibXVsdGlwbGVcIj09PXRoaXMuX3BsYWNlbWVudE1vZGUmJmUuc3RvcFByb3BhZ2F0aW9uKCkpOnRoaXMuX2NyZWF0aW9uU3RhdGU9ITF9X2RlbGV0ZUtleUhhbmRsZXIoKXt0aGlzLmNyZWF0aW5nJiYodGhpcy5yZW1vdmVTdGFnZWQoKSx0aGlzLl9jcmVhdGlvblN0YXRlPVwicGxhY2luZy1vYnNlcnZlclwiKSxudWxsIT10aGlzLnNlbGVjdGVkVmlld3NoZWQmJnRoaXMuYW5hbHlzaXMudmlld3NoZWRzLnJlbW92ZSh0aGlzLnNlbGVjdGVkVmlld3NoZWQpfV9maW5pc2hUb29sQ3JlYXRpb25JZlZhbGlkKCl7dGhpcy5fdmFsaWQmJnRoaXMuZmluaXNoVG9vbENyZWF0aW9uKCl9X3VwZGF0ZVN0YWdlZFZpZXdzaGVkKGUpe2NvbnN0IHQ9dGhpcy5fc3RhZ2VkVmlld3NoZWQsaT10aGlzLl9zdGFnZWRWaWV3c2hlZENvbXB1dGVkRGF0YTtpZihudWxsPT10fHxudWxsPT1pKXJldHVybjtjb25zdHtoZWFkaW5nOnMsdGlsdDphLGZhckRpc3RhbmNlOm59PXgodGhpcy52aWV3LGksZSk7dC5mYXJEaXN0YW5jZT1uLHQudGlsdD1hLHQuaGVhZGluZz1zfXJlbW92ZVN0YWdlZCgpe2NvbnN0IGU9dGhpcy5fc3RhZ2VkVmlld3NoZWQ7cmV0dXJuIG51bGwhPWUmJih0aGlzLl9zdGFnZWRWaWV3c2hlZD1udWxsLHRoaXMuYW5hbHlzaXMudmlld3NoZWRzLnJlbW92ZShlKSwhMCl9X2ludGVyc2VjdFNjcmVlbihlLHQpe2NvbnN0IGk9TyhlKTt0aGlzLnZpZXcuc2NlbmVJbnRlcnNlY3Rpb25IZWxwZXIuaW50ZXJzZWN0VG9vbEludGVyc2VjdG9yU2NyZWVuKGksdGhpcy5faW50ZXJzZWN0b3IpO2NvbnN0IHM9dGhpcy5faW50ZXJzZWN0b3IucmVzdWx0cy5taW4sYT10LnNjZW5lUG9pbnQ7aWYoIXMuZ2V0SW50ZXJzZWN0aW9uUG9pbnQoYSkpcmV0dXJuIG51bGw7Y29uc3Qgbj10Lm1hcFBvaW50O3JldHVybiBuLnNwYXRpYWxSZWZlcmVuY2U9dGhpcy52aWV3LnNwYXRpYWxSZWZlcmVuY2UsdGhpcy52aWV3LnJlbmRlckNvb3Jkc0hlbHBlci5mcm9tUmVuZGVyQ29vcmRzKGEsbiksbnVsbD09bj9udWxsOih0LmZlYXR1cmU9SShzLHRoaXMudmlldyksdCl9X2NyZWF0ZUludGVyYWN0aW9uVmlzdWFscygpe3RoaXMucmVtb3ZlSGFuZGxlcyhSKTtjb25zdCBlPXRoaXMuX3NldHRpbmdzLnZpc3VhbEVsZW1lbnRzLHQ9bmV3IEgoe3ZpZXc6dGhpcy52aWV3LGF0dGFjaGVkOiExLHN0eWxlOntnbG93V2lkdGg6ZS5oZWlnaHRQbGFuZS5nbG93V2lkdGgsaW5uZXJXaWR0aDplLmhlaWdodFBsYW5lLmlubmVyV2lkdGh9LGlzRGVjb3JhdGlvbjohMH0pLHM9bmV3IGooe3ZpZXc6dGhpcy52aWV3LGV4dGVuc2lvblR5cGU6ZS56VmVydGljYWxMaW5lLmV4dGVuc2lvblR5cGUsYXR0YWNoZWQ6ITEsaW5uZXJXaWR0aDoxLHdyaXRlRGVwdGhFbmFibGVkOiExLHJlbmRlck9jY2x1ZGVkOlAuT2NjbHVkZUFuZFRyYW5zcGFyZW50LGlzRGVjb3JhdGlvbjohMH0pO3RoaXMuX2ludGVyYWN0aW9uVmlzdWFsRWxlbWVudHM9e2xhc2VybGluZTp0LHZlcnRpY2FsTGluZTpzfSx0aGlzLmFkZEhhbmRsZXMoW2woKCgpPT5lLnpWZXJ0aWNhbExpbmUpLChlPT5lLmFwcGx5KHMpKSxyKSxsKCgoKT0+ZS5oZWlnaHRQbGFuZSksKGU9PmUuYXBwbHkodCkpLHIpLGkoKCgpPT57dC5kZXN0cm95KCkscy5kZXN0cm95KCksdGhpcy5faW50ZXJhY3Rpb25WaXN1YWxFbGVtZW50cz1udWxsfSkpXSxSKX11cGRhdGVJbnRlcmFjdGlvblZpc3VhbHNWaXNpYmlsaXR5KGU9ITEpe2NvbnN0IHQ9dGhpcy5jcmVhdGluZyxpPXRoaXMuYW5hbHlzaXNWaWV3RGF0YS52aXNpYmxlLHM9dGhpcy5fc2VsZWN0ZWRTdWJUb29sLGE9dGhpcy5zZWxlY3RlZFZpZXdzaGVkQ29tcHV0ZWREYXRhLG49KGUsdCk9Pntjb25zdCBpPXRoaXMuX2ludGVyYWN0aW9uVmlzdWFsRWxlbWVudHM7bnVsbCE9aSYmKGkudmVydGljYWxMaW5lLmF0dGFjaGVkPXQsaS5sYXNlcmxpbmUuYXR0YWNoZWQ9ZSl9O2lmKHQpcmV0dXJuIHZvaWQgbihpLCExKTtpZihudWxsPT1zfHxudWxsPT1hKXJldHVybiB2b2lkIG4oITEsITEpO2NvbnN0IG89cy5tb3ZlSW50ZXJhY3Rpb25TdGF0ZSxsPWU/by5ncmFiYmluZzpvLmRyYWdnaW5nLHI9cy5zY2FsZU9yaWVudEludGVyYWN0aW9uU3RhdGUsZD1lP3IuZ3JhYmJpbmc6ci5kcmFnZ2luZyxjPWkmJihsfHxkKTtpZihuKGMsbCksYyl7Y29uc3QgZT1sP2Eub2JzZXJ2ZXJSZW5kZXJTcGFjZTphLnRhcmdldFJlbmRlclNwYWNlO3RoaXMuX3VwZGF0ZUludGVyYWN0aW9uVmlzdWFsc0xvY2F0aW9uKGUsbCl9fV91cGRhdGVJbnRlcmFjdGlvblZpc3VhbHNMb2NhdGlvbihlLHQpe2NvbnN0IGk9dGhpcy5faW50ZXJhY3Rpb25WaXN1YWxFbGVtZW50cztpZihudWxsPT1pKXJldHVybjtjb25zdHtsYXNlcmxpbmU6cyx2ZXJ0aWNhbExpbmU6YX09aTtzLmhlaWdodE1hbmlmb2xkVGFyZ2V0PWUscy5pbnRlcnNlY3RzV29ybGRVcEF0TG9jYXRpb249dD9lOm51bGwsbnVsbCE9ZSYmYS5zZXRTdGFydEVuZEZyb21Xb3JsZERvd25BdExvY2F0aW9uKGUpfV9maW5kU3ViVG9vbChlKXtpZihudWxsPT1lKXJldHVybiBudWxsO2NvbnN0IHQ9ZSBpbnN0YW5jZW9mIEQ/dD0+dC5zdWJUb29sLmhhc01hbmlwdWxhdG9yKGUpOnQ9PnQuc3ViVG9vbC52aWV3c2hlZD09PWU7cmV0dXJuIHRoaXMuc3ViVG9vbEhhbmRsZXM/LmZpbmQodCk/LnN1YlRvb2x9Z2V0IHRlc3QoKXt9fTtmdW5jdGlvbiB4KGUsdCxpKXtjb25zdCBzPXQub2JzZXJ2ZXJSZW5kZXJTcGFjZSxuPW0oVSxpLHMpLG89ZyhuKSp0Lm1ldGVyc1BlclVuaXQsbD1lLnJlbmRlckNvb3Jkc0hlbHBlci5iYXNpc01hdHJpeEF0UG9zaXRpb24ocyxGKSxyPXYoQSxsWzhdLGxbOV0sbFsxMF0pLGQ9YihzLHIsRyksYz1TKGQsaSx6KSxoPW0oYyxjLHMpLHU9KGcoaCk8MWUtND85MDphKHcobixoKSkpKihfKHIsbik8MD8tMToxKSs5MCxwPXYoSyxsWzRdLGxbNV0sbFs2XSksVj1hKHcocCxoKSksZj12KEssbFswXSxsWzFdLGxbMl0pO3JldHVybntoZWFkaW5nOl8oaCxmKTwwPzM2MC1WOlYsdGlsdDp1LGZhckRpc3RhbmNlOm99fWUoW2goe2NvbnN0cnVjdE9ubHk6ITB9KV0sVy5wcm90b3R5cGUsXCJ2aWV3XCIsdm9pZCAwKSxlKFtoKCldLFcucHJvdG90eXBlLFwiYW5hbHlzaXNWaWV3RGF0YVwiLHZvaWQgMCksZShbaCgpXSxXLnByb3RvdHlwZSxcInJlbW92ZUluY29tcGxldGVPbkNhbmNlbFwiLHZvaWQgMCksZShbaCgpXSxXLnByb3RvdHlwZSxcImF1dG9tYXRpY01hbmlwdWxhdG9yU2VsZWN0aW9uXCIsdm9pZCAwKSxlKFtoKHtjb25zdHJ1Y3RPbmx5OiEwfSldLFcucHJvdG90eXBlLFwiYW5hbHlzaXNcIix2b2lkIDApLGUoW2goKV0sVy5wcm90b3R5cGUsXCJzdWJUb29sSGFuZGxlc1wiLHZvaWQgMCksZShbaCgpXSxXLnByb3RvdHlwZSxcIl9zdGFnZWRWaWV3c2hlZFwiLHZvaWQgMCksZShbaCgpXSxXLnByb3RvdHlwZSxcIl9zdGFnZWRWaWV3c2hlZENvbXB1dGVkRGF0YVwiLHZvaWQgMCksZShbaCgpXSxXLnByb3RvdHlwZSxcIl9wbGFjZW1lbnRNb2RlXCIsdm9pZCAwKSxlKFtoKCldLFcucHJvdG90eXBlLFwiX2NyZWF0aW9uU3RhdGVcIix2b2lkIDApLGUoW2goKV0sVy5wcm90b3R5cGUsXCJfdmFsaWRcIixudWxsKSxlKFtoKHtyZWFkT25seTohMH0pXSxXLnByb3RvdHlwZSxcImN1cnNvclwiLG51bGwpLGUoW2goKV0sVy5wcm90b3R5cGUsXCJfc2VsZWN0ZWRNYW5pcHVsYXRvclwiLHZvaWQgMCksZShbaCgpXSxXLnByb3RvdHlwZSxcIl9zZWxlY3RlZFN1YlRvb2xcIixudWxsKSxlKFtoKCldLFcucHJvdG90eXBlLFwic2VsZWN0ZWRWaWV3c2hlZFwiLG51bGwpLGUoW2goKV0sVy5wcm90b3R5cGUsXCJzZWxlY3RlZFZpZXdzaGVkQ29tcHV0ZWREYXRhXCIsbnVsbCksZShbaCgpXSxXLnByb3RvdHlwZSxcInN0YWdlZFZpZXdzaGVkXCIsbnVsbCksZShbaCgpXSxXLnByb3RvdHlwZSxcImdyYWJiaW5nXCIsbnVsbCksZShbaCgpXSxXLnByb3RvdHlwZSxcImNyZWF0aW5nXCIsbnVsbCksZShbaCgpXSxXLnByb3RvdHlwZSxcImlzUGxhY2luZ1RhcmdldFwiLG51bGwpLFc9ZShbdShcImVzcmkudmlld3MuM2QuYW5hbHlzaXMuVmlld3NoZWQuVmlld3NoZWRUb29sXCIpXSxXKTtjb25zdCBVPVYoKSxBPVYoKSx6PVYoKSxLPVYoKSxGPXAoKSxHPXkoKSxCPXttYXBQb2ludDpuZXcgZixzY2VuZVBvaW50OlYoKSxmZWF0dXJlOm51bGx9LHE9XCJtdWx0aXBsZVwiO2V4cG9ydHtXIGFzIGRlZmF1bHR9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMzMvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtfIGFzIGV9ZnJvbVwiLi4vLi4vLi4vLi4vY2h1bmtzL3RzbGliLmVzNi5qc1wiO2ltcG9ydCB0IGZyb21cIi4uLy4uLy4uLy4uL0NvbG9yLmpzXCI7aW1wb3J0IGkgZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9BY2Nlc3Nvci5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vLi4vY29yZS9oYXMuanNcIjtpbXBvcnR7ZXF1YWxzIGFzIHN9ZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9sYW5nLmpzXCI7aW1wb3J0e2RlZzJyYWQgYXMgcn1mcm9tXCIuLi8uLi8uLi8uLi9jb3JlL21hdGhVdGlscy5qc1wiO2ltcG9ydHtkZXN0cm95TWF5YmUgYXMgb31mcm9tXCIuLi8uLi8uLi8uLi9jb3JlL21heWJlLmpzXCI7aW1wb3J0e3dhdGNoIGFzIGEsaW5pdGlhbCBhcyBsfWZyb21cIi4uLy4uLy4uLy4uL2NvcmUvcmVhY3RpdmVVdGlscy5qc1wiO2ltcG9ydHtwcm9wZXJ0eSBhcyBufWZyb21cIi4uLy4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvcHJvcGVydHkuanNcIjtpbXBvcnRcIi4uLy4uLy4uLy4uL2NvcmUvTG9nZ2VyLmpzXCI7aW1wb3J0e3N1YmNsYXNzIGFzIGN9ZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9zdWJjbGFzcy5qc1wiO2ltcG9ydHtmcm9tUm90YXRpb24gYXMgaH1mcm9tXCIuLi8uLi8uLi8uLi9jb3JlL2xpYnMvZ2wtbWF0cml4LTIvbWF0aC9tYXQ0LmpzXCI7aW1wb3J0e2NyZWF0ZSBhcyBtfWZyb21cIi4uLy4uLy4uLy4uL2NvcmUvbGlicy9nbC1tYXRyaXgtMi9mYWN0b3JpZXMvbWF0NGY2NC5qc1wiO2ltcG9ydHt0IGFzIGQsaSBhcyB1LGEgYXMgcCxIIGFzIF8sbiBhcyBmLGcgYXMgVixwIGFzIHYsdSBhcyB3LGMgYXMgRSxmIGFzIGJ9ZnJvbVwiLi4vLi4vLi4vLi4vY2h1bmtzL3ZlYzMyLmpzXCI7aW1wb3J0e2NyZWF0ZSBhcyBnLGNsb25lIGFzIEN9ZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9saWJzL2dsLW1hdHJpeC0yL2ZhY3Rvcmllcy92ZWMzZjY0LmpzXCI7aW1wb3J0e3ZpZXdzaGVkVmlzdWFsaXphdGlvbkNvbmZpZ3VyYXRpb24gYXMgTCxhcmNBbmdsZVBlclNlZ21lbnQgYXMgQX1mcm9tXCIuL1ZpZXdzaGVkQ29uZmlndXJhdGlvbi5qc1wiO2ltcG9ydCBEIGZyb21cIi4vVmlld3NoZWRUb29sLmpzXCI7aW1wb3J0e0xpbmVWaXN1YWxFbGVtZW50IGFzIHl9ZnJvbVwiLi4vLi4vaW50ZXJhY3RpdmUvdmlzdWFsRWxlbWVudHMvTGluZVZpc3VhbEVsZW1lbnQuanNcIjtpbXBvcnR7UG9pbnRWaXN1YWxFbGVtZW50IGFzIGp9ZnJvbVwiLi4vLi4vaW50ZXJhY3RpdmUvdmlzdWFsRWxlbWVudHMvUG9pbnRWaXN1YWxFbGVtZW50LmpzXCI7aW1wb3J0e1ZpZXdzaGVkU2hhcGVWaXN1YWxFbGVtZW50IGFzIEZ9ZnJvbVwiLi4vLi4vaW50ZXJhY3RpdmUvdmlzdWFsRWxlbWVudHMvVmlld3NoZWRTaGFwZVZpc3VhbEVsZW1lbnQuanNcIjtpbXBvcnR7UmVuZGVyT2NjbHVkZWRGbGFnIGFzIE99ZnJvbVwiLi4vLi4vd2ViZ2wtZW5naW5lL2xpYi9NYXRlcmlhbC5qc1wiO2ltcG9ydHtjcmVhdGVTdGlwcGxlUGF0dGVyblNpbXBsZSBhcyBSfWZyb21cIi4uLy4uL3dlYmdsLWVuZ2luZS9tYXRlcmlhbHMvbGluZVN0aXBwbGVVdGlscy5qc1wiO2xldCBTPWNsYXNzIGV4dGVuZHMgaXtjb25zdHJ1Y3RvcihlKXtzdXBlcihlKSx0aGlzLnZpc2libGU9ITAsdGhpcy5fdmlld3NoZWRDb3JuZXJzPXt0b3BMZWZ0OmcoKSx0b3BSaWdodDpnKCksYm90dG9tTGVmdDpnKCksYm90dG9tUmlnaHQ6ZygpfSx0aGlzLl9hcmNDZW50ZXJQb2ludHM9e3RvcDpnKCksYm90dG9tOmcoKSxsZWZ0OmcoKSxyaWdodDpnKCl9LHRoaXMuX3BhcmFsbGVsQ2VudGVycz17dG9wOmcoKSxib3R0b206ZygpfX1pbml0aWFsaXplKCl7Y29uc3QgZT17dmlldzp0aGlzLnZpZXcsaXNEZWNvcmF0aW9uOiEwfSx0PXsuLi5lLGNvbG9yOnRoaXMuX2NvbG9yLHJlbmRlck9jY2x1ZGVkOk8uT2NjbHVkZUFuZFRyYW5zcGFyZW50fSxpPXsuLi50LHN0aXBwbGVQYXR0ZXJuOlIoMil9O3RoaXMuX29ic2VydmVyVmlzdWFsRWxlbWVudD1uZXcgaih7Li4uZSwuLi5MLm9ic2VydmVyUG9pbnRDb25maWd1cmF0aW9ufSksdGhpcy5fc2hhcGVWaXN1YWxFbGVtZW50PW5ldyBGKHsuLi5lLGlzRGVjb3JhdGlvbjp0aGlzLmlzRGVjb3JhdGlvbn0pLHRoaXMuX2ZyYW1lTGluZXNWaXN1YWxFbGVtZW50PW5ldyB5KHQpLHRoaXMuX2xlZnRBcmNWaXN1YWxFbGVtZW50PW5ldyB5KHQpLHRoaXMuX3JpZ2h0QXJjVmlzdWFsRWxlbWVudD1uZXcgeSh0KSx0aGlzLl90b3BBcmNWaXN1YWxFbGVtZW50PW5ldyB5KHQpLHRoaXMuX2JvdHRvbUFyY1Zpc3VhbEVsZW1lbnQ9bmV3IHkodCksdGhpcy5fY2VudHJhbExvbmdpdHVkZT1uZXcgeShpKSx0aGlzLl9jZW50cmFsTGF0aXR1ZGU9bmV3IHkoaSksdGhpcy5hZGRIYW5kbGVzKFthKCgoKT0+e2NvbnN0IGU9dGhpcy52aWV3c2hlZENvbXB1dGVkRGF0YTtpZighZT8udmFsaWQpcmV0dXJuIG51bGw7Y29uc3QgdD10aGlzLl92aWV3c2hlZENvcm5lcnMsaT10aGlzLl9hcmNDZW50ZXJQb2ludHMscz10aGlzLl9wYXJhbGxlbENlbnRlcnM7cmV0dXJuIGUuY29ybmVyUG9pbnRzKHQpLGUuYXJjQ2VudGVyc1BvaW50cyhpKSxlLnBhcmFsbGVsQ2VudGVyUG9pbnRzKHMpLHt2aWV3c2hlZENvbXB1dGVkRGF0YTplLGNvcm5lcnM6dCxhcmNDZW50ZXJzOmkscGFyYWxsZWxDZW50ZXJzOnMsaW50ZXJhY3RpdmU6dGhpcy5hbmFseXNpc1ZpZXdEYXRhLmludGVyYWN0aXZlLHNlbGVjdGVkOnRoaXMuX3NlbGVjdGVkfX0pLChlPT57Y29uc3QgdD1udWxsIT1lO3RoaXMuX2ZvckVhY2hWaXN1YWxFbGVtZW50KChlPT5lLmF0dGFjaGVkPXQpKSx0JiZ0aGlzLl91cGRhdGVWaXN1YWxFbGVtZW50cyhlKX0pLHtpbml0aWFsOiEwLGVxdWFsczpzfSksYSgoKCk9Pntjb25zdHt2aWV3c2hlZENvbXB1dGVkRGF0YTplfT10aGlzLHtob3Jpem9udGFsRmllbGRPZlZpZXc6dCx2ZXJ0aWNhbEZpZWxkT2ZWaWV3Oml9PWU/P3t9O3JldHVybnt2aWV3c2hlZENvbXB1dGVkRGF0YTplLGhvcml6b250YWxGaWVsZE9mVmlldzp0LHZlcnRpY2FsRmllbGRPZlZpZXc6aX19KSwoKHt2aWV3c2hlZENvbXB1dGVkRGF0YTplfSk9Pntjb25zdHtfc2hhcGVWaXN1YWxFbGVtZW50OnR9PXRoaXM7ZSE9PXQudmlld3NoZWRDb21wdXRlZERhdGEmJih0LnZpZXdzaGVkQ29tcHV0ZWREYXRhPWUpLHRoaXMuX3NoYXBlVmlzdWFsRWxlbWVudC5yZWNyZWF0ZUdlb21ldHJ5KCl9KSxsKSxhKCgoKT0+e2NvbnN0e2ludGVyYWN0aXZlOmV9PXRoaXMuYW5hbHlzaXNWaWV3RGF0YTtyZXR1cm57dmlzaWJsZTp0aGlzLnZpc2libGUsc2VsZWN0ZWQ6ZSYmdGhpcy5fc2VsZWN0ZWQsc3RhZ2VkOmUmJnRoaXMuX3N0YWdlZCxob3JGb3ZOb3QzNjA6MzYwIT09dGhpcy52aWV3c2hlZENvbXB1dGVkRGF0YT8uaG9yaXpvbnRhbEZpZWxkT2ZWaWV3fX0pLCgoe3Zpc2libGU6ZSxzZWxlY3RlZDp0LHN0YWdlZDppLGhvckZvdk5vdDM2MDpzfSk9Pntjb25zdCByPXR8fGk7dGhpcy5fc2hhcGVWaXN1YWxFbGVtZW50LnZpc2libGU9ZSx0aGlzLl90b3BBcmNWaXN1YWxFbGVtZW50LnZpc2libGU9ZSx0aGlzLl9ib3R0b21BcmNWaXN1YWxFbGVtZW50LnZpc2libGU9ZSx0aGlzLl9mcmFtZUxpbmVzVmlzdWFsRWxlbWVudC52aXNpYmxlPWUmJnM7Y29uc3Qgbz1lJiYodHx8cyk7dGhpcy5fbGVmdEFyY1Zpc3VhbEVsZW1lbnQudmlzaWJsZT1vLHRoaXMuX3JpZ2h0QXJjVmlzdWFsRWxlbWVudC52aXNpYmxlPW8sdGhpcy5fZm9yRWFjaExpbmVWaXN1YWxFbGVtZW50KChlPT57ZS53aWR0aD1yP0wuZnJhbWVXaWR0aFNlbGVjdGVkOkwuZnJhbWVXaWR0aE5vdFNlbGVjdGVkLGUucmVuZGVyT2NjbHVkZWQ9dD9PLk9jY2x1ZGVBbmRUcmFuc3BhcmVudDpPLk9jY2x1ZGV9KSksW3RoaXMuX2NlbnRyYWxMYXRpdHVkZSx0aGlzLl9jZW50cmFsTG9uZ2l0dWRlXS5mb3JFYWNoKChpPT57aS53aWR0aD0yKihyP0wuZnJhbWVXaWR0aFNlbGVjdGVkOkwuZnJhbWVXaWR0aE5vdFNlbGVjdGVkKSxpLnZpc2libGU9ZSYmdH0pKX0pLGwpLGEoKCgpPT57Y29uc3R7YW5hbHlzaXNWaWV3RGF0YTp7aW50ZXJhY3RpdmU6ZSx0b29sOnR9LF9zZWxlY3RlZDppLHZpc2libGU6c309dGhpcyxyPXRoaXMudmlldy5hY3RpdmVUb29sLG89IXQ/LmFjdGl2ZSYmciBpbnN0YW5jZW9mIEQmJnIuY3JlYXRpbmc7cmV0dXJue29ic2VydmVyVmlzaWJsZTpzJiYhaSYmKCFlfHwodD8uY3JlYXRpbmc/PyExKXx8byksY29sb3I6dGhpcy5fY29sb3J9fSksKCh7b2JzZXJ2ZXJWaXNpYmxlOmUsY29sb3I6dH0pPT57dGhpcy5fb2JzZXJ2ZXJWaXN1YWxFbGVtZW50LnZpc2libGU9ZSx0aGlzLl9mb3JFYWNoTGluZVZpc3VhbEVsZW1lbnQoKGU9PmUuY29sb3I9dCkpfSksbCldKX1nZXQgX2NvbG9yKCl7Y29uc3R7dmlld3NoZWRDb21wdXRlZERhdGE6ZSxfc2VsZWN0ZWQ6aSxhbmFseXNpc1ZpZXdEYXRhOnN9PXRoaXM7aWYobnVsbD09ZSlyZXR1cm4gdC50b1VuaXRSR0JBKEwuZnJhbWVDb2xvcik7Y29uc3Qgcj1zLnRvb2w/LmFjdGl2ZXx8cy5pbnRlcmFjdGl2ZSxvPWUudmlld3NoZWQ9PT1zLnRvb2w/LnN0YWdlZFZpZXdzaGVkLGE9ciYmKGl8fG8pP3RoaXMudmlldy5lZmZlY3RpdmVUaGVtZS5hY2NlbnRDb2xvcjpMLmZyYW1lQ29sb3I7cmV0dXJuIHQudG9Vbml0UkdCQShhKX1nZXQgX3NlbGVjdGVkKCl7Y29uc3R7dmlld3NoZWRDb21wdXRlZERhdGE6ZSxhbmFseXNpc1ZpZXdEYXRhOntzZWxlY3RlZFZpZXdzaGVkQ29tcHV0ZWREYXRhOnR9fT10aGlzO3JldHVybiBudWxsIT1lJiZlPT09dH1nZXQgX3N0YWdlZCgpe2NvbnN0e2FuYWx5c2lzVmlld0RhdGE6e3Rvb2w6ZX0sdmlld3NoZWRDb21wdXRlZERhdGE6dH09dGhpcztyZXR1cm4gbnVsbCE9ZSYmZS5jcmVhdGluZyYmZS5zdGFnZWRWaWV3c2hlZD09PXQ/LnZpZXdzaGVkfWRlc3Ryb3koKXt0aGlzLl9vYnNlcnZlclZpc3VhbEVsZW1lbnQ9byh0aGlzLl9vYnNlcnZlclZpc3VhbEVsZW1lbnQpLHRoaXMuX3NoYXBlVmlzdWFsRWxlbWVudD1vKHRoaXMuX3NoYXBlVmlzdWFsRWxlbWVudCksdGhpcy5fZnJhbWVMaW5lc1Zpc3VhbEVsZW1lbnQ9byh0aGlzLl9mcmFtZUxpbmVzVmlzdWFsRWxlbWVudCksdGhpcy5fbGVmdEFyY1Zpc3VhbEVsZW1lbnQ9byh0aGlzLl9sZWZ0QXJjVmlzdWFsRWxlbWVudCksdGhpcy5fcmlnaHRBcmNWaXN1YWxFbGVtZW50PW8odGhpcy5fcmlnaHRBcmNWaXN1YWxFbGVtZW50KSx0aGlzLl90b3BBcmNWaXN1YWxFbGVtZW50PW8odGhpcy5fdG9wQXJjVmlzdWFsRWxlbWVudCksdGhpcy5fYm90dG9tQXJjVmlzdWFsRWxlbWVudD1vKHRoaXMuX2JvdHRvbUFyY1Zpc3VhbEVsZW1lbnQpLHRoaXMuX2NlbnRyYWxMb25naXR1ZGU9byh0aGlzLl9jZW50cmFsTG9uZ2l0dWRlKSx0aGlzLl9jZW50cmFsTGF0aXR1ZGU9byh0aGlzLl9jZW50cmFsTGF0aXR1ZGUpfV9mb3JFYWNoTGluZVZpc3VhbEVsZW1lbnQoZSl7W3RoaXMuX2ZyYW1lTGluZXNWaXN1YWxFbGVtZW50LHRoaXMuX2xlZnRBcmNWaXN1YWxFbGVtZW50LHRoaXMuX3JpZ2h0QXJjVmlzdWFsRWxlbWVudCx0aGlzLl90b3BBcmNWaXN1YWxFbGVtZW50LHRoaXMuX2JvdHRvbUFyY1Zpc3VhbEVsZW1lbnQsdGhpcy5fY2VudHJhbExhdGl0dWRlLHRoaXMuX2NlbnRyYWxMb25naXR1ZGVdLmZvckVhY2goZSl9X2ZvckVhY2hWaXN1YWxFbGVtZW50KGUpe3RoaXMuX2ZvckVhY2hMaW5lVmlzdWFsRWxlbWVudChlKSxlKHRoaXMuX29ic2VydmVyVmlzdWFsRWxlbWVudCksZSh0aGlzLl9zaGFwZVZpc3VhbEVsZW1lbnQpfV91cGRhdGVWaXN1YWxFbGVtZW50cyhlKXtjb25zdHt2aWV3c2hlZENvbXB1dGVkRGF0YTp0LGNvcm5lcnM6aSxhcmNDZW50ZXJzOnMscGFyYWxsZWxDZW50ZXJzOnJ9PWUsbz1DKHQub2JzZXJ2ZXJSZW5kZXJTcGFjZSk7dGhpcy5fb2JzZXJ2ZXJWaXN1YWxFbGVtZW50Lmdlb21ldHJ5PXQub2JzZXJ2ZXIsdGhpcy5fc2hhcGVWaXN1YWxFbGVtZW50LnVwZGF0ZVRyYW5zZm9ybSgpLHRoaXMuX3VwZGF0ZUZyYW1lTGluZXMobyxpKSx0aGlzLl91cGRhdGVGcmFtZUFyY3ModCxpLHIpLHRoaXMuX3VwZGF0ZUNlbnRyYWxIZWxwZXJBcmNzKHQscyl9X3VwZGF0ZUZyYW1lTGluZXMoZSx0KXt0aGlzLl9mcmFtZUxpbmVzVmlzdWFsRWxlbWVudC5nZW9tZXRyeT1bW2UsdC50b3BMZWZ0XSxbZSx0LnRvcFJpZ2h0XSxbZSx0LmJvdHRvbUxlZnRdLFtlLHQuYm90dG9tUmlnaHRdXX1fdXBkYXRlRnJhbWVBcmNzKGUsdCxpKXtjb25zdHtvYnNlcnZlclJlbmRlclNwYWNlOnMscmlnaHRWZWN0b3I6byxob3Jpem9udGFsRmllbGRPZlZpZXc6YSx0aWx0ZWRVcFZlY3RvcjpsfT1lLG49cihhKSxjPWcoKSxwPW0oKTtoKHAsbi8yLGwpLGQoYyxvLHApLFAodGhpcy5fbGVmdEFyY1Zpc3VhbEVsZW1lbnQscyx0LmJvdHRvbUxlZnQsdC50b3BMZWZ0LFwiZm9yd2FyZFwiLGMpLGgocCwtbi8yLGwpLHUoYywwLDAsMCksZChjLG8scCksUCh0aGlzLl9yaWdodEFyY1Zpc3VhbEVsZW1lbnQscyx0LmJvdHRvbVJpZ2h0LHQudG9wUmlnaHQsXCJmb3J3YXJkXCIsYyk7Y29uc3QgXz1hPjE4MD9cImJhY2t3YXJkXCI6XCJmb3J3YXJkXCI7UCh0aGlzLl90b3BBcmNWaXN1YWxFbGVtZW50LGkudG9wLHQudG9wUmlnaHQsdC50b3BMZWZ0LF8sbCksUCh0aGlzLl9ib3R0b21BcmNWaXN1YWxFbGVtZW50LGkuYm90dG9tLHQuYm90dG9tUmlnaHQsdC5ib3R0b21MZWZ0LF8sbCl9X3VwZGF0ZUNlbnRyYWxIZWxwZXJBcmNzKGUsdCl7Y29uc3QgaT1lLm9ic2VydmVyUmVuZGVyU3BhY2Uscz1lLmhvcml6b250YWxGaWVsZE9mVmlldz49MTgwP1wiYmFja3dhcmRcIjpcImZvcndhcmRcIjtQKHRoaXMuX2NlbnRyYWxMYXRpdHVkZSxpLHQucmlnaHQsdC5sZWZ0LHMsZS50aWx0ZWRVcFZlY3RvciksUCh0aGlzLl9jZW50cmFsTG9uZ2l0dWRlLGksdC50b3AsdC5ib3R0b20sXCJmb3J3YXJkXCIsZS5sZWZ0VmVjdG9yKX1nZXQgdGVzdCgpe319O2Z1bmN0aW9uIFAoZSx0LGkscyxyLG8sYT1BKXtjb25zdCBsPWcoKTtwKGwsaSx0KTtjb25zdCBuPV8obCksYz1nKCk7cChjLHMsdCksZihjLGMpLFYoYyxjLG4pO2xldCB1PXYobCxjKTtjb25zdCBMPUMobyk7XCJiYWNrd2FyZFwiPT09ciYmKHcoTCxMKSx1PS0oMipNYXRoLlBJLXUpKTtjb25zdCBEPVtdLHk9TWF0aC5jZWlsKE1hdGguYWJzKHUpL2EpLGo9bSgpO2goaix1L3ksTCk7Y29uc3QgRj1nKCk7RShGLGwpO2NvbnN0IE89ZygpO0UoTyxpKTtmb3IobGV0IGg9MDtoPHk7aCsrKXtjb25zdCBlPWcoKTtFKGUsTyksZChGLEYsaiksYihPLHQsRik7Y29uc3QgaT1nKCk7RShpLE8pLEQucHVzaChbZSxpXSl9ZS5nZW9tZXRyeT1EfWUoW24oKV0sUy5wcm90b3R5cGUsXCJ2aWV3XCIsdm9pZCAwKSxlKFtuKHtjb25zdHJ1Y3RPbmx5OiEwfSldLFMucHJvdG90eXBlLFwiaXNEZWNvcmF0aW9uXCIsdm9pZCAwKSxlKFtuKCldLFMucHJvdG90eXBlLFwiYW5hbHlzaXNWaWV3RGF0YVwiLHZvaWQgMCksZShbbigpXSxTLnByb3RvdHlwZSxcInZpZXdzaGVkQ29tcHV0ZWREYXRhXCIsdm9pZCAwKSxlKFtuKCldLFMucHJvdG90eXBlLFwidmlzaWJsZVwiLHZvaWQgMCksZShbbigpXSxTLnByb3RvdHlwZSxcIl9jb2xvclwiLG51bGwpLGUoW24oKV0sUy5wcm90b3R5cGUsXCJfc2VsZWN0ZWRcIixudWxsKSxlKFtuKCldLFMucHJvdG90eXBlLFwiX3N0YWdlZFwiLG51bGwpLFM9ZShbYyhcImVzcmkudmlld3MuM2QuYW5hbHlzaXMuVmlld3NoZWQuVmlld3NoZWRWaXN1YWxpemF0aW9uXCIpXSxTKTtleHBvcnR7UyBhcyBkZWZhdWx0fTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjMzL2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7XyBhcyByfWZyb21cIi4uLy4uLy4uLy4uL2NodW5rcy90c2xpYi5lczYuanNcIjtpbXBvcnQgZSBmcm9tXCIuLi8uLi8uLi8uLi9Db2xvci5qc1wiO2ltcG9ydCBvIGZyb21cIi4uLy4uLy4uLy4uL2NvcmUvSGFuZGxlcy5qc1wiO2ltcG9ydHt3YXRjaCBhcyB0LGluaXRpYWwgYXMgc31mcm9tXCIuLi8uLi8uLi8uLi9jb3JlL3JlYWN0aXZlVXRpbHMuanNcIjtpbXBvcnR7cHJvcGVydHkgYXMgaX1mcm9tXCIuLi8uLi8uLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3Byb3BlcnR5LmpzXCI7aW1wb3J0XCIuLi8uLi8uLi8uLi9jb3JlL2hhcy5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vLi4vY29yZS9Mb2dnZXIuanNcIjtpbXBvcnRcIi4uLy4uLy4uLy4uL2NvcmUvUmFuZG9tTENHLmpzXCI7aW1wb3J0XCIuLi8uLi8uLi8uLi9jb3JlL1dhcm5pbmcuanNcIjtpbXBvcnRcIi4uLy4uLy4uLy4uL2NvcmUvRXJyb3IuanNcIjtpbXBvcnR7dmlld3NoZWRUb29sTWFuaXB1bGF0b3JDb25maWd1cmF0aW9uIGFzIGN9ZnJvbVwiLi9WaWV3c2hlZENvbmZpZ3VyYXRpb24uanNcIjtpbXBvcnR7TWFuaXB1bGF0b3IzRCBhcyBtfWZyb21cIi4uLy4uL2ludGVyYWN0aXZlL01hbmlwdWxhdG9yM0QuanNcIjtpbXBvcnR7Y3JlYXRlTWFuaXB1bGF0b3JNYXRlcmlhbCBhcyBhfWZyb21cIi4uLy4uL2ludGVyYWN0aXZlL21hbmlwdWxhdG9yVXRpbHMuanNcIjtpbXBvcnR7UmVuZGVyT2JqZWN0IGFzIG59ZnJvbVwiLi4vLi4vaW50ZXJhY3RpdmUvUmVuZGVyT2JqZWN0LmpzXCI7aW1wb3J0e2NyZWF0ZVNwaGVyZUdlb21ldHJ5IGFzIHB9ZnJvbVwiLi4vLi4vd2ViZ2wtZW5naW5lL2xpYi9HZW9tZXRyeVV0aWwuanNcIjtjbGFzcyBsIGV4dGVuZHMgbXtjb25zdHJ1Y3RvcihyLGUpe3N1cGVyKHt2aWV3OnIsYXV0b1NjYWxlUmVuZGVyT2JqZWN0czohMSx3b3JsZFNpemVkOiExLHJhZGl1czpjLm9ic2VydmVyU2l6ZSxpbnRlcmFjdGl2ZTohMX0pLHRoaXMuX2hhbmRsZXM9bmV3IG87Y29uc3QgaT1hKHRoaXMuX2NvbG9yKTt0aGlzLnJlbmRlck9iamVjdHM9W25ldyBuKHAoaSxjLm9ic2VydmVyU2l6ZSwzMiwzMikpXSxlLm1hbmlwdWxhdG9ycy5hZGQodGhpcyksdGhpcy5faGFuZGxlcy5hZGQoW3QoKCgpPT50aGlzLl9jb2xvciksKHI9PntpLnNldFBhcmFtZXRlcnMoe2NvbG9yOnJ9KX0pLHMpXSl9ZGVzdHJveSgpe3RoaXMuX2hhbmRsZXMucmVtb3ZlKCksc3VwZXIuZGVzdHJveSgpfWdldCBfY29sb3IoKXtyZXR1cm4gZS50b1VuaXRSR0JBKHRoaXMudmlldy5lZmZlY3RpdmVUaGVtZS5hY2NlbnRDb2xvcil9fXIoW2koKV0sbC5wcm90b3R5cGUsXCJfY29sb3JcIixudWxsKTtleHBvcnR7bCBhcyBWaWV3c2hlZE9ic2VydmVyTWFuaXB1bGF0b3J9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMzMvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtyYWQyZGVnIGFzIHIsY2xhbXAgYXMgZX1mcm9tXCIuLi8uLi8uLi8uLi9jb3JlL21hdGhVdGlscy5qc1wiO2ltcG9ydHtmcm9tUm90YXRpb24gYXMgdH1mcm9tXCIuLi8uLi8uLi8uLi9jb3JlL2xpYnMvZ2wtbWF0cml4LTIvbWF0aC9tYXQ0LmpzXCI7aW1wb3J0e2NyZWF0ZSBhcyBufWZyb21cIi4uLy4uLy4uLy4uL2NvcmUvbGlicy9nbC1tYXRyaXgtMi9mYWN0b3JpZXMvbWF0NGY2NC5qc1wiO2ltcG9ydHt0IGFzIG8sbiBhcyBhLGMgYXMgcyxwIGFzIGksZSBhcyBjLGEgYXMgbSxmIGFzIHAsZyBhcyBsfWZyb21cIi4uLy4uLy4uLy4uL2NodW5rcy92ZWMzMi5qc1wiO2ltcG9ydHtjcmVhdGUgYXMgZH1mcm9tXCIuLi8uLi8uLi8uLi9jb3JlL2xpYnMvZ2wtbWF0cml4LTIvZmFjdG9yaWVzL3ZlYzNmNjQuanNcIjtpbXBvcnR7Z2V0Tm9ybWFsIGFzIGYsZnJvbVBvc2l0aW9uQW5kTm9ybWFsIGFzIHUsY3JlYXRlIGFzIGd9ZnJvbVwiLi4vLi4vLi4vLi4vZ2VvbWV0cnkvc3VwcG9ydC9wbGFuZS5qc1wiO2ltcG9ydHt2aWV3c2hlZFRvb2xNYW5pcHVsYXRvckNvbmZpZ3VyYXRpb24gYXMgaH1mcm9tXCIuL1ZpZXdzaGVkQ29uZmlndXJhdGlvbi5qc1wiO2ltcG9ydHtjYWxjdWxhdGVUcmFuc2xhdGVSb3RhdGVGcm9tQmFzZXMgYXMgaixjYWxjdWxhdGVJbnB1dFJvdGF0aW9uVHJhbnNmb3JtIGFzIGJ9ZnJvbVwiLi4vLi4vaW50ZXJhY3RpdmUvbWFuaXB1bGF0b3JVdGlscy5qc1wiO2ltcG9ydHtzY3JlZW5Ub1JlbmRlclBsYW5lIGFzIHh9ZnJvbVwiLi4vLi4vaW50ZXJhY3RpdmUvZWRpdGluZ1Rvb2xzL2RyYWdFdmVudFBpcGVsaW5lM0QuanNcIjtpbXBvcnR7aGVhZGluZ1RpbHRUb0RpcmVjdGlvblVwIGFzIHZ9ZnJvbVwiLi4vLi4vc3VwcG9ydC9jYW1lcmFVdGlscy5qc1wiO2ltcG9ydHtjcmVhdGVEaXJlY3Rpb25VcCBhcyBTfWZyb21cIi4uLy4uL3N1cHBvcnQvY2FtZXJhVXRpbHNJbnRlcm5hbC5qc1wiO2Z1bmN0aW9uIFIoe3RpbHRlZFVwVmVjdG9yOnIscmlnaHRWZWN0b3I6ZSxvYnNlcnZlclJlbmRlclNwYWNlOnR9LG4pe2NvbnN0IG89aihyLGUsdCxuKTtyZXR1cm4gb1sxMl09MCxvWzEzXT0wLG9bMTRdPTAsb31mdW5jdGlvbiBVKHQsbixvLGkpe2NvbnN0IGo9ZCgpLHY9ZihvLnBsYW5lKSxTPUUobix2KTtsZXQgUjtpZihNYXRoLmFicyhTKT5oLnZpZXdBbmdsZVRocmVzaG9sZClSPXQubmV4dCh4KG4sby5wbGFuZSkpO2Vsc2V7Y29uc3Qgcj11KGkudGFyZ2V0UmVuZGVyU3BhY2Usby5iYXNpczEsZygpKSxzPWEoRCxvLmJhc2lzMSksZj1hKE0sby5iYXNpczIpO1I9dC5uZXh0KHgobixyKSkubmV4dCgocj0+e2NvbnN0IHQ9cj0+e2NvbnN0IHQ9YyhtKFYscixvLm9yaWdpbiksZiksbj1NYXRoLmFjb3MoZSh0L2kuZmFyRGlzdGFuY2VSZW5kZXJTcGFjZSwtMSwxKSksYT1NYXRoLnNpbihuKSppLmZhckRpc3RhbmNlUmVuZGVyU3BhY2U7cmV0dXJuIHAoZCgpLG8ub3JpZ2luLHAoZCgpLGwoVixzLGEpLGwodyxmLHQpKSl9LG49dChyLnJlbmRlclN0YXJ0KSxhPXQoci5yZW5kZXJFbmQpO3JldHVybnsuLi5yLHJlbmRlclN0YXJ0Om4scmVuZGVyRW5kOmF9fSkpfXJldHVybiBSLm5leHQoKGU9PntcInN0YXJ0XCI9PT1lLmFjdGlvbiYmcyhqLGUucmVuZGVyU3RhcnQpO2NvbnN0IHQ9cihiKGosZS5yZW5kZXJFbmQsby5vcmlnaW4sdikpO3JldHVybnsuLi5lLGRlbHRhQW5nbGU6dH19KSl9ZnVuY3Rpb24gRShlLHQpe2NvbnN0IG49RDtlLnJlbmRlckNvb3Jkc0hlbHBlci50b1JlbmRlckNvb3JkcyhlLmNhbWVyYS5wb3NpdGlvbixuKTtjb25zdCBvPXYoZSxuLGUuY2FtZXJhLmhlYWRpbmcsZS5jYW1lcmEudGlsdCxTKCkpLmRpcmVjdGlvbjtyZXR1cm4gcihpKG8sdCkpLTkwfWZ1bmN0aW9uIEMocixlLG4sYSl7cmV0dXJuIHQoQSxuLGEpLG8ocixlLEEpfWNvbnN0IEQ9ZCgpLE09ZCgpLFY9ZCgpLHc9ZCgpLEE9bigpO2V4cG9ydHtSIGFzIGdldFZpZXdzaGVkUm90YXRpb25NYXRyaXgsQyBhcyByb3RhdGVCeSxVIGFzIHNjcmVlblRvQ2lyY2xlQW5nbGV9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMzMvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtfIGFzIGV9ZnJvbVwiLi4vLi4vLi4vY2h1bmtzL3RzbGliLmVzNi5qc1wiO2ltcG9ydHtnZXRGZWF0dXJlSWQgYXMgdCx1cGRhdGVQb2ludHNGcm9tRmVhdHVyZVJlZmVyZW5jZSBhcyBzfWZyb21cIi4uLy4uLy4uL2FuYWx5c2lzL2ZlYXR1cmVSZWZlcmVuY2VVdGlscy5qc1wiO2ltcG9ydCBpIGZyb21cIi4uLy4uLy4uL2NvcmUvQWNjZXNzb3IuanNcIjtpbXBvcnRcIi4uLy4uLy4uL2NvcmUvaGFzLmpzXCI7aW1wb3J0IHIgZnJvbVwiLi4vLi4vLi4vY29yZS9Mb2dnZXIuanNcIjtpbXBvcnR7bWFwQ29sbGVjdGlvbiBhcyBvfWZyb21cIi4uLy4uLy4uL2NvcmUvbWFwQ29sbGVjdGlvblV0aWxzLmpzXCI7aW1wb3J0e2Fib3J0TWF5YmUgYXMgYSxkZXN0cm95TWF5YmUgYXMgbn1mcm9tXCIuLi8uLi8uLi9jb3JlL21heWJlLmpzXCI7aW1wb3J0e3dhdGNoIGFzIGQsaW5pdGlhbCBhcyBsLHdoZW4gYXMgaCxzeW5jQW5kSW5pdGlhbCBhcyBjfWZyb21cIi4uLy4uLy4uL2NvcmUvcmVhY3RpdmVVdGlscy5qc1wiO2ltcG9ydHtwcm9wZXJ0eSBhcyBwfWZyb21cIi4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvcHJvcGVydHkuanNcIjtpbXBvcnRcIi4uLy4uLy4uL2NvcmUvUmFuZG9tTENHLmpzXCI7aW1wb3J0e3N1YmNsYXNzIGFzIG19ZnJvbVwiLi4vLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9zdWJjbGFzcy5qc1wiO2ltcG9ydHtjIGFzIHUscSBhcyB3fWZyb21cIi4uLy4uLy4uL2NodW5rcy92ZWMzMi5qc1wiO2ltcG9ydHtjcmVhdGUgYXMgdn1mcm9tXCIuLi8uLi8uLi9jb3JlL2xpYnMvZ2wtbWF0cml4LTIvZmFjdG9yaWVzL3ZlYzNmNjQuanNcIjtpbXBvcnR7Y2FuUHJvamVjdFdpdGhvdXRFbmdpbmUgYXMgZixpc0xvYWRlZCBhcyBWLHByb2plY3RPckxvYWQgYXMgeX1mcm9tXCIuLi8uLi8uLi9nZW9tZXRyeS9wcm9qZWN0aW9uVXRpbHMuanNcIjtpbXBvcnR7cHJvamVjdEJvdW5kaW5nUmVjdCBhcyBffWZyb21cIi4uLy4uLy4uL2dlb21ldHJ5L3Byb2plY3Rpb24vcHJvamVjdEJvdW5kaW5nUmVjdC5qc1wiO2ltcG9ydHtjb250YWluc1BvaW50IGFzIGcsZW1wdHkgYXMgan1mcm9tXCIuLi8uLi8uLi9nZW9tZXRyeS9zdXBwb3J0L2FhQm91bmRpbmdSZWN0LmpzXCI7aW1wb3J0e0FuYWx5c2lzVmlldzNEIGFzIFJ9ZnJvbVwiLi9BbmFseXNpc1ZpZXczRC5qc1wiO2ltcG9ydHtsb2dGYWlsZWRHZW9tZXRyeVByb2plY3Rpb25FcnJvciBhcyBifWZyb21cIi4vc3VwcG9ydC9wcm9qZWN0aW9uVXRpbHMuanNcIjtpbXBvcnR7Vmlld3NoZWRBbmFseXNpc1Zpc3VhbGl6YXRpb24gYXMgRH1mcm9tXCIuL1ZpZXdzaGVkL1ZpZXdzaGVkQW5hbHlzaXNWaXN1YWxpemF0aW9uLmpzXCI7aW1wb3J0e1ZpZXdzaGVkQ29tcHV0ZWREYXRhIGFzIEN9ZnJvbVwiLi9WaWV3c2hlZC9WaWV3c2hlZENvbXB1dGVkRGF0YS5qc1wiO2ltcG9ydCBGIGZyb21cIi4vVmlld3NoZWQvVmlld3NoZWRUb29sLmpzXCI7aW1wb3J0e0ludGVyc2VjdG9yIGFzIEh9ZnJvbVwiLi4vd2ViZ2wtZW5naW5lL2xpYi9JbnRlcnNlY3Rvci5qc1wiO2ltcG9ydHtTdG9yZVJlc3VsdHMgYXMgT31mcm9tXCIuLi93ZWJnbC1lbmdpbmUvbGliL0ludGVyc2VjdG9ySW50ZXJmYWNlcy5qc1wiO2ltcG9ydHtWaWV3c2hlZCBhcyBVfWZyb21cIi4uL3dlYmdsLWVuZ2luZS9saWIvVmlld3NoZWQuanNcIjtpbXBvcnR7Y29ubmVjdEFuYWx5c2lzVmlld1RvVG9vbCBhcyBBLHJlbW92ZUFuYWx5c2lzVmlld1Rvb2wgYXMgUyxzdGFydFBsYWNlT3BlcmF0aW9uIGFzIHp9ZnJvbVwiLi4vLi4vYW5hbHlzaXMvYW5hbHlzaXNWaWV3VXRpbHMuanNcIjtsZXQgST1jbGFzcyBleHRlbmRzKFIoaSkpe2NvbnN0cnVjdG9yKGUpe3N1cGVyKGUpLHRoaXMudHlwZT1cInZpZXdzaGVkLXZpZXctM2RcIix0aGlzLmFuYWx5c2lzPW51bGwsdGhpcy50b29sPW51bGwsdGhpcy5fc2VsZWN0ZWRWaWV3c2hlZD1udWxsLHRoaXMudmlld3NoZWRDb21wdXRlZERhdGFIYW5kbGVzPW51bGwsdGhpcy51c2VyT3BlcmF0aW9uPW51bGwsdGhpcy5fdmlld3NoZWRSZW5kZXJlcj1udWxsLHRoaXMuX2ludGVyc2VjdG9yPW51bGx9Z2V0IHNlbGVjdGVkVmlld3NoZWQoKXtyZXR1cm4gdGhpcy5fc2VsZWN0ZWRWaWV3c2hlZH1zZXQgc2VsZWN0ZWRWaWV3c2hlZChlKXt0aGlzLl91bnNlbGVjdE90aGVyVmlld3NoZWRzKGUpLHRoaXMuX3NlbGVjdGVkVmlld3NoZWQ9ZX1nZXQgc2VsZWN0ZWRWaWV3c2hlZENvbXB1dGVkRGF0YSgpe3JldHVybiB0aGlzLnRvb2w/LnNlbGVjdGVkVmlld3NoZWRDb21wdXRlZERhdGF9Z2V0IF9pc0RlY29yYXRpb24oKXtyZXR1cm4hdGhpcy5wYXJlbnR9aW5pdGlhbGl6ZSgpe2NvbnN0IGU9dGhpcy52aWV3O3RoaXMuX3ZpZXdzaGVkUmVuZGVyZXI9bmV3IFUoe3ZpZXc6ZSxzZWxlY3RlZFZpZXdzaGVkOigpPT50aGlzLnNlbGVjdGVkVmlld3NoZWQ/P3RoaXMudG9vbD8uc3RhZ2VkVmlld3NoZWQsaXNEZWNvcmF0aW9uOnRoaXMuX2lzRGVjb3JhdGlvbn0pLHRoaXMuX2ludGVyc2VjdG9yPW5ldyBIKHRoaXMudmlldy5zdGF0ZS52aWV3aW5nTW9kZSksdGhpcy5faW50ZXJzZWN0b3Iub3B0aW9ucy5odWQ9ITEsdGhpcy5faW50ZXJzZWN0b3Iub3B0aW9ucy5zdG9yZT1PLk1JTix0aGlzLnZpZXdzaGVkQ29tcHV0ZWREYXRhSGFuZGxlcz1vKCgoKT0+dGhpcy5hbmFseXNpcy52aWV3c2hlZHMpLCh0PT57Y29uc3Qgcz1uZXcgQyh7cmVuZGVyQ29vcmRzSGVscGVyOmUucmVuZGVyQ29vcmRzSGVscGVyLHZpZXdzaGVkOnR9KSxpPVN5bWJvbCgpO3JldHVybiB0aGlzLmFkZEhhbmRsZXMoW2QoKCgpPT4oe3ZhbGlkOnMudmFsaWQsY2FuUHJvamVjdDpmKHMub2JzZXJ2ZXI/LnNwYXRpYWxSZWZlcmVuY2UsdGhpcy52aWV3LnNwYXRpYWxSZWZlcmVuY2UpfHxWKCl9KSksKCh7dmFsaWQ6ZSxjYW5Qcm9qZWN0OnR9LGkpPT57dGhpcy52aXNpYmxlJiYoZSYmdD90aGlzLl9hZGRWaWV3c2hlZHNUb1JlbmRlcmVyKHMpOmk/LnZhbGlkJiZpPy5jYW5Qcm9qZWN0JiZ0aGlzLl9yZW1vdmVWaWV3c2hlZHNGcm9tUmVuZGVyZXIocyksdHx8Yih0aGlzLmFuYWx5c2lzLHMub2JzZXJ2ZXIuc3BhdGlhbFJlZmVyZW5jZSxyLmdldExvZ2dlcih0aGlzKSkpfSksbCksLi4udGhpcy5fY3JlYXRlRmVhdHVyZVJlZmVyZW5jZUhhbmRsZXMocyldLGkpLHt2aWV3c2hlZENvbXB1dGVkRGF0YTpzLHJlbW92ZTooKT0+e3RoaXMucmVtb3ZlSGFuZGxlcyhpKSx0aGlzLl9yZW1vdmVWaWV3c2hlZHNGcm9tUmVuZGVyZXIocykscy5kZXN0cm95KCl9fX0pKSx0aGlzLl9hbmFseXNpc1Zpc3VhbGl6YXRpb249bmV3IEQoe3ZpZXc6ZSxhbmFseXNpc1ZpZXdEYXRhOnRoaXMsaXNEZWNvcmF0aW9uOnRoaXMuX2lzRGVjb3JhdGlvbn0pLHRoaXMuYWRkSGFuZGxlcyhbZCgoKCk9PnRoaXMudmlzaWJsZSksKGU9Pntjb25zdCB0PXRoaXMudmlld3NoZWRDb21wdXRlZERhdGFIYW5kbGVzO2lmKG51bGw9PXQpcmV0dXJuO2V8fCh0aGlzLnNlbGVjdGVkVmlld3NoZWQ9bnVsbCk7Y29uc3Qgcz10Lm1hcCgoZT0+ZS52aWV3c2hlZENvbXB1dGVkRGF0YSkpLmZpbHRlcigoZT0+ZS52YWxpZCkpLnRvQXJyYXkoKTtlP3RoaXMuX2FkZFZpZXdzaGVkc1RvUmVuZGVyZXIocyk6dGhpcy5fcmVtb3ZlVmlld3NoZWRzRnJvbVJlbmRlcmVyKHMpfSkpLGQoKCgpPT5lLnJlbmRlckNvb3Jkc0hlbHBlciksKGU9Pnt0aGlzLnZpZXdzaGVkQ29tcHV0ZWREYXRhSGFuZGxlcz8uZm9yRWFjaCgoKHt2aWV3c2hlZENvbXB1dGVkRGF0YTp0fSk9PnQucmVuZGVyQ29vcmRzSGVscGVyPWUpKX0pKSxBKHRoaXMsRiksaCgoKCk9PnRoaXMuaW50ZXJhY3RpdmUpLCgoKT0+e3RoaXMuX3Vuc2VsZWN0T3RoZXJWaWV3c2hlZHModGhpcy5zZWxlY3RlZFZpZXdzaGVkKX0pLGMpXSl9ZGVzdHJveSgpe3RoaXMudXNlck9wZXJhdGlvbj1hKHRoaXMudXNlck9wZXJhdGlvbiksUyh0aGlzKSx0aGlzLl9hbmFseXNpc1Zpc3VhbGl6YXRpb249bih0aGlzLl9hbmFseXNpc1Zpc3VhbGl6YXRpb24pO2NvbnN0IGU9dGhpcy52aWV3c2hlZENvbXB1dGVkRGF0YUhhbmRsZXM7bnVsbCE9ZSYmdGhpcy5fcmVtb3ZlVmlld3NoZWRzRnJvbVJlbmRlcmVyKGUubWFwKChlPT5lLnZpZXdzaGVkQ29tcHV0ZWREYXRhKSkudG9BcnJheSgpKX1fY3JlYXRlRmVhdHVyZVJlZmVyZW5jZUhhbmRsZXMoZSl7Y29uc3R7dmlldzp0fT10aGlzO3JldHVybltkKCgoKT0+W3Quc3RhdGUuY2FtZXJhLHQuc2xpY2UucGxhbmUsZS52aWV3c2hlZC5vYnNlcnZlcixlLnRhcmdldFJlbmRlclNwYWNlLGUudmVydGljYWxGaWVsZE9mVmlldyxlLmhvcml6b250YWxGaWVsZE9mVmlldyxlLmZlYXR1cmVdKSwoKCk9Pnt0aGlzLl91cGRhdGVPYnNlcnZlckZyb21GZWF0dXJlKHQsZSl9KSxsKSx0aGlzLl9jcmVhdGVFbGV2YXRpb25VcGRhdGVIYW5kbGUoZSksaCgoKCk9PmUubmVlZFVwZGF0ZUJ5RmVhdHVyZSksKCgpPT57dGhpcy5fdXBkYXRlT2JzZXJ2ZXJGcm9tRmVhdHVyZSh0LGUpLGUubmVlZFVwZGF0ZUJ5RmVhdHVyZT0hMX0pKV19X2NyZWF0ZUVsZXZhdGlvblVwZGF0ZUhhbmRsZShlKXtjb25zdCB0PShzLGkpPT57Y29uc3R7dmlldzpyfT10aGlzLHtvYnNlcnZlcjpvfT1lO2lmKG51bGw9PW8pcmV0dXJuO2NvbnN0IGE9eShvLHIuc3BhdGlhbFJlZmVyZW5jZSk7aWYobnVsbCE9YS5wZW5kaW5nKXJldHVybiB2b2lkIGEucGVuZGluZy5maW5hbGx5KCgoKT0+dChzLGkpKSk7Y29uc3Qgbj1hLmdlb21ldHJ5O251bGwhPW4mJihfKHMsaSx4LHIuc3BhdGlhbFJlZmVyZW5jZSksZyh4LFtuLngsbi55XSkmJihlLm5lZWRVcGRhdGVCeUZlYXR1cmU9ITApKX07cmV0dXJuIHRoaXMudmlldy5lbGV2YXRpb25Qcm92aWRlci5vbihcImVsZXZhdGlvbi1jaGFuZ2VcIiwoKHtleHRlbnQ6ZSxzcGF0aWFsUmVmZXJlbmNlOnN9KT0+dChlLHMpKSl9YXN5bmMgY3JlYXRlVmlld3NoZWRzKGUpe2F3YWl0IHoodGhpcyx7cGxhY2VtZW50T3B0aW9uczplLG9uVG9vbEFjdGl2YXRlZDplPT5lLnBsYWNlKFwibXVsdGlwbGVcIil9KX1wbGFjZShlKXtyZXR1cm4geih0aGlzLHtwbGFjZW1lbnRPcHRpb25zOmUsb25Ub29sQWN0aXZhdGVkOmU9PmUucGxhY2UoXCJzaW5nbGVcIil9KX1fYWRkVmlld3NoZWRzVG9SZW5kZXJlcihlKXt0aGlzLl92aWV3c2hlZFJlbmRlcmVyLnVwZGF0ZVZpZXdzaGVkcyh7YWRkczplfSl9X3JlbW92ZVZpZXdzaGVkc0Zyb21SZW5kZXJlcihlKXt0aGlzLl92aWV3c2hlZFJlbmRlcmVyLnVwZGF0ZVZpZXdzaGVkcyh7cmVtb3ZlczplfSl9X3VwZGF0ZU9ic2VydmVyRnJvbUZlYXR1cmUoZSxpKXtjb25zdCByPWkub2JzZXJ2ZXJSZW5kZXJTcGFjZSxvPWkudGFyZ2V0UmVuZGVyU3BhY2UsYT11KHYoKSxyKSxuPXtvYnNlcnZlcjpyLG9ic2VydmVyU3VyZmFjZU5vcm1hbDpudWxsLG9ic2VydmVyQWRqdXN0ZWQ6YSxvYnNlcnZlckZlYXR1cmVJZDp0KGkuZmVhdHVyZSksdGFyZ2V0Om8sdGFyZ2V0U3VyZmFjZU5vcm1hbDpudWxsLHRhcmdldEFkanVzdGVkOnUodigpLG8pLHRhcmdldEZlYXR1cmVJZDpudWxsfTtzKGUsdGhpcy5faW50ZXJzZWN0b3IsbiwoZT0+TWF0aC5taW4oZSwuMDUqaS5mYXJEaXN0YW5jZVJlbmRlclNwYWNlKSkpLGkub2JzZXJ2ZXJSZW5kZXJTcGFjZU92ZXJyaWRlPXcoYSxyKT9udWxsOmF9X3Vuc2VsZWN0T3RoZXJWaWV3c2hlZHMoZSl7aWYobnVsbCE9ZSlmb3IoY29uc3QgdCBvZiB0aGlzLnZpZXcudG9vbHMuaXRlbXMpdCE9PXRoaXMudG9vbCYmdCBpbnN0YW5jZW9mIEYmJih0LmFuYWx5c2lzVmlld0RhdGEuc2VsZWN0ZWRWaWV3c2hlZD1udWxsKX1nZXQgdGVzdCgpe319O2UoW3Aoe3JlYWRPbmx5OiEwfSldLEkucHJvdG90eXBlLFwidHlwZVwiLHZvaWQgMCksZShbcCh7Y29uc3RydWN0T25seTohMCxub25OdWxsYWJsZTohMH0pXSxJLnByb3RvdHlwZSxcImFuYWx5c2lzXCIsdm9pZCAwKSxlKFtwKCldLEkucHJvdG90eXBlLFwidG9vbFwiLHZvaWQgMCksZShbcCgpXSxJLnByb3RvdHlwZSxcIl9zZWxlY3RlZFZpZXdzaGVkXCIsdm9pZCAwKSxlKFtwKCldLEkucHJvdG90eXBlLFwic2VsZWN0ZWRWaWV3c2hlZFwiLG51bGwpLGUoW3AoKV0sSS5wcm90b3R5cGUsXCJzZWxlY3RlZFZpZXdzaGVkQ29tcHV0ZWREYXRhXCIsbnVsbCksZShbcCgpXSxJLnByb3RvdHlwZSxcInZpZXdzaGVkQ29tcHV0ZWREYXRhSGFuZGxlc1wiLHZvaWQgMCksZShbcCgpXSxJLnByb3RvdHlwZSxcInVzZXJPcGVyYXRpb25cIix2b2lkIDApLGUoW3AoKV0sSS5wcm90b3R5cGUsXCJfYW5hbHlzaXNWaXN1YWxpemF0aW9uXCIsdm9pZCAwKSxlKFtwKCldLEkucHJvdG90eXBlLFwiX3ZpZXdzaGVkUmVuZGVyZXJcIix2b2lkIDApLEk9ZShbbShcImVzcmkudmlld3MuM2QuYW5hbHlzaXMuVmlld3NoZWRBbmFseXNpc1ZpZXczRFwiKV0sSSk7Y29uc3QgVD1JLHg9aigpO2V4cG9ydHtUIGFzIGRlZmF1bHR9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMzMvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtkZWcycmFkIGFzIGV9ZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9tYXRoVXRpbHMuanNcIjtpbXBvcnR7ZnJvbVNjYWxpbmcgYXMgdCxtdWwgYXMgcixmcm9tVHJhbnNsYXRpb24gYXMgcyxmcm9tUm90YXRpb24gYXMgaX1mcm9tXCIuLi8uLi8uLi8uLi9jb3JlL2xpYnMvZ2wtbWF0cml4LTIvbWF0aC9tYXQ0LmpzXCI7aW1wb3J0e2NyZWF0ZSBhcyBvfWZyb21cIi4uLy4uLy4uLy4uL2NvcmUvbGlicy9nbC1tYXRyaXgtMi9mYWN0b3JpZXMvbWF0NGY2NC5qc1wiO2ltcG9ydHtpIGFzIGEsYyBhcyBuLHQgYXMgbH1mcm9tXCIuLi8uLi8uLi8uLi9jaHVua3MvdmVjMzIuanNcIjtpbXBvcnR7ZnJvbVZhbHVlcyBhcyBtLGNyZWF0ZSBhcyBjfWZyb21cIi4uLy4uLy4uLy4uL2NvcmUvbGlicy9nbC1tYXRyaXgtMi9mYWN0b3JpZXMvdmVjM2Y2NC5qc1wiO2ltcG9ydHt2aWV3c2hlZFZpc3VhbGl6YXRpb25Db25maWd1cmF0aW9uIGFzIGYsYXJjQW5nbGVQZXJTZWdtZW50IGFzIGh9ZnJvbVwiLi4vLi4vYW5hbHlzaXMvVmlld3NoZWQvVmlld3NoZWRDb25maWd1cmF0aW9uLmpzXCI7aW1wb3J0e2dldFZpZXdzaGVkUm90YXRpb25NYXRyaXggYXMgcCxyb3RhdGVCeSBhcyB1fWZyb21cIi4uLy4uL2FuYWx5c2lzL1ZpZXdzaGVkL3ZpZXdzaGVkVG9vbFV0aWxzLmpzXCI7aW1wb3J0e09iamVjdDNEVmlzdWFsRWxlbWVudCBhcyBkfWZyb21cIi4vT2JqZWN0M0RWaXN1YWxFbGVtZW50LmpzXCI7aW1wb3J0e0F0dHJpYnV0ZSBhcyB3fWZyb21cIi4uLy4uL3dlYmdsLWVuZ2luZS9saWIvQXR0cmlidXRlLmpzXCI7aW1wb3J0e0dlb21ldHJ5IGFzIGJ9ZnJvbVwiLi4vLi4vd2ViZ2wtZW5naW5lL2xpYi9HZW9tZXRyeS5qc1wiO2ltcG9ydHtWZXJ0ZXhBdHRyaWJ1dGUgYXMgdn1mcm9tXCIuLi8uLi93ZWJnbC1lbmdpbmUvbGliL1ZlcnRleEF0dHJpYnV0ZS5qc1wiO2ltcG9ydHtDb2xvck1hdGVyaWFsIGFzIGd9ZnJvbVwiLi4vLi4vd2ViZ2wtZW5naW5lL21hdGVyaWFscy9Db2xvck1hdGVyaWFsLmpzXCI7Y2xhc3MgaiBleHRlbmRzIGR7Y29uc3RydWN0b3IoZSl7c3VwZXIoZSksdGhpcy5fbWF0ZXJpYWw9bnVsbCx0aGlzLl92aWV3c2hlZENvbXB1dGVkRGF0YT1udWxsLHRoaXMuX21hdGVyaWFsPW5ldyBnKHsuLi5mLnNoYXBlTWF0ZXJpYWxQYXJhbWV0ZXJzLGlzRGVjb3JhdGlvbjp0aGlzLmlzRGVjb3JhdGlvbix3cml0ZURlcHRoOiExfSksdGhpcy5hcHBseVByb3BlcnRpZXMoZSl9Z2V0IHZpZXdzaGVkQ29tcHV0ZWREYXRhKCl7cmV0dXJuIHRoaXMuX3ZpZXdzaGVkQ29tcHV0ZWREYXRhfXNldCB2aWV3c2hlZENvbXB1dGVkRGF0YShlKXt0aGlzLl92aWV3c2hlZENvbXB1dGVkRGF0YT1lLHRoaXMudXBkYXRlVHJhbnNmb3JtKCl9dXBkYXRlVHJhbnNmb3JtKCl7Y29uc3QgZT10aGlzLl92aWV3c2hlZENvbXB1dGVkRGF0YTtpZihudWxsPT1lKXJldHVybjtjb25zdCBpPW8oKSxhPWUuZmFyRGlzdGFuY2VSZW5kZXJTcGFjZTt0KGksbShhLGEsYSkpLHAoZSxFKSxyKGksRSxpKSxzKEUsdGhpcy5fdmlld3NoZWRDb21wdXRlZERhdGEub2JzZXJ2ZXJSZW5kZXJTcGFjZSkscihpLEUsaSksdGhpcy50cmFuc2Zvcm09aX1jcmVhdGVFeHRlcm5hbFJlc291cmNlcygpe31kZXN0cm95RXh0ZXJuYWxSZXNvdXJjZXMoKXt9Zm9yRWFjaE1hdGVyaWFsKGUpe2UodGhpcy5fbWF0ZXJpYWwpfWNyZWF0ZUdlb21ldHJpZXMoZSl7Y29uc3R7X21hdGVyaWFsOnQsdmlld3NoZWRDb21wdXRlZERhdGE6cn09dGhpcztpZihudWxsPT1yfHxudWxsPT10fHwhci52YWxpZClyZXR1cm47RCh0LHIpLmZvckVhY2goKHQ9PmUuYWRkR2VvbWV0cnkodCkpKX19ZnVuY3Rpb24gRCh0LHIpe2NvbnN0e2hvcml6b250YWxGaWVsZE9mVmlldzpzLHZlcnRpY2FsRmllbGRPZlZpZXc6b309cixtPWEoXywwLDAsMSksYz1hKHgsMCwxLDApLGY9YShWLDEsMCwwKTt1KG0sbSxlKG8vMiksYyksdShtLG0sZShzLzIpLGYpO2NvbnN0IHA9ZT0+TWF0aC5jZWlsKE1hdGguYWJzKGUpL2gpKzEsZD1lKHMpLGc9bih5LGYpLGo9cChkKSxEPUMoLWQvKGotMSkpLE89aShFLEQsZyksUj1lKC1vKSxUPXAoUiksRz1DKFIvKFQtMSkpLE49bih4LGMpLFA9aShNLGUocykvMixmKTtsKE4sTixQKTtjb25zdCBTPU0sQT1bXSxGPW4oVixtKTtmb3IobGV0IGU9MDtlPGo7ZSsrKXtpKFMsRyxOKTtmb3IobGV0IHQ9MDt0PFQ7dCsrKXtjb25zdCByPTMqKHQqaitlKTtBW3JdPUZbMF0sQVtyKzFdPUZbMV0sQVtyKzJdPUZbMl0sbChGLEYsUyl9bChOLE4sTyksbChtLG0sTyksbihGLG0pfWNvbnN0IEk9aipUO0FbMypJXT0wLEFbMypJKzFdPTAsQVszKkkrMl09MDtjb25zdCBVPVtdO2ZvcihsZXQgZT0wO2U8ai0xO2UrKylmb3IobGV0IHQ9MDt0PFQtMTt0Kyspe2NvbnN0IHI9NioodCooai0xKStlKTtVW3JdPXQqaitlLFVbcisxXT0odCsxKSpqK2UsVVtyKzJdPXQqaitlKzEsVVtyKzNdPXQqaitlKzEsVVtyKzRdPSh0KzEpKmorZSxVW3IrNV09KHQrMSkqaitlKzF9Y29uc3Qgaz1bVV07aWYoMzYwIT09cyYmMCE9PW8pe2NvbnN0IGU9W10sdD1bXTtmb3IobGV0IHI9MDtyPFQtMTtyKyspe2NvbnN0IHM9MypyO2Vbc109SSxlW3MrMV09KHIrMSkqaixlW3MrMl09cipqLHRbc109SSx0W3MrMV09cipqK2otMSx0W3MrMl09KHIrMSkqaitqLTF9ay5wdXNoKGUsdCl9aWYoMTgwIT09byYmMCE9PXMpe2NvbnN0IGU9W10sdD1bXTtmb3IobGV0IHI9MDtyPGotMTtyKyspe2NvbnN0IHM9MypyO2Vbc109SSxlW3MrMV09cixlW3MrMl09cisxLHRbc109SSx0W3MrMV09cisoVC0xKSpqKzEsdFtzKzJdPXIrKFQtMSkqan1rLnB1c2goZSx0KX1yZXR1cm4gay5tYXAoKGU9Pntjb25zdCByPVtbdi5QT1NJVElPTixuZXcgdyhBLGUsMywhMCldXTtyZXR1cm4gbmV3IGIodCxyKX0pKX1mdW5jdGlvbiBDKGUpe3JldHVybiBpc05hTihlKT8xOmV9Y29uc3QgXz1jKCkseD1jKCksVj1jKCkseT1jKCksRT1vKCksTT1vKCk7ZXhwb3J0e2ogYXMgVmlld3NoZWRTaGFwZVZpc3VhbEVsZW1lbnR9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMzMvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHt0cmFuc2xhdGUgYXMgcixpbnZlcnRPcklkZW50aXR5IGFzIGV9ZnJvbVwiLi4vLi4vLi4vLi4vLi4vLi4vY29yZS9saWJzL2dsLW1hdHJpeC0yL21hdGgvbWF0NC5qc1wiO2ltcG9ydHtjcmVhdGUgYXMgb31mcm9tXCIuLi8uLi8uLi8uLi8uLi8uLi9jb3JlL2xpYnMvZ2wtbWF0cml4LTIvZmFjdG9yaWVzL21hdDRmNjQuanNcIjtpbXBvcnR7emVyb3MgYXMgaX1mcm9tXCIuLi8uLi8uLi8uLi8uLi8uLi9jb3JlL2xpYnMvZ2wtbWF0cml4LTIvZmFjdG9yaWVzL3ZlYzNmNjQuanNcIjtpbXBvcnR7Q2FtZXJhU3BhY2UgYXMgdH1mcm9tXCIuL0NhbWVyYVNwYWNlLmdsc2wuanNcIjtpbXBvcnR7Z2xzbCBhcyBhfWZyb21cIi4uLy4uL3NoYWRlck1vZHVsZXMvZ2xzbC5qc1wiO2ltcG9ydHtNYXRyaXg0UGFzc1VuaWZvcm0gYXMgc31mcm9tXCIuLi8uLi9zaGFkZXJNb2R1bGVzL01hdHJpeDRQYXNzVW5pZm9ybS5qc1wiO2ltcG9ydHtOb1BhcmFtZXRlcnMgYXMgY31mcm9tXCIuLi8uLi8uLi8uLi8uLi93ZWJnbC9Ob1BhcmFtZXRlcnMuanNcIjtjbGFzcyBtIGV4dGVuZHMgY3tjb25zdHJ1Y3Rvcigpe3N1cGVyKC4uLmFyZ3VtZW50cyksdGhpcy5sb2NhbE9yaWdpbj1pKCl9fWZ1bmN0aW9uIGwoaSl7aS5pbmNsdWRlKHQpLGkuZnJhZ21lbnQudW5pZm9ybXMuYWRkKG5ldyBzKFwiaW52ZXJzZVZpZXdNYXRyaXhcIiwoKGksdCk9Pntjb25zdCBhPXIobygpLHQuY2FtZXJhLnZpZXdNYXRyaXgsaS5sb2NhbE9yaWdpbik7cmV0dXJuIGUoYSxhKX0pKSkuY29kZS5hZGQoYWB2ZWM0IHJlY29uc3RydWN0TG9jYWxQb3NpdGlvbih2ZWMyIGNvb3JkLCBmbG9hdCBsaW5lYXJEZXB0aCkge1xudmVjNCBjYW1lcmFTcGFjZSA9IHZlYzQocmVjb25zdHJ1Y3RQb3NpdGlvbihjb29yZCwgbGluZWFyRGVwdGgpLCAxLjApO1xucmV0dXJuIGludmVyc2VWaWV3TWF0cml4ICogY2FtZXJhU3BhY2U7XG59YCl9ZXhwb3J0e20gYXMgTG9jYWxGcm9tU2NyZWVuU3BhY2VQYXNzUGFyYW1ldGVycyxsIGFzIGxvY2FsRnJvbVNjcmVlblNwYWNlfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjMzL2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7XyBhcyBlfWZyb21cIi4uLy4uLy4uLy4uL2NodW5rcy90c2xpYi5lczYuanNcIjtpbXBvcnQgcyBmcm9tXCIuLi8uLi8uLi8uLi9jb3JlL0NvbGxlY3Rpb24uanNcIjtpbXBvcnR7ZGVnMnJhZCBhcyB0fWZyb21cIi4uLy4uLy4uLy4uL2NvcmUvbWF0aFV0aWxzLmpzXCI7aW1wb3J0e2Rpc3Bvc2VNYXliZSBhcyByfWZyb21cIi4uLy4uLy4uLy4uL2NvcmUvbWF5YmUuanNcIjtpbXBvcnR7d2F0Y2ggYXMgaSx3aGVuIGFzIG8saW5pdGlhbCBhcyBhLHN5bmMgYXMgbn1mcm9tXCIuLi8uLi8uLi8uLi9jb3JlL3JlYWN0aXZlVXRpbHMuanNcIjtpbXBvcnR7cHJvcGVydHkgYXMgaH1mcm9tXCIuLi8uLi8uLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3Byb3BlcnR5LmpzXCI7aW1wb3J0XCIuLi8uLi8uLi8uLi9jb3JlL2hhcy5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vLi4vY29yZS9Mb2dnZXIuanNcIjtpbXBvcnRcIi4uLy4uLy4uLy4uL2NvcmUvUmFuZG9tTENHLmpzXCI7aW1wb3J0e3N1YmNsYXNzIGFzIGR9ZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9zdWJjbGFzcy5qc1wiO2ltcG9ydHt0cmFuc2xhdGUgYXMgYyxmcm9tVHJhbnNsYXRpb24gYXMgcCxzY2FsZSBhcyB3LG11bCBhcyBtfWZyb21cIi4uLy4uLy4uLy4uL2NvcmUvbGlicy9nbC1tYXRyaXgtMi9tYXRoL21hdDQuanNcIjtpbXBvcnR7Y3JlYXRlIGFzIGx9ZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9saWJzL2dsLW1hdHJpeC0yL2ZhY3Rvcmllcy9tYXQ0ZjY0LmpzXCI7aW1wb3J0e2EgYXMgdSxqIGFzIGZ9ZnJvbVwiLi4vLi4vLi4vLi4vY2h1bmtzL3ZlYzMyLmpzXCI7aW1wb3J0e2NyZWF0ZSBhcyB2LGZyb21WYWx1ZXMgYXMgX31mcm9tXCIuLi8uLi8uLi8uLi9jb3JlL2xpYnMvZ2wtbWF0cml4LTIvZmFjdG9yaWVzL3ZlYzNmNjQuanNcIjtpbXBvcnR7aCBhcyBWfWZyb21cIi4uLy4uLy4uLy4uL2NodW5rcy9zcGhlcmUuanNcIjtpbXBvcnR7SW50ZXJuYWxSZW5kZXJDYXRlZ29yeSBhcyBnfWZyb21cIi4uLy4uL3dlYmdsLmpzXCI7aW1wb3J0IGIgZnJvbVwiLi4vLi4vd2ViZ2wvUmVuZGVyTm9kZS5qc1wiO2ltcG9ydHtSZW5kZXJSZXF1ZXN0VHlwZSBhcyBNfWZyb21cIi4vYmFzaWNJbnRlcmZhY2VzLmpzXCI7aW1wb3J0e1JlbmRlckZlYXR1cmUgYXMgan1mcm9tXCIuL1JlbmRlckZlYXR1cmUuanNcIjtpbXBvcnR7Vmlld3NoZWRTaGFkb3dNYXAgYXMgU31mcm9tXCIuL1ZpZXdzaGVkU2hhZG93TWFwLmpzXCI7aW1wb3J0e1YgYXMgeX1mcm9tXCIuLi8uLi8uLi8uLi9jaHVua3MvVmlld3NoZWQuZ2xzbC5qc1wiO2ltcG9ydHtWaWV3c2hlZFRlY2huaXF1ZSBhcyBSfWZyb21cIi4uL3NoYWRlcnMvVmlld3NoZWRUZWNobmlxdWUuanNcIjtsZXQgUD1jbGFzcyBleHRlbmRzIGJ7Z2V0IHNoYWRvd01hcCgpe3JldHVybiB0aGlzLl9zaGFkb3dNYXB9Z2V0IGhhc1ZpZXdzaGVkcygpe3JldHVybiB0aGlzLl92aWV3c2hlZHMubGVuZ3RoPjB9Z2V0IF9jb250ZW50UGl4ZWxSYXRpbygpe3JldHVybiB0aGlzLnZpZXcuc3RhdGUuY29udGVudFBpeGVsUmF0aW99Z2V0IF92aWV3c2hlZHNJblZpZXcoKXtyZXR1cm4gdGhpcy5fdmlld3NoZWRzLml0ZW1zLmZpbHRlcigoZT0+RSh0aGlzLnZpZXcsZSkpKX1jb25zdHJ1Y3RvcihlKXtzdXBlcihlKSx0aGlzLmlzRGVjb3JhdGlvbj0hMSx0aGlzLl9wYXNzUGFyYW1ldGVycz1uZXcgeSx0aGlzLl92aWV3c2hlZHM9bmV3IHMsdGhpcy5fc2hhZG93TWFwPW51bGwsdGhpcy5jb25zdW1lcz17cmVxdWlyZWQ6W2cuVklFV1NIRUQsXCJub3JtYWxzXCJdfSx0aGlzLnByb2R1Y2VzPWcuVklFV1NIRUQsdGhpcy5yZXF1aXJlR2VvbWV0cnlEZXB0aD0hMH1pbml0aWFsaXplKCl7dGhpcy5fc2hhZG93TWFwPW5ldyBTKHRoaXMuZmJvQ2FjaGUpLHRoaXMuYWRkSGFuZGxlcyhbaSgoKCk9PnRoaXMudmlldy5yZXNvbHV0aW9uU2NhbGUpLChlPT57Y29uc3Qgcz10aGlzLl9zaGFkb3dNYXA7cyYmKHMuc2V0dGluZ3MudGV4dHVyZVNpemVRdWFsaXR5PWUpfSksYSksbygoKCk9PiF0aGlzLmhhc1ZpZXdzaGVkcyksKCgpPT50aGlzLl9zaGFkb3dNYXA/LmRpc3Bvc2UoKSkpLGkoKCgpPT50aGlzLl92aWV3c2hlZHNJblZpZXcubWFwKChlPT5bZS5vYnNlcnZlclJlbmRlclNwYWNlLGUuaGVhZGluZyxlLnRpbHQsZS5mYXJEaXN0YW5jZSxlLmhvcml6b250YWxGaWVsZE9mVmlldyxlLnZlcnRpY2FsRmllbGRPZlZpZXddKSkpLCgoKT0+dGhpcy5yZXF1ZXN0UmVuZGVyKE0uVVBEQVRFKSksbildKX1kZXN0cm95KCl7dGhpcy5fc2hhZG93TWFwPXIodGhpcy5fc2hhZG93TWFwKX1wcmVjb21waWxlKCl7aWYodGhpcy5oYXNWaWV3c2hlZHMpe3RoaXMudGVjaG5pcXVlcy5wcmVjb21waWxlKFIpO2Zvcihjb25zdCBlIG9mIHRoaXMuX3ZpZXdzaGVkc0luVmlldylpZih0aGlzLl9zaGFkb3dNYXA/LmlzQWN0aXZlKGUpKXJldHVybiB2b2lkIHRoaXMudmlldy5zdGFnZS5yZW5kZXJlci5wcmVjb21waWxlVmlld3NoZWRTaGFkb3dNYXAoKX19cmVuZGVyKGUpe2NvbnN0IHM9dGhpcy5iaW5kUGFyYW1ldGVycyx0PXRoaXMucmVuZGVyaW5nQ29udGV4dCxyPWUuZmluZCgoKHtuYW1lOmV9KT0+ZT09PWcuVklFV1NIRUQpKTtpZighdGhpcy5oYXNWaWV3c2hlZHN8fCFzLmRlcHRofHx0aGlzLmlzRGVjb3JhdGlvbiYmIXMuZGVjb3JhdGlvbnMpcmV0dXJuIHI7dGhpcy5fcGFzc1BhcmFtZXRlcnMuc2hhZG93TWFwPXRoaXMuX3NoYWRvd01hcD8/dGhpcy5fcGFzc1BhcmFtZXRlcnMuc2hhZG93TWFwLHRoaXMuX3Bhc3NQYXJhbWV0ZXJzLm5vcm1hbHM9ZS5maW5kKCgoe25hbWU6ZX0pPT5cIm5vcm1hbHNcIj09PWUpKT8uZ2V0VGV4dHVyZSgpO2NvbnN0IGk9dGhpcy50ZWNobmlxdWVzLmdldChSKTtpZighaT8uY29tcGlsZWQpcmV0dXJuIHRoaXMucmVxdWVzdFJlbmRlcihNLlVQREFURSkscjtjb25zdCBvPXRoaXMudmlldy5zdGFnZS5yZW5kZXJlci5pc0ZlYXR1cmVFbmFibGVkKGouSGlnaFJlc29sdXRpb25WaWV3c2hlZCk7Zm9yKGNvbnN0IGEgb2YgdGhpcy5fdmlld3NoZWRzSW5WaWV3KXtpZighdGhpcy5fcmVuZGVyU2hhZG93Q3ViZU1hcChzLGEsbyl8fCF0aGlzLl9zaGFkb3dNYXA/LnJlYWR5KWNvbnRpbnVlO2NvbnN0IGU9dGhpcy5fc2V0dXBWaWV3c2hlZFBhcmFtZXRlcnMoYSxzLmNhbWVyYSk7dC5iaW5kVGVjaG5pcXVlKGkscyxlKSx0LmJpbmRGcmFtZWJ1ZmZlcihyLmZibyksdC5zY3JlZW4uZHJhdygpfXJldHVybiB0aGlzLnNoYWRvd01hcD8uZGlzcG9zZSgpLHJ9dXBkYXRlVmlld3NoZWRzKGUpe2NvbnN0IHM9dGhpcy5fdmlld3NoZWRzLHtyZW1vdmVzOnQsYWRkczpyfT1lO2lmKHQmJihBcnJheS5pc0FycmF5KHQpP3MucmVtb3ZlTWFueSh0KTpzLnJlbW92ZSh0KSkscilpZihBcnJheS5pc0FycmF5KHIpKXtjb25zdCBlPXIuZmlsdGVyKChlPT4hcy5pbmNsdWRlcyhlKSkpO3MuYWRkTWFueShlKX1lbHNlIHMuaW5jbHVkZXMocil8fHMuYWRkKHIpfV9yZW5kZXJTaGFkb3dDdWJlTWFwKGUscyx0KXtjb25zdCByPXRoaXMuX3NoYWRvd01hcDtpZighcilyZXR1cm4hMTtjb25zdCBpPXRoaXMudmlldy5iYXNlbWFwVGVycmFpbi5oYXNTdGVuY2lsRW5hYmxlZEV4dGVudHMsbz1yLnN0YXJ0KGUuY2FtZXJhLHMsdCx0aGlzLl9jb250ZW50UGl4ZWxSYXRpbyxpKTtyZXR1cm4gbyYmci5mYWNlcy5mb3JFYWNoKChlPT50aGlzLnZpZXcuc3RhZ2UucmVuZGVyZXIucmVuZGVyVmlld3NoZWRTaGFkb3dNYXAoZSkpKSxyLmZpbmlzaCgpLG99X3NldHVwVmlld3NoZWRQYXJhbWV0ZXJzKGUscyl7Y29uc3Qgcj10aGlzLl9zaGFkb3dNYXA7aWYoIXIpcmV0dXJuIHRoaXMuX3Bhc3NQYXJhbWV0ZXJzO2NvbnN0IGk9dGhpcy5fcGFzc1BhcmFtZXRlcnMsbz1lLmVmZmVjdGl2ZU9ic2VydmVyUmVuZGVyU3BhY2U7aS5sb2NhbE9yaWdpbj1vLGkub2JzZXJ2ZXJPZmZzZXQ9dShJLGUub2JzZXJ2ZXJSZW5kZXJTcGFjZSxlLmVmZmVjdGl2ZU9ic2VydmVyUmVuZGVyU3BhY2UpLGkuZm92cz1bdChlLmhvcml6b250YWxGaWVsZE9mVmlldyksdChlLnZlcnRpY2FsRmllbGRPZlZpZXcpXSxpLmhlYWRpbmdBbmRUaWx0PVt0KGUuaGVhZGluZyksdChlLnRpbHRQYXJhbGxlbFRvU3VyZmFjZSldLGkudXBWZWN0b3I9ZS50aWx0ZWRVcFZlY3Rvcjtjb25zdCBhPXgoZS50YXJnZXRSZW5kZXJTcGFjZSxvKTtpLnRhcmdldFZlY3Rvcj1hO2NvbnN0IG49bmV3IEFycmF5LGg9bmV3IEFycmF5O2ZvcihsZXQgdD0wO3Q8ci5udW1BY3RpdmVGYWNlczt0KyspYyhPLHIudmlld3NoZWRWaWV3TWF0cmljZXNbdF0sbyksbi5wdXNoKC4uLk8pLEEoci52aWV3c2hlZFByb2plY3Rpb25NYXRyaWNlc1t0XSxPLHEpLGgucHVzaCguLi5xKTtyZXR1cm4gaS52aWV3TWF0cmljZXM9bixpLnByb2plY3Rpb25NYXRyaWNlcz1oLGkudm9sdW1lT2Zmc2V0PXRoaXMuc2VsZWN0ZWRWaWV3c2hlZD8uKCk9PT1lLnZpZXdzaGVkP0QoZSx0aGlzLnZpZXcscy5leWUpOjAsaX1nZXQgdGVzdCgpe3JldHVybnt2aWV3c2hlZHM6dGhpcy5fdmlld3NoZWRzLHNoYWRvd01hcDp0aGlzLl9zaGFkb3dNYXAsdmlld3NoZWRzSW5WaWV3OnRoaXMuX3ZpZXdzaGVkc0luVmlld319fTtmdW5jdGlvbiB4KGUscyl7Y29uc3QgdD12KCk7cmV0dXJuIHUodCxlLHMpfWZ1bmN0aW9uIEEoZSxzLHQpe2NvbnN0IHI9XyguNSwuNSwuNSk7cmV0dXJuIHAodCxyKSx3KHQsdCxyKSxtKHQsdCxlKSxtKHQsdCxzKSx0fWZ1bmN0aW9uIEUoZSxzKXtjb25zdCB0PVYocy5vYnNlcnZlclJlbmRlclNwYWNlLHMuZmFyRGlzdGFuY2VSZW5kZXJTcGFjZSk7cmV0dXJuISFlLnJlYWR5JiZlLmZydXN0dW0uaW50ZXJzZWN0c1NwaGVyZSh0KX1mdW5jdGlvbiBEKGUscyx0KXtpZihudWxsPT1lKXJldHVybiAwO2NvbnN0e29ic2VydmVyUmVuZGVyU3BhY2U6cix0YXJnZXRSZW5kZXJTcGFjZTppfT1lLG89Zih0LHIpPmYodCxpKT9lLm9ic2VydmVyOmUudGFyZ2V0O3JldHVybiBzLnBpeGVsU2l6ZUF0KG8pfWUoW2goKV0sUC5wcm90b3R5cGUsXCJzZWxlY3RlZFZpZXdzaGVkXCIsdm9pZCAwKSxlKFtoKCldLFAucHJvdG90eXBlLFwiaXNEZWNvcmF0aW9uXCIsdm9pZCAwKSxlKFtoKCldLFAucHJvdG90eXBlLFwic2hhZG93TWFwXCIsbnVsbCksZShbaCgpXSxQLnByb3RvdHlwZSxcImhhc1ZpZXdzaGVkc1wiLG51bGwpLGUoW2goKV0sUC5wcm90b3R5cGUsXCJfY29udGVudFBpeGVsUmF0aW9cIixudWxsKSxlKFtoKCldLFAucHJvdG90eXBlLFwiX3ZpZXdzaGVkc0luVmlld1wiLG51bGwpLGUoW2goKV0sUC5wcm90b3R5cGUsXCJjb25zdW1lc1wiLHZvaWQgMCksZShbaCgpXSxQLnByb3RvdHlwZSxcInByb2R1Y2VzXCIsdm9pZCAwKSxQPWUoW2QoXCJlc3JpLnZpZXdzLjNkLndlYmdsLWVuZ2luZS5saWIuVmlld3NoZWRcIildLFApO2NvbnN0IEk9digpLE89bCgpLHE9bCgpO2V4cG9ydHtQIGFzIFZpZXdzaGVkLEQgYXMgY29tcHV0ZU9mZnNldFNjYWxlfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjMzL2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7XyBhcyB0fWZyb21cIi4uLy4uLy4uLy4uL2NodW5rcy90c2xpYi5lczYuanNcIjtpbXBvcnR7cmFkMmRlZyBhcyBzLGRlZzJyYWQgYXMgZX1mcm9tXCIuLi8uLi8uLi8uLi9jb3JlL21hdGhVdGlscy5qc1wiO2ltcG9ydHtwcm9wZXJ0eSBhcyBvfWZyb21cIi4uLy4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvcHJvcGVydHkuanNcIjtpbXBvcnRcIi4uLy4uLy4uLy4uL2NvcmUvaGFzLmpzXCI7aW1wb3J0XCIuLi8uLi8uLi8uLi9jb3JlL0xvZ2dlci5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vLi4vY29yZS9SYW5kb21MQ0cuanNcIjtpbXBvcnR7c3ViY2xhc3MgYXMgcn1mcm9tXCIuLi8uLi8uLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3N1YmNsYXNzLmpzXCI7aW1wb3J0e211bCBhcyBpLGZyb21UcmFuc2xhdGlvbiBhcyBuLGZyb21TY2FsaW5nIGFzIGF9ZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9saWJzL2dsLW1hdHJpeC0yL21hdGgvbWF0NC5qc1wiO2ltcG9ydHtjcmVhdGUgYXMgY31mcm9tXCIuLi8uLi8uLi8uLi9jb3JlL2xpYnMvZ2wtbWF0cml4LTIvZmFjdG9yaWVzL21hdDRmNjQuanNcIjtpbXBvcnR7Y3JlYXRlIGFzIGwsZnJvbUFycmF5IGFzIHB9ZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9saWJzL2dsLW1hdHJpeC0yL2ZhY3Rvcmllcy92ZWM0ZjY0LmpzXCI7aW1wb3J0IG0gZnJvbVwiLi4vLi4vd2ViZ2wvUmVuZGVyQ2FtZXJhLmpzXCI7aW1wb3J0e2Fzc2VydCBhcyBofWZyb21cIi4vVXRpbC5qc1wiO2xldCBnPWNsYXNzIGV4dGVuZHMgbXtjb25zdHJ1Y3Rvcigpe3N1cGVyKC4uLmFyZ3VtZW50cyksdGhpcy5zZWN0aW9uQW5nbGVzPWwoKX1nZXQgc2VjdGlvbkFuZ2xlc0RlZygpe3JldHVybiBwKHRoaXMuc2VjdGlvbkFuZ2xlcy5tYXAoKHQ9PnModCkpKSl9c2V0IHNlY3Rpb25BbmdsZXNEZWcodCl7dGhpcy5zZWN0aW9uQW5nbGVzPXAodC5tYXAoKHQ9PmUodCkpKSl9Z2V0IHByb2plY3Rpb25NYXRyaXgoKXtyZXR1cm4gaShjKCksdGhpcy5zZWN0aW9uTWF0cml4LHRoaXMuX3Byb2plY3Rpb25NYXRyaXhJbnRlcm5hbCl9Z2V0IHNlY3Rpb25NYXRyaXgoKXtjb25zdCB0PXRoaXMuc2VjdGlvbkFuZ2xlc1swXSxzPXRoaXMuc2VjdGlvbkFuZ2xlc1sxXSxlPXRoaXMuc2VjdGlvbkFuZ2xlc1syXSxvPXRoaXMuc2VjdGlvbkFuZ2xlc1szXTtoKHQ8PXMpLGgoZTw9byk7Y29uc3Qgcj0yKk1hdGgudGFuKHRoaXMuZm92WC8yKSxsPTIqTWF0aC50YW4odGhpcy5mb3ZZLzIpLHA9TWF0aC50YW4odCksbT1NYXRoLnRhbihzKSxnPU1hdGgudGFuKGUpLGY9bS1wLE09TWF0aC50YW4obyktZyxqPXIvZix1PWwvTSxBPS0ocCtmLzIpL3IqMix4PS0oZytNLzIpL2wqMixiPWMoKTtuKGIsW0EseCwwXSk7Y29uc3QgZD1jKCk7YShkLFtqLHUsMV0pO2NvbnN0IHY9YygpO3JldHVybiBpKHYsZCxiKX1nZXQgX3NlY3Rpb25SYXRpb1goKXtjb25zdCB0PU1hdGgudGFuKHRoaXMuc2VjdGlvbkFuZ2xlc1swXSkscz1NYXRoLnRhbih0aGlzLnNlY3Rpb25BbmdsZXNbMV0pLGU9MipNYXRoLnRhbih0aGlzLmZvdlgvMik7cmV0dXJuIE1hdGgubWluKDEsKHMtdCkvZSl9c2V0Vmlld3BvcnQodCxzKXtjb25zdCBlPXMqdGhpcy5fc2VjdGlvblJhdGlvWDtyZXR1cm4gdGhpcy52aWV3cG9ydD1bdFswXSx0WzFdLGUsc10sZX19O3QoW28oKV0sZy5wcm90b3R5cGUsXCJzZWN0aW9uQW5nbGVzXCIsdm9pZCAwKSx0KFtvKCldLGcucHJvdG90eXBlLFwic2VjdGlvbkFuZ2xlc0RlZ1wiLG51bGwpLHQoW28oKV0sZy5wcm90b3R5cGUsXCJwcm9qZWN0aW9uTWF0cml4XCIsbnVsbCksdChbbygpXSxnLnByb3RvdHlwZSxcInNlY3Rpb25NYXRyaXhcIixudWxsKSx0KFtvKCldLGcucHJvdG90eXBlLFwiX3NlY3Rpb25SYXRpb1hcIixudWxsKSxnPXQoW3IoXCJlc3JpLnZpZXdzLjNkLndlYmdsLWVuZ2luZS5saWIuVmlld3NoZWRGYWNlQ2FtZXJhXCIpXSxnKTtleHBvcnR7ZyBhcyBWaWV3c2hlZEZhY2VDYW1lcmF9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMzMvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydCBoYXMgZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9oYXMuanNcIjtpbXBvcnR7Y2xhbXAgYXMgdH1mcm9tXCIuLi8uLi8uLi8uLi9jb3JlL21hdGhVdGlscy5qc1wiO2ltcG9ydHtyZWxlYXNlTWF5YmUgYXMgZX1mcm9tXCIuLi8uLi8uLi8uLi9jb3JlL21heWJlLmpzXCI7aW1wb3J0e2Zyb21Sb3RhdGlvbiBhcyBpfWZyb21cIi4uLy4uLy4uLy4uL2NvcmUvbGlicy9nbC1tYXRyaXgtMi9tYXRoL21hdDQuanNcIjtpbXBvcnR7Y3JlYXRlIGFzIHN9ZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9saWJzL2dsLW1hdHJpeC0yL2ZhY3Rvcmllcy9tYXQ0ZjY0LmpzXCI7aW1wb3J0e2EgYXMgcixmIGFzIGEsdSBhcyBvLHQgYXMgaH1mcm9tXCIuLi8uLi8uLi8uLi9jaHVua3MvdmVjMzIuanNcIjtpbXBvcnR7Y3JlYXRlIGFzIGN9ZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9saWJzL2dsLW1hdHJpeC0yL2ZhY3Rvcmllcy92ZWMzZjY0LmpzXCI7aW1wb3J0e0RlcHRoRm9ybWF0IGFzIG59ZnJvbVwiLi4vY29yZS9GQk9DYWNoZUZvcm1hdHMuanNcIjtpbXBvcnR7YXBwbHlUZXh0dXJlUmVzaXplTW9kdWxvIGFzIGx9ZnJvbVwiLi90ZXh0dXJlVXRpbHMuanNcIjtpbXBvcnR7Vmlld3NoZWRGYWNlQ2FtZXJhIGFzIHV9ZnJvbVwiLi9WaWV3c2hlZEZhY2VDYW1lcmEuanNcIjtpbXBvcnR7RGVwdGhTdGVuY2lsQXR0YWNobWVudCBhcyBtLFNpemVkRGVwdGhGb3JtYXQgYXMgZixGcmFtZWJ1ZmZlckJpdCBhcyBkfWZyb21cIi4uLy4uLy4uL3dlYmdsL2VudW1zLmpzXCI7aW1wb3J0e2lzU2l6ZWREZXB0aFN0ZW5jaWxGb3JtYXQgYXMgcH1mcm9tXCIuLi8uLi8uLi93ZWJnbC90ZXh0dXJlVXRpbHMuanNcIjtjbGFzcyBne2NvbnN0cnVjdG9yKCl7dGhpcy50ZXh0dXJlU2l6ZVF1YWxpdHk9MSx0aGlzLnRleHR1cmVTaXplTW9kSGlnaFF1YWxpdHk9MS4zLHRoaXMudGV4dHVyZVNpemVNb2RMb3dRdWFsaXR5PS45LHRoaXMudGV4dHVyZVNpemVNdWx0aXBsZT0xMjgsdGhpcy50b2xlcmFuY2VTaWRlcz01LHRoaXMudG9sZXJhbmNlQm90dG9tVG9wPTEwfXRleHR1cmVTaXplTW9kaWZpZXIodCl7Y29uc3QgZT10P3RoaXMudGV4dHVyZVNpemVNb2RIaWdoUXVhbGl0eTp0aGlzLnRleHR1cmVTaXplTW9kTG93UXVhbGl0eTtyZXR1cm4gdGhpcy50ZXh0dXJlU2l6ZVF1YWxpdHkqZX10ZXh0dXJlUmVzaXplTW9kdWxvKHQpe3JldHVybiBNYXRoLmNlaWwodC90aGlzLnRleHR1cmVTaXplTXVsdGlwbGUpKnRoaXMudGV4dHVyZVNpemVNdWx0aXBsZX19Y29uc3QgXz1bXCJmcm9udFwiLFwibGVmdFwiLFwicmlnaHRcIixcImJhY2tcIixcInRvcFwiLFwiYm90dG9tXCJdO2Z1bmN0aW9uIHgodCl7cmV0dXJuIVtcInRvcFwiLFwiYm90dG9tXCJdLmluY2x1ZGVzKHQpfWNsYXNzIHd7Y29uc3RydWN0b3IodCl7dGhpcy5fZmJvcz10LHRoaXMuX2ZhY2VzPXt9LHRoaXMuX3dpZHRoPTAsdGhpcy5faGVpZ2h0PTAsdGhpcy5zZXR0aW5ncz1uZXcgZyx0aGlzLl9tYXhUZXh0dXJlU2l6ZT1NYXRoLm1pbihoYXMoXCJlc3JpLW1vYmlsZVwiKT80MDk2OjE2Mzg0LHQucmN0eC5wYXJhbWV0ZXJzLm1heFRleHR1cmVTaXplKX1nZXQgZGVwdGhUZXh0dXJlKCl7cmV0dXJuIHRoaXMuX2hhbmRsZT8uZ2V0VGV4dHVyZShtKX1nZXQgcmVhZHkoKXtyZXR1cm4gbnVsbCE9dGhpcy5kZXB0aFRleHR1cmUmJjAhPT10aGlzLl93aWR0aCYmMCE9PXRoaXMuX2hlaWdodH1nZXQgbmVhckZhcigpe2NvbnN0IHQ9dGhpcy5mYWNlcztyZXR1cm4gMD09PXQubGVuZ3RoP251bGw6dFswXS5uZWFyRmFyfWdldCBudW1BY3RpdmVGYWNlcygpe2NvbnN0IHQ9dGhpcy5fZmFjZXM7bGV0IGU9MDtyZXR1cm4gT2JqZWN0LmtleXModCkuZm9yRWFjaCgoaT0+e3RbaV0mJihlKz0xKX0pKSxlfWdldCBmYWNlcygpe2NvbnN0IHQ9dGhpcy5fZmFjZXMsZT1bXTtmb3IoY29uc3QgaSBvZiBfKXtjb25zdCBzPXRbaV07cyYmZS5wdXNoKHMpfXJldHVybiBlfWdldCBhdGxhc1JlZ2lvbnMoKXtyZXR1cm4gdGhpcy5mYWNlcy5tYXAoKHQ9Plt0LngvdGhpcy5fd2lkdGgsKHQueCt0LndpZHRoKS90aGlzLl93aWR0aCx0LnkvdGhpcy5faGVpZ2h0LCh0LnkrdC5oZWlnaHQpL3RoaXMuX2hlaWdodF0pKX1nZXQgdmlld3NoZWRQcm9qZWN0aW9uTWF0cmljZXMoKXtyZXR1cm4gdGhpcy5mYWNlcy5tYXAoKHQ9PnQucHJvamVjdGlvbk1hdHJpeCkpfWdldCB2aWV3c2hlZFZpZXdNYXRyaWNlcygpe3JldHVybiB0aGlzLmZhY2VzLm1hcCgodD0+dC52aWV3TWF0cml4KSl9X3NldHVwRmFjZUNhbWVyYShlLG4sbCxtKXtjb25zdHtlZmZlY3RpdmVPYnNlcnZlclJlbmRlclNwYWNlOmYsdGlsdGVkVXBWZWN0b3I6ZCx0YXJnZXRSZW5kZXJTcGFjZTpwLGZhckRpc3RhbmNlUmVuZGVyU3BhY2U6Zyxob3Jpem9udGFsRmllbGRPZlZpZXc6Xyx2ZXJ0aWNhbEZpZWxkT2ZWaWV3Ond9PW4sYj1jKCk7cihiLHAsZik7Y29uc3QgTT1jKCksUz1jKCksRj0odCxlKT0+e2NvbnN0IHI9YygpLG89cygpO3JldHVybiBpKG8sdCxlKSxoKHIsYixvKSxhKHIsZixyKSxyfTtsZXQgeixUPWQ7Y29uc3QgTz1NYXRoLm1pbig5MCxfKSx2PU1hdGgubWluKDkwLE1hdGgubWF4KDAsKF8tOTApLzIpKTtsZXQgaj0tNDUsQj00NSx5PS00NSxrPTQ1O2lmKHgoZSkpe2NvbnN0IGU9ZT0+dChlLC00NSw0NSk7eT1lKC13LzIpLXRoaXMuc2V0dGluZ3MudG9sZXJhbmNlQm90dG9tVG9wLGs9ZSgrdy8yKSt0aGlzLnNldHRpbmdzLnRvbGVyYW5jZUJvdHRvbVRvcH1zd2l0Y2goZSl7Y2FzZVwiZnJvbnRcIjp6PXAsaj0tTy8yLEI9Ty8yO2JyZWFrO2Nhc2VcImxlZnRcIjp6PUYoTWF0aC5QSS8yLGQpLGo9NDUtdjticmVhaztjYXNlXCJyaWdodFwiOno9RigtTWF0aC5QSS8yLGQpLEI9LTQ1K3Y7YnJlYWs7Y2FzZVwidG9wXCI6ej1hKE0sZixkKSxUPW8oUyxiKTticmVhaztjYXNlXCJib3R0b21cIjp6PXIoTSxmLGQpLFQ9YjticmVhaztjYXNlXCJiYWNrXCI6ej1GKE1hdGguUEksZCl9Y29uc3QgUD1uZXcgdSh7Y2VudGVyOnosZXllOmYsdXA6VCxmYXI6Z30pO1Auc2VjdGlvbkFuZ2xlc0RlZz1bai10aGlzLnNldHRpbmdzLnRvbGVyYW5jZVNpZGVzLEIrdGhpcy5zZXR0aW5ncy50b2xlcmFuY2VTaWRlcyx5LGtdLFAuZm92WT1NYXRoLlBJLzI7Y29uc3QgQz1QLnNldFZpZXdwb3J0KGwsbSk7cmV0dXJuIHRoaXMuX2ZhY2VzW2VdPVAsQ31pc0FjdGl2ZSh0KXtyZXR1cm4gdGhpcy5fY29tcHV0ZUFjdGl2ZUZhY2VzKHQpLnNpemU+MH1fY29tcHV0ZUFjdGl2ZUZhY2VzKHQpe2NvbnN0IGU9bmV3IFNldCx7aG9yaXpvbnRhbEZpZWxkT2ZWaWV3OmksdmVydGljYWxGaWVsZE9mVmlldzpzfT10LHI9LXMvMixhPXMvMjtyZXR1cm4gMD09PWl8fDA9PT1zfHwocjw9NDUmJmE+PS00NSYmZS5hZGQoXCJmcm9udFwiKSxpPjkwJiYoZS5hZGQoXCJsZWZ0XCIpLGUuYWRkKFwicmlnaHRcIikpLGk+MjcwJiZlLmFkZChcImJhY2tcIiksYT40NS10aGlzLnNldHRpbmdzLnRvbGVyYW5jZUJvdHRvbVRvcCYmZS5hZGQoXCJ0b3BcIikscjwtNDUrdGhpcy5zZXR0aW5ncy50b2xlcmFuY2VCb3R0b21Ub3AmJmUuYWRkKFwiYm90dG9tXCIpKSxlfV9jb21wdXRlQmFzZVRleHR1cmVTaXplKHtwaXhlbFJhdGlvOnQsZnVsbFdpZHRoOmUsZnVsbEhlaWdodDppfSxzLHIsYSl7Y29uc3Qgbz1zL3QsaD10aGlzLnNldHRpbmdzLnRleHR1cmVTaXplTW9kaWZpZXIocik7cmV0dXJuIGwoTWF0aC5tYXgoZSxpKSpvKmgsdGhpcy5fbWF4VGV4dHVyZVNpemUvYSl9X2Vuc3VyZUZCTyh0KXtjb25zdCBlPXRoaXMuX3dpZHRoLGk9dGhpcy5faGVpZ2h0LHM9dGhpcy5faGFuZGxlPy5mYm87cyYmcy53aWR0aD09PWUmJnMuaGVpZ2h0PT09aSYmdD09PXAocy5kZXB0aFN0ZW5jaWxUZXh0dXJlPy5kZXNjcmlwdG9yPy5pbnRlcm5hbEZvcm1hdD8/Zi5ERVBUSF9DT01QT05FTlQxNil8fCh0aGlzLl9oYW5kbGU/LnJlbGVhc2UoKSx0aGlzLl9oYW5kbGU9dGhpcy5fYWxsb2NhdGVGQk8odCkpfV9hbGxvY2F0ZUZCTyh0KXtjb25zdHtfd2lkdGg6ZSxfaGVpZ2h0Oml9PXRoaXMscz10P24uREVQVEgyNF9TVEVOQ0lMODpuLkRFUFRIMTYscj10aGlzLl9mYm9zLmFjcXVpcmUoZSxpLFwidmlld3NoZWQgc2hhZG93IG1hcFwiLHMpO3JldHVybiByLmdldFRleHR1cmUobSk/LnNldFNoYWRvd0ZpbHRlcmluZyghMSkscn1jbGVhckZCTyh0KXtjb25zdCBlPXRoaXMuX2Zib3MucmN0eDt0aGlzLl9lbnN1cmVGQk8odCksZS5iaW5kRnJhbWVidWZmZXIodGhpcy5faGFuZGxlPy5mYm8pLGUuc2V0Q2xlYXJDb2xvcigxLDEsMSwxKSxlLmNsZWFyKGQuQ09MT1J8ZC5ERVBUSCl9ZGlzcG9zZSgpe3RoaXMuX2RlYnVnRkJPfHwodGhpcy5faGFuZGxlPWUodGhpcy5faGFuZGxlKSl9c3RhcnQodCxlLGkscyxyPSExKXt0aGlzLl9mYWNlcz17fTtjb25zdCBhPXRoaXMuX2NvbXB1dGVBY3RpdmVGYWNlcyhlKSxvPWEuc2l6ZTtpZigwPT09bylyZXR1cm4hMTtjb25zdCBoPXRoaXMuX2NvbXB1dGVCYXNlVGV4dHVyZVNpemUodCxzLGksbyk7bGV0IGM9MCxuPTAsbD0wO3JldHVybiBfLmZpbHRlcigodD0+YS5oYXModCkpKS5mb3JFYWNoKCh0PT57Y29uc3QgaT1iKHQsbyk7aT5uJiYobD1NYXRoLm1heChsLGMpLGM9MCksbj1pO2NvbnN0IHM9aSpoO2MrPXRoaXMuX3NldHVwRmFjZUNhbWVyYSh0LGUsW2Msc10saCl9KSksbD1NYXRoLm1heChsLGMpLHRoaXMuX3dpZHRoPXRoaXMuc2V0dGluZ3MudGV4dHVyZVJlc2l6ZU1vZHVsbyhsKSx0aGlzLl9oZWlnaHQ9TShvKSpoLHRoaXMuY2xlYXJGQk8ociksITB9ZmluaXNoKCl7fWdldCB0ZXN0KCl7fX1mdW5jdGlvbiBiKHQsZSl7aWYoZTw0KXJldHVybiAwO2NvbnN0IGk9XCJmcm9udFwiPT09dHx8XCJsZWZ0XCI9PT10O3JldHVybiA0PT09ZT9pPzA6MTppfHxcInJpZ2h0XCI9PT10PzA6MX1mdW5jdGlvbiBNKHQpe3JldHVybiB0PDQ/MToyfWV4cG9ydHt3IGFzIFZpZXdzaGVkU2hhZG93TWFwfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjMzL2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7ZnJvbVZhbHVlcyBhcyB0fWZyb21cIi4uLy4uLy4uLy4uL2NvcmUvbGlicy9nbC1tYXRyaXgtMi9mYWN0b3JpZXMvdmVjM2Y2NC5qc1wiO2ltcG9ydHtNYXRlcmlhbCBhcyBpfWZyb21cIi4uL2xpYi9NYXRlcmlhbC5qc1wiO2ltcG9ydHtpbnRlcnNlY3RUcmlhbmdsZUdlb21ldHJ5IGFzIHB9ZnJvbVwiLi4vbGliL1JheUludGVyc2VjdGlvbnMuanNcIjtjbGFzcyByIGV4dGVuZHMgaXtjb25zdHJ1Y3Rvcigpe3N1cGVyKC4uLmFyZ3VtZW50cyksdGhpcy5fcHAwPXQoMCwwLDEpLHRoaXMuX3BwMT10KDAsMCwwKX1pbnRlcnNlY3QodCxpLHIscyxlLG8pe3JldHVybiBwKHQscixzLGUsdm9pZCAwLG8pfWludGVyc2VjdERyYXBlZCh0LGkscixzKXtyZXR1cm4gdGhpcy5fcHAwWzBdPXRoaXMuX3BwMVswXT1yWzBdLHRoaXMuX3BwMFsxXT10aGlzLl9wcDFbMV09clsxXSxwKHQsaSx0aGlzLl9wcDAsdGhpcy5fcHAxLHZvaWQgMCxzKX19ZXhwb3J0e3IgYXMgVHJpYW5nbGVNYXRlcmlhbH07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4zMy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e1JlbG9hZGFibGVTaGFkZXJNb2R1bGUgYXMgZX1mcm9tXCIuLi9jb3JlL3NoYWRlclRlY2huaXF1ZS9SZWxvYWRhYmxlU2hhZGVyTW9kdWxlLmpzXCI7aW1wb3J0e1NoYWRlclRlY2huaXF1ZSBhcyByfWZyb21cIi4uL2NvcmUvc2hhZGVyVGVjaG5pcXVlL1NoYWRlclRlY2huaXF1ZS5qc1wiO2ltcG9ydHthIGFzIGl9ZnJvbVwiLi4vLi4vLi4vLi4vY2h1bmtzL1ZpZXdzaGVkLmdsc2wuanNcIjtpbXBvcnR7bWFrZVBpcGVsaW5lU3RhdGUgYXMgbyx1bnByZW11bHRpcGxpZWRBbHBoYVRvUHJlbXVsdGlwbGllZEFscGhhIGFzIHMsZGVmYXVsdENvbG9yV3JpdGUgYXMgdH1mcm9tXCIuLi8uLi8uLi93ZWJnbC9yZW5kZXJTdGF0ZS5qc1wiO2NsYXNzIGwgZXh0ZW5kcyBye2NvbnN0cnVjdG9yKHIsbyl7c3VwZXIocixvLG5ldyBlKGksKCgpPT5pbXBvcnQoXCIuL1ZpZXdzaGVkLmdsc2wuanNcIikpKSl9aW5pdGlhbGl6ZVBpcGVsaW5lKCl7cmV0dXJuIG8oe2NvbG9yV3JpdGU6dCxibGVuZGluZzpzfSl9fWV4cG9ydHtsIGFzIFZpZXdzaGVkVGVjaG5pcXVlfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjMzL2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7Y3JlYXRlVGFzayBhcyBvfWZyb21cIi4uLy4uL2NvcmUvYXN5bmNVdGlscy5qc1wiO2ltcG9ydHtoYW5kbGVzR3JvdXAgYXMgdH1mcm9tXCIuLi8uLi9jb3JlL2hhbmRsZVV0aWxzLmpzXCI7aW1wb3J0e3JlbW92ZU1heWJlIGFzIGV9ZnJvbVwiLi4vLi4vY29yZS9tYXliZS5qc1wiO2ltcG9ydHt0aHJvd0lmQWJvcnRlZCBhcyBuLGlzQWJvcnRFcnJvciBhcyBpLG9uQWJvcnQgYXMgYX1mcm9tXCIuLi8uLi9jb3JlL3Byb21pc2VVdGlscy5qc1wiO2ltcG9ydHt3YXRjaCBhcyByLHN5bmNBbmRJbml0aWFsIGFzIHMsb24gYXMgbCx3aGVuT25jZSBhcyBjfWZyb21cIi4uLy4uL2NvcmUvcmVhY3RpdmVVdGlscy5qc1wiO2Z1bmN0aW9uIHUodCxuKXt0LmludGVyYWN0aXZlPSEwO2NvbnN0e3Rvb2w6aSx2aWV3OnJ9PXQ7ci5hY3RpdmVUb29sPWk7bGV0IHM9YShuLCgoKT0+e3IuYWN0aXZlVG9vbD09PWkmJihyLmFjdGl2ZVRvb2w9bnVsbCl9KSk7cmV0dXJuIG8oKGFzeW5jIG89Pnthd2FpdCBjKCgoKT0+IXQudG9vbD8uYWN0aXZlKSxvKSxzPWUocyl9KSxuKX1mdW5jdGlvbiBtKG8sdCl7cmV0dXJuIHIoKCgpPT5vLmludGVyYWN0aXZlKSwoKCk9PnAobyx0KSkscyl9ZnVuY3Rpb24gcChvLHQpe28uaW50ZXJhY3RpdmU/dihvLHQpOmYobyl9ZnVuY3Rpb24gdihvLHQpe2Yobyk7Y29uc3R7dmlldzplLGFuYWx5c2lzOm59PW8saT1uZXcgdCh7dmlldzplLGFuYWx5c2lzOm4sYW5hbHlzaXNWaWV3RGF0YTpvfSk7cmV0dXJuIG8udG9vbD1pLGUudG9vbHMuYWRkKGkpLGl9ZnVuY3Rpb24gZihvKXtjb25zdHt2aWV3OnQsdG9vbDplfT1vO251bGwhPWUmJih0LnRvb2xzLnJlbW92ZShlKSxvLnRvb2w9bnVsbCl9ZnVuY3Rpb24geShlLGEpe2NvbnN0IHI9ZS51c2VyT3BlcmF0aW9uLHM9bygoYXN5bmMgbz0+e2lmKHIpe2NvbnN0IHQ9ci5wcm9taXNlLmNhdGNoKCgoKT0+e30pKTtyPy5hYm9ydCgpLGF3YWl0IHQsbihvKX1jb25zdCBzPXUoZSx7c2lnbmFsOm99KSxjPWE/LnNob3VsZFJlamVjdE9uQ2FuY2VsPz8oKCk9PiEwKSxtPXQoW2woKCgpPT5lLnRvb2wpLFwiY2FuY2VsXCIsKCgpPT57YygpJiZzLmFib3J0KCl9KSldKSx7dG9vbDpwfT1lO3RyeXtwJiYocC5yZXNldENyZWF0ZWQoKSxhPy5vblRvb2xBY3RpdmF0ZWQ/LihwKSksYXdhaXQgcy5wcm9taXNlLG4obyl9Y2F0Y2godil7aWYoby5hYm9ydGVkfHwhaSh2KXx8YygpKXRocm93IHZ9ZmluYWxseXttPy5yZW1vdmUoKX19KSx7c2lnbmFsOmE/LmFib3J0T3B0aW9ucz8uc2lnbmFsfSk7cmV0dXJuIGUudXNlck9wZXJhdGlvbj1zLHMucHJvbWlzZS5maW5hbGx5KCgoKT0+e2UudXNlck9wZXJhdGlvbj09PXMmJihlLnVzZXJPcGVyYXRpb249bnVsbCl9KSl9YXN5bmMgZnVuY3Rpb24gZChvLHQpe2NvbnN0IGU9by5hbmFseXNpcy5jbG9uZSgpO3JldHVybiBhd2FpdCB5KG8se2Fib3J0T3B0aW9uczp0Py5wbGFjZW1lbnRPcHRpb25zLG9uVG9vbEFjdGl2YXRlZDp0Py5vblRvb2xBY3RpdmF0ZWQsc2hvdWxkUmVqZWN0T25DYW5jZWw6KCk9Pntjb25zdHthbmFseXNpczp0fT1vO3JldHVybiF0LnZhbGlkfHx0LmVxdWFscyhlKX19KSx7fX1leHBvcnR7dSBhcyBhY3RpdmF0ZUFuYWx5c2lzVmlld1Rvb2wsbSBhcyBjb25uZWN0QW5hbHlzaXNWaWV3VG9Ub29sLGYgYXMgcmVtb3ZlQW5hbHlzaXNWaWV3VG9vbCx5IGFzIHN0YXJ0RXhjbHVzaXZlSW50ZXJhY3RpdmVPcGVyYXRpb24sZCBhcyBzdGFydFBsYWNlT3BlcmF0aW9ufTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjMzL2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7XyBhcyBzfWZyb21cIi4uLy4uL2NodW5rcy90c2xpYi5lczYuanNcIjtpbXBvcnR7d2F0Y2ggYXMgZSxzeW5jQW5kSW5pdGlhbCBhcyB0fWZyb21cIi4uLy4uL2NvcmUvcmVhY3RpdmVVdGlscy5qc1wiO2ltcG9ydFwiLi4vLi4vY29yZS9Mb2dnZXIuanNcIjtpbXBvcnRcIi4uLy4uL2NvcmUvaGFzLmpzXCI7aW1wb3J0XCIuLi8uLi9jb3JlL1JhbmRvbUxDRy5qc1wiO2ltcG9ydFwiLi4vLi4vY29yZS9FcnJvci5qc1wiO2ltcG9ydHtzdWJjbGFzcyBhcyByfWZyb21cIi4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvc3ViY2xhc3MuanNcIjtpbXBvcnR7SW50ZXJhY3RpdmVUb29sQmFzZSBhcyBpfWZyb21cIi4vSW50ZXJhY3RpdmVUb29sQmFzZS5qc1wiO2xldCBvPWNsYXNzIGV4dGVuZHMgaXtjb25zdHJ1Y3RvcihzKXtzdXBlcihzKX1pbml0aWFsaXplKCl7dGhpcy5hZGRIYW5kbGVzKGUoKCgpPT50aGlzLmFuYWx5c2lzVmlld0RhdGEudmlzaWJsZSksKHM9PnRoaXMudmlzaWJsZT1zKSx0KSl9ZGVhY3RpdmF0ZSgpe3RoaXMub25EZWFjdGl2YXRlKCksdGhpcy5jcmVhdGVkfHx0aGlzLmFuYWx5c2lzLmNsZWFyKCl9cmVzZXRDcmVhdGVkKCl7dGhpcy5fc2V0KFwiY3JlYXRlZFwiLCExKX19O289cyhbcihcImVzcmkudmlld3MuaW50ZXJhY3RpdmUuQW5hbHlzaXNUb29sQmFzZVwiKV0sbyk7ZXhwb3J0e28gYXMgQW5hbHlzaXNUb29sQmFzZX07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4zMy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e0ludGVyc2VjdG9yIGFzIGV9ZnJvbVwiLi4vM2Qvd2ViZ2wtZW5naW5lL2xpYi9JbnRlcnNlY3Rvci5qc1wiO2ltcG9ydHtTdG9yZVJlc3VsdHMgYXMgbn1mcm9tXCIuLi8zZC93ZWJnbC1lbmdpbmUvbGliL0ludGVyc2VjdG9ySW50ZXJmYWNlcy5qc1wiO2Z1bmN0aW9uIG8obyl7Y29uc3QgdD1uZXcgZShvKTtyZXR1cm4gdC5vcHRpb25zLnN0b3JlPW4uTUlOLHQub3B0aW9ucy5leGNsdWRlTGFiZWxzPSEwLHR9ZXhwb3J0e28gYXMgbmV3VG9vbEludGVyc2VjdG9yfTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==