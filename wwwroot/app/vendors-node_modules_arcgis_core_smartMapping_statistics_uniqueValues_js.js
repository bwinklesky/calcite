export const __webpack_id__ = "vendors-node_modules_arcgis_core_smartMapping_statistics_uniqueValues_js";
export const __webpack_ids__ = ["vendors-node_modules_arcgis_core_smartMapping_statistics_uniqueValues_js"];
export const __webpack_modules__ = {

/***/ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/mat2df64.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/mat2df64.js ***!
  \*******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   IDENTITY: () => (/* binding */ r),
/* harmony export */   clone: () => (/* binding */ t),
/* harmony export */   create: () => (/* binding */ e),
/* harmony export */   fromValues: () => (/* binding */ n),
/* harmony export */   m: () => (/* binding */ o)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
function e(){return[1,0,0,1,0,0]}function t(e){return[e[0],e[1],e[2],e[3],e[4],e[5]]}function n(e,t,n,r,o,u){return[e,t,n,r,o,u]}const r=e(),o=Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:r,clone:t,create:e,fromValues:n},Symbol.toStringTag,{value:"Module"}));


/***/ }),

/***/ "./node_modules/@arcgis/core/rest/generateRenderer.js":
/*!************************************************************!*\
  !*** ./node_modules/@arcgis/core/rest/generateRenderer.js ***!
  \************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   generateRenderer: () => (/* binding */ l)
/* harmony export */ });
/* harmony import */ var _request_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../request.js */ "./node_modules/@arcgis/core/request.js");
/* harmony import */ var _renderers_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../renderers/support/jsonUtils.js */ "./node_modules/@arcgis/core/renderers/support/jsonUtils.js");
/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./utils.js */ "./node_modules/@arcgis/core/rest/utils.js");
/* harmony import */ var _query_executeQuery_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./query/executeQuery.js */ "./node_modules/@arcgis/core/rest/query/executeQuery.js");
/* harmony import */ var _support_Query_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./support/Query.js */ "./node_modules/@arcgis/core/rest/support/Query.js");
/* harmony import */ var _support_StatisticDefinition_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./support/StatisticDefinition.js */ "./node_modules/@arcgis/core/rest/support/StatisticDefinition.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
async function l(t,i,a,s){const l=(0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.parseUrl)(t),{source:r,checkValueRange:u}=i,{classificationDefinition:c}=a,f={...a.toJSON(),f:"json"};let m=null;if(m="class-breaks-definition"===c?.type?c.classificationField:c?.attributeField,r){const e={source:r?.toJSON()};f.layer=JSON.stringify(e)}f.classificationDef&&(f.classificationDef=JSON.stringify(f.classificationDef));let p={query:f};s&&(p={...s,...p});const y={url:l.path,field:m,checkValueRange:u},d=l.path+"/generateRenderer";return (0,_request_js__WEBPACK_IMPORTED_MODULE_0__["default"])(d,p).then((e=>o(y,e)))}function o(e,t){const{field:n,checkValueRange:l,url:o}=e,u=t?.data;if(!u)return;if(!l){const e=r(u);return Promise.resolve(e)}const c=new _support_StatisticDefinition_js__WEBPACK_IMPORTED_MODULE_5__["default"]({statisticType:"min",onStatisticField:n}),f=new _support_StatisticDefinition_js__WEBPACK_IMPORTED_MODULE_5__["default"]({statisticType:"max",onStatisticField:n}),m=new _support_Query_js__WEBPACK_IMPORTED_MODULE_4__["default"]({outStatistics:[c,f]});return (0,_query_executeQuery_js__WEBPACK_IMPORTED_MODULE_3__.executeQuery)(o,m).then((e=>{const t=e.features[0].attributes;let n=null,i=null;for(const a in t)0===a.toLowerCase().indexOf("min")?n=t[a]:i=t[a];return r(u,n,i)}))}function r(e,n,i){if("classBreaks"===e.type){const a=(0,_renderers_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_1__.fromJSON)(e);return{classBreaks:a.classBreakInfos.map(((e,t)=>(0===t&&null!=n&&(e.minValue=n),t===a.classBreakInfos.length-1&&null!=i&&(e.maxValue=i),{minValue:e.minValue,maxValue:e.maxValue,label:e.label}))),normalizationTotal:a.normalizationTotal}}const{uniqueValueInfos:a}=e;return{uniqueValues:a?.map(((e,t)=>(0===t&&null!=n&&(e.value=n),t===a.length-1&&null!=i&&(e.value=i),{count:e.count,value:e.value,label:e.label})))??[]}}


/***/ }),

/***/ "./node_modules/@arcgis/core/rest/query/executeQuery.js":
/*!**************************************************************!*\
  !*** ./node_modules/@arcgis/core/rest/query/executeQuery.js ***!
  \**************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   executeQuery: () => (/* binding */ f)
/* harmony export */ });
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _layers_support_infoFor3D_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../layers/support/infoFor3D.js */ "./node_modules/@arcgis/core/layers/support/infoFor3D.js");
/* harmony import */ var _layers_support_source_DataLayerSource_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../layers/support/source/DataLayerSource.js */ "./node_modules/@arcgis/core/layers/support/source/DataLayerSource.js");
/* harmony import */ var _executeQueryJSON_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./executeQueryJSON.js */ "./node_modules/@arcgis/core/rest/query/executeQueryJSON.js");
/* harmony import */ var _executeQueryPBF_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./executeQueryPBF.js */ "./node_modules/@arcgis/core/rest/query/executeQueryPBF.js");
/* harmony import */ var _support_FeatureSet_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../support/FeatureSet.js */ "./node_modules/@arcgis/core/rest/support/FeatureSet.js");
/* harmony import */ var _support_Query_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../support/Query.js */ "./node_modules/@arcgis/core/rest/support/Query.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
async function f(t,o,r,e,n){return m(o,await c(t,o,r,e,n),r,e)}async function c(t,o,r,e,n){const i={...e},u=p(o,r),f=null!=o.outStatistics?.[0],c=(0,_core_has_js__WEBPACK_IMPORTED_MODULE_1__["default"])("featurelayer-pbf-statistics"),m=!f||c;let d;if("pbf"===r?.format&&m)try{d=await (0,_executeQueryPBF_js__WEBPACK_IMPORTED_MODULE_6__.executeRawQueryPBF)(t,u,i,n)}catch(y){if("query:parsing-pbf"!==y.name)throw y;r.format="json"}return"json"!==r?.format&&m||(d=await (0,_executeQueryJSON_js__WEBPACK_IMPORTED_MODULE_5__.executeRawQueryJSON)(t,u,i,n)),l(r?.fieldsIndex,d.fields),d}function l(t,o){if(null!=t&&null!=o)for(const r of o){const o=t.get(r.name);o&&Object.assign(r,o.toJSON())}}async function m(t,r,e,n){const s=e?.infoFor3D;if(!d(t,s)||null==s||!r.assetMaps||!r.features?.length)return _support_FeatureSet_js__WEBPACK_IMPORTED_MODULE_7__["default"].fromJSON(r);const{meshFeatureSetFromJSON:a}=await (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_2__.whenOrAbort)(Promise.all(/*! import() */[__webpack_require__.e("vendors-node_modules_arcgis_core_geometry_support_meshUtils_vertexSpaceConversion_js"), __webpack_require__.e("vendors-node_modules_arcgis_core_geometry_support_MeshComponent_js-node_modules_arcgis_core_g-4bdb58"), __webpack_require__.e("vendors-node_modules_arcgis_core_geometry_Mesh_js"), __webpack_require__.e("node_modules_arcgis_core_rest_support_meshFeatureSet_js")]).then(__webpack_require__.bind(__webpack_require__, /*! ../support/meshFeatureSet.js */ "./node_modules/@arcgis/core/rest/support/meshFeatureSet.js")),n);return a(t,s,r)}function p(o,s){let a=_support_Query_js__WEBPACK_IMPORTED_MODULE_8__["default"].from(o);a.sourceSpatialReference=a.sourceSpatialReference??s?.sourceSpatialReference??null,(s?.gdbVersion||s?.dynamicDataSource)&&(a=a===o?a.clone():a,a.gdbVersion=o.gdbVersion||s.gdbVersion,a.dynamicDataSource=o.dynamicDataSource?_layers_support_source_DataLayerSource_js__WEBPACK_IMPORTED_MODULE_4__.DataLayerSource.from(o.dynamicDataSource):s.dynamicDataSource);const i=s?.infoFor3D;if(null!=i&&d(o,i)){a=a===o?a.clone():a,a.formatOf3DObjects=null;const n=(0,_layers_support_infoFor3D_js__WEBPACK_IMPORTED_MODULE_3__.getGlbFormatId)(i),s=(0,_layers_support_infoFor3D_js__WEBPACK_IMPORTED_MODULE_3__.getGltfFormatId)(i);for(const t of i.queryFormats){if(t===n){a.formatOf3DObjects=t;break}t!==s||a.formatOf3DObjects||(a.formatOf3DObjects=t)}if(!a.formatOf3DObjects)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("query:unsupported-3d-query-formats","Could not find any supported 3D object query format. Only supported formats are 3D_glb and 3D_gltf");if(null==a.outFields||!a.outFields.includes("*")){a=a===o?a.clone():a,null==a.outFields&&(a.outFields=[]);const{originX:t,originY:r,originZ:e,translationX:n,translationY:s,translationZ:u,scaleX:f,scaleY:c,scaleZ:l,rotationX:m,rotationY:p,rotationZ:d,rotationDeg:y}=i.transformFieldRoles;a.outFields.push(t,r,e,n,s,u,f,c,l,m,p,d,y)}}return a}function d(t,o){return null!=o&&!0===t.returnGeometry&&"xyFootprint"!==t.multipatchOption&&!t.outStatistics}


/***/ }),

/***/ "./node_modules/@arcgis/core/rest/support/AttributeBinsQuery.js":
/*!**********************************************************************!*\
  !*** ./node_modules/@arcgis/core/rest/support/AttributeBinsQuery.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ R)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_Clonable_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/Clonable.js */ "./node_modules/@arcgis/core/core/Clonable.js");
/* harmony import */ var _core_jsonMap_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/jsonMap.js */ "./node_modules/@arcgis/core/core/jsonMap.js");
/* harmony import */ var _core_JSONSupport_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../core/JSONSupport.js */ "./node_modules/@arcgis/core/core/JSONSupport.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_RandomLCG_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../core/RandomLCG.js */ "./node_modules/@arcgis/core/core/RandomLCG.js");
/* harmony import */ var _core_accessorSupport_decorators_enumeration_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/enumeration.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/enumeration.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../geometry/SpatialReference.js */ "./node_modules/@arcgis/core/geometry/SpatialReference.js");
/* harmony import */ var _geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../geometry/support/jsonUtils.js */ "./node_modules/@arcgis/core/geometry/support/jsonUtils.js");
/* harmony import */ var _geometry_support_typeUtils_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../geometry/support/typeUtils.js */ "./node_modules/@arcgis/core/geometry/support/typeUtils.js");
/* harmony import */ var _layers_graphics_data_queryUtils_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../layers/graphics/data/queryUtils.js */ "./node_modules/@arcgis/core/layers/graphics/data/queryUtils.js");
/* harmony import */ var _AutoIntervalBinParameters_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./AutoIntervalBinParameters.js */ "./node_modules/@arcgis/core/rest/support/AutoIntervalBinParameters.js");
/* harmony import */ var _BinParametersBase_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./BinParametersBase.js */ "./node_modules/@arcgis/core/rest/support/BinParametersBase.js");
/* harmony import */ var _DateBinParameters_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./DateBinParameters.js */ "./node_modules/@arcgis/core/rest/support/DateBinParameters.js");
/* harmony import */ var _FixedBoundariesBinParameters_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./FixedBoundariesBinParameters.js */ "./node_modules/@arcgis/core/rest/support/FixedBoundariesBinParameters.js");
/* harmony import */ var _FixedIntervalBinParameters_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./FixedIntervalBinParameters.js */ "./node_modules/@arcgis/core/rest/support/FixedIntervalBinParameters.js");
/* harmony import */ var _spatialRelationships_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./spatialRelationships.js */ "./node_modules/@arcgis/core/rest/support/spatialRelationships.js");
/* harmony import */ var _StatisticDefinition_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./StatisticDefinition.js */ "./node_modules/@arcgis/core/rest/support/StatisticDefinition.js");
/* harmony import */ var _chunks_TimeExtent_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../../chunks/TimeExtent.js */ "./node_modules/@arcgis/core/chunks/TimeExtent.js");
/* harmony import */ var _time_timeZoneUtils_js__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../../time/timeZoneUtils.js */ "./node_modules/@arcgis/core/time/timeZoneUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
const b=new _core_jsonMap_js__WEBPACK_IMPORTED_MODULE_2__.JSONMap({asc:"ascending",desc:"descending"}),B={base:_BinParametersBase_js__WEBPACK_IMPORTED_MODULE_16__["default"],key:"type",typeMap:{"auto-interval":_AutoIntervalBinParameters_js__WEBPACK_IMPORTED_MODULE_15__["default"],date:_DateBinParameters_js__WEBPACK_IMPORTED_MODULE_17__["default"],"fixed-boundaries":_FixedBoundariesBinParameters_js__WEBPACK_IMPORTED_MODULE_18__["default"],"fixed-interval":_FixedIntervalBinParameters_js__WEBPACK_IMPORTED_MODULE_19__["default"]}};let R=class extends(_core_Clonable_js__WEBPACK_IMPORTED_MODULE_1__["default"].ClonableMixin(_core_JSONSupport_js__WEBPACK_IMPORTED_MODULE_3__["default"])){constructor(e){super(e),this.binParameters=null,this.binOrder="ascending",this.cacheHint=void 0,this.datumTransformation=null,this.defaultSpatialReference=null,this.distance=void 0,this.geometry=null,this.lowerBoundaryAlias=null,this.outSpatialReference=null,this.outStatistics=null,this.returnDistinctValues=null,this.spatialRelationship="intersects",this.timeExtent=null,this.upperBoundaryAlias=null,this.units=null,this.where="1=1"}set outTimeZone(e){this._set("outTimeZone",e),e&&!(0,_time_timeZoneUtils_js__WEBPACK_IMPORTED_MODULE_23__.isTimeZoneValid)(e)&&_core_Logger_js__WEBPACK_IMPORTED_MODULE_4__["default"].getLogger(this).warn("#outTimeZone",`the parsed value '${e}' may not be a valid IANA time zone`)}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)({types:B,json:{name:"bin",write:!0}})],R.prototype,"binParameters",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_enumeration_js__WEBPACK_IMPORTED_MODULE_9__.enumeration)(b)],R.prototype,"binOrder",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)({type:Boolean,json:{write:!0}})],R.prototype,"cacheHint",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)({json:{write:!0}})],R.prototype,"datumTransformation",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)({type:_geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_11__["default"],json:{name:"defaultSR",write:!0}})],R.prototype,"defaultSpatialReference",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)({type:Number,json:{write:{overridePolicy:e=>({enabled:e>0})}}})],R.prototype,"distance",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)({types:_geometry_support_typeUtils_js__WEBPACK_IMPORTED_MODULE_13__.geometryTypes,json:{read:_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_12__.fromJSON,write:!0}})],R.prototype,"geometry",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)({type:String,json:{write:!0}})],R.prototype,"lowerBoundaryAlias",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)({type:_geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_11__["default"],json:{name:"outSR",write:!0}})],R.prototype,"outSpatialReference",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)({type:[_StatisticDefinition_js__WEBPACK_IMPORTED_MODULE_21__["default"]],json:{write:{enabled:!0,overridePolicy(){return{enabled:null!=this.outStatistics&&this.outStatistics.length>0}}}}})],R.prototype,"outStatistics",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)({value:null,json:{name:"outTimeReference",read:{reader:e=>e.ianaTimeZone},write:{writer:(e,t,o)=>{e&&(t[o]={ianaTimeZone:e})}}}})],R.prototype,"outTimeZone",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)({type:Boolean,json:{write:!0}})],R.prototype,"returnDistinctValues",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_enumeration_js__WEBPACK_IMPORTED_MODULE_9__.enumeration)(_spatialRelationships_js__WEBPACK_IMPORTED_MODULE_20__.spatialRelKebabDict,{name:"spatialRel"})],R.prototype,"spatialRelationship",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)({type:_chunks_TimeExtent_js__WEBPACK_IMPORTED_MODULE_22__.T,json:{write:!0}})],R.prototype,"timeExtent",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)({type:String,json:{write:!0}})],R.prototype,"upperBoundaryAlias",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)({type:String,json:{read:_layers_graphics_data_queryUtils_js__WEBPACK_IMPORTED_MODULE_14__.unitsKebabDict.read,write:{writer:_layers_graphics_data_queryUtils_js__WEBPACK_IMPORTED_MODULE_14__.unitsKebabDict.write,overridePolicy(e){return{enabled:null!=e&&null!=this.distance}}}}})],R.prototype,"units",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)({type:String,json:{write:!0}})],R.prototype,"where",void 0),R=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_10__.subclass)("esri.rest.support.AttributeBinsQuery")],R),R.from=(0,_core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_6__.ensureType)(R);


/***/ }),

/***/ "./node_modules/@arcgis/core/rest/support/GenerateRendererParameters.js":
/*!******************************************************************************!*\
  !*** ./node_modules/@arcgis/core/rest/support/GenerateRendererParameters.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ t)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_JSONSupport_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/JSONSupport.js */ "./node_modules/@arcgis/core/core/JSONSupport.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_RandomLCG_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../core/RandomLCG.js */ "./node_modules/@arcgis/core/core/RandomLCG.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
let t=class extends _core_JSONSupport_js__WEBPACK_IMPORTED_MODULE_1__["default"]{constructor(r){super(r),this.classificationDefinition=null,this.where=null}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)({json:{name:"classificationDef",write:!0}})],t.prototype,"classificationDefinition",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)({type:String,json:{write:!0}})],t.prototype,"where",void 0),t=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_6__.subclass)("esri.rest.support.GenerateRendererParameters")],t);


/***/ }),

/***/ "./node_modules/@arcgis/core/rest/support/UniqueValueDefinition.js":
/*!*************************************************************************!*\
  !*** ./node_modules/@arcgis/core/rest/support/UniqueValueDefinition.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ s)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_JSONSupport_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/JSONSupport.js */ "./node_modules/@arcgis/core/core/JSONSupport.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_RandomLCG_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../core/RandomLCG.js */ "./node_modules/@arcgis/core/core/RandomLCG.js");
/* harmony import */ var _core_accessorSupport_decorators_enumeration_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/enumeration.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/enumeration.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
let s=class extends _core_JSONSupport_js__WEBPACK_IMPORTED_MODULE_1__["default"]{constructor(t){super(t),this.type="unique-value-definition",this.attributeField=null,this.attributeField2=null,this.attributeField3=null,this.fieldDelimiter=null}get uniqueValueFields(){const t=[];return this.attributeField&&t.push(this.attributeField),this.attributeField2&&t.push(this.attributeField2),this.attributeField3&&t.push(this.attributeField3),t}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_enumeration_js__WEBPACK_IMPORTED_MODULE_6__.enumeration)({uniqueValueDef:"unique-value-definition"})],s.prototype,"type",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)()],s.prototype,"attributeField",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)()],s.prototype,"attributeField2",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)()],s.prototype,"attributeField3",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)({json:{write:!0}})],s.prototype,"fieldDelimiter",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)({json:{write:!0}})],s.prototype,"uniqueValueFields",null),s=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__.subclass)("esri.rest.support.UniqueValueDefinition")],s);


/***/ }),

/***/ "./node_modules/@arcgis/core/smartMapping/statistics/support/WorkerClient.js":
/*!***********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/smartMapping/statistics/support/WorkerClient.js ***!
  \***********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   WorkerClient: () => (/* binding */ n)
/* harmony export */ });
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_workers_workers_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/workers/workers.js */ "./node_modules/@arcgis/core/core/workers/workers.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
class n{constructor(){this.connection=null}async open(t){this.connection=await (0,_core_workers_workers_js__WEBPACK_IMPORTED_MODULE_1__.open)("statsWorker",{strategy:"distributed",signal:t})}destroy(){this.connection?.close()}static getInstance(){return n.instance||(n.instance=new n),n.instance}async summaryStatistics(e,n){if(!this.connection)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("worker-client:summary-statistics","connection is required");return this.connection.invoke("summaryStatistics",{attribute:e,features:n})}async uniqueValues(e,n){if(!this.connection)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("worker-client:unique-values","connection is required");return this.connection.invoke("uniqueValues",{attribute:e,features:n})}async classBreaks(e,n){if(!this.connection)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("worker-client:class-breaks","connection is required");return this.connection.invoke("classBreaks",{attribute:e,features:n})}async histogram(e,n){if(!this.connection)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("worker-client:histogram","connection is required");return this.connection.invoke("histogram",{attribute:e,features:n})}async heatmapStatistics(e,n){if(!this.connection)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("worker-client:heatmap-statistics","connection is required");return this.connection.invoke("heatmapStatistics",{attribute:e,features:n})}}


/***/ }),

/***/ "./node_modules/@arcgis/core/smartMapping/statistics/support/predominanceUtils.js":
/*!****************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/smartMapping/statistics/support/predominanceUtils.js ***!
  \****************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   fieldNamesFromFieldInfos: () => (/* binding */ m),
/* harmony export */   getArcadeForOrderedFields: () => (/* binding */ c),
/* harmony export */   getArcadeForPredominanceMargin: () => (/* binding */ p),
/* harmony export */   getArcadeForPredominantCategory: () => (/* binding */ s),
/* harmony export */   getArcadeForPredominantCategoryAlias: () => (/* binding */ v),
/* harmony export */   getArcadeForPredominantCategoryValue: () => (/* binding */ f),
/* harmony export */   getArcadeForStrengthOfPredominance: () => (/* binding */ V),
/* harmony export */   getArcadeForSumOfFields: () => (/* binding */ $),
/* harmony export */   getPredominanceExpressions: () => (/* binding */ t),
/* harmony export */   getSQLForPredominantCategoryName: () => (/* binding */ u),
/* harmony export */   noDominantCategoryField: () => (/* binding */ e)
/* harmony export */ });
/* harmony import */ var _support_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../support/utils.js */ "./node_modules/@arcgis/core/smartMapping/support/utils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
const e="no_dominant_category";function l(n){return`(${n.map((n=>`${n} >= 0`)).join(" OR ")})`}function u(n){return{expression:r(n,{returnFieldName:!0,defaultValue:`'${e}'`})}}function r(e,l){const{returnFieldName:u,defaultValue:r,layer:t}=l,i=[];if(u&&r){const n=e.map((n=>`${n} <= 0`)).join(" AND ");i.push(`WHEN ${n} THEN ${r}`)}for(const o of e){const l=e.reduce(((n,a)=>(o!==a&&n.push(`${o} > ${a}`),n)),[]).join(" AND "),r=t&&(0,_support_utils_js__WEBPACK_IMPORTED_MODULE_0__.isIntegerField)(t,o),s=u&&`'${o}'`?`'${o}'`:r?(0,_support_utils_js__WEBPACK_IMPORTED_MODULE_0__.castIntegerFieldToFloat)(o):o;i.push(`WHEN ${l} THEN ${s}`)}return`CASE ${i.join(" ")} ELSE ${r||"0"} END`}function t(n,a){const e=a.join(" + "),u={sqlExpression:`(${e})`,sqlWhere:l(a)},t={sqlExpression:`(( (${r(a,{layer:n})}) / (${e}) ) * 100)`,sqlWhere:`${l(a)} AND ((${e}) > 0)`};return{predominantCategory:{valueExpression:s(a)},size:{valueExpression:$(a),statisticsQuery:u,histogramQuery:u},opacity:{valueExpression:V(a),statisticsQuery:t,histogramQuery:t}}}function i(n){return n&&n.map((n=>`$feature["${n}"];`)).join("\n")+"\n"||""}function o(n,a=!1){const e=n.map((n=>`"${n}"`)),l="\n  if(value != null && value >= 0) {\n    if (totalValue == null) { totalValue = 0; }\n    totalValue = totalValue + value;\n  }\n  ";return`\n  var fieldNames = [ ${e.join(", ")} ];\n  var numFields = ${e.length};\n  var maxValueField = null;\n  var maxValue = -Infinity;\n  var value, i, totalValue = null;\n\n  for(i = 0; i < numFields; i++) {\n    value = $feature[fieldNames[i]];\n\n    if(value > 0) {\n      if(value > maxValue) {\n        maxValue = value;\n        maxValueField = fieldNames[i];\n      }\n      else if (value == maxValue) {\n        maxValueField = null;\n      }\n    }\n    ${a?l:""}\n  }\n  `}function s(n){const a=o(n);return`\n  ${i(n)}\n  ${a}\n  return maxValueField;\n  `}function f(n){const a=o(n);return`\n  ${i(n)}\n  ${a}\n  return maxValue;\n  `}function v(n,a){const e=m(n),l=i(e),u=n.map((n=>n.label?`"${n.label}"`:`"${n.fieldName}"`)),r=e.map((n=>`Number($feature["${n}"])`)),t=[];return a&&a.forEach(((n,a)=>{t.push(`function getValueForExpr${a}() {\n  ${n.expression} \n}`),r.push(`Number(getValueForExpr${a}())`),u.push(`"${n.title||n.name}"`)})),`\n  ${l}\n\n  ${t.length?t.join("\n"):""}\n\n  var values = [ ${r.join(", ")} ];\n  var aliases = [ ${u.join(", ")} ];\n  var numValues = ${r.length};\n  var maxValueAlias = null;\n  var maxValue = -Infinity;\n  var value, i, totalValue = null;\n\n  for(i = 0; i < numValues; i++) {\n    value = values[i];\n\n    if(value > 0) {\n      if(value > maxValue) {\n        maxValue = value;\n        maxValueAlias = aliases[i];\n      }\n      else if (value == maxValue) {\n        maxValueAlias = "Tie";\n      }\n    }\n  }\n  return maxValueAlias;\n  `}function m(n){return n.filter((({fieldName:n})=>!!n)).map((n=>n.fieldName))}function p(n){return`\n  ${i(n)}\n  var fieldValues = [ ${n.map((n=>`$feature["${n}"]`)).join(", ")} ];\n  var totalValue = Sum(fieldValues);\n  var order = Reverse(Sort(fieldValues));\n  return IIF(totalValue > 0, Round(((order[0] - order[1]) / totalValue) * 100, 2), null);\n  `}function $(n){const a=i(n),e=n.map((n=>`"${n}"`));return`\n  ${a}\n  var fieldNames = [ ${e.join(", ")} ];\n  var numFields = ${e.length};\n  var value, i, totalValue = null;\n\n  for(i = 0; i < numFields; i++) {\n    value = $feature[fieldNames[i]];\n\n    if(value != null && value >= 0) {\n      if (totalValue == null) { totalValue = 0; }\n      totalValue = totalValue + value;\n    }\n  }\n\n  return totalValue;\n  `}function V(n){const a=o(n,!0);return`\n  ${i(n)}\n  ${a}\n\n  var strength = null;\n\n  if (maxValueField != null && totalValue > 0) {\n    strength = (maxValue / totalValue) * 100;\n  }\n\n  return strength;\n  `}function c(n,a){const e=i(m(n)),l=n.map((n=>`{\n    value: Number($feature["${n.fieldName}"]),\n    alias: "${n.label||n.fieldName}"\n    }`)),u=[];return a&&a.forEach(((n,a)=>{u.push(`function getValueForExpr${a}() {\n  ${n.expression} \n}`),l.push(`{\n          value: Number(getValueForExpr${a}()),\n          alias: "${n.title||n.name}"\n          }`)})),`\n  ${e}\n\n  ${u.length?u.join("\n"):""}\n\n  var groups = [ ${l.join(", ")} ];\n  var numTopValues = Count(groups);\n\n  function getValuesArray(arr){\n    var valuesArray = []\n    for(var i in arr){\n      valuesArray[i] = arr[i].value;\n    }\n    return valuesArray;\n  }\n\n  function findAliases(top5Array, fullArray){\n    var aliases = [];\n    var found = "";\n    for(var i in top5Array){\n      for(var k in fullArray){\n        if(top5Array[i] == fullArray[k].value && Find(fullArray[k].alias, found) == -1){\n          found += fullArray[k].alias;\n          aliases[Count(aliases)] = {\n            alias: fullArray[k].alias,\n            value: top5Array[i]\n          };\n        }\n      }\n    }\n    return aliases;\n  }\n\n  function getTopGroups(groupsArray){\n    var values = getValuesArray(groupsArray);\n    var top5Values = IIF(Max(values) > 0, Top(Reverse(Sort(values)),numTopValues), "no data");\n    var top5Aliases = findAliases(top5Values,groupsArray);\n\n    if(TypeOf(top5Values) == "String"){\n      return top5Values;\n    } else {\n      var content = "";\n      for(var i in top5Aliases){\n        if(top5Aliases[i].value > 0){\n          content += (i+1) + ". " + top5Aliases[i].alias + " (" + Text(top5Aliases[i].value, "#,###") + ")";\n          content += IIF(i < numTopValues-1, TextFormatting.NewLine, "");\n        }\n      }\n    }\n\n    return content;\n  }\n\n  getTopGroups(groups);\n  `}


/***/ }),

/***/ "./node_modules/@arcgis/core/smartMapping/statistics/support/statsWorker.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/smartMapping/statistics/support/statsWorker.js ***!
  \**********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   classBreaks: () => (/* binding */ c),
/* harmony export */   heatmapStatistics: () => (/* binding */ z),
/* harmony export */   histogram: () => (/* binding */ v),
/* harmony export */   summaryStatistics: () => (/* binding */ d),
/* harmony export */   uniqueValues: () => (/* binding */ p)
/* harmony export */ });
/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils.js */ "./node_modules/@arcgis/core/smartMapping/statistics/support/utils.js");
/* harmony import */ var _statistics_utils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../statistics/utils.js */ "./node_modules/@arcgis/core/statistics/utils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
async function d(a){const{attribute:e,features:l}=a,{normalizationType:s,normalizationField:r,minValue:m,maxValue:u,fieldType:d,outStatisticTypes:p}=e,c=await (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.getDataValues)({field:e.field,valueExpression:e.valueExpression,normalizationType:s,normalizationField:r,normalizationTotal:e.normalizationTotal,viewInfoParams:e.viewInfoParams,timeZone:e.timeZone,fieldInfos:e.fieldInfos},l),v=(0,_statistics_utils_js__WEBPACK_IMPORTED_MODULE_1__.isNullCountSupported)({normalizationType:s,normalizationField:r,minValue:m,maxValue:u}),z={value:.5,fieldType:d},T="esriFieldTypeString"===d?(0,_statistics_utils_js__WEBPACK_IMPORTED_MODULE_1__.calculateStringStatistics)({values:c,supportsNullCount:v,percentileParams:z,outStatisticTypes:p}):(0,_statistics_utils_js__WEBPACK_IMPORTED_MODULE_1__.calculateStatistics)({values:c,minValue:m,maxValue:u,useSampleStdDev:!s,supportsNullCount:v,percentileParams:z,outStatisticTypes:p});return (0,_statistics_utils_js__WEBPACK_IMPORTED_MODULE_1__.processSummaryStatisticsResult)(T,p,"esriFieldTypeDate"===d)}async function p(a){const{attribute:e,features:n}=a,t=await (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.getDataValues)({field:e.field,field2:e.field2,field3:e.field3,fieldDelimiter:e.fieldDelimiter,valueExpression:e.valueExpression,viewInfoParams:e.viewInfoParams,timeZone:e.timeZone,fieldInfos:e.fieldInfos},n,!1),o=(0,_statistics_utils_js__WEBPACK_IMPORTED_MODULE_1__.calculateUniqueValuesCount)(t);return (0,_statistics_utils_js__WEBPACK_IMPORTED_MODULE_1__.createUVResult)(o,e.domains,e.returnAllCodedValues,e.fieldDelimiter)}async function c(a){const{attribute:e,features:n}=a,{field:t,normalizationType:o,normalizationField:l,normalizationTotal:s,classificationMethod:u}=e,f=await (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.getDataValues)({field:t,valueExpression:e.valueExpression,normalizationType:o,normalizationField:l,normalizationTotal:s,viewInfoParams:e.viewInfoParams,timeZone:e.timeZone,fieldInfos:e.fieldInfos},n),d=(0,_statistics_utils_js__WEBPACK_IMPORTED_MODULE_1__.calculateClassBreaks)(f,{field:t,normalizationType:o,normalizationField:l,normalizationTotal:s,classificationMethod:u,standardDeviationInterval:e.standardDeviationInterval,numClasses:e.numClasses,minValue:e.minValue,maxValue:e.maxValue});return (0,_statistics_utils_js__WEBPACK_IMPORTED_MODULE_1__.resolveCBResult)(d,u)}async function v(a){const{attribute:e,features:n}=a,{field:t,normalizationType:o,normalizationField:l,normalizationTotal:s,classificationMethod:r}=e,m=await (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.getDataValues)({field:t,valueExpression:e.valueExpression,normalizationType:o,normalizationField:l,normalizationTotal:s,viewInfoParams:e.viewInfoParams,timeZone:e.timeZone,fieldInfos:e.fieldInfos},n);return (0,_statistics_utils_js__WEBPACK_IMPORTED_MODULE_1__.calculateHistogram)(m,{field:t,normalizationType:o,normalizationField:l,normalizationTotal:s,classificationMethod:r,standardDeviationInterval:e.standardDeviationInterval,numBins:e.numBins,minValue:e.minValue,maxValue:e.maxValue})}async function z(i){const{attribute:n,features:t}=i,{field:o,radius:l,transform:s,spatialReference:r}=n,m=n.size??[0,0],u=(0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.quantizeFeatures)(t??[],s,r,m);return (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.calculateHeatmapStats)(u,l??void 0,o,m[0],m[1])}


/***/ }),

/***/ "./node_modules/@arcgis/core/smartMapping/statistics/uniqueValues.js":
/*!***************************************************************************!*\
  !*** ./node_modules/@arcgis/core/smartMapping/statistics/uniqueValues.js ***!
  \***************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ f)
/* harmony export */ });
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _support_utils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./support/utils.js */ "./node_modules/@arcgis/core/smartMapping/statistics/support/utils.js");
/* harmony import */ var _support_binningUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../support/binningUtils.js */ "./node_modules/@arcgis/core/smartMapping/support/binningUtils.js");
/* harmony import */ var _support_utils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../support/utils.js */ "./node_modules/@arcgis/core/smartMapping/support/utils.js");
/* harmony import */ var _support_adapters_support_layerUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../support/adapters/support/layerUtils.js */ "./node_modules/@arcgis/core/smartMapping/support/adapters/support/layerUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
async function p(p){if(!p?.layer||!p.field&&!p.valueExpression)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("unique-values:missing-parameters","'layer' and 'field' or 'valueExpression' parameters are required");const f=p.valueExpression||p.sqlExpression,m=f&&!p.sqlExpression;if(f)if(m){if(!p.view)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("unique-values:missing-parameters","View is required when 'valueExpression' is specified")}else if(!p.valueExpression)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("unique-values:missing-parameters","'valueExpression' parameters are required");p.forBinning&&(0,_support_binningUtils_js__WEBPACK_IMPORTED_MODULE_2__.verifyBinningParams)(p,"unique-values");const{layer:d,...v}=p,w=[..._support_adapters_support_layerUtils_js__WEBPACK_IMPORTED_MODULE_4__.defaultSupportedLayerTypes,_support_adapters_support_layerUtils_js__WEBPACK_IMPORTED_MODULE_4__.LayerType.ImageryLayer],c=p.forBinning?_support_adapters_support_layerUtils_js__WEBPACK_IMPORTED_MODULE_4__.binningCapableLayerTypes:w,y=(0,_support_adapters_support_layerUtils_js__WEBPACK_IMPORTED_MODULE_4__.createLayerAdapter)(d,c,p.forBinning);if(!y)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("unique-values:invalid-parameters","'layer' must be one of these types: "+(0,_support_adapters_support_layerUtils_js__WEBPACK_IMPORTED_MODULE_4__.getLayerTypeLabels)(c).join(", "));const q={layerAdapter:y,...v},g=null!=q.signal?{signal:q.signal}:null;await y.load(g);const x=await (0,_support_utils_js__WEBPACK_IMPORTED_MODULE_3__.getFieldsList)({field:q.field,field2:q.field2,field3:q.field3,valueExpression:q.valueExpression}),E=(0,_support_utils_js__WEBPACK_IMPORTED_MODULE_1__.verifyBasicFieldValidity)(y,x,"unique-values:invalid-parameters");if(E)throw E;q.filter&&!q.filter.spatialRelationship&&(q.filter.spatialRelationship="intersects");const h=(0,_support_utils_js__WEBPACK_IMPORTED_MODULE_1__.verifyFilterValidity)(q.filter,"summary-statistics:invalid-parameters");if(h)throw h;return q}async function f(e){const{layerAdapter:i,...s}=await p(e);return i.uniqueValues(s)}


/***/ }),

/***/ "./node_modules/@arcgis/core/smartMapping/support/adapters/CSVLayerAdapter.js":
/*!************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/smartMapping/support/adapters/CSVLayerAdapter.js ***!
  \************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ m)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_RandomLCG_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../core/RandomLCG.js */ "./node_modules/@arcgis/core/core/RandomLCG.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _rest_support_generateRendererUtils_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../rest/support/generateRendererUtils.js */ "./node_modules/@arcgis/core/rest/support/generateRendererUtils.js");
/* harmony import */ var _statistics_support_utils_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../statistics/support/utils.js */ "./node_modules/@arcgis/core/smartMapping/statistics/support/utils.js");
/* harmony import */ var _statistics_support_WorkerClient_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../statistics/support/WorkerClient.js */ "./node_modules/@arcgis/core/smartMapping/statistics/support/WorkerClient.js");
/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../utils.js */ "./node_modules/@arcgis/core/smartMapping/support/utils.js");
/* harmony import */ var _FeatureLayerAdapter_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./FeatureLayerAdapter.js */ "./node_modules/@arcgis/core/smartMapping/support/adapters/FeatureLayerAdapter.js");
/* harmony import */ var _support_utils_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./support/utils.js */ "./node_modules/@arcgis/core/smartMapping/support/adapters/support/utils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
let m=class extends _FeatureLayerAdapter_js__WEBPACK_IMPORTED_MODULE_11__["default"]{constructor(){super(...arguments),this.adapterName="csv-layer-adapter"}async _createGenerateRendererResult(e,r,i,n,l){const p=e?.features,c=p?.length;if(!c)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_1__["default"]("csv-layer-adapter:insufficient-data","No features are available to calculate statistics");const m=(0,_support_utils_js__WEBPACK_IMPORTED_MODULE_12__.ensureFeaturesJSON)(p);let d=null;if("percent-of-total"===n){if(d=(await this.workerClient.summaryStatistics({field:r},m)).sum,null==d)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_1__["default"]("csv-layer-adapter:invalid","invalid normalizationTotal")}if("class-breaks-definition"===l?.type){const e=(await (0,_statistics_support_utils_js__WEBPACK_IMPORTED_MODULE_8__.getDataValues)({field:r,normalizationType:n,normalizationField:i,normalizationTotal:d},m)).filter((e=>Number.isFinite(e)));return (0,_rest_support_generateRendererUtils_js__WEBPACK_IMPORTED_MODULE_7__.createGenerateRendererClassBreaks)({definition:l,values:e,normalizationTotal:d})}const f=(await (0,_statistics_support_utils_js__WEBPACK_IMPORTED_MODULE_8__.getDataValues)({field:r},m)).filter((e=>null!=e&&"string"==typeof e&&""!==e.trim()));return (0,_rest_support_generateRendererUtils_js__WEBPACK_IMPORTED_MODULE_7__.createGenerateRendererUniqueValues)(f)}generateRenderer(e,t){const r=e.classificationDefinition;let i=null,s=null,o=null;"class-breaks-definition"===r?.type?(i=r.classificationField,s=r.normalizationField,o=r.normalizationType):i=r?.attributeField;const a=this.layer;return (0,_utils_js__WEBPACK_IMPORTED_MODULE_10__.getFieldsList)({field:i,normalizationField:s}).then((l=>{const p=a.createQuery();return p.returnGeometry=!1,p.outFields=l,p.where=(0,_statistics_support_utils_js__WEBPACK_IMPORTED_MODULE_8__.mergeWhereClauses)(p.where,e.where),a.queryFeatures(p,{signal:t}).then((e=>this._createGenerateRendererResult(e,i,s,o,r)))}))}load(e){const t=this.layer.load(e).then((async t=>{this.geometryType=t.geometryType,this.objectIdField=t.objectIdField,this.supportsSQLExpression=!0,this._hasLocalSource=!1,this.hasQueryEngine=!0,this.workerClient=_statistics_support_WorkerClient_js__WEBPACK_IMPORTED_MODULE_9__.WorkerClient.getInstance(),await this.workerClient.open(e.signal)}));return this.addResolvingPromise(t),Promise.resolve(this)}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)({readOnly:!0})],m.prototype,"adapterName",void 0),m=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_6__.subclass)("esri.smartMapping.support.adapters.CSVLayerAdapter")],m);


/***/ }),

/***/ "./node_modules/@arcgis/core/smartMapping/support/adapters/FeatureLayerAdapter.js":
/*!****************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/smartMapping/support/adapters/FeatureLayerAdapter.js ***!
  \****************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ Z)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _Graphic_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../Graphic.js */ "./node_modules/@arcgis/core/Graphic.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _layers_support_arcgisLayerUrl_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../layers/support/arcgisLayerUrl.js */ "./node_modules/@arcgis/core/layers/support/arcgisLayerUrl.js");
/* harmony import */ var _layers_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../layers/support/fieldUtils.js */ "./node_modules/@arcgis/core/layers/support/fieldUtils.js");
/* harmony import */ var _rest_generateRenderer_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../rest/generateRenderer.js */ "./node_modules/@arcgis/core/rest/generateRenderer.js");
/* harmony import */ var _rest_support_GenerateRendererParameters_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../rest/support/GenerateRendererParameters.js */ "./node_modules/@arcgis/core/rest/support/GenerateRendererParameters.js");
/* harmony import */ var _rest_support_StatisticDefinition_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../rest/support/StatisticDefinition.js */ "./node_modules/@arcgis/core/rest/support/StatisticDefinition.js");
/* harmony import */ var _rest_support_UniqueValueDefinition_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../rest/support/UniqueValueDefinition.js */ "./node_modules/@arcgis/core/rest/support/UniqueValueDefinition.js");
/* harmony import */ var _statistics_support_predominanceUtils_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../statistics/support/predominanceUtils.js */ "./node_modules/@arcgis/core/smartMapping/statistics/support/predominanceUtils.js");
/* harmony import */ var _statistics_support_utils_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../statistics/support/utils.js */ "./node_modules/@arcgis/core/smartMapping/statistics/support/utils.js");
/* harmony import */ var _statistics_support_WorkerClient_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../statistics/support/WorkerClient.js */ "./node_modules/@arcgis/core/smartMapping/statistics/support/WorkerClient.js");
/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../utils.js */ "./node_modules/@arcgis/core/smartMapping/support/utils.js");
/* harmony import */ var _InMemoryLayerAdapter_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./InMemoryLayerAdapter.js */ "./node_modules/@arcgis/core/smartMapping/support/adapters/InMemoryLayerAdapter.js");
/* harmony import */ var _support_histogramUtils_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./support/histogramUtils.js */ "./node_modules/@arcgis/core/smartMapping/support/adapters/support/histogramUtils.js");
/* harmony import */ var _support_utils_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./support/utils.js */ "./node_modules/@arcgis/core/smartMapping/support/adapters/support/utils.js");
/* harmony import */ var _statistics_utils_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../../../statistics/utils.js */ "./node_modules/@arcgis/core/statistics/utils.js");
/* harmony import */ var _views_2d_viewpointUtils_js__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../../../views/2d/viewpointUtils.js */ "./node_modules/@arcgis/core/views/2d/viewpointUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
const J=5,W=2e4,H=4e5;let Z=class extends _InMemoryLayerAdapter_js__WEBPACK_IMPORTED_MODULE_19__["default"]{constructor(){super(...arguments),this.adapterName="feature-layer-adapter"}_isStatsSupportedOnService(){const e=this.layer;if(!e.capabilities?.query?.supportsStatistics||"multipatch"===this.geometryType&&!(0,_layers_support_arcgisLayerUrl_js__WEBPACK_IMPORTED_MODULE_9__.isHostedAgolService)(e.url)&&e.version<10.5)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_3__["default"](`${this.adapterName}:not-supported`,"Layer does not support statistics query");return Promise.resolve()}_fetchFeaturesFromService(e,t){return this.layer.queryFeatures(e,{signal:t}).then((e=>e.features))}_fetchFeaturesJSONFromService(e,t){return this._fetchFeaturesFromService(e,t).then(_support_utils_js__WEBPACK_IMPORTED_MODULE_21__.ensureFeaturesJSON)}_summaryStatsFromGenRend(e){const t=e.normalizationType,r=e.normalizationField;return this.classBreaks({field:e.field,numClasses:J,classificationMethod:"standard-deviation",standardDeviationInterval:.25,normalizationType:t,normalizationField:"field"===t?r:void 0,minValue:e.minValue,maxValue:e.maxValue,filter:e.filter,signal:e.signal}).then((t=>{let r,i,s;if(t.classBreakInfos?.some((e=>(e.hasAvg&&(r=e),!!r))),r){const e=r.maxValue-r.minValue;i=r.minValue+e/2,s=4*e}const a={min:t.minValue,max:t.maxValue,avg:i,stddev:s};return (0,_statistics_utils_js__WEBPACK_IMPORTED_MODULE_22__.processSummaryStatisticsResult)(a,e.outStatisticTypes)}))}async _summaryStatsFromServiceQuery(e,t){await this._isStatsSupportedOnService(),"percent-of-total"===e.normalizationType&&(e.normalizationTotal=await this._getNormalizationTotal(e.field,e.normalizationType,e.filter));const r=(0,_utils_js__WEBPACK_IMPORTED_MODULE_18__.isAnyDateField)(t)||(0,_layers_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_10__.isTimeOnlyField)(t),i="capabilities"in this.layer?this.layer.capabilities:null,s=(0,_support_utils_js__WEBPACK_IMPORTED_MODULE_21__.getSummaryStatsQuery)(this,e,t,i?.query?.supportsPercentileStatistics??!1),a=await this.layer.queryFeatures(s,{signal:e.signal}),o=(0,_support_utils_js__WEBPACK_IMPORTED_MODULE_21__.getSummaryStatisticsFromFeatureSet)(a,r);return (0,_statistics_utils_js__WEBPACK_IMPORTED_MODULE_22__.processSummaryStatisticsResult)(o,e.outStatisticTypes)}_uvFromGenRenderer(e,t){const r=e.field??void 0,i=new _rest_support_UniqueValueDefinition_js__WEBPACK_IMPORTED_MODULE_14__["default"]({attributeField:r}),s=new _rest_support_GenerateRendererParameters_js__WEBPACK_IMPORTED_MODULE_12__["default"]({classificationDefinition:i});return this.generateRenderer(s,e.signal).then((e=>{const t={},i=this.getField(r);return e.uniqueValues.forEach((e=>{let r=e.value;null!=r&&""!==r&&("string"!=typeof r||""!==r.trim()&&"<null>"!==r.toLowerCase())||(r=null),null==t[r]?t[r]={count:e.count,data:(0,_layers_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_10__.isNumericField)(i)&&r?Number(r):r}:t[r].count=t[r].count+e.count})),{count:t}})).then((r=>(0,_statistics_utils_js__WEBPACK_IMPORTED_MODULE_22__.createUVResult)(r,[t],e.returnAllCodedValues)))}async _uvFromServiceQuery(e,t){return this._isStatsSupportedOnService().then((()=>this.layer.queryFeatures((0,_support_utils_js__WEBPACK_IMPORTED_MODULE_21__.getUVQuery)(this,e),{signal:e.signal}))).then((t=>(0,_support_utils_js__WEBPACK_IMPORTED_MODULE_21__.getUniqueValuesFromFeatureSet)(t,{layer:this,field:e.field,field2:e.field2,field3:e.field3,fieldDelimiter:_utils_js__WEBPACK_IMPORTED_MODULE_18__.fieldDelimiter,view:e.view,signal:e.signal}))).then((r=>(0,_statistics_utils_js__WEBPACK_IMPORTED_MODULE_22__.createUVResult)(r,t,e.returnAllCodedValues,_utils_js__WEBPACK_IMPORTED_MODULE_18__.fieldDelimiter)))}_getNormalizationTotal(e,t,r,i){return e&&"percent-of-total"===t?this.summaryStatistics({field:e,outStatisticTypes:{include:["sum"]},filter:r,signal:i}).then((e=>e.sum)):Promise.resolve(null)}_histogramForExpr(e){return this._getNormalizationTotal(e.field,e.normalizationType,e.filter,e.signal).then((t=>{const r=(0,_support_histogramUtils_js__WEBPACK_IMPORTED_MODULE_20__.getQueryParamsForExpr)(e,this,t);return (0,_support_histogramUtils_js__WEBPACK_IMPORTED_MODULE_20__.getDataRange)(r,this,e.minValue,e.maxValue).then((i=>{const s=i.min,a=i.max;if(null==s||null==a)return{bins:[],minValue:s,maxValue:a,normalizationTotal:t};const o=e.numBins||_support_utils_js__WEBPACK_IMPORTED_MODULE_21__.defaultNumBins,n=(0,_statistics_utils_js__WEBPACK_IMPORTED_MODULE_22__.getEqualIntervalBins)(s,a,o),l=K(r.sqlExpression,n,null!=e.minValue&&null!=e.maxValue),u=new _rest_support_StatisticDefinition_js__WEBPACK_IMPORTED_MODULE_13__["default"]({statisticType:"count",outStatisticFieldName:"countOFExpr",onStatisticField:"1"}),m=this.layer.createQuery();return m.where=(0,_statistics_support_utils_js__WEBPACK_IMPORTED_MODULE_16__.mergeWhereClauses)(m.where,r.sqlWhere),m.sqlFormat="standard",m.outStatistics=[u],m.groupByFieldsForStatistics=[l],m.orderByFields=[l],(0,_support_utils_js__WEBPACK_IMPORTED_MODULE_21__.updateQueryWithFeatureFilter)(m,e.filter),this._isStatsSupportedOnService().then((()=>this.layer.queryFeatures(m,{signal:r.signal}))).then((e=>(0,_support_utils_js__WEBPACK_IMPORTED_MODULE_21__.getHistogramFromFeatureSet)(e,s,a,o,t)))}))}))}async _histogramFromQueryAttributeBins(e){const{field:t,normalizationType:r,filter:i,signal:s}=e,a=await this._getNormalizationTotal(t,r,i,s),o=this.layer.createQuery(),{query:n,min:l,max:u}=await (0,_support_histogramUtils_js__WEBPACK_IMPORTED_MODULE_20__.getAttributeBinsQuery)(e,this,a,o?.where);if(!n)return{bins:[],minValue:l,maxValue:u,normalizationTotal:a};const m=await this.layer.queryAttributeBins(n,{signal:s});return (0,_support_histogramUtils_js__WEBPACK_IMPORTED_MODULE_20__.processQueryAttributeBinsResult)(m,t?this.getField(t):null,{minValue:l,maxValue:u,normalizationTotal:a})}_classBreaksFromGenRend(e){const{field:t,normalizationType:r,normalizationField:i,normalizationTotal:s,signal:a}=e,o=(0,_statistics_support_utils_js__WEBPACK_IMPORTED_MODULE_16__.getSQLFilterForNormalization)({field:t,normalizationType:r,normalizationField:i}),n=(0,_support_utils_js__WEBPACK_IMPORTED_MODULE_21__.getFieldExpr)({field:t,normalizationType:r,normalizationField:i,normalizationTotal:s,layer:this}),l=(0,_statistics_support_utils_js__WEBPACK_IMPORTED_MODULE_16__.getRangeExpr)(n,e.minValue,e.maxValue),u=(0,_statistics_utils_js__WEBPACK_IMPORTED_MODULE_22__.createClassBreaksDefinition)({field:t,normalizationType:r,normalizationField:i,classificationMethod:e.classificationMethod,standardDeviationInterval:e.standardDeviationInterval,breakCount:e.numClasses||J}),m=new _rest_support_GenerateRendererParameters_js__WEBPACK_IMPORTED_MODULE_12__["default"]({classificationDefinition:u});return m.where=(0,_statistics_support_utils_js__WEBPACK_IMPORTED_MODULE_16__.mergeWhereClauses)(o,l),this.generateRenderer(m,a).then((t=>(0,_statistics_utils_js__WEBPACK_IMPORTED_MODULE_22__.resolveCBResult)(t,e.classificationMethod)))}async summaryStatistics(e){const{field:t,normalizationType:r,valueExpression:a,sqlExpression:o,view:n,features:u,useFeaturesInView:m}=e,c=t?this.getField(t):null,p=(0,_utils_js__WEBPACK_IMPORTED_MODULE_18__.isAnyDateField)(c)||(0,_layers_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_10__.isTimeOnlyField)(c),h=a&&!(o&&this.supportsSQLExpression),d=this._hasLocalSource||u||m,y=n&&"3d"===n.type;if(d||h)return h||u||m||y?this._summaryStatsFromMemory(e,c):this._summaryStatsFromClientQuery(e,c);if(!this.supportsSQLExpression&&(p||o||"natural-log"===r||"square-root"===r))throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_3__["default"](`${this.adapterName}:not-supported`,"Layer does not support standardized SQL expression for queries");return(r&&!this.supportsSQLExpression?this._summaryStatsFromGenRend(e):this._summaryStatsFromServiceQuery(e,c)).catch((()=>((0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_4__.throwIfAborted)(e.signal),this._summaryStatsFromMemory(e,c))))}async uniqueValues(e){const{valueExpression:t,sqlExpression:r,features:i,useFeaturesInView:a,signal:o}=e,n=t&&!(r&&this.supportsSQLExpression),l=this._hasLocalSource||i||a||n,u=e.view,m=u&&"3d"===u.type,c=await (0,_support_utils_js__WEBPACK_IMPORTED_MODULE_21__.getDomainsForFields)(e,this);return l?n||i||a||m?this._uvFromMemory(e,c):this._uvFromClientQuery(e,c):this._uvFromServiceQuery(e,c).catch((t=>((0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_4__.throwIfAborted)(o),!e.field||e.field2||e.field3||e.filter?t:this._uvFromGenRenderer(e,c[0])))).catch((()=>((0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_4__.throwIfAborted)(o),m?this._uvFromMemory(e,c):this._uvFromClientQuery(e,c))))}async histogram(e){const{field:t,normalizationType:r,normalizationField:a,classificationMethod:o,view:n,filter:u,signal:m}=e,c=t?this.getField(t):null,p=(0,_utils_js__WEBPACK_IMPORTED_MODULE_18__.isAnyDateField)(c)||(0,_layers_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_10__.isTimeOnlyField)(c),h=e.valueExpression||e.sqlExpression,d=e.valueExpression&&!(e.sqlExpression&&this.supportsSQLExpression),y=this._hasLocalSource||e.features||e.useFeaturesInView||d,f=this.supportsSQLExpression,S=!o||"equal-interval"===o,g=e.minValue,v=e.maxValue,x=null!=g&&null!=v,_=e.numBins||_support_utils_js__WEBPACK_IMPORTED_MODULE_21__.defaultNumBins;if(y)return this._histogramFromMemory(e);if(this.layer.capabilities?.operations?.supportsQueryBins&&e.useQueryAttributeBins)try{return await this._histogramFromQueryAttributeBins(e)}catch{return (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_4__.throwIfAborted)(m),this._histogramFromQueryAttributeBinsFromMemory(e)}if((h||f)&&S){if(!f&&(h||"natural-log"===r||"square-root"===r))throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_3__["default"](`${this.adapterName}:not-supported`,"Layer does not support standardized SQL expression for queries");return this._histogramForExpr(e)}if(p&&S)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_3__["default"](`${this.adapterName}:not-supported`,"Normalization and date field are not allowed when layer does not support standardized SQL expression for queries");return r||!S?(0,_support_histogramUtils_js__WEBPACK_IMPORTED_MODULE_20__.binParamsFromGenRend)(e,this).then((s=>{if(!x)return (0,_support_utils_js__WEBPACK_IMPORTED_MODULE_21__.getBins)(this,s,t,_,n,u,m);if(g>s.max||v<s.min)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_3__["default"](`${this.adapterName}:insufficient-data`,"Range defined by 'minValue' and 'maxValue' does not intersect available data range of the field");if(S)return (0,_support_utils_js__WEBPACK_IMPORTED_MODULE_21__.getBins)(this,{min:g,max:v,sqlExpr:s.sqlExpr,excludeZerosExpr:s.excludeZerosExpr},t,_,n,u,m);{const i={field:t,normalizationType:r,normalizationField:a,normalizationTotal:s.normTotal,layer:this},o=(0,_support_utils_js__WEBPACK_IMPORTED_MODULE_21__.getFieldExpr)(i),l=(0,_statistics_support_utils_js__WEBPACK_IMPORTED_MODULE_16__.getRangeExpr)(o,g,v);return (0,_support_histogramUtils_js__WEBPACK_IMPORTED_MODULE_20__.binParamsFromGenRend)(e,this,l).then((e=>(0,_support_utils_js__WEBPACK_IMPORTED_MODULE_21__.getBins)(this,e,t,_,n,u,m)))}})):this._histogramForField(e)}async classBreaks(e){const t=!1!==e.analyzeData,r=this._hasLocalSource||e.features||e.useFeaturesInView||e.valueExpression||e.filter;if(t&&r)return this._classBreaksFromMemory(e);return(t?this._classBreaksFromGenRend(e):this._classBreaksFromInterpolation(e)).catch((()=>((0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_4__.throwIfAborted)(e.signal),this._classBreaksFromMemory(e))))}async queryFeatureCount(e){if(this._hasLocalSource)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_3__["default"](`${this.adapterName}:not-supported`,"Layer does not support count query");const t=this.layer,r=t.createQuery();return r.where=(0,_statistics_support_utils_js__WEBPACK_IMPORTED_MODULE_16__.mergeWhereClauses)(r.where,e.whereClause),(0,_support_utils_js__WEBPACK_IMPORTED_MODULE_21__.updateQueryWithFeatureFilter)(r,e.filter),t.queryFeatureCount(r,{signal:e.signal})}async generateRenderer(e,t){const r=this.layer;if(this._hasLocalSource||r.version<10.1)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_3__["default"](`${this.adapterName}:not-supported`,"Layer does not support generateRenderer operation (requires ArcGIS Server version 10.1+)");const s=r.createQuery();return e.where=(0,_statistics_support_utils_js__WEBPACK_IMPORTED_MODULE_16__.mergeWhereClauses)(e.where,s.where),(0,_rest_generateRenderer_js__WEBPACK_IMPORTED_MODULE_11__.generateRenderer)(r.parsedUrl?.path??"",{source:r.dynamicDataSource??void 0,gdbVersion:r.gdbVersion??void 0},e,{signal:t})}async predominantCategories(e){if(!this._hasLocalSource&&!this.supportsSQLExpression)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_3__["default"](`${this.adapterName}:not-supported`,"Layer does not support advanced SQL expressions and standardized queries");const{fields:t,view:r,signal:s,filter:a}=e,o=(0,_statistics_support_predominanceUtils_js__WEBPACK_IMPORTED_MODULE_15__.getArcadeForPredominantCategory)(t),n=(0,_statistics_support_predominanceUtils_js__WEBPACK_IMPORTED_MODULE_15__.getSQLForPredominantCategoryName)(t),l=r&&this._hasLocalSource?await this._uvFromMemory({valueExpression:o,view:r,signal:s,filter:a}):await this._uvFromServiceQuery({sqlExpression:n.expression,valueExpression:o,signal:s,filter:a});return (0,_support_utils_js__WEBPACK_IMPORTED_MODULE_21__.getPredominantCategoriesFromUVInfos)(l.uniqueValueInfos,t)}async getSampleFeatures(e,i){const{view:a,requiredFields:o,returnGeometry:n,filter:l,signal:u}=e,m=e.sampleSize;if(null==m||0===m)return[];const c=this.layer.createQuery(),p=1,h="json"===i;c.outSpatialReference=a?.spatialReference,c.returnGeometry=!!n,c.outFields=o,(0,_support_utils_js__WEBPACK_IMPORTED_MODULE_21__.updateQueryWithFeatureFilter)(c,l);let d=[],y=!1;if(a)try{const s=await a.whenLayerView(this.layer);if(y=!(0,_support_utils_js__WEBPACK_IMPORTED_MODULE_21__.getMissingFields)(this,o,s).length,y){if(m>=1&&!e.filter&&"getSampleFeatures"in s){await this._waitForLayerViewUpdate(s);const e=await s.getSampleFeatures({minFeatureCount:m,sampleSize:m});if(null!=e)return h?e:e.map((e=>_Graphic_js__WEBPACK_IMPORTED_MODULE_1__["default"].fromJSON(e)))}if(d=await this._fetchFeaturesFromMemory(s,c,u,i),d.length>=m&&m>0)return (0,_core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_2__.pickRandom)(d,m,p)}}catch(f){(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_4__.throwIfAborted)(u)}try{if(this._hasLocalSource)return y?d:h?await this._fetchFeaturesJSONFromService(c,u):await this._fetchFeaturesFromService(c,u);const t=await this.queryFeatureCount({view:a,filter:l,signal:u}),i=this.layer.capabilities.query.maxRecordCount;let s=-1===m?t:m;if(s=i&&s>i?i:s,t<=d.length||d.length>=i)return d;if(c.maxAllowableOffset=e.resolution||(a?a.extent.width/a.width/a.scale:(0,_views_2d_viewpointUtils_js__WEBPACK_IMPORTED_MODULE_23__.getScaleToResolutionFactor)(this.layer.spatialReference))*H,t<=s)return h?await this._fetchFeaturesJSONFromService(c,u):await this._fetchFeaturesFromService(c,u);if(t<=W){const e=this.layer.createQuery();(0,_support_utils_js__WEBPACK_IMPORTED_MODULE_21__.updateQueryWithFeatureFilter)(e,l);const t=await this.layer.queryObjectIds();return c.objectIds=(0,_core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_2__.pickRandom)(t,s,p),h?await this._fetchFeaturesJSONFromService(c,u):await this._fetchFeaturesFromService(c,u)}return this.layer.capabilities?.query?.supportsPagination&&(c.num=Math.min(s,W)),h?await this._fetchFeaturesJSONFromService(c,u):await this._fetchFeaturesFromService(c,u)}catch(f){return (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_4__.throwIfAborted)(u),d}}load(e){const t=this.layer.load(e).then((async t=>{this.geometryType=t.geometryType,this.objectIdField=t.objectIdField,this.supportsSQLExpression=t.capabilities?.query?.supportsSqlExpression,this._hasLocalSource=!t.url&&!!t.source,this.hasQueryEngine=this._hasLocalSource,this.minScale=t.minScale,this.maxScale=t.maxScale,this.fullExtent=t.fullExtent,this.workerClient=_statistics_support_WorkerClient_js__WEBPACK_IMPORTED_MODULE_17__.WorkerClient.getInstance(),await this.workerClient.open(e.signal)}));return this.addResolvingPromise(t),Promise.resolve(this)}};function K(e,t,r){const i=[],s=t.length;return t.forEach(((t,a)=>{const[o,n]=t;let l=null;l=0!==a||r?a!==s-1||r?(0,_statistics_support_utils_js__WEBPACK_IMPORTED_MODULE_16__.mergeWhereClauses)(`${e} >= ${o}`,`${e} ${a===s-1?" <= ":" < "} ${n}`):`${e} >= ${o}`:`${e} < ${n}`,i.push("WHEN ("+l+") THEN "+(a+1))})),["CASE",i.join(" "),"ELSE 0","END"].join(" ")}(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)({readOnly:!0})],Z.prototype,"adapterName",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)({constructOnly:!0})],Z.prototype,"layer",void 0),Z=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_8__.subclass)("esri.smartMapping.support.adapters.FeatureLayerAdapter")],Z);


/***/ }),

/***/ "./node_modules/@arcgis/core/smartMapping/support/adapters/FeatureLayerBinningAdapter.js":
/*!***********************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/smartMapping/support/adapters/FeatureLayerBinningAdapter.js ***!
  \***********************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ T)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _layers_support_fieldType_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../layers/support/fieldType.js */ "./node_modules/@arcgis/core/layers/support/fieldType.js");
/* harmony import */ var _layers_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../layers/support/fieldUtils.js */ "./node_modules/@arcgis/core/layers/support/fieldUtils.js");
/* harmony import */ var _statistics_support_predominanceUtils_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../statistics/support/predominanceUtils.js */ "./node_modules/@arcgis/core/smartMapping/statistics/support/predominanceUtils.js");
/* harmony import */ var _statistics_support_statsWorker_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../statistics/support/statsWorker.js */ "./node_modules/@arcgis/core/smartMapping/statistics/support/statsWorker.js");
/* harmony import */ var _statistics_support_utils_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../statistics/support/utils.js */ "./node_modules/@arcgis/core/smartMapping/statistics/support/utils.js");
/* harmony import */ var _statistics_support_WorkerClient_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../statistics/support/WorkerClient.js */ "./node_modules/@arcgis/core/smartMapping/statistics/support/WorkerClient.js");
/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../utils.js */ "./node_modules/@arcgis/core/smartMapping/support/utils.js");
/* harmony import */ var _FeatureLayerAdapter_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./FeatureLayerAdapter.js */ "./node_modules/@arcgis/core/smartMapping/support/adapters/FeatureLayerAdapter.js");
/* harmony import */ var _support_utils_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./support/utils.js */ "./node_modules/@arcgis/core/smartMapping/support/adapters/support/utils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
let N=class extends _FeatureLayerAdapter_js__WEBPACK_IMPORTED_MODULE_15__["default"]{constructor(){super(...arguments),this.adapterName="feature-layer-binning-adapter"}async _getNormalizationTotalFromMemory(e,t,r){const{featuresJSON:i,graphics:s,layerView:o,query:n}=t,l={include:["sum"]},m=(!i&&!s&&o&&"queryAggregateSummaryStatistics"in o?await o.queryAggregateSummaryStatistics(n,{field:e,outStatisticTypes:l},{signal:r}):i?await this.workerClient.summaryStatistics({field:e},i):await (0,_statistics_support_statsWorker_js__WEBPACK_IMPORTED_MODULE_11__.summaryStatistics)({attribute:{field:e,outStatisticTypes:l},features:s})).sum;if(null==m)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_2__["default"](`${this.adapterName}:invalid`,"invalid normalizationTotal");return m}async _processStatsFromMemoryParams(e){const{features:t,filter:r}=e;if(t?.length)return this._getFilteredFeatures(t,r);const{view:i,field:s,field2:o,field3:n,normalizationField:l,valueExpression:u,returnGeometry:m,layerViewFunc:p,signal:g}=e;let d=null,y=null,f=null,h=null,w=null;if(i)try{if(d=await i.whenLayerView(this.layer),y=null!=p&&p in d&&"function"==typeof d[p],y){await this._waitForLayerViewUpdate(d);const e=await (0,_utils_js__WEBPACK_IMPORTED_MODULE_14__.getFieldsList)({field:s,field2:o,field3:n,normalizationField:l,valueExpression:u});(0,_support_utils_js__WEBPACK_IMPORTED_MODULE_16__.getMissingFieldsForBinning)(this,e).length?y=!1:(f="createAggregateQuery"in d?d.createAggregateQuery():null,f?(f.outFields=e,f.returnGeometry=!1,(0,_support_utils_js__WEBPACK_IMPORTED_MODULE_16__.updateQueryWithFeatureFilter)(f,r)):y=!1),d.suspended&&(y=!1)}}catch{y=!1}if(!y&&(w=(0,_support_utils_js__WEBPACK_IMPORTED_MODULE_16__.getFeatureReductionFields)(this.layer).map((e=>e.toJSON())),h=await this._fetchFeaturesForStats({field:s,field2:o,field3:n,valueExpression:u,normalizationField:l,returnGeometry:m,filter:r,view:i,signal:g},"json"),!h?.length))throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_2__["default"](`${this.adapterName}:insufficient-data`,"No features are available to calculate statistics");return{layerView:d,query:f,featuresJSON:h,fieldInfos:w}}async _summaryStatsFromMemory(e,t){const{view:a,field:r,valueExpression:i,normalizationType:s,signal:n}=e,l={field:r,valueExpression:i,normalizationType:s,normalizationField:e.normalizationField,normalizationTotal:e.normalizationTotal,minValue:e.minValue,maxValue:e.maxValue,outStatisticTypes:e.outStatisticTypes},{featuresJSON:m,graphics:p,layerView:g,query:d,fieldInfos:y}=await this._processStatsFromMemoryParams({...e,layerViewFunc:"queryAggregateSummaryStatistics"});return i&&a&&(m||p)&&(l.fieldType=t?.type?_layers_support_fieldType_js__WEBPACK_IMPORTED_MODULE_8__.kebabDict.toJSON(t.type):null,l.viewInfoParams=(0,_support_utils_js__WEBPACK_IMPORTED_MODULE_16__.getViewInfoParams)(a),l.timeZone=a.timeZone,l.fieldInfos=y),"percent-of-total"===s&&null==e.normalizationTotal&&(l.normalizationTotal=await this._getNormalizationTotalFromMemory(r,{featuresJSON:m,graphics:p,layerView:g,query:d},n)),!m&&!p&&g&&"queryAggregateSummaryStatistics"in g?g.queryAggregateSummaryStatistics(d,l,{signal:n}):m?this.workerClient.summaryStatistics(l,m):(0,_statistics_support_statsWorker_js__WEBPACK_IMPORTED_MODULE_11__.summaryStatistics)({attribute:l,features:p})}async _uvFromMemory(e,t){const{view:a,field:r,valueExpression:i,returnAllCodedValues:s,signal:o}=e,{featuresJSON:n,graphics:l,layerView:u,query:p,fieldInfos:g}=await this._processStatsFromMemoryParams({...e,layerViewFunc:"queryAggregateUniqueValues"}),d={field:r,field2:e.field2,field3:e.field3,fieldDelimiter:_utils_js__WEBPACK_IMPORTED_MODULE_14__.fieldDelimiter,valueExpression:i,domains:t,returnAllCodedValues:s};return i&&a&&(n||l)&&(d.viewInfoParams=(0,_support_utils_js__WEBPACK_IMPORTED_MODULE_16__.getViewInfoParams)(a),d.timeZone=a.timeZone,d.fieldInfos=g),!n&&!l&&u&&"queryAggregateUniqueValues"in u?u.queryAggregateUniqueValues(p,d,{signal:o}):n?this.workerClient.uniqueValues(d,n):(0,_statistics_support_statsWorker_js__WEBPACK_IMPORTED_MODULE_11__.uniqueValues)({attribute:d,features:l})}async _histogramFromMemory(e){const{view:t,field:a,valueExpression:r,signal:i}=e,{featuresJSON:s,graphics:o,layerView:n,query:l,fieldInfos:u}=await this._processStatsFromMemoryParams({...e,layerViewFunc:"queryAggregateHistogram"}),m={field:a,valueExpression:r,normalizationType:e.normalizationType,normalizationField:e.normalizationField,normalizationTotal:e.normalizationTotal,minValue:e.minValue,maxValue:e.maxValue,standardDeviationInterval:e.standardDeviationInterval,classificationMethod:e.classificationMethod,numBins:e.numBins};return r&&t&&(s||o)&&(m.viewInfoParams=(0,_support_utils_js__WEBPACK_IMPORTED_MODULE_16__.getViewInfoParams)(t),m.timeZone=t.timeZone,m.fieldInfos=u),"percent-of-total"===e.normalizationType&&null==e.normalizationTotal&&(m.normalizationTotal=await this._getNormalizationTotalFromMemory(a,{featuresJSON:s,graphics:o,layerView:n,query:l},i)),!s&&!o&&n&&"queryAggregateHistogram"in n?n.queryAggregateHistogram(l,m,{signal:i}):s?this.workerClient.histogram(m,s):(0,_statistics_support_statsWorker_js__WEBPACK_IMPORTED_MODULE_11__.histogram)({attribute:m,features:o})}async _classBreaksFromMemory(e){const{view:t,field:a,valueExpression:r,signal:i}=e,{featuresJSON:s,graphics:o,layerView:n,query:l,fieldInfos:u}=await this._processStatsFromMemoryParams({...e,layerViewFunc:"queryAggregateClassBreaks"}),m={field:a,valueExpression:r,normalizationType:e.normalizationType,normalizationField:e.normalizationField,normalizationTotal:e.normalizationTotal,minValue:e.minValue,maxValue:e.maxValue,standardDeviationInterval:e.standardDeviationInterval,classificationMethod:e.classificationMethod,numClasses:e.numClasses};return r&&t&&(s||o)&&(m.viewInfoParams=(0,_support_utils_js__WEBPACK_IMPORTED_MODULE_16__.getViewInfoParams)(t),m.timeZone=t.timeZone,m.fieldInfos=u),"percent-of-total"===e.normalizationType&&null==e.normalizationTotal&&(m.normalizationTotal=await this._getNormalizationTotalFromMemory(a,{featuresJSON:s,graphics:o,layerView:n,query:l},i)),!s&&!o&&n&&"queryAggregateClassBreaks"in n?n.queryAggregateClassBreaks(l,m,{signal:i}):s?this.workerClient.classBreaks(m,s):(0,_statistics_support_statsWorker_js__WEBPACK_IMPORTED_MODULE_11__.classBreaks)({attribute:m,features:o})}getField(e=""){const t=(0,_support_utils_js__WEBPACK_IMPORTED_MODULE_16__.getFeatureReductionFields)(this.layer);return t?.find((t=>t.name.toLowerCase()===e?.toLowerCase()))}getFieldUsageInfo(e){return this.getField(e)?{supportsLabelingInfo:!0,supportsRenderer:!0,supportsPopupTemplate:!0,supportsLayerQuery:!1,supportsStatistics:!0}:null}getFieldDomain(e,t){return null}async summaryStatistics(e){const{field:t}=e,r=t?this.getField(t):null,i=(0,_utils_js__WEBPACK_IMPORTED_MODULE_14__.isAnyDateField)(r)||(0,_layers_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_9__.isTimeOnlyField)(r),s=e.sqlExpression&&!e.valueExpression&&!t;if(i||s)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_2__["default"](`${this.adapterName}:not-supported`,"Date field and sqlExpression are not supported");return this._summaryStatsFromMemory(e,r)}async uniqueValues(e){const t=await (0,_support_utils_js__WEBPACK_IMPORTED_MODULE_16__.getDomainsForFields)(e,this);return this._uvFromMemory(e,t)}async histogram(e){const{field:t}=e,r=t?this.getField(t):null,i=(0,_utils_js__WEBPACK_IMPORTED_MODULE_14__.isAnyDateField)(r)||(0,_layers_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_9__.isTimeOnlyField)(r),s=e.sqlExpression&&!e.valueExpression&&!t;if(i||s)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_2__["default"](`${this.adapterName}:not-supported`,"Date field and sqlExpression are not supported");return this._histogramFromMemory(e)}async classBreaks(e){return(!1!==e.analyzeData?this._classBreaksFromMemory(e):this._classBreaksFromInterpolation(e)).catch((()=>((0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__.throwIfAborted)(e.signal),this._classBreaksFromMemory(e))))}async queryFeatureCount(e){const t=await(e.view?.whenLayerView(this.layer));if(!t||!("queryAggregateCount"in t)||!t.queryAggregateCount)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_2__["default"](`${this.adapterName}:not-supported`,"LayerView is not supported.");await this._waitForLayerViewUpdate(t);const r=t.createAggregateQuery();return r.where=(0,_statistics_support_utils_js__WEBPACK_IMPORTED_MODULE_12__.mergeWhereClauses)(r.where,e.whereClause),(0,_support_utils_js__WEBPACK_IMPORTED_MODULE_16__.updateQueryWithFeatureFilter)(r,e.filter),t.queryAggregateCount(r,{signal:e.signal})}generateRenderer(e,t){throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_2__["default"](`${this.adapterName}:not-supported`,"'generateRenderer' is not supported.")}heatmapStatistics(e){throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_2__["default"](`${this.adapterName}:not-supported`,"'heatmapStatistics' is not supported.")}async predominantCategories(e){const{fields:t,view:a,signal:r}=e,i=(0,_statistics_support_predominanceUtils_js__WEBPACK_IMPORTED_MODULE_10__.getArcadeForPredominantCategory)(t),s=await this._uvFromMemory({valueExpression:i,view:a,signal:r});return (0,_support_utils_js__WEBPACK_IMPORTED_MODULE_16__.getPredominantCategoriesFromUVInfos)(s.uniqueValueInfos,t)}async getSampleFeatures(e,r){const{view:i,sampleSize:s,requiredFields:o,returnGeometry:n,filter:l,signal:u}=e;if(!i)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_2__["default"](`${this.adapterName}:not-supported`,"'view' is required to get sample features for binning.");if("3d"===i.type)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_2__["default"](`${this.adapterName}:not-supported`,"3d 'view' is not supported to get sample features for binning.");const m=await i.whenLayerView(this.layer);if(!("queryAggregateJSON"in m&&m.queryAggregateJSON&&"queryAggregates"in m&&m.queryAggregates))throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_2__["default"](`${this.adapterName}:not-supported`,"LayerView is not supported.");await this._waitForLayerViewUpdate(m);if((0,_support_utils_js__WEBPACK_IMPORTED_MODULE_16__.getMissingFieldsForBinning)(this,o).length)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_2__["default"](`${this.adapterName}:insufficient-data`,"Layer does not have required fields");const p=1,g="json"===r,d=m.createAggregateQuery();d.outSpatialReference=i?.spatialReference,d.returnGeometry=!!n,d.outFields=o,(0,_support_utils_js__WEBPACK_IMPORTED_MODULE_16__.updateQueryWithFeatureFilter)(d,l);const{features:y}=g?await m.queryAggregateJSON(d,{signal:u}):await m.queryAggregates(d,{signal:u});return y.length&&null!=s&&s>0&&s<=y.length?(0,_core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_1__.pickRandom)(y,s,p):y}load(e){const t=this.layer.load(e).then((async t=>{this.geometryType="polygon",this.objectIdField=null,this.supportsSQLExpression=!1,this._hasLocalSource=!1,this.hasQueryEngine=!0,this.minScale=t.minScale,this.maxScale=t.maxScale,this.fullExtent=t.fullExtent;const r="featureReduction"in t?t.featureReduction:null;if("binning"!==r?.type&&"cluster"!==r?.type)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_2__["default"](`${this.adapterName}:invalid-parameters`,`Feature reduction type ${r?.type} is not supported`);this.workerClient=_statistics_support_WorkerClient_js__WEBPACK_IMPORTED_MODULE_13__.WorkerClient.getInstance(),await this.workerClient.open(e.signal)}));return this.addResolvingPromise(t),Promise.resolve(this)}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)({readOnly:!0})],N.prototype,"adapterName",void 0),N=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__.subclass)("esri.smartMapping.support.adapters.FeatureLayerBinningAdapter")],N);const T=N;


/***/ }),

/***/ "./node_modules/@arcgis/core/smartMapping/support/adapters/InMemoryLayerAdapter.js":
/*!*****************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/smartMapping/support/adapters/InMemoryLayerAdapter.js ***!
  \*****************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ R)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../core/maybe.js */ "./node_modules/@arcgis/core/core/maybe.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../core/reactiveUtils.js */ "./node_modules/@arcgis/core/core/reactiveUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _geometry_support_quantizationUtils_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../geometry/support/quantizationUtils.js */ "./node_modules/@arcgis/core/geometry/support/quantizationUtils.js");
/* harmony import */ var _layers_support_fieldType_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../layers/support/fieldType.js */ "./node_modules/@arcgis/core/layers/support/fieldType.js");
/* harmony import */ var _layers_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../layers/support/fieldUtils.js */ "./node_modules/@arcgis/core/layers/support/fieldUtils.js");
/* harmony import */ var _rest_support_QuantizationParameters_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../rest/support/QuantizationParameters.js */ "./node_modules/@arcgis/core/rest/support/QuantizationParameters.js");
/* harmony import */ var _statistics_support_predominanceUtils_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../statistics/support/predominanceUtils.js */ "./node_modules/@arcgis/core/smartMapping/statistics/support/predominanceUtils.js");
/* harmony import */ var _statistics_support_statsWorker_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../statistics/support/statsWorker.js */ "./node_modules/@arcgis/core/smartMapping/statistics/support/statsWorker.js");
/* harmony import */ var _statistics_support_utils_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../statistics/support/utils.js */ "./node_modules/@arcgis/core/smartMapping/statistics/support/utils.js");
/* harmony import */ var _statistics_support_WorkerClient_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../statistics/support/WorkerClient.js */ "./node_modules/@arcgis/core/smartMapping/statistics/support/WorkerClient.js");
/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../utils.js */ "./node_modules/@arcgis/core/smartMapping/support/utils.js");
/* harmony import */ var _LayerAdapter_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./LayerAdapter.js */ "./node_modules/@arcgis/core/smartMapping/support/adapters/LayerAdapter.js");
/* harmony import */ var _support_histogramUtils_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./support/histogramUtils.js */ "./node_modules/@arcgis/core/smartMapping/support/adapters/support/histogramUtils.js");
/* harmony import */ var _support_utils_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./support/utils.js */ "./node_modules/@arcgis/core/smartMapping/support/adapters/support/utils.js");
/* harmony import */ var _statistics_utils_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../../../statistics/utils.js */ "./node_modules/@arcgis/core/statistics/utils.js");
/* harmony import */ var _support_loadArcade_js__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../../../support/loadArcade.js */ "./node_modules/@arcgis/core/support/loadArcade.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
const $=5;let G=null,R=class extends _LayerAdapter_js__WEBPACK_IMPORTED_MODULE_19__["default"]{constructor(){super(...arguments),this._hasLocalSource=!1,this.adapterName="in-memory-layer-adapter"}destroy(){this.workerClient?.destroy()}async _waitForLayerViewUpdate(e){if(!e)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_2__["default"](`${this.adapterName}:insufficient-data`,"layerView is required to fetch the features");const t=new AbortController,i=(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_6__.whenOnce)((()=>!e.updating),t.signal);await (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_5__.timeout)(i,5e3,t).catch((e=>{throw _core_Logger_js__WEBPACK_IMPORTED_MODULE_3__["default"].getLogger(this).warn("LayerView is taking too long to update. Aborting fetch from layerView."),e}))}async _fetchFeatureSetFromMemory(e,t,a){const i=this.layer;if(this._hasLocalSource&&"queryFeatures"in i)return i.queryFeatures(e);if(!t)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_2__["default"](`${this.adapterName}:insufficient-data`,"view is required to fetch the features from layerView");const s=await t.whenLayerView(this.layer);return await this._waitForLayerViewUpdate(s),s.queryFeatures(e,{signal:a})}async _fetchFeaturesFromMemory(e,t,a,i){const s=this.layer,o="json"===i;if(this._hasLocalSource&&"queryFeatures"in s){const e=await s.queryFeatures(t);return o?(0,_support_utils_js__WEBPACK_IMPORTED_MODULE_21__.ensureFeaturesJSON)(e.features):e.features}if(await this._waitForLayerViewUpdate(e),o&&"queryFeaturesJSON"in e&&e.queryFeaturesJSON){const{features:r}=await e.queryFeaturesJSON(t,{signal:a});return r}if(!("queryFeatures"in e))throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_2__["default"](`${this.adapterName}:not-supported`,"'queryFeatures' is not supported on the layerView");const n=await e.queryFeatures(t,{signal:a});return o?(0,_support_utils_js__WEBPACK_IMPORTED_MODULE_21__.ensureFeaturesJSON)(n.features):n.features}_fetchFeaturesForStats(e,t){return (0,_utils_js__WEBPACK_IMPORTED_MODULE_18__.getFieldsList)({field:e.field,field2:e.field2,field3:e.field3,normalizationField:e.normalizationField,valueExpression:e.valueExpression}).then((r=>this.getSampleFeatures({sampleSize:-1,view:e.view,returnGeometry:e.returnGeometry,filter:e.filter,requiredFields:r,signal:e.signal},t)))}async _summaryStatsFromClientQuery(e,t){const{view:r,signal:a}=e,i=(0,_support_utils_js__WEBPACK_IMPORTED_MODULE_21__.getSummaryStatsQuery)(this,e,t),s=await this._fetchFeatureSetFromMemory(i,r,a),o=(0,_support_utils_js__WEBPACK_IMPORTED_MODULE_21__.getSummaryStatisticsFromFeatureSet)(s,(0,_utils_js__WEBPACK_IMPORTED_MODULE_18__.isAnyDateField)(t)||(0,_layers_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_12__.isTimeOnlyField)(t));return (0,_statistics_utils_js__WEBPACK_IMPORTED_MODULE_22__.processSummaryStatisticsResult)(o,e.outStatisticTypes)}async _getNormalizationTotalFromMemory(e,t,a){const{featuresJSON:i,graphics:s,layerView:o,query:n}=t,l={include:["sum"]},u=(!i&&!s&&o&&"querySummaryStatistics"in o?await o.querySummaryStatistics(n,{field:e},{signal:a}):i?await this.workerClient.summaryStatistics({field:e,outStatisticTypes:l},i):await (0,_statistics_support_statsWorker_js__WEBPACK_IMPORTED_MODULE_15__.summaryStatistics)({attribute:{field:e,outStatisticTypes:l},features:s??[]})).sum;if(null==u)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_2__["default"](`${this.adapterName}:invalid`,"invalid normalizationTotal");return u}async _summaryStatsFromMemory(e,t){const{view:r,field:a,valueExpression:i,normalizationType:s,signal:o}=e,n={field:a,valueExpression:i,normalizationType:s,normalizationField:e.normalizationField,normalizationTotal:e.normalizationTotal,minValue:e.minValue,maxValue:e.maxValue,outStatisticTypes:e.outStatisticTypes},{featuresJSON:l,graphics:u,layerView:m,query:y,fieldInfos:c}=await this._processStatsFromMemoryParams({...e,layerViewFunc:"querySummaryStatistics"});return i&&r&&(l||u)&&(n.fieldType=t?.type?_layers_support_fieldType_js__WEBPACK_IMPORTED_MODULE_11__.kebabDict.toJSON(t.type):null,n.viewInfoParams=(0,_support_utils_js__WEBPACK_IMPORTED_MODULE_21__.getViewInfoParams)(r),n.timeZone=r.timeZone,n.fieldInfos=c),"percent-of-total"===s&&null==e.normalizationTotal&&(n.normalizationTotal=await this._getNormalizationTotalFromMemory(a,{featuresJSON:l,graphics:u,layerView:m,query:y},o)),!l&&!u&&m&&"querySummaryStatistics"in m?m.querySummaryStatistics(y,n,{signal:o}):l?this.workerClient.summaryStatistics(n,l):(0,_statistics_support_statsWorker_js__WEBPACK_IMPORTED_MODULE_15__.summaryStatistics)({attribute:n,features:u})}async _getFilteredFeatures(e,t){let r=e;const a=t?.geometry;if("intersects"===t?.spatialRelationship&&a){const t=await Promise.all(/*! import() */[__webpack_require__.e("vendors-node_modules_arcgis_core_chunks_Point2D_js"), __webpack_require__.e("vendors-node_modules_arcgis_core_chunks_Transformation2D_js"), __webpack_require__.e("vendors-node_modules_arcgis_core_chunks_Envelope2D_js"), __webpack_require__.e("vendors-node_modules_arcgis_core_chunks_ProjectionTransformation_js"), __webpack_require__.e("vendors-node_modules_arcgis_core_geometry_operators_support_jsonConverter_js"), __webpack_require__.e("node_modules_arcgis_core_geometry_operators_intersectionOperator_js")]).then(__webpack_require__.bind(__webpack_require__, /*! ../../../geometry/operators/intersectionOperator.js */ "./node_modules/@arcgis/core/geometry/operators/intersectionOperator.js"));r=e.filter((({geometry:e})=>!(!e||!t.execute(e,a))))}return e.length&&"declaredClass"in e[0]&&"esri.Graphic"===e[0].declaredClass?{graphics:r}:{featuresJSON:r}}async _processStatsFromMemoryParams(e){const{features:t,filter:r}=e;if(t?.length)return this._getFilteredFeatures(t,r);const{view:a,field:i,field2:s,field3:o,normalizationField:n,valueExpression:l,layerViewFunc:u,signal:m}=e;let p=e.returnGeometry;if(null==p&&l){if(!G){const{arcadeUtils:e}=await (0,_support_loadArcade_js__WEBPACK_IMPORTED_MODULE_23__.loadArcade)();G=e}const e=G.hasGeometryOperations(l);e&&await G.enableGeometryOperations(),p=e}let y=null,c=null,f=null,d=null,h=null;if(a)try{const e="subtype-sublayer"===this.layer.type?this.layer.parent:this.layer;y=await a.whenLayerView(e),c=null!=u&&u in y&&"function"==typeof y[u]}catch{c=!1}if(c)try{await this._waitForLayerViewUpdate(y);const e=await (0,_utils_js__WEBPACK_IMPORTED_MODULE_18__.getFieldsList)({field:i,field2:s,field3:o,normalizationField:n,valueExpression:l});(0,_support_utils_js__WEBPACK_IMPORTED_MODULE_21__.getMissingFields)(this,e,y).length?c=!1:(f=this.layer.createQuery(),f.outFields=e,f.returnGeometry=!1,(0,_support_utils_js__WEBPACK_IMPORTED_MODULE_21__.updateQueryWithFeatureFilter)(f,r)),y.suspended&&(c=!1)}catch{c=!1}return c||(d=await this._fetchFeaturesForStats({field:i,field2:s,field3:o,valueExpression:l,normalizationField:n,returnGeometry:p,filter:r,view:a,signal:m},"json"),h=(await (0,_utils_js__WEBPACK_IMPORTED_MODULE_18__.getFieldsList)({valueExpression:l})).map((e=>this.getField(e)?.toJSON())).filter(Boolean)),{layerView:y,query:f,featuresJSON:d,fieldInfos:h}}async _uvFromClientQuery(e,t){const{view:r,signal:a}=e,i=(0,_support_utils_js__WEBPACK_IMPORTED_MODULE_21__.getUVQuery)(this,e),s=await this._fetchFeatureSetFromMemory(i,r,a),o=await (0,_support_utils_js__WEBPACK_IMPORTED_MODULE_21__.getUniqueValuesFromFeatureSet)(s,{layer:this,field:e.field,field2:e.field2,field3:e.field3,fieldDelimiter:_utils_js__WEBPACK_IMPORTED_MODULE_18__.fieldDelimiter,view:e.view,signal:e.signal});return (0,_statistics_utils_js__WEBPACK_IMPORTED_MODULE_22__.createUVResult)(o,t,e.returnAllCodedValues,_utils_js__WEBPACK_IMPORTED_MODULE_18__.fieldDelimiter)}async _uvFromMemory(e,t){const{view:r,field:a,valueExpression:i,returnAllCodedValues:s,signal:o}=e,{featuresJSON:n,graphics:l,layerView:u,query:m,fieldInfos:p}=await this._processStatsFromMemoryParams({...e,layerViewFunc:"queryUniqueValues"}),y={field:a,field2:e.field2,field3:e.field3,fieldDelimiter:_utils_js__WEBPACK_IMPORTED_MODULE_18__.fieldDelimiter,valueExpression:i,domains:t,returnAllCodedValues:s};return i&&r&&(n||l)&&(y.viewInfoParams=(0,_support_utils_js__WEBPACK_IMPORTED_MODULE_21__.getViewInfoParams)(r),y.timeZone=r.timeZone,y.fieldInfos=p),!n&&!l&&u&&"queryUniqueValues"in u?u.queryUniqueValues(m,y,{signal:o}):n?this.workerClient.uniqueValues(y,n):(0,_statistics_support_statsWorker_js__WEBPACK_IMPORTED_MODULE_15__.uniqueValues)({attribute:y,features:l})}_histogramForField(e){let t=null;return t=null!=e.minValue&&null!=e.maxValue?Promise.resolve({min:e.minValue,max:e.maxValue}):this.summaryStatistics({...e,outStatisticTypes:{include:["min","max","count"]}}).then((e=>{if(!e.count)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_2__["default"](`${this.adapterName}:insufficient-data`,"Either the layer has no features or none of the features have data for the field");return{min:e.min,max:e.max}})),t.then((t=>(0,_support_utils_js__WEBPACK_IMPORTED_MODULE_21__.getBins)(this,{min:t.min,max:t.max},e.field,e.numBins??void 0,e.view,e.filter,e.signal)))}async _histogramFromQueryAttributeBinsFromMemory(e){const{field:t,normalizationType:r,signal:a}=e,i=await this._processStatsFromMemoryParams({...e,layerViewFunc:"queryAttributeBins"}),{featuresJSON:s,graphics:o,layerView:n,query:l}=i,u="percent-of-total"===r?e.normalizationTotal??await this._getNormalizationTotalFromMemory(t,i,a):void 0;if(!n||!("queryAttributeBins"in n)||s||o){const t=(0,_support_histogramUtils_js__WEBPACK_IMPORTED_MODULE_20__.getHistogramAttributeDefinition)(e,i,u);return s?this.workerClient.histogram(t,s):(0,_statistics_support_statsWorker_js__WEBPACK_IMPORTED_MODULE_15__.histogram)({attribute:t,features:o})}const{query:m,min:p,max:y}=await (0,_support_histogramUtils_js__WEBPACK_IMPORTED_MODULE_20__.getAttributeBinsQuery)(e,this,u,l?.where);if(!m)return{bins:[],minValue:p,maxValue:y,normalizationTotal:u};const c=await n.queryAttributeBins(m,{signal:a});return (0,_support_histogramUtils_js__WEBPACK_IMPORTED_MODULE_20__.processQueryAttributeBinsResult)(c,t?this.getField(t):null,{minValue:p,maxValue:y,normalizationTotal:u})}async _histogramFromMemory(e){const{field:t,signal:r}=e,a=await this._processStatsFromMemoryParams({...e,layerViewFunc:"queryHistogram"}),{featuresJSON:i,graphics:s,layerView:o,query:n}=a,l="percent-of-total"===e.normalizationType?e.normalizationTotal??await this._getNormalizationTotalFromMemory(t,a,r):void 0,u=(0,_support_histogramUtils_js__WEBPACK_IMPORTED_MODULE_20__.getHistogramAttributeDefinition)(e,a,l);return!i&&!s&&o&&"queryHistogram"in o?o.queryHistogram(n,u,{signal:r}):i?this.workerClient.histogram(u,i):(0,_statistics_support_statsWorker_js__WEBPACK_IMPORTED_MODULE_15__.histogram)({attribute:u,features:s})}_classBreaksFromInterpolation(e){const{minValue:t,maxValue:r}=e,a=e.numClasses||$,i=[],s=(r-t)/a;for(let l=0;l<a;l++){const e=t+l*s;i.push({minValue:e,maxValue:e+s})}i[a-1].maxValue=r;const o={classBreaks:i,normalizationTotal:e.normalizationTotal},n=(0,_statistics_utils_js__WEBPACK_IMPORTED_MODULE_22__.resolveCBResult)(o,e.classificationMethod);return Promise.resolve(n)}async _classBreaksFromMemory(e){const{view:t,field:r,valueExpression:a,signal:i}=e,{featuresJSON:s,graphics:o,layerView:n,query:l,fieldInfos:u}=await this._processStatsFromMemoryParams({...e,layerViewFunc:"queryClassBreaks"}),m={field:r,valueExpression:a,normalizationType:e.normalizationType,normalizationField:e.normalizationField,normalizationTotal:e.normalizationTotal,minValue:e.minValue,maxValue:e.maxValue,standardDeviationInterval:e.standardDeviationInterval,classificationMethod:e.classificationMethod,numClasses:e.numClasses};return a&&t&&(s||o)&&(m.viewInfoParams=(0,_support_utils_js__WEBPACK_IMPORTED_MODULE_21__.getViewInfoParams)(t),m.timeZone=t.timeZone,m.fieldInfos=u),"percent-of-total"===e.normalizationType&&null==e.normalizationTotal&&(m.normalizationTotal=await this._getNormalizationTotalFromMemory(r,{featuresJSON:s,graphics:o,layerView:n,query:l},i)),!s&&!o&&n&&"queryClassBreaks"in n?n.queryClassBreaks(l,m,{signal:i}):s?this.workerClient.classBreaks(m,s):(0,_statistics_support_statsWorker_js__WEBPACK_IMPORTED_MODULE_15__.classBreaks)({attribute:m,features:o})}async _heatmapStatsFromMemory(e){const{view:t,field:r,radius:a,signal:s}=e;(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_4__.assertIsSome)(t,"InMemoryLayerAdapter: must have a view");try{const r=await t.whenLayerView(this.layer);if("queryHeatmapStatistics"in r&&!r.updating&&!e.filter)return await r.queryHeatmapStatistics({field:e.field,radius:e.radius})}catch{(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_5__.throwIfAborted)(s)}const{featuresJSON:n,graphics:l}=await this._processStatsFromMemoryParams({...e,returnGeometry:!0}),u=new _rest_support_QuantizationParameters_js__WEBPACK_IMPORTED_MODULE_13__["default"]({extent:t.extent,tolerance:"2d"===t.type?t.state.resolution:t.pixelSizeAt?.(t.center)}),p={field:r,radius:a,transform:(0,_geometry_support_quantizationUtils_js__WEBPACK_IMPORTED_MODULE_10__.toQuantizationTransform)(u),spatialReference:t.spatialReference?.toJSON(),size:t.size};return n?.length||l?.length?n?this.workerClient.heatmapStatistics(p,n):(0,_statistics_support_statsWorker_js__WEBPACK_IMPORTED_MODULE_15__.heatmapStatistics)({attribute:p,features:l}):{min:null,max:null}}getField(e=""){return this.layer.getField(e)}getFieldUsageInfo(e){return this.getField(e)?{supportsLabelingInfo:!0,supportsRenderer:!0,supportsPopupTemplate:!0,supportsLayerQuery:!0,supportsStatistics:!0}:null}getFieldDomain(e,t){return this.layer.getFieldDomain(e,t)}createQuery(){return this.layer.createQuery()}async summaryStatistics(e){const{field:t,valueExpression:a,sqlExpression:i,features:s,view:o}=e,n=t?this.getField(t):null,l=!!a,u="3d"===o?.type;if(!a&&i&&!this.supportsSQLExpression)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_2__["default"](`${this.adapterName}:not-supported`,"Layer does not support standardized SQL expression for queries");return l||s||u?this._summaryStatsFromMemory(e,n):this._summaryStatsFromClientQuery(e,n)}async uniqueValues(e){const{valueExpression:t,sqlExpression:a,features:i,view:s}=e,o=await (0,_support_utils_js__WEBPACK_IMPORTED_MODULE_21__.getDomainsForFields)(e,this),n=!!t,l="3d"===s?.type;if(!t&&a&&!this.supportsSQLExpression)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_2__["default"](`${this.adapterName}:not-supported`,"Layer does not support standardized SQL expression for queries");return n||i||l?this._uvFromMemory(e,o):this._uvFromClientQuery(e,o)}async histogram(e){const{features:t,valueExpression:a,normalizationType:i,sqlExpression:s}=e,o=t||!!a;if(!a&&s&&!this.supportsSQLExpression)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_2__["default"](`${this.adapterName}:not-supported`,"Layer does not support standardized SQL expression for queries");return o||i?this._histogramFromMemory(e):this._histogramForField(e)}async classBreaks(e){return!1!==e.analyzeData?this._classBreaksFromMemory(e):this._classBreaksFromInterpolation(e)}async queryFeatureCount(e){const{whereClause:t,view:a,signal:i}=e;if(!a)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_2__["default"](`${this.adapterName}:insufficient-data`,"view is required to fetch the features from layerView");const s=this.layer.createQuery();s.where=(0,_statistics_support_utils_js__WEBPACK_IMPORTED_MODULE_16__.mergeWhereClauses)(s.where,t);const o=await a.whenLayerView(this.layer);return await (0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_6__.whenOnce)((()=>!o.updating),i),o.queryFeatureCount(s,{signal:i})}async generateRenderer(e,t){throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_2__["default"](`${this.adapterName}:not-supported`,"Layer does not support generateRenderer operation")}async predominantCategories(e){const{fields:t,view:r,signal:a,filter:i}=e,s=(0,_statistics_support_predominanceUtils_js__WEBPACK_IMPORTED_MODULE_14__.getArcadeForPredominantCategory)(t),o=await this._uvFromMemory({valueExpression:s,view:r,signal:a,filter:i});return (0,_support_utils_js__WEBPACK_IMPORTED_MODULE_21__.getPredominantCategoriesFromUVInfos)(o.uniqueValueInfos,t)}async heatmapStatistics(e){return this._heatmapStatsFromMemory(e)}async getSampleFeatures(e,a){const{view:i,sampleSize:s,requiredFields:o,returnGeometry:n,filter:l,signal:u}=e,m=this.layer.createQuery(),p=1;if(m.outSpatialReference=i?.spatialReference,m.returnGeometry=!!n,m.outFields=o,(0,_support_utils_js__WEBPACK_IMPORTED_MODULE_21__.updateQueryWithFeatureFilter)(m,l),!i)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_2__["default"](`${this.adapterName}:not-supported`,"view is required to get sample features for Layer");const y=await i.whenLayerView(this.layer);if((0,_support_utils_js__WEBPACK_IMPORTED_MODULE_21__.getMissingFields)(this,o,y).length)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_2__["default"](`${this.adapterName}:not-supported`,"Required fields need to be passed in the outFields for Layer");const c=await this._fetchFeaturesFromMemory(y,m,u,a),f=null!=s&&s>0&&s<=c.length?s:c.length;return (0,_core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_1__.pickRandom)(c,f,p)}load(e){const t=this.layer.load(e).then((async t=>{this.geometryType=t.geometryType,this.objectIdField=t.objectIdField,this.supportsSQLExpression="stream"===t.type||!!t.capabilities?.query?.supportsSqlExpression,this.minScale=t.minScale,this.maxScale=t.maxScale,this.fullExtent="fullExtent"in t?t.fullExtent:t.parent?.fullExtent,this._hasLocalSource=!1,this.hasQueryEngine=!0,this.workerClient=_statistics_support_WorkerClient_js__WEBPACK_IMPORTED_MODULE_17__.WorkerClient.getInstance(),await this.workerClient.open(e.signal)}));return this.addResolvingPromise(t),Promise.resolve(this)}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)({readOnly:!0})],R.prototype,"adapterName",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)({constructOnly:!0})],R.prototype,"layer",void 0),R=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_9__.subclass)("esri.smartMapping.support.adapters.InMemoryLayerAdapter")],R);


/***/ }),

/***/ "./node_modules/@arcgis/core/smartMapping/support/adapters/LayerAdapter.js":
/*!*********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/smartMapping/support/adapters/LayerAdapter.js ***!
  \*********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ p)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_Loadable_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/Loadable.js */ "./node_modules/@arcgis/core/core/Loadable.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_RandomLCG_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../core/RandomLCG.js */ "./node_modules/@arcgis/core/core/RandomLCG.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
let p=class extends _core_Loadable_js__WEBPACK_IMPORTED_MODULE_1__["default"]{constructor(o){super(o),this.adapterName="layer-adapter"}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)({readOnly:!0})],p.prototype,"adapterName",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)({constructOnly:!0})],p.prototype,"layer",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)()],p.prototype,"geometryType",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)()],p.prototype,"objectIdField",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)()],p.prototype,"supportsSQLExpression",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)()],p.prototype,"hasQueryEngine",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)()],p.prototype,"minScale",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)()],p.prototype,"maxScale",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)()],p.prototype,"fullExtent",void 0),p=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_6__.subclass)("esri.smartMapping.support.adapters.LayerAdapter")],p);


/***/ }),

/***/ "./node_modules/@arcgis/core/smartMapping/support/adapters/PointCloudLayerAdapter.js":
/*!*******************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/smartMapping/support/adapters/PointCloudLayerAdapter.js ***!
  \*******************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ o)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_RandomLCG_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../core/RandomLCG.js */ "./node_modules/@arcgis/core/core/RandomLCG.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _SceneLayerAdapter_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./SceneLayerAdapter.js */ "./node_modules/@arcgis/core/smartMapping/support/adapters/SceneLayerAdapter.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
let o=class extends _SceneLayerAdapter_js__WEBPACK_IMPORTED_MODULE_6__["default"]{constructor(e){super(e),this.adapterName="point-cloud-layer-adapter"}getField(e){return this.layer.fieldsIndex.get(e??"")}getFieldUsageInfo(e){const r=this.getField(e);if(!r)return null;const t=this._hasCachedStatistics(r.name);return{supportsLabelingInfo:t,supportsPopupTemplate:t,supportsRenderer:t,supportsLayerQuery:!1,supportsStatistics:t}}getFieldDomain(){return null}load(e){const r=this.layer.load(e).then((()=>{this.geometryType="point",this.objectIdField=null,this.supportsSQLExpression=!1,this.hasQueryEngine=!1}));return this.addResolvingPromise(r),Promise.resolve(this)}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_1__.property)({readOnly:!0})],o.prototype,"adapterName",void 0),o=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_5__.subclass)("esri.smartMapping.support.adapters.PointCloudLayerAdapter")],o);


/***/ }),

/***/ "./node_modules/@arcgis/core/smartMapping/support/adapters/SceneLayerAdapter.js":
/*!**************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/smartMapping/support/adapters/SceneLayerAdapter.js ***!
  \**************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ A)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _Graphic_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../Graphic.js */ "./node_modules/@arcgis/core/Graphic.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../core/reactiveUtils.js */ "./node_modules/@arcgis/core/core/reactiveUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _layers_support_fieldType_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../layers/support/fieldType.js */ "./node_modules/@arcgis/core/layers/support/fieldType.js");
/* harmony import */ var _layers_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../layers/support/fieldUtils.js */ "./node_modules/@arcgis/core/layers/support/fieldUtils.js");
/* harmony import */ var _rest_support_FeatureSet_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../rest/support/FeatureSet.js */ "./node_modules/@arcgis/core/rest/support/FeatureSet.js");
/* harmony import */ var _statistics_support_statsWorker_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../statistics/support/statsWorker.js */ "./node_modules/@arcgis/core/smartMapping/statistics/support/statsWorker.js");
/* harmony import */ var _statistics_support_WorkerClient_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../statistics/support/WorkerClient.js */ "./node_modules/@arcgis/core/smartMapping/statistics/support/WorkerClient.js");
/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../utils.js */ "./node_modules/@arcgis/core/smartMapping/support/utils.js");
/* harmony import */ var _FeatureLayerAdapter_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./FeatureLayerAdapter.js */ "./node_modules/@arcgis/core/smartMapping/support/adapters/FeatureLayerAdapter.js");
/* harmony import */ var _LayerAdapter_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./LayerAdapter.js */ "./node_modules/@arcgis/core/smartMapping/support/adapters/LayerAdapter.js");
/* harmony import */ var _support_utils_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./support/utils.js */ "./node_modules/@arcgis/core/smartMapping/support/adapters/support/utils.js");
/* harmony import */ var _statistics_utils_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../../statistics/utils.js */ "./node_modules/@arcgis/core/statistics/utils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
let A=class extends _LayerAdapter_js__WEBPACK_IMPORTED_MODULE_17__["default"]{constructor(e){super(e),this._featureLayerAdapter=null,this.workerClient=null,this.adapterName="scene-layer-adapter"}destroy(){this.workerClient?.destroy()}_hasCachedStatistics(e){return this.layer.hasCachedStatistics(e)}_updateQuery(e,t=[],r=[]){if(!e||!r.length)return e;const a=this.layer.objectIdField,s=e.clone(),i=t.filter((e=>{const t=this.layer.getField(e);return!r.includes(t.name)})),o=i.some((e=>this.layer.getField(e).name===a));return s.outFields=o?i:[...i,a],s}async _fetchFeaturesFromMemory(e,t,r){if(!e)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_3__["default"]("scene-layer-adapter:insufficient-data","view is required to fetch the features from layerView");const n=await e.whenLayerView(this.layer),l=new AbortController,u=l.signal,p=(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_5__.whenOnce)((()=>!n.updating),u);await (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_4__.timeout)(p,5e3,l);const m=(0,_support_utils_js__WEBPACK_IMPORTED_MODULE_18__.getMissingFields)(this,r,n);(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_4__.throwIfAborted)(u);const c=this._updateQuery(t,r??[],m),d=await n.queryFeatures(c,{signal:u});(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_4__.throwIfAborted)(u);const h=d.features;return m.length?n.whenGraphicAttributes(h,m):h}async _fetchFeaturesJSONFromMemory(e,t,r){return this._fetchFeaturesFromMemory(e,t,r).then(_support_utils_js__WEBPACK_IMPORTED_MODULE_18__.ensureFeaturesJSON)}_fetchFeaturesForStats(e,t){return (0,_utils_js__WEBPACK_IMPORTED_MODULE_15__.getFieldsList)({field:e.field,normalizationField:e.normalizationField,valueExpression:e.valueExpression}).then((r=>this.getSampleFeatures({sampleSize:-1,view:e.view,returnGeometry:e.returnGeometry,requiredFields:r,signal:e.signal},t)))}async _processStatsFromMemoryParams(e){const t=e.features;if(t?.length){return t.length&&"declaredClass"in t[0]&&"esri.Graphic"===t[0].declaredClass?{graphics:t}:{featuresJSON:t}}const{view:r,field:s,normalizationField:i,valueExpression:o,signal:n}=e,l=await this._fetchFeaturesForStats({field:s,valueExpression:o,normalizationField:i,view:r,signal:n},null);if(!l?.length)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_3__["default"]("scene-layer-adapter:insufficient-data","No features are available to calculate statistics");return{graphics:l}}_getCachedStatistics(e,t){const r=this.layer;return e.valueExpression||e.sqlExpression||e.sqlWhere||e.minValue||e.maxValue?Promise.reject(new _core_Error_js__WEBPACK_IMPORTED_MODULE_3__["default"]("scene-layer-adapter:not-supported","This Layer does not support calculating statistics when 'valueExpression', 'sqlExpression', 'sqlWhere', 'minValue' or 'maxValue' is specified")):r.queryCachedStatistics(t?.name,{signal:e.signal}).then((e=>{const t=e.stats,{min:r,max:a,totalValuesCount:s}=t;let{avg:i,stddev:o,sum:n,variance:l,count:u}=t;return 0===r&&0===a||(i=0===i?null:i,n=0===n?null:n,o=0===o?null:o,l=0===l?null:l,u=0===u?null:u),null==u&&(null!=n&&null!=i?u=Math.round(n/i):null!=s&&(u=s)),{avg:i,count:u,max:a,min:r,stddev:o,sum:n,variance:l}}))}async _getNormalizationTotal(e,t,r){const s={include:["sum"]},i=(t?await this.workerClient.summaryStatistics({field:e,outStatisticTypes:s},t):await (0,_statistics_support_statsWorker_js__WEBPACK_IMPORTED_MODULE_13__.summaryStatistics)({attribute:{field:e,outStatisticTypes:s},features:r})).sum;if(null==i)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_3__["default"]("scene-layer-adapter:invalid","invalid normalizationTotal");return i}async _getSummaryStatisticsFromMemory(e,t){const{view:r,field:a,normalizationField:s,valueExpression:i}=e,{featuresJSON:o,graphics:n}=await this._processStatsFromMemoryParams(e),l={field:a,valueExpression:i,normalizationType:e.normalizationType,normalizationField:s,normalizationTotal:e.normalizationTotal,minValue:e.minValue,maxValue:e.maxValue,outStatisticTypes:e.outStatisticTypes};return e.valueExpression&&r&&o&&(l.fieldType=t?.type?_layers_support_fieldType_js__WEBPACK_IMPORTED_MODULE_10__.kebabDict.toJSON(t.type):null,l.viewInfoParams=(0,_support_utils_js__WEBPACK_IMPORTED_MODULE_18__.getViewInfoParams)(r),l.timeZone=r.timeZone),"percent-of-total"===e.normalizationType&&null==e.normalizationTotal&&(l.normalizationTotal=await this._getNormalizationTotal(a,o,n)),o?this.workerClient.summaryStatistics(l,o):(0,_statistics_support_statsWorker_js__WEBPACK_IMPORTED_MODULE_13__.summaryStatistics)({attribute:l,features:n})}_getCachedStatisticsForUniqueValues(e,r){const s=this.layer,i=r?.name,o=r&&e.field?this.getFieldDomain(e.field):null;return e.valueExpression||e.sqlExpression||e.sqlWhere?Promise.reject(new _core_Error_js__WEBPACK_IMPORTED_MODULE_3__["default"]("scene-layer-adapter:not-supported","This Layer does not support calculating statistics when 'valueExpression', 'sqlExpression' or 'sqlWhere' is specified")):s.queryCachedStatistics(i,{signal:e.signal}).then((a=>{const o=a.stats;if(!o.mostFrequentValues)throw new Error;const n=a.labels?.labels,l={},u=[],c="countOF"+i;o.mostFrequentValues.forEach((e=>{const a=new _Graphic_js__WEBPACK_IMPORTED_MODULE_1__["default"]({attributes:{}});a.attributes[i]=r&&r.name!==s.objectIdField&&((0,_layers_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_11__.isNumericField)(r)||(0,_utils_js__WEBPACK_IMPORTED_MODULE_15__.isAnyDateField)(r))?Number(e.value):e.value,a.attributes[c]=e.count,u.push(a)})),n&&n.forEach((e=>{l[e.value]=e.label}));const d=new _rest_support_FeatureSet_js__WEBPACK_IMPORTED_MODULE_12__["default"]({features:u});return (0,_support_utils_js__WEBPACK_IMPORTED_MODULE_18__.getUniqueValuesFromFeatureSet)(d,{layer:this,field:e.field,labels:l,view:e.view,signal:e.signal})})).then((t=>(0,_statistics_utils_js__WEBPACK_IMPORTED_MODULE_19__.createUVResult)(t,[o],e.returnAllCodedValues)))}async _getUniqueValuesFromMemory(e,t){const{view:r,field:a,field2:s,field3:i,valueExpression:o,returnAllCodedValues:n}=e,l={field:a,field2:s,field3:i,fieldDelimiter:_utils_js__WEBPACK_IMPORTED_MODULE_15__.fieldDelimiter,valueExpression:o,domains:t,returnAllCodedValues:n},{featuresJSON:u,graphics:p}=await this._processStatsFromMemoryParams(e);return e.valueExpression&&r&&u&&(l.viewInfoParams=(0,_support_utils_js__WEBPACK_IMPORTED_MODULE_18__.getViewInfoParams)(r),l.timeZone=r.timeZone),u?this.workerClient.uniqueValues(l,u):(0,_statistics_support_statsWorker_js__WEBPACK_IMPORTED_MODULE_13__.uniqueValues)({attribute:l,features:p})}_getCachedStatisticsForHistogram(e,t){const r=this.layer;return e.valueExpression||e.sqlExpression||e.sqlWhere||e.normalizationType?Promise.reject(new _core_Error_js__WEBPACK_IMPORTED_MODULE_3__["default"]("scene-layer-adapter:not-supported","This Layer does not support calculating statistics when 'valueExpression' or 'sqlExpression' or 'sqlWhere' or 'normalizationType' is specified")):r.queryCachedStatistics(t&&t.name,{signal:e.signal}).then((t=>{const r=t.stats,{minValue:a,maxValue:s}=e,i=null!=a?a:r.min,o=null!=s?s:r.max,n=e.numBins||10,l=j(r.histogram,i,o,n);return (0,_support_utils_js__WEBPACK_IMPORTED_MODULE_18__.getHistogramFromFeatureSet)(l,i,o,n)}))}async _getClassBreaksFromMemory(e){const{view:t,field:r,normalizationField:a,valueExpression:s}=e,{featuresJSON:i,graphics:o}=await this._processStatsFromMemoryParams(e),n={field:r,valueExpression:s,normalizationType:e.normalizationType,normalizationField:a,normalizationTotal:e.normalizationTotal,minValue:e.minValue,maxValue:e.maxValue,standardDeviationInterval:e.standardDeviationInterval,classificationMethod:e.classificationMethod,numClasses:e.numClasses};return e.valueExpression&&t&&i&&(n.viewInfoParams=(0,_support_utils_js__WEBPACK_IMPORTED_MODULE_18__.getViewInfoParams)(t),n.timeZone=t.timeZone),"percent-of-total"===e.normalizationType&&null==e.normalizationTotal&&(n.normalizationTotal=await this._getNormalizationTotal(r,i,o)),i?this.workerClient.classBreaks(n,i):(0,_statistics_support_statsWorker_js__WEBPACK_IMPORTED_MODULE_13__.classBreaks)({attribute:n,features:o})}async _getHistogramFromMemory(e){const{view:t,field:r}=e,{featuresJSON:a,graphics:s}=await this._processStatsFromMemoryParams(e),i={field:r,valueExpression:e.valueExpression,normalizationType:e.normalizationType,normalizationField:e.normalizationField,normalizationTotal:e.normalizationTotal,minValue:e.minValue,maxValue:e.maxValue,standardDeviationInterval:e.standardDeviationInterval,classificationMethod:e.classificationMethod,numBins:e.numBins};return e.valueExpression&&t&&a&&(i.viewInfoParams=(0,_support_utils_js__WEBPACK_IMPORTED_MODULE_18__.getViewInfoParams)(t),i.timeZone=t.timeZone),"percent-of-total"===e.normalizationType&&null==e.normalizationTotal&&(i.normalizationTotal=await this._getNormalizationTotal(r,a,s)),a?this.workerClient.histogram(i,a):(0,_statistics_support_statsWorker_js__WEBPACK_IMPORTED_MODULE_13__.histogram)({attribute:i,features:s})}getField(e){return this.layer.getField(e??"")}getFieldUsageInfo(e){const t=this.getField(e);if(!t)return null;const r=this.layer.getFieldUsageInfo(t.name);return{supportsLabelingInfo:r.supportsLabelingInfo,supportsPopupTemplate:r.supportsPopupTemplate,supportsRenderer:r.supportsRenderer,supportsLayerQuery:r.supportsLayerQuery,supportsStatistics:!0}}getFieldDomain(e,t){return this._featureLayerAdapter?this._featureLayerAdapter.getFieldDomain(e,t):null}createQuery(){return this.layer.createQuery()}summaryStatistics(e){const t=this.getField(e.field);if(this._featureLayerAdapter)return this._featureLayerAdapter.summaryStatistics(e);if(e.filter)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_3__["default"]("scene-layer-adapter:not-supported","filter is not supported");return this._hasCachedStatistics(t?.name)?this._getCachedStatistics(e,t).catch((()=>((0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_4__.throwIfAborted)(e.signal),this._getSummaryStatisticsFromMemory(e,t)))):this._getSummaryStatisticsFromMemory(e,t)}async uniqueValues(e){if(this._featureLayerAdapter)return this._featureLayerAdapter.uniqueValues(e);if(e.filter)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_3__["default"]("scene-layer-adapter:not-supported","filter is not supported");const t=await (0,_support_utils_js__WEBPACK_IMPORTED_MODULE_18__.getDomainsForFields)(e,this),{field:r,field2:s}=e,o=r&&s,n=this.getField(r);return!o&&n&&this._hasCachedStatistics(n.name)?this._getCachedStatisticsForUniqueValues(e,n).catch((()=>((0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_4__.throwIfAborted)(e.signal),this._getUniqueValuesFromMemory(e,t)))):this._getUniqueValuesFromMemory(e,t)}histogram(e){const t=this.getField(e.field);if(this._featureLayerAdapter)return this._featureLayerAdapter.histogram(e);if(e.filter)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_3__["default"]("scene-layer-adapter:not-supported","filter is not supported");return t&&this._hasCachedStatistics(t.name)?this._getCachedStatisticsForHistogram(e,t).catch((()=>((0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_4__.throwIfAborted)(e.signal),this._getHistogramFromMemory(e)))):this._getHistogramFromMemory(e)}classBreaks(e){const t=this.getField(e.field);if(this._featureLayerAdapter)return this._featureLayerAdapter.classBreaks(e);if(e.filter)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_3__["default"]("scene-layer-adapter:not-supported","filter is not supported");return this._hasCachedStatistics(t?.name)?Promise.reject(new _core_Error_js__WEBPACK_IMPORTED_MODULE_3__["default"]("scene-layer-adapter:not-supported","Cached stats not supported")):this._getClassBreaksFromMemory(e)}queryFeatureCount(e){return this._featureLayerAdapter?this._featureLayerAdapter.queryFeatureCount(e):Promise.reject(new _core_Error_js__WEBPACK_IMPORTED_MODULE_3__["default"]("scene-layer-adapter:not-supported","SceneLayer without associated FeatureLayer does not support count query"))}generateRenderer(e,t){return this._featureLayerAdapter?this._featureLayerAdapter.generateRenderer(e,t):Promise.reject(new _core_Error_js__WEBPACK_IMPORTED_MODULE_3__["default"]("scene-layer-adapter:not-supported","SceneLayer without associated FeatureLayer does not support generateRenderer operation"))}heatmapStatistics(e){return this._featureLayerAdapter?this._featureLayerAdapter.heatmapStatistics(e):Promise.reject(new _core_Error_js__WEBPACK_IMPORTED_MODULE_3__["default"]("scene-layer-adapter:not-supported","SceneLayer without associated FeatureLayer does not support heatmapStatistics operation"))}async predominantCategories(e){if(this._featureLayerAdapter)return this._featureLayerAdapter.predominantCategories(e);throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_3__["default"]("scene-layer-adapter:not-supported","SceneLayer without associated FeatureLayer does not support predominantCategories")}async getSampleFeatures(e,t){if(e.filter)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_3__["default"]("scene-layer-adapter:not-supported","filter is not supported");const{view:s,sampleSize:o,requiredFields:n,returnGeometry:l,signal:u}=e,p=1,m="json"===t,c=this.createQuery();c.outFields=n,c.returnGeometry=!!l,c.where=null,c.num=o;let d=[];try{if(d=m?await this._fetchFeaturesJSONFromMemory(s,c,n):await this._fetchFeaturesFromMemory(s,c,n),d.length&&null!=o&&o>0&&o<=d.length)return (0,_core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_2__.pickRandom)(d,o,p)}catch(y){(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_4__.throwIfAborted)(u)}let h=null;if(this._featureLayerAdapter){const r={...e};delete r.view,h=await this._featureLayerAdapter.getSampleFeatures(r,t)}return h?.length?h:(0,_core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_2__.pickRandom)(d,d.length,p)}load(e){const t=this.layer.load(e).then((async t=>{this.workerClient=_statistics_support_WorkerClient_js__WEBPACK_IMPORTED_MODULE_14__.WorkerClient.getInstance(),await this.workerClient.open(e.signal);const r=t.associatedLayer;if(this.geometryType=t.geometryType,null!=r){this._featureLayerAdapter=new _FeatureLayerAdapter_js__WEBPACK_IMPORTED_MODULE_16__["default"]({layer:r});return this._featureLayerAdapter.load(e).then((()=>{this.objectIdField=this._featureLayerAdapter.objectIdField,this.supportsSQLExpression=this._featureLayerAdapter.supportsSQLExpression,this.minScale=this._featureLayerAdapter.minScale,this.maxScale=this._featureLayerAdapter.maxScale,this.fullExtent=this._featureLayerAdapter.fullExtent}))}this.objectIdField=t.objectIdField,this.supportsSQLExpression=!1,this.hasQueryEngine=!1,this.fullExtent=t.fullExtent}));return this.addResolvingPromise(t),Promise.resolve(this)}};function j(e,r=e.minimum,a=e.maximum,s){const i=[];for(let t=0;t<s;t++)i[t]=0;const o=e.counts.length,n=e.minimum,l=e.maximum;for(let t=0;t<o;t++){const u=(t+.5)/o,p=((1-u)*n+u*l-r)/(a-r)*s;p>=0&&p<=s&&(i[p===s?s-1:Math.floor(p)]+=e.counts[t])}const u=[];return i.forEach(((e,r)=>{const a=new _Graphic_js__WEBPACK_IMPORTED_MODULE_1__["default"]({attributes:{}});a.attributes.EXPR_1=r+1,a.attributes.countOFExpr=e,u.push(a)})),new _rest_support_FeatureSet_js__WEBPACK_IMPORTED_MODULE_12__["default"]({features:u})}(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)({readOnly:!0})],A.prototype,"adapterName",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)({constructOnly:!0})],A.prototype,"layer",void 0),A=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_9__.subclass)("esri.smartMapping.support.adapters.SceneLayerAdapter")],A);


/***/ }),

/***/ "./node_modules/@arcgis/core/smartMapping/support/adapters/StreamLayerAdapter.js":
/*!***************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/smartMapping/support/adapters/StreamLayerAdapter.js ***!
  \***************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ c)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_RandomLCG_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../core/RandomLCG.js */ "./node_modules/@arcgis/core/core/RandomLCG.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _layers_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../layers/support/fieldUtils.js */ "./node_modules/@arcgis/core/layers/support/fieldUtils.js");
/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../utils.js */ "./node_modules/@arcgis/core/smartMapping/support/utils.js");
/* harmony import */ var _InMemoryLayerAdapter_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./InMemoryLayerAdapter.js */ "./node_modules/@arcgis/core/smartMapping/support/adapters/InMemoryLayerAdapter.js");
/* harmony import */ var _support_utils_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./support/utils.js */ "./node_modules/@arcgis/core/smartMapping/support/adapters/support/utils.js");
/* harmony import */ var _statistics_utils_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../statistics/utils.js */ "./node_modules/@arcgis/core/statistics/utils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
let c=class extends _InMemoryLayerAdapter_js__WEBPACK_IMPORTED_MODULE_8__["default"]{constructor(){super(...arguments),this.adapterName="stream-layer-adapter"}async _summaryStatsFromClientQuery(t,r){const{signal:s,view:a}=t,c=(0,_support_utils_js__WEBPACK_IMPORTED_MODULE_9__.getSummaryStatsQuery)(this,t,r);c.outStatistics=c.outStatistics?.filter((t=>"totalcount_value"!==t.outStatisticFieldName));const u=await this._fetchFeatureSetFromMemory(c,a,s),l=(0,_support_utils_js__WEBPACK_IMPORTED_MODULE_9__.getSummaryStatisticsFromFeatureSet)(u,(0,_utils_js__WEBPACK_IMPORTED_MODULE_7__.isAnyDateField)(r)||(0,_layers_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_6__.isTimeOnlyField)(r));return (0,_statistics_utils_js__WEBPACK_IMPORTED_MODULE_10__.processSummaryStatisticsResult)(l,t.outStatisticTypes)}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_1__.property)({readOnly:!0})],c.prototype,"adapterName",void 0),c=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_5__.subclass)("esri.smartMapping.support.adapters.StreamLayerAdapter")],c);


/***/ }),

/***/ "./node_modules/@arcgis/core/smartMapping/support/adapters/support/histogramUtils.js":
/*!*******************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/smartMapping/support/adapters/support/histogramUtils.js ***!
  \*******************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   binParamsFromGenRend: () => (/* binding */ M),
/* harmony export */   formatHistogramBinValue: () => (/* binding */ D),
/* harmony export */   getAttributeBinsQuery: () => (/* binding */ b),
/* harmony export */   getDataRange: () => (/* binding */ E),
/* harmony export */   getHistogramAttributeDefinition: () => (/* binding */ S),
/* harmony export */   getQueryParamsForExpr: () => (/* binding */ I),
/* harmony export */   processQueryAttributeBinsResult: () => (/* binding */ P)
/* harmony export */ });
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _intl_date_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../intl/date.js */ "./node_modules/@arcgis/core/intl/date.js");
/* harmony import */ var _layers_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../layers/support/fieldUtils.js */ "./node_modules/@arcgis/core/layers/support/fieldUtils.js");
/* harmony import */ var _rest_support_AttributeBinsQuery_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../rest/support/AttributeBinsQuery.js */ "./node_modules/@arcgis/core/rest/support/AttributeBinsQuery.js");
/* harmony import */ var _rest_support_AutoIntervalBinParameters_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../rest/support/AutoIntervalBinParameters.js */ "./node_modules/@arcgis/core/rest/support/AutoIntervalBinParameters.js");
/* harmony import */ var _rest_support_DateBinParameters_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../rest/support/DateBinParameters.js */ "./node_modules/@arcgis/core/rest/support/DateBinParameters.js");
/* harmony import */ var _rest_support_FixedBoundariesBinParameters_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../rest/support/FixedBoundariesBinParameters.js */ "./node_modules/@arcgis/core/rest/support/FixedBoundariesBinParameters.js");
/* harmony import */ var _rest_support_FixedIntervalBinParameters_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../rest/support/FixedIntervalBinParameters.js */ "./node_modules/@arcgis/core/rest/support/FixedIntervalBinParameters.js");
/* harmony import */ var _rest_support_GenerateRendererParameters_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../rest/support/GenerateRendererParameters.js */ "./node_modules/@arcgis/core/rest/support/GenerateRendererParameters.js");
/* harmony import */ var _rest_support_StatisticDefinition_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../rest/support/StatisticDefinition.js */ "./node_modules/@arcgis/core/rest/support/StatisticDefinition.js");
/* harmony import */ var _statistics_support_utils_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../statistics/support/utils.js */ "./node_modules/@arcgis/core/smartMapping/statistics/support/utils.js");
/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../utils.js */ "./node_modules/@arcgis/core/smartMapping/support/utils.js");
/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./utils.js */ "./node_modules/@arcgis/core/smartMapping/support/adapters/support/utils.js");
/* harmony import */ var _statistics_utils_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../../statistics/utils.js */ "./node_modules/@arcgis/core/statistics/utils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
const V="countOFExpr",j="lowerBoundary",q="upperBoundary";function I(i,e,t){const a=i.valueExpression||i.sqlExpression,r=i.signal;if(!a){const{field:a,normalizationType:o,normalizationField:l}=i,s=a?e.getField(a):null,u=(0,_utils_js__WEBPACK_IMPORTED_MODULE_11__.isAnyDateField)(s)||(0,_layers_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_2__.isTimeOnlyField)(s),m={field:a,normalizationType:o,normalizationField:l,normalizationTotal:t,layer:e};return{sqlExpression:u?(0,_utils_js__WEBPACK_IMPORTED_MODULE_12__.getSQLExpressionForDateOrTimeField)(e,s):(0,_utils_js__WEBPACK_IMPORTED_MODULE_12__.getFieldExpr)(m),sqlWhere:u?null:i.sqlWhere||(0,_statistics_support_utils_js__WEBPACK_IMPORTED_MODULE_10__.getSQLFilterForNormalization)({field:a,normalizationType:o,normalizationField:l}),filter:i.filter,signal:r}}return{valueExpression:i.valueExpression,sqlExpression:i.sqlExpression,sqlWhere:i.sqlWhere,filter:i.filter,signal:r}}async function M(i,e,n){const{field:t,normalizationType:a,normalizationField:r,signal:o}=i,l=(0,_statistics_support_utils_js__WEBPACK_IMPORTED_MODULE_10__.getSQLFilterForNormalization)({field:t,normalizationType:a,normalizationField:r}),s=new _rest_support_GenerateRendererParameters_js__WEBPACK_IMPORTED_MODULE_8__["default"]({classificationDefinition:(0,_statistics_utils_js__WEBPACK_IMPORTED_MODULE_13__.createClassBreaksDefinition)({field:t,normalizationType:a,normalizationField:r,classificationMethod:i.classificationMethod,standardDeviationInterval:i.standardDeviationInterval,definedInterval:i.definedInterval,breakCount:i.numBins||_utils_js__WEBPACK_IMPORTED_MODULE_12__.defaultNumBins}),where:(0,_statistics_support_utils_js__WEBPACK_IMPORTED_MODULE_10__.mergeWhereClauses)(l,n)});return e.generateRenderer(s,o).then((i=>{const{normalizationTotal:n,classBreaks:o}=i;return (0,_utils_js__WEBPACK_IMPORTED_MODULE_12__.generateBinParams)({field:t,normalizationType:a,normalizationField:r,normalizationTotal:n,classBreaks:o,where:l,layer:e})}))}async function g(e,t,a,o,d){const{field:p,sqlExpression:f,normalizationField:c,classificationMethod:z,normalizationType:v}=e,w=p?t.getField(p):null,h=(0,_layers_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_2__.isTimeOnlyField)(w),F=(0,_layers_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_2__.isDateOnlyField)(w)||h,B=e.numBins||_utils_js__WEBPACK_IMPORTED_MODULE_12__.defaultNumBins;if(F){if(v||z)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"](`${t.adapterName}:not-supported`,"NormalizationType and classificationMethod are not supported for date-only and time-only fields");const e=(o-a)/B/1e3,n=e/86400;return new _rest_support_DateBinParameters_js__WEBPACK_IMPORTED_MODULE_5__["default"]({field:p,expression:f,interval:{unit:h?"seconds":"days",value:Math.ceil(h?e:n)},start:a,end:o})}if("defined-interval"===z)return new _rest_support_FixedIntervalBinParameters_js__WEBPACK_IMPORTED_MODULE_7__["default"]({field:p,expression:f,normalizationField:c,normalizationTotal:d,normalizationType:v,interval:e.definedInterval??Math.ceil((o-a)/B),start:v?null:a,end:v?null:o,normalizationMinValue:v?a:null,normalizationMaxValue:v?o:null});if("manual"===z)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"](`${t.adapterName}:not-supported`,"Layer does not support manual classificationMethod");if("natural-breaks"===z||"quantile"===z||"standard-deviation"===z){const n=(0,_utils_js__WEBPACK_IMPORTED_MODULE_12__.getFieldExpr)({field:p,normalizationField:c,normalizationTotal:d,normalizationType:v,layer:t}),r=null!==e.minValue&&null!==e.maxValue?(0,_statistics_support_utils_js__WEBPACK_IMPORTED_MODULE_10__.getRangeExpr)(n,e.minValue,e.maxValue):void 0,o=await M(e,t,r);if(!o.intervals)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"](`${t.adapterName}:invalid`,"Invalid intervals returned from generate renderer");const l=[a,...o.intervals.map((i=>i[1]))];return new _rest_support_FixedBoundariesBinParameters_js__WEBPACK_IMPORTED_MODULE_6__["default"]({field:v?null:p,expression:v?n:f,boundaries:l})}return new _rest_support_AutoIntervalBinParameters_js__WEBPACK_IMPORTED_MODULE_4__["default"]({field:p,normalizationField:c,normalizationTotal:d,normalizationType:v,expression:f,numBins:B,start:v?null:a,end:v?null:o,normalizationMinValue:v?a:null,normalizationMaxValue:v?o:null})}function E(i,e,n,t){return null!=n&&null!=t?Promise.resolve({min:n,max:t}):e.summaryStatistics({...i,outStatisticTypes:{include:["min","max"]}}).then((i=>({min:i.min,max:i.max})))}async function b(i,n,r,l){const{field:s,minValue:u,maxValue:m,filter:d,view:f}=i,y=s?n.getField(s):null,z=(0,_layers_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_2__.isDateField)(y)||(0,_layers_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_2__.isTimestampOffsetField)(y),v=I(i,n,r),{min:x,max:T}=await E(v,n,u,m);if(null==x||null==T)return{query:null,min:x,max:T};const h=new _rest_support_StatisticDefinition_js__WEBPACK_IMPORTED_MODULE_9__["default"]({statisticType:"count",outStatisticFieldName:V,onStatisticField:"1"}),F=(0,_statistics_support_utils_js__WEBPACK_IMPORTED_MODULE_10__.mergeWhereClauses)(l,v.sqlWhere),B="lowerBoundary",j="upperBoundary",q=new _rest_support_AttributeBinsQuery_js__WEBPACK_IMPORTED_MODULE_3__["default"]({binParameters:await g(i,n,x,T,r),outStatistics:[h],binOrder:i.sortOrder,where:F,lowerBoundaryAlias:B,upperBoundaryAlias:j,outTimeZone:f?.timeZone&&z?(0,_intl_date_js__WEBPACK_IMPORTED_MODULE_1__.resolveTimeZone)(f.timeZone):null});return (0,_utils_js__WEBPACK_IMPORTED_MODULE_12__.updateQueryWithFeatureFilter)(q,d),{query:q,min:x,max:T}}function D(i,e=!1){if("string"!=typeof i)return i;return(e?new Date(`1970-01-01T${i}Z`):new Date(i)).getTime()}function P(i,e,t){const a=(0,_layers_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_2__.isTimeOnlyField)(e);return{...t,bins:i.features.map((i=>({minValue:D(i.attributes[j],a),maxValue:D(i.attributes[q],a),count:i.attributes[V]})))}}function S(i,e,n){const{valueExpression:t,view:a}=i,{featuresJSON:r,graphics:o,fieldInfos:l}=e,s={field:i.field,valueExpression:t,normalizationType:i.normalizationType,normalizationField:i.normalizationField,normalizationTotal:n,minValue:i.minValue,maxValue:i.maxValue,standardDeviationInterval:i.standardDeviationInterval,classificationMethod:i.classificationMethod,numBins:i.numBins};return t&&a&&(r||o)&&(s.viewInfoParams=(0,_utils_js__WEBPACK_IMPORTED_MODULE_12__.getViewInfoParams)(a),s.timeZone=a.timeZone,s.fieldInfos=l),s}


/***/ }),

/***/ "./node_modules/@arcgis/core/smartMapping/support/adapters/support/layerUtils.js":
/*!***************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/smartMapping/support/adapters/support/layerUtils.js ***!
  \***************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   LayerType: () => (/* binding */ l),
/* harmony export */   binningCapableLayerTypes: () => (/* binding */ d),
/* harmony export */   createLayerAdapter: () => (/* binding */ i),
/* harmony export */   defaultSupportedLayerTypes: () => (/* binding */ n),
/* harmony export */   featureCapableLayerTypes: () => (/* binding */ S),
/* harmony export */   getLayerTypeLabels: () => (/* binding */ b),
/* harmony export */   getLayerTypes: () => (/* binding */ m)
/* harmony export */ });
/* harmony import */ var _CSVLayerAdapter_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../CSVLayerAdapter.js */ "./node_modules/@arcgis/core/smartMapping/support/adapters/CSVLayerAdapter.js");
/* harmony import */ var _FeatureLayerAdapter_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../FeatureLayerAdapter.js */ "./node_modules/@arcgis/core/smartMapping/support/adapters/FeatureLayerAdapter.js");
/* harmony import */ var _FeatureLayerBinningAdapter_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../FeatureLayerBinningAdapter.js */ "./node_modules/@arcgis/core/smartMapping/support/adapters/FeatureLayerBinningAdapter.js");
/* harmony import */ var _InMemoryLayerAdapter_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../InMemoryLayerAdapter.js */ "./node_modules/@arcgis/core/smartMapping/support/adapters/InMemoryLayerAdapter.js");
/* harmony import */ var _LayerAdapter_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../LayerAdapter.js */ "./node_modules/@arcgis/core/smartMapping/support/adapters/LayerAdapter.js");
/* harmony import */ var _PointCloudLayerAdapter_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../PointCloudLayerAdapter.js */ "./node_modules/@arcgis/core/smartMapping/support/adapters/PointCloudLayerAdapter.js");
/* harmony import */ var _SceneLayerAdapter_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../SceneLayerAdapter.js */ "./node_modules/@arcgis/core/smartMapping/support/adapters/SceneLayerAdapter.js");
/* harmony import */ var _StreamLayerAdapter_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../StreamLayerAdapter.js */ "./node_modules/@arcgis/core/smartMapping/support/adapters/StreamLayerAdapter.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
var l;!function(e){e[e.CatalogLayer=0]="CatalogLayer",e[e.CatalogFootprintLayer=1]="CatalogFootprintLayer",e[e.CSVLayer=2]="CSVLayer",e[e.FeatureLayer=3]="FeatureLayer",e[e.GeoJSONLayer=4]="GeoJSONLayer",e[e.ImageryLayer=5]="ImageryLayer",e[e.KnowledgeGraphSublayer=6]="KnowledgeGraphSublayer",e[e.OGCFeatureLayer=7]="OGCFeatureLayer",e[e.OrientedImageryLayer=8]="OrientedImageryLayer",e[e.ParquetLayer=9]="ParquetLayer",e[e.PointCloudLayer=10]="PointCloudLayer",e[e.SceneLayer=11]="SceneLayer",e[e.StreamLayer=12]="StreamLayer",e[e.SubtypeGroupLayer=13]="SubtypeGroupLayer",e[e.SubtypeSublayer=14]="SubtypeSublayer",e[e.WFSLayer=15]="WFSLayer"}(l||(l={}));const u={[l.CatalogLayer]:{adapter:_FeatureLayerAdapter_js__WEBPACK_IMPORTED_MODULE_1__["default"],type:"catalog",label:"CatalogLayer"},[l.CatalogFootprintLayer]:{adapter:_FeatureLayerAdapter_js__WEBPACK_IMPORTED_MODULE_1__["default"],type:"catalog-footprint",label:"CatalogFootprintLayer"},[l.CSVLayer]:{adapter:_CSVLayerAdapter_js__WEBPACK_IMPORTED_MODULE_0__["default"],type:"csv",label:"CSVLayer"},[l.FeatureLayer]:{adapter:_FeatureLayerAdapter_js__WEBPACK_IMPORTED_MODULE_1__["default"],type:"feature",label:"FeatureLayer"},[l.ImageryLayer]:{adapter:_FeatureLayerAdapter_js__WEBPACK_IMPORTED_MODULE_1__["default"],type:"imagery",label:"ImageryLayer"},[l.GeoJSONLayer]:{adapter:_FeatureLayerAdapter_js__WEBPACK_IMPORTED_MODULE_1__["default"],type:"geojson",label:"GeoJSONLayer"},[l.KnowledgeGraphSublayer]:{adapter:_FeatureLayerAdapter_js__WEBPACK_IMPORTED_MODULE_1__["default"],type:"knowledge-graph-sublayer",label:"KnowledgeGraphSublayer"},[l.OGCFeatureLayer]:{adapter:_InMemoryLayerAdapter_js__WEBPACK_IMPORTED_MODULE_3__["default"],type:"ogc-feature",label:"OGCFeatureLayer"},[l.OrientedImageryLayer]:{adapter:_FeatureLayerAdapter_js__WEBPACK_IMPORTED_MODULE_1__["default"],type:"oriented-imagery",label:"OrientedImageryLayer"},[l.ParquetLayer]:{adapter:_FeatureLayerAdapter_js__WEBPACK_IMPORTED_MODULE_1__["default"],type:"parquet",label:"ParquetLayer"},[l.PointCloudLayer]:{adapter:_PointCloudLayerAdapter_js__WEBPACK_IMPORTED_MODULE_5__["default"],type:"point-cloud",label:"PointCloudLayer"},[l.SceneLayer]:{adapter:_SceneLayerAdapter_js__WEBPACK_IMPORTED_MODULE_6__["default"],type:"scene",label:"SceneLayer"},[l.StreamLayer]:{adapter:_StreamLayerAdapter_js__WEBPACK_IMPORTED_MODULE_7__["default"],type:"stream",label:"StreamLayer"},[l.SubtypeGroupLayer]:{adapter:_FeatureLayerAdapter_js__WEBPACK_IMPORTED_MODULE_1__["default"],type:"subtype-group",label:"SubtypeGroupLayer"},[l.SubtypeSublayer]:{adapter:_FeatureLayerAdapter_js__WEBPACK_IMPORTED_MODULE_1__["default"],type:"subtype-sublayer",label:"SubtypeSublayer"},[l.WFSLayer]:{adapter:_FeatureLayerAdapter_js__WEBPACK_IMPORTED_MODULE_1__["default"],type:"wfs",label:"WFSLayer"}},n=[l.CatalogLayer,l.CatalogFootprintLayer,l.CSVLayer,l.FeatureLayer,l.GeoJSONLayer,l.KnowledgeGraphSublayer,l.OGCFeatureLayer,l.OrientedImageryLayer,l.ParquetLayer,l.PointCloudLayer,l.SceneLayer,l.StreamLayer,l.SubtypeGroupLayer,l.SubtypeSublayer,l.WFSLayer],S=[l.CatalogFootprintLayer,l.CSVLayer,l.FeatureLayer,l.GeoJSONLayer,l.KnowledgeGraphSublayer,l.OGCFeatureLayer,l.OrientedImageryLayer,l.ParquetLayer,l.SceneLayer,l.StreamLayer,l.SubtypeGroupLayer,l.SubtypeSublayer,l.WFSLayer],d=[l.CSVLayer,l.FeatureLayer,l.GeoJSONLayer,l.OGCFeatureLayer,l.KnowledgeGraphSublayer,l.OrientedImageryLayer,l.ParquetLayer,l.StreamLayer,l.WFSLayer];function b(e){return e.map((e=>u[e].label))}function m(e){return e.map((e=>u[e].type))}function i(e,a=n,t){if(e instanceof _LayerAdapter_js__WEBPACK_IMPORTED_MODULE_4__["default"])return e;const L=g(e,a);return L?t?new _FeatureLayerBinningAdapter_js__WEBPACK_IMPORTED_MODULE_2__["default"]({layer:e}):new L({layer:e}):null}function g(e,a=n){let r=null;return a.some((a=>{const t=e.type===u[a].type;return t&&(r=u[a].adapter),t})),r}


/***/ }),

/***/ "./node_modules/@arcgis/core/smartMapping/support/adapters/support/utils.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/smartMapping/support/adapters/support/utils.js ***!
  \**********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   defaultNumBins: () => (/* binding */ S),
/* harmony export */   ensureFeaturesJSON: () => (/* binding */ T),
/* harmony export */   generateBinParams: () => (/* binding */ C),
/* harmony export */   getAggregateFieldType: () => (/* binding */ W),
/* harmony export */   getBins: () => (/* binding */ Z),
/* harmony export */   getDomainsForFields: () => (/* binding */ I),
/* harmony export */   getFeatureReductionFields: () => (/* binding */ P),
/* harmony export */   getFieldExpr: () => (/* binding */ j),
/* harmony export */   getHistogramFromFeatureSet: () => (/* binding */ O),
/* harmony export */   getMissingFields: () => (/* binding */ z),
/* harmony export */   getMissingFieldsForBinning: () => (/* binding */ V),
/* harmony export */   getPredominantCategoriesFromUVInfos: () => (/* binding */ Q),
/* harmony export */   getSQLExpressionForDateOrTimeField: () => (/* binding */ _),
/* harmony export */   getSummaryStatisticsFromFeatureSet: () => (/* binding */ $),
/* harmony export */   getSummaryStatsQuery: () => (/* binding */ k),
/* harmony export */   getUVQuery: () => (/* binding */ H),
/* harmony export */   getUniqueValuesFromFeatureSet: () => (/* binding */ L),
/* harmony export */   getViewInfoParams: () => (/* binding */ B),
/* harmony export */   msForTimeOnlyFieldSQL: () => (/* binding */ M),
/* harmony export */   msSinceUnixEpochSQL: () => (/* binding */ N),
/* harmony export */   updateQueryWithFeatureFilter: () => (/* binding */ A)
/* harmony export */ });
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _layers_support_CodedValue_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../layers/support/CodedValue.js */ "./node_modules/@arcgis/core/layers/support/CodedValue.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _layers_support_CodedValueDomain_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../layers/support/CodedValueDomain.js */ "./node_modules/@arcgis/core/layers/support/CodedValueDomain.js");
/* harmony import */ var _layers_support_Domain_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../layers/support/Domain.js */ "./node_modules/@arcgis/core/layers/support/Domain.js");
/* harmony import */ var _layers_support_InheritedDomain_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../layers/support/InheritedDomain.js */ "./node_modules/@arcgis/core/layers/support/InheritedDomain.js");
/* harmony import */ var _layers_support_RangeDomain_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../layers/support/RangeDomain.js */ "./node_modules/@arcgis/core/layers/support/RangeDomain.js");
/* harmony import */ var _layers_support_Field_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../layers/support/Field.js */ "./node_modules/@arcgis/core/layers/support/Field.js");
/* harmony import */ var _layers_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../layers/support/fieldUtils.js */ "./node_modules/@arcgis/core/layers/support/fieldUtils.js");
/* harmony import */ var _rest_support_StatisticDefinition_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../rest/support/StatisticDefinition.js */ "./node_modules/@arcgis/core/rest/support/StatisticDefinition.js");
/* harmony import */ var _statistics_support_predominanceUtils_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../statistics/support/predominanceUtils.js */ "./node_modules/@arcgis/core/smartMapping/statistics/support/predominanceUtils.js");
/* harmony import */ var _statistics_support_utils_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../statistics/support/utils.js */ "./node_modules/@arcgis/core/smartMapping/statistics/support/utils.js");
/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../utils.js */ "./node_modules/@arcgis/core/smartMapping/support/utils.js");
/* harmony import */ var _statistics_utils_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../../statistics/utils.js */ "./node_modules/@arcgis/core/statistics/utils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
const F=/_value$/i,w=Math.LOG10E,E={SECOND:1e3,MINUTE:6e4,HOUR:36e5},S=10;function T(e){return e.map((e=>e.toJSON()))}function V(e,t){const n=[],l=e.layer,i="featureReduction"in l?l.featureReduction:null,o="binning"===i?.type,a=null!=i&&"fields"in i?i.fields?.map((e=>e.name?.toLowerCase())).filter(Boolean):[];if(!o||!t)return n;for(const r of t)a.includes(r.toLowerCase())||n.push(r);return n}function z(e,t,n){const l=[];if(t)for(const i of t){const t=e.getField(i);t&&n&&"availableFields"in n&&!n.availableFields?.includes(t.name)&&l.push(t.name)}return l}function $(e,t){const n=e&&e.features;if(0===n?.length)return{avg:null,count:0,max:null,median:null,min:null,nullcount:0,stddev:null,sum:null,variance:null};const l=n?.[0]?.attributes,i={};for(const o in l)i[o.replace(F,"").toLowerCase()]=l[o];return null!=i.totalcount&&i.totalcount>=i.count&&(i.nullcount=i.totalcount-i.count),delete i.totalcount,i.min===i.max&&null!=i.min&&null==i.stddev&&(i.stddev=i.variance=0),t&&(["min","max","avg","stddev","sum","variance"].forEach((e=>{null!=i[e]&&(i[e]=Math.ceil(i[e]))})),i.min===i.max&&null!=i.min&&(i.avg=i.min,i.stddev=i.variance=0)),i}function C(e){const t=[],n=e.classBreaks,l=n[0].minValue,i=n[n.length-1].maxValue;n.forEach((e=>{t.push([e.minValue,e.maxValue])}));const o={field:e.field,normalizationType:e.normalizationType,normalizationField:e.normalizationField,normalizationTotal:e.normalizationTotal,layer:e.layer};return{min:l,max:i,intervals:t,sqlExpr:j(o),excludeZerosExpr:e.where,normTotal:e.normalizationTotal}}function j(e){const{field:t,normalizationType:n,normalizationField:l,normalizationTotal:i,layer:o}=e,a=(0,_utils_js__WEBPACK_IMPORTED_MODULE_13__.isIntegerField)(o,t);let r=t;return"percent-of-total"===n?r=`((${a?(0,_utils_js__WEBPACK_IMPORTED_MODULE_13__.castIntegerFieldToFloat)(t):t} / ${i}) * 100)`:"log"===n?r=`(log(${t}) * ${w})`:"field"===n?r=`(${a?(0,_utils_js__WEBPACK_IMPORTED_MODULE_13__.castIntegerFieldToFloat)(t):t} / ${l})`:"natural-log"===n?r=`(log(${a?(0,_utils_js__WEBPACK_IMPORTED_MODULE_13__.castIntegerFieldToFloat)(t):t}))`:"square-root"===n&&(r=`(power(${a?(0,_utils_js__WEBPACK_IMPORTED_MODULE_13__.castIntegerFieldToFloat)(t):t}, 0.5))`),r}function q(e,t){let n;if(t=t.toLowerCase(),e)for(const l in e)if(l.toLowerCase()!==t){n=e[l];break}return n}function b(e,t){let n;if(t=t.toLowerCase(),e)for(const l in e)if(l.toLowerCase()===t){n=e[l];break}return n}function O(e,t,n,l,i){const o={},a="countOFExpr";e&&e.features&&e.features.forEach((e=>{const t=e.attributes,n=q(t,a),l=b(t,a);null!=n&&null!=l&&0!==n&&(o[n]=l)}));const r=[];return (0,_statistics_utils_js__WEBPACK_IMPORTED_MODULE_14__.getEqualIntervalBins)(t,n,l).forEach(((e,t)=>{const n=(t+1).toString();r.push({minValue:e[0],maxValue:e[1],count:o.hasOwnProperty(n)?o[n]:0})})),{bins:r,minValue:t,maxValue:n,normalizationTotal:i}}async function L(e,n){const l=e&&e.features,{field:i,field2:o,field3:a,fieldDelimiter:r,layer:s,view:u,signal:c,labels:m}=n,f=`countOF${!(!i||!o)?"Expr":i||"Expr"}`,p={};let d=!1;for(const t of l){const e=t.attributes,n=b(e,f);let l=i?b(e,i):q(e,f),s=o?b(e,o):null,u=a?b(e,a):null;null===l&&0===n&&(d=!0),(null==l||"string"==typeof l&&""===l.trim())&&(l=null),o&&(null==s||"string"==typeof s&&""===s.trim())&&(s=null),a&&(null==u||"string"==typeof u&&""===u.trim())&&(u=null);let c=l;o&&(c=`${(0,_statistics_utils_js__WEBPACK_IMPORTED_MODULE_14__.processNullValue)(c)}${r}${(0,_statistics_utils_js__WEBPACK_IMPORTED_MODULE_14__.processNullValue)(s)}`,a&&(c=`${c}${r}${(0,_statistics_utils_js__WEBPACK_IMPORTED_MODULE_14__.processNullValue)(u)}`)),null==p[c]?p[c]={count:n,data:c}:p[c].count=p[c].count+n}if(i&&d){const e=i+" is NULL";try{const t=await s.queryFeatureCount({whereClause:e,view:u,signal:c});return p.null.count=p.null.count+t,R(p,m)}catch{return (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_1__.throwIfAborted)(c),R(p,m)}}return R(p,m)}function R(e,t){if(t)for(const n in e)e[n].label=t[n];return{count:e}}async function D(e,t,i){const o=e?i.getField(e):null,a=o?i.getFieldDomain(o.name):null;if(a)return a;const{uniqueValueInfos:r}=await i.uniqueValues({field:e,sqlWhere:t.sqlWhere,features:t.features,useFeaturesInView:t.useFeaturesInView,view:t.view,signal:t.signal}),s=r.map((e=>new _layers_support_CodedValue_js__WEBPACK_IMPORTED_MODULE_2__.CodedValue({code:e.value})));return new _layers_support_CodedValueDomain_js__WEBPACK_IMPORTED_MODULE_4__["default"]({codedValues:s})}async function I(e,t){if(!e.returnAllCodedValues)return[];const{field:n,field2:l,field3:i}=e;if(n&&!l){const e=n?t.getField(n):null,l=e?t.getFieldDomain(e.name):null;return l?[l]:[]}const o=[];return n&&(o.push(D(n,e,t)),l&&(o.push(D(l,e,t)),i&&o.push(D(i,e,t)))),Promise.all(o)}function N(e,t){return (0,_utils_js__WEBPACK_IMPORTED_MODULE_13__.getDateDiffSQL)(e,new Date(0),t,"milliseconds").sqlExpression}function U(e,t){return`EXTRACT(${t} FROM ${e}) * ${E[t]}`}function M(e){if(!e)return null;return (0,_utils_js__WEBPACK_IMPORTED_MODULE_13__.castIntegerFieldToFloat)(["HOUR","MINUTE","SECOND"].map((t=>`(${U(e,t)})`)).join(" + "))}function B(e){return{viewingMode:"2d"===e.type?"map":e.viewingMode,scale:e.scale,spatialReference:e.spatialReference?.toJSON()}}function Q(e,t){const n=new Set(e.map((e=>e.value))),l=t.filter((e=>!n.has(e)));for(const i of l)e.push({value:i,count:0});e.sort(((e,n)=>t.indexOf(e.value)-t.indexOf(n.value)));for(const i of e)i.value===_statistics_support_predominanceUtils_js__WEBPACK_IMPORTED_MODULE_11__.noDominantCategoryField&&(i.value=null);return{predominantCategoryInfos:e}}function P(t){const n="featureReduction"in t?t.featureReduction:null;return((null!=n&&"fields"in n?n.fields:null)??[]).map((e=>{const n=W(e,t.fieldsIndex);return n?new _layers_support_Field_js__WEBPACK_IMPORTED_MODULE_8__["default"]({type:n,name:e.name,alias:e.alias}):null})).filter(_core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_0__.isSome)}function W(e,t){switch(e.statisticType){case"avg":case"avg_angle":return"double";case"count":return"integer";case"min":case"max":case"sum":return e.onStatisticField?t.get(e.onStatisticField)?.type??null:e.onStatisticExpression?"string"===e.onStatisticExpression.returnType?null:"double":null;case"mode":return e.onStatisticField?t.get(e.onStatisticField)?.type??null:e.onStatisticExpression?"string"===e.onStatisticExpression.returnType?"string":"double":null;default:return null}}function _(e,t){return (0,_utils_js__WEBPACK_IMPORTED_MODULE_13__.isAnyDateField)(t)?N(e,t?.name):(0,_layers_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_9__.isTimeOnlyField)(t)?M(t?.name):null}function k(e,t,n,l=!0){const{field:i,normalizationType:a,normalizationField:s,normalizationTotal:f,minValue:p,maxValue:d,filter:y}=t,v=e.supportsSQLExpression?_(e,n)||t.sqlExpression:null,h=j({field:i,normalizationType:a,normalizationField:s,normalizationTotal:f,layer:e}),F=v||h,w=F?(0,_statistics_support_utils_js__WEBPACK_IMPORTED_MODULE_12__.getRangeExpr)(F,p,d):null,E=(0,_statistics_support_utils_js__WEBPACK_IMPORTED_MODULE_12__.getSQLFilterForNormalization)({field:i,normalizationField:s,normalizationType:a}),S=(0,_statistics_support_utils_js__WEBPACK_IMPORTED_MODULE_12__.mergeWhereClauses)(t.sqlWhere,E),T=(0,_statistics_support_utils_js__WEBPACK_IMPORTED_MODULE_12__.mergeWhereClauses)(S,w),V=(0,_statistics_utils_js__WEBPACK_IMPORTED_MODULE_14__.isNullCountSupported)({normalizationField:s,normalizationType:a,sqlExpression:v,supportsSQLExpression:e.supportsSQLExpression,minValue:p,maxValue:d}),z=(0,_layers_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_9__.isStringField)(e.getField(i??void 0)),{include:$,exclude:C}=t.outStatisticTypes||{},q=_statistics_utils_js__WEBPACK_IMPORTED_MODULE_14__.statisticTypes.filter((e=>(!$||$.includes(e))&&(!C||!C.includes(e))&&("nullcount"===e?V:!z||"count"===e)&&("median"!==e||l))),b=e.createQuery();return b.where=(0,_statistics_support_utils_js__WEBPACK_IMPORTED_MODULE_12__.mergeWhereClauses)(b.where,T),b.sqlFormat=v?"standard":null,b.outStatistics=q.map((t=>{const n=new _rest_support_StatisticDefinition_js__WEBPACK_IMPORTED_MODULE_10__["default"];let l=null,i=null,o=`${t}_value`;if("variance"===t)l="var",i=F;else if("nullcount"===t){const t=e.objectIdField;l="count",i=t&&e.getField(t)?t:"1",o="totalcount_value"}else"median"===t?(l="percentile-continuous",i=F,n.statisticParameters={value:.5}):(l=t,i=F);return n.statisticType=l,n.onStatisticField=i,n.outStatisticFieldName=o,n})),A(b,y),b}function A(e,t){t&&(e.geometry=t.geometry,e.spatialRelationship=t.spatialRelationship)}function H(e,t){const{field:n,field2:l,field3:i,sqlExpression:o}=t,a=!(!n||!l),r=e.createQuery();return r.where=(0,_statistics_support_utils_js__WEBPACK_IMPORTED_MODULE_12__.mergeWhereClauses)(r.where,t.sqlWhere),r.sqlFormat=o?"standard":null,r.outStatistics=[J(a?null:n,a?"1":o)].filter(Boolean),r.groupByFieldsForStatistics=[n||o,l,i].filter(Boolean),A(r,t.filter),r}function J(e,t){const n="countOF"+(e||"Expr"),l=new _rest_support_StatisticDefinition_js__WEBPACK_IMPORTED_MODULE_10__["default"];return l.statisticType="count",l.onStatisticField=t?"1":e,l.outStatisticFieldName=n,l}function Z(e,t,n,l=S,i,o,a){const{min:r,max:s,normTotal:u,excludeZerosExpr:c}=t,m=t.intervals||(0,_statistics_utils_js__WEBPACK_IMPORTED_MODULE_14__.getEqualIntervalBins)(r,s,l),f=t.sqlExpr||n;return G(e,m,f,c,i,o,a).then((e=>({bins:e.map(((e,t)=>({minValue:m[t][0],maxValue:m[t][1],count:"fulfilled"===e.status?e.value:0}))),minValue:r,maxValue:s,normalizationTotal:u})))}function G(e,t,n,l,i,o,a){const r=[],s=t.length;for(let u=0;u<s;u++){const e=(0,_statistics_support_utils_js__WEBPACK_IMPORTED_MODULE_12__.mergeWhereClauses)(l,(0,_statistics_support_utils_js__WEBPACK_IMPORTED_MODULE_12__.mergeWhereClauses)(n+" >= "+t[u][0],null!==t[u][1]?n+(u===s-1?" <= ":" < ")+t[u][1]:""));r.push(e)}return Promise.allSettled(r.map((t=>e.queryFeatureCount({whereClause:t,view:i,filter:o,signal:a}))))}


/***/ }),

/***/ "./node_modules/@arcgis/core/smartMapping/support/binningUtils.js":
/*!************************************************************************!*\
  !*** ./node_modules/@arcgis/core/smartMapping/support/binningUtils.js ***!
  \************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   aggregateCountField: () => (/* binding */ e),
/* harmony export */   verifyBinningParams: () => (/* binding */ i)
/* harmony export */ });
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
const e="aggregateCount";function i(e,i){if(!e.view)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"](`${i}:missing-parameters`,"'view' parameter is required for binning");if(e.sqlExpression)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"](`${i}:invalid-parameters`,"'sqlExpression' parameter is not supported for binning");if("3d"===e.view.type)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"](`${i}:invalid-parameters`,"3d view is not supported for binning")}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/viewpointUtils.js":
/*!**************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/viewpointUtils.js ***!
  \**************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   addPadding: () => (/* binding */ gt),
/* harmony export */   angleBetween: () => (/* binding */ pt),
/* harmony export */   centerAt: () => (/* binding */ xt),
/* harmony export */   copy: () => (/* binding */ Z),
/* harmony export */   create: () => (/* binding */ Y),
/* harmony export */   extentToScale: () => (/* binding */ H),
/* harmony export */   getAnchor: () => (/* binding */ $),
/* harmony export */   getExtent: () => (/* binding */ _),
/* harmony export */   getMatrix: () => (/* binding */ ut),
/* harmony export */   getPaddingMapTranslation: () => (/* binding */ nt),
/* harmony export */   getPaddingScreenTranslation: () => (/* binding */ rt),
/* harmony export */   getResolution: () => (/* binding */ ot),
/* harmony export */   getResolutionToScaleFactor: () => (/* binding */ ct),
/* harmony export */   getScaleToResolutionFactor: () => (/* binding */ at),
/* harmony export */   getTransform: () => (/* binding */ lt),
/* harmony export */   getTransformNoRotation: () => (/* binding */ ft),
/* harmony export */   getWorldScreenWidth: () => (/* binding */ yt),
/* harmony export */   getWorldWidth: () => (/* binding */ mt),
/* harmony export */   padAndScaleAndRotateBy: () => (/* binding */ Rt),
/* harmony export */   resize: () => (/* binding */ ht),
/* harmony export */   rotateBy: () => (/* binding */ bt),
/* harmony export */   rotateTo: () => (/* binding */ wt),
/* harmony export */   scaleAndRotateBy: () => (/* binding */ Gt),
/* harmony export */   scaleTo: () => (/* binding */ jt),
/* harmony export */   setExtent: () => (/* binding */ tt),
/* harmony export */   toMap: () => (/* binding */ At),
/* harmony export */   toScreen: () => (/* binding */ St),
/* harmony export */   translateBy: () => (/* binding */ kt)
/* harmony export */ });
/* harmony import */ var _Viewpoint_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../Viewpoint.js */ "./node_modules/@arcgis/core/Viewpoint.js");
/* harmony import */ var _core_Collection_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/Collection.js */ "./node_modules/@arcgis/core/core/Collection.js");
/* harmony import */ var _core_mathUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/mathUtils.js */ "./node_modules/@arcgis/core/core/mathUtils.js");
/* harmony import */ var _core_unitUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../core/unitUtils.js */ "./node_modules/@arcgis/core/core/unitUtils.js");
/* harmony import */ var _core_libs_gl_matrix_2_math_common_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../core/libs/gl-matrix-2/math/common.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/math/common.js");
/* harmony import */ var _core_libs_gl_matrix_2_math_mat2d_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../core/libs/gl-matrix-2/math/mat2d.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/math/mat2d.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_mat2df64_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../core/libs/gl-matrix-2/factories/mat2df64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/mat2df64.js");
/* harmony import */ var _core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../core/libs/gl-matrix-2/math/vec2.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/math/vec2.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_vec2f64_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../core/libs/gl-matrix-2/factories/vec2f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/vec2f64.js");
/* harmony import */ var _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../geometry/Extent.js */ "./node_modules/@arcgis/core/geometry/Extent.js");
/* harmony import */ var _geometry_Geometry_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../geometry/Geometry.js */ "./node_modules/@arcgis/core/geometry/Geometry.js");
/* harmony import */ var _geometry_Point_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../geometry/Point.js */ "./node_modules/@arcgis/core/geometry/Point.js");
/* harmony import */ var _geometry_projectionUtils_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../geometry/projectionUtils.js */ "./node_modules/@arcgis/core/geometry/projectionUtils.js");
/* harmony import */ var _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../geometry/SpatialReference.js */ "./node_modules/@arcgis/core/geometry/SpatialReference.js");
/* harmony import */ var _geometry_support_normalizeUtils_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../geometry/support/normalizeUtils.js */ "./node_modules/@arcgis/core/geometry/support/normalizeUtils.js");
/* harmony import */ var _geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../geometry/support/spatialReferenceUtils.js */ "./node_modules/@arcgis/core/geometry/support/spatialReferenceUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
const O=96,Q=39.37,T=180/Math.PI;function B(t){return t.wkid?t:t.spatialReference||_geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_13__["default"].WGS84}function D(t,e){return e.type?(0,_core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_7__.set)(t,e.x,e.y):(0,_core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_7__.copy)(t,e)}function W(t){return (0,_core_unitUtils_js__WEBPACK_IMPORTED_MODULE_3__.getMetersPerUnitForSR)(t)}function H(t,e,n=0){let o=t.width,a=t.height;if(0!==n){const e=(0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_2__.deg2rad)(n),i=Math.abs(Math.cos(e)),c=Math.abs(Math.sin(e));o=t.width*i+t.height*c,a=t.width*c+t.height*i}const i=Math.max(1,e[0]),c=Math.max(1,e[1]);return Math.max(o/i,a/c)*ct(t.spatialReference)}async function J(t,r,n,o){let a,i;if(!t)return null;if(Array.isArray(t)&&!t.length)return null;if(_core_Collection_js__WEBPACK_IMPORTED_MODULE_1__["default"].isCollection(t)&&(t=t.toArray()),Array.isArray(t)&&t.length&&"object"==typeof t[0]){const e=t.every((t=>"attributes"in t)),a=t.some((t=>!t.geometry));let i=t;if(e&&a&&r&&r.allLayerViews){const e=new Map;for(const r of t){const t=r.layer,n=e.get(t)||[],o=r.attributes[t.objectIdField];null!=o&&n.push(o),e.set(t,n)}const n=[];e.forEach(((t,e)=>{const o=r.allLayerViews?.find((t=>t.layer.id===e.id));if(o&&"queryFeatures"in o){const r=e.createQuery();r.objectIds=t,r.returnGeometry=!0,n.push(o.queryFeatures(r))}}));const o=await Promise.all(n),a=[];for(const t of o)if(t&&t.features&&t.features.length)for(const e of t.features)null!=e.geometry&&a.push(e.geometry);i=a}for(const t of i)o=await J(t,r,n,o);return o}if(Array.isArray(t)&&2===t.length&&"number"==typeof t[0]&&"number"==typeof t[1])a=new _geometry_Point_js__WEBPACK_IMPORTED_MODULE_11__["default"](t);else if(t instanceof _geometry_Geometry_js__WEBPACK_IMPORTED_MODULE_10__["default"])a=t;else if("geometry"in t)if(t.geometry)a=t.geometry;else if(t.layer){const e=t.layer,n=r.allLayerViews?.find((t=>t.layer.id===e.id));if(n&&"queryFeatures"in n){const r=e.createQuery();r.objectIds=[t.attributes[e.objectIdField]],r.returnGeometry=!0;const o=await n.queryFeatures(r);a=o?.features?.[0]?.geometry}}if(null==a)return null;switch(a.type){case"point":i=new _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_9__["default"]({xmin:a.x,ymin:a.y,xmax:a.x,ymax:a.y,spatialReference:a.spatialReference});break;case"extent":case"multipoint":case"polygon":case"polyline":i=(0,_geometry_support_normalizeUtils_js__WEBPACK_IMPORTED_MODULE_14__.getDenormalizedExtent)(a);break;default:i=a.extent}if(!i)return null;(0,_geometry_projectionUtils_js__WEBPACK_IMPORTED_MODULE_12__.isLoaded)()||(0,_geometry_projectionUtils_js__WEBPACK_IMPORTED_MODULE_12__.canProjectWithoutEngine)(i.spatialReference,n)||await (0,_geometry_projectionUtils_js__WEBPACK_IMPORTED_MODULE_12__.load)();const c=(0,_geometry_projectionUtils_js__WEBPACK_IMPORTED_MODULE_12__.project)(i,n);if(!c)return null;if(o){const t=c.center,e=t.clone();e.x=(0,_geometry_support_normalizeUtils_js__WEBPACK_IMPORTED_MODULE_14__.getClosestDenormalizedXToReference)(t.x,o.center.x,n),e.x!==t.x&&c.centerAt(e),o=o.union(c)}else o=c;return o}function K(t){if(t&&(!Array.isArray(t)||"number"!=typeof t[0])&&("object"==typeof t||Array.isArray(t)&&"object"==typeof t[0])){if("layer"in t&&null!=t.layer?.minScale&&null!=t.layer.maxScale){const e=t.layer;return{min:e.minScale,max:e.maxScale}}if(Array.isArray(t)&&t.length&&t.every((t=>"layer"in t))){let e=0,r=0;for(const n of t){const t=n.layer;t?.minScale&&t.maxScale&&(e=t.minScale<e?t.minScale:e,r=t.maxScale>r?t.maxScale:r)}return e&&r?{min:e,max:r}:null}}}function X(t,e){const r=B(t);return (0,_geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_15__.equals)(r,e)||r.imageCoordinateSystem||e.imageCoordinateSystem?t:(0,_geometry_projectionUtils_js__WEBPACK_IMPORTED_MODULE_12__.project)(t,e)}async function Y(e,r){if(!e||!r)return new _Viewpoint_js__WEBPACK_IMPORTED_MODULE_0__["default"]({targetGeometry:new _geometry_Point_js__WEBPACK_IMPORTED_MODULE_11__["default"],scale:0,rotation:0});let n=r.spatialReference;const{constraints:o,padding:a,viewpoint:i,size:c}=r,s=[a?c[0]-a.left-a.right:c[0],a?c[1]-a.top-a.bottom:c[1]];let u=null;e instanceof _Viewpoint_js__WEBPACK_IMPORTED_MODULE_0__["default"]?u=e:e.viewpoint?u=e.viewpoint:e.target&&"esri.Viewpoint"===e.target.declaredClass&&(u=e.target);let l=null;u?.targetGeometry?l=u.targetGeometry:e instanceof _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_9__["default"]?l=e:e instanceof _geometry_Geometry_js__WEBPACK_IMPORTED_MODULE_10__["default"]?l=await J(e,r,n):e&&(l=await J(e.center,r,n)||await J(e.target,r,n)||await J(e,r,n)),!l&&i?.targetGeometry?l=i.targetGeometry:!l&&r.extent&&(l=r.extent),n||(n=B(r.spatialReference||r.extent||l)),(0,_geometry_projectionUtils_js__WEBPACK_IMPORTED_MODULE_12__.isLoaded)()||(0,_geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_15__.equals)(l.spatialReference,n)||(0,_geometry_projectionUtils_js__WEBPACK_IMPORTED_MODULE_12__.canProjectWithoutEngine)(l.spatialReference,n)||await (0,_geometry_projectionUtils_js__WEBPACK_IMPORTED_MODULE_12__.load)();const f=X(l,n),m="center"in f?f.center:f;!1!==r.pickClosestTarget&&"point"===m.type&&"point"===i.targetGeometry?.type&&(m.x=(0,_geometry_support_normalizeUtils_js__WEBPACK_IMPORTED_MODULE_14__.getClosestDenormalizedXToReference)(m.x,i.targetGeometry.x,m.spatialReference));let y=0;u?y=u.rotation:e.hasOwnProperty("rotation")?y=e.rotation:i&&(y=i.rotation);let p=0;p=null!=u?.targetGeometry&&"point"===u.targetGeometry.type?u.scale:"scale"in e&&e.scale?e.scale:"zoom"in e&&-1!==e.zoom&&o&&o.effectiveLODs?o.zoomToScale(e.zoom):Array.isArray(l)||"point"===l.type||"extent"===l.type&&0===l.width&&0===l.height?i.scale:H(X(l.extent,n),s,y);const g=K(e.target??e);g&&(g.min&&g.min<p?p=g.min:g.max&&g.max>p&&(p=g.max));let x=new _Viewpoint_js__WEBPACK_IMPORTED_MODULE_0__["default"]({targetGeometry:m,scale:p,rotation:y});return o&&(x=o.fit(x),o.constrainByGeometry(x),o.rotationEnabled||(x.rotation=i.rotation)),x}function Z(t,e){const r=t.targetGeometry,n=e.targetGeometry;return r.x=n.x,r.y=n.y,r.spatialReference=n.spatialReference,t.scale=e.scale,t.rotation=e.rotation,t}function $(t,e,r){return r?(0,_core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_7__.set)(t,.5*(e[0]-r.right+r.left),.5*(e[1]-r.bottom+r.top)):(0,_core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_7__.scale)(t,e,.5)}const _=function(){const t=(0,_core_libs_gl_matrix_2_factories_vec2f64_js__WEBPACK_IMPORTED_MODULE_8__.create)();return function(e,r,n){const o=r.targetGeometry;D(t,o);const a=.5*ot(r);return e.xmin=t[0]-a*n[0],e.ymin=t[1]-a*n[1],e.xmax=t[0]+a*n[0],e.ymax=t[1]+a*n[1],e.spatialReference=o.spatialReference,e}}();function tt(t,e,r,n,o){return xt(t,e,r.center),t.scale=H(r,n),o?.constraints?.constrain(t),t}function et(t,e,r,n){return lt(t,e,r,n),(0,_core_libs_gl_matrix_2_math_mat2d_js__WEBPACK_IMPORTED_MODULE_5__.invert)(t,t)}const rt=function(){const t=(0,_core_libs_gl_matrix_2_factories_vec2f64_js__WEBPACK_IMPORTED_MODULE_8__.create)();return function(e,r,n){return (0,_core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_7__.sub)(e,st(e,r),$(t,r,n))}}(),nt=function(){const t=(0,_core_libs_gl_matrix_2_factories_mat2df64_js__WEBPACK_IMPORTED_MODULE_6__.create)(),e=(0,_core_libs_gl_matrix_2_factories_vec2f64_js__WEBPACK_IMPORTED_MODULE_8__.create)();return function(r,n,o,a){const c=ot(n),l=it(n);return (0,_core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_7__.set)(e,c,c),(0,_core_libs_gl_matrix_2_math_mat2d_js__WEBPACK_IMPORTED_MODULE_5__.fromScaling)(t,e),(0,_core_libs_gl_matrix_2_math_mat2d_js__WEBPACK_IMPORTED_MODULE_5__.rotate)(t,t,l),(0,_core_libs_gl_matrix_2_math_mat2d_js__WEBPACK_IMPORTED_MODULE_5__.translate)(t,t,rt(e,o,a)),(0,_core_libs_gl_matrix_2_math_mat2d_js__WEBPACK_IMPORTED_MODULE_5__.translate)(t,t,[0,a.top-a.bottom]),(0,_core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_7__.set)(r,t[4],t[5])}}();function ot(t){return t.scale*at(t.targetGeometry?.spatialReference)}function at(t){return (0,_geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_15__.isValid)(t)?1/(W(t)*Q*O):1}function it(t){return (0,_core_libs_gl_matrix_2_math_common_js__WEBPACK_IMPORTED_MODULE_4__.toRadian)(t.rotation)||0}function ct(t){return (0,_geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_15__.isValid)(t)?W(t)*Q*O:1}function st(t,e){return (0,_core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_7__.scale)(t,e,.5)}const ut=function(){const t=(0,_core_libs_gl_matrix_2_factories_vec2f64_js__WEBPACK_IMPORTED_MODULE_8__.create)(),e=(0,_core_libs_gl_matrix_2_factories_vec2f64_js__WEBPACK_IMPORTED_MODULE_8__.create)(),r=(0,_core_libs_gl_matrix_2_factories_vec2f64_js__WEBPACK_IMPORTED_MODULE_8__.create)();return function(n,o,u,l,f,m){return (0,_core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_7__.negate)(t,o),(0,_core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_7__.scale)(e,u,.5*m),(0,_core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_7__.set)(r,1/l*m,-1/l*m),(0,_core_libs_gl_matrix_2_math_mat2d_js__WEBPACK_IMPORTED_MODULE_5__.fromTranslation)(n,e),f&&(0,_core_libs_gl_matrix_2_math_mat2d_js__WEBPACK_IMPORTED_MODULE_5__.rotate)(n,n,f),(0,_core_libs_gl_matrix_2_math_mat2d_js__WEBPACK_IMPORTED_MODULE_5__.scale)(n,n,r),(0,_core_libs_gl_matrix_2_math_mat2d_js__WEBPACK_IMPORTED_MODULE_5__.translate)(n,n,t),n}}(),lt=function(){const t=(0,_core_libs_gl_matrix_2_factories_vec2f64_js__WEBPACK_IMPORTED_MODULE_8__.create)();return function(e,r,n,o){const a=ot(r),i=it(r);return D(t,r.targetGeometry),ut(e,t,n,a,i,o)}}(),ft=function(){const t=(0,_core_libs_gl_matrix_2_factories_vec2f64_js__WEBPACK_IMPORTED_MODULE_8__.create)();return function(e,r,n,o){const a=ot(r);return D(t,r.targetGeometry),ut(e,t,n,a,0,o)}}();function mt(t){const e=(0,_geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_15__.getInfo)(t);return e?e.valid[1]-e.valid[0]:0}function yt(t,e){return Math.round(mt(t)/e)}const pt=function(){const t=(0,_core_libs_gl_matrix_2_factories_vec2f64_js__WEBPACK_IMPORTED_MODULE_8__.create)(),e=(0,_core_libs_gl_matrix_2_factories_vec2f64_js__WEBPACK_IMPORTED_MODULE_8__.create)(),r=[0,0,0];return function(n,o,a){(0,_core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_7__.subtract)(t,n,o),(0,_core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_7__.normalize)(t,t),(0,_core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_7__.subtract)(e,n,a),(0,_core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_7__.normalize)(e,e),(0,_core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_7__.cross)(r,t,e);let i=Math.acos((0,_core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_7__.dot)(t,e)/((0,_core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_7__.length)(t)*(0,_core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_7__.length)(e)))*T;return r[2]<0&&(i=-i),isNaN(i)&&(i=0),i}}(),gt=function(){const t=(0,_core_libs_gl_matrix_2_factories_vec2f64_js__WEBPACK_IMPORTED_MODULE_8__.create)();return function(e,r,n,o){const a=e.targetGeometry;return Z(e,r),nt(t,r,n,o),a.x+=t[0],a.y+=t[1],e}}(),xt=function(t,e,r){Z(t,e);const n=t.targetGeometry;return n.x=r.x,n.y=r.y,n.spatialReference=r.spatialReference,t},ht=function(){const t=(0,_core_libs_gl_matrix_2_factories_vec2f64_js__WEBPACK_IMPORTED_MODULE_8__.create)();return function(e,r,n,o,a){a||(a="center"),(0,_core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_7__.sub)(t,n,o),(0,_core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_7__.scale)(t,t,.5);const i=t[0],c=t[1];switch(a){case"center":(0,_core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_7__.set)(t,0,0);break;case"left":(0,_core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_7__.set)(t,-i,0);break;case"top":(0,_core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_7__.set)(t,0,c);break;case"right":(0,_core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_7__.set)(t,i,0);break;case"bottom":(0,_core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_7__.set)(t,0,-c);break;case"top-left":(0,_core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_7__.set)(t,-i,c);break;case"bottom-left":(0,_core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_7__.set)(t,-i,-c);break;case"top-right":(0,_core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_7__.set)(t,i,c);break;case"bottom-right":(0,_core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_7__.set)(t,i,-c)}return kt(e,r,t),e}}();function bt(t,e,r){return Z(t,e),t.rotation+=r,t}function wt(t,e,r){return Z(t,e),t.rotation=r,t}const dt=function(){const t=(0,_core_libs_gl_matrix_2_factories_vec2f64_js__WEBPACK_IMPORTED_MODULE_8__.create)();return function(e,r,n,o,a){return Z(e,r),isNaN(n)||0===n||(At(t,o,r,a),e.scale=r.scale*n,St(t,t,e,a),kt(e,e,(0,_core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_7__.set)(t,t[0]-o[0],o[1]-t[1]))),e}}();function jt(t,e,r){return Z(t,e),t.scale=r,t}const Gt=function(){const t=(0,_core_libs_gl_matrix_2_factories_vec2f64_js__WEBPACK_IMPORTED_MODULE_8__.create)();return function(e,r,n,o,a,i){return Z(e,r),isNaN(n)||0===n||(At(t,a,r,i),e.scale=r.scale*n,e.rotation+=o,St(t,t,e,i),kt(e,e,(0,_core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_7__.set)(t,t[0]-a[0],a[1]-t[1]))),e}}(),Rt=function(){const t=(0,_core_libs_gl_matrix_2_factories_vec2f64_js__WEBPACK_IMPORTED_MODULE_8__.create)(),e=(0,_core_libs_gl_matrix_2_factories_vec2f64_js__WEBPACK_IMPORTED_MODULE_8__.create)();return function(r,n,o,a,i,c,s){return rt(e,c,s),(0,_core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_7__.add)(t,i,e),a?Gt(r,n,o,a,t,c):dt(r,n,o,t,c)}}(),At=function(){const t=(0,_core_libs_gl_matrix_2_factories_mat2df64_js__WEBPACK_IMPORTED_MODULE_6__.create)();return function(e,r,n,o){return (0,_core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_7__.transformMat2d)(e,r,et(t,n,o,1))}}(),St=function(){const t=(0,_core_libs_gl_matrix_2_factories_mat2df64_js__WEBPACK_IMPORTED_MODULE_6__.create)();return function(e,r,n,o){return (0,_core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_7__.transformMat2d)(e,r,lt(t,n,o,1))}}(),kt=function(){const t=(0,_core_libs_gl_matrix_2_factories_vec2f64_js__WEBPACK_IMPORTED_MODULE_8__.create)(),e=(0,_core_libs_gl_matrix_2_factories_mat2df64_js__WEBPACK_IMPORTED_MODULE_6__.create)();return function(r,n,o){Z(r,n);const a=ot(n),i=r.targetGeometry;return (0,_core_libs_gl_matrix_2_math_mat2d_js__WEBPACK_IMPORTED_MODULE_5__.fromRotation)(e,it(n)),(0,_core_libs_gl_matrix_2_math_mat2d_js__WEBPACK_IMPORTED_MODULE_5__.scale)(e,e,(0,_core_libs_gl_matrix_2_factories_vec2f64_js__WEBPACK_IMPORTED_MODULE_8__.fromValues)(a,a)),(0,_core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_7__.transformMat2d)(t,o,e),i.x+=t[0],i.y+=t[1],r}}();


/***/ })

};

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmVuZG9ycy1ub2RlX21vZHVsZXNfYXJjZ2lzX2NvcmVfc21hcnRNYXBwaW5nX3N0YXRpc3RpY3NfdW5pcXVlVmFsdWVzX2pzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSxvQkFBb0IsY0FBYyxzQ0FBc0Msd0JBQXdCLG9CQUFvQixtREFBbUQsd0RBQXdELHFCQUFxQixlQUFlLEdBQXVFOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNKdlY7QUFDQTtBQUNBO0FBQ0E7QUFDeVEsMEJBQTBCLFFBQVEsbURBQUMsS0FBSywyQkFBMkIsSUFBSSwyQkFBMkIsTUFBTSx3QkFBd0IsV0FBVyxvRkFBb0YsU0FBUyxvQkFBb0IsMEJBQTBCLCtFQUErRSxPQUFPLFNBQVMsT0FBTyxVQUFVLEVBQUUsU0FBUyxxQ0FBcUMsOEJBQThCLE9BQU8sdURBQUMsd0JBQXdCLGdCQUFnQixNQUFNLGdDQUFnQyxhQUFhLGFBQWEsT0FBTyxhQUFhLDBCQUEwQixZQUFZLHVFQUFDLEVBQUUsdUNBQXVDLFFBQVEsdUVBQUMsRUFBRSx1Q0FBdUMsUUFBUSx5REFBQyxFQUFFLG9CQUFvQixFQUFFLE9BQU8sb0VBQUMsZ0JBQWdCLGlDQUFpQyxrQkFBa0Isa0VBQWtFLGdCQUFnQixHQUFHLGtCQUFrQiwyQkFBMkIsUUFBUSx5RUFBQyxJQUFJLE9BQU8sbUlBQW1JLHNEQUFzRCw2Q0FBNkMsTUFBTSxtQkFBbUIsR0FBRyxPQUFPLCtGQUErRiwwQ0FBMEMsU0FBdUM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ0o5cEQ7QUFDQTtBQUNBO0FBQ0E7QUFDeWUsNEJBQTRCLG1DQUFtQyw0QkFBNEIsU0FBUyxLQUFLLHlDQUF5Qyx3REFBRyx3Q0FBd0MsTUFBTSw0QkFBNEIsUUFBUSx1RUFBQyxVQUFVLFNBQVMsd0NBQXdDLGdCQUFnQixzQ0FBc0MseUVBQUMsd0NBQXdDLGdCQUFnQixzQ0FBc0Msc0JBQXNCLGdDQUFnQywwQkFBMEIscUJB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QTJCLGlGQUFpRix3RUFBQyw2QkFBNkIsR0FBRyxtQkFBbUIsMEJBQTBCLG9CQUFvQixRQUFRLG1GQUFDLEdBQUcsNkJBQTZCLCtGQUErRix3RUFBQyw2QkFBNkIsaUJBQWlCLFFBQVEsbUZBQUMsS0FBSyxtRkFBQyxHQUFHLCtCQUErQixpQkFBaUIsd0VBQUMseUNBQXlDLGlCQUFpQixRQUFRLG9GQUFDLEdBQUcseUJBQXlCLE9BQU8sbUZBQUMsbUJBQW1CLGlCQUFpQixRQUFRLG9GQUFDLEdBQUcseUJBQXlCLE9BQU8sbUZBQUMsbUJBQW1CLGlCQUFpQixRQUFRLG1GQUFDLEtBQUssb0ZBQUMsR0FBRyx1QkFBdUIsT0FBTyxpQ0FBaUMsT0FBTyxrRkFBQyxVQUFVLDJFQUFDLEtBQUssdUZBQUMsT0FBTyxtRkFBQywrQkFBK0IsR0FBb2pCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcHJlY2lzaW9uZmFybXMvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL2NvcmUvbGlicy9nbC1tYXRyaXgtMi9mYWN0b3JpZXMvbWF0MmRmNjQuanMiLCJ3ZWJwYWNrOi8vcHJlY2lzaW9uZmFybXMvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3Jlc3QvZ2VuZXJhdGVSZW5kZXJlci5qcyIsIndlYnBhY2s6Ly9wcmVjaXNpb25mYXJtcy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvcmVzdC9xdWVyeS9leGVjdXRlUXVlcnkuanMiLCJ3ZWJwYWNrOi8vcHJlY2lzaW9uZmFybXMvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3Jlc3Qvc3VwcG9ydC9BdHRyaWJ1dGVCaW5zUXVlcnkuanMiLCJ3ZWJwYWNrOi8vcHJlY2lzaW9uZmFybXMvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3Jlc3Qvc3VwcG9ydC9HZW5lcmF0ZVJlbmRlcmVyUGFyYW1ldGVycy5qcyIsIndlYnBhY2s6Ly9wcmVjaXNpb25mYXJtcy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvcmVzdC9zdXBwb3J0L1VuaXF1ZVZhbHVlRGVmaW5pdGlvbi5qcyIsIndlYnBhY2s6Ly9wcmVjaXNpb25mYXJtcy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvc21hcnRNYXBwaW5nL3N0YXRpc3RpY3Mvc3VwcG9ydC9Xb3JrZXJDbGllbnQuanMiLCJ3ZWJwYWNrOi8vcHJlY2lzaW9uZmFybXMvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3NtYXJ0TWFwcGluZy9zdGF0aXN0aWNzL3N1cHBvcnQvcHJlZG9taW5hbmNlVXRpbHMuanMiLCJ3ZWJwYWNrOi8vcHJlY2lzaW9uZmFybXMvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3NtYXJ0TWFwcGluZy9zdGF0aXN0aWNzL3N1cHBvcnQvc3RhdHNXb3JrZXIuanMiLCJ3ZWJwYWNrOi8vcHJlY2lzaW9uZmFybXMvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3NtYXJ0TWFwcGluZy9zdGF0aXN0aWNzL3VuaXF1ZVZhbHVlcy5qcyIsIndlYnBhY2s6Ly9wcmVjaXNpb25mYXJtcy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvc21hcnRNYXBwaW5nL3N1cHBvcnQvYWRhcHRlcnMvQ1NWTGF5ZXJBZGFwdGVyLmpzIiwid2VicGFjazovL3ByZWNpc2lvbmZhcm1zLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS9zbWFydE1hcHBpbmcvc3VwcG9ydC9hZGFwdGVycy9GZWF0dXJlTGF5ZXJBZGFwdGVyLmpzIiwid2VicGFjazovL3ByZWNpc2lvbmZhcm1zLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS9zbWFydE1hcHBpbmcvc3VwcG9ydC9hZGFwdGVycy9GZWF0dXJlTGF5ZXJCaW5uaW5nQWRhcHRlci5qcyIsIndlYnBhY2s6Ly9wcmVjaXNpb25mYXJtcy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvc21hcnRNYXBwaW5nL3N1cHBvcnQvYWRhcHRlcnMvSW5NZW1vcnlMYXllckFkYXB0ZXIuanMiLCJ3ZWJwYWNrOi8vcHJlY2lzaW9uZmFybXMvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3NtYXJ0TWFwcGluZy9zdXBwb3J0L2FkYXB0ZXJzL0xheWVyQWRhcHRlci5qcyIsIndlYnBhY2s6Ly9wcmVjaXNpb25mYXJtcy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvc21hcnRNYXBwaW5nL3N1cHBvcnQvYWRhcHRlcnMvUG9pbnRDbG91ZExheWVyQWRhcHRlci5qcyIsIndlYnBhY2s6Ly9wcmVjaXNpb25mYXJtcy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvc21hcnRNYXBwaW5nL3N1cHBvcnQvYWRhcHRlcnMvU2NlbmVMYXllckFkYXB0ZXIuanMiLCJ3ZWJwYWNrOi8vcHJlY2lzaW9uZmFybXMvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3NtYXJ0TWFwcGluZy9zdXBwb3J0L2FkYXB0ZXJzL1N0cmVhbUxheWVyQWRhcHRlci5qcyIsIndlYnBhY2s6Ly9wcmVjaXNpb25mYXJtcy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvc21hcnRNYXBwaW5nL3N1cHBvcnQvYWRhcHRlcnMvc3VwcG9ydC9oaXN0b2dyYW1VdGlscy5qcyIsIndlYnBhY2s6Ly9wcmVjaXNpb25mYXJtcy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvc21hcnRNYXBwaW5nL3N1cHBvcnQvYWRhcHRlcnMvc3VwcG9ydC9sYXllclV0aWxzLmpzIiwid2VicGFjazovL3ByZWNpc2lvbmZhcm1zLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS9zbWFydE1hcHBpbmcvc3VwcG9ydC9hZGFwdGVycy9zdXBwb3J0L3V0aWxzLmpzIiwid2VicGFjazovL3ByZWNpc2lvbmZhcm1zLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS9zbWFydE1hcHBpbmcvc3VwcG9ydC9iaW5uaW5nVXRpbHMuanMiLCJ3ZWJwYWNrOi8vcHJlY2lzaW9uZmFybXMvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzJkL3ZpZXdwb2ludFV0aWxzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjMzL2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5mdW5jdGlvbiBlKCl7cmV0dXJuWzEsMCwwLDEsMCwwXX1mdW5jdGlvbiB0KGUpe3JldHVybltlWzBdLGVbMV0sZVsyXSxlWzNdLGVbNF0sZVs1XV19ZnVuY3Rpb24gbihlLHQsbixyLG8sdSl7cmV0dXJuW2UsdCxuLHIsbyx1XX1jb25zdCByPWUoKSxvPU9iamVjdC5mcmVlemUoT2JqZWN0LmRlZmluZVByb3BlcnR5KHtfX3Byb3RvX186bnVsbCxJREVOVElUWTpyLGNsb25lOnQsY3JlYXRlOmUsZnJvbVZhbHVlczpufSxTeW1ib2wudG9TdHJpbmdUYWcse3ZhbHVlOlwiTW9kdWxlXCJ9KSk7ZXhwb3J0e3IgYXMgSURFTlRJVFksdCBhcyBjbG9uZSxlIGFzIGNyZWF0ZSxuIGFzIGZyb21WYWx1ZXMsbyBhcyBtfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjMzL2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnQgZSBmcm9tXCIuLi9yZXF1ZXN0LmpzXCI7aW1wb3J0e2Zyb21KU09OIGFzIHR9ZnJvbVwiLi4vcmVuZGVyZXJzL3N1cHBvcnQvanNvblV0aWxzLmpzXCI7aW1wb3J0e3BhcnNlVXJsIGFzIG59ZnJvbVwiLi91dGlscy5qc1wiO2ltcG9ydHtleGVjdXRlUXVlcnkgYXMgaX1mcm9tXCIuL3F1ZXJ5L2V4ZWN1dGVRdWVyeS5qc1wiO2ltcG9ydCBhIGZyb21cIi4vc3VwcG9ydC9RdWVyeS5qc1wiO2ltcG9ydCBzIGZyb21cIi4vc3VwcG9ydC9TdGF0aXN0aWNEZWZpbml0aW9uLmpzXCI7YXN5bmMgZnVuY3Rpb24gbCh0LGksYSxzKXtjb25zdCBsPW4odCkse3NvdXJjZTpyLGNoZWNrVmFsdWVSYW5nZTp1fT1pLHtjbGFzc2lmaWNhdGlvbkRlZmluaXRpb246Y309YSxmPXsuLi5hLnRvSlNPTigpLGY6XCJqc29uXCJ9O2xldCBtPW51bGw7aWYobT1cImNsYXNzLWJyZWFrcy1kZWZpbml0aW9uXCI9PT1jPy50eXBlP2MuY2xhc3NpZmljYXRpb25GaWVsZDpjPy5hdHRyaWJ1dGVGaWVsZCxyKXtjb25zdCBlPXtzb3VyY2U6cj8udG9KU09OKCl9O2YubGF5ZXI9SlNPTi5zdHJpbmdpZnkoZSl9Zi5jbGFzc2lmaWNhdGlvbkRlZiYmKGYuY2xhc3NpZmljYXRpb25EZWY9SlNPTi5zdHJpbmdpZnkoZi5jbGFzc2lmaWNhdGlvbkRlZikpO2xldCBwPXtxdWVyeTpmfTtzJiYocD17Li4ucywuLi5wfSk7Y29uc3QgeT17dXJsOmwucGF0aCxmaWVsZDptLGNoZWNrVmFsdWVSYW5nZTp1fSxkPWwucGF0aCtcIi9nZW5lcmF0ZVJlbmRlcmVyXCI7cmV0dXJuIGUoZCxwKS50aGVuKChlPT5vKHksZSkpKX1mdW5jdGlvbiBvKGUsdCl7Y29uc3R7ZmllbGQ6bixjaGVja1ZhbHVlUmFuZ2U6bCx1cmw6b309ZSx1PXQ/LmRhdGE7aWYoIXUpcmV0dXJuO2lmKCFsKXtjb25zdCBlPXIodSk7cmV0dXJuIFByb21pc2UucmVzb2x2ZShlKX1jb25zdCBjPW5ldyBzKHtzdGF0aXN0aWNUeXBlOlwibWluXCIsb25TdGF0aXN0aWNGaWVsZDpufSksZj1uZXcgcyh7c3RhdGlzdGljVHlwZTpcIm1heFwiLG9uU3RhdGlzdGljRmllbGQ6bn0pLG09bmV3IGEoe291dFN0YXRpc3RpY3M6W2MsZl19KTtyZXR1cm4gaShvLG0pLnRoZW4oKGU9Pntjb25zdCB0PWUuZmVhdHVyZXNbMF0uYXR0cmlidXRlcztsZXQgbj1udWxsLGk9bnVsbDtmb3IoY29uc3QgYSBpbiB0KTA9PT1hLnRvTG93ZXJDYXNlKCkuaW5kZXhPZihcIm1pblwiKT9uPXRbYV06aT10W2FdO3JldHVybiByKHUsbixpKX0pKX1mdW5jdGlvbiByKGUsbixpKXtpZihcImNsYXNzQnJlYWtzXCI9PT1lLnR5cGUpe2NvbnN0IGE9dChlKTtyZXR1cm57Y2xhc3NCcmVha3M6YS5jbGFzc0JyZWFrSW5mb3MubWFwKCgoZSx0KT0+KDA9PT10JiZudWxsIT1uJiYoZS5taW5WYWx1ZT1uKSx0PT09YS5jbGFzc0JyZWFrSW5mb3MubGVuZ3RoLTEmJm51bGwhPWkmJihlLm1heFZhbHVlPWkpLHttaW5WYWx1ZTplLm1pblZhbHVlLG1heFZhbHVlOmUubWF4VmFsdWUsbGFiZWw6ZS5sYWJlbH0pKSksbm9ybWFsaXphdGlvblRvdGFsOmEubm9ybWFsaXphdGlvblRvdGFsfX1jb25zdHt1bmlxdWVWYWx1ZUluZm9zOmF9PWU7cmV0dXJue3VuaXF1ZVZhbHVlczphPy5tYXAoKChlLHQpPT4oMD09PXQmJm51bGwhPW4mJihlLnZhbHVlPW4pLHQ9PT1hLmxlbmd0aC0xJiZudWxsIT1pJiYoZS52YWx1ZT1pKSx7Y291bnQ6ZS5jb3VudCx2YWx1ZTplLnZhbHVlLGxhYmVsOmUubGFiZWx9KSkpPz9bXX19ZXhwb3J0e2wgYXMgZ2VuZXJhdGVSZW5kZXJlcn07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4zMy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0IHQgZnJvbVwiLi4vLi4vY29yZS9FcnJvci5qc1wiO2ltcG9ydCBoYXMgZnJvbVwiLi4vLi4vY29yZS9oYXMuanNcIjtpbXBvcnR7d2hlbk9yQWJvcnQgYXMgb31mcm9tXCIuLi8uLi9jb3JlL3Byb21pc2VVdGlscy5qc1wiO2ltcG9ydHtnZXRHbGJGb3JtYXRJZCBhcyByLGdldEdsdGZGb3JtYXRJZCBhcyBlfWZyb21cIi4uLy4uL2xheWVycy9zdXBwb3J0L2luZm9Gb3IzRC5qc1wiO2ltcG9ydHtEYXRhTGF5ZXJTb3VyY2UgYXMgbn1mcm9tXCIuLi8uLi9sYXllcnMvc3VwcG9ydC9zb3VyY2UvRGF0YUxheWVyU291cmNlLmpzXCI7aW1wb3J0e2V4ZWN1dGVSYXdRdWVyeUpTT04gYXMgc31mcm9tXCIuL2V4ZWN1dGVRdWVyeUpTT04uanNcIjtpbXBvcnR7ZXhlY3V0ZVJhd1F1ZXJ5UEJGIGFzIGF9ZnJvbVwiLi9leGVjdXRlUXVlcnlQQkYuanNcIjtpbXBvcnQgaSBmcm9tXCIuLi9zdXBwb3J0L0ZlYXR1cmVTZXQuanNcIjtpbXBvcnQgdSBmcm9tXCIuLi9zdXBwb3J0L1F1ZXJ5LmpzXCI7YXN5bmMgZnVuY3Rpb24gZih0LG8scixlLG4pe3JldHVybiBtKG8sYXdhaXQgYyh0LG8scixlLG4pLHIsZSl9YXN5bmMgZnVuY3Rpb24gYyh0LG8scixlLG4pe2NvbnN0IGk9ey4uLmV9LHU9cChvLHIpLGY9bnVsbCE9by5vdXRTdGF0aXN0aWNzPy5bMF0sYz1oYXMoXCJmZWF0dXJlbGF5ZXItcGJmLXN0YXRpc3RpY3NcIiksbT0hZnx8YztsZXQgZDtpZihcInBiZlwiPT09cj8uZm9ybWF0JiZtKXRyeXtkPWF3YWl0IGEodCx1LGksbil9Y2F0Y2goeSl7aWYoXCJxdWVyeTpwYXJzaW5nLXBiZlwiIT09eS5uYW1lKXRocm93IHk7ci5mb3JtYXQ9XCJqc29uXCJ9cmV0dXJuXCJqc29uXCIhPT1yPy5mb3JtYXQmJm18fChkPWF3YWl0IHModCx1LGksbikpLGwocj8uZmllbGRzSW5kZXgsZC5maWVsZHMpLGR9ZnVuY3Rpb24gbCh0LG8pe2lmKG51bGwhPXQmJm51bGwhPW8pZm9yKGNvbnN0IHIgb2Ygbyl7Y29uc3Qgbz10LmdldChyLm5hbWUpO28mJk9iamVjdC5hc3NpZ24ocixvLnRvSlNPTigpKX19YXN5bmMgZnVuY3Rpb24gbSh0LHIsZSxuKXtjb25zdCBzPWU/LmluZm9Gb3IzRDtpZighZCh0LHMpfHxudWxsPT1zfHwhci5hc3NldE1hcHN8fCFyLmZlYXR1cmVzPy5sZW5ndGgpcmV0dXJuIGkuZnJvbUpTT04ocik7Y29uc3R7bWVzaEZlYXR1cmVTZXRGcm9tSlNPTjphfT1hd2FpdCBvKGltcG9ydChcIi4uL3N1cHBvcnQvbWVzaEZlYXR1cmVTZXQuanNcIiksbik7cmV0dXJuIGEodCxzLHIpfWZ1bmN0aW9uIHAobyxzKXtsZXQgYT11LmZyb20obyk7YS5zb3VyY2VTcGF0aWFsUmVmZXJlbmNlPWEuc291cmNlU3BhdGlhbFJlZmVyZW5jZT8/cz8uc291cmNlU3BhdGlhbFJlZmVyZW5jZT8/bnVsbCwocz8uZ2RiVmVyc2lvbnx8cz8uZHluYW1pY0RhdGFTb3VyY2UpJiYoYT1hPT09bz9hLmNsb25lKCk6YSxhLmdkYlZlcnNpb249by5nZGJWZXJzaW9ufHxzLmdkYlZlcnNpb24sYS5keW5hbWljRGF0YVNvdXJjZT1vLmR5bmFtaWNEYXRhU291cmNlP24uZnJvbShvLmR5bmFtaWNEYXRhU291cmNlKTpzLmR5bmFtaWNEYXRhU291cmNlKTtjb25zdCBpPXM/LmluZm9Gb3IzRDtpZihudWxsIT1pJiZkKG8saSkpe2E9YT09PW8/YS5jbG9uZSgpOmEsYS5mb3JtYXRPZjNET2JqZWN0cz1udWxsO2NvbnN0IG49cihpKSxzPWUoaSk7Zm9yKGNvbnN0IHQgb2YgaS5xdWVyeUZvcm1hdHMpe2lmKHQ9PT1uKXthLmZvcm1hdE9mM0RPYmplY3RzPXQ7YnJlYWt9dCE9PXN8fGEuZm9ybWF0T2YzRE9iamVjdHN8fChhLmZvcm1hdE9mM0RPYmplY3RzPXQpfWlmKCFhLmZvcm1hdE9mM0RPYmplY3RzKXRocm93IG5ldyB0KFwicXVlcnk6dW5zdXBwb3J0ZWQtM2QtcXVlcnktZm9ybWF0c1wiLFwiQ291bGQgbm90IGZpbmQgYW55IHN1cHBvcnRlZCAzRCBvYmplY3QgcXVlcnkgZm9ybWF0LiBPbmx5IHN1cHBvcnRlZCBmb3JtYXRzIGFyZSAzRF9nbGIgYW5kIDNEX2dsdGZcIik7aWYobnVsbD09YS5vdXRGaWVsZHN8fCFhLm91dEZpZWxkcy5pbmNsdWRlcyhcIipcIikpe2E9YT09PW8/YS5jbG9uZSgpOmEsbnVsbD09YS5vdXRGaWVsZHMmJihhLm91dEZpZWxkcz1bXSk7Y29uc3R7b3JpZ2luWDp0LG9yaWdpblk6cixvcmlnaW5aOmUsdHJhbnNsYXRpb25YOm4sdHJhbnNsYXRpb25ZOnMsdHJhbnNsYXRpb25aOnUsc2NhbGVYOmYsc2NhbGVZOmMsc2NhbGVaOmwscm90YXRpb25YOm0scm90YXRpb25ZOnAscm90YXRpb25aOmQscm90YXRpb25EZWc6eX09aS50cmFuc2Zvcm1GaWVsZFJvbGVzO2Eub3V0RmllbGRzLnB1c2godCxyLGUsbixzLHUsZixjLGwsbSxwLGQseSl9fXJldHVybiBhfWZ1bmN0aW9uIGQodCxvKXtyZXR1cm4gbnVsbCE9byYmITA9PT10LnJldHVybkdlb21ldHJ5JiZcInh5Rm9vdHByaW50XCIhPT10Lm11bHRpcGF0Y2hPcHRpb24mJiF0Lm91dFN0YXRpc3RpY3N9ZXhwb3J0e2YgYXMgZXhlY3V0ZVF1ZXJ5fTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjMzL2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7XyBhcyBlfWZyb21cIi4uLy4uL2NodW5rcy90c2xpYi5lczYuanNcIjtpbXBvcnQgdCBmcm9tXCIuLi8uLi9jb3JlL0Nsb25hYmxlLmpzXCI7aW1wb3J0e0pTT05NYXAgYXMgb31mcm9tXCIuLi8uLi9jb3JlL2pzb25NYXAuanNcIjtpbXBvcnQgciBmcm9tXCIuLi8uLi9jb3JlL0pTT05TdXBwb3J0LmpzXCI7aW1wb3J0IGkgZnJvbVwiLi4vLi4vY29yZS9Mb2dnZXIuanNcIjtpbXBvcnR7cHJvcGVydHkgYXMgc31mcm9tXCIuLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3Byb3BlcnR5LmpzXCI7aW1wb3J0e2Vuc3VyZVR5cGUgYXMgbn1mcm9tXCIuLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9lbnN1cmVUeXBlLmpzXCI7aW1wb3J0XCIuLi8uLi9jb3JlL2hhcy5qc1wiO2ltcG9ydFwiLi4vLi4vY29yZS9SYW5kb21MQ0cuanNcIjtpbXBvcnR7ZW51bWVyYXRpb24gYXMgYX1mcm9tXCIuLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL2VudW1lcmF0aW9uLmpzXCI7aW1wb3J0e3N1YmNsYXNzIGFzIHB9ZnJvbVwiLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9zdWJjbGFzcy5qc1wiO2ltcG9ydCBsIGZyb21cIi4uLy4uL2dlb21ldHJ5L1NwYXRpYWxSZWZlcmVuY2UuanNcIjtpbXBvcnR7ZnJvbUpTT04gYXMgbX1mcm9tXCIuLi8uLi9nZW9tZXRyeS9zdXBwb3J0L2pzb25VdGlscy5qc1wiO2ltcG9ydHtnZW9tZXRyeVR5cGVzIGFzIHV9ZnJvbVwiLi4vLi4vZ2VvbWV0cnkvc3VwcG9ydC90eXBlVXRpbHMuanNcIjtpbXBvcnR7dW5pdHNLZWJhYkRpY3QgYXMgZH1mcm9tXCIuLi8uLi9sYXllcnMvZ3JhcGhpY3MvZGF0YS9xdWVyeVV0aWxzLmpzXCI7aW1wb3J0IGMgZnJvbVwiLi9BdXRvSW50ZXJ2YWxCaW5QYXJhbWV0ZXJzLmpzXCI7aW1wb3J0IHkgZnJvbVwiLi9CaW5QYXJhbWV0ZXJzQmFzZS5qc1wiO2ltcG9ydCBqIGZyb21cIi4vRGF0ZUJpblBhcmFtZXRlcnMuanNcIjtpbXBvcnQgZiBmcm9tXCIuL0ZpeGVkQm91bmRhcmllc0JpblBhcmFtZXRlcnMuanNcIjtpbXBvcnQgaCBmcm9tXCIuL0ZpeGVkSW50ZXJ2YWxCaW5QYXJhbWV0ZXJzLmpzXCI7aW1wb3J0e3NwYXRpYWxSZWxLZWJhYkRpY3QgYXMgdn1mcm9tXCIuL3NwYXRpYWxSZWxhdGlvbnNoaXBzLmpzXCI7aW1wb3J0IHcgZnJvbVwiLi9TdGF0aXN0aWNEZWZpbml0aW9uLmpzXCI7aW1wb3J0e1QgYXMgU31mcm9tXCIuLi8uLi9jaHVua3MvVGltZUV4dGVudC5qc1wiO2ltcG9ydHtpc1RpbWVab25lVmFsaWQgYXMgZ31mcm9tXCIuLi8uLi90aW1lL3RpbWVab25lVXRpbHMuanNcIjtjb25zdCBiPW5ldyBvKHthc2M6XCJhc2NlbmRpbmdcIixkZXNjOlwiZGVzY2VuZGluZ1wifSksQj17YmFzZTp5LGtleTpcInR5cGVcIix0eXBlTWFwOntcImF1dG8taW50ZXJ2YWxcIjpjLGRhdGU6aixcImZpeGVkLWJvdW5kYXJpZXNcIjpmLFwiZml4ZWQtaW50ZXJ2YWxcIjpofX07bGV0IFI9Y2xhc3MgZXh0ZW5kcyh0LkNsb25hYmxlTWl4aW4ocikpe2NvbnN0cnVjdG9yKGUpe3N1cGVyKGUpLHRoaXMuYmluUGFyYW1ldGVycz1udWxsLHRoaXMuYmluT3JkZXI9XCJhc2NlbmRpbmdcIix0aGlzLmNhY2hlSGludD12b2lkIDAsdGhpcy5kYXR1bVRyYW5zZm9ybWF0aW9uPW51bGwsdGhpcy5kZWZhdWx0U3BhdGlhbFJlZmVyZW5jZT1udWxsLHRoaXMuZGlzdGFuY2U9dm9pZCAwLHRoaXMuZ2VvbWV0cnk9bnVsbCx0aGlzLmxvd2VyQm91bmRhcnlBbGlhcz1udWxsLHRoaXMub3V0U3BhdGlhbFJlZmVyZW5jZT1udWxsLHRoaXMub3V0U3RhdGlzdGljcz1udWxsLHRoaXMucmV0dXJuRGlzdGluY3RWYWx1ZXM9bnVsbCx0aGlzLnNwYXRpYWxSZWxhdGlvbnNoaXA9XCJpbnRlcnNlY3RzXCIsdGhpcy50aW1lRXh0ZW50PW51bGwsdGhpcy51cHBlckJvdW5kYXJ5QWxpYXM9bnVsbCx0aGlzLnVuaXRzPW51bGwsdGhpcy53aGVyZT1cIjE9MVwifXNldCBvdXRUaW1lWm9uZShlKXt0aGlzLl9zZXQoXCJvdXRUaW1lWm9uZVwiLGUpLGUmJiFnKGUpJiZpLmdldExvZ2dlcih0aGlzKS53YXJuKFwiI291dFRpbWVab25lXCIsYHRoZSBwYXJzZWQgdmFsdWUgJyR7ZX0nIG1heSBub3QgYmUgYSB2YWxpZCBJQU5BIHRpbWUgem9uZWApfX07ZShbcyh7dHlwZXM6Qixqc29uOntuYW1lOlwiYmluXCIsd3JpdGU6ITB9fSldLFIucHJvdG90eXBlLFwiYmluUGFyYW1ldGVyc1wiLHZvaWQgMCksZShbYShiKV0sUi5wcm90b3R5cGUsXCJiaW5PcmRlclwiLHZvaWQgMCksZShbcyh7dHlwZTpCb29sZWFuLGpzb246e3dyaXRlOiEwfX0pXSxSLnByb3RvdHlwZSxcImNhY2hlSGludFwiLHZvaWQgMCksZShbcyh7anNvbjp7d3JpdGU6ITB9fSldLFIucHJvdG90eXBlLFwiZGF0dW1UcmFuc2Zvcm1hdGlvblwiLHZvaWQgMCksZShbcyh7dHlwZTpsLGpzb246e25hbWU6XCJkZWZhdWx0U1JcIix3cml0ZTohMH19KV0sUi5wcm90b3R5cGUsXCJkZWZhdWx0U3BhdGlhbFJlZmVyZW5jZVwiLHZvaWQgMCksZShbcyh7dHlwZTpOdW1iZXIsanNvbjp7d3JpdGU6e292ZXJyaWRlUG9saWN5OmU9Pih7ZW5hYmxlZDplPjB9KX19fSldLFIucHJvdG90eXBlLFwiZGlzdGFuY2VcIix2b2lkIDApLGUoW3Moe3R5cGVzOnUsanNvbjp7cmVhZDptLHdyaXRlOiEwfX0pXSxSLnByb3RvdHlwZSxcImdlb21ldHJ5XCIsdm9pZCAwKSxlKFtzKHt0eXBlOlN0cmluZyxqc29uOnt3cml0ZTohMH19KV0sUi5wcm90b3R5cGUsXCJsb3dlckJvdW5kYXJ5QWxpYXNcIix2b2lkIDApLGUoW3Moe3R5cGU6bCxqc29uOntuYW1lOlwib3V0U1JcIix3cml0ZTohMH19KV0sUi5wcm90b3R5cGUsXCJvdXRTcGF0aWFsUmVmZXJlbmNlXCIsdm9pZCAwKSxlKFtzKHt0eXBlOlt3XSxqc29uOnt3cml0ZTp7ZW5hYmxlZDohMCxvdmVycmlkZVBvbGljeSgpe3JldHVybntlbmFibGVkOm51bGwhPXRoaXMub3V0U3RhdGlzdGljcyYmdGhpcy5vdXRTdGF0aXN0aWNzLmxlbmd0aD4wfX19fX0pXSxSLnByb3RvdHlwZSxcIm91dFN0YXRpc3RpY3NcIix2b2lkIDApLGUoW3Moe3ZhbHVlOm51bGwsanNvbjp7bmFtZTpcIm91dFRpbWVSZWZlcmVuY2VcIixyZWFkOntyZWFkZXI6ZT0+ZS5pYW5hVGltZVpvbmV9LHdyaXRlOnt3cml0ZXI6KGUsdCxvKT0+e2UmJih0W29dPXtpYW5hVGltZVpvbmU6ZX0pfX19fSldLFIucHJvdG90eXBlLFwib3V0VGltZVpvbmVcIixudWxsKSxlKFtzKHt0eXBlOkJvb2xlYW4sanNvbjp7d3JpdGU6ITB9fSldLFIucHJvdG90eXBlLFwicmV0dXJuRGlzdGluY3RWYWx1ZXNcIix2b2lkIDApLGUoW2Eodix7bmFtZTpcInNwYXRpYWxSZWxcIn0pXSxSLnByb3RvdHlwZSxcInNwYXRpYWxSZWxhdGlvbnNoaXBcIix2b2lkIDApLGUoW3Moe3R5cGU6Uyxqc29uOnt3cml0ZTohMH19KV0sUi5wcm90b3R5cGUsXCJ0aW1lRXh0ZW50XCIsdm9pZCAwKSxlKFtzKHt0eXBlOlN0cmluZyxqc29uOnt3cml0ZTohMH19KV0sUi5wcm90b3R5cGUsXCJ1cHBlckJvdW5kYXJ5QWxpYXNcIix2b2lkIDApLGUoW3Moe3R5cGU6U3RyaW5nLGpzb246e3JlYWQ6ZC5yZWFkLHdyaXRlOnt3cml0ZXI6ZC53cml0ZSxvdmVycmlkZVBvbGljeShlKXtyZXR1cm57ZW5hYmxlZDpudWxsIT1lJiZudWxsIT10aGlzLmRpc3RhbmNlfX19fX0pXSxSLnByb3RvdHlwZSxcInVuaXRzXCIsdm9pZCAwKSxlKFtzKHt0eXBlOlN0cmluZyxqc29uOnt3cml0ZTohMH19KV0sUi5wcm90b3R5cGUsXCJ3aGVyZVwiLHZvaWQgMCksUj1lKFtwKFwiZXNyaS5yZXN0LnN1cHBvcnQuQXR0cmlidXRlQmluc1F1ZXJ5XCIpXSxSKSxSLmZyb209bihSKTtleHBvcnR7UiBhcyBkZWZhdWx0fTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjMzL2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7XyBhcyByfWZyb21cIi4uLy4uL2NodW5rcy90c2xpYi5lczYuanNcIjtpbXBvcnQgbyBmcm9tXCIuLi8uLi9jb3JlL0pTT05TdXBwb3J0LmpzXCI7aW1wb3J0e3Byb3BlcnR5IGFzIGV9ZnJvbVwiLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9wcm9wZXJ0eS5qc1wiO2ltcG9ydFwiLi4vLi4vY29yZS9oYXMuanNcIjtpbXBvcnRcIi4uLy4uL2NvcmUvTG9nZ2VyLmpzXCI7aW1wb3J0XCIuLi8uLi9jb3JlL1JhbmRvbUxDRy5qc1wiO2ltcG9ydHtzdWJjbGFzcyBhcyBzfWZyb21cIi4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvc3ViY2xhc3MuanNcIjtsZXQgdD1jbGFzcyBleHRlbmRzIG97Y29uc3RydWN0b3Iocil7c3VwZXIociksdGhpcy5jbGFzc2lmaWNhdGlvbkRlZmluaXRpb249bnVsbCx0aGlzLndoZXJlPW51bGx9fTtyKFtlKHtqc29uOntuYW1lOlwiY2xhc3NpZmljYXRpb25EZWZcIix3cml0ZTohMH19KV0sdC5wcm90b3R5cGUsXCJjbGFzc2lmaWNhdGlvbkRlZmluaXRpb25cIix2b2lkIDApLHIoW2Uoe3R5cGU6U3RyaW5nLGpzb246e3dyaXRlOiEwfX0pXSx0LnByb3RvdHlwZSxcIndoZXJlXCIsdm9pZCAwKSx0PXIoW3MoXCJlc3JpLnJlc3Quc3VwcG9ydC5HZW5lcmF0ZVJlbmRlcmVyUGFyYW1ldGVyc1wiKV0sdCk7ZXhwb3J0e3QgYXMgZGVmYXVsdH07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4zMy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e18gYXMgdH1mcm9tXCIuLi8uLi9jaHVua3MvdHNsaWIuZXM2LmpzXCI7aW1wb3J0IGUgZnJvbVwiLi4vLi4vY29yZS9KU09OU3VwcG9ydC5qc1wiO2ltcG9ydHtwcm9wZXJ0eSBhcyBpfWZyb21cIi4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvcHJvcGVydHkuanNcIjtpbXBvcnRcIi4uLy4uL2NvcmUvaGFzLmpzXCI7aW1wb3J0XCIuLi8uLi9jb3JlL0xvZ2dlci5qc1wiO2ltcG9ydFwiLi4vLi4vY29yZS9SYW5kb21MQ0cuanNcIjtpbXBvcnR7ZW51bWVyYXRpb24gYXMgcn1mcm9tXCIuLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL2VudW1lcmF0aW9uLmpzXCI7aW1wb3J0e3N1YmNsYXNzIGFzIG99ZnJvbVwiLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9zdWJjbGFzcy5qc1wiO2xldCBzPWNsYXNzIGV4dGVuZHMgZXtjb25zdHJ1Y3Rvcih0KXtzdXBlcih0KSx0aGlzLnR5cGU9XCJ1bmlxdWUtdmFsdWUtZGVmaW5pdGlvblwiLHRoaXMuYXR0cmlidXRlRmllbGQ9bnVsbCx0aGlzLmF0dHJpYnV0ZUZpZWxkMj1udWxsLHRoaXMuYXR0cmlidXRlRmllbGQzPW51bGwsdGhpcy5maWVsZERlbGltaXRlcj1udWxsfWdldCB1bmlxdWVWYWx1ZUZpZWxkcygpe2NvbnN0IHQ9W107cmV0dXJuIHRoaXMuYXR0cmlidXRlRmllbGQmJnQucHVzaCh0aGlzLmF0dHJpYnV0ZUZpZWxkKSx0aGlzLmF0dHJpYnV0ZUZpZWxkMiYmdC5wdXNoKHRoaXMuYXR0cmlidXRlRmllbGQyKSx0aGlzLmF0dHJpYnV0ZUZpZWxkMyYmdC5wdXNoKHRoaXMuYXR0cmlidXRlRmllbGQzKSx0fX07dChbcih7dW5pcXVlVmFsdWVEZWY6XCJ1bmlxdWUtdmFsdWUtZGVmaW5pdGlvblwifSldLHMucHJvdG90eXBlLFwidHlwZVwiLHZvaWQgMCksdChbaSgpXSxzLnByb3RvdHlwZSxcImF0dHJpYnV0ZUZpZWxkXCIsdm9pZCAwKSx0KFtpKCldLHMucHJvdG90eXBlLFwiYXR0cmlidXRlRmllbGQyXCIsdm9pZCAwKSx0KFtpKCldLHMucHJvdG90eXBlLFwiYXR0cmlidXRlRmllbGQzXCIsdm9pZCAwKSx0KFtpKHtqc29uOnt3cml0ZTohMH19KV0scy5wcm90b3R5cGUsXCJmaWVsZERlbGltaXRlclwiLHZvaWQgMCksdChbaSh7anNvbjp7d3JpdGU6ITB9fSldLHMucHJvdG90eXBlLFwidW5pcXVlVmFsdWVGaWVsZHNcIixudWxsKSxzPXQoW28oXCJlc3JpLnJlc3Quc3VwcG9ydC5VbmlxdWVWYWx1ZURlZmluaXRpb25cIildLHMpO2V4cG9ydHtzIGFzIGRlZmF1bHR9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMzMvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydCB0IGZyb21cIi4uLy4uLy4uL2NvcmUvRXJyb3IuanNcIjtpbXBvcnR7b3BlbiBhcyBlfWZyb21cIi4uLy4uLy4uL2NvcmUvd29ya2Vycy93b3JrZXJzLmpzXCI7Y2xhc3Mgbntjb25zdHJ1Y3Rvcigpe3RoaXMuY29ubmVjdGlvbj1udWxsfWFzeW5jIG9wZW4odCl7dGhpcy5jb25uZWN0aW9uPWF3YWl0IGUoXCJzdGF0c1dvcmtlclwiLHtzdHJhdGVneTpcImRpc3RyaWJ1dGVkXCIsc2lnbmFsOnR9KX1kZXN0cm95KCl7dGhpcy5jb25uZWN0aW9uPy5jbG9zZSgpfXN0YXRpYyBnZXRJbnN0YW5jZSgpe3JldHVybiBuLmluc3RhbmNlfHwobi5pbnN0YW5jZT1uZXcgbiksbi5pbnN0YW5jZX1hc3luYyBzdW1tYXJ5U3RhdGlzdGljcyhlLG4pe2lmKCF0aGlzLmNvbm5lY3Rpb24pdGhyb3cgbmV3IHQoXCJ3b3JrZXItY2xpZW50OnN1bW1hcnktc3RhdGlzdGljc1wiLFwiY29ubmVjdGlvbiBpcyByZXF1aXJlZFwiKTtyZXR1cm4gdGhpcy5jb25uZWN0aW9uLmludm9rZShcInN1bW1hcnlTdGF0aXN0aWNzXCIse2F0dHJpYnV0ZTplLGZlYXR1cmVzOm59KX1hc3luYyB1bmlxdWVWYWx1ZXMoZSxuKXtpZighdGhpcy5jb25uZWN0aW9uKXRocm93IG5ldyB0KFwid29ya2VyLWNsaWVudDp1bmlxdWUtdmFsdWVzXCIsXCJjb25uZWN0aW9uIGlzIHJlcXVpcmVkXCIpO3JldHVybiB0aGlzLmNvbm5lY3Rpb24uaW52b2tlKFwidW5pcXVlVmFsdWVzXCIse2F0dHJpYnV0ZTplLGZlYXR1cmVzOm59KX1hc3luYyBjbGFzc0JyZWFrcyhlLG4pe2lmKCF0aGlzLmNvbm5lY3Rpb24pdGhyb3cgbmV3IHQoXCJ3b3JrZXItY2xpZW50OmNsYXNzLWJyZWFrc1wiLFwiY29ubmVjdGlvbiBpcyByZXF1aXJlZFwiKTtyZXR1cm4gdGhpcy5jb25uZWN0aW9uLmludm9rZShcImNsYXNzQnJlYWtzXCIse2F0dHJpYnV0ZTplLGZlYXR1cmVzOm59KX1hc3luYyBoaXN0b2dyYW0oZSxuKXtpZighdGhpcy5jb25uZWN0aW9uKXRocm93IG5ldyB0KFwid29ya2VyLWNsaWVudDpoaXN0b2dyYW1cIixcImNvbm5lY3Rpb24gaXMgcmVxdWlyZWRcIik7cmV0dXJuIHRoaXMuY29ubmVjdGlvbi5pbnZva2UoXCJoaXN0b2dyYW1cIix7YXR0cmlidXRlOmUsZmVhdHVyZXM6bn0pfWFzeW5jIGhlYXRtYXBTdGF0aXN0aWNzKGUsbil7aWYoIXRoaXMuY29ubmVjdGlvbil0aHJvdyBuZXcgdChcIndvcmtlci1jbGllbnQ6aGVhdG1hcC1zdGF0aXN0aWNzXCIsXCJjb25uZWN0aW9uIGlzIHJlcXVpcmVkXCIpO3JldHVybiB0aGlzLmNvbm5lY3Rpb24uaW52b2tlKFwiaGVhdG1hcFN0YXRpc3RpY3NcIix7YXR0cmlidXRlOmUsZmVhdHVyZXM6bn0pfX1leHBvcnR7biBhcyBXb3JrZXJDbGllbnR9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMzMvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtpc0ludGVnZXJGaWVsZCBhcyBuLGNhc3RJbnRlZ2VyRmllbGRUb0Zsb2F0IGFzIGF9ZnJvbVwiLi4vLi4vc3VwcG9ydC91dGlscy5qc1wiO2NvbnN0IGU9XCJub19kb21pbmFudF9jYXRlZ29yeVwiO2Z1bmN0aW9uIGwobil7cmV0dXJuYCgke24ubWFwKChuPT5gJHtufSA+PSAwYCkpLmpvaW4oXCIgT1IgXCIpfSlgfWZ1bmN0aW9uIHUobil7cmV0dXJue2V4cHJlc3Npb246cihuLHtyZXR1cm5GaWVsZE5hbWU6ITAsZGVmYXVsdFZhbHVlOmAnJHtlfSdgfSl9fWZ1bmN0aW9uIHIoZSxsKXtjb25zdHtyZXR1cm5GaWVsZE5hbWU6dSxkZWZhdWx0VmFsdWU6cixsYXllcjp0fT1sLGk9W107aWYodSYmcil7Y29uc3Qgbj1lLm1hcCgobj0+YCR7bn0gPD0gMGApKS5qb2luKFwiIEFORCBcIik7aS5wdXNoKGBXSEVOICR7bn0gVEhFTiAke3J9YCl9Zm9yKGNvbnN0IG8gb2YgZSl7Y29uc3QgbD1lLnJlZHVjZSgoKG4sYSk9PihvIT09YSYmbi5wdXNoKGAke299ID4gJHthfWApLG4pKSxbXSkuam9pbihcIiBBTkQgXCIpLHI9dCYmbih0LG8pLHM9dSYmYCcke299J2A/YCcke299J2A6cj9hKG8pOm87aS5wdXNoKGBXSEVOICR7bH0gVEhFTiAke3N9YCl9cmV0dXJuYENBU0UgJHtpLmpvaW4oXCIgXCIpfSBFTFNFICR7cnx8XCIwXCJ9IEVORGB9ZnVuY3Rpb24gdChuLGEpe2NvbnN0IGU9YS5qb2luKFwiICsgXCIpLHU9e3NxbEV4cHJlc3Npb246YCgke2V9KWAsc3FsV2hlcmU6bChhKX0sdD17c3FsRXhwcmVzc2lvbjpgKCggKCR7cihhLHtsYXllcjpufSl9KSAvICgke2V9KSApICogMTAwKWAsc3FsV2hlcmU6YCR7bChhKX0gQU5EICgoJHtlfSkgPiAwKWB9O3JldHVybntwcmVkb21pbmFudENhdGVnb3J5Ont2YWx1ZUV4cHJlc3Npb246cyhhKX0sc2l6ZTp7dmFsdWVFeHByZXNzaW9uOiQoYSksc3RhdGlzdGljc1F1ZXJ5OnUsaGlzdG9ncmFtUXVlcnk6dX0sb3BhY2l0eTp7dmFsdWVFeHByZXNzaW9uOlYoYSksc3RhdGlzdGljc1F1ZXJ5OnQsaGlzdG9ncmFtUXVlcnk6dH19fWZ1bmN0aW9uIGkobil7cmV0dXJuIG4mJm4ubWFwKChuPT5gJGZlYXR1cmVbXCIke259XCJdO2ApKS5qb2luKFwiXFxuXCIpK1wiXFxuXCJ8fFwiXCJ9ZnVuY3Rpb24gbyhuLGE9ITEpe2NvbnN0IGU9bi5tYXAoKG49PmBcIiR7bn1cImApKSxsPVwiXFxuICBpZih2YWx1ZSAhPSBudWxsICYmIHZhbHVlID49IDApIHtcXG4gICAgaWYgKHRvdGFsVmFsdWUgPT0gbnVsbCkgeyB0b3RhbFZhbHVlID0gMDsgfVxcbiAgICB0b3RhbFZhbHVlID0gdG90YWxWYWx1ZSArIHZhbHVlO1xcbiAgfVxcbiAgXCI7cmV0dXJuYFxcbiAgdmFyIGZpZWxkTmFtZXMgPSBbICR7ZS5qb2luKFwiLCBcIil9IF07XFxuICB2YXIgbnVtRmllbGRzID0gJHtlLmxlbmd0aH07XFxuICB2YXIgbWF4VmFsdWVGaWVsZCA9IG51bGw7XFxuICB2YXIgbWF4VmFsdWUgPSAtSW5maW5pdHk7XFxuICB2YXIgdmFsdWUsIGksIHRvdGFsVmFsdWUgPSBudWxsO1xcblxcbiAgZm9yKGkgPSAwOyBpIDwgbnVtRmllbGRzOyBpKyspIHtcXG4gICAgdmFsdWUgPSAkZmVhdHVyZVtmaWVsZE5hbWVzW2ldXTtcXG5cXG4gICAgaWYodmFsdWUgPiAwKSB7XFxuICAgICAgaWYodmFsdWUgPiBtYXhWYWx1ZSkge1xcbiAgICAgICAgbWF4VmFsdWUgPSB2YWx1ZTtcXG4gICAgICAgIG1heFZhbHVlRmllbGQgPSBmaWVsZE5hbWVzW2ldO1xcbiAgICAgIH1cXG4gICAgICBlbHNlIGlmICh2YWx1ZSA9PSBtYXhWYWx1ZSkge1xcbiAgICAgICAgbWF4VmFsdWVGaWVsZCA9IG51bGw7XFxuICAgICAgfVxcbiAgICB9XFxuICAgICR7YT9sOlwiXCJ9XFxuICB9XFxuICBgfWZ1bmN0aW9uIHMobil7Y29uc3QgYT1vKG4pO3JldHVybmBcXG4gICR7aShuKX1cXG4gICR7YX1cXG4gIHJldHVybiBtYXhWYWx1ZUZpZWxkO1xcbiAgYH1mdW5jdGlvbiBmKG4pe2NvbnN0IGE9byhuKTtyZXR1cm5gXFxuICAke2kobil9XFxuICAke2F9XFxuICByZXR1cm4gbWF4VmFsdWU7XFxuICBgfWZ1bmN0aW9uIHYobixhKXtjb25zdCBlPW0obiksbD1pKGUpLHU9bi5tYXAoKG49Pm4ubGFiZWw/YFwiJHtuLmxhYmVsfVwiYDpgXCIke24uZmllbGROYW1lfVwiYCkpLHI9ZS5tYXAoKG49PmBOdW1iZXIoJGZlYXR1cmVbXCIke259XCJdKWApKSx0PVtdO3JldHVybiBhJiZhLmZvckVhY2goKChuLGEpPT57dC5wdXNoKGBmdW5jdGlvbiBnZXRWYWx1ZUZvckV4cHIke2F9KCkge1xcbiAgJHtuLmV4cHJlc3Npb259IFxcbn1gKSxyLnB1c2goYE51bWJlcihnZXRWYWx1ZUZvckV4cHIke2F9KCkpYCksdS5wdXNoKGBcIiR7bi50aXRsZXx8bi5uYW1lfVwiYCl9KSksYFxcbiAgJHtsfVxcblxcbiAgJHt0Lmxlbmd0aD90LmpvaW4oXCJcXG5cIik6XCJcIn1cXG5cXG4gIHZhciB2YWx1ZXMgPSBbICR7ci5qb2luKFwiLCBcIil9IF07XFxuICB2YXIgYWxpYXNlcyA9IFsgJHt1LmpvaW4oXCIsIFwiKX0gXTtcXG4gIHZhciBudW1WYWx1ZXMgPSAke3IubGVuZ3RofTtcXG4gIHZhciBtYXhWYWx1ZUFsaWFzID0gbnVsbDtcXG4gIHZhciBtYXhWYWx1ZSA9IC1JbmZpbml0eTtcXG4gIHZhciB2YWx1ZSwgaSwgdG90YWxWYWx1ZSA9IG51bGw7XFxuXFxuICBmb3IoaSA9IDA7IGkgPCBudW1WYWx1ZXM7IGkrKykge1xcbiAgICB2YWx1ZSA9IHZhbHVlc1tpXTtcXG5cXG4gICAgaWYodmFsdWUgPiAwKSB7XFxuICAgICAgaWYodmFsdWUgPiBtYXhWYWx1ZSkge1xcbiAgICAgICAgbWF4VmFsdWUgPSB2YWx1ZTtcXG4gICAgICAgIG1heFZhbHVlQWxpYXMgPSBhbGlhc2VzW2ldO1xcbiAgICAgIH1cXG4gICAgICBlbHNlIGlmICh2YWx1ZSA9PSBtYXhWYWx1ZSkge1xcbiAgICAgICAgbWF4VmFsdWVBbGlhcyA9IFwiVGllXCI7XFxuICAgICAgfVxcbiAgICB9XFxuICB9XFxuICByZXR1cm4gbWF4VmFsdWVBbGlhcztcXG4gIGB9ZnVuY3Rpb24gbShuKXtyZXR1cm4gbi5maWx0ZXIoKCh7ZmllbGROYW1lOm59KT0+ISFuKSkubWFwKChuPT5uLmZpZWxkTmFtZSkpfWZ1bmN0aW9uIHAobil7cmV0dXJuYFxcbiAgJHtpKG4pfVxcbiAgdmFyIGZpZWxkVmFsdWVzID0gWyAke24ubWFwKChuPT5gJGZlYXR1cmVbXCIke259XCJdYCkpLmpvaW4oXCIsIFwiKX0gXTtcXG4gIHZhciB0b3RhbFZhbHVlID0gU3VtKGZpZWxkVmFsdWVzKTtcXG4gIHZhciBvcmRlciA9IFJldmVyc2UoU29ydChmaWVsZFZhbHVlcykpO1xcbiAgcmV0dXJuIElJRih0b3RhbFZhbHVlID4gMCwgUm91bmQoKChvcmRlclswXSAtIG9yZGVyWzFdKSAvIHRvdGFsVmFsdWUpICogMTAwLCAyKSwgbnVsbCk7XFxuICBgfWZ1bmN0aW9uICQobil7Y29uc3QgYT1pKG4pLGU9bi5tYXAoKG49PmBcIiR7bn1cImApKTtyZXR1cm5gXFxuICAke2F9XFxuICB2YXIgZmllbGROYW1lcyA9IFsgJHtlLmpvaW4oXCIsIFwiKX0gXTtcXG4gIHZhciBudW1GaWVsZHMgPSAke2UubGVuZ3RofTtcXG4gIHZhciB2YWx1ZSwgaSwgdG90YWxWYWx1ZSA9IG51bGw7XFxuXFxuICBmb3IoaSA9IDA7IGkgPCBudW1GaWVsZHM7IGkrKykge1xcbiAgICB2YWx1ZSA9ICRmZWF0dXJlW2ZpZWxkTmFtZXNbaV1dO1xcblxcbiAgICBpZih2YWx1ZSAhPSBudWxsICYmIHZhbHVlID49IDApIHtcXG4gICAgICBpZiAodG90YWxWYWx1ZSA9PSBudWxsKSB7IHRvdGFsVmFsdWUgPSAwOyB9XFxuICAgICAgdG90YWxWYWx1ZSA9IHRvdGFsVmFsdWUgKyB2YWx1ZTtcXG4gICAgfVxcbiAgfVxcblxcbiAgcmV0dXJuIHRvdGFsVmFsdWU7XFxuICBgfWZ1bmN0aW9uIFYobil7Y29uc3QgYT1vKG4sITApO3JldHVybmBcXG4gICR7aShuKX1cXG4gICR7YX1cXG5cXG4gIHZhciBzdHJlbmd0aCA9IG51bGw7XFxuXFxuICBpZiAobWF4VmFsdWVGaWVsZCAhPSBudWxsICYmIHRvdGFsVmFsdWUgPiAwKSB7XFxuICAgIHN0cmVuZ3RoID0gKG1heFZhbHVlIC8gdG90YWxWYWx1ZSkgKiAxMDA7XFxuICB9XFxuXFxuICByZXR1cm4gc3RyZW5ndGg7XFxuICBgfWZ1bmN0aW9uIGMobixhKXtjb25zdCBlPWkobShuKSksbD1uLm1hcCgobj0+YHtcXG4gICAgdmFsdWU6IE51bWJlcigkZmVhdHVyZVtcIiR7bi5maWVsZE5hbWV9XCJdKSxcXG4gICAgYWxpYXM6IFwiJHtuLmxhYmVsfHxuLmZpZWxkTmFtZX1cIlxcbiAgICB9YCkpLHU9W107cmV0dXJuIGEmJmEuZm9yRWFjaCgoKG4sYSk9Pnt1LnB1c2goYGZ1bmN0aW9uIGdldFZhbHVlRm9yRXhwciR7YX0oKSB7XFxuICAke24uZXhwcmVzc2lvbn0gXFxufWApLGwucHVzaChge1xcbiAgICAgICAgICB2YWx1ZTogTnVtYmVyKGdldFZhbHVlRm9yRXhwciR7YX0oKSksXFxuICAgICAgICAgIGFsaWFzOiBcIiR7bi50aXRsZXx8bi5uYW1lfVwiXFxuICAgICAgICAgIH1gKX0pKSxgXFxuICAke2V9XFxuXFxuICAke3UubGVuZ3RoP3Uuam9pbihcIlxcblwiKTpcIlwifVxcblxcbiAgdmFyIGdyb3VwcyA9IFsgJHtsLmpvaW4oXCIsIFwiKX0gXTtcXG4gIHZhciBudW1Ub3BWYWx1ZXMgPSBDb3VudChncm91cHMpO1xcblxcbiAgZnVuY3Rpb24gZ2V0VmFsdWVzQXJyYXkoYXJyKXtcXG4gICAgdmFyIHZhbHVlc0FycmF5ID0gW11cXG4gICAgZm9yKHZhciBpIGluIGFycil7XFxuICAgICAgdmFsdWVzQXJyYXlbaV0gPSBhcnJbaV0udmFsdWU7XFxuICAgIH1cXG4gICAgcmV0dXJuIHZhbHVlc0FycmF5O1xcbiAgfVxcblxcbiAgZnVuY3Rpb24gZmluZEFsaWFzZXModG9wNUFycmF5LCBmdWxsQXJyYXkpe1xcbiAgICB2YXIgYWxpYXNlcyA9IFtdO1xcbiAgICB2YXIgZm91bmQgPSBcIlwiO1xcbiAgICBmb3IodmFyIGkgaW4gdG9wNUFycmF5KXtcXG4gICAgICBmb3IodmFyIGsgaW4gZnVsbEFycmF5KXtcXG4gICAgICAgIGlmKHRvcDVBcnJheVtpXSA9PSBmdWxsQXJyYXlba10udmFsdWUgJiYgRmluZChmdWxsQXJyYXlba10uYWxpYXMsIGZvdW5kKSA9PSAtMSl7XFxuICAgICAgICAgIGZvdW5kICs9IGZ1bGxBcnJheVtrXS5hbGlhcztcXG4gICAgICAgICAgYWxpYXNlc1tDb3VudChhbGlhc2VzKV0gPSB7XFxuICAgICAgICAgICAgYWxpYXM6IGZ1bGxBcnJheVtrXS5hbGlhcyxcXG4gICAgICAgICAgICB2YWx1ZTogdG9wNUFycmF5W2ldXFxuICAgICAgICAgIH07XFxuICAgICAgICB9XFxuICAgICAgfVxcbiAgICB9XFxuICAgIHJldHVybiBhbGlhc2VzO1xcbiAgfVxcblxcbiAgZnVuY3Rpb24gZ2V0VG9wR3JvdXBzKGdyb3Vwc0FycmF5KXtcXG4gICAgdmFyIHZhbHVlcyA9IGdldFZhbHVlc0FycmF5KGdyb3Vwc0FycmF5KTtcXG4gICAgdmFyIHRvcDVWYWx1ZXMgPSBJSUYoTWF4KHZhbHVlcykgPiAwLCBUb3AoUmV2ZXJzZShTb3J0KHZhbHVlcykpLG51bVRvcFZhbHVlcyksIFwibm8gZGF0YVwiKTtcXG4gICAgdmFyIHRvcDVBbGlhc2VzID0gZmluZEFsaWFzZXModG9wNVZhbHVlcyxncm91cHNBcnJheSk7XFxuXFxuICAgIGlmKFR5cGVPZih0b3A1VmFsdWVzKSA9PSBcIlN0cmluZ1wiKXtcXG4gICAgICByZXR1cm4gdG9wNVZhbHVlcztcXG4gICAgfSBlbHNlIHtcXG4gICAgICB2YXIgY29udGVudCA9IFwiXCI7XFxuICAgICAgZm9yKHZhciBpIGluIHRvcDVBbGlhc2VzKXtcXG4gICAgICAgIGlmKHRvcDVBbGlhc2VzW2ldLnZhbHVlID4gMCl7XFxuICAgICAgICAgIGNvbnRlbnQgKz0gKGkrMSkgKyBcIi4gXCIgKyB0b3A1QWxpYXNlc1tpXS5hbGlhcyArIFwiIChcIiArIFRleHQodG9wNUFsaWFzZXNbaV0udmFsdWUsIFwiIywjIyNcIikgKyBcIilcIjtcXG4gICAgICAgICAgY29udGVudCArPSBJSUYoaSA8IG51bVRvcFZhbHVlcy0xLCBUZXh0Rm9ybWF0dGluZy5OZXdMaW5lLCBcIlwiKTtcXG4gICAgICAgIH1cXG4gICAgICB9XFxuICAgIH1cXG5cXG4gICAgcmV0dXJuIGNvbnRlbnQ7XFxuICB9XFxuXFxuICBnZXRUb3BHcm91cHMoZ3JvdXBzKTtcXG4gIGB9ZXhwb3J0e20gYXMgZmllbGROYW1lc0Zyb21GaWVsZEluZm9zLGMgYXMgZ2V0QXJjYWRlRm9yT3JkZXJlZEZpZWxkcyxwIGFzIGdldEFyY2FkZUZvclByZWRvbWluYW5jZU1hcmdpbixzIGFzIGdldEFyY2FkZUZvclByZWRvbWluYW50Q2F0ZWdvcnksdiBhcyBnZXRBcmNhZGVGb3JQcmVkb21pbmFudENhdGVnb3J5QWxpYXMsZiBhcyBnZXRBcmNhZGVGb3JQcmVkb21pbmFudENhdGVnb3J5VmFsdWUsViBhcyBnZXRBcmNhZGVGb3JTdHJlbmd0aE9mUHJlZG9taW5hbmNlLCQgYXMgZ2V0QXJjYWRlRm9yU3VtT2ZGaWVsZHMsdCBhcyBnZXRQcmVkb21pbmFuY2VFeHByZXNzaW9ucyx1IGFzIGdldFNRTEZvclByZWRvbWluYW50Q2F0ZWdvcnlOYW1lLGUgYXMgbm9Eb21pbmFudENhdGVnb3J5RmllbGR9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMzMvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtnZXREYXRhVmFsdWVzIGFzIGkscXVhbnRpemVGZWF0dXJlcyBhcyBhLGNhbGN1bGF0ZUhlYXRtYXBTdGF0cyBhcyBlfWZyb21cIi4vdXRpbHMuanNcIjtpbXBvcnR7Y2FsY3VsYXRlU3RyaW5nU3RhdGlzdGljcyBhcyBuLGNhbGN1bGF0ZVN0YXRpc3RpY3MgYXMgdCxwcm9jZXNzU3VtbWFyeVN0YXRpc3RpY3NSZXN1bHQgYXMgbyxjYWxjdWxhdGVVbmlxdWVWYWx1ZXNDb3VudCBhcyBsLGNyZWF0ZVVWUmVzdWx0IGFzIHMsY2FsY3VsYXRlQ2xhc3NCcmVha3MgYXMgcixyZXNvbHZlQ0JSZXN1bHQgYXMgbSxjYWxjdWxhdGVIaXN0b2dyYW0gYXMgdSxpc051bGxDb3VudFN1cHBvcnRlZCBhcyBmfWZyb21cIi4uLy4uLy4uL3N0YXRpc3RpY3MvdXRpbHMuanNcIjthc3luYyBmdW5jdGlvbiBkKGEpe2NvbnN0e2F0dHJpYnV0ZTplLGZlYXR1cmVzOmx9PWEse25vcm1hbGl6YXRpb25UeXBlOnMsbm9ybWFsaXphdGlvbkZpZWxkOnIsbWluVmFsdWU6bSxtYXhWYWx1ZTp1LGZpZWxkVHlwZTpkLG91dFN0YXRpc3RpY1R5cGVzOnB9PWUsYz1hd2FpdCBpKHtmaWVsZDplLmZpZWxkLHZhbHVlRXhwcmVzc2lvbjplLnZhbHVlRXhwcmVzc2lvbixub3JtYWxpemF0aW9uVHlwZTpzLG5vcm1hbGl6YXRpb25GaWVsZDpyLG5vcm1hbGl6YXRpb25Ub3RhbDplLm5vcm1hbGl6YXRpb25Ub3RhbCx2aWV3SW5mb1BhcmFtczplLnZpZXdJbmZvUGFyYW1zLHRpbWVab25lOmUudGltZVpvbmUsZmllbGRJbmZvczplLmZpZWxkSW5mb3N9LGwpLHY9Zih7bm9ybWFsaXphdGlvblR5cGU6cyxub3JtYWxpemF0aW9uRmllbGQ6cixtaW5WYWx1ZTptLG1heFZhbHVlOnV9KSx6PXt2YWx1ZTouNSxmaWVsZFR5cGU6ZH0sVD1cImVzcmlGaWVsZFR5cGVTdHJpbmdcIj09PWQ/bih7dmFsdWVzOmMsc3VwcG9ydHNOdWxsQ291bnQ6dixwZXJjZW50aWxlUGFyYW1zOnosb3V0U3RhdGlzdGljVHlwZXM6cH0pOnQoe3ZhbHVlczpjLG1pblZhbHVlOm0sbWF4VmFsdWU6dSx1c2VTYW1wbGVTdGREZXY6IXMsc3VwcG9ydHNOdWxsQ291bnQ6dixwZXJjZW50aWxlUGFyYW1zOnosb3V0U3RhdGlzdGljVHlwZXM6cH0pO3JldHVybiBvKFQscCxcImVzcmlGaWVsZFR5cGVEYXRlXCI9PT1kKX1hc3luYyBmdW5jdGlvbiBwKGEpe2NvbnN0e2F0dHJpYnV0ZTplLGZlYXR1cmVzOm59PWEsdD1hd2FpdCBpKHtmaWVsZDplLmZpZWxkLGZpZWxkMjplLmZpZWxkMixmaWVsZDM6ZS5maWVsZDMsZmllbGREZWxpbWl0ZXI6ZS5maWVsZERlbGltaXRlcix2YWx1ZUV4cHJlc3Npb246ZS52YWx1ZUV4cHJlc3Npb24sdmlld0luZm9QYXJhbXM6ZS52aWV3SW5mb1BhcmFtcyx0aW1lWm9uZTplLnRpbWVab25lLGZpZWxkSW5mb3M6ZS5maWVsZEluZm9zfSxuLCExKSxvPWwodCk7cmV0dXJuIHMobyxlLmRvbWFpbnMsZS5yZXR1cm5BbGxDb2RlZFZhbHVlcyxlLmZpZWxkRGVsaW1pdGVyKX1hc3luYyBmdW5jdGlvbiBjKGEpe2NvbnN0e2F0dHJpYnV0ZTplLGZlYXR1cmVzOm59PWEse2ZpZWxkOnQsbm9ybWFsaXphdGlvblR5cGU6byxub3JtYWxpemF0aW9uRmllbGQ6bCxub3JtYWxpemF0aW9uVG90YWw6cyxjbGFzc2lmaWNhdGlvbk1ldGhvZDp1fT1lLGY9YXdhaXQgaSh7ZmllbGQ6dCx2YWx1ZUV4cHJlc3Npb246ZS52YWx1ZUV4cHJlc3Npb24sbm9ybWFsaXphdGlvblR5cGU6byxub3JtYWxpemF0aW9uRmllbGQ6bCxub3JtYWxpemF0aW9uVG90YWw6cyx2aWV3SW5mb1BhcmFtczplLnZpZXdJbmZvUGFyYW1zLHRpbWVab25lOmUudGltZVpvbmUsZmllbGRJbmZvczplLmZpZWxkSW5mb3N9LG4pLGQ9cihmLHtmaWVsZDp0LG5vcm1hbGl6YXRpb25UeXBlOm8sbm9ybWFsaXphdGlvbkZpZWxkOmwsbm9ybWFsaXphdGlvblRvdGFsOnMsY2xhc3NpZmljYXRpb25NZXRob2Q6dSxzdGFuZGFyZERldmlhdGlvbkludGVydmFsOmUuc3RhbmRhcmREZXZpYXRpb25JbnRlcnZhbCxudW1DbGFzc2VzOmUubnVtQ2xhc3NlcyxtaW5WYWx1ZTplLm1pblZhbHVlLG1heFZhbHVlOmUubWF4VmFsdWV9KTtyZXR1cm4gbShkLHUpfWFzeW5jIGZ1bmN0aW9uIHYoYSl7Y29uc3R7YXR0cmlidXRlOmUsZmVhdHVyZXM6bn09YSx7ZmllbGQ6dCxub3JtYWxpemF0aW9uVHlwZTpvLG5vcm1hbGl6YXRpb25GaWVsZDpsLG5vcm1hbGl6YXRpb25Ub3RhbDpzLGNsYXNzaWZpY2F0aW9uTWV0aG9kOnJ9PWUsbT1hd2FpdCBpKHtmaWVsZDp0LHZhbHVlRXhwcmVzc2lvbjplLnZhbHVlRXhwcmVzc2lvbixub3JtYWxpemF0aW9uVHlwZTpvLG5vcm1hbGl6YXRpb25GaWVsZDpsLG5vcm1hbGl6YXRpb25Ub3RhbDpzLHZpZXdJbmZvUGFyYW1zOmUudmlld0luZm9QYXJhbXMsdGltZVpvbmU6ZS50aW1lWm9uZSxmaWVsZEluZm9zOmUuZmllbGRJbmZvc30sbik7cmV0dXJuIHUobSx7ZmllbGQ6dCxub3JtYWxpemF0aW9uVHlwZTpvLG5vcm1hbGl6YXRpb25GaWVsZDpsLG5vcm1hbGl6YXRpb25Ub3RhbDpzLGNsYXNzaWZpY2F0aW9uTWV0aG9kOnIsc3RhbmRhcmREZXZpYXRpb25JbnRlcnZhbDplLnN0YW5kYXJkRGV2aWF0aW9uSW50ZXJ2YWwsbnVtQmluczplLm51bUJpbnMsbWluVmFsdWU6ZS5taW5WYWx1ZSxtYXhWYWx1ZTplLm1heFZhbHVlfSl9YXN5bmMgZnVuY3Rpb24geihpKXtjb25zdHthdHRyaWJ1dGU6bixmZWF0dXJlczp0fT1pLHtmaWVsZDpvLHJhZGl1czpsLHRyYW5zZm9ybTpzLHNwYXRpYWxSZWZlcmVuY2U6cn09bixtPW4uc2l6ZT8/WzAsMF0sdT1hKHQ/P1tdLHMscixtKTtyZXR1cm4gZSh1LGw/P3ZvaWQgMCxvLG1bMF0sbVsxXSl9ZXhwb3J0e2MgYXMgY2xhc3NCcmVha3MseiBhcyBoZWF0bWFwU3RhdGlzdGljcyx2IGFzIGhpc3RvZ3JhbSxkIGFzIHN1bW1hcnlTdGF0aXN0aWNzLHAgYXMgdW5pcXVlVmFsdWVzfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjMzL2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnQgZSBmcm9tXCIuLi8uLi9jb3JlL0Vycm9yLmpzXCI7aW1wb3J0e3ZlcmlmeUJhc2ljRmllbGRWYWxpZGl0eSBhcyBpLHZlcmlmeUZpbHRlclZhbGlkaXR5IGFzIHN9ZnJvbVwiLi9zdXBwb3J0L3V0aWxzLmpzXCI7aW1wb3J0e3ZlcmlmeUJpbm5pbmdQYXJhbXMgYXMgcn1mcm9tXCIuLi9zdXBwb3J0L2Jpbm5pbmdVdGlscy5qc1wiO2ltcG9ydHtnZXRGaWVsZHNMaXN0IGFzIGF9ZnJvbVwiLi4vc3VwcG9ydC91dGlscy5qc1wiO2ltcG9ydHtkZWZhdWx0U3VwcG9ydGVkTGF5ZXJUeXBlcyBhcyBuLExheWVyVHlwZSBhcyB0LGJpbm5pbmdDYXBhYmxlTGF5ZXJUeXBlcyBhcyBsLGNyZWF0ZUxheWVyQWRhcHRlciBhcyBvLGdldExheWVyVHlwZUxhYmVscyBhcyB1fWZyb21cIi4uL3N1cHBvcnQvYWRhcHRlcnMvc3VwcG9ydC9sYXllclV0aWxzLmpzXCI7YXN5bmMgZnVuY3Rpb24gcChwKXtpZighcD8ubGF5ZXJ8fCFwLmZpZWxkJiYhcC52YWx1ZUV4cHJlc3Npb24pdGhyb3cgbmV3IGUoXCJ1bmlxdWUtdmFsdWVzOm1pc3NpbmctcGFyYW1ldGVyc1wiLFwiJ2xheWVyJyBhbmQgJ2ZpZWxkJyBvciAndmFsdWVFeHByZXNzaW9uJyBwYXJhbWV0ZXJzIGFyZSByZXF1aXJlZFwiKTtjb25zdCBmPXAudmFsdWVFeHByZXNzaW9ufHxwLnNxbEV4cHJlc3Npb24sbT1mJiYhcC5zcWxFeHByZXNzaW9uO2lmKGYpaWYobSl7aWYoIXAudmlldyl0aHJvdyBuZXcgZShcInVuaXF1ZS12YWx1ZXM6bWlzc2luZy1wYXJhbWV0ZXJzXCIsXCJWaWV3IGlzIHJlcXVpcmVkIHdoZW4gJ3ZhbHVlRXhwcmVzc2lvbicgaXMgc3BlY2lmaWVkXCIpfWVsc2UgaWYoIXAudmFsdWVFeHByZXNzaW9uKXRocm93IG5ldyBlKFwidW5pcXVlLXZhbHVlczptaXNzaW5nLXBhcmFtZXRlcnNcIixcIid2YWx1ZUV4cHJlc3Npb24nIHBhcmFtZXRlcnMgYXJlIHJlcXVpcmVkXCIpO3AuZm9yQmlubmluZyYmcihwLFwidW5pcXVlLXZhbHVlc1wiKTtjb25zdHtsYXllcjpkLC4uLnZ9PXAsdz1bLi4ubix0LkltYWdlcnlMYXllcl0sYz1wLmZvckJpbm5pbmc/bDp3LHk9byhkLGMscC5mb3JCaW5uaW5nKTtpZigheSl0aHJvdyBuZXcgZShcInVuaXF1ZS12YWx1ZXM6aW52YWxpZC1wYXJhbWV0ZXJzXCIsXCInbGF5ZXInIG11c3QgYmUgb25lIG9mIHRoZXNlIHR5cGVzOiBcIit1KGMpLmpvaW4oXCIsIFwiKSk7Y29uc3QgcT17bGF5ZXJBZGFwdGVyOnksLi4udn0sZz1udWxsIT1xLnNpZ25hbD97c2lnbmFsOnEuc2lnbmFsfTpudWxsO2F3YWl0IHkubG9hZChnKTtjb25zdCB4PWF3YWl0IGEoe2ZpZWxkOnEuZmllbGQsZmllbGQyOnEuZmllbGQyLGZpZWxkMzpxLmZpZWxkMyx2YWx1ZUV4cHJlc3Npb246cS52YWx1ZUV4cHJlc3Npb259KSxFPWkoeSx4LFwidW5pcXVlLXZhbHVlczppbnZhbGlkLXBhcmFtZXRlcnNcIik7aWYoRSl0aHJvdyBFO3EuZmlsdGVyJiYhcS5maWx0ZXIuc3BhdGlhbFJlbGF0aW9uc2hpcCYmKHEuZmlsdGVyLnNwYXRpYWxSZWxhdGlvbnNoaXA9XCJpbnRlcnNlY3RzXCIpO2NvbnN0IGg9cyhxLmZpbHRlcixcInN1bW1hcnktc3RhdGlzdGljczppbnZhbGlkLXBhcmFtZXRlcnNcIik7aWYoaCl0aHJvdyBoO3JldHVybiBxfWFzeW5jIGZ1bmN0aW9uIGYoZSl7Y29uc3R7bGF5ZXJBZGFwdGVyOmksLi4uc309YXdhaXQgcChlKTtyZXR1cm4gaS51bmlxdWVWYWx1ZXMocyl9ZXhwb3J0e2YgYXMgZGVmYXVsdH07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4zMy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e18gYXMgZX1mcm9tXCIuLi8uLi8uLi9jaHVua3MvdHNsaWIuZXM2LmpzXCI7aW1wb3J0IHQgZnJvbVwiLi4vLi4vLi4vY29yZS9FcnJvci5qc1wiO2ltcG9ydHtwcm9wZXJ0eSBhcyByfWZyb21cIi4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvcHJvcGVydHkuanNcIjtpbXBvcnRcIi4uLy4uLy4uL2NvcmUvaGFzLmpzXCI7aW1wb3J0XCIuLi8uLi8uLi9jb3JlL0xvZ2dlci5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vY29yZS9SYW5kb21MQ0cuanNcIjtpbXBvcnR7c3ViY2xhc3MgYXMgaX1mcm9tXCIuLi8uLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3N1YmNsYXNzLmpzXCI7aW1wb3J0e2NyZWF0ZUdlbmVyYXRlUmVuZGVyZXJDbGFzc0JyZWFrcyBhcyBzLGNyZWF0ZUdlbmVyYXRlUmVuZGVyZXJVbmlxdWVWYWx1ZXMgYXMgb31mcm9tXCIuLi8uLi8uLi9yZXN0L3N1cHBvcnQvZ2VuZXJhdGVSZW5kZXJlclV0aWxzLmpzXCI7aW1wb3J0e2dldERhdGFWYWx1ZXMgYXMgYSxtZXJnZVdoZXJlQ2xhdXNlcyBhcyBufWZyb21cIi4uLy4uL3N0YXRpc3RpY3Mvc3VwcG9ydC91dGlscy5qc1wiO2ltcG9ydHtXb3JrZXJDbGllbnQgYXMgbH1mcm9tXCIuLi8uLi9zdGF0aXN0aWNzL3N1cHBvcnQvV29ya2VyQ2xpZW50LmpzXCI7aW1wb3J0e2dldEZpZWxkc0xpc3QgYXMgcH1mcm9tXCIuLi91dGlscy5qc1wiO2ltcG9ydCBjIGZyb21cIi4vRmVhdHVyZUxheWVyQWRhcHRlci5qc1wiO2ltcG9ydHtlbnN1cmVGZWF0dXJlc0pTT04gYXMgdX1mcm9tXCIuL3N1cHBvcnQvdXRpbHMuanNcIjtsZXQgbT1jbGFzcyBleHRlbmRzIGN7Y29uc3RydWN0b3IoKXtzdXBlciguLi5hcmd1bWVudHMpLHRoaXMuYWRhcHRlck5hbWU9XCJjc3YtbGF5ZXItYWRhcHRlclwifWFzeW5jIF9jcmVhdGVHZW5lcmF0ZVJlbmRlcmVyUmVzdWx0KGUscixpLG4sbCl7Y29uc3QgcD1lPy5mZWF0dXJlcyxjPXA/Lmxlbmd0aDtpZighYyl0aHJvdyBuZXcgdChcImNzdi1sYXllci1hZGFwdGVyOmluc3VmZmljaWVudC1kYXRhXCIsXCJObyBmZWF0dXJlcyBhcmUgYXZhaWxhYmxlIHRvIGNhbGN1bGF0ZSBzdGF0aXN0aWNzXCIpO2NvbnN0IG09dShwKTtsZXQgZD1udWxsO2lmKFwicGVyY2VudC1vZi10b3RhbFwiPT09bil7aWYoZD0oYXdhaXQgdGhpcy53b3JrZXJDbGllbnQuc3VtbWFyeVN0YXRpc3RpY3Moe2ZpZWxkOnJ9LG0pKS5zdW0sbnVsbD09ZCl0aHJvdyBuZXcgdChcImNzdi1sYXllci1hZGFwdGVyOmludmFsaWRcIixcImludmFsaWQgbm9ybWFsaXphdGlvblRvdGFsXCIpfWlmKFwiY2xhc3MtYnJlYWtzLWRlZmluaXRpb25cIj09PWw/LnR5cGUpe2NvbnN0IGU9KGF3YWl0IGEoe2ZpZWxkOnIsbm9ybWFsaXphdGlvblR5cGU6bixub3JtYWxpemF0aW9uRmllbGQ6aSxub3JtYWxpemF0aW9uVG90YWw6ZH0sbSkpLmZpbHRlcigoZT0+TnVtYmVyLmlzRmluaXRlKGUpKSk7cmV0dXJuIHMoe2RlZmluaXRpb246bCx2YWx1ZXM6ZSxub3JtYWxpemF0aW9uVG90YWw6ZH0pfWNvbnN0IGY9KGF3YWl0IGEoe2ZpZWxkOnJ9LG0pKS5maWx0ZXIoKGU9Pm51bGwhPWUmJlwic3RyaW5nXCI9PXR5cGVvZiBlJiZcIlwiIT09ZS50cmltKCkpKTtyZXR1cm4gbyhmKX1nZW5lcmF0ZVJlbmRlcmVyKGUsdCl7Y29uc3Qgcj1lLmNsYXNzaWZpY2F0aW9uRGVmaW5pdGlvbjtsZXQgaT1udWxsLHM9bnVsbCxvPW51bGw7XCJjbGFzcy1icmVha3MtZGVmaW5pdGlvblwiPT09cj8udHlwZT8oaT1yLmNsYXNzaWZpY2F0aW9uRmllbGQscz1yLm5vcm1hbGl6YXRpb25GaWVsZCxvPXIubm9ybWFsaXphdGlvblR5cGUpOmk9cj8uYXR0cmlidXRlRmllbGQ7Y29uc3QgYT10aGlzLmxheWVyO3JldHVybiBwKHtmaWVsZDppLG5vcm1hbGl6YXRpb25GaWVsZDpzfSkudGhlbigobD0+e2NvbnN0IHA9YS5jcmVhdGVRdWVyeSgpO3JldHVybiBwLnJldHVybkdlb21ldHJ5PSExLHAub3V0RmllbGRzPWwscC53aGVyZT1uKHAud2hlcmUsZS53aGVyZSksYS5xdWVyeUZlYXR1cmVzKHAse3NpZ25hbDp0fSkudGhlbigoZT0+dGhpcy5fY3JlYXRlR2VuZXJhdGVSZW5kZXJlclJlc3VsdChlLGkscyxvLHIpKSl9KSl9bG9hZChlKXtjb25zdCB0PXRoaXMubGF5ZXIubG9hZChlKS50aGVuKChhc3luYyB0PT57dGhpcy5nZW9tZXRyeVR5cGU9dC5nZW9tZXRyeVR5cGUsdGhpcy5vYmplY3RJZEZpZWxkPXQub2JqZWN0SWRGaWVsZCx0aGlzLnN1cHBvcnRzU1FMRXhwcmVzc2lvbj0hMCx0aGlzLl9oYXNMb2NhbFNvdXJjZT0hMSx0aGlzLmhhc1F1ZXJ5RW5naW5lPSEwLHRoaXMud29ya2VyQ2xpZW50PWwuZ2V0SW5zdGFuY2UoKSxhd2FpdCB0aGlzLndvcmtlckNsaWVudC5vcGVuKGUuc2lnbmFsKX0pKTtyZXR1cm4gdGhpcy5hZGRSZXNvbHZpbmdQcm9taXNlKHQpLFByb21pc2UucmVzb2x2ZSh0aGlzKX19O2UoW3Ioe3JlYWRPbmx5OiEwfSldLG0ucHJvdG90eXBlLFwiYWRhcHRlck5hbWVcIix2b2lkIDApLG09ZShbaShcImVzcmkuc21hcnRNYXBwaW5nLnN1cHBvcnQuYWRhcHRlcnMuQ1NWTGF5ZXJBZGFwdGVyXCIpXSxtKTtleHBvcnR7bSBhcyBkZWZhdWx0fTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjMzL2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7XyBhcyBlfWZyb21cIi4uLy4uLy4uL2NodW5rcy90c2xpYi5lczYuanNcIjtpbXBvcnQgdCBmcm9tXCIuLi8uLi8uLi9HcmFwaGljLmpzXCI7aW1wb3J0e3BpY2tSYW5kb20gYXMgcn1mcm9tXCIuLi8uLi8uLi9jb3JlL2FycmF5VXRpbHMuanNcIjtpbXBvcnQgaSBmcm9tXCIuLi8uLi8uLi9jb3JlL0Vycm9yLmpzXCI7aW1wb3J0e3Rocm93SWZBYm9ydGVkIGFzIHN9ZnJvbVwiLi4vLi4vLi4vY29yZS9wcm9taXNlVXRpbHMuanNcIjtpbXBvcnR7cHJvcGVydHkgYXMgYX1mcm9tXCIuLi8uLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3Byb3BlcnR5LmpzXCI7aW1wb3J0XCIuLi8uLi8uLi9jb3JlL2hhcy5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vY29yZS9Mb2dnZXIuanNcIjtpbXBvcnR7c3ViY2xhc3MgYXMgb31mcm9tXCIuLi8uLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3N1YmNsYXNzLmpzXCI7aW1wb3J0e2lzSG9zdGVkQWdvbFNlcnZpY2UgYXMgbn1mcm9tXCIuLi8uLi8uLi9sYXllcnMvc3VwcG9ydC9hcmNnaXNMYXllclVybC5qc1wiO2ltcG9ydHtpc1RpbWVPbmx5RmllbGQgYXMgbCxpc051bWVyaWNGaWVsZCBhcyB1fWZyb21cIi4uLy4uLy4uL2xheWVycy9zdXBwb3J0L2ZpZWxkVXRpbHMuanNcIjtpbXBvcnR7Z2VuZXJhdGVSZW5kZXJlciBhcyBtfWZyb21cIi4uLy4uLy4uL3Jlc3QvZ2VuZXJhdGVSZW5kZXJlci5qc1wiO2ltcG9ydCBjIGZyb21cIi4uLy4uLy4uL3Jlc3Qvc3VwcG9ydC9HZW5lcmF0ZVJlbmRlcmVyUGFyYW1ldGVycy5qc1wiO2ltcG9ydCBwIGZyb21cIi4uLy4uLy4uL3Jlc3Qvc3VwcG9ydC9TdGF0aXN0aWNEZWZpbml0aW9uLmpzXCI7aW1wb3J0IGggZnJvbVwiLi4vLi4vLi4vcmVzdC9zdXBwb3J0L1VuaXF1ZVZhbHVlRGVmaW5pdGlvbi5qc1wiO2ltcG9ydHtnZXRBcmNhZGVGb3JQcmVkb21pbmFudENhdGVnb3J5IGFzIGQsZ2V0U1FMRm9yUHJlZG9taW5hbnRDYXRlZ29yeU5hbWUgYXMgeX1mcm9tXCIuLi8uLi9zdGF0aXN0aWNzL3N1cHBvcnQvcHJlZG9taW5hbmNlVXRpbHMuanNcIjtpbXBvcnR7bWVyZ2VXaGVyZUNsYXVzZXMgYXMgZixnZXRSYW5nZUV4cHIgYXMgRixnZXRTUUxGaWx0ZXJGb3JOb3JtYWxpemF0aW9uIGFzIFN9ZnJvbVwiLi4vLi4vc3RhdGlzdGljcy9zdXBwb3J0L3V0aWxzLmpzXCI7aW1wb3J0e1dvcmtlckNsaWVudCBhcyBnfWZyb21cIi4uLy4uL3N0YXRpc3RpY3Mvc3VwcG9ydC9Xb3JrZXJDbGllbnQuanNcIjtpbXBvcnR7aXNBbnlEYXRlRmllbGQgYXMgdyxmaWVsZERlbGltaXRlciBhcyB2fWZyb21cIi4uL3V0aWxzLmpzXCI7aW1wb3J0IHggZnJvbVwiLi9Jbk1lbW9yeUxheWVyQWRhcHRlci5qc1wiO2ltcG9ydHtnZXRRdWVyeVBhcmFtc0ZvckV4cHIgYXMgXyxnZXREYXRhUmFuZ2UgYXMgcSxnZXRBdHRyaWJ1dGVCaW5zUXVlcnkgYXMgRSxwcm9jZXNzUXVlcnlBdHRyaWJ1dGVCaW5zUmVzdWx0IGFzIHosYmluUGFyYW1zRnJvbUdlblJlbmQgYXMgVn1mcm9tXCIuL3N1cHBvcnQvaGlzdG9ncmFtVXRpbHMuanNcIjtpbXBvcnR7ZW5zdXJlRmVhdHVyZXNKU09OIGFzIEwsZ2V0U3VtbWFyeVN0YXRzUXVlcnkgYXMgVCxnZXRTdW1tYXJ5U3RhdGlzdGljc0Zyb21GZWF0dXJlU2V0IGFzIFEsZ2V0VVZRdWVyeSBhcyBqLGdldFVuaXF1ZVZhbHVlc0Zyb21GZWF0dXJlU2V0IGFzIGIsZGVmYXVsdE51bUJpbnMgYXMgTix1cGRhdGVRdWVyeVdpdGhGZWF0dXJlRmlsdGVyIGFzIEMsZ2V0SGlzdG9ncmFtRnJvbUZlYXR1cmVTZXQgYXMgQixnZXRGaWVsZEV4cHIgYXMgTSxnZXREb21haW5zRm9yRmllbGRzIGFzIFIsZ2V0QmlucyBhcyBJLGdldFByZWRvbWluYW50Q2F0ZWdvcmllc0Zyb21VVkluZm9zIGFzICQsZ2V0TWlzc2luZ0ZpZWxkcyBhcyBPfWZyb21cIi4vc3VwcG9ydC91dGlscy5qc1wiO2ltcG9ydHtwcm9jZXNzU3VtbWFyeVN0YXRpc3RpY3NSZXN1bHQgYXMgayxjcmVhdGVVVlJlc3VsdCBhcyBBLGdldEVxdWFsSW50ZXJ2YWxCaW5zIGFzIEQsY3JlYXRlQ2xhc3NCcmVha3NEZWZpbml0aW9uIGFzIEcscmVzb2x2ZUNCUmVzdWx0IGFzIFV9ZnJvbVwiLi4vLi4vLi4vc3RhdGlzdGljcy91dGlscy5qc1wiO2ltcG9ydHtnZXRTY2FsZVRvUmVzb2x1dGlvbkZhY3RvciBhcyBQfWZyb21cIi4uLy4uLy4uL3ZpZXdzLzJkL3ZpZXdwb2ludFV0aWxzLmpzXCI7Y29uc3QgSj01LFc9MmU0LEg9NGU1O2xldCBaPWNsYXNzIGV4dGVuZHMgeHtjb25zdHJ1Y3Rvcigpe3N1cGVyKC4uLmFyZ3VtZW50cyksdGhpcy5hZGFwdGVyTmFtZT1cImZlYXR1cmUtbGF5ZXItYWRhcHRlclwifV9pc1N0YXRzU3VwcG9ydGVkT25TZXJ2aWNlKCl7Y29uc3QgZT10aGlzLmxheWVyO2lmKCFlLmNhcGFiaWxpdGllcz8ucXVlcnk/LnN1cHBvcnRzU3RhdGlzdGljc3x8XCJtdWx0aXBhdGNoXCI9PT10aGlzLmdlb21ldHJ5VHlwZSYmIW4oZS51cmwpJiZlLnZlcnNpb248MTAuNSl0aHJvdyBuZXcgaShgJHt0aGlzLmFkYXB0ZXJOYW1lfTpub3Qtc3VwcG9ydGVkYCxcIkxheWVyIGRvZXMgbm90IHN1cHBvcnQgc3RhdGlzdGljcyBxdWVyeVwiKTtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCl9X2ZldGNoRmVhdHVyZXNGcm9tU2VydmljZShlLHQpe3JldHVybiB0aGlzLmxheWVyLnF1ZXJ5RmVhdHVyZXMoZSx7c2lnbmFsOnR9KS50aGVuKChlPT5lLmZlYXR1cmVzKSl9X2ZldGNoRmVhdHVyZXNKU09ORnJvbVNlcnZpY2UoZSx0KXtyZXR1cm4gdGhpcy5fZmV0Y2hGZWF0dXJlc0Zyb21TZXJ2aWNlKGUsdCkudGhlbihMKX1fc3VtbWFyeVN0YXRzRnJvbUdlblJlbmQoZSl7Y29uc3QgdD1lLm5vcm1hbGl6YXRpb25UeXBlLHI9ZS5ub3JtYWxpemF0aW9uRmllbGQ7cmV0dXJuIHRoaXMuY2xhc3NCcmVha3Moe2ZpZWxkOmUuZmllbGQsbnVtQ2xhc3NlczpKLGNsYXNzaWZpY2F0aW9uTWV0aG9kOlwic3RhbmRhcmQtZGV2aWF0aW9uXCIsc3RhbmRhcmREZXZpYXRpb25JbnRlcnZhbDouMjUsbm9ybWFsaXphdGlvblR5cGU6dCxub3JtYWxpemF0aW9uRmllbGQ6XCJmaWVsZFwiPT09dD9yOnZvaWQgMCxtaW5WYWx1ZTplLm1pblZhbHVlLG1heFZhbHVlOmUubWF4VmFsdWUsZmlsdGVyOmUuZmlsdGVyLHNpZ25hbDplLnNpZ25hbH0pLnRoZW4oKHQ9PntsZXQgcixpLHM7aWYodC5jbGFzc0JyZWFrSW5mb3M/LnNvbWUoKGU9PihlLmhhc0F2ZyYmKHI9ZSksISFyKSkpLHIpe2NvbnN0IGU9ci5tYXhWYWx1ZS1yLm1pblZhbHVlO2k9ci5taW5WYWx1ZStlLzIscz00KmV9Y29uc3QgYT17bWluOnQubWluVmFsdWUsbWF4OnQubWF4VmFsdWUsYXZnOmksc3RkZGV2OnN9O3JldHVybiBrKGEsZS5vdXRTdGF0aXN0aWNUeXBlcyl9KSl9YXN5bmMgX3N1bW1hcnlTdGF0c0Zyb21TZXJ2aWNlUXVlcnkoZSx0KXthd2FpdCB0aGlzLl9pc1N0YXRzU3VwcG9ydGVkT25TZXJ2aWNlKCksXCJwZXJjZW50LW9mLXRvdGFsXCI9PT1lLm5vcm1hbGl6YXRpb25UeXBlJiYoZS5ub3JtYWxpemF0aW9uVG90YWw9YXdhaXQgdGhpcy5fZ2V0Tm9ybWFsaXphdGlvblRvdGFsKGUuZmllbGQsZS5ub3JtYWxpemF0aW9uVHlwZSxlLmZpbHRlcikpO2NvbnN0IHI9dyh0KXx8bCh0KSxpPVwiY2FwYWJpbGl0aWVzXCJpbiB0aGlzLmxheWVyP3RoaXMubGF5ZXIuY2FwYWJpbGl0aWVzOm51bGwscz1UKHRoaXMsZSx0LGk/LnF1ZXJ5Py5zdXBwb3J0c1BlcmNlbnRpbGVTdGF0aXN0aWNzPz8hMSksYT1hd2FpdCB0aGlzLmxheWVyLnF1ZXJ5RmVhdHVyZXMocyx7c2lnbmFsOmUuc2lnbmFsfSksbz1RKGEscik7cmV0dXJuIGsobyxlLm91dFN0YXRpc3RpY1R5cGVzKX1fdXZGcm9tR2VuUmVuZGVyZXIoZSx0KXtjb25zdCByPWUuZmllbGQ/P3ZvaWQgMCxpPW5ldyBoKHthdHRyaWJ1dGVGaWVsZDpyfSkscz1uZXcgYyh7Y2xhc3NpZmljYXRpb25EZWZpbml0aW9uOml9KTtyZXR1cm4gdGhpcy5nZW5lcmF0ZVJlbmRlcmVyKHMsZS5zaWduYWwpLnRoZW4oKGU9Pntjb25zdCB0PXt9LGk9dGhpcy5nZXRGaWVsZChyKTtyZXR1cm4gZS51bmlxdWVWYWx1ZXMuZm9yRWFjaCgoZT0+e2xldCByPWUudmFsdWU7bnVsbCE9ciYmXCJcIiE9PXImJihcInN0cmluZ1wiIT10eXBlb2Ygcnx8XCJcIiE9PXIudHJpbSgpJiZcIjxudWxsPlwiIT09ci50b0xvd2VyQ2FzZSgpKXx8KHI9bnVsbCksbnVsbD09dFtyXT90W3JdPXtjb3VudDplLmNvdW50LGRhdGE6dShpKSYmcj9OdW1iZXIocik6cn06dFtyXS5jb3VudD10W3JdLmNvdW50K2UuY291bnR9KSkse2NvdW50OnR9fSkpLnRoZW4oKHI9PkEocixbdF0sZS5yZXR1cm5BbGxDb2RlZFZhbHVlcykpKX1hc3luYyBfdXZGcm9tU2VydmljZVF1ZXJ5KGUsdCl7cmV0dXJuIHRoaXMuX2lzU3RhdHNTdXBwb3J0ZWRPblNlcnZpY2UoKS50aGVuKCgoKT0+dGhpcy5sYXllci5xdWVyeUZlYXR1cmVzKGoodGhpcyxlKSx7c2lnbmFsOmUuc2lnbmFsfSkpKS50aGVuKCh0PT5iKHQse2xheWVyOnRoaXMsZmllbGQ6ZS5maWVsZCxmaWVsZDI6ZS5maWVsZDIsZmllbGQzOmUuZmllbGQzLGZpZWxkRGVsaW1pdGVyOnYsdmlldzplLnZpZXcsc2lnbmFsOmUuc2lnbmFsfSkpKS50aGVuKChyPT5BKHIsdCxlLnJldHVybkFsbENvZGVkVmFsdWVzLHYpKSl9X2dldE5vcm1hbGl6YXRpb25Ub3RhbChlLHQscixpKXtyZXR1cm4gZSYmXCJwZXJjZW50LW9mLXRvdGFsXCI9PT10P3RoaXMuc3VtbWFyeVN0YXRpc3RpY3Moe2ZpZWxkOmUsb3V0U3RhdGlzdGljVHlwZXM6e2luY2x1ZGU6W1wic3VtXCJdfSxmaWx0ZXI6cixzaWduYWw6aX0pLnRoZW4oKGU9PmUuc3VtKSk6UHJvbWlzZS5yZXNvbHZlKG51bGwpfV9oaXN0b2dyYW1Gb3JFeHByKGUpe3JldHVybiB0aGlzLl9nZXROb3JtYWxpemF0aW9uVG90YWwoZS5maWVsZCxlLm5vcm1hbGl6YXRpb25UeXBlLGUuZmlsdGVyLGUuc2lnbmFsKS50aGVuKCh0PT57Y29uc3Qgcj1fKGUsdGhpcyx0KTtyZXR1cm4gcShyLHRoaXMsZS5taW5WYWx1ZSxlLm1heFZhbHVlKS50aGVuKChpPT57Y29uc3Qgcz1pLm1pbixhPWkubWF4O2lmKG51bGw9PXN8fG51bGw9PWEpcmV0dXJue2JpbnM6W10sbWluVmFsdWU6cyxtYXhWYWx1ZTphLG5vcm1hbGl6YXRpb25Ub3RhbDp0fTtjb25zdCBvPWUubnVtQmluc3x8TixuPUQocyxhLG8pLGw9SyhyLnNxbEV4cHJlc3Npb24sbixudWxsIT1lLm1pblZhbHVlJiZudWxsIT1lLm1heFZhbHVlKSx1PW5ldyBwKHtzdGF0aXN0aWNUeXBlOlwiY291bnRcIixvdXRTdGF0aXN0aWNGaWVsZE5hbWU6XCJjb3VudE9GRXhwclwiLG9uU3RhdGlzdGljRmllbGQ6XCIxXCJ9KSxtPXRoaXMubGF5ZXIuY3JlYXRlUXVlcnkoKTtyZXR1cm4gbS53aGVyZT1mKG0ud2hlcmUsci5zcWxXaGVyZSksbS5zcWxGb3JtYXQ9XCJzdGFuZGFyZFwiLG0ub3V0U3RhdGlzdGljcz1bdV0sbS5ncm91cEJ5RmllbGRzRm9yU3RhdGlzdGljcz1bbF0sbS5vcmRlckJ5RmllbGRzPVtsXSxDKG0sZS5maWx0ZXIpLHRoaXMuX2lzU3RhdHNTdXBwb3J0ZWRPblNlcnZpY2UoKS50aGVuKCgoKT0+dGhpcy5sYXllci5xdWVyeUZlYXR1cmVzKG0se3NpZ25hbDpyLnNpZ25hbH0pKSkudGhlbigoZT0+QihlLHMsYSxvLHQpKSl9KSl9KSl9YXN5bmMgX2hpc3RvZ3JhbUZyb21RdWVyeUF0dHJpYnV0ZUJpbnMoZSl7Y29uc3R7ZmllbGQ6dCxub3JtYWxpemF0aW9uVHlwZTpyLGZpbHRlcjppLHNpZ25hbDpzfT1lLGE9YXdhaXQgdGhpcy5fZ2V0Tm9ybWFsaXphdGlvblRvdGFsKHQscixpLHMpLG89dGhpcy5sYXllci5jcmVhdGVRdWVyeSgpLHtxdWVyeTpuLG1pbjpsLG1heDp1fT1hd2FpdCBFKGUsdGhpcyxhLG8/LndoZXJlKTtpZighbilyZXR1cm57YmluczpbXSxtaW5WYWx1ZTpsLG1heFZhbHVlOnUsbm9ybWFsaXphdGlvblRvdGFsOmF9O2NvbnN0IG09YXdhaXQgdGhpcy5sYXllci5xdWVyeUF0dHJpYnV0ZUJpbnMobix7c2lnbmFsOnN9KTtyZXR1cm4geihtLHQ/dGhpcy5nZXRGaWVsZCh0KTpudWxsLHttaW5WYWx1ZTpsLG1heFZhbHVlOnUsbm9ybWFsaXphdGlvblRvdGFsOmF9KX1fY2xhc3NCcmVha3NGcm9tR2VuUmVuZChlKXtjb25zdHtmaWVsZDp0LG5vcm1hbGl6YXRpb25UeXBlOnIsbm9ybWFsaXphdGlvbkZpZWxkOmksbm9ybWFsaXphdGlvblRvdGFsOnMsc2lnbmFsOmF9PWUsbz1TKHtmaWVsZDp0LG5vcm1hbGl6YXRpb25UeXBlOnIsbm9ybWFsaXphdGlvbkZpZWxkOml9KSxuPU0oe2ZpZWxkOnQsbm9ybWFsaXphdGlvblR5cGU6cixub3JtYWxpemF0aW9uRmllbGQ6aSxub3JtYWxpemF0aW9uVG90YWw6cyxsYXllcjp0aGlzfSksbD1GKG4sZS5taW5WYWx1ZSxlLm1heFZhbHVlKSx1PUcoe2ZpZWxkOnQsbm9ybWFsaXphdGlvblR5cGU6cixub3JtYWxpemF0aW9uRmllbGQ6aSxjbGFzc2lmaWNhdGlvbk1ldGhvZDplLmNsYXNzaWZpY2F0aW9uTWV0aG9kLHN0YW5kYXJkRGV2aWF0aW9uSW50ZXJ2YWw6ZS5zdGFuZGFyZERldmlhdGlvbkludGVydmFsLGJyZWFrQ291bnQ6ZS5udW1DbGFzc2VzfHxKfSksbT1uZXcgYyh7Y2xhc3NpZmljYXRpb25EZWZpbml0aW9uOnV9KTtyZXR1cm4gbS53aGVyZT1mKG8sbCksdGhpcy5nZW5lcmF0ZVJlbmRlcmVyKG0sYSkudGhlbigodD0+VSh0LGUuY2xhc3NpZmljYXRpb25NZXRob2QpKSl9YXN5bmMgc3VtbWFyeVN0YXRpc3RpY3MoZSl7Y29uc3R7ZmllbGQ6dCxub3JtYWxpemF0aW9uVHlwZTpyLHZhbHVlRXhwcmVzc2lvbjphLHNxbEV4cHJlc3Npb246byx2aWV3Om4sZmVhdHVyZXM6dSx1c2VGZWF0dXJlc0luVmlldzptfT1lLGM9dD90aGlzLmdldEZpZWxkKHQpOm51bGwscD13KGMpfHxsKGMpLGg9YSYmIShvJiZ0aGlzLnN1cHBvcnRzU1FMRXhwcmVzc2lvbiksZD10aGlzLl9oYXNMb2NhbFNvdXJjZXx8dXx8bSx5PW4mJlwiM2RcIj09PW4udHlwZTtpZihkfHxoKXJldHVybiBofHx1fHxtfHx5P3RoaXMuX3N1bW1hcnlTdGF0c0Zyb21NZW1vcnkoZSxjKTp0aGlzLl9zdW1tYXJ5U3RhdHNGcm9tQ2xpZW50UXVlcnkoZSxjKTtpZighdGhpcy5zdXBwb3J0c1NRTEV4cHJlc3Npb24mJihwfHxvfHxcIm5hdHVyYWwtbG9nXCI9PT1yfHxcInNxdWFyZS1yb290XCI9PT1yKSl0aHJvdyBuZXcgaShgJHt0aGlzLmFkYXB0ZXJOYW1lfTpub3Qtc3VwcG9ydGVkYCxcIkxheWVyIGRvZXMgbm90IHN1cHBvcnQgc3RhbmRhcmRpemVkIFNRTCBleHByZXNzaW9uIGZvciBxdWVyaWVzXCIpO3JldHVybihyJiYhdGhpcy5zdXBwb3J0c1NRTEV4cHJlc3Npb24/dGhpcy5fc3VtbWFyeVN0YXRzRnJvbUdlblJlbmQoZSk6dGhpcy5fc3VtbWFyeVN0YXRzRnJvbVNlcnZpY2VRdWVyeShlLGMpKS5jYXRjaCgoKCk9PihzKGUuc2lnbmFsKSx0aGlzLl9zdW1tYXJ5U3RhdHNGcm9tTWVtb3J5KGUsYykpKSl9YXN5bmMgdW5pcXVlVmFsdWVzKGUpe2NvbnN0e3ZhbHVlRXhwcmVzc2lvbjp0LHNxbEV4cHJlc3Npb246cixmZWF0dXJlczppLHVzZUZlYXR1cmVzSW5WaWV3OmEsc2lnbmFsOm99PWUsbj10JiYhKHImJnRoaXMuc3VwcG9ydHNTUUxFeHByZXNzaW9uKSxsPXRoaXMuX2hhc0xvY2FsU291cmNlfHxpfHxhfHxuLHU9ZS52aWV3LG09dSYmXCIzZFwiPT09dS50eXBlLGM9YXdhaXQgUihlLHRoaXMpO3JldHVybiBsP258fGl8fGF8fG0/dGhpcy5fdXZGcm9tTWVtb3J5KGUsYyk6dGhpcy5fdXZGcm9tQ2xpZW50UXVlcnkoZSxjKTp0aGlzLl91dkZyb21TZXJ2aWNlUXVlcnkoZSxjKS5jYXRjaCgodD0+KHMobyksIWUuZmllbGR8fGUuZmllbGQyfHxlLmZpZWxkM3x8ZS5maWx0ZXI/dDp0aGlzLl91dkZyb21HZW5SZW5kZXJlcihlLGNbMF0pKSkpLmNhdGNoKCgoKT0+KHMobyksbT90aGlzLl91dkZyb21NZW1vcnkoZSxjKTp0aGlzLl91dkZyb21DbGllbnRRdWVyeShlLGMpKSkpfWFzeW5jIGhpc3RvZ3JhbShlKXtjb25zdHtmaWVsZDp0LG5vcm1hbGl6YXRpb25UeXBlOnIsbm9ybWFsaXphdGlvbkZpZWxkOmEsY2xhc3NpZmljYXRpb25NZXRob2Q6byx2aWV3Om4sZmlsdGVyOnUsc2lnbmFsOm19PWUsYz10P3RoaXMuZ2V0RmllbGQodCk6bnVsbCxwPXcoYyl8fGwoYyksaD1lLnZhbHVlRXhwcmVzc2lvbnx8ZS5zcWxFeHByZXNzaW9uLGQ9ZS52YWx1ZUV4cHJlc3Npb24mJiEoZS5zcWxFeHByZXNzaW9uJiZ0aGlzLnN1cHBvcnRzU1FMRXhwcmVzc2lvbikseT10aGlzLl9oYXNMb2NhbFNvdXJjZXx8ZS5mZWF0dXJlc3x8ZS51c2VGZWF0dXJlc0luVmlld3x8ZCxmPXRoaXMuc3VwcG9ydHNTUUxFeHByZXNzaW9uLFM9IW98fFwiZXF1YWwtaW50ZXJ2YWxcIj09PW8sZz1lLm1pblZhbHVlLHY9ZS5tYXhWYWx1ZSx4PW51bGwhPWcmJm51bGwhPXYsXz1lLm51bUJpbnN8fE47aWYoeSlyZXR1cm4gdGhpcy5faGlzdG9ncmFtRnJvbU1lbW9yeShlKTtpZih0aGlzLmxheWVyLmNhcGFiaWxpdGllcz8ub3BlcmF0aW9ucz8uc3VwcG9ydHNRdWVyeUJpbnMmJmUudXNlUXVlcnlBdHRyaWJ1dGVCaW5zKXRyeXtyZXR1cm4gYXdhaXQgdGhpcy5faGlzdG9ncmFtRnJvbVF1ZXJ5QXR0cmlidXRlQmlucyhlKX1jYXRjaHtyZXR1cm4gcyhtKSx0aGlzLl9oaXN0b2dyYW1Gcm9tUXVlcnlBdHRyaWJ1dGVCaW5zRnJvbU1lbW9yeShlKX1pZigoaHx8ZikmJlMpe2lmKCFmJiYoaHx8XCJuYXR1cmFsLWxvZ1wiPT09cnx8XCJzcXVhcmUtcm9vdFwiPT09cikpdGhyb3cgbmV3IGkoYCR7dGhpcy5hZGFwdGVyTmFtZX06bm90LXN1cHBvcnRlZGAsXCJMYXllciBkb2VzIG5vdCBzdXBwb3J0IHN0YW5kYXJkaXplZCBTUUwgZXhwcmVzc2lvbiBmb3IgcXVlcmllc1wiKTtyZXR1cm4gdGhpcy5faGlzdG9ncmFtRm9yRXhwcihlKX1pZihwJiZTKXRocm93IG5ldyBpKGAke3RoaXMuYWRhcHRlck5hbWV9Om5vdC1zdXBwb3J0ZWRgLFwiTm9ybWFsaXphdGlvbiBhbmQgZGF0ZSBmaWVsZCBhcmUgbm90IGFsbG93ZWQgd2hlbiBsYXllciBkb2VzIG5vdCBzdXBwb3J0IHN0YW5kYXJkaXplZCBTUUwgZXhwcmVzc2lvbiBmb3IgcXVlcmllc1wiKTtyZXR1cm4gcnx8IVM/VihlLHRoaXMpLnRoZW4oKHM9PntpZigheClyZXR1cm4gSSh0aGlzLHMsdCxfLG4sdSxtKTtpZihnPnMubWF4fHx2PHMubWluKXRocm93IG5ldyBpKGAke3RoaXMuYWRhcHRlck5hbWV9Omluc3VmZmljaWVudC1kYXRhYCxcIlJhbmdlIGRlZmluZWQgYnkgJ21pblZhbHVlJyBhbmQgJ21heFZhbHVlJyBkb2VzIG5vdCBpbnRlcnNlY3QgYXZhaWxhYmxlIGRhdGEgcmFuZ2Ugb2YgdGhlIGZpZWxkXCIpO2lmKFMpcmV0dXJuIEkodGhpcyx7bWluOmcsbWF4OnYsc3FsRXhwcjpzLnNxbEV4cHIsZXhjbHVkZVplcm9zRXhwcjpzLmV4Y2x1ZGVaZXJvc0V4cHJ9LHQsXyxuLHUsbSk7e2NvbnN0IGk9e2ZpZWxkOnQsbm9ybWFsaXphdGlvblR5cGU6cixub3JtYWxpemF0aW9uRmllbGQ6YSxub3JtYWxpemF0aW9uVG90YWw6cy5ub3JtVG90YWwsbGF5ZXI6dGhpc30sbz1NKGkpLGw9RihvLGcsdik7cmV0dXJuIFYoZSx0aGlzLGwpLnRoZW4oKGU9PkkodGhpcyxlLHQsXyxuLHUsbSkpKX19KSk6dGhpcy5faGlzdG9ncmFtRm9yRmllbGQoZSl9YXN5bmMgY2xhc3NCcmVha3MoZSl7Y29uc3QgdD0hMSE9PWUuYW5hbHl6ZURhdGEscj10aGlzLl9oYXNMb2NhbFNvdXJjZXx8ZS5mZWF0dXJlc3x8ZS51c2VGZWF0dXJlc0luVmlld3x8ZS52YWx1ZUV4cHJlc3Npb258fGUuZmlsdGVyO2lmKHQmJnIpcmV0dXJuIHRoaXMuX2NsYXNzQnJlYWtzRnJvbU1lbW9yeShlKTtyZXR1cm4odD90aGlzLl9jbGFzc0JyZWFrc0Zyb21HZW5SZW5kKGUpOnRoaXMuX2NsYXNzQnJlYWtzRnJvbUludGVycG9sYXRpb24oZSkpLmNhdGNoKCgoKT0+KHMoZS5zaWduYWwpLHRoaXMuX2NsYXNzQnJlYWtzRnJvbU1lbW9yeShlKSkpKX1hc3luYyBxdWVyeUZlYXR1cmVDb3VudChlKXtpZih0aGlzLl9oYXNMb2NhbFNvdXJjZSl0aHJvdyBuZXcgaShgJHt0aGlzLmFkYXB0ZXJOYW1lfTpub3Qtc3VwcG9ydGVkYCxcIkxheWVyIGRvZXMgbm90IHN1cHBvcnQgY291bnQgcXVlcnlcIik7Y29uc3QgdD10aGlzLmxheWVyLHI9dC5jcmVhdGVRdWVyeSgpO3JldHVybiByLndoZXJlPWYoci53aGVyZSxlLndoZXJlQ2xhdXNlKSxDKHIsZS5maWx0ZXIpLHQucXVlcnlGZWF0dXJlQ291bnQocix7c2lnbmFsOmUuc2lnbmFsfSl9YXN5bmMgZ2VuZXJhdGVSZW5kZXJlcihlLHQpe2NvbnN0IHI9dGhpcy5sYXllcjtpZih0aGlzLl9oYXNMb2NhbFNvdXJjZXx8ci52ZXJzaW9uPDEwLjEpdGhyb3cgbmV3IGkoYCR7dGhpcy5hZGFwdGVyTmFtZX06bm90LXN1cHBvcnRlZGAsXCJMYXllciBkb2VzIG5vdCBzdXBwb3J0IGdlbmVyYXRlUmVuZGVyZXIgb3BlcmF0aW9uIChyZXF1aXJlcyBBcmNHSVMgU2VydmVyIHZlcnNpb24gMTAuMSspXCIpO2NvbnN0IHM9ci5jcmVhdGVRdWVyeSgpO3JldHVybiBlLndoZXJlPWYoZS53aGVyZSxzLndoZXJlKSxtKHIucGFyc2VkVXJsPy5wYXRoPz9cIlwiLHtzb3VyY2U6ci5keW5hbWljRGF0YVNvdXJjZT8/dm9pZCAwLGdkYlZlcnNpb246ci5nZGJWZXJzaW9uPz92b2lkIDB9LGUse3NpZ25hbDp0fSl9YXN5bmMgcHJlZG9taW5hbnRDYXRlZ29yaWVzKGUpe2lmKCF0aGlzLl9oYXNMb2NhbFNvdXJjZSYmIXRoaXMuc3VwcG9ydHNTUUxFeHByZXNzaW9uKXRocm93IG5ldyBpKGAke3RoaXMuYWRhcHRlck5hbWV9Om5vdC1zdXBwb3J0ZWRgLFwiTGF5ZXIgZG9lcyBub3Qgc3VwcG9ydCBhZHZhbmNlZCBTUUwgZXhwcmVzc2lvbnMgYW5kIHN0YW5kYXJkaXplZCBxdWVyaWVzXCIpO2NvbnN0e2ZpZWxkczp0LHZpZXc6cixzaWduYWw6cyxmaWx0ZXI6YX09ZSxvPWQodCksbj15KHQpLGw9ciYmdGhpcy5faGFzTG9jYWxTb3VyY2U/YXdhaXQgdGhpcy5fdXZGcm9tTWVtb3J5KHt2YWx1ZUV4cHJlc3Npb246byx2aWV3OnIsc2lnbmFsOnMsZmlsdGVyOmF9KTphd2FpdCB0aGlzLl91dkZyb21TZXJ2aWNlUXVlcnkoe3NxbEV4cHJlc3Npb246bi5leHByZXNzaW9uLHZhbHVlRXhwcmVzc2lvbjpvLHNpZ25hbDpzLGZpbHRlcjphfSk7cmV0dXJuICQobC51bmlxdWVWYWx1ZUluZm9zLHQpfWFzeW5jIGdldFNhbXBsZUZlYXR1cmVzKGUsaSl7Y29uc3R7dmlldzphLHJlcXVpcmVkRmllbGRzOm8scmV0dXJuR2VvbWV0cnk6bixmaWx0ZXI6bCxzaWduYWw6dX09ZSxtPWUuc2FtcGxlU2l6ZTtpZihudWxsPT1tfHwwPT09bSlyZXR1cm5bXTtjb25zdCBjPXRoaXMubGF5ZXIuY3JlYXRlUXVlcnkoKSxwPTEsaD1cImpzb25cIj09PWk7Yy5vdXRTcGF0aWFsUmVmZXJlbmNlPWE/LnNwYXRpYWxSZWZlcmVuY2UsYy5yZXR1cm5HZW9tZXRyeT0hIW4sYy5vdXRGaWVsZHM9byxDKGMsbCk7bGV0IGQ9W10seT0hMTtpZihhKXRyeXtjb25zdCBzPWF3YWl0IGEud2hlbkxheWVyVmlldyh0aGlzLmxheWVyKTtpZih5PSFPKHRoaXMsbyxzKS5sZW5ndGgseSl7aWYobT49MSYmIWUuZmlsdGVyJiZcImdldFNhbXBsZUZlYXR1cmVzXCJpbiBzKXthd2FpdCB0aGlzLl93YWl0Rm9yTGF5ZXJWaWV3VXBkYXRlKHMpO2NvbnN0IGU9YXdhaXQgcy5nZXRTYW1wbGVGZWF0dXJlcyh7bWluRmVhdHVyZUNvdW50Om0sc2FtcGxlU2l6ZTptfSk7aWYobnVsbCE9ZSlyZXR1cm4gaD9lOmUubWFwKChlPT50LmZyb21KU09OKGUpKSl9aWYoZD1hd2FpdCB0aGlzLl9mZXRjaEZlYXR1cmVzRnJvbU1lbW9yeShzLGMsdSxpKSxkLmxlbmd0aD49bSYmbT4wKXJldHVybiByKGQsbSxwKX19Y2F0Y2goZil7cyh1KX10cnl7aWYodGhpcy5faGFzTG9jYWxTb3VyY2UpcmV0dXJuIHk/ZDpoP2F3YWl0IHRoaXMuX2ZldGNoRmVhdHVyZXNKU09ORnJvbVNlcnZpY2UoYyx1KTphd2FpdCB0aGlzLl9mZXRjaEZlYXR1cmVzRnJvbVNlcnZpY2UoYyx1KTtjb25zdCB0PWF3YWl0IHRoaXMucXVlcnlGZWF0dXJlQ291bnQoe3ZpZXc6YSxmaWx0ZXI6bCxzaWduYWw6dX0pLGk9dGhpcy5sYXllci5jYXBhYmlsaXRpZXMucXVlcnkubWF4UmVjb3JkQ291bnQ7bGV0IHM9LTE9PT1tP3Q6bTtpZihzPWkmJnM+aT9pOnMsdDw9ZC5sZW5ndGh8fGQubGVuZ3RoPj1pKXJldHVybiBkO2lmKGMubWF4QWxsb3dhYmxlT2Zmc2V0PWUucmVzb2x1dGlvbnx8KGE/YS5leHRlbnQud2lkdGgvYS53aWR0aC9hLnNjYWxlOlAodGhpcy5sYXllci5zcGF0aWFsUmVmZXJlbmNlKSkqSCx0PD1zKXJldHVybiBoP2F3YWl0IHRoaXMuX2ZldGNoRmVhdHVyZXNKU09ORnJvbVNlcnZpY2UoYyx1KTphd2FpdCB0aGlzLl9mZXRjaEZlYXR1cmVzRnJvbVNlcnZpY2UoYyx1KTtpZih0PD1XKXtjb25zdCBlPXRoaXMubGF5ZXIuY3JlYXRlUXVlcnkoKTtDKGUsbCk7Y29uc3QgdD1hd2FpdCB0aGlzLmxheWVyLnF1ZXJ5T2JqZWN0SWRzKCk7cmV0dXJuIGMub2JqZWN0SWRzPXIodCxzLHApLGg/YXdhaXQgdGhpcy5fZmV0Y2hGZWF0dXJlc0pTT05Gcm9tU2VydmljZShjLHUpOmF3YWl0IHRoaXMuX2ZldGNoRmVhdHVyZXNGcm9tU2VydmljZShjLHUpfXJldHVybiB0aGlzLmxheWVyLmNhcGFiaWxpdGllcz8ucXVlcnk/LnN1cHBvcnRzUGFnaW5hdGlvbiYmKGMubnVtPU1hdGgubWluKHMsVykpLGg/YXdhaXQgdGhpcy5fZmV0Y2hGZWF0dXJlc0pTT05Gcm9tU2VydmljZShjLHUpOmF3YWl0IHRoaXMuX2ZldGNoRmVhdHVyZXNGcm9tU2VydmljZShjLHUpfWNhdGNoKGYpe3JldHVybiBzKHUpLGR9fWxvYWQoZSl7Y29uc3QgdD10aGlzLmxheWVyLmxvYWQoZSkudGhlbigoYXN5bmMgdD0+e3RoaXMuZ2VvbWV0cnlUeXBlPXQuZ2VvbWV0cnlUeXBlLHRoaXMub2JqZWN0SWRGaWVsZD10Lm9iamVjdElkRmllbGQsdGhpcy5zdXBwb3J0c1NRTEV4cHJlc3Npb249dC5jYXBhYmlsaXRpZXM/LnF1ZXJ5Py5zdXBwb3J0c1NxbEV4cHJlc3Npb24sdGhpcy5faGFzTG9jYWxTb3VyY2U9IXQudXJsJiYhIXQuc291cmNlLHRoaXMuaGFzUXVlcnlFbmdpbmU9dGhpcy5faGFzTG9jYWxTb3VyY2UsdGhpcy5taW5TY2FsZT10Lm1pblNjYWxlLHRoaXMubWF4U2NhbGU9dC5tYXhTY2FsZSx0aGlzLmZ1bGxFeHRlbnQ9dC5mdWxsRXh0ZW50LHRoaXMud29ya2VyQ2xpZW50PWcuZ2V0SW5zdGFuY2UoKSxhd2FpdCB0aGlzLndvcmtlckNsaWVudC5vcGVuKGUuc2lnbmFsKX0pKTtyZXR1cm4gdGhpcy5hZGRSZXNvbHZpbmdQcm9taXNlKHQpLFByb21pc2UucmVzb2x2ZSh0aGlzKX19O2Z1bmN0aW9uIEsoZSx0LHIpe2NvbnN0IGk9W10scz10Lmxlbmd0aDtyZXR1cm4gdC5mb3JFYWNoKCgodCxhKT0+e2NvbnN0W28sbl09dDtsZXQgbD1udWxsO2w9MCE9PWF8fHI/YSE9PXMtMXx8cj9mKGAke2V9ID49ICR7b31gLGAke2V9ICR7YT09PXMtMT9cIiA8PSBcIjpcIiA8IFwifSAke259YCk6YCR7ZX0gPj0gJHtvfWA6YCR7ZX0gPCAke259YCxpLnB1c2goXCJXSEVOIChcIitsK1wiKSBUSEVOIFwiKyhhKzEpKX0pKSxbXCJDQVNFXCIsaS5qb2luKFwiIFwiKSxcIkVMU0UgMFwiLFwiRU5EXCJdLmpvaW4oXCIgXCIpfWUoW2Eoe3JlYWRPbmx5OiEwfSldLFoucHJvdG90eXBlLFwiYWRhcHRlck5hbWVcIix2b2lkIDApLGUoW2Eoe2NvbnN0cnVjdE9ubHk6ITB9KV0sWi5wcm90b3R5cGUsXCJsYXllclwiLHZvaWQgMCksWj1lKFtvKFwiZXNyaS5zbWFydE1hcHBpbmcuc3VwcG9ydC5hZGFwdGVycy5GZWF0dXJlTGF5ZXJBZGFwdGVyXCIpXSxaKTtleHBvcnR7WiBhcyBkZWZhdWx0fTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjMzL2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7XyBhcyBlfWZyb21cIi4uLy4uLy4uL2NodW5rcy90c2xpYi5lczYuanNcIjtpbXBvcnR7cGlja1JhbmRvbSBhcyB0fWZyb21cIi4uLy4uLy4uL2NvcmUvYXJyYXlVdGlscy5qc1wiO2ltcG9ydCBhIGZyb21cIi4uLy4uLy4uL2NvcmUvRXJyb3IuanNcIjtpbXBvcnR7dGhyb3dJZkFib3J0ZWQgYXMgcn1mcm9tXCIuLi8uLi8uLi9jb3JlL3Byb21pc2VVdGlscy5qc1wiO2ltcG9ydHtwcm9wZXJ0eSBhcyBpfWZyb21cIi4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvcHJvcGVydHkuanNcIjtpbXBvcnRcIi4uLy4uLy4uL2NvcmUvaGFzLmpzXCI7aW1wb3J0XCIuLi8uLi8uLi9jb3JlL0xvZ2dlci5qc1wiO2ltcG9ydHtzdWJjbGFzcyBhcyBzfWZyb21cIi4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvc3ViY2xhc3MuanNcIjtpbXBvcnR7a2ViYWJEaWN0IGFzIG99ZnJvbVwiLi4vLi4vLi4vbGF5ZXJzL3N1cHBvcnQvZmllbGRUeXBlLmpzXCI7aW1wb3J0e2lzVGltZU9ubHlGaWVsZCBhcyBufWZyb21cIi4uLy4uLy4uL2xheWVycy9zdXBwb3J0L2ZpZWxkVXRpbHMuanNcIjtpbXBvcnR7Z2V0QXJjYWRlRm9yUHJlZG9taW5hbnRDYXRlZ29yeSBhcyBsfWZyb21cIi4uLy4uL3N0YXRpc3RpY3Mvc3VwcG9ydC9wcmVkb21pbmFuY2VVdGlscy5qc1wiO2ltcG9ydHtzdW1tYXJ5U3RhdGlzdGljcyBhcyB1LHVuaXF1ZVZhbHVlcyBhcyBtLGhpc3RvZ3JhbSBhcyBwLGNsYXNzQnJlYWtzIGFzIGd9ZnJvbVwiLi4vLi4vc3RhdGlzdGljcy9zdXBwb3J0L3N0YXRzV29ya2VyLmpzXCI7aW1wb3J0e21lcmdlV2hlcmVDbGF1c2VzIGFzIGR9ZnJvbVwiLi4vLi4vc3RhdGlzdGljcy9zdXBwb3J0L3V0aWxzLmpzXCI7aW1wb3J0e1dvcmtlckNsaWVudCBhcyB5fWZyb21cIi4uLy4uL3N0YXRpc3RpY3Mvc3VwcG9ydC9Xb3JrZXJDbGllbnQuanNcIjtpbXBvcnR7Z2V0RmllbGRzTGlzdCBhcyBjLGZpZWxkRGVsaW1pdGVyIGFzIGYsaXNBbnlEYXRlRmllbGQgYXMgaH1mcm9tXCIuLi91dGlscy5qc1wiO2ltcG9ydCB3IGZyb21cIi4vRmVhdHVyZUxheWVyQWRhcHRlci5qc1wiO2ltcG9ydHtnZXRNaXNzaW5nRmllbGRzRm9yQmlubmluZyBhcyBGLHVwZGF0ZVF1ZXJ5V2l0aEZlYXR1cmVGaWx0ZXIgYXMgUyxnZXRGZWF0dXJlUmVkdWN0aW9uRmllbGRzIGFzIHYsZ2V0Vmlld0luZm9QYXJhbXMgYXMgcSxnZXREb21haW5zRm9yRmllbGRzIGFzIFYsZ2V0UHJlZG9taW5hbnRDYXRlZ29yaWVzRnJvbVVWSW5mb3MgYXMgen1mcm9tXCIuL3N1cHBvcnQvdXRpbHMuanNcIjtsZXQgTj1jbGFzcyBleHRlbmRzIHd7Y29uc3RydWN0b3IoKXtzdXBlciguLi5hcmd1bWVudHMpLHRoaXMuYWRhcHRlck5hbWU9XCJmZWF0dXJlLWxheWVyLWJpbm5pbmctYWRhcHRlclwifWFzeW5jIF9nZXROb3JtYWxpemF0aW9uVG90YWxGcm9tTWVtb3J5KGUsdCxyKXtjb25zdHtmZWF0dXJlc0pTT046aSxncmFwaGljczpzLGxheWVyVmlldzpvLHF1ZXJ5Om59PXQsbD17aW5jbHVkZTpbXCJzdW1cIl19LG09KCFpJiYhcyYmbyYmXCJxdWVyeUFnZ3JlZ2F0ZVN1bW1hcnlTdGF0aXN0aWNzXCJpbiBvP2F3YWl0IG8ucXVlcnlBZ2dyZWdhdGVTdW1tYXJ5U3RhdGlzdGljcyhuLHtmaWVsZDplLG91dFN0YXRpc3RpY1R5cGVzOmx9LHtzaWduYWw6cn0pOmk/YXdhaXQgdGhpcy53b3JrZXJDbGllbnQuc3VtbWFyeVN0YXRpc3RpY3Moe2ZpZWxkOmV9LGkpOmF3YWl0IHUoe2F0dHJpYnV0ZTp7ZmllbGQ6ZSxvdXRTdGF0aXN0aWNUeXBlczpsfSxmZWF0dXJlczpzfSkpLnN1bTtpZihudWxsPT1tKXRocm93IG5ldyBhKGAke3RoaXMuYWRhcHRlck5hbWV9OmludmFsaWRgLFwiaW52YWxpZCBub3JtYWxpemF0aW9uVG90YWxcIik7cmV0dXJuIG19YXN5bmMgX3Byb2Nlc3NTdGF0c0Zyb21NZW1vcnlQYXJhbXMoZSl7Y29uc3R7ZmVhdHVyZXM6dCxmaWx0ZXI6cn09ZTtpZih0Py5sZW5ndGgpcmV0dXJuIHRoaXMuX2dldEZpbHRlcmVkRmVhdHVyZXModCxyKTtjb25zdHt2aWV3OmksZmllbGQ6cyxmaWVsZDI6byxmaWVsZDM6bixub3JtYWxpemF0aW9uRmllbGQ6bCx2YWx1ZUV4cHJlc3Npb246dSxyZXR1cm5HZW9tZXRyeTptLGxheWVyVmlld0Z1bmM6cCxzaWduYWw6Z309ZTtsZXQgZD1udWxsLHk9bnVsbCxmPW51bGwsaD1udWxsLHc9bnVsbDtpZihpKXRyeXtpZihkPWF3YWl0IGkud2hlbkxheWVyVmlldyh0aGlzLmxheWVyKSx5PW51bGwhPXAmJnAgaW4gZCYmXCJmdW5jdGlvblwiPT10eXBlb2YgZFtwXSx5KXthd2FpdCB0aGlzLl93YWl0Rm9yTGF5ZXJWaWV3VXBkYXRlKGQpO2NvbnN0IGU9YXdhaXQgYyh7ZmllbGQ6cyxmaWVsZDI6byxmaWVsZDM6bixub3JtYWxpemF0aW9uRmllbGQ6bCx2YWx1ZUV4cHJlc3Npb246dX0pO0YodGhpcyxlKS5sZW5ndGg/eT0hMTooZj1cImNyZWF0ZUFnZ3JlZ2F0ZVF1ZXJ5XCJpbiBkP2QuY3JlYXRlQWdncmVnYXRlUXVlcnkoKTpudWxsLGY/KGYub3V0RmllbGRzPWUsZi5yZXR1cm5HZW9tZXRyeT0hMSxTKGYscikpOnk9ITEpLGQuc3VzcGVuZGVkJiYoeT0hMSl9fWNhdGNoe3k9ITF9aWYoIXkmJih3PXYodGhpcy5sYXllcikubWFwKChlPT5lLnRvSlNPTigpKSksaD1hd2FpdCB0aGlzLl9mZXRjaEZlYXR1cmVzRm9yU3RhdHMoe2ZpZWxkOnMsZmllbGQyOm8sZmllbGQzOm4sdmFsdWVFeHByZXNzaW9uOnUsbm9ybWFsaXphdGlvbkZpZWxkOmwscmV0dXJuR2VvbWV0cnk6bSxmaWx0ZXI6cix2aWV3Omksc2lnbmFsOmd9LFwianNvblwiKSwhaD8ubGVuZ3RoKSl0aHJvdyBuZXcgYShgJHt0aGlzLmFkYXB0ZXJOYW1lfTppbnN1ZmZpY2llbnQtZGF0YWAsXCJObyBmZWF0dXJlcyBhcmUgYXZhaWxhYmxlIHRvIGNhbGN1bGF0ZSBzdGF0aXN0aWNzXCIpO3JldHVybntsYXllclZpZXc6ZCxxdWVyeTpmLGZlYXR1cmVzSlNPTjpoLGZpZWxkSW5mb3M6d319YXN5bmMgX3N1bW1hcnlTdGF0c0Zyb21NZW1vcnkoZSx0KXtjb25zdHt2aWV3OmEsZmllbGQ6cix2YWx1ZUV4cHJlc3Npb246aSxub3JtYWxpemF0aW9uVHlwZTpzLHNpZ25hbDpufT1lLGw9e2ZpZWxkOnIsdmFsdWVFeHByZXNzaW9uOmksbm9ybWFsaXphdGlvblR5cGU6cyxub3JtYWxpemF0aW9uRmllbGQ6ZS5ub3JtYWxpemF0aW9uRmllbGQsbm9ybWFsaXphdGlvblRvdGFsOmUubm9ybWFsaXphdGlvblRvdGFsLG1pblZhbHVlOmUubWluVmFsdWUsbWF4VmFsdWU6ZS5tYXhWYWx1ZSxvdXRTdGF0aXN0aWNUeXBlczplLm91dFN0YXRpc3RpY1R5cGVzfSx7ZmVhdHVyZXNKU09OOm0sZ3JhcGhpY3M6cCxsYXllclZpZXc6ZyxxdWVyeTpkLGZpZWxkSW5mb3M6eX09YXdhaXQgdGhpcy5fcHJvY2Vzc1N0YXRzRnJvbU1lbW9yeVBhcmFtcyh7Li4uZSxsYXllclZpZXdGdW5jOlwicXVlcnlBZ2dyZWdhdGVTdW1tYXJ5U3RhdGlzdGljc1wifSk7cmV0dXJuIGkmJmEmJihtfHxwKSYmKGwuZmllbGRUeXBlPXQ/LnR5cGU/by50b0pTT04odC50eXBlKTpudWxsLGwudmlld0luZm9QYXJhbXM9cShhKSxsLnRpbWVab25lPWEudGltZVpvbmUsbC5maWVsZEluZm9zPXkpLFwicGVyY2VudC1vZi10b3RhbFwiPT09cyYmbnVsbD09ZS5ub3JtYWxpemF0aW9uVG90YWwmJihsLm5vcm1hbGl6YXRpb25Ub3RhbD1hd2FpdCB0aGlzLl9nZXROb3JtYWxpemF0aW9uVG90YWxGcm9tTWVtb3J5KHIse2ZlYXR1cmVzSlNPTjptLGdyYXBoaWNzOnAsbGF5ZXJWaWV3OmcscXVlcnk6ZH0sbikpLCFtJiYhcCYmZyYmXCJxdWVyeUFnZ3JlZ2F0ZVN1bW1hcnlTdGF0aXN0aWNzXCJpbiBnP2cucXVlcnlBZ2dyZWdhdGVTdW1tYXJ5U3RhdGlzdGljcyhkLGwse3NpZ25hbDpufSk6bT90aGlzLndvcmtlckNsaWVudC5zdW1tYXJ5U3RhdGlzdGljcyhsLG0pOnUoe2F0dHJpYnV0ZTpsLGZlYXR1cmVzOnB9KX1hc3luYyBfdXZGcm9tTWVtb3J5KGUsdCl7Y29uc3R7dmlldzphLGZpZWxkOnIsdmFsdWVFeHByZXNzaW9uOmkscmV0dXJuQWxsQ29kZWRWYWx1ZXM6cyxzaWduYWw6b309ZSx7ZmVhdHVyZXNKU09OOm4sZ3JhcGhpY3M6bCxsYXllclZpZXc6dSxxdWVyeTpwLGZpZWxkSW5mb3M6Z309YXdhaXQgdGhpcy5fcHJvY2Vzc1N0YXRzRnJvbU1lbW9yeVBhcmFtcyh7Li4uZSxsYXllclZpZXdGdW5jOlwicXVlcnlBZ2dyZWdhdGVVbmlxdWVWYWx1ZXNcIn0pLGQ9e2ZpZWxkOnIsZmllbGQyOmUuZmllbGQyLGZpZWxkMzplLmZpZWxkMyxmaWVsZERlbGltaXRlcjpmLHZhbHVlRXhwcmVzc2lvbjppLGRvbWFpbnM6dCxyZXR1cm5BbGxDb2RlZFZhbHVlczpzfTtyZXR1cm4gaSYmYSYmKG58fGwpJiYoZC52aWV3SW5mb1BhcmFtcz1xKGEpLGQudGltZVpvbmU9YS50aW1lWm9uZSxkLmZpZWxkSW5mb3M9ZyksIW4mJiFsJiZ1JiZcInF1ZXJ5QWdncmVnYXRlVW5pcXVlVmFsdWVzXCJpbiB1P3UucXVlcnlBZ2dyZWdhdGVVbmlxdWVWYWx1ZXMocCxkLHtzaWduYWw6b30pOm4/dGhpcy53b3JrZXJDbGllbnQudW5pcXVlVmFsdWVzKGQsbik6bSh7YXR0cmlidXRlOmQsZmVhdHVyZXM6bH0pfWFzeW5jIF9oaXN0b2dyYW1Gcm9tTWVtb3J5KGUpe2NvbnN0e3ZpZXc6dCxmaWVsZDphLHZhbHVlRXhwcmVzc2lvbjpyLHNpZ25hbDppfT1lLHtmZWF0dXJlc0pTT046cyxncmFwaGljczpvLGxheWVyVmlldzpuLHF1ZXJ5OmwsZmllbGRJbmZvczp1fT1hd2FpdCB0aGlzLl9wcm9jZXNzU3RhdHNGcm9tTWVtb3J5UGFyYW1zKHsuLi5lLGxheWVyVmlld0Z1bmM6XCJxdWVyeUFnZ3JlZ2F0ZUhpc3RvZ3JhbVwifSksbT17ZmllbGQ6YSx2YWx1ZUV4cHJlc3Npb246cixub3JtYWxpemF0aW9uVHlwZTplLm5vcm1hbGl6YXRpb25UeXBlLG5vcm1hbGl6YXRpb25GaWVsZDplLm5vcm1hbGl6YXRpb25GaWVsZCxub3JtYWxpemF0aW9uVG90YWw6ZS5ub3JtYWxpemF0aW9uVG90YWwsbWluVmFsdWU6ZS5taW5WYWx1ZSxtYXhWYWx1ZTplLm1heFZhbHVlLHN0YW5kYXJkRGV2aWF0aW9uSW50ZXJ2YWw6ZS5zdGFuZGFyZERldmlhdGlvbkludGVydmFsLGNsYXNzaWZpY2F0aW9uTWV0aG9kOmUuY2xhc3NpZmljYXRpb25NZXRob2QsbnVtQmluczplLm51bUJpbnN9O3JldHVybiByJiZ0JiYoc3x8bykmJihtLnZpZXdJbmZvUGFyYW1zPXEodCksbS50aW1lWm9uZT10LnRpbWVab25lLG0uZmllbGRJbmZvcz11KSxcInBlcmNlbnQtb2YtdG90YWxcIj09PWUubm9ybWFsaXphdGlvblR5cGUmJm51bGw9PWUubm9ybWFsaXphdGlvblRvdGFsJiYobS5ub3JtYWxpemF0aW9uVG90YWw9YXdhaXQgdGhpcy5fZ2V0Tm9ybWFsaXphdGlvblRvdGFsRnJvbU1lbW9yeShhLHtmZWF0dXJlc0pTT046cyxncmFwaGljczpvLGxheWVyVmlldzpuLHF1ZXJ5Omx9LGkpKSwhcyYmIW8mJm4mJlwicXVlcnlBZ2dyZWdhdGVIaXN0b2dyYW1cImluIG4/bi5xdWVyeUFnZ3JlZ2F0ZUhpc3RvZ3JhbShsLG0se3NpZ25hbDppfSk6cz90aGlzLndvcmtlckNsaWVudC5oaXN0b2dyYW0obSxzKTpwKHthdHRyaWJ1dGU6bSxmZWF0dXJlczpvfSl9YXN5bmMgX2NsYXNzQnJlYWtzRnJvbU1lbW9yeShlKXtjb25zdHt2aWV3OnQsZmllbGQ6YSx2YWx1ZUV4cHJlc3Npb246cixzaWduYWw6aX09ZSx7ZmVhdHVyZXNKU09OOnMsZ3JhcGhpY3M6byxsYXllclZpZXc6bixxdWVyeTpsLGZpZWxkSW5mb3M6dX09YXdhaXQgdGhpcy5fcHJvY2Vzc1N0YXRzRnJvbU1lbW9yeVBhcmFtcyh7Li4uZSxsYXllclZpZXdGdW5jOlwicXVlcnlBZ2dyZWdhdGVDbGFzc0JyZWFrc1wifSksbT17ZmllbGQ6YSx2YWx1ZUV4cHJlc3Npb246cixub3JtYWxpemF0aW9uVHlwZTplLm5vcm1hbGl6YXRpb25UeXBlLG5vcm1hbGl6YXRpb25GaWVsZDplLm5vcm1hbGl6YXRpb25GaWVsZCxub3JtYWxpemF0aW9uVG90YWw6ZS5ub3JtYWxpemF0aW9uVG90YWwsbWluVmFsdWU6ZS5taW5WYWx1ZSxtYXhWYWx1ZTplLm1heFZhbHVlLHN0YW5kYXJkRGV2aWF0aW9uSW50ZXJ2YWw6ZS5zdGFuZGFyZERldmlhdGlvbkludGVydmFsLGNsYXNzaWZpY2F0aW9uTWV0aG9kOmUuY2xhc3NpZmljYXRpb25NZXRob2QsbnVtQ2xhc3NlczplLm51bUNsYXNzZXN9O3JldHVybiByJiZ0JiYoc3x8bykmJihtLnZpZXdJbmZvUGFyYW1zPXEodCksbS50aW1lWm9uZT10LnRpbWVab25lLG0uZmllbGRJbmZvcz11KSxcInBlcmNlbnQtb2YtdG90YWxcIj09PWUubm9ybWFsaXphdGlvblR5cGUmJm51bGw9PWUubm9ybWFsaXphdGlvblRvdGFsJiYobS5ub3JtYWxpemF0aW9uVG90YWw9YXdhaXQgdGhpcy5fZ2V0Tm9ybWFsaXphdGlvblRvdGFsRnJvbU1lbW9yeShhLHtmZWF0dXJlc0pTT046cyxncmFwaGljczpvLGxheWVyVmlldzpuLHF1ZXJ5Omx9LGkpKSwhcyYmIW8mJm4mJlwicXVlcnlBZ2dyZWdhdGVDbGFzc0JyZWFrc1wiaW4gbj9uLnF1ZXJ5QWdncmVnYXRlQ2xhc3NCcmVha3MobCxtLHtzaWduYWw6aX0pOnM/dGhpcy53b3JrZXJDbGllbnQuY2xhc3NCcmVha3MobSxzKTpnKHthdHRyaWJ1dGU6bSxmZWF0dXJlczpvfSl9Z2V0RmllbGQoZT1cIlwiKXtjb25zdCB0PXYodGhpcy5sYXllcik7cmV0dXJuIHQ/LmZpbmQoKHQ9PnQubmFtZS50b0xvd2VyQ2FzZSgpPT09ZT8udG9Mb3dlckNhc2UoKSkpfWdldEZpZWxkVXNhZ2VJbmZvKGUpe3JldHVybiB0aGlzLmdldEZpZWxkKGUpP3tzdXBwb3J0c0xhYmVsaW5nSW5mbzohMCxzdXBwb3J0c1JlbmRlcmVyOiEwLHN1cHBvcnRzUG9wdXBUZW1wbGF0ZTohMCxzdXBwb3J0c0xheWVyUXVlcnk6ITEsc3VwcG9ydHNTdGF0aXN0aWNzOiEwfTpudWxsfWdldEZpZWxkRG9tYWluKGUsdCl7cmV0dXJuIG51bGx9YXN5bmMgc3VtbWFyeVN0YXRpc3RpY3MoZSl7Y29uc3R7ZmllbGQ6dH09ZSxyPXQ/dGhpcy5nZXRGaWVsZCh0KTpudWxsLGk9aChyKXx8bihyKSxzPWUuc3FsRXhwcmVzc2lvbiYmIWUudmFsdWVFeHByZXNzaW9uJiYhdDtpZihpfHxzKXRocm93IG5ldyBhKGAke3RoaXMuYWRhcHRlck5hbWV9Om5vdC1zdXBwb3J0ZWRgLFwiRGF0ZSBmaWVsZCBhbmQgc3FsRXhwcmVzc2lvbiBhcmUgbm90IHN1cHBvcnRlZFwiKTtyZXR1cm4gdGhpcy5fc3VtbWFyeVN0YXRzRnJvbU1lbW9yeShlLHIpfWFzeW5jIHVuaXF1ZVZhbHVlcyhlKXtjb25zdCB0PWF3YWl0IFYoZSx0aGlzKTtyZXR1cm4gdGhpcy5fdXZGcm9tTWVtb3J5KGUsdCl9YXN5bmMgaGlzdG9ncmFtKGUpe2NvbnN0e2ZpZWxkOnR9PWUscj10P3RoaXMuZ2V0RmllbGQodCk6bnVsbCxpPWgocil8fG4ocikscz1lLnNxbEV4cHJlc3Npb24mJiFlLnZhbHVlRXhwcmVzc2lvbiYmIXQ7aWYoaXx8cyl0aHJvdyBuZXcgYShgJHt0aGlzLmFkYXB0ZXJOYW1lfTpub3Qtc3VwcG9ydGVkYCxcIkRhdGUgZmllbGQgYW5kIHNxbEV4cHJlc3Npb24gYXJlIG5vdCBzdXBwb3J0ZWRcIik7cmV0dXJuIHRoaXMuX2hpc3RvZ3JhbUZyb21NZW1vcnkoZSl9YXN5bmMgY2xhc3NCcmVha3MoZSl7cmV0dXJuKCExIT09ZS5hbmFseXplRGF0YT90aGlzLl9jbGFzc0JyZWFrc0Zyb21NZW1vcnkoZSk6dGhpcy5fY2xhc3NCcmVha3NGcm9tSW50ZXJwb2xhdGlvbihlKSkuY2F0Y2goKCgpPT4ocihlLnNpZ25hbCksdGhpcy5fY2xhc3NCcmVha3NGcm9tTWVtb3J5KGUpKSkpfWFzeW5jIHF1ZXJ5RmVhdHVyZUNvdW50KGUpe2NvbnN0IHQ9YXdhaXQoZS52aWV3Py53aGVuTGF5ZXJWaWV3KHRoaXMubGF5ZXIpKTtpZighdHx8IShcInF1ZXJ5QWdncmVnYXRlQ291bnRcImluIHQpfHwhdC5xdWVyeUFnZ3JlZ2F0ZUNvdW50KXRocm93IG5ldyBhKGAke3RoaXMuYWRhcHRlck5hbWV9Om5vdC1zdXBwb3J0ZWRgLFwiTGF5ZXJWaWV3IGlzIG5vdCBzdXBwb3J0ZWQuXCIpO2F3YWl0IHRoaXMuX3dhaXRGb3JMYXllclZpZXdVcGRhdGUodCk7Y29uc3Qgcj10LmNyZWF0ZUFnZ3JlZ2F0ZVF1ZXJ5KCk7cmV0dXJuIHIud2hlcmU9ZChyLndoZXJlLGUud2hlcmVDbGF1c2UpLFMocixlLmZpbHRlciksdC5xdWVyeUFnZ3JlZ2F0ZUNvdW50KHIse3NpZ25hbDplLnNpZ25hbH0pfWdlbmVyYXRlUmVuZGVyZXIoZSx0KXt0aHJvdyBuZXcgYShgJHt0aGlzLmFkYXB0ZXJOYW1lfTpub3Qtc3VwcG9ydGVkYCxcIidnZW5lcmF0ZVJlbmRlcmVyJyBpcyBub3Qgc3VwcG9ydGVkLlwiKX1oZWF0bWFwU3RhdGlzdGljcyhlKXt0aHJvdyBuZXcgYShgJHt0aGlzLmFkYXB0ZXJOYW1lfTpub3Qtc3VwcG9ydGVkYCxcIidoZWF0bWFwU3RhdGlzdGljcycgaXMgbm90IHN1cHBvcnRlZC5cIil9YXN5bmMgcHJlZG9taW5hbnRDYXRlZ29yaWVzKGUpe2NvbnN0e2ZpZWxkczp0LHZpZXc6YSxzaWduYWw6cn09ZSxpPWwodCkscz1hd2FpdCB0aGlzLl91dkZyb21NZW1vcnkoe3ZhbHVlRXhwcmVzc2lvbjppLHZpZXc6YSxzaWduYWw6cn0pO3JldHVybiB6KHMudW5pcXVlVmFsdWVJbmZvcyx0KX1hc3luYyBnZXRTYW1wbGVGZWF0dXJlcyhlLHIpe2NvbnN0e3ZpZXc6aSxzYW1wbGVTaXplOnMscmVxdWlyZWRGaWVsZHM6byxyZXR1cm5HZW9tZXRyeTpuLGZpbHRlcjpsLHNpZ25hbDp1fT1lO2lmKCFpKXRocm93IG5ldyBhKGAke3RoaXMuYWRhcHRlck5hbWV9Om5vdC1zdXBwb3J0ZWRgLFwiJ3ZpZXcnIGlzIHJlcXVpcmVkIHRvIGdldCBzYW1wbGUgZmVhdHVyZXMgZm9yIGJpbm5pbmcuXCIpO2lmKFwiM2RcIj09PWkudHlwZSl0aHJvdyBuZXcgYShgJHt0aGlzLmFkYXB0ZXJOYW1lfTpub3Qtc3VwcG9ydGVkYCxcIjNkICd2aWV3JyBpcyBub3Qgc3VwcG9ydGVkIHRvIGdldCBzYW1wbGUgZmVhdHVyZXMgZm9yIGJpbm5pbmcuXCIpO2NvbnN0IG09YXdhaXQgaS53aGVuTGF5ZXJWaWV3KHRoaXMubGF5ZXIpO2lmKCEoXCJxdWVyeUFnZ3JlZ2F0ZUpTT05cImluIG0mJm0ucXVlcnlBZ2dyZWdhdGVKU09OJiZcInF1ZXJ5QWdncmVnYXRlc1wiaW4gbSYmbS5xdWVyeUFnZ3JlZ2F0ZXMpKXRocm93IG5ldyBhKGAke3RoaXMuYWRhcHRlck5hbWV9Om5vdC1zdXBwb3J0ZWRgLFwiTGF5ZXJWaWV3IGlzIG5vdCBzdXBwb3J0ZWQuXCIpO2F3YWl0IHRoaXMuX3dhaXRGb3JMYXllclZpZXdVcGRhdGUobSk7aWYoRih0aGlzLG8pLmxlbmd0aCl0aHJvdyBuZXcgYShgJHt0aGlzLmFkYXB0ZXJOYW1lfTppbnN1ZmZpY2llbnQtZGF0YWAsXCJMYXllciBkb2VzIG5vdCBoYXZlIHJlcXVpcmVkIGZpZWxkc1wiKTtjb25zdCBwPTEsZz1cImpzb25cIj09PXIsZD1tLmNyZWF0ZUFnZ3JlZ2F0ZVF1ZXJ5KCk7ZC5vdXRTcGF0aWFsUmVmZXJlbmNlPWk/LnNwYXRpYWxSZWZlcmVuY2UsZC5yZXR1cm5HZW9tZXRyeT0hIW4sZC5vdXRGaWVsZHM9byxTKGQsbCk7Y29uc3R7ZmVhdHVyZXM6eX09Zz9hd2FpdCBtLnF1ZXJ5QWdncmVnYXRlSlNPTihkLHtzaWduYWw6dX0pOmF3YWl0IG0ucXVlcnlBZ2dyZWdhdGVzKGQse3NpZ25hbDp1fSk7cmV0dXJuIHkubGVuZ3RoJiZudWxsIT1zJiZzPjAmJnM8PXkubGVuZ3RoP3QoeSxzLHApOnl9bG9hZChlKXtjb25zdCB0PXRoaXMubGF5ZXIubG9hZChlKS50aGVuKChhc3luYyB0PT57dGhpcy5nZW9tZXRyeVR5cGU9XCJwb2x5Z29uXCIsdGhpcy5vYmplY3RJZEZpZWxkPW51bGwsdGhpcy5zdXBwb3J0c1NRTEV4cHJlc3Npb249ITEsdGhpcy5faGFzTG9jYWxTb3VyY2U9ITEsdGhpcy5oYXNRdWVyeUVuZ2luZT0hMCx0aGlzLm1pblNjYWxlPXQubWluU2NhbGUsdGhpcy5tYXhTY2FsZT10Lm1heFNjYWxlLHRoaXMuZnVsbEV4dGVudD10LmZ1bGxFeHRlbnQ7Y29uc3Qgcj1cImZlYXR1cmVSZWR1Y3Rpb25cImluIHQ/dC5mZWF0dXJlUmVkdWN0aW9uOm51bGw7aWYoXCJiaW5uaW5nXCIhPT1yPy50eXBlJiZcImNsdXN0ZXJcIiE9PXI/LnR5cGUpdGhyb3cgbmV3IGEoYCR7dGhpcy5hZGFwdGVyTmFtZX06aW52YWxpZC1wYXJhbWV0ZXJzYCxgRmVhdHVyZSByZWR1Y3Rpb24gdHlwZSAke3I/LnR5cGV9IGlzIG5vdCBzdXBwb3J0ZWRgKTt0aGlzLndvcmtlckNsaWVudD15LmdldEluc3RhbmNlKCksYXdhaXQgdGhpcy53b3JrZXJDbGllbnQub3BlbihlLnNpZ25hbCl9KSk7cmV0dXJuIHRoaXMuYWRkUmVzb2x2aW5nUHJvbWlzZSh0KSxQcm9taXNlLnJlc29sdmUodGhpcyl9fTtlKFtpKHtyZWFkT25seTohMH0pXSxOLnByb3RvdHlwZSxcImFkYXB0ZXJOYW1lXCIsdm9pZCAwKSxOPWUoW3MoXCJlc3JpLnNtYXJ0TWFwcGluZy5zdXBwb3J0LmFkYXB0ZXJzLkZlYXR1cmVMYXllckJpbm5pbmdBZGFwdGVyXCIpXSxOKTtjb25zdCBUPU47ZXhwb3J0e1QgYXMgZGVmYXVsdH07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4zMy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e18gYXMgZX1mcm9tXCIuLi8uLi8uLi9jaHVua3MvdHNsaWIuZXM2LmpzXCI7aW1wb3J0e3BpY2tSYW5kb20gYXMgdH1mcm9tXCIuLi8uLi8uLi9jb3JlL2FycmF5VXRpbHMuanNcIjtpbXBvcnQgciBmcm9tXCIuLi8uLi8uLi9jb3JlL0Vycm9yLmpzXCI7aW1wb3J0IGEgZnJvbVwiLi4vLi4vLi4vY29yZS9Mb2dnZXIuanNcIjtpbXBvcnR7YXNzZXJ0SXNTb21lIGFzIGl9ZnJvbVwiLi4vLi4vLi4vY29yZS9tYXliZS5qc1wiO2ltcG9ydHt0aW1lb3V0IGFzIHMsdGhyb3dJZkFib3J0ZWQgYXMgb31mcm9tXCIuLi8uLi8uLi9jb3JlL3Byb21pc2VVdGlscy5qc1wiO2ltcG9ydHt3aGVuT25jZSBhcyBufWZyb21cIi4uLy4uLy4uL2NvcmUvcmVhY3RpdmVVdGlscy5qc1wiO2ltcG9ydHtwcm9wZXJ0eSBhcyBsfWZyb21cIi4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvcHJvcGVydHkuanNcIjtpbXBvcnRcIi4uLy4uLy4uL2NvcmUvaGFzLmpzXCI7aW1wb3J0e3N1YmNsYXNzIGFzIHV9ZnJvbVwiLi4vLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9zdWJjbGFzcy5qc1wiO2ltcG9ydHt0b1F1YW50aXphdGlvblRyYW5zZm9ybSBhcyBtfWZyb21cIi4uLy4uLy4uL2dlb21ldHJ5L3N1cHBvcnQvcXVhbnRpemF0aW9uVXRpbHMuanNcIjtpbXBvcnR7a2ViYWJEaWN0IGFzIHB9ZnJvbVwiLi4vLi4vLi4vbGF5ZXJzL3N1cHBvcnQvZmllbGRUeXBlLmpzXCI7aW1wb3J0e2lzVGltZU9ubHlGaWVsZCBhcyB5fWZyb21cIi4uLy4uLy4uL2xheWVycy9zdXBwb3J0L2ZpZWxkVXRpbHMuanNcIjtpbXBvcnQgYyBmcm9tXCIuLi8uLi8uLi9yZXN0L3N1cHBvcnQvUXVhbnRpemF0aW9uUGFyYW1ldGVycy5qc1wiO2ltcG9ydHtnZXRBcmNhZGVGb3JQcmVkb21pbmFudENhdGVnb3J5IGFzIGZ9ZnJvbVwiLi4vLi4vc3RhdGlzdGljcy9zdXBwb3J0L3ByZWRvbWluYW5jZVV0aWxzLmpzXCI7aW1wb3J0e3N1bW1hcnlTdGF0aXN0aWNzIGFzIGQsdW5pcXVlVmFsdWVzIGFzIGgsaGlzdG9ncmFtIGFzIHcsY2xhc3NCcmVha3MgYXMgZyxoZWF0bWFwU3RhdGlzdGljcyBhcyBGfWZyb21cIi4uLy4uL3N0YXRpc3RpY3Mvc3VwcG9ydC9zdGF0c1dvcmtlci5qc1wiO2ltcG9ydHttZXJnZVdoZXJlQ2xhdXNlcyBhcyBTfWZyb21cIi4uLy4uL3N0YXRpc3RpY3Mvc3VwcG9ydC91dGlscy5qc1wiO2ltcG9ydHtXb3JrZXJDbGllbnQgYXMgdn1mcm9tXCIuLi8uLi9zdGF0aXN0aWNzL3N1cHBvcnQvV29ya2VyQ2xpZW50LmpzXCI7aW1wb3J0e2dldEZpZWxkc0xpc3QgYXMgcSxpc0FueURhdGVGaWVsZCBhcyBWLGZpZWxkRGVsaW1pdGVyIGFzIHh9ZnJvbVwiLi4vdXRpbHMuanNcIjtpbXBvcnQgXyBmcm9tXCIuL0xheWVyQWRhcHRlci5qc1wiO2ltcG9ydHtnZXRIaXN0b2dyYW1BdHRyaWJ1dGVEZWZpbml0aW9uIGFzIHosZ2V0QXR0cmlidXRlQmluc1F1ZXJ5IGFzIFQscHJvY2Vzc1F1ZXJ5QXR0cmlidXRlQmluc1Jlc3VsdCBhcyBOfWZyb21cIi4vc3VwcG9ydC9oaXN0b2dyYW1VdGlscy5qc1wiO2ltcG9ydHtlbnN1cmVGZWF0dXJlc0pTT04gYXMgTSxnZXRTdW1tYXJ5U3RhdHNRdWVyeSBhcyBMLGdldFN1bW1hcnlTdGF0aXN0aWNzRnJvbUZlYXR1cmVTZXQgYXMgQyxnZXRWaWV3SW5mb1BhcmFtcyBhcyBFLGdldE1pc3NpbmdGaWVsZHMgYXMgaix1cGRhdGVRdWVyeVdpdGhGZWF0dXJlRmlsdGVyIGFzIGIsZ2V0VVZRdWVyeSBhcyBrLGdldFVuaXF1ZVZhbHVlc0Zyb21GZWF0dXJlU2V0IGFzIEksZ2V0QmlucyBhcyBPLGdldERvbWFpbnNGb3JGaWVsZHMgYXMgUSxnZXRQcmVkb21pbmFudENhdGVnb3JpZXNGcm9tVVZJbmZvcyBhcyBKfWZyb21cIi4vc3VwcG9ydC91dGlscy5qc1wiO2ltcG9ydHtwcm9jZXNzU3VtbWFyeVN0YXRpc3RpY3NSZXN1bHQgYXMgQixjcmVhdGVVVlJlc3VsdCBhcyBQLHJlc29sdmVDQlJlc3VsdCBhcyBVfWZyb21cIi4uLy4uLy4uL3N0YXRpc3RpY3MvdXRpbHMuanNcIjtpbXBvcnR7bG9hZEFyY2FkZSBhcyBBfWZyb21cIi4uLy4uLy4uL3N1cHBvcnQvbG9hZEFyY2FkZS5qc1wiO2NvbnN0ICQ9NTtsZXQgRz1udWxsLFI9Y2xhc3MgZXh0ZW5kcyBfe2NvbnN0cnVjdG9yKCl7c3VwZXIoLi4uYXJndW1lbnRzKSx0aGlzLl9oYXNMb2NhbFNvdXJjZT0hMSx0aGlzLmFkYXB0ZXJOYW1lPVwiaW4tbWVtb3J5LWxheWVyLWFkYXB0ZXJcIn1kZXN0cm95KCl7dGhpcy53b3JrZXJDbGllbnQ/LmRlc3Ryb3koKX1hc3luYyBfd2FpdEZvckxheWVyVmlld1VwZGF0ZShlKXtpZighZSl0aHJvdyBuZXcgcihgJHt0aGlzLmFkYXB0ZXJOYW1lfTppbnN1ZmZpY2llbnQtZGF0YWAsXCJsYXllclZpZXcgaXMgcmVxdWlyZWQgdG8gZmV0Y2ggdGhlIGZlYXR1cmVzXCIpO2NvbnN0IHQ9bmV3IEFib3J0Q29udHJvbGxlcixpPW4oKCgpPT4hZS51cGRhdGluZyksdC5zaWduYWwpO2F3YWl0IHMoaSw1ZTMsdCkuY2F0Y2goKGU9Pnt0aHJvdyBhLmdldExvZ2dlcih0aGlzKS53YXJuKFwiTGF5ZXJWaWV3IGlzIHRha2luZyB0b28gbG9uZyB0byB1cGRhdGUuIEFib3J0aW5nIGZldGNoIGZyb20gbGF5ZXJWaWV3LlwiKSxlfSkpfWFzeW5jIF9mZXRjaEZlYXR1cmVTZXRGcm9tTWVtb3J5KGUsdCxhKXtjb25zdCBpPXRoaXMubGF5ZXI7aWYodGhpcy5faGFzTG9jYWxTb3VyY2UmJlwicXVlcnlGZWF0dXJlc1wiaW4gaSlyZXR1cm4gaS5xdWVyeUZlYXR1cmVzKGUpO2lmKCF0KXRocm93IG5ldyByKGAke3RoaXMuYWRhcHRlck5hbWV9Omluc3VmZmljaWVudC1kYXRhYCxcInZpZXcgaXMgcmVxdWlyZWQgdG8gZmV0Y2ggdGhlIGZlYXR1cmVzIGZyb20gbGF5ZXJWaWV3XCIpO2NvbnN0IHM9YXdhaXQgdC53aGVuTGF5ZXJWaWV3KHRoaXMubGF5ZXIpO3JldHVybiBhd2FpdCB0aGlzLl93YWl0Rm9yTGF5ZXJWaWV3VXBkYXRlKHMpLHMucXVlcnlGZWF0dXJlcyhlLHtzaWduYWw6YX0pfWFzeW5jIF9mZXRjaEZlYXR1cmVzRnJvbU1lbW9yeShlLHQsYSxpKXtjb25zdCBzPXRoaXMubGF5ZXIsbz1cImpzb25cIj09PWk7aWYodGhpcy5faGFzTG9jYWxTb3VyY2UmJlwicXVlcnlGZWF0dXJlc1wiaW4gcyl7Y29uc3QgZT1hd2FpdCBzLnF1ZXJ5RmVhdHVyZXModCk7cmV0dXJuIG8/TShlLmZlYXR1cmVzKTplLmZlYXR1cmVzfWlmKGF3YWl0IHRoaXMuX3dhaXRGb3JMYXllclZpZXdVcGRhdGUoZSksbyYmXCJxdWVyeUZlYXR1cmVzSlNPTlwiaW4gZSYmZS5xdWVyeUZlYXR1cmVzSlNPTil7Y29uc3R7ZmVhdHVyZXM6cn09YXdhaXQgZS5xdWVyeUZlYXR1cmVzSlNPTih0LHtzaWduYWw6YX0pO3JldHVybiByfWlmKCEoXCJxdWVyeUZlYXR1cmVzXCJpbiBlKSl0aHJvdyBuZXcgcihgJHt0aGlzLmFkYXB0ZXJOYW1lfTpub3Qtc3VwcG9ydGVkYCxcIidxdWVyeUZlYXR1cmVzJyBpcyBub3Qgc3VwcG9ydGVkIG9uIHRoZSBsYXllclZpZXdcIik7Y29uc3Qgbj1hd2FpdCBlLnF1ZXJ5RmVhdHVyZXModCx7c2lnbmFsOmF9KTtyZXR1cm4gbz9NKG4uZmVhdHVyZXMpOm4uZmVhdHVyZXN9X2ZldGNoRmVhdHVyZXNGb3JTdGF0cyhlLHQpe3JldHVybiBxKHtmaWVsZDplLmZpZWxkLGZpZWxkMjplLmZpZWxkMixmaWVsZDM6ZS5maWVsZDMsbm9ybWFsaXphdGlvbkZpZWxkOmUubm9ybWFsaXphdGlvbkZpZWxkLHZhbHVlRXhwcmVzc2lvbjplLnZhbHVlRXhwcmVzc2lvbn0pLnRoZW4oKHI9PnRoaXMuZ2V0U2FtcGxlRmVhdHVyZXMoe3NhbXBsZVNpemU6LTEsdmlldzplLnZpZXcscmV0dXJuR2VvbWV0cnk6ZS5yZXR1cm5HZW9tZXRyeSxmaWx0ZXI6ZS5maWx0ZXIscmVxdWlyZWRGaWVsZHM6cixzaWduYWw6ZS5zaWduYWx9LHQpKSl9YXN5bmMgX3N1bW1hcnlTdGF0c0Zyb21DbGllbnRRdWVyeShlLHQpe2NvbnN0e3ZpZXc6cixzaWduYWw6YX09ZSxpPUwodGhpcyxlLHQpLHM9YXdhaXQgdGhpcy5fZmV0Y2hGZWF0dXJlU2V0RnJvbU1lbW9yeShpLHIsYSksbz1DKHMsVih0KXx8eSh0KSk7cmV0dXJuIEIobyxlLm91dFN0YXRpc3RpY1R5cGVzKX1hc3luYyBfZ2V0Tm9ybWFsaXphdGlvblRvdGFsRnJvbU1lbW9yeShlLHQsYSl7Y29uc3R7ZmVhdHVyZXNKU09OOmksZ3JhcGhpY3M6cyxsYXllclZpZXc6byxxdWVyeTpufT10LGw9e2luY2x1ZGU6W1wic3VtXCJdfSx1PSghaSYmIXMmJm8mJlwicXVlcnlTdW1tYXJ5U3RhdGlzdGljc1wiaW4gbz9hd2FpdCBvLnF1ZXJ5U3VtbWFyeVN0YXRpc3RpY3Mobix7ZmllbGQ6ZX0se3NpZ25hbDphfSk6aT9hd2FpdCB0aGlzLndvcmtlckNsaWVudC5zdW1tYXJ5U3RhdGlzdGljcyh7ZmllbGQ6ZSxvdXRTdGF0aXN0aWNUeXBlczpsfSxpKTphd2FpdCBkKHthdHRyaWJ1dGU6e2ZpZWxkOmUsb3V0U3RhdGlzdGljVHlwZXM6bH0sZmVhdHVyZXM6cz8/W119KSkuc3VtO2lmKG51bGw9PXUpdGhyb3cgbmV3IHIoYCR7dGhpcy5hZGFwdGVyTmFtZX06aW52YWxpZGAsXCJpbnZhbGlkIG5vcm1hbGl6YXRpb25Ub3RhbFwiKTtyZXR1cm4gdX1hc3luYyBfc3VtbWFyeVN0YXRzRnJvbU1lbW9yeShlLHQpe2NvbnN0e3ZpZXc6cixmaWVsZDphLHZhbHVlRXhwcmVzc2lvbjppLG5vcm1hbGl6YXRpb25UeXBlOnMsc2lnbmFsOm99PWUsbj17ZmllbGQ6YSx2YWx1ZUV4cHJlc3Npb246aSxub3JtYWxpemF0aW9uVHlwZTpzLG5vcm1hbGl6YXRpb25GaWVsZDplLm5vcm1hbGl6YXRpb25GaWVsZCxub3JtYWxpemF0aW9uVG90YWw6ZS5ub3JtYWxpemF0aW9uVG90YWwsbWluVmFsdWU6ZS5taW5WYWx1ZSxtYXhWYWx1ZTplLm1heFZhbHVlLG91dFN0YXRpc3RpY1R5cGVzOmUub3V0U3RhdGlzdGljVHlwZXN9LHtmZWF0dXJlc0pTT046bCxncmFwaGljczp1LGxheWVyVmlldzptLHF1ZXJ5OnksZmllbGRJbmZvczpjfT1hd2FpdCB0aGlzLl9wcm9jZXNzU3RhdHNGcm9tTWVtb3J5UGFyYW1zKHsuLi5lLGxheWVyVmlld0Z1bmM6XCJxdWVyeVN1bW1hcnlTdGF0aXN0aWNzXCJ9KTtyZXR1cm4gaSYmciYmKGx8fHUpJiYobi5maWVsZFR5cGU9dD8udHlwZT9wLnRvSlNPTih0LnR5cGUpOm51bGwsbi52aWV3SW5mb1BhcmFtcz1FKHIpLG4udGltZVpvbmU9ci50aW1lWm9uZSxuLmZpZWxkSW5mb3M9YyksXCJwZXJjZW50LW9mLXRvdGFsXCI9PT1zJiZudWxsPT1lLm5vcm1hbGl6YXRpb25Ub3RhbCYmKG4ubm9ybWFsaXphdGlvblRvdGFsPWF3YWl0IHRoaXMuX2dldE5vcm1hbGl6YXRpb25Ub3RhbEZyb21NZW1vcnkoYSx7ZmVhdHVyZXNKU09OOmwsZ3JhcGhpY3M6dSxsYXllclZpZXc6bSxxdWVyeTp5fSxvKSksIWwmJiF1JiZtJiZcInF1ZXJ5U3VtbWFyeVN0YXRpc3RpY3NcImluIG0/bS5xdWVyeVN1bW1hcnlTdGF0aXN0aWNzKHksbix7c2lnbmFsOm99KTpsP3RoaXMud29ya2VyQ2xpZW50LnN1bW1hcnlTdGF0aXN0aWNzKG4sbCk6ZCh7YXR0cmlidXRlOm4sZmVhdHVyZXM6dX0pfWFzeW5jIF9nZXRGaWx0ZXJlZEZlYXR1cmVzKGUsdCl7bGV0IHI9ZTtjb25zdCBhPXQ/Lmdlb21ldHJ5O2lmKFwiaW50ZXJzZWN0c1wiPT09dD8uc3BhdGlhbFJlbGF0aW9uc2hpcCYmYSl7Y29uc3QgdD1hd2FpdCBpbXBvcnQoXCIuLi8uLi8uLi9nZW9tZXRyeS9vcGVyYXRvcnMvaW50ZXJzZWN0aW9uT3BlcmF0b3IuanNcIik7cj1lLmZpbHRlcigoKHtnZW9tZXRyeTplfSk9PiEoIWV8fCF0LmV4ZWN1dGUoZSxhKSkpKX1yZXR1cm4gZS5sZW5ndGgmJlwiZGVjbGFyZWRDbGFzc1wiaW4gZVswXSYmXCJlc3JpLkdyYXBoaWNcIj09PWVbMF0uZGVjbGFyZWRDbGFzcz97Z3JhcGhpY3M6cn06e2ZlYXR1cmVzSlNPTjpyfX1hc3luYyBfcHJvY2Vzc1N0YXRzRnJvbU1lbW9yeVBhcmFtcyhlKXtjb25zdHtmZWF0dXJlczp0LGZpbHRlcjpyfT1lO2lmKHQ/Lmxlbmd0aClyZXR1cm4gdGhpcy5fZ2V0RmlsdGVyZWRGZWF0dXJlcyh0LHIpO2NvbnN0e3ZpZXc6YSxmaWVsZDppLGZpZWxkMjpzLGZpZWxkMzpvLG5vcm1hbGl6YXRpb25GaWVsZDpuLHZhbHVlRXhwcmVzc2lvbjpsLGxheWVyVmlld0Z1bmM6dSxzaWduYWw6bX09ZTtsZXQgcD1lLnJldHVybkdlb21ldHJ5O2lmKG51bGw9PXAmJmwpe2lmKCFHKXtjb25zdHthcmNhZGVVdGlsczplfT1hd2FpdCBBKCk7Rz1lfWNvbnN0IGU9Ry5oYXNHZW9tZXRyeU9wZXJhdGlvbnMobCk7ZSYmYXdhaXQgRy5lbmFibGVHZW9tZXRyeU9wZXJhdGlvbnMoKSxwPWV9bGV0IHk9bnVsbCxjPW51bGwsZj1udWxsLGQ9bnVsbCxoPW51bGw7aWYoYSl0cnl7Y29uc3QgZT1cInN1YnR5cGUtc3VibGF5ZXJcIj09PXRoaXMubGF5ZXIudHlwZT90aGlzLmxheWVyLnBhcmVudDp0aGlzLmxheWVyO3k9YXdhaXQgYS53aGVuTGF5ZXJWaWV3KGUpLGM9bnVsbCE9dSYmdSBpbiB5JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiB5W3VdfWNhdGNoe2M9ITF9aWYoYyl0cnl7YXdhaXQgdGhpcy5fd2FpdEZvckxheWVyVmlld1VwZGF0ZSh5KTtjb25zdCBlPWF3YWl0IHEoe2ZpZWxkOmksZmllbGQyOnMsZmllbGQzOm8sbm9ybWFsaXphdGlvbkZpZWxkOm4sdmFsdWVFeHByZXNzaW9uOmx9KTtqKHRoaXMsZSx5KS5sZW5ndGg/Yz0hMTooZj10aGlzLmxheWVyLmNyZWF0ZVF1ZXJ5KCksZi5vdXRGaWVsZHM9ZSxmLnJldHVybkdlb21ldHJ5PSExLGIoZixyKSkseS5zdXNwZW5kZWQmJihjPSExKX1jYXRjaHtjPSExfXJldHVybiBjfHwoZD1hd2FpdCB0aGlzLl9mZXRjaEZlYXR1cmVzRm9yU3RhdHMoe2ZpZWxkOmksZmllbGQyOnMsZmllbGQzOm8sdmFsdWVFeHByZXNzaW9uOmwsbm9ybWFsaXphdGlvbkZpZWxkOm4scmV0dXJuR2VvbWV0cnk6cCxmaWx0ZXI6cix2aWV3OmEsc2lnbmFsOm19LFwianNvblwiKSxoPShhd2FpdCBxKHt2YWx1ZUV4cHJlc3Npb246bH0pKS5tYXAoKGU9PnRoaXMuZ2V0RmllbGQoZSk/LnRvSlNPTigpKSkuZmlsdGVyKEJvb2xlYW4pKSx7bGF5ZXJWaWV3OnkscXVlcnk6ZixmZWF0dXJlc0pTT046ZCxmaWVsZEluZm9zOmh9fWFzeW5jIF91dkZyb21DbGllbnRRdWVyeShlLHQpe2NvbnN0e3ZpZXc6cixzaWduYWw6YX09ZSxpPWsodGhpcyxlKSxzPWF3YWl0IHRoaXMuX2ZldGNoRmVhdHVyZVNldEZyb21NZW1vcnkoaSxyLGEpLG89YXdhaXQgSShzLHtsYXllcjp0aGlzLGZpZWxkOmUuZmllbGQsZmllbGQyOmUuZmllbGQyLGZpZWxkMzplLmZpZWxkMyxmaWVsZERlbGltaXRlcjp4LHZpZXc6ZS52aWV3LHNpZ25hbDplLnNpZ25hbH0pO3JldHVybiBQKG8sdCxlLnJldHVybkFsbENvZGVkVmFsdWVzLHgpfWFzeW5jIF91dkZyb21NZW1vcnkoZSx0KXtjb25zdHt2aWV3OnIsZmllbGQ6YSx2YWx1ZUV4cHJlc3Npb246aSxyZXR1cm5BbGxDb2RlZFZhbHVlczpzLHNpZ25hbDpvfT1lLHtmZWF0dXJlc0pTT046bixncmFwaGljczpsLGxheWVyVmlldzp1LHF1ZXJ5Om0sZmllbGRJbmZvczpwfT1hd2FpdCB0aGlzLl9wcm9jZXNzU3RhdHNGcm9tTWVtb3J5UGFyYW1zKHsuLi5lLGxheWVyVmlld0Z1bmM6XCJxdWVyeVVuaXF1ZVZhbHVlc1wifSkseT17ZmllbGQ6YSxmaWVsZDI6ZS5maWVsZDIsZmllbGQzOmUuZmllbGQzLGZpZWxkRGVsaW1pdGVyOngsdmFsdWVFeHByZXNzaW9uOmksZG9tYWluczp0LHJldHVybkFsbENvZGVkVmFsdWVzOnN9O3JldHVybiBpJiZyJiYobnx8bCkmJih5LnZpZXdJbmZvUGFyYW1zPUUocikseS50aW1lWm9uZT1yLnRpbWVab25lLHkuZmllbGRJbmZvcz1wKSwhbiYmIWwmJnUmJlwicXVlcnlVbmlxdWVWYWx1ZXNcImluIHU/dS5xdWVyeVVuaXF1ZVZhbHVlcyhtLHkse3NpZ25hbDpvfSk6bj90aGlzLndvcmtlckNsaWVudC51bmlxdWVWYWx1ZXMoeSxuKTpoKHthdHRyaWJ1dGU6eSxmZWF0dXJlczpsfSl9X2hpc3RvZ3JhbUZvckZpZWxkKGUpe2xldCB0PW51bGw7cmV0dXJuIHQ9bnVsbCE9ZS5taW5WYWx1ZSYmbnVsbCE9ZS5tYXhWYWx1ZT9Qcm9taXNlLnJlc29sdmUoe21pbjplLm1pblZhbHVlLG1heDplLm1heFZhbHVlfSk6dGhpcy5zdW1tYXJ5U3RhdGlzdGljcyh7Li4uZSxvdXRTdGF0aXN0aWNUeXBlczp7aW5jbHVkZTpbXCJtaW5cIixcIm1heFwiLFwiY291bnRcIl19fSkudGhlbigoZT0+e2lmKCFlLmNvdW50KXRocm93IG5ldyByKGAke3RoaXMuYWRhcHRlck5hbWV9Omluc3VmZmljaWVudC1kYXRhYCxcIkVpdGhlciB0aGUgbGF5ZXIgaGFzIG5vIGZlYXR1cmVzIG9yIG5vbmUgb2YgdGhlIGZlYXR1cmVzIGhhdmUgZGF0YSBmb3IgdGhlIGZpZWxkXCIpO3JldHVybnttaW46ZS5taW4sbWF4OmUubWF4fX0pKSx0LnRoZW4oKHQ9Pk8odGhpcyx7bWluOnQubWluLG1heDp0Lm1heH0sZS5maWVsZCxlLm51bUJpbnM/P3ZvaWQgMCxlLnZpZXcsZS5maWx0ZXIsZS5zaWduYWwpKSl9YXN5bmMgX2hpc3RvZ3JhbUZyb21RdWVyeUF0dHJpYnV0ZUJpbnNGcm9tTWVtb3J5KGUpe2NvbnN0e2ZpZWxkOnQsbm9ybWFsaXphdGlvblR5cGU6cixzaWduYWw6YX09ZSxpPWF3YWl0IHRoaXMuX3Byb2Nlc3NTdGF0c0Zyb21NZW1vcnlQYXJhbXMoey4uLmUsbGF5ZXJWaWV3RnVuYzpcInF1ZXJ5QXR0cmlidXRlQmluc1wifSkse2ZlYXR1cmVzSlNPTjpzLGdyYXBoaWNzOm8sbGF5ZXJWaWV3Om4scXVlcnk6bH09aSx1PVwicGVyY2VudC1vZi10b3RhbFwiPT09cj9lLm5vcm1hbGl6YXRpb25Ub3RhbD8/YXdhaXQgdGhpcy5fZ2V0Tm9ybWFsaXphdGlvblRvdGFsRnJvbU1lbW9yeSh0LGksYSk6dm9pZCAwO2lmKCFufHwhKFwicXVlcnlBdHRyaWJ1dGVCaW5zXCJpbiBuKXx8c3x8byl7Y29uc3QgdD16KGUsaSx1KTtyZXR1cm4gcz90aGlzLndvcmtlckNsaWVudC5oaXN0b2dyYW0odCxzKTp3KHthdHRyaWJ1dGU6dCxmZWF0dXJlczpvfSl9Y29uc3R7cXVlcnk6bSxtaW46cCxtYXg6eX09YXdhaXQgVChlLHRoaXMsdSxsPy53aGVyZSk7aWYoIW0pcmV0dXJue2JpbnM6W10sbWluVmFsdWU6cCxtYXhWYWx1ZTp5LG5vcm1hbGl6YXRpb25Ub3RhbDp1fTtjb25zdCBjPWF3YWl0IG4ucXVlcnlBdHRyaWJ1dGVCaW5zKG0se3NpZ25hbDphfSk7cmV0dXJuIE4oYyx0P3RoaXMuZ2V0RmllbGQodCk6bnVsbCx7bWluVmFsdWU6cCxtYXhWYWx1ZTp5LG5vcm1hbGl6YXRpb25Ub3RhbDp1fSl9YXN5bmMgX2hpc3RvZ3JhbUZyb21NZW1vcnkoZSl7Y29uc3R7ZmllbGQ6dCxzaWduYWw6cn09ZSxhPWF3YWl0IHRoaXMuX3Byb2Nlc3NTdGF0c0Zyb21NZW1vcnlQYXJhbXMoey4uLmUsbGF5ZXJWaWV3RnVuYzpcInF1ZXJ5SGlzdG9ncmFtXCJ9KSx7ZmVhdHVyZXNKU09OOmksZ3JhcGhpY3M6cyxsYXllclZpZXc6byxxdWVyeTpufT1hLGw9XCJwZXJjZW50LW9mLXRvdGFsXCI9PT1lLm5vcm1hbGl6YXRpb25UeXBlP2Uubm9ybWFsaXphdGlvblRvdGFsPz9hd2FpdCB0aGlzLl9nZXROb3JtYWxpemF0aW9uVG90YWxGcm9tTWVtb3J5KHQsYSxyKTp2b2lkIDAsdT16KGUsYSxsKTtyZXR1cm4haSYmIXMmJm8mJlwicXVlcnlIaXN0b2dyYW1cImluIG8/by5xdWVyeUhpc3RvZ3JhbShuLHUse3NpZ25hbDpyfSk6aT90aGlzLndvcmtlckNsaWVudC5oaXN0b2dyYW0odSxpKTp3KHthdHRyaWJ1dGU6dSxmZWF0dXJlczpzfSl9X2NsYXNzQnJlYWtzRnJvbUludGVycG9sYXRpb24oZSl7Y29uc3R7bWluVmFsdWU6dCxtYXhWYWx1ZTpyfT1lLGE9ZS5udW1DbGFzc2VzfHwkLGk9W10scz0oci10KS9hO2ZvcihsZXQgbD0wO2w8YTtsKyspe2NvbnN0IGU9dCtsKnM7aS5wdXNoKHttaW5WYWx1ZTplLG1heFZhbHVlOmUrc30pfWlbYS0xXS5tYXhWYWx1ZT1yO2NvbnN0IG89e2NsYXNzQnJlYWtzOmksbm9ybWFsaXphdGlvblRvdGFsOmUubm9ybWFsaXphdGlvblRvdGFsfSxuPVUobyxlLmNsYXNzaWZpY2F0aW9uTWV0aG9kKTtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKG4pfWFzeW5jIF9jbGFzc0JyZWFrc0Zyb21NZW1vcnkoZSl7Y29uc3R7dmlldzp0LGZpZWxkOnIsdmFsdWVFeHByZXNzaW9uOmEsc2lnbmFsOml9PWUse2ZlYXR1cmVzSlNPTjpzLGdyYXBoaWNzOm8sbGF5ZXJWaWV3Om4scXVlcnk6bCxmaWVsZEluZm9zOnV9PWF3YWl0IHRoaXMuX3Byb2Nlc3NTdGF0c0Zyb21NZW1vcnlQYXJhbXMoey4uLmUsbGF5ZXJWaWV3RnVuYzpcInF1ZXJ5Q2xhc3NCcmVha3NcIn0pLG09e2ZpZWxkOnIsdmFsdWVFeHByZXNzaW9uOmEsbm9ybWFsaXphdGlvblR5cGU6ZS5ub3JtYWxpemF0aW9uVHlwZSxub3JtYWxpemF0aW9uRmllbGQ6ZS5ub3JtYWxpemF0aW9uRmllbGQsbm9ybWFsaXphdGlvblRvdGFsOmUubm9ybWFsaXphdGlvblRvdGFsLG1pblZhbHVlOmUubWluVmFsdWUsbWF4VmFsdWU6ZS5tYXhWYWx1ZSxzdGFuZGFyZERldmlhdGlvbkludGVydmFsOmUuc3RhbmRhcmREZXZpYXRpb25JbnRlcnZhbCxjbGFzc2lmaWNhdGlvbk1ldGhvZDplLmNsYXNzaWZpY2F0aW9uTWV0aG9kLG51bUNsYXNzZXM6ZS5udW1DbGFzc2VzfTtyZXR1cm4gYSYmdCYmKHN8fG8pJiYobS52aWV3SW5mb1BhcmFtcz1FKHQpLG0udGltZVpvbmU9dC50aW1lWm9uZSxtLmZpZWxkSW5mb3M9dSksXCJwZXJjZW50LW9mLXRvdGFsXCI9PT1lLm5vcm1hbGl6YXRpb25UeXBlJiZudWxsPT1lLm5vcm1hbGl6YXRpb25Ub3RhbCYmKG0ubm9ybWFsaXphdGlvblRvdGFsPWF3YWl0IHRoaXMuX2dldE5vcm1hbGl6YXRpb25Ub3RhbEZyb21NZW1vcnkocix7ZmVhdHVyZXNKU09OOnMsZ3JhcGhpY3M6byxsYXllclZpZXc6bixxdWVyeTpsfSxpKSksIXMmJiFvJiZuJiZcInF1ZXJ5Q2xhc3NCcmVha3NcImluIG4/bi5xdWVyeUNsYXNzQnJlYWtzKGwsbSx7c2lnbmFsOml9KTpzP3RoaXMud29ya2VyQ2xpZW50LmNsYXNzQnJlYWtzKG0scyk6Zyh7YXR0cmlidXRlOm0sZmVhdHVyZXM6b30pfWFzeW5jIF9oZWF0bWFwU3RhdHNGcm9tTWVtb3J5KGUpe2NvbnN0e3ZpZXc6dCxmaWVsZDpyLHJhZGl1czphLHNpZ25hbDpzfT1lO2kodCxcIkluTWVtb3J5TGF5ZXJBZGFwdGVyOiBtdXN0IGhhdmUgYSB2aWV3XCIpO3RyeXtjb25zdCByPWF3YWl0IHQud2hlbkxheWVyVmlldyh0aGlzLmxheWVyKTtpZihcInF1ZXJ5SGVhdG1hcFN0YXRpc3RpY3NcImluIHImJiFyLnVwZGF0aW5nJiYhZS5maWx0ZXIpcmV0dXJuIGF3YWl0IHIucXVlcnlIZWF0bWFwU3RhdGlzdGljcyh7ZmllbGQ6ZS5maWVsZCxyYWRpdXM6ZS5yYWRpdXN9KX1jYXRjaHtvKHMpfWNvbnN0e2ZlYXR1cmVzSlNPTjpuLGdyYXBoaWNzOmx9PWF3YWl0IHRoaXMuX3Byb2Nlc3NTdGF0c0Zyb21NZW1vcnlQYXJhbXMoey4uLmUscmV0dXJuR2VvbWV0cnk6ITB9KSx1PW5ldyBjKHtleHRlbnQ6dC5leHRlbnQsdG9sZXJhbmNlOlwiMmRcIj09PXQudHlwZT90LnN0YXRlLnJlc29sdXRpb246dC5waXhlbFNpemVBdD8uKHQuY2VudGVyKX0pLHA9e2ZpZWxkOnIscmFkaXVzOmEsdHJhbnNmb3JtOm0odSksc3BhdGlhbFJlZmVyZW5jZTp0LnNwYXRpYWxSZWZlcmVuY2U/LnRvSlNPTigpLHNpemU6dC5zaXplfTtyZXR1cm4gbj8ubGVuZ3RofHxsPy5sZW5ndGg/bj90aGlzLndvcmtlckNsaWVudC5oZWF0bWFwU3RhdGlzdGljcyhwLG4pOkYoe2F0dHJpYnV0ZTpwLGZlYXR1cmVzOmx9KTp7bWluOm51bGwsbWF4Om51bGx9fWdldEZpZWxkKGU9XCJcIil7cmV0dXJuIHRoaXMubGF5ZXIuZ2V0RmllbGQoZSl9Z2V0RmllbGRVc2FnZUluZm8oZSl7cmV0dXJuIHRoaXMuZ2V0RmllbGQoZSk/e3N1cHBvcnRzTGFiZWxpbmdJbmZvOiEwLHN1cHBvcnRzUmVuZGVyZXI6ITAsc3VwcG9ydHNQb3B1cFRlbXBsYXRlOiEwLHN1cHBvcnRzTGF5ZXJRdWVyeTohMCxzdXBwb3J0c1N0YXRpc3RpY3M6ITB9Om51bGx9Z2V0RmllbGREb21haW4oZSx0KXtyZXR1cm4gdGhpcy5sYXllci5nZXRGaWVsZERvbWFpbihlLHQpfWNyZWF0ZVF1ZXJ5KCl7cmV0dXJuIHRoaXMubGF5ZXIuY3JlYXRlUXVlcnkoKX1hc3luYyBzdW1tYXJ5U3RhdGlzdGljcyhlKXtjb25zdHtmaWVsZDp0LHZhbHVlRXhwcmVzc2lvbjphLHNxbEV4cHJlc3Npb246aSxmZWF0dXJlczpzLHZpZXc6b309ZSxuPXQ/dGhpcy5nZXRGaWVsZCh0KTpudWxsLGw9ISFhLHU9XCIzZFwiPT09bz8udHlwZTtpZighYSYmaSYmIXRoaXMuc3VwcG9ydHNTUUxFeHByZXNzaW9uKXRocm93IG5ldyByKGAke3RoaXMuYWRhcHRlck5hbWV9Om5vdC1zdXBwb3J0ZWRgLFwiTGF5ZXIgZG9lcyBub3Qgc3VwcG9ydCBzdGFuZGFyZGl6ZWQgU1FMIGV4cHJlc3Npb24gZm9yIHF1ZXJpZXNcIik7cmV0dXJuIGx8fHN8fHU/dGhpcy5fc3VtbWFyeVN0YXRzRnJvbU1lbW9yeShlLG4pOnRoaXMuX3N1bW1hcnlTdGF0c0Zyb21DbGllbnRRdWVyeShlLG4pfWFzeW5jIHVuaXF1ZVZhbHVlcyhlKXtjb25zdHt2YWx1ZUV4cHJlc3Npb246dCxzcWxFeHByZXNzaW9uOmEsZmVhdHVyZXM6aSx2aWV3OnN9PWUsbz1hd2FpdCBRKGUsdGhpcyksbj0hIXQsbD1cIjNkXCI9PT1zPy50eXBlO2lmKCF0JiZhJiYhdGhpcy5zdXBwb3J0c1NRTEV4cHJlc3Npb24pdGhyb3cgbmV3IHIoYCR7dGhpcy5hZGFwdGVyTmFtZX06bm90LXN1cHBvcnRlZGAsXCJMYXllciBkb2VzIG5vdCBzdXBwb3J0IHN0YW5kYXJkaXplZCBTUUwgZXhwcmVzc2lvbiBmb3IgcXVlcmllc1wiKTtyZXR1cm4gbnx8aXx8bD90aGlzLl91dkZyb21NZW1vcnkoZSxvKTp0aGlzLl91dkZyb21DbGllbnRRdWVyeShlLG8pfWFzeW5jIGhpc3RvZ3JhbShlKXtjb25zdHtmZWF0dXJlczp0LHZhbHVlRXhwcmVzc2lvbjphLG5vcm1hbGl6YXRpb25UeXBlOmksc3FsRXhwcmVzc2lvbjpzfT1lLG89dHx8ISFhO2lmKCFhJiZzJiYhdGhpcy5zdXBwb3J0c1NRTEV4cHJlc3Npb24pdGhyb3cgbmV3IHIoYCR7dGhpcy5hZGFwdGVyTmFtZX06bm90LXN1cHBvcnRlZGAsXCJMYXllciBkb2VzIG5vdCBzdXBwb3J0IHN0YW5kYXJkaXplZCBTUUwgZXhwcmVzc2lvbiBmb3IgcXVlcmllc1wiKTtyZXR1cm4gb3x8aT90aGlzLl9oaXN0b2dyYW1Gcm9tTWVtb3J5KGUpOnRoaXMuX2hpc3RvZ3JhbUZvckZpZWxkKGUpfWFzeW5jIGNsYXNzQnJlYWtzKGUpe3JldHVybiExIT09ZS5hbmFseXplRGF0YT90aGlzLl9jbGFzc0JyZWFrc0Zyb21NZW1vcnkoZSk6dGhpcy5fY2xhc3NCcmVha3NGcm9tSW50ZXJwb2xhdGlvbihlKX1hc3luYyBxdWVyeUZlYXR1cmVDb3VudChlKXtjb25zdHt3aGVyZUNsYXVzZTp0LHZpZXc6YSxzaWduYWw6aX09ZTtpZighYSl0aHJvdyBuZXcgcihgJHt0aGlzLmFkYXB0ZXJOYW1lfTppbnN1ZmZpY2llbnQtZGF0YWAsXCJ2aWV3IGlzIHJlcXVpcmVkIHRvIGZldGNoIHRoZSBmZWF0dXJlcyBmcm9tIGxheWVyVmlld1wiKTtjb25zdCBzPXRoaXMubGF5ZXIuY3JlYXRlUXVlcnkoKTtzLndoZXJlPVMocy53aGVyZSx0KTtjb25zdCBvPWF3YWl0IGEud2hlbkxheWVyVmlldyh0aGlzLmxheWVyKTtyZXR1cm4gYXdhaXQgbigoKCk9PiFvLnVwZGF0aW5nKSxpKSxvLnF1ZXJ5RmVhdHVyZUNvdW50KHMse3NpZ25hbDppfSl9YXN5bmMgZ2VuZXJhdGVSZW5kZXJlcihlLHQpe3Rocm93IG5ldyByKGAke3RoaXMuYWRhcHRlck5hbWV9Om5vdC1zdXBwb3J0ZWRgLFwiTGF5ZXIgZG9lcyBub3Qgc3VwcG9ydCBnZW5lcmF0ZVJlbmRlcmVyIG9wZXJhdGlvblwiKX1hc3luYyBwcmVkb21pbmFudENhdGVnb3JpZXMoZSl7Y29uc3R7ZmllbGRzOnQsdmlldzpyLHNpZ25hbDphLGZpbHRlcjppfT1lLHM9Zih0KSxvPWF3YWl0IHRoaXMuX3V2RnJvbU1lbW9yeSh7dmFsdWVFeHByZXNzaW9uOnMsdmlldzpyLHNpZ25hbDphLGZpbHRlcjppfSk7cmV0dXJuIEooby51bmlxdWVWYWx1ZUluZm9zLHQpfWFzeW5jIGhlYXRtYXBTdGF0aXN0aWNzKGUpe3JldHVybiB0aGlzLl9oZWF0bWFwU3RhdHNGcm9tTWVtb3J5KGUpfWFzeW5jIGdldFNhbXBsZUZlYXR1cmVzKGUsYSl7Y29uc3R7dmlldzppLHNhbXBsZVNpemU6cyxyZXF1aXJlZEZpZWxkczpvLHJldHVybkdlb21ldHJ5Om4sZmlsdGVyOmwsc2lnbmFsOnV9PWUsbT10aGlzLmxheWVyLmNyZWF0ZVF1ZXJ5KCkscD0xO2lmKG0ub3V0U3BhdGlhbFJlZmVyZW5jZT1pPy5zcGF0aWFsUmVmZXJlbmNlLG0ucmV0dXJuR2VvbWV0cnk9ISFuLG0ub3V0RmllbGRzPW8sYihtLGwpLCFpKXRocm93IG5ldyByKGAke3RoaXMuYWRhcHRlck5hbWV9Om5vdC1zdXBwb3J0ZWRgLFwidmlldyBpcyByZXF1aXJlZCB0byBnZXQgc2FtcGxlIGZlYXR1cmVzIGZvciBMYXllclwiKTtjb25zdCB5PWF3YWl0IGkud2hlbkxheWVyVmlldyh0aGlzLmxheWVyKTtpZihqKHRoaXMsbyx5KS5sZW5ndGgpdGhyb3cgbmV3IHIoYCR7dGhpcy5hZGFwdGVyTmFtZX06bm90LXN1cHBvcnRlZGAsXCJSZXF1aXJlZCBmaWVsZHMgbmVlZCB0byBiZSBwYXNzZWQgaW4gdGhlIG91dEZpZWxkcyBmb3IgTGF5ZXJcIik7Y29uc3QgYz1hd2FpdCB0aGlzLl9mZXRjaEZlYXR1cmVzRnJvbU1lbW9yeSh5LG0sdSxhKSxmPW51bGwhPXMmJnM+MCYmczw9Yy5sZW5ndGg/czpjLmxlbmd0aDtyZXR1cm4gdChjLGYscCl9bG9hZChlKXtjb25zdCB0PXRoaXMubGF5ZXIubG9hZChlKS50aGVuKChhc3luYyB0PT57dGhpcy5nZW9tZXRyeVR5cGU9dC5nZW9tZXRyeVR5cGUsdGhpcy5vYmplY3RJZEZpZWxkPXQub2JqZWN0SWRGaWVsZCx0aGlzLnN1cHBvcnRzU1FMRXhwcmVzc2lvbj1cInN0cmVhbVwiPT09dC50eXBlfHwhIXQuY2FwYWJpbGl0aWVzPy5xdWVyeT8uc3VwcG9ydHNTcWxFeHByZXNzaW9uLHRoaXMubWluU2NhbGU9dC5taW5TY2FsZSx0aGlzLm1heFNjYWxlPXQubWF4U2NhbGUsdGhpcy5mdWxsRXh0ZW50PVwiZnVsbEV4dGVudFwiaW4gdD90LmZ1bGxFeHRlbnQ6dC5wYXJlbnQ/LmZ1bGxFeHRlbnQsdGhpcy5faGFzTG9jYWxTb3VyY2U9ITEsdGhpcy5oYXNRdWVyeUVuZ2luZT0hMCx0aGlzLndvcmtlckNsaWVudD12LmdldEluc3RhbmNlKCksYXdhaXQgdGhpcy53b3JrZXJDbGllbnQub3BlbihlLnNpZ25hbCl9KSk7cmV0dXJuIHRoaXMuYWRkUmVzb2x2aW5nUHJvbWlzZSh0KSxQcm9taXNlLnJlc29sdmUodGhpcyl9fTtlKFtsKHtyZWFkT25seTohMH0pXSxSLnByb3RvdHlwZSxcImFkYXB0ZXJOYW1lXCIsdm9pZCAwKSxlKFtsKHtjb25zdHJ1Y3RPbmx5OiEwfSldLFIucHJvdG90eXBlLFwibGF5ZXJcIix2b2lkIDApLFI9ZShbdShcImVzcmkuc21hcnRNYXBwaW5nLnN1cHBvcnQuYWRhcHRlcnMuSW5NZW1vcnlMYXllckFkYXB0ZXJcIildLFIpO2V4cG9ydHtSIGFzIGRlZmF1bHR9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMzMvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtfIGFzIG99ZnJvbVwiLi4vLi4vLi4vY2h1bmtzL3RzbGliLmVzNi5qc1wiO2ltcG9ydCByIGZyb21cIi4uLy4uLy4uL2NvcmUvTG9hZGFibGUuanNcIjtpbXBvcnR7cHJvcGVydHkgYXMgZX1mcm9tXCIuLi8uLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3Byb3BlcnR5LmpzXCI7aW1wb3J0XCIuLi8uLi8uLi9jb3JlL2hhcy5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vY29yZS9Mb2dnZXIuanNcIjtpbXBvcnRcIi4uLy4uLy4uL2NvcmUvUmFuZG9tTENHLmpzXCI7aW1wb3J0e3N1YmNsYXNzIGFzIHR9ZnJvbVwiLi4vLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9zdWJjbGFzcy5qc1wiO2xldCBwPWNsYXNzIGV4dGVuZHMgcntjb25zdHJ1Y3RvcihvKXtzdXBlcihvKSx0aGlzLmFkYXB0ZXJOYW1lPVwibGF5ZXItYWRhcHRlclwifX07byhbZSh7cmVhZE9ubHk6ITB9KV0scC5wcm90b3R5cGUsXCJhZGFwdGVyTmFtZVwiLHZvaWQgMCksbyhbZSh7Y29uc3RydWN0T25seTohMH0pXSxwLnByb3RvdHlwZSxcImxheWVyXCIsdm9pZCAwKSxvKFtlKCldLHAucHJvdG90eXBlLFwiZ2VvbWV0cnlUeXBlXCIsdm9pZCAwKSxvKFtlKCldLHAucHJvdG90eXBlLFwib2JqZWN0SWRGaWVsZFwiLHZvaWQgMCksbyhbZSgpXSxwLnByb3RvdHlwZSxcInN1cHBvcnRzU1FMRXhwcmVzc2lvblwiLHZvaWQgMCksbyhbZSgpXSxwLnByb3RvdHlwZSxcImhhc1F1ZXJ5RW5naW5lXCIsdm9pZCAwKSxvKFtlKCldLHAucHJvdG90eXBlLFwibWluU2NhbGVcIix2b2lkIDApLG8oW2UoKV0scC5wcm90b3R5cGUsXCJtYXhTY2FsZVwiLHZvaWQgMCksbyhbZSgpXSxwLnByb3RvdHlwZSxcImZ1bGxFeHRlbnRcIix2b2lkIDApLHA9byhbdChcImVzcmkuc21hcnRNYXBwaW5nLnN1cHBvcnQuYWRhcHRlcnMuTGF5ZXJBZGFwdGVyXCIpXSxwKTtleHBvcnR7cCBhcyBkZWZhdWx0fTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjMzL2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7XyBhcyBlfWZyb21cIi4uLy4uLy4uL2NodW5rcy90c2xpYi5lczYuanNcIjtpbXBvcnR7cHJvcGVydHkgYXMgcn1mcm9tXCIuLi8uLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3Byb3BlcnR5LmpzXCI7aW1wb3J0XCIuLi8uLi8uLi9jb3JlL2hhcy5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vY29yZS9Mb2dnZXIuanNcIjtpbXBvcnRcIi4uLy4uLy4uL2NvcmUvUmFuZG9tTENHLmpzXCI7aW1wb3J0e3N1YmNsYXNzIGFzIHR9ZnJvbVwiLi4vLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9zdWJjbGFzcy5qc1wiO2ltcG9ydCBzIGZyb21cIi4vU2NlbmVMYXllckFkYXB0ZXIuanNcIjtsZXQgbz1jbGFzcyBleHRlbmRzIHN7Y29uc3RydWN0b3IoZSl7c3VwZXIoZSksdGhpcy5hZGFwdGVyTmFtZT1cInBvaW50LWNsb3VkLWxheWVyLWFkYXB0ZXJcIn1nZXRGaWVsZChlKXtyZXR1cm4gdGhpcy5sYXllci5maWVsZHNJbmRleC5nZXQoZT8/XCJcIil9Z2V0RmllbGRVc2FnZUluZm8oZSl7Y29uc3Qgcj10aGlzLmdldEZpZWxkKGUpO2lmKCFyKXJldHVybiBudWxsO2NvbnN0IHQ9dGhpcy5faGFzQ2FjaGVkU3RhdGlzdGljcyhyLm5hbWUpO3JldHVybntzdXBwb3J0c0xhYmVsaW5nSW5mbzp0LHN1cHBvcnRzUG9wdXBUZW1wbGF0ZTp0LHN1cHBvcnRzUmVuZGVyZXI6dCxzdXBwb3J0c0xheWVyUXVlcnk6ITEsc3VwcG9ydHNTdGF0aXN0aWNzOnR9fWdldEZpZWxkRG9tYWluKCl7cmV0dXJuIG51bGx9bG9hZChlKXtjb25zdCByPXRoaXMubGF5ZXIubG9hZChlKS50aGVuKCgoKT0+e3RoaXMuZ2VvbWV0cnlUeXBlPVwicG9pbnRcIix0aGlzLm9iamVjdElkRmllbGQ9bnVsbCx0aGlzLnN1cHBvcnRzU1FMRXhwcmVzc2lvbj0hMSx0aGlzLmhhc1F1ZXJ5RW5naW5lPSExfSkpO3JldHVybiB0aGlzLmFkZFJlc29sdmluZ1Byb21pc2UociksUHJvbWlzZS5yZXNvbHZlKHRoaXMpfX07ZShbcih7cmVhZE9ubHk6ITB9KV0sby5wcm90b3R5cGUsXCJhZGFwdGVyTmFtZVwiLHZvaWQgMCksbz1lKFt0KFwiZXNyaS5zbWFydE1hcHBpbmcuc3VwcG9ydC5hZGFwdGVycy5Qb2ludENsb3VkTGF5ZXJBZGFwdGVyXCIpXSxvKTtleHBvcnR7byBhcyBkZWZhdWx0fTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjMzL2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7XyBhcyBlfWZyb21cIi4uLy4uLy4uL2NodW5rcy90c2xpYi5lczYuanNcIjtpbXBvcnQgdCBmcm9tXCIuLi8uLi8uLi9HcmFwaGljLmpzXCI7aW1wb3J0e3BpY2tSYW5kb20gYXMgcn1mcm9tXCIuLi8uLi8uLi9jb3JlL2FycmF5VXRpbHMuanNcIjtpbXBvcnQgYSBmcm9tXCIuLi8uLi8uLi9jb3JlL0Vycm9yLmpzXCI7aW1wb3J0e3RpbWVvdXQgYXMgcyx0aHJvd0lmQWJvcnRlZCBhcyBpfWZyb21cIi4uLy4uLy4uL2NvcmUvcHJvbWlzZVV0aWxzLmpzXCI7aW1wb3J0e3doZW5PbmNlIGFzIG99ZnJvbVwiLi4vLi4vLi4vY29yZS9yZWFjdGl2ZVV0aWxzLmpzXCI7aW1wb3J0e3Byb3BlcnR5IGFzIG59ZnJvbVwiLi4vLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9wcm9wZXJ0eS5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vY29yZS9oYXMuanNcIjtpbXBvcnRcIi4uLy4uLy4uL2NvcmUvTG9nZ2VyLmpzXCI7aW1wb3J0e3N1YmNsYXNzIGFzIGx9ZnJvbVwiLi4vLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9zdWJjbGFzcy5qc1wiO2ltcG9ydHtrZWJhYkRpY3QgYXMgdX1mcm9tXCIuLi8uLi8uLi9sYXllcnMvc3VwcG9ydC9maWVsZFR5cGUuanNcIjtpbXBvcnR7aXNOdW1lcmljRmllbGQgYXMgcH1mcm9tXCIuLi8uLi8uLi9sYXllcnMvc3VwcG9ydC9maWVsZFV0aWxzLmpzXCI7aW1wb3J0IG0gZnJvbVwiLi4vLi4vLi4vcmVzdC9zdXBwb3J0L0ZlYXR1cmVTZXQuanNcIjtpbXBvcnR7c3VtbWFyeVN0YXRpc3RpY3MgYXMgYyx1bmlxdWVWYWx1ZXMgYXMgZCxjbGFzc0JyZWFrcyBhcyBoLGhpc3RvZ3JhbSBhcyB5fWZyb21cIi4uLy4uL3N0YXRpc3RpY3Mvc3VwcG9ydC9zdGF0c1dvcmtlci5qc1wiO2ltcG9ydHtXb3JrZXJDbGllbnQgYXMgZn1mcm9tXCIuLi8uLi9zdGF0aXN0aWNzL3N1cHBvcnQvV29ya2VyQ2xpZW50LmpzXCI7aW1wb3J0e2dldEZpZWxkc0xpc3QgYXMgZyxpc0FueURhdGVGaWVsZCBhcyB3LGZpZWxkRGVsaW1pdGVyIGFzIEZ9ZnJvbVwiLi4vdXRpbHMuanNcIjtpbXBvcnQgXyBmcm9tXCIuL0ZlYXR1cmVMYXllckFkYXB0ZXIuanNcIjtpbXBvcnQgUyBmcm9tXCIuL0xheWVyQWRhcHRlci5qc1wiO2ltcG9ydHtnZXRNaXNzaW5nRmllbGRzIGFzIHYsZW5zdXJlRmVhdHVyZXNKU09OIGFzIHgsZ2V0Vmlld0luZm9QYXJhbXMgYXMgTCxnZXRVbmlxdWVWYWx1ZXNGcm9tRmVhdHVyZVNldCBhcyBFLGdldEhpc3RvZ3JhbUZyb21GZWF0dXJlU2V0IGFzIEMsZ2V0RG9tYWluc0ZvckZpZWxkcyBhcyBUfWZyb21cIi4vc3VwcG9ydC91dGlscy5qc1wiO2ltcG9ydHtjcmVhdGVVVlJlc3VsdCBhcyB6fWZyb21cIi4uLy4uLy4uL3N0YXRpc3RpY3MvdXRpbHMuanNcIjtsZXQgQT1jbGFzcyBleHRlbmRzIFN7Y29uc3RydWN0b3IoZSl7c3VwZXIoZSksdGhpcy5fZmVhdHVyZUxheWVyQWRhcHRlcj1udWxsLHRoaXMud29ya2VyQ2xpZW50PW51bGwsdGhpcy5hZGFwdGVyTmFtZT1cInNjZW5lLWxheWVyLWFkYXB0ZXJcIn1kZXN0cm95KCl7dGhpcy53b3JrZXJDbGllbnQ/LmRlc3Ryb3koKX1faGFzQ2FjaGVkU3RhdGlzdGljcyhlKXtyZXR1cm4gdGhpcy5sYXllci5oYXNDYWNoZWRTdGF0aXN0aWNzKGUpfV91cGRhdGVRdWVyeShlLHQ9W10scj1bXSl7aWYoIWV8fCFyLmxlbmd0aClyZXR1cm4gZTtjb25zdCBhPXRoaXMubGF5ZXIub2JqZWN0SWRGaWVsZCxzPWUuY2xvbmUoKSxpPXQuZmlsdGVyKChlPT57Y29uc3QgdD10aGlzLmxheWVyLmdldEZpZWxkKGUpO3JldHVybiFyLmluY2x1ZGVzKHQubmFtZSl9KSksbz1pLnNvbWUoKGU9PnRoaXMubGF5ZXIuZ2V0RmllbGQoZSkubmFtZT09PWEpKTtyZXR1cm4gcy5vdXRGaWVsZHM9bz9pOlsuLi5pLGFdLHN9YXN5bmMgX2ZldGNoRmVhdHVyZXNGcm9tTWVtb3J5KGUsdCxyKXtpZighZSl0aHJvdyBuZXcgYShcInNjZW5lLWxheWVyLWFkYXB0ZXI6aW5zdWZmaWNpZW50LWRhdGFcIixcInZpZXcgaXMgcmVxdWlyZWQgdG8gZmV0Y2ggdGhlIGZlYXR1cmVzIGZyb20gbGF5ZXJWaWV3XCIpO2NvbnN0IG49YXdhaXQgZS53aGVuTGF5ZXJWaWV3KHRoaXMubGF5ZXIpLGw9bmV3IEFib3J0Q29udHJvbGxlcix1PWwuc2lnbmFsLHA9bygoKCk9PiFuLnVwZGF0aW5nKSx1KTthd2FpdCBzKHAsNWUzLGwpO2NvbnN0IG09dih0aGlzLHIsbik7aSh1KTtjb25zdCBjPXRoaXMuX3VwZGF0ZVF1ZXJ5KHQscj8/W10sbSksZD1hd2FpdCBuLnF1ZXJ5RmVhdHVyZXMoYyx7c2lnbmFsOnV9KTtpKHUpO2NvbnN0IGg9ZC5mZWF0dXJlcztyZXR1cm4gbS5sZW5ndGg/bi53aGVuR3JhcGhpY0F0dHJpYnV0ZXMoaCxtKTpofWFzeW5jIF9mZXRjaEZlYXR1cmVzSlNPTkZyb21NZW1vcnkoZSx0LHIpe3JldHVybiB0aGlzLl9mZXRjaEZlYXR1cmVzRnJvbU1lbW9yeShlLHQscikudGhlbih4KX1fZmV0Y2hGZWF0dXJlc0ZvclN0YXRzKGUsdCl7cmV0dXJuIGcoe2ZpZWxkOmUuZmllbGQsbm9ybWFsaXphdGlvbkZpZWxkOmUubm9ybWFsaXphdGlvbkZpZWxkLHZhbHVlRXhwcmVzc2lvbjplLnZhbHVlRXhwcmVzc2lvbn0pLnRoZW4oKHI9PnRoaXMuZ2V0U2FtcGxlRmVhdHVyZXMoe3NhbXBsZVNpemU6LTEsdmlldzplLnZpZXcscmV0dXJuR2VvbWV0cnk6ZS5yZXR1cm5HZW9tZXRyeSxyZXF1aXJlZEZpZWxkczpyLHNpZ25hbDplLnNpZ25hbH0sdCkpKX1hc3luYyBfcHJvY2Vzc1N0YXRzRnJvbU1lbW9yeVBhcmFtcyhlKXtjb25zdCB0PWUuZmVhdHVyZXM7aWYodD8ubGVuZ3RoKXtyZXR1cm4gdC5sZW5ndGgmJlwiZGVjbGFyZWRDbGFzc1wiaW4gdFswXSYmXCJlc3JpLkdyYXBoaWNcIj09PXRbMF0uZGVjbGFyZWRDbGFzcz97Z3JhcGhpY3M6dH06e2ZlYXR1cmVzSlNPTjp0fX1jb25zdHt2aWV3OnIsZmllbGQ6cyxub3JtYWxpemF0aW9uRmllbGQ6aSx2YWx1ZUV4cHJlc3Npb246byxzaWduYWw6bn09ZSxsPWF3YWl0IHRoaXMuX2ZldGNoRmVhdHVyZXNGb3JTdGF0cyh7ZmllbGQ6cyx2YWx1ZUV4cHJlc3Npb246byxub3JtYWxpemF0aW9uRmllbGQ6aSx2aWV3OnIsc2lnbmFsOm59LG51bGwpO2lmKCFsPy5sZW5ndGgpdGhyb3cgbmV3IGEoXCJzY2VuZS1sYXllci1hZGFwdGVyOmluc3VmZmljaWVudC1kYXRhXCIsXCJObyBmZWF0dXJlcyBhcmUgYXZhaWxhYmxlIHRvIGNhbGN1bGF0ZSBzdGF0aXN0aWNzXCIpO3JldHVybntncmFwaGljczpsfX1fZ2V0Q2FjaGVkU3RhdGlzdGljcyhlLHQpe2NvbnN0IHI9dGhpcy5sYXllcjtyZXR1cm4gZS52YWx1ZUV4cHJlc3Npb258fGUuc3FsRXhwcmVzc2lvbnx8ZS5zcWxXaGVyZXx8ZS5taW5WYWx1ZXx8ZS5tYXhWYWx1ZT9Qcm9taXNlLnJlamVjdChuZXcgYShcInNjZW5lLWxheWVyLWFkYXB0ZXI6bm90LXN1cHBvcnRlZFwiLFwiVGhpcyBMYXllciBkb2VzIG5vdCBzdXBwb3J0IGNhbGN1bGF0aW5nIHN0YXRpc3RpY3Mgd2hlbiAndmFsdWVFeHByZXNzaW9uJywgJ3NxbEV4cHJlc3Npb24nLCAnc3FsV2hlcmUnLCAnbWluVmFsdWUnIG9yICdtYXhWYWx1ZScgaXMgc3BlY2lmaWVkXCIpKTpyLnF1ZXJ5Q2FjaGVkU3RhdGlzdGljcyh0Py5uYW1lLHtzaWduYWw6ZS5zaWduYWx9KS50aGVuKChlPT57Y29uc3QgdD1lLnN0YXRzLHttaW46cixtYXg6YSx0b3RhbFZhbHVlc0NvdW50OnN9PXQ7bGV0e2F2ZzppLHN0ZGRldjpvLHN1bTpuLHZhcmlhbmNlOmwsY291bnQ6dX09dDtyZXR1cm4gMD09PXImJjA9PT1hfHwoaT0wPT09aT9udWxsOmksbj0wPT09bj9udWxsOm4sbz0wPT09bz9udWxsOm8sbD0wPT09bD9udWxsOmwsdT0wPT09dT9udWxsOnUpLG51bGw9PXUmJihudWxsIT1uJiZudWxsIT1pP3U9TWF0aC5yb3VuZChuL2kpOm51bGwhPXMmJih1PXMpKSx7YXZnOmksY291bnQ6dSxtYXg6YSxtaW46cixzdGRkZXY6byxzdW06bix2YXJpYW5jZTpsfX0pKX1hc3luYyBfZ2V0Tm9ybWFsaXphdGlvblRvdGFsKGUsdCxyKXtjb25zdCBzPXtpbmNsdWRlOltcInN1bVwiXX0saT0odD9hd2FpdCB0aGlzLndvcmtlckNsaWVudC5zdW1tYXJ5U3RhdGlzdGljcyh7ZmllbGQ6ZSxvdXRTdGF0aXN0aWNUeXBlczpzfSx0KTphd2FpdCBjKHthdHRyaWJ1dGU6e2ZpZWxkOmUsb3V0U3RhdGlzdGljVHlwZXM6c30sZmVhdHVyZXM6cn0pKS5zdW07aWYobnVsbD09aSl0aHJvdyBuZXcgYShcInNjZW5lLWxheWVyLWFkYXB0ZXI6aW52YWxpZFwiLFwiaW52YWxpZCBub3JtYWxpemF0aW9uVG90YWxcIik7cmV0dXJuIGl9YXN5bmMgX2dldFN1bW1hcnlTdGF0aXN0aWNzRnJvbU1lbW9yeShlLHQpe2NvbnN0e3ZpZXc6cixmaWVsZDphLG5vcm1hbGl6YXRpb25GaWVsZDpzLHZhbHVlRXhwcmVzc2lvbjppfT1lLHtmZWF0dXJlc0pTT046byxncmFwaGljczpufT1hd2FpdCB0aGlzLl9wcm9jZXNzU3RhdHNGcm9tTWVtb3J5UGFyYW1zKGUpLGw9e2ZpZWxkOmEsdmFsdWVFeHByZXNzaW9uOmksbm9ybWFsaXphdGlvblR5cGU6ZS5ub3JtYWxpemF0aW9uVHlwZSxub3JtYWxpemF0aW9uRmllbGQ6cyxub3JtYWxpemF0aW9uVG90YWw6ZS5ub3JtYWxpemF0aW9uVG90YWwsbWluVmFsdWU6ZS5taW5WYWx1ZSxtYXhWYWx1ZTplLm1heFZhbHVlLG91dFN0YXRpc3RpY1R5cGVzOmUub3V0U3RhdGlzdGljVHlwZXN9O3JldHVybiBlLnZhbHVlRXhwcmVzc2lvbiYmciYmbyYmKGwuZmllbGRUeXBlPXQ/LnR5cGU/dS50b0pTT04odC50eXBlKTpudWxsLGwudmlld0luZm9QYXJhbXM9TChyKSxsLnRpbWVab25lPXIudGltZVpvbmUpLFwicGVyY2VudC1vZi10b3RhbFwiPT09ZS5ub3JtYWxpemF0aW9uVHlwZSYmbnVsbD09ZS5ub3JtYWxpemF0aW9uVG90YWwmJihsLm5vcm1hbGl6YXRpb25Ub3RhbD1hd2FpdCB0aGlzLl9nZXROb3JtYWxpemF0aW9uVG90YWwoYSxvLG4pKSxvP3RoaXMud29ya2VyQ2xpZW50LnN1bW1hcnlTdGF0aXN0aWNzKGwsbyk6Yyh7YXR0cmlidXRlOmwsZmVhdHVyZXM6bn0pfV9nZXRDYWNoZWRTdGF0aXN0aWNzRm9yVW5pcXVlVmFsdWVzKGUscil7Y29uc3Qgcz10aGlzLmxheWVyLGk9cj8ubmFtZSxvPXImJmUuZmllbGQ/dGhpcy5nZXRGaWVsZERvbWFpbihlLmZpZWxkKTpudWxsO3JldHVybiBlLnZhbHVlRXhwcmVzc2lvbnx8ZS5zcWxFeHByZXNzaW9ufHxlLnNxbFdoZXJlP1Byb21pc2UucmVqZWN0KG5ldyBhKFwic2NlbmUtbGF5ZXItYWRhcHRlcjpub3Qtc3VwcG9ydGVkXCIsXCJUaGlzIExheWVyIGRvZXMgbm90IHN1cHBvcnQgY2FsY3VsYXRpbmcgc3RhdGlzdGljcyB3aGVuICd2YWx1ZUV4cHJlc3Npb24nLCAnc3FsRXhwcmVzc2lvbicgb3IgJ3NxbFdoZXJlJyBpcyBzcGVjaWZpZWRcIikpOnMucXVlcnlDYWNoZWRTdGF0aXN0aWNzKGkse3NpZ25hbDplLnNpZ25hbH0pLnRoZW4oKGE9Pntjb25zdCBvPWEuc3RhdHM7aWYoIW8ubW9zdEZyZXF1ZW50VmFsdWVzKXRocm93IG5ldyBFcnJvcjtjb25zdCBuPWEubGFiZWxzPy5sYWJlbHMsbD17fSx1PVtdLGM9XCJjb3VudE9GXCIraTtvLm1vc3RGcmVxdWVudFZhbHVlcy5mb3JFYWNoKChlPT57Y29uc3QgYT1uZXcgdCh7YXR0cmlidXRlczp7fX0pO2EuYXR0cmlidXRlc1tpXT1yJiZyLm5hbWUhPT1zLm9iamVjdElkRmllbGQmJihwKHIpfHx3KHIpKT9OdW1iZXIoZS52YWx1ZSk6ZS52YWx1ZSxhLmF0dHJpYnV0ZXNbY109ZS5jb3VudCx1LnB1c2goYSl9KSksbiYmbi5mb3JFYWNoKChlPT57bFtlLnZhbHVlXT1lLmxhYmVsfSkpO2NvbnN0IGQ9bmV3IG0oe2ZlYXR1cmVzOnV9KTtyZXR1cm4gRShkLHtsYXllcjp0aGlzLGZpZWxkOmUuZmllbGQsbGFiZWxzOmwsdmlldzplLnZpZXcsc2lnbmFsOmUuc2lnbmFsfSl9KSkudGhlbigodD0+eih0LFtvXSxlLnJldHVybkFsbENvZGVkVmFsdWVzKSkpfWFzeW5jIF9nZXRVbmlxdWVWYWx1ZXNGcm9tTWVtb3J5KGUsdCl7Y29uc3R7dmlldzpyLGZpZWxkOmEsZmllbGQyOnMsZmllbGQzOmksdmFsdWVFeHByZXNzaW9uOm8scmV0dXJuQWxsQ29kZWRWYWx1ZXM6bn09ZSxsPXtmaWVsZDphLGZpZWxkMjpzLGZpZWxkMzppLGZpZWxkRGVsaW1pdGVyOkYsdmFsdWVFeHByZXNzaW9uOm8sZG9tYWluczp0LHJldHVybkFsbENvZGVkVmFsdWVzOm59LHtmZWF0dXJlc0pTT046dSxncmFwaGljczpwfT1hd2FpdCB0aGlzLl9wcm9jZXNzU3RhdHNGcm9tTWVtb3J5UGFyYW1zKGUpO3JldHVybiBlLnZhbHVlRXhwcmVzc2lvbiYmciYmdSYmKGwudmlld0luZm9QYXJhbXM9TChyKSxsLnRpbWVab25lPXIudGltZVpvbmUpLHU/dGhpcy53b3JrZXJDbGllbnQudW5pcXVlVmFsdWVzKGwsdSk6ZCh7YXR0cmlidXRlOmwsZmVhdHVyZXM6cH0pfV9nZXRDYWNoZWRTdGF0aXN0aWNzRm9ySGlzdG9ncmFtKGUsdCl7Y29uc3Qgcj10aGlzLmxheWVyO3JldHVybiBlLnZhbHVlRXhwcmVzc2lvbnx8ZS5zcWxFeHByZXNzaW9ufHxlLnNxbFdoZXJlfHxlLm5vcm1hbGl6YXRpb25UeXBlP1Byb21pc2UucmVqZWN0KG5ldyBhKFwic2NlbmUtbGF5ZXItYWRhcHRlcjpub3Qtc3VwcG9ydGVkXCIsXCJUaGlzIExheWVyIGRvZXMgbm90IHN1cHBvcnQgY2FsY3VsYXRpbmcgc3RhdGlzdGljcyB3aGVuICd2YWx1ZUV4cHJlc3Npb24nIG9yICdzcWxFeHByZXNzaW9uJyBvciAnc3FsV2hlcmUnIG9yICdub3JtYWxpemF0aW9uVHlwZScgaXMgc3BlY2lmaWVkXCIpKTpyLnF1ZXJ5Q2FjaGVkU3RhdGlzdGljcyh0JiZ0Lm5hbWUse3NpZ25hbDplLnNpZ25hbH0pLnRoZW4oKHQ9Pntjb25zdCByPXQuc3RhdHMse21pblZhbHVlOmEsbWF4VmFsdWU6c309ZSxpPW51bGwhPWE/YTpyLm1pbixvPW51bGwhPXM/czpyLm1heCxuPWUubnVtQmluc3x8MTAsbD1qKHIuaGlzdG9ncmFtLGksbyxuKTtyZXR1cm4gQyhsLGksbyxuKX0pKX1hc3luYyBfZ2V0Q2xhc3NCcmVha3NGcm9tTWVtb3J5KGUpe2NvbnN0e3ZpZXc6dCxmaWVsZDpyLG5vcm1hbGl6YXRpb25GaWVsZDphLHZhbHVlRXhwcmVzc2lvbjpzfT1lLHtmZWF0dXJlc0pTT046aSxncmFwaGljczpvfT1hd2FpdCB0aGlzLl9wcm9jZXNzU3RhdHNGcm9tTWVtb3J5UGFyYW1zKGUpLG49e2ZpZWxkOnIsdmFsdWVFeHByZXNzaW9uOnMsbm9ybWFsaXphdGlvblR5cGU6ZS5ub3JtYWxpemF0aW9uVHlwZSxub3JtYWxpemF0aW9uRmllbGQ6YSxub3JtYWxpemF0aW9uVG90YWw6ZS5ub3JtYWxpemF0aW9uVG90YWwsbWluVmFsdWU6ZS5taW5WYWx1ZSxtYXhWYWx1ZTplLm1heFZhbHVlLHN0YW5kYXJkRGV2aWF0aW9uSW50ZXJ2YWw6ZS5zdGFuZGFyZERldmlhdGlvbkludGVydmFsLGNsYXNzaWZpY2F0aW9uTWV0aG9kOmUuY2xhc3NpZmljYXRpb25NZXRob2QsbnVtQ2xhc3NlczplLm51bUNsYXNzZXN9O3JldHVybiBlLnZhbHVlRXhwcmVzc2lvbiYmdCYmaSYmKG4udmlld0luZm9QYXJhbXM9TCh0KSxuLnRpbWVab25lPXQudGltZVpvbmUpLFwicGVyY2VudC1vZi10b3RhbFwiPT09ZS5ub3JtYWxpemF0aW9uVHlwZSYmbnVsbD09ZS5ub3JtYWxpemF0aW9uVG90YWwmJihuLm5vcm1hbGl6YXRpb25Ub3RhbD1hd2FpdCB0aGlzLl9nZXROb3JtYWxpemF0aW9uVG90YWwocixpLG8pKSxpP3RoaXMud29ya2VyQ2xpZW50LmNsYXNzQnJlYWtzKG4saSk6aCh7YXR0cmlidXRlOm4sZmVhdHVyZXM6b30pfWFzeW5jIF9nZXRIaXN0b2dyYW1Gcm9tTWVtb3J5KGUpe2NvbnN0e3ZpZXc6dCxmaWVsZDpyfT1lLHtmZWF0dXJlc0pTT046YSxncmFwaGljczpzfT1hd2FpdCB0aGlzLl9wcm9jZXNzU3RhdHNGcm9tTWVtb3J5UGFyYW1zKGUpLGk9e2ZpZWxkOnIsdmFsdWVFeHByZXNzaW9uOmUudmFsdWVFeHByZXNzaW9uLG5vcm1hbGl6YXRpb25UeXBlOmUubm9ybWFsaXphdGlvblR5cGUsbm9ybWFsaXphdGlvbkZpZWxkOmUubm9ybWFsaXphdGlvbkZpZWxkLG5vcm1hbGl6YXRpb25Ub3RhbDplLm5vcm1hbGl6YXRpb25Ub3RhbCxtaW5WYWx1ZTplLm1pblZhbHVlLG1heFZhbHVlOmUubWF4VmFsdWUsc3RhbmRhcmREZXZpYXRpb25JbnRlcnZhbDplLnN0YW5kYXJkRGV2aWF0aW9uSW50ZXJ2YWwsY2xhc3NpZmljYXRpb25NZXRob2Q6ZS5jbGFzc2lmaWNhdGlvbk1ldGhvZCxudW1CaW5zOmUubnVtQmluc307cmV0dXJuIGUudmFsdWVFeHByZXNzaW9uJiZ0JiZhJiYoaS52aWV3SW5mb1BhcmFtcz1MKHQpLGkudGltZVpvbmU9dC50aW1lWm9uZSksXCJwZXJjZW50LW9mLXRvdGFsXCI9PT1lLm5vcm1hbGl6YXRpb25UeXBlJiZudWxsPT1lLm5vcm1hbGl6YXRpb25Ub3RhbCYmKGkubm9ybWFsaXphdGlvblRvdGFsPWF3YWl0IHRoaXMuX2dldE5vcm1hbGl6YXRpb25Ub3RhbChyLGEscykpLGE/dGhpcy53b3JrZXJDbGllbnQuaGlzdG9ncmFtKGksYSk6eSh7YXR0cmlidXRlOmksZmVhdHVyZXM6c30pfWdldEZpZWxkKGUpe3JldHVybiB0aGlzLmxheWVyLmdldEZpZWxkKGU/P1wiXCIpfWdldEZpZWxkVXNhZ2VJbmZvKGUpe2NvbnN0IHQ9dGhpcy5nZXRGaWVsZChlKTtpZighdClyZXR1cm4gbnVsbDtjb25zdCByPXRoaXMubGF5ZXIuZ2V0RmllbGRVc2FnZUluZm8odC5uYW1lKTtyZXR1cm57c3VwcG9ydHNMYWJlbGluZ0luZm86ci5zdXBwb3J0c0xhYmVsaW5nSW5mbyxzdXBwb3J0c1BvcHVwVGVtcGxhdGU6ci5zdXBwb3J0c1BvcHVwVGVtcGxhdGUsc3VwcG9ydHNSZW5kZXJlcjpyLnN1cHBvcnRzUmVuZGVyZXIsc3VwcG9ydHNMYXllclF1ZXJ5OnIuc3VwcG9ydHNMYXllclF1ZXJ5LHN1cHBvcnRzU3RhdGlzdGljczohMH19Z2V0RmllbGREb21haW4oZSx0KXtyZXR1cm4gdGhpcy5fZmVhdHVyZUxheWVyQWRhcHRlcj90aGlzLl9mZWF0dXJlTGF5ZXJBZGFwdGVyLmdldEZpZWxkRG9tYWluKGUsdCk6bnVsbH1jcmVhdGVRdWVyeSgpe3JldHVybiB0aGlzLmxheWVyLmNyZWF0ZVF1ZXJ5KCl9c3VtbWFyeVN0YXRpc3RpY3MoZSl7Y29uc3QgdD10aGlzLmdldEZpZWxkKGUuZmllbGQpO2lmKHRoaXMuX2ZlYXR1cmVMYXllckFkYXB0ZXIpcmV0dXJuIHRoaXMuX2ZlYXR1cmVMYXllckFkYXB0ZXIuc3VtbWFyeVN0YXRpc3RpY3MoZSk7aWYoZS5maWx0ZXIpdGhyb3cgbmV3IGEoXCJzY2VuZS1sYXllci1hZGFwdGVyOm5vdC1zdXBwb3J0ZWRcIixcImZpbHRlciBpcyBub3Qgc3VwcG9ydGVkXCIpO3JldHVybiB0aGlzLl9oYXNDYWNoZWRTdGF0aXN0aWNzKHQ/Lm5hbWUpP3RoaXMuX2dldENhY2hlZFN0YXRpc3RpY3MoZSx0KS5jYXRjaCgoKCk9PihpKGUuc2lnbmFsKSx0aGlzLl9nZXRTdW1tYXJ5U3RhdGlzdGljc0Zyb21NZW1vcnkoZSx0KSkpKTp0aGlzLl9nZXRTdW1tYXJ5U3RhdGlzdGljc0Zyb21NZW1vcnkoZSx0KX1hc3luYyB1bmlxdWVWYWx1ZXMoZSl7aWYodGhpcy5fZmVhdHVyZUxheWVyQWRhcHRlcilyZXR1cm4gdGhpcy5fZmVhdHVyZUxheWVyQWRhcHRlci51bmlxdWVWYWx1ZXMoZSk7aWYoZS5maWx0ZXIpdGhyb3cgbmV3IGEoXCJzY2VuZS1sYXllci1hZGFwdGVyOm5vdC1zdXBwb3J0ZWRcIixcImZpbHRlciBpcyBub3Qgc3VwcG9ydGVkXCIpO2NvbnN0IHQ9YXdhaXQgVChlLHRoaXMpLHtmaWVsZDpyLGZpZWxkMjpzfT1lLG89ciYmcyxuPXRoaXMuZ2V0RmllbGQocik7cmV0dXJuIW8mJm4mJnRoaXMuX2hhc0NhY2hlZFN0YXRpc3RpY3Mobi5uYW1lKT90aGlzLl9nZXRDYWNoZWRTdGF0aXN0aWNzRm9yVW5pcXVlVmFsdWVzKGUsbikuY2F0Y2goKCgpPT4oaShlLnNpZ25hbCksdGhpcy5fZ2V0VW5pcXVlVmFsdWVzRnJvbU1lbW9yeShlLHQpKSkpOnRoaXMuX2dldFVuaXF1ZVZhbHVlc0Zyb21NZW1vcnkoZSx0KX1oaXN0b2dyYW0oZSl7Y29uc3QgdD10aGlzLmdldEZpZWxkKGUuZmllbGQpO2lmKHRoaXMuX2ZlYXR1cmVMYXllckFkYXB0ZXIpcmV0dXJuIHRoaXMuX2ZlYXR1cmVMYXllckFkYXB0ZXIuaGlzdG9ncmFtKGUpO2lmKGUuZmlsdGVyKXRocm93IG5ldyBhKFwic2NlbmUtbGF5ZXItYWRhcHRlcjpub3Qtc3VwcG9ydGVkXCIsXCJmaWx0ZXIgaXMgbm90IHN1cHBvcnRlZFwiKTtyZXR1cm4gdCYmdGhpcy5faGFzQ2FjaGVkU3RhdGlzdGljcyh0Lm5hbWUpP3RoaXMuX2dldENhY2hlZFN0YXRpc3RpY3NGb3JIaXN0b2dyYW0oZSx0KS5jYXRjaCgoKCk9PihpKGUuc2lnbmFsKSx0aGlzLl9nZXRIaXN0b2dyYW1Gcm9tTWVtb3J5KGUpKSkpOnRoaXMuX2dldEhpc3RvZ3JhbUZyb21NZW1vcnkoZSl9Y2xhc3NCcmVha3MoZSl7Y29uc3QgdD10aGlzLmdldEZpZWxkKGUuZmllbGQpO2lmKHRoaXMuX2ZlYXR1cmVMYXllckFkYXB0ZXIpcmV0dXJuIHRoaXMuX2ZlYXR1cmVMYXllckFkYXB0ZXIuY2xhc3NCcmVha3MoZSk7aWYoZS5maWx0ZXIpdGhyb3cgbmV3IGEoXCJzY2VuZS1sYXllci1hZGFwdGVyOm5vdC1zdXBwb3J0ZWRcIixcImZpbHRlciBpcyBub3Qgc3VwcG9ydGVkXCIpO3JldHVybiB0aGlzLl9oYXNDYWNoZWRTdGF0aXN0aWNzKHQ/Lm5hbWUpP1Byb21pc2UucmVqZWN0KG5ldyBhKFwic2NlbmUtbGF5ZXItYWRhcHRlcjpub3Qtc3VwcG9ydGVkXCIsXCJDYWNoZWQgc3RhdHMgbm90IHN1cHBvcnRlZFwiKSk6dGhpcy5fZ2V0Q2xhc3NCcmVha3NGcm9tTWVtb3J5KGUpfXF1ZXJ5RmVhdHVyZUNvdW50KGUpe3JldHVybiB0aGlzLl9mZWF0dXJlTGF5ZXJBZGFwdGVyP3RoaXMuX2ZlYXR1cmVMYXllckFkYXB0ZXIucXVlcnlGZWF0dXJlQ291bnQoZSk6UHJvbWlzZS5yZWplY3QobmV3IGEoXCJzY2VuZS1sYXllci1hZGFwdGVyOm5vdC1zdXBwb3J0ZWRcIixcIlNjZW5lTGF5ZXIgd2l0aG91dCBhc3NvY2lhdGVkIEZlYXR1cmVMYXllciBkb2VzIG5vdCBzdXBwb3J0IGNvdW50IHF1ZXJ5XCIpKX1nZW5lcmF0ZVJlbmRlcmVyKGUsdCl7cmV0dXJuIHRoaXMuX2ZlYXR1cmVMYXllckFkYXB0ZXI/dGhpcy5fZmVhdHVyZUxheWVyQWRhcHRlci5nZW5lcmF0ZVJlbmRlcmVyKGUsdCk6UHJvbWlzZS5yZWplY3QobmV3IGEoXCJzY2VuZS1sYXllci1hZGFwdGVyOm5vdC1zdXBwb3J0ZWRcIixcIlNjZW5lTGF5ZXIgd2l0aG91dCBhc3NvY2lhdGVkIEZlYXR1cmVMYXllciBkb2VzIG5vdCBzdXBwb3J0IGdlbmVyYXRlUmVuZGVyZXIgb3BlcmF0aW9uXCIpKX1oZWF0bWFwU3RhdGlzdGljcyhlKXtyZXR1cm4gdGhpcy5fZmVhdHVyZUxheWVyQWRhcHRlcj90aGlzLl9mZWF0dXJlTGF5ZXJBZGFwdGVyLmhlYXRtYXBTdGF0aXN0aWNzKGUpOlByb21pc2UucmVqZWN0KG5ldyBhKFwic2NlbmUtbGF5ZXItYWRhcHRlcjpub3Qtc3VwcG9ydGVkXCIsXCJTY2VuZUxheWVyIHdpdGhvdXQgYXNzb2NpYXRlZCBGZWF0dXJlTGF5ZXIgZG9lcyBub3Qgc3VwcG9ydCBoZWF0bWFwU3RhdGlzdGljcyBvcGVyYXRpb25cIikpfWFzeW5jIHByZWRvbWluYW50Q2F0ZWdvcmllcyhlKXtpZih0aGlzLl9mZWF0dXJlTGF5ZXJBZGFwdGVyKXJldHVybiB0aGlzLl9mZWF0dXJlTGF5ZXJBZGFwdGVyLnByZWRvbWluYW50Q2F0ZWdvcmllcyhlKTt0aHJvdyBuZXcgYShcInNjZW5lLWxheWVyLWFkYXB0ZXI6bm90LXN1cHBvcnRlZFwiLFwiU2NlbmVMYXllciB3aXRob3V0IGFzc29jaWF0ZWQgRmVhdHVyZUxheWVyIGRvZXMgbm90IHN1cHBvcnQgcHJlZG9taW5hbnRDYXRlZ29yaWVzXCIpfWFzeW5jIGdldFNhbXBsZUZlYXR1cmVzKGUsdCl7aWYoZS5maWx0ZXIpdGhyb3cgbmV3IGEoXCJzY2VuZS1sYXllci1hZGFwdGVyOm5vdC1zdXBwb3J0ZWRcIixcImZpbHRlciBpcyBub3Qgc3VwcG9ydGVkXCIpO2NvbnN0e3ZpZXc6cyxzYW1wbGVTaXplOm8scmVxdWlyZWRGaWVsZHM6bixyZXR1cm5HZW9tZXRyeTpsLHNpZ25hbDp1fT1lLHA9MSxtPVwianNvblwiPT09dCxjPXRoaXMuY3JlYXRlUXVlcnkoKTtjLm91dEZpZWxkcz1uLGMucmV0dXJuR2VvbWV0cnk9ISFsLGMud2hlcmU9bnVsbCxjLm51bT1vO2xldCBkPVtdO3RyeXtpZihkPW0/YXdhaXQgdGhpcy5fZmV0Y2hGZWF0dXJlc0pTT05Gcm9tTWVtb3J5KHMsYyxuKTphd2FpdCB0aGlzLl9mZXRjaEZlYXR1cmVzRnJvbU1lbW9yeShzLGMsbiksZC5sZW5ndGgmJm51bGwhPW8mJm8+MCYmbzw9ZC5sZW5ndGgpcmV0dXJuIHIoZCxvLHApfWNhdGNoKHkpe2kodSl9bGV0IGg9bnVsbDtpZih0aGlzLl9mZWF0dXJlTGF5ZXJBZGFwdGVyKXtjb25zdCByPXsuLi5lfTtkZWxldGUgci52aWV3LGg9YXdhaXQgdGhpcy5fZmVhdHVyZUxheWVyQWRhcHRlci5nZXRTYW1wbGVGZWF0dXJlcyhyLHQpfXJldHVybiBoPy5sZW5ndGg/aDpyKGQsZC5sZW5ndGgscCl9bG9hZChlKXtjb25zdCB0PXRoaXMubGF5ZXIubG9hZChlKS50aGVuKChhc3luYyB0PT57dGhpcy53b3JrZXJDbGllbnQ9Zi5nZXRJbnN0YW5jZSgpLGF3YWl0IHRoaXMud29ya2VyQ2xpZW50Lm9wZW4oZS5zaWduYWwpO2NvbnN0IHI9dC5hc3NvY2lhdGVkTGF5ZXI7aWYodGhpcy5nZW9tZXRyeVR5cGU9dC5nZW9tZXRyeVR5cGUsbnVsbCE9cil7dGhpcy5fZmVhdHVyZUxheWVyQWRhcHRlcj1uZXcgXyh7bGF5ZXI6cn0pO3JldHVybiB0aGlzLl9mZWF0dXJlTGF5ZXJBZGFwdGVyLmxvYWQoZSkudGhlbigoKCk9Pnt0aGlzLm9iamVjdElkRmllbGQ9dGhpcy5fZmVhdHVyZUxheWVyQWRhcHRlci5vYmplY3RJZEZpZWxkLHRoaXMuc3VwcG9ydHNTUUxFeHByZXNzaW9uPXRoaXMuX2ZlYXR1cmVMYXllckFkYXB0ZXIuc3VwcG9ydHNTUUxFeHByZXNzaW9uLHRoaXMubWluU2NhbGU9dGhpcy5fZmVhdHVyZUxheWVyQWRhcHRlci5taW5TY2FsZSx0aGlzLm1heFNjYWxlPXRoaXMuX2ZlYXR1cmVMYXllckFkYXB0ZXIubWF4U2NhbGUsdGhpcy5mdWxsRXh0ZW50PXRoaXMuX2ZlYXR1cmVMYXllckFkYXB0ZXIuZnVsbEV4dGVudH0pKX10aGlzLm9iamVjdElkRmllbGQ9dC5vYmplY3RJZEZpZWxkLHRoaXMuc3VwcG9ydHNTUUxFeHByZXNzaW9uPSExLHRoaXMuaGFzUXVlcnlFbmdpbmU9ITEsdGhpcy5mdWxsRXh0ZW50PXQuZnVsbEV4dGVudH0pKTtyZXR1cm4gdGhpcy5hZGRSZXNvbHZpbmdQcm9taXNlKHQpLFByb21pc2UucmVzb2x2ZSh0aGlzKX19O2Z1bmN0aW9uIGooZSxyPWUubWluaW11bSxhPWUubWF4aW11bSxzKXtjb25zdCBpPVtdO2ZvcihsZXQgdD0wO3Q8czt0KyspaVt0XT0wO2NvbnN0IG89ZS5jb3VudHMubGVuZ3RoLG49ZS5taW5pbXVtLGw9ZS5tYXhpbXVtO2ZvcihsZXQgdD0wO3Q8bzt0Kyspe2NvbnN0IHU9KHQrLjUpL28scD0oKDEtdSkqbit1KmwtcikvKGEtcikqcztwPj0wJiZwPD1zJiYoaVtwPT09cz9zLTE6TWF0aC5mbG9vcihwKV0rPWUuY291bnRzW3RdKX1jb25zdCB1PVtdO3JldHVybiBpLmZvckVhY2goKChlLHIpPT57Y29uc3QgYT1uZXcgdCh7YXR0cmlidXRlczp7fX0pO2EuYXR0cmlidXRlcy5FWFBSXzE9cisxLGEuYXR0cmlidXRlcy5jb3VudE9GRXhwcj1lLHUucHVzaChhKX0pKSxuZXcgbSh7ZmVhdHVyZXM6dX0pfWUoW24oe3JlYWRPbmx5OiEwfSldLEEucHJvdG90eXBlLFwiYWRhcHRlck5hbWVcIix2b2lkIDApLGUoW24oe2NvbnN0cnVjdE9ubHk6ITB9KV0sQS5wcm90b3R5cGUsXCJsYXllclwiLHZvaWQgMCksQT1lKFtsKFwiZXNyaS5zbWFydE1hcHBpbmcuc3VwcG9ydC5hZGFwdGVycy5TY2VuZUxheWVyQWRhcHRlclwiKV0sQSk7ZXhwb3J0e0EgYXMgZGVmYXVsdH07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4zMy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e18gYXMgdH1mcm9tXCIuLi8uLi8uLi9jaHVua3MvdHNsaWIuZXM2LmpzXCI7aW1wb3J0e3Byb3BlcnR5IGFzIHJ9ZnJvbVwiLi4vLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9wcm9wZXJ0eS5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vY29yZS9oYXMuanNcIjtpbXBvcnRcIi4uLy4uLy4uL2NvcmUvTG9nZ2VyLmpzXCI7aW1wb3J0XCIuLi8uLi8uLi9jb3JlL1JhbmRvbUxDRy5qc1wiO2ltcG9ydHtzdWJjbGFzcyBhcyBzfWZyb21cIi4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvc3ViY2xhc3MuanNcIjtpbXBvcnR7aXNUaW1lT25seUZpZWxkIGFzIG99ZnJvbVwiLi4vLi4vLi4vbGF5ZXJzL3N1cHBvcnQvZmllbGRVdGlscy5qc1wiO2ltcG9ydHtpc0FueURhdGVGaWVsZCBhcyBlfWZyb21cIi4uL3V0aWxzLmpzXCI7aW1wb3J0IGEgZnJvbVwiLi9Jbk1lbW9yeUxheWVyQWRhcHRlci5qc1wiO2ltcG9ydHtnZXRTdW1tYXJ5U3RhdHNRdWVyeSBhcyBpLGdldFN1bW1hcnlTdGF0aXN0aWNzRnJvbUZlYXR1cmVTZXQgYXMgcH1mcm9tXCIuL3N1cHBvcnQvdXRpbHMuanNcIjtpbXBvcnR7cHJvY2Vzc1N1bW1hcnlTdGF0aXN0aWNzUmVzdWx0IGFzIG19ZnJvbVwiLi4vLi4vLi4vc3RhdGlzdGljcy91dGlscy5qc1wiO2xldCBjPWNsYXNzIGV4dGVuZHMgYXtjb25zdHJ1Y3Rvcigpe3N1cGVyKC4uLmFyZ3VtZW50cyksdGhpcy5hZGFwdGVyTmFtZT1cInN0cmVhbS1sYXllci1hZGFwdGVyXCJ9YXN5bmMgX3N1bW1hcnlTdGF0c0Zyb21DbGllbnRRdWVyeSh0LHIpe2NvbnN0e3NpZ25hbDpzLHZpZXc6YX09dCxjPWkodGhpcyx0LHIpO2Mub3V0U3RhdGlzdGljcz1jLm91dFN0YXRpc3RpY3M/LmZpbHRlcigodD0+XCJ0b3RhbGNvdW50X3ZhbHVlXCIhPT10Lm91dFN0YXRpc3RpY0ZpZWxkTmFtZSkpO2NvbnN0IHU9YXdhaXQgdGhpcy5fZmV0Y2hGZWF0dXJlU2V0RnJvbU1lbW9yeShjLGEscyksbD1wKHUsZShyKXx8byhyKSk7cmV0dXJuIG0obCx0Lm91dFN0YXRpc3RpY1R5cGVzKX19O3QoW3Ioe3JlYWRPbmx5OiEwfSldLGMucHJvdG90eXBlLFwiYWRhcHRlck5hbWVcIix2b2lkIDApLGM9dChbcyhcImVzcmkuc21hcnRNYXBwaW5nLnN1cHBvcnQuYWRhcHRlcnMuU3RyZWFtTGF5ZXJBZGFwdGVyXCIpXSxjKTtleHBvcnR7YyBhcyBkZWZhdWx0fTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjMzL2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnQgaSBmcm9tXCIuLi8uLi8uLi8uLi9jb3JlL0Vycm9yLmpzXCI7aW1wb3J0e3Jlc29sdmVUaW1lWm9uZSBhcyBlfWZyb21cIi4uLy4uLy4uLy4uL2ludGwvZGF0ZS5qc1wiO2ltcG9ydHtpc1RpbWVPbmx5RmllbGQgYXMgbixpc0RhdGVGaWVsZCBhcyB0LGlzVGltZXN0YW1wT2Zmc2V0RmllbGQgYXMgYSxpc0RhdGVPbmx5RmllbGQgYXMgcn1mcm9tXCIuLi8uLi8uLi8uLi9sYXllcnMvc3VwcG9ydC9maWVsZFV0aWxzLmpzXCI7aW1wb3J0IG8gZnJvbVwiLi4vLi4vLi4vLi4vcmVzdC9zdXBwb3J0L0F0dHJpYnV0ZUJpbnNRdWVyeS5qc1wiO2ltcG9ydCBsIGZyb21cIi4uLy4uLy4uLy4uL3Jlc3Qvc3VwcG9ydC9BdXRvSW50ZXJ2YWxCaW5QYXJhbWV0ZXJzLmpzXCI7aW1wb3J0IHMgZnJvbVwiLi4vLi4vLi4vLi4vcmVzdC9zdXBwb3J0L0RhdGVCaW5QYXJhbWV0ZXJzLmpzXCI7aW1wb3J0IHUgZnJvbVwiLi4vLi4vLi4vLi4vcmVzdC9zdXBwb3J0L0ZpeGVkQm91bmRhcmllc0JpblBhcmFtZXRlcnMuanNcIjtpbXBvcnQgbSBmcm9tXCIuLi8uLi8uLi8uLi9yZXN0L3N1cHBvcnQvRml4ZWRJbnRlcnZhbEJpblBhcmFtZXRlcnMuanNcIjtpbXBvcnQgZCBmcm9tXCIuLi8uLi8uLi8uLi9yZXN0L3N1cHBvcnQvR2VuZXJhdGVSZW5kZXJlclBhcmFtZXRlcnMuanNcIjtpbXBvcnQgcCBmcm9tXCIuLi8uLi8uLi8uLi9yZXN0L3N1cHBvcnQvU3RhdGlzdGljRGVmaW5pdGlvbi5qc1wiO2ltcG9ydHtnZXRTUUxGaWx0ZXJGb3JOb3JtYWxpemF0aW9uIGFzIGYsbWVyZ2VXaGVyZUNsYXVzZXMgYXMgYyxnZXRSYW5nZUV4cHIgYXMgeX1mcm9tXCIuLi8uLi8uLi9zdGF0aXN0aWNzL3N1cHBvcnQvdXRpbHMuanNcIjtpbXBvcnR7aXNBbnlEYXRlRmllbGQgYXMgen1mcm9tXCIuLi8uLi91dGlscy5qc1wiO2ltcG9ydHtnZXRTUUxFeHByZXNzaW9uRm9yRGF0ZU9yVGltZUZpZWxkIGFzIHYsZ2V0RmllbGRFeHByIGFzIHgsdXBkYXRlUXVlcnlXaXRoRmVhdHVyZUZpbHRlciBhcyB3LGRlZmF1bHROdW1CaW5zIGFzIFQsZ2VuZXJhdGVCaW5QYXJhbXMgYXMgaCxnZXRWaWV3SW5mb1BhcmFtcyBhcyBGfWZyb21cIi4vdXRpbHMuanNcIjtpbXBvcnR7Y3JlYXRlQ2xhc3NCcmVha3NEZWZpbml0aW9uIGFzIEJ9ZnJvbVwiLi4vLi4vLi4vLi4vc3RhdGlzdGljcy91dGlscy5qc1wiO2NvbnN0IFY9XCJjb3VudE9GRXhwclwiLGo9XCJsb3dlckJvdW5kYXJ5XCIscT1cInVwcGVyQm91bmRhcnlcIjtmdW5jdGlvbiBJKGksZSx0KXtjb25zdCBhPWkudmFsdWVFeHByZXNzaW9ufHxpLnNxbEV4cHJlc3Npb24scj1pLnNpZ25hbDtpZighYSl7Y29uc3R7ZmllbGQ6YSxub3JtYWxpemF0aW9uVHlwZTpvLG5vcm1hbGl6YXRpb25GaWVsZDpsfT1pLHM9YT9lLmdldEZpZWxkKGEpOm51bGwsdT16KHMpfHxuKHMpLG09e2ZpZWxkOmEsbm9ybWFsaXphdGlvblR5cGU6byxub3JtYWxpemF0aW9uRmllbGQ6bCxub3JtYWxpemF0aW9uVG90YWw6dCxsYXllcjplfTtyZXR1cm57c3FsRXhwcmVzc2lvbjp1P3YoZSxzKTp4KG0pLHNxbFdoZXJlOnU/bnVsbDppLnNxbFdoZXJlfHxmKHtmaWVsZDphLG5vcm1hbGl6YXRpb25UeXBlOm8sbm9ybWFsaXphdGlvbkZpZWxkOmx9KSxmaWx0ZXI6aS5maWx0ZXIsc2lnbmFsOnJ9fXJldHVybnt2YWx1ZUV4cHJlc3Npb246aS52YWx1ZUV4cHJlc3Npb24sc3FsRXhwcmVzc2lvbjppLnNxbEV4cHJlc3Npb24sc3FsV2hlcmU6aS5zcWxXaGVyZSxmaWx0ZXI6aS5maWx0ZXIsc2lnbmFsOnJ9fWFzeW5jIGZ1bmN0aW9uIE0oaSxlLG4pe2NvbnN0e2ZpZWxkOnQsbm9ybWFsaXphdGlvblR5cGU6YSxub3JtYWxpemF0aW9uRmllbGQ6cixzaWduYWw6b309aSxsPWYoe2ZpZWxkOnQsbm9ybWFsaXphdGlvblR5cGU6YSxub3JtYWxpemF0aW9uRmllbGQ6cn0pLHM9bmV3IGQoe2NsYXNzaWZpY2F0aW9uRGVmaW5pdGlvbjpCKHtmaWVsZDp0LG5vcm1hbGl6YXRpb25UeXBlOmEsbm9ybWFsaXphdGlvbkZpZWxkOnIsY2xhc3NpZmljYXRpb25NZXRob2Q6aS5jbGFzc2lmaWNhdGlvbk1ldGhvZCxzdGFuZGFyZERldmlhdGlvbkludGVydmFsOmkuc3RhbmRhcmREZXZpYXRpb25JbnRlcnZhbCxkZWZpbmVkSW50ZXJ2YWw6aS5kZWZpbmVkSW50ZXJ2YWwsYnJlYWtDb3VudDppLm51bUJpbnN8fFR9KSx3aGVyZTpjKGwsbil9KTtyZXR1cm4gZS5nZW5lcmF0ZVJlbmRlcmVyKHMsbykudGhlbigoaT0+e2NvbnN0e25vcm1hbGl6YXRpb25Ub3RhbDpuLGNsYXNzQnJlYWtzOm99PWk7cmV0dXJuIGgoe2ZpZWxkOnQsbm9ybWFsaXphdGlvblR5cGU6YSxub3JtYWxpemF0aW9uRmllbGQ6cixub3JtYWxpemF0aW9uVG90YWw6bixjbGFzc0JyZWFrczpvLHdoZXJlOmwsbGF5ZXI6ZX0pfSkpfWFzeW5jIGZ1bmN0aW9uIGcoZSx0LGEsbyxkKXtjb25zdHtmaWVsZDpwLHNxbEV4cHJlc3Npb246Zixub3JtYWxpemF0aW9uRmllbGQ6YyxjbGFzc2lmaWNhdGlvbk1ldGhvZDp6LG5vcm1hbGl6YXRpb25UeXBlOnZ9PWUsdz1wP3QuZ2V0RmllbGQocCk6bnVsbCxoPW4odyksRj1yKHcpfHxoLEI9ZS5udW1CaW5zfHxUO2lmKEYpe2lmKHZ8fHopdGhyb3cgbmV3IGkoYCR7dC5hZGFwdGVyTmFtZX06bm90LXN1cHBvcnRlZGAsXCJOb3JtYWxpemF0aW9uVHlwZSBhbmQgY2xhc3NpZmljYXRpb25NZXRob2QgYXJlIG5vdCBzdXBwb3J0ZWQgZm9yIGRhdGUtb25seSBhbmQgdGltZS1vbmx5IGZpZWxkc1wiKTtjb25zdCBlPShvLWEpL0IvMWUzLG49ZS84NjQwMDtyZXR1cm4gbmV3IHMoe2ZpZWxkOnAsZXhwcmVzc2lvbjpmLGludGVydmFsOnt1bml0Omg/XCJzZWNvbmRzXCI6XCJkYXlzXCIsdmFsdWU6TWF0aC5jZWlsKGg/ZTpuKX0sc3RhcnQ6YSxlbmQ6b30pfWlmKFwiZGVmaW5lZC1pbnRlcnZhbFwiPT09eilyZXR1cm4gbmV3IG0oe2ZpZWxkOnAsZXhwcmVzc2lvbjpmLG5vcm1hbGl6YXRpb25GaWVsZDpjLG5vcm1hbGl6YXRpb25Ub3RhbDpkLG5vcm1hbGl6YXRpb25UeXBlOnYsaW50ZXJ2YWw6ZS5kZWZpbmVkSW50ZXJ2YWw/P01hdGguY2VpbCgoby1hKS9CKSxzdGFydDp2P251bGw6YSxlbmQ6dj9udWxsOm8sbm9ybWFsaXphdGlvbk1pblZhbHVlOnY/YTpudWxsLG5vcm1hbGl6YXRpb25NYXhWYWx1ZTp2P286bnVsbH0pO2lmKFwibWFudWFsXCI9PT16KXRocm93IG5ldyBpKGAke3QuYWRhcHRlck5hbWV9Om5vdC1zdXBwb3J0ZWRgLFwiTGF5ZXIgZG9lcyBub3Qgc3VwcG9ydCBtYW51YWwgY2xhc3NpZmljYXRpb25NZXRob2RcIik7aWYoXCJuYXR1cmFsLWJyZWFrc1wiPT09enx8XCJxdWFudGlsZVwiPT09enx8XCJzdGFuZGFyZC1kZXZpYXRpb25cIj09PXope2NvbnN0IG49eCh7ZmllbGQ6cCxub3JtYWxpemF0aW9uRmllbGQ6Yyxub3JtYWxpemF0aW9uVG90YWw6ZCxub3JtYWxpemF0aW9uVHlwZTp2LGxheWVyOnR9KSxyPW51bGwhPT1lLm1pblZhbHVlJiZudWxsIT09ZS5tYXhWYWx1ZT95KG4sZS5taW5WYWx1ZSxlLm1heFZhbHVlKTp2b2lkIDAsbz1hd2FpdCBNKGUsdCxyKTtpZighby5pbnRlcnZhbHMpdGhyb3cgbmV3IGkoYCR7dC5hZGFwdGVyTmFtZX06aW52YWxpZGAsXCJJbnZhbGlkIGludGVydmFscyByZXR1cm5lZCBmcm9tIGdlbmVyYXRlIHJlbmRlcmVyXCIpO2NvbnN0IGw9W2EsLi4uby5pbnRlcnZhbHMubWFwKChpPT5pWzFdKSldO3JldHVybiBuZXcgdSh7ZmllbGQ6dj9udWxsOnAsZXhwcmVzc2lvbjp2P246Zixib3VuZGFyaWVzOmx9KX1yZXR1cm4gbmV3IGwoe2ZpZWxkOnAsbm9ybWFsaXphdGlvbkZpZWxkOmMsbm9ybWFsaXphdGlvblRvdGFsOmQsbm9ybWFsaXphdGlvblR5cGU6dixleHByZXNzaW9uOmYsbnVtQmluczpCLHN0YXJ0OnY/bnVsbDphLGVuZDp2P251bGw6byxub3JtYWxpemF0aW9uTWluVmFsdWU6dj9hOm51bGwsbm9ybWFsaXphdGlvbk1heFZhbHVlOnY/bzpudWxsfSl9ZnVuY3Rpb24gRShpLGUsbix0KXtyZXR1cm4gbnVsbCE9biYmbnVsbCE9dD9Qcm9taXNlLnJlc29sdmUoe21pbjpuLG1heDp0fSk6ZS5zdW1tYXJ5U3RhdGlzdGljcyh7Li4uaSxvdXRTdGF0aXN0aWNUeXBlczp7aW5jbHVkZTpbXCJtaW5cIixcIm1heFwiXX19KS50aGVuKChpPT4oe21pbjppLm1pbixtYXg6aS5tYXh9KSkpfWFzeW5jIGZ1bmN0aW9uIGIoaSxuLHIsbCl7Y29uc3R7ZmllbGQ6cyxtaW5WYWx1ZTp1LG1heFZhbHVlOm0sZmlsdGVyOmQsdmlldzpmfT1pLHk9cz9uLmdldEZpZWxkKHMpOm51bGwsej10KHkpfHxhKHkpLHY9SShpLG4scikse21pbjp4LG1heDpUfT1hd2FpdCBFKHYsbix1LG0pO2lmKG51bGw9PXh8fG51bGw9PVQpcmV0dXJue3F1ZXJ5Om51bGwsbWluOngsbWF4OlR9O2NvbnN0IGg9bmV3IHAoe3N0YXRpc3RpY1R5cGU6XCJjb3VudFwiLG91dFN0YXRpc3RpY0ZpZWxkTmFtZTpWLG9uU3RhdGlzdGljRmllbGQ6XCIxXCJ9KSxGPWMobCx2LnNxbFdoZXJlKSxCPVwibG93ZXJCb3VuZGFyeVwiLGo9XCJ1cHBlckJvdW5kYXJ5XCIscT1uZXcgbyh7YmluUGFyYW1ldGVyczphd2FpdCBnKGksbix4LFQsciksb3V0U3RhdGlzdGljczpbaF0sYmluT3JkZXI6aS5zb3J0T3JkZXIsd2hlcmU6Rixsb3dlckJvdW5kYXJ5QWxpYXM6Qix1cHBlckJvdW5kYXJ5QWxpYXM6aixvdXRUaW1lWm9uZTpmPy50aW1lWm9uZSYmej9lKGYudGltZVpvbmUpOm51bGx9KTtyZXR1cm4gdyhxLGQpLHtxdWVyeTpxLG1pbjp4LG1heDpUfX1mdW5jdGlvbiBEKGksZT0hMSl7aWYoXCJzdHJpbmdcIiE9dHlwZW9mIGkpcmV0dXJuIGk7cmV0dXJuKGU/bmV3IERhdGUoYDE5NzAtMDEtMDFUJHtpfVpgKTpuZXcgRGF0ZShpKSkuZ2V0VGltZSgpfWZ1bmN0aW9uIFAoaSxlLHQpe2NvbnN0IGE9bihlKTtyZXR1cm57Li4udCxiaW5zOmkuZmVhdHVyZXMubWFwKChpPT4oe21pblZhbHVlOkQoaS5hdHRyaWJ1dGVzW2pdLGEpLG1heFZhbHVlOkQoaS5hdHRyaWJ1dGVzW3FdLGEpLGNvdW50OmkuYXR0cmlidXRlc1tWXX0pKSl9fWZ1bmN0aW9uIFMoaSxlLG4pe2NvbnN0e3ZhbHVlRXhwcmVzc2lvbjp0LHZpZXc6YX09aSx7ZmVhdHVyZXNKU09OOnIsZ3JhcGhpY3M6byxmaWVsZEluZm9zOmx9PWUscz17ZmllbGQ6aS5maWVsZCx2YWx1ZUV4cHJlc3Npb246dCxub3JtYWxpemF0aW9uVHlwZTppLm5vcm1hbGl6YXRpb25UeXBlLG5vcm1hbGl6YXRpb25GaWVsZDppLm5vcm1hbGl6YXRpb25GaWVsZCxub3JtYWxpemF0aW9uVG90YWw6bixtaW5WYWx1ZTppLm1pblZhbHVlLG1heFZhbHVlOmkubWF4VmFsdWUsc3RhbmRhcmREZXZpYXRpb25JbnRlcnZhbDppLnN0YW5kYXJkRGV2aWF0aW9uSW50ZXJ2YWwsY2xhc3NpZmljYXRpb25NZXRob2Q6aS5jbGFzc2lmaWNhdGlvbk1ldGhvZCxudW1CaW5zOmkubnVtQmluc307cmV0dXJuIHQmJmEmJihyfHxvKSYmKHMudmlld0luZm9QYXJhbXM9RihhKSxzLnRpbWVab25lPWEudGltZVpvbmUscy5maWVsZEluZm9zPWwpLHN9ZXhwb3J0e00gYXMgYmluUGFyYW1zRnJvbUdlblJlbmQsRCBhcyBmb3JtYXRIaXN0b2dyYW1CaW5WYWx1ZSxiIGFzIGdldEF0dHJpYnV0ZUJpbnNRdWVyeSxFIGFzIGdldERhdGFSYW5nZSxTIGFzIGdldEhpc3RvZ3JhbUF0dHJpYnV0ZURlZmluaXRpb24sSSBhcyBnZXRRdWVyeVBhcmFtc0ZvckV4cHIsUCBhcyBwcm9jZXNzUXVlcnlBdHRyaWJ1dGVCaW5zUmVzdWx0fTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjMzL2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnQgZSBmcm9tXCIuLi9DU1ZMYXllckFkYXB0ZXIuanNcIjtpbXBvcnQgYSBmcm9tXCIuLi9GZWF0dXJlTGF5ZXJBZGFwdGVyLmpzXCI7aW1wb3J0IHIgZnJvbVwiLi4vRmVhdHVyZUxheWVyQmlubmluZ0FkYXB0ZXIuanNcIjtpbXBvcnQgdCBmcm9tXCIuLi9Jbk1lbW9yeUxheWVyQWRhcHRlci5qc1wiO2ltcG9ydCB5IGZyb21cIi4uL0xheWVyQWRhcHRlci5qc1wiO2ltcG9ydCBMIGZyb21cIi4uL1BvaW50Q2xvdWRMYXllckFkYXB0ZXIuanNcIjtpbXBvcnQgbyBmcm9tXCIuLi9TY2VuZUxheWVyQWRhcHRlci5qc1wiO2ltcG9ydCBwIGZyb21cIi4uL1N0cmVhbUxheWVyQWRhcHRlci5qc1wiO3ZhciBsOyFmdW5jdGlvbihlKXtlW2UuQ2F0YWxvZ0xheWVyPTBdPVwiQ2F0YWxvZ0xheWVyXCIsZVtlLkNhdGFsb2dGb290cHJpbnRMYXllcj0xXT1cIkNhdGFsb2dGb290cHJpbnRMYXllclwiLGVbZS5DU1ZMYXllcj0yXT1cIkNTVkxheWVyXCIsZVtlLkZlYXR1cmVMYXllcj0zXT1cIkZlYXR1cmVMYXllclwiLGVbZS5HZW9KU09OTGF5ZXI9NF09XCJHZW9KU09OTGF5ZXJcIixlW2UuSW1hZ2VyeUxheWVyPTVdPVwiSW1hZ2VyeUxheWVyXCIsZVtlLktub3dsZWRnZUdyYXBoU3VibGF5ZXI9Nl09XCJLbm93bGVkZ2VHcmFwaFN1YmxheWVyXCIsZVtlLk9HQ0ZlYXR1cmVMYXllcj03XT1cIk9HQ0ZlYXR1cmVMYXllclwiLGVbZS5PcmllbnRlZEltYWdlcnlMYXllcj04XT1cIk9yaWVudGVkSW1hZ2VyeUxheWVyXCIsZVtlLlBhcnF1ZXRMYXllcj05XT1cIlBhcnF1ZXRMYXllclwiLGVbZS5Qb2ludENsb3VkTGF5ZXI9MTBdPVwiUG9pbnRDbG91ZExheWVyXCIsZVtlLlNjZW5lTGF5ZXI9MTFdPVwiU2NlbmVMYXllclwiLGVbZS5TdHJlYW1MYXllcj0xMl09XCJTdHJlYW1MYXllclwiLGVbZS5TdWJ0eXBlR3JvdXBMYXllcj0xM109XCJTdWJ0eXBlR3JvdXBMYXllclwiLGVbZS5TdWJ0eXBlU3VibGF5ZXI9MTRdPVwiU3VidHlwZVN1YmxheWVyXCIsZVtlLldGU0xheWVyPTE1XT1cIldGU0xheWVyXCJ9KGx8fChsPXt9KSk7Y29uc3QgdT17W2wuQ2F0YWxvZ0xheWVyXTp7YWRhcHRlcjphLHR5cGU6XCJjYXRhbG9nXCIsbGFiZWw6XCJDYXRhbG9nTGF5ZXJcIn0sW2wuQ2F0YWxvZ0Zvb3RwcmludExheWVyXTp7YWRhcHRlcjphLHR5cGU6XCJjYXRhbG9nLWZvb3RwcmludFwiLGxhYmVsOlwiQ2F0YWxvZ0Zvb3RwcmludExheWVyXCJ9LFtsLkNTVkxheWVyXTp7YWRhcHRlcjplLHR5cGU6XCJjc3ZcIixsYWJlbDpcIkNTVkxheWVyXCJ9LFtsLkZlYXR1cmVMYXllcl06e2FkYXB0ZXI6YSx0eXBlOlwiZmVhdHVyZVwiLGxhYmVsOlwiRmVhdHVyZUxheWVyXCJ9LFtsLkltYWdlcnlMYXllcl06e2FkYXB0ZXI6YSx0eXBlOlwiaW1hZ2VyeVwiLGxhYmVsOlwiSW1hZ2VyeUxheWVyXCJ9LFtsLkdlb0pTT05MYXllcl06e2FkYXB0ZXI6YSx0eXBlOlwiZ2VvanNvblwiLGxhYmVsOlwiR2VvSlNPTkxheWVyXCJ9LFtsLktub3dsZWRnZUdyYXBoU3VibGF5ZXJdOnthZGFwdGVyOmEsdHlwZTpcImtub3dsZWRnZS1ncmFwaC1zdWJsYXllclwiLGxhYmVsOlwiS25vd2xlZGdlR3JhcGhTdWJsYXllclwifSxbbC5PR0NGZWF0dXJlTGF5ZXJdOnthZGFwdGVyOnQsdHlwZTpcIm9nYy1mZWF0dXJlXCIsbGFiZWw6XCJPR0NGZWF0dXJlTGF5ZXJcIn0sW2wuT3JpZW50ZWRJbWFnZXJ5TGF5ZXJdOnthZGFwdGVyOmEsdHlwZTpcIm9yaWVudGVkLWltYWdlcnlcIixsYWJlbDpcIk9yaWVudGVkSW1hZ2VyeUxheWVyXCJ9LFtsLlBhcnF1ZXRMYXllcl06e2FkYXB0ZXI6YSx0eXBlOlwicGFycXVldFwiLGxhYmVsOlwiUGFycXVldExheWVyXCJ9LFtsLlBvaW50Q2xvdWRMYXllcl06e2FkYXB0ZXI6TCx0eXBlOlwicG9pbnQtY2xvdWRcIixsYWJlbDpcIlBvaW50Q2xvdWRMYXllclwifSxbbC5TY2VuZUxheWVyXTp7YWRhcHRlcjpvLHR5cGU6XCJzY2VuZVwiLGxhYmVsOlwiU2NlbmVMYXllclwifSxbbC5TdHJlYW1MYXllcl06e2FkYXB0ZXI6cCx0eXBlOlwic3RyZWFtXCIsbGFiZWw6XCJTdHJlYW1MYXllclwifSxbbC5TdWJ0eXBlR3JvdXBMYXllcl06e2FkYXB0ZXI6YSx0eXBlOlwic3VidHlwZS1ncm91cFwiLGxhYmVsOlwiU3VidHlwZUdyb3VwTGF5ZXJcIn0sW2wuU3VidHlwZVN1YmxheWVyXTp7YWRhcHRlcjphLHR5cGU6XCJzdWJ0eXBlLXN1YmxheWVyXCIsbGFiZWw6XCJTdWJ0eXBlU3VibGF5ZXJcIn0sW2wuV0ZTTGF5ZXJdOnthZGFwdGVyOmEsdHlwZTpcIndmc1wiLGxhYmVsOlwiV0ZTTGF5ZXJcIn19LG49W2wuQ2F0YWxvZ0xheWVyLGwuQ2F0YWxvZ0Zvb3RwcmludExheWVyLGwuQ1NWTGF5ZXIsbC5GZWF0dXJlTGF5ZXIsbC5HZW9KU09OTGF5ZXIsbC5Lbm93bGVkZ2VHcmFwaFN1YmxheWVyLGwuT0dDRmVhdHVyZUxheWVyLGwuT3JpZW50ZWRJbWFnZXJ5TGF5ZXIsbC5QYXJxdWV0TGF5ZXIsbC5Qb2ludENsb3VkTGF5ZXIsbC5TY2VuZUxheWVyLGwuU3RyZWFtTGF5ZXIsbC5TdWJ0eXBlR3JvdXBMYXllcixsLlN1YnR5cGVTdWJsYXllcixsLldGU0xheWVyXSxTPVtsLkNhdGFsb2dGb290cHJpbnRMYXllcixsLkNTVkxheWVyLGwuRmVhdHVyZUxheWVyLGwuR2VvSlNPTkxheWVyLGwuS25vd2xlZGdlR3JhcGhTdWJsYXllcixsLk9HQ0ZlYXR1cmVMYXllcixsLk9yaWVudGVkSW1hZ2VyeUxheWVyLGwuUGFycXVldExheWVyLGwuU2NlbmVMYXllcixsLlN0cmVhbUxheWVyLGwuU3VidHlwZUdyb3VwTGF5ZXIsbC5TdWJ0eXBlU3VibGF5ZXIsbC5XRlNMYXllcl0sZD1bbC5DU1ZMYXllcixsLkZlYXR1cmVMYXllcixsLkdlb0pTT05MYXllcixsLk9HQ0ZlYXR1cmVMYXllcixsLktub3dsZWRnZUdyYXBoU3VibGF5ZXIsbC5PcmllbnRlZEltYWdlcnlMYXllcixsLlBhcnF1ZXRMYXllcixsLlN0cmVhbUxheWVyLGwuV0ZTTGF5ZXJdO2Z1bmN0aW9uIGIoZSl7cmV0dXJuIGUubWFwKChlPT51W2VdLmxhYmVsKSl9ZnVuY3Rpb24gbShlKXtyZXR1cm4gZS5tYXAoKGU9PnVbZV0udHlwZSkpfWZ1bmN0aW9uIGkoZSxhPW4sdCl7aWYoZSBpbnN0YW5jZW9mIHkpcmV0dXJuIGU7Y29uc3QgTD1nKGUsYSk7cmV0dXJuIEw/dD9uZXcgcih7bGF5ZXI6ZX0pOm5ldyBMKHtsYXllcjplfSk6bnVsbH1mdW5jdGlvbiBnKGUsYT1uKXtsZXQgcj1udWxsO3JldHVybiBhLnNvbWUoKGE9Pntjb25zdCB0PWUudHlwZT09PXVbYV0udHlwZTtyZXR1cm4gdCYmKHI9dVthXS5hZGFwdGVyKSx0fSkpLHJ9ZXhwb3J0e2wgYXMgTGF5ZXJUeXBlLGQgYXMgYmlubmluZ0NhcGFibGVMYXllclR5cGVzLGkgYXMgY3JlYXRlTGF5ZXJBZGFwdGVyLG4gYXMgZGVmYXVsdFN1cHBvcnRlZExheWVyVHlwZXMsUyBhcyBmZWF0dXJlQ2FwYWJsZUxheWVyVHlwZXMsYiBhcyBnZXRMYXllclR5cGVMYWJlbHMsbSBhcyBnZXRMYXllclR5cGVzfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjMzL2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7aXNTb21lIGFzIGV9ZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9hcnJheVV0aWxzLmpzXCI7aW1wb3J0e3Rocm93SWZBYm9ydGVkIGFzIHR9ZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9wcm9taXNlVXRpbHMuanNcIjtpbXBvcnR7Q29kZWRWYWx1ZSBhcyBufWZyb21cIi4uLy4uLy4uLy4uL2xheWVycy9zdXBwb3J0L0NvZGVkVmFsdWUuanNcIjtpbXBvcnRcIi4uLy4uLy4uLy4uL2NvcmUvaGFzLmpzXCI7aW1wb3J0IGwgZnJvbVwiLi4vLi4vLi4vLi4vbGF5ZXJzL3N1cHBvcnQvQ29kZWRWYWx1ZURvbWFpbi5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vLi4vbGF5ZXJzL3N1cHBvcnQvRG9tYWluLmpzXCI7aW1wb3J0XCIuLi8uLi8uLi8uLi9sYXllcnMvc3VwcG9ydC9Jbmhlcml0ZWREb21haW4uanNcIjtpbXBvcnRcIi4uLy4uLy4uLy4uL2xheWVycy9zdXBwb3J0L1JhbmdlRG9tYWluLmpzXCI7aW1wb3J0IGkgZnJvbVwiLi4vLi4vLi4vLi4vbGF5ZXJzL3N1cHBvcnQvRmllbGQuanNcIjtpbXBvcnR7aXNTdHJpbmdGaWVsZCBhcyBvLGlzVGltZU9ubHlGaWVsZCBhcyBhfWZyb21cIi4uLy4uLy4uLy4uL2xheWVycy9zdXBwb3J0L2ZpZWxkVXRpbHMuanNcIjtpbXBvcnQgciBmcm9tXCIuLi8uLi8uLi8uLi9yZXN0L3N1cHBvcnQvU3RhdGlzdGljRGVmaW5pdGlvbi5qc1wiO2ltcG9ydHtub0RvbWluYW50Q2F0ZWdvcnlGaWVsZCBhcyBzfWZyb21cIi4uLy4uLy4uL3N0YXRpc3RpY3Mvc3VwcG9ydC9wcmVkb21pbmFuY2VVdGlscy5qc1wiO2ltcG9ydHtnZXRSYW5nZUV4cHIgYXMgdSxnZXRTUUxGaWx0ZXJGb3JOb3JtYWxpemF0aW9uIGFzIGMsbWVyZ2VXaGVyZUNsYXVzZXMgYXMgbX1mcm9tXCIuLi8uLi8uLi9zdGF0aXN0aWNzL3N1cHBvcnQvdXRpbHMuanNcIjtpbXBvcnR7aXNJbnRlZ2VyRmllbGQgYXMgZixpc0FueURhdGVGaWVsZCBhcyBwLGdldERhdGVEaWZmU1FMIGFzIGQsY2FzdEludGVnZXJGaWVsZFRvRmxvYXQgYXMgeX1mcm9tXCIuLi8uLi91dGlscy5qc1wiO2ltcG9ydHtpc051bGxDb3VudFN1cHBvcnRlZCBhcyBnLHN0YXRpc3RpY1R5cGVzIGFzIHgsZ2V0RXF1YWxJbnRlcnZhbEJpbnMgYXMgdixwcm9jZXNzTnVsbFZhbHVlIGFzIGh9ZnJvbVwiLi4vLi4vLi4vLi4vc3RhdGlzdGljcy91dGlscy5qc1wiO2NvbnN0IEY9L192YWx1ZSQvaSx3PU1hdGguTE9HMTBFLEU9e1NFQ09ORDoxZTMsTUlOVVRFOjZlNCxIT1VSOjM2ZTV9LFM9MTA7ZnVuY3Rpb24gVChlKXtyZXR1cm4gZS5tYXAoKGU9PmUudG9KU09OKCkpKX1mdW5jdGlvbiBWKGUsdCl7Y29uc3Qgbj1bXSxsPWUubGF5ZXIsaT1cImZlYXR1cmVSZWR1Y3Rpb25cImluIGw/bC5mZWF0dXJlUmVkdWN0aW9uOm51bGwsbz1cImJpbm5pbmdcIj09PWk/LnR5cGUsYT1udWxsIT1pJiZcImZpZWxkc1wiaW4gaT9pLmZpZWxkcz8ubWFwKChlPT5lLm5hbWU/LnRvTG93ZXJDYXNlKCkpKS5maWx0ZXIoQm9vbGVhbik6W107aWYoIW98fCF0KXJldHVybiBuO2Zvcihjb25zdCByIG9mIHQpYS5pbmNsdWRlcyhyLnRvTG93ZXJDYXNlKCkpfHxuLnB1c2gocik7cmV0dXJuIG59ZnVuY3Rpb24geihlLHQsbil7Y29uc3QgbD1bXTtpZih0KWZvcihjb25zdCBpIG9mIHQpe2NvbnN0IHQ9ZS5nZXRGaWVsZChpKTt0JiZuJiZcImF2YWlsYWJsZUZpZWxkc1wiaW4gbiYmIW4uYXZhaWxhYmxlRmllbGRzPy5pbmNsdWRlcyh0Lm5hbWUpJiZsLnB1c2godC5uYW1lKX1yZXR1cm4gbH1mdW5jdGlvbiAkKGUsdCl7Y29uc3Qgbj1lJiZlLmZlYXR1cmVzO2lmKDA9PT1uPy5sZW5ndGgpcmV0dXJue2F2ZzpudWxsLGNvdW50OjAsbWF4Om51bGwsbWVkaWFuOm51bGwsbWluOm51bGwsbnVsbGNvdW50OjAsc3RkZGV2Om51bGwsc3VtOm51bGwsdmFyaWFuY2U6bnVsbH07Y29uc3QgbD1uPy5bMF0/LmF0dHJpYnV0ZXMsaT17fTtmb3IoY29uc3QgbyBpbiBsKWlbby5yZXBsYWNlKEYsXCJcIikudG9Mb3dlckNhc2UoKV09bFtvXTtyZXR1cm4gbnVsbCE9aS50b3RhbGNvdW50JiZpLnRvdGFsY291bnQ+PWkuY291bnQmJihpLm51bGxjb3VudD1pLnRvdGFsY291bnQtaS5jb3VudCksZGVsZXRlIGkudG90YWxjb3VudCxpLm1pbj09PWkubWF4JiZudWxsIT1pLm1pbiYmbnVsbD09aS5zdGRkZXYmJihpLnN0ZGRldj1pLnZhcmlhbmNlPTApLHQmJihbXCJtaW5cIixcIm1heFwiLFwiYXZnXCIsXCJzdGRkZXZcIixcInN1bVwiLFwidmFyaWFuY2VcIl0uZm9yRWFjaCgoZT0+e251bGwhPWlbZV0mJihpW2VdPU1hdGguY2VpbChpW2VdKSl9KSksaS5taW49PT1pLm1heCYmbnVsbCE9aS5taW4mJihpLmF2Zz1pLm1pbixpLnN0ZGRldj1pLnZhcmlhbmNlPTApKSxpfWZ1bmN0aW9uIEMoZSl7Y29uc3QgdD1bXSxuPWUuY2xhc3NCcmVha3MsbD1uWzBdLm1pblZhbHVlLGk9bltuLmxlbmd0aC0xXS5tYXhWYWx1ZTtuLmZvckVhY2goKGU9Pnt0LnB1c2goW2UubWluVmFsdWUsZS5tYXhWYWx1ZV0pfSkpO2NvbnN0IG89e2ZpZWxkOmUuZmllbGQsbm9ybWFsaXphdGlvblR5cGU6ZS5ub3JtYWxpemF0aW9uVHlwZSxub3JtYWxpemF0aW9uRmllbGQ6ZS5ub3JtYWxpemF0aW9uRmllbGQsbm9ybWFsaXphdGlvblRvdGFsOmUubm9ybWFsaXphdGlvblRvdGFsLGxheWVyOmUubGF5ZXJ9O3JldHVybnttaW46bCxtYXg6aSxpbnRlcnZhbHM6dCxzcWxFeHByOmoobyksZXhjbHVkZVplcm9zRXhwcjplLndoZXJlLG5vcm1Ub3RhbDplLm5vcm1hbGl6YXRpb25Ub3RhbH19ZnVuY3Rpb24gaihlKXtjb25zdHtmaWVsZDp0LG5vcm1hbGl6YXRpb25UeXBlOm4sbm9ybWFsaXphdGlvbkZpZWxkOmwsbm9ybWFsaXphdGlvblRvdGFsOmksbGF5ZXI6b309ZSxhPWYobyx0KTtsZXQgcj10O3JldHVyblwicGVyY2VudC1vZi10b3RhbFwiPT09bj9yPWAoKCR7YT95KHQpOnR9IC8gJHtpfSkgKiAxMDApYDpcImxvZ1wiPT09bj9yPWAobG9nKCR7dH0pICogJHt3fSlgOlwiZmllbGRcIj09PW4/cj1gKCR7YT95KHQpOnR9IC8gJHtsfSlgOlwibmF0dXJhbC1sb2dcIj09PW4/cj1gKGxvZygke2E/eSh0KTp0fSkpYDpcInNxdWFyZS1yb290XCI9PT1uJiYocj1gKHBvd2VyKCR7YT95KHQpOnR9LCAwLjUpKWApLHJ9ZnVuY3Rpb24gcShlLHQpe2xldCBuO2lmKHQ9dC50b0xvd2VyQ2FzZSgpLGUpZm9yKGNvbnN0IGwgaW4gZSlpZihsLnRvTG93ZXJDYXNlKCkhPT10KXtuPWVbbF07YnJlYWt9cmV0dXJuIG59ZnVuY3Rpb24gYihlLHQpe2xldCBuO2lmKHQ9dC50b0xvd2VyQ2FzZSgpLGUpZm9yKGNvbnN0IGwgaW4gZSlpZihsLnRvTG93ZXJDYXNlKCk9PT10KXtuPWVbbF07YnJlYWt9cmV0dXJuIG59ZnVuY3Rpb24gTyhlLHQsbixsLGkpe2NvbnN0IG89e30sYT1cImNvdW50T0ZFeHByXCI7ZSYmZS5mZWF0dXJlcyYmZS5mZWF0dXJlcy5mb3JFYWNoKChlPT57Y29uc3QgdD1lLmF0dHJpYnV0ZXMsbj1xKHQsYSksbD1iKHQsYSk7bnVsbCE9biYmbnVsbCE9bCYmMCE9PW4mJihvW25dPWwpfSkpO2NvbnN0IHI9W107cmV0dXJuIHYodCxuLGwpLmZvckVhY2goKChlLHQpPT57Y29uc3Qgbj0odCsxKS50b1N0cmluZygpO3IucHVzaCh7bWluVmFsdWU6ZVswXSxtYXhWYWx1ZTplWzFdLGNvdW50Om8uaGFzT3duUHJvcGVydHkobik/b1tuXTowfSl9KSkse2JpbnM6cixtaW5WYWx1ZTp0LG1heFZhbHVlOm4sbm9ybWFsaXphdGlvblRvdGFsOml9fWFzeW5jIGZ1bmN0aW9uIEwoZSxuKXtjb25zdCBsPWUmJmUuZmVhdHVyZXMse2ZpZWxkOmksZmllbGQyOm8sZmllbGQzOmEsZmllbGREZWxpbWl0ZXI6cixsYXllcjpzLHZpZXc6dSxzaWduYWw6YyxsYWJlbHM6bX09bixmPWBjb3VudE9GJHshKCFpfHwhbyk/XCJFeHByXCI6aXx8XCJFeHByXCJ9YCxwPXt9O2xldCBkPSExO2Zvcihjb25zdCB0IG9mIGwpe2NvbnN0IGU9dC5hdHRyaWJ1dGVzLG49YihlLGYpO2xldCBsPWk/YihlLGkpOnEoZSxmKSxzPW8/YihlLG8pOm51bGwsdT1hP2IoZSxhKTpudWxsO251bGw9PT1sJiYwPT09biYmKGQ9ITApLChudWxsPT1sfHxcInN0cmluZ1wiPT10eXBlb2YgbCYmXCJcIj09PWwudHJpbSgpKSYmKGw9bnVsbCksbyYmKG51bGw9PXN8fFwic3RyaW5nXCI9PXR5cGVvZiBzJiZcIlwiPT09cy50cmltKCkpJiYocz1udWxsKSxhJiYobnVsbD09dXx8XCJzdHJpbmdcIj09dHlwZW9mIHUmJlwiXCI9PT11LnRyaW0oKSkmJih1PW51bGwpO2xldCBjPWw7byYmKGM9YCR7aChjKX0ke3J9JHtoKHMpfWAsYSYmKGM9YCR7Y30ke3J9JHtoKHUpfWApKSxudWxsPT1wW2NdP3BbY109e2NvdW50Om4sZGF0YTpjfTpwW2NdLmNvdW50PXBbY10uY291bnQrbn1pZihpJiZkKXtjb25zdCBlPWkrXCIgaXMgTlVMTFwiO3RyeXtjb25zdCB0PWF3YWl0IHMucXVlcnlGZWF0dXJlQ291bnQoe3doZXJlQ2xhdXNlOmUsdmlldzp1LHNpZ25hbDpjfSk7cmV0dXJuIHAubnVsbC5jb3VudD1wLm51bGwuY291bnQrdCxSKHAsbSl9Y2F0Y2h7cmV0dXJuIHQoYyksUihwLG0pfX1yZXR1cm4gUihwLG0pfWZ1bmN0aW9uIFIoZSx0KXtpZih0KWZvcihjb25zdCBuIGluIGUpZVtuXS5sYWJlbD10W25dO3JldHVybntjb3VudDplfX1hc3luYyBmdW5jdGlvbiBEKGUsdCxpKXtjb25zdCBvPWU/aS5nZXRGaWVsZChlKTpudWxsLGE9bz9pLmdldEZpZWxkRG9tYWluKG8ubmFtZSk6bnVsbDtpZihhKXJldHVybiBhO2NvbnN0e3VuaXF1ZVZhbHVlSW5mb3M6cn09YXdhaXQgaS51bmlxdWVWYWx1ZXMoe2ZpZWxkOmUsc3FsV2hlcmU6dC5zcWxXaGVyZSxmZWF0dXJlczp0LmZlYXR1cmVzLHVzZUZlYXR1cmVzSW5WaWV3OnQudXNlRmVhdHVyZXNJblZpZXcsdmlldzp0LnZpZXcsc2lnbmFsOnQuc2lnbmFsfSkscz1yLm1hcCgoZT0+bmV3IG4oe2NvZGU6ZS52YWx1ZX0pKSk7cmV0dXJuIG5ldyBsKHtjb2RlZFZhbHVlczpzfSl9YXN5bmMgZnVuY3Rpb24gSShlLHQpe2lmKCFlLnJldHVybkFsbENvZGVkVmFsdWVzKXJldHVybltdO2NvbnN0e2ZpZWxkOm4sZmllbGQyOmwsZmllbGQzOml9PWU7aWYobiYmIWwpe2NvbnN0IGU9bj90LmdldEZpZWxkKG4pOm51bGwsbD1lP3QuZ2V0RmllbGREb21haW4oZS5uYW1lKTpudWxsO3JldHVybiBsP1tsXTpbXX1jb25zdCBvPVtdO3JldHVybiBuJiYoby5wdXNoKEQobixlLHQpKSxsJiYoby5wdXNoKEQobCxlLHQpKSxpJiZvLnB1c2goRChpLGUsdCkpKSksUHJvbWlzZS5hbGwobyl9ZnVuY3Rpb24gTihlLHQpe3JldHVybiBkKGUsbmV3IERhdGUoMCksdCxcIm1pbGxpc2Vjb25kc1wiKS5zcWxFeHByZXNzaW9ufWZ1bmN0aW9uIFUoZSx0KXtyZXR1cm5gRVhUUkFDVCgke3R9IEZST00gJHtlfSkgKiAke0VbdF19YH1mdW5jdGlvbiBNKGUpe2lmKCFlKXJldHVybiBudWxsO3JldHVybiB5KFtcIkhPVVJcIixcIk1JTlVURVwiLFwiU0VDT05EXCJdLm1hcCgodD0+YCgke1UoZSx0KX0pYCkpLmpvaW4oXCIgKyBcIikpfWZ1bmN0aW9uIEIoZSl7cmV0dXJue3ZpZXdpbmdNb2RlOlwiMmRcIj09PWUudHlwZT9cIm1hcFwiOmUudmlld2luZ01vZGUsc2NhbGU6ZS5zY2FsZSxzcGF0aWFsUmVmZXJlbmNlOmUuc3BhdGlhbFJlZmVyZW5jZT8udG9KU09OKCl9fWZ1bmN0aW9uIFEoZSx0KXtjb25zdCBuPW5ldyBTZXQoZS5tYXAoKGU9PmUudmFsdWUpKSksbD10LmZpbHRlcigoZT0+IW4uaGFzKGUpKSk7Zm9yKGNvbnN0IGkgb2YgbCllLnB1c2goe3ZhbHVlOmksY291bnQ6MH0pO2Uuc29ydCgoKGUsbik9PnQuaW5kZXhPZihlLnZhbHVlKS10LmluZGV4T2Yobi52YWx1ZSkpKTtmb3IoY29uc3QgaSBvZiBlKWkudmFsdWU9PT1zJiYoaS52YWx1ZT1udWxsKTtyZXR1cm57cHJlZG9taW5hbnRDYXRlZ29yeUluZm9zOmV9fWZ1bmN0aW9uIFAodCl7Y29uc3Qgbj1cImZlYXR1cmVSZWR1Y3Rpb25cImluIHQ/dC5mZWF0dXJlUmVkdWN0aW9uOm51bGw7cmV0dXJuKChudWxsIT1uJiZcImZpZWxkc1wiaW4gbj9uLmZpZWxkczpudWxsKT8/W10pLm1hcCgoZT0+e2NvbnN0IG49VyhlLHQuZmllbGRzSW5kZXgpO3JldHVybiBuP25ldyBpKHt0eXBlOm4sbmFtZTplLm5hbWUsYWxpYXM6ZS5hbGlhc30pOm51bGx9KSkuZmlsdGVyKGUpfWZ1bmN0aW9uIFcoZSx0KXtzd2l0Y2goZS5zdGF0aXN0aWNUeXBlKXtjYXNlXCJhdmdcIjpjYXNlXCJhdmdfYW5nbGVcIjpyZXR1cm5cImRvdWJsZVwiO2Nhc2VcImNvdW50XCI6cmV0dXJuXCJpbnRlZ2VyXCI7Y2FzZVwibWluXCI6Y2FzZVwibWF4XCI6Y2FzZVwic3VtXCI6cmV0dXJuIGUub25TdGF0aXN0aWNGaWVsZD90LmdldChlLm9uU3RhdGlzdGljRmllbGQpPy50eXBlPz9udWxsOmUub25TdGF0aXN0aWNFeHByZXNzaW9uP1wic3RyaW5nXCI9PT1lLm9uU3RhdGlzdGljRXhwcmVzc2lvbi5yZXR1cm5UeXBlP251bGw6XCJkb3VibGVcIjpudWxsO2Nhc2VcIm1vZGVcIjpyZXR1cm4gZS5vblN0YXRpc3RpY0ZpZWxkP3QuZ2V0KGUub25TdGF0aXN0aWNGaWVsZCk/LnR5cGU/P251bGw6ZS5vblN0YXRpc3RpY0V4cHJlc3Npb24/XCJzdHJpbmdcIj09PWUub25TdGF0aXN0aWNFeHByZXNzaW9uLnJldHVyblR5cGU/XCJzdHJpbmdcIjpcImRvdWJsZVwiOm51bGw7ZGVmYXVsdDpyZXR1cm4gbnVsbH19ZnVuY3Rpb24gXyhlLHQpe3JldHVybiBwKHQpP04oZSx0Py5uYW1lKTphKHQpP00odD8ubmFtZSk6bnVsbH1mdW5jdGlvbiBrKGUsdCxuLGw9ITApe2NvbnN0e2ZpZWxkOmksbm9ybWFsaXphdGlvblR5cGU6YSxub3JtYWxpemF0aW9uRmllbGQ6cyxub3JtYWxpemF0aW9uVG90YWw6ZixtaW5WYWx1ZTpwLG1heFZhbHVlOmQsZmlsdGVyOnl9PXQsdj1lLnN1cHBvcnRzU1FMRXhwcmVzc2lvbj9fKGUsbil8fHQuc3FsRXhwcmVzc2lvbjpudWxsLGg9aih7ZmllbGQ6aSxub3JtYWxpemF0aW9uVHlwZTphLG5vcm1hbGl6YXRpb25GaWVsZDpzLG5vcm1hbGl6YXRpb25Ub3RhbDpmLGxheWVyOmV9KSxGPXZ8fGgsdz1GP3UoRixwLGQpOm51bGwsRT1jKHtmaWVsZDppLG5vcm1hbGl6YXRpb25GaWVsZDpzLG5vcm1hbGl6YXRpb25UeXBlOmF9KSxTPW0odC5zcWxXaGVyZSxFKSxUPW0oUyx3KSxWPWcoe25vcm1hbGl6YXRpb25GaWVsZDpzLG5vcm1hbGl6YXRpb25UeXBlOmEsc3FsRXhwcmVzc2lvbjp2LHN1cHBvcnRzU1FMRXhwcmVzc2lvbjplLnN1cHBvcnRzU1FMRXhwcmVzc2lvbixtaW5WYWx1ZTpwLG1heFZhbHVlOmR9KSx6PW8oZS5nZXRGaWVsZChpPz92b2lkIDApKSx7aW5jbHVkZTokLGV4Y2x1ZGU6Q309dC5vdXRTdGF0aXN0aWNUeXBlc3x8e30scT14LmZpbHRlcigoZT0+KCEkfHwkLmluY2x1ZGVzKGUpKSYmKCFDfHwhQy5pbmNsdWRlcyhlKSkmJihcIm51bGxjb3VudFwiPT09ZT9WOiF6fHxcImNvdW50XCI9PT1lKSYmKFwibWVkaWFuXCIhPT1lfHxsKSkpLGI9ZS5jcmVhdGVRdWVyeSgpO3JldHVybiBiLndoZXJlPW0oYi53aGVyZSxUKSxiLnNxbEZvcm1hdD12P1wic3RhbmRhcmRcIjpudWxsLGIub3V0U3RhdGlzdGljcz1xLm1hcCgodD0+e2NvbnN0IG49bmV3IHI7bGV0IGw9bnVsbCxpPW51bGwsbz1gJHt0fV92YWx1ZWA7aWYoXCJ2YXJpYW5jZVwiPT09dClsPVwidmFyXCIsaT1GO2Vsc2UgaWYoXCJudWxsY291bnRcIj09PXQpe2NvbnN0IHQ9ZS5vYmplY3RJZEZpZWxkO2w9XCJjb3VudFwiLGk9dCYmZS5nZXRGaWVsZCh0KT90OlwiMVwiLG89XCJ0b3RhbGNvdW50X3ZhbHVlXCJ9ZWxzZVwibWVkaWFuXCI9PT10PyhsPVwicGVyY2VudGlsZS1jb250aW51b3VzXCIsaT1GLG4uc3RhdGlzdGljUGFyYW1ldGVycz17dmFsdWU6LjV9KToobD10LGk9Rik7cmV0dXJuIG4uc3RhdGlzdGljVHlwZT1sLG4ub25TdGF0aXN0aWNGaWVsZD1pLG4ub3V0U3RhdGlzdGljRmllbGROYW1lPW8sbn0pKSxBKGIseSksYn1mdW5jdGlvbiBBKGUsdCl7dCYmKGUuZ2VvbWV0cnk9dC5nZW9tZXRyeSxlLnNwYXRpYWxSZWxhdGlvbnNoaXA9dC5zcGF0aWFsUmVsYXRpb25zaGlwKX1mdW5jdGlvbiBIKGUsdCl7Y29uc3R7ZmllbGQ6bixmaWVsZDI6bCxmaWVsZDM6aSxzcWxFeHByZXNzaW9uOm99PXQsYT0hKCFufHwhbCkscj1lLmNyZWF0ZVF1ZXJ5KCk7cmV0dXJuIHIud2hlcmU9bShyLndoZXJlLHQuc3FsV2hlcmUpLHIuc3FsRm9ybWF0PW8/XCJzdGFuZGFyZFwiOm51bGwsci5vdXRTdGF0aXN0aWNzPVtKKGE/bnVsbDpuLGE/XCIxXCI6byldLmZpbHRlcihCb29sZWFuKSxyLmdyb3VwQnlGaWVsZHNGb3JTdGF0aXN0aWNzPVtufHxvLGwsaV0uZmlsdGVyKEJvb2xlYW4pLEEocix0LmZpbHRlcikscn1mdW5jdGlvbiBKKGUsdCl7Y29uc3Qgbj1cImNvdW50T0ZcIisoZXx8XCJFeHByXCIpLGw9bmV3IHI7cmV0dXJuIGwuc3RhdGlzdGljVHlwZT1cImNvdW50XCIsbC5vblN0YXRpc3RpY0ZpZWxkPXQ/XCIxXCI6ZSxsLm91dFN0YXRpc3RpY0ZpZWxkTmFtZT1uLGx9ZnVuY3Rpb24gWihlLHQsbixsPVMsaSxvLGEpe2NvbnN0e21pbjpyLG1heDpzLG5vcm1Ub3RhbDp1LGV4Y2x1ZGVaZXJvc0V4cHI6Y309dCxtPXQuaW50ZXJ2YWxzfHx2KHIscyxsKSxmPXQuc3FsRXhwcnx8bjtyZXR1cm4gRyhlLG0sZixjLGksbyxhKS50aGVuKChlPT4oe2JpbnM6ZS5tYXAoKChlLHQpPT4oe21pblZhbHVlOm1bdF1bMF0sbWF4VmFsdWU6bVt0XVsxXSxjb3VudDpcImZ1bGZpbGxlZFwiPT09ZS5zdGF0dXM/ZS52YWx1ZTowfSkpKSxtaW5WYWx1ZTpyLG1heFZhbHVlOnMsbm9ybWFsaXphdGlvblRvdGFsOnV9KSkpfWZ1bmN0aW9uIEcoZSx0LG4sbCxpLG8sYSl7Y29uc3Qgcj1bXSxzPXQubGVuZ3RoO2ZvcihsZXQgdT0wO3U8czt1Kyspe2NvbnN0IGU9bShsLG0obitcIiA+PSBcIit0W3VdWzBdLG51bGwhPT10W3VdWzFdP24rKHU9PT1zLTE/XCIgPD0gXCI6XCIgPCBcIikrdFt1XVsxXTpcIlwiKSk7ci5wdXNoKGUpfXJldHVybiBQcm9taXNlLmFsbFNldHRsZWQoci5tYXAoKHQ9PmUucXVlcnlGZWF0dXJlQ291bnQoe3doZXJlQ2xhdXNlOnQsdmlldzppLGZpbHRlcjpvLHNpZ25hbDphfSkpKSl9ZXhwb3J0e1MgYXMgZGVmYXVsdE51bUJpbnMsVCBhcyBlbnN1cmVGZWF0dXJlc0pTT04sQyBhcyBnZW5lcmF0ZUJpblBhcmFtcyxXIGFzIGdldEFnZ3JlZ2F0ZUZpZWxkVHlwZSxaIGFzIGdldEJpbnMsSSBhcyBnZXREb21haW5zRm9yRmllbGRzLFAgYXMgZ2V0RmVhdHVyZVJlZHVjdGlvbkZpZWxkcyxqIGFzIGdldEZpZWxkRXhwcixPIGFzIGdldEhpc3RvZ3JhbUZyb21GZWF0dXJlU2V0LHogYXMgZ2V0TWlzc2luZ0ZpZWxkcyxWIGFzIGdldE1pc3NpbmdGaWVsZHNGb3JCaW5uaW5nLFEgYXMgZ2V0UHJlZG9taW5hbnRDYXRlZ29yaWVzRnJvbVVWSW5mb3MsXyBhcyBnZXRTUUxFeHByZXNzaW9uRm9yRGF0ZU9yVGltZUZpZWxkLCQgYXMgZ2V0U3VtbWFyeVN0YXRpc3RpY3NGcm9tRmVhdHVyZVNldCxrIGFzIGdldFN1bW1hcnlTdGF0c1F1ZXJ5LEggYXMgZ2V0VVZRdWVyeSxMIGFzIGdldFVuaXF1ZVZhbHVlc0Zyb21GZWF0dXJlU2V0LEIgYXMgZ2V0Vmlld0luZm9QYXJhbXMsTSBhcyBtc0ZvclRpbWVPbmx5RmllbGRTUUwsTiBhcyBtc1NpbmNlVW5peEVwb2NoU1FMLEEgYXMgdXBkYXRlUXVlcnlXaXRoRmVhdHVyZUZpbHRlcn07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4zMy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0IHIgZnJvbVwiLi4vLi4vY29yZS9FcnJvci5qc1wiO2NvbnN0IGU9XCJhZ2dyZWdhdGVDb3VudFwiO2Z1bmN0aW9uIGkoZSxpKXtpZighZS52aWV3KXRocm93IG5ldyByKGAke2l9Om1pc3NpbmctcGFyYW1ldGVyc2AsXCIndmlldycgcGFyYW1ldGVyIGlzIHJlcXVpcmVkIGZvciBiaW5uaW5nXCIpO2lmKGUuc3FsRXhwcmVzc2lvbil0aHJvdyBuZXcgcihgJHtpfTppbnZhbGlkLXBhcmFtZXRlcnNgLFwiJ3NxbEV4cHJlc3Npb24nIHBhcmFtZXRlciBpcyBub3Qgc3VwcG9ydGVkIGZvciBiaW5uaW5nXCIpO2lmKFwiM2RcIj09PWUudmlldy50eXBlKXRocm93IG5ldyByKGAke2l9OmludmFsaWQtcGFyYW1ldGVyc2AsXCIzZCB2aWV3IGlzIG5vdCBzdXBwb3J0ZWQgZm9yIGJpbm5pbmdcIil9ZXhwb3J0e2UgYXMgYWdncmVnYXRlQ291bnRGaWVsZCxpIGFzIHZlcmlmeUJpbm5pbmdQYXJhbXN9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMzMvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydCB0IGZyb21cIi4uLy4uL1ZpZXdwb2ludC5qc1wiO2ltcG9ydCBlIGZyb21cIi4uLy4uL2NvcmUvQ29sbGVjdGlvbi5qc1wiO2ltcG9ydHtkZWcycmFkIGFzIHJ9ZnJvbVwiLi4vLi4vY29yZS9tYXRoVXRpbHMuanNcIjtpbXBvcnR7Z2V0TWV0ZXJzUGVyVW5pdEZvclNSIGFzIG59ZnJvbVwiLi4vLi4vY29yZS91bml0VXRpbHMuanNcIjtpbXBvcnR7dG9SYWRpYW4gYXMgb31mcm9tXCIuLi8uLi9jb3JlL2xpYnMvZ2wtbWF0cml4LTIvbWF0aC9jb21tb24uanNcIjtpbXBvcnR7ZnJvbVRyYW5zbGF0aW9uIGFzIGEscm90YXRlIGFzIGksc2NhbGUgYXMgYyx0cmFuc2xhdGUgYXMgcyxmcm9tU2NhbGluZyBhcyB1LGZyb21Sb3RhdGlvbiBhcyBsLGludmVydCBhcyBmfWZyb21cIi4uLy4uL2NvcmUvbGlicy9nbC1tYXRyaXgtMi9tYXRoL21hdDJkLmpzXCI7aW1wb3J0e2NyZWF0ZSBhcyBtfWZyb21cIi4uLy4uL2NvcmUvbGlicy9nbC1tYXRyaXgtMi9mYWN0b3JpZXMvbWF0MmRmNjQuanNcIjtpbXBvcnR7bmVnYXRlIGFzIHksc2NhbGUgYXMgcCxzZXQgYXMgZyxjb3B5IGFzIHgsc3ViIGFzIGgsc3VidHJhY3QgYXMgYixub3JtYWxpemUgYXMgdyxjcm9zcyBhcyBkLGRvdCBhcyBqLGxlbmd0aCBhcyBHLHRyYW5zZm9ybU1hdDJkIGFzIFIsYWRkIGFzIEF9ZnJvbVwiLi4vLi4vY29yZS9saWJzL2dsLW1hdHJpeC0yL21hdGgvdmVjMi5qc1wiO2ltcG9ydHtjcmVhdGUgYXMgUyxmcm9tVmFsdWVzIGFzIGt9ZnJvbVwiLi4vLi4vY29yZS9saWJzL2dsLW1hdHJpeC0yL2ZhY3Rvcmllcy92ZWMyZjY0LmpzXCI7aW1wb3J0IE0gZnJvbVwiLi4vLi4vZ2VvbWV0cnkvRXh0ZW50LmpzXCI7aW1wb3J0IHYgZnJvbVwiLi4vLi4vZ2VvbWV0cnkvR2VvbWV0cnkuanNcIjtpbXBvcnQgeiBmcm9tXCIuLi8uLi9nZW9tZXRyeS9Qb2ludC5qc1wiO2ltcG9ydHtpc0xvYWRlZCBhcyBDLGNhblByb2plY3RXaXRob3V0RW5naW5lIGFzIEYsbG9hZCBhcyBOLHByb2plY3QgYXMgSX1mcm9tXCIuLi8uLi9nZW9tZXRyeS9wcm9qZWN0aW9uVXRpbHMuanNcIjtpbXBvcnQgVSBmcm9tXCIuLi8uLi9nZW9tZXRyeS9TcGF0aWFsUmVmZXJlbmNlLmpzXCI7aW1wb3J0e2dldENsb3Nlc3REZW5vcm1hbGl6ZWRYVG9SZWZlcmVuY2UgYXMgVixnZXREZW5vcm1hbGl6ZWRFeHRlbnQgYXMgcX1mcm9tXCIuLi8uLi9nZW9tZXRyeS9zdXBwb3J0L25vcm1hbGl6ZVV0aWxzLmpzXCI7aW1wb3J0e2dldEluZm8gYXMgTCxpc1ZhbGlkIGFzIFAsZXF1YWxzIGFzIEV9ZnJvbVwiLi4vLi4vZ2VvbWV0cnkvc3VwcG9ydC9zcGF0aWFsUmVmZXJlbmNlVXRpbHMuanNcIjtjb25zdCBPPTk2LFE9MzkuMzcsVD0xODAvTWF0aC5QSTtmdW5jdGlvbiBCKHQpe3JldHVybiB0LndraWQ/dDp0LnNwYXRpYWxSZWZlcmVuY2V8fFUuV0dTODR9ZnVuY3Rpb24gRCh0LGUpe3JldHVybiBlLnR5cGU/Zyh0LGUueCxlLnkpOngodCxlKX1mdW5jdGlvbiBXKHQpe3JldHVybiBuKHQpfWZ1bmN0aW9uIEgodCxlLG49MCl7bGV0IG89dC53aWR0aCxhPXQuaGVpZ2h0O2lmKDAhPT1uKXtjb25zdCBlPXIobiksaT1NYXRoLmFicyhNYXRoLmNvcyhlKSksYz1NYXRoLmFicyhNYXRoLnNpbihlKSk7bz10LndpZHRoKmkrdC5oZWlnaHQqYyxhPXQud2lkdGgqYyt0LmhlaWdodCppfWNvbnN0IGk9TWF0aC5tYXgoMSxlWzBdKSxjPU1hdGgubWF4KDEsZVsxXSk7cmV0dXJuIE1hdGgubWF4KG8vaSxhL2MpKmN0KHQuc3BhdGlhbFJlZmVyZW5jZSl9YXN5bmMgZnVuY3Rpb24gSih0LHIsbixvKXtsZXQgYSxpO2lmKCF0KXJldHVybiBudWxsO2lmKEFycmF5LmlzQXJyYXkodCkmJiF0Lmxlbmd0aClyZXR1cm4gbnVsbDtpZihlLmlzQ29sbGVjdGlvbih0KSYmKHQ9dC50b0FycmF5KCkpLEFycmF5LmlzQXJyYXkodCkmJnQubGVuZ3RoJiZcIm9iamVjdFwiPT10eXBlb2YgdFswXSl7Y29uc3QgZT10LmV2ZXJ5KCh0PT5cImF0dHJpYnV0ZXNcImluIHQpKSxhPXQuc29tZSgodD0+IXQuZ2VvbWV0cnkpKTtsZXQgaT10O2lmKGUmJmEmJnImJnIuYWxsTGF5ZXJWaWV3cyl7Y29uc3QgZT1uZXcgTWFwO2Zvcihjb25zdCByIG9mIHQpe2NvbnN0IHQ9ci5sYXllcixuPWUuZ2V0KHQpfHxbXSxvPXIuYXR0cmlidXRlc1t0Lm9iamVjdElkRmllbGRdO251bGwhPW8mJm4ucHVzaChvKSxlLnNldCh0LG4pfWNvbnN0IG49W107ZS5mb3JFYWNoKCgodCxlKT0+e2NvbnN0IG89ci5hbGxMYXllclZpZXdzPy5maW5kKCh0PT50LmxheWVyLmlkPT09ZS5pZCkpO2lmKG8mJlwicXVlcnlGZWF0dXJlc1wiaW4gbyl7Y29uc3Qgcj1lLmNyZWF0ZVF1ZXJ5KCk7ci5vYmplY3RJZHM9dCxyLnJldHVybkdlb21ldHJ5PSEwLG4ucHVzaChvLnF1ZXJ5RmVhdHVyZXMocikpfX0pKTtjb25zdCBvPWF3YWl0IFByb21pc2UuYWxsKG4pLGE9W107Zm9yKGNvbnN0IHQgb2YgbylpZih0JiZ0LmZlYXR1cmVzJiZ0LmZlYXR1cmVzLmxlbmd0aClmb3IoY29uc3QgZSBvZiB0LmZlYXR1cmVzKW51bGwhPWUuZ2VvbWV0cnkmJmEucHVzaChlLmdlb21ldHJ5KTtpPWF9Zm9yKGNvbnN0IHQgb2YgaSlvPWF3YWl0IEoodCxyLG4sbyk7cmV0dXJuIG99aWYoQXJyYXkuaXNBcnJheSh0KSYmMj09PXQubGVuZ3RoJiZcIm51bWJlclwiPT10eXBlb2YgdFswXSYmXCJudW1iZXJcIj09dHlwZW9mIHRbMV0pYT1uZXcgeih0KTtlbHNlIGlmKHQgaW5zdGFuY2VvZiB2KWE9dDtlbHNlIGlmKFwiZ2VvbWV0cnlcImluIHQpaWYodC5nZW9tZXRyeSlhPXQuZ2VvbWV0cnk7ZWxzZSBpZih0LmxheWVyKXtjb25zdCBlPXQubGF5ZXIsbj1yLmFsbExheWVyVmlld3M/LmZpbmQoKHQ9PnQubGF5ZXIuaWQ9PT1lLmlkKSk7aWYobiYmXCJxdWVyeUZlYXR1cmVzXCJpbiBuKXtjb25zdCByPWUuY3JlYXRlUXVlcnkoKTtyLm9iamVjdElkcz1bdC5hdHRyaWJ1dGVzW2Uub2JqZWN0SWRGaWVsZF1dLHIucmV0dXJuR2VvbWV0cnk9ITA7Y29uc3Qgbz1hd2FpdCBuLnF1ZXJ5RmVhdHVyZXMocik7YT1vPy5mZWF0dXJlcz8uWzBdPy5nZW9tZXRyeX19aWYobnVsbD09YSlyZXR1cm4gbnVsbDtzd2l0Y2goYS50eXBlKXtjYXNlXCJwb2ludFwiOmk9bmV3IE0oe3htaW46YS54LHltaW46YS55LHhtYXg6YS54LHltYXg6YS55LHNwYXRpYWxSZWZlcmVuY2U6YS5zcGF0aWFsUmVmZXJlbmNlfSk7YnJlYWs7Y2FzZVwiZXh0ZW50XCI6Y2FzZVwibXVsdGlwb2ludFwiOmNhc2VcInBvbHlnb25cIjpjYXNlXCJwb2x5bGluZVwiOmk9cShhKTticmVhaztkZWZhdWx0Omk9YS5leHRlbnR9aWYoIWkpcmV0dXJuIG51bGw7QygpfHxGKGkuc3BhdGlhbFJlZmVyZW5jZSxuKXx8YXdhaXQgTigpO2NvbnN0IGM9SShpLG4pO2lmKCFjKXJldHVybiBudWxsO2lmKG8pe2NvbnN0IHQ9Yy5jZW50ZXIsZT10LmNsb25lKCk7ZS54PVYodC54LG8uY2VudGVyLngsbiksZS54IT09dC54JiZjLmNlbnRlckF0KGUpLG89by51bmlvbihjKX1lbHNlIG89YztyZXR1cm4gb31mdW5jdGlvbiBLKHQpe2lmKHQmJighQXJyYXkuaXNBcnJheSh0KXx8XCJudW1iZXJcIiE9dHlwZW9mIHRbMF0pJiYoXCJvYmplY3RcIj09dHlwZW9mIHR8fEFycmF5LmlzQXJyYXkodCkmJlwib2JqZWN0XCI9PXR5cGVvZiB0WzBdKSl7aWYoXCJsYXllclwiaW4gdCYmbnVsbCE9dC5sYXllcj8ubWluU2NhbGUmJm51bGwhPXQubGF5ZXIubWF4U2NhbGUpe2NvbnN0IGU9dC5sYXllcjtyZXR1cm57bWluOmUubWluU2NhbGUsbWF4OmUubWF4U2NhbGV9fWlmKEFycmF5LmlzQXJyYXkodCkmJnQubGVuZ3RoJiZ0LmV2ZXJ5KCh0PT5cImxheWVyXCJpbiB0KSkpe2xldCBlPTAscj0wO2Zvcihjb25zdCBuIG9mIHQpe2NvbnN0IHQ9bi5sYXllcjt0Py5taW5TY2FsZSYmdC5tYXhTY2FsZSYmKGU9dC5taW5TY2FsZTxlP3QubWluU2NhbGU6ZSxyPXQubWF4U2NhbGU+cj90Lm1heFNjYWxlOnIpfXJldHVybiBlJiZyP3ttaW46ZSxtYXg6cn06bnVsbH19fWZ1bmN0aW9uIFgodCxlKXtjb25zdCByPUIodCk7cmV0dXJuIEUocixlKXx8ci5pbWFnZUNvb3JkaW5hdGVTeXN0ZW18fGUuaW1hZ2VDb29yZGluYXRlU3lzdGVtP3Q6SSh0LGUpfWFzeW5jIGZ1bmN0aW9uIFkoZSxyKXtpZighZXx8IXIpcmV0dXJuIG5ldyB0KHt0YXJnZXRHZW9tZXRyeTpuZXcgeixzY2FsZTowLHJvdGF0aW9uOjB9KTtsZXQgbj1yLnNwYXRpYWxSZWZlcmVuY2U7Y29uc3R7Y29uc3RyYWludHM6byxwYWRkaW5nOmEsdmlld3BvaW50Omksc2l6ZTpjfT1yLHM9W2E/Y1swXS1hLmxlZnQtYS5yaWdodDpjWzBdLGE/Y1sxXS1hLnRvcC1hLmJvdHRvbTpjWzFdXTtsZXQgdT1udWxsO2UgaW5zdGFuY2VvZiB0P3U9ZTplLnZpZXdwb2ludD91PWUudmlld3BvaW50OmUudGFyZ2V0JiZcImVzcmkuVmlld3BvaW50XCI9PT1lLnRhcmdldC5kZWNsYXJlZENsYXNzJiYodT1lLnRhcmdldCk7bGV0IGw9bnVsbDt1Py50YXJnZXRHZW9tZXRyeT9sPXUudGFyZ2V0R2VvbWV0cnk6ZSBpbnN0YW5jZW9mIE0/bD1lOmUgaW5zdGFuY2VvZiB2P2w9YXdhaXQgSihlLHIsbik6ZSYmKGw9YXdhaXQgSihlLmNlbnRlcixyLG4pfHxhd2FpdCBKKGUudGFyZ2V0LHIsbil8fGF3YWl0IEooZSxyLG4pKSwhbCYmaT8udGFyZ2V0R2VvbWV0cnk/bD1pLnRhcmdldEdlb21ldHJ5OiFsJiZyLmV4dGVudCYmKGw9ci5leHRlbnQpLG58fChuPUIoci5zcGF0aWFsUmVmZXJlbmNlfHxyLmV4dGVudHx8bCkpLEMoKXx8RShsLnNwYXRpYWxSZWZlcmVuY2Usbil8fEYobC5zcGF0aWFsUmVmZXJlbmNlLG4pfHxhd2FpdCBOKCk7Y29uc3QgZj1YKGwsbiksbT1cImNlbnRlclwiaW4gZj9mLmNlbnRlcjpmOyExIT09ci5waWNrQ2xvc2VzdFRhcmdldCYmXCJwb2ludFwiPT09bS50eXBlJiZcInBvaW50XCI9PT1pLnRhcmdldEdlb21ldHJ5Py50eXBlJiYobS54PVYobS54LGkudGFyZ2V0R2VvbWV0cnkueCxtLnNwYXRpYWxSZWZlcmVuY2UpKTtsZXQgeT0wO3U/eT11LnJvdGF0aW9uOmUuaGFzT3duUHJvcGVydHkoXCJyb3RhdGlvblwiKT95PWUucm90YXRpb246aSYmKHk9aS5yb3RhdGlvbik7bGV0IHA9MDtwPW51bGwhPXU/LnRhcmdldEdlb21ldHJ5JiZcInBvaW50XCI9PT11LnRhcmdldEdlb21ldHJ5LnR5cGU/dS5zY2FsZTpcInNjYWxlXCJpbiBlJiZlLnNjYWxlP2Uuc2NhbGU6XCJ6b29tXCJpbiBlJiYtMSE9PWUuem9vbSYmbyYmby5lZmZlY3RpdmVMT0RzP28uem9vbVRvU2NhbGUoZS56b29tKTpBcnJheS5pc0FycmF5KGwpfHxcInBvaW50XCI9PT1sLnR5cGV8fFwiZXh0ZW50XCI9PT1sLnR5cGUmJjA9PT1sLndpZHRoJiYwPT09bC5oZWlnaHQ/aS5zY2FsZTpIKFgobC5leHRlbnQsbikscyx5KTtjb25zdCBnPUsoZS50YXJnZXQ/P2UpO2cmJihnLm1pbiYmZy5taW48cD9wPWcubWluOmcubWF4JiZnLm1heD5wJiYocD1nLm1heCkpO2xldCB4PW5ldyB0KHt0YXJnZXRHZW9tZXRyeTptLHNjYWxlOnAscm90YXRpb246eX0pO3JldHVybiBvJiYoeD1vLmZpdCh4KSxvLmNvbnN0cmFpbkJ5R2VvbWV0cnkoeCksby5yb3RhdGlvbkVuYWJsZWR8fCh4LnJvdGF0aW9uPWkucm90YXRpb24pKSx4fWZ1bmN0aW9uIFoodCxlKXtjb25zdCByPXQudGFyZ2V0R2VvbWV0cnksbj1lLnRhcmdldEdlb21ldHJ5O3JldHVybiByLng9bi54LHIueT1uLnksci5zcGF0aWFsUmVmZXJlbmNlPW4uc3BhdGlhbFJlZmVyZW5jZSx0LnNjYWxlPWUuc2NhbGUsdC5yb3RhdGlvbj1lLnJvdGF0aW9uLHR9ZnVuY3Rpb24gJCh0LGUscil7cmV0dXJuIHI/Zyh0LC41KihlWzBdLXIucmlnaHQrci5sZWZ0KSwuNSooZVsxXS1yLmJvdHRvbStyLnRvcCkpOnAodCxlLC41KX1jb25zdCBfPWZ1bmN0aW9uKCl7Y29uc3QgdD1TKCk7cmV0dXJuIGZ1bmN0aW9uKGUscixuKXtjb25zdCBvPXIudGFyZ2V0R2VvbWV0cnk7RCh0LG8pO2NvbnN0IGE9LjUqb3Qocik7cmV0dXJuIGUueG1pbj10WzBdLWEqblswXSxlLnltaW49dFsxXS1hKm5bMV0sZS54bWF4PXRbMF0rYSpuWzBdLGUueW1heD10WzFdK2EqblsxXSxlLnNwYXRpYWxSZWZlcmVuY2U9by5zcGF0aWFsUmVmZXJlbmNlLGV9fSgpO2Z1bmN0aW9uIHR0KHQsZSxyLG4sbyl7cmV0dXJuIHh0KHQsZSxyLmNlbnRlciksdC5zY2FsZT1IKHIsbiksbz8uY29uc3RyYWludHM/LmNvbnN0cmFpbih0KSx0fWZ1bmN0aW9uIGV0KHQsZSxyLG4pe3JldHVybiBsdCh0LGUscixuKSxmKHQsdCl9Y29uc3QgcnQ9ZnVuY3Rpb24oKXtjb25zdCB0PVMoKTtyZXR1cm4gZnVuY3Rpb24oZSxyLG4pe3JldHVybiBoKGUsc3QoZSxyKSwkKHQscixuKSl9fSgpLG50PWZ1bmN0aW9uKCl7Y29uc3QgdD1tKCksZT1TKCk7cmV0dXJuIGZ1bmN0aW9uKHIsbixvLGEpe2NvbnN0IGM9b3QobiksbD1pdChuKTtyZXR1cm4gZyhlLGMsYyksdSh0LGUpLGkodCx0LGwpLHModCx0LHJ0KGUsbyxhKSkscyh0LHQsWzAsYS50b3AtYS5ib3R0b21dKSxnKHIsdFs0XSx0WzVdKX19KCk7ZnVuY3Rpb24gb3QodCl7cmV0dXJuIHQuc2NhbGUqYXQodC50YXJnZXRHZW9tZXRyeT8uc3BhdGlhbFJlZmVyZW5jZSl9ZnVuY3Rpb24gYXQodCl7cmV0dXJuIFAodCk/MS8oVyh0KSpRKk8pOjF9ZnVuY3Rpb24gaXQodCl7cmV0dXJuIG8odC5yb3RhdGlvbil8fDB9ZnVuY3Rpb24gY3QodCl7cmV0dXJuIFAodCk/Vyh0KSpRKk86MX1mdW5jdGlvbiBzdCh0LGUpe3JldHVybiBwKHQsZSwuNSl9Y29uc3QgdXQ9ZnVuY3Rpb24oKXtjb25zdCB0PVMoKSxlPVMoKSxyPVMoKTtyZXR1cm4gZnVuY3Rpb24obixvLHUsbCxmLG0pe3JldHVybiB5KHQsbykscChlLHUsLjUqbSksZyhyLDEvbCptLC0xL2wqbSksYShuLGUpLGYmJmkobixuLGYpLGMobixuLHIpLHMobixuLHQpLG59fSgpLGx0PWZ1bmN0aW9uKCl7Y29uc3QgdD1TKCk7cmV0dXJuIGZ1bmN0aW9uKGUscixuLG8pe2NvbnN0IGE9b3QociksaT1pdChyKTtyZXR1cm4gRCh0LHIudGFyZ2V0R2VvbWV0cnkpLHV0KGUsdCxuLGEsaSxvKX19KCksZnQ9ZnVuY3Rpb24oKXtjb25zdCB0PVMoKTtyZXR1cm4gZnVuY3Rpb24oZSxyLG4sbyl7Y29uc3QgYT1vdChyKTtyZXR1cm4gRCh0LHIudGFyZ2V0R2VvbWV0cnkpLHV0KGUsdCxuLGEsMCxvKX19KCk7ZnVuY3Rpb24gbXQodCl7Y29uc3QgZT1MKHQpO3JldHVybiBlP2UudmFsaWRbMV0tZS52YWxpZFswXTowfWZ1bmN0aW9uIHl0KHQsZSl7cmV0dXJuIE1hdGgucm91bmQobXQodCkvZSl9Y29uc3QgcHQ9ZnVuY3Rpb24oKXtjb25zdCB0PVMoKSxlPVMoKSxyPVswLDAsMF07cmV0dXJuIGZ1bmN0aW9uKG4sbyxhKXtiKHQsbixvKSx3KHQsdCksYihlLG4sYSksdyhlLGUpLGQocix0LGUpO2xldCBpPU1hdGguYWNvcyhqKHQsZSkvKEcodCkqRyhlKSkpKlQ7cmV0dXJuIHJbMl08MCYmKGk9LWkpLGlzTmFOKGkpJiYoaT0wKSxpfX0oKSxndD1mdW5jdGlvbigpe2NvbnN0IHQ9UygpO3JldHVybiBmdW5jdGlvbihlLHIsbixvKXtjb25zdCBhPWUudGFyZ2V0R2VvbWV0cnk7cmV0dXJuIFooZSxyKSxudCh0LHIsbixvKSxhLngrPXRbMF0sYS55Kz10WzFdLGV9fSgpLHh0PWZ1bmN0aW9uKHQsZSxyKXtaKHQsZSk7Y29uc3Qgbj10LnRhcmdldEdlb21ldHJ5O3JldHVybiBuLng9ci54LG4ueT1yLnksbi5zcGF0aWFsUmVmZXJlbmNlPXIuc3BhdGlhbFJlZmVyZW5jZSx0fSxodD1mdW5jdGlvbigpe2NvbnN0IHQ9UygpO3JldHVybiBmdW5jdGlvbihlLHIsbixvLGEpe2F8fChhPVwiY2VudGVyXCIpLGgodCxuLG8pLHAodCx0LC41KTtjb25zdCBpPXRbMF0sYz10WzFdO3N3aXRjaChhKXtjYXNlXCJjZW50ZXJcIjpnKHQsMCwwKTticmVhaztjYXNlXCJsZWZ0XCI6Zyh0LC1pLDApO2JyZWFrO2Nhc2VcInRvcFwiOmcodCwwLGMpO2JyZWFrO2Nhc2VcInJpZ2h0XCI6Zyh0LGksMCk7YnJlYWs7Y2FzZVwiYm90dG9tXCI6Zyh0LDAsLWMpO2JyZWFrO2Nhc2VcInRvcC1sZWZ0XCI6Zyh0LC1pLGMpO2JyZWFrO2Nhc2VcImJvdHRvbS1sZWZ0XCI6Zyh0LC1pLC1jKTticmVhaztjYXNlXCJ0b3AtcmlnaHRcIjpnKHQsaSxjKTticmVhaztjYXNlXCJib3R0b20tcmlnaHRcIjpnKHQsaSwtYyl9cmV0dXJuIGt0KGUscix0KSxlfX0oKTtmdW5jdGlvbiBidCh0LGUscil7cmV0dXJuIFoodCxlKSx0LnJvdGF0aW9uKz1yLHR9ZnVuY3Rpb24gd3QodCxlLHIpe3JldHVybiBaKHQsZSksdC5yb3RhdGlvbj1yLHR9Y29uc3QgZHQ9ZnVuY3Rpb24oKXtjb25zdCB0PVMoKTtyZXR1cm4gZnVuY3Rpb24oZSxyLG4sbyxhKXtyZXR1cm4gWihlLHIpLGlzTmFOKG4pfHwwPT09bnx8KEF0KHQsbyxyLGEpLGUuc2NhbGU9ci5zY2FsZSpuLFN0KHQsdCxlLGEpLGt0KGUsZSxnKHQsdFswXS1vWzBdLG9bMV0tdFsxXSkpKSxlfX0oKTtmdW5jdGlvbiBqdCh0LGUscil7cmV0dXJuIFoodCxlKSx0LnNjYWxlPXIsdH1jb25zdCBHdD1mdW5jdGlvbigpe2NvbnN0IHQ9UygpO3JldHVybiBmdW5jdGlvbihlLHIsbixvLGEsaSl7cmV0dXJuIFooZSxyKSxpc05hTihuKXx8MD09PW58fChBdCh0LGEscixpKSxlLnNjYWxlPXIuc2NhbGUqbixlLnJvdGF0aW9uKz1vLFN0KHQsdCxlLGkpLGt0KGUsZSxnKHQsdFswXS1hWzBdLGFbMV0tdFsxXSkpKSxlfX0oKSxSdD1mdW5jdGlvbigpe2NvbnN0IHQ9UygpLGU9UygpO3JldHVybiBmdW5jdGlvbihyLG4sbyxhLGksYyxzKXtyZXR1cm4gcnQoZSxjLHMpLEEodCxpLGUpLGE/R3QocixuLG8sYSx0LGMpOmR0KHIsbixvLHQsYyl9fSgpLEF0PWZ1bmN0aW9uKCl7Y29uc3QgdD1tKCk7cmV0dXJuIGZ1bmN0aW9uKGUscixuLG8pe3JldHVybiBSKGUscixldCh0LG4sbywxKSl9fSgpLFN0PWZ1bmN0aW9uKCl7Y29uc3QgdD1tKCk7cmV0dXJuIGZ1bmN0aW9uKGUscixuLG8pe3JldHVybiBSKGUscixsdCh0LG4sbywxKSl9fSgpLGt0PWZ1bmN0aW9uKCl7Y29uc3QgdD1TKCksZT1tKCk7cmV0dXJuIGZ1bmN0aW9uKHIsbixvKXtaKHIsbik7Y29uc3QgYT1vdChuKSxpPXIudGFyZ2V0R2VvbWV0cnk7cmV0dXJuIGwoZSxpdChuKSksYyhlLGUsayhhLGEpKSxSKHQsbyxlKSxpLngrPXRbMF0saS55Kz10WzFdLHJ9fSgpO2V4cG9ydHtndCBhcyBhZGRQYWRkaW5nLHB0IGFzIGFuZ2xlQmV0d2Vlbix4dCBhcyBjZW50ZXJBdCxaIGFzIGNvcHksWSBhcyBjcmVhdGUsSCBhcyBleHRlbnRUb1NjYWxlLCQgYXMgZ2V0QW5jaG9yLF8gYXMgZ2V0RXh0ZW50LHV0IGFzIGdldE1hdHJpeCxudCBhcyBnZXRQYWRkaW5nTWFwVHJhbnNsYXRpb24scnQgYXMgZ2V0UGFkZGluZ1NjcmVlblRyYW5zbGF0aW9uLG90IGFzIGdldFJlc29sdXRpb24sY3QgYXMgZ2V0UmVzb2x1dGlvblRvU2NhbGVGYWN0b3IsYXQgYXMgZ2V0U2NhbGVUb1Jlc29sdXRpb25GYWN0b3IsbHQgYXMgZ2V0VHJhbnNmb3JtLGZ0IGFzIGdldFRyYW5zZm9ybU5vUm90YXRpb24seXQgYXMgZ2V0V29ybGRTY3JlZW5XaWR0aCxtdCBhcyBnZXRXb3JsZFdpZHRoLFJ0IGFzIHBhZEFuZFNjYWxlQW5kUm90YXRlQnksaHQgYXMgcmVzaXplLGJ0IGFzIHJvdGF0ZUJ5LHd0IGFzIHJvdGF0ZVRvLEd0IGFzIHNjYWxlQW5kUm90YXRlQnksanQgYXMgc2NhbGVUbyx0dCBhcyBzZXRFeHRlbnQsQXQgYXMgdG9NYXAsU3QgYXMgdG9TY3JlZW4sa3QgYXMgdHJhbnNsYXRlQnl9O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9