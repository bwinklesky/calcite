export const __webpack_id__ = "vendors-node_modules_arcgis_core_views_2d_layers_graphics_GraphicsView2D_js";
export const __webpack_ids__ = ["vendors-node_modules_arcgis_core_views_2d_layers_graphics_GraphicsView2D_js"];
export const __webpack_modules__ = {

/***/ "./node_modules/@arcgis/core/geometry/support/curves/bezierCurveUtils.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/@arcgis/core/geometry/support/curves/bezierCurveUtils.js ***!
  \*******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   bezierCurveExtent: () => (/* binding */ m),
/* harmony export */   bezierCurveLength: () => (/* binding */ h),
/* harmony export */   closestPointsOnBezierCurve: () => (/* binding */ f),
/* harmony export */   interpolateBezierCurve: () => (/* binding */ i),
/* harmony export */   interpolateCubicBezier: () => (/* binding */ u),
/* harmony export */   splitBezierCurve: () => (/* binding */ a)
/* harmony export */ });
/* harmony import */ var _core_mathUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../core/mathUtils.js */ "./node_modules/@arcgis/core/core/mathUtils.js");
/* harmony import */ var _aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../aaBoundingRect.js */ "./node_modules/@arcgis/core/geometry/support/aaBoundingRect.js");
/* harmony import */ var _mathUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./mathUtils.js */ "./node_modules/@arcgis/core/geometry/support/curves/mathUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
const e=[0,0];function u(t,n,o,r,s){const c=1-s,e=c*c,u=s*s,i=e*c,a=3*s*e,f=3*u*c,m=u*s;return[t[0]*i+n[0]*a+o[0]*f+r[0]*m,t[1]*i+n[1]*a+o[1]*f+r[1]*m]}function i(t,n,o){const r=t,[s,c,e]=n.b;return u(r,c,e,s,o)}function a(t,n,o){const s=t,[c,u,i]=n.b,a=(0,_mathUtils_js__WEBPACK_IMPORTED_MODULE_2__.interpolateSegment)([0,0],s,u,o),f=(0,_mathUtils_js__WEBPACK_IMPORTED_MODULE_2__.interpolateSegment)(e,u,i,o),m=(0,_mathUtils_js__WEBPACK_IMPORTED_MODULE_2__.interpolateSegment)([0,0],i,c,o),h=(0,_mathUtils_js__WEBPACK_IMPORTED_MODULE_2__.interpolateSegment)([0,0],a,f,o),p=(0,_mathUtils_js__WEBPACK_IMPORTED_MODULE_2__.interpolateSegment)([0,0],f,m,o);return[{b:[(0,_mathUtils_js__WEBPACK_IMPORTED_MODULE_2__.interpolateSegment)([],h,p,o),a,h]},{b:[[...c],p,m]}]}function f(o,r,c){const e=o,[i,a,f]=r.b,m=(0,_mathUtils_js__WEBPACK_IMPORTED_MODULE_2__.findClosestAndFurthestCurveParametersToPoint)(c,[.1,.5,.9],(t=>{const n=1-t,[o,r]=u(e,a,f,i,t);return[o,r,3*n*n*(a[0]-e[0])+6*n*t*(f[0]-a[0])+3*t*t*(i[0]-f[0]),3*n*n*(a[1]-e[1])+6*n*t*(f[1]-a[1])+3*t*t*(i[1]-f[1]),6*n*(f[0]-2*a[0]+e[0])+6*t*(i[0]-2*f[0]+a[0]),6*n*(f[1]-2*a[1]+e[1])+6*t*(i[1]-2*f[1]+a[1])]})).map((t=>Math.min(1,Math.max(0,t))));m.push(0,1);let h=1/0;const p=m.map((t=>{const n=u(e,a,f,i,t),[o,r]=n,s=c[0]-o,m=c[1]-r,p=Math.sqrt(s*s+m*m);return h=Math.min(p,h),{t,curvePoint:n,distance:p}})),b=[];for(const s of p){const{t:o,distance:r}=s;(0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_0__.floatEqualRelative)(r,h)&&!b.some((({t})=>(0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_0__.floatEqualAbsolute)(t,o)))&&b.push(s)}return b}function m(t,n,r){const s=n,[c,e,u]=r.b;return (0,_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_1__.expandPointInPlace)(t,s),(0,_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_1__.expandPointInPlace)(t,e),(0,_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_1__.expandPointInPlace)(t,u),(0,_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_1__.expandPointInPlace)(t,c),t}function h(t,n,o){const r=16;let s=0,e=[n];for(let u=0;u<r;u++){let n=t;const r=[];for(const t of e)r.push(...a(n,t,.5)),n=t.b[0];e=r,n=t,s=0;let u=0;for(const t of e){const[o,r,e]=t.b,i=Math.sqrt((0,_mathUtils_js__WEBPACK_IMPORTED_MODULE_2__.distance2)(n,o));s+=(i+(Math.sqrt((0,_mathUtils_js__WEBPACK_IMPORTED_MODULE_2__.distance2)(n,r))+Math.sqrt((0,_mathUtils_js__WEBPACK_IMPORTED_MODULE_2__.distance2)(r,e))+Math.sqrt((0,_mathUtils_js__WEBPACK_IMPORTED_MODULE_2__.distance2)(e,o))))/2,u+=i,n=o}if(s-u<o)return s}return s}


/***/ }),

/***/ "./node_modules/@arcgis/core/geometry/support/curves/circleUtils.js":
/*!**************************************************************************!*\
  !*** ./node_modules/@arcgis/core/geometry/support/curves/circleUtils.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   DerivedCircle: () => (/* binding */ r),
/* harmony export */   circularCurveExtent: () => (/* binding */ e),
/* harmony export */   circularCurveLength: () => (/* binding */ u),
/* harmony export */   closestPointOnCircle: () => (/* binding */ o),
/* harmony export */   interpolateCircle: () => (/* binding */ i)
/* harmony export */ });
/* harmony import */ var _aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../aaBoundingRect.js */ "./node_modules/@arcgis/core/geometry/support/aaBoundingRect.js");
/* harmony import */ var _mathUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./mathUtils.js */ "./node_modules/@arcgis/core/geometry/support/curves/mathUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
const c=2*Math.PI;class r{constructor(t,n,a,s,c,r){this.cx=t,this.cy=n,this.radius=a,this.thetaStart=s,this.thetaEnd=c,this.isInvalid=r}}function h(t,n){const{cx:a,cy:s,radius:c}=t;return[a+c*Math.cos(n),s+c*Math.sin(n)]}function i(t,n){const{thetaStart:a,thetaEnd:s}=t;return h(t,a*(1-n)+s*n)}function o(t,r){const{cx:h,cy:o,thetaStart:e,thetaEnd:u}=t,[d,M]=r;let f=(0,_mathUtils_js__WEBPACK_IMPORTED_MODULE_1__.wrapAtan2)(M-o,d-h);f=(0,_mathUtils_js__WEBPACK_IMPORTED_MODULE_1__.matchWindingAndWrap)(f,e,u);const l=f-e;let m=l/(u-e);if(m<0||m>1){const t=Math.abs(l)%c,n=Math.abs(f-u)%c;m=Math.min(n,c-n)<Math.min(t,c-t)?1:0}const E=i(t,m);return{t:m,curvePoint:E,distance:Math.sqrt((0,_mathUtils_js__WEBPACK_IMPORTED_MODULE_1__.distance2)(r,E))}}function e(n,a){const{thetaStart:c,thetaEnd:r}=a,i=r-c;(0,_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_0__.expandPointInPlace)(n,h(a,c)),(0,_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_0__.expandPointInPlace)(n,h(a,r));for(let o=0;o<4;o++){let e=o*(Math.PI/2);e=(0,_mathUtils_js__WEBPACK_IMPORTED_MODULE_1__.matchWindingAndWrap)(e,c,r);const u=(e-c)/i;u>0&&u<1&&(0,_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_0__.expandPointInPlace)(n,h(a,e))}return n}function u(t){const{radius:n,thetaStart:a,thetaEnd:s}=t;return n*Math.abs(s-a)}


/***/ }),

/***/ "./node_modules/@arcgis/core/geometry/support/curves/circularArcUtils.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/@arcgis/core/geometry/support/curves/circularArcUtils.js ***!
  \*******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   deriveCircleFromCircularArc: () => (/* binding */ e),
/* harmony export */   splitCircularArc: () => (/* binding */ a)
/* harmony export */ });
/* harmony import */ var _core_libs_gl_matrix_2_math_mat3_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../core/libs/gl-matrix-2/math/mat3.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/math/mat3.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_mat3f64_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/libs/gl-matrix-2/factories/mat3f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/mat3f64.js");
/* harmony import */ var _circleUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./circleUtils.js */ "./node_modules/@arcgis/core/geometry/support/curves/circleUtils.js");
/* harmony import */ var _mathUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./mathUtils.js */ "./node_modules/@arcgis/core/geometry/support/curves/mathUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
const m=(0,_core_libs_gl_matrix_2_factories_mat3f64_js__WEBPACK_IMPORTED_MODULE_1__.create)();function l(o,n,c){const[i,s]=o,[l,e]=n,[a,f]=c,u=i*i+s*s,h=l*l+e*e,p=a*a+f*f;(0,_core_libs_gl_matrix_2_math_mat3_js__WEBPACK_IMPORTED_MODULE_0__.set)(m,i,l,a,s,e,f,1,1,1);const j=(0,_core_libs_gl_matrix_2_math_mat3_js__WEBPACK_IMPORTED_MODULE_0__.determinant)(m);if(0===j)return null;(0,_core_libs_gl_matrix_2_math_mat3_js__WEBPACK_IMPORTED_MODULE_0__.set)(m,u,h,p,s,e,f,1,1,1);const g=(0,_core_libs_gl_matrix_2_math_mat3_js__WEBPACK_IMPORTED_MODULE_0__.determinant)(m);(0,_core_libs_gl_matrix_2_math_mat3_js__WEBPACK_IMPORTED_MODULE_0__.set)(m,u,h,p,i,l,a,1,1,1);return[g/j*.5,(0,_core_libs_gl_matrix_2_math_mat3_js__WEBPACK_IMPORTED_MODULE_0__.determinant)(m)/j*-.5]}function e(t,r){const[o,c]=r.c,m=l(t,c,o),e=null==m,a=m??(0,_mathUtils_js__WEBPACK_IMPORTED_MODULE_3__.interpolateSegment)([],t,o,.5),[f,u]=t,[h,p]=c,[j,g]=o,[x,M]=a,b=f-x,U=u-M,q=Math.sqrt(b*b+U*U),w=(0,_mathUtils_js__WEBPACK_IMPORTED_MODULE_3__.wrapAtan2)(u-M,f-x),I=(0,_mathUtils_js__WEBPACK_IMPORTED_MODULE_3__.wrapAtan2)(p-M,h-x);let P=(0,_mathUtils_js__WEBPACK_IMPORTED_MODULE_3__.wrapAtan2)(g-M,j-x);return(I-w)*(P-I)<0&&(P+=2*Math.sign(w-P)*Math.PI),new _circleUtils_js__WEBPACK_IMPORTED_MODULE_2__.DerivedCircle(x,M,q,w,P,e)}function a(t,r,o){const n=(0,_circleUtils_js__WEBPACK_IMPORTED_MODULE_2__.interpolateCircle)(t,o/2),i=(0,_circleUtils_js__WEBPACK_IMPORTED_MODULE_2__.interpolateCircle)(t,o),s=(0,_circleUtils_js__WEBPACK_IMPORTED_MODULE_2__.interpolateCircle)(t,(o+1)/2);return[{c:[i,n]},{c:[[...r.c[0]],s]}]}


/***/ }),

/***/ "./node_modules/@arcgis/core/geometry/support/curves/curveUtils.js":
/*!*************************************************************************!*\
  !*** ./node_modules/@arcgis/core/geometry/support/curves/curveUtils.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   cloneCurve: () => (/* binding */ a),
/* harmony export */   getCurves: () => (/* binding */ r),
/* harmony export */   getEndpoint: () => (/* binding */ o),
/* harmony export */   isBezierCurve: () => (/* binding */ t),
/* harmony export */   isCircularArc: () => (/* binding */ u),
/* harmony export */   isCoordinate: () => (/* binding */ e),
/* harmony export */   isCurvedGeometry: () => (/* binding */ n),
/* harmony export */   isEllipticArc: () => (/* binding */ i),
/* harmony export */   isEllipticArc4: () => (/* binding */ c),
/* harmony export */   isEllipticArc7: () => (/* binding */ f)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
function n(n){return"curveRings"in n&&!!n.curveRings?.length||"curvePaths"in n&&!!n.curvePaths?.length}function r(n){return"curveRings"in n?n.curveRings:n.curvePaths}function t(n){return"b"in n}function u(n){return"c"in n}function e(n){return Array.isArray(n)}function i(n){return"a"in n}function c(n){return 4===n.a.length}function f(n){return 7===n.a.length}function o(n){return t(n)?n.b[0]:u(n)?n.c[0]:i(n)?n.a[0]:n}function a(n){if(t(n)){const[r,t,u]=n.b;return{b:[[...r],[...t],[...u]]}}if(u(n)){const[r,t]=n.c;return{c:[[...r],[...t]]}}if(e(n))return[...n];if(c(n)){const[r,t,u,e]=n.a;return{a:[[...r],[...t],u,e]}}if(f(n)){const[r,t,u,e,i,c,f]=n.a;return{a:[[...r],[...t],u,e,i,c,f]}}return n}


/***/ }),

/***/ "./node_modules/@arcgis/core/geometry/support/curves/densifyCurvedGeometry.js":
/*!************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/geometry/support/curves/densifyCurvedGeometry.js ***!
  \************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   densifyCurvedGeometry: () => (/* binding */ L)
/* harmony export */ });
/* harmony import */ var _bezierCurveUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./bezierCurveUtils.js */ "./node_modules/@arcgis/core/geometry/support/curves/bezierCurveUtils.js");
/* harmony import */ var _circularArcUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./circularArcUtils.js */ "./node_modules/@arcgis/core/geometry/support/curves/circularArcUtils.js");
/* harmony import */ var _curveUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./curveUtils.js */ "./node_modules/@arcgis/core/geometry/support/curves/curveUtils.js");
/* harmony import */ var _ellipticArc4Utils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./ellipticArc4Utils.js */ "./node_modules/@arcgis/core/geometry/support/curves/ellipticArc4Utils.js");
/* harmony import */ var _ellipticArc7Utils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./ellipticArc7Utils.js */ "./node_modules/@arcgis/core/geometry/support/curves/ellipticArc7Utils.js");
/* harmony import */ var _mathUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./mathUtils.js */ "./node_modules/@arcgis/core/geometry/support/curves/mathUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
const f={maxSegmentLength:1/0,maxDeviation:1/0,maxSegmentsPerCurve:12e3,minSegmentsPerCurve:1},v=1e-6,g=[0,0];class P{constructor(t,s){this.curveStart=t,this.curveEnd=s,this.tStart=0,this.tEnd=0,this.tEndStack=[],this.arcEndStack=[]}get stackSize(){return this.tEndStack.length}initialize(t,s){this.tStart=0,this.arcStart=t,this.tEndStack.push(1),this.arcEndStack.push(s)}splitAt(t){this.tEndStack.push(this.tEnd),this.arcEndStack.push(this.arcEnd),this.tEndStack.push(t),this.arcEndStack.push(this.interpolate(t))}splitInHalf(){return this.splitAt((this.tStart+this.tEnd)/2)}pop(){this.tEnd=this.tEndStack.pop(),this.arcEnd=this.arcEndStack.pop()}next(){this.tStart=this.tEnd,this.arcStart=this.arcEnd}densify(t,{maxDeviation:s,maxSegmentLength:i,maxSegmentsPerCurve:n,minSegmentsPerCurve:r}){const e=i*i,a=s*s,h=1/n,c=this.interpolate(0),o=this.interpolate(1);(0,_mathUtils_js__WEBPACK_IMPORTED_MODULE_5__.distance2)(this.curveStart,c)>v&&t.push(c),this.initialize(c,o);const u=1/r;for(let p=r-1;p>0;p--){const t=p*u;this.pop(),this.splitAt(t)}for(;this.stackSize>0;)this.pop(),this.tStart===this.tEnd||this.tEnd-this.tStart<h||(0===e||!isFinite(e)||(0,_mathUtils_js__WEBPACK_IMPORTED_MODULE_5__.distance2)(this.arcStart,this.arcEnd)<e)&&(0===a||!isFinite(a)||this.getDeviation2()<a)?(t.push(this.arcEnd),this.next()):this.splitInHalf();return (0,_mathUtils_js__WEBPACK_IMPORTED_MODULE_5__.distance2)(this.curveEnd,o)>v&&t.push([...this.curveEnd]),t}}class x extends P{constructor(t,s){const[i,n,r]=s.b;super(t,i),this._controlPointsStack=[],this._curveControlPoints=[n,r],this._arcControlPoints=[n,r],this._controlPointsStack.push(this._arcControlPoints)}splitAt(t){const{arcStart:s,arcEnd:i,tStart:n,tEnd:r}=this,[e,a]=this._arcControlPoints,h=(t-n)/(r-n),c=(0,_mathUtils_js__WEBPACK_IMPORTED_MODULE_5__.interpolateSegment)([],s,e,h),o=(0,_mathUtils_js__WEBPACK_IMPORTED_MODULE_5__.interpolateSegment)(g,e,a,h),u=(0,_mathUtils_js__WEBPACK_IMPORTED_MODULE_5__.interpolateSegment)([],a,i,h),p=(0,_mathUtils_js__WEBPACK_IMPORTED_MODULE_5__.interpolateSegment)([],c,o,h),d=(0,_mathUtils_js__WEBPACK_IMPORTED_MODULE_5__.interpolateSegment)([],o,u,h),l=(0,_mathUtils_js__WEBPACK_IMPORTED_MODULE_5__.interpolateSegment)([],p,d,h);this.tEndStack.push(this.tEnd),this.arcEndStack.push(this.arcEnd),this._controlPointsStack.push([d,u]),this.tEndStack.push(t),this.arcEndStack.push(l),this._arcControlPoints[0]=c,this._arcControlPoints[1]=p,this._controlPointsStack.push(this._arcControlPoints)}pop(){super.pop(),this._arcControlPoints=this._controlPointsStack.pop()}interpolate(s){const{curveStart:i,curveEnd:n}=this,[r,e]=this._curveControlPoints;return (0,_bezierCurveUtils_js__WEBPACK_IMPORTED_MODULE_0__.interpolateCubicBezier)(i,r,e,n,s)}getDeviation2(){const{arcStart:t,arcEnd:s}=this,[i,n]=this._arcControlPoints;return Math.max((0,_mathUtils_js__WEBPACK_IMPORTED_MODULE_5__.pointToSegmentDistance2)(i,t,s),(0,_mathUtils_js__WEBPACK_IMPORTED_MODULE_5__.pointToSegmentDistance2)(n,t,s))}}class k extends P{constructor(t,s){const[i]=s.a;super(t,i),this._derivedEllipse=(0,_ellipticArc7Utils_js__WEBPACK_IMPORTED_MODULE_4__.deriveEllipse)(t,s)}pop(){super.pop(),this._tMid=(this.tStart+this.tEnd)/2,this._arcMid=this.interpolate(this._tMid)}splitInHalf(){this.tEndStack.push(this.tEnd),this.arcEndStack.push(this.arcEnd),this.tEndStack.push(this._tMid),this.arcEndStack.push(this._arcMid)}interpolate(t){return (0,_ellipticArc7Utils_js__WEBPACK_IMPORTED_MODULE_4__.interpolateEllipse)(this._derivedEllipse,t)}getDeviation2(){return (0,_mathUtils_js__WEBPACK_IMPORTED_MODULE_5__.pointToSegmentDistance2)(this._arcMid,this.arcStart,this.arcEnd)}}function C(t,s,i,{cx:n,cy:r,radius:e,thetaStart:a,thetaEnd:h,isInvalid:c},{maxDeviation:o,maxSegmentLength:u,maxSegmentsPerCurve:p,minSegmentsPerCurve:d}){if(c)return t.push([...i]),t;const l=2*e,S=[n+e*Math.cos(a),r+e*Math.sin(a)],m=[n+e*Math.cos(h),r+e*Math.sin(h)];(0,_mathUtils_js__WEBPACK_IMPORTED_MODULE_5__.distance2)(s,S)>v&&t.push(S);const f=Math.abs(h-a),g=u<l?2*Math.asin(u/l):f,P=o<=e?2*Math.acos(1-o/e):f,x=Math.min(g,P),k=Math.min(p,Math.max(d,Math.ceil(Math.abs(f/x)))),C=1/k;for(let E=1;E<k;E++){const s=E*C,i=a*(1-s)+h*s;t.push([n+e*Math.cos(i),r+e*Math.sin(i)])}return t.push(m),(0,_mathUtils_js__WEBPACK_IMPORTED_MODULE_5__.distance2)(i,m)>v&&t.push([...i]),t}function _(t,s,i,n){return new x(s,i).densify(t,n)}function M(t,i,n,r){const e=(0,_circularArcUtils_js__WEBPACK_IMPORTED_MODULE_1__.deriveCircleFromCircularArc)(i,n),[a]=n.c;return C(t,i,a,e,r)}function D(t,s,i,n){const r=(0,_ellipticArc4Utils_js__WEBPACK_IMPORTED_MODULE_3__.deriveCircleFromEllipticArc4)(s,i),[e]=i.a;return C(t,s,e,r,n)}function A(t,s,i,n){const[r,e,a,h,c,o,u]=i.a;return 0===o||0===u?(t.push([...r]),t):new k(s,i).densify(t,n)}function j(t,s,i,n){if((0,_curveUtils_js__WEBPACK_IMPORTED_MODULE_2__.isCoordinate)(i))return t.push([...i]),t;if((0,_curveUtils_js__WEBPACK_IMPORTED_MODULE_2__.isBezierCurve)(i))return _(t,s,i,n);if((0,_curveUtils_js__WEBPACK_IMPORTED_MODULE_2__.isCircularArc)(i))return M(t,s,i,n);if((0,_curveUtils_js__WEBPACK_IMPORTED_MODULE_2__.isEllipticArc)(i)){if((0,_curveUtils_js__WEBPACK_IMPORTED_MODULE_2__.isEllipticArc4)(i))return D(t,s,i,n);if((0,_curveUtils_js__WEBPACK_IMPORTED_MODULE_2__.isEllipticArc7)(i))return A(t,s,i,n)}return t}function L(t,s){if(!(0,_curveUtils_js__WEBPACK_IMPORTED_MODULE_2__.isCurvedGeometry)(t))return t;const e=(0,_curveUtils_js__WEBPACK_IMPORTED_MODULE_2__.getCurves)(t),a=[];for(const i of e){const t=[];for(let n=0,e=1;e<i.length;n=e++){const a=(0,_curveUtils_js__WEBPACK_IMPORTED_MODULE_2__.getEndpoint)(i[n]);0===n&&t.push(a);j(t,a,i[e],{maxSegmentLength:s.maxSegmentLength??f.maxSegmentLength,maxDeviation:s.maxDeviation??f.maxDeviation,maxSegmentsPerCurve:s.maxSegmentsPerCurve??f.maxSegmentsPerCurve,minSegmentsPerCurve:Math.max(s.minSegmentsPerCurve??f.minSegmentsPerCurve,1)})}a.push(t)}return"curvePaths"in t?{paths:a,spatialReference:t.spatialReference}:{rings:a,spatialReference:t.spatialReference}}


/***/ }),

/***/ "./node_modules/@arcgis/core/geometry/support/curves/ellipticArc4Utils.js":
/*!********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/geometry/support/curves/ellipticArc4Utils.js ***!
  \********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   deriveCircleFromEllipticArc4: () => (/* binding */ h),
/* harmony export */   splitEllipticArc4: () => (/* binding */ n)
/* harmony export */ });
/* harmony import */ var _core_mathUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../core/mathUtils.js */ "./node_modules/@arcgis/core/core/mathUtils.js");
/* harmony import */ var _circleUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./circleUtils.js */ "./node_modules/@arcgis/core/geometry/support/curves/circleUtils.js");
/* harmony import */ var _mathUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./mathUtils.js */ "./node_modules/@arcgis/core/geometry/support/curves/mathUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
function h(r,h){const[n,c]=h.a,[i,e]=r,[m,M]=n,[f,l]=c,p=i-f,u=e-l,j=Math.sqrt(p*p+u*u),U=m-f,b=M-l,q=Math.sqrt(U*U+b*b),x=0===j||0===q||!(0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_0__.floatEqualRelative)(j,q),I=j,P=(0,_mathUtils_js__WEBPACK_IMPORTED_MODULE_2__.wrapAtan2)(e-l,i-f),d=(0,_mathUtils_js__WEBPACK_IMPORTED_MODULE_2__.correctSweepAndWinding)((0,_mathUtils_js__WEBPACK_IMPORTED_MODULE_2__.wrapAtan2)(M-l,m-f),P,h);return new _circleUtils_js__WEBPACK_IMPORTED_MODULE_1__.DerivedCircle(f,l,I,P,d,x)}function n(t,a,o){const{cx:s,cy:h,thetaStart:n,thetaEnd:c}=t,[i,e,m,M]=a.a,f=n*(1-o)+c*o;return[{a:[(0,_circleUtils_js__WEBPACK_IMPORTED_MODULE_1__.interpolateCircle)(t,o),[s,h],Math.abs(f-n)<Math.PI?1:0,M]},{a:[[...i],[s,h],Math.abs(c-f)<Math.PI?1:0,M]}]}


/***/ }),

/***/ "./node_modules/@arcgis/core/geometry/support/curves/ellipticArc7Utils.js":
/*!********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/geometry/support/curves/ellipticArc7Utils.js ***!
  \********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   DerivedEllipse: () => (/* binding */ m),
/* harmony export */   closestPointOnEllipse: () => (/* binding */ I),
/* harmony export */   deriveEllipse: () => (/* binding */ b),
/* harmony export */   ellipticArcExtent: () => (/* binding */ g),
/* harmony export */   ellipticArcLength: () => (/* binding */ x),
/* harmony export */   interpolateEllipse: () => (/* binding */ R),
/* harmony export */   splitEllipticArc7: () => (/* binding */ q),
/* harmony export */   transformEllipticArc: () => (/* binding */ y)
/* harmony export */ });
/* harmony import */ var _core_libs_gl_matrix_2_math_mat3_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../core/libs/gl-matrix-2/math/mat3.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/math/mat3.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_mat3f64_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/libs/gl-matrix-2/factories/mat3f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/mat3f64.js");
/* harmony import */ var _core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/libs/gl-matrix-2/math/vec2.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/math/vec2.js");
/* harmony import */ var _aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../aaBoundingRect.js */ "./node_modules/@arcgis/core/geometry/support/aaBoundingRect.js");
/* harmony import */ var _curveUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./curveUtils.js */ "./node_modules/@arcgis/core/geometry/support/curves/curveUtils.js");
/* harmony import */ var _mathUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./mathUtils.js */ "./node_modules/@arcgis/core/geometry/support/curves/mathUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
class m{constructor(t,s,n,o,r,a,c,i,u){this.cx=t,this.cy=s,this.a=n,this.b=o,this.cosR=r,this.sinR=a,this.u1=c,this.u2=i,this.isInvalid=u}}function b(t,s){const[n,o,r,a,c,i,e]=s.a,[f,M]=t,[l,b]=n,[p,R]=o,q=i*e,I=Math.cos(c),g=Math.sin(c),x=(0,_mathUtils_js__WEBPACK_IMPORTED_MODULE_5__.wrapAtan2)(1/q*(M-R)*I-1/q*(f-p)*g,1/i*(M-R)*g+1/i*(f-p)*I),j=(0,_mathUtils_js__WEBPACK_IMPORTED_MODULE_5__.correctSweepAndWinding)((0,_mathUtils_js__WEBPACK_IMPORTED_MODULE_5__.wrapAtan2)(1/q*(b-R)*I-1/q*(l-p)*g,1/i*(b-R)*g+1/i*(l-p)*I),x,s);return new m(p,R,i,q,I,g,x,j,0===i||0===q)}function p(t,s){const{a:n,b:o,cosR:r,sinR:a,cx:c,cy:i}=t,u=Math.cos(s),h=Math.sin(s);return[n*u*r-o*h*a+c,n*u*a+o*h*r+i]}function R(t,s){const{u1:n,u2:o}=t;return p(t,n*(1-s)+o*s)}function q(t,s,n){if(n<0||n>1)return[];if(0===n||1===n)return[(0,_curveUtils_js__WEBPACK_IMPORTED_MODULE_4__.cloneCurve)(s)];const[o,[r,a],c,u,h,e,f]=s.a,{u1:M,u2:l}=t,m=M*(1-n)+l*n;return[{a:[[...R(t,n)],[r,a],Math.abs(m-M)<Math.PI?1:0,u,h,e,f]},{a:[[...o],[r,a],Math.abs(l-m)<Math.PI?1:0,u,h,e,f]}]}function I(t,s){const{a:n,b:o,cosR:r,sinR:a,u1:c,u2:i}=t,u=Math.PI/6,h=(0,_mathUtils_js__WEBPACK_IMPORTED_MODULE_5__.findClosestAndFurthestCurveParametersToPoint)(s,[1*u,2*u,4*u,5*u,7*u,8*u,10*u,11*u],(s=>{const c=Math.cos(s),i=Math.sin(s),[u,h]=p(t,s);return[u,h,-n*r*i-o*a*c,-n*a*i+o*r*c,-n*r*c+o*a*i,-n*a*c-o*r*i]})).map((t=>(0,_mathUtils_js__WEBPACK_IMPORTED_MODULE_5__.matchWindingAndWrap)(t,c,i)));h.push(c,i);let M,l,m=1/0;for(const e of h){const n=(e-c)/(i-c);if(n<0||n>1)continue;const o=p(t,e),[r,a]=o,u=s[0]-r,h=s[1]-a,f=u*u+h*h;f<m&&(M=n,l=o,m=f)}return{t:M,curvePoint:l,distance:Math.sqrt(m)}}function g(t,s,n){const o=b(s,n),{a:r,b:a,u1:i,u2:u,cosR:h,sinR:e,isInvalid:M}=o,l=u-i,m=n.a[0];if((0,_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_3__.expandPointInPlace)(t,s),(0,_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_3__.expandPointInPlace)(t,m),M)return t;const R=Math.atan2(-a*e,r*h),q=R+Math.PI,I=Math.atan2(a*h,r*e),g=I+Math.PI;for(const b of[R,q,I,g]){const s=(0,_mathUtils_js__WEBPACK_IMPORTED_MODULE_5__.matchWindingAndWrap)(b,i,u),n=(s-i)/l;n>0&&n<1&&(0,_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_3__.expandPointInPlace)(t,p(o,s))}return t}function x(t,s,n){const[o,r,a,c,i,u,h]=s.a,e=b(t,s),{u1:f,u2:m,isInvalid:q}=e,I=m-f;if(q)return Math.sqrt((0,_mathUtils_js__WEBPACK_IMPORTED_MODULE_5__.distance2)(t,o));const g=14,x=[0,0];let j=0,v=[R(e,0),R(e,.25),R(e,.5),R(e,.75),R(e,1)];for(let b=0;b<g;b++){const t=v.length-1,s=I/(2*t),o=[];for(let n=0;n<t;n++)o.push(v[n]),o.push(p(e,f+(2*n+1)*s));o.push(v[v.length-1]),v=o,j=0;let a=0;for(let n=1;n<v.length;n++){const t=v[n-1],s=v[n];if(j+=Math.sqrt((0,_mathUtils_js__WEBPACK_IMPORTED_MODULE_5__.distance2)(t,s)),n>1){const o=v[n-2],c=(0,_mathUtils_js__WEBPACK_IMPORTED_MODULE_5__.intersectLineLine)(x,o,t,r,s);a+=c?Math.sqrt((0,_mathUtils_js__WEBPACK_IMPORTED_MODULE_5__.distance2)(t,c)):Math.abs(s[0]-t[0])+Math.abs(s[1]-t[1])}else a+=j}if(a-j<n)return j}return j}const j=(0,_core_libs_gl_matrix_2_factories_mat3f64_js__WEBPACK_IMPORTED_MODULE_1__.create)(),v=(0,_core_libs_gl_matrix_2_factories_mat3f64_js__WEBPACK_IMPORTED_MODULE_1__.create)(),P=(0,_core_libs_gl_matrix_2_factories_mat3f64_js__WEBPACK_IMPORTED_MODULE_1__.create)(),d=(0,_core_libs_gl_matrix_2_factories_mat3f64_js__WEBPACK_IMPORTED_MODULE_1__.create)();function y(r,c,i){const[u,e,f,l,m,p,R]=c.a,q=b(r,c),{cosR:I,sinR:g,a:x,b:y,cx:U,cy:w}=q,B=(0,_core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_2__.transformMat3)([0,0],u,i),k=(0,_core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_2__.transformMat3)([0,0],e,i),z=i[0]*i[4]<0?1-l:l;{const s=x*x*g*g+y*y*I*I,n=2*(y*y-x*x)*g*I,o=x*x*I*I+y*y*g*g,r=-2*s*U-n*w,a=-n*U-2*o*w;(0,_core_libs_gl_matrix_2_math_mat3_js__WEBPACK_IMPORTED_MODULE_0__.set)(j,s,n/2,r/2,n/2,o,a/2,r/2,a/2,s*U*U+n*U*w+o*w*w-x*x*y*y)}if((0,_core_libs_gl_matrix_2_math_mat3_js__WEBPACK_IMPORTED_MODULE_0__.invert)(v,i),null==v){const t=(0,_core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_2__.transformMat3)([0,0],r,i);return{a:[B,k,f,l,(0,_mathUtils_js__WEBPACK_IMPORTED_MODULE_5__.wrapAtan2)(B[1],B[0]),Math.sqrt((0,_mathUtils_js__WEBPACK_IMPORTED_MODULE_5__.distance2)(B,t))/2,0]}}(0,_core_libs_gl_matrix_2_math_mat3_js__WEBPACK_IMPORTED_MODULE_0__.transpose)(P,v),(0,_core_libs_gl_matrix_2_math_mat3_js__WEBPACK_IMPORTED_MODULE_0__.multiply)(d,(0,_core_libs_gl_matrix_2_math_mat3_js__WEBPACK_IMPORTED_MODULE_0__.multiply)(d,P,j),v);{const t=d[0],s=2*d[1],n=d[4],o=2*d[2],r=2*d[5],a=s*s-4*t*n,c=2*(t*r*r+n*o*o-s*o*r+a*d[8]),i=Math.sqrt((t-n)**2+s*s),u=-Math.sqrt(c*(t+n+i))/a,e=-Math.sqrt(c*(t+n-i))/a;return{a:[B,k,f,z,.5*(0,_mathUtils_js__WEBPACK_IMPORTED_MODULE_5__.wrapAtan2)(-s,n-t),u,e/u]}}}


/***/ }),

/***/ "./node_modules/@arcgis/core/geometry/support/curves/mathUtils.js":
/*!************************************************************************!*\
  !*** ./node_modules/@arcgis/core/geometry/support/curves/mathUtils.js ***!
  \************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   correctSweepAndWinding: () => (/* binding */ e),
/* harmony export */   distance2: () => (/* binding */ o),
/* harmony export */   findClosestAndFurthestCurveParametersToPoint: () => (/* binding */ s),
/* harmony export */   interpolateSegment: () => (/* binding */ r),
/* harmony export */   intersectLineLine: () => (/* binding */ c),
/* harmony export */   matchWindingAndWrap: () => (/* binding */ i),
/* harmony export */   pointToSegmentDistance2: () => (/* binding */ u),
/* harmony export */   wrapAtan2: () => (/* binding */ a)
/* harmony export */ });
/* harmony import */ var _core_mathUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../core/mathUtils.js */ "./node_modules/@arcgis/core/core/mathUtils.js");
/* harmony import */ var _core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/libs/gl-matrix-2/math/vec2.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/math/vec2.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
function r(t,n,r,o){return t[0]=n[0]*(1-o)+r[0]*o,t[1]=n[1]*(1-o)+r[1]*o,t}function o(t,r){return (0,_core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_1__.squaredDistance)(t,r)}function u(t,n,r){const u=o(n,r);if(0===u)return o(n,t);const c=(n[0]-t[0])*(r[1]-t[1])-(n[1]-t[1])*(r[0]-t[0]);return c*c/u}function c(t,n,r,o,u){const[c,a]=n,[e,i]=r,[s,h]=o,[f,M]=u,m=(c-e)*(h-M)-(a-i)*(s-f);if(0===m)return null;const l=(c*i-a*e)*(s-f)-(c-e)*(s*M-h*f),I=(c*i-a*e)*(h-M)-(a-i)*(s*M-h*f);return t[0]=l/m,t[1]=I/m,t}function a(t,n){const r=Math.atan2(t,n);return r<0?r+2*Math.PI:r}function e(n,r,o){const[u,c,a,e]=o.a,i=Math.abs(n-r),s=i>Math.PI,h=i<Math.PI,f=(0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_0__.floatEqualAbsolute)(i,Math.PI);return(!f&&(s&&a||h&&!a)||f&&(n>r&&e||n<r&&!e))&&(n+=2*(Math.sign(r-n)||1)*Math.PI),n}function i(t,n,r){const o=2*Math.PI,u=t-n;return(r-n)*u<0?t-=(Math.trunc(u/o)+Math.sign(u))*o:u>=o&&(t-=Math.trunc(u/o)*o),t}function s(t,n,r,o=10){return n.map((n=>{let u=n;for(let c=0;c<o;c++){const[n,o,c,a,e,i]=r(u),s=t[0]-n,h=t[1]-o,f=-c,M=-a;u+=-(2*s*f+2*h*M)/(2*f*f+2*s*-e+2*M*M+2*h*-i||1e-6)}return u}))}


/***/ }),

/***/ "./node_modules/@arcgis/core/symbols/cim/OverrideHelper.js":
/*!*****************************************************************!*\
  !*** ./node_modules/@arcgis/core/symbols/cim/OverrideHelper.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   OverrideHelper: () => (/* binding */ v)
/* harmony export */ });
/* harmony import */ var _Color_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../Color.js */ "./node_modules/@arcgis/core/Color.js");
/* harmony import */ var _core_colorUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/colorUtils.js */ "./node_modules/@arcgis/core/core/colorUtils.js");
/* harmony import */ var _core_lang_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/lang.js */ "./node_modules/@arcgis/core/core/lang.js");
/* harmony import */ var _layers_support_FieldsIndex_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../layers/support/FieldsIndex.js */ "./node_modules/@arcgis/core/layers/support/FieldsIndex.js");
/* harmony import */ var _support_ArcadeExpression_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../support/ArcadeExpression.js */ "./node_modules/@arcgis/core/support/ArcadeExpression.js");
/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./utils.js */ "./node_modules/@arcgis/core/symbols/cim/utils.js");
/* harmony import */ var _views_2d_arcade_callExpressionWithFeature_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../views/2d/arcade/callExpressionWithFeature.js */ "./node_modules/@arcgis/core/views/2d/arcade/callExpressionWithFeature.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
const y=e=>{if(!e)return[0,0,0,0];const{r,g:i,b:s,a:t}=e;return[r,i,s,255*t]};class v{static findApplicableOverrides(e,r,i){if(e&&r){if(e.primitiveName){let s=!1;for(const r of i)if(r.primitiveName===e.primitiveName){s=!0;break}if(!s)for(const t of r)t.primitiveName===e.primitiveName&&i.push(t)}switch(e.type){case"CIMPointSymbol":case"CIMLineSymbol":case"CIMPolygonSymbol":if(e.effects)for(const s of e.effects)v.findApplicableOverrides(s,r,i);if(e.symbolLayers)for(const s of e.symbolLayers)v.findApplicableOverrides(s,r,i);break;case"CIMTextSymbol":break;case"CIMSolidStroke":case"CIMPictureStroke":case"CIMGradientStroke":case"CIMSolidFill":case"CIMPictureFill":case"CIMHatchFill":case"CIMGradientFill":case"CIMVectorMarker":case"CIMCharacterMarker":case"CIMPictureMarker":if(e.effects)for(const s of e.effects)v.findApplicableOverrides(s,r,i);if(e.markerPlacement&&v.findApplicableOverrides(e.markerPlacement,r,i),"CIMVectorMarker"===e.type){if(e.markerGraphics)for(const s of e.markerGraphics)v.findApplicableOverrides(s,r,i),v.findApplicableOverrides(s.symbol,r,i)}else"CIMCharacterMarker"===e.type?v.findApplicableOverrides(e.symbol,r,i):"CIMHatchFill"===e.type?v.findApplicableOverrides(e.lineSymbol,r,i):"CIMPictureMarker"===e.type&&v.findApplicableOverrides(e.animatedSymbolProperties,r,i)}}}static findEffectOverrides(e,r){if(!e)return null;if("CIMGeometricEffectDashes"===e.type&&(0,_utils_js__WEBPACK_IMPORTED_MODULE_5__.normalizeDashEffectTemplate)(e),!r||!e.primitiveName)return{type:"cim-effect-param",effect:e,overrides:[]};const i=(0,_utils_js__WEBPACK_IMPORTED_MODULE_5__.toLowerCaseProps)(e),s=e.primitiveName,t=[];for(const o of r)o.primitiveName===s&&t.push((0,_utils_js__WEBPACK_IMPORTED_MODULE_5__.toLowerCaseProps)(o));return{type:"cim-effect-param",effect:i,overrides:(0,_utils_js__WEBPACK_IMPORTED_MODULE_5__.normalizePrimitiveOverrideProps)(t)}}static async resolveSymbolOverrides(e,r,t,o,a,c,n){if(!e?.symbol)return null;let{symbol:p,primitiveOverrides:f}=e;const m=!!f;if(!m&&!o)return p;p=(0,_core_lang_js__WEBPACK_IMPORTED_MODULE_2__.clone)(p),f=(0,_core_lang_js__WEBPACK_IMPORTED_MODULE_2__.clone)(f);let y=!0;if(r||(r={attributes:{}},y=!1),m){if(y||(f=f.filter((e=>!e.valueExpressionInfo?.expression.includes("$feature")))),n||(f=f.filter((e=>!e.valueExpressionInfo?.expression.includes("$view")))),f.length>0){const e=(0,_utils_js__WEBPACK_IMPORTED_MODULE_5__.attributesToFields)(r.attributes),i={spatialReference:t,fields:e,geometryType:a};await v.createRenderExpressions(f,i),v.evaluateOverrides(f,r,a??"esriGeometryPoint",c,n,new _layers_support_FieldsIndex_js__WEBPACK_IMPORTED_MODULE_3__["default"](e))}v.applyOverrides(p,f)}return o&&v.applyDictionaryTextOverrides(p,r,o,null),p}static{this._expressionToRenderExpression=new Map}static async createRenderExpressions(e,r){const i=[];for(const s of e){const e=s.valueExpressionInfo;if(!e||v._expressionToRenderExpression.has(e.expression))continue;const o=(0,_support_ArcadeExpression_js__WEBPACK_IMPORTED_MODULE_4__.createRendererExpression)(e.expression,r.spatialReference);i.push(o),o.then((r=>v._expressionToRenderExpression.set(e.expression,r)))}i.length>0&&await Promise.all(i)}static evaluateOverrides(e,i,s,t,o,a){const c={$view:{scale:o?.scale}};for(const l of e){l.value&&"object"==typeof l.value&&(0,_core_colorUtils_js__WEBPACK_IMPORTED_MODULE_1__.isRGB)(l.value)&&("Color"===l.propertyName||"StrokeColor"===l.propertyName)&&(l.value=y(l.value));const e=l.valueExpressionInfo;if(!e)continue;const o=v._expressionToRenderExpression.get(e.expression);o&&(l.value=(0,_views_2d_arcade_callExpressionWithFeature_js__WEBPACK_IMPORTED_MODULE_6__["default"])(o,i,c,s,a,t))}}static applyDictionaryTextOverrides(e,r,i,s,t="Normal"){if(e?.type)switch(e.type){case"CIMPointSymbol":case"CIMLineSymbol":case"CIMPolygonSymbol":case"CIMTextSymbol":{const o=e.symbolLayers;if(!o)return;for(const a of o)a&&"CIMVectorMarker"===a.type&&v.applyDictionaryTextOverrides(a,r,i,s,"CIMTextSymbol"===e.type?e.textCase:t)}break;case"CIMVectorMarker":{const t=e.markerGraphics;if(!t)return;for(const e of t)e&&v.applyDictionaryTextOverrides(e,r,i,s)}break;case"CIMMarkerGraphic":{const o=e.textString;if(o&&o.includes("[")){const a=(0,_utils_js__WEBPACK_IMPORTED_MODULE_5__.analyzeTextParts)(o,i);e.textString=(0,_utils_js__WEBPACK_IMPORTED_MODULE_5__.assignTextValuesFromFeature)(r,a,s,t)}}}}static applyOverrides(e,r,i,s){if(e.primitiveName)for(const t of r)if(t.primitiveName===e.primitiveName){const r=(0,_utils_js__WEBPACK_IMPORTED_MODULE_5__.uncapitalize)(t.propertyName);if(s&&s.push({cim:e,nocapPropertyName:r,value:e[r]}),i){let r=!1;for(const s of i)s.primitiveName===e.primitiveName&&(r=!0);r||i.push(t)}null!=t.value&&(e[r]=t.value)}switch(e.type){case"CIMPointSymbol":case"CIMLineSymbol":case"CIMPolygonSymbol":if(e.effects)for(const t of e.effects)v.applyOverrides(t,r,i,s);if(e.symbolLayers)for(const t of e.symbolLayers)v.applyOverrides(t,r,i,s);break;case"CIMTextSymbol":break;case"CIMSolidStroke":case"CIMSolidFill":case"CIMVectorMarker":if(e.effects)for(const t of e.effects)v.applyOverrides(t,r,i,s);if("CIMVectorMarker"===e.type&&e.markerGraphics)for(const t of e.markerGraphics)v.applyOverrides(t,r,i,s),v.applyOverrides(t.symbol,r,i,s)}}static restoreOverrides(e){for(const r of e)r.cim[r.nocapPropertyName]=r.value}static buildOverrideKey(e){let r="";for(const i of e)void 0!==i.value&&(r+=`${i.primitiveName}${i.propertyName}${JSON.stringify(i.value)}`);return r}static toValue(r,i){if("DashTemplate"===r)return i.split(" ").map((e=>Number(e)));if("Color"===r){const r=new _Color_js__WEBPACK_IMPORTED_MODULE_0__["default"](i).toRgba();return r[3]*=255,r}return i}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/arcade/callExpressionWithFeature.js":
/*!********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/arcade/callExpressionWithFeature.js ***!
  \********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ s)
/* harmony export */ });
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _geometry_support_quantizationUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../geometry/support/quantizationUtils.js */ "./node_modules/@arcgis/core/geometry/support/quantizationUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
function s(e,t,o,n,a,s){if(null==e)return null;const u=e.references("geometry")&&s?i(t,n,s):t,c=e.repurposeFeature(u,a);try{return e.evaluate(c,o)}catch(m){return _core_Logger_js__WEBPACK_IMPORTED_MODULE_1__["default"].getLogger("esri.views.2d.support.arcadeOnDemand").warn("Feature arcade evaluation failed:",m),null}}const u=new Map;function i(e,r,t){const{transform:o,hasZ:n,hasM:a}=t;u.has(r)||u.set(r,c(r));const s=u.get(r)(e.geometry,o,n,a);return{...e,geometry:s}}function c(s){const u={};switch(s){case"esriGeometryPoint":return(e,r,t,o)=>(0,_geometry_support_quantizationUtils_js__WEBPACK_IMPORTED_MODULE_2__.unquantizePoint)(r,u,e,t,o);case"esriGeometryPolygon":return(e,r,t,o)=>(0,_geometry_support_quantizationUtils_js__WEBPACK_IMPORTED_MODULE_2__.unquantizePolygon)(r,u,e,t,o);case"esriGeometryPolyline":return(e,r,t,n)=>(0,_geometry_support_quantizationUtils_js__WEBPACK_IMPORTED_MODULE_2__.unquantizePolyline)(r,u,e,t,n);case"esriGeometryMultipoint":return(e,r,o,n)=>(0,_geometry_support_quantizationUtils_js__WEBPACK_IMPORTED_MODULE_2__.unquantizeMultipoint)(r,u,e,o,n);default:return _core_Logger_js__WEBPACK_IMPORTED_MODULE_1__["default"].getLogger("esri.views.2d.support.arcadeOnDemand").error(new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("mapview-arcade",`Unable to handle geometryType: ${s}`)),e=>e}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/engine/webgl/shaderGraph/techniques/createGraphicSymbolMeshSchemas.js":
/*!******************************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/webgl/shaderGraph/techniques/createGraphicSymbolMeshSchemas.js ***!
  \******************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   createGraphicSymbolMeshSchemas: () => (/* binding */ u)
/* harmony export */ });
/* harmony import */ var _layers_features_schema_processor_VisualVariablesSchema_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../layers/features/schema/processor/VisualVariablesSchema.js */ "./node_modules/@arcgis/core/views/2d/layers/features/schema/processor/VisualVariablesSchema.js");
/* harmony import */ var _layers_features_schema_processor_symbols_ComplexSymbolSchema_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../layers/features/schema/processor/symbols/ComplexSymbolSchema.js */ "./node_modules/@arcgis/core/views/2d/layers/features/schema/processor/symbols/ComplexSymbolSchema.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
async function u(u,f,k){const b=[],d={scaleInfo:(0,_layers_features_schema_processor_symbols_ComplexSymbolSchema_js__WEBPACK_IMPORTED_MODULE_1__.getScaleInfo)(u),scaleExpression:null};for(const s of f)switch(s.type){case"marker":if(s.animationParams){if(s.animationParams.params.hasShiftAnimation){b.push(...(0,_layers_features_schema_processor_symbols_ComplexSymbolSchema_js__WEBPACK_IMPORTED_MODULE_1__.createAnimatedMarkerMeshInfos)(k.instances.animatedMarkerShift,s,_layers_features_schema_processor_VisualVariablesSchema_js__WEBPACK_IMPORTED_MODULE_0__.noVisualVariables,d));break}b.push(...(0,_layers_features_schema_processor_symbols_ComplexSymbolSchema_js__WEBPACK_IMPORTED_MODULE_1__.createAnimatedMarkerMeshInfos)(k.instances.animatedMarker,s,_layers_features_schema_processor_VisualVariablesSchema_js__WEBPACK_IMPORTED_MODULE_0__.noVisualVariables,d));break}b.push(...(0,_layers_features_schema_processor_symbols_ComplexSymbolSchema_js__WEBPACK_IMPORTED_MODULE_1__.createComplexMarkerMeshInfos)(k.instances.marker,s,_layers_features_schema_processor_VisualVariablesSchema_js__WEBPACK_IMPORTED_MODULE_0__.noVisualVariables,d));break;case"fill":if(s.animationParams){b.push(...(0,_layers_features_schema_processor_symbols_ComplexSymbolSchema_js__WEBPACK_IMPORTED_MODULE_1__.createAnimatedPolyMeshInfos)(k.instances.animatedPolygon,s,_layers_features_schema_processor_VisualVariablesSchema_js__WEBPACK_IMPORTED_MODULE_0__.noVisualVariables,d));break}null==s.spriteRasterizationParam?b.push(...(0,_layers_features_schema_processor_symbols_ComplexSymbolSchema_js__WEBPACK_IMPORTED_MODULE_1__.createComplexSimpleFillMeshInfos)(k.instances.fill,s,d)):b.push(...(0,_layers_features_schema_processor_symbols_ComplexSymbolSchema_js__WEBPACK_IMPORTED_MODULE_1__.createComplexFillMeshInfos)(k.instances.complexFill,s,!1,d));break;case"line":if(s.animationParams){if(s.animationParams.params.hasShiftAnimation){b.push(...(0,_layers_features_schema_processor_symbols_ComplexSymbolSchema_js__WEBPACK_IMPORTED_MODULE_1__.createAnimatedPolyMeshInfos)(k.instances.animatedPolylineShift,s,_layers_features_schema_processor_VisualVariablesSchema_js__WEBPACK_IMPORTED_MODULE_0__.noVisualVariables,d));break}b.push(...(0,_layers_features_schema_processor_symbols_ComplexSymbolSchema_js__WEBPACK_IMPORTED_MODULE_1__.createAnimatedPolyMeshInfos)(k.instances.animatedPolyline,s,_layers_features_schema_processor_VisualVariablesSchema_js__WEBPACK_IMPORTED_MODULE_0__.noVisualVariables,d));break}s.spriteRasterizationParam?b.push(...(0,_layers_features_schema_processor_symbols_ComplexSymbolSchema_js__WEBPACK_IMPORTED_MODULE_1__.createComplexTexturedLineMeshInfos)(k.instances.texturedLine,s,!1,d)):b.push(...(0,_layers_features_schema_processor_symbols_ComplexSymbolSchema_js__WEBPACK_IMPORTED_MODULE_1__.createComplexSimpleLineMeshInfos)(k.instances.line,s,!1,d));break;case"text":b.push(...(0,_layers_features_schema_processor_symbols_ComplexSymbolSchema_js__WEBPACK_IMPORTED_MODULE_1__.createComplexTextMeshInfos)(k.instances.text,s,_layers_features_schema_processor_VisualVariablesSchema_js__WEBPACK_IMPORTED_MODULE_0__.noVisualVariables,d));break;case"gradientFill":b.push(...(0,_layers_features_schema_processor_symbols_ComplexSymbolSchema_js__WEBPACK_IMPORTED_MODULE_1__.createGradientFillMeshInfos)(k.instances.gradientFill,s,d));break;case"gradientStroke":b.push(...(0,_layers_features_schema_processor_symbols_ComplexSymbolSchema_js__WEBPACK_IMPORTED_MODULE_1__.createGradientStrokeMeshInfos)(k.instances.gradientStroke,s,d));break;case"outlineFill":b.push(...(0,_layers_features_schema_processor_symbols_ComplexSymbolSchema_js__WEBPACK_IMPORTED_MODULE_1__.createComplexSimpleOutlineFillMeshInfos)(k.instances.outlineFill,s,d))}return b}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/features/support/GraphicsReader.js":
/*!**************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/features/support/GraphicsReader.js ***!
  \**************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   GraphicsReader: () => (/* binding */ a)
/* harmony export */ });
/* harmony import */ var _geometry_support_centroid_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../geometry/support/centroid.js */ "./node_modules/@arcgis/core/geometry/support/centroid.js");
/* harmony import */ var _geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../geometry/support/jsonUtils.js */ "./node_modules/@arcgis/core/geometry/support/jsonUtils.js");
/* harmony import */ var _layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../layers/graphics/featureConversionUtils.js */ "./node_modules/@arcgis/core/layers/graphics/featureConversionUtils.js");
/* harmony import */ var _layers_graphics_OptimizedGeometry_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../layers/graphics/OptimizedGeometry.js */ "./node_modules/@arcgis/core/layers/graphics/OptimizedGeometry.js");
/* harmony import */ var _engine_webgl_definitions_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../engine/webgl/definitions.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/definitions.js");
/* harmony import */ var _FeatureSetReader_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./FeatureSetReader.js */ "./node_modules/@arcgis/core/views/2d/layers/features/support/FeatureSetReader.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
class a extends _FeatureSetReader_js__WEBPACK_IMPORTED_MODULE_5__.FeatureSetReader{static from(t,e,r){return new a(t,e,r)}constructor(t,e,r){super(r),this._items=t,this._tile=e,this._index=-1,this._cachedGeometry=null;const s=e.lod;s.wrap&&(this._wrappingInfo={worldSizeX:s.worldSize[0]})}get _current(){return this._items[this._index]}getItem(){return this._current}getZOrder(){return this._current.zOrder}getMeshWriters(){return this._current.symbolResource?.symbolInfo.meshWriters??[]}hasField(t){return null!=this._current.attributes[t]}field(t){return this.readAttribute(t)}get geometryType(){const t=(0,_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_1__.getJsonType)(this._current.geometry);return"esriGeometryPoint"===t?"esriGeometryMultipoint":t}getCursor(){return this.copy()}copy(){const t=new a(this._items,this._tile,this.metadata);return this.copyInto(t),t}copyInto(t){super.copyInto(t),t._cachedGeometry=this._cachedGeometry,t._index=this._index}get fields(){throw new Error("Fields reading not supported to graphics.")}get hasFeatures(){return!!this._items.length}get hasNext(){return this._index+1<this._items.length}get exceededTransferLimit(){throw new Error("InternalError: exceededTransferLimit not implemented for graphics.")}get hasZ(){return!1}get hasM(){return!1}get usedMemory(){return this._current.usedMemory}getInTransform(){return this._tile.transform}getSize(){return this._items.length}getAttributeHash(){let t="";for(const e in this._current.attributes)t+=this._current.attributes[e];return t}getObjectId(){return this._items[this._index].objectId}getDisplayId(){return this._current.displayId}setDisplayId(t){throw new Error("InternalError: Setting displayId not supported for graphics.")}setIndex(t){this._index=t}getIndex(){return this._index}next(){for(this._cachedGeometry=null;++this._index<this._items.length&&!this._getExists(););return this._index<this._items.length}readGeometryArea(){throw new Error("InternalError: readGeometryArea not supported for graphics.")}_readGeometry(){if(!this._cachedGeometry){let t=(0,_layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_2__.convertFromGeometry)(this._current.projectedGeometry,this.hasZ,this.hasM);if("esriGeometryPolyline"===this.geometryType&&(t=(0,_layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_2__.generalizeOptimizedGeometry)(new _layers_graphics_OptimizedGeometry_js__WEBPACK_IMPORTED_MODULE_3__["default"],t,this.hasZ,this.hasM,this.geometryType,this._tile.transform.scale[0])),this._cachedGeometry=(0,_layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_2__.quantizeOptimizedGeometry)(new _layers_graphics_OptimizedGeometry_js__WEBPACK_IMPORTED_MODULE_3__["default"],t,this.hasZ,this.hasM,this.geometryType,this._tile.transform),!this._cachedGeometry)return null;this._wrapGeometry(this._cachedGeometry)}return this._cachedGeometry}_wrapGeometry(t){if(!this._wrappingInfo)return;const{worldSizeX:e}=this._wrappingInfo;if(t.isPoint)return 1===e?(t.coords.push(_engine_webgl_definitions_js__WEBPACK_IMPORTED_MODULE_4__.tileSize,0),t.coords.push(-1024,0),void t.lengths.push(3)):2===e?(t.coords.push(2*_engine_webgl_definitions_js__WEBPACK_IMPORTED_MODULE_4__.tileSize,0),t.coords.push(-2048,0),void t.lengths.push(3)):void this._wrapVertex(t.coords,0,2,e);if("esriGeometryMultipoint"!==this.geometryType);else{if(1===e){const e=t.coords.slice();e[0]-=512;const r=t.coords.slice();r[0]+=512,t.coords.push(...e,...r);const s=t.lengths[0];return void t.lengths.push(s,s)}this._wrapVertex(t.coords,0,2,e)}}_wrapVertex(t,e,r,s){const i=e*r,o=t[i];o<-_engine_webgl_definitions_js__WEBPACK_IMPORTED_MODULE_4__.tileSize*(s-2)?t[i]=o+_engine_webgl_definitions_js__WEBPACK_IMPORTED_MODULE_4__.tileSize*s:o>_engine_webgl_definitions_js__WEBPACK_IMPORTED_MODULE_4__.tileSize*(s-1)&&(t[i]=o-_engine_webgl_definitions_js__WEBPACK_IMPORTED_MODULE_4__.tileSize*s)}_readX(){const t=this._readGeometry();return null!=t?t.coords[0]:0}_readY(){const t=this._readGeometry();return null!=t?t.coords[1]:0}_readServerCentroid(){switch(this.geometryType){case"esriGeometryPolygon":{const t=(0,_geometry_support_centroid_js__WEBPACK_IMPORTED_MODULE_0__.polygonCentroid)(this._current.projectedGeometry),r=new _layers_graphics_OptimizedGeometry_js__WEBPACK_IMPORTED_MODULE_3__["default"]([],t);return (0,_layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_2__.quantizeOptimizedGeometry)(new _layers_graphics_OptimizedGeometry_js__WEBPACK_IMPORTED_MODULE_3__["default"],r,this.hasZ,this.hasM,this.geometryType,this._tile.transform)}case"esriGeometryPolyline":{const e=this._current.projectedGeometry,r=(0,_geometry_support_centroid_js__WEBPACK_IMPORTED_MODULE_0__.ringsCentroid)(e.paths,this.hasZ),s=new _layers_graphics_OptimizedGeometry_js__WEBPACK_IMPORTED_MODULE_3__["default"]([],r);return (0,_layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_2__.quantizeOptimizedGeometry)(new _layers_graphics_OptimizedGeometry_js__WEBPACK_IMPORTED_MODULE_3__["default"],s,this.hasZ,this.hasM,this.geometryType,this._tile.transform)}}return null}_readAttribute(t,e){const r=this._current.attributes[t];if(void 0!==r)return r;const s=t.toLowerCase();for(const i in this._current.attributes)if(i.toLowerCase()===s)return this._current.attributes[i]}_readAttributes(){return this._current.attributes}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/graphics/GraphicStore.js":
/*!****************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/graphics/GraphicStore.js ***!
  \****************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ y)
/* harmony export */ });
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_screenUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/screenUtils.js */ "./node_modules/@arcgis/core/core/screenUtils.js");
/* harmony import */ var _chunks_rbush_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../chunks/rbush.js */ "./node_modules/@arcgis/core/chunks/rbush.js");
/* harmony import */ var _geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../geometry/support/aaBoundingRect.js */ "./node_modules/@arcgis/core/geometry/support/aaBoundingRect.js");
/* harmony import */ var _geometry_support_normalizeUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../geometry/support/normalizeUtils.js */ "./node_modules/@arcgis/core/geometry/support/normalizeUtils.js");
/* harmony import */ var _geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../geometry/support/spatialReferenceUtils.js */ "./node_modules/@arcgis/core/geometry/support/spatialReferenceUtils.js");
/* harmony import */ var _symbols_cim_CIMSymbolDrawHelper_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../symbols/cim/CIMSymbolDrawHelper.js */ "./node_modules/@arcgis/core/symbols/cim/CIMSymbolDrawHelper.js");
/* harmony import */ var _symbols_cim_CIMSymbolHelper_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../symbols/cim/CIMSymbolHelper.js */ "./node_modules/@arcgis/core/symbols/cim/CIMSymbolHelper.js");
/* harmony import */ var _engine_webgl_definitions_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../engine/webgl/definitions.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/definitions.js");
/* harmony import */ var _GraphicStoreItem_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./GraphicStoreItem.js */ "./node_modules/@arcgis/core/views/2d/layers/graphics/GraphicStoreItem.js");
/* harmony import */ var _graphicsUtils_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./graphicsUtils.js */ "./node_modules/@arcgis/core/views/2d/layers/graphics/graphicsUtils.js");
/* harmony import */ var _GraphicUpdateMessage_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./GraphicUpdateMessage.js */ "./node_modules/@arcgis/core/views/2d/layers/graphics/GraphicUpdateMessage.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
const p=1e-5;function _(e,t){return t.zOrder-e.zOrder}class y{constructor(e,t,s,o,i){this._items=new Map,this._boundsDirty=!1,this._outSpatialReference=e,this._cimResourceManager=t,this._hittestDrawHelper=new _symbols_cim_CIMSymbolDrawHelper_js__WEBPACK_IMPORTED_MODULE_6__.HittestDrawHelper(t),this._tileInfoView=s,this._store=i;const r=s.getClosestInfoForScale(o);this._resolution=this._tileInfoView.getTileResolution(r.level)}destroy(){this._hittestDrawHelper.destroy()}items(){return this._items.values()}getItem(e){return this._items.get(e)}async update(e,t,s){const o=[],i=[],r=[],n=new Set,m=[];let l=0;for(const a of e.items){l++;const e=a.uid,r=this._items.get(e),u=t(a);if(n.add(e),r){const e=r.update(a,u,l),t=r.updateDensificationResolution(this._resolution);e&&m.push(this._updateItem(r,s)),(e||t)&&i.push(r);continue}const h=this._store.createDisplayIdForObjectId(e),d=_GraphicStoreItem_js__WEBPACK_IMPORTED_MODULE_9__.GraphicStoreItem.fromGraphic(a,u,l,h);d.updateDensificationResolution(this._resolution),m.push(this._updateItem(d,s)),this._items.set(d.objectId,d),o.push(d)}for(const[a,u]of this._items.entries())n.has(a)||(this._store.releaseDisplayIdForObjectId(a),this._items.delete(a),r.push(u));return await Promise.all(m),this._index=null,new _GraphicUpdateMessage_js__WEBPACK_IMPORTED_MODULE_11__.GraphicUpdateMessage(o,i,r)}updateLevel(e){if(this._resolution===e)return!1;this._index=null,this._boundsDirty=!0,this._resolution=e;for(const t of this.items())if(t.hasCurvedGeoemtry)return!0;return!1}hitTest(e,t,i,n,m){const l=(0,_core_has_js__WEBPACK_IMPORTED_MODULE_0__["default"])("esri-mobile"),c=l?_engine_webgl_definitions_js__WEBPACK_IMPORTED_MODULE_8__.hittestToleranceMobile:_engine_webgl_definitions_js__WEBPACK_IMPORTED_MODULE_8__.hittestToleranceDesktop,f=c+(l?0:_engine_webgl_definitions_js__WEBPACK_IMPORTED_MODULE_8__.hittestToleranceSmallSymbol);e=(0,_geometry_support_normalizeUtils_js__WEBPACK_IMPORTED_MODULE_4__.normalizeMapX)(e,this._tileInfoView.spatialReference);const p=n*window.devicePixelRatio*f,y=(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_3__.create)();y[0]=e-p,y[1]=t-p,y[2]=e+p,y[3]=t+p;const b=n*window.devicePixelRatio*c,I=(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_3__.create)();I[0]=e-b,I[1]=t-b,I[2]=e+b,I[3]=t+b;const g=.5*n*(f+_graphicsUtils_js__WEBPACK_IMPORTED_MODULE_10__.pixelBuffer),w=this._searchIndex(e-g,t-g,e+g,t+g);if(!w||0===w.length)return[];const x=[],j=(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_3__.create)(),R=(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_3__.create)();for(const s of w){if(!s.visible)continue;const{geometryBounds:e,symbolResource:t}=s;this._getSymbolBounds(j,t,e,R,m),R[3]=R[2]=R[1]=R[0]=0,(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_3__.intersects)(j,y)&&x.push(s)}if(0===x.length)return[];const S=this._hittestDrawHelper,B=[];for(const s of x){const{projectedGeometry:e,symbolResource:t}=s;if(!t)continue;const{textInfo:o,symbolInfo:i}=t,r=i.cimSymbol;S.hitTest(I,r.symbol,e,o,m,n)&&B.push(s)}return B.sort(_),B.map((e=>e.objectId))}queryItems(e){return 0===this._items.size?[]:this._searchForItems(e)}clear(){this._items.clear(),this._index=null}async _updateItem(e,t){await e.projectAndNormalize(this._outSpatialReference),await t(e);const{size:s}=e;s[0]=s[1]=s[2]=s[3]=0,this._getSymbolBounds(e.symbolBounds,e.symbolResource,e.geometryBounds,e.size,0)}_searchIndex(e,s,o,i){return this._boundsDirty&&(this._items.forEach((e=>this._getSymbolBounds(e.symbolBounds,e.symbolResource,e.geometryBounds,e.size,0))),this._boundsDirty=!1),this._index||(this._index=(0,_chunks_rbush_js__WEBPACK_IMPORTED_MODULE_2__.r)(9,(e=>({minX:e.symbolBounds[0],minY:e.symbolBounds[1],maxX:e.symbolBounds[2],maxY:e.symbolBounds[3]}))),this._index.load(Array.from(this._items.values()))),this._index.search({minX:e,minY:s,maxX:o,maxY:i})}_searchForItems(e){const t=this._tileInfoView.spatialReference,o=e.bounds,i=(0,_geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_5__.getInfo)(t);if(i&&t.isWrappable){const[t,r]=i.valid,n=Math.abs(o[2]-r)<p,m=Math.abs(o[0]-t)<p;if((!n||!m)&&(n||m)){const i=e.resolution;let m;m=(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_3__.create)(n?[t,o[1],t+i*_graphicsUtils_js__WEBPACK_IMPORTED_MODULE_10__.pixelBuffer,o[3]]:[r-i*_graphicsUtils_js__WEBPACK_IMPORTED_MODULE_10__.pixelBuffer,o[1],r,o[3]]);const l=this._searchIndex(o[0],o[1],o[2],o[3]),a=this._searchIndex(m[0],m[1],m[2],m[3]);return[...new Set([...l,...a])]}}return this._searchIndex(o[0],o[1],o[2],o[3])}_getSymbolBounds(t,o,r,n,m){if(!o||!o.symbolInfo.linearCIM)return null;if(t||(t=(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_3__.create)()),(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_3__.copy)(t,r),!n||0===n[0]&&0===n[1]&&0===n[2]&&0===n[3]){const{textInfo:t,symbolInfo:s}=o,i=s.cimSymbol;n||(n=[0,0,0,0]);const r=_symbols_cim_CIMSymbolHelper_js__WEBPACK_IMPORTED_MODULE_7__.CIMSymbolInflatedSizeHelper.getSymbolInflateSize(n,i.symbol,this._cimResourceManager,m,t);n[0]=(0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_1__.pt2px)(r[0]),n[1]=(0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_1__.pt2px)(r[1]),n[2]=(0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_1__.pt2px)(r[2]),n[3]=(0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_1__.pt2px)(r[3])}const a=this._resolution,u=_symbols_cim_CIMSymbolHelper_js__WEBPACK_IMPORTED_MODULE_7__.CIMSymbolInflatedSizeHelper.safeSize(n);return t[0]-=u*a,t[1]-=u*a,t[2]+=u*a,t[3]+=u*a,t}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/graphics/GraphicStoreItem.js":
/*!********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/graphics/GraphicStoreItem.js ***!
  \********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   GraphicStoreItem: () => (/* binding */ v)
/* harmony export */ });
/* harmony import */ var _core_memoryEstimations_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/memoryEstimations.js */ "./node_modules/@arcgis/core/core/memoryEstimations.js");
/* harmony import */ var _geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../geometry/support/aaBoundingRect.js */ "./node_modules/@arcgis/core/geometry/support/aaBoundingRect.js");
/* harmony import */ var _geometry_support_boundsUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../geometry/support/boundsUtils.js */ "./node_modules/@arcgis/core/geometry/support/boundsUtils.js");
/* harmony import */ var _geometry_support_coordsUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../geometry/support/coordsUtils.js */ "./node_modules/@arcgis/core/geometry/support/coordsUtils.js");
/* harmony import */ var _geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../geometry/support/jsonUtils.js */ "./node_modules/@arcgis/core/geometry/support/jsonUtils.js");
/* harmony import */ var _geometry_support_normalizeUtilsSync_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../geometry/support/normalizeUtilsSync.js */ "./node_modules/@arcgis/core/geometry/support/normalizeUtilsSync.js");
/* harmony import */ var _geometry_support_curves_curveUtils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../geometry/support/curves/curveUtils.js */ "./node_modules/@arcgis/core/geometry/support/curves/curveUtils.js");
/* harmony import */ var _geometry_support_curves_densifyCurvedGeometry_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../geometry/support/curves/densifyCurvedGeometry.js */ "./node_modules/@arcgis/core/geometry/support/curves/densifyCurvedGeometry.js");
/* harmony import */ var _layers_graphics_dehydratedFeatures_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../layers/graphics/dehydratedFeatures.js */ "./node_modules/@arcgis/core/layers/graphics/dehydratedFeatures.js");
/* harmony import */ var _layers_graphics_data_projectionSupport_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../layers/graphics/data/projectionSupport.js */ "./node_modules/@arcgis/core/layers/graphics/data/projectionSupport.js");
/* harmony import */ var _densificationConstants_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./densificationConstants.js */ "./node_modules/@arcgis/core/views/2d/layers/graphics/densificationConstants.js");
/* harmony import */ var _graphicsUtils_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./graphicsUtils.js */ "./node_modules/@arcgis/core/views/2d/layers/graphics/graphicsUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
class v{static fromGraphic(t,e,i,s){return new v(t.geometry,e,t.attributes,t.visible,t.uid,t.version,i,s)}constructor(t,i,s,r,o,n,m,a){this.geometry=t,this.symbol=i,this.attributes=s,this.visible=r,this.objectId=o,this._version=n,this.zOrder=m,this.displayId=a,this.symbolBounds=(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_1__.empty)(),this.prevSymbolBounds=(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_1__.empty)(),this.size=[0,0,0,0],this.geometryBounds=(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_1__.empty)(),this._isDensificationDirty=!1,this._densificationDeviation=1/0}get projectedGeometry(){return this._projectedGeometry}get linearCIM(){return this.symbolResource?.symbolInfo.linearCIM}get usedMemory(){return 128+(0,_core_memoryEstimations_js__WEBPACK_IMPORTED_MODULE_0__.estimateAttributesMemory)(this.attributes)+(0,_layers_graphics_dehydratedFeatures_js__WEBPACK_IMPORTED_MODULE_8__.estimateGeometryMemory)(this.geometry)}get hasAnimations(){const{linearCIM:t}=this;return!!t&&t.some((t=>"animationParams"in t&&!!t.animationParams))}get hasCurvedGeoemtry(){return null!=this.geometry&&"mesh"!==this.geometry.type&&(0,_geometry_support_curves_curveUtils_js__WEBPACK_IMPORTED_MODULE_6__.isCurvedGeometry)(this.geometry)}update(t,i,s){return(this._version!==t.version||this.zOrder!==s||this.symbol!==i)&&(this.prevSymbolBounds=this.symbolBounds,this.symbolBounds=(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_1__.empty)(),this.zOrder=s,this.geometry=t.geometry,this.attributes=t.attributes,this.symbol=i,this.visible=t.visible,this._version=t.version,this.symbolResource=null,this._projectedGeometry=null,(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_1__.empty)(this.geometryBounds),this._minDensificationDeviation=null,this._isDensificationDirty=!0,!0)}updateDensificationResolution(t){if(!this.hasCurvedGeoemtry)return!1;const e=Math.max(D(t),this._minDensificationDeviation??0);return e!==this._densificationDeviation&&(this._densificationDeviation=e,this._isDensificationDirty=!0,!0)}async projectAndNormalize(t){let e,o=this.geometry;if(o&&o.spatialReference&&"mesh"!==o.type&&("extent"===o.type&&(o=(0,_graphicsUtils_js__WEBPACK_IMPORTED_MODULE_11__.polygonFromExtent)(o)),e=(0,_geometry_support_curves_curveUtils_js__WEBPACK_IMPORTED_MODULE_6__.isCurvedGeometry)(o)?(0,_geometry_support_curves_densifyCurvedGeometry_js__WEBPACK_IMPORTED_MODULE_7__.densifyCurvedGeometry)(o,{maxSegmentLength:1/0,minSegmentsPerCurve:(0,_densificationConstants_js__WEBPACK_IMPORTED_MODULE_10__.getCoarseSegmentsPerCurve)()}):o.toJSON(),this._projectedGeometry=await j(e,o.spatialReference,t),(0,_geometry_support_boundsUtils_js__WEBPACK_IMPORTED_MODULE_2__.getBoundsXY)(this.geometryBounds,this._projectedGeometry),this.hasCurvedGeoemtry&&null!=this._projectedGeometry)){const t=(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_1__.width)(this.geometryBounds),e=(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_1__.height)(this.geometryBounds);this._minDensificationDeviation=b(t,e)}}async densifyCurvedGeometryForDisplay(t){if(!this.hasCurvedGeoemtry||!this._isDensificationDirty)return;this._isDensificationDirty=!1;const e=this.geometry;if(!e||!e.spatialReference||"mesh"===e.type)return;const i=t.metersPerUnit/e.spatialReference.metersPerUnit,s=this._densificationDeviation*i,r=(0,_geometry_support_curves_densifyCurvedGeometry_js__WEBPACK_IMPORTED_MODULE_7__.densifyCurvedGeometry)(e,{maxDeviation:s,minSegmentsPerCurve:(0,_densificationConstants_js__WEBPACK_IMPORTED_MODULE_10__.getMinSegmentsPerCurve)()});this._projectedGeometry=await j(r,e.spatialReference,t)}}async function j(t,e,i){await (0,_layers_graphics_data_projectionSupport_js__WEBPACK_IMPORTED_MODULE_9__.checkProjectionSupport)(t.spatialReference,i);const s=(0,_geometry_support_normalizeUtilsSync_js__WEBPACK_IMPORTED_MODULE_5__.normalizeCentralMeridianForDisplay)(t);if(!s)return;const r=(0,_layers_graphics_data_projectionSupport_js__WEBPACK_IMPORTED_MODULE_9__.project)(s,e,i);return r&&(0,_geometry_support_coordsUtils_js__WEBPACK_IMPORTED_MODULE_3__.closeRingsAndFixWinding)(r),(0,_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_4__.isExtent)(r)?(0,_graphicsUtils_js__WEBPACK_IMPORTED_MODULE_11__.polygonFromExtent)(r):r}function D(t){return 2**Math.round(Math.log2(t))*(0,_densificationConstants_js__WEBPACK_IMPORTED_MODULE_10__.getMaxDeviationInPixels)()}function b(t,e){if(t>0&&e>0){const i=Math.min(t,e)/2,s=2*Math.PI/(0,_densificationConstants_js__WEBPACK_IMPORTED_MODULE_10__.getApproximateMaxDensificationSegments)();return i*(1-Math.cos(s/2))}return null}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/graphics/GraphicUpdateMessage.js":
/*!************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/graphics/GraphicUpdateMessage.js ***!
  \************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   GraphicUpdateMessage: () => (/* binding */ t)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
class t{constructor(t,e,d){this.added=t,this.updated=e,this.removed=d}hasAnyUpdate(){return!!(this.added.length||this.updated.length||this.removed.length)}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/graphics/GraphicsView2D.js":
/*!******************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/graphics/GraphicsView2D.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ O)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/Accessor.js */ "./node_modules/@arcgis/core/core/Accessor.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_Identifiable_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../core/Identifiable.js */ "./node_modules/@arcgis/core/core/Identifiable.js");
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../core/maybe.js */ "./node_modules/@arcgis/core/core/maybe.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../core/reactiveUtils.js */ "./node_modules/@arcgis/core/core/reactiveUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../geometry/support/aaBoundingRect.js */ "./node_modules/@arcgis/core/geometry/support/aaBoundingRect.js");
/* harmony import */ var _geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../../geometry/support/jsonUtils.js */ "./node_modules/@arcgis/core/geometry/support/jsonUtils.js");
/* harmony import */ var _layers_support_FieldsIndex_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../../layers/support/FieldsIndex.js */ "./node_modules/@arcgis/core/layers/support/FieldsIndex.js");
/* harmony import */ var _symbols_cim_CIMSymbolHelper_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../../symbols/cim/CIMSymbolHelper.js */ "./node_modules/@arcgis/core/symbols/cim/CIMSymbolHelper.js");
/* harmony import */ var _symbols_cim_OverrideHelper_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../../symbols/cim/OverrideHelper.js */ "./node_modules/@arcgis/core/symbols/cim/OverrideHelper.js");
/* harmony import */ var _symbols_support_defaults_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../../../symbols/support/defaults.js */ "./node_modules/@arcgis/core/symbols/support/defaults.js");
/* harmony import */ var _engine_webgl_definitions_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../engine/webgl/definitions.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/definitions.js");
/* harmony import */ var _engine_webgl_FeatureTile_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../engine/webgl/FeatureTile.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/FeatureTile.js");
/* harmony import */ var _engine_webgl_mesh_MeshData_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../engine/webgl/mesh/MeshData.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/mesh/MeshData.js");
/* harmony import */ var _engine_webgl_mesh_factories_ResourceProxy_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../../engine/webgl/mesh/factories/ResourceProxy.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/mesh/factories/ResourceProxy.js");
/* harmony import */ var _engine_webgl_shaderGraph_techniques_createGraphicSymbolMeshSchemas_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../../engine/webgl/shaderGraph/techniques/createGraphicSymbolMeshSchemas.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/shaderGraph/techniques/createGraphicSymbolMeshSchemas.js");
/* harmony import */ var _features_schema_processor_StorageSchema_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../features/schema/processor/StorageSchema.js */ "./node_modules/@arcgis/core/views/2d/layers/features/schema/processor/StorageSchema.js");
/* harmony import */ var _features_support_AttributeStore_js__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../features/support/AttributeStore.js */ "./node_modules/@arcgis/core/views/2d/layers/features/support/AttributeStore.js");
/* harmony import */ var _features_support_ComputedAttributeStorage_js__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ../features/support/ComputedAttributeStorage.js */ "./node_modules/@arcgis/core/views/2d/layers/features/support/ComputedAttributeStorage.js");
/* harmony import */ var _features_support_FeatureMetadata_js__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ../features/support/FeatureMetadata.js */ "./node_modules/@arcgis/core/views/2d/layers/features/support/FeatureMetadata.js");
/* harmony import */ var _features_support_GraphicsReader_js__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ../features/support/GraphicsReader.js */ "./node_modules/@arcgis/core/views/2d/layers/features/support/GraphicsReader.js");
/* harmony import */ var _GraphicStore_js__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ./GraphicStore.js */ "./node_modules/@arcgis/core/views/2d/layers/graphics/GraphicStore.js");
/* harmony import */ var _support_FeatureCommandQueue_js__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ../support/FeatureCommandQueue.js */ "./node_modules/@arcgis/core/views/2d/layers/support/FeatureCommandQueue.js");
/* harmony import */ var _support_UpdateTracking2D_js__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ../support/UpdateTracking2D.js */ "./node_modules/@arcgis/core/views/2d/layers/support/UpdateTracking2D.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
class F{static getOrCreate(e,t,s){let r=t.get(e.id);return r||(r=new F(e,s),t.set(e.id,r)),r}static fromItems(e,t,s){const r=new F(e,s);for(const i of t)r.append(i);return r}constructor(e,t){this.tile=e,this.metadata=t,this.addedOrModified=[],this.removed=[],this.objectIdMap=null}get reader(){return this._reader||(this._reader=_features_support_GraphicsReader_js__WEBPACK_IMPORTED_MODULE_26__.GraphicsReader.from(this.addedOrModified,this.tile,this.metadata)),this._reader}append(e){this.addedOrModified.push(e),e.hasAnimations&&(this.objectIdMap=this.objectIdMap||{},this.objectIdMap[e.displayId]=e.objectId)}}let O=class extends(_core_Identifiable_js__WEBPACK_IMPORTED_MODULE_4__["default"].IdentifiableMixin(_core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__["default"])){constructor(e){super(e),this._attached=!1,this._tiles=new Map,this._controller=new AbortController,this._hashToSymbolInfo=new Map,this._lastCleanup=performance.now(),this._cleanupRequired=!0,this.lastUpdateId=-1,this.renderer=null,this._updateTracking=new _support_UpdateTracking2D_js__WEBPACK_IMPORTED_MODULE_29__.UpdateTracking2D({debugName:"GraphicsView2D"}),this.updateRequested=!1,this.defaultPointSymbolEnabled=!0,this._commandQueue=new _support_FeatureCommandQueue_js__WEBPACK_IMPORTED_MODULE_28__.FeatureCommandQueue({process:e=>{if("update"===e.type)return this._update();throw new Error("InternalError: Unsupported command")}}),this.graphicUpdateHandler=this.graphicUpdateHandler.bind(this)}destroy(){this.container.destroy(),this.view=null,this.renderer=null,this._set("graphics",null),this._controller.abort(),this._graphicStore.clear(),this._graphicStore.destroy(),this._attributeStore=null,this._hashToSymbolInfo.clear(),this._updateTracking.destroy(),this._commandQueue.destroy()}_initAttributeStore(){this._storage=new _features_support_ComputedAttributeStorage_js__WEBPACK_IMPORTED_MODULE_24__.ComputedAttributeStorage({spatialReference:this.view.spatialReference,fields:new _layers_support_FieldsIndex_js__WEBPACK_IMPORTED_MODULE_13__["default"]}),this._attributeStore=new _features_support_AttributeStore_js__WEBPACK_IMPORTED_MODULE_23__.AttributeStore({isLocal:!0,update:e=>{(0,_core_has_js__WEBPACK_IMPORTED_MODULE_3__["default"])("esri-2d-update-debug")&&console.debug(`[Id: ${this.layerId}] GraphicsView2D.AttributeStoreView.updateStart`,{message:e}),this.container.attributeView.requestUpdate(e),this.container.requestRender(),(0,_core_has_js__WEBPACK_IMPORTED_MODULE_3__["default"])("esri-2d-update-debug")&&console.debug(`[Id: ${this.layerId}] GraphicsView2D.AttributeStoreView.updateEnd`,{message:e})}});const e=(0,_features_schema_processor_StorageSchema_js__WEBPACK_IMPORTED_MODULE_22__.createStorageSchema)(null,[]);this._attributeStore.update(e,this._storage,null),this.container.checkHighlight=()=>this._attributeStore.hasHighlight}initialize(){this._initAttributeStore(),this._metadata=_features_support_FeatureMetadata_js__WEBPACK_IMPORTED_MODULE_25__.GraphicsMetadata.createGraphics(this.view.spatialReference),this._resourceProxy=new _engine_webgl_mesh_factories_ResourceProxy_js__WEBPACK_IMPORTED_MODULE_20__.ResourceProxy({fetch:e=>Promise.all(e.map((e=>this.view.stage.textureManager.rasterizeItem(e)))),fetchDictionary:e=>{throw new Error("InternalError: Graphics do not support Dictionary requests")}}),this.addHandles([(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_7__.watch)((()=>this._effectiveRenderer),(()=>this._pushUpdate())),this.view.graphicsTileStore.on("update",this._onTileUpdate.bind(this)),this.container.on("attach",(()=>{this.addHandles([this.graphics.on("change",(()=>this._pushUpdate()))]),this._graphicStore?.destroy(),this._graphicStore=new _GraphicStore_js__WEBPACK_IMPORTED_MODULE_27__["default"](this.view.spatialReference,this._cimResourceManager,this.view.featuresTilingScheme,this.view.state.scale,this._attributeStore),this._attached=!0,this.requestUpdate(),this._pushUpdate()}))]),this._updateTracking.addUpdateTracking("CommandQueue",this._commandQueue.updateTracking);const e=this.view.graphicsTileStore.tiles;this._onTileUpdate({added:e,removed:[]})}get _effectiveRenderer(){return"function"==typeof this.renderer?this.renderer():this.renderer}get _cimResourceManager(){return this.view.stage.textureManager.resourceManager}get updating(){const e=!this._attached||this._updateTracking.updating;return (0,_core_has_js__WEBPACK_IMPORTED_MODULE_3__["default"])("esri-2d-log-updating")&&console.log(`Updating GraphicsView2D: ${e}\n  -> attaching ${!this._attached}\n  -> updateTracking ${this._updateTracking.updating}`),e}hitTest(e){if(!this.view||this.view.suspended)return[];const{resolution:t,rotation:r}=this.view.state,i=this._graphicStore.hitTest(e.x,e.y,2,t,r),o=new Set(i),a=this.graphics.items.reduce(((e,t)=>(o.has(t.uid)&&e.set(t.uid,t),e)),new Map);return i.map((e=>a.get(e))).filter(_core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_2__.isSome)}requestUpdate(){this.updateRequested||(this.updateRequested=!0,this.requestUpdateCallback()),this.notifyChange("updating")}processUpdate(e){this.updateRequested&&(this.updateRequested=!1,this.update(e))}viewChange(){this.requestUpdate()}setHighlight(e){const t=[];for(const{objectId:s,highlightFlags:r}of e){const e=this._graphicStore.getItem(s)?.displayId;t.push({objectId:s,highlightFlags:r,displayId:e})}this._attributeStore.setHighlight(t,e),this._pushUpdate()}graphicUpdateHandler(e){this._pushUpdate()}update(e){this.updateRequested=!1,this._attached&&this._graphicStore.updateLevel(e.state.resolution)&&this.pushUpdate()}pushUpdate(){this._pushUpdate()}_pushUpdate(){(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_6__.ignoreAbortErrors)(this._commandQueue.push({type:"update"}))}async _update(){try{(0,_core_has_js__WEBPACK_IMPORTED_MODULE_3__["default"])("esri-2d-update-debug")&&console.debug(`[Id: ${this.layerId}] GraphicsView._update start`);const e=await this._graphicStore.update(this.graphics,(e=>this._getSymbolForGraphic(e)),(e=>this._ensureSymbolResource(e)));for(const s of e.updated)this.container.restartAnimation(s.objectId);if(!e.hasAnyUpdate())return void this._attributeStore.sendUpdates();e.removed.length&&(this._cleanupRequired=!0),(0,_core_has_js__WEBPACK_IMPORTED_MODULE_3__["default"])("esri-2d-update-debug")&&console.debug(`[Id: ${this.layerId}] GraphicsView updateMessage`,e);const t=this._createTileMessages(e);await this._densifyItemsForDisplay(t),await this._fetchResources(t),this._write(t);for(const s of e.added)this._setFilterState(s);for(const s of e.updated)this._setFilterState(s);(0,_core_has_js__WEBPACK_IMPORTED_MODULE_3__["default"])("esri-2d-update-debug")&&console.debug(`[Id: ${this.layerId}] GraphicsView sendUpdate`,e),this._attributeStore.sendUpdates(),(0,_core_has_js__WEBPACK_IMPORTED_MODULE_3__["default"])("esri-2d-update-debug")&&console.debug(`[Id: ${this.layerId}] GraphicsView sendUpdate.await`,e)}catch(e){}this._cleanupSharedResources()}_createTileMessages(e){const t=new Map;for(const s of e.added){const e=this.view.graphicsTileStore.getIntersectingTiles(s.symbolBounds);for(const r of e){F.getOrCreate(r,t,this._metadata).append(s)}}for(const s of e.updated){const e=this.view.graphicsTileStore.getIntersectingTiles(s.prevSymbolBounds),r=this.view.graphicsTileStore.getIntersectingTiles(s.symbolBounds);for(const i of e){F.getOrCreate(i,t,this._metadata).removed.push(s.displayId)}for(const i of r){F.getOrCreate(i,t,this._metadata).append(s)}}for(const s of e.removed){const e=this.view.graphicsTileStore.getIntersectingTiles(s.symbolBounds);for(const r of e){F.getOrCreate(r,t,this._metadata).removed.push(s.displayId)}}return Array.from(t.values())}async _densifyItemsForDisplay(e){const t=new Map;for(const s of e)for(const e of s.addedOrModified)t.has(e)||t.set(e,e.densifyCurvedGeometryForDisplay(this.view.spatialReference));await Promise.all(t.values())}async _fetchResources(e){const t={timeZone:null,timeExtent:null};for(const{tile:s,reader:r}of e){(0,_core_has_js__WEBPACK_IMPORTED_MODULE_3__["default"])("esri-2d-update-debug")&&console.debug(`Id[${this.layerId}] Tile[${s.id}] GraphicsView fetchResources`,e);const i=r.getCursor();for(;i.next();)for(const e of i.getMeshWriters())e.enqueueRequest(this._resourceProxy,i,s.createArcadeEvaluationOptions(t))}await this._resourceProxy.fetchEnqueuedResources()}_write(e){for(const t of e){(0,_core_has_js__WEBPACK_IMPORTED_MODULE_3__["default"])("esri-2d-update-debug")&&console.debug(`Id[${this.layerId}] Tile[${t.tile.id}] GraphicsView write`,t);const e=this._writeMeshes(t);let s=this._tiles.get(t.tile.key);s||(s=this._createFeatureTile(t.tile.key)),(0,_core_has_js__WEBPACK_IMPORTED_MODULE_3__["default"])("esri-2d-update-debug")&&console.debug(`Id[${this.layerId}] Tile[${t.tile.id}] GraphicsView onTileData`,t),this.container.onTileData(s,{type:"update",modify:e,remove:t.removed,end:!1,attributeEpoch:this._attributeStore.epoch,objectIdMap:t.objectIdMap}),this.container.requestRender()}}_writeMeshes(e){const t={timeZone:null,timeExtent:null},s=new _engine_webgl_mesh_MeshData_js__WEBPACK_IMPORTED_MODULE_19__.MeshData(e.tile.id),r=e.reader.getCursor();for(;r.next();){s.entityStart(r.getDisplayId(),r.getZOrder());for(const i of r.getMeshWriters())i.write(s,this._resourceProxy,r,e.tile.createArcadeEvaluationOptions(t),e.tile.level);s.entityEnd()}return{...s.serialize().message,tileId:e.tile.id}}_setFilterState(e){const t=e.displayId,s=this._attributeStore.getHighlightFlags(e.objectId);this._attributeStore.setData(t,0,0,s|(e.visible?_engine_webgl_definitions_js__WEBPACK_IMPORTED_MODULE_17__.filterFlag0:0))}_getSymbolForGraphic(e){return null!=e.symbol?e.symbol:null!=this._effectiveRenderer?this._effectiveRenderer.getSymbol(e):this._getNullSymbol(e)}async _ensureSymbolResource(e){if(!e.symbol)return;const t=await this._getSymbolInfo(e.symbol);if(!t)return;const s=t.linearCIM.filter((e=>"text"===e.type));if(s.length>0){const r=await this._getTextResources(e,s);e.symbolResource={symbolInfo:t,textInfo:r}}else e.symbolResource={symbolInfo:t}}_getSymbolInfo(e){const t=e.hash();return this._hashToSymbolInfo.has(t)||this._hashToSymbolInfo.set(t,this._createSymbolInfo(t,e).catch((e=>null))),this._hashToSymbolInfo.get(t)}async _createSymbolInfo(e,t){const s=await this._convertToCIMSymbol(t),r=await this._createLinearCIM(s);return{hash:e,cimSymbol:s,linearCIM:r,meshWriters:await this._createMeshWriters(s,r)}}async _convertToCIMSymbol(e){const t=(0,_symbols_cim_CIMSymbolHelper_js__WEBPACK_IMPORTED_MODULE_14__.symbolToCIM)(e);return"web-style"===t.type?this._convertToCIMSymbol(await t.fetchSymbol({acceptedFormats:["cim","web"]})):t}async _createLinearCIM(e){return await Promise.all(_symbols_cim_CIMSymbolHelper_js__WEBPACK_IMPORTED_MODULE_14__.CIMSymbolHelper.fetchResources(e.symbol,this._cimResourceManager,[])),this.view.stage.cimAnalyzer.analyzeSymbolReference(e,!1)}async _createMeshWriters(e,t){(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_6__.throwIfAborted)(this._controller.signal);const s=this.container.instanceStore,r=this.view.stage.meshWriterRegistry,i=await (0,_engine_webgl_shaderGraph_techniques_createGraphicSymbolMeshSchemas_js__WEBPACK_IMPORTED_MODULE_21__.createGraphicSymbolMeshSchemas)(e,t,s);return Promise.all(i.map((e=>r.createMeshWriter(this._storage,this._resourceProxy,{tileInfo:this.view.featuresTilingScheme.tileInfo},e,null))))}_onTileUpdate(e){if(e.added&&e.added.length>0)for(const t of e.added)this._updateTracking.addPromise(this._addTile(t));if(e.removed&&e.removed.length>0)for(const t of e.removed)this._removeTile(t.key)}_createFeatureTile(e){const t=this.view.featuresTilingScheme.getTileBounds((0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_11__.create)(),e),s=this.view.featuresTilingScheme.getTileResolution(e.level),r=new _engine_webgl_FeatureTile_js__WEBPACK_IMPORTED_MODULE_18__.FeatureTile(e,s,t[0],t[3]);return this._tiles.set(e,r),this.container.addChild(r),r}async _addTile(e){if(!this._attached)return;const t=this._graphicStore.queryItems(e);if(!t.length)return;const s=this._createFeatureTile(e.key),r=F.fromItems(e,t,this._metadata);await this._densifyItemsForDisplay([r]),await this._fetchResources([r]);const i=this._writeMeshes(r);s.onMessage({type:"append",append:i,clear:!1,end:!0,attributeEpoch:this._attributeStore.epoch,objectIdMap:r.objectIdMap})}_removeTile(e){if(!this._tiles.has(e))return;const t=this._tiles.get(e);this.container.removeChild(t),t.destroy(),this._tiles.delete(e)}_getNullSymbol(e){const t=e.geometry;return t?(0,_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_12__.isPolyline)(t)?_symbols_support_defaults_js__WEBPACK_IMPORTED_MODULE_16__.errorPolylineSymbol2D:(0,_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_12__.isPolygon)(t)||(0,_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_12__.isExtent)(t)?_symbols_support_defaults_js__WEBPACK_IMPORTED_MODULE_16__.errorPolygonSymbol2D:this.defaultPointSymbolEnabled?_symbols_support_defaults_js__WEBPACK_IMPORTED_MODULE_16__.errorPointSymbol2D:null:this.defaultPointSymbolEnabled?_symbols_support_defaults_js__WEBPACK_IMPORTED_MODULE_16__.errorPointSymbol2D:null}async _getTextResources(e,t){const s=new Array,r=new Array;for(let i=0;i<t.length;i++){const o=t[i],{resource:a,overrides:n}=o.textRasterizationParam;if(n?.length>0){const t=_symbols_cim_OverrideHelper_js__WEBPACK_IMPORTED_MODULE_15__.OverrideHelper.resolveSymbolOverrides({type:"CIMSymbolReference",primitiveOverrides:n,symbol:{type:"CIMPointSymbol",symbolLayers:[{type:"CIMVectorMarker",enable:!0,size:a.symbol.height,anchorPointUnits:"Relative",frame:{xmin:-5,ymin:-5,xmax:5,ymax:5},markerGraphics:[{type:"CIMMarkerGraphic",geometry:{x:0,y:0},symbol:a.symbol,textString:a.textString}],scaleSymbolsProportionally:!0,respectFrame:!0}]}},e,this.view.spatialReference,null,(0,_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_12__.getJsonType)(e.projectedGeometry),null,null);t.then((e=>{const t=e.symbolLayers[0],{textString:s}=t.markerGraphics[0];r.push({type:"cim-rasterization-info",resource:{type:"text",textString:s||"",font:a.font}}),o.text=a.textString=s||""})),s.push(t)}else r.push({type:"cim-rasterization-info",resource:a})}s.length>0&&await Promise.all(s);const o=r.map((e=>this.view.stage.textureManager.rasterizeItem(e))),a=await Promise.all(o);(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_5__.assertIsSome)(a);const n=new Map;for(let i=0;i<t.length;i++){const e=t[i];n.set(e.textRasterizationParam.resource.symbol,{text:e.text,glyphMosaicItems:a[i]})}return n}_cleanupSharedResources(){if(!this._cleanupRequired)return;const e=performance.now();if(e-this._lastCleanup<5e3)return;this._cleanupRequired=!1,this._lastCleanup=e;const t=new Set;for(const r of this._graphicStore.items()){const e=r.symbolResource?.symbolInfo.hash;t.add(e)}const s=new Set(this._hashToSymbolInfo.keys());for(const r of s.values())t.has(r)||this._hashToSymbolInfo.delete(r)}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)()],O.prototype,"_effectiveRenderer",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)({constructOnly:!0})],O.prototype,"layerId",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)({constructOnly:!0})],O.prototype,"requestUpdateCallback",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)()],O.prototype,"container",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)({constructOnly:!0})],O.prototype,"graphics",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)()],O.prototype,"renderer",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)()],O.prototype,"_updateTracking",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)()],O.prototype,"updating",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)()],O.prototype,"view",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)()],O.prototype,"updateRequested",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)()],O.prototype,"defaultPointSymbolEnabled",void 0),O=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_10__.subclass)("esri.views.2d.layers.graphics.GraphicsView2D")],O);


/***/ })

};

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmVuZG9ycy1ub2RlX21vZHVsZXNfYXJjZ2lzX2NvcmVfdmlld3NfMmRfbGF5ZXJzX2dyYXBoaWNzX0dyYXBoaWNzVmlldzJEX2pzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUN1USxjQUFjLHNCQUFzQixvREFBb0QsZ0VBQWdFLGtCQUFrQixzQkFBc0Isb0JBQW9CLGtCQUFrQix3QkFBd0IsaUVBQUMsZ0JBQWdCLGlFQUFDLFlBQVksaUVBQUMsZ0JBQWdCLGlFQUFDLGdCQUFnQixpRUFBQyxjQUFjLFFBQVEsR0FBRyxpRUFBQyxnQkFBZ0IsRUFBRSxlQUFlLEVBQUUsa0JBQWtCLHdCQUF3QiwyRkFBQyxtQkFBbUIsK0JBQStCLG9OQUFvTix1Q0FBdUMsWUFBWSxVQUFVLG1CQUFtQixvRUFBb0Usd0JBQXdCLDJCQUEyQixRQUFRLGtCQUFrQixNQUFNLGVBQWUsR0FBRyxzRUFBQyxrQkFBa0IsRUFBRSxHQUFHLHNFQUFDLG1CQUFtQixTQUFTLGtCQUFrQixzQkFBc0IsT0FBTyxzRUFBQyxNQUFNLHNFQUFDLE1BQU0sc0VBQUMsTUFBTSxzRUFBQyxRQUFRLGtCQUFrQixXQUFXLGNBQWMsWUFBWSxJQUFJLEtBQUssUUFBUSxXQUFXLCtDQUErQyxZQUFZLFFBQVEsa0JBQWtCLDZCQUE2Qix3REFBQyxPQUFPLGlCQUFpQix3REFBQyxpQkFBaUIsd0RBQUMsaUJBQWlCLHdEQUFDLG9CQUFvQixrQkFBa0IsU0FBNks7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ0pyd0Q7QUFDQTtBQUNBO0FBQ0E7QUFDNkksa0JBQWtCLFFBQVEseUJBQXlCLHNGQUFzRixnQkFBZ0IsTUFBTSxtQkFBbUIsR0FBRyx3Q0FBd0MsZ0JBQWdCLE1BQU0sd0JBQXdCLEdBQUcsd0JBQXdCLGdCQUFnQixNQUFNLGtDQUFrQyxXQUFXLE1BQU0sd0RBQUMsVUFBVSxFQUFFLGtFQUFDLFFBQVEsWUFBWSxjQUFjLGFBQWEsd0NBQXdDLHNDQUFz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Syx5RUFBQyxJQUFJLCtFQUFDLGdDQUFnQyw2RUFBQyxxQ0FBcUMsNkVBQUMsTUFBTSw2QkFBNkIsOEJBQThCLFlBQVksV0FBVyxLQUFLLGNBQWMsdUJBQXVCLDBCQUEwQixnQkFBZ0IsUUFBUSwyRUFBQyx5QkFBeUIsdURBQXVELHFDQUFxQyx5RkFBeUYsOEJBQThCLGtCQUFrQixrQ0FBa0MsUUFBUSx5Q0FBeUMsZ0RBQWdELEdBQUcsbUNBQW1DLDRFQUFDLGlDQUFpQyxZQUFZLDJCQUEyQixhQUFhLHFCQUFxQixRQUFRLHdDQUF3QywwQ0FBMEMsNEJBQTRCLGFBQWEsYUFBYSx5Q0FBeUMsRUFBRSxpQ0FBaUMsMkZBQTJGLDREQUFDLElBQUksZ0JBQWdCLFlBQVksV0FBVyxLQUFLLGFBQWEsZ0RBQWdELGtDQUFrQyxFQUFFLFNBQVMsMEJBQTBCLGlDQUFpQywwQkFBMEIsa0NBQWtDLDZDQUE2QyxnQkFBZ0IsMkNBQTJDLDBDQUEwQyxTQUFTLCtDQUErQyx1RUFBdUUsdURBQUMsRUFBRSxzRkFBQywyQ0FBMkMsdURBQUMsRUFBRSxzRkFBQyxFQUFFLGlCQUFpQixpQ0FBaUMsdURBQUMsRUFBRSxzRkFBQyxFQUFFLGlCQUFpQiwrQ0FBK0MsdURBQUMsRUFBRSxzRkFBQyxvQ0FBb0MsdURBQUMsRUFBRSxzRkFBQyxFQUFFLGlCQUFpQixrQ0FBa0MsdURBQUMsRUFBRSxzRkFBQyxtQ0FBbUMsdURBQUMsRUFBRSxzRkFBQywwQ0FBMEMsdURBQUMsRUFBRSxzRkFBQyxpQ0FBaUMsdURBQUMsRUFBRSxzRkFBQywrQkFBK0IsdURBQUMsRUFBRSxzRkFBQywwQ0FBMEMsdURBQUMsRUFBRSxzRkFBQyxzREFBc0QsdURBQUMsRUFBRSx1RkFBQyxxREFBMEUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wcmVjaXNpb25mYXJtcy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvZ2VvbWV0cnkvc3VwcG9ydC9jdXJ2ZXMvYmV6aWVyQ3VydmVVdGlscy5qcyIsIndlYnBhY2s6Ly9wcmVjaXNpb25mYXJtcy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvZ2VvbWV0cnkvc3VwcG9ydC9jdXJ2ZXMvY2lyY2xlVXRpbHMuanMiLCJ3ZWJwYWNrOi8vcHJlY2lzaW9uZmFybXMvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL2dlb21ldHJ5L3N1cHBvcnQvY3VydmVzL2NpcmN1bGFyQXJjVXRpbHMuanMiLCJ3ZWJwYWNrOi8vcHJlY2lzaW9uZmFybXMvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL2dlb21ldHJ5L3N1cHBvcnQvY3VydmVzL2N1cnZlVXRpbHMuanMiLCJ3ZWJwYWNrOi8vcHJlY2lzaW9uZmFybXMvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL2dlb21ldHJ5L3N1cHBvcnQvY3VydmVzL2RlbnNpZnlDdXJ2ZWRHZW9tZXRyeS5qcyIsIndlYnBhY2s6Ly9wcmVjaXNpb25mYXJtcy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvZ2VvbWV0cnkvc3VwcG9ydC9jdXJ2ZXMvZWxsaXB0aWNBcmM0VXRpbHMuanMiLCJ3ZWJwYWNrOi8vcHJlY2lzaW9uZmFybXMvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL2dlb21ldHJ5L3N1cHBvcnQvY3VydmVzL2VsbGlwdGljQXJjN1V0aWxzLmpzIiwid2VicGFjazovL3ByZWNpc2lvbmZhcm1zLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS9nZW9tZXRyeS9zdXBwb3J0L2N1cnZlcy9tYXRoVXRpbHMuanMiLCJ3ZWJwYWNrOi8vcHJlY2lzaW9uZmFybXMvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3N5bWJvbHMvY2ltL092ZXJyaWRlSGVscGVyLmpzIiwid2VicGFjazovL3ByZWNpc2lvbmZhcm1zLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8yZC9hcmNhZGUvY2FsbEV4cHJlc3Npb25XaXRoRmVhdHVyZS5qcyIsIndlYnBhY2s6Ly9wcmVjaXNpb25mYXJtcy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvMmQvZW5naW5lL3dlYmdsL3NoYWRlckdyYXBoL3RlY2huaXF1ZXMvY3JlYXRlR3JhcGhpY1N5bWJvbE1lc2hTY2hlbWFzLmpzIiwid2VicGFjazovL3ByZWNpc2lvbmZhcm1zLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8yZC9sYXllcnMvZmVhdHVyZXMvc3VwcG9ydC9HcmFwaGljc1JlYWRlci5qcyIsIndlYnBhY2s6Ly9wcmVjaXNpb25mYXJtcy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvMmQvbGF5ZXJzL2dyYXBoaWNzL0dyYXBoaWNTdG9yZS5qcyIsIndlYnBhY2s6Ly9wcmVjaXNpb25mYXJtcy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvMmQvbGF5ZXJzL2dyYXBoaWNzL0dyYXBoaWNTdG9yZUl0ZW0uanMiLCJ3ZWJwYWNrOi8vcHJlY2lzaW9uZmFybXMvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzJkL2xheWVycy9ncmFwaGljcy9HcmFwaGljVXBkYXRlTWVzc2FnZS5qcyIsIndlYnBhY2s6Ly9wcmVjaXNpb25mYXJtcy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvMmQvbGF5ZXJzL2dyYXBoaWNzL0dyYXBoaWNzVmlldzJELmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjMzL2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7ZmxvYXRFcXVhbFJlbGF0aXZlIGFzIHQsZmxvYXRFcXVhbEFic29sdXRlIGFzIG59ZnJvbVwiLi4vLi4vLi4vY29yZS9tYXRoVXRpbHMuanNcIjtpbXBvcnR7ZXhwYW5kUG9pbnRJblBsYWNlIGFzIG99ZnJvbVwiLi4vYWFCb3VuZGluZ1JlY3QuanNcIjtpbXBvcnR7aW50ZXJwb2xhdGVTZWdtZW50IGFzIHIsZmluZENsb3Nlc3RBbmRGdXJ0aGVzdEN1cnZlUGFyYW1ldGVyc1RvUG9pbnQgYXMgcyxkaXN0YW5jZTIgYXMgY31mcm9tXCIuL21hdGhVdGlscy5qc1wiO2NvbnN0IGU9WzAsMF07ZnVuY3Rpb24gdSh0LG4sbyxyLHMpe2NvbnN0IGM9MS1zLGU9YypjLHU9cypzLGk9ZSpjLGE9MypzKmUsZj0zKnUqYyxtPXUqcztyZXR1cm5bdFswXSppK25bMF0qYStvWzBdKmYrclswXSptLHRbMV0qaStuWzFdKmErb1sxXSpmK3JbMV0qbV19ZnVuY3Rpb24gaSh0LG4sbyl7Y29uc3Qgcj10LFtzLGMsZV09bi5iO3JldHVybiB1KHIsYyxlLHMsbyl9ZnVuY3Rpb24gYSh0LG4sbyl7Y29uc3Qgcz10LFtjLHUsaV09bi5iLGE9cihbMCwwXSxzLHUsbyksZj1yKGUsdSxpLG8pLG09cihbMCwwXSxpLGMsbyksaD1yKFswLDBdLGEsZixvKSxwPXIoWzAsMF0sZixtLG8pO3JldHVyblt7YjpbcihbXSxoLHAsbyksYSxoXX0se2I6W1suLi5jXSxwLG1dfV19ZnVuY3Rpb24gZihvLHIsYyl7Y29uc3QgZT1vLFtpLGEsZl09ci5iLG09cyhjLFsuMSwuNSwuOV0sKHQ9Pntjb25zdCBuPTEtdCxbbyxyXT11KGUsYSxmLGksdCk7cmV0dXJuW28sciwzKm4qbiooYVswXS1lWzBdKSs2Km4qdCooZlswXS1hWzBdKSszKnQqdCooaVswXS1mWzBdKSwzKm4qbiooYVsxXS1lWzFdKSs2Km4qdCooZlsxXS1hWzFdKSszKnQqdCooaVsxXS1mWzFdKSw2Km4qKGZbMF0tMiphWzBdK2VbMF0pKzYqdCooaVswXS0yKmZbMF0rYVswXSksNipuKihmWzFdLTIqYVsxXStlWzFdKSs2KnQqKGlbMV0tMipmWzFdK2FbMV0pXX0pKS5tYXAoKHQ9Pk1hdGgubWluKDEsTWF0aC5tYXgoMCx0KSkpKTttLnB1c2goMCwxKTtsZXQgaD0xLzA7Y29uc3QgcD1tLm1hcCgodD0+e2NvbnN0IG49dShlLGEsZixpLHQpLFtvLHJdPW4scz1jWzBdLW8sbT1jWzFdLXIscD1NYXRoLnNxcnQocypzK20qbSk7cmV0dXJuIGg9TWF0aC5taW4ocCxoKSx7dCxjdXJ2ZVBvaW50Om4sZGlzdGFuY2U6cH19KSksYj1bXTtmb3IoY29uc3QgcyBvZiBwKXtjb25zdHt0Om8sZGlzdGFuY2U6cn09czt0KHIsaCkmJiFiLnNvbWUoKCh7dH0pPT5uKHQsbykpKSYmYi5wdXNoKHMpfXJldHVybiBifWZ1bmN0aW9uIG0odCxuLHIpe2NvbnN0IHM9bixbYyxlLHVdPXIuYjtyZXR1cm4gbyh0LHMpLG8odCxlKSxvKHQsdSksbyh0LGMpLHR9ZnVuY3Rpb24gaCh0LG4sbyl7Y29uc3Qgcj0xNjtsZXQgcz0wLGU9W25dO2ZvcihsZXQgdT0wO3U8cjt1Kyspe2xldCBuPXQ7Y29uc3Qgcj1bXTtmb3IoY29uc3QgdCBvZiBlKXIucHVzaCguLi5hKG4sdCwuNSkpLG49dC5iWzBdO2U9cixuPXQscz0wO2xldCB1PTA7Zm9yKGNvbnN0IHQgb2YgZSl7Y29uc3RbbyxyLGVdPXQuYixpPU1hdGguc3FydChjKG4sbykpO3MrPShpKyhNYXRoLnNxcnQoYyhuLHIpKStNYXRoLnNxcnQoYyhyLGUpKStNYXRoLnNxcnQoYyhlLG8pKSkpLzIsdSs9aSxuPW99aWYocy11PG8pcmV0dXJuIHN9cmV0dXJuIHN9ZXhwb3J0e20gYXMgYmV6aWVyQ3VydmVFeHRlbnQsaCBhcyBiZXppZXJDdXJ2ZUxlbmd0aCxmIGFzIGNsb3Nlc3RQb2ludHNPbkJlemllckN1cnZlLGkgYXMgaW50ZXJwb2xhdGVCZXppZXJDdXJ2ZSx1IGFzIGludGVycG9sYXRlQ3ViaWNCZXppZXIsYSBhcyBzcGxpdEJlemllckN1cnZlfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjMzL2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7ZXhwYW5kUG9pbnRJblBsYWNlIGFzIHR9ZnJvbVwiLi4vYWFCb3VuZGluZ1JlY3QuanNcIjtpbXBvcnR7ZGlzdGFuY2UyIGFzIG4sd3JhcEF0YW4yIGFzIGEsbWF0Y2hXaW5kaW5nQW5kV3JhcCBhcyBzfWZyb21cIi4vbWF0aFV0aWxzLmpzXCI7Y29uc3QgYz0yKk1hdGguUEk7Y2xhc3Mgcntjb25zdHJ1Y3Rvcih0LG4sYSxzLGMscil7dGhpcy5jeD10LHRoaXMuY3k9bix0aGlzLnJhZGl1cz1hLHRoaXMudGhldGFTdGFydD1zLHRoaXMudGhldGFFbmQ9Yyx0aGlzLmlzSW52YWxpZD1yfX1mdW5jdGlvbiBoKHQsbil7Y29uc3R7Y3g6YSxjeTpzLHJhZGl1czpjfT10O3JldHVyblthK2MqTWF0aC5jb3MobikscytjKk1hdGguc2luKG4pXX1mdW5jdGlvbiBpKHQsbil7Y29uc3R7dGhldGFTdGFydDphLHRoZXRhRW5kOnN9PXQ7cmV0dXJuIGgodCxhKigxLW4pK3Mqbil9ZnVuY3Rpb24gbyh0LHIpe2NvbnN0e2N4OmgsY3k6byx0aGV0YVN0YXJ0OmUsdGhldGFFbmQ6dX09dCxbZCxNXT1yO2xldCBmPWEoTS1vLGQtaCk7Zj1zKGYsZSx1KTtjb25zdCBsPWYtZTtsZXQgbT1sLyh1LWUpO2lmKG08MHx8bT4xKXtjb25zdCB0PU1hdGguYWJzKGwpJWMsbj1NYXRoLmFicyhmLXUpJWM7bT1NYXRoLm1pbihuLGMtbik8TWF0aC5taW4odCxjLXQpPzE6MH1jb25zdCBFPWkodCxtKTtyZXR1cm57dDptLGN1cnZlUG9pbnQ6RSxkaXN0YW5jZTpNYXRoLnNxcnQobihyLEUpKX19ZnVuY3Rpb24gZShuLGEpe2NvbnN0e3RoZXRhU3RhcnQ6Yyx0aGV0YUVuZDpyfT1hLGk9ci1jO3QobixoKGEsYykpLHQobixoKGEscikpO2ZvcihsZXQgbz0wO288NDtvKyspe2xldCBlPW8qKE1hdGguUEkvMik7ZT1zKGUsYyxyKTtjb25zdCB1PShlLWMpL2k7dT4wJiZ1PDEmJnQobixoKGEsZSkpfXJldHVybiBufWZ1bmN0aW9uIHUodCl7Y29uc3R7cmFkaXVzOm4sdGhldGFTdGFydDphLHRoZXRhRW5kOnN9PXQ7cmV0dXJuIG4qTWF0aC5hYnMocy1hKX1leHBvcnR7ciBhcyBEZXJpdmVkQ2lyY2xlLGUgYXMgY2lyY3VsYXJDdXJ2ZUV4dGVudCx1IGFzIGNpcmN1bGFyQ3VydmVMZW5ndGgsbyBhcyBjbG9zZXN0UG9pbnRPbkNpcmNsZSxpIGFzIGludGVycG9sYXRlQ2lyY2xlfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjMzL2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7c2V0IGFzIHQsZGV0ZXJtaW5hbnQgYXMgcn1mcm9tXCIuLi8uLi8uLi9jb3JlL2xpYnMvZ2wtbWF0cml4LTIvbWF0aC9tYXQzLmpzXCI7aW1wb3J0e2NyZWF0ZSBhcyBvfWZyb21cIi4uLy4uLy4uL2NvcmUvbGlicy9nbC1tYXRyaXgtMi9mYWN0b3JpZXMvbWF0M2Y2NC5qc1wiO2ltcG9ydHtEZXJpdmVkQ2lyY2xlIGFzIG4saW50ZXJwb2xhdGVDaXJjbGUgYXMgY31mcm9tXCIuL2NpcmNsZVV0aWxzLmpzXCI7aW1wb3J0e2ludGVycG9sYXRlU2VnbWVudCBhcyBpLHdyYXBBdGFuMiBhcyBzfWZyb21cIi4vbWF0aFV0aWxzLmpzXCI7Y29uc3QgbT1vKCk7ZnVuY3Rpb24gbChvLG4sYyl7Y29uc3RbaSxzXT1vLFtsLGVdPW4sW2EsZl09Yyx1PWkqaStzKnMsaD1sKmwrZSplLHA9YSphK2YqZjt0KG0saSxsLGEscyxlLGYsMSwxLDEpO2NvbnN0IGo9cihtKTtpZigwPT09ailyZXR1cm4gbnVsbDt0KG0sdSxoLHAscyxlLGYsMSwxLDEpO2NvbnN0IGc9cihtKTt0KG0sdSxoLHAsaSxsLGEsMSwxLDEpO3JldHVybltnL2oqLjUscihtKS9qKi0uNV19ZnVuY3Rpb24gZSh0LHIpe2NvbnN0W28sY109ci5jLG09bCh0LGMsbyksZT1udWxsPT1tLGE9bT8/aShbXSx0LG8sLjUpLFtmLHVdPXQsW2gscF09YyxbaixnXT1vLFt4LE1dPWEsYj1mLXgsVT11LU0scT1NYXRoLnNxcnQoYipiK1UqVSksdz1zKHUtTSxmLXgpLEk9cyhwLU0saC14KTtsZXQgUD1zKGctTSxqLXgpO3JldHVybihJLXcpKihQLUkpPDAmJihQKz0yKk1hdGguc2lnbih3LVApKk1hdGguUEkpLG5ldyBuKHgsTSxxLHcsUCxlKX1mdW5jdGlvbiBhKHQscixvKXtjb25zdCBuPWModCxvLzIpLGk9Yyh0LG8pLHM9Yyh0LChvKzEpLzIpO3JldHVyblt7YzpbaSxuXX0se2M6W1suLi5yLmNbMF1dLHNdfV19ZXhwb3J0e2UgYXMgZGVyaXZlQ2lyY2xlRnJvbUNpcmN1bGFyQXJjLGEgYXMgc3BsaXRDaXJjdWxhckFyY307XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4zMy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuZnVuY3Rpb24gbihuKXtyZXR1cm5cImN1cnZlUmluZ3NcImluIG4mJiEhbi5jdXJ2ZVJpbmdzPy5sZW5ndGh8fFwiY3VydmVQYXRoc1wiaW4gbiYmISFuLmN1cnZlUGF0aHM/Lmxlbmd0aH1mdW5jdGlvbiByKG4pe3JldHVyblwiY3VydmVSaW5nc1wiaW4gbj9uLmN1cnZlUmluZ3M6bi5jdXJ2ZVBhdGhzfWZ1bmN0aW9uIHQobil7cmV0dXJuXCJiXCJpbiBufWZ1bmN0aW9uIHUobil7cmV0dXJuXCJjXCJpbiBufWZ1bmN0aW9uIGUobil7cmV0dXJuIEFycmF5LmlzQXJyYXkobil9ZnVuY3Rpb24gaShuKXtyZXR1cm5cImFcImluIG59ZnVuY3Rpb24gYyhuKXtyZXR1cm4gND09PW4uYS5sZW5ndGh9ZnVuY3Rpb24gZihuKXtyZXR1cm4gNz09PW4uYS5sZW5ndGh9ZnVuY3Rpb24gbyhuKXtyZXR1cm4gdChuKT9uLmJbMF06dShuKT9uLmNbMF06aShuKT9uLmFbMF06bn1mdW5jdGlvbiBhKG4pe2lmKHQobikpe2NvbnN0W3IsdCx1XT1uLmI7cmV0dXJue2I6W1suLi5yXSxbLi4udF0sWy4uLnVdXX19aWYodShuKSl7Y29uc3Rbcix0XT1uLmM7cmV0dXJue2M6W1suLi5yXSxbLi4udF1dfX1pZihlKG4pKXJldHVyblsuLi5uXTtpZihjKG4pKXtjb25zdFtyLHQsdSxlXT1uLmE7cmV0dXJue2E6W1suLi5yXSxbLi4udF0sdSxlXX19aWYoZihuKSl7Y29uc3Rbcix0LHUsZSxpLGMsZl09bi5hO3JldHVybnthOltbLi4ucl0sWy4uLnRdLHUsZSxpLGMsZl19fXJldHVybiBufWV4cG9ydHthIGFzIGNsb25lQ3VydmUsciBhcyBnZXRDdXJ2ZXMsbyBhcyBnZXRFbmRwb2ludCx0IGFzIGlzQmV6aWVyQ3VydmUsdSBhcyBpc0NpcmN1bGFyQXJjLGUgYXMgaXNDb29yZGluYXRlLG4gYXMgaXNDdXJ2ZWRHZW9tZXRyeSxpIGFzIGlzRWxsaXB0aWNBcmMsYyBhcyBpc0VsbGlwdGljQXJjNCxmIGFzIGlzRWxsaXB0aWNBcmM3fTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjMzL2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7aW50ZXJwb2xhdGVDdWJpY0JlemllciBhcyB0fWZyb21cIi4vYmV6aWVyQ3VydmVVdGlscy5qc1wiO2ltcG9ydHtkZXJpdmVDaXJjbGVGcm9tQ2lyY3VsYXJBcmMgYXMgc31mcm9tXCIuL2NpcmN1bGFyQXJjVXRpbHMuanNcIjtpbXBvcnR7aXNDdXJ2ZWRHZW9tZXRyeSBhcyBpLGdldEN1cnZlcyBhcyBuLGdldEVuZHBvaW50IGFzIHIsaXNDb29yZGluYXRlIGFzIGUsaXNCZXppZXJDdXJ2ZSBhcyBhLGlzQ2lyY3VsYXJBcmMgYXMgaCxpc0VsbGlwdGljQXJjIGFzIGMsaXNFbGxpcHRpY0FyYzQgYXMgbyxpc0VsbGlwdGljQXJjNyBhcyB1fWZyb21cIi4vY3VydmVVdGlscy5qc1wiO2ltcG9ydHtkZXJpdmVDaXJjbGVGcm9tRWxsaXB0aWNBcmM0IGFzIHB9ZnJvbVwiLi9lbGxpcHRpY0FyYzRVdGlscy5qc1wiO2ltcG9ydHtkZXJpdmVFbGxpcHNlIGFzIGQsaW50ZXJwb2xhdGVFbGxpcHNlIGFzIGx9ZnJvbVwiLi9lbGxpcHRpY0FyYzdVdGlscy5qc1wiO2ltcG9ydHtpbnRlcnBvbGF0ZVNlZ21lbnQgYXMgUyxwb2ludFRvU2VnbWVudERpc3RhbmNlMiBhcyBtLGRpc3RhbmNlMiBhcyBFfWZyb21cIi4vbWF0aFV0aWxzLmpzXCI7Y29uc3QgZj17bWF4U2VnbWVudExlbmd0aDoxLzAsbWF4RGV2aWF0aW9uOjEvMCxtYXhTZWdtZW50c1BlckN1cnZlOjEyZTMsbWluU2VnbWVudHNQZXJDdXJ2ZToxfSx2PTFlLTYsZz1bMCwwXTtjbGFzcyBQe2NvbnN0cnVjdG9yKHQscyl7dGhpcy5jdXJ2ZVN0YXJ0PXQsdGhpcy5jdXJ2ZUVuZD1zLHRoaXMudFN0YXJ0PTAsdGhpcy50RW5kPTAsdGhpcy50RW5kU3RhY2s9W10sdGhpcy5hcmNFbmRTdGFjaz1bXX1nZXQgc3RhY2tTaXplKCl7cmV0dXJuIHRoaXMudEVuZFN0YWNrLmxlbmd0aH1pbml0aWFsaXplKHQscyl7dGhpcy50U3RhcnQ9MCx0aGlzLmFyY1N0YXJ0PXQsdGhpcy50RW5kU3RhY2sucHVzaCgxKSx0aGlzLmFyY0VuZFN0YWNrLnB1c2gocyl9c3BsaXRBdCh0KXt0aGlzLnRFbmRTdGFjay5wdXNoKHRoaXMudEVuZCksdGhpcy5hcmNFbmRTdGFjay5wdXNoKHRoaXMuYXJjRW5kKSx0aGlzLnRFbmRTdGFjay5wdXNoKHQpLHRoaXMuYXJjRW5kU3RhY2sucHVzaCh0aGlzLmludGVycG9sYXRlKHQpKX1zcGxpdEluSGFsZigpe3JldHVybiB0aGlzLnNwbGl0QXQoKHRoaXMudFN0YXJ0K3RoaXMudEVuZCkvMil9cG9wKCl7dGhpcy50RW5kPXRoaXMudEVuZFN0YWNrLnBvcCgpLHRoaXMuYXJjRW5kPXRoaXMuYXJjRW5kU3RhY2sucG9wKCl9bmV4dCgpe3RoaXMudFN0YXJ0PXRoaXMudEVuZCx0aGlzLmFyY1N0YXJ0PXRoaXMuYXJjRW5kfWRlbnNpZnkodCx7bWF4RGV2aWF0aW9uOnMsbWF4U2VnbWVudExlbmd0aDppLG1heFNlZ21lbnRzUGVyQ3VydmU6bixtaW5TZWdtZW50c1BlckN1cnZlOnJ9KXtjb25zdCBlPWkqaSxhPXMqcyxoPTEvbixjPXRoaXMuaW50ZXJwb2xhdGUoMCksbz10aGlzLmludGVycG9sYXRlKDEpO0UodGhpcy5jdXJ2ZVN0YXJ0LGMpPnYmJnQucHVzaChjKSx0aGlzLmluaXRpYWxpemUoYyxvKTtjb25zdCB1PTEvcjtmb3IobGV0IHA9ci0xO3A+MDtwLS0pe2NvbnN0IHQ9cCp1O3RoaXMucG9wKCksdGhpcy5zcGxpdEF0KHQpfWZvcig7dGhpcy5zdGFja1NpemU+MDspdGhpcy5wb3AoKSx0aGlzLnRTdGFydD09PXRoaXMudEVuZHx8dGhpcy50RW5kLXRoaXMudFN0YXJ0PGh8fCgwPT09ZXx8IWlzRmluaXRlKGUpfHxFKHRoaXMuYXJjU3RhcnQsdGhpcy5hcmNFbmQpPGUpJiYoMD09PWF8fCFpc0Zpbml0ZShhKXx8dGhpcy5nZXREZXZpYXRpb24yKCk8YSk/KHQucHVzaCh0aGlzLmFyY0VuZCksdGhpcy5uZXh0KCkpOnRoaXMuc3BsaXRJbkhhbGYoKTtyZXR1cm4gRSh0aGlzLmN1cnZlRW5kLG8pPnYmJnQucHVzaChbLi4udGhpcy5jdXJ2ZUVuZF0pLHR9fWNsYXNzIHggZXh0ZW5kcyBQe2NvbnN0cnVjdG9yKHQscyl7Y29uc3RbaSxuLHJdPXMuYjtzdXBlcih0LGkpLHRoaXMuX2NvbnRyb2xQb2ludHNTdGFjaz1bXSx0aGlzLl9jdXJ2ZUNvbnRyb2xQb2ludHM9W24scl0sdGhpcy5fYXJjQ29udHJvbFBvaW50cz1bbixyXSx0aGlzLl9jb250cm9sUG9pbnRzU3RhY2sucHVzaCh0aGlzLl9hcmNDb250cm9sUG9pbnRzKX1zcGxpdEF0KHQpe2NvbnN0e2FyY1N0YXJ0OnMsYXJjRW5kOmksdFN0YXJ0Om4sdEVuZDpyfT10aGlzLFtlLGFdPXRoaXMuX2FyY0NvbnRyb2xQb2ludHMsaD0odC1uKS8oci1uKSxjPVMoW10scyxlLGgpLG89UyhnLGUsYSxoKSx1PVMoW10sYSxpLGgpLHA9UyhbXSxjLG8saCksZD1TKFtdLG8sdSxoKSxsPVMoW10scCxkLGgpO3RoaXMudEVuZFN0YWNrLnB1c2godGhpcy50RW5kKSx0aGlzLmFyY0VuZFN0YWNrLnB1c2godGhpcy5hcmNFbmQpLHRoaXMuX2NvbnRyb2xQb2ludHNTdGFjay5wdXNoKFtkLHVdKSx0aGlzLnRFbmRTdGFjay5wdXNoKHQpLHRoaXMuYXJjRW5kU3RhY2sucHVzaChsKSx0aGlzLl9hcmNDb250cm9sUG9pbnRzWzBdPWMsdGhpcy5fYXJjQ29udHJvbFBvaW50c1sxXT1wLHRoaXMuX2NvbnRyb2xQb2ludHNTdGFjay5wdXNoKHRoaXMuX2FyY0NvbnRyb2xQb2ludHMpfXBvcCgpe3N1cGVyLnBvcCgpLHRoaXMuX2FyY0NvbnRyb2xQb2ludHM9dGhpcy5fY29udHJvbFBvaW50c1N0YWNrLnBvcCgpfWludGVycG9sYXRlKHMpe2NvbnN0e2N1cnZlU3RhcnQ6aSxjdXJ2ZUVuZDpufT10aGlzLFtyLGVdPXRoaXMuX2N1cnZlQ29udHJvbFBvaW50cztyZXR1cm4gdChpLHIsZSxuLHMpfWdldERldmlhdGlvbjIoKXtjb25zdHthcmNTdGFydDp0LGFyY0VuZDpzfT10aGlzLFtpLG5dPXRoaXMuX2FyY0NvbnRyb2xQb2ludHM7cmV0dXJuIE1hdGgubWF4KG0oaSx0LHMpLG0obix0LHMpKX19Y2xhc3MgayBleHRlbmRzIFB7Y29uc3RydWN0b3IodCxzKXtjb25zdFtpXT1zLmE7c3VwZXIodCxpKSx0aGlzLl9kZXJpdmVkRWxsaXBzZT1kKHQscyl9cG9wKCl7c3VwZXIucG9wKCksdGhpcy5fdE1pZD0odGhpcy50U3RhcnQrdGhpcy50RW5kKS8yLHRoaXMuX2FyY01pZD10aGlzLmludGVycG9sYXRlKHRoaXMuX3RNaWQpfXNwbGl0SW5IYWxmKCl7dGhpcy50RW5kU3RhY2sucHVzaCh0aGlzLnRFbmQpLHRoaXMuYXJjRW5kU3RhY2sucHVzaCh0aGlzLmFyY0VuZCksdGhpcy50RW5kU3RhY2sucHVzaCh0aGlzLl90TWlkKSx0aGlzLmFyY0VuZFN0YWNrLnB1c2godGhpcy5fYXJjTWlkKX1pbnRlcnBvbGF0ZSh0KXtyZXR1cm4gbCh0aGlzLl9kZXJpdmVkRWxsaXBzZSx0KX1nZXREZXZpYXRpb24yKCl7cmV0dXJuIG0odGhpcy5fYXJjTWlkLHRoaXMuYXJjU3RhcnQsdGhpcy5hcmNFbmQpfX1mdW5jdGlvbiBDKHQscyxpLHtjeDpuLGN5OnIscmFkaXVzOmUsdGhldGFTdGFydDphLHRoZXRhRW5kOmgsaXNJbnZhbGlkOmN9LHttYXhEZXZpYXRpb246byxtYXhTZWdtZW50TGVuZ3RoOnUsbWF4U2VnbWVudHNQZXJDdXJ2ZTpwLG1pblNlZ21lbnRzUGVyQ3VydmU6ZH0pe2lmKGMpcmV0dXJuIHQucHVzaChbLi4uaV0pLHQ7Y29uc3QgbD0yKmUsUz1bbitlKk1hdGguY29zKGEpLHIrZSpNYXRoLnNpbihhKV0sbT1bbitlKk1hdGguY29zKGgpLHIrZSpNYXRoLnNpbihoKV07RShzLFMpPnYmJnQucHVzaChTKTtjb25zdCBmPU1hdGguYWJzKGgtYSksZz11PGw/MipNYXRoLmFzaW4odS9sKTpmLFA9bzw9ZT8yKk1hdGguYWNvcygxLW8vZSk6Zix4PU1hdGgubWluKGcsUCksaz1NYXRoLm1pbihwLE1hdGgubWF4KGQsTWF0aC5jZWlsKE1hdGguYWJzKGYveCkpKSksQz0xL2s7Zm9yKGxldCBFPTE7RTxrO0UrKyl7Y29uc3Qgcz1FKkMsaT1hKigxLXMpK2gqczt0LnB1c2goW24rZSpNYXRoLmNvcyhpKSxyK2UqTWF0aC5zaW4oaSldKX1yZXR1cm4gdC5wdXNoKG0pLEUoaSxtKT52JiZ0LnB1c2goWy4uLmldKSx0fWZ1bmN0aW9uIF8odCxzLGksbil7cmV0dXJuIG5ldyB4KHMsaSkuZGVuc2lmeSh0LG4pfWZ1bmN0aW9uIE0odCxpLG4scil7Y29uc3QgZT1zKGksbiksW2FdPW4uYztyZXR1cm4gQyh0LGksYSxlLHIpfWZ1bmN0aW9uIEQodCxzLGksbil7Y29uc3Qgcj1wKHMsaSksW2VdPWkuYTtyZXR1cm4gQyh0LHMsZSxyLG4pfWZ1bmN0aW9uIEEodCxzLGksbil7Y29uc3RbcixlLGEsaCxjLG8sdV09aS5hO3JldHVybiAwPT09b3x8MD09PXU/KHQucHVzaChbLi4ucl0pLHQpOm5ldyBrKHMsaSkuZGVuc2lmeSh0LG4pfWZ1bmN0aW9uIGoodCxzLGksbil7aWYoZShpKSlyZXR1cm4gdC5wdXNoKFsuLi5pXSksdDtpZihhKGkpKXJldHVybiBfKHQscyxpLG4pO2lmKGgoaSkpcmV0dXJuIE0odCxzLGksbik7aWYoYyhpKSl7aWYobyhpKSlyZXR1cm4gRCh0LHMsaSxuKTtpZih1KGkpKXJldHVybiBBKHQscyxpLG4pfXJldHVybiB0fWZ1bmN0aW9uIEwodCxzKXtpZighaSh0KSlyZXR1cm4gdDtjb25zdCBlPW4odCksYT1bXTtmb3IoY29uc3QgaSBvZiBlKXtjb25zdCB0PVtdO2ZvcihsZXQgbj0wLGU9MTtlPGkubGVuZ3RoO249ZSsrKXtjb25zdCBhPXIoaVtuXSk7MD09PW4mJnQucHVzaChhKTtqKHQsYSxpW2VdLHttYXhTZWdtZW50TGVuZ3RoOnMubWF4U2VnbWVudExlbmd0aD8/Zi5tYXhTZWdtZW50TGVuZ3RoLG1heERldmlhdGlvbjpzLm1heERldmlhdGlvbj8/Zi5tYXhEZXZpYXRpb24sbWF4U2VnbWVudHNQZXJDdXJ2ZTpzLm1heFNlZ21lbnRzUGVyQ3VydmU/P2YubWF4U2VnbWVudHNQZXJDdXJ2ZSxtaW5TZWdtZW50c1BlckN1cnZlOk1hdGgubWF4KHMubWluU2VnbWVudHNQZXJDdXJ2ZT8/Zi5taW5TZWdtZW50c1BlckN1cnZlLDEpfSl9YS5wdXNoKHQpfXJldHVyblwiY3VydmVQYXRoc1wiaW4gdD97cGF0aHM6YSxzcGF0aWFsUmVmZXJlbmNlOnQuc3BhdGlhbFJlZmVyZW5jZX06e3JpbmdzOmEsc3BhdGlhbFJlZmVyZW5jZTp0LnNwYXRpYWxSZWZlcmVuY2V9fWV4cG9ydHtMIGFzIGRlbnNpZnlDdXJ2ZWRHZW9tZXRyeX07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4zMy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e2Zsb2F0RXF1YWxSZWxhdGl2ZSBhcyB0fWZyb21cIi4uLy4uLy4uL2NvcmUvbWF0aFV0aWxzLmpzXCI7aW1wb3J0e0Rlcml2ZWRDaXJjbGUgYXMgYSxpbnRlcnBvbGF0ZUNpcmNsZSBhcyByfWZyb21cIi4vY2lyY2xlVXRpbHMuanNcIjtpbXBvcnR7Y29ycmVjdFN3ZWVwQW5kV2luZGluZyBhcyBvLHdyYXBBdGFuMiBhcyBzfWZyb21cIi4vbWF0aFV0aWxzLmpzXCI7ZnVuY3Rpb24gaChyLGgpe2NvbnN0W24sY109aC5hLFtpLGVdPXIsW20sTV09bixbZixsXT1jLHA9aS1mLHU9ZS1sLGo9TWF0aC5zcXJ0KHAqcCt1KnUpLFU9bS1mLGI9TS1sLHE9TWF0aC5zcXJ0KFUqVStiKmIpLHg9MD09PWp8fDA9PT1xfHwhdChqLHEpLEk9aixQPXMoZS1sLGktZiksZD1vKHMoTS1sLG0tZiksUCxoKTtyZXR1cm4gbmV3IGEoZixsLEksUCxkLHgpfWZ1bmN0aW9uIG4odCxhLG8pe2NvbnN0e2N4OnMsY3k6aCx0aGV0YVN0YXJ0Om4sdGhldGFFbmQ6Y309dCxbaSxlLG0sTV09YS5hLGY9biooMS1vKStjKm87cmV0dXJuW3thOltyKHQsbyksW3MsaF0sTWF0aC5hYnMoZi1uKTxNYXRoLlBJPzE6MCxNXX0se2E6W1suLi5pXSxbcyxoXSxNYXRoLmFicyhjLWYpPE1hdGguUEk/MTowLE1dfV19ZXhwb3J0e2ggYXMgZGVyaXZlQ2lyY2xlRnJvbUVsbGlwdGljQXJjNCxuIGFzIHNwbGl0RWxsaXB0aWNBcmM0fTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjMzL2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7c2V0IGFzIHQsaW52ZXJ0IGFzIHMsdHJhbnNwb3NlIGFzIG4sbXVsdGlwbHkgYXMgb31mcm9tXCIuLi8uLi8uLi9jb3JlL2xpYnMvZ2wtbWF0cml4LTIvbWF0aC9tYXQzLmpzXCI7aW1wb3J0e2NyZWF0ZSBhcyByfWZyb21cIi4uLy4uLy4uL2NvcmUvbGlicy9nbC1tYXRyaXgtMi9mYWN0b3JpZXMvbWF0M2Y2NC5qc1wiO2ltcG9ydHt0cmFuc2Zvcm1NYXQzIGFzIGF9ZnJvbVwiLi4vLi4vLi4vY29yZS9saWJzL2dsLW1hdHJpeC0yL21hdGgvdmVjMi5qc1wiO2ltcG9ydHtleHBhbmRQb2ludEluUGxhY2UgYXMgY31mcm9tXCIuLi9hYUJvdW5kaW5nUmVjdC5qc1wiO2ltcG9ydHtjbG9uZUN1cnZlIGFzIGl9ZnJvbVwiLi9jdXJ2ZVV0aWxzLmpzXCI7aW1wb3J0e2NvcnJlY3RTd2VlcEFuZFdpbmRpbmcgYXMgdSx3cmFwQXRhbjIgYXMgaCxmaW5kQ2xvc2VzdEFuZEZ1cnRoZXN0Q3VydmVQYXJhbWV0ZXJzVG9Qb2ludCBhcyBlLG1hdGNoV2luZGluZ0FuZFdyYXAgYXMgZixkaXN0YW5jZTIgYXMgTSxpbnRlcnNlY3RMaW5lTGluZSBhcyBsfWZyb21cIi4vbWF0aFV0aWxzLmpzXCI7Y2xhc3MgbXtjb25zdHJ1Y3Rvcih0LHMsbixvLHIsYSxjLGksdSl7dGhpcy5jeD10LHRoaXMuY3k9cyx0aGlzLmE9bix0aGlzLmI9byx0aGlzLmNvc1I9cix0aGlzLnNpblI9YSx0aGlzLnUxPWMsdGhpcy51Mj1pLHRoaXMuaXNJbnZhbGlkPXV9fWZ1bmN0aW9uIGIodCxzKXtjb25zdFtuLG8scixhLGMsaSxlXT1zLmEsW2YsTV09dCxbbCxiXT1uLFtwLFJdPW8scT1pKmUsST1NYXRoLmNvcyhjKSxnPU1hdGguc2luKGMpLHg9aCgxL3EqKE0tUikqSS0xL3EqKGYtcCkqZywxL2kqKE0tUikqZysxL2kqKGYtcCkqSSksaj11KGgoMS9xKihiLVIpKkktMS9xKihsLXApKmcsMS9pKihiLVIpKmcrMS9pKihsLXApKkkpLHgscyk7cmV0dXJuIG5ldyBtKHAsUixpLHEsSSxnLHgsaiwwPT09aXx8MD09PXEpfWZ1bmN0aW9uIHAodCxzKXtjb25zdHthOm4sYjpvLGNvc1I6cixzaW5SOmEsY3g6YyxjeTppfT10LHU9TWF0aC5jb3MocyksaD1NYXRoLnNpbihzKTtyZXR1cm5bbip1KnItbypoKmErYyxuKnUqYStvKmgqcitpXX1mdW5jdGlvbiBSKHQscyl7Y29uc3R7dTE6bix1MjpvfT10O3JldHVybiBwKHQsbiooMS1zKStvKnMpfWZ1bmN0aW9uIHEodCxzLG4pe2lmKG48MHx8bj4xKXJldHVybltdO2lmKDA9PT1ufHwxPT09bilyZXR1cm5baShzKV07Y29uc3RbbyxbcixhXSxjLHUsaCxlLGZdPXMuYSx7dTE6TSx1MjpsfT10LG09TSooMS1uKStsKm47cmV0dXJuW3thOltbLi4uUih0LG4pXSxbcixhXSxNYXRoLmFicyhtLU0pPE1hdGguUEk/MTowLHUsaCxlLGZdfSx7YTpbWy4uLm9dLFtyLGFdLE1hdGguYWJzKGwtbSk8TWF0aC5QST8xOjAsdSxoLGUsZl19XX1mdW5jdGlvbiBJKHQscyl7Y29uc3R7YTpuLGI6byxjb3NSOnIsc2luUjphLHUxOmMsdTI6aX09dCx1PU1hdGguUEkvNixoPWUocyxbMSp1LDIqdSw0KnUsNSp1LDcqdSw4KnUsMTAqdSwxMSp1XSwocz0+e2NvbnN0IGM9TWF0aC5jb3MocyksaT1NYXRoLnNpbihzKSxbdSxoXT1wKHQscyk7cmV0dXJuW3UsaCwtbipyKmktbyphKmMsLW4qYSppK28qcipjLC1uKnIqYytvKmEqaSwtbiphKmMtbypyKmldfSkpLm1hcCgodD0+Zih0LGMsaSkpKTtoLnB1c2goYyxpKTtsZXQgTSxsLG09MS8wO2Zvcihjb25zdCBlIG9mIGgpe2NvbnN0IG49KGUtYykvKGktYyk7aWYobjwwfHxuPjEpY29udGludWU7Y29uc3Qgbz1wKHQsZSksW3IsYV09byx1PXNbMF0tcixoPXNbMV0tYSxmPXUqdStoKmg7ZjxtJiYoTT1uLGw9byxtPWYpfXJldHVybnt0Ok0sY3VydmVQb2ludDpsLGRpc3RhbmNlOk1hdGguc3FydChtKX19ZnVuY3Rpb24gZyh0LHMsbil7Y29uc3Qgbz1iKHMsbikse2E6cixiOmEsdTE6aSx1Mjp1LGNvc1I6aCxzaW5SOmUsaXNJbnZhbGlkOk19PW8sbD11LWksbT1uLmFbMF07aWYoYyh0LHMpLGModCxtKSxNKXJldHVybiB0O2NvbnN0IFI9TWF0aC5hdGFuMigtYSplLHIqaCkscT1SK01hdGguUEksST1NYXRoLmF0YW4yKGEqaCxyKmUpLGc9SStNYXRoLlBJO2Zvcihjb25zdCBiIG9mW1IscSxJLGddKXtjb25zdCBzPWYoYixpLHUpLG49KHMtaSkvbDtuPjAmJm48MSYmYyh0LHAobyxzKSl9cmV0dXJuIHR9ZnVuY3Rpb24geCh0LHMsbil7Y29uc3RbbyxyLGEsYyxpLHUsaF09cy5hLGU9Yih0LHMpLHt1MTpmLHUyOm0saXNJbnZhbGlkOnF9PWUsST1tLWY7aWYocSlyZXR1cm4gTWF0aC5zcXJ0KE0odCxvKSk7Y29uc3QgZz0xNCx4PVswLDBdO2xldCBqPTAsdj1bUihlLDApLFIoZSwuMjUpLFIoZSwuNSksUihlLC43NSksUihlLDEpXTtmb3IobGV0IGI9MDtiPGc7YisrKXtjb25zdCB0PXYubGVuZ3RoLTEscz1JLygyKnQpLG89W107Zm9yKGxldCBuPTA7bjx0O24rKylvLnB1c2godltuXSksby5wdXNoKHAoZSxmKygyKm4rMSkqcykpO28ucHVzaCh2W3YubGVuZ3RoLTFdKSx2PW8saj0wO2xldCBhPTA7Zm9yKGxldCBuPTE7bjx2Lmxlbmd0aDtuKyspe2NvbnN0IHQ9dltuLTFdLHM9dltuXTtpZihqKz1NYXRoLnNxcnQoTSh0LHMpKSxuPjEpe2NvbnN0IG89dltuLTJdLGM9bCh4LG8sdCxyLHMpO2ErPWM/TWF0aC5zcXJ0KE0odCxjKSk6TWF0aC5hYnMoc1swXS10WzBdKStNYXRoLmFicyhzWzFdLXRbMV0pfWVsc2UgYSs9an1pZihhLWo8bilyZXR1cm4gan1yZXR1cm4gan1jb25zdCBqPXIoKSx2PXIoKSxQPXIoKSxkPXIoKTtmdW5jdGlvbiB5KHIsYyxpKXtjb25zdFt1LGUsZixsLG0scCxSXT1jLmEscT1iKHIsYykse2Nvc1I6SSxzaW5SOmcsYTp4LGI6eSxjeDpVLGN5Ond9PXEsQj1hKFswLDBdLHUsaSksaz1hKFswLDBdLGUsaSksej1pWzBdKmlbNF08MD8xLWw6bDt7Y29uc3Qgcz14KngqZypnK3kqeSpJKkksbj0yKih5KnkteCp4KSpnKkksbz14KngqSSpJK3kqeSpnKmcscj0tMipzKlUtbip3LGE9LW4qVS0yKm8qdzt0KGoscyxuLzIsci8yLG4vMixvLGEvMixyLzIsYS8yLHMqVSpVK24qVSp3K28qdyp3LXgqeCp5KnkpfWlmKHModixpKSxudWxsPT12KXtjb25zdCB0PWEoWzAsMF0scixpKTtyZXR1cm57YTpbQixrLGYsbCxoKEJbMV0sQlswXSksTWF0aC5zcXJ0KE0oQix0KSkvMiwwXX19bihQLHYpLG8oZCxvKGQsUCxqKSx2KTt7Y29uc3QgdD1kWzBdLHM9MipkWzFdLG49ZFs0XSxvPTIqZFsyXSxyPTIqZFs1XSxhPXMqcy00KnQqbixjPTIqKHQqcipyK24qbypvLXMqbypyK2EqZFs4XSksaT1NYXRoLnNxcnQoKHQtbikqKjIrcypzKSx1PS1NYXRoLnNxcnQoYyoodCtuK2kpKS9hLGU9LU1hdGguc3FydChjKih0K24taSkpL2E7cmV0dXJue2E6W0IsayxmLHosLjUqaCgtcyxuLXQpLHUsZS91XX19fWV4cG9ydHttIGFzIERlcml2ZWRFbGxpcHNlLEkgYXMgY2xvc2VzdFBvaW50T25FbGxpcHNlLGIgYXMgZGVyaXZlRWxsaXBzZSxnIGFzIGVsbGlwdGljQXJjRXh0ZW50LHggYXMgZWxsaXB0aWNBcmNMZW5ndGgsUiBhcyBpbnRlcnBvbGF0ZUVsbGlwc2UscSBhcyBzcGxpdEVsbGlwdGljQXJjNyx5IGFzIHRyYW5zZm9ybUVsbGlwdGljQXJjfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjMzL2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7ZmxvYXRFcXVhbEFic29sdXRlIGFzIHR9ZnJvbVwiLi4vLi4vLi4vY29yZS9tYXRoVXRpbHMuanNcIjtpbXBvcnR7c3F1YXJlZERpc3RhbmNlIGFzIG59ZnJvbVwiLi4vLi4vLi4vY29yZS9saWJzL2dsLW1hdHJpeC0yL21hdGgvdmVjMi5qc1wiO2Z1bmN0aW9uIHIodCxuLHIsbyl7cmV0dXJuIHRbMF09blswXSooMS1vKStyWzBdKm8sdFsxXT1uWzFdKigxLW8pK3JbMV0qbyx0fWZ1bmN0aW9uIG8odCxyKXtyZXR1cm4gbih0LHIpfWZ1bmN0aW9uIHUodCxuLHIpe2NvbnN0IHU9byhuLHIpO2lmKDA9PT11KXJldHVybiBvKG4sdCk7Y29uc3QgYz0oblswXS10WzBdKSooclsxXS10WzFdKS0oblsxXS10WzFdKSooclswXS10WzBdKTtyZXR1cm4gYypjL3V9ZnVuY3Rpb24gYyh0LG4scixvLHUpe2NvbnN0W2MsYV09bixbZSxpXT1yLFtzLGhdPW8sW2YsTV09dSxtPShjLWUpKihoLU0pLShhLWkpKihzLWYpO2lmKDA9PT1tKXJldHVybiBudWxsO2NvbnN0IGw9KGMqaS1hKmUpKihzLWYpLShjLWUpKihzKk0taCpmKSxJPShjKmktYSplKSooaC1NKS0oYS1pKSoocypNLWgqZik7cmV0dXJuIHRbMF09bC9tLHRbMV09SS9tLHR9ZnVuY3Rpb24gYSh0LG4pe2NvbnN0IHI9TWF0aC5hdGFuMih0LG4pO3JldHVybiByPDA/cisyKk1hdGguUEk6cn1mdW5jdGlvbiBlKG4scixvKXtjb25zdFt1LGMsYSxlXT1vLmEsaT1NYXRoLmFicyhuLXIpLHM9aT5NYXRoLlBJLGg9aTxNYXRoLlBJLGY9dChpLE1hdGguUEkpO3JldHVybighZiYmKHMmJmF8fGgmJiFhKXx8ZiYmKG4+ciYmZXx8bjxyJiYhZSkpJiYobis9MiooTWF0aC5zaWduKHItbil8fDEpKk1hdGguUEkpLG59ZnVuY3Rpb24gaSh0LG4scil7Y29uc3Qgbz0yKk1hdGguUEksdT10LW47cmV0dXJuKHItbikqdTwwP3QtPShNYXRoLnRydW5jKHUvbykrTWF0aC5zaWduKHUpKSpvOnU+PW8mJih0LT1NYXRoLnRydW5jKHUvbykqbyksdH1mdW5jdGlvbiBzKHQsbixyLG89MTApe3JldHVybiBuLm1hcCgobj0+e2xldCB1PW47Zm9yKGxldCBjPTA7YzxvO2MrKyl7Y29uc3RbbixvLGMsYSxlLGldPXIodSkscz10WzBdLW4saD10WzFdLW8sZj0tYyxNPS1hO3UrPS0oMipzKmYrMipoKk0pLygyKmYqZisyKnMqLWUrMipNKk0rMipoKi1pfHwxZS02KX1yZXR1cm4gdX0pKX1leHBvcnR7ZSBhcyBjb3JyZWN0U3dlZXBBbmRXaW5kaW5nLG8gYXMgZGlzdGFuY2UyLHMgYXMgZmluZENsb3Nlc3RBbmRGdXJ0aGVzdEN1cnZlUGFyYW1ldGVyc1RvUG9pbnQsciBhcyBpbnRlcnBvbGF0ZVNlZ21lbnQsYyBhcyBpbnRlcnNlY3RMaW5lTGluZSxpIGFzIG1hdGNoV2luZGluZ0FuZFdyYXAsdSBhcyBwb2ludFRvU2VnbWVudERpc3RhbmNlMixhIGFzIHdyYXBBdGFuMn07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4zMy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0IGUgZnJvbVwiLi4vLi4vQ29sb3IuanNcIjtpbXBvcnR7aXNSR0IgYXMgcn1mcm9tXCIuLi8uLi9jb3JlL2NvbG9yVXRpbHMuanNcIjtpbXBvcnR7Y2xvbmUgYXMgaX1mcm9tXCIuLi8uLi9jb3JlL2xhbmcuanNcIjtpbXBvcnQgcyBmcm9tXCIuLi8uLi9sYXllcnMvc3VwcG9ydC9GaWVsZHNJbmRleC5qc1wiO2ltcG9ydHtjcmVhdGVSZW5kZXJlckV4cHJlc3Npb24gYXMgdH1mcm9tXCIuLi8uLi9zdXBwb3J0L0FyY2FkZUV4cHJlc3Npb24uanNcIjtpbXBvcnR7bm9ybWFsaXplRGFzaEVmZmVjdFRlbXBsYXRlIGFzIG8sdG9Mb3dlckNhc2VQcm9wcyBhcyBhLG5vcm1hbGl6ZVByaW1pdGl2ZU92ZXJyaWRlUHJvcHMgYXMgYyxhdHRyaWJ1dGVzVG9GaWVsZHMgYXMgbCxhbmFseXplVGV4dFBhcnRzIGFzIG4sYXNzaWduVGV4dFZhbHVlc0Zyb21GZWF0dXJlIGFzIHAsdW5jYXBpdGFsaXplIGFzIGZ9ZnJvbVwiLi91dGlscy5qc1wiO2ltcG9ydCBtIGZyb21cIi4uLy4uL3ZpZXdzLzJkL2FyY2FkZS9jYWxsRXhwcmVzc2lvbldpdGhGZWF0dXJlLmpzXCI7Y29uc3QgeT1lPT57aWYoIWUpcmV0dXJuWzAsMCwwLDBdO2NvbnN0e3IsZzppLGI6cyxhOnR9PWU7cmV0dXJuW3IsaSxzLDI1NSp0XX07Y2xhc3MgdntzdGF0aWMgZmluZEFwcGxpY2FibGVPdmVycmlkZXMoZSxyLGkpe2lmKGUmJnIpe2lmKGUucHJpbWl0aXZlTmFtZSl7bGV0IHM9ITE7Zm9yKGNvbnN0IHIgb2YgaSlpZihyLnByaW1pdGl2ZU5hbWU9PT1lLnByaW1pdGl2ZU5hbWUpe3M9ITA7YnJlYWt9aWYoIXMpZm9yKGNvbnN0IHQgb2Ygcil0LnByaW1pdGl2ZU5hbWU9PT1lLnByaW1pdGl2ZU5hbWUmJmkucHVzaCh0KX1zd2l0Y2goZS50eXBlKXtjYXNlXCJDSU1Qb2ludFN5bWJvbFwiOmNhc2VcIkNJTUxpbmVTeW1ib2xcIjpjYXNlXCJDSU1Qb2x5Z29uU3ltYm9sXCI6aWYoZS5lZmZlY3RzKWZvcihjb25zdCBzIG9mIGUuZWZmZWN0cyl2LmZpbmRBcHBsaWNhYmxlT3ZlcnJpZGVzKHMscixpKTtpZihlLnN5bWJvbExheWVycylmb3IoY29uc3QgcyBvZiBlLnN5bWJvbExheWVycyl2LmZpbmRBcHBsaWNhYmxlT3ZlcnJpZGVzKHMscixpKTticmVhaztjYXNlXCJDSU1UZXh0U3ltYm9sXCI6YnJlYWs7Y2FzZVwiQ0lNU29saWRTdHJva2VcIjpjYXNlXCJDSU1QaWN0dXJlU3Ryb2tlXCI6Y2FzZVwiQ0lNR3JhZGllbnRTdHJva2VcIjpjYXNlXCJDSU1Tb2xpZEZpbGxcIjpjYXNlXCJDSU1QaWN0dXJlRmlsbFwiOmNhc2VcIkNJTUhhdGNoRmlsbFwiOmNhc2VcIkNJTUdyYWRpZW50RmlsbFwiOmNhc2VcIkNJTVZlY3Rvck1hcmtlclwiOmNhc2VcIkNJTUNoYXJhY3Rlck1hcmtlclwiOmNhc2VcIkNJTVBpY3R1cmVNYXJrZXJcIjppZihlLmVmZmVjdHMpZm9yKGNvbnN0IHMgb2YgZS5lZmZlY3RzKXYuZmluZEFwcGxpY2FibGVPdmVycmlkZXMocyxyLGkpO2lmKGUubWFya2VyUGxhY2VtZW50JiZ2LmZpbmRBcHBsaWNhYmxlT3ZlcnJpZGVzKGUubWFya2VyUGxhY2VtZW50LHIsaSksXCJDSU1WZWN0b3JNYXJrZXJcIj09PWUudHlwZSl7aWYoZS5tYXJrZXJHcmFwaGljcylmb3IoY29uc3QgcyBvZiBlLm1hcmtlckdyYXBoaWNzKXYuZmluZEFwcGxpY2FibGVPdmVycmlkZXMocyxyLGkpLHYuZmluZEFwcGxpY2FibGVPdmVycmlkZXMocy5zeW1ib2wscixpKX1lbHNlXCJDSU1DaGFyYWN0ZXJNYXJrZXJcIj09PWUudHlwZT92LmZpbmRBcHBsaWNhYmxlT3ZlcnJpZGVzKGUuc3ltYm9sLHIsaSk6XCJDSU1IYXRjaEZpbGxcIj09PWUudHlwZT92LmZpbmRBcHBsaWNhYmxlT3ZlcnJpZGVzKGUubGluZVN5bWJvbCxyLGkpOlwiQ0lNUGljdHVyZU1hcmtlclwiPT09ZS50eXBlJiZ2LmZpbmRBcHBsaWNhYmxlT3ZlcnJpZGVzKGUuYW5pbWF0ZWRTeW1ib2xQcm9wZXJ0aWVzLHIsaSl9fX1zdGF0aWMgZmluZEVmZmVjdE92ZXJyaWRlcyhlLHIpe2lmKCFlKXJldHVybiBudWxsO2lmKFwiQ0lNR2VvbWV0cmljRWZmZWN0RGFzaGVzXCI9PT1lLnR5cGUmJm8oZSksIXJ8fCFlLnByaW1pdGl2ZU5hbWUpcmV0dXJue3R5cGU6XCJjaW0tZWZmZWN0LXBhcmFtXCIsZWZmZWN0OmUsb3ZlcnJpZGVzOltdfTtjb25zdCBpPWEoZSkscz1lLnByaW1pdGl2ZU5hbWUsdD1bXTtmb3IoY29uc3QgbyBvZiByKW8ucHJpbWl0aXZlTmFtZT09PXMmJnQucHVzaChhKG8pKTtyZXR1cm57dHlwZTpcImNpbS1lZmZlY3QtcGFyYW1cIixlZmZlY3Q6aSxvdmVycmlkZXM6Yyh0KX19c3RhdGljIGFzeW5jIHJlc29sdmVTeW1ib2xPdmVycmlkZXMoZSxyLHQsbyxhLGMsbil7aWYoIWU/LnN5bWJvbClyZXR1cm4gbnVsbDtsZXR7c3ltYm9sOnAscHJpbWl0aXZlT3ZlcnJpZGVzOmZ9PWU7Y29uc3QgbT0hIWY7aWYoIW0mJiFvKXJldHVybiBwO3A9aShwKSxmPWkoZik7bGV0IHk9ITA7aWYocnx8KHI9e2F0dHJpYnV0ZXM6e319LHk9ITEpLG0pe2lmKHl8fChmPWYuZmlsdGVyKChlPT4hZS52YWx1ZUV4cHJlc3Npb25JbmZvPy5leHByZXNzaW9uLmluY2x1ZGVzKFwiJGZlYXR1cmVcIikpKSksbnx8KGY9Zi5maWx0ZXIoKGU9PiFlLnZhbHVlRXhwcmVzc2lvbkluZm8/LmV4cHJlc3Npb24uaW5jbHVkZXMoXCIkdmlld1wiKSkpKSxmLmxlbmd0aD4wKXtjb25zdCBlPWwoci5hdHRyaWJ1dGVzKSxpPXtzcGF0aWFsUmVmZXJlbmNlOnQsZmllbGRzOmUsZ2VvbWV0cnlUeXBlOmF9O2F3YWl0IHYuY3JlYXRlUmVuZGVyRXhwcmVzc2lvbnMoZixpKSx2LmV2YWx1YXRlT3ZlcnJpZGVzKGYscixhPz9cImVzcmlHZW9tZXRyeVBvaW50XCIsYyxuLG5ldyBzKGUpKX12LmFwcGx5T3ZlcnJpZGVzKHAsZil9cmV0dXJuIG8mJnYuYXBwbHlEaWN0aW9uYXJ5VGV4dE92ZXJyaWRlcyhwLHIsbyxudWxsKSxwfXN0YXRpY3t0aGlzLl9leHByZXNzaW9uVG9SZW5kZXJFeHByZXNzaW9uPW5ldyBNYXB9c3RhdGljIGFzeW5jIGNyZWF0ZVJlbmRlckV4cHJlc3Npb25zKGUscil7Y29uc3QgaT1bXTtmb3IoY29uc3QgcyBvZiBlKXtjb25zdCBlPXMudmFsdWVFeHByZXNzaW9uSW5mbztpZighZXx8di5fZXhwcmVzc2lvblRvUmVuZGVyRXhwcmVzc2lvbi5oYXMoZS5leHByZXNzaW9uKSljb250aW51ZTtjb25zdCBvPXQoZS5leHByZXNzaW9uLHIuc3BhdGlhbFJlZmVyZW5jZSk7aS5wdXNoKG8pLG8udGhlbigocj0+di5fZXhwcmVzc2lvblRvUmVuZGVyRXhwcmVzc2lvbi5zZXQoZS5leHByZXNzaW9uLHIpKSl9aS5sZW5ndGg+MCYmYXdhaXQgUHJvbWlzZS5hbGwoaSl9c3RhdGljIGV2YWx1YXRlT3ZlcnJpZGVzKGUsaSxzLHQsbyxhKXtjb25zdCBjPXskdmlldzp7c2NhbGU6bz8uc2NhbGV9fTtmb3IoY29uc3QgbCBvZiBlKXtsLnZhbHVlJiZcIm9iamVjdFwiPT10eXBlb2YgbC52YWx1ZSYmcihsLnZhbHVlKSYmKFwiQ29sb3JcIj09PWwucHJvcGVydHlOYW1lfHxcIlN0cm9rZUNvbG9yXCI9PT1sLnByb3BlcnR5TmFtZSkmJihsLnZhbHVlPXkobC52YWx1ZSkpO2NvbnN0IGU9bC52YWx1ZUV4cHJlc3Npb25JbmZvO2lmKCFlKWNvbnRpbnVlO2NvbnN0IG89di5fZXhwcmVzc2lvblRvUmVuZGVyRXhwcmVzc2lvbi5nZXQoZS5leHByZXNzaW9uKTtvJiYobC52YWx1ZT1tKG8saSxjLHMsYSx0KSl9fXN0YXRpYyBhcHBseURpY3Rpb25hcnlUZXh0T3ZlcnJpZGVzKGUscixpLHMsdD1cIk5vcm1hbFwiKXtpZihlPy50eXBlKXN3aXRjaChlLnR5cGUpe2Nhc2VcIkNJTVBvaW50U3ltYm9sXCI6Y2FzZVwiQ0lNTGluZVN5bWJvbFwiOmNhc2VcIkNJTVBvbHlnb25TeW1ib2xcIjpjYXNlXCJDSU1UZXh0U3ltYm9sXCI6e2NvbnN0IG89ZS5zeW1ib2xMYXllcnM7aWYoIW8pcmV0dXJuO2Zvcihjb25zdCBhIG9mIG8pYSYmXCJDSU1WZWN0b3JNYXJrZXJcIj09PWEudHlwZSYmdi5hcHBseURpY3Rpb25hcnlUZXh0T3ZlcnJpZGVzKGEscixpLHMsXCJDSU1UZXh0U3ltYm9sXCI9PT1lLnR5cGU/ZS50ZXh0Q2FzZTp0KX1icmVhaztjYXNlXCJDSU1WZWN0b3JNYXJrZXJcIjp7Y29uc3QgdD1lLm1hcmtlckdyYXBoaWNzO2lmKCF0KXJldHVybjtmb3IoY29uc3QgZSBvZiB0KWUmJnYuYXBwbHlEaWN0aW9uYXJ5VGV4dE92ZXJyaWRlcyhlLHIsaSxzKX1icmVhaztjYXNlXCJDSU1NYXJrZXJHcmFwaGljXCI6e2NvbnN0IG89ZS50ZXh0U3RyaW5nO2lmKG8mJm8uaW5jbHVkZXMoXCJbXCIpKXtjb25zdCBhPW4obyxpKTtlLnRleHRTdHJpbmc9cChyLGEscyx0KX19fX1zdGF0aWMgYXBwbHlPdmVycmlkZXMoZSxyLGkscyl7aWYoZS5wcmltaXRpdmVOYW1lKWZvcihjb25zdCB0IG9mIHIpaWYodC5wcmltaXRpdmVOYW1lPT09ZS5wcmltaXRpdmVOYW1lKXtjb25zdCByPWYodC5wcm9wZXJ0eU5hbWUpO2lmKHMmJnMucHVzaCh7Y2ltOmUsbm9jYXBQcm9wZXJ0eU5hbWU6cix2YWx1ZTplW3JdfSksaSl7bGV0IHI9ITE7Zm9yKGNvbnN0IHMgb2YgaSlzLnByaW1pdGl2ZU5hbWU9PT1lLnByaW1pdGl2ZU5hbWUmJihyPSEwKTtyfHxpLnB1c2godCl9bnVsbCE9dC52YWx1ZSYmKGVbcl09dC52YWx1ZSl9c3dpdGNoKGUudHlwZSl7Y2FzZVwiQ0lNUG9pbnRTeW1ib2xcIjpjYXNlXCJDSU1MaW5lU3ltYm9sXCI6Y2FzZVwiQ0lNUG9seWdvblN5bWJvbFwiOmlmKGUuZWZmZWN0cylmb3IoY29uc3QgdCBvZiBlLmVmZmVjdHMpdi5hcHBseU92ZXJyaWRlcyh0LHIsaSxzKTtpZihlLnN5bWJvbExheWVycylmb3IoY29uc3QgdCBvZiBlLnN5bWJvbExheWVycyl2LmFwcGx5T3ZlcnJpZGVzKHQscixpLHMpO2JyZWFrO2Nhc2VcIkNJTVRleHRTeW1ib2xcIjpicmVhaztjYXNlXCJDSU1Tb2xpZFN0cm9rZVwiOmNhc2VcIkNJTVNvbGlkRmlsbFwiOmNhc2VcIkNJTVZlY3Rvck1hcmtlclwiOmlmKGUuZWZmZWN0cylmb3IoY29uc3QgdCBvZiBlLmVmZmVjdHMpdi5hcHBseU92ZXJyaWRlcyh0LHIsaSxzKTtpZihcIkNJTVZlY3Rvck1hcmtlclwiPT09ZS50eXBlJiZlLm1hcmtlckdyYXBoaWNzKWZvcihjb25zdCB0IG9mIGUubWFya2VyR3JhcGhpY3Mpdi5hcHBseU92ZXJyaWRlcyh0LHIsaSxzKSx2LmFwcGx5T3ZlcnJpZGVzKHQuc3ltYm9sLHIsaSxzKX19c3RhdGljIHJlc3RvcmVPdmVycmlkZXMoZSl7Zm9yKGNvbnN0IHIgb2YgZSlyLmNpbVtyLm5vY2FwUHJvcGVydHlOYW1lXT1yLnZhbHVlfXN0YXRpYyBidWlsZE92ZXJyaWRlS2V5KGUpe2xldCByPVwiXCI7Zm9yKGNvbnN0IGkgb2YgZSl2b2lkIDAhPT1pLnZhbHVlJiYocis9YCR7aS5wcmltaXRpdmVOYW1lfSR7aS5wcm9wZXJ0eU5hbWV9JHtKU09OLnN0cmluZ2lmeShpLnZhbHVlKX1gKTtyZXR1cm4gcn1zdGF0aWMgdG9WYWx1ZShyLGkpe2lmKFwiRGFzaFRlbXBsYXRlXCI9PT1yKXJldHVybiBpLnNwbGl0KFwiIFwiKS5tYXAoKGU9Pk51bWJlcihlKSkpO2lmKFwiQ29sb3JcIj09PXIpe2NvbnN0IHI9bmV3IGUoaSkudG9SZ2JhKCk7cmV0dXJuIHJbM10qPTI1NSxyfXJldHVybiBpfX1leHBvcnR7diBhcyBPdmVycmlkZUhlbHBlcn07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4zMy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0IGUgZnJvbVwiLi4vLi4vLi4vY29yZS9FcnJvci5qc1wiO2ltcG9ydCByIGZyb21cIi4uLy4uLy4uL2NvcmUvTG9nZ2VyLmpzXCI7aW1wb3J0e3VucXVhbnRpemVNdWx0aXBvaW50IGFzIHQsdW5xdWFudGl6ZVBvbHlsaW5lIGFzIG8sdW5xdWFudGl6ZVBvbHlnb24gYXMgbix1bnF1YW50aXplUG9pbnQgYXMgYX1mcm9tXCIuLi8uLi8uLi9nZW9tZXRyeS9zdXBwb3J0L3F1YW50aXphdGlvblV0aWxzLmpzXCI7ZnVuY3Rpb24gcyhlLHQsbyxuLGEscyl7aWYobnVsbD09ZSlyZXR1cm4gbnVsbDtjb25zdCB1PWUucmVmZXJlbmNlcyhcImdlb21ldHJ5XCIpJiZzP2kodCxuLHMpOnQsYz1lLnJlcHVycG9zZUZlYXR1cmUodSxhKTt0cnl7cmV0dXJuIGUuZXZhbHVhdGUoYyxvKX1jYXRjaChtKXtyZXR1cm4gci5nZXRMb2dnZXIoXCJlc3JpLnZpZXdzLjJkLnN1cHBvcnQuYXJjYWRlT25EZW1hbmRcIikud2FybihcIkZlYXR1cmUgYXJjYWRlIGV2YWx1YXRpb24gZmFpbGVkOlwiLG0pLG51bGx9fWNvbnN0IHU9bmV3IE1hcDtmdW5jdGlvbiBpKGUscix0KXtjb25zdHt0cmFuc2Zvcm06byxoYXNaOm4saGFzTTphfT10O3UuaGFzKHIpfHx1LnNldChyLGMocikpO2NvbnN0IHM9dS5nZXQocikoZS5nZW9tZXRyeSxvLG4sYSk7cmV0dXJuey4uLmUsZ2VvbWV0cnk6c319ZnVuY3Rpb24gYyhzKXtjb25zdCB1PXt9O3N3aXRjaChzKXtjYXNlXCJlc3JpR2VvbWV0cnlQb2ludFwiOnJldHVybihlLHIsdCxvKT0+YShyLHUsZSx0LG8pO2Nhc2VcImVzcmlHZW9tZXRyeVBvbHlnb25cIjpyZXR1cm4oZSxyLHQsbyk9Pm4ocix1LGUsdCxvKTtjYXNlXCJlc3JpR2VvbWV0cnlQb2x5bGluZVwiOnJldHVybihlLHIsdCxuKT0+byhyLHUsZSx0LG4pO2Nhc2VcImVzcmlHZW9tZXRyeU11bHRpcG9pbnRcIjpyZXR1cm4oZSxyLG8sbik9PnQocix1LGUsbyxuKTtkZWZhdWx0OnJldHVybiByLmdldExvZ2dlcihcImVzcmkudmlld3MuMmQuc3VwcG9ydC5hcmNhZGVPbkRlbWFuZFwiKS5lcnJvcihuZXcgZShcIm1hcHZpZXctYXJjYWRlXCIsYFVuYWJsZSB0byBoYW5kbGUgZ2VvbWV0cnlUeXBlOiAke3N9YCkpLGU9PmV9fWV4cG9ydHtzIGFzIGRlZmF1bHR9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMzMvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtub1Zpc3VhbFZhcmlhYmxlcyBhcyBhfWZyb21cIi4uLy4uLy4uLy4uL2xheWVycy9mZWF0dXJlcy9zY2hlbWEvcHJvY2Vzc29yL1Zpc3VhbFZhcmlhYmxlc1NjaGVtYS5qc1wiO2ltcG9ydHtnZXRTY2FsZUluZm8gYXMgcyxjcmVhdGVDb21wbGV4U2ltcGxlT3V0bGluZUZpbGxNZXNoSW5mb3MgYXMgZSxjcmVhdGVHcmFkaWVudFN0cm9rZU1lc2hJbmZvcyBhcyBpLGNyZWF0ZUdyYWRpZW50RmlsbE1lc2hJbmZvcyBhcyBuLGNyZWF0ZUNvbXBsZXhUZXh0TWVzaEluZm9zIGFzIHQsY3JlYXRlQW5pbWF0ZWRQb2x5TWVzaEluZm9zIGFzIHIsY3JlYXRlQ29tcGxleFRleHR1cmVkTGluZU1lc2hJbmZvcyBhcyBsLGNyZWF0ZUNvbXBsZXhTaW1wbGVMaW5lTWVzaEluZm9zIGFzIG8sY3JlYXRlQ29tcGxleFNpbXBsZUZpbGxNZXNoSW5mb3MgYXMgYyxjcmVhdGVDb21wbGV4RmlsbE1lc2hJbmZvcyBhcyBtLGNyZWF0ZUFuaW1hdGVkTWFya2VyTWVzaEluZm9zIGFzIHAsY3JlYXRlQ29tcGxleE1hcmtlck1lc2hJbmZvcyBhcyBofWZyb21cIi4uLy4uLy4uLy4uL2xheWVycy9mZWF0dXJlcy9zY2hlbWEvcHJvY2Vzc29yL3N5bWJvbHMvQ29tcGxleFN5bWJvbFNjaGVtYS5qc1wiO2FzeW5jIGZ1bmN0aW9uIHUodSxmLGspe2NvbnN0IGI9W10sZD17c2NhbGVJbmZvOnModSksc2NhbGVFeHByZXNzaW9uOm51bGx9O2Zvcihjb25zdCBzIG9mIGYpc3dpdGNoKHMudHlwZSl7Y2FzZVwibWFya2VyXCI6aWYocy5hbmltYXRpb25QYXJhbXMpe2lmKHMuYW5pbWF0aW9uUGFyYW1zLnBhcmFtcy5oYXNTaGlmdEFuaW1hdGlvbil7Yi5wdXNoKC4uLnAoay5pbnN0YW5jZXMuYW5pbWF0ZWRNYXJrZXJTaGlmdCxzLGEsZCkpO2JyZWFrfWIucHVzaCguLi5wKGsuaW5zdGFuY2VzLmFuaW1hdGVkTWFya2VyLHMsYSxkKSk7YnJlYWt9Yi5wdXNoKC4uLmgoay5pbnN0YW5jZXMubWFya2VyLHMsYSxkKSk7YnJlYWs7Y2FzZVwiZmlsbFwiOmlmKHMuYW5pbWF0aW9uUGFyYW1zKXtiLnB1c2goLi4ucihrLmluc3RhbmNlcy5hbmltYXRlZFBvbHlnb24scyxhLGQpKTticmVha31udWxsPT1zLnNwcml0ZVJhc3Rlcml6YXRpb25QYXJhbT9iLnB1c2goLi4uYyhrLmluc3RhbmNlcy5maWxsLHMsZCkpOmIucHVzaCguLi5tKGsuaW5zdGFuY2VzLmNvbXBsZXhGaWxsLHMsITEsZCkpO2JyZWFrO2Nhc2VcImxpbmVcIjppZihzLmFuaW1hdGlvblBhcmFtcyl7aWYocy5hbmltYXRpb25QYXJhbXMucGFyYW1zLmhhc1NoaWZ0QW5pbWF0aW9uKXtiLnB1c2goLi4ucihrLmluc3RhbmNlcy5hbmltYXRlZFBvbHlsaW5lU2hpZnQscyxhLGQpKTticmVha31iLnB1c2goLi4ucihrLmluc3RhbmNlcy5hbmltYXRlZFBvbHlsaW5lLHMsYSxkKSk7YnJlYWt9cy5zcHJpdGVSYXN0ZXJpemF0aW9uUGFyYW0/Yi5wdXNoKC4uLmwoay5pbnN0YW5jZXMudGV4dHVyZWRMaW5lLHMsITEsZCkpOmIucHVzaCguLi5vKGsuaW5zdGFuY2VzLmxpbmUscywhMSxkKSk7YnJlYWs7Y2FzZVwidGV4dFwiOmIucHVzaCguLi50KGsuaW5zdGFuY2VzLnRleHQscyxhLGQpKTticmVhaztjYXNlXCJncmFkaWVudEZpbGxcIjpiLnB1c2goLi4ubihrLmluc3RhbmNlcy5ncmFkaWVudEZpbGwscyxkKSk7YnJlYWs7Y2FzZVwiZ3JhZGllbnRTdHJva2VcIjpiLnB1c2goLi4uaShrLmluc3RhbmNlcy5ncmFkaWVudFN0cm9rZSxzLGQpKTticmVhaztjYXNlXCJvdXRsaW5lRmlsbFwiOmIucHVzaCguLi5lKGsuaW5zdGFuY2VzLm91dGxpbmVGaWxsLHMsZCkpfXJldHVybiBifWV4cG9ydHt1IGFzIGNyZWF0ZUdyYXBoaWNTeW1ib2xNZXNoU2NoZW1hc307XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4zMy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e3JpbmdzQ2VudHJvaWQgYXMgdCxwb2x5Z29uQ2VudHJvaWQgYXMgZX1mcm9tXCIuLi8uLi8uLi8uLi8uLi9nZW9tZXRyeS9zdXBwb3J0L2NlbnRyb2lkLmpzXCI7aW1wb3J0e2dldEpzb25UeXBlIGFzIHJ9ZnJvbVwiLi4vLi4vLi4vLi4vLi4vZ2VvbWV0cnkvc3VwcG9ydC9qc29uVXRpbHMuanNcIjtpbXBvcnR7Y29udmVydEZyb21HZW9tZXRyeSBhcyBzLGdlbmVyYWxpemVPcHRpbWl6ZWRHZW9tZXRyeSBhcyBpLHF1YW50aXplT3B0aW1pemVkR2VvbWV0cnkgYXMgb31mcm9tXCIuLi8uLi8uLi8uLi8uLi9sYXllcnMvZ3JhcGhpY3MvZmVhdHVyZUNvbnZlcnNpb25VdGlscy5qc1wiO2ltcG9ydCBuIGZyb21cIi4uLy4uLy4uLy4uLy4uL2xheWVycy9ncmFwaGljcy9PcHRpbWl6ZWRHZW9tZXRyeS5qc1wiO2ltcG9ydHt0aWxlU2l6ZSBhcyBofWZyb21cIi4uLy4uLy4uL2VuZ2luZS93ZWJnbC9kZWZpbml0aW9ucy5qc1wiO2ltcG9ydHtGZWF0dXJlU2V0UmVhZGVyIGFzIHV9ZnJvbVwiLi9GZWF0dXJlU2V0UmVhZGVyLmpzXCI7Y2xhc3MgYSBleHRlbmRzIHV7c3RhdGljIGZyb20odCxlLHIpe3JldHVybiBuZXcgYSh0LGUscil9Y29uc3RydWN0b3IodCxlLHIpe3N1cGVyKHIpLHRoaXMuX2l0ZW1zPXQsdGhpcy5fdGlsZT1lLHRoaXMuX2luZGV4PS0xLHRoaXMuX2NhY2hlZEdlb21ldHJ5PW51bGw7Y29uc3Qgcz1lLmxvZDtzLndyYXAmJih0aGlzLl93cmFwcGluZ0luZm89e3dvcmxkU2l6ZVg6cy53b3JsZFNpemVbMF19KX1nZXQgX2N1cnJlbnQoKXtyZXR1cm4gdGhpcy5faXRlbXNbdGhpcy5faW5kZXhdfWdldEl0ZW0oKXtyZXR1cm4gdGhpcy5fY3VycmVudH1nZXRaT3JkZXIoKXtyZXR1cm4gdGhpcy5fY3VycmVudC56T3JkZXJ9Z2V0TWVzaFdyaXRlcnMoKXtyZXR1cm4gdGhpcy5fY3VycmVudC5zeW1ib2xSZXNvdXJjZT8uc3ltYm9sSW5mby5tZXNoV3JpdGVycz8/W119aGFzRmllbGQodCl7cmV0dXJuIG51bGwhPXRoaXMuX2N1cnJlbnQuYXR0cmlidXRlc1t0XX1maWVsZCh0KXtyZXR1cm4gdGhpcy5yZWFkQXR0cmlidXRlKHQpfWdldCBnZW9tZXRyeVR5cGUoKXtjb25zdCB0PXIodGhpcy5fY3VycmVudC5nZW9tZXRyeSk7cmV0dXJuXCJlc3JpR2VvbWV0cnlQb2ludFwiPT09dD9cImVzcmlHZW9tZXRyeU11bHRpcG9pbnRcIjp0fWdldEN1cnNvcigpe3JldHVybiB0aGlzLmNvcHkoKX1jb3B5KCl7Y29uc3QgdD1uZXcgYSh0aGlzLl9pdGVtcyx0aGlzLl90aWxlLHRoaXMubWV0YWRhdGEpO3JldHVybiB0aGlzLmNvcHlJbnRvKHQpLHR9Y29weUludG8odCl7c3VwZXIuY29weUludG8odCksdC5fY2FjaGVkR2VvbWV0cnk9dGhpcy5fY2FjaGVkR2VvbWV0cnksdC5faW5kZXg9dGhpcy5faW5kZXh9Z2V0IGZpZWxkcygpe3Rocm93IG5ldyBFcnJvcihcIkZpZWxkcyByZWFkaW5nIG5vdCBzdXBwb3J0ZWQgdG8gZ3JhcGhpY3MuXCIpfWdldCBoYXNGZWF0dXJlcygpe3JldHVybiEhdGhpcy5faXRlbXMubGVuZ3RofWdldCBoYXNOZXh0KCl7cmV0dXJuIHRoaXMuX2luZGV4KzE8dGhpcy5faXRlbXMubGVuZ3RofWdldCBleGNlZWRlZFRyYW5zZmVyTGltaXQoKXt0aHJvdyBuZXcgRXJyb3IoXCJJbnRlcm5hbEVycm9yOiBleGNlZWRlZFRyYW5zZmVyTGltaXQgbm90IGltcGxlbWVudGVkIGZvciBncmFwaGljcy5cIil9Z2V0IGhhc1ooKXtyZXR1cm4hMX1nZXQgaGFzTSgpe3JldHVybiExfWdldCB1c2VkTWVtb3J5KCl7cmV0dXJuIHRoaXMuX2N1cnJlbnQudXNlZE1lbW9yeX1nZXRJblRyYW5zZm9ybSgpe3JldHVybiB0aGlzLl90aWxlLnRyYW5zZm9ybX1nZXRTaXplKCl7cmV0dXJuIHRoaXMuX2l0ZW1zLmxlbmd0aH1nZXRBdHRyaWJ1dGVIYXNoKCl7bGV0IHQ9XCJcIjtmb3IoY29uc3QgZSBpbiB0aGlzLl9jdXJyZW50LmF0dHJpYnV0ZXMpdCs9dGhpcy5fY3VycmVudC5hdHRyaWJ1dGVzW2VdO3JldHVybiB0fWdldE9iamVjdElkKCl7cmV0dXJuIHRoaXMuX2l0ZW1zW3RoaXMuX2luZGV4XS5vYmplY3RJZH1nZXREaXNwbGF5SWQoKXtyZXR1cm4gdGhpcy5fY3VycmVudC5kaXNwbGF5SWR9c2V0RGlzcGxheUlkKHQpe3Rocm93IG5ldyBFcnJvcihcIkludGVybmFsRXJyb3I6IFNldHRpbmcgZGlzcGxheUlkIG5vdCBzdXBwb3J0ZWQgZm9yIGdyYXBoaWNzLlwiKX1zZXRJbmRleCh0KXt0aGlzLl9pbmRleD10fWdldEluZGV4KCl7cmV0dXJuIHRoaXMuX2luZGV4fW5leHQoKXtmb3IodGhpcy5fY2FjaGVkR2VvbWV0cnk9bnVsbDsrK3RoaXMuX2luZGV4PHRoaXMuX2l0ZW1zLmxlbmd0aCYmIXRoaXMuX2dldEV4aXN0cygpOyk7cmV0dXJuIHRoaXMuX2luZGV4PHRoaXMuX2l0ZW1zLmxlbmd0aH1yZWFkR2VvbWV0cnlBcmVhKCl7dGhyb3cgbmV3IEVycm9yKFwiSW50ZXJuYWxFcnJvcjogcmVhZEdlb21ldHJ5QXJlYSBub3Qgc3VwcG9ydGVkIGZvciBncmFwaGljcy5cIil9X3JlYWRHZW9tZXRyeSgpe2lmKCF0aGlzLl9jYWNoZWRHZW9tZXRyeSl7bGV0IHQ9cyh0aGlzLl9jdXJyZW50LnByb2plY3RlZEdlb21ldHJ5LHRoaXMuaGFzWix0aGlzLmhhc00pO2lmKFwiZXNyaUdlb21ldHJ5UG9seWxpbmVcIj09PXRoaXMuZ2VvbWV0cnlUeXBlJiYodD1pKG5ldyBuLHQsdGhpcy5oYXNaLHRoaXMuaGFzTSx0aGlzLmdlb21ldHJ5VHlwZSx0aGlzLl90aWxlLnRyYW5zZm9ybS5zY2FsZVswXSkpLHRoaXMuX2NhY2hlZEdlb21ldHJ5PW8obmV3IG4sdCx0aGlzLmhhc1osdGhpcy5oYXNNLHRoaXMuZ2VvbWV0cnlUeXBlLHRoaXMuX3RpbGUudHJhbnNmb3JtKSwhdGhpcy5fY2FjaGVkR2VvbWV0cnkpcmV0dXJuIG51bGw7dGhpcy5fd3JhcEdlb21ldHJ5KHRoaXMuX2NhY2hlZEdlb21ldHJ5KX1yZXR1cm4gdGhpcy5fY2FjaGVkR2VvbWV0cnl9X3dyYXBHZW9tZXRyeSh0KXtpZighdGhpcy5fd3JhcHBpbmdJbmZvKXJldHVybjtjb25zdHt3b3JsZFNpemVYOmV9PXRoaXMuX3dyYXBwaW5nSW5mbztpZih0LmlzUG9pbnQpcmV0dXJuIDE9PT1lPyh0LmNvb3Jkcy5wdXNoKGgsMCksdC5jb29yZHMucHVzaCgtMTAyNCwwKSx2b2lkIHQubGVuZ3Rocy5wdXNoKDMpKToyPT09ZT8odC5jb29yZHMucHVzaCgyKmgsMCksdC5jb29yZHMucHVzaCgtMjA0OCwwKSx2b2lkIHQubGVuZ3Rocy5wdXNoKDMpKTp2b2lkIHRoaXMuX3dyYXBWZXJ0ZXgodC5jb29yZHMsMCwyLGUpO2lmKFwiZXNyaUdlb21ldHJ5TXVsdGlwb2ludFwiIT09dGhpcy5nZW9tZXRyeVR5cGUpO2Vsc2V7aWYoMT09PWUpe2NvbnN0IGU9dC5jb29yZHMuc2xpY2UoKTtlWzBdLT01MTI7Y29uc3Qgcj10LmNvb3Jkcy5zbGljZSgpO3JbMF0rPTUxMix0LmNvb3Jkcy5wdXNoKC4uLmUsLi4ucik7Y29uc3Qgcz10Lmxlbmd0aHNbMF07cmV0dXJuIHZvaWQgdC5sZW5ndGhzLnB1c2gocyxzKX10aGlzLl93cmFwVmVydGV4KHQuY29vcmRzLDAsMixlKX19X3dyYXBWZXJ0ZXgodCxlLHIscyl7Y29uc3QgaT1lKnIsbz10W2ldO288LWgqKHMtMik/dFtpXT1vK2gqczpvPmgqKHMtMSkmJih0W2ldPW8taCpzKX1fcmVhZFgoKXtjb25zdCB0PXRoaXMuX3JlYWRHZW9tZXRyeSgpO3JldHVybiBudWxsIT10P3QuY29vcmRzWzBdOjB9X3JlYWRZKCl7Y29uc3QgdD10aGlzLl9yZWFkR2VvbWV0cnkoKTtyZXR1cm4gbnVsbCE9dD90LmNvb3Jkc1sxXTowfV9yZWFkU2VydmVyQ2VudHJvaWQoKXtzd2l0Y2godGhpcy5nZW9tZXRyeVR5cGUpe2Nhc2VcImVzcmlHZW9tZXRyeVBvbHlnb25cIjp7Y29uc3QgdD1lKHRoaXMuX2N1cnJlbnQucHJvamVjdGVkR2VvbWV0cnkpLHI9bmV3IG4oW10sdCk7cmV0dXJuIG8obmV3IG4scix0aGlzLmhhc1osdGhpcy5oYXNNLHRoaXMuZ2VvbWV0cnlUeXBlLHRoaXMuX3RpbGUudHJhbnNmb3JtKX1jYXNlXCJlc3JpR2VvbWV0cnlQb2x5bGluZVwiOntjb25zdCBlPXRoaXMuX2N1cnJlbnQucHJvamVjdGVkR2VvbWV0cnkscj10KGUucGF0aHMsdGhpcy5oYXNaKSxzPW5ldyBuKFtdLHIpO3JldHVybiBvKG5ldyBuLHMsdGhpcy5oYXNaLHRoaXMuaGFzTSx0aGlzLmdlb21ldHJ5VHlwZSx0aGlzLl90aWxlLnRyYW5zZm9ybSl9fXJldHVybiBudWxsfV9yZWFkQXR0cmlidXRlKHQsZSl7Y29uc3Qgcj10aGlzLl9jdXJyZW50LmF0dHJpYnV0ZXNbdF07aWYodm9pZCAwIT09cilyZXR1cm4gcjtjb25zdCBzPXQudG9Mb3dlckNhc2UoKTtmb3IoY29uc3QgaSBpbiB0aGlzLl9jdXJyZW50LmF0dHJpYnV0ZXMpaWYoaS50b0xvd2VyQ2FzZSgpPT09cylyZXR1cm4gdGhpcy5fY3VycmVudC5hdHRyaWJ1dGVzW2ldfV9yZWFkQXR0cmlidXRlcygpe3JldHVybiB0aGlzLl9jdXJyZW50LmF0dHJpYnV0ZXN9fWV4cG9ydHthIGFzIEdyYXBoaWNzUmVhZGVyfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjMzL2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnQgaGFzIGZyb21cIi4uLy4uLy4uLy4uL2NvcmUvaGFzLmpzXCI7aW1wb3J0e3B0MnB4IGFzIGV9ZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9zY3JlZW5VdGlscy5qc1wiO2ltcG9ydHtyIGFzIHR9ZnJvbVwiLi4vLi4vLi4vLi4vY2h1bmtzL3JidXNoLmpzXCI7aW1wb3J0e2NyZWF0ZSBhcyBzLGludGVyc2VjdHMgYXMgbyxjb3B5IGFzIGl9ZnJvbVwiLi4vLi4vLi4vLi4vZ2VvbWV0cnkvc3VwcG9ydC9hYUJvdW5kaW5nUmVjdC5qc1wiO2ltcG9ydHtub3JtYWxpemVNYXBYIGFzIHJ9ZnJvbVwiLi4vLi4vLi4vLi4vZ2VvbWV0cnkvc3VwcG9ydC9ub3JtYWxpemVVdGlscy5qc1wiO2ltcG9ydHtnZXRJbmZvIGFzIG59ZnJvbVwiLi4vLi4vLi4vLi4vZ2VvbWV0cnkvc3VwcG9ydC9zcGF0aWFsUmVmZXJlbmNlVXRpbHMuanNcIjtpbXBvcnR7SGl0dGVzdERyYXdIZWxwZXIgYXMgbX1mcm9tXCIuLi8uLi8uLi8uLi9zeW1ib2xzL2NpbS9DSU1TeW1ib2xEcmF3SGVscGVyLmpzXCI7aW1wb3J0e0NJTVN5bWJvbEluZmxhdGVkU2l6ZUhlbHBlciBhcyBsfWZyb21cIi4uLy4uLy4uLy4uL3N5bWJvbHMvY2ltL0NJTVN5bWJvbEhlbHBlci5qc1wiO2ltcG9ydHtoaXR0ZXN0VG9sZXJhbmNlU21hbGxTeW1ib2wgYXMgYSxoaXR0ZXN0VG9sZXJhbmNlTW9iaWxlIGFzIHUsaGl0dGVzdFRvbGVyYW5jZURlc2t0b3AgYXMgaH1mcm9tXCIuLi8uLi9lbmdpbmUvd2ViZ2wvZGVmaW5pdGlvbnMuanNcIjtpbXBvcnR7R3JhcGhpY1N0b3JlSXRlbSBhcyBjfWZyb21cIi4vR3JhcGhpY1N0b3JlSXRlbS5qc1wiO2ltcG9ydHtwaXhlbEJ1ZmZlciBhcyBkfWZyb21cIi4vZ3JhcGhpY3NVdGlscy5qc1wiO2ltcG9ydHtHcmFwaGljVXBkYXRlTWVzc2FnZSBhcyBmfWZyb21cIi4vR3JhcGhpY1VwZGF0ZU1lc3NhZ2UuanNcIjtjb25zdCBwPTFlLTU7ZnVuY3Rpb24gXyhlLHQpe3JldHVybiB0LnpPcmRlci1lLnpPcmRlcn1jbGFzcyB5e2NvbnN0cnVjdG9yKGUsdCxzLG8saSl7dGhpcy5faXRlbXM9bmV3IE1hcCx0aGlzLl9ib3VuZHNEaXJ0eT0hMSx0aGlzLl9vdXRTcGF0aWFsUmVmZXJlbmNlPWUsdGhpcy5fY2ltUmVzb3VyY2VNYW5hZ2VyPXQsdGhpcy5faGl0dGVzdERyYXdIZWxwZXI9bmV3IG0odCksdGhpcy5fdGlsZUluZm9WaWV3PXMsdGhpcy5fc3RvcmU9aTtjb25zdCByPXMuZ2V0Q2xvc2VzdEluZm9Gb3JTY2FsZShvKTt0aGlzLl9yZXNvbHV0aW9uPXRoaXMuX3RpbGVJbmZvVmlldy5nZXRUaWxlUmVzb2x1dGlvbihyLmxldmVsKX1kZXN0cm95KCl7dGhpcy5faGl0dGVzdERyYXdIZWxwZXIuZGVzdHJveSgpfWl0ZW1zKCl7cmV0dXJuIHRoaXMuX2l0ZW1zLnZhbHVlcygpfWdldEl0ZW0oZSl7cmV0dXJuIHRoaXMuX2l0ZW1zLmdldChlKX1hc3luYyB1cGRhdGUoZSx0LHMpe2NvbnN0IG89W10saT1bXSxyPVtdLG49bmV3IFNldCxtPVtdO2xldCBsPTA7Zm9yKGNvbnN0IGEgb2YgZS5pdGVtcyl7bCsrO2NvbnN0IGU9YS51aWQscj10aGlzLl9pdGVtcy5nZXQoZSksdT10KGEpO2lmKG4uYWRkKGUpLHIpe2NvbnN0IGU9ci51cGRhdGUoYSx1LGwpLHQ9ci51cGRhdGVEZW5zaWZpY2F0aW9uUmVzb2x1dGlvbih0aGlzLl9yZXNvbHV0aW9uKTtlJiZtLnB1c2godGhpcy5fdXBkYXRlSXRlbShyLHMpKSwoZXx8dCkmJmkucHVzaChyKTtjb250aW51ZX1jb25zdCBoPXRoaXMuX3N0b3JlLmNyZWF0ZURpc3BsYXlJZEZvck9iamVjdElkKGUpLGQ9Yy5mcm9tR3JhcGhpYyhhLHUsbCxoKTtkLnVwZGF0ZURlbnNpZmljYXRpb25SZXNvbHV0aW9uKHRoaXMuX3Jlc29sdXRpb24pLG0ucHVzaCh0aGlzLl91cGRhdGVJdGVtKGQscykpLHRoaXMuX2l0ZW1zLnNldChkLm9iamVjdElkLGQpLG8ucHVzaChkKX1mb3IoY29uc3RbYSx1XW9mIHRoaXMuX2l0ZW1zLmVudHJpZXMoKSluLmhhcyhhKXx8KHRoaXMuX3N0b3JlLnJlbGVhc2VEaXNwbGF5SWRGb3JPYmplY3RJZChhKSx0aGlzLl9pdGVtcy5kZWxldGUoYSksci5wdXNoKHUpKTtyZXR1cm4gYXdhaXQgUHJvbWlzZS5hbGwobSksdGhpcy5faW5kZXg9bnVsbCxuZXcgZihvLGkscil9dXBkYXRlTGV2ZWwoZSl7aWYodGhpcy5fcmVzb2x1dGlvbj09PWUpcmV0dXJuITE7dGhpcy5faW5kZXg9bnVsbCx0aGlzLl9ib3VuZHNEaXJ0eT0hMCx0aGlzLl9yZXNvbHV0aW9uPWU7Zm9yKGNvbnN0IHQgb2YgdGhpcy5pdGVtcygpKWlmKHQuaGFzQ3VydmVkR2VvZW10cnkpcmV0dXJuITA7cmV0dXJuITF9aGl0VGVzdChlLHQsaSxuLG0pe2NvbnN0IGw9aGFzKFwiZXNyaS1tb2JpbGVcIiksYz1sP3U6aCxmPWMrKGw/MDphKTtlPXIoZSx0aGlzLl90aWxlSW5mb1ZpZXcuc3BhdGlhbFJlZmVyZW5jZSk7Y29uc3QgcD1uKndpbmRvdy5kZXZpY2VQaXhlbFJhdGlvKmYseT1zKCk7eVswXT1lLXAseVsxXT10LXAseVsyXT1lK3AseVszXT10K3A7Y29uc3QgYj1uKndpbmRvdy5kZXZpY2VQaXhlbFJhdGlvKmMsST1zKCk7SVswXT1lLWIsSVsxXT10LWIsSVsyXT1lK2IsSVszXT10K2I7Y29uc3QgZz0uNSpuKihmK2QpLHc9dGhpcy5fc2VhcmNoSW5kZXgoZS1nLHQtZyxlK2csdCtnKTtpZighd3x8MD09PXcubGVuZ3RoKXJldHVybltdO2NvbnN0IHg9W10saj1zKCksUj1zKCk7Zm9yKGNvbnN0IHMgb2Ygdyl7aWYoIXMudmlzaWJsZSljb250aW51ZTtjb25zdHtnZW9tZXRyeUJvdW5kczplLHN5bWJvbFJlc291cmNlOnR9PXM7dGhpcy5fZ2V0U3ltYm9sQm91bmRzKGosdCxlLFIsbSksUlszXT1SWzJdPVJbMV09UlswXT0wLG8oaix5KSYmeC5wdXNoKHMpfWlmKDA9PT14Lmxlbmd0aClyZXR1cm5bXTtjb25zdCBTPXRoaXMuX2hpdHRlc3REcmF3SGVscGVyLEI9W107Zm9yKGNvbnN0IHMgb2YgeCl7Y29uc3R7cHJvamVjdGVkR2VvbWV0cnk6ZSxzeW1ib2xSZXNvdXJjZTp0fT1zO2lmKCF0KWNvbnRpbnVlO2NvbnN0e3RleHRJbmZvOm8sc3ltYm9sSW5mbzppfT10LHI9aS5jaW1TeW1ib2w7Uy5oaXRUZXN0KEksci5zeW1ib2wsZSxvLG0sbikmJkIucHVzaChzKX1yZXR1cm4gQi5zb3J0KF8pLEIubWFwKChlPT5lLm9iamVjdElkKSl9cXVlcnlJdGVtcyhlKXtyZXR1cm4gMD09PXRoaXMuX2l0ZW1zLnNpemU/W106dGhpcy5fc2VhcmNoRm9ySXRlbXMoZSl9Y2xlYXIoKXt0aGlzLl9pdGVtcy5jbGVhcigpLHRoaXMuX2luZGV4PW51bGx9YXN5bmMgX3VwZGF0ZUl0ZW0oZSx0KXthd2FpdCBlLnByb2plY3RBbmROb3JtYWxpemUodGhpcy5fb3V0U3BhdGlhbFJlZmVyZW5jZSksYXdhaXQgdChlKTtjb25zdHtzaXplOnN9PWU7c1swXT1zWzFdPXNbMl09c1szXT0wLHRoaXMuX2dldFN5bWJvbEJvdW5kcyhlLnN5bWJvbEJvdW5kcyxlLnN5bWJvbFJlc291cmNlLGUuZ2VvbWV0cnlCb3VuZHMsZS5zaXplLDApfV9zZWFyY2hJbmRleChlLHMsbyxpKXtyZXR1cm4gdGhpcy5fYm91bmRzRGlydHkmJih0aGlzLl9pdGVtcy5mb3JFYWNoKChlPT50aGlzLl9nZXRTeW1ib2xCb3VuZHMoZS5zeW1ib2xCb3VuZHMsZS5zeW1ib2xSZXNvdXJjZSxlLmdlb21ldHJ5Qm91bmRzLGUuc2l6ZSwwKSkpLHRoaXMuX2JvdW5kc0RpcnR5PSExKSx0aGlzLl9pbmRleHx8KHRoaXMuX2luZGV4PXQoOSwoZT0+KHttaW5YOmUuc3ltYm9sQm91bmRzWzBdLG1pblk6ZS5zeW1ib2xCb3VuZHNbMV0sbWF4WDplLnN5bWJvbEJvdW5kc1syXSxtYXhZOmUuc3ltYm9sQm91bmRzWzNdfSkpKSx0aGlzLl9pbmRleC5sb2FkKEFycmF5LmZyb20odGhpcy5faXRlbXMudmFsdWVzKCkpKSksdGhpcy5faW5kZXguc2VhcmNoKHttaW5YOmUsbWluWTpzLG1heFg6byxtYXhZOml9KX1fc2VhcmNoRm9ySXRlbXMoZSl7Y29uc3QgdD10aGlzLl90aWxlSW5mb1ZpZXcuc3BhdGlhbFJlZmVyZW5jZSxvPWUuYm91bmRzLGk9bih0KTtpZihpJiZ0LmlzV3JhcHBhYmxlKXtjb25zdFt0LHJdPWkudmFsaWQsbj1NYXRoLmFicyhvWzJdLXIpPHAsbT1NYXRoLmFicyhvWzBdLXQpPHA7aWYoKCFufHwhbSkmJihufHxtKSl7Y29uc3QgaT1lLnJlc29sdXRpb247bGV0IG07bT1zKG4/W3Qsb1sxXSx0K2kqZCxvWzNdXTpbci1pKmQsb1sxXSxyLG9bM11dKTtjb25zdCBsPXRoaXMuX3NlYXJjaEluZGV4KG9bMF0sb1sxXSxvWzJdLG9bM10pLGE9dGhpcy5fc2VhcmNoSW5kZXgobVswXSxtWzFdLG1bMl0sbVszXSk7cmV0dXJuWy4uLm5ldyBTZXQoWy4uLmwsLi4uYV0pXX19cmV0dXJuIHRoaXMuX3NlYXJjaEluZGV4KG9bMF0sb1sxXSxvWzJdLG9bM10pfV9nZXRTeW1ib2xCb3VuZHModCxvLHIsbixtKXtpZighb3x8IW8uc3ltYm9sSW5mby5saW5lYXJDSU0pcmV0dXJuIG51bGw7aWYodHx8KHQ9cygpKSxpKHQsciksIW58fDA9PT1uWzBdJiYwPT09blsxXSYmMD09PW5bMl0mJjA9PT1uWzNdKXtjb25zdHt0ZXh0SW5mbzp0LHN5bWJvbEluZm86c309byxpPXMuY2ltU3ltYm9sO258fChuPVswLDAsMCwwXSk7Y29uc3Qgcj1sLmdldFN5bWJvbEluZmxhdGVTaXplKG4saS5zeW1ib2wsdGhpcy5fY2ltUmVzb3VyY2VNYW5hZ2VyLG0sdCk7blswXT1lKHJbMF0pLG5bMV09ZShyWzFdKSxuWzJdPWUoclsyXSksblszXT1lKHJbM10pfWNvbnN0IGE9dGhpcy5fcmVzb2x1dGlvbix1PWwuc2FmZVNpemUobik7cmV0dXJuIHRbMF0tPXUqYSx0WzFdLT11KmEsdFsyXSs9dSphLHRbM10rPXUqYSx0fX1leHBvcnR7eSBhcyBkZWZhdWx0fTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjMzL2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7ZXN0aW1hdGVBdHRyaWJ1dGVzTWVtb3J5IGFzIHR9ZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9tZW1vcnlFc3RpbWF0aW9ucy5qc1wiO2ltcG9ydHtlbXB0eSBhcyBlLHdpZHRoIGFzIGksaGVpZ2h0IGFzIHN9ZnJvbVwiLi4vLi4vLi4vLi4vZ2VvbWV0cnkvc3VwcG9ydC9hYUJvdW5kaW5nUmVjdC5qc1wiO2ltcG9ydHtnZXRCb3VuZHNYWSBhcyByfWZyb21cIi4uLy4uLy4uLy4uL2dlb21ldHJ5L3N1cHBvcnQvYm91bmRzVXRpbHMuanNcIjtpbXBvcnR7Y2xvc2VSaW5nc0FuZEZpeFdpbmRpbmcgYXMgb31mcm9tXCIuLi8uLi8uLi8uLi9nZW9tZXRyeS9zdXBwb3J0L2Nvb3Jkc1V0aWxzLmpzXCI7aW1wb3J0e2lzRXh0ZW50IGFzIG59ZnJvbVwiLi4vLi4vLi4vLi4vZ2VvbWV0cnkvc3VwcG9ydC9qc29uVXRpbHMuanNcIjtpbXBvcnR7bm9ybWFsaXplQ2VudHJhbE1lcmlkaWFuRm9yRGlzcGxheSBhcyBtfWZyb21cIi4uLy4uLy4uLy4uL2dlb21ldHJ5L3N1cHBvcnQvbm9ybWFsaXplVXRpbHNTeW5jLmpzXCI7aW1wb3J0e2lzQ3VydmVkR2VvbWV0cnkgYXMgYX1mcm9tXCIuLi8uLi8uLi8uLi9nZW9tZXRyeS9zdXBwb3J0L2N1cnZlcy9jdXJ2ZVV0aWxzLmpzXCI7aW1wb3J0e2RlbnNpZnlDdXJ2ZWRHZW9tZXRyeSBhcyBofWZyb21cIi4uLy4uLy4uLy4uL2dlb21ldHJ5L3N1cHBvcnQvY3VydmVzL2RlbnNpZnlDdXJ2ZWRHZW9tZXRyeS5qc1wiO2ltcG9ydHtlc3RpbWF0ZUdlb21ldHJ5TWVtb3J5IGFzIHV9ZnJvbVwiLi4vLi4vLi4vLi4vbGF5ZXJzL2dyYXBoaWNzL2RlaHlkcmF0ZWRGZWF0dXJlcy5qc1wiO2ltcG9ydHtjaGVja1Byb2plY3Rpb25TdXBwb3J0IGFzIHkscHJvamVjdCBhcyBjfWZyb21cIi4uLy4uLy4uLy4uL2xheWVycy9ncmFwaGljcy9kYXRhL3Byb2plY3Rpb25TdXBwb3J0LmpzXCI7aW1wb3J0e2dldENvYXJzZVNlZ21lbnRzUGVyQ3VydmUgYXMgcCxnZXRNaW5TZWdtZW50c1BlckN1cnZlIGFzIGwsZ2V0TWF4RGV2aWF0aW9uSW5QaXhlbHMgYXMgZCxnZXRBcHByb3hpbWF0ZU1heERlbnNpZmljYXRpb25TZWdtZW50cyBhcyBmfWZyb21cIi4vZGVuc2lmaWNhdGlvbkNvbnN0YW50cy5qc1wiO2ltcG9ydHtwb2x5Z29uRnJvbUV4dGVudCBhcyBnfWZyb21cIi4vZ3JhcGhpY3NVdGlscy5qc1wiO2NsYXNzIHZ7c3RhdGljIGZyb21HcmFwaGljKHQsZSxpLHMpe3JldHVybiBuZXcgdih0Lmdlb21ldHJ5LGUsdC5hdHRyaWJ1dGVzLHQudmlzaWJsZSx0LnVpZCx0LnZlcnNpb24saSxzKX1jb25zdHJ1Y3Rvcih0LGkscyxyLG8sbixtLGEpe3RoaXMuZ2VvbWV0cnk9dCx0aGlzLnN5bWJvbD1pLHRoaXMuYXR0cmlidXRlcz1zLHRoaXMudmlzaWJsZT1yLHRoaXMub2JqZWN0SWQ9byx0aGlzLl92ZXJzaW9uPW4sdGhpcy56T3JkZXI9bSx0aGlzLmRpc3BsYXlJZD1hLHRoaXMuc3ltYm9sQm91bmRzPWUoKSx0aGlzLnByZXZTeW1ib2xCb3VuZHM9ZSgpLHRoaXMuc2l6ZT1bMCwwLDAsMF0sdGhpcy5nZW9tZXRyeUJvdW5kcz1lKCksdGhpcy5faXNEZW5zaWZpY2F0aW9uRGlydHk9ITEsdGhpcy5fZGVuc2lmaWNhdGlvbkRldmlhdGlvbj0xLzB9Z2V0IHByb2plY3RlZEdlb21ldHJ5KCl7cmV0dXJuIHRoaXMuX3Byb2plY3RlZEdlb21ldHJ5fWdldCBsaW5lYXJDSU0oKXtyZXR1cm4gdGhpcy5zeW1ib2xSZXNvdXJjZT8uc3ltYm9sSW5mby5saW5lYXJDSU19Z2V0IHVzZWRNZW1vcnkoKXtyZXR1cm4gMTI4K3QodGhpcy5hdHRyaWJ1dGVzKSt1KHRoaXMuZ2VvbWV0cnkpfWdldCBoYXNBbmltYXRpb25zKCl7Y29uc3R7bGluZWFyQ0lNOnR9PXRoaXM7cmV0dXJuISF0JiZ0LnNvbWUoKHQ9PlwiYW5pbWF0aW9uUGFyYW1zXCJpbiB0JiYhIXQuYW5pbWF0aW9uUGFyYW1zKSl9Z2V0IGhhc0N1cnZlZEdlb2VtdHJ5KCl7cmV0dXJuIG51bGwhPXRoaXMuZ2VvbWV0cnkmJlwibWVzaFwiIT09dGhpcy5nZW9tZXRyeS50eXBlJiZhKHRoaXMuZ2VvbWV0cnkpfXVwZGF0ZSh0LGkscyl7cmV0dXJuKHRoaXMuX3ZlcnNpb24hPT10LnZlcnNpb258fHRoaXMuek9yZGVyIT09c3x8dGhpcy5zeW1ib2whPT1pKSYmKHRoaXMucHJldlN5bWJvbEJvdW5kcz10aGlzLnN5bWJvbEJvdW5kcyx0aGlzLnN5bWJvbEJvdW5kcz1lKCksdGhpcy56T3JkZXI9cyx0aGlzLmdlb21ldHJ5PXQuZ2VvbWV0cnksdGhpcy5hdHRyaWJ1dGVzPXQuYXR0cmlidXRlcyx0aGlzLnN5bWJvbD1pLHRoaXMudmlzaWJsZT10LnZpc2libGUsdGhpcy5fdmVyc2lvbj10LnZlcnNpb24sdGhpcy5zeW1ib2xSZXNvdXJjZT1udWxsLHRoaXMuX3Byb2plY3RlZEdlb21ldHJ5PW51bGwsZSh0aGlzLmdlb21ldHJ5Qm91bmRzKSx0aGlzLl9taW5EZW5zaWZpY2F0aW9uRGV2aWF0aW9uPW51bGwsdGhpcy5faXNEZW5zaWZpY2F0aW9uRGlydHk9ITAsITApfXVwZGF0ZURlbnNpZmljYXRpb25SZXNvbHV0aW9uKHQpe2lmKCF0aGlzLmhhc0N1cnZlZEdlb2VtdHJ5KXJldHVybiExO2NvbnN0IGU9TWF0aC5tYXgoRCh0KSx0aGlzLl9taW5EZW5zaWZpY2F0aW9uRGV2aWF0aW9uPz8wKTtyZXR1cm4gZSE9PXRoaXMuX2RlbnNpZmljYXRpb25EZXZpYXRpb24mJih0aGlzLl9kZW5zaWZpY2F0aW9uRGV2aWF0aW9uPWUsdGhpcy5faXNEZW5zaWZpY2F0aW9uRGlydHk9ITAsITApfWFzeW5jIHByb2plY3RBbmROb3JtYWxpemUodCl7bGV0IGUsbz10aGlzLmdlb21ldHJ5O2lmKG8mJm8uc3BhdGlhbFJlZmVyZW5jZSYmXCJtZXNoXCIhPT1vLnR5cGUmJihcImV4dGVudFwiPT09by50eXBlJiYobz1nKG8pKSxlPWEobyk/aChvLHttYXhTZWdtZW50TGVuZ3RoOjEvMCxtaW5TZWdtZW50c1BlckN1cnZlOnAoKX0pOm8udG9KU09OKCksdGhpcy5fcHJvamVjdGVkR2VvbWV0cnk9YXdhaXQgaihlLG8uc3BhdGlhbFJlZmVyZW5jZSx0KSxyKHRoaXMuZ2VvbWV0cnlCb3VuZHMsdGhpcy5fcHJvamVjdGVkR2VvbWV0cnkpLHRoaXMuaGFzQ3VydmVkR2VvZW10cnkmJm51bGwhPXRoaXMuX3Byb2plY3RlZEdlb21ldHJ5KSl7Y29uc3QgdD1pKHRoaXMuZ2VvbWV0cnlCb3VuZHMpLGU9cyh0aGlzLmdlb21ldHJ5Qm91bmRzKTt0aGlzLl9taW5EZW5zaWZpY2F0aW9uRGV2aWF0aW9uPWIodCxlKX19YXN5bmMgZGVuc2lmeUN1cnZlZEdlb21ldHJ5Rm9yRGlzcGxheSh0KXtpZighdGhpcy5oYXNDdXJ2ZWRHZW9lbXRyeXx8IXRoaXMuX2lzRGVuc2lmaWNhdGlvbkRpcnR5KXJldHVybjt0aGlzLl9pc0RlbnNpZmljYXRpb25EaXJ0eT0hMTtjb25zdCBlPXRoaXMuZ2VvbWV0cnk7aWYoIWV8fCFlLnNwYXRpYWxSZWZlcmVuY2V8fFwibWVzaFwiPT09ZS50eXBlKXJldHVybjtjb25zdCBpPXQubWV0ZXJzUGVyVW5pdC9lLnNwYXRpYWxSZWZlcmVuY2UubWV0ZXJzUGVyVW5pdCxzPXRoaXMuX2RlbnNpZmljYXRpb25EZXZpYXRpb24qaSxyPWgoZSx7bWF4RGV2aWF0aW9uOnMsbWluU2VnbWVudHNQZXJDdXJ2ZTpsKCl9KTt0aGlzLl9wcm9qZWN0ZWRHZW9tZXRyeT1hd2FpdCBqKHIsZS5zcGF0aWFsUmVmZXJlbmNlLHQpfX1hc3luYyBmdW5jdGlvbiBqKHQsZSxpKXthd2FpdCB5KHQuc3BhdGlhbFJlZmVyZW5jZSxpKTtjb25zdCBzPW0odCk7aWYoIXMpcmV0dXJuO2NvbnN0IHI9YyhzLGUsaSk7cmV0dXJuIHImJm8ociksbihyKT9nKHIpOnJ9ZnVuY3Rpb24gRCh0KXtyZXR1cm4gMioqTWF0aC5yb3VuZChNYXRoLmxvZzIodCkpKmQoKX1mdW5jdGlvbiBiKHQsZSl7aWYodD4wJiZlPjApe2NvbnN0IGk9TWF0aC5taW4odCxlKS8yLHM9MipNYXRoLlBJL2YoKTtyZXR1cm4gaSooMS1NYXRoLmNvcyhzLzIpKX1yZXR1cm4gbnVsbH1leHBvcnR7diBhcyBHcmFwaGljU3RvcmVJdGVtfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjMzL2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5jbGFzcyB0e2NvbnN0cnVjdG9yKHQsZSxkKXt0aGlzLmFkZGVkPXQsdGhpcy51cGRhdGVkPWUsdGhpcy5yZW1vdmVkPWR9aGFzQW55VXBkYXRlKCl7cmV0dXJuISEodGhpcy5hZGRlZC5sZW5ndGh8fHRoaXMudXBkYXRlZC5sZW5ndGh8fHRoaXMucmVtb3ZlZC5sZW5ndGgpfX1leHBvcnR7dCBhcyBHcmFwaGljVXBkYXRlTWVzc2FnZX07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4zMy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e18gYXMgZX1mcm9tXCIuLi8uLi8uLi8uLi9jaHVua3MvdHNsaWIuZXM2LmpzXCI7aW1wb3J0IHQgZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9BY2Nlc3Nvci5qc1wiO2ltcG9ydHtpc1NvbWUgYXMgc31mcm9tXCIuLi8uLi8uLi8uLi9jb3JlL2FycmF5VXRpbHMuanNcIjtpbXBvcnQgaGFzIGZyb21cIi4uLy4uLy4uLy4uL2NvcmUvaGFzLmpzXCI7aW1wb3J0IHIgZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9JZGVudGlmaWFibGUuanNcIjtpbXBvcnR7YXNzZXJ0SXNTb21lIGFzIGl9ZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9tYXliZS5qc1wiO2ltcG9ydHtpZ25vcmVBYm9ydEVycm9ycyBhcyBvLHRocm93SWZBYm9ydGVkIGFzIGF9ZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9wcm9taXNlVXRpbHMuanNcIjtpbXBvcnR7d2F0Y2ggYXMgbn1mcm9tXCIuLi8uLi8uLi8uLi9jb3JlL3JlYWN0aXZlVXRpbHMuanNcIjtpbXBvcnR7cHJvcGVydHkgYXMgaH1mcm9tXCIuLi8uLi8uLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3Byb3BlcnR5LmpzXCI7aW1wb3J0XCIuLi8uLi8uLi8uLi9jb3JlL0xvZ2dlci5qc1wiO2ltcG9ydHtzdWJjbGFzcyBhcyBkfWZyb21cIi4uLy4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvc3ViY2xhc3MuanNcIjtpbXBvcnR7Y3JlYXRlIGFzIGN9ZnJvbVwiLi4vLi4vLi4vLi4vZ2VvbWV0cnkvc3VwcG9ydC9hYUJvdW5kaW5nUmVjdC5qc1wiO2ltcG9ydHtpc1BvbHlsaW5lIGFzIGwsaXNQb2x5Z29uIGFzIHAsaXNFeHRlbnQgYXMgdSxnZXRKc29uVHlwZSBhcyBtfWZyb21cIi4uLy4uLy4uLy4uL2dlb21ldHJ5L3N1cHBvcnQvanNvblV0aWxzLmpzXCI7aW1wb3J0IGcgZnJvbVwiLi4vLi4vLi4vLi4vbGF5ZXJzL3N1cHBvcnQvRmllbGRzSW5kZXguanNcIjtpbXBvcnR7c3ltYm9sVG9DSU0gYXMgZixDSU1TeW1ib2xIZWxwZXIgYXMgeX1mcm9tXCIuLi8uLi8uLi8uLi9zeW1ib2xzL2NpbS9DSU1TeW1ib2xIZWxwZXIuanNcIjtpbXBvcnR7T3ZlcnJpZGVIZWxwZXIgYXMgX31mcm9tXCIuLi8uLi8uLi8uLi9zeW1ib2xzL2NpbS9PdmVycmlkZUhlbHBlci5qc1wiO2ltcG9ydHtlcnJvclBvaW50U3ltYm9sMkQgYXMgYixlcnJvclBvbHlsaW5lU3ltYm9sMkQgYXMgdyxlcnJvclBvbHlnb25TeW1ib2wyRCBhcyBTfWZyb21cIi4uLy4uLy4uLy4uL3N5bWJvbHMvc3VwcG9ydC9kZWZhdWx0cy5qc1wiO2ltcG9ydHtmaWx0ZXJGbGFnMCBhcyBJfWZyb21cIi4uLy4uL2VuZ2luZS93ZWJnbC9kZWZpbml0aW9ucy5qc1wiO2ltcG9ydHtGZWF0dXJlVGlsZSBhcyB2fWZyb21cIi4uLy4uL2VuZ2luZS93ZWJnbC9GZWF0dXJlVGlsZS5qc1wiO2ltcG9ydHtNZXNoRGF0YSBhcyBUfWZyb21cIi4uLy4uL2VuZ2luZS93ZWJnbC9tZXNoL01lc2hEYXRhLmpzXCI7aW1wb3J0e1Jlc291cmNlUHJveHkgYXMgTX1mcm9tXCIuLi8uLi9lbmdpbmUvd2ViZ2wvbWVzaC9mYWN0b3JpZXMvUmVzb3VyY2VQcm94eS5qc1wiO2ltcG9ydHtjcmVhdGVHcmFwaGljU3ltYm9sTWVzaFNjaGVtYXMgYXMgUn1mcm9tXCIuLi8uLi9lbmdpbmUvd2ViZ2wvc2hhZGVyR3JhcGgvdGVjaG5pcXVlcy9jcmVhdGVHcmFwaGljU3ltYm9sTWVzaFNjaGVtYXMuanNcIjtpbXBvcnR7Y3JlYXRlU3RvcmFnZVNjaGVtYSBhcyBqfWZyb21cIi4uL2ZlYXR1cmVzL3NjaGVtYS9wcm9jZXNzb3IvU3RvcmFnZVNjaGVtYS5qc1wiO2ltcG9ydHtBdHRyaWJ1dGVTdG9yZSBhcyB4fWZyb21cIi4uL2ZlYXR1cmVzL3N1cHBvcnQvQXR0cmlidXRlU3RvcmUuanNcIjtpbXBvcnR7Q29tcHV0ZWRBdHRyaWJ1dGVTdG9yYWdlIGFzIFV9ZnJvbVwiLi4vZmVhdHVyZXMvc3VwcG9ydC9Db21wdXRlZEF0dHJpYnV0ZVN0b3JhZ2UuanNcIjtpbXBvcnR7R3JhcGhpY3NNZXRhZGF0YSBhcyBDfWZyb21cIi4uL2ZlYXR1cmVzL3N1cHBvcnQvRmVhdHVyZU1ldGFkYXRhLmpzXCI7aW1wb3J0e0dyYXBoaWNzUmVhZGVyIGFzIHF9ZnJvbVwiLi4vZmVhdHVyZXMvc3VwcG9ydC9HcmFwaGljc1JlYWRlci5qc1wiO2ltcG9ydCBHIGZyb21cIi4vR3JhcGhpY1N0b3JlLmpzXCI7aW1wb3J0e0ZlYXR1cmVDb21tYW5kUXVldWUgYXMga31mcm9tXCIuLi9zdXBwb3J0L0ZlYXR1cmVDb21tYW5kUXVldWUuanNcIjtpbXBvcnR7VXBkYXRlVHJhY2tpbmcyRCBhcyBQfWZyb21cIi4uL3N1cHBvcnQvVXBkYXRlVHJhY2tpbmcyRC5qc1wiO2NsYXNzIEZ7c3RhdGljIGdldE9yQ3JlYXRlKGUsdCxzKXtsZXQgcj10LmdldChlLmlkKTtyZXR1cm4gcnx8KHI9bmV3IEYoZSxzKSx0LnNldChlLmlkLHIpKSxyfXN0YXRpYyBmcm9tSXRlbXMoZSx0LHMpe2NvbnN0IHI9bmV3IEYoZSxzKTtmb3IoY29uc3QgaSBvZiB0KXIuYXBwZW5kKGkpO3JldHVybiByfWNvbnN0cnVjdG9yKGUsdCl7dGhpcy50aWxlPWUsdGhpcy5tZXRhZGF0YT10LHRoaXMuYWRkZWRPck1vZGlmaWVkPVtdLHRoaXMucmVtb3ZlZD1bXSx0aGlzLm9iamVjdElkTWFwPW51bGx9Z2V0IHJlYWRlcigpe3JldHVybiB0aGlzLl9yZWFkZXJ8fCh0aGlzLl9yZWFkZXI9cS5mcm9tKHRoaXMuYWRkZWRPck1vZGlmaWVkLHRoaXMudGlsZSx0aGlzLm1ldGFkYXRhKSksdGhpcy5fcmVhZGVyfWFwcGVuZChlKXt0aGlzLmFkZGVkT3JNb2RpZmllZC5wdXNoKGUpLGUuaGFzQW5pbWF0aW9ucyYmKHRoaXMub2JqZWN0SWRNYXA9dGhpcy5vYmplY3RJZE1hcHx8e30sdGhpcy5vYmplY3RJZE1hcFtlLmRpc3BsYXlJZF09ZS5vYmplY3RJZCl9fWxldCBPPWNsYXNzIGV4dGVuZHMoci5JZGVudGlmaWFibGVNaXhpbih0KSl7Y29uc3RydWN0b3IoZSl7c3VwZXIoZSksdGhpcy5fYXR0YWNoZWQ9ITEsdGhpcy5fdGlsZXM9bmV3IE1hcCx0aGlzLl9jb250cm9sbGVyPW5ldyBBYm9ydENvbnRyb2xsZXIsdGhpcy5faGFzaFRvU3ltYm9sSW5mbz1uZXcgTWFwLHRoaXMuX2xhc3RDbGVhbnVwPXBlcmZvcm1hbmNlLm5vdygpLHRoaXMuX2NsZWFudXBSZXF1aXJlZD0hMCx0aGlzLmxhc3RVcGRhdGVJZD0tMSx0aGlzLnJlbmRlcmVyPW51bGwsdGhpcy5fdXBkYXRlVHJhY2tpbmc9bmV3IFAoe2RlYnVnTmFtZTpcIkdyYXBoaWNzVmlldzJEXCJ9KSx0aGlzLnVwZGF0ZVJlcXVlc3RlZD0hMSx0aGlzLmRlZmF1bHRQb2ludFN5bWJvbEVuYWJsZWQ9ITAsdGhpcy5fY29tbWFuZFF1ZXVlPW5ldyBrKHtwcm9jZXNzOmU9PntpZihcInVwZGF0ZVwiPT09ZS50eXBlKXJldHVybiB0aGlzLl91cGRhdGUoKTt0aHJvdyBuZXcgRXJyb3IoXCJJbnRlcm5hbEVycm9yOiBVbnN1cHBvcnRlZCBjb21tYW5kXCIpfX0pLHRoaXMuZ3JhcGhpY1VwZGF0ZUhhbmRsZXI9dGhpcy5ncmFwaGljVXBkYXRlSGFuZGxlci5iaW5kKHRoaXMpfWRlc3Ryb3koKXt0aGlzLmNvbnRhaW5lci5kZXN0cm95KCksdGhpcy52aWV3PW51bGwsdGhpcy5yZW5kZXJlcj1udWxsLHRoaXMuX3NldChcImdyYXBoaWNzXCIsbnVsbCksdGhpcy5fY29udHJvbGxlci5hYm9ydCgpLHRoaXMuX2dyYXBoaWNTdG9yZS5jbGVhcigpLHRoaXMuX2dyYXBoaWNTdG9yZS5kZXN0cm95KCksdGhpcy5fYXR0cmlidXRlU3RvcmU9bnVsbCx0aGlzLl9oYXNoVG9TeW1ib2xJbmZvLmNsZWFyKCksdGhpcy5fdXBkYXRlVHJhY2tpbmcuZGVzdHJveSgpLHRoaXMuX2NvbW1hbmRRdWV1ZS5kZXN0cm95KCl9X2luaXRBdHRyaWJ1dGVTdG9yZSgpe3RoaXMuX3N0b3JhZ2U9bmV3IFUoe3NwYXRpYWxSZWZlcmVuY2U6dGhpcy52aWV3LnNwYXRpYWxSZWZlcmVuY2UsZmllbGRzOm5ldyBnfSksdGhpcy5fYXR0cmlidXRlU3RvcmU9bmV3IHgoe2lzTG9jYWw6ITAsdXBkYXRlOmU9PntoYXMoXCJlc3JpLTJkLXVwZGF0ZS1kZWJ1Z1wiKSYmY29uc29sZS5kZWJ1ZyhgW0lkOiAke3RoaXMubGF5ZXJJZH1dIEdyYXBoaWNzVmlldzJELkF0dHJpYnV0ZVN0b3JlVmlldy51cGRhdGVTdGFydGAse21lc3NhZ2U6ZX0pLHRoaXMuY29udGFpbmVyLmF0dHJpYnV0ZVZpZXcucmVxdWVzdFVwZGF0ZShlKSx0aGlzLmNvbnRhaW5lci5yZXF1ZXN0UmVuZGVyKCksaGFzKFwiZXNyaS0yZC11cGRhdGUtZGVidWdcIikmJmNvbnNvbGUuZGVidWcoYFtJZDogJHt0aGlzLmxheWVySWR9XSBHcmFwaGljc1ZpZXcyRC5BdHRyaWJ1dGVTdG9yZVZpZXcudXBkYXRlRW5kYCx7bWVzc2FnZTplfSl9fSk7Y29uc3QgZT1qKG51bGwsW10pO3RoaXMuX2F0dHJpYnV0ZVN0b3JlLnVwZGF0ZShlLHRoaXMuX3N0b3JhZ2UsbnVsbCksdGhpcy5jb250YWluZXIuY2hlY2tIaWdobGlnaHQ9KCk9PnRoaXMuX2F0dHJpYnV0ZVN0b3JlLmhhc0hpZ2hsaWdodH1pbml0aWFsaXplKCl7dGhpcy5faW5pdEF0dHJpYnV0ZVN0b3JlKCksdGhpcy5fbWV0YWRhdGE9Qy5jcmVhdGVHcmFwaGljcyh0aGlzLnZpZXcuc3BhdGlhbFJlZmVyZW5jZSksdGhpcy5fcmVzb3VyY2VQcm94eT1uZXcgTSh7ZmV0Y2g6ZT0+UHJvbWlzZS5hbGwoZS5tYXAoKGU9PnRoaXMudmlldy5zdGFnZS50ZXh0dXJlTWFuYWdlci5yYXN0ZXJpemVJdGVtKGUpKSkpLGZldGNoRGljdGlvbmFyeTplPT57dGhyb3cgbmV3IEVycm9yKFwiSW50ZXJuYWxFcnJvcjogR3JhcGhpY3MgZG8gbm90IHN1cHBvcnQgRGljdGlvbmFyeSByZXF1ZXN0c1wiKX19KSx0aGlzLmFkZEhhbmRsZXMoW24oKCgpPT50aGlzLl9lZmZlY3RpdmVSZW5kZXJlciksKCgpPT50aGlzLl9wdXNoVXBkYXRlKCkpKSx0aGlzLnZpZXcuZ3JhcGhpY3NUaWxlU3RvcmUub24oXCJ1cGRhdGVcIix0aGlzLl9vblRpbGVVcGRhdGUuYmluZCh0aGlzKSksdGhpcy5jb250YWluZXIub24oXCJhdHRhY2hcIiwoKCk9Pnt0aGlzLmFkZEhhbmRsZXMoW3RoaXMuZ3JhcGhpY3Mub24oXCJjaGFuZ2VcIiwoKCk9PnRoaXMuX3B1c2hVcGRhdGUoKSkpXSksdGhpcy5fZ3JhcGhpY1N0b3JlPy5kZXN0cm95KCksdGhpcy5fZ3JhcGhpY1N0b3JlPW5ldyBHKHRoaXMudmlldy5zcGF0aWFsUmVmZXJlbmNlLHRoaXMuX2NpbVJlc291cmNlTWFuYWdlcix0aGlzLnZpZXcuZmVhdHVyZXNUaWxpbmdTY2hlbWUsdGhpcy52aWV3LnN0YXRlLnNjYWxlLHRoaXMuX2F0dHJpYnV0ZVN0b3JlKSx0aGlzLl9hdHRhY2hlZD0hMCx0aGlzLnJlcXVlc3RVcGRhdGUoKSx0aGlzLl9wdXNoVXBkYXRlKCl9KSldKSx0aGlzLl91cGRhdGVUcmFja2luZy5hZGRVcGRhdGVUcmFja2luZyhcIkNvbW1hbmRRdWV1ZVwiLHRoaXMuX2NvbW1hbmRRdWV1ZS51cGRhdGVUcmFja2luZyk7Y29uc3QgZT10aGlzLnZpZXcuZ3JhcGhpY3NUaWxlU3RvcmUudGlsZXM7dGhpcy5fb25UaWxlVXBkYXRlKHthZGRlZDplLHJlbW92ZWQ6W119KX1nZXQgX2VmZmVjdGl2ZVJlbmRlcmVyKCl7cmV0dXJuXCJmdW5jdGlvblwiPT10eXBlb2YgdGhpcy5yZW5kZXJlcj90aGlzLnJlbmRlcmVyKCk6dGhpcy5yZW5kZXJlcn1nZXQgX2NpbVJlc291cmNlTWFuYWdlcigpe3JldHVybiB0aGlzLnZpZXcuc3RhZ2UudGV4dHVyZU1hbmFnZXIucmVzb3VyY2VNYW5hZ2VyfWdldCB1cGRhdGluZygpe2NvbnN0IGU9IXRoaXMuX2F0dGFjaGVkfHx0aGlzLl91cGRhdGVUcmFja2luZy51cGRhdGluZztyZXR1cm4gaGFzKFwiZXNyaS0yZC1sb2ctdXBkYXRpbmdcIikmJmNvbnNvbGUubG9nKGBVcGRhdGluZyBHcmFwaGljc1ZpZXcyRDogJHtlfVxcbiAgLT4gYXR0YWNoaW5nICR7IXRoaXMuX2F0dGFjaGVkfVxcbiAgLT4gdXBkYXRlVHJhY2tpbmcgJHt0aGlzLl91cGRhdGVUcmFja2luZy51cGRhdGluZ31gKSxlfWhpdFRlc3QoZSl7aWYoIXRoaXMudmlld3x8dGhpcy52aWV3LnN1c3BlbmRlZClyZXR1cm5bXTtjb25zdHtyZXNvbHV0aW9uOnQscm90YXRpb246cn09dGhpcy52aWV3LnN0YXRlLGk9dGhpcy5fZ3JhcGhpY1N0b3JlLmhpdFRlc3QoZS54LGUueSwyLHQsciksbz1uZXcgU2V0KGkpLGE9dGhpcy5ncmFwaGljcy5pdGVtcy5yZWR1Y2UoKChlLHQpPT4oby5oYXModC51aWQpJiZlLnNldCh0LnVpZCx0KSxlKSksbmV3IE1hcCk7cmV0dXJuIGkubWFwKChlPT5hLmdldChlKSkpLmZpbHRlcihzKX1yZXF1ZXN0VXBkYXRlKCl7dGhpcy51cGRhdGVSZXF1ZXN0ZWR8fCh0aGlzLnVwZGF0ZVJlcXVlc3RlZD0hMCx0aGlzLnJlcXVlc3RVcGRhdGVDYWxsYmFjaygpKSx0aGlzLm5vdGlmeUNoYW5nZShcInVwZGF0aW5nXCIpfXByb2Nlc3NVcGRhdGUoZSl7dGhpcy51cGRhdGVSZXF1ZXN0ZWQmJih0aGlzLnVwZGF0ZVJlcXVlc3RlZD0hMSx0aGlzLnVwZGF0ZShlKSl9dmlld0NoYW5nZSgpe3RoaXMucmVxdWVzdFVwZGF0ZSgpfXNldEhpZ2hsaWdodChlKXtjb25zdCB0PVtdO2Zvcihjb25zdHtvYmplY3RJZDpzLGhpZ2hsaWdodEZsYWdzOnJ9b2YgZSl7Y29uc3QgZT10aGlzLl9ncmFwaGljU3RvcmUuZ2V0SXRlbShzKT8uZGlzcGxheUlkO3QucHVzaCh7b2JqZWN0SWQ6cyxoaWdobGlnaHRGbGFnczpyLGRpc3BsYXlJZDplfSl9dGhpcy5fYXR0cmlidXRlU3RvcmUuc2V0SGlnaGxpZ2h0KHQsZSksdGhpcy5fcHVzaFVwZGF0ZSgpfWdyYXBoaWNVcGRhdGVIYW5kbGVyKGUpe3RoaXMuX3B1c2hVcGRhdGUoKX11cGRhdGUoZSl7dGhpcy51cGRhdGVSZXF1ZXN0ZWQ9ITEsdGhpcy5fYXR0YWNoZWQmJnRoaXMuX2dyYXBoaWNTdG9yZS51cGRhdGVMZXZlbChlLnN0YXRlLnJlc29sdXRpb24pJiZ0aGlzLnB1c2hVcGRhdGUoKX1wdXNoVXBkYXRlKCl7dGhpcy5fcHVzaFVwZGF0ZSgpfV9wdXNoVXBkYXRlKCl7byh0aGlzLl9jb21tYW5kUXVldWUucHVzaCh7dHlwZTpcInVwZGF0ZVwifSkpfWFzeW5jIF91cGRhdGUoKXt0cnl7aGFzKFwiZXNyaS0yZC11cGRhdGUtZGVidWdcIikmJmNvbnNvbGUuZGVidWcoYFtJZDogJHt0aGlzLmxheWVySWR9XSBHcmFwaGljc1ZpZXcuX3VwZGF0ZSBzdGFydGApO2NvbnN0IGU9YXdhaXQgdGhpcy5fZ3JhcGhpY1N0b3JlLnVwZGF0ZSh0aGlzLmdyYXBoaWNzLChlPT50aGlzLl9nZXRTeW1ib2xGb3JHcmFwaGljKGUpKSwoZT0+dGhpcy5fZW5zdXJlU3ltYm9sUmVzb3VyY2UoZSkpKTtmb3IoY29uc3QgcyBvZiBlLnVwZGF0ZWQpdGhpcy5jb250YWluZXIucmVzdGFydEFuaW1hdGlvbihzLm9iamVjdElkKTtpZighZS5oYXNBbnlVcGRhdGUoKSlyZXR1cm4gdm9pZCB0aGlzLl9hdHRyaWJ1dGVTdG9yZS5zZW5kVXBkYXRlcygpO2UucmVtb3ZlZC5sZW5ndGgmJih0aGlzLl9jbGVhbnVwUmVxdWlyZWQ9ITApLGhhcyhcImVzcmktMmQtdXBkYXRlLWRlYnVnXCIpJiZjb25zb2xlLmRlYnVnKGBbSWQ6ICR7dGhpcy5sYXllcklkfV0gR3JhcGhpY3NWaWV3IHVwZGF0ZU1lc3NhZ2VgLGUpO2NvbnN0IHQ9dGhpcy5fY3JlYXRlVGlsZU1lc3NhZ2VzKGUpO2F3YWl0IHRoaXMuX2RlbnNpZnlJdGVtc0ZvckRpc3BsYXkodCksYXdhaXQgdGhpcy5fZmV0Y2hSZXNvdXJjZXModCksdGhpcy5fd3JpdGUodCk7Zm9yKGNvbnN0IHMgb2YgZS5hZGRlZCl0aGlzLl9zZXRGaWx0ZXJTdGF0ZShzKTtmb3IoY29uc3QgcyBvZiBlLnVwZGF0ZWQpdGhpcy5fc2V0RmlsdGVyU3RhdGUocyk7aGFzKFwiZXNyaS0yZC11cGRhdGUtZGVidWdcIikmJmNvbnNvbGUuZGVidWcoYFtJZDogJHt0aGlzLmxheWVySWR9XSBHcmFwaGljc1ZpZXcgc2VuZFVwZGF0ZWAsZSksdGhpcy5fYXR0cmlidXRlU3RvcmUuc2VuZFVwZGF0ZXMoKSxoYXMoXCJlc3JpLTJkLXVwZGF0ZS1kZWJ1Z1wiKSYmY29uc29sZS5kZWJ1ZyhgW0lkOiAke3RoaXMubGF5ZXJJZH1dIEdyYXBoaWNzVmlldyBzZW5kVXBkYXRlLmF3YWl0YCxlKX1jYXRjaChlKXt9dGhpcy5fY2xlYW51cFNoYXJlZFJlc291cmNlcygpfV9jcmVhdGVUaWxlTWVzc2FnZXMoZSl7Y29uc3QgdD1uZXcgTWFwO2Zvcihjb25zdCBzIG9mIGUuYWRkZWQpe2NvbnN0IGU9dGhpcy52aWV3LmdyYXBoaWNzVGlsZVN0b3JlLmdldEludGVyc2VjdGluZ1RpbGVzKHMuc3ltYm9sQm91bmRzKTtmb3IoY29uc3QgciBvZiBlKXtGLmdldE9yQ3JlYXRlKHIsdCx0aGlzLl9tZXRhZGF0YSkuYXBwZW5kKHMpfX1mb3IoY29uc3QgcyBvZiBlLnVwZGF0ZWQpe2NvbnN0IGU9dGhpcy52aWV3LmdyYXBoaWNzVGlsZVN0b3JlLmdldEludGVyc2VjdGluZ1RpbGVzKHMucHJldlN5bWJvbEJvdW5kcykscj10aGlzLnZpZXcuZ3JhcGhpY3NUaWxlU3RvcmUuZ2V0SW50ZXJzZWN0aW5nVGlsZXMocy5zeW1ib2xCb3VuZHMpO2Zvcihjb25zdCBpIG9mIGUpe0YuZ2V0T3JDcmVhdGUoaSx0LHRoaXMuX21ldGFkYXRhKS5yZW1vdmVkLnB1c2gocy5kaXNwbGF5SWQpfWZvcihjb25zdCBpIG9mIHIpe0YuZ2V0T3JDcmVhdGUoaSx0LHRoaXMuX21ldGFkYXRhKS5hcHBlbmQocyl9fWZvcihjb25zdCBzIG9mIGUucmVtb3ZlZCl7Y29uc3QgZT10aGlzLnZpZXcuZ3JhcGhpY3NUaWxlU3RvcmUuZ2V0SW50ZXJzZWN0aW5nVGlsZXMocy5zeW1ib2xCb3VuZHMpO2Zvcihjb25zdCByIG9mIGUpe0YuZ2V0T3JDcmVhdGUocix0LHRoaXMuX21ldGFkYXRhKS5yZW1vdmVkLnB1c2gocy5kaXNwbGF5SWQpfX1yZXR1cm4gQXJyYXkuZnJvbSh0LnZhbHVlcygpKX1hc3luYyBfZGVuc2lmeUl0ZW1zRm9yRGlzcGxheShlKXtjb25zdCB0PW5ldyBNYXA7Zm9yKGNvbnN0IHMgb2YgZSlmb3IoY29uc3QgZSBvZiBzLmFkZGVkT3JNb2RpZmllZCl0LmhhcyhlKXx8dC5zZXQoZSxlLmRlbnNpZnlDdXJ2ZWRHZW9tZXRyeUZvckRpc3BsYXkodGhpcy52aWV3LnNwYXRpYWxSZWZlcmVuY2UpKTthd2FpdCBQcm9taXNlLmFsbCh0LnZhbHVlcygpKX1hc3luYyBfZmV0Y2hSZXNvdXJjZXMoZSl7Y29uc3QgdD17dGltZVpvbmU6bnVsbCx0aW1lRXh0ZW50Om51bGx9O2Zvcihjb25zdHt0aWxlOnMscmVhZGVyOnJ9b2YgZSl7aGFzKFwiZXNyaS0yZC11cGRhdGUtZGVidWdcIikmJmNvbnNvbGUuZGVidWcoYElkWyR7dGhpcy5sYXllcklkfV0gVGlsZVske3MuaWR9XSBHcmFwaGljc1ZpZXcgZmV0Y2hSZXNvdXJjZXNgLGUpO2NvbnN0IGk9ci5nZXRDdXJzb3IoKTtmb3IoO2kubmV4dCgpOylmb3IoY29uc3QgZSBvZiBpLmdldE1lc2hXcml0ZXJzKCkpZS5lbnF1ZXVlUmVxdWVzdCh0aGlzLl9yZXNvdXJjZVByb3h5LGkscy5jcmVhdGVBcmNhZGVFdmFsdWF0aW9uT3B0aW9ucyh0KSl9YXdhaXQgdGhpcy5fcmVzb3VyY2VQcm94eS5mZXRjaEVucXVldWVkUmVzb3VyY2VzKCl9X3dyaXRlKGUpe2Zvcihjb25zdCB0IG9mIGUpe2hhcyhcImVzcmktMmQtdXBkYXRlLWRlYnVnXCIpJiZjb25zb2xlLmRlYnVnKGBJZFske3RoaXMubGF5ZXJJZH1dIFRpbGVbJHt0LnRpbGUuaWR9XSBHcmFwaGljc1ZpZXcgd3JpdGVgLHQpO2NvbnN0IGU9dGhpcy5fd3JpdGVNZXNoZXModCk7bGV0IHM9dGhpcy5fdGlsZXMuZ2V0KHQudGlsZS5rZXkpO3N8fChzPXRoaXMuX2NyZWF0ZUZlYXR1cmVUaWxlKHQudGlsZS5rZXkpKSxoYXMoXCJlc3JpLTJkLXVwZGF0ZS1kZWJ1Z1wiKSYmY29uc29sZS5kZWJ1ZyhgSWRbJHt0aGlzLmxheWVySWR9XSBUaWxlWyR7dC50aWxlLmlkfV0gR3JhcGhpY3NWaWV3IG9uVGlsZURhdGFgLHQpLHRoaXMuY29udGFpbmVyLm9uVGlsZURhdGEocyx7dHlwZTpcInVwZGF0ZVwiLG1vZGlmeTplLHJlbW92ZTp0LnJlbW92ZWQsZW5kOiExLGF0dHJpYnV0ZUVwb2NoOnRoaXMuX2F0dHJpYnV0ZVN0b3JlLmVwb2NoLG9iamVjdElkTWFwOnQub2JqZWN0SWRNYXB9KSx0aGlzLmNvbnRhaW5lci5yZXF1ZXN0UmVuZGVyKCl9fV93cml0ZU1lc2hlcyhlKXtjb25zdCB0PXt0aW1lWm9uZTpudWxsLHRpbWVFeHRlbnQ6bnVsbH0scz1uZXcgVChlLnRpbGUuaWQpLHI9ZS5yZWFkZXIuZ2V0Q3Vyc29yKCk7Zm9yKDtyLm5leHQoKTspe3MuZW50aXR5U3RhcnQoci5nZXREaXNwbGF5SWQoKSxyLmdldFpPcmRlcigpKTtmb3IoY29uc3QgaSBvZiByLmdldE1lc2hXcml0ZXJzKCkpaS53cml0ZShzLHRoaXMuX3Jlc291cmNlUHJveHkscixlLnRpbGUuY3JlYXRlQXJjYWRlRXZhbHVhdGlvbk9wdGlvbnModCksZS50aWxlLmxldmVsKTtzLmVudGl0eUVuZCgpfXJldHVybnsuLi5zLnNlcmlhbGl6ZSgpLm1lc3NhZ2UsdGlsZUlkOmUudGlsZS5pZH19X3NldEZpbHRlclN0YXRlKGUpe2NvbnN0IHQ9ZS5kaXNwbGF5SWQscz10aGlzLl9hdHRyaWJ1dGVTdG9yZS5nZXRIaWdobGlnaHRGbGFncyhlLm9iamVjdElkKTt0aGlzLl9hdHRyaWJ1dGVTdG9yZS5zZXREYXRhKHQsMCwwLHN8KGUudmlzaWJsZT9JOjApKX1fZ2V0U3ltYm9sRm9yR3JhcGhpYyhlKXtyZXR1cm4gbnVsbCE9ZS5zeW1ib2w/ZS5zeW1ib2w6bnVsbCE9dGhpcy5fZWZmZWN0aXZlUmVuZGVyZXI/dGhpcy5fZWZmZWN0aXZlUmVuZGVyZXIuZ2V0U3ltYm9sKGUpOnRoaXMuX2dldE51bGxTeW1ib2woZSl9YXN5bmMgX2Vuc3VyZVN5bWJvbFJlc291cmNlKGUpe2lmKCFlLnN5bWJvbClyZXR1cm47Y29uc3QgdD1hd2FpdCB0aGlzLl9nZXRTeW1ib2xJbmZvKGUuc3ltYm9sKTtpZighdClyZXR1cm47Y29uc3Qgcz10LmxpbmVhckNJTS5maWx0ZXIoKGU9PlwidGV4dFwiPT09ZS50eXBlKSk7aWYocy5sZW5ndGg+MCl7Y29uc3Qgcj1hd2FpdCB0aGlzLl9nZXRUZXh0UmVzb3VyY2VzKGUscyk7ZS5zeW1ib2xSZXNvdXJjZT17c3ltYm9sSW5mbzp0LHRleHRJbmZvOnJ9fWVsc2UgZS5zeW1ib2xSZXNvdXJjZT17c3ltYm9sSW5mbzp0fX1fZ2V0U3ltYm9sSW5mbyhlKXtjb25zdCB0PWUuaGFzaCgpO3JldHVybiB0aGlzLl9oYXNoVG9TeW1ib2xJbmZvLmhhcyh0KXx8dGhpcy5faGFzaFRvU3ltYm9sSW5mby5zZXQodCx0aGlzLl9jcmVhdGVTeW1ib2xJbmZvKHQsZSkuY2F0Y2goKGU9Pm51bGwpKSksdGhpcy5faGFzaFRvU3ltYm9sSW5mby5nZXQodCl9YXN5bmMgX2NyZWF0ZVN5bWJvbEluZm8oZSx0KXtjb25zdCBzPWF3YWl0IHRoaXMuX2NvbnZlcnRUb0NJTVN5bWJvbCh0KSxyPWF3YWl0IHRoaXMuX2NyZWF0ZUxpbmVhckNJTShzKTtyZXR1cm57aGFzaDplLGNpbVN5bWJvbDpzLGxpbmVhckNJTTpyLG1lc2hXcml0ZXJzOmF3YWl0IHRoaXMuX2NyZWF0ZU1lc2hXcml0ZXJzKHMscil9fWFzeW5jIF9jb252ZXJ0VG9DSU1TeW1ib2woZSl7Y29uc3QgdD1mKGUpO3JldHVyblwid2ViLXN0eWxlXCI9PT10LnR5cGU/dGhpcy5fY29udmVydFRvQ0lNU3ltYm9sKGF3YWl0IHQuZmV0Y2hTeW1ib2woe2FjY2VwdGVkRm9ybWF0czpbXCJjaW1cIixcIndlYlwiXX0pKTp0fWFzeW5jIF9jcmVhdGVMaW5lYXJDSU0oZSl7cmV0dXJuIGF3YWl0IFByb21pc2UuYWxsKHkuZmV0Y2hSZXNvdXJjZXMoZS5zeW1ib2wsdGhpcy5fY2ltUmVzb3VyY2VNYW5hZ2VyLFtdKSksdGhpcy52aWV3LnN0YWdlLmNpbUFuYWx5emVyLmFuYWx5emVTeW1ib2xSZWZlcmVuY2UoZSwhMSl9YXN5bmMgX2NyZWF0ZU1lc2hXcml0ZXJzKGUsdCl7YSh0aGlzLl9jb250cm9sbGVyLnNpZ25hbCk7Y29uc3Qgcz10aGlzLmNvbnRhaW5lci5pbnN0YW5jZVN0b3JlLHI9dGhpcy52aWV3LnN0YWdlLm1lc2hXcml0ZXJSZWdpc3RyeSxpPWF3YWl0IFIoZSx0LHMpO3JldHVybiBQcm9taXNlLmFsbChpLm1hcCgoZT0+ci5jcmVhdGVNZXNoV3JpdGVyKHRoaXMuX3N0b3JhZ2UsdGhpcy5fcmVzb3VyY2VQcm94eSx7dGlsZUluZm86dGhpcy52aWV3LmZlYXR1cmVzVGlsaW5nU2NoZW1lLnRpbGVJbmZvfSxlLG51bGwpKSkpfV9vblRpbGVVcGRhdGUoZSl7aWYoZS5hZGRlZCYmZS5hZGRlZC5sZW5ndGg+MClmb3IoY29uc3QgdCBvZiBlLmFkZGVkKXRoaXMuX3VwZGF0ZVRyYWNraW5nLmFkZFByb21pc2UodGhpcy5fYWRkVGlsZSh0KSk7aWYoZS5yZW1vdmVkJiZlLnJlbW92ZWQubGVuZ3RoPjApZm9yKGNvbnN0IHQgb2YgZS5yZW1vdmVkKXRoaXMuX3JlbW92ZVRpbGUodC5rZXkpfV9jcmVhdGVGZWF0dXJlVGlsZShlKXtjb25zdCB0PXRoaXMudmlldy5mZWF0dXJlc1RpbGluZ1NjaGVtZS5nZXRUaWxlQm91bmRzKGMoKSxlKSxzPXRoaXMudmlldy5mZWF0dXJlc1RpbGluZ1NjaGVtZS5nZXRUaWxlUmVzb2x1dGlvbihlLmxldmVsKSxyPW5ldyB2KGUscyx0WzBdLHRbM10pO3JldHVybiB0aGlzLl90aWxlcy5zZXQoZSxyKSx0aGlzLmNvbnRhaW5lci5hZGRDaGlsZChyKSxyfWFzeW5jIF9hZGRUaWxlKGUpe2lmKCF0aGlzLl9hdHRhY2hlZClyZXR1cm47Y29uc3QgdD10aGlzLl9ncmFwaGljU3RvcmUucXVlcnlJdGVtcyhlKTtpZighdC5sZW5ndGgpcmV0dXJuO2NvbnN0IHM9dGhpcy5fY3JlYXRlRmVhdHVyZVRpbGUoZS5rZXkpLHI9Ri5mcm9tSXRlbXMoZSx0LHRoaXMuX21ldGFkYXRhKTthd2FpdCB0aGlzLl9kZW5zaWZ5SXRlbXNGb3JEaXNwbGF5KFtyXSksYXdhaXQgdGhpcy5fZmV0Y2hSZXNvdXJjZXMoW3JdKTtjb25zdCBpPXRoaXMuX3dyaXRlTWVzaGVzKHIpO3Mub25NZXNzYWdlKHt0eXBlOlwiYXBwZW5kXCIsYXBwZW5kOmksY2xlYXI6ITEsZW5kOiEwLGF0dHJpYnV0ZUVwb2NoOnRoaXMuX2F0dHJpYnV0ZVN0b3JlLmVwb2NoLG9iamVjdElkTWFwOnIub2JqZWN0SWRNYXB9KX1fcmVtb3ZlVGlsZShlKXtpZighdGhpcy5fdGlsZXMuaGFzKGUpKXJldHVybjtjb25zdCB0PXRoaXMuX3RpbGVzLmdldChlKTt0aGlzLmNvbnRhaW5lci5yZW1vdmVDaGlsZCh0KSx0LmRlc3Ryb3koKSx0aGlzLl90aWxlcy5kZWxldGUoZSl9X2dldE51bGxTeW1ib2woZSl7Y29uc3QgdD1lLmdlb21ldHJ5O3JldHVybiB0P2wodCk/dzpwKHQpfHx1KHQpP1M6dGhpcy5kZWZhdWx0UG9pbnRTeW1ib2xFbmFibGVkP2I6bnVsbDp0aGlzLmRlZmF1bHRQb2ludFN5bWJvbEVuYWJsZWQ/YjpudWxsfWFzeW5jIF9nZXRUZXh0UmVzb3VyY2VzKGUsdCl7Y29uc3Qgcz1uZXcgQXJyYXkscj1uZXcgQXJyYXk7Zm9yKGxldCBpPTA7aTx0Lmxlbmd0aDtpKyspe2NvbnN0IG89dFtpXSx7cmVzb3VyY2U6YSxvdmVycmlkZXM6bn09by50ZXh0UmFzdGVyaXphdGlvblBhcmFtO2lmKG4/Lmxlbmd0aD4wKXtjb25zdCB0PV8ucmVzb2x2ZVN5bWJvbE92ZXJyaWRlcyh7dHlwZTpcIkNJTVN5bWJvbFJlZmVyZW5jZVwiLHByaW1pdGl2ZU92ZXJyaWRlczpuLHN5bWJvbDp7dHlwZTpcIkNJTVBvaW50U3ltYm9sXCIsc3ltYm9sTGF5ZXJzOlt7dHlwZTpcIkNJTVZlY3Rvck1hcmtlclwiLGVuYWJsZTohMCxzaXplOmEuc3ltYm9sLmhlaWdodCxhbmNob3JQb2ludFVuaXRzOlwiUmVsYXRpdmVcIixmcmFtZTp7eG1pbjotNSx5bWluOi01LHhtYXg6NSx5bWF4OjV9LG1hcmtlckdyYXBoaWNzOlt7dHlwZTpcIkNJTU1hcmtlckdyYXBoaWNcIixnZW9tZXRyeTp7eDowLHk6MH0sc3ltYm9sOmEuc3ltYm9sLHRleHRTdHJpbmc6YS50ZXh0U3RyaW5nfV0sc2NhbGVTeW1ib2xzUHJvcG9ydGlvbmFsbHk6ITAscmVzcGVjdEZyYW1lOiEwfV19fSxlLHRoaXMudmlldy5zcGF0aWFsUmVmZXJlbmNlLG51bGwsbShlLnByb2plY3RlZEdlb21ldHJ5KSxudWxsLG51bGwpO3QudGhlbigoZT0+e2NvbnN0IHQ9ZS5zeW1ib2xMYXllcnNbMF0se3RleHRTdHJpbmc6c309dC5tYXJrZXJHcmFwaGljc1swXTtyLnB1c2goe3R5cGU6XCJjaW0tcmFzdGVyaXphdGlvbi1pbmZvXCIscmVzb3VyY2U6e3R5cGU6XCJ0ZXh0XCIsdGV4dFN0cmluZzpzfHxcIlwiLGZvbnQ6YS5mb250fX0pLG8udGV4dD1hLnRleHRTdHJpbmc9c3x8XCJcIn0pKSxzLnB1c2godCl9ZWxzZSByLnB1c2goe3R5cGU6XCJjaW0tcmFzdGVyaXphdGlvbi1pbmZvXCIscmVzb3VyY2U6YX0pfXMubGVuZ3RoPjAmJmF3YWl0IFByb21pc2UuYWxsKHMpO2NvbnN0IG89ci5tYXAoKGU9PnRoaXMudmlldy5zdGFnZS50ZXh0dXJlTWFuYWdlci5yYXN0ZXJpemVJdGVtKGUpKSksYT1hd2FpdCBQcm9taXNlLmFsbChvKTtpKGEpO2NvbnN0IG49bmV3IE1hcDtmb3IobGV0IGk9MDtpPHQubGVuZ3RoO2krKyl7Y29uc3QgZT10W2ldO24uc2V0KGUudGV4dFJhc3Rlcml6YXRpb25QYXJhbS5yZXNvdXJjZS5zeW1ib2wse3RleHQ6ZS50ZXh0LGdseXBoTW9zYWljSXRlbXM6YVtpXX0pfXJldHVybiBufV9jbGVhbnVwU2hhcmVkUmVzb3VyY2VzKCl7aWYoIXRoaXMuX2NsZWFudXBSZXF1aXJlZClyZXR1cm47Y29uc3QgZT1wZXJmb3JtYW5jZS5ub3coKTtpZihlLXRoaXMuX2xhc3RDbGVhbnVwPDVlMylyZXR1cm47dGhpcy5fY2xlYW51cFJlcXVpcmVkPSExLHRoaXMuX2xhc3RDbGVhbnVwPWU7Y29uc3QgdD1uZXcgU2V0O2Zvcihjb25zdCByIG9mIHRoaXMuX2dyYXBoaWNTdG9yZS5pdGVtcygpKXtjb25zdCBlPXIuc3ltYm9sUmVzb3VyY2U/LnN5bWJvbEluZm8uaGFzaDt0LmFkZChlKX1jb25zdCBzPW5ldyBTZXQodGhpcy5faGFzaFRvU3ltYm9sSW5mby5rZXlzKCkpO2Zvcihjb25zdCByIG9mIHMudmFsdWVzKCkpdC5oYXMocil8fHRoaXMuX2hhc2hUb1N5bWJvbEluZm8uZGVsZXRlKHIpfX07ZShbaCgpXSxPLnByb3RvdHlwZSxcIl9lZmZlY3RpdmVSZW5kZXJlclwiLG51bGwpLGUoW2goe2NvbnN0cnVjdE9ubHk6ITB9KV0sTy5wcm90b3R5cGUsXCJsYXllcklkXCIsdm9pZCAwKSxlKFtoKHtjb25zdHJ1Y3RPbmx5OiEwfSldLE8ucHJvdG90eXBlLFwicmVxdWVzdFVwZGF0ZUNhbGxiYWNrXCIsdm9pZCAwKSxlKFtoKCldLE8ucHJvdG90eXBlLFwiY29udGFpbmVyXCIsdm9pZCAwKSxlKFtoKHtjb25zdHJ1Y3RPbmx5OiEwfSldLE8ucHJvdG90eXBlLFwiZ3JhcGhpY3NcIix2b2lkIDApLGUoW2goKV0sTy5wcm90b3R5cGUsXCJyZW5kZXJlclwiLHZvaWQgMCksZShbaCgpXSxPLnByb3RvdHlwZSxcIl91cGRhdGVUcmFja2luZ1wiLHZvaWQgMCksZShbaCgpXSxPLnByb3RvdHlwZSxcInVwZGF0aW5nXCIsbnVsbCksZShbaCgpXSxPLnByb3RvdHlwZSxcInZpZXdcIix2b2lkIDApLGUoW2goKV0sTy5wcm90b3R5cGUsXCJ1cGRhdGVSZXF1ZXN0ZWRcIix2b2lkIDApLGUoW2goKV0sTy5wcm90b3R5cGUsXCJkZWZhdWx0UG9pbnRTeW1ib2xFbmFibGVkXCIsdm9pZCAwKSxPPWUoW2QoXCJlc3JpLnZpZXdzLjJkLmxheWVycy5ncmFwaGljcy5HcmFwaGljc1ZpZXcyRFwiKV0sTyk7ZXhwb3J0e08gYXMgZGVmYXVsdH07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=