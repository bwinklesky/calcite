export const __webpack_id__ = "node_modules_arcgis_core_views_2d_engine_webgl_TileContainer_js-node_modules_arcgis_core_view-0899fe";
export const __webpack_ids__ = ["node_modules_arcgis_core_views_2d_engine_webgl_TileContainer_js-node_modules_arcgis_core_view-0899fe"];
export const __webpack_modules__ = {

/***/ "./node_modules/@arcgis/core/views/2d/engine/webgl/TileContainer.js":
/*!**************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/webgl/TileContainer.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ i)
/* harmony export */ });
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _enums_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./enums.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/enums.js");
/* harmony import */ var _WGLContainer_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./WGLContainer.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/WGLContainer.js");
/* harmony import */ var _brushes_WGLBrushStencil_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./brushes/WGLBrushStencil.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/brushes/WGLBrushStencil.js");
/* harmony import */ var _brushes_WGLBrushTileDebugInfo_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./brushes/WGLBrushTileDebugInfo.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/brushes/WGLBrushTileDebugInfo.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
const n=(e,r)=>e.key.level-r.key.level!==0?e.key.level-r.key.level:e.key.row-r.key.row!==0?e.key.row-r.key.row:e.key.col-r.key.col;class i extends _WGLContainer_js__WEBPACK_IMPORTED_MODULE_2__["default"]{constructor(e){super(),this.tileInfoView=e,this.sortFunction=n}renderChildren(e){this.setStencilReference(e),super.renderChildren(e)}createRenderParams(e){const{state:r}=e,s=super.createRenderParams(e);return s.requiredLevel=this.tileInfoView.getClosestInfoForScale(r.scale).level,s.displayLevel=this.tileInfoView.tileInfo.scaleToZoom(r.scale),s}prepareRenderPasses(r){const n=super.prepareRenderPasses(r);return n.push(r.registerRenderPass({name:"stencil",brushes:[_brushes_WGLBrushStencil_js__WEBPACK_IMPORTED_MODULE_3__["default"]],drawPhase:_enums_js__WEBPACK_IMPORTED_MODULE_1__.WGLDrawPhase.DEBUG|_enums_js__WEBPACK_IMPORTED_MODULE_1__.WGLDrawPhase.MAP|_enums_js__WEBPACK_IMPORTED_MODULE_1__.WGLDrawPhase.HIGHLIGHT|_enums_js__WEBPACK_IMPORTED_MODULE_1__.WGLDrawPhase.LABEL,target:()=>this.getStencilTarget()})),(0,_core_has_js__WEBPACK_IMPORTED_MODULE_0__["default"])("esri-tiles-debug")&&n.push(r.registerRenderPass({name:"tileInfo",brushes:[_brushes_WGLBrushTileDebugInfo_js__WEBPACK_IMPORTED_MODULE_4__["default"]],drawPhase:_enums_js__WEBPACK_IMPORTED_MODULE_1__.WGLDrawPhase.DEBUG,target:()=>this.children})),n}getStencilTarget(){return this.children}setStencilReference(e){let r=1;for(const s of this.children)s.stencilRef=r++}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/WMTSLayerView2D.js":
/*!**********************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/WMTSLayerView2D.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ w)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_RandomLCG_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../core/RandomLCG.js */ "./node_modules/@arcgis/core/core/RandomLCG.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../geometry/support/spatialReferenceUtils.js */ "./node_modules/@arcgis/core/geometry/support/spatialReferenceUtils.js");
/* harmony import */ var _BitmapTileLayerView2D_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./BitmapTileLayerView2D.js */ "./node_modules/@arcgis/core/views/2d/layers/BitmapTileLayerView2D.js");
/* harmony import */ var _LayerView2D_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./LayerView2D.js */ "./node_modules/@arcgis/core/views/2d/layers/LayerView2D.js");
/* harmony import */ var _support_imageUtils_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./support/imageUtils.js */ "./node_modules/@arcgis/core/views/2d/layers/support/imageUtils.js");
/* harmony import */ var _tiling_TileInfoView_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../tiling/TileInfoView.js */ "./node_modules/@arcgis/core/views/2d/tiling/TileInfoView.js");
/* harmony import */ var _tiling_TileKey_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../tiling/TileKey.js */ "./node_modules/@arcgis/core/views/2d/tiling/TileKey.js");
/* harmony import */ var _tiling_TileQueue_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../tiling/TileQueue.js */ "./node_modules/@arcgis/core/views/2d/tiling/TileQueue.js");
/* harmony import */ var _tiling_TileStrategy_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../tiling/TileStrategy.js */ "./node_modules/@arcgis/core/views/2d/tiling/TileStrategy.js");
/* harmony import */ var _layers_LayerView_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../layers/LayerView.js */ "./node_modules/@arcgis/core/views/layers/LayerView.js");
/* harmony import */ var _layers_RefreshableLayerView_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../layers/RefreshableLayerView.js */ "./node_modules/@arcgis/core/views/layers/RefreshableLayerView.js");
/* harmony import */ var _support_Scheduler_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../support/Scheduler.js */ "./node_modules/@arcgis/core/views/support/Scheduler.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
const y=[0,0];let _=class extends((0,_layers_RefreshableLayerView_js__WEBPACK_IMPORTED_MODULE_16__["default"])((0,_BitmapTileLayerView2D_js__WEBPACK_IMPORTED_MODULE_8__.BitmapTileLayerView2D)((0,_LayerView2D_js__WEBPACK_IMPORTED_MODULE_9__.LayerView2DMixin)(_layers_LayerView_js__WEBPACK_IMPORTED_MODULE_15__["default"])))){constructor(){super(...arguments),this._tileStrategy=null,this._fetchQueue=null,this.layer=null}get tileMatrixSet(){const{activeLayer:e}=this.layer,{tileMatrixSet:t}=e;if(t&&(0,_geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_7__.equals)(t.tileInfo?.spatialReference,this.view.spatialReference))return t;const i=this._getTileMatrixSetBySpatialReference(e);return i&&i.id!==e.tileMatrixSetId?(e.tileMatrixSetId=i.id,i):null}update(e){this._fetchQueue.pause(),this._fetchQueue.state=e.state,this._tileStrategy.update(e),this._fetchQueue.resume()}attach(){const e=this.tileMatrixSet?.tileInfo;e&&(this._tileInfoView=new _tiling_TileInfoView_js__WEBPACK_IMPORTED_MODULE_11__["default"](e),this._fetchQueue=new _tiling_TileQueue_js__WEBPACK_IMPORTED_MODULE_13__["default"]({tileInfoView:this._tileInfoView,concurrency:16,process:(e,t)=>this.fetchTile(e,t),scheduler:this.scheduler,priority:_support_Scheduler_js__WEBPACK_IMPORTED_MODULE_17__.TaskPriority.MAPVIEW_FETCH_QUEUE}),this._tileStrategy=new _tiling_TileStrategy_js__WEBPACK_IMPORTED_MODULE_14__["default"]({cachePolicy:"keep",resampling:!0,acquireTile:e=>this.acquireTile(e),releaseTile:e=>this.releaseTile(e),tileInfoView:this._tileInfoView}),this.addAttachHandles(this._updatingHandles.add((()=>[this.layer?.activeLayer?.styleId,this.tileMatrixSet]),(()=>this.doRefresh()))),super.attach())}detach(){super.detach(),this._tileStrategy?.destroy(),this._fetchQueue?.destroy(),this._fetchQueue=this._tileStrategy=this._tileInfoView=null}viewChange(){this.requestUpdate()}moveEnd(){this.requestUpdate()}supportsSpatialReference(e){return this.layer.activeLayer.tileMatrixSets?.some((t=>(0,_geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_7__.equals)(t.tileInfo?.spatialReference,e)))??!1}async doRefresh(){if(this.attached){if(this.suspended)return this._tileStrategy.clear(),void this.requestUpdate();this._fetchQueue.reset(),this._tileStrategy.refresh((e=>this._updatingHandles.addPromise(this._enqueueTileFetch(e))))}}acquireTile(e){const t=this._bitmapView.createTile(e),i=t.bitmap;return[i.x,i.y]=this._tileInfoView.getTileCoords(y,t.key),i.resolution=this._tileInfoView.getTileResolution(t.key),[i.width,i.height]=this._tileInfoView.tileInfo.size,this._updatingHandles.addPromise(this._enqueueTileFetch(t)),this._bitmapView.addChild(t),this.requestUpdate(),t}releaseTile(e){this._fetchQueue.abort(e.key.id),this._bitmapView.removeChild(e),e.once("detach",(()=>e.destroy())),this.requestUpdate()}async fetchTile(e,t={}){const s="tilemapCache"in this.layer?this.layer.tilemapCache:null,{signal:r,resamplingLevel:a=0}=t;if(!s)return this._fetchImage(e,r);const l=new _tiling_TileKey_js__WEBPACK_IMPORTED_MODULE_12__["default"](0,0,0,0);let o;try{await s.fetchAvailabilityUpsample(e.level,e.row,e.col,l,{signal:r}),o=await this._fetchImage(l,r)}catch(n){if((0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_2__.isAbortError)(n))throw n;if(a<3){const i=this._tileInfoView.getTileParentId(e.id);if(i){const s=new _tiling_TileKey_js__WEBPACK_IMPORTED_MODULE_12__["default"](i),r=await this.fetchTile(s,{...t,resamplingLevel:a+1});return (0,_support_imageUtils_js__WEBPACK_IMPORTED_MODULE_10__.resampleImage)(this._tileInfoView,r,s,e)}}throw n}return (0,_support_imageUtils_js__WEBPACK_IMPORTED_MODULE_10__.resampleImage)(this._tileInfoView,o,l,e)}canResume(){const e=super.canResume();return e?null!==this.tileMatrixSet:e}async _enqueueTileFetch(e){if(!this._fetchQueue.has(e.key.id)){try{const t=await this._fetchQueue.push(e.key);e.bitmap.source=t,e.bitmap.width=this._tileInfoView.tileInfo.size[0],e.bitmap.height=this._tileInfoView.tileInfo.size[1],e.once("attach",(()=>this.requestUpdate()))}catch(s){(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_2__.isAbortError)(s)||_core_Logger_js__WEBPACK_IMPORTED_MODULE_1__["default"].getLogger(this).error(s)}this.requestUpdate()}}async _fetchImage(e,t){return this.layer.fetchImageBitmapTile(e.level,e.row,e.col,{signal:t})}_getTileMatrixSetBySpatialReference(e){return e.tileMatrixSets?.find((e=>(0,_geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_7__.equals)(e.tileInfo?.spatialReference,this.view.spatialReference)))}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)({readOnly:!0})],_.prototype,"tileMatrixSet",null),_=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_6__.subclass)("esri.views.2d.layers.WMTSLayerView2D")],_);const w=_;


/***/ }),

/***/ "./node_modules/@arcgis/core/views/layers/RefreshableLayerView.js":
/*!************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/layers/RefreshableLayerView.js ***!
  \************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ i)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../core/reactiveUtils.js */ "./node_modules/@arcgis/core/core/reactiveUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_RandomLCG_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../core/RandomLCG.js */ "./node_modules/@arcgis/core/core/RandomLCG.js");
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
const i=i=>{let a=class extends i{initialize(){this.addHandles((0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__.on)((()=>this.layer),"refresh",(r=>{this.doRefresh(r.dataChanged).catch((r=>{(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_2__.isAbortError)(r)||_core_Logger_js__WEBPACK_IMPORTED_MODULE_1__["default"].getLogger(this).error(r)}))})),"RefreshableLayerView")}};return a=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__.subclass)("esri.views.layers.RefreshableLayerView")],a),a};


/***/ })

};

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibm9kZV9tb2R1bGVzX2FyY2dpc19jb3JlX3ZpZXdzXzJkX2VuZ2luZV93ZWJnbF9UaWxlQ29udGFpbmVyX2pzLW5vZGVfbW9kdWxlc19hcmNnaXNfY29yZV92aWV3LTA4OTlmZS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDa04sbUlBQW1JLGdCQUFnQix3REFBQyxDQUFDLGVBQWUsZ0RBQWdELGtCQUFrQixvREFBb0Qsc0JBQXNCLE1BQU0sUUFBUSxpQ0FBaUMsZ0pBQWdKLHVCQUF1QixxQ0FBcUMsb0NBQW9DLHdCQUF3QixtRUFBQyxZQUFZLG1EQUFDLE9BQU8sbURBQUMsS0FBSyxtREFBQyxXQUFXLG1EQUFDLDBDQUEwQyxHQUFHLHdEQUFHLG1EQUFtRCx5QkFBeUIseUVBQUMsWUFBWSxtREFBQyxnQ0FBZ0MsS0FBSyxtQkFBbUIscUJBQXFCLHVCQUF1QixRQUFRLCtDQUFvRTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDSjNwQztBQUNBO0FBQ0E7QUFDQTtBQUNtNkIsY0FBYyxvQkFBb0IsNEVBQUMsQ0FBQyxnRkFBQyxDQUFDLGlFQUFDLENBQUMsNkRBQUMsS0FBSyxjQUFjLGtGQUFrRixvQkFBb0IsTUFBTSxjQUFjLGFBQWEsZ0JBQWdCLEdBQUcsTUFBTSxrRkFBQyxtRUFBbUUsb0RBQW9ELG1FQUFtRSxVQUFVLCtHQUErRyxTQUFTLHFDQUFxQywyQkFBMkIsZ0VBQUMseUJBQXlCLDZEQUFDLEVBQUUsb0hBQW9ILGdFQUFDLHFCQUFxQix5QkFBeUIsZ0VBQUMsRUFBRSx1SUFBdUksdUpBQXVKLFNBQVMscUlBQXFJLGFBQWEscUJBQXFCLFVBQVUscUJBQXFCLDRCQUE0Qix1REFBdUQsa0ZBQUMsdUNBQXVDLGtCQUFrQixrQkFBa0IsOEVBQThFLHVIQUF1SCxlQUFlLGtEQUFrRCx1UkFBdVIsZUFBZSx5SEFBeUgsc0JBQXNCLEVBQUUsa0VBQWtFLDZCQUE2QixHQUFHLG1DQUFtQyxZQUFZLDJEQUFDLFVBQVUsTUFBTSxJQUFJLHlEQUF5RCxTQUFTLGdDQUFnQyxTQUFTLEdBQUcsbUVBQUMsWUFBWSxRQUFRLGlEQUFpRCxNQUFNLFlBQVksMkRBQUMsOEJBQThCLHlCQUF5QixFQUFFLE9BQU8sc0VBQUMsNEJBQTRCLFFBQVEsT0FBTyxzRUFBQywyQkFBMkIsWUFBWSwwQkFBMEIscUNBQXFDLDJCQUEyQixvQ0FBb0MsSUFBSSwyQ0FBMkMscUtBQXFLLFNBQVMsbUVBQUMsS0FBSyx1REFBQywwQkFBMEIsc0JBQXNCLHVCQUF1Qiw0REFBNEQsU0FBUyxFQUFFLHVDQUF1QyxrQ0FBa0Msa0ZBQUMsOERBQThELHVEQUFDLEVBQUUsc0ZBQUMsRUFBRSxZQUFZLHVDQUF1Qyx1REFBQyxFQUFFLHNGQUFDLDZDQUE2QyxVQUErQjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNKMXdJO0FBQ0E7QUFDQTtBQUNBO0FBQ2dXLFlBQVksc0JBQXNCLGFBQWEsZ0JBQWdCLDBEQUFDLGlDQUFpQyx5Q0FBeUMsbUVBQUMsS0FBSyx1REFBQywwQkFBMEIsR0FBRyw2QkFBNkIsU0FBUyx1REFBQyxFQUFFLHNGQUFDLGtEQUF1RSIsInNvdXJjZXMiOlsid2VicGFjazovL3ByZWNpc2lvbmZhcm1zLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8yZC9lbmdpbmUvd2ViZ2wvVGlsZUNvbnRhaW5lci5qcyIsIndlYnBhY2s6Ly9wcmVjaXNpb25mYXJtcy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvMmQvbGF5ZXJzL1dNVFNMYXllclZpZXcyRC5qcyIsIndlYnBhY2s6Ly9wcmVjaXNpb25mYXJtcy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvbGF5ZXJzL1JlZnJlc2hhYmxlTGF5ZXJWaWV3LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjMzL2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnQgaGFzIGZyb21cIi4uLy4uLy4uLy4uL2NvcmUvaGFzLmpzXCI7aW1wb3J0e1dHTERyYXdQaGFzZSBhcyBlfWZyb21cIi4vZW51bXMuanNcIjtpbXBvcnQgciBmcm9tXCIuL1dHTENvbnRhaW5lci5qc1wiO2ltcG9ydCBzIGZyb21cIi4vYnJ1c2hlcy9XR0xCcnVzaFN0ZW5jaWwuanNcIjtpbXBvcnQgdCBmcm9tXCIuL2JydXNoZXMvV0dMQnJ1c2hUaWxlRGVidWdJbmZvLmpzXCI7Y29uc3Qgbj0oZSxyKT0+ZS5rZXkubGV2ZWwtci5rZXkubGV2ZWwhPT0wP2Uua2V5LmxldmVsLXIua2V5LmxldmVsOmUua2V5LnJvdy1yLmtleS5yb3chPT0wP2Uua2V5LnJvdy1yLmtleS5yb3c6ZS5rZXkuY29sLXIua2V5LmNvbDtjbGFzcyBpIGV4dGVuZHMgcntjb25zdHJ1Y3RvcihlKXtzdXBlcigpLHRoaXMudGlsZUluZm9WaWV3PWUsdGhpcy5zb3J0RnVuY3Rpb249bn1yZW5kZXJDaGlsZHJlbihlKXt0aGlzLnNldFN0ZW5jaWxSZWZlcmVuY2UoZSksc3VwZXIucmVuZGVyQ2hpbGRyZW4oZSl9Y3JlYXRlUmVuZGVyUGFyYW1zKGUpe2NvbnN0e3N0YXRlOnJ9PWUscz1zdXBlci5jcmVhdGVSZW5kZXJQYXJhbXMoZSk7cmV0dXJuIHMucmVxdWlyZWRMZXZlbD10aGlzLnRpbGVJbmZvVmlldy5nZXRDbG9zZXN0SW5mb0ZvclNjYWxlKHIuc2NhbGUpLmxldmVsLHMuZGlzcGxheUxldmVsPXRoaXMudGlsZUluZm9WaWV3LnRpbGVJbmZvLnNjYWxlVG9ab29tKHIuc2NhbGUpLHN9cHJlcGFyZVJlbmRlclBhc3NlcyhyKXtjb25zdCBuPXN1cGVyLnByZXBhcmVSZW5kZXJQYXNzZXMocik7cmV0dXJuIG4ucHVzaChyLnJlZ2lzdGVyUmVuZGVyUGFzcyh7bmFtZTpcInN0ZW5jaWxcIixicnVzaGVzOltzXSxkcmF3UGhhc2U6ZS5ERUJVR3xlLk1BUHxlLkhJR0hMSUdIVHxlLkxBQkVMLHRhcmdldDooKT0+dGhpcy5nZXRTdGVuY2lsVGFyZ2V0KCl9KSksaGFzKFwiZXNyaS10aWxlcy1kZWJ1Z1wiKSYmbi5wdXNoKHIucmVnaXN0ZXJSZW5kZXJQYXNzKHtuYW1lOlwidGlsZUluZm9cIixicnVzaGVzOlt0XSxkcmF3UGhhc2U6ZS5ERUJVRyx0YXJnZXQ6KCk9PnRoaXMuY2hpbGRyZW59KSksbn1nZXRTdGVuY2lsVGFyZ2V0KCl7cmV0dXJuIHRoaXMuY2hpbGRyZW59c2V0U3RlbmNpbFJlZmVyZW5jZShlKXtsZXQgcj0xO2Zvcihjb25zdCBzIG9mIHRoaXMuY2hpbGRyZW4pcy5zdGVuY2lsUmVmPXIrK319ZXhwb3J0e2kgYXMgZGVmYXVsdH07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4zMy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e18gYXMgZX1mcm9tXCIuLi8uLi8uLi9jaHVua3MvdHNsaWIuZXM2LmpzXCI7aW1wb3J0IHQgZnJvbVwiLi4vLi4vLi4vY29yZS9Mb2dnZXIuanNcIjtpbXBvcnR7aXNBYm9ydEVycm9yIGFzIGl9ZnJvbVwiLi4vLi4vLi4vY29yZS9wcm9taXNlVXRpbHMuanNcIjtpbXBvcnR7cHJvcGVydHkgYXMgc31mcm9tXCIuLi8uLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3Byb3BlcnR5LmpzXCI7aW1wb3J0XCIuLi8uLi8uLi9jb3JlL2hhcy5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vY29yZS9SYW5kb21MQ0cuanNcIjtpbXBvcnR7c3ViY2xhc3MgYXMgcn1mcm9tXCIuLi8uLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3N1YmNsYXNzLmpzXCI7aW1wb3J0e2VxdWFscyBhcyBhfWZyb21cIi4uLy4uLy4uL2dlb21ldHJ5L3N1cHBvcnQvc3BhdGlhbFJlZmVyZW5jZVV0aWxzLmpzXCI7aW1wb3J0e0JpdG1hcFRpbGVMYXllclZpZXcyRCBhcyBsfWZyb21cIi4vQml0bWFwVGlsZUxheWVyVmlldzJELmpzXCI7aW1wb3J0e0xheWVyVmlldzJETWl4aW4gYXMgb31mcm9tXCIuL0xheWVyVmlldzJELmpzXCI7aW1wb3J0e3Jlc2FtcGxlSW1hZ2UgYXMgaH1mcm9tXCIuL3N1cHBvcnQvaW1hZ2VVdGlscy5qc1wiO2ltcG9ydCBuIGZyb21cIi4uL3RpbGluZy9UaWxlSW5mb1ZpZXcuanNcIjtpbXBvcnQgYyBmcm9tXCIuLi90aWxpbmcvVGlsZUtleS5qc1wiO2ltcG9ydCB1IGZyb21cIi4uL3RpbGluZy9UaWxlUXVldWUuanNcIjtpbXBvcnQgcCBmcm9tXCIuLi90aWxpbmcvVGlsZVN0cmF0ZWd5LmpzXCI7aW1wb3J0IGYgZnJvbVwiLi4vLi4vbGF5ZXJzL0xheWVyVmlldy5qc1wiO2ltcG9ydCBtIGZyb21cIi4uLy4uL2xheWVycy9SZWZyZXNoYWJsZUxheWVyVmlldy5qc1wiO2ltcG9ydHtUYXNrUHJpb3JpdHkgYXMgZH1mcm9tXCIuLi8uLi9zdXBwb3J0L1NjaGVkdWxlci5qc1wiO2NvbnN0IHk9WzAsMF07bGV0IF89Y2xhc3MgZXh0ZW5kcyhtKGwobyhmKSkpKXtjb25zdHJ1Y3Rvcigpe3N1cGVyKC4uLmFyZ3VtZW50cyksdGhpcy5fdGlsZVN0cmF0ZWd5PW51bGwsdGhpcy5fZmV0Y2hRdWV1ZT1udWxsLHRoaXMubGF5ZXI9bnVsbH1nZXQgdGlsZU1hdHJpeFNldCgpe2NvbnN0e2FjdGl2ZUxheWVyOmV9PXRoaXMubGF5ZXIse3RpbGVNYXRyaXhTZXQ6dH09ZTtpZih0JiZhKHQudGlsZUluZm8/LnNwYXRpYWxSZWZlcmVuY2UsdGhpcy52aWV3LnNwYXRpYWxSZWZlcmVuY2UpKXJldHVybiB0O2NvbnN0IGk9dGhpcy5fZ2V0VGlsZU1hdHJpeFNldEJ5U3BhdGlhbFJlZmVyZW5jZShlKTtyZXR1cm4gaSYmaS5pZCE9PWUudGlsZU1hdHJpeFNldElkPyhlLnRpbGVNYXRyaXhTZXRJZD1pLmlkLGkpOm51bGx9dXBkYXRlKGUpe3RoaXMuX2ZldGNoUXVldWUucGF1c2UoKSx0aGlzLl9mZXRjaFF1ZXVlLnN0YXRlPWUuc3RhdGUsdGhpcy5fdGlsZVN0cmF0ZWd5LnVwZGF0ZShlKSx0aGlzLl9mZXRjaFF1ZXVlLnJlc3VtZSgpfWF0dGFjaCgpe2NvbnN0IGU9dGhpcy50aWxlTWF0cml4U2V0Py50aWxlSW5mbztlJiYodGhpcy5fdGlsZUluZm9WaWV3PW5ldyBuKGUpLHRoaXMuX2ZldGNoUXVldWU9bmV3IHUoe3RpbGVJbmZvVmlldzp0aGlzLl90aWxlSW5mb1ZpZXcsY29uY3VycmVuY3k6MTYscHJvY2VzczooZSx0KT0+dGhpcy5mZXRjaFRpbGUoZSx0KSxzY2hlZHVsZXI6dGhpcy5zY2hlZHVsZXIscHJpb3JpdHk6ZC5NQVBWSUVXX0ZFVENIX1FVRVVFfSksdGhpcy5fdGlsZVN0cmF0ZWd5PW5ldyBwKHtjYWNoZVBvbGljeTpcImtlZXBcIixyZXNhbXBsaW5nOiEwLGFjcXVpcmVUaWxlOmU9PnRoaXMuYWNxdWlyZVRpbGUoZSkscmVsZWFzZVRpbGU6ZT0+dGhpcy5yZWxlYXNlVGlsZShlKSx0aWxlSW5mb1ZpZXc6dGhpcy5fdGlsZUluZm9WaWV3fSksdGhpcy5hZGRBdHRhY2hIYW5kbGVzKHRoaXMuX3VwZGF0aW5nSGFuZGxlcy5hZGQoKCgpPT5bdGhpcy5sYXllcj8uYWN0aXZlTGF5ZXI/LnN0eWxlSWQsdGhpcy50aWxlTWF0cml4U2V0XSksKCgpPT50aGlzLmRvUmVmcmVzaCgpKSkpLHN1cGVyLmF0dGFjaCgpKX1kZXRhY2goKXtzdXBlci5kZXRhY2goKSx0aGlzLl90aWxlU3RyYXRlZ3k/LmRlc3Ryb3koKSx0aGlzLl9mZXRjaFF1ZXVlPy5kZXN0cm95KCksdGhpcy5fZmV0Y2hRdWV1ZT10aGlzLl90aWxlU3RyYXRlZ3k9dGhpcy5fdGlsZUluZm9WaWV3PW51bGx9dmlld0NoYW5nZSgpe3RoaXMucmVxdWVzdFVwZGF0ZSgpfW1vdmVFbmQoKXt0aGlzLnJlcXVlc3RVcGRhdGUoKX1zdXBwb3J0c1NwYXRpYWxSZWZlcmVuY2UoZSl7cmV0dXJuIHRoaXMubGF5ZXIuYWN0aXZlTGF5ZXIudGlsZU1hdHJpeFNldHM/LnNvbWUoKHQ9PmEodC50aWxlSW5mbz8uc3BhdGlhbFJlZmVyZW5jZSxlKSkpPz8hMX1hc3luYyBkb1JlZnJlc2goKXtpZih0aGlzLmF0dGFjaGVkKXtpZih0aGlzLnN1c3BlbmRlZClyZXR1cm4gdGhpcy5fdGlsZVN0cmF0ZWd5LmNsZWFyKCksdm9pZCB0aGlzLnJlcXVlc3RVcGRhdGUoKTt0aGlzLl9mZXRjaFF1ZXVlLnJlc2V0KCksdGhpcy5fdGlsZVN0cmF0ZWd5LnJlZnJlc2goKGU9PnRoaXMuX3VwZGF0aW5nSGFuZGxlcy5hZGRQcm9taXNlKHRoaXMuX2VucXVldWVUaWxlRmV0Y2goZSkpKSl9fWFjcXVpcmVUaWxlKGUpe2NvbnN0IHQ9dGhpcy5fYml0bWFwVmlldy5jcmVhdGVUaWxlKGUpLGk9dC5iaXRtYXA7cmV0dXJuW2kueCxpLnldPXRoaXMuX3RpbGVJbmZvVmlldy5nZXRUaWxlQ29vcmRzKHksdC5rZXkpLGkucmVzb2x1dGlvbj10aGlzLl90aWxlSW5mb1ZpZXcuZ2V0VGlsZVJlc29sdXRpb24odC5rZXkpLFtpLndpZHRoLGkuaGVpZ2h0XT10aGlzLl90aWxlSW5mb1ZpZXcudGlsZUluZm8uc2l6ZSx0aGlzLl91cGRhdGluZ0hhbmRsZXMuYWRkUHJvbWlzZSh0aGlzLl9lbnF1ZXVlVGlsZUZldGNoKHQpKSx0aGlzLl9iaXRtYXBWaWV3LmFkZENoaWxkKHQpLHRoaXMucmVxdWVzdFVwZGF0ZSgpLHR9cmVsZWFzZVRpbGUoZSl7dGhpcy5fZmV0Y2hRdWV1ZS5hYm9ydChlLmtleS5pZCksdGhpcy5fYml0bWFwVmlldy5yZW1vdmVDaGlsZChlKSxlLm9uY2UoXCJkZXRhY2hcIiwoKCk9PmUuZGVzdHJveSgpKSksdGhpcy5yZXF1ZXN0VXBkYXRlKCl9YXN5bmMgZmV0Y2hUaWxlKGUsdD17fSl7Y29uc3Qgcz1cInRpbGVtYXBDYWNoZVwiaW4gdGhpcy5sYXllcj90aGlzLmxheWVyLnRpbGVtYXBDYWNoZTpudWxsLHtzaWduYWw6cixyZXNhbXBsaW5nTGV2ZWw6YT0wfT10O2lmKCFzKXJldHVybiB0aGlzLl9mZXRjaEltYWdlKGUscik7Y29uc3QgbD1uZXcgYygwLDAsMCwwKTtsZXQgbzt0cnl7YXdhaXQgcy5mZXRjaEF2YWlsYWJpbGl0eVVwc2FtcGxlKGUubGV2ZWwsZS5yb3csZS5jb2wsbCx7c2lnbmFsOnJ9KSxvPWF3YWl0IHRoaXMuX2ZldGNoSW1hZ2UobCxyKX1jYXRjaChuKXtpZihpKG4pKXRocm93IG47aWYoYTwzKXtjb25zdCBpPXRoaXMuX3RpbGVJbmZvVmlldy5nZXRUaWxlUGFyZW50SWQoZS5pZCk7aWYoaSl7Y29uc3Qgcz1uZXcgYyhpKSxyPWF3YWl0IHRoaXMuZmV0Y2hUaWxlKHMsey4uLnQscmVzYW1wbGluZ0xldmVsOmErMX0pO3JldHVybiBoKHRoaXMuX3RpbGVJbmZvVmlldyxyLHMsZSl9fXRocm93IG59cmV0dXJuIGgodGhpcy5fdGlsZUluZm9WaWV3LG8sbCxlKX1jYW5SZXN1bWUoKXtjb25zdCBlPXN1cGVyLmNhblJlc3VtZSgpO3JldHVybiBlP251bGwhPT10aGlzLnRpbGVNYXRyaXhTZXQ6ZX1hc3luYyBfZW5xdWV1ZVRpbGVGZXRjaChlKXtpZighdGhpcy5fZmV0Y2hRdWV1ZS5oYXMoZS5rZXkuaWQpKXt0cnl7Y29uc3QgdD1hd2FpdCB0aGlzLl9mZXRjaFF1ZXVlLnB1c2goZS5rZXkpO2UuYml0bWFwLnNvdXJjZT10LGUuYml0bWFwLndpZHRoPXRoaXMuX3RpbGVJbmZvVmlldy50aWxlSW5mby5zaXplWzBdLGUuYml0bWFwLmhlaWdodD10aGlzLl90aWxlSW5mb1ZpZXcudGlsZUluZm8uc2l6ZVsxXSxlLm9uY2UoXCJhdHRhY2hcIiwoKCk9PnRoaXMucmVxdWVzdFVwZGF0ZSgpKSl9Y2F0Y2gocyl7aShzKXx8dC5nZXRMb2dnZXIodGhpcykuZXJyb3Iocyl9dGhpcy5yZXF1ZXN0VXBkYXRlKCl9fWFzeW5jIF9mZXRjaEltYWdlKGUsdCl7cmV0dXJuIHRoaXMubGF5ZXIuZmV0Y2hJbWFnZUJpdG1hcFRpbGUoZS5sZXZlbCxlLnJvdyxlLmNvbCx7c2lnbmFsOnR9KX1fZ2V0VGlsZU1hdHJpeFNldEJ5U3BhdGlhbFJlZmVyZW5jZShlKXtyZXR1cm4gZS50aWxlTWF0cml4U2V0cz8uZmluZCgoZT0+YShlLnRpbGVJbmZvPy5zcGF0aWFsUmVmZXJlbmNlLHRoaXMudmlldy5zcGF0aWFsUmVmZXJlbmNlKSkpfX07ZShbcyh7cmVhZE9ubHk6ITB9KV0sXy5wcm90b3R5cGUsXCJ0aWxlTWF0cml4U2V0XCIsbnVsbCksXz1lKFtyKFwiZXNyaS52aWV3cy4yZC5sYXllcnMuV01UU0xheWVyVmlldzJEXCIpXSxfKTtjb25zdCB3PV87ZXhwb3J0e3cgYXMgZGVmYXVsdH07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4zMy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e18gYXMgcn1mcm9tXCIuLi8uLi9jaHVua3MvdHNsaWIuZXM2LmpzXCI7aW1wb3J0IGUgZnJvbVwiLi4vLi4vY29yZS9Mb2dnZXIuanNcIjtpbXBvcnR7aXNBYm9ydEVycm9yIGFzIHN9ZnJvbVwiLi4vLi4vY29yZS9wcm9taXNlVXRpbHMuanNcIjtpbXBvcnR7b24gYXMgb31mcm9tXCIuLi8uLi9jb3JlL3JlYWN0aXZlVXRpbHMuanNcIjtpbXBvcnRcIi4uLy4uL2NvcmUvaGFzLmpzXCI7aW1wb3J0XCIuLi8uLi9jb3JlL1JhbmRvbUxDRy5qc1wiO2ltcG9ydFwiLi4vLi4vY29yZS9FcnJvci5qc1wiO2ltcG9ydHtzdWJjbGFzcyBhcyB0fWZyb21cIi4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvc3ViY2xhc3MuanNcIjtjb25zdCBpPWk9PntsZXQgYT1jbGFzcyBleHRlbmRzIGl7aW5pdGlhbGl6ZSgpe3RoaXMuYWRkSGFuZGxlcyhvKCgoKT0+dGhpcy5sYXllciksXCJyZWZyZXNoXCIsKHI9Pnt0aGlzLmRvUmVmcmVzaChyLmRhdGFDaGFuZ2VkKS5jYXRjaCgocj0+e3Mocil8fGUuZ2V0TG9nZ2VyKHRoaXMpLmVycm9yKHIpfSkpfSkpLFwiUmVmcmVzaGFibGVMYXllclZpZXdcIil9fTtyZXR1cm4gYT1yKFt0KFwiZXNyaS52aWV3cy5sYXllcnMuUmVmcmVzaGFibGVMYXllclZpZXdcIildLGEpLGF9O2V4cG9ydHtpIGFzIGRlZmF1bHR9O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9