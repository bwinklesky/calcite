export const __webpack_id__ = "vendors-node_modules_arcgis_core_layers_graphics_data_QueryEngine_js-node_modules_arcgis_core-a924a7";
export const __webpack_ids__ = ["vendors-node_modules_arcgis_core_layers_graphics_data_QueryEngine_js-node_modules_arcgis_core-a924a7"];
export const __webpack_modules__ = {

/***/ "./node_modules/@arcgis/core/core/sql/WhereClauseCache.js":
/*!****************************************************************!*\
  !*** ./node_modules/@arcgis/core/core/sql/WhereClauseCache.js ***!
  \****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   WhereClauseCache: () => (/* binding */ r)
/* harmony export */ });
/* harmony import */ var _LRUCache_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../LRUCache.js */ "./node_modules/@arcgis/core/core/LRUCache.js");
/* harmony import */ var _WhereClause_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./WhereClause.js */ "./node_modules/@arcgis/core/core/sql/WhereClause.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
class r{constructor(e,r){this._cache=new _LRUCache_js__WEBPACK_IMPORTED_MODULE_0__.LRUCache(e),this._invalidCache=new _LRUCache_js__WEBPACK_IMPORTED_MODULE_0__.LRUCache(r)}get(t,r){const i=`${r?.uid}:${t}`,c=this._cache.get(i);if(c)return c;if(null!=this._invalidCache.get(i))return null;try{const c=_WhereClause_js__WEBPACK_IMPORTED_MODULE_1__["default"].create(t,{fieldsIndex:r});return this._cache.put(i,c),c}catch(n){return this._invalidCache.put(i,n),null}}getError(t,e){const r=`${e?.uid}:${t}`;return this._invalidCache.get(r)??null}}


/***/ }),

/***/ "./node_modules/@arcgis/core/geometry/support/intersects.js":
/*!******************************************************************!*\
  !*** ./node_modules/@arcgis/core/geometry/support/intersects.js ***!
  \******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   extentIntersectsExtent: () => (/* reexport safe */ _intersectsBase_js__WEBPACK_IMPORTED_MODULE_0__.extentIntersectsExtent),
/* harmony export */   extentIntersectsMultipoint: () => (/* reexport safe */ _intersectsBase_js__WEBPACK_IMPORTED_MODULE_0__.extentIntersectsMultipoint),
/* harmony export */   extentIntersectsPoint: () => (/* reexport safe */ _intersectsBase_js__WEBPACK_IMPORTED_MODULE_0__.extentIntersectsPoint),
/* harmony export */   extentIntersectsPolygon: () => (/* reexport safe */ _intersectsBase_js__WEBPACK_IMPORTED_MODULE_0__.extentIntersectsPolygon),
/* harmony export */   extentIntersectsPolyline: () => (/* reexport safe */ _intersectsBase_js__WEBPACK_IMPORTED_MODULE_0__.extentIntersectsPolyline),
/* harmony export */   getExtentIntersector: () => (/* binding */ s),
/* harmony export */   getFeatureExtentIntersector: () => (/* reexport safe */ _intersectsBase_js__WEBPACK_IMPORTED_MODULE_0__.getFeatureExtentIntersector),
/* harmony export */   isSelfIntersecting: () => (/* reexport safe */ _intersectsBase_js__WEBPACK_IMPORTED_MODULE_0__.isSelfIntersecting),
/* harmony export */   segmentIntersects: () => (/* reexport safe */ _intersectsBase_js__WEBPACK_IMPORTED_MODULE_0__.segmentIntersects)
/* harmony export */ });
/* harmony import */ var _intersectsBase_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./intersectsBase.js */ "./node_modules/@arcgis/core/geometry/support/intersectsBase.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
function s(s){return"mesh"===s?_intersectsBase_js__WEBPACK_IMPORTED_MODULE_0__.extentIntersectsExtent:(0,_intersectsBase_js__WEBPACK_IMPORTED_MODULE_0__.getFeatureExtentIntersector)(s)}


/***/ }),

/***/ "./node_modules/@arcgis/core/layers/graphics/contains.js":
/*!***************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/graphics/contains.js ***!
  \***************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   polygonContainsCoords: () => (/* binding */ o),
/* harmony export */   polygonContainsMultipoint: () => (/* binding */ r),
/* harmony export */   polygonContainsPoint: () => (/* binding */ t)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
function n(n,t){return n?t?4:3:t?3:2}function t(n,t,r,e){return o(n,t,r,e.coords[0],e.coords[1])}function r(t,r,e,c,u,f){const s=n(u,f),{coords:i,lengths:l}=c;if(!l)return!1;for(let n=0,d=0;n<l.length;n++,d+=s)if(!o(t,r,e,i[d],i[d+1]))return!1;return!0}function o(t,r,o,c,u){if(!t)return!1;const f=n(r,o),{coords:s,lengths:i}=t;let l=!1,d=0;for(const n of i)l=e(l,s,f,d,n,c,u),d+=n*f;return l}function e(n,t,r,o,e,c,u){let f=n,s=o;for(let i=o,l=o+e*r;i<l;i+=r){s=i+r,s===l&&(s=o);const n=t[i],e=t[i+1],d=t[s],g=t[s+1];(e<u&&g>=u||g<u&&e>=u)&&n+(u-e)/(g-e)*(d-n)<c&&(f=!f)}return f}


/***/ }),

/***/ "./node_modules/@arcgis/core/layers/graphics/data/AttributesBuilder.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/graphics/data/AttributesBuilder.js ***!
  \*****************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ c)
/* harmony export */ });
/* harmony import */ var _attributeSupport_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./attributeSupport.js */ "./node_modules/@arcgis/core/layers/graphics/data/attributeSupport.js");
/* harmony import */ var _geometryUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./geometryUtils.js */ "./node_modules/@arcgis/core/layers/graphics/data/geometryUtils.js");
/* harmony import */ var _support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../support/fieldUtils.js */ "./node_modules/@arcgis/core/layers/support/fieldUtils.js");
/* harmony import */ var _smartMapping_statistics_support_utils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../smartMapping/statistics/support/utils.js */ "./node_modules/@arcgis/core/smartMapping/statistics/support/utils.js");
/* harmony import */ var _statistics_utils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../statistics/utils.js */ "./node_modules/@arcgis/core/statistics/utils.js");
/* harmony import */ var _support_loadArcade_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../support/loadArcade.js */ "./node_modules/@arcgis/core/support/loadArcade.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
class c{constructor(s,a,l){this._fieldDataCache=new Map,this._returnDistinctMap=new Map,this.returnDistinctValues=s.returnDistinctValues??!1,this.fieldsIndex=l,this.featureAdapter=a;const r=s.outFields;if(r&&!r.includes("*")){this.outFields=r;let s=0;for(const a of r){const r=(0,_attributeSupport_js__WEBPACK_IMPORTED_MODULE_0__.getExpressionFromFieldName)(a),n=this.fieldsIndex.get(r),u=n?null:(0,_attributeSupport_js__WEBPACK_IMPORTED_MODULE_0__.getWhereClause)(r,l),o=n?n.name:(0,_attributeSupport_js__WEBPACK_IMPORTED_MODULE_0__.getAliasFromFieldName)(a)||"FIELD_EXP_"+s++;this._fieldDataCache.set(a,{alias:o,clause:u})}}}countDistinctValues(t){return this.returnDistinctValues?(t.forEach((t=>this.getAttributes(t))),this._returnDistinctMap.size):t.length}getAttributes(t){const e=this._processAttributesForOutFields(t);return this._processAttributesForDistinctValues(e)}getFieldValue(t,i,s){const a=s?s.name:i;let l=null;return this._fieldDataCache.has(a)?l=this._fieldDataCache.get(a)?.clause:s||(l=(0,_attributeSupport_js__WEBPACK_IMPORTED_MODULE_0__.getWhereClause)(i,this.fieldsIndex),this._fieldDataCache.set(a,{alias:a,clause:l})),s?this.featureAdapter.getAttribute(t,a):l?.calculateValue(t,this.featureAdapter)}getDataValues(t,e,i=!0){const s=e.normalizationType,d=e.normalizationTotal,c=this.fieldsIndex.get(e.field),h=(0,_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_2__.isDateOnlyField)(c)||(0,_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_2__.isTimestampOffsetField)(c),f=(0,_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_2__.isTimeOnlyField)(c);return t.map((t=>{let a=e.field&&this.getFieldValue(t,e.field,this.fieldsIndex.get(e.field));if(e.field2?(a=`${(0,_statistics_utils_js__WEBPACK_IMPORTED_MODULE_4__.processNullValue)(a)}${e.fieldDelimiter}${(0,_statistics_utils_js__WEBPACK_IMPORTED_MODULE_4__.processNullValue)(this.getFieldValue(t,e.field2,this.fieldsIndex.get(e.field2)))}`,e.field3&&(a=`${a}${e.fieldDelimiter}${(0,_statistics_utils_js__WEBPACK_IMPORTED_MODULE_4__.processNullValue)(this.getFieldValue(t,e.field3,this.fieldsIndex.get(e.field3)))}`)):"string"==typeof a&&i&&(h?a=a?new Date(a).getTime():null:f&&(a=a?(0,_smartMapping_statistics_support_utils_js__WEBPACK_IMPORTED_MODULE_3__.timeOnlyToMilliseconds)(a):null)),s&&Number.isFinite(a)){const i="field"===s&&e.normalizationField?this.getFieldValue(t,e.normalizationField,this.fieldsIndex.get(e.normalizationField)):null;a=(0,_statistics_utils_js__WEBPACK_IMPORTED_MODULE_4__.getNormalizedValue)(a,s,i,d)}return a}))}async getExpressionValues(t,e,i,a,l){const{arcadeUtils:r}=await (0,_support_loadArcade_js__WEBPACK_IMPORTED_MODULE_5__.loadArcade)(),n=r.hasGeometryOperations(e);n&&await r.enableGeometryOperations();const u=r.createFunction(e),o=r.getViewInfo(i),c={fields:this.fieldsIndex.fields};return t.map((t=>{const e={attributes:this.featureAdapter.getAttributes(t),layer:c,geometry:n?{...(0,_geometryUtils_js__WEBPACK_IMPORTED_MODULE_1__.getGeometry)(a.geometryType,a.hasZ,a.hasM,this.featureAdapter.getGeometry(t)),spatialReference:i?.spatialReference}:null},d=r.createExecContext(e,o,l);return r.executeFunction(u,d)}))}validateItem(t,i){return this._fieldDataCache.has(i)||this._fieldDataCache.set(i,{alias:i,clause:(0,_attributeSupport_js__WEBPACK_IMPORTED_MODULE_0__.getWhereClause)(i,this.fieldsIndex)}),this._fieldDataCache.get(i)?.clause?.testFeature(t,this.featureAdapter)??!1}validateItems(t,i){return this._fieldDataCache.has(i)||this._fieldDataCache.set(i,{alias:i,clause:(0,_attributeSupport_js__WEBPACK_IMPORTED_MODULE_0__.getWhereClause)(i,this.fieldsIndex)}),this._fieldDataCache.get(i)?.clause?.testSet(t,this.featureAdapter)??!1}_processAttributesForOutFields(t){const e=this.outFields;if(!e?.length)return this.featureAdapter.getAttributes(t);const i={};for(const s of e){const{alias:e,clause:a}=this._fieldDataCache.get(s);i[e]=a?a.calculateValue(t,this.featureAdapter):this.featureAdapter.getAttribute(t,e)}return i}_processAttributesForDistinctValues(t){if(null==t||!this.returnDistinctValues)return t;const e=this.outFields,i=[];if(e)for(const l of e){const{alias:e}=this._fieldDataCache.get(l);i.push(t[e])}else for(const l in t)i.push(t[l]);const s=`${(e||["*"]).join(",")}=${i.join(",")}`;let a=this._returnDistinctMap.get(s)||0;return this._returnDistinctMap.set(s,++a),a>1?null:t}}


/***/ }),

/***/ "./node_modules/@arcgis/core/layers/graphics/data/QueryEngine.js":
/*!***********************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/graphics/data/QueryEngine.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Feature: () => (/* binding */ J),
/* harmony export */   QueryEngine: () => (/* binding */ L),
/* harmony export */   getQueryBBoxes: () => (/* binding */ V)
/* harmony export */ });
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_compilerUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/compilerUtils.js */ "./node_modules/@arcgis/core/core/compilerUtils.js");
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_lang_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../core/lang.js */ "./node_modules/@arcgis/core/core/lang.js");
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../core/maybe.js */ "./node_modules/@arcgis/core/core/maybe.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _core_unitUtils_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../core/unitUtils.js */ "./node_modules/@arcgis/core/core/unitUtils.js");
/* harmony import */ var _core_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../core/support/jsonUtils.js */ "./node_modules/@arcgis/core/core/support/jsonUtils.js");
/* harmony import */ var _geometry_projectionUtils_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../geometry/projectionUtils.js */ "./node_modules/@arcgis/core/geometry/projectionUtils.js");
/* harmony import */ var _geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../geometry/support/aaBoundingBox.js */ "./node_modules/@arcgis/core/geometry/support/aaBoundingBox.js");
/* harmony import */ var _geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../geometry/support/aaBoundingRect.js */ "./node_modules/@arcgis/core/geometry/support/aaBoundingRect.js");
/* harmony import */ var _geometry_support_boundsUtils_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../geometry/support/boundsUtils.js */ "./node_modules/@arcgis/core/geometry/support/boundsUtils.js");
/* harmony import */ var _geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../geometry/support/jsonUtils.js */ "./node_modules/@arcgis/core/geometry/support/jsonUtils.js");
/* harmony import */ var _geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../geometry/support/spatialReferenceUtils.js */ "./node_modules/@arcgis/core/geometry/support/spatialReferenceUtils.js");
/* harmony import */ var _featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../featureConversionUtils.js */ "./node_modules/@arcgis/core/layers/graphics/featureConversionUtils.js");
/* harmony import */ var _attributeSupport_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./attributeSupport.js */ "./node_modules/@arcgis/core/layers/graphics/data/attributeSupport.js");
/* harmony import */ var _geometryUtils_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./geometryUtils.js */ "./node_modules/@arcgis/core/layers/graphics/data/geometryUtils.js");
/* harmony import */ var _projectionSupport_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./projectionSupport.js */ "./node_modules/@arcgis/core/layers/graphics/data/projectionSupport.js");
/* harmony import */ var _QueryEngineCache_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./QueryEngineCache.js */ "./node_modules/@arcgis/core/layers/graphics/data/QueryEngineCache.js");
/* harmony import */ var _QueryEngineCapabilities_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./QueryEngineCapabilities.js */ "./node_modules/@arcgis/core/layers/graphics/data/QueryEngineCapabilities.js");
/* harmony import */ var _QueryEngineResult_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./QueryEngineResult.js */ "./node_modules/@arcgis/core/layers/graphics/data/QueryEngineResult.js");
/* harmony import */ var _queryUtils_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./queryUtils.js */ "./node_modules/@arcgis/core/layers/graphics/data/queryUtils.js");
/* harmony import */ var _queryValidationUtils_js__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./queryValidationUtils.js */ "./node_modules/@arcgis/core/layers/graphics/data/queryValidationUtils.js");
/* harmony import */ var _spatialQuerySupport_js__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ./spatialQuerySupport.js */ "./node_modules/@arcgis/core/layers/graphics/data/spatialQuerySupport.js");
/* harmony import */ var _timeSupport_js__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ./timeSupport.js */ "./node_modules/@arcgis/core/layers/graphics/data/timeSupport.js");
/* harmony import */ var _support_FieldsIndex_js__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ../../support/FieldsIndex.js */ "./node_modules/@arcgis/core/layers/support/FieldsIndex.js");
/* harmony import */ var _views_support_Scheduler_js__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ../../../views/support/Scheduler.js */ "./node_modules/@arcgis/core/views/support/Scheduler.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
const N="unsupported-query";class J{constructor(e,t=null,s,i,r){this.attributes=e,this.geometry=s,this.centroid=i,this.filterFlags=r,this.groupId=-1,this.displayId=t}}class L{constructor(e){this._changeHandle=null,this.capabilities={query:_QueryEngineCapabilities_js__WEBPACK_IMPORTED_MODULE_20__.queryCapabilities},this.geometryType=e.geometryType,this.hasM=!!e.hasM,this.hasZ=!!e.hasZ,this.spatialReference=e.spatialReference,this.definitionExpression=e.definitionExpression,this.featureStore=e.featureStore,this.aggregateAdapter=e.aggregateAdapter,this._cache=e.cache??new _QueryEngineCache_js__WEBPACK_IMPORTED_MODULE_19__.QueryEngineCache,this.timeInfo=e.timeInfo,this.featureIdInfo=e.featureIdInfo,"object-id"===e.featureIdInfo.type&&(this.objectIdField=e.featureIdInfo.fieldName),this._changeHandle=this.featureStore.events.on("changed",(()=>this._clearCache())),this.fieldsIndex=(0,_core_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_8__.isSerializable)(e.fieldsIndex)?e.fieldsIndex:_support_FieldsIndex_js__WEBPACK_IMPORTED_MODULE_26__["default"].fromJSON(e.fieldsIndex),!e.availableFields||1===e.availableFields.length&&"*"===e.availableFields[0]?this.availableFields=new Set(this.fieldsIndex.fields.map((e=>e.name))):this.availableFields=new Set(e.availableFields.map((e=>this.fieldsIndex.get(e)?.name)).filter((e=>null!=e))),e.scheduler&&e.priority&&(this._frameTask=e.scheduler.registerTask(e.priority))}destroy(){this._changeHandle=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_5__.removeMaybe)(this._changeHandle),this._frameTask=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_5__.removeMaybe)(this._frameTask),this._clearCache(),(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_5__.destroyMaybe)(this._cache)}get featureAdapter(){return this.featureStore.featureAdapter}_clearCache(){this._cache.clear(),this._allFeaturesPromise=null,this._timeExtentPromise=null,this._fullExtentPromise=null}async executeQuery(e,t){const s=(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_6__.signalFromSignalOrOptions)(t);try{const t=await this._executeQuery(e,{},s);return await t.createQueryResponse()}catch(i){if(i!==_queryUtils_js__WEBPACK_IMPORTED_MODULE_22__.queryEngineEmptyResult)throw i;return new _QueryEngineResult_js__WEBPACK_IMPORTED_MODULE_21__.QueryEngineResult([],e,this).createQueryResponse()}}async executeQueryForCount(e={},t){const s=(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_6__.signalFromSignalOrOptions)(t);try{return(await this._executeQuery(e,{returnGeometry:!1,returnCentroid:!1,outSR:null},s)).createQueryResponseForCount()}catch(i){if(i!==_queryUtils_js__WEBPACK_IMPORTED_MODULE_22__.queryEngineEmptyResult)throw i;return 0}}async executeQueryForExtent(e,t){const s=(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_6__.signalFromSignalOrOptions)(t),i=e.outSR;try{const t=await this._executeQuery(e,{returnGeometry:!0,returnCentroid:!1,outSR:null},s),r=t.size;if(!r)return{count:0,extent:null};return{count:r,extent:await this._getBounds(t.items,t.spatialReference,i||this.spatialReference)}}catch(r){if(r===_queryUtils_js__WEBPACK_IMPORTED_MODULE_22__.queryEngineEmptyResult)return{count:0,extent:null};throw r}}async executeQueryForIds(e,t){return this.executeQueryForIdSet(e,t).then((e=>Array.from(e)))}async executeQueryForIdSet(e,t){const s=(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_6__.signalFromSignalOrOptions)(t);try{const t=await this._executeQuery(e,{returnGeometry:!0,returnCentroid:!1,outSR:null},s),i=t.items,r=new Set;return await this.reschedule((()=>{for(const e of i)r.add(t.featureAdapter.getObjectId(e))}),s),r}catch(i){if(i===_queryUtils_js__WEBPACK_IMPORTED_MODULE_22__.queryEngineEmptyResult)return new Set;throw i}}async executeQueryForLatestObservations(e,t){const s=(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_6__.signalFromSignalOrOptions)(t);if(!this.timeInfo?.trackIdField)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_2__["default"](N,"Missing timeInfo or timeInfo.trackIdField",{query:e,timeInfo:this.timeInfo});try{const t=await this._executeQuery(e,{},s);return await this.reschedule((()=>this._filterLatest(t)),s),await t.createQueryResponse()}catch(r){if(r!==_queryUtils_js__WEBPACK_IMPORTED_MODULE_22__.queryEngineEmptyResult)throw r;return new _QueryEngineResult_js__WEBPACK_IMPORTED_MODULE_21__.QueryEngineResult([],e,this).createQueryResponse()}}async executeAttributeBinsQuery(e,t){const s=(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_6__.signalFromSignalOrOptions)(t);let i;e=(0,_core_lang_js__WEBPACK_IMPORTED_MODULE_4__.clone)(e);try{e=await this.schedule((()=>(0,_queryUtils_js__WEBPACK_IMPORTED_MODULE_22__.normalizeAttributeBinsQuery)(e,this.definitionExpression,this.spatialReference)),s),e=await this.reschedule((()=>(0,_queryValidationUtils_js__WEBPACK_IMPORTED_MODULE_23__.validateAttributeBinsQuery)(e,{availableFields:this.availableFields,fieldsIndex:this.fieldsIndex,geometryType:this.geometryType,spatialReference:this.spatialReference})),s);const t=await this.reschedule((()=>this._executeSceneFilterQuery(e,s)),s);i=await this.reschedule((()=>this._executeGeometryQuery(e,t,s)),s),await this.reschedule((()=>this._executeAggregateIdsQuery(i)),s),await this.reschedule((()=>this.executeObjectIdsQuery(i)),s),await this.reschedule((()=>this.executeTimeQuery(i)),s),await this.reschedule((()=>this.executeAttributesQuery(i)),s)}catch(a){if(a!==_queryUtils_js__WEBPACK_IMPORTED_MODULE_22__.queryEngineEmptyResult)throw a;i=new _QueryEngineResult_js__WEBPACK_IMPORTED_MODULE_21__.QueryEngineResult([],e,this)}return i.createQueryBinsResponse(e)}async executeQueryForSummaryStatistics(e={},t,s){const i=(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_6__.signalFromSignalOrOptions)(s),{field:r,normalizationField:a,valueExpression:n}=t;return(await this._executeQueryForStatistics(e,{field:r,normalizationField:a,valueExpression:n},i)).createSummaryStatisticsResponse(t)}async executeQueryForUniqueValues(e={},t,s){const i=(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_6__.signalFromSignalOrOptions)(s),{field:r,field2:a,field3:n,valueExpression:l}=t;return(await this._executeQueryForStatistics(e,{field:r,field2:a,field3:n,valueExpression:l},i)).createUniqueValuesResponse(t)}async executeQueryForClassBreaks(e={},t,s){const i=(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_6__.signalFromSignalOrOptions)(s),{field:r,normalizationField:a,valueExpression:n}=t;return(await this._executeQueryForStatistics(e,{field:r,normalizationField:a,valueExpression:n},i)).createClassBreaksResponse(t)}async executeQueryForHistogram(e={},t,s){const i=(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_6__.signalFromSignalOrOptions)(s),{field:r,normalizationField:a,valueExpression:n}=t;return(await this._executeQueryForStatistics(e,{field:r,normalizationField:a,valueExpression:n},i)).createHistogramResponse(t)}async fetchRecomputedExtents(e){const t=(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_6__.signalFromSignalOrOptions)(e);this._timeExtentPromise||=(0,_timeSupport_js__WEBPACK_IMPORTED_MODULE_25__.getTimeExtent)(this.timeInfo,this.featureStore);const[s,i]=await Promise.all([this._getFullExtent(),this._timeExtentPromise]);return (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_6__.throwIfAborted)(t),{fullExtent:s,timeExtent:i}}async _getBounds(e,t,s){const i=(0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_10__.set)((0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_10__.create)(),_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_10__.negativeInfinity);await this.featureStore.forEachBounds(e,(e=>(0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_10__.expandWithAABB)(i,e)));const r={xmin:i[0],ymin:i[1],xmax:i[3],ymax:i[4],spatialReference:(0,_geometryUtils_js__WEBPACK_IMPORTED_MODULE_17__.cleanFromGeometryEngine)(this.spatialReference)};this.hasZ&&isFinite(i[2])&&isFinite(i[5])&&(r.zmin=i[2],r.zmax=i[5],r.hasZ=!0);const a=(0,_projectionSupport_js__WEBPACK_IMPORTED_MODULE_18__.project)(r,t,s);if(a.spatialReference=(0,_geometryUtils_js__WEBPACK_IMPORTED_MODULE_17__.cleanFromGeometryEngine)(s),a.xmax-a.xmin===0){const e=(0,_core_unitUtils_js__WEBPACK_IMPORTED_MODULE_7__.getMetersPerUnitForSR)(a.spatialReference);a.xmin-=e,a.xmax+=e}if(a.ymax-a.ymin===0){const e=(0,_core_unitUtils_js__WEBPACK_IMPORTED_MODULE_7__.getMetersPerUnitForSR)(a.spatialReference);a.ymin-=e,a.ymax+=e}if(this.hasZ&&null!=a.zmin&&null!=a.zmax&&a.zmax-a.zmin===0){const e=(0,_core_unitUtils_js__WEBPACK_IMPORTED_MODULE_7__.getMetersPerUnitForSR)(a.spatialReference);a.zmin-=e,a.zmax+=e}return a}_getFullExtent(){return this._fullExtentPromise||="getFullExtent"in this.featureStore&&this.featureStore.getFullExtent?Promise.resolve(this.featureStore.getFullExtent(this.spatialReference)):this._getAllFeatures().then((e=>this._getBounds(e,this.spatialReference,this.spatialReference))),this._fullExtentPromise}async schedule(e,t){return this._frameTask?.schedule(e,t)??e(_views_support_Scheduler_js__WEBPACK_IMPORTED_MODULE_27__.noBudget)}async reschedule(e,t){return this._frameTask?.reschedule(e,t)??e(_views_support_Scheduler_js__WEBPACK_IMPORTED_MODULE_27__.noBudget)}async _getAllFeaturesQueryEngineResult(e){return new _QueryEngineResult_js__WEBPACK_IMPORTED_MODULE_21__.QueryEngineResult(await this._getAllFeatures(),e,this)}async _getAllFeatures(){if(null==this._allFeaturesPromise){const e=[];this._allFeaturesPromise=(async()=>await this.featureStore.forEach((t=>e.push(t))))().then((()=>(0,_core_compilerUtils_js__WEBPACK_IMPORTED_MODULE_1__.toConst)(e)))}const e=this._allFeaturesPromise,t=await e;return e===this._allFeaturesPromise?t.slice():this._getAllFeatures()}async _executeQuery(e,t,s){e=(0,_core_lang_js__WEBPACK_IMPORTED_MODULE_4__.clone)(e),e=await this.schedule((()=>(0,_queryUtils_js__WEBPACK_IMPORTED_MODULE_22__.normalizeQuery)(e,this.definitionExpression,this.spatialReference)),s),e=await this.reschedule((()=>(0,_queryValidationUtils_js__WEBPACK_IMPORTED_MODULE_23__.validateQuery)(e,{availableFields:this.availableFields,fieldsIndex:this.fieldsIndex,geometryType:this.geometryType,spatialReference:this.spatialReference})),s),e={...e,...t};const i=await this.reschedule((()=>this._executeSceneFilterQuery(e,s)),s),a=await this.reschedule((()=>this._executeGeometryQuery(e,i,s)),s);return await this.reschedule((()=>this._executeAggregateIdsQuery(a)),s),await this.reschedule((()=>this.executeObjectIdsQuery(a)),s),await this.reschedule((()=>this.executeTimeQuery(a)),s),await this.reschedule((()=>this.executeAttributesQuery(a)),s),a}async _executeSceneFilterQuery(e,t){if(null==e.sceneFilter)return null;const{outSR:s,returnGeometry:i,returnCentroid:r}=e,a=this.featureStore.featureSpatialReference,n=e.sceneFilter.geometry,u=null==a||(0,_geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_14__.equals)(a,n.spatialReference)?n:(0,_projectionSupport_js__WEBPACK_IMPORTED_MODULE_18__.project)(n,a);if(!u)return null;const l=i||r,o=(0,_geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_14__.isValid)(s)&&!(0,_geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_14__.equals)(this.spatialReference,s)&&l?async e=>this._project(e,s):e=>e,h=this.featureAdapter,c=await this.reschedule((()=>this.searchFeatures(V(u))),t);if("disjoint"===e.sceneFilter.spatialRelationship){if(!c.length)return null;const s=new Set;for(const e of c)s.add(h.getObjectId(e));const i=await this.reschedule((()=>this._getAllFeatures()),t),r=await this.reschedule((async()=>{const r=await (0,_spatialQuerySupport_js__WEBPACK_IMPORTED_MODULE_24__.getSpatialQueryOperator)("esriSpatialRelDisjoint",u,this.geometryType,this.hasZ,this.hasM),a=e=>!s.has(h.getObjectId(e))||r(h.getGeometry(e)),n=await this.runSpatialFilter(i,a,t);return new _QueryEngineResult_js__WEBPACK_IMPORTED_MODULE_21__.QueryEngineResult(n,e,this)}),t);return o(r)}if(!c.length)return new _QueryEngineResult_js__WEBPACK_IMPORTED_MODULE_21__.QueryEngineResult([],e,this);if(this._canExecuteSinglePass(u,e))return o(new _QueryEngineResult_js__WEBPACK_IMPORTED_MODULE_21__.QueryEngineResult(c,e,this));const m=await (0,_spatialQuerySupport_js__WEBPACK_IMPORTED_MODULE_24__.getSpatialQueryOperator)("esriSpatialRelContains",u,this.geometryType,this.hasZ,this.hasM),f=await this.runSpatialFilter(c,(e=>m(h.getGeometry(e))),t);return o(new _QueryEngineResult_js__WEBPACK_IMPORTED_MODULE_21__.QueryEngineResult(f,e,this))}async _executeGeometryQuery(s,i,r){if(null!=i&&0===i.items.length)return i;const{geometry:a,outSR:n,returnGeometry:u,returnCentroid:l}=s,o=i?null:this._getCacheKey(s),h=o?this._cache.get(o):null;if(h)return new _QueryEngineResult_js__WEBPACK_IMPORTED_MODULE_21__.QueryEngineResult(h,s,this);const c=(0,_geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_14__.isValid)(n)&&!(0,_geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_14__.equals)(this.spatialReference,n),m=u||l,f=async e=>(c&&m&&await this._project(e,n),o&&this._cache.put(o,e.items),e),d=this.featureStore.featureSpatialReference,y=!a||null==d||(0,_geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_14__.equals)(d,a.spatialReference)?a:(0,_projectionSupport_js__WEBPACK_IMPORTED_MODULE_18__.project)(a,d);if(!y)return f(null!=i?i:await this._getAllFeaturesQueryEngineResult(s));const p=this.featureAdapter;let g=await this.reschedule((()=>this.searchFeatures(V(a))),r);const x=s.spatialRel??"esriSpatialRelIntersects";if("esriSpatialRelDisjoint"===x){if(!g.length)return f(null!=i?i:await this._getAllFeaturesQueryEngineResult(s));const e=new Set;for(const s of g)e.add(p.getObjectId(s));const t=null!=i?i.items:await this.reschedule((()=>this._getAllFeatures()),r),a=await this.reschedule((async()=>{const i=await (0,_spatialQuerySupport_js__WEBPACK_IMPORTED_MODULE_24__.getSpatialQueryOperator)(x,y,this.geometryType,this.hasZ,this.hasM),a=t=>!e.has(p.getObjectId(t))||i(p.getGeometry(t)),n=await this.runSpatialFilter(t,a,r);return new _QueryEngineResult_js__WEBPACK_IMPORTED_MODULE_21__.QueryEngineResult(n,s,this)}),r);return f(a)}if(null!=i){const s=new _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_0__.PositionHint;g=g.filter((t=>(0,_core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_0__.indexOf)(i.items,t,i.items.length,s)>=0))}if(!g.length){const e=new _QueryEngineResult_js__WEBPACK_IMPORTED_MODULE_21__.QueryEngineResult([],s,this);return o&&this._cache.put(o,e.items),e}if(this._canExecuteSinglePass(y,s))return f(new _QueryEngineResult_js__WEBPACK_IMPORTED_MODULE_21__.QueryEngineResult(g,s,this));const w=await (0,_spatialQuerySupport_js__WEBPACK_IMPORTED_MODULE_24__.getSpatialQueryOperator)(x,y,this.geometryType,this.hasZ,this.hasM),F=await this.runSpatialFilter(g,(e=>w(p.getGeometry(e))),r);return f(new _QueryEngineResult_js__WEBPACK_IMPORTED_MODULE_21__.QueryEngineResult(F,s,this))}_executeAggregateIdsQuery(e){if(0===e.items.length||!e.query.aggregateIds?.length||null==this.aggregateAdapter)return;const t=new Set;for(const i of e.query.aggregateIds){this.aggregateAdapter.getFeatureObjectIds(i).forEach((e=>t.add(e)))}const s=this.featureAdapter.getObjectId;e.items=e.items.filter((e=>t.has(s(e))))}executeObjectIdsQuery(e){if(0===e.items.length||!e.query.objectIds?.length)return;const t=new Set(e.query.objectIds),s=this.featureAdapter.getObjectId;e.items=e.items.filter((e=>t.has(s(e))))}executeTimeQuery(e){if(0===e.items.length)return;const t=(0,_timeSupport_js__WEBPACK_IMPORTED_MODULE_25__.getTimeOperator)(this.timeInfo,e.query.timeExtent,this.featureAdapter);null!=t&&(e.items=e.items.filter(t))}executeAttributesQuery(e){if(0===e.items.length)return;const t=(0,_attributeSupport_js__WEBPACK_IMPORTED_MODULE_16__.getWhereClause)(e.query.where,this.fieldsIndex);if(t){if(!t.isStandardized)throw new TypeError("Where clause is not standardized");e.items=e.items.filter((e=>t.testFeature(e,this.featureAdapter)))}}async runSpatialFilter(e,t,s){if(!t)return e;if(null==this._frameTask)return e.filter((e=>t(e)));let i=0;const r=new Array,a=async n=>{for(;i<e.length;){const u=e[i++];t(u)&&(r.push(u),n.madeProgress()),n.done&&await this.reschedule((e=>a(e)),s)}};return this.reschedule((e=>a(e)),s).then((()=>r))}_filterLatest(e){const{trackIdField:t,startTimeField:s,endTimeField:i}=this.timeInfo,r=i||s,a=new Map,n=this.featureAdapter.getAttribute;for(const u of e.items){const e=n(u,t),s=n(u,r),i=a.get(e);(!i||s>n(i,r))&&a.set(e,u)}e.items=Array.from(a.values())}_getCacheKey(e){const{geometry:t,spatialRel:s,returnGeometry:i,returnCentroid:r,outSR:a,resultType:n,cacheHint:u}=e;if("tile"!==n&&!u)return null;const l=i||r;return (0,_geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_14__.isValid)(a)&&!(0,_geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_14__.equals)(this.spatialReference,a)&&l?JSON.stringify([t,s,a]):JSON.stringify([t,s])}_canExecuteSinglePass(e,t){const{spatialRel:s}=t;return (0,_spatialQuerySupport_js__WEBPACK_IMPORTED_MODULE_24__.canQueryWithRBush)(e)&&("esriSpatialRelEnvelopeIntersects"===s||"esriGeometryPoint"===this.geometryType&&("esriSpatialRelIntersects"===s||"esriSpatialRelContains"===s))}async _project(e,t){if(!t||(0,_geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_14__.equals)(this.spatialReference,t))return e;const i=this.featureAdapter;let r;try{const e=await this._getFullExtent();r=(0,_geometry_projectionUtils_js__WEBPACK_IMPORTED_MODULE_9__.getTransformation)(this.spatialReference,t,e)}catch{}const a=await (0,_projectionSupport_js__WEBPACK_IMPORTED_MODULE_18__.projectMany)(e.items.map((e=>(0,_geometryUtils_js__WEBPACK_IMPORTED_MODULE_17__.getGeometry)(this.geometryType,this.hasZ,this.hasM,i.getGeometry(e)))),this.spatialReference,t,r);return e.items=(0,_core_compilerUtils_js__WEBPACK_IMPORTED_MODULE_1__.toConst)(a.map(((t,s)=>i.cloneWithGeometry(e.items[s],(0,_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_15__.convertFromGeometry)(t,this.hasZ,this.hasM))))),e}async searchFeatures(e){const t=new Set;await Promise.all(e.map((e=>this.featureStore.forEachInBounds(e,(e=>t.add(e))))));const s=Array.from(t.values());return t.clear(),s}async _executeQueryForStatistics(e,t,s){e=(0,_core_lang_js__WEBPACK_IMPORTED_MODULE_4__.clone)(e);try{e=await this.schedule((()=>(0,_queryUtils_js__WEBPACK_IMPORTED_MODULE_22__.normalizeQuery)(e,this.definitionExpression,this.spatialReference)),s),e=await this.reschedule((()=>(0,_queryValidationUtils_js__WEBPACK_IMPORTED_MODULE_23__.validateStatisticsQuery)(e,t,{availableFields:this.availableFields,fieldsIndex:this.fieldsIndex,geometryType:this.geometryType,spatialReference:this.spatialReference})),s);const i=await this.reschedule((()=>this._executeSceneFilterQuery(e,s)),s),r=await this.reschedule((()=>this._executeGeometryQuery(e,i,s)),s);return await this.reschedule((()=>this._executeAggregateIdsQuery(r)),s),await this.reschedule((()=>this.executeObjectIdsQuery(r)),s),await this.reschedule((()=>this.executeTimeQuery(r)),s),await this.reschedule((()=>this.executeAttributesQuery(r)),s),r}catch(i){if(i!==_queryUtils_js__WEBPACK_IMPORTED_MODULE_22__.queryEngineEmptyResult)throw i;return new _QueryEngineResult_js__WEBPACK_IMPORTED_MODULE_21__.QueryEngineResult([],e,this)}}get test(){}}function V(e){if((0,_spatialQuerySupport_js__WEBPACK_IMPORTED_MODULE_24__.canQueryWithRBush)(e)){if((0,_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_13__.isExtent)(e))return[(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_11__.fromValues)(Math.min(e.xmin,e.xmax),Math.min(e.ymin,e.ymax),Math.max(e.xmin,e.xmax),Math.max(e.ymin,e.ymax))];if((0,_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_13__.isPolygon)(e))return e.rings.map((e=>(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_11__.fromValues)(Math.min(e[0][0],e[2][0]),Math.min(e[0][1],e[2][1]),Math.max(e[0][0],e[2][0]),Math.max(e[0][1],e[2][1]))))}return[(0,_geometry_support_boundsUtils_js__WEBPACK_IMPORTED_MODULE_12__.getBoundsXY)((0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_11__.create)(),e)]}


/***/ }),

/***/ "./node_modules/@arcgis/core/layers/graphics/data/QueryEngineCache.js":
/*!****************************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/graphics/data/QueryEngineCache.js ***!
  \****************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   QueryEngineCache: () => (/* binding */ e)
/* harmony export */ });
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
const t=5;class e{constructor(){this._storage=new Map,this._purgeInterval=t,this._sweep=()=>{if(this._timer=void 0,!this._storage)return;const t=1e3*this._purgeInterval,e=performance.now()-t;for(const[s,r]of this._storage){if(!(r.time<e))return void(this._storage.size>0&&(this._timer=setTimeout(this._sweep,t)));this._storage.delete(s)}}}destroy(){this._storage?.clear(),this._storage=null,clearTimeout(this._timer)}put(t,e){this._storage?.set(t,new r(e)),this._scheduleSweep()}get(t){const e=this._storage?.get(t);if(e)return this._storage?.delete(t),e.time=performance.now(),this._storage?.set(t,e),e.items}clear(){this._storage?.clear()}_scheduleSweep(){this._storage&&(this._timer??=setTimeout(this._sweep,1e3*this._purgeInterval))}get test(){}}let s=0;class r{constructor(t){this.items=t,this.time=performance.now(),this.id=s++}}


/***/ }),

/***/ "./node_modules/@arcgis/core/layers/graphics/data/QueryEngineCapabilities.js":
/*!***********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/graphics/data/QueryEngineCapabilities.js ***!
  \***********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   queryBinsCapabilities: () => (/* binding */ s),
/* harmony export */   queryCapabilities: () => (/* binding */ t)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
const t={supportsStatistics:!0,supportsPercentileStatistics:!0,supportsSpatialAggregationStatistics:!1,supportedSpatialAggregationStatistics:{envelope:!1,centroid:!1,convexHull:!1},supportsCentroid:!0,supportsCacheHint:!0,supportsCurrentUser:!1,supportsDistance:!0,supportsDistinct:!0,supportsExtent:!0,supportsGeometryProperties:!1,supportsHavingClause:!0,supportsOrderBy:!0,supportsPagination:!0,supportsPaginationOnAggregatedQueries:!1,supportsQuantization:!0,supportsQuantizationEditMode:!1,supportsQueryGeometry:!0,supportsResultType:!0,supportsReturnMesh:!1,supportsSqlExpression:!0,supportsMaxRecordCountFactor:!1,supportsStandardizedQueriesOnly:!0,supportsTopFeaturesQuery:!1,supportsQueryByAnonymous:!0,supportsQueryByOthers:!0,supportsHistoricMoment:!1,supportsFormatPBF:!1,supportsDisjointSpatialRelationship:!0,supportsDefaultSpatialReference:!1,supportsFullTextSearch:!1,supportsCompactGeometry:!1,maxRecordCountFactor:void 0,maxRecordCount:void 0,maxUniqueIDCount:void 0,standardMaxRecordCount:void 0,tileMaxRecordCount:void 0,supportsTrueCurve:!1},s={supportsDate:!0,supportsFixedInterval:!0,supportsAutoInterval:!0,supportsFixedBoundaries:!0,supportsStackBy:!0,supportsSplitBy:!0,supportsSnapToData:!1,supportsReturnFullIntervalBin:!1,supportsFirstDayOfWeek:!1,supportsNormalization:!0,supportedStatistics:{count:!0,sum:!0,avg:!0,var:!0,stddev:!0,min:!0,max:!0,percentileContinuous:!0,percentileDiscrete:!0,envelope:!0,centroid:!0,convexHull:!0},supportedNormalizationTypes:{field:!0,log:!0,naturalLog:!0,percentOfTotal:!0,squareRoot:!0}};


/***/ }),

/***/ "./node_modules/@arcgis/core/layers/graphics/data/QueryEngineResult.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/graphics/data/QueryEngineResult.js ***!
  \*****************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   QueryEngineResult: () => (/* binding */ O)
/* harmony export */ });
/* harmony import */ var _core_lang_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../core/lang.js */ "./node_modules/@arcgis/core/core/lang.js");
/* harmony import */ var _geometry_support_centroid_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../geometry/support/centroid.js */ "./node_modules/@arcgis/core/geometry/support/centroid.js");
/* harmony import */ var _geometry_support_extentUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../geometry/support/extentUtils.js */ "./node_modules/@arcgis/core/geometry/support/extentUtils.js");
/* harmony import */ var _geometry_support_quantizationUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../geometry/support/quantizationUtils.js */ "./node_modules/@arcgis/core/geometry/support/quantizationUtils.js");
/* harmony import */ var _geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../geometry/support/spatialReferenceUtils.js */ "./node_modules/@arcgis/core/geometry/support/spatialReferenceUtils.js");
/* harmony import */ var _AttributesBuilder_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./AttributesBuilder.js */ "./node_modules/@arcgis/core/layers/graphics/data/AttributesBuilder.js");
/* harmony import */ var _geometryUtils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./geometryUtils.js */ "./node_modules/@arcgis/core/layers/graphics/data/geometryUtils.js");
/* harmony import */ var _projectionSupport_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./projectionSupport.js */ "./node_modules/@arcgis/core/layers/graphics/data/projectionSupport.js");
/* harmony import */ var _queryUtils_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./queryUtils.js */ "./node_modules/@arcgis/core/layers/graphics/data/queryUtils.js");
/* harmony import */ var _SnappingCandidate_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./SnappingCandidate.js */ "./node_modules/@arcgis/core/layers/graphics/data/SnappingCandidate.js");
/* harmony import */ var _support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../support/fieldUtils.js */ "./node_modules/@arcgis/core/layers/support/fieldUtils.js");
/* harmony import */ var _rest_support_AutoIntervalBinParameters_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../rest/support/AutoIntervalBinParameters.js */ "./node_modules/@arcgis/core/rest/support/AutoIntervalBinParameters.js");
/* harmony import */ var _rest_support_DateBinParameters_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../rest/support/DateBinParameters.js */ "./node_modules/@arcgis/core/rest/support/DateBinParameters.js");
/* harmony import */ var _rest_support_DateBinUtils_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../rest/support/DateBinUtils.js */ "./node_modules/@arcgis/core/rest/support/DateBinUtils.js");
/* harmony import */ var _rest_support_FixedBoundariesBinParameters_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../rest/support/FixedBoundariesBinParameters.js */ "./node_modules/@arcgis/core/rest/support/FixedBoundariesBinParameters.js");
/* harmony import */ var _rest_support_FixedIntervalBinParameters_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../rest/support/FixedIntervalBinParameters.js */ "./node_modules/@arcgis/core/rest/support/FixedIntervalBinParameters.js");
/* harmony import */ var _statistics_utils_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../../statistics/utils.js */ "./node_modules/@arcgis/core/statistics/utils.js");
/* harmony import */ var _time_constants_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../../time/constants.js */ "./node_modules/@arcgis/core/time/constants.js");
/* harmony import */ var luxon__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! luxon */ "./node_modules/luxon/src/luxon.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
const E="bin";class O{constructor(e,t,i){this.items=e,this.query=t,this.geometryType=i.geometryType,this.hasM=i.hasM,this.hasZ=i.hasZ,this.fieldsIndex=i.fieldsIndex,this.objectIdField=i.objectIdField,this.spatialReference=i.spatialReference,this.featureAdapter=i.featureAdapter}get size(){return this.items.length}createQueryResponseForCount(){const e=new _AttributesBuilder_js__WEBPACK_IMPORTED_MODULE_5__["default"](this.query,this.featureAdapter,this.fieldsIndex);if(!this.query.outStatistics)return e.countDistinctValues(this.items);const{groupByFieldsForStatistics:t,having:i,outStatistics:s}=this.query,a=t?.length;if(!!!a)return 1;const r=new Map,n=new Map,o=new Set;for(const l of s){const{statisticType:s}=l,a="exceedslimit"!==s?l.onStatisticField:void 0;if(!n.has(a)){const i=[];for(const s of t){const t=this._getAttributeValues(e,s,this.items,r);i.push(t)}n.set(a,this._calculateUniqueValues(i,this.items,e.returnDistinctValues))}const u=n.get(a);for(const t in u){const{data:s,items:a}=u[t],r=s.join(",");i&&!e.validateItems(a,i)||o.add(r)}}return o.size}async createQueryResponse(){let e;if(this.query.outStatistics){e=this.query.outStatistics.some((e=>"exceedslimit"===e.statisticType))?this._createExceedsLimitQueryResponse():await this._createStatisticsQueryResponse(this.query,this.items)}else e=this._createFeatureQueryResponse(this.query);if(this.query.returnQueryGeometry){const t=this.query.geometry;(0,_geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_4__.isValid)(this.query.outSR)&&!(0,_geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_4__.equals)(t.spatialReference,this.query.outSR)?e.queryGeometry=(0,_geometryUtils_js__WEBPACK_IMPORTED_MODULE_6__.cleanFromGeometryEngine)({spatialReference:this.query.outSR,...(0,_projectionSupport_js__WEBPACK_IMPORTED_MODULE_7__.project)(t,t.spatialReference,this.query.outSR)}):e.queryGeometry=(0,_geometryUtils_js__WEBPACK_IMPORTED_MODULE_6__.cleanFromGeometryEngine)({spatialReference:this.query.outSR,...t})}return e}createSnappingResponse(e,t,i){const s=this.featureAdapter,a=Q(this.hasZ,this.hasM),{point:r,mode:n}=e,o="number"==typeof e.distance?e.distance:e.distance.x,l="number"==typeof e.distance?e.distance:e.distance.y,u={candidates:[]},c="esriGeometryPolygon"===this.geometryType,m="esriGeometryPolyline"===this.geometryType||"esriGeometryPoint"===this.geometryType,d=this._getPointCreator(n,t,this.spatialReference,i),f=new U(null,0),y=new U(null,0),g={x:0,y:0,z:0};for(const x of this.items){const t=s.getGeometry(x);if(null==t)continue;const{coords:i}=t,n=t.isPoint?k:t.lengths;if(f.coords=i,y.coords=i,e.returnEdge){let e=0;for(let t=0;t<n.length;t++){const i=n[t],m=e;for(let t=0;t<i;t++,e+=a){if(!c&&t===i-1)continue;const n=f;n.coordsIndex=e;const p=y;p.coordsIndex=t===i-1?m:e+a;const T=g;if(!H(g,r,n,p))continue;const I=(r.x-T.x)/o,F=(r.y-T.y)/l,_=I*I+F*F;_<=1&&u.candidates.push((0,_SnappingCandidate_js__WEBPACK_IMPORTED_MODULE_9__.makeEdgeCandidate)(s.getObjectId(x),d(T),Math.sqrt(_),d(n),d(p)))}}}if("all"===e.vertexMode){let e=0;for(let t=0;t<n.length;t++){const i=n[t],m=e,h=y;h.coordsIndex=m;for(let t=0;t<i;t++,e+=a){const a=f;if(a.coordsIndex=e,c&&t===i-1&&a.x===h.x&&a.y===h.y)continue;const n=(r.x-a.x)/o,m=(r.y-a.y)/l,y=n*n+m*m;y<=1&&u.candidates.push((0,_SnappingCandidate_js__WEBPACK_IMPORTED_MODULE_9__.makeVertexCandidate)(s.getObjectId(x),d(a),Math.sqrt(y)))}}}else if(m&&"ends"===e.vertexMode){let e=0;const t=[];for(let i=0;i<n.length;i++){t.push(e);const s=n[i];e+=s*a,!c&&s>1&&t.push(e-a)}for(const i of t){const e=f;e.coordsIndex=i;const t=(r.x-e.x)/o,a=(r.y-e.y)/l,n=t*t+a*a;n<=1&&u.candidates.push((0,_SnappingCandidate_js__WEBPACK_IMPORTED_MODULE_9__.makeVertexCandidate)(s.getObjectId(x),d(e),Math.sqrt(n)))}}}return u.candidates.sort(((e,t)=>e.distance-t.distance)),u}_getPointCreator(e,t,i,s){const a=null==s||(0,_geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_4__.equals)(i,s)?e=>e:e=>(0,_projectionSupport_js__WEBPACK_IMPORTED_MODULE_7__.project)(e,i,s),{hasZ:r}=this,n=0;return"3d"===e?r&&t?({x:e,y:t,z:i})=>a({x:e,y:t,z:i}):({x:e,y:t})=>a({x:e,y:t,z:n}):({x:e,y:t})=>a({x:e,y:t})}async createSummaryStatisticsResponse(e){const{field:t,valueExpression:i,normalizationField:s,normalizationType:a,normalizationTotal:r,minValue:n,maxValue:o,scale:l,timeZone:u,outStatisticTypes:c}=e,m=this.fieldsIndex.get(t),d=(0,_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_10__.isDateField)(m)||(0,_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_10__.isDateOnlyField)(m)||(0,_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_10__.isTimestampOffsetField)(m),f=await this._getDataValues({field:t,valueExpression:i,normalizationField:s,normalizationType:a,normalizationTotal:r,scale:l,timeZone:u},this.items),h=(0,_statistics_utils_js__WEBPACK_IMPORTED_MODULE_16__.isNullCountSupported)({normalizationType:a,normalizationField:s,minValue:n,maxValue:o}),p={value:.5,fieldType:m?.type},I=(0,_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_10__.isStringField)(m)?(0,_statistics_utils_js__WEBPACK_IMPORTED_MODULE_16__.calculateStringStatistics)({values:f,supportsNullCount:h,percentileParams:p,outStatisticTypes:c}):(0,_statistics_utils_js__WEBPACK_IMPORTED_MODULE_16__.calculateStatistics)({values:f,minValue:n,maxValue:o,useSampleStdDev:!a,supportsNullCount:h,percentileParams:p,outStatisticTypes:c});return (0,_statistics_utils_js__WEBPACK_IMPORTED_MODULE_16__.processSummaryStatisticsResult)(I,c,d)}async createUniqueValuesResponse(e){const{field:t,valueExpression:i,domains:s,returnAllCodedValues:a,scale:r,timeZone:n}=e,o=await this._getDataValues({field:t,field2:e.field2,field3:e.field3,fieldDelimiter:e.fieldDelimiter,valueExpression:i,scale:r,timeZone:n},this.items,!1),l=(0,_statistics_utils_js__WEBPACK_IMPORTED_MODULE_16__.calculateUniqueValuesCount)(o);return (0,_statistics_utils_js__WEBPACK_IMPORTED_MODULE_16__.createUVResult)(l,s,a,e.fieldDelimiter)}async createClassBreaksResponse(e){const{field:t,valueExpression:i,normalizationField:s,normalizationType:a,normalizationTotal:r,classificationMethod:n,standardDeviationInterval:o,minValue:l,maxValue:u,numClasses:c,scale:m,timeZone:d}=e,f=await this._getDataValues({field:t,valueExpression:i,normalizationField:s,normalizationType:a,normalizationTotal:r,scale:m,timeZone:d},this.items),h=(0,_statistics_utils_js__WEBPACK_IMPORTED_MODULE_16__.calculateClassBreaks)(f,{field:t,normalizationField:s,normalizationType:a,normalizationTotal:r,classificationMethod:n,standardDeviationInterval:o,minValue:l,maxValue:u,numClasses:c});return (0,_statistics_utils_js__WEBPACK_IMPORTED_MODULE_16__.resolveCBResult)(h,n)}async createHistogramResponse(e){const{field:t,valueExpression:i,normalizationField:s,normalizationType:a,normalizationTotal:r,classificationMethod:n,standardDeviationInterval:o,minValue:l,maxValue:u,numBins:c,scale:m,timeZone:d}=e,f=await this._getDataValues({field:t,valueExpression:i,normalizationField:s,normalizationType:a,normalizationTotal:r,scale:m,timeZone:d},this.items);return (0,_statistics_utils_js__WEBPACK_IMPORTED_MODULE_16__.calculateHistogram)(f,{field:t,normalizationField:s,normalizationType:a,normalizationTotal:r,classificationMethod:n,standardDeviationInterval:o,minValue:l,maxValue:u,numBins:c})}_sortFeatures(e,t,i){if(e.length>1&&t?.length)for(const s of t.slice().reverse()){const t=s.split(" "),a=t[0],r=this.fieldsIndex.get(a),n=!!t[1]&&"desc"===t[1].toLowerCase(),o=(0,_statistics_utils_js__WEBPACK_IMPORTED_MODULE_16__.getAttributeComparator)(r?.type,n);e.sort(((e,t)=>{const s=i(e,a,r),n=i(t,a,r);return o(s,n)}))}}_createFeatureQueryResponse(e){const{items:t,geometryType:i,hasM:s,hasZ:a,objectIdField:n,spatialReference:o}=this,{outFields:l,outSR:c,quantizationParameters:m,resultRecordCount:d,resultOffset:f,returnZ:h,returnM:p}=e,y=null!=d&&t.length>(f||0)+d,g=l&&(l.includes("*")?[...this.fieldsIndex.fields]:l.map((e=>this.fieldsIndex.get(e))));return{exceededTransferLimit:y,features:this._createFeatures(e,t),fields:g,geometryType:i,hasM:s&&p,hasZ:a&&h,objectIdFieldName:n,spatialReference:(0,_geometryUtils_js__WEBPACK_IMPORTED_MODULE_6__.cleanFromGeometryEngine)(c||o),transform:m&&(0,_geometry_support_quantizationUtils_js__WEBPACK_IMPORTED_MODULE_3__.toQuantizationTransform)(m)||null}}_createFeatures(e,t){const i=new _AttributesBuilder_js__WEBPACK_IMPORTED_MODULE_5__["default"](e,this.featureAdapter,this.fieldsIndex),{hasM:s,hasZ:a}=this,{orderByFields:n,quantizationParameters:o,returnGeometry:u,returnCentroid:d,maxAllowableOffset:f,resultOffset:h,resultRecordCount:p,returnZ:y=!1,returnM:g=!1}=e,x=a&&y,T=s&&g;let I=[],F=0;const _=[...t];if(this._sortFeatures(_,n,((e,t,s)=>i.getFieldValue(e,t,s))),this.geometryType&&(u||d)){const e=(0,_geometry_support_quantizationUtils_js__WEBPACK_IMPORTED_MODULE_3__.toQuantizationTransform)(o)??void 0,t="esriGeometryPolygon"===this.geometryType||"esriGeometryPolyline"===this.geometryType;if(u&&!d)for(const s of _){const a=this.featureAdapter.getGeometry(s),r={attributes:i.getAttributes(s),geometry:(0,_geometryUtils_js__WEBPACK_IMPORTED_MODULE_6__.getGeometry)(this.geometryType,this.hasZ,this.hasM,a,f,e,x,T),metadata:this.featureAdapter.getMetadata?.(s)};t&&a&&!r.geometry&&(r.centroid=(0,_geometryUtils_js__WEBPACK_IMPORTED_MODULE_6__.transformCentroid)(this,this.featureAdapter.getCentroid(s,this),e)),I[F++]=r}else if(!u&&d)for(const s of _)I[F++]={attributes:i.getAttributes(s),centroid:(0,_geometryUtils_js__WEBPACK_IMPORTED_MODULE_6__.transformCentroid)(this,this.featureAdapter.getCentroid(s,this),e)};else for(const s of _)I[F++]={attributes:i.getAttributes(s),centroid:(0,_geometryUtils_js__WEBPACK_IMPORTED_MODULE_6__.transformCentroid)(this,this.featureAdapter.getCentroid(s,this),e),geometry:(0,_geometryUtils_js__WEBPACK_IMPORTED_MODULE_6__.getGeometry)(this.geometryType,this.hasZ,this.hasM,this.featureAdapter.getGeometry(s),f,e,x,T),metadata:this.featureAdapter.getMetadata?.(s)}}else for(const r of _){const e=i.getAttributes(r);e&&(I[F++]={attributes:e})}const V=h||0;if(null!=p){const e=V+p;I=I.slice(V,Math.min(I.length,e))}return I}_createExceedsLimitQueryResponse(){let e=!1,t=Number.POSITIVE_INFINITY,i=Number.POSITIVE_INFINITY,s=Number.POSITIVE_INFINITY;for(const a of this.query.outStatistics??[])if("exceedslimit"===a.statisticType){t=null!=a.maxPointCount?a.maxPointCount:Number.POSITIVE_INFINITY,i=null!=a.maxRecordCount?a.maxRecordCount:Number.POSITIVE_INFINITY,s=null!=a.maxVertexCount?a.maxVertexCount:Number.POSITIVE_INFINITY;break}if("esriGeometryPoint"===this.geometryType)e=this.items.length>t;else if(this.items.length>i)e=!0;else{const t=Q(this.hasZ,this.hasM),i=this.featureAdapter;e=this.items.reduce(((e,t)=>{const s=i.getGeometry(t);return e+(null!=s&&s.coords.length||0)}),0)/t>s}return{fields:[{name:"exceedslimit",type:"esriFieldTypeInteger",alias:"exceedslimit",sqlType:"sqlTypeInteger",domain:null,defaultValue:null}],features:[{attributes:{exceedslimit:Number(e)}}]}}async _createStatisticsQueryResponse(e,t,i={attributes:{}}){const s=[],a=new Map,r=new Map,n=new Map,o=new Map,u=new _AttributesBuilder_js__WEBPACK_IMPORTED_MODULE_5__["default"](e,this.featureAdapter,this.fieldsIndex),c=e.outStatistics,{groupByFieldsForStatistics:m,having:d,orderByFields:f,resultRecordCount:h}=e,p=m?.length,y=!!p,g=y?m[0]:null,x=y&&!this.fieldsIndex.get(g);for(const l of c??[]){const{outStatisticFieldName:e,statisticType:c}=l,f=l,h="exceedslimit"!==c?l.onStatisticField:void 0,I="percentile_disc"===c||"percentile_cont"===c,F="EnvelopeAggregate"===c||"CentroidAggregate"===c||"ConvexHullAggregate"===c,_=y&&1===p&&(h===g||x)&&"count"===c;if(y){if(!n.has(h)){const e=[];for(const i of m){const s=this._getAttributeValues(u,i,t,a);e.push(s)}n.set(h,this._calculateUniqueValues(e,t,!F&&u.returnDistinctValues))}const i=n.get(h);if(!i)continue;const s=Object.keys(i);for(const r of s){const{count:s,data:n,items:l,itemPositions:c}=i[r],p=n.join(",");if(!d||u.validateItems(l,d)){const i=o.get(p)||{attributes:{}};if(F){i.aggregateGeometries||(i.aggregateGeometries={});const{aggregateGeometries:e,outStatisticFieldName:t}=await this._getAggregateGeometry(f,l);i.aggregateGeometries[t]=e}else{let r=null;if(_)r=s;else{const e=this._getAttributeValues(u,h,t,a),i=c.map((t=>e[t]));r=I&&"statisticParameters"in f?this._getPercentileValue(f,i):this._getStatisticValue(f,i,null,u.returnDistinctValues)}i.attributes[e]=r}let r=0;m.forEach(((e,t)=>i.attributes[this.fieldsIndex.get(e)?e:"EXPR_"+ ++r]=n[t])),o.set(p,i)}}}else if(F){i.aggregateGeometries||(i.aggregateGeometries={});const{aggregateGeometries:e,outStatisticFieldName:s}=await this._getAggregateGeometry(f,t);i.aggregateGeometries[s]=e}else{const s=this._getAttributeValues(u,h,t,a);i.attributes[e]=I&&"statisticParameters"in f?this._getPercentileValue(f,s):this._getStatisticValue(f,s,r,u.returnDistinctValues)}const V="min"!==c&&"max"!==c||!(0,_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_10__.isStringField)(this.fieldsIndex.get(h))&&!this._isAnyDateField(h)?null:this.fieldsIndex.get(h)?.type;s.push({name:e,alias:e,type:V||"esriFieldTypeDouble"})}const I=y?Array.from(o.values()):[i];return this._sortFeatures(I,f,((e,t)=>e.attributes[t])),h&&(I.length=Math.min(h,I.length)),{fields:s,features:I}}_isAnyDateField(e){const t=this.fieldsIndex.get(e);return (0,_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_10__.isDateField)(t)||(0,_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_10__.isDateOnlyField)(t)||(0,_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_10__.isTimestampOffsetField)(t)||(0,_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_10__.isTimeOnlyField)(t)}async _getAggregateGeometry(e,r){const{convexHull:n,union:o}=await Promise.all(/*! import() */[__webpack_require__.e("vendors-node_modules_arcgis_core_chunks_geometryEngineBase_js"), __webpack_require__.e("node_modules_arcgis_core_geometry_geometryEngineJSON_js-_997e1")]).then(__webpack_require__.bind(__webpack_require__, /*! ../../../geometry/geometryEngineJSON.js */ "./node_modules/@arcgis/core/geometry/geometryEngineJSON.js")),{statisticType:l,outStatisticFieldName:u}=e,{featureAdapter:m,spatialReference:d,geometryType:f,hasZ:h,hasM:p}=this,y=r.map((e=>(0,_geometryUtils_js__WEBPACK_IMPORTED_MODULE_6__.getGeometry)(f,h,p,m.getGeometry(e)))),g=n(d,y,!0)[0],x={aggregateGeometries:null,outStatisticFieldName:null};if("EnvelopeAggregate"===l){const e=g?(0,_geometry_support_extentUtils_js__WEBPACK_IMPORTED_MODULE_2__.getPolygonExtent)(g):(0,_geometry_support_extentUtils_js__WEBPACK_IMPORTED_MODULE_2__.getGeometryExtent)(o(d,y));x.aggregateGeometries={...e,spatialReference:d},x.outStatisticFieldName=u||"extent"}else if("CentroidAggregate"===l){const e=g?(0,_geometry_support_centroid_js__WEBPACK_IMPORTED_MODULE_1__.polygonCentroid)(g):(0,_geometry_support_centroid_js__WEBPACK_IMPORTED_MODULE_1__.extentCentroid)((0,_geometry_support_extentUtils_js__WEBPACK_IMPORTED_MODULE_2__.getGeometryExtent)(o(d,y)));x.aggregateGeometries={x:e[0],y:e[1],spatialReference:d},x.outStatisticFieldName=u||"centroid"}else"ConvexHullAggregate"===l&&(x.aggregateGeometries=g,x.outStatisticFieldName=u||"convexHull");return x}_getStatisticValue(e,t,i,s){const{onStatisticField:a,statisticType:r}=e;let n=null;n=i?.has(a)?i.get(a):(0,_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_10__.isStringField)(this.fieldsIndex.get(a))||this._isAnyDateField(a)?(0,_statistics_utils_js__WEBPACK_IMPORTED_MODULE_16__.calculateStringStatistics)({values:t,returnDistinct:s}):(0,_statistics_utils_js__WEBPACK_IMPORTED_MODULE_16__.calculateStatistics)({values:s?[...new Set(t)]:t,minValue:null,maxValue:null,useSampleStdDev:!0}),i&&i.set(a,n);return n["var"===r?"variance":r]}_getPercentileValue(e,t){const{onStatisticField:i,statisticParameters:s,statisticType:a}=e,{value:r,orderBy:n}=s,o=this.fieldsIndex.get(i);return (0,_statistics_utils_js__WEBPACK_IMPORTED_MODULE_16__.calculatePercentile)(t,{value:r,orderBy:n,fieldType:o?.type,isDiscrete:"percentile_disc"===a})}_getAttributeValues(e,t,i,s){if(s.has(t))return s.get(t);const a=this.fieldsIndex.get(t),r=i.map((i=>e.getFieldValue(i,t,a)));return s.set(t,r),r}_calculateUniqueValues(e,t,i){const s={},a=t.length;for(let r=0;r<a;r++){const a=t[r],n=[];for(const t of e)n.push(t[r]);const o=n.join(",");null==s[o]?s[o]={count:1,data:n,items:[a],itemPositions:[r]}:(i||s[o].count++,s[o].items.push(a),s[o].itemPositions.push(r))}return s}async _getDataValues(t,i,s=!0){const a=new _AttributesBuilder_js__WEBPACK_IMPORTED_MODULE_5__["default"](this.query,this.featureAdapter,this.fieldsIndex),{valueExpression:r,scale:n,timeZone:o}=t;return r?a.getExpressionValues(i,r,{viewingMode:"map",scale:n,spatialReference:this.query.outSR||this.spatialReference},{geometryType:this.geometryType,hasZ:this.hasZ,hasM:this.hasM},o):a.getDataValues(i,(0,_core_lang_js__WEBPACK_IMPORTED_MODULE_0__.clone)(t),s)}async _calculateHistogramBins(e,t,i){if(null==t.min&&null==t.max)return[];const s=t.intervals,a=t.min??0,r=t.max??0,n=s.map((([e,t])=>({minValue:e,maxValue:t,count:0,items:[]})));for(let o=0;o<e.length;o++){const t=e[o],l=i[o];if(null!=t&&t>=a&&t<=r){const e=(0,_statistics_utils_js__WEBPACK_IMPORTED_MODULE_16__.binIndex)(s,t);e>-1&&(n[e].count++,n[e].items.push(l))}}return n}async createQueryBinsResponse(e){const t=e.bin?.splitBy;if(!t)return this._createBinsResponse(e);const{value:i,outAlias:s,valueType:a}=t,r=[],n=[{name:s??i,alias:s??i,type:a??"esriFieldTypeString"},{name:E,alias:E,type:"esriFieldTypeInteger"}],o=new _AttributesBuilder_js__WEBPACK_IMPORTED_MODULE_5__["default"](e,this.featureAdapter,this.fieldsIndex),u=new Map,c=[...this.items];this._sortFeatures(c,[i],((e,t,i)=>o.getFieldValue(e,t,i)));const m=this._getAttributeValues(o,i,c,u),d=this._calculateUniqueValues([m],c,o.returnDistinctValues);for(const l in d){const{items:t}=d[l],a=await this._createBinsResponse(e,t);if(r.push(...a.features.map((e=>({...e,attributes:{...e.attributes,[s??i]:l}})))),a.fields)for(const e of a.fields)n.some((t=>t.name===e.name))||n.push(e)}return{fields:n,features:r}}async _createBinsResponse(e,t){const i=e.bin;switch(t=t??this.items,i.type){case"autoIntervalBin":return this._createAutoIntervalBinsResponse(_rest_support_AutoIntervalBinParameters_js__WEBPACK_IMPORTED_MODULE_11__["default"].fromJSON(i),e,t);case"dateBin":return this._createDateBinsResponse(_rest_support_DateBinParameters_js__WEBPACK_IMPORTED_MODULE_12__["default"].fromJSON(i),e,t);case"fixedBoundariesBin":return this._createFixedBoundariesBinsResponse(_rest_support_FixedBoundariesBinParameters_js__WEBPACK_IMPORTED_MODULE_14__["default"].fromJSON(i),e,t);case"fixedIntervalBin":return this._createFixedIntervalBinsResponse(_rest_support_FixedIntervalBinParameters_js__WEBPACK_IMPORTED_MODULE_15__["default"].fromJSON(i),e,t)}}async _createAutoIntervalBinsResponse(e,t,i){const{field:s,normalizationField:a,numBins:r,normalizationType:n,normalizationTotal:o,start:l,end:u}=e,c=await this._getDataValues({field:e.field,normalizationField:e.normalizationField,normalizationType:e.normalizationType,normalizationTotal:e.normalizationTotal,timeZone:t.outTimeReference?.ianaTimeZone},i),m=(0,_statistics_utils_js__WEBPACK_IMPORTED_MODULE_16__.getBinParams)(c,{field:s,normalizationField:a,normalizationType:n,normalizationTotal:o,numBins:r,minValue:(0,_queryUtils_js__WEBPACK_IMPORTED_MODULE_8__.getDateInNumber)(l,!1),maxValue:(0,_queryUtils_js__WEBPACK_IMPORTED_MODULE_8__.getDateInNumber)(u,!1)}),d=await this._calculateHistogramBins(c,m,i);return this._createFeaturesFromHistogramBins(d,t)}async _createDateBinsResponse(e,t,i){const{field:s,interval:a,start:r,end:n,snapToData:o,returnFullIntervalBin:l}=e,u=a.unit,c=await this._getDataValues({field:e.field,timeZone:t.outTimeReference?.ianaTimeZone},i),m=(0,_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_10__.isTimeOnlyField)(this.fieldsIndex.get(s)),d=_rest_support_DateBinUtils_js__WEBPACK_IMPORTED_MODULE_13__.unitsDict.toJSON(u),h=c.filter(Boolean).sort(((e,t)=>e-t)),p=null!=r?(0,_queryUtils_js__WEBPACK_IMPORTED_MODULE_8__.getDateInNumber)(r,m):h[0],y=null!=n?(0,_queryUtils_js__WEBPACK_IMPORTED_MODULE_8__.getDateInNumber)(n,m):h[h.length-1],g={zone:t.outTimeReference?.ianaTimeZone??_time_constants_js__WEBPACK_IMPORTED_MODULE_17__.utc},x=luxon__WEBPACK_IMPORTED_MODULE_18__.DateTime.fromMillis(p,g),T=luxon__WEBPACK_IMPORTED_MODULE_18__.DateTime.fromMillis(y,g),F=[];if("last"===o){let e=T;for(;e>x;){const t=e.minus({[d]:a.value});if(t<x){F.unshift([l?t.toMillis():x.toMillis(),e.toMillis()]);break}F.unshift([t.toMillis(),e.toMillis()]),e=t}}else{let e="first"===o?x:x.startOf(d);for(;e<=T;){const t=e.plus({[d]:a.value});if(t>T){F.push([e.toMillis(),l?t.toMillis():T.toMillis()]);break}F.push([e.toMillis(),t.toMillis()]),e=t}}const _=await this._calculateHistogramBins(c,{intervals:F,min:p,max:y},i);return this._createFeaturesFromHistogramBins(_,t)}async _createFixedBoundariesBinsResponse(e,t,i){const{field:s}=e,a=await this._getDataValues({field:s,timeZone:t.outTimeReference?.ianaTimeZone},i),r=(0,_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_10__.isTimeOnlyField)(this.fieldsIndex.get(s)),n=e.boundaries.map((e=>(0,_queryUtils_js__WEBPACK_IMPORTED_MODULE_8__.getDateInNumber)(e,r))).sort(((e,t)=>e-t)),o=[];for(let c=0;c<n.length-1;c++)o.push([n[c],n[c+1]]);const l={intervals:o,min:n.at(0),max:n.at(-1)},u=await this._calculateHistogramBins(a,l,i);return this._createFeaturesFromHistogramBins(u,t)}async _createFixedIntervalBinsResponse(e,t,i){const{field:s,interval:a,start:r,end:n}=e,o=await this._getDataValues({field:e.field,normalizationField:e.normalizationField,normalizationType:e.normalizationType,normalizationTotal:e.normalizationTotal,timeZone:t.outTimeReference?.ianaTimeZone},i),l=(0,_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_10__.isTimeOnlyField)(this.fieldsIndex.get(s)),u=(0,_statistics_utils_js__WEBPACK_IMPORTED_MODULE_16__.getBinParams)(o,{field:s,classificationMethod:"defined-interval",definedInterval:a,minValue:(0,_queryUtils_js__WEBPACK_IMPORTED_MODULE_8__.getDateInNumber)(r,l),maxValue:(0,_queryUtils_js__WEBPACK_IMPORTED_MODULE_8__.getDateInNumber)(n,l)},!0),c=await this._calculateHistogramBins(o,u,i);return this._createFeaturesFromHistogramBins(c,t)}async _createFeaturesFromHistogramBins(e,t){const{upperBoundaryAlias:i,lowerBoundaryAlias:s}=t,a=s||"lowerBoundary",r=i||"upperBoundary",n=[],o=[{name:a,alias:a,type:"esriFieldTypeDouble"},{name:r,alias:r,type:"esriFieldTypeDouble"}],l=t.bin?.stackBy?.value,u=t.bin?.stackBy?.outAlias;l&&o.push({name:E,alias:E,type:"esriFieldTypeInteger"},{name:u??l,alias:u??l,type:"esriFieldTypeString"});let c=0;const m="dateBin"===t.bin.type,d=t.outTimeReference?.ianaTimeZone;for(const f of e){const{minValue:e,maxValue:i,items:s}=f,h={attributes:{}};let p;if(h.attributes[a]=m&&d&&null!=e?luxon__WEBPACK_IMPORTED_MODULE_18__.DateTime.fromMillis(e,{zone:d}).toISO():e,h.attributes[r]=m&&d&&null!=i?luxon__WEBPACK_IMPORTED_MODULE_18__.DateTime.fromMillis(i,{zone:d}).toISO():i,l?(p=await this._createStatisticsQueryResponse({...t,groupByFieldsForStatistics:[l],orderByFields:[l]},s),h.attributes[E]=++c,"flat"===t.bin.jsonStyle?n.push(...p.features.map((({attributes:{EXPR_1:e,...t},...i})=>({...i,attributes:u??e?{...t,[u??e]:e,...h.attributes}:{...t,...h.attributes}})))):(h.stackedAttributes=p.features.map((({attributes:{EXPR_1:e,...t}})=>u??e?{...t,[u??e]:e}:t)),n.push(h))):(t.bin?.splitBy&&(h.attributes[E]=++c),p=await this._createStatisticsQueryResponse(t,s,h),n.push(h)),p.fields)for(const t of p.fields)o.some((e=>e.name===t.name))||o.push(t)}return"desc"===t.binOrder&&n.reverse(),{fields:o,features:n}}}function H(e,t,i,s){const a=s.x-i.x,r=s.y-i.y,n=t.x-i.x,o=t.y-i.y,l=a*a+r*r;if(0===l)return!1;const u=n*a+o*r,c=Math.min(1,Math.max(0,u/l));return e.x=i.x+a*c,e.y=i.y+r*c,!0}function Q(e,t){return e?t?4:3:t?3:2}class U{constructor(e,t){this.coords=e,this.coordsIndex=t}get x(){return this.coords[this.coordsIndex]}get y(){return this.coords[this.coordsIndex+1]}get z(){return this.coords[this.coordsIndex+2]}}const k=[1];


/***/ }),

/***/ "./node_modules/@arcgis/core/layers/graphics/data/SnappingCandidate.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/graphics/data/SnappingCandidate.js ***!
  \*****************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   makeEdgeCandidate: () => (/* binding */ e),
/* harmony export */   makeVertexCandidate: () => (/* binding */ t)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
function t(t,e,r){return{objectId:t,target:e,distance:r,type:"vertex"}}function e(t,e,r,n,d,a=!1){return{objectId:t,target:e,distance:r,type:"edge",start:n,end:d,draped:a}}


/***/ }),

/***/ "./node_modules/@arcgis/core/layers/graphics/data/attributeSupport.js":
/*!****************************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/graphics/data/attributeSupport.js ***!
  \****************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   allDateAndTimeFieldTypes: () => (/* binding */ a),
/* harmony export */   getAliasFromFieldName: () => (/* binding */ y),
/* harmony export */   getExpressionFromFieldName: () => (/* binding */ u),
/* harmony export */   getWhereClause: () => (/* binding */ c),
/* harmony export */   numericFieldTypes: () => (/* binding */ o),
/* harmony export */   validateFields: () => (/* binding */ g),
/* harmony export */   validateHaving: () => (/* binding */ f),
/* harmony export */   validateWhere: () => (/* binding */ p)
/* harmony export */ });
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_sql_WhereClauseCache_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/sql/WhereClauseCache.js */ "./node_modules/@arcgis/core/core/sql/WhereClauseCache.js");
/* harmony import */ var _support_fieldType_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../support/fieldType.js */ "./node_modules/@arcgis/core/layers/support/fieldType.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
const s=new _core_sql_WhereClauseCache_js__WEBPACK_IMPORTED_MODULE_1__.WhereClauseCache(50,500),t="unsupported-query",n=" as ",o=new Set(["esriFieldTypeOID","esriFieldTypeSmallInteger","esriFieldTypeBigInteger","esriFieldTypeInteger","esriFieldTypeSingle","esriFieldTypeDouble","esriFieldTypeLong"]),a=new Set(["esriFieldTypeDate","esriFieldTypeDateOnly","esriFieldTypeTimeOnly","esriFieldTypeTimestampOffset"]),l=new Set(["esriFieldTypeString","esriFieldTypeGUID","esriFieldTypeGlobalID",...o,...a]);function d(i,r,n={}){const o=c(r,i);if(!o){const n=s.getError(r,i);throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"](t,"invalid SQL expression",{expression:r,error:n})}const a=n.expressionName||"expression";if(n.validateStandardized&&!o.isStandardized)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"](t,`${a} is not standard`,{expression:r});if(n.validateAggregate&&!o.isAggregate)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"](t,`${a} does not contain a valid aggregate function`,{expression:r});return o.fieldNames}function p(e,i,r,s){if(!r)return!0;const t="where clause";return g(e,i,d(e,r,{validateStandardized:!0,expressionName:t}),{expressionName:t,query:s}),!0}function f(i,r,s,n,o){if(!s)return!0;const a="having clause",l=d(i,s,{validateAggregate:!0,expressionName:a});g(i,r,l,{expressionName:a,query:o});const p=c(s,i),f=p?.getExpressions().every((e=>{const{aggregateType:r,field:s}=e,t=i.get(s)?.name;return n.some((e=>{const{onStatisticField:s,statisticType:n}=e,o=i.get(s)?.name;return o===t&&n.toLowerCase().trim()===r}))}));if(!f)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"](t,"expressions in having clause should also exist in outStatistics",{having:s});return!0}function c(e,i){return e?s.get(e,i):null}function u(e){return/\((.*?)\)/.test(e)?e:e.split(n)[0]}function y(e){return e.split(n)[1]}function g(i,r,s,n={}){const o=new Map;if(m(o,i,r,n.allowedFieldTypes??l,s),o.size){const i=n.expressionName??"expression";throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"](t,`${i} contains invalid or missing fields`,{errors:Array.from(o.values()),query:n.query})}}function m(e,i,r,s,t){const n=t.includes("*")?[...r,...t.filter((e=>"*"!==e))]:t;for(const a of n){if(i.get(a))T(e,i,r,s,a);else try{const t=d(i,u(a),{validateStandardized:!0});for(const n of t)T(e,i,r,s,n)}catch(o){e.set(a,{type:"expression-error",expression:a,error:o})}}}function T(e,i,s,t,n){const o=i.get(n);o?s.has(o.name)?"all"!==t&&!1===t?.has(o.type)&&e.set(n,{type:"invalid-type",fieldName:o.name,fieldType:_support_fieldType_js__WEBPACK_IMPORTED_MODULE_2__.kebabDict.fromJSON(o.type),allowedFieldTypes:Array.from(t,(e=>_support_fieldType_js__WEBPACK_IMPORTED_MODULE_2__.kebabDict.fromJSON(e)))}):e.set(n,{type:"missing-field",fieldName:o.name}):e.set(n,{type:"invalid-field",fieldName:n})}


/***/ }),

/***/ "./node_modules/@arcgis/core/layers/graphics/data/geometryUtils.js":
/*!*************************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/graphics/data/geometryUtils.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   cleanFromGeometryEngine: () => (/* binding */ h),
/* harmony export */   getGeometry: () => (/* binding */ a),
/* harmony export */   transformCentroid: () => (/* binding */ y)
/* harmony export */ });
/* harmony import */ var _featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../featureConversionUtils.js */ "./node_modules/@arcgis/core/layers/graphics/featureConversionUtils.js");
/* harmony import */ var _OptimizedGeometry_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../OptimizedGeometry.js */ "./node_modules/@arcgis/core/layers/graphics/OptimizedGeometry.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
const u=new _OptimizedGeometry_js__WEBPACK_IMPORTED_MODULE_1__["default"],f=new _OptimizedGeometry_js__WEBPACK_IMPORTED_MODULE_1__["default"],m=new _OptimizedGeometry_js__WEBPACK_IMPORTED_MODULE_1__["default"],c={esriGeometryPoint:_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_0__.convertToPoint,esriGeometryPolyline:_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_0__.convertToPolyline,esriGeometryPolygon:_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_0__.convertToPolygon,esriGeometryMultipoint:_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_0__.convertToMultipoint};function y(n,r,t,o=n.hasZ,s=n.hasM){if(null==r)return null;const l=n.hasZ&&o,u=n.hasM&&s;if(t){const f=(0,_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_0__.quantizeOptimizedGeometry)(m,r,n.hasZ,n.hasM,"esriGeometryPoint",t,o,s);return (0,_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_0__.convertToPoint)(f,l,u)}return (0,_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_0__.convertToPoint)(r,l,u)}function a(r,t,o,i,l,y,a=t,h=o){const p=t&&a,G=o&&h,g=null!=i?"coords"in i?i:i.geometry:null;if(null==g)return null;if(l){let i=(0,_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_0__.generalizeOptimizedGeometry)(f,g,t,o,r,l,a,h);return y&&(i=(0,_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_0__.quantizeOptimizedGeometry)(m,i,p,G,r,y)),c[r]?.(i,p,G)??null}if(y){const n=(0,_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_0__.quantizeOptimizedGeometry)(m,g,t,o,r,y,a,h);return c[r]?.(n,p,G)??null}return (0,_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_0__.removeZMValues)(u,g,t,o,a,h),c[r]?.(u,p,G)??null}function h(n){return n&&p in n?JSON.parse(JSON.stringify(n,G)):n}const p="_geVersion",G=(n,e)=>n===p?void 0:e;


/***/ }),

/***/ "./node_modules/@arcgis/core/layers/graphics/data/queryValidationUtils.js":
/*!********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/graphics/data/queryValidationUtils.js ***!
  \********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   validateAttributeBinsQuery: () => (/* binding */ p),
/* harmony export */   validateQuery: () => (/* binding */ d),
/* harmony export */   validateStatisticsQuery: () => (/* binding */ y)
/* harmony export */ });
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _attributeSupport_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./attributeSupport.js */ "./node_modules/@arcgis/core/layers/graphics/data/attributeSupport.js");
/* harmony import */ var _projectionSupport_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./projectionSupport.js */ "./node_modules/@arcgis/core/layers/graphics/data/projectionSupport.js");
/* harmony import */ var _spatialQuerySupport_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./spatialQuerySupport.js */ "./node_modules/@arcgis/core/layers/graphics/data/spatialQuerySupport.js");
/* harmony import */ var _support_loadArcade_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../support/loadArcade.js */ "./node_modules/@arcgis/core/support/loadArcade.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
const u="unsupported-query";async function p(t,i){const s=t.bin;if(!s.onField&&!s.onExpression?.value||"autoIntervalBin"===s.type&&null==s.parameters.numberOfBins||"dateBin"===s.type&&(null==s.parameters.number||null==s.parameters.unit)||"fixedBoundariesBin"===s.type&&null==s.parameters.boundaries||"fixedIntervalBin"===s.type&&null==s.parameters.interval)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"](u,"Unsupported query options",{query:t});return d(t,i)}async function d(t,{fieldsIndex:i,geometryType:s,spatialReference:r,availableFields:o}){if(null!=t.geometryPrecision||t.multipatchOption&&"xyFootprint"!==t.multipatchOption||t.pixelSize||t.relationParam||t.text)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"](u,"Unsupported query options",{query:t});return c(i,o,t),m(i,o,t),Promise.all([(0,_spatialQuerySupport_js__WEBPACK_IMPORTED_MODULE_3__.checkSpatialQuerySupport)(t,s,r),(0,_projectionSupport_js__WEBPACK_IMPORTED_MODULE_2__.checkProjectionSupport)(r,t.outSR)]).then((()=>t))}function c(s,r,o){const{returnDistinctValues:n,outStatistics:a}=o,l=a?a.map((e=>e.outStatisticFieldName&&e.outStatisticFieldName.toLowerCase())).filter(Boolean):[];if("orderByFields"in o&&o.orderByFields&&o.orderByFields.length>0){const e=" asc",i=" desc",n=o.orderByFields.map((t=>{const s=t.toLowerCase();return s.includes(e)?s.split(e)[0]:s.includes(i)?s.split(i)[0]:t})).filter((e=>!l.includes(e)));(0,_attributeSupport_js__WEBPACK_IMPORTED_MODULE_1__.validateFields)(s,r,n,{expressionName:"orderByFields",query:o})}if("outFields"in o)if(o.outFields?.length)(0,_attributeSupport_js__WEBPACK_IMPORTED_MODULE_1__.validateFields)(s,r,o.outFields,{expressionName:"outFields",query:o,allowedFieldTypes:"all"});else if(n)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"](u,"outFields should be specified for returnDistinctValues",{query:o});(0,_attributeSupport_js__WEBPACK_IMPORTED_MODULE_1__.validateWhere)(s,r,o.where,o)}const f=new Set([..._attributeSupport_js__WEBPACK_IMPORTED_MODULE_1__.numericFieldTypes,..._attributeSupport_js__WEBPACK_IMPORTED_MODULE_1__.allDateAndTimeFieldTypes]);function m(i,r,o){const{outStatistics:n,groupByFieldsForStatistics:a,having:l}=o,p=a?.length,d=n?.length;if(l){if(!p||!d)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"](u,"outStatistics and groupByFieldsForStatistics should be specified with having",{query:o});(0,_attributeSupport_js__WEBPACK_IMPORTED_MODULE_1__.validateHaving)(i,r,l,n,o)}if(d){if(!h(n))return;const s=n.map((e=>e.onStatisticField)).filter(Boolean);(0,_attributeSupport_js__WEBPACK_IMPORTED_MODULE_1__.validateFields)(i,r,s,{expressionName:"onStatisticFields",query:o}),p&&(0,_attributeSupport_js__WEBPACK_IMPORTED_MODULE_1__.validateFields)(i,r,a,{expressionName:"groupByFieldsForStatistics",query:o});for(const a of n){const{onStatisticField:s,statisticType:n}=a;if(("percentile_disc"===n||"percentile_cont"===n)&&"statisticParameters"in a){const{statisticParameters:t}=a;if(!t)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"](u,"statisticParameters should be set for percentile type",{definition:a,query:o})}else i.get(s)&&"count"!==n&&"min"!==n&&"max"!==n&&(0,_attributeSupport_js__WEBPACK_IMPORTED_MODULE_1__.validateFields)(i,r,[s],{expressionName:`outStatistics with '${n}' statistic type`,allowedFieldTypes:f,query:o})}}}async function y(t,i,{fieldsIndex:s,geometryType:r,spatialReference:o,availableFields:l}){if(null!=t.geometryPrecision||t.multipatchOption||t.pixelSize||t.relationParam||t.text||t.outStatistics||t.groupByFieldsForStatistics||t.having||t.orderByFields)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"](u,"Unsupported query options",{query:t});return c(s,l,t),Promise.all([F(s,l,i,t),(0,_spatialQuerySupport_js__WEBPACK_IMPORTED_MODULE_3__.checkSpatialQuerySupport)(t,r,o),(0,_projectionSupport_js__WEBPACK_IMPORTED_MODULE_2__.checkProjectionSupport)(o,t.outSR)]).then((()=>t))}async function F(i,s,r,o){let n=[];if(r.valueExpression){const{arcadeUtils:e}=await (0,_support_loadArcade_js__WEBPACK_IMPORTED_MODULE_4__.loadArcade)();n=e.extractFieldNames(r.valueExpression)}if(r.field&&n.push(r.field),r.field2&&n.push(r.field2),r.field3&&n.push(r.field3),r.normalizationField&&n.push(r.normalizationField),!n.length&&!r.valueExpression)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"](u,"field or valueExpression is required",{params:r});(0,_attributeSupport_js__WEBPACK_IMPORTED_MODULE_1__.validateFields)(i,s,n,{expressionName:"statistics",query:o})}function h(e){return null!=e&&e.every((e=>"exceedslimit"!==e.statisticType))}


/***/ }),

/***/ "./node_modules/@arcgis/core/layers/graphics/data/spatialQuerySupport.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/graphics/data/spatialQuerySupport.js ***!
  \*******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   canQueryWithRBush: () => (/* binding */ d),
/* harmony export */   checkSpatialQuerySupport: () => (/* binding */ w),
/* harmony export */   getSpatialQueryOperator: () => (/* binding */ I)
/* harmony export */ });
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _geometry_support_contains_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../geometry/support/contains.js */ "./node_modules/@arcgis/core/geometry/support/contains.js");
/* harmony import */ var _geometry_support_intersects_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../geometry/support/intersects.js */ "./node_modules/@arcgis/core/geometry/support/intersects.js");
/* harmony import */ var _geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../geometry/support/jsonUtils.js */ "./node_modules/@arcgis/core/geometry/support/jsonUtils.js");
/* harmony import */ var _geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../geometry/support/spatialReferenceUtils.js */ "./node_modules/@arcgis/core/geometry/support/spatialReferenceUtils.js");
/* harmony import */ var _contains_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../contains.js */ "./node_modules/@arcgis/core/layers/graphics/contains.js");
/* harmony import */ var _featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../featureConversionUtils.js */ "./node_modules/@arcgis/core/layers/graphics/featureConversionUtils.js");
/* harmony import */ var _OptimizedGeometry_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../OptimizedGeometry.js */ "./node_modules/@arcgis/core/layers/graphics/OptimizedGeometry.js");
/* harmony import */ var _geometryUtils_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./geometryUtils.js */ "./node_modules/@arcgis/core/layers/graphics/data/geometryUtils.js");
/* harmony import */ var _projectionSupport_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./projectionSupport.js */ "./node_modules/@arcgis/core/layers/graphics/data/projectionSupport.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
const f="unsupported-query",R={spatialRelationship:{esriSpatialRelIntersects:!0,esriSpatialRelContains:!0,esriSpatialRelWithin:!0,esriSpatialRelCrosses:!0,esriSpatialRelDisjoint:!0,esriSpatialRelTouches:!0,esriSpatialRelOverlaps:!0,esriSpatialRelEnvelopeIntersects:!0,esriSpatialRelIndexIntersects:!1,esriSpatialRelRelation:!1},queryGeometry:{esriGeometryPoint:!0,esriGeometryMultiPatch:!1,esriGeometryMultipoint:!0,esriGeometryPolyline:!0,esriGeometryPolygon:!0,esriGeometryEnvelope:!0},layerGeometry:{esriGeometryPoint:!0,esriGeometryMultiPatch:!0,esriGeometryMultipoint:!0,esriGeometryPolyline:!0,esriGeometryPolygon:!0,esriGeometryEnvelope:!1}};function S(e){return null!=e&&!0===R.spatialRelationship[e]}function j(e){return null!=e&&!0===R.queryGeometry[(0,_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_3__.getJsonType)(e)]}function G(e){return null!=e&&!0===R.layerGeometry[e]}const g={esriSpatialRelIntersects:()=>Promise.all(/*! import() */[__webpack_require__.e("vendors-node_modules_arcgis_core_chunks_Point2D_js"), __webpack_require__.e("vendors-node_modules_arcgis_core_chunks_Transformation2D_js"), __webpack_require__.e("vendors-node_modules_arcgis_core_chunks_Envelope2D_js"), __webpack_require__.e("vendors-node_modules_arcgis_core_chunks_ProjectionTransformation_js"), __webpack_require__.e("vendors-node_modules_arcgis_core_geometry_operators_support_jsonConverter_js"), __webpack_require__.e("node_modules_arcgis_core_chunks_SimpleGeometryCursor_js-node_modules_arcgis_core_geometry_ope-39f5bc")]).then(__webpack_require__.bind(__webpack_require__, /*! ../../../geometry/operators/json/intersectsOperator.js */ "./node_modules/@arcgis/core/geometry/operators/json/intersectsOperator.js")),esriSpatialRelContains:()=>Promise.all(/*! import() */[__webpack_require__.e("vendors-node_modules_arcgis_core_chunks_Point2D_js"), __webpack_require__.e("vendors-node_modules_arcgis_core_chunks_Transformation2D_js"), __webpack_require__.e("vendors-node_modules_arcgis_core_chunks_Envelope2D_js"), __webpack_require__.e("vendors-node_modules_arcgis_core_chunks_ProjectionTransformation_js"), __webpack_require__.e("vendors-node_modules_arcgis_core_geometry_operators_support_jsonConverter_js"), __webpack_require__.e("node_modules_arcgis_core_chunks_SimpleGeometryCursor_js-node_modules_arcgis_core_geometry_ope-c9aa8a")]).then(__webpack_require__.bind(__webpack_require__, /*! ../../../geometry/operators/json/containsOperator.js */ "./node_modules/@arcgis/core/geometry/operators/json/containsOperator.js")),esriSpatialRelCrosses:()=>Promise.all(/*! import() */[__webpack_require__.e("vendors-node_modules_arcgis_core_chunks_Point2D_js"), __webpack_require__.e("vendors-node_modules_arcgis_core_chunks_Transformation2D_js"), __webpack_require__.e("vendors-node_modules_arcgis_core_chunks_Envelope2D_js"), __webpack_require__.e("vendors-node_modules_arcgis_core_chunks_ProjectionTransformation_js"), __webpack_require__.e("vendors-node_modules_arcgis_core_geometry_operators_support_jsonConverter_js"), __webpack_require__.e("node_modules_arcgis_core_chunks_SimpleGeometryCursor_js-node_modules_arcgis_core_geometry_ope-553dfe")]).then(__webpack_require__.bind(__webpack_require__, /*! ../../../geometry/operators/json/crossesOperator.js */ "./node_modules/@arcgis/core/geometry/operators/json/crossesOperator.js")),esriSpatialRelDisjoint:()=>Promise.all(/*! import() */[__webpack_require__.e("vendors-node_modules_arcgis_core_chunks_Point2D_js"), __webpack_require__.e("vendors-node_modules_arcgis_core_chunks_Transformation2D_js"), __webpack_require__.e("vendors-node_modules_arcgis_core_chunks_Envelope2D_js"), __webpack_require__.e("vendors-node_modules_arcgis_core_chunks_ProjectionTransformation_js"), __webpack_require__.e("vendors-node_modules_arcgis_core_geometry_operators_support_jsonConverter_js"), __webpack_require__.e("node_modules_arcgis_core_chunks_SimpleGeometryCursor_js-node_modules_arcgis_core_geometry_ope-a2b18a")]).then(__webpack_require__.bind(__webpack_require__, /*! ../../../geometry/operators/json/disjointOperator.js */ "./node_modules/@arcgis/core/geometry/operators/json/disjointOperator.js")),esriSpatialRelEnvelopeIntersects:null,esriSpatialRelIndexIntersects:null,esriSpatialRelOverlaps:()=>Promise.all(/*! import() */[__webpack_require__.e("vendors-node_modules_arcgis_core_chunks_Point2D_js"), __webpack_require__.e("vendors-node_modules_arcgis_core_chunks_Transformation2D_js"), __webpack_require__.e("vendors-node_modules_arcgis_core_chunks_Envelope2D_js"), __webpack_require__.e("vendors-node_modules_arcgis_core_chunks_ProjectionTransformation_js"), __webpack_require__.e("vendors-node_modules_arcgis_core_geometry_operators_support_jsonConverter_js"), __webpack_require__.e("node_modules_arcgis_core_chunks_SimpleGeometryCursor_js-node_modules_arcgis_core_geometry_ope-4f65cf")]).then(__webpack_require__.bind(__webpack_require__, /*! ../../../geometry/operators/json/overlapsOperator.js */ "./node_modules/@arcgis/core/geometry/operators/json/overlapsOperator.js")),esriSpatialRelTouches:()=>Promise.all(/*! import() */[__webpack_require__.e("vendors-node_modules_arcgis_core_chunks_Point2D_js"), __webpack_require__.e("vendors-node_modules_arcgis_core_chunks_Transformation2D_js"), __webpack_require__.e("vendors-node_modules_arcgis_core_chunks_Envelope2D_js"), __webpack_require__.e("vendors-node_modules_arcgis_core_chunks_ProjectionTransformation_js"), __webpack_require__.e("vendors-node_modules_arcgis_core_geometry_operators_support_jsonConverter_js"), __webpack_require__.e("node_modules_arcgis_core_chunks_SimpleGeometryCursor_js-node_modules_arcgis_core_geometry_ope-04d059")]).then(__webpack_require__.bind(__webpack_require__, /*! ../../../geometry/operators/json/touchesOperator.js */ "./node_modules/@arcgis/core/geometry/operators/json/touchesOperator.js")),esriSpatialRelWithin:()=>Promise.all(/*! import() */[__webpack_require__.e("vendors-node_modules_arcgis_core_chunks_Point2D_js"), __webpack_require__.e("vendors-node_modules_arcgis_core_chunks_Transformation2D_js"), __webpack_require__.e("vendors-node_modules_arcgis_core_chunks_Envelope2D_js"), __webpack_require__.e("vendors-node_modules_arcgis_core_chunks_ProjectionTransformation_js"), __webpack_require__.e("vendors-node_modules_arcgis_core_geometry_operators_support_jsonConverter_js"), __webpack_require__.e("node_modules_arcgis_core_chunks_SimpleGeometryCursor_js-node_modules_arcgis_core_geometry_ope-a5d9b6")]).then(__webpack_require__.bind(__webpack_require__, /*! ../../../geometry/operators/json/withinOperator.js */ "./node_modules/@arcgis/core/geometry/operators/json/withinOperator.js")),esriSpatialRelRelation:null};function h(e){const r=g[e];if(null==r)throw new Error(`Cannot load unsupported spatial operator: ${e}`);return r()}async function I(e,n,a,c,f){if((0,_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_3__.isPolygon)(n)){if("esriGeometryPoint"===a&&("esriSpatialRelIntersects"===e||"esriSpatialRelContains"===e)){const e=(0,_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_6__.convertFromPolygon)(new _OptimizedGeometry_js__WEBPACK_IMPORTED_MODULE_7__["default"],n,!1,!1);return r=>(0,_contains_js__WEBPACK_IMPORTED_MODULE_5__.polygonContainsPoint)(e,!1,!1,r)}if("esriGeometryMultipoint"===a){const r=(0,_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_6__.convertFromPolygon)(new _OptimizedGeometry_js__WEBPACK_IMPORTED_MODULE_7__["default"],n,!1,!1);if("esriSpatialRelContains"===e)return e=>(0,_contains_js__WEBPACK_IMPORTED_MODULE_5__.polygonContainsMultipoint)(r,!1,!1,e,c,f)}}if((0,_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_3__.isExtent)(n)){if("esriGeometryPoint"===a&&("esriSpatialRelIntersects"===e||"esriSpatialRelContains"===e))return e=>(0,_geometry_support_contains_js__WEBPACK_IMPORTED_MODULE_1__.extentContainsPoint)(n,(0,_geometryUtils_js__WEBPACK_IMPORTED_MODULE_8__.getGeometry)(a,c,f,e));if("esriGeometryMultipoint"===a&&"esriSpatialRelContains"===e)return e=>(0,_geometry_support_contains_js__WEBPACK_IMPORTED_MODULE_1__.extentContainsMultipoint)(n,(0,_geometryUtils_js__WEBPACK_IMPORTED_MODULE_8__.getGeometry)(a,c,f,e));if("esriSpatialRelIntersects"===e){const e=(0,_geometry_support_intersects_js__WEBPACK_IMPORTED_MODULE_2__.getExtentIntersector)(a);return r=>e(n,(0,_geometryUtils_js__WEBPACK_IMPORTED_MODULE_8__.getGeometry)(a,c,f,r))}}"esriSpatialRelEnvelopeIntersects"===e&&(e="esriSpatialRelIntersects");const R=await h(e);return e=>R.execute(n,(0,_geometryUtils_js__WEBPACK_IMPORTED_MODULE_8__.getGeometry)(a,c,f,e))}async function w(r,t,i){const{spatialRel:o,geometry:s}=r;if(s){if(!S(o))throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"](f,"Unsupported query spatial relationship",{query:r});if((0,_geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_4__.isValid)(s.spatialReference)&&(0,_geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_4__.isValid)(i)){if(!j(s))throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"](f,"Unsupported query geometry type",{query:r});if(!G(t))throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"](f,"Unsupported layer geometry type",{query:r});if(r.outSR)return (0,_projectionSupport_js__WEBPACK_IMPORTED_MODULE_9__.checkProjectionSupport)(r.geometry?.spatialReference,r.outSR)}}}function d(e){if((0,_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_3__.isExtent)(e))return!0;if((0,_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_3__.isPolygon)(e)){for(const r of e.rings){if(5!==r.length)return!1;if(r[0][0]!==r[1][0]||r[0][0]!==r[4][0]||r[2][0]!==r[3][0]||r[0][1]!==r[3][1]||r[0][1]!==r[4][1]||r[1][1]!==r[2][1])return!1}return!0}return!1}


/***/ }),

/***/ "./node_modules/@arcgis/core/layers/graphics/data/timeSupport.js":
/*!***********************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/graphics/data/timeSupport.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   getTimeExtent: () => (/* binding */ n),
/* harmony export */   getTimeOperator: () => (/* binding */ l)
/* harmony export */ });
/* harmony import */ var _core_compilerUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../core/compilerUtils.js */ "./node_modules/@arcgis/core/core/compilerUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
async function n(n,l){if(!n)return null;const u=l.featureAdapter,{startTimeField:r,endTimeField:e}=n;let i=Number.POSITIVE_INFINITY,o=Number.NEGATIVE_INFINITY;if(r&&e)await l.forEach((n=>{const l=u.getAttribute((0,_core_compilerUtils_js__WEBPACK_IMPORTED_MODULE_0__.toConst)(n),r),s=u.getAttribute((0,_core_compilerUtils_js__WEBPACK_IMPORTED_MODULE_0__.toConst)(n),e);null==l||isNaN(l)||(i=Math.min(i,l)),null==s||isNaN(s)||(o=Math.max(o,s))}));else{const n=r||e;await l.forEach((l=>{const r=u.getAttribute((0,_core_compilerUtils_js__WEBPACK_IMPORTED_MODULE_0__.toConst)(l),n);null==r||isNaN(r)||(i=Math.min(i,r),o=Math.max(o,r))}))}return{start:i,end:o}}function l(t,n,l){if(!n||!t)return null;const{startTimeField:i,endTimeField:o}=t;if(!i&&!o)return null;const{start:s,end:a}=n;if(null===s&&null===a)return null;if(void 0===s&&void 0===a)return e();const c=l.getAttributeAsTimestamp?.bind(l)??l.getAttribute.bind(l);return i&&o?u(c,i,o,s,a):r(c,i||o,s,a)}function u(t,n,l,u,r){return null!=u&&null!=r?e=>{const i=t(e,n),o=t(e,l);return(null==i||i<=r)&&(null==o||o>=u)}:null!=u?n=>{const r=t(n,l);return null==r||r>=u}:null!=r?l=>{const u=t(l,n);return null==u||u<=r}:void 0}function r(t,n,l,u){return null!=l&&null!=u&&l===u?u=>t(u,n)===l:null!=l&&null!=u?r=>{const e=t(r,n);return null!=e&&e>=l&&e<=u}:null!=l?u=>{const r=t(u,n);return null!=r&&r>=l}:null!=u?l=>{const r=t(l,n);return null!=r&&r<=u}:void 0}function e(){return()=>!1}


/***/ }),

/***/ "./node_modules/@arcgis/core/smartMapping/support/utils.js":
/*!*****************************************************************!*\
  !*** ./node_modules/@arcgis/core/smartMapping/support/utils.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   castIntegerFieldToFloat: () => (/* binding */ M),
/* harmony export */   dateTypes: () => (/* binding */ Z),
/* harmony export */   defaultBasemapGroups: () => (/* binding */ c),
/* harmony export */   defaultStatisticTypes: () => (/* binding */ y),
/* harmony export */   fieldDelimiter: () => (/* binding */ f),
/* harmony export */   formatAnyDate: () => (/* binding */ N),
/* harmony export */   getBasemapGroup: () => (/* binding */ F),
/* harmony export */   getBasemapId: () => (/* binding */ b),
/* harmony export */   getDateDiffSQL: () => (/* binding */ C),
/* harmony export */   getDateType: () => (/* binding */ D),
/* harmony export */   getFieldsList: () => (/* binding */ U),
/* harmony export */   getNormalizationType: () => (/* binding */ w),
/* harmony export */   isAnyDateField: () => (/* binding */ $),
/* harmony export */   isIntegerField: () => (/* binding */ j),
/* harmony export */   unitValueInDays: () => (/* binding */ h)
/* harmony export */ });
/* harmony import */ var _intl_date_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../intl/date.js */ "./node_modules/@arcgis/core/intl/date.js");
/* harmony import */ var _layers_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../layers/support/fieldUtils.js */ "./node_modules/@arcgis/core/layers/support/fieldUtils.js");
/* harmony import */ var _support_basemapUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../support/basemapUtils.js */ "./node_modules/@arcgis/core/support/basemapUtils.js");
/* harmony import */ var _support_loadArcade_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../support/loadArcade.js */ "./node_modules/@arcgis/core/support/loadArcade.js");
/* harmony import */ var _time_constants_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../time/constants.js */ "./node_modules/@arcgis/core/time/constants.js");
/* harmony import */ var _time_timeZoneUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../time/timeZoneUtils.js */ "./node_modules/@arcgis/core/time/timeZoneUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
const f=",",c={light:["streets","gray","topo","terrain","oceans","osm","gray-vector","streets-vector","topo-vector","streets-relief-vector","streets-navigation-vector","topo-3d","navigation-3d","streets-3d","osm-3d","gray-3d"],dark:["satellite","hybrid","dark-gray","dark-gray-vector","streets-night-vector","navigation-dark-3d","streets-dark-3d","dark-gray-3d"]},p="percent-of-total",g="field",y={exclude:["median"]},h={years:365,months:30,days:1,hours:1/24,minutes:1/1440,seconds:1/86400,milliseconds:1/864e5},v=new Set(["integer","small-integer"]);let T=null;const Z=["date","date-only","timestamp-offset"];function $(t){return (0,_layers_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_1__.isDateField)(t)||(0,_layers_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_1__.isDateOnlyField)(t)||(0,_layers_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_1__.isTimestampOffsetField)(t)}async function U(t){const{field:e,field2:n,field3:o,normalizationField:r,valueExpression:i}=t;let s=[];if(i){if(!T){const{arcadeUtils:t}=await (0,_support_loadArcade_js__WEBPACK_IMPORTED_MODULE_3__.loadArcade)();T=t}s=T.extractFieldNames(i)}return e&&s.push(e),n&&s.push(n),o&&s.push(o),r&&s.push(r),s}function w(t){let e=t.normalizationType;return e||(t.normalizationField?e=g:null!=t.normalizationTotal&&(e=p)),e??void 0}function S(t){return String(t).padStart(2,"0")}function k(t,e,n){let o;if("date"===e||"number"===e){"number"===e&&(t=new Date(t));o=`TIMESTAMP'${n?t.getFullYear():t.getUTCFullYear()}-${S((n?t.getMonth():t.getUTCMonth())+1)}-${S(n?t.getDate():t.getUTCDate())} ${S(n?t.getHours():t.getUTCHours())}:${S(n?t.getMinutes():t.getUTCMinutes())}:${S(n?t.getSeconds():t.getUTCSeconds())}'`}else o=t;return o}function C(t,e,n,o){const{hasQueryEngine:r}=t,i=`(${k(n,D(t,n),r)} - ${k(e,D(t,e),r)})`;let s=h[o],a="/";s<1&&(s=1/s,a="*");return{sqlExpression:1===s?i:`(${i} ${a} ${s})`,sqlWhere:null}}function D(t,e){if(e instanceof Date)return"date";if("number"==typeof e)return"number";if("string"==typeof e){const n=t.getField(e);if("<now>"===e.toLowerCase())return;if((0,_layers_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_1__.isDateField)(n))return"field"}}function F(t,e=c){for(const n in e)if(e[n].includes(t))return n}function b(t,e,n=!0){let o=null;return t&&("string"==typeof t?e.includes(t)&&(o=t):o=(0,_support_basemapUtils_js__WEBPACK_IMPORTED_MODULE_2__.getWellKnownBasemapId)(t)),n?o||"gray":o}function j(t,e){const n=e&&t.getField(e);return!!n&&v.has(n.type)}function M(t){return`cast(${t} as float)`}function N(i,s){const{format:a,timeZoneOptions:l,fieldType:u}=s??{};let f,c;if(l&&({timeZone:f,timeZoneName:c}=(0,_time_timeZoneUtils_js__WEBPACK_IMPORTED_MODULE_5__.getTimeZoneFormattingOptions)(l.layerTimeZone,l.datesInUnknownTimezone,l.viewTimeZone,(0,_intl_date_js__WEBPACK_IMPORTED_MODULE_0__.convertDateFormatToIntlOptions)(a||"short-date-short-time"),u)),"string"==typeof i&&isNaN(Date.parse("time-only"===u?`1970-01-01T${i}Z`:i)))return i;switch(u){case"date-only":{const n=(0,_intl_date_js__WEBPACK_IMPORTED_MODULE_0__.convertDateFormatToIntlOptions)(a||"short-date");return"string"==typeof i?(0,_intl_date_js__WEBPACK_IMPORTED_MODULE_0__.formatDateOnly)(i,{...n}):(0,_intl_date_js__WEBPACK_IMPORTED_MODULE_0__.formatDate)(i,{...n,timeZone:_time_constants_js__WEBPACK_IMPORTED_MODULE_4__.utc})}case"time-only":{const n=(0,_intl_date_js__WEBPACK_IMPORTED_MODULE_0__.convertDateFormatToIntlOptions)(a||"short-time");return"string"==typeof i?(0,_intl_date_js__WEBPACK_IMPORTED_MODULE_0__.formatTimeOnly)(i,n):(0,_intl_date_js__WEBPACK_IMPORTED_MODULE_0__.formatDate)(i,{...n,timeZone:_time_constants_js__WEBPACK_IMPORTED_MODULE_4__.utc})}case"timestamp-offset":{if(!f&&"string"==typeof i&&new Date(i).toISOString()!==i)return i;const o=a||l?(0,_intl_date_js__WEBPACK_IMPORTED_MODULE_0__.convertDateFormatToIntlOptions)(a||"short-date-short-time"):void 0,r=o?{...o,timeZone:f,timeZoneName:c}:void 0;return"string"==typeof i?(0,_intl_date_js__WEBPACK_IMPORTED_MODULE_0__.formatTimestamp)(i,r):(0,_intl_date_js__WEBPACK_IMPORTED_MODULE_0__.formatDate)(i,r)}default:{const n=a||l?(0,_intl_date_js__WEBPACK_IMPORTED_MODULE_0__.convertDateFormatToIntlOptions)(a||"short-date-short-time"):void 0;return (0,_intl_date_js__WEBPACK_IMPORTED_MODULE_0__.formatDate)("string"==typeof i?new Date(i):i,n?{...n,timeZone:f,timeZoneName:c}:void 0)}}}


/***/ })

};

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmVuZG9ycy1ub2RlX21vZHVsZXNfYXJjZ2lzX2NvcmVfbGF5ZXJzX2dyYXBoaWNzX2RhdGFfUXVlcnlFbmdpbmVfanMtbm9kZV9tb2R1bGVzX2FyY2dpc19jb3JlLWE5MjRhNy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDMEUsUUFBUSxpQkFBaUIsZ0JBQWdCLGtEQUFDLDJCQUEyQixrREFBQyxJQUFJLFNBQVMsV0FBVyxPQUFPLEdBQUcsRUFBRSx1QkFBdUIsY0FBYywrQ0FBK0MsSUFBSSxRQUFRLHVEQUFDLFdBQVcsY0FBYyxFQUFFLDhCQUE4QixTQUFTLHlDQUF5QyxjQUFjLFdBQVcsT0FBTyxHQUFHLEVBQUUsRUFBRSx3Q0FBc0U7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ0o3ZTtBQUNBO0FBQ0E7QUFDQTtBQUNzUSxjQUFjLGlCQUFpQixzRUFBQyxDQUFDLCtFQUFDLElBQW1HOzs7Ozs7Ozs7Ozs7Ozs7OztBQ0ozWTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixxQkFBcUIsb0JBQW9CLHdDQUF3Qyx3QkFBd0IsZ0JBQWdCLG1CQUFtQixHQUFHLGVBQWUsZ0JBQWdCLFdBQVcsMkNBQTJDLFNBQVMsc0JBQXNCLGVBQWUsZ0JBQWdCLG1CQUFtQixHQUFHLGFBQWEsMkNBQTJDLFNBQVMsMEJBQTBCLFlBQVksb0JBQW9CLElBQUksTUFBTSxtQkFBbUIsc0NBQXNDLHNEQUFzRCxTQUFxRzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDSmpxQjtBQUNBO0FBQ0E7QUFDQTtBQUNpZ0IsUUFBUSxtQkFBbUIsMkpBQTJKLG9CQUFvQix3QkFBd0IsaUJBQWlCLFFBQVEsa0JBQWtCLFFBQVEsZ0ZBQUMsdUNBQXVDLG9FQUFDLGlCQUFpQiwyRUFBQyxzQkFBc0IsNEJBQTRCLGlCQUFpQixJQUFJLHVCQUF1QiwrR0FBK0csaUJBQWlCLCtDQUErQyxtREFBbUQscUJBQXFCLG1CQUFtQixXQUFXLCtFQUErRSxvRUFBQyxp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QVMsZUFBZSxJQUFJLGNBQWMsR0FBRyxpQkFBaUIsbUJBQW1CLE9BQU8sMEJBQTBCLEdBQUcsRUFBRSxHQUFHLEVBQUUsRUFBRSxrQkFBa0IsZ0JBQWdCLGtDQUFrQyxxQ0FBcUMsdUJBQXVCLHNCQUFzQixvQ0FBb0MsR0FBRywwRUFBQyxtQkFBbUIsa0JBQWtCLDhDQUE4QyxxQkFBcUIsV0FBVyxxREFBcUQsK0VBQUMsbUJBQW1CLGdCQUFnQix5QkFBeUIseUJBQXlCLGNBQWMsY0FBYyxHQUFHLFdBQVcsZ0JBQWdCLE1BQU0sdUNBQXVDLE9BQU8sUUFBUSxRQUFRLDBCQUEwQixDQUFDLG9GQUFDLHlEQUF5RCw2RUFBQyxvR0FBb0csRUFBRSxnQkFBZ0IsVUFBVSxpQkFBaUIsUUFBUSw2RUFBQyxrQkFBa0IseUJBQXlCLDZEQUFDLElBQUksS0FBSyxFQUFFLHlEQUFDLElBQUksY0FBYyxtREFBQyxDQUFDLEVBQUUsaUJBQWlCLFFBQVEsNkVBQUMsa0JBQWtCLHlCQUF5Qiw2REFBQyxNQUFNLHlEQUFDLElBQUksY0FBYyxtREFBQyxDQUFDLEVBQUUsd0JBQXdCLGtFQUFrRSxhQUFhLDZFQUFDLHlDQUF5QywrQkFBK0IsUUFBUSx5QkFBeUIsOERBQUMsTUFBTSx5REFBQyxNQUFNLFNBQVMsYUFBYSw2RUFBQyxvQ0FBb0MsT0FBTyx5REFBQyxxQ0FBcUMsK0JBQStCLFdBQWlWIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcHJlY2lzaW9uZmFybXMvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL2NvcmUvc3FsL1doZXJlQ2xhdXNlQ2FjaGUuanMiLCJ3ZWJwYWNrOi8vcHJlY2lzaW9uZmFybXMvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL2dlb21ldHJ5L3N1cHBvcnQvaW50ZXJzZWN0cy5qcyIsIndlYnBhY2s6Ly9wcmVjaXNpb25mYXJtcy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvbGF5ZXJzL2dyYXBoaWNzL2NvbnRhaW5zLmpzIiwid2VicGFjazovL3ByZWNpc2lvbmZhcm1zLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS9sYXllcnMvZ3JhcGhpY3MvZGF0YS9BdHRyaWJ1dGVzQnVpbGRlci5qcyIsIndlYnBhY2s6Ly9wcmVjaXNpb25mYXJtcy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvbGF5ZXJzL2dyYXBoaWNzL2RhdGEvUXVlcnlFbmdpbmUuanMiLCJ3ZWJwYWNrOi8vcHJlY2lzaW9uZmFybXMvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL2xheWVycy9ncmFwaGljcy9kYXRhL1F1ZXJ5RW5naW5lQ2FjaGUuanMiLCJ3ZWJwYWNrOi8vcHJlY2lzaW9uZmFybXMvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL2xheWVycy9ncmFwaGljcy9kYXRhL1F1ZXJ5RW5naW5lQ2FwYWJpbGl0aWVzLmpzIiwid2VicGFjazovL3ByZWNpc2lvbmZhcm1zLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS9sYXllcnMvZ3JhcGhpY3MvZGF0YS9RdWVyeUVuZ2luZVJlc3VsdC5qcyIsIndlYnBhY2s6Ly9wcmVjaXNpb25mYXJtcy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvbGF5ZXJzL2dyYXBoaWNzL2RhdGEvU25hcHBpbmdDYW5kaWRhdGUuanMiLCJ3ZWJwYWNrOi8vcHJlY2lzaW9uZmFybXMvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL2xheWVycy9ncmFwaGljcy9kYXRhL2F0dHJpYnV0ZVN1cHBvcnQuanMiLCJ3ZWJwYWNrOi8vcHJlY2lzaW9uZmFybXMvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL2xheWVycy9ncmFwaGljcy9kYXRhL2dlb21ldHJ5VXRpbHMuanMiLCJ3ZWJwYWNrOi8vcHJlY2lzaW9uZmFybXMvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL2xheWVycy9ncmFwaGljcy9kYXRhL3F1ZXJ5VmFsaWRhdGlvblV0aWxzLmpzIiwid2VicGFjazovL3ByZWNpc2lvbmZhcm1zLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS9sYXllcnMvZ3JhcGhpY3MvZGF0YS9zcGF0aWFsUXVlcnlTdXBwb3J0LmpzIiwid2VicGFjazovL3ByZWNpc2lvbmZhcm1zLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS9sYXllcnMvZ3JhcGhpY3MvZGF0YS90aW1lU3VwcG9ydC5qcyIsIndlYnBhY2s6Ly9wcmVjaXNpb25mYXJtcy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvc21hcnRNYXBwaW5nL3N1cHBvcnQvdXRpbHMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMzMvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtMUlVDYWNoZSBhcyB0fWZyb21cIi4uL0xSVUNhY2hlLmpzXCI7aW1wb3J0IGUgZnJvbVwiLi9XaGVyZUNsYXVzZS5qc1wiO2NsYXNzIHJ7Y29uc3RydWN0b3IoZSxyKXt0aGlzLl9jYWNoZT1uZXcgdChlKSx0aGlzLl9pbnZhbGlkQ2FjaGU9bmV3IHQocil9Z2V0KHQscil7Y29uc3QgaT1gJHtyPy51aWR9OiR7dH1gLGM9dGhpcy5fY2FjaGUuZ2V0KGkpO2lmKGMpcmV0dXJuIGM7aWYobnVsbCE9dGhpcy5faW52YWxpZENhY2hlLmdldChpKSlyZXR1cm4gbnVsbDt0cnl7Y29uc3QgYz1lLmNyZWF0ZSh0LHtmaWVsZHNJbmRleDpyfSk7cmV0dXJuIHRoaXMuX2NhY2hlLnB1dChpLGMpLGN9Y2F0Y2gobil7cmV0dXJuIHRoaXMuX2ludmFsaWRDYWNoZS5wdXQoaSxuKSxudWxsfX1nZXRFcnJvcih0LGUpe2NvbnN0IHI9YCR7ZT8udWlkfToke3R9YDtyZXR1cm4gdGhpcy5faW52YWxpZENhY2hlLmdldChyKT8/bnVsbH19ZXhwb3J0e3IgYXMgV2hlcmVDbGF1c2VDYWNoZX07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4zMy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e2V4dGVudEludGVyc2VjdHNFeHRlbnQgYXMgZSxnZXRGZWF0dXJlRXh0ZW50SW50ZXJzZWN0b3IgYXMgdH1mcm9tXCIuL2ludGVyc2VjdHNCYXNlLmpzXCI7ZXhwb3J0e2V4dGVudEludGVyc2VjdHNNdWx0aXBvaW50LGV4dGVudEludGVyc2VjdHNQb2ludCxleHRlbnRJbnRlcnNlY3RzUG9seWdvbixleHRlbnRJbnRlcnNlY3RzUG9seWxpbmUsaXNTZWxmSW50ZXJzZWN0aW5nLHNlZ21lbnRJbnRlcnNlY3RzfWZyb21cIi4vaW50ZXJzZWN0c0Jhc2UuanNcIjtmdW5jdGlvbiBzKHMpe3JldHVyblwibWVzaFwiPT09cz9lOnQocyl9ZXhwb3J0e2UgYXMgZXh0ZW50SW50ZXJzZWN0c0V4dGVudCxzIGFzIGdldEV4dGVudEludGVyc2VjdG9yLHQgYXMgZ2V0RmVhdHVyZUV4dGVudEludGVyc2VjdG9yfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjMzL2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5mdW5jdGlvbiBuKG4sdCl7cmV0dXJuIG4/dD80OjM6dD8zOjJ9ZnVuY3Rpb24gdChuLHQscixlKXtyZXR1cm4gbyhuLHQscixlLmNvb3Jkc1swXSxlLmNvb3Jkc1sxXSl9ZnVuY3Rpb24gcih0LHIsZSxjLHUsZil7Y29uc3Qgcz1uKHUsZikse2Nvb3JkczppLGxlbmd0aHM6bH09YztpZighbClyZXR1cm4hMTtmb3IobGV0IG49MCxkPTA7bjxsLmxlbmd0aDtuKyssZCs9cylpZighbyh0LHIsZSxpW2RdLGlbZCsxXSkpcmV0dXJuITE7cmV0dXJuITB9ZnVuY3Rpb24gbyh0LHIsbyxjLHUpe2lmKCF0KXJldHVybiExO2NvbnN0IGY9bihyLG8pLHtjb29yZHM6cyxsZW5ndGhzOml9PXQ7bGV0IGw9ITEsZD0wO2Zvcihjb25zdCBuIG9mIGkpbD1lKGwscyxmLGQsbixjLHUpLGQrPW4qZjtyZXR1cm4gbH1mdW5jdGlvbiBlKG4sdCxyLG8sZSxjLHUpe2xldCBmPW4scz1vO2ZvcihsZXQgaT1vLGw9bytlKnI7aTxsO2krPXIpe3M9aStyLHM9PT1sJiYocz1vKTtjb25zdCBuPXRbaV0sZT10W2krMV0sZD10W3NdLGc9dFtzKzFdOyhlPHUmJmc+PXV8fGc8dSYmZT49dSkmJm4rKHUtZSkvKGctZSkqKGQtbik8YyYmKGY9IWYpfXJldHVybiBmfWV4cG9ydHtvIGFzIHBvbHlnb25Db250YWluc0Nvb3JkcyxyIGFzIHBvbHlnb25Db250YWluc011bHRpcG9pbnQsdCBhcyBwb2x5Z29uQ29udGFpbnNQb2ludH07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4zMy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e2dldEV4cHJlc3Npb25Gcm9tRmllbGROYW1lIGFzIHQsZ2V0V2hlcmVDbGF1c2UgYXMgZSxnZXRBbGlhc0Zyb21GaWVsZE5hbWUgYXMgaX1mcm9tXCIuL2F0dHJpYnV0ZVN1cHBvcnQuanNcIjtpbXBvcnR7Z2V0R2VvbWV0cnkgYXMgc31mcm9tXCIuL2dlb21ldHJ5VXRpbHMuanNcIjtpbXBvcnR7aXNEYXRlT25seUZpZWxkIGFzIGEsaXNUaW1lc3RhbXBPZmZzZXRGaWVsZCBhcyBsLGlzVGltZU9ubHlGaWVsZCBhcyByfWZyb21cIi4uLy4uL3N1cHBvcnQvZmllbGRVdGlscy5qc1wiO2ltcG9ydHt0aW1lT25seVRvTWlsbGlzZWNvbmRzIGFzIG59ZnJvbVwiLi4vLi4vLi4vc21hcnRNYXBwaW5nL3N0YXRpc3RpY3Mvc3VwcG9ydC91dGlscy5qc1wiO2ltcG9ydHtwcm9jZXNzTnVsbFZhbHVlIGFzIHUsZ2V0Tm9ybWFsaXplZFZhbHVlIGFzIG99ZnJvbVwiLi4vLi4vLi4vc3RhdGlzdGljcy91dGlscy5qc1wiO2ltcG9ydHtsb2FkQXJjYWRlIGFzIGR9ZnJvbVwiLi4vLi4vLi4vc3VwcG9ydC9sb2FkQXJjYWRlLmpzXCI7Y2xhc3MgY3tjb25zdHJ1Y3RvcihzLGEsbCl7dGhpcy5fZmllbGREYXRhQ2FjaGU9bmV3IE1hcCx0aGlzLl9yZXR1cm5EaXN0aW5jdE1hcD1uZXcgTWFwLHRoaXMucmV0dXJuRGlzdGluY3RWYWx1ZXM9cy5yZXR1cm5EaXN0aW5jdFZhbHVlcz8/ITEsdGhpcy5maWVsZHNJbmRleD1sLHRoaXMuZmVhdHVyZUFkYXB0ZXI9YTtjb25zdCByPXMub3V0RmllbGRzO2lmKHImJiFyLmluY2x1ZGVzKFwiKlwiKSl7dGhpcy5vdXRGaWVsZHM9cjtsZXQgcz0wO2Zvcihjb25zdCBhIG9mIHIpe2NvbnN0IHI9dChhKSxuPXRoaXMuZmllbGRzSW5kZXguZ2V0KHIpLHU9bj9udWxsOmUocixsKSxvPW4/bi5uYW1lOmkoYSl8fFwiRklFTERfRVhQX1wiK3MrKzt0aGlzLl9maWVsZERhdGFDYWNoZS5zZXQoYSx7YWxpYXM6byxjbGF1c2U6dX0pfX19Y291bnREaXN0aW5jdFZhbHVlcyh0KXtyZXR1cm4gdGhpcy5yZXR1cm5EaXN0aW5jdFZhbHVlcz8odC5mb3JFYWNoKCh0PT50aGlzLmdldEF0dHJpYnV0ZXModCkpKSx0aGlzLl9yZXR1cm5EaXN0aW5jdE1hcC5zaXplKTp0Lmxlbmd0aH1nZXRBdHRyaWJ1dGVzKHQpe2NvbnN0IGU9dGhpcy5fcHJvY2Vzc0F0dHJpYnV0ZXNGb3JPdXRGaWVsZHModCk7cmV0dXJuIHRoaXMuX3Byb2Nlc3NBdHRyaWJ1dGVzRm9yRGlzdGluY3RWYWx1ZXMoZSl9Z2V0RmllbGRWYWx1ZSh0LGkscyl7Y29uc3QgYT1zP3MubmFtZTppO2xldCBsPW51bGw7cmV0dXJuIHRoaXMuX2ZpZWxkRGF0YUNhY2hlLmhhcyhhKT9sPXRoaXMuX2ZpZWxkRGF0YUNhY2hlLmdldChhKT8uY2xhdXNlOnN8fChsPWUoaSx0aGlzLmZpZWxkc0luZGV4KSx0aGlzLl9maWVsZERhdGFDYWNoZS5zZXQoYSx7YWxpYXM6YSxjbGF1c2U6bH0pKSxzP3RoaXMuZmVhdHVyZUFkYXB0ZXIuZ2V0QXR0cmlidXRlKHQsYSk6bD8uY2FsY3VsYXRlVmFsdWUodCx0aGlzLmZlYXR1cmVBZGFwdGVyKX1nZXREYXRhVmFsdWVzKHQsZSxpPSEwKXtjb25zdCBzPWUubm9ybWFsaXphdGlvblR5cGUsZD1lLm5vcm1hbGl6YXRpb25Ub3RhbCxjPXRoaXMuZmllbGRzSW5kZXguZ2V0KGUuZmllbGQpLGg9YShjKXx8bChjKSxmPXIoYyk7cmV0dXJuIHQubWFwKCh0PT57bGV0IGE9ZS5maWVsZCYmdGhpcy5nZXRGaWVsZFZhbHVlKHQsZS5maWVsZCx0aGlzLmZpZWxkc0luZGV4LmdldChlLmZpZWxkKSk7aWYoZS5maWVsZDI/KGE9YCR7dShhKX0ke2UuZmllbGREZWxpbWl0ZXJ9JHt1KHRoaXMuZ2V0RmllbGRWYWx1ZSh0LGUuZmllbGQyLHRoaXMuZmllbGRzSW5kZXguZ2V0KGUuZmllbGQyKSkpfWAsZS5maWVsZDMmJihhPWAke2F9JHtlLmZpZWxkRGVsaW1pdGVyfSR7dSh0aGlzLmdldEZpZWxkVmFsdWUodCxlLmZpZWxkMyx0aGlzLmZpZWxkc0luZGV4LmdldChlLmZpZWxkMykpKX1gKSk6XCJzdHJpbmdcIj09dHlwZW9mIGEmJmkmJihoP2E9YT9uZXcgRGF0ZShhKS5nZXRUaW1lKCk6bnVsbDpmJiYoYT1hP24oYSk6bnVsbCkpLHMmJk51bWJlci5pc0Zpbml0ZShhKSl7Y29uc3QgaT1cImZpZWxkXCI9PT1zJiZlLm5vcm1hbGl6YXRpb25GaWVsZD90aGlzLmdldEZpZWxkVmFsdWUodCxlLm5vcm1hbGl6YXRpb25GaWVsZCx0aGlzLmZpZWxkc0luZGV4LmdldChlLm5vcm1hbGl6YXRpb25GaWVsZCkpOm51bGw7YT1vKGEscyxpLGQpfXJldHVybiBhfSkpfWFzeW5jIGdldEV4cHJlc3Npb25WYWx1ZXModCxlLGksYSxsKXtjb25zdHthcmNhZGVVdGlsczpyfT1hd2FpdCBkKCksbj1yLmhhc0dlb21ldHJ5T3BlcmF0aW9ucyhlKTtuJiZhd2FpdCByLmVuYWJsZUdlb21ldHJ5T3BlcmF0aW9ucygpO2NvbnN0IHU9ci5jcmVhdGVGdW5jdGlvbihlKSxvPXIuZ2V0Vmlld0luZm8oaSksYz17ZmllbGRzOnRoaXMuZmllbGRzSW5kZXguZmllbGRzfTtyZXR1cm4gdC5tYXAoKHQ9Pntjb25zdCBlPXthdHRyaWJ1dGVzOnRoaXMuZmVhdHVyZUFkYXB0ZXIuZ2V0QXR0cmlidXRlcyh0KSxsYXllcjpjLGdlb21ldHJ5Om4/ey4uLnMoYS5nZW9tZXRyeVR5cGUsYS5oYXNaLGEuaGFzTSx0aGlzLmZlYXR1cmVBZGFwdGVyLmdldEdlb21ldHJ5KHQpKSxzcGF0aWFsUmVmZXJlbmNlOmk/LnNwYXRpYWxSZWZlcmVuY2V9Om51bGx9LGQ9ci5jcmVhdGVFeGVjQ29udGV4dChlLG8sbCk7cmV0dXJuIHIuZXhlY3V0ZUZ1bmN0aW9uKHUsZCl9KSl9dmFsaWRhdGVJdGVtKHQsaSl7cmV0dXJuIHRoaXMuX2ZpZWxkRGF0YUNhY2hlLmhhcyhpKXx8dGhpcy5fZmllbGREYXRhQ2FjaGUuc2V0KGkse2FsaWFzOmksY2xhdXNlOmUoaSx0aGlzLmZpZWxkc0luZGV4KX0pLHRoaXMuX2ZpZWxkRGF0YUNhY2hlLmdldChpKT8uY2xhdXNlPy50ZXN0RmVhdHVyZSh0LHRoaXMuZmVhdHVyZUFkYXB0ZXIpPz8hMX12YWxpZGF0ZUl0ZW1zKHQsaSl7cmV0dXJuIHRoaXMuX2ZpZWxkRGF0YUNhY2hlLmhhcyhpKXx8dGhpcy5fZmllbGREYXRhQ2FjaGUuc2V0KGkse2FsaWFzOmksY2xhdXNlOmUoaSx0aGlzLmZpZWxkc0luZGV4KX0pLHRoaXMuX2ZpZWxkRGF0YUNhY2hlLmdldChpKT8uY2xhdXNlPy50ZXN0U2V0KHQsdGhpcy5mZWF0dXJlQWRhcHRlcik/PyExfV9wcm9jZXNzQXR0cmlidXRlc0Zvck91dEZpZWxkcyh0KXtjb25zdCBlPXRoaXMub3V0RmllbGRzO2lmKCFlPy5sZW5ndGgpcmV0dXJuIHRoaXMuZmVhdHVyZUFkYXB0ZXIuZ2V0QXR0cmlidXRlcyh0KTtjb25zdCBpPXt9O2Zvcihjb25zdCBzIG9mIGUpe2NvbnN0e2FsaWFzOmUsY2xhdXNlOmF9PXRoaXMuX2ZpZWxkRGF0YUNhY2hlLmdldChzKTtpW2VdPWE/YS5jYWxjdWxhdGVWYWx1ZSh0LHRoaXMuZmVhdHVyZUFkYXB0ZXIpOnRoaXMuZmVhdHVyZUFkYXB0ZXIuZ2V0QXR0cmlidXRlKHQsZSl9cmV0dXJuIGl9X3Byb2Nlc3NBdHRyaWJ1dGVzRm9yRGlzdGluY3RWYWx1ZXModCl7aWYobnVsbD09dHx8IXRoaXMucmV0dXJuRGlzdGluY3RWYWx1ZXMpcmV0dXJuIHQ7Y29uc3QgZT10aGlzLm91dEZpZWxkcyxpPVtdO2lmKGUpZm9yKGNvbnN0IGwgb2YgZSl7Y29uc3R7YWxpYXM6ZX09dGhpcy5fZmllbGREYXRhQ2FjaGUuZ2V0KGwpO2kucHVzaCh0W2VdKX1lbHNlIGZvcihjb25zdCBsIGluIHQpaS5wdXNoKHRbbF0pO2NvbnN0IHM9YCR7KGV8fFtcIipcIl0pLmpvaW4oXCIsXCIpfT0ke2kuam9pbihcIixcIil9YDtsZXQgYT10aGlzLl9yZXR1cm5EaXN0aW5jdE1hcC5nZXQocyl8fDA7cmV0dXJuIHRoaXMuX3JldHVybkRpc3RpbmN0TWFwLnNldChzLCsrYSksYT4xP251bGw6dH19ZXhwb3J0e2MgYXMgZGVmYXVsdH07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4zMy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e2luZGV4T2YgYXMgZSxQb3NpdGlvbkhpbnQgYXMgdH1mcm9tXCIuLi8uLi8uLi9jb3JlL2FycmF5VXRpbHMuanNcIjtpbXBvcnR7dG9Db25zdCBhcyBzfWZyb21cIi4uLy4uLy4uL2NvcmUvY29tcGlsZXJVdGlscy5qc1wiO2ltcG9ydCBpIGZyb21cIi4uLy4uLy4uL2NvcmUvRXJyb3IuanNcIjtpbXBvcnRcIi4uLy4uLy4uL2NvcmUvaGFzLmpzXCI7aW1wb3J0e2Nsb25lIGFzIHJ9ZnJvbVwiLi4vLi4vLi4vY29yZS9sYW5nLmpzXCI7aW1wb3J0e3JlbW92ZU1heWJlIGFzIGEsZGVzdHJveU1heWJlIGFzIG59ZnJvbVwiLi4vLi4vLi4vY29yZS9tYXliZS5qc1wiO2ltcG9ydHtzaWduYWxGcm9tU2lnbmFsT3JPcHRpb25zIGFzIHUsdGhyb3dJZkFib3J0ZWQgYXMgbH1mcm9tXCIuLi8uLi8uLi9jb3JlL3Byb21pc2VVdGlscy5qc1wiO2ltcG9ydHtnZXRNZXRlcnNQZXJVbml0Rm9yU1IgYXMgb31mcm9tXCIuLi8uLi8uLi9jb3JlL3VuaXRVdGlscy5qc1wiO2ltcG9ydHtpc1NlcmlhbGl6YWJsZSBhcyBofWZyb21cIi4uLy4uLy4uL2NvcmUvc3VwcG9ydC9qc29uVXRpbHMuanNcIjtpbXBvcnR7Z2V0VHJhbnNmb3JtYXRpb24gYXMgY31mcm9tXCIuLi8uLi8uLi9nZW9tZXRyeS9wcm9qZWN0aW9uVXRpbHMuanNcIjtpbXBvcnR7c2V0IGFzIG0sY3JlYXRlIGFzIGYsZXhwYW5kV2l0aEFBQkIgYXMgZCxuZWdhdGl2ZUluZmluaXR5IGFzIHl9ZnJvbVwiLi4vLi4vLi4vZ2VvbWV0cnkvc3VwcG9ydC9hYUJvdW5kaW5nQm94LmpzXCI7aW1wb3J0e2Zyb21WYWx1ZXMgYXMgcCxjcmVhdGUgYXMgZ31mcm9tXCIuLi8uLi8uLi9nZW9tZXRyeS9zdXBwb3J0L2FhQm91bmRpbmdSZWN0LmpzXCI7aW1wb3J0e2dldEJvdW5kc1hZIGFzIHh9ZnJvbVwiLi4vLi4vLi4vZ2VvbWV0cnkvc3VwcG9ydC9ib3VuZHNVdGlscy5qc1wiO2ltcG9ydHtpc0V4dGVudCBhcyB3LGlzUG9seWdvbiBhcyBGfWZyb21cIi4uLy4uLy4uL2dlb21ldHJ5L3N1cHBvcnQvanNvblV0aWxzLmpzXCI7aW1wb3J0e2VxdWFscyBhcyBfLGlzVmFsaWQgYXMgU31mcm9tXCIuLi8uLi8uLi9nZW9tZXRyeS9zdXBwb3J0L3NwYXRpYWxSZWZlcmVuY2VVdGlscy5qc1wiO2ltcG9ydHtjb252ZXJ0RnJvbUdlb21ldHJ5IGFzIFJ9ZnJvbVwiLi4vZmVhdHVyZUNvbnZlcnNpb25VdGlscy5qc1wiO2ltcG9ydHtnZXRXaGVyZUNsYXVzZSBhcyBJfWZyb21cIi4vYXR0cmlidXRlU3VwcG9ydC5qc1wiO2ltcG9ydHtjbGVhbkZyb21HZW9tZXRyeUVuZ2luZSBhcyBRLGdldEdlb21ldHJ5IGFzIGp9ZnJvbVwiLi9nZW9tZXRyeVV0aWxzLmpzXCI7aW1wb3J0e3Byb2plY3QgYXMgRSxwcm9qZWN0TWFueSBhcyBifWZyb21cIi4vcHJvamVjdGlvblN1cHBvcnQuanNcIjtpbXBvcnR7UXVlcnlFbmdpbmVDYWNoZSBhcyBBfWZyb21cIi4vUXVlcnlFbmdpbmVDYWNoZS5qc1wiO2ltcG9ydHtxdWVyeUNhcGFiaWxpdGllcyBhcyBUfWZyb21cIi4vUXVlcnlFbmdpbmVDYXBhYmlsaXRpZXMuanNcIjtpbXBvcnR7UXVlcnlFbmdpbmVSZXN1bHQgYXMgdn1mcm9tXCIuL1F1ZXJ5RW5naW5lUmVzdWx0LmpzXCI7aW1wb3J0e3F1ZXJ5RW5naW5lRW1wdHlSZXN1bHQgYXMgQyxub3JtYWxpemVBdHRyaWJ1dGVCaW5zUXVlcnkgYXMgUCxub3JtYWxpemVRdWVyeSBhcyBNfWZyb21cIi4vcXVlcnlVdGlscy5qc1wiO2ltcG9ydHt2YWxpZGF0ZUF0dHJpYnV0ZUJpbnNRdWVyeSBhcyB6LHZhbGlkYXRlUXVlcnkgYXMgRyx2YWxpZGF0ZVN0YXRpc3RpY3NRdWVyeSBhcyBPfWZyb21cIi4vcXVlcnlWYWxpZGF0aW9uVXRpbHMuanNcIjtpbXBvcnR7Z2V0U3BhdGlhbFF1ZXJ5T3BlcmF0b3IgYXMgVSxjYW5RdWVyeVdpdGhSQnVzaCBhcyBxfWZyb21cIi4vc3BhdGlhbFF1ZXJ5U3VwcG9ydC5qc1wiO2ltcG9ydHtnZXRUaW1lRXh0ZW50IGFzIGssZ2V0VGltZU9wZXJhdG9yIGFzIEJ9ZnJvbVwiLi90aW1lU3VwcG9ydC5qc1wiO2ltcG9ydCBaIGZyb21cIi4uLy4uL3N1cHBvcnQvRmllbGRzSW5kZXguanNcIjtpbXBvcnR7bm9CdWRnZXQgYXMgSH1mcm9tXCIuLi8uLi8uLi92aWV3cy9zdXBwb3J0L1NjaGVkdWxlci5qc1wiO2NvbnN0IE49XCJ1bnN1cHBvcnRlZC1xdWVyeVwiO2NsYXNzIEp7Y29uc3RydWN0b3IoZSx0PW51bGwscyxpLHIpe3RoaXMuYXR0cmlidXRlcz1lLHRoaXMuZ2VvbWV0cnk9cyx0aGlzLmNlbnRyb2lkPWksdGhpcy5maWx0ZXJGbGFncz1yLHRoaXMuZ3JvdXBJZD0tMSx0aGlzLmRpc3BsYXlJZD10fX1jbGFzcyBMe2NvbnN0cnVjdG9yKGUpe3RoaXMuX2NoYW5nZUhhbmRsZT1udWxsLHRoaXMuY2FwYWJpbGl0aWVzPXtxdWVyeTpUfSx0aGlzLmdlb21ldHJ5VHlwZT1lLmdlb21ldHJ5VHlwZSx0aGlzLmhhc009ISFlLmhhc00sdGhpcy5oYXNaPSEhZS5oYXNaLHRoaXMuc3BhdGlhbFJlZmVyZW5jZT1lLnNwYXRpYWxSZWZlcmVuY2UsdGhpcy5kZWZpbml0aW9uRXhwcmVzc2lvbj1lLmRlZmluaXRpb25FeHByZXNzaW9uLHRoaXMuZmVhdHVyZVN0b3JlPWUuZmVhdHVyZVN0b3JlLHRoaXMuYWdncmVnYXRlQWRhcHRlcj1lLmFnZ3JlZ2F0ZUFkYXB0ZXIsdGhpcy5fY2FjaGU9ZS5jYWNoZT8/bmV3IEEsdGhpcy50aW1lSW5mbz1lLnRpbWVJbmZvLHRoaXMuZmVhdHVyZUlkSW5mbz1lLmZlYXR1cmVJZEluZm8sXCJvYmplY3QtaWRcIj09PWUuZmVhdHVyZUlkSW5mby50eXBlJiYodGhpcy5vYmplY3RJZEZpZWxkPWUuZmVhdHVyZUlkSW5mby5maWVsZE5hbWUpLHRoaXMuX2NoYW5nZUhhbmRsZT10aGlzLmZlYXR1cmVTdG9yZS5ldmVudHMub24oXCJjaGFuZ2VkXCIsKCgpPT50aGlzLl9jbGVhckNhY2hlKCkpKSx0aGlzLmZpZWxkc0luZGV4PWgoZS5maWVsZHNJbmRleCk/ZS5maWVsZHNJbmRleDpaLmZyb21KU09OKGUuZmllbGRzSW5kZXgpLCFlLmF2YWlsYWJsZUZpZWxkc3x8MT09PWUuYXZhaWxhYmxlRmllbGRzLmxlbmd0aCYmXCIqXCI9PT1lLmF2YWlsYWJsZUZpZWxkc1swXT90aGlzLmF2YWlsYWJsZUZpZWxkcz1uZXcgU2V0KHRoaXMuZmllbGRzSW5kZXguZmllbGRzLm1hcCgoZT0+ZS5uYW1lKSkpOnRoaXMuYXZhaWxhYmxlRmllbGRzPW5ldyBTZXQoZS5hdmFpbGFibGVGaWVsZHMubWFwKChlPT50aGlzLmZpZWxkc0luZGV4LmdldChlKT8ubmFtZSkpLmZpbHRlcigoZT0+bnVsbCE9ZSkpKSxlLnNjaGVkdWxlciYmZS5wcmlvcml0eSYmKHRoaXMuX2ZyYW1lVGFzaz1lLnNjaGVkdWxlci5yZWdpc3RlclRhc2soZS5wcmlvcml0eSkpfWRlc3Ryb3koKXt0aGlzLl9jaGFuZ2VIYW5kbGU9YSh0aGlzLl9jaGFuZ2VIYW5kbGUpLHRoaXMuX2ZyYW1lVGFzaz1hKHRoaXMuX2ZyYW1lVGFzayksdGhpcy5fY2xlYXJDYWNoZSgpLG4odGhpcy5fY2FjaGUpfWdldCBmZWF0dXJlQWRhcHRlcigpe3JldHVybiB0aGlzLmZlYXR1cmVTdG9yZS5mZWF0dXJlQWRhcHRlcn1fY2xlYXJDYWNoZSgpe3RoaXMuX2NhY2hlLmNsZWFyKCksdGhpcy5fYWxsRmVhdHVyZXNQcm9taXNlPW51bGwsdGhpcy5fdGltZUV4dGVudFByb21pc2U9bnVsbCx0aGlzLl9mdWxsRXh0ZW50UHJvbWlzZT1udWxsfWFzeW5jIGV4ZWN1dGVRdWVyeShlLHQpe2NvbnN0IHM9dSh0KTt0cnl7Y29uc3QgdD1hd2FpdCB0aGlzLl9leGVjdXRlUXVlcnkoZSx7fSxzKTtyZXR1cm4gYXdhaXQgdC5jcmVhdGVRdWVyeVJlc3BvbnNlKCl9Y2F0Y2goaSl7aWYoaSE9PUMpdGhyb3cgaTtyZXR1cm4gbmV3IHYoW10sZSx0aGlzKS5jcmVhdGVRdWVyeVJlc3BvbnNlKCl9fWFzeW5jIGV4ZWN1dGVRdWVyeUZvckNvdW50KGU9e30sdCl7Y29uc3Qgcz11KHQpO3RyeXtyZXR1cm4oYXdhaXQgdGhpcy5fZXhlY3V0ZVF1ZXJ5KGUse3JldHVybkdlb21ldHJ5OiExLHJldHVybkNlbnRyb2lkOiExLG91dFNSOm51bGx9LHMpKS5jcmVhdGVRdWVyeVJlc3BvbnNlRm9yQ291bnQoKX1jYXRjaChpKXtpZihpIT09Qyl0aHJvdyBpO3JldHVybiAwfX1hc3luYyBleGVjdXRlUXVlcnlGb3JFeHRlbnQoZSx0KXtjb25zdCBzPXUodCksaT1lLm91dFNSO3RyeXtjb25zdCB0PWF3YWl0IHRoaXMuX2V4ZWN1dGVRdWVyeShlLHtyZXR1cm5HZW9tZXRyeTohMCxyZXR1cm5DZW50cm9pZDohMSxvdXRTUjpudWxsfSxzKSxyPXQuc2l6ZTtpZighcilyZXR1cm57Y291bnQ6MCxleHRlbnQ6bnVsbH07cmV0dXJue2NvdW50OnIsZXh0ZW50OmF3YWl0IHRoaXMuX2dldEJvdW5kcyh0Lml0ZW1zLHQuc3BhdGlhbFJlZmVyZW5jZSxpfHx0aGlzLnNwYXRpYWxSZWZlcmVuY2UpfX1jYXRjaChyKXtpZihyPT09QylyZXR1cm57Y291bnQ6MCxleHRlbnQ6bnVsbH07dGhyb3cgcn19YXN5bmMgZXhlY3V0ZVF1ZXJ5Rm9ySWRzKGUsdCl7cmV0dXJuIHRoaXMuZXhlY3V0ZVF1ZXJ5Rm9ySWRTZXQoZSx0KS50aGVuKChlPT5BcnJheS5mcm9tKGUpKSl9YXN5bmMgZXhlY3V0ZVF1ZXJ5Rm9ySWRTZXQoZSx0KXtjb25zdCBzPXUodCk7dHJ5e2NvbnN0IHQ9YXdhaXQgdGhpcy5fZXhlY3V0ZVF1ZXJ5KGUse3JldHVybkdlb21ldHJ5OiEwLHJldHVybkNlbnRyb2lkOiExLG91dFNSOm51bGx9LHMpLGk9dC5pdGVtcyxyPW5ldyBTZXQ7cmV0dXJuIGF3YWl0IHRoaXMucmVzY2hlZHVsZSgoKCk9Pntmb3IoY29uc3QgZSBvZiBpKXIuYWRkKHQuZmVhdHVyZUFkYXB0ZXIuZ2V0T2JqZWN0SWQoZSkpfSkscykscn1jYXRjaChpKXtpZihpPT09QylyZXR1cm4gbmV3IFNldDt0aHJvdyBpfX1hc3luYyBleGVjdXRlUXVlcnlGb3JMYXRlc3RPYnNlcnZhdGlvbnMoZSx0KXtjb25zdCBzPXUodCk7aWYoIXRoaXMudGltZUluZm8/LnRyYWNrSWRGaWVsZCl0aHJvdyBuZXcgaShOLFwiTWlzc2luZyB0aW1lSW5mbyBvciB0aW1lSW5mby50cmFja0lkRmllbGRcIix7cXVlcnk6ZSx0aW1lSW5mbzp0aGlzLnRpbWVJbmZvfSk7dHJ5e2NvbnN0IHQ9YXdhaXQgdGhpcy5fZXhlY3V0ZVF1ZXJ5KGUse30scyk7cmV0dXJuIGF3YWl0IHRoaXMucmVzY2hlZHVsZSgoKCk9PnRoaXMuX2ZpbHRlckxhdGVzdCh0KSkscyksYXdhaXQgdC5jcmVhdGVRdWVyeVJlc3BvbnNlKCl9Y2F0Y2gocil7aWYociE9PUMpdGhyb3cgcjtyZXR1cm4gbmV3IHYoW10sZSx0aGlzKS5jcmVhdGVRdWVyeVJlc3BvbnNlKCl9fWFzeW5jIGV4ZWN1dGVBdHRyaWJ1dGVCaW5zUXVlcnkoZSx0KXtjb25zdCBzPXUodCk7bGV0IGk7ZT1yKGUpO3RyeXtlPWF3YWl0IHRoaXMuc2NoZWR1bGUoKCgpPT5QKGUsdGhpcy5kZWZpbml0aW9uRXhwcmVzc2lvbix0aGlzLnNwYXRpYWxSZWZlcmVuY2UpKSxzKSxlPWF3YWl0IHRoaXMucmVzY2hlZHVsZSgoKCk9PnooZSx7YXZhaWxhYmxlRmllbGRzOnRoaXMuYXZhaWxhYmxlRmllbGRzLGZpZWxkc0luZGV4OnRoaXMuZmllbGRzSW5kZXgsZ2VvbWV0cnlUeXBlOnRoaXMuZ2VvbWV0cnlUeXBlLHNwYXRpYWxSZWZlcmVuY2U6dGhpcy5zcGF0aWFsUmVmZXJlbmNlfSkpLHMpO2NvbnN0IHQ9YXdhaXQgdGhpcy5yZXNjaGVkdWxlKCgoKT0+dGhpcy5fZXhlY3V0ZVNjZW5lRmlsdGVyUXVlcnkoZSxzKSkscyk7aT1hd2FpdCB0aGlzLnJlc2NoZWR1bGUoKCgpPT50aGlzLl9leGVjdXRlR2VvbWV0cnlRdWVyeShlLHQscykpLHMpLGF3YWl0IHRoaXMucmVzY2hlZHVsZSgoKCk9PnRoaXMuX2V4ZWN1dGVBZ2dyZWdhdGVJZHNRdWVyeShpKSkscyksYXdhaXQgdGhpcy5yZXNjaGVkdWxlKCgoKT0+dGhpcy5leGVjdXRlT2JqZWN0SWRzUXVlcnkoaSkpLHMpLGF3YWl0IHRoaXMucmVzY2hlZHVsZSgoKCk9PnRoaXMuZXhlY3V0ZVRpbWVRdWVyeShpKSkscyksYXdhaXQgdGhpcy5yZXNjaGVkdWxlKCgoKT0+dGhpcy5leGVjdXRlQXR0cmlidXRlc1F1ZXJ5KGkpKSxzKX1jYXRjaChhKXtpZihhIT09Qyl0aHJvdyBhO2k9bmV3IHYoW10sZSx0aGlzKX1yZXR1cm4gaS5jcmVhdGVRdWVyeUJpbnNSZXNwb25zZShlKX1hc3luYyBleGVjdXRlUXVlcnlGb3JTdW1tYXJ5U3RhdGlzdGljcyhlPXt9LHQscyl7Y29uc3QgaT11KHMpLHtmaWVsZDpyLG5vcm1hbGl6YXRpb25GaWVsZDphLHZhbHVlRXhwcmVzc2lvbjpufT10O3JldHVybihhd2FpdCB0aGlzLl9leGVjdXRlUXVlcnlGb3JTdGF0aXN0aWNzKGUse2ZpZWxkOnIsbm9ybWFsaXphdGlvbkZpZWxkOmEsdmFsdWVFeHByZXNzaW9uOm59LGkpKS5jcmVhdGVTdW1tYXJ5U3RhdGlzdGljc1Jlc3BvbnNlKHQpfWFzeW5jIGV4ZWN1dGVRdWVyeUZvclVuaXF1ZVZhbHVlcyhlPXt9LHQscyl7Y29uc3QgaT11KHMpLHtmaWVsZDpyLGZpZWxkMjphLGZpZWxkMzpuLHZhbHVlRXhwcmVzc2lvbjpsfT10O3JldHVybihhd2FpdCB0aGlzLl9leGVjdXRlUXVlcnlGb3JTdGF0aXN0aWNzKGUse2ZpZWxkOnIsZmllbGQyOmEsZmllbGQzOm4sdmFsdWVFeHByZXNzaW9uOmx9LGkpKS5jcmVhdGVVbmlxdWVWYWx1ZXNSZXNwb25zZSh0KX1hc3luYyBleGVjdXRlUXVlcnlGb3JDbGFzc0JyZWFrcyhlPXt9LHQscyl7Y29uc3QgaT11KHMpLHtmaWVsZDpyLG5vcm1hbGl6YXRpb25GaWVsZDphLHZhbHVlRXhwcmVzc2lvbjpufT10O3JldHVybihhd2FpdCB0aGlzLl9leGVjdXRlUXVlcnlGb3JTdGF0aXN0aWNzKGUse2ZpZWxkOnIsbm9ybWFsaXphdGlvbkZpZWxkOmEsdmFsdWVFeHByZXNzaW9uOm59LGkpKS5jcmVhdGVDbGFzc0JyZWFrc1Jlc3BvbnNlKHQpfWFzeW5jIGV4ZWN1dGVRdWVyeUZvckhpc3RvZ3JhbShlPXt9LHQscyl7Y29uc3QgaT11KHMpLHtmaWVsZDpyLG5vcm1hbGl6YXRpb25GaWVsZDphLHZhbHVlRXhwcmVzc2lvbjpufT10O3JldHVybihhd2FpdCB0aGlzLl9leGVjdXRlUXVlcnlGb3JTdGF0aXN0aWNzKGUse2ZpZWxkOnIsbm9ybWFsaXphdGlvbkZpZWxkOmEsdmFsdWVFeHByZXNzaW9uOm59LGkpKS5jcmVhdGVIaXN0b2dyYW1SZXNwb25zZSh0KX1hc3luYyBmZXRjaFJlY29tcHV0ZWRFeHRlbnRzKGUpe2NvbnN0IHQ9dShlKTt0aGlzLl90aW1lRXh0ZW50UHJvbWlzZXx8PWsodGhpcy50aW1lSW5mbyx0aGlzLmZlYXR1cmVTdG9yZSk7Y29uc3RbcyxpXT1hd2FpdCBQcm9taXNlLmFsbChbdGhpcy5fZ2V0RnVsbEV4dGVudCgpLHRoaXMuX3RpbWVFeHRlbnRQcm9taXNlXSk7cmV0dXJuIGwodCkse2Z1bGxFeHRlbnQ6cyx0aW1lRXh0ZW50Oml9fWFzeW5jIF9nZXRCb3VuZHMoZSx0LHMpe2NvbnN0IGk9bShmKCkseSk7YXdhaXQgdGhpcy5mZWF0dXJlU3RvcmUuZm9yRWFjaEJvdW5kcyhlLChlPT5kKGksZSkpKTtjb25zdCByPXt4bWluOmlbMF0seW1pbjppWzFdLHhtYXg6aVszXSx5bWF4OmlbNF0sc3BhdGlhbFJlZmVyZW5jZTpRKHRoaXMuc3BhdGlhbFJlZmVyZW5jZSl9O3RoaXMuaGFzWiYmaXNGaW5pdGUoaVsyXSkmJmlzRmluaXRlKGlbNV0pJiYoci56bWluPWlbMl0sci56bWF4PWlbNV0sci5oYXNaPSEwKTtjb25zdCBhPUUocix0LHMpO2lmKGEuc3BhdGlhbFJlZmVyZW5jZT1RKHMpLGEueG1heC1hLnhtaW49PT0wKXtjb25zdCBlPW8oYS5zcGF0aWFsUmVmZXJlbmNlKTthLnhtaW4tPWUsYS54bWF4Kz1lfWlmKGEueW1heC1hLnltaW49PT0wKXtjb25zdCBlPW8oYS5zcGF0aWFsUmVmZXJlbmNlKTthLnltaW4tPWUsYS55bWF4Kz1lfWlmKHRoaXMuaGFzWiYmbnVsbCE9YS56bWluJiZudWxsIT1hLnptYXgmJmEuem1heC1hLnptaW49PT0wKXtjb25zdCBlPW8oYS5zcGF0aWFsUmVmZXJlbmNlKTthLnptaW4tPWUsYS56bWF4Kz1lfXJldHVybiBhfV9nZXRGdWxsRXh0ZW50KCl7cmV0dXJuIHRoaXMuX2Z1bGxFeHRlbnRQcm9taXNlfHw9XCJnZXRGdWxsRXh0ZW50XCJpbiB0aGlzLmZlYXR1cmVTdG9yZSYmdGhpcy5mZWF0dXJlU3RvcmUuZ2V0RnVsbEV4dGVudD9Qcm9taXNlLnJlc29sdmUodGhpcy5mZWF0dXJlU3RvcmUuZ2V0RnVsbEV4dGVudCh0aGlzLnNwYXRpYWxSZWZlcmVuY2UpKTp0aGlzLl9nZXRBbGxGZWF0dXJlcygpLnRoZW4oKGU9PnRoaXMuX2dldEJvdW5kcyhlLHRoaXMuc3BhdGlhbFJlZmVyZW5jZSx0aGlzLnNwYXRpYWxSZWZlcmVuY2UpKSksdGhpcy5fZnVsbEV4dGVudFByb21pc2V9YXN5bmMgc2NoZWR1bGUoZSx0KXtyZXR1cm4gdGhpcy5fZnJhbWVUYXNrPy5zY2hlZHVsZShlLHQpPz9lKEgpfWFzeW5jIHJlc2NoZWR1bGUoZSx0KXtyZXR1cm4gdGhpcy5fZnJhbWVUYXNrPy5yZXNjaGVkdWxlKGUsdCk/P2UoSCl9YXN5bmMgX2dldEFsbEZlYXR1cmVzUXVlcnlFbmdpbmVSZXN1bHQoZSl7cmV0dXJuIG5ldyB2KGF3YWl0IHRoaXMuX2dldEFsbEZlYXR1cmVzKCksZSx0aGlzKX1hc3luYyBfZ2V0QWxsRmVhdHVyZXMoKXtpZihudWxsPT10aGlzLl9hbGxGZWF0dXJlc1Byb21pc2Upe2NvbnN0IGU9W107dGhpcy5fYWxsRmVhdHVyZXNQcm9taXNlPShhc3luYygpPT5hd2FpdCB0aGlzLmZlYXR1cmVTdG9yZS5mb3JFYWNoKCh0PT5lLnB1c2godCkpKSkoKS50aGVuKCgoKT0+cyhlKSkpfWNvbnN0IGU9dGhpcy5fYWxsRmVhdHVyZXNQcm9taXNlLHQ9YXdhaXQgZTtyZXR1cm4gZT09PXRoaXMuX2FsbEZlYXR1cmVzUHJvbWlzZT90LnNsaWNlKCk6dGhpcy5fZ2V0QWxsRmVhdHVyZXMoKX1hc3luYyBfZXhlY3V0ZVF1ZXJ5KGUsdCxzKXtlPXIoZSksZT1hd2FpdCB0aGlzLnNjaGVkdWxlKCgoKT0+TShlLHRoaXMuZGVmaW5pdGlvbkV4cHJlc3Npb24sdGhpcy5zcGF0aWFsUmVmZXJlbmNlKSkscyksZT1hd2FpdCB0aGlzLnJlc2NoZWR1bGUoKCgpPT5HKGUse2F2YWlsYWJsZUZpZWxkczp0aGlzLmF2YWlsYWJsZUZpZWxkcyxmaWVsZHNJbmRleDp0aGlzLmZpZWxkc0luZGV4LGdlb21ldHJ5VHlwZTp0aGlzLmdlb21ldHJ5VHlwZSxzcGF0aWFsUmVmZXJlbmNlOnRoaXMuc3BhdGlhbFJlZmVyZW5jZX0pKSxzKSxlPXsuLi5lLC4uLnR9O2NvbnN0IGk9YXdhaXQgdGhpcy5yZXNjaGVkdWxlKCgoKT0+dGhpcy5fZXhlY3V0ZVNjZW5lRmlsdGVyUXVlcnkoZSxzKSkscyksYT1hd2FpdCB0aGlzLnJlc2NoZWR1bGUoKCgpPT50aGlzLl9leGVjdXRlR2VvbWV0cnlRdWVyeShlLGkscykpLHMpO3JldHVybiBhd2FpdCB0aGlzLnJlc2NoZWR1bGUoKCgpPT50aGlzLl9leGVjdXRlQWdncmVnYXRlSWRzUXVlcnkoYSkpLHMpLGF3YWl0IHRoaXMucmVzY2hlZHVsZSgoKCk9PnRoaXMuZXhlY3V0ZU9iamVjdElkc1F1ZXJ5KGEpKSxzKSxhd2FpdCB0aGlzLnJlc2NoZWR1bGUoKCgpPT50aGlzLmV4ZWN1dGVUaW1lUXVlcnkoYSkpLHMpLGF3YWl0IHRoaXMucmVzY2hlZHVsZSgoKCk9PnRoaXMuZXhlY3V0ZUF0dHJpYnV0ZXNRdWVyeShhKSkscyksYX1hc3luYyBfZXhlY3V0ZVNjZW5lRmlsdGVyUXVlcnkoZSx0KXtpZihudWxsPT1lLnNjZW5lRmlsdGVyKXJldHVybiBudWxsO2NvbnN0e291dFNSOnMscmV0dXJuR2VvbWV0cnk6aSxyZXR1cm5DZW50cm9pZDpyfT1lLGE9dGhpcy5mZWF0dXJlU3RvcmUuZmVhdHVyZVNwYXRpYWxSZWZlcmVuY2Usbj1lLnNjZW5lRmlsdGVyLmdlb21ldHJ5LHU9bnVsbD09YXx8XyhhLG4uc3BhdGlhbFJlZmVyZW5jZSk/bjpFKG4sYSk7aWYoIXUpcmV0dXJuIG51bGw7Y29uc3QgbD1pfHxyLG89UyhzKSYmIV8odGhpcy5zcGF0aWFsUmVmZXJlbmNlLHMpJiZsP2FzeW5jIGU9PnRoaXMuX3Byb2plY3QoZSxzKTplPT5lLGg9dGhpcy5mZWF0dXJlQWRhcHRlcixjPWF3YWl0IHRoaXMucmVzY2hlZHVsZSgoKCk9PnRoaXMuc2VhcmNoRmVhdHVyZXMoVih1KSkpLHQpO2lmKFwiZGlzam9pbnRcIj09PWUuc2NlbmVGaWx0ZXIuc3BhdGlhbFJlbGF0aW9uc2hpcCl7aWYoIWMubGVuZ3RoKXJldHVybiBudWxsO2NvbnN0IHM9bmV3IFNldDtmb3IoY29uc3QgZSBvZiBjKXMuYWRkKGguZ2V0T2JqZWN0SWQoZSkpO2NvbnN0IGk9YXdhaXQgdGhpcy5yZXNjaGVkdWxlKCgoKT0+dGhpcy5fZ2V0QWxsRmVhdHVyZXMoKSksdCkscj1hd2FpdCB0aGlzLnJlc2NoZWR1bGUoKGFzeW5jKCk9Pntjb25zdCByPWF3YWl0IFUoXCJlc3JpU3BhdGlhbFJlbERpc2pvaW50XCIsdSx0aGlzLmdlb21ldHJ5VHlwZSx0aGlzLmhhc1osdGhpcy5oYXNNKSxhPWU9PiFzLmhhcyhoLmdldE9iamVjdElkKGUpKXx8cihoLmdldEdlb21ldHJ5KGUpKSxuPWF3YWl0IHRoaXMucnVuU3BhdGlhbEZpbHRlcihpLGEsdCk7cmV0dXJuIG5ldyB2KG4sZSx0aGlzKX0pLHQpO3JldHVybiBvKHIpfWlmKCFjLmxlbmd0aClyZXR1cm4gbmV3IHYoW10sZSx0aGlzKTtpZih0aGlzLl9jYW5FeGVjdXRlU2luZ2xlUGFzcyh1LGUpKXJldHVybiBvKG5ldyB2KGMsZSx0aGlzKSk7Y29uc3QgbT1hd2FpdCBVKFwiZXNyaVNwYXRpYWxSZWxDb250YWluc1wiLHUsdGhpcy5nZW9tZXRyeVR5cGUsdGhpcy5oYXNaLHRoaXMuaGFzTSksZj1hd2FpdCB0aGlzLnJ1blNwYXRpYWxGaWx0ZXIoYywoZT0+bShoLmdldEdlb21ldHJ5KGUpKSksdCk7cmV0dXJuIG8obmV3IHYoZixlLHRoaXMpKX1hc3luYyBfZXhlY3V0ZUdlb21ldHJ5UXVlcnkocyxpLHIpe2lmKG51bGwhPWkmJjA9PT1pLml0ZW1zLmxlbmd0aClyZXR1cm4gaTtjb25zdHtnZW9tZXRyeTphLG91dFNSOm4scmV0dXJuR2VvbWV0cnk6dSxyZXR1cm5DZW50cm9pZDpsfT1zLG89aT9udWxsOnRoaXMuX2dldENhY2hlS2V5KHMpLGg9bz90aGlzLl9jYWNoZS5nZXQobyk6bnVsbDtpZihoKXJldHVybiBuZXcgdihoLHMsdGhpcyk7Y29uc3QgYz1TKG4pJiYhXyh0aGlzLnNwYXRpYWxSZWZlcmVuY2UsbiksbT11fHxsLGY9YXN5bmMgZT0+KGMmJm0mJmF3YWl0IHRoaXMuX3Byb2plY3QoZSxuKSxvJiZ0aGlzLl9jYWNoZS5wdXQobyxlLml0ZW1zKSxlKSxkPXRoaXMuZmVhdHVyZVN0b3JlLmZlYXR1cmVTcGF0aWFsUmVmZXJlbmNlLHk9IWF8fG51bGw9PWR8fF8oZCxhLnNwYXRpYWxSZWZlcmVuY2UpP2E6RShhLGQpO2lmKCF5KXJldHVybiBmKG51bGwhPWk/aTphd2FpdCB0aGlzLl9nZXRBbGxGZWF0dXJlc1F1ZXJ5RW5naW5lUmVzdWx0KHMpKTtjb25zdCBwPXRoaXMuZmVhdHVyZUFkYXB0ZXI7bGV0IGc9YXdhaXQgdGhpcy5yZXNjaGVkdWxlKCgoKT0+dGhpcy5zZWFyY2hGZWF0dXJlcyhWKGEpKSkscik7Y29uc3QgeD1zLnNwYXRpYWxSZWw/P1wiZXNyaVNwYXRpYWxSZWxJbnRlcnNlY3RzXCI7aWYoXCJlc3JpU3BhdGlhbFJlbERpc2pvaW50XCI9PT14KXtpZighZy5sZW5ndGgpcmV0dXJuIGYobnVsbCE9aT9pOmF3YWl0IHRoaXMuX2dldEFsbEZlYXR1cmVzUXVlcnlFbmdpbmVSZXN1bHQocykpO2NvbnN0IGU9bmV3IFNldDtmb3IoY29uc3QgcyBvZiBnKWUuYWRkKHAuZ2V0T2JqZWN0SWQocykpO2NvbnN0IHQ9bnVsbCE9aT9pLml0ZW1zOmF3YWl0IHRoaXMucmVzY2hlZHVsZSgoKCk9PnRoaXMuX2dldEFsbEZlYXR1cmVzKCkpLHIpLGE9YXdhaXQgdGhpcy5yZXNjaGVkdWxlKChhc3luYygpPT57Y29uc3QgaT1hd2FpdCBVKHgseSx0aGlzLmdlb21ldHJ5VHlwZSx0aGlzLmhhc1osdGhpcy5oYXNNKSxhPXQ9PiFlLmhhcyhwLmdldE9iamVjdElkKHQpKXx8aShwLmdldEdlb21ldHJ5KHQpKSxuPWF3YWl0IHRoaXMucnVuU3BhdGlhbEZpbHRlcih0LGEscik7cmV0dXJuIG5ldyB2KG4scyx0aGlzKX0pLHIpO3JldHVybiBmKGEpfWlmKG51bGwhPWkpe2NvbnN0IHM9bmV3IHQ7Zz1nLmZpbHRlcigodD0+ZShpLml0ZW1zLHQsaS5pdGVtcy5sZW5ndGgscyk+PTApKX1pZighZy5sZW5ndGgpe2NvbnN0IGU9bmV3IHYoW10scyx0aGlzKTtyZXR1cm4gbyYmdGhpcy5fY2FjaGUucHV0KG8sZS5pdGVtcyksZX1pZih0aGlzLl9jYW5FeGVjdXRlU2luZ2xlUGFzcyh5LHMpKXJldHVybiBmKG5ldyB2KGcscyx0aGlzKSk7Y29uc3Qgdz1hd2FpdCBVKHgseSx0aGlzLmdlb21ldHJ5VHlwZSx0aGlzLmhhc1osdGhpcy5oYXNNKSxGPWF3YWl0IHRoaXMucnVuU3BhdGlhbEZpbHRlcihnLChlPT53KHAuZ2V0R2VvbWV0cnkoZSkpKSxyKTtyZXR1cm4gZihuZXcgdihGLHMsdGhpcykpfV9leGVjdXRlQWdncmVnYXRlSWRzUXVlcnkoZSl7aWYoMD09PWUuaXRlbXMubGVuZ3RofHwhZS5xdWVyeS5hZ2dyZWdhdGVJZHM/Lmxlbmd0aHx8bnVsbD09dGhpcy5hZ2dyZWdhdGVBZGFwdGVyKXJldHVybjtjb25zdCB0PW5ldyBTZXQ7Zm9yKGNvbnN0IGkgb2YgZS5xdWVyeS5hZ2dyZWdhdGVJZHMpe3RoaXMuYWdncmVnYXRlQWRhcHRlci5nZXRGZWF0dXJlT2JqZWN0SWRzKGkpLmZvckVhY2goKGU9PnQuYWRkKGUpKSl9Y29uc3Qgcz10aGlzLmZlYXR1cmVBZGFwdGVyLmdldE9iamVjdElkO2UuaXRlbXM9ZS5pdGVtcy5maWx0ZXIoKGU9PnQuaGFzKHMoZSkpKSl9ZXhlY3V0ZU9iamVjdElkc1F1ZXJ5KGUpe2lmKDA9PT1lLml0ZW1zLmxlbmd0aHx8IWUucXVlcnkub2JqZWN0SWRzPy5sZW5ndGgpcmV0dXJuO2NvbnN0IHQ9bmV3IFNldChlLnF1ZXJ5Lm9iamVjdElkcykscz10aGlzLmZlYXR1cmVBZGFwdGVyLmdldE9iamVjdElkO2UuaXRlbXM9ZS5pdGVtcy5maWx0ZXIoKGU9PnQuaGFzKHMoZSkpKSl9ZXhlY3V0ZVRpbWVRdWVyeShlKXtpZigwPT09ZS5pdGVtcy5sZW5ndGgpcmV0dXJuO2NvbnN0IHQ9Qih0aGlzLnRpbWVJbmZvLGUucXVlcnkudGltZUV4dGVudCx0aGlzLmZlYXR1cmVBZGFwdGVyKTtudWxsIT10JiYoZS5pdGVtcz1lLml0ZW1zLmZpbHRlcih0KSl9ZXhlY3V0ZUF0dHJpYnV0ZXNRdWVyeShlKXtpZigwPT09ZS5pdGVtcy5sZW5ndGgpcmV0dXJuO2NvbnN0IHQ9SShlLnF1ZXJ5LndoZXJlLHRoaXMuZmllbGRzSW5kZXgpO2lmKHQpe2lmKCF0LmlzU3RhbmRhcmRpemVkKXRocm93IG5ldyBUeXBlRXJyb3IoXCJXaGVyZSBjbGF1c2UgaXMgbm90IHN0YW5kYXJkaXplZFwiKTtlLml0ZW1zPWUuaXRlbXMuZmlsdGVyKChlPT50LnRlc3RGZWF0dXJlKGUsdGhpcy5mZWF0dXJlQWRhcHRlcikpKX19YXN5bmMgcnVuU3BhdGlhbEZpbHRlcihlLHQscyl7aWYoIXQpcmV0dXJuIGU7aWYobnVsbD09dGhpcy5fZnJhbWVUYXNrKXJldHVybiBlLmZpbHRlcigoZT0+dChlKSkpO2xldCBpPTA7Y29uc3Qgcj1uZXcgQXJyYXksYT1hc3luYyBuPT57Zm9yKDtpPGUubGVuZ3RoOyl7Y29uc3QgdT1lW2krK107dCh1KSYmKHIucHVzaCh1KSxuLm1hZGVQcm9ncmVzcygpKSxuLmRvbmUmJmF3YWl0IHRoaXMucmVzY2hlZHVsZSgoZT0+YShlKSkscyl9fTtyZXR1cm4gdGhpcy5yZXNjaGVkdWxlKChlPT5hKGUpKSxzKS50aGVuKCgoKT0+cikpfV9maWx0ZXJMYXRlc3QoZSl7Y29uc3R7dHJhY2tJZEZpZWxkOnQsc3RhcnRUaW1lRmllbGQ6cyxlbmRUaW1lRmllbGQ6aX09dGhpcy50aW1lSW5mbyxyPWl8fHMsYT1uZXcgTWFwLG49dGhpcy5mZWF0dXJlQWRhcHRlci5nZXRBdHRyaWJ1dGU7Zm9yKGNvbnN0IHUgb2YgZS5pdGVtcyl7Y29uc3QgZT1uKHUsdCkscz1uKHUsciksaT1hLmdldChlKTsoIWl8fHM+bihpLHIpKSYmYS5zZXQoZSx1KX1lLml0ZW1zPUFycmF5LmZyb20oYS52YWx1ZXMoKSl9X2dldENhY2hlS2V5KGUpe2NvbnN0e2dlb21ldHJ5OnQsc3BhdGlhbFJlbDpzLHJldHVybkdlb21ldHJ5OmkscmV0dXJuQ2VudHJvaWQ6cixvdXRTUjphLHJlc3VsdFR5cGU6bixjYWNoZUhpbnQ6dX09ZTtpZihcInRpbGVcIiE9PW4mJiF1KXJldHVybiBudWxsO2NvbnN0IGw9aXx8cjtyZXR1cm4gUyhhKSYmIV8odGhpcy5zcGF0aWFsUmVmZXJlbmNlLGEpJiZsP0pTT04uc3RyaW5naWZ5KFt0LHMsYV0pOkpTT04uc3RyaW5naWZ5KFt0LHNdKX1fY2FuRXhlY3V0ZVNpbmdsZVBhc3MoZSx0KXtjb25zdHtzcGF0aWFsUmVsOnN9PXQ7cmV0dXJuIHEoZSkmJihcImVzcmlTcGF0aWFsUmVsRW52ZWxvcGVJbnRlcnNlY3RzXCI9PT1zfHxcImVzcmlHZW9tZXRyeVBvaW50XCI9PT10aGlzLmdlb21ldHJ5VHlwZSYmKFwiZXNyaVNwYXRpYWxSZWxJbnRlcnNlY3RzXCI9PT1zfHxcImVzcmlTcGF0aWFsUmVsQ29udGFpbnNcIj09PXMpKX1hc3luYyBfcHJvamVjdChlLHQpe2lmKCF0fHxfKHRoaXMuc3BhdGlhbFJlZmVyZW5jZSx0KSlyZXR1cm4gZTtjb25zdCBpPXRoaXMuZmVhdHVyZUFkYXB0ZXI7bGV0IHI7dHJ5e2NvbnN0IGU9YXdhaXQgdGhpcy5fZ2V0RnVsbEV4dGVudCgpO3I9Yyh0aGlzLnNwYXRpYWxSZWZlcmVuY2UsdCxlKX1jYXRjaHt9Y29uc3QgYT1hd2FpdCBiKGUuaXRlbXMubWFwKChlPT5qKHRoaXMuZ2VvbWV0cnlUeXBlLHRoaXMuaGFzWix0aGlzLmhhc00saS5nZXRHZW9tZXRyeShlKSkpKSx0aGlzLnNwYXRpYWxSZWZlcmVuY2UsdCxyKTtyZXR1cm4gZS5pdGVtcz1zKGEubWFwKCgodCxzKT0+aS5jbG9uZVdpdGhHZW9tZXRyeShlLml0ZW1zW3NdLFIodCx0aGlzLmhhc1osdGhpcy5oYXNNKSkpKSksZX1hc3luYyBzZWFyY2hGZWF0dXJlcyhlKXtjb25zdCB0PW5ldyBTZXQ7YXdhaXQgUHJvbWlzZS5hbGwoZS5tYXAoKGU9PnRoaXMuZmVhdHVyZVN0b3JlLmZvckVhY2hJbkJvdW5kcyhlLChlPT50LmFkZChlKSkpKSkpO2NvbnN0IHM9QXJyYXkuZnJvbSh0LnZhbHVlcygpKTtyZXR1cm4gdC5jbGVhcigpLHN9YXN5bmMgX2V4ZWN1dGVRdWVyeUZvclN0YXRpc3RpY3MoZSx0LHMpe2U9cihlKTt0cnl7ZT1hd2FpdCB0aGlzLnNjaGVkdWxlKCgoKT0+TShlLHRoaXMuZGVmaW5pdGlvbkV4cHJlc3Npb24sdGhpcy5zcGF0aWFsUmVmZXJlbmNlKSkscyksZT1hd2FpdCB0aGlzLnJlc2NoZWR1bGUoKCgpPT5PKGUsdCx7YXZhaWxhYmxlRmllbGRzOnRoaXMuYXZhaWxhYmxlRmllbGRzLGZpZWxkc0luZGV4OnRoaXMuZmllbGRzSW5kZXgsZ2VvbWV0cnlUeXBlOnRoaXMuZ2VvbWV0cnlUeXBlLHNwYXRpYWxSZWZlcmVuY2U6dGhpcy5zcGF0aWFsUmVmZXJlbmNlfSkpLHMpO2NvbnN0IGk9YXdhaXQgdGhpcy5yZXNjaGVkdWxlKCgoKT0+dGhpcy5fZXhlY3V0ZVNjZW5lRmlsdGVyUXVlcnkoZSxzKSkscykscj1hd2FpdCB0aGlzLnJlc2NoZWR1bGUoKCgpPT50aGlzLl9leGVjdXRlR2VvbWV0cnlRdWVyeShlLGkscykpLHMpO3JldHVybiBhd2FpdCB0aGlzLnJlc2NoZWR1bGUoKCgpPT50aGlzLl9leGVjdXRlQWdncmVnYXRlSWRzUXVlcnkocikpLHMpLGF3YWl0IHRoaXMucmVzY2hlZHVsZSgoKCk9PnRoaXMuZXhlY3V0ZU9iamVjdElkc1F1ZXJ5KHIpKSxzKSxhd2FpdCB0aGlzLnJlc2NoZWR1bGUoKCgpPT50aGlzLmV4ZWN1dGVUaW1lUXVlcnkocikpLHMpLGF3YWl0IHRoaXMucmVzY2hlZHVsZSgoKCk9PnRoaXMuZXhlY3V0ZUF0dHJpYnV0ZXNRdWVyeShyKSkscykscn1jYXRjaChpKXtpZihpIT09Qyl0aHJvdyBpO3JldHVybiBuZXcgdihbXSxlLHRoaXMpfX1nZXQgdGVzdCgpe319ZnVuY3Rpb24gVihlKXtpZihxKGUpKXtpZih3KGUpKXJldHVybltwKE1hdGgubWluKGUueG1pbixlLnhtYXgpLE1hdGgubWluKGUueW1pbixlLnltYXgpLE1hdGgubWF4KGUueG1pbixlLnhtYXgpLE1hdGgubWF4KGUueW1pbixlLnltYXgpKV07aWYoRihlKSlyZXR1cm4gZS5yaW5ncy5tYXAoKGU9PnAoTWF0aC5taW4oZVswXVswXSxlWzJdWzBdKSxNYXRoLm1pbihlWzBdWzFdLGVbMl1bMV0pLE1hdGgubWF4KGVbMF1bMF0sZVsyXVswXSksTWF0aC5tYXgoZVswXVsxXSxlWzJdWzFdKSkpKX1yZXR1cm5beChnKCksZSldfWV4cG9ydHtKIGFzIEZlYXR1cmUsTCBhcyBRdWVyeUVuZ2luZSxWIGFzIGdldFF1ZXJ5QkJveGVzfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjMzL2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnRcIi4uLy4uLy4uL2NvcmUvaGFzLmpzXCI7Y29uc3QgdD01O2NsYXNzIGV7Y29uc3RydWN0b3IoKXt0aGlzLl9zdG9yYWdlPW5ldyBNYXAsdGhpcy5fcHVyZ2VJbnRlcnZhbD10LHRoaXMuX3N3ZWVwPSgpPT57aWYodGhpcy5fdGltZXI9dm9pZCAwLCF0aGlzLl9zdG9yYWdlKXJldHVybjtjb25zdCB0PTFlMyp0aGlzLl9wdXJnZUludGVydmFsLGU9cGVyZm9ybWFuY2Uubm93KCktdDtmb3IoY29uc3RbcyxyXW9mIHRoaXMuX3N0b3JhZ2Upe2lmKCEoci50aW1lPGUpKXJldHVybiB2b2lkKHRoaXMuX3N0b3JhZ2Uuc2l6ZT4wJiYodGhpcy5fdGltZXI9c2V0VGltZW91dCh0aGlzLl9zd2VlcCx0KSkpO3RoaXMuX3N0b3JhZ2UuZGVsZXRlKHMpfX19ZGVzdHJveSgpe3RoaXMuX3N0b3JhZ2U/LmNsZWFyKCksdGhpcy5fc3RvcmFnZT1udWxsLGNsZWFyVGltZW91dCh0aGlzLl90aW1lcil9cHV0KHQsZSl7dGhpcy5fc3RvcmFnZT8uc2V0KHQsbmV3IHIoZSkpLHRoaXMuX3NjaGVkdWxlU3dlZXAoKX1nZXQodCl7Y29uc3QgZT10aGlzLl9zdG9yYWdlPy5nZXQodCk7aWYoZSlyZXR1cm4gdGhpcy5fc3RvcmFnZT8uZGVsZXRlKHQpLGUudGltZT1wZXJmb3JtYW5jZS5ub3coKSx0aGlzLl9zdG9yYWdlPy5zZXQodCxlKSxlLml0ZW1zfWNsZWFyKCl7dGhpcy5fc3RvcmFnZT8uY2xlYXIoKX1fc2NoZWR1bGVTd2VlcCgpe3RoaXMuX3N0b3JhZ2UmJih0aGlzLl90aW1lcj8/PXNldFRpbWVvdXQodGhpcy5fc3dlZXAsMWUzKnRoaXMuX3B1cmdlSW50ZXJ2YWwpKX1nZXQgdGVzdCgpe319bGV0IHM9MDtjbGFzcyBye2NvbnN0cnVjdG9yKHQpe3RoaXMuaXRlbXM9dCx0aGlzLnRpbWU9cGVyZm9ybWFuY2Uubm93KCksdGhpcy5pZD1zKyt9fWV4cG9ydHtlIGFzIFF1ZXJ5RW5naW5lQ2FjaGV9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMzMvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmNvbnN0IHQ9e3N1cHBvcnRzU3RhdGlzdGljczohMCxzdXBwb3J0c1BlcmNlbnRpbGVTdGF0aXN0aWNzOiEwLHN1cHBvcnRzU3BhdGlhbEFnZ3JlZ2F0aW9uU3RhdGlzdGljczohMSxzdXBwb3J0ZWRTcGF0aWFsQWdncmVnYXRpb25TdGF0aXN0aWNzOntlbnZlbG9wZTohMSxjZW50cm9pZDohMSxjb252ZXhIdWxsOiExfSxzdXBwb3J0c0NlbnRyb2lkOiEwLHN1cHBvcnRzQ2FjaGVIaW50OiEwLHN1cHBvcnRzQ3VycmVudFVzZXI6ITEsc3VwcG9ydHNEaXN0YW5jZTohMCxzdXBwb3J0c0Rpc3RpbmN0OiEwLHN1cHBvcnRzRXh0ZW50OiEwLHN1cHBvcnRzR2VvbWV0cnlQcm9wZXJ0aWVzOiExLHN1cHBvcnRzSGF2aW5nQ2xhdXNlOiEwLHN1cHBvcnRzT3JkZXJCeTohMCxzdXBwb3J0c1BhZ2luYXRpb246ITAsc3VwcG9ydHNQYWdpbmF0aW9uT25BZ2dyZWdhdGVkUXVlcmllczohMSxzdXBwb3J0c1F1YW50aXphdGlvbjohMCxzdXBwb3J0c1F1YW50aXphdGlvbkVkaXRNb2RlOiExLHN1cHBvcnRzUXVlcnlHZW9tZXRyeTohMCxzdXBwb3J0c1Jlc3VsdFR5cGU6ITAsc3VwcG9ydHNSZXR1cm5NZXNoOiExLHN1cHBvcnRzU3FsRXhwcmVzc2lvbjohMCxzdXBwb3J0c01heFJlY29yZENvdW50RmFjdG9yOiExLHN1cHBvcnRzU3RhbmRhcmRpemVkUXVlcmllc09ubHk6ITAsc3VwcG9ydHNUb3BGZWF0dXJlc1F1ZXJ5OiExLHN1cHBvcnRzUXVlcnlCeUFub255bW91czohMCxzdXBwb3J0c1F1ZXJ5QnlPdGhlcnM6ITAsc3VwcG9ydHNIaXN0b3JpY01vbWVudDohMSxzdXBwb3J0c0Zvcm1hdFBCRjohMSxzdXBwb3J0c0Rpc2pvaW50U3BhdGlhbFJlbGF0aW9uc2hpcDohMCxzdXBwb3J0c0RlZmF1bHRTcGF0aWFsUmVmZXJlbmNlOiExLHN1cHBvcnRzRnVsbFRleHRTZWFyY2g6ITEsc3VwcG9ydHNDb21wYWN0R2VvbWV0cnk6ITEsbWF4UmVjb3JkQ291bnRGYWN0b3I6dm9pZCAwLG1heFJlY29yZENvdW50OnZvaWQgMCxtYXhVbmlxdWVJRENvdW50OnZvaWQgMCxzdGFuZGFyZE1heFJlY29yZENvdW50OnZvaWQgMCx0aWxlTWF4UmVjb3JkQ291bnQ6dm9pZCAwLHN1cHBvcnRzVHJ1ZUN1cnZlOiExfSxzPXtzdXBwb3J0c0RhdGU6ITAsc3VwcG9ydHNGaXhlZEludGVydmFsOiEwLHN1cHBvcnRzQXV0b0ludGVydmFsOiEwLHN1cHBvcnRzRml4ZWRCb3VuZGFyaWVzOiEwLHN1cHBvcnRzU3RhY2tCeTohMCxzdXBwb3J0c1NwbGl0Qnk6ITAsc3VwcG9ydHNTbmFwVG9EYXRhOiExLHN1cHBvcnRzUmV0dXJuRnVsbEludGVydmFsQmluOiExLHN1cHBvcnRzRmlyc3REYXlPZldlZWs6ITEsc3VwcG9ydHNOb3JtYWxpemF0aW9uOiEwLHN1cHBvcnRlZFN0YXRpc3RpY3M6e2NvdW50OiEwLHN1bTohMCxhdmc6ITAsdmFyOiEwLHN0ZGRldjohMCxtaW46ITAsbWF4OiEwLHBlcmNlbnRpbGVDb250aW51b3VzOiEwLHBlcmNlbnRpbGVEaXNjcmV0ZTohMCxlbnZlbG9wZTohMCxjZW50cm9pZDohMCxjb252ZXhIdWxsOiEwfSxzdXBwb3J0ZWROb3JtYWxpemF0aW9uVHlwZXM6e2ZpZWxkOiEwLGxvZzohMCxuYXR1cmFsTG9nOiEwLHBlcmNlbnRPZlRvdGFsOiEwLHNxdWFyZVJvb3Q6ITB9fTtleHBvcnR7cyBhcyBxdWVyeUJpbnNDYXBhYmlsaXRpZXMsdCBhcyBxdWVyeUNhcGFiaWxpdGllc307XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4zMy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e2Nsb25lIGFzIGV9ZnJvbVwiLi4vLi4vLi4vY29yZS9sYW5nLmpzXCI7aW1wb3J0e3BvbHlnb25DZW50cm9pZCBhcyB0LGV4dGVudENlbnRyb2lkIGFzIGl9ZnJvbVwiLi4vLi4vLi4vZ2VvbWV0cnkvc3VwcG9ydC9jZW50cm9pZC5qc1wiO2ltcG9ydHtnZXRQb2x5Z29uRXh0ZW50IGFzIHMsZ2V0R2VvbWV0cnlFeHRlbnQgYXMgYX1mcm9tXCIuLi8uLi8uLi9nZW9tZXRyeS9zdXBwb3J0L2V4dGVudFV0aWxzLmpzXCI7aW1wb3J0e3RvUXVhbnRpemF0aW9uVHJhbnNmb3JtIGFzIHJ9ZnJvbVwiLi4vLi4vLi4vZ2VvbWV0cnkvc3VwcG9ydC9xdWFudGl6YXRpb25VdGlscy5qc1wiO2ltcG9ydHtpc1ZhbGlkIGFzIG4sZXF1YWxzIGFzIG99ZnJvbVwiLi4vLi4vLi4vZ2VvbWV0cnkvc3VwcG9ydC9zcGF0aWFsUmVmZXJlbmNlVXRpbHMuanNcIjtpbXBvcnQgbCBmcm9tXCIuL0F0dHJpYnV0ZXNCdWlsZGVyLmpzXCI7aW1wb3J0e2NsZWFuRnJvbUdlb21ldHJ5RW5naW5lIGFzIHUsZ2V0R2VvbWV0cnkgYXMgYyx0cmFuc2Zvcm1DZW50cm9pZCBhcyBtfWZyb21cIi4vZ2VvbWV0cnlVdGlscy5qc1wiO2ltcG9ydHtwcm9qZWN0IGFzIGR9ZnJvbVwiLi9wcm9qZWN0aW9uU3VwcG9ydC5qc1wiO2ltcG9ydHtnZXREYXRlSW5OdW1iZXIgYXMgZn1mcm9tXCIuL3F1ZXJ5VXRpbHMuanNcIjtpbXBvcnR7bWFrZUVkZ2VDYW5kaWRhdGUgYXMgaCxtYWtlVmVydGV4Q2FuZGlkYXRlIGFzIHB9ZnJvbVwiLi9TbmFwcGluZ0NhbmRpZGF0ZS5qc1wiO2ltcG9ydHtpc0RhdGVGaWVsZCBhcyB5LGlzRGF0ZU9ubHlGaWVsZCBhcyBnLGlzVGltZXN0YW1wT2Zmc2V0RmllbGQgYXMgeCxpc1N0cmluZ0ZpZWxkIGFzIFQsaXNUaW1lT25seUZpZWxkIGFzIEl9ZnJvbVwiLi4vLi4vc3VwcG9ydC9maWVsZFV0aWxzLmpzXCI7aW1wb3J0IEYgZnJvbVwiLi4vLi4vLi4vcmVzdC9zdXBwb3J0L0F1dG9JbnRlcnZhbEJpblBhcmFtZXRlcnMuanNcIjtpbXBvcnQgXyBmcm9tXCIuLi8uLi8uLi9yZXN0L3N1cHBvcnQvRGF0ZUJpblBhcmFtZXRlcnMuanNcIjtpbXBvcnR7dW5pdHNEaWN0IGFzIFZ9ZnJvbVwiLi4vLi4vLi4vcmVzdC9zdXBwb3J0L0RhdGVCaW5VdGlscy5qc1wiO2ltcG9ydCBiIGZyb21cIi4uLy4uLy4uL3Jlc3Qvc3VwcG9ydC9GaXhlZEJvdW5kYXJpZXNCaW5QYXJhbWV0ZXJzLmpzXCI7aW1wb3J0IHYgZnJvbVwiLi4vLi4vLi4vcmVzdC9zdXBwb3J0L0ZpeGVkSW50ZXJ2YWxCaW5QYXJhbWV0ZXJzLmpzXCI7aW1wb3J0e2lzTnVsbENvdW50U3VwcG9ydGVkIGFzIFMsY2FsY3VsYXRlU3RyaW5nU3RhdGlzdGljcyBhcyBSLGNhbGN1bGF0ZVN0YXRpc3RpY3MgYXMgQixwcm9jZXNzU3VtbWFyeVN0YXRpc3RpY3NSZXN1bHQgYXMgeixjYWxjdWxhdGVVbmlxdWVWYWx1ZXNDb3VudCBhcyBNLGNyZWF0ZVVWUmVzdWx0IGFzIEEsY2FsY3VsYXRlQ2xhc3NCcmVha3MgYXMgdyxyZXNvbHZlQ0JSZXN1bHQgYXMgRCxjYWxjdWxhdGVIaXN0b2dyYW0gYXMgUCxnZXRBdHRyaWJ1dGVDb21wYXJhdG9yIGFzIE4sY2FsY3VsYXRlUGVyY2VudGlsZSBhcyBxLGJpbkluZGV4IGFzIFosZ2V0QmluUGFyYW1zIGFzIGp9ZnJvbVwiLi4vLi4vLi4vc3RhdGlzdGljcy91dGlscy5qc1wiO2ltcG9ydHt1dGMgYXMgR31mcm9tXCIuLi8uLi8uLi90aW1lL2NvbnN0YW50cy5qc1wiO2ltcG9ydHtEYXRlVGltZSBhcyBDfWZyb21cImx1eG9uXCI7Y29uc3QgRT1cImJpblwiO2NsYXNzIE97Y29uc3RydWN0b3IoZSx0LGkpe3RoaXMuaXRlbXM9ZSx0aGlzLnF1ZXJ5PXQsdGhpcy5nZW9tZXRyeVR5cGU9aS5nZW9tZXRyeVR5cGUsdGhpcy5oYXNNPWkuaGFzTSx0aGlzLmhhc1o9aS5oYXNaLHRoaXMuZmllbGRzSW5kZXg9aS5maWVsZHNJbmRleCx0aGlzLm9iamVjdElkRmllbGQ9aS5vYmplY3RJZEZpZWxkLHRoaXMuc3BhdGlhbFJlZmVyZW5jZT1pLnNwYXRpYWxSZWZlcmVuY2UsdGhpcy5mZWF0dXJlQWRhcHRlcj1pLmZlYXR1cmVBZGFwdGVyfWdldCBzaXplKCl7cmV0dXJuIHRoaXMuaXRlbXMubGVuZ3RofWNyZWF0ZVF1ZXJ5UmVzcG9uc2VGb3JDb3VudCgpe2NvbnN0IGU9bmV3IGwodGhpcy5xdWVyeSx0aGlzLmZlYXR1cmVBZGFwdGVyLHRoaXMuZmllbGRzSW5kZXgpO2lmKCF0aGlzLnF1ZXJ5Lm91dFN0YXRpc3RpY3MpcmV0dXJuIGUuY291bnREaXN0aW5jdFZhbHVlcyh0aGlzLml0ZW1zKTtjb25zdHtncm91cEJ5RmllbGRzRm9yU3RhdGlzdGljczp0LGhhdmluZzppLG91dFN0YXRpc3RpY3M6c309dGhpcy5xdWVyeSxhPXQ/Lmxlbmd0aDtpZighISFhKXJldHVybiAxO2NvbnN0IHI9bmV3IE1hcCxuPW5ldyBNYXAsbz1uZXcgU2V0O2Zvcihjb25zdCBsIG9mIHMpe2NvbnN0e3N0YXRpc3RpY1R5cGU6c309bCxhPVwiZXhjZWVkc2xpbWl0XCIhPT1zP2wub25TdGF0aXN0aWNGaWVsZDp2b2lkIDA7aWYoIW4uaGFzKGEpKXtjb25zdCBpPVtdO2Zvcihjb25zdCBzIG9mIHQpe2NvbnN0IHQ9dGhpcy5fZ2V0QXR0cmlidXRlVmFsdWVzKGUscyx0aGlzLml0ZW1zLHIpO2kucHVzaCh0KX1uLnNldChhLHRoaXMuX2NhbGN1bGF0ZVVuaXF1ZVZhbHVlcyhpLHRoaXMuaXRlbXMsZS5yZXR1cm5EaXN0aW5jdFZhbHVlcykpfWNvbnN0IHU9bi5nZXQoYSk7Zm9yKGNvbnN0IHQgaW4gdSl7Y29uc3R7ZGF0YTpzLGl0ZW1zOmF9PXVbdF0scj1zLmpvaW4oXCIsXCIpO2kmJiFlLnZhbGlkYXRlSXRlbXMoYSxpKXx8by5hZGQocil9fXJldHVybiBvLnNpemV9YXN5bmMgY3JlYXRlUXVlcnlSZXNwb25zZSgpe2xldCBlO2lmKHRoaXMucXVlcnkub3V0U3RhdGlzdGljcyl7ZT10aGlzLnF1ZXJ5Lm91dFN0YXRpc3RpY3Muc29tZSgoZT0+XCJleGNlZWRzbGltaXRcIj09PWUuc3RhdGlzdGljVHlwZSkpP3RoaXMuX2NyZWF0ZUV4Y2VlZHNMaW1pdFF1ZXJ5UmVzcG9uc2UoKTphd2FpdCB0aGlzLl9jcmVhdGVTdGF0aXN0aWNzUXVlcnlSZXNwb25zZSh0aGlzLnF1ZXJ5LHRoaXMuaXRlbXMpfWVsc2UgZT10aGlzLl9jcmVhdGVGZWF0dXJlUXVlcnlSZXNwb25zZSh0aGlzLnF1ZXJ5KTtpZih0aGlzLnF1ZXJ5LnJldHVyblF1ZXJ5R2VvbWV0cnkpe2NvbnN0IHQ9dGhpcy5xdWVyeS5nZW9tZXRyeTtuKHRoaXMucXVlcnkub3V0U1IpJiYhbyh0LnNwYXRpYWxSZWZlcmVuY2UsdGhpcy5xdWVyeS5vdXRTUik/ZS5xdWVyeUdlb21ldHJ5PXUoe3NwYXRpYWxSZWZlcmVuY2U6dGhpcy5xdWVyeS5vdXRTUiwuLi5kKHQsdC5zcGF0aWFsUmVmZXJlbmNlLHRoaXMucXVlcnkub3V0U1IpfSk6ZS5xdWVyeUdlb21ldHJ5PXUoe3NwYXRpYWxSZWZlcmVuY2U6dGhpcy5xdWVyeS5vdXRTUiwuLi50fSl9cmV0dXJuIGV9Y3JlYXRlU25hcHBpbmdSZXNwb25zZShlLHQsaSl7Y29uc3Qgcz10aGlzLmZlYXR1cmVBZGFwdGVyLGE9USh0aGlzLmhhc1osdGhpcy5oYXNNKSx7cG9pbnQ6cixtb2RlOm59PWUsbz1cIm51bWJlclwiPT10eXBlb2YgZS5kaXN0YW5jZT9lLmRpc3RhbmNlOmUuZGlzdGFuY2UueCxsPVwibnVtYmVyXCI9PXR5cGVvZiBlLmRpc3RhbmNlP2UuZGlzdGFuY2U6ZS5kaXN0YW5jZS55LHU9e2NhbmRpZGF0ZXM6W119LGM9XCJlc3JpR2VvbWV0cnlQb2x5Z29uXCI9PT10aGlzLmdlb21ldHJ5VHlwZSxtPVwiZXNyaUdlb21ldHJ5UG9seWxpbmVcIj09PXRoaXMuZ2VvbWV0cnlUeXBlfHxcImVzcmlHZW9tZXRyeVBvaW50XCI9PT10aGlzLmdlb21ldHJ5VHlwZSxkPXRoaXMuX2dldFBvaW50Q3JlYXRvcihuLHQsdGhpcy5zcGF0aWFsUmVmZXJlbmNlLGkpLGY9bmV3IFUobnVsbCwwKSx5PW5ldyBVKG51bGwsMCksZz17eDowLHk6MCx6OjB9O2Zvcihjb25zdCB4IG9mIHRoaXMuaXRlbXMpe2NvbnN0IHQ9cy5nZXRHZW9tZXRyeSh4KTtpZihudWxsPT10KWNvbnRpbnVlO2NvbnN0e2Nvb3JkczppfT10LG49dC5pc1BvaW50P2s6dC5sZW5ndGhzO2lmKGYuY29vcmRzPWkseS5jb29yZHM9aSxlLnJldHVybkVkZ2Upe2xldCBlPTA7Zm9yKGxldCB0PTA7dDxuLmxlbmd0aDt0Kyspe2NvbnN0IGk9blt0XSxtPWU7Zm9yKGxldCB0PTA7dDxpO3QrKyxlKz1hKXtpZighYyYmdD09PWktMSljb250aW51ZTtjb25zdCBuPWY7bi5jb29yZHNJbmRleD1lO2NvbnN0IHA9eTtwLmNvb3Jkc0luZGV4PXQ9PT1pLTE/bTplK2E7Y29uc3QgVD1nO2lmKCFIKGcscixuLHApKWNvbnRpbnVlO2NvbnN0IEk9KHIueC1ULngpL28sRj0oci55LVQueSkvbCxfPUkqSStGKkY7Xzw9MSYmdS5jYW5kaWRhdGVzLnB1c2goaChzLmdldE9iamVjdElkKHgpLGQoVCksTWF0aC5zcXJ0KF8pLGQobiksZChwKSkpfX19aWYoXCJhbGxcIj09PWUudmVydGV4TW9kZSl7bGV0IGU9MDtmb3IobGV0IHQ9MDt0PG4ubGVuZ3RoO3QrKyl7Y29uc3QgaT1uW3RdLG09ZSxoPXk7aC5jb29yZHNJbmRleD1tO2ZvcihsZXQgdD0wO3Q8aTt0KyssZSs9YSl7Y29uc3QgYT1mO2lmKGEuY29vcmRzSW5kZXg9ZSxjJiZ0PT09aS0xJiZhLng9PT1oLngmJmEueT09PWgueSljb250aW51ZTtjb25zdCBuPShyLngtYS54KS9vLG09KHIueS1hLnkpL2wseT1uKm4rbSptO3k8PTEmJnUuY2FuZGlkYXRlcy5wdXNoKHAocy5nZXRPYmplY3RJZCh4KSxkKGEpLE1hdGguc3FydCh5KSkpfX19ZWxzZSBpZihtJiZcImVuZHNcIj09PWUudmVydGV4TW9kZSl7bGV0IGU9MDtjb25zdCB0PVtdO2ZvcihsZXQgaT0wO2k8bi5sZW5ndGg7aSsrKXt0LnB1c2goZSk7Y29uc3Qgcz1uW2ldO2UrPXMqYSwhYyYmcz4xJiZ0LnB1c2goZS1hKX1mb3IoY29uc3QgaSBvZiB0KXtjb25zdCBlPWY7ZS5jb29yZHNJbmRleD1pO2NvbnN0IHQ9KHIueC1lLngpL28sYT0oci55LWUueSkvbCxuPXQqdCthKmE7bjw9MSYmdS5jYW5kaWRhdGVzLnB1c2gocChzLmdldE9iamVjdElkKHgpLGQoZSksTWF0aC5zcXJ0KG4pKSl9fX1yZXR1cm4gdS5jYW5kaWRhdGVzLnNvcnQoKChlLHQpPT5lLmRpc3RhbmNlLXQuZGlzdGFuY2UpKSx1fV9nZXRQb2ludENyZWF0b3IoZSx0LGkscyl7Y29uc3QgYT1udWxsPT1zfHxvKGkscyk/ZT0+ZTplPT5kKGUsaSxzKSx7aGFzWjpyfT10aGlzLG49MDtyZXR1cm5cIjNkXCI9PT1lP3ImJnQ/KHt4OmUseTp0LHo6aX0pPT5hKHt4OmUseTp0LHo6aX0pOih7eDplLHk6dH0pPT5hKHt4OmUseTp0LHo6bn0pOih7eDplLHk6dH0pPT5hKHt4OmUseTp0fSl9YXN5bmMgY3JlYXRlU3VtbWFyeVN0YXRpc3RpY3NSZXNwb25zZShlKXtjb25zdHtmaWVsZDp0LHZhbHVlRXhwcmVzc2lvbjppLG5vcm1hbGl6YXRpb25GaWVsZDpzLG5vcm1hbGl6YXRpb25UeXBlOmEsbm9ybWFsaXphdGlvblRvdGFsOnIsbWluVmFsdWU6bixtYXhWYWx1ZTpvLHNjYWxlOmwsdGltZVpvbmU6dSxvdXRTdGF0aXN0aWNUeXBlczpjfT1lLG09dGhpcy5maWVsZHNJbmRleC5nZXQodCksZD15KG0pfHxnKG0pfHx4KG0pLGY9YXdhaXQgdGhpcy5fZ2V0RGF0YVZhbHVlcyh7ZmllbGQ6dCx2YWx1ZUV4cHJlc3Npb246aSxub3JtYWxpemF0aW9uRmllbGQ6cyxub3JtYWxpemF0aW9uVHlwZTphLG5vcm1hbGl6YXRpb25Ub3RhbDpyLHNjYWxlOmwsdGltZVpvbmU6dX0sdGhpcy5pdGVtcyksaD1TKHtub3JtYWxpemF0aW9uVHlwZTphLG5vcm1hbGl6YXRpb25GaWVsZDpzLG1pblZhbHVlOm4sbWF4VmFsdWU6b30pLHA9e3ZhbHVlOi41LGZpZWxkVHlwZTptPy50eXBlfSxJPVQobSk/Uih7dmFsdWVzOmYsc3VwcG9ydHNOdWxsQ291bnQ6aCxwZXJjZW50aWxlUGFyYW1zOnAsb3V0U3RhdGlzdGljVHlwZXM6Y30pOkIoe3ZhbHVlczpmLG1pblZhbHVlOm4sbWF4VmFsdWU6byx1c2VTYW1wbGVTdGREZXY6IWEsc3VwcG9ydHNOdWxsQ291bnQ6aCxwZXJjZW50aWxlUGFyYW1zOnAsb3V0U3RhdGlzdGljVHlwZXM6Y30pO3JldHVybiB6KEksYyxkKX1hc3luYyBjcmVhdGVVbmlxdWVWYWx1ZXNSZXNwb25zZShlKXtjb25zdHtmaWVsZDp0LHZhbHVlRXhwcmVzc2lvbjppLGRvbWFpbnM6cyxyZXR1cm5BbGxDb2RlZFZhbHVlczphLHNjYWxlOnIsdGltZVpvbmU6bn09ZSxvPWF3YWl0IHRoaXMuX2dldERhdGFWYWx1ZXMoe2ZpZWxkOnQsZmllbGQyOmUuZmllbGQyLGZpZWxkMzplLmZpZWxkMyxmaWVsZERlbGltaXRlcjplLmZpZWxkRGVsaW1pdGVyLHZhbHVlRXhwcmVzc2lvbjppLHNjYWxlOnIsdGltZVpvbmU6bn0sdGhpcy5pdGVtcywhMSksbD1NKG8pO3JldHVybiBBKGwscyxhLGUuZmllbGREZWxpbWl0ZXIpfWFzeW5jIGNyZWF0ZUNsYXNzQnJlYWtzUmVzcG9uc2UoZSl7Y29uc3R7ZmllbGQ6dCx2YWx1ZUV4cHJlc3Npb246aSxub3JtYWxpemF0aW9uRmllbGQ6cyxub3JtYWxpemF0aW9uVHlwZTphLG5vcm1hbGl6YXRpb25Ub3RhbDpyLGNsYXNzaWZpY2F0aW9uTWV0aG9kOm4sc3RhbmRhcmREZXZpYXRpb25JbnRlcnZhbDpvLG1pblZhbHVlOmwsbWF4VmFsdWU6dSxudW1DbGFzc2VzOmMsc2NhbGU6bSx0aW1lWm9uZTpkfT1lLGY9YXdhaXQgdGhpcy5fZ2V0RGF0YVZhbHVlcyh7ZmllbGQ6dCx2YWx1ZUV4cHJlc3Npb246aSxub3JtYWxpemF0aW9uRmllbGQ6cyxub3JtYWxpemF0aW9uVHlwZTphLG5vcm1hbGl6YXRpb25Ub3RhbDpyLHNjYWxlOm0sdGltZVpvbmU6ZH0sdGhpcy5pdGVtcyksaD13KGYse2ZpZWxkOnQsbm9ybWFsaXphdGlvbkZpZWxkOnMsbm9ybWFsaXphdGlvblR5cGU6YSxub3JtYWxpemF0aW9uVG90YWw6cixjbGFzc2lmaWNhdGlvbk1ldGhvZDpuLHN0YW5kYXJkRGV2aWF0aW9uSW50ZXJ2YWw6byxtaW5WYWx1ZTpsLG1heFZhbHVlOnUsbnVtQ2xhc3NlczpjfSk7cmV0dXJuIEQoaCxuKX1hc3luYyBjcmVhdGVIaXN0b2dyYW1SZXNwb25zZShlKXtjb25zdHtmaWVsZDp0LHZhbHVlRXhwcmVzc2lvbjppLG5vcm1hbGl6YXRpb25GaWVsZDpzLG5vcm1hbGl6YXRpb25UeXBlOmEsbm9ybWFsaXphdGlvblRvdGFsOnIsY2xhc3NpZmljYXRpb25NZXRob2Q6bixzdGFuZGFyZERldmlhdGlvbkludGVydmFsOm8sbWluVmFsdWU6bCxtYXhWYWx1ZTp1LG51bUJpbnM6YyxzY2FsZTptLHRpbWVab25lOmR9PWUsZj1hd2FpdCB0aGlzLl9nZXREYXRhVmFsdWVzKHtmaWVsZDp0LHZhbHVlRXhwcmVzc2lvbjppLG5vcm1hbGl6YXRpb25GaWVsZDpzLG5vcm1hbGl6YXRpb25UeXBlOmEsbm9ybWFsaXphdGlvblRvdGFsOnIsc2NhbGU6bSx0aW1lWm9uZTpkfSx0aGlzLml0ZW1zKTtyZXR1cm4gUChmLHtmaWVsZDp0LG5vcm1hbGl6YXRpb25GaWVsZDpzLG5vcm1hbGl6YXRpb25UeXBlOmEsbm9ybWFsaXphdGlvblRvdGFsOnIsY2xhc3NpZmljYXRpb25NZXRob2Q6bixzdGFuZGFyZERldmlhdGlvbkludGVydmFsOm8sbWluVmFsdWU6bCxtYXhWYWx1ZTp1LG51bUJpbnM6Y30pfV9zb3J0RmVhdHVyZXMoZSx0LGkpe2lmKGUubGVuZ3RoPjEmJnQ/Lmxlbmd0aClmb3IoY29uc3QgcyBvZiB0LnNsaWNlKCkucmV2ZXJzZSgpKXtjb25zdCB0PXMuc3BsaXQoXCIgXCIpLGE9dFswXSxyPXRoaXMuZmllbGRzSW5kZXguZ2V0KGEpLG49ISF0WzFdJiZcImRlc2NcIj09PXRbMV0udG9Mb3dlckNhc2UoKSxvPU4ocj8udHlwZSxuKTtlLnNvcnQoKChlLHQpPT57Y29uc3Qgcz1pKGUsYSxyKSxuPWkodCxhLHIpO3JldHVybiBvKHMsbil9KSl9fV9jcmVhdGVGZWF0dXJlUXVlcnlSZXNwb25zZShlKXtjb25zdHtpdGVtczp0LGdlb21ldHJ5VHlwZTppLGhhc006cyxoYXNaOmEsb2JqZWN0SWRGaWVsZDpuLHNwYXRpYWxSZWZlcmVuY2U6b309dGhpcyx7b3V0RmllbGRzOmwsb3V0U1I6YyxxdWFudGl6YXRpb25QYXJhbWV0ZXJzOm0scmVzdWx0UmVjb3JkQ291bnQ6ZCxyZXN1bHRPZmZzZXQ6ZixyZXR1cm5aOmgscmV0dXJuTTpwfT1lLHk9bnVsbCE9ZCYmdC5sZW5ndGg+KGZ8fDApK2QsZz1sJiYobC5pbmNsdWRlcyhcIipcIik/Wy4uLnRoaXMuZmllbGRzSW5kZXguZmllbGRzXTpsLm1hcCgoZT0+dGhpcy5maWVsZHNJbmRleC5nZXQoZSkpKSk7cmV0dXJue2V4Y2VlZGVkVHJhbnNmZXJMaW1pdDp5LGZlYXR1cmVzOnRoaXMuX2NyZWF0ZUZlYXR1cmVzKGUsdCksZmllbGRzOmcsZ2VvbWV0cnlUeXBlOmksaGFzTTpzJiZwLGhhc1o6YSYmaCxvYmplY3RJZEZpZWxkTmFtZTpuLHNwYXRpYWxSZWZlcmVuY2U6dShjfHxvKSx0cmFuc2Zvcm06bSYmcihtKXx8bnVsbH19X2NyZWF0ZUZlYXR1cmVzKGUsdCl7Y29uc3QgaT1uZXcgbChlLHRoaXMuZmVhdHVyZUFkYXB0ZXIsdGhpcy5maWVsZHNJbmRleCkse2hhc006cyxoYXNaOmF9PXRoaXMse29yZGVyQnlGaWVsZHM6bixxdWFudGl6YXRpb25QYXJhbWV0ZXJzOm8scmV0dXJuR2VvbWV0cnk6dSxyZXR1cm5DZW50cm9pZDpkLG1heEFsbG93YWJsZU9mZnNldDpmLHJlc3VsdE9mZnNldDpoLHJlc3VsdFJlY29yZENvdW50OnAscmV0dXJuWjp5PSExLHJldHVybk06Zz0hMX09ZSx4PWEmJnksVD1zJiZnO2xldCBJPVtdLEY9MDtjb25zdCBfPVsuLi50XTtpZih0aGlzLl9zb3J0RmVhdHVyZXMoXyxuLCgoZSx0LHMpPT5pLmdldEZpZWxkVmFsdWUoZSx0LHMpKSksdGhpcy5nZW9tZXRyeVR5cGUmJih1fHxkKSl7Y29uc3QgZT1yKG8pPz92b2lkIDAsdD1cImVzcmlHZW9tZXRyeVBvbHlnb25cIj09PXRoaXMuZ2VvbWV0cnlUeXBlfHxcImVzcmlHZW9tZXRyeVBvbHlsaW5lXCI9PT10aGlzLmdlb21ldHJ5VHlwZTtpZih1JiYhZClmb3IoY29uc3QgcyBvZiBfKXtjb25zdCBhPXRoaXMuZmVhdHVyZUFkYXB0ZXIuZ2V0R2VvbWV0cnkocykscj17YXR0cmlidXRlczppLmdldEF0dHJpYnV0ZXMocyksZ2VvbWV0cnk6Yyh0aGlzLmdlb21ldHJ5VHlwZSx0aGlzLmhhc1osdGhpcy5oYXNNLGEsZixlLHgsVCksbWV0YWRhdGE6dGhpcy5mZWF0dXJlQWRhcHRlci5nZXRNZXRhZGF0YT8uKHMpfTt0JiZhJiYhci5nZW9tZXRyeSYmKHIuY2VudHJvaWQ9bSh0aGlzLHRoaXMuZmVhdHVyZUFkYXB0ZXIuZ2V0Q2VudHJvaWQocyx0aGlzKSxlKSksSVtGKytdPXJ9ZWxzZSBpZighdSYmZClmb3IoY29uc3QgcyBvZiBfKUlbRisrXT17YXR0cmlidXRlczppLmdldEF0dHJpYnV0ZXMocyksY2VudHJvaWQ6bSh0aGlzLHRoaXMuZmVhdHVyZUFkYXB0ZXIuZ2V0Q2VudHJvaWQocyx0aGlzKSxlKX07ZWxzZSBmb3IoY29uc3QgcyBvZiBfKUlbRisrXT17YXR0cmlidXRlczppLmdldEF0dHJpYnV0ZXMocyksY2VudHJvaWQ6bSh0aGlzLHRoaXMuZmVhdHVyZUFkYXB0ZXIuZ2V0Q2VudHJvaWQocyx0aGlzKSxlKSxnZW9tZXRyeTpjKHRoaXMuZ2VvbWV0cnlUeXBlLHRoaXMuaGFzWix0aGlzLmhhc00sdGhpcy5mZWF0dXJlQWRhcHRlci5nZXRHZW9tZXRyeShzKSxmLGUseCxUKSxtZXRhZGF0YTp0aGlzLmZlYXR1cmVBZGFwdGVyLmdldE1ldGFkYXRhPy4ocyl9fWVsc2UgZm9yKGNvbnN0IHIgb2YgXyl7Y29uc3QgZT1pLmdldEF0dHJpYnV0ZXMocik7ZSYmKElbRisrXT17YXR0cmlidXRlczplfSl9Y29uc3QgVj1ofHwwO2lmKG51bGwhPXApe2NvbnN0IGU9VitwO0k9SS5zbGljZShWLE1hdGgubWluKEkubGVuZ3RoLGUpKX1yZXR1cm4gSX1fY3JlYXRlRXhjZWVkc0xpbWl0UXVlcnlSZXNwb25zZSgpe2xldCBlPSExLHQ9TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZLGk9TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZLHM9TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZO2Zvcihjb25zdCBhIG9mIHRoaXMucXVlcnkub3V0U3RhdGlzdGljcz8/W10paWYoXCJleGNlZWRzbGltaXRcIj09PWEuc3RhdGlzdGljVHlwZSl7dD1udWxsIT1hLm1heFBvaW50Q291bnQ/YS5tYXhQb2ludENvdW50Ok51bWJlci5QT1NJVElWRV9JTkZJTklUWSxpPW51bGwhPWEubWF4UmVjb3JkQ291bnQ/YS5tYXhSZWNvcmRDb3VudDpOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFkscz1udWxsIT1hLm1heFZlcnRleENvdW50P2EubWF4VmVydGV4Q291bnQ6TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZO2JyZWFrfWlmKFwiZXNyaUdlb21ldHJ5UG9pbnRcIj09PXRoaXMuZ2VvbWV0cnlUeXBlKWU9dGhpcy5pdGVtcy5sZW5ndGg+dDtlbHNlIGlmKHRoaXMuaXRlbXMubGVuZ3RoPmkpZT0hMDtlbHNle2NvbnN0IHQ9USh0aGlzLmhhc1osdGhpcy5oYXNNKSxpPXRoaXMuZmVhdHVyZUFkYXB0ZXI7ZT10aGlzLml0ZW1zLnJlZHVjZSgoKGUsdCk9Pntjb25zdCBzPWkuZ2V0R2VvbWV0cnkodCk7cmV0dXJuIGUrKG51bGwhPXMmJnMuY29vcmRzLmxlbmd0aHx8MCl9KSwwKS90PnN9cmV0dXJue2ZpZWxkczpbe25hbWU6XCJleGNlZWRzbGltaXRcIix0eXBlOlwiZXNyaUZpZWxkVHlwZUludGVnZXJcIixhbGlhczpcImV4Y2VlZHNsaW1pdFwiLHNxbFR5cGU6XCJzcWxUeXBlSW50ZWdlclwiLGRvbWFpbjpudWxsLGRlZmF1bHRWYWx1ZTpudWxsfV0sZmVhdHVyZXM6W3thdHRyaWJ1dGVzOntleGNlZWRzbGltaXQ6TnVtYmVyKGUpfX1dfX1hc3luYyBfY3JlYXRlU3RhdGlzdGljc1F1ZXJ5UmVzcG9uc2UoZSx0LGk9e2F0dHJpYnV0ZXM6e319KXtjb25zdCBzPVtdLGE9bmV3IE1hcCxyPW5ldyBNYXAsbj1uZXcgTWFwLG89bmV3IE1hcCx1PW5ldyBsKGUsdGhpcy5mZWF0dXJlQWRhcHRlcix0aGlzLmZpZWxkc0luZGV4KSxjPWUub3V0U3RhdGlzdGljcyx7Z3JvdXBCeUZpZWxkc0ZvclN0YXRpc3RpY3M6bSxoYXZpbmc6ZCxvcmRlckJ5RmllbGRzOmYscmVzdWx0UmVjb3JkQ291bnQ6aH09ZSxwPW0/Lmxlbmd0aCx5PSEhcCxnPXk/bVswXTpudWxsLHg9eSYmIXRoaXMuZmllbGRzSW5kZXguZ2V0KGcpO2Zvcihjb25zdCBsIG9mIGM/P1tdKXtjb25zdHtvdXRTdGF0aXN0aWNGaWVsZE5hbWU6ZSxzdGF0aXN0aWNUeXBlOmN9PWwsZj1sLGg9XCJleGNlZWRzbGltaXRcIiE9PWM/bC5vblN0YXRpc3RpY0ZpZWxkOnZvaWQgMCxJPVwicGVyY2VudGlsZV9kaXNjXCI9PT1jfHxcInBlcmNlbnRpbGVfY29udFwiPT09YyxGPVwiRW52ZWxvcGVBZ2dyZWdhdGVcIj09PWN8fFwiQ2VudHJvaWRBZ2dyZWdhdGVcIj09PWN8fFwiQ29udmV4SHVsbEFnZ3JlZ2F0ZVwiPT09YyxfPXkmJjE9PT1wJiYoaD09PWd8fHgpJiZcImNvdW50XCI9PT1jO2lmKHkpe2lmKCFuLmhhcyhoKSl7Y29uc3QgZT1bXTtmb3IoY29uc3QgaSBvZiBtKXtjb25zdCBzPXRoaXMuX2dldEF0dHJpYnV0ZVZhbHVlcyh1LGksdCxhKTtlLnB1c2gocyl9bi5zZXQoaCx0aGlzLl9jYWxjdWxhdGVVbmlxdWVWYWx1ZXMoZSx0LCFGJiZ1LnJldHVybkRpc3RpbmN0VmFsdWVzKSl9Y29uc3QgaT1uLmdldChoKTtpZighaSljb250aW51ZTtjb25zdCBzPU9iamVjdC5rZXlzKGkpO2Zvcihjb25zdCByIG9mIHMpe2NvbnN0e2NvdW50OnMsZGF0YTpuLGl0ZW1zOmwsaXRlbVBvc2l0aW9uczpjfT1pW3JdLHA9bi5qb2luKFwiLFwiKTtpZighZHx8dS52YWxpZGF0ZUl0ZW1zKGwsZCkpe2NvbnN0IGk9by5nZXQocCl8fHthdHRyaWJ1dGVzOnt9fTtpZihGKXtpLmFnZ3JlZ2F0ZUdlb21ldHJpZXN8fChpLmFnZ3JlZ2F0ZUdlb21ldHJpZXM9e30pO2NvbnN0e2FnZ3JlZ2F0ZUdlb21ldHJpZXM6ZSxvdXRTdGF0aXN0aWNGaWVsZE5hbWU6dH09YXdhaXQgdGhpcy5fZ2V0QWdncmVnYXRlR2VvbWV0cnkoZixsKTtpLmFnZ3JlZ2F0ZUdlb21ldHJpZXNbdF09ZX1lbHNle2xldCByPW51bGw7aWYoXylyPXM7ZWxzZXtjb25zdCBlPXRoaXMuX2dldEF0dHJpYnV0ZVZhbHVlcyh1LGgsdCxhKSxpPWMubWFwKCh0PT5lW3RdKSk7cj1JJiZcInN0YXRpc3RpY1BhcmFtZXRlcnNcImluIGY/dGhpcy5fZ2V0UGVyY2VudGlsZVZhbHVlKGYsaSk6dGhpcy5fZ2V0U3RhdGlzdGljVmFsdWUoZixpLG51bGwsdS5yZXR1cm5EaXN0aW5jdFZhbHVlcyl9aS5hdHRyaWJ1dGVzW2VdPXJ9bGV0IHI9MDttLmZvckVhY2goKChlLHQpPT5pLmF0dHJpYnV0ZXNbdGhpcy5maWVsZHNJbmRleC5nZXQoZSk/ZTpcIkVYUFJfXCIrICsrcl09blt0XSkpLG8uc2V0KHAsaSl9fX1lbHNlIGlmKEYpe2kuYWdncmVnYXRlR2VvbWV0cmllc3x8KGkuYWdncmVnYXRlR2VvbWV0cmllcz17fSk7Y29uc3R7YWdncmVnYXRlR2VvbWV0cmllczplLG91dFN0YXRpc3RpY0ZpZWxkTmFtZTpzfT1hd2FpdCB0aGlzLl9nZXRBZ2dyZWdhdGVHZW9tZXRyeShmLHQpO2kuYWdncmVnYXRlR2VvbWV0cmllc1tzXT1lfWVsc2V7Y29uc3Qgcz10aGlzLl9nZXRBdHRyaWJ1dGVWYWx1ZXModSxoLHQsYSk7aS5hdHRyaWJ1dGVzW2VdPUkmJlwic3RhdGlzdGljUGFyYW1ldGVyc1wiaW4gZj90aGlzLl9nZXRQZXJjZW50aWxlVmFsdWUoZixzKTp0aGlzLl9nZXRTdGF0aXN0aWNWYWx1ZShmLHMscix1LnJldHVybkRpc3RpbmN0VmFsdWVzKX1jb25zdCBWPVwibWluXCIhPT1jJiZcIm1heFwiIT09Y3x8IVQodGhpcy5maWVsZHNJbmRleC5nZXQoaCkpJiYhdGhpcy5faXNBbnlEYXRlRmllbGQoaCk/bnVsbDp0aGlzLmZpZWxkc0luZGV4LmdldChoKT8udHlwZTtzLnB1c2goe25hbWU6ZSxhbGlhczplLHR5cGU6Vnx8XCJlc3JpRmllbGRUeXBlRG91YmxlXCJ9KX1jb25zdCBJPXk/QXJyYXkuZnJvbShvLnZhbHVlcygpKTpbaV07cmV0dXJuIHRoaXMuX3NvcnRGZWF0dXJlcyhJLGYsKChlLHQpPT5lLmF0dHJpYnV0ZXNbdF0pKSxoJiYoSS5sZW5ndGg9TWF0aC5taW4oaCxJLmxlbmd0aCkpLHtmaWVsZHM6cyxmZWF0dXJlczpJfX1faXNBbnlEYXRlRmllbGQoZSl7Y29uc3QgdD10aGlzLmZpZWxkc0luZGV4LmdldChlKTtyZXR1cm4geSh0KXx8Zyh0KXx8eCh0KXx8SSh0KX1hc3luYyBfZ2V0QWdncmVnYXRlR2VvbWV0cnkoZSxyKXtjb25zdHtjb252ZXhIdWxsOm4sdW5pb246b309YXdhaXQgaW1wb3J0KFwiLi4vLi4vLi4vZ2VvbWV0cnkvZ2VvbWV0cnlFbmdpbmVKU09OLmpzXCIpLHtzdGF0aXN0aWNUeXBlOmwsb3V0U3RhdGlzdGljRmllbGROYW1lOnV9PWUse2ZlYXR1cmVBZGFwdGVyOm0sc3BhdGlhbFJlZmVyZW5jZTpkLGdlb21ldHJ5VHlwZTpmLGhhc1o6aCxoYXNNOnB9PXRoaXMseT1yLm1hcCgoZT0+YyhmLGgscCxtLmdldEdlb21ldHJ5KGUpKSkpLGc9bihkLHksITApWzBdLHg9e2FnZ3JlZ2F0ZUdlb21ldHJpZXM6bnVsbCxvdXRTdGF0aXN0aWNGaWVsZE5hbWU6bnVsbH07aWYoXCJFbnZlbG9wZUFnZ3JlZ2F0ZVwiPT09bCl7Y29uc3QgZT1nP3MoZyk6YShvKGQseSkpO3guYWdncmVnYXRlR2VvbWV0cmllcz17Li4uZSxzcGF0aWFsUmVmZXJlbmNlOmR9LHgub3V0U3RhdGlzdGljRmllbGROYW1lPXV8fFwiZXh0ZW50XCJ9ZWxzZSBpZihcIkNlbnRyb2lkQWdncmVnYXRlXCI9PT1sKXtjb25zdCBlPWc/dChnKTppKGEobyhkLHkpKSk7eC5hZ2dyZWdhdGVHZW9tZXRyaWVzPXt4OmVbMF0seTplWzFdLHNwYXRpYWxSZWZlcmVuY2U6ZH0seC5vdXRTdGF0aXN0aWNGaWVsZE5hbWU9dXx8XCJjZW50cm9pZFwifWVsc2VcIkNvbnZleEh1bGxBZ2dyZWdhdGVcIj09PWwmJih4LmFnZ3JlZ2F0ZUdlb21ldHJpZXM9Zyx4Lm91dFN0YXRpc3RpY0ZpZWxkTmFtZT11fHxcImNvbnZleEh1bGxcIik7cmV0dXJuIHh9X2dldFN0YXRpc3RpY1ZhbHVlKGUsdCxpLHMpe2NvbnN0e29uU3RhdGlzdGljRmllbGQ6YSxzdGF0aXN0aWNUeXBlOnJ9PWU7bGV0IG49bnVsbDtuPWk/LmhhcyhhKT9pLmdldChhKTpUKHRoaXMuZmllbGRzSW5kZXguZ2V0KGEpKXx8dGhpcy5faXNBbnlEYXRlRmllbGQoYSk/Uih7dmFsdWVzOnQscmV0dXJuRGlzdGluY3Q6c30pOkIoe3ZhbHVlczpzP1suLi5uZXcgU2V0KHQpXTp0LG1pblZhbHVlOm51bGwsbWF4VmFsdWU6bnVsbCx1c2VTYW1wbGVTdGREZXY6ITB9KSxpJiZpLnNldChhLG4pO3JldHVybiBuW1widmFyXCI9PT1yP1widmFyaWFuY2VcIjpyXX1fZ2V0UGVyY2VudGlsZVZhbHVlKGUsdCl7Y29uc3R7b25TdGF0aXN0aWNGaWVsZDppLHN0YXRpc3RpY1BhcmFtZXRlcnM6cyxzdGF0aXN0aWNUeXBlOmF9PWUse3ZhbHVlOnIsb3JkZXJCeTpufT1zLG89dGhpcy5maWVsZHNJbmRleC5nZXQoaSk7cmV0dXJuIHEodCx7dmFsdWU6cixvcmRlckJ5Om4sZmllbGRUeXBlOm8/LnR5cGUsaXNEaXNjcmV0ZTpcInBlcmNlbnRpbGVfZGlzY1wiPT09YX0pfV9nZXRBdHRyaWJ1dGVWYWx1ZXMoZSx0LGkscyl7aWYocy5oYXModCkpcmV0dXJuIHMuZ2V0KHQpO2NvbnN0IGE9dGhpcy5maWVsZHNJbmRleC5nZXQodCkscj1pLm1hcCgoaT0+ZS5nZXRGaWVsZFZhbHVlKGksdCxhKSkpO3JldHVybiBzLnNldCh0LHIpLHJ9X2NhbGN1bGF0ZVVuaXF1ZVZhbHVlcyhlLHQsaSl7Y29uc3Qgcz17fSxhPXQubGVuZ3RoO2ZvcihsZXQgcj0wO3I8YTtyKyspe2NvbnN0IGE9dFtyXSxuPVtdO2Zvcihjb25zdCB0IG9mIGUpbi5wdXNoKHRbcl0pO2NvbnN0IG89bi5qb2luKFwiLFwiKTtudWxsPT1zW29dP3Nbb109e2NvdW50OjEsZGF0YTpuLGl0ZW1zOlthXSxpdGVtUG9zaXRpb25zOltyXX06KGl8fHNbb10uY291bnQrKyxzW29dLml0ZW1zLnB1c2goYSksc1tvXS5pdGVtUG9zaXRpb25zLnB1c2gocikpfXJldHVybiBzfWFzeW5jIF9nZXREYXRhVmFsdWVzKHQsaSxzPSEwKXtjb25zdCBhPW5ldyBsKHRoaXMucXVlcnksdGhpcy5mZWF0dXJlQWRhcHRlcix0aGlzLmZpZWxkc0luZGV4KSx7dmFsdWVFeHByZXNzaW9uOnIsc2NhbGU6bix0aW1lWm9uZTpvfT10O3JldHVybiByP2EuZ2V0RXhwcmVzc2lvblZhbHVlcyhpLHIse3ZpZXdpbmdNb2RlOlwibWFwXCIsc2NhbGU6bixzcGF0aWFsUmVmZXJlbmNlOnRoaXMucXVlcnkub3V0U1J8fHRoaXMuc3BhdGlhbFJlZmVyZW5jZX0se2dlb21ldHJ5VHlwZTp0aGlzLmdlb21ldHJ5VHlwZSxoYXNaOnRoaXMuaGFzWixoYXNNOnRoaXMuaGFzTX0sbyk6YS5nZXREYXRhVmFsdWVzKGksZSh0KSxzKX1hc3luYyBfY2FsY3VsYXRlSGlzdG9ncmFtQmlucyhlLHQsaSl7aWYobnVsbD09dC5taW4mJm51bGw9PXQubWF4KXJldHVybltdO2NvbnN0IHM9dC5pbnRlcnZhbHMsYT10Lm1pbj8/MCxyPXQubWF4Pz8wLG49cy5tYXAoKChbZSx0XSk9Pih7bWluVmFsdWU6ZSxtYXhWYWx1ZTp0LGNvdW50OjAsaXRlbXM6W119KSkpO2ZvcihsZXQgbz0wO288ZS5sZW5ndGg7bysrKXtjb25zdCB0PWVbb10sbD1pW29dO2lmKG51bGwhPXQmJnQ+PWEmJnQ8PXIpe2NvbnN0IGU9WihzLHQpO2U+LTEmJihuW2VdLmNvdW50KyssbltlXS5pdGVtcy5wdXNoKGwpKX19cmV0dXJuIG59YXN5bmMgY3JlYXRlUXVlcnlCaW5zUmVzcG9uc2UoZSl7Y29uc3QgdD1lLmJpbj8uc3BsaXRCeTtpZighdClyZXR1cm4gdGhpcy5fY3JlYXRlQmluc1Jlc3BvbnNlKGUpO2NvbnN0e3ZhbHVlOmksb3V0QWxpYXM6cyx2YWx1ZVR5cGU6YX09dCxyPVtdLG49W3tuYW1lOnM/P2ksYWxpYXM6cz8/aSx0eXBlOmE/P1wiZXNyaUZpZWxkVHlwZVN0cmluZ1wifSx7bmFtZTpFLGFsaWFzOkUsdHlwZTpcImVzcmlGaWVsZFR5cGVJbnRlZ2VyXCJ9XSxvPW5ldyBsKGUsdGhpcy5mZWF0dXJlQWRhcHRlcix0aGlzLmZpZWxkc0luZGV4KSx1PW5ldyBNYXAsYz1bLi4udGhpcy5pdGVtc107dGhpcy5fc29ydEZlYXR1cmVzKGMsW2ldLCgoZSx0LGkpPT5vLmdldEZpZWxkVmFsdWUoZSx0LGkpKSk7Y29uc3QgbT10aGlzLl9nZXRBdHRyaWJ1dGVWYWx1ZXMobyxpLGMsdSksZD10aGlzLl9jYWxjdWxhdGVVbmlxdWVWYWx1ZXMoW21dLGMsby5yZXR1cm5EaXN0aW5jdFZhbHVlcyk7Zm9yKGNvbnN0IGwgaW4gZCl7Y29uc3R7aXRlbXM6dH09ZFtsXSxhPWF3YWl0IHRoaXMuX2NyZWF0ZUJpbnNSZXNwb25zZShlLHQpO2lmKHIucHVzaCguLi5hLmZlYXR1cmVzLm1hcCgoZT0+KHsuLi5lLGF0dHJpYnV0ZXM6ey4uLmUuYXR0cmlidXRlcyxbcz8/aV06bH19KSkpKSxhLmZpZWxkcylmb3IoY29uc3QgZSBvZiBhLmZpZWxkcyluLnNvbWUoKHQ9PnQubmFtZT09PWUubmFtZSkpfHxuLnB1c2goZSl9cmV0dXJue2ZpZWxkczpuLGZlYXR1cmVzOnJ9fWFzeW5jIF9jcmVhdGVCaW5zUmVzcG9uc2UoZSx0KXtjb25zdCBpPWUuYmluO3N3aXRjaCh0PXQ/P3RoaXMuaXRlbXMsaS50eXBlKXtjYXNlXCJhdXRvSW50ZXJ2YWxCaW5cIjpyZXR1cm4gdGhpcy5fY3JlYXRlQXV0b0ludGVydmFsQmluc1Jlc3BvbnNlKEYuZnJvbUpTT04oaSksZSx0KTtjYXNlXCJkYXRlQmluXCI6cmV0dXJuIHRoaXMuX2NyZWF0ZURhdGVCaW5zUmVzcG9uc2UoXy5mcm9tSlNPTihpKSxlLHQpO2Nhc2VcImZpeGVkQm91bmRhcmllc0JpblwiOnJldHVybiB0aGlzLl9jcmVhdGVGaXhlZEJvdW5kYXJpZXNCaW5zUmVzcG9uc2UoYi5mcm9tSlNPTihpKSxlLHQpO2Nhc2VcImZpeGVkSW50ZXJ2YWxCaW5cIjpyZXR1cm4gdGhpcy5fY3JlYXRlRml4ZWRJbnRlcnZhbEJpbnNSZXNwb25zZSh2LmZyb21KU09OKGkpLGUsdCl9fWFzeW5jIF9jcmVhdGVBdXRvSW50ZXJ2YWxCaW5zUmVzcG9uc2UoZSx0LGkpe2NvbnN0e2ZpZWxkOnMsbm9ybWFsaXphdGlvbkZpZWxkOmEsbnVtQmluczpyLG5vcm1hbGl6YXRpb25UeXBlOm4sbm9ybWFsaXphdGlvblRvdGFsOm8sc3RhcnQ6bCxlbmQ6dX09ZSxjPWF3YWl0IHRoaXMuX2dldERhdGFWYWx1ZXMoe2ZpZWxkOmUuZmllbGQsbm9ybWFsaXphdGlvbkZpZWxkOmUubm9ybWFsaXphdGlvbkZpZWxkLG5vcm1hbGl6YXRpb25UeXBlOmUubm9ybWFsaXphdGlvblR5cGUsbm9ybWFsaXphdGlvblRvdGFsOmUubm9ybWFsaXphdGlvblRvdGFsLHRpbWVab25lOnQub3V0VGltZVJlZmVyZW5jZT8uaWFuYVRpbWVab25lfSxpKSxtPWooYyx7ZmllbGQ6cyxub3JtYWxpemF0aW9uRmllbGQ6YSxub3JtYWxpemF0aW9uVHlwZTpuLG5vcm1hbGl6YXRpb25Ub3RhbDpvLG51bUJpbnM6cixtaW5WYWx1ZTpmKGwsITEpLG1heFZhbHVlOmYodSwhMSl9KSxkPWF3YWl0IHRoaXMuX2NhbGN1bGF0ZUhpc3RvZ3JhbUJpbnMoYyxtLGkpO3JldHVybiB0aGlzLl9jcmVhdGVGZWF0dXJlc0Zyb21IaXN0b2dyYW1CaW5zKGQsdCl9YXN5bmMgX2NyZWF0ZURhdGVCaW5zUmVzcG9uc2UoZSx0LGkpe2NvbnN0e2ZpZWxkOnMsaW50ZXJ2YWw6YSxzdGFydDpyLGVuZDpuLHNuYXBUb0RhdGE6byxyZXR1cm5GdWxsSW50ZXJ2YWxCaW46bH09ZSx1PWEudW5pdCxjPWF3YWl0IHRoaXMuX2dldERhdGFWYWx1ZXMoe2ZpZWxkOmUuZmllbGQsdGltZVpvbmU6dC5vdXRUaW1lUmVmZXJlbmNlPy5pYW5hVGltZVpvbmV9LGkpLG09SSh0aGlzLmZpZWxkc0luZGV4LmdldChzKSksZD1WLnRvSlNPTih1KSxoPWMuZmlsdGVyKEJvb2xlYW4pLnNvcnQoKChlLHQpPT5lLXQpKSxwPW51bGwhPXI/ZihyLG0pOmhbMF0seT1udWxsIT1uP2YobixtKTpoW2gubGVuZ3RoLTFdLGc9e3pvbmU6dC5vdXRUaW1lUmVmZXJlbmNlPy5pYW5hVGltZVpvbmU/P0d9LHg9Qy5mcm9tTWlsbGlzKHAsZyksVD1DLmZyb21NaWxsaXMoeSxnKSxGPVtdO2lmKFwibGFzdFwiPT09byl7bGV0IGU9VDtmb3IoO2U+eDspe2NvbnN0IHQ9ZS5taW51cyh7W2RdOmEudmFsdWV9KTtpZih0PHgpe0YudW5zaGlmdChbbD90LnRvTWlsbGlzKCk6eC50b01pbGxpcygpLGUudG9NaWxsaXMoKV0pO2JyZWFrfUYudW5zaGlmdChbdC50b01pbGxpcygpLGUudG9NaWxsaXMoKV0pLGU9dH19ZWxzZXtsZXQgZT1cImZpcnN0XCI9PT1vP3g6eC5zdGFydE9mKGQpO2Zvcig7ZTw9VDspe2NvbnN0IHQ9ZS5wbHVzKHtbZF06YS52YWx1ZX0pO2lmKHQ+VCl7Ri5wdXNoKFtlLnRvTWlsbGlzKCksbD90LnRvTWlsbGlzKCk6VC50b01pbGxpcygpXSk7YnJlYWt9Ri5wdXNoKFtlLnRvTWlsbGlzKCksdC50b01pbGxpcygpXSksZT10fX1jb25zdCBfPWF3YWl0IHRoaXMuX2NhbGN1bGF0ZUhpc3RvZ3JhbUJpbnMoYyx7aW50ZXJ2YWxzOkYsbWluOnAsbWF4Onl9LGkpO3JldHVybiB0aGlzLl9jcmVhdGVGZWF0dXJlc0Zyb21IaXN0b2dyYW1CaW5zKF8sdCl9YXN5bmMgX2NyZWF0ZUZpeGVkQm91bmRhcmllc0JpbnNSZXNwb25zZShlLHQsaSl7Y29uc3R7ZmllbGQ6c309ZSxhPWF3YWl0IHRoaXMuX2dldERhdGFWYWx1ZXMoe2ZpZWxkOnMsdGltZVpvbmU6dC5vdXRUaW1lUmVmZXJlbmNlPy5pYW5hVGltZVpvbmV9LGkpLHI9SSh0aGlzLmZpZWxkc0luZGV4LmdldChzKSksbj1lLmJvdW5kYXJpZXMubWFwKChlPT5mKGUscikpKS5zb3J0KCgoZSx0KT0+ZS10KSksbz1bXTtmb3IobGV0IGM9MDtjPG4ubGVuZ3RoLTE7YysrKW8ucHVzaChbbltjXSxuW2MrMV1dKTtjb25zdCBsPXtpbnRlcnZhbHM6byxtaW46bi5hdCgwKSxtYXg6bi5hdCgtMSl9LHU9YXdhaXQgdGhpcy5fY2FsY3VsYXRlSGlzdG9ncmFtQmlucyhhLGwsaSk7cmV0dXJuIHRoaXMuX2NyZWF0ZUZlYXR1cmVzRnJvbUhpc3RvZ3JhbUJpbnModSx0KX1hc3luYyBfY3JlYXRlRml4ZWRJbnRlcnZhbEJpbnNSZXNwb25zZShlLHQsaSl7Y29uc3R7ZmllbGQ6cyxpbnRlcnZhbDphLHN0YXJ0OnIsZW5kOm59PWUsbz1hd2FpdCB0aGlzLl9nZXREYXRhVmFsdWVzKHtmaWVsZDplLmZpZWxkLG5vcm1hbGl6YXRpb25GaWVsZDplLm5vcm1hbGl6YXRpb25GaWVsZCxub3JtYWxpemF0aW9uVHlwZTplLm5vcm1hbGl6YXRpb25UeXBlLG5vcm1hbGl6YXRpb25Ub3RhbDplLm5vcm1hbGl6YXRpb25Ub3RhbCx0aW1lWm9uZTp0Lm91dFRpbWVSZWZlcmVuY2U/LmlhbmFUaW1lWm9uZX0saSksbD1JKHRoaXMuZmllbGRzSW5kZXguZ2V0KHMpKSx1PWoobyx7ZmllbGQ6cyxjbGFzc2lmaWNhdGlvbk1ldGhvZDpcImRlZmluZWQtaW50ZXJ2YWxcIixkZWZpbmVkSW50ZXJ2YWw6YSxtaW5WYWx1ZTpmKHIsbCksbWF4VmFsdWU6ZihuLGwpfSwhMCksYz1hd2FpdCB0aGlzLl9jYWxjdWxhdGVIaXN0b2dyYW1CaW5zKG8sdSxpKTtyZXR1cm4gdGhpcy5fY3JlYXRlRmVhdHVyZXNGcm9tSGlzdG9ncmFtQmlucyhjLHQpfWFzeW5jIF9jcmVhdGVGZWF0dXJlc0Zyb21IaXN0b2dyYW1CaW5zKGUsdCl7Y29uc3R7dXBwZXJCb3VuZGFyeUFsaWFzOmksbG93ZXJCb3VuZGFyeUFsaWFzOnN9PXQsYT1zfHxcImxvd2VyQm91bmRhcnlcIixyPWl8fFwidXBwZXJCb3VuZGFyeVwiLG49W10sbz1be25hbWU6YSxhbGlhczphLHR5cGU6XCJlc3JpRmllbGRUeXBlRG91YmxlXCJ9LHtuYW1lOnIsYWxpYXM6cix0eXBlOlwiZXNyaUZpZWxkVHlwZURvdWJsZVwifV0sbD10LmJpbj8uc3RhY2tCeT8udmFsdWUsdT10LmJpbj8uc3RhY2tCeT8ub3V0QWxpYXM7bCYmby5wdXNoKHtuYW1lOkUsYWxpYXM6RSx0eXBlOlwiZXNyaUZpZWxkVHlwZUludGVnZXJcIn0se25hbWU6dT8/bCxhbGlhczp1Pz9sLHR5cGU6XCJlc3JpRmllbGRUeXBlU3RyaW5nXCJ9KTtsZXQgYz0wO2NvbnN0IG09XCJkYXRlQmluXCI9PT10LmJpbi50eXBlLGQ9dC5vdXRUaW1lUmVmZXJlbmNlPy5pYW5hVGltZVpvbmU7Zm9yKGNvbnN0IGYgb2YgZSl7Y29uc3R7bWluVmFsdWU6ZSxtYXhWYWx1ZTppLGl0ZW1zOnN9PWYsaD17YXR0cmlidXRlczp7fX07bGV0IHA7aWYoaC5hdHRyaWJ1dGVzW2FdPW0mJmQmJm51bGwhPWU/Qy5mcm9tTWlsbGlzKGUse3pvbmU6ZH0pLnRvSVNPKCk6ZSxoLmF0dHJpYnV0ZXNbcl09bSYmZCYmbnVsbCE9aT9DLmZyb21NaWxsaXMoaSx7em9uZTpkfSkudG9JU08oKTppLGw/KHA9YXdhaXQgdGhpcy5fY3JlYXRlU3RhdGlzdGljc1F1ZXJ5UmVzcG9uc2Uoey4uLnQsZ3JvdXBCeUZpZWxkc0ZvclN0YXRpc3RpY3M6W2xdLG9yZGVyQnlGaWVsZHM6W2xdfSxzKSxoLmF0dHJpYnV0ZXNbRV09KytjLFwiZmxhdFwiPT09dC5iaW4uanNvblN0eWxlP24ucHVzaCguLi5wLmZlYXR1cmVzLm1hcCgoKHthdHRyaWJ1dGVzOntFWFBSXzE6ZSwuLi50fSwuLi5pfSk9Pih7Li4uaSxhdHRyaWJ1dGVzOnU/P2U/ey4uLnQsW3U/P2VdOmUsLi4uaC5hdHRyaWJ1dGVzfTp7Li4udCwuLi5oLmF0dHJpYnV0ZXN9fSkpKSk6KGguc3RhY2tlZEF0dHJpYnV0ZXM9cC5mZWF0dXJlcy5tYXAoKCh7YXR0cmlidXRlczp7RVhQUl8xOmUsLi4udH19KT0+dT8/ZT97Li4udCxbdT8/ZV06ZX06dCkpLG4ucHVzaChoKSkpOih0LmJpbj8uc3BsaXRCeSYmKGguYXR0cmlidXRlc1tFXT0rK2MpLHA9YXdhaXQgdGhpcy5fY3JlYXRlU3RhdGlzdGljc1F1ZXJ5UmVzcG9uc2UodCxzLGgpLG4ucHVzaChoKSkscC5maWVsZHMpZm9yKGNvbnN0IHQgb2YgcC5maWVsZHMpby5zb21lKChlPT5lLm5hbWU9PT10Lm5hbWUpKXx8by5wdXNoKHQpfXJldHVyblwiZGVzY1wiPT09dC5iaW5PcmRlciYmbi5yZXZlcnNlKCkse2ZpZWxkczpvLGZlYXR1cmVzOm59fX1mdW5jdGlvbiBIKGUsdCxpLHMpe2NvbnN0IGE9cy54LWkueCxyPXMueS1pLnksbj10LngtaS54LG89dC55LWkueSxsPWEqYStyKnI7aWYoMD09PWwpcmV0dXJuITE7Y29uc3QgdT1uKmErbypyLGM9TWF0aC5taW4oMSxNYXRoLm1heCgwLHUvbCkpO3JldHVybiBlLng9aS54K2EqYyxlLnk9aS55K3IqYywhMH1mdW5jdGlvbiBRKGUsdCl7cmV0dXJuIGU/dD80OjM6dD8zOjJ9Y2xhc3MgVXtjb25zdHJ1Y3RvcihlLHQpe3RoaXMuY29vcmRzPWUsdGhpcy5jb29yZHNJbmRleD10fWdldCB4KCl7cmV0dXJuIHRoaXMuY29vcmRzW3RoaXMuY29vcmRzSW5kZXhdfWdldCB5KCl7cmV0dXJuIHRoaXMuY29vcmRzW3RoaXMuY29vcmRzSW5kZXgrMV19Z2V0IHooKXtyZXR1cm4gdGhpcy5jb29yZHNbdGhpcy5jb29yZHNJbmRleCsyXX19Y29uc3Qgaz1bMV07ZXhwb3J0e08gYXMgUXVlcnlFbmdpbmVSZXN1bHR9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMzMvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmZ1bmN0aW9uIHQodCxlLHIpe3JldHVybntvYmplY3RJZDp0LHRhcmdldDplLGRpc3RhbmNlOnIsdHlwZTpcInZlcnRleFwifX1mdW5jdGlvbiBlKHQsZSxyLG4sZCxhPSExKXtyZXR1cm57b2JqZWN0SWQ6dCx0YXJnZXQ6ZSxkaXN0YW5jZTpyLHR5cGU6XCJlZGdlXCIsc3RhcnQ6bixlbmQ6ZCxkcmFwZWQ6YX19ZXhwb3J0e2UgYXMgbWFrZUVkZ2VDYW5kaWRhdGUsdCBhcyBtYWtlVmVydGV4Q2FuZGlkYXRlfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjMzL2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnQgZSBmcm9tXCIuLi8uLi8uLi9jb3JlL0Vycm9yLmpzXCI7aW1wb3J0e1doZXJlQ2xhdXNlQ2FjaGUgYXMgaX1mcm9tXCIuLi8uLi8uLi9jb3JlL3NxbC9XaGVyZUNsYXVzZUNhY2hlLmpzXCI7aW1wb3J0e2tlYmFiRGljdCBhcyByfWZyb21cIi4uLy4uL3N1cHBvcnQvZmllbGRUeXBlLmpzXCI7Y29uc3Qgcz1uZXcgaSg1MCw1MDApLHQ9XCJ1bnN1cHBvcnRlZC1xdWVyeVwiLG49XCIgYXMgXCIsbz1uZXcgU2V0KFtcImVzcmlGaWVsZFR5cGVPSURcIixcImVzcmlGaWVsZFR5cGVTbWFsbEludGVnZXJcIixcImVzcmlGaWVsZFR5cGVCaWdJbnRlZ2VyXCIsXCJlc3JpRmllbGRUeXBlSW50ZWdlclwiLFwiZXNyaUZpZWxkVHlwZVNpbmdsZVwiLFwiZXNyaUZpZWxkVHlwZURvdWJsZVwiLFwiZXNyaUZpZWxkVHlwZUxvbmdcIl0pLGE9bmV3IFNldChbXCJlc3JpRmllbGRUeXBlRGF0ZVwiLFwiZXNyaUZpZWxkVHlwZURhdGVPbmx5XCIsXCJlc3JpRmllbGRUeXBlVGltZU9ubHlcIixcImVzcmlGaWVsZFR5cGVUaW1lc3RhbXBPZmZzZXRcIl0pLGw9bmV3IFNldChbXCJlc3JpRmllbGRUeXBlU3RyaW5nXCIsXCJlc3JpRmllbGRUeXBlR1VJRFwiLFwiZXNyaUZpZWxkVHlwZUdsb2JhbElEXCIsLi4ubywuLi5hXSk7ZnVuY3Rpb24gZChpLHIsbj17fSl7Y29uc3Qgbz1jKHIsaSk7aWYoIW8pe2NvbnN0IG49cy5nZXRFcnJvcihyLGkpO3Rocm93IG5ldyBlKHQsXCJpbnZhbGlkIFNRTCBleHByZXNzaW9uXCIse2V4cHJlc3Npb246cixlcnJvcjpufSl9Y29uc3QgYT1uLmV4cHJlc3Npb25OYW1lfHxcImV4cHJlc3Npb25cIjtpZihuLnZhbGlkYXRlU3RhbmRhcmRpemVkJiYhby5pc1N0YW5kYXJkaXplZCl0aHJvdyBuZXcgZSh0LGAke2F9IGlzIG5vdCBzdGFuZGFyZGAse2V4cHJlc3Npb246cn0pO2lmKG4udmFsaWRhdGVBZ2dyZWdhdGUmJiFvLmlzQWdncmVnYXRlKXRocm93IG5ldyBlKHQsYCR7YX0gZG9lcyBub3QgY29udGFpbiBhIHZhbGlkIGFnZ3JlZ2F0ZSBmdW5jdGlvbmAse2V4cHJlc3Npb246cn0pO3JldHVybiBvLmZpZWxkTmFtZXN9ZnVuY3Rpb24gcChlLGkscixzKXtpZighcilyZXR1cm4hMDtjb25zdCB0PVwid2hlcmUgY2xhdXNlXCI7cmV0dXJuIGcoZSxpLGQoZSxyLHt2YWxpZGF0ZVN0YW5kYXJkaXplZDohMCxleHByZXNzaW9uTmFtZTp0fSkse2V4cHJlc3Npb25OYW1lOnQscXVlcnk6c30pLCEwfWZ1bmN0aW9uIGYoaSxyLHMsbixvKXtpZighcylyZXR1cm4hMDtjb25zdCBhPVwiaGF2aW5nIGNsYXVzZVwiLGw9ZChpLHMse3ZhbGlkYXRlQWdncmVnYXRlOiEwLGV4cHJlc3Npb25OYW1lOmF9KTtnKGkscixsLHtleHByZXNzaW9uTmFtZTphLHF1ZXJ5Om99KTtjb25zdCBwPWMocyxpKSxmPXA/LmdldEV4cHJlc3Npb25zKCkuZXZlcnkoKGU9Pntjb25zdHthZ2dyZWdhdGVUeXBlOnIsZmllbGQ6c309ZSx0PWkuZ2V0KHMpPy5uYW1lO3JldHVybiBuLnNvbWUoKGU9Pntjb25zdHtvblN0YXRpc3RpY0ZpZWxkOnMsc3RhdGlzdGljVHlwZTpufT1lLG89aS5nZXQocyk/Lm5hbWU7cmV0dXJuIG89PT10JiZuLnRvTG93ZXJDYXNlKCkudHJpbSgpPT09cn0pKX0pKTtpZighZil0aHJvdyBuZXcgZSh0LFwiZXhwcmVzc2lvbnMgaW4gaGF2aW5nIGNsYXVzZSBzaG91bGQgYWxzbyBleGlzdCBpbiBvdXRTdGF0aXN0aWNzXCIse2hhdmluZzpzfSk7cmV0dXJuITB9ZnVuY3Rpb24gYyhlLGkpe3JldHVybiBlP3MuZ2V0KGUsaSk6bnVsbH1mdW5jdGlvbiB1KGUpe3JldHVybi9cXCgoLio/KVxcKS8udGVzdChlKT9lOmUuc3BsaXQobilbMF19ZnVuY3Rpb24geShlKXtyZXR1cm4gZS5zcGxpdChuKVsxXX1mdW5jdGlvbiBnKGkscixzLG49e30pe2NvbnN0IG89bmV3IE1hcDtpZihtKG8saSxyLG4uYWxsb3dlZEZpZWxkVHlwZXM/P2wscyksby5zaXplKXtjb25zdCBpPW4uZXhwcmVzc2lvbk5hbWU/P1wiZXhwcmVzc2lvblwiO3Rocm93IG5ldyBlKHQsYCR7aX0gY29udGFpbnMgaW52YWxpZCBvciBtaXNzaW5nIGZpZWxkc2Ase2Vycm9yczpBcnJheS5mcm9tKG8udmFsdWVzKCkpLHF1ZXJ5Om4ucXVlcnl9KX19ZnVuY3Rpb24gbShlLGkscixzLHQpe2NvbnN0IG49dC5pbmNsdWRlcyhcIipcIik/Wy4uLnIsLi4udC5maWx0ZXIoKGU9PlwiKlwiIT09ZSkpXTp0O2Zvcihjb25zdCBhIG9mIG4pe2lmKGkuZ2V0KGEpKVQoZSxpLHIscyxhKTtlbHNlIHRyeXtjb25zdCB0PWQoaSx1KGEpLHt2YWxpZGF0ZVN0YW5kYXJkaXplZDohMH0pO2Zvcihjb25zdCBuIG9mIHQpVChlLGkscixzLG4pfWNhdGNoKG8pe2Uuc2V0KGEse3R5cGU6XCJleHByZXNzaW9uLWVycm9yXCIsZXhwcmVzc2lvbjphLGVycm9yOm99KX19fWZ1bmN0aW9uIFQoZSxpLHMsdCxuKXtjb25zdCBvPWkuZ2V0KG4pO28/cy5oYXMoby5uYW1lKT9cImFsbFwiIT09dCYmITE9PT10Py5oYXMoby50eXBlKSYmZS5zZXQobix7dHlwZTpcImludmFsaWQtdHlwZVwiLGZpZWxkTmFtZTpvLm5hbWUsZmllbGRUeXBlOnIuZnJvbUpTT04oby50eXBlKSxhbGxvd2VkRmllbGRUeXBlczpBcnJheS5mcm9tKHQsKGU9PnIuZnJvbUpTT04oZSkpKX0pOmUuc2V0KG4se3R5cGU6XCJtaXNzaW5nLWZpZWxkXCIsZmllbGROYW1lOm8ubmFtZX0pOmUuc2V0KG4se3R5cGU6XCJpbnZhbGlkLWZpZWxkXCIsZmllbGROYW1lOm59KX1leHBvcnR7YSBhcyBhbGxEYXRlQW5kVGltZUZpZWxkVHlwZXMseSBhcyBnZXRBbGlhc0Zyb21GaWVsZE5hbWUsdSBhcyBnZXRFeHByZXNzaW9uRnJvbUZpZWxkTmFtZSxjIGFzIGdldFdoZXJlQ2xhdXNlLG8gYXMgbnVtZXJpY0ZpZWxkVHlwZXMsZyBhcyB2YWxpZGF0ZUZpZWxkcyxmIGFzIHZhbGlkYXRlSGF2aW5nLHAgYXMgdmFsaWRhdGVXaGVyZX07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4zMy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e2dlbmVyYWxpemVPcHRpbWl6ZWRHZW9tZXRyeSBhcyBuLHF1YW50aXplT3B0aW1pemVkR2VvbWV0cnkgYXMgZSxjb252ZXJ0VG9NdWx0aXBvaW50IGFzIHIsY29udmVydFRvUG9seWdvbiBhcyB0LGNvbnZlcnRUb1BvbHlsaW5lIGFzIG8sY29udmVydFRvUG9pbnQgYXMgaSxyZW1vdmVaTVZhbHVlcyBhcyBzfWZyb21cIi4uL2ZlYXR1cmVDb252ZXJzaW9uVXRpbHMuanNcIjtpbXBvcnQgbCBmcm9tXCIuLi9PcHRpbWl6ZWRHZW9tZXRyeS5qc1wiO2NvbnN0IHU9bmV3IGwsZj1uZXcgbCxtPW5ldyBsLGM9e2VzcmlHZW9tZXRyeVBvaW50OmksZXNyaUdlb21ldHJ5UG9seWxpbmU6byxlc3JpR2VvbWV0cnlQb2x5Z29uOnQsZXNyaUdlb21ldHJ5TXVsdGlwb2ludDpyfTtmdW5jdGlvbiB5KG4scix0LG89bi5oYXNaLHM9bi5oYXNNKXtpZihudWxsPT1yKXJldHVybiBudWxsO2NvbnN0IGw9bi5oYXNaJiZvLHU9bi5oYXNNJiZzO2lmKHQpe2NvbnN0IGY9ZShtLHIsbi5oYXNaLG4uaGFzTSxcImVzcmlHZW9tZXRyeVBvaW50XCIsdCxvLHMpO3JldHVybiBpKGYsbCx1KX1yZXR1cm4gaShyLGwsdSl9ZnVuY3Rpb24gYShyLHQsbyxpLGwseSxhPXQsaD1vKXtjb25zdCBwPXQmJmEsRz1vJiZoLGc9bnVsbCE9aT9cImNvb3Jkc1wiaW4gaT9pOmkuZ2VvbWV0cnk6bnVsbDtpZihudWxsPT1nKXJldHVybiBudWxsO2lmKGwpe2xldCBpPW4oZixnLHQsbyxyLGwsYSxoKTtyZXR1cm4geSYmKGk9ZShtLGkscCxHLHIseSkpLGNbcl0/LihpLHAsRyk/P251bGx9aWYoeSl7Y29uc3Qgbj1lKG0sZyx0LG8scix5LGEsaCk7cmV0dXJuIGNbcl0/LihuLHAsRyk/P251bGx9cmV0dXJuIHModSxnLHQsbyxhLGgpLGNbcl0/Lih1LHAsRyk/P251bGx9ZnVuY3Rpb24gaChuKXtyZXR1cm4gbiYmcCBpbiBuP0pTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkobixHKSk6bn1jb25zdCBwPVwiX2dlVmVyc2lvblwiLEc9KG4sZSk9Pm49PT1wP3ZvaWQgMDplO2V4cG9ydHtoIGFzIGNsZWFuRnJvbUdlb21ldHJ5RW5naW5lLGEgYXMgZ2V0R2VvbWV0cnkseSBhcyB0cmFuc2Zvcm1DZW50cm9pZH07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4zMy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0IGUgZnJvbVwiLi4vLi4vLi4vY29yZS9FcnJvci5qc1wiO2ltcG9ydHt2YWxpZGF0ZUZpZWxkcyBhcyB0LHZhbGlkYXRlV2hlcmUgYXMgaSx2YWxpZGF0ZUhhdmluZyBhcyBzLG51bWVyaWNGaWVsZFR5cGVzIGFzIHIsYWxsRGF0ZUFuZFRpbWVGaWVsZFR5cGVzIGFzIG99ZnJvbVwiLi9hdHRyaWJ1dGVTdXBwb3J0LmpzXCI7aW1wb3J0e2NoZWNrUHJvamVjdGlvblN1cHBvcnQgYXMgbn1mcm9tXCIuL3Byb2plY3Rpb25TdXBwb3J0LmpzXCI7aW1wb3J0e2NoZWNrU3BhdGlhbFF1ZXJ5U3VwcG9ydCBhcyBhfWZyb21cIi4vc3BhdGlhbFF1ZXJ5U3VwcG9ydC5qc1wiO2ltcG9ydHtsb2FkQXJjYWRlIGFzIGx9ZnJvbVwiLi4vLi4vLi4vc3VwcG9ydC9sb2FkQXJjYWRlLmpzXCI7Y29uc3QgdT1cInVuc3VwcG9ydGVkLXF1ZXJ5XCI7YXN5bmMgZnVuY3Rpb24gcCh0LGkpe2NvbnN0IHM9dC5iaW47aWYoIXMub25GaWVsZCYmIXMub25FeHByZXNzaW9uPy52YWx1ZXx8XCJhdXRvSW50ZXJ2YWxCaW5cIj09PXMudHlwZSYmbnVsbD09cy5wYXJhbWV0ZXJzLm51bWJlck9mQmluc3x8XCJkYXRlQmluXCI9PT1zLnR5cGUmJihudWxsPT1zLnBhcmFtZXRlcnMubnVtYmVyfHxudWxsPT1zLnBhcmFtZXRlcnMudW5pdCl8fFwiZml4ZWRCb3VuZGFyaWVzQmluXCI9PT1zLnR5cGUmJm51bGw9PXMucGFyYW1ldGVycy5ib3VuZGFyaWVzfHxcImZpeGVkSW50ZXJ2YWxCaW5cIj09PXMudHlwZSYmbnVsbD09cy5wYXJhbWV0ZXJzLmludGVydmFsKXRocm93IG5ldyBlKHUsXCJVbnN1cHBvcnRlZCBxdWVyeSBvcHRpb25zXCIse3F1ZXJ5OnR9KTtyZXR1cm4gZCh0LGkpfWFzeW5jIGZ1bmN0aW9uIGQodCx7ZmllbGRzSW5kZXg6aSxnZW9tZXRyeVR5cGU6cyxzcGF0aWFsUmVmZXJlbmNlOnIsYXZhaWxhYmxlRmllbGRzOm99KXtpZihudWxsIT10Lmdlb21ldHJ5UHJlY2lzaW9ufHx0Lm11bHRpcGF0Y2hPcHRpb24mJlwieHlGb290cHJpbnRcIiE9PXQubXVsdGlwYXRjaE9wdGlvbnx8dC5waXhlbFNpemV8fHQucmVsYXRpb25QYXJhbXx8dC50ZXh0KXRocm93IG5ldyBlKHUsXCJVbnN1cHBvcnRlZCBxdWVyeSBvcHRpb25zXCIse3F1ZXJ5OnR9KTtyZXR1cm4gYyhpLG8sdCksbShpLG8sdCksUHJvbWlzZS5hbGwoW2EodCxzLHIpLG4ocix0Lm91dFNSKV0pLnRoZW4oKCgpPT50KSl9ZnVuY3Rpb24gYyhzLHIsbyl7Y29uc3R7cmV0dXJuRGlzdGluY3RWYWx1ZXM6bixvdXRTdGF0aXN0aWNzOmF9PW8sbD1hP2EubWFwKChlPT5lLm91dFN0YXRpc3RpY0ZpZWxkTmFtZSYmZS5vdXRTdGF0aXN0aWNGaWVsZE5hbWUudG9Mb3dlckNhc2UoKSkpLmZpbHRlcihCb29sZWFuKTpbXTtpZihcIm9yZGVyQnlGaWVsZHNcImluIG8mJm8ub3JkZXJCeUZpZWxkcyYmby5vcmRlckJ5RmllbGRzLmxlbmd0aD4wKXtjb25zdCBlPVwiIGFzY1wiLGk9XCIgZGVzY1wiLG49by5vcmRlckJ5RmllbGRzLm1hcCgodD0+e2NvbnN0IHM9dC50b0xvd2VyQ2FzZSgpO3JldHVybiBzLmluY2x1ZGVzKGUpP3Muc3BsaXQoZSlbMF06cy5pbmNsdWRlcyhpKT9zLnNwbGl0KGkpWzBdOnR9KSkuZmlsdGVyKChlPT4hbC5pbmNsdWRlcyhlKSkpO3QocyxyLG4se2V4cHJlc3Npb25OYW1lOlwib3JkZXJCeUZpZWxkc1wiLHF1ZXJ5Om99KX1pZihcIm91dEZpZWxkc1wiaW4gbylpZihvLm91dEZpZWxkcz8ubGVuZ3RoKXQocyxyLG8ub3V0RmllbGRzLHtleHByZXNzaW9uTmFtZTpcIm91dEZpZWxkc1wiLHF1ZXJ5Om8sYWxsb3dlZEZpZWxkVHlwZXM6XCJhbGxcIn0pO2Vsc2UgaWYobil0aHJvdyBuZXcgZSh1LFwib3V0RmllbGRzIHNob3VsZCBiZSBzcGVjaWZpZWQgZm9yIHJldHVybkRpc3RpbmN0VmFsdWVzXCIse3F1ZXJ5Om99KTtpKHMscixvLndoZXJlLG8pfWNvbnN0IGY9bmV3IFNldChbLi4uciwuLi5vXSk7ZnVuY3Rpb24gbShpLHIsbyl7Y29uc3R7b3V0U3RhdGlzdGljczpuLGdyb3VwQnlGaWVsZHNGb3JTdGF0aXN0aWNzOmEsaGF2aW5nOmx9PW8scD1hPy5sZW5ndGgsZD1uPy5sZW5ndGg7aWYobCl7aWYoIXB8fCFkKXRocm93IG5ldyBlKHUsXCJvdXRTdGF0aXN0aWNzIGFuZCBncm91cEJ5RmllbGRzRm9yU3RhdGlzdGljcyBzaG91bGQgYmUgc3BlY2lmaWVkIHdpdGggaGF2aW5nXCIse3F1ZXJ5Om99KTtzKGkscixsLG4sbyl9aWYoZCl7aWYoIWgobikpcmV0dXJuO2NvbnN0IHM9bi5tYXAoKGU9PmUub25TdGF0aXN0aWNGaWVsZCkpLmZpbHRlcihCb29sZWFuKTt0KGkscixzLHtleHByZXNzaW9uTmFtZTpcIm9uU3RhdGlzdGljRmllbGRzXCIscXVlcnk6b30pLHAmJnQoaSxyLGEse2V4cHJlc3Npb25OYW1lOlwiZ3JvdXBCeUZpZWxkc0ZvclN0YXRpc3RpY3NcIixxdWVyeTpvfSk7Zm9yKGNvbnN0IGEgb2Ygbil7Y29uc3R7b25TdGF0aXN0aWNGaWVsZDpzLHN0YXRpc3RpY1R5cGU6bn09YTtpZigoXCJwZXJjZW50aWxlX2Rpc2NcIj09PW58fFwicGVyY2VudGlsZV9jb250XCI9PT1uKSYmXCJzdGF0aXN0aWNQYXJhbWV0ZXJzXCJpbiBhKXtjb25zdHtzdGF0aXN0aWNQYXJhbWV0ZXJzOnR9PWE7aWYoIXQpdGhyb3cgbmV3IGUodSxcInN0YXRpc3RpY1BhcmFtZXRlcnMgc2hvdWxkIGJlIHNldCBmb3IgcGVyY2VudGlsZSB0eXBlXCIse2RlZmluaXRpb246YSxxdWVyeTpvfSl9ZWxzZSBpLmdldChzKSYmXCJjb3VudFwiIT09biYmXCJtaW5cIiE9PW4mJlwibWF4XCIhPT1uJiZ0KGkscixbc10se2V4cHJlc3Npb25OYW1lOmBvdXRTdGF0aXN0aWNzIHdpdGggJyR7bn0nIHN0YXRpc3RpYyB0eXBlYCxhbGxvd2VkRmllbGRUeXBlczpmLHF1ZXJ5Om99KX19fWFzeW5jIGZ1bmN0aW9uIHkodCxpLHtmaWVsZHNJbmRleDpzLGdlb21ldHJ5VHlwZTpyLHNwYXRpYWxSZWZlcmVuY2U6byxhdmFpbGFibGVGaWVsZHM6bH0pe2lmKG51bGwhPXQuZ2VvbWV0cnlQcmVjaXNpb258fHQubXVsdGlwYXRjaE9wdGlvbnx8dC5waXhlbFNpemV8fHQucmVsYXRpb25QYXJhbXx8dC50ZXh0fHx0Lm91dFN0YXRpc3RpY3N8fHQuZ3JvdXBCeUZpZWxkc0ZvclN0YXRpc3RpY3N8fHQuaGF2aW5nfHx0Lm9yZGVyQnlGaWVsZHMpdGhyb3cgbmV3IGUodSxcIlVuc3VwcG9ydGVkIHF1ZXJ5IG9wdGlvbnNcIix7cXVlcnk6dH0pO3JldHVybiBjKHMsbCx0KSxQcm9taXNlLmFsbChbRihzLGwsaSx0KSxhKHQscixvKSxuKG8sdC5vdXRTUildKS50aGVuKCgoKT0+dCkpfWFzeW5jIGZ1bmN0aW9uIEYoaSxzLHIsbyl7bGV0IG49W107aWYoci52YWx1ZUV4cHJlc3Npb24pe2NvbnN0e2FyY2FkZVV0aWxzOmV9PWF3YWl0IGwoKTtuPWUuZXh0cmFjdEZpZWxkTmFtZXMoci52YWx1ZUV4cHJlc3Npb24pfWlmKHIuZmllbGQmJm4ucHVzaChyLmZpZWxkKSxyLmZpZWxkMiYmbi5wdXNoKHIuZmllbGQyKSxyLmZpZWxkMyYmbi5wdXNoKHIuZmllbGQzKSxyLm5vcm1hbGl6YXRpb25GaWVsZCYmbi5wdXNoKHIubm9ybWFsaXphdGlvbkZpZWxkKSwhbi5sZW5ndGgmJiFyLnZhbHVlRXhwcmVzc2lvbil0aHJvdyBuZXcgZSh1LFwiZmllbGQgb3IgdmFsdWVFeHByZXNzaW9uIGlzIHJlcXVpcmVkXCIse3BhcmFtczpyfSk7dChpLHMsbix7ZXhwcmVzc2lvbk5hbWU6XCJzdGF0aXN0aWNzXCIscXVlcnk6b30pfWZ1bmN0aW9uIGgoZSl7cmV0dXJuIG51bGwhPWUmJmUuZXZlcnkoKGU9PlwiZXhjZWVkc2xpbWl0XCIhPT1lLnN0YXRpc3RpY1R5cGUpKX1leHBvcnR7cCBhcyB2YWxpZGF0ZUF0dHJpYnV0ZUJpbnNRdWVyeSxkIGFzIHZhbGlkYXRlUXVlcnkseSBhcyB2YWxpZGF0ZVN0YXRpc3RpY3NRdWVyeX07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4zMy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0IGUgZnJvbVwiLi4vLi4vLi4vY29yZS9FcnJvci5qc1wiO2ltcG9ydHtleHRlbnRDb250YWluc1BvaW50IGFzIHIsZXh0ZW50Q29udGFpbnNNdWx0aXBvaW50IGFzIHR9ZnJvbVwiLi4vLi4vLi4vZ2VvbWV0cnkvc3VwcG9ydC9jb250YWlucy5qc1wiO2ltcG9ydHtnZXRFeHRlbnRJbnRlcnNlY3RvciBhcyBpfWZyb21cIi4uLy4uLy4uL2dlb21ldHJ5L3N1cHBvcnQvaW50ZXJzZWN0cy5qc1wiO2ltcG9ydHtpc1BvbHlnb24gYXMgbyxpc0V4dGVudCBhcyBzLGdldEpzb25UeXBlIGFzIG59ZnJvbVwiLi4vLi4vLi4vZ2VvbWV0cnkvc3VwcG9ydC9qc29uVXRpbHMuanNcIjtpbXBvcnR7aXNWYWxpZCBhcyBhfWZyb21cIi4uLy4uLy4uL2dlb21ldHJ5L3N1cHBvcnQvc3BhdGlhbFJlZmVyZW5jZVV0aWxzLmpzXCI7aW1wb3J0e3BvbHlnb25Db250YWluc1BvaW50IGFzIGwscG9seWdvbkNvbnRhaW5zTXVsdGlwb2ludCBhcyBwfWZyb21cIi4uL2NvbnRhaW5zLmpzXCI7aW1wb3J0e2NvbnZlcnRGcm9tUG9seWdvbiBhcyBtfWZyb21cIi4uL2ZlYXR1cmVDb252ZXJzaW9uVXRpbHMuanNcIjtpbXBvcnQgdSBmcm9tXCIuLi9PcHRpbWl6ZWRHZW9tZXRyeS5qc1wiO2ltcG9ydHtnZXRHZW9tZXRyeSBhcyB5fWZyb21cIi4vZ2VvbWV0cnlVdGlscy5qc1wiO2ltcG9ydHtjaGVja1Byb2plY3Rpb25TdXBwb3J0IGFzIGN9ZnJvbVwiLi9wcm9qZWN0aW9uU3VwcG9ydC5qc1wiO2NvbnN0IGY9XCJ1bnN1cHBvcnRlZC1xdWVyeVwiLFI9e3NwYXRpYWxSZWxhdGlvbnNoaXA6e2VzcmlTcGF0aWFsUmVsSW50ZXJzZWN0czohMCxlc3JpU3BhdGlhbFJlbENvbnRhaW5zOiEwLGVzcmlTcGF0aWFsUmVsV2l0aGluOiEwLGVzcmlTcGF0aWFsUmVsQ3Jvc3NlczohMCxlc3JpU3BhdGlhbFJlbERpc2pvaW50OiEwLGVzcmlTcGF0aWFsUmVsVG91Y2hlczohMCxlc3JpU3BhdGlhbFJlbE92ZXJsYXBzOiEwLGVzcmlTcGF0aWFsUmVsRW52ZWxvcGVJbnRlcnNlY3RzOiEwLGVzcmlTcGF0aWFsUmVsSW5kZXhJbnRlcnNlY3RzOiExLGVzcmlTcGF0aWFsUmVsUmVsYXRpb246ITF9LHF1ZXJ5R2VvbWV0cnk6e2VzcmlHZW9tZXRyeVBvaW50OiEwLGVzcmlHZW9tZXRyeU11bHRpUGF0Y2g6ITEsZXNyaUdlb21ldHJ5TXVsdGlwb2ludDohMCxlc3JpR2VvbWV0cnlQb2x5bGluZTohMCxlc3JpR2VvbWV0cnlQb2x5Z29uOiEwLGVzcmlHZW9tZXRyeUVudmVsb3BlOiEwfSxsYXllckdlb21ldHJ5Ontlc3JpR2VvbWV0cnlQb2ludDohMCxlc3JpR2VvbWV0cnlNdWx0aVBhdGNoOiEwLGVzcmlHZW9tZXRyeU11bHRpcG9pbnQ6ITAsZXNyaUdlb21ldHJ5UG9seWxpbmU6ITAsZXNyaUdlb21ldHJ5UG9seWdvbjohMCxlc3JpR2VvbWV0cnlFbnZlbG9wZTohMX19O2Z1bmN0aW9uIFMoZSl7cmV0dXJuIG51bGwhPWUmJiEwPT09Ui5zcGF0aWFsUmVsYXRpb25zaGlwW2VdfWZ1bmN0aW9uIGooZSl7cmV0dXJuIG51bGwhPWUmJiEwPT09Ui5xdWVyeUdlb21ldHJ5W24oZSldfWZ1bmN0aW9uIEcoZSl7cmV0dXJuIG51bGwhPWUmJiEwPT09Ui5sYXllckdlb21ldHJ5W2VdfWNvbnN0IGc9e2VzcmlTcGF0aWFsUmVsSW50ZXJzZWN0czooKT0+aW1wb3J0KFwiLi4vLi4vLi4vZ2VvbWV0cnkvb3BlcmF0b3JzL2pzb24vaW50ZXJzZWN0c09wZXJhdG9yLmpzXCIpLGVzcmlTcGF0aWFsUmVsQ29udGFpbnM6KCk9PmltcG9ydChcIi4uLy4uLy4uL2dlb21ldHJ5L29wZXJhdG9ycy9qc29uL2NvbnRhaW5zT3BlcmF0b3IuanNcIiksZXNyaVNwYXRpYWxSZWxDcm9zc2VzOigpPT5pbXBvcnQoXCIuLi8uLi8uLi9nZW9tZXRyeS9vcGVyYXRvcnMvanNvbi9jcm9zc2VzT3BlcmF0b3IuanNcIiksZXNyaVNwYXRpYWxSZWxEaXNqb2ludDooKT0+aW1wb3J0KFwiLi4vLi4vLi4vZ2VvbWV0cnkvb3BlcmF0b3JzL2pzb24vZGlzam9pbnRPcGVyYXRvci5qc1wiKSxlc3JpU3BhdGlhbFJlbEVudmVsb3BlSW50ZXJzZWN0czpudWxsLGVzcmlTcGF0aWFsUmVsSW5kZXhJbnRlcnNlY3RzOm51bGwsZXNyaVNwYXRpYWxSZWxPdmVybGFwczooKT0+aW1wb3J0KFwiLi4vLi4vLi4vZ2VvbWV0cnkvb3BlcmF0b3JzL2pzb24vb3ZlcmxhcHNPcGVyYXRvci5qc1wiKSxlc3JpU3BhdGlhbFJlbFRvdWNoZXM6KCk9PmltcG9ydChcIi4uLy4uLy4uL2dlb21ldHJ5L29wZXJhdG9ycy9qc29uL3RvdWNoZXNPcGVyYXRvci5qc1wiKSxlc3JpU3BhdGlhbFJlbFdpdGhpbjooKT0+aW1wb3J0KFwiLi4vLi4vLi4vZ2VvbWV0cnkvb3BlcmF0b3JzL2pzb24vd2l0aGluT3BlcmF0b3IuanNcIiksZXNyaVNwYXRpYWxSZWxSZWxhdGlvbjpudWxsfTtmdW5jdGlvbiBoKGUpe2NvbnN0IHI9Z1tlXTtpZihudWxsPT1yKXRocm93IG5ldyBFcnJvcihgQ2Fubm90IGxvYWQgdW5zdXBwb3J0ZWQgc3BhdGlhbCBvcGVyYXRvcjogJHtlfWApO3JldHVybiByKCl9YXN5bmMgZnVuY3Rpb24gSShlLG4sYSxjLGYpe2lmKG8obikpe2lmKFwiZXNyaUdlb21ldHJ5UG9pbnRcIj09PWEmJihcImVzcmlTcGF0aWFsUmVsSW50ZXJzZWN0c1wiPT09ZXx8XCJlc3JpU3BhdGlhbFJlbENvbnRhaW5zXCI9PT1lKSl7Y29uc3QgZT1tKG5ldyB1LG4sITEsITEpO3JldHVybiByPT5sKGUsITEsITEscil9aWYoXCJlc3JpR2VvbWV0cnlNdWx0aXBvaW50XCI9PT1hKXtjb25zdCByPW0obmV3IHUsbiwhMSwhMSk7aWYoXCJlc3JpU3BhdGlhbFJlbENvbnRhaW5zXCI9PT1lKXJldHVybiBlPT5wKHIsITEsITEsZSxjLGYpfX1pZihzKG4pKXtpZihcImVzcmlHZW9tZXRyeVBvaW50XCI9PT1hJiYoXCJlc3JpU3BhdGlhbFJlbEludGVyc2VjdHNcIj09PWV8fFwiZXNyaVNwYXRpYWxSZWxDb250YWluc1wiPT09ZSkpcmV0dXJuIGU9PnIobix5KGEsYyxmLGUpKTtpZihcImVzcmlHZW9tZXRyeU11bHRpcG9pbnRcIj09PWEmJlwiZXNyaVNwYXRpYWxSZWxDb250YWluc1wiPT09ZSlyZXR1cm4gZT0+dChuLHkoYSxjLGYsZSkpO2lmKFwiZXNyaVNwYXRpYWxSZWxJbnRlcnNlY3RzXCI9PT1lKXtjb25zdCBlPWkoYSk7cmV0dXJuIHI9PmUobix5KGEsYyxmLHIpKX19XCJlc3JpU3BhdGlhbFJlbEVudmVsb3BlSW50ZXJzZWN0c1wiPT09ZSYmKGU9XCJlc3JpU3BhdGlhbFJlbEludGVyc2VjdHNcIik7Y29uc3QgUj1hd2FpdCBoKGUpO3JldHVybiBlPT5SLmV4ZWN1dGUobix5KGEsYyxmLGUpKX1hc3luYyBmdW5jdGlvbiB3KHIsdCxpKXtjb25zdHtzcGF0aWFsUmVsOm8sZ2VvbWV0cnk6c309cjtpZihzKXtpZighUyhvKSl0aHJvdyBuZXcgZShmLFwiVW5zdXBwb3J0ZWQgcXVlcnkgc3BhdGlhbCByZWxhdGlvbnNoaXBcIix7cXVlcnk6cn0pO2lmKGEocy5zcGF0aWFsUmVmZXJlbmNlKSYmYShpKSl7aWYoIWoocykpdGhyb3cgbmV3IGUoZixcIlVuc3VwcG9ydGVkIHF1ZXJ5IGdlb21ldHJ5IHR5cGVcIix7cXVlcnk6cn0pO2lmKCFHKHQpKXRocm93IG5ldyBlKGYsXCJVbnN1cHBvcnRlZCBsYXllciBnZW9tZXRyeSB0eXBlXCIse3F1ZXJ5OnJ9KTtpZihyLm91dFNSKXJldHVybiBjKHIuZ2VvbWV0cnk/LnNwYXRpYWxSZWZlcmVuY2Usci5vdXRTUil9fX1mdW5jdGlvbiBkKGUpe2lmKHMoZSkpcmV0dXJuITA7aWYobyhlKSl7Zm9yKGNvbnN0IHIgb2YgZS5yaW5ncyl7aWYoNSE9PXIubGVuZ3RoKXJldHVybiExO2lmKHJbMF1bMF0hPT1yWzFdWzBdfHxyWzBdWzBdIT09cls0XVswXXx8clsyXVswXSE9PXJbM11bMF18fHJbMF1bMV0hPT1yWzNdWzFdfHxyWzBdWzFdIT09cls0XVsxXXx8clsxXVsxXSE9PXJbMl1bMV0pcmV0dXJuITF9cmV0dXJuITB9cmV0dXJuITF9ZXhwb3J0e2QgYXMgY2FuUXVlcnlXaXRoUkJ1c2gsdyBhcyBjaGVja1NwYXRpYWxRdWVyeVN1cHBvcnQsSSBhcyBnZXRTcGF0aWFsUXVlcnlPcGVyYXRvcn07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4zMy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e3RvQ29uc3QgYXMgdH1mcm9tXCIuLi8uLi8uLi9jb3JlL2NvbXBpbGVyVXRpbHMuanNcIjthc3luYyBmdW5jdGlvbiBuKG4sbCl7aWYoIW4pcmV0dXJuIG51bGw7Y29uc3QgdT1sLmZlYXR1cmVBZGFwdGVyLHtzdGFydFRpbWVGaWVsZDpyLGVuZFRpbWVGaWVsZDplfT1uO2xldCBpPU51bWJlci5QT1NJVElWRV9JTkZJTklUWSxvPU51bWJlci5ORUdBVElWRV9JTkZJTklUWTtpZihyJiZlKWF3YWl0IGwuZm9yRWFjaCgobj0+e2NvbnN0IGw9dS5nZXRBdHRyaWJ1dGUodChuKSxyKSxzPXUuZ2V0QXR0cmlidXRlKHQobiksZSk7bnVsbD09bHx8aXNOYU4obCl8fChpPU1hdGgubWluKGksbCkpLG51bGw9PXN8fGlzTmFOKHMpfHwobz1NYXRoLm1heChvLHMpKX0pKTtlbHNle2NvbnN0IG49cnx8ZTthd2FpdCBsLmZvckVhY2goKGw9Pntjb25zdCByPXUuZ2V0QXR0cmlidXRlKHQobCksbik7bnVsbD09cnx8aXNOYU4ocil8fChpPU1hdGgubWluKGksciksbz1NYXRoLm1heChvLHIpKX0pKX1yZXR1cm57c3RhcnQ6aSxlbmQ6b319ZnVuY3Rpb24gbCh0LG4sbCl7aWYoIW58fCF0KXJldHVybiBudWxsO2NvbnN0e3N0YXJ0VGltZUZpZWxkOmksZW5kVGltZUZpZWxkOm99PXQ7aWYoIWkmJiFvKXJldHVybiBudWxsO2NvbnN0e3N0YXJ0OnMsZW5kOmF9PW47aWYobnVsbD09PXMmJm51bGw9PT1hKXJldHVybiBudWxsO2lmKHZvaWQgMD09PXMmJnZvaWQgMD09PWEpcmV0dXJuIGUoKTtjb25zdCBjPWwuZ2V0QXR0cmlidXRlQXNUaW1lc3RhbXA/LmJpbmQobCk/P2wuZ2V0QXR0cmlidXRlLmJpbmQobCk7cmV0dXJuIGkmJm8/dShjLGksbyxzLGEpOnIoYyxpfHxvLHMsYSl9ZnVuY3Rpb24gdSh0LG4sbCx1LHIpe3JldHVybiBudWxsIT11JiZudWxsIT1yP2U9Pntjb25zdCBpPXQoZSxuKSxvPXQoZSxsKTtyZXR1cm4obnVsbD09aXx8aTw9cikmJihudWxsPT1vfHxvPj11KX06bnVsbCE9dT9uPT57Y29uc3Qgcj10KG4sbCk7cmV0dXJuIG51bGw9PXJ8fHI+PXV9Om51bGwhPXI/bD0+e2NvbnN0IHU9dChsLG4pO3JldHVybiBudWxsPT11fHx1PD1yfTp2b2lkIDB9ZnVuY3Rpb24gcih0LG4sbCx1KXtyZXR1cm4gbnVsbCE9bCYmbnVsbCE9dSYmbD09PXU/dT0+dCh1LG4pPT09bDpudWxsIT1sJiZudWxsIT11P3I9Pntjb25zdCBlPXQocixuKTtyZXR1cm4gbnVsbCE9ZSYmZT49bCYmZTw9dX06bnVsbCE9bD91PT57Y29uc3Qgcj10KHUsbik7cmV0dXJuIG51bGwhPXImJnI+PWx9Om51bGwhPXU/bD0+e2NvbnN0IHI9dChsLG4pO3JldHVybiBudWxsIT1yJiZyPD11fTp2b2lkIDB9ZnVuY3Rpb24gZSgpe3JldHVybigpPT4hMX1leHBvcnR7biBhcyBnZXRUaW1lRXh0ZW50LGwgYXMgZ2V0VGltZU9wZXJhdG9yfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjMzL2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7Zm9ybWF0RGF0ZSBhcyB0LGNvbnZlcnREYXRlRm9ybWF0VG9JbnRsT3B0aW9ucyBhcyBlLGZvcm1hdFRpbWVzdGFtcCBhcyBuLGZvcm1hdFRpbWVPbmx5IGFzIG8sZm9ybWF0RGF0ZU9ubHkgYXMgcn1mcm9tXCIuLi8uLi9pbnRsL2RhdGUuanNcIjtpbXBvcnR7aXNEYXRlRmllbGQgYXMgaSxpc0RhdGVPbmx5RmllbGQgYXMgcyxpc1RpbWVzdGFtcE9mZnNldEZpZWxkIGFzIGF9ZnJvbVwiLi4vLi4vbGF5ZXJzL3N1cHBvcnQvZmllbGRVdGlscy5qc1wiO2ltcG9ydHtnZXRXZWxsS25vd25CYXNlbWFwSWQgYXMgbH1mcm9tXCIuLi8uLi9zdXBwb3J0L2Jhc2VtYXBVdGlscy5qc1wiO2ltcG9ydHtsb2FkQXJjYWRlIGFzIHV9ZnJvbVwiLi4vLi4vc3VwcG9ydC9sb2FkQXJjYWRlLmpzXCI7aW1wb3J0e3V0YyBhcyBtfWZyb21cIi4uLy4uL3RpbWUvY29uc3RhbnRzLmpzXCI7aW1wb3J0e2dldFRpbWVab25lRm9ybWF0dGluZ09wdGlvbnMgYXMgZH1mcm9tXCIuLi8uLi90aW1lL3RpbWVab25lVXRpbHMuanNcIjtjb25zdCBmPVwiLFwiLGM9e2xpZ2h0OltcInN0cmVldHNcIixcImdyYXlcIixcInRvcG9cIixcInRlcnJhaW5cIixcIm9jZWFuc1wiLFwib3NtXCIsXCJncmF5LXZlY3RvclwiLFwic3RyZWV0cy12ZWN0b3JcIixcInRvcG8tdmVjdG9yXCIsXCJzdHJlZXRzLXJlbGllZi12ZWN0b3JcIixcInN0cmVldHMtbmF2aWdhdGlvbi12ZWN0b3JcIixcInRvcG8tM2RcIixcIm5hdmlnYXRpb24tM2RcIixcInN0cmVldHMtM2RcIixcIm9zbS0zZFwiLFwiZ3JheS0zZFwiXSxkYXJrOltcInNhdGVsbGl0ZVwiLFwiaHlicmlkXCIsXCJkYXJrLWdyYXlcIixcImRhcmstZ3JheS12ZWN0b3JcIixcInN0cmVldHMtbmlnaHQtdmVjdG9yXCIsXCJuYXZpZ2F0aW9uLWRhcmstM2RcIixcInN0cmVldHMtZGFyay0zZFwiLFwiZGFyay1ncmF5LTNkXCJdfSxwPVwicGVyY2VudC1vZi10b3RhbFwiLGc9XCJmaWVsZFwiLHk9e2V4Y2x1ZGU6W1wibWVkaWFuXCJdfSxoPXt5ZWFyczozNjUsbW9udGhzOjMwLGRheXM6MSxob3VyczoxLzI0LG1pbnV0ZXM6MS8xNDQwLHNlY29uZHM6MS84NjQwMCxtaWxsaXNlY29uZHM6MS84NjRlNX0sdj1uZXcgU2V0KFtcImludGVnZXJcIixcInNtYWxsLWludGVnZXJcIl0pO2xldCBUPW51bGw7Y29uc3QgWj1bXCJkYXRlXCIsXCJkYXRlLW9ubHlcIixcInRpbWVzdGFtcC1vZmZzZXRcIl07ZnVuY3Rpb24gJCh0KXtyZXR1cm4gaSh0KXx8cyh0KXx8YSh0KX1hc3luYyBmdW5jdGlvbiBVKHQpe2NvbnN0e2ZpZWxkOmUsZmllbGQyOm4sZmllbGQzOm8sbm9ybWFsaXphdGlvbkZpZWxkOnIsdmFsdWVFeHByZXNzaW9uOml9PXQ7bGV0IHM9W107aWYoaSl7aWYoIVQpe2NvbnN0e2FyY2FkZVV0aWxzOnR9PWF3YWl0IHUoKTtUPXR9cz1ULmV4dHJhY3RGaWVsZE5hbWVzKGkpfXJldHVybiBlJiZzLnB1c2goZSksbiYmcy5wdXNoKG4pLG8mJnMucHVzaChvKSxyJiZzLnB1c2gociksc31mdW5jdGlvbiB3KHQpe2xldCBlPXQubm9ybWFsaXphdGlvblR5cGU7cmV0dXJuIGV8fCh0Lm5vcm1hbGl6YXRpb25GaWVsZD9lPWc6bnVsbCE9dC5ub3JtYWxpemF0aW9uVG90YWwmJihlPXApKSxlPz92b2lkIDB9ZnVuY3Rpb24gUyh0KXtyZXR1cm4gU3RyaW5nKHQpLnBhZFN0YXJ0KDIsXCIwXCIpfWZ1bmN0aW9uIGsodCxlLG4pe2xldCBvO2lmKFwiZGF0ZVwiPT09ZXx8XCJudW1iZXJcIj09PWUpe1wibnVtYmVyXCI9PT1lJiYodD1uZXcgRGF0ZSh0KSk7bz1gVElNRVNUQU1QJyR7bj90LmdldEZ1bGxZZWFyKCk6dC5nZXRVVENGdWxsWWVhcigpfS0ke1MoKG4/dC5nZXRNb250aCgpOnQuZ2V0VVRDTW9udGgoKSkrMSl9LSR7UyhuP3QuZ2V0RGF0ZSgpOnQuZ2V0VVRDRGF0ZSgpKX0gJHtTKG4/dC5nZXRIb3VycygpOnQuZ2V0VVRDSG91cnMoKSl9OiR7UyhuP3QuZ2V0TWludXRlcygpOnQuZ2V0VVRDTWludXRlcygpKX06JHtTKG4/dC5nZXRTZWNvbmRzKCk6dC5nZXRVVENTZWNvbmRzKCkpfSdgfWVsc2Ugbz10O3JldHVybiBvfWZ1bmN0aW9uIEModCxlLG4sbyl7Y29uc3R7aGFzUXVlcnlFbmdpbmU6cn09dCxpPWAoJHtrKG4sRCh0LG4pLHIpfSAtICR7ayhlLEQodCxlKSxyKX0pYDtsZXQgcz1oW29dLGE9XCIvXCI7czwxJiYocz0xL3MsYT1cIipcIik7cmV0dXJue3NxbEV4cHJlc3Npb246MT09PXM/aTpgKCR7aX0gJHthfSAke3N9KWAsc3FsV2hlcmU6bnVsbH19ZnVuY3Rpb24gRCh0LGUpe2lmKGUgaW5zdGFuY2VvZiBEYXRlKXJldHVyblwiZGF0ZVwiO2lmKFwibnVtYmVyXCI9PXR5cGVvZiBlKXJldHVyblwibnVtYmVyXCI7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGUpe2NvbnN0IG49dC5nZXRGaWVsZChlKTtpZihcIjxub3c+XCI9PT1lLnRvTG93ZXJDYXNlKCkpcmV0dXJuO2lmKGkobikpcmV0dXJuXCJmaWVsZFwifX1mdW5jdGlvbiBGKHQsZT1jKXtmb3IoY29uc3QgbiBpbiBlKWlmKGVbbl0uaW5jbHVkZXModCkpcmV0dXJuIG59ZnVuY3Rpb24gYih0LGUsbj0hMCl7bGV0IG89bnVsbDtyZXR1cm4gdCYmKFwic3RyaW5nXCI9PXR5cGVvZiB0P2UuaW5jbHVkZXModCkmJihvPXQpOm89bCh0KSksbj9vfHxcImdyYXlcIjpvfWZ1bmN0aW9uIGoodCxlKXtjb25zdCBuPWUmJnQuZ2V0RmllbGQoZSk7cmV0dXJuISFuJiZ2LmhhcyhuLnR5cGUpfWZ1bmN0aW9uIE0odCl7cmV0dXJuYGNhc3QoJHt0fSBhcyBmbG9hdClgfWZ1bmN0aW9uIE4oaSxzKXtjb25zdHtmb3JtYXQ6YSx0aW1lWm9uZU9wdGlvbnM6bCxmaWVsZFR5cGU6dX09cz8/e307bGV0IGYsYztpZihsJiYoe3RpbWVab25lOmYsdGltZVpvbmVOYW1lOmN9PWQobC5sYXllclRpbWVab25lLGwuZGF0ZXNJblVua25vd25UaW1lem9uZSxsLnZpZXdUaW1lWm9uZSxlKGF8fFwic2hvcnQtZGF0ZS1zaG9ydC10aW1lXCIpLHUpKSxcInN0cmluZ1wiPT10eXBlb2YgaSYmaXNOYU4oRGF0ZS5wYXJzZShcInRpbWUtb25seVwiPT09dT9gMTk3MC0wMS0wMVQke2l9WmA6aSkpKXJldHVybiBpO3N3aXRjaCh1KXtjYXNlXCJkYXRlLW9ubHlcIjp7Y29uc3Qgbj1lKGF8fFwic2hvcnQtZGF0ZVwiKTtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgaT9yKGksey4uLm59KTp0KGksey4uLm4sdGltZVpvbmU6bX0pfWNhc2VcInRpbWUtb25seVwiOntjb25zdCBuPWUoYXx8XCJzaG9ydC10aW1lXCIpO3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiBpP28oaSxuKTp0KGksey4uLm4sdGltZVpvbmU6bX0pfWNhc2VcInRpbWVzdGFtcC1vZmZzZXRcIjp7aWYoIWYmJlwic3RyaW5nXCI9PXR5cGVvZiBpJiZuZXcgRGF0ZShpKS50b0lTT1N0cmluZygpIT09aSlyZXR1cm4gaTtjb25zdCBvPWF8fGw/ZShhfHxcInNob3J0LWRhdGUtc2hvcnQtdGltZVwiKTp2b2lkIDAscj1vP3suLi5vLHRpbWVab25lOmYsdGltZVpvbmVOYW1lOmN9OnZvaWQgMDtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgaT9uKGkscik6dChpLHIpfWRlZmF1bHQ6e2NvbnN0IG49YXx8bD9lKGF8fFwic2hvcnQtZGF0ZS1zaG9ydC10aW1lXCIpOnZvaWQgMDtyZXR1cm4gdChcInN0cmluZ1wiPT10eXBlb2YgaT9uZXcgRGF0ZShpKTppLG4/ey4uLm4sdGltZVpvbmU6Zix0aW1lWm9uZU5hbWU6Y306dm9pZCAwKX19fWV4cG9ydHtNIGFzIGNhc3RJbnRlZ2VyRmllbGRUb0Zsb2F0LFogYXMgZGF0ZVR5cGVzLGMgYXMgZGVmYXVsdEJhc2VtYXBHcm91cHMseSBhcyBkZWZhdWx0U3RhdGlzdGljVHlwZXMsZiBhcyBmaWVsZERlbGltaXRlcixOIGFzIGZvcm1hdEFueURhdGUsRiBhcyBnZXRCYXNlbWFwR3JvdXAsYiBhcyBnZXRCYXNlbWFwSWQsQyBhcyBnZXREYXRlRGlmZlNRTCxEIGFzIGdldERhdGVUeXBlLFUgYXMgZ2V0RmllbGRzTGlzdCx3IGFzIGdldE5vcm1hbGl6YXRpb25UeXBlLCQgYXMgaXNBbnlEYXRlRmllbGQsaiBhcyBpc0ludGVnZXJGaWVsZCxoIGFzIHVuaXRWYWx1ZUluRGF5c307XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=