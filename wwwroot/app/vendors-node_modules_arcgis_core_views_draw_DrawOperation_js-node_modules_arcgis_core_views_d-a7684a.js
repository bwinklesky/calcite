export const __webpack_id__ = "vendors-node_modules_arcgis_core_views_draw_DrawOperation_js-node_modules_arcgis_core_views_d-a7684a";
export const __webpack_ids__ = ["vendors-node_modules_arcgis_core_views_draw_DrawOperation_js-node_modules_arcgis_core_views_d-a7684a"];
export const __webpack_modules__ = {

/***/ "./node_modules/@arcgis/core/chunks/distanceOperator.js":
/*!**************************************************************!*\
  !*** ./node_modules/@arcgis/core/chunks/distanceOperator.js ***!
  \**************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   d: () => (/* binding */ i),
/* harmony export */   e: () => (/* binding */ c),
/* harmony export */   s: () => (/* binding */ a)
/* harmony export */ });
/* harmony import */ var _Geometry_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Geometry.js */ "./node_modules/@arcgis/core/chunks/Geometry.js");
/* harmony import */ var _Distance2DCalculator_CXhBP_8I_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Distance2DCalculator-CXhBP-8I.js */ "./node_modules/@arcgis/core/chunks/Distance2DCalculator-CXhBP-8I.js");
/* harmony import */ var _core_unitUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../core/unitUtils.js */ "./node_modules/@arcgis/core/core/unitUtils.js");
/* harmony import */ var _geometry_operators_support_apiConverter_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../geometry/operators/support/apiConverter.js */ "./node_modules/@arcgis/core/geometry/operators/support/apiConverter.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
class s{getOperatorType(){return 10100}supportsCurves(){return!0}accelerateGeometry(e,r,t){return!1}canAccelerateGeometry(e){return!1}execute(e,r,t){return this.executeEx(e,r,t,null,null,Number.NaN)}executeEx(t,u,o,s,n,c){if(t.isEmpty()||u.isEmpty())return Number.NaN;(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.c)(t),(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.c)(u);const a=t,i=u;Number.isNaN(c)&&(c=Number.POSITIVE_INFINITY);const m=new _Distance2DCalculator_CXhBP_8I_js__WEBPACK_IMPORTED_MODULE_1__.D(c,o).calculate(a,i,s,n);return Number.isFinite(m)?m:Number.NaN}}const n=new s;function c(e,r,s={}){const{unit:c}=s;let a=n.execute((0,_geometry_operators_support_apiConverter_js__WEBPACK_IMPORTED_MODULE_3__.fromGeometry)(e),(0,_geometry_operators_support_apiConverter_js__WEBPACK_IMPORTED_MODULE_3__.fromGeometry)(r),null);if(a&&c){const r=(0,_geometry_operators_support_apiConverter_js__WEBPACK_IMPORTED_MODULE_3__.getSpatialReference)(e);a=(0,_core_unitUtils_js__WEBPACK_IMPORTED_MODULE_2__.convertFromSpatialReferenceUnit)(a,r,c)}return a}const a=n.supportsCurves(),i=Object.freeze(Object.defineProperty({__proto__:null,execute:c,supportsCurves:a},Symbol.toStringTag,{value:"Module"}));


/***/ }),

/***/ "./node_modules/@arcgis/core/chunks/simplifyOperator.js":
/*!**************************************************************!*\
  !*** ./node_modules/@arcgis/core/chunks/simplifyOperator.js ***!
  \**************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   a: () => (/* binding */ i),
/* harmony export */   b: () => (/* binding */ m),
/* harmony export */   e: () => (/* binding */ u),
/* harmony export */   i: () => (/* binding */ c),
/* harmony export */   s: () => (/* binding */ f)
/* harmony export */ });
/* harmony import */ var _geometry_operators_gx_operatorSimplify_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../geometry/operators/gx/operatorSimplify.js */ "./node_modules/@arcgis/core/geometry/operators/gx/operatorSimplify.js");
/* harmony import */ var _geometry_operators_support_apiConverter_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../geometry/operators/support/apiConverter.js */ "./node_modules/@arcgis/core/geometry/operators/support/apiConverter.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
function u(e){const t=(0,_geometry_operators_support_apiConverter_js__WEBPACK_IMPORTED_MODULE_1__.getSpatialReference)(e);return (0,_geometry_operators_support_apiConverter_js__WEBPACK_IMPORTED_MODULE_1__.toGeometry)((0,_geometry_operators_gx_operatorSimplify_js__WEBPACK_IMPORTED_MODULE_0__.execute)((0,_geometry_operators_support_apiConverter_js__WEBPACK_IMPORTED_MODULE_1__.fromGeometry)(e),(0,_geometry_operators_support_apiConverter_js__WEBPACK_IMPORTED_MODULE_1__.fromSpatialReference)(t),!1),t)}function i(e){const r=e.map(_geometry_operators_support_apiConverter_js__WEBPACK_IMPORTED_MODULE_1__.fromGeometry),o=(0,_geometry_operators_support_apiConverter_js__WEBPACK_IMPORTED_MODULE_1__.getSpatialReference)(e);return (0,_geometry_operators_gx_operatorSimplify_js__WEBPACK_IMPORTED_MODULE_0__.executeMany)(r,(0,_geometry_operators_support_apiConverter_js__WEBPACK_IMPORTED_MODULE_1__.fromSpatialReference)(o),!1).map((e=>(0,_geometry_operators_support_apiConverter_js__WEBPACK_IMPORTED_MODULE_1__.toGeometry)(e,o)))}function c(e){return (0,_geometry_operators_gx_operatorSimplify_js__WEBPACK_IMPORTED_MODULE_0__.isSimpleAsFeature)((0,_geometry_operators_support_apiConverter_js__WEBPACK_IMPORTED_MODULE_1__.fromGeometry)(e),(0,_geometry_operators_support_apiConverter_js__WEBPACK_IMPORTED_MODULE_1__.fromSpatialReference)((0,_geometry_operators_support_apiConverter_js__WEBPACK_IMPORTED_MODULE_1__.getSpatialReference)(e)),!1)}const m=(0,_geometry_operators_gx_operatorSimplify_js__WEBPACK_IMPORTED_MODULE_0__.supportsCurves)(),f=Object.freeze(Object.defineProperty({__proto__:null,execute:u,executeMany:i,isSimple:c,supportsCurves:m},Symbol.toStringTag,{value:"Module"}));


/***/ }),

/***/ "./node_modules/@arcgis/core/core/ReactiveSet.js":
/*!*******************************************************!*\
  !*** ./node_modules/@arcgis/core/core/ReactiveSet.js ***!
  \*******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ t)
/* harmony export */ });
/* harmony import */ var _accessorSupport_tracking_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./accessorSupport/tracking.js */ "./node_modules/@arcgis/core/core/accessorSupport/tracking.js");
/* harmony import */ var _accessorSupport_tracking_SimpleObservable_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./accessorSupport/tracking/SimpleObservable.js */ "./node_modules/@arcgis/core/core/accessorSupport/tracking/SimpleObservable.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
class t{constructor(e){this._observable=new _accessorSupport_tracking_SimpleObservable_js__WEBPACK_IMPORTED_MODULE_1__.SimpleObservable,this._set=new Set(e)}get size(){return (0,_accessorSupport_tracking_js__WEBPACK_IMPORTED_MODULE_0__.trackAccess)(this._observable),this._set.size}add(e){const s=this._set.size;return this._set.add(e),this._set.size!==s&&this._observable.notify(),this}clear(){this._set.size>0&&(this._set.clear(),this._observable.notify())}delete(e){const s=this._set.delete(e);return s&&this._observable.notify(),s}entries(){return (0,_accessorSupport_tracking_js__WEBPACK_IMPORTED_MODULE_0__.trackAccess)(this._observable),this._set.entries()}forEach(s,t){(0,_accessorSupport_tracking_js__WEBPACK_IMPORTED_MODULE_0__.trackAccess)(this._observable),this._set.forEach(((e,r)=>s.call(t,e,r,this)),t)}has(s){return (0,_accessorSupport_tracking_js__WEBPACK_IMPORTED_MODULE_0__.trackAccess)(this._observable),this._set.has(s)}keys(){return (0,_accessorSupport_tracking_js__WEBPACK_IMPORTED_MODULE_0__.trackAccess)(this._observable),this._set.keys()}values(){return (0,_accessorSupport_tracking_js__WEBPACK_IMPORTED_MODULE_0__.trackAccess)(this._observable),this._set.values()}[Symbol.iterator](){return (0,_accessorSupport_tracking_js__WEBPACK_IMPORTED_MODULE_0__.trackAccess)(this._observable),this._set[Symbol.iterator]()}[Symbol.dispose](){this._observable.destroy()}get[Symbol.toStringTag](){return this._set[Symbol.toStringTag]}}


/***/ }),

/***/ "./node_modules/@arcgis/core/geometry/Circle.js":
/*!******************************************************!*\
  !*** ./node_modules/@arcgis/core/geometry/Circle.js ***!
  \******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ b)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_unitUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../core/unitUtils.js */ "./node_modules/@arcgis/core/core/unitUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_RandomLCG_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../core/RandomLCG.js */ "./node_modules/@arcgis/core/core/RandomLCG.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _ellipsoidUtils_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./ellipsoidUtils.js */ "./node_modules/@arcgis/core/geometry/ellipsoidUtils.js");
/* harmony import */ var _Point_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./Point.js */ "./node_modules/@arcgis/core/geometry/Point.js");
/* harmony import */ var _Polygon_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./Polygon.js */ "./node_modules/@arcgis/core/geometry/Polygon.js");
/* harmony import */ var _SpatialReference_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./SpatialReference.js */ "./node_modules/@arcgis/core/geometry/SpatialReference.js");
/* harmony import */ var _support_geodesicUtils_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./support/geodesicUtils.js */ "./node_modules/@arcgis/core/geometry/support/geodesicUtils.js");
/* harmony import */ var _support_webMercatorUtils_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./support/webMercatorUtils.js */ "./node_modules/@arcgis/core/geometry/support/webMercatorUtils.js");
/* harmony import */ var _support_WKIDUnitConversion_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./support/WKIDUnitConversion.js */ "./node_modules/@arcgis/core/geometry/support/WKIDUnitConversion.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
var f;let g=f=class extends _Polygon_js__WEBPACK_IMPORTED_MODULE_9__["default"]{constructor(e){super(e),this.center=null,this.geodesic=!1,this.numberOfPoints=60,this.radius=1e3,this.radiusUnit="meters"}initialize(){const e=this.center,o=this.numberOfPoints;if(this.hasZ=e?.hasZ??!1,0!==this.rings.length||!e)return;const c=(0,_core_unitUtils_js__WEBPACK_IMPORTED_MODULE_1__.convertUnit)(this.radius,this.radiusUnit,"meters"),n=e.spatialReference;let p,l="geographic";if(n.isWebMercator?l="webMercator":(null!=(n.wkid&&_support_WKIDUnitConversion_js__WEBPACK_IMPORTED_MODULE_13__["default"][n.wkid])||(n.wkt2||n.wkt)&&(0,_core_unitUtils_js__WEBPACK_IMPORTED_MODULE_1__.isProjectedWKT)(n.wkt2||n.wkt))&&(l="projected"),this.geodesic){let r;switch(l){case"webMercator":r=(0,_support_webMercatorUtils_js__WEBPACK_IMPORTED_MODULE_12__.webMercatorToGeographic)(e);break;case"projected":console.error("Creating a geodesic circle requires the center to be specified in web mercator or geographic coordinate system");break;case"geographic":r=e}p=this._createGeodesicCircle(r,c,o),"webMercator"===l&&(p=(0,_support_webMercatorUtils_js__WEBPACK_IMPORTED_MODULE_12__.geographicToWebMercator)(p))}else{let r;"webMercator"===l||"projected"===l?r=c/(0,_core_unitUtils_js__WEBPACK_IMPORTED_MODULE_1__.getMetersPerUnit)(e.spatialReference):"geographic"===l&&(r=(0,_core_unitUtils_js__WEBPACK_IMPORTED_MODULE_1__.lengthToDegrees)(c,"meters",(0,_ellipsoidUtils_js__WEBPACK_IMPORTED_MODULE_7__.getReferenceEllipsoid)(e.spatialReference).radius)),p=this._createPlanarCircle(e,r,o)}this.spatialReference=p.spatialReference,this.addRing(p.rings[0])}clone(){const{center:e,numberOfPoints:r,radius:t,radiusUnit:s,geodesic:i}=this;return new f({center:e?.clone(),numberOfPoints:r,radius:t,radiusUnit:s,geodesic:i})}_createGeodesicCircle(e,r,t){const s=[],i=[e.x,e.y];for(let o=0;o<360;o+=360/t){const t=this.hasZ?[0,0,e.z??0]:[0,0];(0,_support_geodesicUtils_js__WEBPACK_IMPORTED_MODULE_11__.directGeodeticSolver)(t,i,o,r,_SpatialReference_js__WEBPACK_IMPORTED_MODULE_10__["default"].WGS84),s.push(t)}return s.push(s[0]),new _Polygon_js__WEBPACK_IMPORTED_MODULE_9__["default"]({rings:[s]})}_createPlanarCircle(e,r,t){const s=[],i=2*Math.PI/t;for(let o=0;o<t;++o){const t=i*o,c=[e.x+Math.cos(-t)*r,e.y+Math.sin(-t)*r];this.hasZ&&c.push(e.z??0),s.push(c)}return s.push(s[0]),new _Polygon_js__WEBPACK_IMPORTED_MODULE_9__["default"]({spatialReference:e.spatialReference,rings:[s]})}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)({type:_Point_js__WEBPACK_IMPORTED_MODULE_8__["default"]})],g.prototype,"center",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)()],g.prototype,"geodesic",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)()],g.prototype,"numberOfPoints",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)()],g.prototype,"radius",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)()],g.prototype,"radiusUnit",void 0),g=f=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_6__.subclass)("esri.geometry.Circle")],g);const b=g;


/***/ }),

/***/ "./node_modules/@arcgis/core/geometry/operators/gx/operatorSimplify.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/@arcgis/core/geometry/operators/gx/operatorSimplify.js ***!
  \*****************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   execute: () => (/* binding */ e),
/* harmony export */   executeMany: () => (/* binding */ o),
/* harmony export */   isSimpleAsFeature: () => (/* binding */ u),
/* harmony export */   supportsCurves: () => (/* binding */ s)
/* harmony export */ });
/* harmony import */ var _chunks_SimpleGeometryCursor_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../chunks/SimpleGeometryCursor.js */ "./node_modules/@arcgis/core/chunks/SimpleGeometryCursor.js");
/* harmony import */ var _chunks_Geometry_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../chunks/Geometry.js */ "./node_modules/@arcgis/core/chunks/Geometry.js");
/* harmony import */ var _chunks_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../chunks/MultiPathImpl.js */ "./node_modules/@arcgis/core/chunks/MultiPathImpl.js");
/* harmony import */ var _chunks_ProjectionTransformation_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../chunks/ProjectionTransformation.js */ "./node_modules/@arcgis/core/chunks/ProjectionTransformation.js");
/* harmony import */ var _chunks_Envelope_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../chunks/Envelope.js */ "./node_modules/@arcgis/core/chunks/Envelope.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
const t=new _chunks_ProjectionTransformation_js__WEBPACK_IMPORTED_MODULE_3__.O;function e(n,r,e){return t.execute(n,r,e,null)}function o(r,e,o){const u=t.executeMany(new _chunks_SimpleGeometryCursor_js__WEBPACK_IMPORTED_MODULE_0__.S(r),e,o,null);return Array.from(u)}function u(n,r,e){return t.isSimpleAsFeature(n,r,e,null,null)}function s(){return t.supportsCurves()}


/***/ }),

/***/ "./node_modules/@arcgis/core/geometry/operators/support/apiConverter.js":
/*!******************************************************************************!*\
  !*** ./node_modules/@arcgis/core/geometry/operators/support/apiConverter.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   fromExtent: () => (/* binding */ M),
/* harmony export */   fromGeometry: () => (/* binding */ x),
/* harmony export */   fromMultipoint: () => (/* binding */ V),
/* harmony export */   fromPoint: () => (/* binding */ w),
/* harmony export */   fromPolygon: () => (/* binding */ P),
/* harmony export */   fromPolyline: () => (/* binding */ v),
/* harmony export */   fromSpatialReference: () => (/* binding */ j),
/* harmony export */   getSpatialReference: () => (/* binding */ C),
/* harmony export */   toExtent: () => (/* binding */ E),
/* harmony export */   toGeometry: () => (/* binding */ Z),
/* harmony export */   toMultipoint: () => (/* binding */ k),
/* harmony export */   toPoint: () => (/* binding */ R),
/* harmony export */   toPolygon: () => (/* binding */ d),
/* harmony export */   toPolyline: () => (/* binding */ z)
/* harmony export */ });
/* harmony import */ var _chunks_Point2D_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../chunks/Point2D.js */ "./node_modules/@arcgis/core/chunks/Point2D.js");
/* harmony import */ var _chunks_Envelope2D_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../chunks/Envelope2D.js */ "./node_modules/@arcgis/core/chunks/Envelope2D.js");
/* harmony import */ var _chunks_Geometry_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../chunks/Geometry.js */ "./node_modules/@arcgis/core/chunks/Geometry.js");
/* harmony import */ var _chunks_Envelope_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../chunks/Envelope.js */ "./node_modules/@arcgis/core/chunks/Envelope.js");
/* harmony import */ var _chunks_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../chunks/MultiPathImpl.js */ "./node_modules/@arcgis/core/chunks/MultiPathImpl.js");
/* harmony import */ var _chunks_ProjectionTransformation_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../chunks/ProjectionTransformation.js */ "./node_modules/@arcgis/core/chunks/ProjectionTransformation.js");
/* harmony import */ var _Extent_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../Extent.js */ "./node_modules/@arcgis/core/geometry/Extent.js");
/* harmony import */ var _Multipoint_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../Multipoint.js */ "./node_modules/@arcgis/core/geometry/Multipoint.js");
/* harmony import */ var _Point_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../Point.js */ "./node_modules/@arcgis/core/geometry/Point.js");
/* harmony import */ var _Polygon_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../Polygon.js */ "./node_modules/@arcgis/core/geometry/Polygon.js");
/* harmony import */ var _Polyline_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../Polyline.js */ "./node_modules/@arcgis/core/geometry/Polyline.js");
/* harmony import */ var _initNoPeFactory_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./initNoPeFactory.js */ "./node_modules/@arcgis/core/geometry/operators/support/initNoPeFactory.js");
/* harmony import */ var _jsonConverter_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./jsonConverter.js */ "./node_modules/@arcgis/core/geometry/operators/support/jsonConverter.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
const p="_gxVersion",g=2,y=1;function C(e){return Array.isArray(e)?e[0].spatialReference:e.spatialReference}function x(e){switch(e.type){case"point":return w(e);case"multipoint":return V(e);case"polyline":return v(e);case"polygon":return P(e);case"extent":return M(e);default:throw new Error(`Unsupported geometry type: ${e.type}`)}}function M(e){if(!e.getCacheValue(p)){const t=new _chunks_Envelope_js__WEBPACK_IMPORTED_MODULE_3__.E;t.setCoords(e.xmin,e.ymin,e.xmax,e.ymax),e.hasM&&t.setInterval(g,0,e.mmin,e.mmax),e.hasZ&&t.setInterval(y,0,e.zmin,e.zmax),e.setCacheValue(p,t)}return e.getCacheValue(p)}function V(e){if(!e.getCacheValue(p)){const t=new _chunks_MultiPathImpl_js__WEBPACK_IMPORTED_MODULE_4__.M,n=new _chunks_Envelope_js__WEBPACK_IMPORTED_MODULE_3__.P,a=e.points,o=e.hasM,i=e.hasZ,u=i?3:2;for(let e=0,r=a.length;e<r;e++){const r=a[e];n.setXYCoords(r[0],r[1]),i&&n.setZ(r[2]??0),o&&n.setM(r[u]??NaN),t.add(n)}e.setCacheValue(p,t)}return e.getCacheValue(p)}function w(e){if(!e.getCacheValue(p)){const t=new _chunks_Envelope_js__WEBPACK_IMPORTED_MODULE_3__.P;t.setXYCoords(e.x,e.y),e.hasM&&t.setM(e.m),e.hasZ&&t.setZ(e.z),e.setCacheValue(p,t)}return e.getCacheValue(p)}function P(e){if(!e.getCacheValue(p)){const{curveRings:t,hasM:n,hasZ:r,rings:s}=e,a=(0,_jsonConverter_js__WEBPACK_IMPORTED_MODULE_12__.fromGeometryToGXGeometry)({curveRings:t,hasM:n,hasZ:r,rings:s});e.setCacheValue(p,a)}return e.getCacheValue(p)}function v(e){if(!e.getCacheValue(p)){const{curvePaths:t,hasM:n,hasZ:r,paths:s}=e,a=(0,_jsonConverter_js__WEBPACK_IMPORTED_MODULE_12__.fromGeometryToGXGeometry)({curvePaths:t,hasM:n,hasZ:r,paths:s});e.setCacheValue(p,a)}return e.getCacheValue(p)}function j(e){if(e.wkid)return (0,_chunks_ProjectionTransformation_js__WEBPACK_IMPORTED_MODULE_5__.c)(e.wkid);const t=e.wkt2||e.wkt;return t?(0,_chunks_ProjectionTransformation_js__WEBPACK_IMPORTED_MODULE_5__.a)(t):null}function Z(e,n){if(e)switch(e.getGeometryType()){case _chunks_Geometry_js__WEBPACK_IMPORTED_MODULE_2__.G.enumPoint:return R(e,n);case _chunks_Geometry_js__WEBPACK_IMPORTED_MODULE_2__.G.enumEnvelope:return E(e,n);case _chunks_Geometry_js__WEBPACK_IMPORTED_MODULE_2__.G.enumMultiPoint:return k(e,n);case _chunks_Geometry_js__WEBPACK_IMPORTED_MODULE_2__.G.enumPolyline:return z(e,n);case _chunks_Geometry_js__WEBPACK_IMPORTED_MODULE_2__.G.enumPolygon:return d(e,n)}return null}function E(e,t){if(e.isEmpty())return null;const n=new _Extent_js__WEBPACK_IMPORTED_MODULE_6__["default"]({xmin:e.getXMin(),ymin:e.getYMin(),xmax:e.getXMax(),ymax:e.getYMax(),spatialReference:t}),r=e.getDescription();if(r.hasM()){const t=e.queryInterval(g,0);n.mmin=t.vmin,n.mmax=t.vmax}if(r.hasZ()){const t=e.queryInterval(y,0);n.zmin=t.vmin,n.zmax=t.vmax}return n.setCacheValue(p,e),n}function k(e,t){if(e.isEmpty())return null;const n=e.getDescription(),s=n.hasM(),a=n.hasZ(),o=[],i=new _chunks_Envelope_js__WEBPACK_IMPORTED_MODULE_3__.P;for(let r=0,u=e.getPointCount();r<u;r++){e.getPointByVal(r,i);const t=[i.getX(),i.getY()];a&&t.push(i.getZ()),s&&t.push(i.getM()),o.push(t)}const c=new _Multipoint_js__WEBPACK_IMPORTED_MODULE_7__["default"]({hasM:s,hasZ:a,points:o,spatialReference:t});return c.setCacheValue(p,e),c}function R(t,n){if(t instanceof _chunks_Point2D_js__WEBPACK_IMPORTED_MODULE_0__.P)return new _Point_js__WEBPACK_IMPORTED_MODULE_8__["default"]({x:t.x,y:t.y,spatialReference:n});if(t.isEmpty())return null;const r=new _Point_js__WEBPACK_IMPORTED_MODULE_8__["default"]({x:t.getX(),y:t.getY(),spatialReference:n}),s=t.getDescription();return s.hasM()&&(r.m=t.getM()),s.hasZ()&&(r.z=t.getZ()),r.setCacheValue(p,t),r}function d(e,t){if(e.isEmpty())return null;const n=_Polygon_js__WEBPACK_IMPORTED_MODULE_9__["default"].fromJSON({spatialReference:t,...(0,_jsonConverter_js__WEBPACK_IMPORTED_MODULE_12__.toGeometry)(e,null)});return n.setCacheValue(p,e),n}function z(e,t){if(e.isEmpty())return null;const n=_Polyline_js__WEBPACK_IMPORTED_MODULE_10__["default"].fromJSON({spatialReference:t,...(0,_jsonConverter_js__WEBPACK_IMPORTED_MODULE_12__.toGeometry)(e,null)});return n.setCacheValue(p,e),n}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/draw/DrawManipulator.js":
/*!*****************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/draw/DrawManipulator.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   DrawManipulator: () => (/* binding */ t)
/* harmony export */ });
/* harmony import */ var _core_Evented_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../core/Evented.js */ "./node_modules/@arcgis/core/core/Evented.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
class t{constructor({consumesClicks:t,grabbableForEvent:s}){this.events=new _core_Evented_js__WEBPACK_IMPORTED_MODULE_0__["default"],this.interactive=!0,this.selectable=!1,this.cursor=null,this.grabbable=!0,this.consumesClicks=t,this.grabbableForEvent=s}destroy(){}intersectionDistance(e,t){return 0}attach(){}detach(){}onElevationChange(){}onViewChange(){}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/draw/DrawOperation.js":
/*!***************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/draw/DrawOperation.js ***!
  \***************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   DrawOperation: () => (/* binding */ F),
/* harmony export */   defaultCursor: () => (/* binding */ L),
/* harmony export */   defaultLoadingCursor: () => (/* binding */ U)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/Accessor.js */ "./node_modules/@arcgis/core/core/Accessor.js");
/* harmony import */ var _core_Evented_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/Evented.js */ "./node_modules/@arcgis/core/core/Evented.js");
/* harmony import */ var _core_lang_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../core/lang.js */ "./node_modules/@arcgis/core/core/lang.js");
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../core/maybe.js */ "./node_modules/@arcgis/core/core/maybe.js");
/* harmony import */ var _core_memoize_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../core/memoize.js */ "./node_modules/@arcgis/core/core/memoize.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _core_ReactiveSet_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../core/ReactiveSet.js */ "./node_modules/@arcgis/core/core/ReactiveSet.js");
/* harmony import */ var _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../core/reactiveUtils.js */ "./node_modules/@arcgis/core/core/reactiveUtils.js");
/* harmony import */ var _core_screenUtils_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../core/screenUtils.js */ "./node_modules/@arcgis/core/core/screenUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _core_accessorSupport_diffUtils_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../core/accessorSupport/diffUtils.js */ "./node_modules/@arcgis/core/core/accessorSupport/diffUtils.js");
/* harmony import */ var _core_support_UpdatingHandles_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../core/support/UpdatingHandles.js */ "./node_modules/@arcgis/core/core/support/UpdatingHandles.js");
/* harmony import */ var _layers_graphics_dehydratedFeatureComparison_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../layers/graphics/dehydratedFeatureComparison.js */ "./node_modules/@arcgis/core/layers/graphics/dehydratedFeatureComparison.js");
/* harmony import */ var _support_elevationInfoUtils_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../support/elevationInfoUtils.js */ "./node_modules/@arcgis/core/support/elevationInfoUtils.js");
/* harmony import */ var _ViewingMode_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../ViewingMode.js */ "./node_modules/@arcgis/core/views/ViewingMode.js");
/* harmony import */ var _DrawingMode_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./DrawingMode.js */ "./node_modules/@arcgis/core/views/draw/DrawingMode.js");
/* harmony import */ var _DrawManipulator_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./DrawManipulator.js */ "./node_modules/@arcgis/core/views/draw/DrawManipulator.js");
/* harmony import */ var _interactive_coordinateHelper_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../interactive/coordinateHelper.js */ "./node_modules/@arcgis/core/views/interactive/coordinateHelper.js");
/* harmony import */ var _interactive_dragEventPipeline_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../interactive/dragEventPipeline.js */ "./node_modules/@arcgis/core/views/interactive/dragEventPipeline.js");
/* harmony import */ var _interactive_editGeometry_EditGeometry_js__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../interactive/editGeometry/EditGeometry.js */ "./node_modules/@arcgis/core/views/interactive/editGeometry/EditGeometry.js");
/* harmony import */ var _interactive_editGeometry_EditGeometryOperations_js__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ../interactive/editGeometry/EditGeometryOperations.js */ "./node_modules/@arcgis/core/views/interactive/editGeometry/EditGeometryOperations.js");
/* harmony import */ var _interactive_sketch_constraints_js__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ../interactive/sketch/constraints.js */ "./node_modules/@arcgis/core/views/interactive/sketch/constraints.js");
/* harmony import */ var _interactive_sketch_constraintUtils_js__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ../interactive/sketch/constraintUtils.js */ "./node_modules/@arcgis/core/views/interactive/sketch/constraintUtils.js");
/* harmony import */ var _interactive_sketch_SketchLabelOptions_js__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ../interactive/sketch/SketchLabelOptions.js */ "./node_modules/@arcgis/core/views/interactive/sketch/SketchLabelOptions.js");
/* harmony import */ var _interactive_snapping_SnappingContext_js__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ../interactive/snapping/SnappingContext.js */ "./node_modules/@arcgis/core/views/interactive/snapping/SnappingContext.js");
/* harmony import */ var _interactive_snapping_SnappingDragPipelineStep_js__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ../interactive/snapping/SnappingDragPipelineStep.js */ "./node_modules/@arcgis/core/views/interactive/snapping/SnappingDragPipelineStep.js");
/* harmony import */ var _interactive_snapping_SnappingOperation_js__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ../interactive/snapping/SnappingOperation.js */ "./node_modules/@arcgis/core/views/interactive/snapping/SnappingOperation.js");
/* harmony import */ var _interactive_snapping_snappingUtils_js__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ../interactive/snapping/snappingUtils.js */ "./node_modules/@arcgis/core/views/interactive/snapping/snappingUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
const L="crosshair",U="progress",A=Symbol(),z=Symbol();let F=class extends(_core_Evented_js__WEBPACK_IMPORTED_MODULE_2__["default"].EventedMixin(_core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__["default"])){constructor(t){super(t),this._createOperationCompleted=!1,this._hideDefaultCursor=!1,this._pointerDownStates=new _core_ReactiveSet_js__WEBPACK_IMPORTED_MODULE_7__["default"],this._stagedScreenPoint=null,this._stagedPointerType=null,this._updatingHandles=new _core_support_UpdatingHandles_js__WEBPACK_IMPORTED_MODULE_15__.UpdatingHandles,this._stagedPointerId=null,this.constraintsEnabled=!1,this.constraints=void 0,this._getPointConstraint=(0,_core_memoize_js__WEBPACK_IMPORTED_MODULE_5__.memoize)(_interactive_sketch_constraintUtils_js__WEBPACK_IMPORTED_MODULE_26__.getPointConstraint),this._getPolylineOrPolygonConstraint=(0,_core_memoize_js__WEBPACK_IMPORTED_MODULE_5__.memoize)(_interactive_sketch_constraintUtils_js__WEBPACK_IMPORTED_MODULE_26__.getPolylineOrPolygonConstraint),this.constraintZ=null,this.defaultZ=null,this.isDraped=!0,this.labelOptions=new _interactive_sketch_SketchLabelOptions_js__WEBPACK_IMPORTED_MODULE_27__["default"],this.cursor=null,this.loading=!1,this.snapToSceneEnabled=null,this.firstVertex=null,this.lastVertex=null,this.secondToLastVertex=null,null==t.elevationInfo&&(this.elevationInfo=(0,_support_elevationInfoUtils_js__WEBPACK_IMPORTED_MODULE_17__.getEffectiveElevationInfo)(!!t.hasZ))}initialize(){const{geometryType:t,view:e}=this,i=e.spatialReference,n="viewingMode"in e.state?e.state.viewingMode:_ViewingMode_js__WEBPACK_IMPORTED_MODULE_18__.ViewingMode.Local,r="segment"===t||"multipoint"===t?"polyline":t;this.coordinateHelper=(0,_interactive_coordinateHelper_js__WEBPACK_IMPORTED_MODULE_21__.createCoordinateHelper)(this.hasZ,this.hasM,i),this._editGeometryOperations=new _interactive_editGeometry_EditGeometryOperations_js__WEBPACK_IMPORTED_MODULE_24__.EditGeometryOperations(new _interactive_editGeometry_EditGeometry_js__WEBPACK_IMPORTED_MODULE_23__.EditGeometry(r,this.coordinateHelper),n),this._snappingOperation=new _interactive_snapping_SnappingOperation_js__WEBPACK_IMPORTED_MODULE_30__.SnappingOperation({view:e}),this.addHandles([(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_8__.watch)((()=>({stagedPoint:this._snappingOperation.stagedPoint,constraint:this._constraint})),(({stagedPoint:t,constraint:e},i)=>{const{snappingOptions:n}=this;n&&(n.forceDisabled=null!=e&&(0,_interactive_sketch_constraints_js__WEBPACK_IMPORTED_MODULE_25__.isPoint)(e));if(null!=i&&t===i.stagedPoint&&e!==i.constraint)return this._onKeyboardBasedChange();this._processCursor(t??this._screenToMap(this._stagedScreenPoint))}),{equals:(t,e)=>t.stagedPoint===e.stagedPoint&&(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_4__.equalsMaybe)(t.constraint,e.constraint)}),(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_8__.watch)((()=>this.view.viewpoint),((t,e)=>{t&&e&&(0,_core_accessorSupport_diffUtils_js__WEBPACK_IMPORTED_MODULE_14__.diff)(t,e)&&this._onKeyboardBasedChange()}))]),this._activeComponent=new _interactive_editGeometry_EditGeometry_js__WEBPACK_IMPORTED_MODULE_23__.Component(i,n),this._editGeometryOperations.data.components.push(this._activeComponent);const s=this.segmentLabels;null!=s&&(s.context={view:e,editGeometryOperations:this._editGeometryOperations,elevationInfo:this.elevationInfo,labelOptions:this.labelOptions,automaticLengthMeasurementUtils:this.automaticLengthMeasurementUtils},this.addHandles((0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_8__.watch)((()=>this.labelOptions.enabled),(t=>{s.visible=t}),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_8__.syncAndInitial))),this.addHandles(this._editGeometryOperations.on(["vertex-add","vertex-update","vertex-remove"],(t=>{const e=t.vertices.map((t=>({componentIndex:0,vertexIndex:t.index,coordinates:this.coordinateHelper.vectorToArray(t.pos)}))),i=e.map((t=>t.coordinates)),n=this.coordinateHelper.vectorToDehydratedPoint(this._activeComponent.getFirstVertex()?.pos)??null;(0,_layers_graphics_dehydratedFeatureComparison_js__WEBPACK_IMPORTED_MODULE_16__.pointEquals)(n,this.firstVertex)||(this.firstVertex=n);const o=this.coordinateHelper.vectorToDehydratedPoint(this._activeComponent.getLastVertex()?.pos)??null;(0,_layers_graphics_dehydratedFeatureComparison_js__WEBPACK_IMPORTED_MODULE_16__.pointEquals)(o,this.lastVertex)||(this.lastVertex=o);const r=this.coordinateHelper.vectorToDehydratedPoint(this._activeComponent.edges.at(-1)?.leftVertex?.pos)??null;switch((0,_layers_graphics_dehydratedFeatureComparison_js__WEBPACK_IMPORTED_MODULE_16__.pointEquals)(r,this.secondToLastVertex)||(this.secondToLastVertex=r),this._processCursor(this.cursorVertex),t.type){case"vertex-add":this.emit(t.type,{...t,added:i,vertices:e});break;case"vertex-update":this.emit(t.type,{...t,updated:i,vertices:e});break;case"vertex-remove":this.emit(t.type,{...t,removed:i,vertices:e})}})));const p=this._manipulator=new _DrawManipulator_js__WEBPACK_IMPORTED_MODULE_20__.DrawManipulator({consumesClicks:!1,grabbableForEvent:t=>"click"!==this.drawingMode||"touch"===t.pointerType&&this._snappingEnabled&&1===this._pointerDownStates.size});this.manipulators.add(p),p.grabbable="point"!==t&&"multipoint"!==t,this.addHandles([p.events.on("immediate-click",(t=>this._onImmediateClick(t))),p.events.on("immediate-double-click",(t=>this._onImmediateDoubleClick(t))),(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_8__.watch)((()=>this.drawingMode),(()=>{this.removeHandles(A),this.addHandles(this._createManipulatorDragPipeline(p),A)}),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_8__.syncAndInitial),(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_8__.watch)((()=>({effectiveCursor:this.effectiveCursor})),(({effectiveCursor:t})=>{p.cursor=t}),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_8__.syncAndInitial)]),(0,_interactive_snapping_snappingUtils_js__WEBPACK_IMPORTED_MODULE_31__.setupSnappingToggleHandles)(this,(()=>{const t=this.view.inputManager.latestPointerType??"mouse",e=this._getSnappingContext(t);if(null!=this.snappingManager){const t=this._snappingOperation.snapAgainNearPreviousMapPoint(this.snappingManager,e);this._updatingHandles.addPromise((0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_6__.ignoreAbortErrors)(t))}}))}destroy(){(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_4__.destroyMaybe)(this.segmentLabels),(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_4__.destroyMaybe)(this._snappingOperation),this._editGeometryOperations=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_4__.destroyMaybe)(this._editGeometryOperations),this._updatingHandles.destroy()}get _isDragging(){const{_stagedPointerId:t,_manipulator:e}=this;return null!=t&&this._pointerDownStates.has(t)||e.grabbing||!e.interactive}get _snappingEnabled(){return null!=this.snappingManager&&this.snappingManager.options.effectiveEnabled}get _requiresScenePoint(){const t=this._updateAndGetEffectiveDrawSurface();return"3d"===this.view.type&&this.drawSurface!==t}get canRedo(){return this._editGeometryOperations.canRedo}get canUndo(){return this._editGeometryOperations.canUndo}get committedVertices(){return this._activeComponent.vertices.map((t=>this.coordinateHelper.vectorToArray(t.pos)))}get _constraint(){const{constraints:t,constraintsEnabled:e}=this;if(t&&e)switch(this.geometryType){case"point":case"multipoint":return this._getPointConstraint(t);case"polygon":case"polyline":return this._getPolylineOrPolygonConstraint(this.lastVertex,this.secondToLastVertex,t)}}set drawingMode(t){this._set("drawingMode",t??_DrawingMode_js__WEBPACK_IMPORTED_MODULE_19__.defaultDrawingMode)}get effectiveCursor(){return this.loading?U:this._hideDefaultCursor?null:this.cursor||L}get interactive(){return this._manipulator.interactive}set interactive(t){this._manipulator.interactive=t}get isCompleted(){return this._createOperationCompleted}get numCommittedVertices(){return this._activeComponent.vertices.length}get snappingOptions(){return null!=this.snappingManager?this.snappingManager.options:null}get cursorVertex(){return this._get("cursorVertex")}get visualizationCursorVertex(){return"mouse"===this._stagedPointerType?this.cursorVertex:null}get committableVertex(){const{cursorVertex:t,lastVertex:e,firstVertex:i,geometryType:n}=this;return"polygon"===n&&(0,_layers_graphics_dehydratedFeatureComparison_js__WEBPACK_IMPORTED_MODULE_16__.pointNear)(t,i)||(0,_layers_graphics_dehydratedFeatureComparison_js__WEBPACK_IMPORTED_MODULE_16__.pointNear)(t,e)?null:t}get updating(){return this._updatingHandles.updating}get geometryIncludingUncommittedVertices(){const{committedVertices:t,committableVertex:e,coordinateHelper:i}=this,n=t.slice();return null!=e&&n.push(i.pointToArray(e)),n}cancel(){this.complete({aborted:!0})}commitStagedVertex(){this._snappingOperation.abort();const{committableVertex:t}=this;null!=t&&this._editGeometryOperations.appendVertex(this.coordinateHelper.pointToVector(t))}complete(t){const e=t?.aborted||!1;this._snappingOperation.abort(),this.snappingManager?.doneSnapping();const{geometryType:i,numCommittedVertices:n}=this,o="multipoint"===i&&0===n||"polyline"===i&&n<2||"polygon"===i&&n<3;"segment"!==i&&"point"!==i||this.commitStagedVertex(),this._createOperationCompleted=!o,(this.isCompleted||e)&&(this._stagedScreenPoint=null,this._stagedPointerId=null,this._stagedPointerType=null,this._processCursor(null),this.emit("complete",{vertices:this.committedVertices.map(((t,e)=>({componentIndex:0,vertexIndex:e,coordinates:t}))),aborted:e,type:"complete"}))}onInputEvent(t){switch(t.type){case"pointer-down":this._pointerDownStates.add(t.pointerId);break;case"pointer-up":this._pointerDownStates.delete(t.pointerId)}switch(t.type){case"pointer-move":return this._onPointerMove(t);case"hold":return this._onHold(t)}}redo(){this._editGeometryOperations.redo()}undo(){null!=this.snappingManager&&this.snappingManager.doneSnapping(),this._editGeometryOperations.undo()}_processCursor(t){const e=(0,_core_lang_js__WEBPACK_IMPORTED_MODULE_3__.clone)(this.cursorVertex),i=(0,_core_lang_js__WEBPACK_IMPORTED_MODULE_3__.clone)(t),o=i&&(this._updateAndGetEffectiveDrawSurface()?.constrainZ(i)??i),r=this._snapToClosingVertex(o),s=this._applyConstraints(r);(0,_layers_graphics_dehydratedFeatureComparison_js__WEBPACK_IMPORTED_MODULE_16__.pointNear)(e,s)||(this._set("cursorVertex",s),this.segmentLabels?.set("stagedVertex",null!=s?this.coordinateHelper.pointToVector(s):null),null==s||"mouse"!==this._stagedPointerType?this.emit("cursor-remove"):this.emit("cursor-update",{updated:null,vertices:[{componentIndex:0,vertexIndex:this._activeComponent.vertices.length,coordinates:this.coordinateHelper.pointToArray(s)}],operation:"apply",type:"vertex-update"}))}_snapToClosingVertex(t){if(null==t||this._isDragging||"polygon"!==this.geometryType||this.numCommittedVertices<=2)return t;const e=this._mapToScreen(t);if(!e)return t;const i=this._activeComponent;return this._vertexWithinPointerDistance(i.vertices[0].pos,e)?this.firstVertex:this._vertexWithinPointerDistance(i.vertices.at(-1).pos,e)?this.lastVertex:t}_createManipulatorDragPipeline(t){switch(this.drawingMode){case"click":return this._createManipulatorDragPipelineClick(t);case"freehand":return this._createManipulatorDragPipelineFreehand(t);case"hybrid":return this._createManipulatorDragPipelineHybrid(t)}}_createManipulatorDragPipelineClick(t){return (0,_interactive_dragEventPipeline_js__WEBPACK_IMPORTED_MODULE_22__.createManipulatorDragEventPipeline)(t,((t,e,i,n)=>{const o="touch"===n&&this._snappingEnabled;if(this.isCompleted||!o)return;const{snappingStep:r,cancelSnapping:s}=(0,_interactive_snapping_SnappingDragPipelineStep_js__WEBPACK_IMPORTED_MODULE_29__.createSnapDragEventPipelineStep)({predicate:()=>o,snappingManager:this.snappingManager,snappingContext:new _interactive_snapping_SnappingContext_js__WEBPACK_IMPORTED_MODULE_28__.SnappingContext({editGeometryOperations:this._editGeometryOperations,elevationInfo:this.elevationInfo,feature:this.graphic,pointer:n,visualizer:this.snappingVisualizer,drawConstraints:this.constraints}),updatingHandles:this._updatingHandles,useZ:!this._requiresScenePoint});i=i.next((t=>(o&&null!=this.snappingManager&&this.snappingManager.doneSnapping(),t))).next(s),e.next(this._screenToMapDragEventStep()).next((t=>("start"===t.action&&(this._processCursor(t.mapStart),("segment"===this.geometryType||o&&!this.numCommittedVertices)&&this.commitStagedVertex()),t))).next((0,_interactive_dragEventPipeline_js__WEBPACK_IMPORTED_MODULE_22__.sceneSnappingAtLocation)(this.view,this.elevationInfo)).next(...r).next((t=>(o&&(this._processCursor(t.mapEnd),"end"===t.action&&this.commitStagedVertex()),t))).next((t=>("end"===t.action&&("mouse"!==this._stagedPointerType&&this._snappingOperation.abort(),"segment"!==this.geometryType&&"point"!==this.geometryType||this.complete()),t)))}))}_createManipulatorDragPipelineFreehand(t){return (0,_interactive_dragEventPipeline_js__WEBPACK_IMPORTED_MODULE_22__.createManipulatorDragEventPipeline)(t,((t,e)=>{this.isCompleted||e.next(this._screenToMapDragEventStep()).next((t=>("start"===t.action&&(this._snappingOperation.abort(),null==this.committableVertex&&this._processCursor(t.mapStart),"segment"===this.geometryType&&this.commitStagedVertex()),t))).next((t=>{switch(t.action){case"start":case"update":this._processCursor(t.mapEnd),"polygon"!==this.geometryType&&"polyline"!==this.geometryType||this.commitStagedVertex();break;case"end":this.complete()}return t}))}))}_createManipulatorDragPipelineHybrid(t){return (0,_interactive_dragEventPipeline_js__WEBPACK_IMPORTED_MODULE_22__.createManipulatorDragEventPipeline)(t,((t,e)=>{this.isCompleted||e.next(this._screenToMapDragEventStep()).next((t=>("start"===t.action&&(this._snappingOperation.abort(),this.addHandles(this._editGeometryOperations.createUndoGroup(),z),this._processCursor(t.mapStart),this.commitStagedVertex()),t))).next((t=>{switch(t.action){case"start":case"update":this._processCursor(t.mapEnd),"polygon"!==this.geometryType&&"polyline"!==this.geometryType||this.commitStagedVertex();break;case"end":"mouse"!==this._stagedPointerType&&this._snappingOperation.abort(),this.removeHandles(z),"segment"!==this.geometryType&&"point"!==this.geometryType||this.complete()}return t}))}))}get _drawAtFixedElevation(){const{constraintsEnabled:t,constraintZ:e,geometryType:i,numCommittedVertices:n}=this;return t?null!=e||"segment"===i&&n>0:("segment"===i||"polygon"===i)&&n>0}_updateAndGetEffectiveDrawSurface(){const{constraintsEnabled:t,coordinateHelper:e,drawSurface:i,elevationDrawSurface:n,snapToSceneEnabled:o}=this;if(null==n)return i;if(!this.hasZ)return n.defaultZ=null,n;const r=this.elevationInfo?.mode;let s=this.defaultZ,a=t||"absolute-height"===r;if(null!=o&&(a=o),"on-the-ground"===r&&(a=!1),this._drawAtFixedElevation){s=(t?this.constraintZ:null)??e.getZ(this._activeComponent.vertices[0].pos),a=!1}return a?i:(n.defaultZ=s,n)}_mapToScreen(t){return this._updateAndGetEffectiveDrawSurface()?.mapToScreen(t)}_onHold(t){this._snappingOperation.abort(),"click"===this.drawingMode&&"touch"===t.pointerType&&this._snappingEnabled&&this._processCursor(t.mapPoint),t.stopPropagation()}_onImmediateClick(t){if(!("mouse"===t.pointerType&&2===t.button||this._manipulator.dragging))try{const{drawingMode:e,geometryType:i}=this;this._stagedPointerType=t.pointerType,this._stagedScreenPoint=t.screenPoint;const n=this._screenToMap(t.screenPoint);if(null==n)return;if(null==n||"freehand"===e&&"point"!==i&&"multipoint"!==i)return;if(this._snappingEnabled&&null!=this.cursorVertex||this._processCursor(n),null==this.committableVertex)return void this.complete();this.commitStagedVertex(),"mouse"!==t.pointerType&&this._processCursor(null),("freehand"===e&&"multipoint"!==this.geometryType||"point"===i||"segment"===i&&2===this.numCommittedVertices||"segment"===i&&"hybrid"===e&&1===this.numCommittedVertices)&&this.complete()}finally{t.stopPropagation()}}_onImmediateDoubleClick(t){this._manipulator.dragging||"point"===this.geometryType||(this.complete(),t.stopPropagation())}_onPointerMove(t){const e=(0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_9__.createScreenPoint)(t.x,t.y);this._stagedScreenPoint=e,this._stagedPointerType=t.pointerType,this._stagedPointerId=t.pointerId,this._isDragging?this._snappingOperation.abort():(t.stopPropagation(),this._processCursorMovementRelativeToSurface(e,t.pointerType))}_onKeyboardBasedChange(){"mouse"===this._stagedPointerType&&this._stagedScreenPoint&&null!=this._stagedPointerId&&!this._isDragging?this._processCursorMovementRelativeToSurface(this._stagedScreenPoint,this._stagedPointerType):this._snappingOperation.abort()}_processCursorMovementRelativeToSurface(t,e){const i=this._snappingOperation,n=this._screenToMap(t),o=this._requiresScenePoint?this.drawSurface?.screenToMap(t):null;if(null==n)return this._hideDefaultCursor=!0,this._processCursor(null),void i.abort();this._hideDefaultCursor=!1;const r=this.snappingManager;if(null==r)return this._processCursor(n),void i.abort();const s=this._getSnappingContext(e);this._updatingHandles.addPromise((0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_6__.ignoreAbortErrors)(i.snap({point:n,scenePoint:o},r,s)))}_applyConstraints(t){const{_constraint:e,constraints:i}=this;if(!t||!i||!e)return t;const{context:n}=i,o=(0,_interactive_sketch_constraintUtils_js__WEBPACK_IMPORTED_MODULE_26__.pointToConstraintSpace)(t,n),r=o?e.closestTo(o):void 0;if(!r)return t;const s=(0,_interactive_sketch_constraintUtils_js__WEBPACK_IMPORTED_MODULE_26__.constraintSpaceToPoint)(r,t,n),a="2d"===this.view.type||"absolute-height"!==n.elevationInfo.mode;return null!=s&&a&&null!=this.constraintZ&&this.hasZ&&(s.z=this.constraintZ),s}_screenToMap(t){return t?this._updateAndGetEffectiveDrawSurface()?.screenToMap(t):null}_screenToMapDragEventStep(){let t=null;return e=>{if("start"===e.action&&(t=this._screenToMap(e.screenStart)),null==t)return null;const i=this._screenToMap(e.screenEnd);return null!=i?{...e,mapStart:t,mapEnd:i}:null}}_vertexWithinPointerDistance(t,e){const i=25,n=this._mapToScreen(this.coordinateHelper.vectorToDehydratedPoint(t));return null!=n&&R(n,e,i)}_getSnappingContext(t){const e=this._drawAtFixedElevation?this.elevationDrawSurface?.defaultZ:null;return new _interactive_snapping_SnappingContext_js__WEBPACK_IMPORTED_MODULE_28__.SnappingContext({editGeometryOperations:this._editGeometryOperations,elevationInfo:this.elevationInfo,pointer:t,feature:this.graphic,visualizer:this.snappingVisualizer,selfSnappingZ:null!=e?{value:e,elevationInfo:this.elevationInfo}:null,drawConstraints:this.constraints})}};function R(t,e,i){const n=t.x-e.x,o=t.y-e.y;return n*n+o*o<=i}(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_10__.property)()],F.prototype,"_hideDefaultCursor",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_10__.property)()],F.prototype,"_stagedPointerId",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_10__.property)()],F.prototype,"_isDragging",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_10__.property)()],F.prototype,"_snappingOperation",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_10__.property)()],F.prototype,"_snappingEnabled",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_10__.property)({constructOnly:!0})],F.prototype,"graphic",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_10__.property)()],F.prototype,"constraintsEnabled",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_10__.property)()],F.prototype,"constraints",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_10__.property)()],F.prototype,"_constraint",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_10__.property)()],F.prototype,"constraintZ",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_10__.property)()],F.prototype,"defaultZ",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_10__.property)()],F.prototype,"isDraped",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_10__.property)({constructOnly:!0})],F.prototype,"automaticLengthMeasurementUtils",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_10__.property)({value:_DrawingMode_js__WEBPACK_IMPORTED_MODULE_19__.defaultDrawingMode})],F.prototype,"drawingMode",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_10__.property)({constructOnly:!0})],F.prototype,"elevationDrawSurface",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_10__.property)({constructOnly:!0})],F.prototype,"elevationInfo",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_10__.property)({constructOnly:!0,type:_interactive_sketch_SketchLabelOptions_js__WEBPACK_IMPORTED_MODULE_27__["default"]})],F.prototype,"labelOptions",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_10__.property)({constructOnly:!0})],F.prototype,"geometryType",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_10__.property)({constructOnly:!0})],F.prototype,"hasM",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_10__.property)({constructOnly:!0})],F.prototype,"hasZ",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_10__.property)()],F.prototype,"cursor",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_10__.property)()],F.prototype,"effectiveCursor",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_10__.property)()],F.prototype,"loading",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_10__.property)({constructOnly:!0})],F.prototype,"manipulators",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_10__.property)({constructOnly:!0})],F.prototype,"drawSurface",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_10__.property)({constructOnly:!0})],F.prototype,"segmentLabels",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_10__.property)({constructOnly:!0})],F.prototype,"snappingManager",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_10__.property)({constructOnly:!0})],F.prototype,"snappingVisualizer",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_10__.property)()],F.prototype,"snapToSceneEnabled",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_10__.property)({readOnly:!0})],F.prototype,"cursorVertex",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_10__.property)({readOnly:!0})],F.prototype,"visualizationCursorVertex",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_10__.property)()],F.prototype,"committableVertex",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_10__.property)()],F.prototype,"firstVertex",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_10__.property)()],F.prototype,"lastVertex",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_10__.property)()],F.prototype,"secondToLastVertex",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_10__.property)()],F.prototype,"updating",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_10__.property)({constructOnly:!0})],F.prototype,"view",void 0),F=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_13__.subclass)("esri.views.draw.DrawOperation")],F);


/***/ }),

/***/ "./node_modules/@arcgis/core/views/draw/DrawingMode.js":
/*!*************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/draw/DrawingMode.js ***!
  \*************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   defaultDrawingMode: () => (/* binding */ e),
/* harmony export */   drawingModes: () => (/* binding */ c)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
const c=["freehand","hybrid","click"],e="click";


/***/ }),

/***/ "./node_modules/@arcgis/core/views/draw/drawSurfaces.js":
/*!**************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/draw/drawSurfaces.js ***!
  \**************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ElevationDrawSurface: () => (/* binding */ c),
/* harmony export */   MapDrawSurface: () => (/* binding */ h),
/* harmony export */   SceneDrawSurface: () => (/* binding */ l),
/* harmony export */   ScreenDrawSurface: () => (/* binding */ u)
/* harmony export */ });
/* harmony import */ var _core_screenUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../core/screenUtils.js */ "./node_modules/@arcgis/core/core/screenUtils.js");
/* harmony import */ var _geometry_Point_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../geometry/Point.js */ "./node_modules/@arcgis/core/geometry/Point.js");
/* harmony import */ var _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../geometry/SpatialReference.js */ "./node_modules/@arcgis/core/geometry/SpatialReference.js");
/* harmony import */ var _layers_graphics_dehydratedPoint_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../layers/graphics/dehydratedPoint.js */ "./node_modules/@arcgis/core/layers/graphics/dehydratedPoint.js");
/* harmony import */ var _layers_graphics_hydratedFeatures_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../layers/graphics/hydratedFeatures.js */ "./node_modules/@arcgis/core/layers/graphics/hydratedFeatures.js");
/* harmony import */ var _support_elevationInfoUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../support/elevationInfoUtils.js */ "./node_modules/@arcgis/core/support/elevationInfoUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
class c{constructor(e,t,s,r=null){this._elevationInfo=e,this.defaultZ=t,this._view=s,this._excludeGraphics=r}screenToMap(t){const{defaultZ:s,_view:r}=this,n=r.sceneIntersectionHelper.intersectElevationFromScreen((0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_0__.createScreenPointArray)(t.x,t.y),this._elevationInfo,s??0,this._excludeGraphics);return null==s&&null!=n&&(n.z=void 0),n}mapToScreen(e){const t=(0,_layers_graphics_dehydratedPoint_js__WEBPACK_IMPORTED_MODULE_3__.makeDehydratedPoint)(e.x,e.y,(0,_support_elevationInfoUtils_js__WEBPACK_IMPORTED_MODULE_5__.getConvertedElevation)(this._view,e,this._elevationInfo),e.spatialReference);return this._view.toScreen(t)}constrainZ(e){const{defaultZ:t}=this;return null!=t&&e.z!==t&&((e=(0,_layers_graphics_hydratedFeatures_js__WEBPACK_IMPORTED_MODULE_4__.clonePoint)(e)).z=t),e}}class l{constructor(e,t,s=[]){this.view=e,this.elevationInfo=t,this.exclude=s}screenToMap(e){const t=this.view.toMap(e,{exclude:this.exclude,excludeLabels:!0});return null!=t&&(t.z=(0,_support_elevationInfoUtils_js__WEBPACK_IMPORTED_MODULE_5__.getZForElevationMode)(t,this.view,this.elevationInfo)),t}mapToScreen(e){let t=e;return null!=this.elevationInfo&&(t=(0,_layers_graphics_dehydratedPoint_js__WEBPACK_IMPORTED_MODULE_3__.makeDehydratedPoint)(e.x,e.y,(0,_support_elevationInfoUtils_js__WEBPACK_IMPORTED_MODULE_5__.getConvertedElevation)(this.view,e,this.elevationInfo),e.spatialReference)),this.view.toScreen(t)}constrainZ(e){return e}}class h{constructor(e,t=!1,s=0){this.view=e,this.hasZ=t,this.defaultZ=s,this.mapToScreen=t=>e.toScreen(t),this.screenToMap=t?t=>{const r=e.toMap(t);return r.z=s,r}:t=>e.toMap(t)}constrainZ(e){const{defaultZ:t}=this;return this.hasZ&&e.z!==t&&((e=(0,_layers_graphics_hydratedFeatures_js__WEBPACK_IMPORTED_MODULE_4__.clonePoint)(e)).z=t),e}}class u{screenToMap(e){const{x:t,y:r}=e;return new _geometry_Point_js__WEBPACK_IMPORTED_MODULE_1__["default"]({x:t,y:r,spatialReference:u.spatialReference})}mapToScreen(e){return (0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_0__.createScreenPoint)(e.x,e.y)}constrainZ(e){return e}static{this.spatialReference=new _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_2__["default"]}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/draw/support/createUtils.js":
/*!*********************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/draw/support/createUtils.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   createCircle: () => (/* binding */ k),
/* harmony export */   createEllipse: () => (/* binding */ v),
/* harmony export */   createMultipoint: () => (/* binding */ R),
/* harmony export */   createPoint: () => (/* binding */ d),
/* harmony export */   createPolygon: () => (/* binding */ T),
/* harmony export */   createPolyline: () => (/* binding */ j),
/* harmony export */   createRectangle: () => (/* binding */ U),
/* harmony export */   createSquare: () => (/* binding */ b)
/* harmony export */ });
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_lang_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/lang.js */ "./node_modules/@arcgis/core/core/lang.js");
/* harmony import */ var _core_unitUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/unitUtils.js */ "./node_modules/@arcgis/core/core/unitUtils.js");
/* harmony import */ var _chunks_vec32_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../chunks/vec32.js */ "./node_modules/@arcgis/core/chunks/vec32.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../core/libs/gl-matrix-2/factories/vec3f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/vec3f64.js");
/* harmony import */ var _geometry_Circle_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../geometry/Circle.js */ "./node_modules/@arcgis/core/geometry/Circle.js");
/* harmony import */ var _geometry_Multipoint_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../geometry/Multipoint.js */ "./node_modules/@arcgis/core/geometry/Multipoint.js");
/* harmony import */ var _geometry_Point_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../geometry/Point.js */ "./node_modules/@arcgis/core/geometry/Point.js");
/* harmony import */ var _geometry_Polygon_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../geometry/Polygon.js */ "./node_modules/@arcgis/core/geometry/Polygon.js");
/* harmony import */ var _geometry_Polyline_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../geometry/Polyline.js */ "./node_modules/@arcgis/core/geometry/Polyline.js");
/* harmony import */ var _chunks_distanceOperator_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../chunks/distanceOperator.js */ "./node_modules/@arcgis/core/chunks/distanceOperator.js");
/* harmony import */ var _chunks_simplifyOperator_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../chunks/simplifyOperator.js */ "./node_modules/@arcgis/core/chunks/simplifyOperator.js");
/* harmony import */ var _geometry_support_coordsUtils_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../geometry/support/coordsUtils.js */ "./node_modules/@arcgis/core/geometry/support/coordsUtils.js");
/* harmony import */ var _geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../geometry/support/spatialReferenceUtils.js */ "./node_modules/@arcgis/core/geometry/support/spatialReferenceUtils.js");
/* harmony import */ var _surfaceCoordinateSystems_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./surfaceCoordinateSystems.js */ "./node_modules/@arcgis/core/views/draw/support/surfaceCoordinateSystems.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
function d(t,e){const o=new _geometry_Point_js__WEBPACK_IMPORTED_MODULE_7__["default"]({x:t[0],y:t[1],spatialReference:e});return t.length>2&&(o.z=t[2]),o}function R(t,e){return new _geometry_Multipoint_js__WEBPACK_IMPORTED_MODULE_6__["default"]({points:t,spatialReference:e})}function j(t,e,o){const n=new _geometry_Polyline_js__WEBPACK_IMPORTED_MODULE_9__["default"]({paths:t,spatialReference:e});return o&&(0,_geometry_support_coordsUtils_js__WEBPACK_IMPORTED_MODULE_12__.unnormalizeGeometryOnDatelineCrossing)(n),n}function T(t,n,r,a=!0){const l=(0,_core_lang_js__WEBPACK_IMPORTED_MODULE_1__.clone)(t);l.forEach((t=>{const o=t[0],n=t[t.length-1];(0,_core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_0__.equals)(o,n)&&1!==t.length||t.push(t[0])}));let s=new _geometry_Polygon_js__WEBPACK_IMPORTED_MODULE_8__["default"]({rings:l,spatialReference:n});return s.rings.forEach((t=>{(0,_geometry_support_coordsUtils_js__WEBPACK_IMPORTED_MODULE_12__.isClockwise)(t)||t.reverse()})),r&&(0,_geometry_support_coordsUtils_js__WEBPACK_IMPORTED_MODULE_12__.unnormalizeGeometryOnDatelineCrossing)(s),a&&!(0,_chunks_simplifyOperator_js__WEBPACK_IMPORTED_MODULE_11__.i)(s)&&(0,_geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_13__.isValid)(n)&&(s=(0,_chunks_simplifyOperator_js__WEBPACK_IMPORTED_MODULE_11__.e)(s)||s),s}function b(e,o,n){const r=o.mapToLocalMultiple(e),a=[],l={x:r[0].x,y:r[0].y},s={x:r[1].x,y:r[1].y},i=Math.round(s.x-l.x),c=Math.round(s.y-l.y),p=Math.max(Math.abs(i),Math.abs(c));if(n){const t={x:l.x+p,y:l.y+p},e={x:l.x-p,y:l.y-p};a.push((0,_surfaceCoordinateSystems_js__WEBPACK_IMPORTED_MODULE_14__.makeSurfacePoint)(t.x,e.y),(0,_surfaceCoordinateSystems_js__WEBPACK_IMPORTED_MODULE_14__.makeSurfacePoint)(e.x,e.y),(0,_surfaceCoordinateSystems_js__WEBPACK_IMPORTED_MODULE_14__.makeSurfacePoint)(e.x,t.y),(0,_surfaceCoordinateSystems_js__WEBPACK_IMPORTED_MODULE_14__.makeSurfacePoint)(t.x,t.y))}else{const t={x:i>0?l.x+p:l.x-p,y:c>0?l.y+p:l.y-p};a.push((0,_surfaceCoordinateSystems_js__WEBPACK_IMPORTED_MODULE_14__.makeSurfacePoint)(l.x,l.y),(0,_surfaceCoordinateSystems_js__WEBPACK_IMPORTED_MODULE_14__.makeSurfacePoint)(t.x,l.y),(0,_surfaceCoordinateSystems_js__WEBPACK_IMPORTED_MODULE_14__.makeSurfacePoint)(t.x,t.y),(0,_surfaceCoordinateSystems_js__WEBPACK_IMPORTED_MODULE_14__.makeSurfacePoint)(l.x,t.y))}return P(T([a.map((t=>o.localToMap(t))).filter(_core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_0__.isSome)],o.spatialReference,o.doUnnormalization,!0),a,o)}function U(e,o,n){let r=o.mapToLocalMultiple(e);if(1===r.length){const t=48,e=r[0];r=[(0,_surfaceCoordinateSystems_js__WEBPACK_IMPORTED_MODULE_14__.makeSurfacePoint)(e.x-t,e.y+t),(0,_surfaceCoordinateSystems_js__WEBPACK_IMPORTED_MODULE_14__.makeSurfacePoint)(e.x+t,e.y-t),(0,_surfaceCoordinateSystems_js__WEBPACK_IMPORTED_MODULE_14__.makeSurfacePoint)(e.x+t,e.y-t),(0,_surfaceCoordinateSystems_js__WEBPACK_IMPORTED_MODULE_14__.makeSurfacePoint)(e.x-t,e.y+t)]}const a=[],l={x:r[0].x,y:r[0].y},s={x:r[1].x,y:r[1].y};if(n){const t=Math.round(s.x-l.x),e=Math.round(s.y-l.y);a.push((0,_surfaceCoordinateSystems_js__WEBPACK_IMPORTED_MODULE_14__.makeSurfacePoint)(l.x-t,l.y-e),(0,_surfaceCoordinateSystems_js__WEBPACK_IMPORTED_MODULE_14__.makeSurfacePoint)(s.x,l.y-e),(0,_surfaceCoordinateSystems_js__WEBPACK_IMPORTED_MODULE_14__.makeSurfacePoint)(s.x,s.y),(0,_surfaceCoordinateSystems_js__WEBPACK_IMPORTED_MODULE_14__.makeSurfacePoint)(l.x-t,s.y))}else a.push((0,_surfaceCoordinateSystems_js__WEBPACK_IMPORTED_MODULE_14__.makeSurfacePoint)(l.x,l.y),(0,_surfaceCoordinateSystems_js__WEBPACK_IMPORTED_MODULE_14__.makeSurfacePoint)(s.x,l.y),(0,_surfaceCoordinateSystems_js__WEBPACK_IMPORTED_MODULE_14__.makeSurfacePoint)(s.x,s.y),(0,_surfaceCoordinateSystems_js__WEBPACK_IMPORTED_MODULE_14__.makeSurfacePoint)(l.x,s.y));return P(T([a.map((t=>o.localToMap(t))).filter(_core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_0__.isSome)],o.spatialReference,o.doUnnormalization,!0),a,o)}function P(t,e,o){const n=z(e[3],e[2],o),r=z(e[1],e[2],o),a=z(e[0],e[1],o),l=z(e[0],e[3],o);return{geometry:t,midpoints:null!=n&&null!=r&&null!=a&&null!=l?{top:n,right:r,bottom:a,left:l}:null}}function z(t,e,o){I[0]=t.x,I[1]=t.y,I[2]=0,L[0]=e.x,L[1]=e.y,L[2]=0,(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_3__.m)(I,I,L,.5),w.x=I[0],w.y=L[1],w.z=L[2];const n=o.localToMap(w);return null!=n?d(n,o.spatialReference):null}const w=(0,_surfaceCoordinateSystems_js__WEBPACK_IMPORTED_MODULE_14__.makeSurfacePoint)(0,0,0),I=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_4__.create)(),L=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_4__.create)();function k(t,e,o,r){const a=e.mapToLocalMultiple(t);let s=null,i=null;if(o)s=a[0],i=a[1];else{const t=a[0],e=a[1],o=Math.round(e.x-t.x),n=Math.round(e.y-t.y),r=Math.max(Math.abs(o),Math.abs(n));s=(0,_surfaceCoordinateSystems_js__WEBPACK_IMPORTED_MODULE_14__.makeSurfacePoint)(o>0?t.x+r/2:t.x-r/2,n>0?t.y+r/2:t.y-r/2),i=(0,_surfaceCoordinateSystems_js__WEBPACK_IMPORTED_MODULE_14__.makeSurfacePoint)(Math.abs(o)>Math.abs(n)?s.x-r/2:s.x,Math.abs(o)>Math.abs(n)?s.y:s.y-r/2)}const c=e.localToMap(s),p=e.localToMap(i);if(null==c||null==p)return null;e.doUnnormalization&&(0,_geometry_support_coordsUtils_js__WEBPACK_IMPORTED_MODULE_12__.unnormalizeVerticesOnDatelineCrossing)([[c,p]],e.spatialReference);const u=d(c,e.spatialReference),m=d(p,e.spatialReference),x=(0,_core_unitUtils_js__WEBPACK_IMPORTED_MODULE_2__.getMetersPerUnitForSR)(e.spatialReference);let h=0;if((0,_geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_13__.isValid)(e.spatialReference))h=x*(0,_chunks_distanceOperator_js__WEBPACK_IMPORTED_MODULE_10__.e)(u,m);else{const t=s.x-i.x,e=s.y-i.y;h=x*Math.sqrt(t*t+e*e)*(r||1)}const R=new _geometry_Circle_js__WEBPACK_IMPORTED_MODULE_5__["default"]({center:u,radius:h,radiusUnit:"meters",spatialReference:e.spatialReference});return{geometry:T(R.rings,R.spatialReference,!1),center:u,edge:m}}function v(e,o,n){const r=o.mapToLocalMultiple(e),a=r[0],l=r[1],s=Math.round(l.x-a.x),i=Math.round(l.y-a.y),c=(0,_surfaceCoordinateSystems_js__WEBPACK_IMPORTED_MODULE_14__.makeSurfacePoint)(n?a.x:a.x+s/2,n?a.y:a.y+i/2),p=n?s:s/2,y=n?i:i/2,u=60,m=[],f=2*Math.PI/u;function x(t){const e=Math.cos(t),o=Math.sin(t);return (0,_surfaceCoordinateSystems_js__WEBPACK_IMPORTED_MODULE_14__.makeSurfacePoint)(p*e+c.x,y*o+c.y)}for(let t=0;t<u;t++)m.push(x(t*f));m.push(m[0]);const{spatialReference:h,doUnnormalization:M}=o,R=T([m.map((t=>o.localToMap(t))).filter(_core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_0__.isSome)],h,M,!1),j=o.localToMap(x(Math.PI/2)),b=o.localToMap(x(0)),U=o.localToMap(x(-Math.PI/2)),P=o.localToMap(x(Math.PI));return{geometry:R,midpoints:null!=j&&null!=b&&null!=U&&null!=P?{top:d(j,h),right:d(b,h),bottom:d(U,h),left:d(P,h)}:null}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/draw/support/surfaceCoordinateSystems.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/draw/support/surfaceCoordinateSystems.js ***!
  \**********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   AffineCoordinateSystem: () => (/* binding */ v),
/* harmony export */   SceneViewCoordinateSystem: () => (/* binding */ W),
/* harmony export */   SurfaceCoordinateSystem: () => (/* binding */ R),
/* harmony export */   createViewAlignedCoordinateSystem: () => (/* binding */ F),
/* harmony export */   makeMapPoint: () => (/* binding */ g),
/* harmony export */   makeSurfacePoint: () => (/* binding */ w)
/* harmony export */ });
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_libs_gl_matrix_2_math_mat2d_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/libs/gl-matrix-2/math/mat2d.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/math/mat2d.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_mat2df64_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/libs/gl-matrix-2/factories/mat2df64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/mat2df64.js");
/* harmony import */ var _core_libs_gl_matrix_2_math_quat_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/libs/gl-matrix-2/math/quat.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/math/quat.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_quatf64_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../core/libs/gl-matrix-2/factories/quatf64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/quatf64.js");
/* harmony import */ var _chunks_vec32_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../chunks/vec32.js */ "./node_modules/@arcgis/core/chunks/vec32.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../core/libs/gl-matrix-2/factories/vec3f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/vec3f64.js");
/* harmony import */ var _geometry_Point_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../geometry/Point.js */ "./node_modules/@arcgis/core/geometry/Point.js");
/* harmony import */ var _geometry_support_Axis_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../geometry/support/Axis.js */ "./node_modules/@arcgis/core/geometry/support/Axis.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
function g(t,r,e=null){return null!=e?[t,r,e]:[t,r]}function w(t,r,e=null){return null!=e?{x:t,y:r,z:e}:{x:t,y:r}}class R{constructor(t){this.spatialReference=t}mapToLocalMultiple(r){return r.map((t=>this.mapToLocal(t))).filter(_core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_0__.isSome)}get doUnnormalization(){return!1}}class v extends R{constructor(t,a,o=null){super(a),this._defaultZ=o,this.transform=(0,_core_libs_gl_matrix_2_factories_mat2df64_js__WEBPACK_IMPORTED_MODULE_2__.create)(),this.transformInv=(0,_core_libs_gl_matrix_2_factories_mat2df64_js__WEBPACK_IMPORTED_MODULE_2__.create)(),this.transform=(0,_core_libs_gl_matrix_2_factories_mat2df64_js__WEBPACK_IMPORTED_MODULE_2__.clone)(t),(0,_core_libs_gl_matrix_2_math_mat2d_js__WEBPACK_IMPORTED_MODULE_1__.invert)(this.transformInv,this.transform)}makeMapPoint(t,r){return g(t,r,this._defaultZ)}mapToLocal(t){return w(this.transform[0]*t[0]+this.transform[2]*t[1]+this.transform[4],this.transform[1]*t[0]+this.transform[3]*t[1]+this.transform[5])}localToMap(t){return g(this.transformInv[0]*t.x+this.transformInv[2]*t.y+this.transformInv[4],this.transformInv[1]*t.x+this.transformInv[3]*t.y+this.transformInv[5],this._defaultZ)}}class W extends R{constructor(t,r){super(t.spatialReference),this.view=t,this.defaultZ=null,this.pWS=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_6__.create)(),this.tangentFrameUpWS=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_6__.create)(),this.tangentFrameRightWS=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_6__.create)(),this.tangentFrameForwardWS=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_6__.create)(),this.localFrameRightWS=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_6__.create)(),this.localFrameUpWS=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_6__.create)(),this.worldToLocalTransform=(0,_core_libs_gl_matrix_2_factories_quatf64_js__WEBPACK_IMPORTED_MODULE_4__.create)(),this.localToWorldTransform=(0,_core_libs_gl_matrix_2_factories_quatf64_js__WEBPACK_IMPORTED_MODULE_4__.create)(),this.scale=1,this.scale=t.resolution,this.referenceMapPoint=r,this.defaultZ=r.hasZ?r.z:null;const e=t.state.camera.viewRight;this.view.renderCoordsHelper.toRenderCoords(this.referenceMapPoint,this.pWS),this.view.renderCoordsHelper.worldBasisAtPosition(this.pWS,_geometry_support_Axis_js__WEBPACK_IMPORTED_MODULE_8__.Axis.X,this.tangentFrameRightWS),this.view.renderCoordsHelper.worldBasisAtPosition(this.pWS,_geometry_support_Axis_js__WEBPACK_IMPORTED_MODULE_8__.Axis.Y,this.tangentFrameUpWS),this.view.renderCoordsHelper.worldBasisAtPosition(this.pWS,_geometry_support_Axis_js__WEBPACK_IMPORTED_MODULE_8__.Axis.Z,this.tangentFrameForwardWS);const s=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_6__.create)();(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_5__.g)(s,this.tangentFrameForwardWS,(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_5__.e)(e,this.tangentFrameForwardWS)),(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_5__.d)(this.localFrameRightWS,e,s),(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_5__.n)(this.localFrameRightWS,this.localFrameRightWS),(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_5__.h)(this.localFrameUpWS,this.tangentFrameForwardWS,this.localFrameRightWS),(0,_core_libs_gl_matrix_2_math_quat_js__WEBPACK_IMPORTED_MODULE_3__.rotationTo)(this.worldToLocalTransform,this.localFrameRightWS,this.tangentFrameRightWS),(0,_core_libs_gl_matrix_2_math_quat_js__WEBPACK_IMPORTED_MODULE_3__.invert)(this.localToWorldTransform,this.worldToLocalTransform)}get doUnnormalization(){return"global"===this.view.viewingMode}makeMapPoint(t,r){return g(t,r,this.defaultZ)}mapToLocal(t){const r=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_6__.create)();this.view.renderCoordsHelper.toRenderCoords(new _geometry_Point_js__WEBPACK_IMPORTED_MODULE_7__["default"]({x:t[0],y:t[1],spatialReference:this.spatialReference}),r),(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_5__.v)(r,r,this.worldToLocalTransform);const e=this.view.renderCoordsHelper.fromRenderCoords(r,new _geometry_Point_js__WEBPACK_IMPORTED_MODULE_7__["default"]({spatialReference:this.view.spatialReference}));return null!=e?w(e.x/this.scale,e.y/this.scale):null}localToMap(t){const r=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_6__.create)();this.view.renderCoordsHelper.toRenderCoords(new _geometry_Point_js__WEBPACK_IMPORTED_MODULE_7__["default"]({x:t.x*this.scale,y:t.y*this.scale,spatialReference:this.spatialReference}),r),(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_5__.v)(r,r,this.localToWorldTransform);const e=this.view.renderCoordsHelper.fromRenderCoords(r,new _geometry_Point_js__WEBPACK_IMPORTED_MODULE_7__["default"]({spatialReference:this.view.spatialReference}));return null!=e?g(e.x,e.y,this.defaultZ):null}}function F(t,r){if("2d"===t.type)return new v(t.state.transform,t.spatialReference,r.length>2?r[2]:null);if("3d"===t.type){const e=r.length>2?new _geometry_Point_js__WEBPACK_IMPORTED_MODULE_7__["default"]({x:r[0],y:r[1],z:r[2],spatialReference:t.spatialReference}):new _geometry_Point_js__WEBPACK_IMPORTED_MODULE_7__["default"]({x:r[0],y:r[1],spatialReference:t.spatialReference});return new W(t,e)}return null}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/interactive/sketch/constraintUtils.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/interactive/sketch/constraintUtils.js ***!
  \*******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   constraintSpaceToPoint: () => (/* binding */ W),
/* harmony export */   getConstraintContext: () => (/* binding */ Z),
/* harmony export */   getGeodesicConstraint: () => (/* binding */ P),
/* harmony export */   getPointConstraint: () => (/* binding */ V),
/* harmony export */   getPolylineOrPolygonConstraint: () => (/* binding */ k),
/* harmony export */   intersectAll: () => (/* binding */ z),
/* harmony export */   pointToConstraintSpace: () => (/* binding */ G)
/* harmony export */ });
/* harmony import */ var _core_quantityUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../core/quantityUtils.js */ "./node_modules/@arcgis/core/core/quantityUtils.js");
/* harmony import */ var _core_unitUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/unitUtils.js */ "./node_modules/@arcgis/core/core/unitUtils.js");
/* harmony import */ var _chunks_vec32_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../chunks/vec32.js */ "./node_modules/@arcgis/core/chunks/vec32.js");
/* harmony import */ var _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../geometry/SpatialReference.js */ "./node_modules/@arcgis/core/geometry/SpatialReference.js");
/* harmony import */ var _geometry_projection_projectVectorToVector_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../geometry/projection/projectVectorToVector.js */ "./node_modules/@arcgis/core/geometry/projection/projectVectorToVector.js");
/* harmony import */ var _geometry_support_geodesicUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../geometry/support/geodesicUtils.js */ "./node_modules/@arcgis/core/geometry/support/geodesicUtils.js");
/* harmony import */ var _layers_graphics_dehydratedPoint_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../layers/graphics/dehydratedPoint.js */ "./node_modules/@arcgis/core/layers/graphics/dehydratedPoint.js");
/* harmony import */ var _support_elevationInfoUtils_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../support/elevationInfoUtils.js */ "./node_modules/@arcgis/core/support/elevationInfoUtils.js");
/* harmony import */ var _constraints_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./constraints.js */ "./node_modules/@arcgis/core/views/interactive/sketch/constraints.js");
/* harmony import */ var _normalizedPoint_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./normalizedPoint.js */ "./node_modules/@arcgis/core/views/interactive/sketch/normalizedPoint.js");
/* harmony import */ var _support_angularMeasurementUtils_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../support/angularMeasurementUtils.js */ "./node_modules/@arcgis/core/views/support/angularMeasurementUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
function Z(e,n,t,r,o,i){let l="geodesic",u=(0,_geometry_support_geodesicUtils_js__WEBPACK_IMPORTED_MODULE_5__.geodesicCompatibleSpatialReference)(t);const s=(0,_normalizedPoint_js__WEBPACK_IMPORTED_MODULE_9__.createWritable)();return (0,_normalizedPoint_js__WEBPACK_IMPORTED_MODULE_9__.fromPoint)(e,n,r,s),s[2]=0,u&&(0,_geometry_projection_projectVectorToVector_js__WEBPACK_IMPORTED_MODULE_4__.projectVectorToVector)(s,t,s,u)||(l="euclidean",u=t),{mode:l,view:n,elevationInfo:r,hasZ:o,directionMode:i,spatialReference:e.spatialReference,measurementSR:u,origin:s}}function b(n,t,o){if(null==t||null==n)return;const i=(0,_core_unitUtils_js__WEBPACK_IMPORTED_MODULE_1__.lengthUnitFromSpatialReference)(o.measurementSR);if(null==i)return;const l=G(n,o);if(null==l)return;const u=(0,_core_quantityUtils_js__WEBPACK_IMPORTED_MODULE_0__.valueInUnit)(t,i);return new _constraints_js__WEBPACK_IMPORTED_MODULE_8__.VerticalCylinderConstraint(l,u)}function A(e,t,r,o){if(null==r||null==e)return;const i=G(e,o);if(null==i)return;const l=(0,_support_angularMeasurementUtils_js__WEBPACK_IMPORTED_MODULE_10__.getDegreesGeographic)(r),u=10,s=e=>{if(null==e)return;const t=(0,_normalizedPoint_js__WEBPACK_IMPORTED_MODULE_9__.createWritable)(),r=(0,_core_quantityUtils_js__WEBPACK_IMPORTED_MODULE_0__.createAngle)(e,"degrees","geographic");return (0,_support_angularMeasurementUtils_js__WEBPACK_IMPORTED_MODULE_10__.pointFromDistanceAlongAzimuth)(t,i,o.measurementSR,u,r,o.mode)?new _constraints_js__WEBPACK_IMPORTED_MODULE_8__.VerticalHalfPlaneConstraint(i,t):void 0},c=()=>{if(null!=t&&null!=e)return (0,_support_angularMeasurementUtils_js__WEBPACK_IMPORTED_MODULE_10__.getDegreesGeographic)((0,_support_angularMeasurementUtils_js__WEBPACK_IMPORTED_MODULE_10__.directionBetweenPoints)(t,e))};switch(o.directionMode){case _support_angularMeasurementUtils_js__WEBPACK_IMPORTED_MODULE_10__.DirectionMode.Absolute:return s(l);case _support_angularMeasurementUtils_js__WEBPACK_IMPORTED_MODULE_10__.DirectionMode.Relative:{const e=c();if(null==e)return;return s(e+l)}case _support_angularMeasurementUtils_js__WEBPACK_IMPORTED_MODULE_10__.DirectionMode.RelativeBilateral:{const e=c();if(null==e)return;return (0,_constraints_js__WEBPACK_IMPORTED_MODULE_8__.constraintOrSet)([s(e+l),s(e-l)])}}}function B(e,n){const t=C(e,n);return null!=t?new _constraints_js__WEBPACK_IMPORTED_MODULE_8__.HorizontalPlaneConstraint(t):void 0}function P(e,n,t){const{context:r,longitude:o,latitude:i,direction:l,distance:u,elevation:s}=t;if(null!=o||null!=i||null!=u||null!=s||null!=l){if(null!=o||null!=i){const e=(0,_support_angularMeasurementUtils_js__WEBPACK_IMPORTED_MODULE_10__.getDegreesGeographic)(o),n=(0,_support_angularMeasurementUtils_js__WEBPACK_IMPORTED_MODULE_10__.getDegreesGeographic)(i),t=C(s,r);return new _constraints_js__WEBPACK_IMPORTED_MODULE_8__.CoordinateConstraint(e,n,t)}return T(e,n,t)}}function T(n,t,{context:r,direction:o,distance:i,elevation:l}){if(null==t)return B(l,r);const{view:u,elevationInfo:s,measurementSR:a}=r,f=(0,_normalizedPoint_js__WEBPACK_IMPORTED_MODULE_9__.fromPoint)(t,u,s);if(!a||!(0,_geometry_projection_projectVectorToVector_js__WEBPACK_IMPORTED_MODULE_4__.projectVectorToVector)(f,t.spatialReference,E,a))return;const[m,d]=E,p=null!=i?(0,_core_quantityUtils_js__WEBPACK_IMPORTED_MODULE_0__.valueInUnit)(i,"meters"):void 0,g=(0,_support_angularMeasurementUtils_js__WEBPACK_IMPORTED_MODULE_10__.getDegreesGeographic)(o),R=C(l,r),y=e=>{const n=new _constraints_js__WEBPACK_IMPORTED_MODULE_8__.GeodesicConstraint([m,d],a,p,R,e);return null==p||null==e||null==R&&r.hasZ?n:new _constraints_js__WEBPACK_IMPORTED_MODULE_8__.PointConstraint(n.closestTo(f))};if(null==g)return y(void 0);const x=()=>{if(null!=n&&null!=t)return (0,_support_angularMeasurementUtils_js__WEBPACK_IMPORTED_MODULE_10__.getDegreesGeographic)((0,_support_angularMeasurementUtils_js__WEBPACK_IMPORTED_MODULE_10__.directionBetweenPoints)(n,t))};switch(r.directionMode){case _support_angularMeasurementUtils_js__WEBPACK_IMPORTED_MODULE_10__.DirectionMode.Absolute:return y(g);case _support_angularMeasurementUtils_js__WEBPACK_IMPORTED_MODULE_10__.DirectionMode.Relative:{const e=x();if(null==e)return;return y(e+g)}case _support_angularMeasurementUtils_js__WEBPACK_IMPORTED_MODULE_10__.DirectionMode.RelativeBilateral:{const e=x();if(null==e)return;return (0,_constraints_js__WEBPACK_IMPORTED_MODULE_8__.constraintOrSet)([y(e+g),y(e-g)])}}}function V(e){return"geodesic"===e.context.mode?P(null,null,e):q(e)}function k(e,n,t){const{context:r,x:o,y:i,distance:l,direction:u,elevation:s}=t;return"geodesic"===r.mode?P(n,e,t):null!=o||null!=i?q(t):z([b(e,l,r),A(e,n,u,r),B(s,r)])}function q({x:e,y:n,elevation:t,context:r}){J.x=e?.value??0,J.y=n?.value??0,J.spatialReference=r.spatialReference;const o=G(J,r,F);return new _constraints_js__WEBPACK_IMPORTED_MODULE_8__.CoordinateConstraint(null!=e&&null!=o?o[0]:void 0,null!=n&&null!=o?o[1]:void 0,C(t,r))}function z(e){let n;for(const t of e)t&&(n=n?.intersect(t)??t);return n}function G(e,n,t=(0,_normalizedPoint_js__WEBPACK_IMPORTED_MODULE_9__.createWritable)()){const{view:r,elevationInfo:o,measurementSR:l,origin:u,mode:s}=n;if((0,_normalizedPoint_js__WEBPACK_IMPORTED_MODULE_9__.fromPoint)(e,r,o,t),(0,_geometry_projection_projectVectorToVector_js__WEBPACK_IMPORTED_MODULE_4__.projectVectorToVector)(t,e.spatialReference,t,l))return"geodesic"!==s&&(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_2__.d)(t,t,u),t}function W(e,n,t,r){const{view:o,measurementSR:i,spatialReference:s,origin:a,mode:f}=t;if("geodesic"===f?(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_2__.c)(H,e):(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_2__.f)(H,e,a),(0,_geometry_projection_projectVectorToVector_js__WEBPACK_IMPORTED_MODULE_4__.projectVectorToVector)(H,i,H,s))return (0,_normalizedPoint_js__WEBPACK_IMPORTED_MODULE_9__.toElevationAlignedDehydratedPoint)(H,o,n,t,r)}function C(e,n){return D(e,n)?.value??void 0}function D(n,{view:r,origin:i,elevationInfo:l,hasZ:u,measurementSR:s}){if(null==n||!u)return;const c=(0,_core_unitUtils_js__WEBPACK_IMPORTED_MODULE_1__.verticalLengthUnitFromSpatialReference)(s);if(null==c)return;const[a,f]=i,d=(0,_core_quantityUtils_js__WEBPACK_IMPORTED_MODULE_0__.valueInUnit)(n,c),p="3d"===r?.type?(0,_support_elevationInfoUtils_js__WEBPACK_IMPORTED_MODULE_7__.getConvertedElevationFromXYZ)(r,a,f,d,s,l):d;return null!=p?(0,_core_quantityUtils_js__WEBPACK_IMPORTED_MODULE_0__.createLength)(p,c):void 0}const E=(0,_normalizedPoint_js__WEBPACK_IMPORTED_MODULE_9__.createWritable)(),F=(0,_normalizedPoint_js__WEBPACK_IMPORTED_MODULE_9__.createWritable)(),H=(0,_normalizedPoint_js__WEBPACK_IMPORTED_MODULE_9__.createWritable)(),J=(0,_layers_graphics_dehydratedPoint_js__WEBPACK_IMPORTED_MODULE_6__.makeDehydratedPoint)(0,0,0,_geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_3__["default"].WGS84);


/***/ }),

/***/ "./node_modules/@arcgis/core/views/interactive/snapping/SnappingOperation.js":
/*!***********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/interactive/snapping/SnappingOperation.js ***!
  \***********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   SnappingOperation: () => (/* binding */ p)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/Accessor.js */ "./node_modules/@arcgis/core/core/Accessor.js");
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/maybe.js */ "./node_modules/@arcgis/core/core/maybe.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_RandomLCG_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../core/RandomLCG.js */ "./node_modules/@arcgis/core/core/RandomLCG.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _support_Scheduler_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../support/Scheduler.js */ "./node_modules/@arcgis/core/views/support/Scheduler.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
let p=class extends _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__["default"]{constructor(t){super(t),this.constrainResult=t=>t,this._snapPoints=null,this._frameTask=null,this._abortController=null,this._stagedPoint=null,this._snap=(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__.debounce)((async(t,s,o,n)=>{const i=this._frameTask;if(null==i)return;const r=await i.schedule((()=>s.snap({...t,context:o,signal:n})),n);r.valid&&await i.schedule((()=>{this.stagedPoint=r.apply(),t!==this._snapPoints&&null!=this._snapPoints&&(this.stagedPoint=s.update({...this._snapPoints,context:o}))}),n)}))}get stagedPoint(){return this._stagedPoint}set stagedPoint(t){this._stagedPoint=this.constrainResult(t)}initialize(){const t="3d"===this.view.type?this.view?.resourceController?.scheduler:null;this._frameTask=null!=t?t.registerTask(_support_Scheduler_js__WEBPACK_IMPORTED_MODULE_9__.TaskPriority.SNAPPING):_support_Scheduler_js__WEBPACK_IMPORTED_MODULE_9__.ImmediateTask}destroy(){this._abortController=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_2__.abortMaybe)(this._abortController),this._frameTask=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_2__.removeMaybe)(this._frameTask)}update(t,s,o){this._snapPoints=t;const{point:n,scenePoint:i}=t,r=s.update({point:n,scenePoint:i,context:o});return this.stagedPoint=r,r}async snap(t,s,o){const{point:n,scenePoint:i}=t;return this.stagedPoint=s.update({point:n,scenePoint:i,context:o}),this._snapPoints=t,null==this._abortController&&(this._abortController=new AbortController),this._snap(t,s,o,this._abortController.signal)}async snapAgainNearPreviousMapPoint(t,s){null!=this._snapPoints&&await this.snap(this._snapPoints,t,s)}abort(){this._abortController=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_2__.abortMaybe)(this._abortController),this._snapPoints=null}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)({constructOnly:!0})],p.prototype,"view",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],p.prototype,"stagedPoint",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],p.prototype,"constrainResult",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],p.prototype,"_stagedPoint",void 0),p=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_8__.subclass)("esri.views.interactive.snapping.SnappingOperation")],p);


/***/ })

};

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmVuZG9ycy1ub2RlX21vZHVsZXNfYXJjZ2lzX2NvcmVfdmlld3NfZHJhd19EcmF3T3BlcmF0aW9uX2pzLW5vZGVfbW9kdWxlc19hcmNnaXNfY29yZV92aWV3c19kLWE3Njg0YS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ3NRLFFBQVEsa0JBQWtCLGFBQWEsaUJBQWlCLFNBQVMsMEJBQTBCLFNBQVMseUJBQXlCLFNBQVMsZUFBZSxrREFBa0QsdUJBQXVCLDhDQUE4QywrQ0FBQyxJQUFJLCtDQUFDLElBQUksY0FBYyw4Q0FBOEMsWUFBWSxnRUFBQyx5QkFBeUIsd0NBQXdDLGNBQWMsbUJBQW1CLEVBQUUsTUFBTSxPQUFPLEdBQUcsZ0JBQWdCLHlGQUFDLElBQUkseUZBQUMsVUFBVSxTQUFTLFFBQVEsZ0dBQUMsSUFBSSxFQUFFLG1GQUFDLFFBQVEsU0FBUyxrRUFBa0UsMENBQTBDLHFCQUFxQixlQUFlLEdBQWdDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNKbjlCO0FBQ0E7QUFDQTtBQUNBO0FBQ21SLGNBQWMsUUFBUSxnR0FBQyxJQUFJLE9BQU8sdUZBQUMsQ0FBQyxtRkFBQyxDQUFDLHlGQUFDLElBQUksaUdBQUMsV0FBVyxjQUFjLGNBQWMscUZBQUMsSUFBSSxnR0FBQyxJQUFJLE9BQU8sdUZBQUMsR0FBRyxpR0FBQyxnQkFBZ0IsdUZBQUMsUUFBUSxjQUFjLE9BQU8sNkZBQUMsQ0FBQyx5RkFBQyxJQUFJLGlHQUFDLENBQUMsZ0dBQUMsU0FBUyxRQUFRLDBGQUFDLDBDQUEwQyxtRUFBbUUscUJBQXFCLGVBQWUsR0FBOEM7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDSnJvQjtBQUNBO0FBQ0E7QUFDQTtBQUM4SSxRQUFRLGVBQWUscUJBQXFCLDJGQUFDLHNCQUFzQixXQUFXLE9BQU8seUVBQUMsa0NBQWtDLE9BQU8sdUJBQXVCLDJFQUEyRSxRQUFRLGdFQUFnRSxVQUFVLDRCQUE0QixzQ0FBc0MsVUFBVSxPQUFP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QUssR0FBRyxrQkFBa0IseUJBQXlCLG1CQUFtQiwwQ0FBMEMsYUFBYSw0RUFBNEUsdUNBQXVDLCtEQUFDLFdBQVcsZ0VBQUMsQ0FBQyxVQUFVLHNCQUFzQiwwREFBQyx3Q0FBd0MsMkRBQUMsa0JBQWtCLGNBQWMsbUJBQW1CLE1BQU0scUJBQXFCLGVBQWUsK0JBQStCLEVBQUUsNEJBQTRCLGtCQUFrQixNQUFNLHFCQUFxQixHQUFHLGtDQUFrQywrQkFBK0IsNklBQTZJLHlDQUF5Qyw4REFBOEQsUUFBUSxzQkFBc0IsMERBQUMsZ0RBQWdELHVEQUFDLEVBQUUsc0ZBQUMsRUFBRSxpQkFBaUIsOEJBQThCLHVEQUFDLEVBQUUsc0ZBQUMsb0NBQW9DLHVEQUFDLEVBQUUsc0ZBQUMsMENBQTBDLHVEQUFDLEVBQUUsc0ZBQUMseUNBQXlDLHVEQUFDLEVBQUUsc0ZBQUMsMERBQXlGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcHJlY2lzaW9uZmFybXMvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL2NodW5rcy9kaXN0YW5jZU9wZXJhdG9yLmpzIiwid2VicGFjazovL3ByZWNpc2lvbmZhcm1zLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS9jaHVua3Mvc2ltcGxpZnlPcGVyYXRvci5qcyIsIndlYnBhY2s6Ly9wcmVjaXNpb25mYXJtcy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvY29yZS9SZWFjdGl2ZVNldC5qcyIsIndlYnBhY2s6Ly9wcmVjaXNpb25mYXJtcy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvZ2VvbWV0cnkvQ2lyY2xlLmpzIiwid2VicGFjazovL3ByZWNpc2lvbmZhcm1zLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS9nZW9tZXRyeS9vcGVyYXRvcnMvZ3gvb3BlcmF0b3JTaW1wbGlmeS5qcyIsIndlYnBhY2s6Ly9wcmVjaXNpb25mYXJtcy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvZ2VvbWV0cnkvb3BlcmF0b3JzL3N1cHBvcnQvYXBpQ29udmVydGVyLmpzIiwid2VicGFjazovL3ByZWNpc2lvbmZhcm1zLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy9kcmF3L0RyYXdNYW5pcHVsYXRvci5qcyIsIndlYnBhY2s6Ly9wcmVjaXNpb25mYXJtcy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvZHJhdy9EcmF3T3BlcmF0aW9uLmpzIiwid2VicGFjazovL3ByZWNpc2lvbmZhcm1zLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy9kcmF3L0RyYXdpbmdNb2RlLmpzIiwid2VicGFjazovL3ByZWNpc2lvbmZhcm1zLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy9kcmF3L2RyYXdTdXJmYWNlcy5qcyIsIndlYnBhY2s6Ly9wcmVjaXNpb25mYXJtcy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvZHJhdy9zdXBwb3J0L2NyZWF0ZVV0aWxzLmpzIiwid2VicGFjazovL3ByZWNpc2lvbmZhcm1zLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy9kcmF3L3N1cHBvcnQvc3VyZmFjZUNvb3JkaW5hdGVTeXN0ZW1zLmpzIiwid2VicGFjazovL3ByZWNpc2lvbmZhcm1zLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy9pbnRlcmFjdGl2ZS9za2V0Y2gvY29uc3RyYWludFV0aWxzLmpzIiwid2VicGFjazovL3ByZWNpc2lvbmZhcm1zLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy9pbnRlcmFjdGl2ZS9zbmFwcGluZy9TbmFwcGluZ09wZXJhdGlvbi5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4zMy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e2MgYXMgZX1mcm9tXCIuL0dlb21ldHJ5LmpzXCI7aW1wb3J0e0QgYXMgcn1mcm9tXCIuL0Rpc3RhbmNlMkRDYWxjdWxhdG9yLUNYaEJQLThJLmpzXCI7aW1wb3J0e2NvbnZlcnRGcm9tU3BhdGlhbFJlZmVyZW5jZVVuaXQgYXMgdH1mcm9tXCIuLi9jb3JlL3VuaXRVdGlscy5qc1wiO2ltcG9ydHtmcm9tR2VvbWV0cnkgYXMgdSxnZXRTcGF0aWFsUmVmZXJlbmNlIGFzIG99ZnJvbVwiLi4vZ2VvbWV0cnkvb3BlcmF0b3JzL3N1cHBvcnQvYXBpQ29udmVydGVyLmpzXCI7Y2xhc3Mgc3tnZXRPcGVyYXRvclR5cGUoKXtyZXR1cm4gMTAxMDB9c3VwcG9ydHNDdXJ2ZXMoKXtyZXR1cm4hMH1hY2NlbGVyYXRlR2VvbWV0cnkoZSxyLHQpe3JldHVybiExfWNhbkFjY2VsZXJhdGVHZW9tZXRyeShlKXtyZXR1cm4hMX1leGVjdXRlKGUscix0KXtyZXR1cm4gdGhpcy5leGVjdXRlRXgoZSxyLHQsbnVsbCxudWxsLE51bWJlci5OYU4pfWV4ZWN1dGVFeCh0LHUsbyxzLG4sYyl7aWYodC5pc0VtcHR5KCl8fHUuaXNFbXB0eSgpKXJldHVybiBOdW1iZXIuTmFOO2UodCksZSh1KTtjb25zdCBhPXQsaT11O051bWJlci5pc05hTihjKSYmKGM9TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZKTtjb25zdCBtPW5ldyByKGMsbykuY2FsY3VsYXRlKGEsaSxzLG4pO3JldHVybiBOdW1iZXIuaXNGaW5pdGUobSk/bTpOdW1iZXIuTmFOfX1jb25zdCBuPW5ldyBzO2Z1bmN0aW9uIGMoZSxyLHM9e30pe2NvbnN0e3VuaXQ6Y309cztsZXQgYT1uLmV4ZWN1dGUodShlKSx1KHIpLG51bGwpO2lmKGEmJmMpe2NvbnN0IHI9byhlKTthPXQoYSxyLGMpfXJldHVybiBhfWNvbnN0IGE9bi5zdXBwb3J0c0N1cnZlcygpLGk9T2JqZWN0LmZyZWV6ZShPYmplY3QuZGVmaW5lUHJvcGVydHkoe19fcHJvdG9fXzpudWxsLGV4ZWN1dGU6YyxzdXBwb3J0c0N1cnZlczphfSxTeW1ib2wudG9TdHJpbmdUYWcse3ZhbHVlOlwiTW9kdWxlXCJ9KSk7ZXhwb3J0e2kgYXMgZCxjIGFzIGUsYSBhcyBzfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjMzL2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7c3VwcG9ydHNDdXJ2ZXMgYXMgZSxleGVjdXRlIGFzIHIsZXhlY3V0ZU1hbnkgYXMgdCxpc1NpbXBsZUFzRmVhdHVyZSBhcyBvfWZyb21cIi4uL2dlb21ldHJ5L29wZXJhdG9ycy9neC9vcGVyYXRvclNpbXBsaWZ5LmpzXCI7aW1wb3J0e2dldFNwYXRpYWxSZWZlcmVuY2UgYXMgcyx0b0dlb21ldHJ5IGFzIGEsZnJvbVNwYXRpYWxSZWZlcmVuY2UgYXMgcCxmcm9tR2VvbWV0cnkgYXMgbn1mcm9tXCIuLi9nZW9tZXRyeS9vcGVyYXRvcnMvc3VwcG9ydC9hcGlDb252ZXJ0ZXIuanNcIjtmdW5jdGlvbiB1KGUpe2NvbnN0IHQ9cyhlKTtyZXR1cm4gYShyKG4oZSkscCh0KSwhMSksdCl9ZnVuY3Rpb24gaShlKXtjb25zdCByPWUubWFwKG4pLG89cyhlKTtyZXR1cm4gdChyLHAobyksITEpLm1hcCgoZT0+YShlLG8pKSl9ZnVuY3Rpb24gYyhlKXtyZXR1cm4gbyhuKGUpLHAocyhlKSksITEpfWNvbnN0IG09ZSgpLGY9T2JqZWN0LmZyZWV6ZShPYmplY3QuZGVmaW5lUHJvcGVydHkoe19fcHJvdG9fXzpudWxsLGV4ZWN1dGU6dSxleGVjdXRlTWFueTppLGlzU2ltcGxlOmMsc3VwcG9ydHNDdXJ2ZXM6bX0sU3ltYm9sLnRvU3RyaW5nVGFnLHt2YWx1ZTpcIk1vZHVsZVwifSkpO2V4cG9ydHtpIGFzIGEsbSBhcyBiLHUgYXMgZSxjIGFzIGksZiBhcyBzfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjMzL2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7dHJhY2tBY2Nlc3MgYXMgZX1mcm9tXCIuL2FjY2Vzc29yU3VwcG9ydC90cmFja2luZy5qc1wiO2ltcG9ydHtTaW1wbGVPYnNlcnZhYmxlIGFzIHN9ZnJvbVwiLi9hY2Nlc3NvclN1cHBvcnQvdHJhY2tpbmcvU2ltcGxlT2JzZXJ2YWJsZS5qc1wiO2NsYXNzIHR7Y29uc3RydWN0b3IoZSl7dGhpcy5fb2JzZXJ2YWJsZT1uZXcgcyx0aGlzLl9zZXQ9bmV3IFNldChlKX1nZXQgc2l6ZSgpe3JldHVybiBlKHRoaXMuX29ic2VydmFibGUpLHRoaXMuX3NldC5zaXplfWFkZChlKXtjb25zdCBzPXRoaXMuX3NldC5zaXplO3JldHVybiB0aGlzLl9zZXQuYWRkKGUpLHRoaXMuX3NldC5zaXplIT09cyYmdGhpcy5fb2JzZXJ2YWJsZS5ub3RpZnkoKSx0aGlzfWNsZWFyKCl7dGhpcy5fc2V0LnNpemU+MCYmKHRoaXMuX3NldC5jbGVhcigpLHRoaXMuX29ic2VydmFibGUubm90aWZ5KCkpfWRlbGV0ZShlKXtjb25zdCBzPXRoaXMuX3NldC5kZWxldGUoZSk7cmV0dXJuIHMmJnRoaXMuX29ic2VydmFibGUubm90aWZ5KCksc31lbnRyaWVzKCl7cmV0dXJuIGUodGhpcy5fb2JzZXJ2YWJsZSksdGhpcy5fc2V0LmVudHJpZXMoKX1mb3JFYWNoKHMsdCl7ZSh0aGlzLl9vYnNlcnZhYmxlKSx0aGlzLl9zZXQuZm9yRWFjaCgoKGUscik9PnMuY2FsbCh0LGUscix0aGlzKSksdCl9aGFzKHMpe3JldHVybiBlKHRoaXMuX29ic2VydmFibGUpLHRoaXMuX3NldC5oYXMocyl9a2V5cygpe3JldHVybiBlKHRoaXMuX29ic2VydmFibGUpLHRoaXMuX3NldC5rZXlzKCl9dmFsdWVzKCl7cmV0dXJuIGUodGhpcy5fb2JzZXJ2YWJsZSksdGhpcy5fc2V0LnZhbHVlcygpfVtTeW1ib2wuaXRlcmF0b3JdKCl7cmV0dXJuIGUodGhpcy5fb2JzZXJ2YWJsZSksdGhpcy5fc2V0W1N5bWJvbC5pdGVyYXRvcl0oKX1bU3ltYm9sLmRpc3Bvc2VdKCl7dGhpcy5fb2JzZXJ2YWJsZS5kZXN0cm95KCl9Z2V0W1N5bWJvbC50b1N0cmluZ1RhZ10oKXtyZXR1cm4gdGhpcy5fc2V0W1N5bWJvbC50b1N0cmluZ1RhZ119fWV4cG9ydHt0IGFzIGRlZmF1bHR9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMzMvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtfIGFzIGV9ZnJvbVwiLi4vY2h1bmtzL3RzbGliLmVzNi5qc1wiO2ltcG9ydHtjb252ZXJ0VW5pdCBhcyByLGlzUHJvamVjdGVkV0tUIGFzIHQsZ2V0TWV0ZXJzUGVyVW5pdCBhcyBzLGxlbmd0aFRvRGVncmVlcyBhcyBpfWZyb21cIi4uL2NvcmUvdW5pdFV0aWxzLmpzXCI7aW1wb3J0e3Byb3BlcnR5IGFzIG99ZnJvbVwiLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9wcm9wZXJ0eS5qc1wiO2ltcG9ydFwiLi4vY29yZS9oYXMuanNcIjtpbXBvcnRcIi4uL2NvcmUvTG9nZ2VyLmpzXCI7aW1wb3J0XCIuLi9jb3JlL1JhbmRvbUxDRy5qc1wiO2ltcG9ydHtzdWJjbGFzcyBhcyBjfWZyb21cIi4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvc3ViY2xhc3MuanNcIjtpbXBvcnR7Z2V0UmVmZXJlbmNlRWxsaXBzb2lkIGFzIGF9ZnJvbVwiLi9lbGxpcHNvaWRVdGlscy5qc1wiO2ltcG9ydCBuIGZyb21cIi4vUG9pbnQuanNcIjtpbXBvcnQgcCBmcm9tXCIuL1BvbHlnb24uanNcIjtpbXBvcnQgbCBmcm9tXCIuL1NwYXRpYWxSZWZlcmVuY2UuanNcIjtpbXBvcnR7ZGlyZWN0R2VvZGV0aWNTb2x2ZXIgYXMgZH1mcm9tXCIuL3N1cHBvcnQvZ2VvZGVzaWNVdGlscy5qc1wiO2ltcG9ydHt3ZWJNZXJjYXRvclRvR2VvZ3JhcGhpYyBhcyBoLGdlb2dyYXBoaWNUb1dlYk1lcmNhdG9yIGFzIHV9ZnJvbVwiLi9zdXBwb3J0L3dlYk1lcmNhdG9yVXRpbHMuanNcIjtpbXBvcnQgbSBmcm9tXCIuL3N1cHBvcnQvV0tJRFVuaXRDb252ZXJzaW9uLmpzXCI7dmFyIGY7bGV0IGc9Zj1jbGFzcyBleHRlbmRzIHB7Y29uc3RydWN0b3IoZSl7c3VwZXIoZSksdGhpcy5jZW50ZXI9bnVsbCx0aGlzLmdlb2Rlc2ljPSExLHRoaXMubnVtYmVyT2ZQb2ludHM9NjAsdGhpcy5yYWRpdXM9MWUzLHRoaXMucmFkaXVzVW5pdD1cIm1ldGVyc1wifWluaXRpYWxpemUoKXtjb25zdCBlPXRoaXMuY2VudGVyLG89dGhpcy5udW1iZXJPZlBvaW50cztpZih0aGlzLmhhc1o9ZT8uaGFzWj8/ITEsMCE9PXRoaXMucmluZ3MubGVuZ3RofHwhZSlyZXR1cm47Y29uc3QgYz1yKHRoaXMucmFkaXVzLHRoaXMucmFkaXVzVW5pdCxcIm1ldGVyc1wiKSxuPWUuc3BhdGlhbFJlZmVyZW5jZTtsZXQgcCxsPVwiZ2VvZ3JhcGhpY1wiO2lmKG4uaXNXZWJNZXJjYXRvcj9sPVwid2ViTWVyY2F0b3JcIjoobnVsbCE9KG4ud2tpZCYmbVtuLndraWRdKXx8KG4ud2t0Mnx8bi53a3QpJiZ0KG4ud2t0Mnx8bi53a3QpKSYmKGw9XCJwcm9qZWN0ZWRcIiksdGhpcy5nZW9kZXNpYyl7bGV0IHI7c3dpdGNoKGwpe2Nhc2VcIndlYk1lcmNhdG9yXCI6cj1oKGUpO2JyZWFrO2Nhc2VcInByb2plY3RlZFwiOmNvbnNvbGUuZXJyb3IoXCJDcmVhdGluZyBhIGdlb2Rlc2ljIGNpcmNsZSByZXF1aXJlcyB0aGUgY2VudGVyIHRvIGJlIHNwZWNpZmllZCBpbiB3ZWIgbWVyY2F0b3Igb3IgZ2VvZ3JhcGhpYyBjb29yZGluYXRlIHN5c3RlbVwiKTticmVhaztjYXNlXCJnZW9ncmFwaGljXCI6cj1lfXA9dGhpcy5fY3JlYXRlR2VvZGVzaWNDaXJjbGUocixjLG8pLFwid2ViTWVyY2F0b3JcIj09PWwmJihwPXUocCkpfWVsc2V7bGV0IHI7XCJ3ZWJNZXJjYXRvclwiPT09bHx8XCJwcm9qZWN0ZWRcIj09PWw/cj1jL3MoZS5zcGF0aWFsUmVmZXJlbmNlKTpcImdlb2dyYXBoaWNcIj09PWwmJihyPWkoYyxcIm1ldGVyc1wiLGEoZS5zcGF0aWFsUmVmZXJlbmNlKS5yYWRpdXMpKSxwPXRoaXMuX2NyZWF0ZVBsYW5hckNpcmNsZShlLHIsbyl9dGhpcy5zcGF0aWFsUmVmZXJlbmNlPXAuc3BhdGlhbFJlZmVyZW5jZSx0aGlzLmFkZFJpbmcocC5yaW5nc1swXSl9Y2xvbmUoKXtjb25zdHtjZW50ZXI6ZSxudW1iZXJPZlBvaW50czpyLHJhZGl1czp0LHJhZGl1c1VuaXQ6cyxnZW9kZXNpYzppfT10aGlzO3JldHVybiBuZXcgZih7Y2VudGVyOmU/LmNsb25lKCksbnVtYmVyT2ZQb2ludHM6cixyYWRpdXM6dCxyYWRpdXNVbml0OnMsZ2VvZGVzaWM6aX0pfV9jcmVhdGVHZW9kZXNpY0NpcmNsZShlLHIsdCl7Y29uc3Qgcz1bXSxpPVtlLngsZS55XTtmb3IobGV0IG89MDtvPDM2MDtvKz0zNjAvdCl7Y29uc3QgdD10aGlzLmhhc1o/WzAsMCxlLno/PzBdOlswLDBdO2QodCxpLG8scixsLldHUzg0KSxzLnB1c2godCl9cmV0dXJuIHMucHVzaChzWzBdKSxuZXcgcCh7cmluZ3M6W3NdfSl9X2NyZWF0ZVBsYW5hckNpcmNsZShlLHIsdCl7Y29uc3Qgcz1bXSxpPTIqTWF0aC5QSS90O2ZvcihsZXQgbz0wO288dDsrK28pe2NvbnN0IHQ9aSpvLGM9W2UueCtNYXRoLmNvcygtdCkqcixlLnkrTWF0aC5zaW4oLXQpKnJdO3RoaXMuaGFzWiYmYy5wdXNoKGUuej8/MCkscy5wdXNoKGMpfXJldHVybiBzLnB1c2goc1swXSksbmV3IHAoe3NwYXRpYWxSZWZlcmVuY2U6ZS5zcGF0aWFsUmVmZXJlbmNlLHJpbmdzOltzXX0pfX07ZShbbyh7dHlwZTpufSldLGcucHJvdG90eXBlLFwiY2VudGVyXCIsdm9pZCAwKSxlKFtvKCldLGcucHJvdG90eXBlLFwiZ2VvZGVzaWNcIix2b2lkIDApLGUoW28oKV0sZy5wcm90b3R5cGUsXCJudW1iZXJPZlBvaW50c1wiLHZvaWQgMCksZShbbygpXSxnLnByb3RvdHlwZSxcInJhZGl1c1wiLHZvaWQgMCksZShbbygpXSxnLnByb3RvdHlwZSxcInJhZGl1c1VuaXRcIix2b2lkIDApLGc9Zj1lKFtjKFwiZXNyaS5nZW9tZXRyeS5DaXJjbGVcIildLGcpO2NvbnN0IGI9ZztleHBvcnR7YiBhcyBkZWZhdWx0fTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjMzL2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7UyBhcyBufWZyb21cIi4uLy4uLy4uL2NodW5rcy9TaW1wbGVHZW9tZXRyeUN1cnNvci5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vY2h1bmtzL0dlb21ldHJ5LmpzXCI7aW1wb3J0XCIuLi8uLi8uLi9jaHVua3MvTXVsdGlQYXRoSW1wbC5qc1wiO2ltcG9ydHtPIGFzIHJ9ZnJvbVwiLi4vLi4vLi4vY2h1bmtzL1Byb2plY3Rpb25UcmFuc2Zvcm1hdGlvbi5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vY2h1bmtzL0VudmVsb3BlLmpzXCI7Y29uc3QgdD1uZXcgcjtmdW5jdGlvbiBlKG4scixlKXtyZXR1cm4gdC5leGVjdXRlKG4scixlLG51bGwpfWZ1bmN0aW9uIG8ocixlLG8pe2NvbnN0IHU9dC5leGVjdXRlTWFueShuZXcgbihyKSxlLG8sbnVsbCk7cmV0dXJuIEFycmF5LmZyb20odSl9ZnVuY3Rpb24gdShuLHIsZSl7cmV0dXJuIHQuaXNTaW1wbGVBc0ZlYXR1cmUobixyLGUsbnVsbCxudWxsKX1mdW5jdGlvbiBzKCl7cmV0dXJuIHQuc3VwcG9ydHNDdXJ2ZXMoKX1leHBvcnR7ZSBhcyBleGVjdXRlLG8gYXMgZXhlY3V0ZU1hbnksdSBhcyBpc1NpbXBsZUFzRmVhdHVyZSxzIGFzIHN1cHBvcnRzQ3VydmVzfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjMzL2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7UCBhcyBlfWZyb21cIi4uLy4uLy4uL2NodW5rcy9Qb2ludDJELmpzXCI7aW1wb3J0XCIuLi8uLi8uLi9jaHVua3MvRW52ZWxvcGUyRC5qc1wiO2ltcG9ydHtHIGFzIHR9ZnJvbVwiLi4vLi4vLi4vY2h1bmtzL0dlb21ldHJ5LmpzXCI7aW1wb3J0e0UgYXMgbixQIGFzIHJ9ZnJvbVwiLi4vLi4vLi4vY2h1bmtzL0VudmVsb3BlLmpzXCI7aW1wb3J0e00gYXMgc31mcm9tXCIuLi8uLi8uLi9jaHVua3MvTXVsdGlQYXRoSW1wbC5qc1wiO2ltcG9ydHtjIGFzIGEsYSBhcyBvfWZyb21cIi4uLy4uLy4uL2NodW5rcy9Qcm9qZWN0aW9uVHJhbnNmb3JtYXRpb24uanNcIjtpbXBvcnQgaSBmcm9tXCIuLi8uLi9FeHRlbnQuanNcIjtpbXBvcnQgdSBmcm9tXCIuLi8uLi9NdWx0aXBvaW50LmpzXCI7aW1wb3J0IGMgZnJvbVwiLi4vLi4vUG9pbnQuanNcIjtpbXBvcnQgbCBmcm9tXCIuLi8uLi9Qb2x5Z29uLmpzXCI7aW1wb3J0IG0gZnJvbVwiLi4vLi4vUG9seWxpbmUuanNcIjtpbXBvcnRcIi4vaW5pdE5vUGVGYWN0b3J5LmpzXCI7aW1wb3J0e2Zyb21HZW9tZXRyeVRvR1hHZW9tZXRyeSBhcyBoLHRvR2VvbWV0cnkgYXMgZn1mcm9tXCIuL2pzb25Db252ZXJ0ZXIuanNcIjtjb25zdCBwPVwiX2d4VmVyc2lvblwiLGc9Mix5PTE7ZnVuY3Rpb24gQyhlKXtyZXR1cm4gQXJyYXkuaXNBcnJheShlKT9lWzBdLnNwYXRpYWxSZWZlcmVuY2U6ZS5zcGF0aWFsUmVmZXJlbmNlfWZ1bmN0aW9uIHgoZSl7c3dpdGNoKGUudHlwZSl7Y2FzZVwicG9pbnRcIjpyZXR1cm4gdyhlKTtjYXNlXCJtdWx0aXBvaW50XCI6cmV0dXJuIFYoZSk7Y2FzZVwicG9seWxpbmVcIjpyZXR1cm4gdihlKTtjYXNlXCJwb2x5Z29uXCI6cmV0dXJuIFAoZSk7Y2FzZVwiZXh0ZW50XCI6cmV0dXJuIE0oZSk7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoYFVuc3VwcG9ydGVkIGdlb21ldHJ5IHR5cGU6ICR7ZS50eXBlfWApfX1mdW5jdGlvbiBNKGUpe2lmKCFlLmdldENhY2hlVmFsdWUocCkpe2NvbnN0IHQ9bmV3IG47dC5zZXRDb29yZHMoZS54bWluLGUueW1pbixlLnhtYXgsZS55bWF4KSxlLmhhc00mJnQuc2V0SW50ZXJ2YWwoZywwLGUubW1pbixlLm1tYXgpLGUuaGFzWiYmdC5zZXRJbnRlcnZhbCh5LDAsZS56bWluLGUuem1heCksZS5zZXRDYWNoZVZhbHVlKHAsdCl9cmV0dXJuIGUuZ2V0Q2FjaGVWYWx1ZShwKX1mdW5jdGlvbiBWKGUpe2lmKCFlLmdldENhY2hlVmFsdWUocCkpe2NvbnN0IHQ9bmV3IHMsbj1uZXcgcixhPWUucG9pbnRzLG89ZS5oYXNNLGk9ZS5oYXNaLHU9aT8zOjI7Zm9yKGxldCBlPTAscj1hLmxlbmd0aDtlPHI7ZSsrKXtjb25zdCByPWFbZV07bi5zZXRYWUNvb3JkcyhyWzBdLHJbMV0pLGkmJm4uc2V0WihyWzJdPz8wKSxvJiZuLnNldE0oclt1XT8/TmFOKSx0LmFkZChuKX1lLnNldENhY2hlVmFsdWUocCx0KX1yZXR1cm4gZS5nZXRDYWNoZVZhbHVlKHApfWZ1bmN0aW9uIHcoZSl7aWYoIWUuZ2V0Q2FjaGVWYWx1ZShwKSl7Y29uc3QgdD1uZXcgcjt0LnNldFhZQ29vcmRzKGUueCxlLnkpLGUuaGFzTSYmdC5zZXRNKGUubSksZS5oYXNaJiZ0LnNldFooZS56KSxlLnNldENhY2hlVmFsdWUocCx0KX1yZXR1cm4gZS5nZXRDYWNoZVZhbHVlKHApfWZ1bmN0aW9uIFAoZSl7aWYoIWUuZ2V0Q2FjaGVWYWx1ZShwKSl7Y29uc3R7Y3VydmVSaW5nczp0LGhhc006bixoYXNaOnIscmluZ3M6c309ZSxhPWgoe2N1cnZlUmluZ3M6dCxoYXNNOm4saGFzWjpyLHJpbmdzOnN9KTtlLnNldENhY2hlVmFsdWUocCxhKX1yZXR1cm4gZS5nZXRDYWNoZVZhbHVlKHApfWZ1bmN0aW9uIHYoZSl7aWYoIWUuZ2V0Q2FjaGVWYWx1ZShwKSl7Y29uc3R7Y3VydmVQYXRoczp0LGhhc006bixoYXNaOnIscGF0aHM6c309ZSxhPWgoe2N1cnZlUGF0aHM6dCxoYXNNOm4saGFzWjpyLHBhdGhzOnN9KTtlLnNldENhY2hlVmFsdWUocCxhKX1yZXR1cm4gZS5nZXRDYWNoZVZhbHVlKHApfWZ1bmN0aW9uIGooZSl7aWYoZS53a2lkKXJldHVybiBhKGUud2tpZCk7Y29uc3QgdD1lLndrdDJ8fGUud2t0O3JldHVybiB0P28odCk6bnVsbH1mdW5jdGlvbiBaKGUsbil7aWYoZSlzd2l0Y2goZS5nZXRHZW9tZXRyeVR5cGUoKSl7Y2FzZSB0LmVudW1Qb2ludDpyZXR1cm4gUihlLG4pO2Nhc2UgdC5lbnVtRW52ZWxvcGU6cmV0dXJuIEUoZSxuKTtjYXNlIHQuZW51bU11bHRpUG9pbnQ6cmV0dXJuIGsoZSxuKTtjYXNlIHQuZW51bVBvbHlsaW5lOnJldHVybiB6KGUsbik7Y2FzZSB0LmVudW1Qb2x5Z29uOnJldHVybiBkKGUsbil9cmV0dXJuIG51bGx9ZnVuY3Rpb24gRShlLHQpe2lmKGUuaXNFbXB0eSgpKXJldHVybiBudWxsO2NvbnN0IG49bmV3IGkoe3htaW46ZS5nZXRYTWluKCkseW1pbjplLmdldFlNaW4oKSx4bWF4OmUuZ2V0WE1heCgpLHltYXg6ZS5nZXRZTWF4KCksc3BhdGlhbFJlZmVyZW5jZTp0fSkscj1lLmdldERlc2NyaXB0aW9uKCk7aWYoci5oYXNNKCkpe2NvbnN0IHQ9ZS5xdWVyeUludGVydmFsKGcsMCk7bi5tbWluPXQudm1pbixuLm1tYXg9dC52bWF4fWlmKHIuaGFzWigpKXtjb25zdCB0PWUucXVlcnlJbnRlcnZhbCh5LDApO24uem1pbj10LnZtaW4sbi56bWF4PXQudm1heH1yZXR1cm4gbi5zZXRDYWNoZVZhbHVlKHAsZSksbn1mdW5jdGlvbiBrKGUsdCl7aWYoZS5pc0VtcHR5KCkpcmV0dXJuIG51bGw7Y29uc3Qgbj1lLmdldERlc2NyaXB0aW9uKCkscz1uLmhhc00oKSxhPW4uaGFzWigpLG89W10saT1uZXcgcjtmb3IobGV0IHI9MCx1PWUuZ2V0UG9pbnRDb3VudCgpO3I8dTtyKyspe2UuZ2V0UG9pbnRCeVZhbChyLGkpO2NvbnN0IHQ9W2kuZ2V0WCgpLGkuZ2V0WSgpXTthJiZ0LnB1c2goaS5nZXRaKCkpLHMmJnQucHVzaChpLmdldE0oKSksby5wdXNoKHQpfWNvbnN0IGM9bmV3IHUoe2hhc006cyxoYXNaOmEscG9pbnRzOm8sc3BhdGlhbFJlZmVyZW5jZTp0fSk7cmV0dXJuIGMuc2V0Q2FjaGVWYWx1ZShwLGUpLGN9ZnVuY3Rpb24gUih0LG4pe2lmKHQgaW5zdGFuY2VvZiBlKXJldHVybiBuZXcgYyh7eDp0LngseTp0Lnksc3BhdGlhbFJlZmVyZW5jZTpufSk7aWYodC5pc0VtcHR5KCkpcmV0dXJuIG51bGw7Y29uc3Qgcj1uZXcgYyh7eDp0LmdldFgoKSx5OnQuZ2V0WSgpLHNwYXRpYWxSZWZlcmVuY2U6bn0pLHM9dC5nZXREZXNjcmlwdGlvbigpO3JldHVybiBzLmhhc00oKSYmKHIubT10LmdldE0oKSkscy5oYXNaKCkmJihyLno9dC5nZXRaKCkpLHIuc2V0Q2FjaGVWYWx1ZShwLHQpLHJ9ZnVuY3Rpb24gZChlLHQpe2lmKGUuaXNFbXB0eSgpKXJldHVybiBudWxsO2NvbnN0IG49bC5mcm9tSlNPTih7c3BhdGlhbFJlZmVyZW5jZTp0LC4uLmYoZSxudWxsKX0pO3JldHVybiBuLnNldENhY2hlVmFsdWUocCxlKSxufWZ1bmN0aW9uIHooZSx0KXtpZihlLmlzRW1wdHkoKSlyZXR1cm4gbnVsbDtjb25zdCBuPW0uZnJvbUpTT04oe3NwYXRpYWxSZWZlcmVuY2U6dCwuLi5mKGUsbnVsbCl9KTtyZXR1cm4gbi5zZXRDYWNoZVZhbHVlKHAsZSksbn1leHBvcnR7TSBhcyBmcm9tRXh0ZW50LHggYXMgZnJvbUdlb21ldHJ5LFYgYXMgZnJvbU11bHRpcG9pbnQsdyBhcyBmcm9tUG9pbnQsUCBhcyBmcm9tUG9seWdvbix2IGFzIGZyb21Qb2x5bGluZSxqIGFzIGZyb21TcGF0aWFsUmVmZXJlbmNlLEMgYXMgZ2V0U3BhdGlhbFJlZmVyZW5jZSxFIGFzIHRvRXh0ZW50LFogYXMgdG9HZW9tZXRyeSxrIGFzIHRvTXVsdGlwb2ludCxSIGFzIHRvUG9pbnQsZCBhcyB0b1BvbHlnb24seiBhcyB0b1BvbHlsaW5lfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjMzL2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnQgZSBmcm9tXCIuLi8uLi9jb3JlL0V2ZW50ZWQuanNcIjtjbGFzcyB0e2NvbnN0cnVjdG9yKHtjb25zdW1lc0NsaWNrczp0LGdyYWJiYWJsZUZvckV2ZW50OnN9KXt0aGlzLmV2ZW50cz1uZXcgZSx0aGlzLmludGVyYWN0aXZlPSEwLHRoaXMuc2VsZWN0YWJsZT0hMSx0aGlzLmN1cnNvcj1udWxsLHRoaXMuZ3JhYmJhYmxlPSEwLHRoaXMuY29uc3VtZXNDbGlja3M9dCx0aGlzLmdyYWJiYWJsZUZvckV2ZW50PXN9ZGVzdHJveSgpe31pbnRlcnNlY3Rpb25EaXN0YW5jZShlLHQpe3JldHVybiAwfWF0dGFjaCgpe31kZXRhY2goKXt9b25FbGV2YXRpb25DaGFuZ2UoKXt9b25WaWV3Q2hhbmdlKCl7fX1leHBvcnR7dCBhcyBEcmF3TWFuaXB1bGF0b3J9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMzMvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtfIGFzIHR9ZnJvbVwiLi4vLi4vY2h1bmtzL3RzbGliLmVzNi5qc1wiO2ltcG9ydCBlIGZyb21cIi4uLy4uL2NvcmUvQWNjZXNzb3IuanNcIjtpbXBvcnQgaSBmcm9tXCIuLi8uLi9jb3JlL0V2ZW50ZWQuanNcIjtpbXBvcnR7Y2xvbmUgYXMgbn1mcm9tXCIuLi8uLi9jb3JlL2xhbmcuanNcIjtpbXBvcnR7ZXF1YWxzTWF5YmUgYXMgbyxkZXN0cm95TWF5YmUgYXMgcn1mcm9tXCIuLi8uLi9jb3JlL21heWJlLmpzXCI7aW1wb3J0e21lbW9pemUgYXMgc31mcm9tXCIuLi8uLi9jb3JlL21lbW9pemUuanNcIjtpbXBvcnR7aWdub3JlQWJvcnRFcnJvcnMgYXMgYX1mcm9tXCIuLi8uLi9jb3JlL3Byb21pc2VVdGlscy5qc1wiO2ltcG9ydCBwIGZyb21cIi4uLy4uL2NvcmUvUmVhY3RpdmVTZXQuanNcIjtpbXBvcnR7d2F0Y2ggYXMgYyxzeW5jQW5kSW5pdGlhbCBhcyBsfWZyb21cIi4uLy4uL2NvcmUvcmVhY3RpdmVVdGlscy5qc1wiO2ltcG9ydHtjcmVhdGVTY3JlZW5Qb2ludCBhcyBkfWZyb21cIi4uLy4uL2NvcmUvc2NyZWVuVXRpbHMuanNcIjtpbXBvcnR7cHJvcGVydHkgYXMgaH1mcm9tXCIuLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3Byb3BlcnR5LmpzXCI7aW1wb3J0XCIuLi8uLi9jb3JlL2hhcy5qc1wiO2ltcG9ydFwiLi4vLi4vY29yZS9Mb2dnZXIuanNcIjtpbXBvcnR7c3ViY2xhc3MgYXMgdX1mcm9tXCIuLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3N1YmNsYXNzLmpzXCI7aW1wb3J0e2RpZmYgYXMgbX1mcm9tXCIuLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kaWZmVXRpbHMuanNcIjtpbXBvcnR7VXBkYXRpbmdIYW5kbGVzIGFzIGd9ZnJvbVwiLi4vLi4vY29yZS9zdXBwb3J0L1VwZGF0aW5nSGFuZGxlcy5qc1wiO2ltcG9ydHtwb2ludEVxdWFscyBhcyB5LHBvaW50TmVhciBhcyBffWZyb21cIi4uLy4uL2xheWVycy9ncmFwaGljcy9kZWh5ZHJhdGVkRmVhdHVyZUNvbXBhcmlzb24uanNcIjtpbXBvcnR7Z2V0RWZmZWN0aXZlRWxldmF0aW9uSW5mbyBhcyB2fWZyb21cIi4uLy4uL3N1cHBvcnQvZWxldmF0aW9uSW5mb1V0aWxzLmpzXCI7aW1wb3J0e1ZpZXdpbmdNb2RlIGFzIGZ9ZnJvbVwiLi4vVmlld2luZ01vZGUuanNcIjtpbXBvcnR7ZGVmYXVsdERyYXdpbmdNb2RlIGFzIHh9ZnJvbVwiLi9EcmF3aW5nTW9kZS5qc1wiO2ltcG9ydHtEcmF3TWFuaXB1bGF0b3IgYXMgQ31mcm9tXCIuL0RyYXdNYW5pcHVsYXRvci5qc1wiO2ltcG9ydHtjcmVhdGVDb29yZGluYXRlSGVscGVyIGFzIGJ9ZnJvbVwiLi4vaW50ZXJhY3RpdmUvY29vcmRpbmF0ZUhlbHBlci5qc1wiO2ltcG9ydHtjcmVhdGVNYW5pcHVsYXRvckRyYWdFdmVudFBpcGVsaW5lIGFzIFQsc2NlbmVTbmFwcGluZ0F0TG9jYXRpb24gYXMgU31mcm9tXCIuLi9pbnRlcmFjdGl2ZS9kcmFnRXZlbnRQaXBlbGluZS5qc1wiO2ltcG9ydHtFZGl0R2VvbWV0cnkgYXMgUCxDb21wb25lbnQgYXMgVn1mcm9tXCIuLi9pbnRlcmFjdGl2ZS9lZGl0R2VvbWV0cnkvRWRpdEdlb21ldHJ5LmpzXCI7aW1wb3J0e0VkaXRHZW9tZXRyeU9wZXJhdGlvbnMgYXMgd31mcm9tXCIuLi9pbnRlcmFjdGl2ZS9lZGl0R2VvbWV0cnkvRWRpdEdlb21ldHJ5T3BlcmF0aW9ucy5qc1wiO2ltcG9ydHtpc1BvaW50IGFzIE99ZnJvbVwiLi4vaW50ZXJhY3RpdmUvc2tldGNoL2NvbnN0cmFpbnRzLmpzXCI7aW1wb3J0e2dldFBvaW50Q29uc3RyYWludCBhcyBNLGdldFBvbHlsaW5lT3JQb2x5Z29uQ29uc3RyYWludCBhcyBELHBvaW50VG9Db25zdHJhaW50U3BhY2UgYXMgRSxjb25zdHJhaW50U3BhY2VUb1BvaW50IGFzIEl9ZnJvbVwiLi4vaW50ZXJhY3RpdmUvc2tldGNoL2NvbnN0cmFpbnRVdGlscy5qc1wiO2ltcG9ydCBIIGZyb21cIi4uL2ludGVyYWN0aXZlL3NrZXRjaC9Ta2V0Y2hMYWJlbE9wdGlvbnMuanNcIjtpbXBvcnR7U25hcHBpbmdDb250ZXh0IGFzIGp9ZnJvbVwiLi4vaW50ZXJhY3RpdmUvc25hcHBpbmcvU25hcHBpbmdDb250ZXh0LmpzXCI7aW1wb3J0e2NyZWF0ZVNuYXBEcmFnRXZlbnRQaXBlbGluZVN0ZXAgYXMgR31mcm9tXCIuLi9pbnRlcmFjdGl2ZS9zbmFwcGluZy9TbmFwcGluZ0RyYWdQaXBlbGluZVN0ZXAuanNcIjtpbXBvcnR7U25hcHBpbmdPcGVyYXRpb24gYXMga31mcm9tXCIuLi9pbnRlcmFjdGl2ZS9zbmFwcGluZy9TbmFwcGluZ09wZXJhdGlvbi5qc1wiO2ltcG9ydHtzZXR1cFNuYXBwaW5nVG9nZ2xlSGFuZGxlcyBhcyBafWZyb21cIi4uL2ludGVyYWN0aXZlL3NuYXBwaW5nL3NuYXBwaW5nVXRpbHMuanNcIjtjb25zdCBMPVwiY3Jvc3NoYWlyXCIsVT1cInByb2dyZXNzXCIsQT1TeW1ib2woKSx6PVN5bWJvbCgpO2xldCBGPWNsYXNzIGV4dGVuZHMoaS5FdmVudGVkTWl4aW4oZSkpe2NvbnN0cnVjdG9yKHQpe3N1cGVyKHQpLHRoaXMuX2NyZWF0ZU9wZXJhdGlvbkNvbXBsZXRlZD0hMSx0aGlzLl9oaWRlRGVmYXVsdEN1cnNvcj0hMSx0aGlzLl9wb2ludGVyRG93blN0YXRlcz1uZXcgcCx0aGlzLl9zdGFnZWRTY3JlZW5Qb2ludD1udWxsLHRoaXMuX3N0YWdlZFBvaW50ZXJUeXBlPW51bGwsdGhpcy5fdXBkYXRpbmdIYW5kbGVzPW5ldyBnLHRoaXMuX3N0YWdlZFBvaW50ZXJJZD1udWxsLHRoaXMuY29uc3RyYWludHNFbmFibGVkPSExLHRoaXMuY29uc3RyYWludHM9dm9pZCAwLHRoaXMuX2dldFBvaW50Q29uc3RyYWludD1zKE0pLHRoaXMuX2dldFBvbHlsaW5lT3JQb2x5Z29uQ29uc3RyYWludD1zKEQpLHRoaXMuY29uc3RyYWludFo9bnVsbCx0aGlzLmRlZmF1bHRaPW51bGwsdGhpcy5pc0RyYXBlZD0hMCx0aGlzLmxhYmVsT3B0aW9ucz1uZXcgSCx0aGlzLmN1cnNvcj1udWxsLHRoaXMubG9hZGluZz0hMSx0aGlzLnNuYXBUb1NjZW5lRW5hYmxlZD1udWxsLHRoaXMuZmlyc3RWZXJ0ZXg9bnVsbCx0aGlzLmxhc3RWZXJ0ZXg9bnVsbCx0aGlzLnNlY29uZFRvTGFzdFZlcnRleD1udWxsLG51bGw9PXQuZWxldmF0aW9uSW5mbyYmKHRoaXMuZWxldmF0aW9uSW5mbz12KCEhdC5oYXNaKSl9aW5pdGlhbGl6ZSgpe2NvbnN0e2dlb21ldHJ5VHlwZTp0LHZpZXc6ZX09dGhpcyxpPWUuc3BhdGlhbFJlZmVyZW5jZSxuPVwidmlld2luZ01vZGVcImluIGUuc3RhdGU/ZS5zdGF0ZS52aWV3aW5nTW9kZTpmLkxvY2FsLHI9XCJzZWdtZW50XCI9PT10fHxcIm11bHRpcG9pbnRcIj09PXQ/XCJwb2x5bGluZVwiOnQ7dGhpcy5jb29yZGluYXRlSGVscGVyPWIodGhpcy5oYXNaLHRoaXMuaGFzTSxpKSx0aGlzLl9lZGl0R2VvbWV0cnlPcGVyYXRpb25zPW5ldyB3KG5ldyBQKHIsdGhpcy5jb29yZGluYXRlSGVscGVyKSxuKSx0aGlzLl9zbmFwcGluZ09wZXJhdGlvbj1uZXcgayh7dmlldzplfSksdGhpcy5hZGRIYW5kbGVzKFtjKCgoKT0+KHtzdGFnZWRQb2ludDp0aGlzLl9zbmFwcGluZ09wZXJhdGlvbi5zdGFnZWRQb2ludCxjb25zdHJhaW50OnRoaXMuX2NvbnN0cmFpbnR9KSksKCh7c3RhZ2VkUG9pbnQ6dCxjb25zdHJhaW50OmV9LGkpPT57Y29uc3R7c25hcHBpbmdPcHRpb25zOm59PXRoaXM7biYmKG4uZm9yY2VEaXNhYmxlZD1udWxsIT1lJiZPKGUpKTtpZihudWxsIT1pJiZ0PT09aS5zdGFnZWRQb2ludCYmZSE9PWkuY29uc3RyYWludClyZXR1cm4gdGhpcy5fb25LZXlib2FyZEJhc2VkQ2hhbmdlKCk7dGhpcy5fcHJvY2Vzc0N1cnNvcih0Pz90aGlzLl9zY3JlZW5Ub01hcCh0aGlzLl9zdGFnZWRTY3JlZW5Qb2ludCkpfSkse2VxdWFsczoodCxlKT0+dC5zdGFnZWRQb2ludD09PWUuc3RhZ2VkUG9pbnQmJm8odC5jb25zdHJhaW50LGUuY29uc3RyYWludCl9KSxjKCgoKT0+dGhpcy52aWV3LnZpZXdwb2ludCksKCh0LGUpPT57dCYmZSYmbSh0LGUpJiZ0aGlzLl9vbktleWJvYXJkQmFzZWRDaGFuZ2UoKX0pKV0pLHRoaXMuX2FjdGl2ZUNvbXBvbmVudD1uZXcgVihpLG4pLHRoaXMuX2VkaXRHZW9tZXRyeU9wZXJhdGlvbnMuZGF0YS5jb21wb25lbnRzLnB1c2godGhpcy5fYWN0aXZlQ29tcG9uZW50KTtjb25zdCBzPXRoaXMuc2VnbWVudExhYmVscztudWxsIT1zJiYocy5jb250ZXh0PXt2aWV3OmUsZWRpdEdlb21ldHJ5T3BlcmF0aW9uczp0aGlzLl9lZGl0R2VvbWV0cnlPcGVyYXRpb25zLGVsZXZhdGlvbkluZm86dGhpcy5lbGV2YXRpb25JbmZvLGxhYmVsT3B0aW9uczp0aGlzLmxhYmVsT3B0aW9ucyxhdXRvbWF0aWNMZW5ndGhNZWFzdXJlbWVudFV0aWxzOnRoaXMuYXV0b21hdGljTGVuZ3RoTWVhc3VyZW1lbnRVdGlsc30sdGhpcy5hZGRIYW5kbGVzKGMoKCgpPT50aGlzLmxhYmVsT3B0aW9ucy5lbmFibGVkKSwodD0+e3MudmlzaWJsZT10fSksbCkpKSx0aGlzLmFkZEhhbmRsZXModGhpcy5fZWRpdEdlb21ldHJ5T3BlcmF0aW9ucy5vbihbXCJ2ZXJ0ZXgtYWRkXCIsXCJ2ZXJ0ZXgtdXBkYXRlXCIsXCJ2ZXJ0ZXgtcmVtb3ZlXCJdLCh0PT57Y29uc3QgZT10LnZlcnRpY2VzLm1hcCgodD0+KHtjb21wb25lbnRJbmRleDowLHZlcnRleEluZGV4OnQuaW5kZXgsY29vcmRpbmF0ZXM6dGhpcy5jb29yZGluYXRlSGVscGVyLnZlY3RvclRvQXJyYXkodC5wb3MpfSkpKSxpPWUubWFwKCh0PT50LmNvb3JkaW5hdGVzKSksbj10aGlzLmNvb3JkaW5hdGVIZWxwZXIudmVjdG9yVG9EZWh5ZHJhdGVkUG9pbnQodGhpcy5fYWN0aXZlQ29tcG9uZW50LmdldEZpcnN0VmVydGV4KCk/LnBvcyk/P251bGw7eShuLHRoaXMuZmlyc3RWZXJ0ZXgpfHwodGhpcy5maXJzdFZlcnRleD1uKTtjb25zdCBvPXRoaXMuY29vcmRpbmF0ZUhlbHBlci52ZWN0b3JUb0RlaHlkcmF0ZWRQb2ludCh0aGlzLl9hY3RpdmVDb21wb25lbnQuZ2V0TGFzdFZlcnRleCgpPy5wb3MpPz9udWxsO3kobyx0aGlzLmxhc3RWZXJ0ZXgpfHwodGhpcy5sYXN0VmVydGV4PW8pO2NvbnN0IHI9dGhpcy5jb29yZGluYXRlSGVscGVyLnZlY3RvclRvRGVoeWRyYXRlZFBvaW50KHRoaXMuX2FjdGl2ZUNvbXBvbmVudC5lZGdlcy5hdCgtMSk/LmxlZnRWZXJ0ZXg/LnBvcyk/P251bGw7c3dpdGNoKHkocix0aGlzLnNlY29uZFRvTGFzdFZlcnRleCl8fCh0aGlzLnNlY29uZFRvTGFzdFZlcnRleD1yKSx0aGlzLl9wcm9jZXNzQ3Vyc29yKHRoaXMuY3Vyc29yVmVydGV4KSx0LnR5cGUpe2Nhc2VcInZlcnRleC1hZGRcIjp0aGlzLmVtaXQodC50eXBlLHsuLi50LGFkZGVkOmksdmVydGljZXM6ZX0pO2JyZWFrO2Nhc2VcInZlcnRleC11cGRhdGVcIjp0aGlzLmVtaXQodC50eXBlLHsuLi50LHVwZGF0ZWQ6aSx2ZXJ0aWNlczplfSk7YnJlYWs7Y2FzZVwidmVydGV4LXJlbW92ZVwiOnRoaXMuZW1pdCh0LnR5cGUsey4uLnQscmVtb3ZlZDppLHZlcnRpY2VzOmV9KX19KSkpO2NvbnN0IHA9dGhpcy5fbWFuaXB1bGF0b3I9bmV3IEMoe2NvbnN1bWVzQ2xpY2tzOiExLGdyYWJiYWJsZUZvckV2ZW50OnQ9PlwiY2xpY2tcIiE9PXRoaXMuZHJhd2luZ01vZGV8fFwidG91Y2hcIj09PXQucG9pbnRlclR5cGUmJnRoaXMuX3NuYXBwaW5nRW5hYmxlZCYmMT09PXRoaXMuX3BvaW50ZXJEb3duU3RhdGVzLnNpemV9KTt0aGlzLm1hbmlwdWxhdG9ycy5hZGQocCkscC5ncmFiYmFibGU9XCJwb2ludFwiIT09dCYmXCJtdWx0aXBvaW50XCIhPT10LHRoaXMuYWRkSGFuZGxlcyhbcC5ldmVudHMub24oXCJpbW1lZGlhdGUtY2xpY2tcIiwodD0+dGhpcy5fb25JbW1lZGlhdGVDbGljayh0KSkpLHAuZXZlbnRzLm9uKFwiaW1tZWRpYXRlLWRvdWJsZS1jbGlja1wiLCh0PT50aGlzLl9vbkltbWVkaWF0ZURvdWJsZUNsaWNrKHQpKSksYygoKCk9PnRoaXMuZHJhd2luZ01vZGUpLCgoKT0+e3RoaXMucmVtb3ZlSGFuZGxlcyhBKSx0aGlzLmFkZEhhbmRsZXModGhpcy5fY3JlYXRlTWFuaXB1bGF0b3JEcmFnUGlwZWxpbmUocCksQSl9KSxsKSxjKCgoKT0+KHtlZmZlY3RpdmVDdXJzb3I6dGhpcy5lZmZlY3RpdmVDdXJzb3J9KSksKCh7ZWZmZWN0aXZlQ3Vyc29yOnR9KT0+e3AuY3Vyc29yPXR9KSxsKV0pLFoodGhpcywoKCk9Pntjb25zdCB0PXRoaXMudmlldy5pbnB1dE1hbmFnZXIubGF0ZXN0UG9pbnRlclR5cGU/P1wibW91c2VcIixlPXRoaXMuX2dldFNuYXBwaW5nQ29udGV4dCh0KTtpZihudWxsIT10aGlzLnNuYXBwaW5nTWFuYWdlcil7Y29uc3QgdD10aGlzLl9zbmFwcGluZ09wZXJhdGlvbi5zbmFwQWdhaW5OZWFyUHJldmlvdXNNYXBQb2ludCh0aGlzLnNuYXBwaW5nTWFuYWdlcixlKTt0aGlzLl91cGRhdGluZ0hhbmRsZXMuYWRkUHJvbWlzZShhKHQpKX19KSl9ZGVzdHJveSgpe3IodGhpcy5zZWdtZW50TGFiZWxzKSxyKHRoaXMuX3NuYXBwaW5nT3BlcmF0aW9uKSx0aGlzLl9lZGl0R2VvbWV0cnlPcGVyYXRpb25zPXIodGhpcy5fZWRpdEdlb21ldHJ5T3BlcmF0aW9ucyksdGhpcy5fdXBkYXRpbmdIYW5kbGVzLmRlc3Ryb3koKX1nZXQgX2lzRHJhZ2dpbmcoKXtjb25zdHtfc3RhZ2VkUG9pbnRlcklkOnQsX21hbmlwdWxhdG9yOmV9PXRoaXM7cmV0dXJuIG51bGwhPXQmJnRoaXMuX3BvaW50ZXJEb3duU3RhdGVzLmhhcyh0KXx8ZS5ncmFiYmluZ3x8IWUuaW50ZXJhY3RpdmV9Z2V0IF9zbmFwcGluZ0VuYWJsZWQoKXtyZXR1cm4gbnVsbCE9dGhpcy5zbmFwcGluZ01hbmFnZXImJnRoaXMuc25hcHBpbmdNYW5hZ2VyLm9wdGlvbnMuZWZmZWN0aXZlRW5hYmxlZH1nZXQgX3JlcXVpcmVzU2NlbmVQb2ludCgpe2NvbnN0IHQ9dGhpcy5fdXBkYXRlQW5kR2V0RWZmZWN0aXZlRHJhd1N1cmZhY2UoKTtyZXR1cm5cIjNkXCI9PT10aGlzLnZpZXcudHlwZSYmdGhpcy5kcmF3U3VyZmFjZSE9PXR9Z2V0IGNhblJlZG8oKXtyZXR1cm4gdGhpcy5fZWRpdEdlb21ldHJ5T3BlcmF0aW9ucy5jYW5SZWRvfWdldCBjYW5VbmRvKCl7cmV0dXJuIHRoaXMuX2VkaXRHZW9tZXRyeU9wZXJhdGlvbnMuY2FuVW5kb31nZXQgY29tbWl0dGVkVmVydGljZXMoKXtyZXR1cm4gdGhpcy5fYWN0aXZlQ29tcG9uZW50LnZlcnRpY2VzLm1hcCgodD0+dGhpcy5jb29yZGluYXRlSGVscGVyLnZlY3RvclRvQXJyYXkodC5wb3MpKSl9Z2V0IF9jb25zdHJhaW50KCl7Y29uc3R7Y29uc3RyYWludHM6dCxjb25zdHJhaW50c0VuYWJsZWQ6ZX09dGhpcztpZih0JiZlKXN3aXRjaCh0aGlzLmdlb21ldHJ5VHlwZSl7Y2FzZVwicG9pbnRcIjpjYXNlXCJtdWx0aXBvaW50XCI6cmV0dXJuIHRoaXMuX2dldFBvaW50Q29uc3RyYWludCh0KTtjYXNlXCJwb2x5Z29uXCI6Y2FzZVwicG9seWxpbmVcIjpyZXR1cm4gdGhpcy5fZ2V0UG9seWxpbmVPclBvbHlnb25Db25zdHJhaW50KHRoaXMubGFzdFZlcnRleCx0aGlzLnNlY29uZFRvTGFzdFZlcnRleCx0KX19c2V0IGRyYXdpbmdNb2RlKHQpe3RoaXMuX3NldChcImRyYXdpbmdNb2RlXCIsdD8/eCl9Z2V0IGVmZmVjdGl2ZUN1cnNvcigpe3JldHVybiB0aGlzLmxvYWRpbmc/VTp0aGlzLl9oaWRlRGVmYXVsdEN1cnNvcj9udWxsOnRoaXMuY3Vyc29yfHxMfWdldCBpbnRlcmFjdGl2ZSgpe3JldHVybiB0aGlzLl9tYW5pcHVsYXRvci5pbnRlcmFjdGl2ZX1zZXQgaW50ZXJhY3RpdmUodCl7dGhpcy5fbWFuaXB1bGF0b3IuaW50ZXJhY3RpdmU9dH1nZXQgaXNDb21wbGV0ZWQoKXtyZXR1cm4gdGhpcy5fY3JlYXRlT3BlcmF0aW9uQ29tcGxldGVkfWdldCBudW1Db21taXR0ZWRWZXJ0aWNlcygpe3JldHVybiB0aGlzLl9hY3RpdmVDb21wb25lbnQudmVydGljZXMubGVuZ3RofWdldCBzbmFwcGluZ09wdGlvbnMoKXtyZXR1cm4gbnVsbCE9dGhpcy5zbmFwcGluZ01hbmFnZXI/dGhpcy5zbmFwcGluZ01hbmFnZXIub3B0aW9uczpudWxsfWdldCBjdXJzb3JWZXJ0ZXgoKXtyZXR1cm4gdGhpcy5fZ2V0KFwiY3Vyc29yVmVydGV4XCIpfWdldCB2aXN1YWxpemF0aW9uQ3Vyc29yVmVydGV4KCl7cmV0dXJuXCJtb3VzZVwiPT09dGhpcy5fc3RhZ2VkUG9pbnRlclR5cGU/dGhpcy5jdXJzb3JWZXJ0ZXg6bnVsbH1nZXQgY29tbWl0dGFibGVWZXJ0ZXgoKXtjb25zdHtjdXJzb3JWZXJ0ZXg6dCxsYXN0VmVydGV4OmUsZmlyc3RWZXJ0ZXg6aSxnZW9tZXRyeVR5cGU6bn09dGhpcztyZXR1cm5cInBvbHlnb25cIj09PW4mJl8odCxpKXx8Xyh0LGUpP251bGw6dH1nZXQgdXBkYXRpbmcoKXtyZXR1cm4gdGhpcy5fdXBkYXRpbmdIYW5kbGVzLnVwZGF0aW5nfWdldCBnZW9tZXRyeUluY2x1ZGluZ1VuY29tbWl0dGVkVmVydGljZXMoKXtjb25zdHtjb21taXR0ZWRWZXJ0aWNlczp0LGNvbW1pdHRhYmxlVmVydGV4OmUsY29vcmRpbmF0ZUhlbHBlcjppfT10aGlzLG49dC5zbGljZSgpO3JldHVybiBudWxsIT1lJiZuLnB1c2goaS5wb2ludFRvQXJyYXkoZSkpLG59Y2FuY2VsKCl7dGhpcy5jb21wbGV0ZSh7YWJvcnRlZDohMH0pfWNvbW1pdFN0YWdlZFZlcnRleCgpe3RoaXMuX3NuYXBwaW5nT3BlcmF0aW9uLmFib3J0KCk7Y29uc3R7Y29tbWl0dGFibGVWZXJ0ZXg6dH09dGhpcztudWxsIT10JiZ0aGlzLl9lZGl0R2VvbWV0cnlPcGVyYXRpb25zLmFwcGVuZFZlcnRleCh0aGlzLmNvb3JkaW5hdGVIZWxwZXIucG9pbnRUb1ZlY3Rvcih0KSl9Y29tcGxldGUodCl7Y29uc3QgZT10Py5hYm9ydGVkfHwhMTt0aGlzLl9zbmFwcGluZ09wZXJhdGlvbi5hYm9ydCgpLHRoaXMuc25hcHBpbmdNYW5hZ2VyPy5kb25lU25hcHBpbmcoKTtjb25zdHtnZW9tZXRyeVR5cGU6aSxudW1Db21taXR0ZWRWZXJ0aWNlczpufT10aGlzLG89XCJtdWx0aXBvaW50XCI9PT1pJiYwPT09bnx8XCJwb2x5bGluZVwiPT09aSYmbjwyfHxcInBvbHlnb25cIj09PWkmJm48MztcInNlZ21lbnRcIiE9PWkmJlwicG9pbnRcIiE9PWl8fHRoaXMuY29tbWl0U3RhZ2VkVmVydGV4KCksdGhpcy5fY3JlYXRlT3BlcmF0aW9uQ29tcGxldGVkPSFvLCh0aGlzLmlzQ29tcGxldGVkfHxlKSYmKHRoaXMuX3N0YWdlZFNjcmVlblBvaW50PW51bGwsdGhpcy5fc3RhZ2VkUG9pbnRlcklkPW51bGwsdGhpcy5fc3RhZ2VkUG9pbnRlclR5cGU9bnVsbCx0aGlzLl9wcm9jZXNzQ3Vyc29yKG51bGwpLHRoaXMuZW1pdChcImNvbXBsZXRlXCIse3ZlcnRpY2VzOnRoaXMuY29tbWl0dGVkVmVydGljZXMubWFwKCgodCxlKT0+KHtjb21wb25lbnRJbmRleDowLHZlcnRleEluZGV4OmUsY29vcmRpbmF0ZXM6dH0pKSksYWJvcnRlZDplLHR5cGU6XCJjb21wbGV0ZVwifSkpfW9uSW5wdXRFdmVudCh0KXtzd2l0Y2godC50eXBlKXtjYXNlXCJwb2ludGVyLWRvd25cIjp0aGlzLl9wb2ludGVyRG93blN0YXRlcy5hZGQodC5wb2ludGVySWQpO2JyZWFrO2Nhc2VcInBvaW50ZXItdXBcIjp0aGlzLl9wb2ludGVyRG93blN0YXRlcy5kZWxldGUodC5wb2ludGVySWQpfXN3aXRjaCh0LnR5cGUpe2Nhc2VcInBvaW50ZXItbW92ZVwiOnJldHVybiB0aGlzLl9vblBvaW50ZXJNb3ZlKHQpO2Nhc2VcImhvbGRcIjpyZXR1cm4gdGhpcy5fb25Ib2xkKHQpfX1yZWRvKCl7dGhpcy5fZWRpdEdlb21ldHJ5T3BlcmF0aW9ucy5yZWRvKCl9dW5kbygpe251bGwhPXRoaXMuc25hcHBpbmdNYW5hZ2VyJiZ0aGlzLnNuYXBwaW5nTWFuYWdlci5kb25lU25hcHBpbmcoKSx0aGlzLl9lZGl0R2VvbWV0cnlPcGVyYXRpb25zLnVuZG8oKX1fcHJvY2Vzc0N1cnNvcih0KXtjb25zdCBlPW4odGhpcy5jdXJzb3JWZXJ0ZXgpLGk9bih0KSxvPWkmJih0aGlzLl91cGRhdGVBbmRHZXRFZmZlY3RpdmVEcmF3U3VyZmFjZSgpPy5jb25zdHJhaW5aKGkpPz9pKSxyPXRoaXMuX3NuYXBUb0Nsb3NpbmdWZXJ0ZXgobykscz10aGlzLl9hcHBseUNvbnN0cmFpbnRzKHIpO18oZSxzKXx8KHRoaXMuX3NldChcImN1cnNvclZlcnRleFwiLHMpLHRoaXMuc2VnbWVudExhYmVscz8uc2V0KFwic3RhZ2VkVmVydGV4XCIsbnVsbCE9cz90aGlzLmNvb3JkaW5hdGVIZWxwZXIucG9pbnRUb1ZlY3RvcihzKTpudWxsKSxudWxsPT1zfHxcIm1vdXNlXCIhPT10aGlzLl9zdGFnZWRQb2ludGVyVHlwZT90aGlzLmVtaXQoXCJjdXJzb3ItcmVtb3ZlXCIpOnRoaXMuZW1pdChcImN1cnNvci11cGRhdGVcIix7dXBkYXRlZDpudWxsLHZlcnRpY2VzOlt7Y29tcG9uZW50SW5kZXg6MCx2ZXJ0ZXhJbmRleDp0aGlzLl9hY3RpdmVDb21wb25lbnQudmVydGljZXMubGVuZ3RoLGNvb3JkaW5hdGVzOnRoaXMuY29vcmRpbmF0ZUhlbHBlci5wb2ludFRvQXJyYXkocyl9XSxvcGVyYXRpb246XCJhcHBseVwiLHR5cGU6XCJ2ZXJ0ZXgtdXBkYXRlXCJ9KSl9X3NuYXBUb0Nsb3NpbmdWZXJ0ZXgodCl7aWYobnVsbD09dHx8dGhpcy5faXNEcmFnZ2luZ3x8XCJwb2x5Z29uXCIhPT10aGlzLmdlb21ldHJ5VHlwZXx8dGhpcy5udW1Db21taXR0ZWRWZXJ0aWNlczw9MilyZXR1cm4gdDtjb25zdCBlPXRoaXMuX21hcFRvU2NyZWVuKHQpO2lmKCFlKXJldHVybiB0O2NvbnN0IGk9dGhpcy5fYWN0aXZlQ29tcG9uZW50O3JldHVybiB0aGlzLl92ZXJ0ZXhXaXRoaW5Qb2ludGVyRGlzdGFuY2UoaS52ZXJ0aWNlc1swXS5wb3MsZSk/dGhpcy5maXJzdFZlcnRleDp0aGlzLl92ZXJ0ZXhXaXRoaW5Qb2ludGVyRGlzdGFuY2UoaS52ZXJ0aWNlcy5hdCgtMSkucG9zLGUpP3RoaXMubGFzdFZlcnRleDp0fV9jcmVhdGVNYW5pcHVsYXRvckRyYWdQaXBlbGluZSh0KXtzd2l0Y2godGhpcy5kcmF3aW5nTW9kZSl7Y2FzZVwiY2xpY2tcIjpyZXR1cm4gdGhpcy5fY3JlYXRlTWFuaXB1bGF0b3JEcmFnUGlwZWxpbmVDbGljayh0KTtjYXNlXCJmcmVlaGFuZFwiOnJldHVybiB0aGlzLl9jcmVhdGVNYW5pcHVsYXRvckRyYWdQaXBlbGluZUZyZWVoYW5kKHQpO2Nhc2VcImh5YnJpZFwiOnJldHVybiB0aGlzLl9jcmVhdGVNYW5pcHVsYXRvckRyYWdQaXBlbGluZUh5YnJpZCh0KX19X2NyZWF0ZU1hbmlwdWxhdG9yRHJhZ1BpcGVsaW5lQ2xpY2sodCl7cmV0dXJuIFQodCwoKHQsZSxpLG4pPT57Y29uc3Qgbz1cInRvdWNoXCI9PT1uJiZ0aGlzLl9zbmFwcGluZ0VuYWJsZWQ7aWYodGhpcy5pc0NvbXBsZXRlZHx8IW8pcmV0dXJuO2NvbnN0e3NuYXBwaW5nU3RlcDpyLGNhbmNlbFNuYXBwaW5nOnN9PUcoe3ByZWRpY2F0ZTooKT0+byxzbmFwcGluZ01hbmFnZXI6dGhpcy5zbmFwcGluZ01hbmFnZXIsc25hcHBpbmdDb250ZXh0Om5ldyBqKHtlZGl0R2VvbWV0cnlPcGVyYXRpb25zOnRoaXMuX2VkaXRHZW9tZXRyeU9wZXJhdGlvbnMsZWxldmF0aW9uSW5mbzp0aGlzLmVsZXZhdGlvbkluZm8sZmVhdHVyZTp0aGlzLmdyYXBoaWMscG9pbnRlcjpuLHZpc3VhbGl6ZXI6dGhpcy5zbmFwcGluZ1Zpc3VhbGl6ZXIsZHJhd0NvbnN0cmFpbnRzOnRoaXMuY29uc3RyYWludHN9KSx1cGRhdGluZ0hhbmRsZXM6dGhpcy5fdXBkYXRpbmdIYW5kbGVzLHVzZVo6IXRoaXMuX3JlcXVpcmVzU2NlbmVQb2ludH0pO2k9aS5uZXh0KCh0PT4obyYmbnVsbCE9dGhpcy5zbmFwcGluZ01hbmFnZXImJnRoaXMuc25hcHBpbmdNYW5hZ2VyLmRvbmVTbmFwcGluZygpLHQpKSkubmV4dChzKSxlLm5leHQodGhpcy5fc2NyZWVuVG9NYXBEcmFnRXZlbnRTdGVwKCkpLm5leHQoKHQ9PihcInN0YXJ0XCI9PT10LmFjdGlvbiYmKHRoaXMuX3Byb2Nlc3NDdXJzb3IodC5tYXBTdGFydCksKFwic2VnbWVudFwiPT09dGhpcy5nZW9tZXRyeVR5cGV8fG8mJiF0aGlzLm51bUNvbW1pdHRlZFZlcnRpY2VzKSYmdGhpcy5jb21taXRTdGFnZWRWZXJ0ZXgoKSksdCkpKS5uZXh0KFModGhpcy52aWV3LHRoaXMuZWxldmF0aW9uSW5mbykpLm5leHQoLi4ucikubmV4dCgodD0+KG8mJih0aGlzLl9wcm9jZXNzQ3Vyc29yKHQubWFwRW5kKSxcImVuZFwiPT09dC5hY3Rpb24mJnRoaXMuY29tbWl0U3RhZ2VkVmVydGV4KCkpLHQpKSkubmV4dCgodD0+KFwiZW5kXCI9PT10LmFjdGlvbiYmKFwibW91c2VcIiE9PXRoaXMuX3N0YWdlZFBvaW50ZXJUeXBlJiZ0aGlzLl9zbmFwcGluZ09wZXJhdGlvbi5hYm9ydCgpLFwic2VnbWVudFwiIT09dGhpcy5nZW9tZXRyeVR5cGUmJlwicG9pbnRcIiE9PXRoaXMuZ2VvbWV0cnlUeXBlfHx0aGlzLmNvbXBsZXRlKCkpLHQpKSl9KSl9X2NyZWF0ZU1hbmlwdWxhdG9yRHJhZ1BpcGVsaW5lRnJlZWhhbmQodCl7cmV0dXJuIFQodCwoKHQsZSk9Pnt0aGlzLmlzQ29tcGxldGVkfHxlLm5leHQodGhpcy5fc2NyZWVuVG9NYXBEcmFnRXZlbnRTdGVwKCkpLm5leHQoKHQ9PihcInN0YXJ0XCI9PT10LmFjdGlvbiYmKHRoaXMuX3NuYXBwaW5nT3BlcmF0aW9uLmFib3J0KCksbnVsbD09dGhpcy5jb21taXR0YWJsZVZlcnRleCYmdGhpcy5fcHJvY2Vzc0N1cnNvcih0Lm1hcFN0YXJ0KSxcInNlZ21lbnRcIj09PXRoaXMuZ2VvbWV0cnlUeXBlJiZ0aGlzLmNvbW1pdFN0YWdlZFZlcnRleCgpKSx0KSkpLm5leHQoKHQ9Pntzd2l0Y2godC5hY3Rpb24pe2Nhc2VcInN0YXJ0XCI6Y2FzZVwidXBkYXRlXCI6dGhpcy5fcHJvY2Vzc0N1cnNvcih0Lm1hcEVuZCksXCJwb2x5Z29uXCIhPT10aGlzLmdlb21ldHJ5VHlwZSYmXCJwb2x5bGluZVwiIT09dGhpcy5nZW9tZXRyeVR5cGV8fHRoaXMuY29tbWl0U3RhZ2VkVmVydGV4KCk7YnJlYWs7Y2FzZVwiZW5kXCI6dGhpcy5jb21wbGV0ZSgpfXJldHVybiB0fSkpfSkpfV9jcmVhdGVNYW5pcHVsYXRvckRyYWdQaXBlbGluZUh5YnJpZCh0KXtyZXR1cm4gVCh0LCgodCxlKT0+e3RoaXMuaXNDb21wbGV0ZWR8fGUubmV4dCh0aGlzLl9zY3JlZW5Ub01hcERyYWdFdmVudFN0ZXAoKSkubmV4dCgodD0+KFwic3RhcnRcIj09PXQuYWN0aW9uJiYodGhpcy5fc25hcHBpbmdPcGVyYXRpb24uYWJvcnQoKSx0aGlzLmFkZEhhbmRsZXModGhpcy5fZWRpdEdlb21ldHJ5T3BlcmF0aW9ucy5jcmVhdGVVbmRvR3JvdXAoKSx6KSx0aGlzLl9wcm9jZXNzQ3Vyc29yKHQubWFwU3RhcnQpLHRoaXMuY29tbWl0U3RhZ2VkVmVydGV4KCkpLHQpKSkubmV4dCgodD0+e3N3aXRjaCh0LmFjdGlvbil7Y2FzZVwic3RhcnRcIjpjYXNlXCJ1cGRhdGVcIjp0aGlzLl9wcm9jZXNzQ3Vyc29yKHQubWFwRW5kKSxcInBvbHlnb25cIiE9PXRoaXMuZ2VvbWV0cnlUeXBlJiZcInBvbHlsaW5lXCIhPT10aGlzLmdlb21ldHJ5VHlwZXx8dGhpcy5jb21taXRTdGFnZWRWZXJ0ZXgoKTticmVhaztjYXNlXCJlbmRcIjpcIm1vdXNlXCIhPT10aGlzLl9zdGFnZWRQb2ludGVyVHlwZSYmdGhpcy5fc25hcHBpbmdPcGVyYXRpb24uYWJvcnQoKSx0aGlzLnJlbW92ZUhhbmRsZXMoeiksXCJzZWdtZW50XCIhPT10aGlzLmdlb21ldHJ5VHlwZSYmXCJwb2ludFwiIT09dGhpcy5nZW9tZXRyeVR5cGV8fHRoaXMuY29tcGxldGUoKX1yZXR1cm4gdH0pKX0pKX1nZXQgX2RyYXdBdEZpeGVkRWxldmF0aW9uKCl7Y29uc3R7Y29uc3RyYWludHNFbmFibGVkOnQsY29uc3RyYWludFo6ZSxnZW9tZXRyeVR5cGU6aSxudW1Db21taXR0ZWRWZXJ0aWNlczpufT10aGlzO3JldHVybiB0P251bGwhPWV8fFwic2VnbWVudFwiPT09aSYmbj4wOihcInNlZ21lbnRcIj09PWl8fFwicG9seWdvblwiPT09aSkmJm4+MH1fdXBkYXRlQW5kR2V0RWZmZWN0aXZlRHJhd1N1cmZhY2UoKXtjb25zdHtjb25zdHJhaW50c0VuYWJsZWQ6dCxjb29yZGluYXRlSGVscGVyOmUsZHJhd1N1cmZhY2U6aSxlbGV2YXRpb25EcmF3U3VyZmFjZTpuLHNuYXBUb1NjZW5lRW5hYmxlZDpvfT10aGlzO2lmKG51bGw9PW4pcmV0dXJuIGk7aWYoIXRoaXMuaGFzWilyZXR1cm4gbi5kZWZhdWx0Wj1udWxsLG47Y29uc3Qgcj10aGlzLmVsZXZhdGlvbkluZm8/Lm1vZGU7bGV0IHM9dGhpcy5kZWZhdWx0WixhPXR8fFwiYWJzb2x1dGUtaGVpZ2h0XCI9PT1yO2lmKG51bGwhPW8mJihhPW8pLFwib24tdGhlLWdyb3VuZFwiPT09ciYmKGE9ITEpLHRoaXMuX2RyYXdBdEZpeGVkRWxldmF0aW9uKXtzPSh0P3RoaXMuY29uc3RyYWludFo6bnVsbCk/P2UuZ2V0Wih0aGlzLl9hY3RpdmVDb21wb25lbnQudmVydGljZXNbMF0ucG9zKSxhPSExfXJldHVybiBhP2k6KG4uZGVmYXVsdFo9cyxuKX1fbWFwVG9TY3JlZW4odCl7cmV0dXJuIHRoaXMuX3VwZGF0ZUFuZEdldEVmZmVjdGl2ZURyYXdTdXJmYWNlKCk/Lm1hcFRvU2NyZWVuKHQpfV9vbkhvbGQodCl7dGhpcy5fc25hcHBpbmdPcGVyYXRpb24uYWJvcnQoKSxcImNsaWNrXCI9PT10aGlzLmRyYXdpbmdNb2RlJiZcInRvdWNoXCI9PT10LnBvaW50ZXJUeXBlJiZ0aGlzLl9zbmFwcGluZ0VuYWJsZWQmJnRoaXMuX3Byb2Nlc3NDdXJzb3IodC5tYXBQb2ludCksdC5zdG9wUHJvcGFnYXRpb24oKX1fb25JbW1lZGlhdGVDbGljayh0KXtpZighKFwibW91c2VcIj09PXQucG9pbnRlclR5cGUmJjI9PT10LmJ1dHRvbnx8dGhpcy5fbWFuaXB1bGF0b3IuZHJhZ2dpbmcpKXRyeXtjb25zdHtkcmF3aW5nTW9kZTplLGdlb21ldHJ5VHlwZTppfT10aGlzO3RoaXMuX3N0YWdlZFBvaW50ZXJUeXBlPXQucG9pbnRlclR5cGUsdGhpcy5fc3RhZ2VkU2NyZWVuUG9pbnQ9dC5zY3JlZW5Qb2ludDtjb25zdCBuPXRoaXMuX3NjcmVlblRvTWFwKHQuc2NyZWVuUG9pbnQpO2lmKG51bGw9PW4pcmV0dXJuO2lmKG51bGw9PW58fFwiZnJlZWhhbmRcIj09PWUmJlwicG9pbnRcIiE9PWkmJlwibXVsdGlwb2ludFwiIT09aSlyZXR1cm47aWYodGhpcy5fc25hcHBpbmdFbmFibGVkJiZudWxsIT10aGlzLmN1cnNvclZlcnRleHx8dGhpcy5fcHJvY2Vzc0N1cnNvcihuKSxudWxsPT10aGlzLmNvbW1pdHRhYmxlVmVydGV4KXJldHVybiB2b2lkIHRoaXMuY29tcGxldGUoKTt0aGlzLmNvbW1pdFN0YWdlZFZlcnRleCgpLFwibW91c2VcIiE9PXQucG9pbnRlclR5cGUmJnRoaXMuX3Byb2Nlc3NDdXJzb3IobnVsbCksKFwiZnJlZWhhbmRcIj09PWUmJlwibXVsdGlwb2ludFwiIT09dGhpcy5nZW9tZXRyeVR5cGV8fFwicG9pbnRcIj09PWl8fFwic2VnbWVudFwiPT09aSYmMj09PXRoaXMubnVtQ29tbWl0dGVkVmVydGljZXN8fFwic2VnbWVudFwiPT09aSYmXCJoeWJyaWRcIj09PWUmJjE9PT10aGlzLm51bUNvbW1pdHRlZFZlcnRpY2VzKSYmdGhpcy5jb21wbGV0ZSgpfWZpbmFsbHl7dC5zdG9wUHJvcGFnYXRpb24oKX19X29uSW1tZWRpYXRlRG91YmxlQ2xpY2sodCl7dGhpcy5fbWFuaXB1bGF0b3IuZHJhZ2dpbmd8fFwicG9pbnRcIj09PXRoaXMuZ2VvbWV0cnlUeXBlfHwodGhpcy5jb21wbGV0ZSgpLHQuc3RvcFByb3BhZ2F0aW9uKCkpfV9vblBvaW50ZXJNb3ZlKHQpe2NvbnN0IGU9ZCh0LngsdC55KTt0aGlzLl9zdGFnZWRTY3JlZW5Qb2ludD1lLHRoaXMuX3N0YWdlZFBvaW50ZXJUeXBlPXQucG9pbnRlclR5cGUsdGhpcy5fc3RhZ2VkUG9pbnRlcklkPXQucG9pbnRlcklkLHRoaXMuX2lzRHJhZ2dpbmc/dGhpcy5fc25hcHBpbmdPcGVyYXRpb24uYWJvcnQoKToodC5zdG9wUHJvcGFnYXRpb24oKSx0aGlzLl9wcm9jZXNzQ3Vyc29yTW92ZW1lbnRSZWxhdGl2ZVRvU3VyZmFjZShlLHQucG9pbnRlclR5cGUpKX1fb25LZXlib2FyZEJhc2VkQ2hhbmdlKCl7XCJtb3VzZVwiPT09dGhpcy5fc3RhZ2VkUG9pbnRlclR5cGUmJnRoaXMuX3N0YWdlZFNjcmVlblBvaW50JiZudWxsIT10aGlzLl9zdGFnZWRQb2ludGVySWQmJiF0aGlzLl9pc0RyYWdnaW5nP3RoaXMuX3Byb2Nlc3NDdXJzb3JNb3ZlbWVudFJlbGF0aXZlVG9TdXJmYWNlKHRoaXMuX3N0YWdlZFNjcmVlblBvaW50LHRoaXMuX3N0YWdlZFBvaW50ZXJUeXBlKTp0aGlzLl9zbmFwcGluZ09wZXJhdGlvbi5hYm9ydCgpfV9wcm9jZXNzQ3Vyc29yTW92ZW1lbnRSZWxhdGl2ZVRvU3VyZmFjZSh0LGUpe2NvbnN0IGk9dGhpcy5fc25hcHBpbmdPcGVyYXRpb24sbj10aGlzLl9zY3JlZW5Ub01hcCh0KSxvPXRoaXMuX3JlcXVpcmVzU2NlbmVQb2ludD90aGlzLmRyYXdTdXJmYWNlPy5zY3JlZW5Ub01hcCh0KTpudWxsO2lmKG51bGw9PW4pcmV0dXJuIHRoaXMuX2hpZGVEZWZhdWx0Q3Vyc29yPSEwLHRoaXMuX3Byb2Nlc3NDdXJzb3IobnVsbCksdm9pZCBpLmFib3J0KCk7dGhpcy5faGlkZURlZmF1bHRDdXJzb3I9ITE7Y29uc3Qgcj10aGlzLnNuYXBwaW5nTWFuYWdlcjtpZihudWxsPT1yKXJldHVybiB0aGlzLl9wcm9jZXNzQ3Vyc29yKG4pLHZvaWQgaS5hYm9ydCgpO2NvbnN0IHM9dGhpcy5fZ2V0U25hcHBpbmdDb250ZXh0KGUpO3RoaXMuX3VwZGF0aW5nSGFuZGxlcy5hZGRQcm9taXNlKGEoaS5zbmFwKHtwb2ludDpuLHNjZW5lUG9pbnQ6b30scixzKSkpfV9hcHBseUNvbnN0cmFpbnRzKHQpe2NvbnN0e19jb25zdHJhaW50OmUsY29uc3RyYWludHM6aX09dGhpcztpZighdHx8IWl8fCFlKXJldHVybiB0O2NvbnN0e2NvbnRleHQ6bn09aSxvPUUodCxuKSxyPW8/ZS5jbG9zZXN0VG8obyk6dm9pZCAwO2lmKCFyKXJldHVybiB0O2NvbnN0IHM9SShyLHQsbiksYT1cIjJkXCI9PT10aGlzLnZpZXcudHlwZXx8XCJhYnNvbHV0ZS1oZWlnaHRcIiE9PW4uZWxldmF0aW9uSW5mby5tb2RlO3JldHVybiBudWxsIT1zJiZhJiZudWxsIT10aGlzLmNvbnN0cmFpbnRaJiZ0aGlzLmhhc1omJihzLno9dGhpcy5jb25zdHJhaW50Wiksc31fc2NyZWVuVG9NYXAodCl7cmV0dXJuIHQ/dGhpcy5fdXBkYXRlQW5kR2V0RWZmZWN0aXZlRHJhd1N1cmZhY2UoKT8uc2NyZWVuVG9NYXAodCk6bnVsbH1fc2NyZWVuVG9NYXBEcmFnRXZlbnRTdGVwKCl7bGV0IHQ9bnVsbDtyZXR1cm4gZT0+e2lmKFwic3RhcnRcIj09PWUuYWN0aW9uJiYodD10aGlzLl9zY3JlZW5Ub01hcChlLnNjcmVlblN0YXJ0KSksbnVsbD09dClyZXR1cm4gbnVsbDtjb25zdCBpPXRoaXMuX3NjcmVlblRvTWFwKGUuc2NyZWVuRW5kKTtyZXR1cm4gbnVsbCE9aT97Li4uZSxtYXBTdGFydDp0LG1hcEVuZDppfTpudWxsfX1fdmVydGV4V2l0aGluUG9pbnRlckRpc3RhbmNlKHQsZSl7Y29uc3QgaT0yNSxuPXRoaXMuX21hcFRvU2NyZWVuKHRoaXMuY29vcmRpbmF0ZUhlbHBlci52ZWN0b3JUb0RlaHlkcmF0ZWRQb2ludCh0KSk7cmV0dXJuIG51bGwhPW4mJlIobixlLGkpfV9nZXRTbmFwcGluZ0NvbnRleHQodCl7Y29uc3QgZT10aGlzLl9kcmF3QXRGaXhlZEVsZXZhdGlvbj90aGlzLmVsZXZhdGlvbkRyYXdTdXJmYWNlPy5kZWZhdWx0WjpudWxsO3JldHVybiBuZXcgaih7ZWRpdEdlb21ldHJ5T3BlcmF0aW9uczp0aGlzLl9lZGl0R2VvbWV0cnlPcGVyYXRpb25zLGVsZXZhdGlvbkluZm86dGhpcy5lbGV2YXRpb25JbmZvLHBvaW50ZXI6dCxmZWF0dXJlOnRoaXMuZ3JhcGhpYyx2aXN1YWxpemVyOnRoaXMuc25hcHBpbmdWaXN1YWxpemVyLHNlbGZTbmFwcGluZ1o6bnVsbCE9ZT97dmFsdWU6ZSxlbGV2YXRpb25JbmZvOnRoaXMuZWxldmF0aW9uSW5mb306bnVsbCxkcmF3Q29uc3RyYWludHM6dGhpcy5jb25zdHJhaW50c30pfX07ZnVuY3Rpb24gUih0LGUsaSl7Y29uc3Qgbj10LngtZS54LG89dC55LWUueTtyZXR1cm4gbipuK28qbzw9aX10KFtoKCldLEYucHJvdG90eXBlLFwiX2hpZGVEZWZhdWx0Q3Vyc29yXCIsdm9pZCAwKSx0KFtoKCldLEYucHJvdG90eXBlLFwiX3N0YWdlZFBvaW50ZXJJZFwiLHZvaWQgMCksdChbaCgpXSxGLnByb3RvdHlwZSxcIl9pc0RyYWdnaW5nXCIsbnVsbCksdChbaCgpXSxGLnByb3RvdHlwZSxcIl9zbmFwcGluZ09wZXJhdGlvblwiLHZvaWQgMCksdChbaCgpXSxGLnByb3RvdHlwZSxcIl9zbmFwcGluZ0VuYWJsZWRcIixudWxsKSx0KFtoKHtjb25zdHJ1Y3RPbmx5OiEwfSldLEYucHJvdG90eXBlLFwiZ3JhcGhpY1wiLHZvaWQgMCksdChbaCgpXSxGLnByb3RvdHlwZSxcImNvbnN0cmFpbnRzRW5hYmxlZFwiLHZvaWQgMCksdChbaCgpXSxGLnByb3RvdHlwZSxcImNvbnN0cmFpbnRzXCIsdm9pZCAwKSx0KFtoKCldLEYucHJvdG90eXBlLFwiX2NvbnN0cmFpbnRcIixudWxsKSx0KFtoKCldLEYucHJvdG90eXBlLFwiY29uc3RyYWludFpcIix2b2lkIDApLHQoW2goKV0sRi5wcm90b3R5cGUsXCJkZWZhdWx0WlwiLHZvaWQgMCksdChbaCgpXSxGLnByb3RvdHlwZSxcImlzRHJhcGVkXCIsdm9pZCAwKSx0KFtoKHtjb25zdHJ1Y3RPbmx5OiEwfSldLEYucHJvdG90eXBlLFwiYXV0b21hdGljTGVuZ3RoTWVhc3VyZW1lbnRVdGlsc1wiLHZvaWQgMCksdChbaCh7dmFsdWU6eH0pXSxGLnByb3RvdHlwZSxcImRyYXdpbmdNb2RlXCIsbnVsbCksdChbaCh7Y29uc3RydWN0T25seTohMH0pXSxGLnByb3RvdHlwZSxcImVsZXZhdGlvbkRyYXdTdXJmYWNlXCIsdm9pZCAwKSx0KFtoKHtjb25zdHJ1Y3RPbmx5OiEwfSldLEYucHJvdG90eXBlLFwiZWxldmF0aW9uSW5mb1wiLHZvaWQgMCksdChbaCh7Y29uc3RydWN0T25seTohMCx0eXBlOkh9KV0sRi5wcm90b3R5cGUsXCJsYWJlbE9wdGlvbnNcIix2b2lkIDApLHQoW2goe2NvbnN0cnVjdE9ubHk6ITB9KV0sRi5wcm90b3R5cGUsXCJnZW9tZXRyeVR5cGVcIix2b2lkIDApLHQoW2goe2NvbnN0cnVjdE9ubHk6ITB9KV0sRi5wcm90b3R5cGUsXCJoYXNNXCIsdm9pZCAwKSx0KFtoKHtjb25zdHJ1Y3RPbmx5OiEwfSldLEYucHJvdG90eXBlLFwiaGFzWlwiLHZvaWQgMCksdChbaCgpXSxGLnByb3RvdHlwZSxcImN1cnNvclwiLHZvaWQgMCksdChbaCgpXSxGLnByb3RvdHlwZSxcImVmZmVjdGl2ZUN1cnNvclwiLG51bGwpLHQoW2goKV0sRi5wcm90b3R5cGUsXCJsb2FkaW5nXCIsdm9pZCAwKSx0KFtoKHtjb25zdHJ1Y3RPbmx5OiEwfSldLEYucHJvdG90eXBlLFwibWFuaXB1bGF0b3JzXCIsdm9pZCAwKSx0KFtoKHtjb25zdHJ1Y3RPbmx5OiEwfSldLEYucHJvdG90eXBlLFwiZHJhd1N1cmZhY2VcIix2b2lkIDApLHQoW2goe2NvbnN0cnVjdE9ubHk6ITB9KV0sRi5wcm90b3R5cGUsXCJzZWdtZW50TGFiZWxzXCIsdm9pZCAwKSx0KFtoKHtjb25zdHJ1Y3RPbmx5OiEwfSldLEYucHJvdG90eXBlLFwic25hcHBpbmdNYW5hZ2VyXCIsdm9pZCAwKSx0KFtoKHtjb25zdHJ1Y3RPbmx5OiEwfSldLEYucHJvdG90eXBlLFwic25hcHBpbmdWaXN1YWxpemVyXCIsdm9pZCAwKSx0KFtoKCldLEYucHJvdG90eXBlLFwic25hcFRvU2NlbmVFbmFibGVkXCIsdm9pZCAwKSx0KFtoKHtyZWFkT25seTohMH0pXSxGLnByb3RvdHlwZSxcImN1cnNvclZlcnRleFwiLG51bGwpLHQoW2goe3JlYWRPbmx5OiEwfSldLEYucHJvdG90eXBlLFwidmlzdWFsaXphdGlvbkN1cnNvclZlcnRleFwiLG51bGwpLHQoW2goKV0sRi5wcm90b3R5cGUsXCJjb21taXR0YWJsZVZlcnRleFwiLG51bGwpLHQoW2goKV0sRi5wcm90b3R5cGUsXCJmaXJzdFZlcnRleFwiLHZvaWQgMCksdChbaCgpXSxGLnByb3RvdHlwZSxcImxhc3RWZXJ0ZXhcIix2b2lkIDApLHQoW2goKV0sRi5wcm90b3R5cGUsXCJzZWNvbmRUb0xhc3RWZXJ0ZXhcIix2b2lkIDApLHQoW2goKV0sRi5wcm90b3R5cGUsXCJ1cGRhdGluZ1wiLG51bGwpLHQoW2goe2NvbnN0cnVjdE9ubHk6ITB9KV0sRi5wcm90b3R5cGUsXCJ2aWV3XCIsdm9pZCAwKSxGPXQoW3UoXCJlc3JpLnZpZXdzLmRyYXcuRHJhd09wZXJhdGlvblwiKV0sRik7ZXhwb3J0e0YgYXMgRHJhd09wZXJhdGlvbixMIGFzIGRlZmF1bHRDdXJzb3IsVSBhcyBkZWZhdWx0TG9hZGluZ0N1cnNvcn07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4zMy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuY29uc3QgYz1bXCJmcmVlaGFuZFwiLFwiaHlicmlkXCIsXCJjbGlja1wiXSxlPVwiY2xpY2tcIjtleHBvcnR7ZSBhcyBkZWZhdWx0RHJhd2luZ01vZGUsYyBhcyBkcmF3aW5nTW9kZXN9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMzMvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtjcmVhdGVTY3JlZW5Qb2ludEFycmF5IGFzIGUsY3JlYXRlU2NyZWVuUG9pbnQgYXMgdH1mcm9tXCIuLi8uLi9jb3JlL3NjcmVlblV0aWxzLmpzXCI7aW1wb3J0IHMgZnJvbVwiLi4vLi4vZ2VvbWV0cnkvUG9pbnQuanNcIjtpbXBvcnQgciBmcm9tXCIuLi8uLi9nZW9tZXRyeS9TcGF0aWFsUmVmZXJlbmNlLmpzXCI7aW1wb3J0e21ha2VEZWh5ZHJhdGVkUG9pbnQgYXMgbn1mcm9tXCIuLi8uLi9sYXllcnMvZ3JhcGhpY3MvZGVoeWRyYXRlZFBvaW50LmpzXCI7aW1wb3J0e2Nsb25lUG9pbnQgYXMgaX1mcm9tXCIuLi8uLi9sYXllcnMvZ3JhcGhpY3MvaHlkcmF0ZWRGZWF0dXJlcy5qc1wiO2ltcG9ydHtnZXRDb252ZXJ0ZWRFbGV2YXRpb24gYXMgbyxnZXRaRm9yRWxldmF0aW9uTW9kZSBhcyBhfWZyb21cIi4uLy4uL3N1cHBvcnQvZWxldmF0aW9uSW5mb1V0aWxzLmpzXCI7Y2xhc3MgY3tjb25zdHJ1Y3RvcihlLHQscyxyPW51bGwpe3RoaXMuX2VsZXZhdGlvbkluZm89ZSx0aGlzLmRlZmF1bHRaPXQsdGhpcy5fdmlldz1zLHRoaXMuX2V4Y2x1ZGVHcmFwaGljcz1yfXNjcmVlblRvTWFwKHQpe2NvbnN0e2RlZmF1bHRaOnMsX3ZpZXc6cn09dGhpcyxuPXIuc2NlbmVJbnRlcnNlY3Rpb25IZWxwZXIuaW50ZXJzZWN0RWxldmF0aW9uRnJvbVNjcmVlbihlKHQueCx0LnkpLHRoaXMuX2VsZXZhdGlvbkluZm8scz8/MCx0aGlzLl9leGNsdWRlR3JhcGhpY3MpO3JldHVybiBudWxsPT1zJiZudWxsIT1uJiYobi56PXZvaWQgMCksbn1tYXBUb1NjcmVlbihlKXtjb25zdCB0PW4oZS54LGUueSxvKHRoaXMuX3ZpZXcsZSx0aGlzLl9lbGV2YXRpb25JbmZvKSxlLnNwYXRpYWxSZWZlcmVuY2UpO3JldHVybiB0aGlzLl92aWV3LnRvU2NyZWVuKHQpfWNvbnN0cmFpblooZSl7Y29uc3R7ZGVmYXVsdFo6dH09dGhpcztyZXR1cm4gbnVsbCE9dCYmZS56IT09dCYmKChlPWkoZSkpLno9dCksZX19Y2xhc3MgbHtjb25zdHJ1Y3RvcihlLHQscz1bXSl7dGhpcy52aWV3PWUsdGhpcy5lbGV2YXRpb25JbmZvPXQsdGhpcy5leGNsdWRlPXN9c2NyZWVuVG9NYXAoZSl7Y29uc3QgdD10aGlzLnZpZXcudG9NYXAoZSx7ZXhjbHVkZTp0aGlzLmV4Y2x1ZGUsZXhjbHVkZUxhYmVsczohMH0pO3JldHVybiBudWxsIT10JiYodC56PWEodCx0aGlzLnZpZXcsdGhpcy5lbGV2YXRpb25JbmZvKSksdH1tYXBUb1NjcmVlbihlKXtsZXQgdD1lO3JldHVybiBudWxsIT10aGlzLmVsZXZhdGlvbkluZm8mJih0PW4oZS54LGUueSxvKHRoaXMudmlldyxlLHRoaXMuZWxldmF0aW9uSW5mbyksZS5zcGF0aWFsUmVmZXJlbmNlKSksdGhpcy52aWV3LnRvU2NyZWVuKHQpfWNvbnN0cmFpblooZSl7cmV0dXJuIGV9fWNsYXNzIGh7Y29uc3RydWN0b3IoZSx0PSExLHM9MCl7dGhpcy52aWV3PWUsdGhpcy5oYXNaPXQsdGhpcy5kZWZhdWx0Wj1zLHRoaXMubWFwVG9TY3JlZW49dD0+ZS50b1NjcmVlbih0KSx0aGlzLnNjcmVlblRvTWFwPXQ/dD0+e2NvbnN0IHI9ZS50b01hcCh0KTtyZXR1cm4gci56PXMscn06dD0+ZS50b01hcCh0KX1jb25zdHJhaW5aKGUpe2NvbnN0e2RlZmF1bHRaOnR9PXRoaXM7cmV0dXJuIHRoaXMuaGFzWiYmZS56IT09dCYmKChlPWkoZSkpLno9dCksZX19Y2xhc3MgdXtzY3JlZW5Ub01hcChlKXtjb25zdHt4OnQseTpyfT1lO3JldHVybiBuZXcgcyh7eDp0LHk6cixzcGF0aWFsUmVmZXJlbmNlOnUuc3BhdGlhbFJlZmVyZW5jZX0pfW1hcFRvU2NyZWVuKGUpe3JldHVybiB0KGUueCxlLnkpfWNvbnN0cmFpblooZSl7cmV0dXJuIGV9c3RhdGlje3RoaXMuc3BhdGlhbFJlZmVyZW5jZT1uZXcgcn19ZXhwb3J0e2MgYXMgRWxldmF0aW9uRHJhd1N1cmZhY2UsaCBhcyBNYXBEcmF3U3VyZmFjZSxsIGFzIFNjZW5lRHJhd1N1cmZhY2UsdSBhcyBTY3JlZW5EcmF3U3VyZmFjZX07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4zMy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e2lzU29tZSBhcyB0LGVxdWFscyBhcyBlfWZyb21cIi4uLy4uLy4uL2NvcmUvYXJyYXlVdGlscy5qc1wiO2ltcG9ydHtjbG9uZSBhcyBvfWZyb21cIi4uLy4uLy4uL2NvcmUvbGFuZy5qc1wiO2ltcG9ydHtnZXRNZXRlcnNQZXJVbml0Rm9yU1IgYXMgbn1mcm9tXCIuLi8uLi8uLi9jb3JlL3VuaXRVdGlscy5qc1wiO2ltcG9ydHttIGFzIHJ9ZnJvbVwiLi4vLi4vLi4vY2h1bmtzL3ZlYzMyLmpzXCI7aW1wb3J0e2NyZWF0ZSBhcyBhfWZyb21cIi4uLy4uLy4uL2NvcmUvbGlicy9nbC1tYXRyaXgtMi9mYWN0b3JpZXMvdmVjM2Y2NC5qc1wiO2ltcG9ydCBsIGZyb21cIi4uLy4uLy4uL2dlb21ldHJ5L0NpcmNsZS5qc1wiO2ltcG9ydCBzIGZyb21cIi4uLy4uLy4uL2dlb21ldHJ5L011bHRpcG9pbnQuanNcIjtpbXBvcnQgaSBmcm9tXCIuLi8uLi8uLi9nZW9tZXRyeS9Qb2ludC5qc1wiO2ltcG9ydCBjIGZyb21cIi4uLy4uLy4uL2dlb21ldHJ5L1BvbHlnb24uanNcIjtpbXBvcnQgcCBmcm9tXCIuLi8uLi8uLi9nZW9tZXRyeS9Qb2x5bGluZS5qc1wiO2ltcG9ydHtlIGFzIHl9ZnJvbVwiLi4vLi4vLi4vY2h1bmtzL2Rpc3RhbmNlT3BlcmF0b3IuanNcIjtpbXBvcnR7aSBhcyB1LGUgYXMgbX1mcm9tXCIuLi8uLi8uLi9jaHVua3Mvc2ltcGxpZnlPcGVyYXRvci5qc1wiO2ltcG9ydHt1bm5vcm1hbGl6ZVZlcnRpY2VzT25EYXRlbGluZUNyb3NzaW5nIGFzIGYsaXNDbG9ja3dpc2UgYXMgeCx1bm5vcm1hbGl6ZUdlb21ldHJ5T25EYXRlbGluZUNyb3NzaW5nIGFzIGh9ZnJvbVwiLi4vLi4vLi4vZ2VvbWV0cnkvc3VwcG9ydC9jb29yZHNVdGlscy5qc1wiO2ltcG9ydHtpc1ZhbGlkIGFzIE19ZnJvbVwiLi4vLi4vLi4vZ2VvbWV0cnkvc3VwcG9ydC9zcGF0aWFsUmVmZXJlbmNlVXRpbHMuanNcIjtpbXBvcnR7bWFrZVN1cmZhY2VQb2ludCBhcyBnfWZyb21cIi4vc3VyZmFjZUNvb3JkaW5hdGVTeXN0ZW1zLmpzXCI7ZnVuY3Rpb24gZCh0LGUpe2NvbnN0IG89bmV3IGkoe3g6dFswXSx5OnRbMV0sc3BhdGlhbFJlZmVyZW5jZTplfSk7cmV0dXJuIHQubGVuZ3RoPjImJihvLno9dFsyXSksb31mdW5jdGlvbiBSKHQsZSl7cmV0dXJuIG5ldyBzKHtwb2ludHM6dCxzcGF0aWFsUmVmZXJlbmNlOmV9KX1mdW5jdGlvbiBqKHQsZSxvKXtjb25zdCBuPW5ldyBwKHtwYXRoczp0LHNwYXRpYWxSZWZlcmVuY2U6ZX0pO3JldHVybiBvJiZoKG4pLG59ZnVuY3Rpb24gVCh0LG4scixhPSEwKXtjb25zdCBsPW8odCk7bC5mb3JFYWNoKCh0PT57Y29uc3Qgbz10WzBdLG49dFt0Lmxlbmd0aC0xXTtlKG8sbikmJjEhPT10Lmxlbmd0aHx8dC5wdXNoKHRbMF0pfSkpO2xldCBzPW5ldyBjKHtyaW5nczpsLHNwYXRpYWxSZWZlcmVuY2U6bn0pO3JldHVybiBzLnJpbmdzLmZvckVhY2goKHQ9Pnt4KHQpfHx0LnJldmVyc2UoKX0pKSxyJiZoKHMpLGEmJiF1KHMpJiZNKG4pJiYocz1tKHMpfHxzKSxzfWZ1bmN0aW9uIGIoZSxvLG4pe2NvbnN0IHI9by5tYXBUb0xvY2FsTXVsdGlwbGUoZSksYT1bXSxsPXt4OnJbMF0ueCx5OnJbMF0ueX0scz17eDpyWzFdLngseTpyWzFdLnl9LGk9TWF0aC5yb3VuZChzLngtbC54KSxjPU1hdGgucm91bmQocy55LWwueSkscD1NYXRoLm1heChNYXRoLmFicyhpKSxNYXRoLmFicyhjKSk7aWYobil7Y29uc3QgdD17eDpsLngrcCx5OmwueStwfSxlPXt4OmwueC1wLHk6bC55LXB9O2EucHVzaChnKHQueCxlLnkpLGcoZS54LGUueSksZyhlLngsdC55KSxnKHQueCx0LnkpKX1lbHNle2NvbnN0IHQ9e3g6aT4wP2wueCtwOmwueC1wLHk6Yz4wP2wueStwOmwueS1wfTthLnB1c2goZyhsLngsbC55KSxnKHQueCxsLnkpLGcodC54LHQueSksZyhsLngsdC55KSl9cmV0dXJuIFAoVChbYS5tYXAoKHQ9Pm8ubG9jYWxUb01hcCh0KSkpLmZpbHRlcih0KV0sby5zcGF0aWFsUmVmZXJlbmNlLG8uZG9Vbm5vcm1hbGl6YXRpb24sITApLGEsbyl9ZnVuY3Rpb24gVShlLG8sbil7bGV0IHI9by5tYXBUb0xvY2FsTXVsdGlwbGUoZSk7aWYoMT09PXIubGVuZ3RoKXtjb25zdCB0PTQ4LGU9clswXTtyPVtnKGUueC10LGUueSt0KSxnKGUueCt0LGUueS10KSxnKGUueCt0LGUueS10KSxnKGUueC10LGUueSt0KV19Y29uc3QgYT1bXSxsPXt4OnJbMF0ueCx5OnJbMF0ueX0scz17eDpyWzFdLngseTpyWzFdLnl9O2lmKG4pe2NvbnN0IHQ9TWF0aC5yb3VuZChzLngtbC54KSxlPU1hdGgucm91bmQocy55LWwueSk7YS5wdXNoKGcobC54LXQsbC55LWUpLGcocy54LGwueS1lKSxnKHMueCxzLnkpLGcobC54LXQscy55KSl9ZWxzZSBhLnB1c2goZyhsLngsbC55KSxnKHMueCxsLnkpLGcocy54LHMueSksZyhsLngscy55KSk7cmV0dXJuIFAoVChbYS5tYXAoKHQ9Pm8ubG9jYWxUb01hcCh0KSkpLmZpbHRlcih0KV0sby5zcGF0aWFsUmVmZXJlbmNlLG8uZG9Vbm5vcm1hbGl6YXRpb24sITApLGEsbyl9ZnVuY3Rpb24gUCh0LGUsbyl7Y29uc3Qgbj16KGVbM10sZVsyXSxvKSxyPXooZVsxXSxlWzJdLG8pLGE9eihlWzBdLGVbMV0sbyksbD16KGVbMF0sZVszXSxvKTtyZXR1cm57Z2VvbWV0cnk6dCxtaWRwb2ludHM6bnVsbCE9biYmbnVsbCE9ciYmbnVsbCE9YSYmbnVsbCE9bD97dG9wOm4scmlnaHQ6cixib3R0b206YSxsZWZ0Omx9Om51bGx9fWZ1bmN0aW9uIHoodCxlLG8pe0lbMF09dC54LElbMV09dC55LElbMl09MCxMWzBdPWUueCxMWzFdPWUueSxMWzJdPTAscihJLEksTCwuNSksdy54PUlbMF0sdy55PUxbMV0sdy56PUxbMl07Y29uc3Qgbj1vLmxvY2FsVG9NYXAodyk7cmV0dXJuIG51bGwhPW4/ZChuLG8uc3BhdGlhbFJlZmVyZW5jZSk6bnVsbH1jb25zdCB3PWcoMCwwLDApLEk9YSgpLEw9YSgpO2Z1bmN0aW9uIGsodCxlLG8scil7Y29uc3QgYT1lLm1hcFRvTG9jYWxNdWx0aXBsZSh0KTtsZXQgcz1udWxsLGk9bnVsbDtpZihvKXM9YVswXSxpPWFbMV07ZWxzZXtjb25zdCB0PWFbMF0sZT1hWzFdLG89TWF0aC5yb3VuZChlLngtdC54KSxuPU1hdGgucm91bmQoZS55LXQueSkscj1NYXRoLm1heChNYXRoLmFicyhvKSxNYXRoLmFicyhuKSk7cz1nKG8+MD90Lngrci8yOnQueC1yLzIsbj4wP3QueStyLzI6dC55LXIvMiksaT1nKE1hdGguYWJzKG8pPk1hdGguYWJzKG4pP3MueC1yLzI6cy54LE1hdGguYWJzKG8pPk1hdGguYWJzKG4pP3MueTpzLnktci8yKX1jb25zdCBjPWUubG9jYWxUb01hcChzKSxwPWUubG9jYWxUb01hcChpKTtpZihudWxsPT1jfHxudWxsPT1wKXJldHVybiBudWxsO2UuZG9Vbm5vcm1hbGl6YXRpb24mJmYoW1tjLHBdXSxlLnNwYXRpYWxSZWZlcmVuY2UpO2NvbnN0IHU9ZChjLGUuc3BhdGlhbFJlZmVyZW5jZSksbT1kKHAsZS5zcGF0aWFsUmVmZXJlbmNlKSx4PW4oZS5zcGF0aWFsUmVmZXJlbmNlKTtsZXQgaD0wO2lmKE0oZS5zcGF0aWFsUmVmZXJlbmNlKSloPXgqeSh1LG0pO2Vsc2V7Y29uc3QgdD1zLngtaS54LGU9cy55LWkueTtoPXgqTWF0aC5zcXJ0KHQqdCtlKmUpKihyfHwxKX1jb25zdCBSPW5ldyBsKHtjZW50ZXI6dSxyYWRpdXM6aCxyYWRpdXNVbml0OlwibWV0ZXJzXCIsc3BhdGlhbFJlZmVyZW5jZTplLnNwYXRpYWxSZWZlcmVuY2V9KTtyZXR1cm57Z2VvbWV0cnk6VChSLnJpbmdzLFIuc3BhdGlhbFJlZmVyZW5jZSwhMSksY2VudGVyOnUsZWRnZTptfX1mdW5jdGlvbiB2KGUsbyxuKXtjb25zdCByPW8ubWFwVG9Mb2NhbE11bHRpcGxlKGUpLGE9clswXSxsPXJbMV0scz1NYXRoLnJvdW5kKGwueC1hLngpLGk9TWF0aC5yb3VuZChsLnktYS55KSxjPWcobj9hLng6YS54K3MvMixuP2EueTphLnkraS8yKSxwPW4/czpzLzIseT1uP2k6aS8yLHU9NjAsbT1bXSxmPTIqTWF0aC5QSS91O2Z1bmN0aW9uIHgodCl7Y29uc3QgZT1NYXRoLmNvcyh0KSxvPU1hdGguc2luKHQpO3JldHVybiBnKHAqZStjLngseSpvK2MueSl9Zm9yKGxldCB0PTA7dDx1O3QrKyltLnB1c2goeCh0KmYpKTttLnB1c2gobVswXSk7Y29uc3R7c3BhdGlhbFJlZmVyZW5jZTpoLGRvVW5ub3JtYWxpemF0aW9uOk19PW8sUj1UKFttLm1hcCgodD0+by5sb2NhbFRvTWFwKHQpKSkuZmlsdGVyKHQpXSxoLE0sITEpLGo9by5sb2NhbFRvTWFwKHgoTWF0aC5QSS8yKSksYj1vLmxvY2FsVG9NYXAoeCgwKSksVT1vLmxvY2FsVG9NYXAoeCgtTWF0aC5QSS8yKSksUD1vLmxvY2FsVG9NYXAoeChNYXRoLlBJKSk7cmV0dXJue2dlb21ldHJ5OlIsbWlkcG9pbnRzOm51bGwhPWomJm51bGwhPWImJm51bGwhPVUmJm51bGwhPVA/e3RvcDpkKGosaCkscmlnaHQ6ZChiLGgpLGJvdHRvbTpkKFUsaCksbGVmdDpkKFAsaCl9Om51bGx9fWV4cG9ydHtrIGFzIGNyZWF0ZUNpcmNsZSx2IGFzIGNyZWF0ZUVsbGlwc2UsUiBhcyBjcmVhdGVNdWx0aXBvaW50LGQgYXMgY3JlYXRlUG9pbnQsVCBhcyBjcmVhdGVQb2x5Z29uLGogYXMgY3JlYXRlUG9seWxpbmUsVSBhcyBjcmVhdGVSZWN0YW5nbGUsYiBhcyBjcmVhdGVTcXVhcmV9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMzMvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtpc1NvbWUgYXMgdH1mcm9tXCIuLi8uLi8uLi9jb3JlL2FycmF5VXRpbHMuanNcIjtpbXBvcnR7aW52ZXJ0IGFzIHJ9ZnJvbVwiLi4vLi4vLi4vY29yZS9saWJzL2dsLW1hdHJpeC0yL21hdGgvbWF0MmQuanNcIjtpbXBvcnR7Y3JlYXRlIGFzIGUsY2xvbmUgYXMgc31mcm9tXCIuLi8uLi8uLi9jb3JlL2xpYnMvZ2wtbWF0cml4LTIvZmFjdG9yaWVzL21hdDJkZjY0LmpzXCI7aW1wb3J0e3JvdGF0aW9uVG8gYXMgYSxpbnZlcnQgYXMgb31mcm9tXCIuLi8uLi8uLi9jb3JlL2xpYnMvZ2wtbWF0cml4LTIvbWF0aC9xdWF0LmpzXCI7aW1wb3J0e2NyZWF0ZSBhcyBpfWZyb21cIi4uLy4uLy4uL2NvcmUvbGlicy9nbC1tYXRyaXgtMi9mYWN0b3JpZXMvcXVhdGY2NC5qc1wiO2ltcG9ydHtnIGFzIG4sZSBhcyBsLGQgYXMgaCxuIGFzIG0saCBhcyBjLHYgYXMgZn1mcm9tXCIuLi8uLi8uLi9jaHVua3MvdmVjMzIuanNcIjtpbXBvcnR7Y3JlYXRlIGFzIHB9ZnJvbVwiLi4vLi4vLi4vY29yZS9saWJzL2dsLW1hdHJpeC0yL2ZhY3Rvcmllcy92ZWMzZjY0LmpzXCI7aW1wb3J0IGQgZnJvbVwiLi4vLi4vLi4vZ2VvbWV0cnkvUG9pbnQuanNcIjtpbXBvcnR7QXhpcyBhcyB1fWZyb21cIi4uLy4uLy4uL2dlb21ldHJ5L3N1cHBvcnQvQXhpcy5qc1wiO2Z1bmN0aW9uIGcodCxyLGU9bnVsbCl7cmV0dXJuIG51bGwhPWU/W3QscixlXTpbdCxyXX1mdW5jdGlvbiB3KHQscixlPW51bGwpe3JldHVybiBudWxsIT1lP3t4OnQseTpyLHo6ZX06e3g6dCx5OnJ9fWNsYXNzIFJ7Y29uc3RydWN0b3IodCl7dGhpcy5zcGF0aWFsUmVmZXJlbmNlPXR9bWFwVG9Mb2NhbE11bHRpcGxlKHIpe3JldHVybiByLm1hcCgodD0+dGhpcy5tYXBUb0xvY2FsKHQpKSkuZmlsdGVyKHQpfWdldCBkb1Vubm9ybWFsaXphdGlvbigpe3JldHVybiExfX1jbGFzcyB2IGV4dGVuZHMgUntjb25zdHJ1Y3Rvcih0LGEsbz1udWxsKXtzdXBlcihhKSx0aGlzLl9kZWZhdWx0Wj1vLHRoaXMudHJhbnNmb3JtPWUoKSx0aGlzLnRyYW5zZm9ybUludj1lKCksdGhpcy50cmFuc2Zvcm09cyh0KSxyKHRoaXMudHJhbnNmb3JtSW52LHRoaXMudHJhbnNmb3JtKX1tYWtlTWFwUG9pbnQodCxyKXtyZXR1cm4gZyh0LHIsdGhpcy5fZGVmYXVsdFopfW1hcFRvTG9jYWwodCl7cmV0dXJuIHcodGhpcy50cmFuc2Zvcm1bMF0qdFswXSt0aGlzLnRyYW5zZm9ybVsyXSp0WzFdK3RoaXMudHJhbnNmb3JtWzRdLHRoaXMudHJhbnNmb3JtWzFdKnRbMF0rdGhpcy50cmFuc2Zvcm1bM10qdFsxXSt0aGlzLnRyYW5zZm9ybVs1XSl9bG9jYWxUb01hcCh0KXtyZXR1cm4gZyh0aGlzLnRyYW5zZm9ybUludlswXSp0LngrdGhpcy50cmFuc2Zvcm1JbnZbMl0qdC55K3RoaXMudHJhbnNmb3JtSW52WzRdLHRoaXMudHJhbnNmb3JtSW52WzFdKnQueCt0aGlzLnRyYW5zZm9ybUludlszXSp0LnkrdGhpcy50cmFuc2Zvcm1JbnZbNV0sdGhpcy5fZGVmYXVsdFopfX1jbGFzcyBXIGV4dGVuZHMgUntjb25zdHJ1Y3Rvcih0LHIpe3N1cGVyKHQuc3BhdGlhbFJlZmVyZW5jZSksdGhpcy52aWV3PXQsdGhpcy5kZWZhdWx0Wj1udWxsLHRoaXMucFdTPXAoKSx0aGlzLnRhbmdlbnRGcmFtZVVwV1M9cCgpLHRoaXMudGFuZ2VudEZyYW1lUmlnaHRXUz1wKCksdGhpcy50YW5nZW50RnJhbWVGb3J3YXJkV1M9cCgpLHRoaXMubG9jYWxGcmFtZVJpZ2h0V1M9cCgpLHRoaXMubG9jYWxGcmFtZVVwV1M9cCgpLHRoaXMud29ybGRUb0xvY2FsVHJhbnNmb3JtPWkoKSx0aGlzLmxvY2FsVG9Xb3JsZFRyYW5zZm9ybT1pKCksdGhpcy5zY2FsZT0xLHRoaXMuc2NhbGU9dC5yZXNvbHV0aW9uLHRoaXMucmVmZXJlbmNlTWFwUG9pbnQ9cix0aGlzLmRlZmF1bHRaPXIuaGFzWj9yLno6bnVsbDtjb25zdCBlPXQuc3RhdGUuY2FtZXJhLnZpZXdSaWdodDt0aGlzLnZpZXcucmVuZGVyQ29vcmRzSGVscGVyLnRvUmVuZGVyQ29vcmRzKHRoaXMucmVmZXJlbmNlTWFwUG9pbnQsdGhpcy5wV1MpLHRoaXMudmlldy5yZW5kZXJDb29yZHNIZWxwZXIud29ybGRCYXNpc0F0UG9zaXRpb24odGhpcy5wV1MsdS5YLHRoaXMudGFuZ2VudEZyYW1lUmlnaHRXUyksdGhpcy52aWV3LnJlbmRlckNvb3Jkc0hlbHBlci53b3JsZEJhc2lzQXRQb3NpdGlvbih0aGlzLnBXUyx1LlksdGhpcy50YW5nZW50RnJhbWVVcFdTKSx0aGlzLnZpZXcucmVuZGVyQ29vcmRzSGVscGVyLndvcmxkQmFzaXNBdFBvc2l0aW9uKHRoaXMucFdTLHUuWix0aGlzLnRhbmdlbnRGcmFtZUZvcndhcmRXUyk7Y29uc3Qgcz1wKCk7bihzLHRoaXMudGFuZ2VudEZyYW1lRm9yd2FyZFdTLGwoZSx0aGlzLnRhbmdlbnRGcmFtZUZvcndhcmRXUykpLGgodGhpcy5sb2NhbEZyYW1lUmlnaHRXUyxlLHMpLG0odGhpcy5sb2NhbEZyYW1lUmlnaHRXUyx0aGlzLmxvY2FsRnJhbWVSaWdodFdTKSxjKHRoaXMubG9jYWxGcmFtZVVwV1MsdGhpcy50YW5nZW50RnJhbWVGb3J3YXJkV1MsdGhpcy5sb2NhbEZyYW1lUmlnaHRXUyksYSh0aGlzLndvcmxkVG9Mb2NhbFRyYW5zZm9ybSx0aGlzLmxvY2FsRnJhbWVSaWdodFdTLHRoaXMudGFuZ2VudEZyYW1lUmlnaHRXUyksbyh0aGlzLmxvY2FsVG9Xb3JsZFRyYW5zZm9ybSx0aGlzLndvcmxkVG9Mb2NhbFRyYW5zZm9ybSl9Z2V0IGRvVW5ub3JtYWxpemF0aW9uKCl7cmV0dXJuXCJnbG9iYWxcIj09PXRoaXMudmlldy52aWV3aW5nTW9kZX1tYWtlTWFwUG9pbnQodCxyKXtyZXR1cm4gZyh0LHIsdGhpcy5kZWZhdWx0Wil9bWFwVG9Mb2NhbCh0KXtjb25zdCByPXAoKTt0aGlzLnZpZXcucmVuZGVyQ29vcmRzSGVscGVyLnRvUmVuZGVyQ29vcmRzKG5ldyBkKHt4OnRbMF0seTp0WzFdLHNwYXRpYWxSZWZlcmVuY2U6dGhpcy5zcGF0aWFsUmVmZXJlbmNlfSksciksZihyLHIsdGhpcy53b3JsZFRvTG9jYWxUcmFuc2Zvcm0pO2NvbnN0IGU9dGhpcy52aWV3LnJlbmRlckNvb3Jkc0hlbHBlci5mcm9tUmVuZGVyQ29vcmRzKHIsbmV3IGQoe3NwYXRpYWxSZWZlcmVuY2U6dGhpcy52aWV3LnNwYXRpYWxSZWZlcmVuY2V9KSk7cmV0dXJuIG51bGwhPWU/dyhlLngvdGhpcy5zY2FsZSxlLnkvdGhpcy5zY2FsZSk6bnVsbH1sb2NhbFRvTWFwKHQpe2NvbnN0IHI9cCgpO3RoaXMudmlldy5yZW5kZXJDb29yZHNIZWxwZXIudG9SZW5kZXJDb29yZHMobmV3IGQoe3g6dC54KnRoaXMuc2NhbGUseTp0LnkqdGhpcy5zY2FsZSxzcGF0aWFsUmVmZXJlbmNlOnRoaXMuc3BhdGlhbFJlZmVyZW5jZX0pLHIpLGYocixyLHRoaXMubG9jYWxUb1dvcmxkVHJhbnNmb3JtKTtjb25zdCBlPXRoaXMudmlldy5yZW5kZXJDb29yZHNIZWxwZXIuZnJvbVJlbmRlckNvb3JkcyhyLG5ldyBkKHtzcGF0aWFsUmVmZXJlbmNlOnRoaXMudmlldy5zcGF0aWFsUmVmZXJlbmNlfSkpO3JldHVybiBudWxsIT1lP2coZS54LGUueSx0aGlzLmRlZmF1bHRaKTpudWxsfX1mdW5jdGlvbiBGKHQscil7aWYoXCIyZFwiPT09dC50eXBlKXJldHVybiBuZXcgdih0LnN0YXRlLnRyYW5zZm9ybSx0LnNwYXRpYWxSZWZlcmVuY2Usci5sZW5ndGg+Mj9yWzJdOm51bGwpO2lmKFwiM2RcIj09PXQudHlwZSl7Y29uc3QgZT1yLmxlbmd0aD4yP25ldyBkKHt4OnJbMF0seTpyWzFdLHo6clsyXSxzcGF0aWFsUmVmZXJlbmNlOnQuc3BhdGlhbFJlZmVyZW5jZX0pOm5ldyBkKHt4OnJbMF0seTpyWzFdLHNwYXRpYWxSZWZlcmVuY2U6dC5zcGF0aWFsUmVmZXJlbmNlfSk7cmV0dXJuIG5ldyBXKHQsZSl9cmV0dXJuIG51bGx9ZXhwb3J0e3YgYXMgQWZmaW5lQ29vcmRpbmF0ZVN5c3RlbSxXIGFzIFNjZW5lVmlld0Nvb3JkaW5hdGVTeXN0ZW0sUiBhcyBTdXJmYWNlQ29vcmRpbmF0ZVN5c3RlbSxGIGFzIGNyZWF0ZVZpZXdBbGlnbmVkQ29vcmRpbmF0ZVN5c3RlbSxnIGFzIG1ha2VNYXBQb2ludCx3IGFzIG1ha2VTdXJmYWNlUG9pbnR9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMzMvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHt2YWx1ZUluVW5pdCBhcyBlLGNyZWF0ZUFuZ2xlIGFzIG4sY3JlYXRlTGVuZ3RoIGFzIHR9ZnJvbVwiLi4vLi4vLi4vY29yZS9xdWFudGl0eVV0aWxzLmpzXCI7aW1wb3J0e2xlbmd0aFVuaXRGcm9tU3BhdGlhbFJlZmVyZW5jZSBhcyByLHZlcnRpY2FsTGVuZ3RoVW5pdEZyb21TcGF0aWFsUmVmZXJlbmNlIGFzIG99ZnJvbVwiLi4vLi4vLi4vY29yZS91bml0VXRpbHMuanNcIjtpbXBvcnR7ZCBhcyBpLGMgYXMgbCxmIGFzIHV9ZnJvbVwiLi4vLi4vLi4vY2h1bmtzL3ZlYzMyLmpzXCI7aW1wb3J0IHMgZnJvbVwiLi4vLi4vLi4vZ2VvbWV0cnkvU3BhdGlhbFJlZmVyZW5jZS5qc1wiO2ltcG9ydHtwcm9qZWN0VmVjdG9yVG9WZWN0b3IgYXMgY31mcm9tXCIuLi8uLi8uLi9nZW9tZXRyeS9wcm9qZWN0aW9uL3Byb2plY3RWZWN0b3JUb1ZlY3Rvci5qc1wiO2ltcG9ydHtnZW9kZXNpY0NvbXBhdGlibGVTcGF0aWFsUmVmZXJlbmNlIGFzIGF9ZnJvbVwiLi4vLi4vLi4vZ2VvbWV0cnkvc3VwcG9ydC9nZW9kZXNpY1V0aWxzLmpzXCI7aW1wb3J0e21ha2VEZWh5ZHJhdGVkUG9pbnQgYXMgZn1mcm9tXCIuLi8uLi8uLi9sYXllcnMvZ3JhcGhpY3MvZGVoeWRyYXRlZFBvaW50LmpzXCI7aW1wb3J0e2dldENvbnZlcnRlZEVsZXZhdGlvbkZyb21YWVogYXMgbX1mcm9tXCIuLi8uLi8uLi9zdXBwb3J0L2VsZXZhdGlvbkluZm9VdGlscy5qc1wiO2ltcG9ydHtDb29yZGluYXRlQ29uc3RyYWludCBhcyBkLFZlcnRpY2FsQ3lsaW5kZXJDb25zdHJhaW50IGFzIHAsY29uc3RyYWludE9yU2V0IGFzIHYsSG9yaXpvbnRhbFBsYW5lQ29uc3RyYWludCBhcyBnLFZlcnRpY2FsSGFsZlBsYW5lQ29uc3RyYWludCBhcyBSLEdlb2Rlc2ljQ29uc3RyYWludCBhcyB3LFBvaW50Q29uc3RyYWludCBhcyBqfWZyb21cIi4vY29uc3RyYWludHMuanNcIjtpbXBvcnR7Y3JlYXRlV3JpdGFibGUgYXMgeSxmcm9tUG9pbnQgYXMgaCx0b0VsZXZhdGlvbkFsaWduZWREZWh5ZHJhdGVkUG9pbnQgYXMgeH1mcm9tXCIuL25vcm1hbGl6ZWRQb2ludC5qc1wiO2ltcG9ydHtnZXREZWdyZWVzR2VvZ3JhcGhpYyBhcyBTLERpcmVjdGlvbk1vZGUgYXMgSSxkaXJlY3Rpb25CZXR3ZWVuUG9pbnRzIGFzIFUscG9pbnRGcm9tRGlzdGFuY2VBbG9uZ0F6aW11dGggYXMgTX1mcm9tXCIuLi8uLi9zdXBwb3J0L2FuZ3VsYXJNZWFzdXJlbWVudFV0aWxzLmpzXCI7ZnVuY3Rpb24gWihlLG4sdCxyLG8saSl7bGV0IGw9XCJnZW9kZXNpY1wiLHU9YSh0KTtjb25zdCBzPXkoKTtyZXR1cm4gaChlLG4scixzKSxzWzJdPTAsdSYmYyhzLHQscyx1KXx8KGw9XCJldWNsaWRlYW5cIix1PXQpLHttb2RlOmwsdmlldzpuLGVsZXZhdGlvbkluZm86cixoYXNaOm8sZGlyZWN0aW9uTW9kZTppLHNwYXRpYWxSZWZlcmVuY2U6ZS5zcGF0aWFsUmVmZXJlbmNlLG1lYXN1cmVtZW50U1I6dSxvcmlnaW46c319ZnVuY3Rpb24gYihuLHQsbyl7aWYobnVsbD09dHx8bnVsbD09bilyZXR1cm47Y29uc3QgaT1yKG8ubWVhc3VyZW1lbnRTUik7aWYobnVsbD09aSlyZXR1cm47Y29uc3QgbD1HKG4sbyk7aWYobnVsbD09bClyZXR1cm47Y29uc3QgdT1lKHQsaSk7cmV0dXJuIG5ldyBwKGwsdSl9ZnVuY3Rpb24gQShlLHQscixvKXtpZihudWxsPT1yfHxudWxsPT1lKXJldHVybjtjb25zdCBpPUcoZSxvKTtpZihudWxsPT1pKXJldHVybjtjb25zdCBsPVMociksdT0xMCxzPWU9PntpZihudWxsPT1lKXJldHVybjtjb25zdCB0PXkoKSxyPW4oZSxcImRlZ3JlZXNcIixcImdlb2dyYXBoaWNcIik7cmV0dXJuIE0odCxpLG8ubWVhc3VyZW1lbnRTUix1LHIsby5tb2RlKT9uZXcgUihpLHQpOnZvaWQgMH0sYz0oKT0+e2lmKG51bGwhPXQmJm51bGwhPWUpcmV0dXJuIFMoVSh0LGUpKX07c3dpdGNoKG8uZGlyZWN0aW9uTW9kZSl7Y2FzZSBJLkFic29sdXRlOnJldHVybiBzKGwpO2Nhc2UgSS5SZWxhdGl2ZTp7Y29uc3QgZT1jKCk7aWYobnVsbD09ZSlyZXR1cm47cmV0dXJuIHMoZStsKX1jYXNlIEkuUmVsYXRpdmVCaWxhdGVyYWw6e2NvbnN0IGU9YygpO2lmKG51bGw9PWUpcmV0dXJuO3JldHVybiB2KFtzKGUrbCkscyhlLWwpXSl9fX1mdW5jdGlvbiBCKGUsbil7Y29uc3QgdD1DKGUsbik7cmV0dXJuIG51bGwhPXQ/bmV3IGcodCk6dm9pZCAwfWZ1bmN0aW9uIFAoZSxuLHQpe2NvbnN0e2NvbnRleHQ6cixsb25naXR1ZGU6byxsYXRpdHVkZTppLGRpcmVjdGlvbjpsLGRpc3RhbmNlOnUsZWxldmF0aW9uOnN9PXQ7aWYobnVsbCE9b3x8bnVsbCE9aXx8bnVsbCE9dXx8bnVsbCE9c3x8bnVsbCE9bCl7aWYobnVsbCE9b3x8bnVsbCE9aSl7Y29uc3QgZT1TKG8pLG49UyhpKSx0PUMocyxyKTtyZXR1cm4gbmV3IGQoZSxuLHQpfXJldHVybiBUKGUsbix0KX19ZnVuY3Rpb24gVChuLHQse2NvbnRleHQ6cixkaXJlY3Rpb246byxkaXN0YW5jZTppLGVsZXZhdGlvbjpsfSl7aWYobnVsbD09dClyZXR1cm4gQihsLHIpO2NvbnN0e3ZpZXc6dSxlbGV2YXRpb25JbmZvOnMsbWVhc3VyZW1lbnRTUjphfT1yLGY9aCh0LHUscyk7aWYoIWF8fCFjKGYsdC5zcGF0aWFsUmVmZXJlbmNlLEUsYSkpcmV0dXJuO2NvbnN0W20sZF09RSxwPW51bGwhPWk/ZShpLFwibWV0ZXJzXCIpOnZvaWQgMCxnPVMobyksUj1DKGwscikseT1lPT57Y29uc3Qgbj1uZXcgdyhbbSxkXSxhLHAsUixlKTtyZXR1cm4gbnVsbD09cHx8bnVsbD09ZXx8bnVsbD09UiYmci5oYXNaP246bmV3IGoobi5jbG9zZXN0VG8oZikpfTtpZihudWxsPT1nKXJldHVybiB5KHZvaWQgMCk7Y29uc3QgeD0oKT0+e2lmKG51bGwhPW4mJm51bGwhPXQpcmV0dXJuIFMoVShuLHQpKX07c3dpdGNoKHIuZGlyZWN0aW9uTW9kZSl7Y2FzZSBJLkFic29sdXRlOnJldHVybiB5KGcpO2Nhc2UgSS5SZWxhdGl2ZTp7Y29uc3QgZT14KCk7aWYobnVsbD09ZSlyZXR1cm47cmV0dXJuIHkoZStnKX1jYXNlIEkuUmVsYXRpdmVCaWxhdGVyYWw6e2NvbnN0IGU9eCgpO2lmKG51bGw9PWUpcmV0dXJuO3JldHVybiB2KFt5KGUrZykseShlLWcpXSl9fX1mdW5jdGlvbiBWKGUpe3JldHVyblwiZ2VvZGVzaWNcIj09PWUuY29udGV4dC5tb2RlP1AobnVsbCxudWxsLGUpOnEoZSl9ZnVuY3Rpb24gayhlLG4sdCl7Y29uc3R7Y29udGV4dDpyLHg6byx5OmksZGlzdGFuY2U6bCxkaXJlY3Rpb246dSxlbGV2YXRpb246c309dDtyZXR1cm5cImdlb2Rlc2ljXCI9PT1yLm1vZGU/UChuLGUsdCk6bnVsbCE9b3x8bnVsbCE9aT9xKHQpOnooW2IoZSxsLHIpLEEoZSxuLHUsciksQihzLHIpXSl9ZnVuY3Rpb24gcSh7eDplLHk6bixlbGV2YXRpb246dCxjb250ZXh0OnJ9KXtKLng9ZT8udmFsdWU/PzAsSi55PW4/LnZhbHVlPz8wLEouc3BhdGlhbFJlZmVyZW5jZT1yLnNwYXRpYWxSZWZlcmVuY2U7Y29uc3Qgbz1HKEoscixGKTtyZXR1cm4gbmV3IGQobnVsbCE9ZSYmbnVsbCE9bz9vWzBdOnZvaWQgMCxudWxsIT1uJiZudWxsIT1vP29bMV06dm9pZCAwLEModCxyKSl9ZnVuY3Rpb24geihlKXtsZXQgbjtmb3IoY29uc3QgdCBvZiBlKXQmJihuPW4/LmludGVyc2VjdCh0KT8/dCk7cmV0dXJuIG59ZnVuY3Rpb24gRyhlLG4sdD15KCkpe2NvbnN0e3ZpZXc6cixlbGV2YXRpb25JbmZvOm8sbWVhc3VyZW1lbnRTUjpsLG9yaWdpbjp1LG1vZGU6c309bjtpZihoKGUscixvLHQpLGModCxlLnNwYXRpYWxSZWZlcmVuY2UsdCxsKSlyZXR1cm5cImdlb2Rlc2ljXCIhPT1zJiZpKHQsdCx1KSx0fWZ1bmN0aW9uIFcoZSxuLHQscil7Y29uc3R7dmlldzpvLG1lYXN1cmVtZW50U1I6aSxzcGF0aWFsUmVmZXJlbmNlOnMsb3JpZ2luOmEsbW9kZTpmfT10O2lmKFwiZ2VvZGVzaWNcIj09PWY/bChILGUpOnUoSCxlLGEpLGMoSCxpLEgscykpcmV0dXJuIHgoSCxvLG4sdCxyKX1mdW5jdGlvbiBDKGUsbil7cmV0dXJuIEQoZSxuKT8udmFsdWU/P3ZvaWQgMH1mdW5jdGlvbiBEKG4se3ZpZXc6cixvcmlnaW46aSxlbGV2YXRpb25JbmZvOmwsaGFzWjp1LG1lYXN1cmVtZW50U1I6c30pe2lmKG51bGw9PW58fCF1KXJldHVybjtjb25zdCBjPW8ocyk7aWYobnVsbD09YylyZXR1cm47Y29uc3RbYSxmXT1pLGQ9ZShuLGMpLHA9XCIzZFwiPT09cj8udHlwZT9tKHIsYSxmLGQscyxsKTpkO3JldHVybiBudWxsIT1wP3QocCxjKTp2b2lkIDB9Y29uc3QgRT15KCksRj15KCksSD15KCksSj1mKDAsMCwwLHMuV0dTODQpO2V4cG9ydHtXIGFzIGNvbnN0cmFpbnRTcGFjZVRvUG9pbnQsWiBhcyBnZXRDb25zdHJhaW50Q29udGV4dCxQIGFzIGdldEdlb2Rlc2ljQ29uc3RyYWludCxWIGFzIGdldFBvaW50Q29uc3RyYWludCxrIGFzIGdldFBvbHlsaW5lT3JQb2x5Z29uQ29uc3RyYWludCx6IGFzIGludGVyc2VjdEFsbCxHIGFzIHBvaW50VG9Db25zdHJhaW50U3BhY2V9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMzMvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtfIGFzIHR9ZnJvbVwiLi4vLi4vLi4vY2h1bmtzL3RzbGliLmVzNi5qc1wiO2ltcG9ydCBzIGZyb21cIi4uLy4uLy4uL2NvcmUvQWNjZXNzb3IuanNcIjtpbXBvcnR7YWJvcnRNYXliZSBhcyBvLHJlbW92ZU1heWJlIGFzIG59ZnJvbVwiLi4vLi4vLi4vY29yZS9tYXliZS5qc1wiO2ltcG9ydHtkZWJvdW5jZSBhcyBpfWZyb21cIi4uLy4uLy4uL2NvcmUvcHJvbWlzZVV0aWxzLmpzXCI7aW1wb3J0e3Byb3BlcnR5IGFzIHJ9ZnJvbVwiLi4vLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9wcm9wZXJ0eS5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vY29yZS9oYXMuanNcIjtpbXBvcnRcIi4uLy4uLy4uL2NvcmUvTG9nZ2VyLmpzXCI7aW1wb3J0XCIuLi8uLi8uLi9jb3JlL1JhbmRvbUxDRy5qc1wiO2ltcG9ydHtzdWJjbGFzcyBhcyBlfWZyb21cIi4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvc3ViY2xhc3MuanNcIjtpbXBvcnR7SW1tZWRpYXRlVGFzayBhcyBhLFRhc2tQcmlvcml0eSBhcyBsfWZyb21cIi4uLy4uL3N1cHBvcnQvU2NoZWR1bGVyLmpzXCI7bGV0IHA9Y2xhc3MgZXh0ZW5kcyBze2NvbnN0cnVjdG9yKHQpe3N1cGVyKHQpLHRoaXMuY29uc3RyYWluUmVzdWx0PXQ9PnQsdGhpcy5fc25hcFBvaW50cz1udWxsLHRoaXMuX2ZyYW1lVGFzaz1udWxsLHRoaXMuX2Fib3J0Q29udHJvbGxlcj1udWxsLHRoaXMuX3N0YWdlZFBvaW50PW51bGwsdGhpcy5fc25hcD1pKChhc3luYyh0LHMsbyxuKT0+e2NvbnN0IGk9dGhpcy5fZnJhbWVUYXNrO2lmKG51bGw9PWkpcmV0dXJuO2NvbnN0IHI9YXdhaXQgaS5zY2hlZHVsZSgoKCk9PnMuc25hcCh7Li4udCxjb250ZXh0Om8sc2lnbmFsOm59KSksbik7ci52YWxpZCYmYXdhaXQgaS5zY2hlZHVsZSgoKCk9Pnt0aGlzLnN0YWdlZFBvaW50PXIuYXBwbHkoKSx0IT09dGhpcy5fc25hcFBvaW50cyYmbnVsbCE9dGhpcy5fc25hcFBvaW50cyYmKHRoaXMuc3RhZ2VkUG9pbnQ9cy51cGRhdGUoey4uLnRoaXMuX3NuYXBQb2ludHMsY29udGV4dDpvfSkpfSksbil9KSl9Z2V0IHN0YWdlZFBvaW50KCl7cmV0dXJuIHRoaXMuX3N0YWdlZFBvaW50fXNldCBzdGFnZWRQb2ludCh0KXt0aGlzLl9zdGFnZWRQb2ludD10aGlzLmNvbnN0cmFpblJlc3VsdCh0KX1pbml0aWFsaXplKCl7Y29uc3QgdD1cIjNkXCI9PT10aGlzLnZpZXcudHlwZT90aGlzLnZpZXc/LnJlc291cmNlQ29udHJvbGxlcj8uc2NoZWR1bGVyOm51bGw7dGhpcy5fZnJhbWVUYXNrPW51bGwhPXQ/dC5yZWdpc3RlclRhc2sobC5TTkFQUElORyk6YX1kZXN0cm95KCl7dGhpcy5fYWJvcnRDb250cm9sbGVyPW8odGhpcy5fYWJvcnRDb250cm9sbGVyKSx0aGlzLl9mcmFtZVRhc2s9bih0aGlzLl9mcmFtZVRhc2spfXVwZGF0ZSh0LHMsbyl7dGhpcy5fc25hcFBvaW50cz10O2NvbnN0e3BvaW50Om4sc2NlbmVQb2ludDppfT10LHI9cy51cGRhdGUoe3BvaW50Om4sc2NlbmVQb2ludDppLGNvbnRleHQ6b30pO3JldHVybiB0aGlzLnN0YWdlZFBvaW50PXIscn1hc3luYyBzbmFwKHQscyxvKXtjb25zdHtwb2ludDpuLHNjZW5lUG9pbnQ6aX09dDtyZXR1cm4gdGhpcy5zdGFnZWRQb2ludD1zLnVwZGF0ZSh7cG9pbnQ6bixzY2VuZVBvaW50OmksY29udGV4dDpvfSksdGhpcy5fc25hcFBvaW50cz10LG51bGw9PXRoaXMuX2Fib3J0Q29udHJvbGxlciYmKHRoaXMuX2Fib3J0Q29udHJvbGxlcj1uZXcgQWJvcnRDb250cm9sbGVyKSx0aGlzLl9zbmFwKHQscyxvLHRoaXMuX2Fib3J0Q29udHJvbGxlci5zaWduYWwpfWFzeW5jIHNuYXBBZ2Fpbk5lYXJQcmV2aW91c01hcFBvaW50KHQscyl7bnVsbCE9dGhpcy5fc25hcFBvaW50cyYmYXdhaXQgdGhpcy5zbmFwKHRoaXMuX3NuYXBQb2ludHMsdCxzKX1hYm9ydCgpe3RoaXMuX2Fib3J0Q29udHJvbGxlcj1vKHRoaXMuX2Fib3J0Q29udHJvbGxlciksdGhpcy5fc25hcFBvaW50cz1udWxsfX07dChbcih7Y29uc3RydWN0T25seTohMH0pXSxwLnByb3RvdHlwZSxcInZpZXdcIix2b2lkIDApLHQoW3IoKV0scC5wcm90b3R5cGUsXCJzdGFnZWRQb2ludFwiLG51bGwpLHQoW3IoKV0scC5wcm90b3R5cGUsXCJjb25zdHJhaW5SZXN1bHRcIix2b2lkIDApLHQoW3IoKV0scC5wcm90b3R5cGUsXCJfc3RhZ2VkUG9pbnRcIix2b2lkIDApLHA9dChbZShcImVzcmkudmlld3MuaW50ZXJhY3RpdmUuc25hcHBpbmcuU25hcHBpbmdPcGVyYXRpb25cIildLHApO2V4cG9ydHtwIGFzIFNuYXBwaW5nT3BlcmF0aW9ufTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==