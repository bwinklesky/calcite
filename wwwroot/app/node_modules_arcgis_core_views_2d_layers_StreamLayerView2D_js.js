export const __webpack_id__ = "node_modules_arcgis_core_views_2d_layers_StreamLayerView2D_js";
export const __webpack_ids__ = ["node_modules_arcgis_core_views_2d_layers_StreamLayerView2D_js"];
export const __webpack_modules__ = {

/***/ "./node_modules/@arcgis/core/views/2d/layers/StreamLayerView2D.js":
/*!************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/StreamLayerView2D.js ***!
  \************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ d)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_handleUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/handleUtils.js */ "./node_modules/@arcgis/core/core/handleUtils.js");
/* harmony import */ var _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/reactiveUtils.js */ "./node_modules/@arcgis/core/core/reactiveUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_RandomLCG_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../core/RandomLCG.js */ "./node_modules/@arcgis/core/core/RandomLCG.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _rest_support_FeatureSet_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../rest/support/FeatureSet.js */ "./node_modules/@arcgis/core/rest/support/FeatureSet.js");
/* harmony import */ var _support_guards_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../support/guards.js */ "./node_modules/@arcgis/core/support/guards.js");
/* harmony import */ var _FeatureLayerView2D_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./FeatureLayerView2D.js */ "./node_modules/@arcgis/core/views/2d/layers/FeatureLayerView2D.js");
/* harmony import */ var _support_handleNoEngineError_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./support/handleNoEngineError.js */ "./node_modules/@arcgis/core/views/2d/layers/support/handleNoEngineError.js");
/* harmony import */ var _layers_StreamLayerView_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../layers/StreamLayerView.js */ "./node_modules/@arcgis/core/views/layers/StreamLayerView.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
let p=class extends((0,_layers_StreamLayerView_js__WEBPACK_IMPORTED_MODULE_13__["default"])(_FeatureLayerView2D_js__WEBPACK_IMPORTED_MODULE_11__["default"])){constructor(){super(...arguments),this.pipelineConnectionStatus="disconnected",this.pipelineErrorString=null}initialize(){this.addHandles([(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__.watch)((()=>this.layer.customParameters),(async e=>{(await this.getWorker()).streamMessenger.updateCustomParameters(e)})),this.layer.on("send-message-to-socket",(async e=>{(await this.getWorker()).streamMessenger.sendMessageToSocket(e)})),this.layer.on("send-message-to-client",(async e=>{(await this.getWorker()).streamMessenger.sendMessageToClient(e),this._isUserPaused&&"type"in e&&"clear"===e.type&&this.incrementSourceRefreshVersion()})),(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__.watch)((()=>this.layer.purgeOptions),(()=>this._update())),(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__.watch)((()=>this.suspended),this._onSuspendedChange.bind(this))],"constructor"),this._doResume()}destroy(){this._doPause()}get connectionError(){return this.pipelineErrorString?new _core_Error_js__WEBPACK_IMPORTED_MODULE_1__["default"]("stream-controller",this.pipelineErrorString):null}on(e,r){if(Array.isArray(e))return (0,_core_handleUtils_js__WEBPACK_IMPORTED_MODULE_2__.handlesGroup)(e.map((e=>this.on(e,r))));const n=["data-received","message-received"].includes(e);n&&this.getWorker().then((r=>r.streamMessenger.enableEvent(e,!0)));const o=super.on(e,r),i=this;return (0,_core_handleUtils_js__WEBPACK_IMPORTED_MODULE_2__.makeHandle)((()=>{o.remove(),n&&(i._workerProxy.closed||i.hasEventListener(e)||i.getWorker().then((r=>r.streamMessenger.enableEvent(e,!1))))}))}async queryLatestObservations(e,t){if(!(this.layer.timeInfo?.endField||this.layer.timeInfo?.startField||this.layer.timeInfo?.trackIdField))throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_1__["default"]("streamlayer-no-timeField","queryLatestObservation can only be used with services that define a TrackIdField");const s=await this.getWorker();return (0,_support_handleNoEngineError_js__WEBPACK_IMPORTED_MODULE_12__.handleNoEngineError)(s.features.executeQueryForLatestObservations(this._cleanUpQuery(e),t).then((e=>{const r=_rest_support_FeatureSet_js__WEBPACK_IMPORTED_MODULE_9__["default"].fromJSON(e);return r.features.forEach((e=>{e.layer=this.layer,e.sourceLayer=this.layer})),r})),new _rest_support_FeatureSet_js__WEBPACK_IMPORTED_MODULE_9__["default"]({features:[]}))}detach(){super.detach(),this.pipelineConnectionStatus="disconnected"}async queryObjectIds(e,r){return(await super.queryObjectIds(e,r)).filter(_support_guards_js__WEBPACK_IMPORTED_MODULE_10__.isNumber)}get _streamConnectionStatus(){return this.pipelineConnectionStatus}_doPause(){null!=this._refreshInterval&&(clearInterval(this._refreshInterval),this._refreshInterval=null)}_doResume(){null==this._refreshInterval&&(this._refreshInterval=setInterval((()=>this.incrementSourceRefreshVersion()),this.layer.updateInterval))}_doDisconnect(){this.getWorker().then((e=>e.streamMessenger.disconnect())),this._doPause()}_doConnect(){this.getWorker().then((e=>e.streamMessenger.connect())),this.resume()}_doClear(){this.getWorker().then((e=>e.streamMessenger.clear())),null==this._refreshInterval&&this.incrementSourceRefreshVersion()}_createClientOptions(){const e=super._createClientOptions(),r=this;return{...e,get container(){return r.featureContainer},setProperty:e=>{this.set(e.propertyName,e.value)}}}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],p.prototype,"pipelineConnectionStatus",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],p.prototype,"pipelineErrorString",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)({readOnly:!0})],p.prototype,"connectionError",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)({readOnly:!0})],p.prototype,"_streamConnectionStatus",null),p=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_8__.subclass)("esri.views.2d.layers.StreamLayerView2D")],p);const d=p;


/***/ }),

/***/ "./node_modules/@arcgis/core/views/layers/StreamLayerView.js":
/*!*******************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/layers/StreamLayerView.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ r)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_RandomLCG_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../core/RandomLCG.js */ "./node_modules/@arcgis/core/core/RandomLCG.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _layers_support_FeatureFilter_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../layers/support/FeatureFilter.js */ "./node_modules/@arcgis/core/layers/support/FeatureFilter.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
const r=r=>{let i=class extends r{resume(){this._isUserPaused=!1,this.suspended||this._doResume()}pause(){this._isUserPaused=!0,this.suspended||this._doPause()}disconnect(){this._doDisconnect()}connect(){this._doConnect()}clear(){this._doClear()}constructor(...s){super(...s),this._isUserPaused=!1,this.filter=null}get connectionStatus(){return(this._isUserPaused||this.suspended)&&"connected"===this._streamConnectionStatus?"paused":this._streamConnectionStatus}_onSuspendedChange(s){s?this._doPause():this._isUserPaused||this._doResume()}};return (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_1__.property)()],i.prototype,"_isUserPaused",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_1__.property)({readOnly:!0})],i.prototype,"connectionStatus",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_1__.property)({type:_layers_support_FeatureFilter_js__WEBPACK_IMPORTED_MODULE_6__["default"]})],i.prototype,"filter",void 0),i=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_5__.subclass)("esri.views.layers.StreamLayerView")],i),i};


/***/ })

};

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibm9kZV9tb2R1bGVzX2FyY2dpc19jb3JlX3ZpZXdzXzJkX2xheWVyc19TdHJlYW1MYXllclZpZXcyRF9qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDZ3VCLG9CQUFvQix1RUFBQyxDQUFDLCtEQUFDLEdBQUcsY0FBYywrRkFBK0YsYUFBYSxpQkFBaUIsNkRBQUMsOENBQThDLG1FQUFtRSxxREFBcUQsZ0VBQWdFLHFEQUFxRCx1SkFBdUosR0FBRyw2REFBQyxxREFBcUQsNkRBQUMsMkZBQTJGLFVBQVUsZ0JBQWdCLHNCQUFzQixvQ0FBb0Msc0RBQUMsb0RBQW9ELFFBQVEsMkJBQTJCLGtFQUFDLDJCQUEyQix5REFBeUQsbUVBQW1FLDZCQUE2QixPQUFPLGdFQUFDLE9BQU8sMkhBQTJILEdBQUcsbUNBQW1DLGtIQUFrSCxzREFBQyxnSEFBZ0gsK0JBQStCLE9BQU8scUZBQUMsaUZBQWlGLFFBQVEsbUVBQUMsYUFBYSwrQkFBK0IsNENBQTRDLEtBQUssT0FBTyxtRUFBQyxFQUFFLFlBQVksR0FBRyxTQUFTLDREQUE0RCwwQkFBMEIsK0NBQStDLHlEQUFDLEVBQUUsOEJBQThCLHFDQUFxQyxXQUFXLCtGQUErRixZQUFZLHVJQUF1SSxnQkFBZ0IsMkVBQTJFLGFBQWEsc0VBQXNFLFdBQVcsd0hBQXdILHVCQUF1Qiw0Q0FBNEMsT0FBTyxxQkFBcUIsMEJBQTBCLGlCQUFpQixxQ0FBcUMsdURBQUMsRUFBRSxzRkFBQyxtREFBbUQsdURBQUMsRUFBRSxzRkFBQyw4Q0FBOEMsdURBQUMsRUFBRSxzRkFBQyxFQUFFLFlBQVksdUNBQXVDLHVEQUFDLEVBQUUsc0ZBQUMsRUFBRSxZQUFZLGlEQUFpRCx1REFBQyxFQUFFLHNGQUFDLCtDQUErQyxVQUErQjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ0pocUg7QUFDQTtBQUNBO0FBQ0E7QUFDb1YsWUFBWSxzQkFBc0IsU0FBUyx1REFBdUQsUUFBUSxzREFBc0QsYUFBYSxxQkFBcUIsVUFBVSxrQkFBa0IsUUFBUSxnQkFBZ0Isa0JBQWtCLG1EQUFtRCx1QkFBdUIsNkhBQTZILHNCQUFzQix5REFBeUQsT0FBTyx1REFBQyxFQUFFLHNGQUFDLHdDQUF3Qyx1REFBQyxFQUFFLHNGQUFDLEVBQUUsWUFBWSx3Q0FBd0MsdURBQUMsRUFBRSxzRkFBQyxFQUFFLEtBQUssd0VBQUMsQ0FBQyxrQ0FBa0MsdURBQUMsRUFBRSxzRkFBQyw2Q0FBa0UiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wcmVjaXNpb25mYXJtcy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvMmQvbGF5ZXJzL1N0cmVhbUxheWVyVmlldzJELmpzIiwid2VicGFjazovL3ByZWNpc2lvbmZhcm1zLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy9sYXllcnMvU3RyZWFtTGF5ZXJWaWV3LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjMzL2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7XyBhcyBlfWZyb21cIi4uLy4uLy4uL2NodW5rcy90c2xpYi5lczYuanNcIjtpbXBvcnQgciBmcm9tXCIuLi8uLi8uLi9jb3JlL0Vycm9yLmpzXCI7aW1wb3J0e2hhbmRsZXNHcm91cCBhcyB0LG1ha2VIYW5kbGUgYXMgc31mcm9tXCIuLi8uLi8uLi9jb3JlL2hhbmRsZVV0aWxzLmpzXCI7aW1wb3J0e3dhdGNoIGFzIG59ZnJvbVwiLi4vLi4vLi4vY29yZS9yZWFjdGl2ZVV0aWxzLmpzXCI7aW1wb3J0e3Byb3BlcnR5IGFzIG99ZnJvbVwiLi4vLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9wcm9wZXJ0eS5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vY29yZS9oYXMuanNcIjtpbXBvcnRcIi4uLy4uLy4uL2NvcmUvTG9nZ2VyLmpzXCI7aW1wb3J0XCIuLi8uLi8uLi9jb3JlL1JhbmRvbUxDRy5qc1wiO2ltcG9ydHtzdWJjbGFzcyBhcyBpfWZyb21cIi4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvc3ViY2xhc3MuanNcIjtpbXBvcnQgYSBmcm9tXCIuLi8uLi8uLi9yZXN0L3N1cHBvcnQvRmVhdHVyZVNldC5qc1wiO2ltcG9ydHtpc051bWJlciBhcyBjfWZyb21cIi4uLy4uLy4uL3N1cHBvcnQvZ3VhcmRzLmpzXCI7aW1wb3J0IGwgZnJvbVwiLi9GZWF0dXJlTGF5ZXJWaWV3MkQuanNcIjtpbXBvcnR7aGFuZGxlTm9FbmdpbmVFcnJvciBhcyBofWZyb21cIi4vc3VwcG9ydC9oYW5kbGVOb0VuZ2luZUVycm9yLmpzXCI7aW1wb3J0IHUgZnJvbVwiLi4vLi4vbGF5ZXJzL1N0cmVhbUxheWVyVmlldy5qc1wiO2xldCBwPWNsYXNzIGV4dGVuZHModShsKSl7Y29uc3RydWN0b3IoKXtzdXBlciguLi5hcmd1bWVudHMpLHRoaXMucGlwZWxpbmVDb25uZWN0aW9uU3RhdHVzPVwiZGlzY29ubmVjdGVkXCIsdGhpcy5waXBlbGluZUVycm9yU3RyaW5nPW51bGx9aW5pdGlhbGl6ZSgpe3RoaXMuYWRkSGFuZGxlcyhbbigoKCk9PnRoaXMubGF5ZXIuY3VzdG9tUGFyYW1ldGVycyksKGFzeW5jIGU9PnsoYXdhaXQgdGhpcy5nZXRXb3JrZXIoKSkuc3RyZWFtTWVzc2VuZ2VyLnVwZGF0ZUN1c3RvbVBhcmFtZXRlcnMoZSl9KSksdGhpcy5sYXllci5vbihcInNlbmQtbWVzc2FnZS10by1zb2NrZXRcIiwoYXN5bmMgZT0+eyhhd2FpdCB0aGlzLmdldFdvcmtlcigpKS5zdHJlYW1NZXNzZW5nZXIuc2VuZE1lc3NhZ2VUb1NvY2tldChlKX0pKSx0aGlzLmxheWVyLm9uKFwic2VuZC1tZXNzYWdlLXRvLWNsaWVudFwiLChhc3luYyBlPT57KGF3YWl0IHRoaXMuZ2V0V29ya2VyKCkpLnN0cmVhbU1lc3Nlbmdlci5zZW5kTWVzc2FnZVRvQ2xpZW50KGUpLHRoaXMuX2lzVXNlclBhdXNlZCYmXCJ0eXBlXCJpbiBlJiZcImNsZWFyXCI9PT1lLnR5cGUmJnRoaXMuaW5jcmVtZW50U291cmNlUmVmcmVzaFZlcnNpb24oKX0pKSxuKCgoKT0+dGhpcy5sYXllci5wdXJnZU9wdGlvbnMpLCgoKT0+dGhpcy5fdXBkYXRlKCkpKSxuKCgoKT0+dGhpcy5zdXNwZW5kZWQpLHRoaXMuX29uU3VzcGVuZGVkQ2hhbmdlLmJpbmQodGhpcykpXSxcImNvbnN0cnVjdG9yXCIpLHRoaXMuX2RvUmVzdW1lKCl9ZGVzdHJveSgpe3RoaXMuX2RvUGF1c2UoKX1nZXQgY29ubmVjdGlvbkVycm9yKCl7cmV0dXJuIHRoaXMucGlwZWxpbmVFcnJvclN0cmluZz9uZXcgcihcInN0cmVhbS1jb250cm9sbGVyXCIsdGhpcy5waXBlbGluZUVycm9yU3RyaW5nKTpudWxsfW9uKGUscil7aWYoQXJyYXkuaXNBcnJheShlKSlyZXR1cm4gdChlLm1hcCgoZT0+dGhpcy5vbihlLHIpKSkpO2NvbnN0IG49W1wiZGF0YS1yZWNlaXZlZFwiLFwibWVzc2FnZS1yZWNlaXZlZFwiXS5pbmNsdWRlcyhlKTtuJiZ0aGlzLmdldFdvcmtlcigpLnRoZW4oKHI9PnIuc3RyZWFtTWVzc2VuZ2VyLmVuYWJsZUV2ZW50KGUsITApKSk7Y29uc3Qgbz1zdXBlci5vbihlLHIpLGk9dGhpcztyZXR1cm4gcygoKCk9PntvLnJlbW92ZSgpLG4mJihpLl93b3JrZXJQcm94eS5jbG9zZWR8fGkuaGFzRXZlbnRMaXN0ZW5lcihlKXx8aS5nZXRXb3JrZXIoKS50aGVuKChyPT5yLnN0cmVhbU1lc3Nlbmdlci5lbmFibGVFdmVudChlLCExKSkpKX0pKX1hc3luYyBxdWVyeUxhdGVzdE9ic2VydmF0aW9ucyhlLHQpe2lmKCEodGhpcy5sYXllci50aW1lSW5mbz8uZW5kRmllbGR8fHRoaXMubGF5ZXIudGltZUluZm8/LnN0YXJ0RmllbGR8fHRoaXMubGF5ZXIudGltZUluZm8/LnRyYWNrSWRGaWVsZCkpdGhyb3cgbmV3IHIoXCJzdHJlYW1sYXllci1uby10aW1lRmllbGRcIixcInF1ZXJ5TGF0ZXN0T2JzZXJ2YXRpb24gY2FuIG9ubHkgYmUgdXNlZCB3aXRoIHNlcnZpY2VzIHRoYXQgZGVmaW5lIGEgVHJhY2tJZEZpZWxkXCIpO2NvbnN0IHM9YXdhaXQgdGhpcy5nZXRXb3JrZXIoKTtyZXR1cm4gaChzLmZlYXR1cmVzLmV4ZWN1dGVRdWVyeUZvckxhdGVzdE9ic2VydmF0aW9ucyh0aGlzLl9jbGVhblVwUXVlcnkoZSksdCkudGhlbigoZT0+e2NvbnN0IHI9YS5mcm9tSlNPTihlKTtyZXR1cm4gci5mZWF0dXJlcy5mb3JFYWNoKChlPT57ZS5sYXllcj10aGlzLmxheWVyLGUuc291cmNlTGF5ZXI9dGhpcy5sYXllcn0pKSxyfSkpLG5ldyBhKHtmZWF0dXJlczpbXX0pKX1kZXRhY2goKXtzdXBlci5kZXRhY2goKSx0aGlzLnBpcGVsaW5lQ29ubmVjdGlvblN0YXR1cz1cImRpc2Nvbm5lY3RlZFwifWFzeW5jIHF1ZXJ5T2JqZWN0SWRzKGUscil7cmV0dXJuKGF3YWl0IHN1cGVyLnF1ZXJ5T2JqZWN0SWRzKGUscikpLmZpbHRlcihjKX1nZXQgX3N0cmVhbUNvbm5lY3Rpb25TdGF0dXMoKXtyZXR1cm4gdGhpcy5waXBlbGluZUNvbm5lY3Rpb25TdGF0dXN9X2RvUGF1c2UoKXtudWxsIT10aGlzLl9yZWZyZXNoSW50ZXJ2YWwmJihjbGVhckludGVydmFsKHRoaXMuX3JlZnJlc2hJbnRlcnZhbCksdGhpcy5fcmVmcmVzaEludGVydmFsPW51bGwpfV9kb1Jlc3VtZSgpe251bGw9PXRoaXMuX3JlZnJlc2hJbnRlcnZhbCYmKHRoaXMuX3JlZnJlc2hJbnRlcnZhbD1zZXRJbnRlcnZhbCgoKCk9PnRoaXMuaW5jcmVtZW50U291cmNlUmVmcmVzaFZlcnNpb24oKSksdGhpcy5sYXllci51cGRhdGVJbnRlcnZhbCkpfV9kb0Rpc2Nvbm5lY3QoKXt0aGlzLmdldFdvcmtlcigpLnRoZW4oKGU9PmUuc3RyZWFtTWVzc2VuZ2VyLmRpc2Nvbm5lY3QoKSkpLHRoaXMuX2RvUGF1c2UoKX1fZG9Db25uZWN0KCl7dGhpcy5nZXRXb3JrZXIoKS50aGVuKChlPT5lLnN0cmVhbU1lc3Nlbmdlci5jb25uZWN0KCkpKSx0aGlzLnJlc3VtZSgpfV9kb0NsZWFyKCl7dGhpcy5nZXRXb3JrZXIoKS50aGVuKChlPT5lLnN0cmVhbU1lc3Nlbmdlci5jbGVhcigpKSksbnVsbD09dGhpcy5fcmVmcmVzaEludGVydmFsJiZ0aGlzLmluY3JlbWVudFNvdXJjZVJlZnJlc2hWZXJzaW9uKCl9X2NyZWF0ZUNsaWVudE9wdGlvbnMoKXtjb25zdCBlPXN1cGVyLl9jcmVhdGVDbGllbnRPcHRpb25zKCkscj10aGlzO3JldHVybnsuLi5lLGdldCBjb250YWluZXIoKXtyZXR1cm4gci5mZWF0dXJlQ29udGFpbmVyfSxzZXRQcm9wZXJ0eTplPT57dGhpcy5zZXQoZS5wcm9wZXJ0eU5hbWUsZS52YWx1ZSl9fX19O2UoW28oKV0scC5wcm90b3R5cGUsXCJwaXBlbGluZUNvbm5lY3Rpb25TdGF0dXNcIix2b2lkIDApLGUoW28oKV0scC5wcm90b3R5cGUsXCJwaXBlbGluZUVycm9yU3RyaW5nXCIsdm9pZCAwKSxlKFtvKHtyZWFkT25seTohMH0pXSxwLnByb3RvdHlwZSxcImNvbm5lY3Rpb25FcnJvclwiLG51bGwpLGUoW28oe3JlYWRPbmx5OiEwfSldLHAucHJvdG90eXBlLFwiX3N0cmVhbUNvbm5lY3Rpb25TdGF0dXNcIixudWxsKSxwPWUoW2koXCJlc3JpLnZpZXdzLjJkLmxheWVycy5TdHJlYW1MYXllclZpZXcyRFwiKV0scCk7Y29uc3QgZD1wO2V4cG9ydHtkIGFzIGRlZmF1bHR9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMzMvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtfIGFzIHN9ZnJvbVwiLi4vLi4vY2h1bmtzL3RzbGliLmVzNi5qc1wiO2ltcG9ydHtwcm9wZXJ0eSBhcyBlfWZyb21cIi4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvcHJvcGVydHkuanNcIjtpbXBvcnRcIi4uLy4uL2NvcmUvaGFzLmpzXCI7aW1wb3J0XCIuLi8uLi9jb3JlL0xvZ2dlci5qc1wiO2ltcG9ydFwiLi4vLi4vY29yZS9SYW5kb21MQ0cuanNcIjtpbXBvcnR7c3ViY2xhc3MgYXMgdH1mcm9tXCIuLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3N1YmNsYXNzLmpzXCI7aW1wb3J0IG8gZnJvbVwiLi4vLi4vbGF5ZXJzL3N1cHBvcnQvRmVhdHVyZUZpbHRlci5qc1wiO2NvbnN0IHI9cj0+e2xldCBpPWNsYXNzIGV4dGVuZHMgcntyZXN1bWUoKXt0aGlzLl9pc1VzZXJQYXVzZWQ9ITEsdGhpcy5zdXNwZW5kZWR8fHRoaXMuX2RvUmVzdW1lKCl9cGF1c2UoKXt0aGlzLl9pc1VzZXJQYXVzZWQ9ITAsdGhpcy5zdXNwZW5kZWR8fHRoaXMuX2RvUGF1c2UoKX1kaXNjb25uZWN0KCl7dGhpcy5fZG9EaXNjb25uZWN0KCl9Y29ubmVjdCgpe3RoaXMuX2RvQ29ubmVjdCgpfWNsZWFyKCl7dGhpcy5fZG9DbGVhcigpfWNvbnN0cnVjdG9yKC4uLnMpe3N1cGVyKC4uLnMpLHRoaXMuX2lzVXNlclBhdXNlZD0hMSx0aGlzLmZpbHRlcj1udWxsfWdldCBjb25uZWN0aW9uU3RhdHVzKCl7cmV0dXJuKHRoaXMuX2lzVXNlclBhdXNlZHx8dGhpcy5zdXNwZW5kZWQpJiZcImNvbm5lY3RlZFwiPT09dGhpcy5fc3RyZWFtQ29ubmVjdGlvblN0YXR1cz9cInBhdXNlZFwiOnRoaXMuX3N0cmVhbUNvbm5lY3Rpb25TdGF0dXN9X29uU3VzcGVuZGVkQ2hhbmdlKHMpe3M/dGhpcy5fZG9QYXVzZSgpOnRoaXMuX2lzVXNlclBhdXNlZHx8dGhpcy5fZG9SZXN1bWUoKX19O3JldHVybiBzKFtlKCldLGkucHJvdG90eXBlLFwiX2lzVXNlclBhdXNlZFwiLHZvaWQgMCkscyhbZSh7cmVhZE9ubHk6ITB9KV0saS5wcm90b3R5cGUsXCJjb25uZWN0aW9uU3RhdHVzXCIsbnVsbCkscyhbZSh7dHlwZTpvfSldLGkucHJvdG90eXBlLFwiZmlsdGVyXCIsdm9pZCAwKSxpPXMoW3QoXCJlc3JpLnZpZXdzLmxheWVycy5TdHJlYW1MYXllclZpZXdcIildLGkpLGl9O2V4cG9ydHtyIGFzIGRlZmF1bHR9O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9