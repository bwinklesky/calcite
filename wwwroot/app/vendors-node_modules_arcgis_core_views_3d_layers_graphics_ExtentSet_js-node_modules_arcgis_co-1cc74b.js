export const __webpack_id__ = "vendors-node_modules_arcgis_core_views_3d_layers_graphics_ExtentSet_js-node_modules_arcgis_co-1cc74b";
export const __webpack_ids__ = ["vendors-node_modules_arcgis_core_views_3d_layers_graphics_ExtentSet_js-node_modules_arcgis_co-1cc74b"];
export const __webpack_modules__ = {

/***/ "./node_modules/@arcgis/core/chunks/quickselect.js":
/*!*********************************************************!*\
  !*** ./node_modules/@arcgis/core/chunks/quickselect.js ***!
  \*********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   q: () => (/* binding */ t)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
function t(t,r,f,n,h){o(t,r,f||0,n||t.length-1,h||a)}function o(t,a,f,n,h){for(;n>f;){if(n-f>600){var M=n-f+1,i=a-f+1,u=Math.log(M),c=.5*Math.exp(2*u/3),e=.5*Math.sqrt(u*c*(M-c)/M)*(i-M/2<0?-1:1);o(t,a,Math.max(f,Math.floor(a-i*c/M+e)),Math.min(n,Math.floor(a+(M-i)*c/M+e)),h)}var l=t[a],v=f,x=n;for(r(t,f,a),h(t[n],l)>0&&r(t,f,n);v<x;){for(r(t,v,x),v++,x--;h(t[v],l)<0;)v++;for(;h(t[x],l)>0;)x--}0===h(t[f],l)?r(t,f,x):r(t,++x,n),x<=a&&(f=x+1),a<=x&&(n=x-1)}}function r(t,o,r){var a=t[o];t[o]=t[r],t[r]=a}function a(t,o){return t<o?-1:t>o?1:0}


/***/ }),

/***/ "./node_modules/@arcgis/core/core/libs/rbush/PooledRBush.js":
/*!******************************************************************!*\
  !*** ./node_modules/@arcgis/core/core/libs/rbush/PooledRBush.js ***!
  \******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   BBox: () => (/* binding */ E),
/* harmony export */   PooledRBush: () => (/* binding */ s)
/* harmony export */ });
/* harmony import */ var _arrayUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _compilerUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../compilerUtils.js */ "./node_modules/@arcgis/core/core/compilerUtils.js");
/* harmony import */ var _has_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _PooledArray_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../PooledArray.js */ "./node_modules/@arcgis/core/core/PooledArray.js");
/* harmony import */ var _chunks_quickselect_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../chunks/quickselect.js */ "./node_modules/@arcgis/core/chunks/quickselect.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
class s{constructor(t=9,i){this._compareMinX=u,this._compareMinY=d,this._toBBox=t=>t,this._maxEntries=Math.max(4,t||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),i&&("function"==typeof i?this._toBBox=i:this._initFormat(i)),this.clear()}destroy(){this.clear(),Y.prune(),B.prune(),w.prune(),j.prune()}all(t){r(this._data,t)}search(t,i){let n=this._data;const e=this._toBBox;if(M(t,n))for(Y.clear();n;){for(let h=0,s=n.children.length;h<s;h++){const s=n.children[h],a=n.leaf?e(s):s;M(t,a)&&(n.leaf?i(s):g(t,a)?r(s,i):Y.push(s))}n=Y.pop()}}collides(t){let i=this._data;const n=this._toBBox;if(!M(t,i))return!1;for(Y.clear();i;){for(let e=0,h=i.children.length;e<h;e++){const h=i.children[e],s=i.leaf?n(h):h;if(M(t,s)){if(i.leaf||g(t,s))return!0;Y.push(h)}}i=Y.pop()}return!1}load(t){if(!t.length)return this;if(t.length<this._minEntries){for(let i=0,n=t.length;i<n;i++)this.insert(t[i]);return this}let i=this._build(t.slice(),0,t.length-1,0);if(this._data.children.length)if(this._data.height===i.height)this._splitRoot(this._data,i);else{if(this._data.height<i.height){const t=this._data;this._data=i,i=t}this._insert(i,this._data.height-i.height-1,!0)}else this._data=i;return this}insert(t){return t&&this._insert(t,this._data.height-1),this}clear(){return this._data=new S([]),this}remove(i){if(!i)return this;let e,h=this._data,s=null,a=0,r=!1;const o=this._toBBox(i);for(w.clear(),j.clear();h||w.length>0;){if(h||(h=w.pop(),s=w.data[w.length-1],a=j.pop()??0,r=!0),h.leaf&&(e=(0,_arrayUtils_js__WEBPACK_IMPORTED_MODULE_0__.indexOf)(h.children,(0,_compilerUtils_js__WEBPACK_IMPORTED_MODULE_1__.toConst)(i),h.children.length,h.indexHint),-1!==e))return h.children.splice(e,1),w.push(h),this._condense(w),this;r||h.leaf||!g(h,o)?s?(a++,h=s.children[a],r=!1):h=null:(w.push(h),j.push(a),a=0,s=h,h=h.children[0])}return this}toJSON(){return this._data}fromJSON(t){return this._data=t,this}_build(t,i,n,e){const h=n-i+1;let s=this._maxEntries;if(h<=s){const e=new S(t.slice(i,n+1));return l(e,this._toBBox),e}e||(e=Math.ceil(Math.log(h)/Math.log(s)),s=Math.ceil(h/s**(e-1)));const a=new y([]);a.height=e;const r=Math.ceil(h/s),o=r*Math.ceil(Math.sqrt(s));X(t,i,n,o,this._compareMinX);for(let l=i;l<=n;l+=o){const i=Math.min(l+o-1,n);X(t,l,i,r,this._compareMinY);for(let n=l;n<=i;n+=r){const h=Math.min(n+r-1,i);a.children.push(this._build(t,n,h,e-1))}}return l(a,this._toBBox),a}_insert(t,i,n){const e=this._toBBox,h=n?t:e(t);w.clear();const s=a(h,this._data,i,w);for(s.children.push(t),m(s,h);i>=0&&w.data[i].children.length>this._maxEntries;)this._split(w,i),i--;o(h,w,i)}_split(t,i){const n=t.data[i],e=n.children.length,h=this._minEntries;this._chooseSplitAxis(n,h,e);const s=this._chooseSplitIndex(n,h,e);if(!s)return;const a=n.children.splice(s,n.children.length-s),r=n.leaf?new S(a):new y(a);r.height=n.height,l(n,this._toBBox),l(r,this._toBBox),i?t.data[i-1].children.push(r):this._splitRoot(n,r)}_splitRoot(t,i){this._data=new y([t,i]),this._data.height=t.height+1,l(this._data,this._toBBox)}_chooseSplitIndex(t,i,n){let e,h,s;e=h=1/0;for(let a=i;a<=n-i;a++){const i=c(t,0,a,this._toBBox),r=c(t,a,n,this._toBBox),o=p(i,r),l=f(i)+f(r);o<e?(e=o,s=a,h=l<h?l:h):o===e&&l<h&&(h=l,s=a)}return s}_chooseSplitAxis(t,i,n){const e=t.leaf?this._compareMinX:u,h=t.leaf?this._compareMinY:d;this._allDistMargin(t,i,n,e)<this._allDistMargin(t,i,n,h)&&t.children.sort(e)}_allDistMargin(t,i,n,e){t.children.sort(e);const h=this._toBBox,s=c(t,0,i,h),a=c(t,n-i,n,h);let r=x(s)+x(a);for(let o=i;o<n-i;o++){const i=t.children[o];m(s,t.leaf?h(i):i),r+=x(s)}for(let o=n-i-1;o>=i;o--){const i=t.children[o];m(a,t.leaf?h(i):i),r+=x(a)}return r}_condense(i){for(let n=i.length-1;n>=0;n--){const e=i.data[n];if(0===e.children.length)if(n>0){const h=i.data[n-1],s=h.children;s.splice((0,_arrayUtils_js__WEBPACK_IMPORTED_MODULE_0__.indexOf)(s,e,s.length,h.indexHint),1)}else this.clear();else l(e,this._toBBox)}}_initFormat(t){const i=["return a"," - b",";"];this._compareMinX=new Function("a","b",i.join(t[0])),this._compareMinY=new Function("a","b",i.join(t[1])),this._toBBox=new Function("a","return {minX: a"+t[0]+", minY: a"+t[1]+", maxX: a"+t[2]+", maxY: a"+t[3]+"};")}}function a(t,i,n,e){for(;e.push(i),!0!==i.leaf&&e.length-1!==n;){let n,e=1/0,h=1/0;for(let s=0,a=i.children.length;s<a;s++){const a=i.children[s],r=f(a),o=_(t,a)-r;o<h?(h=o,e=r<e?r:e,n=a):o===h&&r<e&&(e=r,n=a)}i=n||i.children[0]}return i}function r(t,i){let e=t;for(B.clear();e;){if(!0===e.leaf)for(const t of e.children)i((0,_compilerUtils_js__WEBPACK_IMPORTED_MODULE_1__.toConst)(t));else B.pushArray(e.children);e=B.pop()??null}}function o(t,i,n){for(let e=n;e>=0;e--)m(i.data[e],t)}function l(t,i){c(t,0,t.children.length,i,t)}function c(t,i,n,e,h){h||(h=new S([])),h.minX=1/0,h.minY=1/0,h.maxX=-1/0,h.maxY=-1/0;for(let s,a=i;a<n;a++)s=t.children[a],m(h,t.leaf?e(s):s);return h}function m(t,i){t.minX=Math.min(t.minX,i.minX),t.minY=Math.min(t.minY,i.minY),t.maxX=Math.max(t.maxX,i.maxX),t.maxY=Math.max(t.maxY,i.maxY)}function u(t,i){return t.minX-i.minX}function d(t,i){return t.minY-i.minY}function f(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function x(t){return t.maxX-t.minX+(t.maxY-t.minY)}function _(t,i){return(Math.max(i.maxX,t.maxX)-Math.min(i.minX,t.minX))*(Math.max(i.maxY,t.maxY)-Math.min(i.minY,t.minY))}function p(t,i){const n=Math.max(t.minX,i.minX),e=Math.max(t.minY,i.minY),h=Math.min(t.maxX,i.maxX),s=Math.min(t.maxY,i.maxY);return Math.max(0,h-n)*Math.max(0,s-e)}function g(t,i){return t.minX<=i.minX&&t.minY<=i.minY&&i.maxX<=t.maxX&&i.maxY<=t.maxY}function M(t,i){return i.minX<=t.maxX&&i.minY<=t.maxY&&i.maxX>=t.minX&&i.maxY>=t.minY}function X(t,i,n,e,s){const a=[i,n];for(;a.length;){const i=a.pop(),n=a.pop();if(i-n<=e)continue;const r=n+Math.ceil((i-n)/e/2)*e;(0,_chunks_quickselect_js__WEBPACK_IMPORTED_MODULE_4__.q)(t,r,n,i,s),a.push(n,r,r,i)}}const Y=new _PooledArray_js__WEBPACK_IMPORTED_MODULE_3__["default"],B=new _PooledArray_js__WEBPACK_IMPORTED_MODULE_3__["default"],w=new _PooledArray_js__WEBPACK_IMPORTED_MODULE_3__["default"],j=new _PooledArray_js__WEBPACK_IMPORTED_MODULE_3__["default"]({deallocator:void 0});class E{constructor(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0}}class b extends E{constructor(){super(...arguments),this.height=1,this.indexHint=new _arrayUtils_js__WEBPACK_IMPORTED_MODULE_0__.PositionHint}}class S extends b{constructor(t){super(),this.children=t,this.leaf=!0}}class y extends b{constructor(t){super(),this.children=t,this.leaf=!1}}


/***/ }),

/***/ "./node_modules/@arcgis/core/layers/graphics/data/optimizedFeatureQueryEngineAdapter.js":
/*!**********************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/graphics/data/optimizedFeatureQueryEngineAdapter.js ***!
  \**********************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   optimizedFeatureQueryEngineAdapter: () => (/* binding */ e)
/* harmony export */ });
/* harmony import */ var _OptimizedFeature_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../OptimizedFeature.js */ "./node_modules/@arcgis/core/layers/graphics/OptimizedFeature.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
const e={getObjectId:t=>t.objectId,getAttributes:t=>t.attributes,getAttribute:(t,e)=>t.attributes[e],cloneWithGeometry:(e,r)=>new _OptimizedFeature_js__WEBPACK_IMPORTED_MODULE_0__.OptimizedFeature(r,e.attributes,null,e.objectId),getGeometry:t=>t.geometry,getCentroid:(t,e)=>t.ensureCentroid(e)};


/***/ }),

/***/ "./node_modules/@arcgis/core/renderers/support/rendererConversion.js":
/*!***************************************************************************!*\
  !*** ./node_modules/@arcgis/core/renderers/support/rendererConversion.js ***!
  \***************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   isSupportedRenderer3D: () => (/* binding */ s),
/* harmony export */   validateTo3D: () => (/* binding */ t)
/* harmony export */ });
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _symbols_support_symbolConversion_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../symbols/support/symbolConversion.js */ "./node_modules/@arcgis/core/symbols/support/symbolConversion.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
function s(r){return null==r||"simple"===r.type||"unique-value"===r.type||"class-breaks"===r.type||"dictionary"===r.type||"heatmap"===r.type}function t(r,n){if(null==r)return null;if(!s(r))return new _core_Error_js__WEBPACK_IMPORTED_MODULE_2__["default"]("renderer-conversion-3d:unsupported-renderer",`Unsupported renderer of type '${r.type||r.declaredClass}'`,{renderer:r});switch(r.type){case"simple":return a(r,n);case"unique-value":return u(r,n);case"class-breaks":return i(r,n);case"dictionary":case"heatmap":return null}return null}function l(r,n){if(!n)return null;if(Array.isArray(n)||(n=[n]),n.length>0){const o=n.map((r=>r.details.symbol.type||r.details.symbol.declaredClass)).filter((r=>!!r));o.sort();const s=new Array;return o.forEach(((r,e)=>{0!==e&&r===o[e-1]||s.push(r)})),new _core_Error_js__WEBPACK_IMPORTED_MODULE_2__["default"]("renderer-conversion-3d:unsupported-symbols",`Renderer contains symbols (${s.join(", ")}) which are not supported in 3D`,{renderer:r,symbolErrors:n})}return null}function a(r,e){const s={..._symbols_support_symbolConversion_js__WEBPACK_IMPORTED_MODULE_3__.defaultTo3DOptions,...e,cimFallbackEnabled:!0};return l(r,(0,_symbols_support_symbolConversion_js__WEBPACK_IMPORTED_MODULE_3__.to3D)(r.symbol,s).error)}function u(e,s){const t={..._symbols_support_symbolConversion_js__WEBPACK_IMPORTED_MODULE_3__.defaultTo3DOptions,...s,cimFallbackEnabled:!0},a=e.uniqueValueInfos?.map((r=>(0,_symbols_support_symbolConversion_js__WEBPACK_IMPORTED_MODULE_3__.to3D)(r.symbol,t).error)).filter(_core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_0__.isSome),u=(0,_symbols_support_symbolConversion_js__WEBPACK_IMPORTED_MODULE_3__.to3D)(e.defaultSymbol,t);return u.error&&a?.unshift(u.error),l(e,a)}function i(e,s){const t={..._symbols_support_symbolConversion_js__WEBPACK_IMPORTED_MODULE_3__.defaultTo3DOptions,...s,cimFallbackEnabled:!0},a=e.classBreakInfos.map((r=>(0,_symbols_support_symbolConversion_js__WEBPACK_IMPORTED_MODULE_3__.to3D)(r.symbol,t).error)).filter(_core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_0__.isSome),u=(0,_symbols_support_symbolConversion_js__WEBPACK_IMPORTED_MODULE_3__.to3D)(e.defaultSymbol,t);return u.error&&a.unshift(u.error),l(e,a)}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/graphics/DisplayFeatureLimit.js":
/*!***********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/graphics/DisplayFeatureLimit.js ***!
  \***********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   DisplayFeatureLimit: () => (/* binding */ e)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
class e{constructor(e,m,t){this.maximumTotalNumberOfVertices=e,this.maximumNumberOfFeatures=m,this.averageSymbolComplexity=t}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/graphics/ExtentSet.js":
/*!*************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/graphics/ExtentSet.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ExtentSet: () => (/* binding */ a)
/* harmony export */ });
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_PooledArray_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/PooledArray.js */ "./node_modules/@arcgis/core/core/PooledArray.js");
/* harmony import */ var _geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../geometry/support/aaBoundingRect.js */ "./node_modules/@arcgis/core/geometry/support/aaBoundingRect.js");
/* harmony import */ var _support_Scheduler_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../support/Scheduler.js */ "./node_modules/@arcgis/core/views/support/Scheduler.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
const h=.05;class a{constructor(){this._extents=new _core_PooledArray_js__WEBPACK_IMPORTED_MODULE_1__["default"]({allocator:t=>t||(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_2__.create)()}),this._tmpExtent=(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_2__.create)(),this._dirty=!1}get empty(){return 0===this._extents.length}get size(){return this._extents.length}clear(){this._extents.clear()}add(t){this._contains(t)||(this._removeContained(t),(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_2__.copy)(this._extents.pushNew(),t),this._dirty=!0)}pop(){return this._dirty&&this._mergeTight(),this._extents.pop()}merge(t){return this._mergeTight(t),t.hasProgressed}_mergeTight(t=_support_Scheduler_js__WEBPACK_IMPORTED_MODULE_3__.noBudget){const e=this._extents,o=new Set;let a=0;for(;a!==e.length;){e.sort(((t,e)=>t[0]-e[0])),a=e.length,o.clear();for(let i=0;i<e.length;++i){if(t.done)return;const a=e.at(i);if(a){for(let t=i+1;t<e.length;++t){const r=e.at(t);if(null==r||r[0]>=a[2])break;o.add(r)}o.forEach((i=>{if(a===i)return;if(i[2]<=a[0])return void o.delete(i);const l=(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_2__.area)(a),_=(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_2__.area)(i),c=this._tmpExtent;(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_2__.expand)(a,i,c);const d=l+_;((0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_2__.area)(c)-d)/d<h&&((0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_2__.copy)(a,c),o.delete(i),e.remove(i),t.madeProgress())})),o.add(a)}}}this._dirty=!1}_contains(t){return this._extents.some((e=>(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_2__.contains)(e,t)))}_removeContained(t){this._extents.filterInPlace((e=>!(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_2__.contains)(t,e)))}get test(){}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/graphics/GraphicStateTracking.js":
/*!************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/graphics/GraphicStateTracking.js ***!
  \************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   GraphicStateTracking: () => (/* binding */ s)
/* harmony export */ });
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_handleUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/handleUtils.js */ "./node_modules/@arcgis/core/core/handleUtils.js");
/* harmony import */ var _layers_graphics_dehydratedFeatures_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../layers/graphics/dehydratedFeatures.js */ "./node_modules/@arcgis/core/layers/graphics/dehydratedFeatures.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
class s{constructor(t){this._graphicsCore=t,this._idToState=new Map,this._states=new Set;const i=t.owner.layer?.objectIdField;i?(this._getGraphicId=t=>(0,_layers_graphics_dehydratedFeatures_js__WEBPACK_IMPORTED_MODULE_2__.getObjectId)(t,i),this._getGraphics3DGraphicById=t=>this._graphicsCore.getGraphics3DGraphicByObjectId(t)):(this._getGraphicId=t=>t.uid,this._getGraphics3DGraphicById=t=>this._graphicsCore.getGraphics3DGraphicById(t))}destroy(){this._idToState.clear(),this._states.forEach(((t,i)=>this.remove(i)))}add(t){const e=(0,_core_handleUtils_js__WEBPACK_IMPORTED_MODULE_1__.makeHandle)((()=>this.remove(t)));if(this._states.has(t))return e;const s=this._getGraphicId(t.graphic),a=this._getGraphics3DGraphicById(s);this._states.has(t)||this._states.add(t);return this._ensureStateList(s).push(t),t.displaying=null!=a&&a.isVisible(),t.isDraped=null!=a&&a.isDraped,t.tracking=!0,null!=a&&t.emit("changed"),e}remove(i){if(this._states.has(i)){if(this._idToState.size){const e=this._getGraphicId(i.graphic),s=this._idToState.get(e);s&&((0,_core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_0__.remove)(s,i),0===s.length&&this._idToState.delete(e))}this._states.delete(i),i.tracking=!1,i.displaying=!1}}addGraphic(t){this._forEachState(t.graphic,(i=>{i.displaying=t.isVisible(),i.isDraped=t.isDraped,i.emit("changed")}))}removeGraphic(t){this._forEachState(t.graphic,(t=>{t.displaying=!1,t.isDraped=!1}))}updateGraphicGeometry(t){this._forEachState(t.graphic,(t=>t.emit("changed")))}updateGraphicVisibility(t){this._forEachState(t.graphic,(i=>i.displaying=t.isVisible()))}updateGraphicError(t,i){this._forEachState(t,(t=>t.error=i))}allGraphicsDeleted(){this._states.forEach((t=>t.displaying=!1))}_ensureStateList(t){const i=this._idToState.get(t);if(i)return i;const e=new Array;return this._idToState.set(t,e),e}_forEachState(t,i){if(0===this._states.size||0===this._idToState.size)return;const e=this._getGraphicId(t),s=this._idToState.get(e);null!=s&&s.forEach(i)}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DCore.js":
/*!******************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DCore.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Graphics3DCore: () => (/* binding */ He)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/Accessor.js */ "./node_modules/@arcgis/core/core/Accessor.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_handleUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../core/handleUtils.js */ "./node_modules/@arcgis/core/core/handleUtils.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_MapUtils_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../core/MapUtils.js */ "./node_modules/@arcgis/core/core/MapUtils.js");
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../core/maybe.js */ "./node_modules/@arcgis/core/core/maybe.js");
/* harmony import */ var _core_MemCache_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../core/MemCache.js */ "./node_modules/@arcgis/core/core/MemCache.js");
/* harmony import */ var _core_PooledArray_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../core/PooledArray.js */ "./node_modules/@arcgis/core/core/PooledArray.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../../core/reactiveUtils.js */ "./node_modules/@arcgis/core/core/reactiveUtils.js");
/* harmony import */ var _core_scheduling_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../../core/scheduling.js */ "./node_modules/@arcgis/core/core/scheduling.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _core_accessorSupport_diffUtils_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../../../core/accessorSupport/diffUtils.js */ "./node_modules/@arcgis/core/core/accessorSupport/diffUtils.js");
/* harmony import */ var _chunks_vec32_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../../../chunks/vec32.js */ "./node_modules/@arcgis/core/chunks/vec32.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../../../core/libs/gl-matrix-2/factories/vec3f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/vec3f64.js");
/* harmony import */ var _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../../../geometry/Extent.js */ "./node_modules/@arcgis/core/geometry/Extent.js");
/* harmony import */ var _geometry_Point_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../../../../geometry/Point.js */ "./node_modules/@arcgis/core/geometry/Point.js");
/* harmony import */ var _geometry_projectionUtils_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../../../../geometry/projectionUtils.js */ "./node_modules/@arcgis/core/geometry/projectionUtils.js");
/* harmony import */ var _geometry_projection_projectBuffer_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../../../../geometry/projection/projectBuffer.js */ "./node_modules/@arcgis/core/geometry/projection/projectBuffer.js");
/* harmony import */ var _geometry_projection_projectVectorToVector_js__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../../../../geometry/projection/projectVectorToVector.js */ "./node_modules/@arcgis/core/geometry/projection/projectVectorToVector.js");
/* harmony import */ var _geometry_projection_projectXYZToVector_js__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ../../../../geometry/projection/projectXYZToVector.js */ "./node_modules/@arcgis/core/geometry/projection/projectXYZToVector.js");
/* harmony import */ var _geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ../../../../geometry/support/aaBoundingBox.js */ "./node_modules/@arcgis/core/geometry/support/aaBoundingBox.js");
/* harmony import */ var _geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ../../../../geometry/support/aaBoundingRect.js */ "./node_modules/@arcgis/core/geometry/support/aaBoundingRect.js");
/* harmony import */ var _geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ../../../../geometry/support/spatialReferenceUtils.js */ "./node_modules/@arcgis/core/geometry/support/spatialReferenceUtils.js");
/* harmony import */ var _layers_Layer_js__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ../../../../layers/Layer.js */ "./node_modules/@arcgis/core/layers/Layer.js");
/* harmony import */ var _layers_graphics_dehydratedFeatures_js__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ../../../../layers/graphics/dehydratedFeatures.js */ "./node_modules/@arcgis/core/layers/graphics/dehydratedFeatures.js");
/* harmony import */ var _layers_graphics_hydratedFeatures_js__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ../../../../layers/graphics/hydratedFeatures.js */ "./node_modules/@arcgis/core/layers/graphics/hydratedFeatures.js");
/* harmony import */ var _layers_support_PromiseQueue_js__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ../../../../layers/support/PromiseQueue.js */ "./node_modules/@arcgis/core/layers/support/PromiseQueue.js");
/* harmony import */ var _renderers_UniqueValueRenderer_js__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! ../../../../renderers/UniqueValueRenderer.js */ "./node_modules/@arcgis/core/renderers/UniqueValueRenderer.js");
/* harmony import */ var _renderers_support_rendererConversion_js__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! ../../../../renderers/support/rendererConversion.js */ "./node_modules/@arcgis/core/renderers/support/rendererConversion.js");
/* harmony import */ var _renderers_support_RenderingInfo_js__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(/*! ../../../../renderers/support/RenderingInfo.js */ "./node_modules/@arcgis/core/renderers/support/RenderingInfo.js");
/* harmony import */ var _support_basemapUtils_js__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__(/*! ../../../../support/basemapUtils.js */ "./node_modules/@arcgis/core/support/basemapUtils.js");
/* harmony import */ var _support_loadArcade_js__WEBPACK_IMPORTED_MODULE_36__ = __webpack_require__(/*! ../../../../support/loadArcade.js */ "./node_modules/@arcgis/core/support/loadArcade.js");
/* harmony import */ var _symbols_LabelSymbol3D_js__WEBPACK_IMPORTED_MODULE_37__ = __webpack_require__(/*! ../../../../symbols/LabelSymbol3D.js */ "./node_modules/@arcgis/core/symbols/LabelSymbol3D.js");
/* harmony import */ var _symbols_TextSymbol_js__WEBPACK_IMPORTED_MODULE_38__ = __webpack_require__(/*! ../../../../symbols/TextSymbol.js */ "./node_modules/@arcgis/core/symbols/TextSymbol.js");
/* harmony import */ var _symbols_WebStyleSymbol_js__WEBPACK_IMPORTED_MODULE_39__ = __webpack_require__(/*! ../../../../symbols/WebStyleSymbol.js */ "./node_modules/@arcgis/core/symbols/WebStyleSymbol.js");
/* harmony import */ var _symbols_support_defaults3D_js__WEBPACK_IMPORTED_MODULE_40__ = __webpack_require__(/*! ../../../../symbols/support/defaults3D.js */ "./node_modules/@arcgis/core/symbols/support/defaults3D.js");
/* harmony import */ var _symbols_support_symbolConversion_js__WEBPACK_IMPORTED_MODULE_41__ = __webpack_require__(/*! ../../../../symbols/support/symbolConversion.js */ "./node_modules/@arcgis/core/symbols/support/symbolConversion.js");
/* harmony import */ var _defaultSymbolComplexity_js__WEBPACK_IMPORTED_MODULE_42__ = __webpack_require__(/*! ./defaultSymbolComplexity.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/defaultSymbolComplexity.js");
/* harmony import */ var _DisplayFeatureLimit_js__WEBPACK_IMPORTED_MODULE_43__ = __webpack_require__(/*! ./DisplayFeatureLimit.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/DisplayFeatureLimit.js");
/* harmony import */ var _ElevationQuery_js__WEBPACK_IMPORTED_MODULE_44__ = __webpack_require__(/*! ./ElevationQuery.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/ElevationQuery.js");
/* harmony import */ var _enums_js__WEBPACK_IMPORTED_MODULE_45__ = __webpack_require__(/*! ./enums.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/enums.js");
/* harmony import */ var _featureExpressionInfoUtils_js__WEBPACK_IMPORTED_MODULE_46__ = __webpack_require__(/*! ./featureExpressionInfoUtils.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/featureExpressionInfoUtils.js");
/* harmony import */ var _Graphics3DFeatureStore_js__WEBPACK_IMPORTED_MODULE_47__ = __webpack_require__(/*! ./Graphics3DFeatureStore.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DFeatureStore.js");
/* harmony import */ var _Graphics3DGraphicCreationContext_js__WEBPACK_IMPORTED_MODULE_48__ = __webpack_require__(/*! ./Graphics3DGraphicCreationContext.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DGraphicCreationContext.js");
/* harmony import */ var _Graphics3DSymbolCreationContext_js__WEBPACK_IMPORTED_MODULE_49__ = __webpack_require__(/*! ./Graphics3DSymbolCreationContext.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DSymbolCreationContext.js");
/* harmony import */ var _Graphics3DSymbolFactory_js__WEBPACK_IMPORTED_MODULE_50__ = __webpack_require__(/*! ./Graphics3DSymbolFactory.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DSymbolFactory.js");
/* harmony import */ var _Graphics3DWebStyleSymbol_js__WEBPACK_IMPORTED_MODULE_51__ = __webpack_require__(/*! ./Graphics3DWebStyleSymbol.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DWebStyleSymbol.js");
/* harmony import */ var _GraphicsCorePerformanceInfo_js__WEBPACK_IMPORTED_MODULE_52__ = __webpack_require__(/*! ./GraphicsCorePerformanceInfo.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/GraphicsCorePerformanceInfo.js");
/* harmony import */ var _GraphicStateTracking_js__WEBPACK_IMPORTED_MODULE_53__ = __webpack_require__(/*! ./GraphicStateTracking.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/GraphicStateTracking.js");
/* harmony import */ var _graphicUtils_js__WEBPACK_IMPORTED_MODULE_54__ = __webpack_require__(/*! ./graphicUtils.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/graphicUtils.js");
/* harmony import */ var _interfaces_js__WEBPACK_IMPORTED_MODULE_55__ = __webpack_require__(/*! ./interfaces.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/interfaces.js");
/* harmony import */ var _Loadable_js__WEBPACK_IMPORTED_MODULE_56__ = __webpack_require__(/*! ./Loadable.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/Loadable.js");
/* harmony import */ var _SpatialIndex2D_js__WEBPACK_IMPORTED_MODULE_57__ = __webpack_require__(/*! ./SpatialIndex2D.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/SpatialIndex2D.js");
/* harmony import */ var _support_StageLayerElevationProvider_js__WEBPACK_IMPORTED_MODULE_58__ = __webpack_require__(/*! ../support/StageLayerElevationProvider.js */ "./node_modules/@arcgis/core/views/3d/layers/support/StageLayerElevationProvider.js");
/* harmony import */ var _support_extentUtils_js__WEBPACK_IMPORTED_MODULE_59__ = __webpack_require__(/*! ../../support/extentUtils.js */ "./node_modules/@arcgis/core/views/3d/support/extentUtils.js");
/* harmony import */ var _webgl_engine_lib_GridLocalOriginFactory_js__WEBPACK_IMPORTED_MODULE_60__ = __webpack_require__(/*! ../../webgl-engine/lib/GridLocalOriginFactory.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/GridLocalOriginFactory.js");
/* harmony import */ var _webgl_engine_lib_UpdatePolicy_js__WEBPACK_IMPORTED_MODULE_61__ = __webpack_require__(/*! ../../webgl-engine/lib/UpdatePolicy.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/UpdatePolicy.js");
/* harmony import */ var _webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_62__ = __webpack_require__(/*! ../../webgl-engine/lib/VertexAttribute.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/VertexAttribute.js");
/* harmony import */ var _webgl_engine_lib_WebGLLayer_js__WEBPACK_IMPORTED_MODULE_63__ = __webpack_require__(/*! ../../webgl-engine/lib/WebGLLayer.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/WebGLLayer.js");
/* harmony import */ var _layers_support_popupUtils_js__WEBPACK_IMPORTED_MODULE_64__ = __webpack_require__(/*! ../../../layers/support/popupUtils.js */ "./node_modules/@arcgis/core/views/layers/support/popupUtils.js");
/* harmony import */ var _support_PropertiesPool_js__WEBPACK_IMPORTED_MODULE_65__ = __webpack_require__(/*! ../../../support/PropertiesPool.js */ "./node_modules/@arcgis/core/views/support/PropertiesPool.js");
/* harmony import */ var _support_Scheduler_js__WEBPACK_IMPORTED_MODULE_66__ = __webpack_require__(/*! ../../../support/Scheduler.js */ "./node_modules/@arcgis/core/views/support/Scheduler.js");
/* harmony import */ var _support_TextureCompressionTracker_js__WEBPACK_IMPORTED_MODULE_67__ = __webpack_require__(/*! ../../../support/TextureCompressionTracker.js */ "./node_modules/@arcgis/core/views/support/TextureCompressionTracker.js");
/* harmony import */ var _support_Yield_js__WEBPACK_IMPORTED_MODULE_68__ = __webpack_require__(/*! ../../../support/Yield.js */ "./node_modules/@arcgis/core/views/support/Yield.js");
/* harmony import */ var _webscene_support_AlphaCutoff_js__WEBPACK_IMPORTED_MODULE_69__ = __webpack_require__(/*! ../../../../webscene/support/AlphaCutoff.js */ "./node_modules/@arcgis/core/webscene/support/AlphaCutoff.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
var ke;const ze=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_18__.create)(),We=(0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_25__.create)();let He=class extends _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__["default"]{static{ke=this}static{this.tmpVec=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_18__.create)()}get _viewSpatialReference(){return this.owner.view.spatialReference}get spatialIndex(){return this._spatialIndex||(this._spatialIndex=new _SpatialIndex2D_js__WEBPACK_IMPORTED_MODULE_57__.SpatialIndex2D({objectIdField:this.owner.layer?.objectIdField,spatialReference:this._viewSpatialReference,hasZ:!!this.hasZ,hasM:!!this.hasM}),this._spatialIndex.setup(Array.from(this.graphics3DGraphics.values()))),this._spatialIndex.update(),this._spatialIndex}get deconflictor(){return this._deconflictor}get labeler(){return this._labeler}get numberOfGraphics(){return this._numberOfGraphics}get effectiveUpdatePolicy(){return null!=this.currentRenderer&&"dictionary"===this.currentRenderer.type?_webgl_engine_lib_UpdatePolicy_js__WEBPACK_IMPORTED_MODULE_61__.UpdatePolicy.ASYNC:this._forcedUpdatePolicy??this.preferredUpdatePolicy}get featureStore(){return this._featureStore}get initializePromise(){return this._initializePromise}get scaleVisibility(){return this._scaleVisibility}get elevationAlignment(){return this._elevationAlignment}get objectStates(){return this._objectStates}get filterVisibility(){return this._filterVisibility}get updating(){return!!(this.dataUpdating||this._elevationAlignment?.updating||this._scaleVisibility?.updating||this._filterVisibility?.updating||this._rendererChangeAbortController||this._elevationInfoChangeAbortController||this._frameTaskHandle.updating||this._updateQueue.updating||this.running)}get dataUpdating(){return!!(this._graphicsWaitingForSymbol.size>0||this._pendingUpdates.size>0||this._spatialIndex?.updating||this._updatingPendingLoadedGraphicsChange||this._dataUpdateQueue.updating||this._loadingSymbols>0||this.compressionTracker.compressing)}get running(){return this._pendingUpdates.size>0||!!this._spatialIndex?.updating||this._dataUpdateQueue.running||this._updateQueue.running}get suspendedOrOutsideOfView(){return this.owner.suspended||!!this.owner.suspendInfo?.outsideOfView}get updatingRemaining(){return this.updating?this._pendingUpdates.size+.1*(this._spatialIndex?.updatingRemaining||0)+.1*(this._elevationAlignment?.updatingRemaining||0):0}get displayFeatureLimit(){const e=this.owner&&this.owner.view&&this.owner.view.qualitySettings,t=e?.graphics3D.minTotalNumberOfFeatures??0,i=e?.graphics3D.maxTotalNumberOfFeatures??0,r=e?.graphics3D.maxNumberOfDrawCalls??0,s=e?.graphics3D.maxTotalNumberOfVertices??0,a=this.averageSymbolComplexity,n=Math.max(1,a?.verticesPerFeature??1),o=a&&a.drawCallsPerFeature>0&&r>0?r/a.drawCallsPerFeature:i,l=Math.ceil(s/n),h=Math.max(t,Math.min(i,l,o)),d=this._get("displayFeatureLimit");return d&&d.maximumTotalNumberOfVertices===s&&d.averageSymbolComplexity===a&&d.maximumNumberOfFeatures===h?d:new _DisplayFeatureLimit_js__WEBPACK_IMPORTED_MODULE_43__.DisplayFeatureLimit(s,h,a)}get averageSymbolComplexity(){const e=(0,_defaultSymbolComplexity_js__WEBPACK_IMPORTED_MODULE_42__.averageSymbolComplexities)(this._symbolComplexities),t=this._get("averageSymbolComplexity");return 0===e.numComplexities||null!=t&&(e.estimated&&(t.verticesPerFeature>=e.verticesPerFeature||t.verticesPerCoordinate>=e.verticesPerCoordinate||t.drawCallsPerFeature>=e.drawCallsPerFeature)||t.verticesPerFeature===e.verticesPerFeature&&t.verticesPerCoordinate===e.verticesPerCoordinate&&t.drawCallsPerFeature===e.drawCallsPerFeature)?t:e}get usedMemory(){const e=this.labelsEnabled?(this.averageSymbolComplexity?.memory.bytesPerFeatureLabel??0)*this._numberOfGraphics:0,t=this._getSymbolComplexitiesUsed().reduce(((e,t)=>e+t.memory.resourceBytes),0);if(null==this._symbolMaterials){this._symbolMaterials=[];for(const e of this._symbols.values())if(null!=e)for(const t of e.symbolLayers)if(t)for(const e of t.materials)e&&this._symbolMaterials.push(e)}const i=this.owner.view.stage.renderer,r=this.owner.view.basemapTerrain.overlayManager.renderer,s=this._symbolMaterials.reduce(((e,t)=>e+((i.getMaterialRenderer(t)||r.getMaterialRenderer(t))?.usedMemory??0)),0);return this._usedMemory+e+t+s}get usedMemoryPerGraphic(){if(this._usedMemory&&this._numberOfGraphics){const e=this._numberOfGraphics/(this._numberOfGraphics+Math.max(this._pendingAdds,this._pendingRemoves));return this._usedMemory/this._numberOfGraphics*e}if(null!=this.averageSymbolComplexity){const e=this.labelsEnabled?this.averageSymbolComplexity.memory.bytesPerFeatureLabel:0;return this.averageSymbolComplexity.memory.bytesPerFeature+e}return 0}get unprocessedMemoryEstimate(){return(this._pendingAdds-this._pendingRemoves)*this.usedMemoryPerGraphic}get _symbolComplexities(){return this.currentRenderer?this._getSymbolComplexitiesUsedOrRenderer(this.currentRenderer):this._getSymbolComplexitiesUsed()}get visible(){return this._visible}_getConvertedSymbol(e){const t=e;if("web-style"===t.type)return t.clone();const i=this._symbolConversionCache.get(t.id);if(null!=i)return i;const r=(0,_symbols_support_symbolConversion_js__WEBPACK_IMPORTED_MODULE_41__.to3D)(t,{geometryType:this.layer?.geometryType??void 0,retainId:!0,hasLabelingContext:this._hasLabelingContext(t),cimFallbackEnabled:!0}),s=r.symbol||null;return null==s&&r.error&&_core_Logger_js__WEBPACK_IMPORTED_MODULE_6__["default"].getLogger(this).error(r.error.message),this._symbolConversionCache.set(t.id,s),s}_getSymbolComplexitiesUsedOrRenderer(e){if(null==e)return[];const t=e.symbols,i="backgroundFillSymbol"in e?e.backgroundFillSymbol:null;if(!i&&!t.length)return[];const r=[],s=this._getSymbolComplexityUsedOrRenderer(i);null!=s&&r.push(s);for(const a of t){const e=this._getSymbolComplexityUsedOrRenderer(a);null!=e&&r.push(e)}return r}_getSymbolComplexityUsedOrRenderer(e){if(null==e)return null;const t=this._symbols.get(e.id);if(null!=t)return t.complexity;const i=this._getConvertedSymbol(e);return null!=i?(0,_defaultSymbolComplexity_js__WEBPACK_IMPORTED_MODULE_42__.defaultSymbolComplexity)(i):null}_getSymbolComplexitiesUsed(){const e=[];return this._symbols.forEach((t=>{null!=t&&e.push(t.complexity)})),e}get _objectIdField(){return this.layer.objectIdField}constructor(e){super(e),this._propertiesPool=new _support_PropertiesPool_js__WEBPACK_IMPORTED_MODULE_65__.PropertiesPool({computedExtent:_geometry_Extent_js__WEBPACK_IMPORTED_MODULE_19__["default"]},this),this.computedExtent=null,this.currentRenderer=null,this.rendererHasGeometryOperations=!1,this._graphicStateTracking=null,this.graphics3DGraphics=new Map,this.stageLayer=null,this.stage=null,this._graphicsDrapedUids=new Set,this._graphicsBySymbol=new Map,this._symbolConversionCache=new Map,this._symbols=new Map,this._graphicsWithoutSymbol=new Map,this._graphicsWaitingForSymbol=new Map,this._graphicsUpdateId=0,this._frameTaskHandle=_support_Scheduler_js__WEBPACK_IMPORTED_MODULE_66__.ImmediateTask,this._dataUpdateQueue=new _layers_support_PromiseQueue_js__WEBPACK_IMPORTED_MODULE_31__.PromiseQueue,this._updateQueue=new _layers_support_PromiseQueue_js__WEBPACK_IMPORTED_MODULE_31__.PromiseQueue,this._suspendSymbolCleanup=!1,this._arcadeOnDemand=null,this._rendererChangeAbortController=null,this._elevationInfoChangeAbortController=null,this._initializeAbortController=null,this._elevationAlignment=null,this._scaleVisibility=null,this._filterVisibility=null,this._spatialIndex=null,this.extentPadding=0,this._updatingPendingLoadedGraphicsChange=null,this._featureStore=null,this._deconflictor=null,this._labeler=null,this._objectStates=null,this._viewElevationProvider=null,this._stageLayerElevationProvider=null,this._sharedSymbolResourcesOwnerHandle=null,this._whenGraphics3DGraphicRequests={},this._pendingUpdates=new Map,this._numberOfGraphics=0,this._numberOfGraphicsProvidingElevation=0,this._pendingAdds=0,this._pendingRemoves=0,this._applyPendingRemovesFirst=!1,this._loadingSymbols=0,this._pendingUpdatesPool=new _core_PooledArray_js__WEBPACK_IMPORTED_MODULE_10__["default"]({allocator:e=>e||new Be,deallocator:e=>(e.clear(),e)}),this.compressionTracker=new _support_TextureCompressionTracker_js__WEBPACK_IMPORTED_MODULE_67__.TextureCompressionTracker,this._symbolWarningLogged=!1,this._geometryWarningLogged=!1,this._objectIdInvisibleSet=new Set,this._whenSymbolRemoved=new _core_PooledArray_js__WEBPACK_IMPORTED_MODULE_10__["default"],this.preferredUpdatePolicy=_webgl_engine_lib_UpdatePolicy_js__WEBPACK_IMPORTED_MODULE_61__.UpdatePolicy.SYNC,this._forcedUpdatePolicy=null,this.elevationFeatureExpressionEnabled=!0,this.owner=null,this.layer=null,this.graphicSymbolSupported=!0,this.getRenderingInfoWithoutRenderer=!1,this.setUidToIdOnAdd=!0,this.hasZ=null,this.hasM=null,this._usedMemory=0,this._visible=!1,this._startCreateGraphics=!1,this._unusedSymbolsCache=e.owner.view.resourceController.memoryController.newCache("graphics-3d-unused-symbols",(e=>e.destroy())),this.symbolCreationContext=new _Graphics3DSymbolCreationContext_js__WEBPACK_IMPORTED_MODULE_49__.Graphics3DSymbolCreationContext(e.owner.view.resourceController.scheduler,((e,t)=>this._updateQueue.push(e,t)),e.owner.layerViewUid,this.compressionTracker)}initialize(){this._featureStore=new _Graphics3DFeatureStore_js__WEBPACK_IMPORTED_MODULE_47__.Graphics3DFeatureStore({objectIdField:this.owner.layer?.objectIdField,hasZ:!!this.hasZ,hasM:!!this.hasM,viewSpatialReference:this._viewSpatialReference,featureSpatialReference:this.owner.featureSpatialReference,getSpatialIndex:()=>this.spatialIndex,forEach:e=>this.graphics3DGraphics.forEach(e)});const e=(e,t,i)=>this.spatialIndex.queryGraphicUIDsInExtent(e,t,i),{componentFactories:t}=this;this._elevationAlignment=t.elevationAlignment?.(this,e),this._scaleVisibility=t.scaleVisibility?.(this,e),this._filterVisibility=t.filterVisibility?.({featureStore:this._featureStore,getFeatureCount:()=>this.graphics3DGraphics.size,updateFeatureVisibilities:e=>this.modifyGraphics3DGraphicVisibilities((t=>t.setVisibilityFlag(_enums_js__WEBPACK_IMPORTED_MODULE_45__.VisibilityGroup.GRAPHIC,_enums_js__WEBPACK_IMPORTED_MODULE_45__.VisibilityFlag.FILTER,e((0,_layers_graphics_dehydratedFeatures_js__WEBPACK_IMPORTED_MODULE_29__.getObjectId)(t.graphic,this._objectIdField))))),setAllFeaturesVisibility:e=>this.modifyGraphics3DGraphicVisibilities((t=>t.setVisibilityFlag(_enums_js__WEBPACK_IMPORTED_MODULE_45__.VisibilityGroup.GRAPHIC,_enums_js__WEBPACK_IMPORTED_MODULE_45__.VisibilityFlag.FILTER,e))),clearFeaturesVisibility:()=>this.modifyGraphics3DGraphicVisibilities((e=>e.setVisibilityFlag(_enums_js__WEBPACK_IMPORTED_MODULE_45__.VisibilityGroup.GRAPHIC,_enums_js__WEBPACK_IMPORTED_MODULE_45__.VisibilityFlag.FILTER,!0)))}),this._deconflictor=t.deconflictor?.(this),this._labeler=t.labeler?.(this,this._scaleVisibility),this._objectStates=t.objectStates?.(this),this._initializeAbortController=new AbortController,this.addHandles((0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_12__.when)((()=>this.owner.view.state.highlights),(()=>{const{highlightOrderMap:e}=this.owner.view.state;this.graphics3DGraphics.forEach((t=>t.updateHighlights(e)))}))),this._initializePromise=this._initializeAsync()}async _initializeAsync(){const e=this._initializeAbortController?.signal,t=this.owner.view;this._viewElevationProvider=new _ElevationQuery_js__WEBPACK_IMPORTED_MODULE_44__.ViewElevationProvider(this._viewSpatialReference,t),this._initializeStage(t,this.owner.layerViewUid);const i=t.sharedSymbolResources;this.symbolCreationContext.sharedResources=i,this._sharedSymbolResourcesOwnerHandle=i.addGraphicsOwner(this.owner),null!=this.currentRenderer&&(this.symbolCreationContext.renderer=this.currentRenderer),this.symbolCreationContext.stage=this.stage,this.symbolCreationContext.streamDataRequester=i.streamDataRequester,this.symbolCreationContext.renderCoordsHelper=t.renderCoordsHelper,this.symbolCreationContext.layer=this.layer,this.symbolCreationContext.graphicsCoreOwner=this.owner,this.symbolCreationContext.localOriginFactory=new _webgl_engine_lib_GridLocalOriginFactory_js__WEBPACK_IMPORTED_MODULE_60__.GridLocalOriginFactory(t.renderSpatialReference),this.symbolCreationContext.elevationProvider=t.elevationProvider,this.symbolCreationContext.notifyGraphicGeometryChanged=e=>this.notifyGraphicGeometryChanged(e),this.symbolCreationContext.notifyGraphicVisibilityChanged=e=>this.notifyGraphicVisibilityChanged(e);const r=(0,_featureExpressionInfoUtils_js__WEBPACK_IMPORTED_MODULE_46__.extractExpressionInfo)(this.layer.elevationInfo,this.elevationFeatureExpressionEnabled);if(this.symbolCreationContext.featureExpressionInfoContext=await (0,_featureExpressionInfoUtils_js__WEBPACK_IMPORTED_MODULE_46__.createContext)(r,this._viewSpatialReference,e,_core_Logger_js__WEBPACK_IMPORTED_MODULE_6__["default"].getLogger(this)),(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_11__.throwIfAborted)(e),this.symbolCreationContext.screenSizePerspectiveEnabled=t.screenSizePerspectiveEnabled&&!!this.layer.screenSizePerspectiveEnabled,this.symbolCreationContext.slicePlaneEnabled=!!this.owner.slicePlaneEnabled,this.symbolCreationContext.physicalBasedRenderingEnabled=!!this.owner.view.qualitySettings?.physicallyBasedRenderingEnabled,this.symbolCreationContext.skipHighSymbolLods=!!this.owner.view.qualitySettings?.graphics3D?.skipHighSymbolLods,"drapeSourceType"in this.owner){const{owner:e}=this;this.symbolCreationContext.drapeSourceRenderer=t.basemapTerrain.overlayManager.registerGeometryDrapeSource(e),this.addHandles((0,_core_handleUtils_js__WEBPACK_IMPORTED_MODULE_5__.makeHandle)((()=>t.basemapTerrain.overlayManager.unregisterDrapeSource(e))))}this.addHandles([(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_12__.watch)((()=>this.suspendedOrOutsideOfView),(()=>this._updateQueue.unshift((()=>this._updateLayerVisibility()),null).catch(_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_11__.ignoreAbortErrors))),(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_12__.watch)((()=>[this.layer?.screenSizePerspectiveEnabled,this.owner.view?.screenSizePerspectiveEnabled]),(()=>{const e=t.screenSizePerspectiveEnabled&&!!this.layer.screenSizePerspectiveEnabled;e!==this.symbolCreationContext.screenSizePerspectiveEnabled&&(this.symbolCreationContext.screenSizePerspectiveEnabled=e,this._labeler?.reset(),this.recreateAllGraphicsAndSymbols())})),(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_12__.watch)((()=>this.owner.slicePlaneEnabled),(e=>this._slicePlaneEnabledChange(!!e))),(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_12__.watch)((()=>this.owner.view.state?.rasterPixelRatio),(()=>this._pixelRatioChange())),(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_12__.watch)((()=>!!this.owner.view.qualitySettings?.physicallyBasedRenderingEnabled),(e=>this._physicalBasedRenderingChange(e))),(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_12__.watch)((()=>!!this.owner.view.qualitySettings?.graphics3D?.skipHighSymbolLods),(e=>this._skipHighSymbolLoDsChange(e))),(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_12__.watch)((()=>this.owner.view.focusAreasView?.polygons),(()=>this._updateFocusedLabels())),(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_12__.watch)((()=>this.owner.view.map?.focusAreas.style),(()=>this.recreateAllGraphicsAndSymbols())),(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_12__.when)((()=>t.basemapTerrain?.tilingScheme),(e=>{if(e.spatialReference.equals(this.symbolCreationContext.overlaySR)||null==t.basemapTerrain.spatialReference||(this.symbolCreationContext.overlaySR=t.basemapTerrain.spatialReference),this.hasHandles("loaded-graphics"))this.recreateAllGraphics();else{const e=()=>this.owner?.loadedGraphics;this.addHandles([(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_12__.on)(e,"change",(e=>{this._graphicsCollectionChanged(e),this._signalUpdatingDuringAsyncLoadedGraphicsChange()}),{onListenerAdd:()=>{this.recreateAllGraphics(),this._signalUpdatingDuringAsyncLoadedGraphicsChange()}})],"loaded-graphics")}}),{initial:!0}),(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_12__.watch)((()=>this.effectiveUpdatePolicy),(e=>{null!=this.stageLayer&&(this.stageLayer.updatePolicy=e),this.symbolCreationContext.isAsync=this.effectiveUpdatePolicy===_webgl_engine_lib_UpdatePolicy_js__WEBPACK_IMPORTED_MODULE_61__.UpdatePolicy.ASYNC,e===_webgl_engine_lib_UpdatePolicy_js__WEBPACK_IMPORTED_MODULE_61__.UpdatePolicy.SYNC&&this.runTask(_support_Scheduler_js__WEBPACK_IMPORTED_MODULE_66__.noBudget)}),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_12__.syncAndInitial)]),this._frameTaskHandle=t.resourceController.scheduler.registerTask(_support_Scheduler_js__WEBPACK_IMPORTED_MODULE_66__.TaskPriority.GRAPHICS_CORE,this),this.layer&&"featureReduction"in this.layer&&this.addHandles((0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_12__.watch)((()=>this.layer.featureReduction),(()=>this._deconflictor?.featureReductionChange()))),this.notifyChange("averageSymbolComplexity"),this.rendererChange(this.owner.renderer).catch((()=>{})),this._initializeAbortController=null}_abortInitialize(){this._initializeAbortController=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_8__.abortMaybe)(this._initializeAbortController)}_updateFocusedLabels(){this.forEachGraphics3DSymbol(((e,t)=>{t&&e.updateFocus((({graphic:e})=>this.recreateGraphics([e])),t)}))}destroy(){this._unusedSymbolsCache.destroy(),this._abortInitialize(),this._rendererChangeAbortController=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_8__.abortMaybe)(this._rendererChangeAbortController),this._abortElevationInfoChange(),this._frameTaskHandle.remove(),this._frameTaskHandle=_support_Scheduler_js__WEBPACK_IMPORTED_MODULE_66__.ImmediateTask,this._dataUpdateQueue.cancelAll(),this._updateQueue.cancelAll(),this._deconflictor=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_8__.removeMaybe)(this._deconflictor),this._labeler=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_8__.removeMaybe)(this._labeler),this._elevationAlignment=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_8__.destroyMaybe)(this._elevationAlignment),this._scaleVisibility=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_8__.destroyMaybe)(this._scaleVisibility),this._filterVisibility=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_8__.destroyMaybe)(this._filterVisibility),this._objectStates=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_8__.destroyMaybe)(this._objectStates),this.clear(),this._featureStore=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_8__.destroyMaybe)(this._featureStore),this._updatingPendingLoadedGraphicsChange=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_8__.removeMaybe)(this._updatingPendingLoadedGraphicsChange),this._graphicStateTracking=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_8__.destroyMaybe)(this._graphicStateTracking),this.stage&&(this.stageLayer=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_8__.destroyMaybe)(this.stageLayer),this.stage=null),this._set("owner",null);for(const e in this._whenGraphics3DGraphicRequests)this._whenGraphics3DGraphicRequests[e].reject(new _core_Error_js__WEBPACK_IMPORTED_MODULE_4__["default"]("graphic:layer-destroyed","Layer has been destroyed"));this._whenGraphics3DGraphicRequests=null,this._sharedSymbolResourcesOwnerHandle=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_8__.removeMaybe)(this._sharedSymbolResourcesOwnerHandle),this._propertiesPool=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_8__.destroyMaybe)(this._propertiesPool),this._pendingUpdatesPool=null,this._symbolConversionCache.clear(),this._objectIdInvisibleSet.clear(),this._spatialIndex=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_8__.destroyMaybe)(this._spatialIndex)}clear(){this._objectStates?.allGraphicsDeleted(),null!=this._graphicStateTracking&&this._graphicStateTracking.allGraphicsDeleted(),this.graphics3DGraphics.forEach((e=>e.destroy())),this._spatialIndex?.clear(),this.graphics3DGraphics.clear(),this._numberOfGraphics=0,this._usedMemory=0,this._updateLayerVisibility(),this._symbols.forEach(_core_maybe_js__WEBPACK_IMPORTED_MODULE_8__.destroyMaybe),this._symbols.clear(),this._symbolMaterials=null,this._graphicsBySymbol.clear(),this._graphicsWithoutSymbol.clear(),this._graphicsWaitingForSymbol.clear(),this._pendingUpdates.clear(),this._pendingUpdatesPool.clear(),this._pendingAdds=0,this._pendingRemoves=0,this._applyPendingRemovesFirst=!1,this.notifyChange("dataUpdating"),this.notifyChange("running"),this.notifyChange("updatingRemaining"),this._featureStore.events.emit("changed"),this.owner.notifyContentGeometryUpdate?.()}_initializeStage(e,t){this.stage=e.stage,this.stageLayer=new _webgl_engine_lib_WebGLLayer_js__WEBPACK_IMPORTED_MODULE_63__.WebGLLayer(this.stage,{visible:!this.suspendedOrOutsideOfView,updatePolicy:this.effectiveUpdatePolicy},t);const i=this.stageLayer.events;i.on("transformationChanged",(e=>this.notifyGraphicGeometryChanged(e.graphicUid))),i.on("shaderTransformationChanged",(e=>this.notifyGraphicGeometryChanged(e.graphicUid))),i.on("visibilityChanged",(e=>this.notifyGraphicVisibilityChanged(e.graphicUid))),i.on("geometryAdded",(e=>this.notifyGraphicGeometryChanged(e.object.graphicUid))),i.on("geometryRemoved",(e=>this.notifyGraphicGeometryChanged(e.object.graphicUid))),i.on("attributesChanged",(e=>(0,_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_62__.affectsGeometry)(e.attribute)&&this.notifyGraphicGeometryChanged(e.object.graphicUid)))}notifyGraphicGeometryChanged(e){if(null==this._graphicStateTracking||null==e)return;const t=this.graphics3DGraphics.get(e);t&&this._graphicStateTracking.updateGraphicGeometry(t)}notifyGraphicVisibilityChanged(e){if(null==this._graphicStateTracking||null==e)return;const t=this.graphics3DGraphics.get(e);t&&this._graphicStateTracking.updateGraphicVisibility(t)}_updateLayerVisibility(){const e=this.displayFeatureLimit.maximumNumberOfFeatures,t=this._numberOfGraphics>e*qe,i=!this.suspendedOrOutsideOfView&&!t;i!==this._visible&&(this._visible=i,this._updateStageLayerVisibility())}_updateStageLayerVisibility(){const e=this._visible&&(null==this.layer.opacity||this.layer.opacity>=_webscene_support_AlphaCutoff_js__WEBPACK_IMPORTED_MODULE_69__.alphaCutoff);this.stageLayer.visible!==e&&(this.stageLayer.visible=e,e?this.updateGraphicsVisibilities():this._hideAllGraphics(),this.owner.notifyContentGeometryUpdate?.())}getGraphics3DGraphicById(e){return null!=e?this.graphics3DGraphics.get(e):void 0}getGraphics3DGraphicByObjectId(e){return this.owner.layer?.objectIdField?this._findGraphics3DGraphicByObjectId(e):null}_getGraphicObjectID(e,t=this.owner.layer?.objectIdField){return (0,_layers_graphics_dehydratedFeatures_js__WEBPACK_IMPORTED_MODULE_29__.getObjectId)(e,t)}get graphics3DGraphicsByObjectID(){const e=this.owner.layer?.objectIdField;if(!e)return;const t=new Map;return this.graphics3DGraphics.forEach((i=>{if(!i)return;const r=i.graphic,s=this._getGraphicObjectID(r,e);null!=s&&t.set(s,i)})),t}get labelsEnabled(){return!!this._labeler?.layerLabelsEnabled()}async updateLabelingInfo(e){const t=this._deconflictor?.labelingInfoChange(e),i=this._labeler?.labelingInfoChange(e);await Promise.allSettled([t,i])}updateVisibilityInfo(){this._deconflictor?.labelingInfoChange(),this._labeler?.visibilityInfoChange()}get symbolUpdateType(){if(this._pendingUpdates.size>0)return"unknown";let e=!1,t=!1;for(const[i,r]of this._symbols)if(null!=r){switch(r.getFastUpdateStatus()){case _interfaces_js__WEBPACK_IMPORTED_MODULE_55__.FastUpdateStatus.Loading:return"unknown";case _interfaces_js__WEBPACK_IMPORTED_MODULE_55__.FastUpdateStatus.Fast:this._graphicsBySymbol.has(i)&&(t=!0);break;case _interfaces_js__WEBPACK_IMPORTED_MODULE_55__.FastUpdateStatus.Slow:this._graphicsBySymbol.has(i)&&(e=!0);break;case _interfaces_js__WEBPACK_IMPORTED_MODULE_55__.FastUpdateStatus.Mixed:this._graphicsBySymbol.has(i)&&(t=e=!0);case _interfaces_js__WEBPACK_IMPORTED_MODULE_55__.FastUpdateStatus.Undefined:}}return t?e?"mixed":"fast":e?"slow":"mixed"}runTask(e){if(this._dataUpdateQueue.runTask(e),this._updateQueue.runTask(e),this._applyPendingUpdates(e),this.notifyChange("running"),this.running||this.notifyChange("dataUpdating"),this.notifyChange("updatingRemaining"),!e.hasProgressed)return _support_Yield_js__WEBPACK_IMPORTED_MODULE_68__.Yield}setObjectIdVisibility(e,t){t?this._objectIdInvisibleSet.delete(e):this._objectIdInvisibleSet.add(e);const i=this._findGraphics3DGraphicByObjectId(e);null!=i&&this._updateUserVisibility(i)}_findGraphics3DGraphicByObjectId(e){return (0,_core_MapUtils_js__WEBPACK_IMPORTED_MODULE_7__.findInMap)(this.graphics3DGraphics,(t=>this._getGraphicObjectID(t.graphic)===e))}_updateUserVisibility(e){if(null==e)return!1;const t=e.graphic,i=this._getGraphicObjectID(t),r=t.visible&&!this.owner.suspended&&this.stageLayer.visible&&(null==i||!this._objectIdInvisibleSet.has(i));return e.setVisibilityFlag(_enums_js__WEBPACK_IMPORTED_MODULE_45__.VisibilityGroup.GRAPHIC,_enums_js__WEBPACK_IMPORTED_MODULE_45__.VisibilityFlag.USER,r)}_whenGraphics3DGraphic(e){const t=this.graphics3DGraphics.get(e.uid);if(t)return Promise.resolve(t);const i=this._whenGraphics3DGraphicRequests[e.uid];if(i)return i.promise;const r=(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_11__.createResolver)();return this._whenGraphics3DGraphicRequests[e.uid]=r,r.promise}async _boundsForGraphics3DGraphic(e,t){const i=this._viewSpatialReference,r=this.owner.view.renderSpatialReference,s=this.owner.view.basemapTerrain.spatialReference,a=(e,t,s)=>(0,_geometry_projection_projectBuffer_js__WEBPACK_IMPORTED_MODULE_22__.projectBuffer)(e,r,t,e,i,t,s),n=(e,t,r)=>(0,_geometry_projection_projectBuffer_js__WEBPACK_IMPORTED_MODULE_22__.projectBuffer)(e,s,t,e,i,t,r),o=this._viewElevationProvider?{service:this._viewElevationProvider,useViewElevation:null!=t&&!!t.useViewElevation,minDemResolution:null!=t?t.minDemResolution:null,minDemResolutionForPoints:this.owner.view.resolution}:null,l=await e.getProjectedBoundingBox(a,n,o,t?.signal);if(!l)return null;const h=l.boundingBox;if(l.requiresDrapedElevation){const e=this.symbolCreationContext.elevationProvider;if(e){(0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_25__.center)(h,ze);const t=e.getElevation(ze[0],ze[1],0,i,"ground")??0;h[2]=Math.min(h[2],t),h[5]=Math.max(h[5],t)}}return{boundingBox:h,screenSpaceObjects:l.screenSpaceObjects}}async whenGraphicBounds(e,t){await (0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_12__.whenOnce)((()=>this.owner?.loadedGraphics));const i=this.owner.layer?.objectIdField,s=this.owner.loadedGraphics.find((t=>t===e||null!=i&&null!=t.attributes&&e.attributes&&t.attributes[i]===e.attributes[i]));if(!s)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_4__["default"]("internal:graphic-not-part-of-view","Graphic is not part of this view");const a=await this._whenGraphics3DGraphic(s);return this._boundsForGraphics3DGraphic(a,t)}computeAttachmentOrigin(e,t){const i=this.graphics3DGraphics.get(e.uid);if(!i)return null;const r=i.computeAttachmentOrigin();if(0===r.render.num&&0===r.draped.num)return null;(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_17__.i)(Ye,0,0,0);let s=0;if(r.render.num>0){if(!(0,_geometry_projection_projectVectorToVector_js__WEBPACK_IMPORTED_MODULE_23__.projectVectorToVector)(r.render.origin,this.symbolCreationContext.renderCoordsHelper.spatialReference,Qe,t))return null;(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_17__.f)(Ye,Ye,Qe),s++}if(r.draped.num>0){const[e,i]=r.draped.origin,a=this._viewElevationProvider.getElevation(e,i,"ground")??0;if((0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_17__.i)(Qe,e,i,a),!(0,_geometry_projection_projectVectorToVector_js__WEBPACK_IMPORTED_MODULE_23__.projectVectorToVector)(Qe,this._viewElevationProvider.spatialReference,Qe,t))return null;(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_17__.f)(Ye,Ye,Qe),s++}return s>1&&(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_17__.g)(Ye,Ye,1/s),new _geometry_Point_js__WEBPACK_IMPORTED_MODULE_20__["default"]({x:Ye[0],y:Ye[1],z:Ye[2],spatialReference:t})}getSymbolLayerSize(e,t){const i=this._symbols.get(e.id);if(null==i)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_4__["default"]("internal:symbol-not-part-of-view","Symbol is not part of this view");const s=e.symbolLayers.indexOf(t);if(-1===s)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_4__["default"]("internal:missing-symbol-layer","Symbol layer is not in symbol");const a=i.getSymbolLayerSize(s);if(null==a)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_4__["default"]("internal:missing-size","Symbol layer has no valid size");return a}_graphicsCollectionChanged(e){this._startCreateGraphics&&(this.add(e.added),this.remove(e.removed))}graphicUpdateHandler(e){const t=e.graphic.uid,i=this.graphics3DGraphics.get(t);if(null!=i||null!=this._graphicsWithoutSymbol.get(t)){switch(e.property){case"visible":this._graphicUpdateVisibleHandler(i);break;case"geometry":this._graphicUpdateGeometryHandler(i,e);break;case"symbol":this._graphicUpdateSymbolHandler(i,e);break;case"attributes":case"popupTemplate":break;case"origin-transform":this._graphicUpdateTransformHandler(i,e)}this.owner.notifyContentGeometryUpdate?.()}}_graphicUpdateGeometryHandler(e,t){this._graphicUpdateGeometryOrTransformHandler(e,t,(()=>!(null==t.newValue||null==e||!e.graphics3DSymbol.updateGeometry(e,t.newValue)||!(this._labeler?.updateGraphicGeometry(e)??1))&&(this._labeler?.setDirty(),!0)));const i=t.graphic.geometry;null!=i&&this._expandComputedExtent(i)}_graphicUpdateTransformHandler(e,t){const i=t.graphic.geometry;this._graphicUpdateGeometryOrTransformHandler(e,t,(()=>null!=t.newValue&&null!=e&&null!=i&&e.graphics3DSymbol.updateTransform(e,i.spatialReference,t.newValue,t.action)))}_graphicUpdateGeometryOrTransformHandler(e,t,i){if(null!=t.graphic.geometry)if(null!=e)i()||this._recreateGraphic(e.graphic);else{const e=t.graphic.symbol?.id;if(e){const t=this._symbols.get(e);if(null!=t&&t.loadStatus===_Loadable_js__WEBPACK_IMPORTED_MODULE_56__.LoadStatus.LOADING)return}this._recreateGraphic(t.graphic)}else this._recreateGraphic(t.graphic)}_graphicUpdateSymbolHandler(e,t){const i=t.graphic,r=null!=e?e.graphics3DSymbol:null!=t.oldValue?this._symbols.get(t.oldValue.id):null;if(null==r||null==t.newValue)return void this._recreateGraphic(i);const s=r.symbol,a=this._getConvertedSymbol(t.newValue);if(null!=a&&(a.type!==s.type||"web-style"===a.type)||"web-style"===s.type)return void this._recreateGraphic(i);const n=this._graphicsBySymbol.get(s.id);if(n&&1!==n.size)return void this._recreateGraphic(i);const o=(0,_core_accessorSupport_diffUtils_js__WEBPACK_IMPORTED_MODULE_16__.diff)(s,a);if(null==o)return void this._updateSymbolMapping(s.id,a);const l={diff:o,graphics3DGraphicPatches:[],symbolStatePatches:[]};if(r.prepareSymbolPatch(l),!(0,_core_accessorSupport_diffUtils_js__WEBPACK_IMPORTED_MODULE_16__.isEmpty)(l.diff))return void this._recreateGraphic(i);const h=this._getRenderingInfo(i,!1);if(null==h)return void this._recreateGraphic(i);const d=r.extentPadding;for(const p of l.symbolStatePatches)p();if(d!==r.extentPadding&&this._recomputeExtentPadding(),null!=e)for(const p of l.graphics3DGraphicPatches)p(e,h);this._updateSymbolMapping(s.id,a)}_graphicUpdateVisibleHandler(e){this._updateUserVisibility(e)&&(this._labeler?.setDirty(),this._deconflictor?.setDirty())}recreateGraphics(e){this._suspendSymbolCleanup=!0,this.remove(e),this.add(e),this._suspendSymbolCleanup=!1,this.effectiveUpdatePolicy===_webgl_engine_lib_UpdatePolicy_js__WEBPACK_IMPORTED_MODULE_61__.UpdatePolicy.SYNC&&this._cleanupSymbols()}_recreateGraphic(e){this.recreateGraphics([e])}_beginGraphicUpdate(e){const t=this._graphicsUpdateId;return this._graphicsUpdateId++,this._graphicsWaitingForSymbol.set(e.uid,t),1===this._graphicsWaitingForSymbol.size&&this.notifyChange("dataUpdating"),t}_endGraphicUpdate(e,t){e&&(t&&this._graphicStateTracking?.updateGraphicError(e,t),this._graphicsWaitingForSymbol.delete(e.uid),0===this._graphicsWaitingForSymbol.size&&(this._cleanupSymbols(),this.notifyChange("dataUpdating")))}_recomputeExtentPadding(){let e=0;this._symbols.forEach((t=>{null!=t&&(e=Math.max(e,t.extentPadding))})),this._set("extentPadding",e)}_expandComputedExtent(e){const t=We,i=e.spatialReference;(0,_layers_graphics_dehydratedFeatures_js__WEBPACK_IMPORTED_MODULE_29__.computeAABB)(e,t);const r=this._viewSpatialReference,s=ke.tmpVec;if((0,_geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_27__.equals)(i,r)||(0,_geometry_projection_projectXYZToVector_js__WEBPACK_IMPORTED_MODULE_24__.projectXYZToVector)(t[0],t[1],0,i,s,r)&&(t[0]=s[0],t[1]=s[1],(0,_geometry_projection_projectXYZToVector_js__WEBPACK_IMPORTED_MODULE_24__.projectXYZToVector)(t[3],t[4],0,i,s,r),t[3]=s[0],t[4]=s[1]),!(isFinite(t[0])&&isFinite(t[3])&&isFinite(t[1])&&isFinite(t[4])))return;const a=this.computedExtent;let n=null;const o=isFinite(t[2])&&isFinite(t[5]),l=o&&(null==a?.zmin||t[2]<a.zmin),h=o&&(null==a?.zmax||t[5]>a.zmax);if(a){(t[0]<a.xmin||t[1]<a.ymin||t[3]>a.xmax||t[4]>a.ymax||l||h)&&(n=this._propertiesPool.get("computedExtent"),n.xmin=Math.min(t[0],a.xmin),n.ymin=Math.min(t[1],a.ymin),n.xmax=Math.max(t[3],a.xmax),n.ymax=Math.max(t[4],a.ymax),n.spatialReference=r)}else n=this._propertiesPool.get("computedExtent"),n.xmin=t[0],n.ymin=t[1],n.xmax=t[3],n.ymax=t[4],n.spatialReference=r;n&&(l&&(n.zmin=t[2]),h&&(n.zmax=t[5]),this._set("computedExtent",n))}_abortElevationInfoChange(){this._elevationInfoChangeAbortController&&(this._elevationInfoChangeAbortController.abort(),this._elevationInfoChangeAbortController=null)}async elevationInfoChange(){this._abortElevationInfoChange();const e=new AbortController;this._elevationInfoChangeAbortController=e;const t=(0,_featureExpressionInfoUtils_js__WEBPACK_IMPORTED_MODULE_46__.extractExpressionInfo)(this.layer.elevationInfo,this.elevationFeatureExpressionEnabled);this.symbolCreationContext.featureExpressionInfoContext=await (0,_featureExpressionInfoUtils_js__WEBPACK_IMPORTED_MODULE_46__.createContext)(t,this._viewSpatialReference,e.signal,_core_Logger_js__WEBPACK_IMPORTED_MODULE_6__["default"].getLogger(this)),(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_11__.throwIfAborted)(e.signal),this._elevationInfoChangeAbortController=null,this._labeler?.elevationInfoChange(),this.forEachGraphics3DSymbol(((e,t,i)=>{e.globalPropertyChanged("elevationInfo",t)?t?.forEach((e=>{const t=e.graphic,i=e.labelLayers;for(const r of i){r.graphics3DSymbolLayer.updateGraphicElevationContext(t,r)}})):this._recreateSymbol(i)})),this.updateStageLayerElevationProvider(),this._elevationAlignment?.elevationInfoChange()}updateStageLayerElevationProvider(){this._stageLayerElevationProvider?(this.layer.elevationInfo&&"relative-to-scene"===this.layer.elevationInfo.mode||0===this._numberOfGraphicsProvidingElevation)&&(this.owner.view.elevationProvider.unregister(this._stageLayerElevationProvider),this._stageLayerElevationProvider=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_8__.disposeMaybe)(this._stageLayerElevationProvider)):(!this.layer.elevationInfo||this.layer.elevationInfo&&"relative-to-scene"!==this.layer.elevationInfo.mode)&&this._numberOfGraphicsProvidingElevation>0&&(this._stageLayerElevationProvider=new _support_StageLayerElevationProvider_js__WEBPACK_IMPORTED_MODULE_58__.StageLayerElevationProvider({layer:this.layer,stageLayer:this.stageLayer,view:this.owner.view}),this.owner.view.elevationProvider.register("scene",this._stageLayerElevationProvider))}_clearSymbolsAndGraphics(){this.clear(),null!=this._filterVisibility&&this._filterVisibility.clear(),this._labeler?.reset(),this._deconflictor?.clear(),this._elevationAlignment?.clear(),this.stageLayer?.invalidateSpatialQueryAccelerator(),this._stageLayerElevationProvider&&(this.owner.view.elevationProvider.unregister(this._stageLayerElevationProvider),this._stageLayerElevationProvider=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_8__.disposeMaybe)(this._stageLayerElevationProvider))}startCreateGraphics(){this._startCreateGraphics=!0,this.recreateAllGraphics()}recreateAllGraphics(){this._recreateAllGraphics(!1)}recreateAllGraphicsAndSymbols(){this._recreateAllGraphics(!0)}_recreateAllGraphics(e=!1){if(!this._startCreateGraphics)return;const{loadedGraphics:t,view:i}=this.owner,r=i.basemapTerrain?.tilingScheme&&t?.length?t.toArray():null;!e&&r||this._clearSymbolsAndGraphics(),this.symbolCreationContext.screenSizePerspectiveEnabled=this.owner.view.screenSizePerspectiveEnabled&&!!this.layer.screenSizePerspectiveEnabled,this.symbolCreationContext.slicePlaneEnabled=!!this.owner.slicePlaneEnabled,this._set("computedExtent",null),r&&(e?this.add(r):this.recreateGraphics(r))}_recreateSymbol(e){const t=this._graphicsBySymbol.get(e),i=[];t&&(t.forEach(((e,t)=>{const r=e.usedMemory;this._conditionalRemove(e,t),this._spatialIndex?.remove(e),i.push(e.graphic),e.destroy(),this._removeGraphics3DGraphic(t,r),this._updateLayerVisibility(),this._featureStore.events.emit("changed"),this.owner.notifyContentGeometryUpdate?.()})),this._graphicsBySymbol.set(e,new Map));const r=this._symbols.get(e);(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_8__.destroyMaybe)(r),this._symbols.delete(e),this._symbolMaterials=null,(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_8__.destroyMaybe)(this._unusedSymbolsCache.pop(e)),this.add(i)}_recreateGraphicsForSymbol(e){const t=this._graphicsBySymbol.get(e);if(t){const e=[];t.forEach((t=>e.push(t.graphic))),this.recreateGraphics(e)}}_conditionalRemove(e,t){this._graphicsDrapedUids.delete(t),this._objectStates?.removeGraphic(e),this._labeler?.removeGraphic(e),this._deconflictor?.removeGraphic(e),null!=this._graphicStateTracking&&this._graphicStateTracking.removeGraphic(e)}add(e){e&&0!==e.length&&(this.owner.view.basemapTerrain?.tilingScheme?(this._updatePolicyForGraphics(e)===_webgl_engine_lib_UpdatePolicy_js__WEBPACK_IMPORTED_MODULE_61__.UpdatePolicy.ASYNC?this._addDelayed(e):this._addImmediate(e),this.notifyChange("dataUpdating")):_core_Logger_js__WEBPACK_IMPORTED_MODULE_6__["default"].getLogger(this).error("#add()","Cannot add graphics before terrain surface has been initialized"))}_updatePolicyForGraphics(e){if(this.effectiveUpdatePolicy===_webgl_engine_lib_UpdatePolicy_js__WEBPACK_IMPORTED_MODULE_61__.UpdatePolicy.SYNC&&("mesh"===this.layer.geometryType||null==this.layer.geometryType))for(const t of e)if(null!=t.geometry&&"mesh"===t.geometry.type&&!t.geometry.loaded)return _webgl_engine_lib_UpdatePolicy_js__WEBPACK_IMPORTED_MODULE_61__.UpdatePolicy.ASYNC;return this.effectiveUpdatePolicy}_addImmediate(e){this._geometryWarningLogged=!1,this._symbolWarningLogged=!1;for(const t of e)this._addGraphic(t,this._getRenderingInfo(t),_webgl_engine_lib_UpdatePolicy_js__WEBPACK_IMPORTED_MODULE_61__.UpdatePolicy.SYNC);this._cleanupSymbols(),this._labeler?.setDirty(),this._deconflictor?.setDirty()}_addDelayed(e){for(const t of e){const e=t.uid;let i=this._pendingUpdates.get(e);i?i.add?i.state!==Ne.NEW&&i.abortController?.abort():this._pendingAdds++:(i=this._pendingUpdatesPool.pushNew(),this._pendingAdds++,this._pendingUpdates.set(e,i)),i.add=t}this.notifyChange("running"),this.notifyChange("updatingRemaining"),this.notifyChange("dataUpdating")}remove(e){this.effectiveUpdatePolicy===_webgl_engine_lib_UpdatePolicy_js__WEBPACK_IMPORTED_MODULE_61__.UpdatePolicy.ASYNC?this._removeDelayed(e):this._removeImmediate(e),this.notifyChange("dataUpdating")}_removeImmediate(e){for(const t of e)this._removeGraphic(t);this._cleanupSymbols(),this._labeler?.setDirty(),this._deconflictor?.setDirty()}_removeDelayed(e){for(const t of e){const e=t.uid,i=this._pendingUpdates.get(e);if(i)i.add&&(i.remove?i.add=null:this._pendingUpdates.delete(e),i.state===Ne.LOADING&&i.abortController?.abort(),this._pendingAdds--);else{const i=this._pendingUpdatesPool.pushNew();i.remove=t,this._pendingUpdates.set(e,i),this._pendingRemoves++,this._applyPendingRemovesFirst=!0}}0===this._pendingUpdates.size&&this._finishPendingUpdates(),this.notifyChange("running"),this.notifyChange("updatingRemaining"),this.notifyChange("dataUpdating")}_finishPendingUpdates(){this._pendingUpdatesPool.clear(),this._cleanupSymbols(),(this._pendingAdds||this._pendingRemoves)&&_core_Logger_js__WEBPACK_IMPORTED_MODULE_6__["default"].getLogger(this).warn("pendingAdds/Removes in inconsistent state!"),this._pendingAdds=0,this._pendingRemoves=0,this._applyPendingRemovesFirst=!1}_applyPendingUpdates(e){if(this._geometryWarningLogged=!1,this._symbolWarningLogged=!1,0===this._pendingUpdates.size&&this._spatialIndex?.updating)return this._spatialIndex.update(),void e.madeProgress();if(this._applyPendingRemovesFirst){this._applyPendingRemovesFirst=!1;for(const[t,i]of this._pendingUpdates){if(e.done){this._applyPendingRemovesFirst=!0;break}if(i.remove&&!i.add&&(this._pendingRemoves--,e.madeProgress(),this._removeGraphic(i.remove),i.remove=null,this._pendingUpdates.delete(t),0===this._pendingRemoves))break}}for(const[t,i]of this._pendingUpdates){if(e.done)break;i.add&&i.state===Ne.NEW&&this._processPendingUpdateNew(i);let r=this.effectiveUpdatePolicy;if(!i.remove||i.add&&i.state!==Ne.READY||(this._pendingRemoves--,e.madeProgress(),this._removeGraphic(i.remove),i.remove=null,r=_webgl_engine_lib_UpdatePolicy_js__WEBPACK_IMPORTED_MODULE_61__.UpdatePolicy.SYNC),i.add)switch(i.state){case Ne.READY:this._addGraphic(i.add,i.renderingInfo,r),i.add=null,this._pendingAdds--,e.madeProgress();break;case Ne.REJECTED:i.add=null,this._pendingAdds--;case Ne.LOADING:}null==i.remove&&null==i.add&&this._pendingUpdates.delete(t)}0===this._pendingUpdates.size&&(this._finishPendingUpdates(),this.notifyChange("running"),this.notifyChange("dataUpdating"))}_processPendingUpdateNew(e){if(!e.add)return void(e.state=Ne.READY);const t=e.add.geometry;null==t||"mesh"!==t.type||t.loaded?this._processPendingUpdateNewRenderingInfo(e):this._processPendingUpdateNewMesh(e,t)}async _processPendingUpdateNewMesh(e,t){e.state=Ne.LOADING,e.abortController=new AbortController;const i=e.abortController.signal;try{await t.load({signal:i})}catch(r){return this._processPendingUpdateNewError(e,r)}e.abortController=null,this._processPendingUpdateNewRenderingInfo(e)}_processPendingUpdateNewError(e,t){e.abortController=null,(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_11__.isAbortError)(t)?e.state=Ne.NEW:e.state=Ne.REJECTED}async _processPendingUpdateNewRenderingInfo(e){if(null==this.layer.renderer||"dictionary"!==this.layer.renderer.type)return e.renderingInfo=this._getRenderingInfo(e.add),void(e.state=Ne.READY);e.state=Ne.LOADING,e.abortController=new AbortController;let t=null;try{t=await this._getRenderingInfoAsync(e.add,{signal:e.abortController.signal})}catch(i){return e.abortController=null,void((0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_11__.isAbortError)(i)?e.state=Ne.NEW:e.state=Ne.REJECTED)}null==t?.symbol?(this._symbolWarningLogged||(this._symbolWarningLogged=!0,_core_Logger_js__WEBPACK_IMPORTED_MODULE_6__["default"].getLogger(this).warn(`Graphic in layer ${this.layer.id} has no symbol and will not render`)),e.renderingInfo=null):e.renderingInfo=t,e.state=Ne.READY}_addGraphic(e,t,i){if(this._graphicsWithoutSymbol.set(e.uid,e),null==t?.symbol||!(0,_layers_graphics_dehydratedFeatures_js__WEBPACK_IMPORTED_MODULE_29__.hasGeometry)(e))return;const r=this.stage.renderView.olidRenderHelper;if(r&&this.setUidToIdOnAdd){const t=(0,_support_basemapUtils_js__WEBPACK_IMPORTED_MODULE_35__.isBasemapLayerView)(this.owner.view,this.owner.layerViewUid);r.setUidToObjectAndLayerId(e.objectId,e.uid,this.layer.id,this.owner.layerViewUid,!!this.layer.popupEnabled&&!t&&(0,_layers_support_popupUtils_js__WEBPACK_IMPORTED_MODULE_64__.hasPopupTemplate)(this.layer,this.owner.view.popup?.defaultPopupTemplateEnabled))}const s=t.symbol,a=this.getOrCreateGraphics3DSymbol(s,t.renderer);if(null==a)return;this._expandComputedExtent(e.geometry);const n=this._beginGraphicUpdate(e),o=new _Graphics3DGraphicCreationContext_js__WEBPACK_IMPORTED_MODULE_48__.Graphics3DGraphicCreationContext(e,t,this.layer);let l=!1;const h=e=>{e===a.symbol.id&&(l=!0)};this._whenSymbolRemoved.push(h);const d=()=>{if(--this._loadingSymbols,this.destroyed)return;this._whenSymbolRemoved.removeUnordered(h);if(this._graphicsWaitingForSymbol.get(e.uid)!==n||l||a.destroyed||this.graphicSymbolSupported&&e.symbol&&e.symbol.id!==a.symbol.id)--a.referenced,this._cleanupSymbols();else{const t=this._createGraphics3DGraphic(a,o);this._spatialIndex&&null!=t&&this._spatialIndex.add(t),--a.referenced,this._endGraphicUpdate(e)}this._featureStore.events.emit("changed"),this.owner.notifyContentGeometryUpdate?.(),this._labeler?.setDirty()},p=t=>{--this._loadingSymbols,this.destroyed||(this._whenSymbolRemoved.removeUnordered(h),l||((0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_11__.isAbortError)(t)?this.add([e]):a.destroyed||this._endGraphicUpdate(e,t)))};++this._loadingSymbols,i===_webgl_engine_lib_UpdatePolicy_js__WEBPACK_IMPORTED_MODULE_61__.UpdatePolicy.ASYNC?a.load((()=>this._dataUpdateQueue.push(d,null).catch(_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_11__.ignoreAbortErrors)),(e=>this._dataUpdateQueue.push((()=>p(e)),null).catch(_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_11__.ignoreAbortErrors))):a.load(d,p)}_removeGraphic(e){const t=e.uid,i=this.graphics3DGraphics.get(t);if(i){i.graphics3DSymbol.onRemoveGraphic(i);const e=i.usedMemory,r=i.isElevationSource;this._conditionalRemove(i,t),this._spatialIndex?.remove(i);const s=i.graphics3DSymbol.symbol.id;this._graphicsBySymbol.get(s)?.delete(t),this._graphicsWithoutSymbol.delete(t),this._removeGraphics3DGraphic(t,e,r),i.destroy(),this._featureStore.events.emit("changed"),this.owner.notifyContentGeometryUpdate?.()}else this._graphicsWithoutSymbol.delete(t),this._graphicsWaitingForSymbol.delete(t),0===this._graphicsWaitingForSymbol.size&&(this._cleanupSymbols(),this.notifyChange("dataUpdating"))}_hasLabelingContext(e){if(e instanceof _symbols_LabelSymbol3D_js__WEBPACK_IMPORTED_MODULE_37__["default"]||e instanceof _symbols_TextSymbol_js__WEBPACK_IMPORTED_MODULE_38__["default"]){const t=this.symbolCreationContext.layer;return!!t.labelingInfo&&t.labelingInfo.some((t=>t.symbol===e))}return!1}_hasValidSymbolCreationContext(e){return!(e instanceof _symbols_LabelSymbol3D_js__WEBPACK_IMPORTED_MODULE_37__["default"]&&!this._hasLabelingContext(e))||(_core_Logger_js__WEBPACK_IMPORTED_MODULE_6__["default"].getLogger(this).error("LabelSymbol3D is only valid as part of a LabelClass. Using LabelSymbol3D as a renderer symbol is not supported."),!1)}_getRenderingInfo(e,t=!0){const i=e.geometry;if(null==i)return t&&!this._geometryWarningLogged&&(this._geometryWarningLogged=!0,_core_Logger_js__WEBPACK_IMPORTED_MODULE_6__["default"].getLogger(this).warn(`Graphic in layer ${this.layer.id} has no geometry and will not render`)),null;if(!(0,_geometry_projectionUtils_js__WEBPACK_IMPORTED_MODULE_21__.canProjectWithoutEngine)(i.spatialReference,this._viewSpatialReference))return t&&!this._geometryWarningLogged&&(this._geometryWarningLogged=!0,_core_Logger_js__WEBPACK_IMPORTED_MODULE_6__["default"].getLogger(this).warn(`Graphic in layer ${this.layer.id} has incompatible spatial reference and will not render`)),null;if(!this.graphicSymbolSupported&&null!=e.symbol)return t&&!this._symbolWarningLogged&&(this._symbolWarningLogged=!0,_core_Logger_js__WEBPACK_IMPORTED_MODULE_6__["default"].getLogger(this).warn(`Graphic in layer ${this.layer.id} is not allowed to have a symbol, use a renderer instead`)),null;const r=this.rendererHasGeometryOperations?(0,_layers_graphics_hydratedFeatures_js__WEBPACK_IMPORTED_MODULE_30__.hydrateGraphic)(e,this.layer):e;let s;if(this.owner.getRenderingInfo&&(this.getRenderingInfoWithoutRenderer||null!=this.currentRenderer))s=this.owner.getRenderingInfo(r,this.currentRenderer,this._arcadeOnDemand);else{const e=r.symbol||(0,_symbols_support_defaults3D_js__WEBPACK_IMPORTED_MODULE_40__.getDefaultSymbol3D)(r.geometry);s=new _renderers_support_RenderingInfo_js__WEBPACK_IMPORTED_MODULE_34__.RenderingInfo(null,e)}return null==s?.symbol?(t&&!this._symbolWarningLogged&&(this._symbolWarningLogged=!0,_core_Logger_js__WEBPACK_IMPORTED_MODULE_6__["default"].getLogger(this).warn(`Graphic in layer ${this.layer.id} has no symbol and will not render`)),null):s}_getRenderingInfoAsync(e,t){if(null==e.geometry)return this._geometryWarningLogged||(this._geometryWarningLogged=!0,_core_Logger_js__WEBPACK_IMPORTED_MODULE_6__["default"].getLogger(this).warn(`Graphic in layer ${this.layer.id} has no geometry and will not render`)),null;if(!this.graphicSymbolSupported&&null!=e.symbol)return this._symbolWarningLogged||(this._symbolWarningLogged=!0,_core_Logger_js__WEBPACK_IMPORTED_MODULE_6__["default"].getLogger(this).warn(`Graphic in layer ${this.layer.id} is not allowed to have a symbol, use a renderer instead`)),null;const i=this.rendererHasGeometryOperations?(0,_layers_graphics_hydratedFeatures_js__WEBPACK_IMPORTED_MODULE_30__.hydrateGraphic)(e,this.layer):e;return this.owner.getRenderingInfoAsync(i,this.currentRenderer,this._arcadeOnDemand,t)}_createGraphics3DSymbol(e,t){if(!this._hasValidSymbolCreationContext(e))return null;const i=this._getConvertedSymbol(e);if(!i)return null;let r;if(null!=t&&"backgroundFillSymbol"in t&&t.backgroundFillSymbol){const e=(0,_symbols_support_symbolConversion_js__WEBPACK_IMPORTED_MODULE_41__.to3D)(t.backgroundFillSymbol,{ignoreDrivers:!0});null!=e.symbol&&(r=e.symbol.symbolLayers)}const s=(0,_Graphics3DSymbolFactory_js__WEBPACK_IMPORTED_MODULE_50__.make)(i,this.symbolCreationContext,r);return s.load((()=>{const e=s.extentPadding;e>this.extentPadding&&this._set("extentPadding",e),this.notifyChange("averageSymbolComplexity")}),(()=>{})),s}getOrCreateGraphics3DSymbol(e,t){let i=this._symbols.get(e.id);if(void 0===i){const r=this._unusedSymbolsCache.pop(e.id);i=null!=r?r:e instanceof _symbols_WebStyleSymbol_js__WEBPACK_IMPORTED_MODULE_39__["default"]?new _Graphics3DWebStyleSymbol_js__WEBPACK_IMPORTED_MODULE_51__.Graphics3DWebStyleSymbol(e,(e=>this._dataUpdateQueue.push(e,null)),(e=>this._createGraphics3DSymbol(e,t))):this._createGraphics3DSymbol(e,t),this._symbols.set(e.id,i),this._symbolMaterials=null}return null!=i&&++i.referenced,i}trackGraphicState(e){return null==this._graphicStateTracking&&(this._graphicStateTracking=new _GraphicStateTracking_js__WEBPACK_IMPORTED_MODULE_53__.GraphicStateTracking(this)),this._graphicStateTracking.add(e)}_addGraphics3DGraphic(e){this._usedMemory+=e.usedMemory,this.graphics3DGraphics.set(e.graphic.uid,e),this._numberOfGraphics++,e.isElevationSource&&(this._numberOfGraphicsProvidingElevation++,this.updateStageLayerElevationProvider()),this._updateLayerVisibility()}_removeGraphics3DGraphic(e,t,i=!1){this._usedMemory-=t,this.graphics3DGraphics.delete(e),this._numberOfGraphics--,i&&(this._numberOfGraphicsProvidingElevation--,this.updateStageLayerElevationProvider()),this._updateLayerVisibility()}_createGraphics3DGraphic(e,t){const i=t.graphic;if(this._graphicsWithoutSymbol.delete(i.uid),!this._symbols.has(e.symbol.id))return this.add([i]),null;if(this.graphics3DGraphics.has(i.uid))return null;const r=e.createGraphics3DGraphic(t);if(null==r)return null;this._addGraphics3DGraphic(r);const s=e.symbol.id;this._graphicsBySymbol.has(s)||this._graphicsBySymbol.set(s,new Map),this._graphicsBySymbol.get(s).set(i.uid,r);if(r.isDraped&&this._graphicsDrapedUids.add(i.uid),r.centroid=null,null!=i.geometry&&"point"!==i.geometry.type&&(r.centroid=(0,_graphicUtils_js__WEBPACK_IMPORTED_MODULE_54__.computeCentroid)(i.geometry,this._viewSpatialReference)),this._updateUserVisibility(r),null!=this._scaleVisibility&&this._scaleVisibility.updateVisibility(r),null!=this._filterVisibility){const{defaultVisibility:e}=this._filterVisibility;r.setVisibilityFlag(_enums_js__WEBPACK_IMPORTED_MODULE_45__.VisibilityGroup.GRAPHIC,_enums_js__WEBPACK_IMPORTED_MODULE_45__.VisibilityFlag.FILTER,e),e||this._filterVisibility.reapply()}this._deconflictor?.addGraphic(r),this._labeler?.addGraphic(r),this._objectStates?.addGraphic(r),r.initialize(this.stageLayer),null!=this._graphicStateTracking&&this._graphicStateTracking.addGraphic(r);const a=this._whenGraphics3DGraphicRequests[i.uid];return a&&(delete this._whenGraphics3DGraphicRequests[i.uid],a.resolve(r)),this._symbolMaterials=null,r}async rendererChange(e){if(this._rendererChangeAbortController=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_8__.abortMaybe)(this._rendererChangeAbortController),e!==this.currentRenderer)if(this._validateRenderer(e),null==e&&this._currentRendererChange(null,!1),(0,_renderers_support_rendererConversion_js__WEBPACK_IMPORTED_MODULE_33__.isSupportedRenderer3D)(e))if(e?.arcadeRequired){const t=new AbortController;this._rendererChangeAbortController=t;const{arcadeUtils:i}=await this._ensureArcade();(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_11__.throwIfAborted)(t);const r=i.hasGeometryOperations(e);r&&(await i.enableGeometryOperations(),(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_11__.throwIfAborted)(t)),this.effectiveUpdatePolicy===_webgl_engine_lib_UpdatePolicy_js__WEBPACK_IMPORTED_MODULE_61__.UpdatePolicy.ASYNC?await this._updateQueue.push((()=>this._currentRendererChange(e,r)),t.signal):this._currentRendererChange(e,r),this._rendererChangeAbortController=null}else if(this.effectiveUpdatePolicy===_webgl_engine_lib_UpdatePolicy_js__WEBPACK_IMPORTED_MODULE_61__.UpdatePolicy.ASYNC){const t=new AbortController;this._rendererChangeAbortController=t,await this._updateQueue.push((()=>this._currentRendererChange(e,!1)),t.signal),this._rendererChangeAbortController=null}else this._currentRendererChange(e,!1);else this._currentRendererChange(e,!1)}async _ensureArcade(){return null==this._arcadeOnDemand?(this._arcadeOnDemand=await (0,_support_loadArcade_js__WEBPACK_IMPORTED_MODULE_36__.loadArcade)(),this._arcadeOnDemand):this._arcadeOnDemand}_currentRendererChange(e,t){this.currentRenderer=e,this.rendererHasGeometryOperations=t,this.symbolCreationContext.arcade=this._arcadeOnDemand;const i=this.symbolCreationContext.renderer;if(e===i)return;if(this._symbolConversionCache.clear(),this._unusedSymbolsCache.clear(),null==e)return this.symbolCreationContext.renderer=null,void this.recreateAllGraphicsAndSymbols();const r=(0,_core_accessorSupport_diffUtils_js__WEBPACK_IMPORTED_MODULE_16__.diff)(i,e);this._updateUnchangedSymbolMappings(r,e,i),this.symbolCreationContext.renderer=e,null!=r&&("complete"===r.type?this.recreateAllGraphicsAndSymbols():"partial"===r.type&&(this._applyRendererDiff(r,e,i)?this._labeler?.reset():this.recreateAllGraphicsAndSymbols()),this.notifyChange("averageSymbolComplexity"))}_diffHasSymbolChange(e){for(const t in e.diff)switch(t){case"visualVariables":case"defaultSymbol":case"uniqueValueInfos":break;case"uniqueValueGroups":case"authoringInfo":case"fieldDelimiter":delete e.diff[t];break;default:return!0}return!1}_applySymbolSetDiff(e,t,i){e=e||[],t=t||[];const r=[];for(const s of t){const t=this._graphicsBySymbol.get(s.id);t&&t.forEach(((a,n)=>{const o=a.graphic,l=this.layer instanceof _layers_Layer_js__WEBPACK_IMPORTED_MODULE_28__["default"]?this.layer:null,h=this._arcadeOnDemand;if(s===i.defaultSymbol&&i.getSymbol((0,_layers_graphics_hydratedFeatures_js__WEBPACK_IMPORTED_MODULE_30__.hydrateGraphic)(o,l),{arcade:h})===i.defaultSymbol)return;const d=a.usedMemory;e.length||i.defaultSymbol?r.push(o):this._graphicsWithoutSymbol.set(n,o);const p=this.graphics3DGraphics.get(n);this._conditionalRemove(p,n),a.destroy(),t.delete(n),this._removeGraphics3DGraphic(n,d),this._updateLayerVisibility()})),this._whenSymbolRemoved.forAll((e=>e(s.id)))}(e.length||r.length)&&(this._graphicsWithoutSymbol.forEach((e=>r.push(e))),this._graphicsWithoutSymbol.clear(),this.add(r)),this._cleanupSymbols(),this._labeler?.setDirty(),this._deconflictor?.setDirty()}_applyUniqueValueRendererDiff(e,t,r){const s=e.diff.defaultSymbol,a=e.diff.uniqueValueInfos;if(s||a){const n=a?.changed,o=a?.unchanged;if(n&&o&&n.some((e=>o.some((t=>t.oldValue.symbol?.id===e.oldValue.symbol?.id)))))return!1;const l=a?a.added.map((e=>e.symbol)).filter(_core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_2__.isSome):[],h=a?a.removed.map((e=>e.symbol)).filter(_core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_2__.isSome):[];if(n)for(let e=0;e<n.length;e++)l.push(n[e].newValue.symbol),h.push(n[e].oldValue.symbol);return s?(r.defaultSymbol&&h.push(r.defaultSymbol),t.defaultSymbol&&l.push(t.defaultSymbol)):r.defaultSymbol&&l.length&&h.push(t.defaultSymbol),this._applySymbolSetDiff(l,h,t),delete e.diff.defaultSymbol,delete e.diff.uniqueValueInfos,!0}return!1}_calculateUnchangedSymbolMapping(e,t,i){if("unique-value"!==t?.type||"unique-value"!==i?.type||null!=e&&"partial"!==e.type)return[];const r=e=>null!=e?e.id:null,s=e&&e.diff,a=s?.defaultSymbol,n=s&&s.uniqueValueInfos;let o;if(n)o=n.unchanged.map((e=>({oldId:r(e.oldValue.symbol),newId:r(e.newValue.symbol)})));else{o=[];for(const e of i.uniqueValueInfos??[]){const i=r(e.symbol),s=t.uniqueValueInfos?.find((t=>t.value===e.value));s&&i!==r(s.symbol)&&o.push({oldId:i,newId:r(s.symbol)})}}return!a&&i.defaultSymbol&&o.push({oldId:r(i.defaultSymbol),newId:r(t.defaultSymbol)}),o}_updateSymbolMapping(e,t){const i=null!=t&&t?"string"==typeof t?t:t.id:null;if(null==e||e===i)return;const r=this._graphicsBySymbol.get(e);this._graphicsBySymbol.delete(e),void 0!==r&&this._graphicsBySymbol.set(i,r);const s=this._symbols.get(e);if(void 0!==s&&(this._symbols.delete(e),this._symbols.set(i,s),this._symbolMaterials=null,null!=s)){const e="string"==typeof t?null:t;null!=e?s.symbol=e:s.symbol.id=i}}_updateUnchangedSymbolMappings(e,t,i){const r=this._calculateUnchangedSymbolMapping(e,t,i);for(const{oldId:s,newId:a}of r)this._updateSymbolMapping(s,a)}_applyRendererDiff(e,t,i){if(this._diffHasSymbolChange(e))return!1;if(t instanceof _renderers_UniqueValueRenderer_js__WEBPACK_IMPORTED_MODULE_32__["default"]&&i instanceof _renderers_UniqueValueRenderer_js__WEBPACK_IMPORTED_MODULE_32__["default"]&&this._applyUniqueValueRendererDiff(e,t,i)&&0===Object.keys(e.diff).length)return!0;for(const r of this._graphicsBySymbol.keys()){const i=this._symbols.get(r);if(null!=i)switch(i.applyRendererDiff(e,t)){case _interfaces_js__WEBPACK_IMPORTED_MODULE_55__.ApplyRendererDiffResult.RecreateSymbol:this._recreateSymbol(r);break;case _interfaces_js__WEBPACK_IMPORTED_MODULE_55__.ApplyRendererDiffResult.RecreateGraphics:this._recreateGraphicsForSymbol(r);case _interfaces_js__WEBPACK_IMPORTED_MODULE_55__.ApplyRendererDiffResult.FastUpdate:}}return!0}opacityChange(){this._updateStageLayerVisibility(),this.forEachGraphics3DSymbol(((e,t)=>e.globalPropertyChanged("opacity",t)))}_slicePlaneEnabledChange(e){e!==this.symbolCreationContext.slicePlaneEnabled&&(this.symbolCreationContext.slicePlaneEnabled=e,this.stageLayer.sliceable=e,this.forEachGraphics3DSymbol(((e,t)=>e.globalPropertyChanged("slicePlaneEnabled",t))),this._deconflictor?.slicePlaneEnabledChange(),this._labeler?.slicePlaneEnabledChange())}_physicalBasedRenderingChange(e){this.symbolCreationContext.physicalBasedRenderingEnabled=e,this.forEachGraphics3DSymbol(((e,t,i)=>{e.globalPropertyChanged("physicalBasedRenderingEnabled",t)||this._recreateSymbol(i)}))}_skipHighSymbolLoDsChange(e){this.symbolCreationContext.skipHighSymbolLods=e,this.forEachGraphics3DSymbol(((e,t,i)=>{e.globalPropertyChanged("skipHighSymbolLods",t)||this._recreateSymbol(i)}))}_pixelRatioChange(){this.forEachGraphics3DSymbol(((e,t,i)=>{e.globalPropertyChanged("pixelRatio",t)||this._recreateSymbol(i)}))}_signalUpdatingDuringAsyncLoadedGraphicsChange(){this._updatingPendingLoadedGraphicsChange&&this._updatingPendingLoadedGraphicsChange.remove(),this._updatingPendingLoadedGraphicsChange=(0,_core_scheduling_js__WEBPACK_IMPORTED_MODULE_13__.schedule)((()=>{this._updatingPendingLoadedGraphicsChange=null}))}setClippingExtent(e,t){const i=this.symbolCreationContext.clippingExtent,r=(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_26__.create)();return (0,_support_extentUtils_js__WEBPACK_IMPORTED_MODULE_59__.toBoundingRect)(e,r,t)?this.symbolCreationContext.clippingExtent=(0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_25__.fromRect)((0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_25__.create)(),r):this.symbolCreationContext.clippingExtent=null,!(0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_25__.equals)(this.symbolCreationContext.clippingExtent,i)}modifyGraphics3DGraphicVisibilities(e){if(this.destroyed)return;let t=!1;this.graphics3DGraphics.forEach((i=>{e(i)&&(t=!0)})),t&&(this._labeler?.setDirty(),this._deconflictor?.setDirty())}forEachGraphics3DSymbol(e,t){for(const[i,r]of this._symbols){if(null==r)return;e(r,this._graphicsBySymbol.get(i)||$e,i)}if(!t?.excludeUnused)for(const i of this._unusedSymbolsCache)e(i,void 0,i.symbol.id)}updateGraphicsVisibilities(){null!=this._filterVisibility&&this._filterVisibility.reapply(),this.modifyGraphics3DGraphicVisibilities((e=>{const t=this._updateUserVisibility(e),i=!!this._scaleVisibility?.updateVisibility(e);return t||i}))}_hideAllGraphics(){this.modifyGraphics3DGraphicVisibilities((e=>e.setVisibilityFlag(_enums_js__WEBPACK_IMPORTED_MODULE_45__.VisibilityGroup.GRAPHIC,_enums_js__WEBPACK_IMPORTED_MODULE_45__.VisibilityFlag.USER,!1)))}_validateRenderer(e){const t=()=>`'${this.layer.title?`${this.layer.title}, `:""}id:${this.layer.id}'`,i=(0,_renderers_support_rendererConversion_js__WEBPACK_IMPORTED_MODULE_33__.validateTo3D)(e,{geometryType:this.layer?.geometryType,logWarning:(e,i)=>_core_Logger_js__WEBPACK_IMPORTED_MODULE_6__["default"].getLogger(this).warn(e,`Symbology conversion for layer ${t()}: ${i}`)});if(i){const e=`Renderer for layer ${t} is not supported in a SceneView`;_core_Logger_js__WEBPACK_IMPORTED_MODULE_6__["default"].getLogger(this).warn(e,i.message)}}_cleanupSymbols(){if(this._graphicsWaitingForSymbol.size>0||this._suspendSymbolCleanup)return;let e=!1;this._symbols.forEach(((t,i)=>{if(null==t||t.referenced>0)return;const r=this._graphicsBySymbol.get(i);r&&0!==r.size||(this._graphicsBySymbol.delete(i),this._symbols.delete(i),this._symbolMaterials=null,this._unusedSymbolsCache.put(i,t,_core_MemCache_js__WEBPACK_IMPORTED_MODULE_9__.MinPriority),e=!0)})),e&&(this._recomputeExtentPadding(),this.notifyChange("averageSymbolComplexity"))}get test(){}get performanceInfo(){return new _GraphicsCorePerformanceInfo_js__WEBPACK_IMPORTED_MODULE_52__.GraphicsCorePerformanceInfo(this.graphics3DGraphics.size,Array.from(this.graphics3DGraphics.values()).reduce(((e,t)=>e+(t.isVisible()?1:0)),0),this._graphicsWithoutSymbol.size,this._pendingUpdates.size)}};var Ne;(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_14__.property)({readOnly:!0})],He.prototype,"computedExtent",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_14__.property)()],He.prototype,"currentRenderer",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_14__.property)()],He.prototype,"rendererHasGeometryOperations",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_14__.property)()],He.prototype,"_frameTaskHandle",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_14__.property)()],He.prototype,"_dataUpdateQueue",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_14__.property)()],He.prototype,"_updateQueue",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_14__.property)({readOnly:!0})],He.prototype,"_viewSpatialReference",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_14__.property)()],He.prototype,"_rendererChangeAbortController",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_14__.property)()],He.prototype,"_elevationInfoChangeAbortController",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_14__.property)()],He.prototype,"_initializeAbortController",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_14__.property)()],He.prototype,"_elevationAlignment",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_14__.property)()],He.prototype,"_scaleVisibility",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_14__.property)()],He.prototype,"_filterVisibility",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_14__.property)()],He.prototype,"_initializePromise",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_14__.property)()],He.prototype,"_spatialIndex",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_14__.property)({readOnly:!0})],He.prototype,"extentPadding",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_14__.property)()],He.prototype,"_updatingPendingLoadedGraphicsChange",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_14__.property)()],He.prototype,"_featureStore",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_14__.property)()],He.prototype,"_objectStates",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_14__.property)()],He.prototype,"_loadingSymbols",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_14__.property)({constructOnly:!0})],He.prototype,"compressionTracker",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_14__.property)()],He.prototype,"preferredUpdatePolicy",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_14__.property)()],He.prototype,"_forcedUpdatePolicy",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_14__.property)({readOnly:!0})],He.prototype,"effectiveUpdatePolicy",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_14__.property)({constructOnly:!0})],He.prototype,"elevationFeatureExpressionEnabled",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_14__.property)({constructOnly:!0})],He.prototype,"owner",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_14__.property)({constructOnly:!0})],He.prototype,"layer",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_14__.property)({constructOnly:!0})],He.prototype,"graphicSymbolSupported",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_14__.property)({constructOnly:!0})],He.prototype,"getRenderingInfoWithoutRenderer",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_14__.property)({constructOnly:!0})],He.prototype,"componentFactories",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_14__.property)({constructOnly:!0})],He.prototype,"setUidToIdOnAdd",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_14__.property)()],He.prototype,"featureStore",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_14__.property)()],He.prototype,"initializePromise",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_14__.property)()],He.prototype,"scaleVisibility",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_14__.property)()],He.prototype,"elevationAlignment",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_14__.property)()],He.prototype,"objectStates",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_14__.property)()],He.prototype,"filterVisibility",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_14__.property)({readOnly:!0})],He.prototype,"updating",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_14__.property)({readOnly:!0})],He.prototype,"dataUpdating",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_14__.property)({readOnly:!0})],He.prototype,"running",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_14__.property)({readOnly:!0})],He.prototype,"suspendedOrOutsideOfView",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_14__.property)({readOnly:!0,dependsOn:[]})],He.prototype,"updatingRemaining",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_14__.property)({readOnly:!0})],He.prototype,"displayFeatureLimit",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_14__.property)({readOnly:!0,dependsOn:[]})],He.prototype,"averageSymbolComplexity",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_14__.property)({constructOnly:!0})],He.prototype,"hasZ",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_14__.property)({constructOnly:!0})],He.prototype,"hasM",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_14__.property)()],He.prototype,"_objectIdField",null),He=ke=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_15__.subclass)("esri.views.3d.layers.graphics.Graphics3DCore")],He),function(e){e[e.NEW=0]="NEW",e[e.LOADING=1]="LOADING",e[e.READY=2]="READY",e[e.REJECTED=3]="REJECTED"}(Ne||(Ne={}));class Be{constructor(){this.add=null,this.renderingInfo=null,this.state=Ne.NEW,this.abortController=null,this.remove=null}clear(){this.add=null,this.renderingInfo=null,this.state=Ne.NEW,this.abortController=null,this.remove=null}}const qe=10,Ye=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_18__.create)(),Qe=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_18__.create)(),$e=new Map;


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DFeatureStore.js":
/*!**************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DFeatureStore.js ***!
  \**************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Graphics3DFeatureStore: () => (/* binding */ l)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/Accessor.js */ "./node_modules/@arcgis/core/core/Accessor.js");
/* harmony import */ var _core_Evented_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core/Evented.js */ "./node_modules/@arcgis/core/core/Evented.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_RandomLCG_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../core/RandomLCG.js */ "./node_modules/@arcgis/core/core/RandomLCG.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _geometry_projectionUtils_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../geometry/projectionUtils.js */ "./node_modules/@arcgis/core/geometry/projectionUtils.js");
/* harmony import */ var _geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../geometry/support/aaBoundingBox.js */ "./node_modules/@arcgis/core/geometry/support/aaBoundingBox.js");
/* harmony import */ var _layers_graphics_dehydratedFeatures_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../layers/graphics/dehydratedFeatures.js */ "./node_modules/@arcgis/core/layers/graphics/dehydratedFeatures.js");
/* harmony import */ var _layers_graphics_OptimizedFeature_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../layers/graphics/OptimizedFeature.js */ "./node_modules/@arcgis/core/layers/graphics/OptimizedFeature.js");
/* harmony import */ var _layers_graphics_OptimizedGeometry_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../../layers/graphics/OptimizedGeometry.js */ "./node_modules/@arcgis/core/layers/graphics/OptimizedGeometry.js");
/* harmony import */ var _layers_graphics_data_optimizedFeatureQueryEngineAdapter_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../../layers/graphics/data/optimizedFeatureQueryEngineAdapter.js */ "./node_modules/@arcgis/core/layers/graphics/data/optimizedFeatureQueryEngineAdapter.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
const d=(0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_9__.create)();let l=class extends _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__["default"]{constructor(t){super(t),this.events=new _core_Evented_js__WEBPACK_IMPORTED_MODULE_2__["default"],this.hasZ=null,this.hasM=null,this.objectIdField=null,this.featureAdapter={getAttribute:(t,e)=>"graphic"in t?t.graphic.attributes[e]:_layers_graphics_data_optimizedFeatureQueryEngineAdapter_js__WEBPACK_IMPORTED_MODULE_13__.optimizedFeatureQueryEngineAdapter.getAttribute(t,e),getAttributes:t=>"graphic"in t?t.graphic.attributes:_layers_graphics_data_optimizedFeatureQueryEngineAdapter_js__WEBPACK_IMPORTED_MODULE_13__.optimizedFeatureQueryEngineAdapter.getAttributes(t),getObjectId:t=>"graphic"in t?(0,_layers_graphics_dehydratedFeatures_js__WEBPACK_IMPORTED_MODULE_10__.getObjectId)(t.graphic,this.objectIdField)??void 0:_layers_graphics_data_optimizedFeatureQueryEngineAdapter_js__WEBPACK_IMPORTED_MODULE_13__.optimizedFeatureQueryEngineAdapter.getObjectId(t),getGeometry:t=>"graphic"in t?t.getAsOptimizedGeometry(this.hasZ,this.hasM):_layers_graphics_data_optimizedFeatureQueryEngineAdapter_js__WEBPACK_IMPORTED_MODULE_13__.optimizedFeatureQueryEngineAdapter.getGeometry(t),getCentroid:(t,e)=>{if("graphic"in t){let r=null;null!=t.centroid?r=t.centroid:"point"===t.graphic.geometry.type&&(0,_geometry_projectionUtils_js__WEBPACK_IMPORTED_MODULE_8__.projectPoint)(t.graphic.geometry,u,this.viewSpatialReference)&&(r=u);const o=new Array(2+(e.hasZ?1:0)+(e.hasM?1:0));return null==r?(o[0]=0,o[1]=0,o[2]=0,o[3]=0):(o[0]=r.x,o[1]=r.y,e.hasZ&&(o[2]=r.hasZ?r.z:0),e.hasM&&(o[e.hasZ?3:2]=r.hasM?r.m:0)),new _layers_graphics_OptimizedGeometry_js__WEBPACK_IMPORTED_MODULE_12__["default"]([],o)}return _layers_graphics_data_optimizedFeatureQueryEngineAdapter_js__WEBPACK_IMPORTED_MODULE_13__.optimizedFeatureQueryEngineAdapter.getCentroid(t,e)},cloneWithGeometry:(t,e)=>"graphic"in t?new _layers_graphics_OptimizedFeature_js__WEBPACK_IMPORTED_MODULE_11__.OptimizedFeature(e,this.featureAdapter.getAttributes(t),null,this.featureAdapter.getObjectId(t)):_layers_graphics_data_optimizedFeatureQueryEngineAdapter_js__WEBPACK_IMPORTED_MODULE_13__.optimizedFeatureQueryEngineAdapter.cloneWithGeometry(t,e)}}forEachInBounds(t,e){this.getSpatialIndex().forEachInBounds(t,e)}forEachBounds(t,e){const r=this.getSpatialIndex();for(const o of t){const t=this.featureAdapter.getObjectId(o);null!=r.getBounds(t,d)&&e(d)}}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)({constructOnly:!0})],l.prototype,"getSpatialIndex",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)({constructOnly:!0})],l.prototype,"forEach",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)({constructOnly:!0})],l.prototype,"hasZ",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)({constructOnly:!0})],l.prototype,"hasM",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)({constructOnly:!0})],l.prototype,"objectIdField",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)({constructOnly:!0})],l.prototype,"viewSpatialReference",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)({constructOnly:!0})],l.prototype,"featureSpatialReference",void 0),l=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__.subclass)("esri.views.3d.layers.graphics.Graphics3DFeatureStore")],l);const u={type:"point",x:0,y:0,hasZ:!1,hasM:!1,spatialReference:null};


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DPointSymbol.js":
/*!*************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DPointSymbol.js ***!
  \*************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Graphics3DPointSymbol: () => (/* binding */ s)
/* harmony export */ });
/* harmony import */ var _core_asyncUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/asyncUtils.js */ "./node_modules/@arcgis/core/core/asyncUtils.js");
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/maybe.js */ "./node_modules/@arcgis/core/core/maybe.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _Graphics3DCalloutSymbolLayerFactory_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Graphics3DCalloutSymbolLayerFactory.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DCalloutSymbolLayerFactory.js");
/* harmony import */ var _Graphics3DLineCalloutSymbolLayer_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./Graphics3DLineCalloutSymbolLayer.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DLineCalloutSymbolLayer.js");
/* harmony import */ var _Graphics3DSymbol_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./Graphics3DSymbol.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DSymbol.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
class s extends _Graphics3DSymbol_js__WEBPACK_IMPORTED_MODULE_5__.Graphics3DSymbol{constructor(r,o,t){super(r,o,t),this._calloutSymbolLayer=null,this.symbol.hasVisibleCallout()&&(this._calloutSymbolLayer=(0,_Graphics3DCalloutSymbolLayerFactory_js__WEBPACK_IMPORTED_MODULE_3__.make)(this.symbol,o))}async doLoad(o){const a=this._calloutSymbolLayer?(0,_core_asyncUtils_js__WEBPACK_IMPORTED_MODULE_0__.result)(this._calloutSymbolLayer.load()):null;try{await super.doLoad(o),(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_2__.throwIfAborted)(o)}catch(l){throw this._calloutSymbolLayer?.abortLoad(),l}a&&await a}destroy(){super.destroy(),this._calloutSymbolLayer=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_1__.destroyMaybe)(this._calloutSymbolLayer)}createGraphics3DGraphic(r,o){const t=super.createGraphics3DGraphic(r,o);if(null!=this._calloutSymbolLayer&&null!=t){const o=this._createCalloutGraphic(r);o&&t.setCalloutGraphic(o)}return t}globalPropertyChanged(r,o){return!!super.globalPropertyChanged(r,o)&&(!this._calloutSymbolLayer||this._calloutSymbolLayer.globalPropertyChanged(r,o,(r=>r.calloutLayer)))}updateGeometry(r,o){const t=super.updateGeometry(r,o);if(t&&this._calloutSymbolLayer){const t=r.calloutLayer;if(t)return this._calloutSymbolLayer.updateGeometry(t,o)}return t}_createCalloutGraphic(r){const o=r.renderingInfo;return r.renderingInfo=new _Graphics3DLineCalloutSymbolLayer_js__WEBPACK_IMPORTED_MODULE_4__.LineCalloutSymbolLayerRenderingInfo(o.renderer,o.symbol),this._calloutSymbolLayer.createGraphics3DGraphic(r)}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DScaleVisibility.js":
/*!*****************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DScaleVisibility.js ***!
  \*****************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Graphics3DScaleVisibility: () => (/* binding */ u)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/Accessor.js */ "./node_modules/@arcgis/core/core/Accessor.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_RandomLCG_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../core/RandomLCG.js */ "./node_modules/@arcgis/core/core/RandomLCG.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _core_support_UpdatingHandles_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../core/support/UpdatingHandles.js */ "./node_modules/@arcgis/core/core/support/UpdatingHandles.js");
/* harmony import */ var _geometry_projection_projectBoundingRect_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../geometry/projection/projectBoundingRect.js */ "./node_modules/@arcgis/core/geometry/projection/projectBoundingRect.js");
/* harmony import */ var _geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../geometry/support/aaBoundingRect.js */ "./node_modules/@arcgis/core/geometry/support/aaBoundingRect.js");
/* harmony import */ var _enums_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./enums.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/enums.js");
/* harmony import */ var _support_layerViewUtils_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../support/layerViewUtils.js */ "./node_modules/@arcgis/core/views/support/layerViewUtils.js");
/* harmony import */ var _support_Scheduler_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../support/Scheduler.js */ "./node_modules/@arcgis/core/views/support/Scheduler.js");
/* harmony import */ var _support_Yield_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../support/Yield.js */ "./node_modules/@arcgis/core/views/support/Yield.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
let u=class extends _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__["default"]{constructor(e){super(e),this._scaleRangeActive=!1,this._layerScaleRangeVisibilityQuery=!1,this._extent=null,this._updatingHandles=new _core_support_UpdatingHandles_js__WEBPACK_IMPORTED_MODULE_7__.UpdatingHandles,this.graphicsCoreOwner=null,this.layer=null,this.queryGraphicUIDsInExtent=null,this.graphicsCore=null,this.basemapTerrain=null,this.layerScaleEnabled=!0,this.suspended=!1,this._dirty=!0}initialize(){this.updateScaleRangeActive();const e=this.graphicsCoreOwner.view.resourceController.scheduler;this.addHandles(e.registerTask(_support_Scheduler_js__WEBPACK_IMPORTED_MODULE_12__.TaskPriority.SCALE_VISIBILITY,this)),this._updatingHandles.add((()=>this.layer.effectiveScaleRange),(()=>this.layerMinMaxScaleChangeHandler()))}destroy(){this._updatingHandles.destroy(),this.removeHandles(),this._dirty=!1,this._extent=null,this.graphicsCoreOwner=null,this.layer=null,this.queryGraphicUIDsInExtent=null,this.graphicsCore=null,this.basemapTerrain=null}get updating(){return this._dirty||this._updatingHandles.updating}_setDirty(){this._dirty=!0}setExtent(e){const i=this.graphicsCoreOwner.view.spatialReference,t=this.graphicsCoreOwner.view.basemapTerrain.spatialReference;if(i===t)this._extent=e??null;else{const r=(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_9__.create)();(0,_geometry_projection_projectBoundingRect_js__WEBPACK_IMPORTED_MODULE_8__.projectBoundingRect)(e,i,r,t)?this._extent=r:this._extent=null}this._setDirty()}scaleRangeActive(){return this._scaleRangeActive}updateScaleRangeActive(){const e=this.layer,i=e.effectiveScaleRange;let t=this.layerScaleEnabled&&null!=i&&g(i.minScale,i.maxScale);e.labelingInfo&&!t&&(t=e.labelingInfo.some((e=>e&&g(e.minScale??0,e.maxScale??0))));const r=this._scaleRangeActive!==t;return this._scaleRangeActive=t,t&&!this.hasHandles(y)&&this.basemapTerrain?(this.addHandles(this.basemapTerrain.on("scale-change",(e=>this._scaleUpdateHandler(e))),y),this.layerScaleEnabled&&this.addHandles(this.basemapTerrain.on("tiles-visibility-changed",(()=>this._setDirty())),y)):!t&&this.hasHandles(y)&&this.removeHandles(y),r}get running(){return!(!this.graphicsCoreOwner.view.basemapTerrain||!this.updating)}runTask(e){const i=this.graphicsCoreOwner.view.basemapTerrain;if(this._extent&&i&&i.ready&&this._scaleRangeActive&&this.layerScaleEnabled){if(this._layerScaleRangeVisibilityQuery)return _support_Yield_js__WEBPACK_IMPORTED_MODULE_13__.Yield;{this._layerScaleRangeVisibilityQuery=!0;const{minScale:e,maxScale:t}=this.layer.effectiveScaleRange;i.queryVisibleScaleRange(this._extent,e,t,(e=>this._finishUpdate(e)))}}else this._finishUpdate(!0);e.madeProgress()}_finishUpdate(e){this._layerScaleRangeVisibilityQuery=!1,this._set("suspended",!e),this._dirty=!1}_visibleAtLayerScale(e){const i=this.layer.effectiveScaleRange;return!this.layerScaleEnabled||(0,_support_layerViewUtils_js__WEBPACK_IMPORTED_MODULE_11__.scaleBoundsPredicate)(e,i.minScale||0,i.maxScale||0)}_visibleAtLabelScale(e,i){return (0,_support_layerViewUtils_js__WEBPACK_IMPORTED_MODULE_11__.scaleBoundsPredicate)(e,i.minScale||0,i.maxScale||0)}_graphicScale(e){let i;if(null!=e.centroid?i=e.centroid:null!=e.graphic.geometry&&"point"===e.graphic.geometry.type&&(i=e.graphic.geometry),i){return this.graphicsCoreOwner.view.basemapTerrain?this.graphicsCoreOwner.view.basemapTerrain.getScale(i):1}return null}_graphicVisible(e){if(!this.layerScaleEnabled)return!0;const i=this._graphicScale(e);return this._visibleAtLayerScale(i)}updateVisibility(e){if(!this._scaleRangeActive)return!1;const i=this._graphicVisible(e);return e.setVisibilityFlag(_enums_js__WEBPACK_IMPORTED_MODULE_10__.VisibilityGroup.GRAPHIC,_enums_js__WEBPACK_IMPORTED_MODULE_10__.VisibilityFlag.SCALE_RANGE,i)}updateGraphicLabelScaleVisibility(e){if(!this._scaleRangeActive)return!1;if(!e.labelLayers.length)return!1;const i=this._graphicScale(e),t=this._updateLabelScaleVisibility(e,i);return t&&(this.graphicsCore.deconflictor?.setDirty(),this.graphicsCore.labeler?.setDirty()),t}_updateLabelScaleVisibility(e,i){if(!e.labelLayers.length)return!1;const t=e.labelLayers[0].labelClass;if(null!=t?.minScale&&null!=t.maxScale){const r=this._visibleAtLabelScale(i,t);if(e.setVisibilityFlag(_enums_js__WEBPACK_IMPORTED_MODULE_10__.VisibilityGroup.LABEL,_enums_js__WEBPACK_IMPORTED_MODULE_10__.VisibilityFlag.SCALE_RANGE,r))return!0}return!1}_scaleUpdateHandler(e){if(this._setDirty(),!this.graphicsCore.visible)return;const i=e.extent,r=e.scale,s=this._visibleAtLayerScale(r);let a=!1;const n=this.graphicsCoreOwner.view.spatialReference,h=e.spatialReference;if(null==h)return void _core_Logger_js__WEBPACK_IMPORTED_MODULE_2__["default"].getLogger(this).error("scaleUpdate: Internal error, no SpatialReference given for tiles");const p=!h.equals(n);if(p){if(!(0,_geometry_projection_projectBoundingRect_js__WEBPACK_IMPORTED_MODULE_8__.projectBoundingRect)(i,h,m,n))return void _core_Logger_js__WEBPACK_IMPORTED_MODULE_2__["default"].getLogger(this).error("scaleUpdate: Internal error, cannot project AABR from "+h+" to wkid "+n)}const d=p?m:i;this.queryGraphicUIDsInExtent(d,n,(e=>{const t=this.graphicsCore.getGraphics3DGraphicById(e);if(null==t)return;const l=t.centroid;null!=l&&(i[0]>l.x||i[1]>l.y||i[2]<l.x||i[3]<l.y)||(t.setVisibilityFlag(_enums_js__WEBPACK_IMPORTED_MODULE_10__.VisibilityGroup.GRAPHIC,_enums_js__WEBPACK_IMPORTED_MODULE_10__.VisibilityFlag.SCALE_RANGE,s)&&(a=!0),this._updateLabelScaleVisibility(t,r)&&(a=!0))})),a&&(this.graphicsCore.deconflictor?.setDirty(),this.graphicsCore.labeler?.setDirty())}layerMinMaxScaleChangeHandler(){this.updateScaleRangeActive()&&!this._scaleRangeActive?this.graphicsCore.modifyGraphics3DGraphicVisibilities((e=>e.setVisibilityFlag(_enums_js__WEBPACK_IMPORTED_MODULE_10__.VisibilityGroup.GRAPHIC,_enums_js__WEBPACK_IMPORTED_MODULE_10__.VisibilityFlag.SCALE_RANGE,!0))):this._scaleRangeActive&&this.graphicsCore.updateGraphicsVisibilities(),this._setDirty()}};function g(e,i){return e>0||i>0}(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)()],u.prototype,"graphicsCoreOwner",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)()],u.prototype,"layer",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)()],u.prototype,"queryGraphicUIDsInExtent",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)()],u.prototype,"graphicsCore",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)()],u.prototype,"basemapTerrain",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)({constructOnly:!0})],u.prototype,"layerScaleEnabled",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)({readOnly:!0})],u.prototype,"suspended",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)({readOnly:!0})],u.prototype,"updating",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)()],u.prototype,"_dirty",void 0),u=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_6__.subclass)("esri.views.3d.layers.graphics.Graphics3DScaleVisibility")],u);const y="terrain-events",m=(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_9__.create)();


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DSymbolFactory.js":
/*!***************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DSymbolFactory.js ***!
  \***************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   make: () => (/* binding */ t)
/* harmony export */ });
/* harmony import */ var _Graphics3DPointSymbol_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Graphics3DPointSymbol.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DPointSymbol.js");
/* harmony import */ var _Graphics3DSymbol_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Graphics3DSymbol.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DSymbol.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
function t(t,i,n){return"point-3d"===t.type?new _Graphics3DPointSymbol_js__WEBPACK_IMPORTED_MODULE_0__.Graphics3DPointSymbol(t,i,n):new _Graphics3DSymbol_js__WEBPACK_IMPORTED_MODULE_1__.Graphics3DSymbol(t,i,n)}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/graphics/GraphicsCorePerformanceInfo.js":
/*!*******************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/graphics/GraphicsCorePerformanceInfo.js ***!
  \*******************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   GraphicsCorePerformanceInfo: () => (/* binding */ s)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
class s{constructor(s,i,t,h){this.total=s,this.visible=i,this.missing=t,this.pending=h}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/graphics/SpatialIndex2D.js":
/*!******************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/graphics/SpatialIndex2D.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   SpatialIndex2D: () => (/* binding */ d)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/Accessor.js */ "./node_modules/@arcgis/core/core/Accessor.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../core/maybe.js */ "./node_modules/@arcgis/core/core/maybe.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_RandomLCG_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../core/RandomLCG.js */ "./node_modules/@arcgis/core/core/RandomLCG.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _core_libs_rbush_PooledRBush_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../core/libs/rbush/PooledRBush.js */ "./node_modules/@arcgis/core/core/libs/rbush/PooledRBush.js");
/* harmony import */ var _geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../geometry/support/aaBoundingBox.js */ "./node_modules/@arcgis/core/geometry/support/aaBoundingBox.js");
/* harmony import */ var _layers_graphics_dehydratedFeatures_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../layers/graphics/dehydratedFeatures.js */ "./node_modules/@arcgis/core/layers/graphics/dehydratedFeatures.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
let d=class extends _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__["default"]{constructor(t){super(t),this._index=new _core_libs_rbush_PooledRBush_js__WEBPACK_IMPORTED_MODULE_8__.PooledRBush(9,(0,_core_has_js__WEBPACK_IMPORTED_MODULE_2__["default"])("esri-csp-restrictions")?t=>({minX:t.extent[0],minY:t.extent[1],maxX:t.extent[2],maxY:t.extent[3]}):[".extent[0]",".extent[1]",".extent[2]",".extent[3]"]),this._missing=new Set,this._boundsByFeature=new Map,this.spatialReference=null,this.hasZ=null,this.hasM=null,this.objectIdField=null,this.updating=!1}setup(t){this._addMany(t)}destroy(){this._missing.clear(),this._index=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_3__.destroyMaybe)(this._index),this._boundsByFeature.clear(),this._boundsByFeature=null}update(){this._missing.size>0&&(this._addMany(Array.from(this._missing.values())),this.updating=!1,this._missing.clear())}get updatingRemaining(){return this._missing.size}queryGraphicUIDsInExtent(t,e,s){null!=e&&e.equals(this.spatialReference)&&(u.minX=t[0],u.minY=t[1],u.maxX=t[2],u.maxY=t[3],this.update(),this._index.search(u,(t=>s(t.graphic.uid))))}add(t){this._missing.add(t),this.updating=!0}remove(t){if(this._missing.delete(t))return void(this.updating=this._missing.size>0);if(!t.extent)return;this._index.remove(t);const e=(0,_layers_graphics_dehydratedFeatures_js__WEBPACK_IMPORTED_MODULE_10__.getObjectId)(t.graphic,this._get("objectIdField"));null!=e&&this._boundsByFeature.delete(e)}_addMany(t){if(0===t.length)return;const e=this._get("objectIdField");for(const s of t){s.computeExtent(this.spatialReference);const t=(0,_layers_graphics_dehydratedFeatures_js__WEBPACK_IMPORTED_MODULE_10__.getObjectId)(s.graphic,e);null!=t&&this._boundsByFeature.set(t,s.extent)}this._index.load(t)}clear(){this._index.clear(),this._missing.clear(),this._boundsByFeature.clear(),this.updating=!1}forEachInBounds(t,e){u.minX=t[0],u.minY=t[1],u.maxX=t[2],u.maxY=t[3],this.update(),this._index.search(u,(t=>{e(t)}))}getBounds(t,e){this.update();const s=this._boundsByFeature.get(t);return s?(0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_9__.fromRect)(e,s):null}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)({constructOnly:!0})],d.prototype,"spatialReference",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)({constructOnly:!0})],d.prototype,"hasZ",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)({constructOnly:!0})],d.prototype,"hasM",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)({constructOnly:!0})],d.prototype,"objectIdField",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],d.prototype,"updating",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)({readOnly:!0})],d.prototype,"updatingRemaining",null),d=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__.subclass)("esri.views.3d.layers.graphics.SpatialIndex2D")],d);const u={minX:0,minY:0,maxX:0,maxY:0};


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/support/StageLayerElevationProvider.js":
/*!******************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/support/StageLayerElevationProvider.js ***!
  \******************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   StageLayerElevationProvider: () => (/* binding */ y)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/Accessor.js */ "./node_modules/@arcgis/core/core/Accessor.js");
/* harmony import */ var _core_Evented_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core/Evented.js */ "./node_modules/@arcgis/core/core/Evented.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_unitUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../core/unitUtils.js */ "./node_modules/@arcgis/core/core/unitUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_RandomLCG_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../core/RandomLCG.js */ "./node_modules/@arcgis/core/core/RandomLCG.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _chunks_vec32_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../chunks/vec32.js */ "./node_modules/@arcgis/core/chunks/vec32.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../core/libs/gl-matrix-2/factories/vec3f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/vec3f64.js");
/* harmony import */ var _geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../geometry/support/aaBoundingBox.js */ "./node_modules/@arcgis/core/geometry/support/aaBoundingBox.js");
/* harmony import */ var _symbols_support_unitConversionUtils_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../../symbols/support/unitConversionUtils.js */ "./node_modules/@arcgis/core/symbols/support/unitConversionUtils.js");
/* harmony import */ var _support_ElevationUpdateEvent_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../support/ElevationUpdateEvent.js */ "./node_modules/@arcgis/core/views/3d/support/ElevationUpdateEvent.js");
/* harmony import */ var _webgl_engine_lib_Intersector_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../webgl-engine/lib/Intersector.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/Intersector.js");
/* harmony import */ var _webgl_engine_lib_IntersectorInterfaces_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../webgl-engine/lib/IntersectorInterfaces.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/IntersectorInterfaces.js");
/* harmony import */ var _webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../webgl-engine/lib/VertexAttribute.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/VertexAttribute.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
const _=1,v=Symbol("layerHandles");let y=class extends(_core_Evented_js__WEBPACK_IMPORTED_MODULE_2__["default"].EventedMixin(_core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__["default"])){get spatialReference(){return this.view?.spatialReference}constructor(e){super(e),this._elevationOffset=0}initialize(){this._renderCoordsHelper=this.view.renderCoordsHelper,this._intersectLayers=[this.stageLayer],this._intersector=new _webgl_engine_lib_Intersector_js__WEBPACK_IMPORTED_MODULE_14__.Intersector(this.view.state.viewingMode),this._intersector.options.store=_webgl_engine_lib_IntersectorInterfaces_js__WEBPACK_IMPORTED_MODULE_15__.StoreResults.MIN;const e=this._computeLayerExtent(this.spatialReference,this.stageLayer);this._zmin=e[2],this._zmax=e[5];const t=this.stageLayer.events;this.addHandles([t.on(["layerObjectAdded","layerObjectRemoved","transformationChanged","shaderTransformationChanged"],(e=>this._objectChanged(e))),t.on(["geometryAdded","geometryRemoved"],(({object:e})=>this._objectChanged(e))),t.on("attributesChanged",(({attribute:e,object:t})=>(0,_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_16__.affectsGeometry)(e)&&this._objectChanged(t)))],v)}dispose(){this.removeHandles(v)}elevationInfoChanged(){const e=null!=this.layer?this.layer.elevationInfo:null;if(null!=e&&"on-the-ground"!==e.mode){const t=(0,_core_unitUtils_js__WEBPACK_IMPORTED_MODULE_4__.getMetersPerVerticalUnitForSR)(this.layer.spatialReference),r=(0,_symbols_support_unitConversionUtils_js__WEBPACK_IMPORTED_MODULE_12__.getMetersPerUnit)(e.unit??"meters");this._elevationOffset=(e.offset??0)*r/t}else this._elevationOffset=0}getElevation(e,t,r,s){if(x[0]=e,x[1]=t,x[2]=r,!this._renderCoordsHelper.toRenderCoords(x,s,x))return _core_Logger_js__WEBPACK_IMPORTED_MODULE_3__["default"].getLogger(this).error("could not project point for elevation alignment"),null;const i=this._elevationOffset,n=this._zmin+i,a=this._zmax+i;this._renderCoordsHelper.setAltitude(C,a,x),this._renderCoordsHelper.setAltitude(E,n,x);const l=e=>!!e.lastValidElevationBB;return this._intersector.reset(C,E,null),this._intersector.intersect(this._intersectLayers,null,_,null,l),this._intersector.results.min.getIntersectionPoint(x)?this._renderCoordsHelper.getAltitude(x):null}_objectChanged(e){const t=this.spatialReference;if(!e.lastValidElevationBB||!t)return;(0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_11__.empty)(j);const r=e.lastValidElevationBB;r.isEmpty()||this._expandExtent(t,r.min,r.max,j);const{min:o,max:s}=e.boundingVolumeWorldSpace;this._expandExtent(t,o,s,j),(0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_11__.toRect)(j,b.extent),this._zmin=Math.min(this._zmin,j[2]),this._zmax=Math.max(this._zmax,j[5]),b.spatialReference=t,this.emit("elevation-change",b),(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_9__.c)(r.min,o),(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_9__.c)(r.max,s)}_computeLayerExtent(e,t){return (0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_11__.empty)(j),null!=e&&t.objects.forEach((t=>this._expandExtent(e,t.boundingVolumeWorldSpace.min,t.boundingVolumeWorldSpace.max,j))),j}_expandExtent(e,t,r,o){for(let s=0;s<8;++s)x[0]=1&s?t[0]:r[0],x[1]=2&s?t[1]:r[1],x[2]=4&s?t[2]:r[2],this._renderCoordsHelper.fromRenderCoords(x,x,e),(0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_11__.expandWithVec3)(o,x);return o}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)({constructOnly:!0})],y.prototype,"layer",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)({constructOnly:!0})],y.prototype,"stageLayer",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)({constructOnly:!0})],y.prototype,"view",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],y.prototype,"spatialReference",null),y=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_8__.subclass)("esri.views.3d.layers.support.StageLayerElevationProvider")],y);const j=(0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_11__.empty)(),b=new _support_ElevationUpdateEvent_js__WEBPACK_IMPORTED_MODULE_13__.ElevationUpdateEvent,x=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_10__.create)(),C=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_10__.create)(),E=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_10__.create)();


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/support/highlightUtils.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/support/highlightUtils.js ***!
  \*****************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   emptyHighlightHandle: () => (/* binding */ s),
/* harmony export */   isObjectId: () => (/* binding */ i),
/* harmony export */   normalizeHighlightTargetExceptQuery: () => (/* binding */ e)
/* harmony export */ });
/* harmony import */ var _core_Collection_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/Collection.js */ "./node_modules/@arcgis/core/core/Collection.js");
/* harmony import */ var _core_handleUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/handleUtils.js */ "./node_modules/@arcgis/core/core/handleUtils.js");
/* harmony import */ var _support_guards_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../support/guards.js */ "./node_modules/@arcgis/core/support/guards.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
function e(o){return _core_Collection_js__WEBPACK_IMPORTED_MODULE_0__["default"].isCollection(o)?o.toArray():Array.isArray(o)?o:i(o)||(0,_support_guards_js__WEBPACK_IMPORTED_MODULE_2__.isGraphic)(o)||c(o)?[o]:n}function i(r){return"number"==typeof r||"string"==typeof r}const n=[],s=(0,_core_handleUtils_js__WEBPACK_IMPORTED_MODULE_1__.makeHandle)();function c(r){return"esri.views.3d.layers.i3s.PointCloudGraphic"===r.declaredClass}


/***/ })

};

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmVuZG9ycy1ub2RlX21vZHVsZXNfYXJjZ2lzX2NvcmVfdmlld3NfM2RfbGF5ZXJzX2dyYXBoaWNzX0V4dGVudFNldF9qcy1ub2RlX21vZHVsZXNfYXJjZ2lzX2NvLTFjYzc0Yi5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLCtCQUErQixzQkFBc0IsS0FBSyxJQUFJLEVBQUUsWUFBWSxrR0FBa0csaUZBQWlGLG1CQUFtQixtQ0FBbUMsSUFBSSxFQUFFLHFCQUFxQixZQUFZLEtBQUssS0FBSyxZQUFZLEtBQUssK0RBQStELGtCQUFrQixXQUFXLGlCQUFpQixnQkFBZ0Isc0JBQXFDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNKL2lCO0FBQ0E7QUFDQTtBQUNBO0FBQzZOLFFBQVEsbUJBQW1CLGtPQUFrTyxVQUFVLHFEQUFxRCxPQUFPLGdCQUFnQixZQUFZLGlCQUFpQixxQkFBcUIsd0JBQXdCLEVBQUUsRUFBRSxnQ0FBZ0MsSUFBSSxLQUFLLHNDQUFzQyw4Q0FBOEMsV0FBVyxZQUFZLGlCQUFpQixxQkFBcUIsb0JBQW9CLGNBQWMsRUFBRSxFQUFFLGdDQUFnQyxJQUFJLEtBQUssc0NBQXNDLFdBQVcsMkJBQTJCLFdBQVcsVUFBVSxTQUFTLFFBQVEseUJBQXlCLDhCQUE4Qix1QkFBdUIsSUFBSSxzQkFBc0IsWUFBWSw0Q0FBNEMsNEZBQTRGLEtBQUssK0JBQStCLG1CQUFtQixpQkFBaUIsZ0RBQWdELGtCQUFrQixZQUFZLFVBQVUsbURBQW1ELFFBQVEsaUNBQWlDLFVBQVUsa0JBQWtCLG1DQUFtQyx3QkFBd0Isd0JBQXdCLGNBQWMsRUFBRSxvRUFBb0UsdURBQUMsWUFBWSwwREFBQywwR0FBMEcscUdBQXFHLFlBQVksU0FBUyxrQkFBa0IsWUFBWSx5QkFBeUIsZ0JBQWdCLGNBQWMsdUJBQXVCLFNBQVMsOEJBQThCLDJCQUEyQixrRUFBa0Usa0JBQWtCLFdBQVcsbURBQW1ELDZCQUE2QixZQUFZLEtBQUssTUFBTSwwQkFBMEIsNkJBQTZCLFlBQVksS0FBSyxNQUFNLDBCQUEwQix5Q0FBeUMsMkJBQTJCLGVBQWUsZ0NBQWdDLFVBQVUsNEJBQTRCLDhCQUE4QixpREFBaUQsc0JBQXNCLFNBQVMsWUFBWSx5REFBeUQsNkJBQTZCLHNDQUFzQyxhQUFhLDRFQUE0RSwwR0FBMEcsZ0JBQWdCLGdGQUFnRix5QkFBeUIsVUFBVSxRQUFRLFlBQVksT0FBTyxLQUFLLDJFQUEyRSw4Q0FBOEMsU0FBUyx3QkFBd0IsZ0VBQWdFLDhFQUE4RSx3QkFBd0IsbUJBQW1CLGlEQUFpRCxnQkFBZ0IsWUFBWSxNQUFNLEtBQUssc0JBQXNCLDJCQUEyQixnQkFBZ0IsS0FBSyxLQUFLLHNCQUFzQiwyQkFBMkIsU0FBUyxhQUFhLHFCQUFxQixLQUFLLEtBQUssa0JBQWtCLGlDQUFpQyxpQ0FBaUMsU0FBUyx1REFBQyw4QkFBOEIsa0JBQWtCLHdCQUF3QixlQUFlLDZCQUE2QixHQUFHLGlKQUFpSixvRUFBb0UsSUFBSSxvQkFBb0IsS0FBSyxzQ0FBc0MsRUFBRSxrQkFBa0IsZ0NBQWdDLElBQUksS0FBSyx3Q0FBd0MsOENBQThDLG1CQUFtQixTQUFTLGdCQUFnQixRQUFRLGNBQWMsRUFBRSxFQUFFLDJDQUEyQywwREFBQyxLQUFLLDZCQUE2QixpQkFBaUIsa0JBQWtCLFlBQVksS0FBSyxtQkFBbUIsZ0JBQWdCLDZCQUE2QixzQkFBc0IsK0RBQStELGNBQWMsSUFBSSx1Q0FBdUMsU0FBUyxnQkFBZ0IsNEhBQTRILGdCQUFnQixxQkFBcUIsZ0JBQWdCLHFCQUFxQixjQUFjLHNDQUFzQyxjQUFjLHFDQUFxQyxnQkFBZ0IsMEdBQTBHLGdCQUFnQiw4R0FBOEcsdUNBQXVDLGdCQUFnQixzRUFBc0UsZ0JBQWdCLHNFQUFzRSxzQkFBc0IsY0FBYyxLQUFLLFNBQVMsRUFBRSwwQkFBMEIsbUJBQW1CLGlDQUFpQyx5REFBQyw2QkFBNkIsWUFBWSx1REFBQyxPQUFPLHVEQUFDLE9BQU8sdURBQUMsT0FBTyx1REFBQyxFQUFFLG1CQUFtQixFQUFFLFFBQVEsY0FBYywyREFBMkQsa0JBQWtCLGNBQWMscURBQXFELHdEQUFDLEVBQUUsa0JBQWtCLGVBQWUsc0NBQXNDLGtCQUFrQixlQUFlLHNDQUF5RTs7Ozs7Ozs7Ozs7Ozs7OztBQ0poak07QUFDQTtBQUNBO0FBQ0E7QUFDMEQsU0FBUyx5SEFBeUgsa0VBQUMsbUdBQW1KOzs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ0poVjtBQUNBO0FBQ0E7QUFDQTtBQUN3TSxjQUFjLCtIQUErSCxnQkFBZ0IsdUJBQXVCLG9CQUFvQixzREFBQyxnRkFBZ0Ysd0JBQXdCLElBQUksV0FBVyxFQUFFLGVBQWUsMkJBQTJCLGlDQUFpQyxpQ0FBaUMsMkNBQTJDLFlBQVksZ0JBQWdCLGtCQUFrQix5Q0FBeUMsMkZBQTJGLFNBQVMsa0JBQWtCLDBCQUEwQiw2QkFBNkIsT0FBTyxzREFBQyw0RUFBNEUsYUFBYSxrQ0FBa0MsMEJBQTBCLEVBQUUsWUFBWSxnQkFBZ0IsU0FBUyxHQUFHLG9GQUFDLDZCQUE2QixXQUFXLDBFQUFDLG9CQUFvQixnQkFBZ0IsU0FBUyxHQUFHLG9GQUFDLDRCQUE0QiwrQkFBK0IsMEVBQUMsNEJBQTRCLHVEQUFDLElBQUksMEVBQUMsb0JBQW9CLDJDQUEyQyxnQkFBZ0IsU0FBUyxHQUFHLG9GQUFDLDRCQUE0Qiw2QkFBNkIsMEVBQUMsNEJBQTRCLHVEQUFDLElBQUksMEVBQUMsb0JBQW9CLDBDQUErRjs7Ozs7Ozs7Ozs7Ozs7O0FDSmhsRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsbUJBQW1CLG1HQUFvSTs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ0ovSjtBQUNBO0FBQ0E7QUFDQTtBQUM4UCxZQUFZLFFBQVEsY0FBYyxrQkFBa0IsNERBQUMsRUFBRSxnQkFBZ0IsMkVBQUMsR0FBRyxrQkFBa0IsMkVBQUMsa0JBQWtCLFlBQVksZ0NBQWdDLFdBQVcsNEJBQTRCLFFBQVEsc0JBQXNCLE9BQU8sNkNBQTZDLHlFQUFDLDRDQUE0QyxNQUFNLDJEQUEyRCxTQUFTLDJDQUEyQyxjQUFjLDJEQUFDLEVBQUUsZ0NBQWdDLFFBQVEsS0FBSyxhQUFhLEVBQUUsZ0RBQWdELFlBQVksV0FBVyxLQUFLLGlCQUFpQixnQkFBZ0IsTUFBTSxjQUFjLFdBQVcsS0FBSyxnQkFBZ0IsNkJBQTZCLFNBQVMsZUFBZSxnQkFBZ0Isc0NBQXNDLFFBQVEseUVBQUMsTUFBTSx5RUFBQyxzQkFBc0IsMkVBQUMsUUFBUSxZQUFZLENBQUMseUVBQUMsYUFBYSx5RUFBQyxnREFBZ0QsY0FBYyxlQUFlLGFBQWEsOEJBQThCLDZFQUFDLFFBQVEsb0JBQW9CLGlDQUFpQyw2RUFBQyxRQUFRLGFBQW9DOzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNKNXpDO0FBQ0E7QUFDQTtBQUNBO0FBQ3FNLFFBQVEsZUFBZSxrRUFBa0UscUNBQXFDLHlCQUF5QixtRkFBQyw2TUFBNk0sVUFBVSxzRUFBc0UsT0FBTyxRQUFRLGdFQUFDLHVCQUF1QixnQ0FBZ0MsMEVBQTBFLHlDQUF5QyxzSkFBc0osVUFBVSx3QkFBd0IseUJBQXlCLCtEQUErRCxJQUFJLDJEQUFDLCtDQUErQyxzREFBc0QsY0FBYyxrQ0FBa0MsbUVBQW1FLEdBQUcsaUJBQWlCLGtDQUFrQyw4QkFBOEIsR0FBRyx5QkFBeUIscURBQXFELDJCQUEyQiw4REFBOEQsd0JBQXdCLHFDQUFxQyxxQkFBcUIsMkNBQTJDLG9CQUFvQiwrQkFBK0IsY0FBYyxrQkFBa0Isa0NBQWtDLG1CQUFtQiwwREFBMEQsdURBQXVELHVCQUF5RDs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ0o5OEQ7QUFDQTtBQUNBO0FBQ0E7QUFDMjdKLE9BQU8sU0FBUyxvRkFBQyxNQUFNLDJFQUFDLEdBQUcscUJBQXFCLHlEQUFDLENBQUMsT0FBTyxRQUFRLE9BQU8sWUFBWSxvRkFBQyxHQUFHLDRCQUE0Qix3Q0FBd0MsbUJBQW1CLG1EQUFtRCwrREFBRSxFQUFFLDRIQUE0SCx5SEFBeUgsbUJBQW1CLDBCQUEwQixjQUFjLHFCQUFxQix1QkFBdUIsOEJBQThCLDRCQUE0Qiw0RUFBNEUsNEVBQUUsNERBQTRELG1CQUFtQiwwQkFBMEIsd0JBQXdCLCtCQUErQixzQkFBc0IsNkJBQTZCLHlCQUF5QixnQ0FBZ0MsbUJBQW1CLDBCQUEwQix1QkFBdUIsOEJBQThCLGVBQWUsNFJBQTRSLG1CQUFtQixtUEFBbVAsY0FBYyw2SEFBNkgsK0JBQStCLHFFQUFxRSx3QkFBd0IsbUpBQW1KLDBCQUEwQixxY0FBcWMsaUhBQWlILHlFQUFFLFFBQVEsOEJBQThCLFFBQVEsdUZBQUUsa0VBQWtFLHNWQUFzVixpQkFBaUIsbU1BQW1NLGdDQUFnQyx5QkFBeUIsZ0pBQWdKLG1OQUFtTiw4QkFBOEIsMkJBQTJCLDZDQUE2Qyx5R0FBeUcsaURBQWlELHVDQUF1QyxzRkFBc0YsNkRBQTZELFNBQVMsZ0NBQWdDLHlFQUF5RSwwQkFBMEIsOEhBQThILGNBQWMscUJBQXFCLHVCQUF1QixVQUFVLHlDQUF5Qyw4Q0FBOEMsb0JBQW9CLFFBQVEsMkVBQUUsSUFBSSwrSEFBK0gsbUJBQW1CLHlCQUF5Qix1REFBQyxrRkFBa0Ysd0NBQXdDLG9CQUFvQiwyRUFBMkUsMEJBQTBCLHdEQUF3RCxtQkFBbUIsa0JBQWtCLG1EQUFtRCxtQkFBbUIsU0FBUyxzQ0FBc0MsdUJBQXVCLGdDQUFnQywrQkFBK0Isb0NBQW9DLGVBQWUscUZBQUUsU0FBUyw2QkFBNkIsV0FBVyxrQ0FBa0MsOEJBQThCLEtBQUsscUJBQXFCLGdDQUFnQyxlQUFlLGtDQUFrQyx1RUFBRSxFQUFFLGVBQWUsNERBQUMsQ0FBQyx5YkFBeWIsaUVBQUUsMkJBQTJCLDBFQUFDLHVCQUF1QiwwRUFBQywybEJBQTJsQixtT0FBbU8sNkRBQUMsRUFBRSxvREFBb0QsOEJBQThCLDZGQUFFLDRIQUE0SCw2REFBQyw0QkFBNEIsNEVBQUUsNmNBQTZjLGlHQUFFLDhIQUE4SCxhQUFhLHVCQUF1QiwrRUFBRSxFQUFFLCtRQUErUSxFQUFFLG9FQUFvRSxxQkFBcUIsTUFBTSx1SkFBdUosK0tBQStLLHVEQUFFLFNBQVMsc0RBQUUsVUFBVSxvRkFBQyxpSUFBaUksdURBQUUsU0FBUyxzREFBRSwwR0FBMEcsdURBQUUsU0FBUyxzREFBRSxjQUFjLGdOQUFnTiw2REFBQyw4Q0FBOEMsTUFBTSxvQkFBb0IsdUJBQXVCLDREQUE0RCxvREFBb0QseUJBQXlCLGtFQUFrRSxnQ0FBZ0Msc0VBQUUsZ0ZBQWdGLGdDQUFnQyxvaEJBQW9oQixnR0FBRSxnU0FBZ1MsUUFBUSxzRkFBRSxrRUFBa0UsaUVBQWlFLDhFQUFFLGdDQUFnQyx1REFBQyxrQkFBa0Isc0VBQUMsOGRBQThkLE1BQU0sUUFBUSxNQUFNLDhIQUE4SCxnRUFBQyxrRUFBa0UsaUJBQWlCLDhEQUFDLG9IQUFvSCxxRUFBQyxJQUFJLDhEQUFDLHNHQUFzRyxrRkFBa0YscUxBQXFMLEdBQUcsOERBQUMsNkVBQTZFLDhEQUFDLCtFQUErRSw4REFBQyxzSEFBc0gsOERBQUMsaUhBQWlILDhEQUFDLG1GQUFtRiw4REFBQyx5RkFBeUYsNkRBQUMsMkNBQTJDLG9QQUFvUCxLQUFLLHVDQUF1QyxpQkFBaUIsMkRBQUMsaUJBQWlCLHlGQUF5RixHQUFHLG1CQUFtQixrRkFBa0YsdUJBQXVCLEdBQUcsV0FBVyxFQUFFLDhEQUFDLHVDQUF1Qyx3SEFBd0gsNEVBQUUsV0FBVyw0RUFBRSxvQkFBb0IsNERBQUUsRUFBRSxFQUFFLG1FQUFDLHNFQUFzRSxnRUFBRSxrRkFBa0YsOERBQUMsMkxBQTJMLHdDQUF3QyxtQkFBbUIsZ0NBQWdDLDBEQUFDLGtDQUFrQyx1QkFBdUIsc0NBQXNDLG9CQUFvQixVQUFVLGtDQUFrQyxHQUFHLFVBQVUsK0ZBQStGLDBEQUFDLDRIQUE0SCxpRUFBRSxvRkFBb0YsMkRBQUMsbUNBQW1DLDJEQUFDLHlDQUF5Qyw0REFBQyxpREFBaUQsNERBQUMsK0NBQStDLDREQUFDLDRDQUE0Qyw0REFBQyxxREFBcUQsNERBQUMsK0RBQStELDJEQUFDLHVFQUF1RSw0REFBQywwREFBMEQsNERBQUMsMkRBQTJELHFHQUFxRyxzREFBQyx3REFBd0QsZ0ZBQWdGLDJEQUFDLDhEQUE4RCw0REFBQywrSUFBK0ksNERBQUMscUJBQXFCLFFBQVEseVVBQXlVLHdEQUFDLG1lQUFtZSxzQkFBc0IsdUNBQXVDLHdFQUFFLGFBQWEsK0VBQStFLElBQUksK0JBQStCLGdjQUFnYyxzRkFBRSx3RUFBd0UsZ0NBQWdDLG9EQUFvRCx1Q0FBdUMsdURBQXVELGtDQUFrQyxvREFBb0QsdUNBQXVDLHlEQUF5RCx5QkFBeUIsNEhBQTRILHdFQUF3RSw4QkFBOEIsc0VBQXNFLDBFQUFFLEVBQUUsZ0tBQWdLLDRCQUE0QixxREFBcUQsa0NBQWtDLHFGQUFxRix5REFBeUQsT0FBTyxvRkFBQyxNQUFNLG1DQUFtQyx3Q0FBd0MsYUFBYSxnQkFBZ0IsNENBQTRDLGFBQWEsa0RBQWtELG9CQUFvQixLQUFLLG9CQUFvQiw0Q0FBNEMsNEJBQTRCLHlGQUF5RixnQ0FBZ0MsdUJBQXVCLCtFQUErRSx1QkFBdUIsK0NBQStDLGNBQWMsMkNBQTJDLGdDQUFnQyxLQUFLLDZEQUFFLHlCQUF5QixLQUFLLDZEQUFFLDRDQUE0QyxNQUFNLEtBQUssNkRBQUUsNENBQTRDLE1BQU0sS0FBSyw2REFBRSwrQ0FBK0MsS0FBSyw2REFBRSxhQUFhLDJDQUEyQyxXQUFXLDBPQUEwTyxxREFBRSxDQUFDLDJCQUEyQix5RUFBeUUsaURBQWlELHVDQUF1QyxvQ0FBb0MsT0FBTyw0REFBQyx1RUFBdUUseUJBQXlCLG9CQUFvQiwySkFBMkosMkJBQTJCLHVEQUFFLFNBQVMsc0RBQUUsU0FBUywwQkFBMEIsMkNBQTJDLCtCQUErQixtREFBbUQsc0JBQXNCLFFBQVEsc0VBQUMsR0FBRyw4REFBOEQsdUNBQXVDLHlJQUF5SSxxRkFBQywyQkFBMkIscUZBQUMsK0NBQStDLHlMQUF5TCx5REFBeUQsa0JBQWtCLHNCQUFzQiw4QkFBOEIscURBQXFELE1BQU0sMkVBQUMsT0FBTyxvREFBb0QsNkNBQTZDLE9BQU8sdURBQXVELDZCQUE2QixNQUFNLGlFQUFDLG1DQUFtQyxtS0FBbUssZ0JBQWdCLHNEQUFDLHlFQUF5RSw2Q0FBNkMsNkNBQTZDLDZCQUE2QiwyQ0FBMkMsa0JBQWtCLG9DQUFvQyxrREFBa0Qsb0RBQUMsV0FBVyxRQUFRLG1CQUFtQixJQUFJLHFHQUFDLGtHQUFrRyxvREFBQyxlQUFlLG1CQUFtQix1RkFBdUYsR0FBRyxvREFBQyxZQUFZLHFHQUFDLG1FQUFtRSxvREFBQyxlQUFlLFlBQVksb0RBQUMsZ0JBQWdCLDJEQUFDLEVBQUUsMkNBQTJDLEVBQUUsd0JBQXdCLGdDQUFnQyxxQkFBcUIsc0RBQUMsdUVBQXVFLGtDQUFrQyxvQkFBb0Isc0RBQUMsa0VBQWtFLGdDQUFnQyxxQkFBcUIsc0RBQUMsMkRBQTJELFNBQVMsOEJBQThCLHNFQUFzRSx3QkFBd0IsdURBQXVELHNEQUFzRCxtQkFBbUIsbURBQW1ELE1BQU0sdURBQXVELE1BQU0sbURBQW1ELE1BQU0sMkNBQTJDLGdFQUFnRSw0Q0FBNEMsbUNBQW1DLHVOQUF1TiwyQkFBMkIsdUNBQXVDLG9DQUFvQywyQkFBMkIsMEtBQTBLLGdEQUFnRCw2RUFBNkUsS0FBSyw2QkFBNkIsTUFBTSw2QkFBNkIsMkJBQTJCLHFEQUFFLGdCQUFnQixpQ0FBaUMsc0NBQXNDLGlDQUFpQyxzR0FBc0csa0VBQWtFLHdEQUF3RCwrR0FBK0cseUNBQXlDLHNEQUFzRCxRQUFRLHlFQUFDLE1BQU0seURBQXlELFNBQVMsMERBQTBELDRCQUE0Qiw0RUFBQyw4Q0FBOEMscUNBQXFDLGdEQUFnRCx3QkFBd0Isd0NBQXdDLGdIQUFnSCxrQ0FBa0MsZ0NBQWdDLDBGQUEwRixvQkFBb0Isb0hBQW9ILDRFQUFFLDhCQUE4QixvQkFBb0IsMkJBQTJCLHVCQUF1QiwrQkFBK0IseUpBQXlKLHVCQUF1Qiw2TUFBNk0sMEJBQTBCLFFBQVEsMkJBQTJCLHlDQUF5QyxnQ0FBZ0MseUJBQXlCLGdDQUFnQyxvRkFBQyxNQUFNLCtDQUErQyxHQUFHLG1GQUFDLE9BQU8sK0ZBQUMsMENBQTBDLCtGQUFDLGtIQUFrSCw0QkFBNEIsV0FBVywyR0FBMkcsTUFBTSxvUEFBb1AsdUhBQXVILHFFQUFxRSw0QkFBNEIsMklBQTJJLDRCQUE0QixpQ0FBaUMsNEJBQTRCLDJDQUEyQyxRQUFRLHNGQUFFLGtFQUFrRSw4REFBOEQsOEVBQUUsdUNBQXVDLHVEQUFDLGtCQUFrQixzRUFBQyxzSUFBc0ksMkRBQTJELGtDQUFrQyxrQkFBa0IsNERBQTRELDJCQUEyQiw0RkFBNEYsb0NBQW9DLG9SQUFvUiw0REFBQyxvT0FBb08saUdBQUUsRUFBRSxpRUFBaUUseUZBQXlGLDJCQUEyQiwwV0FBMFcsNERBQUMscUNBQXFDLHNCQUFzQix3REFBd0Qsc0JBQXNCLDhCQUE4QixnQ0FBZ0MsOEJBQThCLDJCQUEyQixxQ0FBcUMsTUFBTSx3QkFBd0IseUVBQXlFLGdWQUFnVixtQkFBbUIsMkNBQTJDLHVCQUF1QixxQkFBcUIsK09BQStPLDBDQUEwQyw2QkFBNkIsNERBQUMsdURBQXVELDREQUFDLDhDQUE4Qyw4QkFBOEIsc0NBQXNDLE1BQU0sV0FBVyw0REFBNEQsd0JBQXdCLDJOQUEyTixPQUFPLG1HQUFtRyw0RUFBRSxvRkFBb0YsdURBQUMsb0dBQW9HLDRCQUE0QixnQ0FBZ0MsNEVBQUUsbUtBQW1LLDRFQUFFLE9BQU8sa0NBQWtDLGlCQUFpQiw0REFBNEQsOERBQThELDRFQUFFLE9BQU8sZ0ZBQWdGLGVBQWUsa0JBQWtCLGNBQWMsa0NBQWtDLDBLQUEwSyxzR0FBc0csVUFBVSw2QkFBNkIsNEVBQUUseUZBQXlGLG9CQUFvQix3Q0FBd0MsZ0ZBQWdGLGtCQUFrQixrQkFBa0IsNENBQTRDLHNJQUFzSSxLQUFLLDJDQUEyQyxtR0FBbUcsa0tBQWtLLHdCQUF3QixtR0FBbUcsdURBQUMsaUpBQWlKLHdCQUF3QixvTEFBb0wsbUNBQW1DLGtDQUFrQyx1Q0FBdUMsV0FBVyxrQ0FBa0MsTUFBTSwwS0FBMEssdUNBQXVDLGdCQUFnQiwwREFBMEQsaUNBQWlDLGdJQUFnSSw0RUFBRSw2QkFBNkIsd0dBQXdHLE1BQU0sZ0RBQWdELGlCQUFpQiw0REFBNEQsNkhBQTZILDRCQUE0Qix3Q0FBd0MsdUJBQXVCLHdIQUF3SCx3Q0FBd0MseURBQXlELGlDQUFpQyxJQUFJLGNBQWMsU0FBUyxFQUFFLFNBQVMsK0NBQStDLHFFQUFxRSxtQ0FBbUMsdUJBQXVCLG9FQUFDLHVDQUF1QywrQ0FBK0Msa0pBQWtKLHlEQUF5RCxXQUFXLElBQUksMkNBQTJDLGdDQUFnQyxFQUFFLFNBQVMsbUNBQW1DLG9FQUFDLHdDQUF3QywwRUFBMEUsdURBQUMsMENBQTBDLGVBQWUsOEZBQThGLG1CQUFtQiw4REFBOEQsb0ZBQUMsV0FBVywrQ0FBK0MsNEJBQTRCLFFBQVEsNkVBQUMsMENBQTBDLGlIQUFpSCxnRkFBRSxpRUFBaUUsa0VBQWtFLGtCQUFrQix1Q0FBdUMsMENBQTBDLG1HQUFFLGlCQUFpQixTQUFTLFlBQVkseUJBQXlCLGdDQUFnQyxhQUFhLGdEQUFnRCwyQ0FBMkMseUtBQXlLLEtBQUssMkNBQTJDLGdHQUFnRywrR0FBK0csT0FBTyx1RkFBdUYsb0VBQUMsOERBQThELDJCQUEyQiw0RUFBRSw0REFBNEQscUVBQUMseURBQXlELHFFQUFDLGdCQUFnQixrQkFBa0IsK0NBQStDLE1BQU0sc0NBQXNDLDJDQUEyQywyREFBMkQscUNBQXFDLHFOQUFxTix3TEFBd0wsdUJBQXVCLGdCQUFnQixrRUFBRSxlQUFlLCtEQUFFLEVBQUUseUNBQXlDLCtEQUErRCxTQUFTLGtDQUFrQyxxQkFBcUIsa0VBQUUsa0NBQWtDLHVEQUFDLDhJQUE4SSwwQkFBMEIsbUJBQW1CLG1GQUFtRix1REFBQywwQ0FBMEMsZUFBZSw0Q0FBNEMsSUFBSSxzRkFBQyx3SEFBd0gsdURBQUMsMENBQTBDLGVBQWUsK0RBQStELG9IQUFvSCx1REFBQywwQ0FBMEMsZUFBZSxnRUFBZ0UsMkNBQTJDLHFGQUFDLGlCQUFpQixNQUFNLDhLQUE4SyxLQUFLLGtCQUFrQixtRkFBRSxhQUFhLE1BQU0sK0VBQUMsU0FBUyxxRkFBcUYsdURBQUMsMENBQTBDLGVBQWUsNkNBQTZDLDRCQUE0Qix3RkFBd0YsdURBQUMsMENBQTBDLGVBQWUsNENBQTRDLGdIQUFnSCx1REFBQywwQ0FBMEMsZUFBZSxnRUFBZ0UsMkNBQTJDLHFGQUFDLGlCQUFpQix1RkFBdUYsNkJBQTZCLHVEQUF1RCxvQ0FBb0Msa0JBQWtCLE1BQU0sZ0VBQWdFLFFBQVEsMkVBQUUseUJBQXlCLGlCQUFpQixFQUFFLDBDQUEwQyxRQUFRLGtFQUFFLGlDQUFpQyxvQkFBb0Isd0JBQXdCLGdHQUFnRyxTQUFTLEtBQUssaUNBQWlDLDhCQUE4QixlQUFlLDJDQUEyQyx5QkFBeUIsbUVBQUUsS0FBSyxtRkFBRSwwS0FBMEssaUNBQWlDLHFCQUFxQix5RUFBeUUsMkVBQUUsMENBQTBDLHlCQUF5Qiw4T0FBOE8sbUNBQW1DLHNNQUFzTSw4QkFBOEIsa0JBQWtCLHVHQUF1RyxrREFBa0QscUNBQXFDLHVCQUF1Qiw4QkFBOEIsb0JBQW9CLGdIQUFnSCw0SEFBNEgsa0VBQUUsNEtBQTRLLE1BQU0sb0JBQW9CLHdCQUF3QixvQkFBb0IsdURBQUUsU0FBUyxzREFBRSwrQ0FBK0MsME1BQTBNLG1EQUFtRCx3R0FBd0csd0JBQXdCLHVDQUF1QywwREFBQywwSUFBMEksZ0dBQUMsMEJBQTBCLDRCQUE0QixzQ0FBc0MsTUFBTSxjQUFjLDRCQUE0QixzRUFBQyxJQUFJLG1DQUFtQyx1Q0FBdUMsc0VBQUMsa0NBQWtDLDRFQUFFLCtKQUErSixxQ0FBcUMsNEVBQUUsUUFBUSw0QkFBNEIsOEpBQThKLHVDQUF1Qyx1Q0FBdUMsc0JBQXNCLDhEQUE4RCxtRUFBRSw4Q0FBOEMsNEJBQTRCLG1IQUFtSCw0Q0FBNEMsZ0JBQWdCLDBLQUEwSyxRQUFRLHlFQUFDLE1BQU0sbVRBQW1ULHdCQUF3QixnQ0FBZ0MsdUVBQXVFLGtGQUFrRixNQUFNLGlCQUFpQixTQUFTLDJCQUEyQixnQkFBZ0IsV0FBVyxrQkFBa0IseUNBQXlDLHNCQUFzQiwwQ0FBMEMseURBQUMsd0NBQXdDLG9DQUFvQyxxRkFBQyxPQUFPLFNBQVMsMkJBQTJCLHFCQUFxQix5RUFBeUUsdUNBQXVDLHNIQUFzSCxnREFBZ0QsNE1BQTRNLHFDQUFxQyx1REFBdUQsU0FBUyxrQ0FBa0MsMEZBQTBGLDRDQUE0Qyx1REFBQyw2Q0FBNkMsdURBQUMsS0FBSyxpQkFBaUIsV0FBVyw4REFBOEQsOE9BQThPLFNBQVMsd0NBQXdDLDRGQUE0RixvRkFBb0YsTUFBTSw2QkFBNkIsc0RBQXNELElBQUksS0FBSyxLQUFLLHVDQUF1Qyx1RUFBdUUsNEJBQTRCLDBCQUEwQixHQUFHLG1DQUFtQyxrREFBa0QsSUFBSSwwQkFBMEIsa0RBQWtELHlCQUF5QixzQ0FBc0MsNkVBQTZFLDZCQUE2QixvR0FBb0csa0NBQWtDLGtDQUFrQyxzQ0FBc0MscURBQXFELFVBQVUsZ0JBQWdCLG9DQUFvQywwQkFBMEIseUNBQXlDLGdCQUFnQiwwRUFBQyxlQUFlLDBFQUFDLHFGQUFxRiw4Q0FBOEMsNkJBQTZCLDRDQUE0QyxLQUFLLG9FQUFFLHdDQUF3QyxNQUFNLEtBQUssb0VBQUUscURBQXFELEtBQUssb0VBQUUsY0FBYyxTQUFTLGdCQUFnQiwrR0FBK0csNEJBQTRCLDRTQUE0UyxpQ0FBaUMsbUdBQW1HLG9GQUFvRixHQUFHLDZCQUE2Qix3RkFBd0YseUVBQXlFLEdBQUcsb0JBQW9CLHdDQUF3QyxpRUFBaUUsR0FBRyxpREFBaUQsd0lBQXdJLDhEQUFDLE9BQU8sK0NBQStDLEdBQUcsdUJBQXVCLG9EQUFvRCw0RUFBQyxHQUFHLE9BQU8sd0VBQUUsa0RBQWtELDZFQUFDLENBQUMsMkVBQUMsc0RBQXNELDJFQUFDLDhDQUE4Qyx1Q0FBdUMseUJBQXlCLFNBQVMscUNBQXFDLGFBQWEsaUVBQWlFLDZCQUE2QixnQ0FBZ0Msa0JBQWtCLHlDQUF5QyxxRkFBcUYsNkJBQTZCLDZHQUE2RyxxRkFBcUYsWUFBWSxHQUFHLG1CQUFtQixpRUFBaUUsdURBQUUsU0FBUyxzREFBRSxZQUFZLHFCQUFxQixnQkFBZ0Isb0JBQW9CLGlCQUFpQixPQUFPLEtBQUssY0FBYyxLQUFLLHVGQUFDLElBQUksd0RBQXdELHVEQUFDLDBEQUEwRCxJQUFJLElBQUksRUFBRSxHQUFHLEVBQUUsTUFBTSw4QkFBOEIsR0FBRyxpQ0FBaUMsdURBQUMsb0NBQW9DLGtCQUFrQiw0RUFBNEUsU0FBUywrQkFBK0Isa0NBQWtDLHNDQUFzQyxxSUFBcUksMERBQUMsUUFBUSxvRkFBb0YsWUFBWSxzQkFBc0IsV0FBVyx5RkFBRSxrTEFBa0wsT0FBTyx1REFBQyxFQUFFLHVGQUFDLEVBQUUsWUFBWSx5Q0FBeUMsdURBQUMsRUFBRSx1RkFBQywyQ0FBMkMsdURBQUMsRUFBRSx1RkFBQyx5REFBeUQsdURBQUMsRUFBRSx1RkFBQyw0Q0FBNEMsdURBQUMsRUFBRSx1RkFBQyw0Q0FBNEMsdURBQUMsRUFBRSx1RkFBQyx3Q0FBd0MsdURBQUMsRUFBRSx1RkFBQyxFQUFFLFlBQVksOENBQThDLHVEQUFDLEVBQUUsdUZBQUMsMERBQTBELHVEQUFDLEVBQUUsdUZBQUMsK0RBQStELHVEQUFDLEVBQUUsdUZBQUMsc0RBQXNELHVEQUFDLEVBQUUsdUZBQUMsK0NBQStDLHVEQUFDLEVBQUUsdUZBQUMsNENBQTRDLHVEQUFDLEVBQUUsdUZBQUMsNkNBQTZDLHVEQUFDLEVBQUUsdUZBQUMsOENBQThDLHVEQUFDLEVBQUUsdUZBQUMseUNBQXlDLHVEQUFDLEVBQUUsdUZBQUMsRUFBRSxZQUFZLHdDQUF3Qyx1REFBQyxFQUFFLHVGQUFDLGdFQUFnRSx1REFBQyxFQUFFLHVGQUFDLHlDQUF5Qyx1REFBQyxFQUFFLHVGQUFDLHlDQUF5Qyx1REFBQyxFQUFFLHVGQUFDLDJDQUEyQyx1REFBQyxFQUFFLHVGQUFDLEVBQUUsaUJBQWlCLDZDQUE2Qyx1REFBQyxFQUFFLHVGQUFDLGlEQUFpRCx1REFBQyxFQUFFLHVGQUFDLCtDQUErQyx1REFBQyxFQUFFLHVGQUFDLEVBQUUsWUFBWSw4Q0FBOEMsdURBQUMsRUFBRSx1RkFBQyxFQUFFLGlCQUFpQiw0REFBNEQsdURBQUMsRUFBRSx1RkFBQyxFQUFFLGlCQUFpQixnQ0FBZ0MsdURBQUMsRUFBRSx1RkFBQyxFQUFFLGlCQUFpQixnQ0FBZ0MsdURBQUMsRUFBRSx1RkFBQyxFQUFFLGlCQUFpQixpREFBaUQsdURBQUMsRUFBRSx1RkFBQyxFQUFFLGlCQUFpQiwwREFBMEQsdURBQUMsRUFBRSx1RkFBQyxFQUFFLGlCQUFpQiw2Q0FBNkMsdURBQUMsRUFBRSx1RkFBQyxFQUFFLGlCQUFpQiwwQ0FBMEMsdURBQUMsRUFBRSx1RkFBQyxzQ0FBc0MsdURBQUMsRUFBRSx1RkFBQywyQ0FBMkMsdURBQUMsRUFBRSx1RkFBQyx5Q0FBeUMsdURBQUMsRUFBRSx1RkFBQyw0Q0FBNEMsdURBQUMsRUFBRSx1RkFBQyxzQ0FBc0MsdURBQUMsRUFBRSx1RkFBQywwQ0FBMEMsdURBQUMsRUFBRSx1RkFBQyxFQUFFLFlBQVksaUNBQWlDLHVEQUFDLEVBQUUsdUZBQUMsRUFBRSxZQUFZLHFDQUFxQyx1REFBQyxFQUFFLHVGQUFDLEVBQUUsWUFBWSxnQ0FBZ0MsdURBQUMsRUFBRSx1RkFBQyxFQUFFLFlBQVksaURBQWlELHVEQUFDLEVBQUUsdUZBQUMsRUFBRSx5QkFBeUIsMENBQTBDLHVEQUFDLEVBQUUsdUZBQUMsRUFBRSxZQUFZLDRDQUE0Qyx1REFBQyxFQUFFLHVGQUFDLEVBQUUseUJBQXlCLGdEQUFnRCx1REFBQyxFQUFFLHVGQUFDLEVBQUUsaUJBQWlCLCtCQUErQix1REFBQyxFQUFFLHVGQUFDLEVBQUUsaUJBQWlCLCtCQUErQix1REFBQyxFQUFFLHVGQUFDLDhDQUE4Qyx1REFBQyxFQUFFLHVGQUFDLGtFQUFrRSwwRkFBMEYsV0FBVyxHQUFHLFNBQVMsY0FBYyxtR0FBbUcsUUFBUSxvR0FBb0csZUFBZSxvRkFBQyxNQUFNLG9GQUFDLGNBQTJDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ0o3OXdEO0FBQ0E7QUFDQTtBQUNBO0FBQ3U0QixRQUFRLDBFQUFDLEdBQUcsb0JBQW9CLHlEQUFDLENBQUMsZUFBZSx5QkFBeUIsd0RBQUMsNEVBQTRFLDBEQUEwRCw0SEFBQyx1RUFBdUUsNEhBQUMsK0NBQStDLG9GQUFDLHVDQUF1Qyw0SEFBQywyRkFBMkYsNEhBQUMsb0NBQW9DLGtCQUFrQixXQUFXLGlFQUFpRSwwRUFBQyx3REFBd0QsK0NBQStDLHNJQUFzSSw4RUFBQyxPQUFPLE9BQU8sNEhBQUMsa0JBQWtCLDRDQUE0QyxtRkFBQyxpRkFBaUYsNEhBQUMseUJBQXlCLHFCQUFxQiw0Q0FBNEMsbUJBQW1CLCtCQUErQixrQkFBa0IsMkNBQTJDLGdDQUFnQyx1REFBQyxFQUFFLHNGQUFDLEVBQUUsaUJBQWlCLHlDQUF5Qyx1REFBQyxFQUFFLHNGQUFDLEVBQUUsaUJBQWlCLGlDQUFpQyx1REFBQyxFQUFFLHNGQUFDLEVBQUUsaUJBQWlCLDhCQUE4Qix1REFBQyxFQUFFLHNGQUFDLEVBQUUsaUJBQWlCLDhCQUE4Qix1REFBQyxFQUFFLHNGQUFDLEVBQUUsaUJBQWlCLHVDQUF1Qyx1REFBQyxFQUFFLHNGQUFDLEVBQUUsaUJBQWlCLDhDQUE4Qyx1REFBQyxFQUFFLHNGQUFDLEVBQUUsaUJBQWlCLG1EQUFtRCx1REFBQyxFQUFFLHNGQUFDLDZEQUE2RCxTQUFTLDREQUFnRzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDSnhxRjtBQUNBO0FBQ0E7QUFDQTtBQUN3WSxnQkFBZ0Isa0VBQUMsQ0FBQyxtQkFBbUIsc0dBQXNHLDZFQUFDLGlCQUFpQixnQkFBZ0IsaUNBQWlDLDJEQUFDLHVDQUF1QyxJQUFJLHNCQUFzQixxRUFBQyxJQUFJLFNBQVMsOENBQThDLFdBQVcsVUFBVSx5Q0FBeUMsNERBQUMsMkJBQTJCLDZCQUE2QiwyQ0FBMkMsNENBQTRDLHNDQUFzQywwQkFBMEIsU0FBUywyQkFBMkIsK0lBQStJLG9CQUFvQixrQ0FBa0MsZ0NBQWdDLHVCQUF1Qix5REFBeUQsU0FBUyx5QkFBeUIsd0JBQXdCLDJCQUEyQixxR0FBQywyRUFBOEc7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDSi8vQztBQUNBO0FBQ0E7QUFDQTtBQUNtMkIsb0JBQW9CLHlEQUFDLENBQUMsZUFBZSx1SEFBdUgsNkVBQUMsMkxBQTJMLGFBQWEsOEJBQThCLGlFQUFpRSwrQkFBK0IsZ0VBQUMsb0lBQW9JLFVBQVUscU5BQXFOLGVBQWUsbURBQW1ELFlBQVksZUFBZSxhQUFhLG1IQUFtSCw4QkFBOEIsS0FBSyxRQUFRLDJFQUFDLEdBQUcsZ0dBQUMsMkNBQTJDLGlCQUFpQixtQkFBbUIsOEJBQThCLHlCQUF5QiwyQ0FBMkMsZ0VBQWdFLG9GQUFvRixtQ0FBbUMsOFVBQThVLGNBQWMscUVBQXFFLFdBQVcsbURBQW1ELDZFQUE2RSwrQ0FBK0MscURBQUMsRUFBRSx3Q0FBd0MsTUFBTSxzQkFBc0IsZ0NBQWdDLHVFQUF1RSw0QkFBNEIsaUJBQWlCLGlCQUFpQixpRkFBaUYsd0JBQXdCLHVDQUF1QywrQkFBK0IsaUZBQUMsZ0NBQWdDLDBCQUEwQixPQUFPLGlGQUFDLGdDQUFnQyxpQkFBaUIsTUFBTSx3SEFBd0gsMkdBQTJHLFlBQVksbUJBQW1CLG9DQUFvQyw4QkFBOEIsb0NBQW9DLG9CQUFvQixvQ0FBb0MsZ0NBQWdDLDJCQUEyQix1REFBQyxTQUFTLHNEQUFDLGdCQUFnQixxQ0FBcUMsb0NBQW9DLGtDQUFrQyxzRUFBc0UsK0ZBQStGLGlDQUFpQyxrQ0FBa0Msb0NBQW9DLHdDQUF3Qyx1Q0FBdUMsdUJBQXVCLHVEQUFDLE9BQU8sc0RBQUMseUJBQXlCLFNBQVMsdUJBQXVCLHNEQUFzRCwwREFBMEQsU0FBUywwRUFBMEUsdUJBQXVCLHVEQUFDLDJGQUEyRixxQkFBcUIsTUFBTSxJQUFJLGdHQUFDLHNCQUFzQix1REFBQyxpR0FBaUcsY0FBYyx1Q0FBdUMsc0RBQXNELGtCQUFrQixtQkFBbUIsd0VBQXdFLHVEQUFDLFNBQVMsc0RBQUMsdUVBQXVFLHlGQUF5RixnQ0FBZ0MscUlBQXFJLHVEQUFDLFNBQVMsc0RBQUMsNkdBQTZHLGdCQUFnQixnQkFBZ0IsdURBQUMsRUFBRSxzRkFBQyw0Q0FBNEMsdURBQUMsRUFBRSxzRkFBQyxnQ0FBZ0MsdURBQUMsRUFBRSxzRkFBQyxtREFBbUQsdURBQUMsRUFBRSxzRkFBQyx1Q0FBdUMsdURBQUMsRUFBRSxzRkFBQyx5Q0FBeUMsdURBQUMsRUFBRSxzRkFBQyxFQUFFLGlCQUFpQiwyQ0FBMkMsdURBQUMsRUFBRSxzRkFBQyxFQUFFLFlBQVksbUNBQW1DLHVEQUFDLEVBQUUsc0ZBQUMsRUFBRSxZQUFZLGdDQUFnQyx1REFBQyxFQUFFLHNGQUFDLG1DQUFtQyx1REFBQyxFQUFFLHNGQUFDLGdFQUFnRSwyQkFBMkIsMkVBQUMsR0FBMEM7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDSi9tTTtBQUNBO0FBQ0E7QUFDQTtBQUM0SCxrQkFBa0IsOEJBQThCLDRFQUFDLFlBQVksa0VBQUMsUUFBMEI7Ozs7Ozs7Ozs7Ozs7OztBQ0pwTjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEscUJBQXFCLDJEQUFvRzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNKakk7QUFDQTtBQUNBO0FBQ0E7QUFDbXBCLG9CQUFvQix5REFBQyxDQUFDLGVBQWUseUJBQXlCLHdFQUFDLEdBQUcsd0RBQUcsK0JBQStCLG9FQUFvRSwrTUFBK00sU0FBUyxpQkFBaUIsVUFBVSxrQ0FBa0MsNERBQUMsdUVBQXVFLFNBQVMsaUhBQWlILHdCQUF3QiwwQkFBMEIsZ0NBQWdDLHNKQUFzSixPQUFPLHNDQUFzQyxVQUFVLDJFQUEyRSxvQkFBb0Isc0JBQXNCLFFBQVEsb0ZBQUMsdUNBQXVDLHlDQUF5QyxZQUFZLHVCQUF1QixtQ0FBbUMsa0JBQWtCLHVDQUF1QyxRQUFRLG9GQUFDLGNBQWMsK0NBQStDLG9CQUFvQixRQUFRLHlGQUF5RixxQkFBcUIsd0ZBQXdGLEtBQUssR0FBRyxlQUFlLGNBQWMscUNBQXFDLFNBQVMsNEVBQUMsYUFBYSx1REFBQyxFQUFFLHNGQUFDLEVBQUUsaUJBQWlCLDBDQUEwQyx1REFBQyxFQUFFLHNGQUFDLEVBQUUsaUJBQWlCLDhCQUE4Qix1REFBQyxFQUFFLHNGQUFDLEVBQUUsaUJBQWlCLDhCQUE4Qix1REFBQyxFQUFFLHNGQUFDLEVBQUUsaUJBQWlCLHVDQUF1Qyx1REFBQyxFQUFFLHNGQUFDLG1DQUFtQyx1REFBQyxFQUFFLHNGQUFDLEVBQUUsWUFBWSwyQ0FBMkMsdURBQUMsRUFBRSxzRkFBQyxxREFBcUQsU0FBUyw2QkFBeUQ7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDSi9zRjtBQUNBO0FBQ0E7QUFDQTtBQUN1bEMsbUNBQW1DLG9CQUFvQix3REFBQyxjQUFjLHlEQUFDLEdBQUcsdUJBQXVCLG1DQUFtQyxlQUFlLGlDQUFpQyxhQUFhLG9IQUFvSCwwRUFBQyw4REFBOEQscUZBQUMsS0FBSyx3RUFBd0UsZ0NBQWdDLCtCQUErQiwrTEFBK0wsU0FBUyx3REFBd0QscUJBQXFCLEdBQUcsc0ZBQUMsa0NBQWtDLFVBQVUsc0JBQXNCLHVCQUF1Qix1REFBdUQsc0NBQXNDLFFBQVEsaUZBQUMsZ0NBQWdDLDBGQUFDLG1CQUFtQix3Q0FBd0MsNkJBQTZCLHNCQUFzQiwrRUFBK0UsdURBQUMsK0VBQStFLDREQUE0RCx3RkFBd0Ysb0NBQW9DLDZNQUE2TSxrQkFBa0IsOEJBQThCLHNDQUFzQywwRUFBQyxJQUFJLCtCQUErQixpREFBaUQsTUFBTSxZQUFZLDRCQUE0Qiw0QkFBNEIsMkVBQUMsNElBQTRJLG1EQUFDLFVBQVUsbURBQUMsVUFBVSx5QkFBeUIsT0FBTywwRUFBQyw2SEFBNkgsdUJBQXVCLFlBQVksSUFBSSw4R0FBOEcsbUZBQUMsTUFBTSxXQUFXLHVEQUFDLEVBQUUsc0ZBQUMsRUFBRSxpQkFBaUIsK0JBQStCLHVEQUFDLEVBQUUsc0ZBQUMsRUFBRSxpQkFBaUIsb0NBQW9DLHVEQUFDLEVBQUUsc0ZBQUMsRUFBRSxpQkFBaUIsOEJBQThCLHVEQUFDLEVBQUUsc0ZBQUMsMkNBQTJDLHVEQUFDLEVBQUUsc0ZBQUMsaUVBQWlFLFFBQVEsMEVBQUMsU0FBUyxtRkFBQyxHQUFHLG9GQUFDLEtBQUssb0ZBQUMsS0FBSyxvRkFBQyxHQUE0Qzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNKenlIO0FBQ0E7QUFDQTtBQUNBO0FBQ3FLLGNBQWMsT0FBTywyREFBQyxzREFBc0QsNkRBQUMsZ0JBQWdCLGNBQWMsNkNBQTZDLGFBQWEsZ0VBQUMsR0FBRyxjQUFjLHFFQUFnSyIsInNvdXJjZXMiOlsid2VicGFjazovL3ByZWNpc2lvbmZhcm1zLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS9jaHVua3MvcXVpY2tzZWxlY3QuanMiLCJ3ZWJwYWNrOi8vcHJlY2lzaW9uZmFybXMvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL2NvcmUvbGlicy9yYnVzaC9Qb29sZWRSQnVzaC5qcyIsIndlYnBhY2s6Ly9wcmVjaXNpb25mYXJtcy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvbGF5ZXJzL2dyYXBoaWNzL2RhdGEvb3B0aW1pemVkRmVhdHVyZVF1ZXJ5RW5naW5lQWRhcHRlci5qcyIsIndlYnBhY2s6Ly9wcmVjaXNpb25mYXJtcy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvcmVuZGVyZXJzL3N1cHBvcnQvcmVuZGVyZXJDb252ZXJzaW9uLmpzIiwid2VicGFjazovL3ByZWNpc2lvbmZhcm1zLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8zZC9sYXllcnMvZ3JhcGhpY3MvRGlzcGxheUZlYXR1cmVMaW1pdC5qcyIsIndlYnBhY2s6Ly9wcmVjaXNpb25mYXJtcy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvM2QvbGF5ZXJzL2dyYXBoaWNzL0V4dGVudFNldC5qcyIsIndlYnBhY2s6Ly9wcmVjaXNpb25mYXJtcy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvM2QvbGF5ZXJzL2dyYXBoaWNzL0dyYXBoaWNTdGF0ZVRyYWNraW5nLmpzIiwid2VicGFjazovL3ByZWNpc2lvbmZhcm1zLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8zZC9sYXllcnMvZ3JhcGhpY3MvR3JhcGhpY3MzRENvcmUuanMiLCJ3ZWJwYWNrOi8vcHJlY2lzaW9uZmFybXMvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzNkL2xheWVycy9ncmFwaGljcy9HcmFwaGljczNERmVhdHVyZVN0b3JlLmpzIiwid2VicGFjazovL3ByZWNpc2lvbmZhcm1zLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8zZC9sYXllcnMvZ3JhcGhpY3MvR3JhcGhpY3MzRFBvaW50U3ltYm9sLmpzIiwid2VicGFjazovL3ByZWNpc2lvbmZhcm1zLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8zZC9sYXllcnMvZ3JhcGhpY3MvR3JhcGhpY3MzRFNjYWxlVmlzaWJpbGl0eS5qcyIsIndlYnBhY2s6Ly9wcmVjaXNpb25mYXJtcy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvM2QvbGF5ZXJzL2dyYXBoaWNzL0dyYXBoaWNzM0RTeW1ib2xGYWN0b3J5LmpzIiwid2VicGFjazovL3ByZWNpc2lvbmZhcm1zLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8zZC9sYXllcnMvZ3JhcGhpY3MvR3JhcGhpY3NDb3JlUGVyZm9ybWFuY2VJbmZvLmpzIiwid2VicGFjazovL3ByZWNpc2lvbmZhcm1zLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8zZC9sYXllcnMvZ3JhcGhpY3MvU3BhdGlhbEluZGV4MkQuanMiLCJ3ZWJwYWNrOi8vcHJlY2lzaW9uZmFybXMvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzNkL2xheWVycy9zdXBwb3J0L1N0YWdlTGF5ZXJFbGV2YXRpb25Qcm92aWRlci5qcyIsIndlYnBhY2s6Ly9wcmVjaXNpb25mYXJtcy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvM2QvbGF5ZXJzL3N1cHBvcnQvaGlnaGxpZ2h0VXRpbHMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMzMvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmZ1bmN0aW9uIHQodCxyLGYsbixoKXtvKHQscixmfHwwLG58fHQubGVuZ3RoLTEsaHx8YSl9ZnVuY3Rpb24gbyh0LGEsZixuLGgpe2Zvcig7bj5mOyl7aWYobi1mPjYwMCl7dmFyIE09bi1mKzEsaT1hLWYrMSx1PU1hdGgubG9nKE0pLGM9LjUqTWF0aC5leHAoMip1LzMpLGU9LjUqTWF0aC5zcXJ0KHUqYyooTS1jKS9NKSooaS1NLzI8MD8tMToxKTtvKHQsYSxNYXRoLm1heChmLE1hdGguZmxvb3IoYS1pKmMvTStlKSksTWF0aC5taW4obixNYXRoLmZsb29yKGErKE0taSkqYy9NK2UpKSxoKX12YXIgbD10W2FdLHY9Zix4PW47Zm9yKHIodCxmLGEpLGgodFtuXSxsKT4wJiZyKHQsZixuKTt2PHg7KXtmb3Iocih0LHYseCksdisrLHgtLTtoKHRbdl0sbCk8MDspdisrO2Zvcig7aCh0W3hdLGwpPjA7KXgtLX0wPT09aCh0W2ZdLGwpP3IodCxmLHgpOnIodCwrK3gsbikseDw9YSYmKGY9eCsxKSxhPD14JiYobj14LTEpfX1mdW5jdGlvbiByKHQsbyxyKXt2YXIgYT10W29dO3Rbb109dFtyXSx0W3JdPWF9ZnVuY3Rpb24gYSh0LG8pe3JldHVybiB0PG8/LTE6dD5vPzE6MH1leHBvcnR7dCBhcyBxfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjMzL2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7aW5kZXhPZiBhcyB0LFBvc2l0aW9uSGludCBhcyBpfWZyb21cIi4uLy4uL2FycmF5VXRpbHMuanNcIjtpbXBvcnR7dG9Db25zdCBhcyBufWZyb21cIi4uLy4uL2NvbXBpbGVyVXRpbHMuanNcIjtpbXBvcnRcIi4uLy4uL2hhcy5qc1wiO2ltcG9ydCBlIGZyb21cIi4uLy4uL1Bvb2xlZEFycmF5LmpzXCI7aW1wb3J0e3EgYXMgaH1mcm9tXCIuLi8uLi8uLi9jaHVua3MvcXVpY2tzZWxlY3QuanNcIjtjbGFzcyBze2NvbnN0cnVjdG9yKHQ9OSxpKXt0aGlzLl9jb21wYXJlTWluWD11LHRoaXMuX2NvbXBhcmVNaW5ZPWQsdGhpcy5fdG9CQm94PXQ9PnQsdGhpcy5fbWF4RW50cmllcz1NYXRoLm1heCg0LHR8fDkpLHRoaXMuX21pbkVudHJpZXM9TWF0aC5tYXgoMixNYXRoLmNlaWwoLjQqdGhpcy5fbWF4RW50cmllcykpLGkmJihcImZ1bmN0aW9uXCI9PXR5cGVvZiBpP3RoaXMuX3RvQkJveD1pOnRoaXMuX2luaXRGb3JtYXQoaSkpLHRoaXMuY2xlYXIoKX1kZXN0cm95KCl7dGhpcy5jbGVhcigpLFkucHJ1bmUoKSxCLnBydW5lKCksdy5wcnVuZSgpLGoucHJ1bmUoKX1hbGwodCl7cih0aGlzLl9kYXRhLHQpfXNlYXJjaCh0LGkpe2xldCBuPXRoaXMuX2RhdGE7Y29uc3QgZT10aGlzLl90b0JCb3g7aWYoTSh0LG4pKWZvcihZLmNsZWFyKCk7bjspe2ZvcihsZXQgaD0wLHM9bi5jaGlsZHJlbi5sZW5ndGg7aDxzO2grKyl7Y29uc3Qgcz1uLmNoaWxkcmVuW2hdLGE9bi5sZWFmP2Uocyk6cztNKHQsYSkmJihuLmxlYWY/aShzKTpnKHQsYSk/cihzLGkpOlkucHVzaChzKSl9bj1ZLnBvcCgpfX1jb2xsaWRlcyh0KXtsZXQgaT10aGlzLl9kYXRhO2NvbnN0IG49dGhpcy5fdG9CQm94O2lmKCFNKHQsaSkpcmV0dXJuITE7Zm9yKFkuY2xlYXIoKTtpOyl7Zm9yKGxldCBlPTAsaD1pLmNoaWxkcmVuLmxlbmd0aDtlPGg7ZSsrKXtjb25zdCBoPWkuY2hpbGRyZW5bZV0scz1pLmxlYWY/bihoKTpoO2lmKE0odCxzKSl7aWYoaS5sZWFmfHxnKHQscykpcmV0dXJuITA7WS5wdXNoKGgpfX1pPVkucG9wKCl9cmV0dXJuITF9bG9hZCh0KXtpZighdC5sZW5ndGgpcmV0dXJuIHRoaXM7aWYodC5sZW5ndGg8dGhpcy5fbWluRW50cmllcyl7Zm9yKGxldCBpPTAsbj10Lmxlbmd0aDtpPG47aSsrKXRoaXMuaW5zZXJ0KHRbaV0pO3JldHVybiB0aGlzfWxldCBpPXRoaXMuX2J1aWxkKHQuc2xpY2UoKSwwLHQubGVuZ3RoLTEsMCk7aWYodGhpcy5fZGF0YS5jaGlsZHJlbi5sZW5ndGgpaWYodGhpcy5fZGF0YS5oZWlnaHQ9PT1pLmhlaWdodCl0aGlzLl9zcGxpdFJvb3QodGhpcy5fZGF0YSxpKTtlbHNle2lmKHRoaXMuX2RhdGEuaGVpZ2h0PGkuaGVpZ2h0KXtjb25zdCB0PXRoaXMuX2RhdGE7dGhpcy5fZGF0YT1pLGk9dH10aGlzLl9pbnNlcnQoaSx0aGlzLl9kYXRhLmhlaWdodC1pLmhlaWdodC0xLCEwKX1lbHNlIHRoaXMuX2RhdGE9aTtyZXR1cm4gdGhpc31pbnNlcnQodCl7cmV0dXJuIHQmJnRoaXMuX2luc2VydCh0LHRoaXMuX2RhdGEuaGVpZ2h0LTEpLHRoaXN9Y2xlYXIoKXtyZXR1cm4gdGhpcy5fZGF0YT1uZXcgUyhbXSksdGhpc31yZW1vdmUoaSl7aWYoIWkpcmV0dXJuIHRoaXM7bGV0IGUsaD10aGlzLl9kYXRhLHM9bnVsbCxhPTAscj0hMTtjb25zdCBvPXRoaXMuX3RvQkJveChpKTtmb3Iody5jbGVhcigpLGouY2xlYXIoKTtofHx3Lmxlbmd0aD4wOyl7aWYoaHx8KGg9dy5wb3AoKSxzPXcuZGF0YVt3Lmxlbmd0aC0xXSxhPWoucG9wKCk/PzAscj0hMCksaC5sZWFmJiYoZT10KGguY2hpbGRyZW4sbihpKSxoLmNoaWxkcmVuLmxlbmd0aCxoLmluZGV4SGludCksLTEhPT1lKSlyZXR1cm4gaC5jaGlsZHJlbi5zcGxpY2UoZSwxKSx3LnB1c2goaCksdGhpcy5fY29uZGVuc2UodyksdGhpcztyfHxoLmxlYWZ8fCFnKGgsbyk/cz8oYSsrLGg9cy5jaGlsZHJlblthXSxyPSExKTpoPW51bGw6KHcucHVzaChoKSxqLnB1c2goYSksYT0wLHM9aCxoPWguY2hpbGRyZW5bMF0pfXJldHVybiB0aGlzfXRvSlNPTigpe3JldHVybiB0aGlzLl9kYXRhfWZyb21KU09OKHQpe3JldHVybiB0aGlzLl9kYXRhPXQsdGhpc31fYnVpbGQodCxpLG4sZSl7Y29uc3QgaD1uLWkrMTtsZXQgcz10aGlzLl9tYXhFbnRyaWVzO2lmKGg8PXMpe2NvbnN0IGU9bmV3IFModC5zbGljZShpLG4rMSkpO3JldHVybiBsKGUsdGhpcy5fdG9CQm94KSxlfWV8fChlPU1hdGguY2VpbChNYXRoLmxvZyhoKS9NYXRoLmxvZyhzKSkscz1NYXRoLmNlaWwoaC9zKiooZS0xKSkpO2NvbnN0IGE9bmV3IHkoW10pO2EuaGVpZ2h0PWU7Y29uc3Qgcj1NYXRoLmNlaWwoaC9zKSxvPXIqTWF0aC5jZWlsKE1hdGguc3FydChzKSk7WCh0LGksbixvLHRoaXMuX2NvbXBhcmVNaW5YKTtmb3IobGV0IGw9aTtsPD1uO2wrPW8pe2NvbnN0IGk9TWF0aC5taW4obCtvLTEsbik7WCh0LGwsaSxyLHRoaXMuX2NvbXBhcmVNaW5ZKTtmb3IobGV0IG49bDtuPD1pO24rPXIpe2NvbnN0IGg9TWF0aC5taW4obityLTEsaSk7YS5jaGlsZHJlbi5wdXNoKHRoaXMuX2J1aWxkKHQsbixoLGUtMSkpfX1yZXR1cm4gbChhLHRoaXMuX3RvQkJveCksYX1faW5zZXJ0KHQsaSxuKXtjb25zdCBlPXRoaXMuX3RvQkJveCxoPW4/dDplKHQpO3cuY2xlYXIoKTtjb25zdCBzPWEoaCx0aGlzLl9kYXRhLGksdyk7Zm9yKHMuY2hpbGRyZW4ucHVzaCh0KSxtKHMsaCk7aT49MCYmdy5kYXRhW2ldLmNoaWxkcmVuLmxlbmd0aD50aGlzLl9tYXhFbnRyaWVzOyl0aGlzLl9zcGxpdCh3LGkpLGktLTtvKGgsdyxpKX1fc3BsaXQodCxpKXtjb25zdCBuPXQuZGF0YVtpXSxlPW4uY2hpbGRyZW4ubGVuZ3RoLGg9dGhpcy5fbWluRW50cmllczt0aGlzLl9jaG9vc2VTcGxpdEF4aXMobixoLGUpO2NvbnN0IHM9dGhpcy5fY2hvb3NlU3BsaXRJbmRleChuLGgsZSk7aWYoIXMpcmV0dXJuO2NvbnN0IGE9bi5jaGlsZHJlbi5zcGxpY2UocyxuLmNoaWxkcmVuLmxlbmd0aC1zKSxyPW4ubGVhZj9uZXcgUyhhKTpuZXcgeShhKTtyLmhlaWdodD1uLmhlaWdodCxsKG4sdGhpcy5fdG9CQm94KSxsKHIsdGhpcy5fdG9CQm94KSxpP3QuZGF0YVtpLTFdLmNoaWxkcmVuLnB1c2gocik6dGhpcy5fc3BsaXRSb290KG4scil9X3NwbGl0Um9vdCh0LGkpe3RoaXMuX2RhdGE9bmV3IHkoW3QsaV0pLHRoaXMuX2RhdGEuaGVpZ2h0PXQuaGVpZ2h0KzEsbCh0aGlzLl9kYXRhLHRoaXMuX3RvQkJveCl9X2Nob29zZVNwbGl0SW5kZXgodCxpLG4pe2xldCBlLGgscztlPWg9MS8wO2ZvcihsZXQgYT1pO2E8PW4taTthKyspe2NvbnN0IGk9Yyh0LDAsYSx0aGlzLl90b0JCb3gpLHI9Yyh0LGEsbix0aGlzLl90b0JCb3gpLG89cChpLHIpLGw9ZihpKStmKHIpO288ZT8oZT1vLHM9YSxoPWw8aD9sOmgpOm89PT1lJiZsPGgmJihoPWwscz1hKX1yZXR1cm4gc31fY2hvb3NlU3BsaXRBeGlzKHQsaSxuKXtjb25zdCBlPXQubGVhZj90aGlzLl9jb21wYXJlTWluWDp1LGg9dC5sZWFmP3RoaXMuX2NvbXBhcmVNaW5ZOmQ7dGhpcy5fYWxsRGlzdE1hcmdpbih0LGksbixlKTx0aGlzLl9hbGxEaXN0TWFyZ2luKHQsaSxuLGgpJiZ0LmNoaWxkcmVuLnNvcnQoZSl9X2FsbERpc3RNYXJnaW4odCxpLG4sZSl7dC5jaGlsZHJlbi5zb3J0KGUpO2NvbnN0IGg9dGhpcy5fdG9CQm94LHM9Yyh0LDAsaSxoKSxhPWModCxuLWksbixoKTtsZXQgcj14KHMpK3goYSk7Zm9yKGxldCBvPWk7bzxuLWk7bysrKXtjb25zdCBpPXQuY2hpbGRyZW5bb107bShzLHQubGVhZj9oKGkpOmkpLHIrPXgocyl9Zm9yKGxldCBvPW4taS0xO28+PWk7by0tKXtjb25zdCBpPXQuY2hpbGRyZW5bb107bShhLHQubGVhZj9oKGkpOmkpLHIrPXgoYSl9cmV0dXJuIHJ9X2NvbmRlbnNlKGkpe2ZvcihsZXQgbj1pLmxlbmd0aC0xO24+PTA7bi0tKXtjb25zdCBlPWkuZGF0YVtuXTtpZigwPT09ZS5jaGlsZHJlbi5sZW5ndGgpaWYobj4wKXtjb25zdCBoPWkuZGF0YVtuLTFdLHM9aC5jaGlsZHJlbjtzLnNwbGljZSh0KHMsZSxzLmxlbmd0aCxoLmluZGV4SGludCksMSl9ZWxzZSB0aGlzLmNsZWFyKCk7ZWxzZSBsKGUsdGhpcy5fdG9CQm94KX19X2luaXRGb3JtYXQodCl7Y29uc3QgaT1bXCJyZXR1cm4gYVwiLFwiIC0gYlwiLFwiO1wiXTt0aGlzLl9jb21wYXJlTWluWD1uZXcgRnVuY3Rpb24oXCJhXCIsXCJiXCIsaS5qb2luKHRbMF0pKSx0aGlzLl9jb21wYXJlTWluWT1uZXcgRnVuY3Rpb24oXCJhXCIsXCJiXCIsaS5qb2luKHRbMV0pKSx0aGlzLl90b0JCb3g9bmV3IEZ1bmN0aW9uKFwiYVwiLFwicmV0dXJuIHttaW5YOiBhXCIrdFswXStcIiwgbWluWTogYVwiK3RbMV0rXCIsIG1heFg6IGFcIit0WzJdK1wiLCBtYXhZOiBhXCIrdFszXStcIn07XCIpfX1mdW5jdGlvbiBhKHQsaSxuLGUpe2Zvcig7ZS5wdXNoKGkpLCEwIT09aS5sZWFmJiZlLmxlbmd0aC0xIT09bjspe2xldCBuLGU9MS8wLGg9MS8wO2ZvcihsZXQgcz0wLGE9aS5jaGlsZHJlbi5sZW5ndGg7czxhO3MrKyl7Y29uc3QgYT1pLmNoaWxkcmVuW3NdLHI9ZihhKSxvPV8odCxhKS1yO288aD8oaD1vLGU9cjxlP3I6ZSxuPWEpOm89PT1oJiZyPGUmJihlPXIsbj1hKX1pPW58fGkuY2hpbGRyZW5bMF19cmV0dXJuIGl9ZnVuY3Rpb24gcih0LGkpe2xldCBlPXQ7Zm9yKEIuY2xlYXIoKTtlOyl7aWYoITA9PT1lLmxlYWYpZm9yKGNvbnN0IHQgb2YgZS5jaGlsZHJlbilpKG4odCkpO2Vsc2UgQi5wdXNoQXJyYXkoZS5jaGlsZHJlbik7ZT1CLnBvcCgpPz9udWxsfX1mdW5jdGlvbiBvKHQsaSxuKXtmb3IobGV0IGU9bjtlPj0wO2UtLSltKGkuZGF0YVtlXSx0KX1mdW5jdGlvbiBsKHQsaSl7Yyh0LDAsdC5jaGlsZHJlbi5sZW5ndGgsaSx0KX1mdW5jdGlvbiBjKHQsaSxuLGUsaCl7aHx8KGg9bmV3IFMoW10pKSxoLm1pblg9MS8wLGgubWluWT0xLzAsaC5tYXhYPS0xLzAsaC5tYXhZPS0xLzA7Zm9yKGxldCBzLGE9aTthPG47YSsrKXM9dC5jaGlsZHJlblthXSxtKGgsdC5sZWFmP2Uocyk6cyk7cmV0dXJuIGh9ZnVuY3Rpb24gbSh0LGkpe3QubWluWD1NYXRoLm1pbih0Lm1pblgsaS5taW5YKSx0Lm1pblk9TWF0aC5taW4odC5taW5ZLGkubWluWSksdC5tYXhYPU1hdGgubWF4KHQubWF4WCxpLm1heFgpLHQubWF4WT1NYXRoLm1heCh0Lm1heFksaS5tYXhZKX1mdW5jdGlvbiB1KHQsaSl7cmV0dXJuIHQubWluWC1pLm1pblh9ZnVuY3Rpb24gZCh0LGkpe3JldHVybiB0Lm1pblktaS5taW5ZfWZ1bmN0aW9uIGYodCl7cmV0dXJuKHQubWF4WC10Lm1pblgpKih0Lm1heFktdC5taW5ZKX1mdW5jdGlvbiB4KHQpe3JldHVybiB0Lm1heFgtdC5taW5YKyh0Lm1heFktdC5taW5ZKX1mdW5jdGlvbiBfKHQsaSl7cmV0dXJuKE1hdGgubWF4KGkubWF4WCx0Lm1heFgpLU1hdGgubWluKGkubWluWCx0Lm1pblgpKSooTWF0aC5tYXgoaS5tYXhZLHQubWF4WSktTWF0aC5taW4oaS5taW5ZLHQubWluWSkpfWZ1bmN0aW9uIHAodCxpKXtjb25zdCBuPU1hdGgubWF4KHQubWluWCxpLm1pblgpLGU9TWF0aC5tYXgodC5taW5ZLGkubWluWSksaD1NYXRoLm1pbih0Lm1heFgsaS5tYXhYKSxzPU1hdGgubWluKHQubWF4WSxpLm1heFkpO3JldHVybiBNYXRoLm1heCgwLGgtbikqTWF0aC5tYXgoMCxzLWUpfWZ1bmN0aW9uIGcodCxpKXtyZXR1cm4gdC5taW5YPD1pLm1pblgmJnQubWluWTw9aS5taW5ZJiZpLm1heFg8PXQubWF4WCYmaS5tYXhZPD10Lm1heFl9ZnVuY3Rpb24gTSh0LGkpe3JldHVybiBpLm1pblg8PXQubWF4WCYmaS5taW5ZPD10Lm1heFkmJmkubWF4WD49dC5taW5YJiZpLm1heFk+PXQubWluWX1mdW5jdGlvbiBYKHQsaSxuLGUscyl7Y29uc3QgYT1baSxuXTtmb3IoO2EubGVuZ3RoOyl7Y29uc3QgaT1hLnBvcCgpLG49YS5wb3AoKTtpZihpLW48PWUpY29udGludWU7Y29uc3Qgcj1uK01hdGguY2VpbCgoaS1uKS9lLzIpKmU7aCh0LHIsbixpLHMpLGEucHVzaChuLHIscixpKX19Y29uc3QgWT1uZXcgZSxCPW5ldyBlLHc9bmV3IGUsaj1uZXcgZSh7ZGVhbGxvY2F0b3I6dm9pZCAwfSk7Y2xhc3MgRXtjb25zdHJ1Y3Rvcigpe3RoaXMubWluWD0xLzAsdGhpcy5taW5ZPTEvMCx0aGlzLm1heFg9LTEvMCx0aGlzLm1heFk9LTEvMH19Y2xhc3MgYiBleHRlbmRzIEV7Y29uc3RydWN0b3IoKXtzdXBlciguLi5hcmd1bWVudHMpLHRoaXMuaGVpZ2h0PTEsdGhpcy5pbmRleEhpbnQ9bmV3IGl9fWNsYXNzIFMgZXh0ZW5kcyBie2NvbnN0cnVjdG9yKHQpe3N1cGVyKCksdGhpcy5jaGlsZHJlbj10LHRoaXMubGVhZj0hMH19Y2xhc3MgeSBleHRlbmRzIGJ7Y29uc3RydWN0b3IodCl7c3VwZXIoKSx0aGlzLmNoaWxkcmVuPXQsdGhpcy5sZWFmPSExfX1leHBvcnR7RSBhcyBCQm94LHMgYXMgUG9vbGVkUkJ1c2h9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMzMvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtPcHRpbWl6ZWRGZWF0dXJlIGFzIHR9ZnJvbVwiLi4vT3B0aW1pemVkRmVhdHVyZS5qc1wiO2NvbnN0IGU9e2dldE9iamVjdElkOnQ9PnQub2JqZWN0SWQsZ2V0QXR0cmlidXRlczp0PT50LmF0dHJpYnV0ZXMsZ2V0QXR0cmlidXRlOih0LGUpPT50LmF0dHJpYnV0ZXNbZV0sY2xvbmVXaXRoR2VvbWV0cnk6KGUscik9Pm5ldyB0KHIsZS5hdHRyaWJ1dGVzLG51bGwsZS5vYmplY3RJZCksZ2V0R2VvbWV0cnk6dD0+dC5nZW9tZXRyeSxnZXRDZW50cm9pZDoodCxlKT0+dC5lbnN1cmVDZW50cm9pZChlKX07ZXhwb3J0e2UgYXMgb3B0aW1pemVkRmVhdHVyZVF1ZXJ5RW5naW5lQWRhcHRlcn07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4zMy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e2lzU29tZSBhcyByfWZyb21cIi4uLy4uL2NvcmUvYXJyYXlVdGlscy5qc1wiO2ltcG9ydFwiLi4vLi4vY29yZS9oYXMuanNcIjtpbXBvcnQgZSBmcm9tXCIuLi8uLi9jb3JlL0Vycm9yLmpzXCI7aW1wb3J0e2RlZmF1bHRUbzNET3B0aW9ucyBhcyBuLHRvM0QgYXMgb31mcm9tXCIuLi8uLi9zeW1ib2xzL3N1cHBvcnQvc3ltYm9sQ29udmVyc2lvbi5qc1wiO2Z1bmN0aW9uIHMocil7cmV0dXJuIG51bGw9PXJ8fFwic2ltcGxlXCI9PT1yLnR5cGV8fFwidW5pcXVlLXZhbHVlXCI9PT1yLnR5cGV8fFwiY2xhc3MtYnJlYWtzXCI9PT1yLnR5cGV8fFwiZGljdGlvbmFyeVwiPT09ci50eXBlfHxcImhlYXRtYXBcIj09PXIudHlwZX1mdW5jdGlvbiB0KHIsbil7aWYobnVsbD09cilyZXR1cm4gbnVsbDtpZighcyhyKSlyZXR1cm4gbmV3IGUoXCJyZW5kZXJlci1jb252ZXJzaW9uLTNkOnVuc3VwcG9ydGVkLXJlbmRlcmVyXCIsYFVuc3VwcG9ydGVkIHJlbmRlcmVyIG9mIHR5cGUgJyR7ci50eXBlfHxyLmRlY2xhcmVkQ2xhc3N9J2Ase3JlbmRlcmVyOnJ9KTtzd2l0Y2goci50eXBlKXtjYXNlXCJzaW1wbGVcIjpyZXR1cm4gYShyLG4pO2Nhc2VcInVuaXF1ZS12YWx1ZVwiOnJldHVybiB1KHIsbik7Y2FzZVwiY2xhc3MtYnJlYWtzXCI6cmV0dXJuIGkocixuKTtjYXNlXCJkaWN0aW9uYXJ5XCI6Y2FzZVwiaGVhdG1hcFwiOnJldHVybiBudWxsfXJldHVybiBudWxsfWZ1bmN0aW9uIGwocixuKXtpZighbilyZXR1cm4gbnVsbDtpZihBcnJheS5pc0FycmF5KG4pfHwobj1bbl0pLG4ubGVuZ3RoPjApe2NvbnN0IG89bi5tYXAoKHI9PnIuZGV0YWlscy5zeW1ib2wudHlwZXx8ci5kZXRhaWxzLnN5bWJvbC5kZWNsYXJlZENsYXNzKSkuZmlsdGVyKChyPT4hIXIpKTtvLnNvcnQoKTtjb25zdCBzPW5ldyBBcnJheTtyZXR1cm4gby5mb3JFYWNoKCgocixlKT0+ezAhPT1lJiZyPT09b1tlLTFdfHxzLnB1c2gocil9KSksbmV3IGUoXCJyZW5kZXJlci1jb252ZXJzaW9uLTNkOnVuc3VwcG9ydGVkLXN5bWJvbHNcIixgUmVuZGVyZXIgY29udGFpbnMgc3ltYm9scyAoJHtzLmpvaW4oXCIsIFwiKX0pIHdoaWNoIGFyZSBub3Qgc3VwcG9ydGVkIGluIDNEYCx7cmVuZGVyZXI6cixzeW1ib2xFcnJvcnM6bn0pfXJldHVybiBudWxsfWZ1bmN0aW9uIGEocixlKXtjb25zdCBzPXsuLi5uLC4uLmUsY2ltRmFsbGJhY2tFbmFibGVkOiEwfTtyZXR1cm4gbChyLG8oci5zeW1ib2wscykuZXJyb3IpfWZ1bmN0aW9uIHUoZSxzKXtjb25zdCB0PXsuLi5uLC4uLnMsY2ltRmFsbGJhY2tFbmFibGVkOiEwfSxhPWUudW5pcXVlVmFsdWVJbmZvcz8ubWFwKChyPT5vKHIuc3ltYm9sLHQpLmVycm9yKSkuZmlsdGVyKHIpLHU9byhlLmRlZmF1bHRTeW1ib2wsdCk7cmV0dXJuIHUuZXJyb3ImJmE/LnVuc2hpZnQodS5lcnJvciksbChlLGEpfWZ1bmN0aW9uIGkoZSxzKXtjb25zdCB0PXsuLi5uLC4uLnMsY2ltRmFsbGJhY2tFbmFibGVkOiEwfSxhPWUuY2xhc3NCcmVha0luZm9zLm1hcCgocj0+byhyLnN5bWJvbCx0KS5lcnJvcikpLmZpbHRlcihyKSx1PW8oZS5kZWZhdWx0U3ltYm9sLHQpO3JldHVybiB1LmVycm9yJiZhLnVuc2hpZnQodS5lcnJvciksbChlLGEpfWV4cG9ydHtzIGFzIGlzU3VwcG9ydGVkUmVuZGVyZXIzRCx0IGFzIHZhbGlkYXRlVG8zRH07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4zMy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuY2xhc3MgZXtjb25zdHJ1Y3RvcihlLG0sdCl7dGhpcy5tYXhpbXVtVG90YWxOdW1iZXJPZlZlcnRpY2VzPWUsdGhpcy5tYXhpbXVtTnVtYmVyT2ZGZWF0dXJlcz1tLHRoaXMuYXZlcmFnZVN5bWJvbENvbXBsZXhpdHk9dH19ZXhwb3J0e2UgYXMgRGlzcGxheUZlYXR1cmVMaW1pdH07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4zMy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0XCIuLi8uLi8uLi8uLi9jb3JlL2hhcy5qc1wiO2ltcG9ydCB0IGZyb21cIi4uLy4uLy4uLy4uL2NvcmUvUG9vbGVkQXJyYXkuanNcIjtpbXBvcnR7Y3JlYXRlIGFzIGUsY29weSBhcyByLGFyZWEgYXMgcyxleHBhbmQgYXMgbixjb250YWlucyBhcyBvfWZyb21cIi4uLy4uLy4uLy4uL2dlb21ldHJ5L3N1cHBvcnQvYWFCb3VuZGluZ1JlY3QuanNcIjtpbXBvcnR7bm9CdWRnZXQgYXMgaX1mcm9tXCIuLi8uLi8uLi9zdXBwb3J0L1NjaGVkdWxlci5qc1wiO2NvbnN0IGg9LjA1O2NsYXNzIGF7Y29uc3RydWN0b3IoKXt0aGlzLl9leHRlbnRzPW5ldyB0KHthbGxvY2F0b3I6dD0+dHx8ZSgpfSksdGhpcy5fdG1wRXh0ZW50PWUoKSx0aGlzLl9kaXJ0eT0hMX1nZXQgZW1wdHkoKXtyZXR1cm4gMD09PXRoaXMuX2V4dGVudHMubGVuZ3RofWdldCBzaXplKCl7cmV0dXJuIHRoaXMuX2V4dGVudHMubGVuZ3RofWNsZWFyKCl7dGhpcy5fZXh0ZW50cy5jbGVhcigpfWFkZCh0KXt0aGlzLl9jb250YWlucyh0KXx8KHRoaXMuX3JlbW92ZUNvbnRhaW5lZCh0KSxyKHRoaXMuX2V4dGVudHMucHVzaE5ldygpLHQpLHRoaXMuX2RpcnR5PSEwKX1wb3AoKXtyZXR1cm4gdGhpcy5fZGlydHkmJnRoaXMuX21lcmdlVGlnaHQoKSx0aGlzLl9leHRlbnRzLnBvcCgpfW1lcmdlKHQpe3JldHVybiB0aGlzLl9tZXJnZVRpZ2h0KHQpLHQuaGFzUHJvZ3Jlc3NlZH1fbWVyZ2VUaWdodCh0PWkpe2NvbnN0IGU9dGhpcy5fZXh0ZW50cyxvPW5ldyBTZXQ7bGV0IGE9MDtmb3IoO2EhPT1lLmxlbmd0aDspe2Uuc29ydCgoKHQsZSk9PnRbMF0tZVswXSkpLGE9ZS5sZW5ndGgsby5jbGVhcigpO2ZvcihsZXQgaT0wO2k8ZS5sZW5ndGg7KytpKXtpZih0LmRvbmUpcmV0dXJuO2NvbnN0IGE9ZS5hdChpKTtpZihhKXtmb3IobGV0IHQ9aSsxO3Q8ZS5sZW5ndGg7Kyt0KXtjb25zdCByPWUuYXQodCk7aWYobnVsbD09cnx8clswXT49YVsyXSlicmVhaztvLmFkZChyKX1vLmZvckVhY2goKGk9PntpZihhPT09aSlyZXR1cm47aWYoaVsyXTw9YVswXSlyZXR1cm4gdm9pZCBvLmRlbGV0ZShpKTtjb25zdCBsPXMoYSksXz1zKGkpLGM9dGhpcy5fdG1wRXh0ZW50O24oYSxpLGMpO2NvbnN0IGQ9bCtfOyhzKGMpLWQpL2Q8aCYmKHIoYSxjKSxvLmRlbGV0ZShpKSxlLnJlbW92ZShpKSx0Lm1hZGVQcm9ncmVzcygpKX0pKSxvLmFkZChhKX19fXRoaXMuX2RpcnR5PSExfV9jb250YWlucyh0KXtyZXR1cm4gdGhpcy5fZXh0ZW50cy5zb21lKChlPT5vKGUsdCkpKX1fcmVtb3ZlQ29udGFpbmVkKHQpe3RoaXMuX2V4dGVudHMuZmlsdGVySW5QbGFjZSgoZT0+IW8odCxlKSkpfWdldCB0ZXN0KCl7fX1leHBvcnR7YSBhcyBFeHRlbnRTZXR9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMzMvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtyZW1vdmUgYXMgdH1mcm9tXCIuLi8uLi8uLi8uLi9jb3JlL2FycmF5VXRpbHMuanNcIjtpbXBvcnR7bWFrZUhhbmRsZSBhcyBpfWZyb21cIi4uLy4uLy4uLy4uL2NvcmUvaGFuZGxlVXRpbHMuanNcIjtpbXBvcnR7Z2V0T2JqZWN0SWQgYXMgZX1mcm9tXCIuLi8uLi8uLi8uLi9sYXllcnMvZ3JhcGhpY3MvZGVoeWRyYXRlZEZlYXR1cmVzLmpzXCI7Y2xhc3Mgc3tjb25zdHJ1Y3Rvcih0KXt0aGlzLl9ncmFwaGljc0NvcmU9dCx0aGlzLl9pZFRvU3RhdGU9bmV3IE1hcCx0aGlzLl9zdGF0ZXM9bmV3IFNldDtjb25zdCBpPXQub3duZXIubGF5ZXI/Lm9iamVjdElkRmllbGQ7aT8odGhpcy5fZ2V0R3JhcGhpY0lkPXQ9PmUodCxpKSx0aGlzLl9nZXRHcmFwaGljczNER3JhcGhpY0J5SWQ9dD0+dGhpcy5fZ3JhcGhpY3NDb3JlLmdldEdyYXBoaWNzM0RHcmFwaGljQnlPYmplY3RJZCh0KSk6KHRoaXMuX2dldEdyYXBoaWNJZD10PT50LnVpZCx0aGlzLl9nZXRHcmFwaGljczNER3JhcGhpY0J5SWQ9dD0+dGhpcy5fZ3JhcGhpY3NDb3JlLmdldEdyYXBoaWNzM0RHcmFwaGljQnlJZCh0KSl9ZGVzdHJveSgpe3RoaXMuX2lkVG9TdGF0ZS5jbGVhcigpLHRoaXMuX3N0YXRlcy5mb3JFYWNoKCgodCxpKT0+dGhpcy5yZW1vdmUoaSkpKX1hZGQodCl7Y29uc3QgZT1pKCgoKT0+dGhpcy5yZW1vdmUodCkpKTtpZih0aGlzLl9zdGF0ZXMuaGFzKHQpKXJldHVybiBlO2NvbnN0IHM9dGhpcy5fZ2V0R3JhcGhpY0lkKHQuZ3JhcGhpYyksYT10aGlzLl9nZXRHcmFwaGljczNER3JhcGhpY0J5SWQocyk7dGhpcy5fc3RhdGVzLmhhcyh0KXx8dGhpcy5fc3RhdGVzLmFkZCh0KTtyZXR1cm4gdGhpcy5fZW5zdXJlU3RhdGVMaXN0KHMpLnB1c2godCksdC5kaXNwbGF5aW5nPW51bGwhPWEmJmEuaXNWaXNpYmxlKCksdC5pc0RyYXBlZD1udWxsIT1hJiZhLmlzRHJhcGVkLHQudHJhY2tpbmc9ITAsbnVsbCE9YSYmdC5lbWl0KFwiY2hhbmdlZFwiKSxlfXJlbW92ZShpKXtpZih0aGlzLl9zdGF0ZXMuaGFzKGkpKXtpZih0aGlzLl9pZFRvU3RhdGUuc2l6ZSl7Y29uc3QgZT10aGlzLl9nZXRHcmFwaGljSWQoaS5ncmFwaGljKSxzPXRoaXMuX2lkVG9TdGF0ZS5nZXQoZSk7cyYmKHQocyxpKSwwPT09cy5sZW5ndGgmJnRoaXMuX2lkVG9TdGF0ZS5kZWxldGUoZSkpfXRoaXMuX3N0YXRlcy5kZWxldGUoaSksaS50cmFja2luZz0hMSxpLmRpc3BsYXlpbmc9ITF9fWFkZEdyYXBoaWModCl7dGhpcy5fZm9yRWFjaFN0YXRlKHQuZ3JhcGhpYywoaT0+e2kuZGlzcGxheWluZz10LmlzVmlzaWJsZSgpLGkuaXNEcmFwZWQ9dC5pc0RyYXBlZCxpLmVtaXQoXCJjaGFuZ2VkXCIpfSkpfXJlbW92ZUdyYXBoaWModCl7dGhpcy5fZm9yRWFjaFN0YXRlKHQuZ3JhcGhpYywodD0+e3QuZGlzcGxheWluZz0hMSx0LmlzRHJhcGVkPSExfSkpfXVwZGF0ZUdyYXBoaWNHZW9tZXRyeSh0KXt0aGlzLl9mb3JFYWNoU3RhdGUodC5ncmFwaGljLCh0PT50LmVtaXQoXCJjaGFuZ2VkXCIpKSl9dXBkYXRlR3JhcGhpY1Zpc2liaWxpdHkodCl7dGhpcy5fZm9yRWFjaFN0YXRlKHQuZ3JhcGhpYywoaT0+aS5kaXNwbGF5aW5nPXQuaXNWaXNpYmxlKCkpKX11cGRhdGVHcmFwaGljRXJyb3IodCxpKXt0aGlzLl9mb3JFYWNoU3RhdGUodCwodD0+dC5lcnJvcj1pKSl9YWxsR3JhcGhpY3NEZWxldGVkKCl7dGhpcy5fc3RhdGVzLmZvckVhY2goKHQ9PnQuZGlzcGxheWluZz0hMSkpfV9lbnN1cmVTdGF0ZUxpc3QodCl7Y29uc3QgaT10aGlzLl9pZFRvU3RhdGUuZ2V0KHQpO2lmKGkpcmV0dXJuIGk7Y29uc3QgZT1uZXcgQXJyYXk7cmV0dXJuIHRoaXMuX2lkVG9TdGF0ZS5zZXQodCxlKSxlfV9mb3JFYWNoU3RhdGUodCxpKXtpZigwPT09dGhpcy5fc3RhdGVzLnNpemV8fDA9PT10aGlzLl9pZFRvU3RhdGUuc2l6ZSlyZXR1cm47Y29uc3QgZT10aGlzLl9nZXRHcmFwaGljSWQodCkscz10aGlzLl9pZFRvU3RhdGUuZ2V0KGUpO251bGwhPXMmJnMuZm9yRWFjaChpKX19ZXhwb3J0e3MgYXMgR3JhcGhpY1N0YXRlVHJhY2tpbmd9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMzMvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtfIGFzIGV9ZnJvbVwiLi4vLi4vLi4vLi4vY2h1bmtzL3RzbGliLmVzNi5qc1wiO2ltcG9ydCB0IGZyb21cIi4uLy4uLy4uLy4uL2NvcmUvQWNjZXNzb3IuanNcIjtpbXBvcnR7aXNTb21lIGFzIGl9ZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9hcnJheVV0aWxzLmpzXCI7aW1wb3J0XCIuLi8uLi8uLi8uLi9jb3JlL2hhcy5qc1wiO2ltcG9ydCByIGZyb21cIi4uLy4uLy4uLy4uL2NvcmUvRXJyb3IuanNcIjtpbXBvcnR7bWFrZUhhbmRsZSBhcyBzfWZyb21cIi4uLy4uLy4uLy4uL2NvcmUvaGFuZGxlVXRpbHMuanNcIjtpbXBvcnQgYSBmcm9tXCIuLi8uLi8uLi8uLi9jb3JlL0xvZ2dlci5qc1wiO2ltcG9ydHtmaW5kSW5NYXAgYXMgbn1mcm9tXCIuLi8uLi8uLi8uLi9jb3JlL01hcFV0aWxzLmpzXCI7aW1wb3J0e2Fib3J0TWF5YmUgYXMgbyxyZW1vdmVNYXliZSBhcyBsLGRlc3Ryb3lNYXliZSBhcyBoLGRpc3Bvc2VNYXliZSBhcyBkfWZyb21cIi4uLy4uLy4uLy4uL2NvcmUvbWF5YmUuanNcIjtpbXBvcnR7TWluUHJpb3JpdHkgYXMgcH1mcm9tXCIuLi8uLi8uLi8uLi9jb3JlL01lbUNhY2hlLmpzXCI7aW1wb3J0IGMgZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9Qb29sZWRBcnJheS5qc1wiO2ltcG9ydHt0aHJvd0lmQWJvcnRlZCBhcyB5LGlnbm9yZUFib3J0RXJyb3JzIGFzIGcsY3JlYXRlUmVzb2x2ZXIgYXMgdSxpc0Fib3J0RXJyb3IgYXMgbX1mcm9tXCIuLi8uLi8uLi8uLi9jb3JlL3Byb21pc2VVdGlscy5qc1wiO2ltcG9ydHt3aGVuIGFzIGIsd2F0Y2ggYXMgXyxvbiBhcyBmLHN5bmNBbmRJbml0aWFsIGFzIHYsd2hlbk9uY2UgYXMgQ31mcm9tXCIuLi8uLi8uLi8uLi9jb3JlL3JlYWN0aXZlVXRpbHMuanNcIjtpbXBvcnR7c2NoZWR1bGUgYXMgU31mcm9tXCIuLi8uLi8uLi8uLi9jb3JlL3NjaGVkdWxpbmcuanNcIjtpbXBvcnR7cHJvcGVydHkgYXMgR31mcm9tXCIuLi8uLi8uLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3Byb3BlcnR5LmpzXCI7aW1wb3J0e3N1YmNsYXNzIGFzIHd9ZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9zdWJjbGFzcy5qc1wiO2ltcG9ydHtkaWZmIGFzIHgsaXNFbXB0eSBhcyBQfWZyb21cIi4uLy4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RpZmZVdGlscy5qc1wiO2ltcG9ydHtpIGFzIFIsZiBhcyBELGcgYXMgRX1mcm9tXCIuLi8uLi8uLi8uLi9jaHVua3MvdmVjMzIuanNcIjtpbXBvcnR7Y3JlYXRlIGFzIFV9ZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9saWJzL2dsLW1hdHJpeC0yL2ZhY3Rvcmllcy92ZWMzZjY0LmpzXCI7aW1wb3J0IEkgZnJvbVwiLi4vLi4vLi4vLi4vZ2VvbWV0cnkvRXh0ZW50LmpzXCI7aW1wb3J0IEEgZnJvbVwiLi4vLi4vLi4vLi4vZ2VvbWV0cnkvUG9pbnQuanNcIjtpbXBvcnR7Y2FuUHJvamVjdFdpdGhvdXRFbmdpbmUgYXMgTH1mcm9tXCIuLi8uLi8uLi8uLi9nZW9tZXRyeS9wcm9qZWN0aW9uVXRpbHMuanNcIjtpbXBvcnR7cHJvamVjdEJ1ZmZlciBhcyBqfWZyb21cIi4uLy4uLy4uLy4uL2dlb21ldHJ5L3Byb2plY3Rpb24vcHJvamVjdEJ1ZmZlci5qc1wiO2ltcG9ydHtwcm9qZWN0VmVjdG9yVG9WZWN0b3IgYXMgT31mcm9tXCIuLi8uLi8uLi8uLi9nZW9tZXRyeS9wcm9qZWN0aW9uL3Byb2plY3RWZWN0b3JUb1ZlY3Rvci5qc1wiO2ltcG9ydHtwcm9qZWN0WFlaVG9WZWN0b3IgYXMgVn1mcm9tXCIuLi8uLi8uLi8uLi9nZW9tZXRyeS9wcm9qZWN0aW9uL3Byb2plY3RYWVpUb1ZlY3Rvci5qc1wiO2ltcG9ydHtjZW50ZXIgYXMgRixjcmVhdGUgYXMgVCxmcm9tUmVjdCBhcyBNLGVxdWFscyBhcyBrfWZyb21cIi4uLy4uLy4uLy4uL2dlb21ldHJ5L3N1cHBvcnQvYWFCb3VuZGluZ0JveC5qc1wiO2ltcG9ydHtjcmVhdGUgYXMgen1mcm9tXCIuLi8uLi8uLi8uLi9nZW9tZXRyeS9zdXBwb3J0L2FhQm91bmRpbmdSZWN0LmpzXCI7aW1wb3J0e2VxdWFscyBhcyBXfWZyb21cIi4uLy4uLy4uLy4uL2dlb21ldHJ5L3N1cHBvcnQvc3BhdGlhbFJlZmVyZW5jZVV0aWxzLmpzXCI7aW1wb3J0IEggZnJvbVwiLi4vLi4vLi4vLi4vbGF5ZXJzL0xheWVyLmpzXCI7aW1wb3J0e2dldE9iamVjdElkIGFzIE4sY29tcHV0ZUFBQkIgYXMgQixoYXNHZW9tZXRyeSBhcyBxfWZyb21cIi4uLy4uLy4uLy4uL2xheWVycy9ncmFwaGljcy9kZWh5ZHJhdGVkRmVhdHVyZXMuanNcIjtpbXBvcnR7aHlkcmF0ZUdyYXBoaWMgYXMgWX1mcm9tXCIuLi8uLi8uLi8uLi9sYXllcnMvZ3JhcGhpY3MvaHlkcmF0ZWRGZWF0dXJlcy5qc1wiO2ltcG9ydHtQcm9taXNlUXVldWUgYXMgUX1mcm9tXCIuLi8uLi8uLi8uLi9sYXllcnMvc3VwcG9ydC9Qcm9taXNlUXVldWUuanNcIjtpbXBvcnQgJCBmcm9tXCIuLi8uLi8uLi8uLi9yZW5kZXJlcnMvVW5pcXVlVmFsdWVSZW5kZXJlci5qc1wiO2ltcG9ydHtpc1N1cHBvcnRlZFJlbmRlcmVyM0QgYXMgWix2YWxpZGF0ZVRvM0QgYXMgSn1mcm9tXCIuLi8uLi8uLi8uLi9yZW5kZXJlcnMvc3VwcG9ydC9yZW5kZXJlckNvbnZlcnNpb24uanNcIjtpbXBvcnR7UmVuZGVyaW5nSW5mbyBhcyBYfWZyb21cIi4uLy4uLy4uLy4uL3JlbmRlcmVycy9zdXBwb3J0L1JlbmRlcmluZ0luZm8uanNcIjtpbXBvcnR7aXNCYXNlbWFwTGF5ZXJWaWV3IGFzIEt9ZnJvbVwiLi4vLi4vLi4vLi4vc3VwcG9ydC9iYXNlbWFwVXRpbHMuanNcIjtpbXBvcnR7bG9hZEFyY2FkZSBhcyBlZX1mcm9tXCIuLi8uLi8uLi8uLi9zdXBwb3J0L2xvYWRBcmNhZGUuanNcIjtpbXBvcnQgdGUgZnJvbVwiLi4vLi4vLi4vLi4vc3ltYm9scy9MYWJlbFN5bWJvbDNELmpzXCI7aW1wb3J0IGllIGZyb21cIi4uLy4uLy4uLy4uL3N5bWJvbHMvVGV4dFN5bWJvbC5qc1wiO2ltcG9ydCByZSBmcm9tXCIuLi8uLi8uLi8uLi9zeW1ib2xzL1dlYlN0eWxlU3ltYm9sLmpzXCI7aW1wb3J0e2dldERlZmF1bHRTeW1ib2wzRCBhcyBzZX1mcm9tXCIuLi8uLi8uLi8uLi9zeW1ib2xzL3N1cHBvcnQvZGVmYXVsdHMzRC5qc1wiO2ltcG9ydHt0bzNEIGFzIGFlfWZyb21cIi4uLy4uLy4uLy4uL3N5bWJvbHMvc3VwcG9ydC9zeW1ib2xDb252ZXJzaW9uLmpzXCI7aW1wb3J0e2F2ZXJhZ2VTeW1ib2xDb21wbGV4aXRpZXMgYXMgbmUsZGVmYXVsdFN5bWJvbENvbXBsZXhpdHkgYXMgb2V9ZnJvbVwiLi9kZWZhdWx0U3ltYm9sQ29tcGxleGl0eS5qc1wiO2ltcG9ydHtEaXNwbGF5RmVhdHVyZUxpbWl0IGFzIGxlfWZyb21cIi4vRGlzcGxheUZlYXR1cmVMaW1pdC5qc1wiO2ltcG9ydHtWaWV3RWxldmF0aW9uUHJvdmlkZXIgYXMgaGV9ZnJvbVwiLi9FbGV2YXRpb25RdWVyeS5qc1wiO2ltcG9ydHtWaXNpYmlsaXR5R3JvdXAgYXMgZGUsVmlzaWJpbGl0eUZsYWcgYXMgcGV9ZnJvbVwiLi9lbnVtcy5qc1wiO2ltcG9ydHtleHRyYWN0RXhwcmVzc2lvbkluZm8gYXMgY2UsY3JlYXRlQ29udGV4dCBhcyB5ZX1mcm9tXCIuL2ZlYXR1cmVFeHByZXNzaW9uSW5mb1V0aWxzLmpzXCI7aW1wb3J0e0dyYXBoaWNzM0RGZWF0dXJlU3RvcmUgYXMgZ2V9ZnJvbVwiLi9HcmFwaGljczNERmVhdHVyZVN0b3JlLmpzXCI7aW1wb3J0e0dyYXBoaWNzM0RHcmFwaGljQ3JlYXRpb25Db250ZXh0IGFzIHVlfWZyb21cIi4vR3JhcGhpY3MzREdyYXBoaWNDcmVhdGlvbkNvbnRleHQuanNcIjtpbXBvcnR7R3JhcGhpY3MzRFN5bWJvbENyZWF0aW9uQ29udGV4dCBhcyBtZX1mcm9tXCIuL0dyYXBoaWNzM0RTeW1ib2xDcmVhdGlvbkNvbnRleHQuanNcIjtpbXBvcnR7bWFrZSBhcyBiZX1mcm9tXCIuL0dyYXBoaWNzM0RTeW1ib2xGYWN0b3J5LmpzXCI7aW1wb3J0e0dyYXBoaWNzM0RXZWJTdHlsZVN5bWJvbCBhcyBfZX1mcm9tXCIuL0dyYXBoaWNzM0RXZWJTdHlsZVN5bWJvbC5qc1wiO2ltcG9ydHtHcmFwaGljc0NvcmVQZXJmb3JtYW5jZUluZm8gYXMgZmV9ZnJvbVwiLi9HcmFwaGljc0NvcmVQZXJmb3JtYW5jZUluZm8uanNcIjtpbXBvcnR7R3JhcGhpY1N0YXRlVHJhY2tpbmcgYXMgdmV9ZnJvbVwiLi9HcmFwaGljU3RhdGVUcmFja2luZy5qc1wiO2ltcG9ydHtjb21wdXRlQ2VudHJvaWQgYXMgQ2V9ZnJvbVwiLi9ncmFwaGljVXRpbHMuanNcIjtpbXBvcnR7RmFzdFVwZGF0ZVN0YXR1cyBhcyBTZSxBcHBseVJlbmRlcmVyRGlmZlJlc3VsdCBhcyBHZX1mcm9tXCIuL2ludGVyZmFjZXMuanNcIjtpbXBvcnR7TG9hZFN0YXR1cyBhcyB3ZX1mcm9tXCIuL0xvYWRhYmxlLmpzXCI7aW1wb3J0e1NwYXRpYWxJbmRleDJEIGFzIHhlfWZyb21cIi4vU3BhdGlhbEluZGV4MkQuanNcIjtpbXBvcnR7U3RhZ2VMYXllckVsZXZhdGlvblByb3ZpZGVyIGFzIFBlfWZyb21cIi4uL3N1cHBvcnQvU3RhZ2VMYXllckVsZXZhdGlvblByb3ZpZGVyLmpzXCI7aW1wb3J0e3RvQm91bmRpbmdSZWN0IGFzIFJlfWZyb21cIi4uLy4uL3N1cHBvcnQvZXh0ZW50VXRpbHMuanNcIjtpbXBvcnR7R3JpZExvY2FsT3JpZ2luRmFjdG9yeSBhcyBEZX1mcm9tXCIuLi8uLi93ZWJnbC1lbmdpbmUvbGliL0dyaWRMb2NhbE9yaWdpbkZhY3RvcnkuanNcIjtpbXBvcnR7VXBkYXRlUG9saWN5IGFzIEVlfWZyb21cIi4uLy4uL3dlYmdsLWVuZ2luZS9saWIvVXBkYXRlUG9saWN5LmpzXCI7aW1wb3J0e2FmZmVjdHNHZW9tZXRyeSBhcyBVZX1mcm9tXCIuLi8uLi93ZWJnbC1lbmdpbmUvbGliL1ZlcnRleEF0dHJpYnV0ZS5qc1wiO2ltcG9ydHtXZWJHTExheWVyIGFzIEllfWZyb21cIi4uLy4uL3dlYmdsLWVuZ2luZS9saWIvV2ViR0xMYXllci5qc1wiO2ltcG9ydHtoYXNQb3B1cFRlbXBsYXRlIGFzIEFlfWZyb21cIi4uLy4uLy4uL2xheWVycy9zdXBwb3J0L3BvcHVwVXRpbHMuanNcIjtpbXBvcnR7UHJvcGVydGllc1Bvb2wgYXMgTGV9ZnJvbVwiLi4vLi4vLi4vc3VwcG9ydC9Qcm9wZXJ0aWVzUG9vbC5qc1wiO2ltcG9ydHtJbW1lZGlhdGVUYXNrIGFzIGplLG5vQnVkZ2V0IGFzIE9lLFRhc2tQcmlvcml0eSBhcyBWZX1mcm9tXCIuLi8uLi8uLi9zdXBwb3J0L1NjaGVkdWxlci5qc1wiO2ltcG9ydHtUZXh0dXJlQ29tcHJlc3Npb25UcmFja2VyIGFzIEZlfWZyb21cIi4uLy4uLy4uL3N1cHBvcnQvVGV4dHVyZUNvbXByZXNzaW9uVHJhY2tlci5qc1wiO2ltcG9ydHtZaWVsZCBhcyBUZX1mcm9tXCIuLi8uLi8uLi9zdXBwb3J0L1lpZWxkLmpzXCI7aW1wb3J0e2FscGhhQ3V0b2ZmIGFzIE1lfWZyb21cIi4uLy4uLy4uLy4uL3dlYnNjZW5lL3N1cHBvcnQvQWxwaGFDdXRvZmYuanNcIjt2YXIga2U7Y29uc3QgemU9VSgpLFdlPVQoKTtsZXQgSGU9Y2xhc3MgZXh0ZW5kcyB0e3N0YXRpY3trZT10aGlzfXN0YXRpY3t0aGlzLnRtcFZlYz1VKCl9Z2V0IF92aWV3U3BhdGlhbFJlZmVyZW5jZSgpe3JldHVybiB0aGlzLm93bmVyLnZpZXcuc3BhdGlhbFJlZmVyZW5jZX1nZXQgc3BhdGlhbEluZGV4KCl7cmV0dXJuIHRoaXMuX3NwYXRpYWxJbmRleHx8KHRoaXMuX3NwYXRpYWxJbmRleD1uZXcgeGUoe29iamVjdElkRmllbGQ6dGhpcy5vd25lci5sYXllcj8ub2JqZWN0SWRGaWVsZCxzcGF0aWFsUmVmZXJlbmNlOnRoaXMuX3ZpZXdTcGF0aWFsUmVmZXJlbmNlLGhhc1o6ISF0aGlzLmhhc1osaGFzTTohIXRoaXMuaGFzTX0pLHRoaXMuX3NwYXRpYWxJbmRleC5zZXR1cChBcnJheS5mcm9tKHRoaXMuZ3JhcGhpY3MzREdyYXBoaWNzLnZhbHVlcygpKSkpLHRoaXMuX3NwYXRpYWxJbmRleC51cGRhdGUoKSx0aGlzLl9zcGF0aWFsSW5kZXh9Z2V0IGRlY29uZmxpY3Rvcigpe3JldHVybiB0aGlzLl9kZWNvbmZsaWN0b3J9Z2V0IGxhYmVsZXIoKXtyZXR1cm4gdGhpcy5fbGFiZWxlcn1nZXQgbnVtYmVyT2ZHcmFwaGljcygpe3JldHVybiB0aGlzLl9udW1iZXJPZkdyYXBoaWNzfWdldCBlZmZlY3RpdmVVcGRhdGVQb2xpY3koKXtyZXR1cm4gbnVsbCE9dGhpcy5jdXJyZW50UmVuZGVyZXImJlwiZGljdGlvbmFyeVwiPT09dGhpcy5jdXJyZW50UmVuZGVyZXIudHlwZT9FZS5BU1lOQzp0aGlzLl9mb3JjZWRVcGRhdGVQb2xpY3k/P3RoaXMucHJlZmVycmVkVXBkYXRlUG9saWN5fWdldCBmZWF0dXJlU3RvcmUoKXtyZXR1cm4gdGhpcy5fZmVhdHVyZVN0b3JlfWdldCBpbml0aWFsaXplUHJvbWlzZSgpe3JldHVybiB0aGlzLl9pbml0aWFsaXplUHJvbWlzZX1nZXQgc2NhbGVWaXNpYmlsaXR5KCl7cmV0dXJuIHRoaXMuX3NjYWxlVmlzaWJpbGl0eX1nZXQgZWxldmF0aW9uQWxpZ25tZW50KCl7cmV0dXJuIHRoaXMuX2VsZXZhdGlvbkFsaWdubWVudH1nZXQgb2JqZWN0U3RhdGVzKCl7cmV0dXJuIHRoaXMuX29iamVjdFN0YXRlc31nZXQgZmlsdGVyVmlzaWJpbGl0eSgpe3JldHVybiB0aGlzLl9maWx0ZXJWaXNpYmlsaXR5fWdldCB1cGRhdGluZygpe3JldHVybiEhKHRoaXMuZGF0YVVwZGF0aW5nfHx0aGlzLl9lbGV2YXRpb25BbGlnbm1lbnQ/LnVwZGF0aW5nfHx0aGlzLl9zY2FsZVZpc2liaWxpdHk/LnVwZGF0aW5nfHx0aGlzLl9maWx0ZXJWaXNpYmlsaXR5Py51cGRhdGluZ3x8dGhpcy5fcmVuZGVyZXJDaGFuZ2VBYm9ydENvbnRyb2xsZXJ8fHRoaXMuX2VsZXZhdGlvbkluZm9DaGFuZ2VBYm9ydENvbnRyb2xsZXJ8fHRoaXMuX2ZyYW1lVGFza0hhbmRsZS51cGRhdGluZ3x8dGhpcy5fdXBkYXRlUXVldWUudXBkYXRpbmd8fHRoaXMucnVubmluZyl9Z2V0IGRhdGFVcGRhdGluZygpe3JldHVybiEhKHRoaXMuX2dyYXBoaWNzV2FpdGluZ0ZvclN5bWJvbC5zaXplPjB8fHRoaXMuX3BlbmRpbmdVcGRhdGVzLnNpemU+MHx8dGhpcy5fc3BhdGlhbEluZGV4Py51cGRhdGluZ3x8dGhpcy5fdXBkYXRpbmdQZW5kaW5nTG9hZGVkR3JhcGhpY3NDaGFuZ2V8fHRoaXMuX2RhdGFVcGRhdGVRdWV1ZS51cGRhdGluZ3x8dGhpcy5fbG9hZGluZ1N5bWJvbHM+MHx8dGhpcy5jb21wcmVzc2lvblRyYWNrZXIuY29tcHJlc3NpbmcpfWdldCBydW5uaW5nKCl7cmV0dXJuIHRoaXMuX3BlbmRpbmdVcGRhdGVzLnNpemU+MHx8ISF0aGlzLl9zcGF0aWFsSW5kZXg/LnVwZGF0aW5nfHx0aGlzLl9kYXRhVXBkYXRlUXVldWUucnVubmluZ3x8dGhpcy5fdXBkYXRlUXVldWUucnVubmluZ31nZXQgc3VzcGVuZGVkT3JPdXRzaWRlT2ZWaWV3KCl7cmV0dXJuIHRoaXMub3duZXIuc3VzcGVuZGVkfHwhIXRoaXMub3duZXIuc3VzcGVuZEluZm8/Lm91dHNpZGVPZlZpZXd9Z2V0IHVwZGF0aW5nUmVtYWluaW5nKCl7cmV0dXJuIHRoaXMudXBkYXRpbmc/dGhpcy5fcGVuZGluZ1VwZGF0ZXMuc2l6ZSsuMSoodGhpcy5fc3BhdGlhbEluZGV4Py51cGRhdGluZ1JlbWFpbmluZ3x8MCkrLjEqKHRoaXMuX2VsZXZhdGlvbkFsaWdubWVudD8udXBkYXRpbmdSZW1haW5pbmd8fDApOjB9Z2V0IGRpc3BsYXlGZWF0dXJlTGltaXQoKXtjb25zdCBlPXRoaXMub3duZXImJnRoaXMub3duZXIudmlldyYmdGhpcy5vd25lci52aWV3LnF1YWxpdHlTZXR0aW5ncyx0PWU/LmdyYXBoaWNzM0QubWluVG90YWxOdW1iZXJPZkZlYXR1cmVzPz8wLGk9ZT8uZ3JhcGhpY3MzRC5tYXhUb3RhbE51bWJlck9mRmVhdHVyZXM/PzAscj1lPy5ncmFwaGljczNELm1heE51bWJlck9mRHJhd0NhbGxzPz8wLHM9ZT8uZ3JhcGhpY3MzRC5tYXhUb3RhbE51bWJlck9mVmVydGljZXM/PzAsYT10aGlzLmF2ZXJhZ2VTeW1ib2xDb21wbGV4aXR5LG49TWF0aC5tYXgoMSxhPy52ZXJ0aWNlc1BlckZlYXR1cmU/PzEpLG89YSYmYS5kcmF3Q2FsbHNQZXJGZWF0dXJlPjAmJnI+MD9yL2EuZHJhd0NhbGxzUGVyRmVhdHVyZTppLGw9TWF0aC5jZWlsKHMvbiksaD1NYXRoLm1heCh0LE1hdGgubWluKGksbCxvKSksZD10aGlzLl9nZXQoXCJkaXNwbGF5RmVhdHVyZUxpbWl0XCIpO3JldHVybiBkJiZkLm1heGltdW1Ub3RhbE51bWJlck9mVmVydGljZXM9PT1zJiZkLmF2ZXJhZ2VTeW1ib2xDb21wbGV4aXR5PT09YSYmZC5tYXhpbXVtTnVtYmVyT2ZGZWF0dXJlcz09PWg/ZDpuZXcgbGUocyxoLGEpfWdldCBhdmVyYWdlU3ltYm9sQ29tcGxleGl0eSgpe2NvbnN0IGU9bmUodGhpcy5fc3ltYm9sQ29tcGxleGl0aWVzKSx0PXRoaXMuX2dldChcImF2ZXJhZ2VTeW1ib2xDb21wbGV4aXR5XCIpO3JldHVybiAwPT09ZS5udW1Db21wbGV4aXRpZXN8fG51bGwhPXQmJihlLmVzdGltYXRlZCYmKHQudmVydGljZXNQZXJGZWF0dXJlPj1lLnZlcnRpY2VzUGVyRmVhdHVyZXx8dC52ZXJ0aWNlc1BlckNvb3JkaW5hdGU+PWUudmVydGljZXNQZXJDb29yZGluYXRlfHx0LmRyYXdDYWxsc1BlckZlYXR1cmU+PWUuZHJhd0NhbGxzUGVyRmVhdHVyZSl8fHQudmVydGljZXNQZXJGZWF0dXJlPT09ZS52ZXJ0aWNlc1BlckZlYXR1cmUmJnQudmVydGljZXNQZXJDb29yZGluYXRlPT09ZS52ZXJ0aWNlc1BlckNvb3JkaW5hdGUmJnQuZHJhd0NhbGxzUGVyRmVhdHVyZT09PWUuZHJhd0NhbGxzUGVyRmVhdHVyZSk/dDplfWdldCB1c2VkTWVtb3J5KCl7Y29uc3QgZT10aGlzLmxhYmVsc0VuYWJsZWQ/KHRoaXMuYXZlcmFnZVN5bWJvbENvbXBsZXhpdHk/Lm1lbW9yeS5ieXRlc1BlckZlYXR1cmVMYWJlbD8/MCkqdGhpcy5fbnVtYmVyT2ZHcmFwaGljczowLHQ9dGhpcy5fZ2V0U3ltYm9sQ29tcGxleGl0aWVzVXNlZCgpLnJlZHVjZSgoKGUsdCk9PmUrdC5tZW1vcnkucmVzb3VyY2VCeXRlcyksMCk7aWYobnVsbD09dGhpcy5fc3ltYm9sTWF0ZXJpYWxzKXt0aGlzLl9zeW1ib2xNYXRlcmlhbHM9W107Zm9yKGNvbnN0IGUgb2YgdGhpcy5fc3ltYm9scy52YWx1ZXMoKSlpZihudWxsIT1lKWZvcihjb25zdCB0IG9mIGUuc3ltYm9sTGF5ZXJzKWlmKHQpZm9yKGNvbnN0IGUgb2YgdC5tYXRlcmlhbHMpZSYmdGhpcy5fc3ltYm9sTWF0ZXJpYWxzLnB1c2goZSl9Y29uc3QgaT10aGlzLm93bmVyLnZpZXcuc3RhZ2UucmVuZGVyZXIscj10aGlzLm93bmVyLnZpZXcuYmFzZW1hcFRlcnJhaW4ub3ZlcmxheU1hbmFnZXIucmVuZGVyZXIscz10aGlzLl9zeW1ib2xNYXRlcmlhbHMucmVkdWNlKCgoZSx0KT0+ZSsoKGkuZ2V0TWF0ZXJpYWxSZW5kZXJlcih0KXx8ci5nZXRNYXRlcmlhbFJlbmRlcmVyKHQpKT8udXNlZE1lbW9yeT8/MCkpLDApO3JldHVybiB0aGlzLl91c2VkTWVtb3J5K2UrdCtzfWdldCB1c2VkTWVtb3J5UGVyR3JhcGhpYygpe2lmKHRoaXMuX3VzZWRNZW1vcnkmJnRoaXMuX251bWJlck9mR3JhcGhpY3Mpe2NvbnN0IGU9dGhpcy5fbnVtYmVyT2ZHcmFwaGljcy8odGhpcy5fbnVtYmVyT2ZHcmFwaGljcytNYXRoLm1heCh0aGlzLl9wZW5kaW5nQWRkcyx0aGlzLl9wZW5kaW5nUmVtb3ZlcykpO3JldHVybiB0aGlzLl91c2VkTWVtb3J5L3RoaXMuX251bWJlck9mR3JhcGhpY3MqZX1pZihudWxsIT10aGlzLmF2ZXJhZ2VTeW1ib2xDb21wbGV4aXR5KXtjb25zdCBlPXRoaXMubGFiZWxzRW5hYmxlZD90aGlzLmF2ZXJhZ2VTeW1ib2xDb21wbGV4aXR5Lm1lbW9yeS5ieXRlc1BlckZlYXR1cmVMYWJlbDowO3JldHVybiB0aGlzLmF2ZXJhZ2VTeW1ib2xDb21wbGV4aXR5Lm1lbW9yeS5ieXRlc1BlckZlYXR1cmUrZX1yZXR1cm4gMH1nZXQgdW5wcm9jZXNzZWRNZW1vcnlFc3RpbWF0ZSgpe3JldHVybih0aGlzLl9wZW5kaW5nQWRkcy10aGlzLl9wZW5kaW5nUmVtb3ZlcykqdGhpcy51c2VkTWVtb3J5UGVyR3JhcGhpY31nZXQgX3N5bWJvbENvbXBsZXhpdGllcygpe3JldHVybiB0aGlzLmN1cnJlbnRSZW5kZXJlcj90aGlzLl9nZXRTeW1ib2xDb21wbGV4aXRpZXNVc2VkT3JSZW5kZXJlcih0aGlzLmN1cnJlbnRSZW5kZXJlcik6dGhpcy5fZ2V0U3ltYm9sQ29tcGxleGl0aWVzVXNlZCgpfWdldCB2aXNpYmxlKCl7cmV0dXJuIHRoaXMuX3Zpc2libGV9X2dldENvbnZlcnRlZFN5bWJvbChlKXtjb25zdCB0PWU7aWYoXCJ3ZWItc3R5bGVcIj09PXQudHlwZSlyZXR1cm4gdC5jbG9uZSgpO2NvbnN0IGk9dGhpcy5fc3ltYm9sQ29udmVyc2lvbkNhY2hlLmdldCh0LmlkKTtpZihudWxsIT1pKXJldHVybiBpO2NvbnN0IHI9YWUodCx7Z2VvbWV0cnlUeXBlOnRoaXMubGF5ZXI/Lmdlb21ldHJ5VHlwZT8/dm9pZCAwLHJldGFpbklkOiEwLGhhc0xhYmVsaW5nQ29udGV4dDp0aGlzLl9oYXNMYWJlbGluZ0NvbnRleHQodCksY2ltRmFsbGJhY2tFbmFibGVkOiEwfSkscz1yLnN5bWJvbHx8bnVsbDtyZXR1cm4gbnVsbD09cyYmci5lcnJvciYmYS5nZXRMb2dnZXIodGhpcykuZXJyb3Ioci5lcnJvci5tZXNzYWdlKSx0aGlzLl9zeW1ib2xDb252ZXJzaW9uQ2FjaGUuc2V0KHQuaWQscyksc31fZ2V0U3ltYm9sQ29tcGxleGl0aWVzVXNlZE9yUmVuZGVyZXIoZSl7aWYobnVsbD09ZSlyZXR1cm5bXTtjb25zdCB0PWUuc3ltYm9scyxpPVwiYmFja2dyb3VuZEZpbGxTeW1ib2xcImluIGU/ZS5iYWNrZ3JvdW5kRmlsbFN5bWJvbDpudWxsO2lmKCFpJiYhdC5sZW5ndGgpcmV0dXJuW107Y29uc3Qgcj1bXSxzPXRoaXMuX2dldFN5bWJvbENvbXBsZXhpdHlVc2VkT3JSZW5kZXJlcihpKTtudWxsIT1zJiZyLnB1c2gocyk7Zm9yKGNvbnN0IGEgb2YgdCl7Y29uc3QgZT10aGlzLl9nZXRTeW1ib2xDb21wbGV4aXR5VXNlZE9yUmVuZGVyZXIoYSk7bnVsbCE9ZSYmci5wdXNoKGUpfXJldHVybiByfV9nZXRTeW1ib2xDb21wbGV4aXR5VXNlZE9yUmVuZGVyZXIoZSl7aWYobnVsbD09ZSlyZXR1cm4gbnVsbDtjb25zdCB0PXRoaXMuX3N5bWJvbHMuZ2V0KGUuaWQpO2lmKG51bGwhPXQpcmV0dXJuIHQuY29tcGxleGl0eTtjb25zdCBpPXRoaXMuX2dldENvbnZlcnRlZFN5bWJvbChlKTtyZXR1cm4gbnVsbCE9aT9vZShpKTpudWxsfV9nZXRTeW1ib2xDb21wbGV4aXRpZXNVc2VkKCl7Y29uc3QgZT1bXTtyZXR1cm4gdGhpcy5fc3ltYm9scy5mb3JFYWNoKCh0PT57bnVsbCE9dCYmZS5wdXNoKHQuY29tcGxleGl0eSl9KSksZX1nZXQgX29iamVjdElkRmllbGQoKXtyZXR1cm4gdGhpcy5sYXllci5vYmplY3RJZEZpZWxkfWNvbnN0cnVjdG9yKGUpe3N1cGVyKGUpLHRoaXMuX3Byb3BlcnRpZXNQb29sPW5ldyBMZSh7Y29tcHV0ZWRFeHRlbnQ6SX0sdGhpcyksdGhpcy5jb21wdXRlZEV4dGVudD1udWxsLHRoaXMuY3VycmVudFJlbmRlcmVyPW51bGwsdGhpcy5yZW5kZXJlckhhc0dlb21ldHJ5T3BlcmF0aW9ucz0hMSx0aGlzLl9ncmFwaGljU3RhdGVUcmFja2luZz1udWxsLHRoaXMuZ3JhcGhpY3MzREdyYXBoaWNzPW5ldyBNYXAsdGhpcy5zdGFnZUxheWVyPW51bGwsdGhpcy5zdGFnZT1udWxsLHRoaXMuX2dyYXBoaWNzRHJhcGVkVWlkcz1uZXcgU2V0LHRoaXMuX2dyYXBoaWNzQnlTeW1ib2w9bmV3IE1hcCx0aGlzLl9zeW1ib2xDb252ZXJzaW9uQ2FjaGU9bmV3IE1hcCx0aGlzLl9zeW1ib2xzPW5ldyBNYXAsdGhpcy5fZ3JhcGhpY3NXaXRob3V0U3ltYm9sPW5ldyBNYXAsdGhpcy5fZ3JhcGhpY3NXYWl0aW5nRm9yU3ltYm9sPW5ldyBNYXAsdGhpcy5fZ3JhcGhpY3NVcGRhdGVJZD0wLHRoaXMuX2ZyYW1lVGFza0hhbmRsZT1qZSx0aGlzLl9kYXRhVXBkYXRlUXVldWU9bmV3IFEsdGhpcy5fdXBkYXRlUXVldWU9bmV3IFEsdGhpcy5fc3VzcGVuZFN5bWJvbENsZWFudXA9ITEsdGhpcy5fYXJjYWRlT25EZW1hbmQ9bnVsbCx0aGlzLl9yZW5kZXJlckNoYW5nZUFib3J0Q29udHJvbGxlcj1udWxsLHRoaXMuX2VsZXZhdGlvbkluZm9DaGFuZ2VBYm9ydENvbnRyb2xsZXI9bnVsbCx0aGlzLl9pbml0aWFsaXplQWJvcnRDb250cm9sbGVyPW51bGwsdGhpcy5fZWxldmF0aW9uQWxpZ25tZW50PW51bGwsdGhpcy5fc2NhbGVWaXNpYmlsaXR5PW51bGwsdGhpcy5fZmlsdGVyVmlzaWJpbGl0eT1udWxsLHRoaXMuX3NwYXRpYWxJbmRleD1udWxsLHRoaXMuZXh0ZW50UGFkZGluZz0wLHRoaXMuX3VwZGF0aW5nUGVuZGluZ0xvYWRlZEdyYXBoaWNzQ2hhbmdlPW51bGwsdGhpcy5fZmVhdHVyZVN0b3JlPW51bGwsdGhpcy5fZGVjb25mbGljdG9yPW51bGwsdGhpcy5fbGFiZWxlcj1udWxsLHRoaXMuX29iamVjdFN0YXRlcz1udWxsLHRoaXMuX3ZpZXdFbGV2YXRpb25Qcm92aWRlcj1udWxsLHRoaXMuX3N0YWdlTGF5ZXJFbGV2YXRpb25Qcm92aWRlcj1udWxsLHRoaXMuX3NoYXJlZFN5bWJvbFJlc291cmNlc093bmVySGFuZGxlPW51bGwsdGhpcy5fd2hlbkdyYXBoaWNzM0RHcmFwaGljUmVxdWVzdHM9e30sdGhpcy5fcGVuZGluZ1VwZGF0ZXM9bmV3IE1hcCx0aGlzLl9udW1iZXJPZkdyYXBoaWNzPTAsdGhpcy5fbnVtYmVyT2ZHcmFwaGljc1Byb3ZpZGluZ0VsZXZhdGlvbj0wLHRoaXMuX3BlbmRpbmdBZGRzPTAsdGhpcy5fcGVuZGluZ1JlbW92ZXM9MCx0aGlzLl9hcHBseVBlbmRpbmdSZW1vdmVzRmlyc3Q9ITEsdGhpcy5fbG9hZGluZ1N5bWJvbHM9MCx0aGlzLl9wZW5kaW5nVXBkYXRlc1Bvb2w9bmV3IGMoe2FsbG9jYXRvcjplPT5lfHxuZXcgQmUsZGVhbGxvY2F0b3I6ZT0+KGUuY2xlYXIoKSxlKX0pLHRoaXMuY29tcHJlc3Npb25UcmFja2VyPW5ldyBGZSx0aGlzLl9zeW1ib2xXYXJuaW5nTG9nZ2VkPSExLHRoaXMuX2dlb21ldHJ5V2FybmluZ0xvZ2dlZD0hMSx0aGlzLl9vYmplY3RJZEludmlzaWJsZVNldD1uZXcgU2V0LHRoaXMuX3doZW5TeW1ib2xSZW1vdmVkPW5ldyBjLHRoaXMucHJlZmVycmVkVXBkYXRlUG9saWN5PUVlLlNZTkMsdGhpcy5fZm9yY2VkVXBkYXRlUG9saWN5PW51bGwsdGhpcy5lbGV2YXRpb25GZWF0dXJlRXhwcmVzc2lvbkVuYWJsZWQ9ITAsdGhpcy5vd25lcj1udWxsLHRoaXMubGF5ZXI9bnVsbCx0aGlzLmdyYXBoaWNTeW1ib2xTdXBwb3J0ZWQ9ITAsdGhpcy5nZXRSZW5kZXJpbmdJbmZvV2l0aG91dFJlbmRlcmVyPSExLHRoaXMuc2V0VWlkVG9JZE9uQWRkPSEwLHRoaXMuaGFzWj1udWxsLHRoaXMuaGFzTT1udWxsLHRoaXMuX3VzZWRNZW1vcnk9MCx0aGlzLl92aXNpYmxlPSExLHRoaXMuX3N0YXJ0Q3JlYXRlR3JhcGhpY3M9ITEsdGhpcy5fdW51c2VkU3ltYm9sc0NhY2hlPWUub3duZXIudmlldy5yZXNvdXJjZUNvbnRyb2xsZXIubWVtb3J5Q29udHJvbGxlci5uZXdDYWNoZShcImdyYXBoaWNzLTNkLXVudXNlZC1zeW1ib2xzXCIsKGU9PmUuZGVzdHJveSgpKSksdGhpcy5zeW1ib2xDcmVhdGlvbkNvbnRleHQ9bmV3IG1lKGUub3duZXIudmlldy5yZXNvdXJjZUNvbnRyb2xsZXIuc2NoZWR1bGVyLCgoZSx0KT0+dGhpcy5fdXBkYXRlUXVldWUucHVzaChlLHQpKSxlLm93bmVyLmxheWVyVmlld1VpZCx0aGlzLmNvbXByZXNzaW9uVHJhY2tlcil9aW5pdGlhbGl6ZSgpe3RoaXMuX2ZlYXR1cmVTdG9yZT1uZXcgZ2Uoe29iamVjdElkRmllbGQ6dGhpcy5vd25lci5sYXllcj8ub2JqZWN0SWRGaWVsZCxoYXNaOiEhdGhpcy5oYXNaLGhhc006ISF0aGlzLmhhc00sdmlld1NwYXRpYWxSZWZlcmVuY2U6dGhpcy5fdmlld1NwYXRpYWxSZWZlcmVuY2UsZmVhdHVyZVNwYXRpYWxSZWZlcmVuY2U6dGhpcy5vd25lci5mZWF0dXJlU3BhdGlhbFJlZmVyZW5jZSxnZXRTcGF0aWFsSW5kZXg6KCk9PnRoaXMuc3BhdGlhbEluZGV4LGZvckVhY2g6ZT0+dGhpcy5ncmFwaGljczNER3JhcGhpY3MuZm9yRWFjaChlKX0pO2NvbnN0IGU9KGUsdCxpKT0+dGhpcy5zcGF0aWFsSW5kZXgucXVlcnlHcmFwaGljVUlEc0luRXh0ZW50KGUsdCxpKSx7Y29tcG9uZW50RmFjdG9yaWVzOnR9PXRoaXM7dGhpcy5fZWxldmF0aW9uQWxpZ25tZW50PXQuZWxldmF0aW9uQWxpZ25tZW50Py4odGhpcyxlKSx0aGlzLl9zY2FsZVZpc2liaWxpdHk9dC5zY2FsZVZpc2liaWxpdHk/Lih0aGlzLGUpLHRoaXMuX2ZpbHRlclZpc2liaWxpdHk9dC5maWx0ZXJWaXNpYmlsaXR5Py4oe2ZlYXR1cmVTdG9yZTp0aGlzLl9mZWF0dXJlU3RvcmUsZ2V0RmVhdHVyZUNvdW50OigpPT50aGlzLmdyYXBoaWNzM0RHcmFwaGljcy5zaXplLHVwZGF0ZUZlYXR1cmVWaXNpYmlsaXRpZXM6ZT0+dGhpcy5tb2RpZnlHcmFwaGljczNER3JhcGhpY1Zpc2liaWxpdGllcygodD0+dC5zZXRWaXNpYmlsaXR5RmxhZyhkZS5HUkFQSElDLHBlLkZJTFRFUixlKE4odC5ncmFwaGljLHRoaXMuX29iamVjdElkRmllbGQpKSkpKSxzZXRBbGxGZWF0dXJlc1Zpc2liaWxpdHk6ZT0+dGhpcy5tb2RpZnlHcmFwaGljczNER3JhcGhpY1Zpc2liaWxpdGllcygodD0+dC5zZXRWaXNpYmlsaXR5RmxhZyhkZS5HUkFQSElDLHBlLkZJTFRFUixlKSkpLGNsZWFyRmVhdHVyZXNWaXNpYmlsaXR5OigpPT50aGlzLm1vZGlmeUdyYXBoaWNzM0RHcmFwaGljVmlzaWJpbGl0aWVzKChlPT5lLnNldFZpc2liaWxpdHlGbGFnKGRlLkdSQVBISUMscGUuRklMVEVSLCEwKSkpfSksdGhpcy5fZGVjb25mbGljdG9yPXQuZGVjb25mbGljdG9yPy4odGhpcyksdGhpcy5fbGFiZWxlcj10LmxhYmVsZXI/Lih0aGlzLHRoaXMuX3NjYWxlVmlzaWJpbGl0eSksdGhpcy5fb2JqZWN0U3RhdGVzPXQub2JqZWN0U3RhdGVzPy4odGhpcyksdGhpcy5faW5pdGlhbGl6ZUFib3J0Q29udHJvbGxlcj1uZXcgQWJvcnRDb250cm9sbGVyLHRoaXMuYWRkSGFuZGxlcyhiKCgoKT0+dGhpcy5vd25lci52aWV3LnN0YXRlLmhpZ2hsaWdodHMpLCgoKT0+e2NvbnN0e2hpZ2hsaWdodE9yZGVyTWFwOmV9PXRoaXMub3duZXIudmlldy5zdGF0ZTt0aGlzLmdyYXBoaWNzM0RHcmFwaGljcy5mb3JFYWNoKCh0PT50LnVwZGF0ZUhpZ2hsaWdodHMoZSkpKX0pKSksdGhpcy5faW5pdGlhbGl6ZVByb21pc2U9dGhpcy5faW5pdGlhbGl6ZUFzeW5jKCl9YXN5bmMgX2luaXRpYWxpemVBc3luYygpe2NvbnN0IGU9dGhpcy5faW5pdGlhbGl6ZUFib3J0Q29udHJvbGxlcj8uc2lnbmFsLHQ9dGhpcy5vd25lci52aWV3O3RoaXMuX3ZpZXdFbGV2YXRpb25Qcm92aWRlcj1uZXcgaGUodGhpcy5fdmlld1NwYXRpYWxSZWZlcmVuY2UsdCksdGhpcy5faW5pdGlhbGl6ZVN0YWdlKHQsdGhpcy5vd25lci5sYXllclZpZXdVaWQpO2NvbnN0IGk9dC5zaGFyZWRTeW1ib2xSZXNvdXJjZXM7dGhpcy5zeW1ib2xDcmVhdGlvbkNvbnRleHQuc2hhcmVkUmVzb3VyY2VzPWksdGhpcy5fc2hhcmVkU3ltYm9sUmVzb3VyY2VzT3duZXJIYW5kbGU9aS5hZGRHcmFwaGljc093bmVyKHRoaXMub3duZXIpLG51bGwhPXRoaXMuY3VycmVudFJlbmRlcmVyJiYodGhpcy5zeW1ib2xDcmVhdGlvbkNvbnRleHQucmVuZGVyZXI9dGhpcy5jdXJyZW50UmVuZGVyZXIpLHRoaXMuc3ltYm9sQ3JlYXRpb25Db250ZXh0LnN0YWdlPXRoaXMuc3RhZ2UsdGhpcy5zeW1ib2xDcmVhdGlvbkNvbnRleHQuc3RyZWFtRGF0YVJlcXVlc3Rlcj1pLnN0cmVhbURhdGFSZXF1ZXN0ZXIsdGhpcy5zeW1ib2xDcmVhdGlvbkNvbnRleHQucmVuZGVyQ29vcmRzSGVscGVyPXQucmVuZGVyQ29vcmRzSGVscGVyLHRoaXMuc3ltYm9sQ3JlYXRpb25Db250ZXh0LmxheWVyPXRoaXMubGF5ZXIsdGhpcy5zeW1ib2xDcmVhdGlvbkNvbnRleHQuZ3JhcGhpY3NDb3JlT3duZXI9dGhpcy5vd25lcix0aGlzLnN5bWJvbENyZWF0aW9uQ29udGV4dC5sb2NhbE9yaWdpbkZhY3Rvcnk9bmV3IERlKHQucmVuZGVyU3BhdGlhbFJlZmVyZW5jZSksdGhpcy5zeW1ib2xDcmVhdGlvbkNvbnRleHQuZWxldmF0aW9uUHJvdmlkZXI9dC5lbGV2YXRpb25Qcm92aWRlcix0aGlzLnN5bWJvbENyZWF0aW9uQ29udGV4dC5ub3RpZnlHcmFwaGljR2VvbWV0cnlDaGFuZ2VkPWU9PnRoaXMubm90aWZ5R3JhcGhpY0dlb21ldHJ5Q2hhbmdlZChlKSx0aGlzLnN5bWJvbENyZWF0aW9uQ29udGV4dC5ub3RpZnlHcmFwaGljVmlzaWJpbGl0eUNoYW5nZWQ9ZT0+dGhpcy5ub3RpZnlHcmFwaGljVmlzaWJpbGl0eUNoYW5nZWQoZSk7Y29uc3Qgcj1jZSh0aGlzLmxheWVyLmVsZXZhdGlvbkluZm8sdGhpcy5lbGV2YXRpb25GZWF0dXJlRXhwcmVzc2lvbkVuYWJsZWQpO2lmKHRoaXMuc3ltYm9sQ3JlYXRpb25Db250ZXh0LmZlYXR1cmVFeHByZXNzaW9uSW5mb0NvbnRleHQ9YXdhaXQgeWUocix0aGlzLl92aWV3U3BhdGlhbFJlZmVyZW5jZSxlLGEuZ2V0TG9nZ2VyKHRoaXMpKSx5KGUpLHRoaXMuc3ltYm9sQ3JlYXRpb25Db250ZXh0LnNjcmVlblNpemVQZXJzcGVjdGl2ZUVuYWJsZWQ9dC5zY3JlZW5TaXplUGVyc3BlY3RpdmVFbmFibGVkJiYhIXRoaXMubGF5ZXIuc2NyZWVuU2l6ZVBlcnNwZWN0aXZlRW5hYmxlZCx0aGlzLnN5bWJvbENyZWF0aW9uQ29udGV4dC5zbGljZVBsYW5lRW5hYmxlZD0hIXRoaXMub3duZXIuc2xpY2VQbGFuZUVuYWJsZWQsdGhpcy5zeW1ib2xDcmVhdGlvbkNvbnRleHQucGh5c2ljYWxCYXNlZFJlbmRlcmluZ0VuYWJsZWQ9ISF0aGlzLm93bmVyLnZpZXcucXVhbGl0eVNldHRpbmdzPy5waHlzaWNhbGx5QmFzZWRSZW5kZXJpbmdFbmFibGVkLHRoaXMuc3ltYm9sQ3JlYXRpb25Db250ZXh0LnNraXBIaWdoU3ltYm9sTG9kcz0hIXRoaXMub3duZXIudmlldy5xdWFsaXR5U2V0dGluZ3M/LmdyYXBoaWNzM0Q/LnNraXBIaWdoU3ltYm9sTG9kcyxcImRyYXBlU291cmNlVHlwZVwiaW4gdGhpcy5vd25lcil7Y29uc3R7b3duZXI6ZX09dGhpczt0aGlzLnN5bWJvbENyZWF0aW9uQ29udGV4dC5kcmFwZVNvdXJjZVJlbmRlcmVyPXQuYmFzZW1hcFRlcnJhaW4ub3ZlcmxheU1hbmFnZXIucmVnaXN0ZXJHZW9tZXRyeURyYXBlU291cmNlKGUpLHRoaXMuYWRkSGFuZGxlcyhzKCgoKT0+dC5iYXNlbWFwVGVycmFpbi5vdmVybGF5TWFuYWdlci51bnJlZ2lzdGVyRHJhcGVTb3VyY2UoZSkpKSl9dGhpcy5hZGRIYW5kbGVzKFtfKCgoKT0+dGhpcy5zdXNwZW5kZWRPck91dHNpZGVPZlZpZXcpLCgoKT0+dGhpcy5fdXBkYXRlUXVldWUudW5zaGlmdCgoKCk9PnRoaXMuX3VwZGF0ZUxheWVyVmlzaWJpbGl0eSgpKSxudWxsKS5jYXRjaChnKSkpLF8oKCgpPT5bdGhpcy5sYXllcj8uc2NyZWVuU2l6ZVBlcnNwZWN0aXZlRW5hYmxlZCx0aGlzLm93bmVyLnZpZXc/LnNjcmVlblNpemVQZXJzcGVjdGl2ZUVuYWJsZWRdKSwoKCk9Pntjb25zdCBlPXQuc2NyZWVuU2l6ZVBlcnNwZWN0aXZlRW5hYmxlZCYmISF0aGlzLmxheWVyLnNjcmVlblNpemVQZXJzcGVjdGl2ZUVuYWJsZWQ7ZSE9PXRoaXMuc3ltYm9sQ3JlYXRpb25Db250ZXh0LnNjcmVlblNpemVQZXJzcGVjdGl2ZUVuYWJsZWQmJih0aGlzLnN5bWJvbENyZWF0aW9uQ29udGV4dC5zY3JlZW5TaXplUGVyc3BlY3RpdmVFbmFibGVkPWUsdGhpcy5fbGFiZWxlcj8ucmVzZXQoKSx0aGlzLnJlY3JlYXRlQWxsR3JhcGhpY3NBbmRTeW1ib2xzKCkpfSkpLF8oKCgpPT50aGlzLm93bmVyLnNsaWNlUGxhbmVFbmFibGVkKSwoZT0+dGhpcy5fc2xpY2VQbGFuZUVuYWJsZWRDaGFuZ2UoISFlKSkpLF8oKCgpPT50aGlzLm93bmVyLnZpZXcuc3RhdGU/LnJhc3RlclBpeGVsUmF0aW8pLCgoKT0+dGhpcy5fcGl4ZWxSYXRpb0NoYW5nZSgpKSksXygoKCk9PiEhdGhpcy5vd25lci52aWV3LnF1YWxpdHlTZXR0aW5ncz8ucGh5c2ljYWxseUJhc2VkUmVuZGVyaW5nRW5hYmxlZCksKGU9PnRoaXMuX3BoeXNpY2FsQmFzZWRSZW5kZXJpbmdDaGFuZ2UoZSkpKSxfKCgoKT0+ISF0aGlzLm93bmVyLnZpZXcucXVhbGl0eVNldHRpbmdzPy5ncmFwaGljczNEPy5za2lwSGlnaFN5bWJvbExvZHMpLChlPT50aGlzLl9za2lwSGlnaFN5bWJvbExvRHNDaGFuZ2UoZSkpKSxfKCgoKT0+dGhpcy5vd25lci52aWV3LmZvY3VzQXJlYXNWaWV3Py5wb2x5Z29ucyksKCgpPT50aGlzLl91cGRhdGVGb2N1c2VkTGFiZWxzKCkpKSxfKCgoKT0+dGhpcy5vd25lci52aWV3Lm1hcD8uZm9jdXNBcmVhcy5zdHlsZSksKCgpPT50aGlzLnJlY3JlYXRlQWxsR3JhcGhpY3NBbmRTeW1ib2xzKCkpKSxiKCgoKT0+dC5iYXNlbWFwVGVycmFpbj8udGlsaW5nU2NoZW1lKSwoZT0+e2lmKGUuc3BhdGlhbFJlZmVyZW5jZS5lcXVhbHModGhpcy5zeW1ib2xDcmVhdGlvbkNvbnRleHQub3ZlcmxheVNSKXx8bnVsbD09dC5iYXNlbWFwVGVycmFpbi5zcGF0aWFsUmVmZXJlbmNlfHwodGhpcy5zeW1ib2xDcmVhdGlvbkNvbnRleHQub3ZlcmxheVNSPXQuYmFzZW1hcFRlcnJhaW4uc3BhdGlhbFJlZmVyZW5jZSksdGhpcy5oYXNIYW5kbGVzKFwibG9hZGVkLWdyYXBoaWNzXCIpKXRoaXMucmVjcmVhdGVBbGxHcmFwaGljcygpO2Vsc2V7Y29uc3QgZT0oKT0+dGhpcy5vd25lcj8ubG9hZGVkR3JhcGhpY3M7dGhpcy5hZGRIYW5kbGVzKFtmKGUsXCJjaGFuZ2VcIiwoZT0+e3RoaXMuX2dyYXBoaWNzQ29sbGVjdGlvbkNoYW5nZWQoZSksdGhpcy5fc2lnbmFsVXBkYXRpbmdEdXJpbmdBc3luY0xvYWRlZEdyYXBoaWNzQ2hhbmdlKCl9KSx7b25MaXN0ZW5lckFkZDooKT0+e3RoaXMucmVjcmVhdGVBbGxHcmFwaGljcygpLHRoaXMuX3NpZ25hbFVwZGF0aW5nRHVyaW5nQXN5bmNMb2FkZWRHcmFwaGljc0NoYW5nZSgpfX0pXSxcImxvYWRlZC1ncmFwaGljc1wiKX19KSx7aW5pdGlhbDohMH0pLF8oKCgpPT50aGlzLmVmZmVjdGl2ZVVwZGF0ZVBvbGljeSksKGU9PntudWxsIT10aGlzLnN0YWdlTGF5ZXImJih0aGlzLnN0YWdlTGF5ZXIudXBkYXRlUG9saWN5PWUpLHRoaXMuc3ltYm9sQ3JlYXRpb25Db250ZXh0LmlzQXN5bmM9dGhpcy5lZmZlY3RpdmVVcGRhdGVQb2xpY3k9PT1FZS5BU1lOQyxlPT09RWUuU1lOQyYmdGhpcy5ydW5UYXNrKE9lKX0pLHYpXSksdGhpcy5fZnJhbWVUYXNrSGFuZGxlPXQucmVzb3VyY2VDb250cm9sbGVyLnNjaGVkdWxlci5yZWdpc3RlclRhc2soVmUuR1JBUEhJQ1NfQ09SRSx0aGlzKSx0aGlzLmxheWVyJiZcImZlYXR1cmVSZWR1Y3Rpb25cImluIHRoaXMubGF5ZXImJnRoaXMuYWRkSGFuZGxlcyhfKCgoKT0+dGhpcy5sYXllci5mZWF0dXJlUmVkdWN0aW9uKSwoKCk9PnRoaXMuX2RlY29uZmxpY3Rvcj8uZmVhdHVyZVJlZHVjdGlvbkNoYW5nZSgpKSkpLHRoaXMubm90aWZ5Q2hhbmdlKFwiYXZlcmFnZVN5bWJvbENvbXBsZXhpdHlcIiksdGhpcy5yZW5kZXJlckNoYW5nZSh0aGlzLm93bmVyLnJlbmRlcmVyKS5jYXRjaCgoKCk9Pnt9KSksdGhpcy5faW5pdGlhbGl6ZUFib3J0Q29udHJvbGxlcj1udWxsfV9hYm9ydEluaXRpYWxpemUoKXt0aGlzLl9pbml0aWFsaXplQWJvcnRDb250cm9sbGVyPW8odGhpcy5faW5pdGlhbGl6ZUFib3J0Q29udHJvbGxlcil9X3VwZGF0ZUZvY3VzZWRMYWJlbHMoKXt0aGlzLmZvckVhY2hHcmFwaGljczNEU3ltYm9sKCgoZSx0KT0+e3QmJmUudXBkYXRlRm9jdXMoKCh7Z3JhcGhpYzplfSk9PnRoaXMucmVjcmVhdGVHcmFwaGljcyhbZV0pKSx0KX0pKX1kZXN0cm95KCl7dGhpcy5fdW51c2VkU3ltYm9sc0NhY2hlLmRlc3Ryb3koKSx0aGlzLl9hYm9ydEluaXRpYWxpemUoKSx0aGlzLl9yZW5kZXJlckNoYW5nZUFib3J0Q29udHJvbGxlcj1vKHRoaXMuX3JlbmRlcmVyQ2hhbmdlQWJvcnRDb250cm9sbGVyKSx0aGlzLl9hYm9ydEVsZXZhdGlvbkluZm9DaGFuZ2UoKSx0aGlzLl9mcmFtZVRhc2tIYW5kbGUucmVtb3ZlKCksdGhpcy5fZnJhbWVUYXNrSGFuZGxlPWplLHRoaXMuX2RhdGFVcGRhdGVRdWV1ZS5jYW5jZWxBbGwoKSx0aGlzLl91cGRhdGVRdWV1ZS5jYW5jZWxBbGwoKSx0aGlzLl9kZWNvbmZsaWN0b3I9bCh0aGlzLl9kZWNvbmZsaWN0b3IpLHRoaXMuX2xhYmVsZXI9bCh0aGlzLl9sYWJlbGVyKSx0aGlzLl9lbGV2YXRpb25BbGlnbm1lbnQ9aCh0aGlzLl9lbGV2YXRpb25BbGlnbm1lbnQpLHRoaXMuX3NjYWxlVmlzaWJpbGl0eT1oKHRoaXMuX3NjYWxlVmlzaWJpbGl0eSksdGhpcy5fZmlsdGVyVmlzaWJpbGl0eT1oKHRoaXMuX2ZpbHRlclZpc2liaWxpdHkpLHRoaXMuX29iamVjdFN0YXRlcz1oKHRoaXMuX29iamVjdFN0YXRlcyksdGhpcy5jbGVhcigpLHRoaXMuX2ZlYXR1cmVTdG9yZT1oKHRoaXMuX2ZlYXR1cmVTdG9yZSksdGhpcy5fdXBkYXRpbmdQZW5kaW5nTG9hZGVkR3JhcGhpY3NDaGFuZ2U9bCh0aGlzLl91cGRhdGluZ1BlbmRpbmdMb2FkZWRHcmFwaGljc0NoYW5nZSksdGhpcy5fZ3JhcGhpY1N0YXRlVHJhY2tpbmc9aCh0aGlzLl9ncmFwaGljU3RhdGVUcmFja2luZyksdGhpcy5zdGFnZSYmKHRoaXMuc3RhZ2VMYXllcj1oKHRoaXMuc3RhZ2VMYXllciksdGhpcy5zdGFnZT1udWxsKSx0aGlzLl9zZXQoXCJvd25lclwiLG51bGwpO2Zvcihjb25zdCBlIGluIHRoaXMuX3doZW5HcmFwaGljczNER3JhcGhpY1JlcXVlc3RzKXRoaXMuX3doZW5HcmFwaGljczNER3JhcGhpY1JlcXVlc3RzW2VdLnJlamVjdChuZXcgcihcImdyYXBoaWM6bGF5ZXItZGVzdHJveWVkXCIsXCJMYXllciBoYXMgYmVlbiBkZXN0cm95ZWRcIikpO3RoaXMuX3doZW5HcmFwaGljczNER3JhcGhpY1JlcXVlc3RzPW51bGwsdGhpcy5fc2hhcmVkU3ltYm9sUmVzb3VyY2VzT3duZXJIYW5kbGU9bCh0aGlzLl9zaGFyZWRTeW1ib2xSZXNvdXJjZXNPd25lckhhbmRsZSksdGhpcy5fcHJvcGVydGllc1Bvb2w9aCh0aGlzLl9wcm9wZXJ0aWVzUG9vbCksdGhpcy5fcGVuZGluZ1VwZGF0ZXNQb29sPW51bGwsdGhpcy5fc3ltYm9sQ29udmVyc2lvbkNhY2hlLmNsZWFyKCksdGhpcy5fb2JqZWN0SWRJbnZpc2libGVTZXQuY2xlYXIoKSx0aGlzLl9zcGF0aWFsSW5kZXg9aCh0aGlzLl9zcGF0aWFsSW5kZXgpfWNsZWFyKCl7dGhpcy5fb2JqZWN0U3RhdGVzPy5hbGxHcmFwaGljc0RlbGV0ZWQoKSxudWxsIT10aGlzLl9ncmFwaGljU3RhdGVUcmFja2luZyYmdGhpcy5fZ3JhcGhpY1N0YXRlVHJhY2tpbmcuYWxsR3JhcGhpY3NEZWxldGVkKCksdGhpcy5ncmFwaGljczNER3JhcGhpY3MuZm9yRWFjaCgoZT0+ZS5kZXN0cm95KCkpKSx0aGlzLl9zcGF0aWFsSW5kZXg/LmNsZWFyKCksdGhpcy5ncmFwaGljczNER3JhcGhpY3MuY2xlYXIoKSx0aGlzLl9udW1iZXJPZkdyYXBoaWNzPTAsdGhpcy5fdXNlZE1lbW9yeT0wLHRoaXMuX3VwZGF0ZUxheWVyVmlzaWJpbGl0eSgpLHRoaXMuX3N5bWJvbHMuZm9yRWFjaChoKSx0aGlzLl9zeW1ib2xzLmNsZWFyKCksdGhpcy5fc3ltYm9sTWF0ZXJpYWxzPW51bGwsdGhpcy5fZ3JhcGhpY3NCeVN5bWJvbC5jbGVhcigpLHRoaXMuX2dyYXBoaWNzV2l0aG91dFN5bWJvbC5jbGVhcigpLHRoaXMuX2dyYXBoaWNzV2FpdGluZ0ZvclN5bWJvbC5jbGVhcigpLHRoaXMuX3BlbmRpbmdVcGRhdGVzLmNsZWFyKCksdGhpcy5fcGVuZGluZ1VwZGF0ZXNQb29sLmNsZWFyKCksdGhpcy5fcGVuZGluZ0FkZHM9MCx0aGlzLl9wZW5kaW5nUmVtb3Zlcz0wLHRoaXMuX2FwcGx5UGVuZGluZ1JlbW92ZXNGaXJzdD0hMSx0aGlzLm5vdGlmeUNoYW5nZShcImRhdGFVcGRhdGluZ1wiKSx0aGlzLm5vdGlmeUNoYW5nZShcInJ1bm5pbmdcIiksdGhpcy5ub3RpZnlDaGFuZ2UoXCJ1cGRhdGluZ1JlbWFpbmluZ1wiKSx0aGlzLl9mZWF0dXJlU3RvcmUuZXZlbnRzLmVtaXQoXCJjaGFuZ2VkXCIpLHRoaXMub3duZXIubm90aWZ5Q29udGVudEdlb21ldHJ5VXBkYXRlPy4oKX1faW5pdGlhbGl6ZVN0YWdlKGUsdCl7dGhpcy5zdGFnZT1lLnN0YWdlLHRoaXMuc3RhZ2VMYXllcj1uZXcgSWUodGhpcy5zdGFnZSx7dmlzaWJsZTohdGhpcy5zdXNwZW5kZWRPck91dHNpZGVPZlZpZXcsdXBkYXRlUG9saWN5OnRoaXMuZWZmZWN0aXZlVXBkYXRlUG9saWN5fSx0KTtjb25zdCBpPXRoaXMuc3RhZ2VMYXllci5ldmVudHM7aS5vbihcInRyYW5zZm9ybWF0aW9uQ2hhbmdlZFwiLChlPT50aGlzLm5vdGlmeUdyYXBoaWNHZW9tZXRyeUNoYW5nZWQoZS5ncmFwaGljVWlkKSkpLGkub24oXCJzaGFkZXJUcmFuc2Zvcm1hdGlvbkNoYW5nZWRcIiwoZT0+dGhpcy5ub3RpZnlHcmFwaGljR2VvbWV0cnlDaGFuZ2VkKGUuZ3JhcGhpY1VpZCkpKSxpLm9uKFwidmlzaWJpbGl0eUNoYW5nZWRcIiwoZT0+dGhpcy5ub3RpZnlHcmFwaGljVmlzaWJpbGl0eUNoYW5nZWQoZS5ncmFwaGljVWlkKSkpLGkub24oXCJnZW9tZXRyeUFkZGVkXCIsKGU9PnRoaXMubm90aWZ5R3JhcGhpY0dlb21ldHJ5Q2hhbmdlZChlLm9iamVjdC5ncmFwaGljVWlkKSkpLGkub24oXCJnZW9tZXRyeVJlbW92ZWRcIiwoZT0+dGhpcy5ub3RpZnlHcmFwaGljR2VvbWV0cnlDaGFuZ2VkKGUub2JqZWN0LmdyYXBoaWNVaWQpKSksaS5vbihcImF0dHJpYnV0ZXNDaGFuZ2VkXCIsKGU9PlVlKGUuYXR0cmlidXRlKSYmdGhpcy5ub3RpZnlHcmFwaGljR2VvbWV0cnlDaGFuZ2VkKGUub2JqZWN0LmdyYXBoaWNVaWQpKSl9bm90aWZ5R3JhcGhpY0dlb21ldHJ5Q2hhbmdlZChlKXtpZihudWxsPT10aGlzLl9ncmFwaGljU3RhdGVUcmFja2luZ3x8bnVsbD09ZSlyZXR1cm47Y29uc3QgdD10aGlzLmdyYXBoaWNzM0RHcmFwaGljcy5nZXQoZSk7dCYmdGhpcy5fZ3JhcGhpY1N0YXRlVHJhY2tpbmcudXBkYXRlR3JhcGhpY0dlb21ldHJ5KHQpfW5vdGlmeUdyYXBoaWNWaXNpYmlsaXR5Q2hhbmdlZChlKXtpZihudWxsPT10aGlzLl9ncmFwaGljU3RhdGVUcmFja2luZ3x8bnVsbD09ZSlyZXR1cm47Y29uc3QgdD10aGlzLmdyYXBoaWNzM0RHcmFwaGljcy5nZXQoZSk7dCYmdGhpcy5fZ3JhcGhpY1N0YXRlVHJhY2tpbmcudXBkYXRlR3JhcGhpY1Zpc2liaWxpdHkodCl9X3VwZGF0ZUxheWVyVmlzaWJpbGl0eSgpe2NvbnN0IGU9dGhpcy5kaXNwbGF5RmVhdHVyZUxpbWl0Lm1heGltdW1OdW1iZXJPZkZlYXR1cmVzLHQ9dGhpcy5fbnVtYmVyT2ZHcmFwaGljcz5lKnFlLGk9IXRoaXMuc3VzcGVuZGVkT3JPdXRzaWRlT2ZWaWV3JiYhdDtpIT09dGhpcy5fdmlzaWJsZSYmKHRoaXMuX3Zpc2libGU9aSx0aGlzLl91cGRhdGVTdGFnZUxheWVyVmlzaWJpbGl0eSgpKX1fdXBkYXRlU3RhZ2VMYXllclZpc2liaWxpdHkoKXtjb25zdCBlPXRoaXMuX3Zpc2libGUmJihudWxsPT10aGlzLmxheWVyLm9wYWNpdHl8fHRoaXMubGF5ZXIub3BhY2l0eT49TWUpO3RoaXMuc3RhZ2VMYXllci52aXNpYmxlIT09ZSYmKHRoaXMuc3RhZ2VMYXllci52aXNpYmxlPWUsZT90aGlzLnVwZGF0ZUdyYXBoaWNzVmlzaWJpbGl0aWVzKCk6dGhpcy5faGlkZUFsbEdyYXBoaWNzKCksdGhpcy5vd25lci5ub3RpZnlDb250ZW50R2VvbWV0cnlVcGRhdGU/LigpKX1nZXRHcmFwaGljczNER3JhcGhpY0J5SWQoZSl7cmV0dXJuIG51bGwhPWU/dGhpcy5ncmFwaGljczNER3JhcGhpY3MuZ2V0KGUpOnZvaWQgMH1nZXRHcmFwaGljczNER3JhcGhpY0J5T2JqZWN0SWQoZSl7cmV0dXJuIHRoaXMub3duZXIubGF5ZXI/Lm9iamVjdElkRmllbGQ/dGhpcy5fZmluZEdyYXBoaWNzM0RHcmFwaGljQnlPYmplY3RJZChlKTpudWxsfV9nZXRHcmFwaGljT2JqZWN0SUQoZSx0PXRoaXMub3duZXIubGF5ZXI/Lm9iamVjdElkRmllbGQpe3JldHVybiBOKGUsdCl9Z2V0IGdyYXBoaWNzM0RHcmFwaGljc0J5T2JqZWN0SUQoKXtjb25zdCBlPXRoaXMub3duZXIubGF5ZXI/Lm9iamVjdElkRmllbGQ7aWYoIWUpcmV0dXJuO2NvbnN0IHQ9bmV3IE1hcDtyZXR1cm4gdGhpcy5ncmFwaGljczNER3JhcGhpY3MuZm9yRWFjaCgoaT0+e2lmKCFpKXJldHVybjtjb25zdCByPWkuZ3JhcGhpYyxzPXRoaXMuX2dldEdyYXBoaWNPYmplY3RJRChyLGUpO251bGwhPXMmJnQuc2V0KHMsaSl9KSksdH1nZXQgbGFiZWxzRW5hYmxlZCgpe3JldHVybiEhdGhpcy5fbGFiZWxlcj8ubGF5ZXJMYWJlbHNFbmFibGVkKCl9YXN5bmMgdXBkYXRlTGFiZWxpbmdJbmZvKGUpe2NvbnN0IHQ9dGhpcy5fZGVjb25mbGljdG9yPy5sYWJlbGluZ0luZm9DaGFuZ2UoZSksaT10aGlzLl9sYWJlbGVyPy5sYWJlbGluZ0luZm9DaGFuZ2UoZSk7YXdhaXQgUHJvbWlzZS5hbGxTZXR0bGVkKFt0LGldKX11cGRhdGVWaXNpYmlsaXR5SW5mbygpe3RoaXMuX2RlY29uZmxpY3Rvcj8ubGFiZWxpbmdJbmZvQ2hhbmdlKCksdGhpcy5fbGFiZWxlcj8udmlzaWJpbGl0eUluZm9DaGFuZ2UoKX1nZXQgc3ltYm9sVXBkYXRlVHlwZSgpe2lmKHRoaXMuX3BlbmRpbmdVcGRhdGVzLnNpemU+MClyZXR1cm5cInVua25vd25cIjtsZXQgZT0hMSx0PSExO2Zvcihjb25zdFtpLHJdb2YgdGhpcy5fc3ltYm9scylpZihudWxsIT1yKXtzd2l0Y2goci5nZXRGYXN0VXBkYXRlU3RhdHVzKCkpe2Nhc2UgU2UuTG9hZGluZzpyZXR1cm5cInVua25vd25cIjtjYXNlIFNlLkZhc3Q6dGhpcy5fZ3JhcGhpY3NCeVN5bWJvbC5oYXMoaSkmJih0PSEwKTticmVhaztjYXNlIFNlLlNsb3c6dGhpcy5fZ3JhcGhpY3NCeVN5bWJvbC5oYXMoaSkmJihlPSEwKTticmVhaztjYXNlIFNlLk1peGVkOnRoaXMuX2dyYXBoaWNzQnlTeW1ib2wuaGFzKGkpJiYodD1lPSEwKTtjYXNlIFNlLlVuZGVmaW5lZDp9fXJldHVybiB0P2U/XCJtaXhlZFwiOlwiZmFzdFwiOmU/XCJzbG93XCI6XCJtaXhlZFwifXJ1blRhc2soZSl7aWYodGhpcy5fZGF0YVVwZGF0ZVF1ZXVlLnJ1blRhc2soZSksdGhpcy5fdXBkYXRlUXVldWUucnVuVGFzayhlKSx0aGlzLl9hcHBseVBlbmRpbmdVcGRhdGVzKGUpLHRoaXMubm90aWZ5Q2hhbmdlKFwicnVubmluZ1wiKSx0aGlzLnJ1bm5pbmd8fHRoaXMubm90aWZ5Q2hhbmdlKFwiZGF0YVVwZGF0aW5nXCIpLHRoaXMubm90aWZ5Q2hhbmdlKFwidXBkYXRpbmdSZW1haW5pbmdcIiksIWUuaGFzUHJvZ3Jlc3NlZClyZXR1cm4gVGV9c2V0T2JqZWN0SWRWaXNpYmlsaXR5KGUsdCl7dD90aGlzLl9vYmplY3RJZEludmlzaWJsZVNldC5kZWxldGUoZSk6dGhpcy5fb2JqZWN0SWRJbnZpc2libGVTZXQuYWRkKGUpO2NvbnN0IGk9dGhpcy5fZmluZEdyYXBoaWNzM0RHcmFwaGljQnlPYmplY3RJZChlKTtudWxsIT1pJiZ0aGlzLl91cGRhdGVVc2VyVmlzaWJpbGl0eShpKX1fZmluZEdyYXBoaWNzM0RHcmFwaGljQnlPYmplY3RJZChlKXtyZXR1cm4gbih0aGlzLmdyYXBoaWNzM0RHcmFwaGljcywodD0+dGhpcy5fZ2V0R3JhcGhpY09iamVjdElEKHQuZ3JhcGhpYyk9PT1lKSl9X3VwZGF0ZVVzZXJWaXNpYmlsaXR5KGUpe2lmKG51bGw9PWUpcmV0dXJuITE7Y29uc3QgdD1lLmdyYXBoaWMsaT10aGlzLl9nZXRHcmFwaGljT2JqZWN0SUQodCkscj10LnZpc2libGUmJiF0aGlzLm93bmVyLnN1c3BlbmRlZCYmdGhpcy5zdGFnZUxheWVyLnZpc2libGUmJihudWxsPT1pfHwhdGhpcy5fb2JqZWN0SWRJbnZpc2libGVTZXQuaGFzKGkpKTtyZXR1cm4gZS5zZXRWaXNpYmlsaXR5RmxhZyhkZS5HUkFQSElDLHBlLlVTRVIscil9X3doZW5HcmFwaGljczNER3JhcGhpYyhlKXtjb25zdCB0PXRoaXMuZ3JhcGhpY3MzREdyYXBoaWNzLmdldChlLnVpZCk7aWYodClyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHQpO2NvbnN0IGk9dGhpcy5fd2hlbkdyYXBoaWNzM0RHcmFwaGljUmVxdWVzdHNbZS51aWRdO2lmKGkpcmV0dXJuIGkucHJvbWlzZTtjb25zdCByPXUoKTtyZXR1cm4gdGhpcy5fd2hlbkdyYXBoaWNzM0RHcmFwaGljUmVxdWVzdHNbZS51aWRdPXIsci5wcm9taXNlfWFzeW5jIF9ib3VuZHNGb3JHcmFwaGljczNER3JhcGhpYyhlLHQpe2NvbnN0IGk9dGhpcy5fdmlld1NwYXRpYWxSZWZlcmVuY2Uscj10aGlzLm93bmVyLnZpZXcucmVuZGVyU3BhdGlhbFJlZmVyZW5jZSxzPXRoaXMub3duZXIudmlldy5iYXNlbWFwVGVycmFpbi5zcGF0aWFsUmVmZXJlbmNlLGE9KGUsdCxzKT0+aihlLHIsdCxlLGksdCxzKSxuPShlLHQscik9PmooZSxzLHQsZSxpLHQsciksbz10aGlzLl92aWV3RWxldmF0aW9uUHJvdmlkZXI/e3NlcnZpY2U6dGhpcy5fdmlld0VsZXZhdGlvblByb3ZpZGVyLHVzZVZpZXdFbGV2YXRpb246bnVsbCE9dCYmISF0LnVzZVZpZXdFbGV2YXRpb24sbWluRGVtUmVzb2x1dGlvbjpudWxsIT10P3QubWluRGVtUmVzb2x1dGlvbjpudWxsLG1pbkRlbVJlc29sdXRpb25Gb3JQb2ludHM6dGhpcy5vd25lci52aWV3LnJlc29sdXRpb259Om51bGwsbD1hd2FpdCBlLmdldFByb2plY3RlZEJvdW5kaW5nQm94KGEsbixvLHQ/LnNpZ25hbCk7aWYoIWwpcmV0dXJuIG51bGw7Y29uc3QgaD1sLmJvdW5kaW5nQm94O2lmKGwucmVxdWlyZXNEcmFwZWRFbGV2YXRpb24pe2NvbnN0IGU9dGhpcy5zeW1ib2xDcmVhdGlvbkNvbnRleHQuZWxldmF0aW9uUHJvdmlkZXI7aWYoZSl7RihoLHplKTtjb25zdCB0PWUuZ2V0RWxldmF0aW9uKHplWzBdLHplWzFdLDAsaSxcImdyb3VuZFwiKT8/MDtoWzJdPU1hdGgubWluKGhbMl0sdCksaFs1XT1NYXRoLm1heChoWzVdLHQpfX1yZXR1cm57Ym91bmRpbmdCb3g6aCxzY3JlZW5TcGFjZU9iamVjdHM6bC5zY3JlZW5TcGFjZU9iamVjdHN9fWFzeW5jIHdoZW5HcmFwaGljQm91bmRzKGUsdCl7YXdhaXQgQygoKCk9PnRoaXMub3duZXI/LmxvYWRlZEdyYXBoaWNzKSk7Y29uc3QgaT10aGlzLm93bmVyLmxheWVyPy5vYmplY3RJZEZpZWxkLHM9dGhpcy5vd25lci5sb2FkZWRHcmFwaGljcy5maW5kKCh0PT50PT09ZXx8bnVsbCE9aSYmbnVsbCE9dC5hdHRyaWJ1dGVzJiZlLmF0dHJpYnV0ZXMmJnQuYXR0cmlidXRlc1tpXT09PWUuYXR0cmlidXRlc1tpXSkpO2lmKCFzKXRocm93IG5ldyByKFwiaW50ZXJuYWw6Z3JhcGhpYy1ub3QtcGFydC1vZi12aWV3XCIsXCJHcmFwaGljIGlzIG5vdCBwYXJ0IG9mIHRoaXMgdmlld1wiKTtjb25zdCBhPWF3YWl0IHRoaXMuX3doZW5HcmFwaGljczNER3JhcGhpYyhzKTtyZXR1cm4gdGhpcy5fYm91bmRzRm9yR3JhcGhpY3MzREdyYXBoaWMoYSx0KX1jb21wdXRlQXR0YWNobWVudE9yaWdpbihlLHQpe2NvbnN0IGk9dGhpcy5ncmFwaGljczNER3JhcGhpY3MuZ2V0KGUudWlkKTtpZighaSlyZXR1cm4gbnVsbDtjb25zdCByPWkuY29tcHV0ZUF0dGFjaG1lbnRPcmlnaW4oKTtpZigwPT09ci5yZW5kZXIubnVtJiYwPT09ci5kcmFwZWQubnVtKXJldHVybiBudWxsO1IoWWUsMCwwLDApO2xldCBzPTA7aWYoci5yZW5kZXIubnVtPjApe2lmKCFPKHIucmVuZGVyLm9yaWdpbix0aGlzLnN5bWJvbENyZWF0aW9uQ29udGV4dC5yZW5kZXJDb29yZHNIZWxwZXIuc3BhdGlhbFJlZmVyZW5jZSxRZSx0KSlyZXR1cm4gbnVsbDtEKFllLFllLFFlKSxzKyt9aWYoci5kcmFwZWQubnVtPjApe2NvbnN0W2UsaV09ci5kcmFwZWQub3JpZ2luLGE9dGhpcy5fdmlld0VsZXZhdGlvblByb3ZpZGVyLmdldEVsZXZhdGlvbihlLGksXCJncm91bmRcIik/PzA7aWYoUihRZSxlLGksYSksIU8oUWUsdGhpcy5fdmlld0VsZXZhdGlvblByb3ZpZGVyLnNwYXRpYWxSZWZlcmVuY2UsUWUsdCkpcmV0dXJuIG51bGw7RChZZSxZZSxRZSkscysrfXJldHVybiBzPjEmJkUoWWUsWWUsMS9zKSxuZXcgQSh7eDpZZVswXSx5OlllWzFdLHo6WWVbMl0sc3BhdGlhbFJlZmVyZW5jZTp0fSl9Z2V0U3ltYm9sTGF5ZXJTaXplKGUsdCl7Y29uc3QgaT10aGlzLl9zeW1ib2xzLmdldChlLmlkKTtpZihudWxsPT1pKXRocm93IG5ldyByKFwiaW50ZXJuYWw6c3ltYm9sLW5vdC1wYXJ0LW9mLXZpZXdcIixcIlN5bWJvbCBpcyBub3QgcGFydCBvZiB0aGlzIHZpZXdcIik7Y29uc3Qgcz1lLnN5bWJvbExheWVycy5pbmRleE9mKHQpO2lmKC0xPT09cyl0aHJvdyBuZXcgcihcImludGVybmFsOm1pc3Npbmctc3ltYm9sLWxheWVyXCIsXCJTeW1ib2wgbGF5ZXIgaXMgbm90IGluIHN5bWJvbFwiKTtjb25zdCBhPWkuZ2V0U3ltYm9sTGF5ZXJTaXplKHMpO2lmKG51bGw9PWEpdGhyb3cgbmV3IHIoXCJpbnRlcm5hbDptaXNzaW5nLXNpemVcIixcIlN5bWJvbCBsYXllciBoYXMgbm8gdmFsaWQgc2l6ZVwiKTtyZXR1cm4gYX1fZ3JhcGhpY3NDb2xsZWN0aW9uQ2hhbmdlZChlKXt0aGlzLl9zdGFydENyZWF0ZUdyYXBoaWNzJiYodGhpcy5hZGQoZS5hZGRlZCksdGhpcy5yZW1vdmUoZS5yZW1vdmVkKSl9Z3JhcGhpY1VwZGF0ZUhhbmRsZXIoZSl7Y29uc3QgdD1lLmdyYXBoaWMudWlkLGk9dGhpcy5ncmFwaGljczNER3JhcGhpY3MuZ2V0KHQpO2lmKG51bGwhPWl8fG51bGwhPXRoaXMuX2dyYXBoaWNzV2l0aG91dFN5bWJvbC5nZXQodCkpe3N3aXRjaChlLnByb3BlcnR5KXtjYXNlXCJ2aXNpYmxlXCI6dGhpcy5fZ3JhcGhpY1VwZGF0ZVZpc2libGVIYW5kbGVyKGkpO2JyZWFrO2Nhc2VcImdlb21ldHJ5XCI6dGhpcy5fZ3JhcGhpY1VwZGF0ZUdlb21ldHJ5SGFuZGxlcihpLGUpO2JyZWFrO2Nhc2VcInN5bWJvbFwiOnRoaXMuX2dyYXBoaWNVcGRhdGVTeW1ib2xIYW5kbGVyKGksZSk7YnJlYWs7Y2FzZVwiYXR0cmlidXRlc1wiOmNhc2VcInBvcHVwVGVtcGxhdGVcIjpicmVhaztjYXNlXCJvcmlnaW4tdHJhbnNmb3JtXCI6dGhpcy5fZ3JhcGhpY1VwZGF0ZVRyYW5zZm9ybUhhbmRsZXIoaSxlKX10aGlzLm93bmVyLm5vdGlmeUNvbnRlbnRHZW9tZXRyeVVwZGF0ZT8uKCl9fV9ncmFwaGljVXBkYXRlR2VvbWV0cnlIYW5kbGVyKGUsdCl7dGhpcy5fZ3JhcGhpY1VwZGF0ZUdlb21ldHJ5T3JUcmFuc2Zvcm1IYW5kbGVyKGUsdCwoKCk9PiEobnVsbD09dC5uZXdWYWx1ZXx8bnVsbD09ZXx8IWUuZ3JhcGhpY3MzRFN5bWJvbC51cGRhdGVHZW9tZXRyeShlLHQubmV3VmFsdWUpfHwhKHRoaXMuX2xhYmVsZXI/LnVwZGF0ZUdyYXBoaWNHZW9tZXRyeShlKT8/MSkpJiYodGhpcy5fbGFiZWxlcj8uc2V0RGlydHkoKSwhMCkpKTtjb25zdCBpPXQuZ3JhcGhpYy5nZW9tZXRyeTtudWxsIT1pJiZ0aGlzLl9leHBhbmRDb21wdXRlZEV4dGVudChpKX1fZ3JhcGhpY1VwZGF0ZVRyYW5zZm9ybUhhbmRsZXIoZSx0KXtjb25zdCBpPXQuZ3JhcGhpYy5nZW9tZXRyeTt0aGlzLl9ncmFwaGljVXBkYXRlR2VvbWV0cnlPclRyYW5zZm9ybUhhbmRsZXIoZSx0LCgoKT0+bnVsbCE9dC5uZXdWYWx1ZSYmbnVsbCE9ZSYmbnVsbCE9aSYmZS5ncmFwaGljczNEU3ltYm9sLnVwZGF0ZVRyYW5zZm9ybShlLGkuc3BhdGlhbFJlZmVyZW5jZSx0Lm5ld1ZhbHVlLHQuYWN0aW9uKSkpfV9ncmFwaGljVXBkYXRlR2VvbWV0cnlPclRyYW5zZm9ybUhhbmRsZXIoZSx0LGkpe2lmKG51bGwhPXQuZ3JhcGhpYy5nZW9tZXRyeSlpZihudWxsIT1lKWkoKXx8dGhpcy5fcmVjcmVhdGVHcmFwaGljKGUuZ3JhcGhpYyk7ZWxzZXtjb25zdCBlPXQuZ3JhcGhpYy5zeW1ib2w/LmlkO2lmKGUpe2NvbnN0IHQ9dGhpcy5fc3ltYm9scy5nZXQoZSk7aWYobnVsbCE9dCYmdC5sb2FkU3RhdHVzPT09d2UuTE9BRElORylyZXR1cm59dGhpcy5fcmVjcmVhdGVHcmFwaGljKHQuZ3JhcGhpYyl9ZWxzZSB0aGlzLl9yZWNyZWF0ZUdyYXBoaWModC5ncmFwaGljKX1fZ3JhcGhpY1VwZGF0ZVN5bWJvbEhhbmRsZXIoZSx0KXtjb25zdCBpPXQuZ3JhcGhpYyxyPW51bGwhPWU/ZS5ncmFwaGljczNEU3ltYm9sOm51bGwhPXQub2xkVmFsdWU/dGhpcy5fc3ltYm9scy5nZXQodC5vbGRWYWx1ZS5pZCk6bnVsbDtpZihudWxsPT1yfHxudWxsPT10Lm5ld1ZhbHVlKXJldHVybiB2b2lkIHRoaXMuX3JlY3JlYXRlR3JhcGhpYyhpKTtjb25zdCBzPXIuc3ltYm9sLGE9dGhpcy5fZ2V0Q29udmVydGVkU3ltYm9sKHQubmV3VmFsdWUpO2lmKG51bGwhPWEmJihhLnR5cGUhPT1zLnR5cGV8fFwid2ViLXN0eWxlXCI9PT1hLnR5cGUpfHxcIndlYi1zdHlsZVwiPT09cy50eXBlKXJldHVybiB2b2lkIHRoaXMuX3JlY3JlYXRlR3JhcGhpYyhpKTtjb25zdCBuPXRoaXMuX2dyYXBoaWNzQnlTeW1ib2wuZ2V0KHMuaWQpO2lmKG4mJjEhPT1uLnNpemUpcmV0dXJuIHZvaWQgdGhpcy5fcmVjcmVhdGVHcmFwaGljKGkpO2NvbnN0IG89eChzLGEpO2lmKG51bGw9PW8pcmV0dXJuIHZvaWQgdGhpcy5fdXBkYXRlU3ltYm9sTWFwcGluZyhzLmlkLGEpO2NvbnN0IGw9e2RpZmY6byxncmFwaGljczNER3JhcGhpY1BhdGNoZXM6W10sc3ltYm9sU3RhdGVQYXRjaGVzOltdfTtpZihyLnByZXBhcmVTeW1ib2xQYXRjaChsKSwhUChsLmRpZmYpKXJldHVybiB2b2lkIHRoaXMuX3JlY3JlYXRlR3JhcGhpYyhpKTtjb25zdCBoPXRoaXMuX2dldFJlbmRlcmluZ0luZm8oaSwhMSk7aWYobnVsbD09aClyZXR1cm4gdm9pZCB0aGlzLl9yZWNyZWF0ZUdyYXBoaWMoaSk7Y29uc3QgZD1yLmV4dGVudFBhZGRpbmc7Zm9yKGNvbnN0IHAgb2YgbC5zeW1ib2xTdGF0ZVBhdGNoZXMpcCgpO2lmKGQhPT1yLmV4dGVudFBhZGRpbmcmJnRoaXMuX3JlY29tcHV0ZUV4dGVudFBhZGRpbmcoKSxudWxsIT1lKWZvcihjb25zdCBwIG9mIGwuZ3JhcGhpY3MzREdyYXBoaWNQYXRjaGVzKXAoZSxoKTt0aGlzLl91cGRhdGVTeW1ib2xNYXBwaW5nKHMuaWQsYSl9X2dyYXBoaWNVcGRhdGVWaXNpYmxlSGFuZGxlcihlKXt0aGlzLl91cGRhdGVVc2VyVmlzaWJpbGl0eShlKSYmKHRoaXMuX2xhYmVsZXI/LnNldERpcnR5KCksdGhpcy5fZGVjb25mbGljdG9yPy5zZXREaXJ0eSgpKX1yZWNyZWF0ZUdyYXBoaWNzKGUpe3RoaXMuX3N1c3BlbmRTeW1ib2xDbGVhbnVwPSEwLHRoaXMucmVtb3ZlKGUpLHRoaXMuYWRkKGUpLHRoaXMuX3N1c3BlbmRTeW1ib2xDbGVhbnVwPSExLHRoaXMuZWZmZWN0aXZlVXBkYXRlUG9saWN5PT09RWUuU1lOQyYmdGhpcy5fY2xlYW51cFN5bWJvbHMoKX1fcmVjcmVhdGVHcmFwaGljKGUpe3RoaXMucmVjcmVhdGVHcmFwaGljcyhbZV0pfV9iZWdpbkdyYXBoaWNVcGRhdGUoZSl7Y29uc3QgdD10aGlzLl9ncmFwaGljc1VwZGF0ZUlkO3JldHVybiB0aGlzLl9ncmFwaGljc1VwZGF0ZUlkKyssdGhpcy5fZ3JhcGhpY3NXYWl0aW5nRm9yU3ltYm9sLnNldChlLnVpZCx0KSwxPT09dGhpcy5fZ3JhcGhpY3NXYWl0aW5nRm9yU3ltYm9sLnNpemUmJnRoaXMubm90aWZ5Q2hhbmdlKFwiZGF0YVVwZGF0aW5nXCIpLHR9X2VuZEdyYXBoaWNVcGRhdGUoZSx0KXtlJiYodCYmdGhpcy5fZ3JhcGhpY1N0YXRlVHJhY2tpbmc/LnVwZGF0ZUdyYXBoaWNFcnJvcihlLHQpLHRoaXMuX2dyYXBoaWNzV2FpdGluZ0ZvclN5bWJvbC5kZWxldGUoZS51aWQpLDA9PT10aGlzLl9ncmFwaGljc1dhaXRpbmdGb3JTeW1ib2wuc2l6ZSYmKHRoaXMuX2NsZWFudXBTeW1ib2xzKCksdGhpcy5ub3RpZnlDaGFuZ2UoXCJkYXRhVXBkYXRpbmdcIikpKX1fcmVjb21wdXRlRXh0ZW50UGFkZGluZygpe2xldCBlPTA7dGhpcy5fc3ltYm9scy5mb3JFYWNoKCh0PT57bnVsbCE9dCYmKGU9TWF0aC5tYXgoZSx0LmV4dGVudFBhZGRpbmcpKX0pKSx0aGlzLl9zZXQoXCJleHRlbnRQYWRkaW5nXCIsZSl9X2V4cGFuZENvbXB1dGVkRXh0ZW50KGUpe2NvbnN0IHQ9V2UsaT1lLnNwYXRpYWxSZWZlcmVuY2U7QihlLHQpO2NvbnN0IHI9dGhpcy5fdmlld1NwYXRpYWxSZWZlcmVuY2Uscz1rZS50bXBWZWM7aWYoVyhpLHIpfHxWKHRbMF0sdFsxXSwwLGkscyxyKSYmKHRbMF09c1swXSx0WzFdPXNbMV0sVih0WzNdLHRbNF0sMCxpLHMsciksdFszXT1zWzBdLHRbNF09c1sxXSksIShpc0Zpbml0ZSh0WzBdKSYmaXNGaW5pdGUodFszXSkmJmlzRmluaXRlKHRbMV0pJiZpc0Zpbml0ZSh0WzRdKSkpcmV0dXJuO2NvbnN0IGE9dGhpcy5jb21wdXRlZEV4dGVudDtsZXQgbj1udWxsO2NvbnN0IG89aXNGaW5pdGUodFsyXSkmJmlzRmluaXRlKHRbNV0pLGw9byYmKG51bGw9PWE/LnptaW58fHRbMl08YS56bWluKSxoPW8mJihudWxsPT1hPy56bWF4fHx0WzVdPmEuem1heCk7aWYoYSl7KHRbMF08YS54bWlufHx0WzFdPGEueW1pbnx8dFszXT5hLnhtYXh8fHRbNF0+YS55bWF4fHxsfHxoKSYmKG49dGhpcy5fcHJvcGVydGllc1Bvb2wuZ2V0KFwiY29tcHV0ZWRFeHRlbnRcIiksbi54bWluPU1hdGgubWluKHRbMF0sYS54bWluKSxuLnltaW49TWF0aC5taW4odFsxXSxhLnltaW4pLG4ueG1heD1NYXRoLm1heCh0WzNdLGEueG1heCksbi55bWF4PU1hdGgubWF4KHRbNF0sYS55bWF4KSxuLnNwYXRpYWxSZWZlcmVuY2U9cil9ZWxzZSBuPXRoaXMuX3Byb3BlcnRpZXNQb29sLmdldChcImNvbXB1dGVkRXh0ZW50XCIpLG4ueG1pbj10WzBdLG4ueW1pbj10WzFdLG4ueG1heD10WzNdLG4ueW1heD10WzRdLG4uc3BhdGlhbFJlZmVyZW5jZT1yO24mJihsJiYobi56bWluPXRbMl0pLGgmJihuLnptYXg9dFs1XSksdGhpcy5fc2V0KFwiY29tcHV0ZWRFeHRlbnRcIixuKSl9X2Fib3J0RWxldmF0aW9uSW5mb0NoYW5nZSgpe3RoaXMuX2VsZXZhdGlvbkluZm9DaGFuZ2VBYm9ydENvbnRyb2xsZXImJih0aGlzLl9lbGV2YXRpb25JbmZvQ2hhbmdlQWJvcnRDb250cm9sbGVyLmFib3J0KCksdGhpcy5fZWxldmF0aW9uSW5mb0NoYW5nZUFib3J0Q29udHJvbGxlcj1udWxsKX1hc3luYyBlbGV2YXRpb25JbmZvQ2hhbmdlKCl7dGhpcy5fYWJvcnRFbGV2YXRpb25JbmZvQ2hhbmdlKCk7Y29uc3QgZT1uZXcgQWJvcnRDb250cm9sbGVyO3RoaXMuX2VsZXZhdGlvbkluZm9DaGFuZ2VBYm9ydENvbnRyb2xsZXI9ZTtjb25zdCB0PWNlKHRoaXMubGF5ZXIuZWxldmF0aW9uSW5mbyx0aGlzLmVsZXZhdGlvbkZlYXR1cmVFeHByZXNzaW9uRW5hYmxlZCk7dGhpcy5zeW1ib2xDcmVhdGlvbkNvbnRleHQuZmVhdHVyZUV4cHJlc3Npb25JbmZvQ29udGV4dD1hd2FpdCB5ZSh0LHRoaXMuX3ZpZXdTcGF0aWFsUmVmZXJlbmNlLGUuc2lnbmFsLGEuZ2V0TG9nZ2VyKHRoaXMpKSx5KGUuc2lnbmFsKSx0aGlzLl9lbGV2YXRpb25JbmZvQ2hhbmdlQWJvcnRDb250cm9sbGVyPW51bGwsdGhpcy5fbGFiZWxlcj8uZWxldmF0aW9uSW5mb0NoYW5nZSgpLHRoaXMuZm9yRWFjaEdyYXBoaWNzM0RTeW1ib2woKChlLHQsaSk9PntlLmdsb2JhbFByb3BlcnR5Q2hhbmdlZChcImVsZXZhdGlvbkluZm9cIix0KT90Py5mb3JFYWNoKChlPT57Y29uc3QgdD1lLmdyYXBoaWMsaT1lLmxhYmVsTGF5ZXJzO2Zvcihjb25zdCByIG9mIGkpe3IuZ3JhcGhpY3MzRFN5bWJvbExheWVyLnVwZGF0ZUdyYXBoaWNFbGV2YXRpb25Db250ZXh0KHQscil9fSkpOnRoaXMuX3JlY3JlYXRlU3ltYm9sKGkpfSkpLHRoaXMudXBkYXRlU3RhZ2VMYXllckVsZXZhdGlvblByb3ZpZGVyKCksdGhpcy5fZWxldmF0aW9uQWxpZ25tZW50Py5lbGV2YXRpb25JbmZvQ2hhbmdlKCl9dXBkYXRlU3RhZ2VMYXllckVsZXZhdGlvblByb3ZpZGVyKCl7dGhpcy5fc3RhZ2VMYXllckVsZXZhdGlvblByb3ZpZGVyPyh0aGlzLmxheWVyLmVsZXZhdGlvbkluZm8mJlwicmVsYXRpdmUtdG8tc2NlbmVcIj09PXRoaXMubGF5ZXIuZWxldmF0aW9uSW5mby5tb2RlfHwwPT09dGhpcy5fbnVtYmVyT2ZHcmFwaGljc1Byb3ZpZGluZ0VsZXZhdGlvbikmJih0aGlzLm93bmVyLnZpZXcuZWxldmF0aW9uUHJvdmlkZXIudW5yZWdpc3Rlcih0aGlzLl9zdGFnZUxheWVyRWxldmF0aW9uUHJvdmlkZXIpLHRoaXMuX3N0YWdlTGF5ZXJFbGV2YXRpb25Qcm92aWRlcj1kKHRoaXMuX3N0YWdlTGF5ZXJFbGV2YXRpb25Qcm92aWRlcikpOighdGhpcy5sYXllci5lbGV2YXRpb25JbmZvfHx0aGlzLmxheWVyLmVsZXZhdGlvbkluZm8mJlwicmVsYXRpdmUtdG8tc2NlbmVcIiE9PXRoaXMubGF5ZXIuZWxldmF0aW9uSW5mby5tb2RlKSYmdGhpcy5fbnVtYmVyT2ZHcmFwaGljc1Byb3ZpZGluZ0VsZXZhdGlvbj4wJiYodGhpcy5fc3RhZ2VMYXllckVsZXZhdGlvblByb3ZpZGVyPW5ldyBQZSh7bGF5ZXI6dGhpcy5sYXllcixzdGFnZUxheWVyOnRoaXMuc3RhZ2VMYXllcix2aWV3OnRoaXMub3duZXIudmlld30pLHRoaXMub3duZXIudmlldy5lbGV2YXRpb25Qcm92aWRlci5yZWdpc3RlcihcInNjZW5lXCIsdGhpcy5fc3RhZ2VMYXllckVsZXZhdGlvblByb3ZpZGVyKSl9X2NsZWFyU3ltYm9sc0FuZEdyYXBoaWNzKCl7dGhpcy5jbGVhcigpLG51bGwhPXRoaXMuX2ZpbHRlclZpc2liaWxpdHkmJnRoaXMuX2ZpbHRlclZpc2liaWxpdHkuY2xlYXIoKSx0aGlzLl9sYWJlbGVyPy5yZXNldCgpLHRoaXMuX2RlY29uZmxpY3Rvcj8uY2xlYXIoKSx0aGlzLl9lbGV2YXRpb25BbGlnbm1lbnQ/LmNsZWFyKCksdGhpcy5zdGFnZUxheWVyPy5pbnZhbGlkYXRlU3BhdGlhbFF1ZXJ5QWNjZWxlcmF0b3IoKSx0aGlzLl9zdGFnZUxheWVyRWxldmF0aW9uUHJvdmlkZXImJih0aGlzLm93bmVyLnZpZXcuZWxldmF0aW9uUHJvdmlkZXIudW5yZWdpc3Rlcih0aGlzLl9zdGFnZUxheWVyRWxldmF0aW9uUHJvdmlkZXIpLHRoaXMuX3N0YWdlTGF5ZXJFbGV2YXRpb25Qcm92aWRlcj1kKHRoaXMuX3N0YWdlTGF5ZXJFbGV2YXRpb25Qcm92aWRlcikpfXN0YXJ0Q3JlYXRlR3JhcGhpY3MoKXt0aGlzLl9zdGFydENyZWF0ZUdyYXBoaWNzPSEwLHRoaXMucmVjcmVhdGVBbGxHcmFwaGljcygpfXJlY3JlYXRlQWxsR3JhcGhpY3MoKXt0aGlzLl9yZWNyZWF0ZUFsbEdyYXBoaWNzKCExKX1yZWNyZWF0ZUFsbEdyYXBoaWNzQW5kU3ltYm9scygpe3RoaXMuX3JlY3JlYXRlQWxsR3JhcGhpY3MoITApfV9yZWNyZWF0ZUFsbEdyYXBoaWNzKGU9ITEpe2lmKCF0aGlzLl9zdGFydENyZWF0ZUdyYXBoaWNzKXJldHVybjtjb25zdHtsb2FkZWRHcmFwaGljczp0LHZpZXc6aX09dGhpcy5vd25lcixyPWkuYmFzZW1hcFRlcnJhaW4/LnRpbGluZ1NjaGVtZSYmdD8ubGVuZ3RoP3QudG9BcnJheSgpOm51bGw7IWUmJnJ8fHRoaXMuX2NsZWFyU3ltYm9sc0FuZEdyYXBoaWNzKCksdGhpcy5zeW1ib2xDcmVhdGlvbkNvbnRleHQuc2NyZWVuU2l6ZVBlcnNwZWN0aXZlRW5hYmxlZD10aGlzLm93bmVyLnZpZXcuc2NyZWVuU2l6ZVBlcnNwZWN0aXZlRW5hYmxlZCYmISF0aGlzLmxheWVyLnNjcmVlblNpemVQZXJzcGVjdGl2ZUVuYWJsZWQsdGhpcy5zeW1ib2xDcmVhdGlvbkNvbnRleHQuc2xpY2VQbGFuZUVuYWJsZWQ9ISF0aGlzLm93bmVyLnNsaWNlUGxhbmVFbmFibGVkLHRoaXMuX3NldChcImNvbXB1dGVkRXh0ZW50XCIsbnVsbCksciYmKGU/dGhpcy5hZGQocik6dGhpcy5yZWNyZWF0ZUdyYXBoaWNzKHIpKX1fcmVjcmVhdGVTeW1ib2woZSl7Y29uc3QgdD10aGlzLl9ncmFwaGljc0J5U3ltYm9sLmdldChlKSxpPVtdO3QmJih0LmZvckVhY2goKChlLHQpPT57Y29uc3Qgcj1lLnVzZWRNZW1vcnk7dGhpcy5fY29uZGl0aW9uYWxSZW1vdmUoZSx0KSx0aGlzLl9zcGF0aWFsSW5kZXg/LnJlbW92ZShlKSxpLnB1c2goZS5ncmFwaGljKSxlLmRlc3Ryb3koKSx0aGlzLl9yZW1vdmVHcmFwaGljczNER3JhcGhpYyh0LHIpLHRoaXMuX3VwZGF0ZUxheWVyVmlzaWJpbGl0eSgpLHRoaXMuX2ZlYXR1cmVTdG9yZS5ldmVudHMuZW1pdChcImNoYW5nZWRcIiksdGhpcy5vd25lci5ub3RpZnlDb250ZW50R2VvbWV0cnlVcGRhdGU/LigpfSkpLHRoaXMuX2dyYXBoaWNzQnlTeW1ib2wuc2V0KGUsbmV3IE1hcCkpO2NvbnN0IHI9dGhpcy5fc3ltYm9scy5nZXQoZSk7aChyKSx0aGlzLl9zeW1ib2xzLmRlbGV0ZShlKSx0aGlzLl9zeW1ib2xNYXRlcmlhbHM9bnVsbCxoKHRoaXMuX3VudXNlZFN5bWJvbHNDYWNoZS5wb3AoZSkpLHRoaXMuYWRkKGkpfV9yZWNyZWF0ZUdyYXBoaWNzRm9yU3ltYm9sKGUpe2NvbnN0IHQ9dGhpcy5fZ3JhcGhpY3NCeVN5bWJvbC5nZXQoZSk7aWYodCl7Y29uc3QgZT1bXTt0LmZvckVhY2goKHQ9PmUucHVzaCh0LmdyYXBoaWMpKSksdGhpcy5yZWNyZWF0ZUdyYXBoaWNzKGUpfX1fY29uZGl0aW9uYWxSZW1vdmUoZSx0KXt0aGlzLl9ncmFwaGljc0RyYXBlZFVpZHMuZGVsZXRlKHQpLHRoaXMuX29iamVjdFN0YXRlcz8ucmVtb3ZlR3JhcGhpYyhlKSx0aGlzLl9sYWJlbGVyPy5yZW1vdmVHcmFwaGljKGUpLHRoaXMuX2RlY29uZmxpY3Rvcj8ucmVtb3ZlR3JhcGhpYyhlKSxudWxsIT10aGlzLl9ncmFwaGljU3RhdGVUcmFja2luZyYmdGhpcy5fZ3JhcGhpY1N0YXRlVHJhY2tpbmcucmVtb3ZlR3JhcGhpYyhlKX1hZGQoZSl7ZSYmMCE9PWUubGVuZ3RoJiYodGhpcy5vd25lci52aWV3LmJhc2VtYXBUZXJyYWluPy50aWxpbmdTY2hlbWU/KHRoaXMuX3VwZGF0ZVBvbGljeUZvckdyYXBoaWNzKGUpPT09RWUuQVNZTkM/dGhpcy5fYWRkRGVsYXllZChlKTp0aGlzLl9hZGRJbW1lZGlhdGUoZSksdGhpcy5ub3RpZnlDaGFuZ2UoXCJkYXRhVXBkYXRpbmdcIikpOmEuZ2V0TG9nZ2VyKHRoaXMpLmVycm9yKFwiI2FkZCgpXCIsXCJDYW5ub3QgYWRkIGdyYXBoaWNzIGJlZm9yZSB0ZXJyYWluIHN1cmZhY2UgaGFzIGJlZW4gaW5pdGlhbGl6ZWRcIikpfV91cGRhdGVQb2xpY3lGb3JHcmFwaGljcyhlKXtpZih0aGlzLmVmZmVjdGl2ZVVwZGF0ZVBvbGljeT09PUVlLlNZTkMmJihcIm1lc2hcIj09PXRoaXMubGF5ZXIuZ2VvbWV0cnlUeXBlfHxudWxsPT10aGlzLmxheWVyLmdlb21ldHJ5VHlwZSkpZm9yKGNvbnN0IHQgb2YgZSlpZihudWxsIT10Lmdlb21ldHJ5JiZcIm1lc2hcIj09PXQuZ2VvbWV0cnkudHlwZSYmIXQuZ2VvbWV0cnkubG9hZGVkKXJldHVybiBFZS5BU1lOQztyZXR1cm4gdGhpcy5lZmZlY3RpdmVVcGRhdGVQb2xpY3l9X2FkZEltbWVkaWF0ZShlKXt0aGlzLl9nZW9tZXRyeVdhcm5pbmdMb2dnZWQ9ITEsdGhpcy5fc3ltYm9sV2FybmluZ0xvZ2dlZD0hMTtmb3IoY29uc3QgdCBvZiBlKXRoaXMuX2FkZEdyYXBoaWModCx0aGlzLl9nZXRSZW5kZXJpbmdJbmZvKHQpLEVlLlNZTkMpO3RoaXMuX2NsZWFudXBTeW1ib2xzKCksdGhpcy5fbGFiZWxlcj8uc2V0RGlydHkoKSx0aGlzLl9kZWNvbmZsaWN0b3I/LnNldERpcnR5KCl9X2FkZERlbGF5ZWQoZSl7Zm9yKGNvbnN0IHQgb2YgZSl7Y29uc3QgZT10LnVpZDtsZXQgaT10aGlzLl9wZW5kaW5nVXBkYXRlcy5nZXQoZSk7aT9pLmFkZD9pLnN0YXRlIT09TmUuTkVXJiZpLmFib3J0Q29udHJvbGxlcj8uYWJvcnQoKTp0aGlzLl9wZW5kaW5nQWRkcysrOihpPXRoaXMuX3BlbmRpbmdVcGRhdGVzUG9vbC5wdXNoTmV3KCksdGhpcy5fcGVuZGluZ0FkZHMrKyx0aGlzLl9wZW5kaW5nVXBkYXRlcy5zZXQoZSxpKSksaS5hZGQ9dH10aGlzLm5vdGlmeUNoYW5nZShcInJ1bm5pbmdcIiksdGhpcy5ub3RpZnlDaGFuZ2UoXCJ1cGRhdGluZ1JlbWFpbmluZ1wiKSx0aGlzLm5vdGlmeUNoYW5nZShcImRhdGFVcGRhdGluZ1wiKX1yZW1vdmUoZSl7dGhpcy5lZmZlY3RpdmVVcGRhdGVQb2xpY3k9PT1FZS5BU1lOQz90aGlzLl9yZW1vdmVEZWxheWVkKGUpOnRoaXMuX3JlbW92ZUltbWVkaWF0ZShlKSx0aGlzLm5vdGlmeUNoYW5nZShcImRhdGFVcGRhdGluZ1wiKX1fcmVtb3ZlSW1tZWRpYXRlKGUpe2Zvcihjb25zdCB0IG9mIGUpdGhpcy5fcmVtb3ZlR3JhcGhpYyh0KTt0aGlzLl9jbGVhbnVwU3ltYm9scygpLHRoaXMuX2xhYmVsZXI/LnNldERpcnR5KCksdGhpcy5fZGVjb25mbGljdG9yPy5zZXREaXJ0eSgpfV9yZW1vdmVEZWxheWVkKGUpe2Zvcihjb25zdCB0IG9mIGUpe2NvbnN0IGU9dC51aWQsaT10aGlzLl9wZW5kaW5nVXBkYXRlcy5nZXQoZSk7aWYoaSlpLmFkZCYmKGkucmVtb3ZlP2kuYWRkPW51bGw6dGhpcy5fcGVuZGluZ1VwZGF0ZXMuZGVsZXRlKGUpLGkuc3RhdGU9PT1OZS5MT0FESU5HJiZpLmFib3J0Q29udHJvbGxlcj8uYWJvcnQoKSx0aGlzLl9wZW5kaW5nQWRkcy0tKTtlbHNle2NvbnN0IGk9dGhpcy5fcGVuZGluZ1VwZGF0ZXNQb29sLnB1c2hOZXcoKTtpLnJlbW92ZT10LHRoaXMuX3BlbmRpbmdVcGRhdGVzLnNldChlLGkpLHRoaXMuX3BlbmRpbmdSZW1vdmVzKyssdGhpcy5fYXBwbHlQZW5kaW5nUmVtb3Zlc0ZpcnN0PSEwfX0wPT09dGhpcy5fcGVuZGluZ1VwZGF0ZXMuc2l6ZSYmdGhpcy5fZmluaXNoUGVuZGluZ1VwZGF0ZXMoKSx0aGlzLm5vdGlmeUNoYW5nZShcInJ1bm5pbmdcIiksdGhpcy5ub3RpZnlDaGFuZ2UoXCJ1cGRhdGluZ1JlbWFpbmluZ1wiKSx0aGlzLm5vdGlmeUNoYW5nZShcImRhdGFVcGRhdGluZ1wiKX1fZmluaXNoUGVuZGluZ1VwZGF0ZXMoKXt0aGlzLl9wZW5kaW5nVXBkYXRlc1Bvb2wuY2xlYXIoKSx0aGlzLl9jbGVhbnVwU3ltYm9scygpLCh0aGlzLl9wZW5kaW5nQWRkc3x8dGhpcy5fcGVuZGluZ1JlbW92ZXMpJiZhLmdldExvZ2dlcih0aGlzKS53YXJuKFwicGVuZGluZ0FkZHMvUmVtb3ZlcyBpbiBpbmNvbnNpc3RlbnQgc3RhdGUhXCIpLHRoaXMuX3BlbmRpbmdBZGRzPTAsdGhpcy5fcGVuZGluZ1JlbW92ZXM9MCx0aGlzLl9hcHBseVBlbmRpbmdSZW1vdmVzRmlyc3Q9ITF9X2FwcGx5UGVuZGluZ1VwZGF0ZXMoZSl7aWYodGhpcy5fZ2VvbWV0cnlXYXJuaW5nTG9nZ2VkPSExLHRoaXMuX3N5bWJvbFdhcm5pbmdMb2dnZWQ9ITEsMD09PXRoaXMuX3BlbmRpbmdVcGRhdGVzLnNpemUmJnRoaXMuX3NwYXRpYWxJbmRleD8udXBkYXRpbmcpcmV0dXJuIHRoaXMuX3NwYXRpYWxJbmRleC51cGRhdGUoKSx2b2lkIGUubWFkZVByb2dyZXNzKCk7aWYodGhpcy5fYXBwbHlQZW5kaW5nUmVtb3Zlc0ZpcnN0KXt0aGlzLl9hcHBseVBlbmRpbmdSZW1vdmVzRmlyc3Q9ITE7Zm9yKGNvbnN0W3QsaV1vZiB0aGlzLl9wZW5kaW5nVXBkYXRlcyl7aWYoZS5kb25lKXt0aGlzLl9hcHBseVBlbmRpbmdSZW1vdmVzRmlyc3Q9ITA7YnJlYWt9aWYoaS5yZW1vdmUmJiFpLmFkZCYmKHRoaXMuX3BlbmRpbmdSZW1vdmVzLS0sZS5tYWRlUHJvZ3Jlc3MoKSx0aGlzLl9yZW1vdmVHcmFwaGljKGkucmVtb3ZlKSxpLnJlbW92ZT1udWxsLHRoaXMuX3BlbmRpbmdVcGRhdGVzLmRlbGV0ZSh0KSwwPT09dGhpcy5fcGVuZGluZ1JlbW92ZXMpKWJyZWFrfX1mb3IoY29uc3RbdCxpXW9mIHRoaXMuX3BlbmRpbmdVcGRhdGVzKXtpZihlLmRvbmUpYnJlYWs7aS5hZGQmJmkuc3RhdGU9PT1OZS5ORVcmJnRoaXMuX3Byb2Nlc3NQZW5kaW5nVXBkYXRlTmV3KGkpO2xldCByPXRoaXMuZWZmZWN0aXZlVXBkYXRlUG9saWN5O2lmKCFpLnJlbW92ZXx8aS5hZGQmJmkuc3RhdGUhPT1OZS5SRUFEWXx8KHRoaXMuX3BlbmRpbmdSZW1vdmVzLS0sZS5tYWRlUHJvZ3Jlc3MoKSx0aGlzLl9yZW1vdmVHcmFwaGljKGkucmVtb3ZlKSxpLnJlbW92ZT1udWxsLHI9RWUuU1lOQyksaS5hZGQpc3dpdGNoKGkuc3RhdGUpe2Nhc2UgTmUuUkVBRFk6dGhpcy5fYWRkR3JhcGhpYyhpLmFkZCxpLnJlbmRlcmluZ0luZm8sciksaS5hZGQ9bnVsbCx0aGlzLl9wZW5kaW5nQWRkcy0tLGUubWFkZVByb2dyZXNzKCk7YnJlYWs7Y2FzZSBOZS5SRUpFQ1RFRDppLmFkZD1udWxsLHRoaXMuX3BlbmRpbmdBZGRzLS07Y2FzZSBOZS5MT0FESU5HOn1udWxsPT1pLnJlbW92ZSYmbnVsbD09aS5hZGQmJnRoaXMuX3BlbmRpbmdVcGRhdGVzLmRlbGV0ZSh0KX0wPT09dGhpcy5fcGVuZGluZ1VwZGF0ZXMuc2l6ZSYmKHRoaXMuX2ZpbmlzaFBlbmRpbmdVcGRhdGVzKCksdGhpcy5ub3RpZnlDaGFuZ2UoXCJydW5uaW5nXCIpLHRoaXMubm90aWZ5Q2hhbmdlKFwiZGF0YVVwZGF0aW5nXCIpKX1fcHJvY2Vzc1BlbmRpbmdVcGRhdGVOZXcoZSl7aWYoIWUuYWRkKXJldHVybiB2b2lkKGUuc3RhdGU9TmUuUkVBRFkpO2NvbnN0IHQ9ZS5hZGQuZ2VvbWV0cnk7bnVsbD09dHx8XCJtZXNoXCIhPT10LnR5cGV8fHQubG9hZGVkP3RoaXMuX3Byb2Nlc3NQZW5kaW5nVXBkYXRlTmV3UmVuZGVyaW5nSW5mbyhlKTp0aGlzLl9wcm9jZXNzUGVuZGluZ1VwZGF0ZU5ld01lc2goZSx0KX1hc3luYyBfcHJvY2Vzc1BlbmRpbmdVcGRhdGVOZXdNZXNoKGUsdCl7ZS5zdGF0ZT1OZS5MT0FESU5HLGUuYWJvcnRDb250cm9sbGVyPW5ldyBBYm9ydENvbnRyb2xsZXI7Y29uc3QgaT1lLmFib3J0Q29udHJvbGxlci5zaWduYWw7dHJ5e2F3YWl0IHQubG9hZCh7c2lnbmFsOml9KX1jYXRjaChyKXtyZXR1cm4gdGhpcy5fcHJvY2Vzc1BlbmRpbmdVcGRhdGVOZXdFcnJvcihlLHIpfWUuYWJvcnRDb250cm9sbGVyPW51bGwsdGhpcy5fcHJvY2Vzc1BlbmRpbmdVcGRhdGVOZXdSZW5kZXJpbmdJbmZvKGUpfV9wcm9jZXNzUGVuZGluZ1VwZGF0ZU5ld0Vycm9yKGUsdCl7ZS5hYm9ydENvbnRyb2xsZXI9bnVsbCxtKHQpP2Uuc3RhdGU9TmUuTkVXOmUuc3RhdGU9TmUuUkVKRUNURUR9YXN5bmMgX3Byb2Nlc3NQZW5kaW5nVXBkYXRlTmV3UmVuZGVyaW5nSW5mbyhlKXtpZihudWxsPT10aGlzLmxheWVyLnJlbmRlcmVyfHxcImRpY3Rpb25hcnlcIiE9PXRoaXMubGF5ZXIucmVuZGVyZXIudHlwZSlyZXR1cm4gZS5yZW5kZXJpbmdJbmZvPXRoaXMuX2dldFJlbmRlcmluZ0luZm8oZS5hZGQpLHZvaWQoZS5zdGF0ZT1OZS5SRUFEWSk7ZS5zdGF0ZT1OZS5MT0FESU5HLGUuYWJvcnRDb250cm9sbGVyPW5ldyBBYm9ydENvbnRyb2xsZXI7bGV0IHQ9bnVsbDt0cnl7dD1hd2FpdCB0aGlzLl9nZXRSZW5kZXJpbmdJbmZvQXN5bmMoZS5hZGQse3NpZ25hbDplLmFib3J0Q29udHJvbGxlci5zaWduYWx9KX1jYXRjaChpKXtyZXR1cm4gZS5hYm9ydENvbnRyb2xsZXI9bnVsbCx2b2lkKG0oaSk/ZS5zdGF0ZT1OZS5ORVc6ZS5zdGF0ZT1OZS5SRUpFQ1RFRCl9bnVsbD09dD8uc3ltYm9sPyh0aGlzLl9zeW1ib2xXYXJuaW5nTG9nZ2VkfHwodGhpcy5fc3ltYm9sV2FybmluZ0xvZ2dlZD0hMCxhLmdldExvZ2dlcih0aGlzKS53YXJuKGBHcmFwaGljIGluIGxheWVyICR7dGhpcy5sYXllci5pZH0gaGFzIG5vIHN5bWJvbCBhbmQgd2lsbCBub3QgcmVuZGVyYCkpLGUucmVuZGVyaW5nSW5mbz1udWxsKTplLnJlbmRlcmluZ0luZm89dCxlLnN0YXRlPU5lLlJFQURZfV9hZGRHcmFwaGljKGUsdCxpKXtpZih0aGlzLl9ncmFwaGljc1dpdGhvdXRTeW1ib2wuc2V0KGUudWlkLGUpLG51bGw9PXQ/LnN5bWJvbHx8IXEoZSkpcmV0dXJuO2NvbnN0IHI9dGhpcy5zdGFnZS5yZW5kZXJWaWV3Lm9saWRSZW5kZXJIZWxwZXI7aWYociYmdGhpcy5zZXRVaWRUb0lkT25BZGQpe2NvbnN0IHQ9Syh0aGlzLm93bmVyLnZpZXcsdGhpcy5vd25lci5sYXllclZpZXdVaWQpO3Iuc2V0VWlkVG9PYmplY3RBbmRMYXllcklkKGUub2JqZWN0SWQsZS51aWQsdGhpcy5sYXllci5pZCx0aGlzLm93bmVyLmxheWVyVmlld1VpZCwhIXRoaXMubGF5ZXIucG9wdXBFbmFibGVkJiYhdCYmQWUodGhpcy5sYXllcix0aGlzLm93bmVyLnZpZXcucG9wdXA/LmRlZmF1bHRQb3B1cFRlbXBsYXRlRW5hYmxlZCkpfWNvbnN0IHM9dC5zeW1ib2wsYT10aGlzLmdldE9yQ3JlYXRlR3JhcGhpY3MzRFN5bWJvbChzLHQucmVuZGVyZXIpO2lmKG51bGw9PWEpcmV0dXJuO3RoaXMuX2V4cGFuZENvbXB1dGVkRXh0ZW50KGUuZ2VvbWV0cnkpO2NvbnN0IG49dGhpcy5fYmVnaW5HcmFwaGljVXBkYXRlKGUpLG89bmV3IHVlKGUsdCx0aGlzLmxheWVyKTtsZXQgbD0hMTtjb25zdCBoPWU9PntlPT09YS5zeW1ib2wuaWQmJihsPSEwKX07dGhpcy5fd2hlblN5bWJvbFJlbW92ZWQucHVzaChoKTtjb25zdCBkPSgpPT57aWYoLS10aGlzLl9sb2FkaW5nU3ltYm9scyx0aGlzLmRlc3Ryb3llZClyZXR1cm47dGhpcy5fd2hlblN5bWJvbFJlbW92ZWQucmVtb3ZlVW5vcmRlcmVkKGgpO2lmKHRoaXMuX2dyYXBoaWNzV2FpdGluZ0ZvclN5bWJvbC5nZXQoZS51aWQpIT09bnx8bHx8YS5kZXN0cm95ZWR8fHRoaXMuZ3JhcGhpY1N5bWJvbFN1cHBvcnRlZCYmZS5zeW1ib2wmJmUuc3ltYm9sLmlkIT09YS5zeW1ib2wuaWQpLS1hLnJlZmVyZW5jZWQsdGhpcy5fY2xlYW51cFN5bWJvbHMoKTtlbHNle2NvbnN0IHQ9dGhpcy5fY3JlYXRlR3JhcGhpY3MzREdyYXBoaWMoYSxvKTt0aGlzLl9zcGF0aWFsSW5kZXgmJm51bGwhPXQmJnRoaXMuX3NwYXRpYWxJbmRleC5hZGQodCksLS1hLnJlZmVyZW5jZWQsdGhpcy5fZW5kR3JhcGhpY1VwZGF0ZShlKX10aGlzLl9mZWF0dXJlU3RvcmUuZXZlbnRzLmVtaXQoXCJjaGFuZ2VkXCIpLHRoaXMub3duZXIubm90aWZ5Q29udGVudEdlb21ldHJ5VXBkYXRlPy4oKSx0aGlzLl9sYWJlbGVyPy5zZXREaXJ0eSgpfSxwPXQ9PnstLXRoaXMuX2xvYWRpbmdTeW1ib2xzLHRoaXMuZGVzdHJveWVkfHwodGhpcy5fd2hlblN5bWJvbFJlbW92ZWQucmVtb3ZlVW5vcmRlcmVkKGgpLGx8fChtKHQpP3RoaXMuYWRkKFtlXSk6YS5kZXN0cm95ZWR8fHRoaXMuX2VuZEdyYXBoaWNVcGRhdGUoZSx0KSkpfTsrK3RoaXMuX2xvYWRpbmdTeW1ib2xzLGk9PT1FZS5BU1lOQz9hLmxvYWQoKCgpPT50aGlzLl9kYXRhVXBkYXRlUXVldWUucHVzaChkLG51bGwpLmNhdGNoKGcpKSwoZT0+dGhpcy5fZGF0YVVwZGF0ZVF1ZXVlLnB1c2goKCgpPT5wKGUpKSxudWxsKS5jYXRjaChnKSkpOmEubG9hZChkLHApfV9yZW1vdmVHcmFwaGljKGUpe2NvbnN0IHQ9ZS51aWQsaT10aGlzLmdyYXBoaWNzM0RHcmFwaGljcy5nZXQodCk7aWYoaSl7aS5ncmFwaGljczNEU3ltYm9sLm9uUmVtb3ZlR3JhcGhpYyhpKTtjb25zdCBlPWkudXNlZE1lbW9yeSxyPWkuaXNFbGV2YXRpb25Tb3VyY2U7dGhpcy5fY29uZGl0aW9uYWxSZW1vdmUoaSx0KSx0aGlzLl9zcGF0aWFsSW5kZXg/LnJlbW92ZShpKTtjb25zdCBzPWkuZ3JhcGhpY3MzRFN5bWJvbC5zeW1ib2wuaWQ7dGhpcy5fZ3JhcGhpY3NCeVN5bWJvbC5nZXQocyk/LmRlbGV0ZSh0KSx0aGlzLl9ncmFwaGljc1dpdGhvdXRTeW1ib2wuZGVsZXRlKHQpLHRoaXMuX3JlbW92ZUdyYXBoaWNzM0RHcmFwaGljKHQsZSxyKSxpLmRlc3Ryb3koKSx0aGlzLl9mZWF0dXJlU3RvcmUuZXZlbnRzLmVtaXQoXCJjaGFuZ2VkXCIpLHRoaXMub3duZXIubm90aWZ5Q29udGVudEdlb21ldHJ5VXBkYXRlPy4oKX1lbHNlIHRoaXMuX2dyYXBoaWNzV2l0aG91dFN5bWJvbC5kZWxldGUodCksdGhpcy5fZ3JhcGhpY3NXYWl0aW5nRm9yU3ltYm9sLmRlbGV0ZSh0KSwwPT09dGhpcy5fZ3JhcGhpY3NXYWl0aW5nRm9yU3ltYm9sLnNpemUmJih0aGlzLl9jbGVhbnVwU3ltYm9scygpLHRoaXMubm90aWZ5Q2hhbmdlKFwiZGF0YVVwZGF0aW5nXCIpKX1faGFzTGFiZWxpbmdDb250ZXh0KGUpe2lmKGUgaW5zdGFuY2VvZiB0ZXx8ZSBpbnN0YW5jZW9mIGllKXtjb25zdCB0PXRoaXMuc3ltYm9sQ3JlYXRpb25Db250ZXh0LmxheWVyO3JldHVybiEhdC5sYWJlbGluZ0luZm8mJnQubGFiZWxpbmdJbmZvLnNvbWUoKHQ9PnQuc3ltYm9sPT09ZSkpfXJldHVybiExfV9oYXNWYWxpZFN5bWJvbENyZWF0aW9uQ29udGV4dChlKXtyZXR1cm4hKGUgaW5zdGFuY2VvZiB0ZSYmIXRoaXMuX2hhc0xhYmVsaW5nQ29udGV4dChlKSl8fChhLmdldExvZ2dlcih0aGlzKS5lcnJvcihcIkxhYmVsU3ltYm9sM0QgaXMgb25seSB2YWxpZCBhcyBwYXJ0IG9mIGEgTGFiZWxDbGFzcy4gVXNpbmcgTGFiZWxTeW1ib2wzRCBhcyBhIHJlbmRlcmVyIHN5bWJvbCBpcyBub3Qgc3VwcG9ydGVkLlwiKSwhMSl9X2dldFJlbmRlcmluZ0luZm8oZSx0PSEwKXtjb25zdCBpPWUuZ2VvbWV0cnk7aWYobnVsbD09aSlyZXR1cm4gdCYmIXRoaXMuX2dlb21ldHJ5V2FybmluZ0xvZ2dlZCYmKHRoaXMuX2dlb21ldHJ5V2FybmluZ0xvZ2dlZD0hMCxhLmdldExvZ2dlcih0aGlzKS53YXJuKGBHcmFwaGljIGluIGxheWVyICR7dGhpcy5sYXllci5pZH0gaGFzIG5vIGdlb21ldHJ5IGFuZCB3aWxsIG5vdCByZW5kZXJgKSksbnVsbDtpZighTChpLnNwYXRpYWxSZWZlcmVuY2UsdGhpcy5fdmlld1NwYXRpYWxSZWZlcmVuY2UpKXJldHVybiB0JiYhdGhpcy5fZ2VvbWV0cnlXYXJuaW5nTG9nZ2VkJiYodGhpcy5fZ2VvbWV0cnlXYXJuaW5nTG9nZ2VkPSEwLGEuZ2V0TG9nZ2VyKHRoaXMpLndhcm4oYEdyYXBoaWMgaW4gbGF5ZXIgJHt0aGlzLmxheWVyLmlkfSBoYXMgaW5jb21wYXRpYmxlIHNwYXRpYWwgcmVmZXJlbmNlIGFuZCB3aWxsIG5vdCByZW5kZXJgKSksbnVsbDtpZighdGhpcy5ncmFwaGljU3ltYm9sU3VwcG9ydGVkJiZudWxsIT1lLnN5bWJvbClyZXR1cm4gdCYmIXRoaXMuX3N5bWJvbFdhcm5pbmdMb2dnZWQmJih0aGlzLl9zeW1ib2xXYXJuaW5nTG9nZ2VkPSEwLGEuZ2V0TG9nZ2VyKHRoaXMpLndhcm4oYEdyYXBoaWMgaW4gbGF5ZXIgJHt0aGlzLmxheWVyLmlkfSBpcyBub3QgYWxsb3dlZCB0byBoYXZlIGEgc3ltYm9sLCB1c2UgYSByZW5kZXJlciBpbnN0ZWFkYCkpLG51bGw7Y29uc3Qgcj10aGlzLnJlbmRlcmVySGFzR2VvbWV0cnlPcGVyYXRpb25zP1koZSx0aGlzLmxheWVyKTplO2xldCBzO2lmKHRoaXMub3duZXIuZ2V0UmVuZGVyaW5nSW5mbyYmKHRoaXMuZ2V0UmVuZGVyaW5nSW5mb1dpdGhvdXRSZW5kZXJlcnx8bnVsbCE9dGhpcy5jdXJyZW50UmVuZGVyZXIpKXM9dGhpcy5vd25lci5nZXRSZW5kZXJpbmdJbmZvKHIsdGhpcy5jdXJyZW50UmVuZGVyZXIsdGhpcy5fYXJjYWRlT25EZW1hbmQpO2Vsc2V7Y29uc3QgZT1yLnN5bWJvbHx8c2Uoci5nZW9tZXRyeSk7cz1uZXcgWChudWxsLGUpfXJldHVybiBudWxsPT1zPy5zeW1ib2w/KHQmJiF0aGlzLl9zeW1ib2xXYXJuaW5nTG9nZ2VkJiYodGhpcy5fc3ltYm9sV2FybmluZ0xvZ2dlZD0hMCxhLmdldExvZ2dlcih0aGlzKS53YXJuKGBHcmFwaGljIGluIGxheWVyICR7dGhpcy5sYXllci5pZH0gaGFzIG5vIHN5bWJvbCBhbmQgd2lsbCBub3QgcmVuZGVyYCkpLG51bGwpOnN9X2dldFJlbmRlcmluZ0luZm9Bc3luYyhlLHQpe2lmKG51bGw9PWUuZ2VvbWV0cnkpcmV0dXJuIHRoaXMuX2dlb21ldHJ5V2FybmluZ0xvZ2dlZHx8KHRoaXMuX2dlb21ldHJ5V2FybmluZ0xvZ2dlZD0hMCxhLmdldExvZ2dlcih0aGlzKS53YXJuKGBHcmFwaGljIGluIGxheWVyICR7dGhpcy5sYXllci5pZH0gaGFzIG5vIGdlb21ldHJ5IGFuZCB3aWxsIG5vdCByZW5kZXJgKSksbnVsbDtpZighdGhpcy5ncmFwaGljU3ltYm9sU3VwcG9ydGVkJiZudWxsIT1lLnN5bWJvbClyZXR1cm4gdGhpcy5fc3ltYm9sV2FybmluZ0xvZ2dlZHx8KHRoaXMuX3N5bWJvbFdhcm5pbmdMb2dnZWQ9ITAsYS5nZXRMb2dnZXIodGhpcykud2FybihgR3JhcGhpYyBpbiBsYXllciAke3RoaXMubGF5ZXIuaWR9IGlzIG5vdCBhbGxvd2VkIHRvIGhhdmUgYSBzeW1ib2wsIHVzZSBhIHJlbmRlcmVyIGluc3RlYWRgKSksbnVsbDtjb25zdCBpPXRoaXMucmVuZGVyZXJIYXNHZW9tZXRyeU9wZXJhdGlvbnM/WShlLHRoaXMubGF5ZXIpOmU7cmV0dXJuIHRoaXMub3duZXIuZ2V0UmVuZGVyaW5nSW5mb0FzeW5jKGksdGhpcy5jdXJyZW50UmVuZGVyZXIsdGhpcy5fYXJjYWRlT25EZW1hbmQsdCl9X2NyZWF0ZUdyYXBoaWNzM0RTeW1ib2woZSx0KXtpZighdGhpcy5faGFzVmFsaWRTeW1ib2xDcmVhdGlvbkNvbnRleHQoZSkpcmV0dXJuIG51bGw7Y29uc3QgaT10aGlzLl9nZXRDb252ZXJ0ZWRTeW1ib2woZSk7aWYoIWkpcmV0dXJuIG51bGw7bGV0IHI7aWYobnVsbCE9dCYmXCJiYWNrZ3JvdW5kRmlsbFN5bWJvbFwiaW4gdCYmdC5iYWNrZ3JvdW5kRmlsbFN5bWJvbCl7Y29uc3QgZT1hZSh0LmJhY2tncm91bmRGaWxsU3ltYm9sLHtpZ25vcmVEcml2ZXJzOiEwfSk7bnVsbCE9ZS5zeW1ib2wmJihyPWUuc3ltYm9sLnN5bWJvbExheWVycyl9Y29uc3Qgcz1iZShpLHRoaXMuc3ltYm9sQ3JlYXRpb25Db250ZXh0LHIpO3JldHVybiBzLmxvYWQoKCgpPT57Y29uc3QgZT1zLmV4dGVudFBhZGRpbmc7ZT50aGlzLmV4dGVudFBhZGRpbmcmJnRoaXMuX3NldChcImV4dGVudFBhZGRpbmdcIixlKSx0aGlzLm5vdGlmeUNoYW5nZShcImF2ZXJhZ2VTeW1ib2xDb21wbGV4aXR5XCIpfSksKCgpPT57fSkpLHN9Z2V0T3JDcmVhdGVHcmFwaGljczNEU3ltYm9sKGUsdCl7bGV0IGk9dGhpcy5fc3ltYm9scy5nZXQoZS5pZCk7aWYodm9pZCAwPT09aSl7Y29uc3Qgcj10aGlzLl91bnVzZWRTeW1ib2xzQ2FjaGUucG9wKGUuaWQpO2k9bnVsbCE9cj9yOmUgaW5zdGFuY2VvZiByZT9uZXcgX2UoZSwoZT0+dGhpcy5fZGF0YVVwZGF0ZVF1ZXVlLnB1c2goZSxudWxsKSksKGU9PnRoaXMuX2NyZWF0ZUdyYXBoaWNzM0RTeW1ib2woZSx0KSkpOnRoaXMuX2NyZWF0ZUdyYXBoaWNzM0RTeW1ib2woZSx0KSx0aGlzLl9zeW1ib2xzLnNldChlLmlkLGkpLHRoaXMuX3N5bWJvbE1hdGVyaWFscz1udWxsfXJldHVybiBudWxsIT1pJiYrK2kucmVmZXJlbmNlZCxpfXRyYWNrR3JhcGhpY1N0YXRlKGUpe3JldHVybiBudWxsPT10aGlzLl9ncmFwaGljU3RhdGVUcmFja2luZyYmKHRoaXMuX2dyYXBoaWNTdGF0ZVRyYWNraW5nPW5ldyB2ZSh0aGlzKSksdGhpcy5fZ3JhcGhpY1N0YXRlVHJhY2tpbmcuYWRkKGUpfV9hZGRHcmFwaGljczNER3JhcGhpYyhlKXt0aGlzLl91c2VkTWVtb3J5Kz1lLnVzZWRNZW1vcnksdGhpcy5ncmFwaGljczNER3JhcGhpY3Muc2V0KGUuZ3JhcGhpYy51aWQsZSksdGhpcy5fbnVtYmVyT2ZHcmFwaGljcysrLGUuaXNFbGV2YXRpb25Tb3VyY2UmJih0aGlzLl9udW1iZXJPZkdyYXBoaWNzUHJvdmlkaW5nRWxldmF0aW9uKyssdGhpcy51cGRhdGVTdGFnZUxheWVyRWxldmF0aW9uUHJvdmlkZXIoKSksdGhpcy5fdXBkYXRlTGF5ZXJWaXNpYmlsaXR5KCl9X3JlbW92ZUdyYXBoaWNzM0RHcmFwaGljKGUsdCxpPSExKXt0aGlzLl91c2VkTWVtb3J5LT10LHRoaXMuZ3JhcGhpY3MzREdyYXBoaWNzLmRlbGV0ZShlKSx0aGlzLl9udW1iZXJPZkdyYXBoaWNzLS0saSYmKHRoaXMuX251bWJlck9mR3JhcGhpY3NQcm92aWRpbmdFbGV2YXRpb24tLSx0aGlzLnVwZGF0ZVN0YWdlTGF5ZXJFbGV2YXRpb25Qcm92aWRlcigpKSx0aGlzLl91cGRhdGVMYXllclZpc2liaWxpdHkoKX1fY3JlYXRlR3JhcGhpY3MzREdyYXBoaWMoZSx0KXtjb25zdCBpPXQuZ3JhcGhpYztpZih0aGlzLl9ncmFwaGljc1dpdGhvdXRTeW1ib2wuZGVsZXRlKGkudWlkKSwhdGhpcy5fc3ltYm9scy5oYXMoZS5zeW1ib2wuaWQpKXJldHVybiB0aGlzLmFkZChbaV0pLG51bGw7aWYodGhpcy5ncmFwaGljczNER3JhcGhpY3MuaGFzKGkudWlkKSlyZXR1cm4gbnVsbDtjb25zdCByPWUuY3JlYXRlR3JhcGhpY3MzREdyYXBoaWModCk7aWYobnVsbD09cilyZXR1cm4gbnVsbDt0aGlzLl9hZGRHcmFwaGljczNER3JhcGhpYyhyKTtjb25zdCBzPWUuc3ltYm9sLmlkO3RoaXMuX2dyYXBoaWNzQnlTeW1ib2wuaGFzKHMpfHx0aGlzLl9ncmFwaGljc0J5U3ltYm9sLnNldChzLG5ldyBNYXApLHRoaXMuX2dyYXBoaWNzQnlTeW1ib2wuZ2V0KHMpLnNldChpLnVpZCxyKTtpZihyLmlzRHJhcGVkJiZ0aGlzLl9ncmFwaGljc0RyYXBlZFVpZHMuYWRkKGkudWlkKSxyLmNlbnRyb2lkPW51bGwsbnVsbCE9aS5nZW9tZXRyeSYmXCJwb2ludFwiIT09aS5nZW9tZXRyeS50eXBlJiYoci5jZW50cm9pZD1DZShpLmdlb21ldHJ5LHRoaXMuX3ZpZXdTcGF0aWFsUmVmZXJlbmNlKSksdGhpcy5fdXBkYXRlVXNlclZpc2liaWxpdHkociksbnVsbCE9dGhpcy5fc2NhbGVWaXNpYmlsaXR5JiZ0aGlzLl9zY2FsZVZpc2liaWxpdHkudXBkYXRlVmlzaWJpbGl0eShyKSxudWxsIT10aGlzLl9maWx0ZXJWaXNpYmlsaXR5KXtjb25zdHtkZWZhdWx0VmlzaWJpbGl0eTplfT10aGlzLl9maWx0ZXJWaXNpYmlsaXR5O3Iuc2V0VmlzaWJpbGl0eUZsYWcoZGUuR1JBUEhJQyxwZS5GSUxURVIsZSksZXx8dGhpcy5fZmlsdGVyVmlzaWJpbGl0eS5yZWFwcGx5KCl9dGhpcy5fZGVjb25mbGljdG9yPy5hZGRHcmFwaGljKHIpLHRoaXMuX2xhYmVsZXI/LmFkZEdyYXBoaWMociksdGhpcy5fb2JqZWN0U3RhdGVzPy5hZGRHcmFwaGljKHIpLHIuaW5pdGlhbGl6ZSh0aGlzLnN0YWdlTGF5ZXIpLG51bGwhPXRoaXMuX2dyYXBoaWNTdGF0ZVRyYWNraW5nJiZ0aGlzLl9ncmFwaGljU3RhdGVUcmFja2luZy5hZGRHcmFwaGljKHIpO2NvbnN0IGE9dGhpcy5fd2hlbkdyYXBoaWNzM0RHcmFwaGljUmVxdWVzdHNbaS51aWRdO3JldHVybiBhJiYoZGVsZXRlIHRoaXMuX3doZW5HcmFwaGljczNER3JhcGhpY1JlcXVlc3RzW2kudWlkXSxhLnJlc29sdmUocikpLHRoaXMuX3N5bWJvbE1hdGVyaWFscz1udWxsLHJ9YXN5bmMgcmVuZGVyZXJDaGFuZ2UoZSl7aWYodGhpcy5fcmVuZGVyZXJDaGFuZ2VBYm9ydENvbnRyb2xsZXI9byh0aGlzLl9yZW5kZXJlckNoYW5nZUFib3J0Q29udHJvbGxlciksZSE9PXRoaXMuY3VycmVudFJlbmRlcmVyKWlmKHRoaXMuX3ZhbGlkYXRlUmVuZGVyZXIoZSksbnVsbD09ZSYmdGhpcy5fY3VycmVudFJlbmRlcmVyQ2hhbmdlKG51bGwsITEpLFooZSkpaWYoZT8uYXJjYWRlUmVxdWlyZWQpe2NvbnN0IHQ9bmV3IEFib3J0Q29udHJvbGxlcjt0aGlzLl9yZW5kZXJlckNoYW5nZUFib3J0Q29udHJvbGxlcj10O2NvbnN0e2FyY2FkZVV0aWxzOml9PWF3YWl0IHRoaXMuX2Vuc3VyZUFyY2FkZSgpO3kodCk7Y29uc3Qgcj1pLmhhc0dlb21ldHJ5T3BlcmF0aW9ucyhlKTtyJiYoYXdhaXQgaS5lbmFibGVHZW9tZXRyeU9wZXJhdGlvbnMoKSx5KHQpKSx0aGlzLmVmZmVjdGl2ZVVwZGF0ZVBvbGljeT09PUVlLkFTWU5DP2F3YWl0IHRoaXMuX3VwZGF0ZVF1ZXVlLnB1c2goKCgpPT50aGlzLl9jdXJyZW50UmVuZGVyZXJDaGFuZ2UoZSxyKSksdC5zaWduYWwpOnRoaXMuX2N1cnJlbnRSZW5kZXJlckNoYW5nZShlLHIpLHRoaXMuX3JlbmRlcmVyQ2hhbmdlQWJvcnRDb250cm9sbGVyPW51bGx9ZWxzZSBpZih0aGlzLmVmZmVjdGl2ZVVwZGF0ZVBvbGljeT09PUVlLkFTWU5DKXtjb25zdCB0PW5ldyBBYm9ydENvbnRyb2xsZXI7dGhpcy5fcmVuZGVyZXJDaGFuZ2VBYm9ydENvbnRyb2xsZXI9dCxhd2FpdCB0aGlzLl91cGRhdGVRdWV1ZS5wdXNoKCgoKT0+dGhpcy5fY3VycmVudFJlbmRlcmVyQ2hhbmdlKGUsITEpKSx0LnNpZ25hbCksdGhpcy5fcmVuZGVyZXJDaGFuZ2VBYm9ydENvbnRyb2xsZXI9bnVsbH1lbHNlIHRoaXMuX2N1cnJlbnRSZW5kZXJlckNoYW5nZShlLCExKTtlbHNlIHRoaXMuX2N1cnJlbnRSZW5kZXJlckNoYW5nZShlLCExKX1hc3luYyBfZW5zdXJlQXJjYWRlKCl7cmV0dXJuIG51bGw9PXRoaXMuX2FyY2FkZU9uRGVtYW5kPyh0aGlzLl9hcmNhZGVPbkRlbWFuZD1hd2FpdCBlZSgpLHRoaXMuX2FyY2FkZU9uRGVtYW5kKTp0aGlzLl9hcmNhZGVPbkRlbWFuZH1fY3VycmVudFJlbmRlcmVyQ2hhbmdlKGUsdCl7dGhpcy5jdXJyZW50UmVuZGVyZXI9ZSx0aGlzLnJlbmRlcmVySGFzR2VvbWV0cnlPcGVyYXRpb25zPXQsdGhpcy5zeW1ib2xDcmVhdGlvbkNvbnRleHQuYXJjYWRlPXRoaXMuX2FyY2FkZU9uRGVtYW5kO2NvbnN0IGk9dGhpcy5zeW1ib2xDcmVhdGlvbkNvbnRleHQucmVuZGVyZXI7aWYoZT09PWkpcmV0dXJuO2lmKHRoaXMuX3N5bWJvbENvbnZlcnNpb25DYWNoZS5jbGVhcigpLHRoaXMuX3VudXNlZFN5bWJvbHNDYWNoZS5jbGVhcigpLG51bGw9PWUpcmV0dXJuIHRoaXMuc3ltYm9sQ3JlYXRpb25Db250ZXh0LnJlbmRlcmVyPW51bGwsdm9pZCB0aGlzLnJlY3JlYXRlQWxsR3JhcGhpY3NBbmRTeW1ib2xzKCk7Y29uc3Qgcj14KGksZSk7dGhpcy5fdXBkYXRlVW5jaGFuZ2VkU3ltYm9sTWFwcGluZ3MocixlLGkpLHRoaXMuc3ltYm9sQ3JlYXRpb25Db250ZXh0LnJlbmRlcmVyPWUsbnVsbCE9ciYmKFwiY29tcGxldGVcIj09PXIudHlwZT90aGlzLnJlY3JlYXRlQWxsR3JhcGhpY3NBbmRTeW1ib2xzKCk6XCJwYXJ0aWFsXCI9PT1yLnR5cGUmJih0aGlzLl9hcHBseVJlbmRlcmVyRGlmZihyLGUsaSk/dGhpcy5fbGFiZWxlcj8ucmVzZXQoKTp0aGlzLnJlY3JlYXRlQWxsR3JhcGhpY3NBbmRTeW1ib2xzKCkpLHRoaXMubm90aWZ5Q2hhbmdlKFwiYXZlcmFnZVN5bWJvbENvbXBsZXhpdHlcIikpfV9kaWZmSGFzU3ltYm9sQ2hhbmdlKGUpe2Zvcihjb25zdCB0IGluIGUuZGlmZilzd2l0Y2godCl7Y2FzZVwidmlzdWFsVmFyaWFibGVzXCI6Y2FzZVwiZGVmYXVsdFN5bWJvbFwiOmNhc2VcInVuaXF1ZVZhbHVlSW5mb3NcIjpicmVhaztjYXNlXCJ1bmlxdWVWYWx1ZUdyb3Vwc1wiOmNhc2VcImF1dGhvcmluZ0luZm9cIjpjYXNlXCJmaWVsZERlbGltaXRlclwiOmRlbGV0ZSBlLmRpZmZbdF07YnJlYWs7ZGVmYXVsdDpyZXR1cm4hMH1yZXR1cm4hMX1fYXBwbHlTeW1ib2xTZXREaWZmKGUsdCxpKXtlPWV8fFtdLHQ9dHx8W107Y29uc3Qgcj1bXTtmb3IoY29uc3QgcyBvZiB0KXtjb25zdCB0PXRoaXMuX2dyYXBoaWNzQnlTeW1ib2wuZ2V0KHMuaWQpO3QmJnQuZm9yRWFjaCgoKGEsbik9Pntjb25zdCBvPWEuZ3JhcGhpYyxsPXRoaXMubGF5ZXIgaW5zdGFuY2VvZiBIP3RoaXMubGF5ZXI6bnVsbCxoPXRoaXMuX2FyY2FkZU9uRGVtYW5kO2lmKHM9PT1pLmRlZmF1bHRTeW1ib2wmJmkuZ2V0U3ltYm9sKFkobyxsKSx7YXJjYWRlOmh9KT09PWkuZGVmYXVsdFN5bWJvbClyZXR1cm47Y29uc3QgZD1hLnVzZWRNZW1vcnk7ZS5sZW5ndGh8fGkuZGVmYXVsdFN5bWJvbD9yLnB1c2gobyk6dGhpcy5fZ3JhcGhpY3NXaXRob3V0U3ltYm9sLnNldChuLG8pO2NvbnN0IHA9dGhpcy5ncmFwaGljczNER3JhcGhpY3MuZ2V0KG4pO3RoaXMuX2NvbmRpdGlvbmFsUmVtb3ZlKHAsbiksYS5kZXN0cm95KCksdC5kZWxldGUobiksdGhpcy5fcmVtb3ZlR3JhcGhpY3MzREdyYXBoaWMobixkKSx0aGlzLl91cGRhdGVMYXllclZpc2liaWxpdHkoKX0pKSx0aGlzLl93aGVuU3ltYm9sUmVtb3ZlZC5mb3JBbGwoKGU9PmUocy5pZCkpKX0oZS5sZW5ndGh8fHIubGVuZ3RoKSYmKHRoaXMuX2dyYXBoaWNzV2l0aG91dFN5bWJvbC5mb3JFYWNoKChlPT5yLnB1c2goZSkpKSx0aGlzLl9ncmFwaGljc1dpdGhvdXRTeW1ib2wuY2xlYXIoKSx0aGlzLmFkZChyKSksdGhpcy5fY2xlYW51cFN5bWJvbHMoKSx0aGlzLl9sYWJlbGVyPy5zZXREaXJ0eSgpLHRoaXMuX2RlY29uZmxpY3Rvcj8uc2V0RGlydHkoKX1fYXBwbHlVbmlxdWVWYWx1ZVJlbmRlcmVyRGlmZihlLHQscil7Y29uc3Qgcz1lLmRpZmYuZGVmYXVsdFN5bWJvbCxhPWUuZGlmZi51bmlxdWVWYWx1ZUluZm9zO2lmKHN8fGEpe2NvbnN0IG49YT8uY2hhbmdlZCxvPWE/LnVuY2hhbmdlZDtpZihuJiZvJiZuLnNvbWUoKGU9Pm8uc29tZSgodD0+dC5vbGRWYWx1ZS5zeW1ib2w/LmlkPT09ZS5vbGRWYWx1ZS5zeW1ib2w/LmlkKSkpKSlyZXR1cm4hMTtjb25zdCBsPWE/YS5hZGRlZC5tYXAoKGU9PmUuc3ltYm9sKSkuZmlsdGVyKGkpOltdLGg9YT9hLnJlbW92ZWQubWFwKChlPT5lLnN5bWJvbCkpLmZpbHRlcihpKTpbXTtpZihuKWZvcihsZXQgZT0wO2U8bi5sZW5ndGg7ZSsrKWwucHVzaChuW2VdLm5ld1ZhbHVlLnN5bWJvbCksaC5wdXNoKG5bZV0ub2xkVmFsdWUuc3ltYm9sKTtyZXR1cm4gcz8oci5kZWZhdWx0U3ltYm9sJiZoLnB1c2goci5kZWZhdWx0U3ltYm9sKSx0LmRlZmF1bHRTeW1ib2wmJmwucHVzaCh0LmRlZmF1bHRTeW1ib2wpKTpyLmRlZmF1bHRTeW1ib2wmJmwubGVuZ3RoJiZoLnB1c2godC5kZWZhdWx0U3ltYm9sKSx0aGlzLl9hcHBseVN5bWJvbFNldERpZmYobCxoLHQpLGRlbGV0ZSBlLmRpZmYuZGVmYXVsdFN5bWJvbCxkZWxldGUgZS5kaWZmLnVuaXF1ZVZhbHVlSW5mb3MsITB9cmV0dXJuITF9X2NhbGN1bGF0ZVVuY2hhbmdlZFN5bWJvbE1hcHBpbmcoZSx0LGkpe2lmKFwidW5pcXVlLXZhbHVlXCIhPT10Py50eXBlfHxcInVuaXF1ZS12YWx1ZVwiIT09aT8udHlwZXx8bnVsbCE9ZSYmXCJwYXJ0aWFsXCIhPT1lLnR5cGUpcmV0dXJuW107Y29uc3Qgcj1lPT5udWxsIT1lP2UuaWQ6bnVsbCxzPWUmJmUuZGlmZixhPXM/LmRlZmF1bHRTeW1ib2wsbj1zJiZzLnVuaXF1ZVZhbHVlSW5mb3M7bGV0IG87aWYobilvPW4udW5jaGFuZ2VkLm1hcCgoZT0+KHtvbGRJZDpyKGUub2xkVmFsdWUuc3ltYm9sKSxuZXdJZDpyKGUubmV3VmFsdWUuc3ltYm9sKX0pKSk7ZWxzZXtvPVtdO2Zvcihjb25zdCBlIG9mIGkudW5pcXVlVmFsdWVJbmZvcz8/W10pe2NvbnN0IGk9cihlLnN5bWJvbCkscz10LnVuaXF1ZVZhbHVlSW5mb3M/LmZpbmQoKHQ9PnQudmFsdWU9PT1lLnZhbHVlKSk7cyYmaSE9PXIocy5zeW1ib2wpJiZvLnB1c2goe29sZElkOmksbmV3SWQ6cihzLnN5bWJvbCl9KX19cmV0dXJuIWEmJmkuZGVmYXVsdFN5bWJvbCYmby5wdXNoKHtvbGRJZDpyKGkuZGVmYXVsdFN5bWJvbCksbmV3SWQ6cih0LmRlZmF1bHRTeW1ib2wpfSksb31fdXBkYXRlU3ltYm9sTWFwcGluZyhlLHQpe2NvbnN0IGk9bnVsbCE9dCYmdD9cInN0cmluZ1wiPT10eXBlb2YgdD90OnQuaWQ6bnVsbDtpZihudWxsPT1lfHxlPT09aSlyZXR1cm47Y29uc3Qgcj10aGlzLl9ncmFwaGljc0J5U3ltYm9sLmdldChlKTt0aGlzLl9ncmFwaGljc0J5U3ltYm9sLmRlbGV0ZShlKSx2b2lkIDAhPT1yJiZ0aGlzLl9ncmFwaGljc0J5U3ltYm9sLnNldChpLHIpO2NvbnN0IHM9dGhpcy5fc3ltYm9scy5nZXQoZSk7aWYodm9pZCAwIT09cyYmKHRoaXMuX3N5bWJvbHMuZGVsZXRlKGUpLHRoaXMuX3N5bWJvbHMuc2V0KGkscyksdGhpcy5fc3ltYm9sTWF0ZXJpYWxzPW51bGwsbnVsbCE9cykpe2NvbnN0IGU9XCJzdHJpbmdcIj09dHlwZW9mIHQ/bnVsbDp0O251bGwhPWU/cy5zeW1ib2w9ZTpzLnN5bWJvbC5pZD1pfX1fdXBkYXRlVW5jaGFuZ2VkU3ltYm9sTWFwcGluZ3MoZSx0LGkpe2NvbnN0IHI9dGhpcy5fY2FsY3VsYXRlVW5jaGFuZ2VkU3ltYm9sTWFwcGluZyhlLHQsaSk7Zm9yKGNvbnN0e29sZElkOnMsbmV3SWQ6YX1vZiByKXRoaXMuX3VwZGF0ZVN5bWJvbE1hcHBpbmcocyxhKX1fYXBwbHlSZW5kZXJlckRpZmYoZSx0LGkpe2lmKHRoaXMuX2RpZmZIYXNTeW1ib2xDaGFuZ2UoZSkpcmV0dXJuITE7aWYodCBpbnN0YW5jZW9mICQmJmkgaW5zdGFuY2VvZiAkJiZ0aGlzLl9hcHBseVVuaXF1ZVZhbHVlUmVuZGVyZXJEaWZmKGUsdCxpKSYmMD09PU9iamVjdC5rZXlzKGUuZGlmZikubGVuZ3RoKXJldHVybiEwO2Zvcihjb25zdCByIG9mIHRoaXMuX2dyYXBoaWNzQnlTeW1ib2wua2V5cygpKXtjb25zdCBpPXRoaXMuX3N5bWJvbHMuZ2V0KHIpO2lmKG51bGwhPWkpc3dpdGNoKGkuYXBwbHlSZW5kZXJlckRpZmYoZSx0KSl7Y2FzZSBHZS5SZWNyZWF0ZVN5bWJvbDp0aGlzLl9yZWNyZWF0ZVN5bWJvbChyKTticmVhaztjYXNlIEdlLlJlY3JlYXRlR3JhcGhpY3M6dGhpcy5fcmVjcmVhdGVHcmFwaGljc0ZvclN5bWJvbChyKTtjYXNlIEdlLkZhc3RVcGRhdGU6fX1yZXR1cm4hMH1vcGFjaXR5Q2hhbmdlKCl7dGhpcy5fdXBkYXRlU3RhZ2VMYXllclZpc2liaWxpdHkoKSx0aGlzLmZvckVhY2hHcmFwaGljczNEU3ltYm9sKCgoZSx0KT0+ZS5nbG9iYWxQcm9wZXJ0eUNoYW5nZWQoXCJvcGFjaXR5XCIsdCkpKX1fc2xpY2VQbGFuZUVuYWJsZWRDaGFuZ2UoZSl7ZSE9PXRoaXMuc3ltYm9sQ3JlYXRpb25Db250ZXh0LnNsaWNlUGxhbmVFbmFibGVkJiYodGhpcy5zeW1ib2xDcmVhdGlvbkNvbnRleHQuc2xpY2VQbGFuZUVuYWJsZWQ9ZSx0aGlzLnN0YWdlTGF5ZXIuc2xpY2VhYmxlPWUsdGhpcy5mb3JFYWNoR3JhcGhpY3MzRFN5bWJvbCgoKGUsdCk9PmUuZ2xvYmFsUHJvcGVydHlDaGFuZ2VkKFwic2xpY2VQbGFuZUVuYWJsZWRcIix0KSkpLHRoaXMuX2RlY29uZmxpY3Rvcj8uc2xpY2VQbGFuZUVuYWJsZWRDaGFuZ2UoKSx0aGlzLl9sYWJlbGVyPy5zbGljZVBsYW5lRW5hYmxlZENoYW5nZSgpKX1fcGh5c2ljYWxCYXNlZFJlbmRlcmluZ0NoYW5nZShlKXt0aGlzLnN5bWJvbENyZWF0aW9uQ29udGV4dC5waHlzaWNhbEJhc2VkUmVuZGVyaW5nRW5hYmxlZD1lLHRoaXMuZm9yRWFjaEdyYXBoaWNzM0RTeW1ib2woKChlLHQsaSk9PntlLmdsb2JhbFByb3BlcnR5Q2hhbmdlZChcInBoeXNpY2FsQmFzZWRSZW5kZXJpbmdFbmFibGVkXCIsdCl8fHRoaXMuX3JlY3JlYXRlU3ltYm9sKGkpfSkpfV9za2lwSGlnaFN5bWJvbExvRHNDaGFuZ2UoZSl7dGhpcy5zeW1ib2xDcmVhdGlvbkNvbnRleHQuc2tpcEhpZ2hTeW1ib2xMb2RzPWUsdGhpcy5mb3JFYWNoR3JhcGhpY3MzRFN5bWJvbCgoKGUsdCxpKT0+e2UuZ2xvYmFsUHJvcGVydHlDaGFuZ2VkKFwic2tpcEhpZ2hTeW1ib2xMb2RzXCIsdCl8fHRoaXMuX3JlY3JlYXRlU3ltYm9sKGkpfSkpfV9waXhlbFJhdGlvQ2hhbmdlKCl7dGhpcy5mb3JFYWNoR3JhcGhpY3MzRFN5bWJvbCgoKGUsdCxpKT0+e2UuZ2xvYmFsUHJvcGVydHlDaGFuZ2VkKFwicGl4ZWxSYXRpb1wiLHQpfHx0aGlzLl9yZWNyZWF0ZVN5bWJvbChpKX0pKX1fc2lnbmFsVXBkYXRpbmdEdXJpbmdBc3luY0xvYWRlZEdyYXBoaWNzQ2hhbmdlKCl7dGhpcy5fdXBkYXRpbmdQZW5kaW5nTG9hZGVkR3JhcGhpY3NDaGFuZ2UmJnRoaXMuX3VwZGF0aW5nUGVuZGluZ0xvYWRlZEdyYXBoaWNzQ2hhbmdlLnJlbW92ZSgpLHRoaXMuX3VwZGF0aW5nUGVuZGluZ0xvYWRlZEdyYXBoaWNzQ2hhbmdlPVMoKCgpPT57dGhpcy5fdXBkYXRpbmdQZW5kaW5nTG9hZGVkR3JhcGhpY3NDaGFuZ2U9bnVsbH0pKX1zZXRDbGlwcGluZ0V4dGVudChlLHQpe2NvbnN0IGk9dGhpcy5zeW1ib2xDcmVhdGlvbkNvbnRleHQuY2xpcHBpbmdFeHRlbnQscj16KCk7cmV0dXJuIFJlKGUscix0KT90aGlzLnN5bWJvbENyZWF0aW9uQ29udGV4dC5jbGlwcGluZ0V4dGVudD1NKFQoKSxyKTp0aGlzLnN5bWJvbENyZWF0aW9uQ29udGV4dC5jbGlwcGluZ0V4dGVudD1udWxsLCFrKHRoaXMuc3ltYm9sQ3JlYXRpb25Db250ZXh0LmNsaXBwaW5nRXh0ZW50LGkpfW1vZGlmeUdyYXBoaWNzM0RHcmFwaGljVmlzaWJpbGl0aWVzKGUpe2lmKHRoaXMuZGVzdHJveWVkKXJldHVybjtsZXQgdD0hMTt0aGlzLmdyYXBoaWNzM0RHcmFwaGljcy5mb3JFYWNoKChpPT57ZShpKSYmKHQ9ITApfSkpLHQmJih0aGlzLl9sYWJlbGVyPy5zZXREaXJ0eSgpLHRoaXMuX2RlY29uZmxpY3Rvcj8uc2V0RGlydHkoKSl9Zm9yRWFjaEdyYXBoaWNzM0RTeW1ib2woZSx0KXtmb3IoY29uc3RbaSxyXW9mIHRoaXMuX3N5bWJvbHMpe2lmKG51bGw9PXIpcmV0dXJuO2Uocix0aGlzLl9ncmFwaGljc0J5U3ltYm9sLmdldChpKXx8JGUsaSl9aWYoIXQ/LmV4Y2x1ZGVVbnVzZWQpZm9yKGNvbnN0IGkgb2YgdGhpcy5fdW51c2VkU3ltYm9sc0NhY2hlKWUoaSx2b2lkIDAsaS5zeW1ib2wuaWQpfXVwZGF0ZUdyYXBoaWNzVmlzaWJpbGl0aWVzKCl7bnVsbCE9dGhpcy5fZmlsdGVyVmlzaWJpbGl0eSYmdGhpcy5fZmlsdGVyVmlzaWJpbGl0eS5yZWFwcGx5KCksdGhpcy5tb2RpZnlHcmFwaGljczNER3JhcGhpY1Zpc2liaWxpdGllcygoZT0+e2NvbnN0IHQ9dGhpcy5fdXBkYXRlVXNlclZpc2liaWxpdHkoZSksaT0hIXRoaXMuX3NjYWxlVmlzaWJpbGl0eT8udXBkYXRlVmlzaWJpbGl0eShlKTtyZXR1cm4gdHx8aX0pKX1faGlkZUFsbEdyYXBoaWNzKCl7dGhpcy5tb2RpZnlHcmFwaGljczNER3JhcGhpY1Zpc2liaWxpdGllcygoZT0+ZS5zZXRWaXNpYmlsaXR5RmxhZyhkZS5HUkFQSElDLHBlLlVTRVIsITEpKSl9X3ZhbGlkYXRlUmVuZGVyZXIoZSl7Y29uc3QgdD0oKT0+YCcke3RoaXMubGF5ZXIudGl0bGU/YCR7dGhpcy5sYXllci50aXRsZX0sIGA6XCJcIn1pZDoke3RoaXMubGF5ZXIuaWR9J2AsaT1KKGUse2dlb21ldHJ5VHlwZTp0aGlzLmxheWVyPy5nZW9tZXRyeVR5cGUsbG9nV2FybmluZzooZSxpKT0+YS5nZXRMb2dnZXIodGhpcykud2FybihlLGBTeW1ib2xvZ3kgY29udmVyc2lvbiBmb3IgbGF5ZXIgJHt0KCl9OiAke2l9YCl9KTtpZihpKXtjb25zdCBlPWBSZW5kZXJlciBmb3IgbGF5ZXIgJHt0fSBpcyBub3Qgc3VwcG9ydGVkIGluIGEgU2NlbmVWaWV3YDthLmdldExvZ2dlcih0aGlzKS53YXJuKGUsaS5tZXNzYWdlKX19X2NsZWFudXBTeW1ib2xzKCl7aWYodGhpcy5fZ3JhcGhpY3NXYWl0aW5nRm9yU3ltYm9sLnNpemU+MHx8dGhpcy5fc3VzcGVuZFN5bWJvbENsZWFudXApcmV0dXJuO2xldCBlPSExO3RoaXMuX3N5bWJvbHMuZm9yRWFjaCgoKHQsaSk9PntpZihudWxsPT10fHx0LnJlZmVyZW5jZWQ+MClyZXR1cm47Y29uc3Qgcj10aGlzLl9ncmFwaGljc0J5U3ltYm9sLmdldChpKTtyJiYwIT09ci5zaXplfHwodGhpcy5fZ3JhcGhpY3NCeVN5bWJvbC5kZWxldGUoaSksdGhpcy5fc3ltYm9scy5kZWxldGUoaSksdGhpcy5fc3ltYm9sTWF0ZXJpYWxzPW51bGwsdGhpcy5fdW51c2VkU3ltYm9sc0NhY2hlLnB1dChpLHQscCksZT0hMCl9KSksZSYmKHRoaXMuX3JlY29tcHV0ZUV4dGVudFBhZGRpbmcoKSx0aGlzLm5vdGlmeUNoYW5nZShcImF2ZXJhZ2VTeW1ib2xDb21wbGV4aXR5XCIpKX1nZXQgdGVzdCgpe31nZXQgcGVyZm9ybWFuY2VJbmZvKCl7cmV0dXJuIG5ldyBmZSh0aGlzLmdyYXBoaWNzM0RHcmFwaGljcy5zaXplLEFycmF5LmZyb20odGhpcy5ncmFwaGljczNER3JhcGhpY3MudmFsdWVzKCkpLnJlZHVjZSgoKGUsdCk9PmUrKHQuaXNWaXNpYmxlKCk/MTowKSksMCksdGhpcy5fZ3JhcGhpY3NXaXRob3V0U3ltYm9sLnNpemUsdGhpcy5fcGVuZGluZ1VwZGF0ZXMuc2l6ZSl9fTt2YXIgTmU7ZShbRyh7cmVhZE9ubHk6ITB9KV0sSGUucHJvdG90eXBlLFwiY29tcHV0ZWRFeHRlbnRcIix2b2lkIDApLGUoW0coKV0sSGUucHJvdG90eXBlLFwiY3VycmVudFJlbmRlcmVyXCIsdm9pZCAwKSxlKFtHKCldLEhlLnByb3RvdHlwZSxcInJlbmRlcmVySGFzR2VvbWV0cnlPcGVyYXRpb25zXCIsdm9pZCAwKSxlKFtHKCldLEhlLnByb3RvdHlwZSxcIl9mcmFtZVRhc2tIYW5kbGVcIix2b2lkIDApLGUoW0coKV0sSGUucHJvdG90eXBlLFwiX2RhdGFVcGRhdGVRdWV1ZVwiLHZvaWQgMCksZShbRygpXSxIZS5wcm90b3R5cGUsXCJfdXBkYXRlUXVldWVcIix2b2lkIDApLGUoW0coe3JlYWRPbmx5OiEwfSldLEhlLnByb3RvdHlwZSxcIl92aWV3U3BhdGlhbFJlZmVyZW5jZVwiLG51bGwpLGUoW0coKV0sSGUucHJvdG90eXBlLFwiX3JlbmRlcmVyQ2hhbmdlQWJvcnRDb250cm9sbGVyXCIsdm9pZCAwKSxlKFtHKCldLEhlLnByb3RvdHlwZSxcIl9lbGV2YXRpb25JbmZvQ2hhbmdlQWJvcnRDb250cm9sbGVyXCIsdm9pZCAwKSxlKFtHKCldLEhlLnByb3RvdHlwZSxcIl9pbml0aWFsaXplQWJvcnRDb250cm9sbGVyXCIsdm9pZCAwKSxlKFtHKCldLEhlLnByb3RvdHlwZSxcIl9lbGV2YXRpb25BbGlnbm1lbnRcIix2b2lkIDApLGUoW0coKV0sSGUucHJvdG90eXBlLFwiX3NjYWxlVmlzaWJpbGl0eVwiLHZvaWQgMCksZShbRygpXSxIZS5wcm90b3R5cGUsXCJfZmlsdGVyVmlzaWJpbGl0eVwiLHZvaWQgMCksZShbRygpXSxIZS5wcm90b3R5cGUsXCJfaW5pdGlhbGl6ZVByb21pc2VcIix2b2lkIDApLGUoW0coKV0sSGUucHJvdG90eXBlLFwiX3NwYXRpYWxJbmRleFwiLHZvaWQgMCksZShbRyh7cmVhZE9ubHk6ITB9KV0sSGUucHJvdG90eXBlLFwiZXh0ZW50UGFkZGluZ1wiLHZvaWQgMCksZShbRygpXSxIZS5wcm90b3R5cGUsXCJfdXBkYXRpbmdQZW5kaW5nTG9hZGVkR3JhcGhpY3NDaGFuZ2VcIix2b2lkIDApLGUoW0coKV0sSGUucHJvdG90eXBlLFwiX2ZlYXR1cmVTdG9yZVwiLHZvaWQgMCksZShbRygpXSxIZS5wcm90b3R5cGUsXCJfb2JqZWN0U3RhdGVzXCIsdm9pZCAwKSxlKFtHKCldLEhlLnByb3RvdHlwZSxcIl9sb2FkaW5nU3ltYm9sc1wiLHZvaWQgMCksZShbRyh7Y29uc3RydWN0T25seTohMH0pXSxIZS5wcm90b3R5cGUsXCJjb21wcmVzc2lvblRyYWNrZXJcIix2b2lkIDApLGUoW0coKV0sSGUucHJvdG90eXBlLFwicHJlZmVycmVkVXBkYXRlUG9saWN5XCIsdm9pZCAwKSxlKFtHKCldLEhlLnByb3RvdHlwZSxcIl9mb3JjZWRVcGRhdGVQb2xpY3lcIix2b2lkIDApLGUoW0coe3JlYWRPbmx5OiEwfSldLEhlLnByb3RvdHlwZSxcImVmZmVjdGl2ZVVwZGF0ZVBvbGljeVwiLG51bGwpLGUoW0coe2NvbnN0cnVjdE9ubHk6ITB9KV0sSGUucHJvdG90eXBlLFwiZWxldmF0aW9uRmVhdHVyZUV4cHJlc3Npb25FbmFibGVkXCIsdm9pZCAwKSxlKFtHKHtjb25zdHJ1Y3RPbmx5OiEwfSldLEhlLnByb3RvdHlwZSxcIm93bmVyXCIsdm9pZCAwKSxlKFtHKHtjb25zdHJ1Y3RPbmx5OiEwfSldLEhlLnByb3RvdHlwZSxcImxheWVyXCIsdm9pZCAwKSxlKFtHKHtjb25zdHJ1Y3RPbmx5OiEwfSldLEhlLnByb3RvdHlwZSxcImdyYXBoaWNTeW1ib2xTdXBwb3J0ZWRcIix2b2lkIDApLGUoW0coe2NvbnN0cnVjdE9ubHk6ITB9KV0sSGUucHJvdG90eXBlLFwiZ2V0UmVuZGVyaW5nSW5mb1dpdGhvdXRSZW5kZXJlclwiLHZvaWQgMCksZShbRyh7Y29uc3RydWN0T25seTohMH0pXSxIZS5wcm90b3R5cGUsXCJjb21wb25lbnRGYWN0b3JpZXNcIix2b2lkIDApLGUoW0coe2NvbnN0cnVjdE9ubHk6ITB9KV0sSGUucHJvdG90eXBlLFwic2V0VWlkVG9JZE9uQWRkXCIsdm9pZCAwKSxlKFtHKCldLEhlLnByb3RvdHlwZSxcImZlYXR1cmVTdG9yZVwiLG51bGwpLGUoW0coKV0sSGUucHJvdG90eXBlLFwiaW5pdGlhbGl6ZVByb21pc2VcIixudWxsKSxlKFtHKCldLEhlLnByb3RvdHlwZSxcInNjYWxlVmlzaWJpbGl0eVwiLG51bGwpLGUoW0coKV0sSGUucHJvdG90eXBlLFwiZWxldmF0aW9uQWxpZ25tZW50XCIsbnVsbCksZShbRygpXSxIZS5wcm90b3R5cGUsXCJvYmplY3RTdGF0ZXNcIixudWxsKSxlKFtHKCldLEhlLnByb3RvdHlwZSxcImZpbHRlclZpc2liaWxpdHlcIixudWxsKSxlKFtHKHtyZWFkT25seTohMH0pXSxIZS5wcm90b3R5cGUsXCJ1cGRhdGluZ1wiLG51bGwpLGUoW0coe3JlYWRPbmx5OiEwfSldLEhlLnByb3RvdHlwZSxcImRhdGFVcGRhdGluZ1wiLG51bGwpLGUoW0coe3JlYWRPbmx5OiEwfSldLEhlLnByb3RvdHlwZSxcInJ1bm5pbmdcIixudWxsKSxlKFtHKHtyZWFkT25seTohMH0pXSxIZS5wcm90b3R5cGUsXCJzdXNwZW5kZWRPck91dHNpZGVPZlZpZXdcIixudWxsKSxlKFtHKHtyZWFkT25seTohMCxkZXBlbmRzT246W119KV0sSGUucHJvdG90eXBlLFwidXBkYXRpbmdSZW1haW5pbmdcIixudWxsKSxlKFtHKHtyZWFkT25seTohMH0pXSxIZS5wcm90b3R5cGUsXCJkaXNwbGF5RmVhdHVyZUxpbWl0XCIsbnVsbCksZShbRyh7cmVhZE9ubHk6ITAsZGVwZW5kc09uOltdfSldLEhlLnByb3RvdHlwZSxcImF2ZXJhZ2VTeW1ib2xDb21wbGV4aXR5XCIsbnVsbCksZShbRyh7Y29uc3RydWN0T25seTohMH0pXSxIZS5wcm90b3R5cGUsXCJoYXNaXCIsdm9pZCAwKSxlKFtHKHtjb25zdHJ1Y3RPbmx5OiEwfSldLEhlLnByb3RvdHlwZSxcImhhc01cIix2b2lkIDApLGUoW0coKV0sSGUucHJvdG90eXBlLFwiX29iamVjdElkRmllbGRcIixudWxsKSxIZT1rZT1lKFt3KFwiZXNyaS52aWV3cy4zZC5sYXllcnMuZ3JhcGhpY3MuR3JhcGhpY3MzRENvcmVcIildLEhlKSxmdW5jdGlvbihlKXtlW2UuTkVXPTBdPVwiTkVXXCIsZVtlLkxPQURJTkc9MV09XCJMT0FESU5HXCIsZVtlLlJFQURZPTJdPVwiUkVBRFlcIixlW2UuUkVKRUNURUQ9M109XCJSRUpFQ1RFRFwifShOZXx8KE5lPXt9KSk7Y2xhc3MgQmV7Y29uc3RydWN0b3IoKXt0aGlzLmFkZD1udWxsLHRoaXMucmVuZGVyaW5nSW5mbz1udWxsLHRoaXMuc3RhdGU9TmUuTkVXLHRoaXMuYWJvcnRDb250cm9sbGVyPW51bGwsdGhpcy5yZW1vdmU9bnVsbH1jbGVhcigpe3RoaXMuYWRkPW51bGwsdGhpcy5yZW5kZXJpbmdJbmZvPW51bGwsdGhpcy5zdGF0ZT1OZS5ORVcsdGhpcy5hYm9ydENvbnRyb2xsZXI9bnVsbCx0aGlzLnJlbW92ZT1udWxsfX1jb25zdCBxZT0xMCxZZT1VKCksUWU9VSgpLCRlPW5ldyBNYXA7ZXhwb3J0e0hlIGFzIEdyYXBoaWNzM0RDb3JlfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjMzL2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7XyBhcyB0fWZyb21cIi4uLy4uLy4uLy4uL2NodW5rcy90c2xpYi5lczYuanNcIjtpbXBvcnQgZSBmcm9tXCIuLi8uLi8uLi8uLi9jb3JlL0FjY2Vzc29yLmpzXCI7aW1wb3J0IHIgZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9FdmVudGVkLmpzXCI7aW1wb3J0e3Byb3BlcnR5IGFzIG99ZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9wcm9wZXJ0eS5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vLi4vY29yZS9oYXMuanNcIjtpbXBvcnRcIi4uLy4uLy4uLy4uL2NvcmUvTG9nZ2VyLmpzXCI7aW1wb3J0XCIuLi8uLi8uLi8uLi9jb3JlL1JhbmRvbUxDRy5qc1wiO2ltcG9ydHtzdWJjbGFzcyBhcyBzfWZyb21cIi4uLy4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvc3ViY2xhc3MuanNcIjtpbXBvcnR7cHJvamVjdFBvaW50IGFzIGl9ZnJvbVwiLi4vLi4vLi4vLi4vZ2VvbWV0cnkvcHJvamVjdGlvblV0aWxzLmpzXCI7aW1wb3J0e2NyZWF0ZSBhcyBhfWZyb21cIi4uLy4uLy4uLy4uL2dlb21ldHJ5L3N1cHBvcnQvYWFCb3VuZGluZ0JveC5qc1wiO2ltcG9ydHtnZXRPYmplY3RJZCBhcyBjfWZyb21cIi4uLy4uLy4uLy4uL2xheWVycy9ncmFwaGljcy9kZWh5ZHJhdGVkRmVhdHVyZXMuanNcIjtpbXBvcnR7T3B0aW1pemVkRmVhdHVyZSBhcyBwfWZyb21cIi4uLy4uLy4uLy4uL2xheWVycy9ncmFwaGljcy9PcHRpbWl6ZWRGZWF0dXJlLmpzXCI7aW1wb3J0IG4gZnJvbVwiLi4vLi4vLi4vLi4vbGF5ZXJzL2dyYXBoaWNzL09wdGltaXplZEdlb21ldHJ5LmpzXCI7aW1wb3J0e29wdGltaXplZEZlYXR1cmVRdWVyeUVuZ2luZUFkYXB0ZXIgYXMgaH1mcm9tXCIuLi8uLi8uLi8uLi9sYXllcnMvZ3JhcGhpY3MvZGF0YS9vcHRpbWl6ZWRGZWF0dXJlUXVlcnlFbmdpbmVBZGFwdGVyLmpzXCI7Y29uc3QgZD1hKCk7bGV0IGw9Y2xhc3MgZXh0ZW5kcyBle2NvbnN0cnVjdG9yKHQpe3N1cGVyKHQpLHRoaXMuZXZlbnRzPW5ldyByLHRoaXMuaGFzWj1udWxsLHRoaXMuaGFzTT1udWxsLHRoaXMub2JqZWN0SWRGaWVsZD1udWxsLHRoaXMuZmVhdHVyZUFkYXB0ZXI9e2dldEF0dHJpYnV0ZToodCxlKT0+XCJncmFwaGljXCJpbiB0P3QuZ3JhcGhpYy5hdHRyaWJ1dGVzW2VdOmguZ2V0QXR0cmlidXRlKHQsZSksZ2V0QXR0cmlidXRlczp0PT5cImdyYXBoaWNcImluIHQ/dC5ncmFwaGljLmF0dHJpYnV0ZXM6aC5nZXRBdHRyaWJ1dGVzKHQpLGdldE9iamVjdElkOnQ9PlwiZ3JhcGhpY1wiaW4gdD9jKHQuZ3JhcGhpYyx0aGlzLm9iamVjdElkRmllbGQpPz92b2lkIDA6aC5nZXRPYmplY3RJZCh0KSxnZXRHZW9tZXRyeTp0PT5cImdyYXBoaWNcImluIHQ/dC5nZXRBc09wdGltaXplZEdlb21ldHJ5KHRoaXMuaGFzWix0aGlzLmhhc00pOmguZ2V0R2VvbWV0cnkodCksZ2V0Q2VudHJvaWQ6KHQsZSk9PntpZihcImdyYXBoaWNcImluIHQpe2xldCByPW51bGw7bnVsbCE9dC5jZW50cm9pZD9yPXQuY2VudHJvaWQ6XCJwb2ludFwiPT09dC5ncmFwaGljLmdlb21ldHJ5LnR5cGUmJmkodC5ncmFwaGljLmdlb21ldHJ5LHUsdGhpcy52aWV3U3BhdGlhbFJlZmVyZW5jZSkmJihyPXUpO2NvbnN0IG89bmV3IEFycmF5KDIrKGUuaGFzWj8xOjApKyhlLmhhc00/MTowKSk7cmV0dXJuIG51bGw9PXI/KG9bMF09MCxvWzFdPTAsb1syXT0wLG9bM109MCk6KG9bMF09ci54LG9bMV09ci55LGUuaGFzWiYmKG9bMl09ci5oYXNaP3IuejowKSxlLmhhc00mJihvW2UuaGFzWj8zOjJdPXIuaGFzTT9yLm06MCkpLG5ldyBuKFtdLG8pfXJldHVybiBoLmdldENlbnRyb2lkKHQsZSl9LGNsb25lV2l0aEdlb21ldHJ5Oih0LGUpPT5cImdyYXBoaWNcImluIHQ/bmV3IHAoZSx0aGlzLmZlYXR1cmVBZGFwdGVyLmdldEF0dHJpYnV0ZXModCksbnVsbCx0aGlzLmZlYXR1cmVBZGFwdGVyLmdldE9iamVjdElkKHQpKTpoLmNsb25lV2l0aEdlb21ldHJ5KHQsZSl9fWZvckVhY2hJbkJvdW5kcyh0LGUpe3RoaXMuZ2V0U3BhdGlhbEluZGV4KCkuZm9yRWFjaEluQm91bmRzKHQsZSl9Zm9yRWFjaEJvdW5kcyh0LGUpe2NvbnN0IHI9dGhpcy5nZXRTcGF0aWFsSW5kZXgoKTtmb3IoY29uc3QgbyBvZiB0KXtjb25zdCB0PXRoaXMuZmVhdHVyZUFkYXB0ZXIuZ2V0T2JqZWN0SWQobyk7bnVsbCE9ci5nZXRCb3VuZHModCxkKSYmZShkKX19fTt0KFtvKHtjb25zdHJ1Y3RPbmx5OiEwfSldLGwucHJvdG90eXBlLFwiZ2V0U3BhdGlhbEluZGV4XCIsdm9pZCAwKSx0KFtvKHtjb25zdHJ1Y3RPbmx5OiEwfSldLGwucHJvdG90eXBlLFwiZm9yRWFjaFwiLHZvaWQgMCksdChbbyh7Y29uc3RydWN0T25seTohMH0pXSxsLnByb3RvdHlwZSxcImhhc1pcIix2b2lkIDApLHQoW28oe2NvbnN0cnVjdE9ubHk6ITB9KV0sbC5wcm90b3R5cGUsXCJoYXNNXCIsdm9pZCAwKSx0KFtvKHtjb25zdHJ1Y3RPbmx5OiEwfSldLGwucHJvdG90eXBlLFwib2JqZWN0SWRGaWVsZFwiLHZvaWQgMCksdChbbyh7Y29uc3RydWN0T25seTohMH0pXSxsLnByb3RvdHlwZSxcInZpZXdTcGF0aWFsUmVmZXJlbmNlXCIsdm9pZCAwKSx0KFtvKHtjb25zdHJ1Y3RPbmx5OiEwfSldLGwucHJvdG90eXBlLFwiZmVhdHVyZVNwYXRpYWxSZWZlcmVuY2VcIix2b2lkIDApLGw9dChbcyhcImVzcmkudmlld3MuM2QubGF5ZXJzLmdyYXBoaWNzLkdyYXBoaWNzM0RGZWF0dXJlU3RvcmVcIildLGwpO2NvbnN0IHU9e3R5cGU6XCJwb2ludFwiLHg6MCx5OjAsaGFzWjohMSxoYXNNOiExLHNwYXRpYWxSZWZlcmVuY2U6bnVsbH07ZXhwb3J0e2wgYXMgR3JhcGhpY3MzREZlYXR1cmVTdG9yZX07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4zMy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e3Jlc3VsdCBhcyByfWZyb21cIi4uLy4uLy4uLy4uL2NvcmUvYXN5bmNVdGlscy5qc1wiO2ltcG9ydHtkZXN0cm95TWF5YmUgYXMgb31mcm9tXCIuLi8uLi8uLi8uLi9jb3JlL21heWJlLmpzXCI7aW1wb3J0e3Rocm93SWZBYm9ydGVkIGFzIHR9ZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9wcm9taXNlVXRpbHMuanNcIjtpbXBvcnR7bWFrZSBhcyBhfWZyb21cIi4vR3JhcGhpY3MzRENhbGxvdXRTeW1ib2xMYXllckZhY3RvcnkuanNcIjtpbXBvcnR7TGluZUNhbGxvdXRTeW1ib2xMYXllclJlbmRlcmluZ0luZm8gYXMgbH1mcm9tXCIuL0dyYXBoaWNzM0RMaW5lQ2FsbG91dFN5bWJvbExheWVyLmpzXCI7aW1wb3J0e0dyYXBoaWNzM0RTeW1ib2wgYXMgZX1mcm9tXCIuL0dyYXBoaWNzM0RTeW1ib2wuanNcIjtjbGFzcyBzIGV4dGVuZHMgZXtjb25zdHJ1Y3RvcihyLG8sdCl7c3VwZXIocixvLHQpLHRoaXMuX2NhbGxvdXRTeW1ib2xMYXllcj1udWxsLHRoaXMuc3ltYm9sLmhhc1Zpc2libGVDYWxsb3V0KCkmJih0aGlzLl9jYWxsb3V0U3ltYm9sTGF5ZXI9YSh0aGlzLnN5bWJvbCxvKSl9YXN5bmMgZG9Mb2FkKG8pe2NvbnN0IGE9dGhpcy5fY2FsbG91dFN5bWJvbExheWVyP3IodGhpcy5fY2FsbG91dFN5bWJvbExheWVyLmxvYWQoKSk6bnVsbDt0cnl7YXdhaXQgc3VwZXIuZG9Mb2FkKG8pLHQobyl9Y2F0Y2gobCl7dGhyb3cgdGhpcy5fY2FsbG91dFN5bWJvbExheWVyPy5hYm9ydExvYWQoKSxsfWEmJmF3YWl0IGF9ZGVzdHJveSgpe3N1cGVyLmRlc3Ryb3koKSx0aGlzLl9jYWxsb3V0U3ltYm9sTGF5ZXI9byh0aGlzLl9jYWxsb3V0U3ltYm9sTGF5ZXIpfWNyZWF0ZUdyYXBoaWNzM0RHcmFwaGljKHIsbyl7Y29uc3QgdD1zdXBlci5jcmVhdGVHcmFwaGljczNER3JhcGhpYyhyLG8pO2lmKG51bGwhPXRoaXMuX2NhbGxvdXRTeW1ib2xMYXllciYmbnVsbCE9dCl7Y29uc3Qgbz10aGlzLl9jcmVhdGVDYWxsb3V0R3JhcGhpYyhyKTtvJiZ0LnNldENhbGxvdXRHcmFwaGljKG8pfXJldHVybiB0fWdsb2JhbFByb3BlcnR5Q2hhbmdlZChyLG8pe3JldHVybiEhc3VwZXIuZ2xvYmFsUHJvcGVydHlDaGFuZ2VkKHIsbykmJighdGhpcy5fY2FsbG91dFN5bWJvbExheWVyfHx0aGlzLl9jYWxsb3V0U3ltYm9sTGF5ZXIuZ2xvYmFsUHJvcGVydHlDaGFuZ2VkKHIsbywocj0+ci5jYWxsb3V0TGF5ZXIpKSl9dXBkYXRlR2VvbWV0cnkocixvKXtjb25zdCB0PXN1cGVyLnVwZGF0ZUdlb21ldHJ5KHIsbyk7aWYodCYmdGhpcy5fY2FsbG91dFN5bWJvbExheWVyKXtjb25zdCB0PXIuY2FsbG91dExheWVyO2lmKHQpcmV0dXJuIHRoaXMuX2NhbGxvdXRTeW1ib2xMYXllci51cGRhdGVHZW9tZXRyeSh0LG8pfXJldHVybiB0fV9jcmVhdGVDYWxsb3V0R3JhcGhpYyhyKXtjb25zdCBvPXIucmVuZGVyaW5nSW5mbztyZXR1cm4gci5yZW5kZXJpbmdJbmZvPW5ldyBsKG8ucmVuZGVyZXIsby5zeW1ib2wpLHRoaXMuX2NhbGxvdXRTeW1ib2xMYXllci5jcmVhdGVHcmFwaGljczNER3JhcGhpYyhyKX19ZXhwb3J0e3MgYXMgR3JhcGhpY3MzRFBvaW50U3ltYm9sfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjMzL2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7XyBhcyBlfWZyb21cIi4uLy4uLy4uLy4uL2NodW5rcy90c2xpYi5lczYuanNcIjtpbXBvcnQgaSBmcm9tXCIuLi8uLi8uLi8uLi9jb3JlL0FjY2Vzc29yLmpzXCI7aW1wb3J0IHQgZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9Mb2dnZXIuanNcIjtpbXBvcnR7cHJvcGVydHkgYXMgcn1mcm9tXCIuLi8uLi8uLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3Byb3BlcnR5LmpzXCI7aW1wb3J0XCIuLi8uLi8uLi8uLi9jb3JlL2hhcy5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vLi4vY29yZS9SYW5kb21MQ0cuanNcIjtpbXBvcnR7c3ViY2xhc3MgYXMgc31mcm9tXCIuLi8uLi8uLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3N1YmNsYXNzLmpzXCI7aW1wb3J0e1VwZGF0aW5nSGFuZGxlcyBhcyBhfWZyb21cIi4uLy4uLy4uLy4uL2NvcmUvc3VwcG9ydC9VcGRhdGluZ0hhbmRsZXMuanNcIjtpbXBvcnR7cHJvamVjdEJvdW5kaW5nUmVjdCBhcyBsfWZyb21cIi4uLy4uLy4uLy4uL2dlb21ldHJ5L3Byb2plY3Rpb24vcHJvamVjdEJvdW5kaW5nUmVjdC5qc1wiO2ltcG9ydHtjcmVhdGUgYXMgbn1mcm9tXCIuLi8uLi8uLi8uLi9nZW9tZXRyeS9zdXBwb3J0L2FhQm91bmRpbmdSZWN0LmpzXCI7aW1wb3J0e1Zpc2liaWxpdHlHcm91cCBhcyBjLFZpc2liaWxpdHlGbGFnIGFzIG99ZnJvbVwiLi9lbnVtcy5qc1wiO2ltcG9ydHtzY2FsZUJvdW5kc1ByZWRpY2F0ZSBhcyBofWZyb21cIi4uLy4uLy4uL3N1cHBvcnQvbGF5ZXJWaWV3VXRpbHMuanNcIjtpbXBvcnR7VGFza1ByaW9yaXR5IGFzIHB9ZnJvbVwiLi4vLi4vLi4vc3VwcG9ydC9TY2hlZHVsZXIuanNcIjtpbXBvcnR7WWllbGQgYXMgZH1mcm9tXCIuLi8uLi8uLi9zdXBwb3J0L1lpZWxkLmpzXCI7bGV0IHU9Y2xhc3MgZXh0ZW5kcyBpe2NvbnN0cnVjdG9yKGUpe3N1cGVyKGUpLHRoaXMuX3NjYWxlUmFuZ2VBY3RpdmU9ITEsdGhpcy5fbGF5ZXJTY2FsZVJhbmdlVmlzaWJpbGl0eVF1ZXJ5PSExLHRoaXMuX2V4dGVudD1udWxsLHRoaXMuX3VwZGF0aW5nSGFuZGxlcz1uZXcgYSx0aGlzLmdyYXBoaWNzQ29yZU93bmVyPW51bGwsdGhpcy5sYXllcj1udWxsLHRoaXMucXVlcnlHcmFwaGljVUlEc0luRXh0ZW50PW51bGwsdGhpcy5ncmFwaGljc0NvcmU9bnVsbCx0aGlzLmJhc2VtYXBUZXJyYWluPW51bGwsdGhpcy5sYXllclNjYWxlRW5hYmxlZD0hMCx0aGlzLnN1c3BlbmRlZD0hMSx0aGlzLl9kaXJ0eT0hMH1pbml0aWFsaXplKCl7dGhpcy51cGRhdGVTY2FsZVJhbmdlQWN0aXZlKCk7Y29uc3QgZT10aGlzLmdyYXBoaWNzQ29yZU93bmVyLnZpZXcucmVzb3VyY2VDb250cm9sbGVyLnNjaGVkdWxlcjt0aGlzLmFkZEhhbmRsZXMoZS5yZWdpc3RlclRhc2socC5TQ0FMRV9WSVNJQklMSVRZLHRoaXMpKSx0aGlzLl91cGRhdGluZ0hhbmRsZXMuYWRkKCgoKT0+dGhpcy5sYXllci5lZmZlY3RpdmVTY2FsZVJhbmdlKSwoKCk9PnRoaXMubGF5ZXJNaW5NYXhTY2FsZUNoYW5nZUhhbmRsZXIoKSkpfWRlc3Ryb3koKXt0aGlzLl91cGRhdGluZ0hhbmRsZXMuZGVzdHJveSgpLHRoaXMucmVtb3ZlSGFuZGxlcygpLHRoaXMuX2RpcnR5PSExLHRoaXMuX2V4dGVudD1udWxsLHRoaXMuZ3JhcGhpY3NDb3JlT3duZXI9bnVsbCx0aGlzLmxheWVyPW51bGwsdGhpcy5xdWVyeUdyYXBoaWNVSURzSW5FeHRlbnQ9bnVsbCx0aGlzLmdyYXBoaWNzQ29yZT1udWxsLHRoaXMuYmFzZW1hcFRlcnJhaW49bnVsbH1nZXQgdXBkYXRpbmcoKXtyZXR1cm4gdGhpcy5fZGlydHl8fHRoaXMuX3VwZGF0aW5nSGFuZGxlcy51cGRhdGluZ31fc2V0RGlydHkoKXt0aGlzLl9kaXJ0eT0hMH1zZXRFeHRlbnQoZSl7Y29uc3QgaT10aGlzLmdyYXBoaWNzQ29yZU93bmVyLnZpZXcuc3BhdGlhbFJlZmVyZW5jZSx0PXRoaXMuZ3JhcGhpY3NDb3JlT3duZXIudmlldy5iYXNlbWFwVGVycmFpbi5zcGF0aWFsUmVmZXJlbmNlO2lmKGk9PT10KXRoaXMuX2V4dGVudD1lPz9udWxsO2Vsc2V7Y29uc3Qgcj1uKCk7bChlLGkscix0KT90aGlzLl9leHRlbnQ9cjp0aGlzLl9leHRlbnQ9bnVsbH10aGlzLl9zZXREaXJ0eSgpfXNjYWxlUmFuZ2VBY3RpdmUoKXtyZXR1cm4gdGhpcy5fc2NhbGVSYW5nZUFjdGl2ZX11cGRhdGVTY2FsZVJhbmdlQWN0aXZlKCl7Y29uc3QgZT10aGlzLmxheWVyLGk9ZS5lZmZlY3RpdmVTY2FsZVJhbmdlO2xldCB0PXRoaXMubGF5ZXJTY2FsZUVuYWJsZWQmJm51bGwhPWkmJmcoaS5taW5TY2FsZSxpLm1heFNjYWxlKTtlLmxhYmVsaW5nSW5mbyYmIXQmJih0PWUubGFiZWxpbmdJbmZvLnNvbWUoKGU9PmUmJmcoZS5taW5TY2FsZT8/MCxlLm1heFNjYWxlPz8wKSkpKTtjb25zdCByPXRoaXMuX3NjYWxlUmFuZ2VBY3RpdmUhPT10O3JldHVybiB0aGlzLl9zY2FsZVJhbmdlQWN0aXZlPXQsdCYmIXRoaXMuaGFzSGFuZGxlcyh5KSYmdGhpcy5iYXNlbWFwVGVycmFpbj8odGhpcy5hZGRIYW5kbGVzKHRoaXMuYmFzZW1hcFRlcnJhaW4ub24oXCJzY2FsZS1jaGFuZ2VcIiwoZT0+dGhpcy5fc2NhbGVVcGRhdGVIYW5kbGVyKGUpKSkseSksdGhpcy5sYXllclNjYWxlRW5hYmxlZCYmdGhpcy5hZGRIYW5kbGVzKHRoaXMuYmFzZW1hcFRlcnJhaW4ub24oXCJ0aWxlcy12aXNpYmlsaXR5LWNoYW5nZWRcIiwoKCk9PnRoaXMuX3NldERpcnR5KCkpKSx5KSk6IXQmJnRoaXMuaGFzSGFuZGxlcyh5KSYmdGhpcy5yZW1vdmVIYW5kbGVzKHkpLHJ9Z2V0IHJ1bm5pbmcoKXtyZXR1cm4hKCF0aGlzLmdyYXBoaWNzQ29yZU93bmVyLnZpZXcuYmFzZW1hcFRlcnJhaW58fCF0aGlzLnVwZGF0aW5nKX1ydW5UYXNrKGUpe2NvbnN0IGk9dGhpcy5ncmFwaGljc0NvcmVPd25lci52aWV3LmJhc2VtYXBUZXJyYWluO2lmKHRoaXMuX2V4dGVudCYmaSYmaS5yZWFkeSYmdGhpcy5fc2NhbGVSYW5nZUFjdGl2ZSYmdGhpcy5sYXllclNjYWxlRW5hYmxlZCl7aWYodGhpcy5fbGF5ZXJTY2FsZVJhbmdlVmlzaWJpbGl0eVF1ZXJ5KXJldHVybiBkO3t0aGlzLl9sYXllclNjYWxlUmFuZ2VWaXNpYmlsaXR5UXVlcnk9ITA7Y29uc3R7bWluU2NhbGU6ZSxtYXhTY2FsZTp0fT10aGlzLmxheWVyLmVmZmVjdGl2ZVNjYWxlUmFuZ2U7aS5xdWVyeVZpc2libGVTY2FsZVJhbmdlKHRoaXMuX2V4dGVudCxlLHQsKGU9PnRoaXMuX2ZpbmlzaFVwZGF0ZShlKSkpfX1lbHNlIHRoaXMuX2ZpbmlzaFVwZGF0ZSghMCk7ZS5tYWRlUHJvZ3Jlc3MoKX1fZmluaXNoVXBkYXRlKGUpe3RoaXMuX2xheWVyU2NhbGVSYW5nZVZpc2liaWxpdHlRdWVyeT0hMSx0aGlzLl9zZXQoXCJzdXNwZW5kZWRcIiwhZSksdGhpcy5fZGlydHk9ITF9X3Zpc2libGVBdExheWVyU2NhbGUoZSl7Y29uc3QgaT10aGlzLmxheWVyLmVmZmVjdGl2ZVNjYWxlUmFuZ2U7cmV0dXJuIXRoaXMubGF5ZXJTY2FsZUVuYWJsZWR8fGgoZSxpLm1pblNjYWxlfHwwLGkubWF4U2NhbGV8fDApfV92aXNpYmxlQXRMYWJlbFNjYWxlKGUsaSl7cmV0dXJuIGgoZSxpLm1pblNjYWxlfHwwLGkubWF4U2NhbGV8fDApfV9ncmFwaGljU2NhbGUoZSl7bGV0IGk7aWYobnVsbCE9ZS5jZW50cm9pZD9pPWUuY2VudHJvaWQ6bnVsbCE9ZS5ncmFwaGljLmdlb21ldHJ5JiZcInBvaW50XCI9PT1lLmdyYXBoaWMuZ2VvbWV0cnkudHlwZSYmKGk9ZS5ncmFwaGljLmdlb21ldHJ5KSxpKXtyZXR1cm4gdGhpcy5ncmFwaGljc0NvcmVPd25lci52aWV3LmJhc2VtYXBUZXJyYWluP3RoaXMuZ3JhcGhpY3NDb3JlT3duZXIudmlldy5iYXNlbWFwVGVycmFpbi5nZXRTY2FsZShpKToxfXJldHVybiBudWxsfV9ncmFwaGljVmlzaWJsZShlKXtpZighdGhpcy5sYXllclNjYWxlRW5hYmxlZClyZXR1cm4hMDtjb25zdCBpPXRoaXMuX2dyYXBoaWNTY2FsZShlKTtyZXR1cm4gdGhpcy5fdmlzaWJsZUF0TGF5ZXJTY2FsZShpKX11cGRhdGVWaXNpYmlsaXR5KGUpe2lmKCF0aGlzLl9zY2FsZVJhbmdlQWN0aXZlKXJldHVybiExO2NvbnN0IGk9dGhpcy5fZ3JhcGhpY1Zpc2libGUoZSk7cmV0dXJuIGUuc2V0VmlzaWJpbGl0eUZsYWcoYy5HUkFQSElDLG8uU0NBTEVfUkFOR0UsaSl9dXBkYXRlR3JhcGhpY0xhYmVsU2NhbGVWaXNpYmlsaXR5KGUpe2lmKCF0aGlzLl9zY2FsZVJhbmdlQWN0aXZlKXJldHVybiExO2lmKCFlLmxhYmVsTGF5ZXJzLmxlbmd0aClyZXR1cm4hMTtjb25zdCBpPXRoaXMuX2dyYXBoaWNTY2FsZShlKSx0PXRoaXMuX3VwZGF0ZUxhYmVsU2NhbGVWaXNpYmlsaXR5KGUsaSk7cmV0dXJuIHQmJih0aGlzLmdyYXBoaWNzQ29yZS5kZWNvbmZsaWN0b3I/LnNldERpcnR5KCksdGhpcy5ncmFwaGljc0NvcmUubGFiZWxlcj8uc2V0RGlydHkoKSksdH1fdXBkYXRlTGFiZWxTY2FsZVZpc2liaWxpdHkoZSxpKXtpZighZS5sYWJlbExheWVycy5sZW5ndGgpcmV0dXJuITE7Y29uc3QgdD1lLmxhYmVsTGF5ZXJzWzBdLmxhYmVsQ2xhc3M7aWYobnVsbCE9dD8ubWluU2NhbGUmJm51bGwhPXQubWF4U2NhbGUpe2NvbnN0IHI9dGhpcy5fdmlzaWJsZUF0TGFiZWxTY2FsZShpLHQpO2lmKGUuc2V0VmlzaWJpbGl0eUZsYWcoYy5MQUJFTCxvLlNDQUxFX1JBTkdFLHIpKXJldHVybiEwfXJldHVybiExfV9zY2FsZVVwZGF0ZUhhbmRsZXIoZSl7aWYodGhpcy5fc2V0RGlydHkoKSwhdGhpcy5ncmFwaGljc0NvcmUudmlzaWJsZSlyZXR1cm47Y29uc3QgaT1lLmV4dGVudCxyPWUuc2NhbGUscz10aGlzLl92aXNpYmxlQXRMYXllclNjYWxlKHIpO2xldCBhPSExO2NvbnN0IG49dGhpcy5ncmFwaGljc0NvcmVPd25lci52aWV3LnNwYXRpYWxSZWZlcmVuY2UsaD1lLnNwYXRpYWxSZWZlcmVuY2U7aWYobnVsbD09aClyZXR1cm4gdm9pZCB0LmdldExvZ2dlcih0aGlzKS5lcnJvcihcInNjYWxlVXBkYXRlOiBJbnRlcm5hbCBlcnJvciwgbm8gU3BhdGlhbFJlZmVyZW5jZSBnaXZlbiBmb3IgdGlsZXNcIik7Y29uc3QgcD0haC5lcXVhbHMobik7aWYocCl7aWYoIWwoaSxoLG0sbikpcmV0dXJuIHZvaWQgdC5nZXRMb2dnZXIodGhpcykuZXJyb3IoXCJzY2FsZVVwZGF0ZTogSW50ZXJuYWwgZXJyb3IsIGNhbm5vdCBwcm9qZWN0IEFBQlIgZnJvbSBcIitoK1wiIHRvIHdraWQgXCIrbil9Y29uc3QgZD1wP206aTt0aGlzLnF1ZXJ5R3JhcGhpY1VJRHNJbkV4dGVudChkLG4sKGU9Pntjb25zdCB0PXRoaXMuZ3JhcGhpY3NDb3JlLmdldEdyYXBoaWNzM0RHcmFwaGljQnlJZChlKTtpZihudWxsPT10KXJldHVybjtjb25zdCBsPXQuY2VudHJvaWQ7bnVsbCE9bCYmKGlbMF0+bC54fHxpWzFdPmwueXx8aVsyXTxsLnh8fGlbM108bC55KXx8KHQuc2V0VmlzaWJpbGl0eUZsYWcoYy5HUkFQSElDLG8uU0NBTEVfUkFOR0UscykmJihhPSEwKSx0aGlzLl91cGRhdGVMYWJlbFNjYWxlVmlzaWJpbGl0eSh0LHIpJiYoYT0hMCkpfSkpLGEmJih0aGlzLmdyYXBoaWNzQ29yZS5kZWNvbmZsaWN0b3I/LnNldERpcnR5KCksdGhpcy5ncmFwaGljc0NvcmUubGFiZWxlcj8uc2V0RGlydHkoKSl9bGF5ZXJNaW5NYXhTY2FsZUNoYW5nZUhhbmRsZXIoKXt0aGlzLnVwZGF0ZVNjYWxlUmFuZ2VBY3RpdmUoKSYmIXRoaXMuX3NjYWxlUmFuZ2VBY3RpdmU/dGhpcy5ncmFwaGljc0NvcmUubW9kaWZ5R3JhcGhpY3MzREdyYXBoaWNWaXNpYmlsaXRpZXMoKGU9PmUuc2V0VmlzaWJpbGl0eUZsYWcoYy5HUkFQSElDLG8uU0NBTEVfUkFOR0UsITApKSk6dGhpcy5fc2NhbGVSYW5nZUFjdGl2ZSYmdGhpcy5ncmFwaGljc0NvcmUudXBkYXRlR3JhcGhpY3NWaXNpYmlsaXRpZXMoKSx0aGlzLl9zZXREaXJ0eSgpfX07ZnVuY3Rpb24gZyhlLGkpe3JldHVybiBlPjB8fGk+MH1lKFtyKCldLHUucHJvdG90eXBlLFwiZ3JhcGhpY3NDb3JlT3duZXJcIix2b2lkIDApLGUoW3IoKV0sdS5wcm90b3R5cGUsXCJsYXllclwiLHZvaWQgMCksZShbcigpXSx1LnByb3RvdHlwZSxcInF1ZXJ5R3JhcGhpY1VJRHNJbkV4dGVudFwiLHZvaWQgMCksZShbcigpXSx1LnByb3RvdHlwZSxcImdyYXBoaWNzQ29yZVwiLHZvaWQgMCksZShbcigpXSx1LnByb3RvdHlwZSxcImJhc2VtYXBUZXJyYWluXCIsdm9pZCAwKSxlKFtyKHtjb25zdHJ1Y3RPbmx5OiEwfSldLHUucHJvdG90eXBlLFwibGF5ZXJTY2FsZUVuYWJsZWRcIix2b2lkIDApLGUoW3Ioe3JlYWRPbmx5OiEwfSldLHUucHJvdG90eXBlLFwic3VzcGVuZGVkXCIsdm9pZCAwKSxlKFtyKHtyZWFkT25seTohMH0pXSx1LnByb3RvdHlwZSxcInVwZGF0aW5nXCIsbnVsbCksZShbcigpXSx1LnByb3RvdHlwZSxcIl9kaXJ0eVwiLHZvaWQgMCksdT1lKFtzKFwiZXNyaS52aWV3cy4zZC5sYXllcnMuZ3JhcGhpY3MuR3JhcGhpY3MzRFNjYWxlVmlzaWJpbGl0eVwiKV0sdSk7Y29uc3QgeT1cInRlcnJhaW4tZXZlbnRzXCIsbT1uKCk7ZXhwb3J0e3UgYXMgR3JhcGhpY3MzRFNjYWxlVmlzaWJpbGl0eX07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4zMy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e0dyYXBoaWNzM0RQb2ludFN5bWJvbCBhcyBvfWZyb21cIi4vR3JhcGhpY3MzRFBvaW50U3ltYm9sLmpzXCI7aW1wb3J0e0dyYXBoaWNzM0RTeW1ib2wgYXMgcn1mcm9tXCIuL0dyYXBoaWNzM0RTeW1ib2wuanNcIjtmdW5jdGlvbiB0KHQsaSxuKXtyZXR1cm5cInBvaW50LTNkXCI9PT10LnR5cGU/bmV3IG8odCxpLG4pOm5ldyByKHQsaSxuKX1leHBvcnR7dCBhcyBtYWtlfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjMzL2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5jbGFzcyBze2NvbnN0cnVjdG9yKHMsaSx0LGgpe3RoaXMudG90YWw9cyx0aGlzLnZpc2libGU9aSx0aGlzLm1pc3Npbmc9dCx0aGlzLnBlbmRpbmc9aH19ZXhwb3J0e3MgYXMgR3JhcGhpY3NDb3JlUGVyZm9ybWFuY2VJbmZvfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjMzL2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7XyBhcyB0fWZyb21cIi4uLy4uLy4uLy4uL2NodW5rcy90c2xpYi5lczYuanNcIjtpbXBvcnQgZSBmcm9tXCIuLi8uLi8uLi8uLi9jb3JlL0FjY2Vzc29yLmpzXCI7aW1wb3J0IGhhcyBmcm9tXCIuLi8uLi8uLi8uLi9jb3JlL2hhcy5qc1wiO2ltcG9ydHtkZXN0cm95TWF5YmUgYXMgc31mcm9tXCIuLi8uLi8uLi8uLi9jb3JlL21heWJlLmpzXCI7aW1wb3J0e3Byb3BlcnR5IGFzIGl9ZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9wcm9wZXJ0eS5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vLi4vY29yZS9Mb2dnZXIuanNcIjtpbXBvcnRcIi4uLy4uLy4uLy4uL2NvcmUvUmFuZG9tTENHLmpzXCI7aW1wb3J0e3N1YmNsYXNzIGFzIHJ9ZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9zdWJjbGFzcy5qc1wiO2ltcG9ydHtQb29sZWRSQnVzaCBhcyBufWZyb21cIi4uLy4uLy4uLy4uL2NvcmUvbGlicy9yYnVzaC9Qb29sZWRSQnVzaC5qc1wiO2ltcG9ydHtmcm9tUmVjdCBhcyBvfWZyb21cIi4uLy4uLy4uLy4uL2dlb21ldHJ5L3N1cHBvcnQvYWFCb3VuZGluZ0JveC5qc1wiO2ltcG9ydHtnZXRPYmplY3RJZCBhcyBhfWZyb21cIi4uLy4uLy4uLy4uL2xheWVycy9ncmFwaGljcy9kZWh5ZHJhdGVkRmVhdHVyZXMuanNcIjtsZXQgZD1jbGFzcyBleHRlbmRzIGV7Y29uc3RydWN0b3IodCl7c3VwZXIodCksdGhpcy5faW5kZXg9bmV3IG4oOSxoYXMoXCJlc3JpLWNzcC1yZXN0cmljdGlvbnNcIik/dD0+KHttaW5YOnQuZXh0ZW50WzBdLG1pblk6dC5leHRlbnRbMV0sbWF4WDp0LmV4dGVudFsyXSxtYXhZOnQuZXh0ZW50WzNdfSk6W1wiLmV4dGVudFswXVwiLFwiLmV4dGVudFsxXVwiLFwiLmV4dGVudFsyXVwiLFwiLmV4dGVudFszXVwiXSksdGhpcy5fbWlzc2luZz1uZXcgU2V0LHRoaXMuX2JvdW5kc0J5RmVhdHVyZT1uZXcgTWFwLHRoaXMuc3BhdGlhbFJlZmVyZW5jZT1udWxsLHRoaXMuaGFzWj1udWxsLHRoaXMuaGFzTT1udWxsLHRoaXMub2JqZWN0SWRGaWVsZD1udWxsLHRoaXMudXBkYXRpbmc9ITF9c2V0dXAodCl7dGhpcy5fYWRkTWFueSh0KX1kZXN0cm95KCl7dGhpcy5fbWlzc2luZy5jbGVhcigpLHRoaXMuX2luZGV4PXModGhpcy5faW5kZXgpLHRoaXMuX2JvdW5kc0J5RmVhdHVyZS5jbGVhcigpLHRoaXMuX2JvdW5kc0J5RmVhdHVyZT1udWxsfXVwZGF0ZSgpe3RoaXMuX21pc3Npbmcuc2l6ZT4wJiYodGhpcy5fYWRkTWFueShBcnJheS5mcm9tKHRoaXMuX21pc3NpbmcudmFsdWVzKCkpKSx0aGlzLnVwZGF0aW5nPSExLHRoaXMuX21pc3NpbmcuY2xlYXIoKSl9Z2V0IHVwZGF0aW5nUmVtYWluaW5nKCl7cmV0dXJuIHRoaXMuX21pc3Npbmcuc2l6ZX1xdWVyeUdyYXBoaWNVSURzSW5FeHRlbnQodCxlLHMpe251bGwhPWUmJmUuZXF1YWxzKHRoaXMuc3BhdGlhbFJlZmVyZW5jZSkmJih1Lm1pblg9dFswXSx1Lm1pblk9dFsxXSx1Lm1heFg9dFsyXSx1Lm1heFk9dFszXSx0aGlzLnVwZGF0ZSgpLHRoaXMuX2luZGV4LnNlYXJjaCh1LCh0PT5zKHQuZ3JhcGhpYy51aWQpKSkpfWFkZCh0KXt0aGlzLl9taXNzaW5nLmFkZCh0KSx0aGlzLnVwZGF0aW5nPSEwfXJlbW92ZSh0KXtpZih0aGlzLl9taXNzaW5nLmRlbGV0ZSh0KSlyZXR1cm4gdm9pZCh0aGlzLnVwZGF0aW5nPXRoaXMuX21pc3Npbmcuc2l6ZT4wKTtpZighdC5leHRlbnQpcmV0dXJuO3RoaXMuX2luZGV4LnJlbW92ZSh0KTtjb25zdCBlPWEodC5ncmFwaGljLHRoaXMuX2dldChcIm9iamVjdElkRmllbGRcIikpO251bGwhPWUmJnRoaXMuX2JvdW5kc0J5RmVhdHVyZS5kZWxldGUoZSl9X2FkZE1hbnkodCl7aWYoMD09PXQubGVuZ3RoKXJldHVybjtjb25zdCBlPXRoaXMuX2dldChcIm9iamVjdElkRmllbGRcIik7Zm9yKGNvbnN0IHMgb2YgdCl7cy5jb21wdXRlRXh0ZW50KHRoaXMuc3BhdGlhbFJlZmVyZW5jZSk7Y29uc3QgdD1hKHMuZ3JhcGhpYyxlKTtudWxsIT10JiZ0aGlzLl9ib3VuZHNCeUZlYXR1cmUuc2V0KHQscy5leHRlbnQpfXRoaXMuX2luZGV4LmxvYWQodCl9Y2xlYXIoKXt0aGlzLl9pbmRleC5jbGVhcigpLHRoaXMuX21pc3NpbmcuY2xlYXIoKSx0aGlzLl9ib3VuZHNCeUZlYXR1cmUuY2xlYXIoKSx0aGlzLnVwZGF0aW5nPSExfWZvckVhY2hJbkJvdW5kcyh0LGUpe3UubWluWD10WzBdLHUubWluWT10WzFdLHUubWF4WD10WzJdLHUubWF4WT10WzNdLHRoaXMudXBkYXRlKCksdGhpcy5faW5kZXguc2VhcmNoKHUsKHQ9PntlKHQpfSkpfWdldEJvdW5kcyh0LGUpe3RoaXMudXBkYXRlKCk7Y29uc3Qgcz10aGlzLl9ib3VuZHNCeUZlYXR1cmUuZ2V0KHQpO3JldHVybiBzP28oZSxzKTpudWxsfX07dChbaSh7Y29uc3RydWN0T25seTohMH0pXSxkLnByb3RvdHlwZSxcInNwYXRpYWxSZWZlcmVuY2VcIix2b2lkIDApLHQoW2koe2NvbnN0cnVjdE9ubHk6ITB9KV0sZC5wcm90b3R5cGUsXCJoYXNaXCIsdm9pZCAwKSx0KFtpKHtjb25zdHJ1Y3RPbmx5OiEwfSldLGQucHJvdG90eXBlLFwiaGFzTVwiLHZvaWQgMCksdChbaSh7Y29uc3RydWN0T25seTohMH0pXSxkLnByb3RvdHlwZSxcIm9iamVjdElkRmllbGRcIix2b2lkIDApLHQoW2koKV0sZC5wcm90b3R5cGUsXCJ1cGRhdGluZ1wiLHZvaWQgMCksdChbaSh7cmVhZE9ubHk6ITB9KV0sZC5wcm90b3R5cGUsXCJ1cGRhdGluZ1JlbWFpbmluZ1wiLG51bGwpLGQ9dChbcihcImVzcmkudmlld3MuM2QubGF5ZXJzLmdyYXBoaWNzLlNwYXRpYWxJbmRleDJEXCIpXSxkKTtjb25zdCB1PXttaW5YOjAsbWluWTowLG1heFg6MCxtYXhZOjB9O2V4cG9ydHtkIGFzIFNwYXRpYWxJbmRleDJEfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjMzL2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7XyBhcyBlfWZyb21cIi4uLy4uLy4uLy4uL2NodW5rcy90c2xpYi5lczYuanNcIjtpbXBvcnQgdCBmcm9tXCIuLi8uLi8uLi8uLi9jb3JlL0FjY2Vzc29yLmpzXCI7aW1wb3J0IHIgZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9FdmVudGVkLmpzXCI7aW1wb3J0IG8gZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9Mb2dnZXIuanNcIjtpbXBvcnR7Z2V0TWV0ZXJzUGVyVmVydGljYWxVbml0Rm9yU1IgYXMgc31mcm9tXCIuLi8uLi8uLi8uLi9jb3JlL3VuaXRVdGlscy5qc1wiO2ltcG9ydHtwcm9wZXJ0eSBhcyBpfWZyb21cIi4uLy4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvcHJvcGVydHkuanNcIjtpbXBvcnRcIi4uLy4uLy4uLy4uL2NvcmUvaGFzLmpzXCI7aW1wb3J0XCIuLi8uLi8uLi8uLi9jb3JlL1JhbmRvbUxDRy5qc1wiO2ltcG9ydHtzdWJjbGFzcyBhcyBufWZyb21cIi4uLy4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvc3ViY2xhc3MuanNcIjtpbXBvcnR7YyBhcyBhfWZyb21cIi4uLy4uLy4uLy4uL2NodW5rcy92ZWMzMi5qc1wiO2ltcG9ydHtjcmVhdGUgYXMgbH1mcm9tXCIuLi8uLi8uLi8uLi9jb3JlL2xpYnMvZ2wtbWF0cml4LTIvZmFjdG9yaWVzL3ZlYzNmNjQuanNcIjtpbXBvcnR7ZW1wdHkgYXMgYyx0b1JlY3QgYXMgZCxleHBhbmRXaXRoVmVjMyBhcyBtfWZyb21cIi4uLy4uLy4uLy4uL2dlb21ldHJ5L3N1cHBvcnQvYWFCb3VuZGluZ0JveC5qc1wiO2ltcG9ydHtnZXRNZXRlcnNQZXJVbml0IGFzIHB9ZnJvbVwiLi4vLi4vLi4vLi4vc3ltYm9scy9zdXBwb3J0L3VuaXRDb252ZXJzaW9uVXRpbHMuanNcIjtpbXBvcnR7RWxldmF0aW9uVXBkYXRlRXZlbnQgYXMgaH1mcm9tXCIuLi8uLi9zdXBwb3J0L0VsZXZhdGlvblVwZGF0ZUV2ZW50LmpzXCI7aW1wb3J0e0ludGVyc2VjdG9yIGFzIHV9ZnJvbVwiLi4vLi4vd2ViZ2wtZW5naW5lL2xpYi9JbnRlcnNlY3Rvci5qc1wiO2ltcG9ydHtTdG9yZVJlc3VsdHMgYXMgZn1mcm9tXCIuLi8uLi93ZWJnbC1lbmdpbmUvbGliL0ludGVyc2VjdG9ySW50ZXJmYWNlcy5qc1wiO2ltcG9ydHthZmZlY3RzR2VvbWV0cnkgYXMgZ31mcm9tXCIuLi8uLi93ZWJnbC1lbmdpbmUvbGliL1ZlcnRleEF0dHJpYnV0ZS5qc1wiO2NvbnN0IF89MSx2PVN5bWJvbChcImxheWVySGFuZGxlc1wiKTtsZXQgeT1jbGFzcyBleHRlbmRzKHIuRXZlbnRlZE1peGluKHQpKXtnZXQgc3BhdGlhbFJlZmVyZW5jZSgpe3JldHVybiB0aGlzLnZpZXc/LnNwYXRpYWxSZWZlcmVuY2V9Y29uc3RydWN0b3IoZSl7c3VwZXIoZSksdGhpcy5fZWxldmF0aW9uT2Zmc2V0PTB9aW5pdGlhbGl6ZSgpe3RoaXMuX3JlbmRlckNvb3Jkc0hlbHBlcj10aGlzLnZpZXcucmVuZGVyQ29vcmRzSGVscGVyLHRoaXMuX2ludGVyc2VjdExheWVycz1bdGhpcy5zdGFnZUxheWVyXSx0aGlzLl9pbnRlcnNlY3Rvcj1uZXcgdSh0aGlzLnZpZXcuc3RhdGUudmlld2luZ01vZGUpLHRoaXMuX2ludGVyc2VjdG9yLm9wdGlvbnMuc3RvcmU9Zi5NSU47Y29uc3QgZT10aGlzLl9jb21wdXRlTGF5ZXJFeHRlbnQodGhpcy5zcGF0aWFsUmVmZXJlbmNlLHRoaXMuc3RhZ2VMYXllcik7dGhpcy5fem1pbj1lWzJdLHRoaXMuX3ptYXg9ZVs1XTtjb25zdCB0PXRoaXMuc3RhZ2VMYXllci5ldmVudHM7dGhpcy5hZGRIYW5kbGVzKFt0Lm9uKFtcImxheWVyT2JqZWN0QWRkZWRcIixcImxheWVyT2JqZWN0UmVtb3ZlZFwiLFwidHJhbnNmb3JtYXRpb25DaGFuZ2VkXCIsXCJzaGFkZXJUcmFuc2Zvcm1hdGlvbkNoYW5nZWRcIl0sKGU9PnRoaXMuX29iamVjdENoYW5nZWQoZSkpKSx0Lm9uKFtcImdlb21ldHJ5QWRkZWRcIixcImdlb21ldHJ5UmVtb3ZlZFwiXSwoKHtvYmplY3Q6ZX0pPT50aGlzLl9vYmplY3RDaGFuZ2VkKGUpKSksdC5vbihcImF0dHJpYnV0ZXNDaGFuZ2VkXCIsKCh7YXR0cmlidXRlOmUsb2JqZWN0OnR9KT0+ZyhlKSYmdGhpcy5fb2JqZWN0Q2hhbmdlZCh0KSkpXSx2KX1kaXNwb3NlKCl7dGhpcy5yZW1vdmVIYW5kbGVzKHYpfWVsZXZhdGlvbkluZm9DaGFuZ2VkKCl7Y29uc3QgZT1udWxsIT10aGlzLmxheWVyP3RoaXMubGF5ZXIuZWxldmF0aW9uSW5mbzpudWxsO2lmKG51bGwhPWUmJlwib24tdGhlLWdyb3VuZFwiIT09ZS5tb2RlKXtjb25zdCB0PXModGhpcy5sYXllci5zcGF0aWFsUmVmZXJlbmNlKSxyPXAoZS51bml0Pz9cIm1ldGVyc1wiKTt0aGlzLl9lbGV2YXRpb25PZmZzZXQ9KGUub2Zmc2V0Pz8wKSpyL3R9ZWxzZSB0aGlzLl9lbGV2YXRpb25PZmZzZXQ9MH1nZXRFbGV2YXRpb24oZSx0LHIscyl7aWYoeFswXT1lLHhbMV09dCx4WzJdPXIsIXRoaXMuX3JlbmRlckNvb3Jkc0hlbHBlci50b1JlbmRlckNvb3Jkcyh4LHMseCkpcmV0dXJuIG8uZ2V0TG9nZ2VyKHRoaXMpLmVycm9yKFwiY291bGQgbm90IHByb2plY3QgcG9pbnQgZm9yIGVsZXZhdGlvbiBhbGlnbm1lbnRcIiksbnVsbDtjb25zdCBpPXRoaXMuX2VsZXZhdGlvbk9mZnNldCxuPXRoaXMuX3ptaW4raSxhPXRoaXMuX3ptYXgraTt0aGlzLl9yZW5kZXJDb29yZHNIZWxwZXIuc2V0QWx0aXR1ZGUoQyxhLHgpLHRoaXMuX3JlbmRlckNvb3Jkc0hlbHBlci5zZXRBbHRpdHVkZShFLG4seCk7Y29uc3QgbD1lPT4hIWUubGFzdFZhbGlkRWxldmF0aW9uQkI7cmV0dXJuIHRoaXMuX2ludGVyc2VjdG9yLnJlc2V0KEMsRSxudWxsKSx0aGlzLl9pbnRlcnNlY3Rvci5pbnRlcnNlY3QodGhpcy5faW50ZXJzZWN0TGF5ZXJzLG51bGwsXyxudWxsLGwpLHRoaXMuX2ludGVyc2VjdG9yLnJlc3VsdHMubWluLmdldEludGVyc2VjdGlvblBvaW50KHgpP3RoaXMuX3JlbmRlckNvb3Jkc0hlbHBlci5nZXRBbHRpdHVkZSh4KTpudWxsfV9vYmplY3RDaGFuZ2VkKGUpe2NvbnN0IHQ9dGhpcy5zcGF0aWFsUmVmZXJlbmNlO2lmKCFlLmxhc3RWYWxpZEVsZXZhdGlvbkJCfHwhdClyZXR1cm47YyhqKTtjb25zdCByPWUubGFzdFZhbGlkRWxldmF0aW9uQkI7ci5pc0VtcHR5KCl8fHRoaXMuX2V4cGFuZEV4dGVudCh0LHIubWluLHIubWF4LGopO2NvbnN0e21pbjpvLG1heDpzfT1lLmJvdW5kaW5nVm9sdW1lV29ybGRTcGFjZTt0aGlzLl9leHBhbmRFeHRlbnQodCxvLHMsaiksZChqLGIuZXh0ZW50KSx0aGlzLl96bWluPU1hdGgubWluKHRoaXMuX3ptaW4salsyXSksdGhpcy5fem1heD1NYXRoLm1heCh0aGlzLl96bWF4LGpbNV0pLGIuc3BhdGlhbFJlZmVyZW5jZT10LHRoaXMuZW1pdChcImVsZXZhdGlvbi1jaGFuZ2VcIixiKSxhKHIubWluLG8pLGEoci5tYXgscyl9X2NvbXB1dGVMYXllckV4dGVudChlLHQpe3JldHVybiBjKGopLG51bGwhPWUmJnQub2JqZWN0cy5mb3JFYWNoKCh0PT50aGlzLl9leHBhbmRFeHRlbnQoZSx0LmJvdW5kaW5nVm9sdW1lV29ybGRTcGFjZS5taW4sdC5ib3VuZGluZ1ZvbHVtZVdvcmxkU3BhY2UubWF4LGopKSksan1fZXhwYW5kRXh0ZW50KGUsdCxyLG8pe2ZvcihsZXQgcz0wO3M8ODsrK3MpeFswXT0xJnM/dFswXTpyWzBdLHhbMV09MiZzP3RbMV06clsxXSx4WzJdPTQmcz90WzJdOnJbMl0sdGhpcy5fcmVuZGVyQ29vcmRzSGVscGVyLmZyb21SZW5kZXJDb29yZHMoeCx4LGUpLG0obyx4KTtyZXR1cm4gb319O2UoW2koe2NvbnN0cnVjdE9ubHk6ITB9KV0seS5wcm90b3R5cGUsXCJsYXllclwiLHZvaWQgMCksZShbaSh7Y29uc3RydWN0T25seTohMH0pXSx5LnByb3RvdHlwZSxcInN0YWdlTGF5ZXJcIix2b2lkIDApLGUoW2koe2NvbnN0cnVjdE9ubHk6ITB9KV0seS5wcm90b3R5cGUsXCJ2aWV3XCIsdm9pZCAwKSxlKFtpKCldLHkucHJvdG90eXBlLFwic3BhdGlhbFJlZmVyZW5jZVwiLG51bGwpLHk9ZShbbihcImVzcmkudmlld3MuM2QubGF5ZXJzLnN1cHBvcnQuU3RhZ2VMYXllckVsZXZhdGlvblByb3ZpZGVyXCIpXSx5KTtjb25zdCBqPWMoKSxiPW5ldyBoLHg9bCgpLEM9bCgpLEU9bCgpO2V4cG9ydHt5IGFzIFN0YWdlTGF5ZXJFbGV2YXRpb25Qcm92aWRlcn07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4zMy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0IHIgZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9Db2xsZWN0aW9uLmpzXCI7aW1wb3J0e21ha2VIYW5kbGUgYXMgb31mcm9tXCIuLi8uLi8uLi8uLi9jb3JlL2hhbmRsZVV0aWxzLmpzXCI7aW1wb3J0e2lzR3JhcGhpYyBhcyB0fWZyb21cIi4uLy4uLy4uLy4uL3N1cHBvcnQvZ3VhcmRzLmpzXCI7ZnVuY3Rpb24gZShvKXtyZXR1cm4gci5pc0NvbGxlY3Rpb24obyk/by50b0FycmF5KCk6QXJyYXkuaXNBcnJheShvKT9vOmkobyl8fHQobyl8fGMobyk/W29dOm59ZnVuY3Rpb24gaShyKXtyZXR1cm5cIm51bWJlclwiPT10eXBlb2Ygcnx8XCJzdHJpbmdcIj09dHlwZW9mIHJ9Y29uc3Qgbj1bXSxzPW8oKTtmdW5jdGlvbiBjKHIpe3JldHVyblwiZXNyaS52aWV3cy4zZC5sYXllcnMuaTNzLlBvaW50Q2xvdWRHcmFwaGljXCI9PT1yLmRlY2xhcmVkQ2xhc3N9ZXhwb3J0e3MgYXMgZW1wdHlIaWdobGlnaHRIYW5kbGUsaSBhcyBpc09iamVjdElkLGUgYXMgbm9ybWFsaXplSGlnaGxpZ2h0VGFyZ2V0RXhjZXB0UXVlcnl9O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9