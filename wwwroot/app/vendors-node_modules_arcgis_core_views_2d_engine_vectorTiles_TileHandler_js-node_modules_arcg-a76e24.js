export const __webpack_id__ = "vendors-node_modules_arcgis_core_views_2d_engine_vectorTiles_TileHandler_js-node_modules_arcg-a76e24";
export const __webpack_ids__ = ["vendors-node_modules_arcgis_core_views_2d_engine_vectorTiles_TileHandler_js-node_modules_arcg-a76e24"];
export const __webpack_modules__ = {

/***/ "./node_modules/@arcgis/core/symbols/cim/constants.js":
/*!************************************************************!*\
  !*** ./node_modules/@arcgis/core/symbols/cim/constants.js ***!
  \************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   antialiasingOutlineFillSettings: () => (/* binding */ l),
/* harmony export */   dashRadius: () => (/* binding */ e),
/* harmony export */   dashSdfDistanceNormalization: () => (/* binding */ o),
/* harmony export */   dashSdfRasterizationScale: () => (/* binding */ i),
/* harmony export */   maxTileCoordValue: () => (/* binding */ r)
/* harmony export */ });
/* harmony import */ var _defaultCIMValues_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./defaultCIMValues.js */ "./node_modules/@arcgis/core/symbols/cim/defaultCIMValues.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
const e=15.5,i=4,o=64,r=1024,l={outlineWidth:.75,referenceWidth:.75,cap:_defaultCIMValues_js__WEBPACK_IMPORTED_MODULE_0__.defaultCIMValues.CIMSolidStroke.capstyle,join:_defaultCIMValues_js__WEBPACK_IMPORTED_MODULE_0__.defaultCIMValues.CIMSolidStroke.joinstyle,miterLimit:_defaultCIMValues_js__WEBPACK_IMPORTED_MODULE_0__.defaultCIMValues.CIMSolidStroke.miterlimit};


/***/ }),

/***/ "./node_modules/@arcgis/core/symbols/cim/rasterizingUtils.js":
/*!*******************************************************************!*\
  !*** ./node_modules/@arcgis/core/symbols/cim/rasterizingUtils.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   addColorStops: () => (/* binding */ p),
/* harmony export */   rasterizeDash: () => (/* binding */ u),
/* harmony export */   rasterizeDash1D: () => (/* binding */ m),
/* harmony export */   rasterizeFillStyle: () => (/* binding */ f),
/* harmony export */   rasterizeGradient: () => (/* binding */ g),
/* harmony export */   scale: () => (/* binding */ T),
/* harmony export */   translate: () => (/* binding */ R)
/* harmony export */ });
/* harmony import */ var _core_floatRGBA_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../core/floatRGBA.js */ "./node_modules/@arcgis/core/core/floatRGBA.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_mathUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/mathUtils.js */ "./node_modules/@arcgis/core/core/mathUtils.js");
/* harmony import */ var _constants_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./constants.js */ "./node_modules/@arcgis/core/symbols/cim/constants.js");
/* harmony import */ var _defaultCIMValues_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./defaultCIMValues.js */ "./node_modules/@arcgis/core/symbols/cim/defaultCIMValues.js");
/* harmony import */ var _views_2d_engine_webgl_definitions_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../views/2d/engine/webgl/definitions.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/definitions.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
const l=()=>_core_Logger_js__WEBPACK_IMPORTED_MODULE_1__["default"].getLogger("esri.symbols.cim.rasterizingUtils"),c=32,h=o=>"vertical"===o||"horizontal"===o||"cross"===o||"esriSFSCross"===o||"esriSFSVertical"===o||"esriSFSHorizontal"===o;function f(o,t,r){const n=t.style,a=(0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_2__.nextPowerOfTwo)(Math.ceil(r)),s=h(n)?8*a:16*a,i=2*a;o.width=s,o.height=s;const l=o.getContext("2d");l.strokeStyle="#ffffff",l.lineWidth=a,l.beginPath(),"vertical"!==n&&"cross"!==n&&"esriSFSCross"!==n&&"esriSFSVertical"!==n||(l.moveTo(s/2,-i),l.lineTo(s/2,s+i)),"horizontal"!==n&&"cross"!==n&&"esriSFSCross"!==n&&"esriSFSHorizontal"!==n||(l.moveTo(-i,s/2),l.lineTo(s+i,s/2)),"backward-diagonal"!==n&&"diagonal-cross"!==n&&"esriSFSDiagonalCross"!==n&&"esriSFSBackwardDiagonal"!==n||(l.moveTo(-i,-i),l.lineTo(s+i,s+i),l.moveTo(s-i,-i),l.lineTo(s+i,i),l.moveTo(-i,s-i),l.lineTo(i,s+i)),"forward-diagonal"!==n&&"diagonal-cross"!==n&&"esriSFSForwardDiagonal"!==n&&"esriSFSDiagonalCross"!==n||(l.moveTo(s+i,-i),l.lineTo(-i,s+i),l.moveTo(i,-i),l.lineTo(-i,i),l.moveTo(s+i,s-i),l.lineTo(s-i,s+i)),l.stroke();const c=l.getImageData(0,0,o.width,o.height),f=new Uint8Array(c.data);let m;for(let e=0;e<f.length;e+=4)m=f[e+3]/255,f[e]=f[e]*m,f[e+1]=f[e+1]*m,f[e+2]=f[e+2]*m;return[f,o.width,o.height,a]}function m(t){t.length%2==1&&(t=[...t,...t]);const e=t.reduce(((o,t)=>o+t),0),a=Math.round(e*_constants_js__WEBPACK_IMPORTED_MODULE_3__.dashSdfRasterizationScale),s=1,i=new Float32Array(a*s);let l=0,c=0,h=.5,f=!0;for(const o of t){for(l=c,c+=o*_constants_js__WEBPACK_IMPORTED_MODULE_3__.dashSdfRasterizationScale;h<=c;){const o=h-.5,t=Math.min(Math.abs(h-l),Math.abs(h-c));i[o]=f?-t:t,h++}f=!f}const m=i.length,u=new Uint8Array(4*m);for(let g=0;g<m;++g){const t=i[g]/_constants_js__WEBPACK_IMPORTED_MODULE_3__.dashSdfRasterizationScale;(0,_core_floatRGBA_js__WEBPACK_IMPORTED_MODULE_0__.packFloatRGBA)(t/_constants_js__WEBPACK_IMPORTED_MODULE_3__.dashSdfDistanceNormalization*.5+.5,u,4*g)}return[u,a,s]}function u(t,e){null==t&&(t=[]);const r="Butt"===e,n="Square"===e,s=!r&&!n;t.length%2==1&&(t=[...t,...t]);const i=_constants_js__WEBPACK_IMPORTED_MODULE_3__.dashRadius,l=2*i;let c=0;for(const o of t)c+=o;const h=Math.round(c*i),f=new Float32Array(h*l),m=.5*i;let u=0,g=0,d=.5,p=!0;for(const o of t){for(u=g,g+=o*i;d<=g;){let o=.5;for(;o<l;){const t=(o-.5)*h+d-.5,e=s?(o-i)*(o-i):Math.abs(o-i);f[t]=p?r?Math.max(Math.max(u+m-d,e),Math.max(d-g+m,e)):e:s?Math.min((d-u)*(d-u)+e,(d-g)*(d-g)+e):n?Math.min(Math.max(d-u,e),Math.max(g-d,e)):Math.min(Math.max(d-u+m,e),Math.max(g+m-d,e)),o++}d++}p=!p}const C=f.length,M=new Uint8Array(4*C);for(let a=0;a<C;++a){const t=(s?Math.sqrt(f[a]):f[a])/i;(0,_core_floatRGBA_js__WEBPACK_IMPORTED_MODULE_0__.packFloatRGBA)(t,M,4*a)}return[M,h,l]}function g(o,t){const{colorRamp:e,gradientType:r}=t,n="CIMFixedColorRamp"===e.type,a=t.interval||_defaultCIMValues_js__WEBPACK_IMPORTED_MODULE_4__.defaultCIMValues.CIMGradientFill.interval;let i=C(e);return n&&(i=M(i,a)),"Discrete"===r||n?w(o,i,a):x(o,i)}let d;function p(o,t){const{colorRamp:e,gradientType:r}=t,n=C(e),a="CIMFixedColorRamp"===e.type;if("Continuous"===r&&!a)return y(o,n);const i=t.interval??_defaultCIMValues_js__WEBPACK_IMPORTED_MODULE_4__.defaultCIMValues.CIMGradientFill.interval;if(a){return y(o,M(n,i))}const l=[];d??=document.createElement("canvas"),S(d,n,i,1,0);const c=d.getContext("2d").getImageData(0,0,i,1).data;for(let s=0,h=0;s<i;s++,h=4*s){const o=[c[h+0],c[h+1],c[h+2],c[h+3]];l.push({offset:s/i,color:o}),l.push({offset:(s+1)/i,color:o})}return y(o,l)}function C(o){const t=[];switch(o.type){case"CIMPolarContinuousColorRamp":case"CIMLinearContinuousColorRamp":{"CIMPolarContinuousColorRamp"===o.type&&l().warnOnce("CIMPolarContinuousColorRamp is currently unsupported. Falling back to CIMLinearContinuousColorRamp.");const e=o;t.push({offset:0,color:[e.fromColor[0],e.fromColor[1],e.fromColor[2],e.fromColor[3]/255]}),t.push({offset:1,color:[e.toColor[0],e.toColor[1],e.toColor[2],e.toColor[3]/255]});break}case"CIMFixedColorRamp":{const e=o,r=1/(e.colors.length-1);let n=0;for(const o of e.colors)t.push({offset:n,color:[o[0],o[1],o[2],o[3]/255]}),n+=r;break}case"CIMMultipartColorRamp":{const e=o,r=e.weights.reduce(((o,t)=>o+t),0);let n=0;for(let o=0;o<e.colorRamps.length;o++){const a=e.colorRamps[o],s=e.weights[o],i=C(a);for(const o of i)t.push({offset:(n+o.offset*s)/r,color:o.color});n+=s}break}default:l().error(`Color ramp "${o.type}" currently unsupported.`)}return t}function M(o,t){const e=[],r=(o.length-1)/(t-1);for(let n=0;n<t;n++){const a=o[Math.round(n*r)].color;e.push({offset:n/t,color:a}),e.push({offset:(n+1)/t,color:a})}return e}function x(o,t){return S(o,t,c,1,_views_2d_engine_webgl_definitions_js__WEBPACK_IMPORTED_MODULE_5__.gradientTextureExternalPadding),F(o)}function w(o,t,e){return S(o,t,e,1,_views_2d_engine_webgl_definitions_js__WEBPACK_IMPORTED_MODULE_5__.gradientTextureExternalPadding),F(o)}function y(o,t,e=0){for(const{offset:r,color:n}of t)o.addColorStop(Math.min(Math.max(r,e),1-e),`rgba(${n[0]}, ${n[1]}, ${n[2]}, ${n[3]})`)}function S(o,t,e,r,n){const a=e+2*n;o.width=a,o.height=r;const s=(n+1)/a,i=o.getContext("2d",{willReadFrequently:!0});if(t.length>0){const o=i.createLinearGradient(0,0,a,r);y(o,t,s),i.fillStyle=o}else i.fillStyle="rgba(128, 128, 128, 1)";i.fillRect(0,0,a,r)}function F(o){const{width:t,height:e}=o,r=o.getContext("2d").getImageData(0,0,t,e),n=new Uint8Array(r.data);for(let a=0;a<n.length;a+=4){const o=n[a+3]/255;n[a]*=o,n[a+1]*=o,n[a+2]*=o}return[n,t,e]}function v(o){const t=o[0]?.[0]?.[0]??0,e=o[0]?.[0]?.[1]??0,r={ymin:e,xmin:t,ymax:e,xmax:t,width:0,height:0};for(let n=0;n<o.length;n++){const t=o[n];for(let o=0;o<t.length;o++){const e=t[o][0],n=t[o][1];e<r.xmin&&(r.xmin=e),e>r.xmax&&(r.xmax=e),n<r.ymin&&(r.ymin=n),n>r.ymax&&(r.ymax=n)}}return r.width=Math.abs(r.xmax-r.xmin),r.height=Math.abs(r.ymax-r.ymin),r}function T(o,t){const e=v(o),r=0===e.width?1:e.width,n=0===e.height?1:e.height,a=[];for(let s=0;s<o.length;s++){const i=o[s],l=[];for(let o=0;o<i.length;o++){let a=Math.round(i[o][0]-e.xmin),s=Math.round(i[o][1]-e.ymin);if(a=t.xmin+a*t.width/r,s=t.ymin+s*t.height/n,isNaN(a)||isNaN(s))throw new Error("Scaled shape has NaN values");l.push([a,s])}a.push(l)}return a}function R(o,t,e){const r=[];for(let n=0;n<o.length;n++){const a=o[n],s=[];for(let o=0;o<a.length;o++){const r=a[o][0]+t,n=a[o][1]+e;if(isNaN(r)||isNaN(n))throw new Error("Scaled shape has NaN values");s.push([r,n])}r.push(s)}return r}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/engine/vectorTiles/GlyphMosaic.js":
/*!******************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/vectorTiles/GlyphMosaic.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ n)
/* harmony export */ });
/* harmony import */ var _RectangleBinPack_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./RectangleBinPack.js */ "./node_modules/@arcgis/core/views/2d/engine/vectorTiles/RectangleBinPack.js");
/* harmony import */ var _webgl_Rect_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../webgl/Rect.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/Rect.js");
/* harmony import */ var _webgl_enums_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../webgl/enums.js */ "./node_modules/@arcgis/core/views/webgl/enums.js");
/* harmony import */ var _webgl_Texture_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../webgl/Texture.js */ "./node_modules/@arcgis/core/views/webgl/Texture.js");
/* harmony import */ var _webgl_TextureDescriptor_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../webgl/TextureDescriptor.js */ "./node_modules/@arcgis/core/views/webgl/TextureDescriptor.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
class n{constructor(e,s,i){this.width=0,this.height=0,this._dirties=[],this._glyphData=[],this._currentPage=0,this._glyphIndex={},this._textures=[],this._rangePromises=new Map,this.width=e,this.height=s,this._glyphSource=i,this._binPack=new _RectangleBinPack_js__WEBPACK_IMPORTED_MODULE_0__["default"](e-4,s-4),this._glyphData.push(new Uint8Array(e*s)),this._dirties.push(!0),this._textures.push(void 0)}getGlyphItems(s,i){const h=[],r=this._glyphSource,n=new Set,o=1/256;for(const t of i){const e=Math.floor(t*o);n.add(e)}const a=[];return n.forEach((t=>{const e=s+t;if(this._rangePromises.has(e))a.push(this._rangePromises.get(e));else{const i=r.getRange(s,t).then((()=>{this._rangePromises.delete(e)}),(()=>{this._rangePromises.delete(e)}));this._rangePromises.set(e,i),a.push(i)}})),Promise.all(a).then((()=>{let n=this._glyphIndex[s];n||(n={},this._glyphIndex[s]=n);for(const o of i){const i=n[o];if(i){h[o]={sdf:!0,rect:i.rect,metrics:i.metrics,page:i.page,code:o};continue}const a=r.getGlyph(s,o);if(!a?.metrics)continue;const l=a.metrics;let c;if(0===l.width)c=new _webgl_Rect_js__WEBPACK_IMPORTED_MODULE_1__["default"](0,0,0,0);else{const e=3,s=l.width+2*e,i=l.height+2*e;let h=s%4?4-s%4:4,r=i%4?4-i%4:4;1===h&&(h=5),1===r&&(r=5),c=this._binPack.allocate(s+h,i+r),c.isEmpty&&(this._dirties[this._currentPage]||(this._glyphData[this._currentPage]=null),this._currentPage=this._glyphData.length,this._glyphData.push(new Uint8Array(this.width*this.height)),this._dirties.push(!0),this._textures.push(void 0),this._binPack=new _RectangleBinPack_js__WEBPACK_IMPORTED_MODULE_0__["default"](this.width-4,this.height-4),c=this._binPack.allocate(s+h,i+r));const n=this._glyphData[this._currentPage],o=a.bitmap;let g,_;if(o)for(let t=0;t<i;t++){g=s*t,_=this.width*(c.y+t+1)+c.x;for(let t=0;t<s;t++)n[_+t+1]=o.at(g+t)}}n[o]={rect:c,metrics:l,tileIDs:null,page:this._currentPage},h[o]={sdf:!0,rect:c,metrics:l,page:this._currentPage,code:o},this._dirties[this._currentPage]=!0}return h}))}removeGlyphs(t){for(const e in this._glyphIndex){const s=this._glyphIndex[e];if(!s)continue;let i;for(const e in s)if(i=s[e],i.tileIDs.delete(t),0===i.tileIDs.size){const t=this._glyphData[i.page],h=i.rect;let r,n;for(let e=0;e<h.height;e++)for(r=this.width*(h.y+e)+h.x,n=0;n<h.width;n++)t[r+n]=0;delete s[e],this._dirties[i.page]=!0}}}bind(t,e,n,o=0){if(!this._textures[n]){const e=new _webgl_TextureDescriptor_js__WEBPACK_IMPORTED_MODULE_4__.TextureDescriptor;e.pixelFormat=_webgl_enums_js__WEBPACK_IMPORTED_MODULE_2__.PixelFormat.ALPHA,e.wrapMode=_webgl_enums_js__WEBPACK_IMPORTED_MODULE_2__.TextureWrapMode.CLAMP_TO_EDGE,e.width=this.width,e.height=this.height,this._textures[n]=new _webgl_Texture_js__WEBPACK_IMPORTED_MODULE_3__.Texture(t,e,new Uint8Array(this.width*this.height))}const a=this._textures[n];a.setSamplingMode(e),this._dirties[n]&&a.setData(this._glyphData[n]),t.bindTexture(a,o),this._dirties[n]=!1}destroy(){this.dispose()}dispose(){this._glyphData.length=0,this._binPack=null;for(const t of this._textures)t&&t.dispose();this._textures.length=0}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/engine/vectorTiles/GlyphSource.js":
/*!******************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/vectorTiles/GlyphSource.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ r)
/* harmony export */ });
/* harmony import */ var _request_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../request.js */ "./node_modules/@arcgis/core/request.js");
/* harmony import */ var _core_pbf_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/pbf.js */ "./node_modules/@arcgis/core/core/pbf.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
class s{constructor(t){if(this._metrics=[],!t)return void(this._allBitmaps=null);const e=new Map;let s=0;for(;t.next();)switch(t.tag()){case 1:{const a=t.getMessage();for(;a.next();)switch(a.tag()){case 3:{const t=a.getMessage();let r,n,i,c,o,g,h;for(;t.next();)switch(t.tag()){case 1:r=t.getUInt32();break;case 2:n=t.getBytes();break;case 3:i=t.getUInt32();break;case 4:c=t.getUInt32();break;case 5:o=t.getSInt32();break;case 6:g=t.getSInt32();break;case 7:h=t.getUInt32();break;default:t.skip()}if(t.release(),r){const t=n?.length??0;this._metrics[r]={width:i,height:c,left:o,top:g,advance:h,startOffset:s,length:t},e.set(r,n),s+=t}break}default:a.skip()}a.release();break}default:t.skip()}const a=new Uint8Array(s),r=this._metrics;for(const[n,i]of e){const{startOffset:t,length:e}=r[n];if(i)for(let s=0;s<e;++s)a[t+s]=i[s]}this._allBitmaps=a}getMetrics(t){return this._metrics[t]}getBitmap(t){if(!this._allBitmaps)return;const e=this._metrics[t];if(void 0===e)return;const{startOffset:s,length:a}=e;return 0!==a?new n(this._allBitmaps,s,a):void 0}}class a{constructor(){this._ranges=[]}get ranges(){return this._ranges}getRange(t){return this._ranges[t]}addRange(t,e){this._ranges[t]=e}}class r{constructor(t){this._glyphInfo={},this._baseURL=t}getRange(a,r){const n=this._getFontStack(a);if(n.getRange(r))return Promise.resolve();const i=256*r,c=i+255;if(this._baseURL){const o=this._baseURL.replace("{fontstack}",a).replace("{range}",i+"-"+c);return (0,_request_js__WEBPACK_IMPORTED_MODULE_0__["default"])(o,{responseType:"array-buffer"}).then((t=>{n.addRange(r,new s(new _core_pbf_js__WEBPACK_IMPORTED_MODULE_1__["default"](new Uint8Array(t.data),new DataView(t.data))))})).catch((()=>{n.addRange(r,new s)}))}return n.addRange(r,new s),Promise.resolve()}getGlyph(t,e){const s=this._getFontStack(t);if(!s)return;const a=Math.floor(e/256),r=s.getRange(a);return r?{metrics:r.getMetrics(e),bitmap:r.getBitmap(e)}:void 0}_getFontStack(t){let e=this._glyphInfo[t];return e||(e=this._glyphInfo[t]=new a),e}}class n{constructor(t,e,s){this._array=t,this._start=e,this.length=s}at(t){return 0<=t&&t<this.length?this._array[this._start+t]:void 0}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/engine/vectorTiles/RectangleBinPack.js":
/*!***********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/vectorTiles/RectangleBinPack.js ***!
  \***********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ e)
/* harmony export */ });
/* harmony import */ var _webgl_Rect_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../webgl/Rect.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/Rect.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
class e{constructor(e,t){this._width=0,this._height=0,this._free=[],this._width=e,this._height=t,this._free.push(new _webgl_Rect_js__WEBPACK_IMPORTED_MODULE_0__["default"](0,0,e,t))}get width(){return this._width}get height(){return this._height}allocate(e,t){if(e>this._width||t>this._height)return new _webgl_Rect_js__WEBPACK_IMPORTED_MODULE_0__["default"];let i=null,s=-1;for(let h=0;h<this._free.length;++h){const w=this._free[h];e<=w.width&&t<=w.height&&(null===i||w.y<=i.y&&w.x<=i.x)&&(i=w,s=h)}return null===i?new _webgl_Rect_js__WEBPACK_IMPORTED_MODULE_0__["default"]:(this._free.splice(s,1),i.width<i.height?(i.width>e&&this._free.push(new _webgl_Rect_js__WEBPACK_IMPORTED_MODULE_0__["default"](i.x+e,i.y,i.width-e,t)),i.height>t&&this._free.push(new _webgl_Rect_js__WEBPACK_IMPORTED_MODULE_0__["default"](i.x,i.y+t,i.width,i.height-t))):(i.width>e&&this._free.push(new _webgl_Rect_js__WEBPACK_IMPORTED_MODULE_0__["default"](i.x+e,i.y,i.width-e,i.height)),i.height>t&&this._free.push(new _webgl_Rect_js__WEBPACK_IMPORTED_MODULE_0__["default"](i.x,i.y+t,e,i.height-t))),new _webgl_Rect_js__WEBPACK_IMPORTED_MODULE_0__["default"](i.x,i.y,e,t))}release(h){for(let e=0;e<this._free.length;++e){const t=this._free[e];if(t.y===h.y&&t.height===h.height&&t.x+t.width===h.x)t.width+=h.width;else if(t.x===h.x&&t.width===h.width&&t.y+t.height===h.y)t.height+=h.height;else if(h.y===t.y&&h.height===t.height&&h.x+h.width===t.x)t.x=h.x,t.width+=h.width;else{if(h.x!==t.x||h.width!==t.width||h.y+h.height!==t.y)continue;t.y=h.y,t.height+=h.height}this._free.splice(e,1),this.release(h)}this._free.push(h)}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/engine/vectorTiles/SpriteMosaic.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/vectorTiles/SpriteMosaic.js ***!
  \*******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ o)
/* harmony export */ });
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _symbols_cim_rasterizingUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../symbols/cim/rasterizingUtils.js */ "./node_modules/@arcgis/core/symbols/cim/rasterizingUtils.js");
/* harmony import */ var _RectangleBinPack_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./RectangleBinPack.js */ "./node_modules/@arcgis/core/views/2d/engine/vectorTiles/RectangleBinPack.js");
/* harmony import */ var _webgl_Rect_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../webgl/Rect.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/Rect.js");
/* harmony import */ var _webgl_enums_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../webgl/enums.js */ "./node_modules/@arcgis/core/views/webgl/enums.js");
/* harmony import */ var _webgl_Texture_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../webgl/Texture.js */ "./node_modules/@arcgis/core/views/webgl/Texture.js");
/* harmony import */ var _webgl_TextureDescriptor_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../webgl/TextureDescriptor.js */ "./node_modules/@arcgis/core/views/webgl/TextureDescriptor.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
const r="dasharray-";class o{constructor(t,s,e=0){this._size=[],this._mosaicsData=[],this._textures=[],this._dirties=[],this._maxItemSize=0,this._currentPage=0,this._pageWidth=0,this._pageHeight=0,this._mosaicRects={},this.pixelRatio=1,s<=0&&console.error("Sprites mosaic defaultWidth and defaultHeight must be greater than zero!"),this._pageWidth=t,this._pageHeight=s,e>0&&(this._maxItemSize=e),this._binPack=new _RectangleBinPack_js__WEBPACK_IMPORTED_MODULE_2__["default"](t-4,s-4)}destroy(){this.dispose()}dispose(){this._binPack=null,this._mosaicsData.length=0,this._mosaicRects={};for(const t of this._textures)t&&t.dispose();this._textures.length=0}getWidth(t){return t>=this._size.length?-1:this._size[t][0]}getHeight(t){return t>=this._size.length?-1:this._size[t][1]}getPageSize(t){return t>=this._size.length?null:this._size[t]}setSpriteSource(t){if(this.dispose(),this.pixelRatio=t.devicePixelRatio,0===this._mosaicsData.length){this._binPack=new _RectangleBinPack_js__WEBPACK_IMPORTED_MODULE_2__["default"](this._pageWidth-4,this._pageHeight-4);const t=Math.floor(this._pageWidth),s=Math.floor(this._pageHeight),e=new Uint32Array(t*s);this._mosaicsData[0]=e,this._dirties.push(!0),this._size.push([this._pageWidth,this._pageHeight]),this._textures.push(void 0)}this._sprites=t}getSpriteItem(t,i=!1){let s,e,h=this._mosaicRects[t];if(h)return h;if(!this._sprites||"loaded"!==this._sprites.loadStatus)return null;if(t&&t.startsWith(r)?([s,e]=this._rasterizeDash(t),i=!0):s=this._sprites.getSpriteInfo(t),!s?.width||!s.height||s.width<0||s.height<0)return null;const a=s.width,o=s.height,[n,_,g]=this._allocateImage(a,o);return n.width<=0?null:(this._copy(n,s,_,g,i,e),h={type:"sprite",rect:n,width:a,height:o,sdf:s.sdf,simplePattern:!1,rasterizationScale:s.pixelRatio??1,samplingMode:"Linear",page:_},this._mosaicRects[t]=h,h)}getSpriteItems(t){const i={};for(const s of t)i[s.name]=this.getSpriteItem(s.name,s.repeat);return i}getMosaicItemPosition(t,i){const s=this.getSpriteItem(t,i),e=s?.rect;if(!e)return null;e.width=s.width,e.height=s.height;const h=s.width,a=s.height,r=2;return{tl:[e.x+r,e.y+r],br:[e.x+r+h,e.y+r+a],page:s.page}}bind(t,i,s=0,r=0){if(s>=this._size.length||s>=this._mosaicsData.length)return;if(!this._textures[s]){const i=new _webgl_TextureDescriptor_js__WEBPACK_IMPORTED_MODULE_6__.TextureDescriptor;i.wrapMode=_webgl_enums_js__WEBPACK_IMPORTED_MODULE_4__.TextureWrapMode.CLAMP_TO_EDGE,i.width=this._size[s][0],i.height=this._size[s][1],this._textures[s]=new _webgl_Texture_js__WEBPACK_IMPORTED_MODULE_5__.Texture(t,i,new Uint8Array(this._mosaicsData[s].buffer))}const o=this._textures[s];o.setSamplingMode(i),this._dirties[s]&&o.setData(new Uint8Array(this._mosaicsData[s].buffer)),t.bindTexture(o,r),this._dirties[s]=!1}static _copyBits(t,i,s,e,h,a,r,o,n,_,g){let p=e*i+s,c=o*a+r;if(g){c-=a;for(let r=-1;r<=_;r++,p=((r+_)%_+e)*i+s,c+=a)for(let i=-1;i<=n;i++)h[c+i]=t[p+(i+n)%n]}else for(let l=0;l<_;l++){for(let i=0;i<n;i++)h[c+i]=t[p+i];p+=i,c+=a}}_copy(t,i,s,e,h,a){if(!this._sprites||"loaded"!==this._sprites.loadStatus||s>=this._mosaicsData.length)return;const r=new Uint32Array(a?a.buffer:this._sprites.image.buffer),n=this._mosaicsData[s],_=2,g=a?i.width:this._sprites.width;o._copyBits(r,g,i.x,i.y,n,e[0],t.x+_,t.y+_,i.width,i.height,h),this._dirties[s]=!0}_allocateImage(t,e){t+=2,e+=2;const h=Math.max(t,e);if(this._maxItemSize&&this._maxItemSize<h){const i=new _webgl_Rect_js__WEBPACK_IMPORTED_MODULE_3__["default"](0,0,t,e);return this._mosaicsData.push(new Uint32Array(t*e)),this._dirties.push(!0),this._size.push([t,e]),this._textures.push(void 0),[i,this._mosaicsData.length-1,[t,e]]}let a=t%4?4-t%4:4,r=e%4?4-e%4:4;1===a&&(a=5),1===r&&(r=5);const o=this._binPack.allocate(t+a,e+r);return o.width<=0?(this._dirties[this._currentPage]||(this._mosaicsData[this._currentPage]=null),this._currentPage=this._mosaicsData.length,this._mosaicsData.push(new Uint32Array(this._pageWidth*this._pageHeight)),this._dirties.push(!0),this._size.push([this._pageWidth,this._pageHeight]),this._textures.push(void 0),this._binPack=new _RectangleBinPack_js__WEBPACK_IMPORTED_MODULE_2__["default"](this._pageWidth-4,this._pageHeight-4),this._allocateImage(t,e)):[o,this._currentPage,[this._pageWidth,this._pageHeight]]}_rasterizeDash(i){const s=/\[(.*?)\]/,e=i.match(s);if(!e)return null;const h=e[1].split(",").map(Number),a=i.slice(i.lastIndexOf("-")+1),[r,o,n]=(0,_symbols_cim_rasterizingUtils_js__WEBPACK_IMPORTED_MODULE_1__.rasterizeDash)(h,a);return[{x:0,y:0,width:o,height:n,sdf:!0,pixelRatio:1},new Uint8Array(r.buffer)]}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/engine/vectorTiles/TileHandler.js":
/*!******************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/vectorTiles/TileHandler.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   TileHandler: () => (/* binding */ p)
/* harmony export */ });
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/maybe.js */ "./node_modules/@arcgis/core/core/maybe.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _core_urlUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core/urlUtils.js */ "./node_modules/@arcgis/core/core/urlUtils.js");
/* harmony import */ var _core_workers_workers_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../core/workers/workers.js */ "./node_modules/@arcgis/core/core/workers/workers.js");
/* harmony import */ var _enums_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./enums.js */ "./node_modules/@arcgis/core/views/2d/engine/vectorTiles/enums.js");
/* harmony import */ var _GlyphMosaic_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./GlyphMosaic.js */ "./node_modules/@arcgis/core/views/2d/engine/vectorTiles/GlyphMosaic.js");
/* harmony import */ var _GlyphSource_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./GlyphSource.js */ "./node_modules/@arcgis/core/views/2d/engine/vectorTiles/GlyphSource.js");
/* harmony import */ var _SpriteMosaic_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./SpriteMosaic.js */ "./node_modules/@arcgis/core/views/2d/engine/vectorTiles/SpriteMosaic.js");
/* harmony import */ var _tiling_TileKey_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../tiling/TileKey.js */ "./node_modules/@arcgis/core/views/2d/tiling/TileKey.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
class p{constructor(t,e,s,r){this._layer=t,this._styleRepository=e,this.devicePixelRatio=s,this._sourceDataMaxLOD=r,this._spriteMosaic=null,this._glyphMosaic=null,this._connection=null,this._spriteSourceAbortController=null,this._startOptionsInputSignal=null,this._inputSignalEventListener=null}destroy(){this._connection?.close(),this._connection=null,this._styleRepository=null,this._layer=null,this._spriteMosaic?.destroy(),this._spriteMosaic=null,this._glyphMosaic=null,this._spriteSourceAbortController=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_0__.abortMaybe)(this._spriteSourceAbortController),this._spriteSourcePromise=null,this._inputSignalEventListener&&this._startOptionsInputSignal?.removeEventListener("abort",this._inputSignalEventListener),this._startOptionsInputSignal=null,this._inputSignalEventListener=null}get spriteMosaic(){return this._spriteSourcePromise.then((()=>this._spriteMosaic))}get glyphMosaic(){return this._glyphMosaic}async start(t){this._requestSprite(t);const s=this._layer.currentStyleInfo.glyphsUrl,r=new _GlyphSource_js__WEBPACK_IMPORTED_MODULE_6__["default"](s?(0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_2__.addQueryParameters)(s,{...this._layer.customParameters,token:this._layer.apiKey}):null);this._glyphMosaic=new _GlyphMosaic_js__WEBPACK_IMPORTED_MODULE_5__["default"](1024,1024,r),this._broadcastPromise=(0,_core_workers_workers_js__WEBPACK_IMPORTED_MODULE_3__.open)("WorkerTileHandler",{client:this,schedule:t.schedule,signal:t.signal}).then((s=>{if(this._layer&&(this._connection?.close(),this._connection=s,this._layer&&!this._connection.closed)){const r=s.broadcast("setStyle",{style:this._layer.currentStyleInfo.style,sourceDataMaxLOD:this._sourceDataMaxLOD},t);Promise.all(r).catch((t=>(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_1__.throwIfNotAbortError)(t)))}}))}_requestSprite(t){this._spriteSourceAbortController?.abort();const e=new AbortController;this._spriteSourceAbortController=e;const r=t?.signal;this._inputSignalEventListener&&this._startOptionsInputSignal?.removeEventListener("abort",this._inputSignalEventListener),this._startOptionsInputSignal=null,r&&(this._inputSignalEventListener=_(e),r.addEventListener("abort",this._inputSignalEventListener,{once:!0}));const{signal:i}=e,o={...t,signal:i};this._spriteSourcePromise=this._layer.loadSpriteSource(this.devicePixelRatio,o),this._spriteSourcePromise.then((t=>{(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_1__.throwIfAbortError)(i),this._spriteMosaic=new _SpriteMosaic_js__WEBPACK_IMPORTED_MODULE_7__["default"](1024,1024,250),this._spriteMosaic.setSpriteSource(t)}))}async updateStyle(t){const e=[];for(const s of t)s.type===_enums_js__WEBPACK_IMPORTED_MODULE_4__.StyleUpdateType.SPRITES_CHANGED?e.push({type:_enums_js__WEBPACK_IMPORTED_MODULE_4__.StyleUpdateType.SPRITES_CHANGED,data:{spriteSource:null}}):e.push(s);return await this._broadcastPromise,this._broadcastPromise=Promise.all(this._connection.broadcast("updateStyle",e)),this._broadcastPromise}setSpriteSource(t){const e=new _SpriteMosaic_js__WEBPACK_IMPORTED_MODULE_7__["default"](1024,1024,250);return e.setSpriteSource(t),this._spriteMosaic=e,this._spriteSourcePromise=Promise.resolve(t),this._spriteSourceAbortController=null,e}async setStyle(t,e,s){await this._broadcastPromise,this._styleRepository=t,this._sourceDataMaxLOD=s,this._requestSprite();const r=new _GlyphSource_js__WEBPACK_IMPORTED_MODULE_6__["default"](this._layer.currentStyleInfo.glyphsUrl?(0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_2__.addQueryParameters)(this._layer.currentStyleInfo.glyphsUrl,{...this._layer.customParameters,token:this._layer.apiKey}):null);return this._glyphMosaic=new _GlyphMosaic_js__WEBPACK_IMPORTED_MODULE_5__["default"](1024,1024,r),this._broadcastPromise=Promise.all(this._connection.broadcast("setStyle",{style:e,sourceDataMaxLOD:this._sourceDataMaxLOD})),this._broadcastPromise}async fetchTileData(t,e){const s=await this._getRefKeys(t,e);return this._getSourcesData(Object.keys(this._layer.sourceNameToSource),s,e)}async fetchTilePBFs(t){const e=Object.keys(this._layer.sourceNameToSource),s={},r=await this._getRefKeys(t,s),i=[],o=[];for(let n=0;n<r.length;n++)if(null==r[n].value||null==e[n])o.push(null);else{const t=r[n].value,a=this._getTilePayload(t,e[n],s);a.then((e=>{i.push({...e,key:t})})),o.push(a)}return Promise.all(o).then((()=>i))}async parseTileData(t,e){const s=t&&t.data;if(!s)return null;const{sourceName2DataAndRefKey:r,transferList:i}=s;return 0===Object.keys(r).length?null:this._broadcastPromise.then((()=>this._connection.invoke("createTileAndParse",{key:t.key.id,sourceName2DataAndRefKey:r,styleLayerUIDs:t.styleLayerUIDs},{...e,transferList:i})))}async getSprites(t){return await this._spriteSourcePromise,this._spriteMosaic.getSpriteItems(t)}getGlyphs(t){return this._glyphMosaic.getGlyphItems(t.font,t.codePoints)}async _getTilePayload(t,e,s){const i=_tiling_TileKey_js__WEBPACK_IMPORTED_MODULE_8__["default"].pool.acquire(t.id),o=this._layer.sourceNameToSource[e],{level:n,row:a,col:l}=i;_tiling_TileKey_js__WEBPACK_IMPORTED_MODULE_8__["default"].pool.release(i);try{return{protobuff:await o.requestTile(n,a,l,s),sourceName:e}}catch(c){if((0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_1__.isAbortError)(c))throw c;return{protobuff:null,sourceName:e}}}async _getRefKeys(t,e){const s=this._layer.sourceNameToSource,r=new Array;for(const i in s){const o=s[i].getRefKey(t,e);r.push(o)}return (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_1__.eachAlways)(r)}_getSourcesData(t,e,s){const r=[];for(let i=0;i<e.length;i++)if(null==e[i].value||null==t[i])r.push(null);else{const o=e[i].value,n=this._getTilePayload(o,t[i],s);r.push(n)}return (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_1__.eachAlways)(r).then((t=>{const s={},r=[];for(let i=0;i<t.length;i++){const o=t[i].value;if(o&&(o.protobuff&&o.protobuff.byteLength>0)){const t=e[i].value.id;s[o.sourceName]={refKey:t,protobuff:o.protobuff},r.push(o.protobuff)}}return{sourceName2DataAndRefKey:s,transferList:r}}))}}function _(t){return()=>t.abort()}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/engine/webgl/Rect.js":
/*!*****************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/webgl/Rect.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ t)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
class t{constructor(t=0,h=0,i=0,s=0){this.x=t,this.y=h,this.width=i,this.height=s}get isEmpty(){return this.width<=0||this.height<=0}union(t){this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.width=Math.max(this.width,t.width),this.height=Math.max(this.height,t.height)}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/tiling/TileInfoViewPOT.js":
/*!**********************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/tiling/TileInfoViewPOT.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ t)
/* harmony export */ });
/* harmony import */ var _layers_support_TileInfo_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../layers/support/TileInfo.js */ "./node_modules/@arcgis/core/layers/support/TileInfo.js");
/* harmony import */ var _TileInfoView_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./TileInfoView.js */ "./node_modules/@arcgis/core/views/2d/tiling/TileInfoView.js");
/* harmony import */ var _TileKey_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./TileKey.js */ "./node_modules/@arcgis/core/views/2d/tiling/TileKey.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
class t extends _TileInfoView_js__WEBPACK_IMPORTED_MODULE_1__["default"]{constructor(){super(...arguments),this._fullCacheLodInfos=null,this._levelByScale={}}getTileParentId(e){const l=_TileKey_js__WEBPACK_IMPORTED_MODULE_2__["default"].pool.acquire(e),t=0===l.level?null:_TileKey_js__WEBPACK_IMPORTED_MODULE_2__["default"].getId(l.level-1,l.row>>1,l.col>>1,l.world);return _TileKey_js__WEBPACK_IMPORTED_MODULE_2__["default"].pool.release(l),t}getTileCoverage(e,l,s=!0,t){const o=super.getTileCoverage(e,l,s,t);if(!o)return o;const i=1<<o.lodInfo.level;return o.spans=o.spans.filter((e=>e.row>=0&&e.row<i)),o}scaleToLevel(e){if(this._fullCacheLodInfos||this._initializeFullCacheLODs(this._lodInfos),this._levelByScale[e])return this._levelByScale[e];{const l=this._fullCacheLodInfos;if(e>l[0].scale)return l[0].level;let s,t;for(let o=0;o<l.length-1;o++)if(t=l[o+1],e>t.scale)return s=l[o],s.level+(s.scale-e)/(s.scale-t.scale);return l[l.length-1].level}}_initializeFullCacheLODs(l){let s;if(0===l[0].level)s=l.map((e=>({level:e.level,resolution:e.resolution,scale:e.scale})));else{const l=this.tileInfo.size[0],t=this.tileInfo.spatialReference;s=_layers_support_TileInfo_js__WEBPACK_IMPORTED_MODULE_0__["default"].create({size:l,spatialReference:t}).lods.map((e=>({level:e.level,resolution:e.resolution,scale:e.scale})))}for(let e=0;e<s.length;e++)this._levelByScale[s[e].scale]=s[e].level;this._fullCacheLodInfos=s}}


/***/ })

};

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmVuZG9ycy1ub2RlX21vZHVsZXNfYXJjZ2lzX2NvcmVfdmlld3NfMmRfZW5naW5lX3ZlY3RvclRpbGVzX1RpbGVIYW5kbGVyX2pzLW5vZGVfbW9kdWxlc19hcmNnLWE3NmUyNC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDeUQsZ0NBQWdDLHdDQUF3QyxrRUFBQyw4QkFBOEIsa0VBQUMscUNBQXFDLGtFQUFDLDRCQUFpTDs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDSnhYO0FBQ0E7QUFDQTtBQUNBO0FBQ3VaLFlBQVksdURBQUMsNEtBQTRLLGtCQUFrQixrQkFBa0Isa0VBQUMscUNBQXFDLHFCQUFxQiwyQkFBMkIsMnJCQUEyckIsc0VBQXNFLE1BQU0sWUFBWSxXQUFXLDhEQUE4RCw2QkFBNkIsY0FBYywrQkFBK0IsZ0RBQWdELG9FQUFDLDhCQUE4QixzQkFBc0Isa0JBQWtCLGFBQWEsb0VBQUMsQ0FBQyxLQUFLLEVBQUUscURBQXFELGdCQUFnQixLQUFLLHVDQUF1QyxZQUFZLElBQUksS0FBSyxhQUFhLG9FQUFDLENBQUMsaUVBQUMsR0FBRyx1RUFBQyxjQUFjLGNBQWMsZ0JBQWdCLGdCQUFnQiwyQ0FBMkMsK0JBQStCLFFBQVEscURBQUMsT0FBTyxRQUFRLHNCQUFzQix1REFBdUQsc0JBQXNCLGtCQUFrQixlQUFlLEtBQUssRUFBRSxTQUFTLEtBQUssSUFBSSxFQUFFLG9EQUFvRCwrTEFBK0wsSUFBSSxLQUFLLHVDQUF1QyxZQUFZLElBQUksS0FBSyxtQ0FBbUMsaUVBQUMsVUFBVSxjQUFjLGdCQUFnQixNQUFNLDJCQUEyQixnREFBZ0Qsa0VBQUMsMEJBQTBCLFdBQVcsdURBQXVELE1BQU0sZ0JBQWdCLE1BQU0sMkJBQTJCLHlDQUF5QyxzQ0FBc0Msb0JBQW9CLGtFQUFDLDBCQUEwQixNQUFNLG1CQUFtQixXQUFXLGtEQUFrRCxzREFBc0QsZ0JBQWdCLElBQUksV0FBVyxzQ0FBc0MsUUFBUSxt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Z0IsOEhBQThILGdDQUFnQyxrQ0FBa0MsUUFBUSxZQUFZLGFBQWEsOEVBQThFLDRCQUE0Qiw0QkFBNEIsTUFBTSxnQ0FBZ0Msb0RBQW9ELElBQUksS0FBSywrREFBK0QsRUFBRSxtRUFBQyxTQUFTLDBCQUEwQixpQkFBaUIsb0RBQW9ELElBQUksWUFBWSxXQUFXLDhDQUE4QywyQkFBZ0QiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wcmVjaXNpb25mYXJtcy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvc3ltYm9scy9jaW0vY29uc3RhbnRzLmpzIiwid2VicGFjazovL3ByZWNpc2lvbmZhcm1zLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS9zeW1ib2xzL2NpbS9yYXN0ZXJpemluZ1V0aWxzLmpzIiwid2VicGFjazovL3ByZWNpc2lvbmZhcm1zLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8yZC9lbmdpbmUvdmVjdG9yVGlsZXMvR2x5cGhNb3NhaWMuanMiLCJ3ZWJwYWNrOi8vcHJlY2lzaW9uZmFybXMvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzJkL2VuZ2luZS92ZWN0b3JUaWxlcy9HbHlwaFNvdXJjZS5qcyIsIndlYnBhY2s6Ly9wcmVjaXNpb25mYXJtcy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvMmQvZW5naW5lL3ZlY3RvclRpbGVzL1JlY3RhbmdsZUJpblBhY2suanMiLCJ3ZWJwYWNrOi8vcHJlY2lzaW9uZmFybXMvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzJkL2VuZ2luZS92ZWN0b3JUaWxlcy9TcHJpdGVNb3NhaWMuanMiLCJ3ZWJwYWNrOi8vcHJlY2lzaW9uZmFybXMvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzJkL2VuZ2luZS92ZWN0b3JUaWxlcy9UaWxlSGFuZGxlci5qcyIsIndlYnBhY2s6Ly9wcmVjaXNpb25mYXJtcy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvMmQvZW5naW5lL3dlYmdsL1JlY3QuanMiLCJ3ZWJwYWNrOi8vcHJlY2lzaW9uZmFybXMvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzJkL3RpbGluZy9UaWxlSW5mb1ZpZXdQT1QuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMzMvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtkZWZhdWx0Q0lNVmFsdWVzIGFzIHR9ZnJvbVwiLi9kZWZhdWx0Q0lNVmFsdWVzLmpzXCI7Y29uc3QgZT0xNS41LGk9NCxvPTY0LHI9MTAyNCxsPXtvdXRsaW5lV2lkdGg6Ljc1LHJlZmVyZW5jZVdpZHRoOi43NSxjYXA6dC5DSU1Tb2xpZFN0cm9rZS5jYXBzdHlsZSxqb2luOnQuQ0lNU29saWRTdHJva2Uuam9pbnN0eWxlLG1pdGVyTGltaXQ6dC5DSU1Tb2xpZFN0cm9rZS5taXRlcmxpbWl0fTtleHBvcnR7bCBhcyBhbnRpYWxpYXNpbmdPdXRsaW5lRmlsbFNldHRpbmdzLGUgYXMgZGFzaFJhZGl1cyxvIGFzIGRhc2hTZGZEaXN0YW5jZU5vcm1hbGl6YXRpb24saSBhcyBkYXNoU2RmUmFzdGVyaXphdGlvblNjYWxlLHIgYXMgbWF4VGlsZUNvb3JkVmFsdWV9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMzMvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtwYWNrRmxvYXRSR0JBIGFzIG99ZnJvbVwiLi4vLi4vY29yZS9mbG9hdFJHQkEuanNcIjtpbXBvcnQgdCBmcm9tXCIuLi8uLi9jb3JlL0xvZ2dlci5qc1wiO2ltcG9ydHtuZXh0UG93ZXJPZlR3byBhcyBlfWZyb21cIi4uLy4uL2NvcmUvbWF0aFV0aWxzLmpzXCI7aW1wb3J0e2Rhc2hTZGZSYXN0ZXJpemF0aW9uU2NhbGUgYXMgcixkYXNoU2RmRGlzdGFuY2VOb3JtYWxpemF0aW9uIGFzIG4sZGFzaFJhZGl1cyBhcyBhfWZyb21cIi4vY29uc3RhbnRzLmpzXCI7aW1wb3J0e2RlZmF1bHRDSU1WYWx1ZXMgYXMgc31mcm9tXCIuL2RlZmF1bHRDSU1WYWx1ZXMuanNcIjtpbXBvcnR7Z3JhZGllbnRUZXh0dXJlRXh0ZXJuYWxQYWRkaW5nIGFzIGl9ZnJvbVwiLi4vLi4vdmlld3MvMmQvZW5naW5lL3dlYmdsL2RlZmluaXRpb25zLmpzXCI7Y29uc3QgbD0oKT0+dC5nZXRMb2dnZXIoXCJlc3JpLnN5bWJvbHMuY2ltLnJhc3Rlcml6aW5nVXRpbHNcIiksYz0zMixoPW89PlwidmVydGljYWxcIj09PW98fFwiaG9yaXpvbnRhbFwiPT09b3x8XCJjcm9zc1wiPT09b3x8XCJlc3JpU0ZTQ3Jvc3NcIj09PW98fFwiZXNyaVNGU1ZlcnRpY2FsXCI9PT1vfHxcImVzcmlTRlNIb3Jpem9udGFsXCI9PT1vO2Z1bmN0aW9uIGYobyx0LHIpe2NvbnN0IG49dC5zdHlsZSxhPWUoTWF0aC5jZWlsKHIpKSxzPWgobik/OCphOjE2KmEsaT0yKmE7by53aWR0aD1zLG8uaGVpZ2h0PXM7Y29uc3QgbD1vLmdldENvbnRleHQoXCIyZFwiKTtsLnN0cm9rZVN0eWxlPVwiI2ZmZmZmZlwiLGwubGluZVdpZHRoPWEsbC5iZWdpblBhdGgoKSxcInZlcnRpY2FsXCIhPT1uJiZcImNyb3NzXCIhPT1uJiZcImVzcmlTRlNDcm9zc1wiIT09biYmXCJlc3JpU0ZTVmVydGljYWxcIiE9PW58fChsLm1vdmVUbyhzLzIsLWkpLGwubGluZVRvKHMvMixzK2kpKSxcImhvcml6b250YWxcIiE9PW4mJlwiY3Jvc3NcIiE9PW4mJlwiZXNyaVNGU0Nyb3NzXCIhPT1uJiZcImVzcmlTRlNIb3Jpem9udGFsXCIhPT1ufHwobC5tb3ZlVG8oLWkscy8yKSxsLmxpbmVUbyhzK2kscy8yKSksXCJiYWNrd2FyZC1kaWFnb25hbFwiIT09biYmXCJkaWFnb25hbC1jcm9zc1wiIT09biYmXCJlc3JpU0ZTRGlhZ29uYWxDcm9zc1wiIT09biYmXCJlc3JpU0ZTQmFja3dhcmREaWFnb25hbFwiIT09bnx8KGwubW92ZVRvKC1pLC1pKSxsLmxpbmVUbyhzK2kscytpKSxsLm1vdmVUbyhzLWksLWkpLGwubGluZVRvKHMraSxpKSxsLm1vdmVUbygtaSxzLWkpLGwubGluZVRvKGkscytpKSksXCJmb3J3YXJkLWRpYWdvbmFsXCIhPT1uJiZcImRpYWdvbmFsLWNyb3NzXCIhPT1uJiZcImVzcmlTRlNGb3J3YXJkRGlhZ29uYWxcIiE9PW4mJlwiZXNyaVNGU0RpYWdvbmFsQ3Jvc3NcIiE9PW58fChsLm1vdmVUbyhzK2ksLWkpLGwubGluZVRvKC1pLHMraSksbC5tb3ZlVG8oaSwtaSksbC5saW5lVG8oLWksaSksbC5tb3ZlVG8ocytpLHMtaSksbC5saW5lVG8ocy1pLHMraSkpLGwuc3Ryb2tlKCk7Y29uc3QgYz1sLmdldEltYWdlRGF0YSgwLDAsby53aWR0aCxvLmhlaWdodCksZj1uZXcgVWludDhBcnJheShjLmRhdGEpO2xldCBtO2ZvcihsZXQgZT0wO2U8Zi5sZW5ndGg7ZSs9NCltPWZbZSszXS8yNTUsZltlXT1mW2VdKm0sZltlKzFdPWZbZSsxXSptLGZbZSsyXT1mW2UrMl0qbTtyZXR1cm5bZixvLndpZHRoLG8uaGVpZ2h0LGFdfWZ1bmN0aW9uIG0odCl7dC5sZW5ndGglMj09MSYmKHQ9Wy4uLnQsLi4udF0pO2NvbnN0IGU9dC5yZWR1Y2UoKChvLHQpPT5vK3QpLDApLGE9TWF0aC5yb3VuZChlKnIpLHM9MSxpPW5ldyBGbG9hdDMyQXJyYXkoYSpzKTtsZXQgbD0wLGM9MCxoPS41LGY9ITA7Zm9yKGNvbnN0IG8gb2YgdCl7Zm9yKGw9YyxjKz1vKnI7aDw9Yzspe2NvbnN0IG89aC0uNSx0PU1hdGgubWluKE1hdGguYWJzKGgtbCksTWF0aC5hYnMoaC1jKSk7aVtvXT1mPy10OnQsaCsrfWY9IWZ9Y29uc3QgbT1pLmxlbmd0aCx1PW5ldyBVaW50OEFycmF5KDQqbSk7Zm9yKGxldCBnPTA7ZzxtOysrZyl7Y29uc3QgdD1pW2ddL3I7byh0L24qLjUrLjUsdSw0KmcpfXJldHVyblt1LGEsc119ZnVuY3Rpb24gdSh0LGUpe251bGw9PXQmJih0PVtdKTtjb25zdCByPVwiQnV0dFwiPT09ZSxuPVwiU3F1YXJlXCI9PT1lLHM9IXImJiFuO3QubGVuZ3RoJTI9PTEmJih0PVsuLi50LC4uLnRdKTtjb25zdCBpPWEsbD0yKmk7bGV0IGM9MDtmb3IoY29uc3QgbyBvZiB0KWMrPW87Y29uc3QgaD1NYXRoLnJvdW5kKGMqaSksZj1uZXcgRmxvYXQzMkFycmF5KGgqbCksbT0uNSppO2xldCB1PTAsZz0wLGQ9LjUscD0hMDtmb3IoY29uc3QgbyBvZiB0KXtmb3IodT1nLGcrPW8qaTtkPD1nOyl7bGV0IG89LjU7Zm9yKDtvPGw7KXtjb25zdCB0PShvLS41KSpoK2QtLjUsZT1zPyhvLWkpKihvLWkpOk1hdGguYWJzKG8taSk7Zlt0XT1wP3I/TWF0aC5tYXgoTWF0aC5tYXgodSttLWQsZSksTWF0aC5tYXgoZC1nK20sZSkpOmU6cz9NYXRoLm1pbigoZC11KSooZC11KStlLChkLWcpKihkLWcpK2UpOm4/TWF0aC5taW4oTWF0aC5tYXgoZC11LGUpLE1hdGgubWF4KGctZCxlKSk6TWF0aC5taW4oTWF0aC5tYXgoZC11K20sZSksTWF0aC5tYXgoZyttLWQsZSkpLG8rK31kKyt9cD0hcH1jb25zdCBDPWYubGVuZ3RoLE09bmV3IFVpbnQ4QXJyYXkoNCpDKTtmb3IobGV0IGE9MDthPEM7KythKXtjb25zdCB0PShzP01hdGguc3FydChmW2FdKTpmW2FdKS9pO28odCxNLDQqYSl9cmV0dXJuW00saCxsXX1mdW5jdGlvbiBnKG8sdCl7Y29uc3R7Y29sb3JSYW1wOmUsZ3JhZGllbnRUeXBlOnJ9PXQsbj1cIkNJTUZpeGVkQ29sb3JSYW1wXCI9PT1lLnR5cGUsYT10LmludGVydmFsfHxzLkNJTUdyYWRpZW50RmlsbC5pbnRlcnZhbDtsZXQgaT1DKGUpO3JldHVybiBuJiYoaT1NKGksYSkpLFwiRGlzY3JldGVcIj09PXJ8fG4/dyhvLGksYSk6eChvLGkpfWxldCBkO2Z1bmN0aW9uIHAobyx0KXtjb25zdHtjb2xvclJhbXA6ZSxncmFkaWVudFR5cGU6cn09dCxuPUMoZSksYT1cIkNJTUZpeGVkQ29sb3JSYW1wXCI9PT1lLnR5cGU7aWYoXCJDb250aW51b3VzXCI9PT1yJiYhYSlyZXR1cm4geShvLG4pO2NvbnN0IGk9dC5pbnRlcnZhbD8/cy5DSU1HcmFkaWVudEZpbGwuaW50ZXJ2YWw7aWYoYSl7cmV0dXJuIHkobyxNKG4saSkpfWNvbnN0IGw9W107ZD8/PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIiksUyhkLG4saSwxLDApO2NvbnN0IGM9ZC5nZXRDb250ZXh0KFwiMmRcIikuZ2V0SW1hZ2VEYXRhKDAsMCxpLDEpLmRhdGE7Zm9yKGxldCBzPTAsaD0wO3M8aTtzKyssaD00KnMpe2NvbnN0IG89W2NbaCswXSxjW2grMV0sY1toKzJdLGNbaCszXV07bC5wdXNoKHtvZmZzZXQ6cy9pLGNvbG9yOm99KSxsLnB1c2goe29mZnNldDoocysxKS9pLGNvbG9yOm99KX1yZXR1cm4geShvLGwpfWZ1bmN0aW9uIEMobyl7Y29uc3QgdD1bXTtzd2l0Y2goby50eXBlKXtjYXNlXCJDSU1Qb2xhckNvbnRpbnVvdXNDb2xvclJhbXBcIjpjYXNlXCJDSU1MaW5lYXJDb250aW51b3VzQ29sb3JSYW1wXCI6e1wiQ0lNUG9sYXJDb250aW51b3VzQ29sb3JSYW1wXCI9PT1vLnR5cGUmJmwoKS53YXJuT25jZShcIkNJTVBvbGFyQ29udGludW91c0NvbG9yUmFtcCBpcyBjdXJyZW50bHkgdW5zdXBwb3J0ZWQuIEZhbGxpbmcgYmFjayB0byBDSU1MaW5lYXJDb250aW51b3VzQ29sb3JSYW1wLlwiKTtjb25zdCBlPW87dC5wdXNoKHtvZmZzZXQ6MCxjb2xvcjpbZS5mcm9tQ29sb3JbMF0sZS5mcm9tQ29sb3JbMV0sZS5mcm9tQ29sb3JbMl0sZS5mcm9tQ29sb3JbM10vMjU1XX0pLHQucHVzaCh7b2Zmc2V0OjEsY29sb3I6W2UudG9Db2xvclswXSxlLnRvQ29sb3JbMV0sZS50b0NvbG9yWzJdLGUudG9Db2xvclszXS8yNTVdfSk7YnJlYWt9Y2FzZVwiQ0lNRml4ZWRDb2xvclJhbXBcIjp7Y29uc3QgZT1vLHI9MS8oZS5jb2xvcnMubGVuZ3RoLTEpO2xldCBuPTA7Zm9yKGNvbnN0IG8gb2YgZS5jb2xvcnMpdC5wdXNoKHtvZmZzZXQ6bixjb2xvcjpbb1swXSxvWzFdLG9bMl0sb1szXS8yNTVdfSksbis9cjticmVha31jYXNlXCJDSU1NdWx0aXBhcnRDb2xvclJhbXBcIjp7Y29uc3QgZT1vLHI9ZS53ZWlnaHRzLnJlZHVjZSgoKG8sdCk9Pm8rdCksMCk7bGV0IG49MDtmb3IobGV0IG89MDtvPGUuY29sb3JSYW1wcy5sZW5ndGg7bysrKXtjb25zdCBhPWUuY29sb3JSYW1wc1tvXSxzPWUud2VpZ2h0c1tvXSxpPUMoYSk7Zm9yKGNvbnN0IG8gb2YgaSl0LnB1c2goe29mZnNldDoobitvLm9mZnNldCpzKS9yLGNvbG9yOm8uY29sb3J9KTtuKz1zfWJyZWFrfWRlZmF1bHQ6bCgpLmVycm9yKGBDb2xvciByYW1wIFwiJHtvLnR5cGV9XCIgY3VycmVudGx5IHVuc3VwcG9ydGVkLmApfXJldHVybiB0fWZ1bmN0aW9uIE0obyx0KXtjb25zdCBlPVtdLHI9KG8ubGVuZ3RoLTEpLyh0LTEpO2ZvcihsZXQgbj0wO248dDtuKyspe2NvbnN0IGE9b1tNYXRoLnJvdW5kKG4qcildLmNvbG9yO2UucHVzaCh7b2Zmc2V0Om4vdCxjb2xvcjphfSksZS5wdXNoKHtvZmZzZXQ6KG4rMSkvdCxjb2xvcjphfSl9cmV0dXJuIGV9ZnVuY3Rpb24geChvLHQpe3JldHVybiBTKG8sdCxjLDEsaSksRihvKX1mdW5jdGlvbiB3KG8sdCxlKXtyZXR1cm4gUyhvLHQsZSwxLGkpLEYobyl9ZnVuY3Rpb24geShvLHQsZT0wKXtmb3IoY29uc3R7b2Zmc2V0OnIsY29sb3I6bn1vZiB0KW8uYWRkQ29sb3JTdG9wKE1hdGgubWluKE1hdGgubWF4KHIsZSksMS1lKSxgcmdiYSgke25bMF19LCAke25bMV19LCAke25bMl19LCAke25bM119KWApfWZ1bmN0aW9uIFMobyx0LGUscixuKXtjb25zdCBhPWUrMipuO28ud2lkdGg9YSxvLmhlaWdodD1yO2NvbnN0IHM9KG4rMSkvYSxpPW8uZ2V0Q29udGV4dChcIjJkXCIse3dpbGxSZWFkRnJlcXVlbnRseTohMH0pO2lmKHQubGVuZ3RoPjApe2NvbnN0IG89aS5jcmVhdGVMaW5lYXJHcmFkaWVudCgwLDAsYSxyKTt5KG8sdCxzKSxpLmZpbGxTdHlsZT1vfWVsc2UgaS5maWxsU3R5bGU9XCJyZ2JhKDEyOCwgMTI4LCAxMjgsIDEpXCI7aS5maWxsUmVjdCgwLDAsYSxyKX1mdW5jdGlvbiBGKG8pe2NvbnN0e3dpZHRoOnQsaGVpZ2h0OmV9PW8scj1vLmdldENvbnRleHQoXCIyZFwiKS5nZXRJbWFnZURhdGEoMCwwLHQsZSksbj1uZXcgVWludDhBcnJheShyLmRhdGEpO2ZvcihsZXQgYT0wO2E8bi5sZW5ndGg7YSs9NCl7Y29uc3Qgbz1uW2ErM10vMjU1O25bYV0qPW8sblthKzFdKj1vLG5bYSsyXSo9b31yZXR1cm5bbix0LGVdfWZ1bmN0aW9uIHYobyl7Y29uc3QgdD1vWzBdPy5bMF0/LlswXT8/MCxlPW9bMF0/LlswXT8uWzFdPz8wLHI9e3ltaW46ZSx4bWluOnQseW1heDplLHhtYXg6dCx3aWR0aDowLGhlaWdodDowfTtmb3IobGV0IG49MDtuPG8ubGVuZ3RoO24rKyl7Y29uc3QgdD1vW25dO2ZvcihsZXQgbz0wO288dC5sZW5ndGg7bysrKXtjb25zdCBlPXRbb11bMF0sbj10W29dWzFdO2U8ci54bWluJiYoci54bWluPWUpLGU+ci54bWF4JiYoci54bWF4PWUpLG48ci55bWluJiYoci55bWluPW4pLG4+ci55bWF4JiYoci55bWF4PW4pfX1yZXR1cm4gci53aWR0aD1NYXRoLmFicyhyLnhtYXgtci54bWluKSxyLmhlaWdodD1NYXRoLmFicyhyLnltYXgtci55bWluKSxyfWZ1bmN0aW9uIFQobyx0KXtjb25zdCBlPXYobykscj0wPT09ZS53aWR0aD8xOmUud2lkdGgsbj0wPT09ZS5oZWlnaHQ/MTplLmhlaWdodCxhPVtdO2ZvcihsZXQgcz0wO3M8by5sZW5ndGg7cysrKXtjb25zdCBpPW9bc10sbD1bXTtmb3IobGV0IG89MDtvPGkubGVuZ3RoO28rKyl7bGV0IGE9TWF0aC5yb3VuZChpW29dWzBdLWUueG1pbikscz1NYXRoLnJvdW5kKGlbb11bMV0tZS55bWluKTtpZihhPXQueG1pbithKnQud2lkdGgvcixzPXQueW1pbitzKnQuaGVpZ2h0L24saXNOYU4oYSl8fGlzTmFOKHMpKXRocm93IG5ldyBFcnJvcihcIlNjYWxlZCBzaGFwZSBoYXMgTmFOIHZhbHVlc1wiKTtsLnB1c2goW2Esc10pfWEucHVzaChsKX1yZXR1cm4gYX1mdW5jdGlvbiBSKG8sdCxlKXtjb25zdCByPVtdO2ZvcihsZXQgbj0wO248by5sZW5ndGg7bisrKXtjb25zdCBhPW9bbl0scz1bXTtmb3IobGV0IG89MDtvPGEubGVuZ3RoO28rKyl7Y29uc3Qgcj1hW29dWzBdK3Qsbj1hW29dWzFdK2U7aWYoaXNOYU4ocil8fGlzTmFOKG4pKXRocm93IG5ldyBFcnJvcihcIlNjYWxlZCBzaGFwZSBoYXMgTmFOIHZhbHVlc1wiKTtzLnB1c2goW3Isbl0pfXIucHVzaChzKX1yZXR1cm4gcn1leHBvcnR7cCBhcyBhZGRDb2xvclN0b3BzLHUgYXMgcmFzdGVyaXplRGFzaCxtIGFzIHJhc3Rlcml6ZURhc2gxRCxmIGFzIHJhc3Rlcml6ZUZpbGxTdHlsZSxnIGFzIHJhc3Rlcml6ZUdyYWRpZW50LFQgYXMgc2NhbGUsUiBhcyB0cmFuc2xhdGV9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMzMvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydCB0IGZyb21cIi4vUmVjdGFuZ2xlQmluUGFjay5qc1wiO2ltcG9ydCBlIGZyb21cIi4uL3dlYmdsL1JlY3QuanNcIjtpbXBvcnR7UGl4ZWxGb3JtYXQgYXMgcyxUZXh0dXJlV3JhcE1vZGUgYXMgaX1mcm9tXCIuLi8uLi8uLi93ZWJnbC9lbnVtcy5qc1wiO2ltcG9ydHtUZXh0dXJlIGFzIGh9ZnJvbVwiLi4vLi4vLi4vd2ViZ2wvVGV4dHVyZS5qc1wiO2ltcG9ydHtUZXh0dXJlRGVzY3JpcHRvciBhcyByfWZyb21cIi4uLy4uLy4uL3dlYmdsL1RleHR1cmVEZXNjcmlwdG9yLmpzXCI7Y2xhc3Mgbntjb25zdHJ1Y3RvcihlLHMsaSl7dGhpcy53aWR0aD0wLHRoaXMuaGVpZ2h0PTAsdGhpcy5fZGlydGllcz1bXSx0aGlzLl9nbHlwaERhdGE9W10sdGhpcy5fY3VycmVudFBhZ2U9MCx0aGlzLl9nbHlwaEluZGV4PXt9LHRoaXMuX3RleHR1cmVzPVtdLHRoaXMuX3JhbmdlUHJvbWlzZXM9bmV3IE1hcCx0aGlzLndpZHRoPWUsdGhpcy5oZWlnaHQ9cyx0aGlzLl9nbHlwaFNvdXJjZT1pLHRoaXMuX2JpblBhY2s9bmV3IHQoZS00LHMtNCksdGhpcy5fZ2x5cGhEYXRhLnB1c2gobmV3IFVpbnQ4QXJyYXkoZSpzKSksdGhpcy5fZGlydGllcy5wdXNoKCEwKSx0aGlzLl90ZXh0dXJlcy5wdXNoKHZvaWQgMCl9Z2V0R2x5cGhJdGVtcyhzLGkpe2NvbnN0IGg9W10scj10aGlzLl9nbHlwaFNvdXJjZSxuPW5ldyBTZXQsbz0xLzI1Njtmb3IoY29uc3QgdCBvZiBpKXtjb25zdCBlPU1hdGguZmxvb3IodCpvKTtuLmFkZChlKX1jb25zdCBhPVtdO3JldHVybiBuLmZvckVhY2goKHQ9Pntjb25zdCBlPXMrdDtpZih0aGlzLl9yYW5nZVByb21pc2VzLmhhcyhlKSlhLnB1c2godGhpcy5fcmFuZ2VQcm9taXNlcy5nZXQoZSkpO2Vsc2V7Y29uc3QgaT1yLmdldFJhbmdlKHMsdCkudGhlbigoKCk9Pnt0aGlzLl9yYW5nZVByb21pc2VzLmRlbGV0ZShlKX0pLCgoKT0+e3RoaXMuX3JhbmdlUHJvbWlzZXMuZGVsZXRlKGUpfSkpO3RoaXMuX3JhbmdlUHJvbWlzZXMuc2V0KGUsaSksYS5wdXNoKGkpfX0pKSxQcm9taXNlLmFsbChhKS50aGVuKCgoKT0+e2xldCBuPXRoaXMuX2dseXBoSW5kZXhbc107bnx8KG49e30sdGhpcy5fZ2x5cGhJbmRleFtzXT1uKTtmb3IoY29uc3QgbyBvZiBpKXtjb25zdCBpPW5bb107aWYoaSl7aFtvXT17c2RmOiEwLHJlY3Q6aS5yZWN0LG1ldHJpY3M6aS5tZXRyaWNzLHBhZ2U6aS5wYWdlLGNvZGU6b307Y29udGludWV9Y29uc3QgYT1yLmdldEdseXBoKHMsbyk7aWYoIWE/Lm1ldHJpY3MpY29udGludWU7Y29uc3QgbD1hLm1ldHJpY3M7bGV0IGM7aWYoMD09PWwud2lkdGgpYz1uZXcgZSgwLDAsMCwwKTtlbHNle2NvbnN0IGU9MyxzPWwud2lkdGgrMiplLGk9bC5oZWlnaHQrMiplO2xldCBoPXMlND80LXMlNDo0LHI9aSU0PzQtaSU0OjQ7MT09PWgmJihoPTUpLDE9PT1yJiYocj01KSxjPXRoaXMuX2JpblBhY2suYWxsb2NhdGUocytoLGkrciksYy5pc0VtcHR5JiYodGhpcy5fZGlydGllc1t0aGlzLl9jdXJyZW50UGFnZV18fCh0aGlzLl9nbHlwaERhdGFbdGhpcy5fY3VycmVudFBhZ2VdPW51bGwpLHRoaXMuX2N1cnJlbnRQYWdlPXRoaXMuX2dseXBoRGF0YS5sZW5ndGgsdGhpcy5fZ2x5cGhEYXRhLnB1c2gobmV3IFVpbnQ4QXJyYXkodGhpcy53aWR0aCp0aGlzLmhlaWdodCkpLHRoaXMuX2RpcnRpZXMucHVzaCghMCksdGhpcy5fdGV4dHVyZXMucHVzaCh2b2lkIDApLHRoaXMuX2JpblBhY2s9bmV3IHQodGhpcy53aWR0aC00LHRoaXMuaGVpZ2h0LTQpLGM9dGhpcy5fYmluUGFjay5hbGxvY2F0ZShzK2gsaStyKSk7Y29uc3Qgbj10aGlzLl9nbHlwaERhdGFbdGhpcy5fY3VycmVudFBhZ2VdLG89YS5iaXRtYXA7bGV0IGcsXztpZihvKWZvcihsZXQgdD0wO3Q8aTt0Kyspe2c9cyp0LF89dGhpcy53aWR0aCooYy55K3QrMSkrYy54O2ZvcihsZXQgdD0wO3Q8czt0KyspbltfK3QrMV09by5hdChnK3QpfX1uW29dPXtyZWN0OmMsbWV0cmljczpsLHRpbGVJRHM6bnVsbCxwYWdlOnRoaXMuX2N1cnJlbnRQYWdlfSxoW29dPXtzZGY6ITAscmVjdDpjLG1ldHJpY3M6bCxwYWdlOnRoaXMuX2N1cnJlbnRQYWdlLGNvZGU6b30sdGhpcy5fZGlydGllc1t0aGlzLl9jdXJyZW50UGFnZV09ITB9cmV0dXJuIGh9KSl9cmVtb3ZlR2x5cGhzKHQpe2Zvcihjb25zdCBlIGluIHRoaXMuX2dseXBoSW5kZXgpe2NvbnN0IHM9dGhpcy5fZ2x5cGhJbmRleFtlXTtpZighcyljb250aW51ZTtsZXQgaTtmb3IoY29uc3QgZSBpbiBzKWlmKGk9c1tlXSxpLnRpbGVJRHMuZGVsZXRlKHQpLDA9PT1pLnRpbGVJRHMuc2l6ZSl7Y29uc3QgdD10aGlzLl9nbHlwaERhdGFbaS5wYWdlXSxoPWkucmVjdDtsZXQgcixuO2ZvcihsZXQgZT0wO2U8aC5oZWlnaHQ7ZSsrKWZvcihyPXRoaXMud2lkdGgqKGgueStlKStoLngsbj0wO248aC53aWR0aDtuKyspdFtyK25dPTA7ZGVsZXRlIHNbZV0sdGhpcy5fZGlydGllc1tpLnBhZ2VdPSEwfX19YmluZCh0LGUsbixvPTApe2lmKCF0aGlzLl90ZXh0dXJlc1tuXSl7Y29uc3QgZT1uZXcgcjtlLnBpeGVsRm9ybWF0PXMuQUxQSEEsZS53cmFwTW9kZT1pLkNMQU1QX1RPX0VER0UsZS53aWR0aD10aGlzLndpZHRoLGUuaGVpZ2h0PXRoaXMuaGVpZ2h0LHRoaXMuX3RleHR1cmVzW25dPW5ldyBoKHQsZSxuZXcgVWludDhBcnJheSh0aGlzLndpZHRoKnRoaXMuaGVpZ2h0KSl9Y29uc3QgYT10aGlzLl90ZXh0dXJlc1tuXTthLnNldFNhbXBsaW5nTW9kZShlKSx0aGlzLl9kaXJ0aWVzW25dJiZhLnNldERhdGEodGhpcy5fZ2x5cGhEYXRhW25dKSx0LmJpbmRUZXh0dXJlKGEsbyksdGhpcy5fZGlydGllc1tuXT0hMX1kZXN0cm95KCl7dGhpcy5kaXNwb3NlKCl9ZGlzcG9zZSgpe3RoaXMuX2dseXBoRGF0YS5sZW5ndGg9MCx0aGlzLl9iaW5QYWNrPW51bGw7Zm9yKGNvbnN0IHQgb2YgdGhpcy5fdGV4dHVyZXMpdCYmdC5kaXNwb3NlKCk7dGhpcy5fdGV4dHVyZXMubGVuZ3RoPTB9fWV4cG9ydHtuIGFzIGRlZmF1bHR9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMzMvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydCB0IGZyb21cIi4uLy4uLy4uLy4uL3JlcXVlc3QuanNcIjtpbXBvcnQgZSBmcm9tXCIuLi8uLi8uLi8uLi9jb3JlL3BiZi5qc1wiO2NsYXNzIHN7Y29uc3RydWN0b3IodCl7aWYodGhpcy5fbWV0cmljcz1bXSwhdClyZXR1cm4gdm9pZCh0aGlzLl9hbGxCaXRtYXBzPW51bGwpO2NvbnN0IGU9bmV3IE1hcDtsZXQgcz0wO2Zvcig7dC5uZXh0KCk7KXN3aXRjaCh0LnRhZygpKXtjYXNlIDE6e2NvbnN0IGE9dC5nZXRNZXNzYWdlKCk7Zm9yKDthLm5leHQoKTspc3dpdGNoKGEudGFnKCkpe2Nhc2UgMzp7Y29uc3QgdD1hLmdldE1lc3NhZ2UoKTtsZXQgcixuLGksYyxvLGcsaDtmb3IoO3QubmV4dCgpOylzd2l0Y2godC50YWcoKSl7Y2FzZSAxOnI9dC5nZXRVSW50MzIoKTticmVhaztjYXNlIDI6bj10LmdldEJ5dGVzKCk7YnJlYWs7Y2FzZSAzOmk9dC5nZXRVSW50MzIoKTticmVhaztjYXNlIDQ6Yz10LmdldFVJbnQzMigpO2JyZWFrO2Nhc2UgNTpvPXQuZ2V0U0ludDMyKCk7YnJlYWs7Y2FzZSA2Omc9dC5nZXRTSW50MzIoKTticmVhaztjYXNlIDc6aD10LmdldFVJbnQzMigpO2JyZWFrO2RlZmF1bHQ6dC5za2lwKCl9aWYodC5yZWxlYXNlKCkscil7Y29uc3QgdD1uPy5sZW5ndGg/PzA7dGhpcy5fbWV0cmljc1tyXT17d2lkdGg6aSxoZWlnaHQ6YyxsZWZ0Om8sdG9wOmcsYWR2YW5jZTpoLHN0YXJ0T2Zmc2V0OnMsbGVuZ3RoOnR9LGUuc2V0KHIsbikscys9dH1icmVha31kZWZhdWx0OmEuc2tpcCgpfWEucmVsZWFzZSgpO2JyZWFrfWRlZmF1bHQ6dC5za2lwKCl9Y29uc3QgYT1uZXcgVWludDhBcnJheShzKSxyPXRoaXMuX21ldHJpY3M7Zm9yKGNvbnN0W24saV1vZiBlKXtjb25zdHtzdGFydE9mZnNldDp0LGxlbmd0aDplfT1yW25dO2lmKGkpZm9yKGxldCBzPTA7czxlOysrcylhW3Qrc109aVtzXX10aGlzLl9hbGxCaXRtYXBzPWF9Z2V0TWV0cmljcyh0KXtyZXR1cm4gdGhpcy5fbWV0cmljc1t0XX1nZXRCaXRtYXAodCl7aWYoIXRoaXMuX2FsbEJpdG1hcHMpcmV0dXJuO2NvbnN0IGU9dGhpcy5fbWV0cmljc1t0XTtpZih2b2lkIDA9PT1lKXJldHVybjtjb25zdHtzdGFydE9mZnNldDpzLGxlbmd0aDphfT1lO3JldHVybiAwIT09YT9uZXcgbih0aGlzLl9hbGxCaXRtYXBzLHMsYSk6dm9pZCAwfX1jbGFzcyBhe2NvbnN0cnVjdG9yKCl7dGhpcy5fcmFuZ2VzPVtdfWdldCByYW5nZXMoKXtyZXR1cm4gdGhpcy5fcmFuZ2VzfWdldFJhbmdlKHQpe3JldHVybiB0aGlzLl9yYW5nZXNbdF19YWRkUmFuZ2UodCxlKXt0aGlzLl9yYW5nZXNbdF09ZX19Y2xhc3Mgcntjb25zdHJ1Y3Rvcih0KXt0aGlzLl9nbHlwaEluZm89e30sdGhpcy5fYmFzZVVSTD10fWdldFJhbmdlKGEscil7Y29uc3Qgbj10aGlzLl9nZXRGb250U3RhY2soYSk7aWYobi5nZXRSYW5nZShyKSlyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7Y29uc3QgaT0yNTYqcixjPWkrMjU1O2lmKHRoaXMuX2Jhc2VVUkwpe2NvbnN0IG89dGhpcy5fYmFzZVVSTC5yZXBsYWNlKFwie2ZvbnRzdGFja31cIixhKS5yZXBsYWNlKFwie3JhbmdlfVwiLGkrXCItXCIrYyk7cmV0dXJuIHQobyx7cmVzcG9uc2VUeXBlOlwiYXJyYXktYnVmZmVyXCJ9KS50aGVuKCh0PT57bi5hZGRSYW5nZShyLG5ldyBzKG5ldyBlKG5ldyBVaW50OEFycmF5KHQuZGF0YSksbmV3IERhdGFWaWV3KHQuZGF0YSkpKSl9KSkuY2F0Y2goKCgpPT57bi5hZGRSYW5nZShyLG5ldyBzKX0pKX1yZXR1cm4gbi5hZGRSYW5nZShyLG5ldyBzKSxQcm9taXNlLnJlc29sdmUoKX1nZXRHbHlwaCh0LGUpe2NvbnN0IHM9dGhpcy5fZ2V0Rm9udFN0YWNrKHQpO2lmKCFzKXJldHVybjtjb25zdCBhPU1hdGguZmxvb3IoZS8yNTYpLHI9cy5nZXRSYW5nZShhKTtyZXR1cm4gcj97bWV0cmljczpyLmdldE1ldHJpY3MoZSksYml0bWFwOnIuZ2V0Qml0bWFwKGUpfTp2b2lkIDB9X2dldEZvbnRTdGFjayh0KXtsZXQgZT10aGlzLl9nbHlwaEluZm9bdF07cmV0dXJuIGV8fChlPXRoaXMuX2dseXBoSW5mb1t0XT1uZXcgYSksZX19Y2xhc3Mgbntjb25zdHJ1Y3Rvcih0LGUscyl7dGhpcy5fYXJyYXk9dCx0aGlzLl9zdGFydD1lLHRoaXMubGVuZ3RoPXN9YXQodCl7cmV0dXJuIDA8PXQmJnQ8dGhpcy5sZW5ndGg/dGhpcy5fYXJyYXlbdGhpcy5fc3RhcnQrdF06dm9pZCAwfX1leHBvcnR7ciBhcyBkZWZhdWx0fTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjMzL2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnQgaCBmcm9tXCIuLi93ZWJnbC9SZWN0LmpzXCI7Y2xhc3MgZXtjb25zdHJ1Y3RvcihlLHQpe3RoaXMuX3dpZHRoPTAsdGhpcy5faGVpZ2h0PTAsdGhpcy5fZnJlZT1bXSx0aGlzLl93aWR0aD1lLHRoaXMuX2hlaWdodD10LHRoaXMuX2ZyZWUucHVzaChuZXcgaCgwLDAsZSx0KSl9Z2V0IHdpZHRoKCl7cmV0dXJuIHRoaXMuX3dpZHRofWdldCBoZWlnaHQoKXtyZXR1cm4gdGhpcy5faGVpZ2h0fWFsbG9jYXRlKGUsdCl7aWYoZT50aGlzLl93aWR0aHx8dD50aGlzLl9oZWlnaHQpcmV0dXJuIG5ldyBoO2xldCBpPW51bGwscz0tMTtmb3IobGV0IGg9MDtoPHRoaXMuX2ZyZWUubGVuZ3RoOysraCl7Y29uc3Qgdz10aGlzLl9mcmVlW2hdO2U8PXcud2lkdGgmJnQ8PXcuaGVpZ2h0JiYobnVsbD09PWl8fHcueTw9aS55JiZ3Lng8PWkueCkmJihpPXcscz1oKX1yZXR1cm4gbnVsbD09PWk/bmV3IGg6KHRoaXMuX2ZyZWUuc3BsaWNlKHMsMSksaS53aWR0aDxpLmhlaWdodD8oaS53aWR0aD5lJiZ0aGlzLl9mcmVlLnB1c2gobmV3IGgoaS54K2UsaS55LGkud2lkdGgtZSx0KSksaS5oZWlnaHQ+dCYmdGhpcy5fZnJlZS5wdXNoKG5ldyBoKGkueCxpLnkrdCxpLndpZHRoLGkuaGVpZ2h0LXQpKSk6KGkud2lkdGg+ZSYmdGhpcy5fZnJlZS5wdXNoKG5ldyBoKGkueCtlLGkueSxpLndpZHRoLWUsaS5oZWlnaHQpKSxpLmhlaWdodD50JiZ0aGlzLl9mcmVlLnB1c2gobmV3IGgoaS54LGkueSt0LGUsaS5oZWlnaHQtdCkpKSxuZXcgaChpLngsaS55LGUsdCkpfXJlbGVhc2UoaCl7Zm9yKGxldCBlPTA7ZTx0aGlzLl9mcmVlLmxlbmd0aDsrK2Upe2NvbnN0IHQ9dGhpcy5fZnJlZVtlXTtpZih0Lnk9PT1oLnkmJnQuaGVpZ2h0PT09aC5oZWlnaHQmJnQueCt0LndpZHRoPT09aC54KXQud2lkdGgrPWgud2lkdGg7ZWxzZSBpZih0Lng9PT1oLngmJnQud2lkdGg9PT1oLndpZHRoJiZ0LnkrdC5oZWlnaHQ9PT1oLnkpdC5oZWlnaHQrPWguaGVpZ2h0O2Vsc2UgaWYoaC55PT09dC55JiZoLmhlaWdodD09PXQuaGVpZ2h0JiZoLngraC53aWR0aD09PXQueCl0Lng9aC54LHQud2lkdGgrPWgud2lkdGg7ZWxzZXtpZihoLnghPT10Lnh8fGgud2lkdGghPT10LndpZHRofHxoLnkraC5oZWlnaHQhPT10LnkpY29udGludWU7dC55PWgueSx0LmhlaWdodCs9aC5oZWlnaHR9dGhpcy5fZnJlZS5zcGxpY2UoZSwxKSx0aGlzLnJlbGVhc2UoaCl9dGhpcy5fZnJlZS5wdXNoKGgpfX1leHBvcnR7ZSBhcyBkZWZhdWx0fTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjMzL2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnRcIi4uLy4uLy4uLy4uL2NvcmUvaGFzLmpzXCI7aW1wb3J0e3Jhc3Rlcml6ZURhc2ggYXMgdH1mcm9tXCIuLi8uLi8uLi8uLi9zeW1ib2xzL2NpbS9yYXN0ZXJpemluZ1V0aWxzLmpzXCI7aW1wb3J0IGkgZnJvbVwiLi9SZWN0YW5nbGVCaW5QYWNrLmpzXCI7aW1wb3J0IHMgZnJvbVwiLi4vd2ViZ2wvUmVjdC5qc1wiO2ltcG9ydHtUZXh0dXJlV3JhcE1vZGUgYXMgZX1mcm9tXCIuLi8uLi8uLi93ZWJnbC9lbnVtcy5qc1wiO2ltcG9ydHtUZXh0dXJlIGFzIGh9ZnJvbVwiLi4vLi4vLi4vd2ViZ2wvVGV4dHVyZS5qc1wiO2ltcG9ydHtUZXh0dXJlRGVzY3JpcHRvciBhcyBhfWZyb21cIi4uLy4uLy4uL3dlYmdsL1RleHR1cmVEZXNjcmlwdG9yLmpzXCI7Y29uc3Qgcj1cImRhc2hhcnJheS1cIjtjbGFzcyBve2NvbnN0cnVjdG9yKHQscyxlPTApe3RoaXMuX3NpemU9W10sdGhpcy5fbW9zYWljc0RhdGE9W10sdGhpcy5fdGV4dHVyZXM9W10sdGhpcy5fZGlydGllcz1bXSx0aGlzLl9tYXhJdGVtU2l6ZT0wLHRoaXMuX2N1cnJlbnRQYWdlPTAsdGhpcy5fcGFnZVdpZHRoPTAsdGhpcy5fcGFnZUhlaWdodD0wLHRoaXMuX21vc2FpY1JlY3RzPXt9LHRoaXMucGl4ZWxSYXRpbz0xLHM8PTAmJmNvbnNvbGUuZXJyb3IoXCJTcHJpdGVzIG1vc2FpYyBkZWZhdWx0V2lkdGggYW5kIGRlZmF1bHRIZWlnaHQgbXVzdCBiZSBncmVhdGVyIHRoYW4gemVybyFcIiksdGhpcy5fcGFnZVdpZHRoPXQsdGhpcy5fcGFnZUhlaWdodD1zLGU+MCYmKHRoaXMuX21heEl0ZW1TaXplPWUpLHRoaXMuX2JpblBhY2s9bmV3IGkodC00LHMtNCl9ZGVzdHJveSgpe3RoaXMuZGlzcG9zZSgpfWRpc3Bvc2UoKXt0aGlzLl9iaW5QYWNrPW51bGwsdGhpcy5fbW9zYWljc0RhdGEubGVuZ3RoPTAsdGhpcy5fbW9zYWljUmVjdHM9e307Zm9yKGNvbnN0IHQgb2YgdGhpcy5fdGV4dHVyZXMpdCYmdC5kaXNwb3NlKCk7dGhpcy5fdGV4dHVyZXMubGVuZ3RoPTB9Z2V0V2lkdGgodCl7cmV0dXJuIHQ+PXRoaXMuX3NpemUubGVuZ3RoPy0xOnRoaXMuX3NpemVbdF1bMF19Z2V0SGVpZ2h0KHQpe3JldHVybiB0Pj10aGlzLl9zaXplLmxlbmd0aD8tMTp0aGlzLl9zaXplW3RdWzFdfWdldFBhZ2VTaXplKHQpe3JldHVybiB0Pj10aGlzLl9zaXplLmxlbmd0aD9udWxsOnRoaXMuX3NpemVbdF19c2V0U3ByaXRlU291cmNlKHQpe2lmKHRoaXMuZGlzcG9zZSgpLHRoaXMucGl4ZWxSYXRpbz10LmRldmljZVBpeGVsUmF0aW8sMD09PXRoaXMuX21vc2FpY3NEYXRhLmxlbmd0aCl7dGhpcy5fYmluUGFjaz1uZXcgaSh0aGlzLl9wYWdlV2lkdGgtNCx0aGlzLl9wYWdlSGVpZ2h0LTQpO2NvbnN0IHQ9TWF0aC5mbG9vcih0aGlzLl9wYWdlV2lkdGgpLHM9TWF0aC5mbG9vcih0aGlzLl9wYWdlSGVpZ2h0KSxlPW5ldyBVaW50MzJBcnJheSh0KnMpO3RoaXMuX21vc2FpY3NEYXRhWzBdPWUsdGhpcy5fZGlydGllcy5wdXNoKCEwKSx0aGlzLl9zaXplLnB1c2goW3RoaXMuX3BhZ2VXaWR0aCx0aGlzLl9wYWdlSGVpZ2h0XSksdGhpcy5fdGV4dHVyZXMucHVzaCh2b2lkIDApfXRoaXMuX3Nwcml0ZXM9dH1nZXRTcHJpdGVJdGVtKHQsaT0hMSl7bGV0IHMsZSxoPXRoaXMuX21vc2FpY1JlY3RzW3RdO2lmKGgpcmV0dXJuIGg7aWYoIXRoaXMuX3Nwcml0ZXN8fFwibG9hZGVkXCIhPT10aGlzLl9zcHJpdGVzLmxvYWRTdGF0dXMpcmV0dXJuIG51bGw7aWYodCYmdC5zdGFydHNXaXRoKHIpPyhbcyxlXT10aGlzLl9yYXN0ZXJpemVEYXNoKHQpLGk9ITApOnM9dGhpcy5fc3ByaXRlcy5nZXRTcHJpdGVJbmZvKHQpLCFzPy53aWR0aHx8IXMuaGVpZ2h0fHxzLndpZHRoPDB8fHMuaGVpZ2h0PDApcmV0dXJuIG51bGw7Y29uc3QgYT1zLndpZHRoLG89cy5oZWlnaHQsW24sXyxnXT10aGlzLl9hbGxvY2F0ZUltYWdlKGEsbyk7cmV0dXJuIG4ud2lkdGg8PTA/bnVsbDoodGhpcy5fY29weShuLHMsXyxnLGksZSksaD17dHlwZTpcInNwcml0ZVwiLHJlY3Q6bix3aWR0aDphLGhlaWdodDpvLHNkZjpzLnNkZixzaW1wbGVQYXR0ZXJuOiExLHJhc3Rlcml6YXRpb25TY2FsZTpzLnBpeGVsUmF0aW8/PzEsc2FtcGxpbmdNb2RlOlwiTGluZWFyXCIscGFnZTpffSx0aGlzLl9tb3NhaWNSZWN0c1t0XT1oLGgpfWdldFNwcml0ZUl0ZW1zKHQpe2NvbnN0IGk9e307Zm9yKGNvbnN0IHMgb2YgdClpW3MubmFtZV09dGhpcy5nZXRTcHJpdGVJdGVtKHMubmFtZSxzLnJlcGVhdCk7cmV0dXJuIGl9Z2V0TW9zYWljSXRlbVBvc2l0aW9uKHQsaSl7Y29uc3Qgcz10aGlzLmdldFNwcml0ZUl0ZW0odCxpKSxlPXM/LnJlY3Q7aWYoIWUpcmV0dXJuIG51bGw7ZS53aWR0aD1zLndpZHRoLGUuaGVpZ2h0PXMuaGVpZ2h0O2NvbnN0IGg9cy53aWR0aCxhPXMuaGVpZ2h0LHI9MjtyZXR1cm57dGw6W2UueCtyLGUueStyXSxicjpbZS54K3IraCxlLnkrcithXSxwYWdlOnMucGFnZX19YmluZCh0LGkscz0wLHI9MCl7aWYocz49dGhpcy5fc2l6ZS5sZW5ndGh8fHM+PXRoaXMuX21vc2FpY3NEYXRhLmxlbmd0aClyZXR1cm47aWYoIXRoaXMuX3RleHR1cmVzW3NdKXtjb25zdCBpPW5ldyBhO2kud3JhcE1vZGU9ZS5DTEFNUF9UT19FREdFLGkud2lkdGg9dGhpcy5fc2l6ZVtzXVswXSxpLmhlaWdodD10aGlzLl9zaXplW3NdWzFdLHRoaXMuX3RleHR1cmVzW3NdPW5ldyBoKHQsaSxuZXcgVWludDhBcnJheSh0aGlzLl9tb3NhaWNzRGF0YVtzXS5idWZmZXIpKX1jb25zdCBvPXRoaXMuX3RleHR1cmVzW3NdO28uc2V0U2FtcGxpbmdNb2RlKGkpLHRoaXMuX2RpcnRpZXNbc10mJm8uc2V0RGF0YShuZXcgVWludDhBcnJheSh0aGlzLl9tb3NhaWNzRGF0YVtzXS5idWZmZXIpKSx0LmJpbmRUZXh0dXJlKG8sciksdGhpcy5fZGlydGllc1tzXT0hMX1zdGF0aWMgX2NvcHlCaXRzKHQsaSxzLGUsaCxhLHIsbyxuLF8sZyl7bGV0IHA9ZSppK3MsYz1vKmErcjtpZihnKXtjLT1hO2ZvcihsZXQgcj0tMTtyPD1fO3IrKyxwPSgocitfKSVfK2UpKmkrcyxjKz1hKWZvcihsZXQgaT0tMTtpPD1uO2krKyloW2MraV09dFtwKyhpK24pJW5dfWVsc2UgZm9yKGxldCBsPTA7bDxfO2wrKyl7Zm9yKGxldCBpPTA7aTxuO2krKyloW2MraV09dFtwK2ldO3ArPWksYys9YX19X2NvcHkodCxpLHMsZSxoLGEpe2lmKCF0aGlzLl9zcHJpdGVzfHxcImxvYWRlZFwiIT09dGhpcy5fc3ByaXRlcy5sb2FkU3RhdHVzfHxzPj10aGlzLl9tb3NhaWNzRGF0YS5sZW5ndGgpcmV0dXJuO2NvbnN0IHI9bmV3IFVpbnQzMkFycmF5KGE/YS5idWZmZXI6dGhpcy5fc3ByaXRlcy5pbWFnZS5idWZmZXIpLG49dGhpcy5fbW9zYWljc0RhdGFbc10sXz0yLGc9YT9pLndpZHRoOnRoaXMuX3Nwcml0ZXMud2lkdGg7by5fY29weUJpdHMocixnLGkueCxpLnksbixlWzBdLHQueCtfLHQueStfLGkud2lkdGgsaS5oZWlnaHQsaCksdGhpcy5fZGlydGllc1tzXT0hMH1fYWxsb2NhdGVJbWFnZSh0LGUpe3QrPTIsZSs9Mjtjb25zdCBoPU1hdGgubWF4KHQsZSk7aWYodGhpcy5fbWF4SXRlbVNpemUmJnRoaXMuX21heEl0ZW1TaXplPGgpe2NvbnN0IGk9bmV3IHMoMCwwLHQsZSk7cmV0dXJuIHRoaXMuX21vc2FpY3NEYXRhLnB1c2gobmV3IFVpbnQzMkFycmF5KHQqZSkpLHRoaXMuX2RpcnRpZXMucHVzaCghMCksdGhpcy5fc2l6ZS5wdXNoKFt0LGVdKSx0aGlzLl90ZXh0dXJlcy5wdXNoKHZvaWQgMCksW2ksdGhpcy5fbW9zYWljc0RhdGEubGVuZ3RoLTEsW3QsZV1dfWxldCBhPXQlND80LXQlNDo0LHI9ZSU0PzQtZSU0OjQ7MT09PWEmJihhPTUpLDE9PT1yJiYocj01KTtjb25zdCBvPXRoaXMuX2JpblBhY2suYWxsb2NhdGUodCthLGUrcik7cmV0dXJuIG8ud2lkdGg8PTA/KHRoaXMuX2RpcnRpZXNbdGhpcy5fY3VycmVudFBhZ2VdfHwodGhpcy5fbW9zYWljc0RhdGFbdGhpcy5fY3VycmVudFBhZ2VdPW51bGwpLHRoaXMuX2N1cnJlbnRQYWdlPXRoaXMuX21vc2FpY3NEYXRhLmxlbmd0aCx0aGlzLl9tb3NhaWNzRGF0YS5wdXNoKG5ldyBVaW50MzJBcnJheSh0aGlzLl9wYWdlV2lkdGgqdGhpcy5fcGFnZUhlaWdodCkpLHRoaXMuX2RpcnRpZXMucHVzaCghMCksdGhpcy5fc2l6ZS5wdXNoKFt0aGlzLl9wYWdlV2lkdGgsdGhpcy5fcGFnZUhlaWdodF0pLHRoaXMuX3RleHR1cmVzLnB1c2godm9pZCAwKSx0aGlzLl9iaW5QYWNrPW5ldyBpKHRoaXMuX3BhZ2VXaWR0aC00LHRoaXMuX3BhZ2VIZWlnaHQtNCksdGhpcy5fYWxsb2NhdGVJbWFnZSh0LGUpKTpbbyx0aGlzLl9jdXJyZW50UGFnZSxbdGhpcy5fcGFnZVdpZHRoLHRoaXMuX3BhZ2VIZWlnaHRdXX1fcmFzdGVyaXplRGFzaChpKXtjb25zdCBzPS9cXFsoLio/KVxcXS8sZT1pLm1hdGNoKHMpO2lmKCFlKXJldHVybiBudWxsO2NvbnN0IGg9ZVsxXS5zcGxpdChcIixcIikubWFwKE51bWJlciksYT1pLnNsaWNlKGkubGFzdEluZGV4T2YoXCItXCIpKzEpLFtyLG8sbl09dChoLGEpO3JldHVyblt7eDowLHk6MCx3aWR0aDpvLGhlaWdodDpuLHNkZjohMCxwaXhlbFJhdGlvOjF9LG5ldyBVaW50OEFycmF5KHIuYnVmZmVyKV19fWV4cG9ydHtvIGFzIGRlZmF1bHR9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMzMvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHthYm9ydE1heWJlIGFzIHR9ZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9tYXliZS5qc1wiO2ltcG9ydHt0aHJvd0lmTm90QWJvcnRFcnJvciBhcyBlLHRocm93SWZBYm9ydEVycm9yIGFzIHMsaXNBYm9ydEVycm9yIGFzIHIsZWFjaEFsd2F5cyBhcyBpfWZyb21cIi4uLy4uLy4uLy4uL2NvcmUvcHJvbWlzZVV0aWxzLmpzXCI7aW1wb3J0e2FkZFF1ZXJ5UGFyYW1ldGVycyBhcyBvfWZyb21cIi4uLy4uLy4uLy4uL2NvcmUvdXJsVXRpbHMuanNcIjtpbXBvcnR7b3BlbiBhcyBufWZyb21cIi4uLy4uLy4uLy4uL2NvcmUvd29ya2Vycy93b3JrZXJzLmpzXCI7aW1wb3J0e1N0eWxlVXBkYXRlVHlwZSBhcyBhfWZyb21cIi4vZW51bXMuanNcIjtpbXBvcnQgbCBmcm9tXCIuL0dseXBoTW9zYWljLmpzXCI7aW1wb3J0IGMgZnJvbVwiLi9HbHlwaFNvdXJjZS5qc1wiO2ltcG9ydCB1IGZyb21cIi4vU3ByaXRlTW9zYWljLmpzXCI7aW1wb3J0IGggZnJvbVwiLi4vLi4vdGlsaW5nL1RpbGVLZXkuanNcIjtjbGFzcyBwe2NvbnN0cnVjdG9yKHQsZSxzLHIpe3RoaXMuX2xheWVyPXQsdGhpcy5fc3R5bGVSZXBvc2l0b3J5PWUsdGhpcy5kZXZpY2VQaXhlbFJhdGlvPXMsdGhpcy5fc291cmNlRGF0YU1heExPRD1yLHRoaXMuX3Nwcml0ZU1vc2FpYz1udWxsLHRoaXMuX2dseXBoTW9zYWljPW51bGwsdGhpcy5fY29ubmVjdGlvbj1udWxsLHRoaXMuX3Nwcml0ZVNvdXJjZUFib3J0Q29udHJvbGxlcj1udWxsLHRoaXMuX3N0YXJ0T3B0aW9uc0lucHV0U2lnbmFsPW51bGwsdGhpcy5faW5wdXRTaWduYWxFdmVudExpc3RlbmVyPW51bGx9ZGVzdHJveSgpe3RoaXMuX2Nvbm5lY3Rpb24/LmNsb3NlKCksdGhpcy5fY29ubmVjdGlvbj1udWxsLHRoaXMuX3N0eWxlUmVwb3NpdG9yeT1udWxsLHRoaXMuX2xheWVyPW51bGwsdGhpcy5fc3ByaXRlTW9zYWljPy5kZXN0cm95KCksdGhpcy5fc3ByaXRlTW9zYWljPW51bGwsdGhpcy5fZ2x5cGhNb3NhaWM9bnVsbCx0aGlzLl9zcHJpdGVTb3VyY2VBYm9ydENvbnRyb2xsZXI9dCh0aGlzLl9zcHJpdGVTb3VyY2VBYm9ydENvbnRyb2xsZXIpLHRoaXMuX3Nwcml0ZVNvdXJjZVByb21pc2U9bnVsbCx0aGlzLl9pbnB1dFNpZ25hbEV2ZW50TGlzdGVuZXImJnRoaXMuX3N0YXJ0T3B0aW9uc0lucHV0U2lnbmFsPy5yZW1vdmVFdmVudExpc3RlbmVyKFwiYWJvcnRcIix0aGlzLl9pbnB1dFNpZ25hbEV2ZW50TGlzdGVuZXIpLHRoaXMuX3N0YXJ0T3B0aW9uc0lucHV0U2lnbmFsPW51bGwsdGhpcy5faW5wdXRTaWduYWxFdmVudExpc3RlbmVyPW51bGx9Z2V0IHNwcml0ZU1vc2FpYygpe3JldHVybiB0aGlzLl9zcHJpdGVTb3VyY2VQcm9taXNlLnRoZW4oKCgpPT50aGlzLl9zcHJpdGVNb3NhaWMpKX1nZXQgZ2x5cGhNb3NhaWMoKXtyZXR1cm4gdGhpcy5fZ2x5cGhNb3NhaWN9YXN5bmMgc3RhcnQodCl7dGhpcy5fcmVxdWVzdFNwcml0ZSh0KTtjb25zdCBzPXRoaXMuX2xheWVyLmN1cnJlbnRTdHlsZUluZm8uZ2x5cGhzVXJsLHI9bmV3IGMocz9vKHMsey4uLnRoaXMuX2xheWVyLmN1c3RvbVBhcmFtZXRlcnMsdG9rZW46dGhpcy5fbGF5ZXIuYXBpS2V5fSk6bnVsbCk7dGhpcy5fZ2x5cGhNb3NhaWM9bmV3IGwoMTAyNCwxMDI0LHIpLHRoaXMuX2Jyb2FkY2FzdFByb21pc2U9bihcIldvcmtlclRpbGVIYW5kbGVyXCIse2NsaWVudDp0aGlzLHNjaGVkdWxlOnQuc2NoZWR1bGUsc2lnbmFsOnQuc2lnbmFsfSkudGhlbigocz0+e2lmKHRoaXMuX2xheWVyJiYodGhpcy5fY29ubmVjdGlvbj8uY2xvc2UoKSx0aGlzLl9jb25uZWN0aW9uPXMsdGhpcy5fbGF5ZXImJiF0aGlzLl9jb25uZWN0aW9uLmNsb3NlZCkpe2NvbnN0IHI9cy5icm9hZGNhc3QoXCJzZXRTdHlsZVwiLHtzdHlsZTp0aGlzLl9sYXllci5jdXJyZW50U3R5bGVJbmZvLnN0eWxlLHNvdXJjZURhdGFNYXhMT0Q6dGhpcy5fc291cmNlRGF0YU1heExPRH0sdCk7UHJvbWlzZS5hbGwocikuY2F0Y2goKHQ9PmUodCkpKX19KSl9X3JlcXVlc3RTcHJpdGUodCl7dGhpcy5fc3ByaXRlU291cmNlQWJvcnRDb250cm9sbGVyPy5hYm9ydCgpO2NvbnN0IGU9bmV3IEFib3J0Q29udHJvbGxlcjt0aGlzLl9zcHJpdGVTb3VyY2VBYm9ydENvbnRyb2xsZXI9ZTtjb25zdCByPXQ/LnNpZ25hbDt0aGlzLl9pbnB1dFNpZ25hbEV2ZW50TGlzdGVuZXImJnRoaXMuX3N0YXJ0T3B0aW9uc0lucHV0U2lnbmFsPy5yZW1vdmVFdmVudExpc3RlbmVyKFwiYWJvcnRcIix0aGlzLl9pbnB1dFNpZ25hbEV2ZW50TGlzdGVuZXIpLHRoaXMuX3N0YXJ0T3B0aW9uc0lucHV0U2lnbmFsPW51bGwsciYmKHRoaXMuX2lucHV0U2lnbmFsRXZlbnRMaXN0ZW5lcj1fKGUpLHIuYWRkRXZlbnRMaXN0ZW5lcihcImFib3J0XCIsdGhpcy5faW5wdXRTaWduYWxFdmVudExpc3RlbmVyLHtvbmNlOiEwfSkpO2NvbnN0e3NpZ25hbDppfT1lLG89ey4uLnQsc2lnbmFsOml9O3RoaXMuX3Nwcml0ZVNvdXJjZVByb21pc2U9dGhpcy5fbGF5ZXIubG9hZFNwcml0ZVNvdXJjZSh0aGlzLmRldmljZVBpeGVsUmF0aW8sbyksdGhpcy5fc3ByaXRlU291cmNlUHJvbWlzZS50aGVuKCh0PT57cyhpKSx0aGlzLl9zcHJpdGVNb3NhaWM9bmV3IHUoMTAyNCwxMDI0LDI1MCksdGhpcy5fc3ByaXRlTW9zYWljLnNldFNwcml0ZVNvdXJjZSh0KX0pKX1hc3luYyB1cGRhdGVTdHlsZSh0KXtjb25zdCBlPVtdO2Zvcihjb25zdCBzIG9mIHQpcy50eXBlPT09YS5TUFJJVEVTX0NIQU5HRUQ/ZS5wdXNoKHt0eXBlOmEuU1BSSVRFU19DSEFOR0VELGRhdGE6e3Nwcml0ZVNvdXJjZTpudWxsfX0pOmUucHVzaChzKTtyZXR1cm4gYXdhaXQgdGhpcy5fYnJvYWRjYXN0UHJvbWlzZSx0aGlzLl9icm9hZGNhc3RQcm9taXNlPVByb21pc2UuYWxsKHRoaXMuX2Nvbm5lY3Rpb24uYnJvYWRjYXN0KFwidXBkYXRlU3R5bGVcIixlKSksdGhpcy5fYnJvYWRjYXN0UHJvbWlzZX1zZXRTcHJpdGVTb3VyY2UodCl7Y29uc3QgZT1uZXcgdSgxMDI0LDEwMjQsMjUwKTtyZXR1cm4gZS5zZXRTcHJpdGVTb3VyY2UodCksdGhpcy5fc3ByaXRlTW9zYWljPWUsdGhpcy5fc3ByaXRlU291cmNlUHJvbWlzZT1Qcm9taXNlLnJlc29sdmUodCksdGhpcy5fc3ByaXRlU291cmNlQWJvcnRDb250cm9sbGVyPW51bGwsZX1hc3luYyBzZXRTdHlsZSh0LGUscyl7YXdhaXQgdGhpcy5fYnJvYWRjYXN0UHJvbWlzZSx0aGlzLl9zdHlsZVJlcG9zaXRvcnk9dCx0aGlzLl9zb3VyY2VEYXRhTWF4TE9EPXMsdGhpcy5fcmVxdWVzdFNwcml0ZSgpO2NvbnN0IHI9bmV3IGModGhpcy5fbGF5ZXIuY3VycmVudFN0eWxlSW5mby5nbHlwaHNVcmw/byh0aGlzLl9sYXllci5jdXJyZW50U3R5bGVJbmZvLmdseXBoc1VybCx7Li4udGhpcy5fbGF5ZXIuY3VzdG9tUGFyYW1ldGVycyx0b2tlbjp0aGlzLl9sYXllci5hcGlLZXl9KTpudWxsKTtyZXR1cm4gdGhpcy5fZ2x5cGhNb3NhaWM9bmV3IGwoMTAyNCwxMDI0LHIpLHRoaXMuX2Jyb2FkY2FzdFByb21pc2U9UHJvbWlzZS5hbGwodGhpcy5fY29ubmVjdGlvbi5icm9hZGNhc3QoXCJzZXRTdHlsZVwiLHtzdHlsZTplLHNvdXJjZURhdGFNYXhMT0Q6dGhpcy5fc291cmNlRGF0YU1heExPRH0pKSx0aGlzLl9icm9hZGNhc3RQcm9taXNlfWFzeW5jIGZldGNoVGlsZURhdGEodCxlKXtjb25zdCBzPWF3YWl0IHRoaXMuX2dldFJlZktleXModCxlKTtyZXR1cm4gdGhpcy5fZ2V0U291cmNlc0RhdGEoT2JqZWN0LmtleXModGhpcy5fbGF5ZXIuc291cmNlTmFtZVRvU291cmNlKSxzLGUpfWFzeW5jIGZldGNoVGlsZVBCRnModCl7Y29uc3QgZT1PYmplY3Qua2V5cyh0aGlzLl9sYXllci5zb3VyY2VOYW1lVG9Tb3VyY2UpLHM9e30scj1hd2FpdCB0aGlzLl9nZXRSZWZLZXlzKHQscyksaT1bXSxvPVtdO2ZvcihsZXQgbj0wO248ci5sZW5ndGg7bisrKWlmKG51bGw9PXJbbl0udmFsdWV8fG51bGw9PWVbbl0pby5wdXNoKG51bGwpO2Vsc2V7Y29uc3QgdD1yW25dLnZhbHVlLGE9dGhpcy5fZ2V0VGlsZVBheWxvYWQodCxlW25dLHMpO2EudGhlbigoZT0+e2kucHVzaCh7Li4uZSxrZXk6dH0pfSkpLG8ucHVzaChhKX1yZXR1cm4gUHJvbWlzZS5hbGwobykudGhlbigoKCk9PmkpKX1hc3luYyBwYXJzZVRpbGVEYXRhKHQsZSl7Y29uc3Qgcz10JiZ0LmRhdGE7aWYoIXMpcmV0dXJuIG51bGw7Y29uc3R7c291cmNlTmFtZTJEYXRhQW5kUmVmS2V5OnIsdHJhbnNmZXJMaXN0Oml9PXM7cmV0dXJuIDA9PT1PYmplY3Qua2V5cyhyKS5sZW5ndGg/bnVsbDp0aGlzLl9icm9hZGNhc3RQcm9taXNlLnRoZW4oKCgpPT50aGlzLl9jb25uZWN0aW9uLmludm9rZShcImNyZWF0ZVRpbGVBbmRQYXJzZVwiLHtrZXk6dC5rZXkuaWQsc291cmNlTmFtZTJEYXRhQW5kUmVmS2V5OnIsc3R5bGVMYXllclVJRHM6dC5zdHlsZUxheWVyVUlEc30sey4uLmUsdHJhbnNmZXJMaXN0Oml9KSkpfWFzeW5jIGdldFNwcml0ZXModCl7cmV0dXJuIGF3YWl0IHRoaXMuX3Nwcml0ZVNvdXJjZVByb21pc2UsdGhpcy5fc3ByaXRlTW9zYWljLmdldFNwcml0ZUl0ZW1zKHQpfWdldEdseXBocyh0KXtyZXR1cm4gdGhpcy5fZ2x5cGhNb3NhaWMuZ2V0R2x5cGhJdGVtcyh0LmZvbnQsdC5jb2RlUG9pbnRzKX1hc3luYyBfZ2V0VGlsZVBheWxvYWQodCxlLHMpe2NvbnN0IGk9aC5wb29sLmFjcXVpcmUodC5pZCksbz10aGlzLl9sYXllci5zb3VyY2VOYW1lVG9Tb3VyY2VbZV0se2xldmVsOm4scm93OmEsY29sOmx9PWk7aC5wb29sLnJlbGVhc2UoaSk7dHJ5e3JldHVybntwcm90b2J1ZmY6YXdhaXQgby5yZXF1ZXN0VGlsZShuLGEsbCxzKSxzb3VyY2VOYW1lOmV9fWNhdGNoKGMpe2lmKHIoYykpdGhyb3cgYztyZXR1cm57cHJvdG9idWZmOm51bGwsc291cmNlTmFtZTplfX19YXN5bmMgX2dldFJlZktleXModCxlKXtjb25zdCBzPXRoaXMuX2xheWVyLnNvdXJjZU5hbWVUb1NvdXJjZSxyPW5ldyBBcnJheTtmb3IoY29uc3QgaSBpbiBzKXtjb25zdCBvPXNbaV0uZ2V0UmVmS2V5KHQsZSk7ci5wdXNoKG8pfXJldHVybiBpKHIpfV9nZXRTb3VyY2VzRGF0YSh0LGUscyl7Y29uc3Qgcj1bXTtmb3IobGV0IGk9MDtpPGUubGVuZ3RoO2krKylpZihudWxsPT1lW2ldLnZhbHVlfHxudWxsPT10W2ldKXIucHVzaChudWxsKTtlbHNle2NvbnN0IG89ZVtpXS52YWx1ZSxuPXRoaXMuX2dldFRpbGVQYXlsb2FkKG8sdFtpXSxzKTtyLnB1c2gobil9cmV0dXJuIGkocikudGhlbigodD0+e2NvbnN0IHM9e30scj1bXTtmb3IobGV0IGk9MDtpPHQubGVuZ3RoO2krKyl7Y29uc3Qgbz10W2ldLnZhbHVlO2lmKG8mJihvLnByb3RvYnVmZiYmby5wcm90b2J1ZmYuYnl0ZUxlbmd0aD4wKSl7Y29uc3QgdD1lW2ldLnZhbHVlLmlkO3Nbby5zb3VyY2VOYW1lXT17cmVmS2V5OnQscHJvdG9idWZmOm8ucHJvdG9idWZmfSxyLnB1c2goby5wcm90b2J1ZmYpfX1yZXR1cm57c291cmNlTmFtZTJEYXRhQW5kUmVmS2V5OnMsdHJhbnNmZXJMaXN0OnJ9fSkpfX1mdW5jdGlvbiBfKHQpe3JldHVybigpPT50LmFib3J0KCl9ZXhwb3J0e3AgYXMgVGlsZUhhbmRsZXJ9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMzMvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmNsYXNzIHR7Y29uc3RydWN0b3IodD0wLGg9MCxpPTAscz0wKXt0aGlzLng9dCx0aGlzLnk9aCx0aGlzLndpZHRoPWksdGhpcy5oZWlnaHQ9c31nZXQgaXNFbXB0eSgpe3JldHVybiB0aGlzLndpZHRoPD0wfHx0aGlzLmhlaWdodDw9MH11bmlvbih0KXt0aGlzLng9TWF0aC5taW4odGhpcy54LHQueCksdGhpcy55PU1hdGgubWluKHRoaXMueSx0LnkpLHRoaXMud2lkdGg9TWF0aC5tYXgodGhpcy53aWR0aCx0LndpZHRoKSx0aGlzLmhlaWdodD1NYXRoLm1heCh0aGlzLmhlaWdodCx0LmhlaWdodCl9fWV4cG9ydHt0IGFzIGRlZmF1bHR9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMzMvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydCBlIGZyb21cIi4uLy4uLy4uL2xheWVycy9zdXBwb3J0L1RpbGVJbmZvLmpzXCI7aW1wb3J0IGwgZnJvbVwiLi9UaWxlSW5mb1ZpZXcuanNcIjtpbXBvcnQgcyBmcm9tXCIuL1RpbGVLZXkuanNcIjtjbGFzcyB0IGV4dGVuZHMgbHtjb25zdHJ1Y3Rvcigpe3N1cGVyKC4uLmFyZ3VtZW50cyksdGhpcy5fZnVsbENhY2hlTG9kSW5mb3M9bnVsbCx0aGlzLl9sZXZlbEJ5U2NhbGU9e319Z2V0VGlsZVBhcmVudElkKGUpe2NvbnN0IGw9cy5wb29sLmFjcXVpcmUoZSksdD0wPT09bC5sZXZlbD9udWxsOnMuZ2V0SWQobC5sZXZlbC0xLGwucm93Pj4xLGwuY29sPj4xLGwud29ybGQpO3JldHVybiBzLnBvb2wucmVsZWFzZShsKSx0fWdldFRpbGVDb3ZlcmFnZShlLGwscz0hMCx0KXtjb25zdCBvPXN1cGVyLmdldFRpbGVDb3ZlcmFnZShlLGwscyx0KTtpZighbylyZXR1cm4gbztjb25zdCBpPTE8PG8ubG9kSW5mby5sZXZlbDtyZXR1cm4gby5zcGFucz1vLnNwYW5zLmZpbHRlcigoZT0+ZS5yb3c+PTAmJmUucm93PGkpKSxvfXNjYWxlVG9MZXZlbChlKXtpZih0aGlzLl9mdWxsQ2FjaGVMb2RJbmZvc3x8dGhpcy5faW5pdGlhbGl6ZUZ1bGxDYWNoZUxPRHModGhpcy5fbG9kSW5mb3MpLHRoaXMuX2xldmVsQnlTY2FsZVtlXSlyZXR1cm4gdGhpcy5fbGV2ZWxCeVNjYWxlW2VdO3tjb25zdCBsPXRoaXMuX2Z1bGxDYWNoZUxvZEluZm9zO2lmKGU+bFswXS5zY2FsZSlyZXR1cm4gbFswXS5sZXZlbDtsZXQgcyx0O2ZvcihsZXQgbz0wO288bC5sZW5ndGgtMTtvKyspaWYodD1sW28rMV0sZT50LnNjYWxlKXJldHVybiBzPWxbb10scy5sZXZlbCsocy5zY2FsZS1lKS8ocy5zY2FsZS10LnNjYWxlKTtyZXR1cm4gbFtsLmxlbmd0aC0xXS5sZXZlbH19X2luaXRpYWxpemVGdWxsQ2FjaGVMT0RzKGwpe2xldCBzO2lmKDA9PT1sWzBdLmxldmVsKXM9bC5tYXAoKGU9Pih7bGV2ZWw6ZS5sZXZlbCxyZXNvbHV0aW9uOmUucmVzb2x1dGlvbixzY2FsZTplLnNjYWxlfSkpKTtlbHNle2NvbnN0IGw9dGhpcy50aWxlSW5mby5zaXplWzBdLHQ9dGhpcy50aWxlSW5mby5zcGF0aWFsUmVmZXJlbmNlO3M9ZS5jcmVhdGUoe3NpemU6bCxzcGF0aWFsUmVmZXJlbmNlOnR9KS5sb2RzLm1hcCgoZT0+KHtsZXZlbDplLmxldmVsLHJlc29sdXRpb246ZS5yZXNvbHV0aW9uLHNjYWxlOmUuc2NhbGV9KSkpfWZvcihsZXQgZT0wO2U8cy5sZW5ndGg7ZSsrKXRoaXMuX2xldmVsQnlTY2FsZVtzW2VdLnNjYWxlXT1zW2VdLmxldmVsO3RoaXMuX2Z1bGxDYWNoZUxvZEluZm9zPXN9fWV4cG9ydHt0IGFzIGRlZmF1bHR9O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9