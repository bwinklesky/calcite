export const __webpack_id__ = "vendors-node_modules_arcgis_core_views_3d_layers_PointCloudLayerView3D_js";
export const __webpack_ids__ = ["vendors-node_modules_arcgis_core_views_3d_layers_PointCloudLayerView3D_js"];
export const __webpack_modules__ = {

/***/ "./node_modules/@arcgis/core/chunks/PointRenderer.glsl.js":
/*!****************************************************************!*\
  !*** ./node_modules/@arcgis/core/chunks/PointRenderer.glsl.js ***!
  \****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   P: () => (/* binding */ j),
/* harmony export */   a: () => (/* binding */ P),
/* harmony export */   b: () => (/* binding */ _),
/* harmony export */   c: () => (/* binding */ y),
/* harmony export */   g: () => (/* binding */ O)
/* harmony export */ });
/* harmony import */ var _core_mathUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../core/mathUtils.js */ "./node_modules/@arcgis/core/core/mathUtils.js");
/* harmony import */ var _core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../core/libs/gl-matrix-2/math/mat4.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/math/mat4.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_mat4f64_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../core/libs/gl-matrix-2/factories/mat4f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/mat4f64.js");
/* harmony import */ var _core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../core/libs/gl-matrix-2/math/vec2.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/math/vec2.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_vec2f64_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../core/libs/gl-matrix-2/factories/vec2f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/vec2f64.js");
/* harmony import */ var _vec32_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./vec32.js */ "./node_modules/@arcgis/core/chunks/vec32.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../core/libs/gl-matrix-2/factories/vec3f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/vec3f64.js");
/* harmony import */ var _geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../geometry/support/aaBoundingBox.js */ "./node_modules/@arcgis/core/geometry/support/aaBoundingBox.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/ShaderOutput.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/ShaderOutput.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_Slice_glsl_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/Slice.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/Slice.glsl.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_output_OutputHighlight_glsl_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/output/OutputHighlight.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/output/OutputHighlight.glsl.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_util_RgbaFloatEncoding_glsl_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/util/RgbaFloatEncoding.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/util/RgbaFloatEncoding.glsl.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_Float2DrawUniform_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/Float2DrawUniform.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Float2DrawUniform.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_Float2PassUniform_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/Float2PassUniform.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Float2PassUniform.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_Float3DrawUniform_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/Float3DrawUniform.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Float3DrawUniform.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_glsl_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/glsl.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_Matrix4BindUniform_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/Matrix4BindUniform.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Matrix4BindUniform.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_Matrix4DrawUniform_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/Matrix4DrawUniform.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Matrix4DrawUniform.js");
/* harmony import */ var _views_3d_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../views/3d/webgl-engine/lib/VertexAttribute.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/VertexAttribute.js");
/* harmony import */ var _views_webgl_NoParameters_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../views/webgl/NoParameters.js */ "./node_modules/@arcgis/core/views/webgl/NoParameters.js");
/* harmony import */ var _views_webgl_ShaderBuilder_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../views/webgl/ShaderBuilder.js */ "./node_modules/@arcgis/core/views/webgl/ShaderBuilder.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
class j extends _views_webgl_NoParameters_js__WEBPACK_IMPORTED_MODULE_19__.NoParameters{constructor(){super(...arguments),this.clipBox=(0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_7__.create)(_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_7__.positiveInfinity),this.useFixedSizes=!1,this.useRealWorldSymbolSizes=!1,this.scaleFactor=1,this.minSizePx=0,this.size=0,this.sizePx=0}get fixedSize(){return this.drawScreenSpace?this.sizePx:this.size}get screenMinSize(){return this.useFixedSizes?0:this.minSizePx}get drawScreenSpace(){return this.useFixedSizes&&!this.useRealWorldSymbolSizes}}class P extends _views_3d_webgl_engine_core_shaderLibrary_Slice_glsl_js__WEBPACK_IMPORTED_MODULE_9__.SlicePlaneParameters{constructor(e,i,o){super(e),this.origin=e,this.isLeaf=i,this.splatSize=o}}function y(r){const a=new _views_webgl_ShaderBuilder_js__WEBPACK_IMPORTED_MODULE_20__.ShaderBuilder,n=(0,_views_3d_webgl_engine_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_8__.isColorOrColorEmission)(r.output),{vertex:c,fragment:l}=a;return a.vertex.include(_views_3d_webgl_engine_core_shaderLibrary_Slice_glsl_js__WEBPACK_IMPORTED_MODULE_9__.RejectBySlice,r),a.attributes.add(_views_3d_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_18__.VertexAttribute.POSITION,"vec3"),a.attributes.add(_views_3d_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_18__.VertexAttribute.COLOR,"vec3"),c.uniforms.add(new _views_3d_webgl_engine_core_shaderModules_Matrix4DrawUniform_js__WEBPACK_IMPORTED_MODULE_17__.Matrix4DrawUniform("modelView",((e,r)=>(0,_core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_1__.multiply)(R,r.camera.viewMatrix,(0,_core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_1__.fromTranslation)(R,e.origin)))),new _views_3d_webgl_engine_core_shaderModules_Matrix4BindUniform_js__WEBPACK_IMPORTED_MODULE_16__.Matrix4BindUniform("proj",(e=>e.camera.projectionMatrix)),new _views_3d_webgl_engine_core_shaderModules_Float2DrawUniform_js__WEBPACK_IMPORTED_MODULE_12__.Float2DrawUniform("screenMinMaxSize",((e,i,o)=>(0,_core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_3__.set)(F,o.useFixedSizes?0:o.minSizePx*i.camera.pixelRatio,O(e.isLeaf)*i.camera.pixelRatio))),r.useFixedSizes?new _views_3d_webgl_engine_core_shaderModules_Float2PassUniform_js__WEBPACK_IMPORTED_MODULE_13__.Float2PassUniform("pointScale",((e,i)=>(0,_core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_3__.set)(F,e.fixedSize*i.camera.pixelRatio,i.camera.fullHeight))):new _views_3d_webgl_engine_core_shaderModules_Float2DrawUniform_js__WEBPACK_IMPORTED_MODULE_12__.Float2DrawUniform("pointScale",((e,i,o)=>(0,_core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_3__.set)(F,e.splatSize*o.scaleFactor*i.camera.pixelRatio,i.camera.fullHeight/i.camera.pixelRatio)))),r.clippingEnabled?c.uniforms.add(new _views_3d_webgl_engine_core_shaderModules_Float3DrawUniform_js__WEBPACK_IMPORTED_MODULE_14__.Float3DrawUniform("clipMin",((e,i,o)=>(0,_vec32_js__WEBPACK_IMPORTED_MODULE_5__.i)(B,o.clipBox[0]-e.origin[0],o.clipBox[1]-e.origin[1],o.clipBox[2]-e.origin[2]))),new _views_3d_webgl_engine_core_shaderModules_Float3DrawUniform_js__WEBPACK_IMPORTED_MODULE_14__.Float3DrawUniform("clipMax",((e,i,o)=>(0,_vec32_js__WEBPACK_IMPORTED_MODULE_5__.i)(B,o.clipBox[3]-e.origin[0],o.clipBox[4]-e.origin[1],o.clipBox[5]-e.origin[2])))):(c.constants.add("clipMin","vec3",[-_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_0__.numberMaxFloat32,-_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_0__.numberMaxFloat32,-_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_0__.numberMaxFloat32]),c.constants.add("clipMax","vec3",[_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_0__.numberMaxFloat32,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_0__.numberMaxFloat32,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_0__.numberMaxFloat32])),n&&a.varyings.add("vColor","vec3"),c.main.add((0,_views_3d_webgl_engine_core_shaderModules_glsl_js__WEBPACK_IMPORTED_MODULE_15__.glsl)`
    // Move clipped points outside of clipspace
    if (position.x < clipMin.x || position.y < clipMin.y || position.z < clipMin.z ||
      position.x > clipMax.x || position.y > clipMax.y || position.z > clipMax.z) {
      gl_Position = vec4(1e038, 1e038, 1e038, 1.0);
      gl_PointSize = 0.0;
      return;
    }

    if (rejectBySlice(position)) {
      gl_Position = vec4(1e038, 1e038, 1e038, 1.0);
      gl_PointSize = 0.0;
      return;
    }

    // Position in camera space
    vec4 camera = modelView * vec4(position, 1.0);

    float pointSize = pointScale.x;
    vec4 position = proj * camera;
    ${r.drawScreenSize?(0,_views_3d_webgl_engine_core_shaderModules_glsl_js__WEBPACK_IMPORTED_MODULE_15__.glsl)`float clampedScreenSize = pointSize;`:(0,_views_3d_webgl_engine_core_shaderModules_glsl_js__WEBPACK_IMPORTED_MODULE_15__.glsl)`float pointRadius = 0.5 * pointSize;
           vec4 cameraOffset = camera + vec4(0.0, pointRadius, 0.0, 0.0);
           vec4 positionOffset = proj * cameraOffset;
           float radius = abs(positionOffset.y - position.y);
           float viewHeight = pointScale.y;
           // screen diameter = (2 * r / w) * (h / 2)
           float screenPointSize = (radius / position.w) * viewHeight;
           float clampedScreenSize = clamp(screenPointSize, screenMinMaxSize.x, screenMinMaxSize.y);
           // Shift towards camera, to move rendered point out of terrain i.e. to
           // the camera-facing end of the virtual point when considering it as a
           // 3D sphere.
           camera.xyz -= normalize(camera.xyz) * pointRadius * clampedScreenSize / screenPointSize;
           position = proj * camera;`}

    gl_PointSize = clampedScreenSize;
    gl_Position = position;
    ${n?(0,_views_3d_webgl_engine_core_shaderModules_glsl_js__WEBPACK_IMPORTED_MODULE_15__.glsl)`vColor = color;`:""}`),l.include(_views_3d_webgl_engine_core_shaderLibrary_util_RgbaFloatEncoding_glsl_js__WEBPACK_IMPORTED_MODULE_11__.RgbaFloatEncoding,r),a.include(_views_3d_webgl_engine_core_shaderLibrary_output_OutputHighlight_glsl_js__WEBPACK_IMPORTED_MODULE_10__.OutputHighlight,r),l.main.add((0,_views_3d_webgl_engine_core_shaderModules_glsl_js__WEBPACK_IMPORTED_MODULE_15__.glsl)`
    vec2 vOffset = gl_PointCoord - vec2(0.5, 0.5);
    float r2 = dot(vOffset, vOffset);

    if (r2 > 0.25) {
      discard;
    }
    calculateOcclusionAndOutputHighlight();
    ${n?(0,_views_3d_webgl_engine_core_shaderModules_glsl_js__WEBPACK_IMPORTED_MODULE_15__.glsl)`fragColor = vec4(vColor, 1.0);`:""}`),a}function O(e){return e?256:64}const R=(0,_core_libs_gl_matrix_2_factories_mat4f64_js__WEBPACK_IMPORTED_MODULE_2__.create)(),B=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_6__.create)(),F=(0,_core_libs_gl_matrix_2_factories_vec2f64_js__WEBPACK_IMPORTED_MODULE_4__.create)(),_=Object.freeze(Object.defineProperty({__proto__:null,PointRendererDrawParameters:P,PointRendererPassParameters:j,build:y,getMaxPointSizeScreenspace:O},Symbol.toStringTag,{value:"Module"}));


/***/ }),

/***/ "./node_modules/@arcgis/core/geometry/projection/projectBoundingSphere.js":
/*!********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/geometry/projection/projectBoundingSphere.js ***!
  \********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   projectBoundingSphere: () => (/* binding */ l)
/* harmony export */ });
/* harmony import */ var _core_mathUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../core/mathUtils.js */ "./node_modules/@arcgis/core/core/mathUtils.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/libs/gl-matrix-2/factories/vec3f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/vec3f64.js");
/* harmony import */ var _projectors_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./projectors.js */ "./node_modules/@arcgis/core/geometry/projection/projectors.js");
/* harmony import */ var _support_Ellipsoid_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../support/Ellipsoid.js */ "./node_modules/@arcgis/core/geometry/support/Ellipsoid.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
function l(e,r,l,f){if(null==r||null==f)return!1;const p=(0,_projectors_js__WEBPACK_IMPORTED_MODULE_2__.getProjectorClassification)(r,f);if(null==p?.projector)return!1;if(p.projector===_projectors_js__WEBPACK_IMPORTED_MODULE_2__.copy3)return l[0]=e[0],l[1]=e[1],l[2]=e[2],l[3]=e[3],!0;const{source:E,dest:m,projector:R}=p;if(m.spatialReferenceId===_projectors_js__WEBPACK_IMPORTED_MODULE_2__.ProjectionID.WEB_MERCATOR){const r=_projectors_js__WEBPACK_IMPORTED_MODULE_2__.projectionTable[E.spatialReferenceId][_projectors_js__WEBPACK_IMPORTED_MODULE_2__.ProjectionID.WGS84];return null!=r&&(r(e,0,u,0),(0,_projectors_js__WEBPACK_IMPORTED_MODULE_2__.wgs84ToWebMercator)(u,0,l,0),l[3]=a(u[1],e[2],e[3],_support_Ellipsoid_js__WEBPACK_IMPORTED_MODULE_3__.earth.radius),!0)}if(E.spatialReferenceId!==_projectors_js__WEBPACK_IMPORTED_MODULE_2__.ProjectionID.WGS84&&E.spatialReferenceId!==_projectors_js__WEBPACK_IMPORTED_MODULE_2__.ProjectionID.CGCS2000||m.spatialReferenceId!==_projectors_js__WEBPACK_IMPORTED_MODULE_2__.ProjectionID.PLATE_CARREE){R(e,0,l,0);const r=E.metersPerUnit??1,t=m.metersPerUnit??1;l[3]=e[3]*r/t}else{const r=_projectors_js__WEBPACK_IMPORTED_MODULE_2__.projectionTable[E.spatialReferenceId][_projectors_js__WEBPACK_IMPORTED_MODULE_2__.ProjectionID.SPHERICAL_ECEF],t=_projectors_js__WEBPACK_IMPORTED_MODULE_2__.projectionTable[_projectors_js__WEBPACK_IMPORTED_MODULE_2__.ProjectionID.SPHERICAL_ECEF][_projectors_js__WEBPACK_IMPORTED_MODULE_2__.ProjectionID.PLATE_CARREE];let n=e[3];null!=r&&null!=t&&(n=a(e[1],e[2],e[3],_support_Ellipsoid_js__WEBPACK_IMPORTED_MODULE_3__.earth.radius)),R(e,0,l,0),l[3]=n}return!0}function a(e,r,t,n){const o=n+r;if(o<n/2||t>o)return Number.MAX_VALUE;const s=Math.abs(f*e)+Math.asin(t/o);return s>=Math.PI/2?Number.MAX_VALUE:t/Math.cos(s)}const u=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_1__.create)(),f=(0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_0__.deg2rad)(1);


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/II3SMeshView3D.js":
/*!*********************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/II3SMeshView3D.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ElevationMode: () => (/* binding */ E),
/* harmony export */   ForAllFeaturesMode: () => (/* binding */ n),
/* harmony export */   ForAllFeaturesReturnType: () => (/* binding */ o)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
var n,o,E;!function(n){n[n.VISIBLE_ONLY=0]="VISIBLE_ONLY",n[n.ALL=1]="ALL",n[n.QUERYABLE=2]="QUERYABLE"}(n||(n={})),function(n){n[n.EXIT=0]="EXIT",n[n.CONTINUE=1]="CONTINUE",n[n.SKIP=2]="SKIP"}(o||(o={})),function(n){n[n.Absolute=0]="Absolute",n[n.RelativeToGround=1]="RelativeToGround",n[n.OnTheGround=2]="OnTheGround"}(E||(E={}));


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/LayerView3D.js":
/*!******************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/LayerView3D.js ***!
  \******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   LayerView3D: () => (/* binding */ l)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_handleUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/handleUtils.js */ "./node_modules/@arcgis/core/core/handleUtils.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/reactiveUtils.js */ "./node_modules/@arcgis/core/core/reactiveUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_RandomLCG_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../core/RandomLCG.js */ "./node_modules/@arcgis/core/core/RandomLCG.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _geometry_support_heightModelInfoUtils_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../geometry/support/heightModelInfoUtils.js */ "./node_modules/@arcgis/core/geometry/support/heightModelInfoUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
const l=l=>{let n=class extends l{constructor(){super(...arguments),this.slicePlaneEnabled=!1,this.supportsHeightUnitConversion=!1}postscript(){super.postscript(),(0,_geometry_support_heightModelInfoUtils_js__WEBPACK_IMPORTED_MODULE_9__.supportsHeightModelInfo)(this.layer)&&this.addResolvingPromise(this._validateHeightModelInfo())}async _validateHeightModelInfo(){const o=new AbortController,r=o.signal;this.addHandles((0,_core_handleUtils_js__WEBPACK_IMPORTED_MODULE_1__.makeHandle)((()=>o.abort()))),await (0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__.whenOnce)((()=>this.view.defaultsFromMap?.heightModelInfoReady),r),(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_2__.throwIfAborted)(r);const i=(0,_geometry_support_heightModelInfoUtils_js__WEBPACK_IMPORTED_MODULE_9__.rejectLayerError)(this.layer,this.view.heightModelInfo,this.supportsHeightUnitConversion);if(i)throw i}};return (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],n.prototype,"view",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],n.prototype,"slicePlaneEnabled",void 0),n=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_8__.subclass)("esri.views.3d.layers.LayerView3D")],n),n};


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/PointCloudLayerView3D.js":
/*!****************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/PointCloudLayerView3D.js ***!
  \****************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ De)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _Graphic_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../Graphic.js */ "./node_modules/@arcgis/core/Graphic.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_asyncUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/asyncUtils.js */ "./node_modules/@arcgis/core/core/asyncUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../core/maybe.js */ "./node_modules/@arcgis/core/core/maybe.js");
/* harmony import */ var _core_memoryEstimations_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../core/memoryEstimations.js */ "./node_modules/@arcgis/core/core/memoryEstimations.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../core/reactiveUtils.js */ "./node_modules/@arcgis/core/core/reactiveUtils.js");
/* harmony import */ var _core_screenUtils_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../core/screenUtils.js */ "./node_modules/@arcgis/core/core/screenUtils.js");
/* harmony import */ var _core_typedArrayUtil_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../core/typedArrayUtil.js */ "./node_modules/@arcgis/core/core/typedArrayUtil.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _chunks_vec32_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../chunks/vec32.js */ "./node_modules/@arcgis/core/chunks/vec32.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_vec3f32_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../core/libs/gl-matrix-2/factories/vec3f32.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/vec3f32.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../../core/libs/gl-matrix-2/factories/vec3f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/vec3f64.js");
/* harmony import */ var _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../../geometry/Extent.js */ "./node_modules/@arcgis/core/geometry/Extent.js");
/* harmony import */ var _geometry_Point_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../../geometry/Point.js */ "./node_modules/@arcgis/core/geometry/Point.js");
/* harmony import */ var _geometry_projection_projectBoundingSphere_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../../geometry/projection/projectBoundingSphere.js */ "./node_modules/@arcgis/core/geometry/projection/projectBoundingSphere.js");
/* harmony import */ var _geometry_projection_projectVectorToVector_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../../../geometry/projection/projectVectorToVector.js */ "./node_modules/@arcgis/core/geometry/projection/projectVectorToVector.js");
/* harmony import */ var _geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../../../geometry/support/aaBoundingBox.js */ "./node_modules/@arcgis/core/geometry/support/aaBoundingBox.js");
/* harmony import */ var _geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../../../geometry/support/plane.js */ "./node_modules/@arcgis/core/geometry/support/plane.js");
/* harmony import */ var _chunks_sphere_js__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../../../chunks/sphere.js */ "./node_modules/@arcgis/core/chunks/sphere.js");
/* harmony import */ var _layers_graphics_OptimizedGeometry_js__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ../../../layers/graphics/OptimizedGeometry.js */ "./node_modules/@arcgis/core/layers/graphics/OptimizedGeometry.js");
/* harmony import */ var _layers_graphics_data_QueryEngine_js__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ../../../layers/graphics/data/QueryEngine.js */ "./node_modules/@arcgis/core/layers/graphics/data/QueryEngine.js");
/* harmony import */ var _layers_support_CodedValue_js__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ../../../layers/support/CodedValue.js */ "./node_modules/@arcgis/core/layers/support/CodedValue.js");
/* harmony import */ var _layers_support_CodedValueDomain_js__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ../../../layers/support/CodedValueDomain.js */ "./node_modules/@arcgis/core/layers/support/CodedValueDomain.js");
/* harmony import */ var _layers_support_Domain_js__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ../../../layers/support/Domain.js */ "./node_modules/@arcgis/core/layers/support/Domain.js");
/* harmony import */ var _layers_support_InheritedDomain_js__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ../../../layers/support/InheritedDomain.js */ "./node_modules/@arcgis/core/layers/support/InheritedDomain.js");
/* harmony import */ var _layers_support_RangeDomain_js__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ../../../layers/support/RangeDomain.js */ "./node_modules/@arcgis/core/layers/support/RangeDomain.js");
/* harmony import */ var _layers_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ../../../layers/support/fieldUtils.js */ "./node_modules/@arcgis/core/layers/support/fieldUtils.js");
/* harmony import */ var _layers_support_PromiseQueue_js__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! ../../../layers/support/PromiseQueue.js */ "./node_modules/@arcgis/core/layers/support/PromiseQueue.js");
/* harmony import */ var _rest_support_FeatureSet_js__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! ../../../rest/support/FeatureSet.js */ "./node_modules/@arcgis/core/rest/support/FeatureSet.js");
/* harmony import */ var _rest_support_Query_js__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(/*! ../../../rest/support/Query.js */ "./node_modules/@arcgis/core/rest/support/Query.js");
/* harmony import */ var _support_elevationInfoUtils_js__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__(/*! ../../../support/elevationInfoUtils.js */ "./node_modules/@arcgis/core/support/elevationInfoUtils.js");
/* harmony import */ var _II3SMeshView3D_js__WEBPACK_IMPORTED_MODULE_36__ = __webpack_require__(/*! ./II3SMeshView3D.js */ "./node_modules/@arcgis/core/views/3d/layers/II3SMeshView3D.js");
/* harmony import */ var _LayerView3D_js__WEBPACK_IMPORTED_MODULE_37__ = __webpack_require__(/*! ./LayerView3D.js */ "./node_modules/@arcgis/core/views/3d/layers/LayerView3D.js");
/* harmony import */ var _PointCloudLayerViewPerformanceInfo_js__WEBPACK_IMPORTED_MODULE_38__ = __webpack_require__(/*! ./PointCloudLayerViewPerformanceInfo.js */ "./node_modules/@arcgis/core/views/3d/layers/PointCloudLayerViewPerformanceInfo.js");
/* harmony import */ var _PointCloudWorkerHandle_js__WEBPACK_IMPORTED_MODULE_39__ = __webpack_require__(/*! ./PointCloudWorkerHandle.js */ "./node_modules/@arcgis/core/views/3d/layers/PointCloudWorkerHandle.js");
/* harmony import */ var _i3s_I3SQueryFeatureStore_js__WEBPACK_IMPORTED_MODULE_40__ = __webpack_require__(/*! ./i3s/I3SQueryFeatureStore.js */ "./node_modules/@arcgis/core/views/3d/layers/i3s/I3SQueryFeatureStore.js");
/* harmony import */ var _i3s_I3SUtil_js__WEBPACK_IMPORTED_MODULE_41__ = __webpack_require__(/*! ./i3s/I3SUtil.js */ "./node_modules/@arcgis/core/views/3d/layers/i3s/I3SUtil.js");
/* harmony import */ var _i3s_LoDUtil_js__WEBPACK_IMPORTED_MODULE_42__ = __webpack_require__(/*! ./i3s/LoDUtil.js */ "./node_modules/@arcgis/core/views/3d/layers/i3s/LoDUtil.js");
/* harmony import */ var _i3s_PagedNodeIndex_js__WEBPACK_IMPORTED_MODULE_43__ = __webpack_require__(/*! ./i3s/PagedNodeIndex.js */ "./node_modules/@arcgis/core/views/3d/layers/i3s/PagedNodeIndex.js");
/* harmony import */ var _i3s_PointCloudGraphic_js__WEBPACK_IMPORTED_MODULE_44__ = __webpack_require__(/*! ./i3s/PointCloudGraphic.js */ "./node_modules/@arcgis/core/views/3d/layers/i3s/PointCloudGraphic.js");
/* harmony import */ var _i3s_PointCloudRenderer_js__WEBPACK_IMPORTED_MODULE_45__ = __webpack_require__(/*! ./i3s/PointCloudRenderer.js */ "./node_modules/@arcgis/core/views/3d/layers/i3s/PointCloudRenderer.js");
/* harmony import */ var _i3s_PointCloudRendererNode_js__WEBPACK_IMPORTED_MODULE_46__ = __webpack_require__(/*! ./i3s/PointCloudRendererNode.js */ "./node_modules/@arcgis/core/views/3d/layers/i3s/PointCloudRendererNode.js");
/* harmony import */ var _i3s_PointCloudRendererUtil_js__WEBPACK_IMPORTED_MODULE_47__ = __webpack_require__(/*! ./i3s/PointCloudRendererUtil.js */ "./node_modules/@arcgis/core/views/3d/layers/i3s/PointCloudRendererUtil.js");
/* harmony import */ var _i3s_PointCloudWorkerUtil_js__WEBPACK_IMPORTED_MODULE_48__ = __webpack_require__(/*! ./i3s/PointCloudWorkerUtil.js */ "./node_modules/@arcgis/core/views/3d/layers/i3s/PointCloudWorkerUtil.js");
/* harmony import */ var _support_highlightUtils_js__WEBPACK_IMPORTED_MODULE_49__ = __webpack_require__(/*! ./support/highlightUtils.js */ "./node_modules/@arcgis/core/views/3d/layers/support/highlightUtils.js");
/* harmony import */ var _support_PopupSceneLayerView_js__WEBPACK_IMPORTED_MODULE_50__ = __webpack_require__(/*! ./support/PopupSceneLayerView.js */ "./node_modules/@arcgis/core/views/3d/layers/support/PopupSceneLayerView.js");
/* harmony import */ var _support_extentUtils_js__WEBPACK_IMPORTED_MODULE_51__ = __webpack_require__(/*! ../support/extentUtils.js */ "./node_modules/@arcgis/core/views/3d/support/extentUtils.js");
/* harmony import */ var _support_hitTest_js__WEBPACK_IMPORTED_MODULE_52__ = __webpack_require__(/*! ../support/hitTest.js */ "./node_modules/@arcgis/core/views/3d/support/hitTest.js");
/* harmony import */ var _support_index_js__WEBPACK_IMPORTED_MODULE_53__ = __webpack_require__(/*! ../support/index.js */ "./node_modules/@arcgis/core/views/3d/support/index.js");
/* harmony import */ var _support_orientedBoundingBox_js__WEBPACK_IMPORTED_MODULE_54__ = __webpack_require__(/*! ../support/orientedBoundingBox.js */ "./node_modules/@arcgis/core/views/3d/support/orientedBoundingBox.js");
/* harmony import */ var _support_updatingProperties_js__WEBPACK_IMPORTED_MODULE_55__ = __webpack_require__(/*! ../support/updatingProperties.js */ "./node_modules/@arcgis/core/views/3d/support/updatingProperties.js");
/* harmony import */ var _layers_LayerView_js__WEBPACK_IMPORTED_MODULE_56__ = __webpack_require__(/*! ../../layers/LayerView.js */ "./node_modules/@arcgis/core/views/layers/LayerView.js");
/* harmony import */ var _layers_PointCloudLayerView_js__WEBPACK_IMPORTED_MODULE_57__ = __webpack_require__(/*! ../../layers/PointCloudLayerView.js */ "./node_modules/@arcgis/core/views/layers/PointCloudLayerView.js");
/* harmony import */ var _support_HighlightDefaults_js__WEBPACK_IMPORTED_MODULE_58__ = __webpack_require__(/*! ../../support/HighlightDefaults.js */ "./node_modules/@arcgis/core/views/support/HighlightDefaults.js");
/* harmony import */ var _support_layerViewUtils_js__WEBPACK_IMPORTED_MODULE_59__ = __webpack_require__(/*! ../../support/layerViewUtils.js */ "./node_modules/@arcgis/core/views/support/layerViewUtils.js");
/* harmony import */ var _support_Scheduler_js__WEBPACK_IMPORTED_MODULE_60__ = __webpack_require__(/*! ../../support/Scheduler.js */ "./node_modules/@arcgis/core/views/support/Scheduler.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
const ke=8,Ve=(0,_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_22__.create)();let Qe=class extends((0,_layers_PointCloudLayerView_js__WEBPACK_IMPORTED_MODULE_57__["default"])((0,_support_PopupSceneLayerView_js__WEBPACK_IMPORTED_MODULE_50__.PopupSceneLayerView)((0,_LayerView3D_js__WEBPACK_IMPORTED_MODULE_37__.LayerView3D)(_layers_LayerView_js__WEBPACK_IMPORTED_MODULE_56__["default"])))){constructor(){super(...arguments),this.type="point-cloud-3d",this.maximumPointCount=4e6,this.slicePlaneEnabled=!1,this._renderer=null,this._rendererAdded=!1,this._renderedNodes=new Set,this._updateViewNeeded=!0,this._lodFactor=1,this._maxLoggedBoxWarnings=5,this._pageMultiplier=1,this._nodeLoadEpoch=0,this._indexQueue=[],this._workQueue=new Array,this._idleQueue=new _layers_support_PromiseQueue_js__WEBPACK_IMPORTED_MODULE_32__.PromiseQueue,this._indexPagesLoading=new Map,this._loadingNodes=new Map,this._recalcWork=!0,this._layerIsVisible=!1,this._codedDomainPopulationPromise=null,this._codedDomainPopulationAbortController=null,this._totalWork=0,this._index=null,this._loadingInitNodePage=!1,this._nodeIdArray=[],this.ignoresMemoryFactor=!1}get baseUrl(){return this.layer.parsedUrl?.path??""}get pointScale(){const e=(0,_i3s_PointCloudRendererUtil_js__WEBPACK_IMPORTED_MODULE_47__.getSplatSizeAlgorithm)(this.layer?.renderer),t=1;return null!=e?.scaleFactor?e.scaleFactor:t}get useRealWorldSymbolSizes(){const e=(0,_i3s_PointCloudRendererUtil_js__WEBPACK_IMPORTED_MODULE_47__.getFixedSizeAlgorithm)(this.layer?.renderer),t=!1;return null!=e?.useRealWorldSymbolSizes?e.useRealWorldSymbolSizes:t}get pointSize(){const e=(0,_i3s_PointCloudRendererUtil_js__WEBPACK_IMPORTED_MODULE_47__.getFixedSizeAlgorithm)(this.layer?.renderer),t=0;return null!=e?.size?e.size:t}get inverseDensity(){const e=96;return this.layer?.renderer?1*e/this.layer.renderer.pointsPerInch:5}get availableFields(){const e=(0,_i3s_PointCloudRendererUtil_js__WEBPACK_IMPORTED_MODULE_47__.getRendererInfo)(this.layer),t=new Set;e.primaryAttribute&&t.add(e.primaryAttribute.name),e.modulationAttribute&&t.add(e.modulationAttribute.name);const i=(0,_i3s_PointCloudRendererUtil_js__WEBPACK_IMPORTED_MODULE_47__.getFilterInfo)(this.layer);if(i)for(const r of i)r.attributeInfo&&t.add(r.attributeInfo.name);if(this.layer.outFields)for(const r of (0,_layers_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_31__.unpackFieldNames)(this.layer.fieldsIndex,this.layer.outFields))t.add(r);return Array.from(t)}get _clippingBox(){if(!this.view||!this.view.clippingArea)return null;const e=(0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_21__.create)(),t=this.view.renderSpatialReference;return (0,_support_extentUtils_js__WEBPACK_IMPORTED_MODULE_51__.projectToBoundingBox)(this.view.clippingArea,e,t)?e:null}get _elevationOffset(){const e=this.layer&&this.layer.elevationInfo;return e&&"absolute-height"===e.mode?(0,_support_elevationInfoUtils_js__WEBPACK_IMPORTED_MODULE_35__.getElevationOffset)(e,this.layer.spatialReference):0}initialize(){const e=this.view.resourceController,t=Ue(e);this._worker=new _PointCloudWorkerHandle_js__WEBPACK_IMPORTED_MODULE_39__.PointCloudWorkerHandle(t),this.addResolvingPromise(this._worker.promise),(0,_i3s_I3SUtil_js__WEBPACK_IMPORTED_MODULE_41__.checkPointCloudLayerValid)(this.layer),(0,_i3s_I3SUtil_js__WEBPACK_IMPORTED_MODULE_41__.checkPointCloudLayerCompatibleWithView)(this.layer,this.view),this._indexRequester=e.createStreamDataRequester(_support_index_js__WEBPACK_IMPORTED_MODULE_53__.ClientType.I3S_INDEX),this._dataRequester=e.createStreamDataRequester(_support_index_js__WEBPACK_IMPORTED_MODULE_53__.ClientType.I3S_DATA),this._initRenderer();const i=this._initNodePages(),r=this.view.resourceController.memoryController;this._memCache=r.newCache(`pcl-${this.layer.uid}`),this._queryFeaturesCache=r.newCache(`pcl-query-features-${this.layer.uid};`),this._updatingHandles.add((()=>this._clippingBox),(()=>this._setUpdateViewNeeded()),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_9__.initial),this._updatingHandles.add((()=>this._elevationOffset),(()=>this._elevationOffsetChanged()),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_9__.initial),this._updatingHandles.add((()=>this.layer.renderer),(()=>this._rendererChanged()),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_9__.initial),this._updatingHandles.add((()=>this.layer.filters),(()=>this._reload()),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_9__.initial),this._updatingHandles.add((()=>this.layer.outFields),(()=>this._reload()),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_9__.initial),this._updatingHandles.add((()=>this.layer.effectiveScaleRange),(()=>this._setUpdateViewNeeded())),this._updatingHandles.add((()=>this.view.state.contentCamera),(()=>this._setUpdateViewNeeded())),this.addHandles([(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_9__.watch)((()=>this.view.quality),(()=>this._setUpdateViewNeeded()),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_9__.sync)]),this.addResolvingPromise(i),this.when((()=>{this.addHandles([e.scheduler.registerTask(_support_Scheduler_js__WEBPACK_IMPORTED_MODULE_60__.TaskPriority.POINT_CLOUD_LAYER,this),e.scheduler.registerIdleStateCallbacks((()=>this._idleBegin()),(()=>this._idleEnd())),this._updatingHandles.add((()=>this.suspended),(e=>{e?this._clearNodeState():this._setUpdateViewNeeded()}),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_9__.initial)])}),(()=>{this._updatingHandles.removeAll(),this.removeAllHandles()}))}_setUpdateViewNeeded(){this._updateViewNeeded=!0,this._updateLoading()}destroy(){this.cancelLoading(),this._worker=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_6__.destroyMaybe)(this._worker),this._destroyRenderer(),this._memCache=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_6__.destroyMaybe)(this._memCache),this._queryFeaturesCache=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_6__.destroyMaybe)(this._queryFeaturesCache),this._queryEngine=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_6__.destroyMaybe)(this._queryEngine),this._codedDomainPopulationAbortController=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_6__.abortMaybe)(this._codedDomainPopulationAbortController),this._codedDomainPopulationPromise=null}_initRenderer(){this._renderer=new _i3s_PointCloudRenderer_js__WEBPACK_IMPORTED_MODULE_45__.PointCloudRenderer({createGraphic:(e,t,i)=>this._createGraphic(e,t,i)}),this._renderer.layerViewUid=this.uid,this._updatingHandles.add((()=>this._clippingBox),(e=>this._renderer.clippingBox=e),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_9__.initial),this._updatingHandles.add((()=>this.suspended),(e=>this._setPointsVisible(!e)),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_9__.initial),this._updatingHandles.add((()=>this.pointScale),(e=>this._renderer.scaleFactor=e),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_9__.initial),this._renderer.minSizePx=Math.sqrt(2),this._updatingHandles.add((()=>this.useRealWorldSymbolSizes),(e=>this._renderer.useRealWorldSymbolSizes=e),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_9__.initial),this._updatingHandles.add((()=>this.pointSize),(e=>{const t=(0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_10__.pt2px)(e);this._renderer.size=e,this._renderer.sizePx=t}),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_9__.initial),this._updatingHandles.add((()=>this.slicePlaneEnabled),(e=>this._renderer.slicePlaneEnabled=e),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_9__.initial),this._updatingHandles.add((()=>this.inverseDensity),(()=>this._setUpdateViewNeeded()),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_9__.initial),this._updatingHandles.add((()=>this.maximumPointCount),(()=>this._setUpdateViewNeeded()),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_9__.initial),this._updatingHandles.add((()=>this.view.qualitySettings.sceneService.pointCloud.lodFactor),(e=>{this._lodFactor=e,this._setUpdateViewNeeded()}),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_9__.initial)}_destroyRenderer(){this._renderer.removeAll(),this._setPointsVisible(!1)}_createGraphic(e,t,i,r){const s=null!=e.pointIdFilterMap?e.pointIdFilterMap[t]:t,o=i?"declaredClass"in i?i:(0,_support_hitTest_js__WEBPACK_IMPORTED_MODULE_52__.computeMapPointFromVec3d)(this.view,i):null;return r??=this._createGraphicAttributes(e,s),new _i3s_PointCloudGraphic_js__WEBPACK_IMPORTED_MODULE_44__.PointCloudGraphic({pointCloudMetadata:{nodeId:e.id,pointIndexInNode:t,attributePointIndexInNode:s,epoch:this._nodeLoadEpoch},geometry:o,attributes:r,layer:this.layer,sourceLayer:this.layer})}_createGraphicAttributes(e,t){const i={};for(const r of e.attributes)this._encodeGraphicAttribute(r.attributeInfo,r.values,t,i);return i}_getGraphicAttribute(e,t,i){const r=e.storageInfo?.attributeValues,s=r?.valuesPerElement??1;if(1===s)return t[i];if("UInt8"===r?.valueType&&s<=4){let e=0;const r=i*s;for(let i=r;i<r+s;i++)e=(e<<8)+t[i];return e}}_encodeGraphicAttribute(e,t,i,r){r[e.name]=this._getGraphicAttribute(e,t,i)}_setPointsVisible(e){e&&!this._rendererAdded?(this.view.stage.addRenderPlugin(this._renderer),this._rendererAdded=!0):!e&&this._rendererAdded&&(this.view.stage.removeRenderPlugin(this._renderer),this._rendererAdded=!1)}_rendererChanged(){this._renderer.useFixedSizes=(0,_i3s_PointCloudRendererUtil_js__WEBPACK_IMPORTED_MODULE_47__.rendererUsesFixedSizes)(this.layer.renderer),this._reload()}_reload(){this._clearNodeState(),this._memCache.clear(),this._setUpdateViewNeeded()}_elevationOffsetChanged(){this._clearNodeState(),this._memCache.clear(),this._initNodePages()}_displayNodes(e){this._workQueue=(0,_i3s_LoDUtil_js__WEBPACK_IMPORTED_MODULE_42__.nodeDiff)([...this._renderedNodes],e,this._index),(0,_i3s_LoDUtil_js__WEBPACK_IMPORTED_MODULE_42__.sortFrontToBack)(this._workQueue,this.view.state.contentCamera.viewForward,this._index),(0,_i3s_LoDUtil_js__WEBPACK_IMPORTED_MODULE_42__.splitWorkEntries)(this._workQueue,ke,this._index),this._updateQueues(),this._totalWork=this._computeWork(),this._updateLoading(),this._layerIsVisible=e.length>0||this._loadingInitNodePage,this.notifyChange("suspended")}cancelLoading(){this._cancelNodeLoading(),this._cancelIndexLoading()}_cancelNodeLoading(){const e=new Array;this._loadingNodes.forEach((({abortController:t})=>e.push(t))),this._loadingNodes.clear();for(const t of e)t.abort();this._workQueue=[],this._idleQueue.cancelAll(),this._totalWork=this._computeWork(),this._updateLoading()}_updateQueues(){const e=new Set;this._workQueue.forEach((t=>t.load.forEach((t=>e.add(t)))));const t=new Array,i=new Map;this._loadingNodes.forEach(((r,s)=>{e.has(s)?i.set(s,r):t.push(r)})),this._loadingNodes=i;for(const{abortController:r}of t)r.abort();this._workQueue=this._workQueue.filter((e=>{for(const t of e.load)if(this._loadingNodes.has(t))return this._recalcWork=!0,!1;return!0})),this._totalWork=this._computeWork(),this._updateLoading()}_cancelIndexLoading(){this._indexQueue=[],this._indexPagesLoading.forEach((({abortController:e})=>e.abort())),this._indexPagesLoading.clear(),this._totalWork=this._computeWork(),this._updateLoading()}_clearNodeState(){this._nodeLoadEpoch++,this._renderedNodes.forEach((e=>this._removeFromRenderer(e))),this._cancelNodeLoading()}_idleBegin(){this._setUpdateViewNeeded()}_idleEnd(){this._setUpdateViewNeeded()}get running(){return this.suspended?this._updateViewNeeded:this._updateViewNeeded||this._indexQueue.length>0||this._workQueue.length>0||this._idleQueue.running}runTask(e){if(this.suspended){if(this._updateViewNeeded){this._updateViewNeeded=!1;const e=this._isRootNodeVisible();e!==this._layerIsVisible&&(this._layerIsVisible=e,this.notifyChange("suspended")),this._updateLoading()}}else{for(e.run((()=>this._updateWorkQueues()));this._indexQueue.length>0&&e.run((()=>this._processIndexQueue())););this._processWorkQueue(e),this._idleQueue.runTask(e)}}_processIndexQueue(){const e=this._indexQueue.shift(),t=this._loadNodePage(e);return this._indexPagesLoading.set(e,t),t.promise.then((t=>{this._index.addPage(e,t,this._elevationOffset),this._setUpdateViewNeeded()})).then((()=>{this._indexPagesLoading.delete(e)}),(()=>{this._indexPagesLoading.delete(e)})),!0}_processWorkQueue(e){for(;!e.done;){const t=this._scheduleWorkEntry();if(null==t)return void e.madeProgress();this._processWorkEntry(t),e.madeProgress()}}_scheduleWorkEntry(){let e=this._workQueue.length;for(;e--;){const e=this._workQueue.shift();if(!e.remove.find((e=>!this._renderedNodes.has(e))))return e;this._workQueue.push(e)}return null}_processWorkEntry(e){if(0!==e.load.length)Promise.all(e.load.map((e=>{const t=new AbortController,i=this._memCache.pop(e.toString());return null!=i?this._loadingNodes.set(e,{abortController:t,promise:Promise.resolve(i)}):this._loadingNodes.has(e)||this._loadingNodes.set(e,{abortController:t,promise:this._loadNode(e,t.signal)}),this._loadingNodes.get(e).promise}))).then((t=>{for(let i=0;i<e.load.length;i++)if(t[i]){const r=this._setupRendererData(e.load[i],t[i]);this._addToRenderer(r)}for(const i of e.remove)this._removeFromRenderer(i)})).catch((()=>{})).then((()=>{for(const t of e.load)this._loadingNodes.delete(t);this._updateLoading(),this._recalcWork&&!this._idleQueue.updating&&0===this._indexQueue.length&&0===this._loadingNodes.size&&(this._recalcWork=!1,this._setUpdateViewNeeded())})),this._updateLoading();else for(const t of e.remove)this._removeFromRenderer(t)}async _populateClassCodeCodedDomain(e,t){const i="CLASS_CODE",s=this.layer.fieldsIndex.get(i);if(!s||s.domain)return;if(!e.includes(s.name))return;const o=await (0,_core_asyncUtils_js__WEBPACK_IMPORTED_MODULE_3__.result)(this.layer.queryCachedStatistics(i,{signal:t}));if(!1===o.ok)return;const n=o.value?.stats?.labels?.labels;n&&Array.isArray(n)&&(s.domain=new _layers_support_CodedValueDomain_js__WEBPACK_IMPORTED_MODULE_27__["default"]({name:"CLASS_CODE",codedValues:n.map((e=>new _layers_support_CodedValue_js__WEBPACK_IMPORTED_MODULE_26__.CodedValue({code:e.value,name:e.label})))}))}async prepareFetchPopupFeatures(e){return this._codedDomainPopulationPromise||(this._codedDomainPopulationAbortController=new AbortController,this._codedDomainPopulationPromise=this._populateClassCodeCodedDomain(e,this._codedDomainPopulationAbortController.signal).then((()=>{this._codedDomainPopulationAbortController=null}))),this._codedDomainPopulationPromise}async whenGraphicAttributes(e,t){const r=this._splitGraphicsPerNode(e),o=this.layer.attributeStorageInfo,n=t.map((e=>(0,_i3s_PointCloudRendererUtil_js__WEBPACK_IMPORTED_MODULE_47__.getAttributeInfo)(o,e))).filter(_core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_2__.isSome),a=async(e,t)=>{const i=this._index.getNode(t);await (0,_core_asyncUtils_js__WEBPACK_IMPORTED_MODULE_3__.forEach)(n,(async t=>{const r=t.useElevation?await this._loadElevationAttributeFromGeometry(i.resourceId):await this._loadAndParseAttribute(i,t);if(r)for(const i of e)if(this._isValidPointGraphic(i)){const e=i.pointCloudMetadata.attributePointIndexInNode;this._encodeGraphicAttribute(t,r,e,i.attributes)}}))},d=[];return r.forEach(((e,t)=>{d.push(a(e,t))})),await Promise.allSettled(d),e}_isValidPointGraphic(e){return e instanceof _i3s_PointCloudGraphic_js__WEBPACK_IMPORTED_MODULE_44__.PointCloudGraphic&&e.pointCloudMetadata?.epoch===this._nodeLoadEpoch}_splitGraphicsPerNode(e){const t=new Map;for(const i of e){if(!this._isValidPointGraphic(i))continue;const e=i.pointCloudMetadata,r=t.get(e.nodeId);r?r.push(i):t.set(e.nodeId,[i])}return t}async _loadAndParseAttribute(e,t){const i=await this._loadAttribute(e.resourceId,t,null);return i?(0,_i3s_PointCloudWorkerUtil_js__WEBPACK_IMPORTED_MODULE_48__.getAttributeValues)({attributeInfo:t,buffer:i},null,e.vertexCount):null}async _loadElevationAttributeFromGeometry(e){const t=this.layer.store.defaultGeometrySchema,i=(0,_i3s_PointCloudWorkerUtil_js__WEBPACK_IMPORTED_MODULE_48__.readGeometry)(t,await this._loadGeometry(e,null));return (0,_i3s_PointCloudWorkerUtil_js__WEBPACK_IMPORTED_MODULE_48__.elevationFromPositions)(i,i.length/3)}highlight(e,i){if(!e||e instanceof _rest_support_Query_js__WEBPACK_IMPORTED_MODULE_34__["default"])return _support_highlightUtils_js__WEBPACK_IMPORTED_MODULE_49__.emptyHighlightHandle;const r=(0,_support_highlightUtils_js__WEBPACK_IMPORTED_MODULE_49__.normalizeHighlightTargetExceptQuery)(e);if(0===r.length)return _support_highlightUtils_js__WEBPACK_IMPORTED_MODULE_49__.emptyHighlightHandle;if(!(r[0]instanceof _Graphic_js__WEBPACK_IMPORTED_MODULE_1__["default"]))return _support_highlightUtils_js__WEBPACK_IMPORTED_MODULE_49__.emptyHighlightHandle;const s=r;return this._renderer.highlight(s.map((e=>this._graphicToPointDefinition(e))),i?.name??_support_HighlightDefaults_js__WEBPACK_IMPORTED_MODULE_58__.defaultHighlightName)}_graphicToPointDefinition(e){if(!this._isValidPointGraphic(e))return null;const{nodeId:t,pointIndexInNode:i}=e.pointCloudMetadata;return null!=t&&null!=i?{nodeId:t,pointId:i}:null}_computeWork(){let e=0;for(const t of this._workQueue)e+=t.load.length+t.remove.length;return e+=this._loadingNodes.size,e+=(this._indexQueue.length+this._indexPagesLoading.size)*this._index.pageSize,e+=this._loadingInitNodePage?100:0,e+=this._updateViewNeeded?100:0,e}get updatingProgressValue(){if(this.suspended)return this._updateViewNeeded?0:1;const e=this._computeWork();return 1-Math.min(this._totalWork,e)/this._totalWork}_updateLoading(){this.notifyChange("updating"),this.notifyChange("updatingProgressValue")}canResume(){return super.canResume()&&this._layerIsVisible}isUpdating(){return this.suspended?this._updateViewNeeded:this._computeWork()>0}get visibleAtCurrentScale(){return (0,_support_layerViewUtils_js__WEBPACK_IMPORTED_MODULE_59__.isInEffectiveScaleRange)(this.layer.effectiveScaleRange,this.view.scale)}async queryFeatures(e,i){const r=await this._ensureQueryEngine().executeQuery(this._ensureQueryJSON(e),i?.signal),s=r.features;r.features=[];const o=_rest_support_FeatureSet_js__WEBPACK_IMPORTED_MODULE_33__["default"].fromJSON(r),n=this.view.spatialReference;return o.features=s.map((e=>{const{attributes:i,metadata:r}=e;if(!r){const i=_Graphic_js__WEBPACK_IMPORTED_MODULE_1__["default"].fromJSON(e);return i.geometry&&(i.geometry.spatialReference=o.spatialReference??n),i}const s=_geometry_Point_js__WEBPACK_IMPORTED_MODULE_18__["default"].fromJSON(e.geometry);return s.spatialReference=o.spatialReference??n,this._createGraphic(r.node,r.pointId,s,i)})),o}createQuery(){const e={outFields:["*"],returnGeometry:!0,outSpatialReference:this.view.spatialReference,returnZ:!0};return new _rest_support_Query_js__WEBPACK_IMPORTED_MODULE_34__["default"](e)}async queryFeatureCount(e,t){return await this._ensureQueryEngine().executeQueryForCount(this._ensureQueryJSON(e),t?.signal)}async queryExtent(e,t){const{count:i,extent:r}=await this._ensureQueryEngine().executeQueryForExtent(this._ensureQueryJSON(e),t?.signal);return{count:i,extent:_geometry_Extent_js__WEBPACK_IMPORTED_MODULE_17__["default"].fromJSON(r)}}_ensureQueryJSON(e){return null==e?new _rest_support_Query_js__WEBPACK_IMPORTED_MODULE_34__["default"]({outSpatialReference:this.view.spatialReference}).toJSON():_rest_support_Query_js__WEBPACK_IMPORTED_MODULE_34__["default"].from(e).toJSON()}_ensureQueryEngine(){if(this._queryEngine)return this._queryEngine;const{spatialReference:e}=this.view;return this._queryEngine=new _layers_graphics_data_QueryEngine_js__WEBPACK_IMPORTED_MODULE_25__.QueryEngine({fieldsIndex:this.layer.fieldsIndex.toJSON(),geometryType:"esriGeometryPoint",spatialReference:e,featureIdInfo:{type:"object-id",fieldName:"objectId"},hasZ:!0,featureStore:new _i3s_I3SQueryFeatureStore_js__WEBPACK_IMPORTED_MODULE_40__.I3SQueryFeatureStore({sourceSpatialReference:e,viewSpatialReference:e,forAllFeatures:(e,t)=>{let i=!1;this._renderer.forEachNode((r=>{if(i)return;if(t){const e=r.obb,s=(0,_chunks_sphere_js__WEBPACK_IMPORTED_MODULE_23__.f)(e.center[0],e.center[1],e.center[2],(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_14__.l)(e.halfSize));(0,_geometry_projection_projectBoundingSphere_js__WEBPACK_IMPORTED_MODULE_19__.projectBoundingSphere)(s,this.view.renderSpatialReference,s,this.view.spatialReference);const o=t(s);if(o===_II3SMeshView3D_js__WEBPACK_IMPORTED_MODULE_36__.ForAllFeaturesReturnType.SKIP)return;if(i=o===_II3SMeshView3D_js__WEBPACK_IMPORTED_MODULE_36__.ForAllFeaturesReturnType.EXIT,i)return}let s=this._queryFeaturesCache.get(`${r.id}`);s||(s=this._createQueryPointFeatures(r),this._queryFeaturesCache.put(`${r.id}`,s)),s.features.forEach(e)}))},getFeatureExtent:({point:e},t)=>(0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_21__.fromMinMax)(e,e,t),featureAdapter:{cloneWithGeometry:(e,t)=>new Ee(e.node,e.pointId,t.coords),getAttribute:({node:e,attributePointId:t},i)=>{for(const r of e.attributes)if(r.attributeInfo.name===i)return this._getGraphicAttribute(r.attributeInfo,r.values,t)},getAttributes:({node:e,attributePointId:t})=>this._createGraphicAttributes(e,t),getCentroid:e=>e.getGeometry(),getGeometry:e=>e.getGeometry(),getObjectId:()=>{},getMetadata:e=>e}})}),this._queryEngine}_createQueryPointFeatures(e){const t=e.coordinates,i=new Array;for(let r=0;r<t.length/3;r++){const s=3*r,o=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_16__.fromValues)(t[s+0],t[s+1],t[s+2]);(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_14__.f)(o,o,e.origin),(0,_geometry_projection_projectVectorToVector_js__WEBPACK_IMPORTED_MODULE_20__.projectVectorToVector)(o,this.view.renderSpatialReference,o,this.view.spatialReference);const n=new Ee(e,r,o);i.push(n)}return new Fe(i)}_initNodePages(){const e=this.layer.store.index,t=e.nodesPerPage||e.nodePerIndexBlock;return this._index=new _i3s_PagedNodeIndex_js__WEBPACK_IMPORTED_MODULE_43__.PagedNodeIndex(this.layer.spatialReference,this.view.renderCoordsHelper.spatialReference,t),this._cancelIndexLoading(),this._traverseVisible=this._index.createVisibilityTraverse(),this._loadingInitNodePage=!0,this._layerIsVisible=!0,this.notifyChange("suspended"),this._updateLoading(),this._pageMultiplier=null!=e.nodesPerPage?1:e.nodePerIndexBlock,this._loadNodePage(0).promise.then((e=>{this._index.addPage(0,e,this._elevationOffset),this._loadingInitNodePage=!1,this._setUpdateViewNeeded()}))}_loadNodePage(e){const t=new AbortController,i=`${this.baseUrl}/nodepages/${e*this._pageMultiplier}`;return{promise:this._requestNodePage(i,t.signal).then((t=>t.nodes.map(((t,i)=>({resourceId:null!=t.resourceId?t.resourceId:e*this._index.pageSize+i,obb:_support_orientedBoundingBox_js__WEBPACK_IMPORTED_MODULE_54__.Obb.fromJSON(t.obb),obbInRenderSR:new _support_orientedBoundingBox_js__WEBPACK_IMPORTED_MODULE_54__.Obb,firstChild:t.firstChild,childCount:t.childCount,vertexCount:t.vertexCount??t.pointCount,lodThreshold:t.lodThreshold??t.effectiveArea}))))),abortController:t}}_updateWorkQueues(){if(!this._updateViewNeeded)return!1;const e=this.view.quality;let t=this.inverseDensity/this._lodFactor*e;const i=this.maximumPointCount*this._lodFactor*e;let r=this._computeNodesForMinimumDensity(t),s=this._computePointCount(r),o=Math.sqrt(s/(.75*i));for(;s>i;)t*=o,r=this._computeNodesForMinimumDensity(t),s=this._computePointCount(r),o=Math.sqrt(2);return this._displayNodes(r),this._updateViewNeeded=!1,this._updateLoading(),!0}_computePointCount(e){let t=0;for(let i=0;i<e.length;i++){const r=this._index.getNode(e[i]);r&&(t+=r.vertexCount)}return t}_isRootNodeVisible(){let e=!1;return this._traverseVisible({frustum:this.view.state.contentCamera.frustum,clippingBox:this._clippingBox},{predicate:(t,i,r)=>(e=r,!1),pageMiss:()=>{}}),e}_computeNodesForMinimumDensity(e){const t=this.view.state.contentCamera,i=t.frustum,r=this._clippingBox,s=t.viewForward,o=(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_14__.e)(s,t.eye),n=(0,_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_22__.fromNormalAndOffset)(s,-o,Ve),a=t.perScreenPixelRatio/2,d=e*e,l=this._nodeIdArray;l.length=0;const u=e=>l.push(e);return this._traverseVisible({frustum:i,clippingBox:r},{predicate:(e,t,i)=>{if(!i)return!1;if(0===t.childCount)return u(e),!1;const r=this._index.getRenderObb(e);return!(this._computeAveragePixelArea(r,t.lodThreshold,t.vertexCount,n,a)<=d)||(u(e),!1)},pageMiss:(e,t)=>{u(e),this._indexQueue.includes(t)||this._indexQueue.push(t)}}),l}_computeAveragePixelArea(e,t,i,r,s){const o=1e-7,n=Math.max(o,e.minimumDistancePlane(r));return t/(n*n)/(4*s*s)/i}_loadNode(e,t){try{return this._loadNodeAsync(e,t)}catch(i){throw (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_8__.isAbortError)(i)||_core_Logger_js__WEBPACK_IMPORTED_MODULE_5__["default"].getLogger(this).error(i),i}}async _loadAdditionalUserAttributes(e,t,r){const s=this.layer.outFields;if(!s)return[];const o=(0,_layers_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_31__.unpackFieldNames)(this.layer.fieldsIndex,s),n=new Set(e.map((e=>null!=e?e.name:null))),a=this.layer.attributeStorageInfo,d=[];for(const i of o){if(n.has(i))continue;const e=(0,_i3s_PointCloudRendererUtil_js__WEBPACK_IMPORTED_MODULE_47__.getAttributeInfo)(a,i);e&&d.push(t(e))}const l=await (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_8__.allSettledValues)(d);return (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_8__.throwIfAborted)(r),l.filter(_core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_2__.isSome)}async _loadNodeAsync(e,t){const i=this._index.getNode(e),r=(0,_i3s_PointCloudRendererUtil_js__WEBPACK_IMPORTED_MODULE_47__.getRendererInfo)(this.layer),s=(0,_i3s_PointCloudRendererUtil_js__WEBPACK_IMPORTED_MODULE_47__.getFilterInfo)(this.layer),o=i.resourceId,n=async e=>{if(!e)return null;if(e.useElevation)return{attributeInfo:e,buffer:null};const i=await this._loadAttribute(o,e,t);return null!=i?{attributeInfo:e,buffer:i}:null};return this._idleQueue.push((async()=>{const i=this._loadGeometry(o,t),{primaryAttribute:a,modulationAttribute:d}=r,l=n(a),u=n(d),h=s.map((e=>e.attributeInfo)),p=h.map((e=>n(e))),c=this._loadAdditionalUserAttributes([a,d,...h],n,t),[_,g,f,y,b]=await Promise.all([i,l,u,Promise.all(p),c]);(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_8__.throwIfAborted)(t);const w={geometryBuffer:_,primaryAttributeData:g,modulationAttributeData:f,filterAttributesData:y,userAttributesData:b,schema:this.layer.store.defaultGeometrySchema,rendererInfo:r,filterInfo:s,obbData:this._index.getRenderObb(e).data,elevationOffset:this._elevationOffset,inSR:this.layer.spatialReference.toJSON(),outSR:this.view.renderCoordsHelper.spatialReference.toJSON()};return this._worker.invoke(w,t)}),t)}async _loadGeometry(e,t){return this._requestData(`${this.baseUrl}/nodes/${e}/geometries/0`,t)}async _loadAttribute(e,t,i){if(!t?.storageInfo)return null;const r=t.storageInfo.key;return this._requestData(`${this.baseUrl}/nodes/${e}/attributes/${r}`,i)}_requestNodePage(e,t){const i={f:"json",...this.layer.customParameters,token:this.layer.apiKey};return this._indexRequester.request(e,"json",{query:i,signal:t})}_requestData(e,t){return this._dataRequester.request(e,"binary",{query:{...this.layer.customParameters,token:this.layer.apiKey},signal:t})}_removeFromRenderer(e){if(this._renderedNodes.has(e)){const t=this._renderer.removeNode(e);this._renderedNodes.delete(e),this._memCache.put(t.id.toString(),t)}}_addToRenderer(e){this._renderedNodes.has(e.id)||(this._renderedNodes.add(e.id),this._renderer.addNode(e))}_setupRendererData(e,t){const i=this._index.getNode(e),r=Math.sqrt(i.lodThreshold/i.vertexCount),s=this._index.getRenderObb(e);if((0,_i3s_PointCloudRendererNode_js__WEBPACK_IMPORTED_MODULE_46__.isPointRendererNode)(t))return t.splatSize=r,t.obb=s,(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_14__.c)(t.origin,t.obb.center),t;const n=_support_orientedBoundingBox_js__WEBPACK_IMPORTED_MODULE_54__.Obb.fromData(t.obbData),a=n.halfSize,d=s.halfSize,l=.01*Math.max(d[0],d[1],d[2]);if(a[0]>d[0]+l||a[1]>d[1]+l||a[2]>d[2]+l){if(this._maxLoggedBoxWarnings>0){const t=e=>`[${e.halfSize[0]}, ${e.halfSize[1]}, ${e.halfSize[2]}]`;_core_Logger_js__WEBPACK_IMPORTED_MODULE_5__["default"].getLogger(this).warn(`Node ${e} reported bounding box too small. got ${t(s)} but points cover ${t(n)}`),0===--this._maxLoggedBoxWarnings&&_core_Logger_js__WEBPACK_IMPORTED_MODULE_5__["default"].getLogger(this).warn("  Too many bounding box errors, stopping reporting for this layer.")}this._index.setRenderObb(e,n)}return new _i3s_PointCloudRendererNode_js__WEBPACK_IMPORTED_MODULE_46__.PointCloudRendererNode(e,r,(0,_core_libs_gl_matrix_2_factories_vec3f32_js__WEBPACK_IMPORTED_MODULE_15__.clone)(s.center),s,0===i.childCount,t.points,t.rgb,t.attributes,t.pointIdFilterMap)}get usedMemory(){let e=0;return this._renderer.forEachNode((t=>{e+=Le,e+=(0,_core_memoryEstimations_js__WEBPACK_IMPORTED_MODULE_7__.estimateNumberArrayMemory)(t.coordinates);for(const i of t.attributes){const t=i.values;(0,_core_typedArrayUtil_js__WEBPACK_IMPORTED_MODULE_11__.isArrayBuffer)(t.buffer)&&(e+=(0,_core_memoryEstimations_js__WEBPACK_IMPORTED_MODULE_7__.estimateNumberArrayMemory)(t))}})),e}get unloadedMemory(){const e=this._renderedNodes.size;if(e<4)return 0;const t=[...this._renderedNodes].reduce(((e,t)=>e+this._index.getNode(t).vertexCount));let i=this._loadingNodes.size;for(let r=0;r<this._workQueue.length;r++)i+=this._workQueue[r].load.length,i-=this._workQueue[r].remove.length;if(i<0)return 0;return i*t/e*((this.usedMemory-e*Le)/t)+i*Le}get performanceInfo(){return new _PointCloudLayerViewPerformanceInfo_js__WEBPACK_IMPORTED_MODULE_38__.PointCloudLayerViewPerformanceInfo(this.usedMemory,this._renderedNodes.size,[...this._renderedNodes].reduce(((e,t)=>e+this._index.getNode(t).vertexCount),0),this.maximumPointCount,new _PointCloudLayerViewPerformanceInfo_js__WEBPACK_IMPORTED_MODULE_38__.QueuePerformanceInfo(this._loadingNodes.size,this._indexQueue.length,this._workQueue.length,this._idleQueue.length))}get test(){}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_12__.property)()],Qe.prototype,"layer",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_12__.property)()],Qe.prototype,"baseUrl",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_12__.property)()],Qe.prototype,"pointScale",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_12__.property)()],Qe.prototype,"useRealWorldSymbolSizes",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_12__.property)()],Qe.prototype,"pointSize",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_12__.property)()],Qe.prototype,"inverseDensity",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_12__.property)()],Qe.prototype,"maximumPointCount",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_12__.property)({readOnly:!0})],Qe.prototype,"availableFields",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_12__.property)({readOnly:!0})],Qe.prototype,"_clippingBox",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_12__.property)({readOnly:!0})],Qe.prototype,"_elevationOffset",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_12__.property)({type:Boolean})],Qe.prototype,"slicePlaneEnabled",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_12__.property)()],Qe.prototype,"updating",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_12__.property)(_support_updatingProperties_js__WEBPACK_IMPORTED_MODULE_55__.updatingProgress)],Qe.prototype,"updatingProgress",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_12__.property)({readOnly:!0})],Qe.prototype,"updatingProgressValue",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_12__.property)({readOnly:!0})],Qe.prototype,"visibleAtCurrentScale",null),Qe=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_13__.subclass)("esri.views.3d.layers.PointCloudLayerView3D")],Qe);const De=Qe;class Ee{constructor(e,t,i){this.node=e,this.pointId=t,this.point=i}getGeometry(){return new _layers_graphics_OptimizedGeometry_js__WEBPACK_IMPORTED_MODULE_24__["default"]([1],Array.from(this.point))}get attributePointId(){const{node:e,pointId:t}=this;return null!=e.pointIdFilterMap?e.pointIdFilterMap[t]:t}get usedMemory(){return _core_memoryEstimations_js__WEBPACK_IMPORTED_MODULE_7__.baseObjectMemory+_core_memoryEstimations_js__WEBPACK_IMPORTED_MODULE_7__.baseObjectMemory+_core_memoryEstimations_js__WEBPACK_IMPORTED_MODULE_7__.estimateNumberMemory+(0,_core_memoryEstimations_js__WEBPACK_IMPORTED_MODULE_7__.estimateFixedArrayMemory)(this.point,_core_memoryEstimations_js__WEBPACK_IMPORTED_MODULE_7__.estimateNumberMemory)}}class Fe{constructor(e){this.features=e}get cachedMemory(){return this.features.reduce(((e,t)=>e+t.usedMemory),_core_memoryEstimations_js__WEBPACK_IMPORTED_MODULE_7__.baseObjectMemory+_core_memoryEstimations_js__WEBPACK_IMPORTED_MODULE_7__.baseArrayMemory)}}const Le=160;function Ue(e){return t=>e.immediate.schedule(t)}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/PointCloudLayerViewPerformanceInfo.js":
/*!*****************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/PointCloudLayerViewPerformanceInfo.js ***!
  \*****************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   PointCloudLayerViewPerformanceInfo: () => (/* binding */ e),
/* harmony export */   QueuePerformanceInfo: () => (/* binding */ o)
/* harmony export */ });
/* harmony import */ var _support_LayerViewPerformanceInfo_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./support/LayerViewPerformanceInfo.js */ "./node_modules/@arcgis/core/views/3d/layers/support/LayerViewPerformanceInfo.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
class e extends _support_LayerViewPerformanceInfo_js__WEBPACK_IMPORTED_MODULE_0__.LayerViewPerformanceInfo{constructor(s,e,o,r,i){super(s,e,-1,o,r),this.queue=i}}class o{constructor(s,e,o,r){this.loading=s,this.indexLoading=e,this.processing=o,this.idleProcessing=r}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/PointCloudWorkerHandle.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/PointCloudWorkerHandle.js ***!
  \*****************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   PointCloudWorkerHandle: () => (/* binding */ r)
/* harmony export */ });
/* harmony import */ var _core_workers_WorkerHandle_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../core/workers/WorkerHandle.js */ "./node_modules/@arcgis/core/core/workers/WorkerHandle.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
class r extends _core_workers_WorkerHandle_js__WEBPACK_IMPORTED_MODULE_0__.WorkerHandle{constructor(t){super("PointCloudWorker","transform",{transform:t=>u(t)},t)}}function u(t){const r=[t.geometryBuffer];if(null!=t.primaryAttributeData&&t.primaryAttributeData.buffer&&r.push(t.primaryAttributeData.buffer),null!=t.modulationAttributeData&&t.modulationAttributeData.buffer&&r.push(t.modulationAttributeData.buffer),null!=t.filterAttributesData)for(const u of t.filterAttributesData)null!=u&&u.buffer&&r.push(u.buffer);for(const u of t.userAttributesData)u.buffer&&r.push(u.buffer);return r}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/i3s/I3SQueryFeatureStore.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/i3s/I3SQueryFeatureStore.js ***!
  \*******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   I3SQueryFeatureStore: () => (/* binding */ h)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/Accessor.js */ "./node_modules/@arcgis/core/core/Accessor.js");
/* harmony import */ var _core_compilerUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core/compilerUtils.js */ "./node_modules/@arcgis/core/core/compilerUtils.js");
/* harmony import */ var _core_Evented_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../core/Evented.js */ "./node_modules/@arcgis/core/core/Evented.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_RandomLCG_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../core/RandomLCG.js */ "./node_modules/@arcgis/core/core/RandomLCG.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _geometry_projection_projectBoundingSphere_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../geometry/projection/projectBoundingSphere.js */ "./node_modules/@arcgis/core/geometry/projection/projectBoundingSphere.js");
/* harmony import */ var _geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../geometry/support/aaBoundingBox.js */ "./node_modules/@arcgis/core/geometry/support/aaBoundingBox.js");
/* harmony import */ var _geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../geometry/support/aaBoundingRect.js */ "./node_modules/@arcgis/core/geometry/support/aaBoundingRect.js");
/* harmony import */ var _chunks_sphere_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../chunks/sphere.js */ "./node_modules/@arcgis/core/chunks/sphere.js");
/* harmony import */ var _II3SMeshView3D_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../II3SMeshView3D.js */ "./node_modules/@arcgis/core/views/3d/layers/II3SMeshView3D.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
const l=(0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_9__.create)();let h=class extends _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__["default"]{constructor(r){super(r),this.events=new _core_Evented_js__WEBPACK_IMPORTED_MODULE_3__["default"]}forEach(r){this.forAllFeatures((e=>(r(e),_II3SMeshView3D_js__WEBPACK_IMPORTED_MODULE_12__.ForAllFeaturesReturnType.CONTINUE)))}forEachBounds(r,e){for(const t of r)e(this.getFeatureExtent(t,l))}forEachInBounds(r,e){this.forAllFeatures((o=>{const s=this.getFeatureExtent((0,_core_compilerUtils_js__WEBPACK_IMPORTED_MODULE_2__.toConst)(o),y);return (0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_10__.intersects)(r,(0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_9__.toRect)(s,j))&&e((0,_core_compilerUtils_js__WEBPACK_IMPORTED_MODULE_2__.toConst)(o)),_II3SMeshView3D_js__WEBPACK_IMPORTED_MODULE_12__.ForAllFeaturesReturnType.CONTINUE}),(e=>{if((0,_geometry_projection_projectBoundingSphere_js__WEBPACK_IMPORTED_MODULE_8__.projectBoundingSphere)(e,this.sourceSpatialReference,d,this.viewSpatialReference),d[0]>=r[0]&&d[2]<=r[2]&&d[1]>=r[1]&&d[3]<=r[3])return _II3SMeshView3D_js__WEBPACK_IMPORTED_MODULE_12__.ForAllFeaturesReturnType.CONTINUE;const t=Math.max(r[0],Math.min(d[0],r[2])),o=Math.max(r[1],Math.min(d[1],r[3])),s=d[0]-t,c=d[1]-o;return s*s+c*c<=d[3]*d[3]?_II3SMeshView3D_js__WEBPACK_IMPORTED_MODULE_12__.ForAllFeaturesReturnType.CONTINUE:_II3SMeshView3D_js__WEBPACK_IMPORTED_MODULE_12__.ForAllFeaturesReturnType.SKIP}))}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)({constructOnly:!0})],h.prototype,"featureAdapter",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)({constructOnly:!0})],h.prototype,"forAllFeatures",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)({constructOnly:!0})],h.prototype,"getFeatureExtent",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)({constructOnly:!0})],h.prototype,"sourceSpatialReference",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)({constructOnly:!0})],h.prototype,"viewSpatialReference",void 0),h=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__.subclass)("esri.views.3d.layers.i3s.I3SQueryFeatureStore")],h);const d=(0,_chunks_sphere_js__WEBPACK_IMPORTED_MODULE_11__.f)(0,0,0,0),y=(0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_9__.create)(),j=(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_10__.create)();


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/i3s/LoDUtil.js":
/*!******************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/i3s/LoDUtil.js ***!
  \******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   nodeDiff: () => (/* binding */ t),
/* harmony export */   sortFrontToBack: () => (/* binding */ g),
/* harmony export */   splitWorkEntries: () => (/* binding */ u),
/* harmony export */   splitWorkEntry: () => (/* binding */ d)
/* harmony export */ });
/* harmony import */ var _chunks_vec32_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../chunks/vec32.js */ "./node_modules/@arcgis/core/chunks/vec32.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
function t(e,t,g){for(let n=0;n<t.length;n++)r[n]=!1,o[n]=null;for(let r=0;r<e.length;r++)n[r]=!1,l[r]=null;for(let n=0;n<t.length;n++){const o=h(t[n],e,g);o>=0&&(r[n]=!0,null!=l[o]?l[o].push(t[n]):l[o]=[t[n]])}for(let l=0;l<e.length;l++){const r=h(e[l],t,g);r>=0&&(n[l]=!0,null!=o[r]?o[r].push(e[l]):o[r]=[e[l]])}const u=[];for(let r=0;r<e.length;r++)null!=l[r]||n[r]||u.push({load:[],remove:[e[r]]});for(let n=0;n<t.length;n++)null!=o[n]||r[n]||u.push({load:[t[n]],remove:[]});for(let n=0;n<t.length;n++)null!=o[n]&&(o[n].length>1||o[n][0]!==t[n])&&u.push({load:[t[n]],remove:o[n]});for(let n=0;n<e.length;n++)null!=l[n]&&(l[n].length>1||l[n][0]!==e[n])&&u.push({load:l[n],remove:[e[n]]});return u}const n=[!1],l=[null],r=[!1],o=[null];function h(e,t,n){let l=e;for(;l>0;){const e=t.indexOf(l);if(e>=0)return e;l=n.getParentId(l)}return t.indexOf(l)}function g(t,n,l){return t.sort(((t,r)=>{if(0===t.load.length&&0===r.load.length)return 0;if(0===t.load.length)return-1;if(0===r.load.length)return 1;if(0===t.remove.length&&0===r.remove.length){const o=l.getRenderObb(t.load[0]).center,h=l.getRenderObb(r.load[0]).center;return (0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_0__.e)(o,n)-(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_0__.e)(h,n)}if(0===t.remove.length)return-1;if(0===r.remove.length)return 1;if(1===t.load.length&&1===r.load.length){const o=l.getRenderObb(t.load[0]).center,h=l.getRenderObb(r.load[0]).center;return (0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_0__.e)(o,n)-(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_0__.e)(h,n)}if(1===t.load.length)return-1;if(1===r.load.length)return 1;{const o=l.getRenderObb(t.remove[0]).center,h=l.getRenderObb(r.remove[0]).center;return (0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_0__.e)(o,n)-(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_0__.e)(h,n)}}))}function u(e,t,n){for(let l=0;l<e.length;++l){const r=e[l];r.load.length>t&&1===r.remove.length&&d(e,r,n)}}function d(e,t,n){const l=[t.remove[0]],r=[];for(;1===l.length;){const e=l.pop();r.length=0;for(let o=0;o<t.load.length;o++){let h=t.load[o],g=n.getParentId(h);for(;g!==e;)h=g,g=n.getParentId(h);let u=l.indexOf(h);u<0&&(u=l.length,l.push(h),r.push([])),r[u].push(t.load[o])}}t.load=l;for(let o=0;o<l.length;o++)r[o].length>1?e.push({remove:[l[o]],load:r[o]}):l[o]=r[o][0]}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/i3s/PagedNodeIndex.js":
/*!*************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/i3s/PagedNodeIndex.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   PagedNodeIndex: () => (/* binding */ i)
/* harmony export */ });
/* harmony import */ var _geometry_spatialReferenceEllipsoidUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../geometry/spatialReferenceEllipsoidUtils.js */ "./node_modules/@arcgis/core/geometry/spatialReferenceEllipsoidUtils.js");
/* harmony import */ var _geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../geometry/support/aaBoundingBox.js */ "./node_modules/@arcgis/core/geometry/support/aaBoundingBox.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
class i{constructor(t,s,n){this._pages=[],this.pageSize=0,this._nodeSR=t,this._renderSR=s,this._renderSRSphericalPCPF=(0,_geometry_spatialReferenceEllipsoidUtils_js__WEBPACK_IMPORTED_MODULE_0__.getSphericalPCPF)(s),this.pageSize=n}addPage(e,t,s=0){for(;this._pages.length<e;)this._pages.push(null);r(t,this._nodeSR,this._renderSR,s,this._renderSRSphericalPCPF),this._pages[e]={nodes:t,parents:new Uint32Array(this.pageSize)},p(this._pages,this.pageSize)}hasPage(e){return!!this._pages[e]}getNode(e){const t=this.pageSize;return this._pages[a(e,t)].nodes[h(e,t)]}getRenderObb(e){const t=this.pageSize;return this._pages[a(e,t)].nodes[h(e,t)].obbInRenderSR}setRenderObb(e,t){const s=this.pageSize;this._pages[a(e,s)].nodes[h(e,s)].obbInRenderSR.copy(t)}getParentId(e){const t=this.pageSize;return this._pages[a(e,t)].parents[h(e,t)]}hasNodes(e,t){const s=a(e,this.pageSize),n=a(e+t-1,this.pageSize);for(let i=s;i<=n;i++)if(null==this._pages[i])return!1;return!0}forEachNodeId(e){for(let t=0;t<this._pages.length;t++){const s=this._pages[t];if(s)for(let n=0;n<s.nodes.length;n++)e(t*this.pageSize+n)}}createVisibilityTraverse(){const e={index:this,queue:[],masks:[],tempAabb:(0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_1__.create)()};return(t,s)=>o(e,t,s)}}function o(e,t,i){const o=e.index;if(!o.hasNodes(0,1))return;const r=e.queue;r.length=0,r.push(0);const p=e.masks;for(p.length=0,p.push(0);r.length>0;){const h=r.pop();let g=p.pop();const l=o.getNode(h),c=o.getRenderObb(h);let u=!0;if(null!=t.clippingBox){const i=1<<t.frustum.length;0===(g&i)&&(c.toAaBoundingBox(e.tempAabb),(0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_1__.contains)(t.clippingBox,e.tempAabb)?g|=i:(0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_1__.intersects)(t.clippingBox,e.tempAabb)||(u=!1))}for(let e=0;e<t.frustum.length&&u;e++){const s=1<<e;if(0===(g&s)){const n=c.intersectPlane(t.frustum[e]);n>0?u=!1:n<0&&(g|=s)}}if(i.predicate(h,l,u)){const e=l.firstChild,t=l.childCount;let s=!1;const n=a(e,o.pageSize),c=a(e+t-1,o.pageSize);for(let r=n;r<=c;r++)if(!o.hasPage(r)){i.pageMiss(h,r),s=!0;break}if(!s)for(let i=0;i<t;i++)r.push(e+i),p.push(g)}}}function r(e,t,s,n,i){for(let o=0;o<e.length;o++){const r=e[o];r.obb.transform(r.obbInRenderSR,t,s,n,i)}}function p(e,t){const s=[0];for(;s.length;){const n=s.pop(),i=e[a(n,t)].nodes[h(n,t)];for(let o=0;o<i.childCount;o++){const r=i.firstChild+o;null!=e[a(r,t)]&&(e[a(r,t)].parents[h(r,t)]=n,s.push(r))}}}function a(e,t){return e/t|0}function h(e,t){return e%t}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/i3s/PointCloudGraphic.js":
/*!****************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/i3s/PointCloudGraphic.js ***!
  \****************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   PointCloudGraphic: () => (/* binding */ e)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _Graphic_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../Graphic.js */ "./node_modules/@arcgis/core/Graphic.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_RandomLCG_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../core/RandomLCG.js */ "./node_modules/@arcgis/core/core/RandomLCG.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
let e=class extends _Graphic_js__WEBPACK_IMPORTED_MODULE_1__["default"]{constructor(o){super(o),this.pointCloudMetadata=null}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)({constructOnly:!0,clonable:"reference"})],e.prototype,"pointCloudMetadata",void 0),e=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_6__.subclass)("esri.views.3d.layers.i3s.PointCloudGraphic")],e);


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/i3s/PointCloudHighlights.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/i3s/PointCloudHighlights.js ***!
  \*******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   PointCloudHighlights: () => (/* binding */ i)
/* harmony export */ });
/* harmony import */ var _core_handleUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/handleUtils.js */ "./node_modules/@arcgis/core/core/handleUtils.js");
/* harmony import */ var _webgl_engine_lib_Object3DStateID_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../webgl-engine/lib/Object3DStateID.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/Object3DStateID.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
class i{constructor(e){this._context=e,this._highlights=new Map}get empty(){return 0===this._highlights.size}destroy(){this._highlights=null}add(t,i){const s=new h(t,i),d=this._highlights.get(i);return d?d.add(s):this._highlights.set(i,new Set([s])),this._enableSet(s),(0,_core_handleUtils_js__WEBPACK_IMPORTED_MODULE_0__.makeHandle)((()=>this._removeSet(s)))}_removeSet(e){this._disableSet(e);const{highlightName:t}=e.id,i=this._highlights.get(t);i&&(i.delete(e),0===i.size&&this._highlights.delete(t))}_enableSet(e){e.enabled||(e.enabled=!0,this._context.forEachNode((t=>this._enableSetForNode(e,t))))}_enableSetForNode(e,t){if(!e.enabled)return;const i=e.ids.get(t.id);i&&i.forEach((i=>this._context.addHighlight(t,i,e.id)))}_disableSet(e){e.enabled&&(e.enabled=!1,this._context.forEachNode((t=>this._disableSetForNode(e,t))))}_disableSetForNode(e,t){e.enabled||this._context.removeHighlight(t,e.id)}nodeAdded(e){this._forEachSet((t=>this._enableSetForNode(t,e)))}nodeRemoved(e){this._forEachSet((t=>this._disableSetForNode(t,e)))}removeAll(){this._forEachSet((e=>this._disableSet(e)))}_forEachSet(e){this._highlights.forEach((t=>t.forEach(e)))}has(e){return this._highlights.has(e)}}class h{constructor(e,i){this.ids=new Map,this.enabled=!1;for(const t of e)null!=t&&this._add(t.nodeId,t.pointId);this.id=new _webgl_engine_lib_Object3DStateID_js__WEBPACK_IMPORTED_MODULE_1__.Object3DHighlightStateID(i)}_add(e,t){const i=this.ids.get(e);i?i.add(t):this.ids.set(e,new Set([t]))}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/i3s/PointCloudRenderer.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/i3s/PointCloudRenderer.js ***!
  \*****************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   PointCloudRenderer: () => (/* binding */ k)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/maybe.js */ "./node_modules/@arcgis/core/core/maybe.js");
/* harmony import */ var _core_PooledArray_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core/PooledArray.js */ "./node_modules/@arcgis/core/core/PooledArray.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_RandomLCG_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../core/RandomLCG.js */ "./node_modules/@arcgis/core/core/RandomLCG.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _chunks_vec32_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../chunks/vec32.js */ "./node_modules/@arcgis/core/chunks/vec32.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../core/libs/gl-matrix-2/factories/vec3f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/vec3f64.js");
/* harmony import */ var _chunks_vec42_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../chunks/vec42.js */ "./node_modules/@arcgis/core/chunks/vec42.js");
/* harmony import */ var _geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../geometry/support/aaBoundingBox.js */ "./node_modules/@arcgis/core/geometry/support/aaBoundingBox.js");
/* harmony import */ var _geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../../geometry/support/plane.js */ "./node_modules/@arcgis/core/geometry/support/plane.js");
/* harmony import */ var _geometry_support_ray_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../../geometry/support/ray.js */ "./node_modules/@arcgis/core/geometry/support/ray.js");
/* harmony import */ var _Intersector_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./Intersector.js */ "./node_modules/@arcgis/core/views/3d/layers/i3s/Intersector.js");
/* harmony import */ var _PointCloudHighlights_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./PointCloudHighlights.js */ "./node_modules/@arcgis/core/views/3d/layers/i3s/PointCloudHighlights.js");
/* harmony import */ var _webgl_engine_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../webgl-engine/core/shaderLibrary/ShaderOutput.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/ShaderOutput.js");
/* harmony import */ var _webgl_engine_effects_RenderPlugin_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../webgl-engine/effects/RenderPlugin.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/effects/RenderPlugin.js");
/* harmony import */ var _webgl_engine_lib_DefaultVertexAttributeLocations_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../webgl-engine/lib/DefaultVertexAttributeLocations.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/DefaultVertexAttributeLocations.js");
/* harmony import */ var _webgl_engine_lib_IntersectorInterfaces_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../webgl-engine/lib/IntersectorInterfaces.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/IntersectorInterfaces.js");
/* harmony import */ var _webgl_engine_lib_IntersectorResult_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../../webgl-engine/lib/IntersectorResult.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/IntersectorResult.js");
/* harmony import */ var _webgl_engine_lib_IntersectorType_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../../webgl-engine/lib/IntersectorType.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/IntersectorType.js");
/* harmony import */ var _webgl_engine_lib_RenderSlot_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../../webgl-engine/lib/RenderSlot.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/RenderSlot.js");
/* harmony import */ var _webgl_engine_lib_VertexArrayObject_js__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../../webgl-engine/lib/VertexArrayObject.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/VertexArrayObject.js");
/* harmony import */ var _webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ../../webgl-engine/lib/VertexAttribute.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/VertexAttribute.js");
/* harmony import */ var _chunks_PointRenderer_glsl_js__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ../../../../chunks/PointRenderer.glsl.js */ "./node_modules/@arcgis/core/chunks/PointRenderer.glsl.js");
/* harmony import */ var _webgl_engine_shaders_PointRendererTechnique_js__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ../../webgl-engine/shaders/PointRendererTechnique.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/PointRendererTechnique.js");
/* harmony import */ var _webgl_engine_shaders_PointRendererTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ../../webgl-engine/shaders/PointRendererTechniqueConfiguration.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/PointRendererTechniqueConfiguration.js");
/* harmony import */ var _webgl_BufferObject_js__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ../../../webgl/BufferObject.js */ "./node_modules/@arcgis/core/views/webgl/BufferObject.js");
/* harmony import */ var _webgl_enums_js__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ../../../webgl/enums.js */ "./node_modules/@arcgis/core/views/webgl/enums.js");
/* harmony import */ var _webgl_VertexElementDescriptor_js__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ../../../webgl/VertexElementDescriptor.js */ "./node_modules/@arcgis/core/views/webgl/VertexElementDescriptor.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
const D=new Map([["positions",[new _webgl_VertexElementDescriptor_js__WEBPACK_IMPORTED_MODULE_30__.VertexElementDescriptor(_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_24__.VertexAttribute.POSITION,3,_webgl_enums_js__WEBPACK_IMPORTED_MODULE_29__.DataType.FLOAT,0,12)]],["colors",[new _webgl_VertexElementDescriptor_js__WEBPACK_IMPORTED_MODULE_30__.VertexElementDescriptor(_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_24__.VertexAttribute.COLOR,3,_webgl_enums_js__WEBPACK_IMPORTED_MODULE_29__.DataType.UNSIGNED_BYTE,0,3,!0)]]]);let k=class extends _webgl_engine_effects_RenderPlugin_js__WEBPACK_IMPORTED_MODULE_17__.SyncRenderPlugin{constructor(e){super(e),this.type=_webgl_engine_lib_IntersectorType_js__WEBPACK_IMPORTED_MODULE_21__.IntersectorType.PCL,this.isGround=!1,this._passParameters=new _chunks_PointRenderer_glsl_js__WEBPACK_IMPORTED_MODULE_25__.P,this._highlights=new _PointCloudHighlights_js__WEBPACK_IMPORTED_MODULE_15__.PointCloudHighlights({forEachNode:e=>this.forEachNode(e),addHighlight:(e,t,s)=>this._addHighlight(e,t,s),removeHighlight:(e,t)=>this._removeHighlight(e,t)}),this.produces=new Map([[_webgl_engine_lib_RenderSlot_js__WEBPACK_IMPORTED_MODULE_22__.RenderSlot.OPAQUE_MATERIAL,e=>!((0,_webgl_engine_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_16__.isDepth)(e)||e===_webgl_engine_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_16__.ShaderOutput.Highlight&&this._highlights.empty)],[_webgl_engine_lib_RenderSlot_js__WEBPACK_IMPORTED_MODULE_22__.RenderSlot.OPAQUE_MATERIAL_WITHOUT_NORMALS,e=>(0,_webgl_engine_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_16__.isDepth)(e)]]),this.layerViewUid="",this._slicePlaneEnabled=!1,this._configuration=new _webgl_engine_shaders_PointRendererTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_27__.PointRendererTechniqueConfiguration,this._nodes=new _core_PooledArray_js__WEBPACK_IMPORTED_MODULE_2__["default"]}hasHighlight(e){return this._highlights.has(e)}initializeRenderContext(e){this._context=e,e.requestRender()}uninitializeRenderContext(){}intersect(e,t,s,i){const r=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_9__.create)(),f=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_9__.create)(),P=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_9__.create)(),b=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_9__.create)(),R=(0,_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_12__.create)(),z=e.camera.perScreenPixelRatio/2,A=e.camera.near;(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_8__.d)(f,i,s);const j=1/(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_8__.l)(f);(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_8__.g)(f,f,j),(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_8__.u)(P,f),(0,_chunks_vec42_js__WEBPACK_IMPORTED_MODULE_10__.s)(R,f[0],f[1],f[2],-(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_8__.e)(f,s));const y=new J,I=new J,L=new Array,O=(0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_11__.create)(),q=(0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_11__.create)(this._passParameters.clipBox);(0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_11__.offset)(q,-s[0],-s[1],-s[2],q),this._nodes.forAll((o=>{const a=o.splatSize*this._passParameters.scaleFactor;let l=o.obb.minimumDistancePlane(R),d=o.obb.maximumDistancePlane(R);l-=Q(a,l+A,this._passParameters,z,o.isLeaf),d-=Q(a,d+A,this._passParameters,z,o.isLeaf);const u=d<0,m=null!=y.dist&&null!=I.dist&&y.dist<l*j&&I.dist>d*j;if(u||m)return;const x=G(a,d+A,this._passParameters,z,o.isLeaf);if(!o.obb.intersectRay(s,f,x))return;const S=x*x;o.obb.toAaBoundingBox(O),(0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_11__.offset)(O,-s[0],-s[1],-s[2],O);const w=!(0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_11__.contains)(q,O);(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_8__.d)(b,o.origin,s);const E=o.coordinates.length/3;for(let n=0;n<E;n++){if(r[0]=b[0]+o.coordinates[3*n],r[1]=b[1]+o.coordinates[3*n+1],r[2]=b[2]+o.coordinates[3*n+2],w&&!(0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_11__.containsPoint)(q,r))continue;const l=(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_8__.e)(r,f),d=(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_8__.k)(r)-l*l;if(d>S)continue;let u=l+A;const m=Q(a,u,this._passParameters,z,o.isLeaf);if(l-m<0)continue;u-=m;const g=G(a,u,this._passParameters,z,o.isLeaf);if(d>g*g)continue;const p=(l-m)*j,x=e=>(e.point=Y(o,n,e.point),e.dist=p,e.normal=P,e.node=o,e.pointId=n,e.layerViewUid=this.layerViewUid,e);if((null==y.dist||p<y.dist)&&(null==t||t(s,i,p))&&x(y),e.options.store!==_webgl_engine_lib_IntersectorInterfaces_js__WEBPACK_IMPORTED_MODULE_19__.StoreResults.MIN&&(null==I.dist||p>I.dist)&&(null==t||t(s,i,p))&&x(I),e.options.store===_webgl_engine_lib_IntersectorInterfaces_js__WEBPACK_IMPORTED_MODULE_19__.StoreResults.ALL&&(null==t||t(s,i,p))){const e=new J;L.push(x(e))}}}));const v=e=>{const{layerViewUid:t,node:s,pointId:i}=e;return new _Intersector_js__WEBPACK_IMPORTED_MODULE_14__.PclTarget(e.point,t,i,(()=>this.createGraphic(s,i,e.point)))},M=(e,t)=>{const s=v(t);e.set(this.type,s,t.dist,t.normal)};if(K(y)){const t=e.results.min;(null==t.distance||y.dist<t.distance)&&M(t,y)}if(K(I)&&e.options.store!==_webgl_engine_lib_IntersectorInterfaces_js__WEBPACK_IMPORTED_MODULE_19__.StoreResults.MIN){const t=e.results.max;(null==t.distance||I.dist>t.distance)&&M(t,I)}if(e.options.store===_webgl_engine_lib_IntersectorInterfaces_js__WEBPACK_IMPORTED_MODULE_19__.StoreResults.ALL){const t=(0,_geometry_support_ray_js__WEBPACK_IMPORTED_MODULE_13__.fromPoints)(s,i);for(const s of L){const i=new _webgl_engine_lib_IntersectorResult_js__WEBPACK_IMPORTED_MODULE_20__.IntersectorResult(t);M(i,s),e.results.all.push(i)}}}acquireTechniques(e){const t=e.output===_webgl_engine_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_16__.ShaderOutput.Highlight;return 0!==this._nodes.length&&((0,_webgl_engine_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_16__.isColorOrColorEmission)(e.output)||(0,_webgl_engine_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_16__.isDepth)(e.output)&&e.bind.slot===_webgl_engine_lib_RenderSlot_js__WEBPACK_IMPORTED_MODULE_22__.RenderSlot.OPAQUE_MATERIAL_WITHOUT_NORMALS||t)?(this._nodes.forAll((t=>this._initNode(e,t))),this._configuration.drawScreenSize=this._passParameters.drawScreenSpace,this._configuration.useFixedSizes=this._passParameters.useFixedSizes,this._configuration.hasSlicePlane=this._slicePlaneEnabled,this._configuration.hasOccludees=e.bind.hasOccludees,this._configuration.clippingEnabled=this._clippingEnabled,this._configuration.hasHighlightMixTexture=t&&null!=e.bind.highlightMixTexture,this._configuration.output=e.output,this._context.techniques.get(_webgl_engine_shaders_PointRendererTechnique_js__WEBPACK_IMPORTED_MODULE_26__.PointRendererTechnique,this._configuration)):null}render(e,t){const{rctx:s,bind:i,output:r}=e,n=s.bindTechnique(t,i,this._passParameters),o=r===_webgl_engine_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_16__.ShaderOutput.Highlight,a=i.highlight?.name??null;o&&!a||this._nodes.forAll((t=>{0===t.coordinates.length||o&&!t.highlightMap.has(a)||(n.bindDraw(i,this._passParameters,t),s.bindVAO(t.vao),o?this._renderHighlightFragments(e,t):s.drawArrays(_webgl_enums_js__WEBPACK_IMPORTED_MODULE_29__.PrimitiveType.POINTS,0,t.coordinates.length/3))}))}_renderHighlightFragments(e,t){const{highlightMap:s}=t,{rctx:i,bind:r}=e,{highlight:n}=r;if(!n)return;const o=n.name,a=s.get(o);if(!a||0===a.length)return;const{highlightOrderMap:l,highlightLevel:h}=r;if(null==h)return;for(const p of s.keys())if(p!==o){const e=l.get(p);if(void 0!==e&&e>h)return}let c=0,d=a[0].componentIndex,u=d+1;const m=()=>{for(;c<a.length&&a[c].id.highlightName!==o;)d=a[c].componentIndex,++c;u=d+1};m();const g=(e,t)=>{const s=t-e;s>0&&i.drawArrays(_webgl_enums_js__WEBPACK_IMPORTED_MODULE_29__.PrimitiveType.POINTS,e,s)};for(;c<a.length;){const e=a[c];if(e.id.highlightName!==o){g(d,u),++c,m();continue}const t=e.componentIndex;t!==u&&(g(d,u),d=t),u=t+1,++c}g(d,u)}set useFixedSizes(e){this._passParameters.useFixedSizes!==e&&(this._passParameters.useFixedSizes=e,this._requestRender())}get useFixedSizes(){return this._passParameters.useFixedSizes}set scaleFactor(e){this._passParameters.scaleFactor!==e&&(this._passParameters.scaleFactor=e,this._requestRender())}get scaleFactor(){return this._passParameters.scaleFactor}set minSizePx(e){this._passParameters.minSizePx!==e&&(this._passParameters.minSizePx=e,this._requestRender())}get minSizePx(){return this._passParameters.minSizePx}set useRealWorldSymbolSizes(e){this._passParameters.useRealWorldSymbolSizes!==e&&(this._passParameters.useRealWorldSymbolSizes=e,this._requestRender())}get useRealWorldSymbolSizes(){return this._passParameters.useRealWorldSymbolSizes}set size(e){this._passParameters.size!==e&&(this._passParameters.size=e,this._requestRender())}get size(){return this._passParameters.size}set sizePx(e){this._passParameters.sizePx!==e&&(this._passParameters.sizePx=e,this._requestRender())}get sizePx(){return this._passParameters.sizePx}set clippingBox(e){(0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_11__.set)(this._passParameters.clipBox,e||_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_11__.positiveInfinity)}get _clippingEnabled(){return!(0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_11__.equals)(this._passParameters.clipBox,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_11__.positiveInfinity,((e,t)=>e===t))}get slicePlaneEnabled(){return this._slicePlaneEnabled}set slicePlaneEnabled(e){this._slicePlaneEnabled!==e&&(this._slicePlaneEnabled=e,this._requestRender())}addNode(e){this._nodes.push(e),this._highlights.nodeAdded(e),this._requestRender()}removeNode(e){let s=null;return this._nodes.filterInPlace((i=>i.id!==e||(s=i,i.vao=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_1__.disposeMaybe)(i.vao),this._highlights.nodeRemoved(i),!1))),this._requestRender(),s}forEachNode(e){this._nodes.forAll(e)}removeAll(){this._nodes.forAll((e=>e.vao=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_1__.disposeMaybe)(e.vao))),this._highlights.removeAll(),this._nodes.clear(),this._requestRender()}highlight(e,t){return this._highlights.add(e,t)}_addHighlight(e,t,s){e.addHighlight(t,s),this._requestRender()}_removeHighlight(e,t){e.removeHighlight(t),this._requestRender()}_initNode(e,t){t.vao??=new _webgl_engine_lib_VertexArrayObject_js__WEBPACK_IMPORTED_MODULE_23__.VertexArrayObject(e.rctx,_webgl_engine_lib_DefaultVertexAttributeLocations_js__WEBPACK_IMPORTED_MODULE_18__.Default3D,D,new Map([["positions",_webgl_BufferObject_js__WEBPACK_IMPORTED_MODULE_28__.BufferObject.createVertex(e.rctx,_webgl_enums_js__WEBPACK_IMPORTED_MODULE_29__.Usage.STATIC_DRAW,t.coordinates)],["colors",_webgl_BufferObject_js__WEBPACK_IMPORTED_MODULE_28__.BufferObject.createVertex(e.rctx,_webgl_enums_js__WEBPACK_IMPORTED_MODULE_29__.Usage.STATIC_DRAW,t.rgb)]]))}_requestRender(){this._context&&this._context.requestRender()}};function G(e,t,s,i,r){if(s.drawScreenSpace)return s.fixedSize*t*i;const n=(0,_chunks_PointRenderer_glsl_js__WEBPACK_IMPORTED_MODULE_25__.g)(r)*t*i;return s.useFixedSizes?Math.min(s.fixedSize/2,n):s.screenMinSize>0?Math.min(Math.max(s.screenMinSize*t*i,e/2),n):Math.min(e/2,n)}function Q(e,t,s,i,r){return s.drawScreenSpace?0:G(e,t,s,i,r)}function Y(e,t,s){return null==s&&(s=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_9__.create)()),s[0]=e.origin[0]+e.coordinates[3*t],s[1]=e.origin[1]+e.coordinates[3*t+1],s[2]=e.origin[2]+e.coordinates[3*t+2],s}(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)({constructOnly:!0})],k.prototype,"createGraphic",void 0),k=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__.subclass)("esri.views.3d.layers.i3s.PointCloudRenderer")],k);class J{constructor(){this.node=null,this.pointId=null,this.point=null,this.dist=null,this.normal=null,this.layerViewUid=""}}function K(e){return null!=e.dist&&null!=e.point&&null!=e.pointId&&null!=e.node}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/i3s/PointCloudRendererNode.js":
/*!*********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/i3s/PointCloudRendererNode.js ***!
  \*********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   PointCloudRendererNode: () => (/* binding */ i),
/* harmony export */   isPointRendererNode: () => (/* binding */ n)
/* harmony export */ });
/* harmony import */ var _core_MapUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/MapUtils.js */ "./node_modules/@arcgis/core/core/MapUtils.js");
/* harmony import */ var _chunks_PointRenderer_glsl_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../chunks/PointRenderer.glsl.js */ "./node_modules/@arcgis/core/chunks/PointRenderer.glsl.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
class i extends _chunks_PointRenderer_glsl_js__WEBPACK_IMPORTED_MODULE_1__.a{constructor(t,e,i,n,h,s,r,o,l=null){super(i,h,e),this.id=t,this.obb=n,this.coordinates=s,this.rgb=r,this.attributes=o,this.pointIdFilterMap=l,this.highlightMap=new Map}addHighlight(e,i){const{highlightMap:n}=this,r=(0,_core_MapUtils_js__WEBPACK_IMPORTED_MODULE_0__.getOrCreateMapValue)(n,i.highlightName,(()=>new Array)),o=new s(e,i);r.push(o);const l=h(o);for(let t=r.length-1;t>0&&l<h(r[t-1]);--t)[r[t-1],r[t]]=[r[t],r[t-1]]}removeHighlight(t){const{highlightMap:e}=this,{highlightName:i}=t,n=e.get(i);if(!n)return;const h=n.filter((e=>e.id!==t));0===h.length?e.delete(i):e.set(i,h)}get cachedMemory(){return 5*this.coordinates.length+128}}function n(t){return t.hasOwnProperty("splatSize")}function h(t){return null!=t.componentIndex?t.componentIndex:-1}class s{constructor(t,e){this.componentIndex=t,this.id=e}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/i3s/PointCloudRendererUtil.js":
/*!*********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/i3s/PointCloudRendererUtil.js ***!
  \*********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   getAttributeInfo: () => (/* binding */ u),
/* harmony export */   getFilterInfo: () => (/* binding */ e),
/* harmony export */   getFixedSizeAlgorithm: () => (/* binding */ o),
/* harmony export */   getRendererInfo: () => (/* binding */ t),
/* harmony export */   getSplatSizeAlgorithm: () => (/* binding */ n),
/* harmony export */   rendererUsesFixedSizes: () => (/* binding */ l)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
function t(t){const e=t.renderer,n=e?.type,o=e?.toJSON()??null;let l=null,i=!1;const a=t.attributeStorageInfo;"point-cloud-unique-value"===n||"point-cloud-stretch"===n||"point-cloud-class-breaks"===n?l=u(a,e.field):"point-cloud-rgb"===n?(l=r(a,e.field),i=null!=l):(l=r(a,"RGB"),i=null!=l);let s=null;return e?.colorModulation&&(s=u(a,e.colorModulation.field)),{rendererJSON:o,isRGBRenderer:i,primaryAttribute:l,modulationAttribute:s}}function e(t){const e=t.filters;return e?e.map((e=>({filterJSON:e.toJSON(),attributeInfo:u(t.attributeStorageInfo,e.field)}))):[]}function n(t){const e=t?.pointSizeAlgorithm;return e&&"splat"===e.type?e:null}function o(t){const e=t?.pointSizeAlgorithm;return e&&"fixed-size"===e.type?e:null}function l(t){const e=t?.pointSizeAlgorithm;return!!e?.type&&"fixed-size"===e.type}function r(t,e){for(const n of t??[])if(n.name===e&&null!=n.attributeValues&&"UInt8"===n.attributeValues.valueType&&3===n.attributeValues.valuesPerElement)return{name:e,storageInfo:n,useElevation:!1};return null}function u(t,e){for(const n of t??[])if(n.name===e){const t="embedded-elevation"===n.encoding;return t?{name:e,storageInfo:null,useElevation:t}:{name:e,storageInfo:n,useElevation:t}}return"elevation"===e?.toLowerCase()?{name:e,storageInfo:null,useElevation:!0}:null}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/i3s/PointCloudWorkerUtil.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/i3s/PointCloudWorkerUtil.js ***!
  \*******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   elevationFromPositions: () => (/* binding */ a),
/* harmony export */   evaluateRenderer: () => (/* binding */ i),
/* harmony export */   filterInPlace: () => (/* binding */ f),
/* harmony export */   getAttributeValues: () => (/* binding */ c),
/* harmony export */   readGeometry: () => (/* binding */ u)
/* harmony export */ });
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _renderers_PointCloudClassBreaksRenderer_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../renderers/PointCloudClassBreaksRenderer.js */ "./node_modules/@arcgis/core/renderers/PointCloudClassBreaksRenderer.js");
/* harmony import */ var _renderers_PointCloudStretchRenderer_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../renderers/PointCloudStretchRenderer.js */ "./node_modules/@arcgis/core/renderers/PointCloudStretchRenderer.js");
/* harmony import */ var _renderers_PointCloudUniqueValueRenderer_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../renderers/PointCloudUniqueValueRenderer.js */ "./node_modules/@arcgis/core/renderers/PointCloudUniqueValueRenderer.js");
/* harmony import */ var _I3SBinaryReader_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./I3SBinaryReader.js */ "./node_modules/@arcgis/core/views/3d/layers/i3s/I3SBinaryReader.js");
/* harmony import */ var _LEPCC_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./LEPCC.js */ "./node_modules/@arcgis/core/views/3d/layers/i3s/LEPCC.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
function i(t,n,l,s){const{rendererJSON:i,isRGBRenderer:u}=t;let c=null,a=null;if(n&&u)c=n;else if(n&&"pointCloudUniqueValueRenderer"===i?.type){a=_renderers_PointCloudUniqueValueRenderer_js__WEBPACK_IMPORTED_MODULE_3__["default"].fromJSON(i);const e=a.colorUniqueValueInfos;c=new Uint8Array(3*s);const r=d(a.fieldTransformType);for(let o=0;o<s;o++){const t=(r?r(n[o]):n[o])+"";for(let r=0;r<e.length;r++)if(e[r].values.includes(t)){c[3*o]=e[r].color.r,c[3*o+1]=e[r].color.g,c[3*o+2]=e[r].color.b;break}}}else if(n&&"pointCloudStretchRenderer"===i?.type){a=_renderers_PointCloudStretchRenderer_js__WEBPACK_IMPORTED_MODULE_2__["default"].fromJSON(i);const e=a.stops;c=new Uint8Array(3*s);const o=d(a.fieldTransformType);for(let r=0;r<s;r++){const t=o?o(n[r]):n[r],l=e.length-1;if(t<e[0].value)c[3*r]=e[0].color.r,c[3*r+1]=e[0].color.g,c[3*r+2]=e[0].color.b;else if(t>=e[l].value)c[3*r]=e[l].color.r,c[3*r+1]=e[l].color.g,c[3*r+2]=e[l].color.b;else for(let o=1;o<e.length;o++)if(t<e[o].value){const n=(t-e[o-1].value)/(e[o].value-e[o-1].value);c[3*r]=e[o].color.r*n+e[o-1].color.r*(1-n),c[3*r+1]=e[o].color.g*n+e[o-1].color.g*(1-n),c[3*r+2]=e[o].color.b*n+e[o-1].color.b*(1-n);break}}}else if(n&&"pointCloudClassBreaksRenderer"===i?.type){a=_renderers_PointCloudClassBreaksRenderer_js__WEBPACK_IMPORTED_MODULE_1__["default"].fromJSON(i);const r=a.colorClassBreakInfos;c=new Uint8Array(3*s);const o=d(a.fieldTransformType);for(let e=0;e<s;e++){const t=o?o(n[e]):n[e];for(let o=0;o<r.length;o++)if(t>=r[o].minValue&&t<=r[o].maxValue){c[3*e]=r[o].color.r,c[3*e+1]=r[o].color.g,c[3*e+2]=r[o].color.b;break}}}else c=new Uint8Array(3*s).fill(255);if(l&&a?.colorModulation){const e=a.colorModulation.minValue,r=a.colorModulation.maxValue,o=.3;for(let t=0;t<s;t++){const n=l[t],s=n>=r?1:n<=e?o:o+(1-o)*(n-e)/(r-e);c[3*t]=s*c[3*t],c[3*t+1]=s*c[3*t+1],c[3*t+2]=s*c[3*t+2]}}return c}function u(e,r){if(null==e.encoding||""===e.encoding){const o=(0,_I3SBinaryReader_js__WEBPACK_IMPORTED_MODULE_4__.createGeometryIndexFromSchema)(r,e);if(null==o.vertexAttributes.position)return;const l=(0,_I3SBinaryReader_js__WEBPACK_IMPORTED_MODULE_4__.createTypedView)(r,o.vertexAttributes.position),s=o.header.fields,i=[s.offsetX,s.offsetY,s.offsetZ],u=[s.scaleX,s.scaleY,s.scaleZ],c=l.length/3,a=new Float64Array(3*c);for(let e=0;e<c;e++)a[3*e]=l[3*e]*u[0]+i[0],a[3*e+1]=l[3*e+1]*u[1]+i[1],a[3*e+2]=l[3*e+2]*u[2]+i[2];return a}if("lepcc-xyz"===e.encoding)return (0,_LEPCC_js__WEBPACK_IMPORTED_MODULE_5__.decodeXYZ)(r).result}function c(e,r,o){return e?.attributeInfo.useElevation?r?a(r,o):null:e?.attributeInfo.storageInfo?(0,_I3SBinaryReader_js__WEBPACK_IMPORTED_MODULE_4__.readBinaryAttribute)(e.attributeInfo.storageInfo,e.buffer,o,!0):null}function a(e,r){const o=new Float64Array(r);for(let t=0;t<r;t++)o[t]=e[3*t+2];return o}function f(e,r,o,t,n){const l=e.length/3;let s=0;for(let i=0;i<l;i++){let l=!0;for(let e=0;e<t.length&&l;e++){const{filterJSON:r}=t[e],o=n[e].values[i];switch(r.type){case"pointCloudValueFilter":{const e="exclude"===r.mode;r.values.includes(o)===e&&(l=!1);break}case"pointCloudBitfieldFilter":{const e=p(r.requiredSetBits),t=p(r.requiredClearBits);(o&e)===e&&0===(o&t)||(l=!1);break}case"pointCloudReturnFilter":{const e=15&o,t=o>>>4&15,n=t>1,s=1===e,i=e===t;let u=!1;for(const o of r.includedReturns)if("last"===o&&i||"firstOfMany"===o&&s&&n||"lastOfMany"===o&&i&&n||"single"===o&&!n){u=!0;break}u||(l=!1);break}}}l&&(o[s]=i,e[3*s]=e[3*i],e[3*s+1]=e[3*i+1],e[3*s+2]=e[3*i+2],r[3*s]=r[3*i],r[3*s+1]=r[3*i+1],r[3*s+2]=r[3*i+2],s++)}return s}function d(e){switch(e){default:case null:case"none":return e=>e;case"low-four-bit":return e=>15&e;case"high-four-bit":return e=>(240&e)>>4;case"absolute-value":return e=>Math.abs(e);case"modulo-ten":return e=>e%10}}function p(e){let r=0;for(const o of e||[])r|=1<<o;return r}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/support/PopupSceneLayerView.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/support/PopupSceneLayerView.js ***!
  \**********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   PopupSceneLayerView: () => (/* binding */ i)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_RandomLCG_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../core/RandomLCG.js */ "./node_modules/@arcgis/core/core/RandomLCG.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _layers_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../layers/support/fieldUtils.js */ "./node_modules/@arcgis/core/layers/support/fieldUtils.js");
/* harmony import */ var _layers_support_popupUtils_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../layers/support/popupUtils.js */ "./node_modules/@arcgis/core/views/layers/support/popupUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
const i=i=>{let c=class extends i{_validateFetchPopupFeatures(e){const{layer:r}=this,{popupEnabled:s}=r;if(!s)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_1__["default"]("scenelayerview3d:fetchPopupFeatures","Popups are disabled",{layer:r});if(!(0,_layers_support_popupUtils_js__WEBPACK_IMPORTED_MODULE_7__.getFetchPopupTemplate)(r,e))throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_1__["default"]("scenelayerview3d:fetchPopupFeatures","Layer does not define a popup template",{layer:r})}async prepareFetchPopupFeatures(e){}async fetchPopupFeaturesFromGraphics(e,t){if(this._validateFetchPopupFeatures(t),0===e.length)return[];const r="scene"===this.layer.type&&null!=this.layer.associatedLayer?this.layer.associatedLayer:this.layer;let i=[];"fieldsIndex"in this.layer&&(i=(0,_layers_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_6__.unpackFieldNames)(this.layer.fieldsIndex,await (0,_layers_support_popupUtils_js__WEBPACK_IMPORTED_MODULE_7__.getRequiredFields)(r,(0,_layers_support_popupUtils_js__WEBPACK_IMPORTED_MODULE_7__.getFetchPopupTemplate)(this.layer,t)))),await this.prepareFetchPopupFeatures(i);const c=new Set,n=[],l=[];for(const s of e)(0,_layers_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_6__.populateMissingFields)(s,i,c)?l.push(s):n.push(s);if(0===l.length)return n;const u=new Map;for(let s=0;s<e.length;s++)u.set(e[s].getObjectId()??0,s);const h=await this.whenGraphicAttributes(l,[...c]).catch((()=>l)).then((e=>n.concat(e)));return h.sort(((e,t)=>{const r=e.getObjectId()??0,s=u.get(r)??0,a=t.getObjectId()??0;return s-(u.get(a)??0)})),h}};return c=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_5__.subclass)("esri.views.3d.layers.support.PopupSceneLayerView")],c),c};


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/support/highlightUtils.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/support/highlightUtils.js ***!
  \*****************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   emptyHighlightHandle: () => (/* binding */ s),
/* harmony export */   isObjectId: () => (/* binding */ i),
/* harmony export */   normalizeHighlightTargetExceptQuery: () => (/* binding */ e)
/* harmony export */ });
/* harmony import */ var _core_Collection_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/Collection.js */ "./node_modules/@arcgis/core/core/Collection.js");
/* harmony import */ var _core_handleUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/handleUtils.js */ "./node_modules/@arcgis/core/core/handleUtils.js");
/* harmony import */ var _support_guards_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../support/guards.js */ "./node_modules/@arcgis/core/support/guards.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
function e(o){return _core_Collection_js__WEBPACK_IMPORTED_MODULE_0__["default"].isCollection(o)?o.toArray():Array.isArray(o)?o:i(o)||(0,_support_guards_js__WEBPACK_IMPORTED_MODULE_2__.isGraphic)(o)||c(o)?[o]:n}function i(r){return"number"==typeof r||"string"==typeof r}const n=[],s=(0,_core_handleUtils_js__WEBPACK_IMPORTED_MODULE_1__.makeHandle)();function c(r){return"esri.views.3d.layers.i3s.PointCloudGraphic"===r.declaredClass}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/PointRendererTechnique.js":
/*!*******************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/PointRendererTechnique.js ***!
  \*******************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   PointRendererTechnique: () => (/* binding */ d)
/* harmony export */ });
/* harmony import */ var _core_shaderTechnique_ReloadableShaderModule_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../core/shaderTechnique/ReloadableShaderModule.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderTechnique/ReloadableShaderModule.js");
/* harmony import */ var _core_shaderTechnique_ShaderTechnique_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../core/shaderTechnique/ShaderTechnique.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderTechnique/ShaderTechnique.js");
/* harmony import */ var _lib_StencilUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../lib/StencilUtils.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/StencilUtils.js");
/* harmony import */ var _chunks_PointRenderer_glsl_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../chunks/PointRenderer.glsl.js */ "./node_modules/@arcgis/core/chunks/PointRenderer.glsl.js");
/* harmony import */ var _webgl_enums_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../webgl/enums.js */ "./node_modules/@arcgis/core/views/webgl/enums.js");
/* harmony import */ var _webgl_renderState_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../webgl/renderState.js */ "./node_modules/@arcgis/core/views/webgl/renderState.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
class d extends _core_shaderTechnique_ShaderTechnique_js__WEBPACK_IMPORTED_MODULE_1__.ShaderTechnique{constructor(r,t){super(r,t,new _core_shaderTechnique_ReloadableShaderModule_js__WEBPACK_IMPORTED_MODULE_0__.ReloadableShaderModule(_chunks_PointRenderer_glsl_js__WEBPACK_IMPORTED_MODULE_3__.b,(()=>__webpack_require__.e(/*! import() */ "node_modules_arcgis_core_views_3d_webgl-engine_shaders_PointRenderer_glsl_js").then(__webpack_require__.bind(__webpack_require__, /*! ./PointRenderer.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/PointRenderer.glsl.js")))))}initializePipeline(e){return (0,_webgl_renderState_js__WEBPACK_IMPORTED_MODULE_5__.makePipelineState)({depthTest:{func:_webgl_enums_js__WEBPACK_IMPORTED_MODULE_4__.CompareFunction.LESS},depthWrite:_webgl_renderState_js__WEBPACK_IMPORTED_MODULE_5__.defaultDepthWrite,colorWrite:_webgl_renderState_js__WEBPACK_IMPORTED_MODULE_5__.defaultColorWrite,stencilWrite:e.hasOccludees?_lib_StencilUtils_js__WEBPACK_IMPORTED_MODULE_2__.stencilWriteMaskOn:null,stencilTest:e.hasOccludees?_lib_StencilUtils_js__WEBPACK_IMPORTED_MODULE_2__.stencilBaseAllZerosParams:null,drawBuffers:(0,_core_shaderTechnique_ShaderTechnique_js__WEBPACK_IMPORTED_MODULE_1__.depthOnlyOutputBuffersOr)(e.output)})}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/PointRendererTechniqueConfiguration.js":
/*!********************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/PointRendererTechniqueConfiguration.js ***!
  \********************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   PointRendererTechniqueConfiguration: () => (/* binding */ o)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../core/shaderTechnique/ShaderTechniqueConfiguration.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderTechnique/ShaderTechniqueConfiguration.js");
/* harmony import */ var _materials_DefaultTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../materials/DefaultTechniqueConfiguration.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/materials/DefaultTechniqueConfiguration.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
class o extends _materials_DefaultTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_2__.DefaultTechniqueConfiguration{constructor(){super(...arguments),this.drawScreenSize=!1,this.useFixedSizes=!1,this.hasOccludees=!1,this.clippingEnabled=!1,this.draped=!1}}(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_1__.parameter)()],o.prototype,"drawScreenSize",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_1__.parameter)()],o.prototype,"useFixedSizes",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_1__.parameter)()],o.prototype,"hasOccludees",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_1__.parameter)()],o.prototype,"clippingEnabled",void 0);


/***/ }),

/***/ "./node_modules/@arcgis/core/views/layers/LayerView.js":
/*!*************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/layers/LayerView.js ***!
  \*************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ u)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/Accessor.js */ "./node_modules/@arcgis/core/core/Accessor.js");
/* harmony import */ var _core_Evented_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/Evented.js */ "./node_modules/@arcgis/core/core/Evented.js");
/* harmony import */ var _core_Identifiable_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../core/Identifiable.js */ "./node_modules/@arcgis/core/core/Identifiable.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../core/maybe.js */ "./node_modules/@arcgis/core/core/maybe.js");
/* harmony import */ var _core_Promise_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../core/Promise.js */ "./node_modules/@arcgis/core/core/Promise.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_RandomLCG_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../core/RandomLCG.js */ "./node_modules/@arcgis/core/core/RandomLCG.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _core_support_UpdatingHandles_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../core/support/UpdatingHandles.js */ "./node_modules/@arcgis/core/core/support/UpdatingHandles.js");
/* harmony import */ var _support_layerViewUtils_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../support/layerViewUtils.js */ "./node_modules/@arcgis/core/views/support/layerViewUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
let u=class extends(_core_Identifiable_js__WEBPACK_IMPORTED_MODULE_3__["default"].IdentifiableMixin(_core_Promise_js__WEBPACK_IMPORTED_MODULE_6__["default"].EsriPromiseMixin(_core_Evented_js__WEBPACK_IMPORTED_MODULE_2__["default"].EventedMixin(_core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__["default"])))){get spatialReferenceSupported(){return!0}constructor(e){super(e),this._updatingHandles=new _core_support_UpdatingHandles_js__WEBPACK_IMPORTED_MODULE_11__.UpdatingHandles,this.layer=null,this.parent=null}initialize(){this.when().catch((e=>{if("layerview:create-error"!==e.name){const t=this.layer&&this.layer.id||"no id",r=this.layer?.title||"no title";_core_Logger_js__WEBPACK_IMPORTED_MODULE_4__["default"].getLogger(this).error("#resolve()",`Failed to resolve layer view (layer title: '${r}', id: '${t}')`,e)}}))}destroy(){this._updatingHandles=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_5__.destroyMaybe)(this._updatingHandles)}get fullOpacity(){return(this.layer?.opacity??1)*(this.parent?.fullOpacity??1)}get suspended(){return this.destroyed||!this.canResume()}get suspendInfo(){return this.getSuspendInfo()}get legendEnabled(){return!this.suspended&&!0===this.layer?.legendEnabled}get updating(){return!(!this._updatingHandles?.updating&&!this.isUpdating())}get updatingProgress(){return this.updating?0:1}get updateSuspended(){return this.suspended}get visible(){return!0===this.layer?.visible}set visible(e){this._overrideIfSome("visible",e)}get visibleAtCurrentScale(){return!0}get visibleAtCurrentTimeExtent(){const e=this.view.timeExtent,t=this.layer?.visibilityTimeExtent;return!e||!t||!e.intersection(t).isEmpty}canResume(){const e=this.layer&&"effectiveScaleRange"in this.layer?this.layer.effectiveScaleRange:null;return this.visible&&this.layer?.loaded&&this.parent&&!this.parent.suspended&&this.view?.ready&&(0,_support_layerViewUtils_js__WEBPACK_IMPORTED_MODULE_12__.validateScaleRange)(e)&&this.visibleAtCurrentScale&&this.visibleAtCurrentTimeExtent||!1}getSuspendInfo(){const e=this.parent?.suspended?this.parent.suspendInfo:{},t=this;t.view?.ready||(e.viewNotReady=!0),this.layer&&this.layer.loaded||(e.layerNotLoaded=!0);const r=this.layer&&"effectiveScaleRange"in this.layer?this.layer.effectiveScaleRange:null;return (0,_support_layerViewUtils_js__WEBPACK_IMPORTED_MODULE_12__.validateScaleRange)(r)&&this.visibleAtCurrentScale||(e.outsideScaleRange=!0),this.visibleAtCurrentTimeExtent||(e.outsideVisibilityTimeExtent=!0),this.visible||(e.layerInvisible=!0),e}isUpdating(){return!1}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)({readOnly:!0})],u.prototype,"spatialReferenceSupported",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)()],u.prototype,"view",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)()],u.prototype,"fullOpacity",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)()],u.prototype,"layer",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)()],u.prototype,"parent",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)({readOnly:!0})],u.prototype,"suspended",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)({readOnly:!0})],u.prototype,"suspendInfo",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)({readOnly:!0})],u.prototype,"legendEnabled",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)({type:Boolean,readOnly:!0})],u.prototype,"updating",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)({readOnly:!0})],u.prototype,"updatingProgress",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)()],u.prototype,"updateSuspended",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)()],u.prototype,"visible",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)({readOnly:!0})],u.prototype,"visibleAtCurrentScale",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)({readOnly:!0})],u.prototype,"visibleAtCurrentTimeExtent",null),u=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_10__.subclass)("esri.views.layers.LayerView")],u);


/***/ }),

/***/ "./node_modules/@arcgis/core/views/layers/PointCloudLayerView.js":
/*!***********************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/layers/PointCloudLayerView.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ t)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_RandomLCG_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../core/RandomLCG.js */ "./node_modules/@arcgis/core/core/RandomLCG.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
const t=t=>{let s=class extends t{constructor(){super(...arguments),this.layer=null}get availableFields(){return[]}highlight(){throw new Error("Not implemented")}queryFeatures(){throw new Error("Not implemented")}queryFeatureCount(){throw new Error("Not implemented")}createQuery(){throw new Error("Not implemented")}queryExtent(){throw new Error("Not implemented")}};return (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_1__.property)()],s.prototype,"layer",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_1__.property)()],s.prototype,"availableFields",null),s=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_5__.subclass)("esri.views.layers.PointCloudLayerView")],s),s};


/***/ }),

/***/ "./node_modules/@arcgis/core/views/layers/support/popupUtils.js":
/*!**********************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/layers/support/popupUtils.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   getFetchPopupTemplate: () => (/* binding */ p),
/* harmony export */   getRequiredFields: () => (/* binding */ n),
/* harmony export */   hasPopupTemplate: () => (/* binding */ u)
/* harmony export */ });
/* harmony import */ var _layers_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../layers/support/fieldUtils.js */ "./node_modules/@arcgis/core/layers/support/fieldUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
async function n(n,p=n.popupTemplate){if(null==p)return[];const u=await p.getRequiredFields(n.fieldsIndex),{lastEditInfoEnabled:t}=p,{objectIdField:d,typeIdField:s,globalIdField:i,relationships:a}=n;if(u.includes("*"))return["*"];const o=t?(0,_layers_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_0__.getFeatureEditFields)(n):[],f=(0,_layers_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_0__.fixFields)(n.fieldsIndex,[...u,...o]);return s&&f.push(s),f&&d&&n.fieldsIndex?.has(d)&&!f.includes(d)&&f.push(d),f&&i&&n.fieldsIndex?.has(i)&&!f.includes(i)&&f.push(i),a&&a.forEach((e=>{const{keyField:l}=e;f&&l&&n.fieldsIndex?.has(l)&&!f.includes(l)&&f.push(l)})),f}function p(e,l){return e.popupTemplate?e.popupTemplate:null!=l&&l.defaultPopupTemplateEnabled&&null!=e.defaultPopupTemplate?e.defaultPopupTemplate:null}function u(e,l){return null!=p(e,{defaultPopupTemplateEnabled:l})}


/***/ })

};

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmVuZG9ycy1ub2RlX21vZHVsZXNfYXJjZ2lzX2NvcmVfdmlld3NfM2RfbGF5ZXJzX1BvaW50Q2xvdWRMYXllclZpZXczRF9qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUMrdEQsZ0JBQWdCLHVFQUFDLENBQUMsY0FBYyxpQ0FBaUMsMEVBQUMsQ0FBQyxnRkFBQyxzSEFBc0gsZ0JBQWdCLGtEQUFrRCxvQkFBb0IsMkNBQTJDLHNCQUFzQiwwREFBMEQsZ0JBQWdCLHlHQUFDLENBQUMsbUJBQW1CLHVEQUF1RCxjQUFjLFlBQVkseUVBQUMsR0FBRyxpSEFBQyxZQUFZLG9CQUFvQixHQUFHLHdCQUF3QixrR0FBQyxxQkFBcUIsMkZBQUMsbUNBQW1DLDJGQUFDLGtDQUFrQyxnSEFBQyxxQkFBcUIsNkVBQUMsdUJBQXVCLG9GQUFDLG9CQUFvQixnSEFBQyw0Q0FBNEMsOEdBQUMsOEJBQThCLHdFQUFDLDRHQUE0Ryw4R0FBQyxzQkFBc0Isd0VBQUMsOERBQThELDhHQUFDLHdCQUF3Qix3RUFBQyxrSUFBa0ksOEdBQUMscUJBQXFCLDRDQUFDLHFGQUFxRiw4R0FBQyxxQkFBcUIsNENBQUMsc0hBQXNILGdFQUFDLEVBQUUsZ0VBQUMsRUFBRSxnRUFBQyxxQ0FBcUMsZ0VBQUMsQ0FBQyxnRUFBQyxDQUFDLGdFQUFDLGtEQUFrRCx3RkFBQztBQUN4c0c7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxNQUFNLGlCQUFpQix3RkFBQyxxQ0FBcUMsRUFBRSx3RkFBQztBQUNoRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0NBQW9DOztBQUVwQztBQUNBO0FBQ0EsTUFBTSxFQUFFLHdGQUFDLGdCQUFnQixLQUFLLGFBQWEsd0hB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Ozs7Ozs7Ozs7OztBQ0psekI7QUFDQTtBQUNBO0FBQ0E7QUFDNEYsc0NBQXNDLG9CQUFvQixrREFBa0Qsc0JBQXNCLElBQUksOERBQThELEdBQUcsK0JBQStCLFVBQVUsbUZBQUMsU0FBUyx3RUFBQyw0QkFBNEIsb0pBQW9KLE1BQU0sV0FBVyxHQUFHLHVEQUF1RCxLQUFLLGdCQUFnQix3SUFBd0ksZ0JBQWdCLGtCQUFrQiw4QkFBOEIsRUFBa0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wcmVjaXNpb25mYXJtcy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvY2h1bmtzL1BvaW50UmVuZGVyZXIuZ2xzbC5qcyIsIndlYnBhY2s6Ly9wcmVjaXNpb25mYXJtcy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvZ2VvbWV0cnkvcHJvamVjdGlvbi9wcm9qZWN0Qm91bmRpbmdTcGhlcmUuanMiLCJ3ZWJwYWNrOi8vcHJlY2lzaW9uZmFybXMvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzNkL2xheWVycy9JSTNTTWVzaFZpZXczRC5qcyIsIndlYnBhY2s6Ly9wcmVjaXNpb25mYXJtcy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvM2QvbGF5ZXJzL0xheWVyVmlldzNELmpzIiwid2VicGFjazovL3ByZWNpc2lvbmZhcm1zLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8zZC9sYXllcnMvUG9pbnRDbG91ZExheWVyVmlldzNELmpzIiwid2VicGFjazovL3ByZWNpc2lvbmZhcm1zLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8zZC9sYXllcnMvUG9pbnRDbG91ZExheWVyVmlld1BlcmZvcm1hbmNlSW5mby5qcyIsIndlYnBhY2s6Ly9wcmVjaXNpb25mYXJtcy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvM2QvbGF5ZXJzL1BvaW50Q2xvdWRXb3JrZXJIYW5kbGUuanMiLCJ3ZWJwYWNrOi8vcHJlY2lzaW9uZmFybXMvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzNkL2xheWVycy9pM3MvSTNTUXVlcnlGZWF0dXJlU3RvcmUuanMiLCJ3ZWJwYWNrOi8vcHJlY2lzaW9uZmFybXMvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzNkL2xheWVycy9pM3MvTG9EVXRpbC5qcyIsIndlYnBhY2s6Ly9wcmVjaXNpb25mYXJtcy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvM2QvbGF5ZXJzL2kzcy9QYWdlZE5vZGVJbmRleC5qcyIsIndlYnBhY2s6Ly9wcmVjaXNpb25mYXJtcy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvM2QvbGF5ZXJzL2kzcy9Qb2ludENsb3VkR3JhcGhpYy5qcyIsIndlYnBhY2s6Ly9wcmVjaXNpb25mYXJtcy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvM2QvbGF5ZXJzL2kzcy9Qb2ludENsb3VkSGlnaGxpZ2h0cy5qcyIsIndlYnBhY2s6Ly9wcmVjaXNpb25mYXJtcy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvM2QvbGF5ZXJzL2kzcy9Qb2ludENsb3VkUmVuZGVyZXIuanMiLCJ3ZWJwYWNrOi8vcHJlY2lzaW9uZmFybXMvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzNkL2xheWVycy9pM3MvUG9pbnRDbG91ZFJlbmRlcmVyTm9kZS5qcyIsIndlYnBhY2s6Ly9wcmVjaXNpb25mYXJtcy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvM2QvbGF5ZXJzL2kzcy9Qb2ludENsb3VkUmVuZGVyZXJVdGlsLmpzIiwid2VicGFjazovL3ByZWNpc2lvbmZhcm1zLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8zZC9sYXllcnMvaTNzL1BvaW50Q2xvdWRXb3JrZXJVdGlsLmpzIiwid2VicGFjazovL3ByZWNpc2lvbmZhcm1zLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8zZC9sYXllcnMvc3VwcG9ydC9Qb3B1cFNjZW5lTGF5ZXJWaWV3LmpzIiwid2VicGFjazovL3ByZWNpc2lvbmZhcm1zLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8zZC9sYXllcnMvc3VwcG9ydC9oaWdobGlnaHRVdGlscy5qcyIsIndlYnBhY2s6Ly9wcmVjaXNpb25mYXJtcy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvM2Qvd2ViZ2wtZW5naW5lL3NoYWRlcnMvUG9pbnRSZW5kZXJlclRlY2huaXF1ZS5qcyIsIndlYnBhY2s6Ly9wcmVjaXNpb25mYXJtcy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvM2Qvd2ViZ2wtZW5naW5lL3NoYWRlcnMvUG9pbnRSZW5kZXJlclRlY2huaXF1ZUNvbmZpZ3VyYXRpb24uanMiLCJ3ZWJwYWNrOi8vcHJlY2lzaW9uZmFybXMvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzL2xheWVycy9MYXllclZpZXcuanMiLCJ3ZWJwYWNrOi8vcHJlY2lzaW9uZmFybXMvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzL2xheWVycy9Qb2ludENsb3VkTGF5ZXJWaWV3LmpzIiwid2VicGFjazovL3ByZWNpc2lvbmZhcm1zLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy9sYXllcnMvc3VwcG9ydC9wb3B1cFV0aWxzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjMzL2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7bnVtYmVyTWF4RmxvYXQzMiBhcyBlfWZyb21cIi4uL2NvcmUvbWF0aFV0aWxzLmpzXCI7aW1wb3J0e211bHRpcGx5IGFzIGksZnJvbVRyYW5zbGF0aW9uIGFzIG99ZnJvbVwiLi4vY29yZS9saWJzL2dsLW1hdHJpeC0yL21hdGgvbWF0NC5qc1wiO2ltcG9ydHtjcmVhdGUgYXMgcn1mcm9tXCIuLi9jb3JlL2xpYnMvZ2wtbWF0cml4LTIvZmFjdG9yaWVzL21hdDRmNjQuanNcIjtpbXBvcnR7c2V0IGFzIHR9ZnJvbVwiLi4vY29yZS9saWJzL2dsLW1hdHJpeC0yL21hdGgvdmVjMi5qc1wiO2ltcG9ydHtjcmVhdGUgYXMgYX1mcm9tXCIuLi9jb3JlL2xpYnMvZ2wtbWF0cml4LTIvZmFjdG9yaWVzL3ZlYzJmNjQuanNcIjtpbXBvcnR7aSBhcyBzfWZyb21cIi4vdmVjMzIuanNcIjtpbXBvcnR7Y3JlYXRlIGFzIG59ZnJvbVwiLi4vY29yZS9saWJzL2dsLW1hdHJpeC0yL2ZhY3Rvcmllcy92ZWMzZjY0LmpzXCI7aW1wb3J0e2NyZWF0ZSBhcyBjLHBvc2l0aXZlSW5maW5pdHkgYXMgbH1mcm9tXCIuLi9nZW9tZXRyeS9zdXBwb3J0L2FhQm91bmRpbmdCb3guanNcIjtpbXBvcnR7aXNDb2xvck9yQ29sb3JFbWlzc2lvbiBhcyBwfWZyb21cIi4uL3ZpZXdzLzNkL3dlYmdsLWVuZ2luZS9jb3JlL3NoYWRlckxpYnJhcnkvU2hhZGVyT3V0cHV0LmpzXCI7aW1wb3J0e1NsaWNlUGxhbmVQYXJhbWV0ZXJzIGFzIG0sUmVqZWN0QnlTbGljZSBhcyBkfWZyb21cIi4uL3ZpZXdzLzNkL3dlYmdsLWVuZ2luZS9jb3JlL3NoYWRlckxpYnJhcnkvU2xpY2UuZ2xzbC5qc1wiO2ltcG9ydHtPdXRwdXRIaWdobGlnaHQgYXMgZn1mcm9tXCIuLi92aWV3cy8zZC93ZWJnbC1lbmdpbmUvY29yZS9zaGFkZXJMaWJyYXJ5L291dHB1dC9PdXRwdXRIaWdobGlnaHQuZ2xzbC5qc1wiO2ltcG9ydHtSZ2JhRmxvYXRFbmNvZGluZyBhcyBnfWZyb21cIi4uL3ZpZXdzLzNkL3dlYmdsLWVuZ2luZS9jb3JlL3NoYWRlckxpYnJhcnkvdXRpbC9SZ2JhRmxvYXRFbmNvZGluZy5nbHNsLmpzXCI7aW1wb3J0e0Zsb2F0MkRyYXdVbmlmb3JtIGFzIHV9ZnJvbVwiLi4vdmlld3MvM2Qvd2ViZ2wtZW5naW5lL2NvcmUvc2hhZGVyTW9kdWxlcy9GbG9hdDJEcmF3VW5pZm9ybS5qc1wiO2ltcG9ydHtGbG9hdDJQYXNzVW5pZm9ybSBhcyB4fWZyb21cIi4uL3ZpZXdzLzNkL3dlYmdsLWVuZ2luZS9jb3JlL3NoYWRlck1vZHVsZXMvRmxvYXQyUGFzc1VuaWZvcm0uanNcIjtpbXBvcnR7RmxvYXQzRHJhd1VuaWZvcm0gYXMgU31mcm9tXCIuLi92aWV3cy8zZC93ZWJnbC1lbmdpbmUvY29yZS9zaGFkZXJNb2R1bGVzL0Zsb2F0M0RyYXdVbmlmb3JtLmpzXCI7aW1wb3J0e2dsc2wgYXMgd31mcm9tXCIuLi92aWV3cy8zZC93ZWJnbC1lbmdpbmUvY29yZS9zaGFkZXJNb2R1bGVzL2dsc2wuanNcIjtpbXBvcnR7TWF0cml4NEJpbmRVbmlmb3JtIGFzIHZ9ZnJvbVwiLi4vdmlld3MvM2Qvd2ViZ2wtZW5naW5lL2NvcmUvc2hhZGVyTW9kdWxlcy9NYXRyaXg0QmluZFVuaWZvcm0uanNcIjtpbXBvcnR7TWF0cml4NERyYXdVbmlmb3JtIGFzIGh9ZnJvbVwiLi4vdmlld3MvM2Qvd2ViZ2wtZW5naW5lL2NvcmUvc2hhZGVyTW9kdWxlcy9NYXRyaXg0RHJhd1VuaWZvcm0uanNcIjtpbXBvcnR7VmVydGV4QXR0cmlidXRlIGFzIHp9ZnJvbVwiLi4vdmlld3MvM2Qvd2ViZ2wtZW5naW5lL2xpYi9WZXJ0ZXhBdHRyaWJ1dGUuanNcIjtpbXBvcnR7Tm9QYXJhbWV0ZXJzIGFzIGJ9ZnJvbVwiLi4vdmlld3Mvd2ViZ2wvTm9QYXJhbWV0ZXJzLmpzXCI7aW1wb3J0e1NoYWRlckJ1aWxkZXIgYXMgTX1mcm9tXCIuLi92aWV3cy93ZWJnbC9TaGFkZXJCdWlsZGVyLmpzXCI7Y2xhc3MgaiBleHRlbmRzIGJ7Y29uc3RydWN0b3IoKXtzdXBlciguLi5hcmd1bWVudHMpLHRoaXMuY2xpcEJveD1jKGwpLHRoaXMudXNlRml4ZWRTaXplcz0hMSx0aGlzLnVzZVJlYWxXb3JsZFN5bWJvbFNpemVzPSExLHRoaXMuc2NhbGVGYWN0b3I9MSx0aGlzLm1pblNpemVQeD0wLHRoaXMuc2l6ZT0wLHRoaXMuc2l6ZVB4PTB9Z2V0IGZpeGVkU2l6ZSgpe3JldHVybiB0aGlzLmRyYXdTY3JlZW5TcGFjZT90aGlzLnNpemVQeDp0aGlzLnNpemV9Z2V0IHNjcmVlbk1pblNpemUoKXtyZXR1cm4gdGhpcy51c2VGaXhlZFNpemVzPzA6dGhpcy5taW5TaXplUHh9Z2V0IGRyYXdTY3JlZW5TcGFjZSgpe3JldHVybiB0aGlzLnVzZUZpeGVkU2l6ZXMmJiF0aGlzLnVzZVJlYWxXb3JsZFN5bWJvbFNpemVzfX1jbGFzcyBQIGV4dGVuZHMgbXtjb25zdHJ1Y3RvcihlLGksbyl7c3VwZXIoZSksdGhpcy5vcmlnaW49ZSx0aGlzLmlzTGVhZj1pLHRoaXMuc3BsYXRTaXplPW99fWZ1bmN0aW9uIHkocil7Y29uc3QgYT1uZXcgTSxuPXAoci5vdXRwdXQpLHt2ZXJ0ZXg6YyxmcmFnbWVudDpsfT1hO3JldHVybiBhLnZlcnRleC5pbmNsdWRlKGQsciksYS5hdHRyaWJ1dGVzLmFkZCh6LlBPU0lUSU9OLFwidmVjM1wiKSxhLmF0dHJpYnV0ZXMuYWRkKHouQ09MT1IsXCJ2ZWMzXCIpLGMudW5pZm9ybXMuYWRkKG5ldyBoKFwibW9kZWxWaWV3XCIsKChlLHIpPT5pKFIsci5jYW1lcmEudmlld01hdHJpeCxvKFIsZS5vcmlnaW4pKSkpLG5ldyB2KFwicHJvalwiLChlPT5lLmNhbWVyYS5wcm9qZWN0aW9uTWF0cml4KSksbmV3IHUoXCJzY3JlZW5NaW5NYXhTaXplXCIsKChlLGksbyk9PnQoRixvLnVzZUZpeGVkU2l6ZXM/MDpvLm1pblNpemVQeCppLmNhbWVyYS5waXhlbFJhdGlvLE8oZS5pc0xlYWYpKmkuY2FtZXJhLnBpeGVsUmF0aW8pKSksci51c2VGaXhlZFNpemVzP25ldyB4KFwicG9pbnRTY2FsZVwiLCgoZSxpKT0+dChGLGUuZml4ZWRTaXplKmkuY2FtZXJhLnBpeGVsUmF0aW8saS5jYW1lcmEuZnVsbEhlaWdodCkpKTpuZXcgdShcInBvaW50U2NhbGVcIiwoKGUsaSxvKT0+dChGLGUuc3BsYXRTaXplKm8uc2NhbGVGYWN0b3IqaS5jYW1lcmEucGl4ZWxSYXRpbyxpLmNhbWVyYS5mdWxsSGVpZ2h0L2kuY2FtZXJhLnBpeGVsUmF0aW8pKSkpLHIuY2xpcHBpbmdFbmFibGVkP2MudW5pZm9ybXMuYWRkKG5ldyBTKFwiY2xpcE1pblwiLCgoZSxpLG8pPT5zKEIsby5jbGlwQm94WzBdLWUub3JpZ2luWzBdLG8uY2xpcEJveFsxXS1lLm9yaWdpblsxXSxvLmNsaXBCb3hbMl0tZS5vcmlnaW5bMl0pKSksbmV3IFMoXCJjbGlwTWF4XCIsKChlLGksbyk9PnMoQixvLmNsaXBCb3hbM10tZS5vcmlnaW5bMF0sby5jbGlwQm94WzRdLWUub3JpZ2luWzFdLG8uY2xpcEJveFs1XS1lLm9yaWdpblsyXSkpKSk6KGMuY29uc3RhbnRzLmFkZChcImNsaXBNaW5cIixcInZlYzNcIixbLWUsLWUsLWVdKSxjLmNvbnN0YW50cy5hZGQoXCJjbGlwTWF4XCIsXCJ2ZWMzXCIsW2UsZSxlXSkpLG4mJmEudmFyeWluZ3MuYWRkKFwidkNvbG9yXCIsXCJ2ZWMzXCIpLGMubWFpbi5hZGQod2BcbiAgICAvLyBNb3ZlIGNsaXBwZWQgcG9pbnRzIG91dHNpZGUgb2YgY2xpcHNwYWNlXG4gICAgaWYgKHBvc2l0aW9uLnggPCBjbGlwTWluLnggfHwgcG9zaXRpb24ueSA8IGNsaXBNaW4ueSB8fCBwb3NpdGlvbi56IDwgY2xpcE1pbi56IHx8XG4gICAgICBwb3NpdGlvbi54ID4gY2xpcE1heC54IHx8IHBvc2l0aW9uLnkgPiBjbGlwTWF4LnkgfHwgcG9zaXRpb24ueiA+IGNsaXBNYXgueikge1xuICAgICAgZ2xfUG9zaXRpb24gPSB2ZWM0KDFlMDM4LCAxZTAzOCwgMWUwMzgsIDEuMCk7XG4gICAgICBnbF9Qb2ludFNpemUgPSAwLjA7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKHJlamVjdEJ5U2xpY2UocG9zaXRpb24pKSB7XG4gICAgICBnbF9Qb3NpdGlvbiA9IHZlYzQoMWUwMzgsIDFlMDM4LCAxZTAzOCwgMS4wKTtcbiAgICAgIGdsX1BvaW50U2l6ZSA9IDAuMDtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBQb3NpdGlvbiBpbiBjYW1lcmEgc3BhY2VcbiAgICB2ZWM0IGNhbWVyYSA9IG1vZGVsVmlldyAqIHZlYzQocG9zaXRpb24sIDEuMCk7XG5cbiAgICBmbG9hdCBwb2ludFNpemUgPSBwb2ludFNjYWxlLng7XG4gICAgdmVjNCBwb3NpdGlvbiA9IHByb2ogKiBjYW1lcmE7XG4gICAgJHtyLmRyYXdTY3JlZW5TaXplP3dgZmxvYXQgY2xhbXBlZFNjcmVlblNpemUgPSBwb2ludFNpemU7YDp3YGZsb2F0IHBvaW50UmFkaXVzID0gMC41ICogcG9pbnRTaXplO1xuICAgICAgICAgICB2ZWM0IGNhbWVyYU9mZnNldCA9IGNhbWVyYSArIHZlYzQoMC4wLCBwb2ludFJhZGl1cywgMC4wLCAwLjApO1xuICAgICAgICAgICB2ZWM0IHBvc2l0aW9uT2Zmc2V0ID0gcHJvaiAqIGNhbWVyYU9mZnNldDtcbiAgICAgICAgICAgZmxvYXQgcmFkaXVzID0gYWJzKHBvc2l0aW9uT2Zmc2V0LnkgLSBwb3NpdGlvbi55KTtcbiAgICAgICAgICAgZmxvYXQgdmlld0hlaWdodCA9IHBvaW50U2NhbGUueTtcbiAgICAgICAgICAgLy8gc2NyZWVuIGRpYW1ldGVyID0gKDIgKiByIC8gdykgKiAoaCAvIDIpXG4gICAgICAgICAgIGZsb2F0IHNjcmVlblBvaW50U2l6ZSA9IChyYWRpdXMgLyBwb3NpdGlvbi53KSAqIHZpZXdIZWlnaHQ7XG4gICAgICAgICAgIGZsb2F0IGNsYW1wZWRTY3JlZW5TaXplID0gY2xhbXAoc2NyZWVuUG9pbnRTaXplLCBzY3JlZW5NaW5NYXhTaXplLngsIHNjcmVlbk1pbk1heFNpemUueSk7XG4gICAgICAgICAgIC8vIFNoaWZ0IHRvd2FyZHMgY2FtZXJhLCB0byBtb3ZlIHJlbmRlcmVkIHBvaW50IG91dCBvZiB0ZXJyYWluIGkuZS4gdG9cbiAgICAgICAgICAgLy8gdGhlIGNhbWVyYS1mYWNpbmcgZW5kIG9mIHRoZSB2aXJ0dWFsIHBvaW50IHdoZW4gY29uc2lkZXJpbmcgaXQgYXMgYVxuICAgICAgICAgICAvLyAzRCBzcGhlcmUuXG4gICAgICAgICAgIGNhbWVyYS54eXogLT0gbm9ybWFsaXplKGNhbWVyYS54eXopICogcG9pbnRSYWRpdXMgKiBjbGFtcGVkU2NyZWVuU2l6ZSAvIHNjcmVlblBvaW50U2l6ZTtcbiAgICAgICAgICAgcG9zaXRpb24gPSBwcm9qICogY2FtZXJhO2B9XG5cbiAgICBnbF9Qb2ludFNpemUgPSBjbGFtcGVkU2NyZWVuU2l6ZTtcbiAgICBnbF9Qb3NpdGlvbiA9IHBvc2l0aW9uO1xuICAgICR7bj93YHZDb2xvciA9IGNvbG9yO2A6XCJcIn1gKSxsLmluY2x1ZGUoZyxyKSxhLmluY2x1ZGUoZixyKSxsLm1haW4uYWRkKHdgXG4gICAgdmVjMiB2T2Zmc2V0ID0gZ2xfUG9pbnRDb29yZCAtIHZlYzIoMC41LCAwLjUpO1xuICAgIGZsb2F0IHIyID0gZG90KHZPZmZzZXQsIHZPZmZzZXQpO1xuXG4gICAgaWYgKHIyID4gMC4yNSkge1xuICAgICAgZGlzY2FyZDtcbiAgICB9XG4gICAgY2FsY3VsYXRlT2NjbHVzaW9uQW5kT3V0cHV0SGlnaGxpZ2h0KCk7XG4gICAgJHtuP3dgZnJhZ0NvbG9yID0gdmVjNCh2Q29sb3IsIDEuMCk7YDpcIlwifWApLGF9ZnVuY3Rpb24gTyhlKXtyZXR1cm4gZT8yNTY6NjR9Y29uc3QgUj1yKCksQj1uKCksRj1hKCksXz1PYmplY3QuZnJlZXplKE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh7X19wcm90b19fOm51bGwsUG9pbnRSZW5kZXJlckRyYXdQYXJhbWV0ZXJzOlAsUG9pbnRSZW5kZXJlclBhc3NQYXJhbWV0ZXJzOmosYnVpbGQ6eSxnZXRNYXhQb2ludFNpemVTY3JlZW5zcGFjZTpPfSxTeW1ib2wudG9TdHJpbmdUYWcse3ZhbHVlOlwiTW9kdWxlXCJ9KSk7ZXhwb3J0e2ogYXMgUCxQIGFzIGEsXyBhcyBiLHkgYXMgYyxPIGFzIGd9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMzMvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtkZWcycmFkIGFzIGV9ZnJvbVwiLi4vLi4vY29yZS9tYXRoVXRpbHMuanNcIjtpbXBvcnR7Y3JlYXRlIGFzIHJ9ZnJvbVwiLi4vLi4vY29yZS9saWJzL2dsLW1hdHJpeC0yL2ZhY3Rvcmllcy92ZWMzZjY0LmpzXCI7aW1wb3J0e2dldFByb2plY3RvckNsYXNzaWZpY2F0aW9uIGFzIHQsY29weTMgYXMgbixQcm9qZWN0aW9uSUQgYXMgbyxwcm9qZWN0aW9uVGFibGUgYXMgcyx3Z3M4NFRvV2ViTWVyY2F0b3IgYXMgaX1mcm9tXCIuL3Byb2plY3RvcnMuanNcIjtpbXBvcnR7ZWFydGggYXMgY31mcm9tXCIuLi9zdXBwb3J0L0VsbGlwc29pZC5qc1wiO2Z1bmN0aW9uIGwoZSxyLGwsZil7aWYobnVsbD09cnx8bnVsbD09ZilyZXR1cm4hMTtjb25zdCBwPXQocixmKTtpZihudWxsPT1wPy5wcm9qZWN0b3IpcmV0dXJuITE7aWYocC5wcm9qZWN0b3I9PT1uKXJldHVybiBsWzBdPWVbMF0sbFsxXT1lWzFdLGxbMl09ZVsyXSxsWzNdPWVbM10sITA7Y29uc3R7c291cmNlOkUsZGVzdDptLHByb2plY3RvcjpSfT1wO2lmKG0uc3BhdGlhbFJlZmVyZW5jZUlkPT09by5XRUJfTUVSQ0FUT1Ipe2NvbnN0IHI9c1tFLnNwYXRpYWxSZWZlcmVuY2VJZF1bby5XR1M4NF07cmV0dXJuIG51bGwhPXImJihyKGUsMCx1LDApLGkodSwwLGwsMCksbFszXT1hKHVbMV0sZVsyXSxlWzNdLGMucmFkaXVzKSwhMCl9aWYoRS5zcGF0aWFsUmVmZXJlbmNlSWQhPT1vLldHUzg0JiZFLnNwYXRpYWxSZWZlcmVuY2VJZCE9PW8uQ0dDUzIwMDB8fG0uc3BhdGlhbFJlZmVyZW5jZUlkIT09by5QTEFURV9DQVJSRUUpe1IoZSwwLGwsMCk7Y29uc3Qgcj1FLm1ldGVyc1BlclVuaXQ/PzEsdD1tLm1ldGVyc1BlclVuaXQ/PzE7bFszXT1lWzNdKnIvdH1lbHNle2NvbnN0IHI9c1tFLnNwYXRpYWxSZWZlcmVuY2VJZF1bby5TUEhFUklDQUxfRUNFRl0sdD1zW28uU1BIRVJJQ0FMX0VDRUZdW28uUExBVEVfQ0FSUkVFXTtsZXQgbj1lWzNdO251bGwhPXImJm51bGwhPXQmJihuPWEoZVsxXSxlWzJdLGVbM10sYy5yYWRpdXMpKSxSKGUsMCxsLDApLGxbM109bn1yZXR1cm4hMH1mdW5jdGlvbiBhKGUscix0LG4pe2NvbnN0IG89bityO2lmKG88bi8yfHx0Pm8pcmV0dXJuIE51bWJlci5NQVhfVkFMVUU7Y29uc3Qgcz1NYXRoLmFicyhmKmUpK01hdGguYXNpbih0L28pO3JldHVybiBzPj1NYXRoLlBJLzI/TnVtYmVyLk1BWF9WQUxVRTp0L01hdGguY29zKHMpfWNvbnN0IHU9cigpLGY9ZSgxKTtleHBvcnR7bCBhcyBwcm9qZWN0Qm91bmRpbmdTcGhlcmV9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMzMvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbnZhciBuLG8sRTshZnVuY3Rpb24obil7bltuLlZJU0lCTEVfT05MWT0wXT1cIlZJU0lCTEVfT05MWVwiLG5bbi5BTEw9MV09XCJBTExcIixuW24uUVVFUllBQkxFPTJdPVwiUVVFUllBQkxFXCJ9KG58fChuPXt9KSksZnVuY3Rpb24obil7bltuLkVYSVQ9MF09XCJFWElUXCIsbltuLkNPTlRJTlVFPTFdPVwiQ09OVElOVUVcIixuW24uU0tJUD0yXT1cIlNLSVBcIn0ob3x8KG89e30pKSxmdW5jdGlvbihuKXtuW24uQWJzb2x1dGU9MF09XCJBYnNvbHV0ZVwiLG5bbi5SZWxhdGl2ZVRvR3JvdW5kPTFdPVwiUmVsYXRpdmVUb0dyb3VuZFwiLG5bbi5PblRoZUdyb3VuZD0yXT1cIk9uVGhlR3JvdW5kXCJ9KEV8fChFPXt9KSk7ZXhwb3J0e0UgYXMgRWxldmF0aW9uTW9kZSxuIGFzIEZvckFsbEZlYXR1cmVzTW9kZSxvIGFzIEZvckFsbEZlYXR1cmVzUmV0dXJuVHlwZX07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4zMy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e18gYXMgb31mcm9tXCIuLi8uLi8uLi9jaHVua3MvdHNsaWIuZXM2LmpzXCI7aW1wb3J0e21ha2VIYW5kbGUgYXMgc31mcm9tXCIuLi8uLi8uLi9jb3JlL2hhbmRsZVV0aWxzLmpzXCI7aW1wb3J0e3Rocm93SWZBYm9ydGVkIGFzIGV9ZnJvbVwiLi4vLi4vLi4vY29yZS9wcm9taXNlVXRpbHMuanNcIjtpbXBvcnR7d2hlbk9uY2UgYXMgdH1mcm9tXCIuLi8uLi8uLi9jb3JlL3JlYWN0aXZlVXRpbHMuanNcIjtpbXBvcnR7cHJvcGVydHkgYXMgcn1mcm9tXCIuLi8uLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3Byb3BlcnR5LmpzXCI7aW1wb3J0XCIuLi8uLi8uLi9jb3JlL2hhcy5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vY29yZS9Mb2dnZXIuanNcIjtpbXBvcnRcIi4uLy4uLy4uL2NvcmUvUmFuZG9tTENHLmpzXCI7aW1wb3J0e3N1YmNsYXNzIGFzIGl9ZnJvbVwiLi4vLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9zdWJjbGFzcy5qc1wiO2ltcG9ydHtzdXBwb3J0c0hlaWdodE1vZGVsSW5mbyBhcyBwLHJlamVjdExheWVyRXJyb3IgYXMgYX1mcm9tXCIuLi8uLi8uLi9nZW9tZXRyeS9zdXBwb3J0L2hlaWdodE1vZGVsSW5mb1V0aWxzLmpzXCI7Y29uc3QgbD1sPT57bGV0IG49Y2xhc3MgZXh0ZW5kcyBse2NvbnN0cnVjdG9yKCl7c3VwZXIoLi4uYXJndW1lbnRzKSx0aGlzLnNsaWNlUGxhbmVFbmFibGVkPSExLHRoaXMuc3VwcG9ydHNIZWlnaHRVbml0Q29udmVyc2lvbj0hMX1wb3N0c2NyaXB0KCl7c3VwZXIucG9zdHNjcmlwdCgpLHAodGhpcy5sYXllcikmJnRoaXMuYWRkUmVzb2x2aW5nUHJvbWlzZSh0aGlzLl92YWxpZGF0ZUhlaWdodE1vZGVsSW5mbygpKX1hc3luYyBfdmFsaWRhdGVIZWlnaHRNb2RlbEluZm8oKXtjb25zdCBvPW5ldyBBYm9ydENvbnRyb2xsZXIscj1vLnNpZ25hbDt0aGlzLmFkZEhhbmRsZXMocygoKCk9Pm8uYWJvcnQoKSkpKSxhd2FpdCB0KCgoKT0+dGhpcy52aWV3LmRlZmF1bHRzRnJvbU1hcD8uaGVpZ2h0TW9kZWxJbmZvUmVhZHkpLHIpLGUocik7Y29uc3QgaT1hKHRoaXMubGF5ZXIsdGhpcy52aWV3LmhlaWdodE1vZGVsSW5mbyx0aGlzLnN1cHBvcnRzSGVpZ2h0VW5pdENvbnZlcnNpb24pO2lmKGkpdGhyb3cgaX19O3JldHVybiBvKFtyKCldLG4ucHJvdG90eXBlLFwidmlld1wiLHZvaWQgMCksbyhbcigpXSxuLnByb3RvdHlwZSxcInNsaWNlUGxhbmVFbmFibGVkXCIsdm9pZCAwKSxuPW8oW2koXCJlc3JpLnZpZXdzLjNkLmxheWVycy5MYXllclZpZXczRFwiKV0sbiksbn07ZXhwb3J0e2wgYXMgTGF5ZXJWaWV3M0R9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMzMvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtfIGFzIGV9ZnJvbVwiLi4vLi4vLi4vY2h1bmtzL3RzbGliLmVzNi5qc1wiO2ltcG9ydCB0IGZyb21cIi4uLy4uLy4uL0dyYXBoaWMuanNcIjtpbXBvcnR7aXNTb21lIGFzIGl9ZnJvbVwiLi4vLi4vLi4vY29yZS9hcnJheVV0aWxzLmpzXCI7aW1wb3J0e3Jlc3VsdCBhcyByLGZvckVhY2ggYXMgc31mcm9tXCIuLi8uLi8uLi9jb3JlL2FzeW5jVXRpbHMuanNcIjtpbXBvcnRcIi4uLy4uLy4uL2NvcmUvaGFzLmpzXCI7aW1wb3J0IG8gZnJvbVwiLi4vLi4vLi4vY29yZS9Mb2dnZXIuanNcIjtpbXBvcnR7ZGVzdHJveU1heWJlIGFzIG4sYWJvcnRNYXliZSBhcyBhfWZyb21cIi4uLy4uLy4uL2NvcmUvbWF5YmUuanNcIjtpbXBvcnR7ZXN0aW1hdGVOdW1iZXJBcnJheU1lbW9yeSBhcyBkLGJhc2VPYmplY3RNZW1vcnkgYXMgbCxlc3RpbWF0ZU51bWJlck1lbW9yeSBhcyB1LGVzdGltYXRlRml4ZWRBcnJheU1lbW9yeSBhcyBoLGJhc2VBcnJheU1lbW9yeSBhcyBwfWZyb21cIi4uLy4uLy4uL2NvcmUvbWVtb3J5RXN0aW1hdGlvbnMuanNcIjtpbXBvcnR7aXNBYm9ydEVycm9yIGFzIGMsYWxsU2V0dGxlZFZhbHVlcyBhcyBfLHRocm93SWZBYm9ydGVkIGFzIG19ZnJvbVwiLi4vLi4vLi4vY29yZS9wcm9taXNlVXRpbHMuanNcIjtpbXBvcnR7aW5pdGlhbCBhcyBnLHdhdGNoIGFzIGYsc3luYyBhcyB5fWZyb21cIi4uLy4uLy4uL2NvcmUvcmVhY3RpdmVVdGlscy5qc1wiO2ltcG9ydHtwdDJweCBhcyBifWZyb21cIi4uLy4uLy4uL2NvcmUvc2NyZWVuVXRpbHMuanNcIjtpbXBvcnR7aXNBcnJheUJ1ZmZlciBhcyB3fWZyb21cIi4uLy4uLy4uL2NvcmUvdHlwZWRBcnJheVV0aWwuanNcIjtpbXBvcnR7cHJvcGVydHkgYXMgTn1mcm9tXCIuLi8uLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3Byb3BlcnR5LmpzXCI7aW1wb3J0e3N1YmNsYXNzIGFzIFB9ZnJvbVwiLi4vLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9zdWJjbGFzcy5qc1wiO2ltcG9ydHtsIGFzIHgsZiBhcyB2LGUgYXMgQyxjIGFzIEl9ZnJvbVwiLi4vLi4vLi4vY2h1bmtzL3ZlYzMyLmpzXCI7aW1wb3J0e2Nsb25lIGFzIFN9ZnJvbVwiLi4vLi4vLi4vY29yZS9saWJzL2dsLW1hdHJpeC0yL2ZhY3Rvcmllcy92ZWMzZjMyLmpzXCI7aW1wb3J0e2Zyb21WYWx1ZXMgYXMgQX1mcm9tXCIuLi8uLi8uLi9jb3JlL2xpYnMvZ2wtbWF0cml4LTIvZmFjdG9yaWVzL3ZlYzNmNjQuanNcIjtpbXBvcnQgUiBmcm9tXCIuLi8uLi8uLi9nZW9tZXRyeS9FeHRlbnQuanNcIjtpbXBvcnQgaiBmcm9tXCIuLi8uLi8uLi9nZW9tZXRyeS9Qb2ludC5qc1wiO2ltcG9ydHtwcm9qZWN0Qm91bmRpbmdTcGhlcmUgYXMga31mcm9tXCIuLi8uLi8uLi9nZW9tZXRyeS9wcm9qZWN0aW9uL3Byb2plY3RCb3VuZGluZ1NwaGVyZS5qc1wiO2ltcG9ydHtwcm9qZWN0VmVjdG9yVG9WZWN0b3IgYXMgVn1mcm9tXCIuLi8uLi8uLi9nZW9tZXRyeS9wcm9qZWN0aW9uL3Byb2plY3RWZWN0b3JUb1ZlY3Rvci5qc1wiO2ltcG9ydHtjcmVhdGUgYXMgUSxmcm9tTWluTWF4IGFzIER9ZnJvbVwiLi4vLi4vLi4vZ2VvbWV0cnkvc3VwcG9ydC9hYUJvdW5kaW5nQm94LmpzXCI7aW1wb3J0e2Zyb21Ob3JtYWxBbmRPZmZzZXQgYXMgRSxjcmVhdGUgYXMgRn1mcm9tXCIuLi8uLi8uLi9nZW9tZXRyeS9zdXBwb3J0L3BsYW5lLmpzXCI7aW1wb3J0e2YgYXMgTH1mcm9tXCIuLi8uLi8uLi9jaHVua3Mvc3BoZXJlLmpzXCI7aW1wb3J0IFUgZnJvbVwiLi4vLi4vLi4vbGF5ZXJzL2dyYXBoaWNzL09wdGltaXplZEdlb21ldHJ5LmpzXCI7aW1wb3J0e1F1ZXJ5RW5naW5lIGFzIE19ZnJvbVwiLi4vLi4vLi4vbGF5ZXJzL2dyYXBoaWNzL2RhdGEvUXVlcnlFbmdpbmUuanNcIjtpbXBvcnR7Q29kZWRWYWx1ZSBhcyBxfWZyb21cIi4uLy4uLy4uL2xheWVycy9zdXBwb3J0L0NvZGVkVmFsdWUuanNcIjtpbXBvcnQgTyBmcm9tXCIuLi8uLi8uLi9sYXllcnMvc3VwcG9ydC9Db2RlZFZhbHVlRG9tYWluLmpzXCI7aW1wb3J0XCIuLi8uLi8uLi9sYXllcnMvc3VwcG9ydC9Eb21haW4uanNcIjtpbXBvcnRcIi4uLy4uLy4uL2xheWVycy9zdXBwb3J0L0luaGVyaXRlZERvbWFpbi5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vbGF5ZXJzL3N1cHBvcnQvUmFuZ2VEb21haW4uanNcIjtpbXBvcnR7dW5wYWNrRmllbGROYW1lcyBhcyBXfWZyb21cIi4uLy4uLy4uL2xheWVycy9zdXBwb3J0L2ZpZWxkVXRpbHMuanNcIjtpbXBvcnR7UHJvbWlzZVF1ZXVlIGFzIEd9ZnJvbVwiLi4vLi4vLi4vbGF5ZXJzL3N1cHBvcnQvUHJvbWlzZVF1ZXVlLmpzXCI7aW1wb3J0IHogZnJvbVwiLi4vLi4vLi4vcmVzdC9zdXBwb3J0L0ZlYXR1cmVTZXQuanNcIjtpbXBvcnQgSCBmcm9tXCIuLi8uLi8uLi9yZXN0L3N1cHBvcnQvUXVlcnkuanNcIjtpbXBvcnR7Z2V0RWxldmF0aW9uT2Zmc2V0IGFzIEJ9ZnJvbVwiLi4vLi4vLi4vc3VwcG9ydC9lbGV2YXRpb25JbmZvVXRpbHMuanNcIjtpbXBvcnR7Rm9yQWxsRmVhdHVyZXNSZXR1cm5UeXBlIGFzIFR9ZnJvbVwiLi9JSTNTTWVzaFZpZXczRC5qc1wiO2ltcG9ydHtMYXllclZpZXczRCBhcyAkfWZyb21cIi4vTGF5ZXJWaWV3M0QuanNcIjtpbXBvcnR7UG9pbnRDbG91ZExheWVyVmlld1BlcmZvcm1hbmNlSW5mbyBhcyBKLFF1ZXVlUGVyZm9ybWFuY2VJbmZvIGFzIEt9ZnJvbVwiLi9Qb2ludENsb3VkTGF5ZXJWaWV3UGVyZm9ybWFuY2VJbmZvLmpzXCI7aW1wb3J0e1BvaW50Q2xvdWRXb3JrZXJIYW5kbGUgYXMgWH1mcm9tXCIuL1BvaW50Q2xvdWRXb3JrZXJIYW5kbGUuanNcIjtpbXBvcnR7STNTUXVlcnlGZWF0dXJlU3RvcmUgYXMgWn1mcm9tXCIuL2kzcy9JM1NRdWVyeUZlYXR1cmVTdG9yZS5qc1wiO2ltcG9ydHtjaGVja1BvaW50Q2xvdWRMYXllclZhbGlkIGFzIFksY2hlY2tQb2ludENsb3VkTGF5ZXJDb21wYXRpYmxlV2l0aFZpZXcgYXMgZWV9ZnJvbVwiLi9pM3MvSTNTVXRpbC5qc1wiO2ltcG9ydHtub2RlRGlmZiBhcyB0ZSxzb3J0RnJvbnRUb0JhY2sgYXMgaWUsc3BsaXRXb3JrRW50cmllcyBhcyByZX1mcm9tXCIuL2kzcy9Mb0RVdGlsLmpzXCI7aW1wb3J0e1BhZ2VkTm9kZUluZGV4IGFzIHNlfWZyb21cIi4vaTNzL1BhZ2VkTm9kZUluZGV4LmpzXCI7aW1wb3J0e1BvaW50Q2xvdWRHcmFwaGljIGFzIG9lfWZyb21cIi4vaTNzL1BvaW50Q2xvdWRHcmFwaGljLmpzXCI7aW1wb3J0e1BvaW50Q2xvdWRSZW5kZXJlciBhcyBuZX1mcm9tXCIuL2kzcy9Qb2ludENsb3VkUmVuZGVyZXIuanNcIjtpbXBvcnR7aXNQb2ludFJlbmRlcmVyTm9kZSBhcyBhZSxQb2ludENsb3VkUmVuZGVyZXJOb2RlIGFzIGRlfWZyb21cIi4vaTNzL1BvaW50Q2xvdWRSZW5kZXJlck5vZGUuanNcIjtpbXBvcnR7Z2V0U3BsYXRTaXplQWxnb3JpdGhtIGFzIGxlLGdldEZpeGVkU2l6ZUFsZ29yaXRobSBhcyB1ZSxnZXRSZW5kZXJlckluZm8gYXMgaGUsZ2V0RmlsdGVySW5mbyBhcyBwZSxyZW5kZXJlclVzZXNGaXhlZFNpemVzIGFzIGNlLGdldEF0dHJpYnV0ZUluZm8gYXMgX2V9ZnJvbVwiLi9pM3MvUG9pbnRDbG91ZFJlbmRlcmVyVXRpbC5qc1wiO2ltcG9ydHtnZXRBdHRyaWJ1dGVWYWx1ZXMgYXMgbWUscmVhZEdlb21ldHJ5IGFzIGdlLGVsZXZhdGlvbkZyb21Qb3NpdGlvbnMgYXMgZmV9ZnJvbVwiLi9pM3MvUG9pbnRDbG91ZFdvcmtlclV0aWwuanNcIjtpbXBvcnR7ZW1wdHlIaWdobGlnaHRIYW5kbGUgYXMgeWUsbm9ybWFsaXplSGlnaGxpZ2h0VGFyZ2V0RXhjZXB0UXVlcnkgYXMgYmV9ZnJvbVwiLi9zdXBwb3J0L2hpZ2hsaWdodFV0aWxzLmpzXCI7aW1wb3J0e1BvcHVwU2NlbmVMYXllclZpZXcgYXMgd2V9ZnJvbVwiLi9zdXBwb3J0L1BvcHVwU2NlbmVMYXllclZpZXcuanNcIjtpbXBvcnR7cHJvamVjdFRvQm91bmRpbmdCb3ggYXMgTmV9ZnJvbVwiLi4vc3VwcG9ydC9leHRlbnRVdGlscy5qc1wiO2ltcG9ydHtjb21wdXRlTWFwUG9pbnRGcm9tVmVjM2QgYXMgUGV9ZnJvbVwiLi4vc3VwcG9ydC9oaXRUZXN0LmpzXCI7aW1wb3J0e0NsaWVudFR5cGUgYXMgeGV9ZnJvbVwiLi4vc3VwcG9ydC9pbmRleC5qc1wiO2ltcG9ydHtPYmIgYXMgdmV9ZnJvbVwiLi4vc3VwcG9ydC9vcmllbnRlZEJvdW5kaW5nQm94LmpzXCI7aW1wb3J0e3VwZGF0aW5nUHJvZ3Jlc3MgYXMgQ2V9ZnJvbVwiLi4vc3VwcG9ydC91cGRhdGluZ1Byb3BlcnRpZXMuanNcIjtpbXBvcnQgSWUgZnJvbVwiLi4vLi4vbGF5ZXJzL0xheWVyVmlldy5qc1wiO2ltcG9ydCBTZSBmcm9tXCIuLi8uLi9sYXllcnMvUG9pbnRDbG91ZExheWVyVmlldy5qc1wiO2ltcG9ydHtkZWZhdWx0SGlnaGxpZ2h0TmFtZSBhcyBBZX1mcm9tXCIuLi8uLi9zdXBwb3J0L0hpZ2hsaWdodERlZmF1bHRzLmpzXCI7aW1wb3J0e2lzSW5FZmZlY3RpdmVTY2FsZVJhbmdlIGFzIFJlfWZyb21cIi4uLy4uL3N1cHBvcnQvbGF5ZXJWaWV3VXRpbHMuanNcIjtpbXBvcnR7VGFza1ByaW9yaXR5IGFzIGplfWZyb21cIi4uLy4uL3N1cHBvcnQvU2NoZWR1bGVyLmpzXCI7Y29uc3Qga2U9OCxWZT1GKCk7bGV0IFFlPWNsYXNzIGV4dGVuZHMoU2Uod2UoJChJZSkpKSl7Y29uc3RydWN0b3IoKXtzdXBlciguLi5hcmd1bWVudHMpLHRoaXMudHlwZT1cInBvaW50LWNsb3VkLTNkXCIsdGhpcy5tYXhpbXVtUG9pbnRDb3VudD00ZTYsdGhpcy5zbGljZVBsYW5lRW5hYmxlZD0hMSx0aGlzLl9yZW5kZXJlcj1udWxsLHRoaXMuX3JlbmRlcmVyQWRkZWQ9ITEsdGhpcy5fcmVuZGVyZWROb2Rlcz1uZXcgU2V0LHRoaXMuX3VwZGF0ZVZpZXdOZWVkZWQ9ITAsdGhpcy5fbG9kRmFjdG9yPTEsdGhpcy5fbWF4TG9nZ2VkQm94V2FybmluZ3M9NSx0aGlzLl9wYWdlTXVsdGlwbGllcj0xLHRoaXMuX25vZGVMb2FkRXBvY2g9MCx0aGlzLl9pbmRleFF1ZXVlPVtdLHRoaXMuX3dvcmtRdWV1ZT1uZXcgQXJyYXksdGhpcy5faWRsZVF1ZXVlPW5ldyBHLHRoaXMuX2luZGV4UGFnZXNMb2FkaW5nPW5ldyBNYXAsdGhpcy5fbG9hZGluZ05vZGVzPW5ldyBNYXAsdGhpcy5fcmVjYWxjV29yaz0hMCx0aGlzLl9sYXllcklzVmlzaWJsZT0hMSx0aGlzLl9jb2RlZERvbWFpblBvcHVsYXRpb25Qcm9taXNlPW51bGwsdGhpcy5fY29kZWREb21haW5Qb3B1bGF0aW9uQWJvcnRDb250cm9sbGVyPW51bGwsdGhpcy5fdG90YWxXb3JrPTAsdGhpcy5faW5kZXg9bnVsbCx0aGlzLl9sb2FkaW5nSW5pdE5vZGVQYWdlPSExLHRoaXMuX25vZGVJZEFycmF5PVtdLHRoaXMuaWdub3Jlc01lbW9yeUZhY3Rvcj0hMX1nZXQgYmFzZVVybCgpe3JldHVybiB0aGlzLmxheWVyLnBhcnNlZFVybD8ucGF0aD8/XCJcIn1nZXQgcG9pbnRTY2FsZSgpe2NvbnN0IGU9bGUodGhpcy5sYXllcj8ucmVuZGVyZXIpLHQ9MTtyZXR1cm4gbnVsbCE9ZT8uc2NhbGVGYWN0b3I/ZS5zY2FsZUZhY3Rvcjp0fWdldCB1c2VSZWFsV29ybGRTeW1ib2xTaXplcygpe2NvbnN0IGU9dWUodGhpcy5sYXllcj8ucmVuZGVyZXIpLHQ9ITE7cmV0dXJuIG51bGwhPWU/LnVzZVJlYWxXb3JsZFN5bWJvbFNpemVzP2UudXNlUmVhbFdvcmxkU3ltYm9sU2l6ZXM6dH1nZXQgcG9pbnRTaXplKCl7Y29uc3QgZT11ZSh0aGlzLmxheWVyPy5yZW5kZXJlciksdD0wO3JldHVybiBudWxsIT1lPy5zaXplP2Uuc2l6ZTp0fWdldCBpbnZlcnNlRGVuc2l0eSgpe2NvbnN0IGU9OTY7cmV0dXJuIHRoaXMubGF5ZXI/LnJlbmRlcmVyPzEqZS90aGlzLmxheWVyLnJlbmRlcmVyLnBvaW50c1BlckluY2g6NX1nZXQgYXZhaWxhYmxlRmllbGRzKCl7Y29uc3QgZT1oZSh0aGlzLmxheWVyKSx0PW5ldyBTZXQ7ZS5wcmltYXJ5QXR0cmlidXRlJiZ0LmFkZChlLnByaW1hcnlBdHRyaWJ1dGUubmFtZSksZS5tb2R1bGF0aW9uQXR0cmlidXRlJiZ0LmFkZChlLm1vZHVsYXRpb25BdHRyaWJ1dGUubmFtZSk7Y29uc3QgaT1wZSh0aGlzLmxheWVyKTtpZihpKWZvcihjb25zdCByIG9mIGkpci5hdHRyaWJ1dGVJbmZvJiZ0LmFkZChyLmF0dHJpYnV0ZUluZm8ubmFtZSk7aWYodGhpcy5sYXllci5vdXRGaWVsZHMpZm9yKGNvbnN0IHIgb2YgVyh0aGlzLmxheWVyLmZpZWxkc0luZGV4LHRoaXMubGF5ZXIub3V0RmllbGRzKSl0LmFkZChyKTtyZXR1cm4gQXJyYXkuZnJvbSh0KX1nZXQgX2NsaXBwaW5nQm94KCl7aWYoIXRoaXMudmlld3x8IXRoaXMudmlldy5jbGlwcGluZ0FyZWEpcmV0dXJuIG51bGw7Y29uc3QgZT1RKCksdD10aGlzLnZpZXcucmVuZGVyU3BhdGlhbFJlZmVyZW5jZTtyZXR1cm4gTmUodGhpcy52aWV3LmNsaXBwaW5nQXJlYSxlLHQpP2U6bnVsbH1nZXQgX2VsZXZhdGlvbk9mZnNldCgpe2NvbnN0IGU9dGhpcy5sYXllciYmdGhpcy5sYXllci5lbGV2YXRpb25JbmZvO3JldHVybiBlJiZcImFic29sdXRlLWhlaWdodFwiPT09ZS5tb2RlP0IoZSx0aGlzLmxheWVyLnNwYXRpYWxSZWZlcmVuY2UpOjB9aW5pdGlhbGl6ZSgpe2NvbnN0IGU9dGhpcy52aWV3LnJlc291cmNlQ29udHJvbGxlcix0PVVlKGUpO3RoaXMuX3dvcmtlcj1uZXcgWCh0KSx0aGlzLmFkZFJlc29sdmluZ1Byb21pc2UodGhpcy5fd29ya2VyLnByb21pc2UpLFkodGhpcy5sYXllciksZWUodGhpcy5sYXllcix0aGlzLnZpZXcpLHRoaXMuX2luZGV4UmVxdWVzdGVyPWUuY3JlYXRlU3RyZWFtRGF0YVJlcXVlc3Rlcih4ZS5JM1NfSU5ERVgpLHRoaXMuX2RhdGFSZXF1ZXN0ZXI9ZS5jcmVhdGVTdHJlYW1EYXRhUmVxdWVzdGVyKHhlLkkzU19EQVRBKSx0aGlzLl9pbml0UmVuZGVyZXIoKTtjb25zdCBpPXRoaXMuX2luaXROb2RlUGFnZXMoKSxyPXRoaXMudmlldy5yZXNvdXJjZUNvbnRyb2xsZXIubWVtb3J5Q29udHJvbGxlcjt0aGlzLl9tZW1DYWNoZT1yLm5ld0NhY2hlKGBwY2wtJHt0aGlzLmxheWVyLnVpZH1gKSx0aGlzLl9xdWVyeUZlYXR1cmVzQ2FjaGU9ci5uZXdDYWNoZShgcGNsLXF1ZXJ5LWZlYXR1cmVzLSR7dGhpcy5sYXllci51aWR9O2ApLHRoaXMuX3VwZGF0aW5nSGFuZGxlcy5hZGQoKCgpPT50aGlzLl9jbGlwcGluZ0JveCksKCgpPT50aGlzLl9zZXRVcGRhdGVWaWV3TmVlZGVkKCkpLGcpLHRoaXMuX3VwZGF0aW5nSGFuZGxlcy5hZGQoKCgpPT50aGlzLl9lbGV2YXRpb25PZmZzZXQpLCgoKT0+dGhpcy5fZWxldmF0aW9uT2Zmc2V0Q2hhbmdlZCgpKSxnKSx0aGlzLl91cGRhdGluZ0hhbmRsZXMuYWRkKCgoKT0+dGhpcy5sYXllci5yZW5kZXJlciksKCgpPT50aGlzLl9yZW5kZXJlckNoYW5nZWQoKSksZyksdGhpcy5fdXBkYXRpbmdIYW5kbGVzLmFkZCgoKCk9PnRoaXMubGF5ZXIuZmlsdGVycyksKCgpPT50aGlzLl9yZWxvYWQoKSksZyksdGhpcy5fdXBkYXRpbmdIYW5kbGVzLmFkZCgoKCk9PnRoaXMubGF5ZXIub3V0RmllbGRzKSwoKCk9PnRoaXMuX3JlbG9hZCgpKSxnKSx0aGlzLl91cGRhdGluZ0hhbmRsZXMuYWRkKCgoKT0+dGhpcy5sYXllci5lZmZlY3RpdmVTY2FsZVJhbmdlKSwoKCk9PnRoaXMuX3NldFVwZGF0ZVZpZXdOZWVkZWQoKSkpLHRoaXMuX3VwZGF0aW5nSGFuZGxlcy5hZGQoKCgpPT50aGlzLnZpZXcuc3RhdGUuY29udGVudENhbWVyYSksKCgpPT50aGlzLl9zZXRVcGRhdGVWaWV3TmVlZGVkKCkpKSx0aGlzLmFkZEhhbmRsZXMoW2YoKCgpPT50aGlzLnZpZXcucXVhbGl0eSksKCgpPT50aGlzLl9zZXRVcGRhdGVWaWV3TmVlZGVkKCkpLHkpXSksdGhpcy5hZGRSZXNvbHZpbmdQcm9taXNlKGkpLHRoaXMud2hlbigoKCk9Pnt0aGlzLmFkZEhhbmRsZXMoW2Uuc2NoZWR1bGVyLnJlZ2lzdGVyVGFzayhqZS5QT0lOVF9DTE9VRF9MQVlFUix0aGlzKSxlLnNjaGVkdWxlci5yZWdpc3RlcklkbGVTdGF0ZUNhbGxiYWNrcygoKCk9PnRoaXMuX2lkbGVCZWdpbigpKSwoKCk9PnRoaXMuX2lkbGVFbmQoKSkpLHRoaXMuX3VwZGF0aW5nSGFuZGxlcy5hZGQoKCgpPT50aGlzLnN1c3BlbmRlZCksKGU9PntlP3RoaXMuX2NsZWFyTm9kZVN0YXRlKCk6dGhpcy5fc2V0VXBkYXRlVmlld05lZWRlZCgpfSksZyldKX0pLCgoKT0+e3RoaXMuX3VwZGF0aW5nSGFuZGxlcy5yZW1vdmVBbGwoKSx0aGlzLnJlbW92ZUFsbEhhbmRsZXMoKX0pKX1fc2V0VXBkYXRlVmlld05lZWRlZCgpe3RoaXMuX3VwZGF0ZVZpZXdOZWVkZWQ9ITAsdGhpcy5fdXBkYXRlTG9hZGluZygpfWRlc3Ryb3koKXt0aGlzLmNhbmNlbExvYWRpbmcoKSx0aGlzLl93b3JrZXI9bih0aGlzLl93b3JrZXIpLHRoaXMuX2Rlc3Ryb3lSZW5kZXJlcigpLHRoaXMuX21lbUNhY2hlPW4odGhpcy5fbWVtQ2FjaGUpLHRoaXMuX3F1ZXJ5RmVhdHVyZXNDYWNoZT1uKHRoaXMuX3F1ZXJ5RmVhdHVyZXNDYWNoZSksdGhpcy5fcXVlcnlFbmdpbmU9bih0aGlzLl9xdWVyeUVuZ2luZSksdGhpcy5fY29kZWREb21haW5Qb3B1bGF0aW9uQWJvcnRDb250cm9sbGVyPWEodGhpcy5fY29kZWREb21haW5Qb3B1bGF0aW9uQWJvcnRDb250cm9sbGVyKSx0aGlzLl9jb2RlZERvbWFpblBvcHVsYXRpb25Qcm9taXNlPW51bGx9X2luaXRSZW5kZXJlcigpe3RoaXMuX3JlbmRlcmVyPW5ldyBuZSh7Y3JlYXRlR3JhcGhpYzooZSx0LGkpPT50aGlzLl9jcmVhdGVHcmFwaGljKGUsdCxpKX0pLHRoaXMuX3JlbmRlcmVyLmxheWVyVmlld1VpZD10aGlzLnVpZCx0aGlzLl91cGRhdGluZ0hhbmRsZXMuYWRkKCgoKT0+dGhpcy5fY2xpcHBpbmdCb3gpLChlPT50aGlzLl9yZW5kZXJlci5jbGlwcGluZ0JveD1lKSxnKSx0aGlzLl91cGRhdGluZ0hhbmRsZXMuYWRkKCgoKT0+dGhpcy5zdXNwZW5kZWQpLChlPT50aGlzLl9zZXRQb2ludHNWaXNpYmxlKCFlKSksZyksdGhpcy5fdXBkYXRpbmdIYW5kbGVzLmFkZCgoKCk9PnRoaXMucG9pbnRTY2FsZSksKGU9PnRoaXMuX3JlbmRlcmVyLnNjYWxlRmFjdG9yPWUpLGcpLHRoaXMuX3JlbmRlcmVyLm1pblNpemVQeD1NYXRoLnNxcnQoMiksdGhpcy5fdXBkYXRpbmdIYW5kbGVzLmFkZCgoKCk9PnRoaXMudXNlUmVhbFdvcmxkU3ltYm9sU2l6ZXMpLChlPT50aGlzLl9yZW5kZXJlci51c2VSZWFsV29ybGRTeW1ib2xTaXplcz1lKSxnKSx0aGlzLl91cGRhdGluZ0hhbmRsZXMuYWRkKCgoKT0+dGhpcy5wb2ludFNpemUpLChlPT57Y29uc3QgdD1iKGUpO3RoaXMuX3JlbmRlcmVyLnNpemU9ZSx0aGlzLl9yZW5kZXJlci5zaXplUHg9dH0pLGcpLHRoaXMuX3VwZGF0aW5nSGFuZGxlcy5hZGQoKCgpPT50aGlzLnNsaWNlUGxhbmVFbmFibGVkKSwoZT0+dGhpcy5fcmVuZGVyZXIuc2xpY2VQbGFuZUVuYWJsZWQ9ZSksZyksdGhpcy5fdXBkYXRpbmdIYW5kbGVzLmFkZCgoKCk9PnRoaXMuaW52ZXJzZURlbnNpdHkpLCgoKT0+dGhpcy5fc2V0VXBkYXRlVmlld05lZWRlZCgpKSxnKSx0aGlzLl91cGRhdGluZ0hhbmRsZXMuYWRkKCgoKT0+dGhpcy5tYXhpbXVtUG9pbnRDb3VudCksKCgpPT50aGlzLl9zZXRVcGRhdGVWaWV3TmVlZGVkKCkpLGcpLHRoaXMuX3VwZGF0aW5nSGFuZGxlcy5hZGQoKCgpPT50aGlzLnZpZXcucXVhbGl0eVNldHRpbmdzLnNjZW5lU2VydmljZS5wb2ludENsb3VkLmxvZEZhY3RvciksKGU9Pnt0aGlzLl9sb2RGYWN0b3I9ZSx0aGlzLl9zZXRVcGRhdGVWaWV3TmVlZGVkKCl9KSxnKX1fZGVzdHJveVJlbmRlcmVyKCl7dGhpcy5fcmVuZGVyZXIucmVtb3ZlQWxsKCksdGhpcy5fc2V0UG9pbnRzVmlzaWJsZSghMSl9X2NyZWF0ZUdyYXBoaWMoZSx0LGkscil7Y29uc3Qgcz1udWxsIT1lLnBvaW50SWRGaWx0ZXJNYXA/ZS5wb2ludElkRmlsdGVyTWFwW3RdOnQsbz1pP1wiZGVjbGFyZWRDbGFzc1wiaW4gaT9pOlBlKHRoaXMudmlldyxpKTpudWxsO3JldHVybiByPz89dGhpcy5fY3JlYXRlR3JhcGhpY0F0dHJpYnV0ZXMoZSxzKSxuZXcgb2Uoe3BvaW50Q2xvdWRNZXRhZGF0YTp7bm9kZUlkOmUuaWQscG9pbnRJbmRleEluTm9kZTp0LGF0dHJpYnV0ZVBvaW50SW5kZXhJbk5vZGU6cyxlcG9jaDp0aGlzLl9ub2RlTG9hZEVwb2NofSxnZW9tZXRyeTpvLGF0dHJpYnV0ZXM6cixsYXllcjp0aGlzLmxheWVyLHNvdXJjZUxheWVyOnRoaXMubGF5ZXJ9KX1fY3JlYXRlR3JhcGhpY0F0dHJpYnV0ZXMoZSx0KXtjb25zdCBpPXt9O2Zvcihjb25zdCByIG9mIGUuYXR0cmlidXRlcyl0aGlzLl9lbmNvZGVHcmFwaGljQXR0cmlidXRlKHIuYXR0cmlidXRlSW5mbyxyLnZhbHVlcyx0LGkpO3JldHVybiBpfV9nZXRHcmFwaGljQXR0cmlidXRlKGUsdCxpKXtjb25zdCByPWUuc3RvcmFnZUluZm8/LmF0dHJpYnV0ZVZhbHVlcyxzPXI/LnZhbHVlc1BlckVsZW1lbnQ/PzE7aWYoMT09PXMpcmV0dXJuIHRbaV07aWYoXCJVSW50OFwiPT09cj8udmFsdWVUeXBlJiZzPD00KXtsZXQgZT0wO2NvbnN0IHI9aSpzO2ZvcihsZXQgaT1yO2k8citzO2krKyllPShlPDw4KSt0W2ldO3JldHVybiBlfX1fZW5jb2RlR3JhcGhpY0F0dHJpYnV0ZShlLHQsaSxyKXtyW2UubmFtZV09dGhpcy5fZ2V0R3JhcGhpY0F0dHJpYnV0ZShlLHQsaSl9X3NldFBvaW50c1Zpc2libGUoZSl7ZSYmIXRoaXMuX3JlbmRlcmVyQWRkZWQ/KHRoaXMudmlldy5zdGFnZS5hZGRSZW5kZXJQbHVnaW4odGhpcy5fcmVuZGVyZXIpLHRoaXMuX3JlbmRlcmVyQWRkZWQ9ITApOiFlJiZ0aGlzLl9yZW5kZXJlckFkZGVkJiYodGhpcy52aWV3LnN0YWdlLnJlbW92ZVJlbmRlclBsdWdpbih0aGlzLl9yZW5kZXJlciksdGhpcy5fcmVuZGVyZXJBZGRlZD0hMSl9X3JlbmRlcmVyQ2hhbmdlZCgpe3RoaXMuX3JlbmRlcmVyLnVzZUZpeGVkU2l6ZXM9Y2UodGhpcy5sYXllci5yZW5kZXJlciksdGhpcy5fcmVsb2FkKCl9X3JlbG9hZCgpe3RoaXMuX2NsZWFyTm9kZVN0YXRlKCksdGhpcy5fbWVtQ2FjaGUuY2xlYXIoKSx0aGlzLl9zZXRVcGRhdGVWaWV3TmVlZGVkKCl9X2VsZXZhdGlvbk9mZnNldENoYW5nZWQoKXt0aGlzLl9jbGVhck5vZGVTdGF0ZSgpLHRoaXMuX21lbUNhY2hlLmNsZWFyKCksdGhpcy5faW5pdE5vZGVQYWdlcygpfV9kaXNwbGF5Tm9kZXMoZSl7dGhpcy5fd29ya1F1ZXVlPXRlKFsuLi50aGlzLl9yZW5kZXJlZE5vZGVzXSxlLHRoaXMuX2luZGV4KSxpZSh0aGlzLl93b3JrUXVldWUsdGhpcy52aWV3LnN0YXRlLmNvbnRlbnRDYW1lcmEudmlld0ZvcndhcmQsdGhpcy5faW5kZXgpLHJlKHRoaXMuX3dvcmtRdWV1ZSxrZSx0aGlzLl9pbmRleCksdGhpcy5fdXBkYXRlUXVldWVzKCksdGhpcy5fdG90YWxXb3JrPXRoaXMuX2NvbXB1dGVXb3JrKCksdGhpcy5fdXBkYXRlTG9hZGluZygpLHRoaXMuX2xheWVySXNWaXNpYmxlPWUubGVuZ3RoPjB8fHRoaXMuX2xvYWRpbmdJbml0Tm9kZVBhZ2UsdGhpcy5ub3RpZnlDaGFuZ2UoXCJzdXNwZW5kZWRcIil9Y2FuY2VsTG9hZGluZygpe3RoaXMuX2NhbmNlbE5vZGVMb2FkaW5nKCksdGhpcy5fY2FuY2VsSW5kZXhMb2FkaW5nKCl9X2NhbmNlbE5vZGVMb2FkaW5nKCl7Y29uc3QgZT1uZXcgQXJyYXk7dGhpcy5fbG9hZGluZ05vZGVzLmZvckVhY2goKCh7YWJvcnRDb250cm9sbGVyOnR9KT0+ZS5wdXNoKHQpKSksdGhpcy5fbG9hZGluZ05vZGVzLmNsZWFyKCk7Zm9yKGNvbnN0IHQgb2YgZSl0LmFib3J0KCk7dGhpcy5fd29ya1F1ZXVlPVtdLHRoaXMuX2lkbGVRdWV1ZS5jYW5jZWxBbGwoKSx0aGlzLl90b3RhbFdvcms9dGhpcy5fY29tcHV0ZVdvcmsoKSx0aGlzLl91cGRhdGVMb2FkaW5nKCl9X3VwZGF0ZVF1ZXVlcygpe2NvbnN0IGU9bmV3IFNldDt0aGlzLl93b3JrUXVldWUuZm9yRWFjaCgodD0+dC5sb2FkLmZvckVhY2goKHQ9PmUuYWRkKHQpKSkpKTtjb25zdCB0PW5ldyBBcnJheSxpPW5ldyBNYXA7dGhpcy5fbG9hZGluZ05vZGVzLmZvckVhY2goKChyLHMpPT57ZS5oYXMocyk/aS5zZXQocyxyKTp0LnB1c2gocil9KSksdGhpcy5fbG9hZGluZ05vZGVzPWk7Zm9yKGNvbnN0e2Fib3J0Q29udHJvbGxlcjpyfW9mIHQpci5hYm9ydCgpO3RoaXMuX3dvcmtRdWV1ZT10aGlzLl93b3JrUXVldWUuZmlsdGVyKChlPT57Zm9yKGNvbnN0IHQgb2YgZS5sb2FkKWlmKHRoaXMuX2xvYWRpbmdOb2Rlcy5oYXModCkpcmV0dXJuIHRoaXMuX3JlY2FsY1dvcms9ITAsITE7cmV0dXJuITB9KSksdGhpcy5fdG90YWxXb3JrPXRoaXMuX2NvbXB1dGVXb3JrKCksdGhpcy5fdXBkYXRlTG9hZGluZygpfV9jYW5jZWxJbmRleExvYWRpbmcoKXt0aGlzLl9pbmRleFF1ZXVlPVtdLHRoaXMuX2luZGV4UGFnZXNMb2FkaW5nLmZvckVhY2goKCh7YWJvcnRDb250cm9sbGVyOmV9KT0+ZS5hYm9ydCgpKSksdGhpcy5faW5kZXhQYWdlc0xvYWRpbmcuY2xlYXIoKSx0aGlzLl90b3RhbFdvcms9dGhpcy5fY29tcHV0ZVdvcmsoKSx0aGlzLl91cGRhdGVMb2FkaW5nKCl9X2NsZWFyTm9kZVN0YXRlKCl7dGhpcy5fbm9kZUxvYWRFcG9jaCsrLHRoaXMuX3JlbmRlcmVkTm9kZXMuZm9yRWFjaCgoZT0+dGhpcy5fcmVtb3ZlRnJvbVJlbmRlcmVyKGUpKSksdGhpcy5fY2FuY2VsTm9kZUxvYWRpbmcoKX1faWRsZUJlZ2luKCl7dGhpcy5fc2V0VXBkYXRlVmlld05lZWRlZCgpfV9pZGxlRW5kKCl7dGhpcy5fc2V0VXBkYXRlVmlld05lZWRlZCgpfWdldCBydW5uaW5nKCl7cmV0dXJuIHRoaXMuc3VzcGVuZGVkP3RoaXMuX3VwZGF0ZVZpZXdOZWVkZWQ6dGhpcy5fdXBkYXRlVmlld05lZWRlZHx8dGhpcy5faW5kZXhRdWV1ZS5sZW5ndGg+MHx8dGhpcy5fd29ya1F1ZXVlLmxlbmd0aD4wfHx0aGlzLl9pZGxlUXVldWUucnVubmluZ31ydW5UYXNrKGUpe2lmKHRoaXMuc3VzcGVuZGVkKXtpZih0aGlzLl91cGRhdGVWaWV3TmVlZGVkKXt0aGlzLl91cGRhdGVWaWV3TmVlZGVkPSExO2NvbnN0IGU9dGhpcy5faXNSb290Tm9kZVZpc2libGUoKTtlIT09dGhpcy5fbGF5ZXJJc1Zpc2libGUmJih0aGlzLl9sYXllcklzVmlzaWJsZT1lLHRoaXMubm90aWZ5Q2hhbmdlKFwic3VzcGVuZGVkXCIpKSx0aGlzLl91cGRhdGVMb2FkaW5nKCl9fWVsc2V7Zm9yKGUucnVuKCgoKT0+dGhpcy5fdXBkYXRlV29ya1F1ZXVlcygpKSk7dGhpcy5faW5kZXhRdWV1ZS5sZW5ndGg+MCYmZS5ydW4oKCgpPT50aGlzLl9wcm9jZXNzSW5kZXhRdWV1ZSgpKSk7KTt0aGlzLl9wcm9jZXNzV29ya1F1ZXVlKGUpLHRoaXMuX2lkbGVRdWV1ZS5ydW5UYXNrKGUpfX1fcHJvY2Vzc0luZGV4UXVldWUoKXtjb25zdCBlPXRoaXMuX2luZGV4UXVldWUuc2hpZnQoKSx0PXRoaXMuX2xvYWROb2RlUGFnZShlKTtyZXR1cm4gdGhpcy5faW5kZXhQYWdlc0xvYWRpbmcuc2V0KGUsdCksdC5wcm9taXNlLnRoZW4oKHQ9Pnt0aGlzLl9pbmRleC5hZGRQYWdlKGUsdCx0aGlzLl9lbGV2YXRpb25PZmZzZXQpLHRoaXMuX3NldFVwZGF0ZVZpZXdOZWVkZWQoKX0pKS50aGVuKCgoKT0+e3RoaXMuX2luZGV4UGFnZXNMb2FkaW5nLmRlbGV0ZShlKX0pLCgoKT0+e3RoaXMuX2luZGV4UGFnZXNMb2FkaW5nLmRlbGV0ZShlKX0pKSwhMH1fcHJvY2Vzc1dvcmtRdWV1ZShlKXtmb3IoOyFlLmRvbmU7KXtjb25zdCB0PXRoaXMuX3NjaGVkdWxlV29ya0VudHJ5KCk7aWYobnVsbD09dClyZXR1cm4gdm9pZCBlLm1hZGVQcm9ncmVzcygpO3RoaXMuX3Byb2Nlc3NXb3JrRW50cnkodCksZS5tYWRlUHJvZ3Jlc3MoKX19X3NjaGVkdWxlV29ya0VudHJ5KCl7bGV0IGU9dGhpcy5fd29ya1F1ZXVlLmxlbmd0aDtmb3IoO2UtLTspe2NvbnN0IGU9dGhpcy5fd29ya1F1ZXVlLnNoaWZ0KCk7aWYoIWUucmVtb3ZlLmZpbmQoKGU9PiF0aGlzLl9yZW5kZXJlZE5vZGVzLmhhcyhlKSkpKXJldHVybiBlO3RoaXMuX3dvcmtRdWV1ZS5wdXNoKGUpfXJldHVybiBudWxsfV9wcm9jZXNzV29ya0VudHJ5KGUpe2lmKDAhPT1lLmxvYWQubGVuZ3RoKVByb21pc2UuYWxsKGUubG9hZC5tYXAoKGU9Pntjb25zdCB0PW5ldyBBYm9ydENvbnRyb2xsZXIsaT10aGlzLl9tZW1DYWNoZS5wb3AoZS50b1N0cmluZygpKTtyZXR1cm4gbnVsbCE9aT90aGlzLl9sb2FkaW5nTm9kZXMuc2V0KGUse2Fib3J0Q29udHJvbGxlcjp0LHByb21pc2U6UHJvbWlzZS5yZXNvbHZlKGkpfSk6dGhpcy5fbG9hZGluZ05vZGVzLmhhcyhlKXx8dGhpcy5fbG9hZGluZ05vZGVzLnNldChlLHthYm9ydENvbnRyb2xsZXI6dCxwcm9taXNlOnRoaXMuX2xvYWROb2RlKGUsdC5zaWduYWwpfSksdGhpcy5fbG9hZGluZ05vZGVzLmdldChlKS5wcm9taXNlfSkpKS50aGVuKCh0PT57Zm9yKGxldCBpPTA7aTxlLmxvYWQubGVuZ3RoO2krKylpZih0W2ldKXtjb25zdCByPXRoaXMuX3NldHVwUmVuZGVyZXJEYXRhKGUubG9hZFtpXSx0W2ldKTt0aGlzLl9hZGRUb1JlbmRlcmVyKHIpfWZvcihjb25zdCBpIG9mIGUucmVtb3ZlKXRoaXMuX3JlbW92ZUZyb21SZW5kZXJlcihpKX0pKS5jYXRjaCgoKCk9Pnt9KSkudGhlbigoKCk9Pntmb3IoY29uc3QgdCBvZiBlLmxvYWQpdGhpcy5fbG9hZGluZ05vZGVzLmRlbGV0ZSh0KTt0aGlzLl91cGRhdGVMb2FkaW5nKCksdGhpcy5fcmVjYWxjV29yayYmIXRoaXMuX2lkbGVRdWV1ZS51cGRhdGluZyYmMD09PXRoaXMuX2luZGV4UXVldWUubGVuZ3RoJiYwPT09dGhpcy5fbG9hZGluZ05vZGVzLnNpemUmJih0aGlzLl9yZWNhbGNXb3JrPSExLHRoaXMuX3NldFVwZGF0ZVZpZXdOZWVkZWQoKSl9KSksdGhpcy5fdXBkYXRlTG9hZGluZygpO2Vsc2UgZm9yKGNvbnN0IHQgb2YgZS5yZW1vdmUpdGhpcy5fcmVtb3ZlRnJvbVJlbmRlcmVyKHQpfWFzeW5jIF9wb3B1bGF0ZUNsYXNzQ29kZUNvZGVkRG9tYWluKGUsdCl7Y29uc3QgaT1cIkNMQVNTX0NPREVcIixzPXRoaXMubGF5ZXIuZmllbGRzSW5kZXguZ2V0KGkpO2lmKCFzfHxzLmRvbWFpbilyZXR1cm47aWYoIWUuaW5jbHVkZXMocy5uYW1lKSlyZXR1cm47Y29uc3Qgbz1hd2FpdCByKHRoaXMubGF5ZXIucXVlcnlDYWNoZWRTdGF0aXN0aWNzKGkse3NpZ25hbDp0fSkpO2lmKCExPT09by5vaylyZXR1cm47Y29uc3Qgbj1vLnZhbHVlPy5zdGF0cz8ubGFiZWxzPy5sYWJlbHM7biYmQXJyYXkuaXNBcnJheShuKSYmKHMuZG9tYWluPW5ldyBPKHtuYW1lOlwiQ0xBU1NfQ09ERVwiLGNvZGVkVmFsdWVzOm4ubWFwKChlPT5uZXcgcSh7Y29kZTplLnZhbHVlLG5hbWU6ZS5sYWJlbH0pKSl9KSl9YXN5bmMgcHJlcGFyZUZldGNoUG9wdXBGZWF0dXJlcyhlKXtyZXR1cm4gdGhpcy5fY29kZWREb21haW5Qb3B1bGF0aW9uUHJvbWlzZXx8KHRoaXMuX2NvZGVkRG9tYWluUG9wdWxhdGlvbkFib3J0Q29udHJvbGxlcj1uZXcgQWJvcnRDb250cm9sbGVyLHRoaXMuX2NvZGVkRG9tYWluUG9wdWxhdGlvblByb21pc2U9dGhpcy5fcG9wdWxhdGVDbGFzc0NvZGVDb2RlZERvbWFpbihlLHRoaXMuX2NvZGVkRG9tYWluUG9wdWxhdGlvbkFib3J0Q29udHJvbGxlci5zaWduYWwpLnRoZW4oKCgpPT57dGhpcy5fY29kZWREb21haW5Qb3B1bGF0aW9uQWJvcnRDb250cm9sbGVyPW51bGx9KSkpLHRoaXMuX2NvZGVkRG9tYWluUG9wdWxhdGlvblByb21pc2V9YXN5bmMgd2hlbkdyYXBoaWNBdHRyaWJ1dGVzKGUsdCl7Y29uc3Qgcj10aGlzLl9zcGxpdEdyYXBoaWNzUGVyTm9kZShlKSxvPXRoaXMubGF5ZXIuYXR0cmlidXRlU3RvcmFnZUluZm8sbj10Lm1hcCgoZT0+X2UobyxlKSkpLmZpbHRlcihpKSxhPWFzeW5jKGUsdCk9Pntjb25zdCBpPXRoaXMuX2luZGV4LmdldE5vZGUodCk7YXdhaXQgcyhuLChhc3luYyB0PT57Y29uc3Qgcj10LnVzZUVsZXZhdGlvbj9hd2FpdCB0aGlzLl9sb2FkRWxldmF0aW9uQXR0cmlidXRlRnJvbUdlb21ldHJ5KGkucmVzb3VyY2VJZCk6YXdhaXQgdGhpcy5fbG9hZEFuZFBhcnNlQXR0cmlidXRlKGksdCk7aWYocilmb3IoY29uc3QgaSBvZiBlKWlmKHRoaXMuX2lzVmFsaWRQb2ludEdyYXBoaWMoaSkpe2NvbnN0IGU9aS5wb2ludENsb3VkTWV0YWRhdGEuYXR0cmlidXRlUG9pbnRJbmRleEluTm9kZTt0aGlzLl9lbmNvZGVHcmFwaGljQXR0cmlidXRlKHQscixlLGkuYXR0cmlidXRlcyl9fSkpfSxkPVtdO3JldHVybiByLmZvckVhY2goKChlLHQpPT57ZC5wdXNoKGEoZSx0KSl9KSksYXdhaXQgUHJvbWlzZS5hbGxTZXR0bGVkKGQpLGV9X2lzVmFsaWRQb2ludEdyYXBoaWMoZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiBvZSYmZS5wb2ludENsb3VkTWV0YWRhdGE/LmVwb2NoPT09dGhpcy5fbm9kZUxvYWRFcG9jaH1fc3BsaXRHcmFwaGljc1Blck5vZGUoZSl7Y29uc3QgdD1uZXcgTWFwO2Zvcihjb25zdCBpIG9mIGUpe2lmKCF0aGlzLl9pc1ZhbGlkUG9pbnRHcmFwaGljKGkpKWNvbnRpbnVlO2NvbnN0IGU9aS5wb2ludENsb3VkTWV0YWRhdGEscj10LmdldChlLm5vZGVJZCk7cj9yLnB1c2goaSk6dC5zZXQoZS5ub2RlSWQsW2ldKX1yZXR1cm4gdH1hc3luYyBfbG9hZEFuZFBhcnNlQXR0cmlidXRlKGUsdCl7Y29uc3QgaT1hd2FpdCB0aGlzLl9sb2FkQXR0cmlidXRlKGUucmVzb3VyY2VJZCx0LG51bGwpO3JldHVybiBpP21lKHthdHRyaWJ1dGVJbmZvOnQsYnVmZmVyOml9LG51bGwsZS52ZXJ0ZXhDb3VudCk6bnVsbH1hc3luYyBfbG9hZEVsZXZhdGlvbkF0dHJpYnV0ZUZyb21HZW9tZXRyeShlKXtjb25zdCB0PXRoaXMubGF5ZXIuc3RvcmUuZGVmYXVsdEdlb21ldHJ5U2NoZW1hLGk9Z2UodCxhd2FpdCB0aGlzLl9sb2FkR2VvbWV0cnkoZSxudWxsKSk7cmV0dXJuIGZlKGksaS5sZW5ndGgvMyl9aGlnaGxpZ2h0KGUsaSl7aWYoIWV8fGUgaW5zdGFuY2VvZiBIKXJldHVybiB5ZTtjb25zdCByPWJlKGUpO2lmKDA9PT1yLmxlbmd0aClyZXR1cm4geWU7aWYoIShyWzBdaW5zdGFuY2VvZiB0KSlyZXR1cm4geWU7Y29uc3Qgcz1yO3JldHVybiB0aGlzLl9yZW5kZXJlci5oaWdobGlnaHQocy5tYXAoKGU9PnRoaXMuX2dyYXBoaWNUb1BvaW50RGVmaW5pdGlvbihlKSkpLGk/Lm5hbWU/P0FlKX1fZ3JhcGhpY1RvUG9pbnREZWZpbml0aW9uKGUpe2lmKCF0aGlzLl9pc1ZhbGlkUG9pbnRHcmFwaGljKGUpKXJldHVybiBudWxsO2NvbnN0e25vZGVJZDp0LHBvaW50SW5kZXhJbk5vZGU6aX09ZS5wb2ludENsb3VkTWV0YWRhdGE7cmV0dXJuIG51bGwhPXQmJm51bGwhPWk/e25vZGVJZDp0LHBvaW50SWQ6aX06bnVsbH1fY29tcHV0ZVdvcmsoKXtsZXQgZT0wO2Zvcihjb25zdCB0IG9mIHRoaXMuX3dvcmtRdWV1ZSllKz10LmxvYWQubGVuZ3RoK3QucmVtb3ZlLmxlbmd0aDtyZXR1cm4gZSs9dGhpcy5fbG9hZGluZ05vZGVzLnNpemUsZSs9KHRoaXMuX2luZGV4UXVldWUubGVuZ3RoK3RoaXMuX2luZGV4UGFnZXNMb2FkaW5nLnNpemUpKnRoaXMuX2luZGV4LnBhZ2VTaXplLGUrPXRoaXMuX2xvYWRpbmdJbml0Tm9kZVBhZ2U/MTAwOjAsZSs9dGhpcy5fdXBkYXRlVmlld05lZWRlZD8xMDA6MCxlfWdldCB1cGRhdGluZ1Byb2dyZXNzVmFsdWUoKXtpZih0aGlzLnN1c3BlbmRlZClyZXR1cm4gdGhpcy5fdXBkYXRlVmlld05lZWRlZD8wOjE7Y29uc3QgZT10aGlzLl9jb21wdXRlV29yaygpO3JldHVybiAxLU1hdGgubWluKHRoaXMuX3RvdGFsV29yayxlKS90aGlzLl90b3RhbFdvcmt9X3VwZGF0ZUxvYWRpbmcoKXt0aGlzLm5vdGlmeUNoYW5nZShcInVwZGF0aW5nXCIpLHRoaXMubm90aWZ5Q2hhbmdlKFwidXBkYXRpbmdQcm9ncmVzc1ZhbHVlXCIpfWNhblJlc3VtZSgpe3JldHVybiBzdXBlci5jYW5SZXN1bWUoKSYmdGhpcy5fbGF5ZXJJc1Zpc2libGV9aXNVcGRhdGluZygpe3JldHVybiB0aGlzLnN1c3BlbmRlZD90aGlzLl91cGRhdGVWaWV3TmVlZGVkOnRoaXMuX2NvbXB1dGVXb3JrKCk+MH1nZXQgdmlzaWJsZUF0Q3VycmVudFNjYWxlKCl7cmV0dXJuIFJlKHRoaXMubGF5ZXIuZWZmZWN0aXZlU2NhbGVSYW5nZSx0aGlzLnZpZXcuc2NhbGUpfWFzeW5jIHF1ZXJ5RmVhdHVyZXMoZSxpKXtjb25zdCByPWF3YWl0IHRoaXMuX2Vuc3VyZVF1ZXJ5RW5naW5lKCkuZXhlY3V0ZVF1ZXJ5KHRoaXMuX2Vuc3VyZVF1ZXJ5SlNPTihlKSxpPy5zaWduYWwpLHM9ci5mZWF0dXJlcztyLmZlYXR1cmVzPVtdO2NvbnN0IG89ei5mcm9tSlNPTihyKSxuPXRoaXMudmlldy5zcGF0aWFsUmVmZXJlbmNlO3JldHVybiBvLmZlYXR1cmVzPXMubWFwKChlPT57Y29uc3R7YXR0cmlidXRlczppLG1ldGFkYXRhOnJ9PWU7aWYoIXIpe2NvbnN0IGk9dC5mcm9tSlNPTihlKTtyZXR1cm4gaS5nZW9tZXRyeSYmKGkuZ2VvbWV0cnkuc3BhdGlhbFJlZmVyZW5jZT1vLnNwYXRpYWxSZWZlcmVuY2U/P24pLGl9Y29uc3Qgcz1qLmZyb21KU09OKGUuZ2VvbWV0cnkpO3JldHVybiBzLnNwYXRpYWxSZWZlcmVuY2U9by5zcGF0aWFsUmVmZXJlbmNlPz9uLHRoaXMuX2NyZWF0ZUdyYXBoaWMoci5ub2RlLHIucG9pbnRJZCxzLGkpfSkpLG99Y3JlYXRlUXVlcnkoKXtjb25zdCBlPXtvdXRGaWVsZHM6W1wiKlwiXSxyZXR1cm5HZW9tZXRyeTohMCxvdXRTcGF0aWFsUmVmZXJlbmNlOnRoaXMudmlldy5zcGF0aWFsUmVmZXJlbmNlLHJldHVyblo6ITB9O3JldHVybiBuZXcgSChlKX1hc3luYyBxdWVyeUZlYXR1cmVDb3VudChlLHQpe3JldHVybiBhd2FpdCB0aGlzLl9lbnN1cmVRdWVyeUVuZ2luZSgpLmV4ZWN1dGVRdWVyeUZvckNvdW50KHRoaXMuX2Vuc3VyZVF1ZXJ5SlNPTihlKSx0Py5zaWduYWwpfWFzeW5jIHF1ZXJ5RXh0ZW50KGUsdCl7Y29uc3R7Y291bnQ6aSxleHRlbnQ6cn09YXdhaXQgdGhpcy5fZW5zdXJlUXVlcnlFbmdpbmUoKS5leGVjdXRlUXVlcnlGb3JFeHRlbnQodGhpcy5fZW5zdXJlUXVlcnlKU09OKGUpLHQ/LnNpZ25hbCk7cmV0dXJue2NvdW50OmksZXh0ZW50OlIuZnJvbUpTT04ocil9fV9lbnN1cmVRdWVyeUpTT04oZSl7cmV0dXJuIG51bGw9PWU/bmV3IEgoe291dFNwYXRpYWxSZWZlcmVuY2U6dGhpcy52aWV3LnNwYXRpYWxSZWZlcmVuY2V9KS50b0pTT04oKTpILmZyb20oZSkudG9KU09OKCl9X2Vuc3VyZVF1ZXJ5RW5naW5lKCl7aWYodGhpcy5fcXVlcnlFbmdpbmUpcmV0dXJuIHRoaXMuX3F1ZXJ5RW5naW5lO2NvbnN0e3NwYXRpYWxSZWZlcmVuY2U6ZX09dGhpcy52aWV3O3JldHVybiB0aGlzLl9xdWVyeUVuZ2luZT1uZXcgTSh7ZmllbGRzSW5kZXg6dGhpcy5sYXllci5maWVsZHNJbmRleC50b0pTT04oKSxnZW9tZXRyeVR5cGU6XCJlc3JpR2VvbWV0cnlQb2ludFwiLHNwYXRpYWxSZWZlcmVuY2U6ZSxmZWF0dXJlSWRJbmZvOnt0eXBlOlwib2JqZWN0LWlkXCIsZmllbGROYW1lOlwib2JqZWN0SWRcIn0saGFzWjohMCxmZWF0dXJlU3RvcmU6bmV3IFooe3NvdXJjZVNwYXRpYWxSZWZlcmVuY2U6ZSx2aWV3U3BhdGlhbFJlZmVyZW5jZTplLGZvckFsbEZlYXR1cmVzOihlLHQpPT57bGV0IGk9ITE7dGhpcy5fcmVuZGVyZXIuZm9yRWFjaE5vZGUoKHI9PntpZihpKXJldHVybjtpZih0KXtjb25zdCBlPXIub2JiLHM9TChlLmNlbnRlclswXSxlLmNlbnRlclsxXSxlLmNlbnRlclsyXSx4KGUuaGFsZlNpemUpKTtrKHMsdGhpcy52aWV3LnJlbmRlclNwYXRpYWxSZWZlcmVuY2Uscyx0aGlzLnZpZXcuc3BhdGlhbFJlZmVyZW5jZSk7Y29uc3Qgbz10KHMpO2lmKG89PT1ULlNLSVApcmV0dXJuO2lmKGk9bz09PVQuRVhJVCxpKXJldHVybn1sZXQgcz10aGlzLl9xdWVyeUZlYXR1cmVzQ2FjaGUuZ2V0KGAke3IuaWR9YCk7c3x8KHM9dGhpcy5fY3JlYXRlUXVlcnlQb2ludEZlYXR1cmVzKHIpLHRoaXMuX3F1ZXJ5RmVhdHVyZXNDYWNoZS5wdXQoYCR7ci5pZH1gLHMpKSxzLmZlYXR1cmVzLmZvckVhY2goZSl9KSl9LGdldEZlYXR1cmVFeHRlbnQ6KHtwb2ludDplfSx0KT0+RChlLGUsdCksZmVhdHVyZUFkYXB0ZXI6e2Nsb25lV2l0aEdlb21ldHJ5OihlLHQpPT5uZXcgRWUoZS5ub2RlLGUucG9pbnRJZCx0LmNvb3JkcyksZ2V0QXR0cmlidXRlOih7bm9kZTplLGF0dHJpYnV0ZVBvaW50SWQ6dH0saSk9Pntmb3IoY29uc3QgciBvZiBlLmF0dHJpYnV0ZXMpaWYoci5hdHRyaWJ1dGVJbmZvLm5hbWU9PT1pKXJldHVybiB0aGlzLl9nZXRHcmFwaGljQXR0cmlidXRlKHIuYXR0cmlidXRlSW5mbyxyLnZhbHVlcyx0KX0sZ2V0QXR0cmlidXRlczooe25vZGU6ZSxhdHRyaWJ1dGVQb2ludElkOnR9KT0+dGhpcy5fY3JlYXRlR3JhcGhpY0F0dHJpYnV0ZXMoZSx0KSxnZXRDZW50cm9pZDplPT5lLmdldEdlb21ldHJ5KCksZ2V0R2VvbWV0cnk6ZT0+ZS5nZXRHZW9tZXRyeSgpLGdldE9iamVjdElkOigpPT57fSxnZXRNZXRhZGF0YTplPT5lfX0pfSksdGhpcy5fcXVlcnlFbmdpbmV9X2NyZWF0ZVF1ZXJ5UG9pbnRGZWF0dXJlcyhlKXtjb25zdCB0PWUuY29vcmRpbmF0ZXMsaT1uZXcgQXJyYXk7Zm9yKGxldCByPTA7cjx0Lmxlbmd0aC8zO3IrKyl7Y29uc3Qgcz0zKnIsbz1BKHRbcyswXSx0W3MrMV0sdFtzKzJdKTt2KG8sbyxlLm9yaWdpbiksVihvLHRoaXMudmlldy5yZW5kZXJTcGF0aWFsUmVmZXJlbmNlLG8sdGhpcy52aWV3LnNwYXRpYWxSZWZlcmVuY2UpO2NvbnN0IG49bmV3IEVlKGUscixvKTtpLnB1c2gobil9cmV0dXJuIG5ldyBGZShpKX1faW5pdE5vZGVQYWdlcygpe2NvbnN0IGU9dGhpcy5sYXllci5zdG9yZS5pbmRleCx0PWUubm9kZXNQZXJQYWdlfHxlLm5vZGVQZXJJbmRleEJsb2NrO3JldHVybiB0aGlzLl9pbmRleD1uZXcgc2UodGhpcy5sYXllci5zcGF0aWFsUmVmZXJlbmNlLHRoaXMudmlldy5yZW5kZXJDb29yZHNIZWxwZXIuc3BhdGlhbFJlZmVyZW5jZSx0KSx0aGlzLl9jYW5jZWxJbmRleExvYWRpbmcoKSx0aGlzLl90cmF2ZXJzZVZpc2libGU9dGhpcy5faW5kZXguY3JlYXRlVmlzaWJpbGl0eVRyYXZlcnNlKCksdGhpcy5fbG9hZGluZ0luaXROb2RlUGFnZT0hMCx0aGlzLl9sYXllcklzVmlzaWJsZT0hMCx0aGlzLm5vdGlmeUNoYW5nZShcInN1c3BlbmRlZFwiKSx0aGlzLl91cGRhdGVMb2FkaW5nKCksdGhpcy5fcGFnZU11bHRpcGxpZXI9bnVsbCE9ZS5ub2Rlc1BlclBhZ2U/MTplLm5vZGVQZXJJbmRleEJsb2NrLHRoaXMuX2xvYWROb2RlUGFnZSgwKS5wcm9taXNlLnRoZW4oKGU9Pnt0aGlzLl9pbmRleC5hZGRQYWdlKDAsZSx0aGlzLl9lbGV2YXRpb25PZmZzZXQpLHRoaXMuX2xvYWRpbmdJbml0Tm9kZVBhZ2U9ITEsdGhpcy5fc2V0VXBkYXRlVmlld05lZWRlZCgpfSkpfV9sb2FkTm9kZVBhZ2UoZSl7Y29uc3QgdD1uZXcgQWJvcnRDb250cm9sbGVyLGk9YCR7dGhpcy5iYXNlVXJsfS9ub2RlcGFnZXMvJHtlKnRoaXMuX3BhZ2VNdWx0aXBsaWVyfWA7cmV0dXJue3Byb21pc2U6dGhpcy5fcmVxdWVzdE5vZGVQYWdlKGksdC5zaWduYWwpLnRoZW4oKHQ9PnQubm9kZXMubWFwKCgodCxpKT0+KHtyZXNvdXJjZUlkOm51bGwhPXQucmVzb3VyY2VJZD90LnJlc291cmNlSWQ6ZSp0aGlzLl9pbmRleC5wYWdlU2l6ZStpLG9iYjp2ZS5mcm9tSlNPTih0Lm9iYiksb2JiSW5SZW5kZXJTUjpuZXcgdmUsZmlyc3RDaGlsZDp0LmZpcnN0Q2hpbGQsY2hpbGRDb3VudDp0LmNoaWxkQ291bnQsdmVydGV4Q291bnQ6dC52ZXJ0ZXhDb3VudD8/dC5wb2ludENvdW50LGxvZFRocmVzaG9sZDp0LmxvZFRocmVzaG9sZD8/dC5lZmZlY3RpdmVBcmVhfSkpKSkpLGFib3J0Q29udHJvbGxlcjp0fX1fdXBkYXRlV29ya1F1ZXVlcygpe2lmKCF0aGlzLl91cGRhdGVWaWV3TmVlZGVkKXJldHVybiExO2NvbnN0IGU9dGhpcy52aWV3LnF1YWxpdHk7bGV0IHQ9dGhpcy5pbnZlcnNlRGVuc2l0eS90aGlzLl9sb2RGYWN0b3IqZTtjb25zdCBpPXRoaXMubWF4aW11bVBvaW50Q291bnQqdGhpcy5fbG9kRmFjdG9yKmU7bGV0IHI9dGhpcy5fY29tcHV0ZU5vZGVzRm9yTWluaW11bURlbnNpdHkodCkscz10aGlzLl9jb21wdXRlUG9pbnRDb3VudChyKSxvPU1hdGguc3FydChzLyguNzUqaSkpO2Zvcig7cz5pOyl0Kj1vLHI9dGhpcy5fY29tcHV0ZU5vZGVzRm9yTWluaW11bURlbnNpdHkodCkscz10aGlzLl9jb21wdXRlUG9pbnRDb3VudChyKSxvPU1hdGguc3FydCgyKTtyZXR1cm4gdGhpcy5fZGlzcGxheU5vZGVzKHIpLHRoaXMuX3VwZGF0ZVZpZXdOZWVkZWQ9ITEsdGhpcy5fdXBkYXRlTG9hZGluZygpLCEwfV9jb21wdXRlUG9pbnRDb3VudChlKXtsZXQgdD0wO2ZvcihsZXQgaT0wO2k8ZS5sZW5ndGg7aSsrKXtjb25zdCByPXRoaXMuX2luZGV4LmdldE5vZGUoZVtpXSk7ciYmKHQrPXIudmVydGV4Q291bnQpfXJldHVybiB0fV9pc1Jvb3ROb2RlVmlzaWJsZSgpe2xldCBlPSExO3JldHVybiB0aGlzLl90cmF2ZXJzZVZpc2libGUoe2ZydXN0dW06dGhpcy52aWV3LnN0YXRlLmNvbnRlbnRDYW1lcmEuZnJ1c3R1bSxjbGlwcGluZ0JveDp0aGlzLl9jbGlwcGluZ0JveH0se3ByZWRpY2F0ZToodCxpLHIpPT4oZT1yLCExKSxwYWdlTWlzczooKT0+e319KSxlfV9jb21wdXRlTm9kZXNGb3JNaW5pbXVtRGVuc2l0eShlKXtjb25zdCB0PXRoaXMudmlldy5zdGF0ZS5jb250ZW50Q2FtZXJhLGk9dC5mcnVzdHVtLHI9dGhpcy5fY2xpcHBpbmdCb3gscz10LnZpZXdGb3J3YXJkLG89QyhzLHQuZXllKSxuPUUocywtbyxWZSksYT10LnBlclNjcmVlblBpeGVsUmF0aW8vMixkPWUqZSxsPXRoaXMuX25vZGVJZEFycmF5O2wubGVuZ3RoPTA7Y29uc3QgdT1lPT5sLnB1c2goZSk7cmV0dXJuIHRoaXMuX3RyYXZlcnNlVmlzaWJsZSh7ZnJ1c3R1bTppLGNsaXBwaW5nQm94OnJ9LHtwcmVkaWNhdGU6KGUsdCxpKT0+e2lmKCFpKXJldHVybiExO2lmKDA9PT10LmNoaWxkQ291bnQpcmV0dXJuIHUoZSksITE7Y29uc3Qgcj10aGlzLl9pbmRleC5nZXRSZW5kZXJPYmIoZSk7cmV0dXJuISh0aGlzLl9jb21wdXRlQXZlcmFnZVBpeGVsQXJlYShyLHQubG9kVGhyZXNob2xkLHQudmVydGV4Q291bnQsbixhKTw9ZCl8fCh1KGUpLCExKX0scGFnZU1pc3M6KGUsdCk9Pnt1KGUpLHRoaXMuX2luZGV4UXVldWUuaW5jbHVkZXModCl8fHRoaXMuX2luZGV4UXVldWUucHVzaCh0KX19KSxsfV9jb21wdXRlQXZlcmFnZVBpeGVsQXJlYShlLHQsaSxyLHMpe2NvbnN0IG89MWUtNyxuPU1hdGgubWF4KG8sZS5taW5pbXVtRGlzdGFuY2VQbGFuZShyKSk7cmV0dXJuIHQvKG4qbikvKDQqcypzKS9pfV9sb2FkTm9kZShlLHQpe3RyeXtyZXR1cm4gdGhpcy5fbG9hZE5vZGVBc3luYyhlLHQpfWNhdGNoKGkpe3Rocm93IGMoaSl8fG8uZ2V0TG9nZ2VyKHRoaXMpLmVycm9yKGkpLGl9fWFzeW5jIF9sb2FkQWRkaXRpb25hbFVzZXJBdHRyaWJ1dGVzKGUsdCxyKXtjb25zdCBzPXRoaXMubGF5ZXIub3V0RmllbGRzO2lmKCFzKXJldHVybltdO2NvbnN0IG89Vyh0aGlzLmxheWVyLmZpZWxkc0luZGV4LHMpLG49bmV3IFNldChlLm1hcCgoZT0+bnVsbCE9ZT9lLm5hbWU6bnVsbCkpKSxhPXRoaXMubGF5ZXIuYXR0cmlidXRlU3RvcmFnZUluZm8sZD1bXTtmb3IoY29uc3QgaSBvZiBvKXtpZihuLmhhcyhpKSljb250aW51ZTtjb25zdCBlPV9lKGEsaSk7ZSYmZC5wdXNoKHQoZSkpfWNvbnN0IGw9YXdhaXQgXyhkKTtyZXR1cm4gbShyKSxsLmZpbHRlcihpKX1hc3luYyBfbG9hZE5vZGVBc3luYyhlLHQpe2NvbnN0IGk9dGhpcy5faW5kZXguZ2V0Tm9kZShlKSxyPWhlKHRoaXMubGF5ZXIpLHM9cGUodGhpcy5sYXllciksbz1pLnJlc291cmNlSWQsbj1hc3luYyBlPT57aWYoIWUpcmV0dXJuIG51bGw7aWYoZS51c2VFbGV2YXRpb24pcmV0dXJue2F0dHJpYnV0ZUluZm86ZSxidWZmZXI6bnVsbH07Y29uc3QgaT1hd2FpdCB0aGlzLl9sb2FkQXR0cmlidXRlKG8sZSx0KTtyZXR1cm4gbnVsbCE9aT97YXR0cmlidXRlSW5mbzplLGJ1ZmZlcjppfTpudWxsfTtyZXR1cm4gdGhpcy5faWRsZVF1ZXVlLnB1c2goKGFzeW5jKCk9Pntjb25zdCBpPXRoaXMuX2xvYWRHZW9tZXRyeShvLHQpLHtwcmltYXJ5QXR0cmlidXRlOmEsbW9kdWxhdGlvbkF0dHJpYnV0ZTpkfT1yLGw9bihhKSx1PW4oZCksaD1zLm1hcCgoZT0+ZS5hdHRyaWJ1dGVJbmZvKSkscD1oLm1hcCgoZT0+bihlKSkpLGM9dGhpcy5fbG9hZEFkZGl0aW9uYWxVc2VyQXR0cmlidXRlcyhbYSxkLC4uLmhdLG4sdCksW18sZyxmLHksYl09YXdhaXQgUHJvbWlzZS5hbGwoW2ksbCx1LFByb21pc2UuYWxsKHApLGNdKTttKHQpO2NvbnN0IHc9e2dlb21ldHJ5QnVmZmVyOl8scHJpbWFyeUF0dHJpYnV0ZURhdGE6Zyxtb2R1bGF0aW9uQXR0cmlidXRlRGF0YTpmLGZpbHRlckF0dHJpYnV0ZXNEYXRhOnksdXNlckF0dHJpYnV0ZXNEYXRhOmIsc2NoZW1hOnRoaXMubGF5ZXIuc3RvcmUuZGVmYXVsdEdlb21ldHJ5U2NoZW1hLHJlbmRlcmVySW5mbzpyLGZpbHRlckluZm86cyxvYmJEYXRhOnRoaXMuX2luZGV4LmdldFJlbmRlck9iYihlKS5kYXRhLGVsZXZhdGlvbk9mZnNldDp0aGlzLl9lbGV2YXRpb25PZmZzZXQsaW5TUjp0aGlzLmxheWVyLnNwYXRpYWxSZWZlcmVuY2UudG9KU09OKCksb3V0U1I6dGhpcy52aWV3LnJlbmRlckNvb3Jkc0hlbHBlci5zcGF0aWFsUmVmZXJlbmNlLnRvSlNPTigpfTtyZXR1cm4gdGhpcy5fd29ya2VyLmludm9rZSh3LHQpfSksdCl9YXN5bmMgX2xvYWRHZW9tZXRyeShlLHQpe3JldHVybiB0aGlzLl9yZXF1ZXN0RGF0YShgJHt0aGlzLmJhc2VVcmx9L25vZGVzLyR7ZX0vZ2VvbWV0cmllcy8wYCx0KX1hc3luYyBfbG9hZEF0dHJpYnV0ZShlLHQsaSl7aWYoIXQ/LnN0b3JhZ2VJbmZvKXJldHVybiBudWxsO2NvbnN0IHI9dC5zdG9yYWdlSW5mby5rZXk7cmV0dXJuIHRoaXMuX3JlcXVlc3REYXRhKGAke3RoaXMuYmFzZVVybH0vbm9kZXMvJHtlfS9hdHRyaWJ1dGVzLyR7cn1gLGkpfV9yZXF1ZXN0Tm9kZVBhZ2UoZSx0KXtjb25zdCBpPXtmOlwianNvblwiLC4uLnRoaXMubGF5ZXIuY3VzdG9tUGFyYW1ldGVycyx0b2tlbjp0aGlzLmxheWVyLmFwaUtleX07cmV0dXJuIHRoaXMuX2luZGV4UmVxdWVzdGVyLnJlcXVlc3QoZSxcImpzb25cIix7cXVlcnk6aSxzaWduYWw6dH0pfV9yZXF1ZXN0RGF0YShlLHQpe3JldHVybiB0aGlzLl9kYXRhUmVxdWVzdGVyLnJlcXVlc3QoZSxcImJpbmFyeVwiLHtxdWVyeTp7Li4udGhpcy5sYXllci5jdXN0b21QYXJhbWV0ZXJzLHRva2VuOnRoaXMubGF5ZXIuYXBpS2V5fSxzaWduYWw6dH0pfV9yZW1vdmVGcm9tUmVuZGVyZXIoZSl7aWYodGhpcy5fcmVuZGVyZWROb2Rlcy5oYXMoZSkpe2NvbnN0IHQ9dGhpcy5fcmVuZGVyZXIucmVtb3ZlTm9kZShlKTt0aGlzLl9yZW5kZXJlZE5vZGVzLmRlbGV0ZShlKSx0aGlzLl9tZW1DYWNoZS5wdXQodC5pZC50b1N0cmluZygpLHQpfX1fYWRkVG9SZW5kZXJlcihlKXt0aGlzLl9yZW5kZXJlZE5vZGVzLmhhcyhlLmlkKXx8KHRoaXMuX3JlbmRlcmVkTm9kZXMuYWRkKGUuaWQpLHRoaXMuX3JlbmRlcmVyLmFkZE5vZGUoZSkpfV9zZXR1cFJlbmRlcmVyRGF0YShlLHQpe2NvbnN0IGk9dGhpcy5faW5kZXguZ2V0Tm9kZShlKSxyPU1hdGguc3FydChpLmxvZFRocmVzaG9sZC9pLnZlcnRleENvdW50KSxzPXRoaXMuX2luZGV4LmdldFJlbmRlck9iYihlKTtpZihhZSh0KSlyZXR1cm4gdC5zcGxhdFNpemU9cix0Lm9iYj1zLEkodC5vcmlnaW4sdC5vYmIuY2VudGVyKSx0O2NvbnN0IG49dmUuZnJvbURhdGEodC5vYmJEYXRhKSxhPW4uaGFsZlNpemUsZD1zLmhhbGZTaXplLGw9LjAxKk1hdGgubWF4KGRbMF0sZFsxXSxkWzJdKTtpZihhWzBdPmRbMF0rbHx8YVsxXT5kWzFdK2x8fGFbMl0+ZFsyXStsKXtpZih0aGlzLl9tYXhMb2dnZWRCb3hXYXJuaW5ncz4wKXtjb25zdCB0PWU9PmBbJHtlLmhhbGZTaXplWzBdfSwgJHtlLmhhbGZTaXplWzFdfSwgJHtlLmhhbGZTaXplWzJdfV1gO28uZ2V0TG9nZ2VyKHRoaXMpLndhcm4oYE5vZGUgJHtlfSByZXBvcnRlZCBib3VuZGluZyBib3ggdG9vIHNtYWxsLiBnb3QgJHt0KHMpfSBidXQgcG9pbnRzIGNvdmVyICR7dChuKX1gKSwwPT09LS10aGlzLl9tYXhMb2dnZWRCb3hXYXJuaW5ncyYmby5nZXRMb2dnZXIodGhpcykud2FybihcIiAgVG9vIG1hbnkgYm91bmRpbmcgYm94IGVycm9ycywgc3RvcHBpbmcgcmVwb3J0aW5nIGZvciB0aGlzIGxheWVyLlwiKX10aGlzLl9pbmRleC5zZXRSZW5kZXJPYmIoZSxuKX1yZXR1cm4gbmV3IGRlKGUscixTKHMuY2VudGVyKSxzLDA9PT1pLmNoaWxkQ291bnQsdC5wb2ludHMsdC5yZ2IsdC5hdHRyaWJ1dGVzLHQucG9pbnRJZEZpbHRlck1hcCl9Z2V0IHVzZWRNZW1vcnkoKXtsZXQgZT0wO3JldHVybiB0aGlzLl9yZW5kZXJlci5mb3JFYWNoTm9kZSgodD0+e2UrPUxlLGUrPWQodC5jb29yZGluYXRlcyk7Zm9yKGNvbnN0IGkgb2YgdC5hdHRyaWJ1dGVzKXtjb25zdCB0PWkudmFsdWVzO3codC5idWZmZXIpJiYoZSs9ZCh0KSl9fSkpLGV9Z2V0IHVubG9hZGVkTWVtb3J5KCl7Y29uc3QgZT10aGlzLl9yZW5kZXJlZE5vZGVzLnNpemU7aWYoZTw0KXJldHVybiAwO2NvbnN0IHQ9Wy4uLnRoaXMuX3JlbmRlcmVkTm9kZXNdLnJlZHVjZSgoKGUsdCk9PmUrdGhpcy5faW5kZXguZ2V0Tm9kZSh0KS52ZXJ0ZXhDb3VudCkpO2xldCBpPXRoaXMuX2xvYWRpbmdOb2Rlcy5zaXplO2ZvcihsZXQgcj0wO3I8dGhpcy5fd29ya1F1ZXVlLmxlbmd0aDtyKyspaSs9dGhpcy5fd29ya1F1ZXVlW3JdLmxvYWQubGVuZ3RoLGktPXRoaXMuX3dvcmtRdWV1ZVtyXS5yZW1vdmUubGVuZ3RoO2lmKGk8MClyZXR1cm4gMDtyZXR1cm4gaSp0L2UqKCh0aGlzLnVzZWRNZW1vcnktZSpMZSkvdCkraSpMZX1nZXQgcGVyZm9ybWFuY2VJbmZvKCl7cmV0dXJuIG5ldyBKKHRoaXMudXNlZE1lbW9yeSx0aGlzLl9yZW5kZXJlZE5vZGVzLnNpemUsWy4uLnRoaXMuX3JlbmRlcmVkTm9kZXNdLnJlZHVjZSgoKGUsdCk9PmUrdGhpcy5faW5kZXguZ2V0Tm9kZSh0KS52ZXJ0ZXhDb3VudCksMCksdGhpcy5tYXhpbXVtUG9pbnRDb3VudCxuZXcgSyh0aGlzLl9sb2FkaW5nTm9kZXMuc2l6ZSx0aGlzLl9pbmRleFF1ZXVlLmxlbmd0aCx0aGlzLl93b3JrUXVldWUubGVuZ3RoLHRoaXMuX2lkbGVRdWV1ZS5sZW5ndGgpKX1nZXQgdGVzdCgpe319O2UoW04oKV0sUWUucHJvdG90eXBlLFwibGF5ZXJcIix2b2lkIDApLGUoW04oKV0sUWUucHJvdG90eXBlLFwiYmFzZVVybFwiLG51bGwpLGUoW04oKV0sUWUucHJvdG90eXBlLFwicG9pbnRTY2FsZVwiLG51bGwpLGUoW04oKV0sUWUucHJvdG90eXBlLFwidXNlUmVhbFdvcmxkU3ltYm9sU2l6ZXNcIixudWxsKSxlKFtOKCldLFFlLnByb3RvdHlwZSxcInBvaW50U2l6ZVwiLG51bGwpLGUoW04oKV0sUWUucHJvdG90eXBlLFwiaW52ZXJzZURlbnNpdHlcIixudWxsKSxlKFtOKCldLFFlLnByb3RvdHlwZSxcIm1heGltdW1Qb2ludENvdW50XCIsdm9pZCAwKSxlKFtOKHtyZWFkT25seTohMH0pXSxRZS5wcm90b3R5cGUsXCJhdmFpbGFibGVGaWVsZHNcIixudWxsKSxlKFtOKHtyZWFkT25seTohMH0pXSxRZS5wcm90b3R5cGUsXCJfY2xpcHBpbmdCb3hcIixudWxsKSxlKFtOKHtyZWFkT25seTohMH0pXSxRZS5wcm90b3R5cGUsXCJfZWxldmF0aW9uT2Zmc2V0XCIsbnVsbCksZShbTih7dHlwZTpCb29sZWFufSldLFFlLnByb3RvdHlwZSxcInNsaWNlUGxhbmVFbmFibGVkXCIsdm9pZCAwKSxlKFtOKCldLFFlLnByb3RvdHlwZSxcInVwZGF0aW5nXCIsdm9pZCAwKSxlKFtOKENlKV0sUWUucHJvdG90eXBlLFwidXBkYXRpbmdQcm9ncmVzc1wiLHZvaWQgMCksZShbTih7cmVhZE9ubHk6ITB9KV0sUWUucHJvdG90eXBlLFwidXBkYXRpbmdQcm9ncmVzc1ZhbHVlXCIsbnVsbCksZShbTih7cmVhZE9ubHk6ITB9KV0sUWUucHJvdG90eXBlLFwidmlzaWJsZUF0Q3VycmVudFNjYWxlXCIsbnVsbCksUWU9ZShbUChcImVzcmkudmlld3MuM2QubGF5ZXJzLlBvaW50Q2xvdWRMYXllclZpZXczRFwiKV0sUWUpO2NvbnN0IERlPVFlO2NsYXNzIEVle2NvbnN0cnVjdG9yKGUsdCxpKXt0aGlzLm5vZGU9ZSx0aGlzLnBvaW50SWQ9dCx0aGlzLnBvaW50PWl9Z2V0R2VvbWV0cnkoKXtyZXR1cm4gbmV3IFUoWzFdLEFycmF5LmZyb20odGhpcy5wb2ludCkpfWdldCBhdHRyaWJ1dGVQb2ludElkKCl7Y29uc3R7bm9kZTplLHBvaW50SWQ6dH09dGhpcztyZXR1cm4gbnVsbCE9ZS5wb2ludElkRmlsdGVyTWFwP2UucG9pbnRJZEZpbHRlck1hcFt0XTp0fWdldCB1c2VkTWVtb3J5KCl7cmV0dXJuIGwrbCt1K2godGhpcy5wb2ludCx1KX19Y2xhc3MgRmV7Y29uc3RydWN0b3IoZSl7dGhpcy5mZWF0dXJlcz1lfWdldCBjYWNoZWRNZW1vcnkoKXtyZXR1cm4gdGhpcy5mZWF0dXJlcy5yZWR1Y2UoKChlLHQpPT5lK3QudXNlZE1lbW9yeSksbCtwKX19Y29uc3QgTGU9MTYwO2Z1bmN0aW9uIFVlKGUpe3JldHVybiB0PT5lLmltbWVkaWF0ZS5zY2hlZHVsZSh0KX1leHBvcnR7RGUgYXMgZGVmYXVsdH07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4zMy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e0xheWVyVmlld1BlcmZvcm1hbmNlSW5mbyBhcyBzfWZyb21cIi4vc3VwcG9ydC9MYXllclZpZXdQZXJmb3JtYW5jZUluZm8uanNcIjtjbGFzcyBlIGV4dGVuZHMgc3tjb25zdHJ1Y3RvcihzLGUsbyxyLGkpe3N1cGVyKHMsZSwtMSxvLHIpLHRoaXMucXVldWU9aX19Y2xhc3Mgb3tjb25zdHJ1Y3RvcihzLGUsbyxyKXt0aGlzLmxvYWRpbmc9cyx0aGlzLmluZGV4TG9hZGluZz1lLHRoaXMucHJvY2Vzc2luZz1vLHRoaXMuaWRsZVByb2Nlc3Npbmc9cn19ZXhwb3J0e2UgYXMgUG9pbnRDbG91ZExheWVyVmlld1BlcmZvcm1hbmNlSW5mbyxvIGFzIFF1ZXVlUGVyZm9ybWFuY2VJbmZvfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjMzL2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7V29ya2VySGFuZGxlIGFzIHR9ZnJvbVwiLi4vLi4vLi4vY29yZS93b3JrZXJzL1dvcmtlckhhbmRsZS5qc1wiO2NsYXNzIHIgZXh0ZW5kcyB0e2NvbnN0cnVjdG9yKHQpe3N1cGVyKFwiUG9pbnRDbG91ZFdvcmtlclwiLFwidHJhbnNmb3JtXCIse3RyYW5zZm9ybTp0PT51KHQpfSx0KX19ZnVuY3Rpb24gdSh0KXtjb25zdCByPVt0Lmdlb21ldHJ5QnVmZmVyXTtpZihudWxsIT10LnByaW1hcnlBdHRyaWJ1dGVEYXRhJiZ0LnByaW1hcnlBdHRyaWJ1dGVEYXRhLmJ1ZmZlciYmci5wdXNoKHQucHJpbWFyeUF0dHJpYnV0ZURhdGEuYnVmZmVyKSxudWxsIT10Lm1vZHVsYXRpb25BdHRyaWJ1dGVEYXRhJiZ0Lm1vZHVsYXRpb25BdHRyaWJ1dGVEYXRhLmJ1ZmZlciYmci5wdXNoKHQubW9kdWxhdGlvbkF0dHJpYnV0ZURhdGEuYnVmZmVyKSxudWxsIT10LmZpbHRlckF0dHJpYnV0ZXNEYXRhKWZvcihjb25zdCB1IG9mIHQuZmlsdGVyQXR0cmlidXRlc0RhdGEpbnVsbCE9dSYmdS5idWZmZXImJnIucHVzaCh1LmJ1ZmZlcik7Zm9yKGNvbnN0IHUgb2YgdC51c2VyQXR0cmlidXRlc0RhdGEpdS5idWZmZXImJnIucHVzaCh1LmJ1ZmZlcik7cmV0dXJuIHJ9ZXhwb3J0e3IgYXMgUG9pbnRDbG91ZFdvcmtlckhhbmRsZX07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4zMy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e18gYXMgcn1mcm9tXCIuLi8uLi8uLi8uLi9jaHVua3MvdHNsaWIuZXM2LmpzXCI7aW1wb3J0IGUgZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9BY2Nlc3Nvci5qc1wiO2ltcG9ydHt0b0NvbnN0IGFzIHR9ZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9jb21waWxlclV0aWxzLmpzXCI7aW1wb3J0IG8gZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9FdmVudGVkLmpzXCI7aW1wb3J0e3Byb3BlcnR5IGFzIHN9ZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9wcm9wZXJ0eS5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vLi4vY29yZS9Mb2dnZXIuanNcIjtpbXBvcnRcIi4uLy4uLy4uLy4uL2NvcmUvUmFuZG9tTENHLmpzXCI7aW1wb3J0e3N1YmNsYXNzIGFzIGN9ZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9zdWJjbGFzcy5qc1wiO2ltcG9ydHtwcm9qZWN0Qm91bmRpbmdTcGhlcmUgYXMgaX1mcm9tXCIuLi8uLi8uLi8uLi9nZW9tZXRyeS9wcm9qZWN0aW9uL3Byb2plY3RCb3VuZGluZ1NwaGVyZS5qc1wiO2ltcG9ydHtjcmVhdGUgYXMgbix0b1JlY3QgYXMgcH1mcm9tXCIuLi8uLi8uLi8uLi9nZW9tZXRyeS9zdXBwb3J0L2FhQm91bmRpbmdCb3guanNcIjtpbXBvcnR7aW50ZXJzZWN0cyBhcyBhLGNyZWF0ZSBhcyBtfWZyb21cIi4uLy4uLy4uLy4uL2dlb21ldHJ5L3N1cHBvcnQvYWFCb3VuZGluZ1JlY3QuanNcIjtpbXBvcnR7ZiBhcyB1fWZyb21cIi4uLy4uLy4uLy4uL2NodW5rcy9zcGhlcmUuanNcIjtpbXBvcnR7Rm9yQWxsRmVhdHVyZXNSZXR1cm5UeXBlIGFzIGZ9ZnJvbVwiLi4vSUkzU01lc2hWaWV3M0QuanNcIjtjb25zdCBsPW4oKTtsZXQgaD1jbGFzcyBleHRlbmRzIGV7Y29uc3RydWN0b3Iocil7c3VwZXIociksdGhpcy5ldmVudHM9bmV3IG99Zm9yRWFjaChyKXt0aGlzLmZvckFsbEZlYXR1cmVzKChlPT4ocihlKSxmLkNPTlRJTlVFKSkpfWZvckVhY2hCb3VuZHMocixlKXtmb3IoY29uc3QgdCBvZiByKWUodGhpcy5nZXRGZWF0dXJlRXh0ZW50KHQsbCkpfWZvckVhY2hJbkJvdW5kcyhyLGUpe3RoaXMuZm9yQWxsRmVhdHVyZXMoKG89Pntjb25zdCBzPXRoaXMuZ2V0RmVhdHVyZUV4dGVudCh0KG8pLHkpO3JldHVybiBhKHIscChzLGopKSYmZSh0KG8pKSxmLkNPTlRJTlVFfSksKGU9PntpZihpKGUsdGhpcy5zb3VyY2VTcGF0aWFsUmVmZXJlbmNlLGQsdGhpcy52aWV3U3BhdGlhbFJlZmVyZW5jZSksZFswXT49clswXSYmZFsyXTw9clsyXSYmZFsxXT49clsxXSYmZFszXTw9clszXSlyZXR1cm4gZi5DT05USU5VRTtjb25zdCB0PU1hdGgubWF4KHJbMF0sTWF0aC5taW4oZFswXSxyWzJdKSksbz1NYXRoLm1heChyWzFdLE1hdGgubWluKGRbMV0sclszXSkpLHM9ZFswXS10LGM9ZFsxXS1vO3JldHVybiBzKnMrYypjPD1kWzNdKmRbM10/Zi5DT05USU5VRTpmLlNLSVB9KSl9fTtyKFtzKHtjb25zdHJ1Y3RPbmx5OiEwfSldLGgucHJvdG90eXBlLFwiZmVhdHVyZUFkYXB0ZXJcIix2b2lkIDApLHIoW3Moe2NvbnN0cnVjdE9ubHk6ITB9KV0saC5wcm90b3R5cGUsXCJmb3JBbGxGZWF0dXJlc1wiLHZvaWQgMCkscihbcyh7Y29uc3RydWN0T25seTohMH0pXSxoLnByb3RvdHlwZSxcImdldEZlYXR1cmVFeHRlbnRcIix2b2lkIDApLHIoW3Moe2NvbnN0cnVjdE9ubHk6ITB9KV0saC5wcm90b3R5cGUsXCJzb3VyY2VTcGF0aWFsUmVmZXJlbmNlXCIsdm9pZCAwKSxyKFtzKHtjb25zdHJ1Y3RPbmx5OiEwfSldLGgucHJvdG90eXBlLFwidmlld1NwYXRpYWxSZWZlcmVuY2VcIix2b2lkIDApLGg9cihbYyhcImVzcmkudmlld3MuM2QubGF5ZXJzLmkzcy5JM1NRdWVyeUZlYXR1cmVTdG9yZVwiKV0saCk7Y29uc3QgZD11KDAsMCwwLDApLHk9bigpLGo9bSgpO2V4cG9ydHtoIGFzIEkzU1F1ZXJ5RmVhdHVyZVN0b3JlfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjMzL2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7ZX1mcm9tXCIuLi8uLi8uLi8uLi9jaHVua3MvdmVjMzIuanNcIjtmdW5jdGlvbiB0KGUsdCxnKXtmb3IobGV0IG49MDtuPHQubGVuZ3RoO24rKylyW25dPSExLG9bbl09bnVsbDtmb3IobGV0IHI9MDtyPGUubGVuZ3RoO3IrKyluW3JdPSExLGxbcl09bnVsbDtmb3IobGV0IG49MDtuPHQubGVuZ3RoO24rKyl7Y29uc3Qgbz1oKHRbbl0sZSxnKTtvPj0wJiYocltuXT0hMCxudWxsIT1sW29dP2xbb10ucHVzaCh0W25dKTpsW29dPVt0W25dXSl9Zm9yKGxldCBsPTA7bDxlLmxlbmd0aDtsKyspe2NvbnN0IHI9aChlW2xdLHQsZyk7cj49MCYmKG5bbF09ITAsbnVsbCE9b1tyXT9vW3JdLnB1c2goZVtsXSk6b1tyXT1bZVtsXV0pfWNvbnN0IHU9W107Zm9yKGxldCByPTA7cjxlLmxlbmd0aDtyKyspbnVsbCE9bFtyXXx8bltyXXx8dS5wdXNoKHtsb2FkOltdLHJlbW92ZTpbZVtyXV19KTtmb3IobGV0IG49MDtuPHQubGVuZ3RoO24rKyludWxsIT1vW25dfHxyW25dfHx1LnB1c2goe2xvYWQ6W3Rbbl1dLHJlbW92ZTpbXX0pO2ZvcihsZXQgbj0wO248dC5sZW5ndGg7bisrKW51bGwhPW9bbl0mJihvW25dLmxlbmd0aD4xfHxvW25dWzBdIT09dFtuXSkmJnUucHVzaCh7bG9hZDpbdFtuXV0scmVtb3ZlOm9bbl19KTtmb3IobGV0IG49MDtuPGUubGVuZ3RoO24rKyludWxsIT1sW25dJiYobFtuXS5sZW5ndGg+MXx8bFtuXVswXSE9PWVbbl0pJiZ1LnB1c2goe2xvYWQ6bFtuXSxyZW1vdmU6W2Vbbl1dfSk7cmV0dXJuIHV9Y29uc3Qgbj1bITFdLGw9W251bGxdLHI9WyExXSxvPVtudWxsXTtmdW5jdGlvbiBoKGUsdCxuKXtsZXQgbD1lO2Zvcig7bD4wOyl7Y29uc3QgZT10LmluZGV4T2YobCk7aWYoZT49MClyZXR1cm4gZTtsPW4uZ2V0UGFyZW50SWQobCl9cmV0dXJuIHQuaW5kZXhPZihsKX1mdW5jdGlvbiBnKHQsbixsKXtyZXR1cm4gdC5zb3J0KCgodCxyKT0+e2lmKDA9PT10LmxvYWQubGVuZ3RoJiYwPT09ci5sb2FkLmxlbmd0aClyZXR1cm4gMDtpZigwPT09dC5sb2FkLmxlbmd0aClyZXR1cm4tMTtpZigwPT09ci5sb2FkLmxlbmd0aClyZXR1cm4gMTtpZigwPT09dC5yZW1vdmUubGVuZ3RoJiYwPT09ci5yZW1vdmUubGVuZ3RoKXtjb25zdCBvPWwuZ2V0UmVuZGVyT2JiKHQubG9hZFswXSkuY2VudGVyLGg9bC5nZXRSZW5kZXJPYmIoci5sb2FkWzBdKS5jZW50ZXI7cmV0dXJuIGUobyxuKS1lKGgsbil9aWYoMD09PXQucmVtb3ZlLmxlbmd0aClyZXR1cm4tMTtpZigwPT09ci5yZW1vdmUubGVuZ3RoKXJldHVybiAxO2lmKDE9PT10LmxvYWQubGVuZ3RoJiYxPT09ci5sb2FkLmxlbmd0aCl7Y29uc3Qgbz1sLmdldFJlbmRlck9iYih0LmxvYWRbMF0pLmNlbnRlcixoPWwuZ2V0UmVuZGVyT2JiKHIubG9hZFswXSkuY2VudGVyO3JldHVybiBlKG8sbiktZShoLG4pfWlmKDE9PT10LmxvYWQubGVuZ3RoKXJldHVybi0xO2lmKDE9PT1yLmxvYWQubGVuZ3RoKXJldHVybiAxO3tjb25zdCBvPWwuZ2V0UmVuZGVyT2JiKHQucmVtb3ZlWzBdKS5jZW50ZXIsaD1sLmdldFJlbmRlck9iYihyLnJlbW92ZVswXSkuY2VudGVyO3JldHVybiBlKG8sbiktZShoLG4pfX0pKX1mdW5jdGlvbiB1KGUsdCxuKXtmb3IobGV0IGw9MDtsPGUubGVuZ3RoOysrbCl7Y29uc3Qgcj1lW2xdO3IubG9hZC5sZW5ndGg+dCYmMT09PXIucmVtb3ZlLmxlbmd0aCYmZChlLHIsbil9fWZ1bmN0aW9uIGQoZSx0LG4pe2NvbnN0IGw9W3QucmVtb3ZlWzBdXSxyPVtdO2Zvcig7MT09PWwubGVuZ3RoOyl7Y29uc3QgZT1sLnBvcCgpO3IubGVuZ3RoPTA7Zm9yKGxldCBvPTA7bzx0LmxvYWQubGVuZ3RoO28rKyl7bGV0IGg9dC5sb2FkW29dLGc9bi5nZXRQYXJlbnRJZChoKTtmb3IoO2chPT1lOyloPWcsZz1uLmdldFBhcmVudElkKGgpO2xldCB1PWwuaW5kZXhPZihoKTt1PDAmJih1PWwubGVuZ3RoLGwucHVzaChoKSxyLnB1c2goW10pKSxyW3VdLnB1c2godC5sb2FkW29dKX19dC5sb2FkPWw7Zm9yKGxldCBvPTA7bzxsLmxlbmd0aDtvKyspcltvXS5sZW5ndGg+MT9lLnB1c2goe3JlbW92ZTpbbFtvXV0sbG9hZDpyW29dfSk6bFtvXT1yW29dWzBdfWV4cG9ydHt0IGFzIG5vZGVEaWZmLGcgYXMgc29ydEZyb250VG9CYWNrLHUgYXMgc3BsaXRXb3JrRW50cmllcyxkIGFzIHNwbGl0V29ya0VudHJ5fTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjMzL2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7Z2V0U3BoZXJpY2FsUENQRiBhcyBlfWZyb21cIi4uLy4uLy4uLy4uL2dlb21ldHJ5L3NwYXRpYWxSZWZlcmVuY2VFbGxpcHNvaWRVdGlscy5qc1wiO2ltcG9ydHtjcmVhdGUgYXMgdCxjb250YWlucyBhcyBzLGludGVyc2VjdHMgYXMgbn1mcm9tXCIuLi8uLi8uLi8uLi9nZW9tZXRyeS9zdXBwb3J0L2FhQm91bmRpbmdCb3guanNcIjtjbGFzcyBpe2NvbnN0cnVjdG9yKHQscyxuKXt0aGlzLl9wYWdlcz1bXSx0aGlzLnBhZ2VTaXplPTAsdGhpcy5fbm9kZVNSPXQsdGhpcy5fcmVuZGVyU1I9cyx0aGlzLl9yZW5kZXJTUlNwaGVyaWNhbFBDUEY9ZShzKSx0aGlzLnBhZ2VTaXplPW59YWRkUGFnZShlLHQscz0wKXtmb3IoO3RoaXMuX3BhZ2VzLmxlbmd0aDxlOyl0aGlzLl9wYWdlcy5wdXNoKG51bGwpO3IodCx0aGlzLl9ub2RlU1IsdGhpcy5fcmVuZGVyU1Iscyx0aGlzLl9yZW5kZXJTUlNwaGVyaWNhbFBDUEYpLHRoaXMuX3BhZ2VzW2VdPXtub2Rlczp0LHBhcmVudHM6bmV3IFVpbnQzMkFycmF5KHRoaXMucGFnZVNpemUpfSxwKHRoaXMuX3BhZ2VzLHRoaXMucGFnZVNpemUpfWhhc1BhZ2UoZSl7cmV0dXJuISF0aGlzLl9wYWdlc1tlXX1nZXROb2RlKGUpe2NvbnN0IHQ9dGhpcy5wYWdlU2l6ZTtyZXR1cm4gdGhpcy5fcGFnZXNbYShlLHQpXS5ub2Rlc1toKGUsdCldfWdldFJlbmRlck9iYihlKXtjb25zdCB0PXRoaXMucGFnZVNpemU7cmV0dXJuIHRoaXMuX3BhZ2VzW2EoZSx0KV0ubm9kZXNbaChlLHQpXS5vYmJJblJlbmRlclNSfXNldFJlbmRlck9iYihlLHQpe2NvbnN0IHM9dGhpcy5wYWdlU2l6ZTt0aGlzLl9wYWdlc1thKGUscyldLm5vZGVzW2goZSxzKV0ub2JiSW5SZW5kZXJTUi5jb3B5KHQpfWdldFBhcmVudElkKGUpe2NvbnN0IHQ9dGhpcy5wYWdlU2l6ZTtyZXR1cm4gdGhpcy5fcGFnZXNbYShlLHQpXS5wYXJlbnRzW2goZSx0KV19aGFzTm9kZXMoZSx0KXtjb25zdCBzPWEoZSx0aGlzLnBhZ2VTaXplKSxuPWEoZSt0LTEsdGhpcy5wYWdlU2l6ZSk7Zm9yKGxldCBpPXM7aTw9bjtpKyspaWYobnVsbD09dGhpcy5fcGFnZXNbaV0pcmV0dXJuITE7cmV0dXJuITB9Zm9yRWFjaE5vZGVJZChlKXtmb3IobGV0IHQ9MDt0PHRoaXMuX3BhZ2VzLmxlbmd0aDt0Kyspe2NvbnN0IHM9dGhpcy5fcGFnZXNbdF07aWYocylmb3IobGV0IG49MDtuPHMubm9kZXMubGVuZ3RoO24rKyllKHQqdGhpcy5wYWdlU2l6ZStuKX19Y3JlYXRlVmlzaWJpbGl0eVRyYXZlcnNlKCl7Y29uc3QgZT17aW5kZXg6dGhpcyxxdWV1ZTpbXSxtYXNrczpbXSx0ZW1wQWFiYjp0KCl9O3JldHVybih0LHMpPT5vKGUsdCxzKX19ZnVuY3Rpb24gbyhlLHQsaSl7Y29uc3Qgbz1lLmluZGV4O2lmKCFvLmhhc05vZGVzKDAsMSkpcmV0dXJuO2NvbnN0IHI9ZS5xdWV1ZTtyLmxlbmd0aD0wLHIucHVzaCgwKTtjb25zdCBwPWUubWFza3M7Zm9yKHAubGVuZ3RoPTAscC5wdXNoKDApO3IubGVuZ3RoPjA7KXtjb25zdCBoPXIucG9wKCk7bGV0IGc9cC5wb3AoKTtjb25zdCBsPW8uZ2V0Tm9kZShoKSxjPW8uZ2V0UmVuZGVyT2JiKGgpO2xldCB1PSEwO2lmKG51bGwhPXQuY2xpcHBpbmdCb3gpe2NvbnN0IGk9MTw8dC5mcnVzdHVtLmxlbmd0aDswPT09KGcmaSkmJihjLnRvQWFCb3VuZGluZ0JveChlLnRlbXBBYWJiKSxzKHQuY2xpcHBpbmdCb3gsZS50ZW1wQWFiYik/Z3w9aTpuKHQuY2xpcHBpbmdCb3gsZS50ZW1wQWFiYil8fCh1PSExKSl9Zm9yKGxldCBlPTA7ZTx0LmZydXN0dW0ubGVuZ3RoJiZ1O2UrKyl7Y29uc3Qgcz0xPDxlO2lmKDA9PT0oZyZzKSl7Y29uc3Qgbj1jLmludGVyc2VjdFBsYW5lKHQuZnJ1c3R1bVtlXSk7bj4wP3U9ITE6bjwwJiYoZ3w9cyl9fWlmKGkucHJlZGljYXRlKGgsbCx1KSl7Y29uc3QgZT1sLmZpcnN0Q2hpbGQsdD1sLmNoaWxkQ291bnQ7bGV0IHM9ITE7Y29uc3Qgbj1hKGUsby5wYWdlU2l6ZSksYz1hKGUrdC0xLG8ucGFnZVNpemUpO2ZvcihsZXQgcj1uO3I8PWM7cisrKWlmKCFvLmhhc1BhZ2Uocikpe2kucGFnZU1pc3MoaCxyKSxzPSEwO2JyZWFrfWlmKCFzKWZvcihsZXQgaT0wO2k8dDtpKyspci5wdXNoKGUraSkscC5wdXNoKGcpfX19ZnVuY3Rpb24gcihlLHQscyxuLGkpe2ZvcihsZXQgbz0wO288ZS5sZW5ndGg7bysrKXtjb25zdCByPWVbb107ci5vYmIudHJhbnNmb3JtKHIub2JiSW5SZW5kZXJTUix0LHMsbixpKX19ZnVuY3Rpb24gcChlLHQpe2NvbnN0IHM9WzBdO2Zvcig7cy5sZW5ndGg7KXtjb25zdCBuPXMucG9wKCksaT1lW2Eobix0KV0ubm9kZXNbaChuLHQpXTtmb3IobGV0IG89MDtvPGkuY2hpbGRDb3VudDtvKyspe2NvbnN0IHI9aS5maXJzdENoaWxkK287bnVsbCE9ZVthKHIsdCldJiYoZVthKHIsdCldLnBhcmVudHNbaChyLHQpXT1uLHMucHVzaChyKSl9fX1mdW5jdGlvbiBhKGUsdCl7cmV0dXJuIGUvdHwwfWZ1bmN0aW9uIGgoZSx0KXtyZXR1cm4gZSV0fWV4cG9ydHtpIGFzIFBhZ2VkTm9kZUluZGV4fTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjMzL2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7XyBhcyBvfWZyb21cIi4uLy4uLy4uLy4uL2NodW5rcy90c2xpYi5lczYuanNcIjtpbXBvcnQgciBmcm9tXCIuLi8uLi8uLi8uLi9HcmFwaGljLmpzXCI7aW1wb3J0e3Byb3BlcnR5IGFzIHN9ZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9wcm9wZXJ0eS5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vLi4vY29yZS9oYXMuanNcIjtpbXBvcnRcIi4uLy4uLy4uLy4uL2NvcmUvTG9nZ2VyLmpzXCI7aW1wb3J0XCIuLi8uLi8uLi8uLi9jb3JlL1JhbmRvbUxDRy5qc1wiO2ltcG9ydHtzdWJjbGFzcyBhcyB0fWZyb21cIi4uLy4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvc3ViY2xhc3MuanNcIjtsZXQgZT1jbGFzcyBleHRlbmRzIHJ7Y29uc3RydWN0b3Iobyl7c3VwZXIobyksdGhpcy5wb2ludENsb3VkTWV0YWRhdGE9bnVsbH19O28oW3Moe2NvbnN0cnVjdE9ubHk6ITAsY2xvbmFibGU6XCJyZWZlcmVuY2VcIn0pXSxlLnByb3RvdHlwZSxcInBvaW50Q2xvdWRNZXRhZGF0YVwiLHZvaWQgMCksZT1vKFt0KFwiZXNyaS52aWV3cy4zZC5sYXllcnMuaTNzLlBvaW50Q2xvdWRHcmFwaGljXCIpXSxlKTtleHBvcnR7ZSBhcyBQb2ludENsb3VkR3JhcGhpY307XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4zMy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e21ha2VIYW5kbGUgYXMgZX1mcm9tXCIuLi8uLi8uLi8uLi9jb3JlL2hhbmRsZVV0aWxzLmpzXCI7aW1wb3J0e09iamVjdDNESGlnaGxpZ2h0U3RhdGVJRCBhcyB0fWZyb21cIi4uLy4uL3dlYmdsLWVuZ2luZS9saWIvT2JqZWN0M0RTdGF0ZUlELmpzXCI7Y2xhc3MgaXtjb25zdHJ1Y3RvcihlKXt0aGlzLl9jb250ZXh0PWUsdGhpcy5faGlnaGxpZ2h0cz1uZXcgTWFwfWdldCBlbXB0eSgpe3JldHVybiAwPT09dGhpcy5faGlnaGxpZ2h0cy5zaXplfWRlc3Ryb3koKXt0aGlzLl9oaWdobGlnaHRzPW51bGx9YWRkKHQsaSl7Y29uc3Qgcz1uZXcgaCh0LGkpLGQ9dGhpcy5faGlnaGxpZ2h0cy5nZXQoaSk7cmV0dXJuIGQ/ZC5hZGQocyk6dGhpcy5faGlnaGxpZ2h0cy5zZXQoaSxuZXcgU2V0KFtzXSkpLHRoaXMuX2VuYWJsZVNldChzKSxlKCgoKT0+dGhpcy5fcmVtb3ZlU2V0KHMpKSl9X3JlbW92ZVNldChlKXt0aGlzLl9kaXNhYmxlU2V0KGUpO2NvbnN0e2hpZ2hsaWdodE5hbWU6dH09ZS5pZCxpPXRoaXMuX2hpZ2hsaWdodHMuZ2V0KHQpO2kmJihpLmRlbGV0ZShlKSwwPT09aS5zaXplJiZ0aGlzLl9oaWdobGlnaHRzLmRlbGV0ZSh0KSl9X2VuYWJsZVNldChlKXtlLmVuYWJsZWR8fChlLmVuYWJsZWQ9ITAsdGhpcy5fY29udGV4dC5mb3JFYWNoTm9kZSgodD0+dGhpcy5fZW5hYmxlU2V0Rm9yTm9kZShlLHQpKSkpfV9lbmFibGVTZXRGb3JOb2RlKGUsdCl7aWYoIWUuZW5hYmxlZClyZXR1cm47Y29uc3QgaT1lLmlkcy5nZXQodC5pZCk7aSYmaS5mb3JFYWNoKChpPT50aGlzLl9jb250ZXh0LmFkZEhpZ2hsaWdodCh0LGksZS5pZCkpKX1fZGlzYWJsZVNldChlKXtlLmVuYWJsZWQmJihlLmVuYWJsZWQ9ITEsdGhpcy5fY29udGV4dC5mb3JFYWNoTm9kZSgodD0+dGhpcy5fZGlzYWJsZVNldEZvck5vZGUoZSx0KSkpKX1fZGlzYWJsZVNldEZvck5vZGUoZSx0KXtlLmVuYWJsZWR8fHRoaXMuX2NvbnRleHQucmVtb3ZlSGlnaGxpZ2h0KHQsZS5pZCl9bm9kZUFkZGVkKGUpe3RoaXMuX2ZvckVhY2hTZXQoKHQ9PnRoaXMuX2VuYWJsZVNldEZvck5vZGUodCxlKSkpfW5vZGVSZW1vdmVkKGUpe3RoaXMuX2ZvckVhY2hTZXQoKHQ9PnRoaXMuX2Rpc2FibGVTZXRGb3JOb2RlKHQsZSkpKX1yZW1vdmVBbGwoKXt0aGlzLl9mb3JFYWNoU2V0KChlPT50aGlzLl9kaXNhYmxlU2V0KGUpKSl9X2ZvckVhY2hTZXQoZSl7dGhpcy5faGlnaGxpZ2h0cy5mb3JFYWNoKCh0PT50LmZvckVhY2goZSkpKX1oYXMoZSl7cmV0dXJuIHRoaXMuX2hpZ2hsaWdodHMuaGFzKGUpfX1jbGFzcyBoe2NvbnN0cnVjdG9yKGUsaSl7dGhpcy5pZHM9bmV3IE1hcCx0aGlzLmVuYWJsZWQ9ITE7Zm9yKGNvbnN0IHQgb2YgZSludWxsIT10JiZ0aGlzLl9hZGQodC5ub2RlSWQsdC5wb2ludElkKTt0aGlzLmlkPW5ldyB0KGkpfV9hZGQoZSx0KXtjb25zdCBpPXRoaXMuaWRzLmdldChlKTtpP2kuYWRkKHQpOnRoaXMuaWRzLnNldChlLG5ldyBTZXQoW3RdKSl9fWV4cG9ydHtpIGFzIFBvaW50Q2xvdWRIaWdobGlnaHRzfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjMzL2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7XyBhcyBlfWZyb21cIi4uLy4uLy4uLy4uL2NodW5rcy90c2xpYi5lczYuanNcIjtpbXBvcnR7ZGlzcG9zZU1heWJlIGFzIHR9ZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9tYXliZS5qc1wiO2ltcG9ydCBzIGZyb21cIi4uLy4uLy4uLy4uL2NvcmUvUG9vbGVkQXJyYXkuanNcIjtpbXBvcnR7cHJvcGVydHkgYXMgaX1mcm9tXCIuLi8uLi8uLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3Byb3BlcnR5LmpzXCI7aW1wb3J0XCIuLi8uLi8uLi8uLi9jb3JlL2hhcy5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vLi4vY29yZS9Mb2dnZXIuanNcIjtpbXBvcnRcIi4uLy4uLy4uLy4uL2NvcmUvUmFuZG9tTENHLmpzXCI7aW1wb3J0e3N1YmNsYXNzIGFzIHJ9ZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9zdWJjbGFzcy5qc1wiO2ltcG9ydHtkIGFzIG4sbCBhcyBvLGcgYXMgYSx1IGFzIGwsZSBhcyBoLGsgYXMgY31mcm9tXCIuLi8uLi8uLi8uLi9jaHVua3MvdmVjMzIuanNcIjtpbXBvcnR7Y3JlYXRlIGFzIGR9ZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9saWJzL2dsLW1hdHJpeC0yL2ZhY3Rvcmllcy92ZWMzZjY0LmpzXCI7aW1wb3J0e3MgYXMgdX1mcm9tXCIuLi8uLi8uLi8uLi9jaHVua3MvdmVjNDIuanNcIjtpbXBvcnR7Y3JlYXRlIGFzIG0sb2Zmc2V0IGFzIGcsY29udGFpbnMgYXMgcCxjb250YWluc1BvaW50IGFzIF8sc2V0IGFzIGYscG9zaXRpdmVJbmZpbml0eSBhcyBQLGVxdWFscyBhcyBifWZyb21cIi4uLy4uLy4uLy4uL2dlb21ldHJ5L3N1cHBvcnQvYWFCb3VuZGluZ0JveC5qc1wiO2ltcG9ydHtjcmVhdGUgYXMgeH1mcm9tXCIuLi8uLi8uLi8uLi9nZW9tZXRyeS9zdXBwb3J0L3BsYW5lLmpzXCI7aW1wb3J0e2Zyb21Qb2ludHMgYXMgU31mcm9tXCIuLi8uLi8uLi8uLi9nZW9tZXRyeS9zdXBwb3J0L3JheS5qc1wiO2ltcG9ydHtQY2xUYXJnZXQgYXMgd31mcm9tXCIuL0ludGVyc2VjdG9yLmpzXCI7aW1wb3J0e1BvaW50Q2xvdWRIaWdobGlnaHRzIGFzIFJ9ZnJvbVwiLi9Qb2ludENsb3VkSGlnaGxpZ2h0cy5qc1wiO2ltcG9ydHtpc0RlcHRoIGFzIHosU2hhZGVyT3V0cHV0IGFzIEEsaXNDb2xvck9yQ29sb3JFbWlzc2lvbiBhcyBqfWZyb21cIi4uLy4uL3dlYmdsLWVuZ2luZS9jb3JlL3NoYWRlckxpYnJhcnkvU2hhZGVyT3V0cHV0LmpzXCI7aW1wb3J0e1N5bmNSZW5kZXJQbHVnaW4gYXMgeX1mcm9tXCIuLi8uLi93ZWJnbC1lbmdpbmUvZWZmZWN0cy9SZW5kZXJQbHVnaW4uanNcIjtpbXBvcnR7RGVmYXVsdDNEIGFzIEl9ZnJvbVwiLi4vLi4vd2ViZ2wtZW5naW5lL2xpYi9EZWZhdWx0VmVydGV4QXR0cmlidXRlTG9jYXRpb25zLmpzXCI7aW1wb3J0e1N0b3JlUmVzdWx0cyBhcyBUfWZyb21cIi4uLy4uL3dlYmdsLWVuZ2luZS9saWIvSW50ZXJzZWN0b3JJbnRlcmZhY2VzLmpzXCI7aW1wb3J0e0ludGVyc2VjdG9yUmVzdWx0IGFzIEV9ZnJvbVwiLi4vLi4vd2ViZ2wtZW5naW5lL2xpYi9JbnRlcnNlY3RvclJlc3VsdC5qc1wiO2ltcG9ydHtJbnRlcnNlY3RvclR5cGUgYXMgTH1mcm9tXCIuLi8uLi93ZWJnbC1lbmdpbmUvbGliL0ludGVyc2VjdG9yVHlwZS5qc1wiO2ltcG9ydHtSZW5kZXJTbG90IGFzIE99ZnJvbVwiLi4vLi4vd2ViZ2wtZW5naW5lL2xpYi9SZW5kZXJTbG90LmpzXCI7aW1wb3J0e1ZlcnRleEFycmF5T2JqZWN0IGFzIHF9ZnJvbVwiLi4vLi4vd2ViZ2wtZW5naW5lL2xpYi9WZXJ0ZXhBcnJheU9iamVjdC5qc1wiO2ltcG9ydHtWZXJ0ZXhBdHRyaWJ1dGUgYXMgdn1mcm9tXCIuLi8uLi93ZWJnbC1lbmdpbmUvbGliL1ZlcnRleEF0dHJpYnV0ZS5qc1wiO2ltcG9ydHtQIGFzIE0sZyBhcyBIfWZyb21cIi4uLy4uLy4uLy4uL2NodW5rcy9Qb2ludFJlbmRlcmVyLmdsc2wuanNcIjtpbXBvcnR7UG9pbnRSZW5kZXJlclRlY2huaXF1ZSBhcyBOfWZyb21cIi4uLy4uL3dlYmdsLWVuZ2luZS9zaGFkZXJzL1BvaW50UmVuZGVyZXJUZWNobmlxdWUuanNcIjtpbXBvcnR7UG9pbnRSZW5kZXJlclRlY2huaXF1ZUNvbmZpZ3VyYXRpb24gYXMgRn1mcm9tXCIuLi8uLi93ZWJnbC1lbmdpbmUvc2hhZGVycy9Qb2ludFJlbmRlcmVyVGVjaG5pcXVlQ29uZmlndXJhdGlvbi5qc1wiO2ltcG9ydHtCdWZmZXJPYmplY3QgYXMgVn1mcm9tXCIuLi8uLi8uLi93ZWJnbC9CdWZmZXJPYmplY3QuanNcIjtpbXBvcnR7UHJpbWl0aXZlVHlwZSBhcyBVLFVzYWdlIGFzIEIsRGF0YVR5cGUgYXMgQ31mcm9tXCIuLi8uLi8uLi93ZWJnbC9lbnVtcy5qc1wiO2ltcG9ydHtWZXJ0ZXhFbGVtZW50RGVzY3JpcHRvciBhcyBXfWZyb21cIi4uLy4uLy4uL3dlYmdsL1ZlcnRleEVsZW1lbnREZXNjcmlwdG9yLmpzXCI7Y29uc3QgRD1uZXcgTWFwKFtbXCJwb3NpdGlvbnNcIixbbmV3IFcodi5QT1NJVElPTiwzLEMuRkxPQVQsMCwxMildXSxbXCJjb2xvcnNcIixbbmV3IFcodi5DT0xPUiwzLEMuVU5TSUdORURfQllURSwwLDMsITApXV1dKTtsZXQgaz1jbGFzcyBleHRlbmRzIHl7Y29uc3RydWN0b3IoZSl7c3VwZXIoZSksdGhpcy50eXBlPUwuUENMLHRoaXMuaXNHcm91bmQ9ITEsdGhpcy5fcGFzc1BhcmFtZXRlcnM9bmV3IE0sdGhpcy5faGlnaGxpZ2h0cz1uZXcgUih7Zm9yRWFjaE5vZGU6ZT0+dGhpcy5mb3JFYWNoTm9kZShlKSxhZGRIaWdobGlnaHQ6KGUsdCxzKT0+dGhpcy5fYWRkSGlnaGxpZ2h0KGUsdCxzKSxyZW1vdmVIaWdobGlnaHQ6KGUsdCk9PnRoaXMuX3JlbW92ZUhpZ2hsaWdodChlLHQpfSksdGhpcy5wcm9kdWNlcz1uZXcgTWFwKFtbTy5PUEFRVUVfTUFURVJJQUwsZT0+ISh6KGUpfHxlPT09QS5IaWdobGlnaHQmJnRoaXMuX2hpZ2hsaWdodHMuZW1wdHkpXSxbTy5PUEFRVUVfTUFURVJJQUxfV0lUSE9VVF9OT1JNQUxTLGU9PnooZSldXSksdGhpcy5sYXllclZpZXdVaWQ9XCJcIix0aGlzLl9zbGljZVBsYW5lRW5hYmxlZD0hMSx0aGlzLl9jb25maWd1cmF0aW9uPW5ldyBGLHRoaXMuX25vZGVzPW5ldyBzfWhhc0hpZ2hsaWdodChlKXtyZXR1cm4gdGhpcy5faGlnaGxpZ2h0cy5oYXMoZSl9aW5pdGlhbGl6ZVJlbmRlckNvbnRleHQoZSl7dGhpcy5fY29udGV4dD1lLGUucmVxdWVzdFJlbmRlcigpfXVuaW5pdGlhbGl6ZVJlbmRlckNvbnRleHQoKXt9aW50ZXJzZWN0KGUsdCxzLGkpe2NvbnN0IHI9ZCgpLGY9ZCgpLFA9ZCgpLGI9ZCgpLFI9eCgpLHo9ZS5jYW1lcmEucGVyU2NyZWVuUGl4ZWxSYXRpby8yLEE9ZS5jYW1lcmEubmVhcjtuKGYsaSxzKTtjb25zdCBqPTEvbyhmKTthKGYsZixqKSxsKFAsZiksdShSLGZbMF0sZlsxXSxmWzJdLC1oKGYscykpO2NvbnN0IHk9bmV3IEosST1uZXcgSixMPW5ldyBBcnJheSxPPW0oKSxxPW0odGhpcy5fcGFzc1BhcmFtZXRlcnMuY2xpcEJveCk7ZyhxLC1zWzBdLC1zWzFdLC1zWzJdLHEpLHRoaXMuX25vZGVzLmZvckFsbCgobz0+e2NvbnN0IGE9by5zcGxhdFNpemUqdGhpcy5fcGFzc1BhcmFtZXRlcnMuc2NhbGVGYWN0b3I7bGV0IGw9by5vYmIubWluaW11bURpc3RhbmNlUGxhbmUoUiksZD1vLm9iYi5tYXhpbXVtRGlzdGFuY2VQbGFuZShSKTtsLT1RKGEsbCtBLHRoaXMuX3Bhc3NQYXJhbWV0ZXJzLHosby5pc0xlYWYpLGQtPVEoYSxkK0EsdGhpcy5fcGFzc1BhcmFtZXRlcnMseixvLmlzTGVhZik7Y29uc3QgdT1kPDAsbT1udWxsIT15LmRpc3QmJm51bGwhPUkuZGlzdCYmeS5kaXN0PGwqaiYmSS5kaXN0PmQqajtpZih1fHxtKXJldHVybjtjb25zdCB4PUcoYSxkK0EsdGhpcy5fcGFzc1BhcmFtZXRlcnMseixvLmlzTGVhZik7aWYoIW8ub2JiLmludGVyc2VjdFJheShzLGYseCkpcmV0dXJuO2NvbnN0IFM9eCp4O28ub2JiLnRvQWFCb3VuZGluZ0JveChPKSxnKE8sLXNbMF0sLXNbMV0sLXNbMl0sTyk7Y29uc3Qgdz0hcChxLE8pO24oYixvLm9yaWdpbixzKTtjb25zdCBFPW8uY29vcmRpbmF0ZXMubGVuZ3RoLzM7Zm9yKGxldCBuPTA7bjxFO24rKyl7aWYoclswXT1iWzBdK28uY29vcmRpbmF0ZXNbMypuXSxyWzFdPWJbMV0rby5jb29yZGluYXRlc1szKm4rMV0sclsyXT1iWzJdK28uY29vcmRpbmF0ZXNbMypuKzJdLHcmJiFfKHEscikpY29udGludWU7Y29uc3QgbD1oKHIsZiksZD1jKHIpLWwqbDtpZihkPlMpY29udGludWU7bGV0IHU9bCtBO2NvbnN0IG09UShhLHUsdGhpcy5fcGFzc1BhcmFtZXRlcnMseixvLmlzTGVhZik7aWYobC1tPDApY29udGludWU7dS09bTtjb25zdCBnPUcoYSx1LHRoaXMuX3Bhc3NQYXJhbWV0ZXJzLHosby5pc0xlYWYpO2lmKGQ+ZypnKWNvbnRpbnVlO2NvbnN0IHA9KGwtbSkqaix4PWU9PihlLnBvaW50PVkobyxuLGUucG9pbnQpLGUuZGlzdD1wLGUubm9ybWFsPVAsZS5ub2RlPW8sZS5wb2ludElkPW4sZS5sYXllclZpZXdVaWQ9dGhpcy5sYXllclZpZXdVaWQsZSk7aWYoKG51bGw9PXkuZGlzdHx8cDx5LmRpc3QpJiYobnVsbD09dHx8dChzLGkscCkpJiZ4KHkpLGUub3B0aW9ucy5zdG9yZSE9PVQuTUlOJiYobnVsbD09SS5kaXN0fHxwPkkuZGlzdCkmJihudWxsPT10fHx0KHMsaSxwKSkmJngoSSksZS5vcHRpb25zLnN0b3JlPT09VC5BTEwmJihudWxsPT10fHx0KHMsaSxwKSkpe2NvbnN0IGU9bmV3IEo7TC5wdXNoKHgoZSkpfX19KSk7Y29uc3Qgdj1lPT57Y29uc3R7bGF5ZXJWaWV3VWlkOnQsbm9kZTpzLHBvaW50SWQ6aX09ZTtyZXR1cm4gbmV3IHcoZS5wb2ludCx0LGksKCgpPT50aGlzLmNyZWF0ZUdyYXBoaWMocyxpLGUucG9pbnQpKSl9LE09KGUsdCk9Pntjb25zdCBzPXYodCk7ZS5zZXQodGhpcy50eXBlLHMsdC5kaXN0LHQubm9ybWFsKX07aWYoSyh5KSl7Y29uc3QgdD1lLnJlc3VsdHMubWluOyhudWxsPT10LmRpc3RhbmNlfHx5LmRpc3Q8dC5kaXN0YW5jZSkmJk0odCx5KX1pZihLKEkpJiZlLm9wdGlvbnMuc3RvcmUhPT1ULk1JTil7Y29uc3QgdD1lLnJlc3VsdHMubWF4OyhudWxsPT10LmRpc3RhbmNlfHxJLmRpc3Q+dC5kaXN0YW5jZSkmJk0odCxJKX1pZihlLm9wdGlvbnMuc3RvcmU9PT1ULkFMTCl7Y29uc3QgdD1TKHMsaSk7Zm9yKGNvbnN0IHMgb2YgTCl7Y29uc3QgaT1uZXcgRSh0KTtNKGkscyksZS5yZXN1bHRzLmFsbC5wdXNoKGkpfX19YWNxdWlyZVRlY2huaXF1ZXMoZSl7Y29uc3QgdD1lLm91dHB1dD09PUEuSGlnaGxpZ2h0O3JldHVybiAwIT09dGhpcy5fbm9kZXMubGVuZ3RoJiYoaihlLm91dHB1dCl8fHooZS5vdXRwdXQpJiZlLmJpbmQuc2xvdD09PU8uT1BBUVVFX01BVEVSSUFMX1dJVEhPVVRfTk9STUFMU3x8dCk/KHRoaXMuX25vZGVzLmZvckFsbCgodD0+dGhpcy5faW5pdE5vZGUoZSx0KSkpLHRoaXMuX2NvbmZpZ3VyYXRpb24uZHJhd1NjcmVlblNpemU9dGhpcy5fcGFzc1BhcmFtZXRlcnMuZHJhd1NjcmVlblNwYWNlLHRoaXMuX2NvbmZpZ3VyYXRpb24udXNlRml4ZWRTaXplcz10aGlzLl9wYXNzUGFyYW1ldGVycy51c2VGaXhlZFNpemVzLHRoaXMuX2NvbmZpZ3VyYXRpb24uaGFzU2xpY2VQbGFuZT10aGlzLl9zbGljZVBsYW5lRW5hYmxlZCx0aGlzLl9jb25maWd1cmF0aW9uLmhhc09jY2x1ZGVlcz1lLmJpbmQuaGFzT2NjbHVkZWVzLHRoaXMuX2NvbmZpZ3VyYXRpb24uY2xpcHBpbmdFbmFibGVkPXRoaXMuX2NsaXBwaW5nRW5hYmxlZCx0aGlzLl9jb25maWd1cmF0aW9uLmhhc0hpZ2hsaWdodE1peFRleHR1cmU9dCYmbnVsbCE9ZS5iaW5kLmhpZ2hsaWdodE1peFRleHR1cmUsdGhpcy5fY29uZmlndXJhdGlvbi5vdXRwdXQ9ZS5vdXRwdXQsdGhpcy5fY29udGV4dC50ZWNobmlxdWVzLmdldChOLHRoaXMuX2NvbmZpZ3VyYXRpb24pKTpudWxsfXJlbmRlcihlLHQpe2NvbnN0e3JjdHg6cyxiaW5kOmksb3V0cHV0OnJ9PWUsbj1zLmJpbmRUZWNobmlxdWUodCxpLHRoaXMuX3Bhc3NQYXJhbWV0ZXJzKSxvPXI9PT1BLkhpZ2hsaWdodCxhPWkuaGlnaGxpZ2h0Py5uYW1lPz9udWxsO28mJiFhfHx0aGlzLl9ub2Rlcy5mb3JBbGwoKHQ9PnswPT09dC5jb29yZGluYXRlcy5sZW5ndGh8fG8mJiF0LmhpZ2hsaWdodE1hcC5oYXMoYSl8fChuLmJpbmREcmF3KGksdGhpcy5fcGFzc1BhcmFtZXRlcnMsdCkscy5iaW5kVkFPKHQudmFvKSxvP3RoaXMuX3JlbmRlckhpZ2hsaWdodEZyYWdtZW50cyhlLHQpOnMuZHJhd0FycmF5cyhVLlBPSU5UUywwLHQuY29vcmRpbmF0ZXMubGVuZ3RoLzMpKX0pKX1fcmVuZGVySGlnaGxpZ2h0RnJhZ21lbnRzKGUsdCl7Y29uc3R7aGlnaGxpZ2h0TWFwOnN9PXQse3JjdHg6aSxiaW5kOnJ9PWUse2hpZ2hsaWdodDpufT1yO2lmKCFuKXJldHVybjtjb25zdCBvPW4ubmFtZSxhPXMuZ2V0KG8pO2lmKCFhfHwwPT09YS5sZW5ndGgpcmV0dXJuO2NvbnN0e2hpZ2hsaWdodE9yZGVyTWFwOmwsaGlnaGxpZ2h0TGV2ZWw6aH09cjtpZihudWxsPT1oKXJldHVybjtmb3IoY29uc3QgcCBvZiBzLmtleXMoKSlpZihwIT09byl7Y29uc3QgZT1sLmdldChwKTtpZih2b2lkIDAhPT1lJiZlPmgpcmV0dXJufWxldCBjPTAsZD1hWzBdLmNvbXBvbmVudEluZGV4LHU9ZCsxO2NvbnN0IG09KCk9Pntmb3IoO2M8YS5sZW5ndGgmJmFbY10uaWQuaGlnaGxpZ2h0TmFtZSE9PW87KWQ9YVtjXS5jb21wb25lbnRJbmRleCwrK2M7dT1kKzF9O20oKTtjb25zdCBnPShlLHQpPT57Y29uc3Qgcz10LWU7cz4wJiZpLmRyYXdBcnJheXMoVS5QT0lOVFMsZSxzKX07Zm9yKDtjPGEubGVuZ3RoOyl7Y29uc3QgZT1hW2NdO2lmKGUuaWQuaGlnaGxpZ2h0TmFtZSE9PW8pe2coZCx1KSwrK2MsbSgpO2NvbnRpbnVlfWNvbnN0IHQ9ZS5jb21wb25lbnRJbmRleDt0IT09dSYmKGcoZCx1KSxkPXQpLHU9dCsxLCsrY31nKGQsdSl9c2V0IHVzZUZpeGVkU2l6ZXMoZSl7dGhpcy5fcGFzc1BhcmFtZXRlcnMudXNlRml4ZWRTaXplcyE9PWUmJih0aGlzLl9wYXNzUGFyYW1ldGVycy51c2VGaXhlZFNpemVzPWUsdGhpcy5fcmVxdWVzdFJlbmRlcigpKX1nZXQgdXNlRml4ZWRTaXplcygpe3JldHVybiB0aGlzLl9wYXNzUGFyYW1ldGVycy51c2VGaXhlZFNpemVzfXNldCBzY2FsZUZhY3RvcihlKXt0aGlzLl9wYXNzUGFyYW1ldGVycy5zY2FsZUZhY3RvciE9PWUmJih0aGlzLl9wYXNzUGFyYW1ldGVycy5zY2FsZUZhY3Rvcj1lLHRoaXMuX3JlcXVlc3RSZW5kZXIoKSl9Z2V0IHNjYWxlRmFjdG9yKCl7cmV0dXJuIHRoaXMuX3Bhc3NQYXJhbWV0ZXJzLnNjYWxlRmFjdG9yfXNldCBtaW5TaXplUHgoZSl7dGhpcy5fcGFzc1BhcmFtZXRlcnMubWluU2l6ZVB4IT09ZSYmKHRoaXMuX3Bhc3NQYXJhbWV0ZXJzLm1pblNpemVQeD1lLHRoaXMuX3JlcXVlc3RSZW5kZXIoKSl9Z2V0IG1pblNpemVQeCgpe3JldHVybiB0aGlzLl9wYXNzUGFyYW1ldGVycy5taW5TaXplUHh9c2V0IHVzZVJlYWxXb3JsZFN5bWJvbFNpemVzKGUpe3RoaXMuX3Bhc3NQYXJhbWV0ZXJzLnVzZVJlYWxXb3JsZFN5bWJvbFNpemVzIT09ZSYmKHRoaXMuX3Bhc3NQYXJhbWV0ZXJzLnVzZVJlYWxXb3JsZFN5bWJvbFNpemVzPWUsdGhpcy5fcmVxdWVzdFJlbmRlcigpKX1nZXQgdXNlUmVhbFdvcmxkU3ltYm9sU2l6ZXMoKXtyZXR1cm4gdGhpcy5fcGFzc1BhcmFtZXRlcnMudXNlUmVhbFdvcmxkU3ltYm9sU2l6ZXN9c2V0IHNpemUoZSl7dGhpcy5fcGFzc1BhcmFtZXRlcnMuc2l6ZSE9PWUmJih0aGlzLl9wYXNzUGFyYW1ldGVycy5zaXplPWUsdGhpcy5fcmVxdWVzdFJlbmRlcigpKX1nZXQgc2l6ZSgpe3JldHVybiB0aGlzLl9wYXNzUGFyYW1ldGVycy5zaXplfXNldCBzaXplUHgoZSl7dGhpcy5fcGFzc1BhcmFtZXRlcnMuc2l6ZVB4IT09ZSYmKHRoaXMuX3Bhc3NQYXJhbWV0ZXJzLnNpemVQeD1lLHRoaXMuX3JlcXVlc3RSZW5kZXIoKSl9Z2V0IHNpemVQeCgpe3JldHVybiB0aGlzLl9wYXNzUGFyYW1ldGVycy5zaXplUHh9c2V0IGNsaXBwaW5nQm94KGUpe2YodGhpcy5fcGFzc1BhcmFtZXRlcnMuY2xpcEJveCxlfHxQKX1nZXQgX2NsaXBwaW5nRW5hYmxlZCgpe3JldHVybiFiKHRoaXMuX3Bhc3NQYXJhbWV0ZXJzLmNsaXBCb3gsUCwoKGUsdCk9PmU9PT10KSl9Z2V0IHNsaWNlUGxhbmVFbmFibGVkKCl7cmV0dXJuIHRoaXMuX3NsaWNlUGxhbmVFbmFibGVkfXNldCBzbGljZVBsYW5lRW5hYmxlZChlKXt0aGlzLl9zbGljZVBsYW5lRW5hYmxlZCE9PWUmJih0aGlzLl9zbGljZVBsYW5lRW5hYmxlZD1lLHRoaXMuX3JlcXVlc3RSZW5kZXIoKSl9YWRkTm9kZShlKXt0aGlzLl9ub2Rlcy5wdXNoKGUpLHRoaXMuX2hpZ2hsaWdodHMubm9kZUFkZGVkKGUpLHRoaXMuX3JlcXVlc3RSZW5kZXIoKX1yZW1vdmVOb2RlKGUpe2xldCBzPW51bGw7cmV0dXJuIHRoaXMuX25vZGVzLmZpbHRlckluUGxhY2UoKGk9PmkuaWQhPT1lfHwocz1pLGkudmFvPXQoaS52YW8pLHRoaXMuX2hpZ2hsaWdodHMubm9kZVJlbW92ZWQoaSksITEpKSksdGhpcy5fcmVxdWVzdFJlbmRlcigpLHN9Zm9yRWFjaE5vZGUoZSl7dGhpcy5fbm9kZXMuZm9yQWxsKGUpfXJlbW92ZUFsbCgpe3RoaXMuX25vZGVzLmZvckFsbCgoZT0+ZS52YW89dChlLnZhbykpKSx0aGlzLl9oaWdobGlnaHRzLnJlbW92ZUFsbCgpLHRoaXMuX25vZGVzLmNsZWFyKCksdGhpcy5fcmVxdWVzdFJlbmRlcigpfWhpZ2hsaWdodChlLHQpe3JldHVybiB0aGlzLl9oaWdobGlnaHRzLmFkZChlLHQpfV9hZGRIaWdobGlnaHQoZSx0LHMpe2UuYWRkSGlnaGxpZ2h0KHQscyksdGhpcy5fcmVxdWVzdFJlbmRlcigpfV9yZW1vdmVIaWdobGlnaHQoZSx0KXtlLnJlbW92ZUhpZ2hsaWdodCh0KSx0aGlzLl9yZXF1ZXN0UmVuZGVyKCl9X2luaXROb2RlKGUsdCl7dC52YW8/Pz1uZXcgcShlLnJjdHgsSSxELG5ldyBNYXAoW1tcInBvc2l0aW9uc1wiLFYuY3JlYXRlVmVydGV4KGUucmN0eCxCLlNUQVRJQ19EUkFXLHQuY29vcmRpbmF0ZXMpXSxbXCJjb2xvcnNcIixWLmNyZWF0ZVZlcnRleChlLnJjdHgsQi5TVEFUSUNfRFJBVyx0LnJnYildXSkpfV9yZXF1ZXN0UmVuZGVyKCl7dGhpcy5fY29udGV4dCYmdGhpcy5fY29udGV4dC5yZXF1ZXN0UmVuZGVyKCl9fTtmdW5jdGlvbiBHKGUsdCxzLGkscil7aWYocy5kcmF3U2NyZWVuU3BhY2UpcmV0dXJuIHMuZml4ZWRTaXplKnQqaTtjb25zdCBuPUgocikqdCppO3JldHVybiBzLnVzZUZpeGVkU2l6ZXM/TWF0aC5taW4ocy5maXhlZFNpemUvMixuKTpzLnNjcmVlbk1pblNpemU+MD9NYXRoLm1pbihNYXRoLm1heChzLnNjcmVlbk1pblNpemUqdCppLGUvMiksbik6TWF0aC5taW4oZS8yLG4pfWZ1bmN0aW9uIFEoZSx0LHMsaSxyKXtyZXR1cm4gcy5kcmF3U2NyZWVuU3BhY2U/MDpHKGUsdCxzLGkscil9ZnVuY3Rpb24gWShlLHQscyl7cmV0dXJuIG51bGw9PXMmJihzPWQoKSksc1swXT1lLm9yaWdpblswXStlLmNvb3JkaW5hdGVzWzMqdF0sc1sxXT1lLm9yaWdpblsxXStlLmNvb3JkaW5hdGVzWzMqdCsxXSxzWzJdPWUub3JpZ2luWzJdK2UuY29vcmRpbmF0ZXNbMyp0KzJdLHN9ZShbaSh7Y29uc3RydWN0T25seTohMH0pXSxrLnByb3RvdHlwZSxcImNyZWF0ZUdyYXBoaWNcIix2b2lkIDApLGs9ZShbcihcImVzcmkudmlld3MuM2QubGF5ZXJzLmkzcy5Qb2ludENsb3VkUmVuZGVyZXJcIildLGspO2NsYXNzIEp7Y29uc3RydWN0b3IoKXt0aGlzLm5vZGU9bnVsbCx0aGlzLnBvaW50SWQ9bnVsbCx0aGlzLnBvaW50PW51bGwsdGhpcy5kaXN0PW51bGwsdGhpcy5ub3JtYWw9bnVsbCx0aGlzLmxheWVyVmlld1VpZD1cIlwifX1mdW5jdGlvbiBLKGUpe3JldHVybiBudWxsIT1lLmRpc3QmJm51bGwhPWUucG9pbnQmJm51bGwhPWUucG9pbnRJZCYmbnVsbCE9ZS5ub2RlfWV4cG9ydHtrIGFzIFBvaW50Q2xvdWRSZW5kZXJlcn07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4zMy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e2dldE9yQ3JlYXRlTWFwVmFsdWUgYXMgdH1mcm9tXCIuLi8uLi8uLi8uLi9jb3JlL01hcFV0aWxzLmpzXCI7aW1wb3J0e2EgYXMgZX1mcm9tXCIuLi8uLi8uLi8uLi9jaHVua3MvUG9pbnRSZW5kZXJlci5nbHNsLmpzXCI7Y2xhc3MgaSBleHRlbmRzIGV7Y29uc3RydWN0b3IodCxlLGksbixoLHMscixvLGw9bnVsbCl7c3VwZXIoaSxoLGUpLHRoaXMuaWQ9dCx0aGlzLm9iYj1uLHRoaXMuY29vcmRpbmF0ZXM9cyx0aGlzLnJnYj1yLHRoaXMuYXR0cmlidXRlcz1vLHRoaXMucG9pbnRJZEZpbHRlck1hcD1sLHRoaXMuaGlnaGxpZ2h0TWFwPW5ldyBNYXB9YWRkSGlnaGxpZ2h0KGUsaSl7Y29uc3R7aGlnaGxpZ2h0TWFwOm59PXRoaXMscj10KG4saS5oaWdobGlnaHROYW1lLCgoKT0+bmV3IEFycmF5KSksbz1uZXcgcyhlLGkpO3IucHVzaChvKTtjb25zdCBsPWgobyk7Zm9yKGxldCB0PXIubGVuZ3RoLTE7dD4wJiZsPGgoclt0LTFdKTstLXQpW3JbdC0xXSxyW3RdXT1bclt0XSxyW3QtMV1dfXJlbW92ZUhpZ2hsaWdodCh0KXtjb25zdHtoaWdobGlnaHRNYXA6ZX09dGhpcyx7aGlnaGxpZ2h0TmFtZTppfT10LG49ZS5nZXQoaSk7aWYoIW4pcmV0dXJuO2NvbnN0IGg9bi5maWx0ZXIoKGU9PmUuaWQhPT10KSk7MD09PWgubGVuZ3RoP2UuZGVsZXRlKGkpOmUuc2V0KGksaCl9Z2V0IGNhY2hlZE1lbW9yeSgpe3JldHVybiA1KnRoaXMuY29vcmRpbmF0ZXMubGVuZ3RoKzEyOH19ZnVuY3Rpb24gbih0KXtyZXR1cm4gdC5oYXNPd25Qcm9wZXJ0eShcInNwbGF0U2l6ZVwiKX1mdW5jdGlvbiBoKHQpe3JldHVybiBudWxsIT10LmNvbXBvbmVudEluZGV4P3QuY29tcG9uZW50SW5kZXg6LTF9Y2xhc3Mgc3tjb25zdHJ1Y3Rvcih0LGUpe3RoaXMuY29tcG9uZW50SW5kZXg9dCx0aGlzLmlkPWV9fWV4cG9ydHtpIGFzIFBvaW50Q2xvdWRSZW5kZXJlck5vZGUsbiBhcyBpc1BvaW50UmVuZGVyZXJOb2RlfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjMzL2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5mdW5jdGlvbiB0KHQpe2NvbnN0IGU9dC5yZW5kZXJlcixuPWU/LnR5cGUsbz1lPy50b0pTT04oKT8/bnVsbDtsZXQgbD1udWxsLGk9ITE7Y29uc3QgYT10LmF0dHJpYnV0ZVN0b3JhZ2VJbmZvO1wicG9pbnQtY2xvdWQtdW5pcXVlLXZhbHVlXCI9PT1ufHxcInBvaW50LWNsb3VkLXN0cmV0Y2hcIj09PW58fFwicG9pbnQtY2xvdWQtY2xhc3MtYnJlYWtzXCI9PT1uP2w9dShhLGUuZmllbGQpOlwicG9pbnQtY2xvdWQtcmdiXCI9PT1uPyhsPXIoYSxlLmZpZWxkKSxpPW51bGwhPWwpOihsPXIoYSxcIlJHQlwiKSxpPW51bGwhPWwpO2xldCBzPW51bGw7cmV0dXJuIGU/LmNvbG9yTW9kdWxhdGlvbiYmKHM9dShhLGUuY29sb3JNb2R1bGF0aW9uLmZpZWxkKSkse3JlbmRlcmVySlNPTjpvLGlzUkdCUmVuZGVyZXI6aSxwcmltYXJ5QXR0cmlidXRlOmwsbW9kdWxhdGlvbkF0dHJpYnV0ZTpzfX1mdW5jdGlvbiBlKHQpe2NvbnN0IGU9dC5maWx0ZXJzO3JldHVybiBlP2UubWFwKChlPT4oe2ZpbHRlckpTT046ZS50b0pTT04oKSxhdHRyaWJ1dGVJbmZvOnUodC5hdHRyaWJ1dGVTdG9yYWdlSW5mbyxlLmZpZWxkKX0pKSk6W119ZnVuY3Rpb24gbih0KXtjb25zdCBlPXQ/LnBvaW50U2l6ZUFsZ29yaXRobTtyZXR1cm4gZSYmXCJzcGxhdFwiPT09ZS50eXBlP2U6bnVsbH1mdW5jdGlvbiBvKHQpe2NvbnN0IGU9dD8ucG9pbnRTaXplQWxnb3JpdGhtO3JldHVybiBlJiZcImZpeGVkLXNpemVcIj09PWUudHlwZT9lOm51bGx9ZnVuY3Rpb24gbCh0KXtjb25zdCBlPXQ/LnBvaW50U2l6ZUFsZ29yaXRobTtyZXR1cm4hIWU/LnR5cGUmJlwiZml4ZWQtc2l6ZVwiPT09ZS50eXBlfWZ1bmN0aW9uIHIodCxlKXtmb3IoY29uc3QgbiBvZiB0Pz9bXSlpZihuLm5hbWU9PT1lJiZudWxsIT1uLmF0dHJpYnV0ZVZhbHVlcyYmXCJVSW50OFwiPT09bi5hdHRyaWJ1dGVWYWx1ZXMudmFsdWVUeXBlJiYzPT09bi5hdHRyaWJ1dGVWYWx1ZXMudmFsdWVzUGVyRWxlbWVudClyZXR1cm57bmFtZTplLHN0b3JhZ2VJbmZvOm4sdXNlRWxldmF0aW9uOiExfTtyZXR1cm4gbnVsbH1mdW5jdGlvbiB1KHQsZSl7Zm9yKGNvbnN0IG4gb2YgdD8/W10paWYobi5uYW1lPT09ZSl7Y29uc3QgdD1cImVtYmVkZGVkLWVsZXZhdGlvblwiPT09bi5lbmNvZGluZztyZXR1cm4gdD97bmFtZTplLHN0b3JhZ2VJbmZvOm51bGwsdXNlRWxldmF0aW9uOnR9OntuYW1lOmUsc3RvcmFnZUluZm86bix1c2VFbGV2YXRpb246dH19cmV0dXJuXCJlbGV2YXRpb25cIj09PWU/LnRvTG93ZXJDYXNlKCk/e25hbWU6ZSxzdG9yYWdlSW5mbzpudWxsLHVzZUVsZXZhdGlvbjohMH06bnVsbH1leHBvcnR7dSBhcyBnZXRBdHRyaWJ1dGVJbmZvLGUgYXMgZ2V0RmlsdGVySW5mbyxvIGFzIGdldEZpeGVkU2l6ZUFsZ29yaXRobSx0IGFzIGdldFJlbmRlcmVySW5mbyxuIGFzIGdldFNwbGF0U2l6ZUFsZ29yaXRobSxsIGFzIHJlbmRlcmVyVXNlc0ZpeGVkU2l6ZXN9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMzMvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydFwiLi4vLi4vLi4vLi4vY29yZS9oYXMuanNcIjtpbXBvcnQgZSBmcm9tXCIuLi8uLi8uLi8uLi9yZW5kZXJlcnMvUG9pbnRDbG91ZENsYXNzQnJlYWtzUmVuZGVyZXIuanNcIjtpbXBvcnQgciBmcm9tXCIuLi8uLi8uLi8uLi9yZW5kZXJlcnMvUG9pbnRDbG91ZFN0cmV0Y2hSZW5kZXJlci5qc1wiO2ltcG9ydCBvIGZyb21cIi4uLy4uLy4uLy4uL3JlbmRlcmVycy9Qb2ludENsb3VkVW5pcXVlVmFsdWVSZW5kZXJlci5qc1wiO2ltcG9ydHtjcmVhdGVHZW9tZXRyeUluZGV4RnJvbVNjaGVtYSBhcyB0LGNyZWF0ZVR5cGVkVmlldyBhcyBuLHJlYWRCaW5hcnlBdHRyaWJ1dGUgYXMgbH1mcm9tXCIuL0kzU0JpbmFyeVJlYWRlci5qc1wiO2ltcG9ydHtkZWNvZGVYWVogYXMgc31mcm9tXCIuL0xFUENDLmpzXCI7ZnVuY3Rpb24gaSh0LG4sbCxzKXtjb25zdHtyZW5kZXJlckpTT046aSxpc1JHQlJlbmRlcmVyOnV9PXQ7bGV0IGM9bnVsbCxhPW51bGw7aWYobiYmdSljPW47ZWxzZSBpZihuJiZcInBvaW50Q2xvdWRVbmlxdWVWYWx1ZVJlbmRlcmVyXCI9PT1pPy50eXBlKXthPW8uZnJvbUpTT04oaSk7Y29uc3QgZT1hLmNvbG9yVW5pcXVlVmFsdWVJbmZvcztjPW5ldyBVaW50OEFycmF5KDMqcyk7Y29uc3Qgcj1kKGEuZmllbGRUcmFuc2Zvcm1UeXBlKTtmb3IobGV0IG89MDtvPHM7bysrKXtjb25zdCB0PShyP3IobltvXSk6bltvXSkrXCJcIjtmb3IobGV0IHI9MDtyPGUubGVuZ3RoO3IrKylpZihlW3JdLnZhbHVlcy5pbmNsdWRlcyh0KSl7Y1szKm9dPWVbcl0uY29sb3IucixjWzMqbysxXT1lW3JdLmNvbG9yLmcsY1szKm8rMl09ZVtyXS5jb2xvci5iO2JyZWFrfX19ZWxzZSBpZihuJiZcInBvaW50Q2xvdWRTdHJldGNoUmVuZGVyZXJcIj09PWk/LnR5cGUpe2E9ci5mcm9tSlNPTihpKTtjb25zdCBlPWEuc3RvcHM7Yz1uZXcgVWludDhBcnJheSgzKnMpO2NvbnN0IG89ZChhLmZpZWxkVHJhbnNmb3JtVHlwZSk7Zm9yKGxldCByPTA7cjxzO3IrKyl7Y29uc3QgdD1vP28obltyXSk6bltyXSxsPWUubGVuZ3RoLTE7aWYodDxlWzBdLnZhbHVlKWNbMypyXT1lWzBdLmNvbG9yLnIsY1szKnIrMV09ZVswXS5jb2xvci5nLGNbMypyKzJdPWVbMF0uY29sb3IuYjtlbHNlIGlmKHQ+PWVbbF0udmFsdWUpY1szKnJdPWVbbF0uY29sb3IucixjWzMqcisxXT1lW2xdLmNvbG9yLmcsY1szKnIrMl09ZVtsXS5jb2xvci5iO2Vsc2UgZm9yKGxldCBvPTE7bzxlLmxlbmd0aDtvKyspaWYodDxlW29dLnZhbHVlKXtjb25zdCBuPSh0LWVbby0xXS52YWx1ZSkvKGVbb10udmFsdWUtZVtvLTFdLnZhbHVlKTtjWzMqcl09ZVtvXS5jb2xvci5yKm4rZVtvLTFdLmNvbG9yLnIqKDEtbiksY1szKnIrMV09ZVtvXS5jb2xvci5nKm4rZVtvLTFdLmNvbG9yLmcqKDEtbiksY1szKnIrMl09ZVtvXS5jb2xvci5iKm4rZVtvLTFdLmNvbG9yLmIqKDEtbik7YnJlYWt9fX1lbHNlIGlmKG4mJlwicG9pbnRDbG91ZENsYXNzQnJlYWtzUmVuZGVyZXJcIj09PWk/LnR5cGUpe2E9ZS5mcm9tSlNPTihpKTtjb25zdCByPWEuY29sb3JDbGFzc0JyZWFrSW5mb3M7Yz1uZXcgVWludDhBcnJheSgzKnMpO2NvbnN0IG89ZChhLmZpZWxkVHJhbnNmb3JtVHlwZSk7Zm9yKGxldCBlPTA7ZTxzO2UrKyl7Y29uc3QgdD1vP28obltlXSk6bltlXTtmb3IobGV0IG89MDtvPHIubGVuZ3RoO28rKylpZih0Pj1yW29dLm1pblZhbHVlJiZ0PD1yW29dLm1heFZhbHVlKXtjWzMqZV09cltvXS5jb2xvci5yLGNbMyplKzFdPXJbb10uY29sb3IuZyxjWzMqZSsyXT1yW29dLmNvbG9yLmI7YnJlYWt9fX1lbHNlIGM9bmV3IFVpbnQ4QXJyYXkoMypzKS5maWxsKDI1NSk7aWYobCYmYT8uY29sb3JNb2R1bGF0aW9uKXtjb25zdCBlPWEuY29sb3JNb2R1bGF0aW9uLm1pblZhbHVlLHI9YS5jb2xvck1vZHVsYXRpb24ubWF4VmFsdWUsbz0uMztmb3IobGV0IHQ9MDt0PHM7dCsrKXtjb25zdCBuPWxbdF0scz1uPj1yPzE6bjw9ZT9vOm8rKDEtbykqKG4tZSkvKHItZSk7Y1szKnRdPXMqY1szKnRdLGNbMyp0KzFdPXMqY1szKnQrMV0sY1szKnQrMl09cypjWzMqdCsyXX19cmV0dXJuIGN9ZnVuY3Rpb24gdShlLHIpe2lmKG51bGw9PWUuZW5jb2Rpbmd8fFwiXCI9PT1lLmVuY29kaW5nKXtjb25zdCBvPXQocixlKTtpZihudWxsPT1vLnZlcnRleEF0dHJpYnV0ZXMucG9zaXRpb24pcmV0dXJuO2NvbnN0IGw9bihyLG8udmVydGV4QXR0cmlidXRlcy5wb3NpdGlvbikscz1vLmhlYWRlci5maWVsZHMsaT1bcy5vZmZzZXRYLHMub2Zmc2V0WSxzLm9mZnNldFpdLHU9W3Muc2NhbGVYLHMuc2NhbGVZLHMuc2NhbGVaXSxjPWwubGVuZ3RoLzMsYT1uZXcgRmxvYXQ2NEFycmF5KDMqYyk7Zm9yKGxldCBlPTA7ZTxjO2UrKylhWzMqZV09bFszKmVdKnVbMF0raVswXSxhWzMqZSsxXT1sWzMqZSsxXSp1WzFdK2lbMV0sYVszKmUrMl09bFszKmUrMl0qdVsyXStpWzJdO3JldHVybiBhfWlmKFwibGVwY2MteHl6XCI9PT1lLmVuY29kaW5nKXJldHVybiBzKHIpLnJlc3VsdH1mdW5jdGlvbiBjKGUscixvKXtyZXR1cm4gZT8uYXR0cmlidXRlSW5mby51c2VFbGV2YXRpb24/cj9hKHIsbyk6bnVsbDplPy5hdHRyaWJ1dGVJbmZvLnN0b3JhZ2VJbmZvP2woZS5hdHRyaWJ1dGVJbmZvLnN0b3JhZ2VJbmZvLGUuYnVmZmVyLG8sITApOm51bGx9ZnVuY3Rpb24gYShlLHIpe2NvbnN0IG89bmV3IEZsb2F0NjRBcnJheShyKTtmb3IobGV0IHQ9MDt0PHI7dCsrKW9bdF09ZVszKnQrMl07cmV0dXJuIG99ZnVuY3Rpb24gZihlLHIsbyx0LG4pe2NvbnN0IGw9ZS5sZW5ndGgvMztsZXQgcz0wO2ZvcihsZXQgaT0wO2k8bDtpKyspe2xldCBsPSEwO2ZvcihsZXQgZT0wO2U8dC5sZW5ndGgmJmw7ZSsrKXtjb25zdHtmaWx0ZXJKU09OOnJ9PXRbZV0sbz1uW2VdLnZhbHVlc1tpXTtzd2l0Y2goci50eXBlKXtjYXNlXCJwb2ludENsb3VkVmFsdWVGaWx0ZXJcIjp7Y29uc3QgZT1cImV4Y2x1ZGVcIj09PXIubW9kZTtyLnZhbHVlcy5pbmNsdWRlcyhvKT09PWUmJihsPSExKTticmVha31jYXNlXCJwb2ludENsb3VkQml0ZmllbGRGaWx0ZXJcIjp7Y29uc3QgZT1wKHIucmVxdWlyZWRTZXRCaXRzKSx0PXAoci5yZXF1aXJlZENsZWFyQml0cyk7KG8mZSk9PT1lJiYwPT09KG8mdCl8fChsPSExKTticmVha31jYXNlXCJwb2ludENsb3VkUmV0dXJuRmlsdGVyXCI6e2NvbnN0IGU9MTUmbyx0PW8+Pj40JjE1LG49dD4xLHM9MT09PWUsaT1lPT09dDtsZXQgdT0hMTtmb3IoY29uc3QgbyBvZiByLmluY2x1ZGVkUmV0dXJucylpZihcImxhc3RcIj09PW8mJml8fFwiZmlyc3RPZk1hbnlcIj09PW8mJnMmJm58fFwibGFzdE9mTWFueVwiPT09byYmaSYmbnx8XCJzaW5nbGVcIj09PW8mJiFuKXt1PSEwO2JyZWFrfXV8fChsPSExKTticmVha319fWwmJihvW3NdPWksZVszKnNdPWVbMyppXSxlWzMqcysxXT1lWzMqaSsxXSxlWzMqcysyXT1lWzMqaSsyXSxyWzMqc109clszKmldLHJbMypzKzFdPXJbMyppKzFdLHJbMypzKzJdPXJbMyppKzJdLHMrKyl9cmV0dXJuIHN9ZnVuY3Rpb24gZChlKXtzd2l0Y2goZSl7ZGVmYXVsdDpjYXNlIG51bGw6Y2FzZVwibm9uZVwiOnJldHVybiBlPT5lO2Nhc2VcImxvdy1mb3VyLWJpdFwiOnJldHVybiBlPT4xNSZlO2Nhc2VcImhpZ2gtZm91ci1iaXRcIjpyZXR1cm4gZT0+KDI0MCZlKT4+NDtjYXNlXCJhYnNvbHV0ZS12YWx1ZVwiOnJldHVybiBlPT5NYXRoLmFicyhlKTtjYXNlXCJtb2R1bG8tdGVuXCI6cmV0dXJuIGU9PmUlMTB9fWZ1bmN0aW9uIHAoZSl7bGV0IHI9MDtmb3IoY29uc3QgbyBvZiBlfHxbXSlyfD0xPDxvO3JldHVybiByfWV4cG9ydHthIGFzIGVsZXZhdGlvbkZyb21Qb3NpdGlvbnMsaSBhcyBldmFsdWF0ZVJlbmRlcmVyLGYgYXMgZmlsdGVySW5QbGFjZSxjIGFzIGdldEF0dHJpYnV0ZVZhbHVlcyx1IGFzIHJlYWRHZW9tZXRyeX07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4zMy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e18gYXMgZX1mcm9tXCIuLi8uLi8uLi8uLi9jaHVua3MvdHNsaWIuZXM2LmpzXCI7aW1wb3J0IHQgZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9FcnJvci5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vLi4vY29yZS9Mb2dnZXIuanNcIjtpbXBvcnRcIi4uLy4uLy4uLy4uL2NvcmUvaGFzLmpzXCI7aW1wb3J0XCIuLi8uLi8uLi8uLi9jb3JlL1JhbmRvbUxDRy5qc1wiO2ltcG9ydHtzdWJjbGFzcyBhcyByfWZyb21cIi4uLy4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvc3ViY2xhc3MuanNcIjtpbXBvcnR7dW5wYWNrRmllbGROYW1lcyBhcyBzLHBvcHVsYXRlTWlzc2luZ0ZpZWxkcyBhcyBhfWZyb21cIi4uLy4uLy4uLy4uL2xheWVycy9zdXBwb3J0L2ZpZWxkVXRpbHMuanNcIjtpbXBvcnR7Z2V0RmV0Y2hQb3B1cFRlbXBsYXRlIGFzIG8sZ2V0UmVxdWlyZWRGaWVsZHMgYXMgcH1mcm9tXCIuLi8uLi8uLi9sYXllcnMvc3VwcG9ydC9wb3B1cFV0aWxzLmpzXCI7Y29uc3QgaT1pPT57bGV0IGM9Y2xhc3MgZXh0ZW5kcyBpe192YWxpZGF0ZUZldGNoUG9wdXBGZWF0dXJlcyhlKXtjb25zdHtsYXllcjpyfT10aGlzLHtwb3B1cEVuYWJsZWQ6c309cjtpZighcyl0aHJvdyBuZXcgdChcInNjZW5lbGF5ZXJ2aWV3M2Q6ZmV0Y2hQb3B1cEZlYXR1cmVzXCIsXCJQb3B1cHMgYXJlIGRpc2FibGVkXCIse2xheWVyOnJ9KTtpZighbyhyLGUpKXRocm93IG5ldyB0KFwic2NlbmVsYXllcnZpZXczZDpmZXRjaFBvcHVwRmVhdHVyZXNcIixcIkxheWVyIGRvZXMgbm90IGRlZmluZSBhIHBvcHVwIHRlbXBsYXRlXCIse2xheWVyOnJ9KX1hc3luYyBwcmVwYXJlRmV0Y2hQb3B1cEZlYXR1cmVzKGUpe31hc3luYyBmZXRjaFBvcHVwRmVhdHVyZXNGcm9tR3JhcGhpY3MoZSx0KXtpZih0aGlzLl92YWxpZGF0ZUZldGNoUG9wdXBGZWF0dXJlcyh0KSwwPT09ZS5sZW5ndGgpcmV0dXJuW107Y29uc3Qgcj1cInNjZW5lXCI9PT10aGlzLmxheWVyLnR5cGUmJm51bGwhPXRoaXMubGF5ZXIuYXNzb2NpYXRlZExheWVyP3RoaXMubGF5ZXIuYXNzb2NpYXRlZExheWVyOnRoaXMubGF5ZXI7bGV0IGk9W107XCJmaWVsZHNJbmRleFwiaW4gdGhpcy5sYXllciYmKGk9cyh0aGlzLmxheWVyLmZpZWxkc0luZGV4LGF3YWl0IHAocixvKHRoaXMubGF5ZXIsdCkpKSksYXdhaXQgdGhpcy5wcmVwYXJlRmV0Y2hQb3B1cEZlYXR1cmVzKGkpO2NvbnN0IGM9bmV3IFNldCxuPVtdLGw9W107Zm9yKGNvbnN0IHMgb2YgZSlhKHMsaSxjKT9sLnB1c2gocyk6bi5wdXNoKHMpO2lmKDA9PT1sLmxlbmd0aClyZXR1cm4gbjtjb25zdCB1PW5ldyBNYXA7Zm9yKGxldCBzPTA7czxlLmxlbmd0aDtzKyspdS5zZXQoZVtzXS5nZXRPYmplY3RJZCgpPz8wLHMpO2NvbnN0IGg9YXdhaXQgdGhpcy53aGVuR3JhcGhpY0F0dHJpYnV0ZXMobCxbLi4uY10pLmNhdGNoKCgoKT0+bCkpLnRoZW4oKGU9Pm4uY29uY2F0KGUpKSk7cmV0dXJuIGguc29ydCgoKGUsdCk9Pntjb25zdCByPWUuZ2V0T2JqZWN0SWQoKT8/MCxzPXUuZ2V0KHIpPz8wLGE9dC5nZXRPYmplY3RJZCgpPz8wO3JldHVybiBzLSh1LmdldChhKT8/MCl9KSksaH19O3JldHVybiBjPWUoW3IoXCJlc3JpLnZpZXdzLjNkLmxheWVycy5zdXBwb3J0LlBvcHVwU2NlbmVMYXllclZpZXdcIildLGMpLGN9O2V4cG9ydHtpIGFzIFBvcHVwU2NlbmVMYXllclZpZXd9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMzMvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydCByIGZyb21cIi4uLy4uLy4uLy4uL2NvcmUvQ29sbGVjdGlvbi5qc1wiO2ltcG9ydHttYWtlSGFuZGxlIGFzIG99ZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9oYW5kbGVVdGlscy5qc1wiO2ltcG9ydHtpc0dyYXBoaWMgYXMgdH1mcm9tXCIuLi8uLi8uLi8uLi9zdXBwb3J0L2d1YXJkcy5qc1wiO2Z1bmN0aW9uIGUobyl7cmV0dXJuIHIuaXNDb2xsZWN0aW9uKG8pP28udG9BcnJheSgpOkFycmF5LmlzQXJyYXkobyk/bzppKG8pfHx0KG8pfHxjKG8pP1tvXTpufWZ1bmN0aW9uIGkocil7cmV0dXJuXCJudW1iZXJcIj09dHlwZW9mIHJ8fFwic3RyaW5nXCI9PXR5cGVvZiByfWNvbnN0IG49W10scz1vKCk7ZnVuY3Rpb24gYyhyKXtyZXR1cm5cImVzcmkudmlld3MuM2QubGF5ZXJzLmkzcy5Qb2ludENsb3VkR3JhcGhpY1wiPT09ci5kZWNsYXJlZENsYXNzfWV4cG9ydHtzIGFzIGVtcHR5SGlnaGxpZ2h0SGFuZGxlLGkgYXMgaXNPYmplY3RJZCxlIGFzIG5vcm1hbGl6ZUhpZ2hsaWdodFRhcmdldEV4Y2VwdFF1ZXJ5fTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjMzL2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7UmVsb2FkYWJsZVNoYWRlck1vZHVsZSBhcyBlfWZyb21cIi4uL2NvcmUvc2hhZGVyVGVjaG5pcXVlL1JlbG9hZGFibGVTaGFkZXJNb2R1bGUuanNcIjtpbXBvcnR7U2hhZGVyVGVjaG5pcXVlIGFzIHIsZGVwdGhPbmx5T3V0cHV0QnVmZmVyc09yIGFzIHR9ZnJvbVwiLi4vY29yZS9zaGFkZXJUZWNobmlxdWUvU2hhZGVyVGVjaG5pcXVlLmpzXCI7aW1wb3J0e3N0ZW5jaWxCYXNlQWxsWmVyb3NQYXJhbXMgYXMgcyxzdGVuY2lsV3JpdGVNYXNrT24gYXMgaX1mcm9tXCIuLi9saWIvU3RlbmNpbFV0aWxzLmpzXCI7aW1wb3J0e2IgYXMgb31mcm9tXCIuLi8uLi8uLi8uLi9jaHVua3MvUG9pbnRSZW5kZXJlci5nbHNsLmpzXCI7aW1wb3J0e0NvbXBhcmVGdW5jdGlvbiBhcyBsfWZyb21cIi4uLy4uLy4uL3dlYmdsL2VudW1zLmpzXCI7aW1wb3J0e21ha2VQaXBlbGluZVN0YXRlIGFzIG4sZGVmYXVsdENvbG9yV3JpdGUgYXMgYyxkZWZhdWx0RGVwdGhXcml0ZSBhcyB1fWZyb21cIi4uLy4uLy4uL3dlYmdsL3JlbmRlclN0YXRlLmpzXCI7Y2xhc3MgZCBleHRlbmRzIHJ7Y29uc3RydWN0b3Iocix0KXtzdXBlcihyLHQsbmV3IGUobywoKCk9PmltcG9ydChcIi4vUG9pbnRSZW5kZXJlci5nbHNsLmpzXCIpKSkpfWluaXRpYWxpemVQaXBlbGluZShlKXtyZXR1cm4gbih7ZGVwdGhUZXN0OntmdW5jOmwuTEVTU30sZGVwdGhXcml0ZTp1LGNvbG9yV3JpdGU6YyxzdGVuY2lsV3JpdGU6ZS5oYXNPY2NsdWRlZXM/aTpudWxsLHN0ZW5jaWxUZXN0OmUuaGFzT2NjbHVkZWVzP3M6bnVsbCxkcmF3QnVmZmVyczp0KGUub3V0cHV0KX0pfX1leHBvcnR7ZCBhcyBQb2ludFJlbmRlcmVyVGVjaG5pcXVlfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjMzL2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7XyBhcyBlfWZyb21cIi4uLy4uLy4uLy4uL2NodW5rcy90c2xpYi5lczYuanNcIjtpbXBvcnR7cGFyYW1ldGVyIGFzIGl9ZnJvbVwiLi4vY29yZS9zaGFkZXJUZWNobmlxdWUvU2hhZGVyVGVjaG5pcXVlQ29uZmlndXJhdGlvbi5qc1wiO2ltcG9ydHtEZWZhdWx0VGVjaG5pcXVlQ29uZmlndXJhdGlvbiBhcyBzfWZyb21cIi4uL21hdGVyaWFscy9EZWZhdWx0VGVjaG5pcXVlQ29uZmlndXJhdGlvbi5qc1wiO2NsYXNzIG8gZXh0ZW5kcyBze2NvbnN0cnVjdG9yKCl7c3VwZXIoLi4uYXJndW1lbnRzKSx0aGlzLmRyYXdTY3JlZW5TaXplPSExLHRoaXMudXNlRml4ZWRTaXplcz0hMSx0aGlzLmhhc09jY2x1ZGVlcz0hMSx0aGlzLmNsaXBwaW5nRW5hYmxlZD0hMSx0aGlzLmRyYXBlZD0hMX19ZShbaSgpXSxvLnByb3RvdHlwZSxcImRyYXdTY3JlZW5TaXplXCIsdm9pZCAwKSxlKFtpKCldLG8ucHJvdG90eXBlLFwidXNlRml4ZWRTaXplc1wiLHZvaWQgMCksZShbaSgpXSxvLnByb3RvdHlwZSxcImhhc09jY2x1ZGVlc1wiLHZvaWQgMCksZShbaSgpXSxvLnByb3RvdHlwZSxcImNsaXBwaW5nRW5hYmxlZFwiLHZvaWQgMCk7ZXhwb3J0e28gYXMgUG9pbnRSZW5kZXJlclRlY2huaXF1ZUNvbmZpZ3VyYXRpb259O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMzMvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtfIGFzIGV9ZnJvbVwiLi4vLi4vY2h1bmtzL3RzbGliLmVzNi5qc1wiO2ltcG9ydCB0IGZyb21cIi4uLy4uL2NvcmUvQWNjZXNzb3IuanNcIjtpbXBvcnQgciBmcm9tXCIuLi8uLi9jb3JlL0V2ZW50ZWQuanNcIjtpbXBvcnQgaSBmcm9tXCIuLi8uLi9jb3JlL0lkZW50aWZpYWJsZS5qc1wiO2ltcG9ydCBzIGZyb21cIi4uLy4uL2NvcmUvTG9nZ2VyLmpzXCI7aW1wb3J0e2Rlc3Ryb3lNYXliZSBhcyBufWZyb21cIi4uLy4uL2NvcmUvbWF5YmUuanNcIjtpbXBvcnQgbCBmcm9tXCIuLi8uLi9jb3JlL1Byb21pc2UuanNcIjtpbXBvcnR7cHJvcGVydHkgYXMgb31mcm9tXCIuLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3Byb3BlcnR5LmpzXCI7aW1wb3J0XCIuLi8uLi9jb3JlL2hhcy5qc1wiO2ltcG9ydFwiLi4vLi4vY29yZS9SYW5kb21MQ0cuanNcIjtpbXBvcnR7c3ViY2xhc3MgYXMgYX1mcm9tXCIuLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3N1YmNsYXNzLmpzXCI7aW1wb3J0e1VwZGF0aW5nSGFuZGxlcyBhcyBwfWZyb21cIi4uLy4uL2NvcmUvc3VwcG9ydC9VcGRhdGluZ0hhbmRsZXMuanNcIjtpbXBvcnR7dmFsaWRhdGVTY2FsZVJhbmdlIGFzIGR9ZnJvbVwiLi4vc3VwcG9ydC9sYXllclZpZXdVdGlscy5qc1wiO2xldCB1PWNsYXNzIGV4dGVuZHMoaS5JZGVudGlmaWFibGVNaXhpbihsLkVzcmlQcm9taXNlTWl4aW4oci5FdmVudGVkTWl4aW4odCkpKSl7Z2V0IHNwYXRpYWxSZWZlcmVuY2VTdXBwb3J0ZWQoKXtyZXR1cm4hMH1jb25zdHJ1Y3RvcihlKXtzdXBlcihlKSx0aGlzLl91cGRhdGluZ0hhbmRsZXM9bmV3IHAsdGhpcy5sYXllcj1udWxsLHRoaXMucGFyZW50PW51bGx9aW5pdGlhbGl6ZSgpe3RoaXMud2hlbigpLmNhdGNoKChlPT57aWYoXCJsYXllcnZpZXc6Y3JlYXRlLWVycm9yXCIhPT1lLm5hbWUpe2NvbnN0IHQ9dGhpcy5sYXllciYmdGhpcy5sYXllci5pZHx8XCJubyBpZFwiLHI9dGhpcy5sYXllcj8udGl0bGV8fFwibm8gdGl0bGVcIjtzLmdldExvZ2dlcih0aGlzKS5lcnJvcihcIiNyZXNvbHZlKClcIixgRmFpbGVkIHRvIHJlc29sdmUgbGF5ZXIgdmlldyAobGF5ZXIgdGl0bGU6ICcke3J9JywgaWQ6ICcke3R9JylgLGUpfX0pKX1kZXN0cm95KCl7dGhpcy5fdXBkYXRpbmdIYW5kbGVzPW4odGhpcy5fdXBkYXRpbmdIYW5kbGVzKX1nZXQgZnVsbE9wYWNpdHkoKXtyZXR1cm4odGhpcy5sYXllcj8ub3BhY2l0eT8/MSkqKHRoaXMucGFyZW50Py5mdWxsT3BhY2l0eT8/MSl9Z2V0IHN1c3BlbmRlZCgpe3JldHVybiB0aGlzLmRlc3Ryb3llZHx8IXRoaXMuY2FuUmVzdW1lKCl9Z2V0IHN1c3BlbmRJbmZvKCl7cmV0dXJuIHRoaXMuZ2V0U3VzcGVuZEluZm8oKX1nZXQgbGVnZW5kRW5hYmxlZCgpe3JldHVybiF0aGlzLnN1c3BlbmRlZCYmITA9PT10aGlzLmxheWVyPy5sZWdlbmRFbmFibGVkfWdldCB1cGRhdGluZygpe3JldHVybiEoIXRoaXMuX3VwZGF0aW5nSGFuZGxlcz8udXBkYXRpbmcmJiF0aGlzLmlzVXBkYXRpbmcoKSl9Z2V0IHVwZGF0aW5nUHJvZ3Jlc3MoKXtyZXR1cm4gdGhpcy51cGRhdGluZz8wOjF9Z2V0IHVwZGF0ZVN1c3BlbmRlZCgpe3JldHVybiB0aGlzLnN1c3BlbmRlZH1nZXQgdmlzaWJsZSgpe3JldHVybiEwPT09dGhpcy5sYXllcj8udmlzaWJsZX1zZXQgdmlzaWJsZShlKXt0aGlzLl9vdmVycmlkZUlmU29tZShcInZpc2libGVcIixlKX1nZXQgdmlzaWJsZUF0Q3VycmVudFNjYWxlKCl7cmV0dXJuITB9Z2V0IHZpc2libGVBdEN1cnJlbnRUaW1lRXh0ZW50KCl7Y29uc3QgZT10aGlzLnZpZXcudGltZUV4dGVudCx0PXRoaXMubGF5ZXI/LnZpc2liaWxpdHlUaW1lRXh0ZW50O3JldHVybiFlfHwhdHx8IWUuaW50ZXJzZWN0aW9uKHQpLmlzRW1wdHl9Y2FuUmVzdW1lKCl7Y29uc3QgZT10aGlzLmxheWVyJiZcImVmZmVjdGl2ZVNjYWxlUmFuZ2VcImluIHRoaXMubGF5ZXI/dGhpcy5sYXllci5lZmZlY3RpdmVTY2FsZVJhbmdlOm51bGw7cmV0dXJuIHRoaXMudmlzaWJsZSYmdGhpcy5sYXllcj8ubG9hZGVkJiZ0aGlzLnBhcmVudCYmIXRoaXMucGFyZW50LnN1c3BlbmRlZCYmdGhpcy52aWV3Py5yZWFkeSYmZChlKSYmdGhpcy52aXNpYmxlQXRDdXJyZW50U2NhbGUmJnRoaXMudmlzaWJsZUF0Q3VycmVudFRpbWVFeHRlbnR8fCExfWdldFN1c3BlbmRJbmZvKCl7Y29uc3QgZT10aGlzLnBhcmVudD8uc3VzcGVuZGVkP3RoaXMucGFyZW50LnN1c3BlbmRJbmZvOnt9LHQ9dGhpczt0LnZpZXc/LnJlYWR5fHwoZS52aWV3Tm90UmVhZHk9ITApLHRoaXMubGF5ZXImJnRoaXMubGF5ZXIubG9hZGVkfHwoZS5sYXllck5vdExvYWRlZD0hMCk7Y29uc3Qgcj10aGlzLmxheWVyJiZcImVmZmVjdGl2ZVNjYWxlUmFuZ2VcImluIHRoaXMubGF5ZXI/dGhpcy5sYXllci5lZmZlY3RpdmVTY2FsZVJhbmdlOm51bGw7cmV0dXJuIGQocikmJnRoaXMudmlzaWJsZUF0Q3VycmVudFNjYWxlfHwoZS5vdXRzaWRlU2NhbGVSYW5nZT0hMCksdGhpcy52aXNpYmxlQXRDdXJyZW50VGltZUV4dGVudHx8KGUub3V0c2lkZVZpc2liaWxpdHlUaW1lRXh0ZW50PSEwKSx0aGlzLnZpc2libGV8fChlLmxheWVySW52aXNpYmxlPSEwKSxlfWlzVXBkYXRpbmcoKXtyZXR1cm4hMX19O2UoW28oe3JlYWRPbmx5OiEwfSldLHUucHJvdG90eXBlLFwic3BhdGlhbFJlZmVyZW5jZVN1cHBvcnRlZFwiLG51bGwpLGUoW28oKV0sdS5wcm90b3R5cGUsXCJ2aWV3XCIsdm9pZCAwKSxlKFtvKCldLHUucHJvdG90eXBlLFwiZnVsbE9wYWNpdHlcIixudWxsKSxlKFtvKCldLHUucHJvdG90eXBlLFwibGF5ZXJcIix2b2lkIDApLGUoW28oKV0sdS5wcm90b3R5cGUsXCJwYXJlbnRcIix2b2lkIDApLGUoW28oe3JlYWRPbmx5OiEwfSldLHUucHJvdG90eXBlLFwic3VzcGVuZGVkXCIsbnVsbCksZShbbyh7cmVhZE9ubHk6ITB9KV0sdS5wcm90b3R5cGUsXCJzdXNwZW5kSW5mb1wiLG51bGwpLGUoW28oe3JlYWRPbmx5OiEwfSldLHUucHJvdG90eXBlLFwibGVnZW5kRW5hYmxlZFwiLG51bGwpLGUoW28oe3R5cGU6Qm9vbGVhbixyZWFkT25seTohMH0pXSx1LnByb3RvdHlwZSxcInVwZGF0aW5nXCIsbnVsbCksZShbbyh7cmVhZE9ubHk6ITB9KV0sdS5wcm90b3R5cGUsXCJ1cGRhdGluZ1Byb2dyZXNzXCIsbnVsbCksZShbbygpXSx1LnByb3RvdHlwZSxcInVwZGF0ZVN1c3BlbmRlZFwiLG51bGwpLGUoW28oKV0sdS5wcm90b3R5cGUsXCJ2aXNpYmxlXCIsbnVsbCksZShbbyh7cmVhZE9ubHk6ITB9KV0sdS5wcm90b3R5cGUsXCJ2aXNpYmxlQXRDdXJyZW50U2NhbGVcIixudWxsKSxlKFtvKHtyZWFkT25seTohMH0pXSx1LnByb3RvdHlwZSxcInZpc2libGVBdEN1cnJlbnRUaW1lRXh0ZW50XCIsbnVsbCksdT1lKFthKFwiZXNyaS52aWV3cy5sYXllcnMuTGF5ZXJWaWV3XCIpXSx1KTtleHBvcnR7dSBhcyBkZWZhdWx0fTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjMzL2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7XyBhcyByfWZyb21cIi4uLy4uL2NodW5rcy90c2xpYi5lczYuanNcIjtpbXBvcnR7cHJvcGVydHkgYXMgZX1mcm9tXCIuLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3Byb3BlcnR5LmpzXCI7aW1wb3J0XCIuLi8uLi9jb3JlL2hhcy5qc1wiO2ltcG9ydFwiLi4vLi4vY29yZS9Mb2dnZXIuanNcIjtpbXBvcnRcIi4uLy4uL2NvcmUvUmFuZG9tTENHLmpzXCI7aW1wb3J0e3N1YmNsYXNzIGFzIG99ZnJvbVwiLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9zdWJjbGFzcy5qc1wiO2NvbnN0IHQ9dD0+e2xldCBzPWNsYXNzIGV4dGVuZHMgdHtjb25zdHJ1Y3Rvcigpe3N1cGVyKC4uLmFyZ3VtZW50cyksdGhpcy5sYXllcj1udWxsfWdldCBhdmFpbGFibGVGaWVsZHMoKXtyZXR1cm5bXX1oaWdobGlnaHQoKXt0aHJvdyBuZXcgRXJyb3IoXCJOb3QgaW1wbGVtZW50ZWRcIil9cXVlcnlGZWF0dXJlcygpe3Rocm93IG5ldyBFcnJvcihcIk5vdCBpbXBsZW1lbnRlZFwiKX1xdWVyeUZlYXR1cmVDb3VudCgpe3Rocm93IG5ldyBFcnJvcihcIk5vdCBpbXBsZW1lbnRlZFwiKX1jcmVhdGVRdWVyeSgpe3Rocm93IG5ldyBFcnJvcihcIk5vdCBpbXBsZW1lbnRlZFwiKX1xdWVyeUV4dGVudCgpe3Rocm93IG5ldyBFcnJvcihcIk5vdCBpbXBsZW1lbnRlZFwiKX19O3JldHVybiByKFtlKCldLHMucHJvdG90eXBlLFwibGF5ZXJcIix2b2lkIDApLHIoW2UoKV0scy5wcm90b3R5cGUsXCJhdmFpbGFibGVGaWVsZHNcIixudWxsKSxzPXIoW28oXCJlc3JpLnZpZXdzLmxheWVycy5Qb2ludENsb3VkTGF5ZXJWaWV3XCIpXSxzKSxzfTtleHBvcnR7dCBhcyBkZWZhdWx0fTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjMzL2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7Z2V0RmVhdHVyZUVkaXRGaWVsZHMgYXMgZSxmaXhGaWVsZHMgYXMgbH1mcm9tXCIuLi8uLi8uLi9sYXllcnMvc3VwcG9ydC9maWVsZFV0aWxzLmpzXCI7YXN5bmMgZnVuY3Rpb24gbihuLHA9bi5wb3B1cFRlbXBsYXRlKXtpZihudWxsPT1wKXJldHVybltdO2NvbnN0IHU9YXdhaXQgcC5nZXRSZXF1aXJlZEZpZWxkcyhuLmZpZWxkc0luZGV4KSx7bGFzdEVkaXRJbmZvRW5hYmxlZDp0fT1wLHtvYmplY3RJZEZpZWxkOmQsdHlwZUlkRmllbGQ6cyxnbG9iYWxJZEZpZWxkOmkscmVsYXRpb25zaGlwczphfT1uO2lmKHUuaW5jbHVkZXMoXCIqXCIpKXJldHVybltcIipcIl07Y29uc3Qgbz10P2Uobik6W10sZj1sKG4uZmllbGRzSW5kZXgsWy4uLnUsLi4ub10pO3JldHVybiBzJiZmLnB1c2gocyksZiYmZCYmbi5maWVsZHNJbmRleD8uaGFzKGQpJiYhZi5pbmNsdWRlcyhkKSYmZi5wdXNoKGQpLGYmJmkmJm4uZmllbGRzSW5kZXg/LmhhcyhpKSYmIWYuaW5jbHVkZXMoaSkmJmYucHVzaChpKSxhJiZhLmZvckVhY2goKGU9Pntjb25zdHtrZXlGaWVsZDpsfT1lO2YmJmwmJm4uZmllbGRzSW5kZXg/LmhhcyhsKSYmIWYuaW5jbHVkZXMobCkmJmYucHVzaChsKX0pKSxmfWZ1bmN0aW9uIHAoZSxsKXtyZXR1cm4gZS5wb3B1cFRlbXBsYXRlP2UucG9wdXBUZW1wbGF0ZTpudWxsIT1sJiZsLmRlZmF1bHRQb3B1cFRlbXBsYXRlRW5hYmxlZCYmbnVsbCE9ZS5kZWZhdWx0UG9wdXBUZW1wbGF0ZT9lLmRlZmF1bHRQb3B1cFRlbXBsYXRlOm51bGx9ZnVuY3Rpb24gdShlLGwpe3JldHVybiBudWxsIT1wKGUse2RlZmF1bHRQb3B1cFRlbXBsYXRlRW5hYmxlZDpsfSl9ZXhwb3J0e3AgYXMgZ2V0RmV0Y2hQb3B1cFRlbXBsYXRlLG4gYXMgZ2V0UmVxdWlyZWRGaWVsZHMsdSBhcyBoYXNQb3B1cFRlbXBsYXRlfTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==